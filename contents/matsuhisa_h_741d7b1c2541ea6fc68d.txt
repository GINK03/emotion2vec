{"context": " More than 1 year has passed since last update.\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u7acb\u3061\u4e0a\u3052\u305f\u3089\u3001\u3059\u3067\u306b\u5165\u3063\u3066\u3044\u3066\u307b\u3057\u3044\u30c7\u30fc\u30bf\u30fc\u304c\u3042\u308a\u307e\u3059\uff08\u4f8b\u3048\u3070\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3068\u304b\u2026\uff09\u3002\n\nCoraData \u3092\u4f7f\u3046\n\n\u521d\u3081\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308b\u6642\u3067\u3042\u308c\u3070\u3001CoreData \u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u5bfe\u5fdc\n\u8ffd\u52a0\u3067\u4f7f\u3046\u5834\u5408\u306f\u3001\u5225\u306e\u8a71\n\n\nCoreData \u306e Entities\n\n\nplist \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\niOS -> Resource -> Property List\n\n\n\n\u8ffd\u52a0\u3057\u305fplist\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\n\nplist\u306b\u30c7\u30fc\u30bf\u30fc\u3092\u767b\u9332\u3059\u308b\n\n\u30d5\u30a1\u30a4\u30eb\u306f\u300cMasterdata.plist\u300d\nDictionary \u3067\u767b\u9332\u3057\u3066\u304a\u304f\n\n\n\n\u767b\u9332\u3057\u3066\u307f\u305f\u30b5\u30f3\u30d7\u30eb\n\n\nplist\u304b\u3089\u30c7\u30fc\u30bf\u30fc\u3092\u8aad\u307f\u53d6\u308a\u30c7\u30fc\u30bf\u30fc\u3092\u767b\u9332\u3059\u308b\n    func initMasters() {\n        println(\"initMasters ------------\")\n\n        // plist \u306e\u8aad\u307f\u8fbc\u307f\n        let path:NSString = NSBundle.mainBundle().pathForResource(\"Masterdata\", ofType: \"plist\")!\n\n        var masterDataDictionary:NSDictionary = NSDictionary(contentsOfFile: path)\n\n\n        let app: AppDelegate = UIApplication.sharedApplication().delegate as AppDelegate\n        let categoryContext: NSManagedObjectContext = app.managedObjectContext!\n\n        for(var i = 1; i<=masterDataDictionary.count; i++) {\n            let index_name: String = \"Category\" + String(i)\n            var item: AnyObject = masterDataDictionary[index_name]!\n            println(item[\"name\"])\n\n            let categoryEntity: NSEntityDescription! = NSEntityDescription.entityForName(\n                \"Categories\",\n                inManagedObjectContext: categoryContext\n            )\n            var new_data  = NSManagedObject(entity: categoryEntity, insertIntoManagedObjectContext: categoryContext)\n            //new_data.name = item[\"name\"] as String\n            new_data.setValue(item[\"name\"] as String, forKey: \"name\")\n\n            var error: NSError?\n            categoryContext.save(&error)\n        }\n\n\n        println(\"------------\")\n    }\n\n\n\u30c7\u30fc\u30bf\u30fc\u304c\u3042\u308c\u3070\u5b9f\u884c\u3057\u306a\u3044\n\u521d\u671f\u30c7\u30fc\u30bf\u30fc\u306f\u4e00\u56de\u767b\u9332\u3057\u305f\u3089\u3001\u3082\u3046\u3044\u3044\u306e\u3067\u30c7\u30fc\u30bf\u30fc\u3092\u8aad\u307f\u53d6\u3063\u3066\u5b58\u5728\u3057\u306a\u304b\u3063\u305f\u3089\u6295\u5165\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\uff08sqlite\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u6709\u7121\u3068\u304b\u3082\u3042\u308b\u3068\u601d\u3046\u3093\u3067\u3059\u3051\u308c\u3069\uff09\n    override func viewDidLoad() {\n        super.viewDidLoad()       \n        var results:NSArray = readData()\n        if(results.count == 0) {\n            // \u521d\u671f\u30c7\u30fc\u30bf\u30fc\u306e\u6295\u5165\n            initMasters()\n            results = readData()\n        }\n    }\n\n\n\u5168\u4f53\n//  ViewController.swift\n//  TestAppCoreDataInitApp01\n\nimport UIKit\nimport CoreData\n\nclass ViewController: UIViewController {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        var results:NSArray = readData()\n\n        if(results.count == 0) {\n            // \u521d\u671f\u30c7\u30fc\u30bf\u30fc\u306e\u6295\u5165\n            initMasters()\n            results = readData()\n        }\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n\n    func readData() -> NSArray{\n        println(\"readData ------------\")\n        let app: AppDelegate = UIApplication.sharedApplication().delegate as AppDelegate\n        let categoryContext: NSManagedObjectContext = app.managedObjectContext!\n        let categoryRequest: NSFetchRequest = NSFetchRequest(entityName: \"Categories\")\n\n        var results: NSArray! = categoryContext.executeFetchRequest(categoryRequest, error: nil)\n        for data in results {\n            println(\"------------\")\n            println(data.name?)\n            println(\"------------\")\n        }\n\n        return results\n    }\n\n    func initMasters() {\n        println(\"initMasters ------------\")\n\n        // plist \u306e\u8aad\u307f\u8fbc\u307f\n        let path:NSString = NSBundle.mainBundle().pathForResource(\"Masterdata\", ofType: \"plist\")!\n\n        var masterDataDictionary:NSDictionary = NSDictionary(contentsOfFile: path)\n\n\n        let app: AppDelegate = UIApplication.sharedApplication().delegate as AppDelegate\n        let categoryContext: NSManagedObjectContext = app.managedObjectContext!\n\n        for(var i = 1; i<=masterDataDictionary.count; i++) {\n            let index_name: String = \"Category\" + String(i)\n            var item: AnyObject = masterDataDictionary[index_name]!\n            println(item[\"name\"])\n\n            let categoryEntity: NSEntityDescription! = NSEntityDescription.entityForName(\n                \"Categories\",\n                inManagedObjectContext: categoryContext\n            )\n            var new_data  = NSManagedObject(entity: categoryEntity, insertIntoManagedObjectContext: categoryContext)\n            //new_data.name = item[\"name\"] as String\n            new_data.setValue(item[\"name\"] as String, forKey: \"name\")\n\n            var error: NSError?\n            categoryContext.save(&error)\n        }\n\n\n        println(\"------------\")\n    }\n\n}\n\n\n\n\u5b9f\u884c\u74b0\u5883\n\nXcode 6.0\niOS 8\n\n\n\u53c2\u8003\n\nhttp://onot.tumblr.com/post/33772954734/coredata\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u7acb\u3061\u4e0a\u3052\u305f\u3089\u3001\u3059\u3067\u306b\u5165\u3063\u3066\u3044\u3066\u307b\u3057\u3044\u30c7\u30fc\u30bf\u30fc\u304c\u3042\u308a\u307e\u3059\uff08\u4f8b\u3048\u3070\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3068\u304b\u2026\uff09\u3002\n\n# CoraData \u3092\u4f7f\u3046\n\n* \u521d\u3081\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308b\u6642\u3067\u3042\u308c\u3070\u3001CoreData \u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u5bfe\u5fdc\n* \u8ffd\u52a0\u3067\u4f7f\u3046\u5834\u5408\u306f\u3001\u5225\u306e\u8a71\n\n## CoreData \u306e Entities\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-04-20 23.20.33.png](https://qiita-image-store.s3.amazonaws.com/0/21321/41ff0bb3-9283-b340-ce70-83bc5e3eb01d.png)\n\n\n# plist \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\n\n* \u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\n* iOS -> Resource -> Property List\n\n\n![plist.png](https://qiita-image-store.s3.amazonaws.com/0/21321/1ace8093-08c3-94eb-d88f-aa7b5aa66e7e.png)\n\n## \u8ffd\u52a0\u3057\u305fplist\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-04-20 23.04.25.png](https://qiita-image-store.s3.amazonaws.com/0/21321/777847a7-ee63-e074-632b-8783654328a2.png)\n\n## plist\u306b\u30c7\u30fc\u30bf\u30fc\u3092\u767b\u9332\u3059\u308b\n\n* \u30d5\u30a1\u30a4\u30eb\u306f\u300cMasterdata.plist\u300d\n* Dictionary \u3067\u767b\u9332\u3057\u3066\u304a\u304f\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-04-19 16.40.27.png](https://qiita-image-store.s3.amazonaws.com/0/21321/76930a18-6882-73cc-177d-475f78407bd5.png)\n\n### \u767b\u9332\u3057\u3066\u307f\u305f\u30b5\u30f3\u30d7\u30eb\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-04-20 23.16.09.png](https://qiita-image-store.s3.amazonaws.com/0/21321/a41c0524-3dcc-cde2-176e-af58644ceca1.png)\n\n\n\n## plist\u304b\u3089\u30c7\u30fc\u30bf\u30fc\u3092\u8aad\u307f\u53d6\u308a\u30c7\u30fc\u30bf\u30fc\u3092\u767b\u9332\u3059\u308b\n\n```swift\n    func initMasters() {\n        println(\"initMasters ------------\")\n       \n        // plist \u306e\u8aad\u307f\u8fbc\u307f\n        let path:NSString = NSBundle.mainBundle().pathForResource(\"Masterdata\", ofType: \"plist\")!\n       \n        var masterDataDictionary:NSDictionary = NSDictionary(contentsOfFile: path)\n\n\n        let app: AppDelegate = UIApplication.sharedApplication().delegate as AppDelegate\n        let categoryContext: NSManagedObjectContext = app.managedObjectContext!\n       \n        for(var i = 1; i<=masterDataDictionary.count; i++) {\n            let index_name: String = \"Category\" + String(i)\n            var item: AnyObject = masterDataDictionary[index_name]!\n            println(item[\"name\"])\n           \n            let categoryEntity: NSEntityDescription! = NSEntityDescription.entityForName(\n                \"Categories\",\n                inManagedObjectContext: categoryContext\n            )\n            var new_data  = NSManagedObject(entity: categoryEntity, insertIntoManagedObjectContext: categoryContext)\n            //new_data.name = item[\"name\"] as String\n            new_data.setValue(item[\"name\"] as String, forKey: \"name\")\n           \n            var error: NSError?\n            categoryContext.save(&error)\n        }\n       \n       \n        println(\"------------\")\n    }\n```\n\n# \u30c7\u30fc\u30bf\u30fc\u304c\u3042\u308c\u3070\u5b9f\u884c\u3057\u306a\u3044\n\n\u521d\u671f\u30c7\u30fc\u30bf\u30fc\u306f\u4e00\u56de\u767b\u9332\u3057\u305f\u3089\u3001\u3082\u3046\u3044\u3044\u306e\u3067\u30c7\u30fc\u30bf\u30fc\u3092\u8aad\u307f\u53d6\u3063\u3066\u5b58\u5728\u3057\u306a\u304b\u3063\u305f\u3089\u6295\u5165\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\uff08sqlite\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u6709\u7121\u3068\u304b\u3082\u3042\u308b\u3068\u601d\u3046\u3093\u3067\u3059\u3051\u308c\u3069\uff09\n\n\n```swift\n    override func viewDidLoad() {\n        super.viewDidLoad()       \n        var results:NSArray = readData()\n        if(results.count == 0) {\n            // \u521d\u671f\u30c7\u30fc\u30bf\u30fc\u306e\u6295\u5165\n            initMasters()\n            results = readData()\n        }\n    }\n```\n\n# \u5168\u4f53\n\n```swift\n//  ViewController.swift\n//  TestAppCoreDataInitApp01\n\nimport UIKit\nimport CoreData\n\nclass ViewController: UIViewController {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        var results:NSArray = readData()\n\n        if(results.count == 0) {\n            // \u521d\u671f\u30c7\u30fc\u30bf\u30fc\u306e\u6295\u5165\n            initMasters()\n            results = readData()\n        }\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n\n    func readData() -> NSArray{\n        println(\"readData ------------\")\n        let app: AppDelegate = UIApplication.sharedApplication().delegate as AppDelegate\n        let categoryContext: NSManagedObjectContext = app.managedObjectContext!\n        let categoryRequest: NSFetchRequest = NSFetchRequest(entityName: \"Categories\")\n\n        var results: NSArray! = categoryContext.executeFetchRequest(categoryRequest, error: nil)\n        for data in results {\n            println(\"------------\")\n            println(data.name?)\n            println(\"------------\")\n        }\n        \n        return results\n    }\n    \n    func initMasters() {\n        println(\"initMasters ------------\")\n        \n        // plist \u306e\u8aad\u307f\u8fbc\u307f\n        let path:NSString = NSBundle.mainBundle().pathForResource(\"Masterdata\", ofType: \"plist\")!\n        \n        var masterDataDictionary:NSDictionary = NSDictionary(contentsOfFile: path)\n\n\n        let app: AppDelegate = UIApplication.sharedApplication().delegate as AppDelegate\n        let categoryContext: NSManagedObjectContext = app.managedObjectContext!\n        \n        for(var i = 1; i<=masterDataDictionary.count; i++) {\n            let index_name: String = \"Category\" + String(i)\n            var item: AnyObject = masterDataDictionary[index_name]!\n            println(item[\"name\"])\n            \n            let categoryEntity: NSEntityDescription! = NSEntityDescription.entityForName(\n                \"Categories\",\n                inManagedObjectContext: categoryContext\n            )\n            var new_data  = NSManagedObject(entity: categoryEntity, insertIntoManagedObjectContext: categoryContext)\n            //new_data.name = item[\"name\"] as String\n            new_data.setValue(item[\"name\"] as String, forKey: \"name\")\n            \n            var error: NSError?\n            categoryContext.save(&error)\n        }\n        \n        \n        println(\"------------\")\n    }\n    \n}\n\n```\n\n# \u5b9f\u884c\u74b0\u5883\n\n* Xcode 6.0\n* iOS 8\n\n# \u53c2\u8003\n\n* http://onot.tumblr.com/post/33772954734/coredata\n", "tags": ["Swift", "Xcode", "Xcode6", "CoreData"]}