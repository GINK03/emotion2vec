{"tags": ["C#", "XML", "Seriallizer", "VisualStudio"], "context": " More than 1 year has passed since last update.\n\nC# \u30ea\u30af\u30a8\u30b9\u30c8\u3057\u305fXML\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30b9\u306b\u53d6\u308a\u8fbc\u307f\u305f\u3044\n\n\u4f5c\u308d\u3046\u3068\u601d\u3063\u305f\u7406\u7531\n\u3000API\u304b\u3089XML\u3092\u53d6\u5f97\u3057\u305f\u969b\u306b\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066\u5024\u3092\u624b\u8efd\u306b\u53d6\u308a\u305f\u304b\u3063\u305f\u304b\u3089\n\n\u30a4\u30e1\u30fc\u30b8\u56f3\n\n\nXML\u30d5\u30a1\u30a4\u30eb\u3068\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\n\u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\u7528\u306exml\u3092\u4f5c\u6210\u3059\u308b\u3002\n\nsample.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Root>\n  <data>\n    <id>01</id>\n    <text>Hello!</text>\n  </data>\n</Root>\n\n\nXML\u306e\u69cb\u9020\u306b\u3042\u308f\u305b\u3066\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u203b\u3053\u306e\u3068\u304d\u30af\u30e9\u30b9\u3084\u30e1\u30f3\u30d0\u30fc\u3092Public\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002Seriallizer\u3067\u8aad\u307f\u8fbc\u3081\u306a\u3044\u3068\u304d\u306f\u3001Public\u3067\u306f\u306a\u3044\u3053\u3068\u3092\u7591\u3063\u305f\u65b9\u304c\u3044\u3044\n\nSampleXMLData.cs\nusing System.Xml.Serialization;\n\nnamespace URLRequest\n{\n    [XmlRoot(\"Root\")]\n    public class SampleXMLData\n    {\n        [XmlElement(\"data\")]\n        public XMLData xmlData;\n    }\n\n    public class XMLData\n    {\n        [XmlElement(\"id\")]\n        public string id;\n\n        [XmlElement(\"text\")]\n        public string text;\n    }\n}\n\n\n\nSeriallizer\nXML\u306e\u6587\u5b57\u5217\u3092\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u306b\u6d41\u3057\u8fbc\u3080\n\nCustomXMLSeriallizer.cs\nusing System.IO;\nusing System.Xml.Serialization;\n\nnamespace URLRequest\n{\n    public static class CustomXMLSeriallizer\n    {\n        public static T LoadXmlDataString<T>(string xmltext) where T : class\n        {\n            XmlSerializer serializer =new XmlSerializer(typeof(T));\n            StringReader reader = new StringReader(xmltext);\n            T loadAry = (T)serializer.Deserialize(reader);\n            reader.Close();\n            return loadAry;\n        }\n    }\n}\n\n\n\n\u30e1\u30a4\u30f3\n\nProgram.cs\nusing System;\nusing System.IO;\nusing System.Net;\nusing System.Text;\n\nnamespace URLRequest\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Encoding enc = Encoding.GetEncoding(\"UTF-8\");\n            string url = \"http://127.0.0.1/sandbox/sample/xml/sample.xml\";\n\n            WebRequest req = WebRequest.Create(url);\n            WebResponse res = req.GetResponse();\n\n            Stream st = res.GetResponseStream();\n            StreamReader sr = new StreamReader(st, enc);\n            string xml = sr.ReadToEnd();\n            sr.Close();\n            st.Close();\n\n            Console.WriteLine(xml);\n\n            SampleXMLData xmlDatas = CustomXMLSeriallizer.LoadXmlDataString<SampleXMLData>(xml);\n\n            Console.WriteLine(\"--------\");\n            Console.WriteLine(\"id  :\" + xmlDatas.xmlData.id);\n            Console.WriteLine(\"text:\" + xmlDatas.xmlData.text);\n            Console.WriteLine(\"--------\");\n            Console.ReadKey();\n        }\n    }\n}\n\n\n\n\u7d50\u679c\n\n# C# \u30ea\u30af\u30a8\u30b9\u30c8\u3057\u305fXML\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30b9\u306b\u53d6\u308a\u8fbc\u307f\u305f\u3044\n\n## \u4f5c\u308d\u3046\u3068\u601d\u3063\u305f\u7406\u7531\n\u3000API\u304b\u3089XML\u3092\u53d6\u5f97\u3057\u305f\u969b\u306b\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6307\u5b9a\u3057\u3066\u5024\u3092\u624b\u8efd\u306b\u53d6\u308a\u305f\u304b\u3063\u305f\u304b\u3089\n\n## \u30a4\u30e1\u30fc\u30b8\u56f3\n![URLRequest.png](https://qiita-image-store.s3.amazonaws.com/0/111261/ba81a4ae-2ea7-6a1a-194c-83daf541741b.png)\n\n## XML\u30d5\u30a1\u30a4\u30eb\u3068\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\n \u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\u7528\u306exml\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```xml:sample.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Root>\n  <data>\n    <id>01</id>\n    <text>Hello!</text>\n  </data>\n</Root>\n```\n\nXML\u306e\u69cb\u9020\u306b\u3042\u308f\u305b\u3066\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u203b\u3053\u306e\u3068\u304d\u30af\u30e9\u30b9\u3084\u30e1\u30f3\u30d0\u30fc\u3092Public\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002Seriallizer\u3067\u8aad\u307f\u8fbc\u3081\u306a\u3044\u3068\u304d\u306f\u3001Public\u3067\u306f\u306a\u3044\u3053\u3068\u3092\u7591\u3063\u305f\u65b9\u304c\u3044\u3044\n\n```csharp:SampleXMLData.cs\nusing System.Xml.Serialization;\n\nnamespace URLRequest\n{\n    [XmlRoot(\"Root\")]\n    public class SampleXMLData\n    {\n        [XmlElement(\"data\")]\n        public XMLData xmlData;\n    }\n\n    public class XMLData\n    {\n        [XmlElement(\"id\")]\n        public string id;\n\n        [XmlElement(\"text\")]\n        public string text;\n    }\n}\n```\n\n## Seriallizer\n XML\u306e\u6587\u5b57\u5217\u3092\u30c7\u30fc\u30bf\u30af\u30e9\u30b9\u306b\u6d41\u3057\u8fbc\u3080\n\n```csharp:CustomXMLSeriallizer.cs\nusing System.IO;\nusing System.Xml.Serialization;\n\nnamespace URLRequest\n{\n    public static class CustomXMLSeriallizer\n    {\n        public static T LoadXmlDataString<T>(string xmltext) where T : class\n        {\n            XmlSerializer serializer =new XmlSerializer(typeof(T));\n            StringReader reader = new StringReader(xmltext);\n            T loadAry = (T)serializer.Deserialize(reader);\n            reader.Close();\n            return loadAry;\n        }\n    }\n}\n```\n\n## \u30e1\u30a4\u30f3\n\n```csharp:Program.cs\nusing System;\nusing System.IO;\nusing System.Net;\nusing System.Text;\n\nnamespace URLRequest\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Encoding enc = Encoding.GetEncoding(\"UTF-8\");\n            string url = \"http://127.0.0.1/sandbox/sample/xml/sample.xml\";\n\n            WebRequest req = WebRequest.Create(url);\n            WebResponse res = req.GetResponse();\n\n            Stream st = res.GetResponseStream();\n            StreamReader sr = new StreamReader(st, enc);\n            string xml = sr.ReadToEnd();\n            sr.Close();\n            st.Close();\n\n            Console.WriteLine(xml);\n\n            SampleXMLData xmlDatas = CustomXMLSeriallizer.LoadXmlDataString<SampleXMLData>(xml);\n\n            Console.WriteLine(\"--------\");\n            Console.WriteLine(\"id  :\" + xmlDatas.xmlData.id);\n            Console.WriteLine(\"text:\" + xmlDatas.xmlData.text);\n            Console.WriteLine(\"--------\");\n            Console.ReadKey();\n        }\n    }\n}\n```\n\n## \u7d50\u679c\n![ResultConsole.png](https://qiita-image-store.s3.amazonaws.com/0/111261/6828907e-b529-ec4f-70ca-8183448d6558.png)\n\n"}