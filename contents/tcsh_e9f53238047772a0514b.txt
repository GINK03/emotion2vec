{"context": "\n\n\u524d\u63d0\u6761\u4ef6\n\nCodeDeploy\u3078\u306e\u6a29\u9650\nCode Deploy\u306b\u5bfe\u3057\u3066\u30d5\u30eb\u6a29\u9650\u304c\u3042\u308b\u3053\u3068\u3002\n\nAWS CLI\n\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u52d5\u4f5c\u78ba\u8a8d\u6e08\n\nAWS CLI 1.11.5\n\n\n\u30b3\u30de\u30f3\u30c9\naws --version\n\n\n\u7d50\u679c(\u4f8b):\n  aws-cli/1.11.14 Python/2.7.10 Darwin/15.6.0 botocore/1.4.71\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u5834\u5408\u306f\u6700\u65b0\u7248\u306b\u66f4\u65b0\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30de\u30f3\u30c9\nsudo -H pip install -U awscli\n\n\n\n0. \u6e96\u5099\n\n0.1. \u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6c7a\u5b9a\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nexport AWS_DEFAULT_REGION='ap-northeast-1'\n\n\n\n0.2. \u5909\u6570\u306e\u78ba\u8a8d\n\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u304c\u60f3\u5b9a\u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u5909\u6570\u306e\u78ba\u8a8d\naws configure list\n\n\n\u7d50\u679c(\u4f8b):\n        Name                    Value             Type    Location\n        ----                    -----             ----    --------\n     profile       lambdaFull-handson-mbpr13        env    AWS_DEFAULT_PROFILE\n  access_key     ****************XXXX shared-credentials-file\n  secret_key     ****************XXXX shared-credentials-file\n      region        ap-northeast-1        env    AWS_DEFAULT_REGION\n\n\n0.3. IAM\u30ed\u30fc\u30eb\u306e\u6307\u5b9a\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nIAM_ROLE_NAME='CodeDeployServiceRole'\n\n\n\n1. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n\n1.1. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u306e\u6c7a\u5b9a\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nCODED_APP_NAME=\"handson-app-$(date +%Y%m%d)\" \\\n        && echo ${CODED_APP_NAME}\n\n\n\n1.2. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n\n\u5909\u6570\u306e\u78ba\u8a8d\ncat << ETX\n\n        CODED_APP_NAME:           ${CODED_APP_NAME}\n\nETX\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws deploy create-application \\\n        --application-name ${CODED_APP_NAME}\n\n\n\u7d50\u679c(\u4f8b):\n  {\n    \"applicationId\": \"65ee4ebd-405a-4d60-bac5-e9f3b9291159\"\n  }\n\n\n\u30b3\u30de\u30f3\u30c9\naws deploy get-application \\\n        --application-name ${CODED_APP_NAME}\n\n\n\u7d50\u679c(\u4f8b)\n  {\n    \"application\": {\n      \"applicationName\": \"handson-app-20161121\",\n      \"linkedToGitHub\": false,\n      \"applicationId\": \"65ee4ebd-405a-4d60-bac5-e9f3b9291159\",\n      \"createTime\": 1479717459.603\n    }\n  }\n\n\n2. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n\n2.1. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b0\u30eb\u30fc\u30d7\u540d\u306e\u6c7a\u5b9a\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nCODED_DEPLOY_GROUP_NAME=\"${CODED_APP_NAME}-deployment-group\" \\\n        && echo ${CODED_DEPLOY_GROUP_NAME}\n\n\n\n2.2. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u8a2d\u5b9a\u306e\u6307\u5b9a\n\n\u30b3\u30de\u30f3\u30c9\naws deploy list-deployment-configs\n\n\n\u7d50\u679c(\u4f8b)\n  {\n    \"deploymentConfigsList\": [\n      \"CodeDeployDefault.OneAtATime\",\n      \"CodeDeployDefault.AllAtOnce\",\n      \"CodeDeployDefault.HalfAtATime\"\n    ]\n  }\n\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nCODED_DEPLOY_CONFIG_NAME='CodeDeployDefault.OneAtATime'\n\n\n\n2.3. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n\u307e\u305a\u3001IAM\u30ed\u30fc\u30eb\u306eARN\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\nIAM_ROLE_ARN=$( \\\n        aws iam get-role \\\n          --role-name ${IAM_ROLE_NAME} \\\n          --query 'Role.Arn' \\\n          --output text \\\n) \\\n        && echo ${IAM_ROLE_ARN}\n\n\n\u7d50\u679c(\u4f8b):\n  arn:aws:iam::XXXXXXXXXXXX:role/CodeDeployServiceRole\n\n\n\u5909\u6570\u306e\u78ba\u8a8d\ncat << ETX\n\n        CODED_APP_NAME:           ${CODED_APP_NAME}\n        AS_GROUP_NAME:            ${AS_GROUP_NAME}\n        CODED_DEPLOY_GROUP_NAME:  ${CODED_DEPLOY_GROUP_NAME}\n        CODED_DEPLOY_CONFIG_NAME: ${CODED_DEPLOY_CONFIG_NAME}\n        IAM_ROLE_ARN:             ${IAM_ROLE_ARN}\n\nETX\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws deploy create-deployment-group \\\n        --application-name ${CODED_APP_NAME} \\\n        --auto-scaling-groups ${AS_GROUP_NAME} \\\n        --deployment-group-name ${CODED_DEPLOY_GROUP_NAME} \\\n        --deployment-config-name ${CODED_DEPLOY_CONFIG_NAME} \\\n        --service-role-arn ${IAM_ROLE_ARN}\n\n\n\u7d50\u679c(\u4f8b)\n  {\n    \"deploymentGroupId\": \"4a177a8a-0b39-491a-b043-7ce3854e53dc\"\n  }\n\n\n3. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u306e\u4f5c\u6210\n\n3.1. \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u6307\u5b9a\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nS3_BUCKET_NAME=aws-codedeploy-${AWS_DEFAULT_REGION}\nS3_OBJECT_KEY='samples/latest/SampleApp_Linux.zip'\n\n\n\n3.2. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u306e\u4f5c\u6210\n\n\u5909\u6570\u306e\u78ba\u8a8d\ncat << ETX\n\n        CODED_APP_NAME:           ${CODED_APP_NAME}\n        CODED_DEPLOY_CONFIG_NAME: ${CODED_DEPLOY_CONFIG_NAME}\n        CODED_DEPLOY_GROUP_NAME:  ${CODED_DEPLOY_GROUP_NAME}\n        S3_BUCKET_NAME:           ${S3_BUCKET_NAME}\n        S3_OBJECT_KEY:            ${S3_OBJECT_KEY}\n\nETX\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws deploy create-deployment \\\n        --application-name ${CODED_APP_NAME} \\\n        --deployment-config-name ${CODED_DEPLOY_CONFIG_NAME} \\\n        --deployment-group-name ${CODED_DEPLOY_GROUP_NAME} \\\n        --s3-location bucket=${S3_BUCKET_NAME},bundleType=zip,key=${S3_OBJECT_KEY}\n\n\n\u7d50\u679c(\u4f8b)\n  {\n    \"deploymentId\": \"d-89DOVR11J\"\n  }\n\n\n\u30b3\u30de\u30f3\u30c9\naws deploy list-deployments \\\n        --application-name ${CODED_APP_NAME} \\\n        --deployment-group-name ${CODED_DEPLOY_GROUP_NAME} \\\n        --query \"deployments\"\n\n\n\u7d50\u679c(\u4f8b)\n[\n  \"d-xxxxxxxx\"\n]\n\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nCODED_DEPLOYMENT_ID='<\u4e0a\u8a18\u306edeployment ID>'\n\n\n\n\u30b3\u30de\u30f3\u30c9\naws deploy get-deployment \\\n        --deployment-id ${CODED_DEPLOYMENT_ID} \\\n        --query \"deploymentInfo.status\"\n\n\n\u7d50\u679c(\u4f8b):\n\"Succeeded\"\n\n4. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\nARRAY_EC2_INSTANCES=$( \\\n        aws autoscaling describe-auto-scaling-groups \\\n          --auto-scaling-group-names ${AS_GROUP_NAME} \\\n          --query \"AutoScalingGroups[0].Instances[*].InstanceId\" \\\n          --output text \\\n) \\\n        && echo ${ARRAY_EC2_INSTANCES}\n\n\n\u7d50\u679c(\u4f8b)\n  i-08cc559c\n\n\n\u30b3\u30de\u30f3\u30c9\nEC2_INSTANCE_ID=$( \\\n        echo ${ARRAY_EC2_INSTANCES} \\\n        | sed 's/ .*$//' \\\n) \\\n        && echo ${EC2_INSTANCE_ID}\n\n\n\n\u30b3\u30de\u30f3\u30c9\nEC2_INSTANCE_IP=$( \\\n        aws ec2 describe-instances \\\n          --instance-id ${EC2_INSTANCE_ID} \\\n          --query \"Reservations[0].Instances[0].PublicIpAddress\" \\\n          --output text \\\n) \\\n        && echo ${EC2_INSTANCE_IP}\n\n\n\u7d50\u679c(\u4f8b)\n  xxx.xxx.xxx.xxx\n\n\n\u30b3\u30de\u30f3\u30c9\nssh -i ${FILE_SSH_KEY} ec2-user@${EC2_INSTANCE_IP}\n\n\n\n\u30b3\u30de\u30f3\u30c9\ncat /var/www/html/index.html |grep '<h2>'\n\n\n\u7d50\u679c(\u4f8b):\n  <h2>This application was deployed using AWS CodeDeploy.</h2>\n\n\n\u5b8c\u4e86\n\n\u53c2\u8003(appspec.yml)\nhttp://s3-ap-northeast-1.amazonaws.com/aws-codedeploy-ap-northeast-1/samples/latest/SampleApp_Windows.zip \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5c55\u958b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nappspec.yml \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306bdeploy\u3067\u4f55\u3092\u3084\u308b\u304b\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u524d\u63d0\u6761\u4ef6\n========\n\n\nCodeDeploy\u3078\u306e\u6a29\u9650\n------------------\n\nCode Deploy\u306b\u5bfe\u3057\u3066\u30d5\u30eb\u6a29\u9650\u304c\u3042\u308b\u3053\u3068\u3002\n\n\nAWS CLI\n-------\n\n\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u52d5\u4f5c\u78ba\u8a8d\u6e08\n\n* AWS CLI 1.11.5\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws --version\n```\n\n\u7d50\u679c(\u4f8b):\n\n      aws-cli/1.11.14 Python/2.7.10 Darwin/15.6.0 botocore/1.4.71\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u5834\u5408\u306f\u6700\u65b0\u7248\u306b\u66f4\u65b0\u3057\u307e\u3057\u3087\u3046\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nsudo -H pip install -U awscli\n```\n\n\n0. \u6e96\u5099\n=======\n\n\n0.1. \u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6c7a\u5b9a\n---------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a\nexport AWS_DEFAULT_REGION='ap-northeast-1'\n```\n\n\n0.2. \u5909\u6570\u306e\u78ba\u8a8d\n---------------\n\n\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u304c\u60f3\u5b9a\u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash:\u5909\u6570\u306e\u78ba\u8a8d:\naws configure list\n```\n\n\u7d50\u679c(\u4f8b):\n\n            Name                    Value             Type    Location\n            ----                    -----             ----    --------\n         profile       lambdaFull-handson-mbpr13        env    AWS_DEFAULT_PROFILE\n      access_key     ****************XXXX shared-credentials-file\n      secret_key     ****************XXXX shared-credentials-file\n          region        ap-northeast-1        env    AWS_DEFAULT_REGION\n\n\n0.3. IAM\u30ed\u30fc\u30eb\u306e\u6307\u5b9a\n--------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nIAM_ROLE_NAME='CodeDeployServiceRole'\n```\n\n\n1. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n=========================\n\n\n1.1. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u306e\u6c7a\u5b9a\n-----------------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nCODED_APP_NAME=\"handson-app-$(date +%Y%m%d)\" \\\n        && echo ${CODED_APP_NAME}\n```\n\n\n1.2. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n---------------------------\n\n```bash:\u5909\u6570\u306e\u78ba\u8a8d:\ncat << ETX\n\n        CODED_APP_NAME:           ${CODED_APP_NAME}\n\nETX\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws deploy create-application \\\n        --application-name ${CODED_APP_NAME}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      {\n        \"applicationId\": \"65ee4ebd-405a-4d60-bac5-e9f3b9291159\"\n      }\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws deploy get-application \\\n        --application-name ${CODED_APP_NAME}\n```\n\n\u7d50\u679c(\u4f8b)\n\n      {\n        \"application\": {\n          \"applicationName\": \"handson-app-20161121\",\n          \"linkedToGitHub\": false,\n          \"applicationId\": \"65ee4ebd-405a-4d60-bac5-e9f3b9291159\",\n          \"createTime\": 1479717459.603\n        }\n      }\n\n\n2. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n===============================\n\n\n2.1. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b0\u30eb\u30fc\u30d7\u540d\u306e\u6c7a\u5b9a\n-----------------------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nCODED_DEPLOY_GROUP_NAME=\"${CODED_APP_NAME}-deployment-group\" \\\n        && echo ${CODED_DEPLOY_GROUP_NAME}\n```\n\n\n2.2. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u8a2d\u5b9a\u306e\u6307\u5b9a\n-----------------------------\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws deploy list-deployment-configs\n```\n\n\u7d50\u679c(\u4f8b)\n\n      {\n        \"deploymentConfigsList\": [\n          \"CodeDeployDefault.OneAtATime\",\n          \"CodeDeployDefault.AllAtOnce\",\n          \"CodeDeployDefault.HalfAtATime\"\n        ]\n      }\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nCODED_DEPLOY_CONFIG_NAME='CodeDeployDefault.OneAtATime'\n```\n\n\n2.3. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\n---------------------------------\n\n\u307e\u305a\u3001IAM\u30ed\u30fc\u30eb\u306eARN\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nIAM_ROLE_ARN=$( \\\n        aws iam get-role \\\n          --role-name ${IAM_ROLE_NAME} \\\n          --query 'Role.Arn' \\\n          --output text \\\n) \\\n        && echo ${IAM_ROLE_ARN}\n```\n\n\u7d50\u679c(\u4f8b):\n\n      arn:aws:iam::XXXXXXXXXXXX:role/CodeDeployServiceRole\n\n\n\n```bash:\u5909\u6570\u306e\u78ba\u8a8d:\ncat << ETX\n\n        CODED_APP_NAME:           ${CODED_APP_NAME}\n        AS_GROUP_NAME:            ${AS_GROUP_NAME}\n        CODED_DEPLOY_GROUP_NAME:  ${CODED_DEPLOY_GROUP_NAME}\n        CODED_DEPLOY_CONFIG_NAME: ${CODED_DEPLOY_CONFIG_NAME}\n        IAM_ROLE_ARN:             ${IAM_ROLE_ARN}\n\nETX\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws deploy create-deployment-group \\\n        --application-name ${CODED_APP_NAME} \\\n        --auto-scaling-groups ${AS_GROUP_NAME} \\\n        --deployment-group-name ${CODED_DEPLOY_GROUP_NAME} \\\n        --deployment-config-name ${CODED_DEPLOY_CONFIG_NAME} \\\n        --service-role-arn ${IAM_ROLE_ARN}\n```\n\n\u7d50\u679c(\u4f8b)\n\n      {\n        \"deploymentGroupId\": \"4a177a8a-0b39-491a-b043-7ce3854e53dc\"\n      }\n\n\n3. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u306e\u4f5c\u6210\n=======================\n\n\n3.1. \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u6307\u5b9a\n-----------------------\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nS3_BUCKET_NAME=aws-codedeploy-${AWS_DEFAULT_REGION}\nS3_OBJECT_KEY='samples/latest/SampleApp_Linux.zip'\n```\n\n\n3.2. \u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8\u306e\u4f5c\u6210\n-------------------------\n\n```bash:\u5909\u6570\u306e\u78ba\u8a8d:\ncat << ETX\n\n        CODED_APP_NAME:           ${CODED_APP_NAME}\n        CODED_DEPLOY_CONFIG_NAME: ${CODED_DEPLOY_CONFIG_NAME}\n        CODED_DEPLOY_GROUP_NAME:  ${CODED_DEPLOY_GROUP_NAME}\n        S3_BUCKET_NAME:           ${S3_BUCKET_NAME}\n        S3_OBJECT_KEY:            ${S3_OBJECT_KEY}\n\nETX\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws deploy create-deployment \\\n        --application-name ${CODED_APP_NAME} \\\n        --deployment-config-name ${CODED_DEPLOY_CONFIG_NAME} \\\n        --deployment-group-name ${CODED_DEPLOY_GROUP_NAME} \\\n        --s3-location bucket=${S3_BUCKET_NAME},bundleType=zip,key=${S3_OBJECT_KEY}\n```\n\n\u7d50\u679c(\u4f8b)\n\n      {\n        \"deploymentId\": \"d-89DOVR11J\"\n      }\n\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws deploy list-deployments \\\n        --application-name ${CODED_APP_NAME} \\\n        --deployment-group-name ${CODED_DEPLOY_GROUP_NAME} \\\n        --query \"deployments\"\n```\n\n\u7d50\u679c(\u4f8b)\n\n    [\n      \"d-xxxxxxxx\"\n    ]\n\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a:\nCODED_DEPLOYMENT_ID='<\u4e0a\u8a18\u306edeployment ID>'\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\naws deploy get-deployment \\\n        --deployment-id ${CODED_DEPLOYMENT_ID} \\\n        --query \"deploymentInfo.status\"\n```\n\n\u7d50\u679c(\u4f8b):\n\n  \"Succeeded\"\n\n\n\n4. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\n==\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nARRAY_EC2_INSTANCES=$( \\\n        aws autoscaling describe-auto-scaling-groups \\\n          --auto-scaling-group-names ${AS_GROUP_NAME} \\\n          --query \"AutoScalingGroups[0].Instances[*].InstanceId\" \\\n          --output text \\\n) \\\n        && echo ${ARRAY_EC2_INSTANCES}\n```\n\n\u7d50\u679c(\u4f8b)\n\n      i-08cc559c\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nEC2_INSTANCE_ID=$( \\\n        echo ${ARRAY_EC2_INSTANCES} \\\n        | sed 's/ .*$//' \\\n) \\\n        && echo ${EC2_INSTANCE_ID}\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nEC2_INSTANCE_IP=$( \\\n        aws ec2 describe-instances \\\n          --instance-id ${EC2_INSTANCE_ID} \\\n          --query \"Reservations[0].Instances[0].PublicIpAddress\" \\\n          --output text \\\n) \\\n        && echo ${EC2_INSTANCE_IP}\n```\n\n\u7d50\u679c(\u4f8b)\n\n      xxx.xxx.xxx.xxx\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nssh -i ${FILE_SSH_KEY} ec2-user@${EC2_INSTANCE_IP}\n```\n\n```bash:\u30b3\u30de\u30f3\u30c9:\ncat /var/www/html/index.html |grep '<h2>'\n```\n\n\u7d50\u679c(\u4f8b):\n\n      <h2>This application was deployed using AWS CodeDeploy.</h2>\n\n\n\u5b8c\u4e86\n====\n\n\n\u53c2\u8003(appspec.yml)\n==================\n\nhttp://s3-ap-northeast-1.amazonaws.com/aws-codedeploy-ap-northeast-1/samples/latest/SampleApp_Windows.zip \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u5c55\u958b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nappspec.yml \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u306bdeploy\u3067\u4f55\u3092\u3084\u308b\u304b\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n", "tags": ["AWS", "aws-cli", "deploy"]}