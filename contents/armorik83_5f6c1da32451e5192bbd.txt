{"context": "\u4eca\u5f8c\u601d\u8003\u505c\u6b62\u3057\u3066Karma + webpack + TypeScript\u3092\u7d44\u3080\u305f\u3081\u306e\u899a\u3048\u66f8\u304d\u3002\n\n\u74b0\u5883\nnode -v\nv6.9.4\n\nyarn --version\n0.19.1\n\n\n\u521d\u671f\u5316\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyarn init -y\nyarn add --dev @types/jasmine jasmine-core jasmine-spec-reporter karma karma-chrome-launcher karma-cli karma-jasmine karma-webpack ts-loader typescript webpack\n\n$(yarn bin)/tsc --init\n\n$(yarn bin)/karma init\n\nWhich testing framework do you want to use ?\n> jasmine\n\nDo you want to use Require.js ?\n> no\n\nDo you want to capture any browsers automatically ?\n> Chrome\n>\n\nWhat is the location of your source and test files ?\n> ./test.js\n>\n\nShould any of the files included by the previous patterns be excluded ?\n>\n\nDo you want Karma to watch all the files and run the tests on change ?\n> yes\n\n\nKarma\u8a2d\u5b9a\u306b\u8ffd\u8a18\n\n/karma.conf.js\n// Karma configuration\nmodule.exports = function(config) {\n  config.set({\n\n    // snip\n\n    // list of files / patterns to load in the browser\n    files: [\n      './test.js'\n    ],\n\n    // snip\n\n    // preprocess matching files before serving them to the browser\n    // available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor\n    preprocessors: {\n      './test.js': ['webpack']\n    },\n\n    webpack: {\n      resolve: {\n        extensions: ['.ts', '.js']\n      },\n      module: {\n        rules: [\n          {test: /\\.ts$/, use: [{loader: 'ts-loader'}]}\n        ]\n      }\n    },\n\n    // snip\n\n  })\n}\n\n\nfiles\u3092./**/*.spec.ts\u3068\u305b\u305a./test.js\u3067\u307e\u3068\u3081\u308b\u306e\u304c\u30df\u30bd\u3002\n\ntest.js\n\n/test.js\nconst testsContext = require.context('./src', true, /\\.spec\\.ts$/)\ntestsContext.keys().forEach(testsContext)\n\n\n\n\u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u4f8b\n\n/src/example.spec.ts\nit('should...', () => {\n  expect(1).toBe(2)\n})\n\n\n\n\u5b9f\u884c\n$(yarn bin)/karma start\n\nChrome 56.0.2924 (Mac OS X 10.12.3)  should... FAILED\n    Expected 1 to be 2.\n        at Object.<anonymous> (test.js:98:15)\nChrome 56.0.2924 (Mac OS X 10.12.3): Executed 1 of 1 (1 FAILED) ERROR (0.034 secs / 0.003 secs)\n\nkarma-typescript-preprocessor\u304c\u500b\u4eba\u7684\u306b\u5408\u308f\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u3053\u306e\u3084\u308a\u65b9\u3067\u3044\u304f\u3002\n\u4eca\u5f8c\u601d\u8003\u505c\u6b62\u3057\u3066Karma + webpack + TypeScript\u3092\u7d44\u3080\u305f\u3081\u306e\u899a\u3048\u66f8\u304d\u3002\n\n# \u74b0\u5883\n```\nnode -v\nv6.9.4\n\nyarn --version\n0.19.1\n```\n\n# \u521d\u671f\u5316\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nyarn init -y\nyarn add --dev @types/jasmine jasmine-core jasmine-spec-reporter karma karma-chrome-launcher karma-cli karma-jasmine karma-webpack ts-loader typescript webpack\n```\n\n```\n$(yarn bin)/tsc --init\n```\n\n```\n$(yarn bin)/karma init\n\nWhich testing framework do you want to use ?\n> jasmine\n\nDo you want to use Require.js ?\n> no\n\nDo you want to capture any browsers automatically ?\n> Chrome\n>\n\nWhat is the location of your source and test files ?\n> ./test.js\n>\n\nShould any of the files included by the previous patterns be excluded ?\n>\n\nDo you want Karma to watch all the files and run the tests on change ?\n> yes\n```\n\n# Karma\u8a2d\u5b9a\u306b\u8ffd\u8a18\n```./karma.conf.js\n// Karma configuration\nmodule.exports = function(config) {\n  config.set({\n\n    // snip\n\n    // list of files / patterns to load in the browser\n    files: [\n      './test.js'\n    ],\n\n    // snip\n\n    // preprocess matching files before serving them to the browser\n    // available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor\n    preprocessors: {\n      './test.js': ['webpack']\n    },\n\n    webpack: {\n      resolve: {\n        extensions: ['.ts', '.js']\n      },\n      module: {\n        rules: [\n          {test: /\\.ts$/, use: [{loader: 'ts-loader'}]}\n        ]\n      }\n    },\n\n    // snip\n\n  })\n}\n```\n\n`files`\u3092`./**/*.spec.ts`\u3068\u305b\u305a`./test.js`\u3067\u307e\u3068\u3081\u308b\u306e\u304c\u30df\u30bd\u3002\n\n## test.js\n```./test.js\nconst testsContext = require.context('./src', true, /\\.spec\\.ts$/)\ntestsContext.keys().forEach(testsContext)\n```\n\n## \u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u4f8b\n```./src/example.spec.ts\nit('should...', () => {\n  expect(1).toBe(2)\n})\n```\n\n# \u5b9f\u884c\n```\n$(yarn bin)/karma start\n\nChrome 56.0.2924 (Mac OS X 10.12.3)  should... FAILED\n\tExpected 1 to be 2.\n\t    at Object.<anonymous> (test.js:98:15)\nChrome 56.0.2924 (Mac OS X 10.12.3): Executed 1 of 1 (1 FAILED) ERROR (0.034 secs / 0.003 secs)\n```\n\nkarma-typescript-preprocessor\u304c\u500b\u4eba\u7684\u306b\u5408\u308f\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u3053\u306e\u3084\u308a\u65b9\u3067\u3044\u304f\u3002\n", "tags": ["TypeScript2.1.6", "webpack2.2.1", "karma"]}