{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nCocos2dx\u3067\u30d3\u30eb\u30c9\u3092\u81ea\u52d5\u5316\u3059\u308b\u969b\u306e\u30b7\u30a7\u30eb\u8a2d\u5b9a\u3002\n\u3069\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u3088\u3044\u304b\u306f\u304a\u8a66\u3057\u4e2d\u3002\nshenzhen\u306f\u30d3\u30eb\u30c9\u306e\u30ed\u30b0\u5410\u304b\u306a\u3044\u306e\u3067\u304d\u3082\u3044\u3002\ncocos compile\u306eiOS\u30d3\u30eb\u30c9\u3067mobileprovision\u6307\u5b9a\u51fa\u6765\u306a\u3044\u3068\u304b\u4f55\u6545\uff01\uff1f\ngithub\u306eproject_compile.py\u306b\u3082embed\u30aa\u30d7\u30b7\u30e7\u30f3\u66f8\u3044\u3066\u306a\u3044\u306a\u3041\u3002\u3002\n\u30d3\u30eb\u30c9\u3059\u308b\u6642\u5207\u308a\u66ff\u3048\u308b\u3084\u308d\u3002\u3002\n\nJenkins\u306eant\u3068\u9023\u643a\u3057\u3066APK\u751f\u6210\n# ANDROID BUILD\nexport NDK_ROOT=/Applications/android-ndk-r9d\nexport ANDROID_SDK_ROOT=/Applications/adt-bundle-mac-x86_64/sdk\nexport PATH=$PATH:$ANDROID_SDK_ROOT/platform-tools\nexport PATH=$PATH:$ANDROID_SDK_ROOT/tools\n\ncd $WORKSPACE/cocos2d/cocos/platform/android/java/\nandroid update project -p . -t 1\n\ncd $WORKSPACE/proj.android\nandroid update project -p . -t 1\n#android update project --path . --target android-19\n\n# keytool\u306e\u60c5\u5831\necho \"key.store=hoge.keystore\\nkey.store.password=password\\nkey.alias=hoge\\nkey.alias.password= password\" >> ant.properties\n\n./build_native.py\n\n\n\nshenzhen\u3092\u4f7f\u3063\u3066IPA\u751f\u6210\n# iOS BUILD\nPROVISIONING_FILE_PATH=$HOME/Builds/Keys/$JOB_NAME.mobileprovision\nSCHEME_NAME=\"$JOB_NAME iOS\"\ncd $WORKSPACE/proj.ios_mac\n/usr/bin/ipa build -c Release -i \"iPhone Distribution: xxxxx\" -m $PROVISIONING_FILE_PATH -s \"${SCHEME_NAME}\"  --clean\n\n\ncocos compile\u3092\u4f7f\u3063\u3066APK\u751f\u6210\n# ANDROID BUILD\nexport NDK_ROOT=/Applications/android-ndk-r9d\nexport ANDROID_SDK_ROOT=/Applications/adt-bundle-mac-x86_64/sdk\nexport COCOS_CONSOLE_ROOT=/Applications/cocos2d-x-3.2/tools/cocos2d-console/bin\nexport ANT_ROOT=$HOME/jenkins/tools/hudson.tasks.Ant_AntInstallation/JenkinsAnt/bin\nexport PATH=$PATH:$ANDROID_SDK_ROOT/platform-tools\nexport PATH=$PATH:$ANDROID_SDK_ROOT/tools\nexport PATH=$PATH:$COCOS_CONSOLE_ROOT:$ANT_ROOT\n\ncd $WORKSPACE/proj.android\n\n# keytool\u306e\u60c5\u5831\necho \"key.store=hoge.keystore\\nkey.store.password=password\\nkey.alias=hoge\\nkey.alias.password= password\" >> ant.properties\n\ncocos compile -s $WORKSPACE -p android --ndk-mode release --ap 19 -m release\n\n\ncocos compile\u3092\u4f7f\u3063\u3066IPA\u751f\u6210\n# iOS BUILD\nexport COCOS_CONSOLE_ROOT=/Applications/cocos2d-x-3.2/tools/cocos2d-console/bin\nexport PATH=$PATH:$COCOS_CONSOLE_ROOT\n\ncocos compile -s $WORKSPACE -p ios -m release --sign-identity \"iPhone Distribution: xxxxx\"\n\n# \u6982\u8981\nCocos2dx\u3067\u30d3\u30eb\u30c9\u3092\u81ea\u52d5\u5316\u3059\u308b\u969b\u306e\u30b7\u30a7\u30eb\u8a2d\u5b9a\u3002\n\u3069\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u3088\u3044\u304b\u306f\u304a\u8a66\u3057\u4e2d\u3002\nshenzhen\u306f\u30d3\u30eb\u30c9\u306e\u30ed\u30b0\u5410\u304b\u306a\u3044\u306e\u3067\u304d\u3082\u3044\u3002\ncocos compile\u306eiOS\u30d3\u30eb\u30c9\u3067mobileprovision\u6307\u5b9a\u51fa\u6765\u306a\u3044\u3068\u304b\u4f55\u6545\uff01\uff1f\n[github\u306eproject_compile.py](\nhttps://github.com/cocos2d/cocos2d-console/blob/develop/plugins/project_compile/project_compile.py)\u306b\u3082embed\u30aa\u30d7\u30b7\u30e7\u30f3\u66f8\u3044\u3066\u306a\u3044\u306a\u3041\u3002\u3002\n\u30d3\u30eb\u30c9\u3059\u308b\u6642\u5207\u308a\u66ff\u3048\u308b\u3084\u308d\u3002\u3002\n\n# Jenkins\u306eant\u3068\u9023\u643a\u3057\u3066APK\u751f\u6210\n```bash\n# ANDROID BUILD\nexport NDK_ROOT=/Applications/android-ndk-r9d\nexport ANDROID_SDK_ROOT=/Applications/adt-bundle-mac-x86_64/sdk\nexport PATH=$PATH:$ANDROID_SDK_ROOT/platform-tools\nexport PATH=$PATH:$ANDROID_SDK_ROOT/tools\n\ncd $WORKSPACE/cocos2d/cocos/platform/android/java/\nandroid update project -p . -t 1\n\ncd $WORKSPACE/proj.android\nandroid update project -p . -t 1\n#android update project --path . --target android-19\n\n# keytool\u306e\u60c5\u5831\necho \"key.store=hoge.keystore\\nkey.store.password=password\\nkey.alias=hoge\\nkey.alias.password= password\" >> ant.properties\n\n./build_native.py\n```\n![ant\u8a2d\u5b9a.png](https://qiita-image-store.s3.amazonaws.com/0/35973/6464cb72-7d09-e8d3-d4f2-7d932b54ce58.png \"ant\u8a2d\u5b9a.png\")\n\n# shenzhen\u3092\u4f7f\u3063\u3066IPA\u751f\u6210\n```bash\n# iOS BUILD\nPROVISIONING_FILE_PATH=$HOME/Builds/Keys/$JOB_NAME.mobileprovision\nSCHEME_NAME=\"$JOB_NAME iOS\"\ncd $WORKSPACE/proj.ios_mac\n/usr/bin/ipa build -c Release -i \"iPhone Distribution: xxxxx\" -m $PROVISIONING_FILE_PATH -s \"${SCHEME_NAME}\"  --clean\n```\n\n# cocos compile\u3092\u4f7f\u3063\u3066APK\u751f\u6210\n```bash\n# ANDROID BUILD\nexport NDK_ROOT=/Applications/android-ndk-r9d\nexport ANDROID_SDK_ROOT=/Applications/adt-bundle-mac-x86_64/sdk\nexport COCOS_CONSOLE_ROOT=/Applications/cocos2d-x-3.2/tools/cocos2d-console/bin\nexport ANT_ROOT=$HOME/jenkins/tools/hudson.tasks.Ant_AntInstallation/JenkinsAnt/bin\nexport PATH=$PATH:$ANDROID_SDK_ROOT/platform-tools\nexport PATH=$PATH:$ANDROID_SDK_ROOT/tools\nexport PATH=$PATH:$COCOS_CONSOLE_ROOT:$ANT_ROOT\n\ncd $WORKSPACE/proj.android\n\n# keytool\u306e\u60c5\u5831\necho \"key.store=hoge.keystore\\nkey.store.password=password\\nkey.alias=hoge\\nkey.alias.password= password\" >> ant.properties\n\ncocos compile -s $WORKSPACE -p android --ndk-mode release --ap 19 -m release\n```\n# cocos compile\u3092\u4f7f\u3063\u3066IPA\u751f\u6210\n```bash\n# iOS BUILD\nexport COCOS_CONSOLE_ROOT=/Applications/cocos2d-x-3.2/tools/cocos2d-console/bin\nexport PATH=$PATH:$COCOS_CONSOLE_ROOT\n\ncocos compile -s $WORKSPACE -p ios -m release --sign-identity \"iPhone Distribution: xxxxx\"\n```\n", "tags": ["cocos2d-x", "Jenkins"]}