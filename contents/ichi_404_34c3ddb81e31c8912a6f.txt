{"context": "FuelPHP\u3067many_many\u306a\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7bc9\u304f\nhas_one\u3068\u304b\u3068\u3061\u3087\u3063\u3068\u9806\u6e96\u5099\u304c\u5fc5\u8981\u306a\u306e\u3067\u3081\u3082\u3002\n\u516c\u5f0f\nhttp://fuelphp.jp/docs/1.8/packages/orm/relations/many_many.html\n\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\n- FuelPHP 1.8\n- PHP7.0.6\n\n\u6e96\u5099\n\u300cModel_Project\u300d\u3068\u300cModel_User\u300d\u3092\u95a2\u9023\u4ed8\u3051\u308b\nA user has many projects.\nA project has many users.\n\u306a\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u3059\u308b\u306e\u3067\u591a\u5bfe\u591a\u3067\u3059\u3002\n\nModel_Project\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u30e2\u30c7\u30eb\u30af\u30e9\u30b9\u306b\u8ffd\u8a18\u3002\n\u95a2\u9023\u4ed8\u3051\u308b\u30ab\u30e9\u30e0\u540d\u304cFuelPHP\u306e\u898f\u5247\u306b\u5f93\u3063\u3066\u3044\u308c\u3070\u30ab\u30e9\u30e0\u540d\u306e\u6307\u5b9a\u3060\u3051\u3067\u3067\u304d\u308b\u3002\nprotected static $_many_many = ['users'];\n\n\nModel_User\n\u540c\u69d8\nprotected static $_many_many = ['projects'];\n\n\n\u4e2d\u9593\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\u3053\u306e\u4f5c\u696d\u3060\u3051sql\u6587\u3092\u624b\u6253\u3061\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\u3073\u307f\u3087\u3044\nmysql -u my_name -my_password\n\nuse your_db_name;\nCREATE TABLE IF NOT EXISTS `projects_users` (\n    `project_id` int(11) NOT NULL,\n    `user_id` int(11) NOT NULL,\n    PRIMARY KEY (`project_id`,`user_id`)\n);\n\n\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7bc9\u304f\n\u666e\u901a\u306b\u8ffd\u52a0\u3059\u308b\u3002\u65e2\u306b\u69cb\u7bc9\u6e08\u307f\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u3063\u3066\u3082\u91cd\u8907\u767b\u9332\u3055\u308c\u306a\u3044\u306e\u3067\u4fbf\u5229\u3002\n    $project = Model_Project::find(1);\n    $project->users[] = Model_User::find(1);\n    $project->save();\n\n\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7834\u58ca\u3059\u308b\n\u7e01\u3092\u5207\u308b\u3068\u304d\u306fnull\u3092\u4ee3\u5165\u3057\u3066\u4fdd\u5b58\u3002\n    $user = Model_User::find(1);\n    $user->project[0] = null;\n    // $user->project = null;   # \u5168\u6d88\u3057\n    $user->save();\n\nFuelPHP\u3067many_many\u306a\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7bc9\u304f\nhas_one\u3068\u304b\u3068\u3061\u3087\u3063\u3068\u9806\u6e96\u5099\u304c\u5fc5\u8981\u306a\u306e\u3067\u3081\u3082\u3002\n\n\u516c\u5f0f\nhttp://fuelphp.jp/docs/1.8/packages/orm/relations/many_many.html\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\n- FuelPHP 1.8\n- PHP7.0.6\n\n# \u6e96\u5099\n\u300cModel_Project\u300d\u3068\u300cModel_User\u300d\u3092\u95a2\u9023\u4ed8\u3051\u308b\nA user **has many** projects.\nA project **has many** users.\n\u306a\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u3059\u308b\u306e\u3067\u591a\u5bfe\u591a\u3067\u3059\u3002\n\n\n## Model_Project\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u30e2\u30c7\u30eb\u30af\u30e9\u30b9\u306b\u8ffd\u8a18\u3002\n\u95a2\u9023\u4ed8\u3051\u308b\u30ab\u30e9\u30e0\u540d\u304cFuelPHP\u306e\u898f\u5247\u306b\u5f93\u3063\u3066\u3044\u308c\u3070\u30ab\u30e9\u30e0\u540d\u306e\u6307\u5b9a\u3060\u3051\u3067\u3067\u304d\u308b\u3002\n\n```php\nprotected static $_many_many = ['users'];\n```\n\n## Model_User\n\u540c\u69d8\n\n```php\nprotected static $_many_many = ['projects'];\n```\n\n## \u4e2d\u9593\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\u3053\u306e\u4f5c\u696d\u3060\u3051sql\u6587\u3092\u624b\u6253\u3061\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\u3073\u307f\u3087\u3044\n\n```mysql\nmysql -u my_name -my_password\n\nuse your_db_name;\nCREATE TABLE IF NOT EXISTS `projects_users` (\n\t`project_id` int(11) NOT NULL,\n\t`user_id` int(11) NOT NULL,\n\tPRIMARY KEY (`project_id`,`user_id`)\n);\n```\n\n## \u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7bc9\u304f\n\u666e\u901a\u306b\u8ffd\u52a0\u3059\u308b\u3002\u65e2\u306b\u69cb\u7bc9\u6e08\u307f\u306e\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u3063\u3066\u3082\u91cd\u8907\u767b\u9332\u3055\u308c\u306a\u3044\u306e\u3067\u4fbf\u5229\u3002\n\n```php\n\t$project = Model_Project::find(1);\n\t$project->users[] = Model_User::find(1);\n\t$project->save();\n```\n\n## \u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u7834\u58ca\u3059\u308b\n\u7e01\u3092\u5207\u308b\u3068\u304d\u306fnull\u3092\u4ee3\u5165\u3057\u3066\u4fdd\u5b58\u3002\n\n```php\n\t$user = Model_User::find(1);\n\t$user->project[0] = null;\n\t// $user->project = null;\t# \u5168\u6d88\u3057\n\t$user->save();\n```\n\n\n", "tags": ["FuelPHP", "PHP", "Relation"]}