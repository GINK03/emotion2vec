{"context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u3044\u3053\u3068\nESP-WROOM-02\u3067\u3001I2C\u30e2\u30fc\u30bf\u30fc\u30c9\u30e9\u30a4\u30d0\u306eDRV8830\u3067\u30e2\u30fc\u30bf\u30fc\u306e\u7121\u6bb5\u968e\u5909\u901f\u5236\u5fa1\u3002\n\n\u6a5f\u6750\n\nWindows10Home 64bit\n\n\u79cb\u6708\u306eESP-WROOM-02 DIP\u5316\u30ad\u30c3\u30c8\n\n\u79cb\u6708\u306eDRV8830\u30e2\u30b8\u30e5\u30fc\u30eb\n\nUSB\u30b7\u30ea\u30a2\u30eb\u5909\u63db\u30e2\u30b8\u30e5\u30fc\u30ebAE-UM232R\n\nArduinoIDE v1.6.7\n\n\n\u30b3\u30fc\u30c9\n//esp8266\u3067Wire.h\u3067I2C\u901a\u4fe1\u30c6\u30b9\u30c8\u30021\u30b3\u3060\u3051\u3002\n#include <Wire.h>;\nconst int address = 0x60;\n\nvoid writeRegister(int adr,byte reg,byte vset,byte data){\n  int vdata = vset << 2 | data;\n  Wire.beginTransmission(adr);\n  Wire.write(reg);\n  Wire.write(vdata);\n  Wire.endTransmission(true);\n  Serial.print(adr,HEX);\n  Serial.print(reg,HEX);\n  Serial.print(vdata,HEX);\n  delay(12);\n}\nvoid setup() {\n  // put your setup code here, to run once:\n  Serial.begin(115200);\n  Wire.begin(4,14);\n  Serial.println(address,HEX);\n  Serial.println(\"Hello\");\n  delay(500);\n}\n\nvoid loop() {\n  // put your main code here, to run repeatedly:\n  writeRegister(address,0x00,0x25,0x01);//\u6b63\u8ee2\n  delay(1000);\n  writeRegister(address,0x00,0x25,0x00);//\u9759\u6b62\n  delay(1000);\n  writeRegister(address,0x00,0x25,0x02);//\u9006\u8ee2\n  delay(1000);\n  writeRegister(address,0x00,0x25,0x00);//\u9759\u6b62\n  delay(1000);\n\n  Serial.println(\"sendOK\");\n}\n\n\n\u89e3\u8aac\n\n2\u884c\u76ee:Wire\u30e9\u30a4\u30d6\u30e9\u30ea\u8aad\u307f\u8fbc\u307f\u3002\n3\u884c\u76ee:DRV8830\u306e\u30a2\u30c9\u30ec\u30b9\u309216\u9032\u6570\u3067\u5909\u6570\u306b\u4ee3\u5165\u3002\n\nvoid writeRegister(){}\u5185:I2C\u66f8\u304d\u8fbc\u307f\u95a2\u6570\u3002\u5f15\u6570\u306f\u30a2\u30c9\u30ec\u30b9\u3001\u30ec\u30b8\u30b9\u30bf(\u30e2\u30fc\u30c9?\u30e2\u30fc\u30bf\u30fc\u56de\u3059\u306a\u30890x00)\u3001\u96fb\u5727\u8a2d\u5b9a\u3001\u30ec\u30b8\u30b9\u30bf(\u6b63\u9006\u8ee2\u9759\u6b62\u5236\u5fa1\u3002\u8a73\u3057\u304f\u306f\u30c7\u30fc\u30bf\u30b7\u30fc\u30c88\u30da\u30fc\u30b8\u306e\u8868)\u3002\n\nvoid setup(){}\u5185:\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7cfb\u3068\u30c7\u30d0\u30c3\u30af\u7528\u51e6\u7406\u3002\n\nvoid loop(){}\u5185:writeRegister()\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u3001\u4ee5\u4e0b\u306e\u51e6\u7406\n\u6b63\u8ee21\u79d2\u3001\u9759\u6b621\u79d2\u3001\u9006\u8ee21\u79d2\u3001\u9759\u6b621\u79d2\u3002(\u30eb\u30fc\u30d7)\n\n\nDRV8830\u306b\u6e21\u3059\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u306f\u3001\u30c7\u30fc\u30bf\u30fc\u30b7\u30fc\u30c8(\u4e0b\u8a18)\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u53c2\u8003\n\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n\n\n\u300c\u606f\u5b50\u3068\u4e00\u7dd2\u306b Makers\u300d\u3055\u3093\n\n\u300cArduino\u65e5\u672c\u8a9e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u300d\u3055\u3093\n\u300cDRV8830\u30c7\u30fc\u30bf\u30b7\u30fc\u30c8\u300d(\u79cb\u6708)\n\n\n## \u3084\u308a\u305f\u3044\u3053\u3068\nESP-WROOM-02\u3067\u3001I2C\u30e2\u30fc\u30bf\u30fc\u30c9\u30e9\u30a4\u30d0\u306eDRV8830\u3067\u30e2\u30fc\u30bf\u30fc\u306e\u7121\u6bb5\u968e\u5909\u901f\u5236\u5fa1\u3002\n\n## \u6a5f\u6750\n- Windows10Home 64bit  \n- [\u79cb\u6708\u306eESP-WROOM-02 DIP\u5316\u30ad\u30c3\u30c8](http://akizukidenshi.com/catalog/g/gK-09758/)\n- [\u79cb\u6708\u306eDRV8830\u30e2\u30b8\u30e5\u30fc\u30eb](http://akizukidenshi.com/catalog/g/gK-06273/)  \n- USB\u30b7\u30ea\u30a2\u30eb\u5909\u63db\u30e2\u30b8\u30e5\u30fc\u30eb[AE-UM232R](http://akizukidenshi.com/catalog/g/gK-01977/)\n- ArduinoIDE v1.6.7\n\n\n## \u30b3\u30fc\u30c9\n```cpp\n//esp8266\u3067Wire.h\u3067I2C\u901a\u4fe1\u30c6\u30b9\u30c8\u30021\u30b3\u3060\u3051\u3002\n#include <Wire.h>;\nconst int address = 0x60;\n\nvoid writeRegister(int adr,byte reg,byte vset,byte data){\n  int vdata = vset << 2 | data;\n  Wire.beginTransmission(adr);\n  Wire.write(reg);\n  Wire.write(vdata);\n  Wire.endTransmission(true);\n  Serial.print(adr,HEX);\n  Serial.print(reg,HEX);\n  Serial.print(vdata,HEX);\n  delay(12);\n}\nvoid setup() {\n  // put your setup code here, to run once:\n  Serial.begin(115200);\n  Wire.begin(4,14);\n  Serial.println(address,HEX);\n  Serial.println(\"Hello\");\n  delay(500);\n}\n\nvoid loop() {\n  // put your main code here, to run repeatedly:\n  writeRegister(address,0x00,0x25,0x01);//\u6b63\u8ee2\n  delay(1000);\n  writeRegister(address,0x00,0x25,0x00);//\u9759\u6b62\n  delay(1000);\n  writeRegister(address,0x00,0x25,0x02);//\u9006\u8ee2\n  delay(1000);\n  writeRegister(address,0x00,0x25,0x00);//\u9759\u6b62\n  delay(1000);\n\n  Serial.println(\"sendOK\");\n}\n```\n## \u89e3\u8aac\n- 2\u884c\u76ee:Wire\u30e9\u30a4\u30d6\u30e9\u30ea\u8aad\u307f\u8fbc\u307f\u3002\n- 3\u884c\u76ee:DRV8830\u306e\u30a2\u30c9\u30ec\u30b9\u309216\u9032\u6570\u3067\u5909\u6570\u306b\u4ee3\u5165\u3002\n- `void writeRegister(){}`\u5185:I2C\u66f8\u304d\u8fbc\u307f\u95a2\u6570\u3002\u5f15\u6570\u306f\u30a2\u30c9\u30ec\u30b9\u3001\u30ec\u30b8\u30b9\u30bf(\u30e2\u30fc\u30c9?\u30e2\u30fc\u30bf\u30fc\u56de\u3059\u306a\u30890x00)\u3001\u96fb\u5727\u8a2d\u5b9a\u3001\u30ec\u30b8\u30b9\u30bf(\u6b63\u9006\u8ee2\u9759\u6b62\u5236\u5fa1\u3002\u8a73\u3057\u304f\u306f\u30c7\u30fc\u30bf\u30b7\u30fc\u30c88\u30da\u30fc\u30b8\u306e\u8868)\u3002\n- `void setup(){}`\u5185:\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7cfb\u3068\u30c7\u30d0\u30c3\u30af\u7528\u51e6\u7406\u3002\n- `void loop(){}`\u5185:writeRegister()\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u3001\u4ee5\u4e0b\u306e\u51e6\u7406  \n\u6b63\u8ee21\u79d2\u3001\u9759\u6b621\u79d2\u3001\u9006\u8ee21\u79d2\u3001\u9759\u6b621\u79d2\u3002(\u30eb\u30fc\u30d7)  \n\nDRV8830\u306b\u6e21\u3059\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u306f\u3001\u30c7\u30fc\u30bf\u30fc\u30b7\u30fc\u30c8(\u4e0b\u8a18)\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u53c2\u8003\n\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n\n- [\u300c\u606f\u5b50\u3068\u4e00\u7dd2\u306b Makers\u300d](http://makers-with-myson.blog.so-net.ne.jp/2014-05-15)\u3055\u3093\n- [\u300cArduino\u65e5\u672c\u8a9e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u300d](http://www.musashinodenpa.com/arduino/ref/)\u3055\u3093\n- [\u300cDRV8830\u30c7\u30fc\u30bf\u30b7\u30fc\u30c8\u300d(\u79cb\u6708)](http://akizukidenshi.com/download/ds/ti/drv8830.pdf)\n", "tags": ["ESP-WROOM-02", "I2C"]}