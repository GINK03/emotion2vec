{"context": " More than 1 year has passed since last update.OpenSSL\u30b3\u30de\u30f3\u30c9\u306f\u3044\u3064\u3082\u5fd8\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u5099\u5fd8\u306b\u3002\n\n\u79d8\u5bc6\u9375\u306e\u4f5c\u6210\n# \u6697\u53f7\u5316\u3057\u306a\u3044\nopenssl genrsa -out server.key 1024\n\n# 3DES\u3092\u4f7f\u3063\u3066\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3067\u6697\u53f7\u5316\u3059\u308b\nopenssl genrsa -aes128 -out server.key 1024\n\n# \u65e2\u306b\u3042\u308b\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u3092\u89e3\u304f (\u30b5\u30fc\u30d3\u30b9\u3092\u81ea\u52d5\u3067\u8d77\u52d5\u3059\u308b\u6642\u306a\u3069\u306b\u5fc5\u8981\u3002\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u306f\u843d\u3061\u308b)\nopenssl rsa -in server.key -out server.key\n\n# \u65e2\u306b\u3042\u308b\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\nopenssl rsa -aes128 -in server.key -out server.key\n\n# \u79d8\u5bc6\u9375\u306e\u4e2d\u8eab\u3092\u307f\u308b\nopenssl rsa -noout -text -in server.key\n\n\n\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42(CSR)\u306e\u4f5c\u6210\n# \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42(CSR)\u306e\u4f5c\u6210\nopenssl req -new -days 365 -key server.key -out server.csr\n\n# \u79d8\u5bc6\u9375\u4f5c\u6210\u3068CSR\u4f5c\u6210\u3092\u4e00\u5ea6\u306b\u3059\u308b(\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3057\u306a\u3044)\nopenssl req -nodes -new -keyout server.key -out server.csr -days 365\n\n# \u79d8\u5bc6\u9375\u4f5c\u6210\u3068CSR\u4f5c\u6210\u3092\u4e00\u5ea6\u306b\u3059\u308b(\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b)\nopenssl req -new -keyout server.key -out server.csr -days 365\n\n# CSR\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\nopenssl req -in newreq.pem -text\n\n\n\u7f72\u540d\n# \u81ea\u5206\u306e\u79d8\u5bc6\u9375\u3067\u81ea\u5df1\u7f72\u540d\u3057\u305f\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3059\u308b\nopenssl x509 -in server.csr -out server.crt -req -signkey server.key -days 365\n\n# \u79d8\u5bc6\u9375\u4f5c\u6210,CSR\u4f5c\u6210,\u81ea\u5df1\u7f72\u540d\u3092\u4e00\u5ea6\u306b\u3059\u308b(\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3057\u306a\u3044)\nopenssl req -x509 -nodes -new -keyout server.key -out server.crt -days 365\n\n# \u79d8\u5bc6\u9375\u4f5c\u6210,CSR\u4f5c\u6210,\u81ea\u5df1\u7f72\u540d\u3092\u4e00\u5ea6\u306b\u3059\u308b(\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b)\nopenssl req -x509 -new -keyout server.key -out server.crt -days 365\n\n\n\u5931\u52b9\u51e6\u7406\n# \u8a3c\u660e\u66f8\u306e\u5931\u52b9\u51e6\u7406\nopenssl ca -revoke newcerts/01.pem\n\n# CRL\u306e\u751f\u6210\nopenssl ca -gencrl -out CA.crl\n\n# CRL\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\nopenssl crl -in CA.crl -text\n\n\n\u8a3c\u660e\u66f8\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\n# TEXT\u5f62\u5f0f\u3067\u8868\u793a\nopenssl x509 -in server.crt -text\n\n# \u8a3c\u660e\u66f8\u306e\u4f7f\u7528\u76ee\u7684\u3092\u8868\u793a\nopenssl x509 -in server.crt -purpose\n\n# ASN.1\u5f62\u5f0f\u3067\u8868\u793a\nopenssl asn1parse -in server.crt\n\n# \u8a3c\u660e\u66f8\u304b\u3089\u516c\u958b\u9375\u3092\u53d6\u308a\u51fa\u3059\nopenssl x509 -in server.crt -pubkey -noout\n\n\n\u5f62\u5f0f\u306e\u5909\u63db\n# PKCS#12\u5f62\u5f0f\u306b\u3059\u308b \u79d8\u5bc6\u9375\u3068\u516c\u958b\u9375\u3092PKCS#12\u5f62\u5f0f1\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\nopenssl pkcs12 -export -inkey server.key -in server.crt -out server.p12\n\n# PKCS#12\u5f62\u5f0f\u3092pem\u5f62\u5f0f\u306b\u623b\u3059\nopenssl pkcs12 -in server.p12 -out server.pem\n\n# DER\u5f62\u5f0f\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\nopenssl x509 -inform pem -outform der -in server.crt -out cacert.der\n\nOpenSSL\u30b3\u30de\u30f3\u30c9\u306f\u3044\u3064\u3082\u5fd8\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u5099\u5fd8\u306b\u3002\n\n\n# \u79d8\u5bc6\u9375\u306e\u4f5c\u6210\n\n```bash\n# \u6697\u53f7\u5316\u3057\u306a\u3044\nopenssl genrsa -out server.key 1024\n\n# 3DES\u3092\u4f7f\u3063\u3066\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3067\u6697\u53f7\u5316\u3059\u308b\nopenssl genrsa -aes128 -out server.key 1024\n\n# \u65e2\u306b\u3042\u308b\u79d8\u5bc6\u9375\u306e\u6697\u53f7\u5316\u3092\u89e3\u304f (\u30b5\u30fc\u30d3\u30b9\u3092\u81ea\u52d5\u3067\u8d77\u52d5\u3059\u308b\u6642\u306a\u3069\u306b\u5fc5\u8981\u3002\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u306f\u843d\u3061\u308b)\nopenssl rsa -in server.key -out server.key\n\n# \u65e2\u306b\u3042\u308b\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b\nopenssl rsa -aes128 -in server.key -out server.key\n\n# \u79d8\u5bc6\u9375\u306e\u4e2d\u8eab\u3092\u307f\u308b\nopenssl rsa -noout -text -in server.key\n```\n\n\n# \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42(CSR)\u306e\u4f5c\u6210\n\n```bash\n# \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42(CSR)\u306e\u4f5c\u6210\nopenssl req -new -days 365 -key server.key -out server.csr\n\n# \u79d8\u5bc6\u9375\u4f5c\u6210\u3068CSR\u4f5c\u6210\u3092\u4e00\u5ea6\u306b\u3059\u308b(\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3057\u306a\u3044)\nopenssl req -nodes -new -keyout server.key -out server.csr -days 365\n\n# \u79d8\u5bc6\u9375\u4f5c\u6210\u3068CSR\u4f5c\u6210\u3092\u4e00\u5ea6\u306b\u3059\u308b(\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b)\nopenssl req -new -keyout server.key -out server.csr -days 365\n\n# CSR\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\nopenssl req -in newreq.pem -text\n```\n\n# \u7f72\u540d\n\n```bash\n# \u81ea\u5206\u306e\u79d8\u5bc6\u9375\u3067\u81ea\u5df1\u7f72\u540d\u3057\u305f\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3059\u308b\nopenssl x509 -in server.csr -out server.crt -req -signkey server.key -days 365\n\n# \u79d8\u5bc6\u9375\u4f5c\u6210,CSR\u4f5c\u6210,\u81ea\u5df1\u7f72\u540d\u3092\u4e00\u5ea6\u306b\u3059\u308b(\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3057\u306a\u3044)\nopenssl req -x509 -nodes -new -keyout server.key -out server.crt -days 365\n\n# \u79d8\u5bc6\u9375\u4f5c\u6210,CSR\u4f5c\u6210,\u81ea\u5df1\u7f72\u540d\u3092\u4e00\u5ea6\u306b\u3059\u308b(\u79d8\u5bc6\u9375\u3092\u6697\u53f7\u5316\u3059\u308b)\nopenssl req -x509 -new -keyout server.key -out server.crt -days 365\n```\n\n# \u5931\u52b9\u51e6\u7406\n\n```bash\n# \u8a3c\u660e\u66f8\u306e\u5931\u52b9\u51e6\u7406\nopenssl ca -revoke newcerts/01.pem\n\n# CRL\u306e\u751f\u6210\nopenssl ca -gencrl -out CA.crl\n\n# CRL\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\nopenssl crl -in CA.crl -text\n```\n\n# \u8a3c\u660e\u66f8\u306e\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\n\n```bash\n# TEXT\u5f62\u5f0f\u3067\u8868\u793a\nopenssl x509 -in server.crt -text\n\n# \u8a3c\u660e\u66f8\u306e\u4f7f\u7528\u76ee\u7684\u3092\u8868\u793a\nopenssl x509 -in server.crt -purpose\n\n# ASN.1\u5f62\u5f0f\u3067\u8868\u793a\nopenssl asn1parse -in server.crt\n\n# \u8a3c\u660e\u66f8\u304b\u3089\u516c\u958b\u9375\u3092\u53d6\u308a\u51fa\u3059\nopenssl x509 -in server.crt -pubkey -noout\n```\n\n# \u5f62\u5f0f\u306e\u5909\u63db\n\n```bash\n# PKCS#12\u5f62\u5f0f\u306b\u3059\u308b \u79d8\u5bc6\u9375\u3068\u516c\u958b\u9375\u3092PKCS#12\u5f62\u5f0f1\u30d5\u30a1\u30a4\u30eb\u306b\u3059\u308b\nopenssl pkcs12 -export -inkey server.key -in server.crt -out server.p12\n\n# PKCS#12\u5f62\u5f0f\u3092pem\u5f62\u5f0f\u306b\u623b\u3059\nopenssl pkcs12 -in server.p12 -out server.pem\n\n# DER\u5f62\u5f0f\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\nopenssl x509 -inform pem -outform der -in server.crt -out cacert.der\n```\n", "tags": ["openssl"]}