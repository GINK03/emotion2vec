{"context": " More than 1 year has passed since last update.Emacs \u306b\u306f\u6a19\u6e96\u3067\u4ed8\u3044\u3066\u3066\u4fbf\u5229\u3060\u306a\u3068\u601d\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001Sublime Text \u3067\u3001\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u633f\u5165\u30b3\u30de\u30f3\u30c9\u3068\u305d\u308c\u3092\u4fdd\u5b58\u6642\u306b\u81ea\u52d5\u66f4\u65b0\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\ntimestamp.py\nimport sublime, sublime_plugin\nfrom datetime import datetime\n\nTIMESTAMP_PATTERN = 'Last\\sModified:\\s+20[0-9][0-9]-\\d+-\\d+\\s+\\d+:\\d+:\\d+(\\.\\d+)?'\n\nclass InsertTimestampCommand(sublime_plugin.TextCommand):\n  def run(self, edit):\n    timestamp = datetime.today().strftime(\"%Y-%m-%d %H:%M:%S\")\n    replacement = 'Last Modified: %s' % timestamp\n    for r in self.view.sel():\n      if r.empty():\n        self.view.insert (edit, r.a, replacement)\n      else:\n        self.view.replace (edit, r, replacement)\n\nclass UpdateTimestampListener(sublime_plugin.EventListener):\n    def on_pre_save(self, view):\n      if view.settings().get(\"insert_timestamp_on_save\") == True:\n        region = view.find(TIMESTAMP_PATTERN, 0)\n        if region:\n          view.sel().clear()\n          view.sel().add(region)\n          view.run_command(\"insert_timestamp\")\n\n\n\n\n\u8a2d\u5b9a\n\u4e0a\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3001~/Library/Application Support/Sublime Text 3/Packages/User \u306b\u7f6e\u304d\u307e\u3059\u3002\nPreferences -> Keybindings - User \u306b\u3001\n{ \"keys\": [\"ctrl+shift+t\"], \"command\": \"insert_timestamp\" }\n\n\u3068\u66f8\u304d\uff08\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u306f\u304a\u597d\u307f\u3067\uff09\u3001\u30ad\u30fc\u3092\u62bc\u3059\u3068 Last Modified: 2015-09-15 01:37:14 \u3068\u3044\u3046\u65e5\u6642\u304c\u633f\u5165\u3055\u308c\u307e\u3059\u3002\nPreferences -> Settings - User \u306b\u3001\n\"insert_timestamp_on_save\": true\n\n\u3068\u66f8\u304f\u3068\u3001\u4e0a\u306e Last Modified: 2015-09-15 01:37:14 \u306e\u6587\u5b57\u304c\u4fdd\u5b58\u6642\u306b\u81ea\u52d5\u3067\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002\n\n\u53c2\u8003\nSublime Forum \u2022 View topic - Automatically updated Timestamp?\nSublimeText\u3067\u304b\u3093\u305f\u3093\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u633f\u5165\u3055\u305b\u308b\nEmacs \u306b\u306f\u6a19\u6e96\u3067\u4ed8\u3044\u3066\u3066\u4fbf\u5229\u3060\u306a\u3068\u601d\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001Sublime Text \u3067\u3001\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u633f\u5165\u30b3\u30de\u30f3\u30c9\u3068\u305d\u308c\u3092\u4fdd\u5b58\u6642\u306b\u81ea\u52d5\u66f4\u65b0\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\n```timestamp.py\nimport sublime, sublime_plugin\nfrom datetime import datetime\n\nTIMESTAMP_PATTERN = 'Last\\sModified:\\s+20[0-9][0-9]-\\d+-\\d+\\s+\\d+:\\d+:\\d+(\\.\\d+)?'\n\nclass InsertTimestampCommand(sublime_plugin.TextCommand):\n  def run(self, edit):\n    timestamp = datetime.today().strftime(\"%Y-%m-%d %H:%M:%S\")\n    replacement = 'Last Modified: %s' % timestamp\n    for r in self.view.sel():\n      if r.empty():\n        self.view.insert (edit, r.a, replacement)\n      else:\n        self.view.replace (edit, r, replacement)\n\nclass UpdateTimestampListener(sublime_plugin.EventListener):\n    def on_pre_save(self, view):\n      if view.settings().get(\"insert_timestamp_on_save\") == True:\n        region = view.find(TIMESTAMP_PATTERN, 0)\n        if region:\n          view.sel().clear()\n          view.sel().add(region)\n          view.run_command(\"insert_timestamp\")\n\n```\n\n## \u8a2d\u5b9a\n\n\u4e0a\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u3001`~/Library/Application Support/Sublime Text 3/Packages/User` \u306b\u7f6e\u304d\u307e\u3059\u3002\n\nPreferences -> Keybindings - User \u306b\u3001\n\n```\n{ \"keys\": [\"ctrl+shift+t\"], \"command\": \"insert_timestamp\" }\n```\n\n\u3068\u66f8\u304d\uff08\u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u306f\u304a\u597d\u307f\u3067\uff09\u3001\u30ad\u30fc\u3092\u62bc\u3059\u3068 `Last Modified: 2015-09-15 01:37:14` \u3068\u3044\u3046\u65e5\u6642\u304c\u633f\u5165\u3055\u308c\u307e\u3059\u3002\n\nPreferences -> Settings - User \u306b\u3001\n\n```\n\"insert_timestamp_on_save\": true\n```\n\u3068\u66f8\u304f\u3068\u3001\u4e0a\u306e `Last Modified: 2015-09-15 01:37:14` \u306e\u6587\u5b57\u304c\u4fdd\u5b58\u6642\u306b\u81ea\u52d5\u3067\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002\n\n\n\n## \u53c2\u8003\n[Sublime Forum \u2022 View topic - Automatically updated Timestamp?](http://www.sublimetext.com/forum/viewtopic.php?f=2&t=9093)\n[SublimeText\u3067\u304b\u3093\u305f\u3093\u306b\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u633f\u5165\u3055\u305b\u308b](http://b.hishitu.net/4658.html)\n", "tags": ["SublimeText", "Python"]}