{"context": " More than 1 year has passed since last update.\n\nriak-admin Command Line\n\u5927\u96d1\u628a\u306a\u610f\u8a33\u3001\u8a33\u3057\u306b\u304f\u3044\u7b87\u6240\u306f\u82f1\u6587\u306e\u307e\u307e\u8ee2\u8f09\u3057\u307e\u3059\nhttp://docs.basho.com/riak/1.3.2/references/Command-Line-Tools---riak-admin/\n\nOverview\nriak-admin \u306f\u3001Riak \u30ce\u30fc\u30c9\u306b\u95a2\u4fc2\u3057\u306a\u3044\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u306a\u3044\u307e\u3059\u3002\u30ce\u30fc\u30c9\u306e\u30e1\u30f3\u30d0\u30fc\u30b7\u30c3\u30d7\u3084\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3001\u57fa\u672c\u7684\u306a\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u30ec\u30dd\u30fc\u30c8\u3059\u308b\u6a5f\u80fd\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002Riak \u30ce\u30fc\u30c9\u306f\u3001\u3053\u308c\u3089\u306e\u30b3\u30de\u30f3\u30c9\u306e\u591a\u304f\u306e\u305f\u3081\u306b\u51e6\u7406\u3092\u884c\u306a\u3044\u307e\u3059\u3002\nUsage: riak-admin { cluster | join | leave | backup | restore | test |\n                    reip | js-reload | erl-reload | wait-for-service |\n                    ringready | transfers | force-remove | down |\n                    cluster-info | member-status | ring-status | vnode-status |\n                    diag | status | transfer-limit | top }\n\n\ncluster\n\u30d0\u30fc\u30b8\u30e7\u30f3 1.2 \u306e\u6642\u70b9\u3067\u3001Riak \u306f Cluster \u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306b\u8907\u6570\u306e\u6bb5\u968e\u3092\u8e0f\u3080\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002Cluster \u306e\u5909\u66f4\u3092 commit \u3059\u308b\u524d\u306b\u3001\u5909\u66f4\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3057\u305f\u3002\n\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u3063\u3066 Cluster \u306e\u7ba1\u7406\u306f\u3001\u3059\u3050\u306b\u8907\u6570\u306e\u30ce\u30fc\u30c9\u3092\u52a0\u3048\u308b\u304b\u3001\u3042\u308b\u3044\u306f\u4ed6\u306e\u30ce\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\u9593\u306b\u3044\u304f\u3064\u304b\u306e\u30ce\u30fc\u30c9\u3092\u52a0\u3048\u308b\u306e\u3088\u3046\u306a\u3001\u8907\u6570\u306e\u5909\u66f4\u3092\u307e\u3068\u3081\u3066\u884c\u306a\u3046\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3057\u305f\u3002\nDetails about how a set of staged changes will impact the cluster, listing the future ring ownership as well as the number of transfers necessary to implement the planned changes are provided by the new interface. (\u306a\u3093\u3068\u306a\u304f\u610f\u5473\u306f\u5206\u304b\u308b\u3051\u3069\u3001\u8a33\u3057\u306b\u304f\u3044\u306e\u3067\u7701\u7565..)\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001Cluster \u306e\u30e1\u30f3\u30d0\u30fc\u30b7\u30c3\u30d7\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3059\u3050\u306b\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\u5909\u66f4\u306e\u30bb\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u3067\u3001commit \u3092\u884c\u306a\u3046\u3053\u3068\u3067\u53cd\u6620\u3055\u308c\u307e\u3059\u3002\n\ncluster join\n \u3067\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u3092\u542b\u3093\u3067\u3044\u308b Cluster \u306b\u52a0\u3048\u307e\u3059\u3002\nriak-admin cluster join <node>\n\n\ncluster leave\n\u3053\u306e\u30ce\u30fc\u30c9\u306e\u62c5\u5f53\u30c7\u30fc\u30bf\u3092\u4ed6\u30ce\u30fc\u30c9\u306b\u518d\u5206\u6563\u3057\u3001Cluster \u304b\u3089\u5207\u308a\u96e2\u3057\u307e\u3059\u3002\nriak-admin cluster leave\n\n \u3067\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u306e\u62c5\u5f53\u30c7\u30fc\u30bf\u3092\u4ed6\u30ce\u30fc\u30c9\u306b\u518d\u5206\u6563\u3057\u3001Cluster \u304b\u3089\u5207\u308a\u96e2\u3057\u307e\u3059\u3002\nriak-admin cluster leave <node>\n\n\ncluster force-remove\n \u3067\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u306e\u62c5\u5f53\u30c7\u30fc\u30bf\u3092\u518d\u5206\u6563\u305b\u305a\u306b\u3001Cluster \u304b\u3089\u524a\u9664\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u3066\u5fa9\u65e7\u3067\u304d\u306a\u3044\u30ce\u30fc\u30c9\u306e\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u6ce8\u610f\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3079\u304d\u3067\u3059\u3002\nriak-admin cluster force-remove <node>\n\n\ncluster replace\n \u306b\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u306e\u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092  \u3067\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u306b\u8ee2\u9001\u3057\u3001 \u306b\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u3092 Cluster \u304b\u3089\u53d6\u308a\u9664\u304d\u307e\u3059\u3002\nriak-admin cluster replace <node1> <node2>\n\n\ncluster plan\nCluster \u306e\u5909\u66f4\u30b9\u30c6\u30fc\u30b8\u3092\u8868\u793a\u3057\u307e\u3059\u3002\nriak-admin cluster plan\n\n\ncluster clear\nCluster \u306e\u5909\u66f4\u30b9\u30c6\u30fc\u30b8\u3092\u521d\u671f\u5316\u3057\u307e\u3059\nriak-admin cluster clear\n\n\ncluster commit\nCluster \u306e\u5909\u66f4\u30b9\u30c6\u30fc\u30b8\u3092\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3059\u3002\u30b3\u30df\u30c3\u30c8\u3092\u884c\u306a\u3046\u524d\u306b\u3001\u524d\u8ff0\u3057\u305f riak-admin cluster plan \u3092\u4f7f\u7528\u3057\u3066 Cluster \u306e\u5909\u66f4\u30b9\u30c6\u30fc\u30b8\u3092\u78ba\u8a8d\u3057\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\nriak-admin cluster commit\n\n\nbackup\n\u5168\u30af\u30e9\u30b9\u30bf\u3042\u308b\u3044\u306f\u6307\u5b9a\u30ce\u30fc\u30c9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u306f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u884c\u306a\u3046\u30ce\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u306f\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u308b\u79d8\u5bc6\u306e Erlang cookie/shared secret \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u521d\u671f\u72b6\u614b\u3067\u306f riak \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u306f\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u683c\u7d0d\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d5\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002[[node]] \u306f\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5bfe\u8c61\u306e\u30ce\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30af\u30e9\u30b9\u30bf\u5168\u4f53\u3092\u5bfe\u8c61\u3068\u3059\u308b\u5834\u5408\u306f all \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nriak-admin backup <node> <cookie> <filename> [[node]]\n\n\nrestore\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304b\u3089\u3001\u30ce\u30fc\u30c9\u3042\u308b\u3044\u306f Cluster \u306b\u30c7\u30fc\u30bf\u3092\u30ea\u30b9\u30c8\u30a2\u3057\u307e\u3059\u3002 \u306f\u30ea\u30b9\u30c8\u30a2\u3092\u884c\u306a\u3046\u30ce\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u306f\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u308b\u79d8\u5bc6\u306e Erlang cookie/shared secret \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u521d\u671f\u72b6\u614b\u3067\u306f riak \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u306f\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d5\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nriak-admin restore <node> <cookie> <filename>\n\n\ntest\n\u7a3c\u50cd\u3057\u3066\u3044\u308b\u30ce\u30fc\u30c9\u306b\u3001\u5c11\u6570\u306e\u6a19\u6e96\u7684\u306a\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u8a66\u3057\u307e\u3059\u3002\nriak-admin test\n\n\njs-reload\n\u5185\u90e8\u306e Javascript VM \u3092\u5f37\u5236\u7684\u306b\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\u65b0\u3057\u304f\u30ab\u30b9\u30bf\u30e0\u3057\u305f\u5185\u8535\u306e MapReduce \u6a5f\u80fd\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3068\u304d\u306b\u4fbf\u5229\u3067\u3059\u3002\u3053\u308c\u306b\u306f\u3001Cluster \u306e\u5168\u3066\u306e\u30ce\u30fc\u30c9\u304c\u7a3c\u50cd\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nriak-admin js-reload\n\n\nservices\n\u30ce\u30fc\u30c9\u4e0a\u306e\u5229\u7528\u53ef\u80fd\u306a\u30b5\u30fc\u30d3\u30b9\u30ea\u30b9\u30c8 (\u4f8b\u3048\u3070 riak_kv) \u3092\u51fa\u529b\u3057\u307e\u3059\u3002\nriak-admin services\n\n\nwait-for-service\nWaits on a specific watchable service to be available (typically riak_kv). This is useful when (re-)starting a node while the cluster is under load. \u7a3c\u50cd\u3057\u3066\u3044\u308b\u30ce\u30fc\u30c9\u4e0a\u3067\u3069\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u5229\u7528\u53ef\u80fd\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u524d\u8ff0\u3057\u305f \"riak-admin services\" \u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nriak-admin wait-for-service <service> <nodename>\n\n\nringready\nCluster \u306e\u5168\u3066\u306e\u30ce\u30fc\u30c9\u304c ring \u30b9\u30c6\u30fc\u30c8\u3068\u4e00\u81f4\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u3082\u3057\u4e00\u81f4\u3057\u3066\u3044\u306a\u3051\u308c\u3070 \"FALSE\" \u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002Cluster \u306e\u30e1\u30f3\u30d0\u30fc\u30b7\u30c3\u30d7\u3092\u5909\u66f4\u3057\u305f\u5f8c\u306b\u3001ring \u30b9\u30c6\u30fc\u30c8\u304c\u78ba\u7acb\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u304b\u3081\u308b\u3068\u304d\u306b\u4fbf\u5229\u3067\u3059\u3002\nriak-admin ringready\n\n\ntransfers\n\u3072\u3068\u3064\u4ee5\u4e0a\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8ee2\u9001\u3092\u5f85\u3063\u3066\u3044\u308b\u30ce\u30fc\u30c9\u3092\u8b58\u5225\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u901a\u5e38\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u6240\u6709\u8005\u304c\u5909\u5316\u3057\u305f (\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3042\u308b\u3044\u306f\u524a\u9664) \u5834\u5408\u3084\u3001\u30ce\u30fc\u30c9\u3092\u30ea\u30ab\u30d0\u30ea\u30fc\u3057\u305f\u5f8c\u306b\u751f\u3058\u307e\u3059\u3002\nriak-admin transfers\n\n\ntransfer-limit\n\u30c7\u30fc\u30bf\u306e\u518d\u914d\u7f6e\u304c\u540c\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u4e0a\u9650\u6570\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\nriak-admin transfer-limit <node> <limit>\n\n\ndown\nMarks a node as down so that ring transitions can be performed before the node is brought back online. \nriak-admin down <node>\n\n\ncluster-info\nRiak Cluster \u304b\u3089\u30b7\u30b9\u30c6\u30e0\u60c5\u5831\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u5168\u30ce\u30fc\u30c9\u3042\u308b\u3044\u306f\u4e00\u90e8\u306e\u30ce\u30fc\u30c9\u304b\u3089\u60c5\u5831\u3092\u96c6\u3081\u3001\u3072\u3068\u3064\u306e\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\nriak-admin cluster_info <output file> [<node list>]\n\n\u4ee5\u4e0b\u306e\u60c5\u5831\u304c\u96c6\u3081\u3089\u308c\u307e\u3059\u3002\n\nCurrent time and date\nVM statistics\nerlang:memory() summary\nTop 50 process memory hogs\nRegistered process names\nRegistered process name via regs()\nNon-zero mailbox sizes\nPorts\nApplications\nTimer status\nETS summary\nNodes summary\nnet_kernel summary\ninet_db summary\nAlarm summary\nGlobal summary\nerlang:system_info() summary\nLoaded modules\nRiak Core config files\nRiak Core vnode modules\nRiak Core ring\nRiak Core latest ring file\nRiak Core active partitions\nRiak KV status\nRiak KV ringready\nRiak KV transfers\n\n\u6b21\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n# Output information from all nodes to /tmp/cluster_info.txt\nriak-admin cluster_info /tmp/cluster_info.txt\n\n# Output information from the current node\nriak-admin cluster_info /tmp/cluster_info.txt local\n\n# Output information from a subset of nodes\nriak-admin cluster_info /tmp/cluster_info.txt riak@192.168.1.10 riak@192.168.1.11\n\n\nmember-status\nCluster \u30e1\u30f3\u30d0\u30fc\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\nriak-admin member-status\n\n\nring-status\nRing \u30b9\u30c6\u30fc\u30bf\u30b9 (claimant, its status, ringready, pending ownership handoffs and a list of unreachable nodes) \u3092\u51fa\u529b\u3057\u307e\u3059\u3002\nriak-admin ring-status\n\n\nvnode-status\n\u30ed\u30fc\u30ab\u30eb\u30ce\u30fc\u30c9\u4e0a\u3067\u52d5\u4f5c\u3057\u3066\u3044\u308b\u5168\u3066\u306e\u4eee\u60f3\u30ce\u30fc\u30c9\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\nriak-admin vnode-status\n\n\naae-status\nThis command provides insight into operation of Riak's Active Anti Entropy (AAE) feature.\nriak-admin aae-status\n\nThe output contains information on AAE key/value partition exchanges, entropy tree building, and key repairs which were triggered by AAE.\n\n\nExchanges\n\nThe Last column lists when the most recent exchange between a partition and one of its sibling replicas was performed.\nThe All column shows how long it has been since a partition exchanged with all of its sibling replicas.\n\n\n\nEntropy Trees\n\nThe Built column shows when the hash trees for a given partition were created.\n\n\n\nKeys Repaired\n\nThe Last column shows the number of keys repaired during the most recent key exchange.\nThe Mean column shows the mean number of keys repaired during all key exchanges since the last node restart.\nThe Max column shows the maximum number of keys repaired during all key exchanges since the last node restart.\n\n\n\n\u5168\u3066\u306e AAE \u30b9\u30c6\u30fc\u30bf\u30b9\u60c5\u5831\u306f\u30e1\u30e2\u30ea\u30fc\u306b\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u30ce\u30fc\u30c9\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002Only tree build times are persistent (since trees themselves are persistent). \"aae-status\" \u30b3\u30de\u30f3\u30c9\u306e\u8a73\u7d30\u306a\u60c5\u5831\u306f Riak version 1.3 release notes \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\ndiag\n \u306e\u8a3a\u65ad\u3092\u884c\u306a\u3044\u307e\u3059\u3002\nriak-admin diag <node>\n\n\nstatus\n\u30ce\u30fc\u30c9\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u60c5\u5831 (\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u7d71\u8a08\u3001\u30d8\u30eb\u30b9\u60c5\u5831\u3001\u30d0\u30fc\u30b8\u30e7\u30f3) \u3092\u51fa\u529b\u3057\u307e\u3059\u3002statistics-aggregator \u3092\u52d5\u304b\u3059\u306b\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u6709\u52b9\u306b\u3057\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\u51fa\u529b\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306a\u60c5\u5831\u306f Inspecting a Riak Node \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nriak-admin status\n\n\nreformat-indexes\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30012i \u306e Integer \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092 Riak 1.3.1 \u7528\u306b\u518d\u69cb\u7bc9\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u3063\u3066\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3057\u305f Range \u30af\u30a8\u30ea\u30fc\u304c\u6b63\u78ba\u306a\u7d50\u679c\u3092\u8fd4\u3059\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nriak-admin reformat-indexes [<concurrency>] [<batch size>] --downgrade\n\nThe \"concurrency\" option defaults to 2 and controls how many partitions are concurrently reformatted.\nThe \"batch size\" option controls the number of simultaneous key operations and defaults to 100.\nThe command can be executed while the node is serving requests, and default values are recommended for most cases. You should only change the default values after testing impact on cluster performance.\nInformation is written to \"console.log\" upon completion of the process.\nA \"--downgrade\" switch can be specified when downgrading a node to a version of Riak prior to version 1.3.1. \nAdditional details are available in the Riak 1.3.1 release notes. \n\ntop\nTop \u306f\u3001Riak \u5185\u90e8\u306e Erlang \u30d7\u30ed\u30bb\u30b9\u304c\u4f55\u3092\u884c\u306a\u3063\u3066\u3044\u308b\u304b\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002Top reports process reductions (an indicator of CPU utilization), memory used and message queue sizes\nriak-admin top\n\n\nEnd\n\u5185\u5bb9\u304c\u591a\u304f\u3066\u9014\u4e2d\u3067\u6c17\u529b\u304c\u3064\u304d\u3066\u3057\u307e\u3063\u305f\u2026 \u5b9f\u969b\u306b\u8a66\u3055\u306a\u304d\u3083\u7406\u89e3\u304c\u82e6\u3057\u3044\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308b\u306a\u30fc\u3002\u5225\u8a18\u4e8b\u3067\u8a66\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3046\u3002\n\n# riak-admin Command Line\n\n\u5927\u96d1\u628a\u306a\u610f\u8a33\u3001\u8a33\u3057\u306b\u304f\u3044\u7b87\u6240\u306f\u82f1\u6587\u306e\u307e\u307e\u8ee2\u8f09\u3057\u307e\u3059\nhttp://docs.basho.com/riak/1.3.2/references/Command-Line-Tools---riak-admin/\n\n## Overview\n\nriak-admin \u306f\u3001Riak \u30ce\u30fc\u30c9\u306b\u95a2\u4fc2\u3057\u306a\u3044\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u306a\u3044\u307e\u3059\u3002\u30ce\u30fc\u30c9\u306e\u30e1\u30f3\u30d0\u30fc\u30b7\u30c3\u30d7\u3084\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3001\u57fa\u672c\u7684\u306a\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u30ec\u30dd\u30fc\u30c8\u3059\u308b\u6a5f\u80fd\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002Riak \u30ce\u30fc\u30c9\u306f\u3001\u3053\u308c\u3089\u306e\u30b3\u30de\u30f3\u30c9\u306e\u591a\u304f\u306e\u305f\u3081\u306b\u51e6\u7406\u3092\u884c\u306a\u3044\u307e\u3059\u3002\n\n```\nUsage: riak-admin { cluster | join | leave | backup | restore | test |\n                    reip | js-reload | erl-reload | wait-for-service |\n                    ringready | transfers | force-remove | down |\n                    cluster-info | member-status | ring-status | vnode-status |\n                    diag | status | transfer-limit | top }\n```\n\n## cluster\n\n\u30d0\u30fc\u30b8\u30e7\u30f3 1.2 \u306e\u6642\u70b9\u3067\u3001Riak \u306f Cluster \u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306b\u8907\u6570\u306e\u6bb5\u968e\u3092\u8e0f\u3080\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002Cluster \u306e\u5909\u66f4\u3092 commit \u3059\u308b\u524d\u306b\u3001\u5909\u66f4\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u3063\u3066 Cluster \u306e\u7ba1\u7406\u306f\u3001\u3059\u3050\u306b\u8907\u6570\u306e\u30ce\u30fc\u30c9\u3092\u52a0\u3048\u308b\u304b\u3001\u3042\u308b\u3044\u306f\u4ed6\u306e\u30ce\u30fc\u30c9\u3092\u524a\u9664\u3059\u308b\u9593\u306b\u3044\u304f\u3064\u304b\u306e\u30ce\u30fc\u30c9\u3092\u52a0\u3048\u308b\u306e\u3088\u3046\u306a\u3001\u8907\u6570\u306e\u5909\u66f4\u3092\u307e\u3068\u3081\u3066\u884c\u306a\u3046\u3053\u3068\u3092\u53ef\u80fd\u306b\u3057\u307e\u3057\u305f\u3002\n\nDetails about how a set of staged changes will impact the cluster, listing the future ring ownership as well as the number of transfers necessary to implement the planned changes are provided by the new interface. (\u306a\u3093\u3068\u306a\u304f\u610f\u5473\u306f\u5206\u304b\u308b\u3051\u3069\u3001\u8a33\u3057\u306b\u304f\u3044\u306e\u3067\u7701\u7565..)\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001Cluster \u306e\u30e1\u30f3\u30d0\u30fc\u30b7\u30c3\u30d7\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3059\u3050\u306b\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\u5909\u66f4\u306e\u30bb\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u3067\u3001commit \u3092\u884c\u306a\u3046\u3053\u3068\u3067\u53cd\u6620\u3055\u308c\u307e\u3059\u3002\n\n## cluster join\n\n<node> \u3067\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u3092\u542b\u3093\u3067\u3044\u308b Cluster \u306b\u52a0\u3048\u307e\u3059\u3002\n\n```\nriak-admin cluster join <node>\n```\n## cluster leave\n\n\u3053\u306e\u30ce\u30fc\u30c9\u306e\u62c5\u5f53\u30c7\u30fc\u30bf\u3092\u4ed6\u30ce\u30fc\u30c9\u306b\u518d\u5206\u6563\u3057\u3001Cluster \u304b\u3089\u5207\u308a\u96e2\u3057\u307e\u3059\u3002\n\n```\nriak-admin cluster leave\n```\n\n<node> \u3067\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u306e\u62c5\u5f53\u30c7\u30fc\u30bf\u3092\u4ed6\u30ce\u30fc\u30c9\u306b\u518d\u5206\u6563\u3057\u3001Cluster \u304b\u3089\u5207\u308a\u96e2\u3057\u307e\u3059\u3002\n\n```\nriak-admin cluster leave <node>\n```\n\n## cluster force-remove\n\n<node> \u3067\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u306e\u62c5\u5f53\u30c7\u30fc\u30bf\u3092\u518d\u5206\u6563\u305b\u305a\u306b\u3001Cluster \u304b\u3089\u524a\u9664\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3001\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u3066\u5fa9\u65e7\u3067\u304d\u306a\u3044\u30ce\u30fc\u30c9\u306e\u305f\u3081\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u6ce8\u610f\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u3079\u304d\u3067\u3059\u3002\n\n```\nriak-admin cluster force-remove <node>\n```\n\n## cluster replace\n\n<node1> \u306b\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u306e\u5168\u3066\u306e\u30c7\u30fc\u30bf\u3092 <node2> \u3067\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u306b\u8ee2\u9001\u3057\u3001<node1> \u306b\u6307\u5b9a\u3057\u305f\u30ce\u30fc\u30c9\u3092 Cluster \u304b\u3089\u53d6\u308a\u9664\u304d\u307e\u3059\u3002\n\n```\nriak-admin cluster replace <node1> <node2>\n```\n\n## cluster plan\n\nCluster \u306e\u5909\u66f4\u30b9\u30c6\u30fc\u30b8\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n```\nriak-admin cluster plan\n```\n\n## cluster clear\n\nCluster \u306e\u5909\u66f4\u30b9\u30c6\u30fc\u30b8\u3092\u521d\u671f\u5316\u3057\u307e\u3059\n\n```\nriak-admin cluster clear\n```\n\n## cluster commit\n\nCluster \u306e\u5909\u66f4\u30b9\u30c6\u30fc\u30b8\u3092\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3059\u3002\u30b3\u30df\u30c3\u30c8\u3092\u884c\u306a\u3046\u524d\u306b\u3001\u524d\u8ff0\u3057\u305f riak-admin cluster plan \u3092\u4f7f\u7528\u3057\u3066 Cluster \u306e\u5909\u66f4\u30b9\u30c6\u30fc\u30b8\u3092\u78ba\u8a8d\u3057\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\n\n```\nriak-admin cluster commit\n```\n\n## backup\n\n\u5168\u30af\u30e9\u30b9\u30bf\u3042\u308b\u3044\u306f\u6307\u5b9a\u30ce\u30fc\u30c9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002<node> \u306f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u884c\u306a\u3046\u30ce\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002<cookie> \u306f\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u308b\u79d8\u5bc6\u306e Erlang cookie/shared secret \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u521d\u671f\u72b6\u614b\u3067\u306f riak \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002<filename> \u306f\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u683c\u7d0d\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d5\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002[[node]] \u306f\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u5bfe\u8c61\u306e\u30ce\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30af\u30e9\u30b9\u30bf\u5168\u4f53\u3092\u5bfe\u8c61\u3068\u3059\u308b\u5834\u5408\u306f all \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\nriak-admin backup <node> <cookie> <filename> [[node]]\n```\n\n## restore\n\n\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304b\u3089\u3001\u30ce\u30fc\u30c9\u3042\u308b\u3044\u306f Cluster \u306b\u30c7\u30fc\u30bf\u3092\u30ea\u30b9\u30c8\u30a2\u3057\u307e\u3059\u3002<node> \u306f\u30ea\u30b9\u30c8\u30a2\u3092\u884c\u306a\u3046\u30ce\u30fc\u30c9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002<cookie> \u306f\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u308b\u79d8\u5bc6\u306e Erlang cookie/shared secret \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u521d\u671f\u72b6\u614b\u3067\u306f riak \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002<filename> \u306f\u3001\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d5\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\nriak-admin restore <node> <cookie> <filename>\n```\n\n## test\n\n\u7a3c\u50cd\u3057\u3066\u3044\u308b\u30ce\u30fc\u30c9\u306b\u3001\u5c11\u6570\u306e\u6a19\u6e96\u7684\u306a\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u8a66\u3057\u307e\u3059\u3002\n\n```\nriak-admin test\n```\n\n## js-reload\n\n\u5185\u90e8\u306e Javascript VM \u3092\u5f37\u5236\u7684\u306b\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\u65b0\u3057\u304f\u30ab\u30b9\u30bf\u30e0\u3057\u305f\u5185\u8535\u306e MapReduce \u6a5f\u80fd\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3068\u304d\u306b\u4fbf\u5229\u3067\u3059\u3002\u3053\u308c\u306b\u306f\u3001Cluster \u306e\u5168\u3066\u306e\u30ce\u30fc\u30c9\u304c\u7a3c\u50cd\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```\nriak-admin js-reload\n```\n\n## services\n\n\u30ce\u30fc\u30c9\u4e0a\u306e\u5229\u7528\u53ef\u80fd\u306a\u30b5\u30fc\u30d3\u30b9\u30ea\u30b9\u30c8 (\u4f8b\u3048\u3070 riak_kv) \u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```\nriak-admin services\n```\n\n## wait-for-service\n\nWaits on a specific watchable service to be available (typically riak_kv). This is useful when (re-)starting a node while the cluster is under load. \u7a3c\u50cd\u3057\u3066\u3044\u308b\u30ce\u30fc\u30c9\u4e0a\u3067\u3069\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u5229\u7528\u53ef\u80fd\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u524d\u8ff0\u3057\u305f \"riak-admin services\" \u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nriak-admin wait-for-service <service> <nodename>\n```\n\n## ringready\n\nCluster \u306e\u5168\u3066\u306e\u30ce\u30fc\u30c9\u304c ring \u30b9\u30c6\u30fc\u30c8\u3068\u4e00\u81f4\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u3082\u3057\u4e00\u81f4\u3057\u3066\u3044\u306a\u3051\u308c\u3070 \"FALSE\" \u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002Cluster \u306e\u30e1\u30f3\u30d0\u30fc\u30b7\u30c3\u30d7\u3092\u5909\u66f4\u3057\u305f\u5f8c\u306b\u3001ring \u30b9\u30c6\u30fc\u30c8\u304c\u78ba\u7acb\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u304b\u3081\u308b\u3068\u304d\u306b\u4fbf\u5229\u3067\u3059\u3002\n\n```\nriak-admin ringready\n```\n\n## transfers\n\n\u3072\u3068\u3064\u4ee5\u4e0a\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8ee2\u9001\u3092\u5f85\u3063\u3066\u3044\u308b\u30ce\u30fc\u30c9\u3092\u8b58\u5225\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u901a\u5e38\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u6240\u6709\u8005\u304c\u5909\u5316\u3057\u305f (\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3042\u308b\u3044\u306f\u524a\u9664) \u5834\u5408\u3084\u3001\u30ce\u30fc\u30c9\u3092\u30ea\u30ab\u30d0\u30ea\u30fc\u3057\u305f\u5f8c\u306b\u751f\u3058\u307e\u3059\u3002\n\n```\nriak-admin transfers\n```\n\n## transfer-limit\n\n\u30c7\u30fc\u30bf\u306e\u518d\u914d\u7f6e\u304c\u540c\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u4e0a\u9650\u6570\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```\nriak-admin transfer-limit <node> <limit>\n```\n\n## down\n\nMarks a node as down so that ring transitions can be performed before the node is brought back online. \n\n```\nriak-admin down <node>\n```\n\n## cluster-info\n\nRiak Cluster \u304b\u3089\u30b7\u30b9\u30c6\u30e0\u60c5\u5831\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u5168\u30ce\u30fc\u30c9\u3042\u308b\u3044\u306f\u4e00\u90e8\u306e\u30ce\u30fc\u30c9\u304b\u3089\u60c5\u5831\u3092\u96c6\u3081\u3001\u3072\u3068\u3064\u306e\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```\nriak-admin cluster_info <output file> [<node list>]\n```\n\n\u4ee5\u4e0b\u306e\u60c5\u5831\u304c\u96c6\u3081\u3089\u308c\u307e\u3059\u3002\n\n* Current time and date\n* VM statistics\n* erlang:memory() summary\n* Top 50 process memory hogs\n* Registered process names\n* Registered process name via regs()\n* Non-zero mailbox sizes\n* Ports\n* Applications\n* Timer status\n* ETS summary\n* Nodes summary\n* net_kernel summary\n* inet_db summary\n* Alarm summary\n* Global summary\n* erlang:system_info() summary\n* Loaded modules\n* Riak Core config files\n* Riak Core vnode modules\n* Riak Core ring\n* Riak Core latest ring file\n* Riak Core active partitions\n* Riak KV status\n* Riak KV ringready\n* Riak KV transfers\n\n\u6b21\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n# Output information from all nodes to /tmp/cluster_info.txt\nriak-admin cluster_info /tmp/cluster_info.txt\n\n# Output information from the current node\nriak-admin cluster_info /tmp/cluster_info.txt local\n\n# Output information from a subset of nodes\nriak-admin cluster_info /tmp/cluster_info.txt riak@192.168.1.10 riak@192.168.1.11\n```\n\n## member-status\n\nCluster \u30e1\u30f3\u30d0\u30fc\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```\nriak-admin member-status\n```\n\n## ring-status\n\nRing \u30b9\u30c6\u30fc\u30bf\u30b9 (claimant, its status, ringready, pending ownership handoffs and a list of unreachable nodes) \u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```\nriak-admin ring-status\n```\n\n## vnode-status\n\n\u30ed\u30fc\u30ab\u30eb\u30ce\u30fc\u30c9\u4e0a\u3067\u52d5\u4f5c\u3057\u3066\u3044\u308b\u5168\u3066\u306e\u4eee\u60f3\u30ce\u30fc\u30c9\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```\nriak-admin vnode-status\n```\n\n## aae-status\n\nThis command provides insight into operation of Riak's Active Anti Entropy (AAE) feature.\n\n```\nriak-admin aae-status\n```\n\nThe output contains information on AAE key/value partition exchanges, entropy tree building, and key repairs which were triggered by AAE.\n\n* Exchanges\n * The Last column lists when the most recent exchange between a partition and one of its sibling replicas was performed.\n * The All column shows how long it has been since a partition exchanged with all of its sibling replicas.\n\n* Entropy Trees\n * The Built column shows when the hash trees for a given partition were created.\n\n* Keys Repaired\n * The Last column shows the number of keys repaired during the most recent key exchange.\n * The Mean column shows the mean number of keys repaired during all key exchanges since the last node restart.\n * The Max column shows the maximum number of keys repaired during all key exchanges since the last node restart.\n\n\u5168\u3066\u306e AAE \u30b9\u30c6\u30fc\u30bf\u30b9\u60c5\u5831\u306f\u30e1\u30e2\u30ea\u30fc\u306b\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u30ce\u30fc\u30c9\u3092\u518d\u8d77\u52d5\u3059\u308b\u3068\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002Only tree build times are persistent (since trees themselves are persistent). \"aae-status\" \u30b3\u30de\u30f3\u30c9\u306e\u8a73\u7d30\u306a\u60c5\u5831\u306f [Riak version 1.3 release notes](https://github.com/basho/riak/blob/1.3/RELEASE-NOTES.md#active-anti-entropy) \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## diag\n\n<node> \u306e\u8a3a\u65ad\u3092\u884c\u306a\u3044\u307e\u3059\u3002\n\n```\nriak-admin diag <node>\n```\n\n## status\n\n\u30ce\u30fc\u30c9\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u60c5\u5831 (\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u7d71\u8a08\u3001\u30d8\u30eb\u30b9\u60c5\u5831\u3001\u30d0\u30fc\u30b8\u30e7\u30f3) \u3092\u51fa\u529b\u3057\u307e\u3059\u3002statistics-aggregator \u3092\u52d5\u304b\u3059\u306b\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u6709\u52b9\u306b\u3057\u306a\u3051\u308c\u3070\u3044\u3051\u307e\u305b\u3093\u3002\u51fa\u529b\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306a\u60c5\u5831\u306f [Inspecting a Riak Node](http://docs.basho.com/riak/1.3.2/references/appendices/Inspecting-a-Node/) \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nriak-admin status\n```\n\n## reformat-indexes\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u30012i \u306e Integer \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092 Riak 1.3.1 \u7528\u306b\u518d\u69cb\u7bc9\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u3063\u3066\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3057\u305f Range \u30af\u30a8\u30ea\u30fc\u304c\u6b63\u78ba\u306a\u7d50\u679c\u3092\u8fd4\u3059\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\nriak-admin reformat-indexes [<concurrency>] [<batch size>] --downgrade\n```\n\nThe \"concurrency\" option defaults to 2 and controls how many partitions are concurrently reformatted.\n\nThe \"batch size\" option controls the number of simultaneous key operations and defaults to 100.\n\nThe command can be executed while the node is serving requests, and default values are recommended for most cases. You should only change the default values after testing impact on cluster performance.\n\nInformation is written to \"console.log\" upon completion of the process.\n\nA \"--downgrade\" switch can be specified when downgrading a node to a version of Riak prior to version 1.3.1. \n\nAdditional details are available in the Riak 1.3.1 release notes. \n\n## top\n\nTop \u306f\u3001Riak \u5185\u90e8\u306e Erlang \u30d7\u30ed\u30bb\u30b9\u304c\u4f55\u3092\u884c\u306a\u3063\u3066\u3044\u308b\u304b\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002Top reports process reductions (an indicator of CPU utilization), memory used and message queue sizes\n\n```\nriak-admin top\n```\n\n## End\n\n\u5185\u5bb9\u304c\u591a\u304f\u3066\u9014\u4e2d\u3067\u6c17\u529b\u304c\u3064\u304d\u3066\u3057\u307e\u3063\u305f\u2026 \u5b9f\u969b\u306b\u8a66\u3055\u306a\u304d\u3083\u7406\u89e3\u304c\u82e6\u3057\u3044\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308b\u306a\u30fc\u3002\u5225\u8a18\u4e8b\u3067\u8a66\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3046\u3002\n\n\n\n\n\n\n\n\n\n\n\n", "tags": ["riak"]}