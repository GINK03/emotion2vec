{"context": " More than 1 year has passed since last update.\u968e\u4e57\u306e\u8a08\u7b97\u3092\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u4f5c\u308b\u3002\ndef factorial(number)\n  if number.zero?\n    1\n  else\n    number * factorial(number - 1)\n  end\nend\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u5b9f\u88c5\u3002\nnumber\u304c\u5927\u304d\u3044\u6642\u306b\u30a8\u30e9\u308b\u3002\u3002\u3002\npry(main)> a=Hoge.factorial(9000)\nSystemStackError: stack level too deep\n\n\u518d\u5e30\u306e\u9650\u754c\u304c\u3042\u308b\u3063\u307d\u3044\uff1f\uff1f\nRails\u306esum\u306esource\u3092\u898b\u3066\u307f\u305f\u3089\u3001inject\u3092\u4f7f\u3063\u3066\u305f\u3002\n\u306e\u3067inject\u3092\u8a66\u3057\u3066\u307f\u308b\u3002\ndef factorial(number)\n  (1..number).inject(1,:*)\nend\n\n\u3053\u308c\u3060\u3068\u3001\u6570\u5024\u304c\u5927\u304d\u304f\u3066\u3082\u884c\u3051\u308b\u3063\u307d\u3044\u3002\nnumber\u304cnil\u3060\u3068\u30a8\u30e9\u308b\u306e\u3067nil\u3060\u30680\u304c\u5165\u308b\u3088\u3046\u306b\u3059\u308b\u3002\ndef factorial(number)\n  number = 0 if number.nil?\n  (1..number).inject(1,:*)\nend\n\n\u3053\u306e\u307e\u307e\u3060\u3068\u76f4\u611f\u7684\u306b\u968e\u4e57\u3066\u308f\u304b\u308a\u3065\u3089\u3044\u3002\nInteger\u3092\u62e1\u5f35\u3057\u305f\u65b9\u304c\u4fbf\u5229\u305d\u3046\u306a\u306e\u3067\u62e1\u5f35\u3059\u308b\u3002\nclass Integer\n  def factorial\n    (1..self).inject(1,:*)\n  end\nend\n\nnil\u3060\u304b\u3089\u307b\u306b\u3083\u3089\u3089\u3063\u3066\u3068\u3053\u306f\u8981\u3089\u3093\u304b\u3063\u305f\u3002\nclass Integer\n  alias :! :factorial\nend\n\n\u3067\u3088\u308a\u968e\u4e57\u3063\u307d\u304f\u66f8\u3051\u308b\u3002\npry(main)> 5.!\n=> 120\n\n100,000\u304f\u3089\u3044\u306b\u306a\u308b\u3068\u9045\u3044\u3051\u3069\u307e\u3041\u3044\u3044\u3084\u3002\n\u968e\u4e57\u306e\u8a08\u7b97\u3092\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u4f5c\u308b\u3002\n\n``` ruby\ndef factorial(number)\n  if number.zero?\n    1\n  else\n    number * factorial(number - 1)\n  end\nend\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u5b9f\u88c5\u3002\n`number`\u304c\u5927\u304d\u3044\u6642\u306b\u30a8\u30e9\u308b\u3002\u3002\u3002\n\n```\npry(main)> a=Hoge.factorial(9000)\nSystemStackError: stack level too deep\n```\n\n[\u518d\u5e30\u306e\u9650\u754c](http://d.hatena.ne.jp/mizti/20121113)\u304c\u3042\u308b\u3063\u307d\u3044\uff1f\uff1f\n\n[Rails\u306e`sum`\u306esource](http://apidock.com/rails/Enumerable/sum)\u3092\u898b\u3066\u307f\u305f\u3089\u3001`inject`\u3092\u4f7f\u3063\u3066\u305f\u3002\n\u306e\u3067`inject`\u3092\u8a66\u3057\u3066\u307f\u308b\u3002\n\n```ruby\ndef factorial(number)\n  (1..number).inject(1,:*)\nend\n```\n\n\u3053\u308c\u3060\u3068\u3001\u6570\u5024\u304c\u5927\u304d\u304f\u3066\u3082\u884c\u3051\u308b\u3063\u307d\u3044\u3002\n\n`number`\u304c`nil`\u3060\u3068\u30a8\u30e9\u308b\u306e\u3067`nil`\u3060\u3068`0`\u304c\u5165\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\n```ruby\ndef factorial(number)\n  number = 0 if number.nil?\n  (1..number).inject(1,:*)\nend\n```\n\n\u3053\u306e\u307e\u307e\u3060\u3068\u76f4\u611f\u7684\u306b\u968e\u4e57\u3066\u308f\u304b\u308a\u3065\u3089\u3044\u3002\n`Integer`\u3092\u62e1\u5f35\u3057\u305f\u65b9\u304c\u4fbf\u5229\u305d\u3046\u306a\u306e\u3067\u62e1\u5f35\u3059\u308b\u3002\n\n\n```ruby\nclass Integer\n  def factorial\n    (1..self).inject(1,:*)\n  end\nend\n```\n\n`nil`\u3060\u304b\u3089\u307b\u306b\u3083\u3089\u3089\u3063\u3066\u3068\u3053\u306f\u8981\u3089\u3093\u304b\u3063\u305f\u3002\n\n```rb\nclass Integer\n  alias :! :factorial\nend\n```\n\n\u3067\u3088\u308a\u968e\u4e57\u3063\u307d\u304f\u66f8\u3051\u308b\u3002\n\n```\npry(main)> 5.!\n=> 120\n```\n\n`100,000`\u304f\u3089\u3044\u306b\u306a\u308b\u3068\u9045\u3044\u3051\u3069\u307e\u3041\u3044\u3044\u3084\u3002\n", "tags": ["Ruby", "\u6570\u5b66"]}