{"context": " More than 1 year has passed since last update.\u5358\u306b\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3059\u308b\u3060\u3051\u306a\u3089Symfony2\u306e\u6a5f\u80fd\u30c6\u30b9\u30c8\u3068\u57fa\u672c\u7684\u306b\u540c\u3058\n\n\u76f4\u63a5URL\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\n$client = new \\Goutte\\Client();\n\n// GET\n$client->request('GET', 'http://example.com/some/url');\n\n// POST\n$client->request('POST', 'http://exmaple.com/some/post/url', ['foo' => 'bar'], ['image' => '/var/www/myimage.jpg']);\n\n\n\u30a2\u30af\u30bb\u30b9\u5148\u306e\u7279\u5b9a\u306e\u30bf\u30b0\u306e\u5185\u5bb9\u30fb\u5c5e\u6027\u3092\u53d6\u5f97\u3059\u308b\n\n$client = new \\Goutte\\Client();\n\n// $crawler\u306f\\Symfony\\Component\\DomCrawler\\Crawler\n$crawler = $client->request('GET', 'http://example.com/some/url');\n\n// <h1>this is header!</h1>\u30bf\u30b0\u306e\u5185\u5bb9\n$crawler->filter('h1')->text(); // \u2192this is header!\n\n// <h2><a href=\"./subpage.html\">\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb</a></h2>\u30bf\u30b0\u306ehref\u5c5e\u6027\n$crawler->filter('h2 a')->attr('href'); // \u2192./subpage.html\n\n// <ul><li>test1</li><li>test2</li></ul> \u5168\u90e8\u306eli\u30bf\u30b0\u306e\u5185\u5bb9\n$lists = $crawler->filter('ul li')->each(function(Crawler $node){\n    return $node->text();\n});\n// \u2192 $lists\u306f['test1', 'test2']\n\n// \u53d6\u5f97\u3057\u305fHTML\u5168\u4f53\n$crawler->html();\n\n\n\n\u30a2\u30af\u30bb\u30b9\u5148\u306b\u3042\u308b\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n$client = new \\Goutte\\Client();\n\n// \u307e\u305a\u30ea\u30f3\u30af\u306e\u3042\u308bURL\u306b\u30a2\u30af\u30bb\u30b9\n$crawler = $client->request('GET', 'http://example.com/some/url');\n\n// \u300c\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30ea\u30f3\u30af\u5148\u306b\u9077\u79fb\n$client->click($crawler->selectLink('\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af')->link());\n\n\n\n\u30a2\u30af\u30bb\u30b9\u5148\u306b\u3042\u308b\u30d5\u30a9\u30fc\u30e0\u3092\u9001\u4fe1\u3059\u308b\n$client = new \\Goutte\\Client();\n\n// \u307e\u305a\u30d5\u30a9\u30fc\u30e0\u306e\u3042\u308bURL\u306b\u30a2\u30af\u30bb\u30b9\n$crawler = $client->request('GET', 'http://example.com/some/form');\n\n// \u300c\u30ed\u30b0\u30a4\u30f3\u300d\u3068\u3044\u3046\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u3067\u9001\u4fe1\u3055\u308c\u308b\u30d5\u30a9\u30fc\u30e0\u3092\u9078\u629e\n$form = $crawler->selectButton('\u30ed\u30b0\u30a4\u30f3')->form();\n$form['username'] = 'testuser';\n$form['password'] = 'mypassword';\n$crawler->submit($form);\n\n\n\nURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u3092\u8abf\u3079\u308b\n$client = new \\Goutte\\Client();\n\n$client->request('GET', 'http://example.com/good/url');\n$client->getResponse()->getStatus(); // \u2192200\n\n$client->request('GET', 'http://example.com/bad/url');\n$client->getResponse()->getStatus(); // \u2192404\n\n// $client->getResponse()\u306f\\Symfony\\Component\\BrowserKit\\Response\n\n\n\u30a2\u30af\u30bb\u30b9\u6642\u306b\u4f7f\u3046UserAgent\u3092\u8a2d\u5b9a\u3059\u308b\n$client = new \\Goutte\\Client();\n\n// UserAgent\u3092\"MyCrawler 1.0\"\u306b\u8a2d\u5b9a\n$client->setHeader('User-Agent', 'MyCrawler 1.0');\n\n$client->request('GET', '...'); // MyCrawler 1.0\u3068\u3057\u3066\u30a2\u30af\u30bb\u30b9\n$client->request('POST', '...'); // MyCrawler 1.0\u3068\u3057\u3066\u30a2\u30af\u30bb\u30b9\n\n// \u4ee5\u5f8c\u3001\u518d\u5ea6setHeader('User-Agent')\u3067\u4f55\u304b\u9055\u3046UA\u3092\u8a2d\u5b9a\u3059\u308b\u307e\u3067\u305a\u3063\u3068\u3053\u306e\u307e\u307e\n\n\n\u5358\u306b\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3059\u308b\u3060\u3051\u306a\u3089Symfony2\u306e\u6a5f\u80fd\u30c6\u30b9\u30c8\u3068\u57fa\u672c\u7684\u306b\u540c\u3058\n\n\u76f4\u63a5URL\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\n---------------\n\n```php\n$client = new \\Goutte\\Client();\n\n// GET\n$client->request('GET', 'http://example.com/some/url');\n\n// POST\n$client->request('POST', 'http://exmaple.com/some/post/url', ['foo' => 'bar'], ['image' => '/var/www/myimage.jpg']);\n```\n\n\u30a2\u30af\u30bb\u30b9\u5148\u306e\u7279\u5b9a\u306e\u30bf\u30b0\u306e\u5185\u5bb9\u30fb\u5c5e\u6027\u3092\u53d6\u5f97\u3059\u308b\n-----------------------------------\n\n```php\n\n$client = new \\Goutte\\Client();\n\n// $crawler\u306f\\Symfony\\Component\\DomCrawler\\Crawler\n$crawler = $client->request('GET', 'http://example.com/some/url');\n\n// <h1>this is header!</h1>\u30bf\u30b0\u306e\u5185\u5bb9\n$crawler->filter('h1')->text(); // \u2192this is header!\n\n// <h2><a href=\"./subpage.html\">\u30b5\u30d6\u30bf\u30a4\u30c8\u30eb</a></h2>\u30bf\u30b0\u306ehref\u5c5e\u6027\n$crawler->filter('h2 a')->attr('href'); // \u2192./subpage.html\n\n// <ul><li>test1</li><li>test2</li></ul> \u5168\u90e8\u306eli\u30bf\u30b0\u306e\u5185\u5bb9\n$lists = $crawler->filter('ul li')->each(function(Crawler $node){\n    return $node->text();\n});\n// \u2192 $lists\u306f['test1', 'test2']\n\n// \u53d6\u5f97\u3057\u305fHTML\u5168\u4f53\n$crawler->html();\n\n```\n\n\u30a2\u30af\u30bb\u30b9\u5148\u306b\u3042\u308b\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n-----------------------------------\n\n```php\n$client = new \\Goutte\\Client();\n\n// \u307e\u305a\u30ea\u30f3\u30af\u306e\u3042\u308bURL\u306b\u30a2\u30af\u30bb\u30b9\n$crawler = $client->request('GET', 'http://example.com/some/url');\n\n// \u300c\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30ea\u30f3\u30af\u5148\u306b\u9077\u79fb\n$client->click($crawler->selectLink('\u3053\u3053\u3092\u30af\u30ea\u30c3\u30af')->link());\n\n```\n\n\u30a2\u30af\u30bb\u30b9\u5148\u306b\u3042\u308b\u30d5\u30a9\u30fc\u30e0\u3092\u9001\u4fe1\u3059\u308b\n--------------------------------\n\n```php\n$client = new \\Goutte\\Client();\n\n// \u307e\u305a\u30d5\u30a9\u30fc\u30e0\u306e\u3042\u308bURL\u306b\u30a2\u30af\u30bb\u30b9\n$crawler = $client->request('GET', 'http://example.com/some/form');\n\n// \u300c\u30ed\u30b0\u30a4\u30f3\u300d\u3068\u3044\u3046\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u3067\u9001\u4fe1\u3055\u308c\u308b\u30d5\u30a9\u30fc\u30e0\u3092\u9078\u629e\n$form = $crawler->selectButton('\u30ed\u30b0\u30a4\u30f3')->form();\n$form['username'] = 'testuser';\n$form['password'] = 'mypassword';\n$crawler->submit($form);\n\n```\n\nURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u3092\u8abf\u3079\u308b\n----------------------------\n\n```php\n$client = new \\Goutte\\Client();\n\n$client->request('GET', 'http://example.com/good/url');\n$client->getResponse()->getStatus(); // \u2192200\n\n$client->request('GET', 'http://example.com/bad/url');\n$client->getResponse()->getStatus(); // \u2192404\n\n// $client->getResponse()\u306f\\Symfony\\Component\\BrowserKit\\Response\n```\n\n\u30a2\u30af\u30bb\u30b9\u6642\u306b\u4f7f\u3046UserAgent\u3092\u8a2d\u5b9a\u3059\u308b\n-------------------------\n\n```php\n$client = new \\Goutte\\Client();\n\n// UserAgent\u3092\"MyCrawler 1.0\"\u306b\u8a2d\u5b9a\n$client->setHeader('User-Agent', 'MyCrawler 1.0');\n\n$client->request('GET', '...'); // MyCrawler 1.0\u3068\u3057\u3066\u30a2\u30af\u30bb\u30b9\n$client->request('POST', '...'); // MyCrawler 1.0\u3068\u3057\u3066\u30a2\u30af\u30bb\u30b9\n\n// \u4ee5\u5f8c\u3001\u518d\u5ea6setHeader('User-Agent')\u3067\u4f55\u304b\u9055\u3046UA\u3092\u8a2d\u5b9a\u3059\u308b\u307e\u3067\u305a\u3063\u3068\u3053\u306e\u307e\u307e\n```\n", "tags": ["Goutte2.0", "PHP"]}