{"context": " More than 1 year has passed since last update.\n\n\u76ee\u7684\n\u306a\u3093\u3089\u304b\u306e\u7406\u7531\u3067C++\u304b\u3089\u63a5\u7d9a\u3067\u304d\u305f\u3089\u4fbf\u5229\u306a\u5834\u5408\u3001\u7279\u5b9a\u306eDB\u30a2\u30af\u30bb\u30b9\u306b\u5bfe\u3057\u3066\u3060\u3051\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u51fa\u3057\u305f\u3044\u5834\u5408\u306b\u4f7f\u3046\u3002\n\u30bd\u30fc\u30b9\nhttps://github.com/0xfffffff7/MySQLWrapper\n\n\u4f9d\u5b58\nlibmysqlclient\n\n\u30b5\u30f3\u30d7\u30eb\n#include    \"mysqlwrapper.h\" \n\n\n// MYSQL TABLE EXAMPLE \n//\u3000 CREATE TABLE book \n//    ( \n//    id INT(11) NOT NULL AUTO_INCREMENT, \n//    title VARCHAR(64), \n//    author_name VARCHAR(32), \n//    detail TEXT, \n//    PRIMARY KEY (id) \n//    ); \n\n\nint main(int argc, char* argv[]) \n{ \n    const char *server = \"localhost\"; \n    const char *user = \"root\"; \n    const char *password = \"password\"; \n    const char *database = \"myapp\"; \n\n    MySqlWrapper sql; \n\n    sql.init(); \n\n    // \u63a5\u7d9a\n    if(sql.connect(server, user, password, database) == false){ \n        printf(\"error %s\\n\", sql.getError()); \n        return 0; \n    } \n\n     // \u30af\u30a8\u30ea\u3092\u6295\u3052\u308b\n    if( sql.query(\"DELETE FROM book;\") == false){ \n        printf(\"error %s\\n\", sql.getError()); \n        return 0; \n    } \n    sql.clear(); \n\n     // \u30af\u30a8\u30ea\u3092\u6295\u3052\u308b\n    if( sql.query(\"INSERT INTO book (title, author_name) VALUES ('book_A', 'auth_A');\") == false){ \n        printf(\"error %s\\n\", sql.getError()); \n        return 0; \n    } \n    sql.clear(); \n    if( sql.query(\"INSERT INTO book (title, author_name) VALUES ('book_B', 'auth_B');\") == false){ \n        printf(\"error %s\\n\", sql.getError()); \n        return 0; \n    } \n    sql.clear(); \n\n     // \u30af\u30a8\u30ea\u3092\u6295\u3052\u308b\n    if( sql.query(\"SELECT * FROM book;\") == false){ \n        printf(\"error %s\\n\", sql.getError()); \n        return 0; \n    } \n\n    // \u7d50\u679c\u3092\u53d6\u5f97\n    long long nRows = sql.getRowCount(); \n\n\n    MYSQL_ROW row; \n    while( (row = sql.getRow()) != NULL ){       \n        printf(\"%s %s %s\\n\", row[0], row[1], row[2]); \n    } \n    sql.clear(); \n\n    sql.close(); \n\n    return 0; \n}\n\n# \u76ee\u7684\n\n\u306a\u3093\u3089\u304b\u306e\u7406\u7531\u3067C++\u304b\u3089\u63a5\u7d9a\u3067\u304d\u305f\u3089\u4fbf\u5229\u306a\u5834\u5408\u3001\u7279\u5b9a\u306eDB\u30a2\u30af\u30bb\u30b9\u306b\u5bfe\u3057\u3066\u3060\u3051\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u51fa\u3057\u305f\u3044\u5834\u5408\u306b\u4f7f\u3046\u3002\n\n\u30bd\u30fc\u30b9\nhttps://github.com/0xfffffff7/MySQLWrapper\n\n# \u4f9d\u5b58\nlibmysqlclient\n\n# \u30b5\u30f3\u30d7\u30eb\n\n```\n#include\t\"mysqlwrapper.h\" \n\n\n// MYSQL TABLE EXAMPLE \n//\u3000 CREATE TABLE book \n//    ( \n//    id INT(11) NOT NULL AUTO_INCREMENT, \n//    title VARCHAR(64), \n//    author_name VARCHAR(32), \n//    detail TEXT, \n//    PRIMARY KEY (id) \n//    ); \n\n\nint main(int argc, char* argv[]) \n{ \n\tconst char *server = \"localhost\"; \n \tconst char *user = \"root\"; \n \tconst char *password = \"password\"; \n \tconst char *database = \"myapp\"; \n\n\tMySqlWrapper sql; \n\n \tsql.init(); \n \t \n    // \u63a5\u7d9a\n \tif(sql.connect(server, user, password, database) == false){ \n \t\tprintf(\"error %s\\n\", sql.getError()); \n \t\treturn 0; \n \t} \n \n     // \u30af\u30a8\u30ea\u3092\u6295\u3052\u308b\n \tif( sql.query(\"DELETE FROM book;\") == false){ \n \t\tprintf(\"error %s\\n\", sql.getError()); \n \t\treturn 0; \n \t} \n \tsql.clear(); \n\n     // \u30af\u30a8\u30ea\u3092\u6295\u3052\u308b\n \tif( sql.query(\"INSERT INTO book (title, author_name) VALUES ('book_A', 'auth_A');\") == false){ \n \t\tprintf(\"error %s\\n\", sql.getError()); \n \t\treturn 0; \n \t} \n \tsql.clear(); \n \tif( sql.query(\"INSERT INTO book (title, author_name) VALUES ('book_B', 'auth_B');\") == false){ \n \t\tprintf(\"error %s\\n\", sql.getError()); \n \t\treturn 0; \n \t} \n \tsql.clear(); \n\n     // \u30af\u30a8\u30ea\u3092\u6295\u3052\u308b\n \tif( sql.query(\"SELECT * FROM book;\") == false){ \n \t\tprintf(\"error %s\\n\", sql.getError()); \n \t\treturn 0; \n \t} \n \n    // \u7d50\u679c\u3092\u53d6\u5f97\n \tlong long nRows = sql.getRowCount(); \n\n\n \tMYSQL_ROW row; \n \twhile( (row = sql.getRow()) != NULL ){\t\t \n \t\tprintf(\"%s %s %s\\n\", row[0], row[1], row[2]); \n \t} \n \tsql.clear(); \n\n \tsql.close(); \n\n\treturn 0; \n}\n```\n", "tags": ["C++", "MySQL", "DB"]}