{"context": " More than 1 year has passed since last update.\u7d9a\u304d\n\nDocker\u4e0a\u3067 samba \u3092\u52d5\u304b\u3059\nZFS\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306f NFS \u307e\u305f\u306f SMB(CIFS)\u3067\u5171\u6709\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001on Linux \u3067\u306f\u5225\u9014 nfs-kernel-server\u3084samba\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u30811 \u4eca\u56de\u306fZFS\u3092\u901a\u3058\u3066\u5171\u6709\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001Docker\u4e0a\u3067samba\u3092\u52d5\u304b\u3057\u3066SMB\u5171\u6709\u3057\u3066\u307f\u307e\u3059\u3002\n\nDocker \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\u6700\u521d\u306b\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u5f93\u3063\u3066Docker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u300214.04\u306a\u306e\u3067\u524d\u6e96\u5099(Prerequisites)\u306f\u4e0d\u8981\u3060\u305d\u3046\u3067\u3059\u3002\n$ curl -sSL https://get.docker.com/ | sh\napparmor is enabled in the kernel and apparmor utils were already installed\n+ sudo -E sh -c apt-key adv --keyserver ...\n(\u7565)\n+ sudo -E sh -c docker version\nClient:\n Version:      1.9.0\n API version:  1.21\n Go version:   go1.4.2\n Git commit:   76d6bc9\n Built:        Tue Nov  3 17:43:42 UTC 2015\n OS/Arch:      linux/amd64\n\nServer:\n Version:      1.9.0\n API version:  1.21\n Go version:   go1.4.2\n Git commit:   76d6bc9\n Built:        Tue Nov  3 17:43:42 UTC 2015\n OS/Arch:      linux/amd64\n\nIf you would like to use Docker as a non-root user, you should now consider\nadding your user to the \"docker\" group with something like:\n\n  sudo usermod -aG docker hoge\n\nRemember that you will have to log out and back in for this to take effect!\n\n\u3066\u3063\u304d\u308a1.8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3068\u601d\u3063\u3066\u3044\u305f\u30891.9\u3067\u3057\u305f\u3002\n\u30c6\u30b9\u30c8\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\n$ sudo docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\nb901d36b6f2f: Pull complete\n0a6ba66e537a: Pull complete\nDigest: sha256:8be990ef2aeb16dbcb9271ddfe2610fa6658d13f6dfb8bc72074cc1ca36966a7\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker.\nThis message shows that your installation appears to be working correctly.\n...\n(\u7565)\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\u7c21\u5358\u3067\u52a9\u304b\u308b\uff01\n\u6b21\u306b \u81ea\u8eab\u306e\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u3092 docker\u30b0\u30eb\u30fc\u30d7\u306b\u52a0\u3048\u308b\u3053\u3068\u3067\u3001sudo\u306a\u3057\u3067docker\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n$ sudo usermod -aG docker hoge\n\nhoge\u304c\u30e6\u30fc\u30b6\u540d\u3067\u3059\u3002\u3053\u306e\u3068\u304d -aG \u3067\u306a\u304f -G \u3068\u3057\u3066\u3057\u307e\u3046\u3068\u5927\u5909\u306a\u3053\u3068\u306b\u306a\u308b\u305d\u3046\u306a\u306e\u3067\u6ce8\u610f\u3057\u307e\u3059\u3002\n\u30ed\u30b0\u30a2\u30a6\u30c8\u3001\u518d\u30ed\u30b0\u30a4\u30f3\u5f8c\u306b \u4eca\u5ea6\u306fsudo\u306a\u3057\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\n$ docker run hello-world\n\nHello from Docker.\nThis message shows that your installation appears to be working correctly.\n(\u7565)\n\n\u554f\u984c\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\nDocker\u30a4\u30e1\u30fc\u30b8\u3092\u63a2\u3059\nDocker\u30a4\u30e1\u30fc\u30b8\u3092\u81ea\u5206\u3067\u69cb\u6210\u3059\u308b\u306e\u306f samba\u3067\u306a\u3044\u4ed6\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u52d5\u304b\u3059\u3068\u304d\u306b\u8a66\u3059\u3053\u3068\u3068\u3057\u3066\u3001\u4eca\u56de\u306f\u516c\u5f0f\u306eDocker Hub\u3067\u65e2\u5b58\u30a4\u30e1\u30fc\u30b8\u3092\u63a2\u3057\u3066\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u53f3\u4e0a\u306e\u691c\u7d22\u30dc\u30c3\u30af\u30b9\u3067samba\u3092\u691c\u7d22\n\nStars\u3092\u9078\u629e\uff1aStar\u304c\u591a\u3044\u9806\u306b\u691c\u7d22\u7d50\u679c\u3092\u8868\u793a\n\u4e0a\u304b\u3089\u9806\u306b\u3044\u304f\u3064\u304b\u898b\u3066\u3044\u304d\u3001Full Description \u306e\u8a18\u8ff0\u304c\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305fdperson/samba \u306b\u6c7a\u5b9a\uff01\n\n\n\u5171\u6709\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u6210\u3059\u308b\n\u524d\u6e96\u5099\u3068\u3057\u3066\u3001\u5171\u6709\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0tank/pub\u3092\u4f5c\u6210\u3057\u3001/mnt/pub \u306b\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\u307e\u305f\u3001dperson/samba \u304b\u3089\u66f8\u304d\u8fbc\u307f\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081 /mnt/pub\u306e\u6240\u6709\u8005\u3092docker\u3092\u5b9f\u884c\u3059\u308b\u30e6\u30fc\u30b6\u306b\u5909\u3048\u307e\u3059\u3002\n$ sudo zfs create tank/pub\n$ sudo zfs set atime=off tank/pub\n$ sudo zfs set mountpoint=/mnt/pub tank/pub\n$ sudo chown hoge /mnt/pub\n$ df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/sda1        94G  1.5G   92G   2% /\n(\u7565)\ntank/home       1.3T  128K  1.3T   1% /home\ntank/pub        1.3T  128K  1.3T   1% /mnt/pub\n$ ll /mnt\ntotal 16\ndrwxr-xr-x  3 root    root   16 Nov 12 01:14 ./\ndrwxr-xr-x 21 root    root 4096 Nov 13 19:33 ../\ndrwxr-xr-x  2 hoge    root    6 Nov 13 20:56 pub/\n\n\ndperson/samba \u3092\u8d77\u52d5\u3059\u308b\n\u3044\u3088\u3044\u3088Docker\u3067 dperson/samba \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002docker run \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\u30d1\u30e9\u30e1\u30fc\u30bf\u4e2d\u306e dperson/samba \u3088\u308a\u5f8c\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 -s \u3068 -u \u306b\u3064\u3044\u3066\u306f dperson/samba \u306eConfiguration\u306b\u8aac\u660e\u304c\u3042\u308a\u307e\u3059\u3002\u666e\u6bb5\u306a\u3089smb.conf\u306b\u8a18\u8ff0\u3059\u308b\u5185\u5bb9\u3092\u3001-s \u3068 -u \u3067\u6307\u5b9a\u3059\u308b\u611f\u3058\u3067\u3059\u3002\n$ docker run --name samba -p 139:139 -p 445:445 -v /mnt/pub:/mnt/pub -d dperson/samba -s \"pub;/mnt/pub;no;no;no;foo\" -u \"foo;bar\"\nUnable to find image 'dperson/samba:latest' locally\nlatest: Pulling from dperson/samba\na719479f5894: Pull complete\n91bac885982d: Pull complete\n69865d53ad81: Pull complete\n52390241cd86: Pull complete\nc7005920b097: Pull complete\n26ee48a2628d: Pull complete\nffc195f7d642: Pull complete\nbf2b48e20c44: Pull complete\nDigest: sha256:19aeb4df3ee0a81095c5f2006b916af08abcc143540f9cd595f3839b3d77343a\nStatus: Downloaded newer image for dperson/samba:latest\n0cf58b5f4d1ba117b94a0533c43cca55c9f40b90f8f5523633bb90d23b15a07c\n\ndperson/samba\u306f\u30ed\u30fc\u30ab\u30eb\u306b\u306a\u3044\u306e\u3067pull(\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9)\u304c\u59cb\u307e\u308a\u307e\u3059\u300210\u79d2\u7a0b\u5ea6\u5f85\u3063\u305f\u3089\u8d77\u52d5\u3057\u305f(\u3088\u3046\u306b\u898b\u3048\u308b)\u306e\u3067\u3059\u304c \u672c\u5f53\u306b\u3046\u307e\u304f\u3044\u3063\u305f\u306e\u304b\u2026?\n\u5225\u306e\u74b0\u5883\u304b\u3089\u5171\u6709\u3057\u3066\u307f\u307e\u3059\u3002192.168.0.10\u306f\u3001Docker/samba\u3092\u52d5\u304b\u3057\u3066\u3044\u308b\u74b0\u5883\u306eIP\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n$ sudo mount -t cifs -o username=foo,password=bar,iocharset=utf8 //192.168.0.10/pub /media/nas\n\n\u3042\u3063\u3055\u308a\u30de\u30a6\u30f3\u30c8\u3067\u304d\u305f\uff01\n\u4eca\u5ea6\u306f\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u3044\u3066\u307f\u307e\u3059\u3002\n$ echo aaa > /media/nas/test.txt\n$ cat /media/nas/test.txt\naaa\n\n\u7f6e\u3051\u307e\u3057\u305f\uff01pull\u542b\u3081\u306610\u79d2\u7a0b\u5ea6\u3067\u672c\u5f53\u306b\u7acb\u3061\u4e0a\u304c\u308b\u3068\u306f\u3073\u3063\u304f\u308a\u3067\u3059\u3002\n\ndperson/samba \u3092\u505c\u6b62\u30fb\u524a\u9664\u3059\u308b\n\u8d77\u52d5\u304c\u3046\u307e\u304f\u3044\u3063\u305f\u306e\u3067 \u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u30fb\u524a\u9664\u3057\u3066\u307f\u307e\u3059\u3002\n$ docker stop samba && docker rm samba\nsamba\nsamba\n\n\u30b3\u30f3\u30c6\u30ca\u306f\u6d88\u3048\u307e\u3057\u305f\u304c\u3001\u5148\u307b\u3069\u7f6e\u3044\u305f\u30d5\u30a1\u30a4\u30eb(test.txt)\u306f /mnt/pub/ \u306b\u6b8b\u3063\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ ll /mnt/pub\n(\u7565)\n-rw-rw-r-- 1 hoge     users  4 Nov 13 22:24 test.txt\n\n\u5922\u3058\u3083\u306a\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\u7d9a\u304f\n\n\n\n\n\u672c\u5bb6Solaris\u7248\u3067\u306fZFS\u5358\u4f53\u3067\u5171\u6709\u304c\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u00a0\u21a9\n\n\n\n[\u7d9a\u304d](http://qiita.com/flny/items/7b55acc571a5fe129db1)\n\n# Docker\u4e0a\u3067 samba \u3092\u52d5\u304b\u3059\nZFS\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306f NFS \u307e\u305f\u306f SMB(CIFS)\u3067\u5171\u6709\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001on Linux \u3067\u306f\u5225\u9014 nfs-kernel-server\u3084samba\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081[^1] \u4eca\u56de\u306fZFS\u3092\u901a\u3058\u3066\u5171\u6709\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u3001Docker\u4e0a\u3067samba\u3092\u52d5\u304b\u3057\u3066SMB\u5171\u6709\u3057\u3066\u307f\u307e\u3059\u3002\n\n## Docker \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\u6700\u521d\u306b[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://docs.docker.com/v1.8/installation/ubuntulinux/)\u306b\u5f93\u3063\u3066Docker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u300214.04\u306a\u306e\u3067\u524d\u6e96\u5099(Prerequisites)\u306f\u4e0d\u8981\u3060\u305d\u3046\u3067\u3059\u3002\n\n```\n$ curl -sSL https://get.docker.com/ | sh\napparmor is enabled in the kernel and apparmor utils were already installed\n+ sudo -E sh -c apt-key adv --keyserver ...\n(\u7565)\n+ sudo -E sh -c docker version\nClient:\n Version:      1.9.0\n API version:  1.21\n Go version:   go1.4.2\n Git commit:   76d6bc9\n Built:        Tue Nov  3 17:43:42 UTC 2015\n OS/Arch:      linux/amd64\n\nServer:\n Version:      1.9.0\n API version:  1.21\n Go version:   go1.4.2\n Git commit:   76d6bc9\n Built:        Tue Nov  3 17:43:42 UTC 2015\n OS/Arch:      linux/amd64\n\nIf you would like to use Docker as a non-root user, you should now consider\nadding your user to the \"docker\" group with something like:\n\n  sudo usermod -aG docker hoge\n\nRemember that you will have to log out and back in for this to take effect!\n```\n\u3066\u3063\u304d\u308a1.8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3068\u601d\u3063\u3066\u3044\u305f\u30891.9\u3067\u3057\u305f\u3002\n\u30c6\u30b9\u30c8\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\n$ sudo docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\nb901d36b6f2f: Pull complete\n0a6ba66e537a: Pull complete\nDigest: sha256:8be990ef2aeb16dbcb9271ddfe2610fa6658d13f6dfb8bc72074cc1ca36966a7\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker.\nThis message shows that your installation appears to be working correctly.\n...\n(\u7565)\n```\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\u7c21\u5358\u3067\u52a9\u304b\u308b\uff01\n\u6b21\u306b \u81ea\u8eab\u306e\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u3092 docker\u30b0\u30eb\u30fc\u30d7\u306b\u52a0\u3048\u308b\u3053\u3068\u3067\u3001sudo\u306a\u3057\u3067docker\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```\n$ sudo usermod -aG docker hoge\n```\nhoge\u304c\u30e6\u30fc\u30b6\u540d\u3067\u3059\u3002\u3053\u306e\u3068\u304d -aG \u3067\u306a\u304f -G \u3068\u3057\u3066\u3057\u307e\u3046\u3068[\u5927\u5909\u306a\u3053\u3068\u306b\u306a\u308b](http://tyru.hatenablog.com/entry/20110726/usermod)\u305d\u3046\u306a\u306e\u3067\u6ce8\u610f\u3057\u307e\u3059\u3002\n\n\u30ed\u30b0\u30a2\u30a6\u30c8\u3001\u518d\u30ed\u30b0\u30a4\u30f3\u5f8c\u306b \u4eca\u5ea6\u306fsudo\u306a\u3057\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\n\n```\n$ docker run hello-world\n\nHello from Docker.\nThis message shows that your installation appears to be working correctly.\n(\u7565)\n```\n\u554f\u984c\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n## Docker\u30a4\u30e1\u30fc\u30b8\u3092\u63a2\u3059\nDocker\u30a4\u30e1\u30fc\u30b8\u3092\u81ea\u5206\u3067\u69cb\u6210\u3059\u308b\u306e\u306f samba\u3067\u306a\u3044\u4ed6\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u52d5\u304b\u3059\u3068\u304d\u306b\u8a66\u3059\u3053\u3068\u3068\u3057\u3066\u3001\u4eca\u56de\u306f\u516c\u5f0f\u306e[Docker Hub](https://hub.docker.com/)\u3067\u65e2\u5b58\u30a4\u30e1\u30fc\u30b8\u3092\u63a2\u3057\u3066\u3001\u305d\u308c\u3092\u5229\u7528\u3057\u3066\u307f\u307e\u3059\u3002\n\n1. \u53f3\u4e0a\u306e\u691c\u7d22\u30dc\u30c3\u30af\u30b9\u3067samba\u3092[\u691c\u7d22](https://hub.docker.com/search/?q=samba&page=1&isAutomated=0&isOfficial=0&starCount=0&pullCount=0)\n![\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9.png](https://qiita-image-store.s3.amazonaws.com/0/87156/f5d8a3f7-4f16-7a32-c694-387400970379.png)\n\n2. Stars\u3092\u9078\u629e\uff1aStar\u304c\u591a\u3044\u9806\u306b\u691c\u7d22\u7d50\u679c\u3092[\u8868\u793a](https://hub.docker.com/search/?q=samba&page=1&isAutomated=0&isOfficial=0&pullCount=0&starCount=1)\n3. \u4e0a\u304b\u3089\u9806\u306b\u3044\u304f\u3064\u304b\u898b\u3066\u3044\u304d\u3001Full Description \u306e\u8a18\u8ff0\u304c\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305f[dperson/samba](https://hub.docker.com/r/dperson/samba/) \u306b\u6c7a\u5b9a\uff01\n\n## \u5171\u6709\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u6210\u3059\u308b\n\u524d\u6e96\u5099\u3068\u3057\u3066\u3001\u5171\u6709\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0tank/pub\u3092\u4f5c\u6210\u3057\u3001/mnt/pub \u306b\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\u307e\u305f\u3001dperson/samba \u304b\u3089\u66f8\u304d\u8fbc\u307f\u53ef\u80fd\u306b\u3059\u308b\u305f\u3081 /mnt/pub\u306e\u6240\u6709\u8005\u3092docker\u3092\u5b9f\u884c\u3059\u308b\u30e6\u30fc\u30b6\u306b\u5909\u3048\u307e\u3059\u3002\n\n```\n$ sudo zfs create tank/pub\n$ sudo zfs set atime=off tank/pub\n$ sudo zfs set mountpoint=/mnt/pub tank/pub\n$ sudo chown hoge /mnt/pub\n$ df -h\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/sda1        94G  1.5G   92G   2% /\n(\u7565)\ntank/home       1.3T  128K  1.3T   1% /home\ntank/pub        1.3T  128K  1.3T   1% /mnt/pub\n$ ll /mnt\ntotal 16\ndrwxr-xr-x  3 root    root   16 Nov 12 01:14 ./\ndrwxr-xr-x 21 root    root 4096 Nov 13 19:33 ../\ndrwxr-xr-x  2 hoge    root    6 Nov 13 20:56 pub/\n```\n\n## dperson/samba \u3092\u8d77\u52d5\u3059\u308b\n\u3044\u3088\u3044\u3088Docker\u3067 dperson/samba \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002docker run \u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f[\u3053\u3061\u3089](http://qiita.com/voluntas/items/68c1fd04dd3d507d4083)\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\u30d1\u30e9\u30e1\u30fc\u30bf\u4e2d\u306e dperson/samba \u3088\u308a\u5f8c\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 -s \u3068 -u \u306b\u3064\u3044\u3066\u306f dperson/samba \u306e[Configuration](https://hub.docker.com/r/dperson/samba/)\u306b\u8aac\u660e\u304c\u3042\u308a\u307e\u3059\u3002\u666e\u6bb5\u306a\u3089smb.conf\u306b\u8a18\u8ff0\u3059\u308b\u5185\u5bb9\u3092\u3001-s \u3068 -u \u3067\u6307\u5b9a\u3059\u308b\u611f\u3058\u3067\u3059\u3002\n\n```\n$ docker run --name samba -p 139:139 -p 445:445 -v /mnt/pub:/mnt/pub -d dperson/samba -s \"pub;/mnt/pub;no;no;no;foo\" -u \"foo;bar\"\nUnable to find image 'dperson/samba:latest' locally\nlatest: Pulling from dperson/samba\na719479f5894: Pull complete\n91bac885982d: Pull complete\n69865d53ad81: Pull complete\n52390241cd86: Pull complete\nc7005920b097: Pull complete\n26ee48a2628d: Pull complete\nffc195f7d642: Pull complete\nbf2b48e20c44: Pull complete\nDigest: sha256:19aeb4df3ee0a81095c5f2006b916af08abcc143540f9cd595f3839b3d77343a\nStatus: Downloaded newer image for dperson/samba:latest\n0cf58b5f4d1ba117b94a0533c43cca55c9f40b90f8f5523633bb90d23b15a07c\n```\ndperson/samba\u306f\u30ed\u30fc\u30ab\u30eb\u306b\u306a\u3044\u306e\u3067pull(\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9)\u304c\u59cb\u307e\u308a\u307e\u3059\u300210\u79d2\u7a0b\u5ea6\u5f85\u3063\u305f\u3089\u8d77\u52d5\u3057\u305f(\u3088\u3046\u306b\u898b\u3048\u308b)\u306e\u3067\u3059\u304c \u672c\u5f53\u306b\u3046\u307e\u304f\u3044\u3063\u305f\u306e\u304b\u2026?\n\n\u5225\u306e\u74b0\u5883\u304b\u3089\u5171\u6709\u3057\u3066\u307f\u307e\u3059\u3002192.168.0.10\u306f\u3001Docker/samba\u3092\u52d5\u304b\u3057\u3066\u3044\u308b\u74b0\u5883\u306eIP\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\n\n```\n$ sudo mount -t cifs -o username=foo,password=bar,iocharset=utf8 //192.168.0.10/pub /media/nas\n```\n\u3042\u3063\u3055\u308a\u30de\u30a6\u30f3\u30c8\u3067\u304d\u305f\uff01\n\u4eca\u5ea6\u306f\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u3044\u3066\u307f\u307e\u3059\u3002\n\n```\n$ echo aaa > /media/nas/test.txt\n$ cat /media/nas/test.txt\naaa\n```\n\u7f6e\u3051\u307e\u3057\u305f\uff01pull\u542b\u3081\u306610\u79d2\u7a0b\u5ea6\u3067\u672c\u5f53\u306b\u7acb\u3061\u4e0a\u304c\u308b\u3068\u306f\u3073\u3063\u304f\u308a\u3067\u3059\u3002\n\n## dperson/samba \u3092\u505c\u6b62\u30fb\u524a\u9664\u3059\u308b\n\u8d77\u52d5\u304c\u3046\u307e\u304f\u3044\u3063\u305f\u306e\u3067 \u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u30fb\u524a\u9664\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\n$ docker stop samba && docker rm samba\nsamba\nsamba\n```\n\n\u30b3\u30f3\u30c6\u30ca\u306f\u6d88\u3048\u307e\u3057\u305f\u304c\u3001\u5148\u307b\u3069\u7f6e\u3044\u305f\u30d5\u30a1\u30a4\u30eb(test.txt)\u306f /mnt/pub/ \u306b\u6b8b\u3063\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ ll /mnt/pub\n(\u7565)\n-rw-rw-r-- 1 hoge     users  4 Nov 13 22:24 test.txt\n```\n\n\u5922\u3058\u3083\u306a\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\n[\u7d9a\u304f]()\n\n[^1]: \u672c\u5bb6Solaris\u7248\u3067\u306fZFS\u5358\u4f53\u3067\u5171\u6709\u304c\u3067\u304d\u308b\u3088\u3046\u3067\u3059\n", "tags": ["Ubuntu", "docker", "samba", "ZFS"]}