{"context": " More than 1 year has passed since last update.\n\n\u8ffd\u8a18\n\u6ce8\u610f\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306a\u306e\u3067\u7701\u3044\u3066\u3044\u307e\u3059\u304c\u30b3\u30fc\u30c9\u3067\u306fawait\u3068\u3057\u3066Promise\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u96a0\u307a\u3044\u3057\u3066\u3044\u307e\u3059\u3002\n\u5b9f\u969b\u306b\u306fPromise\u304cresolve\u3067\u306f\u306a\u304freject\u3092\u8fd4\u3059\u3053\u3068\u3082\u3042\u308b\u306e\u3067\u3001\u5b9f\u969b\u306e\u30b3\u30fc\u30c9\u3067\u306ftry-catch\u3092\u4f7f\u3063\u3066\u3061\u3083\u3093\u3068\u30a8\u30e9\u30fc\u3092\u6355\u6349\u3057\u307e\u3057\u3087\u3046\u3002 \nasync func() {\n  try {\n    let t = await funcReturnPromise();\n  } catch(err) {\n    console.log(err);\n  }\n}\n\n\n\u306f\u3058\u3081\u306b\nProtractor\u306fAunglar\u306e\u305f\u3081\u306e\u3088\u3046\u306b\u4f7f\u308f\u308c\u3066\u307e\u3059\u304c\u3001Yahoo Mail\u3067\u306e\u81ea\u52d5\u30c6\u30b9\u30c8\u306b\u66f8\u3044\u3066\u3042\u308b\u3088\u3046\u306bReact+Flux\u74b0\u5883\u3067\u3082\u30c6\u30b9\u30c8(\u6a5f\u80fd\u30c6\u30b9\u30c8\u3001\u30b9\u30e2\u30fc\u30af\u30c6\u30b9\u30c8\u3001\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8)\u306b\u4f7f\u308f\u308c\u3066\u3044\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u306e\u65b9\u91dd\u3067\u30b3\u30fc\u30c9\u4f8b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\nES2015\u3092\u4f7f\u3063\u3066\u30e2\u30c0\u30f3\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f\nmocha + power-assert\u306a\u30c6\u30b9\u30c8\u74b0\u5883\nE2E\u30c6\u30b9\u30c8\u306fPageObject\u30d1\u30bf\u30fc\u30f3\u3092\u5229\u7528\n\n\n\u74b0\u5883\n\nMac OS X Yosemite\nNode 4.1.1\n\n\n\u6e96\u5099\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\n$ tree -I node_modules\n.\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 protractor.conf.js\n\u2514\u2500\u2500 spec\n    \u251c\u2500\u2500 test1\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 BingPageObject.js\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 bing_spec.js\n    \u2514\u2500\u2500 test2\n        \u251c\u2500\u2500 GooglePageObject.js\n        \u2514\u2500\u2500 google_spec.js\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7b49\n\u4eca\u56de\u4f7f\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u306fpackage.json\u306e\u901a\u308a\u3067\u3059\u3002\n\npackage.json\n{\n  \"name\": \"example_for_protractor\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Example for Protractor\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"babel\": \"^5.8.23\",\n    \"babel-plugin-espower\": \"^1.0.0\",\n    \"mocha\": \"^2.3.3\",\n    \"power-assert\": \"^1.1.0\",\n    \"protractor\": \"^2.4.0\"\n  },\n  \"scripts\": {\n    \"postinstall\": \"webdriver-manager update\"\n  }\n}\n\n\n\u4f7f\u3063\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u30df\u30bd\u306a\u306e\u306fpower-assert-js/babel-plugin-espower\u3067\u3059\u3002\n\u3053\u308c\u306f\u4ee5\u4e0b\u306eprotractor.conf.js\u3067\u6d3b\u7528\u3057\u307e\u3059\u3002\n\nprotractor.conf.js\n// Babel Require Hook\u3092\u901a\u3057\u3066power-assert\u3092\u4f7f\u3063\u305fES2015\u30b3\u30fc\u30c9\u3092\u5909\u63db\u3059\u308b\nrequire(\"babel/register\")({\n  only: /spec/,\n  plugins: ['babel-plugin-espower'],\n  extensions: ['.es6', '.js']\n});\n\nexports.config = {\n  // spec\u306e\u5b9f\u884c\u524d\u306b\u3001protractor\u304c\u6e96\u5099\u3067\u304d\u305f\u3089\u4e00\u5ea6\u3060\u3051\u547c\u3070\u308c\u308b\u95a2\u6570\n  onPrepare: function () {\n    browser.ignoreSynchronization = true;\n  },\n\n  directConnect: true,\n\n  capabilities: {\n    'browserName': 'chrome'\n  },\n\n  framework: 'mocha',\n\n  suites: {\n    test1: './spec/test1/*_spec.js',\n    test2: './spec/test2/*_spec.js'\n  },\n\n  mochaOpts: {\n    ui: 'bdd',\n    reporter: \"spec\",\n    slow: 3000,\n    enableTimeouts: false\n  }\n};\n\n\nProtractor\u3067ES2015\u306a\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u6271\u3046\u5834\u5408\u306fprotractor.conf.js\u3092\u8d77\u70b9\u306b\u547c\u3070\u308c\u308b\u306e\u3067require(\"babel/register\")\u3092\u4ed5\u8fbc\u3093\u3067\u304a\u304d\u307e\u3059\u3002\n\u307e\u305f\u3055\u3089\u306bpower-assert\u3082\u4f7f\u3044\u305f\u3044\u5834\u5408\u306fbabel-plugin-espower\u3082\u30d5\u30c3\u30af\u3055\u305b\u308b\u3068\u826f\u3044\u3067\u3059\u3002\n\u3053\u3046\u3057\u3066\u304a\u304f\u3053\u3068\u3067 $(npm bin)/protractor protractor.conf.js \u3060\u3051\u3067ES2015\u3068power-assert\u306e\u5909\u63db\u3092\u639b\u3051\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u308b\u306e\u3067\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u3092\u3059\u3050\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066onPrepare\u5185\u306e browser.ignoreSynchronization = true; \u3092\u66f8\u304f\u3053\u3068\u3067Angular\u306e\u51e6\u7406\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u5f85\u305f\u306a\u3044(Not Angular\u74b0\u5883\u3067\u3082Protractor\u304c\u4f7f\u3048\u308b)\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\u4f8b\u3068\u3057\u3066\u3068\u308a\u3042\u3048\u305a\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u3092\u4ee5\u4e0b\u306b\u3042\u3052\u307e\u3059\u3002\n\u306a\u3093\u3060\u3053\u306e\u30c6\u30b9\u30c8\u306f\u3001\u3068\u3044\u3046\u3082\u306e\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u305d\u3053\u306f\u4f8b\u3068\u3044\u3046\u3053\u3068\u3067\u3002\n\nspec/test1/BingPageObject.js\n\"use strict\";\nexport default class BingPageObject {\n    constructor(url) {\n        this.url = 'https://www.bing.com/';\n    }\n\n    async getPage() {\n        await this.navigateTo(this.url);\n    }\n\n    async navigateTo(url) {\n        await browser.get(url);\n    }\n\n    async getTitle() {\n        let title = await browser.getTitle();\n        return title;\n    }\n\n    async typeQuery(query) {\n        let textbox = await $('#sb_form_q');\n        return await textbox.sendKeys(query);\n    }\n\n    async search(query) {\n        let submit = await $('#sb_form_go');\n        await this.typeQuery(query);\n        return submit.click();\n    }\n\n    async getQuery() {\n        let textbox = await $('#sb_form_q');\n        return await textbox.getAttribute('value');\n    }\n\n    async getAlgo() {\n        let algo = await $$('#b_results > li').filter(async(elem) => {\n           let cls = await elem.getAttribute('class');\n           return cls === 'b_algo';\n        });\n\n        return await algo.map(async(elem) => {\n            let title = await elem.$('h2').getText();\n            return title;\n        });\n    }\n}\n\n\n\nbing_spec.js\n\"use strict\";\n\nimport assert from \"power-assert\";\n\nimport BingPageObject from \"./BingPageObject\"\n\ndescribe('Bing.com', () => {\n    let page;\n    let query = '\u5929\u6c17';\n\n    before(async() => {\n        page = new BingPageObject();\n        page.getPage();\n        await page.search(query);\n    });\n\n    it('\u691c\u7d22\u7a93\u306b\u5165\u529b\u3057\u305f\u30af\u30a8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b', async() => {\n         let text = await page.getQuery();\n         assert(text === query);\n    });\n\n    it('\u30a2\u30eb\u30b4\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b', async() => {\n        let algo = await page.getAlgo();\n        assert(algo.length === 10);\n    });\n});\n\n\n\n\u5b9f\u884c\u7d50\u679c\n$ $(npm bin)/protractor protractor.conf.js --suite test1\nUsing ChromeDriver directly...\n[launcher] Running 1 instances of WebDriver\n\n\n  Bing.com\n    \u2713 \u691c\u7d22\u7a93\u306b\u5165\u529b\u3057\u305f\u30af\u30a8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n    \u2713 \u30a2\u30eb\u30b4\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\n\n  2 passing (3s)\n\n[launcher] 0 instance(s) of WebDriver still running\n[launcher] chrome #1 passed\n\n\u3061\u3087\u3063\u3068\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u5931\u6557\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u308b\u3068\n$ $(npm bin)/protractor protractor.conf.js --suite test1\nUsing ChromeDriver directly...\n[launcher] Running 1 instances of WebDriver\n\n\n  Bing.com\n    1) \u691c\u7d22\u7a93\u306b\u5165\u529b\u3057\u305f\u30af\u30a8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n    \u2713 \u30a2\u30eb\u30b4\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\n\n  1 passing (3s)\n  1 failing\n\n  1) Bing.com \u691c\u7d22\u7a93\u306b\u5165\u529b\u3057\u305f\u30af\u30a8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b:\n\n      AssertionError:   # spec/test1/bing_spec.js:19\n\n  assert(text === 'hoge')\n         |    |          \n         |    false      \n         \"\u5929\u6c17\"          \n\n  --- [string] 'hoge'\n  +++ [string] text\n  @@ -1,4 +1,2 @@\n  -hoge\n  +\u5929\u6c17\n\n\n      + expected - actual\n\n      -false\n      +true\n\n[launcher] 0 instance(s) of WebDriver still running\n[launcher] chrome #1 failed 1 test(s)\n[launcher] overall: 1 failed spec(s)\n[launcher] Process exited with error code 1\n\n\u3044\u3044\u611f\u3058\u306bpower-assert\u3082\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u306d\uff01\n\n\u307e\u3068\u3081\n\u3082\u3068\u3082\u3068\u3053\u306e\u5185\u5bb9\u306f\u606f\u629c\u304d\u306e\u3064\u3082\u308a\u3067\u3044\u3066\u3001Protractor\u3068Mocha\u3084Protractor\u3068Babel\u3068\u3044\u3063\u305f\u5185\u5bb9\u306f\u898b\u3064\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3055\u3089\u306bpower-assert\u3092\u5408\u308f\u305b\u305f\u308a\u3001Angular\u74b0\u5883\u3067\u306a\u3044\u5834\u5408\u306f\u3069\u3046\u3059\u308c\u3070\u3068\u3044\u3046\u7591\u554f\u304b\u3089\u8a66\u3057\u3066\u66f8\u304d\u8d77\u3053\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u4f59\u8ac7\u3067\u3059\u304cProtractor\u4ee5\u5916\u306b\u3082\u3001\u500b\u4eba\u7684\u306b\u306f(\u5c11\u3057\u8a66\u3057\u305f\u3060\u3051\u3067\u3059\u304c)E2E\u30c6\u30b9\u30c8\u3068\u3057\u3066groupon/testium\u3082\u60aa\u304f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u53c2\u8003\u8cc7\u6599\n\nProtractor\u5074\u306e\u8a2d\u5b9a\u3068\u304b\u66f8\u304d\u65b9\u3068\u304b\n\n\nUsing ES2015 in protractor.conf.js \u00b7 Issue #2463 \u00b7 angular/protractor \u00b7 GitHub\nreactjs - Preprocess e2e tests' files (ES6 styling) for Protractor using webpack - Stack Overflow\nUsing Page Objects to Organize Tests - angular/protractor \u00b7 GitHub \njavascript - What is browser.ignoreSynchronization in protractor? - Stack Overflow\n\n\nProtractor\u306ePromise\u3092async/await\u3067\u624b\u8efd\u306b\u6271\u3044\u305f\u304b\u3063\u305f\n\n\nJavaScript - ES async/await\u3092\u5168\u529b\u3067\u4f7f\u3063\u3066\u307f\u3066\u767a\u898b\u3057\u305f\u30a4\u30c7\u30a3\u30aa\u30e0 - Qiita\n\n\n\n# \u8ffd\u8a18\n\u6ce8\u610f\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306a\u306e\u3067\u7701\u3044\u3066\u3044\u307e\u3059\u304c\u30b3\u30fc\u30c9\u3067\u306f`await`\u3068\u3057\u3066`Promise`\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u96a0\u307a\u3044\u3057\u3066\u3044\u307e\u3059\u3002\n\u5b9f\u969b\u306b\u306f`Promise`\u304c`resolve`\u3067\u306f\u306a\u304f`reject`\u3092\u8fd4\u3059\u3053\u3068\u3082\u3042\u308b\u306e\u3067\u3001\u5b9f\u969b\u306e\u30b3\u30fc\u30c9\u3067\u306f`try-catch`\u3092\u4f7f\u3063\u3066\u3061\u3083\u3093\u3068\u30a8\u30e9\u30fc\u3092\u6355\u6349\u3057\u307e\u3057\u3087\u3046\u3002 \n\n```\nasync func() {\n  try {\n    let t = await funcReturnPromise();\n  } catch(err) {\n    console.log(err);\n  }\n}\n```\n\n# \u306f\u3058\u3081\u306b\nProtractor\u306fAunglar\u306e\u305f\u3081\u306e\u3088\u3046\u306b\u4f7f\u308f\u308c\u3066\u307e\u3059\u304c\u3001[Yahoo Mail\u3067\u306e\u81ea\u52d5\u30c6\u30b9\u30c8](http://yahooeng.tumblr.com/post/115664629471/automated-testing-in-yahoo-mail)\u306b\u66f8\u3044\u3066\u3042\u308b\u3088\u3046\u306bReact+Flux\u74b0\u5883\u3067\u3082\u30c6\u30b9\u30c8(\u6a5f\u80fd\u30c6\u30b9\u30c8\u3001\u30b9\u30e2\u30fc\u30af\u30c6\u30b9\u30c8\u3001\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30c6\u30b9\u30c8)\u306b\u4f7f\u308f\u308c\u3066\u3044\u308b\u3068\u3044\u3046\u3053\u3068\u3067\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u4ee5\u4e0b\u306e\u65b9\u91dd\u3067\u30b3\u30fc\u30c9\u4f8b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n- ES2015\u3092\u4f7f\u3063\u3066\u30e2\u30c0\u30f3\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f\n- mocha + power-assert\u306a\u30c6\u30b9\u30c8\u74b0\u5883\n- E2E\u30c6\u30b9\u30c8\u306fPageObject\u30d1\u30bf\u30fc\u30f3\u3092\u5229\u7528\n\n# \u74b0\u5883\n- Mac OS X Yosemite\n- Node 4.1.1\n\n\n# \u6e96\u5099\n## \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\n```\n$ tree -I node_modules\n.\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 protractor.conf.js\n\u2514\u2500\u2500 spec\n    \u251c\u2500\u2500 test1\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 BingPageObject.js\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 bing_spec.js\n    \u2514\u2500\u2500 test2\n        \u251c\u2500\u2500 GooglePageObject.js\n        \u2514\u2500\u2500 google_spec.js\n```\n\n## \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7b49\n\u4eca\u56de\u4f7f\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u306fpackage.json\u306e\u901a\u308a\u3067\u3059\u3002\n\n```package.json\n{\n  \"name\": \"example_for_protractor\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Example for Protractor\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"babel\": \"^5.8.23\",\n    \"babel-plugin-espower\": \"^1.0.0\",\n    \"mocha\": \"^2.3.3\",\n    \"power-assert\": \"^1.1.0\",\n    \"protractor\": \"^2.4.0\"\n  },\n  \"scripts\": {\n    \"postinstall\": \"webdriver-manager update\"\n  }\n}\n```\n\n\u4f7f\u3063\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u30df\u30bd\u306a\u306e\u306f[power-assert-js/babel-plugin-espower](https://github.com/power-assert-js/babel-plugin-espower)\u3067\u3059\u3002\n\u3053\u308c\u306f\u4ee5\u4e0b\u306e`protractor.conf.js`\u3067\u6d3b\u7528\u3057\u307e\u3059\u3002\n\n```protractor.conf.js\n// Babel Require Hook\u3092\u901a\u3057\u3066power-assert\u3092\u4f7f\u3063\u305fES2015\u30b3\u30fc\u30c9\u3092\u5909\u63db\u3059\u308b\nrequire(\"babel/register\")({\n  only: /spec/,\n  plugins: ['babel-plugin-espower'],\n  extensions: ['.es6', '.js']\n});\n\nexports.config = {\n  // spec\u306e\u5b9f\u884c\u524d\u306b\u3001protractor\u304c\u6e96\u5099\u3067\u304d\u305f\u3089\u4e00\u5ea6\u3060\u3051\u547c\u3070\u308c\u308b\u95a2\u6570\n  onPrepare: function () {\n    browser.ignoreSynchronization = true;\n  },\n\n  directConnect: true,\n\n  capabilities: {\n    'browserName': 'chrome'\n  },\n\n  framework: 'mocha',\n\n  suites: {\n    test1: './spec/test1/*_spec.js',\n    test2: './spec/test2/*_spec.js'\n  },\n\n  mochaOpts: {\n    ui: 'bdd',\n    reporter: \"spec\",\n    slow: 3000,\n    enableTimeouts: false\n  }\n};\n```\n\nProtractor\u3067ES2015\u306a\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u6271\u3046\u5834\u5408\u306f`protractor.conf.js`\u3092\u8d77\u70b9\u306b\u547c\u3070\u308c\u308b\u306e\u3067`require(\"babel/register\")`\u3092\u4ed5\u8fbc\u3093\u3067\u304a\u304d\u307e\u3059\u3002\n\u307e\u305f\u3055\u3089\u306b`power-assert`\u3082\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f`babel-plugin-espower`\u3082\u30d5\u30c3\u30af\u3055\u305b\u308b\u3068\u826f\u3044\u3067\u3059\u3002\n\u3053\u3046\u3057\u3066\u304a\u304f\u3053\u3068\u3067 `$(npm bin)/protractor protractor.conf.js` \u3060\u3051\u3067ES2015\u3068power-assert\u306e\u5909\u63db\u3092\u639b\u3051\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u308b\u306e\u3067\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u3092\u3059\u3050\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u305d\u3057\u3066`onPrepare`\u5185\u306e `browser.ignoreSynchronization = true;` \u3092\u66f8\u304f\u3053\u3068\u3067Angular\u306e\u51e6\u7406\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u5f85\u305f\u306a\u3044(Not Angular\u74b0\u5883\u3067\u3082Protractor\u304c\u4f7f\u3048\u308b)\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n# \u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\n\u4f8b\u3068\u3057\u3066\u3068\u308a\u3042\u3048\u305a\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u3092\u4ee5\u4e0b\u306b\u3042\u3052\u307e\u3059\u3002\n\u306a\u3093\u3060\u3053\u306e\u30c6\u30b9\u30c8\u306f\u3001\u3068\u3044\u3046\u3082\u306e\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u305d\u3053\u306f\u4f8b\u3068\u3044\u3046\u3053\u3068\u3067\u3002\n\n```spec/test1/BingPageObject.js\n\"use strict\";\nexport default class BingPageObject {\n    constructor(url) {\n        this.url = 'https://www.bing.com/';\n    }\n\n    async getPage() {\n        await this.navigateTo(this.url);\n    }\n\n    async navigateTo(url) {\n        await browser.get(url);\n    }\n\n    async getTitle() {\n        let title = await browser.getTitle();\n        return title;\n    }\n\n    async typeQuery(query) {\n        let textbox = await $('#sb_form_q');\n        return await textbox.sendKeys(query);\n    }\n\n    async search(query) {\n        let submit = await $('#sb_form_go');\n        await this.typeQuery(query);\n        return submit.click();\n    }\n\n    async getQuery() {\n        let textbox = await $('#sb_form_q');\n        return await textbox.getAttribute('value');\n    }\n\n    async getAlgo() {\n        let algo = await $$('#b_results > li').filter(async(elem) => {\n           let cls = await elem.getAttribute('class');\n           return cls === 'b_algo';\n        });\n\n        return await algo.map(async(elem) => {\n            let title = await elem.$('h2').getText();\n            return title;\n        });\n    }\n}\n```\n```bing_spec.js\n\"use strict\";\n\nimport assert from \"power-assert\";\n\nimport BingPageObject from \"./BingPageObject\"\n\ndescribe('Bing.com', () => {\n    let page;\n    let query = '\u5929\u6c17';\n\n    before(async() => {\n        page = new BingPageObject();\n        page.getPage();\n        await page.search(query);\n    });\n\n    it('\u691c\u7d22\u7a93\u306b\u5165\u529b\u3057\u305f\u30af\u30a8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b', async() => {\n         let text = await page.getQuery();\n         assert(text === query);\n    });\n\n    it('\u30a2\u30eb\u30b4\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b', async() => {\n        let algo = await page.getAlgo();\n        assert(algo.length === 10);\n    });\n});\n```\n\n\n\n# \u5b9f\u884c\u7d50\u679c\n```\n$ $(npm bin)/protractor protractor.conf.js --suite test1\nUsing ChromeDriver directly...\n[launcher] Running 1 instances of WebDriver\n\n\n  Bing.com\n    \u2713 \u691c\u7d22\u7a93\u306b\u5165\u529b\u3057\u305f\u30af\u30a8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n    \u2713 \u30a2\u30eb\u30b4\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\n\n  2 passing (3s)\n\n[launcher] 0 instance(s) of WebDriver still running\n[launcher] chrome #1 passed\n```\n\n\u3061\u3087\u3063\u3068\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u5931\u6557\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u308b\u3068\n\n```\n$ $(npm bin)/protractor protractor.conf.js --suite test1\nUsing ChromeDriver directly...\n[launcher] Running 1 instances of WebDriver\n\n\n  Bing.com\n    1) \u691c\u7d22\u7a93\u306b\u5165\u529b\u3057\u305f\u30af\u30a8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n    \u2713 \u30a2\u30eb\u30b4\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\n\n  1 passing (3s)\n  1 failing\n\n  1) Bing.com \u691c\u7d22\u7a93\u306b\u5165\u529b\u3057\u305f\u30af\u30a8\u30ea\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b:\n\n      AssertionError:   # spec/test1/bing_spec.js:19\n  \n  assert(text === 'hoge')\n         |    |          \n         |    false      \n         \"\u5929\u6c17\"          \n  \n  --- [string] 'hoge'\n  +++ [string] text\n  @@ -1,4 +1,2 @@\n  -hoge\n  +\u5929\u6c17\n  \n  \n      + expected - actual\n\n      -false\n      +true\n      \n[launcher] 0 instance(s) of WebDriver still running\n[launcher] chrome #1 failed 1 test(s)\n[launcher] overall: 1 failed spec(s)\n[launcher] Process exited with error code 1\n```\n\n\u3044\u3044\u611f\u3058\u306bpower-assert\u3082\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u306d\uff01\n\n\n# \u307e\u3068\u3081\n\u3082\u3068\u3082\u3068\u3053\u306e\u5185\u5bb9\u306f\u606f\u629c\u304d\u306e\u3064\u3082\u308a\u3067\u3044\u3066\u3001Protractor\u3068Mocha\u3084Protractor\u3068Babel\u3068\u3044\u3063\u305f\u5185\u5bb9\u306f\u898b\u3064\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3055\u3089\u306bpower-assert\u3092\u5408\u308f\u305b\u305f\u308a\u3001Angular\u74b0\u5883\u3067\u306a\u3044\u5834\u5408\u306f\u3069\u3046\u3059\u308c\u3070\u3068\u3044\u3046\u7591\u554f\u304b\u3089\u8a66\u3057\u3066\u66f8\u304d\u8d77\u3053\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u4f59\u8ac7\u3067\u3059\u304cProtractor\u4ee5\u5916\u306b\u3082\u3001\u500b\u4eba\u7684\u306b\u306f(\u5c11\u3057\u8a66\u3057\u305f\u3060\u3051\u3067\u3059\u304c)E2E\u30c6\u30b9\u30c8\u3068\u3057\u3066[groupon/testium](https://github.com/groupon/testium)\u3082\u60aa\u304f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u53c2\u8003\u8cc7\u6599\n- Protractor\u5074\u306e\u8a2d\u5b9a\u3068\u304b\u66f8\u304d\u65b9\u3068\u304b\n  - [Using ES2015 in protractor.conf.js \u00b7 Issue #2463 \u00b7 angular/protractor \u00b7 GitHub](https://github.com/angular/protractor/issues/2463)\n  - [reactjs - Preprocess e2e tests' files (ES6 styling) for Protractor using webpack - Stack Overflow](http://stackoverflow.com/questions/31045334/preprocess-e2e-tests-files-es6-styling-for-protractor-using-webpack)\n  - [Using Page Objects to Organize Tests - angular/protractor \u00b7 GitHub ](https://github.com/angular/protractor/blob/master/docs/page-objects.md)\n  - [javascript - What is browser.ignoreSynchronization in protractor? - Stack Overflow](http://stackoverflow.com/questions/28808463/what-is-browser-ignoresynchronization-in-protractor)\n- Protractor\u306ePromise\u3092async/await\u3067\u624b\u8efd\u306b\u6271\u3044\u305f\u304b\u3063\u305f\n  - [JavaScript - ES async/await\u3092\u5168\u529b\u3067\u4f7f\u3063\u3066\u307f\u3066\u767a\u898b\u3057\u305f\u30a4\u30c7\u30a3\u30aa\u30e0 - Qiita](http://qiita.com/mizchi/items/95410f4955d94ed103fa)\n", "tags": ["Protractor", "es6", "e2e", "JavaScript", "babel"]}