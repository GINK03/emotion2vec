{"context": "\u30d1\u30fc\u30d5\u30a7\u30af\u30c8 Ruby on Rails\u3092\u4f7f\u3063\u3066\u52c9\u5f37\u3057\u3066\u3044\u307e\u3059\u3002\n8\u7ae0\u306e\u300cChef\u306e\u30ec\u30b7\u30d4\u3092Vagrant\u4e0a\u306eVM\u306b\u9069\u7528\u3059\u308b\u300d\u3068\u3044\u3046\u3068\u3053\u308d\u3067\u3001vagrant provision\u304c\u8a70\u307e\u308a\u307e\u3057\u305f\u3002\n\u74b0\u5883\u3068\u5b9f\u969b\u306b\u6253\u3063\u305f\u30b3\u30de\u30f3\u30c9\u3001\u305d\u306e\u7d50\u679c\u304c\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\nName\nVersion\n\n\n\n\nRuby\n2.1.2\n\n\nVagrant\n1.8.1\n\n\nChef\n11.12.4\n\n\nBerkshelf\n3.1.2\n\n\n\n$ vagrant reload && vagrant provision                                                                                                                                                           \u23ce\n==> default: Attempting graceful shutdown of VM...\n==> default: Clearing any previously set forwarded ports...\n==> default: Auto-generating node name for Chef...\n==> default: Clearing any previously set network interfaces...\n==> default: Preparing network interfaces based on configuration...\n    default: Adapter 1: nat\n==> default: Forwarding ports...\n    default: 80 (guest) => 8080 (host) (adapter 1)\n    default: 22 (guest) => 2222 (host) (adapter 1)\n==> default: Booting VM...\n==> default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 127.0.0.1:2222\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n==> default: Machine booted and ready!\n[default] GuestAdditions 5.0.22 running --- OK.\n==> default: Checking for guest additions in VM...\n==> default: Mounting shared folders...\n    default: /vagrant => /Users/keisei/Vagrant/rails\n    default: /tmp/vagrant-chef/063272335eb6c72094819d965105d9d2/cookbooks => /Users/keisei/Vagrant/rails/cookbooks\n==> default: Running provisioner: chef_solo...\n==> default: Detected Chef (latest) is already installed\n==> default: Generating chef JSON and uploading...\n==> default: Running chef-solo...\n==> default: stdin: is not a tty\n==> default: [2016-06-26T12:38:48+00:00] INFO: Forking chef instance to converge...\n==> default: [2016-06-26T12:38:48+00:00] WARN:\n==> default: * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n==> default: SSL validation of HTTPS requests is disabled. HTTPS connections are still\n==> default: encrypted, but chef is not able to detect forged replies or man in the middle\n==> default: attacks.\n==> default:\n==> default: To fix this issue add an entry like this to your configuration file:\n==> default:\n==> default: ```\n==> default:   # Verify all HTTPS connections (recommended)\n==> default:   ssl_verify_mode :verify_peer\n==> default:\n==> default:   # OR, Verify only connections to chef-server\n==> default:   verify_api_cert true\n==> default: ```\n==> default:\n==> default: To check your SSL configuration, or troubleshoot errors, you can use the\n==> default: `knife ssl check` command like so:\n==> default:\n==> default: ```\n==> default:   knife ssl check -c /tmp/vagrant-chef/solo.rb\n==> default: ```\n==> default:\n==> default: * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n==> default: Starting Chef Client, version 11.12.2\n==> default: [2016-06-26T12:38:49+00:00] INFO: *** Chef 11.12.2 ***\n==> default: [2016-06-26T12:38:49+00:00] INFO: Chef-client pid: 1325\n==> default: [2016-06-26T12:38:52+00:00] INFO: Setting the run_list to [\"recipe[git]\"] from CLI options\n==> default: [2016-06-26T12:38:52+00:00] INFO: Run List is [recipe[git]]\n==> default: [2016-06-26T12:38:52+00:00] INFO: Run List expands to [git]\n==> default: [2016-06-26T12:38:52+00:00] INFO: Starting Chef Run for vagrant-db7d5867\n==> default: [2016-06-26T12:38:52+00:00] INFO: Running start handlers\n==> default: [2016-06-26T12:38:52+00:00] INFO: Start handlers complete.\n==> default: Compiling Cookbooks...\n==> default:\n==> default: ================================================================================\n==> default: Recipe Compile Error in /tmp/vagrant-chef/063272335eb6c72094819d965105d9d2/cookbooks/compat_resource/libraries/autoload.rb\n==> default: ================================================================================\n==> default:\n==> default:\n==> default: RuntimeError\n==> default: ------------\n==> default: This resource is written with Chef 12.5 custom resources, and requires at least Chef 12.0 used with the compat_resource cookbook, it will not work with Chef 11.x clients, and those users must pin their cookbooks to older versions or upgrade.\n==> default:\n==> default:\n==> default: Cookbook Trace:\n==> default: ---------------\n==> default:   /tmp/vagrant-chef/063272335eb6c72094819d965105d9d2/cookbooks/compat_resource/libraries/autoload.rb:2:in `<top (required)>'\n==> default:\n==> default:\n==> default: Relevant File Content:\n==> default: ----------------------\n==> default: /tmp/vagrant-chef/063272335eb6c72094819d965105d9d2/cookbooks/compat_resource/libraries/autoload.rb:\n==> default:\n==> default:   1:  unless Gem::Requirement.new(\">= 12.0\").satisfied_by?(Gem::Version.new(Chef::VERSION))\n==> default:   2>>   raise \"This resource is written with Chef 12.5 custom resources, and requires at least Chef 12.0 used with the compat_resource cookbook, it will not work with Chef 11.x clients, and those users must pin their cookbooks to older versions or upgrade.\"\n==> default:   3:  end\n==> default:   4:\n==> default:   5:  # If the gem is already activated rather than the cookbook, then we fail if our version is DIFFERENT.\n==> default:   6:  # The user said they wanted this cookbook version, they need to have this cookbook version.\n==> default:   7:  # NOTE: if the gem is installed but on a different version, we simply don't care: the cookbook version wins.\n==> default:   8:  #       If another gem depends on a different version being there, rubygems will correctly throw the error.\n==> default:   9:  if Gem.loaded_specs[\"compat_resource\"]\n==> default:  10:    # Read our current version\n==> default:  11:    version_rb = IO.read(File.expand_path(\"../../files/lib/compat_resource/version.rb\", __FILE__))\n==> default:\n==> default:\n==> default:\n==> default:\n==> default: Running handlers:\n==> default: [2016-06-26T12:38:52+00:00] ERROR: Running exception handlers\n==> default: Running handlers complete\n==> default:\n==> default: [2016-06-26T12:38:52+00:00] ERROR: Exception handlers complete\n==> default: [2016-06-26T12:38:52+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out\n==> default: Chef Client failed. 0 resources updated in 3.574904477 seconds\n==> default: [2016-06-26T12:38:52+00:00] ERROR: This resource is written with Chef 12.5 custom resources, and requires at least Chef 12.0 used with the compat_resource cookbook, it will not work with Chef 11.x clients, and those users must pin their cookbooks to older versions or upgrade.\n==> default: [2016-06-26T12:38:52+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)\nChef never successfully completed! Any errors should be visible in the\noutput above. Please fix your recipes so that they properly complete.\n\n\u3053\u308c\u306fVagrant\u5074\u306echef-client\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u3053\u3068\u306b\u3088\u3063\u3066\u8d77\u3053\u308a\u307e\u3059\u3002\n\u305d\u3053\u3067\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n(\u30db\u30b9\u30c8PC\u5074\u3067)\n$ vagrant ssh\n(\u30b2\u30b9\u30c8PC\u306e\u4e2d\u3067)\n$ curl -L https://www.opscode.com/chef/install.sh | sudo bash -s -- -v 12.10.24\n$ exit\n(\u30db\u30b9\u30c8PC\u5074\u3067)\n$ vagrant provision\n\n\u30d1\u30fc\u30d5\u30a7\u30af\u30c8 Ruby on Rails\u3092\u4f7f\u3063\u3066\u52c9\u5f37\u3057\u3066\u3044\u307e\u3059\u3002\n\n8\u7ae0\u306e\u300cChef\u306e\u30ec\u30b7\u30d4\u3092Vagrant\u4e0a\u306eVM\u306b\u9069\u7528\u3059\u308b\u300d\u3068\u3044\u3046\u3068\u3053\u308d\u3067\u3001`vagrant provision`\u304c\u8a70\u307e\u308a\u307e\u3057\u305f\u3002\n\u74b0\u5883\u3068\u5b9f\u969b\u306b\u6253\u3063\u305f\u30b3\u30de\u30f3\u30c9\u3001\u305d\u306e\u7d50\u679c\u304c\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n| Name | Version |\n|---|---|\n| Ruby | 2.1.2 |\n| Vagrant | 1.8.1 |\n| Chef | 11.12.4 |\n| Berkshelf | 3.1.2 |\n\n```\n$ vagrant reload && vagrant provision                                                                                                                                                           \u23ce\n==> default: Attempting graceful shutdown of VM...\n==> default: Clearing any previously set forwarded ports...\n==> default: Auto-generating node name for Chef...\n==> default: Clearing any previously set network interfaces...\n==> default: Preparing network interfaces based on configuration...\n    default: Adapter 1: nat\n==> default: Forwarding ports...\n    default: 80 (guest) => 8080 (host) (adapter 1)\n    default: 22 (guest) => 2222 (host) (adapter 1)\n==> default: Booting VM...\n==> default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 127.0.0.1:2222\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n==> default: Machine booted and ready!\n[default] GuestAdditions 5.0.22 running --- OK.\n==> default: Checking for guest additions in VM...\n==> default: Mounting shared folders...\n    default: /vagrant => /Users/keisei/Vagrant/rails\n    default: /tmp/vagrant-chef/063272335eb6c72094819d965105d9d2/cookbooks => /Users/keisei/Vagrant/rails/cookbooks\n==> default: Running provisioner: chef_solo...\n==> default: Detected Chef (latest) is already installed\n==> default: Generating chef JSON and uploading...\n==> default: Running chef-solo...\n==> default: stdin: is not a tty\n==> default: [2016-06-26T12:38:48+00:00] INFO: Forking chef instance to converge...\n==> default: [2016-06-26T12:38:48+00:00] WARN:\n==> default: * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n==> default: SSL validation of HTTPS requests is disabled. HTTPS connections are still\n==> default: encrypted, but chef is not able to detect forged replies or man in the middle\n==> default: attacks.\n==> default:\n==> default: To fix this issue add an entry like this to your configuration file:\n==> default:\n==> default: ```\n==> default:   # Verify all HTTPS connections (recommended)\n==> default:   ssl_verify_mode :verify_peer\n==> default:\n==> default:   # OR, Verify only connections to chef-server\n==> default:   verify_api_cert true\n==> default: ```\n==> default:\n==> default: To check your SSL configuration, or troubleshoot errors, you can use the\n==> default: `knife ssl check` command like so:\n==> default:\n==> default: ```\n==> default:   knife ssl check -c /tmp/vagrant-chef/solo.rb\n==> default: ```\n==> default:\n==> default: * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n==> default: Starting Chef Client, version 11.12.2\n==> default: [2016-06-26T12:38:49+00:00] INFO: *** Chef 11.12.2 ***\n==> default: [2016-06-26T12:38:49+00:00] INFO: Chef-client pid: 1325\n==> default: [2016-06-26T12:38:52+00:00] INFO: Setting the run_list to [\"recipe[git]\"] from CLI options\n==> default: [2016-06-26T12:38:52+00:00] INFO: Run List is [recipe[git]]\n==> default: [2016-06-26T12:38:52+00:00] INFO: Run List expands to [git]\n==> default: [2016-06-26T12:38:52+00:00] INFO: Starting Chef Run for vagrant-db7d5867\n==> default: [2016-06-26T12:38:52+00:00] INFO: Running start handlers\n==> default: [2016-06-26T12:38:52+00:00] INFO: Start handlers complete.\n==> default: Compiling Cookbooks...\n==> default:\n==> default: ================================================================================\n==> default: Recipe Compile Error in /tmp/vagrant-chef/063272335eb6c72094819d965105d9d2/cookbooks/compat_resource/libraries/autoload.rb\n==> default: ================================================================================\n==> default:\n==> default:\n==> default: RuntimeError\n==> default: ------------\n==> default: This resource is written with Chef 12.5 custom resources, and requires at least Chef 12.0 used with the compat_resource cookbook, it will not work with Chef 11.x clients, and those users must pin their cookbooks to older versions or upgrade.\n==> default:\n==> default:\n==> default: Cookbook Trace:\n==> default: ---------------\n==> default:   /tmp/vagrant-chef/063272335eb6c72094819d965105d9d2/cookbooks/compat_resource/libraries/autoload.rb:2:in `<top (required)>'\n==> default:\n==> default:\n==> default: Relevant File Content:\n==> default: ----------------------\n==> default: /tmp/vagrant-chef/063272335eb6c72094819d965105d9d2/cookbooks/compat_resource/libraries/autoload.rb:\n==> default:\n==> default:   1:  unless Gem::Requirement.new(\">= 12.0\").satisfied_by?(Gem::Version.new(Chef::VERSION))\n==> default:   2>>   raise \"This resource is written with Chef 12.5 custom resources, and requires at least Chef 12.0 used with the compat_resource cookbook, it will not work with Chef 11.x clients, and those users must pin their cookbooks to older versions or upgrade.\"\n==> default:   3:  end\n==> default:   4:\n==> default:   5:  # If the gem is already activated rather than the cookbook, then we fail if our version is DIFFERENT.\n==> default:   6:  # The user said they wanted this cookbook version, they need to have this cookbook version.\n==> default:   7:  # NOTE: if the gem is installed but on a different version, we simply don't care: the cookbook version wins.\n==> default:   8:  #       If another gem depends on a different version being there, rubygems will correctly throw the error.\n==> default:   9:  if Gem.loaded_specs[\"compat_resource\"]\n==> default:  10:    # Read our current version\n==> default:  11:    version_rb = IO.read(File.expand_path(\"../../files/lib/compat_resource/version.rb\", __FILE__))\n==> default:\n==> default:\n==> default:\n==> default:\n==> default: Running handlers:\n==> default: [2016-06-26T12:38:52+00:00] ERROR: Running exception handlers\n==> default: Running handlers complete\n==> default:\n==> default: [2016-06-26T12:38:52+00:00] ERROR: Exception handlers complete\n==> default: [2016-06-26T12:38:52+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out\n==> default: Chef Client failed. 0 resources updated in 3.574904477 seconds\n==> default: [2016-06-26T12:38:52+00:00] ERROR: This resource is written with Chef 12.5 custom resources, and requires at least Chef 12.0 used with the compat_resource cookbook, it will not work with Chef 11.x clients, and those users must pin their cookbooks to older versions or upgrade.\n==> default: [2016-06-26T12:38:52+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)\nChef never successfully completed! Any errors should be visible in the\noutput above. Please fix your recipes so that they properly complete.\n```\n\n\u3053\u308c\u306fVagrant\u5074\u306echef-client\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u3053\u3068\u306b\u3088\u3063\u3066\u8d77\u3053\u308a\u307e\u3059\u3002\n\u305d\u3053\u3067\u3001\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n(\u30db\u30b9\u30c8PC\u5074\u3067)\n$ vagrant ssh\n(\u30b2\u30b9\u30c8PC\u306e\u4e2d\u3067)\n$ curl -L https://www.opscode.com/chef/install.sh | sudo bash -s -- -v 12.10.24\n$ exit\n(\u30db\u30b9\u30c8PC\u5074\u3067)\n$ vagrant provision\n```\n", "tags": ["\u30d1\u30fc\u30d5\u30a7\u30af\u30c8RubyOnRails", "\u30d1\u30fc\u30d5\u30a7\u30af\u30c8RoR", "chef", "chef-solo", "vagrant"]}