{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nCanvas\u3092\u5229\u7528\u3057\u3066\u3001\u753b\u9762\u304c\u65ac\uff01\u3063\u3068\u5272\u308c\u308b\u3088\u3046\u306a\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u8868\u73fe\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u3064\u307e\u3089\u306a\u3044\u3082\u306e\u3092\u65ac\u3063\u3066\u3057\u307e\u3063\u305f\u6642\u306b\u306f\u5f79\u306b\u7acb\u3064\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n[\u52d5\u4f5c\u30a4\u30e1\u30fc\u30b8]\n\n\n\n\u306a\u304a\u5b9f\u969b\u306e\u52d5\u4f5c\u306f\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\nhttp://nekoneko-wanwan.github.io/demo/canvas/effect/zangeki/\nhttp://codepen.io/nekoneko-wanwan/pen/NGXMJb\n\n\n\u7279\u9577\u30fb\u4ed5\u69d8\n\nCanvas\u30b5\u30a4\u30ba\u306b\u4f9d\u5b58\u3057\u306a\u3044\n\u753b\u50cf\u306f1\u679a\u7528\u610f\u3059\u308b\u3060\u3051\u3067OK\n\u65ac\u3089\u308c\u308b\u89d2\u5ea6\u306f\u659c\u308145\u2103\u304b\u308990\u2103\uff08\u5782\u76f4\uff09\u307e\u3067\u5bfe\u5fdc\n\n\n\u305f\u3060\u3057\u30b3\u30fc\u30c9\u3092\u5c11\u3057\u5909\u66f4\u3059\u308c\u3070\u3001\u89d2\u5ea6\u306f\u67d4\u8edf\u306b\u5909\u3048\u3089\u308c\u308b\uff08\u591a\u5206\uff09\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u306f45 - 90 \u306e\u9593\u3067\u30e9\u30f3\u30c0\u30e0\u306b\u8a2d\u5b9a\n\n\n\u305a\u308c\u3066\u3044\u304f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306f\u7d30\u304b\u304f\u8abf\u6574\u53ef\u80fd\n\n\n\u30b3\u30fc\u30c9\u3060\u3068\u30d9\u30bf\u3067\u5024\u3092\u66f8\u3044\u3066\u308b\u306e\u3067\u3001\u305d\u3053\u3092\u8abf\u6574\u3057\u3066\u3084\u308c\u3070...\n\n\n\u5206\u65ad\u3055\u308c\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u7247\u65b9\u3092\u56fa\u5b9a\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nindex.html\n<!-- Canvas\u30b5\u30a4\u30ba\u306f\u753b\u50cf\u30b5\u30a4\u30ba\u306e\u6bd4\u7387\u306b\u5408\u308f\u305b\u3066\u3044\u308b -->\n<canvas id=\"myCanvas\" width=\"500\" height=\"333\"></canvas>\n\n\n\ncanvas.js\n/* \u5909\u6570\u5b9a\u7fa9 */\nvar cs       = document.getElementById('myCanvas');\nvar ctx      = cs.getContext('2d');\nvar csWidth  = cs.width;\nvar csHeight = cs.height;\n\n/* \u753b\u50cf\u3092\u751f\u6210\u3057\u3001\u8aad\u307f\u8fbc\u307f\u5f8c\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u5b9f\u884c */\nvar baseImg = new Image();\nbaseImg.src = 'img.jpg';\nbaseImg.onload = function() {\n    zangeki();\n};\n\n\n/**\n * \u65ac\u6483\u30a8\u30d5\u30a7\u30af\u30c8\n * Canvas\u306e\u753b\u50cf\u306e\u6bd4\u7387\u304c\u9055\u3046\u3068\u3001\u753b\u50cf\u304c\u5909\u5f62\u3055\u308c\u308b\u306e\u306b\u6ce8\u610f\n */\nvar zangeki = function() {\n    /* \u5909\u6570\u5b9a\u7fa9 ----------------------------- */\n    var hypotenuse; // Canvas\u306e\u659c\u8fba\u3002\u52d5\u304b\u3059\u4e0a\u9650\u3068\u3059\u308b\n    var basePos;    // \u65ac\u3089\u308c\u308b\u57fa\u6e96\u306e\u4f4d\u7f6e\uff08\u53f3\u4e0a\u304b\u3089\u306eX\u5ea7\u6a19\uff09\n    var move;       // \u52d5\u304f\u91cf\n    var add;        // \u52a0\u901f\u5ea6\n    var alpha;      // \u900f\u660e\u5ea6\n    var rad;        // \u30e9\u30b8\u30a2\u30f3\n    var deg;        // \u30e9\u30b8\u30a2\u30f3\u3092\u89d2\u5ea6\u306b\u5909\u63db\n\n\n    /* \u95a2\u6570\u5b9a\u7fa9 ----------------------------- */\n    /* \u521d\u671f\u5316\u3002\u518d\u5229\u7528\u3057\u306a\u3044\u306a\u3089\u3001\u5909\u6570\u5b9a\u7fa9\u306e\u3068\u3053\u308d\u3078\u307e\u3068\u3081\u3066\u3057\u307e\u3063\u3066\u3088\u3044 */\n    var initialize = function() {\n        hypotenuse = Math.sqrt(Math.pow(csWidth, 2) + Math.pow(csHeight, 2));\n        basePos    = Math.round(Math.random() * csWidth / 2);\n        move       = 0;\n        add        = 0.1;\n        alpha      = 1;\n\n        /* \u65ac\u3089\u308c\u308b\u4f4d\u7f6e\u3092\u5143\u306b\u3057\u305f\u89d2\u5ea6\u3092\u6c42\u3081\u308b */\n        /* \u3053\u306e\u89d2\u5ea6\u3092\u5143\u306b\u5ea7\u6a19\u3092\u5909\u66f4\u3057\u3066\u3044\u304f\u3053\u3068\u3067\u79fb\u52d5\u3068\u3059\u308b */\n        rad = Math.atan2(csHeight, csWidth - (basePos * 2));\n        deg = rad * 180 / Math.PI;\n    };\n\n    /* \u753b\u50cf\u306e\u63cf\u753b */\n    var draw = {\n        leftArea: function(isMove) {\n            /* \u79fb\u52d5\u91cf\uff08\u659c\u8fba\uff09\u306e\u7b97\u51fa */\n            var x = -move * Math.cos(rad);\n            var y = move * Math.sin(rad);\n\n            ctx.save();\n            /* \u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u7bc4\u56f2\u3092\u8a2d\u5b9a */\n            ctx.beginPath();\n            ctx.moveTo(0, 0);\n            ctx.lineTo(csWidth - basePos, 0);\n            ctx.lineTo(basePos, csHeight);\n            ctx.lineTo(0, csHeight);\n            ctx.closePath();\n            ctx.clip();\n            /* \u5f90\u3005\u306b\u79fb\u52d5\u3055\u305b\u308b */\n            if (isMove) {\n                ctx.setTransform(1, 0, 0, 1, x, y);\n            }\n            ctx.drawImage(baseImg, 0, 0, csWidth, csHeight);\n            ctx.restore();\n        },\n        rightArea: function(isMove) {\n            /* \u79fb\u52d5\u91cf\uff08\u659c\u8fba\uff09\u306e\u7b97\u51fa */\n            var x = move * Math.cos(rad);\n            var y = -move * Math.sin(rad);\n\n            ctx.save();\n            /* \u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u7bc4\u56f2\u3092\u8a2d\u5b9a */\n            ctx.beginPath();\n            ctx.moveTo(csWidth - basePos, 0);\n            ctx.lineTo(csWidth, 0);\n            ctx.lineTo(csWidth, csHeight);\n            ctx.lineTo(basePos, csHeight);\n            ctx.closePath();\n            ctx.clip();\n            /* \u5f90\u3005\u306b\u79fb\u52d5\u3055\u305b\u308b */\n            if (isMove) {\n                ctx.setTransform(1, 0, 0, 1, x, y);\n            }\n            ctx.drawImage(baseImg, 0, 0, csWidth, csHeight);\n            ctx.restore();\n        }\n    };\n\n    /* \u30ec\u30f3\u30c0\u30ea\u30f3\u30b0 */\n    var render = function() {\n        ctx.clearRect(0, 0, csWidth, csHeight);\n        ctx.globalAlpha = alpha;\n        draw.leftArea(true);\n        draw.rightArea(true);  // false\u3067\u56fa\u5b9a\uff08\u79fb\u52d5\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3057\u306a\u3044\uff09\n\n        /* \u52d5\u3044\u305f\u91cf\u306b\u5fdc\u3058\u3066\u52a0\u901f\u5ea6\u3092\u5909\u66f4 */\n        if (move  > 0 ) { add = 10;}\n        if (move  > 50) { add = 0.2;}\n        if (move  > 60) { add = 20;}\n\n        /* \u4e00\u5b9a\u8ddd\u96e2\u9032\u3093\u3060\u3089\u900f\u660e\u5ea6\u3092\u843d\u3068\u3057\u3066\u3044\u304f */\n        if (move  > 300) {\n            alpha -= 0.1;\n            if (alpha < 0) {\n                alpha = 0;\n            }\n        }\n\n        move += add;\n        var timer = requestAnimationFrame(render);\n\n        /* \u659c\u8fba\u3092\u8d85\u3048\u305f\u3089\u4e00\u5b9a\u6642\u9593\u505c\u6b62\u3057\u3001\u518d\u5ea6\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u958b\u59cb\u3059\u308b */\n        if (move > hypotenuse + 10) { // +10\u306f\u30d0\u30c3\u30d5\u30a1\n            cancelAnimationFrame(timer);\n            setTimeout(function() {\n                initialize();\n                render();\n            }, 1000);\n        }\n    };\n\n    initialize();\n    render();\n};\n\n\n\n\u4f5c\u308a\u65b9\u30fb\u8003\u3048\u65b9\n\n\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u5b9f\u884c\u307e\u3067\n\nCanvas\u30b5\u30a4\u30ba\u306b\u5408\u308f\u305b\u3066\u753b\u50cf\u3092\u7528\u610f\u3057\u307e\u3059\n\n\n\u30b5\u30a4\u30ba\u306e\u6bd4\u7387\u304c\u5408\u308f\u306a\u3044\u3068\u753b\u50cf\u304c\u5909\u5f62\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\uff08\u3053\u306e\u30b3\u30fc\u30c9\u306e\u5834\u5408\uff09\n\n\n\u753b\u50cf\u306e\u8aad\u307f\u8fbc\u307f\u304c\u5b8c\u4e86\u3057\u305f\u5f8c\u306b\u3001\u30a8\u30d5\u30a7\u30af\u30c8\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\n\n\n\u753b\u50cf\u306e\u63cf\u753b\u307e\u3067\n\nCanvas\u3092\u659c\u3081\u306b\u5206\u65ad\u3057\u305f\u6642\u306b\u3067\u304d\u308b\u3001\u7247\u5074\u304c\u5782\u76f4\u306e\u53f0\u5f62\u30922\u3064\u60f3\u5b9a\u3057\u307e\u3059\n\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u53f3\u4e0a\u7aef\u304b\u3089\u306eX\u5ea7\u6a19\u306e\u79fb\u52d5\u91cf\u3092\u5206\u65ad\u3059\u308b\u57fa\u6e96\u3068\u3057\u307e\u3059\n\u659c\u3081\u306e\u89d2\u5ea6\u306b\u3088\u3063\u3066\u306f\u305f\u3060\u306e\u56db\u89d2\u5f62\u3001\u76f4\u89d2\u4e09\u89d2\u5f62\u306b\u306a\u308a\u307e\u3059\n\u3064\u307e\u308aCanvas\u30b5\u30a4\u30ba\u306e\u534a\u5206\u306e\u5024\u3067\u5782\u76f4\u3068\u306a\u308a\u307e\u3059\n\n\n\u53f0\u5f62\u306e\u659c\u8fba\u306b\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u306e\u5185\u89d2\u89d2\u5ea6\u3092\u7b97\u51fa\u3057\u3066\u304a\u304d\u307e\u3059\n\u53f0\u5f62\u306e4\u89d2\u3092lineTo()\u3067\u3064\u306a\u3044\u3067\u30d1\u30b9\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u306bclip()\u3067\u3001\u8868\u793a\u7bc4\u56f2\u3092\u5236\u9650\u3057\u307e\u3059\n\nsetTransform()\u3067X, Y\u5ea7\u6a19\u3092\u5909\u5f62\u3057\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u73fe\u3057\u307e\u3059\n\n\n2. \u306e\u89d2\u5ea6\u3092\u5143\u306b\u3001\u659c\u8fba\u306e\u79fb\u52d5\u91cf\u3092\u7b97\u51fa\u3057\u9069\u7528\u3057\u307e\u3059\n\n\n\u753b\u50cf\u3092\u914d\u7f6e\u3057\u307e\u3059\uff08clip()\u306b\u3088\u308a\u53f0\u5f62\u578b\u306b\u8868\u793a\uff09\n\u3053\u3053\u307e\u3067\u306e\u6d41\u308c\u3092save(), restore()\u3057\u3066\u304a\u304d\u307e\u3059\n\n\n\u5225\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u305f\u6642\u306b\u72b6\u614b\u3092\u9069\u7528\u3055\u305b\u306a\u3044\u305f\u3081\n\n\n\n\n\u3053\u306e\u624b\u9806\u30922\u56de\u884c\u3046\u3053\u3068\u3067\u3001\u305d\u308c\u305e\u308c\u53f0\u5f62\u306b\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u305f\u753b\u50cf\u304c2\u3064\u63cf\u753b\u3055\u308c\u307e\u3059\u3002\n2\u3064\u306e\u753b\u50cf\u304c\u304f\u3063\u3064\u3044\u305f\u72b6\u614b\u306a\u306e\u3067\u3001\u753b\u50cf\u3084\u74b0\u5883\u306b\u3088\u3063\u3066\u306f\u52d5\u304b\u3055\u306a\u3044\u72b6\u614b\u3067\u3082\u5207\u308c\u76ee\u304c\u898b\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u307e\u3067\n\n\u753b\u50cf\u3092\u63cf\u753b\u3057\u3001\u52d5\u304b\u3059\u91cf\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u3044\u304d\u307e\u3059\n\u52a0\u901f\u5ea6\u306e\u6761\u4ef6\u3092\u7d30\u304b\u304f\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30a4\u30fc\u30b8\u30f3\u30b0\u306e\u3088\u3046\u306a\u3082\u306e\u3092\u5b9f\u88c5\u3057\u307e\u3059\n\u4e00\u5b9a\u6761\u4ef6\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u505c\u6b62\u3055\u305b\u307e\u3059\uff08\u3053\u3053\u3067\u306fCanvas\u306e\u5bfe\u89d2\u7dda\u3088\u308a\u3082\u79fb\u52d5\u3057\u305f\u6642\uff09\n\n\n\u7d42\u308f\u308a\u306b\n\u4f5c\u308a\u65b9\u306f\u81ea\u5206\u3067\u8003\u3048\u3066\u307f\u305f\u306e\u3067\u3001\u66f8\u304d\u65b9\u304c\u5fae\u5999\u3060\u3063\u305f\u308a\u975e\u52b9\u7387\u306a\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3082\u3063\u3068\u826f\u3044\u65b9\u6cd5\u304c\u3042\u308c\u3070\u3054\u6559\u6388\u304f\u3060\u3055\u3044\u307e\u305b\u3002\n\u306a\u304a\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30a2\u30a4\u30c7\u30a2\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\n\nhttp://liginc.co.jp/web/html-css/143360\n\n\u4eca\u307e\u3067\u4f5c\u6210\u3057\u305f\u8b0e\u306a\u30b7\u30ea\u30fc\u30ba\n\nCanvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a\u5439\u304d\u51fa\u3057\u3092\u66f8\u3044\u3066\u307f\u305f\nCanvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a \"\u3056\u308f\u30fb\u30fb\u30fb\" \u3092\u66f8\u3044\u3066\u307f\u305f\nCanvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a\u96c6\u4e2d\u7dda\u3092\u66f8\u3044\u3066\u307f\u305f\n\n# \u306f\u3058\u3081\u306b\nCanvas\u3092\u5229\u7528\u3057\u3066\u3001\u753b\u9762\u304c**\u65ac\uff01**\u3063\u3068\u5272\u308c\u308b\u3088\u3046\u306a\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u8868\u73fe\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u3064\u307e\u3089\u306a\u3044\u3082\u306e\u3092\u65ac\u3063\u3066\u3057\u307e\u3063\u305f\u6642\u306b\u306f\u5f79\u306b\u7acb\u3064\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n**[\u52d5\u4f5c\u30a4\u30e1\u30fc\u30b8]**\n\n![\u65ac2.gif](https://qiita-image-store.s3.amazonaws.com/0/58436/bfa02d4e-095c-982e-0464-48f1f50e72d4.gif)\n\n![\u65ac.gif](https://qiita-image-store.s3.amazonaws.com/0/58436/49392f48-5eed-f611-29c9-eb8fc08dc03a.gif)\n\n\n> \u306a\u304a\u5b9f\u969b\u306e\u52d5\u4f5c\u306f\u4ee5\u4e0b\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n> http://nekoneko-wanwan.github.io/demo/canvas/effect/zangeki/\n> http://codepen.io/nekoneko-wanwan/pen/NGXMJb\n\n\n\n\n\n# \u7279\u9577\u30fb\u4ed5\u69d8\n- Canvas\u30b5\u30a4\u30ba\u306b\u4f9d\u5b58\u3057\u306a\u3044\n- \u753b\u50cf\u306f1\u679a\u7528\u610f\u3059\u308b\u3060\u3051\u3067OK\n- \u65ac\u3089\u308c\u308b\u89d2\u5ea6\u306f\u659c\u308145\u2103\u304b\u308990\u2103\uff08\u5782\u76f4\uff09\u307e\u3067\u5bfe\u5fdc\n\t- \u305f\u3060\u3057\u30b3\u30fc\u30c9\u3092\u5c11\u3057\u5909\u66f4\u3059\u308c\u3070\u3001\u89d2\u5ea6\u306f\u67d4\u8edf\u306b\u5909\u3048\u3089\u308c\u308b\uff08\u591a\u5206\uff09\n\t- \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u306f45 - 90 \u306e\u9593\u3067\u30e9\u30f3\u30c0\u30e0\u306b\u8a2d\u5b9a\n- \u305a\u308c\u3066\u3044\u304f\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306f\u7d30\u304b\u304f\u8abf\u6574\u53ef\u80fd\n\t- \u30b3\u30fc\u30c9\u3060\u3068\u30d9\u30bf\u3067\u5024\u3092\u66f8\u3044\u3066\u308b\u306e\u3067\u3001\u305d\u3053\u3092\u8abf\u6574\u3057\u3066\u3084\u308c\u3070...\n- \u5206\u65ad\u3055\u308c\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u7247\u65b9\u3092\u56fa\u5b9a\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\n\n\n\n\n\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n```index.html\n<!-- Canvas\u30b5\u30a4\u30ba\u306f\u753b\u50cf\u30b5\u30a4\u30ba\u306e\u6bd4\u7387\u306b\u5408\u308f\u305b\u3066\u3044\u308b -->\n<canvas id=\"myCanvas\" width=\"500\" height=\"333\"></canvas>\n```\n\n```canvas.js\n/* \u5909\u6570\u5b9a\u7fa9 */\nvar cs       = document.getElementById('myCanvas');\nvar ctx      = cs.getContext('2d');\nvar csWidth  = cs.width;\nvar csHeight = cs.height;\n\n/* \u753b\u50cf\u3092\u751f\u6210\u3057\u3001\u8aad\u307f\u8fbc\u307f\u5f8c\u306b\u30a8\u30d5\u30a7\u30af\u30c8\u5b9f\u884c */\nvar baseImg = new Image();\nbaseImg.src = 'img.jpg';\nbaseImg.onload = function() {\n    zangeki();\n};\n\n\n/**\n * \u65ac\u6483\u30a8\u30d5\u30a7\u30af\u30c8\n * Canvas\u306e\u753b\u50cf\u306e\u6bd4\u7387\u304c\u9055\u3046\u3068\u3001\u753b\u50cf\u304c\u5909\u5f62\u3055\u308c\u308b\u306e\u306b\u6ce8\u610f\n */\nvar zangeki = function() {\n    /* \u5909\u6570\u5b9a\u7fa9 ----------------------------- */\n    var hypotenuse; // Canvas\u306e\u659c\u8fba\u3002\u52d5\u304b\u3059\u4e0a\u9650\u3068\u3059\u308b\n    var basePos;    // \u65ac\u3089\u308c\u308b\u57fa\u6e96\u306e\u4f4d\u7f6e\uff08\u53f3\u4e0a\u304b\u3089\u306eX\u5ea7\u6a19\uff09\n    var move;       // \u52d5\u304f\u91cf\n    var add;        // \u52a0\u901f\u5ea6\n    var alpha;      // \u900f\u660e\u5ea6\n    var rad;        // \u30e9\u30b8\u30a2\u30f3\n    var deg;        // \u30e9\u30b8\u30a2\u30f3\u3092\u89d2\u5ea6\u306b\u5909\u63db\n\n\n    /* \u95a2\u6570\u5b9a\u7fa9 ----------------------------- */\n    /* \u521d\u671f\u5316\u3002\u518d\u5229\u7528\u3057\u306a\u3044\u306a\u3089\u3001\u5909\u6570\u5b9a\u7fa9\u306e\u3068\u3053\u308d\u3078\u307e\u3068\u3081\u3066\u3057\u307e\u3063\u3066\u3088\u3044 */\n    var initialize = function() {\n        hypotenuse = Math.sqrt(Math.pow(csWidth, 2) + Math.pow(csHeight, 2));\n        basePos    = Math.round(Math.random() * csWidth / 2);\n        move       = 0;\n        add        = 0.1;\n        alpha      = 1;\n\n        /* \u65ac\u3089\u308c\u308b\u4f4d\u7f6e\u3092\u5143\u306b\u3057\u305f\u89d2\u5ea6\u3092\u6c42\u3081\u308b */\n        /* \u3053\u306e\u89d2\u5ea6\u3092\u5143\u306b\u5ea7\u6a19\u3092\u5909\u66f4\u3057\u3066\u3044\u304f\u3053\u3068\u3067\u79fb\u52d5\u3068\u3059\u308b */\n        rad = Math.atan2(csHeight, csWidth - (basePos * 2));\n        deg = rad * 180 / Math.PI;\n    };\n\n    /* \u753b\u50cf\u306e\u63cf\u753b */\n    var draw = {\n        leftArea: function(isMove) {\n            /* \u79fb\u52d5\u91cf\uff08\u659c\u8fba\uff09\u306e\u7b97\u51fa */\n            var x = -move * Math.cos(rad);\n            var y = move * Math.sin(rad);\n\n            ctx.save();\n            /* \u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u7bc4\u56f2\u3092\u8a2d\u5b9a */\n            ctx.beginPath();\n            ctx.moveTo(0, 0);\n            ctx.lineTo(csWidth - basePos, 0);\n            ctx.lineTo(basePos, csHeight);\n            ctx.lineTo(0, csHeight);\n            ctx.closePath();\n            ctx.clip();\n            /* \u5f90\u3005\u306b\u79fb\u52d5\u3055\u305b\u308b */\n            if (isMove) {\n                ctx.setTransform(1, 0, 0, 1, x, y);\n            }\n            ctx.drawImage(baseImg, 0, 0, csWidth, csHeight);\n            ctx.restore();\n        },\n        rightArea: function(isMove) {\n            /* \u79fb\u52d5\u91cf\uff08\u659c\u8fba\uff09\u306e\u7b97\u51fa */\n            var x = move * Math.cos(rad);\n            var y = -move * Math.sin(rad);\n\n            ctx.save();\n            /* \u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u7bc4\u56f2\u3092\u8a2d\u5b9a */\n            ctx.beginPath();\n            ctx.moveTo(csWidth - basePos, 0);\n            ctx.lineTo(csWidth, 0);\n            ctx.lineTo(csWidth, csHeight);\n            ctx.lineTo(basePos, csHeight);\n            ctx.closePath();\n            ctx.clip();\n            /* \u5f90\u3005\u306b\u79fb\u52d5\u3055\u305b\u308b */\n            if (isMove) {\n                ctx.setTransform(1, 0, 0, 1, x, y);\n            }\n            ctx.drawImage(baseImg, 0, 0, csWidth, csHeight);\n            ctx.restore();\n        }\n    };\n\n    /* \u30ec\u30f3\u30c0\u30ea\u30f3\u30b0 */\n    var render = function() {\n        ctx.clearRect(0, 0, csWidth, csHeight);\n        ctx.globalAlpha = alpha;\n        draw.leftArea(true);\n        draw.rightArea(true);  // false\u3067\u56fa\u5b9a\uff08\u79fb\u52d5\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3057\u306a\u3044\uff09\n\n        /* \u52d5\u3044\u305f\u91cf\u306b\u5fdc\u3058\u3066\u52a0\u901f\u5ea6\u3092\u5909\u66f4 */\n        if (move  > 0 ) { add = 10;}\n        if (move  > 50) { add = 0.2;}\n        if (move  > 60) { add = 20;}\n\n        /* \u4e00\u5b9a\u8ddd\u96e2\u9032\u3093\u3060\u3089\u900f\u660e\u5ea6\u3092\u843d\u3068\u3057\u3066\u3044\u304f */\n        if (move  > 300) {\n            alpha -= 0.1;\n            if (alpha < 0) {\n                alpha = 0;\n            }\n        }\n\n        move += add;\n        var timer = requestAnimationFrame(render);\n\n        /* \u659c\u8fba\u3092\u8d85\u3048\u305f\u3089\u4e00\u5b9a\u6642\u9593\u505c\u6b62\u3057\u3001\u518d\u5ea6\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u958b\u59cb\u3059\u308b */\n        if (move > hypotenuse + 10) { // +10\u306f\u30d0\u30c3\u30d5\u30a1\n            cancelAnimationFrame(timer);\n            setTimeout(function() {\n                initialize();\n                render();\n            }, 1000);\n        }\n    };\n\n    initialize();\n    render();\n};\n```\n\n\n\n# \u4f5c\u308a\u65b9\u30fb\u8003\u3048\u65b9\n## \u30a8\u30d5\u30a7\u30af\u30c8\u306e\u5b9f\u884c\u307e\u3067\n1. Canvas\u30b5\u30a4\u30ba\u306b\u5408\u308f\u305b\u3066\u753b\u50cf\u3092\u7528\u610f\u3057\u307e\u3059\n\t- \u30b5\u30a4\u30ba\u306e\u6bd4\u7387\u304c\u5408\u308f\u306a\u3044\u3068\u753b\u50cf\u304c\u5909\u5f62\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\uff08\u3053\u306e\u30b3\u30fc\u30c9\u306e\u5834\u5408\uff09\n2. \u753b\u50cf\u306e\u8aad\u307f\u8fbc\u307f\u304c\u5b8c\u4e86\u3057\u305f\u5f8c\u306b\u3001\u30a8\u30d5\u30a7\u30af\u30c8\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\n\n\n## \u753b\u50cf\u306e\u63cf\u753b\u307e\u3067\n1. Canvas\u3092\u659c\u3081\u306b\u5206\u65ad\u3057\u305f\u6642\u306b\u3067\u304d\u308b\u3001\u7247\u5074\u304c\u5782\u76f4\u306e\u53f0\u5f62\u30922\u3064\u60f3\u5b9a\u3057\u307e\u3059\n\t- \u3053\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u53f3\u4e0a\u7aef\u304b\u3089\u306eX\u5ea7\u6a19\u306e\u79fb\u52d5\u91cf\u3092\u5206\u65ad\u3059\u308b\u57fa\u6e96\u3068\u3057\u307e\u3059\n\t- \u659c\u3081\u306e\u89d2\u5ea6\u306b\u3088\u3063\u3066\u306f\u305f\u3060\u306e\u56db\u89d2\u5f62\u3001\u76f4\u89d2\u4e09\u89d2\u5f62\u306b\u306a\u308a\u307e\u3059\n\t- \u3064\u307e\u308aCanvas\u30b5\u30a4\u30ba\u306e\u534a\u5206\u306e\u5024\u3067\u5782\u76f4\u3068\u306a\u308a\u307e\u3059\n2. \u53f0\u5f62\u306e\u659c\u8fba\u306b\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u306e\u5185\u89d2\u89d2\u5ea6\u3092\u7b97\u51fa\u3057\u3066\u304a\u304d\u307e\u3059\n3. \u53f0\u5f62\u306e4\u89d2\u3092`lineTo()`\u3067\u3064\u306a\u3044\u3067\u30d1\u30b9\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u306b`clip()`\u3067\u3001\u8868\u793a\u7bc4\u56f2\u3092\u5236\u9650\u3057\u307e\u3059\n4. `setTransform()`\u3067X, Y\u5ea7\u6a19\u3092\u5909\u5f62\u3057\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u73fe\u3057\u307e\u3059\n\t- 2. \u306e\u89d2\u5ea6\u3092\u5143\u306b\u3001\u659c\u8fba\u306e\u79fb\u52d5\u91cf\u3092\u7b97\u51fa\u3057\u9069\u7528\u3057\u307e\u3059\n5. \u753b\u50cf\u3092\u914d\u7f6e\u3057\u307e\u3059\uff08`clip()`\u306b\u3088\u308a\u53f0\u5f62\u578b\u306b\u8868\u793a\uff09\n6. \u3053\u3053\u307e\u3067\u306e\u6d41\u308c\u3092`save()`, `restore()`\u3057\u3066\u304a\u304d\u307e\u3059\n\t- \u5225\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3057\u305f\u6642\u306b\u72b6\u614b\u3092\u9069\u7528\u3055\u305b\u306a\u3044\u305f\u3081\n\n> \u3053\u306e\u624b\u9806\u30922\u56de\u884c\u3046\u3053\u3068\u3067\u3001\u305d\u308c\u305e\u308c\u53f0\u5f62\u306b\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u305f\u753b\u50cf\u304c2\u3064\u63cf\u753b\u3055\u308c\u307e\u3059\u3002\n> 2\u3064\u306e\u753b\u50cf\u304c\u304f\u3063\u3064\u3044\u305f\u72b6\u614b\u306a\u306e\u3067\u3001\u753b\u50cf\u3084\u74b0\u5883\u306b\u3088\u3063\u3066\u306f\u52d5\u304b\u3055\u306a\u3044\u72b6\u614b\u3067\u3082\u5207\u308c\u76ee\u304c\u898b\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n## \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u307e\u3067\n1. \u753b\u50cf\u3092\u63cf\u753b\u3057\u3001\u52d5\u304b\u3059\u91cf\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u3044\u304d\u307e\u3059\n2. \u52a0\u901f\u5ea6\u306e\u6761\u4ef6\u3092\u7d30\u304b\u304f\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u30a4\u30fc\u30b8\u30f3\u30b0\u306e\u3088\u3046\u306a\u3082\u306e\u3092\u5b9f\u88c5\u3057\u307e\u3059\n3. \u4e00\u5b9a\u6761\u4ef6\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u505c\u6b62\u3055\u305b\u307e\u3059\uff08\u3053\u3053\u3067\u306fCanvas\u306e\u5bfe\u89d2\u7dda\u3088\u308a\u3082\u79fb\u52d5\u3057\u305f\u6642\uff09\n\n\n\n\n\n# \u7d42\u308f\u308a\u306b\n\u4f5c\u308a\u65b9\u306f\u81ea\u5206\u3067\u8003\u3048\u3066\u307f\u305f\u306e\u3067\u3001\u66f8\u304d\u65b9\u304c\u5fae\u5999\u3060\u3063\u305f\u308a\u975e\u52b9\u7387\u306a\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3082\u3063\u3068\u826f\u3044\u65b9\u6cd5\u304c\u3042\u308c\u3070\u3054\u6559\u6388\u304f\u3060\u3055\u3044\u307e\u305b\u3002\n\n\u306a\u304a\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30a2\u30a4\u30c7\u30a2\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\n> http://liginc.co.jp/web/html-css/143360\n\n**\u4eca\u307e\u3067\u4f5c\u6210\u3057\u305f\u8b0e\u306a\u30b7\u30ea\u30fc\u30ba**\n> [Canvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a\u5439\u304d\u51fa\u3057\u3092\u66f8\u3044\u3066\u307f\u305f](http://qiita.com/nekoneko-wanwan/items/df5d8eaf33fa477fe7c9)\n> [Canvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a \"\u3056\u308f\u30fb\u30fb\u30fb\" \u3092\u66f8\u3044\u3066\u307f\u305f](http://qiita.com/nekoneko-wanwan/items/4b196365183580831758)\n> [Canvas\u3067\u6f2b\u753b\u306b\u3042\u308b\u3088\u3046\u306a\u96c6\u4e2d\u7dda\u3092\u66f8\u3044\u3066\u307f\u305f](http://qiita.com/nekoneko-wanwan/items/0911a59bf835d5b9e35a)\n", "tags": ["HTML", "JavaScript", "canvas"]}