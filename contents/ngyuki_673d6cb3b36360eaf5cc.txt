{"context": " More than 1 year has passed since last update.\u30d2\u30a2\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u5341\u5206\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3002\n\nhoge.sh\n#!/bin/bash\n\n# Usage: hoge [options] [dir]\n#\n# Options:\n#   -a         Are na option\n#   -o val     Ore no option\n#\n# Arguments:\n#   dir        Document Root\n\nset -ue\n\nfunction usage()\n{\n    sed -rn '/^# Usage/,${/^#/!q;s/^# ?//;p}' \"$0\"\n    exit 1\n}\n\n# Usage Da Yo!\nusage\n\n\n$ ./hoge.sh\nUsage: hoge [options] [dir]\n\nOptions:\n  -a         Are na option\n  -o val     Ore no option\n\nArguments:\n  dir        Document Root\n\nsed \u306e\u30b3\u30de\u30f3\u30c9\u306e\u90e8\u5206\u3092\u6574\u5f62\u3059\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nhoge.sh\n(snip)\n\n    sed -rn '\n        /^# Usage/,${\n            /^#/ ! q\n            s/^# ?//\n            p\n        }\n    ' \"$0\"\n\n(snip)\n\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u6b21\u306e\u3088\u3046\u306a\u610f\u5473\u3067\u3059\u3002\n\n\n/^# Usage/ \u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u304b\u3089\u6700\u7d42\u884c\u307e\u3067\n\n\n\n/^#/ \u306b\u30de\u30c3\u30c1\u3057\u306a\u3044\u884c\u304c\u6765\u305f\u3089\u7d42\u4e86\n\n/^# ?/ \u3092 \u7a7a\u6587\u5b57 \u306b\u7f6e\u63db\n\u8868\u793a\u3059\u308b\n\n\n\n\u6b21\u306e\u3088\u3046\u306b t \u30b3\u30de\u30f3\u30c9\u3067\u6761\u4ef6\u5206\u5c90\u3055\u305b\u3066\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u65b9\u304c\u6b63\u898f\u8868\u73fe\u306e\u30de\u30c3\u30c1\u30f3\u30b0\u306e\u56de\u6570\u304c\u6e1b\u308b\u304b\u3082\u3002\n\nhoge.sh\n#!/bin/bash\n\n# Usage: hoge [options] [dir]\n#\n# Options:\n#   -a         Are na option\n#   -o val     Ore no option\n#\n# Arguments:\n#   dir        Document Root\n\nset -ue\n\nfunction usage()\n{\n    sed -rn '\n        /^# Usage/,${\n            s/^# ?//\n            t p\n            q\n            :p p\n        }\n    ' \"$0\"\n    exit 1\n}\n\n# Usage Da Yo!\nusage\n\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u6b21\u306e\u3088\u3046\u306a\u610f\u5473\u3067\u3059\u3002\n\n\n/^# Usage/ \u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u304b\u3089\u6700\u7d42\u884c\u307e\u3067\n\n\n\n/^# ?/ \u3092 \u7a7a\u6587\u5b57 \u306b\u7f6e\u63db\n\u7f6e\u63db\u304c\u6210\u529f\u3057\u305f\u3089\u30e9\u30d9\u30eb p \u306b\u30b8\u30e3\u30f3\u30d7\n\u7d42\u4e86\u3059\u308b\n\u30e9\u30d9\u30eb p\n\n\n\u8868\u793a\u3059\u308b\n\n\n\n\n\n\n\u8ffd\u8a18 2015/02/14\nUsage \u306b\u81ea\u5206\u81ea\u8eab\u306e\u540d\u524d\u3092\u81ea\u52d5\u7684\u306b\u5165\u308c\u308b\u7248\u3002\n#!/bin/bash\n\n# Usage: $0 [options] [dir]\n#\n# Options:\n#   -a         Are na option\n#   -o val     Ore no option\n#\n# Arguments:\n#   dir        Document Root\n\nset -ue\n\nfunction usage()\n{\n  sed -rn '/^# Usage/,${/^#/!q;s/^# ?//;p}' \"$0\" |\n  sed -r \"s/\\\\\\$0/$(basename \"$0\")/\"\n  exit 1\n}\n\n# Usage Da Yo!\nusage\n\n\u3082\u3057\u304f\u306f\u3002\n#!/bin/bash\n\n# Usage: $(basename \"$0\") [options] [dir]\n#\n# Options:\n#   -a         Are na option\n#   -o val     Ore no option\n#\n# Arguments:\n#   dir        Document Root\n\nset -ue\n\nfunction usage()\n{\n  msg=$(sed -rn '/^# Usage/,${/^#/!q;s/^# ?//;p}' \"$0\")\n  eval $'cat <<__END__\\n'\"$msg\"$'\\n__END__\\n'\n  exit 1\n}\n\n# Usage Da Yo!\nusage\n\n\u30d2\u30a2\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u5341\u5206\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3002\n\n```sh:hoge.sh\n#!/bin/bash\n\n# Usage: hoge [options] [dir]\n#\n# Options:\n#   -a         Are na option\n#   -o val     Ore no option\n#\n# Arguments:\n#   dir        Document Root\n\nset -ue\n\nfunction usage()\n{\n    sed -rn '/^# Usage/,${/^#/!q;s/^# ?//;p}' \"$0\"\n    exit 1\n}\n\n# Usage Da Yo!\nusage\n```\n\n```console\n$ ./hoge.sh\nUsage: hoge [options] [dir]\n\nOptions:\n  -a         Are na option\n  -o val     Ore no option\n\nArguments:\n  dir        Document Root\n```\n\nsed \u306e\u30b3\u30de\u30f3\u30c9\u306e\u90e8\u5206\u3092\u6574\u5f62\u3059\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```sh:hoge.sh\n(snip)\n\n    sed -rn '\n        /^# Usage/,${\n            /^#/ ! q\n            s/^# ?//\n            p\n        }\n    ' \"$0\"\n\n(snip)\n```\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u6b21\u306e\u3088\u3046\u306a\u610f\u5473\u3067\u3059\u3002\n\n - `/^# Usage/` \u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u304b\u3089\u6700\u7d42\u884c\u307e\u3067\n     - `/^#/` \u306b\u30de\u30c3\u30c1\u3057\u306a\u3044\u884c\u304c\u6765\u305f\u3089\u7d42\u4e86\n     - `/^# ?/` \u3092 *\u7a7a\u6587\u5b57* \u306b\u7f6e\u63db\n     - \u8868\u793a\u3059\u308b\n\n\u6b21\u306e\u3088\u3046\u306b t \u30b3\u30de\u30f3\u30c9\u3067\u6761\u4ef6\u5206\u5c90\u3055\u305b\u3066\u3082\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u65b9\u304c\u6b63\u898f\u8868\u73fe\u306e\u30de\u30c3\u30c1\u30f3\u30b0\u306e\u56de\u6570\u304c\u6e1b\u308b\u304b\u3082\u3002\n\n```sh:hoge.sh\n#!/bin/bash\n\n# Usage: hoge [options] [dir]\n#\n# Options:\n#   -a         Are na option\n#   -o val     Ore no option\n#\n# Arguments:\n#   dir        Document Root\n\nset -ue\n\nfunction usage()\n{\n    sed -rn '\n        /^# Usage/,${\n            s/^# ?//\n            t p\n            q\n            :p p\n        }\n    ' \"$0\"\n    exit 1\n}\n\n# Usage Da Yo!\nusage\n```\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u6b21\u306e\u3088\u3046\u306a\u610f\u5473\u3067\u3059\u3002\n\n - `/^# Usage/` \u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u304b\u3089\u6700\u7d42\u884c\u307e\u3067\n     - `/^# ?/` \u3092 *\u7a7a\u6587\u5b57* \u306b\u7f6e\u63db\n     - \u7f6e\u63db\u304c\u6210\u529f\u3057\u305f\u3089\u30e9\u30d9\u30eb p \u306b\u30b8\u30e3\u30f3\u30d7\n     - \u7d42\u4e86\u3059\u308b\n     - \u30e9\u30d9\u30eb p\n        - \u8868\u793a\u3059\u308b\n\n---\n\n**\u8ffd\u8a18 2015/02/14**\n\nUsage \u306b\u81ea\u5206\u81ea\u8eab\u306e\u540d\u524d\u3092\u81ea\u52d5\u7684\u306b\u5165\u308c\u308b\u7248\u3002\n\n```bash\n#!/bin/bash\n\n# Usage: $0 [options] [dir]\n#\n# Options:\n#   -a         Are na option\n#   -o val     Ore no option\n#\n# Arguments:\n#   dir        Document Root\n\nset -ue\n\nfunction usage()\n{\n  sed -rn '/^# Usage/,${/^#/!q;s/^# ?//;p}' \"$0\" |\n  sed -r \"s/\\\\\\$0/$(basename \"$0\")/\"\n  exit 1\n}\n\n# Usage Da Yo!\nusage\n```\n\n\u3082\u3057\u304f\u306f\u3002\n\n```bash\n#!/bin/bash\n\n# Usage: $(basename \"$0\") [options] [dir]\n#\n# Options:\n#   -a         Are na option\n#   -o val     Ore no option\n#\n# Arguments:\n#   dir        Document Root\n\nset -ue\n\nfunction usage()\n{\n  msg=$(sed -rn '/^# Usage/,${/^#/!q;s/^# ?//;p}' \"$0\")\n  eval $'cat <<__END__\\n'\"$msg\"$'\\n__END__\\n'\n  exit 1\n}\n\n# Usage Da Yo!\nusage\n```\n", "tags": ["Bash", "sed", "ShellScript"]}