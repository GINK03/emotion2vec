{"context": " More than 1 year has passed since last update.\u4e45\u3005\u306b\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3092\u89e6\u3063\u305f\u3089\u5fd8\u308c\u3066\u3044\u305f\u306e\u3067\u30e1\u30e2\u3002\n\u4e00\u884c\u3067\u8a00\u3046\u3068 verify \u3059\u308b\u6642\u306f -trusted_first \u3092\u5fd8\u308c\u305a\u3064\u3051\u308b\u3001\u3068\u3044\u3046\u3060\u3051\u3002\nSymantec \u306e\u30b5\u30a4\u30c8\u3092\u5229\u7528\u3057\u3066\u30c6\u30b9\u30c8\u3059\u308b\u3002\n4\u968e\u5c64 (\u30af\u30ed\u30b9\u30eb\u30fc\u30c8) \u306f Class 3 Public Primary Certification Authority \u304c\u30eb\u30fc\u30c8\u306b\u306a\u308b\u3002\n\u3042\u3089\u304b\u3058\u3081\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3092\u5165\u624b\u3057\u3066\u304a\u304f\u3002\n\n\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8fbc\u307f4\u968e\u5c64\u306e\u691c\u8a3c\n$ echo | openssl s_client -connect www.jp.websecurity.symantec.com:443 -CAfile RootCA_1.cer -verify 3 | tail -n 5\nverify depth is 3\ndepth=3 C = US, O = \"VeriSign, Inc.\", OU = Class 3 Public Primary Certification Authority\nverify return:1\ndepth=2 C = US, O = \"VeriSign, Inc.\", OU = VeriSign Trust Network, OU = \"(c) 2006 VeriSign, Inc. - For authorized use only\", CN = VeriSign Class 3 Public Primary Certification Authority - G5\nverify return:1\ndepth=1 C = US, O = Symantec Corporation, OU = Symantec Trust Network, CN = Symantec Class 3 EV SSL CA - G3\nverify return:1\ndepth=0 1.3.6.1.4.1.311.60.2.1.3 = US, 1.3.6.1.4.1.311.60.2.1.2 = Delaware, businessCategory = Private Organization, serialNumber = 2158113, C = US, postalCode = 94043, ST = California, L = Mountain View, street = 350 Ellis Street, O = Symantec Corporation, OU = Symantec Japan, CN = www.jp.websecurity.symantec.com\nverify return:1\nDONE\n\n    Start Time: 1417587254\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n\n\n3\u968e\u5c64\u306f VeriSign Class 3 Public Primary Certification Authority - G5 \u304c\u30eb\u30fc\u30c8\u306b\u306a\u308b\u3002\n\u3042\u3089\u304b\u3058\u3081\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3092\u5165\u624b\u3057\u3066\u304a\u304f\u3002\n\u30b5\u30fc\u30d0\u304c\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3092\u9001\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\n\u5358\u306b verify \u30aa\u30d7\u30b7\u30e7\u30f3\u3060\u3051\u3092\u6307\u5b9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3088\u3046\u3060\u3002\n\n\u901a\u5e38\u306e3\u968e\u5c64\u306e\u691c\u8a3c(NG)\n$ echo | openssl s_client -connect www.jp.websecurity.symantec.com:443 -CAfile RootCA_2.cer -verify 3 | tail -n 5\nverify depth is 3\ndepth=2 C = US, O = \"VeriSign, Inc.\", OU = VeriSign Trust Network, OU = \"(c) 2006 VeriSign, Inc. - For authorized use only\", CN = VeriSign Class 3 Public Primary Certification Authority - G5\nverify error:num=20:unable to get local issuer certificate\nverify return:1\ndepth=2 C = US, O = \"VeriSign, Inc.\", OU = VeriSign Trust Network, OU = \"(c) 2006 VeriSign, Inc. - For authorized use only\", CN = VeriSign Class 3 Public Primary Certification Authority - G5\nverify error:num=27:certificate not trusted\nverify return:1\ndepth=1 C = US, O = Symantec Corporation, OU = Symantec Trust Network, CN = Symantec Class 3 EV SSL CA - G3\nverify return:1\ndepth=0 1.3.6.1.4.1.311.60.2.1.3 = US, 1.3.6.1.4.1.311.60.2.1.2 = Delaware, businessCategory = Private Organization, serialNumber = 2158113, C = US, postalCode = 94043, ST = California, L = Mountain View, street = 350 Ellis Street, O = Symantec Corporation, OU = Symantec Japan, CN = www.jp.websecurity.symantec.com\nverify return:1\nDONE\n\n    Start Time: 1417587409\n    Timeout   : 300 (sec)\n    Verify return code: 27 (certificate not trusted)\n---\n\n\n\u30b5\u30fc\u30d0\u304c\u9001\u3063\u3066\u304f\u308b\u8a3c\u660e\u66f8\u3092\u512a\u5148\u3057\u3066\u30c1\u30a7\u30fc\u30f3\u3092\u4f5c\u308d\u3046\u3068\u3059\u308b\u3053\u3068\u304c\u539f\u56e0\uff1f\n\nverify(1)\u304b\u3089\u629c\u7c8b\n-trusted_first\n    Use certificates in CA file or CA directory before the certificates in the\n    untrusted file when building the trust chain to verify certificates.  This is\n    mainly useful in environments with Bridge CA or Cross-Certified CAs.\n\n\n-trusted_first \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3068\u3046\u307e\u304f\u3044\u304f\u3002\n\n\u901a\u5e38\u306e3\u968e\u5c64\u306e\u691c\u8a3c(OK)\n$ echo | openssl s_client -connect www.jp.websecurity.symantec.com:443 -CAfile RootCA_2.cer -verify 3 -trusted_first | tail -n 5\nverify depth is 3\ndepth=2 C = US, O = \"VeriSign, Inc.\", OU = VeriSign Trust Network, OU = \"(c) 2006 VeriSign, Inc. - For authorized use only\", CN = VeriSign Class 3 Public Primary Certification Authority - G5\nverify return:1\ndepth=1 C = US, O = Symantec Corporation, OU = Symantec Trust Network, CN = Symantec Class 3 EV SSL CA - G3\nverify return:1\ndepth=0 1.3.6.1.4.1.311.60.2.1.3 = US, 1.3.6.1.4.1.311.60.2.1.2 = Delaware, businessCategory = Private Organization, serialNumber = 2158113, C = US, postalCode = 94043, ST = California, L = Mountain View, street = 350 Ellis Street, O = Symantec Corporation, OU = Symantec Japan, CN = www.jp.websecurity.symantec.com\nverify return:1\nDONE\n\n    Start Time: 1417587436\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n\n\n\n\u53c2\u8003\n\nhttps://www.jp.websecurity.symantec.com/developer/step01.html\n\n\u4e45\u3005\u306b\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3092\u89e6\u3063\u305f\u3089\u5fd8\u308c\u3066\u3044\u305f\u306e\u3067\u30e1\u30e2\u3002\n\u4e00\u884c\u3067\u8a00\u3046\u3068 verify \u3059\u308b\u6642\u306f -trusted_first \u3092\u5fd8\u308c\u305a\u3064\u3051\u308b\u3001\u3068\u3044\u3046\u3060\u3051\u3002\n\nSymantec \u306e\u30b5\u30a4\u30c8\u3092\u5229\u7528\u3057\u3066\u30c6\u30b9\u30c8\u3059\u308b\u3002\n\n4\u968e\u5c64 (\u30af\u30ed\u30b9\u30eb\u30fc\u30c8) \u306f `Class 3 Public Primary Certification Authority` \u304c\u30eb\u30fc\u30c8\u306b\u306a\u308b\u3002\n\u3042\u3089\u304b\u3058\u3081\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3092\u5165\u624b\u3057\u3066\u304a\u304f\u3002\n\n```console:\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8fbc\u307f4\u968e\u5c64\u306e\u691c\u8a3c\n$ echo | openssl s_client -connect www.jp.websecurity.symantec.com:443 -CAfile RootCA_1.cer -verify 3 | tail -n 5\nverify depth is 3\ndepth=3 C = US, O = \"VeriSign, Inc.\", OU = Class 3 Public Primary Certification Authority\nverify return:1\ndepth=2 C = US, O = \"VeriSign, Inc.\", OU = VeriSign Trust Network, OU = \"(c) 2006 VeriSign, Inc. - For authorized use only\", CN = VeriSign Class 3 Public Primary Certification Authority - G5\nverify return:1\ndepth=1 C = US, O = Symantec Corporation, OU = Symantec Trust Network, CN = Symantec Class 3 EV SSL CA - G3\nverify return:1\ndepth=0 1.3.6.1.4.1.311.60.2.1.3 = US, 1.3.6.1.4.1.311.60.2.1.2 = Delaware, businessCategory = Private Organization, serialNumber = 2158113, C = US, postalCode = 94043, ST = California, L = Mountain View, street = 350 Ellis Street, O = Symantec Corporation, OU = Symantec Japan, CN = www.jp.websecurity.symantec.com\nverify return:1\nDONE\n\n    Start Time: 1417587254\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n```\n\n3\u968e\u5c64\u306f `VeriSign Class 3 Public Primary Certification Authority - G5` \u304c\u30eb\u30fc\u30c8\u306b\u306a\u308b\u3002\n\u3042\u3089\u304b\u3058\u3081\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3092\u5165\u624b\u3057\u3066\u304a\u304f\u3002\n\n\u30b5\u30fc\u30d0\u304c\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3092\u9001\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\n\u5358\u306b verify \u30aa\u30d7\u30b7\u30e7\u30f3\u3060\u3051\u3092\u6307\u5b9a\u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3088\u3046\u3060\u3002\n\n```console:\u901a\u5e38\u306e3\u968e\u5c64\u306e\u691c\u8a3c(NG)\n$ echo | openssl s_client -connect www.jp.websecurity.symantec.com:443 -CAfile RootCA_2.cer -verify 3 | tail -n 5\nverify depth is 3\ndepth=2 C = US, O = \"VeriSign, Inc.\", OU = VeriSign Trust Network, OU = \"(c) 2006 VeriSign, Inc. - For authorized use only\", CN = VeriSign Class 3 Public Primary Certification Authority - G5\nverify error:num=20:unable to get local issuer certificate\nverify return:1\ndepth=2 C = US, O = \"VeriSign, Inc.\", OU = VeriSign Trust Network, OU = \"(c) 2006 VeriSign, Inc. - For authorized use only\", CN = VeriSign Class 3 Public Primary Certification Authority - G5\nverify error:num=27:certificate not trusted\nverify return:1\ndepth=1 C = US, O = Symantec Corporation, OU = Symantec Trust Network, CN = Symantec Class 3 EV SSL CA - G3\nverify return:1\ndepth=0 1.3.6.1.4.1.311.60.2.1.3 = US, 1.3.6.1.4.1.311.60.2.1.2 = Delaware, businessCategory = Private Organization, serialNumber = 2158113, C = US, postalCode = 94043, ST = California, L = Mountain View, street = 350 Ellis Street, O = Symantec Corporation, OU = Symantec Japan, CN = www.jp.websecurity.symantec.com\nverify return:1\nDONE\n\n    Start Time: 1417587409\n    Timeout   : 300 (sec)\n    Verify return code: 27 (certificate not trusted)\n---\n```\n\n\u30b5\u30fc\u30d0\u304c\u9001\u3063\u3066\u304f\u308b\u8a3c\u660e\u66f8\u3092\u512a\u5148\u3057\u3066\u30c1\u30a7\u30fc\u30f3\u3092\u4f5c\u308d\u3046\u3068\u3059\u308b\u3053\u3068\u304c\u539f\u56e0\uff1f\n\n```none:verify(1)\u304b\u3089\u629c\u7c8b\n-trusted_first\n    Use certificates in CA file or CA directory before the certificates in the\n    untrusted file when building the trust chain to verify certificates.  This is\n    mainly useful in environments with Bridge CA or Cross-Certified CAs.\n```\n\n-trusted_first \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3068\u3046\u307e\u304f\u3044\u304f\u3002\n\n```console:\u901a\u5e38\u306e3\u968e\u5c64\u306e\u691c\u8a3c(OK)\n$ echo | openssl s_client -connect www.jp.websecurity.symantec.com:443 -CAfile RootCA_2.cer -verify 3 -trusted_first | tail -n 5\nverify depth is 3\ndepth=2 C = US, O = \"VeriSign, Inc.\", OU = VeriSign Trust Network, OU = \"(c) 2006 VeriSign, Inc. - For authorized use only\", CN = VeriSign Class 3 Public Primary Certification Authority - G5\nverify return:1\ndepth=1 C = US, O = Symantec Corporation, OU = Symantec Trust Network, CN = Symantec Class 3 EV SSL CA - G3\nverify return:1\ndepth=0 1.3.6.1.4.1.311.60.2.1.3 = US, 1.3.6.1.4.1.311.60.2.1.2 = Delaware, businessCategory = Private Organization, serialNumber = 2158113, C = US, postalCode = 94043, ST = California, L = Mountain View, street = 350 Ellis Street, O = Symantec Corporation, OU = Symantec Japan, CN = www.jp.websecurity.symantec.com\nverify return:1\nDONE\n\n    Start Time: 1417587436\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n```\n\n\n## \u53c2\u8003\n\n* https://www.jp.websecurity.symantec.com/developer/step01.html\n", "tags": ["openssl"]}