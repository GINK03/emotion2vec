{"tags": ["JavaScript", "Java", "Composite", "\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3", "GoF"], "context": "\n\n\u306f\u3058\u3081\u306b\n\u8a73\u3057\u3044\u3053\u3068\u3084\u4ed6\u306e\u30d1\u30bf\u30fc\u30f3\u306f\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092JavaScript\u3068Java\u3067\u306e\u5b9f\u88c5\u3092\u6bd4\u8f03\u3057\u3066\u7406\u89e3\u3059\u308b\u306b\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\nJavaScript\u306e\u4f8b\u306fJava\u306e\u3092\u898b\u3066\u66f8\u304d\u307e\u3057\u305f\u3002\n\u30af\u30e9\u30b9\u578b\u30fb\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u578b\u3001\u578b\u4ed8\u306e\u5f37\u5f31\u3001\u30a2\u30af\u30bb\u30b9\u4fee\u98fe\u5b50\u306a\u3069\u7279\u5fb4\u306e\u9055\u3044\u306a\u3069\u306f\u6d3b\u304b\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\nComposite\u30d1\u30bf\u30fc\u30f3\n\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u306f\u300c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300d\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308b\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u306b\u306f\u5225\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3084\u30d5\u30a1\u30a4\u30eb\u304c\u5165\u3063\u3066\u3044\u308b\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u305d\u306e\u3088\u3046\u306a\u300c\u5165\u308c\u5b50\u300d\u306b\u306a\u3063\u305f\u69cb\u9020\u3001\u518d\u5e30\u7684\u306a\u69cb\u9020\u3092\u4f5c\u308a\u51fa\u3059\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30d5\u30a1\u30a4\u30eb\u3092\u307e\u3068\u3081\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30a8\u30f3\u30c8\u30ea\u3068\u3057\u3066\u6271\u3046\u3088\u3046\u306b\u3001\n\u5bb9\u5668\u3068\u4e2d\u8eab\u3092\u540c\u3058\u7a2e\u985e\u306e\u3082\u306e\u3068\u3057\u3066\u6271\u3046\u3068\u4fbf\u5229\u306a\u5834\u5408\u304c\u3042\u308b\n\u5bb9\u5668\u3068\u4e2d\u8eab\u3092\u540c\u4e00\u8996\u3057\u3001\u518d\u5e30\u7684\u306a\u69cb\u9020\u3092\u4f5c\u308b\u30d1\u30bf\u30fc\u30f3\u3092Composite\u30d1\u30bf\u30fc\u30f3\u3068\u547c\u3076\ncomposite\u306f\u300c\u6df7\u5408\u7269\u300d\u300c\u8907\u5408\u7269\u300d\u3068\u3044\u3046\u610f\u5473\n\nJava\u3067\u306e\u5b9f\u88c5\u4f8b\n\u30d5\u30a1\u30a4\u30eb\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6a21\u5f0f\u7684\u306b\u8868\u73fe\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\n\n\u30af\u30e9\u30b9\u56f3\n\n\n\u30b3\u30fc\u30c9\n\nMain.java\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            System.out.println(\"Making root entries...\");\n            Directory rootdir = new Directory(\"root\");\n            Directory bindir = new Directory(\"bin\");\n            Directory tmpdir = new Directory(\"tmp\");\n            Directory usrdir = new Directory(\"usr\");\n            rootdir.add(bindir);\n            rootdir.add(tmpdir);\n            rootdir.add(usrdir);\n            bindir.add(new File(\"vi\", 10000));\n            bindir.add(new File(\"latex\", 20000));\n            rootdir.printList();\n\n            System.out.println(\"\");\n            System.out.println(\"Making user entries...\");\n            Directory yuki = new Directory(\"yuki\");\n            Directory hanako = new Directory(\"hanako\");\n            Directory tomura = new Directory(\"tomura\");\n            usrdir.add(yuki);\n            usrdir.add(hanako);\n            usrdir.add(tomura);\n            yuki.add(new File(\"diary.html\", 100));\n            yuki.add(new File(\"Composite.java\", 200));\n            hanako.add(new File(\"memo.tex\", 300));\n            tomura.add(new File(\"game.doc\", 400));\n            tomura.add(new File(\"junk.mail\", 500));\n            rootdir.printList();\n        } catch (FileTreatmentException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\n\nEntry.java\npublic abstract class Entry {\n    public abstract String getName();\n    public abstract int getSize();\n    public Entry add(Entry entry) throws FileTreatmentException {\n        throw new FileTreatmentException();\n    }\n    public void printList() {\n        printList(\"\");\n    }\n    protected abstract void printList(String prefix);\n    public String toString() {\n        return getName() + \" (\" + getSize() + \")\";\n    }\n}\n\n\n\nDirectory.java\nimport java.util.Iterator;\nimport java.util.ArrayList;\n\npublic class Directory extends Entry {\n    private String name;\n    private ArrayList<Entry> directory = new ArrayList<Entry>();\n\n    public Directory(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public int getSize() {\n        int size = 0;\n        Iterator it = directory.iterator();\n        while (it.hasNext()) {\n            Entry entry = (Entry)it.next();\n            size += entry.getSize();\n        }\n        return size;\n    }\n    public Entry add(Entry entry) {\n        directory.add(entry);\n        return this;\n    }\n    protected void printList(String prefix) {\n        System.out.println(prefix + \"/\" + this);\n        Iterator it = directory.iterator();\n        while (it.hasNext()) {\n            Entry entry = (Entry)it.next();\n            entry.printList(prefix + \"/\" + name);\n        }\n    }\n}\n\n\n\nFile.java\npublic class File extends Entry {\n    private String name;\n    private int size;\n    public File(String name, int size) {\n        this.name = name;\n        this.size = size;\n    }\n    public String getName() {\n        return name;\n    }\n    public int getSize() {\n        return size;\n    }\n    protected void printList(String prefix) {\n        System.out.println(prefix + \"/\" + this);\n    }\n}\n\n\n\nFileTreatmentException.java\npublic class FileTreatmentException extends RuntimeException {\n    public FileTreatmentException() {\n\n    }\n    public FileTreatmentException(String msg) {\n        super(msg);\n    }\n}\n\n\n\nJavaScript\u3067\u306e\u5b9f\u88c5\u4f8b\n\n\u30b3\u30fc\u30c9\n\nindex.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Composite</title>\n</head>\n<body>\n    <script src=\"Main.js\"></script>\n    <script src=\"Directory.js\"></script>\n    <script src=\"File.js\"></script>\n</body>\n</html>\n\n\n\nMain.js\nMAIN = {};\n\nMAIN.init = function() {\n    console.log(\"Making root entries...\");\n    MAIN.rootdir = new Directory(\"root\");\n    MAIN.bindir = new Directory(\"bin\");\n    MAIN.tmpdir = new Directory(\"tmp\");\n    MAIN.usrdir = new Directory(\"usr\");\n    MAIN.rootdir.add(MAIN.bindir);\n    MAIN.rootdir.add(MAIN.tmpdir);\n    MAIN.rootdir.add(MAIN.usrdir);\n    MAIN.bindir.add(new File(\"vi\", 10000));\n    MAIN.bindir.add(new File(\"latex\", 20000));\n    MAIN.rootdir.printList();\n\n    console.log(\"\");\n    console.log(\"Making user entries...\");\n    MAIN.yuki = new Directory(\"yuki\");\n    MAIN.hanako = new Directory(\"hanako\");\n    MAIN.tomura = new Directory(\"tomura\");\n    MAIN.usrdir.add(MAIN.yuki);\n    MAIN.usrdir.add(MAIN.hanako);\n    MAIN.usrdir.add(MAIN.tomura);\n    MAIN.yuki.add(new File(\"diary.html\", 100));\n    MAIN.yuki.add(new File(\"Composite.java\", 200));\n    MAIN.hanako.add(new File(\"memo.tex\", 300));\n    MAIN.tomura.add(new File(\"game.doc\", 400));\n    MAIN.tomura.add(new File(\"junk.mail\", 500));\n    MAIN.rootdir.printList();\n};\n\nwindow.addEventListener(\"load\", MAIN.init);\n\n\n\nDirectory.js\nvar Directory = function(name) {\n    this.name = name;\n    this.directory = [];\n};\n\nDirectory.prototype = {\n    constructor: Directory,\n\n    getName: function() {\n        return this.name;\n    },\n    getSize: function() {\n        var size = 0;\n        for (var i = 0, max = this.directory.length; i < max; i++) {\n            size += this.directory[i].getSize();\n        }\n        return size;\n    },\n    add(entry) {\n        this.directory.push(entry);\n        return this;\n    },\n    printList: function(prefix) {\n        if (arguments.length === 0) {\n            console.log(\"/\" + this.getName() + \" (\" + this.getSize() + \")\");\n            for (var i = 0, max = this.directory.length; i < max; i++) {\n                this.directory[i].printList(this.getName());\n            }\n        } else {\n            console.log(prefix + \"/\" + this.getName() + \" (\" + this.getSize() + \")\");\n            for (var i = 0, max = this.directory.length; i < max; i++) {\n                this.directory[i].printList(prefix + \"/\" + this.getName());\n            }\n        }\n    }\n}\n\n\n\nFile.js\nvar File = function(name, size) {\n    this.name = name;\n    this.size = size;\n};\n\nFile.prototype = {\n    constructor: File,\n\n    getName: function() {\n        return this.name;\n    },\n    getSize: function() {\n        return this.size;\n    },\n\n    printList(prefix) {\n        console.log(prefix + \"/\" + this.getName() + \" (\" + this.getSize() + \")\");\n    }\n};\n\n\n\n\nComposite\u30d1\u30bf\u30fc\u30f3\u306e\u767b\u5834\u4eba\u7269\n\nLeaf(\u8449)\u306e\u5f79\n\n\u300c\u4e2d\u8eab\u300d\u3092\u8868\u3059\u5f79\n\u3053\u306e\u5f79\u306e\u4e2d\u306b\u306f\u3001\u4ed6\u306e\u3082\u306e\u3092\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u21d2File(class)\n\nComposite(\u96c6\u5408\u4f53)\u306e\u5f79\n\n\u300c\u5bb9\u5668\u300d\u3092\u8868\u3059\u5f79\nLeaf\u5f79\u3084Composite\u5f79\u3092\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u21d2Directory(class)\n\nComponent\u306e\u5f79\n\nLeaf\u5f79\u3068Composite\u5f79\u3092\u540c\u4e00\u8996\u3059\u308b\u305f\u3081\u306e\u5f79\nComponent\u5f79\u306f\u3001Leaf\u5f79\u3068Composite\u5f79\u306b\u5171\u901a\u306e\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\u3068\u3057\u3066\u8868\u73fe\u3059\u308b\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u21d2Entry(abstract class)\n\nClient(\u4f9d\u983c\u8005)\u306e\u5f79\n\nComposite\u30d1\u30bf\u30fc\u30f3\u306e\u5229\u7528\u8005\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u21d2Main(class)\n\nComposite\u30d1\u30bf\u30fc\u30f3\u306e\u30af\u30e9\u30b9\u56f3\n\n\nComposite\u30d1\u30bf\u30fc\u30f3\u306e\u5fc5\u8981\u6027\n\nSample.java\n// Directory\npublic int getSize() {\n  int size = 0;\n  Iterator it = directory.iterator();\n  while (it.hasNext()) {\n    Entry entry = (Entry)it.next();\n    size += entry.getSize();\n  }\n  return size;\n}\n\n// File\npublic int getSize() {\n  return size;\n}\n\n\n\u3069\u3061\u3089\u306e\u5834\u5408\u3067\u3082\u3001\u540c\u3058\u30e1\u30bd\u30c3\u30c9getSize\u3067\u30b5\u30a4\u30ba\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u304cComposite\u30d1\u30bf\u30fc\u30f3\u306e\u7279\u5fb4\u3001\u300c\u5bb9\u5668\u3068\u4e2d\u8eab\u3092\u540c\u3058\u3082\u306e\u3068\u307f\u306a\u3059\u300d\u3053\u3068\u306e\u73fe\u308c\u3067\u3059\u3002\n\u6728\u69cb\u9020\u3092\u518d\u5e30\u7684\u306b\u547c\u3073\u51fa\u3057\u3066\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\n\u4e00\u822c\u306b\u6728\u69cb\u9020\u306b\u306a\u308b\u30c7\u30fc\u30bf\u69cb\u9020\u306fComposite\u30d1\u30bf\u30fc\u30f3\u306b\u5f53\u3066\u306f\u307e\u308b\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30b7\u30b9\u30c6\u30e0\n\u30a6\u30a3\u30f3\u30c9\u30a6\u30b7\u30b9\u30c6\u30e0\n\u7b87\u6761\u66f8\u304d\u306e\u4e2d\u306b\u7b87\u6761\u66f8\u304d\n\u30de\u30af\u30ed\u30b3\u30de\u30f3\u30c9\n\n\nComposite\u30d1\u30bf\u30fc\u30f3\u306e\u4f7f\u3044\u6642\n\u30c6\u30b9\u30c8\u30d7\u30ed\u30b0\u30e9\u30e0\u3067Composite\u30d1\u30bf\u30fc\u30f3\u306a\u3069\u304c\u4f7f\u308f\u308c\u308b\n\n\u30ad\u30fc\u30dc\u30fc\u30c9\u304b\u3089\u306e\u5165\u529b\u30c6\u30b9\u30c8\n\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u5165\u529b\u30c6\u30b9\u30c8\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u306e\u5165\u529b\u30c6\u30b9\u30c8\n\n\u3053\u308c\u3089\u306e\uff13\u3064\u3092\u5165\u529b\u30c6\u30b9\u30c8\u3068\u3057\u305f\u3044\u3068\u304d\u306bComposite\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u308b\n\n\u95a2\u9023\u3057\u3066\u3044\u308b\u30d1\u30bf\u30fc\u30f3\n\nCommand\u30d1\u30bf\u30fc\u30f3\nVisitor\u30d1\u30bf\u30fc\u30f3\nDecorator\u30d1\u30bf\u30fc\u30f3\n\n\n\u53c2\u8003\n\u5897\u88dc\u6539\u8a02\u7248Java\u8a00\u8a9e\u3067\u5b66\u3076\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u5165\u9580\n#\u306f\u3058\u3081\u306b\n\u8a73\u3057\u3044\u3053\u3068\u3084\u4ed6\u306e\u30d1\u30bf\u30fc\u30f3\u306f**[\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u3092JavaScript\u3068Java\u3067\u306e\u5b9f\u88c5\u3092\u6bd4\u8f03\u3057\u3066\u7406\u89e3\u3059\u308b](http://qiita.com/Kurowasi/items/106ebd0f553d8a2f95bb)**\u306b\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\nJavaScript\u306e\u4f8b\u306fJava\u306e\u3092\u898b\u3066\u66f8\u304d\u307e\u3057\u305f\u3002\n\u30af\u30e9\u30b9\u578b\u30fb\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u578b\u3001\u578b\u4ed8\u306e\u5f37\u5f31\u3001\u30a2\u30af\u30bb\u30b9\u4fee\u98fe\u5b50\u306a\u3069\u7279\u5fb4\u306e\u9055\u3044\u306a\u3069\u306f\u6d3b\u304b\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\n#Composite\u30d1\u30bf\u30fc\u30f3\n\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u306f\u300c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u300d\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308b\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u306b\u306f\u5225\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3084\u30d5\u30a1\u30a4\u30eb\u304c\u5165\u3063\u3066\u3044\u308b\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u305d\u306e\u3088\u3046\u306a\u300c\u5165\u308c\u5b50\u300d\u306b\u306a\u3063\u305f\u69cb\u9020\u3001\u518d\u5e30\u7684\u306a\u69cb\u9020\u3092\u4f5c\u308a\u51fa\u3059\n\n![qiita1.PNG](https://qiita-image-store.s3.amazonaws.com/0/130026/f0aa4316-c0e3-2334-c055-19ffd4453775.png)\n![qiita2.PNG](https://qiita-image-store.s3.amazonaws.com/0/130026/305e6b8a-a859-ba01-5d21-14f74c684aba.png)\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30d5\u30a1\u30a4\u30eb\u3092\u307e\u3068\u3081\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30a8\u30f3\u30c8\u30ea\u3068\u3057\u3066\u6271\u3046\u3088\u3046\u306b\u3001\n\u5bb9\u5668\u3068\u4e2d\u8eab\u3092\u540c\u3058\u7a2e\u985e\u306e\u3082\u306e\u3068\u3057\u3066\u6271\u3046\u3068\u4fbf\u5229\u306a\u5834\u5408\u304c\u3042\u308b\n\n\u5bb9\u5668\u3068\u4e2d\u8eab\u3092\u540c\u4e00\u8996\u3057\u3001\u518d\u5e30\u7684\u306a\u69cb\u9020\u3092\u4f5c\u308b\u30d1\u30bf\u30fc\u30f3\u3092Composite\u30d1\u30bf\u30fc\u30f3\u3068\u547c\u3076\ncomposite\u306f\u300c\u6df7\u5408\u7269\u300d\u300c\u8907\u5408\u7269\u300d\u3068\u3044\u3046\u610f\u5473\n\n##Java\u3067\u306e\u5b9f\u88c5\u4f8b\n\u30d5\u30a1\u30a4\u30eb\u3068\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6a21\u5f0f\u7684\u306b\u8868\u73fe\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\n\n###\u30af\u30e9\u30b9\u56f3\n\n![Composite.png](https://qiita-image-store.s3.amazonaws.com/0/130026/d282e4e1-9b42-170e-fd2a-1d3851519972.png)\n\n\n###\u30b3\u30fc\u30c9\n\n```Main.java\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            System.out.println(\"Making root entries...\");\n            Directory rootdir = new Directory(\"root\");\n            Directory bindir = new Directory(\"bin\");\n            Directory tmpdir = new Directory(\"tmp\");\n            Directory usrdir = new Directory(\"usr\");\n            rootdir.add(bindir);\n            rootdir.add(tmpdir);\n            rootdir.add(usrdir);\n            bindir.add(new File(\"vi\", 10000));\n            bindir.add(new File(\"latex\", 20000));\n            rootdir.printList();\n\n            System.out.println(\"\");\n            System.out.println(\"Making user entries...\");\n            Directory yuki = new Directory(\"yuki\");\n            Directory hanako = new Directory(\"hanako\");\n            Directory tomura = new Directory(\"tomura\");\n            usrdir.add(yuki);\n            usrdir.add(hanako);\n            usrdir.add(tomura);\n            yuki.add(new File(\"diary.html\", 100));\n            yuki.add(new File(\"Composite.java\", 200));\n            hanako.add(new File(\"memo.tex\", 300));\n            tomura.add(new File(\"game.doc\", 400));\n            tomura.add(new File(\"junk.mail\", 500));\n            rootdir.printList();\n        } catch (FileTreatmentException e) {\n            e.printStackTrace();\n        }\n    }\n}\n```\n\n```Entry.java\npublic abstract class Entry {\n    public abstract String getName();\n    public abstract int getSize();\n    public Entry add(Entry entry) throws FileTreatmentException {\n        throw new FileTreatmentException();\n    }\n    public void printList() {\n        printList(\"\");\n    }\n    protected abstract void printList(String prefix);\n    public String toString() {\n        return getName() + \" (\" + getSize() + \")\";\n    }\n}\n```\n\n```Directory.java\nimport java.util.Iterator;\nimport java.util.ArrayList;\n\npublic class Directory extends Entry {\n    private String name;\n    private ArrayList<Entry> directory = new ArrayList<Entry>();\n    \n    public Directory(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n    public int getSize() {\n        int size = 0;\n        Iterator it = directory.iterator();\n        while (it.hasNext()) {\n            Entry entry = (Entry)it.next();\n            size += entry.getSize();\n        }\n        return size;\n    }\n    public Entry add(Entry entry) {\n        directory.add(entry);\n        return this;\n    }\n    protected void printList(String prefix) {\n        System.out.println(prefix + \"/\" + this);\n        Iterator it = directory.iterator();\n        while (it.hasNext()) {\n            Entry entry = (Entry)it.next();\n            entry.printList(prefix + \"/\" + name);\n        }\n    }\n}\n```\n\n```File.java\npublic class File extends Entry {\n    private String name;\n    private int size;\n    public File(String name, int size) {\n        this.name = name;\n        this.size = size;\n    }\n    public String getName() {\n        return name;\n    }\n    public int getSize() {\n        return size;\n    }\n    protected void printList(String prefix) {\n        System.out.println(prefix + \"/\" + this);\n    }\n}\n```\n\n```FileTreatmentException.java\npublic class FileTreatmentException extends RuntimeException {\n    public FileTreatmentException() {\n\n    }\n    public FileTreatmentException(String msg) {\n        super(msg);\n    }\n}\n```\n\n\n##JavaScript\u3067\u306e\u5b9f\u88c5\u4f8b\n###\u30b3\u30fc\u30c9\n\n```index.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Composite</title>\n</head>\n<body>\n    <script src=\"Main.js\"></script>\n    <script src=\"Directory.js\"></script>\n    <script src=\"File.js\"></script>\n</body>\n</html>\n```\n\n```Main.js\nMAIN = {};\n\nMAIN.init = function() {\n    console.log(\"Making root entries...\");\n    MAIN.rootdir = new Directory(\"root\");\n    MAIN.bindir = new Directory(\"bin\");\n    MAIN.tmpdir = new Directory(\"tmp\");\n    MAIN.usrdir = new Directory(\"usr\");\n    MAIN.rootdir.add(MAIN.bindir);\n    MAIN.rootdir.add(MAIN.tmpdir);\n    MAIN.rootdir.add(MAIN.usrdir);\n    MAIN.bindir.add(new File(\"vi\", 10000));\n    MAIN.bindir.add(new File(\"latex\", 20000));\n    MAIN.rootdir.printList();\n\n    console.log(\"\");\n    console.log(\"Making user entries...\");\n    MAIN.yuki = new Directory(\"yuki\");\n    MAIN.hanako = new Directory(\"hanako\");\n    MAIN.tomura = new Directory(\"tomura\");\n    MAIN.usrdir.add(MAIN.yuki);\n    MAIN.usrdir.add(MAIN.hanako);\n    MAIN.usrdir.add(MAIN.tomura);\n    MAIN.yuki.add(new File(\"diary.html\", 100));\n    MAIN.yuki.add(new File(\"Composite.java\", 200));\n    MAIN.hanako.add(new File(\"memo.tex\", 300));\n    MAIN.tomura.add(new File(\"game.doc\", 400));\n    MAIN.tomura.add(new File(\"junk.mail\", 500));\n    MAIN.rootdir.printList();\n};\n\nwindow.addEventListener(\"load\", MAIN.init);\n```\n\n```Directory.js\nvar Directory = function(name) {\n    this.name = name;\n    this.directory = [];\n};\n\nDirectory.prototype = {\n    constructor: Directory,\n\n    getName: function() {\n        return this.name;\n    },\n    getSize: function() {\n        var size = 0;\n        for (var i = 0, max = this.directory.length; i < max; i++) {\n            size += this.directory[i].getSize();\n        }\n        return size;\n    },\n    add(entry) {\n        this.directory.push(entry);\n        return this;\n    },\n    printList: function(prefix) {\n        if (arguments.length === 0) {\n            console.log(\"/\" + this.getName() + \" (\" + this.getSize() + \")\");\n            for (var i = 0, max = this.directory.length; i < max; i++) {\n                this.directory[i].printList(this.getName());\n            }\n        } else {\n            console.log(prefix + \"/\" + this.getName() + \" (\" + this.getSize() + \")\");\n            for (var i = 0, max = this.directory.length; i < max; i++) {\n                this.directory[i].printList(prefix + \"/\" + this.getName());\n            }\n        }\n    }\n}\n```\n\n```File.js\nvar File = function(name, size) {\n    this.name = name;\n    this.size = size;\n};\n\nFile.prototype = {\n    constructor: File,\n\n    getName: function() {\n        return this.name;\n    },\n    getSize: function() {\n        return this.size;\n    },\n\n    printList(prefix) {\n        console.log(prefix + \"/\" + this.getName() + \" (\" + this.getSize() + \")\");\n    }\n};\n\n```\n\n##Composite\u30d1\u30bf\u30fc\u30f3\u306e\u767b\u5834\u4eba\u7269\n###**Leaf(\u8449)\u306e\u5f79**\n\u300c\u4e2d\u8eab\u300d\u3092\u8868\u3059\u5f79\n\u3053\u306e\u5f79\u306e\u4e2d\u306b\u306f\u3001\u4ed6\u306e\u3082\u306e\u3092\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u21d2File(class)\n\n###**Composite(\u96c6\u5408\u4f53)\u306e\u5f79**\n\u300c\u5bb9\u5668\u300d\u3092\u8868\u3059\u5f79\nLeaf\u5f79\u3084Composite\u5f79\u3092\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u21d2Directory(class)\n\n###**Component\u306e\u5f79**\nLeaf\u5f79\u3068Composite\u5f79\u3092\u540c\u4e00\u8996\u3059\u308b\u305f\u3081\u306e\u5f79\nComponent\u5f79\u306f\u3001Leaf\u5f79\u3068Composite\u5f79\u306b\u5171\u901a\u306e\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\u3068\u3057\u3066\u8868\u73fe\u3059\u308b\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u21d2Entry(abstract class)\n\n###**Client(\u4f9d\u983c\u8005)\u306e\u5f79**\nComposite\u30d1\u30bf\u30fc\u30f3\u306e\u5229\u7528\u8005\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u21d2Main(class)\n\n##Composite\u30d1\u30bf\u30fc\u30f3\u306e\u30af\u30e9\u30b9\u56f3\n\n![test.png](https://qiita-image-store.s3.amazonaws.com/0/130026/699c69ca-a522-eaab-d0a0-1bbfcfa52d82.png)\n\n\n\n##Composite\u30d1\u30bf\u30fc\u30f3\u306e\u5fc5\u8981\u6027\n\n```Sample.java\n// Directory\npublic int getSize() {\n  int size = 0;\n  Iterator it = directory.iterator();\n  while (it.hasNext()) {\n    Entry entry = (Entry)it.next();\n    size += entry.getSize();\n  }\n  return size;\n}\n\n// File\npublic int getSize() {\n  return size;\n}\n```\n\u3069\u3061\u3089\u306e\u5834\u5408\u3067\u3082\u3001\u540c\u3058\u30e1\u30bd\u30c3\u30c9getSize\u3067\u30b5\u30a4\u30ba\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u304cComposite\u30d1\u30bf\u30fc\u30f3\u306e\u7279\u5fb4\u3001\u300c\u5bb9\u5668\u3068\u4e2d\u8eab\u3092\u540c\u3058\u3082\u306e\u3068\u307f\u306a\u3059\u300d\u3053\u3068\u306e\u73fe\u308c\u3067\u3059\u3002\n\n\u6728\u69cb\u9020\u3092\u518d\u5e30\u7684\u306b\u547c\u3073\u51fa\u3057\u3066\u30b5\u30a4\u30ba\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\n![qiita3.PNG](https://qiita-image-store.s3.amazonaws.com/0/130026/2359cd14-4e32-bfb0-6920-c32421d258f5.png)\n\n\n\n\u4e00\u822c\u306b\u6728\u69cb\u9020\u306b\u306a\u308b\u30c7\u30fc\u30bf\u69cb\u9020\u306fComposite\u30d1\u30bf\u30fc\u30f3\u306b\u5f53\u3066\u306f\u307e\u308b\n\n+ \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30b7\u30b9\u30c6\u30e0\n+ \u30a6\u30a3\u30f3\u30c9\u30a6\u30b7\u30b9\u30c6\u30e0\n+ \u7b87\u6761\u66f8\u304d\u306e\u4e2d\u306b\u7b87\u6761\u66f8\u304d\n+ \u30de\u30af\u30ed\u30b3\u30de\u30f3\u30c9\n\n\n##Composite\u30d1\u30bf\u30fc\u30f3\u306e\u4f7f\u3044\u6642\n\u30c6\u30b9\u30c8\u30d7\u30ed\u30b0\u30e9\u30e0\u3067Composite\u30d1\u30bf\u30fc\u30f3\u306a\u3069\u304c\u4f7f\u308f\u308c\u308b\n\n+ \u30ad\u30fc\u30dc\u30fc\u30c9\u304b\u3089\u306e\u5165\u529b\u30c6\u30b9\u30c8\n+ \u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u5165\u529b\u30c6\u30b9\u30c8\n+ \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u306e\u5165\u529b\u30c6\u30b9\u30c8\n\n\u3053\u308c\u3089\u306e\uff13\u3064\u3092\u5165\u529b\u30c6\u30b9\u30c8\u3068\u3057\u305f\u3044\u3068\u304d\u306bComposite\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u308b\n\n##\u95a2\u9023\u3057\u3066\u3044\u308b\u30d1\u30bf\u30fc\u30f3\n\n+ Command\u30d1\u30bf\u30fc\u30f3\n+ Visitor\u30d1\u30bf\u30fc\u30f3\n+ Decorator\u30d1\u30bf\u30fc\u30f3\n\n\n\n\n#\u53c2\u8003\n[\u5897\u88dc\u6539\u8a02\u7248Java\u8a00\u8a9e\u3067\u5b66\u3076\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3\u5165\u9580](https://www.amazon.co.jp/%E5%A2%97%E8%A3%9C%E6%94%B9%E8%A8%82%E7%89%88Java%E8%A8%80%E8%AA%9E%E3%81%A7%E5%AD%A6%E3%81%B6%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E5%85%A5%E9%96%80-%E7%B5%90%E5%9F%8E-%E6%B5%A9/dp/4797327030)\n"}