{"context": "Trac\u306e\u69cb\u7bc9\u624b\u9806\uff0e\u4f1a\u793e\u3067\u4f7f\u3046\u3068\u304d\u7528\u306e\u69cb\u7bc9\u624b\u9806\u30e1\u30e2\uff0e\n\n\u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\u3082\u542b\u307e\u308c\u307e\u3059\u306e\u3067\uff0c\u30d7\u30ed\u30ad\u30b7\u304c\u4e0d\u8981\u306a\u65b9\u306f\u30d7\u30ed\u30ad\u30b7\u95a2\u9023\u90e8\u5206\u306f\u7121\u8996\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\n\u60f3\u5b9a\u74b0\u5883\u306fUbuntu 16.04 LTS Xenial Xerus (\u6700\u5c0f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eborServer\u7248)\u3067\u3059\uff0e\n\n\nSubversion\u306e\u5c0e\u5165\nSubversion\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\uff0e\nsudo apt install subversion\nvim ~/.subversion/servers\n\n\n~/.subversion/servers\n[global]\nhttp-proxy-host = proxy.example.com\nhttp-proxy-port = 8080\n\n\n\n\u65e5\u672c\u8a9e\u74b0\u5883\u306b\u3059\u308b\n\u5fc5\u8981\u306a\u4eba\u3060\u3051\nsudo apt install language-pack-ja\nupdate-locale LANG=ja_JP.UTF-8\n# \u518d\u30ed\u30b0\u30a4\u30f3\n\n\nTrac\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nTrac\u304c\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30bd\u30fc\u30eb\u3059\u308b\n# \u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\nexport HTTP_PROXY=http://proxy.example.com:8080/\nexport HTTPS_PROXY=http://proxy.example.com:8080/\nexport FTP_PROXY=http://proxy.example.com:8080/\n\n# Trac\u304c\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install python-setuptools python-dev python3-dev libapache2-mod-wsgi sqlite3 subversion python3-pygments python-pygments\nsudo apt install apache2-utils\nsudo apt install gcc\nsudo easy_install babel\nsudo easy_install genshi\n\nTrac\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\uff0e\nupdate_catalog \u3067\u65e5\u672c\u8a9e\u304c\u6709\u52b9\u306b\u306a\u308b\uff0e\ncd ~\nsvn co https://svn.edgewall.org/repos/trac/tags/trac-1.1.6/\ncd trac-1.1.6\npython setup.py update_catalog -l ja\npython setup.py compile_catalog -f\nsudo python setup.py install\nsudo service apache2 restart\n\n\nTrac\u306e\u8a2d\u5b9a\nTrac\u7528\u306e\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210\u3059\u308b\uff0e/var/www/trac/\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306b\u306a\u308b\u306e\u3067\uff0c\u3082\u3057\u5909\u66f4\u3059\u308b\u306a\u3089\uff0c\u4ee5\u964d\u3059\u3079\u3066\u306e\u30d1\u30b9\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\uff0e\nsudo mkdir /var/www/trac\nsudo vim /var/www/trac/trac.wsgi\nsudo chmod 755 /var/www/trac/trac.wsgi\n\nTrac\u7528\u306ewsgi\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n/var/www/trac/trac.wsgi\nimport os\n\nos.environ['TRAC_ENV_PARENT_DIR'] = '/var/www/trac'\nos.environ['PYTHON_EGG_CACHE'] = '/var/www/trac/eggs'\n\nimport trac.web.main\napplication = trac.web.main.dispatch_request\n\n\nApache2\u4e0a\u306bTrac\u30b5\u30a4\u30c8\u3092\u4f5c\u6210\u3057\u6709\u52b9\u5316\uff0ePython\u306fWSGI\u3067\u52d5\u304b\u3059\uff0e\nsudo vim /etc/apache2/sites-available/trac.conf\nsudo a2ensite trac\n\n\n/etc/apache2/sites-available/trac.conf\nWSGIDaemonProcess trac user=www-data group=www-data processes=2 threads=25 maximum-requests=10000\nWSGIProcessGroup trac\n\nWSGIScriptAlias /trac /var/www/trac/trac.wsgi\n<Directory /var/www/trac>\n    WSGIApplicationGroup %{GLOBAL}\n    Require all granted\n</Directory>\n<LocationMatch \"/trac/.*/login\">\n   AuthType Basic\n   AuthName \"trac\"\n   AuthUserFile \"/var/www/trac/.htpasswd\"\n   Require valid-user\n</LocationMatch>\n\nAlias /trac/chrome /usr/lib/python2.7/dist-packages/trac/htdocs\n<Location \"/trac/chrome\">\n    Require all granted\n</Location>\n\n\n\nTrac\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u8ffd\u52a0\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u306fmyproject\uff0e\nsudo trac-admin /var/www/trac/myproject initenv\nsudo trac-admin /var/www/trac/myproject/ deploy /var/www/trac/myproject\nsudo -u www-data trac-admin /var/www/trac/myproject/ wiki load /usr/share/trac-ja-resource/trac/wiki/default-pages\nsudo vim /var/www/trac/vnfdiy/conf/trac.ini\nsudo chown -R www-data:www-data /var/www/trac/\n\n\n/var/www/trac/myproject/conf/trac.ini\n[attachment]\nmax_size = 26214400\nmax_zip_size = 209715200\n\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30e6\u30fc\u30b6\u8ffd\u52a0\nsudo htpasswd -c /var/www/trac/.htpasswd admin\nsudo htpasswd /var/www/trac/.htpasswd user2\nsudo chown -R www-data:www-data /var/www/trac/\nsudo service apache2 restart\nsudo -u www-data trac-admin /var/www/trac/myproject/ permission add admin TRAC_ADMIN\nsudo -u www-data trac-admin /var/www/trac/myproject/ permission add administrators TRAC_ADMIN\nsudo -u www-data trac-admin /var/www/trac/myproject/ permission add admin administrators\nsudo trac-admin /var/www/trac/myproject/ permission list\n\n\nGit(gitolite3)\u3068\u9023\u643a\n\u5fc5\u8981\u306a\u4eba\u3060\u3051\uff0e\n\n/var/www/trac/vnfdiy/conf/trac.ini\n[components]\ntracopt.versioncontrol.git.* = enabled\n\n[git]\nprojects_base = /var/lib/gitolite3/repositories\nprojects_list = /var/lib/gitolite3/projects.list\n\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\n\niniadminplugin\nsudo easy_install https://trac-hacks.org/svn/iniadminplugin/0.11\nsudo vim /var/www/trac/myproject/conf/trac.ini\n\n\n/var/www/trac/myproject/conf/trac.ini\n[components]\niniadmin.* = enabled\n\n\n\nmarkdown.macro.markdownmacro\nsudo easy_install Markdown \nsudo easy_install https://trac-hacks.org/svn/markdownmacro/trunk/\n\n\nslack_notification\nsudo easy_install https://github.com/mandic-cloud/trac-slack-plugin\n\n\nplantumlmacro\nsudo apt install graphviz\nsudo mkdir /var/graphviz\nexport GRAPHVIZ_DOT=/var/graphviz\nsudo easy_install https://trac-hacks.org/svn/plantumlmacro/trunk\nsudo apt isntall default-jre\nsudo apt install plantuml\nfind / -name plantuml.jar\nsudo vim /var/www/trac/myproject/conf/trac.ini\nsudo service apache2 restart\n\n\n/var/www/trac/myproject/conf/trac.ini\n[components]\nplantuml.macro.plantumlmacro = enabled\n\n[plantuml]\njava_bin = java\nplantuml_jar = /usr/share/plantuml/plantuml.jar\n\n\n\nhttps://trac-hacks.org/wiki/PlantUmlMacro\nhttp://d.hatena.ne.jp/rabbit2go/20100414/1271246376\n\n\ntrac-accountmanager\n\u6b8b\u5ff5\u306a\u304c\u3089trac 1.2.dev0\u3067\u306f\u52d5\u4f5c\u3057\u306a\u3044\uff0e\nsudo apt install trac-accountmanager\nsudo vim /var/www/trac/myproject/conf/trac.ini\n\n\nApache2\u306eSSL\u6709\u52b9\u5316\u3068\u518d\u8d77\u52d5\nsudo a2ensite default-ssl.conf\nsudo a2enmod ssl\nsudo chown -R www-data:www-data /var/www/trac/\nsudo service apache2 restart\n\n\nTrac\u306e\u66f4\u65b0\n1.1.6\u304b\u30891.2\u306b\u66f4\u65b0\u3059\u308b\u624b\u9806\uff0eAPI\u306e\u5909\u5316\u306b\u3088\u308a\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3054\u3063\u305d\u308a\u52d5\u304b\u306a\u304f\u306a\u308b\u306e\u3067\uff0c\u7279\u306b1.2\u3092\u4f7f\u308f\u306a\u3044\u3068\u306a\u3089\u306a\u3044\u7406\u7531\u304c\u306a\u3044\u9650\u308a\u306f1.1.6\u3067\u554f\u984c\u306a\u3044\uff0e\nsvn co https://svn.edgewall.org/repos/trac/branches/1.2-stable/ trac-1.2-stable\ncd trac-1.2-stable\npython setup.py update_catalog -l ja\npython setup.py compile_catalog -f\nsudo python setup.py install\nsudo service apache2 restart\nsudo -u www-data trac-admin /path/to/projenv upgrade\nsudo -u www-data trac-admin /path/to/projenv wiki upgrade\n\n\n\u53c2\u8003\n\nhttp://d.hatena.ne.jp/metalglue/20070111/1168521690\nhttp://d.hatena.ne.jp/orangehat/20080421\nhttps://trac.edgewall.org/wiki/TracInstall\nhttps://trac.edgewall.org/wiki/TracL10N\nhttps://trac.edgewall.org/wiki/TracUpgrade\n\nTrac\u306e\u69cb\u7bc9\u624b\u9806\uff0e\u4f1a\u793e\u3067\u4f7f\u3046\u3068\u304d\u7528\u306e\u69cb\u7bc9\u624b\u9806\u30e1\u30e2\uff0e\n\n* \u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\u3082\u542b\u307e\u308c\u307e\u3059\u306e\u3067\uff0c\u30d7\u30ed\u30ad\u30b7\u304c\u4e0d\u8981\u306a\u65b9\u306f\u30d7\u30ed\u30ad\u30b7\u95a2\u9023\u90e8\u5206\u306f\u7121\u8996\u3057\u3066\u304f\u3060\u3055\u3044\uff0e\n* \u60f3\u5b9a\u74b0\u5883\u306fUbuntu 16.04 LTS Xenial Xerus (\u6700\u5c0f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eborServer\u7248)\u3067\u3059\uff0e\n\n# Subversion\u306e\u5c0e\u5165\nSubversion\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\uff0e\n\n```\nsudo apt install subversion\nvim ~/.subversion/servers\n```\n\n```:~/.subversion/servers\n[global]\nhttp-proxy-host = proxy.example.com\nhttp-proxy-port = 8080\n```\n\n# \u65e5\u672c\u8a9e\u74b0\u5883\u306b\u3059\u308b\n\u5fc5\u8981\u306a\u4eba\u3060\u3051\n\n```\nsudo apt install language-pack-ja\nupdate-locale LANG=ja_JP.UTF-8\n# \u518d\u30ed\u30b0\u30a4\u30f3\n```\n\n# Trac\u3092\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nTrac\u304c\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30bd\u30fc\u30eb\u3059\u308b\n\n```sh\n# \u30d7\u30ed\u30ad\u30b7\u306e\u8a2d\u5b9a\nexport HTTP_PROXY=http://proxy.example.com:8080/\nexport HTTPS_PROXY=http://proxy.example.com:8080/\nexport FTP_PROXY=http://proxy.example.com:8080/\n\n# Trac\u304c\u4f9d\u5b58\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install python-setuptools python-dev python3-dev libapache2-mod-wsgi sqlite3 subversion python3-pygments python-pygments\nsudo apt install apache2-utils\nsudo apt install gcc\nsudo easy_install babel\nsudo easy_install genshi\n```\n\nTrac\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\uff0e\n`update_catalog` \u3067\u65e5\u672c\u8a9e\u304c\u6709\u52b9\u306b\u306a\u308b\uff0e\n\n```sh\ncd ~\nsvn co https://svn.edgewall.org/repos/trac/tags/trac-1.1.6/\ncd trac-1.1.6\npython setup.py update_catalog -l ja\npython setup.py compile_catalog -f\nsudo python setup.py install\nsudo service apache2 restart\n```\n\n<!--\n```\n\u3000# sudo apt install trac trac-ja-resource\n\u3000# qpt\u306f\u4e0d\u8981\n\u3000# svn co https://svn.edgewall.org/repos/trac/trunk\n\u3000# svn co https://svn.edgewall.org/repos/trac/branches/1.2-stable/ trac-1.2-stable\n\u3000# git clone https://github.com/edgewall/trac/tree/1.0-stable\n\u3000# git clone https://github.com/edgewall/trac/tree/1.2-stable\n\u3000# svn co https://svn.edgewall.org/repos/trac/tags/trac-1.0.13/\n```\n-->\n\n# Trac\u306e\u8a2d\u5b9a\nTrac\u7528\u306e\u30d5\u30a9\u30eb\u30c0\u306e\u4f5c\u6210\u3059\u308b\uff0e`/var/www/trac/`\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u306b\u306a\u308b\u306e\u3067\uff0c\u3082\u3057\u5909\u66f4\u3059\u308b\u306a\u3089\uff0c\u4ee5\u964d\u3059\u3079\u3066\u306e\u30d1\u30b9\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\uff0e\n\n```\nsudo mkdir /var/www/trac\nsudo vim /var/www/trac/trac.wsgi\nsudo chmod 755 /var/www/trac/trac.wsgi\n```\n\nTrac\u7528\u306ewsgi\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n```py:/var/www/trac/trac.wsgi\nimport os\n\nos.environ['TRAC_ENV_PARENT_DIR'] = '/var/www/trac'\nos.environ['PYTHON_EGG_CACHE'] = '/var/www/trac/eggs'\n\nimport trac.web.main\napplication = trac.web.main.dispatch_request\n```\n\nApache2\u4e0a\u306bTrac\u30b5\u30a4\u30c8\u3092\u4f5c\u6210\u3057\u6709\u52b9\u5316\uff0ePython\u306fWSGI\u3067\u52d5\u304b\u3059\uff0e\n\n```\nsudo vim /etc/apache2/sites-available/trac.conf\nsudo a2ensite trac\n```\n\n```aconf:/etc/apache2/sites-available/trac.conf\nWSGIDaemonProcess trac user=www-data group=www-data processes=2 threads=25 maximum-requests=10000\nWSGIProcessGroup trac\n\nWSGIScriptAlias /trac /var/www/trac/trac.wsgi\n<Directory /var/www/trac>\n    WSGIApplicationGroup %{GLOBAL}\n    Require all granted\n</Directory>\n<LocationMatch \"/trac/.*/login\">\n   AuthType Basic\n   AuthName \"trac\"\n   AuthUserFile \"/var/www/trac/.htpasswd\"\n   Require valid-user\n</LocationMatch>\n\nAlias /trac/chrome /usr/lib/python2.7/dist-packages/trac/htdocs\n<Location \"/trac/chrome\">\n    Require all granted\n</Location>\n```\n\n# Trac\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u8ffd\u52a0\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u306f`myproject`\uff0e\n\n```\nsudo trac-admin /var/www/trac/myproject initenv\nsudo trac-admin /var/www/trac/myproject/ deploy /var/www/trac/myproject\nsudo -u www-data trac-admin /var/www/trac/myproject/ wiki load /usr/share/trac-ja-resource/trac/wiki/default-pages\nsudo vim /var/www/trac/vnfdiy/conf/trac.ini\nsudo chown -R www-data:www-data /var/www/trac/\n```\n\n```ini:/var/www/trac/myproject/conf/trac.ini\n[attachment]\nmax_size = 26214400\nmax_zip_size = 209715200\n```\n\n# \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30e6\u30fc\u30b6\u8ffd\u52a0\n```\nsudo htpasswd -c /var/www/trac/.htpasswd admin\nsudo htpasswd /var/www/trac/.htpasswd user2\nsudo chown -R www-data:www-data /var/www/trac/\nsudo service apache2 restart\nsudo -u www-data trac-admin /var/www/trac/myproject/ permission add admin TRAC_ADMIN\nsudo -u www-data trac-admin /var/www/trac/myproject/ permission add administrators TRAC_ADMIN\nsudo -u www-data trac-admin /var/www/trac/myproject/ permission add admin administrators\nsudo trac-admin /var/www/trac/myproject/ permission list\n```\n\n# Git(gitolite3)\u3068\u9023\u643a\n\u5fc5\u8981\u306a\u4eba\u3060\u3051\uff0e\n\n```ini:/var/www/trac/vnfdiy/conf/trac.ini\n[components]\ntracopt.versioncontrol.git.* = enabled\n\n[git]\nprojects_base = /var/lib/gitolite3/repositories\nprojects_list = /var/lib/gitolite3/projects.list\n```\n\n# \u30d7\u30e9\u30b0\u30a4\u30f3\n\n## iniadminplugin\n```sh\nsudo easy_install https://trac-hacks.org/svn/iniadminplugin/0.11\nsudo vim /var/www/trac/myproject/conf/trac.ini\n```\n```ini:/var/www/trac/myproject/conf/trac.ini\n[components]\niniadmin.* = enabled\n```\n\n## markdown.macro.markdownmacro\n\n```sh\nsudo easy_install Markdown \nsudo easy_install https://trac-hacks.org/svn/markdownmacro/trunk/\n```\n\n## slack_notification\n\n```sh\nsudo easy_install https://github.com/mandic-cloud/trac-slack-plugin\n```\n\n## plantumlmacro\n\n```sh\nsudo apt install graphviz\nsudo mkdir /var/graphviz\nexport GRAPHVIZ_DOT=/var/graphviz\nsudo easy_install https://trac-hacks.org/svn/plantumlmacro/trunk\nsudo apt isntall default-jre\nsudo apt install plantuml\nfind / -name plantuml.jar\nsudo vim /var/www/trac/myproject/conf/trac.ini\nsudo service apache2 restart\n```\n\n```ini:/var/www/trac/myproject/conf/trac.ini\n[components]\nplantuml.macro.plantumlmacro = enabled\n\n[plantuml]\njava_bin = java\nplantuml_jar = /usr/share/plantuml/plantuml.jar\n```\n\n* https://trac-hacks.org/wiki/PlantUmlMacro\n* http://d.hatena.ne.jp/rabbit2go/20100414/1271246376\n\n## trac-accountmanager\n\u6b8b\u5ff5\u306a\u304c\u3089trac 1.2.dev0\u3067\u306f\u52d5\u4f5c\u3057\u306a\u3044\uff0e\n\n```sh\nsudo apt install trac-accountmanager\nsudo vim /var/www/trac/myproject/conf/trac.ini\n```\n\n\n# Apache2\u306eSSL\u6709\u52b9\u5316\u3068\u518d\u8d77\u52d5\n\n```\nsudo a2ensite default-ssl.conf\nsudo a2enmod ssl\nsudo chown -R www-data:www-data /var/www/trac/\nsudo service apache2 restart\n```\n\n\n# Trac\u306e\u66f4\u65b0\n1.1.6\u304b\u30891.2\u306b\u66f4\u65b0\u3059\u308b\u624b\u9806\uff0eAPI\u306e\u5909\u5316\u306b\u3088\u308a\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3054\u3063\u305d\u308a\u52d5\u304b\u306a\u304f\u306a\u308b\u306e\u3067\uff0c\u7279\u306b1.2\u3092\u4f7f\u308f\u306a\u3044\u3068\u306a\u3089\u306a\u3044\u7406\u7531\u304c\u306a\u3044\u9650\u308a\u306f1.1.6\u3067\u554f\u984c\u306a\u3044\uff0e\n\n```\nsvn co https://svn.edgewall.org/repos/trac/branches/1.2-stable/ trac-1.2-stable\ncd trac-1.2-stable\npython setup.py update_catalog -l ja\npython setup.py compile_catalog -f\nsudo python setup.py install\nsudo service apache2 restart\nsudo -u www-data trac-admin /path/to/projenv upgrade\nsudo -u www-data trac-admin /path/to/projenv wiki upgrade\n```\n\n\n# \u53c2\u8003\n* http://d.hatena.ne.jp/metalglue/20070111/1168521690\n* http://d.hatena.ne.jp/orangehat/20080421\n* https://trac.edgewall.org/wiki/TracInstall\n* https://trac.edgewall.org/wiki/TracL10N\n* https://trac.edgewall.org/wiki/TracUpgrade\n", "tags": ["Trac", "Ubuntu", "Subversion", "Git"]}