{"context": " More than 1 year has passed since last update.AWS Device Farm Gradle Plugin \u3092\u5c0e\u5165\u3057\u305f\u8a71\u3002\n\uff08Instrumentation \u3067\u8a66\u3057\u307e\u3057\u305f\u304c\u3001Appium \u7b49\u3067\u3082\u540c\u3058\u65b9\u6cd5\u3067\u3044\u3051\u308b\u306f\u305a\uff09\n\n\u52b9\u679c\nAndroid Studio \u304b\u3089 ./gradlew devicefarmUpload \u3067 Device Farm \u306e\u30c6\u30b9\u30c8\u5b9f\u884c\u304c\u3067\u304d\u3066\u4fbf\u5229\uff01\n\uff08\u203b\u4f46\u3057\u3001\u547c\u3073\u51fa\u3057\u306b\u9650\u308b\u3002\u7d50\u679c\u306f Web \u3067\uff01\uff09\n\n\u6e96\u5099\n\n\u524d\u63d0\n\nAndroid Studio \u3067\u4f55\u3089\u304b\u306e Instrumentation \u30c6\u30b9\u30c8\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308b\n\n\n\u306a\u3051\u308c\u3070\u3001\u2193\u3042\u305f\u308a\u3092\u4f7f\u3063\u3066\u4e0b\u3055\u3044\u3002\n\nAWS Device Farm Sample App for Android\uff08AWS \u516c\u5f0f\u30b5\u30f3\u30d7\u30eb\uff09\n\nDeviceFarmSampleAndroid \uff08\u81ea\u5206\u304c\u4f5c\u3063\u305f\u30b3\u30f3\u30d1\u30af\u30c8\u306a\u30b5\u30f3\u30d7\u30eb\uff09\n\n\nAWS \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\n\n\n\u306a\u3051\u308c\u3070\u3001\u3053\u3061\u3089 \u304b\u3089\u767b\u9332\u3092\uff01\n\n\nAWS Device Farm \u3067\u4f55\u3089\u304b\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u6e08\u307f\uff08\u3053\u3053\u3067\u306f DeviceFarmSampleAndroid \u3068\u3059\u308b\uff09\n\n\n\u306a\u3051\u308c\u3070\u3001AWS Device Farm \u3092\u958b\u3044\u3066 Create a new project\u3092\uff01\n\n\n\n\nbuild.gradle \u3078\u306e\u8ffd\u8a18\n\nbuild.gradle\uff08\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u76f4\u4e0b\uff09\nbuildscript {\n    repositories {        \n        mavenLocal()            \n        mavenCentral()            \n    }\n    dependencies {        \n        classpath 'com.android.tools.build:gradle:1.3.0'           \n        classpath 'com.amazonaws:aws-devicefarm-gradle-plugin:1.2'            \n    }        \n}\n\n\n\napp/build.gradle\napply plugin: 'devicefarm'\n\ndevicefarm {\n    projectName \"DeviceFarmSampleAndroid\" // required: Must already exists.\n    devicePool \"Top Devices\" // optional: Defaults to \"Top Devices\"\n    authentication {\n        accessKey \"aws-iam-user-accesskey\"\n        secretKey \"aws-iam-user-accesskey\"\n    }\n}\n\n\n\nIAM \u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3066\u3001accessKey / secretKey \u3092\u53d6\u5f97\u3059\u308b\n\uff08IAM : Identity and Access Management\uff09\nStep 3: Generating an IAM User \u306e\u3068\u304a\u308a\u3067\u3059\u3002\n\u30e6\u30fc\u30b6\u4f5c\u6210\u5f8c\u306b\u3001accessKey / secretKey \u304c\u8868\u793a\u3055\u308c\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u306a\u306e\u3067\u63a7\u3048\u3066\u304a\u3044\u3066\u4e0b\u3055\u3044\u3002\n\u30cf\u30de\u3063\u305f\u70b9\u3068\u3057\u3066\u3001\n14. Paste the following policy into Policy Document.\n\u306f\n    {\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n            {\n                \"Sid\": \"DeviceFarmAll\",\n                \"Effect\": \"Allow\",\n                \"Action\": [ \"devicefarm:*\" ],\n                \"Resource\": [ \"*\" ]\n            }\n        ]\n    }\n\n\u3092\u30b3\u30d4\u30da\u3059\u308b\u3068\u3001\n\n\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3002\u3002\n\u3069\u3046\u3084\u3089\u3001\u884c\u5148\u982d\u306e\u30bf\u30d6\u304c\u90aa\u9b54\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"DeviceFarmAll\",\n            \"Effect\": \"Allow\",\n            \"Action\": [ \"devicefarm:*\" ],\n            \"Resource\": [ \"*\" ]\n        }\n    ]\n}\n\n\u3092\u8cbc\u308a\u4ed8\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n\u5b9f\u884c\u8a2d\u5b9a\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09\n\u30c6\u30b9\u30c8\u306e\u30d5\u30a3\u30eb\u30bf\u8a2d\u5b9a\u306a\u3069\u304c\u3067\u304d\u307e\u3059\u3002\nStep 4: Configuring Test Types \u53c2\u7167\u3002\ninstrumentation \u306e\u5834\u5408\u3001\ninstrumentation { \n    filter \"test filter per developer docs\" // optional\n}\n\n\u3067\u30d5\u30a3\u30eb\u30bf\u8a2d\u5b9a\u304c\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u5b9f\u884c\n\naccessKey / secretKey \u3092 app/build.gradle \u306b\u8a2d\u5b9a\n\n./gradlew devicefarmUpload \u3092\u5b9f\u884c\n\n$ ./gradlew devicefarmUpload \nAWS Device Farm Plugin version 1.2\nAWS Device Farm configuration is VALID\n:app:preBuild UP-TO-DATE\n\uff08\u2026\u4e2d\u7565\u2026\uff09\n:app:assembleDebugAndroidTest UP-TO-DATE\n:app:devicefarmUpload\nUsing Project \"DeviceFarmSampleAndroid\", \"arn:aws:devicefarm:us-west-2:XXXXX:project:XXXXX\"\nUsing Device Pool \"Nexus 5 5.0.1\", \"arn:aws:devicefarm:us-west-2:XXXXX:devicepool:XXXXX\"\nWill test app in  \"app-debug.apk\", \"arn:aws:devicefarm:us-west-2:XXXXX:upload:XXXXX\"\nWill run tests in app-debug-androidTest-unaligned.apk, arn:aws:devicefarm:us-west-2:XXXXX:upload:XXXXX\nView the INSTRUMENTATION run in the AWS Device Farm Console: https://console.aws.amazon.com/devicefarm/home?#/projects/XXXXX/runs/XXXXX\n\nBUILD SUCCESSFUL\n\nTotal time: 30.645 secs\n\n\n\u3042\u304f\u307e\u3067\u3082\u547c\u3073\u51fa\u3057\u306b\u904e\u304e\u306a\u3044\u306e\u3067\u3001\u7d50\u679c\u306f\u81ea\u5206\u3067\u898b\u306b\u884c\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3002\u3002\nView the INSTRUMENTATION run in the AWS Device Farm Console: https://...\n\u3067\u8a18\u3055\u308c\u305f URL \u3092\u958b\u304f\u3068\u3001\n\n\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\uff08\u203b\u30b9\u30af\u30b7\u30e7\u306f\u5b8c\u4e86\u6642\u306e\u30e2\u30ce\uff09\n\n\u88dc\u8db3\n\nplugin \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n\u203b2016/02/28\u6642\u70b9\u3067\u3001Step 2: Setting up the AWS Device Farm Gradle Plugin \u306b\u306f\nclasspath 'com.amazonaws:aws-devicefarm-gradle-plugin:1.0'\n\u3068\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u30011.0 \u3067\u306f\nAWS Device Farm configuration is NOT VALID (with valid config) \n\u304c\u4fee\u6b63\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u5c11\u306a\u304f\u3068\u3082 1.1 \u4ee5\u4e0a\u3092\u4f7f\u3063\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n1.0 \u3060\u3068\u3001\u5b9f\u884c\u3059\u308b\u3068\nAWS Device Farm configuration is NOT VALID \u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\uff08\u3057\u3070\u3089\u304f\u30cf\u30de\u3063\u305f\u3002\u3002\u3002\uff09\n\nJenkins plugin\nJenkins\u304b\u3089AWS DeviceFarm\u3092\u4f7f\u3063\u3066Android\u306eInstrumentation\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b \u53c2\u7167\u3002\n\u7d50\u679c\u304c Jenkins \u4e0a\u3067\u898b\u308c\u308b\u306e\u3067\u3001Jenkins plugin \u306e\u65b9\u304c\u7d50\u679c\u3082\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u826f\u3055\u6c17\u3002\n[AWS Device Farm Gradle Plugin](http://docs.aws.amazon.com/devicefarm/latest/developerguide/aws-device-farm-android-gradle-plugin.html) \u3092\u5c0e\u5165\u3057\u305f\u8a71\u3002\n\uff08Instrumentation \u3067\u8a66\u3057\u307e\u3057\u305f\u304c\u3001Appium \u7b49\u3067\u3082\u540c\u3058\u65b9\u6cd5\u3067\u3044\u3051\u308b\u306f\u305a\uff09\n\n# \u52b9\u679c\nAndroid Studio \u304b\u3089 `./gradlew devicefarmUpload` \u3067 Device Farm \u306e\u30c6\u30b9\u30c8\u5b9f\u884c\u304c\u3067\u304d\u3066\u4fbf\u5229\uff01\n\uff08\u203b\u4f46\u3057\u3001\u547c\u3073\u51fa\u3057\u306b\u9650\u308b\u3002\u7d50\u679c\u306f Web \u3067\uff01\uff09\n\n# \u6e96\u5099\n## \u524d\u63d0\n* Android Studio \u3067\u4f55\u3089\u304b\u306e Instrumentation \u30c6\u30b9\u30c8\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308b\n * \u306a\u3051\u308c\u3070\u3001\u2193\u3042\u305f\u308a\u3092\u4f7f\u3063\u3066\u4e0b\u3055\u3044\u3002\n   * [AWS Device Farm Sample App for Android](https://github.com/awslabs/aws-device-farm-sample-app-for-android)\uff08AWS \u516c\u5f0f\u30b5\u30f3\u30d7\u30eb\uff09\n   * [DeviceFarmSampleAndroid](https://github.com/tatsuhama/DeviceFarmSampleAndroid) \uff08\u81ea\u5206\u304c\u4f5c\u3063\u305f\u30b3\u30f3\u30d1\u30af\u30c8\u306a\u30b5\u30f3\u30d7\u30eb\uff09\n* AWS \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\n * \u306a\u3051\u308c\u3070\u3001[\u3053\u3061\u3089](https://aws.amazon.com/jp/) \u304b\u3089\u767b\u9332\u3092\uff01\n* AWS Device Farm \u3067\u4f55\u3089\u304b\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u6e08\u307f\uff08\u3053\u3053\u3067\u306f `DeviceFarmSampleAndroid` \u3068\u3059\u308b\uff09\n * \u306a\u3051\u308c\u3070\u3001AWS Device Farm \u3092\u958b\u3044\u3066 `Create a new project`\u3092\uff01\n\n## build.gradle \u3078\u306e\u8ffd\u8a18\n\n```build.gradle\uff08\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u76f4\u4e0b\uff09\nbuildscript {\n    repositories {        \n        mavenLocal()            \n        mavenCentral()            \n    }\n    dependencies {        \n        classpath 'com.android.tools.build:gradle:1.3.0'           \n        classpath 'com.amazonaws:aws-devicefarm-gradle-plugin:1.2'            \n    }        \n}\n```\n\n``` app/build.gradle\napply plugin: 'devicefarm'\n\ndevicefarm {\n    projectName \"DeviceFarmSampleAndroid\" // required: Must already exists.\n    devicePool \"Top Devices\" // optional: Defaults to \"Top Devices\"\n    authentication {\n        accessKey \"aws-iam-user-accesskey\"\n        secretKey \"aws-iam-user-accesskey\"\n    }\n}\n```\n\n## IAM \u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u3066\u3001accessKey / secretKey \u3092\u53d6\u5f97\u3059\u308b\n\uff08IAM : Identity and Access Management\uff09\n[Step 3: Generating an IAM User](http://docs.aws.amazon.com/devicefarm/latest/developerguide/aws-device-farm-gradle-plugin-generating-iam-user.html) \u306e\u3068\u304a\u308a\u3067\u3059\u3002\n\u30e6\u30fc\u30b6\u4f5c\u6210\u5f8c\u306b\u3001accessKey / secretKey \u304c\u8868\u793a\u3055\u308c\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u306a\u306e\u3067\u63a7\u3048\u3066\u304a\u3044\u3066\u4e0b\u3055\u3044\u3002\n\n\u30cf\u30de\u3063\u305f\u70b9\u3068\u3057\u3066\u3001\n`14. Paste the following policy into Policy Document.`\n\u306f\n\n```\n    {\n        \"Version\": \"2012-10-17\",\n        \"Statement\": [\n            {\n                \"Sid\": \"DeviceFarmAll\",\n                \"Effect\": \"Allow\",\n                \"Action\": [ \"devicefarm:*\" ],\n                \"Resource\": [ \"*\" ]\n            }\n        ]\n    }\n```\n\u3092\u30b3\u30d4\u30da\u3059\u308b\u3068\u3001\n<img width=\"475\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-28 14.36.46.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/9695/0490a238-48d6-df10-b620-99676c9a5d59.png\">\n\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3002\u3002\n\n\u3069\u3046\u3084\u3089\u3001\u884c\u5148\u982d\u306e\u30bf\u30d6\u304c\u90aa\u9b54\u3057\u3066\u3044\u308b\u306e\u3067\u3001\n\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"DeviceFarmAll\",\n            \"Effect\": \"Allow\",\n            \"Action\": [ \"devicefarm:*\" ],\n            \"Resource\": [ \"*\" ]\n        }\n    ]\n}\n```\n\u3092\u8cbc\u308a\u4ed8\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n## \u5b9f\u884c\u8a2d\u5b9a\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09\n\u30c6\u30b9\u30c8\u306e\u30d5\u30a3\u30eb\u30bf\u8a2d\u5b9a\u306a\u3069\u304c\u3067\u304d\u307e\u3059\u3002\n[Step 4: Configuring Test Types](http://docs.aws.amazon.com/devicefarm/latest/developerguide/aws-device-farm-gradle-plugin-configuring-test-types.html) \u53c2\u7167\u3002\ninstrumentation \u306e\u5834\u5408\u3001\n\n```\ninstrumentation { \n    filter \"test filter per developer docs\" // optional\n}\n```\n\u3067\u30d5\u30a3\u30eb\u30bf\u8a2d\u5b9a\u304c\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\n\n# \u5b9f\u884c\n* accessKey / secretKey \u3092 `app/build.gradle` \u306b\u8a2d\u5b9a\n* `./gradlew devicefarmUpload` \u3092\u5b9f\u884c\n\n```\n$ ./gradlew devicefarmUpload \nAWS Device Farm Plugin version 1.2\nAWS Device Farm configuration is VALID\n:app:preBuild UP-TO-DATE\n\uff08\u2026\u4e2d\u7565\u2026\uff09\n:app:assembleDebugAndroidTest UP-TO-DATE\n:app:devicefarmUpload\nUsing Project \"DeviceFarmSampleAndroid\", \"arn:aws:devicefarm:us-west-2:XXXXX:project:XXXXX\"\nUsing Device Pool \"Nexus 5 5.0.1\", \"arn:aws:devicefarm:us-west-2:XXXXX:devicepool:XXXXX\"\nWill test app in  \"app-debug.apk\", \"arn:aws:devicefarm:us-west-2:XXXXX:upload:XXXXX\"\nWill run tests in app-debug-androidTest-unaligned.apk, arn:aws:devicefarm:us-west-2:XXXXX:upload:XXXXX\nView the INSTRUMENTATION run in the AWS Device Farm Console: https://console.aws.amazon.com/devicefarm/home?#/projects/XXXXX/runs/XXXXX\n\nBUILD SUCCESSFUL\n\nTotal time: 30.645 secs\n\n```\n\n\u3042\u304f\u307e\u3067\u3082\u547c\u3073\u51fa\u3057\u306b\u904e\u304e\u306a\u3044\u306e\u3067\u3001\u7d50\u679c\u306f\u81ea\u5206\u3067\u898b\u306b\u884c\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3002\u3002\n`View the INSTRUMENTATION run in the AWS Device Farm Console: https://...`\n\u3067\u8a18\u3055\u308c\u305f URL \u3092\u958b\u304f\u3068\u3001\n<img width=\"584\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-28 14.48.02.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/9695/a1fc0a2d-664e-d190-3427-72cf25509ca3.png\">\n\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\uff08\u203b\u30b9\u30af\u30b7\u30e7\u306f\u5b8c\u4e86\u6642\u306e\u30e2\u30ce\uff09\n\n# \u88dc\u8db3\n## plugin \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n\u203b2016/02/28\u6642\u70b9\u3067\u3001[Step 2: Setting up the AWS Device Farm Gradle Plugin](http://docs.aws.amazon.com/devicefarm/latest/developerguide/aws-device-farm-gradle-plugin-setting-up.html) \u306b\u306f\n`classpath 'com.amazonaws:aws-devicefarm-gradle-plugin:1.0'`\n\u3068\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u3001`1.0` \u3067\u306f\n[AWS Device Farm configuration is NOT VALID (with valid config)](https://github.com/awslabs/aws-device-farm-gradle-plugin/issues/4) \n\u304c\u4fee\u6b63\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u5c11\u306a\u304f\u3068\u3082 `1.1` \u4ee5\u4e0a\u3092\u4f7f\u3063\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n1.0 \u3060\u3068\u3001\u5b9f\u884c\u3059\u308b\u3068\n`AWS Device Farm configuration is NOT VALID` \u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\uff08\u3057\u3070\u3089\u304f\u30cf\u30de\u3063\u305f\u3002\u3002\u3002\uff09\n## Jenkins plugin\n[Jenkins\u304b\u3089AWS DeviceFarm\u3092\u4f7f\u3063\u3066Android\u306eInstrumentation\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b](http://qiita.com/hogelog/items/5d2b14330c028fd3b3bd) \u53c2\u7167\u3002\n\u7d50\u679c\u304c Jenkins \u4e0a\u3067\u898b\u308c\u308b\u306e\u3067\u3001Jenkins plugin \u306e\u65b9\u304c\u7d50\u679c\u3082\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u826f\u3055\u6c17\u3002\n", "tags": ["DeviceFarm", "Android", "gradle"]}