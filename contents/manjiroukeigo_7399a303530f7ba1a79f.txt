{"tags": ["Ubuntu14.04", "Chainer", "DeepLearning", "DQN", "CUDA"], "context": "Dense Captioning\u3084Selective Search\nDQN\u306e\u5b9f\u88c5\u3092\u76ee\u6307\u3057\u3066Chainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\uff3bDense Captioning]\nhttp://cs.stanford.edu/people/karpathy/densecap/\n\u53c2\u8003\u66f8\u304b\u3089\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u305f\u306e\u3067\u624b\u9806\u3092\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u74b0\u5883\u306fUbuntu 14.04\n\nChainer\u306e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt-get install python2.7\n$ sudo apt-get install python-numpy\n$ sudo apt-get install libhdf5-dev\n$ sudo pip install -U setup-tools\n$ sudo pip install -U cython\n\nsetuptools\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3064\u3044\u3066\u306f\u53c2\u8003\u306b\u3057\u305f\u66f8\u7c4d\u306b\u8aa4\u8a18\u304c\u3042\u308b\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\n\n\n\nUbuntu14.04 \u3078\u306e Chainer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u306bsetuptools\u30a4\u30f3\u30b9\u30b3\u3067\u8e93\u3044\u305f\u306e\u3067\u30e1\u30e2 - Qiita\n\n\n\n\nCuda\u306e\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\n\uff27\uff30\uff35\u306e\u4f7f\u7528\u306b\u5bfe\u3057\u3066\u74b0\u5883\u5909\u6570\u3068\n-CuDNN v4\n-protocol buffers\n\u4e0a\uff12\u3064\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5fc5\u8981\u3067\u3059\n$ export CUDA_ROOT=/usr/local/cuda\n$ export PATH=$PATH:/usr/local/cuda/bin\n$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/lib\n$ export CPATH=$CPATH:/usr/loca/cuda/include\n$ export CUDA_INC_DIR=/usr/local/cuda/bin:$CUDA_INC_DIR \n\n\nChainer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nprotocol buffer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\nChainer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u81ea\u8eab\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30db\u30fc\u30e0\u9818\u57df\u914d\u4e0b\u306b\u8a18\u8f09)\n$ sudo pip install protobuf\n$ sudo pip install chainer\n\n\u30b5\u30f3\u30d7\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ sudo git clone https://github.com/pfnet/chainer.git\n\nminist\u3092\u4f7f\u7528\u3057\u305f\u52d5\u4f5c\u78ba\u8a8d\u30c6\u30b9\u30c8\n$ cd\u3000~/chainer/examples/mnist\n$ mnist sudo python train_mnist.py\n$ mnist sudo python train_mnist.py --gpu=0\u3000//GPU\u4f7f\u7528\u3059\u308b\u5834\u5408\n$ sudo python train_mnist.pyGPU: -1\n\n*GPU\u4f7f\u7528\u306e\u5834\u5408 --gpu=(GPU\u306eID)\n\u5b66\u7fd2\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u307e\u3059\n# unit: 1000\n# Minibatch-size: 100\n# epoch: 20\nNetwork type: simple\n\nload MNIST dataset\nepoch 1\ngraph generated\ntrain mean loss=0.192183390001, accuracy=0.942250003902, throughput=205.787747527 images/sec\ntest mean loss=0.097593400433, accuracy=0.969000005126\nepoch 2\ntrain mean loss=0.0745383219374, accuracy=0.977550010482, throughput=204.740891398 images/sec\ntest mean loss=0.0760766306671, accuracy=0.976100005507\n.\n\n.\n\n.\n\ntest mean loss=0.0971296599999, accuracy=0.982500005364\nepoch 19\ntrain mean loss=0.00823042495485, accuracy=0.997333335876, throughput=208.702609375 images/sec\ntest mean loss=0.112126590184, accuracy=0.982200008631\nepoch 20\ntrain mean loss=0.00885681845254, accuracy=0.997333335777, throughput=207.561653063 images/sec\ntest mean loss=0.112605881691, accuracy=0.982200006247\nsave the model\nsave the optimizer\n\n\nCaffe \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo pip install pillow\n$ sudo pip install protobuf \n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u4eca\u56de\u306falexnet\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\n$ cd ~/chainer/examples/modelzoo\n$ sudo python download_model.py alexnet\n\n\u53c2\u8003\u66f8\u7c4d\n\u30a4\u30e9\u30b9\u30c8\u3067\u5b66\u3076\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\nDense Captioning\u3084Selective Search\nDQN\u306e\u5b9f\u88c5\u3092\u76ee\u6307\u3057\u3066Chainer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\n\uff3bDense Captioning]\nhttp://cs.stanford.edu/people/karpathy/densecap/\n\n\u53c2\u8003\u66f8\u304b\u3089\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u305f\u306e\u3067\u624b\u9806\u3092\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u74b0\u5883\u306fUbuntu 14.04\n#Chainer\u306e\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo apt-get install python2.7\n$ sudo apt-get install python-numpy\n$ sudo apt-get install libhdf5-dev\n$ sudo pip install -U setup-tools\n$ sudo pip install -U cython\n```\n\nsetuptools\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3064\u3044\u3066\u306f\u53c2\u8003\u306b\u3057\u305f\u66f8\u7c4d\u306b\u8aa4\u8a18\u304c\u3042\u308b\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\n<ul>\n\n<li><a href=\"http://qiita.com/manjiroukeigo/items/d88d2f97adc314dc6231\" target=\"_blank\" >Ubuntu14.04 \u3078\u306e Chainer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u306bsetuptools\u30a4\u30f3\u30b9\u30b3\u3067\u8e93\u3044\u305f\u306e\u3067\u30e1\u30e2 - Qiita</a><i class=\"fa fa-external-link\"></i></li>\n</ul>\n\n\n \n\n\n\n#Cuda\u306e\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\n\uff27\uff30\uff35\u306e\u4f7f\u7528\u306b\u5bfe\u3057\u3066\u74b0\u5883\u5909\u6570\u3068\n-CuDNN v4\n-protocol buffers\n\u4e0a\uff12\u3064\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5fc5\u8981\u3067\u3059\n\n```\n$ export CUDA_ROOT=/usr/local/cuda\n$ export PATH=$PATH:/usr/local/cuda/bin\n$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/lib\n$ export CPATH=$CPATH:/usr/loca/cuda/include\n$ export CUDA_INC_DIR=/usr/local/cuda/bin:$CUDA_INC_DIR \n```\n\n\n#Chainer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nprotocol buffer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\nChainer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u81ea\u8eab\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30db\u30fc\u30e0\u9818\u57df\u914d\u4e0b\u306b\u8a18\u8f09)\n\n```\n$ sudo pip install protobuf\n$ sudo pip install chainer\n```\n\u30b5\u30f3\u30d7\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n$ sudo git clone https://github.com/pfnet/chainer.git\n```\n \n\nminist\u3092\u4f7f\u7528\u3057\u305f\u52d5\u4f5c\u78ba\u8a8d\u30c6\u30b9\u30c8\n\n```\n$ cd\u3000~/chainer/examples/mnist\n$ mnist sudo python train_mnist.py\n$ mnist sudo python train_mnist.py --gpu=0\u3000//GPU\u4f7f\u7528\u3059\u308b\u5834\u5408\n$ sudo python train_mnist.pyGPU: -1\n```\n*GPU\u4f7f\u7528\u306e\u5834\u5408 --gpu=(GPU\u306eID)\n\n\n\u5b66\u7fd2\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u307e\u3059\n\n```\n# unit: 1000\n# Minibatch-size: 100\n# epoch: 20\nNetwork type: simple\n\nload MNIST dataset\nepoch 1\ngraph generated\ntrain mean loss=0.192183390001, accuracy=0.942250003902, throughput=205.787747527 images/sec\ntest mean loss=0.097593400433, accuracy=0.969000005126\nepoch 2\ntrain mean loss=0.0745383219374, accuracy=0.977550010482, throughput=204.740891398 images/sec\ntest mean loss=0.0760766306671, accuracy=0.976100005507\n.\n\n.\n\n.\n\ntest mean loss=0.0971296599999, accuracy=0.982500005364\nepoch 19\ntrain mean loss=0.00823042495485, accuracy=0.997333335876, throughput=208.702609375 images/sec\ntest mean loss=0.112126590184, accuracy=0.982200008631\nepoch 20\ntrain mean loss=0.00885681845254, accuracy=0.997333335777, throughput=207.561653063 images/sec\ntest mean loss=0.112605881691, accuracy=0.982200006247\nsave the model\nsave the optimizer\n```\n\n#Caffe \u5b66\u7fd2\u6e08\u307f\u30e2\u30c7\u30eb\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo pip install pillow\n$ sudo pip install protobuf \n```\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u4eca\u56de\u306falexnet\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3057\u305f\n\n```\n$ cd ~/chainer/examples/modelzoo\n$ sudo python download_model.py alexnet\n```\n\n\n\u53c2\u8003\u66f8\u7c4d\n\n[\u30a4\u30e9\u30b9\u30c8\u3067\u5b66\u3076\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0](http://www.amazon.co.jp/%E3%82%A4%E3%83%A9%E3%82%B9%E3%83%88%E3%81%A7%E5%AD%A6%E3%81%B6-%E3%83%87%E3%82%A3%E3%83%BC%E3%83%97%E3%83%A9%E3%83%BC%E3%83%8B%E3%83%B3%E3%82%B0-KS%E6%83%85%E5%A0%B1%E7%A7%91%E5%AD%A6%E5%B0%82%E9%96%80%E6%9B%B8-%E5%B1%B1%E4%B8%8B-%E9%9A%86%E7%BE%A9/dp/406153825X\n)\n"}