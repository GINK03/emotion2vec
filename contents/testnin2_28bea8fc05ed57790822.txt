{"context": " More than 1 year has passed since last update.\n\nDocker\u306e\u5c0e\u5165\n\u4ee5\u4e0b\u306b\u3088\u308b\u3068\u30012015\u5e746\u670829\u65e5\u73fe\u5728\u306b\u304a\u3051\u308b\u6700\u65b0\u306eDocker\uff081.7.0)\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001Kernel-3.10\u4ee5\u4e0a\uff08\u3064\u307e\u308aRHEL7\uff09\u304c\u63a8\u5968\u3055\u308c\u3066\u3044\u307e\u3059\u3002RHEL6.6\u3067\u3082\u7a3c\u52d5\u3059\u308b\u3088\u3046\u3067\u3059\u304c\u3001\u3042\u304f\u307e\u3067\u4f8b\u5916\u63aa\u7f6e\u3067\u3042\u308a\u3001\u5e7e\u3064\u304b\u306e\u30d0\u30b0\u304c\u3042\u308b\u3068\u306e\u3053\u3068\u3002\nhttps://docs.docker.com/installation/rhel/\nhttps://docs.docker.com/installation/binaries/\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001SoftLayer\u3067RHEL7\u3092\u5c0e\u5165\u3057\u3001\u30ab\u30fc\u30cd\u30eb\u3092\u6700\u65b0\u5316\u3057\u305f\u4e0a\u3067\u3001Docker\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\nDocker\u5c0e\u5165\n# yum -y update\n\n# uname -r\n3.10.0-229.7.2.el7.x86_64\n\n# curl -O -sSL https://get.docker.com/rpm/1.7.0/centos-7/RPMS/x86_64/docker-engine-1.7.0-1.el7.centos.x86_64.rpm\n\n# yum localinstall --nogpgcheck docker-engine-1.7.0-1.el7.centos.x86_64.rpm\n\n# yum list installed | grep -i docker\ndocker-engine.x86_64             1.7.0-1.el7.centos          @/docker-engine-1.7.0-1.el7.centos.x86_64\n\n# systemctl enable docker\n# systemctl start docker\n# systemctl status docker\ndocker.service - Docker Application Container Engine\n   Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled)\n   Active: active (running) since Mon 2015-06-22 23:05:49 JST; 2min 31s ago\n     Docs: https://docs.docker.com\n Main PID: 3628 (docker)\n   CGroup: /system.slice/docker.service\n           \u2514\u25003628 /usr/bin/docker -d -H fd://\n\uff08\u9014\u4e2d\u7565\uff09\n\n# docker version\nClient version: 1.7.0\nClient API version: 1.19\nGo version (client): go1.4.2\nGit commit (client): 0baf609\nOS/Arch (client): linux/amd64\nServer version: 1.7.0\nServer API version: 1.19\nGo version (server): go1.4.2\nGit commit (server): 0baf609\nOS/Arch (server): linux/amd64\n\n# docker info\nContainers: 0\nImages: 0\nStorage Driver: devicemapper\n Pool Name: docker-202:2-1230253-pool\n Pool Blocksize: 65.54 kB\n Backing Filesystem: extfs\n Data file: /dev/loop0\n Metadata file: /dev/loop1\n Data Space Used: 307.2 MB\n Data Space Total: 107.4 GB\n Data Space Available: 23.92 GB\n Metadata Space Used: 733.2 kB\n Metadata Space Total: 2.147 GB\n Metadata Space Available: 2.147 GB\n Udev Sync Supported: true\n Deferred Removal Enabled: false\n Data loop file: /var/lib/docker/devicemapper/devicemapper/data\n Metadata loop file: /var/lib/docker/devicemapper/devicemapper/metadata\n Library Version: 1.02.93-RHEL7 (2015-01-28)\nExecution Driver: native-0.2\nLogging Driver: json-file\nKernel Version: 3.10.0-229.7.2.el7.x86_64\nOperating System: Red Hat Enterprise Linux\nCPUs: 2\nTotal Memory: 3.452 GiB\nName: myrhel07\nID: PZXN:457N:V4O4:QEFI:TERL:HW4Y:OXBI:N7ZN:TGHQ:AKLS:MLYH:XK6G\n\n\n\n\n\u3088\u304f\u4f7f\u3046\u30b3\u30de\u30f3\u30c9\u4f8b\n\u203b <\u30bf\u30b0\u540d>\u3092\u7701\u7565\u3059\u308b\u3068latest\u30bf\u30b0\u306b\u306a\u308b\n\n\u30a4\u30e1\u30fc\u30b8\u64cd\u4f5c\n\u691c\u7d22\n# docker search centos\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n# docker pull centos:latest\n\n\u78ba\u8a8d\n# docker images\n\n\u524a\u9664\n# docker rmi centos:latest\n\n\n\n\u30b3\u30f3\u30c6\u30ca\u64cd\u4f5c\n\u4f5c\u6210\u306e\u307f\uff08\u5b9f\u884c\u306f\u3057\u306a\u3044\uff09\n# docker create centos:latest\n\n\u5b9f\u884c\u306e\u307f\n# docker start b61b473470c7\n\n\u4f5c\u6210\uff0bforeground\u5b9f\u884c\u3002\n\u30b3\u30f3\u30c6\u30ca\u7d42\u4e86\u6642\u306b\u524a\u9664\u3057\u305f\u3044\u6642\u306f--rm\u3092\u4ed8\u3051\u308b\u3002\n# docker run -it centos:latest /bin/bash\n# docker run --rm -it centos:latest /bin/bash\n\n\u4f5c\u6210\uff0bbackground\u5b9f\u884c\u3002\n--name\u3067\u81ea\u7531\u306b\u30b3\u30f3\u30c6\u30ca\u540d\u304c\u5909\u66f4\u53ef\u80fd\n-p\u3067\u30dd\u30fc\u30c8\u5272\u308a\u5f53\u3066\n-v\u3067\u30db\u30b9\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30de\u30a6\u30f3\u30c8\n-e\u3067\u74b0\u5883\u5909\u6570\u6e21\u3057\n# docker run -d nginx:latest\n# docker run -d --name shinoibilayer nginx:latest\n# docker run -d -p 8080:80 -v /work/log/nginx:/var/log/nginx -e APP_HOST=`hostname` nginx:latest\n\n\u5b9f\u884c\u4e2d\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u30ed\u30b0\u30a4\u30f3\n# docker exec -it b61b473470c7 /bin/bash\n\n\u30b3\u30f3\u30c6\u30ca\u7d42\u4e86\n# docker stop b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u7d42\u4e86\uff08\u5f37\u5236\u505c\u6b62\uff09\n# docker kill b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u4e00\u89a7\u78ba\u8a8d\uff08\u73fe\u5728\u7a3c\u50cd\u4e2d\u306e\u3082\u306e\u306e\u307f\uff09\n# docker ps\n\n\u30b3\u30f3\u30c6\u30ca\u4e00\u89a7\u78ba\u8a8d\uff08\u505c\u6b62\u4e2d\u306e\u3082\u306e\u3082\u542b\u3081\u3066\u5168\u3066\uff09\n# docker ps -a\n\n\u30b3\u30f3\u30c6\u30ca\u3067\u7a3c\u50cd\u4e2d\u306e\u30d7\u30ed\u30bb\u30b9\u78ba\u8a8d\n# docker top b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u30ea\u30bd\u30fc\u30b9\u4f7f\u7528\u72b6\u6cc1\u306e\u78ba\u8a8d\n# docker stats b61b473470c7\n\n\u30db\u30b9\u30c8 ->\u3000\u30b3\u30f3\u30c6\u30ca\u3067NAT\u3055\u308c\u3066\u3044\u308b\u30dd\u30fc\u30c8\u306e\u78ba\u8a8d\n# docker port b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u524a\u9664\uff08\u505c\u6b62\u4e2d\u306e\u3082\u306e\uff09\n# docker rm b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u524a\u9664\uff08\u8d77\u52d5\u4e2d\u306e\u3082\u306e\u3092\u5f37\u5236\u505c\u6b62\u3057\u305f\u5f8c\u306b\u524a\u9664\uff09\n# docker rm -f b61b473470c7\n\n\n\n\n\u30b5\u30a4\u30ba\u306e\u78ba\u8a8d\n\u30a4\u30e1\u30fc\u30b8\u3084\u30b3\u30f3\u30c6\u30ca\u30fc\u306f/var/lib/docker\u914d\u4e0b\u306b\u4f5c\u6210\u3055\u308c\u308b\u305f\u3081\u3001\u521d\u671f\u72b6\u614b\u3067\u306e\u30b5\u30a4\u30ba\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3002\n# du -sm /var/lib/docker/\n299     /var/lib/docker/\n\n\n#Docker\u306e\u5c0e\u5165\n\u4ee5\u4e0b\u306b\u3088\u308b\u3068\u30012015\u5e746\u670829\u65e5\u73fe\u5728\u306b\u304a\u3051\u308b\u6700\u65b0\u306eDocker\uff081.7.0)\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001Kernel-3.10\u4ee5\u4e0a\uff08\u3064\u307e\u308aRHEL7\uff09\u304c\u63a8\u5968\u3055\u308c\u3066\u3044\u307e\u3059\u3002RHEL6.6\u3067\u3082\u7a3c\u52d5\u3059\u308b\u3088\u3046\u3067\u3059\u304c\u3001\u3042\u304f\u307e\u3067\u4f8b\u5916\u63aa\u7f6e\u3067\u3042\u308a\u3001\u5e7e\u3064\u304b\u306e\u30d0\u30b0\u304c\u3042\u308b\u3068\u306e\u3053\u3068\u3002\nhttps://docs.docker.com/installation/rhel/\nhttps://docs.docker.com/installation/binaries/\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001SoftLayer\u3067RHEL7\u3092\u5c0e\u5165\u3057\u3001\u30ab\u30fc\u30cd\u30eb\u3092\u6700\u65b0\u5316\u3057\u305f\u4e0a\u3067\u3001Docker\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n```text:Docker\u5c0e\u5165\n# yum -y update\n\n# uname -r\n3.10.0-229.7.2.el7.x86_64\n\n# curl -O -sSL https://get.docker.com/rpm/1.7.0/centos-7/RPMS/x86_64/docker-engine-1.7.0-1.el7.centos.x86_64.rpm\n\n# yum localinstall --nogpgcheck docker-engine-1.7.0-1.el7.centos.x86_64.rpm\n\n# yum list installed | grep -i docker\ndocker-engine.x86_64             1.7.0-1.el7.centos          @/docker-engine-1.7.0-1.el7.centos.x86_64\n\n# systemctl enable docker\n# systemctl start docker\n# systemctl status docker\ndocker.service - Docker Application Container Engine\n   Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled)\n   Active: active (running) since Mon 2015-06-22 23:05:49 JST; 2min 31s ago\n     Docs: https://docs.docker.com\n Main PID: 3628 (docker)\n   CGroup: /system.slice/docker.service\n           \u2514\u25003628 /usr/bin/docker -d -H fd://\n\uff08\u9014\u4e2d\u7565\uff09\n\n# docker version\nClient version: 1.7.0\nClient API version: 1.19\nGo version (client): go1.4.2\nGit commit (client): 0baf609\nOS/Arch (client): linux/amd64\nServer version: 1.7.0\nServer API version: 1.19\nGo version (server): go1.4.2\nGit commit (server): 0baf609\nOS/Arch (server): linux/amd64\n\n# docker info\nContainers: 0\nImages: 0\nStorage Driver: devicemapper\n Pool Name: docker-202:2-1230253-pool\n Pool Blocksize: 65.54 kB\n Backing Filesystem: extfs\n Data file: /dev/loop0\n Metadata file: /dev/loop1\n Data Space Used: 307.2 MB\n Data Space Total: 107.4 GB\n Data Space Available: 23.92 GB\n Metadata Space Used: 733.2 kB\n Metadata Space Total: 2.147 GB\n Metadata Space Available: 2.147 GB\n Udev Sync Supported: true\n Deferred Removal Enabled: false\n Data loop file: /var/lib/docker/devicemapper/devicemapper/data\n Metadata loop file: /var/lib/docker/devicemapper/devicemapper/metadata\n Library Version: 1.02.93-RHEL7 (2015-01-28)\nExecution Driver: native-0.2\nLogging Driver: json-file\nKernel Version: 3.10.0-229.7.2.el7.x86_64\nOperating System: Red Hat Enterprise Linux\nCPUs: 2\nTotal Memory: 3.452 GiB\nName: myrhel07\nID: PZXN:457N:V4O4:QEFI:TERL:HW4Y:OXBI:N7ZN:TGHQ:AKLS:MLYH:XK6G\n\n```\n#\u3088\u304f\u4f7f\u3046\u30b3\u30de\u30f3\u30c9\u4f8b\n\n\u203b <\u30bf\u30b0\u540d>\u3092\u7701\u7565\u3059\u308b\u3068latest\u30bf\u30b0\u306b\u306a\u308b\n\n```text:\u30a4\u30e1\u30fc\u30b8\u64cd\u4f5c\n\u691c\u7d22\n# docker search centos\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n# docker pull centos:latest\n\n\u78ba\u8a8d\n# docker images\n\n\u524a\u9664\n# docker rmi centos:latest\n```\n\n\n```text:\u30b3\u30f3\u30c6\u30ca\u64cd\u4f5c\n\u4f5c\u6210\u306e\u307f\uff08\u5b9f\u884c\u306f\u3057\u306a\u3044\uff09\n# docker create centos:latest\n\n\u5b9f\u884c\u306e\u307f\n# docker start b61b473470c7\n\n\u4f5c\u6210\uff0bforeground\u5b9f\u884c\u3002\n\u30b3\u30f3\u30c6\u30ca\u7d42\u4e86\u6642\u306b\u524a\u9664\u3057\u305f\u3044\u6642\u306f--rm\u3092\u4ed8\u3051\u308b\u3002\n# docker run -it centos:latest /bin/bash\n# docker run --rm -it centos:latest /bin/bash\n\n\u4f5c\u6210\uff0bbackground\u5b9f\u884c\u3002\n--name\u3067\u81ea\u7531\u306b\u30b3\u30f3\u30c6\u30ca\u540d\u304c\u5909\u66f4\u53ef\u80fd\n-p\u3067\u30dd\u30fc\u30c8\u5272\u308a\u5f53\u3066\n-v\u3067\u30db\u30b9\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30de\u30a6\u30f3\u30c8\n-e\u3067\u74b0\u5883\u5909\u6570\u6e21\u3057\n# docker run -d nginx:latest\n# docker run -d --name shinoibilayer nginx:latest\n# docker run -d -p 8080:80 -v /work/log/nginx:/var/log/nginx -e APP_HOST=`hostname` nginx:latest\n\n\u5b9f\u884c\u4e2d\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u30ed\u30b0\u30a4\u30f3\n# docker exec -it b61b473470c7 /bin/bash\n\n\u30b3\u30f3\u30c6\u30ca\u7d42\u4e86\n# docker stop b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u7d42\u4e86\uff08\u5f37\u5236\u505c\u6b62\uff09\n# docker kill b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u4e00\u89a7\u78ba\u8a8d\uff08\u73fe\u5728\u7a3c\u50cd\u4e2d\u306e\u3082\u306e\u306e\u307f\uff09\n# docker ps\n\n\u30b3\u30f3\u30c6\u30ca\u4e00\u89a7\u78ba\u8a8d\uff08\u505c\u6b62\u4e2d\u306e\u3082\u306e\u3082\u542b\u3081\u3066\u5168\u3066\uff09\n# docker ps -a\n\n\u30b3\u30f3\u30c6\u30ca\u3067\u7a3c\u50cd\u4e2d\u306e\u30d7\u30ed\u30bb\u30b9\u78ba\u8a8d\n# docker top b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u30ea\u30bd\u30fc\u30b9\u4f7f\u7528\u72b6\u6cc1\u306e\u78ba\u8a8d\n# docker stats b61b473470c7\n\n\u30db\u30b9\u30c8 ->\u3000\u30b3\u30f3\u30c6\u30ca\u3067NAT\u3055\u308c\u3066\u3044\u308b\u30dd\u30fc\u30c8\u306e\u78ba\u8a8d\n# docker port b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u524a\u9664\uff08\u505c\u6b62\u4e2d\u306e\u3082\u306e\uff09\n# docker rm b61b473470c7\n\n\u30b3\u30f3\u30c6\u30ca\u524a\u9664\uff08\u8d77\u52d5\u4e2d\u306e\u3082\u306e\u3092\u5f37\u5236\u505c\u6b62\u3057\u305f\u5f8c\u306b\u524a\u9664\uff09\n# docker rm -f b61b473470c7\n\n```\n\n```text:\u30b5\u30a4\u30ba\u306e\u78ba\u8a8d\n\u30a4\u30e1\u30fc\u30b8\u3084\u30b3\u30f3\u30c6\u30ca\u30fc\u306f/var/lib/docker\u914d\u4e0b\u306b\u4f5c\u6210\u3055\u308c\u308b\u305f\u3081\u3001\u521d\u671f\u72b6\u614b\u3067\u306e\u30b5\u30a4\u30ba\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3002\n# du -sm /var/lib/docker/\n299     /var/lib/docker/\n```\n\n\n\n\n", "tags": ["SoftLayer", "ShinobiLayer", "docker", "redhat", "CentOS"]}