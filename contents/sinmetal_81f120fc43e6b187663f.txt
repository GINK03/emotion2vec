{"context": " More than 1 year has passed since last update.\n\n\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u751f\u6210\nhttps://github.com/settings/tokens \u306e\u624b\u9806\u306b\u5f93\u3044\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u751f\u6210\u3059\u308b\n\nGithub API\u3092\u53e9\u304f\uff01\nApp Engine\u304b\u3089Http Request\u3092\u6295\u3052\u308b\u6642\u306furlfetch api\u3092\u5229\u7528\u3059\u308b\nAuthorization\u306b\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u5165\u308c\u308b\u306e\u3092\u5fd8\u308c\u305a\u306b\uff01\nMarkdown API \u3092\u53e9\u3044\u3066\u3044\u308b\u96d1\u306a\u4f8b\nimport (\n    \"bytes\"\n    \"encoding/json\"\n    \"io/ioutil\"\n    \"net/http\"\n\n    \"google.golang.org/appengine\"\n    \"google.golang.org/appengine/urlfetch\"\n)\n\ntype MarkdownPostParam struct {\n    Text    string `json:\"text\"`\n    Mode    string `json:\"mode\"`\n    Context string `json:\"context\"`\n}\n\nfunc init() {\n    http.HandleFunc(\"/\", handler)\n}\n\nfunc handler(w http.ResponseWriter, r *http.Request) {\n    ctx := appengine.NewContext(r)\n\n    param := MarkdownPostParam{\n        Text:    \"Hello Markdown,\n        Mode:    \"gfm\",\n        Context: \"github/gollum\",\n    }\n    paramBytes, err := json.Marshal(param)\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n\n    client := urlfetch.Client(ctx)\n    req, err := http.NewRequest(\"POST\", \"https://api.github.com/markdown\", bytes.NewReader(paramBytes))\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n    req.Header.Set(\"Content-Type\", \"application/json\")\n    req.Header.Set(\"Authorization\", fmt.Sprintf(\"token %s\", \"{your token}\"))\n    resp, err := client.Do(req)\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n\n        body, err := ioutil.ReadAll(resp.Body)\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n        return\n    }\n}\n\n# \u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u751f\u6210\n\nhttps://github.com/settings/tokens \u306e\u624b\u9806\u306b\u5f93\u3044\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u751f\u6210\u3059\u308b\n\n# Github API\u3092\u53e9\u304f\uff01\n\nApp Engine\u304b\u3089Http Request\u3092\u6295\u3052\u308b\u6642\u306furlfetch api\u3092\u5229\u7528\u3059\u308b\nAuthorization\u306b\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u5165\u308c\u308b\u306e\u3092\u5fd8\u308c\u305a\u306b\uff01\n\n\n[Markdown API](https://developer.github.com/v3/markdown/) \u3092\u53e9\u3044\u3066\u3044\u308b\u96d1\u306a\u4f8b\n\n```\nimport (\n\t\"bytes\"\n\t\"encoding/json\"\n\t\"io/ioutil\"\n\t\"net/http\"\n\n\t\"google.golang.org/appengine\"\n\t\"google.golang.org/appengine/urlfetch\"\n)\n\ntype MarkdownPostParam struct {\n\tText    string `json:\"text\"`\n\tMode    string `json:\"mode\"`\n\tContext string `json:\"context\"`\n}\n\nfunc init() {\n\thttp.HandleFunc(\"/\", handler)\n}\n\nfunc handler(w http.ResponseWriter, r *http.Request) {\n\tctx := appengine.NewContext(r)\n\n\tparam := MarkdownPostParam{\n\t\tText:    \"Hello Markdown,\n\t\tMode:    \"gfm\",\n\t\tContext: \"github/gollum\",\n\t}\n\tparamBytes, err := json.Marshal(param)\n\tif err != nil {\n\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)\n\t\treturn\n\t}\n\n\tclient := urlfetch.Client(ctx)\n\treq, err := http.NewRequest(\"POST\", \"https://api.github.com/markdown\", bytes.NewReader(paramBytes))\n\tif err != nil {\n\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)\n\t\treturn\n\t}\n\treq.Header.Set(\"Content-Type\", \"application/json\")\n\treq.Header.Set(\"Authorization\", fmt.Sprintf(\"token %s\", \"{your token}\"))\n\tresp, err := client.Do(req)\n\tif err != nil {\n\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)\n\t\treturn\n\t}\n\n        body, err := ioutil.ReadAll(resp.Body)\n\tif err != nil {\n\t\thttp.Error(w, err.Error(), http.StatusInternalServerError)\n\t\treturn\n\t}\n}\n```\n", "tags": ["GitHub", "GAE", "GoogleAppEngine"]}