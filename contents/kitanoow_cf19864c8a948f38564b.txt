{"tags": ["iOS", "Swift", "Xcode", "SpriteKit"], "context": " More than 1 year has passed since last update.Xcode5 + ObjC\u7248\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u307e\u3057\u305f\u3002\niOS SpriteKit\u306b\u3088\u308bAngry Birds\u306e\u3088\u3046\u306a\u30b2\u30fc\u30e0\u3092\u4f5c\u308b\u3002\nhttp://qiita.com/kitanoow/items/b60e793d0b78fd861a61\n\u4eca\u56de\u306f\u3001Xcode6 + swift\u7248\u3067\u3059\u3002\n\n\n\u6a2a\u753b\u9762\u5bfe\u5fdc\nhttp://qiita.com/kitanoow/items/4be69cf705c6aef3a6c6\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nnode\u306e\u914d\u7f6e\n\u4eca\u56de\u306f\u3001\u529b\u3092\u52a0\u3048\u308b(\u98db\u3070\u3059)\u30dc\u30fc\u30eb\u3068\u3001\u969c\u5bb3\u7269\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u30dc\u30fc\u30eb\u306b\u3064\u3044\u3066\u306f\u3001\u306f\u3058\u3081\u304b\u3089\u8868\u793a\u3055\u305b\u3066\u304a\u304d\u3001\n\u969c\u5bb3\u7269\u306b\u3064\u3044\u3066\u306f\u3001\u753b\u9762\u5916\u306b\u914d\u7f6e\u3055\u305b\u3001\u3042\u3048\u3066\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u5fc5\u8981\u306a\u72b6\u614b\u306b\u3057\u305f\u3044\u3068\n\u601d\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u4eca\u56de\u306f\u30dc\u30fc\u30eb\u306b\u5bfe\u3057\u3066\u3001\u30bb\u30f3\u30bf\u30ea\u30f3\u30b0\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308b\u4e88\u5b9a\u3067\u3059\u306e\u3067\u3001\n\u4ee5\u4e0b\u306e\u3088\u3046\u306bworld/camera\u306e\u914d\u7f6e\u3082\u884c\u3044\u307e\u3059\u3002\nworld/camera \u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002\n\nGameScene.swift\n\n    override func didMoveToView(view: SKView) {\n        /* Setup your scene here */\n\n        var size:CGSize = view.frame.size\n\n        self.backgroundColor = UIColor(red:0.15,green:0.15,blue:0.3,alpha:1.0)\n        self.anchorPoint = CGPointMake(0.5, 0.5)\n        myWorld.name = \"world\"\n        self.addChild(myWorld)\n\n        var camera:SKNode = SKNode()\n        camera.name = \"camera\";\n        myWorld.addChild(camera)\n\n\n\n\nGameScene.swift\n\n    override func didSimulatePhysics(){\n        var camera:SKNode = self.childNodeWithName(\"//camera\")!\n        self.centerOnNode(camera)\n\n    }\n    func centerOnNode(node:SKNode) {\n        if let scene:SKScene = node.scene\n        {\n            var cameraPositionInScene:CGPoint = scene.convertPoint(node.position, fromNode: node.parent!)\n            node.parent!.position = CGPointMake(node.parent!.position.x - cameraPositionInScene.x,                                       node.parent!.position.y - cameraPositionInScene.y);\n        }\n    }\n\n\n\n\n\u30dc\u30fc\u30eb\u30fb\u5730\u9762\u30fb\u969c\u5bb3\u7269\u306e\u914d\u7f6e\n\u305d\u308c\u305e\u308cdidMoveToView\u306b\u3066\u3001\n\nGameScene.swift\n\n        //\u5730\u9762\n        var ground:SKSpriteNode = SKSpriteNode(color: SKColor.brownColor(),\n            size:CGSizeMake(size.width*10,size.height))\n        ground.position = CGPointMake(0, -ground.size.height + 30);\n        ground.physicsBody = SKPhysicsBody(rectangleOfSize: ground.size)\n        ground.physicsBody!.dynamic = false;\n        myWorld.addChild(ground)\n\n        //\u30dc\u30fc\u30eb\n        ball = SKSpriteNode(imageNamed:\"ball.png\")\n        ball.position = CGPointMake(0, -20);\n        ball.name = \"ball\";\n        ball.physicsBody = SKPhysicsBody(circleOfRadius:ball.size.width/2)\n        ball.physicsBody!.dynamic = false;\n        myWorld.addChild(ball)\n\n\n\n\u306a\u304a\u3001ball.png\u306f\n\n\u3068\u3057\u307e\u3059\u3002\n\u3064\u3044\u3067\u3068\u3044\u3063\u3066\u306f\u30a2\u30ec\u3067\u3059\u304c\u3001\u4eca\u56de\u5229\u7528\u3059\u308b\u30e1\u30f3\u30d0\u5909\u6570\u3084enum\u5024\u306b\u3064\u3044\u3066\u306f\n\u5148\u306b\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\nGameScene.swift\n\nenum GameStatus:Int{\n    case kDragNone=0,  //\u521d\u671f\u5024\n    kDragStart, //Drag\u958b\u59cb\n    kDragEnd   //Drag\u7d42\u4e86\n}\n\n\n\n\nGameScene.swift\n\n\nclass GameScene: SKScene,SKPhysicsContactDelegate {\n    var ball:SKSpriteNode!;\n    var target:SKSpriteNode!;\n    var gameStatus:Int = 0;\n    var startPos:CGPoint!;\n    var sprtical_flg:Bool = false;\n    var myWorld:SKNode = SKNode()\n\n\n\n\n\u969c\u5bb3\u7269\u306b\u3064\u3044\u3066\u306fdidMoveToView\u306b\u3066\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\nGameScene.swift\n\n        //\u969c\u5bb3\u7269\n        var start_x:Int = 500;\n        var sprite:SKSpriteNode = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(15,80))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 1;\n        sprite.position = CGPointMake(CGFloat(start_x + 100),-90);\n        myWorld.addChild(sprite)\n\n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(15,80))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 1;\n        sprite.position = CGPointMake(CGFloat(start_x + 200),-90);\n        myWorld.addChild(sprite)\n\n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(150,15))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 1;\n        sprite.position = CGPointMake(CGFloat(start_x + 150),-50);\n        myWorld.addChild(sprite)\n\n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(15,50))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 0;\n        sprite.position = CGPointMake(CGFloat(start_x + 120),-20);\n        myWorld.addChild(sprite)\n\n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(15,50))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 0;\n        sprite.position = CGPointMake(CGFloat(start_x + 180),-20);\n        myWorld.addChild(sprite)\n\n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(100,15))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.position = CGPointMake(CGFloat(start_x + 150),0);\n        sprite.physicsBody!.categoryBitMask = 0x1 << 0;\n        myWorld.addChild(sprite)\n\n        target = SKSpriteNode(color: SKColor.redColor(), size: CGSizeMake(15,15))\n        target.physicsBody = SKPhysicsBody(rectangleOfSize: target.size)\n        target.physicsBody!.contactTestBitMask = 0x1 << 0;\n        target.position = CGPointMake(CGFloat(start_x + 150),-35);\n        myWorld.addChild(target)\n\n\n\n\u307e\u305f\u3001\u885d\u7a81\u3092\u691c\u51fa\u3059\u308b\u305f\u3081\u306b\u3001didMoveToView\u306b\n\nGameScene.swift\n\n        self.physicsWorld.contactDelegate = self;\n\n\n\n\u3082\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\u969c\u5bb3\u7269\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u3092\u8003\u3048\u3066\u3044\u307e\u3059\u3002\u4f4d\u7f6e\u306b\u3064\u3044\u3066\u306f\u6570\u5024\u6c7a\u3081\u6253\u3061\u3067\u7533\u3057\u8a33\u306a\u3044\u3067\u3059\u304c\u3002\u3002\n\u8d64\u8272\u304c\u885d\u7a81\u5bfe\u8c61\u7269\u3067\u3059\u3002\n\n\u307e\u305f\u3001\u4eca\u56de\u306e\u885d\u7a81\u306b\u3064\u3044\u3066\u306f\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306a\u30d4\u30f3\u30af\u3067\u56f2\u3063\u305f\u7b87\u6240\u304c\u8d64\u8272\u306eNode\u306b\u3076\u3064\u304b\u3063\u305f\u3089\n\u305d\u306e\u7b87\u6240\u306b\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3092\u8868\u793a\u3055\u305b\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001\n\u30d4\u30f3\u30af\u3067\u56f2\u3063\u305fNode\u3068\u306btarget\u306eNode(\u8d64\u8272)\u3064\u3044\u3066\u306f\u3001\ncategoryBitMask\u3092 1(0x1<<0)\u3092\n\u305d\u308c\u4ee5\u5916\u306b\u3064\u3044\u3066\u306f\ncontactTestBitMask\u3092 2(0x1<<1)\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u885d\u7a81\u3068mask\u5024\u306e\u95a2\u4fc2\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3056\u3063\u304f\u308a\u3067\u3059\u304c\u3002\n\u3010Xcode5\u3011Xcode\u306e\u4f7f\u3044\u65b9 SpriteKit \u7de8 Vol11 \u301c \u30ce\u30fc\u30c9(\u525b\u4f53)\u306e\u885d\u7a81\u3068BitMask\u306b\u3064\u3044\u3066\u301c\n\n\u30bf\u30c3\u30c1\u3092\u691c\u51fa\u3057\u3001node\u3092\u79fb\u52d5\u3055\u305b\u308b\n\u884c\u3046\u3053\u3068\u3068\u3057\u307e\u3057\u3066\u306f\n\n\u30bf\u30c3\u30c1\u958b\u59cb\u6642\u306b\u3001\u305d\u3053\u306b\u3001ball\u30ce\u30fc\u30c9\u304c\u3042\u308c\u3070\u3001\u305d\u306e\u5ea7\u6a19\u306e\u4fdd\u6301\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u5909\u66f4\u3002\n\u30bf\u30c3\u30c1\u79fb\u52d5\u6642\u306b\u306f\u3001ball\u306e\u4f4d\u7f6e\u3092\u305d\u306e\u30bf\u30c3\u30c1\u306e\u4f4d\u7f6e\u306b\u5408\u308f\u305b\u3066\u5909\u66f4\u3002\n\u30bf\u30c3\u30c1\u7d42\u4e86\u6642\u306b\u306f\u3001\u529b\u3092\u52a0\u3048\u308b\u3068\u3044\u3046\u3053\u3068\u3068\u3001\u30ba\u30fc\u30e0\u30a2\u30a6\u30c8\u306a\u3069\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\nGameScene.swift\n\n\n    override func touchesBegan(touches: NSSet, withEvent event: UIEvent) {\n        /* Called when a touch begins */\n\n        for touch: AnyObject in touches {\n\n            let location = touch.locationInNode(self)\n\n            var node:SKNode! = self.nodeAtPoint(location);\n            if(node != nil){\n                if(node.name==\"ball\"){\n                    gameStatus = GameStatus.kDragStart.rawValue;\n                    startPos = location;\n                }\n            }\n        }\n    }\n\n    override func touchesMoved(touches: NSSet, withEvent event: UIEvent) {\n        if(gameStatus == GameStatus.kDragStart.rawValue ){\n            var touch:UITouch = touches.anyObject() as UITouch;\n            var touchPos:CGPoint = touch.locationInNode(self) ;\n            ball.position = touchPos;\n        }\n\n\n    }\n    override func touchesEnded(touches: NSSet, withEvent event: UIEvent) {\n        if(gameStatus == GameStatus.kDragStart.rawValue  ){\n            gameStatus = GameStatus.kDragEnd.rawValue ;\n\n            var touch:UITouch = touches.anyObject() as UITouch;\n            var endPos:CGPoint = touch.locationInNode(self) ;\n            //x,y\u306e\u79fb\u52d5\u8ddd\u96e2\u3092\u7b97\u51fa\n            var diff:CGPoint = CGPointMake(startPos.x - endPos.x, startPos.y - endPos.y);\n            ball.physicsBody!.dynamic = true;\n            //y\u3092\u5c11\u3057\u5927\u304d\u304f\n            ball.physicsBody!.applyForce(CGVectorMake(diff.x * 20 , diff.y * 50))\n\n            var scaleOut:SKAction = SKAction.scaleTo(0.5,duration:0.2);\n            var moveUp:SKAction   = SKAction.moveByX(0,y:-100,duration:0.2);\n            var scale1:SKAction   = SKAction.group([scaleOut,moveUp]);\n            var delay:SKAction    = SKAction.waitForDuration(1.0);\n            var scaleIn:SKAction  = SKAction.scaleTo(1,duration:1.0);\n            var moveDown:SKAction = SKAction.moveByX(0,y:100,duration:1.0);\n            var scale2:SKAction   = SKAction.group([scaleIn,moveDown])\n            var moveSequence:SKAction = SKAction.sequence([scale1, delay,scale2]);\n            myWorld.runAction(moveSequence)\n\n        }\n    }\n\n\n\n\n\u3088\u308a\u4e0a\u7a7a\u306b\u3042\u304c\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001y\u5411\u304d\u306b\u5c11\u3057\u529b\u3092\u5927\u304d\u3081\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306b\u3064\u3044\u3066\u306f\n\n\u30ba\u30fc\u30e0\u30a2\u30a6\u30c8\u3068\u4e0a\u3078\u306e\u79fb\u52d5\n\u5f85\u6a5f\n\u30ba\u30fc\u30e0\u30a4\u30f3\u3068\u4e0b\u3078\u306e\u79fb\u52d5\n\u3092sequence\u3067\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n\nSKAction\u306e\u3001group\u3068sequence\u306e\u9055\u3044\u306b\u3064\u3044\u3066\u306f\n\u3053\u3061\u3089\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\n\u3010Xcode5\u3011Xcode\u306e\u4f7f\u3044\u65b9 SpriteKit \u7de8 Vol3 \u301c SKAction\u306e\u4f7f\u3044\u65b9\u305d\u306e1 \u301c\n\u305f\u3060\u3001\u3053\u306e\u307e\u307e\u3067\u306f\u30dc\u30fc\u30eb\u304c\u753b\u9762\u5916\u306b\u51fa\u305f\u5834\u5408\u306b\u8ffd\u8de1\u3067\u304d\u306a\u3044\u305f\u3081\u3001\nball\u304c\u4e2d\u5fc3\u3088\u308a\u53f3\u5074\u306b\u79fb\u52d5\u3057\u305f\u5834\u5408\u306f\u3001\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u3082\u3001ball\u306e\u4f4d\u7f6e\u306b\u306a\u308b\u3088\u3046\u306b\n\u5909\u66f4\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u4eca\u56de\u306f\u3001ball\u306ex\u3060\u3051\u3092\u5f15\u304d\u3065\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nGameScene.swift\n    override func didSimulatePhysics(){\n        var camera:SKNode = self.childNodeWithName(\"//camera\")!\n        if gameStatus == GameStatus.kDragEnd.rawValue && ball.position.x > 0 {\n            camera.position = CGPointMake(ball.position.x, camera.position.y);\n        }\n        self.centerOnNode(camera)\n    }\n\n\n\n\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u306e\u5b9f\u884c\u306b\u3064\u3044\u3066\n\u885d\u7a81\u304c\u5408\u3063\u305f\u5834\u5408\u306f\n\nGameScene.swift\n\n//\u885d\u7a81\u958b\u59cb\u6642\n    func didBeginContact(contact:SKPhysicsContact){\n\n        if !sprtical_flg {\n            sprtical_flg = true;\n            var path:String = NSBundle.mainBundle().pathForResource(\"MyParticle\", ofType: \"sks\")!\n            var spark:SKEmitterNode = NSKeyedUnarchiver.unarchiveObjectWithFile(path) as SKEmitterNode!\n            println(contact.contactPoint)\n            spark.numParticlesToEmit = 50;\n            spark.particlePosition = target.position;\n            myWorld.addChild(spark)\n            ball.removeFromParent();\n            target.removeFromParent();\n        }\n\n    }\n\n\n\u885d\u7a81\u304c\u5408\u3063\u305f\u7b87\u6240\u306b\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3092\u8868\u793a\u3055\u305b\n\u8d64\u8272\u306eNode(target)\u3092\u975e\u8868\u793a\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u306e\u5229\u7528\u306b\u3064\u3044\u3066\u306f\n\u3010Xcode5\u3011Xcode\u306e\u4f7f\u3044\u65b9 SpriteKit \u7de8 Vol3 \u301c SKAction\u306e\u4f7f\u3044\u65b9\u305d\u306e1 \u301c\n\n\u3072\u3068\u307e\u305a\u4ee5\u4e0a\u3067\u3059\u3002\n\u7d30\u304b\u3044\u90e8\u5206\u306f\u5fae\u5999\u306a\u6240\u3084\u6c7a\u3081\u6253\u3061\u306a\u6240\u304c\u3042\u3063\u3066\u6050\u7e2e\u3067\u3059\u304c\u3001\n\u4f55\u304b\u306e\u53c2\u8003\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3054\u3056\u3044\u307e\u3059\u3002\n\u3042\u3068\u4ee5\u4e0b\u306b\u30bd\u30fc\u30b9\u3092\u30a2\u30c3\u30d7\u3057\u3066\u304a\u308a\u307e\u3059\u306e\u3067\u3001\u3088\u308d\u3057\u3051\u308c\u3070\nAngryBirdsLikeGameBySwift\nXcode5 + ObjC\u7248\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u307e\u3057\u305f\u3002\n[iOS SpriteKit\u306b\u3088\u308bAngry Birds\u306e\u3088\u3046\u306a\u30b2\u30fc\u30e0\u3092\u4f5c\u308b\u3002](http://qiita.com/kitanoow/items/b60e793d0b78fd861a61 \"Angry Birds\")\n\nhttp://qiita.com/kitanoow/items/b60e793d0b78fd861a61\n\n\u4eca\u56de\u306f\u3001Xcode6 + swift\u7248\u3067\u3059\u3002\n\n<img src=\"http://oneworld2.sakura.ne.jp/blog/angrybirds.gif\">\n\n##\u6a2a\u753b\u9762\u5bfe\u5fdc\n\nhttp://qiita.com/kitanoow/items/4be69cf705c6aef3a6c6\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n##node\u306e\u914d\u7f6e\n\n\u4eca\u56de\u306f\u3001\u529b\u3092\u52a0\u3048\u308b(\u98db\u3070\u3059)\u30dc\u30fc\u30eb\u3068\u3001\u969c\u5bb3\u7269\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u30dc\u30fc\u30eb\u306b\u3064\u3044\u3066\u306f\u3001\u306f\u3058\u3081\u304b\u3089\u8868\u793a\u3055\u305b\u3066\u304a\u304d\u3001\n\u969c\u5bb3\u7269\u306b\u3064\u3044\u3066\u306f\u3001\u753b\u9762\u5916\u306b\u914d\u7f6e\u3055\u305b\u3001\u3042\u3048\u3066\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u5fc5\u8981\u306a\u72b6\u614b\u306b\u3057\u305f\u3044\u3068\n\u601d\u3044\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u4eca\u56de\u306f\u30dc\u30fc\u30eb\u306b\u5bfe\u3057\u3066\u3001\u30bb\u30f3\u30bf\u30ea\u30f3\u30b0\u51e6\u7406\u3092\u5b9f\u73fe\u3059\u308b\u4e88\u5b9a\u3067\u3059\u306e\u3067\u3001\n\u4ee5\u4e0b\u306e\u3088\u3046\u306bworld/camera\u306e\u914d\u7f6e\u3082\u884c\u3044\u307e\u3059\u3002\n\nworld/camera \u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306b\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n```swift:GameScene.swift\n\n    override func didMoveToView(view: SKView) {\n        /* Setup your scene here */\n        \n        var size:CGSize = view.frame.size\n        \n        self.backgroundColor = UIColor(red:0.15,green:0.15,blue:0.3,alpha:1.0)\n        self.anchorPoint = CGPointMake(0.5, 0.5)\n        myWorld.name = \"world\"\n        self.addChild(myWorld)\n        \n        var camera:SKNode = SKNode()\n        camera.name = \"camera\";\n        myWorld.addChild(camera)\n\n```\n\n\n```swift:GameScene.swift\n\n    override func didSimulatePhysics(){\n        var camera:SKNode = self.childNodeWithName(\"//camera\")!\n        self.centerOnNode(camera)\n        \n    }\n    func centerOnNode(node:SKNode) {\n        if let scene:SKScene = node.scene\n        {\n            var cameraPositionInScene:CGPoint = scene.convertPoint(node.position, fromNode: node.parent!)\n            node.parent!.position = CGPointMake(node.parent!.position.x - cameraPositionInScene.x,                                       node.parent!.position.y - cameraPositionInScene.y);\n        }\n    }\n\n```\n\n\n##\u30dc\u30fc\u30eb\u30fb\u5730\u9762\u30fb\u969c\u5bb3\u7269\u306e\u914d\u7f6e\n\n\n\u305d\u308c\u305e\u308cdidMoveToView\u306b\u3066\u3001\n\n```swift:GameScene.swift\n\n        //\u5730\u9762\n        var ground:SKSpriteNode = SKSpriteNode(color: SKColor.brownColor(),\n            size:CGSizeMake(size.width*10,size.height))\n        ground.position = CGPointMake(0, -ground.size.height + 30);\n        ground.physicsBody = SKPhysicsBody(rectangleOfSize: ground.size)\n        ground.physicsBody!.dynamic = false;\n        myWorld.addChild(ground)\n        \n        //\u30dc\u30fc\u30eb\n        ball = SKSpriteNode(imageNamed:\"ball.png\")\n        ball.position = CGPointMake(0, -20);\n        ball.name = \"ball\";\n        ball.physicsBody = SKPhysicsBody(circleOfRadius:ball.size.width/2)\n        ball.physicsBody!.dynamic = false;\n        myWorld.addChild(ball)\n\n```\n\n\u306a\u304a\u3001ball.png\u306f\n![ball.png](https://qiita-image-store.s3.amazonaws.com/0/35343/ff14d9c3-46f4-c6af-6ba3-e3bd45b17cda.png)\n\u3068\u3057\u307e\u3059\u3002\n\n\n\u3064\u3044\u3067\u3068\u3044\u3063\u3066\u306f\u30a2\u30ec\u3067\u3059\u304c\u3001\u4eca\u56de\u5229\u7528\u3059\u308b\u30e1\u30f3\u30d0\u5909\u6570\u3084enum\u5024\u306b\u3064\u3044\u3066\u306f\n\u5148\u306b\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n```swift:GameScene.swift\n\nenum GameStatus:Int{\n    case kDragNone=0,  //\u521d\u671f\u5024\n    kDragStart, //Drag\u958b\u59cb\n    kDragEnd   //Drag\u7d42\u4e86\n}\n\n```\n\n```swift:GameScene.swift\n\n\nclass GameScene: SKScene,SKPhysicsContactDelegate {\n    var ball:SKSpriteNode!;\n    var target:SKSpriteNode!;\n    var gameStatus:Int = 0;\n    var startPos:CGPoint!;\n    var sprtical_flg:Bool = false;\n    var myWorld:SKNode = SKNode()\n\n\n```\n\n\n\u969c\u5bb3\u7269\u306b\u3064\u3044\u3066\u306fdidMoveToView\u306b\u3066\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```swift:GameScene.swift\n\n        //\u969c\u5bb3\u7269\n        var start_x:Int = 500;\n        var sprite:SKSpriteNode = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(15,80))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 1;\n        sprite.position = CGPointMake(CGFloat(start_x + 100),-90);\n        myWorld.addChild(sprite)\n        \n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(15,80))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 1;\n        sprite.position = CGPointMake(CGFloat(start_x + 200),-90);\n        myWorld.addChild(sprite)\n        \n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(150,15))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 1;\n        sprite.position = CGPointMake(CGFloat(start_x + 150),-50);\n        myWorld.addChild(sprite)\n        \n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(15,50))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 0;\n        sprite.position = CGPointMake(CGFloat(start_x + 120),-20);\n        myWorld.addChild(sprite)\n        \n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(15,50))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.physicsBody!.categoryBitMask = 0x1 << 0;\n        sprite.position = CGPointMake(CGFloat(start_x + 180),-20);\n        myWorld.addChild(sprite)\n        \n        sprite = SKSpriteNode(color: SKColor.greenColor(), size: CGSizeMake(100,15))\n        sprite.physicsBody = SKPhysicsBody(rectangleOfSize: sprite.size)\n        sprite.position = CGPointMake(CGFloat(start_x + 150),0);\n        sprite.physicsBody!.categoryBitMask = 0x1 << 0;\n        myWorld.addChild(sprite)\n        \n        target = SKSpriteNode(color: SKColor.redColor(), size: CGSizeMake(15,15))\n        target.physicsBody = SKPhysicsBody(rectangleOfSize: target.size)\n        target.physicsBody!.contactTestBitMask = 0x1 << 0;\n        target.position = CGPointMake(CGFloat(start_x + 150),-35);\n        myWorld.addChild(target)\n\n```\n\n\u307e\u305f\u3001\u885d\u7a81\u3092\u691c\u51fa\u3059\u308b\u305f\u3081\u306b\u3001didMoveToView\u306b\n\n\n```swift:GameScene.swift\n\n        self.physicsWorld.contactDelegate = self;\n\n```\n\n\u3082\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n\n\u969c\u5bb3\u7269\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u3092\u8003\u3048\u3066\u3044\u307e\u3059\u3002\u4f4d\u7f6e\u306b\u3064\u3044\u3066\u306f\u6570\u5024\u6c7a\u3081\u6253\u3061\u3067\u7533\u3057\u8a33\u306a\u3044\u3067\u3059\u304c\u3002\u3002\n\u8d64\u8272\u304c\u885d\u7a81\u5bfe\u8c61\u7269\u3067\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-01-20 0.31.14.png](https://qiita-image-store.s3.amazonaws.com/0/35343/a9e12ee7-f51d-8ecc-2692-8c7325b7146b.png)\n\n\u307e\u305f\u3001\u4eca\u56de\u306e\u885d\u7a81\u306b\u3064\u3044\u3066\u306f\n![contact.png](https://qiita-image-store.s3.amazonaws.com/0/35343/52705568-d603-49f5-f3e4-e48e50655c0d.png)\n\u4e0a\u8a18\u306e\u3088\u3046\u306a\u30d4\u30f3\u30af\u3067\u56f2\u3063\u305f\u7b87\u6240\u304c\u8d64\u8272\u306eNode\u306b\u3076\u3064\u304b\u3063\u305f\u3089\n\u305d\u306e\u7b87\u6240\u306b\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3092\u8868\u793a\u3055\u305b\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001\n\u30d4\u30f3\u30af\u3067\u56f2\u3063\u305fNode\u3068\u306btarget\u306eNode(\u8d64\u8272)\u3064\u3044\u3066\u306f\u3001\ncategoryBitMask\u3092 1(0x1<<0)\u3092\n\u305d\u308c\u4ee5\u5916\u306b\u3064\u3044\u3066\u306f\ncontactTestBitMask\u3092 2(0x1<<1)\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u885d\u7a81\u3068mask\u5024\u306e\u95a2\u4fc2\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u3056\u3063\u304f\u308a\u3067\u3059\u304c\u3002\n\n[\u3010Xcode5\u3011Xcode\u306e\u4f7f\u3044\u65b9 SpriteKit \u7de8 Vol11 \u301c \u30ce\u30fc\u30c9(\u525b\u4f53)\u306e\u885d\u7a81\u3068BitMask\u306b\u3064\u3044\u3066\u301c](http://blog.oneworld-inc.com/entry/2014/01/06/015816 \"\u885d\u7a81\")\n\n##\u30bf\u30c3\u30c1\u3092\u691c\u51fa\u3057\u3001node\u3092\u79fb\u52d5\u3055\u305b\u308b\n\n\u884c\u3046\u3053\u3068\u3068\u3057\u307e\u3057\u3066\u306f\n\n* \u30bf\u30c3\u30c1\u958b\u59cb\u6642\u306b\u3001\u305d\u3053\u306b\u3001ball\u30ce\u30fc\u30c9\u304c\u3042\u308c\u3070\u3001\u305d\u306e\u5ea7\u6a19\u306e\u4fdd\u6301\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u5909\u66f4\u3002\n* \u30bf\u30c3\u30c1\u79fb\u52d5\u6642\u306b\u306f\u3001ball\u306e\u4f4d\u7f6e\u3092\u305d\u306e\u30bf\u30c3\u30c1\u306e\u4f4d\u7f6e\u306b\u5408\u308f\u305b\u3066\u5909\u66f4\u3002\n* \u30bf\u30c3\u30c1\u7d42\u4e86\u6642\u306b\u306f\u3001\u529b\u3092\u52a0\u3048\u308b\u3068\u3044\u3046\u3053\u3068\u3068\u3001\u30ba\u30fc\u30e0\u30a2\u30a6\u30c8\u306a\u3069\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\n```swift:GameScene.swift\n\n\n    override func touchesBegan(touches: NSSet, withEvent event: UIEvent) {\n        /* Called when a touch begins */\n        \n        for touch: AnyObject in touches {\n            \n            let location = touch.locationInNode(self)\n            \n            var node:SKNode! = self.nodeAtPoint(location);\n            if(node != nil){\n                if(node.name==\"ball\"){\n                    gameStatus = GameStatus.kDragStart.rawValue;\n                    startPos = location;\n                }\n            }\n        }\n    }\n    \n    override func touchesMoved(touches: NSSet, withEvent event: UIEvent) {\n        if(gameStatus == GameStatus.kDragStart.rawValue ){\n            var touch:UITouch = touches.anyObject() as UITouch;\n            var touchPos:CGPoint = touch.locationInNode(self) ;\n            ball.position = touchPos;\n        }\n        \n        \n    }\n    override func touchesEnded(touches: NSSet, withEvent event: UIEvent) {\n        if(gameStatus == GameStatus.kDragStart.rawValue  ){\n            gameStatus = GameStatus.kDragEnd.rawValue ;\n            \n            var touch:UITouch = touches.anyObject() as UITouch;\n            var endPos:CGPoint = touch.locationInNode(self) ;\n            //x,y\u306e\u79fb\u52d5\u8ddd\u96e2\u3092\u7b97\u51fa\n            var diff:CGPoint = CGPointMake(startPos.x - endPos.x, startPos.y - endPos.y);\n            ball.physicsBody!.dynamic = true;\n            //y\u3092\u5c11\u3057\u5927\u304d\u304f\n            ball.physicsBody!.applyForce(CGVectorMake(diff.x * 20 , diff.y * 50))\n            \n            var scaleOut:SKAction = SKAction.scaleTo(0.5,duration:0.2);\n            var moveUp:SKAction   = SKAction.moveByX(0,y:-100,duration:0.2);\n            var scale1:SKAction   = SKAction.group([scaleOut,moveUp]);\n            var delay:SKAction    = SKAction.waitForDuration(1.0);\n            var scaleIn:SKAction  = SKAction.scaleTo(1,duration:1.0);\n            var moveDown:SKAction = SKAction.moveByX(0,y:100,duration:1.0);\n            var scale2:SKAction   = SKAction.group([scaleIn,moveDown])\n            var moveSequence:SKAction = SKAction.sequence([scale1, delay,scale2]);\n            myWorld.runAction(moveSequence)\n            \n        }\n    }\n\n\n```\n\n\u3088\u308a\u4e0a\u7a7a\u306b\u3042\u304c\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b\u3001y\u5411\u304d\u306b\u5c11\u3057\u529b\u3092\u5927\u304d\u3081\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306b\u3064\u3044\u3066\u306f\n\n* \u30ba\u30fc\u30e0\u30a2\u30a6\u30c8\u3068\u4e0a\u3078\u306e\u79fb\u52d5\n* \u5f85\u6a5f\n* \u30ba\u30fc\u30e0\u30a4\u30f3\u3068\u4e0b\u3078\u306e\u79fb\u52d5\n\u3092sequence\u3067\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002\n\nSKAction\u306e\u3001group\u3068sequence\u306e\u9055\u3044\u306b\u3064\u3044\u3066\u306f\n\u3053\u3061\u3089\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\n[\u3010Xcode5\u3011Xcode\u306e\u4f7f\u3044\u65b9 SpriteKit \u7de8 Vol3 \u301c SKAction\u306e\u4f7f\u3044\u65b9\u305d\u306e1 \u301c](http://blog.oneworld-inc.com/entry/2013/12/05/201450 \"SKAction\")\n\n\u305f\u3060\u3001\u3053\u306e\u307e\u307e\u3067\u306f\u30dc\u30fc\u30eb\u304c\u753b\u9762\u5916\u306b\u51fa\u305f\u5834\u5408\u306b\u8ffd\u8de1\u3067\u304d\u306a\u3044\u305f\u3081\u3001\nball\u304c\u4e2d\u5fc3\u3088\u308a\u53f3\u5074\u306b\u79fb\u52d5\u3057\u305f\u5834\u5408\u306f\u3001\u30ab\u30e1\u30e9\u306e\u4f4d\u7f6e\u3082\u3001ball\u306e\u4f4d\u7f6e\u306b\u306a\u308b\u3088\u3046\u306b\n\u5909\u66f4\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u4eca\u56de\u306f\u3001ball\u306ex\u3060\u3051\u3092\u5f15\u304d\u3065\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```swift:GameScene.swift\n    override func didSimulatePhysics(){\n        var camera:SKNode = self.childNodeWithName(\"//camera\")!\n        if gameStatus == GameStatus.kDragEnd.rawValue && ball.position.x > 0 {\n            camera.position = CGPointMake(ball.position.x, camera.position.y);\n        }\n        self.centerOnNode(camera)\n    }\n```\n\n##\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u306e\u5b9f\u884c\u306b\u3064\u3044\u3066\n\n\u885d\u7a81\u304c\u5408\u3063\u305f\u5834\u5408\u306f\n\n```swift:GameScene.swift\n\n//\u885d\u7a81\u958b\u59cb\u6642\n    func didBeginContact(contact:SKPhysicsContact){\n        \n        if !sprtical_flg {\n            sprtical_flg = true;\n            var path:String = NSBundle.mainBundle().pathForResource(\"MyParticle\", ofType: \"sks\")!\n            var spark:SKEmitterNode = NSKeyedUnarchiver.unarchiveObjectWithFile(path) as SKEmitterNode!\n            println(contact.contactPoint)\n            spark.numParticlesToEmit = 50;\n            spark.particlePosition = target.position;\n            myWorld.addChild(spark)\n            ball.removeFromParent();\n            target.removeFromParent();\n        }\n        \n    }\n```\n\n\u885d\u7a81\u304c\u5408\u3063\u305f\u7b87\u6240\u306b\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3092\u8868\u793a\u3055\u305b\n\u8d64\u8272\u306eNode(target)\u3092\u975e\u8868\u793a\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u306e\u5229\u7528\u306b\u3064\u3044\u3066\u306f\n\n[\u3010Xcode5\u3011Xcode\u306e\u4f7f\u3044\u65b9 SpriteKit \u7de8 Vol3 \u301c SKAction\u306e\u4f7f\u3044\u65b9\u305d\u306e1 \u301c](http://blog.oneworld-inc.com/entry/2014/01/06/211607 \"\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\")\n\n<img src=\"http://oneworld2.sakura.ne.jp/blog/angrybirds.gif\">\n\n\u3072\u3068\u307e\u305a\u4ee5\u4e0a\u3067\u3059\u3002\n\n\u7d30\u304b\u3044\u90e8\u5206\u306f\u5fae\u5999\u306a\u6240\u3084\u6c7a\u3081\u6253\u3061\u306a\u6240\u304c\u3042\u3063\u3066\u6050\u7e2e\u3067\u3059\u304c\u3001\n\u4f55\u304b\u306e\u53c2\u8003\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3054\u3056\u3044\u307e\u3059\u3002\n\n\u3042\u3068\u4ee5\u4e0b\u306b\u30bd\u30fc\u30b9\u3092\u30a2\u30c3\u30d7\u3057\u3066\u304a\u308a\u307e\u3059\u306e\u3067\u3001\u3088\u308d\u3057\u3051\u308c\u3070\n[AngryBirdsLikeGameBySwift](https://github.com/kitanoow/AngryBirdsLikeGameBySwift\"AngryBirdsLikeGameBySwift\")\n"}