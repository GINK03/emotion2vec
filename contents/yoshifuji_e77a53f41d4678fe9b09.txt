{"tags": ["AWS", "aws-cli", "EC2"], "context": " More than 1 year has passed since last update.\n\n\u74b0\u5883\n\nAWS ClassicEC2\npython 2.6\n\n\u203b 2.7\u3082\u3057\u304f\u306f3\u7cfb\u3092\u63a8\u5968\n\n\n\u30e2\u30b8\u30e5\u30fc\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb pip\n\n\npython 2.6\u7cfb\u3067\u3042\u308c\u3070\nhttp://tdoc.info/blog/2014/01/15/pip.html\n\nyum install python-pip\n\n\n\npython 2.7\u7cfb\u3067\u3042\u308c\u3070\n\ncurl \"https://bootstrap.pypa.io/get-pip.py\" -o \"get-pip.py\"\nsudo python get-pip.py\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb awscli\nhttp://docs.aws.amazon.com/ja_jp/kinesis/latest/dev/kinesis-tutorial-cli-installation.html\npip install awscli\n\n\u203b aws\u30b3\u30de\u30f3\u30c9\u306e\u30d1\u30b9\u304c\u901a\u3063\u3066\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u901a\u3059\nvi ~/.bash_profile\n\n\u4e0b\u8a18\u3092\u8ffd\u8a18\nexport PATH=$PATH:/usr/local/bin\n\n\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\nsource .bash_profile\n\n\n\u74b0\u5883\u8a2d\u5b9a\n\naws\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u524d\u306eIAM\u5024\u8a2d\u5b9a\naws configure\n\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u4f5c\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u8d77\u52d5\u6642\u8a2d\u5b9a\n/etc/init.d \u306b\u767b\u9332\u3059\u308b\u65b9\u91dd\nvi /etc/init.d/set-eip\n\n#!/bin/sh\n# chkconfig: 2345 99 10\n# description: SET EIP\n\nINSTANCE_ID=`/usr/bin/curl -s http://169.254.169.254/latest/meta-data/instance-id`\nEIP=54.248.xxx.xxx\n\ncase \"$1\" in\n start)\n       echo \"start!\" > /var/log/set-eip.log\n       /usr/local/bin/aws ec2 associate-address --instance-id ${INSTANCE_ID} --public-ip ${EIP}\n       ;;\n stop)\n       echo \"stop!\" > /var/log/set-eip.log\n       ;;\n  *) break ;;\nesac\n\n\u767b\u9332\nchkconfig --add /etc/init.d/set-eip\nchkconfig set-eip on\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u518d\u8d77\u52d5\u3002\n\u518d\u8d77\u52d5\u5f8c\u3001\u8a2d\u5b9a\u304c\u53cd\u6620\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\n\n\u53c2\u7167\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u518d\u8d77\u52d5\u5f8c\u306eEIP\u81ea\u52d5\u5272\u5f53\u3066\nhttp://dev.classmethod.jp/cloud/ec2shell/\nhttps://dogmap.jp/2012/12/20/aws-advent-calendar-2012-day-20/\n# \u74b0\u5883\n * AWS ClassicEC2\n * python 2.6\n<br/>\n\u203b 2.7\u3082\u3057\u304f\u306f3\u7cfb\u3092\u63a8\u5968\n\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb pip\n\n- python 2.6\u7cfb\u3067\u3042\u308c\u3070\nhttp://tdoc.info/blog/2014/01/15/pip.html\n<pre>\nyum install python-pip\n</pre>\n\n- python 2.7\u7cfb\u3067\u3042\u308c\u3070\n<pre>\ncurl \"https://bootstrap.pypa.io/get-pip.py\" -o \"get-pip.py\"\nsudo python get-pip.py\n</pre>\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb awscli\nhttp://docs.aws.amazon.com/ja_jp/kinesis/latest/dev/kinesis-tutorial-cli-installation.html\n<pre>\npip install awscli\n</pre>\n\n\u203b aws\u30b3\u30de\u30f3\u30c9\u306e\u30d1\u30b9\u304c\u901a\u3063\u3066\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u901a\u3059\n<pre>\nvi ~/.bash_profile\n\n\u4e0b\u8a18\u3092\u8ffd\u8a18\nexport PATH=$PATH:/usr/local/bin\n\n\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u307f\nsource .bash_profile\n</pre>\n\n\n# \u74b0\u5883\u8a2d\u5b9a\n\n## aws\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u524d\u306eIAM\u5024\u8a2d\u5b9a\n<pre>\naws configure\n</pre>\n\n## \u30b9\u30af\u30ea\u30d7\u30c8\u4f5c\u6210\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u8d77\u52d5\u6642\u8a2d\u5b9a\n\n/etc/init.d \u306b\u767b\u9332\u3059\u308b\u65b9\u91dd\n<pre>\nvi /etc/init.d/set-eip\n</pre>\n\n<pre>\n#!/bin/sh\n# chkconfig: 2345 99 10\n# description: SET EIP\n\nINSTANCE_ID=`/usr/bin/curl -s http://169.254.169.254/latest/meta-data/instance-id`\nEIP=54.248.xxx.xxx\n\ncase \"$1\" in\n start)\n       echo \"start!\" > /var/log/set-eip.log\n       /usr/local/bin/aws ec2 associate-address --instance-id ${INSTANCE_ID} --public-ip ${EIP}\n       ;;\n stop)\n       echo \"stop!\" > /var/log/set-eip.log\n       ;;\n  *) break ;;\nesac\n</pre>\n\n\u767b\u9332\n<pre>\nchkconfig --add /etc/init.d/set-eip\nchkconfig set-eip on\n</pre>\n\n# \u52d5\u4f5c\u78ba\u8a8d\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u518d\u8d77\u52d5\u3002\n\u518d\u8d77\u52d5\u5f8c\u3001\u8a2d\u5b9a\u304c\u53cd\u6620\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\n\n## \u53c2\u7167\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u518d\u8d77\u52d5\u5f8c\u306eEIP\u81ea\u52d5\u5272\u5f53\u3066\nhttp://dev.classmethod.jp/cloud/ec2shell/\nhttps://dogmap.jp/2012/12/20/aws-advent-calendar-2012-day-20/\n"}