{"context": " More than 1 year has passed since last update.\u554f\u984c\u306f\u3053\u3061\u3089\u306e\u30ea\u30f3\u30af\u304b\u3089\nhttp://nabetani.sakura.ne.jp/hena/ord17foldcut/\nclass Paper\n  def initialize\n    @tl = [:s]\n    @tr = [:s]\n    @bl = [:s]\n    @br = [:s]\n  end\n\n  def r\n    @tl += @tr\n    @bl += @br\n    @tr = @tr.map{|e| {:s=>:dv,:dv=>[:dv,:dv],:dh=>:f,:f=>[:f,:f]}[e]}.flatten\n    @br = @br.map{|e| {:s=>:dv,:dv=>[:dv,:dv],:dh=>:f,:f=>[:f,:f]}[e]}.flatten\n  end\n\n  def l\n    @tr += @tl\n    @br += @bl\n    @tl = @tl.map{|e| {:s=>:dv,:dv=>[:dv,:dv],:dh=>:f,:f=>[:f,:f]}[e]}.flatten\n    @bl = @bl.map{|e| {:s=>:dv,:dv=>[:dv,:dv],:dh=>:f,:f=>[:f,:f]}[e]}.flatten\n  end\n\n  def t\n    @bl += @tl\n    @br += @tr\n    @tl = @tl.map{|e| {:s=>:dh,:dh=>[:dh,:dh],:dv=>:f,:f=>[:f,:f]}[e]}.flatten\n    @tr = @tr.map{|e| {:s=>:dh,:dh=>[:dh,:dh],:dv=>:f,:f=>[:f,:f]}[e]}.flatten\n  end\n\n  def b\n    @tl += @bl\n    @tr += @br\n    @bl = @bl.map{|e| {:s=>:dh,:dh=>[:dh,:dh],:dv=>:f,:f=>[:f,:f]}[e]}.flatten\n    @br = @br.map{|e| {:s=>:dh,:dh=>[:dh,:dh],:dv=>:f,:f=>[:f,:f]}[e]}.flatten\n  end\n\n  def tl\n    @tl.count(:f)\n  end\n\n  def bl\n    @bl.count(:f)\n  end\n\n  def tr\n    @tr.count(:f)\n  end\n\n  def br\n    @br.count(:f)\n  end\nend\n\ndef solve(q)\n  fold, cut = q.split('-')\n  paper = Paper.new\n  fold.chars.each{|e|\n    eval('paper.'+e.downcase)\n  }\n  eval('paper.'+cut)\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\"\n  print ans\n  puts ans == a.to_i ? 'o' : 'x'\nend\n__END__\n0   RRTRB-bl    6\n1   R-tr    0\n2   L-br    0\n3   T-tl    0\n4   B-tl    0\n5   BL-br   0\n6   LB-tl   0\n7   RL-tl   0\n8   BL-tl   0\n9   TL-bl   0\n10  RT-tr   1\n11  TRB-tl  0\n12  TRL-bl  0\n13  TRB-br  2\n14  LLB-bl  2\n15  RTL-tr  1\n16  LBB-tr  0\n17  TLL-tl  2\n18  RLRR-tr 0\n19  BBTL-tl 4\n20  TBBT-tr 0\n21  LLBR-tl 0\n22  LBRT-tl 2\n23  RLBL-bl 4\n24  BRRL-br 3\n25  TBBTL-tl    8\n26  TLBBT-br    0\n27  LRBLL-br    7\n28  TRRTT-br    6\n29  BBBLB-br    0\n30  RTTTR-tl    4\n31  BBLLL-br    6\n32  RRLLTR-tr   16\n33  TTRBLB-br   8\n34  LRBRBR-bl   14\n35  RBBLRL-tl   8\n36  RTRLTB-tl   12\n37  LBLRTR-tl   14\n38  RRLTRL-tl   16\n39  TBLTRR-br   12\n40  TTTRLTT-bl  30\n41  TBBRTBL-tr  15\n42  TRTRTLL-tr  28\n43  TLLRTRB-tr  24\n44  RLLBRLB-tr  15\n45  LTLRRBT-tr  32\n46  RBBRBLT-br  21\n47  LLRLRLR-tr  0\n\n\u554f\u984c\u306f\u3053\u3061\u3089\u306e\u30ea\u30f3\u30af\u304b\u3089\nhttp://nabetani.sakura.ne.jp/hena/ord17foldcut/\n\n```rb\nclass Paper\n  def initialize\n    @tl = [:s]\n    @tr = [:s]\n    @bl = [:s]\n    @br = [:s]\n  end\n\n  def r\n    @tl += @tr\n    @bl += @br\n    @tr = @tr.map{|e| {:s=>:dv,:dv=>[:dv,:dv],:dh=>:f,:f=>[:f,:f]}[e]}.flatten\n    @br = @br.map{|e| {:s=>:dv,:dv=>[:dv,:dv],:dh=>:f,:f=>[:f,:f]}[e]}.flatten\n  end\n\n  def l\n    @tr += @tl\n    @br += @bl\n    @tl = @tl.map{|e| {:s=>:dv,:dv=>[:dv,:dv],:dh=>:f,:f=>[:f,:f]}[e]}.flatten\n    @bl = @bl.map{|e| {:s=>:dv,:dv=>[:dv,:dv],:dh=>:f,:f=>[:f,:f]}[e]}.flatten\n  end\n\n  def t\n    @bl += @tl\n    @br += @tr\n    @tl = @tl.map{|e| {:s=>:dh,:dh=>[:dh,:dh],:dv=>:f,:f=>[:f,:f]}[e]}.flatten\n    @tr = @tr.map{|e| {:s=>:dh,:dh=>[:dh,:dh],:dv=>:f,:f=>[:f,:f]}[e]}.flatten\n  end\n\n  def b\n    @tl += @bl\n    @tr += @br\n    @bl = @bl.map{|e| {:s=>:dh,:dh=>[:dh,:dh],:dv=>:f,:f=>[:f,:f]}[e]}.flatten\n    @br = @br.map{|e| {:s=>:dh,:dh=>[:dh,:dh],:dv=>:f,:f=>[:f,:f]}[e]}.flatten\n  end\n\n  def tl\n    @tl.count(:f)\n  end\n\n  def bl\n    @bl.count(:f)\n  end\n\n  def tr\n    @tr.count(:f)\n  end\n\n  def br\n    @br.count(:f)\n  end\nend\n\ndef solve(q)\n  fold, cut = q.split('-')\n  paper = Paper.new\n  fold.chars.each{|e|\n    eval('paper.'+e.downcase)\n  }\n  eval('paper.'+cut)\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\"\n  print ans\n  puts ans == a.to_i ? 'o' : 'x'\nend\n__END__\n0\tRRTRB-bl\t6\n1\tR-tr\t0\n2\tL-br\t0\n3\tT-tl\t0\n4\tB-tl\t0\n5\tBL-br\t0\n6\tLB-tl\t0\n7\tRL-tl\t0\n8\tBL-tl\t0\n9\tTL-bl\t0\n10\tRT-tr\t1\n11\tTRB-tl\t0\n12\tTRL-bl\t0\n13\tTRB-br\t2\n14\tLLB-bl\t2\n15\tRTL-tr\t1\n16\tLBB-tr\t0\n17\tTLL-tl\t2\n18\tRLRR-tr\t0\n19\tBBTL-tl\t4\n20\tTBBT-tr\t0\n21\tLLBR-tl\t0\n22\tLBRT-tl\t2\n23\tRLBL-bl\t4\n24\tBRRL-br\t3\n25\tTBBTL-tl\t8\n26\tTLBBT-br\t0\n27\tLRBLL-br\t7\n28\tTRRTT-br\t6\n29\tBBBLB-br\t0\n30\tRTTTR-tl\t4\n31\tBBLLL-br\t6\n32\tRRLLTR-tr\t16\n33\tTTRBLB-br\t8\n34\tLRBRBR-bl\t14\n35\tRBBLRL-tl\t8\n36\tRTRLTB-tl\t12\n37\tLBLRTR-tl\t14\n38\tRRLTRL-tl\t16\n39\tTBLTRR-br\t12\n40\tTTTRLTT-bl\t30\n41\tTBBRTBL-tr\t15\n42\tTRTRTLL-tr\t28\n43\tTLLRTRB-tr\t24\n44\tRLLBRLB-tr\t15\n45\tLTLRRBT-tr\t32\n46\tRBBRBLT-br\t21\n47\tLLRLRLR-tr\t0\n```", "tags": ["Ruby", "\u3069\u3046\u66f8\u304f", "yhpg"]}