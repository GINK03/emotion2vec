{"context": "\n\n\u4f5c\u308a\u305f\u3044\u3082\u306e\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u79d2\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u3068\u9023\u52d5\u3057\u3066\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306e\u9577\u3055\u3001\u30ab\u30e9\u30fc\u3092\u5909\u66f4\u3055\u305b\u3066\u307f\u308b\u3002\n\n\n\u4ed5\u69d8\n\n\u79d2\u6570\u8868\u793a\u306f\uff11\u79d2\u6bce\u306b\u66f4\u65b0\n\u79d2\u6570\u306b\u5fdc\u3058\u3066\u30d0\u30fc\u306e\u9577\u3055\u3082\u5c0f\u3055\u304f\u306a\u308b\n\u9577\u3055\u306b\u5fdc\u3058\u3066\u30d0\u30fc\u306e\u8272\u3092\u5909\u3048\u308b\n\n\n\u59cb\u3081\u306f .progress-bar-info\n\n\u534a\u5206\u307e\u3067\u904e\u304e\u305f\u3089 .progress-bar-warning\n\n\uff15\u5206\u306e\uff11\u307e\u3067\u904e\u304e\u305f\u3089 .progress-bar-danger\n\n\n\n\n\n\u4f5c\u3063\u3066\u307f\u305f\n\u3053\u3053 \u306b\u3068\u308a\u3042\u3048\u305a\u52d5\u304f\u3082\u306e\u3092\u7f6e\u3044\u3066\u307e\u3059\u3002\njQuery \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u4f5c\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308c\u3070 <div id=\"hoge\"> \u4ee5\u4e0b\u306b\u8981\u7d20\u3092\u751f\u6210\u3057\u3066\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\n\u547c\u3073\u51fa\u3057\u90e8\u5206\n$('#hoge').timer(10);\n\n\n\n\u672c\u4f53\n (function($) {\n  $.fn.timer = function(totalTime) {\n    // \u65e2\u306b\u8d77\u52d5\u6e08\u306e\u3082\u306e\u304c\u3042\u308b\u5834\u5408\u306f\u524a\u9664\u3057\u3066\u304a\u304f\n    clearTimeout(this.data('id_of_settimeout'));\n    this.empty();\n\n    // \u30bf\u30fc\u30b2\u30c3\u30c8\u5185\u306b\u8981\u7d20\u3092\u4f5c\u6210\n    this.append('<h4><span></span> seconds left.</h4>');\n    this.append('<div class=\"progress\"></div>');\n    this.children('.progress').append('<div class=\"progress-bar progress-bar-info\"></div>');\n    this.find('.progress-bar').css({\n        cssText: '-webkit-transition: none !important; transition: none !important;',\n        width: '100%'\n    });\n\n    var countdown = (function(timeLeft) {\n      var $progressBar = this.find('div.progress-bar');\n      var $header = this.children('h4');\n\n      if (timeLeft <= 0) {\n        $header.empty().text('Over the time limit!').addClass('text-danger');\n        return;\n      }\n\n      $header.children('span').text(timeLeft);\n\n      var width = (timeLeft - 1) * (100/totalTime); // unit in '%'\n      if (width < 20) { // less than 20 %\n        $progressBar.removeClass();\n        $progressBar.addClass('progress-bar progress-bar-danger');\n      } else if (width < 50) { // less than 50 % (and more than 20 %)\n        $progressBar.removeClass();\n        $progressBar.addClass('progress-bar progress-bar-warning');\n      }\n\n      $progressBar.animate({\n        width:  width + '%'\n      }, 1000, 'linear');\n\n      var id = setTimeout((function() {\n        countdown(timeLeft - 1);\n      }), 1000);\n      this.data(\"id_of_settimeout\", id);\n    }).bind(this);\n\n    countdown(totalTime);\n  };\n})(jQuery);\n\n\n\n\u8a73\u7d30\n\u30cf\u30de\u3063\u305f\u30dd\u30a4\u30f3\u30c8\u7b49\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\nJavaScript \u3067\u306e\u4e00\u5b9a\u9593\u9694\u3067\u7e70\u308a\u8fd4\u3057\u51e6\u7406\u306e\u57fa\u672c\u5f62\n\u95a2\u6570\u306e\u6700\u5f8c\u3067\u540c\u3058\u95a2\u6570\u3092 setTimeout \u3092\u4f7f\u3063\u3066\u6642\u9593\u5dee\u3067\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\nvar time = 10;\nvar countdown = function() {\n  console.log(time);\n\n  if (time === 0) {\n    return;\n  }\n\n  time--;\n\n  setTimeout(countdown, 1000); // \u7b2c\u4e8c\u5f15\u6570\u306b\u6307\u5b9a\u3057\u305f\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\u7d4c\u3063\u3066\u304b\u3089 countdown \u3092\u5b9f\u884c\n}\n\n//\u547c\u3073\u51fa\u3057\ncountdown();\n\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u3092\u4f7f\u308f\u306a\u3044\u5f62\u306b\ntime \u306e\u30b9\u30b3\u30fc\u30d7\u304c\u95a2\u6570\u306e\u5916\u306b\u3042\u308b\u3068\u6c17\u6301\u3061\u60aa\u3044\u306e\u3067\u4fee\u6b63\u3002\n\u5f15\u6570\u306b\u6642\u9593\u3092\u6e21\u3057\u3066 setTimeout \u306b\u306f\u30c7\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u305f\u5024\u3092\u5f15\u6570\u306b\u6e21\u3059\u3088\u3046\u306b\u3002\nvar countdown = function(time) {\n  console.log(time);\n\n  if (time === 0) {\n    return;\n  }\n\n  // setTimeout \u3067\u5b9f\u884c\u3059\u308b\u95a2\u6570\u306b\u76f4\u63a5\u5f15\u6570\u3092\u6e21\u3059\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3089\u3057\u3044\u306e\u3067\n  // \u7121\u540d\u95a2\u6570\u3068\u3057\u3001\u305d\u306e\u4e2d\u3067 time - 1 \u3092\u6e21\u3059\n  setTimeout(function() {countdown(time - 1)}, 1000);\n}\n\n// \u547c\u3073\u51fa\u3057\ncountdown(10);\n\n\n\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306e\u9577\u3055\u3092\u5909\u3048\u308b\n\n\u30bf\u30a4\u30de\u30fc\u90e8\u5206\u306eHTML\n<div id=\"timer\">\n  <h4><span>10</span> seconds left.</h4>\n  <div class=\"progress\">\n    <div class=\"progress-bar progress-bar-info\" style=\"width: 100%;\"></div>\n  </div>\n</div>\n\n\n\n\u57fa\u672c\u5f62\nvar totalTime = 10;\n\nvar countdown = function(timeLeft) {\n  if (timeLeft <= 0) {\n    // \u7d42\u4e86\u6642\u306e\u51e6\u7406\n    return;\n  }\n\n  // \u6b8b\u308a\u6642\u9593\u306e\u8868\u793a\n  $('#timer > h4 span').text(timeLeft);\n\n  // \u30d0\u30fc\u306e\u9577\u3055\uff08width\uff09\u3092\u5909\u66f4\n  var width = (timeLeft - 1) * (100/totalTime);\n  $('#timer div.progress-bar').animate({\n    width:  width + '%'\n  }, 1000, 'linear'); // \uff11\u79d2\u9593\u639b\u3051\u3066\u7dda\u5f62\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n\n  setTimeout((function() {countdown(timeLeft - 1)}), 1000);\n}\n\n\n\u6642\u9593\u8868\u793a\u3068\u30d0\u30fc\u5e45\u306e\u8a08\u7b97\u3067\uff11\u79d2\u5206\u5dee\u304c\u3042\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u306d\u3002\n\n\u30ed\u30fc\u30ab\u30eb\u306b\u5b9a\u7fa9\u3057\u305f\u95a2\u6570\u5185\u3067\u306e this \u306e\u6271\u3044\n\nwindow\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6307\u3059\n(function($) {\n  $.fn.hoge = function() {\n    console.log(this); // A\n\n    var innerFunc = function() {\n      console.log(this); // B \u3053\u3053\u3067 $('div') \u3092\u4f7f\u3044\u305f\u3044\u3051\u308c\u3069\u3053\u306e this \u306f window \u3092\u53c2\u7167\u3057\u3066\u3057\u307e\u3046\n    }\n\n    innerFunc();\n  }\n})(jQuery);\n\n$('div').hoge();\n\n\n\u3053\u306e\u3088\u3046\u306b\u547c\u3073\u51fa\u3059\u3068 A, B \u305d\u308c\u305e\u308c\u306e\u51fa\u529b\u306f\u300c\u547c\u3073\u51fa\u3057\u5143\u306e jQuery \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d\u3001\u300cwindow \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d\u306b\u306a\u308b\u3002\n\u5185\u90e8\u3067\u5b9a\u7fa9\u3057\u305f\u95a2\u6570\u5185\u3067\u3082\u5143\u306e jQuery \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3044\u305f\u3044\u304c\u3001\u308f\u3056\u308f\u3056\u5f15\u6570\u306b\u6e21\u3059\u306e\u3082\u30b9\u30de\u30fc\u30c8\u3067\u306a\u3044\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u3066\u3084\u308b\u3068\u95a2\u6570\u5185\u3067\u306e this \u306e\u6307\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u56fa\u5b9a\u3067\u304d\u307e\u3059\u3002\n\njQuery\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6307\u3059\u3088\u3046\u306b\u5909\u66f4\n(function($) {\n  $.fn.hoge = function() {\n    console.log(this); // A\n    var innerFunc = function() {\n      console.log(this); // B\n    }.bind(this); // \u3053\u3053\u3067\u306e this \u306f\u547c\u3073\u51fa\u3057\u5143\u306e jQuery \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3002\u3053\u308c\u3092\u95a2\u9023\u4ed8\u3051\u308b\n\n    innerFunc();\n  }\n})(jQuery);\n\n$('div').hoge();\n\n\n#\u4f5c\u308a\u305f\u3044\u3082\u306e\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u79d2\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u3068\u9023\u52d5\u3057\u3066\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306e\u9577\u3055\u3001\u30ab\u30e9\u30fc\u3092\u5909\u66f4\u3055\u305b\u3066\u307f\u308b\u3002\n\n<img width=\"515\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-10 17.18.57.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/86330/3089d0c1-0272-8934-4ece-fbd4456e58b3.png\">\n\n\n## \u4ed5\u69d8\n\n- \u79d2\u6570\u8868\u793a\u306f\uff11\u79d2\u6bce\u306b\u66f4\u65b0\n- \u79d2\u6570\u306b\u5fdc\u3058\u3066\u30d0\u30fc\u306e\u9577\u3055\u3082\u5c0f\u3055\u304f\u306a\u308b\n- \u9577\u3055\u306b\u5fdc\u3058\u3066\u30d0\u30fc\u306e\u8272\u3092\u5909\u3048\u308b\n    - \u59cb\u3081\u306f `.progress-bar-info`\n    - \u534a\u5206\u307e\u3067\u904e\u304e\u305f\u3089 `.progress-bar-warning`\n    - \uff15\u5206\u306e\uff11\u307e\u3067\u904e\u304e\u305f\u3089 `.progress-bar-danger`\n\n# \u4f5c\u3063\u3066\u307f\u305f\n[\u3053\u3053](http://codepen.io/ksugimori/pen/ORvgVq) \u306b\u3068\u308a\u3042\u3048\u305a\u52d5\u304f\u3082\u306e\u3092\u7f6e\u3044\u3066\u307e\u3059\u3002\n\njQuery \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u4f5c\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308c\u3070 `<div id=\"hoge\">` \u4ee5\u4e0b\u306b\u8981\u7d20\u3092\u751f\u6210\u3057\u3066\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\n```js:\u547c\u3073\u51fa\u3057\u90e8\u5206\n$('#hoge').timer(10);\n```\n\n```js:\u672c\u4f53\n (function($) {\n  $.fn.timer = function(totalTime) {\n    // \u65e2\u306b\u8d77\u52d5\u6e08\u306e\u3082\u306e\u304c\u3042\u308b\u5834\u5408\u306f\u524a\u9664\u3057\u3066\u304a\u304f\n    clearTimeout(this.data('id_of_settimeout'));\n    this.empty();\n    \n    // \u30bf\u30fc\u30b2\u30c3\u30c8\u5185\u306b\u8981\u7d20\u3092\u4f5c\u6210\n    this.append('<h4><span></span> seconds left.</h4>');\n    this.append('<div class=\"progress\"></div>');\n    this.children('.progress').append('<div class=\"progress-bar progress-bar-info\"></div>');\n    this.find('.progress-bar').css({\n        cssText: '-webkit-transition: none !important; transition: none !important;',\n        width: '100%'\n    });\n\n    var countdown = (function(timeLeft) {\n      var $progressBar = this.find('div.progress-bar');\n      var $header = this.children('h4');\n\n      if (timeLeft <= 0) {\n        $header.empty().text('Over the time limit!').addClass('text-danger');\n        return;\n      }\n\n      $header.children('span').text(timeLeft);\n\n      var width = (timeLeft - 1) * (100/totalTime); // unit in '%'\n      if (width < 20) { // less than 20 %\n        $progressBar.removeClass();\n        $progressBar.addClass('progress-bar progress-bar-danger');\n      } else if (width < 50) { // less than 50 % (and more than 20 %)\n        $progressBar.removeClass();\n        $progressBar.addClass('progress-bar progress-bar-warning');\n      }\n\n      $progressBar.animate({\n        width:  width + '%'\n      }, 1000, 'linear');\n\n      var id = setTimeout((function() {\n        countdown(timeLeft - 1);\n      }), 1000);\n      this.data(\"id_of_settimeout\", id);\n    }).bind(this);\n\n    countdown(totalTime);\n  };\n})(jQuery);\n```\n\n# \u8a73\u7d30\n\n\u30cf\u30de\u3063\u305f\u30dd\u30a4\u30f3\u30c8\u7b49\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\n### JavaScript \u3067\u306e\u4e00\u5b9a\u9593\u9694\u3067\u7e70\u308a\u8fd4\u3057\u51e6\u7406\u306e\u57fa\u672c\u5f62\n\u95a2\u6570\u306e\u6700\u5f8c\u3067\u540c\u3058\u95a2\u6570\u3092 `setTimeout` \u3092\u4f7f\u3063\u3066\u6642\u9593\u5dee\u3067\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n```js\nvar time = 10;\nvar countdown = function() {\n  console.log(time);\n\n  if (time === 0) {\n    return;\n  }\n\n  time--;\n\n  setTimeout(countdown, 1000); // \u7b2c\u4e8c\u5f15\u6570\u306b\u6307\u5b9a\u3057\u305f\u6642\u9593\uff08\u30df\u30ea\u79d2\uff09\u7d4c\u3063\u3066\u304b\u3089 countdown \u3092\u5b9f\u884c\n}\n\n//\u547c\u3073\u51fa\u3057\ncountdown();\n```\n\n### \u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u3092\u4f7f\u308f\u306a\u3044\u5f62\u306b\n`time` \u306e\u30b9\u30b3\u30fc\u30d7\u304c\u95a2\u6570\u306e\u5916\u306b\u3042\u308b\u3068\u6c17\u6301\u3061\u60aa\u3044\u306e\u3067\u4fee\u6b63\u3002\n\u5f15\u6570\u306b\u6642\u9593\u3092\u6e21\u3057\u3066 `setTimeout` \u306b\u306f\u30c7\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u305f\u5024\u3092\u5f15\u6570\u306b\u6e21\u3059\u3088\u3046\u306b\u3002\n\n```js\nvar countdown = function(time) {\n  console.log(time);\n\n  if (time === 0) {\n    return;\n  }\n\n  // setTimeout \u3067\u5b9f\u884c\u3059\u308b\u95a2\u6570\u306b\u76f4\u63a5\u5f15\u6570\u3092\u6e21\u3059\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3089\u3057\u3044\u306e\u3067\n  // \u7121\u540d\u95a2\u6570\u3068\u3057\u3001\u305d\u306e\u4e2d\u3067 time - 1 \u3092\u6e21\u3059\n  setTimeout(function() {countdown(time - 1)}, 1000);\n}\n\n// \u547c\u3073\u51fa\u3057\ncountdown(10);\n```\n\n### \u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306e\u9577\u3055\u3092\u5909\u3048\u308b\n\n```html:\u30bf\u30a4\u30de\u30fc\u90e8\u5206\u306eHTML\n<div id=\"timer\">\n  <h4><span>10</span> seconds left.</h4>\n  <div class=\"progress\">\n    <div class=\"progress-bar progress-bar-info\" style=\"width: 100%;\"></div>\n  </div>\n</div>\n```\n\n```js:\u57fa\u672c\u5f62\nvar totalTime = 10;\n\nvar countdown = function(timeLeft) {\n  if (timeLeft <= 0) {\n    // \u7d42\u4e86\u6642\u306e\u51e6\u7406\n    return;\n  }\n\n  // \u6b8b\u308a\u6642\u9593\u306e\u8868\u793a\n  $('#timer > h4 span').text(timeLeft);\n\n  // \u30d0\u30fc\u306e\u9577\u3055\uff08width\uff09\u3092\u5909\u66f4\n  var width = (timeLeft - 1) * (100/totalTime);\n  $('#timer div.progress-bar').animate({\n    width:  width + '%'\n  }, 1000, 'linear'); // \uff11\u79d2\u9593\u639b\u3051\u3066\u7dda\u5f62\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n\n  setTimeout((function() {countdown(timeLeft - 1)}), 1000);\n}\n```\n\n\u6642\u9593\u8868\u793a\u3068\u30d0\u30fc\u5e45\u306e\u8a08\u7b97\u3067\uff11\u79d2\u5206\u5dee\u304c\u3042\u308b\u306e\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u306d\u3002\n\n### \u30ed\u30fc\u30ab\u30eb\u306b\u5b9a\u7fa9\u3057\u305f\u95a2\u6570\u5185\u3067\u306e this \u306e\u6271\u3044\n\n```js:window\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6307\u3059\n(function($) {\n  $.fn.hoge = function() {\n    console.log(this); // A\n\n    var innerFunc = function() {\n      console.log(this); // B \u3053\u3053\u3067 $('div') \u3092\u4f7f\u3044\u305f\u3044\u3051\u308c\u3069\u3053\u306e this \u306f window \u3092\u53c2\u7167\u3057\u3066\u3057\u307e\u3046\n    }\n    \n    innerFunc();\n  }\n})(jQuery);\n\n$('div').hoge();\n```\n\n\u3053\u306e\u3088\u3046\u306b\u547c\u3073\u51fa\u3059\u3068 A, B \u305d\u308c\u305e\u308c\u306e\u51fa\u529b\u306f\u300c\u547c\u3073\u51fa\u3057\u5143\u306e jQuery \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d\u3001\u300cwindow \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d\u306b\u306a\u308b\u3002\n\u5185\u90e8\u3067\u5b9a\u7fa9\u3057\u305f\u95a2\u6570\u5185\u3067\u3082\u5143\u306e jQuery \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3044\u305f\u3044\u304c\u3001\u308f\u3056\u308f\u3056\u5f15\u6570\u306b\u6e21\u3059\u306e\u3082\u30b9\u30de\u30fc\u30c8\u3067\u306a\u3044\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u3066\u3084\u308b\u3068\u95a2\u6570\u5185\u3067\u306e this \u306e\u6307\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u56fa\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n```js:jQuery\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6307\u3059\u3088\u3046\u306b\u5909\u66f4\n(function($) {\n  $.fn.hoge = function() {\n    console.log(this); // A\n    var innerFunc = function() {\n      console.log(this); // B\n    }.bind(this); // \u3053\u3053\u3067\u306e this \u306f\u547c\u3073\u51fa\u3057\u5143\u306e jQuery \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3002\u3053\u308c\u3092\u95a2\u9023\u4ed8\u3051\u308b\n    \n    innerFunc();\n  }\n})(jQuery);\n\n$('div').hoge();\n```\n", "tags": ["bootstrap", "jQuery", "JavaScript"]}