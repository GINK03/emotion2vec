{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u3053\u306e\u8a18\u4e8b\u3067\u306fRASPBIAN JESSIE\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fRaspberry Pi 2\u3067PLANEX\u306e\u7121\u7ddaLAN\u30c9\u30f3\u30b0\u30eb GW-450D\u3092\u4f7f\u3046\u305f\u3081\u306e\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002RASPBIAN JESSIE\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6b21\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nRaspberry Pi 2\u306bRASPBIAN JESSIE\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b for Mac OSX - Qiita\n\n\u4ee5\u964d\u3001\u30e6\u30fc\u30b6\u30fc\u540dpi\u3068\u3057\u3066/home/pi\u3067\u4f5c\u696d\u3057\u307e\u3059\u3002\n\n\u81ea\u52d5\u5316 (\u8208\u5473\u306a\u3044\u65b9\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044)\n\u300c...\u306a\u3044\u3067\u3054\u3056\u308b\u301c\u624b\u9806\u306e\u8aac\u660e\u306a\u3093\u3066\u8aad\u307f\u305f\u304f\u306a\u3044\u3067\u3054\u3056\u308b\u301c\u300d\u3068\u3044\u3046\u58f0\u304c\u805e\u3053\u3048\u305f\u6c17\u304c\u3059\u308b\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u3092ansible\u3067\u81ea\u52d5\u5316\u3057\u307e\u3057\u305f\u3002playbook\u306f\u6b21\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002\n\nmoutend/raspi-playbook\n\n\u4eba\u9593\u304c\u624b\u9806\u66f8\u3092\u8aad\u3093\u3067\u4f5c\u696d\u3059\u308b\u306a\u3069\u611a\u306e\u9aa8\u9802...ansible\u306b\u4efb\u305b\u308b\u306e\u3058\u3083\u3002\n% ansible-playbook -i hosts install-mt7610u.yml\n\nEnjoy \n\napt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\u307e\u305a\u306f\u3001/etc/apt/sources.list\u3068/etc/apt/preferences\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\u305d\u308c\u305e\u308c\u6b21\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u308b\u304b\u3001\u65b0\u3057\u304f\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n/etc/apt/sources.list\ndeb http://mirrordirector.raspbian.org/raspbian/ wheezy main contrib non-free rpi\ndeb http://mirrordirector.raspbian.org/raspbian/ jessie main contrib non-free rpi\n\n/etc/apt/preferences\nPackage: *\nPin: release n=wheezy\nPin-Priority: 900\n\nPackage: *\nPin: release n=jessie\nPin-Priority: 300\n\nPackage: *\nPin: release o=Raspbian\nPin-Priority: -10\n\n\u66f8\u304d\u63db\u3048\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u5909\u66f4\u3092\u53cd\u6620\u3057\u307e\u3059\u3002\n% sudo apt-get update -yq\n\n\u3053\u308c\u3067apt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\nncurses-dev\u3068gcc-4.8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ sudo apt-get install ncurses-dev -yq -t jessie\n$ sudo apt-get install gcc-4.8 -yq -t jessie\n\n\u7d9a\u3044\u3066\u3001gcc-4.8\u306e\u512a\u5148\u5ea6\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20\n$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 60\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306egcc\u304c\u30d0\u30fc\u30b8\u30e7\u30f34.8\u306b\u5207\u308a\u66ff\u308f\u3063\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ gcc --version | head -n 1\ngcc (Raspbian 4.8.4-1) 4.8.4\n\n\u3053\u308c\u3067\u5b8c\u4e86\u3067\u3059\u3002\n\n\u30c9\u30e9\u30a4\u30d0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u7d9a\u3044\u3066\u3001MT7610U USB - MediaTek\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n$ wget http://cdn-cw.mediatek.com/Downloads/linux/mt7610u_wifi_sta_v3002_dpo_20130916.tar.bz2\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001tar\u3067\u5c55\u958b\u3057\u307e\u3059\u3002\n$ tar jxf mt7610u_wifi_sta_v3002_dpo_20130916.tar.bz2\n\n\n\u4fee\u6b63\u30d1\u30c3\u30c1\u306e\u9069\u7528\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c9\u30e9\u30a4\u30d0\u306f\u3001\u305d\u306e\u307e\u307e\u3067\u306f\u4f7f\u3048\u307e\u305b\u3093\u3002\u3053\u306e\u8a18\u4e8b\u306e\u305f\u3081\u306b\u30d1\u30c3\u30c1\u3092\u4f5c\u6210\u3057\u305f\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n$ git clone https://gist.github.com/moutend/cb35a37297910c99d3e2 gist\n\n\u30d1\u30c3\u30c1\u3092\u9069\u7528\u3057\u307e\u3059\u3002\n% ./gist/patch.sh\n\n\u5b9f\u884c\u3059\u308b\u3068\u30015\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u30d1\u30c3\u30c1\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002\npi@raspberrypi ~ $ ./gist/patch.sh\npatching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/os/linux/rt_linux.c\npatching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/os/linux/config.mk\npatching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/include/os/rt_linux.h\npatching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/conf/RT2870STA.dat\npatching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/common/rtusb_dev_id.c\nSuccessfully done.\n\n\u3053\u308c\u3067\u5b8c\u4e86\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u53c2\u8003\u306b\u3057\u305fRaspberryPi - Raspberry Pi 2\uff0bNOOBS\u3067Planex\u306eGW-450D\uff08802.11ac\u5bfe\u5fdc\u7121\u7ddaLAN\u30c9\u30f3\u30b0\u30eb\uff09\u3092\u4f7f\u3046 - Qiita\u3068\u306e\u9055\u3044\u306frt_linux.c\u306e\u6709\u7121\u3067\u3059\u3002\n\u5b9f\u306frt-linux.c\u306b\u30d1\u30c3\u30c1\u3092\u9069\u7528\u3057\u306a\u304f\u3066\u3082\u3001GW-450D\u306f\u3064\u304b\u3048\u308b\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u5834\u5408\u30015GHz\u306e\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u691c\u51fa\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u30ab\u30fc\u30cd\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u7d9a\u3044\u3066\u3001raspi-kernel\u3092\u5b9f\u884c\u3057\u3066\u30ab\u30fc\u30cd\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n$ bash -c \"$(curl -fsSSL https://raw.githubusercontent.com/moutend/raspi-kernel/master/raspi-kernel)\"\n\n\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u306a\u3051\u308c\u3070\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n$ bash -c \"$(curl -fsSSL https://raw.githubusercontent.com/moutend/raspi-kernel/master/raspi-kernel)\"Info:  REVISION=960832a6c2590635216c296b6ee0bebf67b21d50\nInfo:   GIT_HASH=59e76bb7e2936acd74938bb385f0884e34b91d72\nInfo:   GIT_REPO=https://api.github.com/repos/raspberrypi/linux/tarball/59e76bb7e2936acd74938bb385f0884e34b91d72\nDownload: https://api.github.com/repos/raspberrypi/linux/tarball/59e76bb7e2936acd74938bb385f0884e34b91d72\nUnpack: 59e76bb7e2936acd74938bb385f0884e34b91d72\nInfo:   Entering /lib/modules/4.1.7-v7+/build\nRun:    make bcm2709_defconfig\n  ...\n  SHIPPED scripts/kconfig/zconf.hash.c\n  HOSTCC  scripts/kconfig/zconf.tab.o\n  HOSTLD  scripts/kconfig/conf\n#\n# configuration written to .config\n#\nRun:    make modules_prepare\n  ...\n  HOSTCC  scripts/conmakehash\n  HOSTCC  scripts/recordmcount\n  HOSTCC  scripts/sortextable\nInfo:   Successfully done.\n\nSuccessfully done\u3068\u8868\u793a\u3055\u308c\u305f\u3089\u3001/usr/src\u306blinux-...\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ ls -lah /usr/src\ntotal 16K\ndrwxr-xr-x  4 root root 4.0K Oct 27 23:56 .\ndrwxr-xr-x 10 root root 4.0K Sep 24 13:16 ..\ndrwxr-xr-x 24 pi   pi   4.0K Oct 27 23:57 linux-59e76bb7e2936acd74938bb385f0884e34b91d72\ndrwxr-xr-x  3 root root 4.0K Sep 24 14:44 sense-hat\n\n\u3053\u308c\u3067\u30ab\u30fc\u30cd\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\u30c9\u30e9\u30a4\u30d0\u306e\u30d3\u30eb\u30c9\n\u30c9\u30e9\u30a4\u30d0\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ cd ./mt7610u_wifi_sta_v3002_dpo_20130916/\n$ sudo make\n$ sudo make install\n\n\u5b8c\u4e86\u307e\u306710\u5206\u307b\u3069\u5fc5\u8981\u3067\u3059\u3002\u304a\u8336\u3067\u3082\u98f2\u3093\u3067\u5f85\u3061\u307e\u3057\u3087\u3046\u3002\n\n\u30c9\u30e9\u30a4\u30d0\u3092\u8aad\u307f\u8fbc\u3080\n\u30d3\u30eb\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30c9\u30e9\u30a4\u30d0\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n$ sudo insmod /lib/modules/4.1.7-v7+/kernel/drivers/net/wireless/mt7650u_sta.ko\n\n\u30c9\u30e9\u30a4\u30d0\u306e\u8aad\u307f\u8fbc\u307f\u304c\u6210\u529f\u3059\u308b\u3068\u3001GW-450D\u306eLED\u304c\u70b9\u706f\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001ra0\u3068\u3044\u3046\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304c\u81ea\u52d5\u7684\u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3002ip\u3067\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n% ip addr show ra0\n\n\u4f8b\u3068\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n$ ip addr show ra0\n3: ra0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UNKNOWN group default qlen 1000\n    link/ether 00:22:cf:e8:bd:63 brd ff:ff:ff:ff:ff:ff\n    inet 169.254.185.103/16 brd 169.254.255.255 scope global ra0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::24b:5bfc:8a9e:b148/64 scope link\n       valid_lft forever preferred_lft forever\n\n\u3053\u308c\u3067\u30c9\u30e9\u30a4\u30d0\u306e\u8aad\u307f\u8fbc\u307f\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068WiFi\u306e\u8a2d\u5b9a\n\u6700\u5f8c\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068WiFi\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u307e\u305a\u3001/etc/network/interfaces\u3092\u6b21\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n/etc/network/interfaces\nauto lo\niface lo inet loopback\n\nauto eth0\nallow-hotplug eth0\niface eth0 inet dhcp\n\nauto ra0\nallow-hotplug ra0\niface ra0 inet manual\n    pre-up sh -c \"sleep 5\"\n    wpa-roam /etc/wpa_supplicant/ra0.conf\niface default inet dhcp\n\n\u7d9a\u3044\u3066\u3001/etc/wpa_supplicant/ra0.conf\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002(SSID\u3068PASSPHRASE\u306f\u5404\u3005\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002)\n$ wpa_passphrase SSID PATHPHRASE | grep -v '#.*$' | sudo tee -a /etc/wpa_supplicant/ra0.conf\n\nra0.conf\u304c\u4f5c\u6210\u3055\u308c\u305f\u304b\u3001cat\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\u4f8b\u3068\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n$ sudo cat /etc/wpa_supplicant/ra0.conf\nnetwork={\n    ssid=\"SSID\"\n    psk=6cfd9adbce6ad052a27d7cde26b307e068f90d09c52e894f827487ff033e62b8\n}\n\n\u3053\u308c\u3067\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068WiFi\u306e\u8a2d\u5b9a\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\nIP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u5f53\u3066\u3089\u308c\u305f\u304b\u78ba\u8a8d\n\u4eca\u307e\u3067\u306b\u884c\u3063\u305f\u5909\u66f4\u3092\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u3001\u4e00\u5ea6\u30ea\u30d6\u30fc\u30c8\u3057\u307e\u3059\u3002\n$ sudo reboot\n\n\u305d\u306e\u5f8c\u3001Raspberry Pi\u304c\u8d77\u52d5\u3057\u305f\u3089ip\u30b3\u30de\u30f3\u30c9\u3067IP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u5f53\u3066\u3089\u308c\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ ip addr show ra0\n\n\u4f8b\u3068\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002IPv6\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u5f53\u3066\u3089\u308c\u307e\u3057\u305f\u3002\n$ ip addr show ra0\n3: ra0: <NO-CARRIER,BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state DORMANT group default qlen 1000\n    link/ether 00:22:cf:e8:bd:63 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::222:cfff:fee8:bd63/64 scope link\n       valid_lft forever preferred_lft forever\n\n\u3053\u308c\u3067\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff01\n\n\u304a\u307e\u3051: 5GHz\u306e\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u30b9\u30ad\u30e3\u30f3\u3059\u308b\nGW-450D\u304c5GHz\u306e\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8a8d\u8b58\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ sudo iwlist ra0 scan | grep GHz | sed 's/^ *//'\n\n\u4f8b\u3068\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n$ sudo iwlist ra0 scan | grep GHz | sed 's/^ *//'\nFrequency:2.412 GHz (Channel 1)\nFrequency:2.442 GHz (Channel 7)\nFrequency:2.462 GHz (Channel 11)\nFrequency:5.18 GHz (Channel 36)\nFrequency:5.58 GHz (Channel 116)\n\n5GHz\u306e\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8a8d\u8b58\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067GW-450D\u3092\u6700\u5927\u9650\u306b\u6d3b\u7528\u3067\u304d\u307e\u3059\u3002\n\nEnjoy !\nEnjoy \n\n\u53c2\u8003\n\nRaspberry Pi 2\uff0bNOOBS\u3067Planex\u306eGW-450D\uff08802.11ac\u5bfe\u5fdc\u7121\u7ddaLAN\u30c9\u30f3\u30b0\u30eb\uff09\u3092\u4f7f\u3046 - Qiita\n\n# \u306f\u3058\u3081\u306b\n\n\u3053\u306e\u8a18\u4e8b\u3067\u306fRASPBIAN JESSIE\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fRaspberry Pi 2\u3067PLANEX\u306e\u7121\u7ddaLAN\u30c9\u30f3\u30b0\u30eb GW-450D\u3092\u4f7f\u3046\u305f\u3081\u306e\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002RASPBIAN JESSIE\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6b21\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n* [Raspberry Pi 2\u306bRASPBIAN JESSIE\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b for Mac OSX - Qiita](http://qiita.com/moutend/items/7ede458aec97056dfd5e)\n\n\u4ee5\u964d\u3001\u30e6\u30fc\u30b6\u30fc\u540d`pi`\u3068\u3057\u3066`/home/pi`\u3067\u4f5c\u696d\u3057\u307e\u3059\u3002\n\n\n\n# \u81ea\u52d5\u5316 (\u8208\u5473\u306a\u3044\u65b9\u306f\u8aad\u307f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044)\n\n\u300c...\u306a\u3044\u3067\u3054\u3056\u308b\u301c\u624b\u9806\u306e\u8aac\u660e\u306a\u3093\u3066\u8aad\u307f\u305f\u304f\u306a\u3044\u3067\u3054\u3056\u308b\u301c\u300d\u3068\u3044\u3046\u58f0\u304c\u805e\u3053\u3048\u305f\u6c17\u304c\u3059\u308b\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u3092ansible\u3067\u81ea\u52d5\u5316\u3057\u307e\u3057\u305f\u3002playbook\u306f\u6b21\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002\n\n* [moutend/raspi-playbook](https://github.com/moutend/raspi-playbook)\n\n\u4eba\u9593\u304c\u624b\u9806\u66f8\u3092\u8aad\u3093\u3067\u4f5c\u696d\u3059\u308b\u306a\u3069\u611a\u306e\u9aa8\u9802...ansible\u306b\u4efb\u305b\u308b\u306e\u3058\u3083\u3002\n\n    % ansible-playbook -i hosts install-mt7610u.yml\n\nEnjoy :pineapple:\n\n\n\n# apt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n\u307e\u305a\u306f\u3001[`/etc/apt/sources.list`\u3068`/etc/apt/preferences`](https://gist.github.com/moutend/48f19b5ffc5f7e3a4a16)\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\u305d\u308c\u305e\u308c\u6b21\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u308b\u304b\u3001\u65b0\u3057\u304f\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n**`/etc/apt/sources.list`**\n\n    deb http://mirrordirector.raspbian.org/raspbian/ wheezy main contrib non-free rpi\n    deb http://mirrordirector.raspbian.org/raspbian/ jessie main contrib non-free rpi\n\n**`/etc/apt/preferences`**\n\n    Package: *\n    Pin: release n=wheezy\n    Pin-Priority: 900\n    \n    Package: *\n    Pin: release n=jessie\n    Pin-Priority: 300\n    \n    Package: *\n    Pin: release o=Raspbian\n    Pin-Priority: -10\n\n\u66f8\u304d\u63db\u3048\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u5909\u66f4\u3092\u53cd\u6620\u3057\u307e\u3059\u3002\n\n    % sudo apt-get update -yq\n\n\u3053\u308c\u3067apt\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\n# ncurses-dev\u3068gcc-4.8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n    $ sudo apt-get install ncurses-dev -yq -t jessie\n    $ sudo apt-get install gcc-4.8 -yq -t jessie\n\n\u7d9a\u3044\u3066\u3001gcc-4.8\u306e\u512a\u5148\u5ea6\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n    $ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20\n    $ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 60\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306egcc\u304c\u30d0\u30fc\u30b8\u30e7\u30f34.8\u306b\u5207\u308a\u66ff\u308f\u3063\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n    $ gcc --version | head -n 1\n    gcc (Raspbian 4.8.4-1) 4.8.4\n\n\u3053\u308c\u3067\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\n# \u30c9\u30e9\u30a4\u30d0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u7d9a\u3044\u3066\u3001[MT7610U USB - MediaTek](http://www.mediatek.com/en/downloads1/downloads/mt7610u-usb/)\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n    $ wget http://cdn-cw.mediatek.com/Downloads/linux/mt7610u_wifi_sta_v3002_dpo_20130916.tar.bz2\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001tar\u3067\u5c55\u958b\u3057\u307e\u3059\u3002\n\n    $ tar jxf mt7610u_wifi_sta_v3002_dpo_20130916.tar.bz2\n\n\n\n## \u4fee\u6b63\u30d1\u30c3\u30c1\u306e\u9069\u7528\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c9\u30e9\u30a4\u30d0\u306f\u3001\u305d\u306e\u307e\u307e\u3067\u306f\u4f7f\u3048\u307e\u305b\u3093\u3002[\u3053\u306e\u8a18\u4e8b\u306e\u305f\u3081\u306b\u30d1\u30c3\u30c1\u3092\u4f5c\u6210\u3057\u305f](https://gist.github.com/moutend/cb35a37297910c99d3e2)\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n\n    $ git clone https://gist.github.com/moutend/cb35a37297910c99d3e2 gist\n\n\u30d1\u30c3\u30c1\u3092\u9069\u7528\u3057\u307e\u3059\u3002\n\n    % ./gist/patch.sh\n\n\u5b9f\u884c\u3059\u308b\u3068\u30015\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u30d1\u30c3\u30c1\u304c\u9069\u7528\u3055\u308c\u307e\u3059\u3002\n\n    pi@raspberrypi ~ $ ./gist/patch.sh\n    patching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/os/linux/rt_linux.c\n    patching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/os/linux/config.mk\n    patching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/include/os/rt_linux.h\n    patching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/conf/RT2870STA.dat\n    patching file /home/pi/mt7610u_wifi_sta_v3002_dpo_20130916/common/rtusb_dev_id.c\n    Successfully done.\n\n\u3053\u308c\u3067\u5b8c\u4e86\u3067\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u53c2\u8003\u306b\u3057\u305f[RaspberryPi - Raspberry Pi 2\uff0bNOOBS\u3067Planex\u306eGW-450D\uff08802.11ac\u5bfe\u5fdc\u7121\u7ddaLAN\u30c9\u30f3\u30b0\u30eb\uff09\u3092\u4f7f\u3046 - Qiita](http://qiita.com/tsukaman/items/44abe042d2184c021b4b)\u3068\u306e\u9055\u3044\u306f`rt_linux.c`\u306e\u6709\u7121\u3067\u3059\u3002\n\n\u5b9f\u306f`rt-linux.c`\u306b\u30d1\u30c3\u30c1\u3092\u9069\u7528\u3057\u306a\u304f\u3066\u3082\u3001GW-450D\u306f\u3064\u304b\u3048\u308b\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u5834\u5408\u30015GHz\u306e\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u304c\u691c\u51fa\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n\n\n# \u30ab\u30fc\u30cd\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u7d9a\u3044\u3066\u3001[raspi-kernel](https://github.com/moutend/raspi-kernel)\u3092\u5b9f\u884c\u3057\u3066\u30ab\u30fc\u30cd\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n    $ bash -c \"$(curl -fsSSL https://raw.githubusercontent.com/moutend/raspi-kernel/master/raspi-kernel)\"\n\n\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u306a\u3051\u308c\u3070\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n    $ bash -c \"$(curl -fsSSL https://raw.githubusercontent.com/moutend/raspi-kernel/master/raspi-kernel)\"Info:\tREVISION=960832a6c2590635216c296b6ee0bebf67b21d50\n    Info:\tGIT_HASH=59e76bb7e2936acd74938bb385f0884e34b91d72\n    Info:\tGIT_REPO=https://api.github.com/repos/raspberrypi/linux/tarball/59e76bb7e2936acd74938bb385f0884e34b91d72\n    Download: https://api.github.com/repos/raspberrypi/linux/tarball/59e76bb7e2936acd74938bb385f0884e34b91d72\n    Unpack:\t59e76bb7e2936acd74938bb385f0884e34b91d72\n    Info:\tEntering /lib/modules/4.1.7-v7+/build\n    Run:\tmake bcm2709_defconfig\n      ...\n      SHIPPED scripts/kconfig/zconf.hash.c\n      HOSTCC  scripts/kconfig/zconf.tab.o\n      HOSTLD  scripts/kconfig/conf\n    #\n    # configuration written to .config\n    #\n    Run:\tmake modules_prepare\n      ...\n      HOSTCC  scripts/conmakehash\n      HOSTCC  scripts/recordmcount\n      HOSTCC  scripts/sortextable\n    Info:\tSuccessfully done.\n\nSuccessfully done\u3068\u8868\u793a\u3055\u308c\u305f\u3089\u3001`/usr/src`\u306b`linux-...`\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n    $ ls -lah /usr/src\n    total 16K\n    drwxr-xr-x  4 root root 4.0K Oct 27 23:56 .\n    drwxr-xr-x 10 root root 4.0K Sep 24 13:16 ..\n    drwxr-xr-x 24 pi   pi   4.0K Oct 27 23:57 linux-59e76bb7e2936acd74938bb385f0884e34b91d72\n    drwxr-xr-x  3 root root 4.0K Sep 24 14:44 sense-hat\n\n\u3053\u308c\u3067\u30ab\u30fc\u30cd\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\n# \u30c9\u30e9\u30a4\u30d0\u306e\u30d3\u30eb\u30c9\n\n\u30c9\u30e9\u30a4\u30d0\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n    $ cd ./mt7610u_wifi_sta_v3002_dpo_20130916/\n    $ sudo make\n    $ sudo make install\n\n\u5b8c\u4e86\u307e\u306710\u5206\u307b\u3069\u5fc5\u8981\u3067\u3059\u3002\u304a\u8336\u3067\u3082\u98f2\u3093\u3067\u5f85\u3061\u307e\u3057\u3087\u3046\u3002\n\n\n\n# \u30c9\u30e9\u30a4\u30d0\u3092\u8aad\u307f\u8fbc\u3080\n\n\u30d3\u30eb\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30c9\u30e9\u30a4\u30d0\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n    $ sudo insmod /lib/modules/4.1.7-v7+/kernel/drivers/net/wireless/mt7650u_sta.ko\n\n\u30c9\u30e9\u30a4\u30d0\u306e\u8aad\u307f\u8fbc\u307f\u304c\u6210\u529f\u3059\u308b\u3068\u3001GW-450D\u306eLED\u304c\u70b9\u706f\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001`ra0`\u3068\u3044\u3046\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304c\u81ea\u52d5\u7684\u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3002ip\u3067\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\n    % ip addr show ra0\n\n\u4f8b\u3068\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n    $ ip addr show ra0\n    3: ra0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UNKNOWN group default qlen 1000\n        link/ether 00:22:cf:e8:bd:63 brd ff:ff:ff:ff:ff:ff\n        inet 169.254.185.103/16 brd 169.254.255.255 scope global ra0\n           valid_lft forever preferred_lft forever\n        inet6 fe80::24b:5bfc:8a9e:b148/64 scope link\n           valid_lft forever preferred_lft forever\n\n\u3053\u308c\u3067\u30c9\u30e9\u30a4\u30d0\u306e\u8aad\u307f\u8fbc\u307f\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\n# \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068WiFi\u306e\u8a2d\u5b9a\n\n\u6700\u5f8c\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068WiFi\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u307e\u305a\u3001`/etc/network/interfaces`\u3092\u6b21\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n**`/etc/network/interfaces`**\n\n    auto lo\n    iface lo inet loopback\n    \n    auto eth0\n    allow-hotplug eth0\n    iface eth0 inet dhcp\n    \n    auto ra0\n    allow-hotplug ra0\n    iface ra0 inet manual\n        pre-up sh -c \"sleep 5\"\n        wpa-roam /etc/wpa_supplicant/ra0.conf\n    iface default inet dhcp\n\n\u7d9a\u3044\u3066\u3001`/etc/wpa_supplicant/ra0.conf`\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002(`SSID`\u3068`PASSPHRASE`\u306f\u5404\u3005\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002)\n\n    $ wpa_passphrase SSID PATHPHRASE | grep -v '#.*$' | sudo tee -a /etc/wpa_supplicant/ra0.conf\n\n`ra0.conf`\u304c\u4f5c\u6210\u3055\u308c\u305f\u304b\u3001cat\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\u4f8b\u3068\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n    $ sudo cat /etc/wpa_supplicant/ra0.conf\n    network={\n        ssid=\"SSID\"\n        psk=6cfd9adbce6ad052a27d7cde26b307e068f90d09c52e894f827487ff033e62b8\n    }\n\n\u3053\u308c\u3067\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068WiFi\u306e\u8a2d\u5b9a\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\n# IP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u5f53\u3066\u3089\u308c\u305f\u304b\u78ba\u8a8d\n\n\u4eca\u307e\u3067\u306b\u884c\u3063\u305f\u5909\u66f4\u3092\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u3001\u4e00\u5ea6\u30ea\u30d6\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n    $ sudo reboot\n\n\u305d\u306e\u5f8c\u3001Raspberry Pi\u304c\u8d77\u52d5\u3057\u305f\u3089ip\u30b3\u30de\u30f3\u30c9\u3067IP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u5f53\u3066\u3089\u308c\u305f\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n    $ ip addr show ra0\n\n\u4f8b\u3068\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002IPv6\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u5f53\u3066\u3089\u308c\u307e\u3057\u305f\u3002\n\n    $ ip addr show ra0\n    3: ra0: <NO-CARRIER,BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state DORMANT group default qlen 1000\n        link/ether 00:22:cf:e8:bd:63 brd ff:ff:ff:ff:ff:ff\n        inet6 fe80::222:cfff:fee8:bd63/64 scope link\n           valid_lft forever preferred_lft forever\n\n\u3053\u308c\u3067\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff01\n\n\n\n# \u304a\u307e\u3051: 5GHz\u306e\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u30b9\u30ad\u30e3\u30f3\u3059\u308b\n\nGW-450D\u304c5GHz\u306e\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8a8d\u8b58\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n    $ sudo iwlist ra0 scan | grep GHz | sed 's/^ *//'\n\n\u4f8b\u3068\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n    $ sudo iwlist ra0 scan | grep GHz | sed 's/^ *//'\n    Frequency:2.412 GHz (Channel 1)\n    Frequency:2.442 GHz (Channel 7)\n    Frequency:2.462 GHz (Channel 11)\n    Frequency:5.18 GHz (Channel 36)\n    Frequency:5.58 GHz (Channel 116)\n\n5GHz\u306e\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3092\u8a8d\u8b58\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067GW-450D\u3092\u6700\u5927\u9650\u306b\u6d3b\u7528\u3067\u304d\u307e\u3059\u3002\n\n\n\n# Enjoy !\n\nEnjoy :pineapple:\n\n\n\n# \u53c2\u8003\n\n1. [Raspberry Pi 2\uff0bNOOBS\u3067Planex\u306eGW-450D\uff08802.11ac\u5bfe\u5fdc\u7121\u7ddaLAN\u30c9\u30f3\u30b0\u30eb\uff09\u3092\u4f7f\u3046 - Qiita](http://qiita.com/tsukaman/items/44abe042d2184c021b4b)\n", "tags": ["RaspberryPi", "raspbian", "GW-450D"]}