{"tags": ["Xcode", "iOS", "library"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u6982\u8981\nXcode\u3092\u4f7f\u7528\u3057\u305fiOS\u7528Static\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30d3\u30eb\u30c9\u304a\u3088\u3073\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306b\u3064\u3044\u3066\u6574\u7406\u3057\u307e\u3059\u3002\n\n\u74b0\u5883\n\n\u4f5c\u6210\u65e5: 2014/08/05\nOS: Mac OS X 10.9.4\nXcode: Xcode6 beta5\n\u8a00\u8a9e: Objective-c\n\n\n\u53c2\u8003\u6587\u732e\n\n\nXcode 5 \u3067 iOS \u7528 static library \u3092\u4f5c\u308d\u3046\uff01 on Qiita\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nStatic\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3001\u305d\u306e\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u3001\u4e0b\u8a18\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u56f3\u4e2d\u306ePROJECT_NAME\u306f\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3067\u3059\u3002\n$(HOME)/local\n  include/<PROJECT_NAME> ... \u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\n  lib/ ... \u30e9\u30a4\u30d6\u30e9\u30ea(*.a)\u30d5\u30a1\u30a4\u30eb\n  resource/ ... xib\u306a\u3069\u306e\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\n\n\n\u5b9f\u884c/\u8a2d\u5b9a\u624b\u9806\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\nFile \u2192 New \u2192 Project\u304b\u3089\u3001Cocoa Touch Static Library\u3092\u9078\u629e\u3002\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8ffd\u52a0\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002Target \u2192 Other \u2192 External Build System\u3092\u9078\u3073\u307e\u3059\u3002\n1. install.mk\u306a\u308bMakefile\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 install.mk\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u6587\u672b\u306b\u6dfb\u4ed8\u3057\u307e\u3059\u3002\n2. \u672c\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30d3\u30eb\u30c9\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u4f9d\u5b58\u3055\u305b\u307e\u3059\u3002\n3. \u30bf\u30fc\u30b2\u30c3\u30c8 \u2192 Info \u2192 External Build Tool Configuration\u306e\u3001Arguments\u306e\u9805\u3092\u3001-f install.mk\u3068\u3057\u307e\u3059\u3002\n4. \u8ffd\u52a0\u3057\u305f\u30bf\u30fc\u30b2\u30c3\u30c8\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u3001\u5404\u7a2e\u30d5\u30a1\u30a4\u30eb\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\ninstall.mk\u306e\u6982\u8981\n\n\nbuild_command\u30de\u30af\u30ed\u3092\u7528\u3044\u3066\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092Release\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3001\nlipo\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001iPhoneOS\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002\u53c2\u8003: lipo \u3092\u4f7f\u3063\u3066\u7c21\u5358\u306b Universal Binary \u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\n\n\ninstall\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u76ee\u7684\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea$(HOME)/local/lib/$(PROJECT_NAME)\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\ninstall\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001*.xib\u30d5\u30a1\u30a4\u30eb\u3092\u3001resource\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n\ninstall.mk\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u8ff0\u5185\u5bb9\nINSTALL_PATH    = $(HOME)/local\nLIB_NAME    = lib${PROJECT_NAME}.a\nCONFIGURATION   = Release\n\nbuild_command  = xcodebuild build -target $(PROJECT_NAME) \\\n    -project $(PROJECT_NAME).xcodeproj \\\n    -configuration $(CONFIGURATION) \\\n    ONLY_ACTIVE_ARCH=NO \\\n    BUILD_DIR=$(BUILD_DIR) \\\n    BUILD_ROOT=$(BUILD_ROOT)\n\nall: build_library install_library install_header install_resource\n\nbuild_library: dummy\n    $(build_command) -sdk iphoneos\n    $(build_command) -sdk iphonesimulator\n\ninstall_library: dummy\n    mkdir -p $(INSTALL_PATH)/lib\n    lipo -create -output $(INSTALL_PATH)/lib/$(LIB_NAME) \\\n      ${BUILD_DIR}/${CONFIGURATION}-iphoneos/$(LIB_NAME) \\\n      ${BUILD_DIR}/${CONFIGURATION}-iphonesimulator/$(LIB_NAME)\n\ninstall_header: dummy\n    mkdir -p $(INSTALL_PATH)/include/$(PROJECT_NAME)\n    install -m 0644 ${BUILD_DIR}/${CONFIGURATION}-iphoneos/include/$(PROJECT_NAME)/*.h \\\n      $(INSTALL_PATH)/include/$(PROJECT_NAME)\n\ninstall_resource: dummy\n    mkdir -p $(INSTALL_PATH)/resource\n    find $(PROJECT_DIR) -name \"*.xib\" -exec install -m 0644 \"{}\" $(INSTALL_PATH)/resource \";\"\n\ndummy:\n\n\n\u5099\u8003\n\nSwift\u3092\u4f7f\u3063\u305fstatic library\u306f\u751f\u6210\u3067\u304d\u306a\u3044\u69d8\u3067\u3059\u3002\u3059\u304f\u306a\u304f\u3068\u3082\u3001Xcode6 beta4\u3067\u306f\u3002\n\n\n##\u6982\u8981\n  Xcode\u3092\u4f7f\u7528\u3057\u305fiOS\u7528Static\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30d3\u30eb\u30c9\u304a\u3088\u3073\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306b\u3064\u3044\u3066\u6574\u7406\u3057\u307e\u3059\u3002\n\n##\u74b0\u5883\n* \u4f5c\u6210\u65e5: 2014/08/05\n* OS: Mac OS X 10.9.4\n* Xcode: Xcode6 beta5\n* \u8a00\u8a9e: Objective-c\n\n##\u53c2\u8003\u6587\u732e\n* [Xcode 5 \u3067 iOS \u7528 static library \u3092\u4f5c\u308d\u3046\uff01](http://qiita.com/fizzco/items/8f3fbc744e591ba8dffe) on Qiita\n\n##\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n  Static\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3001\u305d\u306e\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u3001\u4e0b\u8a18\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u56f3\u4e2d\u306e`PROJECT_NAME`\u306f\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3067\u3059\u3002\n\n    $(HOME)/local\n      include/<PROJECT_NAME> ... \u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\n      lib/ ... \u30e9\u30a4\u30d6\u30e9\u30ea(*.a)\u30d5\u30a1\u30a4\u30eb\n      resource/ ... xib\u306a\u3069\u306e\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\n\n##\u5b9f\u884c/\u8a2d\u5b9a\u624b\u9806\n###\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n  File \u2192 New \u2192 Project\u304b\u3089\u3001Cocoa Touch Static Library\u3092\u9078\u629e\u3002\n\n###\u30e9\u30a4\u30d6\u30e9\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30bf\u30fc\u30b2\u30c3\u30c8\u306e\u8ffd\u52a0\n  \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306e\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002Target \u2192 Other \u2192 External Build System\u3092\u9078\u3073\u307e\u3059\u3002\n1. `install.mk`\u306a\u308bMakefile\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 `install.mk`\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u3092\u6587\u672b\u306b\u6dfb\u4ed8\u3057\u307e\u3059\u3002\n2. \u672c\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30d3\u30eb\u30c9\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u4f9d\u5b58\u3055\u305b\u307e\u3059\u3002\n3. \u30bf\u30fc\u30b2\u30c3\u30c8 \u2192 Info \u2192 External Build Tool Configuration\u306e\u3001Arguments\u306e\u9805\u3092\u3001`-f install.mk`\u3068\u3057\u307e\u3059\u3002\n4. \u8ffd\u52a0\u3057\u305f\u30bf\u30fc\u30b2\u30c3\u30c8\u3067\u30d3\u30eb\u30c9\u3059\u308b\u3068\u3001\u5404\u7a2e\u30d5\u30a1\u30a4\u30eb\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n###install.mk\u306e\u6982\u8981\n1. `build_command`\u30de\u30af\u30ed\u3092\u7528\u3044\u3066\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092Release\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3001\n2. lipo\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001iPhoneOS\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u7528\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002\u53c2\u8003: [lipo \u3092\u4f7f\u3063\u3066\u7c21\u5358\u306b Universal Binary \u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5](http://akisute.com/2011/03/lipo-universal-binary.html)\n3. [install\u30b3\u30de\u30f3\u30c9](http://kazmax.zpp.jp/cmd/i/install.1.html)\u3092\u4f7f\u3063\u3066\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u76ee\u7684\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea`$(HOME)/local/lib/$(PROJECT_NAME)`\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n4. install\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001`*.xib`\u30d5\u30a1\u30a4\u30eb\u3092\u3001resource\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n###install.mk\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u8ff0\u5185\u5bb9\n\tINSTALL_PATH\t= $(HOME)/local\n\tLIB_NAME\t= lib${PROJECT_NAME}.a\n\tCONFIGURATION\t= Release\n\n\tbuild_command  = xcodebuild build -target $(PROJECT_NAME) \\\n\t\t-project $(PROJECT_NAME).xcodeproj \\\n\t\t-configuration $(CONFIGURATION) \\\n\t\tONLY_ACTIVE_ARCH=NO \\\n\t\tBUILD_DIR=$(BUILD_DIR) \\\n\t\tBUILD_ROOT=$(BUILD_ROOT)\n\n\tall: build_library install_library install_header install_resource\n\n\tbuild_library: dummy\n\t\t$(build_command) -sdk iphoneos\n\t\t$(build_command) -sdk iphonesimulator\n\n\tinstall_library: dummy\n\t\tmkdir -p $(INSTALL_PATH)/lib\n\t\tlipo -create -output $(INSTALL_PATH)/lib/$(LIB_NAME) \\\n\t\t  ${BUILD_DIR}/${CONFIGURATION}-iphoneos/$(LIB_NAME) \\\n\t\t  ${BUILD_DIR}/${CONFIGURATION}-iphonesimulator/$(LIB_NAME)\n\n\tinstall_header: dummy\n\t\tmkdir -p $(INSTALL_PATH)/include/$(PROJECT_NAME)\n\t\tinstall -m 0644 ${BUILD_DIR}/${CONFIGURATION}-iphoneos/include/$(PROJECT_NAME)/*.h \\\n\t\t  $(INSTALL_PATH)/include/$(PROJECT_NAME)\n\n\tinstall_resource: dummy\n\t\tmkdir -p $(INSTALL_PATH)/resource\n\t\tfind $(PROJECT_DIR) -name \"*.xib\" -exec install -m 0644 \"{}\" $(INSTALL_PATH)/resource \";\"\n\n\tdummy:\n\n##\u5099\u8003\n* Swift\u3092\u4f7f\u3063\u305fstatic library\u306f\u751f\u6210\u3067\u304d\u306a\u3044\u69d8\u3067\u3059\u3002\u3059\u304f\u306a\u304f\u3068\u3082\u3001Xcode6 beta4\u3067\u306f\u3002\n\n"}