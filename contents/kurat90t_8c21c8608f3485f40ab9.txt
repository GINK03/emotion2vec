{"tags": ["PayPal"], "context": " More than 1 year has passed since last update.\"SetExpressCheckout\u306b\u3066\u5546\u54c1\u540d\u3001\u8cfc\u5165\u91d1\u984d\u7b49\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u304c\u3001PayPal\u8cfc\u5165\u753b\u9762\u306b\u5546\u54c1\u540d\u3001\u8cfc\u5165\u91d1\u984d\u7b49\u304c\u8868\u793a\u3055\u308c\u306a\u304f\u3066\u56f0\u3063\u3066\u307e\u3059\u3002\n\u6307\u5b9a\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4f55\u304b\u6307\u5b9a\u65b9\u6cd5\u306b\u4e0d\u5099\u304c\u3042\u308b\u304b\u3001\u308f\u304b\u308b\u65b9\u3054\u89e3\u7b54\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n$ec_request =& PayPal::getType('SetExpressCheckoutRequestType');\n$ec_request->setVersion(\"\"51.0\"\");\n// Set request-specific fields.\n$paymentAmount = ($aPurchaseCommodityInfo->unit_price * $aPurchaseCommodityInfo->amount) + $aPurchaseCommodityInfo->postage;\n$currencyID = 'USD'; // or other currency code ('GBP', 'EUR', 'JPY', 'CAD', 'AUD')\n$paymentType = 'Sale'; // or 'Order' or 'Authorization'\n$ec_details =& PayPal::getType('SetExpressCheckoutRequestDetailsType');\n$ec_details->setReturnURL($aReturnUrl);\n$ec_details->setCancelURL($aCancelUrl);\n$ec_details->setPaymentAction($paymentType);\n$ec_details->setNoShipping('1', 'iso-8859-1'); //PayPal\u753b\u9762\u306b\u914d\u9001\u5148\u4f4f\u6240\u672a\u8868\u793a\n$amt_type =& PayPal::getType('BasicAmountType');\n$amt_type->setattr('currencyID', $currencyID);\n$amt_type->setval($paymentAmount, 'iso-8859-1'); //\u8cfc\u5165\u91d1\u984d\n$paymentDetailsItem = &PayPal::getType('PaymentDetailsItemType');\n$paymentDetailsItem->setName($aPurchaseCommodityInfo->commodityName); //\u5546\u54c1\u540d\n$paymentDetailsItem->setQuantity('1', 'iso-8859-1'); //\u8cfc\u5165\u6570\n$paymentDetailsItem->setAmount($paymentAmount, 'iso-8859-1'); //\u8cfc\u5165\u91d1\u984d\n$ec_details->setOrderTotal($amt_type); //\u8cfc\u5165\u91d1\u984d\u5408\u8a08\n$ec_request->setSetExpressCheckoutRequestDetails($ec_details);\n$caller =& PayPal::getCallerServices($this->profile);\n// Execute SOAP request.\n$response = $caller->SetExpressCheckout($ec_request);\"\n\"SetExpressCheckout\u306b\u3066\u5546\u54c1\u540d\u3001\u8cfc\u5165\u91d1\u984d\u7b49\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u304c\u3001PayPal\u8cfc\u5165\u753b\u9762\u306b\u5546\u54c1\u540d\u3001\u8cfc\u5165\u91d1\u984d\u7b49\u304c\u8868\u793a\u3055\u308c\u306a\u304f\u3066\u56f0\u3063\u3066\u307e\u3059\u3002\n\u6307\u5b9a\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4f55\u304b\u6307\u5b9a\u65b9\u6cd5\u306b\u4e0d\u5099\u304c\u3042\u308b\u304b\u3001\u308f\u304b\u308b\u65b9\u3054\u89e3\u7b54\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\n\n\\$ec_request =& PayPal::getType('SetExpressCheckoutRequestType');\n\\$ec_request->setVersion(\"\"51.0\"\");\n\n// Set request-specific fields.\n\\$paymentAmount = (\\$aPurchaseCommodityInfo->unit_price * \\$aPurchaseCommodityInfo->amount) + \\$aPurchaseCommodityInfo->postage;\n\\$currencyID = 'USD'; // or other currency code ('GBP', 'EUR', 'JPY', 'CAD', 'AUD')\n\\$paymentType = 'Sale'; // or 'Order' or 'Authorization'\n\n\\$ec_details =& PayPal::getType('SetExpressCheckoutRequestDetailsType');\n\\$ec_details->setReturnURL(\\$aReturnUrl);\n\\$ec_details->setCancelURL(\\$aCancelUrl);\n\\$ec_details->setPaymentAction(\\$paymentType);\n\\$ec_details->setNoShipping('1', 'iso-8859-1'); //PayPal\u753b\u9762\u306b\u914d\u9001\u5148\u4f4f\u6240\u672a\u8868\u793a\n\n\\$amt_type =& PayPal::getType('BasicAmountType');\n\\$amt_type->setattr('currencyID', \\$currencyID);\n\\$amt_type->setval(\\$paymentAmount, 'iso-8859-1'); //\u8cfc\u5165\u91d1\u984d\n\\$paymentDetailsItem = &PayPal::getType('PaymentDetailsItemType');\n\\$paymentDetailsItem->setName(\\$aPurchaseCommodityInfo->commodityName); //\u5546\u54c1\u540d\n\\$paymentDetailsItem->setQuantity('1', 'iso-8859-1'); //\u8cfc\u5165\u6570\n\\$paymentDetailsItem->setAmount(\\$paymentAmount, 'iso-8859-1'); //\u8cfc\u5165\u91d1\u984d\n\\$ec_details->setOrderTotal(\\$amt_type); //\u8cfc\u5165\u91d1\u984d\u5408\u8a08\n\n\\$ec_request->setSetExpressCheckoutRequestDetails(\\$ec_details);\n\n\\$caller =& PayPal::getCallerServices(\\$this->profile);\n\n// Execute SOAP request.\n\\$response = \\$caller->SetExpressCheckout(\\$ec_request);\"\n"}