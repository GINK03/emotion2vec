{"tags": ["CSS", "Rails", "sprockets"], "context": " More than 1 year has passed since last update.bower\u3084npm\u7d4c\u7531\u3067\u5916\u90e8\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u542b\u307e\u308c\u308bCSS\u3084JavaScript\u3092\u5229\u7528\u3057\u305f\u3044\u3068\u304d\u306b\u3001Rails.configuration.assets.paths\u3092\u5909\u66f4\u3057\u3001Sprockets\u3092\u7d4c\u7531\u3057\u3066\u3053\u308c\u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\nconfig.assets.paths << \"node_modules\"\n\n@import \"bootstrap-sass/assets/stylesheets/bootstrap\";\n\n\n\u306a\u306b\u304c\u56f0\u308b\u304b\n\u3053\u306e\u3068\u304d\u3001node_modules\u5185\u306b application.css.ejs.scss \u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u308b\u3068\u3001rake assets:precompile\u306e\u5bfe\u8c61\u306b\u542b\u307e\u308c\u3066\u3057\u307e\u3046\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002bootstrap-sass\u306e\u4f8b\u3067\u8a00\u3048\u3070\u3001node_modules/bootstrap-sass/test/dummy_node_mincer/application.css.ejs.scss \u304c\u5b58\u5728\u3059\u308b\u305f\u3081\u3001\u3053\u308c\u3092precompile\u3057\u3088\u3046\u3068\u3057\u3066\u3001Sass::SyntaxError\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u306a\u304a\u3001\u3053\u306e\u554f\u984c\u306f all application.(js,css) files pulled in \u00b7 Issue #218 \u00b7 rails/sprockets-rails \u3067\u5831\u544a\u3055\u308c\u3066\u3044\u3066\u3001\u6b21\u306e\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u4fee\u6b63\u3055\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u306a\u305c\u8d77\u3053\u308b\u304b\nsprockets-rails\u3067\u306f\u3001lib/sprockets/railtie.rb \u3067\u6700\u521d\u304b\u3089 /(?:\\/|\\\\|\\A)application\\.(css|js)$/ \u306b\u4e00\u81f4\u3059\u308b\u3082\u306e\u3092precompile\u5bfe\u8c61\u306b\u3057\u3066\u3044\u307e\u3059\u3002app/assets/javascripts/application.js \u3084\u3001\u4ed6\u306eGem\u306b\u542b\u307e\u308c\u308b\u305d\u3046\u3044\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u304c\u5bfe\u8c61\u3067\u3059\u306d\u3002\napplication\\.(css|js)$ \u306a\u306e\u3067 application.css.ejs.scss \u306b\u306f\u4e00\u81f4\u3057\u306a\u3044\u3060\u308d\u3046\u3068\u601d\u3044\u304d\u3084\u3001sprockets/asset_attributes.rb at v2.12.3 \u00b7 sstephenson/sprockets \u3092\u898b\u308b\u3068\u5206\u304b\u308b\u3088\u3046\u306b\u3001\u5b9f\u969b\u306b\u306f logical_path \u3068\u3044\u3046\u3001engine_extensions\u304b\u3089\u53d6\u308a\u51fa\u305b\u308b\u5e7e\u3064\u304b\u306e\u62e1\u5f35\u5b50\u3092\u53d6\u308a\u9664\u3044\u305f\u30d1\u30b9\u306b\u5bfe\u3057\u3066\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3044\u307e\u3059\u3002\n[1] pry(main)> Sprockets::Environment.new.engine_extensions\n=> [\".coffee\", \".jst\", \".eco\", \".ejs\", \".less\", \".sass\", \".scss\", \".erb\", \".str\"]\n\n\u3053\u306e\u3088\u3046\u306b\u3001.ejs \u3084 .scss \u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001/path/to/application.css.ejs.scss \u306elogical_path\u306f /path/to/application.css \u3068\u306a\u308a\u3001\u5148\u8ff0\u3057\u305f /(?:\\/|\\\\|\\A)application\\.(css|js)$/ \u306e\u6b63\u898f\u8868\u73fe\u306b\u4e00\u81f4\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u56de\u907f\u7b56\n/(?:\\/|\\\\|\\A)application\\.(css|js)$/ \u3092\u5fc5\u8981\u3068\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u3053\u308c\u3092\u53d6\u308a\u9664\u304d\u307e\u3059\u3002::Sprockets::Railtie::LOOSE_APP_ASSETS \u3092\u5fd8\u308c\u308b\u3068app/assets\u4ee5\u4e0b\u306e\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u5fc5\u8981\u306a\u5834\u5408\u306f\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\nconfig.assets.precompile = [\n  ::Sprockets::Railtie::LOOSE_APP_ASSETS,\n  'application.css',\n  'application.js',\n]\n\nbower\u3084npm\u7d4c\u7531\u3067\u5916\u90e8\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u542b\u307e\u308c\u308bCSS\u3084JavaScript\u3092\u5229\u7528\u3057\u305f\u3044\u3068\u304d\u306b\u3001Rails.configuration.assets.paths\u3092\u5909\u66f4\u3057\u3001Sprockets\u3092\u7d4c\u7531\u3057\u3066\u3053\u308c\u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n```rb\nconfig.assets.paths << \"node_modules\"\n```\n\n```scss\n@import \"bootstrap-sass/assets/stylesheets/bootstrap\";\n```\n\n## \u306a\u306b\u304c\u56f0\u308b\u304b\n\u3053\u306e\u3068\u304d\u3001node_modules\u5185\u306b `application.css.ejs.scss` \u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u308b\u3068\u3001rake assets:precompile\u306e\u5bfe\u8c61\u306b\u542b\u307e\u308c\u3066\u3057\u307e\u3046\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002bootstrap-sass\u306e\u4f8b\u3067\u8a00\u3048\u3070\u3001node_modules/bootstrap-sass/test/dummy_node_mincer/application.css.ejs.scss \u304c\u5b58\u5728\u3059\u308b\u305f\u3081\u3001\u3053\u308c\u3092precompile\u3057\u3088\u3046\u3068\u3057\u3066\u3001Sass::SyntaxError\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\u306a\u304a\u3001\u3053\u306e\u554f\u984c\u306f [all application.(js,css) files pulled in \u00b7 Issue #218 \u00b7 rails/sprockets-rails](https://github.com/rails/sprockets-rails/issues/218) \u3067\u5831\u544a\u3055\u308c\u3066\u3044\u3066\u3001\u6b21\u306e\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u4fee\u6b63\u3055\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\n## \u306a\u305c\u8d77\u3053\u308b\u304b\nsprockets-rails\u3067\u306f\u3001[lib/sprockets/railtie.rb](https://github.com/rails/sprockets-rails/blob/93a45b1c463a063ec7cf4d160107b67aa3db7a1a/lib/sprockets/railtie.rb#L80) \u3067\u6700\u521d\u304b\u3089 `/(?:\\/|\\\\|\\A)application\\.(css|js)$/` \u306b\u4e00\u81f4\u3059\u308b\u3082\u306e\u3092precompile\u5bfe\u8c61\u306b\u3057\u3066\u3044\u307e\u3059\u3002app/assets/javascripts/application.js \u3084\u3001\u4ed6\u306eGem\u306b\u542b\u307e\u308c\u308b\u305d\u3046\u3044\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u304c\u5bfe\u8c61\u3067\u3059\u306d\u3002\n\n`application\\.(css|js)$` \u306a\u306e\u3067 application.css.ejs.scss \u306b\u306f\u4e00\u81f4\u3057\u306a\u3044\u3060\u308d\u3046\u3068\u601d\u3044\u304d\u3084\u3001[sprockets/asset_attributes.rb at v2.12.3 \u00b7 sstephenson/sprockets](https://github.com/sstephenson/sprockets/blob/v2.12.3/lib/sprockets/asset_attributes.rb#L49) \u3092\u898b\u308b\u3068\u5206\u304b\u308b\u3088\u3046\u306b\u3001\u5b9f\u969b\u306b\u306f `logical_path` \u3068\u3044\u3046\u3001engine_extensions\u304b\u3089\u53d6\u308a\u51fa\u305b\u308b\u5e7e\u3064\u304b\u306e\u62e1\u5f35\u5b50\u3092\u53d6\u308a\u9664\u3044\u305f\u30d1\u30b9\u306b\u5bfe\u3057\u3066\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3044\u307e\u3059\u3002\n\n```rb\n[1] pry(main)> Sprockets::Environment.new.engine_extensions\n=> [\".coffee\", \".jst\", \".eco\", \".ejs\", \".less\", \".sass\", \".scss\", \".erb\", \".str\"]\n```\n\n\u3053\u306e\u3088\u3046\u306b\u3001.ejs \u3084 .scss \u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001/path/to/application.css.ejs.scss \u306elogical_path\u306f /path/to/application.css \u3068\u306a\u308a\u3001\u5148\u8ff0\u3057\u305f `/(?:\\/|\\\\|\\A)application\\.(css|js)$/` \u306e\u6b63\u898f\u8868\u73fe\u306b\u4e00\u81f4\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n## \u56de\u907f\u7b56\n`/(?:\\/|\\\\|\\A)application\\.(css|js)$/` \u3092\u5fc5\u8981\u3068\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u3053\u308c\u3092\u53d6\u308a\u9664\u304d\u307e\u3059\u3002::Sprockets::Railtie::LOOSE_APP_ASSETS \u3092\u5fd8\u308c\u308b\u3068app/assets\u4ee5\u4e0b\u306e\u30d5\u30a9\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u5fc5\u8981\u306a\u5834\u5408\u306f\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n```rb\nconfig.assets.precompile = [\n  ::Sprockets::Railtie::LOOSE_APP_ASSETS,\n  'application.css',\n  'application.js',\n]\n```\n"}