{"context": " More than 1 year has passed since last update.\u30b5\u30a4\u30c8\u6b7b\u6d3b\u76e3\u8996\u7528\u306b\n\u7121\u6599\u3067CRON\u304c\u51fa\u6765\u308b\u30b5\u30fc\u30d3\u30b9\u7121\u3044\u304b\u3068\u63a2\u3057\u3066\u3044\u305f\u3089\u3001\nGoogle Apps Script\u306e\u30c8\u30ea\u30ac\u30fc\u304c\u4fbf\u5229\u305d\u3046\u306a\u306e\u3067\u66f8\u3044\u3066\u307f\u305f\u3002\n\u4e00\u5b9a\u6642\u9593\u7f6e\u304d\u306bURL\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3001\u691c\u8a3c\u6587\u5b57\u5217\u304c\u7121\u3051\u308c\u3070\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3002\n\u30c8\u30ea\u30ac\u30fc\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u4e0b\u8a18\u3092\u53c2\u8003\u3002\nhttp://www.infoscoop.org/blogjp/2014/05/05/google-apps-script-sample/\nhttp://dotinstall.com/lessons/basic_google_apps_script/24313\n\u25cb\u79d2\u5fdc\u7b54\u304c\u7121\u304b\u3063\u305f\u3089\u30e1\u30fc\u30eb\u9001\u4fe1\u3068\u3057\u305f\u304b\u3063\u305f\u3051\u3069\u3001timeout\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u308f\u304b\u3089\u305a\u3002\n\u203btimeout\u306e\u6307\u5b9a\u306f\u51fa\u6765\u306a\u3044\u3088\u3046\u3060\u3002GoogleAppScript\u306e\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306f5min\u3089\u3057\u3044\u3002\nhttp://stackoverflow.com/questions/19135818/how-to-cancel-an-urlfetchapp-fetch-after-specified-time\nhttp://hima.okitsunesama.com/2014/07/gmail-googleappscript.html\nfunction myFunction() {\n  try{\n    var url=\"\u691c\u8a3cURL\"; //\u691c\u8a3cURL\n    var mailto=\"\u9001\u4fe1\u5148\u30e1\u30fc\u30eb\"; // \u9001\u4fe1\u5148\u30e1\u30fc\u30eb\uff08\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u8907\u6570\u6307\u5b9a\uff09\n    var search_string=\"\u691c\u8a3c\u6587\u5b57\u5217\"; //\u691c\u8a3c\u6587\u5b57\u5217\n\n    var response = UrlFetchApp.fetch(url,{\n      muteHttpExceptions : true \n      //true\u306e\u5834\u5408\u3001HTTP\u30a8\u30e9\u30fc\u306e\u6642\u306b\u4f8b\u5916\u3092\u30b9\u30ed\u30fc\u3057\u306a\u3044\n    });\n\n    if(response.getContentText().indexOf(search_string)<=0){\n      MailApp.sendEmail(\n        mailto,\n        \"[GAS] \u691c\u8a3c\u6587\u5b57\u5217\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\",// \u30e1\u30fc\u30eb\u4ef6\u540d\n        \"\",\n        {\n          htmlBody: url + \"<br/>\" + response.getContentText()\n        }\n      );\n    }\n  }catch(e){\n      // \u63a5\u7d9a\u30a8\u30e9\u30fc\n      //Logger.log(e);\n      MailApp.sendEmail(\n        mailto,// \u9001\u4fe1\u5148\u30e1\u30fc\u30eb\n        \"[GAS] \u691c\u8a3cURL\u306b\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093\",// \u30e1\u30fc\u30eb\u4ef6\u540d\n        \"\",\n        {\n          htmlBody: url + \"<br />\" + e.message\n        }\n      );    \n  }\n\n}\n\n\n\u63a2\u3057\u3066\u307f\u305f\u3089\u3001newrelic\u306esynthetics\u3092\u4f7f\u3048\u3070\u30da\u30fc\u30b8\u5185\u306e\u300c\u691c\u8a3c\u6587\u5b57\u5217\u300d\u306e\u76e3\u8996\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u5b9f\u969b\u306fsynthetics\u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u3088\u3055\u305d\u3046\u3002\nhttp://newrelic.com/synthetics\nhttp://qiita.com/kumatronik/items/c542feac77b08c3ca646\n\n\u30b5\u30a4\u30c8\u6b7b\u6d3b\u76e3\u8996\u7528\u306b\n\u7121\u6599\u3067CRON\u304c\u51fa\u6765\u308b\u30b5\u30fc\u30d3\u30b9\u7121\u3044\u304b\u3068\u63a2\u3057\u3066\u3044\u305f\u3089\u3001\nGoogle Apps Script\u306e\u30c8\u30ea\u30ac\u30fc\u304c\u4fbf\u5229\u305d\u3046\u306a\u306e\u3067\u66f8\u3044\u3066\u307f\u305f\u3002\n\u4e00\u5b9a\u6642\u9593\u7f6e\u304d\u306bURL\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3001\u691c\u8a3c\u6587\u5b57\u5217\u304c\u7121\u3051\u308c\u3070\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3002\n\u30c8\u30ea\u30ac\u30fc\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u4e0b\u8a18\u3092\u53c2\u8003\u3002\nhttp://www.infoscoop.org/blogjp/2014/05/05/google-apps-script-sample/\nhttp://dotinstall.com/lessons/basic_google_apps_script/24313\n\n\n\u25cb\u79d2\u5fdc\u7b54\u304c\u7121\u304b\u3063\u305f\u3089\u30e1\u30fc\u30eb\u9001\u4fe1\u3068\u3057\u305f\u304b\u3063\u305f\u3051\u3069\u3001timeout\u306e\u8a2d\u5b9a\u65b9\u6cd5\u306f\u308f\u304b\u3089\u305a\u3002\n\u203btimeout\u306e\u6307\u5b9a\u306f\u51fa\u6765\u306a\u3044\u3088\u3046\u3060\u3002GoogleAppScript\u306e\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306f5min\u3089\u3057\u3044\u3002\nhttp://stackoverflow.com/questions/19135818/how-to-cancel-an-urlfetchapp-fetch-after-specified-time\nhttp://hima.okitsunesama.com/2014/07/gmail-googleappscript.html\n\n```js\nfunction myFunction() {\n  try{\n    var url=\"\u691c\u8a3cURL\"; //\u691c\u8a3cURL\n    var mailto=\"\u9001\u4fe1\u5148\u30e1\u30fc\u30eb\"; // \u9001\u4fe1\u5148\u30e1\u30fc\u30eb\uff08\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u8907\u6570\u6307\u5b9a\uff09\n    var search_string=\"\u691c\u8a3c\u6587\u5b57\u5217\"; //\u691c\u8a3c\u6587\u5b57\u5217\n    \n    var response = UrlFetchApp.fetch(url,{\n      muteHttpExceptions : true \n      //true\u306e\u5834\u5408\u3001HTTP\u30a8\u30e9\u30fc\u306e\u6642\u306b\u4f8b\u5916\u3092\u30b9\u30ed\u30fc\u3057\u306a\u3044\n    });\n    \n    if(response.getContentText().indexOf(search_string)<=0){\n      MailApp.sendEmail(\n        mailto,\n        \"[GAS] \u691c\u8a3c\u6587\u5b57\u5217\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\",// \u30e1\u30fc\u30eb\u4ef6\u540d\n        \"\",\n        {\n          htmlBody: url + \"<br/>\" + response.getContentText()\n        }\n      );\n    }\n  }catch(e){\n      // \u63a5\u7d9a\u30a8\u30e9\u30fc\n      //Logger.log(e);\n      MailApp.sendEmail(\n        mailto,// \u9001\u4fe1\u5148\u30e1\u30fc\u30eb\n        \"[GAS] \u691c\u8a3cURL\u306b\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093\",// \u30e1\u30fc\u30eb\u4ef6\u540d\n        \"\",\n        {\n          htmlBody: url + \"<br />\" + e.message\n        }\n      );    \n  }\n  \n}\n\n```\n\n\u63a2\u3057\u3066\u307f\u305f\u3089\u3001newrelic\u306esynthetics\u3092\u4f7f\u3048\u3070\u30da\u30fc\u30b8\u5185\u306e\u300c\u691c\u8a3c\u6587\u5b57\u5217\u300d\u306e\u76e3\u8996\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u5b9f\u969b\u306fsynthetics\u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u3088\u3055\u305d\u3046\u3002\nhttp://newrelic.com/synthetics\nhttp://qiita.com/kumatronik/items/c542feac77b08c3ca646\n", "tags": ["gas", "GoogleAppsScript"]}