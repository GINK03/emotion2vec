{"context": "\n\n0. \u30ed\u30fc\u30ab\u30eb\u7aef\u672b\u3067\u306e\u4f5c\u696d\n\n0.1. \u5909\u6570\u306e\u8a2d\u5b9a\n\n\u5909\u6570\u306e\u8a2d\u5b9a\nFILE_SSH_KEY='<\u30ad\u30fc\u30da\u30a2\u306e\u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9>'\nEC2_PUBLIC_IP='<EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9>'\n\n\n\n0.2. .pgpass\u306e\u8ee2\u9001\n\n\u30b3\u30de\u30f3\u30c9(Local)\nscp -i ${FILE_SSH_KEY} ~/.pgpass ec2-user@${EC2_PUBLIC_IP}:\n\n\n\n\u7d50\u679c(\u4f8b)\n.pgpass                                       100%  111     0.1KB/s   00:00    \n\n\n\n1. EC2\u3078\u306e\u30ed\u30b0\u30a4\u30f3\n\n\u30b3\u30de\u30f3\u30c9\nssh -i ${FILE_SSH_KEY} ec2-user@${EC2_PUBLIC_IP}\n\n\n\n2. \u5909\u6570\u306e\u8a2d\u5b9a\n\n\u5909\u6570\u306e\u8a2d\u5b9a(\u4f8b)\nRDS_INSTANCE_ENDPOINT=<RDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8>\nRDS_USER_NAME='pgadmin'\nRDS_DB_NAME=\"handson$(date +%Y%m%d)\"\n\n\n\n3. \u63a5\u7d9a\n\n\u30b3\u30de\u30f3\u30c9\npsql \\\n        --host=${RDS_INSTANCE_ENDPOINT} \\\n        --username=${RDS_USER_NAME} \\\n        --dbname=${RDS_DB_NAME}\n\n\n\n\u7d50\u679c\n      psql (9.5.5, server 9.5.4)\n      SSL connection (protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384, bits: 256, compression: off)\n      Type \"help\" for help.\n\n      handson20161113=>\n\n\n\n3. DB\u30b3\u30de\u30f3\u30c9\u306e\u30c6\u30b9\u30c8\u5b9f\u884c\nDB\u30b3\u30de\u30f3\u30c9\u306e\u30c6\u30b9\u30c8\u5b9f\u884c\u3092\u3057\u3066\u307f\u307e\u3059\u3002\n\nSQL\nselect version();\n\n\n\n\u7d50\u679c(\u4f8b)\n\n                                                       version\n      ----------------------------------------------------------------------------------------------------------\n        PostgreSQL 9.5.4 on x86_64-pc-linux-gnu, compiled by gcc (GCC) 4.8.2 20140120 (Red Hat 4.8.2-16), 64-bit\n       (1 row)\n\n\n\n4. DB\u3078\u306e\u63a5\u7d9a\u3092\u5207\u65ad\nDB\u3078\u306e\u63a5\u7d9a\u3092\u5207\u65ad\u3057\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\n\\q\n\n\n\n\u5b8c\u4e86\n# 0. \u30ed\u30fc\u30ab\u30eb\u7aef\u672b\u3067\u306e\u4f5c\u696d\n\n## 0.1. \u5909\u6570\u306e\u8a2d\u5b9a\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a\nFILE_SSH_KEY='<\u30ad\u30fc\u30da\u30a2\u306e\u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9>'\nEC2_PUBLIC_IP='<EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eIP\u30a2\u30c9\u30ec\u30b9>'\n```\n\n# 0.2. .pgpass\u306e\u8ee2\u9001\n\n```bash:\u30b3\u30de\u30f3\u30c9(Local):\nscp -i ${FILE_SSH_KEY} ~/.pgpass ec2-user@${EC2_PUBLIC_IP}:\n```\n```text:\u7d50\u679c(\u4f8b):\n.pgpass                                       100%  111     0.1KB/s   00:00    \n```\n\n# 1. EC2\u3078\u306e\u30ed\u30b0\u30a4\u30f3\n\n```bash:\u30b3\u30de\u30f3\u30c9:\nssh -i ${FILE_SSH_KEY} ec2-user@${EC2_PUBLIC_IP}\n```\n\n# 2. \u5909\u6570\u306e\u8a2d\u5b9a\n\n```bash:\u5909\u6570\u306e\u8a2d\u5b9a(\u4f8b):\nRDS_INSTANCE_ENDPOINT=<RDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8>\nRDS_USER_NAME='pgadmin'\nRDS_DB_NAME=\"handson$(date +%Y%m%d)\"\n```\n\n# 3. \u63a5\u7d9a\n\n```bash:\u30b3\u30de\u30f3\u30c9:\npsql \\\n        --host=${RDS_INSTANCE_ENDPOINT} \\\n        --username=${RDS_USER_NAME} \\\n        --dbname=${RDS_DB_NAME}\n```\n\n```text:\u7d50\u679c:\n      psql (9.5.5, server 9.5.4)\n      SSL connection (protocol: TLSv1.2, cipher: ECDHE-RSA-AES256-GCM-SHA384, bits: 256, compression: off)\n      Type \"help\" for help.\n\n      handson20161113=>\n```\n\n# 3. DB\u30b3\u30de\u30f3\u30c9\u306e\u30c6\u30b9\u30c8\u5b9f\u884c\n\nDB\u30b3\u30de\u30f3\u30c9\u306e\u30c6\u30b9\u30c8\u5b9f\u884c\u3092\u3057\u3066\u307f\u307e\u3059\u3002\n\n```sql:SQL:\nselect version();\n```\n\n```text:\u7d50\u679c(\u4f8b):\n\n                                                       version\n      ----------------------------------------------------------------------------------------------------------\n        PostgreSQL 9.5.4 on x86_64-pc-linux-gnu, compiled by gcc (GCC) 4.8.2 20140120 (Red Hat 4.8.2-16), 64-bit\n       (1 row)\n```\n\n\n# 4. DB\u3078\u306e\u63a5\u7d9a\u3092\u5207\u65ad\n\nDB\u3078\u306e\u63a5\u7d9a\u3092\u5207\u65ad\u3057\u307e\u3059\u3002\n\n```bash:\u30b3\u30de\u30f3\u30c9:\n\\q\n```\n\n# \u5b8c\u4e86\n", "tags": ["PostgreSQL", "RDS"]}