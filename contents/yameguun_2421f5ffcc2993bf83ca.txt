{"context": " More than 1 year has passed since last update.\u521d\u6295\u7a3f\u3067\u3059\u3002cocos2d-x\u3067sqlite3\u3092\u4f7f\u3048\u306a\u3044\u304b\u8abf\u3079\u3066\u3044\u305f\u3089\n\u30d6\u30ed\u30b0\u3067\u767a\u898b\u3057\u305f\u306e\u3067\u81ea\u5206\u3067\u8a66\u3057\u305f\u3089\u3046\u307e\u304f\u52d5\u3044\u3066\u304f\u308c\u305f\u306e\u3067\u5fd8\u5374\u9632\u6b62\u306e\u70ba\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002\n\n\u6e96\u5099\nsqlite3.h\u30d8\u30c3\u30c0\u30fc\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\n\nHelloWorldScene.cpp\n#include \"sqlite3.h\" \n\n\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\nHelloWorldScene.cpp\n\n    // SQLITE3\n    sqlite3 *pDB = NULL;\n    char* errMsg = NULL;\n    std::string sqlstr;\n    int result;\n    std::string dbPath = CCFileUtils::sharedFileUtils()->getWriteablePath();\n    dbPath.append(\"Test.db\");\n    result = sqlite3_open(dbPath.c_str(),&pDB);\n    if (result != SQLITE_OK){\n        CCLOG(\"OPENING WRONG, %d, MSG:%s\",result,errMsg);\n    }else{\n        CCLOG(\"OK! %d, %s\",result,errMsg);\n    }\n\n    // \u8aad\u307f\u66f8\u304d\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u306e\u8868\u793a\n    CCLog(\"%s\",dbPath.c_str());\n\n    result=sqlite3_exec( pDB, \"create table MyTable_1( ID integer primary key autoincrement, name nvarchar(32) ) \" , NULL, NULL, &errMsg );\n    if( result != SQLITE_OK )\n        CCLog( \"\u5931\u6557\u3000:%d \uff0c\u539f\u56e0:%s\\n\" , result, errMsg );\n\n    //insert\n    sqlstr=\" insert into MyTable_1( name ) values ( '\u3044\u3061\u3054' ) \";\n    result = sqlite3_exec( pDB, sqlstr.c_str() , NULL, NULL, &errMsg );\n    if(result != SQLITE_OK )\n        CCLog( \"\u5931\u6557\u3000:%d \uff0c\u539f\u56e0:%s\\n\" , result, errMsg );\n\n    //insert\n    sqlstr=\" insert into MyTable_1( name ) values ( '\u3076\u3069\u3046' ) \";\n    result = sqlite3_exec( pDB, sqlstr.c_str() , NULL, NULL, &errMsg );\n    if(result != SQLITE_OK )\n        CCLog( \"\u5931\u6557\u3000:%d \uff0c\u539f\u56e0:%s\\n\" , result, errMsg );\n\n    //insert\n    sqlstr=\" insert into MyTable_1( name ) values ( '\u3070\u306a\u306a' ) \";\n    result = sqlite3_exec( pDB, sqlstr.c_str() , NULL, NULL, &errMsg );\n    if(result != SQLITE_OK )\n        CCLog( \"\u5931\u6557\u3000:%d \uff0c\u539f\u56e0:%s\\n\" , result, errMsg );\n\n    sqlite3_close(pDB);\n\n\n\n\u521d\u6295\u7a3f\u3067\u3059\u3002cocos2d-x\u3067sqlite3\u3092\u4f7f\u3048\u306a\u3044\u304b\u8abf\u3079\u3066\u3044\u305f\u3089\n\u30d6\u30ed\u30b0\u3067\u767a\u898b\u3057\u305f\u306e\u3067\u81ea\u5206\u3067\u8a66\u3057\u305f\u3089\u3046\u307e\u304f\u52d5\u3044\u3066\u304f\u308c\u305f\u306e\u3067\u5fd8\u5374\u9632\u6b62\u306e\u70ba\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002\n\n##\u6e96\u5099\nsqlite3.h\u30d8\u30c3\u30c0\u30fc\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```c++:HelloWorldScene.cpp\n#include \"sqlite3.h\" \n```\n\n##\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n```c++:HelloWorldScene.cpp\n\n    // SQLITE3\n    sqlite3 *pDB = NULL;\n    char* errMsg = NULL;\n    std::string sqlstr;\n    int result;\n    std::string dbPath = CCFileUtils::sharedFileUtils()->getWriteablePath();\n    dbPath.append(\"Test.db\");\n    result = sqlite3_open(dbPath.c_str(),&pDB);\n    if (result != SQLITE_OK){\n        CCLOG(\"OPENING WRONG, %d, MSG:%s\",result,errMsg);\n    }else{\n        CCLOG(\"OK! %d, %s\",result,errMsg);\n    }\n    \n    // \u8aad\u307f\u66f8\u304d\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u306e\u8868\u793a\n    CCLog(\"%s\",dbPath.c_str());\n    \n    result=sqlite3_exec( pDB, \"create table MyTable_1( ID integer primary key autoincrement, name nvarchar(32) ) \" , NULL, NULL, &errMsg );\n    if( result != SQLITE_OK )\n        CCLog( \"\u5931\u6557\u3000:%d \uff0c\u539f\u56e0:%s\\n\" , result, errMsg );\n    \n    //insert\n    sqlstr=\" insert into MyTable_1( name ) values ( '\u3044\u3061\u3054' ) \";\n    result = sqlite3_exec( pDB, sqlstr.c_str() , NULL, NULL, &errMsg );\n    if(result != SQLITE_OK )\n        CCLog( \"\u5931\u6557\u3000:%d \uff0c\u539f\u56e0:%s\\n\" , result, errMsg );\n    \n    //insert\n    sqlstr=\" insert into MyTable_1( name ) values ( '\u3076\u3069\u3046' ) \";\n    result = sqlite3_exec( pDB, sqlstr.c_str() , NULL, NULL, &errMsg );\n    if(result != SQLITE_OK )\n        CCLog( \"\u5931\u6557\u3000:%d \uff0c\u539f\u56e0:%s\\n\" , result, errMsg );\n    \n    //insert\n    sqlstr=\" insert into MyTable_1( name ) values ( '\u3070\u306a\u306a' ) \";\n    result = sqlite3_exec( pDB, sqlstr.c_str() , NULL, NULL, &errMsg );\n    if(result != SQLITE_OK )\n        CCLog( \"\u5931\u6557\u3000:%d \uff0c\u539f\u56e0:%s\\n\" , result, errMsg );\n    \n    sqlite3_close(pDB);\n```\n \n\n\n\n\n", "tags": ["Android", "C++", "iPhone", "cocos2d-x"]}