{"context": " More than 1 year has passed since last update.DOM3 \u306b\u3066\u306f Load & Save \u6a5f\u80fd \u6709\u308a\u3066 package org.w3c.dom.ls \u306b \u3053\u308c\u3089 \u6709\u308a\u3002\nimport org.w3c.dom.ls.*;\n\nDOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\nDOMImplementationLS ls = (DOMImplementationLS) registry.getDOMImplementation(\"LS 3.0\");\n\n\u3084\u309d \u8a73\u3057\u304f \u66f8\u304f\u306b\nDOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\nDOMImplementation dom = registry.getDOMImplementation(\"+LS 3.0 +XPath 3.0\");\nDOMImplementationLS ls = (DOMImplementationLS) dom.getFeature(\"+LS\", \"3.0\");\n\n\u3057\u3066\nload \u3059\u306a\u306f\u3061 XML \u2192 DOM \u306f\nLSInput lsInput = ls.createLSInput();\nFileInputStream fis = new FileInputStream(path);\nlsInput.setByteStream(fis);\nlsInput.setEncoding(\"UTF-8\");\n\nLSParser lsParser = ls.createLSParser(DOMImplementationLS.MODE_SYNCHRONOUS, null);\nDocument document = lsParser.parse(lsInput);\n\nsave \u3059\u306a\u306f\u3061 DOM \u2192 XML \u306f\nLSOutput lsOutput = ls.createLSOutput();\nFileOutputStream fos = new FileOutputStream(path);\nlsOutput.setByteStream(fos);\nlsOutput.setEncoding(\"UTF-8\");\n\nLSSerializer lsSerializer = ls.createLSSerializer();\nserializer.write(document, lsOutput);\n\nLSSerializer \u306f \u6b21\u306e \u5982\u304f \u98fe\u308a \u5f97:\nserializer.getDomConfig().setParameter(\"comments\", false);\nserializer.getDomConfig().setParameter(\"format-pretty-print\", true);\nserializer.getDomConfig().setParameter(\"xml-declaration\", false);\n...\n\n\n\u3061\u306a\u307f\u306b \u305d\u308c\u4ee5\u524d\u306b\u3066\u306f \u6b21\u306e \u3054\u3068\u304f \u3057\u304d\u3002\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nfactory.setnamespaceAware(false);\nfactory.setValidating(false);\nfactory.setExpandEntityRefereces(true);\nfactory.setIgnoringElementContentWhitespace(true);\nfactory.setIgnoringComments(true);\nDocumentBuilder builder = factory.newDocumentBuilder();\nDocument document = builder.parse(file);\n\nTransformer transformer = TransformerFactory.newInstance().newTransformer();\ntransformer.setOutputProperty(OutputKeys.METHOD, \"xml\");\ntransformer.setOUtputProperty(OutputKeys.INDENT, \"yes\");\nDOMSource source = new DOMSource(document);\nStreamResult result = new StreamResult(outputStream);\ntransformer.transform(source, result);\n\nDOM3 \u306b\u3066\u306f Load & Save \u6a5f\u80fd \u6709\u308a\u3066 package org.w3c.dom.ls \u306b \u3053\u308c\u3089 \u6709\u308a\u3002\n\n```java\nimport org.w3c.dom.ls.*;\n\nDOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\nDOMImplementationLS ls = (DOMImplementationLS) registry.getDOMImplementation(\"LS 3.0\");\n```\n\n\u3084\u309d \u8a73\u3057\u304f \u66f8\u304f\u306b\n\n```java\nDOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\nDOMImplementation dom = registry.getDOMImplementation(\"+LS 3.0 +XPath 3.0\");\nDOMImplementationLS ls = (DOMImplementationLS) dom.getFeature(\"+LS\", \"3.0\");\n```\n\n\u3057\u3066\nload \u3059\u306a\u306f\u3061 XML \u2192 DOM \u306f\n\n```java\nLSInput lsInput = ls.createLSInput();\nFileInputStream fis = new FileInputStream(path);\nlsInput.setByteStream(fis);\nlsInput.setEncoding(\"UTF-8\");\n\nLSParser lsParser = ls.createLSParser(DOMImplementationLS.MODE_SYNCHRONOUS, null);\nDocument document = lsParser.parse(lsInput);\n```\n\nsave \u3059\u306a\u306f\u3061 DOM \u2192 XML \u306f\n\n```java\nLSOutput lsOutput = ls.createLSOutput();\nFileOutputStream fos = new FileOutputStream(path);\nlsOutput.setByteStream(fos);\nlsOutput.setEncoding(\"UTF-8\");\n\nLSSerializer lsSerializer = ls.createLSSerializer();\nserializer.write(document, lsOutput);\n```\n\nLSSerializer \u306f \u6b21\u306e \u5982\u304f \u98fe\u308a \u5f97:\n\n```java\nserializer.getDomConfig().setParameter(\"comments\", false);\nserializer.getDomConfig().setParameter(\"format-pretty-print\", true);\nserializer.getDomConfig().setParameter(\"xml-declaration\", false);\n...\n```\n\n---\n\n\u3061\u306a\u307f\u306b \u305d\u308c\u4ee5\u524d\u306b\u3066\u306f \u6b21\u306e \u3054\u3068\u304f \u3057\u304d\u3002\n\n```java\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\nfactory.setnamespaceAware(false);\nfactory.setValidating(false);\nfactory.setExpandEntityRefereces(true);\nfactory.setIgnoringElementContentWhitespace(true);\nfactory.setIgnoringComments(true);\nDocumentBuilder builder = factory.newDocumentBuilder();\nDocument document = builder.parse(file);\n```\n\n```java\nTransformer transformer = TransformerFactory.newInstance().newTransformer();\ntransformer.setOutputProperty(OutputKeys.METHOD, \"xml\");\ntransformer.setOUtputProperty(OutputKeys.INDENT, \"yes\");\nDOMSource source = new DOMSource(document);\nStreamResult result = new StreamResult(outputStream);\ntransformer.transform(source, result);\n```\n", "tags": ["Java", "XML", "dom"]}