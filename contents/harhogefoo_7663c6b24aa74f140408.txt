{"context": " More than 1 year has passed since last update.\n\nphpMyAdmin\u306e\u8a2d\u5b9a\u3067\u4e2d\u3005\u30cf\u30de\u3063\u305f\u306e\u3067\u30e1\u30e2\n\n\u524d\u63d0\nNginx\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install php5-cgi php5-mysql php5-fpm\nsudo apt-get install phpmyadmin\n\napache\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3092\u9078\u629e\u3057\u3066Enter(nginx\u306e\u9078\u629e\u304c\u7121\u304b\u3063\u305f\u306e\u3067apache\u3092\u9078\u629e\uff0eSkip\u3067\u304d\u306a\u304b\u3063\u305f\uff0e\uff09\n\nnginx.conf\nconfig\u306e\u30d1\u30b9\u306f\n/etc/nginx/sites-available/default\n\u306a\u306e\u3067\nsudo vim /etc/nginx/sites-available/default\n\n\n/etc/nginx/sites-available/default\n\nserver {\n...\n  location /phpmyadmin {\n    root /usr/share;\n    index index.php;\n\n    location ~ ^/phpmyadmin.+\\.php$ {\n      # Bad gatway 502\u304c\u51fa\u305f\u3089\u30bd\u30b1\u30c3\u30c8\u306e\u30d1\u30b9\u3068\u540d\u524d\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\n      fastcgi_pass   unix:/var/run/php5-fpm.sock;\n      fastcgi_index  index.php;\n      fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n      include        fastcgi_params;\n    }\n  }\n...\n\n\n\n\nnginx \u518d\u8d77\u52d5\nsudo service nginx resatart\n\n\n\u78ba\u8a8d\nhttp://[host]/phpmyadmin\n\n\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\nsudo sysv-rc-conf php5-fpm\n\n\n\u53c2\u8003\u6587\u732e\nsock\u306eNo such file or directory\u3067\u898b\u305f\u306e\u306f\u2193\nhttps://www.scalescale.com/tips/nginx/php-fpm-connect-to-unixtmpphp5-fpm-sock-failed-2-no-such-file-or-directory/\n\u4e0a\u8a18\u3067\u306f/tmp/php5-fpm.sock\u306b\u306a\u3063\u3066\u3044\u3066\uff0c\n\u81ea\u5206\u306e\u74b0\u5883\u306b\u306f/tmp/php5-fpm.sock\u306f\u5b58\u5728\u3057\u306a\u304b\u3063\u305f\uff0e\u4eca\u56de\u306e\u30cf\u30de\u308a\u30dd\u30a4\u30f3\u30c8\uff0e\n\nsock\u306ePermission\u3067\u6012\u3089\u308c\u305f\u6642\u306f\u2193\uff08\u4eca\u56de\u306f\u767a\u751f\u3057\u306a\u304b\u3063\u305f\uff09\nhttp://kawatama.net/web/1352\n\n\u6240\u611f\nNginx\u306e\u8a2d\u5b9a\u3092\u4f59\u308a\u3044\u3058\u3063\u305f\u3053\u3068\u7121\u304b\u3063\u305f\u306e\u3067Bad Gateway\u51fa\u3066\u840e\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u304c\uff0c\u305d\u3053\u306f\u6c17\u5408\uff0e\n\u30b0\u30b0\u3063\u3066\u3082\u30b0\u30b0\u3063\u3066\u3082CentOS + phpMyAdmin\u3060\u3063\u305f\u308a\u3067\u3042\u307e\u308a\u53c2\u8003\u306b\u306a\u3089\u306a\u304b\u3063\u305f\u308a...\nNginx\u306eBad GateWay\u304c\u51fa\u305f\u6642\u306f\ncat /var/log/nginx/error.log\n\n\u306a\u3069\u3067\u30a8\u30e9\u30fc\u6587\u3092\u78ba\u8a8d\u3057\u3088\u3046\uff0e\n# phpMyAdmin\u306e\u8a2d\u5b9a\u3067\u4e2d\u3005\u30cf\u30de\u3063\u305f\u306e\u3067\u30e1\u30e2\n### \u524d\u63d0\nNginx\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nsudo apt-get install php5-cgi php5-mysql php5-fpm\nsudo apt-get install phpmyadmin\n```\n\napache\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3092\u9078\u629e\u3057\u3066Enter(nginx\u306e\u9078\u629e\u304c\u7121\u304b\u3063\u305f\u306e\u3067apache\u3092\u9078\u629e\uff0eSkip\u3067\u304d\u306a\u304b\u3063\u305f\uff0e\uff09\n\n\n## nginx.conf\nconfig\u306e\u30d1\u30b9\u306f\n/etc/nginx/sites-available/default\n\u306a\u306e\u3067\n\n```\nsudo vim /etc/nginx/sites-available/default\n```\n\n``` conf:/etc/nginx/sites-available/default\n\nserver {\n...\n  location /phpmyadmin {\n    root /usr/share;\n    index index.php;\n\n    location ~ ^/phpmyadmin.+\\.php$ {\n      # Bad gatway 502\u304c\u51fa\u305f\u3089\u30bd\u30b1\u30c3\u30c8\u306e\u30d1\u30b9\u3068\u540d\u524d\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\n      fastcgi_pass   unix:/var/run/php5-fpm.sock;\n      fastcgi_index  index.php;\n      fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n      include        fastcgi_params;\n    }\n  }\n...\n\n```\n## nginx \u518d\u8d77\u52d5\n```\nsudo service nginx resatart\n```\n\n## \u78ba\u8a8d\nhttp://[host]/phpmyadmin\n\n# \u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n```\nsudo sysv-rc-conf php5-fpm\n```\n\n\n# \u53c2\u8003\u6587\u732e\nsock\u306eNo such file or directory\u3067\u898b\u305f\u306e\u306f\u2193\nhttps://www.scalescale.com/tips/nginx/php-fpm-connect-to-unixtmpphp5-fpm-sock-failed-2-no-such-file-or-directory/\n\u4e0a\u8a18\u3067\u306f/tmp/php5-fpm.sock\u306b\u306a\u3063\u3066\u3044\u3066\uff0c\n\u81ea\u5206\u306e\u74b0\u5883\u306b\u306f/tmp/php5-fpm.sock\u306f\u5b58\u5728\u3057\u306a\u304b\u3063\u305f\uff0e\u4eca\u56de\u306e\u30cf\u30de\u308a\u30dd\u30a4\u30f3\u30c8\uff0e\n***\nsock\u306ePermission\u3067\u6012\u3089\u308c\u305f\u6642\u306f\u2193\uff08\u4eca\u56de\u306f\u767a\u751f\u3057\u306a\u304b\u3063\u305f\uff09\nhttp://kawatama.net/web/1352\n\n\n## \u6240\u611f\nNginx\u306e\u8a2d\u5b9a\u3092\u4f59\u308a\u3044\u3058\u3063\u305f\u3053\u3068\u7121\u304b\u3063\u305f\u306e\u3067Bad Gateway\u51fa\u3066\u840e\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u304c\uff0c\u305d\u3053\u306f\u6c17\u5408\uff0e\n\u30b0\u30b0\u3063\u3066\u3082\u30b0\u30b0\u3063\u3066\u3082CentOS + phpMyAdmin\u3060\u3063\u305f\u308a\u3067\u3042\u307e\u308a\u53c2\u8003\u306b\u306a\u3089\u306a\u304b\u3063\u305f\u308a...\n\n\nNginx\u306eBad GateWay\u304c\u51fa\u305f\u6642\u306f\n\n```\ncat /var/log/nginx/error.log\n```\n\u306a\u3069\u3067\u30a8\u30e9\u30fc\u6587\u3092\u78ba\u8a8d\u3057\u3088\u3046\uff0e\n\n", "tags": ["phpMyadmin", "Ubuntu14.04", "nginx"]}