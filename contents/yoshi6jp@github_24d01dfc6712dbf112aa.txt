{"context": " More than 1 year has passed since last update.WebdriverIO\u306f\u3001ES6 generators (yield)\u3092\u5229\u7528\u3057\u3066\u30c6\u30b9\u30c8\u304c\u66f8\u3051\u308b\u306e\u3067\u3001power-assert\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u307f\u305f\u3002\n\n\u6e96\u5099\ngulp\u3067\u74b0\u5883\u69cb\u7bc9\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3092\u4f5c\u3063\u305f\u306e\u3067git clone...\n$ git clone git@github.com:yoshi6jp/webdriverio-power-assert-sample.git\n$ cd webdriverio-power-assert-sample/\n$ npm install\n\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u5b9f\u884c\u3057\u3066\u307f\u308b\n$ npm test\n\n> wdio@1.0.0 test webdriverio-power-assert-sample\n> gulp\n\n[07:00:45] Requiring external module coffee-script/register\n[07:00:46] Using gulpfile webdriverio-power-assert-sample/gulpfile.coffee\n[07:00:46] Starting 'selenium-install'...\n[07:03:51] Finished 'selenium-install' after 3.08 min\n[07:03:51] Starting 'selenium'...\n[07:03:51] Finished 'selenium' after 592 ms\n[07:03:51] Starting 'webdriver'...\n[07:03:51] spawn wdio with these attributes:\n webdriverio-power-assert-sample/wdio.conf.js\n\n\u2024\u2024\u2024\u2024\n\n4 passing (25.60s)\n\n\n[07:04:18] wdio testrunner finished with exit code 0\n[07:04:18] Finished 'webdriver' after 26 s\n[07:04:18] Starting 'default'...\n[07:04:18] Finished 'default' after 579 \u03bcs\n\n\n\nSelenium Webdriver\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u8d77\u52d5\u3082gulp\u3067\u3084\u3063\u3066\u307e\u3059\nfirefox\u304c\u8d77\u52d5\u3057\u3066\u3001\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u308b\u306f\u305a...\n\n\n\u89e3\u8aac\n\ngenerator\u306e\u4f8b\n\n\u307b\u307c\u3001WebdriverIO\u306e\u30b5\u30f3\u30d7\u30eb\u305d\u306e\u307e\u307e\u3067\u3059\u304c\u3002\u3002\u3002\n\nvar assert = require('power-assert');\n// :\ndescribe('js test case', function() {\n  before(function(){\n    browser.url('http://webdriver.io');\n  })\n  it('generator', function* () {\n    // function* \u3067generator\u306e\u5ba3\u8a00\n\n    var title = yield browser.getTitle();   \n    //yield\u3067title\u306e\u5024\u3092\u53d6\u5f97\n\n    assert(/WebdriverIO/.test(title) == true);\n  });\n  // :    \n});\n\n\npower-assert\u306a\u306e\u3067\u30a8\u30e9\u30fc\u6642\u3082\u304d\u308c\u3044\u306b\u8868\u793a(assert(title == \"ng\")\u3092\u8ffd\u52a0\u3057\u3066\u5b9f\u884c)\n\nAssertionError:   # test/specs/case1.js:15\n\n  assert(title == \"ng\")\n         |     |       \n         |     false   \n         \"WebdriverIO - Selenium 2.0 javascript bindings for nodejs\"\n\n\nCustom Commands\u3092\u4f7f\u3063\u3066\u307f\u308b\n\n\u72ec\u81ea\u306e\u30b3\u30de\u30f3\u30c9\u3092browser\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8ffd\u52a0\u3057\u3066\u5229\u7528\u3067\u304d\u308b\n\n\npromise\u7248\nbrowser.addCommand(\"getUrlAndTitle\", function() {\n    return this.url().then(function(urlResult) {\n        return this.getTitle().then(function(titleResult) {\n            return { url: urlResult.value, title: titleResult };\n        });\n    });\n});\n\n\ngenerator\u7248\n// \u3053\u306e\u8a18\u8ff0\u3060\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\nbrowser.addCommand(\"getUrlAndTitle\", function* () {\n  var urlResult = yield this.url();\n  var titleResult = yield this.getTitle();\n  return { url: urlResult.value, title: titleResult };\n});\n\n\naddCommand\u306f\u3001promise\u3057\u304b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u5358\u7d14\u306bfunction*\u3067generator\u3092\u66f8\u304f\u3068\u30a8\u30e9\u30fc\u306b...\n\n\u30ab\u30b9\u30bf\u30e0\u30b3\u30de\u30f3\u30c9\u3067\u3082generator\u3092\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001co\u3092\u4f7f\u3063\u3066\u89e3\u6c7a!\n\n\u3000\u89e3\u6c7a\u65b9\u6cd5\nvar co = require('co');\nbrowser.addCommand(\"getUrlAndTitle\", co.wrap(function* () {\n  var urlResult = yield this.url();\n  var titleResult = yield this.getTitle();\n  return { url: urlResult.value, title: titleResult };\n}));\n\n\n\nco.wrap\u3092\u4f7f\u3046\u3068generator\u3092promise\u306b\u5909\u63db\u3067\u304d\u308b\n\nvar assert = require('power-assert');\nvar co = require('co');\nbrowser.addCommand(\"getUrlAndTitle\", co.wrap(function* () {\n  var urlResult = yield this.url();\n  var titleResult = yield this.getTitle();\n  return { url: urlResult.value, title: titleResult };\n}));\ndescribe('js test case', function() {\n  before(function(){\n    browser.url('http://webdriver.io');\n  })\n  it('custom command', function* (){\n    var urlAndTitle = yield browser.getUrlAndTitle();\n    // \u30ab\u30b9\u30bf\u30e0\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066yield\u3067\u5024\u3092\u53d6\u5f97\n\n    assert(/WebdriverIO/.test(urlAndTitle.title) == true);\n    assert(urlAndTitle.url == 'http://webdriver.io/');\n  });\n});\n\n\ncoffeescript\u3067\u3082\u66f8\u3044\u3066\u307f\u308b\nassert = require 'power-assert'\nco = require 'co'\nbrowser.addCommand \"getUrlAndTitleCS\", co.wrap ->\n  urlResult = yield this.url()\n  titleResult = yield this.getTitle()\n  url: urlResult.value, title: titleResult\n\ndescribe 'cs test case', ->\n  before ->\n    browser.url 'http://webdriver.io'\n\n  it 'generator', ->\n    title = yield browser.getTitle()\n    assert /WebdriverIO/.test(title) == true\n\n  it 'custom command', ->\n    urlAndTitle = yield browser.getUrlAndTitleCS()\n    assert /WebdriverIO/.test(urlAndTitle.title) == true\n    assert urlAndTitle.url == 'http://webdriver.io/'\n\n\n\n\ncoffeescript\u306e\u5834\u5408\u3001->\u6f14\u7b97\u5b50\u306e\u4e2d\u306byield\u304c\u3042\u308b\u3068generator\u3068\u89e3\u91c8\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u5c11\u3057\u4fbf\u5229!\n\n\n\u4ed6\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u30c6\u30b9\u30c8\u3059\u308b\u5834\u5408\nweio.conf.js\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u3067\u53ef\u80fd\n   capabilities: [{\n        browserName: 'firefox' \n        // -> 'chrome' or 'internet explorer', etc\n    }],\n\n\n\u4ed6\u306b\u3082\u8272\u3005\u3068\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\n\n[WebdriverIO](http://webdriver.io/)\u306f\u3001ES6 generators (yield)\u3092\u5229\u7528\u3057\u3066\u30c6\u30b9\u30c8\u304c\u66f8\u3051\u308b\u306e\u3067\u3001[power-assert](https://github.com/power-assert-js/power-assert)\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u307f\u305f\u3002\n\n# \u6e96\u5099\n\ngulp\u3067\u74b0\u5883\u69cb\u7bc9\u3059\u308b[\u30b5\u30f3\u30d7\u30eb](https://github.com/yoshi6jp/webdriverio-power-assert-sample)\u3092\u4f5c\u3063\u305f\u306e\u3067`git clone`...\n\n```\n$ git clone git@github.com:yoshi6jp/webdriverio-power-assert-sample.git\n$ cd webdriverio-power-assert-sample/\n$ npm install\n```\n\n# \u3068\u308a\u3042\u3048\u305a\u3001\u5b9f\u884c\u3057\u3066\u307f\u308b\n\n```\n$ npm test\n\n> wdio@1.0.0 test webdriverio-power-assert-sample\n> gulp\n\n[07:00:45] Requiring external module coffee-script/register\n[07:00:46] Using gulpfile webdriverio-power-assert-sample/gulpfile.coffee\n[07:00:46] Starting 'selenium-install'...\n[07:03:51] Finished 'selenium-install' after 3.08 min\n[07:03:51] Starting 'selenium'...\n[07:03:51] Finished 'selenium' after 592 ms\n[07:03:51] Starting 'webdriver'...\n[07:03:51] spawn wdio with these attributes:\n webdriverio-power-assert-sample/wdio.conf.js\n\n\u2024\u2024\u2024\u2024\n\n4 passing (25.60s)\n\n\n[07:04:18] wdio testrunner finished with exit code 0\n[07:04:18] Finished 'webdriver' after 26 s\n[07:04:18] Starting 'default'...\n[07:04:18] Finished 'default' after 579 \u03bcs\n\n```\n- Selenium Webdriver\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u8d77\u52d5\u3082gulp\u3067\u3084\u3063\u3066\u307e\u3059\n- firefox\u304c\u8d77\u52d5\u3057\u3066\u3001\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u308b\u306f\u305a...\n\n# \u89e3\u8aac\n\n## generator\u306e\u4f8b \n- \u307b\u307c\u3001[WebdriverIO](http://webdriver.io/)\u306e\u30b5\u30f3\u30d7\u30eb\u305d\u306e\u307e\u307e\u3067\u3059\u304c\u3002\u3002\u3002\n\n```js\nvar assert = require('power-assert');\n// :\ndescribe('js test case', function() {\n  before(function(){\n    browser.url('http://webdriver.io');\n  })\n  it('generator', function* () {\n    // function* \u3067generator\u306e\u5ba3\u8a00\n\n    var title = yield browser.getTitle();   \n    //yield\u3067title\u306e\u5024\u3092\u53d6\u5f97\n\n    assert(/WebdriverIO/.test(title) == true);\n  });\n  // :    \n});\n```\n- power-assert\u306a\u306e\u3067\u30a8\u30e9\u30fc\u6642\u3082\u304d\u308c\u3044\u306b\u8868\u793a(`assert(title == \"ng\")`\u3092\u8ffd\u52a0\u3057\u3066\u5b9f\u884c)\n\n```\nAssertionError:   # test/specs/case1.js:15\n  \n  assert(title == \"ng\")\n         |     |       \n         |     false   \n         \"WebdriverIO - Selenium 2.0 javascript bindings for nodejs\"\n```\n## [Custom Commands](http://webdriver.io/guide/usage/customcommands.html)\u3092\u4f7f\u3063\u3066\u307f\u308b\n\n- \u72ec\u81ea\u306e\u30b3\u30de\u30f3\u30c9\u3092`browser`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8ffd\u52a0\u3057\u3066\u5229\u7528\u3067\u304d\u308b\n\n### promise\u7248\n```js\nbrowser.addCommand(\"getUrlAndTitle\", function() {\n    return this.url().then(function(urlResult) {\n        return this.getTitle().then(function(titleResult) {\n            return { url: urlResult.value, title: titleResult };\n        });\n    });\n});\n```\n\n### generator\u7248\n\n```js\n// \u3053\u306e\u8a18\u8ff0\u3060\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\nbrowser.addCommand(\"getUrlAndTitle\", function* () {\n  var urlResult = yield this.url();\n  var titleResult = yield this.getTitle();\n  return { url: urlResult.value, title: titleResult };\n});\n```\n- addCommand\u306f\u3001promise\u3057\u304b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u5358\u7d14\u306b`function*`\u3067generator\u3092\u66f8\u304f\u3068\u30a8\u30e9\u30fc\u306b...\n\n\u30ab\u30b9\u30bf\u30e0\u30b3\u30de\u30f3\u30c9\u3067\u3082generator\u3092\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001[co](\"https://github.com/tj/co\")\u3092\u4f7f\u3063\u3066\u89e3\u6c7a!\n####\u3000\u89e3\u6c7a\u65b9\u6cd5\n```js\nvar co = require('co');\nbrowser.addCommand(\"getUrlAndTitle\", co.wrap(function* () {\n  var urlResult = yield this.url();\n  var titleResult = yield this.getTitle();\n  return { url: urlResult.value, title: titleResult };\n}));\n```\n- `co.wrap`\u3092\u4f7f\u3046\u3068`generator`\u3092`promise`\u306b\u5909\u63db\u3067\u304d\u308b\n\n```js\nvar assert = require('power-assert');\nvar co = require('co');\nbrowser.addCommand(\"getUrlAndTitle\", co.wrap(function* () {\n  var urlResult = yield this.url();\n  var titleResult = yield this.getTitle();\n  return { url: urlResult.value, title: titleResult };\n}));\ndescribe('js test case', function() {\n  before(function(){\n    browser.url('http://webdriver.io');\n  })\n  it('custom command', function* (){\n    var urlAndTitle = yield browser.getUrlAndTitle();\n    // \u30ab\u30b9\u30bf\u30e0\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066yield\u3067\u5024\u3092\u53d6\u5f97\n\n    assert(/WebdriverIO/.test(urlAndTitle.title) == true);\n    assert(urlAndTitle.url == 'http://webdriver.io/');\n  });\n});\n```\n\n## coffeescript\u3067\u3082\u66f8\u3044\u3066\u307f\u308b\n\n```coffeescript\nassert = require 'power-assert'\nco = require 'co'\nbrowser.addCommand \"getUrlAndTitleCS\", co.wrap ->\n  urlResult = yield this.url()\n  titleResult = yield this.getTitle()\n  url: urlResult.value, title: titleResult\n\ndescribe 'cs test case', ->\n  before ->\n    browser.url 'http://webdriver.io'\n\n  it 'generator', ->\n    title = yield browser.getTitle()\n    assert /WebdriverIO/.test(title) == true\n\n  it 'custom command', ->\n    urlAndTitle = yield browser.getUrlAndTitleCS()\n    assert /WebdriverIO/.test(urlAndTitle.title) == true\n    assert urlAndTitle.url == 'http://webdriver.io/'\n\n```\n- [coffeescript](http://coffeescript.org/#fat-arrow)\u306e\u5834\u5408\u3001`->`\u6f14\u7b97\u5b50\u306e\u4e2d\u306b`yield`\u304c\u3042\u308b\u3068`generator`\u3068\u89e3\u91c8\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u5c11\u3057\u4fbf\u5229!\n\n### \u4ed6\u306e\u30d6\u30e9\u30a6\u30b6\u3067\u30c6\u30b9\u30c8\u3059\u308b\u5834\u5408\n\n[weio.conf.js](http://webdriver.io/guide/getstarted/configuration.html)\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u3067\u53ef\u80fd\n\n```js\n   capabilities: [{\n        browserName: 'firefox' \n        // -> 'chrome' or 'internet explorer', etc\n    }],\n```\n\n- \u4ed6\u306b\u3082\u8272\u3005\u3068\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\n", "tags": ["JavaScript", "CoffeeScript", "es6", "WebdriverIO", "power-assert"]}