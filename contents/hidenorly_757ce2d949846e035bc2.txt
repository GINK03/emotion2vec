{"context": "\n\nOverview\nBluetooth on Raspberry Pi3 with Ubuntu Mate 16.04 LTS \u3067\u3001\u3088\u3046\u3084\u304fRaspberry Pi3\u5185\u8535\u306eBluetooth\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001BLE device\u3092hack\u3057\u3066\u307f\u308b\u305f\u3081\u306b\u8272\u3005\u3068\u904a\u3093\u3067\u307f\u305f\u306e\u3067\u3059\u3002\n\u306a\u304a\u3001\u904a\u3093\u3060\u7d50\u679c\u3092\u307e\u3068\u305fscript\u3092\u4ee5\u4e0b\u306b\u66f8\u3044\u3066\u304a\u304d\u307e\u3057\u305f\u3002\nhttps://github.com/hidenorly/bleBulbDriver\n\nBluetooth\u306e\u6709\u52b9\u5316\n$ sudo rfkill unblock bluetooth\n$ sudo hciconfig hci0 up\n\n\u307b\u304b\u306f\u524d\u306e\u8a18\u4e8b\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\nBLE devices\u306e\u5217\u6319\n$ sudo hcitool lescan\nLE Scan ...\nD0:5F:B8:XX:XX:XX SATECHILED-0\n\n\nBLE device\u306eservice\u306e\u5217\u6319\n$ sudo gatttool --device D0:5F:B8:XX:XX:XX --primary\n\n\nBLE\u306echaracteristics\u306e\u5217\u6319\n$ sudo gatttool --device D0:5F:B8:XX:XX:XX --char-desc\n\n\u3053\u3053\u304b\u3089\u6240\u671b\u306eUUID\u306e\u30b5\u30fc\u30d3\u30b9\u306ehandle\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3001\n$ sudo gatttool --device D0:5F:B8:XX:XX:XX --char-desc | grep fff3\nhandle = 0x002b, uuid = 0000fff3-0000-1000-8000-00805f9b34fb\n\n\u307f\u305f\u3044\u306b\u3059\u308b\u3068\u304b\u304c\u4fbf\u5229\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\n\u4f8b : SATECHI LED Bulb\u306e\u5236\u5fa1\n\u8272\u3005\u3068\u5f04\u3063\u305f\u7d50\u679c\u3002\nbulb:On\n# gatttool --device=D0:5F:B8:XX:XX:XX --char-write-req --handle=0x002b --value=0f0d0300ffffffc800c800c8000059ffff\n\nbulb:off\n# gatttool --device=D0:5F:B8:2F:AA:EC --char-write-req --handle=0x002b --value=0f0d0300ffffff0000c800c8000091ffff\n\n\n\u3067\u3001\u9762\u5012\u306a\u306e\u3067\nhttps://github.com/hidenorly/bleBulbDriver\n$ ./bleBulbDriver.rb\nUsage: listDevices|on|off|allOn|allOff\nbleBulbDriver Copyright 2016 hidenorly\n    -b, --target=                    Set target device's mac address\n    -t, --type=                      Set device type (default:SATECHILED)\n\n$ sudo ./bleBulbDriver.rb listdevices\nD0:5F:B8:XX:XX:XX SATECHILED-0\n\n$ sudo ./bleBulbDriver.rb allon\n$ sudo ./bleBulbDriver.rb alloff\n$ sudo ./bleBulbDriver.rb alltoggle\n\n$ ./bleBulbDriver.rb on -b D0:5F:B8:XX:XX:XX\n$ ./bleBulbDriver.rb off -b D0:5F:B8:XX:XX:XX\n$ ./bleBulbDriver.rb toggle -b D0:5F:B8:XX:XX:XX\n\n\u306e\u3088\u3046\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\u3053\u308c\u3067\u3001\u8272\u3005\u3068\u3067\u304d\u308b\uff01\n# Overview\n\n[Bluetooth on Raspberry Pi3 with Ubuntu Mate 16.04 LTS](http://qiita.com/hidenorly/items/1c7ff9ce41edfa7d3aee) \u3067\u3001\u3088\u3046\u3084\u304fRaspberry Pi3\u5185\u8535\u306eBluetooth\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001BLE device\u3092hack\u3057\u3066\u307f\u308b\u305f\u3081\u306b\u8272\u3005\u3068\u904a\u3093\u3067\u307f\u305f\u306e\u3067\u3059\u3002\n\n\u306a\u304a\u3001\u904a\u3093\u3060\u7d50\u679c\u3092\u307e\u3068\u305fscript\u3092\u4ee5\u4e0b\u306b\u66f8\u3044\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\nhttps://github.com/hidenorly/bleBulbDriver\n\n# Bluetooth\u306e\u6709\u52b9\u5316\n\n```\n$ sudo rfkill unblock bluetooth\n$ sudo hciconfig hci0 up\n```\n\n\u307b\u304b\u306f\u524d\u306e\u8a18\u4e8b\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n# BLE devices\u306e\u5217\u6319\n\n```\n$ sudo hcitool lescan\nLE Scan ...\nD0:5F:B8:XX:XX:XX SATECHILED-0\n```\n\n# BLE device\u306eservice\u306e\u5217\u6319\n\n```\n$ sudo gatttool --device D0:5F:B8:XX:XX:XX --primary\n```\n\n# BLE\u306echaracteristics\u306e\u5217\u6319\n\n```\n$ sudo gatttool --device D0:5F:B8:XX:XX:XX --char-desc\n```\n\n\u3053\u3053\u304b\u3089\u6240\u671b\u306eUUID\u306e\u30b5\u30fc\u30d3\u30b9\u306ehandle\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u3001\n\n```\n$ sudo gatttool --device D0:5F:B8:XX:XX:XX --char-desc | grep fff3\nhandle = 0x002b, uuid = 0000fff3-0000-1000-8000-00805f9b34fb\n```\n\n\u307f\u305f\u3044\u306b\u3059\u308b\u3068\u304b\u304c\u4fbf\u5229\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\n\n# \u4f8b : SATECHI LED Bulb\u306e\u5236\u5fa1\n\n\u8272\u3005\u3068\u5f04\u3063\u305f\u7d50\u679c\u3002\n\nbulb:On\n\n```\n# gatttool --device=D0:5F:B8:XX:XX:XX --char-write-req --handle=0x002b --value=0f0d0300ffffffc800c800c8000059ffff\n```\n\nbulb:off\n\n```\n# gatttool --device=D0:5F:B8:2F:AA:EC --char-write-req --handle=0x002b --value=0f0d0300ffffff0000c800c8000091ffff\n```\n\n# \u3067\u3001\u9762\u5012\u306a\u306e\u3067\n\nhttps://github.com/hidenorly/bleBulbDriver\n\n```\n$ ./bleBulbDriver.rb\nUsage: listDevices|on|off|allOn|allOff\nbleBulbDriver Copyright 2016 hidenorly\n    -b, --target=                    Set target device's mac address\n    -t, --type=                      Set device type (default:SATECHILED)\n```\n\n```\n$ sudo ./bleBulbDriver.rb listdevices\nD0:5F:B8:XX:XX:XX SATECHILED-0\n```\n\n```\n$ sudo ./bleBulbDriver.rb allon\n$ sudo ./bleBulbDriver.rb alloff\n$ sudo ./bleBulbDriver.rb alltoggle\n```\n\n```\n$ ./bleBulbDriver.rb on -b D0:5F:B8:XX:XX:XX\n$ ./bleBulbDriver.rb off -b D0:5F:B8:XX:XX:XX\n$ ./bleBulbDriver.rb toggle -b D0:5F:B8:XX:XX:XX\n```\n\n\n\n\u306e\u3088\u3046\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\n\u3053\u308c\u3067\u3001\u8272\u3005\u3068\u3067\u304d\u308b\uff01\n", "tags": ["BLE", "Raspberry", "Bluez", "gattool", "\u304a\u3046\u3061\u30cf\u30c3\u30af"]}