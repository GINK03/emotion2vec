{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nZABBIX 3.0 \u306e\u03b1\u7248\u3067\u3042\u308b2.5 \u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u306e\u3067\u3001CentOS6.7(64bit)\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u5b58\u5728\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u306a\u308a\u307e\u3059\u3002\nCentOS6.7 \u306fminimal \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\nPHP5.6 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nZabbix-2.5(3.0\u03b1)\u306fPHP\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 5.6\u4ee5\u4e0a\u3068\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001epel,remi \u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n# rpm -ivh http://ftp-srv2.kddilabs.jp/Linux/distributions/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm\n# rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\n# yum --enablerepo=remi,remi-php56 install php php-mysqlnd php-gd php-bcmath php-common php-mbstring php-xml\n\n\u203bepel\u306e\u30df\u30e9\u30fc\u30b5\u30fc\u30d0\u304c\u6a5f\u80fd\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n# cat /etc/yum.repos.d/epel.repo\n[epel]\nname=Extra Packages for Enterprise Linux 6 - $basearch\nbaseurl=http://download.fedoraproject.org/pub/epel/6/$basearch\n#mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-6&arch=$basearchfailovermethod=priority\nenabled=1\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6\n\n\nApache\u3001MYSQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install http mysql-server\n\n\n\u30fb Apache\u3001MYSQL\u306e\u8d77\u52d5\n# service mysqld start\n# service httpd start\n# chkconfig mysqld on\n# chkconfig httpd on\n\n\n\u30fb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306f password\u3000\u3068\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n# mysql -uroot\nmysql> create database zabbix character set utf8 collate utf8_bin;\nmysql> grant all privileges on zabbix.* to zabbix@localhost identified by 'password';\nmysql> quit\n\n\n\u30fb\u30b9\u30ad\u30fc\u30de\u306e\u4f5c\u6210\n# cd zabbix-2.5.0\n# mysql -uroot zabbix < database/mysql/schema.sql\n# mysql -uroot zabbix < database/mysql/images.sql\n# mysql -uroot zabbix < database/mysql/data.sql\n\n\nzabbix \u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n# groupadd zabbix\n# useradd -g zabbix zabbix\n\n\nzabbix-2.5.0 \u30bd\u30fc\u30b9\u306e\u53d6\u5f97\n# yum install wget\n# cd /usr/local/src\n# wget\u3000http://sourceforge.net/projects/zabbix/filesZABBIX%20Latest%20Development/2.5.0/zabbix-2.5.0.tar.gz'\n# tar xfz zabbix-2.5.0.tar.gz\n\n\n\u958b\u767a\u74b0\u5883\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install gcc mysql-devel net-snmp-devel libcurl-devel libxml2-devel\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\n# cd zabbix-2.5.0\n# ./configure --enable-server --enable-agent --with-mysql --enable-ipv6 --with-net-snmp --with-libcurl --with-libxml2\n# make install\n\n\n\n\u8a2d\u5b9a\nDB\u540d\u3001\u30e6\u30fc\u30b6\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a\n# vi /usr/local/etc/zabbix_server.conf\nDBPassword=password\u3000\u3000\u3000\u3000\u2190\u8a18\u8ff0\n\n\nPHP\u306e\u8a2d\u5b9a\n$ sed -i -e \"s/memory_limit = 128M/memory_limit = 256M/g\" /etc/php.ini\n$ sed -i -e \"s/post_max_size = 8M/post_max_size = 16M/g\" /etc/php.ini\n$ sed -i -e \"s/max_execution_time = 30/max_execution_time = 300/g\" /etc/php.ini\n$ sed -i -e \"s/max_input_time = 60/max_input_time = 300/g\" /etc/php.ini\n$ sed -i -e \"s/;date.timezone =/date.timezone = Asia\\/Tokyo/g\" /etc/php.ini\n$ sed -i -e \"s/;always_populate_raw_post_data/always_populate_raw_post_data/g\" /etc/php.ini\n\nApache \u306e\u518d\u8d77\u52d5\n# service httpd restart\n\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b3\u30d4\u30fc\n# mkdir /var/www/html/zabbix\n# cd /usr/local/src/zabbix-2.5.0\n# cp -a ./frontends/php/* /var/www/html/zabbix\n# chown -R apache:apache zabbix\n\n\nZabbix\u30b5\u30fc\u30d0\u306e\u8d77\u52d5\n# /usr/local/sbin/zabbix_server\n\n\n\u305d\u306e\u4ed6\n\niptables \u306e\u8a2d\u5b9a\n# vi /etc/sysconfig/iptables\n-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT \u3000\u3000\u2190\u8ffd\u52a0\n# service iptables restart\n\n\nSELINUX\u3092 disabled\n# vi /etc/sysconfig/selinux\nSELINUX=disabled\n# setenforce 0\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u521d\u671f\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3001\u30e6\u30fc\u30b6\u540d\uff1aAdmin\u3000\u30d1\u30b9\u30ef\u30fc\u30c9\uff1azabbix \u3068\u306a\u308a\u307e\u3059\u3002\n\u53c2\u8003\uff1aZabbix 2.5(3.0\u306e\u03b1\u7248)\u3092\u30bd\u30fc\u30b9\u304b\u3089Amazon Linux\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u305f\n\u3000\u3000\u3000http://dev.classmethod.jp/etc/zabbix-2-5-3-0-source-install/\n\n##\u306f\u3058\u3081\u306b\nZABBIX 3.0 \u306e\u03b1\u7248\u3067\u3042\u308b2.5 \u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u306e\u3067\u3001CentOS6.7(64bit)\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u5b58\u5728\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u306a\u308a\u307e\u3059\u3002\nCentOS6.7 \u306fminimal \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\n## PHP5.6 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nZabbix-2.5(3.0\u03b1)\u306fPHP\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 5.6\u4ee5\u4e0a\u3068\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001epel,remi \u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\n```\n# rpm -ivh http://ftp-srv2.kddilabs.jp/Linux/distributions/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm\n# rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\n# yum --enablerepo=remi,remi-php56 install php php-mysqlnd php-gd php-bcmath php-common php-mbstring php-xml\n```\n\u203bepel\u306e\u30df\u30e9\u30fc\u30b5\u30fc\u30d0\u304c\u6a5f\u80fd\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u306e\u3067\u3001\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```\n# cat /etc/yum.repos.d/epel.repo\n[epel]\nname=Extra Packages for Enterprise Linux 6 - $basearch\nbaseurl=http://download.fedoraproject.org/pub/epel/6/$basearch\n#mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-6&arch=$basearchfailovermethod=priority\nenabled=1\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6\n```\n## Apache\u3001MYSQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# yum install http mysql-server\n```\n###\u30fb Apache\u3001MYSQL\u306e\u8d77\u52d5\n```\n# service mysqld start\n# service httpd start\n# chkconfig mysqld on\n# chkconfig httpd on\n```\n### \u30fb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306f password\u3000\u3068\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```\n# mysql -uroot\nmysql> create database zabbix character set utf8 collate utf8_bin;\nmysql> grant all privileges on zabbix.* to zabbix@localhost identified by 'password';\nmysql> quit\n```\n### \u30fb\u30b9\u30ad\u30fc\u30de\u306e\u4f5c\u6210\n\n```\n# cd zabbix-2.5.0\n# mysql -uroot zabbix < database/mysql/schema.sql\n# mysql -uroot zabbix < database/mysql/images.sql\n# mysql -uroot zabbix < database/mysql/data.sql\n```\n\n## zabbix \u30e6\u30fc\u30b6\u306e\u4f5c\u6210\n```\n# groupadd zabbix\n# useradd -g zabbix zabbix\n```\n\n\n## zabbix-2.5.0 \u30bd\u30fc\u30b9\u306e\u53d6\u5f97\n\n\n```\n# yum install wget\n# cd /usr/local/src\n# wget\u3000http://sourceforge.net/projects/zabbix/filesZABBIX%20Latest%20Development/2.5.0/zabbix-2.5.0.tar.gz'\n# tar xfz zabbix-2.5.0.tar.gz\n```\n\n##\u958b\u767a\u74b0\u5883\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n# yum install gcc mysql-devel net-snmp-devel libcurl-devel libxml2-devel\n```\n##\u30b3\u30f3\u30d1\u30a4\u30eb\n```\n# cd zabbix-2.5.0\n# ./configure --enable-server --enable-agent --with-mysql --enable-ipv6 --with-net-snmp --with-libcurl --with-libxml2\n# make install\n\n```\n##\u8a2d\u5b9a\nDB\u540d\u3001\u30e6\u30fc\u30b6\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a\n\n```\n# vi /usr/local/etc/zabbix_server.conf\nDBPassword=password\u3000\u3000\u3000\u3000\u2190\u8a18\u8ff0\n```\n###PHP\u306e\u8a2d\u5b9a\n\n```\n$ sed -i -e \"s/memory_limit = 128M/memory_limit = 256M/g\" /etc/php.ini\n$ sed -i -e \"s/post_max_size = 8M/post_max_size = 16M/g\" /etc/php.ini\n$ sed -i -e \"s/max_execution_time = 30/max_execution_time = 300/g\" /etc/php.ini\n$ sed -i -e \"s/max_input_time = 60/max_input_time = 300/g\" /etc/php.ini\n$ sed -i -e \"s/;date.timezone =/date.timezone = Asia\\/Tokyo/g\" /etc/php.ini\n$ sed -i -e \"s/;always_populate_raw_post_data/always_populate_raw_post_data/g\" /etc/php.ini\n```\nApache \u306e\u518d\u8d77\u52d5\n\n```\n# service httpd restart\n```\n###\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b3\u30d4\u30fc\n```\n# mkdir /var/www/html/zabbix\n# cd /usr/local/src/zabbix-2.5.0\n# cp -a ./frontends/php/* /var/www/html/zabbix\n# chown -R apache:apache zabbix\n```\n##Zabbix\u30b5\u30fc\u30d0\u306e\u8d77\u52d5\n```\n# /usr/local/sbin/zabbix_server\n```\n##\u305d\u306e\u4ed6\n\n###iptables \u306e\u8a2d\u5b9a\n```\n# vi /etc/sysconfig/iptables\n-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT \u3000\u3000\u2190\u8ffd\u52a0\n# service iptables restart\n```\n###SELINUX\u3092 disabled\n```\n# vi /etc/sysconfig/selinux\nSELINUX=disabled\n# setenforce 0\n```\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u521d\u671f\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3001\u30e6\u30fc\u30b6\u540d\uff1aAdmin\u3000\u30d1\u30b9\u30ef\u30fc\u30c9\uff1azabbix \u3068\u306a\u308a\u307e\u3059\u3002\n\n\n\n\u53c2\u8003\uff1aZabbix 2.5(3.0\u306e\u03b1\u7248)\u3092\u30bd\u30fc\u30b9\u304b\u3089Amazon Linux\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u305f\n\u3000\u3000\u3000http://dev.classmethod.jp/etc/zabbix-2-5-3-0-source-install/\n", "tags": ["zabbix", "CentOS", "Linux", "PHP5.6"]}