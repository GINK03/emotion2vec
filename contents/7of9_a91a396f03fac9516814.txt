{"context": "\n\u52d5\u4f5c\u74b0\u5883\nC++ Builder XE4\n\n\n\n\u5b9f\u88c5\u5185\u5bb9\n\nUDP\u3067TLabel\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u53d7\u4fe1\u3059\u308b\n\u53d6\u5f97\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u5143\u306bTLabel\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u63a2\u3059\n\u898b\u3064\u304b\u3063\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306eCaption\u60c5\u5831\u3092\u8fd4\u4fe1\u3059\u308b\n\n\nv0.1\n\n\u5b9f\u88c5\n\nUnit1.h\n//---------------------------------------------------------------------------\n\n#ifndef Unit1H\n#define Unit1H\n//---------------------------------------------------------------------------\n#include <System.Classes.hpp>\n#include <Vcl.Controls.hpp>\n#include <Vcl.StdCtrls.hpp>\n#include <Vcl.Forms.hpp>\n#include <IdBaseComponent.hpp>\n#include <IdComponent.hpp>\n#include <IdSocketHandle.hpp>\n#include <IdUDPBase.hpp>\n#include <IdUDPServer.hpp>\n//---------------------------------------------------------------------------\nclass TForm1 : public TForm\n{\n__published:    // IDE \u3067\u7ba1\u7406\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n    TLabel *Label1;\n    TIdUDPServer *IdUDPServer1;\n    TMemo *Memo1;\n    TLabel *L_myIP;\n    void __fastcall IdUDPServer1UDPRead(TIdUDPListenerThread *AThread, const TIdBytes AData,\n          TIdSocketHandle *ABinding);\n    void __fastcall FormShow(TObject *Sender);\nprivate:    // \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n    String __fastcall getLabelCaption(String componentName);\npublic:     // \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n    __fastcall TForm1(TComponent* Owner);\n};\n//---------------------------------------------------------------------------\nextern PACKAGE TForm1 *Form1;\n//---------------------------------------------------------------------------\n#endif\n\n\n\nUnit1.cpp\n//---------------------------------------------------------------------------\n\n#include <vcl.h>\n#pragma hdrstop\n\n#include \"Unit1.h\"\n//---------------------------------------------------------------------------\n#pragma package(smart_init)\n#pragma resource \"*.dfm\"\nTForm1 *Form1;\n//---------------------------------------------------------------------------\n__fastcall TForm1::TForm1(TComponent* Owner)\n    : TForm(Owner)\n{\n    IdUDPServer1->DefaultPort = 7000;\n    IdUDPServer1->Active = true;\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::IdUDPServer1UDPRead(TIdUDPListenerThread *AThread, const TIdBytes AData,\n          TIdSocketHandle *ABinding)\n{\n    // 1. Receive command (Component name)\n    String rcvdStr;\n    Idglobal::_di_IIdTextEncoding encSJIS;\n    encSJIS = IndyTextEncoding(932);\n    int init_pos = 0;\n    rcvdStr = encSJIS->GetString(AData, init_pos, AData.Length);\n\n    // for debug\n    Memo1->Lines->Add(L\"rcvd:\" + rcvdStr);\n\n    // 2. return Caption of the component\n    String peerIP = ABinding->PeerIP;\n    int peerPort = ABinding->PeerPort;\n    String retStr = getLabelCaption(/* componentName=*/rcvdStr);\n    IdUDPServer1->Send(peerIP, peerPort, retStr, encSJIS);\n}\n//---------------------------------------------------------------------------\n\nString __fastcall TForm1::getLabelCaption(String componentName)\n{\n    TLabel *lblPtr = (TLabel *)FindComponent(componentName);\n    if (lblPtr == NULL) {\n        return L\"\";\n    }\n\n    return lblPtr->Caption;\n}\n\nvoid __fastcall TForm1::FormShow(TObject *Sender)\n{\n    Label1->Caption = L\"From Label1\";\n\n    // show IP address\n    TIdStack::IncUsage();\n    L_myIP->Caption = GStack->LocalAddress;\n    TIdStack::DecUsage();\n}\n//---------------------------------------------------------------------------\n\n\n\n\u5b9f\u884c\u4f8b\nL_myIP\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u306e\u5fdc\u7b54\n192.168.0.31\n\nLabel1\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u306e\u5fdc\u7b54\nFrom Label1\n\n\u4efb\u610f\u306eTLabel\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u5bfe\u3057\u3066Caption\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002\n\nv0.2 > STX, ETX, BCC\u8ffd\u52a0\n\n\u5909\u66f4\u70b9\n\n\u5fdc\u7b54\u6587\u5b57\u5217\u306b\u30b3\u30de\u30f3\u30c9\u6587\u5b57\u5217(\u3068\",\")\u3092\u8ffd\u52a0\n\n<STX>,<ETX>\u3067\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u56f2\u307f\u3001<ETX>\u306e\u5f8c\u306b<BCC>\u3092\u4ed8\u3051\u308b\u3088\u3046\u306b\u3057\u305f\u3002\n\n\n\n<BCC>\u306e\u8a08\u7b97\u306f\u30da\u30a4\u30ed\u30fc\u30c9+<ETX>\u3092unsigned char\u3067\u7dcf\u548c\u3068\u3063\u305f\u3082\u306e\n\n\n\n\n\u5b9f\u88c5\n\nUnit1.h\n//---------------------------------------------------------------------------\n\n#ifndef Unit1H\n#define Unit1H\n//---------------------------------------------------------------------------\n#include <System.Classes.hpp>\n#include <Vcl.Controls.hpp>\n#include <Vcl.StdCtrls.hpp>\n#include <Vcl.Forms.hpp>\n#include <IdBaseComponent.hpp>\n#include <IdComponent.hpp>\n#include <IdSocketHandle.hpp>\n#include <IdUDPBase.hpp>\n#include <IdUDPServer.hpp>\n//---------------------------------------------------------------------------\nclass TForm1 : public TForm\n{\n__published:    // IDE \u3067\u7ba1\u7406\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n    TLabel *Label1;\n    TIdUDPServer *IdUDPServer1;\n    TMemo *Memo1;\n    TLabel *L_myIP;\n    void __fastcall IdUDPServer1UDPRead(TIdUDPListenerThread *AThread, const TIdBytes AData,\n          TIdSocketHandle *ABinding);\n    void __fastcall FormShow(TObject *Sender);\nprivate:    // \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n    String __fastcall getLabelCaption(String componentName);\npublic:     // \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n    __fastcall TForm1(TComponent* Owner);\n};\n//---------------------------------------------------------------------------\nextern PACKAGE TForm1 *Form1;\n//---------------------------------------------------------------------------\n#endif\n\n\n\nUnit1.cpp\n//---------------------------------------------------------------------------\n\n#include <vcl.h>\n#pragma hdrstop\n\n#include \"Unit1.h\"\n//---------------------------------------------------------------------------\n#pragma package(smart_init)\n#pragma resource \"*.dfm\"\nTForm1 *Form1;\n//---------------------------------------------------------------------------\n\n\n/*\nv0.2 2017/02/21\n    - add getWrappedString()\n    - add calc_bcc()\nv0.1 2017/02/21\n    - add IdUDPServer1UDPRead()\n    - add getLabelCaption()\n    - add FormShow()\n*/\n\n\n__fastcall TForm1::TForm1(TComponent* Owner)\n    : TForm(Owner)\n{\n    IdUDPServer1->DefaultPort = 7000;\n    IdUDPServer1->Active = true;\n}\n//---------------------------------------------------------------------------\n\nstatic unsigned char calc_bcc(char *srcPtr, int len)\n{\n    // srcPtr: <STX>\u30da\u30a4\u30ed\u30fc\u30c9<ETX>\u306e\u6587\u5b57\u5217\n    // \u30da\u30a4\u30ed\u30fc\u30c9\u3068<ETX>\u304b\u3089<BCC>\u3092\u8a08\u7b97\u3059\u308b\n    //\n\n    unsigned char bcc = 0;\n\n    for(int idx=0; idx<len; idx++) {\n        if (idx==0) {\n            continue; // <STX>\u306f\u30b9\u30ad\u30c3\u30d7\u3059\u308b\n        }\n        bcc += srcPtr[idx];\n    }\n\n    return bcc;\n}\n\nstatic AnsiString getWrappedString(AnsiString srcStr)\n{\n    AnsiString retStr = srcStr;\n    char szbuf[50] = {0};\n    szbuf[0] = 0x02; // STX\n    strncpy(&szbuf[1], srcStr.c_str(), srcStr.Length());\n    int last = srcStr.Length();\n    szbuf[++last] = 0x03; // ETX\n\n    unsigned char bcc = calc_bcc(szbuf, strlen(szbuf));\n    szbuf[++last] = bcc;\n\n    return AnsiString(szbuf);\n}\n\nvoid __fastcall TForm1::IdUDPServer1UDPRead(TIdUDPListenerThread *AThread, const TIdBytes AData,\n          TIdSocketHandle *ABinding)\n{\n    // 1. Receive command (Component name)\n    AnsiString rcvdStr;\n    Idglobal::_di_IIdTextEncoding encSJIS;\n    encSJIS = IndyTextEncoding(932);\n    int init_pos = 0;\n    rcvdStr = encSJIS->GetString(AData, init_pos, AData.Length);\n\n    // for debug\n    Memo1->Lines->Add(L\"rcvd:\" + rcvdStr);\n\n    // 2. return Caption of the component\n    AnsiString peerIP = ABinding->PeerIP;\n    int peerPort = ABinding->PeerPort;\n    AnsiString capStr = getLabelCaption(/* componentName=*/rcvdStr);\n    AnsiString wrpStr = getWrappedString(rcvdStr + L\",\" + capStr);\n    IdUDPServer1->Send(peerIP, peerPort, wrpStr, encSJIS);\n}\n//---------------------------------------------------------------------------\n\nString __fastcall TForm1::getLabelCaption(String componentName)\n{\n    TLabel *lblPtr = (TLabel *)FindComponent(componentName);\n    if (lblPtr == NULL) {\n        return L\"\";\n    }\n\n    return lblPtr->Caption;\n}\n\nvoid __fastcall TForm1::FormShow(TObject *Sender)\n{\n    Label1->Caption = L\"From Label1\";\n\n    // show IP address\n    TIdStack::IncUsage();\n    L_myIP->Caption = GStack->LocalAddress;\n    TIdStack::DecUsage();\n}\n//---------------------------------------------------------------------------\n\n\n\n\u52d5\u4f5c\u78ba\u8a8d\nNonSoft\u3055\u3093\u306e\u300cUDP/IP\u30c6\u30b9\u30c8\u30c4\u30fc\u30eb\u300d\u3092\u4f7f\u308f\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\nhttp://nonsoft.la.coocan.jp/Download/UdpTool/index.html\n\u3053\u306e\u30c4\u30fc\u30eb\u306f\u3001ASCII\u6587\u5b57\u5217\u306b\u52a0\u3048\u3066\u3001<STX>\u306a\u3069\u306e\u6587\u5b57\u3092\"<STX>\"\u3068\u3057\u3066\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306a\u901a\u4fe1\u306e\u78ba\u8a8d\u304c\u3057\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u7d50\u679c\n\u9001-> 192.168.0.31 (7000 )L_myIP\n->\u53d7 192.168.0.31 (7000 )<STX>L_myIP,192.168.0.31<ETX><b2>\n\u9001-> 192.168.0.31 (7000 )L_myIP\n->\u53d7 192.168.0.31 (7000 )<STX>L_myIP,192.168.0.31<ETX><b2>\n\n\n```txt:\u52d5\u4f5c\u74b0\u5883\nC++ Builder XE4\n```\n\n## \u5b9f\u88c5\u5185\u5bb9\n\n- UDP\u3067TLabel\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u53d7\u4fe1\u3059\u308b\n- \u53d6\u5f97\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u5143\u306bTLabel\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u63a2\u3059\n- \u898b\u3064\u304b\u3063\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306eCaption\u60c5\u5831\u3092\u8fd4\u4fe1\u3059\u308b\n\n## v0.1\n\n### \u5b9f\u88c5\n\n```Unit1.h\n//---------------------------------------------------------------------------\n\n#ifndef Unit1H\n#define Unit1H\n//---------------------------------------------------------------------------\n#include <System.Classes.hpp>\n#include <Vcl.Controls.hpp>\n#include <Vcl.StdCtrls.hpp>\n#include <Vcl.Forms.hpp>\n#include <IdBaseComponent.hpp>\n#include <IdComponent.hpp>\n#include <IdSocketHandle.hpp>\n#include <IdUDPBase.hpp>\n#include <IdUDPServer.hpp>\n//---------------------------------------------------------------------------\nclass TForm1 : public TForm\n{\n__published:\t// IDE \u3067\u7ba1\u7406\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n\tTLabel *Label1;\n\tTIdUDPServer *IdUDPServer1;\n\tTMemo *Memo1;\n\tTLabel *L_myIP;\n\tvoid __fastcall IdUDPServer1UDPRead(TIdUDPListenerThread *AThread, const TIdBytes AData,\n          TIdSocketHandle *ABinding);\n\tvoid __fastcall FormShow(TObject *Sender);\nprivate:\t// \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n\tString __fastcall getLabelCaption(String componentName);\npublic:\t\t// \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n\t__fastcall TForm1(TComponent* Owner);\n};\n//---------------------------------------------------------------------------\nextern PACKAGE TForm1 *Form1;\n//---------------------------------------------------------------------------\n#endif\n```\n\n```Unit1.cpp\n//---------------------------------------------------------------------------\n\n#include <vcl.h>\n#pragma hdrstop\n\n#include \"Unit1.h\"\n//---------------------------------------------------------------------------\n#pragma package(smart_init)\n#pragma resource \"*.dfm\"\nTForm1 *Form1;\n//---------------------------------------------------------------------------\n__fastcall TForm1::TForm1(TComponent* Owner)\n\t: TForm(Owner)\n{\n\tIdUDPServer1->DefaultPort = 7000;\n\tIdUDPServer1->Active = true;\n}\n//---------------------------------------------------------------------------\nvoid __fastcall TForm1::IdUDPServer1UDPRead(TIdUDPListenerThread *AThread, const TIdBytes AData,\n\t\t  TIdSocketHandle *ABinding)\n{\n\t// 1. Receive command (Component name)\n\tString rcvdStr;\n\tIdglobal::_di_IIdTextEncoding encSJIS;\n\tencSJIS = IndyTextEncoding(932);\n\tint init_pos = 0;\n\trcvdStr = encSJIS->GetString(AData, init_pos, AData.Length);\n\n\t// for debug\n\tMemo1->Lines->Add(L\"rcvd:\" + rcvdStr);\n\n\t// 2. return Caption of the component\n\tString peerIP = ABinding->PeerIP;\n\tint peerPort = ABinding->PeerPort;\n\tString retStr = getLabelCaption(/* componentName=*/rcvdStr);\n\tIdUDPServer1->Send(peerIP, peerPort, retStr, encSJIS);\n}\n//---------------------------------------------------------------------------\n\nString __fastcall TForm1::getLabelCaption(String componentName)\n{\n\tTLabel *lblPtr = (TLabel *)FindComponent(componentName);\n\tif (lblPtr == NULL) {\n\t\treturn L\"\";\n\t}\n\n\treturn lblPtr->Caption;\n}\n\nvoid __fastcall TForm1::FormShow(TObject *Sender)\n{\n\tLabel1->Caption = L\"From Label1\";\n\n\t// show IP address\n\tTIdStack::IncUsage();\n\tL_myIP->Caption = GStack->LocalAddress;\n\tTIdStack::DecUsage();\n}\n//---------------------------------------------------------------------------\n```\n\n### \u5b9f\u884c\u4f8b\n\n`L_myIP`\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u306e\u5fdc\u7b54\n\n```\n192.168.0.31\n```\n\n`Label1`\u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u306e\u5fdc\u7b54\n\n```\nFrom Label1\n```\n\n\u4efb\u610f\u306eTLabel\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u5bfe\u3057\u3066Caption\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002\n\n\n## v0.2 > STX, ETX, BCC\u8ffd\u52a0\n\n### \u5909\u66f4\u70b9\n\n- \u5fdc\u7b54\u6587\u5b57\u5217\u306b\u30b3\u30de\u30f3\u30c9\u6587\u5b57\u5217(\u3068\",\")\u3092\u8ffd\u52a0\n- `<STX>`,`<ETX>`\u3067\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u56f2\u307f\u3001`<ETX>`\u306e\u5f8c\u306b`<BCC>`\u3092\u4ed8\u3051\u308b\u3088\u3046\u306b\u3057\u305f\u3002\n  - `<BCC>`\u306e\u8a08\u7b97\u306f`\u30da\u30a4\u30ed\u30fc\u30c9+<ETX>`\u3092unsigned char\u3067\u7dcf\u548c\u3068\u3063\u305f\u3082\u306e\n\n### \u5b9f\u88c5\n\n```Unit1.h\n//---------------------------------------------------------------------------\n\n#ifndef Unit1H\n#define Unit1H\n//---------------------------------------------------------------------------\n#include <System.Classes.hpp>\n#include <Vcl.Controls.hpp>\n#include <Vcl.StdCtrls.hpp>\n#include <Vcl.Forms.hpp>\n#include <IdBaseComponent.hpp>\n#include <IdComponent.hpp>\n#include <IdSocketHandle.hpp>\n#include <IdUDPBase.hpp>\n#include <IdUDPServer.hpp>\n//---------------------------------------------------------------------------\nclass TForm1 : public TForm\n{\n__published:\t// IDE \u3067\u7ba1\u7406\u3055\u308c\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n\tTLabel *Label1;\n\tTIdUDPServer *IdUDPServer1;\n\tTMemo *Memo1;\n\tTLabel *L_myIP;\n\tvoid __fastcall IdUDPServer1UDPRead(TIdUDPListenerThread *AThread, const TIdBytes AData,\n          TIdSocketHandle *ABinding);\n\tvoid __fastcall FormShow(TObject *Sender);\nprivate:\t// \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n\tString __fastcall getLabelCaption(String componentName);\npublic:\t\t// \u30e6\u30fc\u30b6\u30fc\u5ba3\u8a00\n\t__fastcall TForm1(TComponent* Owner);\n};\n//---------------------------------------------------------------------------\nextern PACKAGE TForm1 *Form1;\n//---------------------------------------------------------------------------\n#endif\n```\n\n```Unit1.cpp\n//---------------------------------------------------------------------------\n\n#include <vcl.h>\n#pragma hdrstop\n\n#include \"Unit1.h\"\n//---------------------------------------------------------------------------\n#pragma package(smart_init)\n#pragma resource \"*.dfm\"\nTForm1 *Form1;\n//---------------------------------------------------------------------------\n\n\n/*\nv0.2 2017/02/21\n\t- add getWrappedString()\n\t- add calc_bcc()\nv0.1 2017/02/21\n\t- add IdUDPServer1UDPRead()\n\t- add getLabelCaption()\n\t- add FormShow()\n*/\n\n\n__fastcall TForm1::TForm1(TComponent* Owner)\n\t: TForm(Owner)\n{\n\tIdUDPServer1->DefaultPort = 7000;\n\tIdUDPServer1->Active = true;\n}\n//---------------------------------------------------------------------------\n\nstatic unsigned char calc_bcc(char *srcPtr, int len)\n{\n\t// srcPtr: <STX>\u30da\u30a4\u30ed\u30fc\u30c9<ETX>\u306e\u6587\u5b57\u5217\n\t// \u30da\u30a4\u30ed\u30fc\u30c9\u3068<ETX>\u304b\u3089<BCC>\u3092\u8a08\u7b97\u3059\u308b\n\t//\n\n\tunsigned char bcc = 0;\n\n\tfor(int idx=0; idx<len; idx++) {\n\t\tif (idx==0) {\n\t\t\tcontinue; // <STX>\u306f\u30b9\u30ad\u30c3\u30d7\u3059\u308b\n\t\t}\n\t\tbcc += srcPtr[idx];\n\t}\n\n\treturn bcc;\n}\n\nstatic AnsiString getWrappedString(AnsiString srcStr)\n{\n\tAnsiString retStr = srcStr;\n\tchar szbuf[50] = {0};\n\tszbuf[0] = 0x02; // STX\n\tstrncpy(&szbuf[1], srcStr.c_str(), srcStr.Length());\n\tint last = srcStr.Length();\n\tszbuf[++last] = 0x03; // ETX\n\n\tunsigned char bcc = calc_bcc(szbuf, strlen(szbuf));\n\tszbuf[++last] = bcc;\n\n\treturn AnsiString(szbuf);\n}\n\nvoid __fastcall TForm1::IdUDPServer1UDPRead(TIdUDPListenerThread *AThread, const TIdBytes AData,\n\t\t  TIdSocketHandle *ABinding)\n{\n\t// 1. Receive command (Component name)\n\tAnsiString rcvdStr;\n\tIdglobal::_di_IIdTextEncoding encSJIS;\n\tencSJIS = IndyTextEncoding(932);\n\tint init_pos = 0;\n\trcvdStr = encSJIS->GetString(AData, init_pos, AData.Length);\n\n\t// for debug\n\tMemo1->Lines->Add(L\"rcvd:\" + rcvdStr);\n\n\t// 2. return Caption of the component\n\tAnsiString peerIP = ABinding->PeerIP;\n\tint peerPort = ABinding->PeerPort;\n\tAnsiString capStr = getLabelCaption(/* componentName=*/rcvdStr);\n\tAnsiString wrpStr = getWrappedString(rcvdStr + L\",\" + capStr);\n\tIdUDPServer1->Send(peerIP, peerPort, wrpStr, encSJIS);\n}\n//---------------------------------------------------------------------------\n\nString __fastcall TForm1::getLabelCaption(String componentName)\n{\n\tTLabel *lblPtr = (TLabel *)FindComponent(componentName);\n\tif (lblPtr == NULL) {\n\t\treturn L\"\";\n\t}\n\n\treturn lblPtr->Caption;\n}\n\nvoid __fastcall TForm1::FormShow(TObject *Sender)\n{\n\tLabel1->Caption = L\"From Label1\";\n\n\t// show IP address\n\tTIdStack::IncUsage();\n\tL_myIP->Caption = GStack->LocalAddress;\n\tTIdStack::DecUsage();\n}\n//---------------------------------------------------------------------------\n```\n\n### \u52d5\u4f5c\u78ba\u8a8d\n\nNonSoft\u3055\u3093\u306e\u300cUDP/IP\u30c6\u30b9\u30c8\u30c4\u30fc\u30eb\u300d\u3092\u4f7f\u308f\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\nhttp://nonsoft.la.coocan.jp/Download/UdpTool/index.html\n\n\u3053\u306e\u30c4\u30fc\u30eb\u306f\u3001ASCII\u6587\u5b57\u5217\u306b\u52a0\u3048\u3066\u3001`<STX>`\u306a\u3069\u306e\u6587\u5b57\u3092\"`<STX>`\"\u3068\u3057\u3066\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u3053\u306e\u305f\u3081\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306a\u901a\u4fe1\u306e\u78ba\u8a8d\u304c\u3057\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\n\n\n```txt:\u7d50\u679c\n\u9001-> 192.168.0.31 (7000 )L_myIP\n->\u53d7 192.168.0.31 (7000 )<STX>L_myIP,192.168.0.31<ETX><b2>\n\u9001-> 192.168.0.31 (7000 )L_myIP\n->\u53d7 192.168.0.31 (7000 )<STX>L_myIP,192.168.0.31<ETX><b2>\n```\n\n\n\n", "tags": ["cppBuilder", "indy", "udp", "networkApp", "BCC"]}