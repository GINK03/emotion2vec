{"context": "\n\u524d\u63d0\n\n\nrake\u304c\u4f7f\u3048\u308b\u3053\u3068\n\n\n\n\ntable\u60c5\u5831\u3092\u4f5c\u308b\n$ bundle exec rake db:create_migration NAME=create_monitoring_logs\n\n\u30bd\u30fc\u30b9\u66f4\u65b0\n$ vi db/migrate/YYYYMMDD014656_create_monitoring_logs.rb \nclass CreateMonitoringLogs < ActiveRecord::Migration\n\nCREATE_TIMESTAMP = 'DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP'\nUPDATE_TIMESTAMP = 'DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP'\n\n  def up\n    create_table :monitoring_logs do |t|\n      t.integer  :level\n      t.bigint  :app_time\n      t.text     :body\n      t.column :created_at, CREATE_TIMESTAMP\n      t.column :updated_at, UPDATE_TIMESTAMP\n    end\n  end\n\n  def down\n    drop_table :monitoring_logs\n  end\n\nend\n\n\n\nmigrate\u3059\u308b\n$ bundle exec rake db:migrate\n\ntable\u60c5\u5831\u3092\u898b\u3066\u307f\u308b\n$ show create table monitoring_logs;\n| monitoring_logs | CREATE TABLE `monitoring_logs` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `level` int(11) DEFAULT NULL,\n  `app_time` bigint(20) DEFAULT NULL,\n  `body` text,\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1 |\n\n\n\n\u7d50\u679c\ntimestamps\u30de\u30b8\u30af\u30bd\u3060\u3063\u305f\uff01\n\n\n* \u524d\u63d0\n\t* rake\u304c\u4f7f\u3048\u308b\u3053\u3068\n\n#### table\u60c5\u5831\u3092\u4f5c\u308b\n$ bundle exec rake db:create_migration NAME=create_monitoring_logs\n\n#### \u30bd\u30fc\u30b9\u66f4\u65b0\n$ vi db/migrate/YYYYMMDD014656_create_monitoring_logs.rb \n\n```\nclass CreateMonitoringLogs < ActiveRecord::Migration\n\nCREATE_TIMESTAMP = 'DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP'\nUPDATE_TIMESTAMP = 'DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP'\n\n  def up\n    create_table :monitoring_logs do |t|\n      t.integer  :level\n      t.bigint  :app_time\n      t.text     :body\n      t.column :created_at, CREATE_TIMESTAMP\n      t.column :updated_at, UPDATE_TIMESTAMP\n    end\n  end\n\n  def down\n    drop_table :monitoring_logs\n  end\n\nend\n\n```\n\n#### migrate\u3059\u308b\n$ bundle exec rake db:migrate\n\n\n\n#### table\u60c5\u5831\u3092\u898b\u3066\u307f\u308b\n\n$ show create table monitoring_logs;\n\n```\n| monitoring_logs | CREATE TABLE `monitoring_logs` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `level` int(11) DEFAULT NULL,\n  `app_time` bigint(20) DEFAULT NULL,\n  `body` text,\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1 |\n\n```\n* \u7d50\u679c\ntimestamps\u30de\u30b8\u30af\u30bd\u3060\u3063\u305f\uff01\n\n\n\n\n\n\n\n\n", "tags": ["ActiveRecord", "default", "Timestamp", "Ruby"]}