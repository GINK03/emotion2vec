{"context": "\u3068\u3042\u308b\u30da\u30fc\u30b8\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3059\u308b\u305f\u3081\u306bcasperjs\u3092\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\n\u7d50\u69cb\u7656\u304c\u3042\u308a\u6d88\u8017\u3057\u3066\u3044\u305f\u3068\u3053\u308d\u3001spookyjs \u3068\u3044\u3046\u30e9\u30c3\u30d1\u30fc\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002\n\u53c2\u8003: SpookyJS\u3067\u697d\u3005\u30c6\u30b9\u30c8&\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\n\u3053\u3061\u3089\u3088\u3055\u3052\u306a\u306e\u3067\u3059\u304c\u3001\u65e5\u672c\u8a9e\u306a\u3069\u306e\u6319\u52d5\u304c\u602a\u3057\u304f\u3001\nform\u306e\u5024\u3068\u3057\u3066\u65e5\u672c\u8a9e\u3092\u6e21\u3059\u3068\u30cf\u30f3\u30b0\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\nvar Spooky = require('spooky');\n\nvar spooky = new Spooky({\n        child: {\n            command: \"node_modules/casperjs/bin/casperjs.exe\",\n            transport: 'http'\n        },\n        casper: {\n            logLevel: 'debug',\n            verbose: true\n        }\n    }, function (err) {\n        if (err) {\n            e = new Error('Failed to initialize SpookyJS');\n            e.details = err;\n            throw e;\n        }\n\n        var links = [];\n\n        spooky.userAgent('Mozilla/5.0 (Windows NT 10.0; WOW64; rv:47.0) Gecko/20100101 Firefox/47.0');\n\n        spooky.start('https://www.google.co.jp');\n        spooky.then(function () {\n            var payload = {q:'\u6771\u4eac\u7279\u8a31\u8a31\u53ef\u5c40'};\n            this.fill('form[action=\"/search\"]',payload, true);\n        });\n        spooky.then(function(){\n            links = this.evaluate(function(){\n                var links = document.querySelectorAll('h3.r a');\n                return Array.prototype.map.call(links, function(e) {\n                    return e.getAttribute('href');\n                });\n            });\n        });\n        spooky.run(function(){\n            this.emit('hello', links.join(\"\\n\"));\n        });\n    });\n\n\u4e0a\u8a18\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u56fa\u307e\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u691c\u7d22\u6587\u5b57\u5217\u3092\u82f1\u6570\u5b57\u306e\u307f\u306b\u3057\u305f\u5834\u5408\u306f\u3001\u554f\u984c\u306a\u304f\u52d5\u304d\u307e\u3059\u3002\n\u539f\u56e0\u306f\u3088\u304f\u308f\u304b\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3059\u304c\u3001spookyjs\u3068casperjs\u3068\u306e\u901a\u4fe1\u90e8\u5206\u3067\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u3046\u307e\u304f\u308f\u305f\u305b\u3066\u3044\u306a\u3044?\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u3053\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b \u901a\u4fe1\u65b9\u6cd5\u306e\u6307\u5b9a\u3092 stdio \u306b\u3057\u3066\u3042\u3052\u308b\u3068\u3001\n\u65e5\u672c\u8a9e\u3092\u5165\u529b\u3057\u3066\u3082\u3046\u307e\u304f\u52d5\u304d\u307e\u3059\u3002\nvar Spooky = require('spooky');\n\nvar spooky = new Spooky({\n        child: {\n            command: \"node_modules/casperjs/bin/casperjs.exe\",\n            transport: 'stdio' // \u2190 \u3053\u3053\u3092\u5909\u66f4\u3059\u308b\n        },\n        casper: {\n            logLevel: 'debug',\n            verbose: true\n        }\n    }, function (err) {\n        if (err) {\n            e = new Error('Failed to initialize SpookyJS');\n            e.details = err;\n            throw e;\n        }\n\n        var links = [];\n\n        spooky.userAgent('Mozilla/5.0 (Windows NT 10.0; WOW64; rv:47.0) Gecko/20100101 Firefox/47.0');\n\n        spooky.start('https://www.google.co.jp');\n        spooky.then(function () {\n            var payload = {q:'\u6771\u4eac\u7279\u8a31\u8a31\u53ef\u5c40'};\n            this.fill('form[action=\"/search\"]',payload, true);\n        });\n        spooky.then(function(){\n            links = this.evaluate(function(){\n                var links = document.querySelectorAll('h3.r a');\n                return Array.prototype.map.call(links, function(e) {\n                    return e.getAttribute('href');\n                });\n            });\n        });\n        spooky.run(function(){\n            this.emit('hello', links.join(\"\\n\"));\n        });\n    });\n\n$ node spooky-google.js\nattempting to fetch form element from selector: 'form[action=\"/search\"]'\nSet \"q\" field value to \u6771\u4eac\u7279\u8a31\u8a31\u53ef\u5c40\nsubmitting form to /search, HTTP GET\nunable to submit form\nhttps://ja.wikipedia.org/wiki/%E6%9D%B1%E4%BA%AC%E7%89%B9%E8%A8%B1%E8%A8%B1%E5%8F%AF%E5%B1%80\nhttp://www.tokkyonavi.com/qanda/basic/%E6%9D%B1%E4%BA%AC%E7%89%B9%E8%A8%B1%E8%A8%B1%E5%8F%AF%E5%B1%80.html\nhttp://ja.uncyclopedia.info/wiki/%E6%9D%B1%E4%BA%AC%E7%89%B9%E8%A8%B1%E8%A8%B1%E5%8F%AF%E5%B1%80\nhttp://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q12442622\n\n\n\u3081\u3061\u3083\u304f\u3061\u3083\u306f\u307e\u308a\u307e\u3057\u305f\u3002\u3002\u3002\n\n\u3068\u3042\u308b\u30da\u30fc\u30b8\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3059\u308b\u305f\u3081\u306bcasperjs\u3092\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\n\u7d50\u69cb\u7656\u304c\u3042\u308a\u6d88\u8017\u3057\u3066\u3044\u305f\u3068\u3053\u308d\u3001spookyjs \u3068\u3044\u3046\u30e9\u30c3\u30d1\u30fc\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002\n\n\u53c2\u8003: [SpookyJS\u3067\u697d\u3005\u30c6\u30b9\u30c8&\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0](http://tanshio.net/spookyjs/)\n\n\n\u3053\u3061\u3089\u3088\u3055\u3052\u306a\u306e\u3067\u3059\u304c\u3001\u65e5\u672c\u8a9e\u306a\u3069\u306e\u6319\u52d5\u304c\u602a\u3057\u304f\u3001\nform\u306e\u5024\u3068\u3057\u3066\u65e5\u672c\u8a9e\u3092\u6e21\u3059\u3068\u30cf\u30f3\u30b0\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n```javascript\nvar Spooky = require('spooky');\n\nvar spooky = new Spooky({\n        child: {\n            command: \"node_modules/casperjs/bin/casperjs.exe\",\n            transport: 'http'\n        },\n        casper: {\n            logLevel: 'debug',\n            verbose: true\n        }\n    }, function (err) {\n        if (err) {\n            e = new Error('Failed to initialize SpookyJS');\n            e.details = err;\n            throw e;\n        }\n\n        var links = [];\n\n        spooky.userAgent('Mozilla/5.0 (Windows NT 10.0; WOW64; rv:47.0) Gecko/20100101 Firefox/47.0');\n\n        spooky.start('https://www.google.co.jp');\n        spooky.then(function () {\n            var payload = {q:'\u6771\u4eac\u7279\u8a31\u8a31\u53ef\u5c40'};\n            this.fill('form[action=\"/search\"]',payload, true);\n        });\n        spooky.then(function(){\n            links = this.evaluate(function(){\n                var links = document.querySelectorAll('h3.r a');\n                return Array.prototype.map.call(links, function(e) {\n                    return e.getAttribute('href');\n                });\n            });\n        });\n        spooky.run(function(){\n            this.emit('hello', links.join(\"\\n\"));\n        });\n    });\n```\n\n\u4e0a\u8a18\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u56fa\u307e\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u691c\u7d22\u6587\u5b57\u5217\u3092\u82f1\u6570\u5b57\u306e\u307f\u306b\u3057\u305f\u5834\u5408\u306f\u3001\u554f\u984c\u306a\u304f\u52d5\u304d\u307e\u3059\u3002\n\n\u539f\u56e0\u306f\u3088\u304f\u308f\u304b\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3059\u304c\u3001spookyjs\u3068casperjs\u3068\u306e\u901a\u4fe1\u90e8\u5206\u3067\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u3046\u307e\u304f\u308f\u305f\u305b\u3066\u3044\u306a\u3044?\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u305d\u3053\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b \u901a\u4fe1\u65b9\u6cd5\u306e\u6307\u5b9a\u3092 `stdio` \u306b\u3057\u3066\u3042\u3052\u308b\u3068\u3001\n\u65e5\u672c\u8a9e\u3092\u5165\u529b\u3057\u3066\u3082\u3046\u307e\u304f\u52d5\u304d\u307e\u3059\u3002\n\n```javascript\nvar Spooky = require('spooky');\n\nvar spooky = new Spooky({\n        child: {\n            command: \"node_modules/casperjs/bin/casperjs.exe\",\n            transport: 'stdio' // \u2190 \u3053\u3053\u3092\u5909\u66f4\u3059\u308b\n        },\n        casper: {\n            logLevel: 'debug',\n            verbose: true\n        }\n    }, function (err) {\n        if (err) {\n            e = new Error('Failed to initialize SpookyJS');\n            e.details = err;\n            throw e;\n        }\n\n        var links = [];\n\n        spooky.userAgent('Mozilla/5.0 (Windows NT 10.0; WOW64; rv:47.0) Gecko/20100101 Firefox/47.0');\n\n        spooky.start('https://www.google.co.jp');\n        spooky.then(function () {\n            var payload = {q:'\u6771\u4eac\u7279\u8a31\u8a31\u53ef\u5c40'};\n            this.fill('form[action=\"/search\"]',payload, true);\n        });\n        spooky.then(function(){\n            links = this.evaluate(function(){\n                var links = document.querySelectorAll('h3.r a');\n                return Array.prototype.map.call(links, function(e) {\n                    return e.getAttribute('href');\n                });\n            });\n        });\n        spooky.run(function(){\n            this.emit('hello', links.join(\"\\n\"));\n        });\n    });\n```\n\n```\n$ node spooky-google.js\nattempting to fetch form element from selector: 'form[action=\"/search\"]'\nSet \"q\" field value to \u6771\u4eac\u7279\u8a31\u8a31\u53ef\u5c40\nsubmitting form to /search, HTTP GET\nunable to submit form\nhttps://ja.wikipedia.org/wiki/%E6%9D%B1%E4%BA%AC%E7%89%B9%E8%A8%B1%E8%A8%B1%E5%8F%AF%E5%B1%80\nhttp://www.tokkyonavi.com/qanda/basic/%E6%9D%B1%E4%BA%AC%E7%89%B9%E8%A8%B1%E8%A8%B1%E5%8F%AF%E5%B1%80.html\nhttp://ja.uncyclopedia.info/wiki/%E6%9D%B1%E4%BA%AC%E7%89%B9%E8%A8%B1%E8%A8%B1%E5%8F%AF%E5%B1%80\nhttp://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q12442622\n\n```\n\n\n\n\u3081\u3061\u3083\u304f\u3061\u3083\u306f\u307e\u308a\u307e\u3057\u305f\u3002\u3002\u3002\n", "tags": ["SpookyJS", "casperJs"]}