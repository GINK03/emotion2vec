{"context": "\n\nHDP\u3067Hadoop\u306eKerberos\u5316\u306bFreeIPA\u3092\u4f7f\u3044\u305f\u3044\uff01\nActive Directory\u306f\u4f7f\u3044\u305f\u304f\u306a\u3044\u3002\u3057\u304b\u3057\u3001\u7d20\u306eKerberos\u3068\u7d20\u306eLDAP\u306f\u9762\u5012\u81ed\u3044\u3067\u3059\u3088\u306d\u3002\u305d\u3053\u3067\u3001AD\u306e\u4ee3\u308f\u308a\u306bFreeIPA\u3092\u4f7f\u304a\u3046\u3068\u8a00\u3046\u304a\u8a71\u3057\u3067\u3059\u3002\nFreeIPA\u3068\u306f\u3001Linux\u4e0a\u3067Active Directory\u7684\u306aIDM(Identity Management)\u3092\u5b9f\u73fe\u3067\u304d\u308b\u7d20\u6575\u30c4\u30fc\u30eb\u3067\u3059\u3002\u7c21\u5358\u306b\u8a00\u3046\u3068\u300cKerberos + LDAP(389 Directory Server) + DNS(bind) + \u7d20\u6575GUI\u300d\u3068\u8a00\u3063\u305f\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\u8a73\u7d30\u306f\u3053\u306e\u8fba\u3092\u898b\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\nRHEL7 LINUX \u30c9\u30e1\u30a4\u30f3 ID\u3001\u8a8d\u8a3c\u3001\u304a\u3088\u3073\u30dd\u30ea\u30b7\u30fc\u30ac\u30a4\u30c9\n\nLDAP\u306e\u8a8d\u8a3c\u57fa\u76e4\u3092\u81ea\u529b\u3067\u4f5c\u308b\u3088\u308a\u306f100\u500d\u3050\u3089\u3044\u7c21\u5358\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001Ambari\u306eFreeIPA\u30b5\u30dd\u30fc\u30c8\u306f\u30012.4\u304b\u3089\u306e\u6a5f\u80fd\u3067\u3001\u307e\u3060Experimental\u306a\u6a5f\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n(2.3\u307e\u3067\u3067\u3082\u3001Kerberos\u30a6\u30a3\u30b6\u30fc\u30c9\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001FreeIPA\u3068\u9023\u643a\u3055\u305b\u308b\u3053\u3068\u306f\u4e00\u5fdc\u3067\u304d\u307e\u3057\u305f\u304c\u3001\u304b\u306a\u308a\u9762\u5012\u306a\u624b\u9806\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002\u4eca\u56de\u306eFreeIPA\u30b5\u30dd\u30fc\u30c8\u3067\u3048\u3089\u3044\u7c21\u5358\u306b\u306a\u308a\u307e\u3057\u305f\u3002)\n\n\u4eca\u56de\u306e\u74b0\u5883\n\nIDCF Cloud\n\nCentOS 7.2 + yum update\n\nHDP 2.5.0\n\nAmbari 2.4.0.1(\u3061\u3087\u3063\u3068\u53e4\u3044\u3067\u3059\u3002\u6700\u65b0\u306f2.4.1.0\u3067\u3059\u3002)\n\n\u203b 2015/09/30 \u6642\u70b9\u3067\u306e\u74b0\u5883\u3002\n\nAmbari\u3067HDP\u74b0\u5883\u3092\u4f5c\u308b\n\u307e\u305a\u306f\u9811\u5f35\u3063\u3066Ambari\u3067HDP\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3061\u3087\u3063\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u53e4\u3044\u3067\u3059\u304c\u3001\u4e0b\u8a18\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002HDP 2.5\u3067\u3082\u307b\u307c\u5909\u308f\u3063\u3066\u3044\u306a\u3044\u3067\u3059\u3002\n\nHDP\u3092Ambari\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u203b \u4e0a\u8ff0\u306eAmbari\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\u306eURL\u3092Ambari 2.4.1.0\u3067\u884c\u306a\u3048\u3070\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002(\u50d5\u304c\u8a66\u3057\u305f\u306e\u306f2.4.0.1\u3067\u3059\u304c\u3001\u305f\u3076\u3093\u540c\u3058\u3060\u3068\u601d\u3044\u307e\u3059\u3002)\n\u203b Ambari 2.4.1.0\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u306eURL\u306fhttp://public-repo-1.hortonworks.com/ambari/centos7/2.x/updates/2.4.1.0/ambari.repo\u3067\u3059\u3002\n\nFreeIPA\u30b5\u30fc\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nIDCF Cloud\u3067CentOS 7.2\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089OS\u3092\u8d77\u52d5\u3057\u3066\u3001yum update\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u306a\u304a\u3001\u6700\u521d\u306b\u8a18\u8f09\u3057\u307e\u3057\u305f\u304c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u4e0b\u8a18\u306b\u306a\u308a\u307e\u3059\u3002\n\nRHEL7 LINUX \u30c9\u30e1\u30a4\u30f3 ID\u3001\u8a8d\u8a3c\u3001\u304a\u3088\u3073\u30dd\u30ea\u30b7\u30fc\u30ac\u30a4\u30c9\n\n\u4e0a\u8a18\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u898b\u308c\u3070\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3053\u3053\u306f\u5c11\u3057\u8a18\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nFreeIPA\u30b5\u30fc\u30d0\u5074\u306e\u8a2d\u5b9a\n\nIPA Server\u306erpm\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum -y install ipa-server bind bind-dyndb-ldap ipa-server-dns\n\n\nIPA Server\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nIDCF Cloud\u306e\u5834\u5408\u3001\u30ed\u30fc\u30ab\u30eb\u5185\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306fDNS\u304c\u5f15\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4eca\u56dekerberos\u306erealm/domain\u306a\u3069\u306fIDCF Cloud\u5185\u306edomain\u540d\u3092\u305d\u306e\u307e\u307e\u4f7f\u3044\u307e\u3057\u305f\u3002\n# hostname -f\nfreeipa.cs30idcfcloud.internal\n\n\u203b cs30idcfcloud\u306e\u90e8\u5206\u306fIDCF Cloud\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3084\u30be\u30fc\u30f3\u306b\u3088\u3063\u3066\u4ee3\u308f\u308b\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u81ea\u5206\u306e\u74b0\u5883\u3067\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n# ipa-server-install -r CS30IDCFCLOUD.INTERNAL -n cs30idcfcloud.internal -p password -a password --mkhomedir --hostname=freeipa.cs30idcfcloud.internal --force-ntpd\n\n\n-r\n\n\nrealm name\u3092\u6307\u5b9a\n\n\n-n\n\n\ndomain name\u3092\u6307\u5b9a\n\n\n-p\n\n\nDirectory Manager\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\n\n\n-a\n\n\nadmin\u30e6\u30fc\u30b6\u306ekerberos\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\n\n\n--mkhomedir\n\n\n\u6700\u521d\u306e\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\n\n\n--hostname\n\n\n\u30db\u30b9\u30c8\u540d\u306e\u6307\u5b9a\n\n\n--force-ntpd\n\n\nNTP\u306e\u8a2d\u5b9a\u3092\u5f37\u5236\u3057\u307e\u3059\u3002(chrony\u306f\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3089\u3057\u3044\u3002)\n\n\n\n\u307e\u305f\u3001\u524d\u8ff0\u306e\u3088\u3046\u306bIDCF Cloud\u5185\u306fDNS\u304c\u5f15\u3051\u308b\u305f\u3081\u3001FreeIPA\u4e0a\u306bDNS\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306f\u3057\u3066\u3044\u307e\u305b\u3093\u3002\nDo you want to configure integrated DNS (BIND)? [no]:\u306fno\u3068\u3057\u307e\u3059\u3002\u74b0\u5883\u306b\u3088\u3063\u3066\u306fyes\u3068\u3057\u3066\u3001BIND\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308c\u3070\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n# ipa-server-install -r CS30IDCFCLOUD.INTERNAL -n cs30idcfcloud.internal -p 6zCYTSn4 -a 6zCYTSn4 --mkhomedir --hostname=freeipa.cs30idcfcloud.internal --force-ntpd\n\nThe log file for this installation can be found in /var/log/ipaserver-install.log\n==============================================================================\nThis program will set up the IPA Server.\n\nThis includes:\n  * Configure a stand-alone CA (dogtag) for certificate management\n  * Configure the Network Time Daemon (ntpd)\n  * Create and configure an instance of Directory Server\n  * Create and configure a Kerberos Key Distribution Center (KDC)\n  * Configure Apache (httpd)\n\nTo accept the default shown in brackets, press the Enter key.\n\nWARNING: conflicting time&date synchronization service 'chronyd' will be disabled\nin favor of ntpd\n\nDo you want to configure integrated DNS (BIND)? [no]: no\n\n\nThe IPA Master Server will be configured with:\nHostname:       freeipa.cs30idcfcloud.internal\nIP address(es): 10.22.0.114\nDomain name:    cs30idcfcloud.internal\nRealm name:     CS30IDCFCLOUD.INTERNAL\n\nContinue to configure the system with these values? [no]: yes\n\nThe following operations may take some minutes to complete.\nPlease wait until the prompt is returned.\n\nConfiguring NTP daemon (ntpd)\n  [1/4]: stopping ntpd\n  [2/4]: writing configuration\n  [3/4]: configuring ntpd to start on boot\n  [4/4]: starting ntpd\nDone configuring NTP daemon (ntpd).\nConfiguring directory server (dirsrv). Estimated time: 1 minute\n  [1/42]: creating directory server user\n  [2/42]: creating directory server instance\n  [3/42]: adding default schema\n  [4/42]: enabling memberof plugin\n  [5/42]: enabling winsync plugin\n  [6/42]: configuring replication version plugin\n  [7/42]: enabling IPA enrollment plugin\n  [8/42]: enabling ldapi\n  [9/42]: configuring uniqueness plugin\n  [10/42]: configuring uuid plugin\n  [11/42]: configuring modrdn plugin\n  [12/42]: configuring DNS plugin\n  [13/42]: enabling entryUSN plugin\n  [14/42]: configuring lockout plugin\n  [15/42]: creating indices\n  [16/42]: enabling referential integrity plugin\n  [17/42]: configuring certmap.conf\n  [18/42]: configure autobind for root\n  [19/42]: configure new location for managed entries\n  [20/42]: configure dirsrv ccache\n  [21/42]: enable SASL mapping fallback\n  [22/42]: restarting directory server\n  [23/42]: adding default layout\n  [24/42]: adding delegation layout\n  [25/42]: creating container for managed entries\n  [26/42]: configuring user private groups\n  [27/42]: configuring netgroups from hostgroups\n  [28/42]: creating default Sudo bind user\n  [29/42]: creating default Auto Member layout\n  [30/42]: adding range check plugin\n  [31/42]: creating default HBAC rule allow_all\n  [32/42]: adding entries for topology management\n  [33/42]: initializing group membership\n  [34/42]: adding master entry\n  [35/42]: initializing domain level\n  [36/42]: configuring Posix uid/gid generation\n  [37/42]: adding replication acis\n  [38/42]: enabling compatibility plugin\n  [39/42]: activating sidgen plugin\n  [40/42]: activating extdom plugin\n  [41/42]: tuning directory server\n  [42/42]: configuring directory to start on boot\nDone configuring directory server (dirsrv).\nConfiguring certificate server (pki-tomcatd). Estimated time: 3 minutes 30 seconds\n  [1/28]: creating certificate server user\n  [2/28]: configuring certificate server instance\n  [3/28]: stopping certificate server instance to update CS.cfg\n  [4/28]: backing up CS.cfg\n  [5/28]: disabling nonces\n  [6/28]: set up CRL publishing\n  [7/28]: enable PKIX certificate path discovery and validation\n  [8/28]: starting certificate server instance\n  [9/28]: creating RA agent certificate database\n  [10/28]: importing CA chain to RA certificate database\n  [11/28]: fixing RA database permissions\n  [12/28]: setting up signing cert profile\n  [13/28]: setting audit signing renewal to 2 years\n  [14/28]: restarting certificate server\n  [15/28]: requesting RA certificate from CA\n  [16/28]: issuing RA agent certificate\n  [17/28]: adding RA agent as a trusted user\n  [18/28]: authorizing RA to modify profiles\n  [19/28]: configure certmonger for renewals\n  [20/28]: configure certificate renewals\n  [21/28]: configure RA certificate renewal\n  [22/28]: configure Server-Cert certificate renewal\n  [23/28]: Configure HTTP to proxy connections\n  [24/28]: restarting certificate server\n  [25/28]: migrating certificate profiles to LDAP\n  [26/28]: importing IPA certificate profiles\n  [27/28]: adding default CA ACL\n  [28/28]: updating IPA configuration\nDone configuring certificate server (pki-tomcatd).\nConfiguring directory server (dirsrv). Estimated time: 10 seconds\n  [1/3]: configuring ssl for ds instance\n  [2/3]: restarting directory server\n  [3/3]: adding CA certificate entry\nDone configuring directory server (dirsrv).\nConfiguring Kerberos KDC (krb5kdc). Estimated time: 30 seconds\n  [1/10]: adding sasl mappings to the directory\n  [2/10]: adding kerberos container to the directory\n  [3/10]: configuring KDC\n  [4/10]: initialize kerberos container\n  [5/10]: adding default ACIs\n  [6/10]: creating a keytab for the directory\n  [7/10]: creating a keytab for the machine\n  [8/10]: adding the password extension to the directory\n  [9/10]: starting the KDC\n  [10/10]: configuring KDC to start on boot\nDone configuring Kerberos KDC (krb5kdc).\nConfiguring kadmin\n  [1/2]: starting kadmin \n  [2/2]: configuring kadmin to start on boot\nDone configuring kadmin.\nConfiguring ipa_memcached\n  [1/2]: starting ipa_memcached \n  [2/2]: configuring ipa_memcached to start on boot\nDone configuring ipa_memcached.\nConfiguring ipa-otpd\n  [1/2]: starting ipa-otpd \n  [2/2]: configuring ipa-otpd to start on boot\nDone configuring ipa-otpd.\nConfiguring the web interface (httpd). Estimated time: 1 minute\n  [1/19]: setting mod_nss port to 443\n  [2/19]: setting mod_nss protocol list to TLSv1.0 - TLSv1.2\n  [3/19]: setting mod_nss password file\n  [4/19]: enabling mod_nss renegotiate\n  [5/19]: adding URL rewriting rules\n  [6/19]: configuring httpd\n  [7/19]: configure certmonger for renewals\n  [8/19]: setting up ssl\n  [9/19]: importing CA certificates from LDAP\n  [10/19]: setting up browser autoconfig\n  [11/19]: publish CA cert\n  [12/19]: creating a keytab for httpd\n  [13/19]: clean up any existing httpd ccache\n  [14/19]: configuring SELinux for httpd\n  [15/19]: create KDC proxy user\n  [16/19]: create KDC proxy config\n  [17/19]: enable KDC proxy\n  [18/19]: restarting httpd\n  [19/19]: configuring httpd to start on boot\nDone configuring the web interface (httpd).\nApplying LDAP updates\nUpgrading IPA:\n  [1/9]: stopping directory server\n  [2/9]: saving configuration\n  [3/9]: disabling listeners\n  [4/9]: enabling DS global lock\n  [5/9]: starting directory server\n  [6/9]: upgrading server\n  [7/9]: stopping directory server\n  [8/9]: restoring configuration\n  [9/9]: starting directory server\nDone.\nRestarting the directory server\nRestarting the KDC\nSample zone file for bind has been created in /tmp/sample.zone.ZVZfxB.db\nRestarting the web server\n==============================================================================\nSetup complete\n\nNext steps:\n    1. You must make sure these network ports are open:\n        TCP Ports:\n          * 80, 443: HTTP/HTTPS\n          * 389, 636: LDAP/LDAPS\n          * 88, 464: kerberos\n        UDP Ports:\n          * 88, 464: kerberos\n          * 123: ntp\n\n    2. You can now obtain a kerberos ticket using the command: 'kinit admin'\n       This ticket will allow you to use the IPA tools (e.g., ipa user-add)\n       and the web user interface.\n\nBe sure to back up the CA certificates stored in /root/cacert.p12\nThese files are required to create replicas. The password for these\nfiles is the Directory Manager password\n\nFreeIPA\u306e\u30b5\u30fc\u30d0\u74b0\u5883\u306e\u8a2d\u5b9a\u306f\u3001\u3053\u308c\u3067\u5b8c\u4e86\u3067\u3059\u3002\u30d6\u30e9\u30a6\u30b6\u3067IPA\u30b5\u30fc\u30d0(443)\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001GUI\u3067FreeIPA\u3092\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u3066\u3001\u30e6\u30fc\u30b6\u3084\u30b0\u30eb\u30fc\u30d7\u3084Principal(Service)\u3092\u30dd\u30c1\u30dd\u30c1\u3068\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002(\u3053\u308c\u3092\u66f8\u3044\u3066\u3044\u3066\u601d\u3044\u307e\u3057\u305f\u304c\u3001AD\u307f\u305f\u3044\u306bDirectory\u3063\u307d\u304f\u306f\u7121\u3044\u3067\u3059\u306d\u3002\u305d\u3046\u3044\u3048\u3070\u3002\u307e\u3041\u3001FreeIPA\u3082\u8a00\u3046\u307b\u3069\u3084\u3063\u3066\u306a\u3044\u3093\u3067\u3059\u3051\u3069\u3002)\n\n\nIPA Client\u5074\u306e\u8a2d\u5b9a\n\u5404HDP\u306e\u30ce\u30fc\u30c9\u306bIPA Client\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u3001Linux\u306e\u8a8d\u8a3c\u3092FreeIPA\u5bfe\u5fdc\u3057\u307e\u3059\u3002\n\u5404HDP\u306e\u30ce\u30fc\u30c9\u3067\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nIPA Clinet\u306erpm\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum -y install ipa-server bind bind-dyndb-ldap ipa-server-dns\n\n\nIPA Client\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n# ipa-client-install --domain=cs30idcfcloud.internal --server=freeipa.cs30idcfcloud.internal --realm=CS30IDCFCLOUD.INTERNAL -p admin -w password --mkhomedir --hostname=hdp10.cs30idcfcloud.internal --force-ntpd\n\n\n--domain\n\n\ndomain name\u3092\u6307\u5b9a\n\n\n--server\n\n\nIPA Server\u3092\u6307\u5b9a\n\n\n--realm\n\n\nrealm name\u3092\u6307\u5b9a\n\n\n-p\n\n\nFreeIPA(kerberos)\u306eadmin\u30e6\u30fc\u30b6\u3092\u6307\u5b9a\n\n\n-w\n\n\nadmin\u30e6\u30fc\u30b6\u306ekerberos\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\n\n\n--mkhomedir\n\n\n\u6700\u521d\u306e\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\n\n\n--hostname\n\n\n\u30db\u30b9\u30c8\u540d\u306e\u6307\u5b9a\n\n\n--force-ntpd\n\n\nNTP\u306e\u8a2d\u5b9a\u3092\u5f37\u5236\u3057\u307e\u3059\u3002(chrony\u306f\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3089\u3057\u3044\u3002)\n\n\n\n# ipa-client-install --domain=cs30idcfcloud.internal --server=freeipa.cs30idcfcloud.internal --realm=CS30IDCFCLOUD.INTERNAL -p admin -w password --mkhomedir --hostname=hdp1.cs30idcfcloud.internal --force-ntpd\nAutodiscovery of servers for failover cannot work with this configuration.\nIf you proceed with the installation, services will be configured to always access the discovered server for all operations and will not fail over to other servers in case of failure.\nProceed with fixed values and no DNS discovery? [no]: yes\nClient hostname: hdp1.cs30idcfcloud.internal\nRealm: CS30IDCFCLOUD.INTERNAL\nDNS Domain: cs30idcfcloud.internal\nIPA Server: freeipa.cs30idcfcloud.internal\nBaseDN: dc=cs30idcfcloud,dc=internal\n\nContinue to configure the system with these values? [no]: yes\nSynchronizing time with KDC...\nAttempting to sync time using ntpd.  Will timeout after 15 seconds\nSuccessfully retrieved CA cert\n    Subject:     CN=Certificate Authority,O=CS30IDCFCLOUD.INTERNAL\n    Issuer:      CN=Certificate Authority,O=CS30IDCFCLOUD.INTERNAL\n    Valid From:  Fri Sep 30 02:46:16 2016 UTC\n    Valid Until: Tue Sep 30 02:46:16 2036 UTC\n\nEnrolled in IPA realm CS30IDCFCLOUD.INTERNAL\nCreated /etc/ipa/default.conf\nNew SSSD config will be created\nConfigured sudoers in /etc/nsswitch.conf\nConfigured /etc/sssd/sssd.conf\nConfigured /etc/krb5.conf for IPA realm CS30IDCFCLOUD.INTERNAL\ntrying https://freeipa.cs30idcfcloud.internal/ipa/json\nForwarding 'ping' to json server 'https://freeipa.cs30idcfcloud.internal/ipa/json'\nForwarding 'ca_is_enabled' to json server 'https://freeipa.cs30idcfcloud.internal/ipa/json'\nSystemwide CA database updated.\nAdded CA certificates to the default NSS database.\nAdding SSH public key from /etc/ssh/ssh_host_rsa_key.pub\nAdding SSH public key from /etc/ssh/ssh_host_ecdsa_key.pub\nAdding SSH public key from /etc/ssh/ssh_host_ed25519_key.pub\nForwarding 'host_mod' to json server 'https://freeipa.cs30idcfcloud.internal/ipa/json'\nCould not update DNS SSHFP records.\nSSSD enabled\nConfigured /etc/openldap/ldap.conf\nNo SRV records of NTP servers found. IPA server address will be used\nNTP enabled\nConfigured /etc/ssh/ssh_config\nConfigured /etc/ssh/sshd_config\nConfiguring cs30idcfcloud.internal as NIS domain.\nClient configuration complete.\n\n\u3053\u308c\u3067\u3001Linux\u306e\u8a8d\u8a3c\u306fFreeIPA\u3067\u8a8d\u8a3c\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002(FreeIPA\u5074\u306bUser\u3092\u4f5c\u308b\u3060\u3051\u3067\u3001\u3069\u306e\u30b5\u30fc\u30d0\u306b\u3082\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002)\n\u3053\u308c\u3092\u3001\u3059\u3079\u3066\u306eHDP\u30ce\u30fc\u30c9\u3067\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\nIPA Server\u306f\u8272\u3005\u3067\u304d\u308b\n\u3053\u3053\u3067\u306f\u3001\u3056\u3063\u304f\u308a\u3068\u8a2d\u5b9a\u65b9\u6cd5\u3060\u3051\u66f8\u304d\u307e\u3057\u305f\u304c\u3001FreeIPA\u3067\u306f\u3001ssh-key\u3092FreeIPA\u5074\u306b\u3082\u305f\u305b\u305f\u308a\u3068\u304b\u3001Sudo\u3092\u4e00\u62ec\u3067\u7ba1\u7406\u3067\u304d\u305f\u308a\u3068\u304b\u3001\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u30db\u30b9\u30c8\u3092\u5236\u9650\u3057\u305f\u308a\u3068\u304b\u3001\u8272\u3005\u3067\u304d\u307e\u3059\u3002\u79c1\u3082\u7d30\u304b\u304f\u3084\u3063\u3066\u306a\u3044\u3067\u3059\u3051\u3069\u3002\n\nAmbari\u3067HDP\u306eKerberos\u3092\u6709\u52b9\n\u3042\u3068\u306f\u3001Ambari\u306eGUI\u304b\u3089Kerberos\u3092Enable\u3059\u308c\u3070\u3001\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u5b9f\u884c\u524d\u306b\u3044\u304f\u3064\u304b\u3084\u3063\u3066\u304a\u304f\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\nAmbari\u3067FreeIPA\u30b5\u30dd\u30fc\u30c8\u3092\u6709\u52b9\u5316\nAmbari 2.4\u306eFreeIPA\u30b5\u30dd\u30fc\u30c8\u306fExperrimental\u306a\u6a5f\u80fd\u306a\u306e\u3067\u3001\u6709\u52b9\u306b\u3057\u306a\u3044\u3068\u4f7f\u3048\u307e\u305b\u3093\u3002(Kerberos\u6709\u52b9\u5316\u306e\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3082\u3001FreeIPA\u306e\u9078\u629e\u304c\u51fa\u3066\u3053\u306a\u3044\u3002)\nhttp://FreeIPA_Server_IP:8080/#/experimental\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u300cAmbari's Experimental Functionality\u300d\u304c\u51fa\u3066\u304d\u307e\u3059\u306e\u3067enableIpa\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u3001Save\u3057\u307e\u3057\u3087\u3046\u3002\n\n\nFreeIPA\u5074\u306b\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\nKerberos\u6709\u52b9\u5316\u306e\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001FreeIPA\u5074\u306bUser Group\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001ambari-managed-principals\u306b\u306a\u3063\u3066\u3044\u307e\u3059(Kerberos\u5316\u30a6\u30a3\u30b6\u30fc\u30c9\u306e\u9014\u4e2d\u3067\u5909\u66f4\u53ef\u80fd)\u306e\u3067\u3001FreeIPA\u306eGUI\u304b\u3089\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u6b21\u306e\u69d8\u306a\u611f\u3058\u3067\u3059\u3002(Group Type:\u306fNormal\u3067\u554f\u984c\u306a\u304b\u3063\u305f\u3067\u3059\u304c\u3001\u6b63\u3057\u3044\u306e\u304b\u826f\u304f\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3002)\n\n\nHDP Kerberos\u5316\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u5b9f\u884c\n\u3044\u3088\u3044\u3088\u3001Kerberos\u5316\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\nAmbari\u306eGUI\u304b\u3089\u3001\u4e0a\u90e8\u306b\u4e26\u3093\u3067\u3044\u308b\u30e1\u30cb\u30e5\u30fc\u306e\u300cAdmin -> Kerberos\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\u300cEnable Kerberos\u300d\u3092\u9078\u629e\u3057\u3066\u3001Kerberos\u5316\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\u6b21\u306e\u3088\u3046\u306a\u753b\u9762(Get Started)\u304c\u958b\u304d\u307e\u3059\u306e\u3067\u3001Existing IPA\u3092\u9078\u629e\u3057\u3001\u305d\u306e\u4e0b\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u5168\u90e8\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066(\u3061\u3083\u3093\u3068\u8aad\u3093\u3067\u306d)\u3001\u6b21\u3078\u3002\n\n\u6b21\u306e\u753b\u9762\u3067\u306f\u3001FreeIPA\u306e\u60c5\u5831(Configure Kerberos)\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u4e0a\u8ff0\u306e\u4f8b\u3067\u3042\u3052\u305fFreeIPA\u306e\u60c5\u5831\u3060\u3068\u3001\u4ee5\u4e0b\u306e\u753b\u9762\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002(\u3059\u3044\u307e\u305b\u3093\u3001\u3060\u3093\u3060\u3093\u9069\u5f53\u3067\u3002)\n\u3061\u306a\u307f\u306b\u3001\u3053\u3053\u3067\u5148\u306b\u4f5c\u6210\u3057\u305fFreeIPA\u5074\u306e\u30b0\u30eb\u30fc\u30d7\u540d\u306a\u3069\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n\u5f8c\u306f\u3001\u57fa\u672c\u7684\u306b\u7279\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u306a\u304f\u300cNext\u300d\u3067\u5927\u4e08\u592b\u3067\u3059\u3002\n\u4ee5\u4e0b\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3067\u3059\u304c\u3001\u4e00\u90e8(\u3060\u3044\u3076)\u629c\u3051\u3066\u307e\u3059\u3002(\u3068\u308a\u5fd8\u308c\u305f\u3002\u3059\u3044\u307e\u305b\u3093\u3002)\n\n\n\u3053\u306e\u5f8c\u3001\u6700\u5f8c\u306b\u30b5\u30fc\u30d3\u30b9\u304c\u3059\u3079\u3066\u518d\u958b\u3055\u308c\u3066\u3001Kerberos\u5316\u5b8c\u4e86\u3067\u3059\uff01(\u6700\u5f8c\u9069\u5f53\u3067\u7533\u3057\u8a33\u306a\u3044\u3002)\n\n\u305d\u306e\u4ed6\u306b\u3084\u3063\u305f\u65b9\u304c\u826f\u3044\u3053\u3068\n\u57fa\u672c\u7684\u306a\u90e8\u5206\u306f\u3053\u308c\u3067\u5b8c\u4e86\u306a\u306e\u3067\u3059\u304c\u3001\u3044\u304f\u3064\u304b\u3084\u3063\u3066\u3082\u826f\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001Ambari\u306e\u30e6\u30fc\u30b6\u7ba1\u7406\u3092LDAP(FreeIPA)\u9023\u643a\u3055\u305b\u308b\u3068\u304b\u3001\u305d\u3093\u306a\u306e\u3067\u3059\u306d\u3002\u8a73\u7d30\u306f\u3001\u4e0b\u8a18\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3066\u3001\u5fc5\u8981\u3067\u3042\u308c\u3070\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\nChapter 1. HDP Security Overview\n\n\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e2.1\u304c\u4eca\u307e\u3067\u8aac\u660e\u3057\u3066\u304d\u305f\u90e8\u5206\u3067\u30012.2\u4ee5\u964d\u3092\u898b\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\nChapter 2. Authentication\n\n\u3061\u306a\u307f\u306b\u3001\u79c1\u3082\u3084\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001FreeIPA\u3067\u3061\u3083\u3093\u3068\u3067\u304d\u3093\u306e\u304b\u306f\u826f\u304f\u308f\u304b\u3089\u3093\u3067\u3059\u3051\u3069\u3002\n# HDP\u3067Hadoop\u306eKerberos\u5316\u306bFreeIPA\u3092\u4f7f\u3044\u305f\u3044\uff01\n\nActive Directory\u306f\u4f7f\u3044\u305f\u304f\u306a\u3044\u3002\u3057\u304b\u3057\u3001\u7d20\u306eKerberos\u3068\u7d20\u306eLDAP\u306f\u9762\u5012\u81ed\u3044\u3067\u3059\u3088\u306d\u3002\u305d\u3053\u3067\u3001AD\u306e\u4ee3\u308f\u308a\u306bFreeIPA\u3092\u4f7f\u304a\u3046\u3068\u8a00\u3046\u304a\u8a71\u3057\u3067\u3059\u3002\nFreeIPA\u3068\u306f\u3001Linux\u4e0a\u3067Active Directory\u7684\u306aIDM(Identity Management)\u3092\u5b9f\u73fe\u3067\u304d\u308b\u7d20\u6575\u30c4\u30fc\u30eb\u3067\u3059\u3002\u7c21\u5358\u306b\u8a00\u3046\u3068\u300cKerberos + LDAP(389 Directory Server) + DNS(bind) + \u7d20\u6575GUI\u300d\u3068\u8a00\u3063\u305f\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\u8a73\u7d30\u306f\u3053\u306e\u8fba\u3092\u898b\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n* [RHEL7 LINUX \u30c9\u30e1\u30a4\u30f3 ID\u3001\u8a8d\u8a3c\u3001\u304a\u3088\u3073\u30dd\u30ea\u30b7\u30fc\u30ac\u30a4\u30c9](https://access.redhat.com/documentation/ja-JP/Red_Hat_Enterprise_Linux/7/html/Linux_Domain_Identity_Authentication_and_Policy_Guide/index.html)\n\nLDAP\u306e\u8a8d\u8a3c\u57fa\u76e4\u3092\u81ea\u529b\u3067\u4f5c\u308b\u3088\u308a\u306f100\u500d\u3050\u3089\u3044\u7c21\u5358\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001Ambari\u306eFreeIPA\u30b5\u30dd\u30fc\u30c8\u306f\u30012.4\u304b\u3089\u306e\u6a5f\u80fd\u3067\u3001\u307e\u3060Experimental\u306a\u6a5f\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n(2.3\u307e\u3067\u3067\u3082\u3001Kerberos\u30a6\u30a3\u30b6\u30fc\u30c9\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001FreeIPA\u3068\u9023\u643a\u3055\u305b\u308b\u3053\u3068\u306f\u4e00\u5fdc\u3067\u304d\u307e\u3057\u305f\u304c\u3001\u304b\u306a\u308a\u9762\u5012\u306a\u624b\u9806\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002\u4eca\u56de\u306eFreeIPA\u30b5\u30dd\u30fc\u30c8\u3067\u3048\u3089\u3044\u7c21\u5358\u306b\u306a\u308a\u307e\u3057\u305f\u3002)\n\n# \u4eca\u56de\u306e\u74b0\u5883\n* [IDCF Cloud](https://www.idcf.jp/cloud/)\n* [CentOS 7.2](https://www.idcf.jp/cloud/spec/template.html) + `yum update`\n* [HDP 2.5.0](http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.5.0/index.html)\n* [Ambari 2.4.0.1](http://docs.hortonworks.com/HDPDocuments/Ambari/Ambari-2.4.1.0/index.html)(\u3061\u3087\u3063\u3068\u53e4\u3044\u3067\u3059\u3002\u6700\u65b0\u306f2.4.1.0\u3067\u3059\u3002)\n\n\u203b 2015/09/30 \u6642\u70b9\u3067\u306e\u74b0\u5883\u3002\n\n# Ambari\u3067HDP\u74b0\u5883\u3092\u4f5c\u308b\n\u307e\u305a\u306f\u9811\u5f35\u3063\u3066Ambari\u3067HDP\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3061\u3087\u3063\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u53e4\u3044\u3067\u3059\u304c\u3001\u4e0b\u8a18\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002HDP 2.5\u3067\u3082\u307b\u307c\u5909\u308f\u3063\u3066\u3044\u306a\u3044\u3067\u3059\u3002\n\n* [HDP\u3092Ambari\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://qiita.com/hkajikawa/items/d91d8d48dfd98134d4f8)\n\n\u203b \u4e0a\u8ff0\u306e[Ambari\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332](http://qiita.com/hkajikawa/items/d91d8d48dfd98134d4f8#ambari%E3%81%AE%E3%83%AC%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%82%92%E7%99%BB%E9%8C%B2)\u306eURL\u3092Ambari 2.4.1.0\u3067\u884c\u306a\u3048\u3070\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002(\u50d5\u304c\u8a66\u3057\u305f\u306e\u306f2.4.0.1\u3067\u3059\u304c\u3001\u305f\u3076\u3093\u540c\u3058\u3060\u3068\u601d\u3044\u307e\u3059\u3002)\n\u203b Ambari 2.4.1.0\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u306eURL\u306f`http://public-repo-1.hortonworks.com/ambari/centos7/2.x/updates/2.4.1.0/ambari.repo`\u3067\u3059\u3002\n\n# FreeIPA\u30b5\u30fc\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[IDCF Cloud](https://www.idcf.jp/cloud/)\u3067CentOS 7.2\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089OS\u3092\u8d77\u52d5\u3057\u3066\u3001`yum update`\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u306a\u304a\u3001\u6700\u521d\u306b\u8a18\u8f09\u3057\u307e\u3057\u305f\u304c\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u4e0b\u8a18\u306b\u306a\u308a\u307e\u3059\u3002\n\n* [RHEL7 LINUX \u30c9\u30e1\u30a4\u30f3 ID\u3001\u8a8d\u8a3c\u3001\u304a\u3088\u3073\u30dd\u30ea\u30b7\u30fc\u30ac\u30a4\u30c9](https://access.redhat.com/documentation/ja-JP/Red_Hat_Enterprise_Linux/7/html/Linux_Domain_Identity_Authentication_and_Policy_Guide/index.html)\n\n\u4e0a\u8a18\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u898b\u308c\u3070\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3053\u3053\u306f\u5c11\u3057\u8a18\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n## FreeIPA\u30b5\u30fc\u30d0\u5074\u306e\u8a2d\u5b9a\n\n### IPA Server\u306erpm\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# yum -y install ipa-server bind bind-dyndb-ldap ipa-server-dns\n```\n\n### IPA Server\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nIDCF Cloud\u306e\u5834\u5408\u3001\u30ed\u30fc\u30ab\u30eb\u5185\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306fDNS\u304c\u5f15\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4eca\u56dekerberos\u306e`realm/domain`\u306a\u3069\u306fIDCF Cloud\u5185\u306edomain\u540d\u3092\u305d\u306e\u307e\u307e\u4f7f\u3044\u307e\u3057\u305f\u3002\n\n```\n# hostname -f\nfreeipa.cs30idcfcloud.internal\n```\n\n\u203b `cs30idcfcloud`\u306e\u90e8\u5206\u306fIDCF Cloud\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3084\u30be\u30fc\u30f3\u306b\u3088\u3063\u3066\u4ee3\u308f\u308b\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u81ea\u5206\u306e\u74b0\u5883\u3067\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\n# ipa-server-install -r CS30IDCFCLOUD.INTERNAL -n cs30idcfcloud.internal -p password -a password --mkhomedir --hostname=freeipa.cs30idcfcloud.internal --force-ntpd\n```\n\n* -r\n    * realm name\u3092\u6307\u5b9a\n* -n\n    * domain name\u3092\u6307\u5b9a\n* -p\n    * Directory Manager\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\n* -a\n    * admin\u30e6\u30fc\u30b6\u306ekerberos\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\n* --mkhomedir\n    * \u6700\u521d\u306e\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\n* --hostname\n    * \u30db\u30b9\u30c8\u540d\u306e\u6307\u5b9a\n* --force-ntpd\n    * NTP\u306e\u8a2d\u5b9a\u3092\u5f37\u5236\u3057\u307e\u3059\u3002(chrony\u306f\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3089\u3057\u3044\u3002)\n\n\u307e\u305f\u3001\u524d\u8ff0\u306e\u3088\u3046\u306bIDCF Cloud\u5185\u306fDNS\u304c\u5f15\u3051\u308b\u305f\u3081\u3001FreeIPA\u4e0a\u306bDNS\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306f\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n`Do you want to configure integrated DNS (BIND)? [no]: `\u306f`no`\u3068\u3057\u307e\u3059\u3002\u74b0\u5883\u306b\u3088\u3063\u3066\u306fyes\u3068\u3057\u3066\u3001BIND\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308c\u3070\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n```\n# ipa-server-install -r CS30IDCFCLOUD.INTERNAL -n cs30idcfcloud.internal -p 6zCYTSn4 -a 6zCYTSn4 --mkhomedir --hostname=freeipa.cs30idcfcloud.internal --force-ntpd\n\nThe log file for this installation can be found in /var/log/ipaserver-install.log\n==============================================================================\nThis program will set up the IPA Server.\n\nThis includes:\n  * Configure a stand-alone CA (dogtag) for certificate management\n  * Configure the Network Time Daemon (ntpd)\n  * Create and configure an instance of Directory Server\n  * Create and configure a Kerberos Key Distribution Center (KDC)\n  * Configure Apache (httpd)\n\nTo accept the default shown in brackets, press the Enter key.\n\nWARNING: conflicting time&date synchronization service 'chronyd' will be disabled\nin favor of ntpd\n\nDo you want to configure integrated DNS (BIND)? [no]: no\n\n\nThe IPA Master Server will be configured with:\nHostname:       freeipa.cs30idcfcloud.internal\nIP address(es): 10.22.0.114\nDomain name:    cs30idcfcloud.internal\nRealm name:     CS30IDCFCLOUD.INTERNAL\n\nContinue to configure the system with these values? [no]: yes\n\nThe following operations may take some minutes to complete.\nPlease wait until the prompt is returned.\n\nConfiguring NTP daemon (ntpd)\n  [1/4]: stopping ntpd\n  [2/4]: writing configuration\n  [3/4]: configuring ntpd to start on boot\n  [4/4]: starting ntpd\nDone configuring NTP daemon (ntpd).\nConfiguring directory server (dirsrv). Estimated time: 1 minute\n  [1/42]: creating directory server user\n  [2/42]: creating directory server instance\n  [3/42]: adding default schema\n  [4/42]: enabling memberof plugin\n  [5/42]: enabling winsync plugin\n  [6/42]: configuring replication version plugin\n  [7/42]: enabling IPA enrollment plugin\n  [8/42]: enabling ldapi\n  [9/42]: configuring uniqueness plugin\n  [10/42]: configuring uuid plugin\n  [11/42]: configuring modrdn plugin\n  [12/42]: configuring DNS plugin\n  [13/42]: enabling entryUSN plugin\n  [14/42]: configuring lockout plugin\n  [15/42]: creating indices\n  [16/42]: enabling referential integrity plugin\n  [17/42]: configuring certmap.conf\n  [18/42]: configure autobind for root\n  [19/42]: configure new location for managed entries\n  [20/42]: configure dirsrv ccache\n  [21/42]: enable SASL mapping fallback\n  [22/42]: restarting directory server\n  [23/42]: adding default layout\n  [24/42]: adding delegation layout\n  [25/42]: creating container for managed entries\n  [26/42]: configuring user private groups\n  [27/42]: configuring netgroups from hostgroups\n  [28/42]: creating default Sudo bind user\n  [29/42]: creating default Auto Member layout\n  [30/42]: adding range check plugin\n  [31/42]: creating default HBAC rule allow_all\n  [32/42]: adding entries for topology management\n  [33/42]: initializing group membership\n  [34/42]: adding master entry\n  [35/42]: initializing domain level\n  [36/42]: configuring Posix uid/gid generation\n  [37/42]: adding replication acis\n  [38/42]: enabling compatibility plugin\n  [39/42]: activating sidgen plugin\n  [40/42]: activating extdom plugin\n  [41/42]: tuning directory server\n  [42/42]: configuring directory to start on boot\nDone configuring directory server (dirsrv).\nConfiguring certificate server (pki-tomcatd). Estimated time: 3 minutes 30 seconds\n  [1/28]: creating certificate server user\n  [2/28]: configuring certificate server instance\n  [3/28]: stopping certificate server instance to update CS.cfg\n  [4/28]: backing up CS.cfg\n  [5/28]: disabling nonces\n  [6/28]: set up CRL publishing\n  [7/28]: enable PKIX certificate path discovery and validation\n  [8/28]: starting certificate server instance\n  [9/28]: creating RA agent certificate database\n  [10/28]: importing CA chain to RA certificate database\n  [11/28]: fixing RA database permissions\n  [12/28]: setting up signing cert profile\n  [13/28]: setting audit signing renewal to 2 years\n  [14/28]: restarting certificate server\n  [15/28]: requesting RA certificate from CA\n  [16/28]: issuing RA agent certificate\n  [17/28]: adding RA agent as a trusted user\n  [18/28]: authorizing RA to modify profiles\n  [19/28]: configure certmonger for renewals\n  [20/28]: configure certificate renewals\n  [21/28]: configure RA certificate renewal\n  [22/28]: configure Server-Cert certificate renewal\n  [23/28]: Configure HTTP to proxy connections\n  [24/28]: restarting certificate server\n  [25/28]: migrating certificate profiles to LDAP\n  [26/28]: importing IPA certificate profiles\n  [27/28]: adding default CA ACL\n  [28/28]: updating IPA configuration\nDone configuring certificate server (pki-tomcatd).\nConfiguring directory server (dirsrv). Estimated time: 10 seconds\n  [1/3]: configuring ssl for ds instance\n  [2/3]: restarting directory server\n  [3/3]: adding CA certificate entry\nDone configuring directory server (dirsrv).\nConfiguring Kerberos KDC (krb5kdc). Estimated time: 30 seconds\n  [1/10]: adding sasl mappings to the directory\n  [2/10]: adding kerberos container to the directory\n  [3/10]: configuring KDC\n  [4/10]: initialize kerberos container\n  [5/10]: adding default ACIs\n  [6/10]: creating a keytab for the directory\n  [7/10]: creating a keytab for the machine\n  [8/10]: adding the password extension to the directory\n  [9/10]: starting the KDC\n  [10/10]: configuring KDC to start on boot\nDone configuring Kerberos KDC (krb5kdc).\nConfiguring kadmin\n  [1/2]: starting kadmin \n  [2/2]: configuring kadmin to start on boot\nDone configuring kadmin.\nConfiguring ipa_memcached\n  [1/2]: starting ipa_memcached \n  [2/2]: configuring ipa_memcached to start on boot\nDone configuring ipa_memcached.\nConfiguring ipa-otpd\n  [1/2]: starting ipa-otpd \n  [2/2]: configuring ipa-otpd to start on boot\nDone configuring ipa-otpd.\nConfiguring the web interface (httpd). Estimated time: 1 minute\n  [1/19]: setting mod_nss port to 443\n  [2/19]: setting mod_nss protocol list to TLSv1.0 - TLSv1.2\n  [3/19]: setting mod_nss password file\n  [4/19]: enabling mod_nss renegotiate\n  [5/19]: adding URL rewriting rules\n  [6/19]: configuring httpd\n  [7/19]: configure certmonger for renewals\n  [8/19]: setting up ssl\n  [9/19]: importing CA certificates from LDAP\n  [10/19]: setting up browser autoconfig\n  [11/19]: publish CA cert\n  [12/19]: creating a keytab for httpd\n  [13/19]: clean up any existing httpd ccache\n  [14/19]: configuring SELinux for httpd\n  [15/19]: create KDC proxy user\n  [16/19]: create KDC proxy config\n  [17/19]: enable KDC proxy\n  [18/19]: restarting httpd\n  [19/19]: configuring httpd to start on boot\nDone configuring the web interface (httpd).\nApplying LDAP updates\nUpgrading IPA:\n  [1/9]: stopping directory server\n  [2/9]: saving configuration\n  [3/9]: disabling listeners\n  [4/9]: enabling DS global lock\n  [5/9]: starting directory server\n  [6/9]: upgrading server\n  [7/9]: stopping directory server\n  [8/9]: restoring configuration\n  [9/9]: starting directory server\nDone.\nRestarting the directory server\nRestarting the KDC\nSample zone file for bind has been created in /tmp/sample.zone.ZVZfxB.db\nRestarting the web server\n==============================================================================\nSetup complete\n\nNext steps:\n\t1. You must make sure these network ports are open:\n\t\tTCP Ports:\n\t\t  * 80, 443: HTTP/HTTPS\n\t\t  * 389, 636: LDAP/LDAPS\n\t\t  * 88, 464: kerberos\n\t\tUDP Ports:\n\t\t  * 88, 464: kerberos\n\t\t  * 123: ntp\n\n\t2. You can now obtain a kerberos ticket using the command: 'kinit admin'\n\t   This ticket will allow you to use the IPA tools (e.g., ipa user-add)\n\t   and the web user interface.\n\nBe sure to back up the CA certificates stored in /root/cacert.p12\nThese files are required to create replicas. The password for these\nfiles is the Directory Manager password\n```\n\nFreeIPA\u306e\u30b5\u30fc\u30d0\u74b0\u5883\u306e\u8a2d\u5b9a\u306f\u3001\u3053\u308c\u3067\u5b8c\u4e86\u3067\u3059\u3002\u30d6\u30e9\u30a6\u30b6\u3067IPA\u30b5\u30fc\u30d0(443)\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001GUI\u3067FreeIPA\u3092\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u3066\u3001\u30e6\u30fc\u30b6\u3084\u30b0\u30eb\u30fc\u30d7\u3084Principal(Service)\u3092\u30dd\u30c1\u30dd\u30c1\u3068\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002(\u3053\u308c\u3092\u66f8\u3044\u3066\u3044\u3066\u601d\u3044\u307e\u3057\u305f\u304c\u3001AD\u307f\u305f\u3044\u306bDirectory\u3063\u307d\u304f\u306f\u7121\u3044\u3067\u3059\u306d\u3002\u305d\u3046\u3044\u3048\u3070\u3002\u307e\u3041\u3001FreeIPA\u3082\u8a00\u3046\u307b\u3069\u3084\u3063\u3066\u306a\u3044\u3093\u3067\u3059\u3051\u3069\u3002)\n\n![FreeIPA GUI Users](https://qiita-image-store.s3.amazonaws.com/0/16163/0dc9cfd6-5232-ef97-16a9-d1afa7c3af45.png)\n\n\n## IPA Client\u5074\u306e\u8a2d\u5b9a\n\n\u5404HDP\u306e\u30ce\u30fc\u30c9\u306bIPA Client\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u3001Linux\u306e\u8a8d\u8a3c\u3092FreeIPA\u5bfe\u5fdc\u3057\u307e\u3059\u3002\n\u5404HDP\u306e\u30ce\u30fc\u30c9\u3067\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n### IPA Clinet\u306erpm\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# yum -y install ipa-server bind bind-dyndb-ldap ipa-server-dns\n```\n\n### IPA Client\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n```\n# ipa-client-install --domain=cs30idcfcloud.internal --server=freeipa.cs30idcfcloud.internal --realm=CS30IDCFCLOUD.INTERNAL -p admin -w password --mkhomedir --hostname=hdp10.cs30idcfcloud.internal --force-ntpd\n```\n\n* --domain\n    * domain name\u3092\u6307\u5b9a\n* --server\n    * IPA Server\u3092\u6307\u5b9a\n* --realm\n    * realm name\u3092\u6307\u5b9a\n* -p\n    * FreeIPA(kerberos)\u306eadmin\u30e6\u30fc\u30b6\u3092\u6307\u5b9a\n* -w\n    * admin\u30e6\u30fc\u30b6\u306ekerberos\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u6307\u5b9a\n* --mkhomedir\n    * \u6700\u521d\u306e\u30ed\u30b0\u30a4\u30f3\u6642\u306b\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\n* --hostname\n    * \u30db\u30b9\u30c8\u540d\u306e\u6307\u5b9a\n* --force-ntpd\n    * NTP\u306e\u8a2d\u5b9a\u3092\u5f37\u5236\u3057\u307e\u3059\u3002(chrony\u306f\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3089\u3057\u3044\u3002)\n\n```\n# ipa-client-install --domain=cs30idcfcloud.internal --server=freeipa.cs30idcfcloud.internal --realm=CS30IDCFCLOUD.INTERNAL -p admin -w password --mkhomedir --hostname=hdp1.cs30idcfcloud.internal --force-ntpd\nAutodiscovery of servers for failover cannot work with this configuration.\nIf you proceed with the installation, services will be configured to always access the discovered server for all operations and will not fail over to other servers in case of failure.\nProceed with fixed values and no DNS discovery? [no]: yes\nClient hostname: hdp1.cs30idcfcloud.internal\nRealm: CS30IDCFCLOUD.INTERNAL\nDNS Domain: cs30idcfcloud.internal\nIPA Server: freeipa.cs30idcfcloud.internal\nBaseDN: dc=cs30idcfcloud,dc=internal\n\nContinue to configure the system with these values? [no]: yes\nSynchronizing time with KDC...\nAttempting to sync time using ntpd.  Will timeout after 15 seconds\nSuccessfully retrieved CA cert\n    Subject:     CN=Certificate Authority,O=CS30IDCFCLOUD.INTERNAL\n    Issuer:      CN=Certificate Authority,O=CS30IDCFCLOUD.INTERNAL\n    Valid From:  Fri Sep 30 02:46:16 2016 UTC\n    Valid Until: Tue Sep 30 02:46:16 2036 UTC\n\nEnrolled in IPA realm CS30IDCFCLOUD.INTERNAL\nCreated /etc/ipa/default.conf\nNew SSSD config will be created\nConfigured sudoers in /etc/nsswitch.conf\nConfigured /etc/sssd/sssd.conf\nConfigured /etc/krb5.conf for IPA realm CS30IDCFCLOUD.INTERNAL\ntrying https://freeipa.cs30idcfcloud.internal/ipa/json\nForwarding 'ping' to json server 'https://freeipa.cs30idcfcloud.internal/ipa/json'\nForwarding 'ca_is_enabled' to json server 'https://freeipa.cs30idcfcloud.internal/ipa/json'\nSystemwide CA database updated.\nAdded CA certificates to the default NSS database.\nAdding SSH public key from /etc/ssh/ssh_host_rsa_key.pub\nAdding SSH public key from /etc/ssh/ssh_host_ecdsa_key.pub\nAdding SSH public key from /etc/ssh/ssh_host_ed25519_key.pub\nForwarding 'host_mod' to json server 'https://freeipa.cs30idcfcloud.internal/ipa/json'\nCould not update DNS SSHFP records.\nSSSD enabled\nConfigured /etc/openldap/ldap.conf\nNo SRV records of NTP servers found. IPA server address will be used\nNTP enabled\nConfigured /etc/ssh/ssh_config\nConfigured /etc/ssh/sshd_config\nConfiguring cs30idcfcloud.internal as NIS domain.\nClient configuration complete.\n```\n\n\u3053\u308c\u3067\u3001Linux\u306e\u8a8d\u8a3c\u306fFreeIPA\u3067\u8a8d\u8a3c\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002(FreeIPA\u5074\u306bUser\u3092\u4f5c\u308b\u3060\u3051\u3067\u3001\u3069\u306e\u30b5\u30fc\u30d0\u306b\u3082\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002)\n\u3053\u308c\u3092\u3001\u3059\u3079\u3066\u306eHDP\u30ce\u30fc\u30c9\u3067\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n![FreeIPA GUI Hosts](https://qiita-image-store.s3.amazonaws.com/0/16163/f0851c4d-8764-5179-99ae-84be55b91b26.png)\n\n\n## IPA Server\u306f\u8272\u3005\u3067\u304d\u308b\n\u3053\u3053\u3067\u306f\u3001\u3056\u3063\u304f\u308a\u3068\u8a2d\u5b9a\u65b9\u6cd5\u3060\u3051\u66f8\u304d\u307e\u3057\u305f\u304c\u3001FreeIPA\u3067\u306f\u3001ssh-key\u3092FreeIPA\u5074\u306b\u3082\u305f\u305b\u305f\u308a\u3068\u304b\u3001Sudo\u3092\u4e00\u62ec\u3067\u7ba1\u7406\u3067\u304d\u305f\u308a\u3068\u304b\u3001\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u30db\u30b9\u30c8\u3092\u5236\u9650\u3057\u305f\u308a\u3068\u304b\u3001\u8272\u3005\u3067\u304d\u307e\u3059\u3002\u79c1\u3082\u7d30\u304b\u304f\u3084\u3063\u3066\u306a\u3044\u3067\u3059\u3051\u3069\u3002\n\n# Ambari\u3067HDP\u306eKerberos\u3092\u6709\u52b9\n\n\u3042\u3068\u306f\u3001Ambari\u306eGUI\u304b\u3089Kerberos\u3092Enable\u3059\u308c\u3070\u3001\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u5b9f\u884c\u524d\u306b\u3044\u304f\u3064\u304b\u3084\u3063\u3066\u304a\u304f\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\n## Ambari\u3067FreeIPA\u30b5\u30dd\u30fc\u30c8\u3092\u6709\u52b9\u5316\n\nAmbari 2.4\u306eFreeIPA\u30b5\u30dd\u30fc\u30c8\u306fExperrimental\u306a\u6a5f\u80fd\u306a\u306e\u3067\u3001\u6709\u52b9\u306b\u3057\u306a\u3044\u3068\u4f7f\u3048\u307e\u305b\u3093\u3002(Kerberos\u6709\u52b9\u5316\u306e\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3082\u3001FreeIPA\u306e\u9078\u629e\u304c\u51fa\u3066\u3053\u306a\u3044\u3002)\n\n`http://FreeIPA_Server_IP:8080/#/experimental`\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u300cAmbari's Experimental Functionality\u300d\u304c\u51fa\u3066\u304d\u307e\u3059\u306e\u3067`enableIpa`\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u3001Save\u3057\u307e\u3057\u3087\u3046\u3002\n\n![FreeIPA GUI Experimental](https://qiita-image-store.s3.amazonaws.com/0/16163/4d051bf1-9cf2-bd70-d58f-339e1b47d8fa.png)\n\n## FreeIPA\u5074\u306b\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\n\nKerberos\u6709\u52b9\u5316\u306e\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001FreeIPA\u5074\u306bUser Group\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001ambari-managed-principals\u306b\u306a\u3063\u3066\u3044\u307e\u3059(Kerberos\u5316\u30a6\u30a3\u30b6\u30fc\u30c9\u306e\u9014\u4e2d\u3067\u5909\u66f4\u53ef\u80fd)\u306e\u3067\u3001FreeIPA\u306eGUI\u304b\u3089\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u6b21\u306e\u69d8\u306a\u611f\u3058\u3067\u3059\u3002(Group Type:\u306fNormal\u3067\u554f\u984c\u306a\u304b\u3063\u305f\u3067\u3059\u304c\u3001\u6b63\u3057\u3044\u306e\u304b\u826f\u304f\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3002)\n\n![FreeIPA GUI Add User](https://qiita-image-store.s3.amazonaws.com/0/16163/ce45e37f-c242-d022-bd18-5af0ef7c47e0.png)\n\n## HDP Kerberos\u5316\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u5b9f\u884c\n\n\u3044\u3088\u3044\u3088\u3001Kerberos\u5316\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\nAmbari\u306eGUI\u304b\u3089\u3001\u4e0a\u90e8\u306b\u4e26\u3093\u3067\u3044\u308b\u30e1\u30cb\u30e5\u30fc\u306e\u300cAdmin -> Kerberos\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\u300cEnable Kerberos\u300d\u3092\u9078\u629e\u3057\u3066\u3001Kerberos\u5316\u30a6\u30a3\u30b6\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n![Ambari Enable Kerberos](https://qiita-image-store.s3.amazonaws.com/0/16163/0589999f-a05a-dcda-e5a0-a73aa57533e2.png)\n\n\u6b21\u306e\u3088\u3046\u306a\u753b\u9762(Get Started)\u304c\u958b\u304d\u307e\u3059\u306e\u3067\u3001Existing IPA\u3092\u9078\u629e\u3057\u3001\u305d\u306e\u4e0b\u306e\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u5168\u90e8\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066(\u3061\u3083\u3093\u3068\u8aad\u3093\u3067\u306d)\u3001\u6b21\u3078\u3002\n\n![Ambari Enable Kerberos Get Started](https://qiita-image-store.s3.amazonaws.com/0/16163/b7e06f3b-d067-aa81-1c18-a16cb0afe09c.png)\n\n\u6b21\u306e\u753b\u9762\u3067\u306f\u3001FreeIPA\u306e\u60c5\u5831(Configure Kerberos)\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u4e0a\u8ff0\u306e\u4f8b\u3067\u3042\u3052\u305fFreeIPA\u306e\u60c5\u5831\u3060\u3068\u3001\u4ee5\u4e0b\u306e\u753b\u9762\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002(\u3059\u3044\u307e\u305b\u3093\u3001\u3060\u3093\u3060\u3093\u9069\u5f53\u3067\u3002)\n\u3061\u306a\u307f\u306b\u3001\u3053\u3053\u3067\u5148\u306b\u4f5c\u6210\u3057\u305fFreeIPA\u5074\u306e\u30b0\u30eb\u30fc\u30d7\u540d\u306a\u3069\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n![Ambari Enable Kerberos Configure Kerberos](https://qiita-image-store.s3.amazonaws.com/0/16163/d3eb65ca-d4e1-0aeb-0234-91dfcfd431d4.png)\n\n\u5f8c\u306f\u3001\u57fa\u672c\u7684\u306b\u7279\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u306a\u304f\u300cNext\u300d\u3067\u5927\u4e08\u592b\u3067\u3059\u3002\n\u4ee5\u4e0b\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3067\u3059\u304c\u3001\u4e00\u90e8(\u3060\u3044\u3076)\u629c\u3051\u3066\u307e\u3059\u3002(\u3068\u308a\u5fd8\u308c\u305f\u3002\u3059\u3044\u307e\u305b\u3093\u3002)\n\n![Enable Kerberos Wozard](https://qiita-image-store.s3.amazonaws.com/0/16163/4822b119-ea0c-4347-09c0-783b9fb34856.png)\n\n![Enable Kerberos Wozard](https://qiita-image-store.s3.amazonaws.com/0/16163/34ed3e2a-afdf-fe76-c7fc-8b2b966387ab.png)\n\n\u3053\u306e\u5f8c\u3001\u6700\u5f8c\u306b\u30b5\u30fc\u30d3\u30b9\u304c\u3059\u3079\u3066\u518d\u958b\u3055\u308c\u3066\u3001Kerberos\u5316\u5b8c\u4e86\u3067\u3059\uff01(\u6700\u5f8c\u9069\u5f53\u3067\u7533\u3057\u8a33\u306a\u3044\u3002)\n\n## \u305d\u306e\u4ed6\u306b\u3084\u3063\u305f\u65b9\u304c\u826f\u3044\u3053\u3068\n\n\u57fa\u672c\u7684\u306a\u90e8\u5206\u306f\u3053\u308c\u3067\u5b8c\u4e86\u306a\u306e\u3067\u3059\u304c\u3001\u3044\u304f\u3064\u304b\u3084\u3063\u3066\u3082\u826f\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001Ambari\u306e\u30e6\u30fc\u30b6\u7ba1\u7406\u3092LDAP(FreeIPA)\u9023\u643a\u3055\u305b\u308b\u3068\u304b\u3001\u305d\u3093\u306a\u306e\u3067\u3059\u306d\u3002\u8a73\u7d30\u306f\u3001\u4e0b\u8a18\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3066\u3001\u5fc5\u8981\u3067\u3042\u308c\u3070\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n* [Chapter 1. HDP Security Overview](http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.5.0/bk_security/content/ch_hdp-security-guide-overview.html)\n\n\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e2.1\u304c\u4eca\u307e\u3067\u8aac\u660e\u3057\u3066\u304d\u305f\u90e8\u5206\u3067\u30012.2\u4ee5\u964d\u3092\u898b\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n* [Chapter 2. Authentication](http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.5.0/bk_security/content/ch_hdp-security-guide-authentication.html)\n\n\u3061\u306a\u307f\u306b\u3001\u79c1\u3082\u3084\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001FreeIPA\u3067\u3061\u3083\u3093\u3068\u3067\u304d\u3093\u306e\u304b\u306f\u826f\u304f\u308f\u304b\u3089\u3093\u3067\u3059\u3051\u3069\u3002\n", "tags": ["Ambari", "HDP", "FreeIPA", "CentOS", "centos7"]}