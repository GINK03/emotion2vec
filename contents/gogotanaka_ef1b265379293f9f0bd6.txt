{"context": " More than 1 year has passed since last update.\n\n\u3042\u3044\u3055\u3064\n\u533f\u540dIP\u3092\u30ed\u30fc\u30c6\u3055\u305b\u3066\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3092\u6c17\u306b\u305b\u305a\u30ac\u30b7\u30ac\u30b7Scraping\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059.\n\u4eca\u56de\u306fRuby+Nokogiri\u3067\u6e08\u3080\u7c21\u5358\u306a\u30e2\u30ce\u3092\u7d39\u4ecb\u3057\u307e\u3059\u304c\u3001PhantomJS\u3084Selenium\u306b\u30d7\u30ed\u30ad\u30b7\u3092\u304b\u307e\u3057\u3066\u3082\u540c\u3058\u3088\u3046\u306a\u4e8b\u304c\u51fa\u6765\u307e\u3059.\n\n\u60aa\u7528\u306f\u826f\u304f\u306a\u3044\n\n\nhttp://proxymesh.com/\n\nhttp://proxymesh.com/  \u307e\u305a\u306f\u3053\u3053\u3067\u4f1a\u54e1\u767b\u9332.\n\u7121\u6599\u7248\u3082\u3042\u308b\u306e\u3067\u305d\u308c\u3067\u6e08\u3080\u306a\u3089\u305d\u308c\u3067\u3044\u3044\u304b\u3082.\n\u3053\u3053\u3067\u767b\u9332\u3057\u305fusername\u2460\u3068password\u2461\u306f\u5f8c\u3067\u4f7f\u3046\u306e\u3067\u63a7\u3048\u3066\u304a\u304f.\n\n\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308bAuthorized\u6e08\u307f\u306eProxy\u306eHost\u2462\u3068Port\u2463\u3092\u63a7\u3048\u3066\u304a\u304f.\n\nNokogiri\u3067Gogo\n#open \u306eproxy_http_basic_authentication\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3048\u3070\u304ak \nrequire \"open-uri\"\nclass OpenWithProxy\n  def initialize(proxy_host, proxy_port, username, pass)\n    @proxy_uri = URI.parse(\"#{proxy_host}:#{proxy_port}\")\n    @username  = username\n    @pass      = pass\n  end\n\n  def open(url)\n    Kernel.open(url, proxy_http_basic_authentication: [@proxy_uri, @username, @pass])\n  end\nend\n\nowp = OpenWithProxy.new('\u2462\u3067\u63a7\u3048\u305f\u3084\u3064', '\u2463\u3067\u63a7\u3048\u305f\u3084\u3064', '\u2460\u3067\u63a7\u3048\u305f\u3084\u3064', '\u2461\u3067\u63a7\u3048\u305f\u3084\u3064')\n# \u3053\u3093\u306a\u611f\u3058. owp = OpenWithProxy.new('http://us.proxymesh.com', '31280', 'username', 'password')\n\n\n\u3061\u3083\u3093\u3068\u30d7\u30ed\u30ad\u30b7\u3092\u565b\u3093\u3067\u308b\u304b\u78ba\u8a8d\nhttp://api.ipify.org?format=json\n\u3092\u4f7f\u3046\u3068IP\u304c\u78ba\u8a8d\u3067\u304d\u308b.\nrequire 'json'\ncheck_ip = -> { JSON.parse(owp.open('http://api.ipify.org?format=json').read)['ip'] }\n\ncheck_ip.call\n#=> \"166.78.113.337\"\n\ncheck_ip.call\n#=> \"166.28.153.347\"\n\ncheck_ip.call\n#=> \"192.237.163.323\"\n\n...\n\n\u304a\u304a\u300110\u500b\u306eIP\u306e\u5185\u304b\u3089\u6bce\u56de\u30e9\u30f3\u30c0\u30e0\u3067\u9078\u3070\u308c\u308b\u307d\u3044\u3001\u3044\u3044\u306d\n\nNokogiri\u306b\u6e21\u3057\u3066\u30ac\u30b7\u30ac\u30b7\nrequire 'nokogiri'\n\ndoc = Nokogiri::HTML owp.open('https://www.google.com')\n\ndoc.title\n#=> \"Google\"\n\n\u3044\u3044\u306d\uff01\n# \u3042\u3044\u3055\u3064\n\n\u533f\u540dIP\u3092\u30ed\u30fc\u30c6\u3055\u305b\u3066\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3092\u6c17\u306b\u305b\u305a\u30ac\u30b7\u30ac\u30b7Scraping\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059.\n\n\u4eca\u56de\u306fRuby+Nokogiri\u3067\u6e08\u3080\u7c21\u5358\u306a\u30e2\u30ce\u3092\u7d39\u4ecb\u3057\u307e\u3059\u304c\u3001PhantomJS\u3084Selenium\u306b\u30d7\u30ed\u30ad\u30b7\u3092\u304b\u307e\u3057\u3066\u3082\u540c\u3058\u3088\u3046\u306a\u4e8b\u304c\u51fa\u6765\u307e\u3059.\n\n* \u60aa\u7528\u306f\u826f\u304f\u306a\u3044\n\n# http://proxymesh.com/\n\nhttp://proxymesh.com/  \u307e\u305a\u306f\u3053\u3053\u3067\u4f1a\u54e1\u767b\u9332.\n\n\u7121\u6599\u7248\u3082\u3042\u308b\u306e\u3067\u305d\u308c\u3067\u6e08\u3080\u306a\u3089\u305d\u308c\u3067\u3044\u3044\u304b\u3082.\n\n\u3053\u3053\u3067\u767b\u9332\u3057\u305f`username`\u2460\u3068`password`\u2461\u306f\u5f8c\u3067\u4f7f\u3046\u306e\u3067\u63a7\u3048\u3066\u304a\u304f.\n\n![Screen Shot 2015-04-08 at 6.04.09 PM.png](https://qiita-image-store.s3.amazonaws.com/0/30440/63bffbf1-9ad8-af87-2f34-5a37544f4d5a.png)\n\n\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308bAuthorized\u6e08\u307f\u306eProxy\u306eHost\u2462\u3068Port\u2463\u3092\u63a7\u3048\u3066\u304a\u304f.\n\n\n# Nokogiri\u3067Gogo\n\n`#open` \u306e`proxy_http_basic_authentication`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3048\u3070\u304ak \n\n```rb\nrequire \"open-uri\"\nclass OpenWithProxy\n  def initialize(proxy_host, proxy_port, username, pass)\n    @proxy_uri = URI.parse(\"#{proxy_host}:#{proxy_port}\")\n    @username  = username\n    @pass      = pass\n  end\n\n  def open(url)\n    Kernel.open(url, proxy_http_basic_authentication: [@proxy_uri, @username, @pass])\n  end\nend\n```\n\n```rb\nowp = OpenWithProxy.new('\u2462\u3067\u63a7\u3048\u305f\u3084\u3064', '\u2463\u3067\u63a7\u3048\u305f\u3084\u3064', '\u2460\u3067\u63a7\u3048\u305f\u3084\u3064', '\u2461\u3067\u63a7\u3048\u305f\u3084\u3064')\n# \u3053\u3093\u306a\u611f\u3058. owp = OpenWithProxy.new('http://us.proxymesh.com', '31280', 'username', 'password')\n```\n \n## \u3061\u3083\u3093\u3068\u30d7\u30ed\u30ad\u30b7\u3092\u565b\u3093\u3067\u308b\u304b\u78ba\u8a8d\n\nhttp://api.ipify.org?format=json\n\n\u3092\u4f7f\u3046\u3068IP\u304c\u78ba\u8a8d\u3067\u304d\u308b.\n\n```rb\nrequire 'json'\ncheck_ip = -> { JSON.parse(owp.open('http://api.ipify.org?format=json').read)['ip'] }\n\ncheck_ip.call\n#=> \"166.78.113.337\"\n\ncheck_ip.call\n#=> \"166.28.153.347\"\n\ncheck_ip.call\n#=> \"192.237.163.323\"\n\n...\n```\n\n\u304a\u304a\u300110\u500b\u306eIP\u306e\u5185\u304b\u3089\u6bce\u56de\u30e9\u30f3\u30c0\u30e0\u3067\u9078\u3070\u308c\u308b\u307d\u3044\u3001\u3044\u3044\u306d\n\n# Nokogiri\u306b\u6e21\u3057\u3066\u30ac\u30b7\u30ac\u30b7\n\n```rb\nrequire 'nokogiri'\n\ndoc = Nokogiri::HTML owp.open('https://www.google.com')\n\ndoc.title\n#=> \"Google\"\n```\n\n\u3044\u3044\u306d\uff01\n", "tags": ["Ruby", "Nokogiri", "Web\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0", "scraping"]}