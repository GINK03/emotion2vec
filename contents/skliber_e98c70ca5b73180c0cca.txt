{"context": "\n\n\u79fb\u884c\u65b9\u6cd5\n\u4ee5\u4e0b\u306e\u4e8c\u3064\u3092\u66f8\u304d\u63db\u3048\u308b\n\nproject/build.properties\nsbt.version=0.13.8\n\u2193\nsbt.version=0.13.11\nproject/plugins.sbt\naddSbtPlugin(\"com.typesafe.play\" % \"sbt-plugin\" % \"2.4.6\")\n\u2193\naddSbtPlugin(\"com.typesafe.play\" % \"sbt-plugin\" % \"2.5.0\")\n\n\u7d42\u308f\u3063\u305f\u3089activator eclipse\u3068\u3057\u3066\u30012.5\u306b\u66f4\u65b0\u3059\u308b\u3068\u5171\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3082\u540c\u6642\u306b\u4e00\u65b0\u3059\u308b\n\uff08Eclipse\u3058\u3083\u306a\u3044\u4eba\u306factivator update\u3084activator run\u3067\u826f\u3055\u305d\u3046\uff09\n\u3059\u308b\u3068\u975e\u63a8\u5968\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u308f\u51fa\u308b\u308f\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306e\u30a8\u30e9\u30fc\u3092\u76f4\u3059\n\n\u30a8\u30e9\u30fc: \u4e0d\u9069\u5408\u306a\u578b: Object\u3092File\u306b\u5909\u63db\u3067\u304d\u307e\u305b\u3093:\n\nFile file = picture.getFile();\n\n\u3069\u3046\u3084\u3089play.mvc.Http.MultipartFormData\u3068\nplay.mvc.Http.MultipartFormData.FilePart\u306b\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30b9\u304c\u4ed8\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u3089\u3057\u3044\nMultipartFormData body = request().body().asMultipartFormData();\nFilePart picture = body.getFile(\"picture\");\n\n\u2193\u4fee\u6b63\nMultipartFormData<File> body = request().body().asMultipartFormData();\nFilePart<File> picture = body.getFile(\"picture\");\n\n\n\u30a8\u30e9\u30fc: DynamicForm\u306b\u9069\u5207\u306a\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093(\u5f15\u6570\u304c\u3042\u308a\u307e\u305b\u3093)\n\nDynamicForm form = new DynamicForm().bindFromRequest();\n\nForm\u306f\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u4f5c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u6a21\u69d8\nDynamicForm\u3092\u4f5c\u308b\u306b\u306fFormFactory\u306eform()\u3092\u5f15\u6570\u306a\u3057\u3067\u547c\u3079\u3070\u826f\u3044\n\uff11. \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306bFormFactory\u3068Inject\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\nimport javax.inject.Inject;\nimport play.data.FormFactory;\n\n\uff12. \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0\n@Inject\nFormFactory formFactory;\n\n\uff13. \u30d5\u30a9\u30fc\u30e0\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\nDynamicForm requestData = formFactory.form().bindFromRequest();\n\nCSRF Filters\n\n\u30a8\u30e9\u30fc: Filters\u306fabstract\u3067\u306a\u304f\u3001HttpFilters\u5185\u306eabstract\u30e1\u30bd\u30c3\u30c9filters()\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u307e\u305b\u3093\n\u30a8\u30e9\u30fc: Filters\u306efilters()\u306fHttpFilters\u306efilters()\u3092\u5b9f\u88c5\u3067\u304d\u307e\u305b\u3093\n\u623b\u308a\u5024\u306e\u578bplay.api.mvc.EssentialFilter[]\u306fplay.mvc.EssentialFilter[]\u3068\u4e92\u63db\u6027\u304c\u3042\u308a\u307e\u305b\u3093\n\u30a8\u30e9\u30fc: \u30e1\u30bd\u30c3\u30c9\u306f\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u307e\u305f\u306f\u5b9f\u88c5\u3057\u307e\u305b\u3093\n\n\u6050\u308c\u308b\u3053\u3068\u306a\u304f\u30d5\u30a3\u30eb\u30bf\u30fc\u30af\u30e9\u30b9\u3092\u5909\u66f4\nimport play.http.HttpFilters;\nimport play.api.mvc.EssentialFilter;\u3000// \u2190\u2606\nimport play.filters.csrf.CSRFFilter;\nimport javax.inject.Inject;\n\npublic class Filters implements HttpFilters {\n\n    @Inject CSRFFilter csrfFilter;\n\n    @Override\n    public EssentialFilter[] filters() {\n        return new EssentialFilter[] { csrfFilter };\u3000// \u2190\u2606\n    }\n}\n\n\u2193\nimport play.http.HttpFilters;\nimport play.mvc.EssentialFilter;\u3000// \u2190\u2606\nimport play.filters.csrf.CSRFFilter;\nimport javax.inject.Inject;\n\npublic class Filters implements HttpFilters {\n\n    @Inject CSRFFilter csrfFilter;\n\n    @Override\n    public EssentialFilter[] filters() {\n        return new EssentialFilter[] { csrfFilter.asJava() };\u3000// \u2190\u2606\n    }\n}\n\n\n\u975e\u63a8\u5968\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u7f6e\u304d\u63db\u3048\n\nplay.cache.Cache \u2192 play.cache.CacheApi\n\uff11\uff0e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0\n@Inject\nCacheApi cache;\n\n\uff12\uff0eCacheApi\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\nCache.set(token, info, 60 * 60);\n\u2193\ncache.set(token, info, 60 * 60);\n\nView\u3067Cache\u3092\u4f7f\u3063\u3066\u308b\u5834\u5408\nView\u306e\u5f15\u6570\u306b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067Inject\u3057\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6e21\u305b\u3070\u826f\u3044\u3089\u3057\u3044\n\uff11.\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306bCacheApi\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0\n\n@Inject\nCacheApi cache;\n\n\uff12\uff0eView\u306bCacheApi\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\n@import play.cache.CacheApi\n\uff13\uff0eView\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306bCacheApi\u3092\u8ffd\u52a0\n@(user: models.entity.User, cache: CacheApi)\n\uff14\uff0eView\u3067CacheApi\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\nCache.get(session.get(\"userToken\"))\n\u2193\ncache.get(session.get(\"userToken\"))\n\uff15\uff0e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u90e8\u5206\u3092\u4fee\u6b63\nreturn ok(user.render(userOps.get(), cache));\n\nplay.Routes \u2192 play.routing.JavaScriptReverseRouter\n\uff11\uff0e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306bplay.routing.JavaScriptReverseRouter\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\nimport play.routing.JavaScriptReverseRouter;\n\uff12\uff0eJavaScript\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\npublic Result getJSRoutes() {\n    return ok(Routes.javascriptRouter(\"jsRoutes\",\n    controllers.routes.javascript.FooController.bar()));\n}\n\n\u2193\npublic Result getJSRoutes() {\n    return ok(JavaScriptReverseRouter.create(\"jsRoutes\",\n    controllers.routes.javascript.FooController.bar()));\n}\n\n\n\u79fb\u884c\u306b\u5f79\u7acb\u3064\u3068\u601d\u308f\u308c\u308b\u30ea\u30f3\u30af\n\nhttps://www.playframework.com/documentation/2.5.x/Home\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttps://www.playframework.com/documentation/2.5.x/Migration25\n\u516c\u5f0f\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30ac\u30a4\u30c9\nhttps://www.playframework.com/documentation/2.5.x/api/java/index.html\n\u516c\u5f0fAPI\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n\u516c\u5f0f\u3092\u898b\u308c\u3070\u5927\u4f53\u89e3\u6c7a\u3059\u308b\uff01\n# \u79fb\u884c\u65b9\u6cd5\n\u4ee5\u4e0b\u306e\u4e8c\u3064\u3092\u66f8\u304d\u63db\u3048\u308b\n\n- project/build.properties\n`sbt.version=0.13.8`\n\u2193\n`sbt.version=0.13.11`\n\n- project/plugins.sbt\n`addSbtPlugin(\"com.typesafe.play\" % \"sbt-plugin\" % \"2.4.6\")`\n\u2193\n`addSbtPlugin(\"com.typesafe.play\" % \"sbt-plugin\" % \"2.5.0\")`\n\n\u7d42\u308f\u3063\u305f\u3089activator eclipse\u3068\u3057\u3066\u30012.5\u306b\u66f4\u65b0\u3059\u308b\u3068\u5171\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3082\u540c\u6642\u306b\u4e00\u65b0\u3059\u308b\n\uff08Eclipse\u3058\u3083\u306a\u3044\u4eba\u306factivator update\u3084activator run\u3067\u826f\u3055\u305d\u3046\uff09\n\n\u3059\u308b\u3068\u975e\u63a8\u5968\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u308f\u51fa\u308b\u308f\n\n# \u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306e\u30a8\u30e9\u30fc\u3092\u76f4\u3059\n## \u30a8\u30e9\u30fc: \u4e0d\u9069\u5408\u306a\u578b: Object\u3092File\u306b\u5909\u63db\u3067\u304d\u307e\u305b\u3093:\n- `File file = picture.getFile();`\n\n\u3069\u3046\u3084\u3089play.mvc.Http.MultipartFormData\u3068\nplay.mvc.Http.MultipartFormData.FilePart\u306b\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30b9\u304c\u4ed8\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u3089\u3057\u3044\n\n```\nMultipartFormData body = request().body().asMultipartFormData();\nFilePart picture = body.getFile(\"picture\");\n```\n\u2193\u4fee\u6b63\n\n```\nMultipartFormData<File> body = request().body().asMultipartFormData();\nFilePart<File> picture = body.getFile(\"picture\");\n```\n\n## \u30a8\u30e9\u30fc: DynamicForm\u306b\u9069\u5207\u306a\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093(\u5f15\u6570\u304c\u3042\u308a\u307e\u305b\u3093)\n- `DynamicForm form = new DynamicForm().bindFromRequest();`\n\nForm\u306f\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3063\u3066\u4f5c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u6a21\u69d8\nDynamicForm\u3092\u4f5c\u308b\u306b\u306fFormFactory\u306eform()\u3092\u5f15\u6570\u306a\u3057\u3067\u547c\u3079\u3070\u826f\u3044\n\n\uff11. \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306bFormFactory\u3068Inject\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\n\n```\nimport javax.inject.Inject;\nimport play.data.FormFactory;\n```\n\n\uff12. \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0\n\n```\n@Inject\nFormFactory formFactory;\n```\n\n\uff13. \u30d5\u30a9\u30fc\u30e0\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\n`DynamicForm requestData = formFactory.form().bindFromRequest();`\n\n\n## CSRF Filters\n- \u30a8\u30e9\u30fc: Filters\u306fabstract\u3067\u306a\u304f\u3001HttpFilters\u5185\u306eabstract\u30e1\u30bd\u30c3\u30c9filters()\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u307e\u305b\u3093\n- \u30a8\u30e9\u30fc: Filters\u306efilters()\u306fHttpFilters\u306efilters()\u3092\u5b9f\u88c5\u3067\u304d\u307e\u305b\u3093\n- \u623b\u308a\u5024\u306e\u578bplay.api.mvc.EssentialFilter[]\u306fplay.mvc.EssentialFilter[]\u3068\u4e92\u63db\u6027\u304c\u3042\u308a\u307e\u305b\u3093\n- \u30a8\u30e9\u30fc: \u30e1\u30bd\u30c3\u30c9\u306f\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u307e\u305f\u306f\u5b9f\u88c5\u3057\u307e\u305b\u3093\n\n\u6050\u308c\u308b\u3053\u3068\u306a\u304f\u30d5\u30a3\u30eb\u30bf\u30fc\u30af\u30e9\u30b9\u3092\u5909\u66f4\n\n```\nimport play.http.HttpFilters;\nimport play.api.mvc.EssentialFilter;\u3000// \u2190\u2606\nimport play.filters.csrf.CSRFFilter;\nimport javax.inject.Inject;\n\npublic class Filters implements HttpFilters {\n\n    @Inject CSRFFilter csrfFilter;\n\n    @Override\n    public EssentialFilter[] filters() {\n        return new EssentialFilter[] { csrfFilter };\u3000// \u2190\u2606\n    }\n}\n```\n\n\u2193\n\n```\nimport play.http.HttpFilters;\nimport play.mvc.EssentialFilter;\u3000// \u2190\u2606\nimport play.filters.csrf.CSRFFilter;\nimport javax.inject.Inject;\n\npublic class Filters implements HttpFilters {\n\n    @Inject CSRFFilter csrfFilter;\n\n    @Override\n    public EssentialFilter[] filters() {\n        return new EssentialFilter[] { csrfFilter.asJava() };\u3000// \u2190\u2606\n    }\n}\n```\n\n# \u975e\u63a8\u5968\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u7f6e\u304d\u63db\u3048\n## play.cache.Cache \u2192 play.cache.CacheApi\n\n\uff11\uff0e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0\n\n```\n@Inject\nCacheApi cache;\n```\n\uff12\uff0eCacheApi\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\n`Cache.set(token, info, 60 * 60);`\n\u2193\n`cache.set(token, info, 60 * 60);`\n\n### View\u3067Cache\u3092\u4f7f\u3063\u3066\u308b\u5834\u5408\n\nView\u306e\u5f15\u6570\u306b\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067Inject\u3057\u305f\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6e21\u305b\u3070\u826f\u3044\u3089\u3057\u3044\n\n\uff11.\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306bCacheApi\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u8ffd\u52a0\n```\n@Inject\nCacheApi cache;\n```\n\n\uff12\uff0eView\u306bCacheApi\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\n`@import play.cache.CacheApi`\n\n\uff13\uff0eView\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306bCacheApi\u3092\u8ffd\u52a0\n`@(user: models.entity.User, cache: CacheApi)`\n\n\uff14\uff0eView\u3067CacheApi\u3092\u4f7f\u3046\u3088\u3046\u306b\u5909\u66f4\n`Cache.get(session.get(\"userToken\"))`\n\u2193\n`cache.get(session.get(\"userToken\"))`\n\n\uff15\uff0e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u90e8\u5206\u3092\u4fee\u6b63\n`return ok(user.render(userOps.get(), cache));`\n\n\n## play.Routes \u2192 play.routing.JavaScriptReverseRouter\n\n\uff11\uff0e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306bplay.routing.JavaScriptReverseRouter\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\n`import play.routing.JavaScriptReverseRouter;`\n\n\uff12\uff0eJavaScript\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\n\n```\npublic Result getJSRoutes() {\n\treturn ok(Routes.javascriptRouter(\"jsRoutes\",\n\tcontrollers.routes.javascript.FooController.bar()));\n}\n```\n\u2193\n\n```\npublic Result getJSRoutes() {\n\treturn ok(JavaScriptReverseRouter.create(\"jsRoutes\",\n\tcontrollers.routes.javascript.FooController.bar()));\n}\n```\n\n# \u79fb\u884c\u306b\u5f79\u7acb\u3064\u3068\u601d\u308f\u308c\u308b\u30ea\u30f3\u30af\n- https://www.playframework.com/documentation/2.5.x/Home\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n- https://www.playframework.com/documentation/2.5.x/Migration25\n\u516c\u5f0f\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30ac\u30a4\u30c9\n\n- https://www.playframework.com/documentation/2.5.x/api/java/index.html\n\u516c\u5f0fAPI\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n\u516c\u5f0f\u3092\u898b\u308c\u3070\u5927\u4f53\u89e3\u6c7a\u3059\u308b\uff01\n", "tags": ["PlayFramework2.5", "Java8"]}