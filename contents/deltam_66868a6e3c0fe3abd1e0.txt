{"context": " More than 1 year has passed since last update.\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u5185\u5bb9\u3092\u30b7\u30fc\u30b1\u30f3\u30b9\u3067\u6271\u3046\u65b9\u6cd5\u3092\u8003\u3048\u307e\u3059\u3002\n\nJava\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\n(defn read-as-byte-buffer [filename]\n   (with-open [fis (java.io.FileInputStream. filename)]\n     (let [channel (.getChannel fis)\n           byte-buf (java.nio.ByteBuffer/allocate (.size channel))] \n       (.read channel byte-buf)\n       byte-buf)))\n\n\u8fd4\u308a\u5024\u306fjava.nio.ByteBuffer\u3067\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\u3042\u3068\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u3066\u3084\u308c\u3070\u30b7\u30fc\u30b1\u30f3\u30b9\u3068\u3057\u3066\u6271\u3048\u308b\u3002\n\n\u30b7\u30fc\u30b1\u30f3\u30b9\u306b\u5909\u63db\n(defn byte-buf->seq [byte-buf]\n  (for [idx (range (.limit byte-buf))]\n    (.get byte-buf idx)))\n\n\n\u78ba\u8a8d\n\u306a\u306b\u304b\u9069\u5f53\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u3053\u306e\u65b9\u6cd5\u3067\u8aad\u3093\u3067\u307f\u307e\u3059\u3002\n; echo \"hello clojure\" |gzip -c > hello.txt.gz\n(def bb (read-as-byte-buffer \"hello.txt.gz\"))\n(def bs (byte-buf->seq bb))\n(take 10 bs)\n;=> (31 -117 8 0 74 81 -59 85 0 3)\n(map #(format \"%02x \" %) (take 16 bs))\n;=> (\"1f \" \"8b \" \"08 \" \"00 \" \"4a \" \"51 \" \"c5 \" \"55 \" \"00 \" \"03 \" \"cb \" \"48 \" \"cd \" \"c9 \" \"c9 \" \"57 \")\n\n$ od -t x1 hello.txt.gz\n0000000    1f  8b  08  00  4a  51  c5  55  00  03  cb  48  cd  c9  c9  57\n...\n\n\u3069\u3046\u3084\u3089\u3061\u3083\u3093\u3068\u8aad\u3081\u3066\u3044\u308b\u307f\u305f\u3044\u3067\u3059\u306d\u3002\n\n\u6ce8\u610f\nJava\u306ebyte\u578b\u306f8\u30d3\u30c3\u30c8\u306e \u7b26\u53f7\u4ed8\u304d \u6574\u6570\u3067\u3059\u30020\u301c255\u3060\u3068\u601d\u3063\u3066\u308b\u3068\u30cf\u30de\u308b\u306e\u3067\u6ce8\u610f\u3002\n\nJava\u89e6\u308a\u305f\u304f\u306a\u3044\uff01\nclojurewerkz/buffy \u3068\u3044\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u308a\u307e\u3059\u3002 Buffy The ByteBuffer Slayer \u3068\u3044\u3046\u529b\u5f37\u3044\u30b9\u30ed\u30fc\u30ac\u30f3\u304c\u63b2\u3052\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u89e6\u3063\u3066\u307f\u308b\u3068\u826f\u3044\u3093\u3058\u3083\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\nREADME\u3092\u3056\u3063\u3068\u8aad\u3080\u3068\u30d0\u30a4\u30ca\u30ea\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u5b9a\u7fa9\u3057\u3066Clojure\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u5fdc\u3055\u305b\u3066\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3001\u306a\u3069\u51fa\u6765\u308b\u3088\u3046\u3067\u3059\u3002\n\u79c1\u306e\u7528\u9014\u3067\u306f\u305d\u308c\u307b\u3069\u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u5fc5\u8981\u3068\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u4e0a\u8a18\u30b3\u30fc\u30c9\u3067\u5341\u5206\u3067\u3059\u304c\u3001\u305d\u306e\u3046\u3061\u8a66\u3057\u3066\u307f\u308b\u304b\u3082\u3002\n\u304a\u308f\u308a\u3002\n\n\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u3044\u3066\u5185\u5bb9\u3092\u30b7\u30fc\u30b1\u30f3\u30b9\u3067\u6271\u3046\u65b9\u6cd5\u3092\u8003\u3048\u307e\u3059\u3002\n\n# Java\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\n\n```clojure\n(defn read-as-byte-buffer [filename]\n   (with-open [fis (java.io.FileInputStream. filename)]\n     (let [channel (.getChannel fis)\n           byte-buf (java.nio.ByteBuffer/allocate (.size channel))] \n       (.read channel byte-buf)\n       byte-buf)))\n```\n\n\u8fd4\u308a\u5024\u306f[java.nio.ByteBuffer](https://docs.oracle.com/javase/jp/8/api/java/nio/ByteBuffer.html)\u3067\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\u3042\u3068\u306f\u6b21\u306e\u3088\u3046\u306b\u3057\u3066\u3084\u308c\u3070\u30b7\u30fc\u30b1\u30f3\u30b9\u3068\u3057\u3066\u6271\u3048\u308b\u3002\n\n# \u30b7\u30fc\u30b1\u30f3\u30b9\u306b\u5909\u63db\n\n```clojure\n(defn byte-buf->seq [byte-buf]\n  (for [idx (range (.limit byte-buf))]\n    (.get byte-buf idx)))\n```\n\n# \u78ba\u8a8d\n\n\u306a\u306b\u304b\u9069\u5f53\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u3053\u306e\u65b9\u6cd5\u3067\u8aad\u3093\u3067\u307f\u307e\u3059\u3002\n\n```clojure\n; echo \"hello clojure\" |gzip -c > hello.txt.gz\n(def bb (read-as-byte-buffer \"hello.txt.gz\"))\n(def bs (byte-buf->seq bb))\n(take 10 bs)\n;=> (31 -117 8 0 74 81 -59 85 0 3)\n(map #(format \"%02x \" %) (take 16 bs))\n;=> (\"1f \" \"8b \" \"08 \" \"00 \" \"4a \" \"51 \" \"c5 \" \"55 \" \"00 \" \"03 \" \"cb \" \"48 \" \"cd \" \"c9 \" \"c9 \" \"57 \")\n```\n\n```bash\n$ od -t x1 hello.txt.gz\n0000000    1f  8b  08  00  4a  51  c5  55  00  03  cb  48  cd  c9  c9  57\n...\n```\n\n\u3069\u3046\u3084\u3089\u3061\u3083\u3093\u3068\u8aad\u3081\u3066\u3044\u308b\u307f\u305f\u3044\u3067\u3059\u306d\u3002\n\n\n# \u6ce8\u610f\n\nJava\u306ebyte\u578b\u306f8\u30d3\u30c3\u30c8\u306e **\u7b26\u53f7\u4ed8\u304d** \u6574\u6570\u3067\u3059\u30020\u301c255\u3060\u3068\u601d\u3063\u3066\u308b\u3068\u30cf\u30de\u308b\u306e\u3067\u6ce8\u610f\u3002\n\n# Java\u89e6\u308a\u305f\u304f\u306a\u3044\uff01\n\n[clojurewerkz/buffy](https://github.com/clojurewerkz/buffy) \u3068\u3044\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3042\u308a\u307e\u3059\u3002 _Buffy The ByteBuffer Slayer_ \u3068\u3044\u3046\u529b\u5f37\u3044\u30b9\u30ed\u30fc\u30ac\u30f3\u304c\u63b2\u3052\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u89e6\u3063\u3066\u307f\u308b\u3068\u826f\u3044\u3093\u3058\u3083\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\nREADME\u3092\u3056\u3063\u3068\u8aad\u3080\u3068\u30d0\u30a4\u30ca\u30ea\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u5b9a\u7fa9\u3057\u3066Clojure\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u5fdc\u3055\u305b\u3066\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3001\u306a\u3069\u51fa\u6765\u308b\u3088\u3046\u3067\u3059\u3002\n\u79c1\u306e\u7528\u9014\u3067\u306f\u305d\u308c\u307b\u3069\u8907\u96d1\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u5fc5\u8981\u3068\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u4e0a\u8a18\u30b3\u30fc\u30c9\u3067\u5341\u5206\u3067\u3059\u304c\u3001\u305d\u306e\u3046\u3061\u8a66\u3057\u3066\u307f\u308b\u304b\u3082\u3002\n\n\n\u304a\u308f\u308a\u3002\n", "tags": ["Clojure"]}