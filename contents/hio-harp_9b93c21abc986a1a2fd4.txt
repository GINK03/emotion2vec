{"context": "\u30aa\u30f3\u30e9\u30a4\u30f3SICP\u8aad\u66f8\u5973\u5b50\u4f1a #14 (2.1.3-2.1.4)\n2.1.3 (ex-2.4 .. ex-2.6) \u307e\u3067\uff1e\uff1c\u3002\n\n2.1.3 \u30c7\u30fc\u30bf\u3068\u306f\u4f55\u304b\n\u30e1\u30c3\u30bb\u30fc\u30b8\u30d1\u30c3\u30b7\u30f3\u30b0\u3063\u3066\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u5225\u89e3\u91c8\u3067\u3082\u805e\u3044\u305f\u3053\u3068\u3042\u308b\uff01\ncons/car/cdr \u3084\u3089 + \u3084\u3089\u306e\u7d44\u307f\u8fbc\u307f\u95a2\u6570\u7f6e\u304d\u63db\u3048\u3061\u3083\u3046\u3068\u5143\u306e\u304c\u4f7f\u3048\u306a\u304f\u3066\u56f0\u308b\u3051\u308c\u3069, \n\u7d44\u307f\u8fbc\u307f\u95a2\u6570\u306e\u65b9\u3092\u76f4\u63a5\u547c\u3073\u51fa\u3059\u65b9\u6cd5\u3068\u304b\u306a\u3044\u306e\u304b\u306a\u2026?\n\nex-2.4 lambda \u306b\u3088\u308b cons \u306e\u5b9f\u88c5\n; [ex-2.4.scm]\n(define (ex-2.4)\n    (print \"(car (cons 10 20))\")\n    (print \"; ==> \" (car (cons 10 20)))\n    (print \"(cdr (cons 10 20))\")\n    (print \"; ==> \" (cdr (cons 10 20)))\n    #t)\n\n\n(define (cons x y)\n    (lambda (m) (m x y)))\n\n\n(define (car z)\n    (z (lambda (p q) p)))\n\n\n(define (cdr z)\n    (z (lambda (p q) q)))\n\n\u5b9f\u884c\u7d50\u679c:\ngosh> (ex-2.4)\n(car (cons 10 20))\n; ==> 10\n(cdr (cons 10 20))\n; ==> 20\n\n\nex-2.5. 2**a * 3 ** b \u306b\u3088\u308b cons \u306e\u5b9f\u88c5\n\u306a\u3093\u3060\u304b\u30aa\u30fc\u30c0\u30fc\u53d7\u3051\u305f\u6642\u306b\u7d20\u6570\u3092\u639b\u3051\u3042\u308f\u305b\u305f\u6570\u3060\u3051\u899a\u3048\u3066\u304a\u3051\u3070, \u305d\u308c\u3092\u7d20\u56e0\u6570\u5206\u89e3\u3059\u308c\u3070\u7c21\u5358\u306b\u30aa\u30fc\u30c0\u30fc\u306e\u7a2e\u985e\u3068\u6570\u306b\u623b\u305b\u308b\u3063\u3066\u3044\u3046\u30cd\u30bf\u3092\u601d\u3044\u51fa\u3057\u307e\u3057\u305f\uff1d\u03c9\uff1d\n; [ex-2.5.scm]\n(define (ex-2.5)\n    (print \"(car (cons 10 20))\")\n    (print \"; ==> \" (car (cons 10 20)))\n    (print \"(cdr (cons 10 20))\")\n    (print \"; ==> \" (cdr (cons 10 20)))\n    #t)\n\n\n(define (cons x y)\n    (* (expt 2 x) (expt 3 y)))\n\n\n(define (div-times a b)\n    (define (iter tmp result)\n        (if\n            (= (remainder tmp b) 0)\n            (iter (/ tmp b) (+ result 1))\n            result))\n    (iter a 0))\n\n\n(define (car z)\n    (div-times z 2))\n\n\n(define (cdr z)\n    (div-times z 3))\n\ngosh> (ex-2.5)\n(car (cons 10 20))\n; ==> 10\n(cdr (cons 10 20))\n; ==> 20\n#t\n\n\nex-2.6. church \u6570\n\u30c1\u30e3\u30fc\u30c1\u6570\uff01\nlambda \u306e\u306a\u304b\u306b lambda \u306f\u306a\u304b\u306a\u304b\u3046\u307e\u304f\u628a\u63e1\u3067\u304d\u306a\u3044\uff1e\uff1c\u3002\n; [ex-2.6.scm]\n(define (ex-2.6)\n    (print \"(church-to-integer zero)\")\n    (print \";==> \" (church-to-integer zero))\n    (print \"(church-to-integer (add-1 zero))\")\n    (print \";==> \" (church-to-integer (add-1 zero)))\n    (print \"(church-to-integer (add-1 (add-1 zero)))\")\n    (print \";==> \" (church-to-integer (add-1 (add-1 zero))))\n    (print \"(church-to-integer (add-1 (add-1 (add-1 zero))))\")\n    (print \";==> \" (church-to-integer (add-1 (add-1 (add-1 zero)))))\n\n    (newline)\n    (print \"(church-to-integer one)\")\n    (print \";==> \" (church-to-integer one))\n    (print \"(church-to-integer two)\")\n    (print \";==> \" (church-to-integer two))\n\n    (newline)\n    (print \"(church-to-integer (add one two))\")\n    (print \";==> \" (church-to-integer (add one two)))\n    (print \"(church-to-integer (add (add one two) one))\")\n    (print \";==> \" (church-to-integer (add (add one two) one)))\n    (print \"(church-to-integer (add (add one two) two))\")\n    (print \";==> \" (church-to-integer (add (add one two) two)))\n    #t)\n\n\n(define (church-to-integer cn)\n    (define (int-inc n)\n        (+ n 1))\n    ((cn int-inc) 0))\n\n\n; church-number :: (a -> a) -> (a -> a)\n; \u30c1\u30e3\u30fc\u30c1\u6570\u81ea\u4f53\u306f2\u3064\u306e\u5f15\u6570 g \u3068 initial-value \u3092\u3068\u308b\u95a2\u6570 `g -> initial-value -> a`.\n; `g` \u306f\u4efb\u610f\u306e\u5909\u63db\u95a2\u6570 `a -> a`\n; `initial-value` \u306f\u9069\u5f53\u306a\u521d\u671f\u5024.\n;\n; zero :: church-number\n(define zero\n    (lambda (_f) ; church \u6570\u81ea\u4f53\u306f lambda.\n        ; \u30c1\u30e3\u30fc\u30c1\u6570\u306e zero \u3068\u306f, initial-value \u306b\u5bfe\u3057\u3066\n        ; g \u3092 0 \u56de\u9069\u7528\u3059\u308b\u624b\u7d9a\u304d.\n        ; \u3064\u307e\u308a zero \u306e\u672c\u4f53\u306f, initial-value \u3092\u305d\u306e\u307e\u307e\u8fd4\u3059\u624b\u7d9a\u304d.\n        (lambda (x)\n            ; zero \u306e\u5b9f\u4f53.\n            x\n        )\n    )\n)\n\n; zero \u306e\u6b21\u306f one \u2026\u306b\u3044\u304f\u3068\u307f\u305b\u304b\u3051\u3066\u300c1\u3092\u8db3\u3059\u51e6\u7406\u300d\u306e\u5b9a\u7fa9.\n; \u3053\u308c\u304c\u3042\u308c\u3070 one = (add-1 zero) \u3067\u4f5c\u308c\u308b\u3057,\n; \u4efb\u610f\u306e\u81ea\u7136\u6570\u3082\u7e70\u308a\u8fd4\u305b\u3070\u3067\u304d\u308b\u304b\u3089?\n;\n; add-1 :: church-number -> church-number\n(define (add-1 n)\n    ; n :: 1\u3092\u8db3\u3059\u5bfe\u8c61\u306e\u6570. \u3053\u308c\u81ea\u4f53\u3082 church-number.\n    (lambda (f) ; church \u6570\u81ea\u4f53\u306f\u3044\u3064\u3067\u3082 lambda.\n        (lambda (x)\n            ; \u4e00\u884c\u3067\u304b\u304f\u3068\u3053\u308c\u3060\u3051:\n            ;   (f ((n f) x))\n            ; \u3082\u3046\u3061\u3087\u3063\u3068\u3070\u3089\u3057\u3066\u304b\u3044\u3066\u307f\u308b:\n            ;\n            ; n \u306b\u5bfe\u3057\u3066f, x \u3092\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u5177\u8c61\u5316\u3057\u3066\u5f97\u3089\u308c\u305f\u7d50\u679c.\n            (define n-evaluated ((n f) x))\n            ; \u3055\u3089\u306b\u3082\u3046\u4e00\u56de f \u3092\u9069\u7528\u3057\u305f\u7d50\u679c\u304c, \u300c1\u3092\u8db3\u3059\u300d\u51e6\u7406\u306e\u5b9f\u4f53.\n            (f n-evaluated)\n        )\n    )\n)\n\n\n; one :: church-number\n;\n; one = (add-1 zero)\n; > (add-1 n) = (lambda (f) (lambda (x) (f ((n f) x))))\n; (lambda (f) (lambda (x) (f ((zero f) x))))\n; > zero = (lambda (_f) (lambda (x) x))\n; (lambda (f) (lambda (x) (f (((lambda (_f) (lambda (x) x)) f) x))))\n; >>                          ''''''''''''''''''''''''''''''''\n; ; \u3053\u306e\u90e8\u5206\u3092\u9069\u7528\u3057\u3066\u7e2e\u9000\u3057\u3066\u307f\u308b.\n; >> ((lambda (_f) (lambda (x) x)) f)\n; >> (lambda (x) x)\n; >>                          ,,,,,,,,,,,,,,\n; (lambda (f) (lambda (x) (f ((lambda (x) x) x))))\n;\n; ; \u3055\u3089\u306b\u7e2e\u9000.\n; (lambda (f) (lambda (x) (f ((lambda (x) x) x))))\n; >>                         ''''''''''''''''''\n; >> ((lambda (x) x) x)\n; >> x\n; >>                         ,\n; (lambda (f) (lambda (x) (f x)))\n; >>                      '''''\n;\n(define one\n    (lambda (f)\n        (lambda (x)\n            ; church \u6570\u3067\u306e 1 \u3068\u306f, initial-value \u306b\u4e00\u56de\u3060\u3051 g \u3092\u9069\u7528\u3059\u308b\u3068\u3044\u3046\u3053\u3068.\n            (f x)\n        )\n    )\n)\n\n\n; two :: church-number\n;\n; two = (add-1 one)\n; > (add-1 n) = (lambda (f) (lambda (x) (f ((n f) x))))\n; (lambda (f) (lambda (x) (f ((one f) x))))\n; > one = (lambda (f) (lambda (x) (f x)))\n; (lambda (f) (lambda (x) (f (( (lambda (f) (lambda (x) (f x))) f) x))))\n; >>                          ''''''''''''''''''''''''''''''''''''\n; >> ( (lambda (f) (lambda (x) (f x))) f)\n; >> (lambda (x) (f x))\n; >>                          ,,,,,,,,,,,,,,,,,,\n; (lambda (f) (lambda (x) (f ((lambda (x) (f x)) x))))\n; >>                         ''''''''''''''''''''''\n; >> ((lambda (x) (f x)) x)\n; >> (f x)\n; >>                         ,,,,,\n; (lambda (f) (lambda (x) (f (f x))))\n; >>                      '''''''''''\n;\n(define two\n    (lambda (f)\n        (lambda (x)\n            ; church \u6570\u3067\u306e 2 \u3068\u306f, initial-value \u306b2\u56de g \u3092\u9069\u7528\u3059\u308b\u3068\u3044\u3046\u3053\u3068.\n            (f (f x))\n        )\n    )\n)\n\n\n; add :: church-number -> church-number -> church-number\n; (+) \u3092\u76f4\u63a5 define \u3067\u7f6e\u304d\u63db\u3048\u308b\u3068, \u666e\u901a\u306e\u7b97\u8853\u6f14\u7b97\u304c\u3067\u304d\u306a\u304f\u306a\u3063\u3061\u3083\u3046\u306e\u3067\n; \u3053\u3053\u3067\u306f\u5225\u306e\u540d\u524d\u3067\u4ee3\u7528\u3057\u3066\u304a\u304f.\n(define (add a b)\n    (lambda (f)\n        (lambda (x)\n            ; \u307e\u305a\u306f a \u306b\u5bfe\u3057\u3066f, x \u3092\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u305d\u306e\u5177\u8c61\u5316\u3057\u305f\u7d50\u679c\u3092\u5f97\u308b.\n            (define a-evaluated ((a f) x))\n            ; a \u304b\u3089\u5f97\u305f\u7d50\u679c\u3092\u5143\u306b, \u305d\u3053\u306b\u3055\u3089\u306b b \u306b\u3088\u308b f \u306e\u9069\u7528\u3092\u8ffd\u52a0\u3057\u305f\u7d50\u679c\u3092\u5f97\u308b\u3068\n            ; \u305d\u308c\u304c church \u6570\u306b\u304a\u3051\u308b\u52a0\u7b97\u51e6\u7406\u306e\u7d50\u679c\u3068\u306a\u308b.\n            ((b f) a-evaluated)\n        )\n    )\n)\n\n\u5b9f\u884c\u7d50\u679c:\ngosh> (ex-2.6)\n(church-to-integer zero)\n;==> 0\n(church-to-integer (add-1 zero))\n;==> 1\n(church-to-integer (add-1 (add-1 zero)))\n;==> 2\n(church-to-integer (add-1 (add-1 (add-1 zero))))\n;==> 3\n\n(church-to-integer one)\n;==> 1\n(church-to-integer two)\n;==> 2\n\n(church-to-integer (add one two))\n;==> 3\n(church-to-integer (add (add one two) one))\n;==> 4\n(church-to-integer (add (add one two) two))\n;==> 5\n#t\n\n[\u30aa\u30f3\u30e9\u30a4\u30f3SICP\u8aad\u66f8\u5973\u5b50\u4f1a #14 (2.1.3-2.1.4)](http://ladiespp.connpass.com/event/34602/)\n\n2.1.3 (ex-2.4 .. ex-2.6) \u307e\u3067\uff1e\uff1c\u3002\n\n## 2.1.3 \u30c7\u30fc\u30bf\u3068\u306f\u4f55\u304b\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u30d1\u30c3\u30b7\u30f3\u30b0\u3063\u3066\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u5225\u89e3\u91c8\u3067\u3082\u805e\u3044\u305f\u3053\u3068\u3042\u308b\uff01\n\n`cons`/`car`/`cdr` \u3084\u3089 `+` \u3084\u3089\u306e\u7d44\u307f\u8fbc\u307f\u95a2\u6570\u7f6e\u304d\u63db\u3048\u3061\u3083\u3046\u3068\u5143\u306e\u304c\u4f7f\u3048\u306a\u304f\u3066\u56f0\u308b\u3051\u308c\u3069, \n\u7d44\u307f\u8fbc\u307f\u95a2\u6570\u306e\u65b9\u3092\u76f4\u63a5\u547c\u3073\u51fa\u3059\u65b9\u6cd5\u3068\u304b\u306a\u3044\u306e\u304b\u306a\u2026?\n\n\n## ex-2.4 lambda \u306b\u3088\u308b cons \u306e\u5b9f\u88c5\n\n```scm\n; [ex-2.4.scm]\n(define (ex-2.4)\n\t(print \"(car (cons 10 20))\")\n\t(print \"; ==> \" (car (cons 10 20)))\n\t(print \"(cdr (cons 10 20))\")\n\t(print \"; ==> \" (cdr (cons 10 20)))\n\t#t)\n\n\n(define (cons x y)\n\t(lambda (m) (m x y)))\n\n\n(define (car z)\n\t(z (lambda (p q) p)))\n\n\n(define (cdr z)\n\t(z (lambda (p q) q)))\n```\n\n\u5b9f\u884c\u7d50\u679c:\n\n```scm\ngosh> (ex-2.4)\n(car (cons 10 20))\n; ==> 10\n(cdr (cons 10 20))\n; ==> 20\n```\n\n## ex-2.5. 2\\*\\*a * 3 \\*\\* b \u306b\u3088\u308b cons \u306e\u5b9f\u88c5\n\n\u306a\u3093\u3060\u304b\u30aa\u30fc\u30c0\u30fc\u53d7\u3051\u305f\u6642\u306b\u7d20\u6570\u3092\u639b\u3051\u3042\u308f\u305b\u305f\u6570\u3060\u3051\u899a\u3048\u3066\u304a\u3051\u3070, \u305d\u308c\u3092\u7d20\u56e0\u6570\u5206\u89e3\u3059\u308c\u3070\u7c21\u5358\u306b\u30aa\u30fc\u30c0\u30fc\u306e\u7a2e\u985e\u3068\u6570\u306b\u623b\u305b\u308b\u3063\u3066\u3044\u3046\u30cd\u30bf\u3092\u601d\u3044\u51fa\u3057\u307e\u3057\u305f\uff1d\u03c9\uff1d\n\n```scm\n; [ex-2.5.scm]\n(define (ex-2.5)\n\t(print \"(car (cons 10 20))\")\n\t(print \"; ==> \" (car (cons 10 20)))\n\t(print \"(cdr (cons 10 20))\")\n\t(print \"; ==> \" (cdr (cons 10 20)))\n\t#t)\n\n\n(define (cons x y)\n\t(* (expt 2 x) (expt 3 y)))\n\n\n(define (div-times a b)\n\t(define (iter tmp result)\n\t\t(if\n\t\t\t(= (remainder tmp b) 0)\n\t\t\t(iter (/ tmp b) (+ result 1))\n\t\t\tresult))\n\t(iter a 0))\n\n\n(define (car z)\n\t(div-times z 2))\n\n\n(define (cdr z)\n\t(div-times z 3))\n```\n\n```scm\ngosh> (ex-2.5)\n(car (cons 10 20))\n; ==> 10\n(cdr (cons 10 20))\n; ==> 20\n#t\n```\n\n## ex-2.6. church \u6570\n\n\u30c1\u30e3\u30fc\u30c1\u6570\uff01\n\nlambda \u306e\u306a\u304b\u306b lambda \u306f\u306a\u304b\u306a\u304b\u3046\u307e\u304f\u628a\u63e1\u3067\u304d\u306a\u3044\uff1e\uff1c\u3002\n\n```scm\n; [ex-2.6.scm]\n(define (ex-2.6)\n\t(print \"(church-to-integer zero)\")\n\t(print \";==> \" (church-to-integer zero))\n\t(print \"(church-to-integer (add-1 zero))\")\n\t(print \";==> \" (church-to-integer (add-1 zero)))\n\t(print \"(church-to-integer (add-1 (add-1 zero)))\")\n\t(print \";==> \" (church-to-integer (add-1 (add-1 zero))))\n\t(print \"(church-to-integer (add-1 (add-1 (add-1 zero))))\")\n\t(print \";==> \" (church-to-integer (add-1 (add-1 (add-1 zero)))))\n\n\t(newline)\n\t(print \"(church-to-integer one)\")\n\t(print \";==> \" (church-to-integer one))\n\t(print \"(church-to-integer two)\")\n\t(print \";==> \" (church-to-integer two))\n\n\t(newline)\n\t(print \"(church-to-integer (add one two))\")\n\t(print \";==> \" (church-to-integer (add one two)))\n\t(print \"(church-to-integer (add (add one two) one))\")\n\t(print \";==> \" (church-to-integer (add (add one two) one)))\n\t(print \"(church-to-integer (add (add one two) two))\")\n\t(print \";==> \" (church-to-integer (add (add one two) two)))\n\t#t)\n\n\n(define (church-to-integer cn)\n\t(define (int-inc n)\n\t\t(+ n 1))\n\t((cn int-inc) 0))\n\n\n; church-number :: (a -> a) -> (a -> a)\n; \u30c1\u30e3\u30fc\u30c1\u6570\u81ea\u4f53\u306f2\u3064\u306e\u5f15\u6570 g \u3068 initial-value \u3092\u3068\u308b\u95a2\u6570 `g -> initial-value -> a`.\n; `g` \u306f\u4efb\u610f\u306e\u5909\u63db\u95a2\u6570 `a -> a`\n; `initial-value` \u306f\u9069\u5f53\u306a\u521d\u671f\u5024.\n;\n; zero :: church-number\n(define zero\n\t(lambda (_f) ; church \u6570\u81ea\u4f53\u306f lambda.\n\t\t; \u30c1\u30e3\u30fc\u30c1\u6570\u306e zero \u3068\u306f, initial-value \u306b\u5bfe\u3057\u3066\n\t\t; g \u3092 0 \u56de\u9069\u7528\u3059\u308b\u624b\u7d9a\u304d.\n\t\t; \u3064\u307e\u308a zero \u306e\u672c\u4f53\u306f, initial-value \u3092\u305d\u306e\u307e\u307e\u8fd4\u3059\u624b\u7d9a\u304d.\n\t\t(lambda (x)\n\t\t\t; zero \u306e\u5b9f\u4f53.\n\t\t\tx\n\t\t)\n\t)\n)\n\n; zero \u306e\u6b21\u306f one \u2026\u306b\u3044\u304f\u3068\u307f\u305b\u304b\u3051\u3066\u300c1\u3092\u8db3\u3059\u51e6\u7406\u300d\u306e\u5b9a\u7fa9.\n; \u3053\u308c\u304c\u3042\u308c\u3070 one = (add-1 zero) \u3067\u4f5c\u308c\u308b\u3057,\n; \u4efb\u610f\u306e\u81ea\u7136\u6570\u3082\u7e70\u308a\u8fd4\u305b\u3070\u3067\u304d\u308b\u304b\u3089?\n;\n; add-1 :: church-number -> church-number\n(define (add-1 n)\n\t; n :: 1\u3092\u8db3\u3059\u5bfe\u8c61\u306e\u6570. \u3053\u308c\u81ea\u4f53\u3082 church-number.\n\t(lambda (f) ; church \u6570\u81ea\u4f53\u306f\u3044\u3064\u3067\u3082 lambda.\n\t\t(lambda (x)\n\t\t\t; \u4e00\u884c\u3067\u304b\u304f\u3068\u3053\u308c\u3060\u3051:\n\t\t\t;   (f ((n f) x))\n\t\t\t; \u3082\u3046\u3061\u3087\u3063\u3068\u3070\u3089\u3057\u3066\u304b\u3044\u3066\u307f\u308b:\n\t\t\t;\n\t\t\t; n \u306b\u5bfe\u3057\u3066f, x \u3092\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u5177\u8c61\u5316\u3057\u3066\u5f97\u3089\u308c\u305f\u7d50\u679c.\n\t\t\t(define n-evaluated ((n f) x))\n\t\t\t; \u3055\u3089\u306b\u3082\u3046\u4e00\u56de f \u3092\u9069\u7528\u3057\u305f\u7d50\u679c\u304c, \u300c1\u3092\u8db3\u3059\u300d\u51e6\u7406\u306e\u5b9f\u4f53.\n\t\t\t(f n-evaluated)\n\t\t)\n\t)\n)\n\n\n; one :: church-number\n;\n; one = (add-1 zero)\n; > (add-1 n) = (lambda (f) (lambda (x) (f ((n f) x))))\n; (lambda (f) (lambda (x) (f ((zero f) x))))\n; > zero = (lambda (_f) (lambda (x) x))\n; (lambda (f) (lambda (x) (f (((lambda (_f) (lambda (x) x)) f) x))))\n; >>                          ''''''''''''''''''''''''''''''''\n; ; \u3053\u306e\u90e8\u5206\u3092\u9069\u7528\u3057\u3066\u7e2e\u9000\u3057\u3066\u307f\u308b.\n; >> ((lambda (_f) (lambda (x) x)) f)\n; >> (lambda (x) x)\n; >>                          ,,,,,,,,,,,,,,\n; (lambda (f) (lambda (x) (f ((lambda (x) x) x))))\n;\n; ; \u3055\u3089\u306b\u7e2e\u9000.\n; (lambda (f) (lambda (x) (f ((lambda (x) x) x))))\n; >>                         ''''''''''''''''''\n; >> ((lambda (x) x) x)\n; >> x\n; >>                         ,\n; (lambda (f) (lambda (x) (f x)))\n; >>                      '''''\n;\n(define one\n\t(lambda (f)\n\t\t(lambda (x)\n\t\t\t; church \u6570\u3067\u306e 1 \u3068\u306f, initial-value \u306b\u4e00\u56de\u3060\u3051 g \u3092\u9069\u7528\u3059\u308b\u3068\u3044\u3046\u3053\u3068.\n\t\t\t(f x)\n\t\t)\n\t)\n)\n\n\n; two :: church-number\n;\n; two = (add-1 one)\n; > (add-1 n) = (lambda (f) (lambda (x) (f ((n f) x))))\n; (lambda (f) (lambda (x) (f ((one f) x))))\n; > one = (lambda (f) (lambda (x) (f x)))\n; (lambda (f) (lambda (x) (f (( (lambda (f) (lambda (x) (f x))) f) x))))\n; >>                          ''''''''''''''''''''''''''''''''''''\n; >> ( (lambda (f) (lambda (x) (f x))) f)\n; >> (lambda (x) (f x))\n; >>                          ,,,,,,,,,,,,,,,,,,\n; (lambda (f) (lambda (x) (f ((lambda (x) (f x)) x))))\n; >>                         ''''''''''''''''''''''\n; >> ((lambda (x) (f x)) x)\n; >> (f x)\n; >>                         ,,,,,\n; (lambda (f) (lambda (x) (f (f x))))\n; >>                      '''''''''''\n;\n(define two\n\t(lambda (f)\n\t\t(lambda (x)\n\t\t\t; church \u6570\u3067\u306e 2 \u3068\u306f, initial-value \u306b2\u56de g \u3092\u9069\u7528\u3059\u308b\u3068\u3044\u3046\u3053\u3068.\n\t\t\t(f (f x))\n\t\t)\n\t)\n)\n\n\n; add :: church-number -> church-number -> church-number\n; (+) \u3092\u76f4\u63a5 define \u3067\u7f6e\u304d\u63db\u3048\u308b\u3068, \u666e\u901a\u306e\u7b97\u8853\u6f14\u7b97\u304c\u3067\u304d\u306a\u304f\u306a\u3063\u3061\u3083\u3046\u306e\u3067\n; \u3053\u3053\u3067\u306f\u5225\u306e\u540d\u524d\u3067\u4ee3\u7528\u3057\u3066\u304a\u304f.\n(define (add a b)\n\t(lambda (f)\n\t\t(lambda (x)\n\t\t\t; \u307e\u305a\u306f a \u306b\u5bfe\u3057\u3066f, x \u3092\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u305d\u306e\u5177\u8c61\u5316\u3057\u305f\u7d50\u679c\u3092\u5f97\u308b.\n\t\t\t(define a-evaluated ((a f) x))\n\t\t\t; a \u304b\u3089\u5f97\u305f\u7d50\u679c\u3092\u5143\u306b, \u305d\u3053\u306b\u3055\u3089\u306b b \u306b\u3088\u308b f \u306e\u9069\u7528\u3092\u8ffd\u52a0\u3057\u305f\u7d50\u679c\u3092\u5f97\u308b\u3068\n\t\t\t; \u305d\u308c\u304c church \u6570\u306b\u304a\u3051\u308b\u52a0\u7b97\u51e6\u7406\u306e\u7d50\u679c\u3068\u306a\u308b.\n\t\t\t((b f) a-evaluated)\n\t\t)\n\t)\n)\n```\n\n\u5b9f\u884c\u7d50\u679c:\n\n```scm\ngosh> (ex-2.6)\n(church-to-integer zero)\n;==> 0\n(church-to-integer (add-1 zero))\n;==> 1\n(church-to-integer (add-1 (add-1 zero)))\n;==> 2\n(church-to-integer (add-1 (add-1 (add-1 zero))))\n;==> 3\n\n(church-to-integer one)\n;==> 1\n(church-to-integer two)\n;==> 2\n\n(church-to-integer (add one two))\n;==> 3\n(church-to-integer (add (add one two) one))\n;==> 4\n(church-to-integer (add (add one two) two))\n;==> 5\n#t\n```\n", "tags": ["SICP"]}