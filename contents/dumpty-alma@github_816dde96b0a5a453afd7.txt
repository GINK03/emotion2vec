{"tags": ["KVM"], "context": " More than 1 year has passed since last update.KVM\u3092\u64cd\u4f5c\u3057\u3066\u3066\u3001\u30d1\u30c3\u3068\u51fa\u3066\u3053\u306a\u3044\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u30e1\u30e2\u3059\u308b\u3002\n\n\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u3002\nvirsh list --all\n\n\u7a3c\u52d5\u3057\u3066\u3044\u308b\u5974\u306f\u300crunning\u300d\u3001\u505c\u6b62\u3057\u3066\u3044\u308b\u306e\u306f\u300cshutdown\u300d\u3068\u8868\u793a\u3055\u308c\u308b\u3002\nroot@minerva:~# virsh list\n Id Name                 State\n----------------------------------\n  2 Ubuntu_precise_12.04 running\n  5 Ubuntu_quantal_12.10 running\n 10 CentOS_6.3_x86_64    running\n 11 CentOS_6.3_x86_64-clone2 running\n 12 CentOS_6.3_x86_64-clone1 running\n\nroot@minerva:~#\n\n\nKVM\u672c\u4f53\uff08\u30db\u30b9\u30c8\uff09\u306e\u30e1\u30e2\u30ea\u30fc\u72b6\u614b\u3092\u8868\u793a\u3059\u308b\u3002\nvirsh nodememstats\n\n\u3053\u3093\u306a\u98a8\u306b\u8868\u793a\u3055\u308c\u308b\u3002\nroot@minerva:~# virsh nodememstats\ntotal  :              8125016 kB\nfree   :               291984 kB\nbuffers:               155132 kB\ncached :              6059428 kB\n\nroot@minerva:~# \n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30e1\u30e2\u30ea\u5272\u308a\u5f53\u3066\uff08\u8a2d\u5b9a\u5024\uff1f\uff09\u3092\u8868\u793a\u3059\u308b\u3002\u203b\u6570\u5024\u304b\u3089\u3057\u3066\u73fe\u5728\u4f7f\u7528\u91cf\u3058\u3083\u306a\u3044\u3063\u307d\u3044\uff1f\nvirsh dommemstat [ID]\n\n[ID]\u306flist --all\u3057\u305f\u969b\u306eID\u3092\u6307\u5b9a\u3059\u308b\u3002\nroot@minerva:~# virsh list --all\n Id Name                 State\n----------------------------------\n  2 Ubuntu_precise_12.04 running\n  5 Ubuntu_quantal_12.10 running\n 10 CentOS_6.3_x86_64    running\n 11 CentOS_6.3_x86_64-clone2 running\n 12 CentOS_6.3_x86_64-clone1 running\n\nroot@minerva:~# virsh dommemstat 2 \nactual 262144\n\nroot@minerva:~# virsh dommemstat 10\nactual 524288\n\nroot@minerva:~# \n\n\n\u30e1\u30e2\u30ea\u95a2\u9023\u306e\u30b3\u30de\u30f3\u30c9\u3063\u307d\u3044\u306e\u3002\nroot@minerva:~# virsh help|grep mem\n    memtune                        Get or set memory parameters\n    setmaxmem                      change maximum memory limit\n    setmem                         change memory allocation\n    dommemstat                     get memory statistics for a domain\n    freecell                       NUMA free memory\n    nodememstats                   Prints memory stats of the node.\nroot@minerva:~# \n\nsetmaxmem\u3068\u304b\u3001setmem\u8fba\u308a\u306f\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8a2d\u5b9a\u5024\u3092\u6c7a\u3081\u305f\u308a\u3001\u5909\u66f4\u3057\u305f\u308a\u3059\u308b\u306e\u304b\u306a\u3041\u3002\ndommemstat\u3068nodememstats\u306f\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30e1\u30e2\u30ea\u8a2d\u5b9a\u5024\u3068\u30db\u30b9\u30c8\u306e\u72b6\u614b\u304b\u306a\u3002\nKVM\u3092\u64cd\u4f5c\u3057\u3066\u3066\u3001\u30d1\u30c3\u3068\u51fa\u3066\u3053\u306a\u3044\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u30e1\u30e2\u3059\u308b\u3002\n\n######\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u3002\n\n```bash:\nvirsh list --all\n```\n\n\u7a3c\u52d5\u3057\u3066\u3044\u308b\u5974\u306f\u300crunning\u300d\u3001\u505c\u6b62\u3057\u3066\u3044\u308b\u306e\u306f\u300cshutdown\u300d\u3068\u8868\u793a\u3055\u308c\u308b\u3002\n\n```bash:\nroot@minerva:~# virsh list\n Id Name                 State\n----------------------------------\n  2 Ubuntu_precise_12.04 running\n  5 Ubuntu_quantal_12.10 running\n 10 CentOS_6.3_x86_64    running\n 11 CentOS_6.3_x86_64-clone2 running\n 12 CentOS_6.3_x86_64-clone1 running\n\nroot@minerva:~#\n```\n\n######KVM\u672c\u4f53\uff08\u30db\u30b9\u30c8\uff09\u306e\u30e1\u30e2\u30ea\u30fc\u72b6\u614b\u3092\u8868\u793a\u3059\u308b\u3002\n\n```bash:\nvirsh nodememstats\n```\n\n\u3053\u3093\u306a\u98a8\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n\n```bash:\nroot@minerva:~# virsh nodememstats\ntotal  :              8125016 kB\nfree   :               291984 kB\nbuffers:               155132 kB\ncached :              6059428 kB\n\nroot@minerva:~# \n```\n\n######\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30e1\u30e2\u30ea\u5272\u308a\u5f53\u3066\uff08\u8a2d\u5b9a\u5024\uff1f\uff09\u3092\u8868\u793a\u3059\u308b\u3002\u203b\u6570\u5024\u304b\u3089\u3057\u3066\u73fe\u5728\u4f7f\u7528\u91cf\u3058\u3083\u306a\u3044\u3063\u307d\u3044\uff1f\n\n\n```bash:\nvirsh dommemstat [ID]\n```\n\n[ID]\u306flist --all\u3057\u305f\u969b\u306eID\u3092\u6307\u5b9a\u3059\u308b\u3002\n\n```bash:\nroot@minerva:~# virsh list --all\n Id Name                 State\n----------------------------------\n  2 Ubuntu_precise_12.04 running\n  5 Ubuntu_quantal_12.10 running\n 10 CentOS_6.3_x86_64    running\n 11 CentOS_6.3_x86_64-clone2 running\n 12 CentOS_6.3_x86_64-clone1 running\n\nroot@minerva:~# virsh dommemstat 2 \nactual 262144\n\nroot@minerva:~# virsh dommemstat 10\nactual 524288\n\nroot@minerva:~# \n```\n\n######\u30e1\u30e2\u30ea\u95a2\u9023\u306e\u30b3\u30de\u30f3\u30c9\u3063\u307d\u3044\u306e\u3002\n\n```bash:\nroot@minerva:~# virsh help|grep mem\n    memtune                        Get or set memory parameters\n    setmaxmem                      change maximum memory limit\n    setmem                         change memory allocation\n    dommemstat                     get memory statistics for a domain\n    freecell                       NUMA free memory\n    nodememstats                   Prints memory stats of the node.\nroot@minerva:~# \n```\n\nsetmaxmem\u3068\u304b\u3001setmem\u8fba\u308a\u306f\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8a2d\u5b9a\u5024\u3092\u6c7a\u3081\u305f\u308a\u3001\u5909\u66f4\u3057\u305f\u308a\u3059\u308b\u306e\u304b\u306a\u3041\u3002\ndommemstat\u3068nodememstats\u306f\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30e1\u30e2\u30ea\u8a2d\u5b9a\u5024\u3068\u30db\u30b9\u30c8\u306e\u72b6\u614b\u304b\u306a\u3002\n\n\n"}