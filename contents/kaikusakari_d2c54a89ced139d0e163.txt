{"context": "go\u306eFW\u3084ORM\u60c5\u5831\u3092\u63a2\u305d\u3046\u3068\u3057\u3066\u3082\u3001\u3053\u308c\u3068\u3044\u3063\u305f\u3082\u306e\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u4e00\u901a\u308a\u5229\u7528\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u30bf\u30a4\u30c8\u30eb\u901a\u308a\u4ee5\u4e0b\u306e\u69cb\u6210\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\u3084\u308a\u305f\u3044\u3053\u3068\u306f\u3001\u767b\u9332\u66f4\u65b0\u524a\u9664\u306eAPI\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002API\u306b\u304a\u3051\u308b\u30c7\u30fc\u30bf\u306e\u3084\u308a\u53d6\u308a\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u306fform\u3092\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u306fJSON\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u30d0\u30fc\u30b8\u30e7\u30f3\ngo version go1.6.3 linux/amd64\ngin 1.1.4\nxorm v0.5.6\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306f\u7701\u7565\u3002\nDB\n\ncreate.sql\nCREATE DATABASE note;\nCREATE TABLE user (\nid bigint(20) unsigned NOT NULL AUTO_INCREMENT,\nname varchar(100) NOT NULL,\npassword varchar(100) NOT NULL,\nPRIMARY KEY (id)\n) ENGINE=InnoDB;\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\n\nmain.go\npackage main\n\nimport (\n    \"strconv\"\n    \"github.com/gin-gonic/gin\"\n    \"github.com/go-xorm/xorm\"\n  _ \"github.com/go-sql-driver/mysql\"\n)\ntype User struct {\n    Id       int64  `json:\"id\"\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 \u3000\u3000\u3000xorm:\"'id'\"`\n    Name     string `json:\"name\" \u3000\u3000\u3000\u3000\u3000\u3000\u3000xorm:\"'name'\"`\n    Password string `json:\"password\"\u3000xorm:\"'password'\"`\n}\nfunc main() {\n    router := gin.Default()\n    /* user\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u8907\u6570\u30ec\u30b3\u30fc\u30c9\u53d6\u5f97 */\n    router.GET(\"/user/select\", func(c *gin.Context) {\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        users := make([]User, 0)\n        engine.Find(&users)\n        c.JSON(200, users)\n    })\n    /* user\u30c6\u30fc\u30d6\u30eb\u304b\u30891\u30ec\u30b3\u30fc\u30c9\u53d6\u5f97 */\n    router.GET(\"/user/select/:id\", func(c *gin.Context) {\n        n := c.Param(\"id\")\n        id, _ := strconv.Atoi(n)\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        user := User{Id: id}\n        engine.Get(&user)\n        c.JSON(200, user)\n    })\n    /* user\u30c6\u30fc\u30d6\u30eb\u306b1\u30ec\u30b3\u30fc\u30c9\u767b\u9332 */\n    router.POST(\"/user/insert\", func(c *gin.Context) {\n        user := new(User)\n        user.Name = c.PostForm(\"name\")\n        user.Password = c.PostForm(\"password\")\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        engine.Insert(user)\n        c.JSON(200, user)\n    })\n    /* user\u30c6\u30fc\u30d6\u30eb\u306e1\u30ec\u30b3\u30fc\u30c9\u66f4\u65b0 */\n    router.PUT(\"/user/update/:id\", func(c *gin.Context) {\n        n := c.Param(\"id\")\n        id, _ := strconv.Atoi(n)\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        user := User{Id: id}\n        engine.Update(&user, &User{Id:id})\n        c.JSON(200, users)\n    })\n    /* user\u30c6\u30fc\u30d6\u30eb\u306e1\u30ec\u30b3\u30fc\u30c9\u524a\u9664 */\n    router.DELETE(\"/user/delete/:id\", func(c *gin.Context) {\n        n := c.Param(\"id\")\n        id, _ := strconv.Atoi(n)\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        user := User{Id: id}\n        engine.Id(id).Delete(&user)\n        c.JSON(200, \"\")\n    })\n    router.Run(\":8080\")\n}\n\n\n\u3053\u306e\u69cb\u6210\u3067\u52d5\u304d\u3092\u78ba\u8a8d\u3057\u3066\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306e\u8981\u4ef6\u306b\u5408\u308f\u306a\u304f\u306a\u3063\u305f\u305f\u3081\u304a\u8535\u5165\u308a\u3068\u306a\u308a\u307e\u3057\u305f\u3002go\u306e\u57fa\u790e\u6587\u6cd5\u306a\u3069\u52c9\u5f37\u306b\u306a\u308a\u307e\u3057\u305f\u3002\ngo\u306eFW\u3084ORM\u60c5\u5831\u3092\u63a2\u305d\u3046\u3068\u3057\u3066\u3082\u3001\u3053\u308c\u3068\u3044\u3063\u305f\u3082\u306e\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u4e00\u901a\u308a\u5229\u7528\u3057\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u30bf\u30a4\u30c8\u30eb\u901a\u308a\u4ee5\u4e0b\u306e\u69cb\u6210\u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002\u3084\u308a\u305f\u3044\u3053\u3068\u306f\u3001\u767b\u9332\u66f4\u65b0\u524a\u9664\u306eAPI\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002API\u306b\u304a\u3051\u308b\u30c7\u30fc\u30bf\u306e\u3084\u308a\u53d6\u308a\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u306fform\u3092\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u306fJSON\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n**\u30d0\u30fc\u30b8\u30e7\u30f3**\n\n```go\ngo version go1.6.3 linux/amd64\ngin 1.1.4\nxorm v0.5.6\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306f\u7701\u7565\u3002\n\n**DB**\n\n```mysql:create.sql\nCREATE DATABASE note;\nCREATE TABLE user (\nid bigint(20) unsigned NOT NULL AUTO_INCREMENT,\nname varchar(100) NOT NULL,\npassword varchar(100) NOT NULL,\nPRIMARY KEY (id)\n) ENGINE=InnoDB;\n```\n\n**\u30d7\u30ed\u30b0\u30e9\u30e0**\n\n```go:main.go\npackage main\n\nimport (\n    \"strconv\"\n    \"github.com/gin-gonic/gin\"\n    \"github.com/go-xorm/xorm\"\n  _ \"github.com/go-sql-driver/mysql\"\n)\ntype User struct {\n    Id       int64  `json:\"id\"\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000 \u3000\u3000\u3000xorm:\"'id'\"`\n    Name     string `json:\"name\" \u3000\u3000\u3000\u3000\u3000\u3000\u3000xorm:\"'name'\"`\n    Password string `json:\"password\"\u3000xorm:\"'password'\"`\n}\nfunc main() {\n    router := gin.Default()\n    /* user\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u8907\u6570\u30ec\u30b3\u30fc\u30c9\u53d6\u5f97 */\n    router.GET(\"/user/select\", func(c *gin.Context) {\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        users := make([]User, 0)\n        engine.Find(&users)\n        c.JSON(200, users)\n    })\n    /* user\u30c6\u30fc\u30d6\u30eb\u304b\u30891\u30ec\u30b3\u30fc\u30c9\u53d6\u5f97 */\n    router.GET(\"/user/select/:id\", func(c *gin.Context) {\n        n := c.Param(\"id\")\n        id, _ := strconv.Atoi(n)\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        user := User{Id: id}\n        engine.Get(&user)\n        c.JSON(200, user)\n    })\n    /* user\u30c6\u30fc\u30d6\u30eb\u306b1\u30ec\u30b3\u30fc\u30c9\u767b\u9332 */\n    router.POST(\"/user/insert\", func(c *gin.Context) {\n        user := new(User)\n        user.Name = c.PostForm(\"name\")\n        user.Password = c.PostForm(\"password\")\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        engine.Insert(user)\n        c.JSON(200, user)\n    })\n    /* user\u30c6\u30fc\u30d6\u30eb\u306e1\u30ec\u30b3\u30fc\u30c9\u66f4\u65b0 */\n    router.PUT(\"/user/update/:id\", func(c *gin.Context) {\n        n := c.Param(\"id\")\n        id, _ := strconv.Atoi(n)\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        user := User{Id: id}\n        engine.Update(&user, &User{Id:id})\n        c.JSON(200, users)\n    })\n    /* user\u30c6\u30fc\u30d6\u30eb\u306e1\u30ec\u30b3\u30fc\u30c9\u524a\u9664 */\n    router.DELETE(\"/user/delete/:id\", func(c *gin.Context) {\n        n := c.Param(\"id\")\n        id, _ := strconv.Atoi(n)\n        engine, _ := xorm.NewEngine(\"mysql\",\"\u30e6\u30fc\u30b6\u540d:\u30d1\u30b9\u30ef\u30fc\u30c9@/note\")\n        user := User{Id: id}\n        engine.Id(id).Delete(&user)\n        c.JSON(200, \"\")\n    })\n    router.Run(\":8080\")\n}\n```\n\n\u3053\u306e\u69cb\u6210\u3067\u52d5\u304d\u3092\u78ba\u8a8d\u3057\u3066\u69cb\u7bc9\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306e\u8981\u4ef6\u306b\u5408\u308f\u306a\u304f\u306a\u3063\u305f\u305f\u3081\u304a\u8535\u5165\u308a\u3068\u306a\u308a\u307e\u3057\u305f\u3002go\u306e\u57fa\u790e\u6587\u6cd5\u306a\u3069\u52c9\u5f37\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n", "tags": ["Go", "gin", "xorm", "MySQL"]}