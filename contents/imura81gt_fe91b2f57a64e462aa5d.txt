{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u793e\u5185\u3067\u300cElasticsearch \u30cf\u30f3\u30ba\u30aa\u30f3\u300d\u3092\u958b\u50ac\u3057\u305f - kakakakakku blog\nhttp://kakakakakku.hatenablog.com/entry/2015/09/09/231956\n\u3092\u3084\u3063\u3066\u307f\u305f\u3002\u7def\u5ea6\u7d4c\u5ea6\u306e\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u305f\u306e\u3067Kibana\u3067\u5730\u56f3\u3092\u4f7f\u3044\u305f\u304f\u306a\u3063\u305f\u3002\n\u3053\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u8cc7\u6599\u3067\u4f7f\u7528\u3057\u3066\u3044\u308b livedoor \u30b0\u30eb\u30e1 \u30c7\u30fc\u30bf\u3092convert\u3059\u308b\u51e6\u7406\u3092\u5c11\u3057\u3044\u3058\u3063\u3066kibana / Elasticsearch \u3067\u5730\u56f3\u304c\u4f7f\u3048\u305d\u3046\u3002\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u7fa4\nhttps://github.com/imura81gt/elasticsearch-hands-on\nfork\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\n\u306a\u305c\u5c11\u3057\u3044\u3058\u308b\u306e\u304b\nLat/Lon Formats\nhttps://www.elastic.co/guide/en/elasticsearch/guide/current/lat-lon-formats.html\n\u3053\u306e\uff13\u3064\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u5730\u56f3\u304c\u4f7f\u3048\u308b\u3002\n\nformat\nPUT /attractions/restaurant/1\n{\n  \"name\":     \"Chipotle Mexican Grill\",\n  \"location\": \"40.715, -74.011\" \n}\n\nPUT /attractions/restaurant/2\n{\n  \"name\":     \"Pala Pizza\",\n  \"location\": { \n    \"lat\":     40.722,\n    \"lon\":    -73.989\n  }\n}\n\nPUT /attractions/restaurant/3\n{\n  \"name\":     \"Mini Munchies Pizza\",\n  \"location\": [ -73.983, 40.719 ] \n}\n\n\n\u30cf\u30f3\u30ba\u30aa\u30f3\u306e\u8cc7\u6599\u306e\u307e\u307e\u3084\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306belasticsearch\u306b\u683c\u7d0d\u3055\u308c\u3066\nKibana\u306e visualize - Tile Map \u3067 Geohash \u3068\u3057\u3066\u4f7f\u3048\u306a\u304b\u3063\u305f\u3002\n\uff08\u4f7f\u3044\u65b9\u3092\u77e5\u3089\u306a\u3044\u3060\u3051\u304b\u3082\u2026\uff09\n\nbulk_restaurants.json\n{\n  \"id\": \"6\",\n  (\u7701\u7565)\n  \"north_latitude\": \"35.38.43.555\",\n  \"east_longitude\": \"139.42.59.224\",\n  (\u7701\u7565)\n}  \n\n\n\n\u3069\u3046\u3084\u308b\u304b\n(1)\u30b3\u30f3\u30d0\u30fc\u30c8\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4fee\u6b63\n(2)mapping\u30d5\u30a1\u30a4\u30eb\u3082\u4fee\u6b63\n(3)\u518d\u5ea6indexing\n\n(1)\u30b3\u30f3\u30d0\u30fc\u30c8\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4fee\u6b63\n\n\u7def\u5ea6\u7d4c\u5ea6\u309260\u9032\u6570\uff08\u5ea6\u5206\u79d2\uff09\u304b\u308910\u9032\u6570\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\n\u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3082 {\"pin\":{\"lat\": \"111.111\", \"lon\": \"222.222\"} \u5909\u66f4\n\n\nconvert_bulk_data_lat_lon.rb\nrequire 'csv'\nrequire 'json'\n\nES_INDEX_NAME = 'gourmet'\nES_TYPE_NAME = 'restaurants'\n\nrow_csv = CSV.read('restaurants.csv')\nheader = row_csv.slice!(0)\ndata = row_csv\n\nOUTPUT_FILENAME = 'bulk_restaurants_lat_lon.json'\n\nFile.delete(OUTPUT_FILENAME) if File.exist?(OUTPUT_FILENAME)\nFile.open(OUTPUT_FILENAME, 'a') do |file|\n  data.each do |row|\n    index = { index: { _index: ES_INDEX_NAME, _type: ES_TYPE_NAME, _id: row[0] } }\n    file.puts(JSON.dump(index))\n    hash = Hash[header.zip(row)]\n        lon = \"\"\n        lat = \"\"\n        mod_hash = {}\n        hash.each do |key, value|\n            if key == \"north_latitude\" then\n                value =~ /([0-9]+)\\.([0-9]+)\\.(.+)/\n                lat = ($1.to_f + ($2.to_f / 60) +  ($3.to_f / 60**2)).to_s\n            elsif key == \"east_longitude\" then\n                value =~ /([0-9]+)\\.([0-9]+)\\.(.+)/\n                lon = ($1.to_f + ($2.to_f / 60) +  ($3.to_f / 60**2)).to_s\n            else\n                mod_hash[key] =  value\n            end\n        end\n        mod_hash[\"pin\"] = {\"lat\" => lat, \"lon\" => lon}\n    file.puts(JSON.dump(mod_hash))\n  end\nend\n\n\n\u5b9f\u884c\u3059\u308b\n\nconvert\n$  ruby convert_bulk_data_lat_lon.rb\n\n\nbulk_restaurants_lat_lon.json \u304c\u51fa\u6765\u3066\u3044\u308c\u3070\u6210\u529f\n\u610f\u56f3\u3057\u305f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\n$ head -n 2 bulk_restaurants_lat_lon.json | jq .\n{\n  \"index\": {\n    \"_index\": \"gourmet\",\n    \"_type\": \"restaurants\",\n    \"_id\": \"2\"\n  }\n}\n{\n  \"id\": \"2\",\n  \"name\": \"\u30e9\u30fb\u30de\u30fc\u30ec\u30fb\u30c9\u30fb\u8336\u5c4b\",\n  \"property\": \"2F\u30fb3F\",\n  \"alphabet\": \"LA MAREE DE CHAYA\",\n  \"name_kana\": \"\u3089\u307e\u30fc\u308c\u3069\u3061\u3083\u3084\",\n  \"pref_id\": \"14\",\n  \"area_id\": \"1013\",\n  \"station_id1\": \"2338\",\n  \"station_time1\": \"22\",\n  \"station_distance1\": \"1789\",\n  \"station_id2\": \"2401\",\n  \"station_time2\": \"28\",\n  \"station_distance2\": \"2240\",\n  \"station_id3\": \"2867\",\n  \"station_time3\": \"47\",\n  \"station_distance3\": \"3755\",\n  \"category_id1\": \"201\",\n  \"category_id2\": \"0\",\n  \"category_id3\": \"0\",\n  \"category_id4\": \"0\",\n  \"category_id5\": \"0\",\n  \"zip\": \"240-0113\",\n  \"address\": \"\u4e09\u6d66\u90e1\u8449\u5c71\u753a\u5800\u518524-3\",\n  \"description\": \"\u3053\u3061\u30892.3\uff26\u306e\u30ec\u30b9\u30c8\u30e9\u30f3\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u306b\u306a\u308a\u307e\u3059\u3002  \u300e\u30e9\u30fb\u30de\u30fc\u30ec\u30fb\u30c9\u30fb\u8336\u5c4b\u300f1F(\u30c6\u30e9\u30b9&\u30d0\u30fc)\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u306f\u305d\u3061\u3089\u306b\u304a\u9858\u3044\u3057\u307e\u3059\u3002    \u99d0\u8eca\u583415\u53f0(\u5c02\u7528)    06/06/19\u3000\u55b6\u696d\u6642\u9593\u7b49\u66f4\u65b0\uff08From\u6771\u4eac\u30b0\u30eb\u30e1\uff09\",\n  \"purpose\": null,\n  \"open_morning\": \"0\",\n  \"open_lunch\": \"1\",\n  \"open_late\": \"0\",\n  \"photo_count\": \"1\",\n  \"special_count\": \"0\",\n  \"menu_count\": \"0\",\n  \"fan_count\": \"5\",\n  \"access_count\": \"6535\",\n  \"created_on\": \"2000-09-10 11:22:02\",\n  \"modified_on\": \"2011-04-22 16:05:12\",\n  \"closed\": \"0\",\n  \"pin\": {\n    \"lat\": \"35.28154611111111\",\n    \"lon\": \"139.57225805555555\"\n  }\n}\n$\n\n\u3053\u3053\u30c1\u30a7\u30c3\u30af\u3002\n\n\u629c\u7c8b\n  \"pin\": {\n    \"lat\": \"35.28154611111111\",\n    \"lon\": \"139.57225805555555\"\n  }\n\n\n\n(2)mapping\u30d5\u30a1\u30a4\u30eb\u3082\u4fee\u6b63\n$ cp -p elasticsearch-hands-on/mappings/restaurants.json elasticsearch-hands-on/mappings/restaurants_lat_lon.json\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3059\u308b\u3002\n\u4ee5\u4e0b\u306e\uff12\u3064\u306f\u524a\u9664\u3002\n  * north_latitude\n  * east_longitude\n\u4ee3\u308f\u308a\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3002\n$  tail -n 7 elasticsearch-hands-on/mappings/restaurants_lat_lon.json\n                \"pin\": {\n                    \"type\" : \"geo_point\"\n                }\n            }\n        }\n    }\n}\n\n\n(3)\u518d\u5ea6indexing(mapping\u524a\u9664\u3001\u518d\u767b\u9332)\nmapping\u524a\u9664\n$ curl -X DELETE http://192.168.99.100:19200/gourmet/_mapping/restaurants\n\nindex\u524a\u9664\n$ curl -X DELETE http://192.168.99.100:19200/gourmet/\n\n\u518d\u4f5c\u6210\n$ curl -X POST http://192.168.99.100:19200/gourmet -d @elasticsearch-hands-on/mappings/restaurants_lat_lon.json\n\nmapping\u78ba\u8a8d\n$ curl -X GET http://192.168.99.100:19200/gourmet/restaurants/_mapping\\?pretty\n\nkibana\u3067\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u767b\u9332\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u4e00\u56de\u524a\u9664\u3057\u3066\u4f5c\u308a\u306a\u304a\u3059\n\n\u518d\u6295\u5165\n$ curl -X POST http://192.168.99.100:19200/_bulk --data-binary @datasets/bulk_restaurants_lat_lon.json\n\n\u8868\u793a\u3055\u305b\u3066\u307f\u308b\npin \u306e\u3068\u306a\u308a\u306b add \u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u30af\u30ea\u30c3\u30af\u3002\n\u30af\u30ea\u30c3\u30af\u3057\u305f\u5f8cpin\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068 Visualize \u30dc\u30bf\u30f3\u304c\u51fa\u3066\u304f\u308b\u306e\u3067\u30af\u30ea\u30c3\u30af\u3002\n\n\u8868\u793a\u3067\u304d\u305f\uff01\n\n\n\n\n\u306f\u3058\u3081\u306b\n------------\n\n**\u793e\u5185\u3067\u300cElasticsearch \u30cf\u30f3\u30ba\u30aa\u30f3\u300d\u3092\u958b\u50ac\u3057\u305f - kakakakakku blog**\nhttp://kakakakakku.hatenablog.com/entry/2015/09/09/231956\n\u3092\u3084\u3063\u3066\u307f\u305f\u3002\u7def\u5ea6\u7d4c\u5ea6\u306e\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u305f\u306e\u3067Kibana\u3067\u5730\u56f3\u3092\u4f7f\u3044\u305f\u304f\u306a\u3063\u305f\u3002\n\n\u3053\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u8cc7\u6599\u3067\u4f7f\u7528\u3057\u3066\u3044\u308b `livedoor \u30b0\u30eb\u30e1` \u30c7\u30fc\u30bf\u3092convert\u3059\u308b\u51e6\u7406\u3092\u5c11\u3057\u3044\u3058\u3063\u3066kibana / Elasticsearch \u3067\u5730\u56f3\u304c\u4f7f\u3048\u305d\u3046\u3002\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u7fa4\n------------------------\n\nhttps://github.com/imura81gt/elasticsearch-hands-on\nfork\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\n\n\u306a\u305c\u5c11\u3057\u3044\u3058\u308b\u306e\u304b\n------------------------\n\n\n**Lat/Lon Formats**\nhttps://www.elastic.co/guide/en/elasticsearch/guide/current/lat-lon-formats.html\n\n\u3053\u306e\uff13\u3064\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u5730\u56f3\u304c\u4f7f\u3048\u308b\u3002\n\n```json:format\nPUT /attractions/restaurant/1\n{\n  \"name\":     \"Chipotle Mexican Grill\",\n  \"location\": \"40.715, -74.011\" \n}\n\nPUT /attractions/restaurant/2\n{\n  \"name\":     \"Pala Pizza\",\n  \"location\": { \n    \"lat\":     40.722,\n    \"lon\":    -73.989\n  }\n}\n\nPUT /attractions/restaurant/3\n{\n  \"name\":     \"Mini Munchies Pizza\",\n  \"location\": [ -73.983, 40.719 ] \n}\n```\n\n\u30cf\u30f3\u30ba\u30aa\u30f3\u306e\u8cc7\u6599\u306e\u307e\u307e\u3084\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306belasticsearch\u306b\u683c\u7d0d\u3055\u308c\u3066\nKibana\u306e `visualize` - `Tile Map` \u3067 `Geohash` \u3068\u3057\u3066\u4f7f\u3048\u306a\u304b\u3063\u305f\u3002\n\uff08\u4f7f\u3044\u65b9\u3092\u77e5\u3089\u306a\u3044\u3060\u3051\u304b\u3082\u2026\uff09\n\n```json:bulk_restaurants.json\n{\n  \"id\": \"6\",\n  (\u7701\u7565)\n  \"north_latitude\": \"35.38.43.555\",\n  \"east_longitude\": \"139.42.59.224\",\n  (\u7701\u7565)\n}  \n```\n\n\n\u3069\u3046\u3084\u308b\u304b\n------------------------\n\n(1)\u30b3\u30f3\u30d0\u30fc\u30c8\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4fee\u6b63\n(2)mapping\u30d5\u30a1\u30a4\u30eb\u3082\u4fee\u6b63\n(3)\u518d\u5ea6indexing\n\n(1)\u30b3\u30f3\u30d0\u30fc\u30c8\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4fee\u6b63\n---------------------------------------------------------------\n\n* \u7def\u5ea6\u7d4c\u5ea6\u309260\u9032\u6570\uff08\u5ea6\u5206\u79d2\uff09\u304b\u308910\u9032\u6570\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\n* \u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3082 `{\"pin\":{\"lat\": \"111.111\", \"lon\": \"222.222\"}` \u5909\u66f4\n\n\n```ruby:convert_bulk_data_lat_lon.rb\nrequire 'csv'\nrequire 'json'\n\nES_INDEX_NAME = 'gourmet'\nES_TYPE_NAME = 'restaurants'\n\nrow_csv = CSV.read('restaurants.csv')\nheader = row_csv.slice!(0)\ndata = row_csv\n\nOUTPUT_FILENAME = 'bulk_restaurants_lat_lon.json'\n\nFile.delete(OUTPUT_FILENAME) if File.exist?(OUTPUT_FILENAME)\nFile.open(OUTPUT_FILENAME, 'a') do |file|\n  data.each do |row|\n    index = { index: { _index: ES_INDEX_NAME, _type: ES_TYPE_NAME, _id: row[0] } }\n    file.puts(JSON.dump(index))\n    hash = Hash[header.zip(row)]\n\t\tlon = \"\"\n\t\tlat = \"\"\n\t\tmod_hash = {}\n\t\thash.each do |key, value|\n\t\t\tif key == \"north_latitude\" then\n\t\t\t\tvalue =~ /([0-9]+)\\.([0-9]+)\\.(.+)/\n\t\t\t\tlat = ($1.to_f + ($2.to_f / 60) +  ($3.to_f / 60**2)).to_s\n\t\t\telsif key == \"east_longitude\" then\n\t\t\t\tvalue =~ /([0-9]+)\\.([0-9]+)\\.(.+)/\n\t\t\t\tlon = ($1.to_f + ($2.to_f / 60) +  ($3.to_f / 60**2)).to_s\n\t\t\telse\n\t\t\t\tmod_hash[key] =  value\n\t\t\tend\n\t\tend\n\t\tmod_hash[\"pin\"] = {\"lat\" => lat, \"lon\" => lon}\n    file.puts(JSON.dump(mod_hash))\n  end\nend\n```\n\n\u5b9f\u884c\u3059\u308b\n\n```console:convert\n$  ruby convert_bulk_data_lat_lon.rb\n```\n\nbulk_restaurants_lat_lon.json \u304c\u51fa\u6765\u3066\u3044\u308c\u3070\u6210\u529f\n\n\u610f\u56f3\u3057\u305f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\n\n```json:\n$ head -n 2 bulk_restaurants_lat_lon.json | jq .\n{\n  \"index\": {\n    \"_index\": \"gourmet\",\n    \"_type\": \"restaurants\",\n    \"_id\": \"2\"\n  }\n}\n{\n  \"id\": \"2\",\n  \"name\": \"\u30e9\u30fb\u30de\u30fc\u30ec\u30fb\u30c9\u30fb\u8336\u5c4b\",\n  \"property\": \"2F\u30fb3F\",\n  \"alphabet\": \"LA MAREE DE CHAYA\",\n  \"name_kana\": \"\u3089\u307e\u30fc\u308c\u3069\u3061\u3083\u3084\",\n  \"pref_id\": \"14\",\n  \"area_id\": \"1013\",\n  \"station_id1\": \"2338\",\n  \"station_time1\": \"22\",\n  \"station_distance1\": \"1789\",\n  \"station_id2\": \"2401\",\n  \"station_time2\": \"28\",\n  \"station_distance2\": \"2240\",\n  \"station_id3\": \"2867\",\n  \"station_time3\": \"47\",\n  \"station_distance3\": \"3755\",\n  \"category_id1\": \"201\",\n  \"category_id2\": \"0\",\n  \"category_id3\": \"0\",\n  \"category_id4\": \"0\",\n  \"category_id5\": \"0\",\n  \"zip\": \"240-0113\",\n  \"address\": \"\u4e09\u6d66\u90e1\u8449\u5c71\u753a\u5800\u518524-3\",\n  \"description\": \"\u3053\u3061\u30892.3\uff26\u306e\u30ec\u30b9\u30c8\u30e9\u30f3\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u306b\u306a\u308a\u307e\u3059\u3002  \u300e\u30e9\u30fb\u30de\u30fc\u30ec\u30fb\u30c9\u30fb\u8336\u5c4b\u300f1F(\u30c6\u30e9\u30b9&\u30d0\u30fc)\u3078\u306e\u30b3\u30e1\u30f3\u30c8\u306f\u305d\u3061\u3089\u306b\u304a\u9858\u3044\u3057\u307e\u3059\u3002    \u99d0\u8eca\u583415\u53f0(\u5c02\u7528)    06/06/19\u3000\u55b6\u696d\u6642\u9593\u7b49\u66f4\u65b0\uff08From\u6771\u4eac\u30b0\u30eb\u30e1\uff09\",\n  \"purpose\": null,\n  \"open_morning\": \"0\",\n  \"open_lunch\": \"1\",\n  \"open_late\": \"0\",\n  \"photo_count\": \"1\",\n  \"special_count\": \"0\",\n  \"menu_count\": \"0\",\n  \"fan_count\": \"5\",\n  \"access_count\": \"6535\",\n  \"created_on\": \"2000-09-10 11:22:02\",\n  \"modified_on\": \"2011-04-22 16:05:12\",\n  \"closed\": \"0\",\n  \"pin\": {\n    \"lat\": \"35.28154611111111\",\n    \"lon\": \"139.57225805555555\"\n  }\n}\n$\n```\n\n\u3053\u3053\u30c1\u30a7\u30c3\u30af\u3002\n\n```json:\u629c\u7c8b\n  \"pin\": {\n    \"lat\": \"35.28154611111111\",\n    \"lon\": \"139.57225805555555\"\n  }\n```\n\n\n(2)mapping\u30d5\u30a1\u30a4\u30eb\u3082\u4fee\u6b63\n---------------------------------------------------------------\n\n```console:\n$ cp -p elasticsearch-hands-on/mappings/restaurants.json elasticsearch-hands-on/mappings/restaurants_lat_lon.json\n```\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3059\u308b\u3002\n\u4ee5\u4e0b\u306e\uff12\u3064\u306f\u524a\u9664\u3002\n  * north_latitude\n  * east_longitude\n\n\u4ee3\u308f\u308a\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3002\n\n```json:\n$  tail -n 7 elasticsearch-hands-on/mappings/restaurants_lat_lon.json\n                \"pin\": {\n                    \"type\" : \"geo_point\"\n                }\n            }\n        }\n    }\n}\n```\n\n\n(3)\u518d\u5ea6indexing(mapping\u524a\u9664\u3001\u518d\u767b\u9332)\n---------------------------------------------------------------\n\nmapping\u524a\u9664\n\n```console:\n$ curl -X DELETE http://192.168.99.100:19200/gourmet/_mapping/restaurants\n```\n\nindex\u524a\u9664\n\n```console:\n$ curl -X DELETE http://192.168.99.100:19200/gourmet/\n```\n\n\u518d\u4f5c\u6210\n\n```console:\n$ curl -X POST http://192.168.99.100:19200/gourmet -d @elasticsearch-hands-on/mappings/restaurants_lat_lon.json\n```\n\nmapping\u78ba\u8a8d\n\n```console:\n$ curl -X GET http://192.168.99.100:19200/gourmet/restaurants/_mapping\\?pretty\n```\n\nkibana\u3067\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u767b\u9332\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u4e00\u56de\u524a\u9664\u3057\u3066\u4f5c\u308a\u306a\u304a\u3059\n\n![kibana_index.png](https://qiita-image-store.s3.amazonaws.com/0/17518/d988deaf-ea74-43cc-df86-9cf621f8c11f.png \"kibana_index.png\")\n\n\n\u518d\u6295\u5165\n\n```console:\n$ curl -X POST http://192.168.99.100:19200/_bulk --data-binary @datasets/bulk_restaurants_lat_lon.json\n```\n\n\u8868\u793a\u3055\u305b\u3066\u307f\u308b\n\npin \u306e\u3068\u306a\u308a\u306b add \u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u30af\u30ea\u30c3\u30af\u3002\n\u30af\u30ea\u30c3\u30af\u3057\u305f\u5f8cpin\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068 `Visualize` \u30dc\u30bf\u30f3\u304c\u51fa\u3066\u304f\u308b\u306e\u3067\u30af\u30ea\u30c3\u30af\u3002\n\n![0001_Discover_-_Kibana_4.png](https://qiita-image-store.s3.amazonaws.com/0/17518/9046e55f-97ef-5dde-cf02-1825dce7156e.png \"0001_Discover_-_Kibana_4.png\")\n\n\u8868\u793a\u3067\u304d\u305f\uff01\n\n![0002_Visualize_-_Kibana_4.png](https://qiita-image-store.s3.amazonaws.com/0/17518/99f8d367-2873-44fd-64ab-5660524d9b8c.png \"0002_Visualize_-_Kibana_4.png\")\n\n\n", "tags": ["kibana", "Elasticsearch"]}