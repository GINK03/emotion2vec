{"context": "\n\n\u6982\u8981\ncertbot-auto\u3092\u4f7f\u3048\u3070\u3001\u7121\u6599\u3067SSL\u306e\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u672c\u6587\u3067\u306f\u3001Ubuntu14.04 + Nginx\u3067\u306ecertbot-auto\u306e\u4f7f\u3044\u65b9\u3068\u3001nginx\u306e\u8a2d\u5b9a\u4f8b\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\ncertbot-auto\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# certbot-auto\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ mkdir ~/bin\n$ cd ~/bin\n$ wget https://dl.eff.org/certbot-auto\n$ chmod a+x certbot-auto\n\n# ~/bin\u306bPATH\u3092\u901a\u3059\n$ echo export 'PATH=\"$HOME/bin:$PATH\"' >> ~/.bashrc \n$ source ~/.bashrc \n\n\nSSL/TLS \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\n#certbot\u304cport80\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\u3001\u4e00\u65e6nginx\u3092\u505c\u6b62\u3059\u308b\n$ sudo service nginx stop\n\n# \u8a3c\u660e\u66f8\u3092\u53d6\u5f97(-d\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u306f\u3042\u306a\u305f\u306e\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044)\n$ certbot-auto certonly --standalone -d hoge.example.com\nChecking for new version...\nRequesting root privileges to run certbot...\n   sudo CERTBOT_AUTO=/home/ubuntu/bin/certbot-auto /home/ubuntu/.local/share/letsencrypt/bin/letsencrypt certonly --standalone -d hoge.example.com\n\nIMPORTANT NOTES:\n - Congratulations! Your certificate and chain have been saved at\n   /etc/letsencrypt/live/hoge.example.com/fullchain.pem. Your\n   cert will expire on 2016-08-24. To obtain a new version of the\n   certificate in the future, simply run Certbot again.\n - If you like Certbot, please consider supporting our work by:\n\n   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate\n   Donating to EFF:                    https://eff.org/donate-le\n\n\nnginx\u306e\u8a2d\u5b9a\u4f8b\n\n/etc/nginx/conf.d/hoge.conf\n\nserver {\n  listen 80;\n  server_name hoge.example.com;\n  return 301 https://$host$request_uri;\n}\n\nserver {\n  listen 443;\n  ssl on;\n  server_name hoge.example.com;\n  ssl_certificate /etc/letsencrypt/live/hoge.example.com/fullchain.pem;\n  ssl_certificate_key /etc/letsencrypt/live/hoge.example.com/privkey.pem;\n  ...\u7701\u7565...\n}\n\n\n\n\u671f\u9650\u304c\u5207\u308c\u305f\u8a3c\u660e\u66f8\u3092\u66f4\u65b0\u3059\u308b\n3\u304b\u6708\u3067\u8a3c\u660e\u66f8\u306e\u671f\u9650\u304c\u5207\u308c\u308b\u306e\u3067\u3001\u5b9a\u671f\u7684\u306b\u66f4\u65b0\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\n$ sudo service nginx stop\n$ certbot-auto renew\n$ sudo service nginx start\n\n\n\u53c2\u8003\n\n\nhttps://certbot.eff.org/#ubuntutrusty-nginx - \u672c\u5bb6\n\nhttps://letsencrypt.jp/usage/ - \u65e5\u672c\u8a9e\u306e\u8aac\u660e\n\nHow To Secure Nginx with Let's Encrypt on Ubuntu 14.04 - nginx\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f8b\u3042\u308a\n\n# \u6982\u8981\n\ncertbot-auto\u3092\u4f7f\u3048\u3070\u3001\u7121\u6599\u3067SSL\u306e\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u672c\u6587\u3067\u306f\u3001Ubuntu14.04 + Nginx\u3067\u306ecertbot-auto\u306e\u4f7f\u3044\u65b9\u3068\u3001nginx\u306e\u8a2d\u5b9a\u4f8b\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n# certbot-auto\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n~~~\n# certbot-auto\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ mkdir ~/bin\n$ cd ~/bin\n$ wget https://dl.eff.org/certbot-auto\n$ chmod a+x certbot-auto\n\n# ~/bin\u306bPATH\u3092\u901a\u3059\n$ echo export 'PATH=\"$HOME/bin:$PATH\"' >> ~/.bashrc \n$ source ~/.bashrc \n~~~\n\n# SSL/TLS \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\n\n~~~\n#certbot\u304cport80\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\u3001\u4e00\u65e6nginx\u3092\u505c\u6b62\u3059\u308b\n$ sudo service nginx stop\n\n# \u8a3c\u660e\u66f8\u3092\u53d6\u5f97(-d\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u306f\u3042\u306a\u305f\u306e\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044)\n$ certbot-auto certonly --standalone -d hoge.example.com\nChecking for new version...\nRequesting root privileges to run certbot...\n   sudo CERTBOT_AUTO=/home/ubuntu/bin/certbot-auto /home/ubuntu/.local/share/letsencrypt/bin/letsencrypt certonly --standalone -d hoge.example.com\n\nIMPORTANT NOTES:\n - Congratulations! Your certificate and chain have been saved at\n   /etc/letsencrypt/live/hoge.example.com/fullchain.pem. Your\n   cert will expire on 2016-08-24. To obtain a new version of the\n   certificate in the future, simply run Certbot again.\n - If you like Certbot, please consider supporting our work by:\n\n   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate\n   Donating to EFF:                    https://eff.org/donate-le\n~~~\n\n# nginx\u306e\u8a2d\u5b9a\u4f8b\n\n```/etc/nginx/conf.d/hoge.conf\n\nserver {\n  listen 80;\n  server_name hoge.example.com;\n  return 301 https://$host$request_uri;\n}\n\nserver {\n  listen 443;\n  ssl on;\n  server_name hoge.example.com;\n  ssl_certificate /etc/letsencrypt/live/hoge.example.com/fullchain.pem;\n  ssl_certificate_key /etc/letsencrypt/live/hoge.example.com/privkey.pem;\n  ...\u7701\u7565...\n}\n```\n\n# \u671f\u9650\u304c\u5207\u308c\u305f\u8a3c\u660e\u66f8\u3092\u66f4\u65b0\u3059\u308b\n\n3\u304b\u6708\u3067\u8a3c\u660e\u66f8\u306e\u671f\u9650\u304c\u5207\u308c\u308b\u306e\u3067\u3001\u5b9a\u671f\u7684\u306b\u66f4\u65b0\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\n\n```\n$ sudo service nginx stop\n$ certbot-auto renew\n$ sudo service nginx start\n```\n\n# \u53c2\u8003\n\n- https://certbot.eff.org/#ubuntutrusty-nginx - \u672c\u5bb6\n- https://letsencrypt.jp/usage/ - \u65e5\u672c\u8a9e\u306e\u8aac\u660e\n- [How To Secure Nginx with Let's Encrypt on Ubuntu 14.04](https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-14-04) - nginx\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f8b\u3042\u308a\n", "tags": ["letsencrypt", "nginx", "certbot"]}