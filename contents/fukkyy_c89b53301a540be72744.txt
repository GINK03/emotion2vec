{"context": " More than 1 year has passed since last update.Gem\u3092\u4f7f\u3063\u3066istall(Ruby1.9.2\u4ee5\u4e0a\u304c\u5fc5\u8981)\ngem install fluentd --no-ri --no-rdoc\n\n\u8d77\u52d5\nfluentd --setup ./fluent\nfluentd -c ./fluent/fluent.conf -vv &\n\u30c7\u30fc\u30e2\u30f3\u3067\u8d77\u52d5\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\nconf\u30d5\u30a1\u30a4\u30eb\nsource -> \u6a19\u6e96\u5165\u529b\u3001\u30d5\u30a1\u30a4\u30eb\u3001\u30dd\u30fc\u30c8\u6307\u5b9a\u306eHTTP\u901a\u4fe1\u306a\u3069\n# $ echo <json> | fluent-cat <tag>\n<source>\n    type forward\n</source>\n\n# http\u901a\u4fe1\n<source>\n    type http\n    port 8888\n</source>\n\n# \u30d5\u30a1\u30a4\u30eb\n# \u4f8b\u3067\u306fapache\u306eaccess-log\n<source>\n    type all\n    format apache\n    path /var/log/httpd-access.log\n    tag apache.access\n</source>\n\n# \u30c7\u30d0\u30c3\u30b0\u51fa\u529b\n<source>\n    type debug_agent\n    port24230\n</source>\n\nmatch -> \u30de\u30c3\u30c1\u3057\u305f\u30ed\u30b0\u306e\u51e6\u7406\u3000\u6a19\u6e96\u51fa\u529b\u3001\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u3001\u4ed6\u30b5\u30fc\u30d0\u3078\u306e\u8ee2\u9001\u306a\u3069\n## tag\u304capache.access\u306e\u3068\u304dpath\u306b\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\n<match apache.access>\n    type file\n    path /var/log/fluent/access\n</match>\n\n## tag\u304cdebug.** (**\u306f\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9??)\u306e\u3068\u304d\u6a19\u6e96\u51fa\u529b\n<match debug.**>\n    type stdout\n</match>\n\n## tag\u304csystem.**\u306e\u3068\u304d\u4ed6\u306e\u30b5\u30fc\u30d0\u306b\u8ee2\u9001\n<match system.**>\n    type forward\n    host 192.168.0.11\n    <secondary>\n        host 192.168.0.12\n    </secondary>\n</match>\n\n## tag\u304cmyapp.**\u306e\u3068\u304d\u4ed6\u30b5\u30fc\u30d0\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58and\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58(\u51fa\u529b\u5148\u8907\u6570)\n<match myapp.**>\n    type copy\n    <store>\n        type forward\n        host 192.168.0.13\n        buffer_type file\n        buffer_path /var/log/fluent/myapp-forward\n        retry_limit 50\n        flush_interval 10s\n    </store>\n    <store>\n        type file\n        path /var/log/fluent/myapp\n    </store>\n</match>\n\n## tag\u304cfluent.**\u306e\u3068\u304f\u4f55\u3082\u3057\u306a\u3044\n<match fluent.**>\n    type null\n</type>\n\n## \u30de\u30c3\u30c1\u3057\u306a\u304b\u3063\u305f\u3082\u306e(else\u7684\u306a)\u306fgzip\u5727\u7e2e\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\n<match **>\n    type file\n    path /var/log/fluent/else\n    compress gz\n</match>\n\ninclude ->conf\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u3002\u4ed6\u30b5\u30fc\u30d0\u304b\u3089\u3082\ninclude config.d/*.conf\ninclude http://pokopoko.com/fluent.conf\n\n\u4f7f\u3063\u3066\u307f\u308b\necho '{\"hoge\":\"fuga\"}' | fluent-cat debug.forward\n\n\u3067\u5143\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\n2013-03-20 11:06:03 +0900 debug.forward: {\"hoge\":\"fuga\"}\n\n\u306e\u3088\u3046\u306b\u6a19\u6e96\u51fa\u529b\u3055\u308c\u308b\ncurl http://localhost:8888/debug.http -F 'json={\"foo\":\"bar\"}'\n\n\u3059\u308b\u3068\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308a\n2013-03-20 11:07:44 +0900 debug.http: {\"foo\":\"bar\"}\n\n\u3068\u51fa\u529b\n\nGem\u3092\u4f7f\u3063\u3066istall(Ruby1.9.2\u4ee5\u4e0a\u304c\u5fc5\u8981)\n\n```\ngem install fluentd --no-ri --no-rdoc\n```\n\n\u8d77\u52d5\nfluentd --setup ./fluent\nfluentd -c ./fluent/fluent.conf -vv &\n\n\u30c7\u30fc\u30e2\u30f3\u3067\u8d77\u52d5\u3055\u305b\u308b\u3053\u3068\u3082\u53ef\u80fd\n\nconf\u30d5\u30a1\u30a4\u30eb\n\nsource -> \u6a19\u6e96\u5165\u529b\u3001\u30d5\u30a1\u30a4\u30eb\u3001\u30dd\u30fc\u30c8\u6307\u5b9a\u306eHTTP\u901a\u4fe1\u306a\u3069\n\n```\n# $ echo <json> | fluent-cat <tag>\n<source>\n\ttype forward\n</source>\n\n# http\u901a\u4fe1\n<source>\n\ttype http\n\tport 8888\n</source>\n\n# \u30d5\u30a1\u30a4\u30eb\n# \u4f8b\u3067\u306fapache\u306eaccess-log\n<source>\n\ttype all\n\tformat apache\n\tpath /var/log/httpd-access.log\n\ttag apache.access\n</source>\n\n# \u30c7\u30d0\u30c3\u30b0\u51fa\u529b\n<source>\n\ttype debug_agent\n\tport24230\n</source>\n```\n\nmatch -> \u30de\u30c3\u30c1\u3057\u305f\u30ed\u30b0\u306e\u51e6\u7406\u3000\u6a19\u6e96\u51fa\u529b\u3001\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u3001\u4ed6\u30b5\u30fc\u30d0\u3078\u306e\u8ee2\u9001\u306a\u3069\n\n```\n## tag\u304capache.access\u306e\u3068\u304dpath\u306b\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\n<match apache.access>\n\ttype file\n\tpath /var/log/fluent/access\n</match>\n\n## tag\u304cdebug.** (**\u306f\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9??)\u306e\u3068\u304d\u6a19\u6e96\u51fa\u529b\n<match debug.**>\n\ttype stdout\n</match>\n\n## tag\u304csystem.**\u306e\u3068\u304d\u4ed6\u306e\u30b5\u30fc\u30d0\u306b\u8ee2\u9001\n<match system.**>\n\ttype forward\n\thost 192.168.0.11\n\t<secondary>\n\t\thost 192.168.0.12\n\t</secondary>\n</match>\n\n## tag\u304cmyapp.**\u306e\u3068\u304d\u4ed6\u30b5\u30fc\u30d0\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58and\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58(\u51fa\u529b\u5148\u8907\u6570)\n<match myapp.**>\n\ttype copy\n\t<store>\n\t\ttype forward\n\t\thost 192.168.0.13\n\t\tbuffer_type file\n\t\tbuffer_path /var/log/fluent/myapp-forward\n\t\tretry_limit 50\n\t\tflush_interval 10s\n\t</store>\n\t<store>\n\t\ttype file\n\t\tpath /var/log/fluent/myapp\n\t</store>\n</match>\n\n## tag\u304cfluent.**\u306e\u3068\u304f\u4f55\u3082\u3057\u306a\u3044\n<match fluent.**>\n\ttype null\n</type>\n\n## \u30de\u30c3\u30c1\u3057\u306a\u304b\u3063\u305f\u3082\u306e(else\u7684\u306a)\u306fgzip\u5727\u7e2e\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\n<match **>\n\ttype file\n\tpath /var/log/fluent/else\n\tcompress gz\n</match>\n```\n\ninclude ->conf\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u3002\u4ed6\u30b5\u30fc\u30d0\u304b\u3089\u3082\n\n```\ninclude config.d/*.conf\ninclude http://pokopoko.com/fluent.conf\n```\n\n\u4f7f\u3063\u3066\u307f\u308b\n\n```\necho '{\"hoge\":\"fuga\"}' | fluent-cat debug.forward\n```\n\n\u3067\u5143\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\n\n```\n2013-03-20 11:06:03 +0900 debug.forward: {\"hoge\":\"fuga\"}\n```\n\n\u306e\u3088\u3046\u306b\u6a19\u6e96\u51fa\u529b\u3055\u308c\u308b\n\n```\ncurl http://localhost:8888/debug.http -F 'json={\"foo\":\"bar\"}'\n```\n\n\u3059\u308b\u3068\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308a\n\n```\n2013-03-20 11:07:44 +0900 debug.http: {\"foo\":\"bar\"}\n```\n\n\u3068\u51fa\u529b", "tags": ["fluentd"]}