{"tags": ["CoffeeScript1.6.3", "grunt0.4.1", "Compass0.12.2", "Sass3.2.9"], "context": " More than 1 year has passed since last update.\u307f\u306a\u3055\u3093 grunt \u4f7f\u3063\u3066\u307e\u3059\u304b\uff1f\u4fbf\u5229\u3067\u3059\u3088\uff01\n\u3055\u3066\u3001\u300cGruntfile.js\u306f.coffee\u306e\u307b\u3046\u304c\u6271\u3044\u3084\u3059\u3044 ::\u30cf\u30d6\u308d\u3050\u300d\u3092\u898b\u308b\u3068\u3001Gruntfile.js \u3092 CoffeeScript \u3067\u66f8\u3044\u3066\u3082\u3061\u3083\u3093\u3068 grunt \u3055\u3093\u306f\u8a8d\u8b58\u3057\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u306e\u3067\u3001CoffeeScript \u3067\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u306f grunt watch \u3059\u308c\u3070\u3001src/.sass \u3084 src/.js\u3001src/*haml \u306e\u4fdd\u5b58\u6642\u306b\u3001\u6b21\u306e\u51e6\u7406\u3092\u81ea\u52d5\u3067\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u30b9\u30c6\u30ad\u306a\u8a2d\u5b9a\u3067\u3059\uff08\u307c\u304f\u306f\u3053\u308c\u3067\u3057\u304b grunt \u3092\u4f7f\u3063\u3066\u306a\u3044\u3051\u3069...\uff09\u3002\n\nsrc/.sass -> css/.css \u3078\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\ncss \u5185\u3068 js \u5185\u306e\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e concat\ncss \u306e\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e minify\njs \u306e\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e minify\nsrc/*.haml -> *.html \u3078\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n\u7d42\u4e86\u97f3\u306e\u518d\u751f\n\n\n\nmodule.exports = (grunt) ->\n    pkg = grunt.file.readJSON 'package.json'\n    grunt.initConfig\n        compass:\n            dev:\n                options:\n                    config: 'config.rb'\n                    environment: 'development'\n                    force: true\n            prod:\n                options:\n                    config: 'config.rb'\n                    environment: 'production'\n                    force: true\n        concat:\n            'css/styles.css': ['src/reset.css', 'src/webfonts.css', 'css/common.css']\n            'js/functions.js': ['src/common.js']\n        cssmin:\n            compress:\n                files:\n                    'css/styles.min.css': ['css/styles.css']\n                    'css/tablet.min.css': ['css/tablet.css']\n                    'css/mobile.min.css': ['css/mobile.css']\n        uglify:\n            my_target:\n                files:\n                    'js/functions.min.js': ['js/functions.js']\n        haml:\n            one:\n                files:\n                    'index.html': 'src/index.haml'\n        play:\n            fanfare:\n                file: './node_modules/grunt-play/sounds/end.mp3'\n        watch:\n            files: ['src/*.scss', 'src/*.js', 'src/*.haml']\n            tasks: ['compass:prod', 'concat', 'cssmin', 'uglify', 'haml', 'play']\n\n    for t of pkg.devDependencies\n        if t.substring(0, 6) is 'grunt-'\n            grunt.loadNpmTasks t\n\n    grunt.registerTask 'default', ['compass:prod', 'concat', 'cssmin', 'uglify', 'haml', 'play']\n\n\n\u51c4\u304f\u898b\u3084\u3059\u304f\u306a\u308a\u307e\u3057\u305f\u306d\uff01\n\u307f\u306a\u3055\u3093 grunt \u4f7f\u3063\u3066\u307e\u3059\u304b\uff1f\u4fbf\u5229\u3067\u3059\u3088\uff01\n\n\u3055\u3066\u3001\u300c<a href=\"http://havelog.ayumusato.com/develop/javascript/e515-gruntfile_coffee.html\" target=\"_blank\" title=\"Gruntfile.js\u306f.coffee\u306e\u307b\u3046\u304c\u6271\u3044\u3084\u3059\u3044 ::\u30cf\u30d6\u308d\u3050\">Gruntfile.js\u306f.coffee\u306e\u307b\u3046\u304c\u6271\u3044\u3084\u3059\u3044 ::\u30cf\u30d6\u308d\u3050</a>\u300d\u3092\u898b\u308b\u3068\u3001Gruntfile.js \u3092 CoffeeScript \u3067\u66f8\u3044\u3066\u3082\u3061\u3083\u3093\u3068 grunt \u3055\u3093\u306f\u8a8d\u8b58\u3057\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u306e\u3067\u3001CoffeeScript \u3067\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u4ee5\u4e0b\u306f grunt watch \u3059\u308c\u3070\u3001src/*.sass \u3084 src/*.js\u3001src/*haml \u306e\u4fdd\u5b58\u6642\u306b\u3001\u6b21\u306e\u51e6\u7406\u3092\u81ea\u52d5\u3067\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u30b9\u30c6\u30ad\u306a\u8a2d\u5b9a\u3067\u3059\uff08\u307c\u304f\u306f\u3053\u308c\u3067\u3057\u304b grunt \u3092\u4f7f\u3063\u3066\u306a\u3044\u3051\u3069...\uff09\u3002\n\n1. src/*.sass -> css/*.css \u3078\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n2. css \u5185\u3068 js \u5185\u306e\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e concat\n3. css \u306e\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e minify\n4. js \u306e\u6307\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e minify\n5. src/*.haml -> *.html \u3078\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n6. \u7d42\u4e86\u97f3\u306e\u518d\u751f\n\n```coffeescript::Gruntfile.coffee\nmodule.exports = (grunt) ->\n\tpkg = grunt.file.readJSON 'package.json'\n\tgrunt.initConfig\n\t\tcompass:\n\t\t\tdev:\n\t\t\t\toptions:\n\t\t\t\t\tconfig: 'config.rb'\n\t\t\t\t\tenvironment: 'development'\n\t\t\t\t\tforce: true\n\t\t\tprod:\n\t\t\t\toptions:\n\t\t\t\t\tconfig: 'config.rb'\n\t\t\t\t\tenvironment: 'production'\n\t\t\t\t\tforce: true\n\t\tconcat:\n\t\t\t'css/styles.css': ['src/reset.css', 'src/webfonts.css', 'css/common.css']\n\t\t\t'js/functions.js': ['src/common.js']\n\t\tcssmin:\n\t\t\tcompress:\n\t\t\t\tfiles:\n\t\t\t\t\t'css/styles.min.css': ['css/styles.css']\n\t\t\t\t\t'css/tablet.min.css': ['css/tablet.css']\n\t\t\t\t\t'css/mobile.min.css': ['css/mobile.css']\n\t\tuglify:\n\t\t\tmy_target:\n\t\t\t\tfiles:\n\t\t\t\t\t'js/functions.min.js': ['js/functions.js']\n\t\thaml:\n\t\t\tone:\n\t\t\t\tfiles:\n\t\t\t\t\t'index.html': 'src/index.haml'\n\t\tplay:\n\t\t\tfanfare:\n\t\t\t\tfile: './node_modules/grunt-play/sounds/end.mp3'\n\t\twatch:\n\t\t\tfiles: ['src/*.scss', 'src/*.js', 'src/*.haml']\n\t\t\ttasks: ['compass:prod', 'concat', 'cssmin', 'uglify', 'haml', 'play']\n\n\tfor t of pkg.devDependencies\n\t\tif t.substring(0, 6) is 'grunt-'\n\t\t\tgrunt.loadNpmTasks t\n\n\tgrunt.registerTask 'default', ['compass:prod', 'concat', 'cssmin', 'uglify', 'haml', 'play']\n```\n\n\u51c4\u304f\u898b\u3084\u3059\u304f\u306a\u308a\u307e\u3057\u305f\u306d\uff01"}