{"tags": ["AngularJS", "karma"], "context": "\n\ncomponent\nAngularJS 1.5\u304b\u3089\u3001component\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067$scope\u304c\u72ec\u7acb\u3057\u3066\u3044\u305f\u308a\u3001one-way binding\u306a\u3069\u304c\u4f7f\u3048\u308b\u306e\u3067\u3001\u7a4d\u6975\u7684\u306b\u6d3b\u7528\u3057\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\n\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\n\u4ee5\u4e0b\u306e\u3088\u3046\u306acomponent\u3092\u30c6\u30b9\u30c8\u3059\u308b\u5834\u5408\u3092\u60f3\u5b9a\u3057\u307e\u3059\u3002\nclass GreetingCtrl {\n\n  constructor() {\n    this.title = '';\n\n    if (this.gender === 'male') {\n      this.title = 'Mr.';\n    }\n    if (this.gender === 'female') {\n      this.title = 'Ms.';\n    }\n\n    this.name = this.title + this.surname;\n  }\n}\n\nangular.module('myApp').component('greet', {\n    bindings: {\n      gender: '@',\n      surname: '@'\n    },\n    template: '<p>Hello, {{$ctrl.name}}</p>',\n    controller:GreetingCtrl\n  });\n\n\ncomponent\u306econtroller\u3067\u3042\u308bGreetingCtrl\u306f\u3001$_componentController_\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\ndescribe('greet\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30c6\u30b9\u30c8',() => {\n  let $controller;\n  let setComponent;\n\n  beforeEach(function() {\n    angular.mock.module('myApp');\n\n    inject(function(_$componentController_) {\n      $controller = _$componentController_;\n\n      setComponent = function(bindings) {\n        return $controller('greet', null, bindings);\n      };\n    });\n\n    it('gender\u304cmale\u306e\u5834\u5408\u306f\u3001surname\u306e\u5148\u982d\u306bMr.\u304c\u3064\u3044\u3066\u3044\u308b',()=>{\n      const cp = setComponent({\n        gender: 'male',\n        surname: 'Test'\n      });\n      expect(cp.name).toEqual('Mr.Test');\n    });\n  });\n\n_$componentController_()\u306e\u7b2c\u4e00\u5f15\u6570\u304c\u547c\u3073\u51fa\u3057\u305f\u3044component\u540d\u3001\n\u7b2c\u4e8c\u5f15\u6570\u306finject\u3057\u305f\u3044scope\uff08null\u306e\u5834\u5408\u306f\u72ec\u7acbscope\u306b\u306a\u308a\u307e\u3059\uff09\u3001\n\u7b2c\u4e09\u5f15\u6570\u304cbindings\u3057\u305f\u3044\u5024\u306b\u306a\u308a\u307e\u3059\u3002\n## component\nAngularJS 1.5\u304b\u3089\u3001component\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067$scope\u304c\u72ec\u7acb\u3057\u3066\u3044\u305f\u308a\u3001one-way binding\u306a\u3069\u304c\u4f7f\u3048\u308b\u306e\u3067\u3001\u7a4d\u6975\u7684\u306b\u6d3b\u7528\u3057\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u3002\n\n## \u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306acomponent\u3092\u30c6\u30b9\u30c8\u3059\u308b\u5834\u5408\u3092\u60f3\u5b9a\u3057\u307e\u3059\u3002\n\n```ts\nclass GreetingCtrl {\n\n  constructor() {\n    this.title = '';\n\n    if (this.gender === 'male') {\n      this.title = 'Mr.';\n    }\n    if (this.gender === 'female') {\n      this.title = 'Ms.';\n    }\n  \n    this.name = this.title + this.surname;\n  }\n}\n\nangular.module('myApp').component('greet', {\n    bindings: {\n      gender: '@',\n      surname: '@'\n    },\n    template: '<p>Hello, {{$ctrl.name}}</p>',\n    controller:GreetingCtrl\n  });\n\n```\n\ncomponent\u306econtroller\u3067\u3042\u308b`GreetingCtrl`\u306f\u3001`$_componentController_`\u3068\u3044\u3046\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n\n```ts\ndescribe('greet\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30c6\u30b9\u30c8',() => {\n  let $controller;\n  let setComponent;\n\n  beforeEach(function() {\n    angular.mock.module('myApp');\n\n    inject(function(_$componentController_) {\n      $controller = _$componentController_;\n\n      setComponent = function(bindings) {\n        return $controller('greet', null, bindings);\n      };\n    });\n\n    it('gender\u304cmale\u306e\u5834\u5408\u306f\u3001surname\u306e\u5148\u982d\u306bMr.\u304c\u3064\u3044\u3066\u3044\u308b',()=>{\n      const cp = setComponent({\n        gender: 'male',\n        surname: 'Test'\n      });\n      expect(cp.name).toEqual('Mr.Test');\n    });\n  });\n```\n`_$componentController_()`\u306e\u7b2c\u4e00\u5f15\u6570\u304c\u547c\u3073\u51fa\u3057\u305f\u3044component\u540d\u3001\n\u7b2c\u4e8c\u5f15\u6570\u306finject\u3057\u305f\u3044scope\uff08null\u306e\u5834\u5408\u306f\u72ec\u7acbscope\u306b\u306a\u308a\u307e\u3059\uff09\u3001\n\u7b2c\u4e09\u5f15\u6570\u304cbindings\u3057\u305f\u3044\u5024\u306b\u306a\u308a\u307e\u3059\u3002\n"}