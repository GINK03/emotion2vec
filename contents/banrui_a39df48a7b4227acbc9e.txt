{"context": " More than 1 year has passed since last update.Windows\u4e0a\u3067Bekrshelf \u00d7 Vagrant\u306e\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u610f\u5916\u3068\u9762\u5012\u3060\u3063\u305f\u306e\u3067\u76f4\u63a5Vagrant\u4e0a\u306bChefDK(Chef Development Kit)\u3067\u69cb\u7bc9\u3057\u305f\u624b\u9806\u3092\u30e1\u30e2\u3002\n\nVagrant\u3092\u6e96\u5099\nvagrant init #{Your Box}\n# \u597d\u307f\u306b\u5fdc\u3058\u3066\nvagrant plugin install sahara\n# Vagrant\u8d77\u52d5\nvagrant up\n# sandbox\u5b9f\u884c(sahara\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u307f)\nvagrant sandbox on\n\n\n\u30bf\u30fc\u30b2\u30c3\u30c8OS\u306bChefDK\u306e\u6e96\u5099\n\nProvisioning\u8a2d\u5b9a\n\u30bf\u30fc\u30b2\u30c3\u30c8\u3068\u306a\u308bOS\u306bGit\u3068ChefDK\u3092\u6e96\u5099\u3059\u308b\nprovisioning\u306b\u95a2\u3059\u308b\u9805\u76ee\u3092Vagrantfile\u306b\u8ffd\u8a18\n\nChefDK\nChefDK\u306b\u95a2\u3057\u3066\u306f\u3001\u5404OS\u7528\u306eChefDK\u3092\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002\n\nGit\nGit\u306b\u95a2\u3057\u3066\u306f\u3001yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u306e\u3067\u3001\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3068\u3057\u3066\u3044\u308b\u3002\nconfig.vm.provision \"shell\", inline: <<-EOT\n  yum -y install zlib-devel perl-ExtUtils-MakeMaker gettext\n  cd ~/\n  wget https://www.kernel.org/pub/software/scm/git/git-2.1.0.tar.gz\n  tar xvzf git-2.1.0.tar.gz\n  cd git-2.1.0\n  ./configure\n  make & install\n  wget https://opscode-omnibus-packages.s3.amazonaws.com/el/6/x86_64/chefdk-0.3.6-1.x86_64.rpm\n  rpm -Uvh chefdk-0.3.6-1.x86_64.rpm\nEOT\n\n\nVagrant reload & provisioning\u306e\u5b9f\u884c\nvagrant reload\nvagrant provision\n\n\n\u69cb\u7bc9\u3057\u305f\u74b0\u5883\u306e\u78ba\u8a8d\nvagrant ssh\ngit --version\n#\nbekrs -v\n#\nchef-solo -v\n#\n\n\u305d\u308c\u305e\u308c\u304c\u7121\u4e8b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\nBerkshelf\u306e\u6e96\u5099\u30fb\u5b9f\u884c\u301cchef-solo\u306e\u5b9f\u884c\u307e\u3067\uff08\u304a\u307e\u3051\uff09\n\nBerkshelf\u306e\u6e96\u5099\n\nBerkshelf\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\nberks init\n\n\nBerksfile\u3092\u7de8\u96c6\n\u203b\u4eca\u56de\u306frbenv\u3092\u304a\u8a66\u3057\u3066\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\nsite :opscode\n\ncookbook \"git\"\n\n\nCookbook\u306e\u6e96\u5099\nberkshelf\u3092\u7528\u3044\u3066\u3001Cookbook\u3092\u5916\u90e8\u304b\u3089\u53d6\u5f97\u3059\u308b\u3002\n\nCookbook\u306e\u53d6\u5f97\nberks vender\n\n\nnode\u30d5\u30a1\u30a4\u30eb\u306e\u6e96\u5099\nnodes/localhost.rb\n# recipe\n{\n  \"run_list\": [\n    \"recipe[git]\"\n  ]\n}\n\n\nsolo.rb\u306e\u6e96\u5099\nsolo.rb\ncookbook_path [\"./cookbooks\"]\nlog_level :info\n\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u8a18\u8ff0\u3092\u8ffd\u52a0\n\u53c2\u8003\uff1asolo.rb\n\nChef-Solo\u3092\u5b9f\u884c\n\u6e96\u5099\u304c\u6574\u3063\u305f\u3068\u3053\u308d\u3067\u3001chef-solo\u3092\u5b9f\u884c\nchef-solo -c solo.rb -j nodes/localhost.json\n\n\nWindows\u4e0a\u3067`Bekrshelf` \u00d7 `Vagrant`\u306e\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u610f\u5916\u3068\u9762\u5012\u3060\u3063\u305f\u306e\u3067\u76f4\u63a5Vagrant\u4e0a\u306b`ChefDK(Chef Development Kit)`\u3067\u69cb\u7bc9\u3057\u305f\u624b\u9806\u3092\u30e1\u30e2\u3002\n\n## Vagrant\u3092\u6e96\u5099\n```bash\nvagrant init #{Your Box}\n# \u597d\u307f\u306b\u5fdc\u3058\u3066\nvagrant plugin install sahara\n# Vagrant\u8d77\u52d5\nvagrant up\n# sandbox\u5b9f\u884c(sahara\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u307f)\nvagrant sandbox on\n```\n\n## \u30bf\u30fc\u30b2\u30c3\u30c8OS\u306bChefDK\u306e\u6e96\u5099\n###Provisioning\u8a2d\u5b9a\n\u30bf\u30fc\u30b2\u30c3\u30c8\u3068\u306a\u308bOS\u306b`Git`\u3068`ChefDK`\u3092\u6e96\u5099\u3059\u308b\nprovisioning\u306b\u95a2\u3059\u308b\u9805\u76ee\u3092Vagrantfile\u306b\u8ffd\u8a18\n##### ChefDK\nChefDK\u306b\u95a2\u3057\u3066\u306f\u3001\u5404OS\u7528\u306eChefDK\u3092[\u516c\u5f0f\u30b5\u30a4\u30c8](https://downloads.chef.io/chef-dk/)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002\n##### Git\nGit\u306b\u95a2\u3057\u3066\u306f\u3001`yum`\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u306e\u3067\u3001\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3068\u3057\u3066\u3044\u308b\u3002\n\n```ruby\nconfig.vm.provision \"shell\", inline: <<-EOT\n  yum -y install zlib-devel perl-ExtUtils-MakeMaker gettext\n  cd ~/\n  wget https://www.kernel.org/pub/software/scm/git/git-2.1.0.tar.gz\n  tar xvzf git-2.1.0.tar.gz\n  cd git-2.1.0\n  ./configure\n  make & install\n  wget https://opscode-omnibus-packages.s3.amazonaws.com/el/6/x86_64/chefdk-0.3.6-1.x86_64.rpm\n  rpm -Uvh chefdk-0.3.6-1.x86_64.rpm\nEOT\n```\n\n###Vagrant reload & provisioning\u306e\u5b9f\u884c\n\n```bash\nvagrant reload\nvagrant provision\n```\n\n##\u69cb\u7bc9\u3057\u305f\u74b0\u5883\u306e\u78ba\u8a8d\n\n```bash\nvagrant ssh\ngit --version\n#\nbekrs -v\n#\nchef-solo -v\n#\n```\n\u305d\u308c\u305e\u308c\u304c\u7121\u4e8b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\n## Berkshelf\u306e\u6e96\u5099\u30fb\u5b9f\u884c\u301cchef-solo\u306e\u5b9f\u884c\u307e\u3067\uff08\u304a\u307e\u3051\uff09\n\n### Berkshelf\u306e\u6e96\u5099\n\n##### Berkshelf\u3092\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n```bash\nberks init\n```\n\n#####Berksfile\u3092\u7de8\u96c6\n\u203b\u4eca\u56de\u306frbenv\u3092\u304a\u8a66\u3057\u3066\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```Bearksfile\nsite :opscode\n\ncookbook \"git\"\n```\n\n### Cookbook\u306e\u6e96\u5099\n`berkshelf`\u3092\u7528\u3044\u3066\u3001Cookbook\u3092\u5916\u90e8\u304b\u3089\u53d6\u5f97\u3059\u308b\u3002\n##### Cookbook\u306e\u53d6\u5f97\n```bash\nberks vender\n```\n\n### node\u30d5\u30a1\u30a4\u30eb\u306e\u6e96\u5099\n`nodes/localhost.rb`\n\n```ruby\n# recipe\n{\n  \"run_list\": [\n    \"recipe[git]\"\n  ]\n}\n```\n\n### solo.rb\u306e\u6e96\u5099\n`solo.rb`\n\n```ruby\ncookbook_path [\"./cookbooks\"]\nlog_level :info\n```\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u8a18\u8ff0\u3092\u8ffd\u52a0\n\u53c2\u8003\uff1a[solo.rb](http://docs.chef.io/config_rb_solo.html)\n\n### Chef-Solo\u3092\u5b9f\u884c\n\u6e96\u5099\u304c\u6574\u3063\u305f\u3068\u3053\u308d\u3067\u3001chef-solo\u3092\u5b9f\u884c\n\n```bash\nchef-solo -c solo.rb -j nodes/localhost.json\n```\n", "tags": ["Berkshelf", "vagrant", "Windows", "chef", "Ruby"]}