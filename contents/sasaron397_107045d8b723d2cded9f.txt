{"context": " More than 1 year has passed since last update.FuelPHP\u3067DB\u306bPostgreSQL\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001DELETE\u6587\u3067 LIMIT\u53e5 \u306b\u304a\u3044\u3066\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u30b3\u30a2\u30af\u30e9\u30b9\u304c\u52dd\u624b\u306b LIMIT 0, 1 \u3092\u4ed8\u3051\u3066\u3057\u307e\u3046\u305f\u3081\u3067\u3059\u3002\u305d\u3053\u3067\u3001 \u30b3\u30a2\u30af\u30e9\u30b9\u3092\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9 \u3057\u3066\u3001 LIMIT 0, 1 \u3092\u4ed8\u52a0\u3057\u306a\u3044\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\n\nfuel/app/bootstrap.php\nAutoloader::add_classes(array(\n\n    // ~~\u4e2d\u7565~~\n\n   // LIMIT\u5236\u5fa1\u3092\u5916\u3059(\u62e1\u5f35\u30af\u30e9\u30b9\u306e\u30d1\u30b9\u306f\u4efb\u610f\u3067\u3059)\n   'Database_Query_Builder_Delete' => APPPATH.'classes/extensions/core/classes/database/query/builder/delete.php',\n   'Database_Query_Builder_Update' => APPPATH.'classes/extensions/core/classes/database/query/builder/update.php',\n));\n\n\n\n\u62e1\u5f35\u30af\u30e9\u30b9\n\nAPPPATH.'classes/extension/core/classes/database/query/builder/delete.php'\nclass Database_Query_Builder_Delete extends \\Fuel\\Core\\Database_Query_Builder_Delete\n{\n    public function compile($db = null)\n    {\n        // ~~\u4e2d\u7565~~\n\n        // substr($db->_db_type, 0, 5) !== 'pgsql' \u3092\u8ffd\u52a0\n        // update.php\u306b\u3082\u3001\u540c\u69d8\u306e\u8ffd\u52a0\u3092\u884c\u3044\u307e\u3059\n        if ($this->_limit !== NULL && substr($db->_db_type, 0, 6) !== 'sqlite' && substr($db->_db_type, 0, 5) !== 'pgsql')\n        {\n            // Add limiting\n            $query .= ' LIMIT '.$this->_limit;\n        }\n\n        // ~~\u4e2d\u7565~~\n    }\n}\n\n\n\n\u5099\u8003\n\nFuelPHP\u304c mysql\u3092\u60f3\u5b9a \u3057\u3066\u4f5c\u3089\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u306e\u3088\u3046\u306a\u30c8\u30e9\u30d6\u30eb\u304c\u767a\u751f\u3057\u307e\u3059\nFuelPHP 2.0\u3067\u306f\u3001\u6050\u3089\u304f\u4fee\u6b63\u3055\u308c\u3066\u304f\u308b\u3068\u601d\u3044\u307e\u3059\nPostgreSQL\u3067\u306f\u3001DELETE\u6587\u306bLIMIT\u53e5\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093\n\nFuelPHP\u3067DB\u306bPostgreSQL\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001DELETE\u6587\u3067 **LIMIT\u53e5** \u306b\u304a\u3044\u3066\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u306f\u3001\u30b3\u30a2\u30af\u30e9\u30b9\u304c\u52dd\u624b\u306b `LIMIT 0, 1` \u3092\u4ed8\u3051\u3066\u3057\u307e\u3046\u305f\u3081\u3067\u3059\u3002\u305d\u3053\u3067\u3001 **\u30b3\u30a2\u30af\u30e9\u30b9\u3092\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9** \u3057\u3066\u3001 `LIMIT 0, 1` \u3092\u4ed8\u52a0\u3057\u306a\u3044\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n## \u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\n```php:fuel/app/bootstrap.php\nAutoloader::add_classes(array(\n\n    // ~~\u4e2d\u7565~~\n\n   // LIMIT\u5236\u5fa1\u3092\u5916\u3059(\u62e1\u5f35\u30af\u30e9\u30b9\u306e\u30d1\u30b9\u306f\u4efb\u610f\u3067\u3059)\n   'Database_Query_Builder_Delete' => APPPATH.'classes/extensions/core/classes/database/query/builder/delete.php',\n   'Database_Query_Builder_Update' => APPPATH.'classes/extensions/core/classes/database/query/builder/update.php',\n));\n```\n\n## \u62e1\u5f35\u30af\u30e9\u30b9\n```php:APPPATH.'classes/extension/core/classes/database/query/builder/delete.php'\nclass Database_Query_Builder_Delete extends \\Fuel\\Core\\Database_Query_Builder_Delete\n{\n    public function compile($db = null)\n    {\n        // ~~\u4e2d\u7565~~\n\n        // substr($db->_db_type, 0, 5) !== 'pgsql' \u3092\u8ffd\u52a0\n        // update.php\u306b\u3082\u3001\u540c\u69d8\u306e\u8ffd\u52a0\u3092\u884c\u3044\u307e\u3059\n        if ($this->_limit !== NULL && substr($db->_db_type, 0, 6) !== 'sqlite' && substr($db->_db_type, 0, 5) !== 'pgsql')\n        {\n            // Add limiting\n            $query .= ' LIMIT '.$this->_limit;\n        }\n\n        // ~~\u4e2d\u7565~~\n    }\n}\n```\n\n## \u5099\u8003\n\n1. FuelPHP\u304c **mysql\u3092\u60f3\u5b9a** \u3057\u3066\u4f5c\u3089\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u306e\u3088\u3046\u306a\u30c8\u30e9\u30d6\u30eb\u304c\u767a\u751f\u3057\u307e\u3059\n2. FuelPHP 2.0\u3067\u306f\u3001\u6050\u3089\u304f\u4fee\u6b63\u3055\u308c\u3066\u304f\u308b\u3068\u601d\u3044\u307e\u3059\n3. PostgreSQL\u3067\u306f\u3001DELETE\u6587\u306bLIMIT\u53e5\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093\n", "tags": ["FuelPHP", "PHP", "PostgreSQL"]}