{"context": " More than 1 year has passed since last update.\u5148\u65e5\u66f8\u3044\u305fMQTT\u3067IRKit\u3084Philips Hue\u306e\u72b6\u6cc1\u78ba\u8a8d\u30fb\u64cd\u4f5c\u3092\u96c6\u7d04\u304c\u601d\u3044\u306e\u307b\u304b\u8aad\u3093\u3067\u3044\u305f\u3060\u3051\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u3084\u3063\u3071\u308aIoT\u3063\u3066\u30db\u30c3\u30c8\u306a\u3093\u3060\u306a\u3042\u3068\u3044\u3046\u611f\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u3053\u3067\u4eca\u56de\u306fPepper\u3067MQTT\u3092\u6271\u3046\u30cd\u30bf\u3092\u3002\u4eca\u56de\u306f\u300c\u30e1\u30e2\u30ea(ALMemory)\u6a5f\u69cb\u3068MQTT\u3092\u76f8\u4e92\u63a5\u7d9a\u3057\u305f\u3089\u30af\u30e9\u30a6\u30c9\u9023\u643a\u3068\u304b\u5916\u90e8\u9023\u643a\u30a2\u30d7\u30ea\u3092\u697d\u306b\u66f8\u3051\u308b\u3093\u3058\u3083\u306d\u300d\u3068\u3044\u3046\u6c17\u304c\u3057\u305f\u306e\u3067\u305d\u3046\u3044\u3046\u611f\u3058\u306e\u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u3063\u305f\u3068\u3044\u3046\u8a71\u3002\nPepper\u3067MQTT\u3092\u6271\u3046\u3053\u3068\u81ea\u4f53\u306b\u95a2\u3057\u3066\u306fSuna\u3055\u3093\u304c\u3059\u3067\u306b\u8a66\u3057\u3066\u304a\u3089\u308c\u308b\u306e\u3067\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\u975e\u5e38\u306b\u4e01\u5be7\u306b\u307e\u3068\u3081\u3066\u304f\u3060\u3055\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u6280\u8853\u7684\u306a\u80cc\u666f\u3001\u8981\u7d20\u306a\u3069\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u304f\u306e\u304c\u3088\u3044\u304b\u3068\u3002\n\nMQTT Publisher \u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308b\nMQTT Publisher \u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308b \u305d\u306e2\nMQTT Subscriber \u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308b\n\n\u3064\u3044\u3067\u306bPython\u30dc\u30c3\u30af\u30b9\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u3082\u306e\u3092\u3001\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u7c21\u5358\u306b\u914d\u5e03\u3059\u308b\u306b\u306f\u3069\u3046\u3059\u308b\u304b\u3001\u307f\u305f\u3044\u306a\u500b\u4eba\u7684Tips\u306a\u3093\u304b\u3082\u3064\u3089\u3064\u3089\u3068\u3002\n\u3042\u304f\u307e\u3067\u3082\u500b\u4eba\u3068\u3057\u3066\u306e\u958b\u767a\u3068\u3057\u3066\u3084\u3063\u3066\u308b\u308f\u3051\u3067\u3059\u304c\u3001\u4e00\u901a\u308a\u3067\u304d\u305f\u306e\u3067\u4f7f\u3044\u65b9\u3084\u8003\u3048\u65b9\u3092\u30e1\u30e2\u3059\u308b\u611f\u3058\u3067\u3002\n\nALMemory\u3068MQTT\u3068Pub/Sub\u30e2\u30c7\u30eb\u3068\nPepper\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u57fa\u76e4\u3068\u3057\u3066\u3001NAOqi\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308b\u308f\u3051\u3067\u3059\u304c\u3001\u3053\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u4e2d\u5fc3\u306b\u306f ALMemory \u3068\u3044\u3046\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3057\u305f\u308a\u3001\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8cfc\u8aad\u3057\u305f\u308a\u3001\u5024\u3092\u30bb\u30c3\u30c8\u3057\u305f\u308a\u53d6\u5f97\u3057\u305f\u308a\u3068\u3044\u3063\u305f\u3053\u3068\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3082\u306e\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306e\u30bb\u30f3\u30b5\u30fc\u306e\u76e3\u8996\u3084\u5024\u306e\u53d6\u5f97\u306f\u57fa\u672c\u7684\u306b\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4ecb\u3057\u3066\u304a\u3053\u306a\u3046\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002(\u8a73\u3057\u304f\u306fALMemory\u3092\u4ecb\u3057\u305f\u30a4\u30d9\u30f3\u30c8\u3001\u5024\u306e\u53d6\u5f97\u3042\u305f\u308a\u3092\u53c2\u7167)\n\u4e00\u65b9\u3001MQTT\u306f\u6642\u96e8\u5802\u3055\u3093\u306e MQTT\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u77e5\u308b \u3042\u305f\u308a\u3092\u8aad\u3093\u3067\u3044\u305f\u3060\u304f\u3068\u308f\u304b\u308b\u901a\u308a\u3001\u3044\u308d\u3044\u308d\u306a\u30c7\u30d0\u30a4\u30b9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u767a\u884c\u3057\u305f\u308a\u3001\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u767a\u884c\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8cfc\u8aad\u3057\u305f\u308a\u3068\u3044\u3063\u305f\u3053\u3068\u3092\u5b9f\u73fe\u3059\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3059\u3002MQTT\u30b5\u30fc\u30d0\u30fc(MQTT Broker)\u3068\u3044\u3046\u3082\u306e\u3092\u901a\u3057\u3066\u3001\u3055\u307e\u3056\u307e\u306a\u30c7\u30d0\u30a4\u30b9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u767a\u884c\u3001\u8cfc\u8aad\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u767a\u884c\u3057\u305f\u308a\u3001\u305d\u308c\u3092\u8cfc\u8aad\u3057\u305f\u308a\u3068\u3044\u3063\u305f\u30e2\u30c7\u30eb\u3092Pub/Sub\u30e2\u30c7\u30eb\u3068\u547c\u3076\u308f\u3051\u3067\u3059\u304c\u3001ALMemory\u3082MQTT\u3082\u304a\u3093\u306a\u3058\u3088\u3046\u306a\u30e2\u30c7\u30eb\u3060\u3057\u304d\u3063\u3068\u89aa\u548c\u6027\u9ad8\u3044\u3088\u306d\u3048\u307f\u305f\u3044\u306a\u6c17\u6301\u3061\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u3002\n\nPepper\u3068\u30af\u30e9\u30a6\u30c9\n\u30a4\u30d9\u30f3\u30c8\u306a\u3069\u3067Pepper\u3067\u306e\u958b\u767a\u3092\u304a\u624b\u4f1d\u3044\u3057\u3066\u3044\u3066\u3001\u300cPepper\u3092\u3044\u308d\u3044\u308d\u306a\u5916\u90e8\u306e\u30b5\u30fc\u30d3\u30b9\u3068\u9023\u643a\u3055\u305b\u308b\u3053\u3068\u3067\u3001Pepper\u81ea\u8eab\u3060\u3051\u3067\u306a\u304f\u30b5\u30fc\u30d3\u30b9\u306e\u4fa1\u5024\u3082\u3055\u3089\u306b\u9ad8\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3060\u308d\u3046\u300d\u3068\u3044\u3046\u6c17\u6301\u3061\u306f\u3069\u3093\u3069\u3093\u5f37\u304f\u306a\u308a\u307e\u3059\u3002\n\u5404\u30b5\u30fc\u30d3\u30b9\u3068\u3082\u306b\u975e\u5e38\u306b\u4fbf\u5229\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u63d0\u4f9b\u3057\u3066\u304f\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u304c\u3001Pepper\u306e\u958b\u767a\u30c4\u30fc\u30ebChoregraphe\u304c\u63d0\u4f9b\u3059\u308b\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u76f4\u63a5\u7684\u306b\u3053\u308c\u3089\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u3053\u3068\u306f\u306a\u304b\u306a\u304b\u96e3\u3057\u304f\u3001\u591a\u304f\u306e\u5834\u5408\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3068\u3044\u3046\u58c1\u3092\u907f\u3051\u3066\u901a\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u3001NAOqi\u306fPython\u3092\u30d9\u30fc\u30b9\u3068\u3057\u305f\u5b9f\u884c\u74b0\u5883\u3067\u306f\u3042\u308b\u3082\u306e\u306e\u3001pip\u306e\u3088\u3046\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u3092\u81ea\u7531\u306b\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u308a\u3001\u300cNAOqi\u56fa\u6709\u306e\u304a\u4f5c\u6cd5\u300d\u307f\u305f\u3044\u306a\u3082\u306e\u304c\u3042\u308a\u3001\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u304c\u7c21\u5358\u306a\u74b0\u5883\u304b\u3068\u3044\u3046\u3068\u305d\u3046\u3067\u3082\u306a\u3044\u306e\u304c\u73fe\u72b6\u3067\u3059\u3002\n\u3057\u304b\u3082\u3001Pepper\u306eCPU\u3084\u30e1\u30e2\u30ea\u306f\u4e00\u822c\u8ca9\u58f2\u306b\u5411\u3051\u3066\u5f37\u5316\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306e\u3001\u30bb\u30fc\u30d5\u30c6\u30a3\u306a\u3069\u306e\u81ea\u5f8b\u7684\u306a\u5236\u5fa1\u3084\u611f\u60c5\u30de\u30c3\u30d7\u306e\u3088\u3046\u306a\u90e8\u5206\u306b\u8a08\u7b97\u80fd\u529b\u3092\u4f7f\u308f\u306d\u3070\u306a\u3089\u305a\u3001\u30a2\u30d7\u30ea\u3067\u8a08\u7b97\u3092\u3076\u3093\u56de\u3059\u306e\u3082\u554f\u984c\u304c\u3042\u308a\u305d\u3046\u3067\u3059\u3002\u8a8d\u8b58\u51e6\u7406\u306a\u3069\u91cd\u305f\u3044\u8a08\u7b97\u306f\u30af\u30e9\u30a6\u30c9\u3068\u3044\u3046\u304bPepper\u5916\u306e\u3069\u3053\u304b\u306e\u30b5\u30fc\u30d0\u306b\u914d\u7f6e\u3059\u308b\u3068\u3044\u3063\u305f\u914d\u616e\u3092\u3057\u305f\u308a\u3059\u308b\u5fc5\u8981\u304c\u51fa\u3066\u304d\u305d\u3046\u3067\u3059\u3002\n\nMQTT Adapter\u30dc\u30c3\u30af\u30b9: ALMemory-MQTT\u76f8\u4e92\u63a5\u7d9a\u3067Pepper-\u30af\u30e9\u30a6\u30c9\u306e\u9023\u643a\n\u305d\u3093\u306a\u308f\u3051\u3067\u3001ALMemory\u3068MQTT\u3092\u76f8\u4e92\u63a5\u7d9a\u3059\u308b\u3053\u3068\u3067\u3001ALMemory\u3092\u6271\u3046\u30dc\u30c3\u30af\u30b9\u3060\u3051\u3067\u3001\u30af\u30e9\u30a6\u30c9\u306a\u3069\u5916\u90e8\u306e\u30b7\u30b9\u30c6\u30e0\u3068\u9023\u643a\u3059\u308b\u3053\u3068\u304c\u7c21\u5358\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3063\u305f\u308f\u3051\u3067\u3059\u3002\n\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u306b\u306f\u3042\u3089\u304b\u3058\u3081\u3001 ALMemory\u4e2d\u306e\u30ad\u30fc \u3068 MQTT\u306e\u30c8\u30d4\u30c3\u30af \u306e\u5bfe\u5fdc\u3065\u3051\u3092\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u3053\u306e\u5bfe\u5fdc\u3065\u3051\u3068MQTT Broker\u3078\u306e\u63a5\u7d9a\u60c5\u5831\u3092\u4e0e\u3048\u308b\u3053\u3068\u3067\u3001\u3042\u3068\u306fMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u8d77\u52d5\u3057\u3066\u304a\u304f\u3060\u3051\u3067\n\n\u30a2\u30d7\u30ea\u304cRaise Event\u30dc\u30c3\u30af\u30b9\u3067\u3001MQTT\u306e\u30c8\u30d4\u30c3\u30af\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3059\u308c\u3070\u3001MQTT\u7d4c\u7531\u3067\u305d\u306e\u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\u30a2\u30d7\u30ea\u304cSubscribe to Event\u30dc\u30c3\u30af\u30b9\u306a\u3069\u3067\u3001MQTT\u306e\u30c8\u30d4\u30c3\u30af\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u8cfc\u8aad\u3059\u308c\u3070\u3001MQTT\u7d4c\u7531\u3067\u3001\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u305d\u306e\u30c8\u30d4\u30c3\u30af\u306b\u5bfe\u3057\u3066\u767a\u884c\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\n\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u52d5\u3051\u308b\u3068\u9762\u767d\u305d\u3046\u304b\u306a\u3068\u3002\n\nMQTT Adapter\u30dc\u30c3\u30af\u30b9: \u4f7f\u3044\u65b9\n\u305d\u3093\u306a\u308f\u3051\u3067MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\u4ee5\u524d\u306eSubscribe to Event\u30dc\u30c3\u30af\u30b9\u3092qi Framework\u3067\u66f8\u304d\u306a\u304a\u3057\u3066\u307f\u305f\u8a71\u3068\u540c\u3058\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u8ffd\u52a0\u3057\u3066\u307f\u3066\u3044\u307e\u3059\u3002GitHub\u306f\u4ee5\u4e0b\u3001\n\n\nhttps://github.com/yacchin1205/pepper-web-boxes \n\nweb-boxes \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\u65b9\u6cd5\u3001\u5229\u7528\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\n\u30a2\u30d7\u30ea\u306bMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u914d\u7f6e\u3059\u308b\u306b\u306f\u3001\u307e\u305a\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3092Choregraphe\u3067\u958b\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\n[\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea]\u30d1\u30cd\u30eb\u304b\u3089[\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u958b\u304f]\u3092\u9078\u629e\u3059\u308b\n\n\n\nGitHub\u304b\u3089ZIP\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3082\u3057\u304f\u306fclone\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u3046\u3061\u3001web-boxes\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u3092\u9078\u629e\u3059\u308b\n\n\u306a\u304a\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u7a2e\u985e\u306b \u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(Directories) \u3092\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u30d1\u30cd\u30eb\u306b web-boxes \u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u73fe\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\n\n\n\n\u3053\u308c\u3067MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u542b\u3080web-boxes\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e\u914d\u7f6e\nweb-boxes\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e Network > MQTT Adapter\u30dc\u30c3\u30af\u30b9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5229\u7528\u3057\u307e\u3059\u3002\n\n\nweb-boxes \u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e Network > MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u30d5\u30ed\u30fc\u30c0\u30a4\u30a2\u30b0\u30e9\u30e0\u30d1\u30cd\u30eb\u306b\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3059\u308b\n\n\u3053\u306eMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3067\u306f paho \u3068\u3044\u3046\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306fMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3068\u81ea\u52d5\u7684\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4e2d\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e\u8a2d\u5b9a\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u958b\u304d\u3001\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\n\u4ee5\u4e0b\u306e\u5024\u304c\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u3002\n\nHost ... MQTT Broker\u306e\u30db\u30b9\u30c8\u540d\nPort ... MQTT Broker\u306e\u30dd\u30fc\u30c8\u756a\u53f7\nUsername ... MQTT Broker\u306e\u63a5\u7d9a\u7528\u30e6\u30fc\u30b6\u540d\nPassword ... MQTT Broker\u306e\u63a5\u7d9a\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\nKey-Topic Bindings ... ALMemory\u306e\u30ad\u30fc\u3068MQTT\u306e\u30c8\u30d4\u30c3\u30af\u3068\u306e\u5bfe\u5fdc\u3065\u3051\u3002\u8a73\u7d30\u306f\u5f8c\u8ff0\n\n\n\n\n\u9069\u5f53\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n\nonStart\u5165\u529b\u3067MQTT-ALMemory\u9593\u306e\u76f8\u4e92\u63a5\u7d9a\u3092\u958b\u59cb ... \u63a5\u7d9a\u51e6\u7406\u5b9f\u884c\u5f8c\u3001onConnected\u51fa\u529b\u304c\u767a\u706b\u3055\u308c\u308b\u3002\u4ee5\u5f8conStop\u5165\u529b\u304c\u3055\u308c\u308b\u307e\u3067\u3001ALMemory-MQTT\u9593\u306e\u30a4\u30d9\u30f3\u30c8\u4e2d\u7d99\u304c\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\nonStop\u5165\u529b\u3067\u76f8\u4e92\u63a5\u7d9a\u7d42\u4e86 ... \u63a5\u7d9a\u7d42\u4e86\u3059\u308b\u3068onStopped\u51fa\u529b\u304c\u767a\u706b\u3055\u308c\u308b\n\u30a8\u30e9\u30fc\u767a\u751f\u6642 ... onError\u51fa\u529b\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3068\u3082\u306b\u767a\u706b\u3055\u308c\u308b\n\n\n\n\u4ee5\u4e0b\u3001\u5b9a\u7fa9\u65b9\u6cd5\u306e\u8a73\u7d30\u3068\u3001\u5b9f\u884c\u4f8b\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30ad\u30fc-\u30c8\u30d4\u30c3\u30af\u306e\u5bfe\u5fdc\u95a2\u4fc2\u306e\u5b9a\u7fa9\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e[Key-Topic Bindings]\u8a2d\u5b9a\u306b\u3088\u3063\u3066\u3001ALMemory\u306e\u3069\u306e\u30ad\u30fc\u306e\u5024\u3068MQTT\u306e\u3069\u306e\u30c8\u30d4\u30c3\u30af\u306e\u5024\u3092\u7d50\u3073\u3064\u3051\u308b\u304b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5bfe\u5fdc\u95a2\u4fc2\u306f\u3001ALMemory\u306e\u30ad\u30fc:MQTT\u306e\u30c8\u30d4\u30c3\u30af \u306a\u3069\u3068\u30b3\u30ed\u30f3\u3067\u533a\u5207\u3063\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002;\u3067\u533a\u5207\u308b\u3053\u3068\u3067\u8907\u6570\u306e\u5bfe\u5fdc\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30ad\u30fc\u540d\u3001\u30c8\u30d4\u30c3\u30af\u540d\u3068\u3082\u306b\u3001\u6700\u5f8c\u306b /#\u3092\u4ed8\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u3042\u308b\u30ad\u30fc\u30fb\u30c8\u30d4\u30c3\u30af\u4ee5\u4e0b\u306e\u3082\u306e\u3092\u307e\u3068\u3081\u3066\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\n\n\nTestMQTT/Hoge/#:test-yacchin1205/Hoge/# \u306a\u3069\u3068\u3059\u308b\u3068\u3001ALMemory\u3067 TestMQTT/Hoge/ \u304b\u3089\u306f\u3058\u307e\u308b\u540d\u524d\u3001\u4f8b\u3048\u3070 TestMQTT/Hoge/A \u306a\u3069\u3068\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u884c\u3059\u308b\u3068\u3001MQTT\u306b\u306f test-yacchin1205/Hoge/A \u3068\u3044\u3046\u30c8\u30d4\u30c3\u30af\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u767a\u884c\u3055\u308c\u307e\u3059\nALMemory\u306e TestMQTT/Hoge/B \u3068\u3044\u3046\u30a4\u30d9\u30f3\u30c8\u3092\u8cfc\u8aad\u3059\u308b\u3053\u3068\u3067MQTT\u306e test-yacchin1205/Hoge/B \u3068\u3044\u3046\u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\n\n\u307e\u305f\u3001 ALMemory\u306e\u30ad\u30fc:MQTT\u306e\u30c8\u30d4\u30c3\u30af:\u578b \u306a\u3069\u3068\u3059\u308b\u3053\u3068\u3067\u3001\u5024\u306e\u5909\u63db\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u578b\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001ALMemory-MQTT\u306e\u30a4\u30d9\u30f3\u30c8\u5909\u63db\u6642\u306b\u5024\u306f\u5909\u63db\u305b\u305a\u3001\u305d\u306e\u307e\u307e\u306e\u578b\u3067\u5024\u3092\u9001\u308d\u3046\u3068\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001MQTT\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u578b\u306e\u5024\u3092\u6301\u3064\u30a4\u30d9\u30f3\u30c8\u306e\u5834\u5408\u3001\u767a\u884c\u306b\u5931\u6557\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\n\u578b\u304cstr\u306e\u5834\u5408\u3001ALMemory\u2192MQTT\u5909\u63db\u6642\u306b\u6587\u5b57\u5217\u578b\u306b\u5909\u63db\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002MQTT\u2192ALMemory\u3082\u540c\u69d8\u3067\u3059\n\u578b\u304cjson\u306e\u5834\u5408\u3001ALMemory\u2192MQTT\u5909\u63db\u6642\u306bjson\u3078\u306e\u30c0\u30f3\u30d7\u3092\u304a\u3053\u306a\u3044\u307e\u3059\u3002MQTT\u2192ALMemory\u5909\u63db\u6642\u306fjson\u306e\u89e3\u6790\u3092\u304a\u3053\u306a\u3044\u307e\u3059\n\n\u4ee5\u4e0b\u3001\u4f7f\u3044\u65b9\u306e\u4f8b\u3092\u30fb\u30fb\u30fb\n\nMQTT\u304b\u3089Pepper\u306b\u5024\u3092\u6e21\u3059\u4f8b: \u5225\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3089Pepper\u306bSay\u6307\u793a\n\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3089MQTT Adapter\u3092\u7d4c\u7531\u3057\u3066Pepper\u306eALMemory\u306b\u5024\u3092\u653e\u308a\u8fbc\u307f\u3001\u305d\u308c\u3092\u4f7f\u3063\u3066Say Text\u3059\u308b\u307f\u305f\u3044\u306a\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u306fGitHub\u306e samples/mqtt-say-text \u53c2\u7167\u3002\n\n\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u914d\u7f6e\u3001\u8a2d\u5b9a\u3059\u308b\u3002\u4eca\u56de\u306f\u4f8b\u3068\u3057\u3066\u3001\n\nMQTT\u306eBroker\u306b\u306f\u3001 test.mosquitto.org \u3092\u5229\u7528\u3059\u308b\nMQTT\u306e\u30c8\u30d4\u30c3\u30af test-yacchin1205/sample1/Message \u304c\u3001ALMemory\u306e MQTT/Test/Sample1/Message \u3068\u76f8\u4e92\u63a5\u7d9a\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n\n\n\n\n\u30d5\u30ed\u30fc\u30c0\u30a4\u30a2\u30b0\u30e9\u30e0\u4e2d\u306b MQTT/Test/Sample1/Message \u30a4\u30d9\u30f3\u30c8\u3092\u8cfc\u8aad\u3059\u308b\u5165\u529b\u3092\u4f5c\u6210\u3057\u3001Say Text\u30dc\u30c3\u30af\u30b9\u306b\u3064\u306a\u3052\u308b\n\n\n\n\u8a66\u3057\u306b\u3001\u3053\u306e\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3057\u305f\u72b6\u614b\u3067\u3001\u624b\u5143\u306eRaspberry Pi\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3042\u3063\u305fmosquitto_pub\u30b3\u30de\u30f3\u30c9\u3067MQTT\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u3066\u307f\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001 test-yacchin1205/sample1/Message \u30c8\u30d4\u30c3\u30af(ALMemory\u3067\u306f MQTT/Test/Sample1/Message)\u306b MQTT\u304b\u3089\u3053\u3093\u306b\u3061\u306f \u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\npi@raspberrypi ~ $ mosquitto_pub -h test.mosquitto.org -t test-yacchin1205/sample1/Message -m MQTT\u304b\u3089\u3053\u3093\u306b\u3061\u306f\n\n\u3059\u308b\u3068\u3001ALMemory\u7d4c\u7531\u3067Say Text\u30dc\u30c3\u30af\u30b9\u304c\u53cd\u5fdc\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u3088\u3046\u306bMQTT\u3092\u7d4c\u7531\u3059\u308b\u3053\u3068\u3067\u3001Pepper\u306e\u5916\u304b\u3089Pepper\u306b\u5bfe\u3057\u3066\u7c21\u5358\u306b\u6307\u793a\u3092\u6295\u3052\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nPepper\u304b\u3089MQTT\u306b\u5024\u3092\u6e21\u3059\u4f8b: Pepper\u304b\u3089Hue\u3092\u5236\u5fa1\nMQTT\u3067IRKit\u3084Philips Hue\u306e\u72b6\u6cc1\u78ba\u8a8d\u30fb\u64cd\u4f5c\u3092\u96c6\u7d04\u3067\u7d39\u4ecb\u3057\u305f\u3088\u3046\u306b\u3001\u6211\u304c\u5bb6\u306eHue\u306fMQTT\u7d4c\u7531\u3067\u64cd\u4f5c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4eca\u56de\u306fPepper\u306e\u982d\u3092\u306a\u3067\u308b\u3053\u3068\u3067Hue\u306e\u30e9\u30f3\u30d7\u306e\u70b9\u706f\u3092\u5236\u5fa1\u3059\u308b\u3088\u3046\u306a\u4f8b\u3092\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\n\nMQTT\u3068Hue\u306e\u5bfe\u5fdc\n\u81ea\u5b85\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b username/hue/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx(\u30d6\u30ea\u30c3\u30b8\u306eUDN)/light/x(\u30e9\u30a4\u30c8\u306eID)/status \u30c8\u30d4\u30c3\u30af\u306bJSON\u30c7\u30fc\u30bf\u3092\u6295\u3052\u3064\u3051\u308b\u3053\u3068\u3067\u30e9\u30a4\u30c8\u306e\u70b9\u706f\u72b6\u614b\u3092\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\nusername/hue/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx/light/x/status {\"on\": true, \"saturation\": 254, \"brightness\": 204, \"hue\": 34297}\n\n\u3053\u3053\u3067\u306f\u3001ALMemory\u306bHue\u306e\u70b9\u706f\u72b6\u614b\u306b\u95a2\u3059\u308b\u5024\u3092\u4e0e\u3048\u308b\u3068\u3001Hue\u306e\u72b6\u614b\u304c\u5909\u308f\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u308f\u3051\u3067\u3059\u304c\u3001\u3053\u306e\u3088\u3046\u306aJSON\u30c7\u30fc\u30bf(dict)\u3092\u4e0e\u3048\u308b\u3068\u3001ALMemory\u3067\u306f [[\"on\", True], [\"saturation\", 254], [\"brightness\", 204], [\"hue\", 34297]] \u306e\u3088\u3046\u306a\u8868\u73fe\u306b\u81ea\u52d5\u7684\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\n\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\u30a2\u30d7\u30ea\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002ID, \u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3069\u306e\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u6982\u8981\u306e\u307f\u30fb\u30fb\u30fb\n\n\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u914d\u7f6e\u3001\u8a2d\u5b9a\u3059\u308b \n\nMQTT\u306eBroker\u306b\u306f\u3001 Sango \u3092\u5229\u7528\u3059\u308b\u3002\u30db\u30b9\u30c8\u3001\u30dd\u30fc\u30c8\u3001\u30e6\u30fc\u30b6\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306bSango\u304b\u3089\u6307\u5b9a\u3055\u308c\u305f\u60c5\u5831\u3092\u5229\u7528\u3059\u308b\n\n\u30e6\u30fc\u30b6\u540d/hue/\u30c8\u30d4\u30c3\u30af\u4ee5\u4e0b\u306bHue\u306e\u30a4\u30d9\u30f3\u30c8\u3092Publish\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u3059\u3079\u3066\u306e\u30c8\u30d4\u30c3\u30af\u304c\u3001ALMemory\u306eMQTT/Hue/\u304b\u3089\u59cb\u307e\u308b\u30ad\u30fc\u3068\u76f8\u4e92\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u3002\u5f62\u5f0f\u306f json \u3068\u3059\u308b\n\n\n\n\nSensing > Touch > Tactile Head\u30dc\u30c3\u30af\u30b9\u3068\u65b0\u898fPython\u30dc\u30c3\u30af\u30b9(Hue On, Hue Off)\u3001Programming > Memory > Raise Event\u30dc\u30c3\u30af\u30b9\u3092\u914d\u7f6e\u3059\u308b\n\n\n\nHue On\u30dc\u30c3\u30af\u30b9\u3067\u306f\u3001Hue\u3092\u30aa\u30f3\u306b\u3059\u308b\u3088\u3046\u306a\u5024\u3092\u51fa\u529b\u3059\u308b\u3088\u3046\u306b\u3059\u308b\ndef onInput_onStart(self):\n    self.onStopped([[\"on\", True], [\"saturation\", 254], [\"brightness\", 204], [\"hue\", 34297]])\n\n\n\nHue Off\u30dc\u30c3\u30af\u30b9\u3067\u306f\u3001Hue\u3092\u30aa\u30d5\u306b\u3059\u308b\u3088\u3046\u306a\u5024\u3092\u51fa\u529b\u3059\u308b\u3088\u3046\u306b\u3059\u308b\ndef onInput_onStart(self):\n    self.onStopped([[\"on\", False], [\"saturation\", 254], [\"brightness\", 204], [\"hue\", 34297]])\n\n\n\nHue On\u30dc\u30c3\u30af\u30b9\u3001Hue Off\u30dc\u30c3\u30af\u30b9\u306b\u306fRaise Event\u30dc\u30c3\u30af\u30b9\u3092\u3064\u306a\u304e\u3001Hue\u306e\u30d6\u30ea\u30c3\u30b8\u3001\u30e9\u30a4\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u30ad\u30fc\u3092\u6307\u5b9a\u3059\u308b\n\n\n\n\u3053\u308c\u3060\u3051\u3067\u3001\u982d\u306e\u524d\u65b9\u3092\u30bf\u30c3\u30c1\u3059\u308b\u3068\u3001\u70b9\u706f\u3092\u6307\u793a\u3059\u308b\u30c7\u30fc\u30bf\u304cMQTT\u7d4c\u7531\u3067Hue\u30d6\u30ea\u30c3\u30b8\u306e\u5236\u5fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u4f1d\u3048\u3089\u308c\u3001\u30e9\u30f3\u30d7\u304c\u30aa\u30f3\u306b\u306a\u3063\u305f\u308a\u3001\u5f8c\u65b9\u3092\u30bf\u30c3\u30c1\u3059\u308b\u3068\u30aa\u30d5\u306b\u306a\u3063\u305f\u308a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u5c0f\u30cd\u30bf: \u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306bPython\u30b3\u30fc\u30c9\u3092\u542b\u3081\u308b\nPepper\u7528Tweet\u30dc\u30c3\u30af\u30b9\u3092\u3064\u304f\u308b\u3067\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306bPython\u30e2\u30b8\u30e5\u30fc\u30eb(.py)\u3092\u542b\u3081\u3001Python\u30dc\u30c3\u30af\u30b9\u304b\u3089import\u3059\u308b\u305f\u3081\u306e\u65b9\u6cd5\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\u3053\u306e\u624b\u9806\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u6642\u306b\u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc\u306a\u3069\u306e\u624b\u9806\u304c\u5fc5\u8981\u3067\u3001\u5b9f\u88c5\u306b\u5229\u7528\u3059\u308b\u306e\u306f\u5c11\u3005\u9762\u5012\u3067\u3059\u3002\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u4e2d\u306b\u3053\u308c\u3089\u306ePython\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u6301\u3057\u3066\u304a\u304d\u3001\u30dc\u30c3\u30af\u30b9\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30b3\u30d4\u30fc\u3057\u305f\u969b\u306b\u3001\u4e00\u7dd2\u306bPython\u30b3\u30fc\u30c9\u3082\u30b3\u30d4\u30fc\u3067\u304d\u308b\u4ed5\u639b\u3051\u304c\u3042\u308b\u3068\u3088\u3044\u304b\u306a\u3068\u3002\n\u4eca\u56de\u306f\u3001\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u306e\u6a5f\u69cb\u3092\u4f7f\u3046\u3053\u3068\u3067\u3053\u308c\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e\u4e2d\u8eab\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3001\u5b9f\u306f\u4e2d\u306bPython\u30dc\u30c3\u30af\u30b9\u306eMQTTAdapterImpl\u30dc\u30c3\u30af\u30b9\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u30dc\u30c3\u30af\u30b9\u306b\u306f\u3001LibFile1, ..., LibFile4\u3068\u3044\u3046[\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb]\u30bf\u30a4\u30d7\u306e\u5909\u6570\u3092\u7528\u610f\u3057\u3066\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u3001\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u30d3\u30d8\u30a4\u30d3\u30a2\u3078\u3068\u30b3\u30d4\u30fc\u3055\u308c\u308b\u969b\u306b\u542b\u3081\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u3042\u3052\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u3001 /paho/... \u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u30d3\u30d8\u30a4\u30d3\u30a2\u306b\u30b3\u30d4\u30fc\u3055\u308c\u308b\u969b\u306b\u3042\u308f\u305b\u3066\u30b3\u30d4\u30fc\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u3002\n\u308f\u3056\u308f\u3056MQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e\u5b50\u3068\u3057\u3066MQTTAdapterImpl\u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u3063\u3066\u3044\u308b\u306e\u306f\u3001\u3053\u308c\u3089\u306e\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u306b\u95a2\u3059\u308b\u9805\u76ee\u3092\u30dc\u30c3\u30af\u30b9\u306e\u5229\u7528\u8005\u306b\u898b\u305b\u305f\u304f\u306a\u304b\u3063\u305f(\u6df7\u4e71\u306a\u3069\u3092\u9632\u3050)\u305f\u3081\u3002\n\u4e00\u5fdc\u3001\u4eca\u306e\u3068\u3053\u308d\u554f\u984c\u306a\u304f\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u4f5c\u6210\u6642\u3001\u30d3\u30d8\u30a4\u30d3\u30a2\u304b\u3089\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u30b3\u30d4\u30fc\u3059\u308b\u3068\u3001\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4e2d\u306e\u76f8\u5bfe\u30d1\u30b9(\u30d3\u30d8\u30a4\u30d3\u30a2\u4e2d\u306e\u76f8\u5bfe\u30d1\u30b9\u3067\u306f\u306a\u3044)\u307f\u305f\u3044\u306a\u843d\u3068\u3057\u7a74\u304c\u3042\u3063\u305f\u308a\u3067\u306a\u3093\u304b\u5225\u306e\u843d\u3068\u3057\u7a74\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306e\u3067\u3001\u4eca\u56de\u306f\u3042\u304f\u307e\u3067\u3082\u3072\u3068\u3064\u306e\u8a66\u884c\u3068\u3057\u3066\u3002\n\n\u307e\u3068\u3081\nHue\u3084IRKit\u306eMQTT\u5bfe\u5fdc\u3092\u901a\u3057\u3066\u3001MQTT\u3092\u4f7f\u3046\u3053\u3068\u3067\u30a2\u30d7\u30ea\u9023\u643a\u304c\u697d\u306b\u306a\u308b\u306a\u3042\u3068\u3044\u3046\u611f\u3058\u304c\u3059\u3054\u304f\u3057\u305f\u306e\u3067\u3001Pepper\u3067\u3082MQTT\u3092\u6271\u3048\u308b\u3088\u3046\u306a\u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308a\u3001\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u914d\u4fe1\u3067\u304d\u308b\u5f62\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u3068\u308a\u3042\u3048\u305a\u6697\u53f7\u5316\u306a\u3069\u8003\u3048\u306a\u3044\u3067\u3084\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3084\u3063\u3071\u308aTLS\u5bfe\u5fdc\u306a\u3069\u3057\u305f\u3044\u611f\u3058\u3067\u3059\u3002GitHub\u306e\u307b\u3046\u3067\u66f4\u65b0\u306a\u3069\u3057\u3066\u3044\u304f\u306e\u3067\u898b\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u3002\u3042\u3068\u3001\u30d7\u30eb\u30ea\u30af\u306a\u3069\u5927\u6b53\u8fce\u3067\u3059\u3002\n\u305f\u3060\u3001MQTT\u306e\u3088\u3046\u306aPubSub\u30e2\u30c7\u30eb\u306f\u30ce\u30fc\u30c9\u9593\u306e\u901a\u4fe1\u3092\u81ea\u7531\u306b\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3067\u304d\u3066\u3046\u308c\u3057\u3044\u611f\u3058\u3067\u3059\u304c\u3001\u306f\u3057\u3083\u3044\u3067\u3044\u308d\u3044\u308d\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u3044\u305f\u3089\u3046\u3063\u304b\u308a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d4\u30f3\u30dd\u30f3\u3059\u308b\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u4f5c\u3063\u3066\u3057\u307e\u3044\u3001\u3042\u3063\u3068\u3044\u3046\u9593\u306b10000\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u304b\u9001\u4fe1\u3057\u3066\u3057\u307e\u3044\u7121\u6599\u67a0\u3092\u4f7f\u3044\u679c\u305f\u3057\u305d\u3046\u306b\u306a\u308b\u3001\u307f\u305f\u3044\u306a\u60b2\u5287\u3082\u3042\u308a\u307e\u3057\u305f\u3002\u30c6\u30b9\u30c8\u306b\u306fMosquitto\u3068\u304b\u4f7f\u3063\u3066\u81ea\u5206\u3067MQTT Broker\u3092\u305f\u3066\u308b\u306e\u304c\u3088\u3044\u304b\u3082\u3068\u3044\u3046\u611f\u3058\u3082\u3057\u307e\u3059\u306d\u30fc\u3002\n\u5148\u65e5\u66f8\u3044\u305f[MQTT\u3067IRKit\u3084Philips Hue\u306e\u72b6\u6cc1\u78ba\u8a8d\u30fb\u64cd\u4f5c\u3092\u96c6\u7d04](http://qiita.com/yacchin1205/items/703677e2fc6015535a54)\u304c\u601d\u3044\u306e\u307b\u304b\u8aad\u3093\u3067\u3044\u305f\u3060\u3051\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u3084\u3063\u3071\u308aIoT\u3063\u3066\u30db\u30c3\u30c8\u306a\u3093\u3060\u306a\u3042\u3068\u3044\u3046\u611f\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u305d\u3053\u3067\u4eca\u56de\u306fPepper\u3067MQTT\u3092\u6271\u3046\u30cd\u30bf\u3092\u3002\u4eca\u56de\u306f**\u300c\u30e1\u30e2\u30ea(ALMemory)\u6a5f\u69cb\u3068MQTT\u3092\u76f8\u4e92\u63a5\u7d9a\u3057\u305f\u3089\u30af\u30e9\u30a6\u30c9\u9023\u643a\u3068\u304b\u5916\u90e8\u9023\u643a\u30a2\u30d7\u30ea\u3092\u697d\u306b\u66f8\u3051\u308b\u3093\u3058\u3083\u306d\u300d\u3068\u3044\u3046\u6c17\u304c\u3057\u305f\u306e\u3067\u305d\u3046\u3044\u3046\u611f\u3058\u306e\u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u3063\u305f**\u3068\u3044\u3046\u8a71\u3002\n\n\nPepper\u3067MQTT\u3092\u6271\u3046\u3053\u3068\u81ea\u4f53\u306b\u95a2\u3057\u3066\u306fSuna\u3055\u3093\u304c\u3059\u3067\u306b\u8a66\u3057\u3066\u304a\u3089\u308c\u308b\u306e\u3067\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\u975e\u5e38\u306b\u4e01\u5be7\u306b\u307e\u3068\u3081\u3066\u304f\u3060\u3055\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u6280\u8853\u7684\u306a\u80cc\u666f\u3001\u8981\u7d20\u306a\u3069\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u3044\u305f\u3060\u304f\u306e\u304c\u3088\u3044\u304b\u3068\u3002\n\n- [MQTT Publisher \u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308b](http://qiita.com/Suna/items/26dc236606f27dfafa16)\n- [MQTT Publisher \u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308b \u305d\u306e2](http://qiita.com/Suna/items/f0d0b1d24d24e5a172a2)\n- [MQTT Subscriber \u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308b](http://qiita.com/Suna/items/f2faaa326bd026e3303d)\n\n\u3064\u3044\u3067\u306bPython\u30dc\u30c3\u30af\u30b9\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u3082\u306e\u3092\u3001\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u7c21\u5358\u306b\u914d\u5e03\u3059\u308b\u306b\u306f\u3069\u3046\u3059\u308b\u304b\u3001\u307f\u305f\u3044\u306a\u500b\u4eba\u7684Tips\u306a\u3093\u304b\u3082\u3064\u3089\u3064\u3089\u3068\u3002\n\u3042\u304f\u307e\u3067\u3082\u500b\u4eba\u3068\u3057\u3066\u306e\u958b\u767a\u3068\u3057\u3066\u3084\u3063\u3066\u308b\u308f\u3051\u3067\u3059\u304c\u3001\u4e00\u901a\u308a\u3067\u304d\u305f\u306e\u3067\u4f7f\u3044\u65b9\u3084\u8003\u3048\u65b9\u3092\u30e1\u30e2\u3059\u308b\u611f\u3058\u3067\u3002\n\n# ALMemory\u3068MQTT\u3068Pub/Sub\u30e2\u30c7\u30eb\u3068\n\nPepper\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u57fa\u76e4\u3068\u3057\u3066\u3001NAOqi\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308b\u308f\u3051\u3067\u3059\u304c\u3001\u3053\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u4e2d\u5fc3\u306b\u306f **ALMemory** \u3068\u3044\u3046\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3057\u305f\u308a\u3001\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u8cfc\u8aad\u3057\u305f\u308a\u3001\u5024\u3092\u30bb\u30c3\u30c8\u3057\u305f\u308a\u53d6\u5f97\u3057\u305f\u308a\u3068\u3044\u3063\u305f\u3053\u3068\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3082\u306e\u3067\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u306e\u30bb\u30f3\u30b5\u30fc\u306e\u76e3\u8996\u3084\u5024\u306e\u53d6\u5f97\u306f\u57fa\u672c\u7684\u306b\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4ecb\u3057\u3066\u304a\u3053\u306a\u3046\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002(\u8a73\u3057\u304f\u306f[ALMemory\u3092\u4ecb\u3057\u305f\u30a4\u30d9\u30f3\u30c8\u3001\u5024\u306e\u53d6\u5f97](http://qiita.com/Atelier-Akihabara/items/4162192129f366da1240#almemory%E3%82%92%E4%BB%8B%E3%81%97%E3%81%9F%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E5%80%A4%E3%81%AE%E5%8F%96%E5%BE%97)\u3042\u305f\u308a\u3092\u53c2\u7167)\n\n\u4e00\u65b9\u3001**MQTT**\u306f\u6642\u96e8\u5802\u3055\u3093\u306e [MQTT\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u77e5\u308b](https://sango.shiguredo.jp/mqtt) \u3042\u305f\u308a\u3092\u8aad\u3093\u3067\u3044\u305f\u3060\u304f\u3068\u308f\u304b\u308b\u901a\u308a\u3001\u3044\u308d\u3044\u308d\u306a\u30c7\u30d0\u30a4\u30b9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u767a\u884c\u3057\u305f\u308a\u3001\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u767a\u884c\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8cfc\u8aad\u3057\u305f\u308a\u3068\u3044\u3063\u305f\u3053\u3068\u3092\u5b9f\u73fe\u3059\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u3059\u3002MQTT\u30b5\u30fc\u30d0\u30fc(MQTT Broker)\u3068\u3044\u3046\u3082\u306e\u3092\u901a\u3057\u3066\u3001\u3055\u307e\u3056\u307e\u306a\u30c7\u30d0\u30a4\u30b9\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u767a\u884c\u3001\u8cfc\u8aad\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u3053\u308c\u3089\u306e\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u767a\u884c\u3057\u305f\u308a\u3001\u305d\u308c\u3092\u8cfc\u8aad\u3057\u305f\u308a\u3068\u3044\u3063\u305f\u30e2\u30c7\u30eb\u3092Pub/Sub\u30e2\u30c7\u30eb\u3068\u547c\u3076\u308f\u3051\u3067\u3059\u304c\u3001ALMemory\u3082MQTT\u3082**\u304a\u3093\u306a\u3058\u3088\u3046\u306a\u30e2\u30c7\u30eb\u3060\u3057\u304d\u3063\u3068\u89aa\u548c\u6027\u9ad8\u3044\u3088\u306d\u3048**\u307f\u305f\u3044\u306a\u6c17\u6301\u3061\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u3002\n\n## Pepper\u3068\u30af\u30e9\u30a6\u30c9\n\n\u30a4\u30d9\u30f3\u30c8\u306a\u3069\u3067Pepper\u3067\u306e\u958b\u767a\u3092\u304a\u624b\u4f1d\u3044\u3057\u3066\u3044\u3066\u3001\u300cPepper\u3092\u3044\u308d\u3044\u308d\u306a\u5916\u90e8\u306e\u30b5\u30fc\u30d3\u30b9\u3068\u9023\u643a\u3055\u305b\u308b\u3053\u3068\u3067\u3001Pepper\u81ea\u8eab\u3060\u3051\u3067\u306a\u304f\u30b5\u30fc\u30d3\u30b9\u306e\u4fa1\u5024\u3082\u3055\u3089\u306b\u9ad8\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3060\u308d\u3046\u300d\u3068\u3044\u3046\u6c17\u6301\u3061\u306f\u3069\u3093\u3069\u3093\u5f37\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u5404\u30b5\u30fc\u30d3\u30b9\u3068\u3082\u306b\u975e\u5e38\u306b\u4fbf\u5229\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u63d0\u4f9b\u3057\u3066\u304f\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u304c\u3001Pepper\u306e\u958b\u767a\u30c4\u30fc\u30ebChoregraphe\u304c\u63d0\u4f9b\u3059\u308b\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u76f4\u63a5\u7684\u306b\u3053\u308c\u3089\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u3053\u3068\u306f\u306a\u304b\u306a\u304b\u96e3\u3057\u304f\u3001\u591a\u304f\u306e\u5834\u5408\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3068\u3044\u3046\u58c1\u3092\u907f\u3051\u3066\u901a\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u3001NAOqi\u306fPython\u3092\u30d9\u30fc\u30b9\u3068\u3057\u305f\u5b9f\u884c\u74b0\u5883\u3067\u306f\u3042\u308b\u3082\u306e\u306e\u3001pip\u306e\u3088\u3046\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u3092\u81ea\u7531\u306b\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u308a\u3001\u300cNAOqi\u56fa\u6709\u306e\u304a\u4f5c\u6cd5\u300d\u307f\u305f\u3044\u306a\u3082\u306e\u304c\u3042\u308a\u3001\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u304c\u7c21\u5358\u306a\u74b0\u5883\u304b\u3068\u3044\u3046\u3068\u305d\u3046\u3067\u3082\u306a\u3044\u306e\u304c\u73fe\u72b6\u3067\u3059\u3002\n\n\u3057\u304b\u3082\u3001Pepper\u306eCPU\u3084\u30e1\u30e2\u30ea\u306f\u4e00\u822c\u8ca9\u58f2\u306b\u5411\u3051\u3066\u5f37\u5316\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306e\u3001\u30bb\u30fc\u30d5\u30c6\u30a3\u306a\u3069\u306e\u81ea\u5f8b\u7684\u306a\u5236\u5fa1\u3084\u611f\u60c5\u30de\u30c3\u30d7\u306e\u3088\u3046\u306a\u90e8\u5206\u306b\u8a08\u7b97\u80fd\u529b\u3092\u4f7f\u308f\u306d\u3070\u306a\u3089\u305a\u3001\u30a2\u30d7\u30ea\u3067\u8a08\u7b97\u3092\u3076\u3093\u56de\u3059\u306e\u3082\u554f\u984c\u304c\u3042\u308a\u305d\u3046\u3067\u3059\u3002\u8a8d\u8b58\u51e6\u7406\u306a\u3069\u91cd\u305f\u3044\u8a08\u7b97\u306f\u30af\u30e9\u30a6\u30c9\u3068\u3044\u3046\u304bPepper\u5916\u306e\u3069\u3053\u304b\u306e\u30b5\u30fc\u30d0\u306b\u914d\u7f6e\u3059\u308b\u3068\u3044\u3063\u305f\u914d\u616e\u3092\u3057\u305f\u308a\u3059\u308b\u5fc5\u8981\u304c\u51fa\u3066\u304d\u305d\u3046\u3067\u3059\u3002\n\n## MQTT Adapter\u30dc\u30c3\u30af\u30b9: ALMemory-MQTT\u76f8\u4e92\u63a5\u7d9a\u3067Pepper-\u30af\u30e9\u30a6\u30c9\u306e\u9023\u643a\n\n\u305d\u3093\u306a\u308f\u3051\u3067\u3001ALMemory\u3068MQTT\u3092\u76f8\u4e92\u63a5\u7d9a\u3059\u308b\u3053\u3068\u3067\u3001ALMemory\u3092\u6271\u3046\u30dc\u30c3\u30af\u30b9\u3060\u3051\u3067\u3001\u30af\u30e9\u30a6\u30c9\u306a\u3069\u5916\u90e8\u306e\u30b7\u30b9\u30c6\u30e0\u3068\u9023\u643a\u3059\u308b\u3053\u3068\u304c\u7c21\u5358\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3063\u305f\u308f\u3051\u3067\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/28770/4827567a-5618-e0eb-5328-142473264e5f.png)\n\n\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u306b\u306f\u3042\u3089\u304b\u3058\u3081\u3001 **ALMemory\u4e2d\u306e\u30ad\u30fc \u3068 MQTT\u306e\u30c8\u30d4\u30c3\u30af \u306e\u5bfe\u5fdc\u3065\u3051**\u3092\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u3053\u306e\u5bfe\u5fdc\u3065\u3051\u3068MQTT Broker\u3078\u306e\u63a5\u7d9a\u60c5\u5831\u3092\u4e0e\u3048\u308b\u3053\u3068\u3067\u3001\u3042\u3068\u306fMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u8d77\u52d5\u3057\u3066\u304a\u304f\u3060\u3051\u3067\n\n- \u30a2\u30d7\u30ea\u304cRaise Event\u30dc\u30c3\u30af\u30b9\u3067\u3001MQTT\u306e\u30c8\u30d4\u30c3\u30af\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3059\u308c\u3070\u3001MQTT\u7d4c\u7531\u3067\u305d\u306e\u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n- \u30a2\u30d7\u30ea\u304cSubscribe to Event\u30dc\u30c3\u30af\u30b9\u306a\u3069\u3067\u3001MQTT\u306e\u30c8\u30d4\u30c3\u30af\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u8cfc\u8aad\u3059\u308c\u3070\u3001MQTT\u7d4c\u7531\u3067\u3001\u5916\u90e8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u305d\u306e\u30c8\u30d4\u30c3\u30af\u306b\u5bfe\u3057\u3066\u767a\u884c\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\n\n\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u52d5\u3051\u308b\u3068\u9762\u767d\u305d\u3046\u304b\u306a\u3068\u3002\n\n\n# MQTT Adapter\u30dc\u30c3\u30af\u30b9: \u4f7f\u3044\u65b9\n\n\u305d\u3093\u306a\u308f\u3051\u3067MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\n\u4ee5\u524d\u306e[Subscribe to Event\u30dc\u30c3\u30af\u30b9\u3092qi Framework\u3067\u66f8\u304d\u306a\u304a\u3057\u3066\u307f\u305f\u8a71](http://qiita.com/yacchin1205/items/c7c8f12deee0b386865a)\u3068\u540c\u3058\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u8ffd\u52a0\u3057\u3066\u307f\u3066\u3044\u307e\u3059\u3002GitHub\u306f\u4ee5\u4e0b\u3001\n\n- https://github.com/yacchin1205/pepper-web-boxes \n\n**web-boxes** \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\u65b9\u6cd5\u3001\u5229\u7528\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n## \u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\n\n\u30a2\u30d7\u30ea\u306bMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u914d\u7f6e\u3059\u308b\u306b\u306f\u3001\u307e\u305a\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3092Choregraphe\u3067\u958b\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n1. [\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea]\u30d1\u30cd\u30eb\u304b\u3089[\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u958b\u304f]\u3092\u9078\u629e\u3059\u308b\n\n    ![BoxLib_Open.png](https://qiita-image-store.s3.amazonaws.com/0/28770/b92b188a-ce98-a3a0-10c5-d78d53c4c9f4.png)\n\n\n2. GitHub\u304b\u3089ZIP\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3082\u3057\u304f\u306fclone\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u3046\u3061\u3001**web-boxes\u30c7\u30a3\u30ec\u30af\u30c8\u30ea** \u3092\u9078\u629e\u3059\u308b\n\n    ![BoxLib_OpenDir.png](https://qiita-image-store.s3.amazonaws.com/0/28770/537b78d0-472b-8180-56a0-0161d896f56a.png)\n\n    \u306a\u304a\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u7a2e\u985e\u306b `\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(Directories)` \u3092\u9078\u629e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n3. \u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u30d1\u30cd\u30eb\u306b **web-boxes \u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea**\u304c\u73fe\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\n\n    ![BoxLib_Loaded.png](https://qiita-image-store.s3.amazonaws.com/0/28770/96337020-a257-68ae-cef5-942e3d46e5ec.png)\n\n\n\u3053\u308c\u3067MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u542b\u3080web-boxes\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n## MQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e\u914d\u7f6e\n\nweb-boxes\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e Network > MQTT Adapter\u30dc\u30c3\u30af\u30b9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5229\u7528\u3057\u307e\u3059\u3002\n\n1. `web-boxes` \u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306e Network > MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u30d5\u30ed\u30fc\u30c0\u30a4\u30a2\u30b0\u30e9\u30e0\u30d1\u30cd\u30eb\u306b\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3059\u308b\n\n    ![MQTTAdapter_DnD.png](https://qiita-image-store.s3.amazonaws.com/0/28770/6640d58e-9754-4ff1-f725-670339a74347.png)\n\n    \u3053\u306eMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3067\u306f [paho](https://pypi.python.org/pypi/paho-mqtt/1.1) \u3068\u3044\u3046\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306fMQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3068\u81ea\u52d5\u7684\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4e2d\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n    \n\n2. MQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e\u8a2d\u5b9a\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u958b\u304d\u3001\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\n    \u4ee5\u4e0b\u306e\u5024\u304c\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u3002\n    - Host ... MQTT Broker\u306e\u30db\u30b9\u30c8\u540d\n    - Port ... MQTT Broker\u306e\u30dd\u30fc\u30c8\u756a\u53f7\n    - Username ... MQTT Broker\u306e\u63a5\u7d9a\u7528\u30e6\u30fc\u30b6\u540d\n    - Password ... MQTT Broker\u306e\u63a5\u7d9a\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\n    - Key-Topic Bindings ... ALMemory\u306e\u30ad\u30fc\u3068MQTT\u306e\u30c8\u30d4\u30c3\u30af\u3068\u306e\u5bfe\u5fdc\u3065\u3051\u3002\u8a73\u7d30\u306f\u5f8c\u8ff0\n\n    ![MQTTAdapter_Settings.png](https://qiita-image-store.s3.amazonaws.com/0/28770/9578e1ea-3d31-9e21-3b8b-cca1bc9ca2c7.png)\n\n3. \u9069\u5f53\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n    - onStart\u5165\u529b\u3067MQTT-ALMemory\u9593\u306e\u76f8\u4e92\u63a5\u7d9a\u3092\u958b\u59cb ... \u63a5\u7d9a\u51e6\u7406\u5b9f\u884c\u5f8c\u3001onConnected\u51fa\u529b\u304c\u767a\u706b\u3055\u308c\u308b\u3002\u4ee5\u5f8conStop\u5165\u529b\u304c\u3055\u308c\u308b\u307e\u3067\u3001ALMemory-MQTT\u9593\u306e\u30a4\u30d9\u30f3\u30c8\u4e2d\u7d99\u304c\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\n    - onStop\u5165\u529b\u3067\u76f8\u4e92\u63a5\u7d9a\u7d42\u4e86 ... \u63a5\u7d9a\u7d42\u4e86\u3059\u308b\u3068onStopped\u51fa\u529b\u304c\u767a\u706b\u3055\u308c\u308b\n    - \u30a8\u30e9\u30fc\u767a\u751f\u6642 ... onError\u51fa\u529b\u304c\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3068\u3082\u306b\u767a\u706b\u3055\u308c\u308b\n\n\u4ee5\u4e0b\u3001\u5b9a\u7fa9\u65b9\u6cd5\u306e\u8a73\u7d30\u3068\u3001\u5b9f\u884c\u4f8b\u3092\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n## \u30ad\u30fc-\u30c8\u30d4\u30c3\u30af\u306e\u5bfe\u5fdc\u95a2\u4fc2\u306e\u5b9a\u7fa9\n\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e[Key-Topic Bindings]\u8a2d\u5b9a\u306b\u3088\u3063\u3066\u3001ALMemory\u306e\u3069\u306e\u30ad\u30fc\u306e\u5024\u3068MQTT\u306e\u3069\u306e\u30c8\u30d4\u30c3\u30af\u306e\u5024\u3092\u7d50\u3073\u3064\u3051\u308b\u304b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u5bfe\u5fdc\u95a2\u4fc2\u306f\u3001`ALMemory\u306e\u30ad\u30fc:MQTT\u306e\u30c8\u30d4\u30c3\u30af` \u306a\u3069\u3068\u30b3\u30ed\u30f3\u3067\u533a\u5207\u3063\u3066\u6307\u5b9a\u3057\u307e\u3059\u3002`;`\u3067\u533a\u5207\u308b\u3053\u3068\u3067\u8907\u6570\u306e\u5bfe\u5fdc\u95a2\u4fc2\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30ad\u30fc\u540d\u3001\u30c8\u30d4\u30c3\u30af\u540d\u3068\u3082\u306b\u3001\u6700\u5f8c\u306b `/#`\u3092\u4ed8\u52a0\u3059\u308b\u3053\u3068\u3067\u3001\u3042\u308b\u30ad\u30fc\u30fb\u30c8\u30d4\u30c3\u30af\u4ee5\u4e0b\u306e\u3082\u306e\u3092\u307e\u3068\u3081\u3066\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\n\n- `TestMQTT/Hoge/#:test-yacchin1205/Hoge/#` \u306a\u3069\u3068\u3059\u308b\u3068\u3001ALMemory\u3067 `TestMQTT/Hoge/` \u304b\u3089\u306f\u3058\u307e\u308b\u540d\u524d\u3001\u4f8b\u3048\u3070 `TestMQTT/Hoge/A` \u306a\u3069\u3068\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u884c\u3059\u308b\u3068\u3001MQTT\u306b\u306f `test-yacchin1205/Hoge/A` \u3068\u3044\u3046\u30c8\u30d4\u30c3\u30af\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u767a\u884c\u3055\u308c\u307e\u3059\n- ALMemory\u306e `TestMQTT/Hoge/B` \u3068\u3044\u3046\u30a4\u30d9\u30f3\u30c8\u3092\u8cfc\u8aad\u3059\u308b\u3053\u3068\u3067MQTT\u306e `test-yacchin1205/Hoge/B` \u3068\u3044\u3046\u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\n\n\u307e\u305f\u3001 `ALMemory\u306e\u30ad\u30fc:MQTT\u306e\u30c8\u30d4\u30c3\u30af:\u578b` \u306a\u3069\u3068\u3059\u308b\u3053\u3068\u3067\u3001\u5024\u306e\u5909\u63db\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n- \u578b\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001ALMemory-MQTT\u306e\u30a4\u30d9\u30f3\u30c8\u5909\u63db\u6642\u306b\u5024\u306f\u5909\u63db\u305b\u305a\u3001\u305d\u306e\u307e\u307e\u306e\u578b\u3067\u5024\u3092\u9001\u308d\u3046\u3068\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001MQTT\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u578b\u306e\u5024\u3092\u6301\u3064\u30a4\u30d9\u30f3\u30c8\u306e\u5834\u5408\u3001\u767a\u884c\u306b\u5931\u6557\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\n- \u578b\u304c`str`\u306e\u5834\u5408\u3001ALMemory\u2192MQTT\u5909\u63db\u6642\u306b\u6587\u5b57\u5217\u578b\u306b\u5909\u63db\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002MQTT\u2192ALMemory\u3082\u540c\u69d8\u3067\u3059\n- \u578b\u304c`json`\u306e\u5834\u5408\u3001ALMemory\u2192MQTT\u5909\u63db\u6642\u306bjson\u3078\u306e\u30c0\u30f3\u30d7\u3092\u304a\u3053\u306a\u3044\u307e\u3059\u3002MQTT\u2192ALMemory\u5909\u63db\u6642\u306fjson\u306e\u89e3\u6790\u3092\u304a\u3053\u306a\u3044\u307e\u3059\n\n\n\u4ee5\u4e0b\u3001\u4f7f\u3044\u65b9\u306e\u4f8b\u3092\u30fb\u30fb\u30fb\n\n## MQTT\u304b\u3089Pepper\u306b\u5024\u3092\u6e21\u3059\u4f8b: \u5225\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3089Pepper\u306bSay\u6307\u793a\n\n\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3089MQTT Adapter\u3092\u7d4c\u7531\u3057\u3066Pepper\u306eALMemory\u306b\u5024\u3092\u653e\u308a\u8fbc\u307f\u3001\u305d\u308c\u3092\u4f7f\u3063\u3066Say Text\u3059\u308b\u307f\u305f\u3044\u306a\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u306fGitHub\u306e **samples/mqtt-say-text** \u53c2\u7167\u3002\n\n1. MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u914d\u7f6e\u3001\u8a2d\u5b9a\u3059\u308b\u3002\u4eca\u56de\u306f\u4f8b\u3068\u3057\u3066\u3001\n    - MQTT\u306eBroker\u306b\u306f\u3001 [test.mosquitto.org](http://test.mosquitto.org/) \u3092\u5229\u7528\u3059\u308b\n    - MQTT\u306e\u30c8\u30d4\u30c3\u30af `test-yacchin1205/sample1/Message` \u304c\u3001ALMemory\u306e `MQTT/Test/Sample1/Message` \u3068\u76f8\u4e92\u63a5\u7d9a\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n\n    ![mqtt-say-text_settings.png](https://qiita-image-store.s3.amazonaws.com/0/28770/a1e04301-7746-c368-bc4b-d462eb0b00d4.png)\n\n\n2. \u30d5\u30ed\u30fc\u30c0\u30a4\u30a2\u30b0\u30e9\u30e0\u4e2d\u306b `MQTT/Test/Sample1/Message` \u30a4\u30d9\u30f3\u30c8\u3092\u8cfc\u8aad\u3059\u308b\u5165\u529b\u3092\u4f5c\u6210\u3057\u3001Say Text\u30dc\u30c3\u30af\u30b9\u306b\u3064\u306a\u3052\u308b\n\n    ![mqtt-say-text_flow.png](https://qiita-image-store.s3.amazonaws.com/0/28770/d7042bf5-8ce2-5cc5-8d94-07d2d37bfd4d.png)\n\n\n\n\u8a66\u3057\u306b\u3001\u3053\u306e\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3057\u305f\u72b6\u614b\u3067\u3001\u624b\u5143\u306eRaspberry Pi\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3042\u3063\u305fmosquitto_pub\u30b3\u30de\u30f3\u30c9\u3067MQTT\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u3066\u307f\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001 `test-yacchin1205/sample1/Message` \u30c8\u30d4\u30c3\u30af(ALMemory\u3067\u306f `MQTT/Test/Sample1/Message`)\u306b `MQTT\u304b\u3089\u3053\u3093\u306b\u3061\u306f` \u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u3052\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```\npi@raspberrypi ~ $ mosquitto_pub -h test.mosquitto.org -t test-yacchin1205/sample1/Message -m MQTT\u304b\u3089\u3053\u3093\u306b\u3061\u306f\n```\n\n\u3059\u308b\u3068\u3001ALMemory\u7d4c\u7531\u3067Say Text\u30dc\u30c3\u30af\u30b9\u304c\u53cd\u5fdc\u3057\u307e\u3059\u3002\n\n![mqtt-say-text_robotview.png](https://qiita-image-store.s3.amazonaws.com/0/28770/02ae0624-16ad-7609-795a-bff3d0c646aa.png)\n\n\n\u3053\u306e\u3088\u3046\u306bMQTT\u3092\u7d4c\u7531\u3059\u308b\u3053\u3068\u3067\u3001Pepper\u306e\u5916\u304b\u3089Pepper\u306b\u5bfe\u3057\u3066\u7c21\u5358\u306b\u6307\u793a\u3092\u6295\u3052\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n## Pepper\u304b\u3089MQTT\u306b\u5024\u3092\u6e21\u3059\u4f8b: Pepper\u304b\u3089Hue\u3092\u5236\u5fa1\n\n[MQTT\u3067IRKit\u3084Philips Hue\u306e\u72b6\u6cc1\u78ba\u8a8d\u30fb\u64cd\u4f5c\u3092\u96c6\u7d04](http://qiita.com/yacchin1205/items/703677e2fc6015535a54)\u3067\u7d39\u4ecb\u3057\u305f\u3088\u3046\u306b\u3001\u6211\u304c\u5bb6\u306eHue\u306fMQTT\u7d4c\u7531\u3067\u64cd\u4f5c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4eca\u56de\u306fPepper\u306e\u982d\u3092\u306a\u3067\u308b\u3053\u3068\u3067Hue\u306e\u30e9\u30f3\u30d7\u306e\u70b9\u706f\u3092\u5236\u5fa1\u3059\u308b\u3088\u3046\u306a\u4f8b\u3092\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\n\n### MQTT\u3068Hue\u306e\u5bfe\u5fdc\n\n\u81ea\u5b85\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b `username/hue/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx(\u30d6\u30ea\u30c3\u30b8\u306eUDN)/light/x(\u30e9\u30a4\u30c8\u306eID)/status` \u30c8\u30d4\u30c3\u30af\u306bJSON\u30c7\u30fc\u30bf\u3092\u6295\u3052\u3064\u3051\u308b\u3053\u3068\u3067\u30e9\u30a4\u30c8\u306e\u70b9\u706f\u72b6\u614b\u3092\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\nusername/hue/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx/light/x/status {\"on\": true, \"saturation\": 254, \"brightness\": 204, \"hue\": 34297}\n```\n\n\u3053\u3053\u3067\u306f\u3001ALMemory\u306bHue\u306e\u70b9\u706f\u72b6\u614b\u306b\u95a2\u3059\u308b\u5024\u3092\u4e0e\u3048\u308b\u3068\u3001Hue\u306e\u72b6\u614b\u304c\u5909\u308f\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u308f\u3051\u3067\u3059\u304c\u3001\u3053\u306e\u3088\u3046\u306aJSON\u30c7\u30fc\u30bf(dict)\u3092\u4e0e\u3048\u308b\u3068\u3001ALMemory\u3067\u306f `[[\"on\", True], [\"saturation\", 254], [\"brightness\", 204], [\"hue\", 34297]]` \u306e\u3088\u3046\u306a\u8868\u73fe\u306b\u81ea\u52d5\u7684\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n\n### \u30a2\u30d7\u30ea\u306e\u4f5c\u6210\n\n\u30a2\u30d7\u30ea\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002ID, \u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3069\u306e\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u6982\u8981\u306e\u307f\u30fb\u30fb\u30fb\n\n1. MQTT Adapter\u30dc\u30c3\u30af\u30b9\u3092\u914d\u7f6e\u3001\u8a2d\u5b9a\u3059\u308b \n    - MQTT\u306eBroker\u306b\u306f\u3001 [Sango](https://sango.shiguredo.jp/) \u3092\u5229\u7528\u3059\u308b\u3002\u30db\u30b9\u30c8\u3001\u30dd\u30fc\u30c8\u3001\u30e6\u30fc\u30b6\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306bSango\u304b\u3089\u6307\u5b9a\u3055\u308c\u305f\u60c5\u5831\u3092\u5229\u7528\u3059\u308b\n    - `\u30e6\u30fc\u30b6\u540d/hue/`\u30c8\u30d4\u30c3\u30af\u4ee5\u4e0b\u306bHue\u306e\u30a4\u30d9\u30f3\u30c8\u3092Publish\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u3059\u3079\u3066\u306e\u30c8\u30d4\u30c3\u30af\u304c\u3001ALMemory\u306e`MQTT/Hue/`\u304b\u3089\u59cb\u307e\u308b\u30ad\u30fc\u3068\u76f8\u4e92\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u3002\u5f62\u5f0f\u306f `json` \u3068\u3059\u308b\n\n    ![pepper-hue_settings.png](https://qiita-image-store.s3.amazonaws.com/0/28770/ff8caf53-cd2f-481f-2759-8549777b8f44.png)\n\n\n2. Sensing > Touch > Tactile Head\u30dc\u30c3\u30af\u30b9\u3068\u65b0\u898fPython\u30dc\u30c3\u30af\u30b9(Hue On, Hue Off)\u3001Programming > Memory > Raise Event\u30dc\u30c3\u30af\u30b9\u3092\u914d\u7f6e\u3059\u308b\n\n    ![pepper-hue_flow.png](https://qiita-image-store.s3.amazonaws.com/0/28770/334a3202-4dfa-120f-198c-87b405f8cbd2.png)\n\n\n2. Hue On\u30dc\u30c3\u30af\u30b9\u3067\u306f\u3001Hue\u3092\u30aa\u30f3\u306b\u3059\u308b\u3088\u3046\u306a\u5024\u3092\u51fa\u529b\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n\n    ```py\n    def onInput_onStart(self):\n        self.onStopped([[\"on\", True], [\"saturation\", 254], [\"brightness\", 204], [\"hue\", 34297]])\n    ```\n\n\n2. Hue Off\u30dc\u30c3\u30af\u30b9\u3067\u306f\u3001Hue\u3092\u30aa\u30d5\u306b\u3059\u308b\u3088\u3046\u306a\u5024\u3092\u51fa\u529b\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n\n    ```py\n    def onInput_onStart(self):\n        self.onStopped([[\"on\", False], [\"saturation\", 254], [\"brightness\", 204], [\"hue\", 34297]])\n    ```\n\n3. Hue On\u30dc\u30c3\u30af\u30b9\u3001Hue Off\u30dc\u30c3\u30af\u30b9\u306b\u306fRaise Event\u30dc\u30c3\u30af\u30b9\u3092\u3064\u306a\u304e\u3001Hue\u306e\u30d6\u30ea\u30c3\u30b8\u3001\u30e9\u30a4\u30c8\u306b\u5bfe\u5fdc\u3059\u308b\u30ad\u30fc\u3092\u6307\u5b9a\u3059\u308b\n\n    ![pepper-hue_eventname.png](https://qiita-image-store.s3.amazonaws.com/0/28770/4b4ff0a4-0057-6c3d-6822-78f6d332a4c5.png)\n\n\n\u3053\u308c\u3060\u3051\u3067\u3001\u982d\u306e\u524d\u65b9\u3092\u30bf\u30c3\u30c1\u3059\u308b\u3068\u3001\u70b9\u706f\u3092\u6307\u793a\u3059\u308b\u30c7\u30fc\u30bf\u304cMQTT\u7d4c\u7531\u3067Hue\u30d6\u30ea\u30c3\u30b8\u306e\u5236\u5fa1\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u4f1d\u3048\u3089\u308c\u3001\u30e9\u30f3\u30d7\u304c\u30aa\u30f3\u306b\u306a\u3063\u305f\u308a\u3001\u5f8c\u65b9\u3092\u30bf\u30c3\u30c1\u3059\u308b\u3068\u30aa\u30d5\u306b\u306a\u3063\u305f\u308a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n# \u5c0f\u30cd\u30bf: \u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306bPython\u30b3\u30fc\u30c9\u3092\u542b\u3081\u308b\n\n[Pepper\u7528Tweet\u30dc\u30c3\u30af\u30b9\u3092\u3064\u304f\u308b](http://qiita.com/yacchin1205/items/3422b5066dcbfca63def)\u3067\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306bPython\u30e2\u30b8\u30e5\u30fc\u30eb(.py)\u3092\u542b\u3081\u3001Python\u30dc\u30c3\u30af\u30b9\u304b\u3089import\u3059\u308b\u305f\u3081\u306e\u65b9\u6cd5\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\u3053\u306e\u624b\u9806\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u6642\u306b\u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc\u306a\u3069\u306e\u624b\u9806\u304c\u5fc5\u8981\u3067\u3001\u5b9f\u88c5\u306b\u5229\u7528\u3059\u308b\u306e\u306f\u5c11\u3005\u9762\u5012\u3067\u3059\u3002**\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u4e2d\u306b\u3053\u308c\u3089\u306ePython\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u6301\u3057\u3066\u304a\u304d\u3001\u30dc\u30c3\u30af\u30b9\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30b3\u30d4\u30fc\u3057\u305f\u969b\u306b\u3001\u4e00\u7dd2\u306bPython\u30b3\u30fc\u30c9\u3082\u30b3\u30d4\u30fc\u3067\u304d\u308b\u4ed5\u639b\u3051\u304c\u3042\u308b\u3068\u3088\u3044**\u304b\u306a\u3068\u3002\n\n\n\u4eca\u56de\u306f\u3001**\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb**\u306e\u6a5f\u69cb\u3092\u4f7f\u3046\u3053\u3068\u3067\u3053\u308c\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\nMQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e\u4e2d\u8eab\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3001\u5b9f\u306f\u4e2d\u306bPython\u30dc\u30c3\u30af\u30b9\u306eMQTTAdapterImpl\u30dc\u30c3\u30af\u30b9\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\n![python-module-attach-1.png](https://qiita-image-store.s3.amazonaws.com/0/28770/cd74c17c-f811-c399-a152-8af82fba36d8.png)\n\n\u3053\u306e\u30dc\u30c3\u30af\u30b9\u306b\u306f\u3001LibFile1, ..., LibFile4\u3068\u3044\u3046[\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb]\u30bf\u30a4\u30d7\u306e\u5909\u6570\u3092\u7528\u610f\u3057\u3066\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u3001\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u30d3\u30d8\u30a4\u30d3\u30a2\u3078\u3068\u30b3\u30d4\u30fc\u3055\u308c\u308b\u969b\u306b\u542b\u3081\u305f\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u3042\u3052\u3066\u3044\u307e\u3059\u3002\n\n![python-module-attach-2.png](https://qiita-image-store.s3.amazonaws.com/0/28770/3a8e040d-b715-aaf6-d462-0c2da4c69e50.png)\n\n\u3053\u306e\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u3001 `/paho/...` \u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u30d3\u30d8\u30a4\u30d3\u30a2\u306b\u30b3\u30d4\u30fc\u3055\u308c\u308b\u969b\u306b\u3042\u308f\u305b\u3066\u30b3\u30d4\u30fc\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u308f\u3056\u308f\u3056MQTT Adapter\u30dc\u30c3\u30af\u30b9\u306e\u5b50\u3068\u3057\u3066MQTTAdapterImpl\u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u3063\u3066\u3044\u308b\u306e\u306f\u3001\u3053\u308c\u3089\u306e\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u306b\u95a2\u3059\u308b\u9805\u76ee\u3092\u30dc\u30c3\u30af\u30b9\u306e\u5229\u7528\u8005\u306b\u898b\u305b\u305f\u304f\u306a\u304b\u3063\u305f(\u6df7\u4e71\u306a\u3069\u3092\u9632\u3050)\u305f\u3081\u3002\n\n\u4e00\u5fdc\u3001\u4eca\u306e\u3068\u3053\u308d\u554f\u984c\u306a\u304f\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u4f5c\u6210\u6642\u3001\u30d3\u30d8\u30a4\u30d3\u30a2\u304b\u3089\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u30b3\u30d4\u30fc\u3059\u308b\u3068\u3001\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4e2d\u306e\u76f8\u5bfe\u30d1\u30b9(\u30d3\u30d8\u30a4\u30d3\u30a2\u4e2d\u306e\u76f8\u5bfe\u30d1\u30b9\u3067\u306f\u306a\u3044)\u307f\u305f\u3044\u306a\u843d\u3068\u3057\u7a74\u304c\u3042\u3063\u305f\u308a\u3067\u306a\u3093\u304b\u5225\u306e\u843d\u3068\u3057\u7a74\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306e\u3067\u3001\u4eca\u56de\u306f\u3042\u304f\u307e\u3067\u3082\u3072\u3068\u3064\u306e\u8a66\u884c\u3068\u3057\u3066\u3002\n\n# \u307e\u3068\u3081\n\nHue\u3084IRKit\u306eMQTT\u5bfe\u5fdc\u3092\u901a\u3057\u3066\u3001MQTT\u3092\u4f7f\u3046\u3053\u3068\u3067\u30a2\u30d7\u30ea\u9023\u643a\u304c\u697d\u306b\u306a\u308b\u306a\u3042\u3068\u3044\u3046\u611f\u3058\u304c\u3059\u3054\u304f\u3057\u305f\u306e\u3067\u3001Pepper\u3067\u3082MQTT\u3092\u6271\u3048\u308b\u3088\u3046\u306a\u30dc\u30c3\u30af\u30b9\u3092\u4f5c\u308a\u3001\u30dc\u30c3\u30af\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u914d\u4fe1\u3067\u304d\u308b\u5f62\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u6697\u53f7\u5316\u306a\u3069\u8003\u3048\u306a\u3044\u3067\u3084\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3084\u3063\u3071\u308aTLS\u5bfe\u5fdc\u306a\u3069\u3057\u305f\u3044\u611f\u3058\u3067\u3059\u3002GitHub\u306e\u307b\u3046\u3067\u66f4\u65b0\u306a\u3069\u3057\u3066\u3044\u304f\u306e\u3067\u898b\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u3002\u3042\u3068\u3001\u30d7\u30eb\u30ea\u30af\u306a\u3069\u5927\u6b53\u8fce\u3067\u3059\u3002\n\n\u305f\u3060\u3001MQTT\u306e\u3088\u3046\u306aPubSub\u30e2\u30c7\u30eb\u306f\u30ce\u30fc\u30c9\u9593\u306e\u901a\u4fe1\u3092\u81ea\u7531\u306b\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3067\u304d\u3066\u3046\u308c\u3057\u3044\u611f\u3058\u3067\u3059\u304c\u3001\u306f\u3057\u3083\u3044\u3067\u3044\u308d\u3044\u308d\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u3044\u305f\u3089\u3046\u3063\u304b\u308a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30d4\u30f3\u30dd\u30f3\u3059\u308b\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u4f5c\u3063\u3066\u3057\u307e\u3044\u3001\u3042\u3063\u3068\u3044\u3046\u9593\u306b10000\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u304b\u9001\u4fe1\u3057\u3066\u3057\u307e\u3044\u7121\u6599\u67a0\u3092\u4f7f\u3044\u679c\u305f\u3057\u305d\u3046\u306b\u306a\u308b\u3001\u307f\u305f\u3044\u306a\u60b2\u5287\u3082\u3042\u308a\u307e\u3057\u305f\u3002\u30c6\u30b9\u30c8\u306b\u306f[Mosquitto](http://mosquitto.org/)\u3068\u304b\u4f7f\u3063\u3066\u81ea\u5206\u3067MQTT Broker\u3092\u305f\u3066\u308b\u306e\u304c\u3088\u3044\u304b\u3082\u3068\u3044\u3046\u611f\u3058\u3082\u3057\u307e\u3059\u306d\u30fc\u3002\n", "tags": ["mqtt", "Pepper", "Python", "NAOqi", "paho"]}