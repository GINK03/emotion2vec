{"context": "\n\n\u6982\u8981\n\u300c(\u307b\u307c)\u30b9\u30de\u30db(\u3060\u3051)\u3092\u4f7f\u3063\u3066IoT\u3092\u59cb\u3081\u3066\u307f\u3088\u3046\u300d\u306e\u7d9a\u304d\u3067\u3059\nNode-RED\u306e\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001IoT\u30a2\u30d7\u30ea\u3092\u3082\u3046\u5c11\u3057\u9ad8\u5ea6\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n//\u306a\u3093\u304b\u610f\u5730\u306b\u306a\u3063\u3066\u30b9\u30de\u30db\u3060\u3051\u3067\u64cd\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\n// 20160616 datapalooza@\u79cb\u8449\u539f\u3067\u7d39\u4ecb\u3057\u305f\u30c7\u30e2\u30a2\u30d7\u30ea\u306f\u3053\u3053\u306e\u624b\u9806\u3067\u4f5c\u308c\u307e\u3059\u3002\n// 201610 \u753b\u9762\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\n\n\u80cc\u666f(\u5927\u4e8b\u306a\u3053\u3068\u306a\u306e\u3067\u6bce\u56de\u8a00\u3044\u307e\u3059\uff09\n\u9762\u767d\u305d\u3046\u306a\u8a71\u3092\u805e\u3044\u3066\u300c\u3078\u30fc\u3001\u3084\u3063\u3066\u307f\u305f\u3044\u300d\u3068\u601d\u3063\u3066\u3082\u3001\u5bb6\u306b\u5e30\u3063\u3066\u5b9f\u969b\u306b\u3084\u308b\u304b\u306f\u6c17\u5206\u6b21\u7b2c\u3002\n\u6c17\u6301\u3061\u304c\u76db\u308a\u4e0a\u304c\u3063\u3066\u3044\u308b\u3046\u3061\u306b\u3001\u30b9\u30de\u30db\u3067\uff01\u4eca\u3059\u3050\uff01\u30bf\u30c0\u3067\uff01\u59cb\u3081\u307e\u3057\u3087\u3046\u3002\n\n\u524d\u63d0\n\nBluemix\u306eIoT\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u3044\u308b\u3053\u3068\u3002\u307e\u3060\u306e\u4eba\u306f\u3053\u3053\u3092\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\nTwillio\u306e\u7121\u6599\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u3063\u3066\u3044\u308b\u3053\u3068\uff08+1\u3067\u59cb\u307e\u308b\u7c73\u56fd\u756a\u53f7\u3092\u3068\u3063\u3066\u304f\u3060\u3055\u3044\uff09\u307e\u3060\u306e\u4eba\u306fhttps://www.twilio.com/try-twilio\u3068\u304b\u304b\u3089\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u7528\u610f\u3059\u308b\u3082\u306e\n\n\u30b9\u30de\u30db(\u30bb\u30f3\u30b5\u30fc\u3068\u3057\u3066\u4f7f\u3044\u307e\u3059\uff09\nBluemix\u30a2\u30ab\u30a6\u30f3\u30c8\u3068Bluemix IoT \u30a2\u30d7\u30ea\nTwillio\u96fb\u8a71\u756a\u53f7\uff08+1 \u3067\u59cb\u307e\u308b\u7c73\u56fd\u756a\u53f7\u3058\u3083\u306a\u3044\u3068\u3060\u3081\uff09\n\u30ac\u30e9\u30b1\u30fc(\u3053\u306e\u96fb\u8a71\u756a\u53f7\u3092Twilio\u306b\u767b\u9332\u3002\u4e0a\u8a18\u30b9\u30de\u30db\u3068\u517c\u7528\u3067\u3082OK\uff09\n\u30d1\u30bd\u30b3\u30f3\uff08\u8907\u96d1\u306a\u64cd\u4f5c\u3068\u304b\u5b9f\u884c\u7d50\u679c\u306e\u78ba\u8a8d\u3068\u304b\uff09\n\n\n\u5168\u4f53\u306e\u624b\u9806\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b(\u30b9\u30de\u30db\u307e\u305f\u306f\u30d1\u30bd\u30b3\u30f3\u3067\u5b9f\u65bd\uff09\nTwillio\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u8a2d\u5b9a\u3059\u308b(\u30b9\u30de\u30db\u307e\u305f\u306f\u30d1\u30bd\u30b3\u30f3\u3067\u5b9f\u65bd\uff09\n\u30b9\u30de\u30db\u3092IoT\u30bb\u30f3\u30b5\u30fc\u306b\u4ed5\u7acb\u3066\u308b\uff08\u30b9\u30de\u30db\u3067URL\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3060\u3051\uff09\n\u30b9\u30de\u30db\u30bb\u30f3\u30b5\u30fc\u60c5\u5831\u3092\u6d41\u3057\u8fbc\u3080\uff08\u30b9\u30de\u30db\u307e\u305f\u306f\u30d1\u30bd\u30b3\u30f3\u3067\u5b9f\u65bd\uff09\n\u30b9\u30de\u30db\u3092\u632f\u3063\u3066\u307f\u308b\n\n\n\u7d30\u304b\u306a\u624b\u9806\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\n\n\u753b\u9762\u306e\u4e09\u672c\u7dda\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u300cImport\u300d\uff1e\u300cClipboard\u300d\u3092\u9078\u629e\u3057\u3001\u30c0\u30a4\u30a2\u30ed\u30b0\u753b\u9762\u306b\u4ee5\u4e0b\u306e\u30d5\u30ed\u30fc\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\uff09\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\u3053\u3053\u306b\u3082\u8a73\u3057\u3044\u624b\u9806\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30d5\u30ed\u30fc\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\uff09(datapalooza\u3067\u7d39\u4ecb\u3057\u305f\u3082\u306e\u3067\u3059\u3002)\uff1a\n[{\"id\":\"96a0694f.dbc0e8\",\"type\":\"twilio-api\",\"z\":\"dd7792a3.471f1\",\"sid\":\"AC79edbcb542a2f88c8341493f625a9d7c\",\"from\":\"+17201112222\",\"name\":\"tel01\"},{\"id\":\"95f749e.26d6eb8\",\"type\":\"ibmiot in\",\"z\":\"dd7792a3.471f1\",\"authentication\":\"quickstart\",\"apiKey\":\"\",\"inputType\":\"evt\",\"deviceId\":\"465711112222\",\"applicationId\":\"\",\"deviceType\":\"+\",\"eventType\":\"+\",\"commandType\":\"\",\"format\":\"json\",\"name\":\"IBM IoT App In\",\"service\":\"quickstart\",\"allDevices\":false,\"allApplications\":false,\"allDeviceTypes\":true,\"allEvents\":true,\"allCommands\":false,\"allFormats\":false,\"x\":140,\"y\":120,\"wires\":[[\"3a1b5143.5b8cbe\"]]},{\"id\":\"3a1b5143.5b8cbe\",\"type\":\"function\",\"z\":\"dd7792a3.471f1\",\"name\":\"X\u65b9\u5411\u306e\u52a0\u901f\u5ea6\u3092\u62bd\u51fa\",\"func\":\"return {payload:msg.payload.d.accelX};\",\"outputs\":1,\"noerr\":0,\"x\":360,\"y\":120,\"wires\":[[\"407819d.71c45e8\"]]},{\"id\":\"407819d.71c45e8\",\"type\":\"function\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u76f4\u8fd110\u4ef6\u306e\u60c5\u5831\u306b\u6ce8\u76ee\",\"func\":\"if ( !context.global.array ) {\\n    context.global.array = new Array (10);\\n}\\nvar shifted = context.global.array.shift();\\n\\ncontext.global.array.push(msg.payload);\\n\\nmsg.array = context.global.array;\\nmsg.length = context.global.array.length;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":360,\"y\":180,\"wires\":[[\"783f89bb.be8348\"]]},{\"id\":\"783f89bb.be8348\",\"type\":\"function\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u79fb\u52d5\u5e73\u5747\",\"func\":\"var sum = 0, average = 0;\\n    for (i=0; i<msg.length; i++) {\\n        sum = sum + msg.array[i];\\n}\\nmsg.sum = sum;\\naverage = sum / msg.length;\\nmsg.average = average;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":320,\"y\":240,\"wires\":[[\"89fb04c3.8b0e28\"]]},{\"id\":\"95789723.1e1978\",\"type\":\"twilio out\",\"z\":\"dd7792a3.471f1\",\"service\":\"_ext_\",\"twilio\":\"96a0694f.dbc0e8\",\"from\":\"\",\"number\":\"+818012345678\",\"name\":\"\u4fdd\u5b88\u62c5\u5f53\u8005\u643a\u5e2f\u306bSMS\",\"x\":620,\"y\":300,\"wires\":[]},{\"id\":\"4b2f8afe.d04f04\",\"type\":\"comment\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d7\u4fe1\",\"info\":\"\",\"x\":130,\"y\":60,\"wires\":[]},{\"id\":\"6362539c.c0339c\",\"type\":\"comment\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u30c7\u30fc\u30bf\u89e3\u6790\u3057\u7570\u5e38\u632f\u52d5\u3092\u691c\u77e5\u3059\u308b\",\"info\":\"\",\"x\":390,\"y\":60,\"wires\":[]},{\"id\":\"8b94af1e.18b08\",\"type\":\"comment\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u89e3\u6790\u7d50\u679c\u306e\u5229\u7528\",\"info\":\"\",\"x\":620,\"y\":60,\"wires\":[]},{\"id\":\"89fb04c3.8b0e28\",\"type\":\"switch\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u7570\u5e38\u306a\u632f\u52d5\u304c\u767a\u751f\",\"property\":\"payload\",\"propertyType\":\"msg\",\"rules\":[{\"t\":\"gt\",\"v\":\"100\",\"vt\":\"str\"}],\"checkall\":\"true\",\"outputs\":1,\"x\":350,\"y\":300,\"wires\":[[\"95789723.1e1978\"]]}]\n\n\n\u3053\u3093\u306a\u304b\u3093\u3058\n\n\n\nTwillio\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u8a2d\u5b9a\u3059\u308b\n\nTwillio\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u300cAccount SID\u300d\u3068\u300cAuth Token\u300d\u3092\u30e1\u30e2\u3059\u308b\u3002\n\nNode-RED\u306eTwillio\u30d5\u30ed\u30fc\u3092\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u3057\u3066\u3001\u8a2d\u5b9a\u753b\u9762\u306eTwillioID\u6b04\u306e\u925b\u7b46\u30a2\u30a4\u30b3\u30f3\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3002\n\nSMS\u306e\u9001\u4fe1\u5148\u96fb\u8a71\u756a\u53f7\u3092\u6307\u5b9a\u3057\u3001\uff08Twillio\u30c8\u30e9\u30a4\u30a2\u30eb\u306e\u5834\u5408\u306f\u7533\u8fbc\u6642\u306e\u96fb\u8a71\u756a\u53f7\u306e\u307f\u6307\u5b9a\u53ef\u80fd\u3067\u3059\uff09\u925b\u7b46\u30a2\u30a4\u30b3\u30f3\u3092\u62bc\u3059\u3002\n\n\u8a8d\u8a3c\u60c5\u5831\u306b\u30011. \u306e\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u3066\u300cUpdate\u300d\u3092\u62bc\u3059\n\n\n\n\u30b9\u30de\u30db\u3092IoT\u30bb\u30f3\u30b5\u30fc\u306b\u4ed5\u7acb\u3066\u308b\n\u3053\u3053\u306e\u624b\u9806\u3068\u540c\u3058\u3002\n\n\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u3067\u3001\u3053\u3053\u306b\u30a2\u30af\u30bb\u30b9\uff1ahttp://phonesensor.mybluemix.net/\n\n\u30b9\u30de\u30db\u306e\u30bb\u30f3\u30b5\u30fcID\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\n\u300cd:quickstart:phone-sensor:[\u30b9\u30de\u30db\u306e\u30bb\u30f3\u30b5\u30fcID]\u300d\n\n\n\n\u30b9\u30de\u30db\u306e\u9001\u3063\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092IoT\u30a2\u30d7\u30ea\u306b\u6d41\u3057\u8fbc\u3080\n\u3053\u3053\u306e\u624b\u9806\u3068\u540c\u3058\u3002\n\nIoT\u30a2\u30d7\u30ea\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001Node-RED\u306e\u30d5\u30ed\u30fc\u7de8\u96c6\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002\n\u300c\"\u30a2\u30d7\u30ea\u540d\".mybluemix.net\u300d\n\u9752\u3044\u5165\u529b\u30d5\u30ed\u30fc\u300cIBM IoT App In\u300d\u3092\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u3057\u3066\u3001\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002\u8a2d\u5b9a\u753b\u9762\u306eDeviceID\u306b\u3001\u524d\u9805\u3067\u78ba\u8a8d\u3057\u305f\u30b9\u30de\u30db\u306e\u30bb\u30f3\u30b5\u30fcID\u3092\u8a18\u5165\u3057\u3001OK\u3092\u62bc\u3057\u3066\u8a2d\u5b9a\u753b\u9762\u3092\u9589\u3058\u307e\u3059\u3002\n\n\n\u30d5\u30ed\u30fc\u7de8\u96c6\u753b\u9762\u53f3\u4e0a\u306e\u300cDeploy\u300d \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n\n\n\u52d5\u304b\u3057\u3066\u307f\u308b\n\u30b9\u30de\u30db\u3092\u30ac\u30b7\u30ac\u30b7\u632f\u3063\u3066\u307f\u3088\u3046\u3002\n\n\u4f55\u3082\u8d77\u3053\u3089\u306a\u304b\u3063\u305f\u3089\uff1f\n\u9ec4\u8272\u306e\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u3059\u308b\u3068\u3001\u7570\u5e38\u5224\u5b9a\u306e\u95be\u5024\u304c\u5909\u66f4\u3067\u304d\u307e\u3059\u3002\u5b9f\u6a5f\u306e\u632f\u52d5\u30ec\u30d9\u30eb\u306b\u5408\u308f\u305b\u3066\u8abf\u6574\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\n\u3082\u3063\u3068\u7d30\u304b\u304f\u6319\u52d5\u3092\u898b\u305f\u3044\u65b9\u306f\u3053\u3063\u3061\u306e\u30d5\u30ed\u30fc\u3082\u3069\u3046\u305e\u3002\n\u30d5\u30ed\u30fc\uff08\u30d7\u30ed\u30b0\u30e9\u30e0)\n[{\"id\":\"60232d75.006ac4\",\"type\":\"twilio-api\",\"z\":\"6d1fa5a.3378c5c\",\"sid\":\"AC79edbcb542a2f88c8341493f625a9d7c\",\"from\":\"+17201112222\",\"name\":\"tel01\"},{\"id\":\"7849ddc3.9ca304\",\"type\":\"ibmiot in\",\"z\":\"6d1fa5a.3378c5c\",\"authentication\":\"quickstart\",\"apiKey\":\"\",\"inputType\":\"evt\",\"deviceId\":\"465711112222\",\"applicationId\":\"\",\"deviceType\":\"+\",\"eventType\":\"+\",\"commandType\":\"\",\"format\":\"json\",\"name\":\"IBM IoT App In\",\"service\":\"quickstart\",\"allDevices\":false,\"allApplications\":false,\"allDeviceTypes\":true,\"allEvents\":true,\"allCommands\":false,\"allFormats\":false,\"x\":105,\"y\":123,\"wires\":[[\"606759e6.4430f8\",\"e8117059.2ce46\"]]},{\"id\":\"e8117059.2ce46\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"device data\",\"active\":false,\"console\":\"false\",\"complete\":\"true\",\"x\":219,\"y\":187,\"wires\":[]},{\"id\":\"606759e6.4430f8\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"X\u65b9\u5411\u306e\u52a0\u901f\u5ea6\u3092\u62bd\u51fa\",\"func\":\"return {payload:msg.payload.d.accelX};\",\"outputs\":1,\"noerr\":0,\"x\":344,\"y\":113,\"wires\":[[\"bf51b264.252\"]]},{\"id\":\"bf51b264.252\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u76f4\u8fd110\u4ef6\u306e\u60c5\u5831\u306b\u6ce8\u76ee\",\"func\":\"if ( !context.global.array ) {\\n    context.global.array = new Array (10);\\n}\\nvar shifted = context.global.array.shift();\\n\\ncontext.global.array.push(msg.payload);\\n\\nmsg.array = context.global.array;\\nmsg.length = context.global.array.length;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":451,\"y\":190,\"wires\":[[\"5c86e402.c695ec\",\"289e5916.6eaf56\"]]},{\"id\":\"5c86e402.c695ec\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"array\",\"x\":672,\"y\":190,\"wires\":[]},{\"id\":\"289e5916.6eaf56\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u79fb\u52d5\u5e73\u5747\",\"func\":\"var sum = 0, average = 0;\\n    for (i=0; i<msg.length; i++) {\\n        sum = sum + msg.array[i];\\n}\\nmsg.sum = sum;\\naverage = sum / msg.length;\\nmsg.average = average;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":442,\"y\":247,\"wires\":[[\"61c9b961.c3b0f8\",\"d4f3e455.6a7228\",\"3e8d7ba7.8215d4\"]]},{\"id\":\"61c9b961.c3b0f8\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"average\",\"x\":684,\"y\":248,\"wires\":[]},{\"id\":\"d4f3e455.6a7228\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u5206\u6563\",\"func\":\"var variance = 0;\\nfor (i=0; i<msg.length; i++) {\\n    variance = variance + Math.pow(msg.array[i] - msg.average, 2);\\n}\\nvariance = variance / msg.length;\\nmsg.variance = variance;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":638,\"y\":307,\"wires\":[[\"1b44a62a.bf1cba\",\"5316a80d.307dd8\"]]},{\"id\":\"1b44a62a.bf1cba\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"variance\",\"x\":818,\"y\":308,\"wires\":[]},{\"id\":\"5316a80d.307dd8\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u6a19\u6e96\u504f\u5dee\",\"func\":\"var standard_deviation = 0;\\nstandard_deviation = Math.sqrt(msg.variance);\\nmsg.std = standard_deviation;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":648,\"y\":365,\"wires\":[[\"c6fe0020.0f524\"]]},{\"id\":\"c6fe0020.0f524\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"std\",\"x\":798,\"y\":365,\"wires\":[]},{\"id\":\"eb358ae8.2bc138\",\"type\":\"twilio out\",\"z\":\"6d1fa5a.3378c5c\",\"service\":\"_ext_\",\"twilio\":\"60232d75.006ac4\",\"from\":\"\",\"number\":\"+818012345678\",\"name\":\"\u4f1a\u793e\u643a\u5e2f\u306bSMS\",\"x\":739,\"y\":591,\"wires\":[]},{\"id\":\"8238ff41.450d8\",\"type\":\"comment\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d7\u4fe1\",\"info\":\"\",\"x\":167,\"y\":69,\"wires\":[]},{\"id\":\"73688c45.cc67e4\",\"type\":\"comment\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u30c7\u30fc\u30bf\u89e3\u6790\u3057\u632f\u52d5\u3092\u691c\u77e5\u3059\u308b\",\"info\":\"\",\"x\":544,\"y\":72,\"wires\":[]},{\"id\":\"8bc0c739.116ac8\",\"type\":\"comment\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u89e3\u6790\u7d50\u679c\u306e\u53cd\u6620\",\"info\":\"\",\"x\":734,\"y\":494,\"wires\":[]},{\"id\":\"3e8d7ba7.8215d4\",\"type\":\"switch\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u7d99\u7d9a\u3057\u3066\u632f\u52d5\u304c\u767a\u751f\",\"property\":\"payload\",\"propertyType\":\"msg\",\"rules\":[{\"t\":\"gt\",\"v\":\"30\",\"vt\":\"str\"}],\"checkall\":\"true\",\"outputs\":1,\"x\":535,\"y\":486.5,\"wires\":[[\"8f282437.7aa858\",\"eb358ae8.2bc138\"]]},{\"id\":\"8f282437.7aa858\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":730,\"y\":540,\"wires\":[]}]\n\n\n#\u6982\u8981\n[\u300c(\u307b\u307c)\u30b9\u30de\u30db(\u3060\u3051)\u3092\u4f7f\u3063\u3066IoT\u3092\u59cb\u3081\u3066\u307f\u3088\u3046\u300d](http://qiita.com/manamana/items/434cfc7ed6797851e2cc)\u306e\u7d9a\u304d\u3067\u3059\nNode-RED\u306e\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u3001IoT\u30a2\u30d7\u30ea\u3092\u3082\u3046\u5c11\u3057\u9ad8\u5ea6\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n//\u306a\u3093\u304b\u610f\u5730\u306b\u306a\u3063\u3066\u30b9\u30de\u30db\u3060\u3051\u3067\u64cd\u4f5c\u3057\u3066\u3044\u307e\u3059\u3002\n\n// 20160616 datapalooza@\u79cb\u8449\u539f\u3067\u7d39\u4ecb\u3057\u305f\u30c7\u30e2\u30a2\u30d7\u30ea\u306f\u3053\u3053\u306e\u624b\u9806\u3067\u4f5c\u308c\u307e\u3059\u3002\n\n// 201610 \u753b\u9762\u30ad\u30e3\u30d7\u30c1\u30e3\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\n\n#\u80cc\u666f(\u5927\u4e8b\u306a\u3053\u3068\u306a\u306e\u3067\u6bce\u56de\u8a00\u3044\u307e\u3059\uff09\n\u9762\u767d\u305d\u3046\u306a\u8a71\u3092\u805e\u3044\u3066\u300c\u3078\u30fc\u3001\u3084\u3063\u3066\u307f\u305f\u3044\u300d\u3068\u601d\u3063\u3066\u3082\u3001\u5bb6\u306b\u5e30\u3063\u3066\u5b9f\u969b\u306b\u3084\u308b\u304b\u306f\u6c17\u5206\u6b21\u7b2c\u3002\n\u6c17\u6301\u3061\u304c\u76db\u308a\u4e0a\u304c\u3063\u3066\u3044\u308b\u3046\u3061\u306b\u3001\u30b9\u30de\u30db\u3067\uff01\u4eca\u3059\u3050\uff01\u30bf\u30c0\u3067\uff01\u59cb\u3081\u307e\u3057\u3087\u3046\u3002\n\n#\u524d\u63d0\n* Bluemix\u306eIoT\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u3044\u308b\u3053\u3068\u3002\u307e\u3060\u306e\u4eba\u306f[\u3053\u3053](http://qiita.com/manamana/items/434cfc7ed6797851e2cc)\u3092\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\n* Twillio\u306e\u7121\u6599\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u3063\u3066\u3044\u308b\u3053\u3068\uff08**+1\u3067\u59cb\u307e\u308b\u7c73\u56fd\u756a\u53f7\u3092\u3068\u3063\u3066\u304f\u3060\u3055\u3044**\uff09\u307e\u3060\u306e\u4eba\u306f[https://www.twilio.com/try-twilio](https://www.twilio.com/try-twilio)\u3068\u304b\u304b\u3089\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n#\u7528\u610f\u3059\u308b\u3082\u306e\n* \u30b9\u30de\u30db(\u30bb\u30f3\u30b5\u30fc\u3068\u3057\u3066\u4f7f\u3044\u307e\u3059\uff09\n* Bluemix\u30a2\u30ab\u30a6\u30f3\u30c8\u3068Bluemix IoT \u30a2\u30d7\u30ea\n* Twillio\u96fb\u8a71\u756a\u53f7\uff08**+1 \u3067\u59cb\u307e\u308b\u7c73\u56fd\u756a\u53f7\u3058\u3083\u306a\u3044\u3068\u3060\u3081**\uff09\n* \u30ac\u30e9\u30b1\u30fc(\u3053\u306e\u96fb\u8a71\u756a\u53f7\u3092Twilio\u306b\u767b\u9332\u3002\u4e0a\u8a18\u30b9\u30de\u30db\u3068\u517c\u7528\u3067\u3082OK\uff09\n* \u30d1\u30bd\u30b3\u30f3\uff08\u8907\u96d1\u306a\u64cd\u4f5c\u3068\u304b\u5b9f\u884c\u7d50\u679c\u306e\u78ba\u8a8d\u3068\u304b\uff09\n\n#\u5168\u4f53\u306e\u624b\u9806\n1. \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b(\u30b9\u30de\u30db\u307e\u305f\u306f\u30d1\u30bd\u30b3\u30f3\u3067\u5b9f\u65bd\uff09\n1. Twillio\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u8a2d\u5b9a\u3059\u308b(\u30b9\u30de\u30db\u307e\u305f\u306f\u30d1\u30bd\u30b3\u30f3\u3067\u5b9f\u65bd\uff09\n1. \u30b9\u30de\u30db\u3092IoT\u30bb\u30f3\u30b5\u30fc\u306b\u4ed5\u7acb\u3066\u308b\uff08\u30b9\u30de\u30db\u3067URL\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3060\u3051\uff09\n1. \u30b9\u30de\u30db\u30bb\u30f3\u30b5\u30fc\u60c5\u5831\u3092\u6d41\u3057\u8fbc\u3080\uff08\u30b9\u30de\u30db\u307e\u305f\u306f\u30d1\u30bd\u30b3\u30f3\u3067\u5b9f\u65bd\uff09\n1. \u30b9\u30de\u30db\u3092\u632f\u3063\u3066\u307f\u308b\n\n#\u7d30\u304b\u306a\u624b\u9806\n## \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\n1. \u753b\u9762\u306e\u4e09\u672c\u7dda\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u300cImport\u300d\uff1e\u300cClipboard\u300d\u3092\u9078\u629e\u3057\u3001\u30c0\u30a4\u30a2\u30ed\u30b0\u753b\u9762\u306b\u4ee5\u4e0b\u306e\u30d5\u30ed\u30fc\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\uff09\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n[\u3053\u3053](http://qiita.com/egplnt/items/84b244a50d8bdaced324)\u306b\u3082\u8a73\u3057\u3044\u624b\u9806\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30d5\u30ed\u30fc\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\uff09(datapalooza\u3067\u7d39\u4ecb\u3057\u305f\u3082\u306e\u3067\u3059\u3002)\uff1a\n\n```\n[{\"id\":\"96a0694f.dbc0e8\",\"type\":\"twilio-api\",\"z\":\"dd7792a3.471f1\",\"sid\":\"AC79edbcb542a2f88c8341493f625a9d7c\",\"from\":\"+17201112222\",\"name\":\"tel01\"},{\"id\":\"95f749e.26d6eb8\",\"type\":\"ibmiot in\",\"z\":\"dd7792a3.471f1\",\"authentication\":\"quickstart\",\"apiKey\":\"\",\"inputType\":\"evt\",\"deviceId\":\"465711112222\",\"applicationId\":\"\",\"deviceType\":\"+\",\"eventType\":\"+\",\"commandType\":\"\",\"format\":\"json\",\"name\":\"IBM IoT App In\",\"service\":\"quickstart\",\"allDevices\":false,\"allApplications\":false,\"allDeviceTypes\":true,\"allEvents\":true,\"allCommands\":false,\"allFormats\":false,\"x\":140,\"y\":120,\"wires\":[[\"3a1b5143.5b8cbe\"]]},{\"id\":\"3a1b5143.5b8cbe\",\"type\":\"function\",\"z\":\"dd7792a3.471f1\",\"name\":\"X\u65b9\u5411\u306e\u52a0\u901f\u5ea6\u3092\u62bd\u51fa\",\"func\":\"return {payload:msg.payload.d.accelX};\",\"outputs\":1,\"noerr\":0,\"x\":360,\"y\":120,\"wires\":[[\"407819d.71c45e8\"]]},{\"id\":\"407819d.71c45e8\",\"type\":\"function\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u76f4\u8fd110\u4ef6\u306e\u60c5\u5831\u306b\u6ce8\u76ee\",\"func\":\"if ( !context.global.array ) {\\n    context.global.array = new Array (10);\\n}\\nvar shifted = context.global.array.shift();\\n\\ncontext.global.array.push(msg.payload);\\n\\nmsg.array = context.global.array;\\nmsg.length = context.global.array.length;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":360,\"y\":180,\"wires\":[[\"783f89bb.be8348\"]]},{\"id\":\"783f89bb.be8348\",\"type\":\"function\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u79fb\u52d5\u5e73\u5747\",\"func\":\"var sum = 0, average = 0;\\n    for (i=0; i<msg.length; i++) {\\n        sum = sum + msg.array[i];\\n}\\nmsg.sum = sum;\\naverage = sum / msg.length;\\nmsg.average = average;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":320,\"y\":240,\"wires\":[[\"89fb04c3.8b0e28\"]]},{\"id\":\"95789723.1e1978\",\"type\":\"twilio out\",\"z\":\"dd7792a3.471f1\",\"service\":\"_ext_\",\"twilio\":\"96a0694f.dbc0e8\",\"from\":\"\",\"number\":\"+818012345678\",\"name\":\"\u4fdd\u5b88\u62c5\u5f53\u8005\u643a\u5e2f\u306bSMS\",\"x\":620,\"y\":300,\"wires\":[]},{\"id\":\"4b2f8afe.d04f04\",\"type\":\"comment\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d7\u4fe1\",\"info\":\"\",\"x\":130,\"y\":60,\"wires\":[]},{\"id\":\"6362539c.c0339c\",\"type\":\"comment\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u30c7\u30fc\u30bf\u89e3\u6790\u3057\u7570\u5e38\u632f\u52d5\u3092\u691c\u77e5\u3059\u308b\",\"info\":\"\",\"x\":390,\"y\":60,\"wires\":[]},{\"id\":\"8b94af1e.18b08\",\"type\":\"comment\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u89e3\u6790\u7d50\u679c\u306e\u5229\u7528\",\"info\":\"\",\"x\":620,\"y\":60,\"wires\":[]},{\"id\":\"89fb04c3.8b0e28\",\"type\":\"switch\",\"z\":\"dd7792a3.471f1\",\"name\":\"\u7570\u5e38\u306a\u632f\u52d5\u304c\u767a\u751f\",\"property\":\"payload\",\"propertyType\":\"msg\",\"rules\":[{\"t\":\"gt\",\"v\":\"100\",\"vt\":\"str\"}],\"checkall\":\"true\",\"outputs\":1,\"x\":350,\"y\":300,\"wires\":[[\"95789723.1e1978\"]]}]\n\n```\n\n\u3053\u3093\u306a\u304b\u3093\u3058\n![import01.png](https://qiita-image-store.s3.amazonaws.com/0/105029/28c8ef0c-d906-d9d4-b73b-2e2a95f53234.png)\n![simple_flow.png](https://qiita-image-store.s3.amazonaws.com/0/105029/68a402ed-e28c-6012-bbe5-8776c0600f27.png)\n\n\n\n## Twillio\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u3092\u8a2d\u5b9a\u3059\u308b\n1. Twillio\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u300cAccount SID\u300d\u3068\u300cAuth Token\u300d\u3092\u30e1\u30e2\u3059\u308b\u3002\n![twillio.png](https://qiita-image-store.s3.amazonaws.com/0/105029/b08bb638-54f9-295f-ac01-8079a1f8b938.png)\n\n1. Node-RED\u306eTwillio\u30d5\u30ed\u30fc\u3092\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u3057\u3066\u3001\u8a2d\u5b9a\u753b\u9762\u306eTwillioID\u6b04\u306e\u925b\u7b46\u30a2\u30a4\u30b3\u30f3\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3002\n![simple_flow02.png](https://qiita-image-store.s3.amazonaws.com/0/105029/d5974048-7eb0-c725-0289-8c04238d83d2.png)\n\n1. SMS\u306e\u9001\u4fe1\u5148\u96fb\u8a71\u756a\u53f7\u3092\u6307\u5b9a\u3057\u3001\uff08Twillio\u30c8\u30e9\u30a4\u30a2\u30eb\u306e\u5834\u5408\u306f\u7533\u8fbc\u6642\u306e\u96fb\u8a71\u756a\u53f7\u306e\u307f\u6307\u5b9a\u53ef\u80fd\u3067\u3059\uff09\u925b\u7b46\u30a2\u30a4\u30b3\u30f3\u3092\u62bc\u3059\u3002\n![twillio_auth.png](https://qiita-image-store.s3.amazonaws.com/0/105029/545f6b86-ba65-057f-8125-fb42e65a247c.png)\n\n\n3. \u8a8d\u8a3c\u60c5\u5831\u306b\u30011. \u306e\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u3066\u300cUpdate\u300d\u3092\u62bc\u3059\n![twillio_token.png](https://qiita-image-store.s3.amazonaws.com/0/105029/eb974f87-105e-53ff-af98-a74df0cd8843.png)\n\n\n\n## \u30b9\u30de\u30db\u3092IoT\u30bb\u30f3\u30b5\u30fc\u306b\u4ed5\u7acb\u3066\u308b\n[\u3053\u3053](http://qiita.com/manamana/items/434cfc7ed6797851e2cc#%E3%82%B9%E3%83%9E%E3%83%9B%E3%81%AE%E3%82%BB%E3%83%B3%E3%82%B5%E3%83%BC%E6%83%85%E5%A0%B1%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B)\u306e\u624b\u9806\u3068\u540c\u3058\u3002\n\n1. \u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u3067\u3001\u3053\u3053\u306b\u30a2\u30af\u30bb\u30b9\uff1ahttp://phonesensor.mybluemix.net/\n![QRcode_senser.gif](https://qiita-image-store.s3.amazonaws.com/0/71361/6cd2e618-d93f-845a-d968-415c3873cae1.gif)\n\n1. \u30b9\u30de\u30db\u306e\u30bb\u30f3\u30b5\u30fcID\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\n\u300cd:quickstart:phone-sensor:[\u30b9\u30de\u30db\u306e\u30bb\u30f3\u30b5\u30fcID]\u300d\n![sensor03.png](https://qiita-image-store.s3.amazonaws.com/0/71361/470084c8-26bc-fc26-f20d-120878538900.png)\n\n\n## \u30b9\u30de\u30db\u306e\u9001\u3063\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092IoT\u30a2\u30d7\u30ea\u306b\u6d41\u3057\u8fbc\u3080\n[\u3053\u3053](http://qiita.com/manamana/items/434cfc7ed6797851e2cc#%E3%82%B9%E3%83%9E%E3%83%9B%E3%81%AE%E9%80%81%E3%81%A3%E3%81%9F%E3%82%BB%E3%83%B3%E3%82%B5%E3%83%BC%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92iot%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AB%E6%B5%81%E3%81%97%E8%BE%BC%E3%82%80)\u306e\u624b\u9806\u3068\u540c\u3058\u3002\n\n\n1. IoT\u30a2\u30d7\u30ea\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001Node-RED\u306e\u30d5\u30ed\u30fc\u7de8\u96c6\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002\n\u300c\"\u30a2\u30d7\u30ea\u540d\".mybluemix.net\u300d\n\n2. \u9752\u3044\u5165\u529b\u30d5\u30ed\u30fc\u300cIBM IoT App In\u300d\u3092\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u3057\u3066\u3001\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002\u8a2d\u5b9a\u753b\u9762\u306eDeviceID\u306b\u3001\u524d\u9805\u3067\u78ba\u8a8d\u3057\u305f\u30b9\u30de\u30db\u306e\u30bb\u30f3\u30b5\u30fcID\u3092\u8a18\u5165\u3057\u3001OK\u3092\u62bc\u3057\u3066\u8a2d\u5b9a\u753b\u9762\u3092\u9589\u3058\u307e\u3059\u3002\n![simple_flow03.png](https://qiita-image-store.s3.amazonaws.com/0/105029/3e56372c-5669-c943-0f90-ae0bf01294fe.png)\n![flow_edit_device.png](https://qiita-image-store.s3.amazonaws.com/0/71361/c6ec800a-9106-dc64-1847-1b3f26c256b1.png)\n \n3. \u30d5\u30ed\u30fc\u7de8\u96c6\u753b\u9762\u53f3\u4e0a\u306e\u300cDeploy\u300d \u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n![simple_flow04.png](https://qiita-image-store.s3.amazonaws.com/0/105029/8ef5413c-f3a0-ee80-e3d8-27c7b10ee12a.png)\n\n\n## \u52d5\u304b\u3057\u3066\u307f\u308b\n\u30b9\u30de\u30db\u3092\u30ac\u30b7\u30ac\u30b7\u632f\u3063\u3066\u307f\u3088\u3046\u3002\n\n\n## \u4f55\u3082\u8d77\u3053\u3089\u306a\u304b\u3063\u305f\u3089\uff1f\n\u9ec4\u8272\u306e\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u3059\u308b\u3068\u3001\u7570\u5e38\u5224\u5b9a\u306e\u95be\u5024\u304c\u5909\u66f4\u3067\u304d\u307e\u3059\u3002\u5b9f\u6a5f\u306e\u632f\u52d5\u30ec\u30d9\u30eb\u306b\u5408\u308f\u305b\u3066\u8abf\u6574\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n![simple_flow05.png](https://qiita-image-store.s3.amazonaws.com/0/105029/11dcfe48-2dc7-1738-e7ad-81b4be16f33d.png)\n\n\n# \u3082\u3063\u3068\u7d30\u304b\u304f\u6319\u52d5\u3092\u898b\u305f\u3044\u65b9\u306f\u3053\u3063\u3061\u306e\u30d5\u30ed\u30fc\u3082\u3069\u3046\u305e\u3002\n\u30d5\u30ed\u30fc\uff08\u30d7\u30ed\u30b0\u30e9\u30e0)\n\n```\n[{\"id\":\"60232d75.006ac4\",\"type\":\"twilio-api\",\"z\":\"6d1fa5a.3378c5c\",\"sid\":\"AC79edbcb542a2f88c8341493f625a9d7c\",\"from\":\"+17201112222\",\"name\":\"tel01\"},{\"id\":\"7849ddc3.9ca304\",\"type\":\"ibmiot in\",\"z\":\"6d1fa5a.3378c5c\",\"authentication\":\"quickstart\",\"apiKey\":\"\",\"inputType\":\"evt\",\"deviceId\":\"465711112222\",\"applicationId\":\"\",\"deviceType\":\"+\",\"eventType\":\"+\",\"commandType\":\"\",\"format\":\"json\",\"name\":\"IBM IoT App In\",\"service\":\"quickstart\",\"allDevices\":false,\"allApplications\":false,\"allDeviceTypes\":true,\"allEvents\":true,\"allCommands\":false,\"allFormats\":false,\"x\":105,\"y\":123,\"wires\":[[\"606759e6.4430f8\",\"e8117059.2ce46\"]]},{\"id\":\"e8117059.2ce46\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"device data\",\"active\":false,\"console\":\"false\",\"complete\":\"true\",\"x\":219,\"y\":187,\"wires\":[]},{\"id\":\"606759e6.4430f8\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"X\u65b9\u5411\u306e\u52a0\u901f\u5ea6\u3092\u62bd\u51fa\",\"func\":\"return {payload:msg.payload.d.accelX};\",\"outputs\":1,\"noerr\":0,\"x\":344,\"y\":113,\"wires\":[[\"bf51b264.252\"]]},{\"id\":\"bf51b264.252\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u76f4\u8fd110\u4ef6\u306e\u60c5\u5831\u306b\u6ce8\u76ee\",\"func\":\"if ( !context.global.array ) {\\n    context.global.array = new Array (10);\\n}\\nvar shifted = context.global.array.shift();\\n\\ncontext.global.array.push(msg.payload);\\n\\nmsg.array = context.global.array;\\nmsg.length = context.global.array.length;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":451,\"y\":190,\"wires\":[[\"5c86e402.c695ec\",\"289e5916.6eaf56\"]]},{\"id\":\"5c86e402.c695ec\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"array\",\"x\":672,\"y\":190,\"wires\":[]},{\"id\":\"289e5916.6eaf56\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u79fb\u52d5\u5e73\u5747\",\"func\":\"var sum = 0, average = 0;\\n    for (i=0; i<msg.length; i++) {\\n        sum = sum + msg.array[i];\\n}\\nmsg.sum = sum;\\naverage = sum / msg.length;\\nmsg.average = average;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":442,\"y\":247,\"wires\":[[\"61c9b961.c3b0f8\",\"d4f3e455.6a7228\",\"3e8d7ba7.8215d4\"]]},{\"id\":\"61c9b961.c3b0f8\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"average\",\"x\":684,\"y\":248,\"wires\":[]},{\"id\":\"d4f3e455.6a7228\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u5206\u6563\",\"func\":\"var variance = 0;\\nfor (i=0; i<msg.length; i++) {\\n    variance = variance + Math.pow(msg.array[i] - msg.average, 2);\\n}\\nvariance = variance / msg.length;\\nmsg.variance = variance;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":638,\"y\":307,\"wires\":[[\"1b44a62a.bf1cba\",\"5316a80d.307dd8\"]]},{\"id\":\"1b44a62a.bf1cba\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"variance\",\"x\":818,\"y\":308,\"wires\":[]},{\"id\":\"5316a80d.307dd8\",\"type\":\"function\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u6a19\u6e96\u504f\u5dee\",\"func\":\"var standard_deviation = 0;\\nstandard_deviation = Math.sqrt(msg.variance);\\nmsg.std = standard_deviation;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":648,\"y\":365,\"wires\":[[\"c6fe0020.0f524\"]]},{\"id\":\"c6fe0020.0f524\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"std\",\"x\":798,\"y\":365,\"wires\":[]},{\"id\":\"eb358ae8.2bc138\",\"type\":\"twilio out\",\"z\":\"6d1fa5a.3378c5c\",\"service\":\"_ext_\",\"twilio\":\"60232d75.006ac4\",\"from\":\"\",\"number\":\"+818012345678\",\"name\":\"\u4f1a\u793e\u643a\u5e2f\u306bSMS\",\"x\":739,\"y\":591,\"wires\":[]},{\"id\":\"8238ff41.450d8\",\"type\":\"comment\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d7\u4fe1\",\"info\":\"\",\"x\":167,\"y\":69,\"wires\":[]},{\"id\":\"73688c45.cc67e4\",\"type\":\"comment\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u30c7\u30fc\u30bf\u89e3\u6790\u3057\u632f\u52d5\u3092\u691c\u77e5\u3059\u308b\",\"info\":\"\",\"x\":544,\"y\":72,\"wires\":[]},{\"id\":\"8bc0c739.116ac8\",\"type\":\"comment\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u89e3\u6790\u7d50\u679c\u306e\u53cd\u6620\",\"info\":\"\",\"x\":734,\"y\":494,\"wires\":[]},{\"id\":\"3e8d7ba7.8215d4\",\"type\":\"switch\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\u7d99\u7d9a\u3057\u3066\u632f\u52d5\u304c\u767a\u751f\",\"property\":\"payload\",\"propertyType\":\"msg\",\"rules\":[{\"t\":\"gt\",\"v\":\"30\",\"vt\":\"str\"}],\"checkall\":\"true\",\"outputs\":1,\"x\":535,\"y\":486.5,\"wires\":[[\"8f282437.7aa858\",\"eb358ae8.2bc138\"]]},{\"id\":\"8f282437.7aa858\",\"type\":\"debug\",\"z\":\"6d1fa5a.3378c5c\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":730,\"y\":540,\"wires\":[]}]\n```\n![flow2_01.png](https://qiita-image-store.s3.amazonaws.com/0/105029/1e6f81da-51e8-fde7-c38d-0894e4ca442d.png)\n\n\n", "tags": ["IoT", "Bluemix", "node-red", "watsoniotplatform", "iotfords"]}