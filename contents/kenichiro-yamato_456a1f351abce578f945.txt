{"context": "\u524d\u63d0\uff1aCentOS-7-x86_64\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3002root\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u3053\u3068\u3002\n\u25cfSELinux\u3092\u7121\u52b9\u5316\u3059\u308b\nvi /etc/selinux/config\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3059\u308b\n##SELINUX=enforcing\nSELINUX=disabled\n\n\u518d\u8d77\u52d5\u3059\u308b\nsudo shutdown -r now\n\n\u25cfEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\nyum update -y\nyum install epel-release -y\nyum -y update epel-release\n\n\u25cfRemi\u30ea\u30dd\u30b8\u30c8\u30ea\nrpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\nyum -y update remi-release\n\n\u25cfnginx\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrpm -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm\nyum -y update nginx-release-centos\nyum -y --enablerepo=nginx install nginx\n\n\u25cf\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u89e3\u9664\nfirewall-cmd --permanent --zone=public --add-service=http\nfirewall-cmd --permanent --zone=public --add-service=https\nfirewall-cmd --reload\n\n\u25cfnginx\u8d77\u52d5\nsystemctl start nginx.service\nsystemctl enable nginx.service\n\n\u3053\u306e\u6642\u70b9\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u3066http\u3067\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u3001\nnginx\u306e\u30da\u30fc\u30b8\n\u300cWelcome to nginx!\u300d\n\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\u25cf/etc/nginx/conf.d \u306e\u8a2d\u5b9a\ncd /etc/nginx/conf.d\ncp -p default.conf default.conf.org\nvi default.conf\n\ndefault.conf \u306b\u3001\u6b21\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3059\u308b\u3002\nserver {\n  listen 80;\n  server_name localhost;\n  root /usr/share/nginx/html/;\n  index index.php index.html index.htm;\n\n  location / {\n    try_files $uri $uri/ /index.php?$query_string;\n  }\n\n  location ~ \\.php$ {\n    fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    fastcgi_pass unix:/var/run/php-fpm.sock;\n    fastcgi_index index.php;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param PATH_INFO $fastcgi_path_info;\n    include fastcgi_params;\n  }\n}\n\n\u25cfPHP7\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum -y --enablerepo=remi-php70,epel install php-fpm php-gd php-gmp php-mbstring php-mcrypt php-opcache php-pdo php-pear-MDB2-Driver-mysqli php-pecl-memcached php-pecl-msgpack php-xml php-devel php-gd\n\n\u25cfphp-fpm\u306e\u8a2d\u5b9a\ncd /etc/php-fpm.d/\ncp -p www.conf www.conf.org\nvi www.conf\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3059\u308b\u3002\nuser = nginx\ngroup = nginx\nlisten = /var/run/php-fpm.sock\nlisten.owner = nginx\nlisten.group = nginx\n\n\u25cfphp-fpm\u306e\u8d77\u52d5\nsystemctl start php-fpm\nsystemctl enable php-fpm\nsystemctl restart nginx.service\n\n\u25cfPHP\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u52d5\u4f5c\u78ba\u8a8d\ncd /usr/share/nginx/html\nvi index.php\n<?php echo 'hoge'; ?>\n\n\u30d6\u30e9\u30a6\u30b6\u306b\u3066http\u3067\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001hoge\u3068\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u305f\u3089OK\u3002\n\u25cfMySQL5.7\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrpm -ivh http://dev.mysql.com/get/mysql57-community-release-el7-7.noarch.rpm\nyum install -y mysql-community-server\nmysqld --version\n\n\u25cfMySQL5.7\u306e\u8d77\u52d5\nsystemctl enable mysqld.service\nsystemctl start mysqld.service\n\n\u25cfMySQL5.7\u306e\u8a2d\u5b9a\nvi /etc/my.cnf\n\nskip-grant-tables \u3092\u8ffd\u52a0\u3059\u308b\u3002\n[mysqld]\nskip-grant-tables\n\nmysqld\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\nsystemctl restart mysqld.service\n\n\u25cfMySQL5.7\u306eroot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3001\u6700\u4f4e1\u3064\u306e\u6570\u5024\u6587\u5b57\u3092\u542b\u307f\u30011\u3064\u306e\u5c0f\u6587\u5b57\u304a\u3088\u3073\u5927\u6587\u5b57\u3092\u542b\u307f\u30011\u3064\u306e\u7279\u6b8a\u6587\u5b57(\u82f1\u6570\u5b57\u4ee5\u5916)\u3092\u542b\u3080\u5fc5\u8981\u304c\u3042\u308b\u3002\nmysql -u root\nuse mysql\nUPDATE user SET authentication_string=password('\u4efb\u610f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9') WHERE user='root';\nflush privileges;\nexit\n\n\u8a2d\u5b9a\u3092\u623b\u3059\u3002\nvi /etc/my.cnf\nskip-grant-tables \u3092\u524a\u9664\u3059\u308b\u3002\nsystemctl restart mysqld.service\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u4ed8\u304d\u3067\u5165\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\nmysql -u root -p\nALTER USER 'root'@'localhost' IDENTIFIED BY '\u4efb\u610f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9';\n\n\u25cfPHP7\u3068MySQL5.7\u306e\u63a5\u7d9a\u3092\u78ba\u8a8d\u3059\u308b\n<?php\ntry {\n  $pdo = new PDO('mysql:host=localhost;dbname=mysql;charset=utf8','root','MySQL\u306e\u30d1\u30b9\u30ef\u30fc\u30c9',\n  array(PDO::ATTR_EMULATE_PREPARES => false));\n  $result = $pdo->query('show tables');\n  while($row = $result->fetch(PDO::FETCH_ASSOC)) {\n    print_r($row);\n  }\n} catch (PDOException $e) {\n  exit('\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u5931\u6557\u3002'.$e->getMessage());\n}\n?>\n\n\u25cfgit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum install git -y\n\n\u25cfLaravel5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://qiita.com/kenichiro-yamato/items/1f8e2c80c8067fc51f56\n\u25cflaravel\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\u306e\u4e0b\u6e96\u5099\nyum install php-pear --disablerepo=* --enablerepo=remi,remi-php70\nyum -y install cc gcc\nyum -y install zlib-devel\npecl install zip\n\nvi /etc/php.ini\n\n\u3064\u304e\u306e\u3088\u3046\u306b\u8ffd\u8a18\u3059\u308b\u3002\n[PHP]\nextension=zip.so\n\nnginx\u518d\u8d77\u52d5\nsystemctl restart nginx.service\n\n\u25cflaravel\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\ncd /usr/share/nginx/html/\n/root/.config/composer/vendor/bin/laravel new hoge\n\n\u30fbnginx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30eb\u3092laravel\u306epublic\u306b\u5408\u308f\u305b\u308b\u3002\n\u30fb\u518d\u8d77\u52d5\u3059\u308b systemctl restart nginx.service\n\u30fblaravel\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u3051\u308b\u3002 chmod -R 777 storage\n\u30fb\u30d6\u30e9\u30a6\u30b6\u306b\u3066http\u3067\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001Laravel\u306e\u30c8\u30c3\u30d7\u304c\u8868\u793a\u3055\u308c\u305f\u3089OK\u3002\n\u524d\u63d0\uff1aCentOS-7-x86_64\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3002root\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u3053\u3068\u3002\n\n\u25cfSELinux\u3092\u7121\u52b9\u5316\u3059\u308b\n\n    vi /etc/selinux/config\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3059\u308b\n\n    ##SELINUX=enforcing\n    SELINUX=disabled\n\n\u518d\u8d77\u52d5\u3059\u308b\n\n    sudo shutdown -r now\n\n\n\u25cfEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\n\n    yum update -y\n    yum install epel-release -y\n    yum -y update epel-release\n\n\u25cfRemi\u30ea\u30dd\u30b8\u30c8\u30ea\n\n    rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\n    yum -y update remi-release\n\n\u25cfnginx\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n    rpm -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm\n    yum -y update nginx-release-centos\n    yum -y --enablerepo=nginx install nginx\n\n\u25cf\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u89e3\u9664\n\n    firewall-cmd --permanent --zone=public --add-service=http\n    firewall-cmd --permanent --zone=public --add-service=https\n    firewall-cmd --reload\n\n\u25cfnginx\u8d77\u52d5\n\n    systemctl start nginx.service\n    systemctl enable nginx.service\n\n\u3053\u306e\u6642\u70b9\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u3066http\u3067\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u3001\nnginx\u306e\u30da\u30fc\u30b8\n\u300cWelcome to nginx!\u300d\n\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n\u25cf/etc/nginx/conf.d \u306e\u8a2d\u5b9a\n\n    cd /etc/nginx/conf.d\n    cp -p default.conf default.conf.org\n    vi default.conf\n\ndefault.conf \u306b\u3001\u6b21\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3059\u308b\u3002\n\n    server {\n      listen 80;\n      server_name localhost;\n      root /usr/share/nginx/html/;\n      index index.php index.html index.htm;\n\n      location / {\n        try_files $uri $uri/ /index.php?$query_string;\n      }\n\n      location ~ \\.php$ {\n        fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n        fastcgi_pass unix:/var/run/php-fpm.sock;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        fastcgi_param PATH_INFO $fastcgi_path_info;\n        include fastcgi_params;\n      }\n    }\n\n\u25cfPHP7\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n    yum -y --enablerepo=remi-php70,epel install php-fpm php-gd php-gmp php-mbstring php-mcrypt php-opcache php-pdo php-pear-MDB2-Driver-mysqli php-pecl-memcached php-pecl-msgpack php-xml php-devel php-gd\n\n\u25cfphp-fpm\u306e\u8a2d\u5b9a\n\n    cd /etc/php-fpm.d/\n    cp -p www.conf www.conf.org\n    vi www.conf\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3059\u308b\u3002\n\n    user = nginx\n    group = nginx\n    listen = /var/run/php-fpm.sock\n    listen.owner = nginx\n    listen.group = nginx\n\n\u25cfphp-fpm\u306e\u8d77\u52d5\n\n    systemctl start php-fpm\n    systemctl enable php-fpm\n    systemctl restart nginx.service\n\n\n\u25cfPHP\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u52d5\u4f5c\u78ba\u8a8d\n\n    cd /usr/share/nginx/html\n    vi index.php\n    <?php echo 'hoge'; ?>\n\n\n\u30d6\u30e9\u30a6\u30b6\u306b\u3066http\u3067\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001hoge\u3068\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u305f\u3089OK\u3002\n\n\u25cfMySQL5.7\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n    rpm -ivh http://dev.mysql.com/get/mysql57-community-release-el7-7.noarch.rpm\n    yum install -y mysql-community-server\n    mysqld --version\n\n\n\u25cfMySQL5.7\u306e\u8d77\u52d5\n\n    systemctl enable mysqld.service\n    systemctl start mysqld.service\n\n\u25cfMySQL5.7\u306e\u8a2d\u5b9a\n\n    vi /etc/my.cnf\n\nskip-grant-tables \u3092\u8ffd\u52a0\u3059\u308b\u3002\n\n    [mysqld]\n    skip-grant-tables\n\nmysqld\u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n\n    systemctl restart mysqld.service\n\n\u25cfMySQL5.7\u306eroot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3001\u6700\u4f4e1\u3064\u306e\u6570\u5024\u6587\u5b57\u3092\u542b\u307f\u30011\u3064\u306e\u5c0f\u6587\u5b57\u304a\u3088\u3073\u5927\u6587\u5b57\u3092\u542b\u307f\u30011\u3064\u306e\u7279\u6b8a\u6587\u5b57(\u82f1\u6570\u5b57\u4ee5\u5916)\u3092\u542b\u3080\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n    mysql -u root\n    use mysql\n    UPDATE user SET authentication_string=password('\u4efb\u610f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9') WHERE user='root';\n    flush privileges;\n    exit\n\n\u8a2d\u5b9a\u3092\u623b\u3059\u3002\n\n    vi /etc/my.cnf\n    skip-grant-tables \u3092\u524a\u9664\u3059\u308b\u3002\n    systemctl restart mysqld.service\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u4ed8\u304d\u3067\u5165\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n    mysql -u root -p\n    ALTER USER 'root'@'localhost' IDENTIFIED BY '\u4efb\u610f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9';\n\n\n\u25cfPHP7\u3068MySQL5.7\u306e\u63a5\u7d9a\u3092\u78ba\u8a8d\u3059\u308b\n\n    <?php\n    try {\n      $pdo = new PDO('mysql:host=localhost;dbname=mysql;charset=utf8','root','MySQL\u306e\u30d1\u30b9\u30ef\u30fc\u30c9',\n      array(PDO::ATTR_EMULATE_PREPARES => false));\n      $result = $pdo->query('show tables');\n      while($row = $result->fetch(PDO::FETCH_ASSOC)) {\n        print_r($row);\n      }\n    } catch (PDOException $e) {\n      exit('\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u5931\u6557\u3002'.$e->getMessage());\n    }\n    ?>\n\n\u25cfgit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n    yum install git -y\n\n\u25cfLaravel5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://qiita.com/kenichiro-yamato/items/1f8e2c80c8067fc51f56\n\n\u25cflaravel\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\u306e\u4e0b\u6e96\u5099\n\n    yum install php-pear --disablerepo=* --enablerepo=remi,remi-php70\n    yum -y install cc gcc\n    yum -y install zlib-devel\n    pecl install zip\n\n    vi /etc/php.ini\n\n\u3064\u304e\u306e\u3088\u3046\u306b\u8ffd\u8a18\u3059\u308b\u3002\n\n\n    [PHP]\n    extension=zip.so\n\nnginx\u518d\u8d77\u52d5\n\n    systemctl restart nginx.service\n\n\u25cflaravel\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\n\n    cd /usr/share/nginx/html/\n    /root/.config/composer/vendor/bin/laravel new hoge\n\n\u30fbnginx\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30eb\u3092laravel\u306epublic\u306b\u5408\u308f\u305b\u308b\u3002\n\u30fb\u518d\u8d77\u52d5\u3059\u308b systemctl restart nginx.service\n\u30fblaravel\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u3051\u308b\u3002 chmod -R 777 storage\n\u30fb\u30d6\u30e9\u30a6\u30b6\u306b\u3066http\u3067\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001Laravel\u306e\u30c8\u30c3\u30d7\u304c\u8868\u793a\u3055\u308c\u305f\u3089OK\u3002\n\n", "tags": ["nginx", "PHP7", "centos7", "mysql5.7"]}