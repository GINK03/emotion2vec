{"context": "\n\nWindows \u7248 neovim \u3067 python3 (deoplete.nvim) \u3092\u7121\u7406\u3084\u308a\u4f7f\u3046\n\u3069\u3046\u3057\u3066\u3082 windows \u74b0\u5883\u3092\u6574\u3048\u305f\u304b\u3063\u305f\u306e\u3067\uff0c\u8272\u3005\u8a66\u3057\u305f\u3089\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3082\u306e\u306e\uff0c\u6b63\u653b\u6cd5\u3068\u306f\u8a00\u3044\u96e3\u3044\u306e\u3067\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\uff0e\n\u3082\u3057\uff0c\u3082\u3063\u3068\u7b4b\u306e\u826f\u3044\u89e3\u6c7a\u65b9\u6cd5\u3092\u3054\u5b58\u77e5\u3067\u3042\u308c\u3070\uff0c\u30b3\u30e1\u30f3\u30c8\u3057\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\uff0e\n\nneovim\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u516c\u5f0f \u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\n\u7279\u306b\u3064\u307e\u3065\u304f\u3068\u3053\u308d\u306f\u306a\u3044\u306f\u305a\uff0e\n\nhas('python3') \u306e\u8fd4\u308a\u5024\u30921\u306b\u3059\u308b\n\u3053\u306e Issue \u306b\u66f8\u3044\u3066\u3042\u308b\u3088\u3046\u306b\uff0c windows \u74b0\u5883\u3067\u306f has('python3') \u306e\u8fd4\u308a\u5024\u304c 0\uff0e\npython3 \u7cfb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\uff0c pip3.exe install neovim \u3092\u5b9f\u884c\u3059\u308b\uff0e\n\u3053\u306e\u30b3\u30e1\u30f3\u30c8 \u306e\u8a2d\u5b9a\u3092 init.vim \u306b\u8ffd\u52a0\u3059\u308b\uff0e\nlet g:python3_host_prog = 'C:\\Users\\username\\AppData\\Local\\Programs\\Python\\Python35\\python.exe'\n\n$VIMRUNTIME\\autoload\\provider\\pythonx.vim \u306b\u4ee5\u4e0b\u306e\u30d1\u30c3\u30c1\u3092\u5f53\u3066\u308b\uff0e\ndiff --git a/usr/local/share/nvim/runtime/autoload/provider/pythonx.vim b/media/huyu/BEA4-08FB/pythonx.vim\nindex 6d6b389..0ebae4f 100644\n--- a/usr/local/share/nvim/runtime/autoload/provider/pythonx.vim\n+++ b/media/huyu/BEA4-08FB/pythonx.vim\n@@ -22,7 +22,7 @@ function! provider#pythonx#Require(host) abort\n\n   \" Python host arguments\n   let prog = (ver == '2' ?  provider#python#Prog() : provider#python3#Prog())\n-  let args = [prog, '-c', 'import sys; sys.path.remove(\"\"); import neovim; neovim.start_host()']\n+  let args = [prog, '-c', '\"import sys; sys.path.remove(\\\"\\\"); import neovim; neovim.start_host()\"']\n\n   \" Collect registered Python plugins into args\n   let python_plugins = remote#host#PluginsForHost(a:host.name)\n@@ -101,11 +101,11 @@ function! s:check_interpreter(prog, major_ver, skip) abort\n   \"   2  Neovim module cannot be loaded.\n   \"   Otherwise something else went wrong (e.g. 1 or 127).\n   let prog_ver = system([ a:prog , '-c' ,\n-        \\ 'import sys; ' .\n-        \\ 'sys.path.remove(\"\"); ' .\n-        \\ 'sys.stdout.write(str(sys.version_info[0]) + \".\" + str(sys.version_info[1])); ' .\n+        \\ '\"import sys; ' .\n+        \\ 'sys.path.remove(\\\"\\\"); ' .\n+        \\ 'sys.stdout.write(str(sys.version_info[0]) + \\\".\\\" + str(sys.version_info[1])); ' .\n         \\ 'import pkgutil; ' .\n-        \\ 'exit(2*int(pkgutil.get_loader(\"neovim\") is None))'\n+        \\ 'exit(2*int(pkgutil.get_loader(\\\"neovim\\\") is None))\"'\n         \\ ])\n\n   if v:shell_error == 2 || v:shell_error == 0\n\nnvim-qt \u3092\u8d77\u52d5\u3057\u3066 :echo has('python3') \u3059\u308b\u3068 1 \u304c\u8fd4\u3063\u3066\u304f\u308b\uff0e\ndein.vim \u3068\u304b\u4f7f\u3063\u3066 deoplete.nvim \u3092\u5c0e\u5165\u3059\u308b\u3068\u52d5\u304f\uff0e\n\n\u52d5\u4f5c\u74b0\u5883\nOS: Windows10(Build 14936)\nneovim: v0.1.6-833-g35f67ee\npython: 3.5.2\n# Windows \u7248 neovim \u3067 python3 (deoplete.nvim) \u3092\u7121\u7406\u3084\u308a\u4f7f\u3046\n\n\u3069\u3046\u3057\u3066\u3082 windows \u74b0\u5883\u3092\u6574\u3048\u305f\u304b\u3063\u305f\u306e\u3067\uff0c\u8272\u3005\u8a66\u3057\u305f\u3089\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3082\u306e\u306e\uff0c\u6b63\u653b\u6cd5\u3068\u306f\u8a00\u3044\u96e3\u3044\u306e\u3067\u30e1\u30e2\u66f8\u304d\u7a0b\u5ea6\u306b\uff0e\n\u3082\u3057\uff0c\u3082\u3063\u3068\u7b4b\u306e\u826f\u3044\u89e3\u6c7a\u65b9\u6cd5\u3092\u3054\u5b58\u77e5\u3067\u3042\u308c\u3070\uff0c\u30b3\u30e1\u30f3\u30c8\u3057\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\uff0e\n\n## neovim\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[\u516c\u5f0f](https://github.com/neovim/neovim/wiki/Installing-Neovim#windows) \u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff0e\n\u7279\u306b\u3064\u307e\u3065\u304f\u3068\u3053\u308d\u306f\u306a\u3044\u306f\u305a\uff0e\n\n## `has('python3')` \u306e\u8fd4\u308a\u5024\u30921\u306b\u3059\u308b\n[\u3053\u306e Issue](https://github.com/neovim/neovim/issues/5360) \u306b\u66f8\u3044\u3066\u3042\u308b\u3088\u3046\u306b\uff0c windows \u74b0\u5883\u3067\u306f `has('python3')` \u306e\u8fd4\u308a\u5024\u304c 0\uff0e\npython3 \u7cfb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\uff0c `pip3.exe install neovim` \u3092\u5b9f\u884c\u3059\u308b\uff0e\n[\u3053\u306e\u30b3\u30e1\u30f3\u30c8](https://github.com/neovim/neovim/issues/5360#issuecomment-248439686) \u306e\u8a2d\u5b9a\u3092 init.vim \u306b\u8ffd\u52a0\u3059\u308b\uff0e\n\n```vim\nlet g:python3_host_prog = 'C:\\Users\\username\\AppData\\Local\\Programs\\Python\\Python35\\python.exe'\n```\n\n`$VIMRUNTIME\\autoload\\provider\\pythonx.vim` \u306b\u4ee5\u4e0b\u306e\u30d1\u30c3\u30c1\u3092\u5f53\u3066\u308b\uff0e\n\n```diff\ndiff --git a/usr/local/share/nvim/runtime/autoload/provider/pythonx.vim b/media/huyu/BEA4-08FB/pythonx.vim\nindex 6d6b389..0ebae4f 100644\n--- a/usr/local/share/nvim/runtime/autoload/provider/pythonx.vim\n+++ b/media/huyu/BEA4-08FB/pythonx.vim\n@@ -22,7 +22,7 @@ function! provider#pythonx#Require(host) abort\n \n   \" Python host arguments\n   let prog = (ver == '2' ?  provider#python#Prog() : provider#python3#Prog())\n-  let args = [prog, '-c', 'import sys; sys.path.remove(\"\"); import neovim; neovim.start_host()']\n+  let args = [prog, '-c', '\"import sys; sys.path.remove(\\\"\\\"); import neovim; neovim.start_host()\"']\n \n   \" Collect registered Python plugins into args\n   let python_plugins = remote#host#PluginsForHost(a:host.name)\n@@ -101,11 +101,11 @@ function! s:check_interpreter(prog, major_ver, skip) abort\n   \"   2  Neovim module cannot be loaded.\n   \"   Otherwise something else went wrong (e.g. 1 or 127).\n   let prog_ver = system([ a:prog , '-c' ,\n-        \\ 'import sys; ' .\n-        \\ 'sys.path.remove(\"\"); ' .\n-        \\ 'sys.stdout.write(str(sys.version_info[0]) + \".\" + str(sys.version_info[1])); ' .\n+        \\ '\"import sys; ' .\n+        \\ 'sys.path.remove(\\\"\\\"); ' .\n+        \\ 'sys.stdout.write(str(sys.version_info[0]) + \\\".\\\" + str(sys.version_info[1])); ' .\n         \\ 'import pkgutil; ' .\n-        \\ 'exit(2*int(pkgutil.get_loader(\"neovim\") is None))'\n+        \\ 'exit(2*int(pkgutil.get_loader(\\\"neovim\\\") is None))\"'\n         \\ ])\n \n   if v:shell_error == 2 || v:shell_error == 0\n```\nnvim-qt \u3092\u8d77\u52d5\u3057\u3066 `:echo has('python3')` \u3059\u308b\u3068 1 \u304c\u8fd4\u3063\u3066\u304f\u308b\uff0e\n`dein.vim` \u3068\u304b\u4f7f\u3063\u3066 `deoplete.nvim` \u3092\u5c0e\u5165\u3059\u308b\u3068\u52d5\u304f\uff0e\n\n## \u52d5\u4f5c\u74b0\u5883\nOS: Windows10(Build 14936)\nneovim: v0.1.6-833-g35f67ee\npython: 3.5.2\n", "tags": ["neovim", "python3", "Windows", "Vim"]}