{"context": " More than 1 year has passed since last update.\n\n\u307e\u3048\u304c\u304d\n\nnode\u3068\u304bbower\u3068\u304bgrunt\u3068\u304bwebpack\u306f\u9069\u5f53\u306b\u5165\u308c\u3066\u304f\u3060\u3055\u3044\nJS\u30d3\u30ae\u30ca\u30fc\u306a\u306e\u3067\u304a\u304b\u3057\u306a\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\uff08\u30c4\u30c3\u30b3\u30df\u6b53\u8fce\uff09\n\n\u5143\u3005CoffeeScript\u3067\u66f8\u3044\u305f\u3082\u306e\u3092Grunt\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3064\u3064\u958b\u767a\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u5206\u5272\u3059\u308b\u306b\u3042\u305f\u3063\u3066\u305d\u308c\u305e\u308c\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\uff08\u901f\u5ea6\u51fa\u3066\u305f\u306e\u3067\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u4f7f\u308f\u305a\uff09\u3002\u5f53\u521d\u3001RequireJS\u3092\u4f7f\u3063\u3066\u5206\u5272\u4f5c\u696d\u3092\u59cb\u3081\u305f\u306e\u3067\u3059\u304c\u3001r.js\u3092\u4f7f\u3063\u305f\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u30cf\u30de\u3063\u3066\u4f5c\u696d\u304c\u6ede\u308a\u3001\u300c\u6700\u8fd1\u306fwebpack\u306a\u3093\u3066\u306e\u3082\u3042\u308b\u3089\u3057\u3044\u3088\u300d\u3068\u3044\u3046\u5143\u540c\u50da\u306e\u4e00\u58f0\u306b\u4e57\u3063\u304b\u308awebpack\u59cb\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n\u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u306f\u3001Django\u3067\u66f8\u304b\u308c\u305f\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3001Ajax API\u3092\u4f7f\u7528\u3059\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3044\u3046\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\u3002\n\u8a18\u8ff0\u8a00\u8a9e\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u7d50\u5408\u3001\u30b3\u30d4\u30fc\u3001\u5909\u66f4\u76e3\u8996\u306f\u6b21\u306e\u3088\u3046\u306a\u30c4\u30fc\u30eb\u69cb\u6210\u3067\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\u30bf\u30b9\u30af\n\u30c4\u30fc\u30eb\n\u5099\u8003\n\n\n\n\n\u8a00\u8a9e\nCoffeeScript / JS\n\n\n\nJS\u306e\u7d50\u5408\ngrunt-webpack (webpack)\n\n\n\n\u5909\u66f4\u76e3\u8996\ngrunt-contrib-watch\nwebpack\u306b\u3082\u5909\u66f4\u76e3\u8996\u3042\u308b\u3051\u3069\u4f7f\u3044\u307e\u305b\u3093\n\n\n\u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc\ngrunt-contrib-copy\n\n\n\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30ec\u30a4\u30a2\u30a6\u30c8\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306fwww/src\u4ee5\u4e0b\u306b\u3001bower\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u7fa4\u306fwww/components\u4ee5\u4e0b\u306b\u914d\u7f6e\u3057\u3066\u3044\u307e\u3059\u3002www/resources\u4ee5\u4e0b\u304c\u5b9f\u969b\u306e\u914d\u5e03\u7269\u3068\u3044\u3046\u60f3\u5b9a\u3002\n.\n\u251c\u2500\u2500 .bowerrc\n\u251c\u2500\u2500 Gruntfile.coffee\n\u251c\u2500\u2500 bower.json\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 www\n    \u251c\u2500\u2500 components         # bower\n    \u251c\u2500\u2500 resources\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 css\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 js\n    \u251c\u2500\u2500 src\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 loader.coffee  # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u958b\u59cb\u6642\u306b\u8aad\u307f\u8fbc\u3080\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 router.coffee  # Backbone.Router\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 models\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 utils\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 views\n    \u2514\u2500\u2500 webpack.config.js  # \u4eca\u56de\u4f7f\u308f\u306a\u3044webpack\n\n\nwebpack\u306e\u74b0\u5883\u6574\u5099\n\nnode modules\n\u5fc5\u8981\u306anode\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nnpm install coffee-script -g\nnpm install coffee-loader\nnpm install grunt -g\nnpm install webpack -g\nnpm install bower -g\n\n\u4ee5\u4e0b\u306f\u53c2\u8003\u306epackage.json\u3067\u3059\u3002\n\npackage.json\n{\n  \"name\": \"testapp\",\n  \"version\": \"0.0.1\",\n  \"engines\": [\n    \"~0.11.14\"\n  ],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://example.com\"\n  },\n  \"author\": \"Mitsukuni Sato\",\n  \"devDependencies\": {\n    \"coffee-loader\": \"^0.7.2\",\n    \"coffee-script\": \"~1.8.0\",\n    \"grunt\": \"^0.4.5\",\n    \"grunt-contrib-clean\": \"^0.6.0\",\n    \"grunt-contrib-coffee\": \"^0.12.0\",\n    \"grunt-contrib-cssmin\": \"^0.10.0\",\n    \"grunt-contrib-uglify\": \"^0.6.0\",\n    \"grunt-contrib-watch\": \"^0.6.1\",\n    \"grunt-legacy-util\": \"^0.2.0\",\n    \"grunt-notify\": \"^0.4.1\",\n    \"grunt-webpack\": \"^1.0.8\",\n    \"underscore.string\": \"^2.3.3\",\n    \"webpack-dev-server\": \"^1.6.6\"\n  },\n  \"dependencies\": {\n    \"bower\": \"^1.3.12\"\n  }\n}\n\n\n\nbower\nBackbone\u306b\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u306fbower\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002.bowerrc, bower.json\u3092\u66f8\u3044\u3066bower\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3002\n\n.bowerrc\n{\n  \"directory\": \"www/components/\",\n  \"analytics\": false,\n  \"timeout\": 30000,\n  \"registry\": {\n    \"search\": [\n      \"https://bower.herokuapp.com\"\n    ]\n  }\n}\n\n\n\nbower.json\n{\n  \"name\": \"testapp\",\n  \"version\": \"0.0.1\",\n  \"homepage\": \"https://example.com\",\n  \"authors\": [\n    \"Mitsukuni Sato <mitsukuni.sato@example.com>\"\n  ],\n  \"license\": \"MIT\",\n  \"private\": true,\n  \"ignore\": [\n    \"**/.*\",\n    \"node_modules\",\n    \"www/components/\",\n    \"test\",\n    \"tests\"\n  ],\n  \"dependencies\": {\n    \"jquery\": \"~2.1.1\",\n    \"underscore\": \"~1.7.0\",\n    \"backbone\": \"~1.1.2\"\n  }\n}\n\n\nbower install\n\n\nGrunt\nGruntfile\u3092\u66f8\u3044\u3066webpack\u3092\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nGruntfile\n\"use strict\"\n\n# webpack\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u547c\u3073\u51fa\u3057\u3066\u304a\u304f\npath = require(\"path\")\nwebpack = require('webpack')\n\ntasks = [\"webpack\"]\n\n\nmodule.exports = (grunt) ->\n  pkg = grunt.file.readJSON(\"package.json\")\n\n  grunt.initConfig\n\n    pkg: pkg\n\n    # webpack\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3053\u3053\u306b\u66f8\u304f\u3002\n    # webpack.config.js\u3068\u4f75\u7528\u3059\u308b\u5834\u5408\u3001\u3069\u3061\u3089\u3092\u512a\u5148\u3057\u3066\u304a\u304f\u304b\u6c7a\u3081\u3066\u304a\u304f\u306e\u304c\u826f\u3055\u305d\u3046\u3002\n    webpack:\n      app:\n        entry: \"./www/src/loader.coffee\"  # \u30b3\u30f3\u30d1\u30a4\u30eb\u958b\u59cb\u6642\u306b\u8aad\u307f\u8fbc\u3080\u30a8\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\n        output:\n          filename: \"./www/resources/js/bundle.js\"  # \u51fa\u529b\u5148\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\n        module:\n          loaders: [\n            { test: /\\.coffee$/, loader: 'coffee-loader' }  # \u62e1\u5f35\u5b50coffee\u306fcoffee-loader\u3092\u4f7f\u3046\n          ]\n        resolve:\n          root: [path.join(__dirname, \"www/components\")]  # bower\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5b9a\u7fa9\n        plugins: [\n          new webpack.ResolverPlugin(\n            new webpack.ResolverPlugin.DirectoryDescriptionFilePlugin(\"bower.json\", [\"main\"])\n          ),\n          new webpack.ProvidePlugin({  # \u30b0\u30ed\u30fc\u30d0\u30eb\u7a7a\u9593\u306b\u8aad\u307f\u8fbc\u3080\u30e2\u30b8\u30e5\u30fc\u30eb\uff1f\u3088\u304f\u5206\u304b\u3063\u3066\u307e\u305b\u3093\n            $: \"jquery\",\n            jQuery: \"jquery\",\n            _: \"underscore\",\n            Backbone: \"backbone\"\n          })\n        ]\n        stats:\n          colors: true\n          modules: true\n          reasons: true\n        progress: false\n        failOnError: false\n        watch: false  # webpack\u3067\u5909\u66f4\u76e3\u8996\u3057\u307e\u305b\u3093\n        keepalive: false\n\n    watch:\n      files: [\n        \"www/src/**/*.coffee\",\n        \"www/components/**/*.js\",\n      ]\n      tasks: tasks\n\n  taskName = undefined\n\n  for taskName of pkg.devDependencies\n    grunt.loadNpmTasks taskName  if taskName.substring(0, 6) is \"grunt-\"\n\n  grunt.registerTask \"default\", tasks\n\n\n\nBackbone\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\nloader.coffee\nwebpack\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u521d\u3081\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3002\n\nloader.coffee\nrequire './router.coffee'\n\nwindow.App =\n  Models: {}\n  Views: {}\n  Utils: {}\n\n\n\nrouter.coffee\nBackbone.Router\u306e\u5b9a\u7fa9\u3002\u5b9f\u8cea\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u51e6\u7406\u304b\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u958b\u59cb\u3055\u308c\u308b\u3002\n\nrouter.coffee\nrequire './views/top.coffee'\n\njQuery ->\n  class App.Router extends Backbone.Router\n    routes:\n      '': 'top'\n      'pictures/:id': 'pictures'\n\n    top: ->\n      console.log('top', arguments)\n      new App.Views.TopView()\n\n    pictures: ->\n      console.log('pictures', arguments)\n\n  new App.Router()\n  Backbone.history.start({pushState: true})\n\n\n\nviews/top.coffee\n\u30b5\u30a4\u30c8\u76f4\u4e0b\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u5834\u5408\u306e\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002Apps.Models.PhotoModel\u306b\u4f9d\u5b58\u3059\u308b\u3082\u306e\u3068\u3057\u307e\u3059\uff08\u3066\u304d\u3068\u3046\u3067\u3059\uff09\u3002\n\nviews/top.coffee\n# \u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3092\u547c\u3073\u51fa\u3057\nrequire '../models/top.coffee'\n\n\njQuery ->\n  # Backbone\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5b9a\u7fa9\u6e08\u307f\u306a\u306e\u3067require\u5fc5\u8981\u306a\u3057\n  class App.Views.TopView extends Backbone.View\n    initialize: ->\n      @\n\n\n\nmodels/top.coffee\nApps.Models.PhotoModel\u306e\u5b9a\u7fa9\uff08\u3066\u304d\u3068\u3046\u3067\u3059\uff09\u3002\n\nmodels/top.coffee\njQuery ->\n  class App.Models.PhotoModel extends Backbone.Model\n    idAttribute: 'id'\n    urlRoot: '/ajax/photos/'\n\n    parse: (response)->\n      return response.photo\n\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\n\n\u624b\u52d5\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\nwebpack.config.js\u3092\u7528\u610f\u3057\u3066\u3044\u306a\u3044\u306e\u3067grunt\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\ngrunt webpack\n\nRunning \"webpack:app\" (webpack) task\nVersion: webpack 1.4.13\n                       Asset    Size  Chunks             Chunk Names\n./www/resources/js/bundle.js  460308       0  [emitted]  main\n   [0] ./www/src/loader.coffee 86 {0} [built]\n   [1] ./www/src/router.coffee 2093 {0} [built]\n(\u7701\u7565)\n\nDone, without errors.\n\n\n\u5909\u66f4\u3092\u76e3\u8996\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\ngrunt-contrib-watch\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066CoffeeScript\u306e\u5909\u66f4\u3092\u76e3\u8996\u3057\u3001\u5909\u66f4\u6642\u306b\u81ea\u52d5\u7684\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\u524d\u8ff0\u306eGruntfile.coffee\u306bwatch\u30bf\u30b9\u30af\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001grunt watch\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u76e3\u8996\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\ngrunt watch\n\n\n\u53c2\u8003\n\n\u5168\u90e8\u306e\u305bRequireJS\u3063\u307d\u3044Webpack\u3092\u4f7f\u3063\u3066\u307f\u305f\u3002\n\n\n\n# \u307e\u3048\u304c\u304d\n\n* node\u3068\u304bbower\u3068\u304bgrunt\u3068\u304bwebpack\u306f\u9069\u5f53\u306b\u5165\u308c\u3066\u304f\u3060\u3055\u3044\n* JS\u30d3\u30ae\u30ca\u30fc\u306a\u306e\u3067\u304a\u304b\u3057\u306a\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\uff08\u30c4\u30c3\u30b3\u30df\u6b53\u8fce\uff09\n\n\u5143\u3005CoffeeScript\u3067\u66f8\u3044\u305f\u3082\u306e\u3092Grunt\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3064\u3064\u958b\u767a\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u5206\u5272\u3059\u308b\u306b\u3042\u305f\u3063\u3066\u305d\u308c\u305e\u308c\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u89e3\u6c7a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3057\u305f\uff08\u901f\u5ea6\u51fa\u3066\u305f\u306e\u3067\u30d6\u30e9\u30a6\u30b6\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u4f7f\u308f\u305a\uff09\u3002\u5f53\u521d\u3001[RequireJS](http://requirejs.org/)\u3092\u4f7f\u3063\u3066\u5206\u5272\u4f5c\u696d\u3092\u59cb\u3081\u305f\u306e\u3067\u3059\u304c\u3001`r.js`\u3092\u4f7f\u3063\u305f\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u30cf\u30de\u3063\u3066\u4f5c\u696d\u304c\u6ede\u308a\u3001\u300c\u6700\u8fd1\u306fwebpack\u306a\u3093\u3066\u306e\u3082\u3042\u308b\u3089\u3057\u3044\u3088\u300d\u3068\u3044\u3046[\u5143\u540c\u50da](https://twitter.com/maru_cc)\u306e\u4e00\u58f0\u306b\u4e57\u3063\u304b\u308awebpack\u59cb\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u306f\u3001Django\u3067\u66f8\u304b\u308c\u305f\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3001Ajax API\u3092\u4f7f\u7528\u3059\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3044\u3046\u69cb\u6210\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u8a18\u8ff0\u8a00\u8a9e\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u7d50\u5408\u3001\u30b3\u30d4\u30fc\u3001\u5909\u66f4\u76e3\u8996\u306f\u6b21\u306e\u3088\u3046\u306a\u30c4\u30fc\u30eb\u69cb\u6210\u3067\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\n| \u30bf\u30b9\u30af | \u30c4\u30fc\u30eb | \u5099\u8003 |\n|:----:|:----:|:-:|\n| \u8a00\u8a9e        | CoffeeScript / JS | |\n| JS\u306e\u7d50\u5408     | grunt-webpack (webpack) | |\n| \u5909\u66f4\u76e3\u8996      | grunt-contrib-watch | webpack\u306b\u3082\u5909\u66f4\u76e3\u8996\u3042\u308b\u3051\u3069\u4f7f\u3044\u307e\u305b\u3093 |\n| \u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc | grunt-contrib-copy | |\n\n\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30ec\u30a4\u30a2\u30a6\u30c8\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f`www/src`\u4ee5\u4e0b\u306b\u3001bower\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u7fa4\u306f`www/components`\u4ee5\u4e0b\u306b\u914d\u7f6e\u3057\u3066\u3044\u307e\u3059\u3002`www/resources`\u4ee5\u4e0b\u304c\u5b9f\u969b\u306e\u914d\u5e03\u7269\u3068\u3044\u3046\u60f3\u5b9a\u3002\n\n```text\n.\n\u251c\u2500\u2500 .bowerrc\n\u251c\u2500\u2500 Gruntfile.coffee\n\u251c\u2500\u2500 bower.json\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 www\n    \u251c\u2500\u2500 components         # bower\n    \u251c\u2500\u2500 resources\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 css\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 js\n    \u251c\u2500\u2500 src\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 loader.coffee  # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5b9f\u884c\u958b\u59cb\u6642\u306b\u8aad\u307f\u8fbc\u3080\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 router.coffee  # Backbone.Router\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 models\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 utils\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 views\n    \u2514\u2500\u2500 webpack.config.js  # \u4eca\u56de\u4f7f\u308f\u306a\u3044webpack\n```\n\n# webpack\u306e\u74b0\u5883\u6574\u5099\n## node modules\n\n\u5fc5\u8981\u306anode\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash\nnpm install coffee-script -g\nnpm install coffee-loader\nnpm install grunt -g\nnpm install webpack -g\nnpm install bower -g\n```\n\n\u4ee5\u4e0b\u306f\u53c2\u8003\u306epackage.json\u3067\u3059\u3002\n\n\n```json:package.json\n{\n  \"name\": \"testapp\",\n  \"version\": \"0.0.1\",\n  \"engines\": [\n    \"~0.11.14\"\n  ],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://example.com\"\n  },\n  \"author\": \"Mitsukuni Sato\",\n  \"devDependencies\": {\n    \"coffee-loader\": \"^0.7.2\",\n    \"coffee-script\": \"~1.8.0\",\n    \"grunt\": \"^0.4.5\",\n    \"grunt-contrib-clean\": \"^0.6.0\",\n    \"grunt-contrib-coffee\": \"^0.12.0\",\n    \"grunt-contrib-cssmin\": \"^0.10.0\",\n    \"grunt-contrib-uglify\": \"^0.6.0\",\n    \"grunt-contrib-watch\": \"^0.6.1\",\n    \"grunt-legacy-util\": \"^0.2.0\",\n    \"grunt-notify\": \"^0.4.1\",\n    \"grunt-webpack\": \"^1.0.8\",\n    \"underscore.string\": \"^2.3.3\",\n    \"webpack-dev-server\": \"^1.6.6\"\n  },\n  \"dependencies\": {\n    \"bower\": \"^1.3.12\"\n  }\n}\n```\n\n## bower\n\nBackbone\u306b\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u306fbower\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002`.bowerrc`, `bower.json`\u3092\u66f8\u3044\u3066bower\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3002\n\n```json:.bowerrc\n{\n  \"directory\": \"www/components/\",\n  \"analytics\": false,\n  \"timeout\": 30000,\n  \"registry\": {\n    \"search\": [\n      \"https://bower.herokuapp.com\"\n    ]\n  }\n}\n```\n\n```json:bower.json\n{\n  \"name\": \"testapp\",\n  \"version\": \"0.0.1\",\n  \"homepage\": \"https://example.com\",\n  \"authors\": [\n    \"Mitsukuni Sato <mitsukuni.sato@example.com>\"\n  ],\n  \"license\": \"MIT\",\n  \"private\": true,\n  \"ignore\": [\n    \"**/.*\",\n    \"node_modules\",\n    \"www/components/\",\n    \"test\",\n    \"tests\"\n  ],\n  \"dependencies\": {\n    \"jquery\": \"~2.1.1\",\n    \"underscore\": \"~1.7.0\",\n    \"backbone\": \"~1.1.2\"\n  }\n}\n```\n\n```bash\nbower install\n```\n\n\n## Grunt\n\nGruntfile\u3092\u66f8\u3044\u3066webpack\u3092\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```coffeescript:Gruntfile\n\"use strict\"\n\n# webpack\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u547c\u3073\u51fa\u3057\u3066\u304a\u304f\npath = require(\"path\")\nwebpack = require('webpack')\n\ntasks = [\"webpack\"]\n\n\nmodule.exports = (grunt) ->\n  pkg = grunt.file.readJSON(\"package.json\")\n\n  grunt.initConfig\n\n    pkg: pkg\n\n    # webpack\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3053\u3053\u306b\u66f8\u304f\u3002\n    # webpack.config.js\u3068\u4f75\u7528\u3059\u308b\u5834\u5408\u3001\u3069\u3061\u3089\u3092\u512a\u5148\u3057\u3066\u304a\u304f\u304b\u6c7a\u3081\u3066\u304a\u304f\u306e\u304c\u826f\u3055\u305d\u3046\u3002\n    webpack:\n      app:\n        entry: \"./www/src/loader.coffee\"  # \u30b3\u30f3\u30d1\u30a4\u30eb\u958b\u59cb\u6642\u306b\u8aad\u307f\u8fbc\u3080\u30a8\u30f3\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\n        output:\n          filename: \"./www/resources/js/bundle.js\"  # \u51fa\u529b\u5148\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\n        module:\n          loaders: [\n            { test: /\\.coffee$/, loader: 'coffee-loader' }  # \u62e1\u5f35\u5b50coffee\u306fcoffee-loader\u3092\u4f7f\u3046\n          ]\n        resolve:\n          root: [path.join(__dirname, \"www/components\")]  # bower\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5b9a\u7fa9\n        plugins: [\n          new webpack.ResolverPlugin(\n            new webpack.ResolverPlugin.DirectoryDescriptionFilePlugin(\"bower.json\", [\"main\"])\n          ),\n          new webpack.ProvidePlugin({  # \u30b0\u30ed\u30fc\u30d0\u30eb\u7a7a\u9593\u306b\u8aad\u307f\u8fbc\u3080\u30e2\u30b8\u30e5\u30fc\u30eb\uff1f\u3088\u304f\u5206\u304b\u3063\u3066\u307e\u305b\u3093\n            $: \"jquery\",\n            jQuery: \"jquery\",\n            _: \"underscore\",\n            Backbone: \"backbone\"\n          })\n        ]\n        stats:\n          colors: true\n          modules: true\n          reasons: true\n        progress: false\n        failOnError: false\n        watch: false  # webpack\u3067\u5909\u66f4\u76e3\u8996\u3057\u307e\u305b\u3093\n        keepalive: false\n\n    watch:\n      files: [\n        \"www/src/**/*.coffee\",\n        \"www/components/**/*.js\",\n      ]\n      tasks: tasks\n\n  taskName = undefined\n\n  for taskName of pkg.devDependencies\n    grunt.loadNpmTasks taskName  if taskName.substring(0, 6) is \"grunt-\"\n\n  grunt.registerTask \"default\", tasks\n```\n\n# Backbone\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\n## loader.coffee\n\nwebpack\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u521d\u3081\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3002\n\n```coffeescript:loader.coffee\nrequire './router.coffee'\n\nwindow.App =\n  Models: {}\n  Views: {}\n  Utils: {}\n```\n\n\n## router.coffee\n\nBackbone.Router\u306e\u5b9a\u7fa9\u3002\u5b9f\u8cea\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u51e6\u7406\u304b\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u958b\u59cb\u3055\u308c\u308b\u3002\n\n```coffeescript:router.coffee\nrequire './views/top.coffee'\n\njQuery ->\n  class App.Router extends Backbone.Router\n    routes:\n      '': 'top'\n      'pictures/:id': 'pictures'\n\n    top: ->\n      console.log('top', arguments)\n      new App.Views.TopView()\n\n    pictures: ->\n      console.log('pictures', arguments)\n\n  new App.Router()\n  Backbone.history.start({pushState: true})\n```\n\n## views/top.coffee\n\n\u30b5\u30a4\u30c8\u76f4\u4e0b\u306b\u30a2\u30af\u30bb\u30b9\u3057\u305f\u5834\u5408\u306e\u30d3\u30e5\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002`Apps.Models.PhotoModel`\u306b\u4f9d\u5b58\u3059\u308b\u3082\u306e\u3068\u3057\u307e\u3059\uff08\u3066\u304d\u3068\u3046\u3067\u3059\uff09\u3002\n\n```coffeescript:views/top.coffee\n# \u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3092\u547c\u3073\u51fa\u3057\nrequire '../models/top.coffee'\n\n\njQuery ->\n  # Backbone\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5b9a\u7fa9\u6e08\u307f\u306a\u306e\u3067require\u5fc5\u8981\u306a\u3057\n  class App.Views.TopView extends Backbone.View\n    initialize: ->\n      @\n```\n\n\n## models/top.coffee\n\n`Apps.Models.PhotoModel`\u306e\u5b9a\u7fa9\uff08\u3066\u304d\u3068\u3046\u3067\u3059\uff09\u3002\n\n```coffeescript:models/top.coffee\njQuery ->\n  class App.Models.PhotoModel extends Backbone.Model\n    idAttribute: 'id'\n    urlRoot: '/ajax/photos/'\n\n    parse: (response)->\n      return response.photo\n```\n\n\n# \u30b3\u30f3\u30d1\u30a4\u30eb\n\n## \u624b\u52d5\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\n`webpack.config.js`\u3092\u7528\u610f\u3057\u3066\u3044\u306a\u3044\u306e\u3067grunt\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n\n```text\ngrunt webpack\n\nRunning \"webpack:app\" (webpack) task\nVersion: webpack 1.4.13\n                       Asset    Size  Chunks             Chunk Names\n./www/resources/js/bundle.js  460308       0  [emitted]  main\n   [0] ./www/src/loader.coffee 86 {0} [built]\n   [1] ./www/src/router.coffee 2093 {0} [built]\n(\u7701\u7565)\n\nDone, without errors.\n```\n\n## \u5909\u66f4\u3092\u76e3\u8996\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\n\n`grunt-contrib-watch`\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066CoffeeScript\u306e\u5909\u66f4\u3092\u76e3\u8996\u3057\u3001\u5909\u66f4\u6642\u306b\u81ea\u52d5\u7684\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\u524d\u8ff0\u306e`Gruntfile.coffee`\u306bwatch\u30bf\u30b9\u30af\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001`grunt watch`\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u76e3\u8996\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002\n\n```text\ngrunt watch\n```\n\n\n# \u53c2\u8003\n* [\u5168\u90e8\u306e\u305bRequireJS\u3063\u307d\u3044Webpack\u3092\u4f7f\u3063\u3066\u307f\u305f\u3002](http://qiita.com/shn/items/7bd544a39ee7ac858669)\n", "tags": ["CoffeeScript", "webpack", "grunt", "Backbone.js"]}