{"context": "phpreids\u306e\u4f7f\u3044\u65b9\u306e\u65e5\u672c\u8a9e\u306e\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u306e\u3067\u307e\u3068\u3081\u307e\u3059\u3002\n\n\u524d\u6e96\u5099\n\nRedis\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nphpredis\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u74b0\u5883\u306b\u3088\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u65b9\u6cd5\u304c\u7570\u306a\u3063\u3066\u304f\u308b\u306e\u3067\u3053\u3053\u3067\u306f\u7701\u304d\u307e\u3059\u3002\n\ntest.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\necho $redis->ping();\n\n\n+PONG \u3068\u51fa\u529b\u3055\u308c\u308c\u3070OK\u3002\n\nRedis\u3067\u6271\u3048\u308b\u30c7\u30fc\u30bf\u578b\n\nString\nList\nSet\nSorted Set\nHash\n\n\nString\n\u6587\u5b57\u5217\u3084\u6570\u5024\u306a\u3069\u3001Key\u306b\u5bfe\u3057\u30661\u3064\u306b\u5b9a\u307e\u308b\u5024\u3002\n\ntest.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// hoge\u3068\u3044\u3046key\u306bhuga\u3068\u3044\u3046\u5024\u3092\u30bb\u30c3\u30c8\n$redis->set('hoge', 'huga');\n\n// \u5024\u3092\u53d6\u5f97\u3059\u308b\n$value = $redis->get('hoge');\n\n// \u8868\u793a\necho $value; // huga\n\n\n\nList\n\u9806\u756a\u3092\u6301\u3063\u305f\u5024\u306e\u96c6\u5408\n\ntest.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// lPush\u306f\u5148\u982d\u3001rPush\u306f\u672b\u5c3e\u306b\u5024\u3092push\n$redis->rPush('hoge', 'a');\n$redis->rPush('hoge', 'b');\n$redis->lPush('hoge', 'c');\n$redis->lPush('hoge', 'd');\n\n// \u5024\u3092\u3059\u3079\u3066\u53d6\u5f97\u3059\u308b -1\u306f\u3059\u3079\u3066\n$value = $redis->lRange('hoge', 0, -1);\n\n// \u8868\u793a\nvar_dump($value);\n\narray(4) {\n  [0] =>\n  string(1) \"d\"\n  [1] =>\n  string(1) \"c\"\n  [2] =>\n  string(1) \"a\"\n  [3] =>\n  string(1) \"b\"\n}\n\n\n\nSet\n\u9806\u4e0d\u540c\u306e\u5024\u306e\u96c6\u5408\u3002\u91cd\u8907\u3092\u8a31\u3055\u306a\u3044\n\ntest.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// \u5024\u3092\u8ffd\u52a0\n$redis->sAdd('hoge1' , '1');\n$redis->sAdd('hoge1' , '2');\n$redis->sAdd('hoge2' , '2');\n$redis->sAdd('hoge2' , '3');\n$redis->sAdd('hoge2' , '4');\n\n// \u548c\u3001\u7a4d\u3001\u5dee\u3092\u53d6\u5f97\u3059\u308b\n$union = $redis->sUnion('hoge1', 'hoge2');\n$inter = $redis->sInter('hoge1', 'hoge2');\n$diff  = $redis->sDiff('hoge1', 'hoge2');\n\n// \u8868\u793a\nvar_dump($union);\nvar_dump($inter);\nvar_dump($diff);\n\n/*\narray(4) {\n  [0] =>\n  string(1) \"1\"\n  [1] =>\n  string(1) \"2\"\n  [2] =>\n  string(1) \"3\"\n  [3] =>\n  string(1) \"4\"\n}\narray(1) {\n  [0] =>\n  string(1) \"2\"\n}\narray(1) {\n  [0] =>\n  string(1) \"1\"\n}\n*/\n\n\n\nSorted Set\n\u30bb\u30c3\u30c8\u578b\u3068\u540c\u69d8\u306e\u7279\u5fb4\u306b\u52a0\u3048\u3001\u500b\u3005\u306e\u5024\u304c\u30b9\u30b3\u30a2\u3092\u6301\u3064\u3002\n\ntest.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// \u30b9\u30b3\u30a2\u3068\u5024\u3092\u8ffd\u52a0\n$redis->zAdd('hoge' , 10, 'a');\n$redis->zAdd('hoge' , 20, 'b');\n$redis->zAdd('hoge' , 30, 'c');\n$redis->zAdd('hoge' , 40, 'd');\n$redis->zAdd('hoge' , 50, 'e');\n$redis->zAdd('hoge' , 60, 'f');\n\n// \u30bd\u30fc\u30c8\u6e08\u306e\u30b9\u30b3\u30a2\u3092\u53d6\u5f97\n$value = $redis->zRangeByScore('hoge', 0, 60);\n\n// \u8868\u793a\nvar_dump($value);\n\n/*\narray(6) {\n  [0] =>\n  string(1) \"a\"\n  [1] =>\n  string(1) \"b\"\n  [2] =>\n  string(1) \"c\"\n  [3] =>\n  string(1) \"d\"\n  [4] =>\n  string(1) \"e\"\n  [5] =>\n  string(1) \"f\"\n}\n*/\n\n\n\nHash\nField\u3068value\u30921\u30bb\u30c3\u30c8\u3068\u3059\u308b\u5024\u306e\u96c6\u5408\n\ntest.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// \u5024\u3092\u30bb\u30c3\u30c8\n$redis->hSet('hoge', 'hoge1', 1);\n$redis->hSet('hoge', 'hoge2', 2);\n$redis->hSet('hoge', 'hoge3', 3);\n\n// \u5024\u3092\u53d6\u5f97\n$value1 = $redis->hGet('hoge', 'hoge1');\n$value2 = $redis->hGet('hoge', 'hoge2');\n$all = $redis->hGetAll('hoge');\n\n// \u8868\u793a\nvar_dump($value1);\nvar_dump($value2);\nvar_dump($all);\n\n/*\nstring(1) \"1\"\nstring(1) \"2\"\narray(3) {\n  'hoge1' =>\n  string(1) \"1\"\n  'hoge2' =>\n  string(1) \"2\"\n  'hoge3' =>\n  string(1) \"3\"\n}\n*/\n\n\n\n[phpreids](https://github.com/phpredis/phpredis)\u306e\u4f7f\u3044\u65b9\u306e\u65e5\u672c\u8a9e\u306e\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u306e\u3067\u307e\u3068\u3081\u307e\u3059\u3002\n\n### \u524d\u6e96\u5099\n\n- Redis\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n- phpredis\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u74b0\u5883\u306b\u3088\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u65b9\u6cd5\u304c\u7570\u306a\u3063\u3066\u304f\u308b\u306e\u3067\u3053\u3053\u3067\u306f\u7701\u304d\u307e\u3059\u3002\n\n```test.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\necho $redis->ping();\n```\n\n+PONG \u3068\u51fa\u529b\u3055\u308c\u308c\u3070OK\u3002\n\n### Redis\u3067\u6271\u3048\u308b\u30c7\u30fc\u30bf\u578b\n\n- String\n- List\n- Set\n- Sorted Set\n- Hash\n\n#### String\n\u6587\u5b57\u5217\u3084\u6570\u5024\u306a\u3069\u3001Key\u306b\u5bfe\u3057\u30661\u3064\u306b\u5b9a\u307e\u308b\u5024\u3002\n\n```test.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// hoge\u3068\u3044\u3046key\u306bhuga\u3068\u3044\u3046\u5024\u3092\u30bb\u30c3\u30c8\n$redis->set('hoge', 'huga');\n\n// \u5024\u3092\u53d6\u5f97\u3059\u308b\n$value = $redis->get('hoge');\n\n// \u8868\u793a\necho $value; // huga\n```\n\n\n#### List\n\u9806\u756a\u3092\u6301\u3063\u305f\u5024\u306e\u96c6\u5408\n\n```test.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// lPush\u306f\u5148\u982d\u3001rPush\u306f\u672b\u5c3e\u306b\u5024\u3092push\n$redis->rPush('hoge', 'a');\n$redis->rPush('hoge', 'b');\n$redis->lPush('hoge', 'c');\n$redis->lPush('hoge', 'd');\n\n// \u5024\u3092\u3059\u3079\u3066\u53d6\u5f97\u3059\u308b -1\u306f\u3059\u3079\u3066\n$value = $redis->lRange('hoge', 0, -1);\n\n// \u8868\u793a\nvar_dump($value);\n\narray(4) {\n  [0] =>\n  string(1) \"d\"\n  [1] =>\n  string(1) \"c\"\n  [2] =>\n  string(1) \"a\"\n  [3] =>\n  string(1) \"b\"\n}\n```\n\n\n#### Set\n\u9806\u4e0d\u540c\u306e\u5024\u306e\u96c6\u5408\u3002\u91cd\u8907\u3092\u8a31\u3055\u306a\u3044\n\n```test.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// \u5024\u3092\u8ffd\u52a0\n$redis->sAdd('hoge1' , '1');\n$redis->sAdd('hoge1' , '2');\n$redis->sAdd('hoge2' , '2');\n$redis->sAdd('hoge2' , '3');\n$redis->sAdd('hoge2' , '4');\n\n// \u548c\u3001\u7a4d\u3001\u5dee\u3092\u53d6\u5f97\u3059\u308b\n$union = $redis->sUnion('hoge1', 'hoge2');\n$inter = $redis->sInter('hoge1', 'hoge2');\n$diff  = $redis->sDiff('hoge1', 'hoge2');\n\n// \u8868\u793a\nvar_dump($union);\nvar_dump($inter);\nvar_dump($diff);\n\n/*\narray(4) {\n  [0] =>\n  string(1) \"1\"\n  [1] =>\n  string(1) \"2\"\n  [2] =>\n  string(1) \"3\"\n  [3] =>\n  string(1) \"4\"\n}\narray(1) {\n  [0] =>\n  string(1) \"2\"\n}\narray(1) {\n  [0] =>\n  string(1) \"1\"\n}\n*/\n```\n\n\n#### Sorted Set\n\u30bb\u30c3\u30c8\u578b\u3068\u540c\u69d8\u306e\u7279\u5fb4\u306b\u52a0\u3048\u3001\u500b\u3005\u306e\u5024\u304c\u30b9\u30b3\u30a2\u3092\u6301\u3064\u3002\n\n```test.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// \u30b9\u30b3\u30a2\u3068\u5024\u3092\u8ffd\u52a0\n$redis->zAdd('hoge' , 10, 'a');\n$redis->zAdd('hoge' , 20, 'b');\n$redis->zAdd('hoge' , 30, 'c');\n$redis->zAdd('hoge' , 40, 'd');\n$redis->zAdd('hoge' , 50, 'e');\n$redis->zAdd('hoge' , 60, 'f');\n\n// \u30bd\u30fc\u30c8\u6e08\u306e\u30b9\u30b3\u30a2\u3092\u53d6\u5f97\n$value = $redis->zRangeByScore('hoge', 0, 60);\n\n// \u8868\u793a\nvar_dump($value);\n\n/*\narray(6) {\n  [0] =>\n  string(1) \"a\"\n  [1] =>\n  string(1) \"b\"\n  [2] =>\n  string(1) \"c\"\n  [3] =>\n  string(1) \"d\"\n  [4] =>\n  string(1) \"e\"\n  [5] =>\n  string(1) \"f\"\n}\n*/\n```\n\n\n#### Hash\nField\u3068value\u30921\u30bb\u30c3\u30c8\u3068\u3059\u308b\u5024\u306e\u96c6\u5408\n\n```test.php\n<?php\n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n\n// \u5024\u3092\u30bb\u30c3\u30c8\n$redis->hSet('hoge', 'hoge1', 1);\n$redis->hSet('hoge', 'hoge2', 2);\n$redis->hSet('hoge', 'hoge3', 3);\n\n// \u5024\u3092\u53d6\u5f97\n$value1 = $redis->hGet('hoge', 'hoge1');\n$value2 = $redis->hGet('hoge', 'hoge2');\n$all = $redis->hGetAll('hoge');\n\n// \u8868\u793a\nvar_dump($value1);\nvar_dump($value2);\nvar_dump($all);\n\n/*\nstring(1) \"1\"\nstring(1) \"2\"\narray(3) {\n  'hoge1' =>\n  string(1) \"1\"\n  'hoge2' =>\n  string(1) \"2\"\n  'hoge3' =>\n  string(1) \"3\"\n}\n*/\n```\n", "tags": ["Redis", "PHP"]}