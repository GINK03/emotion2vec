{"context": " More than 1 year has passed since last update.\n\nQ.\nhistogram\u3068\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\u3092\u540c\u6642\u306b\u63cf\u304d\u305f\u3044\u306e\u3067\u3059\u304c\u3002\n\nA.\n\n\u7e26\u8ef8\u3092\u78ba\u7387\u5bc6\u5ea6\u306b\u3059\u308b\uff08\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\u306b\u3042\u308f\u305b\u308b\uff09\u5834\u5408\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\nOK_example1.R\nlibrary(ggplot2)\n\ndens <- density(faithful$waiting)\nbw <- diff(range(faithful$waiting))/20\n\nggplot(faithful, aes(x=waiting)) +\n  geom_histogram(aes(y=..density..), binwidth=bw, fill='white', color='black') +\n  geom_density(fill='black', alpha=0.3) +\n  xlim(range(dens$x))\n\n\n\n\n\u7e26\u8ef8\u3092count\u306b\u3059\u308b\uff08histogram\u306b\u3042\u308f\u305b\u308b\uff09\u5834\u5408\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\nOK_example2.R\nlibrary(ggplot2)\n\ndens <- density(faithful$waiting)\nbw <- diff(range(faithful$waiting))/20\n\nggplot(faithful, aes(x=waiting)) +\n  geom_histogram(binwidth=bw, fill='white', color='black') +\n  geom_density(eval(bquote(aes(y=..count..*.(bw)))), fill='black', alpha=0.3)+\n  xlim(range(dens$x))\n\n\nbquote\u306f.()\u3067\u56f2\u308f\u308c\u305f\u3082\u306e\u3092\u9664\u3044\u3066quote\u3059\u308b\u95a2\u6570\u3067\u3059\u3002\u4ed6\u306e\u65b9\u6cd5\u3068\u3057\u3066\u306fsubstitute\u3084EPT\u30a4\u30c7\u30a3\u30aa\u30e0\uff08eval(parse(text=))\uff09\u3092\u4f7f\u3046\u65b9\u6cd5\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\n\n\u53c2\u8003\u8cc7\u6599\nhttp://stackoverflow.com/questions/5688082/ggplot2-overlay-histogram-with-density-curve\nhttp://stackoverflow.com/questions/11404531/r-ggplot2-adding-count-labels-to-histogram-with-density-overlay\nhttp://stackoverflow.com/questions/27661852/adding-a-density-line-to-a-histogram-with-count-data-in-ggplot2\n\u305d\u306e\u4ed6\u3001slack\u3067@kohske\u3055\u3093\u306b\u6559\u3048\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n# Q.\nhistogram\u3068\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\u3092\u540c\u6642\u306b\u63cf\u304d\u305f\u3044\u306e\u3067\u3059\u304c\u3002\n\n# A.\n## \u7e26\u8ef8\u3092\u78ba\u7387\u5bc6\u5ea6\u306b\u3059\u308b\uff08\u78ba\u7387\u5bc6\u5ea6\u95a2\u6570\u306b\u3042\u308f\u305b\u308b\uff09\u5834\u5408\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\n```OK_example1.R\nlibrary(ggplot2)\n\ndens <- density(faithful$waiting)\nbw <- diff(range(faithful$waiting))/20\n\nggplot(faithful, aes(x=waiting)) +\n  geom_histogram(aes(y=..density..), binwidth=bw, fill='white', color='black') +\n  geom_density(fill='black', alpha=0.3) +\n  xlim(range(dens$x))\n```\n\n![OK_example1.png](https://qiita-image-store.s3.amazonaws.com/0/12869/b3919fcd-288c-0807-2a5e-d5232620f6bd.png)\n\n\n## \u7e26\u8ef8\u3092count\u306b\u3059\u308b\uff08histogram\u306b\u3042\u308f\u305b\u308b\uff09\u5834\u5408\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\n```OK_example2.R\nlibrary(ggplot2)\n\ndens <- density(faithful$waiting)\nbw <- diff(range(faithful$waiting))/20\n\nggplot(faithful, aes(x=waiting)) +\n  geom_histogram(binwidth=bw, fill='white', color='black') +\n  geom_density(eval(bquote(aes(y=..count..*.(bw)))), fill='black', alpha=0.3)+\n  xlim(range(dens$x))\n```\n\n`bquote`\u306f`.()`\u3067\u56f2\u308f\u308c\u305f\u3082\u306e\u3092\u9664\u3044\u3066quote\u3059\u308b\u95a2\u6570\u3067\u3059\u3002\u4ed6\u306e\u65b9\u6cd5\u3068\u3057\u3066\u306f`substitute`\u3084EPT\u30a4\u30c7\u30a3\u30aa\u30e0\uff08`eval(parse(text=))`\uff09\u3092\u4f7f\u3046\u65b9\u6cd5\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\n![OK_example2.png](https://qiita-image-store.s3.amazonaws.com/0/12869/a35b02bf-ee17-6a0e-147c-0f143a56e504.png)\n\n\n# \u53c2\u8003\u8cc7\u6599\nhttp://stackoverflow.com/questions/5688082/ggplot2-overlay-histogram-with-density-curve\nhttp://stackoverflow.com/questions/11404531/r-ggplot2-adding-count-labels-to-histogram-with-density-overlay\nhttp://stackoverflow.com/questions/27661852/adding-a-density-line-to-a-histogram-with-count-data-in-ggplot2\n\n\u305d\u306e\u4ed6\u3001[slack](https://r-wakalang.slack.com/messages/ggplot2/)\u3067@kohske\u3055\u3093\u306b\u6559\u3048\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n", "tags": ["ggplot2\u9006\u5f15\u304d", "R"]}