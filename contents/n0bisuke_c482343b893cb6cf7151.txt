{"context": " More than 1 year has passed since last update.express4\u7cfb\u3060\u3068http\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u547c\u3073\u51fa\u3057\u90e8\u5206\u304c\u5927\u5206\u5185\u90e8\u306b\u5165\u308a\u8fbc\u3093\u3067\u3066\uff71\uff9a\u3060\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f3\u7cfb\u3067\u3059\u3002\n\u5229\u7528\u30b7\u30fc\u30f3\u3067\u3059\u304c\n\n\u672c\u756a\u74b0\u5883 ssl\u5bfe\u5fdc\n\u30c7\u30d7\u30ed\u30a4\u74b0\u5883 ssl\u975e\u5bfe\u5fdc\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u672c\u756a\u306e\u30b5\u30fc\u30d0\u30fc\u306e\u307f\u306b\u8a3c\u660e\u66f8\u306e\u60c5\u5831\u304c\u3042\u308b\u3068\u304d\u306b\u4f7f\u3048\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\napp.js\nvar http = require('http');\nvar https = require('https');\nvar fs = require('fs');\n\n/*\u7701\u7565*/\n\n  try {   \n    var sslOptions = {\n      key: fs.readFileSync('/path/to/ssl.key'),\n      cert: fs.readFileSync('/path/to/ssl.cert'),\n    };\n    console.log('https\u3067\u8d77\u52d5');\n    var server = https.createServer(sslOptions, app);\n  } catch (e) {\n    console.log('ssl\u8a3c\u660e\u66f8\u8aad\u307f\u8fbc\u307f\u5931\u6557 http\u3067\u8d77\u52d5');\n    var server = http.createServer(app);\n  }\n\n  server.listen(app.get('port'), function(res){\n    if(constants.DEBUG)console.log(\"Express server listening on port \" + app.get('port'));\n  });\n\n\n\u30b5\u30fc\u30d0\u30fc\u306e\u60c5\u5831\u306a\u3069\u3067\u632f\u308a\u5206\u3051\u308b\u65b9\u6cd5\u3068\u304b\u3082\u8003\u3048\u3089\u308c\u307e\u3059\u3051\u3069, fs.readFileSync()\u306e\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306e\u30c6\u30b9\u30c8\u7684\u306a\u610f\u5473\u5408\u3044\u3082\u3042\u308b\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u3053\u308c\u3067\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u53c2\u8003: node.js - How to capture no file for fs.readFileSync()? - Stack Overflow\n\nexpress4\u7cfb\u3060\u3068http\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u547c\u3073\u51fa\u3057\u90e8\u5206\u304c\u5927\u5206\u5185\u90e8\u306b\u5165\u308a\u8fbc\u3093\u3067\u3066\uff71\uff9a\u3060\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f3\u7cfb\u3067\u3059\u3002\n\n\u5229\u7528\u30b7\u30fc\u30f3\u3067\u3059\u304c\n\n* \u672c\u756a\u74b0\u5883 ssl\u5bfe\u5fdc\n* \u30c7\u30d7\u30ed\u30a4\u74b0\u5883 ssl\u975e\u5bfe\u5fdc\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u672c\u756a\u306e\u30b5\u30fc\u30d0\u30fc\u306e\u307f\u306b\u8a3c\u660e\u66f8\u306e\u60c5\u5831\u304c\u3042\u308b\u3068\u304d\u306b\u4f7f\u3048\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```app.js\nvar http = require('http');\nvar https = require('https');\nvar fs = require('fs');\n\n/*\u7701\u7565*/\n\n  try {   \n    var sslOptions = {\n      key: fs.readFileSync('/path/to/ssl.key'),\n      cert: fs.readFileSync('/path/to/ssl.cert'),\n    };\n\tconsole.log('https\u3067\u8d77\u52d5');\n    var server = https.createServer(sslOptions, app);\n  } catch (e) {\n    console.log('ssl\u8a3c\u660e\u66f8\u8aad\u307f\u8fbc\u307f\u5931\u6557 http\u3067\u8d77\u52d5');\n    var server = http.createServer(app);\n  }\n  \n  server.listen(app.get('port'), function(res){\n    if(constants.DEBUG)console.log(\"Express server listening on port \" + app.get('port'));\n  });\n```\n\n\u30b5\u30fc\u30d0\u30fc\u306e\u60c5\u5831\u306a\u3069\u3067\u632f\u308a\u5206\u3051\u308b\u65b9\u6cd5\u3068\u304b\u3082\u8003\u3048\u3089\u308c\u307e\u3059\u3051\u3069, fs.readFileSync()\u306e\u30a8\u30e9\u30fc\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306e\u30c6\u30b9\u30c8\u7684\u306a\u610f\u5473\u5408\u3044\u3082\u3042\u308b\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u3053\u308c\u3067\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n\u53c2\u8003: [node.js - How to capture no file for fs.readFileSync()? - Stack Overflow](http://go.shr.lc/1mWPFRB)\n", "tags": ["Node.js", "Express", "SSL"]}