{"tags": ["Ruby", "Padrino", "Sinatra"], "context": " More than 1 year has passed since last update.mime_type \u3068\u3044\u3046\u30af\u30e9\u30b9\u30de\u30af\u30ed\u304c\u3042\u308a\u307e\u3059\u3002\n\u4ee5\u4e0a\u3001\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n\uff0a\u3000\uff0a\u3000\uff0a\n\u3053\u308c\u3060\u3051\u3067\u306f\u3042\u308c\u306a\u306e\u3067\u30b3\u30fc\u30c9\u30b5\u30f3\u30d7\u30eb\u3067\u3082\n\napp.rb\nrequire 'sinatra'\nrequire 'json'\nrequire 'msgpack'\n\nconfigure do\n  mime_type :msgpack, \"application/x-msgpack\"\nend\n\nget '/hello.?:format?', :provides => [:json] do\n  JSON.dump({hello: \"world\", data: [1, 2, 3, 99]})\nend\n\nget '/hello.?:format?', :provides => [:msgpack] do\n  {hello: \"world\", data: [1, 2, 3, 99]}.to_msgpack\nend\n\n\n$ ruby app.rb &\n$ curl -H \"Accept: application/json\" http://localhost:4567/hello.json\n{\"hello\":\"world\",\"data\":[1,2,3,99]}\n\n$ curl -H \"Accept: application/x-msgpack\" http://localhost:4567/hello.msgpack\n\ufffd\ufffdhello\ufffdworld\ufffddata\ufffd\n\n$ curl -H \"Accept: text/html\" http://localhost:4567/hello.json\n#=> Sinatra doesn't know this ditty!\n\n\nPadrino \u306a\u3089\nconfig/apps.rb \u3067\n\nconfig/apps.rb\nPadrino.configure_apps do\n  #...\n  mime_type :msgpack, \"application/x-msgpack\"\nend\n\n\n\u3053\u3093\u306a\u3093\u304c\u826f\u3055\u305d\u3046\u3002\n[`mime_type`](http://www.sinatrarb.com/intro#Mime%20Types) \u3068\u3044\u3046\u30af\u30e9\u30b9\u30de\u30af\u30ed\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u4ee5\u4e0a\u3001\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n## \uff0a\u3000\uff0a\u3000\uff0a\n\n\u3053\u308c\u3060\u3051\u3067\u306f\u3042\u308c\u306a\u306e\u3067\u30b3\u30fc\u30c9\u30b5\u30f3\u30d7\u30eb\u3067\u3082\n\n```ruby:app.rb\nrequire 'sinatra'\nrequire 'json'\nrequire 'msgpack'\n\nconfigure do\n  mime_type :msgpack, \"application/x-msgpack\"\nend\n\nget '/hello.?:format?', :provides => [:json] do\n  JSON.dump({hello: \"world\", data: [1, 2, 3, 99]})\nend\n\nget '/hello.?:format?', :provides => [:msgpack] do\n  {hello: \"world\", data: [1, 2, 3, 99]}.to_msgpack\nend\n```\n\n```sh\n$ ruby app.rb &\n$ curl -H \"Accept: application/json\" http://localhost:4567/hello.json\n{\"hello\":\"world\",\"data\":[1,2,3,99]}\n\n$ curl -H \"Accept: application/x-msgpack\" http://localhost:4567/hello.msgpack\n\ufffd\ufffdhello\ufffdworld\ufffddata\ufffd\n\n$ curl -H \"Accept: text/html\" http://localhost:4567/hello.json\n#=> Sinatra doesn't know this ditty!\n```\n\n## Padrino \u306a\u3089\n\n`config/apps.rb` \u3067\n\n```ruby:config/apps.rb\nPadrino.configure_apps do\n  #...\n  mime_type :msgpack, \"application/x-msgpack\"\nend\n```\n\n\u3053\u3093\u306a\u3093\u304c\u826f\u3055\u305d\u3046\u3002"}