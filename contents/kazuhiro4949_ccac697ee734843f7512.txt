{"context": " More than 1 year has passed since last update.\n\n\u30a4\u30f3\u30c8\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\n\u56fd\u5185\u306e\u30e1\u30c7\u30a3\u30a2\u7cfb\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u5272\u3068\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u3068\u306a\u3063\u3066\u3044\u308b\u3042\u306eUI\u3002\u3082\u306f\u3084\u4f55\u756a\u714e\u3058\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u3001frame\u8a08\u7b97\u3068\u304b\u3092\u3057\u306a\u3044\u8efd\u91cf\u306a\u5b9f\u88c5\u3092\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n\u30cb\u30e5\u30fc\u30b9\u7cfb\u30a2\u30d7\u30ea\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308bUI\u306e\u5b9f\u88c5\u3092\u8abf\u3079\u308b\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u307e\u3068\u3081\u3066\u307f\u305f - MonockLaBlog\n\u3042\u306eUI\u306b\u95a2\u3059\u308b\u8a18\u4e8b\u3084\u3088\u304f\u898b\u304b\u3051\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u306f\u3001\u30e1\u30cb\u30e5\u30fc\u8981\u7d20\u30fb\u30b3\u30f3\u30c6\u30f3\u30c4\u8981\u7d20\u306eframe\u3092\u305a\u3089\u3057\u306a\u304c\u3089UIScrollView\u3078\u9806\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u3044\u304f\u3084\u308a\u65b9\u304c\u591a\u3044\u5370\u8c61\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u9055\u3046\u65b9\u6cd5\u3092\u53d6\u308d\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4f9d\u5b58\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u304b\u3064View\u306e\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u3084frame\u8a08\u7b97\u3092\u51fa\u6765\u308b\u3060\u3051\u6291\u3048\u308b\u305f\u3081\u3001\u4eca\u56de\u306fUICollectionViewController\u3068UIPageViewController\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308b\u5b9f\u88c5\u3092\u9078\u3073\u307e\u3057\u305f\u3002\n\n\u8a2d\u8a08\n\u30e1\u30cb\u30e5\u30fc\u3068\u3057\u3066\u4f7f\u3046View\u306fUICollectionViewController\u3067\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u306b\u3042\u305f\u308bView\u306fUIPageViewController\u3067\u7ba1\u7406\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u30b3\u30f3\u30c6\u30ca\u3068\u306a\u308bViewController\u3078\u305d\u306e2\u3064\u3092\u6301\u305f\u305b\u3001\u8868\u793a\u4f4d\u7f6e\u306e\u540c\u671f\u3092\u3068\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u4e0a\u8ff0\u306e\u69cb\u6210\u3092Storyboard\u4e0a\u3067\u8868\u73fe\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nContainerView\u3092\u4f7f\u3063\u3066\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u3057\u307e\u3057\u305f\u3002UICollectionViewController\u3068UIPageViewController\u306f\u30b3\u30f3\u30c6\u30ca\u3068\u306a\u308bViewController\u306eChild ViewController\u3068\u3057\u3066\u3001ContainerView\u7d4c\u7531\u3067Embed\u3055\u308c\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u3001\u3053\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u57fa\u306b\u5b9f\u88c5\u306b\u5165\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u5b9f\u88c5\n\u5b9f\u88c5\u3059\u308b\u5358\u4f4d\u3067\u554f\u984c\u3092\u5c0f\u3055\u304f\u5206\u89e3\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\uff14\u3064\u3092\u305d\u308c\u305e\u308c\u5b9f\u73fe\u3059\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30b9\u30af\u30ed\u30fc\u30eb\u3059\u308b\u30e1\u30cb\u30e5\u30fc\u3092\u6a2a\u4e00\u5217\u306b\u8868\u793a\u3057\u3066\u3001\u9078\u629e\u3059\u308b\u3068\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u305f\u308b\u3000\n\u30da\u30fc\u30b8\u30f3\u30b0\u3067\u9806\u306b\u4e26\u3093\u3060\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\n\u30e1\u30cb\u30e5\u30fc\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3068\u5bfe\u5fdc\u3059\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u8868\u793a\u3055\u308c\u308b\n\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u30da\u30fc\u30b8\u30f3\u30b0\u3059\u308b\u3068\u5bfe\u5fdc\u3059\u308b\u30e1\u30cb\u30e5\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u305f\u308b\n\n\n\u8868\u793a\u3059\u308b\u30c7\u30fc\u30bf\u306e\u7528\u610f\n\u6a5f\u80fd\u5b9f\u88c5\u306e\u524d\u306b\u3001\u307e\u305a\u4eca\u56de\u6271\u3046\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\u8aac\u660e\u306e\u90fd\u5408\u4e0a\u30e2\u30c7\u30eb\u306fViewController\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u3078\u4f9d\u5b58\u3055\u305b\u305f\u304f\u306a\u304b\u3063\u305f\u305f\u3081\u3001\u30b7\u30f3\u30b0\u30eb\u30c8\u30f3\u3067\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\nViewModelManager.swift\nclass ViewModelManager {\n    typealias ViewModel = (menuTitle: String, content: String, themeColor: UIColor)\n\n    static let sharedInstance = ViewModelManager()\n\n    let data: [ViewModel] = [\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc1\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c41\",  themeColor: UIColor.redColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc2\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c42\",  themeColor: UIColor.greenColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc3\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c43\",  themeColor: UIColor.purpleColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc4\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c44\",  themeColor: UIColor.yellowColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc5\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c45\",  themeColor: UIColor.cyanColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc6\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c46\",  themeColor: UIColor.orangeColor())\n    ]\n}\n\n\n\n\u30b9\u30af\u30ed\u30fc\u30eb\u3059\u308b\u30e1\u30cb\u30e5\u30fc\u306e\u4f5c\u6210\nUICollectionViewController\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306fMenuViewController\u3068\u3057\u307e\u3059\u3002\u30b9\u30af\u30ed\u30fc\u30eb\u65b9\u5411\u3092Horizontal\u306b\u3057\u3001scrollIndicator\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\nMenuViewController\u306e\u4e2d\u8eab\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u901a\u5e38\u901a\u308aUICollectionViewController\u3092\u5b9f\u88c5\u3057\u3066\u3044\u3051\u3070\u5927\u4e08\u592b\u3067\u3059\u3002\n\nMenuViewController.swift\nclass MenuViewController: UICollectionViewController {\n\n    // \u73fe\u5728\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u4f4d\u7f6e\u3092\u72b6\u614b\u3068\u3057\u3066\u8a18\u61b6\u3057\u3066\u304a\u304f\u305f\u3081\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u4f5c\u308b\n    var selectedIndex: Int = 0\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n    }\n\n    // MARK:- UICollectionViewDataSource\n    override func collectionView(collectionView: UICollectionView, numberOfItemsInSection section: Int) -> Int {\n        return ModelManager.sharedInstance.data.count\n    }\n\n    override func numberOfSectionsInCollectionView(collectionView: UICollectionView) -> Int {\n        return 1\n    }\n\n    override func collectionView(collectionView: UICollectionView, cellForItemAtIndexPath indexPath: NSIndexPath) -> UICollectionViewCell {\n        // \u30bb\u30eb\u306e\u8a2d\u5b9a\n        let cell = collectionView.dequeueReusableCellWithReuseIdentifier(\"MenuViewCell\", forIndexPath: indexPath) as! MenuViewCell\n        let data = ViewModelManager.sharedInstance.data[indexPath.row]\n        let active = (indexPath.row == selectedIndex)\n        cell.configure(data.menuTitle, color: data.themeColor, active: active)\n        return cell\n    }\n}\n\n\n\n\u6b21\u306b\u3001\u30e1\u30cb\u30e5\u30fc\u306e\u5404\u9805\u76ee\u3092UICollectionViewCell\u3068\u3057\u3066\u4f5c\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u30e9\u30d9\u30eb\u306e\u307f\u306e\u30bb\u30eb\u306b\u3057\u307e\u3057\u305f\u3002\n\nMenuViewCell\u306e\u30b3\u30fc\u30c9\u306b\u3088\u308b\u5b9f\u88c5\u90e8\u5206\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\nMenuViewCell.swfit\nclass MenuViewCell: UICollectionViewCell {\n\n    @IBOutlet weak var nameLabel: UILabel!\n\n    override func awakeFromNib() {\n        super.awakeFromNib()\n    }\n\n    // \u30e1\u30cb\u30e5\u30fc\u306b\u3088\u3063\u3066\u30c6\u30ad\u30b9\u30c8\u3068\u80cc\u666f\u8272\u3092\u5909\u3048\u308b\n    func configure(title: String, color: UIColor, active: Bool) {\n        nameLabel.text = title\n        nameLabel.backgroundColor = color\n        focusCell(active)\n    }\n\n    func focusCell(active: Bool) {\n        let color = active ? UIColor.whiteColor() : UIColor.lightGrayColor()\n        nameLabel.textColor = color\n    }\n}\n\n\n\u3059\u308b\u3068\u305d\u308c\u3063\u307d\u3044\u5f62\u3067\u30e1\u30cb\u30e5\u30fc\u304c\u4e26\u3073\u307e\u3059\u3002\n\n\u66f4\u306b\u30bb\u30eb\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3068\u3001\u305d\u3053\u306e\u4f4d\u7f6e\u306e\u30e1\u30cb\u30e5\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u305f\u308a\u3001\u4e2d\u592e\u306b\u79fb\u52d5\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u30bb\u30eb\u9078\u629e\u6642\u306bscrollToItemAtIndexPath\u3092\u547c\u3093\u3067\u3001\u4e2d\u592e\u306b\u6765\u308b\u3088\u3046\u6307\u5b9a\u3059\u308b\u3060\u3051\u3067\u3044\u3051\u307e\u3059\u3002\n\nMenuViewController.swift\n\nclass MenuViewController: UICollectionViewController {\n//...\n//\u7701\u7565\n//...\n    override func collectionView(collectionView: UICollectionView, didSelectItemAtIndexPath indexPath: NSIndexPath) {\n        focusCell(indexPath)\n    }\n\n    // \u6307\u5b9a\u3057\u305findexPath\u306e\u30bb\u30eb\u3092\u9078\u629e\u72b6\u614b\u306b\u3057\u3066\u79fb\u52d5\u3055\u305b\u308b\u3002(collectionView\u306a\u306e\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044)\n    func focusCell(indexPath: NSIndexPath) {\n        // \u4ee5\u524d\u9078\u629e\u3055\u308c\u3066\u3044\u305f\u30bb\u30eb\u3092\u975e\u9078\u629e\u72b6\u614b\u306b\u3059\u308b(collectionView\u306a\u306e\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044)\n        if let previousCell = collectionView?.cellForItemAtIndexPath(NSIndexPath(forItem: selectedIndex, inSection: 0)) as? MenuViewCell {\n            previousCell.focusCell(false)\n        }\n\n        // \u65b0\u3057\u304f\u9078\u629e\u3057\u305f\u30bb\u30eb\u3092\u9078\u629e\u72b6\u614b\u306b\u3059\u308b(collectionView\u306a\u306e\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044)\n        if let nextCell = collectionView?.cellForItemAtIndexPath(indexPath) as? MenuViewCell {\n            nextCell.focusCell(true)\n        }\n\n        // \u73fe\u5728\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u4f4d\u7f6e\u3092\u72b6\u614b\u3068\u3057\u3066ViewController\u306b\u899a\u3048\u3055\u305b\u3066\u304a\u304f\n        selectedIndex = indexPath.row\n\n        // .CenteredHorizontally\u3067\u3092\u6307\u5b9a\u3057\u3066\u3001CollectionView\u306ebounds\u306e\u4e2d\u592e\u306bindexPath\u306e\u30bb\u30eb\u304c\u6765\u308b\u3088\u3046\u306b\u3059\u308b\n        collectionView?.scrollToItemAtIndexPath(indexPath, atScrollPosition: .CenteredHorizontally, animated: true)\n    }\n//...\n//\u7701\u7565\n//...\n}\n\n\n\n\u3053\u308c\u3067\u9078\u629e\u3057\u305f\u30e1\u30cb\u30e5\u30fc\u304c(\u30b9\u30af\u30ed\u30fc\u30eb\u53ef\u80fd\u3067\u3042\u308c\u3070)\u4e2d\u592e\u306b\u6765\u308b\u3088\u3046\u306b\u3067\u304d\u307e\u3057\u305f\u3002\n\n\n\u30b3\u30f3\u30c6\u30ca\u306b\u306a\u308bViewController\u306e\u4f5c\u6210\n\u7d9a\u3044\u3066\u30b3\u30f3\u30c6\u30ca\u306b\u306a\u308bViewController\u3092\u4f5c\u6210\u3057\u3001MenuViewController\u3068UIPageViewController\u3092\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u3057\u3066\u6301\u305f\u305b\u307e\u3059\u3002\u306f\u3058\u3081\u306estoryboard\u3067ContainerView\u306eembed segue\u306b\u305d\u308c\u305e\u308c\"embedMenuViewController\", \"embedPageViewController\"\u3068\u540d\u4ed8\u3051\u3066\u3001prepareForSegue(_:sender:)\u3067\u5bfe\u5fdc\u3059\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u4ee3\u5165\u3057\u307e\u3059\u3002\n\nContainerViewController.swift\nimport UIKit\n\nclass ContainerViewController: UIViewController {\n// ...\n// \u7701\u7565\n// ...\n    var menuViewController: MenuViewController?\n    var pageViewController: UIPageViewController?\n\n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {\n        if let vc = segue.destinationViewController as? MenuViewController where segue.identifier == \"embedMenuViewController\" {\n            menuViewController = vc\n        } else if let vc = segue.destinationViewController as? UIPageViewController where segue.identifier == \"embedPageViewController\" {\n            pageViewController = vc\n        }\n    }\n// ...\n// \u7701\u7565\n// ...\n}\n\n\n\n\u30b9\u30ef\u30a4\u30d7\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3055\u305b\u308b\n\u3055\u3089\u306b\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793a\u90e8\u5206\u3092\u4f5c\u308a\u307e\u3059\u3002UIPageViewControllerDataSource\u3092\u5b9f\u88c5\u3057\u3066\u3001\u30da\u30fc\u30b8\u9001\u308a\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\u307e\u305a\u8868\u793a\u3055\u305b\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u3092ViewController\u3068\u3057\u3066\u4f5c\u6210\u3057\u307e\u3059\u3002\nStoryboard\u3092\u4f7f\u3063\u3066\u30e9\u30d9\u30eb\u3092\u4e2d\u592e\u306b\u6301\u3064ContentViewController\u3092\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\n\nContentViewController.swift\nimport UIKit\n\nclass ContentViewController: UIViewController {\n\n    @IBOutlet weak var contentLabel: UILabel!\n\n    var index: Int?\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        if let index = index {\n            contentLabel.text = ViewModelManager.sharedInstance.data[index].content\n            view.backgroundColor = ViewModelManager.sharedInstance.data[index].themeColor\n        }\n    }\n}\n\n\n\u3053\u308c\u3092\u3001ContainerViewController\u306bembed\u3055\u308c\u3066\u3044\u308bUIPageViewController\u306e\u30da\u30fc\u30b8\u9001\u308a\u3067\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306fUIPageViewController\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9\u3092\u4f5c\u308b\u306e\u306f\u7701\u3044\u3066\u3001UIPageViewControllerDataSource\u3092ContainerViewController\u5185\u3078\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u5b9f\u88c5\u306f\u30c6\u30f3\u30d7\u30ec\u7684\u306a\u3084\u308a\u65b9\u3057\u304b\u3068\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\nContainerViewController.swift\nclass ContainerViewController: UIViewController, UIPageViewControllerDataSource {\n//...\n//\u7701\u7565\n//...\n    // MARK:- UIPageViewControllerDataSource\n\n    // \u3072\u3068\u3064\u524d\u306e\u30da\u30fc\u30b8\u3092\u8fd4\u3059Delegate\u30e1\u30bd\u30c3\u30c9\n    func pageViewController(pageViewController: UIPageViewController, viewControllerBeforeViewController viewController: UIViewController) -> UIViewController? {\n        guard let prevVc = viewController as? ContentViewController else {\n            fatalError(\"not ContentViewController\")\n        }\n\n        guard let prevPageIndex = prevVc.index.flatMap({ $0 - 1 }) where 0 <= prevPageIndex else {\n            return nil\n        }\n\n        let vc = storyboard?.instantiateViewControllerWithIdentifier(\"ContentViewController\") as! ContentViewController\n        vc.index = prevPageIndex\n        return vc\n    }\n\n    // \u3072\u3068\u3064\u5148\u306e\u30da\u30fc\u30b8\u3092\u8fd4\u3059Delegate\u30e1\u30bd\u30c3\u30c9\n    func pageViewController(pageViewController: UIPageViewController, viewControllerAfterViewController viewController: UIViewController) -> UIViewController? {\n        guard let nextVc = viewController as? ContentViewController else {\n            fatalError(\"not ContentViewController\")\n        }\n\n        guard let nextPageIndex = nextVc.index.flatMap({ $0 + 1 }) where nextPageIndex < ViewModelManager.sharedInstance.data.count else {\n            return nil\n        }\n\n        let vc = storyboard?.instantiateViewControllerWithIdentifier(\"ContentViewController\") as! ContentViewController\n        vc.index = nextPageIndex\n        return vc\n    }\n//...\n//\u7701\u7565\n//...\n}\n\n\n\u3053\u308c\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\u90e8\u5206\u306e\u5b9f\u88c5\u306f\u4ee5\u4e0a\u3067\u3059\u3002\u305f\u3060\u3057\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u3066\u3082\u307e\u3060\u30e1\u30cb\u30e5\u30fc\u306e\u4f4d\u7f6e\u304c\u5909\u308f\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\n\u30e1\u30cb\u30e5\u30fc\u3068\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u8868\u793a\u4f4d\u7f6e\u3092\u5408\u308f\u305b\u308b\n\u6700\u5f8c\u306b\u3001\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u5f53\u305f\u308b\u30e1\u30cb\u30e5\u30fc\u3068\u8868\u793a\u3057\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u540c\u671f\u3055\u305b\u307e\u3059\u3002\u305d\u308c\u3092\u884c\u3046\u305f\u3081\u306bUIPageViewControllerDelegate\u3068UICollectionViewDelegate\u306e\u4e2d\u8eab\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u30e1\u30cb\u30e5\u30fc\u3092\u9078\u629e\u3057\u305f\u6642\u306b\u5bfe\u5fdc\u3059\u308bContentViewController\u3092\u8868\u793a\u3055\u305b\u308b\u51e6\u7406\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u306bContainerViewController\u3078\u9078\u629e\u3057\u305findex\u60c5\u5831\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u3001MenuViewControllerDelegate\n\u3092\u4f5c\u6210\u3057\u3066Cell\u304c\u9078\u629e\u3055\u308c\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u305d\u3044\u3064\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nMenuViewController.swift\nprotocol MenuViewControllerDelegate: class {\n    func menuViewController(viewController: MenuViewController, at index: Int)\n}\n\nclass MenuViewController: UICollectionViewController {\n    weak var delegate: MenuViewControllerDelegate? // \u8ffd\u52a0\n\n    // MARK:- UICollectionViewDelegate\n    override func collectionView(collectionView: UICollectionView, didSelectItemAtIndexPath indexPath: NSIndexPath) {\n        focusCell(indexPath)\n        delegate?.menuViewController(self, at: indexPath.row) // \u8ffd\u52a0\n    }\n}\n\n\nContainerViewController\u306eprepareForSegue(_: sender:)\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u4f5c\u6210\u3057\u305fdelegate\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nContainerViewController.swift\nclass ContainerViewController: UIViewController, MenuViewControllerDelegate {\n// ...\n// \u7701\u7565\n// ...\n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {\n        if let vc = segue.destinationViewController as? MenuViewController where segue.identifier == \"embedMenuViewController\" {\n            menuViewController = vc\n            menuViewController.delegate = self  // \u8ffd\u52a0\n        } else if let vc = segue.destinationViewController as? UIPageViewController where segue.identifier == \"embedPageViewController\" {\n            pageViewController = vc\n        }\n    }\n// ...\n// \u7701\u7565\n// ...\n}\n\n\n\nContainerViewController\u306bmenuViewController(_)\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002collectionView\u306e\u9078\u629e\u3057\u305findexPath\u304b\u3089\u30da\u30fc\u30b8\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002\n\nContainerViewController.swift\nclass ContainerViewController: UIViewController, MenuViewControllerDelegate {\n// ...\n// \u7701\u7565\n// ...\n    //MARK:- MenuViewControllerDelegate\n    func menuViewController(viewController: MenuViewController, at index: Int) {\n\n        // \u73fe\u5728\u8868\u793a\u3055\u308c\u3066\u3044\u308bViewController\u3092\u53d6\u5f97\u3059\u308b\n        guard let currentVc = pageViewController?.viewControllers?.first as? ContentViewController,\n            let currentIndex = currentVc.index else {\n                fatalError(\"not ContentViewController\")\n        }\n\n        // \u9078\u629e\u3057\u305findex\u304c\u8868\u793a\u3057\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u540c\u3058\u306a\u3089\u51e6\u7406\u3092\u6b62\u3081\u308b        \n        guard currentIndex != index else { return }\n\n        // \u9078\u629e\u3057\u305findex\u3068\u73fe\u5728\u8868\u793a\u3055\u308c\u3066\u3044\u308bindex\u3092\u6bd4\u8f03\u3057\u3066\u3001\u30da\u30fc\u30b8\u30f3\u30b0\u306e\u65b9\u6cd5\u3092\u6c7a\u3081\u308b\n        let direction :UIPageViewControllerNavigationDirection = currentIndex < index ? .Forward : .Reverse\n        let vc = storyboard?.instantiateViewControllerWithIdentifier(\"ContentViewController\") as! ContentViewController\n        vc.index = index\n        // \u65b0\u3057\u304fViewController\u3092\u8a2d\u5b9a\u3059\u308b\n        pageViewController?.setViewControllers([vc], direction: direction, animated: true) { _ in }\n    }\n// ...\n// \u7701\u7565\n// ...\n}\n\n\n\u30e1\u30cb\u30e5\u30fc\u3092\u9078\u629e\u3057\u305f\u6642\u306b\u30da\u30fc\u30b8\u30f3\u30b0\u304c\u5b9f\u884c\u3055\u308c\u3066\u3001\u5bfe\u5fdc\u3059\u308bContentViewController\u304c\u8868\u793a\u3055\u308c\u308b\u69d8\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u4eca\u5ea6\u306f\u3001PageViewController\u306e\u30da\u30fc\u30b8\u30f3\u30b0\u306b\u5408\u308f\u305b\u3066\u5bfe\u5fdc\u3059\u308bCell\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u5f53\u3066\u307e\u3059\u3002\nContainerViewController\u306eprepareForSegue(_:sender:)\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067UIPageViewController\u306edelegate\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nclass ContainerViewController: UIViewController, UIPageViewControllerDataSource, UIPageViewControllerDelegate { // UIPageViewControllerDelegate\u3092\u8ffd\u52a0 \n\n// ...\n// (\u7701\u7565)\n// ...\n    // MARK: - Segues\n\n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {\n        if segue.identifier == \"embedMenuViewController\" {\n            menuViewController = segue.destinationViewController as? MenuViewController\n            menuViewController?.delegate = self\n        } else if segue.identifier == \"embedPageViewController\" {\n            pageViewController = segue.destinationViewController as? UIPageViewController\n            pageViewController?.dataSource = self\n            pageViewController?.delegate = self  // \u8ffd\u52a0\n        }\n    }\n// ...\n// (\u7701\u7565)\n// ...\n}\n\nContainerViewController\u5185\u3078UIPageViewControllerDelegate\u3092\u5b9f\u88c5\u3057\u3066\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067MenuViewController\u306e\u9078\u629e\u3092\u5909\u66f4\u3059\u308b\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nclass ContainerViewController: UIViewController, UIPageViewControllerDataSource, UIPageViewControllerDelegate {\n// ...\n// (\u7701\u7565)\n// ...\n    // MARK:- UIPageViewControllerDelegate\n    func pageViewController(pageViewController: UIPageViewController, didFinishAnimating finished: Bool, previousViewControllers: [UIViewController], transitionCompleted completed: Bool) {\n        //\u73fe\u5728\u8868\u793a\u3057\u3066\u3044\u308bContentViewController\u3092\u53d6\u5f97\n        guard let currentVc = pageViewController.viewControllers?.first as? ContentViewController else {\n            fatalError(\"not ContentViewController\")\n        }\n\n        guard let index = currentVc.index else {\n            fatalError(\"fail to get ContentViewController.index\")\n        }\n\n        // MenuViewController\u306e\u7279\u5b9a\u306e\u30bb\u30eb\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u3042\u3066\u308b\n        let indexPath = NSIndexPath(forItem: index, inSection: 0)\n        menuViewController?.focusCell(indexPath)\n    }\n// ...\n// (\u7701\u7565)\n// ...\n}\n\n\u3053\u308c\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u306b\u5fdc\u3058\u3066\u30d5\u30a9\u30fc\u30ab\u30b9\u3055\u308c\u308b\u30e1\u30cb\u30e5\u30fc\u304c\u5909\u308f\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u4ee5\u4e0a\u3067\u5b9f\u88c5\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\u307e\u3068\u3081\n\u3053\u306e\u5b9f\u88c5\u3067\u306f\u3001UICollectionViewController\u3068UIPageViewController\u3092\u305d\u308c\u305e\u308c\u3092\u4f5c\u3063\u305f\u3042\u3068\u3001\u304a\u4e92\u3044\u306edelegate\u51e6\u7406\u3067\u52d5\u304d\u3092\u5408\u308f\u305b\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u305d\u308c\u3063\u307d\u3044UI\u3092\u5b9f\u73fe\u3057\u307e\u3057\u305f\u3002\u52d5\u304d\u3092\u5408\u308f\u305b\u308b\u90e8\u5206\u4ee5\u5916\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u901a\u308a\u306e\u5b9f\u88c5\u3092\u3057\u3066\u304a\u308a\u3001\u7279\u5225\u306a\u3053\u3068\u306f\u3084\u3063\u3066\u3044\u307e\u305b\u3093\u3002UIPageViewController\u3068UICollectionViewController\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u304c\u3042\u308b\u7a0b\u5ea6\u308f\u304b\u3063\u3066\u3044\u308c\u3070\u5927\u3057\u305f\u8a71\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u305d\u306e\u305f\u3081\u3001\u300c\u30e1\u30cb\u30e5\u30fc\u306fUICollectioNViewController\u3067\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u306fUIPageViewController\u3092\u4f7f\u3063\u3066\u3044\u308b\u300d\u3068\u8a00\u3048\u3070\u3069\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u304b\u8aad\u307e\u306a\u304f\u3066\u3082\u5927\u4f53\u60f3\u50cf\u304c\u3064\u304f\u3068\u3044\u3046\u3088\u3055\u304c\u3042\u308a\u307e\u3059\u3002\n\u306a\u3093\u304b\u305d\u308c\u3063\u307d\u3044UI\u3092\u624b\u9593\u304b\u3051\u305a\u306b\u4f5c\u308b\u6642\u306e\u53c2\u8003\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n\u3053\u306e\u8a2d\u8a08\u306e\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\n\u4eca\u56de\u306e\u5b9f\u88c5\u306b\u306f\u6b21\u306e\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30fc\u30e9\u30a4\u30d6\u30e9\u30ea\u3078\u4f75\u5b58\u305b\u305a\u3001\u8efd\u91cf\u3067\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u81ea\u7531\u5ea6\u304c\u9ad8\u3044\nUIKit\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u6a5f\u80fd\u306b\u305d\u306e\u307e\u307e\u4e57\u3063\u304b\u308c\u308b\u305f\u3081\u3001\u4f5c\u308a\u3053\u307e\u305a\u306b\u305d\u3053\u305d\u3053\u306e\u3082\u306e\u3067\u304d\u308b\u30fbframe\u8a08\u7b97\u304c\u3044\u3089\u306a\u3044\n\n\u4e00\u65b9\u3067\u3044\u304f\u3064\u304b\u306e\u554f\u984c\u70b9\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u7d30\u304b\u304f\u3053\u3060\u308f\u3063\u3066\u4f5c\u308a\u8fbc\u307f\u305f\u3044\u6642\u306b\u306f\u9762\u5012\u306a\u5b9f\u88c5\u304c\u5fc5\u8981\n\u30da\u30fc\u30b8\u30f3\u30b0\u306e\u5ea6\u306bViewController\u3092\u751f\u6210\u3059\u308b\u4f5c\u308a\u306e\u5834\u5408\u3001UIPageViewController\u306e\u30da\u30fc\u30b8\u30f3\u30b0\u3067\u4e00\u77ac\u30ab\u30af\u3064\u304f\n\n\u4f8b\u3048\u3070UIPageViewController\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u3068UICollectionViewController\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u3092\u5b8c\u5168\u306b\u540c\u671f\u3055\u305b\u305f\u3044\u6642\u306a\u3069\u306fUIPageViewController\u306escrollView\u306b\u5bfe\u3057\u3066scrollViewDidScroll(_:)\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\nUIPageViewController\u306e\u30da\u30fc\u30b8\u30f3\u30b0\u3067\u4e00\u77ac\u30ab\u30af\u3064\u304f\u554f\u984c\u306b\u95a2\u3057\u3066\u306f\u3001UITableView\u3092\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u969b\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u305d\u306e\u539f\u56e0\u3068\u5bfe\u7b56\u306b\u3064\u3044\u3066\u6b21\u306e\u7bc0\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\u203b \u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u3057\u3066UITableViewController\u3092\u5229\u7528\u3059\u308b\u6642\u306e\u6ce8\u610f\u70b9\nUIPageViewController\u3067UITableViewController\u306e\u8868\u793a\u3092\u3059\u308b\u5834\u5408\u306f\u30012\u70b9\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u30da\u30fc\u30b8\u30f3\u30b0\u306e\u958b\u59cb\u304c\u30ab\u30af\u3064\u304f\nStoryboard\u304b\u3089\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u76f4\u5f8c\u306a\u3069\u3001TableView\u304c\u307e\u3060\u4e00\u5ea6\u3082\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u72b6\u614b\u3067viewWillAppear(_:)\u304c\u547c\u3070\u308c\u308b\u3068\u3001\u305d\u308c\u3089\u306ereloaData()\u304c\u547c\u3070\u308c\u3066view\u306b\u5bfe\u3059\u308b\u51e6\u7406\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u30b9\u30af\u30ed\u30fc\u30eb\u3054\u3068\u306b\u5fc5\u8981\u306aViewController\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u5834\u5408\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u958b\u59cb\u6642\u70b9(\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793a\u6642\u70b9)\u3067reloadData()\u304c\u547c\u3070\u308c\u3001\u52d5\u304d\u304c\u4e00\u77ac\u30ab\u30af\u3064\u3044\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u3053\u306e\u73fe\u8c61\u3092\u9632\u3050\u305f\u3081\u306b\u3001\u81ea\u5206\u306fContentViewController\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u305f\u3089NSCache\u307e\u305f\u306fArray\u306b\u7a81\u3063\u8fbc\u3093\u3067\u3001\u6b21\u56de\u4ee5\u964d\u305d\u3053\u304b\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\nscrollToTop\u304c\u52b9\u304b\u306a\u3044\nUINavigationController\u306b1\u3064\u306eUIPageViewController\u3068\u8907\u6570\u306eContentViewController\u304c\u4e57\u3063\u304b\u3063\u3066\u3044\u308b\u5f62\u306b\u306a\u308b\u305f\u3081\u3001\u305d\u306e\u307e\u307e\u3060\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u30d0\u30fc\u3092\u30bf\u30c3\u30d7\u3057\u305f\u6642\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u52b9\u304d\u307e\u305b\u3093\u3002\n\u3053\u3053\u306b\u95a2\u3057\u3066\u306f\u9762\u5012\u3067\u3059\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308bTableView\u4ee5\u5916\u306eScrollView\u306escrollToTop\u3092false\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nUIPageViewController\u306f\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u3057\u3066scrollView\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001subviews\u3092forEach(_:)\u3067\u63a2\u7d22\u3057\u3066scrollView\u304c\u3042\u308c\u3070scrollToTop\u3078false\u3092\u5165\u308c\u308b\u3068\u3044\u3046\u51e6\u7406\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u53c2\u8003\u8cc7\u6599\n\n[1] \u30cb\u30e5\u30fc\u30b9\u7cfb\u30a2\u30d7\u30ea\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308bUI\u306e\u5b9f\u88c5\u3092\u8abf\u3079\u308b\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u307e\u3068\u3081\u3066\u307f\u305f - MonockLaBlog\n\n[2] UICollectionViewController Class Reference\n\n[3] UIPageViewController Class Reference\n\n\n# \u30a4\u30f3\u30c8\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\n\n\u56fd\u5185\u306e\u30e1\u30c7\u30a3\u30a2\u7cfb\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u5272\u3068\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u3068\u306a\u3063\u3066\u3044\u308b\u3042\u306eUI\u3002\u3082\u306f\u3084\u4f55\u756a\u714e\u3058\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u304c\u3001frame\u8a08\u7b97\u3068\u304b\u3092\u3057\u306a\u3044\u8efd\u91cf\u306a\u5b9f\u88c5\u3092\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n\n[\u30cb\u30e5\u30fc\u30b9\u7cfb\u30a2\u30d7\u30ea\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308bUI\u306e\u5b9f\u88c5\u3092\u8abf\u3079\u308b\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u307e\u3068\u3081\u3066\u307f\u305f - MonockLaBlog](http://blog.monocklab.com/entry/2016/01/13/185702)\n\n\u3042\u306eUI\u306b\u95a2\u3059\u308b\u8a18\u4e8b\u3084\u3088\u304f\u898b\u304b\u3051\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u306f\u3001\u30e1\u30cb\u30e5\u30fc\u8981\u7d20\u30fb\u30b3\u30f3\u30c6\u30f3\u30c4\u8981\u7d20\u306eframe\u3092\u305a\u3089\u3057\u306a\u304c\u3089UIScrollView\u3078\u9806\u306b\u8cbc\u308a\u4ed8\u3051\u3066\u3044\u304f\u3084\u308a\u65b9\u304c\u591a\u3044\u5370\u8c61\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u9055\u3046\u65b9\u6cd5\u3092\u53d6\u308d\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4f9d\u5b58\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u304b\u3064View\u306e\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u3084frame\u8a08\u7b97\u3092\u51fa\u6765\u308b\u3060\u3051\u6291\u3048\u308b\u305f\u3081\u3001\u4eca\u56de\u306f[UICollectionViewController](https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UICollectionViewController_clas/index.html)\u3068[UIPageViewController](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIPageViewControllerClassReferenceClassRef/)\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308b\u5b9f\u88c5\u3092\u9078\u3073\u307e\u3057\u305f\u3002\n\n\n# \u8a2d\u8a08\n\u30e1\u30cb\u30e5\u30fc\u3068\u3057\u3066\u4f7f\u3046View\u306fUICollectionViewController\u3067\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u306b\u3042\u305f\u308bView\u306fUIPageViewController\u3067\u7ba1\u7406\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u30b3\u30f3\u30c6\u30ca\u3068\u306a\u308bViewController\u3078\u305d\u306e2\u3064\u3092\u6301\u305f\u305b\u3001\u8868\u793a\u4f4d\u7f6e\u306e\u540c\u671f\u3092\u3068\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u4e0a\u8ff0\u306e\u69cb\u6210\u3092Storyboard\u4e0a\u3067\u8868\u73fe\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n<img width=\"1148\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-11 14.12.55.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/29477/c131d79b-f7fc-be8b-9bc9-9aefec74abed.png\">\n\nContainerView\u3092\u4f7f\u3063\u3066\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u3057\u307e\u3057\u305f\u3002UICollectionViewController\u3068UIPageViewController\u306f\u30b3\u30f3\u30c6\u30ca\u3068\u306a\u308bViewController\u306eChild ViewController\u3068\u3057\u3066\u3001ContainerView\u7d4c\u7531\u3067Embed\u3055\u308c\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u3001\u3053\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u57fa\u306b\u5b9f\u88c5\u306b\u5165\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n# \u5b9f\u88c5\n\n\u5b9f\u88c5\u3059\u308b\u5358\u4f4d\u3067\u554f\u984c\u3092\u5c0f\u3055\u304f\u5206\u89e3\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\uff14\u3064\u3092\u305d\u308c\u305e\u308c\u5b9f\u73fe\u3059\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\n\n+ \u30b9\u30af\u30ed\u30fc\u30eb\u3059\u308b\u30e1\u30cb\u30e5\u30fc\u3092\u6a2a\u4e00\u5217\u306b\u8868\u793a\u3057\u3066\u3001\u9078\u629e\u3059\u308b\u3068\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u305f\u308b\u3000\n+ \u30da\u30fc\u30b8\u30f3\u30b0\u3067\u9806\u306b\u4e26\u3093\u3060\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\n+ \u30e1\u30cb\u30e5\u30fc\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3068\u5bfe\u5fdc\u3059\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u8868\u793a\u3055\u308c\u308b\n+ \u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u30da\u30fc\u30b8\u30f3\u30b0\u3059\u308b\u3068\u5bfe\u5fdc\u3059\u308b\u30e1\u30cb\u30e5\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u305f\u308b\n\n## \u8868\u793a\u3059\u308b\u30c7\u30fc\u30bf\u306e\u7528\u610f\n\u6a5f\u80fd\u5b9f\u88c5\u306e\u524d\u306b\u3001\u307e\u305a\u4eca\u56de\u6271\u3046\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u30c7\u30fc\u30bf\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\u8aac\u660e\u306e\u90fd\u5408\u4e0a\u30e2\u30c7\u30eb\u306fViewController\u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u3078\u4f9d\u5b58\u3055\u305b\u305f\u304f\u306a\u304b\u3063\u305f\u305f\u3081\u3001\u30b7\u30f3\u30b0\u30eb\u30c8\u30f3\u3067\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n```swift:ViewModelManager.swift\nclass ViewModelManager {\n    typealias ViewModel = (menuTitle: String, content: String, themeColor: UIColor)\n    \n    static let sharedInstance = ViewModelManager()\n\n    let data: [ViewModel] = [\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc1\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c41\",  themeColor: UIColor.redColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc2\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c42\",  themeColor: UIColor.greenColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc3\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c43\",  themeColor: UIColor.purpleColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc4\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c44\",  themeColor: UIColor.yellowColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc5\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c45\",  themeColor: UIColor.cyanColor()),\n        (menuTitle: \"\u30e1\u30cb\u30e5\u30fc6\", content: \"\u30b3\u30f3\u30c6\u30f3\u30c46\",  themeColor: UIColor.orangeColor())\n    ]\n}\n```\n\n## \u30b9\u30af\u30ed\u30fc\u30eb\u3059\u308b\u30e1\u30cb\u30e5\u30fc\u306e\u4f5c\u6210\nUICollectionViewController\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306fMenuViewController\u3068\u3057\u307e\u3059\u3002\u30b9\u30af\u30ed\u30fc\u30eb\u65b9\u5411\u3092Horizontal\u306b\u3057\u3001scrollIndicator\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n<img width=\"1760\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-11 16.39.39.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/29477/1c08a560-0e20-695c-5bc4-8c30a73f625d.png\">\n\nMenuViewController\u306e\u4e2d\u8eab\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\u901a\u5e38\u901a\u308aUICollectionViewController\u3092\u5b9f\u88c5\u3057\u3066\u3044\u3051\u3070\u5927\u4e08\u592b\u3067\u3059\u3002\n\n```swift:MenuViewController.swift\nclass MenuViewController: UICollectionViewController {\n\n    // \u73fe\u5728\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u4f4d\u7f6e\u3092\u72b6\u614b\u3068\u3057\u3066\u8a18\u61b6\u3057\u3066\u304a\u304f\u305f\u3081\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u4f5c\u308b\n    var selectedIndex: Int = 0\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n    }\n\n    // MARK:- UICollectionViewDataSource\n    override func collectionView(collectionView: UICollectionView, numberOfItemsInSection section: Int) -> Int {\n        return ModelManager.sharedInstance.data.count\n    }\n    \n    override func numberOfSectionsInCollectionView(collectionView: UICollectionView) -> Int {\n        return 1\n    }\n    \n    override func collectionView(collectionView: UICollectionView, cellForItemAtIndexPath indexPath: NSIndexPath) -> UICollectionViewCell {\n        // \u30bb\u30eb\u306e\u8a2d\u5b9a\n        let cell = collectionView.dequeueReusableCellWithReuseIdentifier(\"MenuViewCell\", forIndexPath: indexPath) as! MenuViewCell\n        let data = ViewModelManager.sharedInstance.data[indexPath.row]\n        let active = (indexPath.row == selectedIndex)\n        cell.configure(data.menuTitle, color: data.themeColor, active: active)\n        return cell\n    }\n}\n\n```\n\n\u6b21\u306b\u3001\u30e1\u30cb\u30e5\u30fc\u306e\u5404\u9805\u76ee\u3092UICollectionViewCell\u3068\u3057\u3066\u4f5c\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u30e9\u30d9\u30eb\u306e\u307f\u306e\u30bb\u30eb\u306b\u3057\u307e\u3057\u305f\u3002\n\n<img width=\"1469\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-14 1.26.52.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/29477/8c6d05a1-40a0-6074-3beb-90293ef260da.png\">\n\n\nMenuViewCell\u306e\u30b3\u30fc\u30c9\u306b\u3088\u308b\u5b9f\u88c5\u90e8\u5206\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n```swift:MenuViewCell.swfit\nclass MenuViewCell: UICollectionViewCell {\n    \n    @IBOutlet weak var nameLabel: UILabel!\n\n    override func awakeFromNib() {\n        super.awakeFromNib()\n    }\n    \n    // \u30e1\u30cb\u30e5\u30fc\u306b\u3088\u3063\u3066\u30c6\u30ad\u30b9\u30c8\u3068\u80cc\u666f\u8272\u3092\u5909\u3048\u308b\n    func configure(title: String, color: UIColor, active: Bool) {\n        nameLabel.text = title\n        nameLabel.backgroundColor = color\n        focusCell(active)\n    }\n    \n    func focusCell(active: Bool) {\n        let color = active ? UIColor.whiteColor() : UIColor.lightGrayColor()\n        nameLabel.textColor = color\n    }\n}\n```\n\n\u3059\u308b\u3068\u305d\u308c\u3063\u307d\u3044\u5f62\u3067\u30e1\u30cb\u30e5\u30fc\u304c\u4e26\u3073\u307e\u3059\u3002\n\n<img width=\"360\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-14 12.10.29.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/29477/ee7cb7b6-c2f5-caf3-c48b-d42c9f08f1e0.png\">\n\n\u66f4\u306b\u30bb\u30eb\u3092\u30bf\u30c3\u30d7\u3059\u308b\u3068\u3001\u305d\u3053\u306e\u4f4d\u7f6e\u306e\u30e1\u30cb\u30e5\u30fc\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u3042\u305f\u308a\u3001\u4e2d\u592e\u306b\u79fb\u52d5\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u30bb\u30eb\u9078\u629e\u6642\u306bscrollToItemAtIndexPath\u3092\u547c\u3093\u3067\u3001\u4e2d\u592e\u306b\u6765\u308b\u3088\u3046\u6307\u5b9a\u3059\u308b\u3060\u3051\u3067\u3044\u3051\u307e\u3059\u3002\n\n```swift:MenuViewController.swift\n\nclass MenuViewController: UICollectionViewController {\n//...\n//\u7701\u7565\n//...\n    override func collectionView(collectionView: UICollectionView, didSelectItemAtIndexPath indexPath: NSIndexPath) {\n        focusCell(indexPath)\n    }\n\n    // \u6307\u5b9a\u3057\u305findexPath\u306e\u30bb\u30eb\u3092\u9078\u629e\u72b6\u614b\u306b\u3057\u3066\u79fb\u52d5\u3055\u305b\u308b\u3002(collectionView\u306a\u306e\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044)\n    func focusCell(indexPath: NSIndexPath) {\n        // \u4ee5\u524d\u9078\u629e\u3055\u308c\u3066\u3044\u305f\u30bb\u30eb\u3092\u975e\u9078\u629e\u72b6\u614b\u306b\u3059\u308b(collectionView\u306a\u306e\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044)\n        if let previousCell = collectionView?.cellForItemAtIndexPath(NSIndexPath(forItem: selectedIndex, inSection: 0)) as? MenuViewCell {\n            previousCell.focusCell(false)\n        }\n\n        // \u65b0\u3057\u304f\u9078\u629e\u3057\u305f\u30bb\u30eb\u3092\u9078\u629e\u72b6\u614b\u306b\u3059\u308b(collectionView\u306a\u306e\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u30bb\u30eb\u306f\u5b58\u5728\u3057\u306a\u3044)\n        if let nextCell = collectionView?.cellForItemAtIndexPath(indexPath) as? MenuViewCell {\n            nextCell.focusCell(true)\n        }\n\n        // \u73fe\u5728\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u4f4d\u7f6e\u3092\u72b6\u614b\u3068\u3057\u3066ViewController\u306b\u899a\u3048\u3055\u305b\u3066\u304a\u304f\n        selectedIndex = indexPath.row\n        \n        // .CenteredHorizontally\u3067\u3092\u6307\u5b9a\u3057\u3066\u3001CollectionView\u306ebounds\u306e\u4e2d\u592e\u306bindexPath\u306e\u30bb\u30eb\u304c\u6765\u308b\u3088\u3046\u306b\u3059\u308b\n        collectionView?.scrollToItemAtIndexPath(indexPath, atScrollPosition: .CenteredHorizontally, animated: true)\n    }\n//...\n//\u7701\u7565\n//...\n}\n\n```\n\n\u3053\u308c\u3067\u9078\u629e\u3057\u305f\u30e1\u30cb\u30e5\u30fc\u304c(\u30b9\u30af\u30ed\u30fc\u30eb\u53ef\u80fd\u3067\u3042\u308c\u3070)\u4e2d\u592e\u306b\u6765\u308b\u3088\u3046\u306b\u3067\u304d\u307e\u3057\u305f\u3002\n\n![qiita_1.gif](https://qiita-image-store.s3.amazonaws.com/0/29477/58e0d2c5-ab02-7b8e-2851-ccb5a702d192.gif)\n\n\n\n## \u30b3\u30f3\u30c6\u30ca\u306b\u306a\u308bViewController\u306e\u4f5c\u6210\n\u7d9a\u3044\u3066\u30b3\u30f3\u30c6\u30ca\u306b\u306a\u308bViewController\u3092\u4f5c\u6210\u3057\u3001MenuViewController\u3068UIPageViewController\u3092\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u3057\u3066\u6301\u305f\u305b\u307e\u3059\u3002\u306f\u3058\u3081\u306estoryboard\u3067ContainerView\u306eembed segue\u306b\u305d\u308c\u305e\u308c\"embedMenuViewController\", \"embedPageViewController\"\u3068\u540d\u4ed8\u3051\u3066\u3001prepareForSegue(_:sender:)\u3067\u5bfe\u5fdc\u3059\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u4ee3\u5165\u3057\u307e\u3059\u3002\n\n```swift:ContainerViewController.swift\nimport UIKit\n\nclass ContainerViewController: UIViewController {\n// ...\n// \u7701\u7565\n// ...\n    var menuViewController: MenuViewController?\n    var pageViewController: UIPageViewController?\n\n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {\n        if let vc = segue.destinationViewController as? MenuViewController where segue.identifier == \"embedMenuViewController\" {\n            menuViewController = vc\n        } else if let vc = segue.destinationViewController as? UIPageViewController where segue.identifier == \"embedPageViewController\" {\n            pageViewController = vc\n        }\n    }\n// ...\n// \u7701\u7565\n// ...\n}\n```\n\n## \u30b9\u30ef\u30a4\u30d7\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3055\u305b\u308b\n\u3055\u3089\u306b\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793a\u90e8\u5206\u3092\u4f5c\u308a\u307e\u3059\u3002UIPageViewControllerDataSource\u3092\u5b9f\u88c5\u3057\u3066\u3001\u30da\u30fc\u30b8\u9001\u308a\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u8868\u793a\u3055\u305b\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u3092ViewController\u3068\u3057\u3066\u4f5c\u6210\u3057\u307e\u3059\u3002\nStoryboard\u3092\u4f7f\u3063\u3066\u30e9\u30d9\u30eb\u3092\u4e2d\u592e\u306b\u6301\u3064ContentViewController\u3092\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\n<img width=\"1469\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-02-13 23.17.38.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/29477/281a8a83-d24f-78e3-9d0f-eb689d4f31fe.png\">\n\n```swift:ContentViewController.swift\nimport UIKit\n\nclass ContentViewController: UIViewController {\n\n    @IBOutlet weak var contentLabel: UILabel!\n\n    var index: Int?\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        if let index = index {\n            contentLabel.text = ViewModelManager.sharedInstance.data[index].content\n            view.backgroundColor = ViewModelManager.sharedInstance.data[index].themeColor\n        }\n    }\n}\n```\n\n\u3053\u308c\u3092\u3001ContainerViewController\u306bembed\u3055\u308c\u3066\u3044\u308bUIPageViewController\u306e\u30da\u30fc\u30b8\u9001\u308a\u3067\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306fUIPageViewController\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9\u3092\u4f5c\u308b\u306e\u306f\u7701\u3044\u3066\u3001UIPageViewControllerDataSource\u3092ContainerViewController\u5185\u3078\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\u5b9f\u88c5\u306f\u30c6\u30f3\u30d7\u30ec\u7684\u306a\u3084\u308a\u65b9\u3057\u304b\u3068\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\n```swift:ContainerViewController.swift\nclass ContainerViewController: UIViewController, UIPageViewControllerDataSource {\n//...\n//\u7701\u7565\n//...\n    // MARK:- UIPageViewControllerDataSource\n\n    // \u3072\u3068\u3064\u524d\u306e\u30da\u30fc\u30b8\u3092\u8fd4\u3059Delegate\u30e1\u30bd\u30c3\u30c9\n    func pageViewController(pageViewController: UIPageViewController, viewControllerBeforeViewController viewController: UIViewController) -> UIViewController? {\n        guard let prevVc = viewController as? ContentViewController else {\n            fatalError(\"not ContentViewController\")\n        }\n        \n        guard let prevPageIndex = prevVc.index.flatMap({ $0 - 1 }) where 0 <= prevPageIndex else {\n            return nil\n        }\n        \n        let vc = storyboard?.instantiateViewControllerWithIdentifier(\"ContentViewController\") as! ContentViewController\n        vc.index = prevPageIndex\n        return vc\n    }\n    \n    // \u3072\u3068\u3064\u5148\u306e\u30da\u30fc\u30b8\u3092\u8fd4\u3059Delegate\u30e1\u30bd\u30c3\u30c9\n    func pageViewController(pageViewController: UIPageViewController, viewControllerAfterViewController viewController: UIViewController) -> UIViewController? {\n        guard let nextVc = viewController as? ContentViewController else {\n            fatalError(\"not ContentViewController\")\n        }\n        \n        guard let nextPageIndex = nextVc.index.flatMap({ $0 + 1 }) where nextPageIndex < ViewModelManager.sharedInstance.data.count else {\n            return nil\n        }\n        \n        let vc = storyboard?.instantiateViewControllerWithIdentifier(\"ContentViewController\") as! ContentViewController\n        vc.index = nextPageIndex\n        return vc\n    }\n//...\n//\u7701\u7565\n//...\n}\n```\n\n\n\u3053\u308c\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n![qiita_2.gif](https://qiita-image-store.s3.amazonaws.com/0/29477/6d17e562-c67b-9341-9f22-14e76ca8d463.gif)\n\n\n\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\u90e8\u5206\u306e\u5b9f\u88c5\u306f\u4ee5\u4e0a\u3067\u3059\u3002\u305f\u3060\u3057\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u3066\u3082\u307e\u3060\u30e1\u30cb\u30e5\u30fc\u306e\u4f4d\u7f6e\u304c\u5909\u308f\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\n## \u30e1\u30cb\u30e5\u30fc\u3068\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u8868\u793a\u4f4d\u7f6e\u3092\u5408\u308f\u305b\u308b\n\n\u6700\u5f8c\u306b\u3001\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u5f53\u305f\u308b\u30e1\u30cb\u30e5\u30fc\u3068\u8868\u793a\u3057\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u540c\u671f\u3055\u305b\u307e\u3059\u3002\u305d\u308c\u3092\u884c\u3046\u305f\u3081\u306bUIPageViewControllerDelegate\u3068UICollectionViewDelegate\u306e\u4e2d\u8eab\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u30e1\u30cb\u30e5\u30fc\u3092\u9078\u629e\u3057\u305f\u6642\u306b\u5bfe\u5fdc\u3059\u308bContentViewController\u3092\u8868\u793a\u3055\u305b\u308b\u51e6\u7406\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u306bContainerViewController\u3078\u9078\u629e\u3057\u305findex\u60c5\u5831\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u3001MenuViewControllerDelegate\n\u3092\u4f5c\u6210\u3057\u3066Cell\u304c\u9078\u629e\u3055\u308c\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u305d\u3044\u3064\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```swift:MenuViewController.swift\nprotocol MenuViewControllerDelegate: class {\n    func menuViewController(viewController: MenuViewController, at index: Int)\n}\n\nclass MenuViewController: UICollectionViewController {\n    weak var delegate: MenuViewControllerDelegate? // \u8ffd\u52a0\n\n    // MARK:- UICollectionViewDelegate\n    override func collectionView(collectionView: UICollectionView, didSelectItemAtIndexPath indexPath: NSIndexPath) {\n        focusCell(indexPath)\n        delegate?.menuViewController(self, at: indexPath.row) // \u8ffd\u52a0\n    }\n}\n```\n\nContainerViewController\u306eprepareForSegue(_: sender:)\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u4f5c\u6210\u3057\u305fdelegate\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```swift:ContainerViewController.swift\nclass ContainerViewController: UIViewController, MenuViewControllerDelegate {\n// ...\n// \u7701\u7565\n// ...\n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {\n        if let vc = segue.destinationViewController as? MenuViewController where segue.identifier == \"embedMenuViewController\" {\n            menuViewController = vc\n            menuViewController.delegate = self  // \u8ffd\u52a0\n        } else if let vc = segue.destinationViewController as? UIPageViewController where segue.identifier == \"embedPageViewController\" {\n            pageViewController = vc\n        }\n    }\n// ...\n// \u7701\u7565\n// ...\n}\n\n```\n\nContainerViewController\u306bmenuViewController(_:at:)\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002collectionView\u306e\u9078\u629e\u3057\u305findexPath\u304b\u3089\u30da\u30fc\u30b8\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002\n\n```swift:ContainerViewController.swift\nclass ContainerViewController: UIViewController, MenuViewControllerDelegate {\n// ...\n// \u7701\u7565\n// ...\n    //MARK:- MenuViewControllerDelegate\n    func menuViewController(viewController: MenuViewController, at index: Int) {\n\n        // \u73fe\u5728\u8868\u793a\u3055\u308c\u3066\u3044\u308bViewController\u3092\u53d6\u5f97\u3059\u308b\n        guard let currentVc = pageViewController?.viewControllers?.first as? ContentViewController,\n            let currentIndex = currentVc.index else {\n                fatalError(\"not ContentViewController\")\n        }\n\n        // \u9078\u629e\u3057\u305findex\u304c\u8868\u793a\u3057\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u540c\u3058\u306a\u3089\u51e6\u7406\u3092\u6b62\u3081\u308b        \n        guard currentIndex != index else { return }\n        \n        // \u9078\u629e\u3057\u305findex\u3068\u73fe\u5728\u8868\u793a\u3055\u308c\u3066\u3044\u308bindex\u3092\u6bd4\u8f03\u3057\u3066\u3001\u30da\u30fc\u30b8\u30f3\u30b0\u306e\u65b9\u6cd5\u3092\u6c7a\u3081\u308b\n        let direction :UIPageViewControllerNavigationDirection = currentIndex < index ? .Forward : .Reverse\n        let vc = storyboard?.instantiateViewControllerWithIdentifier(\"ContentViewController\") as! ContentViewController\n        vc.index = index\n        // \u65b0\u3057\u304fViewController\u3092\u8a2d\u5b9a\u3059\u308b\n        pageViewController?.setViewControllers([vc], direction: direction, animated: true) { _ in }\n    }\n// ...\n// \u7701\u7565\n// ...\n}\n```\n\n\u30e1\u30cb\u30e5\u30fc\u3092\u9078\u629e\u3057\u305f\u6642\u306b\u30da\u30fc\u30b8\u30f3\u30b0\u304c\u5b9f\u884c\u3055\u308c\u3066\u3001\u5bfe\u5fdc\u3059\u308bContentViewController\u304c\u8868\u793a\u3055\u308c\u308b\u69d8\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n![qiita_3.gif](https://qiita-image-store.s3.amazonaws.com/0/29477/759e1d31-efe5-e892-53f9-761ab4186387.gif)\n\n\n\u4eca\u5ea6\u306f\u3001PageViewController\u306e\u30da\u30fc\u30b8\u30f3\u30b0\u306b\u5408\u308f\u305b\u3066\u5bfe\u5fdc\u3059\u308bCell\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u5f53\u3066\u307e\u3059\u3002\nContainerViewController\u306eprepareForSegue(_:sender:)\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067UIPageViewController\u306edelegate\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```swift\nclass ContainerViewController: UIViewController, UIPageViewControllerDataSource, UIPageViewControllerDelegate { // UIPageViewControllerDelegate\u3092\u8ffd\u52a0 \n\n// ...\n// (\u7701\u7565)\n// ...\n    // MARK: - Segues\n    \n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {\n        if segue.identifier == \"embedMenuViewController\" {\n            menuViewController = segue.destinationViewController as? MenuViewController\n            menuViewController?.delegate = self\n        } else if segue.identifier == \"embedPageViewController\" {\n            pageViewController = segue.destinationViewController as? UIPageViewController\n            pageViewController?.dataSource = self\n            pageViewController?.delegate = self  // \u8ffd\u52a0\n        }\n    }\n// ...\n// (\u7701\u7565)\n// ...\n}\n```\n\nContainerViewController\u5185\u3078UIPageViewControllerDelegate\u3092\u5b9f\u88c5\u3057\u3066\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067MenuViewController\u306e\u9078\u629e\u3092\u5909\u66f4\u3059\u308b\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```swift\nclass ContainerViewController: UIViewController, UIPageViewControllerDataSource, UIPageViewControllerDelegate {\n// ...\n// (\u7701\u7565)\n// ...\n    // MARK:- UIPageViewControllerDelegate\n    func pageViewController(pageViewController: UIPageViewController, didFinishAnimating finished: Bool, previousViewControllers: [UIViewController], transitionCompleted completed: Bool) {\n        //\u73fe\u5728\u8868\u793a\u3057\u3066\u3044\u308bContentViewController\u3092\u53d6\u5f97\n        guard let currentVc = pageViewController.viewControllers?.first as? ContentViewController else {\n            fatalError(\"not ContentViewController\")\n        }\n        \n        guard let index = currentVc.index else {\n            fatalError(\"fail to get ContentViewController.index\")\n        }\n        \n        // MenuViewController\u306e\u7279\u5b9a\u306e\u30bb\u30eb\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u3042\u3066\u308b\n        let indexPath = NSIndexPath(forItem: index, inSection: 0)\n        menuViewController?.focusCell(indexPath)\n    }\n// ...\n// (\u7701\u7565)\n// ...\n}\n```\n\n\u3053\u308c\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u306b\u5fdc\u3058\u3066\u30d5\u30a9\u30fc\u30ab\u30b9\u3055\u308c\u308b\u30e1\u30cb\u30e5\u30fc\u304c\u5909\u308f\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n![qiita_4.gif](https://qiita-image-store.s3.amazonaws.com/0/29477/3053a7e8-7edf-325f-7a07-b50887e2c8f3.gif)\n\n\n\u4ee5\u4e0a\u3067\u5b9f\u88c5\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n# \u307e\u3068\u3081\n\n\u3053\u306e\u5b9f\u88c5\u3067\u306f\u3001UICollectionViewController\u3068UIPageViewController\u3092\u305d\u308c\u305e\u308c\u3092\u4f5c\u3063\u305f\u3042\u3068\u3001\u304a\u4e92\u3044\u306edelegate\u51e6\u7406\u3067\u52d5\u304d\u3092\u5408\u308f\u305b\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u305d\u308c\u3063\u307d\u3044UI\u3092\u5b9f\u73fe\u3057\u307e\u3057\u305f\u3002\u52d5\u304d\u3092\u5408\u308f\u305b\u308b\u90e8\u5206\u4ee5\u5916\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u901a\u308a\u306e\u5b9f\u88c5\u3092\u3057\u3066\u304a\u308a\u3001\u7279\u5225\u306a\u3053\u3068\u306f\u3084\u3063\u3066\u3044\u307e\u305b\u3093\u3002UIPageViewController\u3068UICollectionViewController\u306e\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9\u304c\u3042\u308b\u7a0b\u5ea6\u308f\u304b\u3063\u3066\u3044\u308c\u3070\u5927\u3057\u305f\u8a71\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u3002\u305d\u306e\u305f\u3081\u3001\u300c\u30e1\u30cb\u30e5\u30fc\u306fUICollectioNViewController\u3067\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u306fUIPageViewController\u3092\u4f7f\u3063\u3066\u3044\u308b\u300d\u3068\u8a00\u3048\u3070\u3069\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u304b\u8aad\u307e\u306a\u304f\u3066\u3082\u5927\u4f53\u60f3\u50cf\u304c\u3064\u304f\u3068\u3044\u3046\u3088\u3055\u304c\u3042\u308a\u307e\u3059\u3002\n\u306a\u3093\u304b\u305d\u308c\u3063\u307d\u3044UI\u3092\u624b\u9593\u304b\u3051\u305a\u306b\u4f5c\u308b\u6642\u306e\u53c2\u8003\u306b\u306a\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n# \u3053\u306e\u8a2d\u8a08\u306e\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\n\u4eca\u56de\u306e\u5b9f\u88c5\u306b\u306f\u6b21\u306e\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n+ \u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30fc\u30e9\u30a4\u30d6\u30e9\u30ea\u3078\u4f75\u5b58\u305b\u305a\u3001\u8efd\u91cf\u3067\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u81ea\u7531\u5ea6\u304c\u9ad8\u3044\n+ UIKit\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u6a5f\u80fd\u306b\u305d\u306e\u307e\u307e\u4e57\u3063\u304b\u308c\u308b\u305f\u3081\u3001\u4f5c\u308a\u3053\u307e\u305a\u306b\u305d\u3053\u305d\u3053\u306e\u3082\u306e\u3067\u304d\u308b\u30fbframe\u8a08\u7b97\u304c\u3044\u3089\u306a\u3044\n\n\u4e00\u65b9\u3067\u3044\u304f\u3064\u304b\u306e\u554f\u984c\u70b9\u3082\u3042\u308a\u307e\u3059\u3002\n\n+ \u7d30\u304b\u304f\u3053\u3060\u308f\u3063\u3066\u4f5c\u308a\u8fbc\u307f\u305f\u3044\u6642\u306b\u306f\u9762\u5012\u306a\u5b9f\u88c5\u304c\u5fc5\u8981\n+ \u30da\u30fc\u30b8\u30f3\u30b0\u306e\u5ea6\u306bViewController\u3092\u751f\u6210\u3059\u308b\u4f5c\u308a\u306e\u5834\u5408\u3001UIPageViewController\u306e\u30da\u30fc\u30b8\u30f3\u30b0\u3067\u4e00\u77ac\u30ab\u30af\u3064\u304f\n\n\u4f8b\u3048\u3070UIPageViewController\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u3068UICollectionViewController\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u3092\u5b8c\u5168\u306b\u540c\u671f\u3055\u305b\u305f\u3044\u6642\u306a\u3069\u306fUIPageViewController\u306escrollView\u306b\u5bfe\u3057\u3066scrollViewDidScroll(_:)\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\nUIPageViewController\u306e\u30da\u30fc\u30b8\u30f3\u30b0\u3067\u4e00\u77ac\u30ab\u30af\u3064\u304f\u554f\u984c\u306b\u95a2\u3057\u3066\u306f\u3001UITableView\u3092\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u969b\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u305d\u306e\u539f\u56e0\u3068\u5bfe\u7b56\u306b\u3064\u3044\u3066\u6b21\u306e\u7bc0\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\n\n# \u203b \u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u3057\u3066UITableViewController\u3092\u5229\u7528\u3059\u308b\u6642\u306e\u6ce8\u610f\u70b9\nUIPageViewController\u3067UITableViewController\u306e\u8868\u793a\u3092\u3059\u308b\u5834\u5408\u306f\u30012\u70b9\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n## \u30da\u30fc\u30b8\u30f3\u30b0\u306e\u958b\u59cb\u304c\u30ab\u30af\u3064\u304f\nStoryboard\u304b\u3089\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u76f4\u5f8c\u306a\u3069\u3001TableView\u304c\u307e\u3060\u4e00\u5ea6\u3082\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u72b6\u614b\u3067viewWillAppear(_:)\u304c\u547c\u3070\u308c\u308b\u3068\u3001\u305d\u308c\u3089\u306ereloaData()\u304c\u547c\u3070\u308c\u3066view\u306b\u5bfe\u3059\u308b\u51e6\u7406\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u30b9\u30af\u30ed\u30fc\u30eb\u3054\u3068\u306b\u5fc5\u8981\u306aViewController\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u5834\u5408\u3001\u30b9\u30af\u30ed\u30fc\u30eb\u958b\u59cb\u6642\u70b9(\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793a\u6642\u70b9)\u3067reloadData()\u304c\u547c\u3070\u308c\u3001\u52d5\u304d\u304c\u4e00\u77ac\u30ab\u30af\u3064\u3044\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u3053\u306e\u73fe\u8c61\u3092\u9632\u3050\u305f\u3081\u306b\u3001\u81ea\u5206\u306fContentViewController\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u305f\u3089NSCache\u307e\u305f\u306fArray\u306b\u7a81\u3063\u8fbc\u3093\u3067\u3001\u6b21\u56de\u4ee5\u964d\u305d\u3053\u304b\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n## scrollToTop\u304c\u52b9\u304b\u306a\u3044\nUINavigationController\u306b1\u3064\u306eUIPageViewController\u3068\u8907\u6570\u306eContentViewController\u304c\u4e57\u3063\u304b\u3063\u3066\u3044\u308b\u5f62\u306b\u306a\u308b\u305f\u3081\u3001\u305d\u306e\u307e\u307e\u3060\u3068\u30b9\u30c6\u30fc\u30bf\u30b9\u30d0\u30fc\u3092\u30bf\u30c3\u30d7\u3057\u305f\u6642\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u304c\u52b9\u304d\u307e\u305b\u3093\u3002\n\u3053\u3053\u306b\u95a2\u3057\u3066\u306f\u9762\u5012\u3067\u3059\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308bTableView\u4ee5\u5916\u306eScrollView\u306escrollToTop\u3092false\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nUIPageViewController\u306f\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u3057\u3066scrollView\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001subviews\u3092forEach(_:)\u3067\u63a2\u7d22\u3057\u3066scrollView\u304c\u3042\u308c\u3070scrollToTop\u3078false\u3092\u5165\u308c\u308b\u3068\u3044\u3046\u51e6\u7406\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n# \u53c2\u8003\u8cc7\u6599\n+ [1] [\u30cb\u30e5\u30fc\u30b9\u7cfb\u30a2\u30d7\u30ea\u3067\u5229\u7528\u3055\u308c\u3066\u3044\u308bUI\u306e\u5b9f\u88c5\u3092\u8abf\u3079\u308b\u3053\u3068\u304c\u3042\u3063\u305f\u306e\u3067\u307e\u3068\u3081\u3066\u307f\u305f - MonockLaBlog](http://blog.monocklab.com/entry/2016/01/13/185702)\n+ [2] [UICollectionViewController Class Reference](https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UICollectionViewController_clas/index.html)\n+ [3] [UIPageViewController Class Reference](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIPageViewControllerClassReferenceClassRef/)\n", "tags": ["iOS", "Swift", "UIKit"]}