{"context": "\u521d\u3081\u3066Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3001\u3068\u3044\u3046\u304b\u305f\u306e\u305f\u3081\u306e\u30ac\u30a4\u30c9\u3067\u3059\u3002\nWatson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b\u3067IoT\u30a2\u30d7\u30ea\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\u5b9f\u969b\u306eIoT\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u306e\u5148\u982d\u306bMQTT\u306a\u3069\u3067\u63a5\u7d9a\u3055\u308c\u305fIoT\u30c7\u30d0\u30a4\u30b9\u30fb\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5165\u529b\u3092\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30ed\u30fc\u3067\u306f\u3001IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u3001websocket\u3067\u51fa\u529b\u3057\u305f\u5024\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u53ef\u8996\u5316\u3057\u307e\u3059\u3002ccchart\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\uff11 \u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\u3059\u308b\n\nIoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\n[{\"id\":\"48e2ea18.2d831c\",\"type\":\"websocket-listener\",\"z\":\"a9346054.4ad1b\",\"path\":\"/ws/flow20\",\"wholemsg\":\"false\"},{\"id\":\"db1d6d53.85c758\",\"type\":\"function\",\"z\":\"a9346054.4ad1b\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === 0 ) {\\n    context.set(\\\"i\\\", 0);\\n}\\n\\nvar i = context.get('i')||0;\\ni += 1;\\nvar time =[\\\"10:00\\\",\\\"10:01\\\",\\\"10:02\\\",\\\"10:03\\\",\\\"10:04\\\",\\\"10:05\\\",\\\"10:06\\\",\\\"10:07\\\",\\\"10:08\\\",\\\"10:09\\\",\\\"10:10\\\",\\\"10:11\\\",\\\"10:12\\\",\\\"10:13\\\",\\\"10:14\\\",\\\"10:15\\\",\\\"10:16\\\",\\\"10:17\\\",\\\"10:18\\\",\\\"10:19\\\",\\\"10:20\\\",\\\"10:21\\\",\\\"10:22\\\",\\\"10:23\\\",\\\"10:24\\\",\\\"10:25\\\",\\\"10:26\\\",\\\"10:27\\\",\\\"10:28\\\",\\\"10:29\\\",\\\"10:30\\\",\\\"10:31\\\",\\\"10:32\\\",\\\"10:33\\\",\\\"10:34\\\",\\\"10:35\\\",\\\"10:36\\\",\\\"10:37\\\",\\\"10:38\\\",\\\"10:39\\\",\\\"10:40\\\",\\\"10:41\\\",\\\"10:42\\\",\\\"10:43\\\",\\\"10:44\\\",\\\"10:45\\\",\\\"10:46\\\",\\\"10:47\\\",\\\"10:48\\\",\\\"10:49\\\",\\\"10:50\\\",\\\"10:51\\\",\\\"10:52\\\",\\\"10:53\\\",\\\"10:54\\\",\\\"10:55\\\",\\\"10:56\\\",\\\"10:57\\\",\\\"10:58\\\",\\\"10:59\\\"];\\nvar sen1 = [2,8,4,6,0,10,8,4,2,6,10,6,4,8,0,2,10,8,2,8,4,6,10,2,0,8,4,6,10,8,4,0,6,2,8,10,6,4,2,0,6,8,2,0,6,10,6,4,8,10,4,2,6,8,4,0,2,8,10,8];\\nvar sen2 = [12,10,4,6,14,8,20,12,8,4,0,12,18,6,4,10,6,2,18,14,12,4,0,8,14,16,20,12,8,4,0,12,14,10,8,4,18,12,14,10,4,2,6,12,18,14,10,2,8,4,12,18,10,4,2,0,6,18,20,12];\\nvar sen3 = [1,5,3,7,9,7,5,3,7,9,3,1,5,7,3,7,9,1,7,5,3,9,3,1,7,5,9,3,1,7,3,5,9,3,1,7,5,3,1,7,9,3,7,1,5,7,3,7,9,5,3,1,7,9,5,3,3,1,7,9];\\nvar sen4 = [7,11,17,3,7,11,1,9,17,13,17,11,3,9,11,3,7,15,13,19,11,7,5,1,13,17,15,5,7,3,11,7,19,13,15,11,9,3,5,9,17,13,11,9,13,15,7,3,5,1,13,17,7,19,3,5,9,1,7,3];\\nvar sen5 = [8,2,10,14,8,16,8,12,4,0,12,12,18,14,6,10,4,8,12,14,20,4,14,16,10,12,8,6,2,8,0,10,12,8,4,16,18,12,8,4,2,8,0,12,20,16,12,18,20,8,12,14,8,4,8,16,2,8,14,8];\\n\\nif (i > time.length-1) return;\\ncontext.set('i', i);\\nvar data = [[time[i]],[sen1[i]],[sen2[i]],[sen3[i]],[sen4[i]],[sen5[i]]];\\nmsg.payload=data;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":310,\"y\":120,\"wires\":[[\"420ffd32.8c879c\",\"2fdd8414.5770e4\"]]},{\"id\":\"9ac1d27b.b5dd7\",\"type\":\"inject\",\"z\":\"a9346054.4ad1b\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":100,\"wires\":[[\"db1d6d53.85c758\"]]},{\"id\":\"d9ec4e9.7c3203\",\"type\":\"inject\",\"z\":\"a9346054.4ad1b\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":140,\"wires\":[[\"db1d6d53.85c758\"]]},{\"id\":\"2fdd8414.5770e4\",\"type\":\"debug\",\"z\":\"a9346054.4ad1b\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":490,\"y\":100,\"wires\":[]},{\"id\":\"8fb4da72.9d3278\",\"type\":\"comment\",\"z\":\"a9346054.4ad1b\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":200,\"y\":60,\"wires\":[]},{\"id\":\"5afa1350.35c85c\",\"type\":\"http in\",\"z\":\"a9346054.4ad1b\",\"name\":\"\",\"url\":\"/test20\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":260,\"wires\":[[\"229a6875.3761c\"]]},{\"id\":\"229a6875.3761c\",\"type\":\"template\",\"z\":\"a9346054.4ad1b\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30c7\u30fc\u30bf\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"IoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u53ef\u8996\u5316\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 12,\\n    \\\"colorSet\\\": \\n          [\\\"#ffbf7f\\\",\\\"#7fff7f\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff12\u5024\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff13\u5024\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff14\u5024\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff15\u5024\\\"]\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow20')\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[3];\\n\\ttarget = document.getElementById(\\\"output5\\\");\\n\\ttarget.innerHTML = msgs[4];\\n\\ttarget = document.getElementById(\\\"output6\\\");\\n\\ttarget.innerHTML = msgs[5];\\n\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff12\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff13\\t</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff14\\t</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output6\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff15\\t</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output5\\\"></span>\\n\\t\\t<h2>\u7a4d\u7b97\\t</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output8\\\"></span>\\n\\n\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":320,\"y\":260,\"wires\":[[\"63381646.36ce4\"]]},{\"id\":\"63381646.36ce4\",\"type\":\"http response\",\"z\":\"a9346054.4ad1b\",\"name\":\"\",\"x\":510,\"y\":260,\"wires\":[]},{\"id\":\"420ffd32.8c879c\",\"type\":\"websocket out\",\"z\":\"a9346054.4ad1b\",\"name\":\"websocket output\",\"server\":\"48e2ea18.2d831c\",\"client\":\"\",\"x\":530,\"y\":140,\"wires\":[]},{\"id\":\"d7d552a3.6ba1e8\",\"type\":\"comment\",\"z\":\"a9346054.4ad1b\",\"name\":\"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\",\"info\":\"\",\"x\":190,\"y\":220,\"wires\":[]}]\n\n\n\n\n\nNode-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n\u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff14\uff12\u884c\u76ee\u306e.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow20')\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\nNode-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n\u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test20\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f/we/flow20\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb\uff12 \u7a4d\u7b97\u5024\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\n\nIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u7a4d\u7b97\u3057\u3066\u8868\u793a\n[{\"id\":\"3df0391e.e83cb6\",\"type\":\"websocket-listener\",\"z\":\"1413dbbf.96edd4\",\"path\":\"/ws/flow22\",\"wholemsg\":\"false\"},{\"id\":\"b03e4b77.5aba6\",\"type\":\"template\",\"z\":\"1413dbbf.96edd4\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u7a4d\u7b97\u5024IoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u7a4d\u7b97\u5024IoT\u30c7\u30fc\u30bf\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"IoT\u30c7\u30fc\u30bf\u3092\u7a4d\u7b97\u3057\u3066\u53ef\u8996\u5316\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 12,\\n    \\\"colorSet\\\": \\n          [\\\"#ffbf7f\\\",\\\"#7fff7f\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u7a4d\u7b97\u5024\\\"]\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow22')\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u7a4d\u7b97\u5024IoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u7a4d\u7b97\u3057\u3066\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u7a4d\u7b97\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":360,\"y\":280,\"wires\":[[\"bcf664db.750b\"]]},{\"id\":\"56042020.2b7b2\",\"type\":\"function\",\"z\":\"1413dbbf.96edd4\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === 0 ) {\\n    context.set('total',0);\\n    context.set(\\\"i\\\", 0);\\n}\\n\\nvar i = context.get('i')||0;\\ni += 1;\\nvar time =[\\\"10:00\\\",\\\"10:01\\\",\\\"10:02\\\",\\\"10:03\\\",\\\"10:04\\\",\\\"10:05\\\",\\\"10:06\\\",\\\"10:07\\\",\\\"10:08\\\",\\\"10:09\\\",\\\"10:10\\\",\\\"10:11\\\",\\\"10:12\\\",\\\"10:13\\\",\\\"10:14\\\",\\\"10:15\\\",\\\"10:16\\\",\\\"10:17\\\",\\\"10:18\\\",\\\"10:19\\\",\\\"10:20\\\",\\\"10:21\\\",\\\"10:22\\\",\\\"10:23\\\",\\\"10:24\\\",\\\"10:25\\\",\\\"10:26\\\",\\\"10:27\\\",\\\"10:28\\\",\\\"10:29\\\",\\\"10:30\\\",\\\"10:31\\\",\\\"10:32\\\",\\\"10:33\\\",\\\"10:34\\\",\\\"10:35\\\",\\\"10:36\\\",\\\"10:37\\\",\\\"10:38\\\",\\\"10:39\\\",\\\"10:40\\\",\\\"10:41\\\",\\\"10:42\\\",\\\"10:43\\\",\\\"10:44\\\",\\\"10:45\\\",\\\"10:46\\\",\\\"10:47\\\",\\\"10:48\\\",\\\"10:49\\\",\\\"10:50\\\",\\\"10:51\\\",\\\"10:52\\\",\\\"10:53\\\",\\\"10:54\\\",\\\"10:55\\\",\\\"10:56\\\",\\\"10:57\\\",\\\"10:58\\\",\\\"10:59\\\"];\\nvar sen1 = [2,8,4,6,0,10,8,4,2,6,10,6,4,8,0,2,10,8,2,8,4,6,10,2,0,8,4,6,10,8,4,0,6,2,8,10,6,4,2,0,6,8,2,0,6,10,6,4,8,10,4,2,6,8,4,0,2,8,10,8];\\n\\nif (i > time.length-1) return;\\ncontext.set('i', i);\\nvar total = context.get('total')||0;\\ntotal += sen1[i];\\ncontext.set('total', total);\\nvar data = [[time[i]],[sen1[i]],[total]];\\nmsg.payload=data;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":350,\"y\":140,\"wires\":[[\"1fe22eb.a3ff551\",\"63658ed5.e6482\"]]},{\"id\":\"db370290.0c588\",\"type\":\"inject\",\"z\":\"1413dbbf.96edd4\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"2\",\"crontab\":\"\",\"once\":false,\"x\":150,\"y\":120,\"wires\":[[]]},{\"id\":\"75be76f7.2d5158\",\"type\":\"inject\",\"z\":\"1413dbbf.96edd4\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":150,\"y\":160,\"wires\":[[\"56042020.2b7b2\"]]},{\"id\":\"63658ed5.e6482\",\"type\":\"debug\",\"z\":\"1413dbbf.96edd4\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":530,\"y\":120,\"wires\":[]},{\"id\":\"723e138a.c57bb4\",\"type\":\"comment\",\"z\":\"1413dbbf.96edd4\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":240,\"y\":80,\"wires\":[]},{\"id\":\"653274ab.54234c\",\"type\":\"http in\",\"z\":\"1413dbbf.96edd4\",\"name\":\"\",\"url\":\"/test22\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":170,\"y\":280,\"wires\":[[\"b03e4b77.5aba6\"]]},{\"id\":\"bcf664db.750b\",\"type\":\"http response\",\"z\":\"1413dbbf.96edd4\",\"name\":\"\",\"x\":550,\"y\":280,\"wires\":[]},{\"id\":\"1fe22eb.a3ff551\",\"type\":\"websocket out\",\"z\":\"1413dbbf.96edd4\",\"name\":\"websocket output\",\"server\":\"3df0391e.e83cb6\",\"client\":\"\",\"x\":570,\"y\":160,\"wires\":[]},{\"id\":\"d772f570.d1207\",\"type\":\"comment\",\"z\":\"1413dbbf.96edd4\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u7a4d\u7b97\u3057\u3066\u8868\u793a\",\"info\":\"\",\"x\":240,\"y\":240,\"wires\":[]}]\n\n\n\n\n\nNode-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n\u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff13\uff19\u884c\u76ee\u306e.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow22')\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\nNode-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n\u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test22\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f/we/flow22\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb\uff13 \u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\n\n\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\n[{\"id\":\"68c5eaa7.793bec\",\"type\":\"websocket-listener\",\"z\":\"985cc25a.9014\",\"path\":\"/ws/flow24\",\"wholemsg\":\"false\"},{\"id\":\"eb8f68e9.a6598\",\"type\":\"template\",\"z\":\"985cc25a.9014\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 12,\\n    \\\"colorSet\\\": \\n          [\\\"#ff7fff\\\",\\\"#7fffbf\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u5e73\u5747\u5024\\\"]\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow24')\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u5e73\u5747\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":320,\"y\":280,\"wires\":[[\"7d36338b.49d68c\"]]},{\"id\":\"fee016c.b7d29e8\",\"type\":\"function\",\"z\":\"985cc25a.9014\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === 0 ) {\\n    context.set(\\\"i\\\", 0);\\n}\\nif ( !context.array ) {\\n    context.array = new Array (10);\\n}\\nvar sum = 0, average = 0;\\n\\nvar time =[\\\"10:00\\\",\\\"10:01\\\",\\\"10:02\\\",\\\"10:03\\\",\\\"10:04\\\",\\\"10:05\\\",\\\"10:06\\\",\\\"10:07\\\",\\\"10:08\\\",\\\"10:09\\\",\\\"10:10\\\",\\\"10:11\\\",\\\"10:12\\\",\\\"10:13\\\",\\\"10:14\\\",\\\"10:15\\\",\\\"10:16\\\",\\\"10:17\\\",\\\"10:18\\\",\\\"10:19\\\",\\\"10:20\\\",\\\"10:21\\\",\\\"10:22\\\",\\\"10:23\\\",\\\"10:24\\\",\\\"10:25\\\",\\\"10:26\\\",\\\"10:27\\\",\\\"10:28\\\",\\\"10:29\\\",\\\"10:30\\\",\\\"10:31\\\",\\\"10:32\\\",\\\"10:33\\\",\\\"10:34\\\",\\\"10:35\\\",\\\"10:36\\\",\\\"10:37\\\",\\\"10:38\\\",\\\"10:39\\\",\\\"10:40\\\",\\\"10:41\\\",\\\"10:42\\\",\\\"10:43\\\",\\\"10:44\\\",\\\"10:45\\\",\\\"10:46\\\",\\\"10:47\\\",\\\"10:48\\\",\\\"10:49\\\",\\\"10:50\\\",\\\"10:51\\\",\\\"10:52\\\",\\\"10:53\\\",\\\"10:54\\\",\\\"10:55\\\",\\\"10:56\\\",\\\"10:57\\\",\\\"10:58\\\",\\\"10:59\\\"];\\nvar sen1 = [2,8,4,6,0,10,8,4,2,6,10,6,4,8,0,2,10,8,2,8,4,6,10,2,0,8,4,6,10,8,4,0,6,2,8,10,6,4,2,0,6,8,2,0,6,10,6,4,8,10,4,2,6,8,4,0,2,8,10,8];\\n\\nvar i = context.get('i')||0;\\ni += 1;\\nif (i > time.length-1) return;\\ncontext.set('i', i);\\n\\nvar shifted = context.array.shift();\\ncontext.array.push(sen1[i]);\\n\\nvar length = context.array.length;\\n\\nfor (k=0; k<length; k++) {\\n        sum = sum + context.array[k];\\n}\\n\\naverage = sum / length;\\nvar data = [[time[i]],[sen1[i]],[average]];\\nmsg.payload=data;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":310,\"y\":140,\"wires\":[[\"e4f47cb2.6de238\",\"fe4e3fb1.158d78\"]]},{\"id\":\"adb5d728.25e47\",\"type\":\"inject\",\"z\":\"985cc25a.9014\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":120,\"wires\":[[]]},{\"id\":\"d6cf08c7.c7249\",\"type\":\"inject\",\"z\":\"985cc25a.9014\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":160,\"wires\":[[\"fee016c.b7d29e8\"]]},{\"id\":\"fe4e3fb1.158d78\",\"type\":\"debug\",\"z\":\"985cc25a.9014\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":490,\"y\":120,\"wires\":[]},{\"id\":\"cd5d6cc2.d31e7\",\"type\":\"comment\",\"z\":\"985cc25a.9014\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":200,\"y\":80,\"wires\":[]},{\"id\":\"a8c5dde3.129678\",\"type\":\"http in\",\"z\":\"985cc25a.9014\",\"name\":\"\",\"url\":\"/test24\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":280,\"wires\":[[\"eb8f68e9.a6598\"]]},{\"id\":\"7d36338b.49d68c\",\"type\":\"http response\",\"z\":\"985cc25a.9014\",\"name\":\"\",\"x\":510,\"y\":280,\"wires\":[]},{\"id\":\"e4f47cb2.6de238\",\"type\":\"websocket out\",\"z\":\"985cc25a.9014\",\"name\":\"websocket output\",\"server\":\"68c5eaa7.793bec\",\"client\":\"\",\"x\":530,\"y\":160,\"wires\":[]},{\"id\":\"e2ee57c.4c2db28\",\"type\":\"comment\",\"z\":\"985cc25a.9014\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\",\"info\":\"\",\"x\":250,\"y\":240,\"wires\":[]}]\n\n\n\n\n\nNode-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n\u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff13\uff19\u884c\u76ee\u306e.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow24')\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\nNode-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n\u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test24\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f/we/flow24\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n\u5fc5\u8981\u306b\u5fdc\u3058\u3001 \u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u5185\u306e\uff15\u884c\u76ee\u306econtext.array = new Array (10);\u306e\u914d\u5217\uff08Array\uff09\u306e\u8981\u7d20\u6570\u3092\u5897\u6e1b\u3057\u3066\u76f4\u8fd1\u306e\u5e73\u5747\u5024\u3092\u7b97\u51fa\u3059\u308b\u5bfe\u8c61\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u6570\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\n\u53c2\u8003\uff1aWatson IoT Platform - Node-RED - \u76f4\u8fd110\u4ef6\u306e\u5e73\u5747\u3084\u6a19\u6e96\u504f\u5dee\u3092\u6c42\u3081\u308b\n\n\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb\uff14 \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\n\n\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\n[{\"id\":\"70e4d0da.5629b\",\"type\":\"websocket-listener\",\"z\":\"9caf5f2d.ee644\",\"path\":\"/ws/flow26\",\"wholemsg\":\"false\"},{\"id\":\"7b5b76f2.ebdbd8\",\"type\":\"function\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 60;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nvar sum = 0, average = 0;\\nvar sen1 = Math.floor(Math.random () * 10) + 1;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\nif ( !context.array ) {\\n    context.array = new Array (10); //\u76f4\u8fd1\uff11\uff10\u4ef6\u5206\u3092\u4fdd\u6301\\n}\\nvar shifted = context.array.shift();\\ncontext.array.push(sen1);           // \u6700\u65b0\u306e\u5024\u3092\u4fdd\u5b58\\nvar length = context.array.length;\\n\\nfor (k=0; k<length; k++) {\\n        sum = sum + context.array[k];   // \u5408\u8a08\u3092\u7b97\u51fa\\n}\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\naverage = sum / length;\\nvar data = [[time],[sen1],[average]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":470,\"y\":160,\"wires\":[[\"88545406.3f6818\",\"2c25b12a.092b4e\",\"35aab970.8f3be6\"]]},{\"id\":\"a7ab6090.c965a\",\"type\":\"template\",\"z\":\"9caf5f2d.ee644\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\u5e73\u5747\u5024\u3092\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 12,\\n    \\\"colorSet\\\": \\n          [\\\"#bf7fff\\\",\\\"#ffbf7f\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n\\t\\\"autoReConnect\\\": \\\"yes\\\",\\n\\t\\\"autoReConnectInterval\\\": 500,\\n\\t\\\"wsReCnt\\\": 5000,\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u5e73\u5747\u5024\\\"]\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow26', autoReConnectInterval = 5000)\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\t\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":320,\"y\":300,\"wires\":[[\"30f8039c.a85bd4\"]]},{\"id\":\"a34bbc54.711aa8\",\"type\":\"inject\",\"z\":\"9caf5f2d.ee644\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":140,\"wires\":[[\"cef961b7.c12238\"]]},{\"id\":\"35276ce4.1d332c\",\"type\":\"inject\",\"z\":\"9caf5f2d.ee644\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":180,\"wires\":[[\"cef961b7.c12238\"]]},{\"id\":\"88545406.3f6818\",\"type\":\"debug\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":650,\"y\":140,\"wires\":[]},{\"id\":\"e4b92c19.4c359\",\"type\":\"comment\",\"z\":\"9caf5f2d.ee644\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":200,\"y\":100,\"wires\":[]},{\"id\":\"62aeaebe.acc14\",\"type\":\"http in\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\",\"url\":\"/test26\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":300,\"wires\":[[\"a7ab6090.c965a\"]]},{\"id\":\"30f8039c.a85bd4\",\"type\":\"http response\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\",\"x\":510,\"y\":300,\"wires\":[]},{\"id\":\"3265f51e.f1e4e2\",\"type\":\"comment\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u6307\u5b9a\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3067IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\",\"info\":\"\",\"x\":330,\"y\":260,\"wires\":[]},{\"id\":\"cef961b7.c12238\",\"type\":\"function\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":280,\"y\":160,\"wires\":[[\"7b5b76f2.ebdbd8\",\"2c25b12a.092b4e\"]]},{\"id\":\"2c25b12a.092b4e\",\"type\":\"debug\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u6642\u523b\u306e\u8868\u793a\",\"active\":false,\"console\":\"false\",\"complete\":\"date\",\"x\":670,\"y\":100,\"wires\":[]},{\"id\":\"35aab970.8f3be6\",\"type\":\"websocket out\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\",\"server\":\"70e4d0da.5629b\",\"client\":\"\",\"x\":670,\"y\":200,\"wires\":[]}]\n\n\n\n\n\u30bb\u30f3\u30b5\u30fc\u304b\u3089\uff11\u79d2\u6bce\u306a\u3069\u983b\u7e41\u306b\u9001\u4ed8\u3055\u308c\u3066\u304f\u308b\u30c7\u30fc\u30bf\u3092\u5168\u90e8\u753b\u9762\u306b\u8868\u793a\u3059\u308b\u3068\u753b\u9762\u304c\u898b\u306b\u304f\u304f\u306a\u3063\u3066\u5927\u5909\u306a\u306e\u3067\u3001\u98db\u6765\u3057\u305f\u30c7\u30fc\u30bf\u3092\u5185\u90e8\u3067\u914d\u5217\u306b\u4fdd\u6301\u3057\u3066\u76f4\u8fd1\u306e\u5e73\u5747\u5024\u306a\u3069\u306e\u7b97\u51fa\u306f\u7d9a\u3051\u3066\u304a\u3044\u3066\u3001\u6307\u5b9a\u3057\u305f\u6642\u9593\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u304c\u7d4c\u904e\u3057\u305f\u3089\u305d\u306e\u6642\u98db\u6765\u3057\u305f\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u305d\u306e\u76f4\u524d\u307e\u3067\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3059\u308b\u3001\u3068\u3044\u3046\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\nNode-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n\u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff13\uff19\u884c\u76ee\u306e.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow26')\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\nNode-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n\u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test26\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f/we/flow26\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n\u5fc5\u8981\u306b\u5fdc\u3058\u3001 \u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u5185\u306e\uff11\u884c\u76ee\u306evar sampling_interval = 60;\u306e\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u9593\u9694\u79d2\u6570\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\u307e\u305f\uff15\u884c\u76ee\u306econtext.array = new Array (10);\u306e\u914d\u5217\uff08Array\uff09\u306e\u8981\u7d20\u6570\u3092\u5897\u6e1b\u3057\u3066\u76f4\u8fd1\u306e\u5e73\u5747\u5024\u3092\u7b97\u51fa\u3059\u308b\u5bfe\u8c61\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u6570\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\n\u53c2\u8003\uff1aWatson IoT Platform - Node-RED - \u76f4\u8fd110\u4ef6\u306e\u5e73\u5747\u3084\u6a19\u6e96\u504f\u5dee\u3092\u6c42\u3081\u308b\u3001Watson IoT Platform - Node-RED - \u65e5\u4ed8\u30fb\u6642\u523b\u306e\u8ffd\u52a0\n\n\n\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002Inject\u30ce\u30fc\u30c9\u306e\u4ee3\u308f\u308a\u306bIBM IoT\u30a4\u30f3\u30d7\u30c3\u30c8\u30ce\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3001Device ID\u6b04\u306b0123456789ab\u3092\u6307\u5b9a\u3057\u3066\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\n\npubTemp.py\n#!/usr/bin/python\n# -*- coding: utf-8 -*-\n\nimport logging\nimport os\nimport os.path\nimport sys\nimport codecs\nimport time\nimport paho.mqtt.client as mqtt\nimport json\nimport threading\nimport random\n\nMQTT_BROKER=\"quickstart.messaging.internetofthings.ibmcloud.com\"\n\nMQTT_PORT=1883\nMQTT_TIMEOUT=60\n\nMQTT_PUB_TOPIC=\"iot-2/evt/status/fmt/json\"\n\ndef on_connect(client, userdata, flags, rc):\n    print(\"on connect\")\n    #client.subscribe(MQTT_SUB_TOPIC)\n    #client.subscribe(MQTT_SUB_TOPIC + \"#\") \n\ndef on_disconnect(client, userdata, rc):\n    print(\"on disconnect\")\n    client.unsubscribe(MQTT_SUB_TOPIC)\n\ndef on_message(client, userdata, msg):\n    print(\"on message: \" + msg.topic + \" \" + str(msg.payload))\n\ndef mqttConnect():\n    print(\"mqttConnect\")\n    try:\n        global client\n        client = mqtt.Client(\"d:quickstart:myThing:0123456789ab\")\n        client.on_connect = on_connect\n        client.on_message = on_message\n        client.on_disconnect = on_disconnect\n        client.connect(MQTT_BROKER,MQTT_PORT,MQTT_TIMEOUT)\n        print(\"connected\")\n    except KeyboardInterrupt, kex:\n        sys.exit()\n    except Exception, ex:\n        print(\"mqttConnect error\")\n\ndef mqttPublishCycle():\n    while client.loop() == 0:\n        try:\n            temp = 10 + random.randrange(250,450)/100.0\n            humid = 40 + random.randrange(500,1000)/100.0\n            print \"temp = \" + str(temp) + \", humid = \" + str(humid) \n            msg = \" {\\\"d\\\": {\\\"Temperature\\\": \" + str(temp) +\",\\\"Humidity\\\": \" + str(humid) + \"} }\";\n            client.publish(MQTT_PUB_TOPIC, msg, 0, True)\n            time.sleep(2)\n        except Exception, ex:\n            print(\"mqttPublish error\")\n\n\ndef testHello():\n    print \"hello\"\n\nif __name__ == \"__main__\":\n    print(\"--- started ---\")\n    mqttConnect()\n    mqttPublishCycle()\n    testHello()\n\n    print(\"--- program ended ---\")\n\n\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb\uff15 \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3068\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\n\n\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3068\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\n[{\"id\":\"a7d8276f.0b198\",\"type\":\"template\",\"z\":\"b82d7fcb.a73958\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 8,\\n    \\\"colorSet\\\": \\n          [\\\"#bf7fff\\\",\\\"#ffbf7f\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n\\t\\\"autoReConnect\\\": \\\"yes\\\",\\n\\t\\\"autoReConnectInterval\\\": 500,\\n\\t\\\"wsReCnt\\\": 5000,\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\\\"],\\n    [\\\"\u6a19\u6e96\u504f\u5dee\\\"],\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow40', autoReConnectInterval = 5000)\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[3];\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n\\t\\t<h2>\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u6a19\u6e96\u504f\u5dee\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":300,\"y\":480,\"wires\":[[\"1e84eada.9e7035\"]]},{\"id\":\"46e3c36c.9fbc64\",\"type\":\"inject\",\"z\":\"b82d7fcb.a73958\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":260,\"wires\":[[]]},{\"id\":\"56226a7b.5927bc\",\"type\":\"inject\",\"z\":\"b82d7fcb.a73958\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":300,\"wires\":[[\"be56004d.1f1c78\"]]},{\"id\":\"696338dd.cff878\",\"type\":\"http in\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"url\":\"/test40\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":110,\"y\":480,\"wires\":[[\"a7d8276f.0b198\"]]},{\"id\":\"1e84eada.9e7035\",\"type\":\"http response\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"x\":490,\"y\":480,\"wires\":[]},{\"id\":\"26a0b136.cc6476\",\"type\":\"comment\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u53ef\u8996\u5316\",\"info\":\"\",\"x\":90,\"y\":440,\"wires\":[]},{\"id\":\"be56004d.1f1c78\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u914d\u5217\u306b\u683c\u7d0d\",\"func\":\"/*if (msg.payload.d.ambientLight ) {\\n    msg.sen1 = Math.round(msg.payload.d.ambientLight*100)/100;\u3000// Alps\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u6e29\u5ea6\u3092\u53d6\u5f97\\n} else {\\n    return 0;\\n}\\n*/\\nmsg.sen1 = Math.floor(Math.random () * 10) + 1;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\nif ( !context.global.array ) {\\n    context.global.array = new Array (10);\\n}\\nvar shifted = context.global.array.shift();\\n\\ncontext.global.array.push(msg.sen1);\\n\\nmsg.array = context.global.array;\\nmsg.length = context.global.array.length;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":270,\"y\":280,\"wires\":[[\"cc3d1348.dc0758\"]]},{\"id\":\"cc3d1348.dc0758\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u5e73\u5747\",\"func\":\"var sum = 0, average = 0;\\n    for (i=0; i<msg.length; i++) {\\n        sum = sum + msg.array[i];\\n}\\nmsg.sum = sum;\\naverage = sum / msg.length;\\nmsg.average = Math.round(average*100)/100;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":430,\"y\":280,\"wires\":[[\"a6b18687.ca6d5\",\"5563095.e6dc878\"]]},{\"id\":\"a6b18687.ca6d5\",\"type\":\"debug\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"average\",\"x\":550,\"y\":240,\"wires\":[]},{\"id\":\"5563095.e6dc878\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u5206\u6563\",\"func\":\"var variance = 0;\\nfor (i=0; i<msg.length; i++) {\\n    variance = variance + Math.pow(msg.array[i] - msg.average, 2);\\n}\\nvariance = variance / msg.length;\\nmsg.variance = Math.round(variance*100)/100;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":570,\"y\":280,\"wires\":[[\"2a869a6a.73e3a6\"]]},{\"id\":\"2a869a6a.73e3a6\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u6a19\u6e96\u504f\u5dee\",\"func\":\"var standard_deviation = 0;\\nstandard_deviation = Math.sqrt(msg.variance);\\nmsg.std = Math.round(standard_deviation*100)/100;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":260,\"y\":340,\"wires\":[[\"5043c9ff.86b608\",\"ef01efdc.e4535\"]]},{\"id\":\"5043c9ff.86b608\",\"type\":\"debug\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"std\",\"x\":440,\"y\":380,\"wires\":[]},{\"id\":\"ef01efdc.e4535\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u6642\u523b\u3092\u8a2d\u5b9a\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\n//average = sum / length;\\nvar data = [[time],[msg.sen1],[msg.average],[msg.std]];\\nmsg.payload = data;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":450,\"y\":340,\"wires\":[[\"9f156ff1.f937b\",\"c63f01cc.a45b4\"]]},{\"id\":\"9f156ff1.f937b\",\"type\":\"debug\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"false\",\"x\":630,\"y\":320,\"wires\":[]},{\"id\":\"c63f01cc.a45b4\",\"type\":\"websocket out\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"server\":\"aad83d48.43cde8\",\"client\":\"\",\"x\":670,\"y\":380,\"wires\":[]},{\"id\":\"cb8e5723.18e778\",\"type\":\"comment\",\"z\":\"b82d7fcb.a73958\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u51fa\u529b\",\"info\":\"\",\"x\":260,\"y\":200,\"wires\":[]},{\"id\":\"aad83d48.43cde8\",\"type\":\"websocket-listener\",\"z\":\"b82d7fcb.a73958\",\"path\":\"/ws/flow40\",\"wholemsg\":\"false\"}]\n\n\n\n\n\u524d\u9805\u306e\u30b5\u30f3\u30d7\u30eb\uff14\u306b\u52a0\u3048\u3066\u6a19\u6e96\u504f\u5dee\u3082\u51fa\u529b\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\nNode-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n\u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff14\uff13\u884c\u76ee\u306e.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow40')\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\nNode-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n\u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test40\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f/we/flow40\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n\u5fc5\u8981\u306b\u5fdc\u3058\u3001 \u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u5185\u306e\uff11\u884c\u76ee\u306evar sampling_interval = 60;\u306e\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u9593\u9694\u79d2\u6570\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\u307e\u305f\uff15\u884c\u76ee\u306econtext.array = new Array (10);\u306e\u914d\u5217\uff08Array\uff09\u306e\u8981\u7d20\u6570\u3092\u5897\u6e1b\u3057\u3066\u76f4\u8fd1\u306e\u5e73\u5747\u5024\u3092\u7b97\u51fa\u3059\u308b\u5bfe\u8c61\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u6570\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\n\n\n\n\u521d\u3081\u3066Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3001\u3068\u3044\u3046\u304b\u305f\u306e\u305f\u3081\u306e\u30ac\u30a4\u30c9\u3067\u3059\u3002\n[Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b](http://qiita.com/egplnt/items/af867711a7191923b2ff)\u3067IoT\u30a2\u30d7\u30ea\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\u5b9f\u969b\u306eIoT\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u306e\u5148\u982d\u306bMQTT\u306a\u3069\u3067\u63a5\u7d9a\u3055\u308c\u305fIoT\u30c7\u30d0\u30a4\u30b9\u30fb\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5165\u529b\u3092\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30ed\u30fc\u3067\u306f\u3001IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3057\u3001websocket\u3067\u51fa\u529b\u3057\u305f\u5024\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u53ef\u8996\u5316\u3057\u307e\u3059\u3002ccchart\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n#\u30b5\u30f3\u30d7\u30eb\uff11 \u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\u3059\u308b\n\n```lang:IoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\n[{\"id\":\"48e2ea18.2d831c\",\"type\":\"websocket-listener\",\"z\":\"a9346054.4ad1b\",\"path\":\"/ws/flow20\",\"wholemsg\":\"false\"},{\"id\":\"db1d6d53.85c758\",\"type\":\"function\",\"z\":\"a9346054.4ad1b\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === 0 ) {\\n    context.set(\\\"i\\\", 0);\\n}\\n\\nvar i = context.get('i')||0;\\ni += 1;\\nvar time =[\\\"10:00\\\",\\\"10:01\\\",\\\"10:02\\\",\\\"10:03\\\",\\\"10:04\\\",\\\"10:05\\\",\\\"10:06\\\",\\\"10:07\\\",\\\"10:08\\\",\\\"10:09\\\",\\\"10:10\\\",\\\"10:11\\\",\\\"10:12\\\",\\\"10:13\\\",\\\"10:14\\\",\\\"10:15\\\",\\\"10:16\\\",\\\"10:17\\\",\\\"10:18\\\",\\\"10:19\\\",\\\"10:20\\\",\\\"10:21\\\",\\\"10:22\\\",\\\"10:23\\\",\\\"10:24\\\",\\\"10:25\\\",\\\"10:26\\\",\\\"10:27\\\",\\\"10:28\\\",\\\"10:29\\\",\\\"10:30\\\",\\\"10:31\\\",\\\"10:32\\\",\\\"10:33\\\",\\\"10:34\\\",\\\"10:35\\\",\\\"10:36\\\",\\\"10:37\\\",\\\"10:38\\\",\\\"10:39\\\",\\\"10:40\\\",\\\"10:41\\\",\\\"10:42\\\",\\\"10:43\\\",\\\"10:44\\\",\\\"10:45\\\",\\\"10:46\\\",\\\"10:47\\\",\\\"10:48\\\",\\\"10:49\\\",\\\"10:50\\\",\\\"10:51\\\",\\\"10:52\\\",\\\"10:53\\\",\\\"10:54\\\",\\\"10:55\\\",\\\"10:56\\\",\\\"10:57\\\",\\\"10:58\\\",\\\"10:59\\\"];\\nvar sen1 = [2,8,4,6,0,10,8,4,2,6,10,6,4,8,0,2,10,8,2,8,4,6,10,2,0,8,4,6,10,8,4,0,6,2,8,10,6,4,2,0,6,8,2,0,6,10,6,4,8,10,4,2,6,8,4,0,2,8,10,8];\\nvar sen2 = [12,10,4,6,14,8,20,12,8,4,0,12,18,6,4,10,6,2,18,14,12,4,0,8,14,16,20,12,8,4,0,12,14,10,8,4,18,12,14,10,4,2,6,12,18,14,10,2,8,4,12,18,10,4,2,0,6,18,20,12];\\nvar sen3 = [1,5,3,7,9,7,5,3,7,9,3,1,5,7,3,7,9,1,7,5,3,9,3,1,7,5,9,3,1,7,3,5,9,3,1,7,5,3,1,7,9,3,7,1,5,7,3,7,9,5,3,1,7,9,5,3,3,1,7,9];\\nvar sen4 = [7,11,17,3,7,11,1,9,17,13,17,11,3,9,11,3,7,15,13,19,11,7,5,1,13,17,15,5,7,3,11,7,19,13,15,11,9,3,5,9,17,13,11,9,13,15,7,3,5,1,13,17,7,19,3,5,9,1,7,3];\\nvar sen5 = [8,2,10,14,8,16,8,12,4,0,12,12,18,14,6,10,4,8,12,14,20,4,14,16,10,12,8,6,2,8,0,10,12,8,4,16,18,12,8,4,2,8,0,12,20,16,12,18,20,8,12,14,8,4,8,16,2,8,14,8];\\n\\nif (i > time.length-1) return;\\ncontext.set('i', i);\\nvar data = [[time[i]],[sen1[i]],[sen2[i]],[sen3[i]],[sen4[i]],[sen5[i]]];\\nmsg.payload=data;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":310,\"y\":120,\"wires\":[[\"420ffd32.8c879c\",\"2fdd8414.5770e4\"]]},{\"id\":\"9ac1d27b.b5dd7\",\"type\":\"inject\",\"z\":\"a9346054.4ad1b\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":100,\"wires\":[[\"db1d6d53.85c758\"]]},{\"id\":\"d9ec4e9.7c3203\",\"type\":\"inject\",\"z\":\"a9346054.4ad1b\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":140,\"wires\":[[\"db1d6d53.85c758\"]]},{\"id\":\"2fdd8414.5770e4\",\"type\":\"debug\",\"z\":\"a9346054.4ad1b\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":490,\"y\":100,\"wires\":[]},{\"id\":\"8fb4da72.9d3278\",\"type\":\"comment\",\"z\":\"a9346054.4ad1b\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":200,\"y\":60,\"wires\":[]},{\"id\":\"5afa1350.35c85c\",\"type\":\"http in\",\"z\":\"a9346054.4ad1b\",\"name\":\"\",\"url\":\"/test20\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":260,\"wires\":[[\"229a6875.3761c\"]]},{\"id\":\"229a6875.3761c\",\"type\":\"template\",\"z\":\"a9346054.4ad1b\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30c7\u30fc\u30bf\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"IoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u53ef\u8996\u5316\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 12,\\n    \\\"colorSet\\\": \\n          [\\\"#ffbf7f\\\",\\\"#7fff7f\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff12\u5024\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff13\u5024\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff14\u5024\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff15\u5024\\\"]\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow20')\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[3];\\n\\ttarget = document.getElementById(\\\"output5\\\");\\n\\ttarget.innerHTML = msgs[4];\\n\\ttarget = document.getElementById(\\\"output6\\\");\\n\\ttarget.innerHTML = msgs[5];\\n\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff12\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff13\\t</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff14\\t</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output6\\\"></span>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff15\\t</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output5\\\"></span>\\n\\t\\t<h2>\u7a4d\u7b97\\t</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output8\\\"></span>\\n\\n\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":320,\"y\":260,\"wires\":[[\"63381646.36ce4\"]]},{\"id\":\"63381646.36ce4\",\"type\":\"http response\",\"z\":\"a9346054.4ad1b\",\"name\":\"\",\"x\":510,\"y\":260,\"wires\":[]},{\"id\":\"420ffd32.8c879c\",\"type\":\"websocket out\",\"z\":\"a9346054.4ad1b\",\"name\":\"websocket output\",\"server\":\"48e2ea18.2d831c\",\"client\":\"\",\"x\":530,\"y\":140,\"wires\":[]},{\"id\":\"d7d552a3.6ba1e8\",\"type\":\"comment\",\"z\":\"a9346054.4ad1b\",\"name\":\"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\",\"info\":\"\",\"x\":190,\"y\":220,\"wires\":[]}]\n\n```\n\n\n1. [Node-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5](http://qiita.com/egplnt/items/84b244a50d8bdaced324)\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n2. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n3. \u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff14\uff12\u884c\u76ee\u306e`\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow20')`\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n4. Node-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n5. \u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001`IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test20`\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n6. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n7. \u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f`/we/flow20`\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-08-12 14.16.07.png](https://qiita-image-store.s3.amazonaws.com/0/125842/5f04174f-ffab-852d-6d39-29e34afd4df3.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-08-12 13.32.26.png](https://qiita-image-store.s3.amazonaws.com/0/125842/86f1a5df-a34a-60d3-e3a4-920ebeb00540.png)\n\n* * *\n#\u30b5\u30f3\u30d7\u30eb\uff12 \u7a4d\u7b97\u5024\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\n```lang:IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u7a4d\u7b97\u3057\u3066\u8868\u793a\n[{\"id\":\"3df0391e.e83cb6\",\"type\":\"websocket-listener\",\"z\":\"1413dbbf.96edd4\",\"path\":\"/ws/flow22\",\"wholemsg\":\"false\"},{\"id\":\"b03e4b77.5aba6\",\"type\":\"template\",\"z\":\"1413dbbf.96edd4\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u7a4d\u7b97\u5024IoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u7a4d\u7b97\u5024IoT\u30c7\u30fc\u30bf\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"IoT\u30c7\u30fc\u30bf\u3092\u7a4d\u7b97\u3057\u3066\u53ef\u8996\u5316\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 12,\\n    \\\"colorSet\\\": \\n          [\\\"#ffbf7f\\\",\\\"#7fff7f\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u7a4d\u7b97\u5024\\\"]\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow22')\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u7a4d\u7b97\u5024IoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u3092\u7a4d\u7b97\u3057\u3066\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u7a4d\u7b97\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":360,\"y\":280,\"wires\":[[\"bcf664db.750b\"]]},{\"id\":\"56042020.2b7b2\",\"type\":\"function\",\"z\":\"1413dbbf.96edd4\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === 0 ) {\\n    context.set('total',0);\\n    context.set(\\\"i\\\", 0);\\n}\\n\\nvar i = context.get('i')||0;\\ni += 1;\\nvar time =[\\\"10:00\\\",\\\"10:01\\\",\\\"10:02\\\",\\\"10:03\\\",\\\"10:04\\\",\\\"10:05\\\",\\\"10:06\\\",\\\"10:07\\\",\\\"10:08\\\",\\\"10:09\\\",\\\"10:10\\\",\\\"10:11\\\",\\\"10:12\\\",\\\"10:13\\\",\\\"10:14\\\",\\\"10:15\\\",\\\"10:16\\\",\\\"10:17\\\",\\\"10:18\\\",\\\"10:19\\\",\\\"10:20\\\",\\\"10:21\\\",\\\"10:22\\\",\\\"10:23\\\",\\\"10:24\\\",\\\"10:25\\\",\\\"10:26\\\",\\\"10:27\\\",\\\"10:28\\\",\\\"10:29\\\",\\\"10:30\\\",\\\"10:31\\\",\\\"10:32\\\",\\\"10:33\\\",\\\"10:34\\\",\\\"10:35\\\",\\\"10:36\\\",\\\"10:37\\\",\\\"10:38\\\",\\\"10:39\\\",\\\"10:40\\\",\\\"10:41\\\",\\\"10:42\\\",\\\"10:43\\\",\\\"10:44\\\",\\\"10:45\\\",\\\"10:46\\\",\\\"10:47\\\",\\\"10:48\\\",\\\"10:49\\\",\\\"10:50\\\",\\\"10:51\\\",\\\"10:52\\\",\\\"10:53\\\",\\\"10:54\\\",\\\"10:55\\\",\\\"10:56\\\",\\\"10:57\\\",\\\"10:58\\\",\\\"10:59\\\"];\\nvar sen1 = [2,8,4,6,0,10,8,4,2,6,10,6,4,8,0,2,10,8,2,8,4,6,10,2,0,8,4,6,10,8,4,0,6,2,8,10,6,4,2,0,6,8,2,0,6,10,6,4,8,10,4,2,6,8,4,0,2,8,10,8];\\n\\nif (i > time.length-1) return;\\ncontext.set('i', i);\\nvar total = context.get('total')||0;\\ntotal += sen1[i];\\ncontext.set('total', total);\\nvar data = [[time[i]],[sen1[i]],[total]];\\nmsg.payload=data;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":350,\"y\":140,\"wires\":[[\"1fe22eb.a3ff551\",\"63658ed5.e6482\"]]},{\"id\":\"db370290.0c588\",\"type\":\"inject\",\"z\":\"1413dbbf.96edd4\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"2\",\"crontab\":\"\",\"once\":false,\"x\":150,\"y\":120,\"wires\":[[]]},{\"id\":\"75be76f7.2d5158\",\"type\":\"inject\",\"z\":\"1413dbbf.96edd4\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":150,\"y\":160,\"wires\":[[\"56042020.2b7b2\"]]},{\"id\":\"63658ed5.e6482\",\"type\":\"debug\",\"z\":\"1413dbbf.96edd4\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":530,\"y\":120,\"wires\":[]},{\"id\":\"723e138a.c57bb4\",\"type\":\"comment\",\"z\":\"1413dbbf.96edd4\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":240,\"y\":80,\"wires\":[]},{\"id\":\"653274ab.54234c\",\"type\":\"http in\",\"z\":\"1413dbbf.96edd4\",\"name\":\"\",\"url\":\"/test22\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":170,\"y\":280,\"wires\":[[\"b03e4b77.5aba6\"]]},{\"id\":\"bcf664db.750b\",\"type\":\"http response\",\"z\":\"1413dbbf.96edd4\",\"name\":\"\",\"x\":550,\"y\":280,\"wires\":[]},{\"id\":\"1fe22eb.a3ff551\",\"type\":\"websocket out\",\"z\":\"1413dbbf.96edd4\",\"name\":\"websocket output\",\"server\":\"3df0391e.e83cb6\",\"client\":\"\",\"x\":570,\"y\":160,\"wires\":[]},{\"id\":\"d772f570.d1207\",\"type\":\"comment\",\"z\":\"1413dbbf.96edd4\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u7a4d\u7b97\u3057\u3066\u8868\u793a\",\"info\":\"\",\"x\":240,\"y\":240,\"wires\":[]}]\n\n```\n\n1. [Node-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5](http://qiita.com/egplnt/items/84b244a50d8bdaced324)\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n2. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n3. \u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff13\uff19\u884c\u76ee\u306e`\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow22')`\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n4. Node-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n5. \u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001`IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test22`\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n6. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n7. \u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f`/we/flow22`\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-08-12 14.37.43.png](https://qiita-image-store.s3.amazonaws.com/0/125842/071ad1c7-fca7-b6a9-4b7b-0e3aa87a9e0d.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-08-12 14.38.44.png](https://qiita-image-store.s3.amazonaws.com/0/125842/f645296c-1375-9231-8e28-a8a8763512f1.png)\n\n\n* * *\n\n#\u30b5\u30f3\u30d7\u30eb\uff13 \u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\n```lang:\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\n[{\"id\":\"68c5eaa7.793bec\",\"type\":\"websocket-listener\",\"z\":\"985cc25a.9014\",\"path\":\"/ws/flow24\",\"wholemsg\":\"false\"},{\"id\":\"eb8f68e9.a6598\",\"type\":\"template\",\"z\":\"985cc25a.9014\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 12,\\n    \\\"colorSet\\\": \\n          [\\\"#ff7fff\\\",\\\"#7fffbf\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u5e73\u5747\u5024\\\"]\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow24')\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u5e73\u5747\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":320,\"y\":280,\"wires\":[[\"7d36338b.49d68c\"]]},{\"id\":\"fee016c.b7d29e8\",\"type\":\"function\",\"z\":\"985cc25a.9014\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"if (msg.payload === 0 ) {\\n    context.set(\\\"i\\\", 0);\\n}\\nif ( !context.array ) {\\n    context.array = new Array (10);\\n}\\nvar sum = 0, average = 0;\\n\\nvar time =[\\\"10:00\\\",\\\"10:01\\\",\\\"10:02\\\",\\\"10:03\\\",\\\"10:04\\\",\\\"10:05\\\",\\\"10:06\\\",\\\"10:07\\\",\\\"10:08\\\",\\\"10:09\\\",\\\"10:10\\\",\\\"10:11\\\",\\\"10:12\\\",\\\"10:13\\\",\\\"10:14\\\",\\\"10:15\\\",\\\"10:16\\\",\\\"10:17\\\",\\\"10:18\\\",\\\"10:19\\\",\\\"10:20\\\",\\\"10:21\\\",\\\"10:22\\\",\\\"10:23\\\",\\\"10:24\\\",\\\"10:25\\\",\\\"10:26\\\",\\\"10:27\\\",\\\"10:28\\\",\\\"10:29\\\",\\\"10:30\\\",\\\"10:31\\\",\\\"10:32\\\",\\\"10:33\\\",\\\"10:34\\\",\\\"10:35\\\",\\\"10:36\\\",\\\"10:37\\\",\\\"10:38\\\",\\\"10:39\\\",\\\"10:40\\\",\\\"10:41\\\",\\\"10:42\\\",\\\"10:43\\\",\\\"10:44\\\",\\\"10:45\\\",\\\"10:46\\\",\\\"10:47\\\",\\\"10:48\\\",\\\"10:49\\\",\\\"10:50\\\",\\\"10:51\\\",\\\"10:52\\\",\\\"10:53\\\",\\\"10:54\\\",\\\"10:55\\\",\\\"10:56\\\",\\\"10:57\\\",\\\"10:58\\\",\\\"10:59\\\"];\\nvar sen1 = [2,8,4,6,0,10,8,4,2,6,10,6,4,8,0,2,10,8,2,8,4,6,10,2,0,8,4,6,10,8,4,0,6,2,8,10,6,4,2,0,6,8,2,0,6,10,6,4,8,10,4,2,6,8,4,0,2,8,10,8];\\n\\nvar i = context.get('i')||0;\\ni += 1;\\nif (i > time.length-1) return;\\ncontext.set('i', i);\\n\\nvar shifted = context.array.shift();\\ncontext.array.push(sen1[i]);\\n\\nvar length = context.array.length;\\n\\nfor (k=0; k<length; k++) {\\n        sum = sum + context.array[k];\\n}\\n\\naverage = sum / length;\\nvar data = [[time[i]],[sen1[i]],[average]];\\nmsg.payload=data;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":310,\"y\":140,\"wires\":[[\"e4f47cb2.6de238\",\"fe4e3fb1.158d78\"]]},{\"id\":\"adb5d728.25e47\",\"type\":\"inject\",\"z\":\"985cc25a.9014\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":120,\"wires\":[[]]},{\"id\":\"d6cf08c7.c7249\",\"type\":\"inject\",\"z\":\"985cc25a.9014\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":160,\"wires\":[[\"fee016c.b7d29e8\"]]},{\"id\":\"fe4e3fb1.158d78\",\"type\":\"debug\",\"z\":\"985cc25a.9014\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":490,\"y\":120,\"wires\":[]},{\"id\":\"cd5d6cc2.d31e7\",\"type\":\"comment\",\"z\":\"985cc25a.9014\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":200,\"y\":80,\"wires\":[]},{\"id\":\"a8c5dde3.129678\",\"type\":\"http in\",\"z\":\"985cc25a.9014\",\"name\":\"\",\"url\":\"/test24\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":280,\"wires\":[[\"eb8f68e9.a6598\"]]},{\"id\":\"7d36338b.49d68c\",\"type\":\"http response\",\"z\":\"985cc25a.9014\",\"name\":\"\",\"x\":510,\"y\":280,\"wires\":[]},{\"id\":\"e4f47cb2.6de238\",\"type\":\"websocket out\",\"z\":\"985cc25a.9014\",\"name\":\"websocket output\",\"server\":\"68c5eaa7.793bec\",\"client\":\"\",\"x\":530,\"y\":160,\"wires\":[]},{\"id\":\"e2ee57c.4c2db28\",\"type\":\"comment\",\"z\":\"985cc25a.9014\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\",\"info\":\"\",\"x\":250,\"y\":240,\"wires\":[]}]\n\n```\n\n1. [Node-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5](http://qiita.com/egplnt/items/84b244a50d8bdaced324)\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n2. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n3. \u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff13\uff19\u884c\u76ee\u306e`\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow24')`\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n4. Node-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n5. \u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001`IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test24`\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n6. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n7. \u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f`/we/flow24`\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n8. \u5fc5\u8981\u306b\u5fdc\u3058\u3001 \u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u5185\u306e\uff15\u884c\u76ee\u306e`context.array = new Array (10);`\u306e\u914d\u5217\uff08Array\uff09\u306e\u8981\u7d20\u6570\u3092\u5897\u6e1b\u3057\u3066\u76f4\u8fd1\u306e\u5e73\u5747\u5024\u3092\u7b97\u51fa\u3059\u308b\u5bfe\u8c61\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u6570\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\n9. \u53c2\u8003\uff1a[Watson IoT Platform - Node-RED - \u76f4\u8fd110\u4ef6\u306e\u5e73\u5747\u3084\u6a19\u6e96\u504f\u5dee\u3092\u6c42\u3081\u308b](http://qiita.com/egplnt/items/af3b9e69c94728ac6083)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-08-12 15.24.42.png](https://qiita-image-store.s3.amazonaws.com/0/125842/21359267-f047-0908-5854-ecb04b04ea2d.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-08-12 15.24.59.png](https://qiita-image-store.s3.amazonaws.com/0/125842/5d4f0151-c77a-0e88-0805-daeee8d211b0.png)\n\n* * *\n\n#\u30b5\u30f3\u30d7\u30eb\uff14 \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\n```lang:\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\n[{\"id\":\"70e4d0da.5629b\",\"type\":\"websocket-listener\",\"z\":\"9caf5f2d.ee644\",\"path\":\"/ws/flow26\",\"wholemsg\":\"false\"},{\"id\":\"7b5b76f2.ebdbd8\",\"type\":\"function\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"//var sampling_min_interval = 1;\\nvar sampling_sec_interval = 60;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\nvar sum = 0, average = 0;\\nvar sen1 = Math.floor(Math.random () * 10) + 1;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\nif ( !context.array ) {\\n    context.array = new Array (10); //\u76f4\u8fd1\uff11\uff10\u4ef6\u5206\u3092\u4fdd\u6301\\n}\\nvar shifted = context.array.shift();\\ncontext.array.push(sen1);           // \u6700\u65b0\u306e\u5024\u3092\u4fdd\u5b58\\nvar length = context.array.length;\\n\\nfor (k=0; k<length; k++) {\\n        sum = sum + context.array[k];   // \u5408\u8a08\u3092\u7b97\u51fa\\n}\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\naverage = sum / length;\\nvar data = [[time],[sen1],[average]];\\nmsg.payload = data;\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\n//if ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":470,\"y\":160,\"wires\":[[\"88545406.3f6818\",\"2c25b12a.092b4e\",\"35aab970.8f3be6\"]]},{\"id\":\"a7ab6090.c965a\",\"type\":\"template\",\"z\":\"9caf5f2d.ee644\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\u5e73\u5747\u5024\u3092\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 12,\\n    \\\"colorSet\\\": \\n          [\\\"#bf7fff\\\",\\\"#ffbf7f\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n\\t\\\"autoReConnect\\\": \\\"yes\\\",\\n\\t\\\"autoReConnectInterval\\\": 500,\\n\\t\\\"wsReCnt\\\": 5000,\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u5e73\u5747\u5024\\\"]\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow26', autoReConnectInterval = 5000)\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\t\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":320,\"y\":300,\"wires\":[[\"30f8039c.a85bd4\"]]},{\"id\":\"a34bbc54.711aa8\",\"type\":\"inject\",\"z\":\"9caf5f2d.ee644\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":140,\"wires\":[[\"cef961b7.c12238\"]]},{\"id\":\"35276ce4.1d332c\",\"type\":\"inject\",\"z\":\"9caf5f2d.ee644\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":180,\"wires\":[[\"cef961b7.c12238\"]]},{\"id\":\"88545406.3f6818\",\"type\":\"debug\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u51fa\u529b\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":650,\"y\":140,\"wires\":[]},{\"id\":\"e4b92c19.4c359\",\"type\":\"comment\",\"z\":\"9caf5f2d.ee644\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\",\"info\":\"\",\"x\":200,\"y\":100,\"wires\":[]},{\"id\":\"62aeaebe.acc14\",\"type\":\"http in\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\",\"url\":\"/test26\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":300,\"wires\":[[\"a7ab6090.c965a\"]]},{\"id\":\"30f8039c.a85bd4\",\"type\":\"http response\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\",\"x\":510,\"y\":300,\"wires\":[]},{\"id\":\"3265f51e.f1e4e2\",\"type\":\"comment\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u6307\u5b9a\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3067IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\",\"info\":\"\",\"x\":330,\"y\":260,\"wires\":[]},{\"id\":\"cef961b7.c12238\",\"type\":\"function\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":280,\"y\":160,\"wires\":[[\"7b5b76f2.ebdbd8\",\"2c25b12a.092b4e\"]]},{\"id\":\"2c25b12a.092b4e\",\"type\":\"debug\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\u6642\u523b\u306e\u8868\u793a\",\"active\":false,\"console\":\"false\",\"complete\":\"date\",\"x\":670,\"y\":100,\"wires\":[]},{\"id\":\"35aab970.8f3be6\",\"type\":\"websocket out\",\"z\":\"9caf5f2d.ee644\",\"name\":\"\",\"server\":\"70e4d0da.5629b\",\"client\":\"\",\"x\":670,\"y\":200,\"wires\":[]}]\n\n```\n\n1. \u30bb\u30f3\u30b5\u30fc\u304b\u3089\uff11\u79d2\u6bce\u306a\u3069\u983b\u7e41\u306b\u9001\u4ed8\u3055\u308c\u3066\u304f\u308b\u30c7\u30fc\u30bf\u3092\u5168\u90e8\u753b\u9762\u306b\u8868\u793a\u3059\u308b\u3068\u753b\u9762\u304c\u898b\u306b\u304f\u304f\u306a\u3063\u3066\u5927\u5909\u306a\u306e\u3067\u3001\u98db\u6765\u3057\u305f\u30c7\u30fc\u30bf\u3092\u5185\u90e8\u3067\u914d\u5217\u306b\u4fdd\u6301\u3057\u3066\u76f4\u8fd1\u306e\u5e73\u5747\u5024\u306a\u3069\u306e\u7b97\u51fa\u306f\u7d9a\u3051\u3066\u304a\u3044\u3066\u3001\u6307\u5b9a\u3057\u305f\u6642\u9593\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u304c\u7d4c\u904e\u3057\u305f\u3089\u305d\u306e\u6642\u98db\u6765\u3057\u305f\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u305d\u306e\u76f4\u524d\u307e\u3067\u306e\u5e73\u5747\u5024\u3092\u8868\u793a\u3059\u308b\u3001\u3068\u3044\u3046\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n2. [Node-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5](http://qiita.com/egplnt/items/84b244a50d8bdaced324)\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n3. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n4. \u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff13\uff19\u884c\u76ee\u306e`\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow26')`\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n5. Node-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n6. \u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001`IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test26`\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n7. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n8. \u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f`/we/flow26`\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n9. \u5fc5\u8981\u306b\u5fdc\u3058\u3001 \u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u5185\u306e\uff11\u884c\u76ee\u306e`var sampling_interval = 60;`\u306e\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u9593\u9694\u79d2\u6570\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\u307e\u305f\uff15\u884c\u76ee\u306e`context.array = new Array (10);`\u306e\u914d\u5217\uff08Array\uff09\u306e\u8981\u7d20\u6570\u3092\u5897\u6e1b\u3057\u3066\u76f4\u8fd1\u306e\u5e73\u5747\u5024\u3092\u7b97\u51fa\u3059\u308b\u5bfe\u8c61\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u6570\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\n10. \u53c2\u8003\uff1a[Watson IoT Platform - Node-RED - \u76f4\u8fd110\u4ef6\u306e\u5e73\u5747\u3084\u6a19\u6e96\u504f\u5dee\u3092\u6c42\u3081\u308b](http://qiita.com/egplnt/items/af3b9e69c94728ac6083)\u3001[Watson IoT Platform - Node-RED - \u65e5\u4ed8\u30fb\u6642\u523b\u306e\u8ffd\u52a0](http://qiita.com/egplnt/items/74d65518cac9fc334efe)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-08-12 16.05.55.png](https://qiita-image-store.s3.amazonaws.com/0/125842/96bd8f2e-8a89-9eaa-35f8-f50fc23a21ea.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-08-12 16.06.10.png](https://qiita-image-store.s3.amazonaws.com/0/125842/85c83d76-213b-cf66-2f80-0e3ea6399071.png)\n\n\n- \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002`Inject`\u30ce\u30fc\u30c9\u306e\u4ee3\u308f\u308a\u306b`IBM IoT`\u30a4\u30f3\u30d7\u30c3\u30c8\u30ce\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3001`Device ID`\u6b04\u306b`0123456789ab`\u3092\u6307\u5b9a\u3057\u3066\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\n```py:pubTemp.py\n#!/usr/bin/python\n# -*- coding: utf-8 -*-\n\nimport logging\nimport os\nimport os.path\nimport sys\nimport codecs\nimport time\nimport paho.mqtt.client as mqtt\nimport json\nimport threading\nimport random\n\nMQTT_BROKER=\"quickstart.messaging.internetofthings.ibmcloud.com\"\n\nMQTT_PORT=1883\nMQTT_TIMEOUT=60\n\nMQTT_PUB_TOPIC=\"iot-2/evt/status/fmt/json\"\n\ndef on_connect(client, userdata, flags, rc):\n\tprint(\"on connect\")\n\t#client.subscribe(MQTT_SUB_TOPIC)\n\t#client.subscribe(MQTT_SUB_TOPIC + \"#\") \n\ndef on_disconnect(client, userdata, rc):\n\tprint(\"on disconnect\")\n\tclient.unsubscribe(MQTT_SUB_TOPIC)\n\ndef on_message(client, userdata, msg):\n\tprint(\"on message: \" + msg.topic + \" \" + str(msg.payload))\n\ndef mqttConnect():\n\tprint(\"mqttConnect\")\n\ttry:\n\t\tglobal client\n\t\tclient = mqtt.Client(\"d:quickstart:myThing:0123456789ab\")\n\t\tclient.on_connect = on_connect\n\t\tclient.on_message = on_message\n\t\tclient.on_disconnect = on_disconnect\n\t\tclient.connect(MQTT_BROKER,MQTT_PORT,MQTT_TIMEOUT)\n\t\tprint(\"connected\")\n\texcept KeyboardInterrupt, kex:\n\t\tsys.exit()\n\texcept Exception, ex:\n\t\tprint(\"mqttConnect error\")\n\ndef mqttPublishCycle():\n\twhile client.loop() == 0:\n\t\ttry:\n\t\t\ttemp = 10 + random.randrange(250,450)/100.0\n\t\t\thumid = 40 + random.randrange(500,1000)/100.0\n\t\t\tprint \"temp = \" + str(temp) + \", humid = \" + str(humid) \n\t\t\tmsg = \" {\\\"d\\\": {\\\"Temperature\\\": \" + str(temp) +\",\\\"Humidity\\\": \" + str(humid) + \"} }\";\n\t\t\tclient.publish(MQTT_PUB_TOPIC, msg, 0, True)\n\t\t\ttime.sleep(2)\n\t\texcept Exception, ex:\n\t\t\tprint(\"mqttPublish error\")\n\n\ndef testHello():\n\tprint \"hello\"\n\nif __name__ == \"__main__\":\n\tprint(\"--- started ---\")\n\tmqttConnect()\n\tmqttPublishCycle()\n\ttestHello()\n\n\tprint(\"--- program ended ---\")\n\n\n```\n\n* * *\n#\u30b5\u30f3\u30d7\u30eb\uff15 \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3068\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\n\n```lang:\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3068\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\n[{\"id\":\"a7d8276f.0b198\",\"type\":\"template\",\"z\":\"b82d7fcb.a73958\",\"name\":\"ws\u7528html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t\\t<script src=\\\"http://ccchart.com/js/ccchart.js\\\" charset=\\\"utf-8\\\"></script>\\n<script>\\n\\nwindow.onload=function(){\\n\\tcc();\\n}\\n\\nfunction cc() {\\n\\nvar chartdata87 = {\\n\\n  \\\"config\\\": {\\n    \\\"title\\\": \\\"\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\\\",\\n    \\\"subTitle\\\": \\\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\u3057\u307e\u3059\\\",\\n    \\\"type\\\": \\\"stackedarea\\\",\\n    \\\"maxWsColLen\\\": 8,\\n    \\\"colorSet\\\": \\n          [\\\"#bf7fff\\\",\\\"#ffbf7f\\\",\\\"#ff7fff\\\",\\\"#7fbfff\\\",\\\"#ff7f7f\\\"],\\n    \\\"useMarker\\\": \\\"arc\\\",\\n    \\\"useVal\\\": \\\"yes\\\",\\n\\t\\\"autoReConnect\\\": \\\"yes\\\",\\n\\t\\\"autoReConnectInterval\\\": 500,\\n\\t\\\"wsReCnt\\\": 5000,\\n    \\\"roundedUpMaxY\\\": 100\\n  },\\n\\n  \\\"data\\\": [\\n    [\\\"\u6642\u523b\\\"],\\n    [\\\"\u30bb\u30f3\u30b5\u30fc\uff11\u5024\\\"],\\n    [\\\"\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\\\"],\\n    [\\\"\u6a19\u6e96\u504f\u5dee\\\"],\\n  ]\\n};\\n\\n  ccchart.wsCloseAll();//\u4e00\u65e6\u30af\u30ea\u30a2\\n  ccchart\\n    .init('id123', chartdata87)\\n\\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow40', autoReConnectInterval = 5000)\\n\\t.on('message', myOneColAtATime)\\n\\t.on('message', ccchart.wscase.oneColAtATime);\\n}\\n\\nfunction myOneColAtATime (msg) {\\n\\tconsole.log(\\\"myOneColAtATime entered\\\");\\n\\t// \u4e00\u5ea6\u306b1\u5217\u305a\u3064 [[\\\"2013\\\"],[435],[600]] \u3068\u3044\u3063\u305f\u914d\u5217\u3067\u5c4a\u304f\u5834\u5408\\n    // e.g. ws.on('message', ccchart.wscase.oneColAtAtime)\\n    var msgs = JSON.parse(msg.data);\\n\\t// \u5404\u30bb\u30f3\u30b5\u30fc\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u753b\u9762\u3078\u8868\u793a\\n\\tfor (var i = 0; i < msgs.length; i++) { console.log( i + \\\" = \\\" + msgs[i]); }\\n\\ttarget = document.getElementById(\\\"output1\\\");\\n\\ttarget.innerHTML = msgs[0];\\n\\ttarget = document.getElementById(\\\"output2\\\");\\n\\ttarget.innerHTML = msgs[1];\\n\\ttarget = document.getElementById(\\\"output3\\\");\\n\\ttarget.innerHTML = msgs[2];\\n\\ttarget = document.getElementById(\\\"output4\\\");\\n\\ttarget.innerHTML = msgs[3];\\n}\\n\\n</script>\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30bb\u30f3\u30b5\u30fc\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tIoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u8868\u793a\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t<canvas id=\\\"id123\\\"></canvas>\\n\\t\\t<h2>\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u30bb\u30f3\u30b5\u30fc\uff11\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span>\\n\\t\\t<h2>\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span>\\n\\t\\t<h2>\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u6a19\u6e96\u504f\u5dee\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span>\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; \\\">\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t\\t<div class=\\\"category\\\">\u8cc7\u6599\u30da\u30fc\u30b8</div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n\\n\\n\\t\\t\\t\\n<!---\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n\\t\\t<h3>h3 \u898b\u51fa\u3057</h3>\\n\\t\\t<p>\u30c6\u30ad\u30b9\u30c8\u3000\uff08\u7701\u7565\uff09</p>\\n--->\\n\\n</div>\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px;\\\">\\n\\tcopyright (c) abc.com All right reserved. \\n</div>\\n\\n\\t</body>\\n</html>\\n\",\"x\":300,\"y\":480,\"wires\":[[\"1e84eada.9e7035\"]]},{\"id\":\"46e3c36c.9fbc64\",\"type\":\"inject\",\"z\":\"b82d7fcb.a73958\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":260,\"wires\":[[]]},{\"id\":\"56226a7b.5927bc\",\"type\":\"inject\",\"z\":\"b82d7fcb.a73958\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":300,\"wires\":[[\"be56004d.1f1c78\"]]},{\"id\":\"696338dd.cff878\",\"type\":\"http in\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"url\":\"/test40\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":110,\"y\":480,\"wires\":[[\"a7d8276f.0b198\"]]},{\"id\":\"1e84eada.9e7035\",\"type\":\"http response\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"x\":490,\"y\":480,\"wires\":[]},{\"id\":\"26a0b136.cc6476\",\"type\":\"comment\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u53ef\u8996\u5316\",\"info\":\"\",\"x\":90,\"y\":440,\"wires\":[]},{\"id\":\"be56004d.1f1c78\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u914d\u5217\u306b\u683c\u7d0d\",\"func\":\"/*if (msg.payload.d.ambientLight ) {\\n    msg.sen1 = Math.round(msg.payload.d.ambientLight*100)/100;\u3000// Alps\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u6e29\u5ea6\u3092\u53d6\u5f97\\n} else {\\n    return 0;\\n}\\n*/\\nmsg.sen1 = Math.floor(Math.random () * 10) + 1;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\nif ( !context.global.array ) {\\n    context.global.array = new Array (10);\\n}\\nvar shifted = context.global.array.shift();\\n\\ncontext.global.array.push(msg.sen1);\\n\\nmsg.array = context.global.array;\\nmsg.length = context.global.array.length;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":270,\"y\":280,\"wires\":[[\"cc3d1348.dc0758\"]]},{\"id\":\"cc3d1348.dc0758\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u5e73\u5747\",\"func\":\"var sum = 0, average = 0;\\n    for (i=0; i<msg.length; i++) {\\n        sum = sum + msg.array[i];\\n}\\nmsg.sum = sum;\\naverage = sum / msg.length;\\nmsg.average = Math.round(average*100)/100;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":430,\"y\":280,\"wires\":[[\"a6b18687.ca6d5\",\"5563095.e6dc878\"]]},{\"id\":\"a6b18687.ca6d5\",\"type\":\"debug\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"average\",\"x\":550,\"y\":240,\"wires\":[]},{\"id\":\"5563095.e6dc878\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u5206\u6563\",\"func\":\"var variance = 0;\\nfor (i=0; i<msg.length; i++) {\\n    variance = variance + Math.pow(msg.array[i] - msg.average, 2);\\n}\\nvariance = variance / msg.length;\\nmsg.variance = Math.round(variance*100)/100;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":570,\"y\":280,\"wires\":[[\"2a869a6a.73e3a6\"]]},{\"id\":\"2a869a6a.73e3a6\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u6a19\u6e96\u504f\u5dee\",\"func\":\"var standard_deviation = 0;\\nstandard_deviation = Math.sqrt(msg.variance);\\nmsg.std = Math.round(standard_deviation*100)/100;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":260,\"y\":340,\"wires\":[[\"5043c9ff.86b608\",\"ef01efdc.e4535\"]]},{\"id\":\"5043c9ff.86b608\",\"type\":\"debug\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"active\":false,\"console\":\"false\",\"complete\":\"std\",\"x\":440,\"y\":380,\"wires\":[]},{\"id\":\"ef01efdc.e4535\",\"type\":\"function\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\u6642\u523b\u3092\u8a2d\u5b9a\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\n//average = sum / length;\\nvar data = [[time],[msg.sen1],[msg.average],[msg.std]];\\nmsg.payload = data;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":450,\"y\":340,\"wires\":[[\"9f156ff1.f937b\",\"c63f01cc.a45b4\"]]},{\"id\":\"9f156ff1.f937b\",\"type\":\"debug\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"false\",\"x\":630,\"y\":320,\"wires\":[]},{\"id\":\"c63f01cc.a45b4\",\"type\":\"websocket out\",\"z\":\"b82d7fcb.a73958\",\"name\":\"\",\"server\":\"aad83d48.43cde8\",\"client\":\"\",\"x\":670,\"y\":380,\"wires\":[]},{\"id\":\"cb8e5723.18e778\",\"type\":\"comment\",\"z\":\"b82d7fcb.a73958\",\"name\":\"IoT\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u5024\u3068\u76f4\u8fd1\uff11\uff10\u4ef6\u306e\u5e73\u5747\u5024\u3001\u6a19\u6e96\u504f\u5dee\u3092\u51fa\u529b\",\"info\":\"\",\"x\":260,\"y\":200,\"wires\":[]},{\"id\":\"aad83d48.43cde8\",\"type\":\"websocket-listener\",\"z\":\"b82d7fcb.a73958\",\"path\":\"/ws/flow40\",\"wholemsg\":\"false\"}]\n\n```\n\n1. \u524d\u9805\u306e\u30b5\u30f3\u30d7\u30eb\uff14\u306b\u52a0\u3048\u3066\u6a19\u6e96\u504f\u5dee\u3082\u51fa\u529b\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n2. [Node-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5](http://qiita.com/egplnt/items/84b244a50d8bdaced324)\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0a\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n3. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u5de6\u4e0a\u306e\u300c\uff11\u79d2\u6bce\u300d\u3068\u8868\u8a18\u3055\u308c\u305fInject\u30ce\u30fc\u30c9\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u958b\u3044\u3066\u9069\u5f53\u306a\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u8a2d\u5b9a\u3057\u3001\u30ce\u30fc\u30c9\u53f3\u5074\u304b\u3089\u7dda\u3092\u5f15\u304d\u51fa\u3057\u3066\u5f8c\u7d9a\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\uff08\u3053\u306e\u7dda\u306f\u5e38\u6642\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4ed8\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u30c6\u30b9\u30c8\u6642\u4ee5\u5916\u306f\u5207\u65ad\u3057\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u85a6\u3081\u3057\u307e\u3059\u3002\uff09\n4. \u4e0b\u6bb5\u306e\u300c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0IoT\u30bb\u30f3\u30b5\u30fc\u5024\u8868\u793a\u300d\u30d5\u30ed\u30fc\u3092\u78ba\u8a8d\u3057\u3001\u30aa\u30ec\u30f3\u30b8\u8272\u306e\u300cws\u7528html\u3092\u8fd4\u3059\u300d\u306e\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\uff14\uff13\u884c\u76ee\u306e`\t.ws('ws://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/ws/flow40')`\u306e\u30a2\u30d7\u30ea\u540d\u90e8\u5206\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n5. Node-RED\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30af\u30e9\u30a6\u30c9\u5074\u3078\u53cd\u6620\u3057\u307e\u3059\u3002\n6. \u30d6\u30e9\u30a6\u30b6\u306e\u65b0\u3057\u3044\u30bf\u30d6\u3092\u958b\u304d\u3001`IoT\u30a2\u30d7\u30ea\u540d.bluemix.net/test40`\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n7. \u4e0a\u6bb5\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u306e\u30d5\u30ed\u30fc\u306e\u300c\u518d\u8d77\u52d5\u300d\u3092\u62bc\u3057\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\u3055\u308c\u305f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u304cHTML\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n8. \u3046\u307e\u304f\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u4e0a\u6bb5\u306eIoT\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u3059\u308b\u30d5\u30ed\u30fc\u306ewebsocket\u51fa\u529b\u30ce\u30fc\u30c9\u3092\u4e00\u65e6\u524a\u9664\u3057\u3066\u3001\u753b\u9762\u5de6\u5074\u306e\u30d1\u30ec\u30c3\u30c8\u306eoutput\u30bb\u30af\u30b7\u30e7\u30f3\u304b\u3089websocket\u30ce\u30fc\u30c9\u3092\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u4f5c\u308a\u76f4\u3057\u3066\u307f\u307e\u3059\u3002\u51fa\u529bPath\u306f`/we/flow40`\u3068\u3057\u3066\u3042\u308a\u307e\u3059\uff08html\u5185\u306e\u6307\u5b9a\u3068\u6574\u5408\u3059\u308c\u3070\u4f55\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\uff09\u3002\n9. \u5fc5\u8981\u306b\u5fdc\u3058\u3001 \u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300d\u30ce\u30fc\u30c9\u5185\u306e\uff11\u884c\u76ee\u306e`var sampling_interval = 60;`\u306e\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u9593\u9694\u79d2\u6570\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\u307e\u305f\uff15\u884c\u76ee\u306e`context.array = new Array (10);`\u306e\u914d\u5217\uff08Array\uff09\u306e\u8981\u7d20\u6570\u3092\u5897\u6e1b\u3057\u3066\u76f4\u8fd1\u306e\u5e73\u5747\u5024\u3092\u7b97\u51fa\u3059\u308b\u5bfe\u8c61\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u6570\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-16 16.18.51.png](https://qiita-image-store.s3.amazonaws.com/0/125842/75c08c32-d6e6-0ca2-777a-62e4611618e3.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-16 16.25.06.png](https://qiita-image-store.s3.amazonaws.com/0/125842/22eada83-2ec4-a8df-3ed6-8cb533b1d8e9.png)\n\n", "tags": ["watsoniotplatform", "node-red", "IoT", "wiotp", "wiotp402"]}