{"context": "Facebook Messenger Platform \uff0b \u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0 \uff0b RapidSSL \uff0b PHP \u3067 BOT\u4f5c\u6210\n\u6e96\u5099\u304c\u6574\u3063\u305f\u306e\u3067\u5177\u4f53\u7684\u306bBOT\u3092\u4f5c\u3063\u3066\u307f\u305f\u2606\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\nhttps://github.com/okamura0510/Mizumisiki\n\nmizumisiki.php\n<?php\n// \u5b9a\u6570\ndefine('ACCESS_TOKEN', '***');\ndefine('APP_URL',      'https://***/');\ndefine('IMG_URL',      APP_URL.'img/');\n\n$title         = '\u5ff5\u306e\u7cfb\u7d71\u8a3a\u65ad';\n$image_url     = IMG_URL.'nen.jpg';\n$start_message = '\u3088\u304f\u6765\u305f\u306a\u3002\u5ff5\u306e\u7cfb\u7d71\u3092\u8abf\u3079\u3088\u3046\u3002';\n$start_choice  = '\u30b9\u30bf\u30fc\u30c8';\n$end_message   = '\u3042\u306a\u305f\u306f\u3010%s\u3011\u3067\u3059\uff01\uff01';\n$end_choise    = '\u3082\u30461\u5ea6\u8abf\u3079\u308b';\n$questions = array(\n    1 => array( '\u4f8b\u3048\u3070\u8ab0\u304b1\u4eba\u306e\u547d\u3068\u5f15\u304d\u63db\u3048\u306b\u4e16\u754c\u3092\u6551\u3048\u308b\u3068\u3057\u305f\u3089\uff1f', \n                '\u547d\u3092\u5dee\u3057\u51fa\u3059',\n                '\u8ab0\u304b\u3092\u72a0\u7272\u306b',\n                '\u5f85\u3063\u3066\u308b\u3060\u3051'\n         ),\n    2 => array( '\u65c5\u884c\u3059\u308b\u306a\u3089\u3069\u3053\u3078\u884c\u304d\u305f\u3044\uff1f', \n                '\u4eac\u90fd',\n                '\u30cf\u30ef\u30a4',\n                '\u5317\u6d77\u9053'\n         ),\n    3 => array( '\u304a\u524d\u306f\uff1f', \n                '\u7121\u529b',\n                '\u5e0c\u671b',\n                '\u30c8\u30ea\u30b3'\n         ),\n);\n$keitou = array('\u5f37\u5316\u7cfb' => 0, '\u653e\u51fa\u7cfb' => 0, '\u5909\u5316\u7cfb' => 0, '\u64cd\u4f5c\u7cfb' => 0, '\u5177\u73fe\u5316\u7cfb' => 0);\n$keitou_special = '\u7279\u8cea\u7cfb';\n\n// \u30d1\u30e9\u30e1\u30fc\u30bf\u53d6\u5f97\n$json = file_get_contents('php://input');\n$obj = json_decode($json);\n$messaging = $obj->entry{0}->messaging{0};\n$id = $messaging->sender->id;\n\n// \u30e6\u30fc\u30b6\u30e1\u30c3\u30bb\u30fc\u30b8\u304bpayload\u304c\u3042\u308b\u304b\uff1f\n$has_message = isset($messaging->message);\n$has_payload = isset($messaging->postback->payload);\nif(!$has_message && !$has_payload) {\n    exit;\n}\n\n// \u5ff5\u80fd\u529b\u8005\u304b\u5224\u5b9a\n$nen = (!$has_payload) ? $messaging->message->text : '';\nif(!$has_payload && $nen != '\u7e8f' && $nen != '\u7d76' && $nen != '\u7df4' && $nen != '\u767a') {\n    exit;\n}\n\n// \u554f\u984c\u756a\u53f7\u53d6\u5f97\n$payload = '';\n$question_no = 0;\nif($has_payload) {\n    $payload = $messaging->postback->payload;\n    $param = explode('_', $payload);\n    $question_no = $param[0];\n}\n\n// \u8a3a\u65ad\n$is_start = ($question_no == 0);\n$is_end = ($question_no == 4);\nif($is_start || $is_end) {\n    // \u30b9\u30bf\u30fc\u30c8 or \u7d50\u679c\n    $message = ($is_start) ? $start_message : $end_message;\n    if($is_end) {\n        // \u7d50\u679c\u306e\u5834\u5408\u306f\u7cfb\u7d71\u5224\u5b9a\n        // \u30dd\u30a4\u30f3\u30c8\u8a08\u7b97\n        $answers = explode('/', $payload);\n        for($i = 0; $i < 3; $i++) {\n            $param = explode('_', $answers[2 - $i]); // \u7b54\u3048\u306f\u9006\u9806\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\n            $no = $param[1];\n            if($i == 0) {\n                if($no == 1)      { $keitou['\u653e\u51fa\u7cfb']++; }\n                else if($no == 2) { $keitou['\u5909\u5316\u7cfb']++; }\n                else if($no == 3) { $keitou['\u5f37\u5316\u7cfb']++; }\n            } else if($i == 1) {\n                if($no == 1)      { $keitou['\u5177\u73fe\u5316\u7cfb']++; }\n                else if($no == 2) { $keitou['\u653e\u51fa\u7cfb']++; }\n                else if($no == 3) { $keitou['\u64cd\u4f5c\u7cfb']++; }\n            } else if($i == 2) {\n                if($no == 1)      { $keitou['\u5f37\u5316\u7cfb']++; }\n                else if($no == 2) { $keitou['\u5909\u5316\u7cfb']++; }\n                else if($no == 3) { $keitou['\u64cd\u4f5c\u7cfb']++; }\n            } \n        }\n\n        // \u6700\u5927\u30dd\u30a4\u30f3\u30c8\u7b97\u51fa\n        $max_point = 0;\n        $max_name = '';\n        foreach ($keitou as $name => $point) {\n            if($point > $max_point) {\n                $max_point = $point;\n                $max_name = $name;\n            }\n        }\n        if($max_point <= 1 && $keitou['\u5f37\u5316\u7cfb'] == 1 && $keitou['\u64cd\u4f5c\u7cfb'] == 1 && $keitou['\u5177\u73fe\u5316\u7cfb'] == 1) {\n            // \u5f37\u5316\u30fb\u64cd\u4f5c\u30fb\u5177\u73fe\u3092\u30d0\u30e9\u30f3\u30b9\u3088\u304f\u8eab\u306b\u7740\u3051\u3066\u3044\u308b\u5834\u5408\u306f\u7279\u8cea\u7cfb(\u30ab\u30ea\u30b9\u30de\u6027\u6709\u308a)\n            $max_name = $keitou_special;\n        }\n\n        // \u7cfb\u7d71\u78ba\u5b9a\n        $message = sprintf($message, $max_name);\n    }\n    $choice = ($is_start) ? $start_choice : $end_choise;\n    $payload = ($is_start) ? '1_0' : '0_0';\n    $post = <<< EOM\n    {\n        \"recipient\":{\n            \"id\":\"{$id}\"\n        },\n        \"message\":{\n            \"attachment\":{\n                \"type\":\"template\",\n                \"payload\":{\n                    \"template_type\":\"generic\",\n                    \"elements\":[\n                        {\n                            \"title\":\"{$title}\",\n                            \"image_url\":\"{$image_url}\",\n                            \"subtitle\":\"{$message}\",\n                            \"buttons\":[\n                                {\n                                    \"type\":\"postback\",\n                                    \"title\":\"{$choice}\",\n                                    \"payload\":\"{$payload}\"\n                                }\n                            ]\n                        },\n                    ]\n                }\n            }\n        }\n    }\nEOM;\n    api_send_request(ACCESS_TOKEN, $post);\n\n} else {\n    // \u8a3a\u65ad\u4e2d\n    $next_question_no = $question_no + 1;\n    $question = $questions[$question_no];\n    $post = <<< EOM\n    {\n        \"recipient\":{\n            \"id\":\"{$id}\"\n        },\n        \"message\":{\n            \"attachment\":{\n                \"type\":\"template\",\n                \"payload\":{\n                    \"template_type\":\"generic\",\n                    \"elements\":[\n                        {\n                            \"title\":\"{$title}\",\n                            \"image_url\":\"{$image_url}\",\n                            \"subtitle\":\"{$question[0]}\",\n                            \"buttons\":[\n                                {\n                                    \"type\":\"postback\",\n                                    \"title\":\"{$question[1]}\",\n                                    \"payload\":\"{$next_question_no}_1/{$payload}\"\n                                },\n                                {\n                                    \"type\":\"postback\",\n                                    \"title\":\"{$question[2]}\",\n                                    \"payload\":\"{$next_question_no}_2/{$payload}\"\n                                },\n                                {\n                                    \"type\":\"postback\",\n                                    \"title\":\"{$question[3]}\",\n                                    \"payload\":\"{$next_question_no}_3/{$payload}\"\n                                }\n                            ]\n                        },\n                    ]\n                }\n            }\n        }\n    }\nEOM;\n    api_send_request(ACCESS_TOKEN, $post);\n}\n\nfunction api_send_request($access_token, $post) {\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n            \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n\n\n\nBOT\n\n\u666e\u6bb5\u306f\u4f55\u3082\u8fd4\u7b54\u3057\u306a\u3044\u3002\n\u3000\n\n\u300c\u7e8f\u300d\u300c\u7d76\u300d\u300c\u7df4\u300d\u300c\u767a\u300d\u3092\u884c\u3046\u3068\u9053\u304c\u958b\u3051\u308b(\u5ff5\u80fd\u529b\u8005\u306e\u307f\u304c\u9032\u3081\u308b)\u3002\n\u3000\n\n\n\n3\u3064\u306e\u8cea\u554f\u306b3\u3064\u306e\u9078\u629e\u80a2\u304b\u3089\u7b54\u3048\u3092\u9078\u3076\u3002\n\u3000\n\n\u7cfb\u7d71\u304c\u5206\u304b\u308b\uff01\u30ec\u30a2\u30b1\u30fc\u30b9\u3068\u3057\u3066\u7279\u8cea\u7cfb\u306e\u5834\u5408\u3082\u3042\u308b(\u5929\u624d)\u3002\n\u3053\u308c\u3067\u3042\u306a\u305f\u3082\u30e1\u30e2\u30ea\u306e\u7121\u99c4\u9063\u3044\u306b\u306a\u3089\u305a\u306b\u6e08\u307f\u307e\u3059\u3002\n\n\u89e3\u8aac\n\nAPI\u306fGeneral template(\u753b\u50cf+\u30c6\u30ad\u30b9\u30c8\uff0b\u30dc\u30bf\u30f3)\n\u30dd\u30a4\u30f3\u30c8\u306f\u30dc\u30bf\u30f3\u30bf\u30a4\u30d7\u3092postback\u306b\u3059\u308b\u3053\u3068\u3067\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u308b\u70b9\u3002\u3053\u308c\u3067\u30c7\u30fc\u30bf\u306e\u53d7\u3051\u6e21\u3057\u304c\u53ef\u80fd\u3002\n\u8a66\u3057\u305f\u611f\u3058\u9577\u3044\u30c6\u30ad\u30b9\u30c8\u306f\u5165\u308c\u3089\u308c\u306a\u3044\u3002Facebook\u5074\u304c\u7c21\u6613\u306a\u3084\u308a\u53d6\u308a\u3092\u60f3\u5b9a\u3057\u3066\u308b\u3088\u3046(\u30dc\u30bf\u30f3\u3082\u6700\u59273\u3064)\n1\u30d5\u30a1\u30a4\u30eb\u3067\u8a18\u8ff0\u3057\u3066\u308b\u304c\u3001\u672c\u6765\u306f\u3061\u3083\u3093\u3068\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u308b\u3079\u304d(config\u3001class\u3001\u7b49)\n\n\n\u6700\u5f8c\u306b\n\u81ea\u5206\u306f\u5f37\u5316\u7cfb\u3060\u3063\u305f\u3002\n\nAuthor\nhttp://okamura0510.jp\n**[Facebook Messenger Platform \uff0b \u3055\u304f\u3089\u306e\u30ec\u30f3\u30bf\u30eb\u30b5\u30fc\u30d0 \uff0b RapidSSL \uff0b PHP \u3067 BOT\u4f5c\u6210](http://qiita.com/tempura/items/d72f3918bc55865f55c2)**\n\u6e96\u5099\u304c\u6574\u3063\u305f\u306e\u3067\u5177\u4f53\u7684\u306bBOT\u3092\u4f5c\u3063\u3066\u307f\u305f\u2606\n\n![IMG_0029.PNG](https://qiita-image-store.s3.amazonaws.com/0/96554/feffc08a-4c92-1888-1566-50aa0fda98e7.png)\n\n# \u30d7\u30ed\u30b0\u30e9\u30e0\n\n**https://github.com/okamura0510/Mizumisiki**\n\n```php:mizumisiki.php\n<?php\n// \u5b9a\u6570\ndefine('ACCESS_TOKEN', '***');\ndefine('APP_URL',      'https://***/');\ndefine('IMG_URL',      APP_URL.'img/');\n\n$title         = '\u5ff5\u306e\u7cfb\u7d71\u8a3a\u65ad';\n$image_url     = IMG_URL.'nen.jpg';\n$start_message = '\u3088\u304f\u6765\u305f\u306a\u3002\u5ff5\u306e\u7cfb\u7d71\u3092\u8abf\u3079\u3088\u3046\u3002';\n$start_choice  = '\u30b9\u30bf\u30fc\u30c8';\n$end_message   = '\u3042\u306a\u305f\u306f\u3010%s\u3011\u3067\u3059\uff01\uff01';\n$end_choise    = '\u3082\u30461\u5ea6\u8abf\u3079\u308b';\n$questions = array(\n    1 => array( '\u4f8b\u3048\u3070\u8ab0\u304b1\u4eba\u306e\u547d\u3068\u5f15\u304d\u63db\u3048\u306b\u4e16\u754c\u3092\u6551\u3048\u308b\u3068\u3057\u305f\u3089\uff1f', \n                '\u547d\u3092\u5dee\u3057\u51fa\u3059',\n                '\u8ab0\u304b\u3092\u72a0\u7272\u306b',\n                '\u5f85\u3063\u3066\u308b\u3060\u3051'\n         ),\n    2 => array( '\u65c5\u884c\u3059\u308b\u306a\u3089\u3069\u3053\u3078\u884c\u304d\u305f\u3044\uff1f', \n                '\u4eac\u90fd',\n                '\u30cf\u30ef\u30a4',\n                '\u5317\u6d77\u9053'\n         ),\n    3 => array( '\u304a\u524d\u306f\uff1f', \n                '\u7121\u529b',\n                '\u5e0c\u671b',\n                '\u30c8\u30ea\u30b3'\n         ),\n);\n$keitou = array('\u5f37\u5316\u7cfb' => 0, '\u653e\u51fa\u7cfb' => 0, '\u5909\u5316\u7cfb' => 0, '\u64cd\u4f5c\u7cfb' => 0, '\u5177\u73fe\u5316\u7cfb' => 0);\n$keitou_special = '\u7279\u8cea\u7cfb';\n\n// \u30d1\u30e9\u30e1\u30fc\u30bf\u53d6\u5f97\n$json = file_get_contents('php://input');\n$obj = json_decode($json);\n$messaging = $obj->entry{0}->messaging{0};\n$id = $messaging->sender->id;\n\n// \u30e6\u30fc\u30b6\u30e1\u30c3\u30bb\u30fc\u30b8\u304bpayload\u304c\u3042\u308b\u304b\uff1f\n$has_message = isset($messaging->message);\n$has_payload = isset($messaging->postback->payload);\nif(!$has_message && !$has_payload) {\n\texit;\n}\n\n// \u5ff5\u80fd\u529b\u8005\u304b\u5224\u5b9a\n$nen = (!$has_payload) ? $messaging->message->text : '';\nif(!$has_payload && $nen != '\u7e8f' && $nen != '\u7d76' && $nen != '\u7df4' && $nen != '\u767a') {\n\texit;\n}\n\n// \u554f\u984c\u756a\u53f7\u53d6\u5f97\n$payload = '';\n$question_no = 0;\nif($has_payload) {\n\t$payload = $messaging->postback->payload;\n\t$param = explode('_', $payload);\n\t$question_no = $param[0];\n}\n\n// \u8a3a\u65ad\n$is_start = ($question_no == 0);\n$is_end = ($question_no == 4);\nif($is_start || $is_end) {\n\t// \u30b9\u30bf\u30fc\u30c8 or \u7d50\u679c\n\t$message = ($is_start) ? $start_message : $end_message;\n\tif($is_end) {\n\t\t// \u7d50\u679c\u306e\u5834\u5408\u306f\u7cfb\u7d71\u5224\u5b9a\n\t\t// \u30dd\u30a4\u30f3\u30c8\u8a08\u7b97\n\t\t$answers = explode('/', $payload);\n\t\tfor($i = 0; $i < 3; $i++) {\n\t\t\t$param = explode('_', $answers[2 - $i]); // \u7b54\u3048\u306f\u9006\u9806\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\n\t\t\t$no = $param[1];\n\t\t\tif($i == 0) {\n\t\t\t\tif($no == 1)      { $keitou['\u653e\u51fa\u7cfb']++; }\n\t\t\t\telse if($no == 2) { $keitou['\u5909\u5316\u7cfb']++; }\n\t\t\t\telse if($no == 3) { $keitou['\u5f37\u5316\u7cfb']++; }\n\t\t\t} else if($i == 1) {\n\t\t\t\tif($no == 1)      { $keitou['\u5177\u73fe\u5316\u7cfb']++; }\n\t\t\t\telse if($no == 2) { $keitou['\u653e\u51fa\u7cfb']++; }\n\t\t\t\telse if($no == 3) { $keitou['\u64cd\u4f5c\u7cfb']++; }\n\t\t\t} else if($i == 2) {\n\t\t\t\tif($no == 1)      { $keitou['\u5f37\u5316\u7cfb']++; }\n\t\t\t\telse if($no == 2) { $keitou['\u5909\u5316\u7cfb']++; }\n\t\t\t\telse if($no == 3) { $keitou['\u64cd\u4f5c\u7cfb']++; }\n\t\t\t} \n\t\t}\n\t\t\n\t\t// \u6700\u5927\u30dd\u30a4\u30f3\u30c8\u7b97\u51fa\n\t\t$max_point = 0;\n\t\t$max_name = '';\n\t\tforeach ($keitou as $name => $point) {\n\t\t\tif($point > $max_point) {\n\t\t\t\t$max_point = $point;\n\t\t\t\t$max_name = $name;\n\t\t\t}\n\t\t}\n\t\tif($max_point <= 1 && $keitou['\u5f37\u5316\u7cfb'] == 1 && $keitou['\u64cd\u4f5c\u7cfb'] == 1 && $keitou['\u5177\u73fe\u5316\u7cfb'] == 1) {\n\t\t\t// \u5f37\u5316\u30fb\u64cd\u4f5c\u30fb\u5177\u73fe\u3092\u30d0\u30e9\u30f3\u30b9\u3088\u304f\u8eab\u306b\u7740\u3051\u3066\u3044\u308b\u5834\u5408\u306f\u7279\u8cea\u7cfb(\u30ab\u30ea\u30b9\u30de\u6027\u6709\u308a)\n\t\t\t$max_name = $keitou_special;\n\t\t}\n\t\t\n\t\t// \u7cfb\u7d71\u78ba\u5b9a\n\t\t$message = sprintf($message, $max_name);\n\t}\n\t$choice = ($is_start) ? $start_choice : $end_choise;\n\t$payload = ($is_start) ? '1_0' : '0_0';\n\t$post = <<< EOM\n\t{\n\t    \"recipient\":{\n\t        \"id\":\"{$id}\"\n\t    },\n\t    \"message\":{\n\t        \"attachment\":{\n\t            \"type\":\"template\",\n\t            \"payload\":{\n\t                \"template_type\":\"generic\",\n\t                \"elements\":[\n\t                    {\n\t                        \"title\":\"{$title}\",\n\t                        \"image_url\":\"{$image_url}\",\n\t                        \"subtitle\":\"{$message}\",\n\t                        \"buttons\":[\n\t                            {\n\t                                \"type\":\"postback\",\n\t                                \"title\":\"{$choice}\",\n\t                                \"payload\":\"{$payload}\"\n\t                            }\n\t                        ]\n\t                    },\n\t                ]\n\t            }\n\t        }\n\t    }\n\t}\nEOM;\n\tapi_send_request(ACCESS_TOKEN, $post);\n\t\n} else {\n\t// \u8a3a\u65ad\u4e2d\n\t$next_question_no = $question_no + 1;\n\t$question = $questions[$question_no];\n\t$post = <<< EOM\n\t{\n\t    \"recipient\":{\n\t        \"id\":\"{$id}\"\n\t    },\n\t    \"message\":{\n\t        \"attachment\":{\n\t            \"type\":\"template\",\n\t            \"payload\":{\n\t                \"template_type\":\"generic\",\n\t                \"elements\":[\n\t                    {\n\t                        \"title\":\"{$title}\",\n\t                        \"image_url\":\"{$image_url}\",\n\t                        \"subtitle\":\"{$question[0]}\",\n\t                        \"buttons\":[\n\t                            {\n\t                                \"type\":\"postback\",\n\t                                \"title\":\"{$question[1]}\",\n\t                                \"payload\":\"{$next_question_no}_1/{$payload}\"\n\t                            },\n\t                            {\n\t                                \"type\":\"postback\",\n\t                                \"title\":\"{$question[2]}\",\n\t                                \"payload\":\"{$next_question_no}_2/{$payload}\"\n\t                            },\n\t                            {\n\t                                \"type\":\"postback\",\n\t                                \"title\":\"{$question[3]}\",\n\t                                \"payload\":\"{$next_question_no}_3/{$payload}\"\n\t                            }\n\t                        ]\n\t                    },\n\t                ]\n\t            }\n\t        }\n\t    }\n\t}\nEOM;\n\tapi_send_request(ACCESS_TOKEN, $post);\n}\n\nfunction api_send_request($access_token, $post) {\n\t$url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n\t$headers = array(\n\t\t\t\"Content-Type: application/json\"\n\t);\n\n\t$curl = curl_init($url);\n\tcurl_setopt($curl, CURLOPT_POST, true);\n\tcurl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n\tcurl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n\tcurl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n\tcurl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n\t$output = curl_exec($curl);\n}\n```\n\n# BOT\n<img width=\"320\" alt=\"IMG_0028.PNG\" src=\"https://qiita-image-store.s3.amazonaws.com/0/96554/5261a918-e2d2-d56a-c753-3b39178f6fef.png\">\n\u666e\u6bb5\u306f\u4f55\u3082\u8fd4\u7b54\u3057\u306a\u3044\u3002\n\n\u3000\n<img width=\"320\" alt=\"IMG_0029.PNG\" src=\"https://qiita-image-store.s3.amazonaws.com/0/96554/0da36f8d-db6a-5dbb-19d9-ca1a6bd71252.png\">\n\u300c\u7e8f\u300d\u300c\u7d76\u300d\u300c\u7df4\u300d\u300c\u767a\u300d\u3092\u884c\u3046\u3068\u9053\u304c\u958b\u3051\u308b(\u5ff5\u80fd\u529b\u8005\u306e\u307f\u304c\u9032\u3081\u308b)\u3002\n\n\u3000\n<img width=\"320\" alt=\"IMG_0030.PNG\" src=\"https://qiita-image-store.s3.amazonaws.com/0/96554/a0dab6d0-e236-fae0-182a-404343b2fc37.png\">\n\n<img width=\"320\" alt=\"IMG_0031.PNG\" src=\"https://qiita-image-store.s3.amazonaws.com/0/96554/7d4fd11a-1df0-0147-d625-0b073851332e.png\">\n\n<img width=\"320\" alt=\"IMG_0032.PNG\" src=\"https://qiita-image-store.s3.amazonaws.com/0/96554/c04ff8c3-0db7-90ce-9996-f244c7c61152.png\">\n3\u3064\u306e\u8cea\u554f\u306b3\u3064\u306e\u9078\u629e\u80a2\u304b\u3089\u7b54\u3048\u3092\u9078\u3076\u3002\n\n\u3000\n<img width=\"320\" alt=\"IMG_0034.PNG\" src=\"https://qiita-image-store.s3.amazonaws.com/0/96554/6b68bca2-6029-2a75-8547-711bc72d7005.png\">\n\u7cfb\u7d71\u304c\u5206\u304b\u308b\uff01\u30ec\u30a2\u30b1\u30fc\u30b9\u3068\u3057\u3066\u7279\u8cea\u7cfb\u306e\u5834\u5408\u3082\u3042\u308b(\u5929\u624d)\u3002\n\u3053\u308c\u3067\u3042\u306a\u305f\u3082\u30e1\u30e2\u30ea\u306e\u7121\u99c4\u9063\u3044\u306b\u306a\u3089\u305a\u306b\u6e08\u307f\u307e\u3059\u3002\n\n# \u89e3\u8aac\n- API\u306fGeneral template(\u753b\u50cf+\u30c6\u30ad\u30b9\u30c8\uff0b\u30dc\u30bf\u30f3)\n- \u30dd\u30a4\u30f3\u30c8\u306f\u30dc\u30bf\u30f3\u30bf\u30a4\u30d7\u3092`postback`\u306b\u3059\u308b\u3053\u3068\u3067\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u308b\u70b9\u3002\u3053\u308c\u3067\u30c7\u30fc\u30bf\u306e\u53d7\u3051\u6e21\u3057\u304c\u53ef\u80fd\u3002\n- \u8a66\u3057\u305f\u611f\u3058\u9577\u3044\u30c6\u30ad\u30b9\u30c8\u306f\u5165\u308c\u3089\u308c\u306a\u3044\u3002Facebook\u5074\u304c\u7c21\u6613\u306a\u3084\u308a\u53d6\u308a\u3092\u60f3\u5b9a\u3057\u3066\u308b\u3088\u3046(\u30dc\u30bf\u30f3\u3082\u6700\u59273\u3064)\n- 1\u30d5\u30a1\u30a4\u30eb\u3067\u8a18\u8ff0\u3057\u3066\u308b\u304c\u3001\u672c\u6765\u306f\u3061\u3083\u3093\u3068\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u308b\u3079\u304d(config\u3001class\u3001\u7b49)\n\n# \u6700\u5f8c\u306b\n\u81ea\u5206\u306f\u5f37\u5316\u7cfb\u3060\u3063\u305f\u3002\n\n# Author\n**http://okamura0510.jp**\n", "tags": ["Facebook", "PHP", "bot", "\u30cf\u30f3\u30bf\u30fc\u30cf\u30f3\u30bf\u30fc", "\u5ff5"]}