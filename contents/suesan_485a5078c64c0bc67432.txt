{"context": " More than 1 year has passed since last update.\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n>$ cpanm install Log::Minimal\n\n\n\u30ed\u30b0\u30ec\u30d9\u30eb\n\n\n\n\u30ec\u30d9\u30eb\n\u5bfe\u8c61\u8005\n\u5185\u5bb9\n\n\n\n\ndebug\n\u958b\u767a\u8005\n\u958b\u767a\u4e2d\u306e\u30c7\u30d0\u30c3\u30b0\u7528\u51fa\u529b\u3002\u5546\u7528\u74b0\u5883\u3067\u306f\u51fa\u529b\u3057\u306a\u3044\u3002\n\n\ninfo\n\u958b\u767a\u8005\n\u958b\u767a\u8005\u304c\u904b\u7528\u4e2d\u306b\u8abf\u67fb\u7b49\u3067\u53c2\u7167\u3059\u308b\u60c5\u5831\u3002\u4e0d\u5177\u5408\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306e\u624b\u304c\u304b\u308a\u306b\u4f7f\u7528\u3002\n\n\nwarn\n\u904b\u7528\u8005/\u958b\u767a\u8005\n\u904b\u7528\u4e2d\u306b\u767a\u751f\u3057\u305f\u30b7\u30b9\u30c6\u30e0\u306b\u95a2\u3059\u308b\u554f\u984c\u3002\u76f4\u3061\u306b\u306f\u554f\u984c\u304c\u306a\u3044\u72b6\u614b\u3002\n\n\ncritical\n\u904b\u7528\u8005/\u958b\u767a\u8005\n\u30b5\u30fc\u30d3\u30b9\u304c\u7d99\u7d9a\u3067\u304d\u306a\u3044\u969c\u5bb3\u3002\u539f\u56e0\u7a76\u660e\u306e\u60c5\u5831\n\n\n\n\n\u8868\u793a\u4f8b\n\nlog.test.pl\nuse Log::Minimal;\n\n# \u30c7\u30d0\u30c3\u30b0\u3092\u51fa\u529b\u3059\u308b\u5834\u5408\uff1a1\n$ENV{LM_DEBUG} = 1;\n\ndebugf( '\u30c7\u30d0\u30c3\u30b0\u30ec\u30d9\u30eb\u51fa\u529b\u3055\u308c\u308b.' ); # $ENV{LM_DEBUG} \u304ctrue\u306e\u5834\u5408\u51fa\u529b\u3055\u308c\u308b\ninfof( '\u30a4\u30f3\u30d5\u30a9\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\nwarnf( '\u30ef\u30fc\u30cb\u30f3\u30b0\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\ncritf( '\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\n\n# \u30d5\u30eb\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u3059\u308b\u5834\u5408\ndebugff( '\u30c7\u30d0\u30c3\u30b0\u30ec\u30d9\u30eb\u51fa\u529b\u3055\u308c\u308b.' ); # $ENV{LM_DEBUG} \u304ctrue\u306e\u5834\u5408\u51fa\u529b\u3055\u308c\u308b\ninfoff( '\u30a4\u30f3\u30d5\u30a9\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\nwarnff( '\u30ef\u30fc\u30cb\u30f3\u30b0\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\ncritff( '\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' ); \n\n# \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\ndebugf( 'This is %s', 'debug log.' ); # $ENV{LM_DEBUG} \u304ctrue\u306e\u5834\u5408\u51fa\u529b\u3055\u308c\u308b\ninfof( 'This is %s', 'information log.' );\nwarnf( 'This is %s', 'warning log.' );\ncritf( 'This is %s', 'critical log. ' );\n\n\n\n\n\u5b9f\u884c\u7d50\u679c\n2015-04-24T00:11:32 [DEBUG] \u30c7\u30d0\u30c3\u30b0\u30ec\u30d9\u30eb\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 6\n2015-04-24T00:11:32 [INFO] \u30a4\u30f3\u30d5\u30a9\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 7\n2015-04-24T00:11:32 [WARN] \u30ef\u30fc\u30cb\u30f3\u30b0\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 8\n2015-04-24T00:11:32 [CRITICAL] \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 9\n2015-04-24T00:11:32 [DEBUG] \u30c7\u30d0\u30c3\u30b0\u30ec\u30d9\u30eb\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 12\n2015-04-24T00:11:32 [INFO] \u30a4\u30f3\u30d5\u30a9\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 13\n2015-04-24T00:11:32 [WARN] \u30ef\u30fc\u30cb\u30f3\u30b0\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 14\n2015-04-24T00:11:32 [CRITICAL] \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 15\n2015-04-24T00:11:32 [DEBUG] This is debug log. at log.test.pl line 18\n2015-04-24T00:11:32 [INFO] This is information log. at log.test.pl line 19\n2015-04-24T00:11:32 [WARN] This is warning log. at log.test.pl line 20\n2015-04-24T00:11:32 [CRITICAL] This is critical log.   at log.test.pl line 21\n\n\n\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\n\nlog.test.pl\nuse Log::Minimal;\n\nmy $info = {\n    id   => 100,\n    name => 'user_name',\n    mail => 'mail_address'\n};\nlocal $Log::Minimal::AUTODUMP = 1;\ninfof( 'info:%s', $info );\n\n\n\n\u5b9f\u884c\u7d50\u679c\n2015-04-21T23:59:59 [INFO] info:{'id' => 100,'mail' => 'mail_address','name' => 'user_name'} at log.test.pl line 9\n\n\n\u30ed\u30b0\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u5909\u66f4\n\nlog.formatter.pm\npackage Log::Minimal;\n\n$Log::Minimal::PRINT = sub {\n    my ( $time, $type, $message, $trace, $raw_message ) = @_;\n    print \"$time \", ( $FORMAT->{$type}||\"[$type] - \" ), \" $message at $trace\\n\";\n};\n\n1;\n\n\n\n\nlog.test.pl\nuse Log::Minimal;\n\nrequire './log.formatter.pm';\n\ninfof( \"\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5909\u66f4\u3057\u305f\u3088\" );\n\n};\n\n\n\n\u5b9f\u884c\u7d50\u679c\n2015-04-24T00:06:01 [INFO] -  \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5909\u66f4\u3057\u305f\u3088 at test.log2.pl line 5\n\n\n\u30ed\u30b0\u51fa\u529b\u5148\u306e\u5909\u66f4\n\noutput.pm\npackage Log::Minimal;\n\nmy $fh;\n\nopen ( $fh, '>>', 'application.log' );\nlocal $SIG{ HUP } = sub {\n    undef $fh;\n    open ( $fh, '>>', 'application.log' );\n};\n\n$Log::Minimal::PRINT = sub {\n    my ( $time, $type, $message, $trace, $raw_message ) = @_;\n    print $fh \"$time \", ( $FORMAT->{$type}||\"[$type] - \" ), \" $message at $trace\\n\";\n};\n\n1;\n\n\n\ntest.pl\nuse Log::Minimal;\n\nrequire './output.pm';\n\ninfof(\"\u51fa\u529b\u5148\u5909\u66f4\");\n\n\n\napplication.log\n2015-04-24T00:30:47 [INFO] -  \u51fa\u529b\u5148\u5909\u66f4 at test.pl line 5\n\n\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n<pre>\n>$ cpanm install Log::Minimal\n</pre>\n\n\n## \u30ed\u30b0\u30ec\u30d9\u30eb\n\n|\u30ec\u30d9\u30eb    |\u5bfe\u8c61\u8005       |\u5185\u5bb9|\n|:--------|:-----------|:--|\n|debug    |\u958b\u767a\u8005       |\u958b\u767a\u4e2d\u306e\u30c7\u30d0\u30c3\u30b0\u7528\u51fa\u529b\u3002\u5546\u7528\u74b0\u5883\u3067\u306f\u51fa\u529b\u3057\u306a\u3044\u3002|\n|info     |\u958b\u767a\u8005       |\u958b\u767a\u8005\u304c\u904b\u7528\u4e2d\u306b\u8abf\u67fb\u7b49\u3067\u53c2\u7167\u3059\u308b\u60c5\u5831\u3002\u4e0d\u5177\u5408\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306e\u624b\u304c\u304b\u308a\u306b\u4f7f\u7528\u3002|\n|warn     |\u904b\u7528\u8005/\u958b\u767a\u8005 |\u904b\u7528\u4e2d\u306b\u767a\u751f\u3057\u305f\u30b7\u30b9\u30c6\u30e0\u306b\u95a2\u3059\u308b\u554f\u984c\u3002\u76f4\u3061\u306b\u306f\u554f\u984c\u304c\u306a\u3044\u72b6\u614b\u3002|\n|critical |\u904b\u7528\u8005/\u958b\u767a\u8005 |\u30b5\u30fc\u30d3\u30b9\u304c\u7d99\u7d9a\u3067\u304d\u306a\u3044\u969c\u5bb3\u3002\u539f\u56e0\u7a76\u660e\u306e\u60c5\u5831|\u3002\n\n## \u8868\u793a\u4f8b\n``` perl:log.test.pl\nuse Log::Minimal;\n\n# \u30c7\u30d0\u30c3\u30b0\u3092\u51fa\u529b\u3059\u308b\u5834\u5408\uff1a1\n$ENV{LM_DEBUG} = 1;\n\ndebugf( '\u30c7\u30d0\u30c3\u30b0\u30ec\u30d9\u30eb\u51fa\u529b\u3055\u308c\u308b.' ); # $ENV{LM_DEBUG} \u304ctrue\u306e\u5834\u5408\u51fa\u529b\u3055\u308c\u308b\ninfof( '\u30a4\u30f3\u30d5\u30a9\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\nwarnf( '\u30ef\u30fc\u30cb\u30f3\u30b0\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\ncritf( '\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\n\n# \u30d5\u30eb\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u3092\u3059\u308b\u5834\u5408\ndebugff( '\u30c7\u30d0\u30c3\u30b0\u30ec\u30d9\u30eb\u51fa\u529b\u3055\u308c\u308b.' ); # $ENV{LM_DEBUG} \u304ctrue\u306e\u5834\u5408\u51fa\u529b\u3055\u308c\u308b\ninfoff( '\u30a4\u30f3\u30d5\u30a9\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\nwarnff( '\u30ef\u30fc\u30cb\u30f3\u30b0\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\ncritff( '\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b.' );\t\n\n# \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408\ndebugf( 'This is %s', 'debug log.' ); # $ENV{LM_DEBUG} \u304ctrue\u306e\u5834\u5408\u51fa\u529b\u3055\u308c\u308b\ninfof( 'This is %s', 'information log.' );\nwarnf( 'This is %s', 'warning log.' );\ncritf( 'This is %s', 'critical log.\t' );\n\n```\n\n#### \u5b9f\u884c\u7d50\u679c\n<pre>\n2015-04-24T00:11:32 [DEBUG] \u30c7\u30d0\u30c3\u30b0\u30ec\u30d9\u30eb\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 6\n2015-04-24T00:11:32 [INFO] \u30a4\u30f3\u30d5\u30a9\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 7\n2015-04-24T00:11:32 [WARN] \u30ef\u30fc\u30cb\u30f3\u30b0\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 8\n2015-04-24T00:11:32 [CRITICAL] \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 9\n2015-04-24T00:11:32 [DEBUG] \u30c7\u30d0\u30c3\u30b0\u30ec\u30d9\u30eb\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 12\n2015-04-24T00:11:32 [INFO] \u30a4\u30f3\u30d5\u30a9\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 13\n2015-04-24T00:11:32 [WARN] \u30ef\u30fc\u30cb\u30f3\u30b0\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 14\n2015-04-24T00:11:32 [CRITICAL] \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30ec\u30d9\u30eb\u304c\u51fa\u529b\u3055\u308c\u308b. at log.test.pl line 15\n2015-04-24T00:11:32 [DEBUG] This is debug log. at log.test.pl line 18\n2015-04-24T00:11:32 [INFO] This is information log. at log.test.pl line 19\n2015-04-24T00:11:32 [WARN] This is warning log. at log.test.pl line 20\n2015-04-24T00:11:32 [CRITICAL] This is critical log.   at log.test.pl line 21\n</pre>\n\n### \u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\n``` perl:log.test.pl\nuse Log::Minimal;\n\nmy $info = {\n\tid   => 100,\n\tname => 'user_name',\n\tmail => 'mail_address'\n};\nlocal $Log::Minimal::AUTODUMP = 1;\ninfof( 'info:%s', $info );\n```\n#### \u5b9f\u884c\u7d50\u679c\n<pre>\n2015-04-21T23:59:59 [INFO] info:{'id' => 100,'mail' => 'mail_address','name' => 'user_name'} at log.test.pl line 9\n</pre>\n\n### \u30ed\u30b0\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u5909\u66f4\n```perl:log.formatter.pm\npackage Log::Minimal;\n\n$Log::Minimal::PRINT = sub {\n\tmy ( $time, $type, $message, $trace, $raw_message ) = @_;\n\tprint \"$time \", ( $FORMAT->{$type}||\"[$type] - \" ), \" $message at $trace\\n\";\n};\n\n1;\n\n```\n\n```perl:log.test.pl\nuse Log::Minimal;\n\nrequire './log.formatter.pm';\n\ninfof( \"\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5909\u66f4\u3057\u305f\u3088\" );\n\n};\n```\n#### \u5b9f\u884c\u7d50\u679c\n<pre>\n2015-04-24T00:06:01 [INFO] -  \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u5909\u66f4\u3057\u305f\u3088 at test.log2.pl line 5\n</pre>\n\n### \u30ed\u30b0\u51fa\u529b\u5148\u306e\u5909\u66f4\n```perl:output.pm\npackage Log::Minimal;\n\nmy $fh;\n\nopen ( $fh, '>>', 'application.log' );\nlocal $SIG{ HUP } = sub {\n\tundef $fh;\n\topen ( $fh, '>>', 'application.log' );\n};\n\n$Log::Minimal::PRINT = sub {\n\tmy ( $time, $type, $message, $trace, $raw_message ) = @_;\n\tprint $fh \"$time \", ( $FORMAT->{$type}||\"[$type] - \" ), \" $message at $trace\\n\";\n};\n\n1;\n```\n\n```perl:test.pl\nuse Log::Minimal;\n\nrequire './output.pm';\n\ninfof(\"\u51fa\u529b\u5148\u5909\u66f4\");\n```\n```log:application.log\n2015-04-24T00:30:47 [INFO] -  \u51fa\u529b\u5148\u5909\u66f4 at test.pl line 5\n```\n\n", "tags": ["log", "Perl"]}