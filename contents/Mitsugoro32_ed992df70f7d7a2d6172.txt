{"context": "Siv3D Advent Calendar 2016 22\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u307e\u3048\u304a\u304d\n\n\u4eca\u5e74\u81ea\u5206\u306f\u521d\u3081\u3066\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30b2\u30fc\u30e0\u3092\u3064\u304f\u308a\u307e\u3057\u305f\u3002\u305d\u308c\u304c\u300c\u306a\u304c\u308c\u307c\u30b7\u30e5\u30fc\u300d\u3067\u3059\u3002\n\u4e8b\u306e\u767a\u7aef\u306f\u30019\u6708\u306b\u30a6\u30c7\u30a3\u30bf(Wolf RPG \u30a8\u30c7\u30a3\u30bf\u30fc)\u3092\u4f7f\u3063\u3066\u3044\u308b\u30af\u30ea\u30a8\u30a4\u30bf\u30fc\u306e\u3074\u3051\u3055\u3093\u304c\u4e3b\u50ac\u3059\u308b\u3001\u7b2c6\u56de\u3074\u3051\u30b3\u30f3\u306b\u53c2\u52a0\u3057\u305f\u3053\u3068\u304c\u30ad\u30c3\u30ab\u30b1\u3067\u3057\u305f\u3002\u3074\u3051\u30b3\u30f3\u306f\u3001\u4e0d\u5b9a\u671f\u306b\u958b\u50ac\u3055\u308c\u308b\u305f\u3063\u305f3\u6642\u9593\u3067\u30b2\u30fc\u30e0\u5236\u4f5c\u3059\u308b\u30a4\u30d9\u30f3\u30c8\u3067\u3059\u3002\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u884c\u308f\u308c\u308b\u3082\u306e\u3067\u3001\u30a6\u30c7\u30a3\u30bf\u4f7f\u3044\u3067\u306a\u3044\u4eba\u3082\u53c2\u52a0\u3067\u304d\u307e\u3059\u3002\n\u304a\u984c\u304c\u300c\u6d41\u308c\u300d\u3060\u3063\u305f\u306e\u3067\u3001\u6d41\u308c\u661f\u304c\u771f\u3063\u5148\u306b\u6d6e\u304b\u3073\u6d41\u308c\u661f\u306e\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30fb\u30fb\u30fb\u3068\u3044\u3046\u767a\u60f3\u3067\u3067\u304d\u307e\u3057\u305f\u3002\n3\u6642\u9593\u3067\u306f\u81ea\u6a5f\u3068\u6575\u304c\u5f3e\u3092\u767a\u5c04\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u3057\u304b\u3067\u304d\u306a\u304b\u3063\u305f\u3002\n\u305d\u306e\u5f8c\u30012\u9031\u9593\u304b\u3051\u3066\u5b8c\u5168\u306a\u5f62\u306b\u4ed5\u4e0a\u3052\u307e\u3057\u305f\u3002\u30b9\u30c6\u30fc\u30b8\u3092\u8ffd\u52a0\u3057\u3001\u6575\u306e\u653b\u6483\u30d1\u30bf\u30fc\u30f3\u309235\u7a2e(+10)\u3001\u96e3\u6613\u5ea6\u306f2\u6bb5\u968e\u306a\u306e\u3067\u305d\u306e2\u500d\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u5f3e\u306e\u51fa\u73fe\u3084\u79fb\u52d5\u51e6\u7406\u306b\u3064\u3044\u3066\u306f\u3042\u308b\u7a0b\u5ea6\u4f7f\u3044\u307e\u308f\u3057\u304c\u52b9\u304f\u3088\u3046\u306b\u8a2d\u8a08\u3057\u307e\u3057\u305f\u3002\n\u5b8c\u6210\u3057\u305f\u3082\u306e\u306f\u3053\u3053\u306b\u3042\u308a\u307e\u3059\u3002\u6311\u6226\u3057\u3066\u307f\u3066\u306d\u3002\n\u524d\u7f6e\u304d\u304c\u9577\u304f\u306a\u308a\u307e\u3057\u305f\u304c\u3001\u3069\u3093\u306a\u3075\u3046\u306b\u5f3e\u3092\u51fa\u73fe\u3055\u305b\u3066\u3044\u308b\u304b\u3092\u3053\u308c\u304b\u3089\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f\u6575\u5f3e\u3001\u3044\u308f\u3086\u308b\u5f3e\u5e55\u3063\u307d\u3044\u306a\u306b\u304b\u3001\u306e\u4f5c\u308a\u65b9\u3092\u30e1\u30a4\u30f3\u306b\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002Siv3D\u88fdSTG\u306e\u4f5c\u308a\u65b9\u306e\u57fa\u672c\uff08\u81ea\u6a5f\u306e\u5b9f\u88c5\u3084\u3042\u305f\u308a\u5224\u5b9a\u306a\u3069\uff09\u306f\u4ed6\u306eQiita\u8a18\u4e8b\u7b49\u3082\u3042\u308b\u306e\u3067\u3001\u4e00\u90e8\u7701\u7565\u3057\u307e\u3059\u3002\n\n\u307b\u3093\u3060\u3044\u30fb\u57fa\u672c\u69cb\u9020\n\n\u30af\u30e9\u30b9\u4f5c\u6210\n\u5f3e\u306f\u30af\u30e9\u30b9\u5206\u3051\u3067Bullet\u30af\u30e9\u30b9\u3067\u3082\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u3053\u3093\u306a\u98a8\u306b\u4f5c\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u305f\u307e\u30af\u30e9\u30b9\n\nclass Bullet {\nprivate:\n    int32 type; // \u305f\u307e\u306e\u7a2e\u985e\n    Vec2 pos;   // \u305f\u307e\u306e\u4f4d\u7f6e\n    Circle hit; // \u3042\u305f\u308a\u5224\u5b9a\n    Vec2 target;    // \u9032\u884c\u76ee\u6a19\n    Vec2 direction; // \u5f3e\u306e\u79fb\u52d5\u65b9\u5411\uff08\u79fb\u52d5\u30b9\u30d4\u30fc\u30c9\uff09\n    Color col;  // \u305f\u307e\u306e\u8272\uff08\u3053\u3053\u3067\u306fColor\u306e\u4e57\u7b97\u3092\u4f7f\u7528\u3057\u3066\u8272\u4ed8\u3051\u3057\u3066\u3044\u308b\uff09\n    int32 clearFlag;    // \u5f3e\u304c\u6d88\u6ec5\u3059\u308b\u30d5\u30e9\u30b0\n    int32 hitDamage;    // \u5f53\u305f\u3063\u305f\u6642\u306e\u30c0\u30e1\u30fc\u30b8\u91cf\n    int32 timer;    // \u30bf\u30a4\u30de\u30fc\uff08N\u30d5\u30ec\u30fc\u30e0\u5f8c\u306b\u79fb\u52d5\u65b9\u5411\u3092\u5909\u3048\u308b\u2026\u2026\u306a\u3069\uff09\n    int32 optionInt;    // \u7279\u6b8a\u306a\u52d5\u4f5c\u3092\u3059\u308b\u3068\u304d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\n\npublic:\n    Bullet(int32 t, Vec2 p, Vec2 tgt, double speed, double angle);  // \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\n\n    ~Bullet() {};   // \u30c7\u30b9\u30c8\u30e9\u30af\u30bf \n    int32 update(); // \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 \n\n    void draw();    // \u63cf\u753b\n};\n\n\n\n\n\u305f\u307e\u306e\u521d\u671f\u5316\n\u305f\u307e\u306e\u521d\u671f\u5316\u306b\u306f\u5f15\u6570\u3092\u4f7f\u3063\u3066\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\u3053\u3053\u3067\u306f\u3001\u5f3e\u306e\u7a2e\u985e\u3001\u767a\u751f\u6e90\u306e\u4f4d\u7f6e\u3001\u76ee\u6a19\u65b9\u5411\u3001\u5f3e\u306e\u901f\u5ea6\u3001\u767a\u5c04\u89d2\u5ea6\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\n\u5f3e\u306e\u7a2e\u985e\u306b\u3088\u3063\u3066\u3001\u521d\u671f\u5316\u65b9\u6cd5\u304c\u7570\u306a\u308b\u306e\u3067\u3001\u4e2d\u306fswitch\u5206\u5c90\u3057\u3066\u3044\u308b\u3002\n\u3053\u306eswitch\u5206\u5c90\u306f\u5f3e\u304c\u79fb\u52d5\u3059\u308bupdate\u95a2\u6570\u306b\u3082\u5b58\u5728\u3057\u3066\u3044\u308b\u3002\u7279\u5b9a\u306e\u7a2e\u985e\u306b\u304a\u3044\u3066\u901f\u5ea6\u5909\u5316\u5f3e\u3068\u304b\u30ab\u30fc\u30d6\u5f3e\u3068\u304b\u306b\u3057\u305f\u3044\u3068\u304d\u306b\u5206\u5c90\u3055\u305b\u305f\u308a\u3002\u8272\u304c\u5909\u308f\u308b\u30ad\u30e9\u30ad\u30e9\u5f3e\u3082\u3053\u306e\u5206\u5c90\u3067\u5b9f\u88c5\u3057\u3066\u3044\u305f\u308a\u3002\n\n\u305f\u307e\u306e\u3057\u3087\u304d\u304b\nBullet::Bullet(int32 t, Vec2 p, Vec2 tgt, double speed = 4.0, double angle = 0.0)\n{\n    optionInt = 0;  // \u30aa\u30d7\u30b7\u30e7\u30f3\u8a2d\u5b9a\n    timer = -1; // -1\u306e\u6642\u306f\u30bf\u30a4\u30de\u30fc\u3092\u4f7f\u308f\u306a\u3044\n    target = tgt;   // \u76ee\u6a19\u4f4d\u7f6e\n    type = t;   // \u7a2e\u985e\n    pos = p;    // \u73fe\u5728\u4f4d\u7f6e = \u767a\u751f\u6e90\n    hit = Circle(p, 6); // \u3042\u305f\u308a\u5224\u5b9a\u306e\u521d\u671f\u5316\n    col = Color(255, 255, 0);   // \u305f\u307e\u306e\u8272\n    clearFlag = 255;    // \u6d88\u53bb\u30d5\u30e9\u30b0\u3002255\u3067\u5b58\u7d9a\u3001254\u4ee5\u4e0b\u3067\u6d88\u6ec5\u958b\u59cb(\u900f\u660e\u5ea6\u304c\u4e0b\u304c\u3063\u3066\u3044\u304f\u6f14\u51fa)\u30010\u3067\u5b8c\u5168\u6d88\u6ec5\uff08\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7834\u68c4\uff09\n    hitDamage = 10; // \u5f53\u305f\u3063\u305f\u6642\u306e\u30c0\u30e1\u30fc\u30b8\n\n    // \u5f3e\u306e\u7a2e\u985e\u306b\u5fdc\u3058\u3066\u3001\u5909\u66f4\u8981\u7d20\u304c\u5909\u5316\n    switch (type)\n    {\n    // \uff08\u5f3e\u306e\u79fb\u52d5\u65b9\u5411\u3068\u901f\u5ea6\u3092\u3001\u30d9\u30af\u30c8\u30eb\u3067\u76f4\u63a5\u5165\u529b\u3059\u308b\u3082\u306e\uff09\n    case 0:\n        direction = { tgt };\n        break;\n    // \uff08\u81ea\u6a5f\u72d9\u3044\u5f3e\u7528\uff09\n    case 1:\n        direction = { (tgt - pos).normalized() * speed };\n        break;\n    // \uff08\u3067\u304b\u304f\u3066\u8d64\u3044\u5f3e\uff09\n    case 2:\n        col = Color(255, 64, 0);\n        hit.r = 12;\n        hitDamage = 20;\n        direction = { tgt };\n        break;\n    // \uff08\u901f\u5ea6\u56fa\u5b9a\uff09\n    case 5:\n        direction = { tgt.normalized() * speed };\n        break;\n\n    // \u4ee5\u4e0b\u7701\u7565\n\n    }\n    direction.rotate(angle);    // \u3055\u3044\u3054\u306b\u3001angle\u306e\u89d2\u5ea6\u5206\u3001\u79fb\u52d5\u65b9\u5411\u3092\u56de\u8ee2\u3055\u305b\u308b\u3002\n}\n\n\n\n\n\n\u5f3e\u306e\u767a\u751f\n\u5f3e\u306f\u305f\u304f\u3055\u3093\u51fa\u73fe\u3057\u307e\u3059\u3002\u3044\u304f\u3064\u306b\u51fa\u73fe\u3059\u308b\u304b\u306f\u6c7a\u307e\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u3001\u666e\u901a\u306e\u8981\u7d20\u6570\u304c\u56fa\u5b9a\u306e\u914d\u5217\u306f\u4f7f\u3044\u307e\u305b\u3093\u3002\n\u5f3e\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u53ef\u5909\u9577\u914d\u5217\uff08Siv3D\u306eArray)\u306e\u4e2d\u306b\u5165\u308c\u3066\u3001\u4f55\u500b\u3067\u3082\u51fa\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u65b0\u305f\u306b\u305f\u307e\u3092\u4f5c\u308b\u3068\u304d\u306fpush_back\u3059\u308b\u3002\n\u7f6e\u3044\u30c6\u30af\u306e\u5834\u5408\u3001\u30d5\u30ec\u30fc\u30e0\u30ab\u30a6\u30f3\u30c8\u3092\u767a\u5c04\u9593\u9694\u3067\u5270\u4f59(%\u6f14\u7b97\u5b50)\u8a08\u7b97\u3092\u3057\u3066\u3001\u5f3e\u306e\u767a\u5c04\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u6c7a\u5b9a\u3057\u3066\u3044\u308b\u3002if\u3092\u3055\u3089\u306b\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001\u30de\u30b7\u30f3\u30ac\u30f3\u306e\u3088\u3046\u306b\u9023\u5c04\u2192\u3057\u3070\u3089\u304f\u5f85\u6a5f\u3068\u3044\u3046\u3088\u3046\u306a\u3082\u306e\u3082\u4f5c\u308c\u308b\u3002\n\u753b\u9762\u5916\u306b\u51fa\u305f\u308a\u3001\u81ea\u6a5f\u306b\u3042\u305f\u3063\u305f\u5f3e\u306feraseFlag\u3092\u5909\u66f4\u3057\u300c\u6d88\u3059\u300d\u72b6\u614b\u306b\u5909\u66f4\u3057\u3066\u3001\u6bce\u30d5\u30ec\u30fc\u30e0\u547c\u3073\u51fa\u3055\u308c\u308b\u6d88\u53bb\u5224\u5b9a\u3092\u4f7f\u3063\u3066\u6d88\u3059\u3002\n\n\u305f\u307e\u306e\u305b\u3044\u305b\u3044\n// 30\u30d5\u30ec\u30fc\u30e0\u3054\u3068\u306b\u5f3e\u3092\u767a\u5c04\u3059\u308b\u3002enemyCount\u306f\u3001\u6575\u304c\u884c\u52d5\u3092\u958b\u59cb\u3057\u3066\u304b\u3089\u306e\u30d5\u30ec\u30fc\u30e0\u6570\nif (enemyCount % 30 == 0)\n        {\n            enemyBullet.push_back(Bullet(0, enemyPos, { 0.0, 4.0 }));   // \u3053\u3053\u3067\u5f3e\u3092\u767a\u751f\u3055\u305b\u308b\u3002\n            // \uff08\u5b9f\u969b\u306b\u306f\u767a\u5c04\u306e\u52b9\u679c\u97f3\u3082\u3053\u3053\u3067\u9cf4\u3089\u3059\uff09\n        }\n\n\n\n\u5f3e\u767a\u751f\u306e\u57fa\u672c\u69cb\u9020\u306f\u3053\u3093\u306a\u611f\u3058\u3002\u3064\u304e\u306f\u3001\u3053\u308c\u3092\u4f7f\u3063\u3066\u5f3e\u5e55\u3063\u307d\u3044\u3082\u306e\u3092\u7d44\u3093\u3067\u307f\u307e\u3059\u3002\n\n\u307b\u3093\u3060\u3044\u30fb\u653b\u6483\u30d1\u30bf\u30fc\u30f3\u3092\u3064\u304f\u308b\n\n\u81ea\u6a5f\u72d9\u3044\n\u81ea\u6a5f\u72d9\u3044\u5f3e\u306f\u3001\u81ea\u5206\u3068\u76f8\u624b\u306e\u4f4d\u7f6e\u306e\u5dee\u306e\u65b9\u5411\u306b\u5f3e\u3092\u51fa\u3057\u307e\u3059\u3002\u305d\u306e\u307e\u307e\u3060\u30681\u30d5\u30ec\u30fc\u30e0\u3067\u5230\u9054\u3059\u308b\u30b9\u30d4\u30fc\u30c9\u306a\u306e\u3067\u3001\u30d9\u30af\u30c8\u30eb\u3092\u30ce\u30fc\u30de\u30e9\u30a4\u30ba\u3057\u3066\u3001\u901f\u5ea6\u3092\u304b\u3051\u308b\u3002\n\u306a\u304c\u308c\u307c\u30b7\u30e5\u30fc\u306e\u8a2d\u5b9a\u3067\u306f\u3001\u666e\u901a\u306e\u81ea\u6a5f\u72d9\u3044\u5f3e\u306e\u7a2e\u985eID\u306f\u300c1\u756a\u300d\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u521d\u671f\u5316\u306e\u6642\u306b\u5f3e\u306e\u767a\u751f\u6e90\u3068\u76ee\u6a19\u4f4d\u7f6e\u306e\u5dee\u3092\u79fb\u52d5\u65b9\u5411\u306b\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u30b9\u30bf\u30f3\u30c0\u30fc\u30c91-4\nif (enemyCount % 27 == 0)\n{\n    enemyBullet.push_back(Bullet(1, enemyPos, playerPos, 4));\n}\n\n\n\u81ea\u6a5f\u72d9\u3044\u5f3e\u306e\u767a\u751f\u6e90\u3068\u76ee\u6a19\u5ea7\u6a19\u3092\u5e73\u884c\u306b\u305a\u3089\u3059\u3053\u3068\u306b\u3088\u3063\u3066\u3001Siv3D\u5f3e\u306e\u3088\u3046\u306a\u304b\u305f\u307e\u308a\u3092\u98db\u3070\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n\n\u30b9\u30bf\u30f3\u30c0\u30fc\u30c94-1\nif (enemyCount % 20 == 0)\n{\n    // \u30c7\u30b6\u30a4\u30f3\u91cd\u8996\u306e\u305f\u3081\u3001\u5168\u5f3e\u624b\u6253\u3061\u3067\u3059\u3002\n    // ID6\u756a\u304c\u5927\u304d\u3044\u5f3e\u30017\u756a\u304c\u5c0f\u3055\u3044\u5f3e\u3067\u3059\n    enemyBullet.push_back(Bullet(6, enemyPos + Vec2(-12, 10), playerPos + Vec2(-12, 10), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(-22, 8), playerPos + Vec2(-22, 8), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(-28, 5), playerPos + Vec2(-28, 5), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(-30, 0), playerPos + Vec2(-30, 0), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(-30, -7), playerPos + Vec2(-30, -5), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(-25, -15), playerPos + Vec2(-25, -15), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(-20, -20), playerPos + Vec2(-20, -20), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(-10, -25), playerPos + Vec2(-10, -25), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(0, -25), playerPos + Vec2(0, -25), 6));\n\n    enemyBullet.push_back(Bullet(6, enemyPos + Vec2(12, -10), playerPos + Vec2(12, -10), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(22, -8), playerPos + Vec2(22, -8), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(28, -5), playerPos + Vec2(28, -5), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(30, 0), playerPos + Vec2(30, 0), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(30, 7), playerPos + Vec2(30, 5), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(25, 15), playerPos + Vec2(25, 15), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(20, 20), playerPos + Vec2(20, 20), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(10, 25), playerPos + Vec2(10, 25), 6));\n    enemyBullet.push_back(Bullet(7, enemyPos + Vec2(0, 25), playerPos + Vec2(0, 25), 6));\n}\n\n\n\n\u81ea\u6a5f\u5916\u3057\n\u81ea\u6a5f\u72d9\u3044\u306e\u76ee\u6a19\u5ea7\u6a19\u3092\u5de6\u53f3\u306b\u305a\u3089\u3057\u305f\u308a\u3001\u81ea\u6a5f\u72d9\u3044\u306e\u79fb\u52d5\u65b9\u5411\u3092\u56de\u8ee2\u3055\u305b\u308b\u3068\u3001\u81ea\u6a5f\u5916\u3057\u306b\u306a\u308a\u307e\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u5f3e\u751f\u6210\u6642\u306b\u5165\u308c\u308b\u300c\u56de\u8ee2\u300d\u5f15\u6570\u3092\u4f7f\u3046\u3002\u30e9\u30b8\u30a2\u30f3\u5358\u4f4d\u3067\u56de\u8ee2\u3059\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002\n\u81ea\u6a5f\u5916\u3057\u306e\u4f8b\u306f\u3001\u30b9\u30c6\u30fc\u30b87-2\u3002\u5f3e\u304cU\u30bf\u30fc\u30f3\u3057\u3066\u52a0\u901f\u3059\u308b\u5f3e\u3084\u3001\u9006\u65b9\u5411\u306b\u98db\u3093\u3067\u3044\u304f\u9ec4\u8272\u3044\u5f3e\u304c\u3042\u308b\u3051\u3069\u3001\u3042\u308c\u3001\u5168\u90e8\u81ea\u6a5f\u5916\u3057\uff08\u30cd\u30bf\u30d0\u30e9\u30b7\uff09\u3002\u753b\u9762\u4e0b\u306e\u65b9\u3067\u5f85\u6a5f\u3057\u3066\u305f\u3089\u5f53\u305f\u3089\u306a\u3044\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u308b\u3068\u3044\u3044\u3002\n\n\n\u30cf\u30a4\u30d1\u30fc7-2\n// \u8d64\u3044\u5f3e\u3002U\u30bf\u30fc\u30f3\u3059\u308b\u3002\nif (enemyCount % 32 <= 21)\n{\n    enemyBullet.push_back(Bullet(10, enemyPos + Vec2(40, 0), playerPos + Vec2(-40, 0), 4.0));\n    enemyBullet.push_back(Bullet(10, enemyPos + Vec2(-40, 0), playerPos + Vec2(40, 0), 4.0));\n}\n// \u9ec4\u8272\u3044\u5f3e\u3002\u81ea\u6a5f\u306e\u9006\u65b9\u5411\u306b\u98db\u3093\u3067\u3044\u304f\nif (enemyCount % 8 == 5)\n{\n    enemyBullet.push_back(Bullet(1, enemyPos + Vec2(40, 0), playerPos + Vec2(-40, 0), 4.0, 0.75 * Pi));\n    enemyBullet.push_back(Bullet(1, enemyPos + Vec2(-40, 0), playerPos + Vec2(40, 0), 4.0, -0.75 * Pi));\n    enemyBullet.push_back(Bullet(1, enemyPos + Vec2(40, 0), playerPos + Vec2(-40, 0), 4.0, 0.5 * Pi));\n    enemyBullet.push_back(Bullet(1, enemyPos + Vec2(-40, 0), playerPos + Vec2(40, 0), 4.0, -0.5 * Pi));\n    enemyBullet.push_back(Bullet(1, enemyPos, playerPos, 4.0, Pi));\n}\n\n\n\nU\u30bf\u30fc\u30f3\u5f3e\n\u4e0a\u306e\u81ea\u6a5f\u5916\u3057\u306b\u3082\u767b\u5834\u3057\u305f\u8d64\u3044\u5f3e\u3002\n\u5b9f\u88c5\u306e\u4ed5\u65b9\u306f\u3001\u6bce\u30d5\u30ec\u30fc\u30e0\u3054\u3068\u306b\u884c\u308f\u308c\u308b\u5f3e\u306e\u79fb\u52d5\u3001\u305d\u306e\u901f\u5ea6\u3092\u3044\u3058\u308b\u3060\u3051\u3002\u901f\u5ea6\u5909\u5316\u306e\u7279\u5225\u306a\u51e6\u7406\u306f\u3001\u5f3e\u306eupdate\u95a2\u6570\u306b\u304b\u3044\u3066\u3044\u308b\u3002\n\u81ea\u6a5f\u72d9\u3044\u306e\u5834\u5408\u3001\u6700\u521d\u306f\u30de\u30a4\u30ca\u30b91.0\u500d\u3001\u6b21\u306f-0.966\u500d\u3001-0.933\u500d\u3068\u3044\u3046\u3088\u3046\u306b\u901f\u5ea6\u306e\u500d\u7387\u3092\u5909\u5316\u3055\u305b\u308b\u3002\uff08\u5909\u5316\u91cf\u306f\u304a\u597d\u307f\u306b\u8abf\u6574\uff09\n\u3084\u304c\u3066\u901f\u5ea6\u306e\u7b26\u53f7\u304c\u9006\u8ee2\u3057\u3001\u81ea\u6a5f\u3044\u308b\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u304f\u308b\u3088\u3046\u306b\u306a\u308b\u3002\u7b49\u901f\u306e\u5f3e\u3068\u306f\u9055\u3046\u8ecc\u9053\u3092\u63cf\u304f\u306e\u3060\u3002\u5f3e\u306e\u7d4c\u904e\u6642\u9593\u306b\u3064\u3044\u3066\u306f\u3001U\u30bf\u30fc\u30f3\u5f3e\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306b\u30bf\u30a4\u30de\u30fc\uff08\u5024:1000\uff09\u304c\u8a2d\u5b9a\u3055\u308c\u3001\u305d\u306e\u30bf\u30a4\u30de\u30fc\u304c1\u30d5\u30ec\u30fc\u30e0\u3054\u3068\u306b1\u305a\u3064\u6e1b\u5c11\u3059\u308b\u3053\u3068\u3092\u5229\u7528\u3057\u3066\u8a08\u7b97\u3067\u304d\u308b\u3002\n\n\u901f\u5ea6\u5909\u5316\nint32 update() \n{\n    // \u5f3e\u306e\u7a2e\u985e\u5225\u306b\u884c\u308f\u308c\u308b\u3001\u7279\u6b8a\u306a\u51e6\u7406\u3092\u3053\u3053\u306b\u304b\u304f\n    switch (type)\n    {\n    case 10:\n        pos.moveBy(direction * (1000 - timer) / 30.0);\n        break;\n    // \u307b\u304b\u306e\u7a2e\u985e\u306e\u51e6\u7406\u306f\u7701\u7565\n\n    // \u7279\u5225\u306a\u52d5\u304d\u306e\u306a\u3044\u901a\u5e38\u306e\u5f3e\u306e\u5834\u5408\n    default:\n        pos.moveBy(direction);\n        break;\n    }\n    if (timer > 0) --timer;\n    if (timer == 0)\n    {\n        timer = -1;\n        return 1;\n    }\n        return 0;\n}\n\n\n\n\u79fb\u52d5\u3068\u9023\u52d5\u3057\u305f\u653b\u6483\n\u306a\u304c\u308c\u307c\u30b7\u30e5\u30fc\u306e\u5834\u5408\u3001\u6575\u306e\u591a\u304f\u306e\u653b\u6483\u306f\u5171\u901a\u3057\u3066\u300c\u5de6\u53f3\u306b\u3086\u3089\u3086\u3089\u63fa\u308c\u308b\u300d\u52d5\u304d\u3092\u3059\u308b\u304c\u3001\u305d\u308c\u3092\u3082\u5909\u5316\u3055\u305b\u308b\u3068\u304c\u3067\u304d\u308b\u3002\n\u7279\u5b9a\u306e\u30b9\u30c6\u30fc\u30b8\u306e\u5834\u5408\u306e\u307f\u3001\u7279\u6b8a\u306a\u52d5\u304d\u3092\u3059\u308b\u653b\u6483\u3082\u7528\u610f\u3067\u304d\u308b\u306e\u3060\u3002\n\n\n\u6575\u306e\u79fb\u52d5\nvoid MainGame::enemyMove() {\n    switch(stage)\n    {\n    // \u30b9\u30c6\u30fc\u30b85-3(22)\u306e\u307f\u306e\u7279\u6b8a\u30d1\u30bf\u30fc\u30f3\u3000\u753b\u9762\u5168\u4f53\u306b\u5186\u3092\u63cf\u304f\u3088\u3046\u306b\u79fb\u52d5\u3057\u3001\u305d\u306e\u5f8c\u753b\u9762\u4e0a\u90e8\u3092\u3046\u308d\u3046\u308d\u3059\u308b\u3002\u305d\u306e\u7e70\u308a\u8fd4\u3057\u3002\n    case 22:\n        if (enemyCount % 300 < 25 || enemyCount % 300 >= 250) enemyPos2 = { 400, 50 };\n        else if (enemyCount % 300 < 125) {\n            enemyPos2.x = Sin(((enemyCount % 300) - 25) / 45.0 * Pi) * 400 + 400;\n            enemyPos2.y = -Cos(((enemyCount % 300) - 25) / 45.0 * Pi) * 300 + 300;\n        }\n        else {\n            enemyPos2 = { Sin(((enemyCount % 300) - 115) / 45.0 * Pi) * 150 + 400, Sin(((enemyCount % 300) - 115) / 22.5 * Pi) * 10 + 100 };\n        }\n        break;\n    // \u901a\u5e38\u306e\u52d5\u304d\n    default:\n        enemyPos2.x = -Sin(enemyCount / 120.0 * Pi) * 200 + 400;\n        enemyPos2.y = Sin((enemyCount) / 50.0 * Pi) * 30 + 150;\n        break;\n    }\n}\n\n\n\u30b9\u30c6\u30fc\u30b85-3\u306f\u505c\u6b62\u5f3e\u3092\u5186\u72b6\u306b\u3070\u3089\u307e\u304d\u3001\u305d\u306e\u505c\u6b62\u5f3e\u304c\u6642\u9593\u7d4c\u904e\u3067\u7206\u767a\u3057\u5c0f\u3055\u3044\u5f3e\u3068\u306a\u3063\u3066\u30e9\u30f3\u30c0\u30e0\u65b9\u5411\u306b\u3070\u3089\u307e\u304b\u308c\u308b\u3068\u3044\u3046\u3082\u306e\u3002\n\n\u304a\u308f\u308a\u306b\n\u5f3e\u5e55\u3063\u307d\u3044\u3082\u306e\u3092\u4f5c\u308b\u306e\u3063\u3066\u3001\u3084\u3063\u3071\u308a\u5927\u5909\u3002 \u306a\u304c\u308c\u307c\u30b7\u30e5\u30fc\u306e\u305f\u3081\u306b\u305f\u3063\u304f\u3055\u3093\u7a2e\u985e\u3092\u4f5c\u3063\u305f\u3051\u3069\u30011\u30641\u3064\u4f5c\u308b\u306e\u306b\u4f55\u5ea6\u3082\u8a66\u884c\u932f\u8aa4\u3057\u305f\u3057\u3001\u982d\u4f7f\u3046\u4f5c\u696d\u3060\u3063\u305f\u3002\n\u3053\u3093\u306a\u8a18\u4e8b\u66f8\u6c17\u306a\u304c\u3089\u8a00\u3046\u306e\u306f\u96e3\u3060\u3051\u3069\u3001\u767a\u60f3\u529b\u304c\u81ea\u5206\u306b\u306f\u8db3\u308a\u306a\u304b\u3063\u305f\u3002\n\u3042\u3068\u3001\u3082\u3063\u3068Siv3D\u304f\u3093\u306f\u3084\u3089\u305b\u3088\u3046\u305c\uff01\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u304a\u308f\u308a\u3067\u3059\u3002\n\u660e\u65e5\u306f @Pctg-x8 \u3055\u3093\u3067\u3059\u3002\u3088\u308d\u3057\u304f\u304a\u306d\u304c\u3044\u3057\u307e\u3059\u3002\n [Siv3D Advent Calendar 2016](http://qiita.com/advent-calendar/2016/siv3d) 22\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n#\u307e\u3048\u304a\u304d\n\n![20160926-223841-376.png](https://qiita-image-store.s3.amazonaws.com/0/100088/9db183eb-f29f-c44d-8ab2-cea02765beeb.png)\n\n\u4eca\u5e74\u81ea\u5206\u306f\u521d\u3081\u3066\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30b2\u30fc\u30e0\u3092\u3064\u304f\u308a\u307e\u3057\u305f\u3002\u305d\u308c\u304c\u300c\u306a\u304c\u308c\u307c\u30b7\u30e5\u30fc\u300d\u3067\u3059\u3002\n\u4e8b\u306e\u767a\u7aef\u306f\u30019\u6708\u306b\u30a6\u30c7\u30a3\u30bf(Wolf RPG \u30a8\u30c7\u30a3\u30bf\u30fc)\u3092\u4f7f\u3063\u3066\u3044\u308b\u30af\u30ea\u30a8\u30a4\u30bf\u30fc\u306e\u3074\u3051\u3055\u3093\u304c\u4e3b\u50ac\u3059\u308b\u3001[\u7b2c6\u56de\u3074\u3051\u30b3\u30f3](http://actpike.blog114.fc2.com/blog-entry-44.html#end)\u306b\u53c2\u52a0\u3057\u305f\u3053\u3068\u304c\u30ad\u30c3\u30ab\u30b1\u3067\u3057\u305f\u3002\u3074\u3051\u30b3\u30f3\u306f\u3001\u4e0d\u5b9a\u671f\u306b\u958b\u50ac\u3055\u308c\u308b\u305f\u3063\u305f3\u6642\u9593\u3067\u30b2\u30fc\u30e0\u5236\u4f5c\u3059\u308b\u30a4\u30d9\u30f3\u30c8\u3067\u3059\u3002\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u884c\u308f\u308c\u308b\u3082\u306e\u3067\u3001\u30a6\u30c7\u30a3\u30bf\u4f7f\u3044\u3067\u306a\u3044\u4eba\u3082\u53c2\u52a0\u3067\u304d\u307e\u3059\u3002\n\u304a\u984c\u304c\u300c\u6d41\u308c\u300d\u3060\u3063\u305f\u306e\u3067\u3001\u6d41\u308c\u661f\u304c\u771f\u3063\u5148\u306b\u6d6e\u304b\u3073\u6d41\u308c\u661f\u306e\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30fb\u30fb\u30fb\u3068\u3044\u3046\u767a\u60f3\u3067\u3067\u304d\u307e\u3057\u305f\u3002\n3\u6642\u9593\u3067\u306f\u81ea\u6a5f\u3068\u6575\u304c\u5f3e\u3092\u767a\u5c04\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u3057\u304b\u3067\u304d\u306a\u304b\u3063\u305f\u3002\n\u305d\u306e\u5f8c\u30012\u9031\u9593\u304b\u3051\u3066\u5b8c\u5168\u306a\u5f62\u306b\u4ed5\u4e0a\u3052\u307e\u3057\u305f\u3002\u30b9\u30c6\u30fc\u30b8\u3092\u8ffd\u52a0\u3057\u3001\u6575\u306e\u653b\u6483\u30d1\u30bf\u30fc\u30f3\u309235\u7a2e(+10)\u3001\u96e3\u6613\u5ea6\u306f2\u6bb5\u968e\u306a\u306e\u3067\u305d\u306e2\u500d\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\u5f3e\u306e\u51fa\u73fe\u3084\u79fb\u52d5\u51e6\u7406\u306b\u3064\u3044\u3066\u306f\u3042\u308b\u7a0b\u5ea6\u4f7f\u3044\u307e\u308f\u3057\u304c\u52b9\u304f\u3088\u3046\u306b\u8a2d\u8a08\u3057\u307e\u3057\u305f\u3002\n[\u5b8c\u6210\u3057\u305f\u3082\u306e\u306f\u3053\u3053\u306b\u3042\u308a\u307e\u3059\u3002\u6311\u6226\u3057\u3066\u307f\u3066\u306d\u3002](http://hoshikes3256.blog.jp/archives/66154802.html)\n\n\u524d\u7f6e\u304d\u304c\u9577\u304f\u306a\u308a\u307e\u3057\u305f\u304c\u3001\u3069\u3093\u306a\u3075\u3046\u306b\u5f3e\u3092\u51fa\u73fe\u3055\u305b\u3066\u3044\u308b\u304b\u3092\u3053\u308c\u304b\u3089\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f\u6575\u5f3e\u3001\u3044\u308f\u3086\u308b\u5f3e\u5e55\u3063\u307d\u3044\u306a\u306b\u304b\u3001\u306e\u4f5c\u308a\u65b9\u3092\u30e1\u30a4\u30f3\u306b\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002Siv3D\u88fdSTG\u306e\u4f5c\u308a\u65b9\u306e\u57fa\u672c\uff08\u81ea\u6a5f\u306e\u5b9f\u88c5\u3084\u3042\u305f\u308a\u5224\u5b9a\u306a\u3069\uff09\u306f\u4ed6\u306eQiita\u8a18\u4e8b\u7b49\u3082\u3042\u308b\u306e\u3067\u3001\u4e00\u90e8\u7701\u7565\u3057\u307e\u3059\u3002\n\n#\u307b\u3093\u3060\u3044\u30fb\u57fa\u672c\u69cb\u9020\n##\u30af\u30e9\u30b9\u4f5c\u6210\n\n\u5f3e\u306f\u30af\u30e9\u30b9\u5206\u3051\u3067Bullet\u30af\u30e9\u30b9\u3067\u3082\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u3053\u3093\u306a\u98a8\u306b\u4f5c\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n```cpp:\u305f\u307e\u30af\u30e9\u30b9\n\nclass Bullet {\nprivate:\n\tint32 type;\t// \u305f\u307e\u306e\u7a2e\u985e\n\tVec2 pos;\t// \u305f\u307e\u306e\u4f4d\u7f6e\n\tCircle hit;\t// \u3042\u305f\u308a\u5224\u5b9a\n\tVec2 target;\t// \u9032\u884c\u76ee\u6a19\n\tVec2 direction;\t// \u5f3e\u306e\u79fb\u52d5\u65b9\u5411\uff08\u79fb\u52d5\u30b9\u30d4\u30fc\u30c9\uff09\n\tColor col;\t// \u305f\u307e\u306e\u8272\uff08\u3053\u3053\u3067\u306fColor\u306e\u4e57\u7b97\u3092\u4f7f\u7528\u3057\u3066\u8272\u4ed8\u3051\u3057\u3066\u3044\u308b\uff09\n\tint32 clearFlag;\t// \u5f3e\u304c\u6d88\u6ec5\u3059\u308b\u30d5\u30e9\u30b0\n\tint32 hitDamage;\t// \u5f53\u305f\u3063\u305f\u6642\u306e\u30c0\u30e1\u30fc\u30b8\u91cf\n\tint32 timer;\t// \u30bf\u30a4\u30de\u30fc\uff08N\u30d5\u30ec\u30fc\u30e0\u5f8c\u306b\u79fb\u52d5\u65b9\u5411\u3092\u5909\u3048\u308b\u2026\u2026\u306a\u3069\uff09\n\tint32 optionInt;\t// \u7279\u6b8a\u306a\u52d5\u4f5c\u3092\u3059\u308b\u3068\u304d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\n\npublic:\n\tBullet(int32 t, Vec2 p, Vec2 tgt, double speed, double angle);\t// \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\n\t\n\t~Bullet() {};\t// \u30c7\u30b9\u30c8\u30e9\u30af\u30bf \n\tint32 update();\t// \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 \n\t\n\tvoid draw();\t// \u63cf\u753b\n};\n\n```\n\n##\u305f\u307e\u306e\u521d\u671f\u5316\n\n\u305f\u307e\u306e\u521d\u671f\u5316\u306b\u306f\u5f15\u6570\u3092\u4f7f\u3063\u3066\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n\u3053\u3053\u3067\u306f\u3001\u5f3e\u306e\u7a2e\u985e\u3001\u767a\u751f\u6e90\u306e\u4f4d\u7f6e\u3001\u76ee\u6a19\u65b9\u5411\u3001\u5f3e\u306e\u901f\u5ea6\u3001\u767a\u5c04\u89d2\u5ea6\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\n\u5f3e\u306e\u7a2e\u985e\u306b\u3088\u3063\u3066\u3001\u521d\u671f\u5316\u65b9\u6cd5\u304c\u7570\u306a\u308b\u306e\u3067\u3001\u4e2d\u306fswitch\u5206\u5c90\u3057\u3066\u3044\u308b\u3002\n\u3053\u306eswitch\u5206\u5c90\u306f\u5f3e\u304c\u79fb\u52d5\u3059\u308bupdate\u95a2\u6570\u306b\u3082\u5b58\u5728\u3057\u3066\u3044\u308b\u3002\u7279\u5b9a\u306e\u7a2e\u985e\u306b\u304a\u3044\u3066\u901f\u5ea6\u5909\u5316\u5f3e\u3068\u304b\u30ab\u30fc\u30d6\u5f3e\u3068\u304b\u306b\u3057\u305f\u3044\u3068\u304d\u306b\u5206\u5c90\u3055\u305b\u305f\u308a\u3002\u8272\u304c\u5909\u308f\u308b\u30ad\u30e9\u30ad\u30e9\u5f3e\u3082\u3053\u306e\u5206\u5c90\u3067\u5b9f\u88c5\u3057\u3066\u3044\u305f\u308a\u3002\n\n```cpp:\u305f\u307e\u306e\u3057\u3087\u304d\u304b\nBullet::Bullet(int32 t, Vec2 p, Vec2 tgt, double speed = 4.0, double angle = 0.0)\n{\n\toptionInt = 0;\t// \u30aa\u30d7\u30b7\u30e7\u30f3\u8a2d\u5b9a\n\ttimer = -1;\t// -1\u306e\u6642\u306f\u30bf\u30a4\u30de\u30fc\u3092\u4f7f\u308f\u306a\u3044\n\ttarget = tgt;\t// \u76ee\u6a19\u4f4d\u7f6e\n\ttype = t;\t// \u7a2e\u985e\n\tpos = p;\t// \u73fe\u5728\u4f4d\u7f6e = \u767a\u751f\u6e90\n\thit = Circle(p, 6);\t// \u3042\u305f\u308a\u5224\u5b9a\u306e\u521d\u671f\u5316\n\tcol = Color(255, 255, 0);\t// \u305f\u307e\u306e\u8272\n\tclearFlag = 255;\t// \u6d88\u53bb\u30d5\u30e9\u30b0\u3002255\u3067\u5b58\u7d9a\u3001254\u4ee5\u4e0b\u3067\u6d88\u6ec5\u958b\u59cb(\u900f\u660e\u5ea6\u304c\u4e0b\u304c\u3063\u3066\u3044\u304f\u6f14\u51fa)\u30010\u3067\u5b8c\u5168\u6d88\u6ec5\uff08\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7834\u68c4\uff09\n\thitDamage = 10;\t// \u5f53\u305f\u3063\u305f\u6642\u306e\u30c0\u30e1\u30fc\u30b8\n\n\t// \u5f3e\u306e\u7a2e\u985e\u306b\u5fdc\u3058\u3066\u3001\u5909\u66f4\u8981\u7d20\u304c\u5909\u5316\n\tswitch (type)\n\t{\n\t// \uff08\u5f3e\u306e\u79fb\u52d5\u65b9\u5411\u3068\u901f\u5ea6\u3092\u3001\u30d9\u30af\u30c8\u30eb\u3067\u76f4\u63a5\u5165\u529b\u3059\u308b\u3082\u306e\uff09\n\tcase 0:\n\t\tdirection = { tgt };\n\t\tbreak;\n\t// \uff08\u81ea\u6a5f\u72d9\u3044\u5f3e\u7528\uff09\n\tcase 1:\n\t\tdirection = { (tgt - pos).normalized() * speed };\n\t\tbreak;\n\t// \uff08\u3067\u304b\u304f\u3066\u8d64\u3044\u5f3e\uff09\n\tcase 2:\n\t\tcol = Color(255, 64, 0);\n\t\thit.r = 12;\n\t\thitDamage = 20;\n\t\tdirection = { tgt };\n\t\tbreak;\n\t// \uff08\u901f\u5ea6\u56fa\u5b9a\uff09\n\tcase 5:\n\t\tdirection = { tgt.normalized() * speed };\n\t\tbreak;\n\n\t// \u4ee5\u4e0b\u7701\u7565\n\n\t}\n\tdirection.rotate(angle);\t// \u3055\u3044\u3054\u306b\u3001angle\u306e\u89d2\u5ea6\u5206\u3001\u79fb\u52d5\u65b9\u5411\u3092\u56de\u8ee2\u3055\u305b\u308b\u3002\n}\n\n\n```\n\n##\u5f3e\u306e\u767a\u751f\n\n\u5f3e\u306f\u305f\u304f\u3055\u3093\u51fa\u73fe\u3057\u307e\u3059\u3002\u3044\u304f\u3064\u306b\u51fa\u73fe\u3059\u308b\u304b\u306f\u6c7a\u307e\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u3001\u666e\u901a\u306e\u8981\u7d20\u6570\u304c\u56fa\u5b9a\u306e\u914d\u5217\u306f\u4f7f\u3044\u307e\u305b\u3093\u3002\n\u5f3e\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u53ef\u5909\u9577\u914d\u5217\uff08Siv3D\u306eArray)\u306e\u4e2d\u306b\u5165\u308c\u3066\u3001\u4f55\u500b\u3067\u3082\u51fa\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u65b0\u305f\u306b\u305f\u307e\u3092\u4f5c\u308b\u3068\u304d\u306fpush_back\u3059\u308b\u3002\n\u7f6e\u3044\u30c6\u30af\u306e\u5834\u5408\u3001\u30d5\u30ec\u30fc\u30e0\u30ab\u30a6\u30f3\u30c8\u3092\u767a\u5c04\u9593\u9694\u3067\u5270\u4f59(%\u6f14\u7b97\u5b50)\u8a08\u7b97\u3092\u3057\u3066\u3001\u5f3e\u306e\u767a\u5c04\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u6c7a\u5b9a\u3057\u3066\u3044\u308b\u3002if\u3092\u3055\u3089\u306b\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001\u30de\u30b7\u30f3\u30ac\u30f3\u306e\u3088\u3046\u306b\u9023\u5c04\u2192\u3057\u3070\u3089\u304f\u5f85\u6a5f\u3068\u3044\u3046\u3088\u3046\u306a\u3082\u306e\u3082\u4f5c\u308c\u308b\u3002\n\n\u753b\u9762\u5916\u306b\u51fa\u305f\u308a\u3001\u81ea\u6a5f\u306b\u3042\u305f\u3063\u305f\u5f3e\u306feraseFlag\u3092\u5909\u66f4\u3057\u300c\u6d88\u3059\u300d\u72b6\u614b\u306b\u5909\u66f4\u3057\u3066\u3001\u6bce\u30d5\u30ec\u30fc\u30e0\u547c\u3073\u51fa\u3055\u308c\u308b\u6d88\u53bb\u5224\u5b9a\u3092\u4f7f\u3063\u3066\u6d88\u3059\u3002\n\n```cpp:\u305f\u307e\u306e\u305b\u3044\u305b\u3044\n// 30\u30d5\u30ec\u30fc\u30e0\u3054\u3068\u306b\u5f3e\u3092\u767a\u5c04\u3059\u308b\u3002enemyCount\u306f\u3001\u6575\u304c\u884c\u52d5\u3092\u958b\u59cb\u3057\u3066\u304b\u3089\u306e\u30d5\u30ec\u30fc\u30e0\u6570\nif (enemyCount % 30 == 0)\n\t\t{\n\t\t\tenemyBullet.push_back(Bullet(0, enemyPos, { 0.0, 4.0 }));\t// \u3053\u3053\u3067\u5f3e\u3092\u767a\u751f\u3055\u305b\u308b\u3002\n\t\t\t// \uff08\u5b9f\u969b\u306b\u306f\u767a\u5c04\u306e\u52b9\u679c\u97f3\u3082\u3053\u3053\u3067\u9cf4\u3089\u3059\uff09\n\t\t}\n\n```\n\n\u5f3e\u767a\u751f\u306e\u57fa\u672c\u69cb\u9020\u306f\u3053\u3093\u306a\u611f\u3058\u3002\u3064\u304e\u306f\u3001\u3053\u308c\u3092\u4f7f\u3063\u3066\u5f3e\u5e55\u3063\u307d\u3044\u3082\u306e\u3092\u7d44\u3093\u3067\u307f\u307e\u3059\u3002\n\n#\u307b\u3093\u3060\u3044\u30fb\u653b\u6483\u30d1\u30bf\u30fc\u30f3\u3092\u3064\u304f\u308b\n##\u81ea\u6a5f\u72d9\u3044\n\n\u81ea\u6a5f\u72d9\u3044\u5f3e\u306f\u3001\u81ea\u5206\u3068\u76f8\u624b\u306e\u4f4d\u7f6e\u306e\u5dee\u306e\u65b9\u5411\u306b\u5f3e\u3092\u51fa\u3057\u307e\u3059\u3002\u305d\u306e\u307e\u307e\u3060\u30681\u30d5\u30ec\u30fc\u30e0\u3067\u5230\u9054\u3059\u308b\u30b9\u30d4\u30fc\u30c9\u306a\u306e\u3067\u3001\u30d9\u30af\u30c8\u30eb\u3092\u30ce\u30fc\u30de\u30e9\u30a4\u30ba\u3057\u3066\u3001\u901f\u5ea6\u3092\u304b\u3051\u308b\u3002\n\n\u306a\u304c\u308c\u307c\u30b7\u30e5\u30fc\u306e\u8a2d\u5b9a\u3067\u306f\u3001\u666e\u901a\u306e\u81ea\u6a5f\u72d9\u3044\u5f3e\u306e\u7a2e\u985eID\u306f\u300c1\u756a\u300d\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u521d\u671f\u5316\u306e\u6642\u306b\u5f3e\u306e\u767a\u751f\u6e90\u3068\u76ee\u6a19\u4f4d\u7f6e\u306e\u5dee\u3092\u79fb\u52d5\u65b9\u5411\u306b\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```cpp:\u30b9\u30bf\u30f3\u30c0\u30fc\u30c91-4\nif (enemyCount % 27 == 0)\n{\n\tenemyBullet.push_back(Bullet(1, enemyPos, playerPos, 4));\n}\n```\n\n\u81ea\u6a5f\u72d9\u3044\u5f3e\u306e\u767a\u751f\u6e90\u3068\u76ee\u6a19\u5ea7\u6a19\u3092\u5e73\u884c\u306b\u305a\u3089\u3059\u3053\u3068\u306b\u3088\u3063\u3066\u3001Siv3D\u5f3e\u306e\u3088\u3046\u306a\u304b\u305f\u307e\u308a\u3092\u98db\u3070\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n![20161220-013848-821.png](https://qiita-image-store.s3.amazonaws.com/0/100088/fb961f6d-2b4d-467a-3389-03d63310c885.png)\n\n\n```cpp:\u30b9\u30bf\u30f3\u30c0\u30fc\u30c94-1\nif (enemyCount % 20 == 0)\n{\n\t// \u30c7\u30b6\u30a4\u30f3\u91cd\u8996\u306e\u305f\u3081\u3001\u5168\u5f3e\u624b\u6253\u3061\u3067\u3059\u3002\n\t// ID6\u756a\u304c\u5927\u304d\u3044\u5f3e\u30017\u756a\u304c\u5c0f\u3055\u3044\u5f3e\u3067\u3059\n\tenemyBullet.push_back(Bullet(6, enemyPos + Vec2(-12, 10), playerPos + Vec2(-12, 10), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(-22, 8), playerPos + Vec2(-22, 8), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(-28, 5), playerPos + Vec2(-28, 5), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(-30, 0), playerPos + Vec2(-30, 0), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(-30, -7), playerPos + Vec2(-30, -5), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(-25, -15), playerPos + Vec2(-25, -15), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(-20, -20), playerPos + Vec2(-20, -20), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(-10, -25), playerPos + Vec2(-10, -25), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(0, -25), playerPos + Vec2(0, -25), 6));\n\n\tenemyBullet.push_back(Bullet(6, enemyPos + Vec2(12, -10), playerPos + Vec2(12, -10), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(22, -8), playerPos + Vec2(22, -8), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(28, -5), playerPos + Vec2(28, -5), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(30, 0), playerPos + Vec2(30, 0), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(30, 7), playerPos + Vec2(30, 5), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(25, 15), playerPos + Vec2(25, 15), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(20, 20), playerPos + Vec2(20, 20), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(10, 25), playerPos + Vec2(10, 25), 6));\n\tenemyBullet.push_back(Bullet(7, enemyPos + Vec2(0, 25), playerPos + Vec2(0, 25), 6));\n}\n```\n\n##\u81ea\u6a5f\u5916\u3057\n\u81ea\u6a5f\u72d9\u3044\u306e\u76ee\u6a19\u5ea7\u6a19\u3092\u5de6\u53f3\u306b\u305a\u3089\u3057\u305f\u308a\u3001\u81ea\u6a5f\u72d9\u3044\u306e\u79fb\u52d5\u65b9\u5411\u3092\u56de\u8ee2\u3055\u305b\u308b\u3068\u3001\u81ea\u6a5f\u5916\u3057\u306b\u306a\u308a\u307e\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u3001\u5f3e\u751f\u6210\u6642\u306b\u5165\u308c\u308b\u300c\u56de\u8ee2\u300d\u5f15\u6570\u3092\u4f7f\u3046\u3002\u30e9\u30b8\u30a2\u30f3\u5358\u4f4d\u3067\u56de\u8ee2\u3059\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002\n\u81ea\u6a5f\u5916\u3057\u306e\u4f8b\u306f\u3001\u30b9\u30c6\u30fc\u30b87-2\u3002\u5f3e\u304cU\u30bf\u30fc\u30f3\u3057\u3066\u52a0\u901f\u3059\u308b\u5f3e\u3084\u3001\u9006\u65b9\u5411\u306b\u98db\u3093\u3067\u3044\u304f\u9ec4\u8272\u3044\u5f3e\u304c\u3042\u308b\u3051\u3069\u3001\u3042\u308c\u3001\u5168\u90e8\u81ea\u6a5f\u5916\u3057\uff08\u30cd\u30bf\u30d0\u30e9\u30b7\uff09\u3002\u753b\u9762\u4e0b\u306e\u65b9\u3067\u5f85\u6a5f\u3057\u3066\u305f\u3089\u5f53\u305f\u3089\u306a\u3044\u306e\u3067\u3001\u8a66\u3057\u3066\u307f\u308b\u3068\u3044\u3044\u3002\n\n![20161121-234523-684.png](https://qiita-image-store.s3.amazonaws.com/0/100088/1cc325bd-ffe3-f6db-bae8-253bcb1a7c44.png)\n\n```cpp:\u30cf\u30a4\u30d1\u30fc7-2\n// \u8d64\u3044\u5f3e\u3002U\u30bf\u30fc\u30f3\u3059\u308b\u3002\nif (enemyCount % 32 <= 21)\n{\n\tenemyBullet.push_back(Bullet(10, enemyPos + Vec2(40, 0), playerPos + Vec2(-40, 0), 4.0));\n\tenemyBullet.push_back(Bullet(10, enemyPos + Vec2(-40, 0), playerPos + Vec2(40, 0), 4.0));\n}\n// \u9ec4\u8272\u3044\u5f3e\u3002\u81ea\u6a5f\u306e\u9006\u65b9\u5411\u306b\u98db\u3093\u3067\u3044\u304f\nif (enemyCount % 8 == 5)\n{\n\tenemyBullet.push_back(Bullet(1, enemyPos + Vec2(40, 0), playerPos + Vec2(-40, 0), 4.0, 0.75 * Pi));\n\tenemyBullet.push_back(Bullet(1, enemyPos + Vec2(-40, 0), playerPos + Vec2(40, 0), 4.0, -0.75 * Pi));\n\tenemyBullet.push_back(Bullet(1, enemyPos + Vec2(40, 0), playerPos + Vec2(-40, 0), 4.0, 0.5 * Pi));\n\tenemyBullet.push_back(Bullet(1, enemyPos + Vec2(-40, 0), playerPos + Vec2(40, 0), 4.0, -0.5 * Pi));\n\tenemyBullet.push_back(Bullet(1, enemyPos, playerPos, 4.0, Pi));\n}\n```\n\n##U\u30bf\u30fc\u30f3\u5f3e\n\u4e0a\u306e\u81ea\u6a5f\u5916\u3057\u306b\u3082\u767b\u5834\u3057\u305f\u8d64\u3044\u5f3e\u3002\n\u5b9f\u88c5\u306e\u4ed5\u65b9\u306f\u3001\u6bce\u30d5\u30ec\u30fc\u30e0\u3054\u3068\u306b\u884c\u308f\u308c\u308b\u5f3e\u306e\u79fb\u52d5\u3001\u305d\u306e\u901f\u5ea6\u3092\u3044\u3058\u308b\u3060\u3051\u3002\u901f\u5ea6\u5909\u5316\u306e\u7279\u5225\u306a\u51e6\u7406\u306f\u3001\u5f3e\u306eupdate\u95a2\u6570\u306b\u304b\u3044\u3066\u3044\u308b\u3002\n\u81ea\u6a5f\u72d9\u3044\u306e\u5834\u5408\u3001\u6700\u521d\u306f\u30de\u30a4\u30ca\u30b91.0\u500d\u3001\u6b21\u306f-0.966\u500d\u3001-0.933\u500d\u3068\u3044\u3046\u3088\u3046\u306b\u901f\u5ea6\u306e\u500d\u7387\u3092\u5909\u5316\u3055\u305b\u308b\u3002\uff08\u5909\u5316\u91cf\u306f\u304a\u597d\u307f\u306b\u8abf\u6574\uff09\n\u3084\u304c\u3066\u901f\u5ea6\u306e\u7b26\u53f7\u304c\u9006\u8ee2\u3057\u3001\u81ea\u6a5f\u3044\u308b\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u304f\u308b\u3088\u3046\u306b\u306a\u308b\u3002\u7b49\u901f\u306e\u5f3e\u3068\u306f\u9055\u3046\u8ecc\u9053\u3092\u63cf\u304f\u306e\u3060\u3002\u5f3e\u306e\u7d4c\u904e\u6642\u9593\u306b\u3064\u3044\u3066\u306f\u3001U\u30bf\u30fc\u30f3\u5f3e\u3092\u751f\u6210\u3059\u308b\u3068\u304d\u306b\u30bf\u30a4\u30de\u30fc\uff08\u5024:1000\uff09\u304c\u8a2d\u5b9a\u3055\u308c\u3001\u305d\u306e\u30bf\u30a4\u30de\u30fc\u304c1\u30d5\u30ec\u30fc\u30e0\u3054\u3068\u306b1\u305a\u3064\u6e1b\u5c11\u3059\u308b\u3053\u3068\u3092\u5229\u7528\u3057\u3066\u8a08\u7b97\u3067\u304d\u308b\u3002\n\n```cpp:\u901f\u5ea6\u5909\u5316\nint32 update() \n{\n\t// \u5f3e\u306e\u7a2e\u985e\u5225\u306b\u884c\u308f\u308c\u308b\u3001\u7279\u6b8a\u306a\u51e6\u7406\u3092\u3053\u3053\u306b\u304b\u304f\n\tswitch (type)\n\t{\n\tcase 10:\n\t\tpos.moveBy(direction * (1000 - timer) / 30.0);\n\t\tbreak;\n\t// \u307b\u304b\u306e\u7a2e\u985e\u306e\u51e6\u7406\u306f\u7701\u7565\n\n\t// \u7279\u5225\u306a\u52d5\u304d\u306e\u306a\u3044\u901a\u5e38\u306e\u5f3e\u306e\u5834\u5408\n\tdefault:\n\t\tpos.moveBy(direction);\n\t\tbreak;\n\t}\n\tif (timer > 0) --timer;\n\tif (timer == 0)\n\t{\n\t\ttimer = -1;\n\t\treturn 1;\n\t}\n\t\treturn 0;\n}\n```\n\n##\u79fb\u52d5\u3068\u9023\u52d5\u3057\u305f\u653b\u6483\n\n\u306a\u304c\u308c\u307c\u30b7\u30e5\u30fc\u306e\u5834\u5408\u3001\u6575\u306e\u591a\u304f\u306e\u653b\u6483\u306f\u5171\u901a\u3057\u3066\u300c\u5de6\u53f3\u306b\u3086\u3089\u3086\u3089\u63fa\u308c\u308b\u300d\u52d5\u304d\u3092\u3059\u308b\u304c\u3001\u305d\u308c\u3092\u3082\u5909\u5316\u3055\u305b\u308b\u3068\u304c\u3067\u304d\u308b\u3002\n\u7279\u5b9a\u306e\u30b9\u30c6\u30fc\u30b8\u306e\u5834\u5408\u306e\u307f\u3001\u7279\u6b8a\u306a\u52d5\u304d\u3092\u3059\u308b\u653b\u6483\u3082\u7528\u610f\u3067\u304d\u308b\u306e\u3060\u3002\n\n![20161121-232255-459.png](https://qiita-image-store.s3.amazonaws.com/0/100088/4c119d8c-497c-a293-6882-d871262f89f6.png)\n\n\n```cpp:\u6575\u306e\u79fb\u52d5\nvoid MainGame::enemyMove() {\n\tswitch(stage)\n\t{\n\t// \u30b9\u30c6\u30fc\u30b85-3(22)\u306e\u307f\u306e\u7279\u6b8a\u30d1\u30bf\u30fc\u30f3\u3000\u753b\u9762\u5168\u4f53\u306b\u5186\u3092\u63cf\u304f\u3088\u3046\u306b\u79fb\u52d5\u3057\u3001\u305d\u306e\u5f8c\u753b\u9762\u4e0a\u90e8\u3092\u3046\u308d\u3046\u308d\u3059\u308b\u3002\u305d\u306e\u7e70\u308a\u8fd4\u3057\u3002\n\tcase 22:\n\t\tif (enemyCount % 300 < 25 || enemyCount % 300 >= 250) enemyPos2 = { 400, 50 };\n\t\telse if (enemyCount % 300 < 125) {\n\t\t\tenemyPos2.x = Sin(((enemyCount % 300) - 25) / 45.0 * Pi) * 400 + 400;\n\t\t\tenemyPos2.y = -Cos(((enemyCount % 300) - 25) / 45.0 * Pi) * 300 + 300;\n\t\t}\n\t\telse {\n\t\t\tenemyPos2 = { Sin(((enemyCount % 300) - 115) / 45.0 * Pi) * 150 + 400, Sin(((enemyCount % 300) - 115) / 22.5 * Pi) * 10 + 100 };\n\t\t}\n\t\tbreak;\n\t// \u901a\u5e38\u306e\u52d5\u304d\n\tdefault:\n\t\tenemyPos2.x = -Sin(enemyCount / 120.0 * Pi) * 200 + 400;\n\t\tenemyPos2.y = Sin((enemyCount) / 50.0 * Pi) * 30 + 150;\n\t\tbreak;\n\t}\n}\n```\n\n\u30b9\u30c6\u30fc\u30b85-3\u306f\u505c\u6b62\u5f3e\u3092\u5186\u72b6\u306b\u3070\u3089\u307e\u304d\u3001\u305d\u306e\u505c\u6b62\u5f3e\u304c\u6642\u9593\u7d4c\u904e\u3067\u7206\u767a\u3057\u5c0f\u3055\u3044\u5f3e\u3068\u306a\u3063\u3066\u30e9\u30f3\u30c0\u30e0\u65b9\u5411\u306b\u3070\u3089\u307e\u304b\u308c\u308b\u3068\u3044\u3046\u3082\u306e\u3002\n\n#\u304a\u308f\u308a\u306b\n\n\u5f3e\u5e55\u3063\u307d\u3044\u3082\u306e\u3092\u4f5c\u308b\u306e\u3063\u3066\u3001\u3084\u3063\u3071\u308a\u5927\u5909\u3002 \u306a\u304c\u308c\u307c\u30b7\u30e5\u30fc\u306e\u305f\u3081\u306b\u305f\u3063\u304f\u3055\u3093\u7a2e\u985e\u3092\u4f5c\u3063\u305f\u3051\u3069\u30011\u30641\u3064\u4f5c\u308b\u306e\u306b\u4f55\u5ea6\u3082\u8a66\u884c\u932f\u8aa4\u3057\u305f\u3057\u3001\u982d\u4f7f\u3046\u4f5c\u696d\u3060\u3063\u305f\u3002\n\u3053\u3093\u306a\u8a18\u4e8b\u66f8\u6c17\u306a\u304c\u3089\u8a00\u3046\u306e\u306f\u96e3\u3060\u3051\u3069\u3001\u767a\u60f3\u529b\u304c\u81ea\u5206\u306b\u306f\u8db3\u308a\u306a\u304b\u3063\u305f\u3002\n\n\u3042\u3068\u3001\u3082\u3063\u3068Siv3D\u304f\u3093\u306f\u3084\u3089\u305b\u3088\u3046\u305c\uff01\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u304a\u308f\u308a\u3067\u3059\u3002\n\u660e\u65e5\u306f @Pctg-x8 \u3055\u3093\u3067\u3059\u3002\u3088\u308d\u3057\u304f\u304a\u306d\u304c\u3044\u3057\u307e\u3059\u3002\n", "tags": ["Siv3D"]}