{"context": " More than 1 year has passed since last update.\n\nPHP5.6\u3067SMTP\u306ehost\u304cssl\u306e\u5834\u5408\u306b\u6ce8\u610f\uff01\n\n\u554f\u984c\nCakePHP2\u3067\u30b7\u30b9\u30c6\u30e0\u3092\u666e\u901a\u306b\u69cb\u7bc9\u3057\u3066\u3001\u666e\u901a\u306bSMTP\u3067\u30e1\u30fc\u30eb\u9001\u4fe1\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u3066\u3001\u30ea\u30ea\u30fc\u30b9\u3057\u305f\u3089\u30e1\u30fc\u30eb\u304c\u98db\u3070\u306a\u3044\uff01\u3068\u9023\u7d61\u304c\u3002\u3002\u3002\n\u30ed\u30b0\u3092\u898b\u308b\u3068\nError: [SocketException] stream_socket_client(): SSL operati\non failed with code 1. OpenSSL Error messages:\nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify faile\nd\nstream_socket_client(): Failed to enable crypto\nstream_socket_client(): unable to connect to ssl://\u25cb\u25cb.jp:465 (Unknown error)\n\n\n\u306a\u3093\u304bSSL\u5468\u308a\u306e\u30a8\u30e9\u30fc\u304c\u30fb\u30fb\u30fb\u3002\n\u5b9f\u306f\u3001\u305d\u306e\u76f4\u524d\u306b\u540c\u4e00\u30b5\u30fc\u30d0\u306b\u4e57\u3063\u3066\u3044\u308b\u5225\u6848\u4ef6\u3067\u540c\u3058\u3053\u3068\u304c\u8d77\u304d\u3066\u3066\u3001\u305d\u306e\u6848\u4ef6\u3067\u306fPHPMailer\u3092\u4f7f\u7528\u3057\u3066\u3044\u305f\u306e\u3067\u4e0b\u8a18\u8a18\u4e8b\u3067\u5bfe\u5fdc\u3057\u3066\u307e\u3057\u305f\u3002\nhttp://stackoverflow.com/questions/26827192/phpmailer-ssl3-get-server-certificatecertificate-verify-failed\n\u4eca\u56de\u306fCakeEmail\u3060\u3063\u305f\u3093\u3067\u3059\u304c\u3001CakeEmail\u3067\u306f\u60c5\u5831\u304c\u3042\u307e\u308a\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u8272\u3005\u6398\u308a\u8fd4\u3057\u305f\u3068\u3053\u308d\u3002\u3002\u3002\n\n\u539f\u56e0\nhttp://php.net/manual/ja/context.ssl.php\nPHP5.6\u304b\u3089SSL \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306everify_peer\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304ctrue\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3002\u3002\n\u958b\u767a\u74b0\u5883\u30825.6\u306b\u5408\u308f\u305b\u3066\u3044\u308b\u3068\u601d\u3063\u3066\u305f\u30895.5\u3060\u3063\u305f\u3088\u30de\u30de\u30f3\u30fb\u30fb\u30fb\n\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3001\u8a3c\u660e\u66f8\u306e\u8a8d\u8a3c\u3092\u5fc5\u9808\u3068\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u306a\u3093\u3067\u3059\u304c\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u8a3c\u660e\u66f8\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3063\u307d\u3044\u3002\u3002\u3002\nSMTP\u60c5\u5831\u3092\u8cb0\u3046\u969b\u306b\u8a3c\u660e\u66f8\u3068\u304b\u8cb0\u308f\u306a\u3044\u3088\u30fb\u30fb\u30fb\u3002\n\nCakeEmail\u306e\u5834\u5408\u306e\u5bfe\u5fdc\u7b56\n\npublic $smtp = array(\n    'transport' => 'Smtp',\n    'from' => array('site@\u25cb\u25cb.jp' => 'My Site'),\n    'host' => 'ssl://\u25cb\u25cb.jp',\n    'port' => 465,\n    'timeout' => 30,\n    'username' => 'user',\n    'password' => 'secret',\n    'client' => null,\n    'log' => false,\n    //'charset' => 'utf-8',\n    //'headerCharset' => 'utf-8',\n    //\u3053\u3053\u304b\u3089\n    'context' => array(\n        'ssl' => array(\n            'verify_peer' => false,\n            'verify_peer_name' => false,\n            'allow_self_signed' => true\n        )\n    )\n    //\u3053\u3053\u307e\u3067\n);\n\n\nCookbook\u306b\u3082\u60c5\u5831\u304c\u898b\u5f53\u305f\u3089\u306a\u304f\u3066\u7d50\u5c40\u30bd\u30fc\u30b9\u304b\u3089\u66f8\u304d\u65b9\u3092\u767a\u6398\u3057\u307e\u3057\u305f\u30fb\u30fb\u30fb\u3002\n# PHP5.6\u3067SMTP\u306ehost\u304cssl\u306e\u5834\u5408\u306b\u6ce8\u610f\uff01\n\n## \u554f\u984c\n\nCakePHP2\u3067\u30b7\u30b9\u30c6\u30e0\u3092\u666e\u901a\u306b\u69cb\u7bc9\u3057\u3066\u3001\u666e\u901a\u306bSMTP\u3067\u30e1\u30fc\u30eb\u9001\u4fe1\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u3066\u3001\u30ea\u30ea\u30fc\u30b9\u3057\u305f\u3089\u30e1\u30fc\u30eb\u304c\u98db\u3070\u306a\u3044\uff01\u3068\u9023\u7d61\u304c\u3002\u3002\u3002\n\n\u30ed\u30b0\u3092\u898b\u308b\u3068\n\n```\nError: [SocketException] stream_socket_client(): SSL operati\non failed with code 1. OpenSSL Error messages:\nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify faile\nd\nstream_socket_client(): Failed to enable crypto\nstream_socket_client(): unable to connect to ssl://\u25cb\u25cb.jp:465 (Unknown error)\n\n```\n\n\u306a\u3093\u304bSSL\u5468\u308a\u306e\u30a8\u30e9\u30fc\u304c\u30fb\u30fb\u30fb\u3002\n\n\u5b9f\u306f\u3001\u305d\u306e\u76f4\u524d\u306b\u540c\u4e00\u30b5\u30fc\u30d0\u306b\u4e57\u3063\u3066\u3044\u308b\u5225\u6848\u4ef6\u3067\u540c\u3058\u3053\u3068\u304c\u8d77\u304d\u3066\u3066\u3001\u305d\u306e\u6848\u4ef6\u3067\u306fPHPMailer\u3092\u4f7f\u7528\u3057\u3066\u3044\u305f\u306e\u3067\u4e0b\u8a18\u8a18\u4e8b\u3067\u5bfe\u5fdc\u3057\u3066\u307e\u3057\u305f\u3002\n\nhttp://stackoverflow.com/questions/26827192/phpmailer-ssl3-get-server-certificatecertificate-verify-failed\n\n\u4eca\u56de\u306fCakeEmail\u3060\u3063\u305f\u3093\u3067\u3059\u304c\u3001CakeEmail\u3067\u306f\u60c5\u5831\u304c\u3042\u307e\u308a\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u8272\u3005\u6398\u308a\u8fd4\u3057\u305f\u3068\u3053\u308d\u3002\u3002\u3002\n\n## \u539f\u56e0\n\nhttp://php.net/manual/ja/context.ssl.php\n\nPHP5.6\u304b\u3089SSL \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u306everify_peer\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304ctrue\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3002\u3002\n\n~~\u958b\u767a\u74b0\u5883\u30825.6\u306b\u5408\u308f\u305b\u3066\u3044\u308b\u3068\u601d\u3063\u3066\u305f\u30895.5\u3060\u3063\u305f\u3088\u30de\u30de\u30f3\u30fb\u30fb\u30fb~~\n\n\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3001\u8a3c\u660e\u66f8\u306e\u8a8d\u8a3c\u3092\u5fc5\u9808\u3068\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u306a\u3093\u3067\u3059\u304c\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u8a3c\u660e\u66f8\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3063\u307d\u3044\u3002\u3002\u3002\n\nSMTP\u60c5\u5831\u3092\u8cb0\u3046\u969b\u306b\u8a3c\u660e\u66f8\u3068\u304b\u8cb0\u308f\u306a\u3044\u3088\u30fb\u30fb\u30fb\u3002\n\n## CakeEmail\u306e\u5834\u5408\u306e\u5bfe\u5fdc\u7b56\n\n```php\n\npublic $smtp = array(\n\t'transport' => 'Smtp',\n\t'from' => array('site@\u25cb\u25cb.jp' => 'My Site'),\n\t'host' => 'ssl://\u25cb\u25cb.jp',\n\t'port' => 465,\n\t'timeout' => 30,\n\t'username' => 'user',\n\t'password' => 'secret',\n\t'client' => null,\n\t'log' => false,\n\t//'charset' => 'utf-8',\n\t//'headerCharset' => 'utf-8',\n\t//\u3053\u3053\u304b\u3089\n\t'context' => array(\n\t\t'ssl' => array(\n\t\t\t'verify_peer' => false,\n\t\t\t'verify_peer_name' => false,\n\t\t\t'allow_self_signed' => true\n\t\t)\n    )\n\t//\u3053\u3053\u307e\u3067\n);\n\n```\nCookbook\u306b\u3082\u60c5\u5831\u304c\u898b\u5f53\u305f\u3089\u306a\u304f\u3066\u7d50\u5c40\u30bd\u30fc\u30b9\u304b\u3089\u66f8\u304d\u65b9\u3092\u767a\u6398\u3057\u307e\u3057\u305f\u30fb\u30fb\u30fb\u3002\n\n", "tags": ["PHP", "SSL", "mail", "cakephp2"]}