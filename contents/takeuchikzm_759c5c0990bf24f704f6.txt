{"tags": ["storm0.9.2-incubating", "Clojure"], "context": " More than 1 year has passed since last update.Storm\u306b\u304a\u3051\u308b\u6a19\u6e96\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u6a5f\u69cb\u306b\u3064\u3044\u3066\u306e\u30e1\u30e2\u3002\n\n\u57fa\u672c\u30eb\u30fc\u30eb\n\n\nStorm\u3067\u306flog\u51fa\u529b\u6a5f\u69cb\u3068\u3057\u3066\u306fslf4j+logback\u304c\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u3002\n\nlogback\u81ea\u8eab\u304c\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u304a\u3088\u3073\u6d88\u3057\u8fbc\u307f\u3092\u3057\u3066\u304f\u308c\u308b\u3002\nStorm\u3067\u306f\u6027\u80fd\u9762\u3092\u8003\u3048\u3066FixedWindowRollingPolicy(Size100MB\u6bce)\u3092\n\u5229\u7528\u3057\u3066\u3044\u308b\u3002\u3000\n\n\n\n\ncluster.xml\n<configuration scan=\"true\" scanPeriod=\"60 seconds\">\n <appender name=\"A1\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>/var/log/storm/${logfile.name}</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n      <fileNamePattern>/var/log/storm/${logfile.name}-%d{yyyy-MM-dd}.%i</fileNamePattern>\n      <timeBasedFileNamingAndTriggeringPolicy\n            class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n        <!-- or whenever the file size reaches 100MB -->\n        <maxFileSize>1MB</maxFileSize>\n      </timeBasedFileNamingAndTriggeringPolicy>\n      <maxHistory>9</maxHistory>\n    </rollingPolicy>\n    <!-- \n    <rollingPolicy class=\"ch.qos.logback.core.rolling.FixedWindowRollingPolicy\">\n      <fileNamePattern>/var/log/storm/${logfile.name}.%i</fileNamePattern>\n      <minIndex>1</minIndex>\n      <maxIndex>9</maxIndex>\n    </rollingPolicy>\n\n    </rollingPolicy>\n      <triggeringPolicy class=\"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy\">\n        <maxFileSize>100MB</maxFileSize>\n      </triggeringPolicy>\n    </rollingPolicy>\n    -->\n\n\n    <encoder>\n      <pattern>%d{yyyy-MM-dd HH:mm:ss} %c{1} [%p] %m%n</pattern>\n    </encoder>\n </appender>\n\n\n\n\u3053\u306e\u5834\u5408\u3001nimbus.log-2014-08-07.1\u306e\u3088\u3046\u306a\u540d\u524d\u3067\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u3002\n\nmaxHistory\u306f\u65e5\u6570\u3067\u30ab\u30a6\u30f3\u30c8\u3055\u308c\u3001\u540c\u65e5\u4e2d\u306b\u30b5\u30a4\u30ba\u8d77\u56e0\u3067\u30d5\u30a1\u30a4\u30eb\u6570\u304cmaxHistory\u3092\u8d8a\u3048\u3066\u3082\u6d88\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3002\n\u5927\u62b5\u306e\u307e\u3068\u3082\u306a\u30b7\u30b9\u30c6\u30e0\u306e\u5834\u5408\u3001\u4f55\u65e5\u9593\u5206\u306f\u4fdd\u5b58\u3059\u308b\u307f\u305f\u3044\u306a\u30b7\u30b9\u30c6\u30e0\u4ed5\u69d8\u304c\u3042\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u4e0a\u8a18\u8a2d\u5b9a\u3060\u3068\u529b\u4e0d\u8db3\u304b\u3082\u3002\n\n\naccess.log\nbacktype.storm.security.auth.authorizer\u30d1\u30c3\u30b1\u30fc\u30b8\u914d\u4e0b\u306e\u30af\u30e9\u30b9\u304c\u51fa\u3059\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3002\n\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306f0.9.2-incubating\u3067\u306f\u5229\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u304ccluster.xml\u306b\u8a2d\u5b9a\u304c\u3042\u308b\u305f\u30810\u30d0\u30a4\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u308b\u3002\n(\u73fe\u5728\u3001storm\u306esecurity\u6a5f\u80fd\u304c\u6d3b\u767a\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u305d\u306e\u3042\u305f\u308a\u3067\u4f7f\u3046\u306e\u304b\u30c8\u30dd\u30ed\u30b8\u5074\u304b\u3089\u4f7f\u3046\u3082\u306e\u306a\u306e\u304b\u306f\u3061\u3083\u3093\u3068\u8abf\u3079\u3066\u3044\u306a\u3044\u3002)\n\nnimbus.log\nnimbus\u306e\u30ed\u30b0\u3002storm\u30b3\u30de\u30f3\u30c9\u4e2d\u306b-Dlogfile.name=nimbus.log\u3068\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3053\u306e\u540d\u524d\u306b\u306a\u308b\u3002\n\u5909\u66f4\u306fstorm\u30b3\u30de\u30f3\u30c9\u3092\u3044\u3058\u3089\u306a\u3044\u3068\u7dba\u9e97\u306b\u306f\u3067\u304d\u306a\u3044\u3002\u304a\u306a\u304f\u3058\u3001logback\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u540d\u3082\u540c\u69d8\u306b\u30b3\u30de\u30f3\u30c9\u4e2d\u306b\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u5909\u66f4\u306f\u3084\u3084\u96e3\u3057\u3044\u3002\n\u3042\u307e\u308a\u5909\u3048\u305f\u304f\u306a\u308b\u3053\u3068\u3082\u7121\u3044\u306e\u3067\u3044\u3044\u304b\u3001\u3068\u3044\u3046\u611f\u3058\u3002\n\nsupervisor.log, ui.log, drpc.log\nnimbus\u3068\u540c\u69d8\u3002\n\nworker-(port\u756a\u53f7).log\nsupervisor.clj\u306e\u4e2d\u304b\u3089\u8d77\u52d5\u3055\u308c\u308b\u969b\u306b\u30b3\u30fc\u30c9\u4e2d\u306e\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u3067\u6307\u5b9a\u3055\u308c\u308b\u305f\u3081\u540d\u524d\u306f\u5909\u66f4\u4e0d\u53ef\u3002\n\nstorm-core/src/clj/backtype/storm/daemon/supervisor.clj\n(defmethod launch-worker\n    :distributed [supervisor storm-id port worker-id]\n    (let [conf (:conf supervisor)\n          storm-home (System/getProperty \"storm.home\")\n          stormroot (supervisor-stormdist-root conf storm-id)\n          jlp (jlp stormroot conf)\n          stormjar (supervisor-stormjar-path stormroot)\n          storm-conf (read-supervisor-storm-conf conf storm-id)\n          classpath (add-to-classpath (current-classpath) [stormjar])\n          worker-childopts (when-let [s (conf WORKER-CHILDOPTS)]\n                             (substitute-worker-childopts s port))\n          topo-worker-childopts (when-let [s (storm-conf TOPOLOGY-WORKER-CHILDOPTS)]\n                                  (substitute-worker-childopts s port))\n          logfilename (str \"worker-\" port \".log\") <- \u3053\u3053\n          command (concat\n                    [(java-cmd) \"-server\"]\n                    worker-childopts\n                    topo-worker-childopts\n                    [(str \"-Djava.library.path=\" jlp)\n                     (str \"-Dlogfile.name=\" logfilename)\n                     (str \"-Dstorm.home=\" storm-home)\n                     (str \"-Dlogback.configurationFile=\" storm-home \"/logback/cluster.xml\")\n                     (str \"-Dstorm.id=\" storm-id)\n                     (str \"-Dworker.id=\" worker-id)\n                     (str \"-Dworker.port=\" port)\n                     \"-cp\" classpath\n                     \"backtype.storm.daemon.worker\"\n                     storm-id\n                     (:assignment-id supervisor)\n                     port\n                     worker-id])\n          command (->> command (map str) (filter (complement empty?)))\n          shell-cmd (->> command\n                         (map #(str \\' (clojure.string/escape % {\\' \"\\\\'\"}) \\'))\n                         (clojure.string/join \" \"))]\n      (log-message \"Launching worker with command: \" shell-cmd)\n      (launch-process command :environment {\"LD_LIBRARY_PATH\" jlp})\n      ))\n\n\n\u305f\u3060\u3057\u3001worker.childopts\u3084topology.worker.childopts\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a18\u8f09\u3055\u308c\u305f%ID%\u3068\u3044\u3046\u6587\u5b57\u5217\u306fworker\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u81ea\u52d5\u7684\u306b\u5dee\u3057\u66ff\u3048\u3092\u3057\u3066\u304f\u308c\u308b\u3002\n\nstorm-core/src/clj/backtype/storm/daemon/supervisor.clj\n(defn- substitute-worker-childopts [value port]\n  (let [sub-fn (fn [s] (.replaceAll s \"%ID%\" (str port)))]\n    (if (list? value)\n      (map sub-fn value)\n      (-> value sub-fn (.split \" \")))))\n\n\n\nnimbus.out, supervisor.out, ui.out, drpc.out\n\u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u306flogback\u7d4c\u7531\u3067\u51fa\u529b\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u30c7\u30fc\u30e2\u30f3\u30d7\u30ed\u30bb\u30b9\u81ea\u4f53\u306e\u6a19\u6e96\u51fa\u529b\u3067\u3042\u308b\u70b9\u306b\u6ce8\u610f\u3002\nstorm\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f/etc/init.d\u914d\u4e0b\u306e\u30b9\u30bf\u30fc\u30c8\u30b9\u30c8\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u7b49\u306f\u914d\u5e03\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u81ea\u5206\u3067nohup\u30b3\u30de\u30f3\u30c9\u7b49\u3092\u5229\u7528\u3057\u3066\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u53d6\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u3082\u3061\u308d\u3093\u3001\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3084\u6d88\u3057\u8fbc\u307f\u3082\u81ea\u5206\u3067\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u3042\u308a\u3002\nstorm\u306e\u30b9\u30bf\u30fc\u30c8\u30b9\u30c8\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u914d\u5e03\u3057\u3066\u3044\u308b\u4eba\u3082\u30c1\u30e9\u30db\u30e9\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u305d\u3053\u304b\u3089\u53d6\u3063\u3066\u304f\u308c\u3070\u697d\u304b\u3082\u3002\n\nworker-(port\u756a\u53f7).gc\nworker\u306fsupervisor\u30d7\u30ed\u30bb\u30b9\u304c\u5185\u90e8\u3067\u8d77\u52d5\u3059\u308b\u306e\u3067 -Xloggc:filename\u7b49\u306eJVM\u30aa\u30d7\u30b7\u30e7\u30f3\u3092worker.childopts\u30d7\u30ed\u30d1\u30c6\u30a3\u7b49\u306b\u6307\u5b9a\u3057\u3066\u3067\u304d\u308b\u7bc4\u56f2\u306e\u30ed\u30b0\u4fdd\u5b58\u3057\u304b\u3067\u304d\u306a\u3044\u3002\nport\u756a\u53f7\u306e\u90e8\u5206\u306f\u3001worker-(port\u756a\u53f7).log\u3068\u540c\u69d8\u306b%ID%\u3068\u3044\u3046\u6587\u5b57\u3092\u4f7f\u3063\u3066\u5dee\u3057\u66ff\u3048\u308b\u3068\u826f\u3044\u3002\nStorm\u306b\u304a\u3051\u308b\u6a19\u6e96\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u51fa\u529b\u6a5f\u69cb\u306b\u3064\u3044\u3066\u306e\u30e1\u30e2\u3002\n\n# \u57fa\u672c\u30eb\u30fc\u30eb\n\n* Storm\u3067\u306flog\u51fa\u529b\u6a5f\u69cb\u3068\u3057\u3066\u306fslf4j+logback\u304c\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u3002\n\n  + logback\u81ea\u8eab\u304c\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u304a\u3088\u3073\u6d88\u3057\u8fbc\u307f\u3092\u3057\u3066\u304f\u308c\u308b\u3002\n  + Storm\u3067\u306f\u6027\u80fd\u9762\u3092\u8003\u3048\u3066`FixedWindowRollingPolicy`(Size100MB\u6bce)\u3092\n    \u5229\u7528\u3057\u3066\u3044\u308b\u3002\u3000\n\n```XML:cluster.xml\n<configuration scan=\"true\" scanPeriod=\"60 seconds\">\n <appender name=\"A1\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\">\n    <file>/var/log/storm/${logfile.name}</file>\n    <rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\">\n      <fileNamePattern>/var/log/storm/${logfile.name}-%d{yyyy-MM-dd}.%i</fileNamePattern>\n      <timeBasedFileNamingAndTriggeringPolicy\n            class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\">\n        <!-- or whenever the file size reaches 100MB -->\n        <maxFileSize>1MB</maxFileSize>\n      </timeBasedFileNamingAndTriggeringPolicy>\n      <maxHistory>9</maxHistory>\n    </rollingPolicy>\n    <!-- \n    <rollingPolicy class=\"ch.qos.logback.core.rolling.FixedWindowRollingPolicy\">\n      <fileNamePattern>/var/log/storm/${logfile.name}.%i</fileNamePattern>\n      <minIndex>1</minIndex>\n      <maxIndex>9</maxIndex>\n    </rollingPolicy>\n\n    </rollingPolicy>\n      <triggeringPolicy class=\"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy\">\n        <maxFileSize>100MB</maxFileSize>\n      </triggeringPolicy>\n    </rollingPolicy>\n    -->\n\n\n    <encoder>\n      <pattern>%d{yyyy-MM-dd HH:mm:ss} %c{1} [%p] %m%n</pattern>\n    </encoder>\n </appender>\n```\n\n* \u3053\u306e\u5834\u5408\u3001`nimbus.log-2014-08-07.1`\u306e\u3088\u3046\u306a\u540d\u524d\u3067\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u3002\n* `maxHistory`\u306f\u65e5\u6570\u3067\u30ab\u30a6\u30f3\u30c8\u3055\u308c\u3001\u540c\u65e5\u4e2d\u306b\u30b5\u30a4\u30ba\u8d77\u56e0\u3067\u30d5\u30a1\u30a4\u30eb\u6570\u304c`maxHistory`\u3092\u8d8a\u3048\u3066\u3082\u6d88\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3002\n* \u5927\u62b5\u306e\u307e\u3068\u3082\u306a\u30b7\u30b9\u30c6\u30e0\u306e\u5834\u5408\u3001\u4f55\u65e5\u9593\u5206\u306f\u4fdd\u5b58\u3059\u308b\u307f\u305f\u3044\u306a\u30b7\u30b9\u30c6\u30e0\u4ed5\u69d8\u304c\u3042\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u4e0a\u8a18\u8a2d\u5b9a\u3060\u3068\u529b\u4e0d\u8db3\u304b\u3082\u3002\n\n# access.log\n\n`backtype.storm.security.auth.authorizer`\u30d1\u30c3\u30b1\u30fc\u30b8\u914d\u4e0b\u306e\u30af\u30e9\u30b9\u304c\u51fa\u3059\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb\u3002\n\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306f0.9.2-incubating\u3067\u306f\u5229\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u304c`cluster.xml`\u306b\u8a2d\u5b9a\u304c\u3042\u308b\u305f\u30810\u30d0\u30a4\u30c8\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u308b\u3002\n(\u73fe\u5728\u3001storm\u306esecurity\u6a5f\u80fd\u304c\u6d3b\u767a\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u305d\u306e\u3042\u305f\u308a\u3067\u4f7f\u3046\u306e\u304b\u30c8\u30dd\u30ed\u30b8\u5074\u304b\u3089\u4f7f\u3046\u3082\u306e\u306a\u306e\u304b\u306f\u3061\u3083\u3093\u3068\u8abf\u3079\u3066\u3044\u306a\u3044\u3002)\n\n# nimbus.log\n\nnimbus\u306e\u30ed\u30b0\u3002storm\u30b3\u30de\u30f3\u30c9\u4e2d\u306b`-Dlogfile.name=nimbus.log`\u3068\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3053\u306e\u540d\u524d\u306b\u306a\u308b\u3002\n\u5909\u66f4\u306fstorm\u30b3\u30de\u30f3\u30c9\u3092\u3044\u3058\u3089\u306a\u3044\u3068\u7dba\u9e97\u306b\u306f\u3067\u304d\u306a\u3044\u3002\u304a\u306a\u304f\u3058\u3001logback\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u540d\u3082\u540c\u69d8\u306b\u30b3\u30de\u30f3\u30c9\u4e2d\u306b\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u5909\u66f4\u306f\u3084\u3084\u96e3\u3057\u3044\u3002\n\n\u3042\u307e\u308a\u5909\u3048\u305f\u304f\u306a\u308b\u3053\u3068\u3082\u7121\u3044\u306e\u3067\u3044\u3044\u304b\u3001\u3068\u3044\u3046\u611f\u3058\u3002\n\n# supervisor.log, ui.log, drpc.log\n\nnimbus\u3068\u540c\u69d8\u3002\n\n# worker-(port\u756a\u53f7).log\n\nsupervisor.clj\u306e\u4e2d\u304b\u3089\u8d77\u52d5\u3055\u308c\u308b\u969b\u306b\u30b3\u30fc\u30c9\u4e2d\u306e\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u3067\u6307\u5b9a\u3055\u308c\u308b\u305f\u3081\u540d\u524d\u306f\u5909\u66f4\u4e0d\u53ef\u3002\n\n```clojure:storm-core/src/clj/backtype/storm/daemon/supervisor.clj:462\n(defmethod launch-worker\n    :distributed [supervisor storm-id port worker-id]\n    (let [conf (:conf supervisor)\n          storm-home (System/getProperty \"storm.home\")\n          stormroot (supervisor-stormdist-root conf storm-id)\n          jlp (jlp stormroot conf)\n          stormjar (supervisor-stormjar-path stormroot)\n          storm-conf (read-supervisor-storm-conf conf storm-id)\n          classpath (add-to-classpath (current-classpath) [stormjar])\n          worker-childopts (when-let [s (conf WORKER-CHILDOPTS)]\n                             (substitute-worker-childopts s port))\n          topo-worker-childopts (when-let [s (storm-conf TOPOLOGY-WORKER-CHILDOPTS)]\n                                  (substitute-worker-childopts s port))\n          logfilename (str \"worker-\" port \".log\") <- \u3053\u3053\n          command (concat\n                    [(java-cmd) \"-server\"]\n                    worker-childopts\n                    topo-worker-childopts\n                    [(str \"-Djava.library.path=\" jlp)\n                     (str \"-Dlogfile.name=\" logfilename)\n                     (str \"-Dstorm.home=\" storm-home)\n                     (str \"-Dlogback.configurationFile=\" storm-home \"/logback/cluster.xml\")\n                     (str \"-Dstorm.id=\" storm-id)\n                     (str \"-Dworker.id=\" worker-id)\n                     (str \"-Dworker.port=\" port)\n                     \"-cp\" classpath\n                     \"backtype.storm.daemon.worker\"\n                     storm-id\n                     (:assignment-id supervisor)\n                     port\n                     worker-id])\n          command (->> command (map str) (filter (complement empty?)))\n          shell-cmd (->> command\n                         (map #(str \\' (clojure.string/escape % {\\' \"\\\\'\"}) \\'))\n                         (clojure.string/join \" \"))]\n      (log-message \"Launching worker with command: \" shell-cmd)\n      (launch-process command :environment {\"LD_LIBRARY_PATH\" jlp})\n      ))\n```\n\n\u305f\u3060\u3057\u3001`worker.childopts`\u3084`topology.worker.childopts`\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u8a18\u8f09\u3055\u308c\u305f%ID%\u3068\u3044\u3046\u6587\u5b57\u5217\u306fworker\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u81ea\u52d5\u7684\u306b\u5dee\u3057\u66ff\u3048\u3092\u3057\u3066\u304f\u308c\u308b\u3002\n\n```clojure:storm-core/src/clj/backtype/storm/daemon/supervisor.clj:448\n(defn- substitute-worker-childopts [value port]\n  (let [sub-fn (fn [s] (.replaceAll s \"%ID%\" (str port)))]\n    (if (list? value)\n      (map sub-fn value)\n      (-> value sub-fn (.split \" \")))))\n```\n\n# nimbus.out, supervisor.out, ui.out, drpc.out\n\n\u3053\u308c\u3089\u306e\u30d5\u30a1\u30a4\u30eb\u306flogback\u7d4c\u7531\u3067\u51fa\u529b\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u30c7\u30fc\u30e2\u30f3\u30d7\u30ed\u30bb\u30b9\u81ea\u4f53\u306e\u6a19\u6e96\u51fa\u529b\u3067\u3042\u308b\u70b9\u306b\u6ce8\u610f\u3002\n\nstorm\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f`/etc/init.d`\u914d\u4e0b\u306e\u30b9\u30bf\u30fc\u30c8\u30b9\u30c8\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u7b49\u306f\u914d\u5e03\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u81ea\u5206\u3067`nohup`\u30b3\u30de\u30f3\u30c9\u7b49\u3092\u5229\u7528\u3057\u3066\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u53d6\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u3082\u3061\u308d\u3093\u3001\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3084\u6d88\u3057\u8fbc\u307f\u3082\u81ea\u5206\u3067\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u3042\u308a\u3002\nstorm\u306e\u30b9\u30bf\u30fc\u30c8\u30b9\u30c8\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u914d\u5e03\u3057\u3066\u3044\u308b\u4eba\u3082\u30c1\u30e9\u30db\u30e9\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u305d\u3053\u304b\u3089\u53d6\u3063\u3066\u304f\u308c\u3070\u697d\u304b\u3082\u3002\n\n# worker-(port\u756a\u53f7).gc\n\nworker\u306fsupervisor\u30d7\u30ed\u30bb\u30b9\u304c\u5185\u90e8\u3067\u8d77\u52d5\u3059\u308b\u306e\u3067 `-Xloggc:filename`\u7b49\u306eJVM\u30aa\u30d7\u30b7\u30e7\u30f3\u3092worker.childopts\u30d7\u30ed\u30d1\u30c6\u30a3\u7b49\u306b\u6307\u5b9a\u3057\u3066\u3067\u304d\u308b\u7bc4\u56f2\u306e\u30ed\u30b0\u4fdd\u5b58\u3057\u304b\u3067\u304d\u306a\u3044\u3002\n\nport\u756a\u53f7\u306e\u90e8\u5206\u306f\u3001worker-(port\u756a\u53f7).log\u3068\u540c\u69d8\u306b%ID%\u3068\u3044\u3046\u6587\u5b57\u3092\u4f7f\u3063\u3066\u5dee\u3057\u66ff\u3048\u308b\u3068\u826f\u3044\u3002\n"}