{"context": " More than 1 year has passed since last update.\u7b2c\u56db\u56de\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\u306e\u89e3\u7b54(Ruby)\u3002\n\u554f\u984c\u306f\nhttp://nabetani.sakura.ne.jp/hena/ord4tetroid/\nPAT = [\n['L',[[0,0],[1,0],[2,0],[0,1]]],\n['I',[[0,0],[1,0],[2,0],[3,0]]],\n['T',[[0,0],[1,0],[2,0],[1,1]]],\n['O',[[0,0],[1,0],[0,1],[1,1]]],\n['S',[[0,0],[0,1],[1,1],[1,2]]],\n]\n\ndef adjust(pat)\n  ox = oy = 10\n  pat.each do |x,y|\n    ox = x if x < ox\n    oy = y if y < oy\n  end\n  pat.map{|x,y| [x - ox, y - oy]}.sort\nend\n\ndef solve(q)\n  make_map[adjust(q.split(',').map{|e| e.split('').map(&:to_i)})]\nend\n\ndef map_ext(pat)\n  yield adjust(pat)\n  3.times do\n    pat = pat.map{|x,y| [y,-x]}\n    yield adjust(pat)\n  end\n  pat = pat.map{|x,y| [x,-y]}\n  yield adjust(pat)\n  3.times do\n    pat = pat.map{|x,y| [y,-x]}\n    yield adjust(pat)\n  end\nend\n\ndef make_map\n  map = Hash.new('-')\n  PAT.each do |sym, pat|\n    map_ext(pat) do |pp|\n      map[pp.sort] = sym\n    end\n  end\n  map\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n#1  55,55,55,55 -\n#2  07,17,06,05 L\n#3  21,41,31,40 L\n#4  62,74,73,72 L\n#5  84,94,74,75 L\n#6  48,49,57,47 L\n#7  69,89,79,68 L\n#8  90,82,91,92 L\n#9  13,23,03,24 L\n#10 24,22,25,23 I\n#11 51,41,21,31 I\n#12 64,63,62,65 I\n#13 49,69,59,79 I\n#14 12,10,21,11 T\n#15 89,99,79,88 T\n#16 32,41,43,42 T\n#17 27,16,36,26 T\n#18 68,57,58,67 O\n#19 72,62,61,71 O\n#20 25,24,15,14 O\n#21 43,54,53,42 S\n#22 95,86,76,85 S\n#23 72,73,84,83 S\n#24 42,33,32,23 S\n#25 66,57,67,58 S\n#26 63,73,52,62 S\n#27 76,68,77,67 S\n#28 12,11,22,01 S\n#29 05,26,06,25 -\n#30 03,11,13,01 -\n#31 11,20,00,21 -\n#32 84,95,94,86 -\n#33 36,56,45,35 -\n#34 41,33,32,43 -\n#35 75,94,84,95 -\n#36 27,39,28,37 -\n#37 45,34,54,35 -\n#38 24,36,35,26 -\n#39 27,27,27,27 -\n#40 55,44,44,45 -\n#41 70,73,71,71 -\n#42 67,37,47,47 -\n#43 43,45,41,42 -\n#44 87,57,97,67 -\n#45 49,45,46,48 -\n#46 63,63,52,72 -\n#47 84,86,84,95 -\n#48 61,60,62,73 -\n#49 59,79,69,48 -\n#50 55,57,77,75 -\n\n\u7b2c\u56db\u56de\u30aa\u30d5\u30e9\u30a4\u30f3\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3069\u3046\u66f8\u304f\u306e\u89e3\u7b54(Ruby)\u3002\n\u554f\u984c\u306f\nhttp://nabetani.sakura.ne.jp/hena/ord4tetroid/\n\n```ruby\nPAT = [\n['L',[[0,0],[1,0],[2,0],[0,1]]],\n['I',[[0,0],[1,0],[2,0],[3,0]]],\n['T',[[0,0],[1,0],[2,0],[1,1]]],\n['O',[[0,0],[1,0],[0,1],[1,1]]],\n['S',[[0,0],[0,1],[1,1],[1,2]]],\n]\n\ndef adjust(pat)\n  ox = oy = 10\n  pat.each do |x,y|\n    ox = x if x < ox\n    oy = y if y < oy\n  end\n  pat.map{|x,y| [x - ox, y - oy]}.sort\nend\n\ndef solve(q)\n  make_map[adjust(q.split(',').map{|e| e.split('').map(&:to_i)})]\nend\n\ndef map_ext(pat)\n  yield adjust(pat)\n  3.times do\n    pat = pat.map{|x,y| [y,-x]}\n    yield adjust(pat)\n  end\n  pat = pat.map{|x,y| [x,-y]}\n  yield adjust(pat)\n  3.times do\n    pat = pat.map{|x,y| [y,-x]}\n    yield adjust(pat)\n  end\nend\n\ndef make_map\n  map = Hash.new('-')\n  PAT.each do |sym, pat|\n    map_ext(pat) do |pp|\n      map[pp.sort] = sym\n    end\n  end\n  map\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n#1\t55,55,55,55\t-\n#2\t07,17,06,05\tL\n#3\t21,41,31,40\tL\n#4\t62,74,73,72\tL\n#5\t84,94,74,75\tL\n#6\t48,49,57,47\tL\n#7\t69,89,79,68\tL\n#8\t90,82,91,92\tL\n#9\t13,23,03,24\tL\n#10\t24,22,25,23\tI\n#11\t51,41,21,31\tI\n#12\t64,63,62,65\tI\n#13\t49,69,59,79\tI\n#14\t12,10,21,11\tT\n#15\t89,99,79,88\tT\n#16\t32,41,43,42\tT\n#17\t27,16,36,26\tT\n#18\t68,57,58,67\tO\n#19\t72,62,61,71\tO\n#20\t25,24,15,14\tO\n#21\t43,54,53,42\tS\n#22\t95,86,76,85\tS\n#23\t72,73,84,83\tS\n#24\t42,33,32,23\tS\n#25\t66,57,67,58\tS\n#26\t63,73,52,62\tS\n#27\t76,68,77,67\tS\n#28\t12,11,22,01\tS\n#29\t05,26,06,25\t-\n#30\t03,11,13,01\t-\n#31\t11,20,00,21\t-\n#32\t84,95,94,86\t-\n#33\t36,56,45,35\t-\n#34\t41,33,32,43\t-\n#35\t75,94,84,95\t-\n#36\t27,39,28,37\t-\n#37\t45,34,54,35\t-\n#38\t24,36,35,26\t-\n#39\t27,27,27,27\t-\n#40\t55,44,44,45\t-\n#41\t70,73,71,71\t-\n#42\t67,37,47,47\t-\n#43\t43,45,41,42\t-\n#44\t87,57,97,67\t-\n#45\t49,45,46,48\t-\n#46\t63,63,52,72\t-\n#47\t84,86,84,95\t-\n#48\t61,60,62,73\t-\n#49\t59,79,69,48\t-\n#50\t55,57,77,75\t-\n```\n", "tags": ["Ruby", "\u3069\u3046\u66f8\u304f", "\u52c9\u5f37\u4f1a"]}