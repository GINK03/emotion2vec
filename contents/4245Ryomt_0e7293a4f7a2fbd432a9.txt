{"context": "\n\nelm-monocle\n\nelm-monocle \u3068\u306f\n\nhttp://package.elm-lang.org/packages/arturopala/elm-monocle/latest\n\u50d5\u306f http://qiita.com/miyamo_madoka/items/f225803d275019cc34c1 \u3092\u8aad\u3093\u3067\u77e5\u308a\u307e\u3057\u305f\nscala\u306eMonocle\u306e\u30a4\u30f3\u30b9\u30d1\u30a4\u30a2\u30e9\u30a4\u30d6\u30e9\u30ea\n\n\nscala Monocle\nscala Monocle\u306fHaskell\u306eLens\u304b\u3089\u30a4\u30f3\u30b9\u30d1\u30a4\u30a2\n\n\n\u8907\u96d1\u306a\u30ec\u30b3\u30fc\u30c9\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\n\n\n\u3069\u3093\u306a\u3068\u304d\u306b\u4fbf\u5229\u306a\u306e\u304b\n\n\u8907\u96d1\u306a\u30ec\u30b3\u30fc\u30c9\u3092\u64cd\u4f5c\u3059\u308b\u3068\u304d\n\n\n\u6620\u753b\u306f\u7269\u8a9e\u3092\u6301\u3064\u3068\u3044\u3046\u30ec\u30b3\u30fc\u30c9\u304c\u3042\u308b\u3068\u3057\u3066\ntype alias Story =\n    { text : String\n    }\n\n\ntype alias Movie =\n    { name : String\n    , story : Story\n    }\n\n\n\u30b9\u30bf\u30fc\u30a6\u30a9\u30fc\u30ba\u30b7\u30ea\u30fc\u30ba\u306e\u5916\u4f1d\u304c\u4f5c\u3089\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3057\u305f\nstarwarsSpinOff : Movie\nstarwarsSpinOff =\n    Movie \"starwars:SpinOff\" (Story \"\u9060\u3044...\u672a\u5b9a\")\n\n\n\u6b63\u5f0f\u30bf\u30a4\u30c8\u30eb\u304c\u6c7a\u307e\u308a\u3001\u30b9\u30c8\u30fc\u30ea\u30fc\u3082\u66f4\u65b0\u3055\u308c\u307e\u3059\uff01\nrogueOne : Movie\nrogueOne =\n    { starwarsSpineOff\n        | name = \"rogueOne: A star Wars Story\"\n        , story = { starwarsSpineOff.story | text = \"\u9060\u3044\u6614\u3001\u306f\u308b\u304b\u5f7c\u65b9\u306e\u9280\u6cb3\u7cfb\u3067\u2026\u3002\" }\n    }\n\n\n\u3057\u304b\u3057\u3001\u3053\u308c\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u308a\u307e\u305b\u3093\u3002 \u306a\u306e\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3057\u305f\nrogueOne : Movie\nrogueOne =\n    let\n        oldStory =\n            starwarsSpineOff.story\n\n        newStory =\n            { oldStory | text = \"\u9060\u3044\u6614\u3001\u306f\u308b\u304b\u5f7c\u65b9\u306e\u9280\u6cb3\u7cfb\u3067\u2026\u3002\" }\n    in\n        { starwarsSpinOff\n            | name = \"rogueOne: A star Wars Story\"\n            , story = { newStory | text = \"\u9060\u3044\u6614\u3001\u306f\u308b\u304b\u5f7c\u65b9\u306e\u9280\u6cb3\u7cfb\u3067\u2026\u3002\" }\n        }\n\n\u30ec\u30b3\u30fc\u30c9\u5185\u306e\u5965\u6df1\u304f\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9\u3092\u4f5c\u308d\u3046\u3068\u3059\u308b\u3068\u898b\u8f9b\u3044\u30b3\u30fc\u30c9\u304c\u5897\u3048\u3066\u3044\u304d\u307e\u3059\u306d\u2025\n\n\u3053\u3093\u306a\u3068\u304d elm-monocle\u306eLens\u3092\u4f7f\u3046\u3068\u898b\u6804\u3048\u304c\u3088\u304f\u306a\u308b\nimport Monocle.Lens exposing (Lens, compose)\n~~\u7565~~\n\ntextOfStory : Lens Story String\ntextOfStory =\n    let\n        get story =\n            story.text\n\n        set text story =\n            { story | text = text }\n    in\n        Lens get set\n\n\ntype alias Movie =\n    { name : String\n    , story : Story\n    }\n\nnameOfMovie : Lens Movie String\nnameOfMovie =\n    let\n        get movie =\n            movie.name\n\n        set name movie =\n            { movie | name = name }\n    in\n        Lens get set\n\nstoryOfMovie : Lens Movie Story\nstoryOfMovie =\n    let\n        get movie =\n            movie.story\n\n        set story movie =\n            { movie | story = story }\n    in\n        Lens get set\n\n\nrogueOne : Movie\nrogueOne =\n    starwarsSpinOff\n        |> nameOfMovie.set \"rogueOne: A star Wars Story\"\n        >> (compose storyOfMovie textOfStory).set \"\u9060\u3044\u6614\u3001\u306f\u308b\u304b\u5f7c\u65b9\u306e\u9280\u6cb3\u7cfb\u3067\u2026\u3002\"\n\nhogeOfHuga: Lens Huge Huga\n\u3068\u3044\u3046\u95a2\u6570\u304c\u5897\u3048\u3066\u3044\u3066\u30b3\u30fc\u30c9\u81ea\u4f53\u306e\u91cf\u306f\u5897\u3048\u3066\u3044\u307e\u3059\u304c\n\u300crogueOne\u300d\u3092\u4f5c\u308b\u30b3\u30fc\u30c9\u306f\u3059\u3063\u304d\u308a\u3057\u3066\u3044\u307e\u305b\u3093\u304b\uff1f\nhogeOfHuga: Lens Huge Huga \u306e\u30b3\u30fc\u30c9\u3082\u5358\u7d14\u3067\u3059\n\u30ec\u30b3\u30fc\u30c9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u4e00\u3064\u306b\u5bfe\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u3066\n\u30ec\u30b3\u30fc\u30c9\u304b\u3089\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5024\u3092\u3068\u308bget\u3068\n\u30ec\u30b3\u30fc\u30c9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9\u3092\u8fd4\u3059set\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u975e\u5e38\u306b\u30b7\u30f3\u30d7\u30eb\u3067\u3059\nstarwarsSpinOff |> nameOfMovie.set \"rogueOne: A star Wars Story\"\u306fstarwarsSpinOff\u306ename\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\"rogueOne: A star Wars Story\"\u3092\u30bb\u30c3\u30c8\u3057\u3066\u65b0\u3057\u3044Movie\u3092\u8fd4\u3057\u3066\u3044\u307e\u3059\n(compose storyOfMovie textOfStory)\u306b\u3042\u308bcompose\u306f\u540d\u306e\u901a\u308a\u5408\u6210\u3067\u3001Movie\u3092\u3068\u3063\u3066story\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u3001Story\u306etext\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5bfe\u3059\u308bLens\u3092\u5b9a\u7fa9(get\u3068set)\u3057\u3066\u307e\u3059\n\u306a\u306e\u3067\u3053\u3053\u3067\u306fMovie\u306estory\u30d5\u30a3\u30fc\u30eb\u30c9\u306eStory\u306etext\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u6587\u5b57\u5217\u3092\u30bb\u30c3\u30c8\u3057\u3066\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9\u3068\u3057\u3066\u8fd4\u3057\u3066\u3044\u307e\u3059\n\nmonocle\u306eOptional\u3092\u4f7f\u3046\u3068\u3082\u3063\u3068\u697d\u3057\u304f\u306a\u308b\nMovie\u30ec\u30b3\u30fc\u30c9\u306b\u5909\u66f4\u3057\u307e\u3059\nstory\u3092Maybe Story\u3068\u3057\u307e\u3057\u3087\u3046\n\u6620\u753b\u306b\u306f\u7269\u8a9e\u304c\u306a\u3044\u3088\u3046\u306a\u3082\u306e\u3082\u3042\u308b\u3067\u3057\u3087\u3046\ntype alias Movie =\n    { name : String\n    , story : Maybe Story\n    }\n\nStory\u30ec\u30b3\u30fc\u30c9\u306b\u5909\u66f4\u3092\u3057\u307e\u3059\nStory\u306b\u306fgoodPoint\u3068\u3044\u3046\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308b\u3068\u3057\u307e\u3057\u3087\u3046\n\u6620\u753b\u306b\u306f\u898b\u6240\u304c\u3042\u308b\u3082\u306e\u3068\u306a\u3044\u3082\u306e\u304c\u3042\u308b\u306e\u3067Maybe\u3067\u5b9a\u7fa9\u3057\u307e\u3057\u3087\u3046\ntype alias Story =\n    { text : String\n    , goodPoint : Maybe GoodPoint\n    }\n\n\u6620\u753b\u306e\u898b\u3069\u3053\u308d\u3068\u306f\u8a00\u8449\u3067\u8868\u305b\u306a\u3044\u3053\u3068\u3082\u3042\u308b\u306e\u3067\u30d5\u30a3\u30fc\u30eb\u30c9text\u306fMaybe\u3067\u3059\ntype alias Text = String\ntype alias GoodPoint =\n    { text : Maybe Text\n    }\n\n\u3053\u3053\u3067monocle\u306a\u3057\u3067Movie\u304b\u3089goodPoint\u306e\u30d5\u30a3\u30fc\u30eb\u30c9text\u53d6\u3063\u3066\u3053\u3088\u3046\u3068\u3059\u308b\u3068...\nrogueOne = Movie \"rogueOne: A star Wars Story\" (Just <| Story \"\u9060\u3044...\" (Just <| GoodPoint (Just \"\u30a4\u30b1\u3066\u308b\u4ff3\u512a\")))\n\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne.story\n        |> Maybe.map\n            (\\{ goodPoint } ->\n                goodPoint\n                    |> Maybe.map (\\{ text } -> text)\n                    |> Maybe.withDefault Nothing\n            )\n        |> Maybe.withDefault Nothing\n\n\nmap\u306e\u9023\u6253\u3001withDefault\u306e\u5d50\u3001Maybe\u304c\u5897\u3048\u308b\u307b\u3069\u30b3\u30fc\u30c9\u304c\u30cd\u30b9\u30c8\u3059\u308b\u3053\u3068\u3092\u5bdf\u305b\u307e\u3059\n\u3053\u308c\u304cset\u7cfb\u306e\u64cd\u4f5c\u306b\u306a\u3063\u305f\u3089\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    let\n        newGoodPoint : Maybe GoodPoint\n        newGoodPoint =\n            rogueOne.story\n                |> Maybe.map\n                    (\\story ->\n                        story.goodPoint\n                            |> Maybe.map (\\goodPoint -> { goodPoint | text = \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\" })\n                    )\n                |> Maybe.withDefault Nothing\n\n        newStory : Maybe Story\n        newStory =\n            rogueOne.story |> Maybe.map (\\story -> { story | goodPoint = newGoodPoint })\n    in\n        { rogueOne | story = newStory }\n\n\u50d5\u306e\u30a6\u30c7\u30de\u30a8\u3067\u306f\u975e\u5e38\u306b\u5927\u5909\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\n\nOptional\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\nimport Monocle.Optional exposing (Optional)\nimport Monocle.Common exposing ((=>))\n~~\u7565~~\n\ntextOfGoodPoint : Optional GoodPoint Text\ntextOfGoodPoint =\n    let\n        get goodPoint =\n            goodPoint.text\n\n        set text goodPoint =\n            { goodPoint | text = Just text }\n    in\n        Optional get set\n\ngoodPointOfStory : Optional Story GoodPoint\ngoodPointOfStory =\n    let\n        get story =\n            story.goodPoint\n\n        set goodPoint story =\n            { story | goodPoint = Just goodPoint }\n    in\n        Optional get set\n\n--- Lens\u306e\u4f8b\u304b\u3089\u5b9a\u7fa9\u3092\u5909\u66f4\u3057\u3066\u307e\u3059\nstoryOfMovie : Optional Movie Story\nstoryOfMovie =\n    let\n        get movie =\n            movie.story\n\n        set story movie =\n            { movie | story = Just story }\n    in\n        Optional get set\n\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne |> (storyOfMovie => goodPointOfStory => textOfGoodPoint).getOption\n\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    rogueOne |> (storyOfMovie => goodPointOfStory => textOfGoodPoint).set \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\"\n\n\nLens\u306e\u3068\u304d\u306e\u3088\u3046\u306bhogeOfHuga\u306e\u3088\u3046\u306aOptional\u306e\u5b9a\u7fa9\u304cMaybe\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u6570\u3060\u3051\u3042\u308a\u307e\u3059\n\u3068\u306f\u3044\u3063\u3066\u3082\u3053\u308c\u3089\u306e\u5b9a\u7fa9\u3082\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u306d\n--- Movie\u304b\u3089GoodPoint\u306eText\u3092\u3068\u3063\u3066\u304f\u308b\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne |> (storyOfMovie => goodPointOfStory => textOfGoodPoint).getOption\n\n--- Movie\u306eGoodPoint\u306eText\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044Movie\u3092\u8fd4\u3059\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    rogueOne |> (storyOfMovie => goodPointOfStory => textOfGoodPoint).set \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\"\n\n\n=>\u306fOptional\u540c\u58eb\u306ecompose\u3092\u3059\u308b\u4e2d\u7f6e\u95a2\u6570\u3067\u3059\n\u3053\u3046\u3059\u308b\u3068\u3088\u308a\u30b9\u30c3\u30ad\u30ea\nmovieStoryGoodPointText =\n    storyOfMovie => goodPointOfStory => textOfGoodPoint\n\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne |> movieStoryGoodPointText.getOption\n\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    rogueOne |> movieStoryGoodPointText.set \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\"\n\n\nMovie\u306eStory\u306eGoodPoint\u306eText\u3092\u53d6\u308a\u51fa\u3059\u30b3\u30fc\u30c9\u3084\u3001\nMovie\u306eStory\u306eGoodPoint\u306eText\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044Movie\u3092\u8fd4\u3059\u30b3\u30fc\u30c9\n\u975e\u5e38\u306b\u30b9\u30c3\u30ad\u30ea\u3067\u3059\u3088\u306d\nMaybe\u306e\u305f\u3081\u306ewithDefault\u3084map\u304c\u30b3\u30fc\u30c9\u304b\u3089\u7dba\u9e97\u3055\u3063\u3071\u308a\u3044\u306a\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u306d\n\u5408\u6210\u3055\u308c\u305fOptional\u306fget\u3084set\u3059\u308b\u305f\u3081\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8fbf\u308b\u3069\u3053\u304b\u3067Nothing\u304c\u3042\u3063\u305f\u3068\u304d\u3001get\u306b\u5bfe\u3057\u3066Nothing\u3092\u8fd4\u3057\u305f\u308aset\u3092\u3057\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3092monocle\u304c\u30e8\u30ed\u30b7\u30af\u3057\u3066\u304f\u308c\u307e\u3059\n\nLens\u3068Optional\u304c\u6df7\u3056\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u306f\n\u6620\u753b\u306e\u3044\u3044\u3068\u3053\u308d\u306f\u7d76\u5bfe\u306b\u8a00\u8449\u306b\u306a\u308b\u306f\u305a\u3060\uff01\u3068\u5f37\u3044\u6c17\u6301\u3061\u3067\u30d5\u30a3\u30fc\u30eb\u30c9text\u306fMaybe\u3067\u306a\u304f\u306a\u308a\u307e\u3057\u305f\ntype alias GoodPoint =\n    { text : Text\n    }\n\nrogueOne = Movie \"rogueOne: A star Wars Story\" (Just <| Story \"\u9060\u3044...\" (Just <| GoodPoint \"\u30a4\u30b1\u3066\u308b\u4ff3\u512a\"))\n\n\n\u305d\u3046\u3059\u308b\u3068textOfGoodPoint\u306e\u5b9a\u7fa9\u306fOptional\u304b\u3089Lens\u306b\u306a\u308a\u307e\u3059\ntextOfGoodPoint : Lens GoodPoint Text\ntextOfGoodPoint =\n    let\n        get goodPoint =\n            goodPoint.text\n\n        set text goodPoint =\n            { goodPoint | text = text }\n    in\n        Lens get set\n\n\u305d\u3057\u3066\u5b9f\u969b\u306bMovie\u304b\u3089GoodPoint\u306eText\u3092\u53d6\u308a\u51fa\u3059\u30b3\u30fc\u30c9\u3068\nMovie\u306eGoodPoint\u306eText\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044Movie\u3092\u8fd4\u3059\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\nmovieStoryGoodPointText =\n    storyOfMovie => (composeLens goodPointOfStory textOfGoodPoint)\n\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne |> movieStoryGoodPointText.getOption\n\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    rogueOne |> movieStoryGoodPointText.set \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\"\n\nOptional\u3068Lens\u3092\u5408\u6210\u3059\u308b\u305f\u3081\u306bcomposeLens\u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\nMaybe\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u3068Maybe\u3067\u306a\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3082\u5408\u6210\u3067\u304d\u307e\u3057\u305f\uff01\n\n\u307e\u3068\u3081\u308b\n\nmonocle\u306f\u30cd\u30b9\u30c8\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u306e\u64cd\u4f5c\u3092\u30b9\u30c3\u30ad\u30ea\u66f8\u3051\u308b\nLens\u3068Optional\u306f\u30ec\u30b3\u30fc\u30c9\u306e\u3042\u308b\uff11\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306eget\u3068set\u3092\u30bb\u30c3\u30c8\u3067\u6e21\u3057\u3066\u5b9a\u7fa9\u3059\u308b\n\u3064\u304b\u3046\u306e\u306f Lens , Optional , compose, composeLens, =>\n\n\nMaybe\u306fOptional, \u305d\u308c\u4ee5\u5916\u306fLens\n\n\nLens\u3068Optional\u306f\u5408\u6210\u3057\u3066\u30ec\u30b3\u30fc\u30c9\u64cd\u4f5c\u3057\u3066\u3044\u304f\n\n\n\u6700\u5f8c\u306b\n\nIso, Prism\u306a\u3069monocle\u306b\u306f\u307e\u3060\u3044\u304f\u3064\u3082\u3067\u304d\u308b\u3053\u3068\u304c\u3042\u308b\n\u30ed\u30fc\u30b0\u30ef\u30f3\u304a\u3082\u3057\u308d\u304b\u3063\u305f\u3067\u3059\n\n# elm-monocle\n\n## elm-monocle \u3068\u306f\n- http://package.elm-lang.org/packages/arturopala/elm-monocle/latest\n- \u50d5\u306f http://qiita.com/miyamo_madoka/items/f225803d275019cc34c1 \u3092\u8aad\u3093\u3067\u77e5\u308a\u307e\u3057\u305f\n- scala\u306eMonocle\u306e\u30a4\u30f3\u30b9\u30d1\u30a4\u30a2\u30e9\u30a4\u30d6\u30e9\u30ea\n  - [scala Monocle](http://julien-truffaut.github.io/Monocle/)\n   - scala Monocle\u306fHaskell\u306eLens\u304b\u3089\u30a4\u30f3\u30b9\u30d1\u30a4\u30a2\n- \u8907\u96d1\u306a\u30ec\u30b3\u30fc\u30c9\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\n\n\n## \u3069\u3093\u306a\u3068\u304d\u306b\u4fbf\u5229\u306a\u306e\u304b\n- \u8907\u96d1\u306a\u30ec\u30b3\u30fc\u30c9\u3092\u64cd\u4f5c\u3059\u308b\u3068\u304d\n\n### \u6620\u753b\u306f\u7269\u8a9e\u3092\u6301\u3064\u3068\u3044\u3046\u30ec\u30b3\u30fc\u30c9\u304c\u3042\u308b\u3068\u3057\u3066\n\n```\ntype alias Story =\n    { text : String\n    }\n\n\ntype alias Movie =\n    { name : String\n    , story : Story\n    }\n```\n### \u30b9\u30bf\u30fc\u30a6\u30a9\u30fc\u30ba\u30b7\u30ea\u30fc\u30ba\u306e\u5916\u4f1d\u304c\u4f5c\u3089\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3057\u305f\n```\nstarwarsSpinOff : Movie\nstarwarsSpinOff =\n    Movie \"starwars:SpinOff\" (Story \"\u9060\u3044...\u672a\u5b9a\")\n```\n### \u6b63\u5f0f\u30bf\u30a4\u30c8\u30eb\u304c\u6c7a\u307e\u308a\u3001\u30b9\u30c8\u30fc\u30ea\u30fc\u3082\u66f4\u65b0\u3055\u308c\u307e\u3059\uff01\n```\nrogueOne : Movie\nrogueOne =\n    { starwarsSpineOff\n        | name = \"rogueOne: A star Wars Story\"\n        , story = { starwarsSpineOff.story | text = \"\u9060\u3044\u6614\u3001\u306f\u308b\u304b\u5f7c\u65b9\u306e\u9280\u6cb3\u7cfb\u3067\u2026\u3002\" }\n    }\n```\n### \u3057\u304b\u3057\u3001\u3053\u308c\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u308a\u307e\u305b\u3093\u3002 \u306a\u306e\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3057\u305f\n```\nrogueOne : Movie\nrogueOne =\n    let\n        oldStory =\n            starwarsSpineOff.story\n\n        newStory =\n            { oldStory | text = \"\u9060\u3044\u6614\u3001\u306f\u308b\u304b\u5f7c\u65b9\u306e\u9280\u6cb3\u7cfb\u3067\u2026\u3002\" }\n    in\n        { starwarsSpinOff\n            | name = \"rogueOne: A star Wars Story\"\n            , story = { newStory | text = \"\u9060\u3044\u6614\u3001\u306f\u308b\u304b\u5f7c\u65b9\u306e\u9280\u6cb3\u7cfb\u3067\u2026\u3002\" }\n        }\n```\n\u30ec\u30b3\u30fc\u30c9\u5185\u306e\u5965\u6df1\u304f\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9\u3092\u4f5c\u308d\u3046\u3068\u3059\u308b\u3068\u898b\u8f9b\u3044\u30b3\u30fc\u30c9\u304c\u5897\u3048\u3066\u3044\u304d\u307e\u3059\u306d\u2025\n\n\n## \u3053\u3093\u306a\u3068\u304d elm-monocle\u306eLens\u3092\u4f7f\u3046\u3068\u898b\u6804\u3048\u304c\u3088\u304f\u306a\u308b\n```\nimport Monocle.Lens exposing (Lens, compose)\n~~\u7565~~\n\ntextOfStory : Lens Story String\ntextOfStory =\n    let\n        get story =\n            story.text\n\n        set text story =\n            { story | text = text }\n    in\n        Lens get set\n\n\ntype alias Movie =\n    { name : String\n    , story : Story\n    }\n\nnameOfMovie : Lens Movie String\nnameOfMovie =\n    let\n        get movie =\n            movie.name\n\n        set name movie =\n            { movie | name = name }\n    in\n        Lens get set\n\nstoryOfMovie : Lens Movie Story\nstoryOfMovie =\n    let\n        get movie =\n            movie.story\n\n        set story movie =\n            { movie | story = story }\n    in\n        Lens get set\n\n\nrogueOne : Movie\nrogueOne =\n    starwarsSpinOff\n        |> nameOfMovie.set \"rogueOne: A star Wars Story\"\n        >> (compose storyOfMovie textOfStory).set \"\u9060\u3044\u6614\u3001\u306f\u308b\u304b\u5f7c\u65b9\u306e\u9280\u6cb3\u7cfb\u3067\u2026\u3002\"\n```\n\nhogeOfHuga: Lens Huge Huga\n\u3068\u3044\u3046\u95a2\u6570\u304c\u5897\u3048\u3066\u3044\u3066\u30b3\u30fc\u30c9\u81ea\u4f53\u306e\u91cf\u306f\u5897\u3048\u3066\u3044\u307e\u3059\u304c\n\u300crogueOne\u300d\u3092\u4f5c\u308b\u30b3\u30fc\u30c9\u306f\u3059\u3063\u304d\u308a\u3057\u3066\u3044\u307e\u305b\u3093\u304b\uff1f\n\nhogeOfHuga: Lens Huge Huga \u306e\u30b3\u30fc\u30c9\u3082\u5358\u7d14\u3067\u3059\n\u30ec\u30b3\u30fc\u30c9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u4e00\u3064\u306b\u5bfe\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u3066\n\u30ec\u30b3\u30fc\u30c9\u304b\u3089\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5024\u3092\u3068\u308b`get`\u3068\n\u30ec\u30b3\u30fc\u30c9\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9\u3092\u8fd4\u3059`set`\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u975e\u5e38\u306b\u30b7\u30f3\u30d7\u30eb\u3067\u3059\n\n`starwarsSpinOff |> nameOfMovie.set \"rogueOne: A star Wars Story\"`\u306f`starwarsSpinOff`\u306e`name`\u30d5\u30a3\u30fc\u30eb\u30c9\u306b`\"rogueOne: A star Wars Story\"`\u3092\u30bb\u30c3\u30c8\u3057\u3066\u65b0\u3057\u3044Movie\u3092\u8fd4\u3057\u3066\u3044\u307e\u3059\n\n`(compose storyOfMovie textOfStory)`\u306b\u3042\u308b`compose`\u306f\u540d\u306e\u901a\u308a\u5408\u6210\u3067\u3001`Movie`\u3092\u3068\u3063\u3066`story`\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u3001Story\u306e`text`\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5bfe\u3059\u308b`Lens`\u3092\u5b9a\u7fa9(get\u3068set)\u3057\u3066\u307e\u3059\n\u306a\u306e\u3067\u3053\u3053\u3067\u306f`Movie`\u306e`story`\u30d5\u30a3\u30fc\u30eb\u30c9\u306e`Story`\u306e`text`\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u6587\u5b57\u5217\u3092\u30bb\u30c3\u30c8\u3057\u3066\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9\u3068\u3057\u3066\u8fd4\u3057\u3066\u3044\u307e\u3059\n\n## monocle\u306eOptional\u3092\u4f7f\u3046\u3068\u3082\u3063\u3068\u697d\u3057\u304f\u306a\u308b\nMovie\u30ec\u30b3\u30fc\u30c9\u306b\u5909\u66f4\u3057\u307e\u3059\nstory\u3092Maybe Story\u3068\u3057\u307e\u3057\u3087\u3046\n\u6620\u753b\u306b\u306f\u7269\u8a9e\u304c\u306a\u3044\u3088\u3046\u306a\u3082\u306e\u3082\u3042\u308b\u3067\u3057\u3087\u3046\n\n```\ntype alias Movie =\n    { name : String\n    , story : Maybe Story\n    }\n```\n\n`Story`\u30ec\u30b3\u30fc\u30c9\u306b\u5909\u66f4\u3092\u3057\u307e\u3059\n`Story`\u306b\u306f`goodPoint`\u3068\u3044\u3046\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u3042\u308b\u3068\u3057\u307e\u3057\u3087\u3046\n\u6620\u753b\u306b\u306f\u898b\u6240\u304c\u3042\u308b\u3082\u306e\u3068\u306a\u3044\u3082\u306e\u304c\u3042\u308b\u306e\u3067`Maybe`\u3067\u5b9a\u7fa9\u3057\u307e\u3057\u3087\u3046\n\n```\ntype alias Story =\n    { text : String\n    , goodPoint : Maybe GoodPoint\n    }\n```\n\n\u6620\u753b\u306e\u898b\u3069\u3053\u308d\u3068\u306f\u8a00\u8449\u3067\u8868\u305b\u306a\u3044\u3053\u3068\u3082\u3042\u308b\u306e\u3067\u30d5\u30a3\u30fc\u30eb\u30c9`text`\u306fMaybe\u3067\u3059\n\n```\ntype alias Text = String\ntype alias GoodPoint =\n    { text : Maybe Text\n    }\n```\n\n\u3053\u3053\u3067monocle\u306a\u3057\u3067`Movie`\u304b\u3089`goodPoint`\u306e\u30d5\u30a3\u30fc\u30eb\u30c9`text`\u53d6\u3063\u3066\u3053\u3088\u3046\u3068\u3059\u308b\u3068...\n\n```\nrogueOne = Movie \"rogueOne: A star Wars Story\" (Just <| Story \"\u9060\u3044...\" (Just <| GoodPoint (Just \"\u30a4\u30b1\u3066\u308b\u4ff3\u512a\")))\n\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne.story\n        |> Maybe.map\n            (\\{ goodPoint } ->\n                goodPoint\n                    |> Maybe.map (\\{ text } -> text)\n                    |> Maybe.withDefault Nothing\n            )\n        |> Maybe.withDefault Nothing\n\n```\n\n`map`\u306e\u9023\u6253\u3001`withDefault`\u306e\u5d50\u3001`Maybe`\u304c\u5897\u3048\u308b\u307b\u3069\u30b3\u30fc\u30c9\u304c\u30cd\u30b9\u30c8\u3059\u308b\u3053\u3068\u3092\u5bdf\u305b\u307e\u3059\n\n\u3053\u308c\u304cset\u7cfb\u306e\u64cd\u4f5c\u306b\u306a\u3063\u305f\u3089\n\n```\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    let\n        newGoodPoint : Maybe GoodPoint\n        newGoodPoint =\n            rogueOne.story\n                |> Maybe.map\n                    (\\story ->\n                        story.goodPoint\n                            |> Maybe.map (\\goodPoint -> { goodPoint | text = \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\" })\n                    )\n                |> Maybe.withDefault Nothing\n\n        newStory : Maybe Story\n        newStory =\n            rogueOne.story |> Maybe.map (\\story -> { story | goodPoint = newGoodPoint })\n    in\n        { rogueOne | story = newStory }\n```\n\u50d5\u306e\u30a6\u30c7\u30de\u30a8\u3067\u306f\u975e\u5e38\u306b\u5927\u5909\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\n\n### Optional\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\n```\nimport Monocle.Optional exposing (Optional)\nimport Monocle.Common exposing ((=>))\n~~\u7565~~\n\ntextOfGoodPoint : Optional GoodPoint Text\ntextOfGoodPoint =\n    let\n        get goodPoint =\n            goodPoint.text\n\n        set text goodPoint =\n            { goodPoint | text = Just text }\n    in\n        Optional get set\n\ngoodPointOfStory : Optional Story GoodPoint\ngoodPointOfStory =\n    let\n        get story =\n            story.goodPoint\n\n        set goodPoint story =\n            { story | goodPoint = Just goodPoint }\n    in\n        Optional get set\n\n--- Lens\u306e\u4f8b\u304b\u3089\u5b9a\u7fa9\u3092\u5909\u66f4\u3057\u3066\u307e\u3059\nstoryOfMovie : Optional Movie Story\nstoryOfMovie =\n    let\n        get movie =\n            movie.story\n\n        set story movie =\n            { movie | story = Just story }\n    in\n        Optional get set\n\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne |> (storyOfMovie => goodPointOfStory => textOfGoodPoint).getOption\n\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    rogueOne |> (storyOfMovie => goodPointOfStory => textOfGoodPoint).set \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\"\n\n```\n\nLens\u306e\u3068\u304d\u306e\u3088\u3046\u306b`hogeOfHuga`\u306e\u3088\u3046\u306a`Optional`\u306e\u5b9a\u7fa9\u304c`Maybe`\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u6570\u3060\u3051\u3042\u308a\u307e\u3059\n\u3068\u306f\u3044\u3063\u3066\u3082\u3053\u308c\u3089\u306e\u5b9a\u7fa9\u3082\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u306d\n\n```\n--- Movie\u304b\u3089GoodPoint\u306eText\u3092\u3068\u3063\u3066\u304f\u308b\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne |> (storyOfMovie => goodPointOfStory => textOfGoodPoint).getOption\n\n--- Movie\u306eGoodPoint\u306eText\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044Movie\u3092\u8fd4\u3059\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    rogueOne |> (storyOfMovie => goodPointOfStory => textOfGoodPoint).set \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\"\n\n```\n\n`=>`\u306fOptional\u540c\u58eb\u306ecompose\u3092\u3059\u308b\u4e2d\u7f6e\u95a2\u6570\u3067\u3059\n\n\u3053\u3046\u3059\u308b\u3068\u3088\u308a\u30b9\u30c3\u30ad\u30ea\n\n```\nmovieStoryGoodPointText =\n    storyOfMovie => goodPointOfStory => textOfGoodPoint\n\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne |> movieStoryGoodPointText.getOption\n\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    rogueOne |> movieStoryGoodPointText.set \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\"\n\n```\n\n`Movie`\u306e`Story`\u306e`GoodPoint`\u306e`Text`\u3092\u53d6\u308a\u51fa\u3059\u30b3\u30fc\u30c9\u3084\u3001\n\n`Movie`\u306e`Story`\u306e`GoodPoint`\u306e`Text`\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044`Movie`\u3092\u8fd4\u3059\u30b3\u30fc\u30c9\n\n\u975e\u5e38\u306b\u30b9\u30c3\u30ad\u30ea\u3067\u3059\u3088\u306d\n\n\n`Maybe`\u306e\u305f\u3081\u306e`withDefault`\u3084`map`\u304c\u30b3\u30fc\u30c9\u304b\u3089\u7dba\u9e97\u3055\u3063\u3071\u308a\u3044\u306a\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u306d\n\u5408\u6210\u3055\u308c\u305f`Optional`\u306f`get`\u3084`set`\u3059\u308b\u305f\u3081\u306b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8fbf\u308b\u3069\u3053\u304b\u3067`Nothing`\u304c\u3042\u3063\u305f\u3068\u304d\u3001`get`\u306b\u5bfe\u3057\u3066`Nothing`\u3092\u8fd4\u3057\u305f\u308a`set`\u3092\u3057\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3092monocle\u304c\u30e8\u30ed\u30b7\u30af\u3057\u3066\u304f\u308c\u307e\u3059\n\n\n## Lens\u3068Optional\u304c\u6df7\u3056\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u306f\n\n\u6620\u753b\u306e\u3044\u3044\u3068\u3053\u308d\u306f\u7d76\u5bfe\u306b\u8a00\u8449\u306b\u306a\u308b\u306f\u305a\u3060\uff01\u3068\u5f37\u3044\u6c17\u6301\u3061\u3067\u30d5\u30a3\u30fc\u30eb\u30c9`text`\u306f`Maybe`\u3067\u306a\u304f\u306a\u308a\u307e\u3057\u305f\n\n```\ntype alias GoodPoint =\n    { text : Text\n    }\n\nrogueOne = Movie \"rogueOne: A star Wars Story\" (Just <| Story \"\u9060\u3044...\" (Just <| GoodPoint \"\u30a4\u30b1\u3066\u308b\u4ff3\u512a\"))\n\n```\n\n\u305d\u3046\u3059\u308b\u3068`textOfGoodPoint`\u306e\u5b9a\u7fa9\u306f`Optional`\u304b\u3089`Lens`\u306b\u306a\u308a\u307e\u3059\n\n```\ntextOfGoodPoint : Lens GoodPoint Text\ntextOfGoodPoint =\n    let\n        get goodPoint =\n            goodPoint.text\n\n        set text goodPoint =\n            { goodPoint | text = text }\n    in\n        Lens get set\n```\n\n\u305d\u3057\u3066\u5b9f\u969b\u306b`Movie`\u304b\u3089`GoodPoint`\u306e`Text`\u3092\u53d6\u308a\u51fa\u3059\u30b3\u30fc\u30c9\u3068\n\n`Movie`\u306e`GoodPoint`\u306e`Text`\u3092\u66f4\u65b0\u3057\u3066\u65b0\u3057\u3044`Movie`\u3092\u8fd4\u3059\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\n\n```\nmovieStoryGoodPointText =\n    storyOfMovie => (composeLens goodPointOfStory textOfGoodPoint)\n\nrogueOneGoodPoint : Maybe Text\nrogueOneGoodPoint =\n    rogueOne |> movieStoryGoodPointText.getOption\n\nupdatedRogueOne : Movie\nupdatedRogueOne =\n    rogueOne |> movieStoryGoodPointText.set \"\u304b\u3063\u3053\u3044\u3044\u5b87\u5b99\u6226\"\n```\n\nOptional\u3068Lens\u3092\u5408\u6210\u3059\u308b\u305f\u3081\u306b`composeLens`\u3092\u5229\u7528\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\nMaybe\u306a\u30d5\u30a3\u30fc\u30eb\u30c9\u3068Maybe\u3067\u306a\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3082\u5408\u6210\u3067\u304d\u307e\u3057\u305f\uff01\n\n## \u307e\u3068\u3081\u308b\n- monocle\u306f\u30cd\u30b9\u30c8\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u306e\u64cd\u4f5c\u3092\u30b9\u30c3\u30ad\u30ea\u66f8\u3051\u308b\n- Lens\u3068Optional\u306f\u30ec\u30b3\u30fc\u30c9\u306e\u3042\u308b\uff11\u3064\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306eget\u3068set\u3092\u30bb\u30c3\u30c8\u3067\u6e21\u3057\u3066\u5b9a\u7fa9\u3059\u308b\n- \u3064\u304b\u3046\u306e\u306f Lens , Optional , compose, composeLens, =>\n    - Maybe\u306fOptional, \u305d\u308c\u4ee5\u5916\u306fLens\n- Lens\u3068Optional\u306f\u5408\u6210\u3057\u3066\u30ec\u30b3\u30fc\u30c9\u64cd\u4f5c\u3057\u3066\u3044\u304f\n\n\n## \u6700\u5f8c\u306b\n- Iso, Prism\u306a\u3069monocle\u306b\u306f\u307e\u3060\u3044\u304f\u3064\u3082\u3067\u304d\u308b\u3053\u3068\u304c\u3042\u308b\n- \u30ed\u30fc\u30b0\u30ef\u30f3\u304a\u3082\u3057\u308d\u304b\u3063\u305f\u3067\u3059\n", "tags": ["Elm"]}