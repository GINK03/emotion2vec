{"context": "neo4j\u3092\u5229\u7528\u3057\u3066\u30c7\u30fc\u30bf\u3092export\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3092\u898b\u307e\u3059\u3002\nneo4j\u81ea\u4f53\u306e\u5229\u7528\u306b\u3064\u3044\u3066\u306f\u3044\u308d\u3044\u308d\u306a\u4eba\u304c\u66f8\u3044\u3066\u3044\u308b\u306e\u3067\u2026\u3002\n\n\u4e0b\u6e96\u5099\n\u4eca\u56de\u306fDocker\u3067neo4j\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u516c\u5f0f\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3059\u304c\u3001neo4j-shell-tools\u306f\u5165\u3063\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u82e5\u5e72\u62e1\u5f35\u3057\u307e\u3059\u3002\n\n\u516c\u5f0fDocker image\nneo4j-shell-tools\n\n\u4e0a\u8a18\u306b\u5bfe\u5fdc\u3057\u305fDockerfile\u306f\u4ee5\u4e0b\u306b\u7f6e\u304d\u307e\u3057\u305f\u3002\nhttps://github.com/tkit/neo4j-dockerfile\nREADME\u306b\u5f93\u3063\u3066Docker\u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4e00\u5ea6\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b\u3068\u3001 ${HOME}/neo4j\u914d\u4e0b\u306b\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u304b\u308c\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u3092\u6295\u5165\u3059\u308b\n\u3069\u3093\u306a\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u3066\u3082\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u516c\u5f0f\u306b\u30c7\u30fc\u30bf\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3044\u307e\u3059\u3002\nhttps://neo4j.com/developer/example-data/\n\u4e0b\u306e\u65b9\u306b\u3042\u308b\u300ccineasts_12k_movies_50k_actors.zip (14MB)\u300d\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u5c55\u958b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\ngraph.db \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002\n$ rm -rf ${HOME}/neo4j/data/databases/graph.db\n$ cp -pr graph.db ${HOME}/neo4j/data/databases/graph.db\n\n\u7d42\u308f\u3063\u305f\u3089\u3082\u3046\u4e00\u5ea6docker\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ docker start neo4j_custom\n\nhttp://localhost:7474/browser/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u9069\u5f53\u306a\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u304c\u53cd\u6620\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\n\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\n\u30b3\u30f3\u30c6\u30ca\u306e\u5916\u304b\u3089neo4j-shell\u30b3\u30de\u30f3\u30c9\u306b\u3088\u3063\u3066\u69d8\u3005\u306a\u64cd\u4f5c\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n$ docker exec neo4j_custom bin/neo4j-shell -c \"help\"\n\n\nAvailable commands: alias begin call cd commit create cypher dbinfo drop dump env explain export foreach gsh help index jsh load ls man match merge mknode mkrel mv optional paths planner profile pwd return rm rmnode rmrel rollback runtime schema set start trav unwind using with\nUse man  for info about each command.\n\n\u4e0a\u8a18\u304c\u516c\u5f0f\u30b3\u30f3\u30c6\u30ca\u306e\u5229\u7528\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4ee5\u4e0b\u304cneo4j-shell-tools\u3092\u8ffd\u52a0\u3057\u305f\u5f8c\u306b\u5229\u7528\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\u82e5\u5e72\u5897\u3048\u3066\u3044\u307e\u3059\u3002\n(\u3061\u306a\u307f\u306bexport-binary\u30b3\u30de\u30f3\u30c9\u306a\u3069\u3082\u4f7f\u3048\u308b\u306f\u305a\u306a\u306e\u3067\u3059\u304c\u4f7f\u3048\u306a\u3044\u306e\u306f\u306a\u3093\u3067\u3060\u308d\u3046)\n\nAvailable commands: alias auto-index begin call cd commit create cypher dbinfo drop dump env eval explain export export-cypher export-graphml foreach gsh help import-cypher import-geoff import-graphml index jsh load ls man match merge mknode mkrel mv optional paths planner profile pwd return rm rmnode rmrel rollback runtime schema set start trav unwind using with\nUse man  for info about each command.\n\n\u3053\u306e\u4e2d\u304b\u3089\u3001\u4eca\u56de\u306fexport-cypher\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n$ docker exec neo4j_custom bin/neo4j-shell -c \"help export-cypher\"\n\n\n  -b     Batch Size default 1000.\n  -o     Output Cypher file.\n  -r     Add all nodes of selected relationships.\n\n$ docker exec neo4j_custom bin/neo4j-shell -c \"export-cypher -o /tmp/backup.log\"\nWrote Nodes 0. 100%: nodes = 63042 rels = 466766 properties = 0 time 2057 ms total 2057 ms\nWrote Relationships 1. 100%: nodes = 63042 rels = 573417 properties = 94754 time 1598 ms total 3655 ms\nWrote to Cypher-file /tmp/backup.log 2. 100%: nodes = 63042 rels = 573417 properties = 94754 time 3 ms total 3658 ms\n\n\u3053\u308c\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u5b8c\u4e86\u3057\u307e\u3059\u3002/tmp/backup.log\u306bcypher\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u304c\u4fdd\u7ba1\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u7dca\u6025\u6642\u306f\u3053\u308c\u304b\u3089\u30c7\u30fc\u30bf\u3092\u623b\u305b\u3070\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\n\u305d\u306e\u4ed6\ncommunity edition\u3060\u3068HA\u7cfb\u306e\u6a5f\u80fd\u304c\u8ed2\u4e26\u307f\u4f7f\u3048\u306a\u3044\u306e\u3067\u3001community edition\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u30aa\u30f3\u30e9\u30a4\u30f3\u4e2d\u306b\u53d6\u308b\u5834\u5408\u306f\u3069\u3046\u3057\u305f\u3089\u3044\u3044\u306e\u3060\u308d\u3046\u3068\u8003\u3048\u305f\u7d50\u679c\u3001\u3053\u306e\u65b9\u5f0f\u306a\u306e\u304b\u306a\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u306eexport-cypher\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u4e2d\u306bCRUD\u306e\u3046\u3061C\u3068R\u306f\u884c\u3063\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u666e\u901a\u306b\u7d50\u679c\u304c\u8fd4\u3063\u3066\u304d\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u30ed\u30c3\u30af\u304c\u304b\u304b\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u304b\u306a\uff1f\u3068\u601d\u3044\u307e\u3059\u3002(\u305d\u308c\u306f\u305d\u308c\u3067\u7591\u554f\u306a\u306e\u3067\u3059\u304c\u3001\u305d\u3053\u307e\u3067\u8abf\u3079\u3066\u3044\u307e\u305b\u3093)\nneo4j\u3092\u5229\u7528\u3057\u3066\u30c7\u30fc\u30bf\u3092export\u3059\u308b\u307e\u3067\u306e\u6d41\u308c\u3092\u898b\u307e\u3059\u3002\nneo4j\u81ea\u4f53\u306e\u5229\u7528\u306b\u3064\u3044\u3066\u306f\u3044\u308d\u3044\u308d\u306a\u4eba\u304c\u66f8\u3044\u3066\u3044\u308b\u306e\u3067\u2026\u3002\n\n# \u4e0b\u6e96\u5099\n\n\u4eca\u56de\u306fDocker\u3067neo4j\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u516c\u5f0f\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3059\u304c\u3001neo4j-shell-tools\u306f\u5165\u3063\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u82e5\u5e72\u62e1\u5f35\u3057\u307e\u3059\u3002\n\n* [\u516c\u5f0fDocker image](https://hub.docker.com/_/neo4j/)\n* [neo4j-shell-tools](https://github.com/jexp/neo4j-shell-tools)\n\n\u4e0a\u8a18\u306b\u5bfe\u5fdc\u3057\u305fDockerfile\u306f\u4ee5\u4e0b\u306b\u7f6e\u304d\u307e\u3057\u305f\u3002\n\nhttps://github.com/tkit/neo4j-dockerfile\n\n`README`\u306b\u5f93\u3063\u3066Docker\u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \n\u4e00\u5ea6\u30b3\u30f3\u30c6\u30ca\u3092\u505c\u6b62\u3059\u308b\u3068\u3001 `${HOME}/neo4j`\u914d\u4e0b\u306b\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u304b\u308c\u307e\u3059\u3002\n\n# \u30c7\u30fc\u30bf\u3092\u6295\u5165\u3059\u308b\n\n\u3069\u3093\u306a\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u3066\u3082\u3044\u3044\u306e\u3067\u3059\u304c\u3001\u516c\u5f0f\u306b\u30c7\u30fc\u30bf\u304c\u7f6e\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3044\u307e\u3059\u3002\n\nhttps://neo4j.com/developer/example-data/\n\n\u4e0b\u306e\u65b9\u306b\u3042\u308b\u300ccineasts_12k_movies_50k_actors.zip (14MB)\u300d\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u5c55\u958b\u3057\u3066\u304f\u3060\u3055\u3044\u3002  \n`graph.db` \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4e0a\u66f8\u304d\u3057\u307e\u3059\u3002\n\n```bash\n$ rm -rf ${HOME}/neo4j/data/databases/graph.db\n$ cp -pr graph.db ${HOME}/neo4j/data/databases/graph.db\n```\n\n\u7d42\u308f\u3063\u305f\u3089\u3082\u3046\u4e00\u5ea6docker\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```bash\n$ docker start neo4j_custom\n```\n\nhttp://localhost:7474/browser/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u9069\u5f53\u306a\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u304c\u53cd\u6620\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n![\u30c7\u30fc\u30bf\u6295\u5165\u5f8c](https://qiita-image-store.s3.amazonaws.com/0/16458/993093c0-c5b8-6b8d-2fbb-3437c8578bca.png)\n\n# \u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u5916\u304b\u3089`neo4j-shell`\u30b3\u30de\u30f3\u30c9\u306b\u3088\u3063\u3066\u69d8\u3005\u306a\u64cd\u4f5c\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```bash\n$ docker exec neo4j_custom bin/neo4j-shell -c \"help\"\n```\n\n> Available commands: alias begin call cd commit create cypher dbinfo drop dump env explain export foreach gsh help index jsh load ls man match merge mknode mkrel mv optional paths planner profile pwd return rm rmnode rmrel rollback runtime schema set start trav unwind using with\nUse man <command> for info about each command.\n\n\u4e0a\u8a18\u304c\u516c\u5f0f\u30b3\u30f3\u30c6\u30ca\u306e\u5229\u7528\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4ee5\u4e0b\u304c`neo4j-shell-tools`\u3092\u8ffd\u52a0\u3057\u305f\u5f8c\u306b\u5229\u7528\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\u82e5\u5e72\u5897\u3048\u3066\u3044\u307e\u3059\u3002\n(\u3061\u306a\u307f\u306b`export-binary`\u30b3\u30de\u30f3\u30c9\u306a\u3069\u3082\u4f7f\u3048\u308b\u306f\u305a\u306a\u306e\u3067\u3059\u304c\u4f7f\u3048\u306a\u3044\u306e\u306f\u306a\u3093\u3067\u3060\u308d\u3046)\n\n> Available commands: alias auto-index begin call cd commit create cypher dbinfo drop dump env eval explain export export-cypher export-graphml foreach gsh help import-cypher import-geoff import-graphml index jsh load ls man match merge mknode mkrel mv optional paths planner profile pwd return rm rmnode rmrel rollback runtime schema set start trav unwind using with\nUse man <command> for info about each command.\n\n\u3053\u306e\u4e2d\u304b\u3089\u3001\u4eca\u56de\u306f`export-cypher`\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n```bash\n$ docker exec neo4j_custom bin/neo4j-shell -c \"help export-cypher\"\n\n\n  -b\t Batch Size default 1000.\n  -o\t Output Cypher file.\n  -r\t Add all nodes of selected relationships.\n```\n\n```bash\n$ docker exec neo4j_custom bin/neo4j-shell -c \"export-cypher -o /tmp/backup.log\"\nWrote Nodes 0. 100%: nodes = 63042 rels = 466766 properties = 0 time 2057 ms total 2057 ms\nWrote Relationships 1. 100%: nodes = 63042 rels = 573417 properties = 94754 time 1598 ms total 3655 ms\nWrote to Cypher-file /tmp/backup.log 2. 100%: nodes = 63042 rels = 573417 properties = 94754 time 3 ms total 3658 ms\n```\n\n\u3053\u308c\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u5b8c\u4e86\u3057\u307e\u3059\u3002`/tmp/backup.log`\u306bcypher\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u304c\u4fdd\u7ba1\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u7dca\u6025\u6642\u306f\u3053\u308c\u304b\u3089\u30c7\u30fc\u30bf\u3092\u623b\u305b\u3070\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\n# \u305d\u306e\u4ed6\n\ncommunity edition\u3060\u3068HA\u7cfb\u306e\u6a5f\u80fd\u304c\u8ed2\u4e26\u307f\u4f7f\u3048\u306a\u3044\u306e\u3067\u3001community edition\u3067\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u30aa\u30f3\u30e9\u30a4\u30f3\u4e2d\u306b\u53d6\u308b\u5834\u5408\u306f\u3069\u3046\u3057\u305f\u3089\u3044\u3044\u306e\u3060\u308d\u3046\u3068\u8003\u3048\u305f\u7d50\u679c\u3001\u3053\u306e\u65b9\u5f0f\u306a\u306e\u304b\u306a\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e`export-cypher`\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u4e2d\u306bCRUD\u306e\u3046\u3061C\u3068R\u306f\u884c\u3063\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u666e\u901a\u306b\u7d50\u679c\u304c\u8fd4\u3063\u3066\u304d\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u30ed\u30c3\u30af\u304c\u304b\u304b\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u304b\u306a\uff1f\u3068\u601d\u3044\u307e\u3059\u3002(\u305d\u308c\u306f\u305d\u308c\u3067\u7591\u554f\u306a\u306e\u3067\u3059\u304c\u3001\u305d\u3053\u307e\u3067\u8abf\u3079\u3066\u3044\u307e\u305b\u3093)\n\n", "tags": ["neo4j", "docker"]}