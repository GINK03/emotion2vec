{"tags": ["Ubuntu16.10", "XRDP0.9.0", "Mate1.16", "IDCF\u30af\u30e9\u30a6\u30c9"], "context": "\u3000\u30af\u30e9\u30a6\u30c9\u4e0a\u306bLinux\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u306b\u3088\u3063\u3066\u306fSSH\u63a5\u7d9a\u3057\u3066Emacs\u3084Vim\u306a\u3069\u306e\u30a8\u30c7\u30a3\u30bf\u3067\u5341\u5206\u306a\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002Java\u3084Scala\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u306a\u308b\u3068Eclim\u3084ENSIME\u3068\u3044\u3063\u305fCUI\u3082\u4f7f\u3048\u307e\u3059\u304c\u3001Eclipse\u306a\u3069\u306eGUI\u304c\u4f7f\u3048\u308b\u3068\u4fbf\u5229\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u958b\u767a\u7528\u306bIDCF\u30af\u30e9\u30a6\u30c9\u4e0a\u306b\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u3092\u7528\u610f\u3057\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\nUbuntu 16.04\u306b\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u8ffd\u52a0\u3059\u308b\n\u3000\u6700\u8fd1\u306e\u958b\u767a\u3067\u306fDocker\u3092\u4f7f\u3046\u30b1\u30fc\u30b9\u304c\u307b\u3068\u3093\u3069\u3067\u3059\u3057\u3001Maven\u306e~/.m2\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3069\u3059\u3050\u306b1GB\u3092\u8d85\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002IDCF\u30af\u30e9\u30a6\u30c9\u306e\u6a19\u6e96\u3067\u306f\u30eb\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u304c15GB\u3057\u304b\u30c7\u30a3\u30b9\u30af\u304c\u306a\u3044\u305f\u3081\u3001\u9762\u5012\u3067\u3059\u304c\u30c7\u30fc\u30bf\u30c7\u30a3\u30b9\u30af\u3092\u5897\u8a2d\u3057\u3066/home\u3084/var\u306b\u30de\u30a6\u30f3\u30c8\u3057\u3066\u4f7f\u3044\u307e\u3059\u3002\n\u3000Ubuntu 16.04\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u306b100GB\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u8ffd\u52a0\u3057\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002/dev/sda1\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u306fext4\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u3053\u306e\u30c7\u30a3\u30b9\u30af\u3092/home\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n# df -T\nFilesystem     Type     1K-blocks    Used Available Use% Mounted on\nudev           devtmpfs   4065756       0   4065756   0% /dev\ntmpfs          tmpfs       816668    8912    807756   2% /run\n/dev/sda1      ext4      15348720 1721424  12824584  12% /\ntmpfs          tmpfs      4083324       0   4083324   0% /dev/shm\ntmpfs          tmpfs         5120       0      5120   0% /run/lock\ntmpfs          tmpfs      4083324       0   4083324   0% /sys/fs/cgroup\n\n\u3000\u5897\u8a2d\u3057\u305f100GB\u306e\u30c7\u30fc\u30bf\u30c7\u30a3\u30b9\u30af\u306f/dev/sdb\u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n# fdisk -l\n...\nDisk /dev/sdb: 100 GiB, 107374182400 bytes, 209715200 sectors\nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\n\n\u3000fdisk\u30b3\u30de\u30f3\u30c9\u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066ext4\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u307e\u3059\u3002n -> p\u3068\u5165\u529b\u3057\u3066\u6b8b\u308a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30a8\u30f3\u30bf\u30fc\u30ad\u30fc\u3092\u62bc\u3057\u307e\u3059\u3002\n# fdisk /dev/sdb\n...\nCommand (m for help): n\nPartition type\n   p   primary (0 primary, 0 extended, 4 free)\n   e   extended (container for logical partitions)\nSelect (default p): p\nPartition number (1-4, default 1):\nFirst sector (2048-209715199, default 2048):\nLast sector, +sectors or +size{K,M,G,T,P} (2048-209715199, default 209715199):\n\nCreated a new partition 1 of type 'Linux' and of size 100 GiB.\n\nCommand (m for help): w\nThe partition table has been altered.\nCalling ioctl() to re-read partition table.\nSyncing disks.\n\n\u3000\u4f5c\u6210\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306bext4\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n# mkfs -t ext4 /dev/sdb1\n\n\u3000/home\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u696d\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002pwgen\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u751f\u6210\u3057\u307e\u3059\u3002-B\u30d5\u30e9\u30b0\u3092\u6307\u5b9a\u3059\u308b\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3057\u3066\u5224\u5225\u304c\u7d1b\u3089\u308f\u3057\u3044\u6587\u5b57\u3092\u9664\u5916\u3057\u3066\u751f\u6210\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n# apt-get update && apt-get install -y pwgen\n# pwgen -B\ndoquevi9 zoh4ieY9 oqu4jooN EeFei7aV sha7Hiet aiha7Le4 Weehoo4a eixua7Ua\n...\n\ncloud-user\u540d\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u7ba1\u7406\u8005\u30e6\u30fc\u30b6\u30fc\u3068\u3057\u3066\u4eee\u60f3\u30de\u30b7\u30f3\u4f5c\u6210\u6642\u306broot\u30e6\u30fc\u30b6\u30fc\u306e/root/authorized_keys\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u9375\u306f\u30b3\u30d4\u30fc\u3057\u3066\u4f7f\u3044\u3001sudo\u3082\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3066\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u8fba\u308a\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc\u306b\u5f93\u3063\u3066\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n# useradd -m -d /home/cloud-user -s /bin/bash cloud-user \\\n && echo \"cloud-user:doquevi9\" | chpasswd \\\n && mkdir -p /home/cloud-user/.ssh \\\n && chmod 700 /home/cloud-user/.ssh \\\n && cp /root/.ssh/authorized_keys /home/cloud-user/.ssh \\\n && chmod 600 /home/cloud-user/.ssh/authorized_keys \\\n && chown -R cloud-user:cloud-user /home/cloud-user/.ssh \\\n && echo \"cloud-user ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n\n\u3000/home\u3092\u79fb\u52d5\u3059\u308b\u305f\u3081\u306e\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u8ffd\u52a0\u30c7\u30a3\u30b9\u30af\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n# mkdir /mnt/home\n# mount /dev/sdb1 /mnt/home\n\n\u3000/home\u3092\u5168\u3066/mnt/home\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n# cp -a /home/* /mnt/home\n\n\u3000\u65e2\u5b58\u306e/home\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n# mv /home /home.old\n# mkdir /home      \n\n\u3000blkid\u30b3\u30de\u30f3\u30c9\u3067/dev/sdb1\u306eUUID\u3092\u8abf\u3079\u307e\u3059\u3002\n# blkid /dev/sdb1\n/dev/sdb1: UUID=\"7b323902-0182-426a-8d76-991901d69c02\" TYPE=\"ext4\" PARTUUID=\"3986d957-01\"\n\n\u3000/etc/fstab\u306f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u308a\u307e\u3059\u3002\n$ cp -ip /etc/fstab /etc/fstab_`date \"+%Y%m%d\"`\n\n\u3000/dev/sdb1\u3092/home\u3078\u30de\u30a6\u30f3\u30c8\u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n/etc/fstab\nUUID=7b323902-0182-426a-8d76-991901d69c02 /home ext4 defaults 0  1\n\n\n\u3000reboot\u3059\u308b\u3068\u81ea\u52d5\u7684\u306b\u8ffd\u52a0\u3057\u305f\u30c7\u30fc\u30bf\u30c7\u30a3\u30b9\u30af\u304c/home\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30de\u30a6\u30f3\u30c8\u3057\u3066\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n# reboot\n\n\n16.04 LTS\u304b\u308916.10\u3078upgrade\u3059\u308b\n\u3000IDCF\u30af\u30e9\u30a6\u30c9\u3067\u5229\u7528\u3067\u304d\u308b\u6700\u65b0\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306fUbuntu Server 16.04 LTS\u3067\u3059\u3002xrdp\u306f0.9\u304b\u3089\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u6a19\u6e96\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u30020.9\u306fUbuntu 16.10\u304b\u3089\u6a19\u6e96\u3067\u5229\u7528\u3067\u304d\u308b\u306e\u306716.04\u304b\u308916.10\u3078upgrade\u3057\u307e\u3059\u3002\n\u3000Ubuntu\u306eupgrade\u306fdo-release-upgrade\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u307e\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u7528\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u30a8\u30c7\u30a3\u30bf\u3068\u3057\u3066vim\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n$ sudo apt-get update && sudo apt-get install -y update-manager-core vim\n\n\u3000/etc/update-manager/release-upgrades\u30d5\u30a1\u30a4\u30eb\u3092normal\u306b\u7de8\u96c6\u3057\u3066LTS\u7248\u304b\u3089\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n/etc/update-manager/release-upgrades\n[DEFAULT]\n#Prompt=lts\nPrompt=normal \n\n\n\u3000Ubuntu 16.04 LTS\u304b\u308916.10\u306bupgrade\u3057\u307e\u3059\u3002\n$ sudo do-release-upgrade\n\n\u3000SSH\u63a5\u7d9a\u3067upgrade\u3092\u3057\u3066\u3044\u308b\u305f\u3081\u9014\u4e2d\u3067\u5931\u6557\u3057\u3066\u63a5\u7d9a\u304c\u5207\u308c\u308b\u5834\u5408\u3092\u8003\u616e\u3057\u3066\u3001\u65b0\u3057\u304f\u5225\u306e\u30dd\u30fc\u30c8\u3067SSH\u63a5\u7d9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nThis session appears to be running under ssh. It is not recommended\nto perform a upgrade over ssh currently because in case of failure it\nis harder to recover.\n\nIf you continue, an additional ssh daemon will be started at port\n'1022'.\nDo you want to continue?\n\nContinue [yN]\n\n\u3000\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u30671022\u30dd\u30fc\u30c8\u3067\u63a5\u7d9a\u3092\u78ba\u8a8d\u3057\u3066\u304b\u3089upgrade\u4f5c\u696d\u3092\u7d99\u7d9a\u3057\u307e\u3059\u3002\nTo continue please press [ENTER]\n\n\u3000upgrade\u306b\u306f\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002y\u3092\u62bc\u3057\u3066\u4f5c\u696d\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\nFetching and installing the upgrade can take several hours. Once the\ndownload has finished, the process cannot be canceled.\n\n Continue [yN]  Details [d]\n\n\u3000upgrade\u4f5c\u696d\u4e2d\u306b\u3044\u304f\u3064\u304b\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n\nPostfix Configuration: No configuration\nConfiguring grub-pc: keep the local version currently installed\n/etc/update-manager/release-upgrades: N\nRemove obsolete packages?: y\nSystem upgrade is complete.: y\n\n\u3000reboot\u3059\u308b\u3068upgrade\u4f5c\u696d\u306f\u7d42\u4e86\u3067\u3059\u3002SSH\u63a5\u7d9a\u3057\u76f4\u3057\u3066\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ lsb_release -rd\nDescription:    Ubuntu 16.10\nRelease:        16.10\n\n\nxrdp\n\u3000Ubuntu 16.10\u306bupgrade\u3059\u308b\u3068xrdp\u306f0.9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n$ sudo apt-get update\n$ apt-cache show xrdp | grep Version\nVersion: 0.9.0~20160601+git703fedd-3\n\n\u3000xrdp\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n$ sudo apt-get install xrdp -y\n$ sudo systemctl enable xrdp.service\n$ sudo systemctl start xrdp.service\n\n\nMATE\n\u3000\u30af\u30e9\u30a6\u30c9\u3067\u306e\u5229\u7528\u306b\u9069\u3057\u305f\u8efd\u91cf\u306a\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u3082\u3044\u308d\u3044\u308d\u3042\u308a\u307e\u3059\u304c\u3001GNOME2\u304b\u3089\u6d3e\u751f\u3057\u305fMATE\u304c\u597d\u307f\u306a\u306e\u3067\u826f\u304f\u4f7f\u3044\u307e\u3059\u3002\n$ apt-cache show mate-core | grep Version\nVersion: 1.16.0+1\n\n\u3000\u30d0\u30fc\u30b8\u30e7\u30f3\u306f1.16\u3067\u3059\u3002\n$ sudo apt update && sudo apt install mate-core mate-desktop-environment mate-desktop-environment-extra -y\n\n\n\u65e5\u672c\u8a9e\u5165\u529b\n\u3000\u65e5\u672c\u8a9e\u306eIME\u306fMozc\u3092\u4f7f\u3044\u307e\u3059\u3002\n$ sudo apt-get install ibus-mozc -y\n\n~/.xsession\u306bibus\u3068MATE\u306e\u8d77\u52d5\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ cat <<EOF > ~/.xsession\nexport GTK_IM_MODULE=ibus\nexport QT_IM_MODULE=ibus\nexport XMODIFIERS=\"@im=ibus\"\nibus-daemon -rdx\nmate-session\nEOF\n\nreboot\u3059\u308b\u3068xrdp\u63a5\u7d9a\u3067MATE\u306e\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n$ sudo reboot\n\n\u3000IDCF\u30af\u30e9\u30a6\u30c9\u306e\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30b9\u304b\u3089IP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0\u3057\u3066\u30013389\u30dd\u30fc\u30c8\u306e\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3068\u4f5c\u6210\u3057\u305f\u4eee\u60f3\u30de\u30b7\u30f3\u3078\u306e\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002Windows 10\u306e\u5834\u5408\u6a19\u6e96\u306e\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u304c\u4f7f\u3048\u307e\u3059\u3002\u8ffd\u52a0\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3057\u3066\u63a5\u7d9a\u3057\u307e\u3059\u3002macOS\u306e\u5834\u5408\u306f\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u4f7f\u3048\u308bMicrosoft Remote Desktop Connection Client for Mac 2.1.1\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u3000\u7ba1\u7406\u30e6\u30fc\u30b6\u30fc\u3068\u3057\u3066\u4f5c\u6210\u3057\u305fcloud-user\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\n\n\u3000MATE Terminal\u3092\u958b\u304d\u307e\u3059\u3002\n\nApplications -> Sytem Tools -> MATE Terminal\n\n\u3000ibus-setup\u3092\u5b9f\u884c\u3057\u3066\u65e5\u672c\u8a9eIME\u306bMozc\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n$ ibus-setup\n\n\nInput Method -> Add -> Japanese -> Mozc -> Add\n\nFirerox\u3092\u4f7f\u3044\u65e5\u672c\u8a9e\u5165\u529b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ sudo apt-get install -y firefox\n\n\nApplications -> Internet -> Firefox Web Browser\n\n\u3000\u53f3\u4e0a\u30e1\u30cb\u30e5\u30fc\u3092Japanese-Japanese \u304b\u3089 Japanese-Mozc\u306b\u5909\u66f4\u3059\u308b\u3068\u30a2\u30a4\u30b3\u30f3\u304c\u300c\u3042\u300d\u306b\u306a\u308a\u65e5\u672c\u8a9e\u5165\u529b\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nWindows 10\u306e\u5834\u5408\u306f\u306e\u534a\u89d2/\u5168\u89d2\u30ad\u30fc\u3001macOS\u306e\u5834\u5408\u306f\u534a\u89d2\u30ad\u30fc\u3067\u65e5\u672c\u8a9e\u5165\u529b\u3092\u5207\u308a\u63db\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3000\u30af\u30e9\u30a6\u30c9\u4e0a\u306bLinux\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u306b\u3088\u3063\u3066\u306fSSH\u63a5\u7d9a\u3057\u3066Emacs\u3084Vim\u306a\u3069\u306e\u30a8\u30c7\u30a3\u30bf\u3067\u5341\u5206\u306a\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002Java\u3084Scala\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306b\u306a\u308b\u3068[Eclim](http://eclim.org/index.html)\u3084[ENSIME](http://ensime.org/)\u3068\u3044\u3063\u305fCUI\u3082\u4f7f\u3048\u307e\u3059\u304c\u3001Eclipse\u306a\u3069\u306eGUI\u304c\u4f7f\u3048\u308b\u3068\u4fbf\u5229\u306a\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u958b\u767a\u7528\u306bIDCF\u30af\u30e9\u30a6\u30c9\u4e0a\u306b\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u3092\u7528\u610f\u3057\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n## Ubuntu 16.04\u306b\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u8ffd\u52a0\u3059\u308b\n\n\u3000\u6700\u8fd1\u306e\u958b\u767a\u3067\u306fDocker\u3092\u4f7f\u3046\u30b1\u30fc\u30b9\u304c\u307b\u3068\u3093\u3069\u3067\u3059\u3057\u3001Maven\u306e`~/.m2`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u3069\u3059\u3050\u306b1GB\u3092\u8d85\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002IDCF\u30af\u30e9\u30a6\u30c9\u306e\u6a19\u6e96\u3067\u306f\u30eb\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u304c15GB\u3057\u304b\u30c7\u30a3\u30b9\u30af\u304c\u306a\u3044\u305f\u3081\u3001\u9762\u5012\u3067\u3059\u304c\u30c7\u30fc\u30bf\u30c7\u30a3\u30b9\u30af\u3092\u5897\u8a2d\u3057\u3066`/home`\u3084`/var`\u306b\u30de\u30a6\u30f3\u30c8\u3057\u3066\u4f7f\u3044\u307e\u3059\u3002\n\n\u3000Ubuntu 16.04\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u306b100GB\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u8ffd\u52a0\u3057\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002`/dev/sda1`\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30b9\u30af\u306fext4\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u3053\u306e\u30c7\u30a3\u30b9\u30af\u3092`/home`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n```\n# df -T\nFilesystem     Type     1K-blocks    Used Available Use% Mounted on\nudev           devtmpfs   4065756       0   4065756   0% /dev\ntmpfs          tmpfs       816668    8912    807756   2% /run\n/dev/sda1      ext4      15348720 1721424  12824584  12% /\ntmpfs          tmpfs      4083324       0   4083324   0% /dev/shm\ntmpfs          tmpfs         5120       0      5120   0% /run/lock\ntmpfs          tmpfs      4083324       0   4083324   0% /sys/fs/cgroup\n```\n\n\u3000\u5897\u8a2d\u3057\u305f100GB\u306e\u30c7\u30fc\u30bf\u30c7\u30a3\u30b9\u30af\u306f`/dev/sdb`\u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\n```\n# fdisk -l\n...\nDisk /dev/sdb: 100 GiB, 107374182400 bytes, 209715200 sectors\nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\n```\n\n\u3000fdisk\u30b3\u30de\u30f3\u30c9\u3067\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u3066ext4\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u307e\u3059\u3002n -> p\u3068\u5165\u529b\u3057\u3066\u6b8b\u308a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30a8\u30f3\u30bf\u30fc\u30ad\u30fc\u3092\u62bc\u3057\u307e\u3059\u3002\n\n```\n# fdisk /dev/sdb\n...\nCommand (m for help): n\nPartition type\n   p   primary (0 primary, 0 extended, 4 free)\n   e   extended (container for logical partitions)\nSelect (default p): p\nPartition number (1-4, default 1):\nFirst sector (2048-209715199, default 2048):\nLast sector, +sectors or +size{K,M,G,T,P} (2048-209715199, default 209715199):\n\nCreated a new partition 1 of type 'Linux' and of size 100 GiB.\n\nCommand (m for help): w\nThe partition table has been altered.\nCalling ioctl() to re-read partition table.\nSyncing disks.\n```\n\n\u3000\u4f5c\u6210\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306bext4\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n# mkfs -t ext4 /dev/sdb1\n```\n\n\u3000`/home`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u696d\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002`pwgen`\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u751f\u6210\u3057\u307e\u3059\u3002`-B`\u30d5\u30e9\u30b0\u3092\u6307\u5b9a\u3059\u308b\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u3057\u3066\u5224\u5225\u304c\u7d1b\u3089\u308f\u3057\u3044\u6587\u5b57\u3092\u9664\u5916\u3057\u3066\u751f\u6210\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n```\n# apt-get update && apt-get install -y pwgen\n# pwgen -B\ndoquevi9 zoh4ieY9 oqu4jooN EeFei7aV sha7Hiet aiha7Le4 Weehoo4a eixua7Ua\n...\n```\n\n `cloud-user`\u540d\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u7ba1\u7406\u8005\u30e6\u30fc\u30b6\u30fc\u3068\u3057\u3066\u4eee\u60f3\u30de\u30b7\u30f3\u4f5c\u6210\u6642\u306broot\u30e6\u30fc\u30b6\u30fc\u306e`/root/authorized_keys`\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u9375\u306f\u30b3\u30d4\u30fc\u3057\u3066\u4f7f\u3044\u3001`sudo`\u3082\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3066\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u306e\u8fba\u308a\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc\u306b\u5f93\u3063\u3066\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n# useradd -m -d /home/cloud-user -s /bin/bash cloud-user \\\n && echo \"cloud-user:doquevi9\" | chpasswd \\\n && mkdir -p /home/cloud-user/.ssh \\\n && chmod 700 /home/cloud-user/.ssh \\\n && cp /root/.ssh/authorized_keys /home/cloud-user/.ssh \\\n && chmod 600 /home/cloud-user/.ssh/authorized_keys \\\n && chown -R cloud-user:cloud-user /home/cloud-user/.ssh \\\n && echo \"cloud-user ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers\n```\n\n\u3000`/home`\u3092\u79fb\u52d5\u3059\u308b\u305f\u3081\u306e\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u8ffd\u52a0\u30c7\u30a3\u30b9\u30af\u3092\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n```\n# mkdir /mnt/home\n# mount /dev/sdb1 /mnt/home\n```\n\n\u3000`/home`\u3092\u5168\u3066`/mnt/home`\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```\n# cp -a /home/* /mnt/home\n```\n\n\u3000\u65e2\u5b58\u306e`/home`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u30ea\u30cd\u30fc\u30e0\u3057\u3066\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n# mv /home /home.old\n# mkdir /home      \n```\n\n\u3000`blkid`\u30b3\u30de\u30f3\u30c9\u3067`/dev/sdb1`\u306eUUID\u3092\u8abf\u3079\u307e\u3059\u3002\n\n```\n# blkid /dev/sdb1\n/dev/sdb1: UUID=\"7b323902-0182-426a-8d76-991901d69c02\" TYPE=\"ext4\" PARTUUID=\"3986d957-01\"\n```\n\n\u3000`/etc/fstab`\u306f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u308a\u307e\u3059\u3002\n\n```\n$ cp -ip /etc/fstab /etc/fstab_`date \"+%Y%m%d\"`\n```\n\n\u3000`/dev/sdb1`\u3092`/home`\u3078\u30de\u30a6\u30f3\u30c8\u3059\u308b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```bash:/etc/fstab\nUUID=7b323902-0182-426a-8d76-991901d69c02 /home ext4 defaults 0  1\n```\n\n\u3000reboot\u3059\u308b\u3068\u81ea\u52d5\u7684\u306b\u8ffd\u52a0\u3057\u305f\u30c7\u30fc\u30bf\u30c7\u30a3\u30b9\u30af\u304c`/home`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30de\u30a6\u30f3\u30c8\u3057\u3066\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n# reboot\n```\n\n\n## 16.04 LTS\u304b\u308916.10\u3078upgrade\u3059\u308b\n\n\u3000IDCF\u30af\u30e9\u30a6\u30c9\u3067\u5229\u7528\u3067\u304d\u308b\u6700\u65b0\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306fUbuntu Server 16.04 LTS\u3067\u3059\u3002[xrdp](http://www.xrdp.org/)\u306f0.9\u304b\u3089\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u6a19\u6e96\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u30020.9\u306fUbuntu 16.10\u304b\u3089\u6a19\u6e96\u3067\u5229\u7528\u3067\u304d\u308b\u306e\u306716.04\u304b\u308916.10\u3078upgrade\u3057\u307e\u3059\u3002\n\n\u3000Ubuntu\u306eupgrade\u306f`do-release-upgrade`\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u307e\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u7528\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u30a8\u30c7\u30a3\u30bf\u3068\u3057\u3066`vim`\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n```\n$ sudo apt-get update && sudo apt-get install -y update-manager-core vim\n```\n\n\u3000`/etc/update-manager/release-upgrades`\u30d5\u30a1\u30a4\u30eb\u3092`normal`\u306b\u7de8\u96c6\u3057\u3066LTS\u7248\u304b\u3089\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```bash:/etc/update-manager/release-upgrades\n[DEFAULT]\n#Prompt=lts\nPrompt=normal \n```\n\n\u3000Ubuntu 16.04 LTS\u304b\u308916.10\u306bupgrade\u3057\u307e\u3059\u3002\n\n```\n$ sudo do-release-upgrade\n```\n\n\u3000SSH\u63a5\u7d9a\u3067upgrade\u3092\u3057\u3066\u3044\u308b\u305f\u3081\u9014\u4e2d\u3067\u5931\u6557\u3057\u3066\u63a5\u7d9a\u304c\u5207\u308c\u308b\u5834\u5408\u3092\u8003\u616e\u3057\u3066\u3001\u65b0\u3057\u304f\u5225\u306e\u30dd\u30fc\u30c8\u3067SSH\u63a5\u7d9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\nThis session appears to be running under ssh. It is not recommended\nto perform a upgrade over ssh currently because in case of failure it\nis harder to recover.\n\nIf you continue, an additional ssh daemon will be started at port\n'1022'.\nDo you want to continue?\n\nContinue [yN]\n```\n\n\u3000\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u30671022\u30dd\u30fc\u30c8\u3067\u63a5\u7d9a\u3092\u78ba\u8a8d\u3057\u3066\u304b\u3089upgrade\u4f5c\u696d\u3092\u7d99\u7d9a\u3057\u307e\u3059\u3002\n\n```\nTo continue please press [ENTER]\n```\n\n\u3000upgrade\u306b\u306f\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002`y`\u3092\u62bc\u3057\u3066\u4f5c\u696d\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\n```\nFetching and installing the upgrade can take several hours. Once the\ndownload has finished, the process cannot be canceled.\n\n Continue [yN]  Details [d]\n```\n\n\u3000upgrade\u4f5c\u696d\u4e2d\u306b\u3044\u304f\u3064\u304b\u30c0\u30a4\u30a2\u30ed\u30b0\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n\n* Postfix Configuration: No configuration\n* Configuring grub-pc: keep the local version currently installed\n* /etc/update-manager/release-upgrades: N\n* Remove obsolete packages?: y\n* System upgrade is complete.: y\n\n\n\u3000reboot\u3059\u308b\u3068upgrade\u4f5c\u696d\u306f\u7d42\u4e86\u3067\u3059\u3002SSH\u63a5\u7d9a\u3057\u76f4\u3057\u3066\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ lsb_release -rd\nDescription:    Ubuntu 16.10\nRelease:        16.10\n```\n\n## xrdp\n\n\u3000Ubuntu 16.10\u306bupgrade\u3059\u308b\u3068xrdp\u306f0.9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n$ sudo apt-get update\n$ apt-cache show xrdp | grep Version\nVersion: 0.9.0~20160601+git703fedd-3\n```\n\n\u3000xrdp\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8d77\u52d5\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\n```\u3000\n$ sudo apt-get install xrdp -y\n$ sudo systemctl enable xrdp.service\n$ sudo systemctl start xrdp.service\n```\n\n\n### MATE\n\n\u3000\u30af\u30e9\u30a6\u30c9\u3067\u306e\u5229\u7528\u306b\u9069\u3057\u305f\u8efd\u91cf\u306a\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u3082\u3044\u308d\u3044\u308d\u3042\u308a\u307e\u3059\u304c\u3001GNOME2\u304b\u3089\u6d3e\u751f\u3057\u305f[MATE](http://mate-desktop.org/)\u304c\u597d\u307f\u306a\u306e\u3067\u826f\u304f\u4f7f\u3044\u307e\u3059\u3002\n\n```\n$ apt-cache show mate-core | grep Version\nVersion: 1.16.0+1\n```\n\n\u3000\u30d0\u30fc\u30b8\u30e7\u30f3\u306f1.16\u3067\u3059\u3002\n\n```\n$ sudo apt update && sudo apt install mate-core mate-desktop-environment mate-desktop-environment-extra -y\n```\n\n### \u65e5\u672c\u8a9e\u5165\u529b\n\n\n\u3000\u65e5\u672c\u8a9e\u306eIME\u306f[Mozc](https://github.com/google/mozc)\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```\n$ sudo apt-get install ibus-mozc -y\n```\n\n\n `~/.xsession`\u306bibus\u3068MATE\u306e\u8d77\u52d5\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\n$ cat <<EOF > ~/.xsession\nexport GTK_IM_MODULE=ibus\nexport QT_IM_MODULE=ibus\nexport XMODIFIERS=\"@im=ibus\"\nibus-daemon -rdx\nmate-session\nEOF\n```\n\n reboot\u3059\u308b\u3068xrdp\u63a5\u7d9a\u3067MATE\u306e\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u74b0\u5883\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n$ sudo reboot\n```\n\n\n\u3000IDCF\u30af\u30e9\u30a6\u30c9\u306e\u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30b9\u304b\u3089IP\u30a2\u30c9\u30ec\u30b9\u3092\u8ffd\u52a0\u3057\u3066\u30013389\u30dd\u30fc\u30c8\u306e\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u3068\u4f5c\u6210\u3057\u305f\u4eee\u60f3\u30de\u30b7\u30f3\u3078\u306e\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002Windows 10\u306e\u5834\u5408\u6a19\u6e96\u306e\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u304c\u4f7f\u3048\u307e\u3059\u3002\u8ffd\u52a0\u3057\u305fIP\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3057\u3066\u63a5\u7d9a\u3057\u307e\u3059\u3002macOS\u306e\u5834\u5408\u306f\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u4f7f\u3048\u308b[Microsoft Remote Desktop Connection Client for Mac 2.1.1](http://www.microsoft.com/ja-jp/download/details.aspx?id=18140)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u3000\u7ba1\u7406\u30e6\u30fc\u30b6\u30fc\u3068\u3057\u3066\u4f5c\u6210\u3057\u305f`cloud-user`\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\n\n\n![ubuntu-mate.png](https://qiita-image-store.s3.amazonaws.com/0/43745/7bd77282-1fc3-8d74-ea85-1decc075a98e.png)\n\n\n\u3000MATE Terminal\u3092\u958b\u304d\u307e\u3059\u3002\n\n* Applications -> Sytem Tools -> MATE Terminal\n\n\u3000`ibus-setup`\u3092\u5b9f\u884c\u3057\u3066\u65e5\u672c\u8a9eIME\u306bMozc\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\n$ ibus-setup\n```\n\n * Input Method -> Add -> Japanese -> Mozc -> Add\n\n\n Firerox\u3092\u4f7f\u3044\u65e5\u672c\u8a9e\u5165\u529b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ sudo apt-get install -y firefox\n```\n\n* Applications -> Internet -> Firefox Web Browser\n\n\n\u3000\u53f3\u4e0a\u30e1\u30cb\u30e5\u30fc\u3092Japanese-Japanese \u304b\u3089 Japanese-Mozc\u306b\u5909\u66f4\u3059\u308b\u3068\u30a2\u30a4\u30b3\u30f3\u304c\u300c\u3042\u300d\u306b\u306a\u308a\u65e5\u672c\u8a9e\u5165\u529b\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n![ubuntu-mate-japanese.png](https://qiita-image-store.s3.amazonaws.com/0/43745/55f33d43-3697-0c58-313a-2ed9387c7d0b.png)\n\n\n\n Windows 10\u306e\u5834\u5408\u306f\u306e\u534a\u89d2/\u5168\u89d2\u30ad\u30fc\u3001macOS\u306e\u5834\u5408\u306f\u534a\u89d2\u30ad\u30fc\u3067\u65e5\u672c\u8a9e\u5165\u529b\u3092\u5207\u308a\u63db\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n"}