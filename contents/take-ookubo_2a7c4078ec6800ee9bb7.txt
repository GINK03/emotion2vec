{"context": "\u53c2\u8003\nosx \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068 v8 \u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5408\u3063\u3066\u3044\u306a\u3044\u3068\u8272\u3005\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\n\u53c2\u8003\n\u3057\u304b\u3057\u53e4\u3044 therubyracer \u304c\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001\u4e0b\u8a18\u306e\u624b\u9806\u306e\u901a\u308a\u3001apple-gcc42 \u3092\u5165\u308c\u3066\u3001v8 \u3092\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u306a\u304a\u3057\u305f\u3089\u3001\u53e4\u3044therubyracer \u3092\u5165\u308c\u3089\u308c\u308b\u3002\n\u8ffd\u8a18:2016-11-14 El Capitan/Sierrar \u3067\u3082\u540c\u3058\u624b\u9806\u3067\u3067\u304d\u307e\u3057\u305f\u3002\nbrew tap homebrew/dupes\nbrew install apple-gcc42\nexport CC=/usr/local/Cellar/apple-gcc42/4.2.1-5666.3/bin/gcc-4.2\nexport CXX=/usr/local/Cellar/apple-gcc42/4.2.1-5666.3/bin/g++-4.2\nexport CPP=/usr/local/Cellar/apple-gcc42/4.2.1-5666.3/bin/cpp-4.2\nbrew uninstall v8\ngem uninstall libv8\nrbenv rehash\ngem install therubyracer -v '0.10.2'\n\n\u53c2\u8003\n\nbundle install \u6642\u30b3\u30b1\u308b\u306e\u3092\u76f4\u3059\nInstalling therubyracer 0.10.2 with native extensions\n\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n    /Users/ookubo/.rbenv/versions/2.1.5/bin/ruby extconf.rb\nchecking for main() in -lobjc... yes\ncreating Makefile\n\nmake \"DESTDIR=\" clean\n\nmake \"DESTDIR=\"\ncompiling rr.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nrr.cpp:48:1: warning: control reaches end of non-void function [-Wreturn-type]\n}\n^\n1 warning generated.\ncompiling v8.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_array.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_callbacks.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_context.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_date.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_debug.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_exception.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_exception.cpp:10:16: warning: unused variable 'stack' [-Wunused-variable]\n  static void* stack[20];\n               ^\n1 warning generated.\ncompiling v8_external.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_external.cpp:10:9: warning: unused variable 'references' [-Wunused-variable]\n  VALUE references;\n        ^\n1 warning generated.\ncompiling v8_function.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_handle.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_locker.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_locker.cpp:45:5: warning: control reaches end of non-void function [-Wreturn-type]\n    }\n    ^\nv8_locker.cpp:85:5: warning: control reaches end of non-void function [-Wreturn-type]\n    }\n    ^\n2 warnings generated.\ncompiling v8_message.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_object.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_object.cpp:77:19: warning: unused variable 'proto' [-Wunused-variable]\n    Handle<Value> proto(rr_rb2v8(prototype));\n                  ^\n1 warning generated.\ncompiling v8_script.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_string.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_template.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_try_catch.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_v8.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_value.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_value.cpp:100:9: warning: unused function 'ToInt32' [-Wunused-function]\n  VALUE ToInt32(VALUE self) {\n        ^\n1 warning generated.\ncompiling v8_weakref.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nlinking shared-object v8.bundle\nclang: error: no such file or directory: '/Users/ookubo/rails_sample/vendor/bundle/ruby/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a'\nmake: *** [v8.bundle] Error 1\n\nmake failed, exit code 2\n\nGem files will remain installed in /Users/ookubo/rails_sample/vendor/bundle/ruby/2.1.0/gems/therubyracer-0.10.2 for inspection.\nResults logged to /Users/ookubo/rails_sample/vendor/bundle/ruby/2.1.0/extensions/x86_64-darwin-14/2.1.0-static/therubyracer-0.10.2/gem_make.out\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306e\u3067\u3001\n\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c\u7121\u304f bundle \u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30ea\u30f3\u30af\u3092\u8cbc\u308b\n$RAILS_ROOT \u3068 rbenv \u306e\u30d1\u30b9\u306f\u3001\u5404\u81ea\u306e\u74b0\u5883\u306b\u5fdc\u3058\u3066\u5909\u66f4\u3059\u308b\n\nrbenv \u3092\u4f7f\u3063\u3066\u308b\u5834\u5408\nexport RAILS_ROOT=\u81ea\u5206\u306eRails\u30eb\u30fc\u30c8\nln -s ~/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a $RAILS_ROOT/vendor/bundle/ruby/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a\n\n\nanyenv \u7d4c\u7531\u3067 rbenv \u3092\u4f7f\u3063\u3066\u308b\u5834\u5408\nexport RAILS_ROOT=\u81ea\u5206\u306eRails\u30eb\u30fc\u30c8\nln -s ~/.anyenv/envs/rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a $RAILS_ROOT/vendor/bundle/ruby/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a\n\n[\u53c2\u8003](http://stackoverflow.com/questions/19630154/gem-install-therubyracer-v-0-10-2-on-osx-mavericks-not-installing)\n\nosx \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068 v8 \u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5408\u3063\u3066\u3044\u306a\u3044\u3068\u8272\u3005\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\n[\u53c2\u8003](http://qiita.com/windhorn/items/394c10dea23d1e829cd1)\n\n\u3057\u304b\u3057\u53e4\u3044 therubyracer \u304c\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001\u4e0b\u8a18\u306e\u624b\u9806\u306e\u901a\u308a\u3001apple-gcc42 \u3092\u5165\u308c\u3066\u3001v8 \u3092\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u306a\u304a\u3057\u305f\u3089\u3001\u53e4\u3044therubyracer \u3092\u5165\u308c\u3089\u308c\u308b\u3002\n\u8ffd\u8a18:2016-11-14 El Capitan/Sierrar \u3067\u3082\u540c\u3058\u624b\u9806\u3067\u3067\u304d\u307e\u3057\u305f\u3002\n\n```\nbrew tap homebrew/dupes\nbrew install apple-gcc42\nexport CC=/usr/local/Cellar/apple-gcc42/4.2.1-5666.3/bin/gcc-4.2\nexport CXX=/usr/local/Cellar/apple-gcc42/4.2.1-5666.3/bin/g++-4.2\nexport CPP=/usr/local/Cellar/apple-gcc42/4.2.1-5666.3/bin/cpp-4.2\nbrew uninstall v8\ngem uninstall libv8\nrbenv rehash\ngem install therubyracer -v '0.10.2'\n```\n\n[\u53c2\u8003](http://stackoverflow.com/questions/19630154/gem-install-therubyracer-v-0-10-2-on-osx-mavericks-not-installing)\n\n### bundle install \u6642\u30b3\u30b1\u308b\u306e\u3092\u76f4\u3059\n\n```\nInstalling therubyracer 0.10.2 with native extensions\n\nGem::Ext::BuildError: ERROR: Failed to build gem native extension.\n\n    /Users/ookubo/.rbenv/versions/2.1.5/bin/ruby extconf.rb\nchecking for main() in -lobjc... yes\ncreating Makefile\n\nmake \"DESTDIR=\" clean\n\nmake \"DESTDIR=\"\ncompiling rr.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nrr.cpp:48:1: warning: control reaches end of non-void function [-Wreturn-type]\n}\n^\n1 warning generated.\ncompiling v8.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_array.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_callbacks.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_context.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_date.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_debug.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_exception.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_exception.cpp:10:16: warning: unused variable 'stack' [-Wunused-variable]\n  static void* stack[20];\n               ^\n1 warning generated.\ncompiling v8_external.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_external.cpp:10:9: warning: unused variable 'references' [-Wunused-variable]\n  VALUE references;\n        ^\n1 warning generated.\ncompiling v8_function.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_handle.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_locker.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_locker.cpp:45:5: warning: control reaches end of non-void function [-Wreturn-type]\n    }\n    ^\nv8_locker.cpp:85:5: warning: control reaches end of non-void function [-Wreturn-type]\n    }\n    ^\n2 warnings generated.\ncompiling v8_message.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_object.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_object.cpp:77:19: warning: unused variable 'proto' [-Wunused-variable]\n    Handle<Value> proto(rr_rb2v8(prototype));\n                  ^\n1 warning generated.\ncompiling v8_script.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_string.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_template.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_try_catch.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_v8.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\ncompiling v8_value.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nv8_value.cpp:100:9: warning: unused function 'ToInt32' [-Wunused-function]\n  VALUE ToInt32(VALUE self) {\n        ^\n1 warning generated.\ncompiling v8_weakref.cpp\nclang: warning: argument unused during compilation: '-rdynamic'\nlinking shared-object v8.bundle\nclang: error: no such file or directory: '/Users/ookubo/rails_sample/vendor/bundle/ruby/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a'\nmake: *** [v8.bundle] Error 1\n\nmake failed, exit code 2\n\nGem files will remain installed in /Users/ookubo/rails_sample/vendor/bundle/ruby/2.1.0/gems/therubyracer-0.10.2 for inspection.\nResults logged to /Users/ookubo/rails_sample/vendor/bundle/ruby/2.1.0/extensions/x86_64-darwin-14/2.1.0-static/therubyracer-0.10.2/gem_make.out\n```\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306e\u3067\u3001\n\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c\u7121\u304f bundle \u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30ea\u30f3\u30af\u3092\u8cbc\u308b\n$RAILS_ROOT \u3068 rbenv \u306e\u30d1\u30b9\u306f\u3001\u5404\u81ea\u306e\u74b0\u5883\u306b\u5fdc\u3058\u3066\u5909\u66f4\u3059\u308b\n\n#### rbenv \u3092\u4f7f\u3063\u3066\u308b\u5834\u5408\n\n```\nexport RAILS_ROOT=\u81ea\u5206\u306eRails\u30eb\u30fc\u30c8\nln -s ~/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a $RAILS_ROOT/vendor/bundle/ruby/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a\n```\n\n#### anyenv \u7d4c\u7531\u3067 rbenv \u3092\u4f7f\u3063\u3066\u308b\u5834\u5408\n\n```\nexport RAILS_ROOT=\u81ea\u5206\u306eRails\u30eb\u30fc\u30c8\nln -s ~/.anyenv/envs/rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a $RAILS_ROOT/vendor/bundle/ruby/2.1.0/gems/libv8-3.3.10.4/lib/libv8/build/v8/libv8.a\n```\n", "tags": ["therubyracer", "Yosemite", "libv8", "elcapitan", "Sierra"]}