{"context": "\n\n\u6982\u8981\nSystemVerilog,verilog\u306e\u30de\u30af\u30ed\u306e\u8a18\u8ff0\u4f8b\u3092\u5099\u5fd8\u9332\u3068\u3057\u3066\u6b8b\u3057\u3066\u7f6e\u304d\u305f\u304b\u3063\u305f\u306e\u3067\n\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\u4ee5\u4e0b\u304c\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067\u3059\u3002\n\nappna_tb.v\n`timescale 1ns / 1ps\n\n`define INPUT input\n`define textmacro(A, B)\\\n    `ifdef INPUT\\\n        $display(`\"`INPUT A to B`\");\\\n        B = A;\\\n    `endif\n\nmodule appna_tb();\n    logic [63:0] a, b, // input\n                 y;    // output\n    logic        co;   // output\n    appna u_appna(.*);\n\n    string result_str;\n\ninitial\nbegin\n    a = 0;\n    b = 0;\n\n    #100;\n    `textmacro(4445, a)\n    `textmacro(5555, b)\n    #100;\n    result_str = ( (a+b) == y ) ? \"OK\" : \"NG\";\n    $display(\"y is %s, exp=%0d, act=%0d\",result_str, a+b, y);\nend\n\nendmodule\n\n\n\n\n`define [\u6587\u5b57\u52171] [\u6587\u5b57\u52172]\n`define INPUT input\n\n\u6587\u5b57\u52171\u3092\u6587\u5b57\u52172\u306b\u7f6e\u63db\u3057\u307e\u3059\n$display(\"`INPUT A to B\");\n\n\u5b9a\u7fa9\u3057\u305f\u30de\u30af\u30ed\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306f\u982d\u306b\u300c`\u300d\u3092\u4ed8\u3051\u307e\u3059\u3002\n\u3053\u306e\u5834\u5408\u3001\u300cINPUT\u300d\u306f\u300cinput\u300d\u306b\u7f6e\u63db\u3055\u308c\u3002\"input A to B\"\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u307e\u3059\u3002\n\ndefine [\u6587\u5b57\u52171](\u5f15\u6570\uff09\u3000[\u6587\u5b57\u52172]\n`define textmacro(A, B)\\\n        $display(`\"`INPUT A to B`\");\\\n        B = A;\n\n\u30de\u30af\u30ed\u306b\u306f\u5f15\u6570\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u4f8b\u3067\u306f\u5f15\u6570\u3067\u6e21\u3057\u305fA\u3068B\u3068\u3044\u3046\u6587\u5b57\u5217\u304c\u3001\n\u6587\u5b57\u52172\u306eA\u3068B\u3092\u305d\u308c\u305e\u308c\u7f6e\u63db\u3057\u307e\u3059\u3002\n\u30de\u30af\u30ed\u3092\u8907\u6570\u884c\u306b\u6e21\u3063\u3066\u66f8\u304d\u305f\u3044\u5834\u5408\u306f\u672b\u5c3e\u306b\u300c\\\u300d\u3092\u4ed8\u3051\u307e\u3059\u3002\uff08\u6700\u5f8c\u306e\u884c\u306b\u306f\u4e0d\u8981\uff09\n`textmacro(4445, a)\n\n\u3053\u306e\u5834\u5408\u300c4445\u300d\u304c\u300cA\u300d\u3092\u3001\u300ca\u300d\u304c\u300cB\u300d\u3092\u7f6e\u63db\u3057\u3001\n$display(\"input 4445 to a\");\na = 4445;\n\n\u3068\u306a\u308a\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u300c\"~\"\u300d\u3067\u56f2\u3080\u3068A\u3068B\u306f\u305f\u3060\u306e\u6587\u5b57\u5217\u3068\u3057\u3066\u6271\u308f\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u300c`\"~`\"\u300d\u3068\u3059\u308b\u3068\u30c0\u30d6\u30eb\u30af\u30aa\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u5185\u3067\u3082\u5f15\u6570\u3092\u6271\u3046\u3053\u3068\u53ef\u80fd\u3067\u3059\u3002\n\nifdef \u6587\u5b57\u52171\u3000\uff5b\u6587\u5b57\u52172\uff5dendif\n\u6587\u5b57\u52171\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5834\u5408,\u6587\u5b57\u52172\u5185\u306e\u8a18\u8ff0\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\n`define textmacro(A, B)\\\n`ifdef INPUT\\\n        $display(`\"`INPUT A to B`\");\\\n        B = A;\\\n`endif\n\n\u3053\u306e\u5834\u5408\u306fINPUT\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u300cifdef~endif\u300d\u3067\u56f2\u307e\u308c\u305f\u5185\u5bb9\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070textmacro(A, B)\u306f\u4f55\u3082\u884c\u308f\u306a\u3044\u7a7a\u306e\u30de\u30af\u30ed\u306b\u306a\u308a\u307e\u3059\n\u4ed6\u306b\u3082\u300cifndef\u300d\u3001\u300celsif\u300d\u304c\u4f7f\u3048\u307e\u3059\u3002\n\n\u4e3b\u306a\u7528\u9014\n\u4ee3\u5165\u3084\u6bd4\u8f03\u3092\u884c\u3046\u3068\u304d\u306b\u4fe1\u53f7\u540d\u3084\u5909\u6570\u540d\u3092\u8868\u793a\u3057\u305f\u3044\u3068\u304d\u3001\u30bf\u30b9\u30af\u3092\u7528\u3044\u308b\u3068\ntask InputData(input int value, input string data_name, input [63:0] data);\nbegin\n    $display(\"input %0d to %s\", value, data_name);\n    data = value;\nend\n\n//\u547c\u3073\u51fa\u3057\nInputData(100, \"i_data\", i_data);\n\n\u3068\u306a\u308a\u3001\u4fe1\u53f7\u540d\u3092\u5225\u9014\u5f15\u6570\u3067\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u30de\u30af\u30ed\u306f\u3042\u304f\u307e\u3067\u3082\u6587\u5b57\u5217\u3068\u3057\u3066\u51e6\u7406\u3059\u308b\u305f\u3081\u3001\n\u3088\u308a\u7c21\u6f54\u306b\u8868\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n`define InputData(VALUE, SIGNAL)\\\n        $display(`\"input VALUE to SIGNAL`\");\\\n        SIGNAL = VALUE;\n\n//\u547c\u3073\u51fa\u3057\n`InputData(100, i_data)\n\n#\u6982\u8981\nSystemVerilog,verilog\u306e\u30de\u30af\u30ed\u306e\u8a18\u8ff0\u4f8b\u3092\u5099\u5fd8\u9332\u3068\u3057\u3066\u6b8b\u3057\u3066\u7f6e\u304d\u305f\u304b\u3063\u305f\u306e\u3067\n\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n#\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\u4ee5\u4e0b\u304c\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067\u3059\u3002\n\n```verilog:appna_tb.v\n`timescale 1ns / 1ps\n\n`define INPUT input\n`define textmacro(A, B)\\\n    `ifdef INPUT\\\n        $display(`\"`INPUT A to B`\");\\\n        B = A;\\\n    `endif\n\nmodule appna_tb();\n    logic [63:0] a, b, // input\n                 y;    // output\n    logic        co;   // output\n    appna u_appna(.*);\n\n    string result_str;\n\ninitial\nbegin\n    a = 0;\n    b = 0;\n\n    #100;\n    `textmacro(4445, a)\n    `textmacro(5555, b)\n    #100;\n    result_str = ( (a+b) == y ) ? \"OK\" : \"NG\";\n    $display(\"y is %s, exp=%0d, act=%0d\",result_str, a+b, y);\nend\n\nendmodule\n\n```\n\n#`define [\u6587\u5b57\u52171] [\u6587\u5b57\u52172]\n```verilog\n`define INPUT input\n```\n\u6587\u5b57\u52171\u3092\u6587\u5b57\u52172\u306b\u7f6e\u63db\u3057\u307e\u3059\n\n```verilog\n$display(\"`INPUT A to B\");\n```\n\u5b9a\u7fa9\u3057\u305f\u30de\u30af\u30ed\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306f\u982d\u306b**\u300c`\u300d**\u3092\u4ed8\u3051\u307e\u3059\u3002\n\u3053\u306e\u5834\u5408\u3001\u300cINPUT\u300d\u306f\u300cinput\u300d\u306b\u7f6e\u63db\u3055\u308c\u3002**\"input A to B\"**\u3068\u3057\u3066\u51e6\u7406\u3055\u308c\u307e\u3059\u3002\n\n#define [\u6587\u5b57\u52171](\u5f15\u6570\uff09\u3000[\u6587\u5b57\u52172]\n```verilog\n`define textmacro(A, B)\\\n        $display(`\"`INPUT A to B`\");\\\n        B = A;\n```\n\u30de\u30af\u30ed\u306b\u306f\u5f15\u6570\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u4f8b\u3067\u306f\u5f15\u6570\u3067\u6e21\u3057\u305fA\u3068B\u3068\u3044\u3046\u6587\u5b57\u5217\u304c\u3001\n\u6587\u5b57\u52172\u306eA\u3068B\u3092\u305d\u308c\u305e\u308c\u7f6e\u63db\u3057\u307e\u3059\u3002\n\u30de\u30af\u30ed\u3092\u8907\u6570\u884c\u306b\u6e21\u3063\u3066\u66f8\u304d\u305f\u3044\u5834\u5408\u306f\u672b\u5c3e\u306b\u300c\\\u300d\u3092\u4ed8\u3051\u307e\u3059\u3002\uff08\u6700\u5f8c\u306e\u884c\u306b\u306f\u4e0d\u8981\uff09\n\n```verilog\n`textmacro(4445, a)\n```\n\u3053\u306e\u5834\u5408\u300c4445\u300d\u304c\u300cA\u300d\u3092\u3001\u300ca\u300d\u304c\u300cB\u300d\u3092\u7f6e\u63db\u3057\u3001\n\n```verilog\n$display(\"input 4445 to a\");\na = 4445;\n```\n\u3068\u306a\u308a\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u300c\"~\"\u300d\u3067\u56f2\u3080\u3068A\u3068B\u306f\u305f\u3060\u306e\u6587\u5b57\u5217\u3068\u3057\u3066\u6271\u308f\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u300c\\`\"~\\`\"\u300d\u3068\u3059\u308b\u3068\u30c0\u30d6\u30eb\u30af\u30aa\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u5185\u3067\u3082\u5f15\u6570\u3092\u6271\u3046\u3053\u3068\u53ef\u80fd\u3067\u3059\u3002\n\n#`ifdef \u6587\u5b57\u52171\u3000\uff5b\u6587\u5b57\u52172\uff5d `endif\n\u6587\u5b57\u52171\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5834\u5408,\u6587\u5b57\u52172\u5185\u306e\u8a18\u8ff0\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\n\n```verilog\n`define textmacro(A, B)\\\n`ifdef INPUT\\\n        $display(`\"`INPUT A to B`\");\\\n        B = A;\\\n`endif\n```\n\u3053\u306e\u5834\u5408\u306fINPUT\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u300cifdef~endif\u300d\u3067\u56f2\u307e\u308c\u305f\u5185\u5bb9\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\n\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070textmacro(A, B)\u306f\u4f55\u3082\u884c\u308f\u306a\u3044\u7a7a\u306e\u30de\u30af\u30ed\u306b\u306a\u308a\u307e\u3059\n\u4ed6\u306b\u3082\u300cifndef\u300d\u3001\u300celsif\u300d\u304c\u4f7f\u3048\u307e\u3059\u3002\n\n#\u4e3b\u306a\u7528\u9014\n\u4ee3\u5165\u3084\u6bd4\u8f03\u3092\u884c\u3046\u3068\u304d\u306b\u4fe1\u53f7\u540d\u3084\u5909\u6570\u540d\u3092\u8868\u793a\u3057\u305f\u3044\u3068\u304d\u3001\u30bf\u30b9\u30af\u3092\u7528\u3044\u308b\u3068\n\n```verilog\ntask InputData(input int value, input string data_name, input [63:0] data);\nbegin\n    $display(\"input %0d to %s\", value, data_name);\n    data = value;\nend\n\n//\u547c\u3073\u51fa\u3057\nInputData(100, \"i_data\", i_data);\n```\n\u3068\u306a\u308a\u3001\u4fe1\u53f7\u540d\u3092\u5225\u9014\u5f15\u6570\u3067\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u30de\u30af\u30ed\u306f\u3042\u304f\u307e\u3067\u3082\u6587\u5b57\u5217\u3068\u3057\u3066\u51e6\u7406\u3059\u308b\u305f\u3081\u3001\n\u3088\u308a\u7c21\u6f54\u306b\u8868\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```verilog\n`define InputData(VALUE, SIGNAL)\\\n        $display(`\"input VALUE to SIGNAL`\");\\\n        SIGNAL = VALUE;\n\n//\u547c\u3073\u51fa\u3057\n`InputData(100, i_data)\n```\n", "tags": ["Verilog", "SystemVerilog"]}