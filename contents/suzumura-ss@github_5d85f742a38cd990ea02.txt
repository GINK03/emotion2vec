{"context": " More than 1 year has passed since last update.\n\u4f5c\u696d\u3057\u306a\u304c\u3089\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\u52d5\u4f5c\u78ba\u8a8d\u4e2d\u3002\n\n\u72ec\u81ea\u306eBox\u3092\u4f5c\u3063\u3066\u307f\u308b\u3002\nVMWareFusion\u304c\u60f3\u5b9a\u4ee5\u4e0a\u306b\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u306e\u3067\u3001\u5148\u306bVirtualBox\u3067\u3084\u3063\u3066\u307f\u308b\u3002\n\n\u30d9\u30fc\u30b9VM\u306e\u751f\u6210\n\nVirtualBox\u5074\u306e\u8a2d\u5b9a\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30e1\u30c7\u30a3\u30a2: CentOS-6.4-x86_64-netinstall.iso\n\u30c7\u30a3\u30b9\u30af: root.vmdk 8GB,\u5206\u5272\u306a\u3057\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf: \u81ea\u52d5\u691c\u51fa\n\u30d7\u30ea\u30f3\u30bf: \u524a\u9664\n\n\nCentOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u8a2d\u5b9a\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3: JST-9\n\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8: jp106\nminimum\u30d1\u30c3\u30b1\u30fc\u30b8\nkerne-devel, gcc, make, perl: GuestAddin\u306e\u305f\u3081\u306b\u3002\nopenssh-client, system-config-network-tui\n\u30e6\u30fc\u30b6\u30fc\u540d vagrant \u3067\u30e6\u30fc\u30b6\u30fc\u751f\u6210\u3001\u9375\u3082github\u306e\u3092\u914d\u7f6e\u3002\n\n\n\u30c8\u30e9\u30d6\u30eb\nBox\u5316\u3057\u3066 vagrant init & vagrant up \u3059\u308b\u3068 eth0 \u304c\u7121\u52b9\u306e\u307e\u307e\u8d77\u52d5\u3002\n=> ssh\u304c\u7e4b\u304c\u3089\u305a\u30cf\u30f3\u30b0\u3057\u305f\u3088\u3046\u306b\u306a\u308b\u3002\nVirtualBox\u304b\u3089\u76f4\u63a5\u8d77\u52d5\u3059\u308b\u3068eth0\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u306a\u3044\u3002\neth1\u3068\u3057\u3066\u518d\u69cb\u6210\u3057\u3066\u304b\u3089poweroff\u3057\u305f\u5f8c\u306b vagrant up \u3059\u308b\u3068\u7e4b\u304c\u3063\u305f\u3002\nBox\u5316\u3057\u3066=>vagrant up\u3057\u305f\u5f8c\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u304c\u3046\u307e\u304f\u8d77\u52d5\u3057\u306a\u3044\u6a21\u69d8\u3002\u8b0e\u3002\n\n\n\u30d9\u30fc\u30b9VM\u306e\u751f\u6210\n\nVMWareFusion\u5074\u306e\u8a2d\u5b9a\n\nVM\u540d: centos_6.4_x86_64_with_chef.vmwarevm\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30e1\u30c7\u30a3\u30a2: CentOS-6.4-x86_64-netinstall.iso\n\u30c7\u30a3\u30b9\u30af: root.vmdk 8GB,\u5206\u5272\u306a\u3057\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf: \u81ea\u52d5\u691c\u51fa\n\u30d7\u30ea\u30f3\u30bf: \u524a\u9664\n\n\nCentOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u8a2d\u5b9a\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3: JST-9\n\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8: jp106\nminimum\u30d1\u30c3\u30b1\u30fc\u30b8\n\n\n\u8d77\u52d5\u76f4\u5f8c\u306e\u8a2d\u5b9a\n\u4ee5\u4e0b\u3001VM\u304c 192.168.228.133 \u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3002\n\n\u30e6\u30fc\u30b6\u30fc\u306e\u8ffd\u52a0\n\nEC2\u306b\u5408\u308f\u305b\u3066ec2-user\u3067\u4f5c\u6210\u3002\n\n.ssh/authorized_keys\u3078\u516c\u958b\u9375\u3092\u30b3\u30d4\u30fc\n\n\n/etc/sudoers\u306e\u5909\u66f4\n\nssh\u7d4c\u7531\u306esudo\u3092\u8a31\u53ef\n\nec2-user\u306bpassword\u306a\u3057\u306esudo\u3092\u8a31\u53ef\n\n\nsshd\u306e\u8a2d\u5b9a\n\nroot\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\npassword\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\n\n\nVMWate Tools\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVMWareFusion\u306e\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cVMWate Tools\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u3092\u9078\u3093\u3067\u304b\u3089:\n[guest]$ mount /dev/cdrom /mnt\n[guest]$ yum install -y perl\n[guest]$ tar xf /mnt/VMWareTools-9.2.2-893683.tar.gz\n[guest]$ cd vmware-tools-distrib\n[guest]$ yes \"\"| ./vmware-install.pl\n\n\nchef-client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[guest]$ curl -L https://www.opscode.com/chef/install.sh | bash\n\nvagrant\u3067\u5165\u308c\u308b\u306a\u3089\nVagrant.configure(\"2\") do |config|\n  :\n  config.vm.provision :shell do |shell|\n    shell.inline =<<-__SHELL__\ncurl -L https://www.opscode.com/chef/install.sh | bash\n    __SHELL__\n  end\nend\n\n\u3057\u304b\u3057provision\u6bce\u306bDownload\u3092\u542b\u3081\u3066\u5b9f\u884c\u3055\u308c\u3066\u3001\u30a6\u30b6\u3044\u3002\n\nBox\u306e\u751f\u6210\n\u3053\u306e\u3078\u3093\u3092\u53c2\u8003\u306b\n\nVMDisk\u306e\u6574\u7406\n[host]$ export PATH=/Applications/VMware\\ Fusion.app/Contents/Library:$PATH\n[host]$ cd centos_6.4_x86_64_with_chef.vmwarevm\n[host]$ vmware-vdiskmanager -d root.vmdk\n[host]$ vmware-vdiskmanager -k root.vmdk\n\n\nmetadata.json\u3092\u8a18\u8ff0\n\ncentos_6.4_x86_64_with_chef.vmwarevm/metadata.json\n{\n  \"provider\": \"vmware_fusion\"\n}\n\n\n\nBox\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n[host]$ cd centos_6.4_x86_64_with_chef.vmwarevm\n[host]$ tar cvzf ~/centos_6.4_x86_64_with_chef.box ./*\n\n\nBox\u306e\u767b\u9332\n[host]$ vagrant box add my_centos centos_6.4_x86_64_with_chef.box\n[host]$ $ vagrant box list\nmy_centos (vmware_fusion)\n\n\n\u8d77\u52d5\n\u3044\u307e\u3053\u3053\u3002\n$ vagrant up --provider=vmware_fusion\nBringing machine 'default' up with 'vmware_fusion' provider...\n[default] Verifying vmnet devices are healthy...\nThe VMware network device 'vmnet1' can't be started because\nits routes collide with another device: 'en0'. Please\neither fix the settings of the VMware network device or stop the\ncolliding device. Your machine can't be started while VMware\nnetworking is broken.\n\n$ open .vagrant/machines/default/vmware_fusion/vm.vmwarevm\n\n\u3068\u3059\u308b\u3068\u8d77\u52d5\u3059\u308b\u3057\u305d\u306e\u5f8c\u3082\n$ vagrant status\nCurrent machine states:\n\ndefault                  running (vmware_fusion)\n\nThe VM is running. To stop this VM, you can run `vagrant halt` to\nshut it down, or you can run `vagrant suspend` to simply suspend\nthe virtual machine. In either case, to restart it again, run\n`vagrant up`.\n\n\u3068\u51fa\u308b\u3002\n----\n\n\u4f5c\u696d\u3057\u306a\u304c\u3089\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\u52d5\u4f5c\u78ba\u8a8d\u4e2d\u3002\n\n----\n\n\n\u72ec\u81ea\u306eBox\u3092\u4f5c\u3063\u3066\u307f\u308b\u3002\n\nVMWareFusion\u304c\u60f3\u5b9a\u4ee5\u4e0a\u306b\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u306e\u3067\u3001\u5148\u306bVirtualBox\u3067\u3084\u3063\u3066\u307f\u308b\u3002\n\n# \u30d9\u30fc\u30b9VM\u306e\u751f\u6210\n## VirtualBox\u5074\u306e\u8a2d\u5b9a\n* \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30e1\u30c7\u30a3\u30a2: CentOS-6.4-x86_64-netinstall.iso\n* \u30c7\u30a3\u30b9\u30af: root.vmdk 8GB,\u5206\u5272\u306a\u3057\n* \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf: \u81ea\u52d5\u691c\u51fa\n* \u30d7\u30ea\u30f3\u30bf: \u524a\u9664\n\n## CentOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u8a2d\u5b9a\n* \u30bf\u30a4\u30e0\u30be\u30fc\u30f3: JST-9\n* \u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8: jp106\n* minimum\u30d1\u30c3\u30b1\u30fc\u30b8\n* kerne-devel, gcc, make, perl: GuestAddin\u306e\u305f\u3081\u306b\u3002\n* openssh-client, system-config-network-tui\n* \u30e6\u30fc\u30b6\u30fc\u540d vagrant \u3067\u30e6\u30fc\u30b6\u30fc\u751f\u6210\u3001\u9375\u3082github\u306e\u3092\u914d\u7f6e\u3002\n\n# \u30c8\u30e9\u30d6\u30eb\nBox\u5316\u3057\u3066 vagrant init & vagrant up \u3059\u308b\u3068 eth0 \u304c\u7121\u52b9\u306e\u307e\u307e\u8d77\u52d5\u3002\n=> ssh\u304c\u7e4b\u304c\u3089\u305a\u30cf\u30f3\u30b0\u3057\u305f\u3088\u3046\u306b\u306a\u308b\u3002\n\nVirtualBox\u304b\u3089\u76f4\u63a5\u8d77\u52d5\u3059\u308b\u3068eth0\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u306a\u3044\u3002\n\neth1\u3068\u3057\u3066\u518d\u69cb\u6210\u3057\u3066\u304b\u3089poweroff\u3057\u305f\u5f8c\u306b vagrant up \u3059\u308b\u3068\u7e4b\u304c\u3063\u305f\u3002\n\nBox\u5316\u3057\u3066=>vagrant up\u3057\u305f\u5f8c\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u304c\u3046\u307e\u304f\u8d77\u52d5\u3057\u306a\u3044\u6a21\u69d8\u3002\u8b0e\u3002\n\n----\n\n# \u30d9\u30fc\u30b9VM\u306e\u751f\u6210\n## VMWareFusion\u5074\u306e\u8a2d\u5b9a\n* VM\u540d: centos_6.4_x86_64_with_chef.vmwarevm\n* \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30e1\u30c7\u30a3\u30a2: CentOS-6.4-x86_64-netinstall.iso\n* \u30c7\u30a3\u30b9\u30af: root.vmdk 8GB,\u5206\u5272\u306a\u3057\n* \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf: \u81ea\u52d5\u691c\u51fa\n* \u30d7\u30ea\u30f3\u30bf: \u524a\u9664\n\n## CentOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u8a2d\u5b9a\n* \u30bf\u30a4\u30e0\u30be\u30fc\u30f3: JST-9\n* \u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8: jp106\n* minimum\u30d1\u30c3\u30b1\u30fc\u30b8\n\n## \u8d77\u52d5\u76f4\u5f8c\u306e\u8a2d\u5b9a\n\u4ee5\u4e0b\u3001VM\u304c ```192.168.228.133``` \u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3002\n\n### \u30e6\u30fc\u30b6\u30fc\u306e\u8ffd\u52a0\n* EC2\u306b\u5408\u308f\u305b\u3066```ec2-user```\u3067\u4f5c\u6210\u3002\n* ```.ssh/authorized_keys```\u3078\u516c\u958b\u9375\u3092\u30b3\u30d4\u30fc\n\n### /etc/sudoers\u306e\u5909\u66f4\n* ssh\u7d4c\u7531\u306esudo\u3092\u8a31\u53ef\n* ```ec2-user```\u306bpassword\u306a\u3057\u306esudo\u3092\u8a31\u53ef\n\n### sshd\u306e\u8a2d\u5b9a\n* root\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\n* password\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\n\n### VMWate Tools\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVMWareFusion\u306e\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u300cVMWate Tools\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u3092\u9078\u3093\u3067\u304b\u3089:\n\n```bash:\n[guest]$ mount /dev/cdrom /mnt\n[guest]$ yum install -y perl\n[guest]$ tar xf /mnt/VMWareTools-9.2.2-893683.tar.gz\n[guest]$ cd vmware-tools-distrib\n[guest]$ yes \"\"| ./vmware-install.pl\n```\n\n### chef-client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:\n[guest]$ curl -L https://www.opscode.com/chef/install.sh | bash\n```\n\nvagrant\u3067\u5165\u308c\u308b\u306a\u3089\n\n```rb:\nVagrant.configure(\"2\") do |config|\n  :\n  config.vm.provision :shell do |shell|\n    shell.inline =<<-__SHELL__\ncurl -L https://www.opscode.com/chef/install.sh | bash\n    __SHELL__\n  end\nend\n```\n\u3057\u304b\u3057provision\u6bce\u306bDownload\u3092\u542b\u3081\u3066\u5b9f\u884c\u3055\u308c\u3066\u3001\u30a6\u30b6\u3044\u3002\n\n\n# Box\u306e\u751f\u6210\n[\u3053\u306e\u3078\u3093](http://docs.vagrantup.com/v2/vmware/boxes.html)\u3092\u53c2\u8003\u306b\n\n## VMDisk\u306e\u6574\u7406\n\n```bash:\n[host]$ export PATH=/Applications/VMware\\ Fusion.app/Contents/Library:$PATH\n[host]$ cd centos_6.4_x86_64_with_chef.vmwarevm\n[host]$ vmware-vdiskmanager -d root.vmdk\n[host]$ vmware-vdiskmanager -k root.vmdk\n```\n\n## metadata.json\u3092\u8a18\u8ff0\n```json:centos_6.4_x86_64_with_chef.vmwarevm/metadata.json\n{\n  \"provider\": \"vmware_fusion\"\n}\n```\n\n## Box\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n```bash:\n[host]$ cd centos_6.4_x86_64_with_chef.vmwarevm\n[host]$ tar cvzf ~/centos_6.4_x86_64_with_chef.box ./*\n```\n\n# Box\u306e\u767b\u9332\n```bash:\n[host]$ vagrant box add my_centos centos_6.4_x86_64_with_chef.box\n[host]$ $ vagrant box list\nmy_centos (vmware_fusion)\n```\n\n# \u8d77\u52d5\n\u3044\u307e\u3053\u3053\u3002\n\n```bash:\n$ vagrant up --provider=vmware_fusion\nBringing machine 'default' up with 'vmware_fusion' provider...\n[default] Verifying vmnet devices are healthy...\nThe VMware network device 'vmnet1' can't be started because\nits routes collide with another device: 'en0'. Please\neither fix the settings of the VMware network device or stop the\ncolliding device. Your machine can't be started while VMware\nnetworking is broken.\n```\n\n```bash:\n$ open .vagrant/machines/default/vmware_fusion/vm.vmwarevm\n```\n\u3068\u3059\u308b\u3068\u8d77\u52d5\u3059\u308b\u3057\u305d\u306e\u5f8c\u3082\n\n```bash:\n$ vagrant status\nCurrent machine states:\n\ndefault                  running (vmware_fusion)\n\nThe VM is running. To stop this VM, you can run `vagrant halt` to\nshut it down, or you can run `vagrant suspend` to simply suspend\nthe virtual machine. In either case, to restart it again, run\n`vagrant up`.\n```\n\u3068\u51fa\u308b\u3002", "tags": ["vagrant", "VMwareFusion"]}