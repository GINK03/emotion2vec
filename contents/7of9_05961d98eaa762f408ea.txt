{"tags": ["adamTaylor", "TTC"], "context": "MicroZed Chronicles \u30ea\u30b9\u30c8 http://adiuvoengineering.com/?page_id=285\n@ Adam Taylor blog\nhttps://forums.xilinx.com/t5/Xcell-Daily-Blog/Introduction-to-the-Zynq-Triple-Timer-Counter-Part-Three-Adam/ba-p/413105\n\nThere are several interrupts to choose from for each TTC. I have enabled only the interval interrupt in this instance:\n\nXTtcPs_EnableInterrupts(TtcPsInt, XTTCPS_IXR_INTERVAL_MASK);\n\n\nThe file xttcps_hw.h, which is called up by xttcps.h, includes definitions for all possible TTC interrupts allowing them to be enabled as desired using the above function. \n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067ISR\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u306f\u4ee5\u4e0b\u306e\u901a\u308a\nXScuGic_Connect(GicInstancePtr, TTC_INTR_ID,\n    (Xil_ExceptionHandler)TickHandler, (void *)TtcPsInt);\n\n\u4e0a\u8a18\u3067\u30b3\u30cd\u30af\u30c8\u3057\u3066\u3044\u308bTickHandler\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9f\u88c5\u3092\u3057\u3066\u3044\u308b\nstatic void TickHandler(void *CallBackRef)\n{\n    u32 StatusEvent;\n\n    StatusEvent = XTtcPs_GetInterruptStatus((XTtcPs *)CallBackRef);\n    XTtcPs_ClearInterruptStatus((XTtcPs *)CallBackRef, StatusEvent);\n\n    printf(\"event\\n\\r\");\n}\n\nMicroZed Chronicles \u30ea\u30b9\u30c8 http://adiuvoengineering.com/?page_id=285\n@ Adam Taylor blog\nhttps://forums.xilinx.com/t5/Xcell-Daily-Blog/Introduction-to-the-Zynq-Triple-Timer-Counter-Part-Three-Adam/ba-p/413105\n\n\n> There are several interrupts to choose from for each TTC. I have enabled only the interval interrupt in this instance:\n\n\n```\nXTtcPs_EnableInterrupts(TtcPsInt, XTTCPS_IXR_INTERVAL_MASK);\n```\n\n> The file xttcps_hw.h, which is called up by xttcps.h, includes definitions for all possible TTC interrupts allowing them to be enabled as desired using the above function. \n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067ISR\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u306f\u4ee5\u4e0b\u306e\u901a\u308a\n\n```c\nXScuGic_Connect(GicInstancePtr, TTC_INTR_ID,\n\t(Xil_ExceptionHandler)TickHandler, (void *)TtcPsInt);\n```\n\n\u4e0a\u8a18\u3067\u30b3\u30cd\u30af\u30c8\u3057\u3066\u3044\u308bTickHandler\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5b9f\u88c5\u3092\u3057\u3066\u3044\u308b\n\n```c\nstatic void TickHandler(void *CallBackRef)\n{\n\tu32 StatusEvent;\n\n\tStatusEvent = XTtcPs_GetInterruptStatus((XTtcPs *)CallBackRef);\n\tXTtcPs_ClearInterruptStatus((XTtcPs *)CallBackRef, StatusEvent);\n\n\tprintf(\"event\\n\\r\");\n}\n```\n\n"}