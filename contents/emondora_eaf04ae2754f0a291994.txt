{"context": "FreeBSD \u306e jail \u74b0\u5883\u3092 qjail \u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u5834\u5408\u306b\uff0cfdesc \u3092\u81ea\u52d5\u3067\u30de\u30a6\u30f3\u30c8\u3059\u308b\u65b9\u6cd5\uff0e\n\n\u8a2d\u5b9a\n\u7ba1\u7406\u5bfe\u8c61\u306e jailname \u3092 example1 \u3068\u3059\u308b\uff0e\n\nqjail.confg/example1 \u304b\u3089 mount.fevfs; \u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\uff0e\nqjail.fstab/example1 \u306b devfs \u3068 fdesc \u306e\u8a2d\u5b9a\u3092\u8ffd\u8a18\uff0e\n\n\n/usr/local/etc/qjail.confg/example1\n:\n# mount.devfs;\n:\n\n\n\n/usr/local/etc/qjail.fstab/example1\nusr/jails/sharedfs /usr/jails/example1/sharedfs nullfs ro 0 0\ndevfs              /usr/jails/example1/dev      devfs  rw 0 0\nfdesc              /usr/jails/example1/dev/fd   fdescfs rw 0 0\n\n\n\u4ee5\u4e0a\uff0e\n\n\u3053\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u306b\u306a\u308b\u74b0\u5883\nFreeBSD \u306e jail \u74b0\u5883\u5185\u3067 rbenv \u306a\u3069 bash \u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\uff0cfdsec \u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u304c\u3042\u308b\uff0e\nqjail start example1 \u3067 jail \u74b0\u5883\u3092\u30b9\u30bf\u30fc\u30c8\u3055\u305b\u305f\u5f8c\u306b\uff0c\u30db\u30b9\u30c8\u74b0\u5883\u304b\u3089 mount -t fdsecfs fdesc /usr/jail/example1/dev/fd \u3068\u5b9f\u884c\u3057\u3066\u3082\u52d5\u4f5c\u306f\u3059\u308b\u304c\uff0c\u81ea\u52d5\u7684\u306b\u30de\u30a6\u30f3\u30c8\u3055\u305b\u305f\u304b\u3063\u305f\uff0e\nqjail.fstab/example1 \u306b fdsec \u306e\u884c\u3060\u3051\u3092\u8ffd\u8a18\u3059\u308b\u3068 qjail \u304c\u81ea\u52d5\u7684\u306b\u30de\u30a6\u30f3\u30c8\u3059\u308b devfs \u3088\u308a\u3082\u5148\u306b fdesc \u3092\u30de\u30a6\u30f3\u30c8\u3057\u3088\u3046\u3068\u3057\u3066\u30a8\u30e9\u30fc\u306b\u306a\u308b\uff0e\u305d\u3053\u3067 qjail.config/example1 \u3067 devfs \u306e\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u3066\uff0cqjail.fstab/example1 \u3067 devfs \u3068 fdesc \u306e\u4e21\u65b9\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\uff0e\nFreeBSD \u306e jail \u74b0\u5883\u3092 `qjail` \u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u5834\u5408\u306b\uff0cfdesc \u3092\u81ea\u52d5\u3067\u30de\u30a6\u30f3\u30c8\u3059\u308b\u65b9\u6cd5\uff0e\n\n# \u8a2d\u5b9a\n\n\u7ba1\u7406\u5bfe\u8c61\u306e jailname \u3092 example1 \u3068\u3059\u308b\uff0e\n\n1. qjail.confg/example1 \u304b\u3089 `mount.fevfs;` \u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\uff0e\n2. qjail.fstab/example1 \u306b `devfs` \u3068 `fdesc` \u306e\u8a2d\u5b9a\u3092\u8ffd\u8a18\uff0e\n\n```/usr/local/etc/qjail.confg/example1\n:\n# mount.devfs;\n:\n```\n\n```/usr/local/etc/qjail.fstab/example1\nusr/jails/sharedfs /usr/jails/example1/sharedfs nullfs ro 0 0\ndevfs              /usr/jails/example1/dev      devfs  rw 0 0\nfdesc              /usr/jails/example1/dev/fd   fdescfs rw 0 0\n```\n\n\u4ee5\u4e0a\uff0e\n\n# \u3053\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u306b\u306a\u308b\u74b0\u5883\n\nFreeBSD \u306e jail \u74b0\u5883\u5185\u3067 `rbenv` \u306a\u3069 `bash` \u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\uff0cfdsec \u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u304c\u3042\u308b\uff0e\n\n`qjail start example1` \u3067 jail \u74b0\u5883\u3092\u30b9\u30bf\u30fc\u30c8\u3055\u305b\u305f\u5f8c\u306b\uff0c\u30db\u30b9\u30c8\u74b0\u5883\u304b\u3089 `mount -t fdsecfs fdesc /usr/jail/example1/dev/fd` \u3068\u5b9f\u884c\u3057\u3066\u3082\u52d5\u4f5c\u306f\u3059\u308b\u304c\uff0c\u81ea\u52d5\u7684\u306b\u30de\u30a6\u30f3\u30c8\u3055\u305b\u305f\u304b\u3063\u305f\uff0e\n\nqjail.fstab/example1 \u306b fdsec \u306e\u884c\u3060\u3051\u3092\u8ffd\u8a18\u3059\u308b\u3068 `qjail` \u304c\u81ea\u52d5\u7684\u306b\u30de\u30a6\u30f3\u30c8\u3059\u308b devfs \u3088\u308a\u3082\u5148\u306b fdesc \u3092\u30de\u30a6\u30f3\u30c8\u3057\u3088\u3046\u3068\u3057\u3066\u30a8\u30e9\u30fc\u306b\u306a\u308b\uff0e\u305d\u3053\u3067 qjail.config/example1 \u3067 devfs \u306e\u81ea\u52d5\u30de\u30a6\u30f3\u30c8\u3092\u7121\u52b9\u306b\u3057\u3066\uff0cqjail.fstab/example1 \u3067 devfs \u3068 fdesc \u306e\u4e21\u65b9\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\uff0e\n", "tags": ["FreeBSD", "jail", "qjail", "rbenv", "fdesc"]}