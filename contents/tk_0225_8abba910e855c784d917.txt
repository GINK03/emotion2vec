{"context": " More than 1 year has passed since last update.gulp\u3068browserify\u3092\u4f7f\u3063\u3066\u3001livescript\u3067\u306e\u958b\u767a\u74b0\u5883\u69cb\u7bc9\u3092\u3057\u305f\u306e\u3067\u69cb\u6210\u306a\u3069\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001gulp\u306e\u30bf\u30b9\u30af\u306a\u3069\u306flivescript\u3092\u4f7f\u3063\u3066\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u307b\u307c\u540c\u3058\u3084\u308a\u65b9\u3067\u4ed6\u306eAltJS\u3067\u3082\u5fdc\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\nDirectory structure\n.\n\u251c\u2500\u2500 gulpfile.js\n\u251c\u2500\u2500 build\n\u251c\u2500\u2500 src\n\u2514\u2500\u2500 gulp\n    \u251c\u2500\u2500 browserify.ls\n    \u251c\u2500\u2500 build.ls\n    \u251c\u2500\u2500 default.ls\n    \u251c\u2500\u2500 index.ls\n    \u251c\u2500\u2500 uglify.ls\n    \u251c\u2500\u2500 watch.ls\n    \u2514\u2500\u2500 watchify.ls\n\n\nInstalled node modules\nnpm i -D modules\n\nlivescript\nprelude-ls\ngulp\ngulp-plumber\ngulp-rename\ngulp-uglify\ngulp-util\nbrowserify\nbrowserify-livescript\nwatchify\ncolors\nrun-sequence\nvinyl-source-stream\n\n\ngulpfile\ngulpfile.js\u304b\u3089AltJS\u3067\u66f8\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\ngulpfile.js\nrequire(\"livescript\");\nrequire(\"./gulp/index.ls\");\n\n\nindex.ls\u304b\u3089gulp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u4e00\u62ec\u3067\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\u307e\u305f\u3001\u30d5\u30a1\u30a4\u30eb\u306f\u30bf\u30b9\u30af\u6bce\u306b\u5206\u5272\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\ngulp/index.ls\nrequire! <[gulp fs]>\nglobal <<< require \\prelude-ls\n\nfs.readdir-sync __dirname\n|> filter ( .match /\\.ls$/)\n|> reject ( .match /index/)\n|> each ->\n  (require \"#__dirname/#it\") gulp\n\n\n\n\ngulp-task: default\n\u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b9\u30af\u306fgulp build\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\ndefault.ls\nmodule.exports = (gulp)->\n  gulp.task \\default, <[build]>\n\n\n\n\ngulp-task: build\n\nbuild.ls\nrequire! \\run-sequence\n\nmodule.exports = (gulp)->\n  gulp.task \\build, (cb)->\n    run-sequence \\browserify, \\uglify, cb\n\n\n\ngulp-task: browserify\nwatchify\u5c0e\u5165\u306b\u3042\u305f\u308a\u30bf\u30b9\u30af\u306e\u5171\u901a\u5316\u3082\u8003\u3048\u307e\u3057\u305f\u304c\u3001\u3044\u3044\u611f\u3058\u306b\u66f8\u3051\u306a\u304b\u3063\u305f\u306e\u3067\u5225\u30d5\u30a1\u30a4\u30eb\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u4f3c\u305f\u3088\u3046\u306a\u3053\u3068\u3092\u66f8\u3044\u3066\u3044\u308b\u306e\u3067\u51fa\u6765\u308c\u3070\u5171\u901a\u5316\u3057\u305f\u3044\u3002\u3002\n\ngulp/browserify.ls\nrequire! <[browserify colors]>\nsource = require \\vinyl-source-stream\n\nmodule.exports = (gulp)->\n  gulp.task \\browserify, (cb)->\n    browserify do\n      entries: <[./src/embed/index.ls]>\n      extensions: <[ls js]>\n    .transform \\browserify-livescript\n    .bundle!\n    .on \\error, -> process.stderr.write it.to-string!.white.bg-red; @emit \\end\n    .pipe source \\embed.js\n    .pipe gulp.dest \\build/\n\n\n\ngulp-task: uglify\n\ngulp/uglify.ls\nrequire! <[gulp-uglify gulp-rename]>\n\nmodule.exports = (gulp)->\n  gulp.task \\uglify, (cb)->\n    gulp\n      .src \\build/embed.js\n      .pipe gulp-uglify!\n      .pipe gulp-rename extname: \\.min.js\n      .pipe gulp.dest \\build/\n\n\n\ngulp-task: watch\n\ngulp/watch.ls\nmodule.exports = (gulp)->\n  gulp.task \\watch, (cb)->\n    gulp.watch \\./src/**/*.ls, <[watchify]>\n\n\n\ngulp-task: watchify\n\ngulp/watchify.ls\nrequire! <[browserify watchify colors gulp-util gulp-plumber]>\nsource = require \\vinyl-source-stream\n\nmodule.exports = (gulp)->\n  gulp.task \\watchify, (cb)->\n    ops =\n      entries: <[./src/embed/index.ls]>\n      extensions: <[ls js]>\n      cache: {}\n      package-cache: {}\n    bundler = browserify ops |> watchify\n      ..transform \\browserify-livescript\n    bundle = ->\n      bundler\n        .bundle!\n        .on \\error, -> process.stderr.write it.to-string!.white.bg-red; @emit \\end\n        .pipe gulp-plumber!\n        .pipe source \\embed.js\n        .pipe gulp.dest \\build/\n    bundler\n      ..on \\update, bundle\n      ..on \\log, gulp-util.log\n    return bundle!\n\n\n\n\u307e\u3068\u3081\nbrowserify + watchify\u3092\u5c0e\u5165\u3067\u304d\u305f\u306e\u3067\u3001\u30d3\u30eb\u30c9\u304c\u304b\u306a\u308a\u65e9\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\u305f\u3060\u3001\u66f8\u304d\u65b9\u304c\u60aa\u3044\u306e\u304b\u305f\u307e\u306bwatchify\u304c\u4e0a\u624b\u304f\u52d5\u3044\u3066\u304f\u308c\u306a\u3044\u306e\u3067\u3053\u3053\u306f\u8981\u8abf\u67fb\u3067\u3059\u3002\n\n\u8ffd\u8a18\n2016/02/29\u3000watchify\u3067transform\u3059\u308b\u5834\u6240\u3092\u4fee\u6b63\ngulp\u3068browserify\u3092\u4f7f\u3063\u3066\u3001[livescript](http://livescript.net/)\u3067\u306e\u958b\u767a\u74b0\u5883\u69cb\u7bc9\u3092\u3057\u305f\u306e\u3067\u69cb\u6210\u306a\u3069\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u307e\u305f\u3001gulp\u306e\u30bf\u30b9\u30af\u306a\u3069\u306flivescript\u3092\u4f7f\u3063\u3066\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u307b\u307c\u540c\u3058\u3084\u308a\u65b9\u3067\u4ed6\u306eAltJS\u3067\u3082\u5fdc\u7528\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n## Directory structure\n```\n.\n\u251c\u2500\u2500 gulpfile.js\n\u251c\u2500\u2500 build\n\u251c\u2500\u2500 src\n\u2514\u2500\u2500 gulp\n    \u251c\u2500\u2500 browserify.ls\n    \u251c\u2500\u2500 build.ls\n    \u251c\u2500\u2500 default.ls\n    \u251c\u2500\u2500 index.ls\n    \u251c\u2500\u2500 uglify.ls\n    \u251c\u2500\u2500 watch.ls\n    \u2514\u2500\u2500 watchify.ls\n```\n\n## Installed node modules\n`npm i -D modules`\n\n- livescript\n- prelude-ls\n- gulp\n- gulp-plumber\n- gulp-rename\n- gulp-uglify\n- gulp-util\n- browserify\n- browserify-livescript\n- watchify\n- colors\n- run-sequence\n- vinyl-source-stream\n\n## gulpfile\n\ngulpfile.js\u304b\u3089AltJS\u3067\u66f8\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n```javascript:gulpfile.js\nrequire(\"livescript\");\nrequire(\"./gulp/index.ls\");\n```\n\nindex.ls\u304b\u3089gulp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u4e00\u62ec\u3067\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\u307e\u305f\u3001\u30d5\u30a1\u30a4\u30eb\u306f\u30bf\u30b9\u30af\u6bce\u306b\u5206\u5272\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```livescript:gulp/index.ls\nrequire! <[gulp fs]>\nglobal <<< require \\prelude-ls\n\nfs.readdir-sync __dirname\n|> filter ( .match /\\.ls$/)\n|> reject ( .match /index/)\n|> each ->\n  (require \"#__dirname/#it\") gulp\n\n```\n\n### gulp-task: default\n\u30c7\u30d5\u30a9\u30eb\u30c8\u30bf\u30b9\u30af\u306f`gulp build`\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```livescript:default.ls\nmodule.exports = (gulp)->\n  gulp.task \\default, <[build]>\n\n```\n\n### gulp-task: build\n\n```livescript:build.ls\nrequire! \\run-sequence\n\nmodule.exports = (gulp)->\n  gulp.task \\build, (cb)->\n    run-sequence \\browserify, \\uglify, cb\n```\n\n### gulp-task: browserify\nwatchify\u5c0e\u5165\u306b\u3042\u305f\u308a\u30bf\u30b9\u30af\u306e\u5171\u901a\u5316\u3082\u8003\u3048\u307e\u3057\u305f\u304c\u3001\u3044\u3044\u611f\u3058\u306b\u66f8\u3051\u306a\u304b\u3063\u305f\u306e\u3067\u5225\u30d5\u30a1\u30a4\u30eb\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u4f3c\u305f\u3088\u3046\u306a\u3053\u3068\u3092\u66f8\u3044\u3066\u3044\u308b\u306e\u3067\u51fa\u6765\u308c\u3070\u5171\u901a\u5316\u3057\u305f\u3044\u3002\u3002\n\n```livescript:gulp/browserify.ls\nrequire! <[browserify colors]>\nsource = require \\vinyl-source-stream\n\nmodule.exports = (gulp)->\n  gulp.task \\browserify, (cb)->\n    browserify do\n      entries: <[./src/embed/index.ls]>\n      extensions: <[ls js]>\n    .transform \\browserify-livescript\n    .bundle!\n    .on \\error, -> process.stderr.write it.to-string!.white.bg-red; @emit \\end\n    .pipe source \\embed.js\n    .pipe gulp.dest \\build/\n```\n\n### gulp-task: uglify\n\n```livescript:gulp/uglify.ls\nrequire! <[gulp-uglify gulp-rename]>\n\nmodule.exports = (gulp)->\n  gulp.task \\uglify, (cb)->\n    gulp\n      .src \\build/embed.js\n      .pipe gulp-uglify!\n      .pipe gulp-rename extname: \\.min.js\n      .pipe gulp.dest \\build/\n```\n\n### gulp-task: watch\n\n```livescript:gulp/watch.ls\nmodule.exports = (gulp)->\n  gulp.task \\watch, (cb)->\n    gulp.watch \\./src/**/*.ls, <[watchify]>\n```\n\n### gulp-task: watchify\n\n```livescript:gulp/watchify.ls\nrequire! <[browserify watchify colors gulp-util gulp-plumber]>\nsource = require \\vinyl-source-stream\n\nmodule.exports = (gulp)->\n  gulp.task \\watchify, (cb)->\n  \tops =\n  \t  entries: <[./src/embed/index.ls]>\n  \t  extensions: <[ls js]>\n  \t  cache: {}\n  \t  package-cache: {}\n    bundler = browserify ops |> watchify\n      ..transform \\browserify-livescript\n    bundle = ->\n      bundler\n        .bundle!\n        .on \\error, -> process.stderr.write it.to-string!.white.bg-red; @emit \\end\n        .pipe gulp-plumber!\n        .pipe source \\embed.js\n        .pipe gulp.dest \\build/\n    bundler\n      ..on \\update, bundle\n      ..on \\log, gulp-util.log\n    return bundle!\n```\n\n## \u307e\u3068\u3081\nbrowserify + watchify\u3092\u5c0e\u5165\u3067\u304d\u305f\u306e\u3067\u3001\u30d3\u30eb\u30c9\u304c\u304b\u306a\u308a\u65e9\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\u305f\u3060\u3001\u66f8\u304d\u65b9\u304c\u60aa\u3044\u306e\u304b\u305f\u307e\u306bwatchify\u304c\u4e0a\u624b\u304f\u52d5\u3044\u3066\u304f\u308c\u306a\u3044\u306e\u3067\u3053\u3053\u306f\u8981\u8abf\u67fb\u3067\u3059\u3002\n\n\n## \u8ffd\u8a18\n2016/02/29\u3000watchify\u3067transform\u3059\u308b\u5834\u6240\u3092\u4fee\u6b63\n", "tags": ["browserify", "gulp", "watchify", "LiveScript"]}