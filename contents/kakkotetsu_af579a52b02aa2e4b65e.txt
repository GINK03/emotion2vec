{"context": "\u500b\u4eba\u30e1\u30fc\u30eb/\u540d\u7fa9\u3067 Juniper vQFX10000 trial \u7248 \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u6a29\u9650\u7533\u8acb\u3092\u3057\u305f\u3089\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u30e1\u30fc\u30eb\u306e\u3084\u308a\u3068\u308a\u306e\u5f8c\u306b\u6a29\u9650\u3092\u9802\u3051\u307e\u3057\u305f\u3002\nJuniper \u3055\u3093\u3078\u306e\u611f\u8b1d\u3092\u8fbc\u3081\u3066\u3001\u5e7e\u3064\u304b\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u6700\u521d\u306b\n\n\u672c\u9805\u3067\u3084\u308b\u3053\u3068\n\nJuniper QFX10000 \u30b7\u30ea\u30fc\u30ba\u306e\u4eee\u60f3\u7248\u3067\u3042\u308b\u3068\u3053\u308d\u306e Juniper vQFX10000 \u3092 KVM+GNS3 \u3067\u52d5\u304b\u3057\u3066\u3001\u7c21\u5358\u306a L2 \u758e\u901a\u78ba\u8a8d\u3092\u3059\u308b\u3068\u3053\u308d\u307e\u3067\n\u516c\u5f0f\u30b5\u30a4\u30c8\u3067\u6848\u5185\u3055\u308c\u3066\u3044\u308b Installation Guide (Juniper \u516c\u5f0f gitbuh | Juniper/vqfx10k-vagrant) \u3067\u306f vagrant \u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306e\u307f\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b(2016/12/22\u73fe\u5728)\u304c\u3001OS\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u306f vmdk \u7248\u3082\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u3057(&\u81ea\u5206\u306e\u30e1\u30a4\u30f3\u74b0\u5883\u304c KVM \u306a\u306e\u3067)\u3001\u3068\u3044\u3046\u90fd\u5408\nKVM \u3084 GNS3 \u306e\u5c0e\u5165\u624b\u9806\u3001Junos \u64cd\u4f5c\u306e\u57fa\u790e\u306f\u7701\u7565 (\u3042\u308b\u7a0b\u5ea6\u77e5\u3063\u3066\u3044\u308b\u4eba\u5411\u3051)\n\n\nJuniper vQFX? / \u516c\u5f0f\u30ea\u30f3\u30af\u96c6\n\nJuniper QFX10000 \u30b7\u30ea\u30fc\u30ba\u306e\u4eee\u60f3\u7248(trial)\n\n\n\u516c\u5f0f\u30b5\u30a4\u30c8 | Free vQFX10000 Software - Juniper Networks\n\n\n\u5c11\u306a\u304f\u3068\u3082 2016/07 \u6642\u70b9\u3067\u306f\u300cgithub \u4e0a\u306b Installation Guide \u306f\u3042\u304c\u3063\u3066\u3044\u308b\u3051\u308c\u3069\u3001OS\u30a4\u30e1\u30fc\u30b8\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u300d\u3068\u3044\u3046\u72b6\u6cc1\u3060\u3063\u305f\n\n\n2016/12\u73fe\u5728\u3001\u3044\u3064\u306e\u307e\u306b\u304b Free Trial \u304c\u59cb\u307e\u3063\u3066\u3044\u305f\u3053\u3068\u306b\u6c17\u4ed8\u3044\u305f\n\u305d\u3057\u3066\u4e0a\u8a18\u306e Installation Guide \u304c\u516c\u5f0f\u306a\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\n\n\n\u4f8b\u306b\u3088\u3063\u3066\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u305f\u3081\u306b\u306f\u6a29\u9650\u7533\u8acb\u304c\u5fc5\u8981\n\n\n\u4eca\u56de\u3082\u500b\u4eba\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u7533\u8acb\u3057\u305f\u306e\u3067\u3059\u304c Juniper \u306e\u65b9\u3068\u3061\u3087\u3063\u3068\u3057\u305f\u30e1\u30fc\u30eb\u306e\u3084\u308a\u3068\u308a\u3067\u627f\u8a8d\u3057\u3066\u9802\u3051\u307e\u3057\u305f\u3002\u672c\u5f53\u306b\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\n\n\n\n\u74b0\u5883\u60c5\u5831\n\u8efd\u304f\n\nKVM \u6bcd\u8266\n\n\nUbuntu16.04.1-server-amd64\n\u306b apt \u3067\u964d\u3063\u3066\u304f\u308b KVM \u3068 GNS3 \u4e00\u5f0f\n\n\nvQFX10000\n\n\nPFE \u3082 RE \u3082 2016/12/22 \u6642\u70b9\u3067 trial \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u306a\u6700\u65b0\u7248\n\n\nPFE \u306f vqfx10k-pfe-20160609-2.vmdk\n\nRE \u306f vqfx10k-re-15.1X53-D60.vmdk\n\n\n\n\n\n\n\nKVM\u6bcd\u8266\n$ uname -a\nLinux vkvm02 4.4.0-57-generic #78-Ubuntu SMP Fri Dec 9 23:50:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n\n$ cat /etc/lsb-release\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=16.04\nDISTRIB_CODENAME=xenial\nDISTRIB_DESCRIPTION=\"Ubuntu 16.04.1 LTS\"\n\n$ virsh -v\n1.3.1\n\n$ qemu-system-x86_64 --version\nQEMU emulator version 2.5.0 (Debian 1:2.5+dfsg-5ubuntu10.6), Copyright (c) 2003-2008 Fabrice Bellard\n\n$ gns3 --version\n1.5.2\n\n\n\nInstall \u624b\u9806\nKVM \u4e00\u5f0f\u3084 GNS3 \u306f\u4ee5\u4e0b\u3042\u305f\u308a\u3092\u53c2\u8003\u306b\u5c0e\u5165\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3002(\u96d1)\n\nKVM on Ubuntu \u5c0e\u5165\u53c2\u8003\u30ea\u30f3\u30af\n\n\nubuntu documentation | KVM\n\n\nGNS3 \u5c0e\u5165\u53c2\u8003\u30ea\u30f3\u30af\n\n\ngithub | GNS3/gns3-gui\n\u516c\u5f0f | GNS3 Installation on Linux\n\n\n\n\nvQFX \u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u5165\u624b \uff5e \u914d\u7f6e \uff5e format \u5909\u63db\n\n\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u5165\u624b\uff5eKVM\u6bcd\u8266\u306b\u914d\u7f6e\n\n\u524d\u8ff0\u306e\u516c\u5f0f\u304b\u3089\u98db\u3079\u308b vQFX Evaluation - Download Software \u3078\n2016/12/22 \u73fe\u5728\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u306a\u6700\u65b0\u7248\u4e00\u5f0f(\u4eca\u56de\u306f Format \u304c vmdk \u306e 2 \u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3067 OK)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\nVQFX10K PFE Disk Image\nVQFX10K RE Disk Image\n\n\nKVM\u6bcd\u8266\u306b\u914d\u7f6e\n\n\nvQFX\u30d5\u30a1\u30a4\u30eb\n$ md5sum vm_images/vqfx10k-pfe-20160609-2.vmdk\nfaa6905fd8e935c6e97859191143e8c3  vm_images/vqfx10k-pfe-20160609-2.vmdk\n$ cat vm_images/vqfx10k-pfe-20160609-2_md5.txt\nfaa6905fd8e935c6e97859191143e8c3\n\n$ md5sum vm_images/vqfx10k-re-15.1X53-D60.vmdk\n758669e88213fbd7943f5da7f6d7bd59  vm_images/vqfx10k-re-15.1X53-D60.vmdk\n$ cat vm_images/vqfx10k-re-15.1X53-D60_md5.txt\n758669e88213fbd7943f5da7f6d7bd59\n\n\n\nvmdk \u3092 qcow2 \u306b format \u5909\u63db\n\u3044\u3064\u3082\u901a\u308a\n$ cd ~/vm_images/\n$ mkdir qemu\n$ ls -al\ntotal 917640\ndrwxrwxr-x  3 kotetsu kotetsu      4096 Dec 25 11:32 .\ndrwxr-xr-x 12 kotetsu kotetsu      4096 Dec 25 11:08 ..\ndrwxrwxr-x  2 kotetsu kotetsu      4096 Dec 25 11:32 qemu\n-rw-r--r--  1 kotetsu kotetsu        32 Dec 24 10:59 vqfx10k-pfe-20160609-2_md5.txt\n-rw-r--r--  1 kotetsu kotetsu 584086528 Dec 24 10:42 vqfx10k-pfe-20160609-2.vmdk\n-rw-r--r--  1 kotetsu kotetsu        32 Dec 24 11:00 vqfx10k-re-15.1X53-D60_md5.txt\n-rw-r--r--  1 kotetsu kotetsu 355542528 Dec 24 10:50 vqfx10k-re-15.1X53-D60.vmdk\n\n$ qemu-img convert -f vmdk -O qcow2 vqfx10k-pfe-20160609-2.vmdk qemu/vqfx10k-pfe-20160609-2.qcow2\n$ qemu-img convert -f vmdk -O qcow2 vqfx10k-re-15.1X53-D60.vmdk qemu/vqfx10k-re-15.1X53-D60.qcow2\n\n$ ls -al qemu/\ntotal 1585044\ndrwxrwxr-x 2 kotetsu kotetsu       4096 Dec 25 11:37 .\ndrwxrwxr-x 3 kotetsu kotetsu       4096 Dec 25 11:32 ..\n-rw-r--r-- 1 kotetsu kotetsu 1144782848 Dec 25 11:37 vqfx10k-pfe-20160609-2.qcow2\n-rw-r--r-- 1 kotetsu kotetsu  478412800 Dec 25 11:37 vqfx10k-re-15.1X53-D60.qcow2\n\n\n\nGNS3 \u4e0a\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u767b\u9332\n\u3053\u3053\u306f\u3001\u5404\u4eba\u304c\u4f7f\u3063\u3066\u3044\u308b KVM \u7ba1\u7406\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u8aad\u307f\u66ff\u3048\u3066\u4e0b\u3055\u3044\u3002\nCPU/Memory \u306e\u8981\u4ef6\u306f\u3001\u524d\u8ff0\u306e Installation Guide \u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\nPFE\n\u4ee5\u4e0b\u3067\u3068\u308a\u3042\u3048\u305a(\u81ea\u5206\u306e\u691c\u8a3c\u7528\u9014\u3067\u306f\u554f\u984c\u306a\u304f)\u52d5\u3044\u3066\u307e\u3059\u3002\n\n\nRE\n\u4ee5\u4e0b\u3067\u3068\u308a\u3042\u3048\u305a(\u81ea\u5206\u306e\u691c\u8a3c\u7528\u9014\u3067\u306f\u554f\u984c\u306a\u304f)\u52d5\u3044\u3066\u307e\u3059\u3002\n\u3053\u3053\u306e Adapters \u6570\u306f\u3001\u6700\u4f4e 2 \u500b\u5fc5\u8981\u3067 4 \u500b\u76ee\u304b\u3089\u304c xe-0/0/0\uff5e \u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002\u4e0a\u9650\u6570\u306f\u3061\u3083\u3093\u3068\u78ba\u8a8d\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u306e\u30016 \u500b\u3057\u304b\u5272\u308a\u5f53\u3066\u306a\u304f\u3066\u3082\u56fa\u5b9a\u3067 xe-0/0/11 \u307e\u3067\u898b\u3048\u308b\u3053\u3068\u304b\u3089\u300112\u500b\u306e\u53ef\u80fd\u6027\u3082\u3042\u308b\u304b\u3082\u3067\u3059\u3002(\u8ab0\u304b\u3001\u78ba\u8a8d\u3057\u3066\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002)\n\n\nGNS3 \u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u30c7\u30d7\u30ed\u30a4 \uff5e \u7d50\u7dda \uff5e \u8d77\u52d5\n\u767b\u9332\u3057\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089 PFE \u3068 RE \u3092 1 \u30bb\u30c3\u30c8\u30c9\u30e9\u30c3\u30b0\u30a2\u30f3\u30c9\u30c9\u30ed\u30c3\u30d7\u3067\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002\n\u4e00\u5fdc\u3001\u3064\u3044\u3067\u306b\u9069\u5f53\u306a\u758e\u901a\u78ba\u8a8d\u7528\u306e\u30ce\u30fc\u30c9\u3082 2 \u500b\u304f\u3089\u3044\u4f5c\u3063\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\u7d50\u7dda\u6642\u3001\u5404\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u5916\u304b\u3089\u898b\u3048\u308b Adapters \u306e\u30ab\u30a6\u30f3\u30c8\u3068 OS \u5185\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5bfe\u5fdc\u306f\u4ee5\u4e0b\u306e\u611f\u3058\u3067\u3059\u3002PFE \u306e 2 \u500b\u76ee\u3068 RE \u306e 2 \u500b\u76ee\u3092\u63a5\u7d9a\u3057\u3066\u304a\u3051\u3070\u3001\u6700\u4f4e\u9650 PFE \u3092\u8a8d\u8b58\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u306f\u52d5\u304d\u307e\u3059\u3002\n\n\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\n\u5916\u304b\u3089\u898b\u3048\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u756a\u53f7(GNS3 \u30c7\u30d5\u30a9\u30eb\u30c8\u540d)\nOS\u3067\u306e\u4f7f\u308f\u308c\u65b9\n\u5099\u8003\n\n\n\n\nPFE\n1 (Ethernet0)\neth0\n\u521d\u671f\u8a2d\u5b9a\u3067 DHCP \u306b\u306a\u3063\u3066\u3044\u308b\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306a\u306e\u3067\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u5916\u754c\u3068\u63a5\u7d9a\n\n\nPFE\n2 (Ethernet1)\neth1 (169.254.0.1/24)\nRE \u3068\u306e Dedicated Link\n\n\n\n\n\n\n\n\nRE\n1 (Ethernet0)\nem0\n\u521d\u671f\u8a2d\u5b9a\u3067 DHCP \u306b\u306a\u3063\u3066\u3044\u308b\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306a\u306e\u3067\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u5916\u754c\u3068\u63a5\u7d9a\u3057\u305f\u308a\u56fa\u5b9a\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u66f4\u3057\u305f\u308a\n\n\nRE\n2 (Ethernet1)\nem1 (169.254.0.2/24)\nPFE \u3068\u306e Dedicated Link\n\n\nRE\n3 (Ethernet2)\n\u4e0d\u660e\n\u4f7f\u3063\u305f\u3053\u3068\u306a\u3044\u3051\u3069\u305f\u3076\u3093 em2 \u304b\u3068\n\n\nRE\n4\uff5e (Ethernet3\uff5e)\nxe-0/0/0\uff5e\n\n\n\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u611f\u3058\u3067\u3002\n\n\u7d75\u3067\u3044\u3046\u3068\u3053\u308d\u306e SW1 \uff5e Cloud \u3068\u3044\u3046\u3084\u3064\u306f\u5916\u754c (\u6bcd\u8266KVM \u306e linux bridge \u3078)\u306b\u63a5\u7d9a\u3057\u3066\u3001\u65e2\u5b58\u74b0\u5883\u3068\u76f8\u4e92\u901a\u4fe1(\u7ba1\u7406\u7528)\u3055\u305b\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u8fba\u306f\u307e\u3042\u3001\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u3002\n\u4f59\u8ac7\u3067\u3059\u304c\u3001GNS 1.5.2 \u3067\u306f github gns3-gui issues | QEMU link Packet Captures \u306e\u901a\u308a qemu \u540c\u58eb\u306e\u7d50\u7dda\u3067\u306f\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u8907\u6570\u30c7\u30d7\u30ed\u30a4\u3057\u3066 RE \u540c\u58eb\u3092\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u9593\u306b GNS3 \u306e Ethernet Switch \u3092\u631f\u3093\u3060\u308a\u3001vQFX \u5074\u3067 port mirroring \u3057\u305f\u308a\u3068\u304b\u306e\u5de5\u592b\u3092\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002(\u306a\u3093\u304b\u3044\u3044\u3084\u308a\u65b9\u304c\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002)\n\u3042\u3068\u306f RE \u3068 PFE \u3092 GNS3 \u304b\u3089 Start \u3057\u3066\u3057\u3070\u3089\u304f\u5f85\u3061\u307e\u3059\u3002\nRE \u304c\u8d77\u52d5\u3057\u3066\u304b\u3089\u7d50\u69cb\u5f85\u3064\u3068\u3001PFE \u3068\u52dd\u624b\u306b\u7e4b\u304c\u3063\u3066 PFE \u304c\u898b\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u6c17\u9577\u306b\u5f85\u3061\u307e\u3057\u3087\u3046\u3002 \n\nqemu-system-x86_64\u306e\u69d8\u5b50\n~$ ps aux | grep [Q]FX\nroot      4819 56.8  7.0 1907744 1165860 pts/10 Sl+ Dec25  63:24 /usr/bin/qemu-system-x86_64 -name vQFX_RE_15.1X53-D60-1 -m 1024M -smp cpus=1 -enable-kvm -boot order=c -drive file=/home/kotetsu/GNS3/projects/vqfx/project-files/qemu/f8b3330f-b59c-4035-970e-77368631a1f5/hda_disk.qcow2,if=ide,index=0,media=disk -serial telnet:127.0.0.1:5001,server,nowait -monitor tcp:127.0.0.1:55276,server,nowait -net none -device e1000,mac=00:86:2b:a1:f5:00,netdev=gns3-0 -netdev socket,id=gns3-0,udp=127.0.0.1:10011,localaddr=127.0.0.1:10010 -device e1000,mac=00:86:2b:a1:f5:01,netdev=gns3-1 -netdev socket,id=gns3-1,udp=127.0.0.1:10000,localaddr=127.0.0.1:10005 -device e1000,mac=00:86:2b:a1:f5:02 -device e1000,mac=00:86:2b:a1:f5:03 -device e1000,mac=00:86:2b:a1:f5:04,netdev=gns3-4 -netdev socket,id=gns3-4,udp=127.0.0.1:10004,localaddr=127.0.0.1:10003 -device e1000,mac=00:86:2b:a1:f5:05,netdev=gns3-5 -netdev socket,id=gns3-5,udp=127.0.0.1:10002,localaddr=127.0.0.1:10001 -nographic\n\nroot      4826 99.3  9.3 2468864 1533164 pts/10 Sl+ Dec25 110:45 /usr/bin/qemu-system-x86_64 -name vQFX_PFE_20160609-1 -m 1536M -smp cpus=1 -enable-kvm -boot order=c -drive file=/home/kotetsu/GNS3/projects/vqfx/project-files/qemu/21773ec6-55f8-4c3f-9cfb-fedd5f0f38da/hda_disk.qcow2,if=ide,index=0,media=disk -serial telnet:127.0.0.1:5000,server,nowait -monitor tcp:127.0.0.1:44622,server,nowait -net none -device e1000,mac=00:86:2b:38:da:00 -device e1000,mac=00:86:2b:38:da:01,netdev=gns3-1 -netdev socket,id=gns3-1,udp=127.0.0.1:10005,localaddr=127.0.0.1:10000 -nographic\n\n\n\nJunos \u5074\u306e\u78ba\u8a8d\n\nRE \u78ba\u8a8d\nJuniper \u516c\u5f0f gitbuh | Juniper/vqfx10k-vagrant \u306b\u3082\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c\u3001\u30a2\u30ab\u30a6\u30f3\u30c8: root \u30d1\u30b9\u30ef\u30fc\u30c9: Juniper \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u3089\u3001\u3044\u3064\u3082\u901a\u308a cli \u30b3\u30de\u30f3\u30c9\u3067 JUNOS shell \u3078\u5165\u308a\u307e\u3059\u3002\n\u57fa\u672c\u60c5\u5831\u3092\u78ba\u8a8d... QFX3500 \u3068\u304b\u66f8\u3044\u3066\u3042\u308b...\u3051\u3069\u3001\u672c\u8cea\u3067\u306f\u306a\u3044\u306e\u3067\u7121\u8996\u3002\n{master:0}\nroot@vqfx-re> show chassis hardware\nHardware inventory:\nItem             Version  Part number  Serial number     Description\nChassis                                84425636318       QFX3500\n\n\n{master:0}\nroot@vqfx-re> show version\nfpc0:\n--------------------------------------------------------------------------\nHostname: vqfx-re\nModel: vqfx-10000\nJunos: 15.1X53-D60.4\nJUNOS Base OS boot [15.1X53-D60.4]\nJUNOS Base OS Software Suite [15.1X53-D60.4]\nJUNOS Crypto Software Suite [15.1X53-D60.4]\nJUNOS Online Documentation [15.1X53-D60.4]\nJUNOS Kernel Software Suite [15.1X53-D60.4]\nJUNOS Packet Forwarding Engine Support (qfx-10-f) [15.1X53-D60.4]\nJUNOS Routing Software Suite [15.1X53-D60.4]\nJUNOS Enterprise Software Suite [15.1X53-D60.4]\nJUNOS Web Management [15.1X53-D60.4]\nJUNOS py-base-i386 [15.1X53-D60.4]\n\n\n{master:0}\nroot@vqfx-re> show system license\nLicense usage: none\n\nLicenses installed: none\n\nroot@vqfx-re:RE:0% uname -a\nJUNOS vqfx-re 15.1X53-D60.4 JUNOS 15.1X53-D60.4 #0: 2016-08-26 23:07:01 UTC     builder@mayland.juniper.net:/volume/build/junos/15.1/service/15.1X53-D60.4/obj/i386/junos/bsd/kernels/JUNIPER-QFX/kernel  i386\n\nroot@vqfx-re:RE:0% python --version\nPython 2.7.8\n\nPFE \u3068\u3064\u306a\u304c\u3063\u3066\u3001\u8a8d\u8b58\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\n{master:0}\nroot@vqfx-re> show pfe terse\nfpc0:\n--------------------------------------------------------------------------\nSlot Type Slot      State     Uptime\n 0   FXPC Present   Online    01:23:47\n\n\n{master:0}\nroot@vqfx-re> show chassis fpc\n                     Temp  CPU Utilization (%)   CPU Utilization (%)  Memory    Utilization (%)\nSlot State            (C)  Total  Interrupt      1min   5min   15min  DRAM (MB) Heap     Buffer\n  0  Online           Testing  17        12        0      0      0    1024        0         66\n  1  Empty\n  2  Empty\n  3  Empty\n  4  Empty\n  5  Empty\n  6  Empty\n  7  Empty\n  8  Empty\n  9  Empty\n\n\n{master:0}\nroot@vqfx-re> show interfaces em1\nPhysical interface: em1    , Enabled, Physical link is Up\n  Interface index: 9, SNMP ifIndex: 23\n  Type: Ethernet, Link-level type: Ethernet, MTU: 1514, Speed: 1000mbps\n  Device flags   : Present Running\n  Interface flags: SNMP-Traps\n  Link type      : Full-Duplex\n  Current address: 00:86:2b:a1:f5:01, Hardware address: 00:86:2b:a1:f5:01\n  Last flapped   : 2016-12-25 13:21:12 UTC (01:25:04 ago)\n    Input packets : 614505\n    Output packets: 957499\n\n  Logical interface em1.0 (Index 6) (SNMP ifIndex 24)\n    Flags: Up SNMP-Traps 0x4000000 Encapsulation: ENET2\n    Input packets : 614547\n    Output packets: 957499\n    Protocol inet, MTU: 1500\n      Flags: Sendbcast-pkt-to-re\n      Addresses, Flags: Is-Preferred Is-Primary\n        Destination: 169.254.0/24, Local: 169.254.0.2, Broadcast: 169.254.0.255\n\n\n{master:0}\nroot@vqfx-re> show arp\nMAC Address       Address         Name                      Interface               Flags\n52:54:00:07:30:c0 10.0.0.65       10.0.0.65                 em0.0                   none\n00:a0:de:c0:55:80 10.0.0.254      10.0.0.254                em0.0                   none\n00:86:2b:38:da:01 169.254.0.1     169.254.0.1               em1.0                   none\nTotal entries: 3\n\n\n\u5f53\u8a72 RE \u4eee\u60f3\u30de\u30b7\u30f3\u306b\u5272\u308a\u5f53\u3066\u305f Adapters \u306f 6 \u500b\u3060\u3051\u3067\u3057\u305f\u304c\u3001\u56fa\u5b9a\u3067 xe-0/0/0 \uff5e xe-0/0/11 \u307e\u3067\u51fa\u6765\u3066\u307e\u3059\u306d\u3048...\u3057\u304b\u3082\u4f55\u6545\u304b\u5168\u3066 Link \u304c up \u72b6\u614b\n{master:0}\nroot@vqfx-re> show interfaces terse\nInterface               Admin Link Proto    Local                 Remote\ngr-0/0/0                up    up\npfe-0/0/0               up    up\npfe-0/0/0.16383         up    up   inet\n                                   inet6\npfh-0/0/0               up    up\npfh-0/0/0.16383         up    up   inet\npfh-0/0/0.16384         up    up   inet\nxe-0/0/0                up    up\nxe-0/0/0.0              up    up   inet\nxe-0/0/1                up    up\nxe-0/0/1.0              up    up   eth-switch\nxe-0/0/2                up    up\nxe-0/0/2.0              up    up   eth-switch\nxe-0/0/3                up    up\nxe-0/0/3.0              up    up   eth-switch\nxe-0/0/4                up    up\nxe-0/0/4.0              up    up   eth-switch\nxe-0/0/5                up    up\nxe-0/0/5.0              up    up   eth-switch\nxe-0/0/6                up    up\nxe-0/0/6.0              up    up   inet\nxe-0/0/7                up    up\nxe-0/0/7.0              up    up   inet\nxe-0/0/8                up    up\nxe-0/0/8.0              up    up   inet\nxe-0/0/9                up    up\nxe-0/0/9.0              up    up   inet\nxe-0/0/10               up    up\nxe-0/0/10.0             up    up   inet\nxe-0/0/11               up    up\nxe-0/0/11.0             up    up   inet\nbme0                    up    up\nbme0.0                  up    up   inet     128.0.0.1/2\n                                            128.0.0.4/2\n                                            128.0.0.16/2\n                                            128.0.0.63/2\ncbp0                    up    up\ndsc                     up    up\nem0                     up    up\nem0.0                   up    up   inet     10.0.0.201/24\nem1                     up    up\nem1.0                   up    up   inet     169.254.0.2/24\nem2                     up    up\nem2.32768               up    up   inet     192.168.1.2/24\nem3                     up    up\nem4                     up    up\nem5                     up    up\nesi                     up    up\ngre                     up    up\nipip                    up    up\nirb                     up    up\nlo0                     up    up\nlo0.0                   up    up   inet\n                                   inet6    fe80::286:2b0f:fca1:f500\nlo0.16385               up    up   inet\nlsi                     up    up\nmtun                    up    up\npimd                    up    up\npime                    up    up\npip0                    up    up\ntap                     up    up\nvme                     up    down\nvtep                    up    up\n\n\u4f55\u3082\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u72b6\u6cc1\u3067\u306e\u30ea\u30bd\u30fc\u30b9\u72b6\u6cc1\u3068\u304b\u3092\u898b\u3066\u3044\u304f\u3002\nroot@vqfx-re:RE:0% vmstat\n procs      memory      page                   disk   faults      cpu\n r b w     avm    fre  flt  re  pi  po  fr  sr ad0   in   sy  cs us sy id\n 2 0 0 4940056 289632   79   1   6   0  84   0   0  853 2822 1917  0 29 70\n\n\nroot@vqfx-re:RE:0% df -h\nFilesystem             Size    Used   Avail Capacity  Mounted on\n/dev/ad0s1a            2.4G    405M    1.8G    18%    /\ndevfs                  1.0K    1.0K      0B   100%    /dev\n/dev/md0                87M     87M      0B   100%    /packages/mnt/jbase\n/dev/md1               527M    527M      0B   100%    /packages/mnt/jkernel-qfx-x86-32-15.1X53-D60.4\n/dev/md2                31M     31M      0B   100%    /packages/mnt/jpfe-qfx-10-f-15.1X53-D60.4\n/dev/md3                11M     11M      0B   100%    /packages/mnt/jdocs-dc-re-15.1X53-D60.4\n/dev/md4               215M    215M      0B   100%    /packages/mnt/jroute-qfx-x86-32-15.1X53-D60.4\n/dev/md5                32M     32M      0B   100%    /packages/mnt/jcrypto-dc-re-15.1X53-D60.4\n/dev/md6                53M     53M      0B   100%    /packages/mnt/jswitch-qfx-x86-32-15.1X53-D60.4\n/dev/md7                25M     25M      0B   100%    /packages/mnt/jweb-qfx-15.1X53-D60.4\n/var/jail/etc          2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/etc\n/var/jail/run          2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/run\n/var/jail/tmp          2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/tmp\n/var/tmp               2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/tmp/uploads\ndevfs                  1.0K    1.0K      0B   100%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/dev\n/var/jail/jweb-app     2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/jweb-app\n/dev/md8                12M     12M      0B   100%    /packages/mnt/py-base-i386-15.1X53-D60.4\n/dev/md9               1.0G     10K    926M     0%    /tmp\nprocfs                 4.0K    4.0K      0B   100%    /proc\n/dev/ad0s1e            604M    110K    555M     0%    /config\n/var/jails/rest-api    2.4G    405M    1.8G    18%    /packages/mnt/jroute-qfx-x86-32-15.1X53-D60.4/web-api/var\n\nstart shell \u3057\u3066 top\nlast pid:  1882;  load averages:  0.20,  0.30,  0.31                                                                         up 0+01:17:00  14:36:02\n73 processes:  1 running, 71 sleeping, 1 zombie\nCPU states:  0.0% user,  0.0% nice,  4.5% system,  9.8% interrupt, 85.7% idle\nMem: 564M Active, 51M Inact, 66M Wired, 89M Cache, 69M Buf, 203M Free\nSwap: 1024M Total, 1024M Free\n\n  PID USERNAME  THR PRI NICE   SIZE    RES STATE    TIME   WCPU COMMAND\n 1452 root        4  96    0   336M   231M select   7:28  3.76% olive-ultimat.elf\n\n\n\u8d77\u52d5\u76f4\u5f8c\u306e\u3068\u3053\u308d\u3060\u3051 dmesg \u3092\u629c\u7c8b\u3002\nroot@vqfx-re:RE:0% dmesg | more\nCopyright (c) 1996-2016, Juniper Networks, Inc.\nAll rights reserved.\nCopyright (c) 1992-2007 The FreeBSD Project.\nCopyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994\n        The Regents of the University of California. All rights reserved.\nFreeBSD is a registered trademark of The FreeBSD Foundation.\nJUNOS 15.1X53-D60.4 #0: 2016-08-26 23:07:01 UTC\n    builder@mayland.juniper.net:/volume/build/junos/15.1/service/15.1X53-D60.4/obj/i386/junos/bsd/kernels/JUNIPER-QFX/kernel\ncan't re-use a leaf (fe_storm_timeout)!\ncan't re-use a leaf (alt_break_to_debugger)!\ncan't re-use a leaf (break_to_debugger)!\nTimecounter \"i8254\" frequency 1193182 Hz quality 0\nCPU: QEMU Virtual CPU version 2.5+ (3096.49-MHz 686-class CPU)\n  Origin = \"GenuineIntel\"  Id = 0x663  Stepping = 3\n  Features=0x783fbfd<FPU,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,MMX,FXSR,SSE,SSE2>\n  Features2=0x80202021<SSE3,VMX,CX16,x2APIC,<b31>>\n  AMD Features=0x20100800<SYSCALL,NX,LM>\n  AMD Features2=0x1<LAHF>\nreal memory  = 1073741824 (1024 MB)\navail memory = 1017835520 (970 MB)\nMPTable: <BOCHSCPU 0.1         >\nSecurity policy loaded: Junos MAC/veriexec (mac_veriexec)\nMAC/veriexec fingerprint module loaded: SHA256\nMAC/veriexec fingerprint module loaded: SHA1\nioapic0: Assuming intbase of 0\nioapic0 <Version 1.1> irqs 0-23 on motherboard\nETHERNET SOCKET BRIDGE initialising\nfpga driver loaded, 0 (null)\nFXPCI warning: hw.pci.enable_static_config is not set.\nInitializing Kernel PVIDB.\nInitializing DCF X86 platform properties ..\nCalling dcf_ng_hw_init for platform hw vecs initialization\n    ACPI-0314: *** Error: Invalid signature where RSDP indicates RSDT/XSDT should be located\n    ACPI-0325: *** Error: Looking for RSDT (RSDP->Rev < 2)\n    ACPI-0181: *** Error: AcpiLoadTables: Could not load RSDT: AE_BAD_SIGNATURE\n    ACPI-0213: *** Error: AcpiLoadTables: Could not load tables: AE_BAD_SIGNATURE\nACPI: table load failed: AE_BAD_SIGNATURE\ncpu0 on motherboard\npcib0: <MPTable Host-PCI bridge> pcibus 0 on motherboard\npci0: <PCI bus> on pcib0\nCorrecting Natoma config for non-SMP\nisab0: <PCI-ISA bridge> at device 1.0 on pci0\nisa0: <ISA bus> on isab0\natapci0: <Intel PIIX3 WDMA2 controller> port 0x1f0-0x1f7,0x3f6,0x170-0x177,0x376,0xc180-0xc18f at device 1.1 on pci0\nata0: <ATA channel 0> on atapci0\nata1: <ATA channel 1> on atapci0\nsmb0: <Intel 82371AB SMB controller> irq 9 at device 1.3 on pci0\npci0: <display, VGA> at device 2.0 (no driver attached)\npci0: <network, ethernet> at device 3.0 (no driver attached)\npci0: <network, ethernet> at device 4.0 (no driver attached)\npci0: <network, ethernet> at device 5.0 (no driver attached)\n\n\nPFE \u78ba\u8a8d\nJuniper \u516c\u5f0f gitbuh | Juniper/vqfx10k-vagrant \u306b\u3082\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c\u3001\u30a2\u30ab\u30a6\u30f3\u30c8: root \u30d1\u30b9\u30ef\u30fc\u30c9: no \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\u3042\u307e\u308a\u5165\u308b\u3053\u3068\u306a\u3044\u3067\u3059\u304c\u3002\nroot@localhost:~# uname -a\nLinux localhost 3.10.62-ltsi-WR6.0.0.21_standard #1 SMP PREEMPT Mon Nov 30 07:26:43 PST 2015 x86_64 x86_64 x86_64 GNU/Linux\n\n\nroot@localhost:~# ip addr\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host\n       valid_lft forever preferred_lft forever\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n    link/ether 00:86:2b:38:da:00 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::286:2bff:fe38:da00/64 scope link\n       valid_lft forever preferred_lft forever\n3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n    link/ether 00:86:2b:38:da:01 brd ff:ff:ff:ff:ff:ff\n    inet 169.254.0.1/24 brd 169.254.0.255 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet6 fe80::286:2bff:fe38:da01/64 scope link\n       valid_lft forever preferred_lft forever\n4: sit0: <NOARP> mtu 1480 qdisc noop state DOWN\n    link/sit 0.0.0.0 brd 0.0.0.0\n\nroot@localhost:~# ip route\n169.254.0.0/24 dev eth1  proto kernel  scope link  src 169.254.0.1\n\nroot@localhost:~# cat /etc/network/interfaces\n# /etc/network/interfaces -- configuration file for ifup(8), ifdown(8)\n\n# The loopback interface\nauto lo\niface lo inet loopback\nauto eth0\niface eth0 inet dhcp\nauto eth1\niface eth1 inet static\naddress 169.254.0.1\nnetmask 255.255.255.0\n\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u72b6\u614b\u3060\u3068\u3055\u307b\u3069\u30e1\u30e2\u30ea\u6301\u3063\u3066\u3044\u304b\u308c\u306a\u3044\u3088\u3046\u3067\u3059\u3002\nroot@localhost:~# vmstat\nprocs -----------memory---------- ---swap-- -----io---- -system-- ----cpu----\n r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa\n 2  0      0 367600  11748 498320    0    0    37    37 1188  445 76 24  1  0\n\n\nroot@localhost:~# free\n             total       used       free     shared    buffers     cached\nMem:       1533320    1165648     367672          0      11708     498332\n-/+ buffers/cache:     655608     877712\nSwap:          972          0        972\n\n\nroot@localhost:~# df -h\nFilesystem      Size  Used Avail Use% Mounted on\nrootfs          1.9G  837M  941M  48% /\nudev            732M     0  732M   0% /dev\nnone            732M     0  732M   0% /dev\ntmpfs           749M  240K  749M   1% /run\n/dev/sda3       1.9G  837M  941M  48% /\n/dev/sda5       597M   52M  502M  10% /var\ntmpfs           749M  240K  749M   1% /run\ntmpfs           749M     0  749M   0% /var/volatile\n/dev/sda1       1.2G  210M 1004M  18% /boot\n/dev/sda2       103M  1.6M   94M   2% /app_disk\ntmpfs           749M  240K  749M   1% /run/named-chroot/var/run/named\ntmpfs           749M  240K  749M   1% /run/named-chroot/var/run/bind\nnone            732M     0  732M   0% /run/named-chroot/dev/random\nnone            732M     0  732M   0% /run/named-chroot/dev/zero\nnone            732M     0  732M   0% /run/named-chroot/dev/null\n\n\n\n\u7c21\u6613\u758e\u901a\u78ba\u8a8d\n\u524d\u306e\u7d75\u3067\u30ce\u30fc\u30c9\u3092 2 \u500b\u7e4b\u3044\u3067\u3044\u308b\u306e\u3067\u3001\u9069\u5f53\u306b\u305d\u306e\u7269\u7406IF\u306b access vlan 100 \u3092\u5272\u308a\u5f53\u3066\u3066\u758e\u901a\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002(\u96d1)\n{master:0}\nroot@vqfx-re> show ethernet-switching interface\nRouting Instance Name : default-switch\nLogical Interface flags (DL - disable learning, AD - packet action drop,\n                         LH - MAC limit hit, DN - interface down,\n                         MMAS - Mac-move action shutdown,\n                         SCTL - shutdown by Storm-control )\n\nLogical          Vlan          TAG     MAC         STP         Logical           Tagging\ninterface        members               limit       state       interface flags\nxe-0/0/1.0                             8192                                       untagged\n                 VLAN0100      100     1024        Forwarding                     untagged\nRouting Instance Name : default-switch\nLogical Interface flags (DL - disable learning, AD - packet action drop,\n                         LH - MAC limit hit, DN - interface down,\n                         MMAS - Mac-move action shutdown,\n                         SCTL - shutdown by Storm-control )\n\nLogical          Vlan          TAG     MAC         STP         Logical           Tagging\ninterface        members               limit       state       interface flags\nxe-0/0/2.0                             8192                                       untagged\n                 VLAN0100      100     1024        Forwarding                     untagged\n\n\n\n{master:0}\nroot@vqfx-re> show ethernet-switching table\n\nMAC flags (S - static MAC, D - dynamic MAC, L - locally learned, P - Persistent static, C - Control MAC\n           SE - statistics enabled, NM - non configured MAC, R - remote PE MAC, O - ovsdb MAC)\n\n\nEthernet switching table : 2 entries, 2 learned\nRouting instance : default-switch\n    Vlan                MAC                 MAC         Age    Logical                NH        RTR\n    name                address             flags              interface              Index     ID\n    VLAN0100            00:86:2b:47:b6:01   D             -   xe-0/0/2.0             0         0\n    VLAN0100            00:86:2b:8d:10:01   D             -   xe-0/0/1.0             0         0\n\n\n\u304a\u3057\u307e\u3044\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3060\u3051\u306a\u306e\u3067\u5225\u306b...\nJuniper \u3055\u3093\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01\u611f\u8b1d\u3092\u8fbc\u3081\u3066\u3001vQFX \u3067\u8a66\u3057\u305f\u5185\u5bb9\u3092\u8ffd\u3063\u3066\u3044\u304f\u3064\u304b\u7e8f\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u500b\u4eba\u30e1\u30fc\u30eb/\u540d\u7fa9\u3067 [Juniper vQFX10000 trial \u7248](https://www.juniper.net/us/en/dm/free-vqfx-trial/) \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u6a29\u9650\u7533\u8acb\u3092\u3057\u305f\u3089\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u30e1\u30fc\u30eb\u306e\u3084\u308a\u3068\u308a\u306e\u5f8c\u306b\u6a29\u9650\u3092\u9802\u3051\u307e\u3057\u305f\u3002\nJuniper \u3055\u3093\u3078\u306e\u611f\u8b1d\u3092\u8fbc\u3081\u3066\u3001\u5e7e\u3064\u304b\u8a18\u4e8b\u3092\u6295\u7a3f\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n# \u6700\u521d\u306b\n\n## \u672c\u9805\u3067\u3084\u308b\u3053\u3068\n\n- Juniper QFX10000 \u30b7\u30ea\u30fc\u30ba\u306e\u4eee\u60f3\u7248\u3067\u3042\u308b\u3068\u3053\u308d\u306e Juniper vQFX10000 \u3092 KVM+GNS3 \u3067\u52d5\u304b\u3057\u3066\u3001\u7c21\u5358\u306a L2 \u758e\u901a\u78ba\u8a8d\u3092\u3059\u308b\u3068\u3053\u308d\u307e\u3067\n- \u516c\u5f0f\u30b5\u30a4\u30c8\u3067\u6848\u5185\u3055\u308c\u3066\u3044\u308b Installation Guide ([Juniper \u516c\u5f0f gitbuh | Juniper/vqfx10k-vagrant](https://github.com/juniper/vqfx10k-vagrant)) \u3067\u306f `vagrant` \u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306e\u307f\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b(2016/12/22\u73fe\u5728)\u304c\u3001OS\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u306f vmdk \u7248\u3082\u914d\u5e03\u3055\u308c\u3066\u3044\u308b\u3057(&\u81ea\u5206\u306e\u30e1\u30a4\u30f3\u74b0\u5883\u304c KVM \u306a\u306e\u3067)\u3001\u3068\u3044\u3046\u90fd\u5408\n- KVM \u3084 GNS3 \u306e\u5c0e\u5165\u624b\u9806\u3001Junos \u64cd\u4f5c\u306e\u57fa\u790e\u306f\u7701\u7565 (\u3042\u308b\u7a0b\u5ea6\u77e5\u3063\u3066\u3044\u308b\u4eba\u5411\u3051)\n\n## Juniper vQFX? / \u516c\u5f0f\u30ea\u30f3\u30af\u96c6\n\n- Juniper QFX10000 \u30b7\u30ea\u30fc\u30ba\u306e\u4eee\u60f3\u7248(trial)\n    - [\u516c\u5f0f\u30b5\u30a4\u30c8 | Free vQFX10000 Software - Juniper Networks](https://www.juniper.net/us/en/dm/free-vqfx-trial/)\n- \u5c11\u306a\u304f\u3068\u3082 2016/07 \u6642\u70b9\u3067\u306f\u300c[github \u4e0a\u306b Installation Guide](https://github.com/juniper/vqfx10k-vagrant) \u306f\u3042\u304c\u3063\u3066\u3044\u308b\u3051\u308c\u3069\u3001OS\u30a4\u30e1\u30fc\u30b8\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u306a\u3044\u300d\u3068\u3044\u3046\u72b6\u6cc1\u3060\u3063\u305f\n    - 2016/12\u73fe\u5728\u3001\u3044\u3064\u306e\u307e\u306b\u304b Free Trial \u304c\u59cb\u307e\u3063\u3066\u3044\u305f\u3053\u3068\u306b\u6c17\u4ed8\u3044\u305f\n    - \u305d\u3057\u3066\u4e0a\u8a18\u306e Installation Guide \u304c\u516c\u5f0f\u306a\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\n- \u4f8b\u306b\u3088\u3063\u3066\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u305f\u3081\u306b\u306f\u6a29\u9650\u7533\u8acb\u304c\u5fc5\u8981\n    - \u4eca\u56de\u3082\u500b\u4eba\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u7533\u8acb\u3057\u305f\u306e\u3067\u3059\u304c Juniper \u306e\u65b9\u3068\u3061\u3087\u3063\u3068\u3057\u305f\u30e1\u30fc\u30eb\u306e\u3084\u308a\u3068\u308a\u3067\u627f\u8a8d\u3057\u3066\u9802\u3051\u307e\u3057\u305f\u3002\u672c\u5f53\u306b\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\n\n\n## \u74b0\u5883\u60c5\u5831\n\n\u8efd\u304f\n\n- KVM \u6bcd\u8266\n    - `Ubuntu16.04.1-server-amd64`\n    - \u306b `apt` \u3067\u964d\u3063\u3066\u304f\u308b KVM \u3068 GNS3 \u4e00\u5f0f\n- vQFX10000\n    - PFE \u3082 RE \u3082 `2016/12/22` \u6642\u70b9\u3067 trial \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u306a\u6700\u65b0\u7248\n        - PFE \u306f `vqfx10k-pfe-20160609-2.vmdk`\n        - RE \u306f `vqfx10k-re-15.1X53-D60.vmdk`\n\n\n```bash:KVM\u6bcd\u8266\n$ uname -a\nLinux vkvm02 4.4.0-57-generic #78-Ubuntu SMP Fri Dec 9 23:50:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n\n$ cat /etc/lsb-release\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=16.04\nDISTRIB_CODENAME=xenial\nDISTRIB_DESCRIPTION=\"Ubuntu 16.04.1 LTS\"\n\n$ virsh -v\n1.3.1\n\n$ qemu-system-x86_64 --version\nQEMU emulator version 2.5.0 (Debian 1:2.5+dfsg-5ubuntu10.6), Copyright (c) 2003-2008 Fabrice Bellard\n\n$ gns3 --version\n1.5.2\n```\n\n\n# Install \u624b\u9806\n\nKVM \u4e00\u5f0f\u3084 GNS3 \u306f\u4ee5\u4e0b\u3042\u305f\u308a\u3092\u53c2\u8003\u306b\u5c0e\u5165\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3002(\u96d1)\n\n- KVM on Ubuntu \u5c0e\u5165\u53c2\u8003\u30ea\u30f3\u30af\n    - [ubuntu documentation | KVM](https://help.ubuntu.com/community/KVM)\n- GNS3 \u5c0e\u5165\u53c2\u8003\u30ea\u30f3\u30af\n    - [github | GNS3/gns3-gui](https://github.com/GNS3/gns3-gui)\n    - [\u516c\u5f0f | GNS3 Installation on Linux](https://gns3.com/support/docs/linux-installation)\n\n## vQFX \u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u5165\u624b \uff5e \u914d\u7f6e \uff5e format \u5909\u63db\n\n### \u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u5165\u624b\uff5eKVM\u6bcd\u8266\u306b\u914d\u7f6e\n\n1. \u524d\u8ff0\u306e\u516c\u5f0f\u304b\u3089\u98db\u3079\u308b [vQFX Evaluation - Download Software](http://www.juniper.net/support/downloads/?p=vqfxeval#sw) \u3078\n2. 2016/12/22 \u73fe\u5728\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u306a\u6700\u65b0\u7248\u4e00\u5f0f(\u4eca\u56de\u306f `Format` \u304c `vmdk` \u306e 2 \u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3067 OK)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n    - `VQFX10K PFE Disk Image`\n    - `VQFX10K RE Disk Image`\n3. KVM\u6bcd\u8266\u306b\u914d\u7f6e\n\n```bash:vQFX\u30d5\u30a1\u30a4\u30eb\n$ md5sum vm_images/vqfx10k-pfe-20160609-2.vmdk\nfaa6905fd8e935c6e97859191143e8c3  vm_images/vqfx10k-pfe-20160609-2.vmdk\n$ cat vm_images/vqfx10k-pfe-20160609-2_md5.txt\nfaa6905fd8e935c6e97859191143e8c3\n\n$ md5sum vm_images/vqfx10k-re-15.1X53-D60.vmdk\n758669e88213fbd7943f5da7f6d7bd59  vm_images/vqfx10k-re-15.1X53-D60.vmdk\n$ cat vm_images/vqfx10k-re-15.1X53-D60_md5.txt\n758669e88213fbd7943f5da7f6d7bd59\n```\n\n### vmdk \u3092 qcow2 \u306b format \u5909\u63db\n\n\u3044\u3064\u3082\u901a\u308a\n\n```\n$ cd ~/vm_images/\n$ mkdir qemu\n$ ls -al\ntotal 917640\ndrwxrwxr-x  3 kotetsu kotetsu      4096 Dec 25 11:32 .\ndrwxr-xr-x 12 kotetsu kotetsu      4096 Dec 25 11:08 ..\ndrwxrwxr-x  2 kotetsu kotetsu      4096 Dec 25 11:32 qemu\n-rw-r--r--  1 kotetsu kotetsu        32 Dec 24 10:59 vqfx10k-pfe-20160609-2_md5.txt\n-rw-r--r--  1 kotetsu kotetsu 584086528 Dec 24 10:42 vqfx10k-pfe-20160609-2.vmdk\n-rw-r--r--  1 kotetsu kotetsu        32 Dec 24 11:00 vqfx10k-re-15.1X53-D60_md5.txt\n-rw-r--r--  1 kotetsu kotetsu 355542528 Dec 24 10:50 vqfx10k-re-15.1X53-D60.vmdk\n\n$ qemu-img convert -f vmdk -O qcow2 vqfx10k-pfe-20160609-2.vmdk qemu/vqfx10k-pfe-20160609-2.qcow2\n$ qemu-img convert -f vmdk -O qcow2 vqfx10k-re-15.1X53-D60.vmdk qemu/vqfx10k-re-15.1X53-D60.qcow2\n\n$ ls -al qemu/\ntotal 1585044\ndrwxrwxr-x 2 kotetsu kotetsu       4096 Dec 25 11:37 .\ndrwxrwxr-x 3 kotetsu kotetsu       4096 Dec 25 11:32 ..\n-rw-r--r-- 1 kotetsu kotetsu 1144782848 Dec 25 11:37 vqfx10k-pfe-20160609-2.qcow2\n-rw-r--r-- 1 kotetsu kotetsu  478412800 Dec 25 11:37 vqfx10k-re-15.1X53-D60.qcow2\n\n```\n\n## GNS3 \u4e0a\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a4\u30e1\u30fc\u30b8\u3068\u3057\u3066\u767b\u9332\n\n\u3053\u3053\u306f\u3001\u5404\u4eba\u304c\u4f7f\u3063\u3066\u3044\u308b KVM \u7ba1\u7406\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306b\u8aad\u307f\u66ff\u3048\u3066\u4e0b\u3055\u3044\u3002\nCPU/Memory \u306e\u8981\u4ef6\u306f\u3001\u524d\u8ff0\u306e Installation Guide \u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\n### PFE\n\n\u4ee5\u4e0b\u3067\u3068\u308a\u3042\u3048\u305a(\u81ea\u5206\u306e\u691c\u8a3c\u7528\u9014\u3067\u306f\u554f\u984c\u306a\u304f)\u52d5\u3044\u3066\u307e\u3059\u3002\n\n![01_01.png](https://qiita-image-store.s3.amazonaws.com/0/60456/cc58de20-8e6e-79f0-c2e9-ba7739a17e8e.png)\n\n### RE\n\n\u4ee5\u4e0b\u3067\u3068\u308a\u3042\u3048\u305a(\u81ea\u5206\u306e\u691c\u8a3c\u7528\u9014\u3067\u306f\u554f\u984c\u306a\u304f)\u52d5\u3044\u3066\u307e\u3059\u3002\n\u3053\u3053\u306e `Adapters` \u6570\u306f\u3001\u6700\u4f4e 2 \u500b\u5fc5\u8981\u3067 4 \u500b\u76ee\u304b\u3089\u304c `xe-0/0/0\uff5e` \u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002\u4e0a\u9650\u6570\u306f\u3061\u3083\u3093\u3068\u78ba\u8a8d\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u306e\u30016 \u500b\u3057\u304b\u5272\u308a\u5f53\u3066\u306a\u304f\u3066\u3082\u56fa\u5b9a\u3067 `xe-0/0/11` \u307e\u3067\u898b\u3048\u308b\u3053\u3068\u304b\u3089\u300112\u500b\u306e\u53ef\u80fd\u6027\u3082\u3042\u308b\u304b\u3082\u3067\u3059\u3002(\u8ab0\u304b\u3001\u78ba\u8a8d\u3057\u3066\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002)\n\n![01_02.png](https://qiita-image-store.s3.amazonaws.com/0/60456/2c8a553a-82cf-876f-15f9-00dd4e5410c9.png)\n\n\n## GNS3 \u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u30c7\u30d7\u30ed\u30a4 \uff5e \u7d50\u7dda \uff5e \u8d77\u52d5\n\n\u767b\u9332\u3057\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089 PFE \u3068 RE \u3092 1 \u30bb\u30c3\u30c8\u30c9\u30e9\u30c3\u30b0\u30a2\u30f3\u30c9\u30c9\u30ed\u30c3\u30d7\u3067\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002\n\u4e00\u5fdc\u3001\u3064\u3044\u3067\u306b\u9069\u5f53\u306a\u758e\u901a\u78ba\u8a8d\u7528\u306e\u30ce\u30fc\u30c9\u3082 2 \u500b\u304f\u3089\u3044\u4f5c\u3063\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\n\u7d50\u7dda\u6642\u3001\u5404\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u5916\u304b\u3089\u898b\u3048\u308b `Adapters` \u306e\u30ab\u30a6\u30f3\u30c8\u3068 OS \u5185\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5bfe\u5fdc\u306f\u4ee5\u4e0b\u306e\u611f\u3058\u3067\u3059\u3002**PFE \u306e 2 \u500b\u76ee\u3068 RE \u306e 2 \u500b\u76ee\u3092\u63a5\u7d9a\u3057\u3066\u304a\u3051\u3070\u3001\u6700\u4f4e\u9650 PFE \u3092\u8a8d\u8b58\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u306f\u52d5\u304d\u307e\u3059\u3002**\n\n| \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 | \u5916\u304b\u3089\u898b\u3048\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u756a\u53f7(GNS3 \u30c7\u30d5\u30a9\u30eb\u30c8\u540d) | OS\u3067\u306e\u4f7f\u308f\u308c\u65b9 | \u5099\u8003 |\n|:--------------|-------------------------------|---------------|------|\n| PFE          | 1 (Ethernet0)                  | eth0     | \u521d\u671f\u8a2d\u5b9a\u3067 DHCP \u306b\u306a\u3063\u3066\u3044\u308b\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306a\u306e\u3067\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u5916\u754c\u3068\u63a5\u7d9a |\n| PFE          | 2 (Ethernet1)                  | eth1 (169.254.0.1/24)     | RE \u3068\u306e Dedicated Link |\n| | | | |\n| RE          | 1 (Ethernet0)                  | em0     | \u521d\u671f\u8a2d\u5b9a\u3067 DHCP \u306b\u306a\u3063\u3066\u3044\u308b\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306a\u306e\u3067\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u5916\u754c\u3068\u63a5\u7d9a\u3057\u305f\u308a\u56fa\u5b9a\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u66f4\u3057\u305f\u308a |\n| RE          | 2 (Ethernet1)                  | em1 (169.254.0.2/24)   | PFE \u3068\u306e Dedicated Link |\n| RE          | 3 (Ethernet2)                  | \u4e0d\u660e     | \u4f7f\u3063\u305f\u3053\u3068\u306a\u3044\u3051\u3069\u305f\u3076\u3093 em2 \u304b\u3068 |\n| RE          | 4\uff5e (Ethernet3\uff5e)                  | xe-0/0/0\uff5e     |  |\n\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u611f\u3058\u3067\u3002\n\n![gns3_00.png](https://qiita-image-store.s3.amazonaws.com/0/60456/e887d9a7-c463-2993-e773-36ee5befc947.png)\n\n\u7d75\u3067\u3044\u3046\u3068\u3053\u308d\u306e `SW1` \uff5e `Cloud` \u3068\u3044\u3046\u3084\u3064\u306f\u5916\u754c (\u6bcd\u8266KVM \u306e linux bridge \u3078)\u306b\u63a5\u7d9a\u3057\u3066\u3001\u65e2\u5b58\u74b0\u5883\u3068\u76f8\u4e92\u901a\u4fe1(\u7ba1\u7406\u7528)\u3055\u305b\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u8fba\u306f\u307e\u3042\u3001\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u3002\n\n\u4f59\u8ac7\u3067\u3059\u304c\u3001`GNS 1.5.2` \u3067\u306f [github gns3-gui issues | QEMU link Packet Captures](https://github.com/GNS3/gns3-gui/issues/1414) \u306e\u901a\u308a qemu \u540c\u58eb\u306e\u7d50\u7dda\u3067\u306f\u30d1\u30b1\u30c3\u30c8\u30ad\u30e3\u30d7\u30c1\u30e3\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u8907\u6570\u30c7\u30d7\u30ed\u30a4\u3057\u3066 RE \u540c\u58eb\u3092\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u9593\u306b GNS3 \u306e `Ethernet Switch` \u3092\u631f\u3093\u3060\u308a\u3001vQFX \u5074\u3067 port mirroring \u3057\u305f\u308a\u3068\u304b\u306e\u5de5\u592b\u3092\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002(\u306a\u3093\u304b\u3044\u3044\u3084\u308a\u65b9\u304c\u3042\u3063\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002)\n\n\u3042\u3068\u306f RE \u3068 PFE \u3092 GNS3 \u304b\u3089 `Start` \u3057\u3066\u3057\u3070\u3089\u304f\u5f85\u3061\u307e\u3059\u3002\nRE \u304c\u8d77\u52d5\u3057\u3066\u304b\u3089\u7d50\u69cb\u5f85\u3064\u3068\u3001PFE \u3068\u52dd\u624b\u306b\u7e4b\u304c\u3063\u3066 PFE \u304c\u898b\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u6c17\u9577\u306b\u5f85\u3061\u307e\u3057\u3087\u3046\u3002 \n\n```bash:qemu-system-x86_64\u306e\u69d8\u5b50\n~$ ps aux | grep [Q]FX\nroot      4819 56.8  7.0 1907744 1165860 pts/10 Sl+ Dec25  63:24 /usr/bin/qemu-system-x86_64 -name vQFX_RE_15.1X53-D60-1 -m 1024M -smp cpus=1 -enable-kvm -boot order=c -drive file=/home/kotetsu/GNS3/projects/vqfx/project-files/qemu/f8b3330f-b59c-4035-970e-77368631a1f5/hda_disk.qcow2,if=ide,index=0,media=disk -serial telnet:127.0.0.1:5001,server,nowait -monitor tcp:127.0.0.1:55276,server,nowait -net none -device e1000,mac=00:86:2b:a1:f5:00,netdev=gns3-0 -netdev socket,id=gns3-0,udp=127.0.0.1:10011,localaddr=127.0.0.1:10010 -device e1000,mac=00:86:2b:a1:f5:01,netdev=gns3-1 -netdev socket,id=gns3-1,udp=127.0.0.1:10000,localaddr=127.0.0.1:10005 -device e1000,mac=00:86:2b:a1:f5:02 -device e1000,mac=00:86:2b:a1:f5:03 -device e1000,mac=00:86:2b:a1:f5:04,netdev=gns3-4 -netdev socket,id=gns3-4,udp=127.0.0.1:10004,localaddr=127.0.0.1:10003 -device e1000,mac=00:86:2b:a1:f5:05,netdev=gns3-5 -netdev socket,id=gns3-5,udp=127.0.0.1:10002,localaddr=127.0.0.1:10001 -nographic\n\nroot      4826 99.3  9.3 2468864 1533164 pts/10 Sl+ Dec25 110:45 /usr/bin/qemu-system-x86_64 -name vQFX_PFE_20160609-1 -m 1536M -smp cpus=1 -enable-kvm -boot order=c -drive file=/home/kotetsu/GNS3/projects/vqfx/project-files/qemu/21773ec6-55f8-4c3f-9cfb-fedd5f0f38da/hda_disk.qcow2,if=ide,index=0,media=disk -serial telnet:127.0.0.1:5000,server,nowait -monitor tcp:127.0.0.1:44622,server,nowait -net none -device e1000,mac=00:86:2b:38:da:00 -device e1000,mac=00:86:2b:38:da:01,netdev=gns3-1 -netdev socket,id=gns3-1,udp=127.0.0.1:10005,localaddr=127.0.0.1:10000 -nographic\n```\n\n## Junos \u5074\u306e\u78ba\u8a8d\n\n### RE \u78ba\u8a8d\n\n[Juniper \u516c\u5f0f gitbuh | Juniper/vqfx10k-vagrant](https://github.com/juniper/vqfx10k-vagrant) \u306b\u3082\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c\u3001\u30a2\u30ab\u30a6\u30f3\u30c8: `root` \u30d1\u30b9\u30ef\u30fc\u30c9: `Juniper` \u3067\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u3089\u3001\u3044\u3064\u3082\u901a\u308a `cli` \u30b3\u30de\u30f3\u30c9\u3067 JUNOS shell \u3078\u5165\u308a\u307e\u3059\u3002\n\n\u57fa\u672c\u60c5\u5831\u3092\u78ba\u8a8d... `QFX3500` \u3068\u304b\u66f8\u3044\u3066\u3042\u308b...\u3051\u3069\u3001\u672c\u8cea\u3067\u306f\u306a\u3044\u306e\u3067\u7121\u8996\u3002\n\n```\n{master:0}\nroot@vqfx-re> show chassis hardware\nHardware inventory:\nItem             Version  Part number  Serial number     Description\nChassis                                84425636318       QFX3500\n\n\n{master:0}\nroot@vqfx-re> show version\nfpc0:\n--------------------------------------------------------------------------\nHostname: vqfx-re\nModel: vqfx-10000\nJunos: 15.1X53-D60.4\nJUNOS Base OS boot [15.1X53-D60.4]\nJUNOS Base OS Software Suite [15.1X53-D60.4]\nJUNOS Crypto Software Suite [15.1X53-D60.4]\nJUNOS Online Documentation [15.1X53-D60.4]\nJUNOS Kernel Software Suite [15.1X53-D60.4]\nJUNOS Packet Forwarding Engine Support (qfx-10-f) [15.1X53-D60.4]\nJUNOS Routing Software Suite [15.1X53-D60.4]\nJUNOS Enterprise Software Suite [15.1X53-D60.4]\nJUNOS Web Management [15.1X53-D60.4]\nJUNOS py-base-i386 [15.1X53-D60.4]\n\n\n{master:0}\nroot@vqfx-re> show system license\nLicense usage: none\n\nLicenses installed: none\n```\n\n```\nroot@vqfx-re:RE:0% uname -a\nJUNOS vqfx-re 15.1X53-D60.4 JUNOS 15.1X53-D60.4 #0: 2016-08-26 23:07:01 UTC     builder@mayland.juniper.net:/volume/build/junos/15.1/service/15.1X53-D60.4/obj/i386/junos/bsd/kernels/JUNIPER-QFX/kernel  i386\n\nroot@vqfx-re:RE:0% python --version\nPython 2.7.8\n```\n\n\nPFE \u3068\u3064\u306a\u304c\u3063\u3066\u3001\u8a8d\u8b58\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3002\n\n```\n{master:0}\nroot@vqfx-re> show pfe terse\nfpc0:\n--------------------------------------------------------------------------\nSlot Type Slot      State     Uptime\n 0   FXPC Present   Online    01:23:47\n\n\n{master:0}\nroot@vqfx-re> show chassis fpc\n                     Temp  CPU Utilization (%)   CPU Utilization (%)  Memory    Utilization (%)\nSlot State            (C)  Total  Interrupt      1min   5min   15min  DRAM (MB) Heap     Buffer\n  0  Online           Testing  17        12        0      0      0    1024        0         66\n  1  Empty\n  2  Empty\n  3  Empty\n  4  Empty\n  5  Empty\n  6  Empty\n  7  Empty\n  8  Empty\n  9  Empty\n\n\n{master:0}\nroot@vqfx-re> show interfaces em1\nPhysical interface: em1    , Enabled, Physical link is Up\n  Interface index: 9, SNMP ifIndex: 23\n  Type: Ethernet, Link-level type: Ethernet, MTU: 1514, Speed: 1000mbps\n  Device flags   : Present Running\n  Interface flags: SNMP-Traps\n  Link type      : Full-Duplex\n  Current address: 00:86:2b:a1:f5:01, Hardware address: 00:86:2b:a1:f5:01\n  Last flapped   : 2016-12-25 13:21:12 UTC (01:25:04 ago)\n    Input packets : 614505\n    Output packets: 957499\n\n  Logical interface em1.0 (Index 6) (SNMP ifIndex 24)\n    Flags: Up SNMP-Traps 0x4000000 Encapsulation: ENET2\n    Input packets : 614547\n    Output packets: 957499\n    Protocol inet, MTU: 1500\n      Flags: Sendbcast-pkt-to-re\n      Addresses, Flags: Is-Preferred Is-Primary\n        Destination: 169.254.0/24, Local: 169.254.0.2, Broadcast: 169.254.0.255\n\n\n{master:0}\nroot@vqfx-re> show arp\nMAC Address       Address         Name                      Interface               Flags\n52:54:00:07:30:c0 10.0.0.65       10.0.0.65                 em0.0                   none\n00:a0:de:c0:55:80 10.0.0.254      10.0.0.254                em0.0                   none\n00:86:2b:38:da:01 169.254.0.1     169.254.0.1               em1.0                   none\nTotal entries: 3\n\n```\n\n\u5f53\u8a72 RE \u4eee\u60f3\u30de\u30b7\u30f3\u306b\u5272\u308a\u5f53\u3066\u305f `Adapters` \u306f 6 \u500b\u3060\u3051\u3067\u3057\u305f\u304c\u3001\u56fa\u5b9a\u3067 `xe-0/0/0` \uff5e `xe-0/0/11` \u307e\u3067\u51fa\u6765\u3066\u307e\u3059\u306d\u3048...\u3057\u304b\u3082\u4f55\u6545\u304b\u5168\u3066 `Link` \u304c `up` \u72b6\u614b\n\n```\n{master:0}\nroot@vqfx-re> show interfaces terse\nInterface               Admin Link Proto    Local                 Remote\ngr-0/0/0                up    up\npfe-0/0/0               up    up\npfe-0/0/0.16383         up    up   inet\n                                   inet6\npfh-0/0/0               up    up\npfh-0/0/0.16383         up    up   inet\npfh-0/0/0.16384         up    up   inet\nxe-0/0/0                up    up\nxe-0/0/0.0              up    up   inet\nxe-0/0/1                up    up\nxe-0/0/1.0              up    up   eth-switch\nxe-0/0/2                up    up\nxe-0/0/2.0              up    up   eth-switch\nxe-0/0/3                up    up\nxe-0/0/3.0              up    up   eth-switch\nxe-0/0/4                up    up\nxe-0/0/4.0              up    up   eth-switch\nxe-0/0/5                up    up\nxe-0/0/5.0              up    up   eth-switch\nxe-0/0/6                up    up\nxe-0/0/6.0              up    up   inet\nxe-0/0/7                up    up\nxe-0/0/7.0              up    up   inet\nxe-0/0/8                up    up\nxe-0/0/8.0              up    up   inet\nxe-0/0/9                up    up\nxe-0/0/9.0              up    up   inet\nxe-0/0/10               up    up\nxe-0/0/10.0             up    up   inet\nxe-0/0/11               up    up\nxe-0/0/11.0             up    up   inet\nbme0                    up    up\nbme0.0                  up    up   inet     128.0.0.1/2\n                                            128.0.0.4/2\n                                            128.0.0.16/2\n                                            128.0.0.63/2\ncbp0                    up    up\ndsc                     up    up\nem0                     up    up\nem0.0                   up    up   inet     10.0.0.201/24\nem1                     up    up\nem1.0                   up    up   inet     169.254.0.2/24\nem2                     up    up\nem2.32768               up    up   inet     192.168.1.2/24\nem3                     up    up\nem4                     up    up\nem5                     up    up\nesi                     up    up\ngre                     up    up\nipip                    up    up\nirb                     up    up\nlo0                     up    up\nlo0.0                   up    up   inet\n                                   inet6    fe80::286:2b0f:fca1:f500\nlo0.16385               up    up   inet\nlsi                     up    up\nmtun                    up    up\npimd                    up    up\npime                    up    up\npip0                    up    up\ntap                     up    up\nvme                     up    down\nvtep                    up    up\n```\n\n\u4f55\u3082\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u72b6\u6cc1\u3067\u306e\u30ea\u30bd\u30fc\u30b9\u72b6\u6cc1\u3068\u304b\u3092\u898b\u3066\u3044\u304f\u3002\n\n\n```\nroot@vqfx-re:RE:0% vmstat\n procs      memory      page                   disk   faults      cpu\n r b w     avm    fre  flt  re  pi  po  fr  sr ad0   in   sy  cs us sy id\n 2 0 0 4940056 289632   79   1   6   0  84   0   0  853 2822 1917  0 29 70\n\n\nroot@vqfx-re:RE:0% df -h\nFilesystem             Size    Used   Avail Capacity  Mounted on\n/dev/ad0s1a            2.4G    405M    1.8G    18%    /\ndevfs                  1.0K    1.0K      0B   100%    /dev\n/dev/md0                87M     87M      0B   100%    /packages/mnt/jbase\n/dev/md1               527M    527M      0B   100%    /packages/mnt/jkernel-qfx-x86-32-15.1X53-D60.4\n/dev/md2                31M     31M      0B   100%    /packages/mnt/jpfe-qfx-10-f-15.1X53-D60.4\n/dev/md3                11M     11M      0B   100%    /packages/mnt/jdocs-dc-re-15.1X53-D60.4\n/dev/md4               215M    215M      0B   100%    /packages/mnt/jroute-qfx-x86-32-15.1X53-D60.4\n/dev/md5                32M     32M      0B   100%    /packages/mnt/jcrypto-dc-re-15.1X53-D60.4\n/dev/md6                53M     53M      0B   100%    /packages/mnt/jswitch-qfx-x86-32-15.1X53-D60.4\n/dev/md7                25M     25M      0B   100%    /packages/mnt/jweb-qfx-15.1X53-D60.4\n/var/jail/etc          2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/etc\n/var/jail/run          2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/run\n/var/jail/tmp          2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/tmp\n/var/tmp               2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/tmp/uploads\ndevfs                  1.0K    1.0K      0B   100%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/dev\n/var/jail/jweb-app     2.4G    405M    1.8G    18%    /packages/mnt/jweb-qfx-15.1X53-D60.4/jail/var/jweb-app\n/dev/md8                12M     12M      0B   100%    /packages/mnt/py-base-i386-15.1X53-D60.4\n/dev/md9               1.0G     10K    926M     0%    /tmp\nprocfs                 4.0K    4.0K      0B   100%    /proc\n/dev/ad0s1e            604M    110K    555M     0%    /config\n/var/jails/rest-api    2.4G    405M    1.8G    18%    /packages/mnt/jroute-qfx-x86-32-15.1X53-D60.4/web-api/var\n```\n\n`start shell` \u3057\u3066 `top`\n\n```\nlast pid:  1882;  load averages:  0.20,  0.30,  0.31                                                                         up 0+01:17:00  14:36:02\n73 processes:  1 running, 71 sleeping, 1 zombie\nCPU states:  0.0% user,  0.0% nice,  4.5% system,  9.8% interrupt, 85.7% idle\nMem: 564M Active, 51M Inact, 66M Wired, 89M Cache, 69M Buf, 203M Free\nSwap: 1024M Total, 1024M Free\n\n  PID USERNAME  THR PRI NICE   SIZE    RES STATE    TIME   WCPU COMMAND\n 1452 root        4  96    0   336M   231M select   7:28  3.76% olive-ultimat.elf\n\n```\n\n\u8d77\u52d5\u76f4\u5f8c\u306e\u3068\u3053\u308d\u3060\u3051 `dmesg` \u3092\u629c\u7c8b\u3002\n\n```\nroot@vqfx-re:RE:0% dmesg | more\nCopyright (c) 1996-2016, Juniper Networks, Inc.\nAll rights reserved.\nCopyright (c) 1992-2007 The FreeBSD Project.\nCopyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994\n        The Regents of the University of California. All rights reserved.\nFreeBSD is a registered trademark of The FreeBSD Foundation.\nJUNOS 15.1X53-D60.4 #0: 2016-08-26 23:07:01 UTC\n    builder@mayland.juniper.net:/volume/build/junos/15.1/service/15.1X53-D60.4/obj/i386/junos/bsd/kernels/JUNIPER-QFX/kernel\ncan't re-use a leaf (fe_storm_timeout)!\ncan't re-use a leaf (alt_break_to_debugger)!\ncan't re-use a leaf (break_to_debugger)!\nTimecounter \"i8254\" frequency 1193182 Hz quality 0\nCPU: QEMU Virtual CPU version 2.5+ (3096.49-MHz 686-class CPU)\n  Origin = \"GenuineIntel\"  Id = 0x663  Stepping = 3\n  Features=0x783fbfd<FPU,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,MMX,FXSR,SSE,SSE2>\n  Features2=0x80202021<SSE3,VMX,CX16,x2APIC,<b31>>\n  AMD Features=0x20100800<SYSCALL,NX,LM>\n  AMD Features2=0x1<LAHF>\nreal memory  = 1073741824 (1024 MB)\navail memory = 1017835520 (970 MB)\nMPTable: <BOCHSCPU 0.1         >\nSecurity policy loaded: Junos MAC/veriexec (mac_veriexec)\nMAC/veriexec fingerprint module loaded: SHA256\nMAC/veriexec fingerprint module loaded: SHA1\nioapic0: Assuming intbase of 0\nioapic0 <Version 1.1> irqs 0-23 on motherboard\nETHERNET SOCKET BRIDGE initialising\nfpga driver loaded, 0 (null)\nFXPCI warning: hw.pci.enable_static_config is not set.\nInitializing Kernel PVIDB.\nInitializing DCF X86 platform properties ..\nCalling dcf_ng_hw_init for platform hw vecs initialization\n    ACPI-0314: *** Error: Invalid signature where RSDP indicates RSDT/XSDT should be located\n    ACPI-0325: *** Error: Looking for RSDT (RSDP->Rev < 2)\n    ACPI-0181: *** Error: AcpiLoadTables: Could not load RSDT: AE_BAD_SIGNATURE\n    ACPI-0213: *** Error: AcpiLoadTables: Could not load tables: AE_BAD_SIGNATURE\nACPI: table load failed: AE_BAD_SIGNATURE\ncpu0 on motherboard\npcib0: <MPTable Host-PCI bridge> pcibus 0 on motherboard\npci0: <PCI bus> on pcib0\nCorrecting Natoma config for non-SMP\nisab0: <PCI-ISA bridge> at device 1.0 on pci0\nisa0: <ISA bus> on isab0\natapci0: <Intel PIIX3 WDMA2 controller> port 0x1f0-0x1f7,0x3f6,0x170-0x177,0x376,0xc180-0xc18f at device 1.1 on pci0\nata0: <ATA channel 0> on atapci0\nata1: <ATA channel 1> on atapci0\nsmb0: <Intel 82371AB SMB controller> irq 9 at device 1.3 on pci0\npci0: <display, VGA> at device 2.0 (no driver attached)\npci0: <network, ethernet> at device 3.0 (no driver attached)\npci0: <network, ethernet> at device 4.0 (no driver attached)\npci0: <network, ethernet> at device 5.0 (no driver attached)\n```\n\n### PFE \u78ba\u8a8d\n\n[Juniper \u516c\u5f0f gitbuh | Juniper/vqfx10k-vagrant](https://github.com/juniper/vqfx10k-vagrant) \u306b\u3082\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c\u3001\u30a2\u30ab\u30a6\u30f3\u30c8: `root` \u30d1\u30b9\u30ef\u30fc\u30c9: `no` \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\u3042\u307e\u308a\u5165\u308b\u3053\u3068\u306a\u3044\u3067\u3059\u304c\u3002\n\n\n```\nroot@localhost:~# uname -a\nLinux localhost 3.10.62-ltsi-WR6.0.0.21_standard #1 SMP PREEMPT Mon Nov 30 07:26:43 PST 2015 x86_64 x86_64 x86_64 GNU/Linux\n\n\nroot@localhost:~# ip addr\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host\n       valid_lft forever preferred_lft forever\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n    link/ether 00:86:2b:38:da:00 brd ff:ff:ff:ff:ff:ff\n    inet6 fe80::286:2bff:fe38:da00/64 scope link\n       valid_lft forever preferred_lft forever\n3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n    link/ether 00:86:2b:38:da:01 brd ff:ff:ff:ff:ff:ff\n    inet 169.254.0.1/24 brd 169.254.0.255 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet6 fe80::286:2bff:fe38:da01/64 scope link\n       valid_lft forever preferred_lft forever\n4: sit0: <NOARP> mtu 1480 qdisc noop state DOWN\n    link/sit 0.0.0.0 brd 0.0.0.0\n\nroot@localhost:~# ip route\n169.254.0.0/24 dev eth1  proto kernel  scope link  src 169.254.0.1\n\nroot@localhost:~# cat /etc/network/interfaces\n# /etc/network/interfaces -- configuration file for ifup(8), ifdown(8)\n\n# The loopback interface\nauto lo\niface lo inet loopback\nauto eth0\niface eth0 inet dhcp\nauto eth1\niface eth1 inet static\naddress 169.254.0.1\nnetmask 255.255.255.0\n\n```\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u72b6\u614b\u3060\u3068\u3055\u307b\u3069\u30e1\u30e2\u30ea\u6301\u3063\u3066\u3044\u304b\u308c\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n```\nroot@localhost:~# vmstat\nprocs -----------memory---------- ---swap-- -----io---- -system-- ----cpu----\n r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa\n 2  0      0 367600  11748 498320    0    0    37    37 1188  445 76 24  1  0\n\n\nroot@localhost:~# free\n             total       used       free     shared    buffers     cached\nMem:       1533320    1165648     367672          0      11708     498332\n-/+ buffers/cache:     655608     877712\nSwap:          972          0        972\n\n\nroot@localhost:~# df -h\nFilesystem      Size  Used Avail Use% Mounted on\nrootfs          1.9G  837M  941M  48% /\nudev            732M     0  732M   0% /dev\nnone            732M     0  732M   0% /dev\ntmpfs           749M  240K  749M   1% /run\n/dev/sda3       1.9G  837M  941M  48% /\n/dev/sda5       597M   52M  502M  10% /var\ntmpfs           749M  240K  749M   1% /run\ntmpfs           749M     0  749M   0% /var/volatile\n/dev/sda1       1.2G  210M 1004M  18% /boot\n/dev/sda2       103M  1.6M   94M   2% /app_disk\ntmpfs           749M  240K  749M   1% /run/named-chroot/var/run/named\ntmpfs           749M  240K  749M   1% /run/named-chroot/var/run/bind\nnone            732M     0  732M   0% /run/named-chroot/dev/random\nnone            732M     0  732M   0% /run/named-chroot/dev/zero\nnone            732M     0  732M   0% /run/named-chroot/dev/null\n\n```\n\n\n\n## \u7c21\u6613\u758e\u901a\u78ba\u8a8d\n\n\u524d\u306e\u7d75\u3067\u30ce\u30fc\u30c9\u3092 2 \u500b\u7e4b\u3044\u3067\u3044\u308b\u306e\u3067\u3001\u9069\u5f53\u306b\u305d\u306e\u7269\u7406IF\u306b access vlan 100 \u3092\u5272\u308a\u5f53\u3066\u3066\u758e\u901a\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002(\u96d1)\n\n```\n{master:0}\nroot@vqfx-re> show ethernet-switching interface\nRouting Instance Name : default-switch\nLogical Interface flags (DL - disable learning, AD - packet action drop,\n                         LH - MAC limit hit, DN - interface down,\n                         MMAS - Mac-move action shutdown,\n                         SCTL - shutdown by Storm-control )\n\nLogical          Vlan          TAG     MAC         STP         Logical           Tagging\ninterface        members               limit       state       interface flags\nxe-0/0/1.0                             8192                                       untagged\n                 VLAN0100      100     1024        Forwarding                     untagged\nRouting Instance Name : default-switch\nLogical Interface flags (DL - disable learning, AD - packet action drop,\n                         LH - MAC limit hit, DN - interface down,\n                         MMAS - Mac-move action shutdown,\n                         SCTL - shutdown by Storm-control )\n\nLogical          Vlan          TAG     MAC         STP         Logical           Tagging\ninterface        members               limit       state       interface flags\nxe-0/0/2.0                             8192                                       untagged\n                 VLAN0100      100     1024        Forwarding                     untagged\n\n\n\n{master:0}\nroot@vqfx-re> show ethernet-switching table\n\nMAC flags (S - static MAC, D - dynamic MAC, L - locally learned, P - Persistent static, C - Control MAC\n           SE - statistics enabled, NM - non configured MAC, R - remote PE MAC, O - ovsdb MAC)\n\n\nEthernet switching table : 2 entries, 2 learned\nRouting instance : default-switch\n    Vlan                MAC                 MAC         Age    Logical                NH        RTR\n    name                address             flags              interface              Index     ID\n    VLAN0100            00:86:2b:47:b6:01   D             -   xe-0/0/2.0             0         0\n    VLAN0100            00:86:2b:8d:10:01   D             -   xe-0/0/1.0             0         0\n```\n\n# \u304a\u3057\u307e\u3044\n\n- \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3060\u3051\u306a\u306e\u3067\u5225\u306b...\n- Juniper \u3055\u3093\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01\u611f\u8b1d\u3092\u8fbc\u3081\u3066\u3001vQFX \u3067\u8a66\u3057\u305f\u5185\u5bb9\u3092\u8ffd\u3063\u3066\u3044\u304f\u3064\u304b\u7e8f\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n", "tags": ["juniper", "junos15.1X53-D60", "GNS31.5.2"]}