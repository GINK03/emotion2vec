{"tags": ["prophecy", "PHPUnit", "PHP"], "context": "\u6700\u521d\u306b\u547c\u3070\u308c\u305f\u6642\u306f1, 2\u5ea6\u76ee\u306b\u547c\u3070\u308c\u305f\u6642\u306f2\u3092\u8fd4\u5374\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306e\u30b9\u30bf\u30d6\u304c\u6b32\u3057\u3044\u5834\u5408\u3002\n$stub->method()->willReturn($value) \u306f $stub->method()->will(new ReturnPromise([$value])) \u3068\u540c\u3058\u610f\u5473\u3060\u3051\u308c\u3069\u3001ReturnPromise\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u5f15\u6570\u306f\u914d\u5217\u306b\u306a\u3063\u3066\u3044\u3066\u3001\u8907\u6570\u306e\u5024\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u3053\u308c\u304c\u305d\u308c\u305e\u308cn\u56de\u76ee\u306b\u547c\u3070\u308c\u305f\u6642\u306e\u623b\u308a\u5024\u3068\u306a\u308b\u3088\u3046\u3060(Mockery\u306eandReturn(value1, value2, value3)\u3068\u540c\u69d8)\u3002\ninterface Sequence {\n    public function getValue();\n}\n\nclass ReturnPromiseTest extends PHPUnit_Framework_TestCase\n{\n    public function test()\n    {\n        $stub = $this->prophesize(Sequence::class);\n        $stub->getValue()->will(new \\Prophecy\\Promise\\ReturnPromise([1, 2, 3]));\n\n        $this->assertEquals(1, $stub->reveal()->getValue());\n        $this->assertEquals(2, $stub->reveal()->getValue());\n        $this->assertEquals(3, $stub->reveal()->getValue());\n    }\n}\n\nhttps://github.com/phpspec/prophecy/blob/master/src/Prophecy/Promise/ReturnPromise.php\n\u8ffd\u8a18\nReturnPromise\u4f7f\u308f\u305a\u306bwillReturn\u306b\u8907\u6570\u306e\u5f15\u6570\u3092\u6e21\u3059\u3060\u3051\u3067\u3088\u304b\u3063\u305f\u3002\n        $stub->getValue()->willReturn(1, 2, 3);\n\n\u6700\u521d\u306b\u547c\u3070\u308c\u305f\u6642\u306f1, 2\u5ea6\u76ee\u306b\u547c\u3070\u308c\u305f\u6642\u306f2\u3092\u8fd4\u5374\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306e\u30b9\u30bf\u30d6\u304c\u6b32\u3057\u3044\u5834\u5408\u3002\n\n`$stub->method()->willReturn($value)` \u306f `$stub->method()->will(new ReturnPromise([$value]))` \u3068\u540c\u3058\u610f\u5473\u3060\u3051\u308c\u3069\u3001ReturnPromise\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u5f15\u6570\u306f\u914d\u5217\u306b\u306a\u3063\u3066\u3044\u3066\u3001\u8907\u6570\u306e\u5024\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u3053\u308c\u304c\u305d\u308c\u305e\u308cn\u56de\u76ee\u306b\u547c\u3070\u308c\u305f\u6642\u306e\u623b\u308a\u5024\u3068\u306a\u308b\u3088\u3046\u3060(Mockery\u306e`andReturn(value1, value2, value3)`\u3068\u540c\u69d8)\u3002\n\n```php\ninterface Sequence {\n    public function getValue();\n}\n\nclass ReturnPromiseTest extends PHPUnit_Framework_TestCase\n{\n    public function test()\n    {\n        $stub = $this->prophesize(Sequence::class);\n        $stub->getValue()->will(new \\Prophecy\\Promise\\ReturnPromise([1, 2, 3]));\n\n        $this->assertEquals(1, $stub->reveal()->getValue());\n        $this->assertEquals(2, $stub->reveal()->getValue());\n        $this->assertEquals(3, $stub->reveal()->getValue());\n    }\n}\n```\n\nhttps://github.com/phpspec/prophecy/blob/master/src/Prophecy/Promise/ReturnPromise.php\n\n\n\u8ffd\u8a18\n\n`ReturnPromise`\u4f7f\u308f\u305a\u306b`willReturn`\u306b\u8907\u6570\u306e\u5f15\u6570\u3092\u6e21\u3059\u3060\u3051\u3067\u3088\u304b\u3063\u305f\u3002\n\n```php\n        $stub->getValue()->willReturn(1, 2, 3);\n```\n"}