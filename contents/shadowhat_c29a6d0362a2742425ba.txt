{"context": "\n\n\u6982\u8981\nSlack\u3092\u4f7f\u3044\u305f\u304f\u3066\u3082\u793e\u5185\u4e8b\u60c5\u7b49\u3005\u3067\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u306b\u4eba\u6c17\u306a\u3001Mattermost\u3092Linux\u74b0\u5883\u306b\u308c\u3044\u308b\u65b9\u6cd5\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\nCentOS7.2\u3092\u30d9\u30fc\u30b9\u306bPostgreSQL\u3068nginx\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u524d\u63d0\u6761\u4ef6\n\n\n\n\u74b0\u5883\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nOS\nCentOS7.2\n\n\nDB\nPostgreSQL 9.5.x\n\n\nWebServer\nnginx\n\n\n\nPostgreSQL\u304a\u3088\u3073nginx\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u4ee5\u4e0b\u3088\u308a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\nPostgreSQL 9.5.x\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\uff09for CentOS 7.2\nnginx\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u7de8\uff09for CentOS7.2\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e96\u5099\n\nDB\u4f5c\u6210\n\nDB\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nsu postgres\npsql\n\n\n\nDB\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nCREATE DATABASE mattermost;\nCREATE USER mattermost WITH PASSWORD 'mattermost';\nGRANT ALL PRIVILEGES ON DATABASE mattermost to mattermost;\n\\q\n\n\n\nDB\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u7d42\u308f\u308b\nexit\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f5c\u696d\ncd /usr/local/src\nwget https://releases.mattermost.com/3.4.0/mattermost-team-3.4.0-linux-amd64.tar.gz\ntar xvzf mattermost-team-3.4.0-linux-amd64.tar.gz\n\n#\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3059\u308b\nmkdir -p /docs/matt.exam.labo\ncp -rf mattermost/* /docs/matt.exam.labo/\n\n####\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\nuseradd mattermost \nsudo chown -R mattermost:mattermost /docs/matt.exam.labo/\n\n\n\nDB\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\nvi /docs/matt.exam.labo/config/config.json\n\n\n\u8a2d\u5b9a\n\"SqlSettings\": {\n    \"DriverName\": \"postgres\", #<-PostgreSQL\u3078\u5909\u66f4\n    \"DataSource\": \"postgres://mattermost:mattermost@localhost:5432/mattermost?sslmode=disable&connect_timeout=10\",\n    \"DataSourceReplicas\": [],\n    \"MaxIdleConns\": 10,\n    \"MaxOpenConns\": 10,\n    \"Trace\": false,\n    \"AtRestEncryptKey\": \"\"\n},\n\n\n\nDriverName\u3092\u300cpostgres\u300d\u306b\u5909\u66f4\nsslmode=disable\u3092\u8ffd\u52a0\u3059\u308b\n\n\n\u30c6\u30b9\u30c8\u5b9f\u884c\n/docs/matt.exam.labo/bin/platform\n\n\u5b9f\u884c\n./platform\n[2016/09/19 14:17:56 JST] [INFO] Loaded system translations for 'en' from '/docs/matt.exam.labo/i18n/en.json'\n[2016/09/19 14:17:56 JST] [INFO] Current version is 3.4.0 (3.4.0/Wed Sep 14 13:19:13 UTC 2016/57f25fa59c71821cc38fd220b133aa6a40815e12/none)\n[2016/09/19 14:17:56 JST] [INFO] Enterprise Enabled: false\n[2016/09/19 14:17:56 JST] [INFO] Current working directory is /docs/matt.exam.labo/bin\n[2016/09/19 14:17:56 JST] [INFO] Loaded config file from /docs/matt.exam.labo/config/config.json\n[2016/09/19 14:17:56 JST] [INFO] Server is initializing...\n[2016/09/19 14:17:56 JST] [INFO] Pinging sql master database\n[2016/09/19 14:17:56 JST] [INFO] Pinging sql replica-0 database\n[2016/09/19 14:17:56 JST] [INFO] The database schema has been set to version 3.4.0\n[2016/09/19 14:17:56 JST] [DEBG] Deleting any unused pre-release features\n[2016/09/19 14:17:56 JST] [DEBG] Initializing user api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing team api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing channel api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing post api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing web socket api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing file api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing command api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing admin api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing general api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing oauth api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing webhook api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing preference api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing license api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing emoji api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing status api routes\n[2016/09/19 14:17:56 JST] [DEBG] Parsing server templates at /docs/matt.exam.labo/templates/\n[2016/09/19 14:17:56 JST] [DEBG] Initializing web routes\n[2016/09/19 14:17:56 JST] [DEBG] Using client directory at /docs/matt.exam.labo/webapp/dist/\n[2016/09/19 14:17:56 JST] [INFO] Starting Server...\n[2016/09/19 14:17:56 JST] [INFO] Server is listening on :8065\n[2016/09/19 14:17:56 JST] [INFO] RateLimiter is enabled\n[2016/09/19 14:17:56 JST] [DEBG] Checking for security update from Mattermost\n[2016/09/19 14:18:27 JST] [DEBG] /\n[2016/09/19 14:18:28 JST] [DEBG] /api/v3/users/initial_load\n\n\n\u6700\u5f8c\u306b\u3001\u300c[CRIT] Failed to ping db err:pq: SSL is not enabled on the server\u300d\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001postgres://\u304c\u4ed8\u3044\u3066\u3044\u308b\u304b\u3068\u3001sslmode=disable\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u304c\u3042\u308b\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\n\u30d6\u30e9\u30a6\u30b6\u30fc\u3092\u958b\u304d\u300chttp://server-ip:8065/\u300d\u3092\u958b\u3044\u3066\u307f\u307e\u3057\u3087\u3046\n\n\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u51fa\u308c\u3070\u30b5\u30fc\u30d3\u30b9\u306f\u6b63\u5e38\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e00\u5ea6\u3001Ctrl+C\u3067\u3001\u30d7\u30ed\u30bb\u30b9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a\nhttps://docs.mattermost.com/install/prod-rhel-7.html#id2\n\u3092\u53c2\u8003\u306b\u30b5\u30fc\u30d3\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d3\u30b9\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\nvi /usr/lib/systemd/system/mattermost.service\n\n\n\n\u30b5\u30fc\u30d3\u30b9\u30b9\u30af\u30ea\u30d7\u30c8\n[Unit]\nDescription=Mattermost\nAfter=syslog.target network.target postgresql.service\n\n[Service]\nType=simple\nWorkingDirectory=/docs/matt.exam.labo/bin\nUser=mattermost\nExecStart=/docs/matt.exam.labo/bin/platform\nPIDFile=/var/spool/mattermost/pid/master.pid\n\n[Install]\nWantedBy=multi-user.target\n\n\n\u30b5\u30fc\u30d3\u30b9\u3092\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u306b\u3057\u3066\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3057\u307e\u3059\n\n\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a\nsystemctl enable mattermost\nsystemctl start mattermost\n\n\n\nnginx\u3092\u8a2d\u5b9a\u3059\u308b\nnginx\u306f\u3001\u65e2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\nconfig\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3001mattermost\u306e8065\u30dd\u30fc\u30c8\u3092ReverseProxy\u306b\u3059\u308b\u8a2d\u5b9a\u3092\u5165\u308c\u307e\u3059\u3002\n\n/etc/nginx/conf/nginx.conf\nserver {\n    listen 80;\n    server_name matt.exam.labo;\n\n    location / {\n        client_max_body_size 50M;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_set_header X-Frame-Options SAMEORIGIN;\n        proxy_pass http://127.0.0.1:8065;\n    }\n}\n\n\n\nnginx\u30b5\u30fc\u30d3\u30b9\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\nsystemctl restart nginx\n\n\u3053\u308c\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u3067\u300chttp://server-ip/\u300d\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001mattermost\u306e\u8a2d\u5b9a\u753b\u9762\u304c\u51fa\u308c\u3070OK!\n\n\u53c2\u8003\n\nhttps://docs.mattermost.com/install/prod-rhel-7.html#id2\nhttp://qiita.com/terukizm/items/4a4016d8ec5a21856e4f\n\n##\u6982\u8981\nSlack\u3092\u4f7f\u3044\u305f\u304f\u3066\u3082\u793e\u5185\u4e8b\u60c5\u7b49\u3005\u3067\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u306b\u4eba\u6c17\u306a\u3001Mattermost\u3092Linux\u74b0\u5883\u306b\u308c\u3044\u308b\u65b9\u6cd5\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\nCentOS7.2\u3092\u30d9\u30fc\u30b9\u306bPostgreSQL\u3068nginx\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n##\u524d\u63d0\u6761\u4ef6\n|\u74b0\u5883|\u30d0\u30fc\u30b8\u30e7\u30f3|\n|:-----------------|------------------|\n|OS|CentOS7.2|\n|DB|PostgreSQL 9.5.x|\n|WebServer|nginx|\n\nPostgreSQL\u304a\u3088\u3073nginx\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u4ee5\u4e0b\u3088\u308a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n[PostgreSQL 9.5.x\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\uff09for CentOS 7.2](http://qiita.com/shadowhat/items/0225dfc4347aa6d260f3)\n[nginx\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u7de8\uff09for CentOS7.2](http://qiita.com/shadowhat/items/988c885a76eb7db54354)\n\n\n##\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e96\u5099\n###DB\u4f5c\u6210\n```bash:DB\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nsu postgres\npsql\n```\n```SQL:DB\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nCREATE DATABASE mattermost;\nCREATE USER mattermost WITH PASSWORD 'mattermost';\nGRANT ALL PRIVILEGES ON DATABASE mattermost to mattermost;\n\\q\n```\n```bash:DB\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092\u7d42\u308f\u308b\nexit\n```\n\n###\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash:\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4f5c\u696d\ncd /usr/local/src\nwget https://releases.mattermost.com/3.4.0/mattermost-team-3.4.0-linux-amd64.tar.gz\ntar xvzf mattermost-team-3.4.0-linux-amd64.tar.gz\n\n#\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3059\u308b\nmkdir -p /docs/matt.exam.labo\ncp -rf mattermost/* /docs/matt.exam.labo/\n\n####\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\nuseradd mattermost \nsudo chown -R mattermost:mattermost /docs/matt.exam.labo/\n```\n####DB\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\n\n```bash:\nvi /docs/matt.exam.labo/config/config.json\n```\n\n```json:\u8a2d\u5b9a\n\"SqlSettings\": {\n    \"DriverName\": \"postgres\", #<-PostgreSQL\u3078\u5909\u66f4\n    \"DataSource\": \"postgres://mattermost:mattermost@localhost:5432/mattermost?sslmode=disable&connect_timeout=10\",\n    \"DataSourceReplicas\": [],\n    \"MaxIdleConns\": 10,\n    \"MaxOpenConns\": 10,\n    \"Trace\": false,\n    \"AtRestEncryptKey\": \"\"\n},\n```\n- DriverName\u3092\u300cpostgres\u300d\u306b\u5909\u66f4\n- sslmode=disable\u3092\u8ffd\u52a0\u3059\u308b\n\n####\u30c6\u30b9\u30c8\u5b9f\u884c\n/docs/matt.exam.labo/bin/platform\n\n```bash:\u5b9f\u884c\n./platform\n[2016/09/19 14:17:56 JST] [INFO] Loaded system translations for 'en' from '/docs/matt.exam.labo/i18n/en.json'\n[2016/09/19 14:17:56 JST] [INFO] Current version is 3.4.0 (3.4.0/Wed Sep 14 13:19:13 UTC 2016/57f25fa59c71821cc38fd220b133aa6a40815e12/none)\n[2016/09/19 14:17:56 JST] [INFO] Enterprise Enabled: false\n[2016/09/19 14:17:56 JST] [INFO] Current working directory is /docs/matt.exam.labo/bin\n[2016/09/19 14:17:56 JST] [INFO] Loaded config file from /docs/matt.exam.labo/config/config.json\n[2016/09/19 14:17:56 JST] [INFO] Server is initializing...\n[2016/09/19 14:17:56 JST] [INFO] Pinging sql master database\n[2016/09/19 14:17:56 JST] [INFO] Pinging sql replica-0 database\n[2016/09/19 14:17:56 JST] [INFO] The database schema has been set to version 3.4.0\n[2016/09/19 14:17:56 JST] [DEBG] Deleting any unused pre-release features\n[2016/09/19 14:17:56 JST] [DEBG] Initializing user api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing team api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing channel api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing post api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing web socket api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing file api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing command api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing admin api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing general api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing oauth api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing webhook api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing preference api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing license api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing emoji api routes\n[2016/09/19 14:17:56 JST] [DEBG] Initializing status api routes\n[2016/09/19 14:17:56 JST] [DEBG] Parsing server templates at /docs/matt.exam.labo/templates/\n[2016/09/19 14:17:56 JST] [DEBG] Initializing web routes\n[2016/09/19 14:17:56 JST] [DEBG] Using client directory at /docs/matt.exam.labo/webapp/dist/\n[2016/09/19 14:17:56 JST] [INFO] Starting Server...\n[2016/09/19 14:17:56 JST] [INFO] Server is listening on :8065\n[2016/09/19 14:17:56 JST] [INFO] RateLimiter is enabled\n[2016/09/19 14:17:56 JST] [DEBG] Checking for security update from Mattermost\n[2016/09/19 14:18:27 JST] [DEBG] /\n[2016/09/19 14:18:28 JST] [DEBG] /api/v3/users/initial_load\n```\n\u6700\u5f8c\u306b\u3001\u300c[CRIT] Failed to ping db err:pq: SSL is not enabled on the server\u300d\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001postgres://\u304c\u4ed8\u3044\u3066\u3044\u308b\u304b\u3068\u3001sslmode=disable\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u304c\u3042\u308b\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\n\n\u30d6\u30e9\u30a6\u30b6\u30fc\u3092\u958b\u304d\u300chttp://server-ip:8065/\u300d\u3092\u958b\u3044\u3066\u307f\u307e\u3057\u3087\u3046\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/85495/218108fd-95ad-23a6-0ca4-4f6cb7c15ba3.png)\n\n\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u51fa\u308c\u3070\u30b5\u30fc\u30d3\u30b9\u306f\u6b63\u5e38\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e00\u5ea6\u3001Ctrl+C\u3067\u3001\u30d7\u30ed\u30bb\u30b9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n\n##\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a\nhttps://docs.mattermost.com/install/prod-rhel-7.html#id2\n\u3092\u53c2\u8003\u306b\u30b5\u30fc\u30d3\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```bash:\u30b5\u30fc\u30d3\u30b9\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\nvi /usr/lib/systemd/system/mattermost.service\n```\n```bash:\u30b5\u30fc\u30d3\u30b9\u30b9\u30af\u30ea\u30d7\u30c8\n[Unit]\nDescription=Mattermost\nAfter=syslog.target network.target postgresql.service\n\n[Service]\nType=simple\nWorkingDirectory=/docs/matt.exam.labo/bin\nUser=mattermost\nExecStart=/docs/matt.exam.labo/bin/platform\nPIDFile=/var/spool/mattermost/pid/master.pid\n\n[Install]\nWantedBy=multi-user.target\n```\n\n\u30b5\u30fc\u30d3\u30b9\u3092\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u306b\u3057\u3066\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3057\u307e\u3059\n\n```bash:\u30b5\u30fc\u30d3\u30b9\u8a2d\u5b9a\nsystemctl enable mattermost\nsystemctl start mattermost\n```\n\n##nginx\u3092\u8a2d\u5b9a\u3059\u308b\nnginx\u306f\u3001\u65e2\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\nconfig\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3001mattermost\u306e8065\u30dd\u30fc\u30c8\u3092ReverseProxy\u306b\u3059\u308b\u8a2d\u5b9a\u3092\u5165\u308c\u307e\u3059\u3002\n\n```bash:/etc/nginx/conf/nginx.conf\nserver {\n    listen 80;\n    server_name matt.exam.labo;\n\n    location / {\n        client_max_body_size 50M;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_set_header X-Frame-Options SAMEORIGIN;\n        proxy_pass http://127.0.0.1:8065;\n    }\n}\n```\n\n####nginx\u30b5\u30fc\u30d3\u30b9\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\n```bash:\nsystemctl restart nginx\n```\n\n\u3053\u308c\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u3067\u300chttp://server-ip/\u300d\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001mattermost\u306e\u8a2d\u5b9a\u753b\u9762\u304c\u51fa\u308c\u3070OK!\n\n\n##\u53c2\u8003\n- https://docs.mattermost.com/install/prod-rhel-7.html#id2\n- http://qiita.com/terukizm/items/4a4016d8ec5a21856e4f\n\n\n\n", "tags": ["Mattermost", "centos7", "PostgreSQL", "nginx"]}