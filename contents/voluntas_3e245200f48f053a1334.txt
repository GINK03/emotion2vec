{"context": " More than 1 year has passed since last update.\n\n\u76ee\u7684\n\nTerraform \u3067 Google Compute Engine \u3092\u8a66\u3057\u3066\u307f\u308b\n\n\n\u524d\u63d0\n\nTerraform \u306f 0.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n\n\n/path/to/terraform \u307f\u305f\u3044\u306a\u30a4\u30e1\u30fc\u30b8\n\n\nGoogle Cloud Platform \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u6301\u3063\u3066\u3044\u308b\n\n\nGoogle Cloud Platform \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u4f5c\u6210\u6e08\u307f\n\n\n\n\n\u624b\u9806\n\nGoogle Console \u304b\u3089\u30a2\u30ab\u30a6\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3059\u308b\n\nGoogle Developers Console \u306e API \u3068\u8a8d\u8a3c\u304b\u3089\u8a8d\u8a3c\u60c5\u5831\u3092\u9078\u629e\u3059\u308b\nOAuth \u3067\u65b0\u3057\u3044\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 ID \u3092\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\n\n\u30b5\u30fc\u30d3\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u9078\u629e\u3059\u308b\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 ID \u3092\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\u3053\u308c\u304c account \u306b\u306a\u308b\n\n\nCompute Engine \u3068 App Engine \u306e JSON \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u9078\u629e\u3059\u308b\n\n\n\u3053\u308c\u304c client_secrets \u306b\u306a\u308b\n\n\n\n\ngce.tf \u3092\u4f5c\u6210\u3059\u308b\u524d\u306b .terraformrc \u3092\u8a2d\u5b9a\u3059\u308b\n\u81ea\u5206\u306e\u74b0\u5883\u3060\u3051\u304b\u3082\u3057\u308c\u306a\u3044\u304c\u3001google \u306e provider \u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u305d\u306e\u307e\u307e\u3067\u306f\u8a8d\u8b58\u3055\u308c\u305a\u3001plugin \u3068\u3057\u3066\u660e\u793a\u7684\u306b\u8a8d\u8b58\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u3002\n\u305d\u3053\u3067 ~/.terraformrc \u3092\u7528\u610f\u3059\u308b\u3053\u3068\u306b\u3059\u308b\u3002\nproviders {\n    google = \"/path/to/terraform-provider-google\"\n}\n\n\u3053\u308c\u3067 google \u3068\u3044\u3046 provider \u304c\u8a8d\u8b58\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\ngce.tf \u3092\u7528\u610f\u3059\u308b\n\u6ce8\u610f\u70b9\u306f project \u3067\u3001\u81ea\u5206\u3067\u3064\u3051\u305f\u540d\u524d\u3067\u306f\u306a\u304f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 ID \u3092\u6307\u5b9a\u3059\u308b\u3002\nregion \u306f\u65e5\u672c\u306b\u8fd1\u3044\u65b9\u304c\u3044\u3044\u306e\u3067 asia-east1 \u3092\u9078\u3093\u3067\u304a\u3044\u305f\u3002\nprovider \"google\" {\n    account_file = \"\u5148\u307b\u3069\u53d6\u5f97\u3057\u305f\u30a2\u30ab\u30a6\u30f3\u30c8 JSON \u30d5\u30a1\u30a4\u30eb\u540d\"\n    client_secrets_file = \"\u5148\u307b\u3069\u53d6\u5f97\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b7\u30fc\u30af\u30ec\u30c3\u30c8 JSON \u30d5\u30a1\u30a4\u30eb\u540d\"\n    project = \"\u3053\u3053\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3067\u306f\u306a\u304f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 ID\"\n    region = \"asia-east1-b\"\n}\n\n\ngce.tf \u3092\u7528\u610f\u3057\u3066 resource \u3067 GCE \u3092\u52d5\u304b\u3057\u3066\u307f\u308b\ngce.tf \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\u3002\u3068\u308a\u3042\u3048\u305a\u306f\u30ea\u30bd\u30fc\u30b9\u306e\u307f\u3002\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30b5\u30a4\u30ba\u306f\u5c0f\u3055\u3044\u3084\u3064\u3092\u3002\nresource \"google_compute_instance\" \"default\" {\n    name = \"spam\"\n    machine_type = \"f1-micro\"\n    zone = \"asia-east1-b\"\n\n    disk {\n        image = \"debian-7-wheezy-v20140814\"\n    }\n\n    network {\n        source = \"default\"\n    }\n}\n\n\nplan \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n$ terraform plan\nRefreshing Terraform state prior to plan...\n\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n+ google_compute_instance.default\n    disk.#:                     \"\" => \"1\"\n    disk.0.image:               \"\" => \"debian-7-wheezy-v20140814\"\n    machine_type:               \"\" => \"f1-micro\"\n    metadata_fingerprint:       \"\" => \"<computed>\"\n    name:                       \"\" => \"spam\"\n    network.#:                  \"\" => \"1\"\n    network.0.internal_address: \"\" => \"<computed>\"\n    network.0.name:             \"\" => \"<computed>\"\n    network.0.source:           \"\" => \"default\"\n    tags_fingerprint:           \"\" => \"<computed>\"\n    zone:                       \"\" => \"asia-east1-b\"\n\n\u554f\u984c\u306a\u3055\u305d\u3046\u3002\n\napply \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n$ terraform apply\ngoogle_compute_instance.default: Creating...\n  disk.#:                     \"\" => \"1\"\n  disk.0.image:               \"\" => \"debian-7-wheezy-v20140814\"\n  machine_type:               \"\" => \"f1-micro\"\n  metadata_fingerprint:       \"\" => \"<computed>\"\n  name:                       \"\" => \"spam\"\n  network.#:                  \"\" => \"1\"\n  network.0.internal_address: \"\" => \"<computed>\"\n  network.0.name:             \"\" => \"<computed>\"\n  network.0.source:           \"\" => \"default\"\n  tags_fingerprint:           \"\" => \"<computed>\"\n  zone:                       \"\" => \"asia-east1-b\"\ngoogle_compute_instance.default: Creation complete\n\nApply complete! Resources: 1 added, 0 changed, 0 destroyed.\n\nThe state of your infrastructure has been saved to the path\nbelow. This state is required to modify and destroy your\ninfrastructure, so keep it safe. To inspect the complete state\nuse the `terraform show` command.\n\nState path: terraform.tfstate\n\n\n\u554f\u984c\u306a\u3055\u305d\u3046\u3002\n\n\u524a\u9664\u3059\u308b\n\u30ea\u30bd\u30fc\u30b9\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3001\u524a\u9664\u3057\u307e\u3059\u3002\n/*\nresource \"google_compute_instance\" \"default\" {\n    name = \"spam\"\n    machine_type = \"f1-micro\"\n    zone = \"asia-east1-b\"\n\n    disk {\n        image = \"debian-7-wheezy-v20140814\"\n    }\n\n    network {\n        source = \"default\"\n    }\n}\n*/\n\n$ terraform plan\nRefreshing Terraform state prior to plan...\n\ngoogle_compute_instance.default: Refreshing state... (ID: spam)\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n- google_compute_instance.default\n\n$ terraform apply\ngoogle_compute_instance.default: Refreshing state... (ID: spam)\ngoogle_compute_instance.default: Destroying...\ngoogle_compute_instance.default: Destruction complete\n\nApply complete! Resources: 0 added, 0 changed, 1 destroyed.\n\n\n\u8ab2\u984c\n\nssh \u306e\u9375\u306f\u7d50\u5c40\u624b\u52d5\n\n\n\u30ed\u30b0\u30a4\u30f3\u306b\u306f ssh \u306e\u9375\u304c\u8a2d\u5b9a\u5fc5\u8981\u306b\u306a\u308b\u304c\u3001\u3053\u3053\u306f\u6b8b\u5ff5\u306a\u304c\u3089\u624b\u52d5\u3067\u3057\u304b\u8a2d\u5b9a\u51fa\u6765\u306a\u3055\u305d\u3046\u3002\u81ea\u52d5\u3067\u7a81\u3063\u8fbc\u3093\u3067\u3082\u3089\u3046\u306e\u306f\u3069\u3046\u3084\u308b\u306e\u304b\u4e0d\u660e\u3002\n\n\n\n\n\u611f\u60f3\nGCE \u3092\u4f7f\u3046\u306e\u306f\u3082\u3068\u3082\u3068\u30b7\u30f3\u30d7\u30eb\u306a\u306e\u3067\u308f\u3056\u308f\u3056 ... \u3068\u3044\u3046\u611f\u3058\u306b\u306a\u3089\u306a\u3044\u3067\u3082\u7121\u3044\u3067\u3059\u304c\u3002Digital Ocean \u3068 GCE \u3092\u4f75\u7528\u3057\u3066\u540c\u4e00\u74b0\u5883\u3092\u4e8c\u3064\u4f5c\u308b\u3068\u304b\u306a\u3089\u30a2\u30ea\u3060\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\u4eca\u5f8c\u306f GCE \u5468\u308a\u306e\u6a5f\u80fd\u3082\u5145\u5b9f\u3057\u3066\u3044\u304f\u3068\u601d\u3046\u306e\u3067\u671f\u5f85\u3057\u3066\u307e\u3059\u3002\n\n## \u76ee\u7684\n\n- Terraform \u3067 Google Compute Engine \u3092\u8a66\u3057\u3066\u307f\u308b\n\n## \u524d\u63d0\n\n- Terraform \u306f 0.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n\t- /path/to/terraform \u307f\u305f\u3044\u306a\u30a4\u30e1\u30fc\u30b8\n- Google Cloud Platform \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u6301\u3063\u3066\u3044\u308b\n\t- Google Cloud Platform \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u4f5c\u6210\u6e08\u307f\n\n## \u624b\u9806\n\n### Google Console \u304b\u3089\u30a2\u30ab\u30a6\u30f3\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3059\u308b\n\n- Google Developers Console \u306e API \u3068\u8a8d\u8a3c\u304b\u3089\u8a8d\u8a3c\u60c5\u5831\u3092\u9078\u629e\u3059\u308b\n- OAuth \u3067\u65b0\u3057\u3044\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 ID \u3092\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\t- \u30b5\u30fc\u30d3\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u9078\u629e\u3059\u308b\n\t- \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 ID \u3092\u4f5c\u6210\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\t- \u3053\u308c\u304c account \u306b\u306a\u308b\n- Compute Engine \u3068 App Engine \u306e JSON \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u9078\u629e\u3059\u308b\n\t- \u3053\u308c\u304c client_secrets \u306b\u306a\u308b\n\n### gce.tf \u3092\u4f5c\u6210\u3059\u308b\u524d\u306b .terraformrc \u3092\u8a2d\u5b9a\u3059\u308b\n\n\u81ea\u5206\u306e\u74b0\u5883\u3060\u3051\u304b\u3082\u3057\u308c\u306a\u3044\u304c\u3001google \u306e provider \u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u305d\u306e\u307e\u307e\u3067\u306f\u8a8d\u8b58\u3055\u308c\u305a\u3001plugin \u3068\u3057\u3066\u660e\u793a\u7684\u306b\u8a8d\u8b58\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u3002\n\n\u305d\u3053\u3067 ~/.terraformrc \u3092\u7528\u610f\u3059\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\n```\nproviders {\n    google = \"/path/to/terraform-provider-google\"\n}\n```\n\n\u3053\u308c\u3067 google \u3068\u3044\u3046 provider \u304c\u8a8d\u8b58\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n### gce.tf \u3092\u7528\u610f\u3059\u308b\n\n\u6ce8\u610f\u70b9\u306f project \u3067\u3001\u81ea\u5206\u3067\u3064\u3051\u305f\u540d\u524d\u3067\u306f\u306a\u304f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 ID \u3092\u6307\u5b9a\u3059\u308b\u3002\n\nregion \u306f\u65e5\u672c\u306b\u8fd1\u3044\u65b9\u304c\u3044\u3044\u306e\u3067 asia-east1 \u3092\u9078\u3093\u3067\u304a\u3044\u305f\u3002\n\n```\nprovider \"google\" {\n    account_file = \"\u5148\u307b\u3069\u53d6\u5f97\u3057\u305f\u30a2\u30ab\u30a6\u30f3\u30c8 JSON \u30d5\u30a1\u30a4\u30eb\u540d\"\n    client_secrets_file = \"\u5148\u307b\u3069\u53d6\u5f97\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b7\u30fc\u30af\u30ec\u30c3\u30c8 JSON \u30d5\u30a1\u30a4\u30eb\u540d\"\n    project = \"\u3053\u3053\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3067\u306f\u306a\u304f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 ID\"\n    region = \"asia-east1-b\"\n}\n```\n\n### gce.tf \u3092\u7528\u610f\u3057\u3066 resource \u3067 GCE \u3092\u52d5\u304b\u3057\u3066\u307f\u308b\n\ngce.tf \u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\u3002\u3068\u308a\u3042\u3048\u305a\u306f\u30ea\u30bd\u30fc\u30b9\u306e\u307f\u3002\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30b5\u30a4\u30ba\u306f\u5c0f\u3055\u3044\u3084\u3064\u3092\u3002\n\n```\nresource \"google_compute_instance\" \"default\" {\n    name = \"spam\"\n    machine_type = \"f1-micro\"\n    zone = \"asia-east1-b\"\n\n    disk {\n        image = \"debian-7-wheezy-v20140814\"\n    }\n\n    network {\n        source = \"default\"\n    }\n}\n```\n\n### plan \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n\n\n```\n$ terraform plan\nRefreshing Terraform state prior to plan...\n\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n+ google_compute_instance.default\n    disk.#:                     \"\" => \"1\"\n    disk.0.image:               \"\" => \"debian-7-wheezy-v20140814\"\n    machine_type:               \"\" => \"f1-micro\"\n    metadata_fingerprint:       \"\" => \"<computed>\"\n    name:                       \"\" => \"spam\"\n    network.#:                  \"\" => \"1\"\n    network.0.internal_address: \"\" => \"<computed>\"\n    network.0.name:             \"\" => \"<computed>\"\n    network.0.source:           \"\" => \"default\"\n    tags_fingerprint:           \"\" => \"<computed>\"\n    zone:                       \"\" => \"asia-east1-b\"\n```\n\n\u554f\u984c\u306a\u3055\u305d\u3046\u3002\n\n### apply \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\n\n```\n$ terraform apply\ngoogle_compute_instance.default: Creating...\n  disk.#:                     \"\" => \"1\"\n  disk.0.image:               \"\" => \"debian-7-wheezy-v20140814\"\n  machine_type:               \"\" => \"f1-micro\"\n  metadata_fingerprint:       \"\" => \"<computed>\"\n  name:                       \"\" => \"spam\"\n  network.#:                  \"\" => \"1\"\n  network.0.internal_address: \"\" => \"<computed>\"\n  network.0.name:             \"\" => \"<computed>\"\n  network.0.source:           \"\" => \"default\"\n  tags_fingerprint:           \"\" => \"<computed>\"\n  zone:                       \"\" => \"asia-east1-b\"\ngoogle_compute_instance.default: Creation complete\n\nApply complete! Resources: 1 added, 0 changed, 0 destroyed.\n\nThe state of your infrastructure has been saved to the path\nbelow. This state is required to modify and destroy your\ninfrastructure, so keep it safe. To inspect the complete state\nuse the `terraform show` command.\n\nState path: terraform.tfstate\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-08-30 5.11.12 PM.png](https://qiita-image-store.s3.amazonaws.com/0/1821/c8951be0-fb98-bc14-7eee-78f9fe6d17e0.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-08-30 5.11.12 PM.png\")\n\n\u554f\u984c\u306a\u3055\u305d\u3046\u3002\n\n### \u524a\u9664\u3059\u308b\n\n\u30ea\u30bd\u30fc\u30b9\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3001\u524a\u9664\u3057\u307e\u3059\u3002\n\n```\n/*\nresource \"google_compute_instance\" \"default\" {\n    name = \"spam\"\n    machine_type = \"f1-micro\"\n    zone = \"asia-east1-b\"\n\n    disk {\n        image = \"debian-7-wheezy-v20140814\"\n    }\n\n    network {\n        source = \"default\"\n    }\n}\n*/\n```\n\n```\n$ terraform plan\nRefreshing Terraform state prior to plan...\n\ngoogle_compute_instance.default: Refreshing state... (ID: spam)\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n- google_compute_instance.default\n```\n\n```\n$ terraform apply\ngoogle_compute_instance.default: Refreshing state... (ID: spam)\ngoogle_compute_instance.default: Destroying...\ngoogle_compute_instance.default: Destruction complete\n\nApply complete! Resources: 0 added, 0 changed, 1 destroyed.\n```\n\n### \u8ab2\u984c\n\n- ssh \u306e\u9375\u306f\u7d50\u5c40\u624b\u52d5\n\t- \u30ed\u30b0\u30a4\u30f3\u306b\u306f ssh \u306e\u9375\u304c\u8a2d\u5b9a\u5fc5\u8981\u306b\u306a\u308b\u304c\u3001\u3053\u3053\u306f\u6b8b\u5ff5\u306a\u304c\u3089\u624b\u52d5\u3067\u3057\u304b\u8a2d\u5b9a\u51fa\u6765\u306a\u3055\u305d\u3046\u3002\u81ea\u52d5\u3067\u7a81\u3063\u8fbc\u3093\u3067\u3082\u3089\u3046\u306e\u306f\u3069\u3046\u3084\u308b\u306e\u304b\u4e0d\u660e\u3002\n\n## \u611f\u60f3\n\nGCE \u3092\u4f7f\u3046\u306e\u306f\u3082\u3068\u3082\u3068\u30b7\u30f3\u30d7\u30eb\u306a\u306e\u3067\u308f\u3056\u308f\u3056 ... \u3068\u3044\u3046\u611f\u3058\u306b\u306a\u3089\u306a\u3044\u3067\u3082\u7121\u3044\u3067\u3059\u304c\u3002Digital Ocean \u3068 GCE \u3092\u4f75\u7528\u3057\u3066\u540c\u4e00\u74b0\u5883\u3092\u4e8c\u3064\u4f5c\u308b\u3068\u304b\u306a\u3089\u30a2\u30ea\u3060\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n\u4eca\u5f8c\u306f GCE \u5468\u308a\u306e\u6a5f\u80fd\u3082\u5145\u5b9f\u3057\u3066\u3044\u304f\u3068\u601d\u3046\u306e\u3067\u671f\u5f85\u3057\u3066\u307e\u3059\u3002\n", "tags": ["Terraform"]}