{"context": "\u5143\u30cd\u30bf\n\u308f\u30fc\u3044\u3001\u3059\u3054\u30fc\u3044\n\u30bf\u30a4\u30c8\u30eb\u306e\u5143\u30cd\u30bf\n4\u8a71\u306e\u30b5\u30fc\u30d0\u30eb\u3061\u3083\u3093\u306e\u300c\u7802\u304c\u305f\u304f\u3055\u3093\u3042\u308b\u306d\u30fc\uff01\u300d\n\u300e\u3051\u3082\u306e\u30d5\u30ec\u30f3\u30ba\u300f4\u8a71\u3001\u30b5\u30fc\u30d0\u30eb\u3061\u3083\u3093\u306e\u3042\u308b\u30bb\u30ea\u30d5\u304c\u3059\u3054\u304f\u6df1\u3044\u300c\u898b\u843d\u3068\u3057\u3066\u308b\u3082\u306e\u3092\u6c17\u3065\u304b\u305b\u3066\u304f\u308c\u308b\u300d\n\nState\u30e2\u30ca\u30c9\n\u623b\u308a\u5024\u3068\u4e00\u7dd2\u306b\u8fd4\u3057\u305f\u72b6\u614b\u3092\u5f15\u304d\u56de\u305b\u308b\u30e2\u30ca\u30c9\u306a\u3093\u3060\u306d\uff01\u3059\u3054\u30fc\u3044\uff01\n\nimport Control.Monad.State (State, modify, execState)\n\ntype Friends = State String ()\n\nwai :: Friends\nwai = modify (++ \"\u308f\u30fc\u3044\uff01\\n\")\n\nsugoi :: Friends\nsugoi = modify (++ \"\u3059\u3054\u30fc\u3044\uff01\\n\")\n\ntanoshii :: Friends\ntanoshii = modify (++ \"\u305f\u30fc\u306e\u3057\u30fc\uff01\\n\")\n\nfriends :: String -> Friends\nfriends skill = modify (++ \"\u541b\u306f\" ++ skill ++ \"\u304c\u5f97\u610f\u306a\u30d5\u30ec\u30f3\u30ba\u306a\u3093\u3060\u306d\uff01\\n\")\n\nmain :: IO ()\nmain = putStrLn $ flip execState \"\" $ do\n  wai\n  sugoi\n  tanoshii\n  friends \"\u30af\u30bd\u30b3\u30fc\u30c9\"\n\n\nWriter\u30e2\u30ca\u30c9\n\u30ed\u30b0\u3092\u3069\u3093\u3069\u3093\u8ffd\u8a18\u3067\u304d\u308b\u30e2\u30ca\u30c9\u306a\u3093\u3060\u306d\uff01\u3059\u3054\u30fc\u3044\uff01\n\nimport Control.Monad.Writer (Writer, tell, execWriter)\n\ntype Friends = Writer String ()\n\nwai :: Friends\nwai = tell \"\u308f\u30fc\u3044\uff01\\n\"\n\nsugoi :: Friends\nsugoi = tell \"\u3059\u3054\u30fc\u3044\uff01\\n\"\n\ntanoshii :: Friends\ntanoshii = tell \"\u305f\u30fc\u306e\u3057\u30fc\uff01\\n\"\n\nfriends :: String -> Friends\nfriends skill = tell $ \"\u541b\u306f\" ++ skill ++ \"\u304c\u5f97\u610f\u306a\u30d5\u30ec\u30f3\u30ba\u306a\u3093\u3060\u306d\uff01\\n\"\n\nmain :: IO ()\nmain = putStrLn $ execWriter $ do\n  wai\n  sugoi\n  tanoshii\n  friends \"\u30af\u30bd\u30b3\u30fc\u30c9\"\n\n\n\nReader\u30e2\u30ca\u30c9\n\u8aad\u307f\u53d6\u308a\u5c02\u7528\u306e\u5024\u3092\u5171\u6709\u3067\u304d\u308b\u30e2\u30ca\u30c9\u306a\u3093\u3060\u306d\uff01\u3059\u3054\u30fc\u3044\uff01\n\nimport Control.Monad.Reader (Reader, ask, local, runReader)\n\ntype Friends = Reader String String\n\nwai :: Friends\nwai = do\n  message <- ask\n  return $ message ++ \"\u308f\u30fc\u3044\uff01\\n\"\n\nsugoi :: Friends\nsugoi = do\n  message <- ask\n  return $ message ++ \"\u3059\u3054\u30fc\u3044\uff01\\n\"\n\ntanoshii :: Friends\ntanoshii = do\n  message <- ask\n  return $ message ++ \"\u305f\u30fc\u306e\u3057\u30fc\uff01\\n\"\n\nfriends :: String -> Friends\nfriends skill = do\n  message <- ask\n  return $ message ++ \"\u541b\u306f\" ++ skill ++ \"\u304c\u5f97\u610f\u306a\u30d5\u30ec\u30f3\u30ba\u306a\u3093\u3060\u306d\uff01\\n\"\n\nmain :: IO ()\nmain = putStrLn $ flip runReader \"\" $ do\n  message1 <- wai\n  message2 <- local (const message1) sugoi\n  message3 <- local (const message2) tanoshii\n  local (const message3) (friends \"\u30af\u30bd\u30b3\u30fc\u30c9\")\n\n\n\nST\u30e2\u30ca\u30c9\n\u7834\u58ca\u7684\u4ee3\u5165\u304c\u3067\u304d\u308b\u30e2\u30ca\u30c9\u306a\u3093\u3060\u306d\uff01\u3059\u3054\u30fc\u3044\uff01\n\nimport Control.Monad.ST (ST, runST)\nimport Data.STRef (STRef, newSTRef, modifySTRef, readSTRef)\n\ntype Friends s = STRef s String -> ST s ()\n\nwai :: Friends s\nwai = flip modifySTRef (++ \"\u308f\u30fc\u3044\uff01\\n\")\n\nsugoi :: Friends s\nsugoi = flip modifySTRef (++ \"\u3059\u3054\u30fc\u3044\uff01\\n\")\n\ntanoshii :: Friends s\ntanoshii = flip modifySTRef (++ \"\u305f\u30fc\u306e\u3057\u30fc\uff01\\n\")\n\nfriends :: String -> Friends s\nfriends skill = flip modifySTRef (++ \"\u541b\u306f\" ++ skill ++ \"\u304c\u5f97\u610f\u306a\u30d5\u30ec\u30f3\u30ba\u306a\u3093\u3060\u306d\uff01\\n\")\n\nmain :: IO ()\nmain =  putStrLn $ runST $ do\n  message <- newSTRef \"\"\n  wai message\n  sugoi message\n  tanoshii message\n  friends \"\u30af\u30bd\u30b3\u30fc\u30c9\" message\n  readSTRef message\n\n\n\u5143\u30cd\u30bf\n[\u308f\u30fc\u3044\u3001\u3059\u3054\u30fc\u3044](http://qiita.com/t_ishida/items/bae7e62950d81f427f13)\n\n\u30bf\u30a4\u30c8\u30eb\u306e\u5143\u30cd\u30bf\n4\u8a71\u306e\u30b5\u30fc\u30d0\u30eb\u3061\u3083\u3093\u306e\u300c\u7802\u304c\u305f\u304f\u3055\u3093\u3042\u308b\u306d\u30fc\uff01\u300d\n[\u300e\u3051\u3082\u306e\u30d5\u30ec\u30f3\u30ba\u300f4\u8a71\u3001\u30b5\u30fc\u30d0\u30eb\u3061\u3083\u3093\u306e\u3042\u308b\u30bb\u30ea\u30d5\u304c\u3059\u3054\u304f\u6df1\u3044\u300c\u898b\u843d\u3068\u3057\u3066\u308b\u3082\u306e\u3092\u6c17\u3065\u304b\u305b\u3066\u304f\u308c\u308b\u300d](https://togetter.com/li/1081364)\n\n### State\u30e2\u30ca\u30c9\n\n\u623b\u308a\u5024\u3068\u4e00\u7dd2\u306b\u8fd4\u3057\u305f\u72b6\u614b\u3092\u5f15\u304d\u56de\u305b\u308b\u30e2\u30ca\u30c9\u306a\u3093\u3060\u306d\uff01\u3059\u3054\u30fc\u3044\uff01\n\n```hs\n\nimport Control.Monad.State (State, modify, execState)\n\ntype Friends = State String ()\n\nwai :: Friends\nwai = modify (++ \"\u308f\u30fc\u3044\uff01\\n\")\n\nsugoi :: Friends\nsugoi = modify (++ \"\u3059\u3054\u30fc\u3044\uff01\\n\")\n\ntanoshii :: Friends\ntanoshii = modify (++ \"\u305f\u30fc\u306e\u3057\u30fc\uff01\\n\")\n\nfriends :: String -> Friends\nfriends skill = modify (++ \"\u541b\u306f\" ++ skill ++ \"\u304c\u5f97\u610f\u306a\u30d5\u30ec\u30f3\u30ba\u306a\u3093\u3060\u306d\uff01\\n\")\n\nmain :: IO ()\nmain = putStrLn $ flip execState \"\" $ do\n  wai\n  sugoi\n  tanoshii\n  friends \"\u30af\u30bd\u30b3\u30fc\u30c9\"\n```\n\n### Writer\u30e2\u30ca\u30c9\n\n\u30ed\u30b0\u3092\u3069\u3093\u3069\u3093\u8ffd\u8a18\u3067\u304d\u308b\u30e2\u30ca\u30c9\u306a\u3093\u3060\u306d\uff01\u3059\u3054\u30fc\u3044\uff01\n\n```hs\n\nimport Control.Monad.Writer (Writer, tell, execWriter)\n\ntype Friends = Writer String ()\n\nwai :: Friends\nwai = tell \"\u308f\u30fc\u3044\uff01\\n\"\n\nsugoi :: Friends\nsugoi = tell \"\u3059\u3054\u30fc\u3044\uff01\\n\"\n\ntanoshii :: Friends\ntanoshii = tell \"\u305f\u30fc\u306e\u3057\u30fc\uff01\\n\"\n\nfriends :: String -> Friends\nfriends skill = tell $ \"\u541b\u306f\" ++ skill ++ \"\u304c\u5f97\u610f\u306a\u30d5\u30ec\u30f3\u30ba\u306a\u3093\u3060\u306d\uff01\\n\"\n\nmain :: IO ()\nmain = putStrLn $ execWriter $ do\n  wai\n  sugoi\n  tanoshii\n  friends \"\u30af\u30bd\u30b3\u30fc\u30c9\"\n\n```\n\n### Reader\u30e2\u30ca\u30c9\n\n\u8aad\u307f\u53d6\u308a\u5c02\u7528\u306e\u5024\u3092\u5171\u6709\u3067\u304d\u308b\u30e2\u30ca\u30c9\u306a\u3093\u3060\u306d\uff01\u3059\u3054\u30fc\u3044\uff01\n\n```hs\n\nimport Control.Monad.Reader (Reader, ask, local, runReader)\n\ntype Friends = Reader String String\n\nwai :: Friends\nwai = do\n  message <- ask\n  return $ message ++ \"\u308f\u30fc\u3044\uff01\\n\"\n\nsugoi :: Friends\nsugoi = do\n  message <- ask\n  return $ message ++ \"\u3059\u3054\u30fc\u3044\uff01\\n\"\n\ntanoshii :: Friends\ntanoshii = do\n  message <- ask\n  return $ message ++ \"\u305f\u30fc\u306e\u3057\u30fc\uff01\\n\"\n\nfriends :: String -> Friends\nfriends skill = do\n  message <- ask\n  return $ message ++ \"\u541b\u306f\" ++ skill ++ \"\u304c\u5f97\u610f\u306a\u30d5\u30ec\u30f3\u30ba\u306a\u3093\u3060\u306d\uff01\\n\"\n\nmain :: IO ()\nmain = putStrLn $ flip runReader \"\" $ do\n  message1 <- wai\n  message2 <- local (const message1) sugoi\n  message3 <- local (const message2) tanoshii\n  local (const message3) (friends \"\u30af\u30bd\u30b3\u30fc\u30c9\")\n\n```\n\n### ST\u30e2\u30ca\u30c9\n\n\u7834\u58ca\u7684\u4ee3\u5165\u304c\u3067\u304d\u308b\u30e2\u30ca\u30c9\u306a\u3093\u3060\u306d\uff01\u3059\u3054\u30fc\u3044\uff01\n\n```hs\n\nimport Control.Monad.ST (ST, runST)\nimport Data.STRef (STRef, newSTRef, modifySTRef, readSTRef)\n\ntype Friends s = STRef s String -> ST s ()\n\nwai :: Friends s\nwai = flip modifySTRef (++ \"\u308f\u30fc\u3044\uff01\\n\")\n\nsugoi :: Friends s\nsugoi = flip modifySTRef (++ \"\u3059\u3054\u30fc\u3044\uff01\\n\")\n\ntanoshii :: Friends s\ntanoshii = flip modifySTRef (++ \"\u305f\u30fc\u306e\u3057\u30fc\uff01\\n\")\n\nfriends :: String -> Friends s\nfriends skill = flip modifySTRef (++ \"\u541b\u306f\" ++ skill ++ \"\u304c\u5f97\u610f\u306a\u30d5\u30ec\u30f3\u30ba\u306a\u3093\u3060\u306d\uff01\\n\")\n\nmain :: IO ()\nmain =  putStrLn $ runST $ do\n  message <- newSTRef \"\"\n  wai message\n  sugoi message\n  tanoshii message\n  friends \"\u30af\u30bd\u30b3\u30fc\u30c9\" message\n  readSTRef message\n\n```\n", "tags": ["\u308f\u30fc\u3044\u3001\u3059\u3054\u30fc\u3044", "\u4f9b\u990a", "Haskell", "\u30e2\u30ca\u30c9"]}