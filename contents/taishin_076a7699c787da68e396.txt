{"tags": ["ECS", "AWS", "docker", "docker-compose"], "context": " More than 1 year has passed since last update.ECS CLI \u3092\u4f7f\u3063\u3066docker-compose\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u7a3c\u50cd\u3055\u305b\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nECS CLI\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nMac\n\n$ sudo curl -o /usr/local/bin/ecs-cli https://s3.amazonaws.com/amazon-ecs-cli/ecs-cli-darwin-amd64-latest\n$ sudo chmod +x /usr/local/bin/ecs-cli\n\n\nLinux\n\n$ sudo curl -o /usr/local/bin/ecs-cli https://s3.amazonaws.com/amazon-ecs-cli/ecs-cli-linux-amd64-latest\n$ sudo chmod +x /usr/local/bin/ecs-cli\n\n\n\u78ba\u8a8d\n\n$ ecs-cli help\nNAME:\n   ecs-cli - Command line interface for Amazon ECS\n\nUSAGE:\n   ecs-cli [global options] command [command options] [arguments...]\n\nVERSION:\n   0.2.1 (e7b6965)\n\nAUTHOR(S):\n   Amazon Web Services\n\nhttp://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/ECS_CLI_installation.html\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nECS\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\necs-cli\u306e\u307f\u306e\u8a2d\u5b9a\n\n$ ecs-cli configure --region ap-northeast-1 --access-key $AWS_ACCESS_KEY_ID --secret-key $AWS_SECRET_ACCESS_KEY --cluster CLUSTERNAME\n\n\u751f\u6210\u3055\u308c\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n~/.ecs/config\n[ecs]\ncluster = CLUSTERNAME\naws_profile =\nregion = ap-northeast-1\naws_access_key_id = XXXXXXXXXXXXXXXXXX\naws_secret_access_key = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n\n\n\nawscli\u3082\u8a2d\u5b9a or awscli\u8a2d\u5b9a\u3092\u5f15\u304d\u7d99\u3050\u5834\u5408\n\n$ aws configure                                                                                           \nAWS Access Key ID [None]:XXXXXXXXXXXXXXXXXXXXXX\nAWS Secret Access Key [None]:XXXXXXXXXXXXXXXXXXXXXXXXXX\nDefault region name [None]:ap-northeast-1\nDefault output format [None]:json\n\n$ ecs-cli configure -p default --cluster CLUSTERNAME\n\n\u751f\u6210\u3055\u308c\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n~/.aws/credentials\n[default]\naws_access_key_id = XXXXXXXXXXXXXXXXXX\naws_secret_access_key = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n\n\n\n~/.aws/config\n[default]\noutput = json\nregion = ap-northeast-1\n\n\n\n~/.ecs/config\n[ecs]\ncluster = CLUSTERNAME\naws_profile = default\nregion =\naws_access_key_id =\naws_secret_access_key =\n\n\nhttp://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/cmd-ecs-cli-configure.html\n\n\u30af\u30e9\u30b9\u30bf\u306e\u8d77\u52d5\nECS\u4e0a\u306b\u30af\u30e9\u30b9\u30bf\u3092\u7a3c\u50cd\u3055\u305b\u307e\u3059\u3002\n\n\u6700\u5c11\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u8d77\u52d5\n$ ecs-cli up --keypair keypair_name --capability-iam\n\nCloudformation\u30b9\u30bf\u30c3\u30af\u304c\u4f5c\u6210\u3055\u308c\u3001\u4e0b\u8a18\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n\nVPC\n\n\nVPC\n\nCIDR:  10.0.0.0/16\n\n\n\nSubnet\n\n\u30b5\u30d6\u30cd\u30c3\u30c81\n\n\nAZ: ap-northeast-1a\nCIDR: 10.0.0.0/24\n\n\n\u30b5\u30d6\u30cd\u30c3\u30c82\n\n\nAZ: ap-northeast-1c\nCIDR: 10.0.1.0/24\n\n\n\n\nInternetCateway\n\nRouteTable\n\n0.0.0.0/0 -> InternetGateway\n\n\n\nSecurity Group\n\nGroup name: amazon-ecs-cli-setup-CLUSTERNAME-EcsSecurityGroup-XXXXXXX\nPolicy: Permit 0.0.0.0/0 HTTP\n\n\n\n\n\nIAM\n\n\nRole\n\nName: amazon-ecs-cli-setup-test-EcsInstancePolicy-XXXXXXXXXX\nPolicy:AmazonEC2ContainerServiceforEC2Role\n\n\n\n\n\nAuto Scaling\n\n\nLaunch Configurations\n\nName: amazon-ecs-cli-setup-test-EcsInstanceLc-1P0GAVG1RA5AN\nAMI ID: ami-18d8de76\nInstance Type: t2.micro\n\n\n\nAuto Scaling Groups\n\nName: amazon-ecs-cli-setup-test-EcsInstanceAsg-1TKKSVWVJP7CO\nLoad Balancers: \u306a\u3057\nDesired: 1\nMin: 1\nMax: 1\nDefault Cooldown: 300\nHealth Check Type: EC2\n\n\n\n\n\n\n\u65e2\u5b58VPC\u5185\u306b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u5b9a\u3057\u3066\u8d77\u52d5\n$ ecs-cli up --keypair keypair_name --capability-iam --security-group sg-XXXXXXXX --vpc vpc-XXXXXXXX --subnets subnet-XXXXXXXX,subnet-XXXXXXXX\nINFO[0001] Created cluster                               cluster=CLUSTERNAME\nINFO[0002] Waiting for your cluster resources to be created\nINFO[0002] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\nINFO[0062] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\nINFO[0123] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\nINFO[0183] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\nINFO[0243] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\n\n\nhttp://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/cmd-ecs-cli-up.html\n\n\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\ndocker-compose.yml\u3092\u4f5c\u6210\u3057\u3001Wordpress\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\n\ndocker-compose.yml\nwordpress:\n  image: wordpress\n  mem_limit: 268435456\n  ports:\n    - \"80:80\"\n  links:\n    - mysql\nmysql:\n  image: mysql\n  mem_limit: 268435456\n  environment:\n    MYSQL_ROOT_PASSWORD: password\n\n\necs-cli\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ ecs-cli compose service up\nINFO[0000] Using ECS task definition                     TaskDefinition=ecscompose-compose:1\nINFO[0000] Created an ECS Service                        serviceName=ecscompose-service-compose taskDefinition=ecscompose-compose:1\nINFO[0000] Updated ECS service successfully              desiredCount=1 serviceName=ecscompose-service-compose\nINFO[0001] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0031] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0061] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0091] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0121] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0151] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0181] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0211] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0241] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0271] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0301] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0331] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0361] ECS Service has reached a stable state        desiredCount=1 runningCount=1 serviceName=ecscompose-service-compose\n\n\u78ba\u8a8d\n $ ecs-cli ps                                                                                                    \nName                                                                 State          Ports                            TaskDefinition\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/wordpress  RUNNING  xx.xx.xx.xx:80->80/tcp  ecscompose-compose:1\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/mysql      RUNNING                          ecscompose-compose:1\n\n\n\n\u30b9\u30b1\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5897\u3084\u3057\u307e\u3059\u3002\n$ ecs-cli scale --capability-iam --size 2\nINFO[0002] Waiting for your cluster resources to be updated\nINFO[0003] Cloudformation stack status  \n\n\u30b5\u30fc\u30d3\u30b9\u3092\u5897\u3084\u3057\u307e\u3059\u3002\n$ ecs-cli compose service scale 2                                                                                                             [~/dev/ecs/compose]\nINFO[0000] Updated ECS service successfully              desiredCount=2 serviceName=ecscompose-service-compose\nINFO[0000] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0030] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0060] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0090] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0120] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0150] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0181] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0211] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0241] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0271] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0301] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0331] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0361] ECS Service has reached a stable state        desiredCount=2 runningCount=2 serviceName=ecscompose-service-compose\n\n\u78ba\u8a8d\n $ ecs-cli ps                                                                                                    \nName                                                                 State          Ports                            TaskDefinition\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/wordpress  RUNNING  xx.xx.xx.xx:80->80/tcp  ecscompose-compose:1\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/mysql      RUNNING                          ecscompose-compose:1\nyyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyyyy/wordpress  RUNNING  yy.yy.yy.yy:80->80/tcp  ecscompose-compose:1\nyyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyyyy/mysql      RUNNING                          ecscompose-compose:1\n\n\n\u30b5\u30fc\u30d3\u30b9\u306e\u505c\u6b62\n$ ecs-cli compose service down                                                                                                                [~/dev/ecs/compose]\nINFO[0000] Updated ECS service successfully              desiredCount=0 serviceName=ecscompose-service-compose\nINFO[0000] Describe ECS Service status                   desiredCount=0 runningCount=2 serviceName=ecscompose-service-compose\nINFO[0015] ECS Service has reached a stable state        desiredCount=0 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0015] Deleted ECS service                           service=ecscompose-service-compose\nINFO[0015] ECS Service has reached a stable state        desiredCount=0 runningCount=0 serviceName=ecscompose-service-compose\n\n\n\u30af\u30e9\u30b9\u30bf\u306e\u524a\u9664\n$ ecs-cli down --force                                   \nINFO[0001] Waiting for your cluster resources to be deleted\nINFO[0001] Cloudformation stack status                   stackStatus=DELETE_IN_PROGRESS\nINFO[0062] Cloudformation stack status                   stackStatus=DELETE_IN_PROGRESS\nINFO[0123] Deleted cluster                               cluster=CLUSTERNAME\n\nECS CLI \u3092\u4f7f\u3063\u3066docker-compose\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u30b3\u30f3\u30c6\u30ca\u3092\u7a3c\u50cd\u3055\u305b\u307e\u3059\u3002\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nECS CLI\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n- Mac\n\n```bash\n$ sudo curl -o /usr/local/bin/ecs-cli https://s3.amazonaws.com/amazon-ecs-cli/ecs-cli-darwin-amd64-latest\n$ sudo chmod +x /usr/local/bin/ecs-cli\n```\n\n- Linux\n\n```bash\n$ sudo curl -o /usr/local/bin/ecs-cli https://s3.amazonaws.com/amazon-ecs-cli/ecs-cli-linux-amd64-latest\n$ sudo chmod +x /usr/local/bin/ecs-cli\n```\n\n- \u78ba\u8a8d\n\n```bash\n$ ecs-cli help\nNAME:\n   ecs-cli - Command line interface for Amazon ECS\n\nUSAGE:\n   ecs-cli [global options] command [command options] [arguments...]\n\nVERSION:\n   0.2.1 (e7b6965)\n\nAUTHOR(S):\n   Amazon Web Services\n```\n\nhttp://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/ECS_CLI_installation.html\n\n# \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nECS\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\n- ecs-cli\u306e\u307f\u306e\u8a2d\u5b9a\n\n```bash\n$ ecs-cli configure --region ap-northeast-1 --access-key $AWS_ACCESS_KEY_ID --secret-key $AWS_SECRET_ACCESS_KEY --cluster CLUSTERNAME\n```\n\u751f\u6210\u3055\u308c\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n```bash:~/.ecs/config\n[ecs]\ncluster = CLUSTERNAME\naws_profile =\nregion = ap-northeast-1\naws_access_key_id = XXXXXXXXXXXXXXXXXX\naws_secret_access_key = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n```\n\n- awscli\u3082\u8a2d\u5b9a or awscli\u8a2d\u5b9a\u3092\u5f15\u304d\u7d99\u3050\u5834\u5408\n\n```bash\n$ aws configure                                                                                           \nAWS Access Key ID [None]:XXXXXXXXXXXXXXXXXXXXXX\nAWS Secret Access Key [None]:XXXXXXXXXXXXXXXXXXXXXXXXXX\nDefault region name [None]:ap-northeast-1\nDefault output format [None]:json\n\n$ ecs-cli configure -p default --cluster CLUSTERNAME\n```\n\n\u751f\u6210\u3055\u308c\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n```bash:~/.aws/credentials\n[default]\naws_access_key_id = XXXXXXXXXXXXXXXXXX\naws_secret_access_key = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n```\n\n```bash:~/.aws/config\n[default]\noutput = json\nregion = ap-northeast-1\n```\n\n```bash:~/.ecs/config\n[ecs]\ncluster = CLUSTERNAME\naws_profile = default\nregion =\naws_access_key_id =\naws_secret_access_key =\n```\n\nhttp://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/cmd-ecs-cli-configure.html\n\n# \u30af\u30e9\u30b9\u30bf\u306e\u8d77\u52d5\n\nECS\u4e0a\u306b\u30af\u30e9\u30b9\u30bf\u3092\u7a3c\u50cd\u3055\u305b\u307e\u3059\u3002\n\n### \u6700\u5c11\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u8d77\u52d5\n\n```bash\n$ ecs-cli up --keypair keypair_name --capability-iam\n```\n\nCloudformation\u30b9\u30bf\u30c3\u30af\u304c\u4f5c\u6210\u3055\u308c\u3001\u4e0b\u8a18\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n- VPC\n    - **VPC**\n        - CIDR:  10.0.0.0/16\n    - **Subnet**\n        - \u30b5\u30d6\u30cd\u30c3\u30c81\n            - AZ: ap-northeast-1a\n            - CIDR: 10.0.0.0/24\n        - \u30b5\u30d6\u30cd\u30c3\u30c82\n            - AZ: ap-northeast-1c\n            - CIDR: 10.0.1.0/24\n   - **InternetCateway**\n   - **RouteTable**\n          - 0.0.0.0/0 -> InternetGateway\n   - **Security Group**\n        - Group name: amazon-ecs-cli-setup-*CLUSTERNAME*-EcsSecurityGroup-XXXXXXX\n        - Policy: Permit 0.0.0.0/0 HTTP\n\n- IAM\n    - **Role**\n        - Name: amazon-ecs-cli-setup-test-EcsInstancePolicy-XXXXXXXXXX\n        - Policy:AmazonEC2ContainerServiceforEC2Role\n        \n- Auto Scaling\n    - **Launch Configurations**\n        - Name: amazon-ecs-cli-setup-test-EcsInstanceLc-1P0GAVG1RA5AN\n        - AMI ID: ami-18d8de76\n        - Instance Type: t2.micro\n    - **Auto Scaling Groups**\n        - Name: amazon-ecs-cli-setup-test-EcsInstanceAsg-1TKKSVWVJP7CO\n        - Load Balancers: \u306a\u3057\n        - Desired: 1\n        - Min: 1\n        - Max: 1\n        - Default Cooldown: 300\n        - Health Check Type: EC2\n\n### \u65e2\u5b58VPC\u5185\u306b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u6307\u5b9a\u3057\u3066\u8d77\u52d5\n```bash\n$ ecs-cli up --keypair keypair_name --capability-iam --security-group sg-XXXXXXXX --vpc vpc-XXXXXXXX --subnets subnet-XXXXXXXX,subnet-XXXXXXXX\nINFO[0001] Created cluster                               cluster=CLUSTERNAME\nINFO[0002] Waiting for your cluster resources to be created\nINFO[0002] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\nINFO[0062] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\nINFO[0123] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\nINFO[0183] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\nINFO[0243] Cloudformation stack status                   stackStatus=CREATE_IN_PROGRESS\n\n```\n\nhttp://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/cmd-ecs-cli-up.html\n\n# \u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\n\ndocker-compose.yml\u3092\u4f5c\u6210\u3057\u3001Wordpress\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\n\n```bash:docker-compose.yml\nwordpress:\n  image: wordpress\n  mem_limit: 268435456\n  ports:\n    - \"80:80\"\n  links:\n    - mysql\nmysql:\n  image: mysql\n  mem_limit: 268435456\n  environment:\n    MYSQL_ROOT_PASSWORD: password\n```\n\necs-cli\u3067\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```bash\n$ ecs-cli compose service up\nINFO[0000] Using ECS task definition                     TaskDefinition=ecscompose-compose:1\nINFO[0000] Created an ECS Service                        serviceName=ecscompose-service-compose taskDefinition=ecscompose-compose:1\nINFO[0000] Updated ECS service successfully              desiredCount=1 serviceName=ecscompose-service-compose\nINFO[0001] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0031] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0061] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0091] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0121] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0151] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0181] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0211] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0241] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0271] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0301] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0331] Describe ECS Service status                   desiredCount=1 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0361] ECS Service has reached a stable state        desiredCount=1 runningCount=1 serviceName=ecscompose-service-compose\n```\n\n\u78ba\u8a8d\n\n```bash\n $ ecs-cli ps                                                                                                    \nName                                                                 State          Ports                            TaskDefinition\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/wordpress  RUNNING  xx.xx.xx.xx:80->80/tcp  ecscompose-compose:1\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/mysql      RUNNING                          ecscompose-compose:1\n\n```\n\n# \u30b9\u30b1\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5897\u3084\u3057\u307e\u3059\u3002\n\n```bash\n$ ecs-cli scale --capability-iam --size 2\nINFO[0002] Waiting for your cluster resources to be updated\nINFO[0003] Cloudformation stack status  \n```\n\n\u30b5\u30fc\u30d3\u30b9\u3092\u5897\u3084\u3057\u307e\u3059\u3002\n\n```bash\n$ ecs-cli compose service scale 2                                                                                                             [~/dev/ecs/compose]\nINFO[0000] Updated ECS service successfully              desiredCount=2 serviceName=ecscompose-service-compose\nINFO[0000] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0030] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0060] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0090] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0120] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0150] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0181] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0211] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0241] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0271] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0301] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0331] Describe ECS Service status                   desiredCount=2 runningCount=1 serviceName=ecscompose-service-compose\nINFO[0361] ECS Service has reached a stable state        desiredCount=2 runningCount=2 serviceName=ecscompose-service-compose\n```\n\n\u78ba\u8a8d\n\n```\n $ ecs-cli ps                                                                                                    \nName                                                                 State          Ports                            TaskDefinition\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/wordpress  RUNNING  xx.xx.xx.xx:80->80/tcp  ecscompose-compose:1\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/mysql      RUNNING                          ecscompose-compose:1\nyyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyyyy/wordpress  RUNNING  yy.yy.yy.yy:80->80/tcp  ecscompose-compose:1\nyyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyyyyyy/mysql      RUNNING                          ecscompose-compose:1\n```\n\n# \u30b5\u30fc\u30d3\u30b9\u306e\u505c\u6b62\n\n```bash\n$ ecs-cli compose service down                                                                                                                [~/dev/ecs/compose]\nINFO[0000] Updated ECS service successfully              desiredCount=0 serviceName=ecscompose-service-compose\nINFO[0000] Describe ECS Service status                   desiredCount=0 runningCount=2 serviceName=ecscompose-service-compose\nINFO[0015] ECS Service has reached a stable state        desiredCount=0 runningCount=0 serviceName=ecscompose-service-compose\nINFO[0015] Deleted ECS service                           service=ecscompose-service-compose\nINFO[0015] ECS Service has reached a stable state        desiredCount=0 runningCount=0 serviceName=ecscompose-service-compose\n```\n\n# \u30af\u30e9\u30b9\u30bf\u306e\u524a\u9664\n\n```bash\n$ ecs-cli down --force                                   \nINFO[0001] Waiting for your cluster resources to be deleted\nINFO[0001] Cloudformation stack status                   stackStatus=DELETE_IN_PROGRESS\nINFO[0062] Cloudformation stack status                   stackStatus=DELETE_IN_PROGRESS\nINFO[0123] Deleted cluster                               cluster=CLUSTERNAME\n```\n"}