{"context": "\n\n\u3068\u308a\u3042\u3048\u305a\u4e0b\u6e96\u5099\nPhoton Unity Networking Free\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\nphoton\u306e\u30b5\u30a4\u30c8\u3067\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u3092\u3057\u3066\u3001\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3ID\u3092\u3068\u3063\u3066\u304d\u307e\u3059\u3002\n\u7121\u6599\u3060\u306820\u4eba\u540c\u6642\u30a2\u30af\u30bb\u30b9\u307e\u3067\u3002\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3ID\u3092\u30b3\u30d4\u30fc\u3057\u3066\nUnity\u4e0a\u304b\u3089winodw->photon Unity Networking->PUN Wizard\u3092\u958b\u304f\n\nAppId or Email\u306e\u6240\u306b\u8cbc\u308a\u4ed8\u3051\u3066SetUp Project\nDone!\u3068\u3067\u308c\u3070\u5b8c\u4e86\n\n\u3053\u308c\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u304d\u305f\u3084\u3064\u306e\u30c7\u30e2\u306f\u52d5\u304f\u3088\u3002\n\u4e00\u4eba\u3058\u3083\u610f\u5473\u306a\u3044\u304b\u3089Scene\u3092\u5168\u90e8BuildSetting\u306b\u7a81\u3063\u8fbc\u3093\u3067\nDemoHub\u304c\u30e1\u30cb\u30e5\u30fc\u306a\u306e\u3067\u305d\u308c\u3092\u4e00\u756a\u4e0a\u306b\u3057\u3066\u30d3\u30eb\u30c9\u3002\n\n\u306f\u3044\u3001\u3053\u308cUnity\u4e0a\u306e\u3068\u30d3\u30eb\u30c9\u3057\u305f\u3084\u3064\u8d77\u52d5\u3057\u3066\u4e00\u4eba\u4e8c\u5f79\u5b8c\u6210!\n\n\u3053\u308c\u306fDemo Woker\u306e\u30b7\u30fc\u30f3\u3002\u3053\u308c\u306f\u30eb\u30fc\u30e0\u306e\u4f5c\u6210\u306e\u6a5f\u80fd\u3082\u5165\u3063\u3066\u3044\u308b\u3057\u3001\u30c1\u30e3\u30c3\u30c8\u3082\u51fa\u6765\u308b\u3088\u3002\n\nPUN API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\uff08Ver.1.60\uff09\nPhoton Turnbased\u3063\u3066\u306a\u3044\u306a\u3068\u601d\u3063\u3066\u306a\u3089\u7d42\u308f\u3063\u3066\u305f\u306e\u304b\u30fb\u30fb\u30fb\u3002\n\u3058\u3083\u3041\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3060\u3051\u3067\u3044\u3044\u3084\u3002\nPhoton Turnbased \u65b0\u898f\u53d7\u6ce8\u53d7\u4ed8\u7d42\u4e86\u306e\u3054\u6848\u5185\n\n\u3068\u308a\u3042\u3048\u305a\u30ed\u30b0\u30a4\u30f3\u306e\u4ed5\u65b9\u3092\u30fb\u30fb\u30fb\n\u3046\u30fc\u3093\u3063\u3068\u3001\u307e\u305a\u6700\u521d\u306b\u5fc5\u8981\u306a\u306e\u304c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306e\u8a18\u8f09\u304c\u5fc5\u8981\u3002\nPhotonNetwork.ConnectUsingSettings(\"\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\");\n\n//Room\u306b\u53c2\u52a0\nPhotonNetwork.JoinRoom(roomName);\n\n//Room\u3092\u4f5c\u6210\nPhotonNetwork.CreateRoom(roomName);\n//\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u5931\u6557\u3057\u3001\u3053\u308c\u3092\u30b3\u30fc\u30eb\uff1a: OnPhotonCreateGameFailed\n//CreateRoom\u306e\u5f15\u6570RoomOptions\u3067\u30eb\u30fc\u30e0\u306e\u4eba\u6570\u3092\u8a2d\u5b9a\u3057\u305f\u308a\u3067\u304d\u308b\n\n//\u30e9\u30f3\u30c0\u30e0\u306b\u3069\u306eRoom\u306b\u3067\u3082\u53c2\u52a0\u3059\u308b\nPhotonNetwork.JoinRandomRoom();\n//\u30de\u30c3\u30c1\u3059\u308b\u30b2\u30fc\u30e0\u304c\u7121\u3044\u5834\u5408\u3001\u5931\u6557\u3001\u305d\u3057\u3066\u3053\u308c\u3092\u30b3\u30fc\u30eb\uff1a: OnPhotonRandomJoinFailed\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u4ed8\u304d\u306e\u90e8\u5c4b\u3092\u4f5c\u308a\u305f\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3059\u308c\u3070\u3067\u304d\u308b\u3002\u306a\u308b\u307b\u3069\uff01\n\u62db\u5f85\u8005\u306e\u307f\u30eb\u30fc\u30e0\u3078\u5165\u5ba4\u3092\u8a31\u53ef\u3059\u308b\u65b9\u6cd5\n\u30eb\u30fc\u30e0\u306e\u4e00\u89a7\u8868\u793a\nforeach (RoomInfo room in PhotonNetwork.GetRoomList())\n{\n    Debug.Log(room.name);  //\u90e8\u5c4b\u540d\n    Debug.Log(room.playerCount);    //\u90e8\u5c4b\u306e\u5165\u5834\u4eba\u6570\n    Debug.Log(room.maxPlayers);  //\u6700\u5927\u4eba\u6570\n}\n\n\n\n\u304a\u90e8\u5c4b\u4f5c\u3063\u3066\u307f\u3088\u3046\uff01\n\u3068\u308a\u3042\u3048\u305a\u90e8\u5c4b\u4f5c\u308d\u3046\u3068\u601d\u3063\u3066\u3001\u306f\u307e\u308a\u307e\u3057\u305f\u3002\n\u30e9\u30f3\u30c0\u30e0\u3067\u5165\u5ba4\u3084\u90e8\u5c4b\u4f5c\u6210\u306f\u51fa\u6765\u308b\u306e\u306b\u3001\n\u90e8\u5c4b\u4e00\u89a7\u304c\u3069\u3046\u3084\u3063\u3066\u3082\u53d6\u5f97\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u30fb\u30fb\u30fb\u30fb\u3002\n\u539f\u56e0\u306fPhotonServerSeting\u306eAuto-Join Lobby\u306e\u30c1\u30a7\u30c3\u30af\n\u3053\u308c\u3092\u5165\u308c\u306a\u3044\u3068\u30ed\u30d3\u30fc\u4e00\u89a7\u53d6\u5f97\u3067\u304d\u306a\u3044\n\n\u3061\u3087\u3063\u3068\u4f5c\u308a\u304c\u3061\u3083\u3063\u3061\u3044\u3051\u3069\u3001\n\u3068\u308a\u3042\u3048\u305a\u540d\u524d\u6c7a\u3081\u3066\u90e8\u5c4b\u306e\u4f5c\u6210\u3001\u90e8\u5c4b\u3078\u306e\u53c2\u52a0\u3001\u30e9\u30f3\u30c0\u30e0\u306a\u90e8\u5c4b\u306b\u53c2\u52a0\u306e\u5b9f\u88c5\u3092\u3057\u305f\n\n\u6b21\u306b\u9375\u4ed8\u304d\u306e\u90e8\u5c4b\u3082\u4f5c\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3063\u3066\u308b\u3051\u3069\u307e\u3060\u672a\u5b9f\u88c5\u3002\n\u4e00\u90e8\u3060\u3051\u3069\u30bd\u30fc\u30b9\n\u90e8\u5c4b\u3092\u3064\u304f\u308b\u3068\u3053\u308d\n    public void CreateRoom(string roomName, int playerCount, string password)\n    {\n        string roomNameStr = roomName;\n        if(!string.IsNullOrEmpty(password)) roomNameStr += \"_\" + password;\n        PhotonNetwork.CreateRoom (\n            roomNameStr,    // \u30e6\u30cb\u30fc\u30af\u306a\u90e8\u5c4b\u540d\n            new RoomOptions() {maxPlayers = playerCount},\n            null);\n    }\n\n    public void OnPhotonCreateRoomFailed()\n    {\n        Debug.Log(\"OnPhotonCreateRoomFailed got called. This can happen if the room exists (even if not visible). Try another room name.\");\n    }\n\n    public void OnPhotonRandomJoinFailed()\n    {\n        Debug.Log(\"OnPhotonRandomJoinFailed got called. Happens if no room is available (or all full or invisible or closed). JoinrRandom filter-options can limit available rooms.\");\n    }\n\n    public void OnCreatedRoom()\n    {\n        PhotonNetwork.LoadLevel(\"Room\");\n    }\n\n\u90e8\u5c4b\u306e\u4e00\u89a7\u8868\u793a\u3057\u3066\u3044\u308b\u3068\u3053\u308d\n        if (PhotonNetwork.GetRoomList().Length == 0)\n        {\n            Debug.LogWarning(\"\u90e8\u5c4b\u306a\u3057\");\n        }\n        else\n        {\n            GameObject roomObj = null;\n            foreach (RoomInfo room in PhotonNetwork.GetRoomList()) {\n\n                roomObj = Instantiate(Resources.Load(CommonConst.ROOM_ITEM)) as GameObject;\n                roomObj.transform.parent = scrollTran;\n                roomObj.transform.localScale = Vector3.one;\n                roomObj.GetComponent<RoomItem>().SetData(room);\n\n        }\n\n\u30e9\u30f3\u30c0\u30e0\u306a\u90e8\u5c4b\u306b\u5165\u308b\u3068\u3053\u308d\n\npublic void RandomEnter()\n    {\n        PhotonNetwork.JoinRandomRoom();\n    }\n\n    public void OnJoinedRoom()\n    {\n        Debug.Log(\"OnJoinedRoom\");\n        PhotonNetwork.LoadLevel(\"Room\");\n    }\n\n    public void OnPhotonRandomJoinFailed()\n    {\n        Debug.Log(\"OnPhotonRandomJoinFailed got called. Happens if no room is available (or all full or invisible or closed). JoinrRandom filter-options can limit available rooms.\");\n    }\n\n\u90e8\u5c4b\u306b\u5165\u308b\u3068\u3053\u308d\n    public void Join()\n    {\n        PhotonNetwork.JoinRoom(roomData.name);\n    }\n\n    // We have two options here: we either joined(by title, list or random) or created a room.\n    public void OnJoinedRoom()\n    {\n        Application.LoadLevel(\"Room\");\n    }\n\n    public void OnPhotonJoinRoomFailed(object[] cause)\n    {\n        Debug.Log(\"OnPhotonJoinRoomFailed got called. This can happen if the room is not existing or full or closed.\");\n    }\n\nmac\u306e\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30fc\u30f3\u3067\u30d3\u30eb\u30c9\u3057\u305f\u3084\u3064\u3067\u3082\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u3053\u3093\u306a\u611f\u3058\u3067\nopen -n Test.app\n\u4f5c\u3063\u305f\u30a2\u30d7\u30ea\u306e\u540d\u524d\u3092\u53e9\u3051\u3070\u8907\u6570\u8d77\u52d5\u3067\u304d\u308b\u304b\u3089\u4e00\u4eba\u3067\u8cd1\u3084\u304b\u306b\u904a\u3079\u308b\u3088!\n\n\n\u3061\u306a\u307f\u306b\u90e8\u5c4b\u306b\u5165\u3063\u3066\u304b\u3089\u90e8\u5c4b\u3092\u629c\u3051\u308b\u3068\u304d\u306f\n  // \u3053\u308c\u3067\u90e8\u5c4b\u3092\u629c\u3051\u3066\n  PhotonNetwork.LeaveRoom();  \n  // \u629c\u3051\u3089\u308c\u305f\u3089\u3053\u306e\u95a2\u6570\u304c\u3088\u3070\u308c\u308b\u304b\u3089\u3053\u3053\u3067\u30b7\u30fc\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\u306a\u308a\u3059\u308b\n  public void OnLeftRoom()\n  {\n  }\n\n\u75b2\u308c\u305f\u306e\u3067\u4e00\u65e6\u3053\u3053\u307e\u3067\u3002\u30b9\u30de\u30db\u3067\u8a66\u3059\u4f59\u529b\u3082\u306a\u304b\u3063\u305fw\n\u6b21\u306f\u9375\u4ed8\u304d\u306e\u304a\u90e8\u5c4b\u306b\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3088\u3046\u304b\u306a\n\n\u4f59\u8ac7\u30fb\u30fb\u30fb\n\u30b9\u30de\u30db\u3067\u30d3\u30eb\u30c9\u3057\u3088\u3046\u3068\u304a\u3082\u3063\u3066\u3001\u3044\u3064\u3082\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b\nFast Platform Switch\n\u3092\u4f7f\u304a\u3046\u3068\u3057\u305f\u3089\u3001\u8ca9\u58f2\u4e2d\u6b62\u306b\u306a\u3063\u3066\u304a\u3063\u305f\u30fb\u30fb\u30fb\u3002\n\u3053\u3046\u3044\u3046\u3053\u3068\u304c\u3042\u308b\u304b\u3089\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u6d88\u305b\u306a\u3044\u30fb\u30fb\u30fb\u3002\nAsset Store-5.x\u3060\u3051\u306744GB\u3082\u4f7f\u3063\u3066\u3044\u308b;w;\u5bb9\u91cf\u304c\u3069\u3093\u3069\u3093\u5727\u8feb\u3055\u308c\u3066\u3044\u304f\u30fb\u30fb\u30fb\n\u306a\u3093\u3068\u304b\u306a\u3089\u306a\u3044\u304b\u306a\u30fb\u30fb\u30fb\u3002\n\n##\u3068\u308a\u3042\u3048\u305a\u4e0b\u6e96\u5099\n<a href=\"https://www.assetstore.unity3d.com/jp/#!/content/1786\" target=\"_blank\">Photon Unity Networking Free</a>\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\n\n<a href=\"http://photonengine.jp/\" target=\"_blank\">photon</a>\u306e\u30b5\u30a4\u30c8\u3067\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u3092\u3057\u3066\u3001\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3ID\u3092\u3068\u3063\u3066\u304d\u307e\u3059\u3002\n\u7121\u6599\u3060\u306820\u4eba\u540c\u6642\u30a2\u30af\u30bb\u30b9\u307e\u3067\u3002\n![photon1.png](https://qiita-image-store.s3.amazonaws.com/0/46444/fe1561a1-1756-0077-835e-4f35340b8a82.png)\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3ID\u3092\u30b3\u30d4\u30fc\u3057\u3066\nUnity\u4e0a\u304b\u3089winodw->photon Unity Networking->PUN Wizard\u3092\u958b\u304f\n<img width=\"513\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-08 13.43.08.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/46444/3b0df5bc-f849-f1d4-398b-71ff829fc0f7.png\">\n\nAppId or Email\u306e\u6240\u306b\u8cbc\u308a\u4ed8\u3051\u3066SetUp Project\nDone!\u3068\u3067\u308c\u3070\u5b8c\u4e86\n<img width=\"300\" src=\"https://qiita-image-store.s3.amazonaws.com/0/46444/4957f46c-39cb-ecf0-95a6-ec037cad6d77.png\">\n\n\u3053\u308c\u3067\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u304d\u305f\u3084\u3064\u306e\u30c7\u30e2\u306f\u52d5\u304f\u3088\u3002\n\u4e00\u4eba\u3058\u3083\u610f\u5473\u306a\u3044\u304b\u3089Scene\u3092\u5168\u90e8BuildSetting\u306b\u7a81\u3063\u8fbc\u3093\u3067\nDemoHub\u304c\u30e1\u30cb\u30e5\u30fc\u306a\u306e\u3067\u305d\u308c\u3092\u4e00\u756a\u4e0a\u306b\u3057\u3066\u30d3\u30eb\u30c9\u3002\n\n<img width=\"790\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-08 14.07.27.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/46444/5c229e4f-aea5-c57f-5adc-fb0faf5cc5ce.png\">\n\n\u306f\u3044\u3001\u3053\u308cUnity\u4e0a\u306e\u3068\u30d3\u30eb\u30c9\u3057\u305f\u3084\u3064\u8d77\u52d5\u3057\u3066\u4e00\u4eba\u4e8c\u5f79\u5b8c\u6210!\n<img width=\"1332\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-08 14.08.55.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/46444/513deedb-8c31-29d4-a3af-3f8f4a0a92f5.png\">\n\u3053\u308c\u306fDemo Woker\u306e\u30b7\u30fc\u30f3\u3002\u3053\u308c\u306f\u30eb\u30fc\u30e0\u306e\u4f5c\u6210\u306e\u6a5f\u80fd\u3082\u5165\u3063\u3066\u3044\u308b\u3057\u3001\u30c1\u30e3\u30c3\u30c8\u3082\u51fa\u6765\u308b\u3088\u3002\n<img width=\"1391\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-08 14.10.42.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/46444/4d0f8727-73ea-e1be-9c67-c06ccfa46d9f.png\">\n\n<a href=\"https://photonengine.jp/pun-api/index.html\" target=\"_blank\">PUN API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\uff08Ver.1.60\uff09</a>\nPhoton Turnbased\u3063\u3066\u306a\u3044\u306a\u3068\u601d\u3063\u3066\u306a\u3089\u7d42\u308f\u3063\u3066\u305f\u306e\u304b\u30fb\u30fb\u30fb\u3002\n\u3058\u3083\u3041\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3060\u3051\u3067\u3044\u3044\u3084\u3002\n<a href=\"https://photonengine.jp/info/detail.php?no=1463734387\" target=\"_blank\">Photon Turnbased \u65b0\u898f\u53d7\u6ce8\u53d7\u4ed8\u7d42\u4e86\u306e\u3054\u6848\u5185</a>\n\n\n##\u3068\u308a\u3042\u3048\u305a\u30ed\u30b0\u30a4\u30f3\u306e\u4ed5\u65b9\u3092\u30fb\u30fb\u30fb\n\u3046\u30fc\u3093\u3063\u3068\u3001\u307e\u305a\u6700\u521d\u306b\u5fc5\u8981\u306a\u306e\u304c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306e\u8a18\u8f09\u304c\u5fc5\u8981\u3002\n\n```csharp\nPhotonNetwork.ConnectUsingSettings(\"\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\");\n```\n\n```csharp\n//Room\u306b\u53c2\u52a0\nPhotonNetwork.JoinRoom(roomName);\n\n//Room\u3092\u4f5c\u6210\nPhotonNetwork.CreateRoom(roomName);\n//\u65e2\u306b\u5b58\u5728\u3059\u308b\u5834\u5408\u306f\u5931\u6557\u3057\u3001\u3053\u308c\u3092\u30b3\u30fc\u30eb\uff1a: OnPhotonCreateGameFailed\n//CreateRoom\u306e\u5f15\u6570RoomOptions\u3067\u30eb\u30fc\u30e0\u306e\u4eba\u6570\u3092\u8a2d\u5b9a\u3057\u305f\u308a\u3067\u304d\u308b\n\n//\u30e9\u30f3\u30c0\u30e0\u306b\u3069\u306eRoom\u306b\u3067\u3082\u53c2\u52a0\u3059\u308b\nPhotonNetwork.JoinRandomRoom();\n//\u30de\u30c3\u30c1\u3059\u308b\u30b2\u30fc\u30e0\u304c\u7121\u3044\u5834\u5408\u3001\u5931\u6557\u3001\u305d\u3057\u3066\u3053\u308c\u3092\u30b3\u30fc\u30eb\uff1a: OnPhotonRandomJoinFailed\n```\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u4ed8\u304d\u306e\u90e8\u5c4b\u3092\u4f5c\u308a\u305f\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3059\u308c\u3070\u3067\u304d\u308b\u3002\u306a\u308b\u307b\u3069\uff01\n<a href=\"http://blog.photoncloud.jp/allow-invite-user/\">\u62db\u5f85\u8005\u306e\u307f\u30eb\u30fc\u30e0\u3078\u5165\u5ba4\u3092\u8a31\u53ef\u3059\u308b\u65b9\u6cd5</a>\n\n\u30eb\u30fc\u30e0\u306e\u4e00\u89a7\u8868\u793a\n\n```csharp\nforeach (RoomInfo room in PhotonNetwork.GetRoomList())\n{\n    Debug.Log(room.name);  //\u90e8\u5c4b\u540d\n    Debug.Log(room.playerCount); \t//\u90e8\u5c4b\u306e\u5165\u5834\u4eba\u6570\n    Debug.Log(room.maxPlayers);\t //\u6700\u5927\u4eba\u6570\n}\n\n```\n\n##\u304a\u90e8\u5c4b\u4f5c\u3063\u3066\u307f\u3088\u3046\uff01\n\u3068\u308a\u3042\u3048\u305a\u90e8\u5c4b\u4f5c\u308d\u3046\u3068\u601d\u3063\u3066\u3001\u306f\u307e\u308a\u307e\u3057\u305f\u3002\n\u30e9\u30f3\u30c0\u30e0\u3067\u5165\u5ba4\u3084\u90e8\u5c4b\u4f5c\u6210\u306f\u51fa\u6765\u308b\u306e\u306b\u3001\n\u90e8\u5c4b\u4e00\u89a7\u304c\u3069\u3046\u3084\u3063\u3066\u3082\u53d6\u5f97\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u30fb\u30fb\u30fb\u30fb\u3002\n**\u539f\u56e0\u306fPhotonServerSeting\u306eAuto-Join Lobby\u306e\u30c1\u30a7\u30c3\u30af\n\u3053\u308c\u3092\u5165\u308c\u306a\u3044\u3068\u30ed\u30d3\u30fc\u4e00\u89a7\u53d6\u5f97\u3067\u304d\u306a\u3044**\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8-2016-06-08-23.58.35.png](https://qiita-image-store.s3.amazonaws.com/0/46444/ba024499-40eb-47fe-5e89-67fd943d376b.png)\n\n\u3061\u3087\u3063\u3068\u4f5c\u308a\u304c\u3061\u3083\u3063\u3061\u3044\u3051\u3069\u3001\n\u3068\u308a\u3042\u3048\u305a\u540d\u524d\u6c7a\u3081\u3066\u90e8\u5c4b\u306e\u4f5c\u6210\u3001\u90e8\u5c4b\u3078\u306e\u53c2\u52a0\u3001\u30e9\u30f3\u30c0\u30e0\u306a\u90e8\u5c4b\u306b\u53c2\u52a0\u306e\u5b9f\u88c5\u3092\u3057\u305f\n<img src=\"http://ayumegu.daa.jp/img/Qiita/PhotonLobbyTest.gif\">\n\n\u6b21\u306b\u9375\u4ed8\u304d\u306e\u90e8\u5c4b\u3082\u4f5c\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3063\u3066\u308b\u3051\u3069\u307e\u3060\u672a\u5b9f\u88c5\u3002\n\u4e00\u90e8\u3060\u3051\u3069\u30bd\u30fc\u30b9\n\n\u90e8\u5c4b\u3092\u3064\u304f\u308b\u3068\u3053\u308d\n\n```csharp\n\tpublic void CreateRoom(string roomName, int playerCount, string password)\n\t{\n\t\tstring roomNameStr = roomName;\n\t\tif(!string.IsNullOrEmpty(password)) roomNameStr += \"_\" + password;\n\t\tPhotonNetwork.CreateRoom (\n\t\t\troomNameStr, \t// \u30e6\u30cb\u30fc\u30af\u306a\u90e8\u5c4b\u540d\n\t\t\tnew RoomOptions() {maxPlayers = playerCount},\n\t\t\tnull);\n\t}\n\n\tpublic void OnPhotonCreateRoomFailed()\n\t{\n\t\tDebug.Log(\"OnPhotonCreateRoomFailed got called. This can happen if the room exists (even if not visible). Try another room name.\");\n\t}\n\n\tpublic void OnPhotonRandomJoinFailed()\n\t{\n\t\tDebug.Log(\"OnPhotonRandomJoinFailed got called. Happens if no room is available (or all full or invisible or closed). JoinrRandom filter-options can limit available rooms.\");\n\t}\n\n\tpublic void OnCreatedRoom()\n\t{\n\t\tPhotonNetwork.LoadLevel(\"Room\");\n\t}\n```\n\n\u90e8\u5c4b\u306e\u4e00\u89a7\u8868\u793a\u3057\u3066\u3044\u308b\u3068\u3053\u308d\n\n```csharp\n\t\tif (PhotonNetwork.GetRoomList().Length == 0)\n\t\t{\n\t\t\tDebug.LogWarning(\"\u90e8\u5c4b\u306a\u3057\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\tGameObject roomObj = null;\n\t\t\tforeach (RoomInfo room in PhotonNetwork.GetRoomList()) {\n\n\t\t\t\troomObj = Instantiate(Resources.Load(CommonConst.ROOM_ITEM)) as GameObject;\n\t\t\t\troomObj.transform.parent = scrollTran;\n\t\t\t\troomObj.transform.localScale = Vector3.one;\n\t\t\t\troomObj.GetComponent<RoomItem>().SetData(room);\n\n\t\t}\n```\n\n\u30e9\u30f3\u30c0\u30e0\u306a\u90e8\u5c4b\u306b\u5165\u308b\u3068\u3053\u308d\n\n```csharp\n\npublic void RandomEnter()\n\t{\n\t\tPhotonNetwork.JoinRandomRoom();\n\t}\n\n\tpublic void OnJoinedRoom()\n\t{\n\t\tDebug.Log(\"OnJoinedRoom\");\n\t\tPhotonNetwork.LoadLevel(\"Room\");\n\t}\n\n\tpublic void OnPhotonRandomJoinFailed()\n\t{\n\t\tDebug.Log(\"OnPhotonRandomJoinFailed got called. Happens if no room is available (or all full or invisible or closed). JoinrRandom filter-options can limit available rooms.\");\n\t}\n```\n\n\u90e8\u5c4b\u306b\u5165\u308b\u3068\u3053\u308d\n\n```csharp\n\tpublic void Join()\n\t{\n\t\tPhotonNetwork.JoinRoom(roomData.name);\n\t}\n\n\t// We have two options here: we either joined(by title, list or random) or created a room.\n\tpublic void OnJoinedRoom()\n\t{\n\t\tApplication.LoadLevel(\"Room\");\n\t}\n\n\tpublic void OnPhotonJoinRoomFailed(object[] cause)\n\t{\n\t\tDebug.Log(\"OnPhotonJoinRoomFailed got called. This can happen if the room is not existing or full or closed.\");\n\t}\n```\n\nmac\u306e\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30fc\u30f3\u3067\u30d3\u30eb\u30c9\u3057\u305f\u3084\u3064\u3067\u3082\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u3053\u3093\u306a\u611f\u3058\u3067\nopen -n Test.app\n\u4f5c\u3063\u305f\u30a2\u30d7\u30ea\u306e\u540d\u524d\u3092\u53e9\u3051\u3070\u8907\u6570\u8d77\u52d5\u3067\u304d\u308b\u304b\u3089\u4e00\u4eba\u3067\u8cd1\u3084\u304b\u306b\u904a\u3079\u308b\u3088!\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-06-09 00.34.45.png](https://qiita-image-store.s3.amazonaws.com/0/46444/872cd3e0-ebbf-6335-fa3d-b900d45b2a60.png)\n\n\n##\u3061\u306a\u307f\u306b\u90e8\u5c4b\u306b\u5165\u3063\u3066\u304b\u3089\u90e8\u5c4b\u3092\u629c\u3051\u308b\u3068\u304d\u306f\n```csharp\n  // \u3053\u308c\u3067\u90e8\u5c4b\u3092\u629c\u3051\u3066\n  PhotonNetwork.LeaveRoom();  \n  // \u629c\u3051\u3089\u308c\u305f\u3089\u3053\u306e\u95a2\u6570\u304c\u3088\u3070\u308c\u308b\u304b\u3089\u3053\u3053\u3067\u30b7\u30fc\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\u306a\u308a\u3059\u308b\n  public void OnLeftRoom()\n  {\n  }\n```\n\n\u75b2\u308c\u305f\u306e\u3067\u4e00\u65e6\u3053\u3053\u307e\u3067\u3002\u30b9\u30de\u30db\u3067\u8a66\u3059\u4f59\u529b\u3082\u306a\u304b\u3063\u305fw\n\u6b21\u306f\u9375\u4ed8\u304d\u306e\u304a\u90e8\u5c4b\u306b\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3088\u3046\u304b\u306a\n\n###\u4f59\u8ac7\u30fb\u30fb\u30fb\n\u30b9\u30de\u30db\u3067\u30d3\u30eb\u30c9\u3057\u3088\u3046\u3068\u304a\u3082\u3063\u3066\u3001\u3044\u3064\u3082\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b\nFast Platform Switch\n\u3092\u4f7f\u304a\u3046\u3068\u3057\u305f\u3089\u3001\u8ca9\u58f2\u4e2d\u6b62\u306b\u306a\u3063\u3066\u304a\u3063\u305f\u30fb\u30fb\u30fb\u3002\n\u3053\u3046\u3044\u3046\u3053\u3068\u304c\u3042\u308b\u304b\u3089\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u6d88\u305b\u306a\u3044\u30fb\u30fb\u30fb\u3002\nAsset Store-5.x\u3060\u3051\u306744GB\u3082\u4f7f\u3063\u3066\u3044\u308b;w;\u5bb9\u91cf\u304c\u3069\u3093\u3069\u3093\u5727\u8feb\u3055\u308c\u3066\u3044\u304f\u30fb\u30fb\u30fb\n\u306a\u3093\u3068\u304b\u306a\u3089\u306a\u3044\u304b\u306a\u30fb\u30fb\u30fb\u3002\n", "tags": ["Unity", "Photon"]}