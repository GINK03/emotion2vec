{"context": "Vagrant\u3092Hyper-V\u3067\u52d5\u304b\u305d\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u3044\u304f\u3064\u304b\u30cf\u30de\u3063\u305f\u306e\u3067\u3001\u4e00\u901a\u308a\u306e\u6d41\u308c\u3092\u30e1\u30e2\u3002\n\n\u74b0\u5883\n\n\u30db\u30b9\u30c8OS\u2026Windows 10 Pro\n\u30b2\u30b9\u30c8OS\u2026CentOS 7\n\u30bf\u30fc\u30df\u30ca\u30eb\u2026Git Bash\n\n\nHyper-V\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u300c\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u6a5f\u80fd\u300d\u2192\u300cWindows\u306e\u6a5f\u80fd\u306e\u6709\u52b9\u5316\u307e\u305f\u306f\u7121\u52b9\u5316\u300d\u304b\u3089\u300cHyper-V\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\u3002\u3082\u3057\u300cHyper-V \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u300d\u306b\u30c1\u30a7\u30c3\u30af\u304c\u5165\u308c\u3089\u308c\u306a\u3044\u5834\u5408\u3001BIOS\u306e\u8a2d\u5b9a\u3067\u4eee\u60f3\u5316\u652f\u63f4\u6a5f\u80fd(Intel VT-d)\u3092\u30aa\u30f3\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\n\u4eee\u60f3\u30b9\u30a4\u30c3\u30c1\u306e\u4f5c\u6210\n\u300cHyper-V \u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u300d\u3092\u7acb\u3061\u4e0a\u3052\u30661\u3001\u5de6\u5074\u306e\u30c4\u30ea\u30fc\u304b\u3089\u81ea\u30de\u30b7\u30f3\u3092\u9078\u629e\u3001\u53f3\u5074\u306e\u300c\u4eee\u60f3\u30b9\u30a4\u30c3\u30c1\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u300d\u3092\u958b\u304f\u3002Vagrant\u3067\u4f5c\u6210\u3057\u305f\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u5916\u90e8\u3068\u901a\u4fe1\u3055\u305b\u305f\u3044\u306e\u3067\u3001\u300c\u5916\u90e8\u300d\u3092\u9078\u629e\u3057\u3066\u4eee\u60f3\u30b9\u30a4\u30c3\u30c1\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002\n\nVagrant\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVagrant\u306e\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3092\u843d\u3068\u3057\u3066\u304d\u3066\u5b9f\u884c\u3059\u308b\u3002\u518d\u8d77\u52d5\u3059\u308b\u3068\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3084PowerShell\u3001Git Bash\u304b\u3089vagrant\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u3002\u305f\u3060\u3057\u3001Hyper-V\u3092\u4f7f\u3046\u3068\u304d\u306f\u7ba1\u7406\u8005\u6a29\u9650\u3067\u8d77\u52d5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u3002\n\nHyper-V also requires that you execute Vagrant with administrative privileges. Creating and managing virtual machines with Hyper-V requires admin rights. Vagrant will show you an error if it does not have the proper permissions.\nUsage - Hyper-V Provider - Vagrant by HashiCorp\n\n\u4ee5\u5f8c\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3059\u3079\u3066\u7ba1\u7406\u8005\u6a29\u9650\u3067\u8d77\u52d5\u3057\u305fGit Bash\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u308b\u3002\n\ninit\nProvider\u306bHyper-V\u304c\u9078\u3079\u308bCentOS 7\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4eca\u56de\u306fserveit/centos-7\u3092\u4f7f\u3046\u3002\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u3064\u304f\u308a\u3001Vagrant\u306bbox\u3092\u8ffd\u52a0\u3057\u3066\u521d\u671f\u5316\u3059\u308b\u3002\n$ mkdir Vagrant\n$ cd Vagrant\n$ vagrant box add serveit/centos-7\n$ vagrant init serveit/centos-7\n\n\nup\u2026\u306e\u524d\u306b\n\u901a\u5e38\u3067\u3042\u308c\u3070\u3053\u306e\u307e\u307evagrant up\u3059\u308b\u3068\u3053\u308d\u3060\u304c\u3001\u4eca\u56de\u306e\u74b0\u5883\u3067\u306f2\u3064\u307b\u3069\u554f\u984c\u304c\u8d77\u304d\u3066\u52d5\u304b\u306a\u3044\u306e\u3067\u5148\u306b\u4fee\u6b63\u3059\u308b\u3002\n\nget_vm_status.ps1\u306e\u4fee\u6b63\n\u3053\u306e\u624b\u9806\u306fVagrant 1.8.5\u304b\u3089\u4e0d\u8981\u306b\u306a\u308a\u307e\u3057\u305f(2016/07/27)\nWindows 10\u304b\u3089Hyper-V\u306e\u8a2d\u5b9a\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u304c\u5909\u308f\u3063\u305f\u3089\u3057\u304f\u3001\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u60c5\u5831\u53d6\u5f97\u306b\u5931\u6557\u3059\u308b\u3002\nAn error occurred while executing a PowerShell script. This error\nis shown below. Please read the error message and see if this is\na configuration error with your system. If it is not, then please\nreport a bug.\n\nScript: get_vm_status.ps1\nError:\n\n\u767a\u751f\u5834\u6240 C:\\HashiCorp\\Vagrant\\embedded\\gems\\gems\\vagrant-1.8.4\\plugins\\providers\\hyperv\\scripts\\get_vm_status.ps1:21 \u6587\u5b57:8\n+ } catch $ExceptionType {\n+        ~\nCatch \u30d6\u30ed\u30c3\u30af\u306b\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8 \u30d6\u30ed\u30c3\u30af\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\u767a\u751f\u5834\u6240 C:\\HashiCorp\\Vagrant\\embedded\\gems\\gems\\vagrant-1.8.4\\plugins\\providers\\hyperv\\scripts\\get_vm_status.ps1:21 \u6587\u5b57:24\n+ } catch $ExceptionType {\n+                        ~\n\u5f0f\u307e\u305f\u306f\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30c8\u30fc\u30af\u30f3 '{' \u3092\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\n    + CategoryInfo          : ParserError: (:) [], ParseException\n    + FullyQualifiedErrorId : MissingCatchHandlerBlock\n\n\u5bfe\u7b56\u3068\u3057\u3066\u306f\u3001\u65e2\u306b\u4fee\u6b63\u6e08\u307f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u4f5c\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u3053\u308c\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u3066get_vm_status.ps1\u3092\u7f6e\u304d\u63db\u3048\u308b\u3002\u3053\u306e\u554f\u984c\u306fVagrant\u306e\u6b21\u306e\u30ea\u30ea\u30fc\u30b9(1.8.5?)\u3067\u4fee\u6b63\u3055\u308c\u308b\u306f\u305a\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u30d5\u30a1\u30a4\u30eb\u5171\u6709\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\nHyper-V\u3092\u4f7f\u3046\u5834\u5408\u3001\u30db\u30b9\u30c8OS-\u30b2\u30b9\u30c8OS\u9593\u306e\u30d5\u30a1\u30a4\u30eb\u5171\u6709\u306f\u300c\u30db\u30b9\u30c8OS\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092samba\u3067\u5171\u6709\u3057\u3066\u30b2\u30b9\u30c8OS\u304b\u3089\u30a2\u30af\u30bb\u30b9\u300d\u3068\u3044\u3046\u65b9\u6cd5\u306b\u306a\u308b\u306e\u3060\u304c\u3001\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u8a2d\u5b9a\u306b\u5931\u6557\u3059\u308b\u3002\n==> default: Mounting SMB shared folders...\n(\u7701\u7565)\nThe error output from the last command was:\n\nmount: wrong fs type, bad option, bad superblock on //192.168.***.*/*********************************,\n       missing codepage or helper program, or other error\n       (for several filesystems (e.g. nfs, cifs) you might\n       need a /sbin/mount.<type> helper program)\n\n       In some cases useful info is found in syslog - try\n       dmesg | tail or so.\n\n\u3069\u3046\u3084\u3089Vagrant\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.8\u304b\u3089samba\u306e\u8a8d\u8a3c\u65b9\u6cd5\u3092\u5909\u66f4\u3057\u305f\u306e\u3060\u304c\u3001box\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bsamba\u304c\u65b0\u3057\u3044\u8a8d\u8a3c\u65b9\u6cd5\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u306b\u3053\u306e\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u308b(\u3089\u3057\u3044)\u3002\n\nVagrant 1.8 changed SMB mounting to use the more secure credential file mechanism. However, many operating systems ship with an outdated filesystem type for SMB out of the box which does not support this.\nSMB - Synced Folders - Vagrant by HashiCorp\n\n\u3053\u306e\u554f\u984c\u306f\u3001Vagrantfile\u306e\u30d5\u30a1\u30a4\u30eb\u5171\u6709\u8a2d\u5b9a\u3067mount_options\u306b\u30db\u30b9\u30c8OS\u306e\u30e6\u30fc\u30b6\u540d(USERNAME)\u3068\u30d1\u30b9\u30ef\u30fc\u30c9(PASSWORD)\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u56de\u907f\u3067\u304d\u308b\u3002\u305f\u3060\u3057\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5e73\u6587\u3067\u8a18\u9332\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7684\u306b\u306f\u597d\u307e\u3057\u304f\u306a\u3044\u3002\u30b2\u30b9\u30c8OS\u5074\u306esamba\u3092\u66f4\u65b0\u3059\u308c\u3070\u3044\u3044\u3088\u3046\u306a\u6c17\u3082\u3059\u308b\u306e\u3067\u8981\u8abf\u67fb\u3002\n\nVagrantfile\nVagrant.configure(\"2\") do |config|\n  (\u7701\u7565)\n  config.vm.synced_folder \".\", \"/vagrant\", type: \"smb\", mount_options: [\"username=USERNAME\",\"password=PASSWORD\"]\n  (\u7701\u7565)\nend\n\n\n\nup & ssh\n\u3053\u3053\u307e\u3067\u304d\u305f\u3089\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u7acb\u3061\u4e0a\u3052\u3066SSH\u3067\u5165\u308c\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002up\u3059\u308b\u3068\u304d\u306b--provider=hyperv\u3092\u3064\u3051\u308b\u306e\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3002\u3064\u3051\u5fd8\u308c\u308b\u3068VirtualBox\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3059\u308b\u306e\u3067\u3001Ctrl+C\u3067\u6b62\u3081\u308b\u3002\n$ vagrant up --provider=hyperv\n(\u9014\u4e2d\u3067\u30db\u30b9\u30c8OS\u306e\u30e6\u30fc\u30b6\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u805e\u304b\u308c\u308b\u306e\u3067\u5165\u529b)\n\n$ vagrant ssh\n[vagrant@centos7 vagrant]$\n\n\u30db\u30b9\u30c8OS\u306eVagrantfile\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30b2\u30b9\u30c8OS\u306e/vagrant\u304c\u5171\u6709\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001\u9069\u5f53\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u305f\u308a\u3057\u3066\u52d5\u4f5c\u3092\u78ba\u304b\u3081\u308b\u3068\u826f\u3044\u3002\n\n\u305d\u306e\u4ed6\n\nGit Bash\u3060\u3068up\u306e\u9014\u4e2d\u3067\u5165\u529b\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u96a0\u308c\u306a\u3044(Your console doesn't support hiding input.\u3089\u3057\u3044)\n\u4eee\u60f3\u30de\u30b7\u30f3\u306eIP\u3092\u56fa\u5b9a\u3067\u304d\u306a\u3044\uff1f\n\n\n\n\n\nWindows+Q\u3067Cortana\u3092\u51fa\u3057\u3066\u300chyper-v\u300d\u3067\u691c\u7d22\u3059\u308b\u3068\u30e9\u30af\u00a0\u21a9\n\n\n\nVagrant\u3092Hyper-V\u3067\u52d5\u304b\u305d\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u3044\u304f\u3064\u304b\u30cf\u30de\u3063\u305f\u306e\u3067\u3001\u4e00\u901a\u308a\u306e\u6d41\u308c\u3092\u30e1\u30e2\u3002\n\n# \u74b0\u5883\n- \u30db\u30b9\u30c8OS\u2026Windows 10 Pro\n- \u30b2\u30b9\u30c8OS\u2026CentOS 7\n- \u30bf\u30fc\u30df\u30ca\u30eb\u2026Git Bash\n\n# Hyper-V\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u300c\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u6a5f\u80fd\u300d\u2192\u300cWindows\u306e\u6a5f\u80fd\u306e\u6709\u52b9\u5316\u307e\u305f\u306f\u7121\u52b9\u5316\u300d\u304b\u3089\u300cHyper-V\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\u3002\u3082\u3057\u300cHyper-V \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u300d\u306b\u30c1\u30a7\u30c3\u30af\u304c\u5165\u308c\u3089\u308c\u306a\u3044\u5834\u5408\u3001BIOS\u306e\u8a2d\u5b9a\u3067\u4eee\u60f3\u5316\u652f\u63f4\u6a5f\u80fd(Intel VT-d)\u3092\u30aa\u30f3\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n![hyperv.png](https://qiita-image-store.s3.amazonaws.com/0/116906/9b0193e9-fd5a-2ab7-9484-3f51d405b588.png)\n## \u4eee\u60f3\u30b9\u30a4\u30c3\u30c1\u306e\u4f5c\u6210\n\u300cHyper-V \u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u300d\u3092\u7acb\u3061\u4e0a\u3052\u3066[^1]\u3001\u5de6\u5074\u306e\u30c4\u30ea\u30fc\u304b\u3089\u81ea\u30de\u30b7\u30f3\u3092\u9078\u629e\u3001\u53f3\u5074\u306e\u300c\u4eee\u60f3\u30b9\u30a4\u30c3\u30c1\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u300d\u3092\u958b\u304f\u3002Vagrant\u3067\u4f5c\u6210\u3057\u305f\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u5916\u90e8\u3068\u901a\u4fe1\u3055\u305b\u305f\u3044\u306e\u3067\u3001\u300c\u5916\u90e8\u300d\u3092\u9078\u629e\u3057\u3066\u4eee\u60f3\u30b9\u30a4\u30c3\u30c1\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002\n\n# Vagrant\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[Vagrant\u306e\u516c\u5f0f\u30b5\u30a4\u30c8](https://www.vagrantup.com/downloads.html)\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3092\u843d\u3068\u3057\u3066\u304d\u3066\u5b9f\u884c\u3059\u308b\u3002\u518d\u8d77\u52d5\u3059\u308b\u3068\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3084PowerShell\u3001Git Bash\u304b\u3089`vagrant`\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u3002\u305f\u3060\u3057\u3001Hyper-V\u3092\u4f7f\u3046\u3068\u304d\u306f**\u7ba1\u7406\u8005\u6a29\u9650\u3067\u8d77\u52d5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b**\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u3002\n\n> Hyper-V also requires that you execute Vagrant with administrative privileges. Creating and managing virtual machines with Hyper-V requires admin rights. Vagrant will show you an error if it does not have the proper permissions.\n> [Usage - Hyper-V Provider - Vagrant by HashiCorp](https://www.vagrantup.com/docs/hyperv/usage.html)\n\n\u4ee5\u5f8c\u306e\u30b3\u30de\u30f3\u30c9\u306f\u3059\u3079\u3066\u7ba1\u7406\u8005\u6a29\u9650\u3067\u8d77\u52d5\u3057\u305fGit Bash\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u308b\u3002\n\n## init\nProvider\u306bHyper-V\u304c\u9078\u3079\u308bCentOS 7\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4eca\u56de\u306f`serveit/centos-7`\u3092\u4f7f\u3046\u3002\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u3064\u304f\u308a\u3001Vagrant\u306bbox\u3092\u8ffd\u52a0\u3057\u3066\u521d\u671f\u5316\u3059\u308b\u3002\n\n```\n$ mkdir Vagrant\n$ cd Vagrant\n$ vagrant box add serveit/centos-7\n$ vagrant init serveit/centos-7\n```\n\n## up\u2026\u306e\u524d\u306b\n\u901a\u5e38\u3067\u3042\u308c\u3070\u3053\u306e\u307e\u307e`vagrant up`\u3059\u308b\u3068\u3053\u308d\u3060\u304c\u3001\u4eca\u56de\u306e\u74b0\u5883\u3067\u306f2\u3064\u307b\u3069\u554f\u984c\u304c\u8d77\u304d\u3066\u52d5\u304b\u306a\u3044\u306e\u3067\u5148\u306b\u4fee\u6b63\u3059\u308b\u3002\n\n### get_vm_status.ps1\u306e\u4fee\u6b63\n\n**\u3053\u306e\u624b\u9806\u306fVagrant 1.8.5\u304b\u3089\u4e0d\u8981\u306b\u306a\u308a\u307e\u3057\u305f(2016/07/27)**\nWindows 10\u304b\u3089Hyper-V\u306e\u8a2d\u5b9a\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u304c\u5909\u308f\u3063\u305f\u3089\u3057\u304f\u3001\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u60c5\u5831\u53d6\u5f97\u306b\u5931\u6557\u3059\u308b\u3002\n\n```\nAn error occurred while executing a PowerShell script. This error\nis shown below. Please read the error message and see if this is\na configuration error with your system. If it is not, then please\nreport a bug.\n\nScript: get_vm_status.ps1\nError:\n\n\u767a\u751f\u5834\u6240 C:\\HashiCorp\\Vagrant\\embedded\\gems\\gems\\vagrant-1.8.4\\plugins\\providers\\hyperv\\scripts\\get_vm_status.ps1:21 \u6587\u5b57:8\n+ } catch $ExceptionType {\n+        ~\nCatch \u30d6\u30ed\u30c3\u30af\u306b\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8 \u30d6\u30ed\u30c3\u30af\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\u767a\u751f\u5834\u6240 C:\\HashiCorp\\Vagrant\\embedded\\gems\\gems\\vagrant-1.8.4\\plugins\\providers\\hyperv\\scripts\\get_vm_status.ps1:21 \u6587\u5b57:24\n+ } catch $ExceptionType {\n+                        ~\n\u5f0f\u307e\u305f\u306f\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30c8\u30fc\u30af\u30f3 '{' \u3092\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\n    + CategoryInfo          : ParserError: (:) [], ParseException\n    + FullyQualifiedErrorId : MissingCatchHandlerBlock\n```\n\n\u5bfe\u7b56\u3068\u3057\u3066\u306f\u3001[\u65e2\u306b\u4fee\u6b63\u6e08\u307f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u4f5c\u3089\u308c\u3066\u3044\u308b](https://github.com/codekaizen/vagrant/blob/d3859a33aa37aa238fd4022a3ad4e7546f149570/plugins/providers/hyperv/scripts/get_vm_status.ps1)\u306e\u3067\u3053\u308c\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u3066`get_vm_status.ps1`\u3092\u7f6e\u304d\u63db\u3048\u308b\u3002\u3053\u306e\u554f\u984c\u306fVagrant\u306e\u6b21\u306e\u30ea\u30ea\u30fc\u30b9(1.8.5?)\u3067\u4fee\u6b63~~\u3055\u308c\u308b\u306f\u305a~~\u3055\u308c\u307e\u3057\u305f\u3002\n\n### \u30d5\u30a1\u30a4\u30eb\u5171\u6709\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\nHyper-V\u3092\u4f7f\u3046\u5834\u5408\u3001\u30db\u30b9\u30c8OS-\u30b2\u30b9\u30c8OS\u9593\u306e\u30d5\u30a1\u30a4\u30eb\u5171\u6709\u306f\u300c\u30db\u30b9\u30c8OS\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092samba\u3067\u5171\u6709\u3057\u3066\u30b2\u30b9\u30c8OS\u304b\u3089\u30a2\u30af\u30bb\u30b9\u300d\u3068\u3044\u3046\u65b9\u6cd5\u306b\u306a\u308b\u306e\u3060\u304c\u3001\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u8a2d\u5b9a\u306b\u5931\u6557\u3059\u308b\u3002\n\n```\n==> default: Mounting SMB shared folders...\n(\u7701\u7565)\nThe error output from the last command was:\n\nmount: wrong fs type, bad option, bad superblock on //192.168.***.*/*********************************,\n       missing codepage or helper program, or other error\n       (for several filesystems (e.g. nfs, cifs) you might\n       need a /sbin/mount.<type> helper program)\n\n       In some cases useful info is found in syslog - try\n       dmesg | tail or so.\n```\n\n\u3069\u3046\u3084\u3089Vagrant\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.8\u304b\u3089samba\u306e\u8a8d\u8a3c\u65b9\u6cd5\u3092\u5909\u66f4\u3057\u305f\u306e\u3060\u304c\u3001box\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bsamba\u304c\u65b0\u3057\u3044\u8a8d\u8a3c\u65b9\u6cd5\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u306b\u3053\u306e\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u308b(\u3089\u3057\u3044)\u3002\n\n> Vagrant 1.8 changed SMB mounting to use the more secure credential file mechanism. However, many operating systems ship with an outdated filesystem type for SMB out of the box which does not support this.\n> [SMB - Synced Folders - Vagrant by HashiCorp](https://www.vagrantup.com/docs/synced-folders/smb.html)\n\n\u3053\u306e\u554f\u984c\u306f\u3001`Vagrantfile`\u306e\u30d5\u30a1\u30a4\u30eb\u5171\u6709\u8a2d\u5b9a\u3067`mount_options`\u306b\u30db\u30b9\u30c8OS\u306e\u30e6\u30fc\u30b6\u540d(USERNAME)\u3068\u30d1\u30b9\u30ef\u30fc\u30c9(PASSWORD)\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u56de\u907f\u3067\u304d\u308b\u3002\u305f\u3060\u3057\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5e73\u6587\u3067\u8a18\u9332\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7684\u306b\u306f\u597d\u307e\u3057\u304f\u306a\u3044\u3002\u30b2\u30b9\u30c8OS\u5074\u306esamba\u3092\u66f4\u65b0\u3059\u308c\u3070\u3044\u3044\u3088\u3046\u306a\u6c17\u3082\u3059\u308b\u306e\u3067\u8981\u8abf\u67fb\u3002\n\n```yaml:Vagrantfile\nVagrant.configure(\"2\") do |config|\n  (\u7701\u7565)\n  config.vm.synced_folder \".\", \"/vagrant\", type: \"smb\", mount_options: [\"username=USERNAME\",\"password=PASSWORD\"]\n  (\u7701\u7565)\nend\n```\n\n## up & ssh\n\u3053\u3053\u307e\u3067\u304d\u305f\u3089\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u7acb\u3061\u4e0a\u3052\u3066SSH\u3067\u5165\u308c\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002**`up`\u3059\u308b\u3068\u304d\u306b`--provider=hyperv`\u3092\u3064\u3051\u308b\u306e\u3092\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3002**\u3064\u3051\u5fd8\u308c\u308b\u3068VirtualBox\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3059\u308b\u306e\u3067\u3001Ctrl+C\u3067\u6b62\u3081\u308b\u3002\n\n```\n$ vagrant up --provider=hyperv\n(\u9014\u4e2d\u3067\u30db\u30b9\u30c8OS\u306e\u30e6\u30fc\u30b6\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u805e\u304b\u308c\u308b\u306e\u3067\u5165\u529b)\n\n$ vagrant ssh\n[vagrant@centos7 vagrant]$\n```\n\n\u30db\u30b9\u30c8OS\u306e`Vagrantfile`\u304c\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30b2\u30b9\u30c8OS\u306e`/vagrant`\u304c\u5171\u6709\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3067\u3001\u9069\u5f53\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u305f\u308a\u3057\u3066\u52d5\u4f5c\u3092\u78ba\u304b\u3081\u308b\u3068\u826f\u3044\u3002\n\n# \u305d\u306e\u4ed6\n- Git Bash\u3060\u3068`up`\u306e\u9014\u4e2d\u3067\u5165\u529b\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u96a0\u308c\u306a\u3044(`Your console doesn't support hiding input.`\u3089\u3057\u3044)\n- \u4eee\u60f3\u30de\u30b7\u30f3\u306eIP\u3092\u56fa\u5b9a\u3067\u304d\u306a\u3044\uff1f\n\n[^1]: Windows+Q\u3067Cortana\u3092\u51fa\u3057\u3066\u300chyper-v\u300d\u3067\u691c\u7d22\u3059\u308b\u3068\u30e9\u30af\n", "tags": ["vagrant", "Windows10", "Hyper-V"]}