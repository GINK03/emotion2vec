{"context": "\n\njava\u306e\u5217\u6319\u578b enum\n\nC\u8a00\u8a9e\u306e\u30dd\u30a4\u30f3\u30bf\u914d\u5217\u306b\u7591\u4f3c\u3059\u308bjava\u306e\u7aae\u82e6\u3002\u3002\n\nFunctions.java\npackage method.call;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport method.call.Jumper.__EnumFunc__;\n\npublic class Functions {\n    // Entry 01\n    public void method_func_01(Map<String, String> par) {\n        System.out.printf(\"\\t<result>01 done.</result>%n\\t<arguments>%s</arguments>%n\", par);\n    }\n\n    public Map<String, String> parameters_func_01(__EnumFunc__ e) {\n        return safetyMap(e.getParameter());\n    }\n\n    // Entry 02\n    public void method_func_02(ParameterFunction02 par) {\n        System.out.printf(\"\\t<result>02 done.</result>%n\\t<arguments>%s</arguments>%n\", par);\n    }\n\n    public ParameterFunction02 parameters_func_02(__EnumFunc__ e) {\n        Object p = e.getParameter();\n        return (p instanceof ParameterFunction02) ? (ParameterFunction02)p : new ParameterFunction02();\n    }\n\n    // Entry 03\n    public void method_func_03(Map<String, String> par) {\n        System.out.printf(\"\\t<result>03 done.</result>%n\\t<arguments>%s</arguments>%n\", par);\n    }\n\n    public Map<String, String> parameters_func_03(__EnumFunc__ e) {\n        return safetyMap(e.getParameter());\n    }\n\n    static <K, V> Map<K, V> safetyMap(Object objectMap) {\n        if (objectMap == null) {\n            return null;\n        }\n\n        @SuppressWarnings(\"unchecked\")\n        Map<K, V> map = (Map<K, V>) (objectMap);\n\n        return new HashMap<K, V>(map);\n    }\n}\n\n\n\n\nParameterFunction02.java\npackage method.call;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class ParameterFunction02 {\n    String s1;\n    String s2;\n    Map<String, Object> o1 = new HashMap<String, Object>();\n\n    public String toString() {\n        StringBuffer work = new StringBuffer(128);\n        work.append(\"s1=\").append(\"[\").append(s1).append(\"],\");\n        work.append(\"s2=\").append(\"[\").append(s2).append(\"],\");\n        work.append(\"o1=\").append(\"[\").append(o1).append(\"]\");\n\n        return work.toString();\n    }\n}\n\n\n\n\nJumper.java\npackage method.call;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.TreeMap;\n\npublic class Jumper extends Functions {\n\n    public static void main(String[] args) throws Exception {\n        Jumper j = new Jumper();\n        j.mainEntry();\n    }\n\n\n    public void mainEntry() throws Exception {\n        List<__EnumFunc__> listFunc = new ArrayList<__EnumFunc__>();\n\n        Map<String, Object> info = buildRunData();\n\n        for (Iterator<Entry<String, Object>> it = info.entrySet().iterator(); it.hasNext();) {\n            setEntryData(listFunc, it.next());\n        }\n\n        System.out.println();\n\n        for (__EnumFunc__ entry : listFunc) {\n            System.out.printf(\"<%s parameter=\\\"%s\\\">%n\", entry.strLabel, entry.getParameter());\n            entry.call(this, entry);\n            System.out.printf(\"</%s>%n%n\", entry.strLabel);\n        }\n    }\n\n    private Map<String, Object> buildRunData() {\n        Map<String, Object> info = new TreeMap<String, Object>();\n\n        info.put(\"__Entry_01__\", new HashMap<String, Object>(2){\n            private static final long serialVersionUID = 1L;\n            {\n                put(\"pkey1\", 123456);\n                put(\"pkey2\", \"abcd\");\n            } \n        });\n        info.put(\"__Entry_02__\", new ParameterFunction02() {\n            {\n                this.s1 = \"A01\";\n                this.s2 = \"B99\";\n                this.o1.put(\"key3\", 654321);\n                this.o1.put(\"key4\", \"dcba\");\n            }\n        });\n        info.put(\"__Entry_03__\", new HashMap<String, Object>(3){\n            private static final long serialVersionUID = 1L;\n            {\n                put(\"pkey1\", 123456);\n                put(\"pkey2\", \"abcd\");\n                put(\"pkey3\", 2);\n            } \n        });\n\n        return info;\n    }\n\n    private __EnumFunc__ setEntryData(List<__EnumFunc__> list, Entry<String, Object> e) {\n        String key = e.getKey();\n\n        __EnumFunc__ eFunc = __EnumFunc__.safeValueOf(key); \n\n        if (eFunc.intValue >= 0) {\n            System.out.printf(\"[setEntryData]key:%s, parameter = (%s)%n\", key, e.getValue());\n            eFunc.putParameter(e.getValue());\n            list.add( eFunc ); \n        }\n\n        return eFunc;\n    }\n\n    private static final String __NoEntry__ = \"NoFunction\";\n    private static final String __Lable01__ = \"Function01\";\n    private static final String __Lable02__ = \"Function02\";\n    private static final String __Lable03__ = \"Function03\";\n\n    enum __EnumFunc__ {\n          __Entry_01__ ( 1, __Lable01__) { void call(Jumper me, method.call.Jumper.__EnumFunc__ e) throws Exception {me.method_func_01 (me.parameters_func_01 (e)); } }\n        , __Entry_02__ ( 2, __Lable02__) { void call(Jumper me, method.call.Jumper.__EnumFunc__ e) throws Exception {me.method_func_02 (me.parameters_func_02 (e)); } }\n        , __Entry_03__ ( 3, __Lable03__) { void call(Jumper me, method.call.Jumper.__EnumFunc__ e) throws Exception {me.method_func_03 (me.parameters_func_03 (e)); } }\n        , __Excluded__ (-1, __NoEntry__)\n        ;\n\n        private int intValue;\n        private String strLabel;\n\n        private Object parameter;\n\n        private __EnumFunc__(int n, String s) {\n            this.intValue = n;\n            this.strLabel = s;\n        }\n\n        void putParameter(Object v) {\n            this.parameter = v;\n        }\n\n        int getValue() {\n            return this.intValue;\n        }\n\n        String getLabel() {\n            return this.strLabel;\n        }\n\n        Object getParameter() {\n            return this.parameter;\n        }\n\n        static __EnumFunc__ safeValueOf(final String s) {\n            __EnumFunc__ funcJumper = __Excluded__;\n\n            try {\n                funcJumper = method.call.Jumper.__EnumFunc__.valueOf(s);\n            } catch (Exception e) {\n            }\n\n            return funcJumper;\n        }\n\n        void call(Jumper me, method.call.Jumper.__EnumFunc__ e) throws Exception {\n            return;\n        }\n    }\n}\n\n\n\n\u5b9f\u884c\u7d50\u679c\uff1a\n[setEntryData]key:Entry_01, parameter = ({pkey2=abcd, pkey1=123456})\n[setEntryData]key:Entry_02, parameter = (s1=[A01],s2=[B99],o1=[{key4=dcba, key3=654321}])\n[setEntryData]key:Entry_03, parameter = ({pkey3=2, pkey2=abcd, pkey1=123456})\n\n<Function01 parameter=\"{pkey2=abcd, pkey1=123456}\">\n    <result>01 done.</result>\n    <arguments>{pkey2=abcd, pkey1=123456}</arguments>\n</Function01>\n\n<Function02 parameter=\"s1=[A01],s2=[B99],o1=[{key4=dcba, key3=654321}]\">\n    <result>02 done.</result>\n    <arguments>s1=[A01],s2=[B99],o1=[{key4=dcba, key3=654321}]</arguments>\n</Function02>\n\n<Function03 parameter=\"{pkey3=2, pkey2=abcd, pkey1=123456}\">\n    <result>03 done.</result>\n    <arguments>{pkey3=2, pkey2=abcd, pkey1=123456}</arguments>\n</Function03>\n\n#java\u306e\u5217\u6319\u578b enum\n\nC\u8a00\u8a9e\u306e\u30dd\u30a4\u30f3\u30bf\u914d\u5217\u306b\u7591\u4f3c\u3059\u308bjava\u306e\u7aae\u82e6\u3002\u3002\n---\n```java:Functions.java\npackage method.call;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport method.call.Jumper.__EnumFunc__;\n\npublic class Functions {\n\t// Entry 01\n\tpublic void method_func_01(Map<String, String> par) {\n\t\tSystem.out.printf(\"\\t<result>01 done.</result>%n\\t<arguments>%s</arguments>%n\", par);\n\t}\n\n\tpublic Map<String, String> parameters_func_01(__EnumFunc__ e) {\n\t\treturn safetyMap(e.getParameter());\n\t}\n\t\n\t// Entry 02\n\tpublic void method_func_02(ParameterFunction02 par) {\n\t\tSystem.out.printf(\"\\t<result>02 done.</result>%n\\t<arguments>%s</arguments>%n\", par);\n\t}\n\t\n\tpublic ParameterFunction02 parameters_func_02(__EnumFunc__ e) {\n\t\tObject p = e.getParameter();\n\t\treturn (p instanceof ParameterFunction02) ? (ParameterFunction02)p : new ParameterFunction02();\n\t}\n\t\n\t// Entry 03\n\tpublic void method_func_03(Map<String, String> par) {\n\t\tSystem.out.printf(\"\\t<result>03 done.</result>%n\\t<arguments>%s</arguments>%n\", par);\n\t}\n\n\tpublic Map<String, String> parameters_func_03(__EnumFunc__ e) {\n\t\treturn safetyMap(e.getParameter());\n\t}\n\n    static <K, V> Map<K, V> safetyMap(Object objectMap) {\n    \tif (objectMap == null) {\n    \t\treturn null;\n    \t}\n    \t\n    \t@SuppressWarnings(\"unchecked\")\n\t\tMap<K, V> map = (Map<K, V>) (objectMap);\n    \t\n        return new HashMap<K, V>(map);\n    }\n}\n```\n---\n```java:ParameterFunction02.java\npackage method.call;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class ParameterFunction02 {\n\tString s1;\n\tString s2;\n\tMap<String, Object> o1 = new HashMap<String, Object>();\n\t\n\tpublic String toString() {\n\t\tStringBuffer work = new StringBuffer(128);\n\t\twork.append(\"s1=\").append(\"[\").append(s1).append(\"],\");\n\t\twork.append(\"s2=\").append(\"[\").append(s2).append(\"],\");\n\t\twork.append(\"o1=\").append(\"[\").append(o1).append(\"]\");\n\t\t\n\t\treturn work.toString();\n\t}\n}\n```\n---\n```java:Jumper.java\npackage method.call;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.TreeMap;\n\npublic class Jumper extends Functions {\n\t\n\tpublic static void main(String[] args) throws Exception {\n        Jumper j = new Jumper();\n\t\tj.mainEntry();\n\t}\n\t\n\t\n\tpublic void mainEntry() throws Exception {\n\t\tList<__EnumFunc__> listFunc = new ArrayList<__EnumFunc__>();\n\t\t\n\t\tMap<String, Object> info = buildRunData();\n\t\t\n\t\tfor (Iterator<Entry<String, Object>> it = info.entrySet().iterator(); it.hasNext();) {\n\t\t\tsetEntryData(listFunc, it.next());\n\t\t}\n\t\t\n\t\tSystem.out.println();\n\t\t\n\t\tfor (__EnumFunc__ entry : listFunc) {\n\t\t\tSystem.out.printf(\"<%s parameter=\\\"%s\\\">%n\", entry.strLabel, entry.getParameter());\n\t\t\tentry.call(this, entry);\n\t\t\tSystem.out.printf(\"</%s>%n%n\", entry.strLabel);\n\t\t}\n\t}\n\t\n\tprivate Map<String, Object> buildRunData() {\n\t\tMap<String, Object> info = new TreeMap<String, Object>();\n\t\t\n\t\tinfo.put(\"__Entry_01__\", new HashMap<String, Object>(2){\n\t\t\tprivate static final long serialVersionUID = 1L;\n\t\t\t{\n\t\t\t\tput(\"pkey1\", 123456);\n\t\t\t\tput(\"pkey2\", \"abcd\");\n\t\t\t} \n\t\t});\n\t\tinfo.put(\"__Entry_02__\", new ParameterFunction02() {\n\t\t\t{\n\t\t\t\tthis.s1 = \"A01\";\n\t\t\t\tthis.s2 = \"B99\";\n\t\t\t\tthis.o1.put(\"key3\", 654321);\n\t\t\t\tthis.o1.put(\"key4\", \"dcba\");\n\t\t\t}\n\t\t});\n\t\tinfo.put(\"__Entry_03__\", new HashMap<String, Object>(3){\n\t\t\tprivate static final long serialVersionUID = 1L;\n\t\t\t{\n\t\t\t\tput(\"pkey1\", 123456);\n\t\t\t\tput(\"pkey2\", \"abcd\");\n\t\t\t\tput(\"pkey3\", 2);\n\t\t\t} \n\t\t});\n\t\t\n\t\treturn info;\n\t}\n\t\n\tprivate __EnumFunc__ setEntryData(List<__EnumFunc__> list, Entry<String, Object> e) {\n\t\tString key = e.getKey();\n\t\t\n\t\t__EnumFunc__ eFunc = __EnumFunc__.safeValueOf(key); \n\t\t\n\t\tif (eFunc.intValue >= 0) {\n\t\t\tSystem.out.printf(\"[setEntryData]key:%s, parameter = (%s)%n\", key, e.getValue());\n\t\t\teFunc.putParameter(e.getValue());\n\t\t\tlist.add( eFunc ); \n\t\t}\n\t\t\n\t\treturn eFunc;\n\t}\n\t\n\tprivate static final String __NoEntry__ = \"NoFunction\";\n\tprivate static final String __Lable01__ = \"Function01\";\n\tprivate static final String __Lable02__ = \"Function02\";\n\tprivate static final String __Lable03__ = \"Function03\";\n\t\n\tenum __EnumFunc__ {\n\t\t  __Entry_01__ ( 1, __Lable01__) { void call(Jumper me, method.call.Jumper.__EnumFunc__ e) throws Exception {me.method_func_01 (me.parameters_func_01 (e)); } }\n\t\t, __Entry_02__ ( 2, __Lable02__) { void call(Jumper me, method.call.Jumper.__EnumFunc__ e) throws Exception {me.method_func_02 (me.parameters_func_02 (e)); } }\n\t\t, __Entry_03__ ( 3, __Lable03__) { void call(Jumper me, method.call.Jumper.__EnumFunc__ e) throws Exception {me.method_func_03 (me.parameters_func_03 (e)); } }\n\t\t, __Excluded__ (-1, __NoEntry__)\n\t\t;\n\t\t\n\t\tprivate int intValue;\n\t\tprivate String strLabel;\n\t\t\n\t\tprivate Object parameter;\n\t\t\n\t\tprivate __EnumFunc__(int n, String s) {\n\t\t\tthis.intValue = n;\n\t\t\tthis.strLabel = s;\n\t\t}\n\t\t\n\t\tvoid putParameter(Object v) {\n\t\t\tthis.parameter = v;\n\t\t}\n\t\t\n\t\tint getValue() {\n\t\t\treturn this.intValue;\n\t\t}\n\t\t\n\t\tString getLabel() {\n\t\t\treturn this.strLabel;\n\t\t}\n\t\t\n\t\tObject getParameter() {\n\t\t\treturn this.parameter;\n\t\t}\n\t\t\n\t\tstatic __EnumFunc__ safeValueOf(final String s) {\n\t\t\t__EnumFunc__ funcJumper = __Excluded__;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tfuncJumper = method.call.Jumper.__EnumFunc__.valueOf(s);\n\t\t\t} catch (Exception e) {\n\t\t\t}\n\t\t\t\n\t\t\treturn funcJumper;\n\t\t}\n\t\t\n\t\tvoid call(Jumper me, method.call.Jumper.__EnumFunc__ e) throws Exception {\n\t\t\treturn;\n\t\t}\n\t}\n}\n```\n---\n\u5b9f\u884c\u7d50\u679c\uff1a\n<pre>\n[setEntryData]key:__Entry_01__, parameter = ({pkey2=abcd, pkey1=123456})\n[setEntryData]key:__Entry_02__, parameter = (s1=[A01],s2=[B99],o1=[{key4=dcba, key3=654321}])\n[setEntryData]key:__Entry_03__, parameter = ({pkey3=2, pkey2=abcd, pkey1=123456})\n\n&lt;Function01 parameter=\"{pkey2=abcd, pkey1=123456}\"&gt;\n\t&lt;result&gt;01 done.&lt;/result&gt;\n\t&lt;arguments&gt;{pkey2=abcd, pkey1=123456}&lt;/arguments&gt;\n&lt;/Function01&gt;\n\n&lt;Function02 parameter=\"s1=[A01],s2=[B99],o1=[{key4=dcba, key3=654321}]\"&gt;\n\t&lt;result&gt;02 done.&lt;/result&gt;\n\t&lt;arguments&gt;s1=[A01],s2=[B99],o1=[{key4=dcba, key3=654321}]&lt;/arguments&gt;\n&lt;/Function02&gt;\n\n&lt;Function03 parameter=\"{pkey3=2, pkey2=abcd, pkey1=123456}\"&gt;\n\t&lt;result&gt;03 done.&lt;/result&gt;\n\t&lt;arguments&gt;{pkey3=2, pkey2=abcd, pkey1=123456}&lt;/arguments&gt;\n&lt;/Function03&gt;\n</pre>\n", "tags": ["Java", "enum", "Function", "\u914d\u5217"]}