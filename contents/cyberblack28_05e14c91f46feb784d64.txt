{"tags": ["Drupal", "PHP", "Linux", "docker"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001pull\u3001commit\u3001push\u3001Dockerfile\u304b\u3089\u306ebuild\u306a\u3069\u3001\u4e00\u901a\u308a\u306e\u4e8b\u3092Drupal\u74b0\u5883\u3092\u4f5c\u308b\u3053\u3068\u3092\u76ee\u7684\u306b\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u74b0\u5883\uff1aVMWarePlayer or VirtualBox\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306bCentOS7.1\u3092\u521d\u671f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e8b\u524d\u306bDokerHub\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\nDocker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n1.Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30b3\u30de\u30f3\u30c9\n# yum -y install docker\n\n\n\n2.Docker\u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u53ca\u3073\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\n\n\u30b3\u30de\u30f3\u30c9\n# systemctl enable docker.service\n# systemctl start docker.service\n\n\n\n3.\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3078\u306e\u30c7\u30a3\u30b9\u30af\u6700\u9069\u5316\u8a2d\u5b9a\u8ffd\u52a0\n\n\u30b3\u30de\u30f3\u30c9\n# vi /etc/sysconfig/docker\nOPTIONS='--selinux-enabled'\n\u2193\nOPTIONS='--selinux-enabled --storage-opt dm.no_warn_on_loop_devices=true'\n:wq\n\n\n\n4.Docker\u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\n\n\u30b3\u30de\u30f3\u30c9\n# systemctl restart docker.service\n\n\n\nDockerfile\u304b\u3089Drupal\u74b0\u5883\u4f5c\u6210\n\n1.build\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n\n\u30b3\u30de\u30f3\u30c9\n# mkdir ~/build_drupal\n\n\n\n2.Dockerfile\u3092\u4f5c\u6210\n\n\u30b3\u30de\u30f3\u30c9\n# cd build_drupal\n# vi Dockerfile\nDockerfile\u306e\u30bd\u30fc\u30b9\u306f\u4e8b\u9805\u53c2\u7167\n:wq\n\n\n\nDockerfile\n#centos6\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u53d6\u5f97\nFROM centos:centos6\n\n#Dockerfile\u4f5c\u6210\u8005\nMAINTAINER linaction\n\n#\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\nRUN /bin/cp /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n\n#yum\u306b\u3088\u308b\u5fc5\u8981\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN yum -y install httpd mysql-server mysql-client mysql-devel mysql-utilities php php-common php-mbstring php-gd php-xml php-xmlrpc php-devel php-cli php-pdo php-pgsql php-mysql php-odbc php-pear tar wget unzip\n\n#tmp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\nWORKDIR /tmp/\n\n#Drupal\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nRUN wget http://ftp.drupal.org/files/projects/drupal-7.41.zip\n\n#\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fDrupal\u30d5\u30a1\u30a4\u30eb\u306e\u89e3\u51cd\nRUN unzip drupal-7.41.zip\n\n#\u4e0d\u8981\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\nRUN rm -f ./drupal-7.41.zip\n\n#Drupal\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30ea\u30cd\u30fc\u30e0\nRUN mv drupal-7.41 drupal\n\n#Drupal\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30ea\u30cd\u30fc\u30e0\nRUN mv drupal /var/www/html\n\n#\u65e5\u672c\u8a9e\u5316\u5bfe\u5fdc\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nRUN wget http://ftp.drupal.org/files/translations/7.x/drupal/drupal-7.41.ja.po\n\n#\u65e5\u672c\u8a9e\u5316\u5bfe\u5fdc\u30d5\u30a1\u30a4\u30eb\u3092\u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\nRUN mv drupal-7.41.ja.po /var/www/html/drupal/profiles/standard/translations\n\n#drupal\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6a29\u9650\u5909\u66f4\nRUN chown -R apache:apache /var/www/html/drupal\n\n#mysqld\u306e\u8d77\u52d5\u3001DB\u4f5c\u6210\u3001\u30e6\u30fc\u30b6\u4f5c\u6210\u304a\u3088\u3073\u6a29\u9650\u8a2d\u5b9a\u3001mysqld\u306e\u505c\u6b62\nRUN service mysqld start && mysql -u root -e \"CREATE DATABASE drupal_db; GRANT ALL PRIVILEGES ON drupal_db.* TO 'drupal'@'localhost' IDENTIFIED BY 'drupal123'; FLUSH PRIVILEGES;\" && service mysqld stop\n\n#mysqld,httpd\u306e\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210\nRUN echo -e \"service mysqld start\\nservice httpd start\\n/bin/bash\" > /startService.sh\n\n#mysqld,httpd\u306e\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u6a29\u9650\u8a2d\u5b9a\nRUN chmod o+x /startService.sh\n\n#\u516c\u958b\u30dd\u30fc\u30c8\nEXPOSE 80\n\n#mysqld,httpd\u306e\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\nCMD /startService.sh\n\n\n\n3.Dockerfile\u3092\u5b9f\u884c\n\n\u30b3\u30de\u30f3\u30c9\n# docker build -t DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal:ver7.41 ~/build_drupal\n\u30fb\n\u30fb\nSuccessfully built 0c4e45b86bcd\n\n\n\n4.\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u8d77\u52d5\n\n\u30b3\u30de\u30f3\u30c9\n# docker run -itd -p 8000:80 --name drupal741 DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal:ver7.41\n3ce407416874308af370951ecf56c77b53e2aa405ba20aae51593fd3a0e2e108\n\n\n\n\u30b3\u30f3\u30c6\u30ca\u30fc\u306ecommit\n\n1.\u30d6\u30e9\u30a6\u30b6\u78ba\u8a8d\n\u300chttp://VirtualBox\u306eIP\u30a2\u30c9\u30ec\u30b9:8000/drupal/\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001Drupal\u306e\u7ba1\u7406\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n2.\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u505c\u6b62\n\n\u30b3\u30de\u30f3\u30c9\n# docker stop drupal741\n\n\n\n3.\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u4fdd\u5b58\n\n\u30b3\u30de\u30f3\u30c9\n# docker commit drupal741 DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal:ver7.41\ncf75652d0f8a1509a5ad132ecf1214416c2b8dbf9fe9f93830ab8b51e738db73\n\n\n\n4.\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\n# docker images\nREPOSITORY                   TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nDockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal          ver7.41              cf75652d0f8a        56 seconds ago      474.9 MB\ndocker.io/DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/centos   centos6             ce76491a3be1        2 hours ago         190.6 MB\n\n\n\n\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092Docker Hub\u306bpush\n\n1.Docker Hub\u306b\u30ed\u30b0\u30a4\u30f3\n\n\u30b3\u30de\u30f3\u30c9\n# docker login\nUsername:\nPassword:\nEmail:\nLogin Succeeded\n\n\n\n2.Docker Hub\u306b\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092push\n\n\u30b3\u30de\u30f3\u30c9\n# docker push DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal\nDo you really want to push to public registry? [y/n]: y\nThe push refers to a repository [docker.io/DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal] (len: 0)\n\u30fb\n\u30fb\nDigest: sha256:97e3bd8b7ed451163af7284513d398c426c796451d343400a9859156c1a8c021\n\n\n\n3.\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc\u3092\u78ba\u8a8d\n\n\u30b3\u30de\u30f3\u30c9\n# docker search DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\nINDEX       NAME                            DESCRIPTION               STARS     OFFICIAL   AUTOMATED\ndocker.io   docker.io/DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal\n\n\n\n\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092\u518d\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u6700\u5f8c\u306b\u5168\u3066\u306e\u30a4\u30e1\u30fc\u30b8\u3068\u505c\u6b62\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664\u3057\u3066\u3001push\u3057\u305fDrupal\u306e\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u8d77\u52d5\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n1.\u505c\u6b62\u30b3\u30f3\u30c6\u30ca\u306e\u4e00\u62ec\u524a\u9664\n\n\u30b3\u30de\u30f3\u30c9\n# docker rm `docker ps -a -q`\n# docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n\n\n2.\u30a4\u30e1\u30fc\u30b8\u306e\u4e00\u62ec\u524a\u9664\n\n\u30b3\u30de\u30f3\u30c9\n# docker rmi \u30a4\u30e1\u30fc\u30b8ID\n# docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\n\n\n\n3.Drupal\u306e\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u30b3\u30de\u30f3\u30c9\n# docker pull -a DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal\n\n\n\n4.\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u8d77\u52d5\n\n\u30b3\u30de\u30f3\u30c9\n# docker run -itd -p 8000:80 --name drupal741 DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal:ver7.41\n\n\n\n5.\u30d6\u30e9\u30a6\u30b6\u78ba\u8a8d\n\u300chttp://VirtualBox\u306eIP\u30a2\u30c9\u30ec\u30b9:8000/drupal\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001Drupal\u306e\u7ba1\u7406\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\nDrupal\u306eMySQL\u60c5\u5831\nDB\u540d\uff1adrupal_db\n\u30a2\u30ab\u30a6\u30f3\u30c8\uff1adrupal\n\u30d1\u30b9\u30ef\u30fc\u30c9\uff1adrupal123\nDocker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001pull\u3001commit\u3001push\u3001Dockerfile\u304b\u3089\u306ebuild\u306a\u3069\u3001\u4e00\u901a\u308a\u306e\u4e8b\u3092Drupal\u74b0\u5883\u3092\u4f5c\u308b\u3053\u3068\u3092\u76ee\u7684\u306b\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u74b0\u5883\uff1aVMWarePlayer or VirtualBox\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u306bCentOS7.1\u3092\u521d\u671f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4e8b\u524d\u306b[DokerHub](https://hub.docker.com/)\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n# Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## 1.Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# yum -y install docker\n```\n## 2.Docker\u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u53ca\u3073\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# systemctl enable docker.service\n# systemctl start docker.service\n```\n## 3.\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3078\u306e\u30c7\u30a3\u30b9\u30af\u6700\u9069\u5316\u8a2d\u5b9a\u8ffd\u52a0\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# vi /etc/sysconfig/docker\nOPTIONS='--selinux-enabled'\n\u2193\nOPTIONS='--selinux-enabled --storage-opt dm.no_warn_on_loop_devices=true'\n:wq\n```\n## 4.Docker\u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# systemctl restart docker.service\n```\n# Dockerfile\u304b\u3089Drupal\u74b0\u5883\u4f5c\u6210\n\n## 1.build\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# mkdir ~/build_drupal\n```\n## 2.Dockerfile\u3092\u4f5c\u6210\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# cd build_drupal\n# vi Dockerfile\nDockerfile\u306e\u30bd\u30fc\u30b9\u306f\u4e8b\u9805\u53c2\u7167\n:wq\n```\n\n```lang:Dockerfile\n#centos6\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u53d6\u5f97\nFROM centos:centos6\n\n#Dockerfile\u4f5c\u6210\u8005\nMAINTAINER linaction\n\n#\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\nRUN /bin/cp /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n\n#yum\u306b\u3088\u308b\u5fc5\u8981\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRUN yum -y install httpd mysql-server mysql-client mysql-devel mysql-utilities php php-common php-mbstring php-gd php-xml php-xmlrpc php-devel php-cli php-pdo php-pgsql php-mysql php-odbc php-pear tar wget unzip\n\n#tmp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\nWORKDIR /tmp/\n\n#Drupal\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nRUN wget http://ftp.drupal.org/files/projects/drupal-7.41.zip\n\n#\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fDrupal\u30d5\u30a1\u30a4\u30eb\u306e\u89e3\u51cd\nRUN unzip drupal-7.41.zip\n\n#\u4e0d\u8981\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\nRUN rm -f ./drupal-7.41.zip\n\n#Drupal\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30ea\u30cd\u30fc\u30e0\nRUN mv drupal-7.41 drupal\n\n#Drupal\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30ea\u30cd\u30fc\u30e0\nRUN mv drupal /var/www/html\n\n#\u65e5\u672c\u8a9e\u5316\u5bfe\u5fdc\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nRUN wget http://ftp.drupal.org/files/translations/7.x/drupal/drupal-7.41.ja.po\n\n#\u65e5\u672c\u8a9e\u5316\u5bfe\u5fdc\u30d5\u30a1\u30a4\u30eb\u3092\u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\nRUN mv drupal-7.41.ja.po /var/www/html/drupal/profiles/standard/translations\n\n#drupal\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6a29\u9650\u5909\u66f4\nRUN chown -R apache:apache /var/www/html/drupal\n\n#mysqld\u306e\u8d77\u52d5\u3001DB\u4f5c\u6210\u3001\u30e6\u30fc\u30b6\u4f5c\u6210\u304a\u3088\u3073\u6a29\u9650\u8a2d\u5b9a\u3001mysqld\u306e\u505c\u6b62\nRUN service mysqld start && mysql -u root -e \"CREATE DATABASE drupal_db; GRANT ALL PRIVILEGES ON drupal_db.* TO 'drupal'@'localhost' IDENTIFIED BY 'drupal123'; FLUSH PRIVILEGES;\" && service mysqld stop\n\n#mysqld,httpd\u306e\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210\nRUN echo -e \"service mysqld start\\nservice httpd start\\n/bin/bash\" > /startService.sh\n\n#mysqld,httpd\u306e\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u6a29\u9650\u8a2d\u5b9a\nRUN chmod o+x /startService.sh\n\n#\u516c\u958b\u30dd\u30fc\u30c8\nEXPOSE 80\n\n#mysqld,httpd\u306e\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u884c\nCMD /startService.sh\n```\n## 3.Dockerfile\u3092\u5b9f\u884c\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker build -t DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal:ver7.41 ~/build_drupal\n\u30fb\n\u30fb\nSuccessfully built 0c4e45b86bcd\n```\n## 4.\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u8d77\u52d5\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker run -itd -p 8000:80 --name drupal741 DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal:ver7.41\n3ce407416874308af370951ecf56c77b53e2aa405ba20aae51593fd3a0e2e108\n```\n\n# \u30b3\u30f3\u30c6\u30ca\u30fc\u306ecommit\n\n## 1.\u30d6\u30e9\u30a6\u30b6\u78ba\u8a8d\n\u300chttp://VirtualBox\u306eIP\u30a2\u30c9\u30ec\u30b9:8000/drupal/\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001Drupal\u306e\u7ba1\u7406\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n## 2.\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u505c\u6b62\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker stop drupal741\n```\n## 3.\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u4fdd\u5b58\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker commit drupal741 DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal:ver7.41\ncf75652d0f8a1509a5ad132ecf1214416c2b8dbf9fe9f93830ab8b51e738db73\n```\n## 4.\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092\u78ba\u8a8d\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker images\nREPOSITORY                   TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nDockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal          ver7.41              cf75652d0f8a        56 seconds ago      474.9 MB\ndocker.io/DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/centos   centos6             ce76491a3be1        2 hours ago         190.6 MB\n```\n\n# \u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092Docker Hub\u306bpush\n\n## 1.Docker Hub\u306b\u30ed\u30b0\u30a4\u30f3\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker login\nUsername:\nPassword:\nEmail:\nLogin Succeeded\n```\n\n## 2.Docker Hub\u306b\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092push\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker push DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal\nDo you really want to push to public registry? [y/n]: y\nThe push refers to a repository [docker.io/DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal] (len: 0)\n\u30fb\n\u30fb\nDigest: sha256:97e3bd8b7ed451163af7284513d398c426c796451d343400a9859156c1a8c021\n```\n## 3.\u30ea\u30dd\u30b8\u30c8\u30ea\u30fc\u3092\u78ba\u8a8d\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker search DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\nINDEX       NAME                            DESCRIPTION               STARS     OFFICIAL   AUTOMATED\ndocker.io   docker.io/DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal\n```\n\n# \u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092\u518d\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u6700\u5f8c\u306b\u5168\u3066\u306e\u30a4\u30e1\u30fc\u30b8\u3068\u505c\u6b62\u30b3\u30f3\u30c6\u30ca\u3092\u524a\u9664\u3057\u3066\u3001push\u3057\u305fDrupal\u306e\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u8d77\u52d5\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n## 1.\u505c\u6b62\u30b3\u30f3\u30c6\u30ca\u306e\u4e00\u62ec\u524a\u9664\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker rm `docker ps -a -q`\n# docker ps -a\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n```\n## 2.\u30a4\u30e1\u30fc\u30b8\u306e\u4e00\u62ec\u524a\u9664\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker rmi \u30a4\u30e1\u30fc\u30b8ID\n# docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\n```\n\n## 3.Drupal\u306e\u30b3\u30f3\u30c6\u30ca\u30fc\u30a4\u30e1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker pull -a DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal\n```\n\n## 4.\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u8d77\u52d5\n\n```lang:\u30b3\u30de\u30f3\u30c9\n# docker run -itd -p 8000:80 --name drupal741 DockerHub\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/drupal:ver7.41\n```\n\n## 5.\u30d6\u30e9\u30a6\u30b6\u78ba\u8a8d\n\u300chttp://VirtualBox\u306eIP\u30a2\u30c9\u30ec\u30b9:8000/drupal\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001Drupal\u306e\u7ba1\u7406\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\nDrupal\u306eMySQL\u60c5\u5831\nDB\u540d\uff1adrupal_db\n\u30a2\u30ab\u30a6\u30f3\u30c8\uff1adrupal\n\u30d1\u30b9\u30ef\u30fc\u30c9\uff1adrupal123\n"}