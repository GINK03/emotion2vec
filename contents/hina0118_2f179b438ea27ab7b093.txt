{"context": " More than 1 year has passed since last update.\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3059\u308b\n\u305f\u3060\u3053\u306e\u307e\u307e\u3060\u3068\u65e5\u672c\u8a9e\u304c\u30e6\u30cb\u30b3\u30fc\u30c9\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u305f\u307e\u307e\u306b\u306a\u308b\u306e\u3067\u5909\u63db\u51e6\u7406\u3092\u304b\u307e\u305b\u308b\n\njson_client.groovy\nimport groovy.swing.SwingBuilder\nimport groovy.json.JsonOutput\nimport javax.swing.*\nimport java.awt.*\n\ndef cbMethod\ndef txtUrl\ndef txtParam\ndef txtJson\n\ndef tabPane\n\ndef prettyPrint = { text ->\n    def result = JsonOutput.prettyPrint(text)\n    (result =~ /\\\\u[0-9a-zA-Z]{4}/).each { match ->\n        def code = match[2..5]\n        def encTxt = new String([Integer.parseInt(code, 16)] as int[], 0, 1)\n        result = result.replaceAll(/\\\\u${code}/, encTxt)\n    }\n    result\n}\n\ndef sendRequest = {\n    def url = txtUrl.text\n    if (cbMethod.selectedItem == 'GET') {\n        url = \"${url}?${txtParam.text}\"\n    }\n\n    def conn = url.toURL().openConnection()\n    conn.requestMethod = cbMethod.selectedItem\n    if (cbMethod.selectedItem == 'POST') {\n        conn.doOutput = true\n        conn.outputStream << txtParam.text\n    }\n\n    txtJson.text = prettyPrint(conn.inputStream.getText('utf-8'))\n    tabPane.selectedIndex = 1\n}\n\nnew SwingBuilder().frame(title:'json\u3092\u53d6\u5f97\u3001\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3', defaultCloseOperation:JFrame.EXIT_ON_CLOSE,\n                        size: [800, 600], show:true) {\n    lookAndFeel('nimbus')\n    borderLayout()\n    hbox(constraints: BorderLayout.NORTH) {\n        cbMethod = comboBox(items:['GET', 'POST'])\n        txtUrl = textField()\n        button(text:'\u9001\u4fe1', actionPerformed:sendRequest)\n    }\n    tabPane = tabbedPane(constraints: BorderLayout.CENTER) {\n        scrollPane(name:'\u30d1\u30e9\u30e1\u30fc\u30bf') {\n            txtParam = textArea()\n        }\n        scrollPane(name:'\u30ec\u30b9\u30dd\u30f3\u30b9') {\n            txtJson = textArea(editable:false)\n        }\n    }\n}\n\n\n\n\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3059\u308b\n\u305f\u3060\u3053\u306e\u307e\u307e\u3060\u3068\u65e5\u672c\u8a9e\u304c\u30e6\u30cb\u30b3\u30fc\u30c9\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u305f\u307e\u307e\u306b\u306a\u308b\u306e\u3067\u5909\u63db\u51e6\u7406\u3092\u304b\u307e\u305b\u308b\n\n```groovy:json_client.groovy\nimport groovy.swing.SwingBuilder\nimport groovy.json.JsonOutput\nimport javax.swing.*\nimport java.awt.*\n\ndef cbMethod\ndef txtUrl\ndef txtParam\ndef txtJson\n\ndef tabPane\n\ndef prettyPrint = { text ->\n\tdef result = JsonOutput.prettyPrint(text)\n\t(result =~ /\\\\u[0-9a-zA-Z]{4}/).each { match ->\n\t\tdef code = match[2..5]\n\t\tdef encTxt = new String([Integer.parseInt(code, 16)] as int[], 0, 1)\n\t\tresult = result.replaceAll(/\\\\u${code}/, encTxt)\n\t}\n\tresult\n}\n\ndef sendRequest = {\n\tdef url = txtUrl.text\n\tif (cbMethod.selectedItem == 'GET') {\n\t\turl = \"${url}?${txtParam.text}\"\n\t}\n\t\n\tdef conn = url.toURL().openConnection()\n\tconn.requestMethod = cbMethod.selectedItem\n\tif (cbMethod.selectedItem == 'POST') {\n\t\tconn.doOutput = true\n\t\tconn.outputStream << txtParam.text\n\t}\n\t\n\ttxtJson.text = prettyPrint(conn.inputStream.getText('utf-8'))\n\ttabPane.selectedIndex = 1\n}\n\nnew SwingBuilder().frame(title:'json\u3092\u53d6\u5f97\u3001\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3', defaultCloseOperation:JFrame.EXIT_ON_CLOSE,\n\t\t\t\t\t\tsize: [800, 600], show:true) {\n\tlookAndFeel('nimbus')\n\tborderLayout()\n\thbox(constraints: BorderLayout.NORTH) {\n\t\tcbMethod = comboBox(items:['GET', 'POST'])\n\t\ttxtUrl = textField()\n\t\tbutton(text:'\u9001\u4fe1', actionPerformed:sendRequest)\n\t}\n\ttabPane = tabbedPane(constraints: BorderLayout.CENTER) {\n\t\tscrollPane(name:'\u30d1\u30e9\u30e1\u30fc\u30bf') {\n\t\t\ttxtParam = textArea()\n\t\t}\n\t\tscrollPane(name:'\u30ec\u30b9\u30dd\u30f3\u30b9') {\n\t\t\ttxtJson = textArea(editable:false)\n\t\t}\n\t}\n}\n```\n\n![qiita-005.png](https://qiita-image-store.s3.amazonaws.com/0/17179/8da0b259-dd27-1615-7ec1-5e3da6ca8365.png)", "tags": ["Groovy"]}