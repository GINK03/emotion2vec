{"context": "\u96fb\u5b50\u56de\u8def\u3067\u306f\u62b5\u6297\u5668\u3092\u5408\u6210\u3057\u305f\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u308b\u4e8b\u304c\u826f\u304f\u3042\u308a\u307e\u3059\u3002Mathematica\u3067\u30b0\u30e9\u30d5\u7406\u8ad6\u3092\u4f7f\u3063\u3066\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u3066\u307f\u307e\u3059\u3002\n\n1 \u76f4\u4e26\u5217\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\n\n \u4e0a\u56f3\u306e\u69d8\u306a\u76f4\u4e26\u5217\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u3066\u307f\u307e\u3059\u3002\u8d64\u5b57\u306f\u9802\u70b9\u3092\u793a\u3057\u307e\u3059\u3002\n\u5148\u305a\u306f\u56de\u8def\u306e\u63a5\u7d9a\u3092\u30b0\u30e9\u30d5\u3067\u8868\u3057\u307e\u3059\u3002\nClear[\"Global`*\"];\ng1 = Graph[Range[4],\n   {1 -> 2, 1 -> 3, 2 -> 4, 3 -> 4, 4 -> 1}];\n\n\u6b21\u306b\u30b3\u30f3\u30c0\u30af\u30bf\u30f3\u30b9(\u62b5\u6297\u306e\u9006\u6570)\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u56de\u8def\u56f3\u304b\u3089\u9802\u70b91\u304b\u30892\u306f20\u03a9\u30011\u304b\u30893\u306f30\u03a9\u30012\u304b\u30894\u306f16\u03a9\u30013\u304b\u30894\u306f13\u03a9\u3068\u306a\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u9802\u70b94\u304b\u3089\u9802\u70b91\u3078\u306e\u63a5\u7d9a\u306f\u30a4\u30f3\u30d4\u30fc\u30c0\u30f3\u30b90[\u03a9]\u306e\u7406\u60f3\u96fb\u5727\u6e90\u306e\u307f\u3067\u3059\u3002\u3053\u3053\u306f\u9014\u4e2d\u8a08\u7b97\u306e\u90fd\u5408\u4e0aX[\u03a9]\u3068\u7f6e\u304d\u307e\u3059\u3002\n(* Conductance Matrix  1/x -> Inf *)\ngb = IdentityMatrix[EdgeCount[g1]] {20, 30, 16, 13, x}^-1;\n\n\u6b21\u306b\u96fb\u5727\u6e90\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u9802\u70b94\u304b\u30891\u306b\u96fb\u5727\u6e90V1[V]\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n(* Voltage Source Matrix *)\nv = {0,0,0,0,v1};\n\n\u6b21\u306b\u96fb\u6d41\u6e90\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u56de\u8def\u56f3\u306b\u306f\u96fb\u6d41\u6e90\u306f\u7121\u3044\u306e\u3067\u5404\u30ce\u30fc\u30c9\u30920[A]\u3068\u3057\u307e\u3059\u3002\n(* Current Source Matrix *)\ni = Table[0, {EdgeCount[g1]}];\n\n\u6b21\u306b\u56de\u8def\u56f3\u306e\u30b0\u30e9\u30d5\u304b\u3089\u8fba\u7d50\u5408\u884c\u5217(IncidenceMatrix)\u3092\u4f5c\u308a\u3001\u5404\u30ce\u30fc\u30c9\u306e\u96fb\u6d41\u3068\u96fb\u5727\u3092\u8a08\u7b97\u3057\u3066\u3001\u9802\u70b94\u304b\u3089\u9802\u70b91\u306e\u96fb\u5727\u00f7\u96fb\u6d41\u304b\u3089\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u307e\u3059\u3002\u96fb\u5727\u6e90\u306f\u30a4\u30f3\u30d4\u30fc\u30c0\u30f3\u30b90[\u03a9]\u3068\u8003\u3048\u308b\u306e\u3067x\u306f\u6975\u9650\u5024\u306e0[\u03a9]\u3068\u3057\u3066\u8a08\u7b97\u3057\u307e\u3059\u3002\na = -1 Drop[1 IncidenceMatrix[g1], -1];\ngn = a.gb.Transpose[a];\nisn = (a.(gb.v - i)); \nvn = Inverse[gn].isn;\nvb = Transpose[a].vn;\nib = -(gb.vb + i - gb.v);\nLimit[vb, x -> 0][[5]]/Limit[ib, x -> 0][[5]] // N\n\nOut[402]=19.5949\n\n\u5408\u6210\u62b5\u6297\u306f\u7d0419.5949\u03a9\u3068\u6c42\u307e\u308a\u307e\u3057\u305f\u3002\n  \u691c\u7b97\u3057\u3066\u307f\u307e\u3059\u3002\u9802\u70b91\u304b\u3089\u9802\u70b92\u7d4c\u7531\u3067\u9802\u70b94\u306e\u5408\u6210\u62b5\u6297\u306f\u76f4\u5217\u63a5\u7d9a\u306a\u306e\u306720+16=36\u03a9\u3002\n\u9802\u70b91\u304b\u3089\u9802\u70b93\u7d4c\u7531\u3067\u9802\u70b94\u306f30+13=43\u03a9\u300236\u03a9\u306843\u03a9\u306e\u5408\u6210\u62b5\u6297\u306f\u4e26\u5217\u63a5\u7d9a\u306a\u306e\u3067(1/36+1/43)^-1\u224819.5949\u03a9\u3068\u306a\u308a\u5408\u3063\u3066\u3044\u307e\u3059\u3002\n\n2 \u30d6\u30ea\u30c3\u30b8\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\n\n  \u4e0a\u56f3\u306e\u69d8\u306a\u30d6\u30ea\u30c3\u30b8\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u3066\u307f\u307e\u3059\u3002\u8d64\u5b57\u306f\u9802\u70b9\u3092\u793a\u3057\u307e\u3059\u3002\n\u5148\u3068\u540c\u69d8\u306b\u56de\u8def\u306e\u63a5\u7d9a\u3092\u30b0\u30e9\u30d5\u3067\u8868\u3057\u307e\u3059\u3002\nClear[\"Global`*\"];\ng1 = Graph[Range[4],\n   {1 -> 2, 1 -> 3, 2 -> 4, 3 -> 4, 2 -> 3, 4 -> 1}];\n\n\u6b21\u306b\u30b3\u30f3\u30c0\u30af\u30bf\u30f3\u30b9(\u62b5\u6297\u306e\u9006\u6570)\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u56de\u8def\u56f3\u306e\u9802\u70b92\u304b\u30893\u3078\u306e50\u03a9\u306e\u30d6\u30ea\u30c3\u30b8(\u6a4b)\u304c\u8ffd\u52a0\u306b\u306a\u308a\u307e\u3059\u3002\n(* Conductance Matrix  1/x -> Inf *)\ngb = IdentityMatrix[EdgeCount[g1]] {20, 30, 16, 13, 50, x}^-1;\n\n\u6b21\u306b\u96fb\u5727\u6e90\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u9802\u70b94\u304b\u30891\u306b\u96fb\u5727\u6e90V1[V]\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u6a4b\u306e\u8fba\u304c\u8ffd\u52a0\u3055\u308c\u305f\u306e\u30670\u304c\u4e00\u3064\u5897\u3048\u307e\u3059\u3002\n(* Voltage Source Matrix *)\nv = {0,0,0,0,0,v1};\n\n\u6b21\u306b\u96fb\u6d41\u6e90\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u56de\u8def\u56f3\u306b\u306f\u96fb\u6d41\u6e90\u306f\u7121\u3044\u306e\u3067\u5404\u30ce\u30fc\u30c9\u30920[A]\u3068\u3057\u307e\u3059\u3002\n(* Current Source Matrix *)\ni = Table[0, {EdgeCount[g1]}];\n\n\u6b21\u306b\u5148\u306e\u56de\u8def\u3068\u540c\u69d8\u306b\u8a08\u7b97\u3057\u307e\u3059\u3002\u30d6\u30ea\u30c3\u30b8\u306e\u30ce\u30fc\u30c9\u304c1\u500b\u8ffd\u52a0\u3055\u308c\u305f\u306e\u3067\u3001[[5]]\u3067\u306f\u306a\u304f\u3066\u3001\uff16\u756a\u76ee\u306e\u30ce\u30fc\u30c9[[6]]\u3067\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u307e\u3059\u3002\na = -1 Drop[1 IncidenceMatrix[g1], -1];\ngn = a.gb.Transpose[a];\nisn = (a.(gb.v - i)); \nvn = Inverse[gn].isn;\nvb = Transpose[a].vn;\nib = -(gb.vb + i - gb.v);\nLimit[vb, x -> 0][[6]]/Limit[ib, x -> 0][[6]] // N\n\nOut[509]=19.4815\n\n\u5408\u6210\u62b5\u6297\u306f\u7d0419.4815\u03a9\u3068\u6c42\u307e\u308a\u307e\u3057\u305f\u3002\n  \u691c\u7b97\u3057\u3066\u307f\u307e\u3059\u3002\u25b3-\uff39\u5909\u63db\u3092\u4f7f\u3044\u307e\u3059\u3002\u9802\u70b91\u3067\u300120\u00d730/(20+30+50)=6\u3002\u9802\u70b92\u3067\u300120\u00d750/(20+30+50)=10\u3002\u9802\u70b93\u3067\u300130\u00d750/(20+30+50)=15\u3002\u76f4\u4e26\u5217\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u308b\u3068\u30016+1/(1/(10+16) + 1/(15+13))\u224819.4815\u03a9\u3068\u306a\u308a\u3001\u5408\u3063\u3066\u3044\u307e\u3059\u3002\n\n3 Oh, so you think you're such a whiz at EE201?\n\u3053\u3053\u304b\u3089\u304c\u672c\u984c\u3067\u3059\u3002Twitter\u3067Matthew Skala\u6c0f(@mattskala)\u304b\u3089\u3001\u300c\u3053\u3053\u306eCircuit Diagram\u306e\u53f3\u771f\u3093\u4e2d\u306e\u30a6\u30b5\u30ae\u306e\u5de3(\u30e9\u30c3\u30c4\u30fb\u30cd\u30b9\u30c8)\u306e\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u300d(\u610f\u8a33)\u3068\u306e\u30c4\u30d6\u30e4\u30ad\u304c\u79c1\u5b9b\u306b\u6765\u307e\u3057\u305f\u3002\u0394-Y\u5909\u63db\u3067\u89e3\u3051\u308b\u306e\u3067\u3059\u304c\u3001\u306a\u3093\u304b\u666e\u901a\u904e\u304e\u3066\u30c4\u30de\u30e9\u30ca\u30a4\u306e\u3067\u30b0\u30e9\u30d5\u3068\u884c\u5217\u3092\u4f7f\u3063\u3066\u5408\u6210\u62b5\u6297\u3092\u8a08\u7b97\u3057\u307e\u3057\u305f\u3002\n\n\u3000\u4e0a\u56f3\u306e\u56de\u8def\u306f\u62b5\u6297\u5024\u304c\u5168\u30661\u03a9\u3002\u9802\u70b91\u304b\u308914\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u307e\u3059\u3002\n\u5148\u306e\u56de\u8def\u3068\u540c\u69d8\u306b\u63a5\u7d9a\u3092\u30b0\u30e9\u30d5\u3067\u8868\u3057\u3066\u3001\u9802\u70b91\u304b\u308914\u306b\u96fb\u5727\u6e90\u304c\u3042\u308b\u3068\u3057\u3066\u3001\u96fb\u6d41\u6e90\u306f\u306a\u3057\u3067\u3001\u8a08\u7b97\u3092\u3057\u307e\u3059\u3002\n\nMathematica\nClear[\"Global`*\"];\ng1 = Graph[Range[14],\n   {1 -> 2, 1 -> 3, 1 -> 4, 1 -> 5, 5 -> 6, 6 -> 7, 7 -> 8, 5 -> 9, \n    7 -> 12, 9 -> 12, 9 -> 4, 12 -> 14, 12 -> 4, 14 -> 13, 14 -> 4, \n    13 -> 11, 13 -> 4, 4 -> 11, 4 -> 3, 3 -> 2, 2 -> 10, 3 -> 10, \n    10 -> 13, 11 -> 10, 3 -> 8, 4 -> 5, 6 -> 8, 1 -> 14}];\n(* Conductance Matrix  1/x -> Inf *)\ngb = IdentityMatrix[\n   EdgeCount[g1]] Append[Table[1, {EdgeCount[g1] - 1}], \n    x]^-1;\n(* Voltage Source Matrix *)\nv = Append[Table[0, {EdgeCount[g1] - 1}], v1];\n(* Current Source Matrix *)\ni = Table[0, {EdgeCount[g1]}];\n\na = -1 Drop[1 IncidenceMatrix[g1], -1];\ngn = a.gb.Transpose[a];\nisn = (a.(gb.v - i)); \nvn = Inverse[gn].isn;\nvb = Transpose[a].vn;\nib = -(gb.vb + i - gb.v);\nLimit[vb, x -> 0][[28]]/Limit[ib, x -> 0][[28]]\n\nOut[620]= 25265/33783\n\n\n\u5408\u6210\u62b5\u6297\u306f33,783\u5206\u306e25,265\u3068\u6c42\u307e\u308a\u307e\u3057\u305f\u3002\u7d040.747861\u03a9\u306b\u306a\u308a\u307e\u3059\u3002\n\u691c\u7b97\u306fMatthew Skala\u6c0f\u304c\u7d20\u6674\u3089\u3057\u3044Prolog\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u9802\u3044\u305f\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3044\u307e\u3059\u3002\n\ndeltawye.pl\nparallel_simplify(A,Z,M):-\n  delete(res(X,Y,R1),A,B),delete(res(X,Y,R2),B,C),\n  R3 is rational(1)/((rational(1)/R1)+(rational(1)/R2)),\n  sprintf(M,\"Parallel: %w -- %w (%w||%w = %w)%n\",[X,Y,R1,R2,R3]),\n  Z=[res(X,Y,R3)|C].\n\nseries_simplify(A,Z,M):-\n  delete(res(X,W,R1),A,B),delete(res(W,Y,R2),B,C),\n  W\\=locked(_),\n  \\+memberchk(res(_,W,_),C),\\+memberchk(res(W,_,_),C),\n  R3 is R1+R2,\n  sprintf(M,\"Series:  %w -- %w -- %w (%w+%w = %w)%n\",[X,W,Y,R1,R2,R3]),\n  Z=[res(X,Y,R3)|C].\nseries_simplify(A,Z,M):-\n  delete(res(W,X,R1),A,B),delete(res(W,Y,R2),B,C),X@<Y,\n  W\\=locked(_),\n  \\+memberchk(res(_,W,_),C),\\+memberchk(res(W,_,_),C),\n  R3 is R1+R2,\n  sprintf(M,\"Series:  %w -- %w -- %w (%w+%w = %w)%n\",[X,W,Y,R1,R2,R3]),\n  Z=[res(X,Y,R3)|C].\nseries_simplify(A,Z,M):-\n  delete(res(X,W,R1),A,B),delete(res(Y,W,R2),B,C),X@<Y,\n  W\\=locked(_),\n  \\+memberchk(res(_,W,_),C),\\+memberchk(res(W,_,_),C),\n  R3 is R1+R2,\n  sprintf(M,\"Series:  %w -- %w -- %w (%w+%w = %w)%n\",[X,W,Y,R1,R2,R3]),\n  Z=[res(X,Y,R3)|C].\n\nwye_delta_simplify(A,Z,M):-\n  (delete(res(N1,NX,R1),A,B);delete(res(NX,N1,R1),A,B)),\n  (delete(res(N2,NX,R2),B,C);delete(res(NX,N2,R2),B,C)),N1@<N2,\n  (delete(res(N3,NX,R3),C,D);delete(res(NX,N3,R3),C,D)),N2@<N3,\n  NX\\=locked(_),\n  \\+memberchk(res(_,NX,_),D),\\+memberchk(res(NX,_,_),D),\n  RNum is (R1*R2)+(R2*R3)+(R1*R3),\n  RA is rational(RNum)/R1,\n  RB is rational(RNum)/R2,\n  RC is rational(RNum)/R3,\n  sprintf(M,\"Wye -> delta, remove %w%n\",[NX]),\n  Z=[res(N1,N2,RC),res(N2,N3,RA),res(N1,N3,RB)|D].\n\nspare_node_name(foo).\nspare_node_name(bar).\nspare_node_name(baz).\nspare_node_name(quux).\nspare_node_name(alice).\nspare_node_name(bob).\nspare_node_name(carol).\nspare_node_name(dave).\n\ndelta_wye_simplify(A,Z,M):-\n  delete(res(N1,N2,RC),A,B),\n  delete(res(N2,N3,RA),B,C),\n  delete(res(N1,N3,RB),C,D),\n  spare_node_name(NX),\n  \\+memberchk(res(_,NX,_),D),\\+memberchk(res(NX,_,_),D),\n  RDenom is RA+RB+RC,\n  R1 is rational(RB*RC)/RDenom,\n  R2 is rational(RA*RC)/RDenom,\n  R3 is rational(RA*RB)/RDenom,\n  (N1@<NX->RI1=res(N1,NX,R1);\n           RI1=res(NX,N1,R1)),\n  (N2@<NX->RI2=res(N2,NX,R2);\n           RI2=res(NX,N2,R2)),\n  (N3@<NX->RI3=res(N3,NX,R3);\n           RI3=res(NX,N3,R3)),\n  sprintf(M,\"Delta -> wye, insert %w among %w, %w, %w%n\",[NX,N1,N2,N3]),\n  Z=[RI1,RI2,RI3|D].\n\nall_simplify(A,Z):-\n  series_simplify(A,X,M),!,\n  write(M),\n  all_simplify(X,Z).\nall_simplify(A,Z):-\n  parallel_simplify(A,X,M),!,\n  write(M),\n  all_simplify(X,Z).\nall_simplify(A,Z):-\n  wye_delta_simplify(A,X,M),!,\n  write(M),\n  all_simplify(X,Z).\nall_simplify(A,Z):-\n  delta_wye_simplify(A,X,M1),\n  series_simplify(X,Y,M2),!,\n  write(M1),write(M2),\n  all_simplify(Y,Z).\nall_simplify(A,Z):-\n  delta_wye_simplify(A,X,M1),\n  parallel_simplify(X,Y,M2),!,\n  write(M1),write(M2),\n  all_simplify(Y,Z).\nall_simplify(A,Z):-\n  delta_wye_simplify(A,X,M1),\n  delta_wye_simplify(X,Y,M2),\n  series_simplify(Y,W,M3),!,\n  write(M1),write(M2),write(M3),\n  all_simplify(W,Z).\nall_simplify(A,A).\n\nxkcd_problem([\n  res(a,locked(x),1),res(b,locked(x),1),res(c,locked(x),1),res(d,locked(x),1),\n  res(a,b,1),res(a,e,1),res(a,h,1),\n  res(b,c,1),res(b,h,1),res(b,i,1),res(b,k,1),res(b,l,1),res(b,locked(y),1),\n  res(c,d,1),res(c,f,1),res(c,j,1),\n  res(d,j,1),\n  res(e,f,1),res(e,g,1),\n  res(f,g,1),\n  res(g,l,1),\n  res(h,l,1),\n  res(i,k,1),res(i,j,1),\n  res(j,k,1),\n  res(k,locked(y),1),\n  res(l,locked(y),1)\n]).\n\n\nECLiPSe\u3092\u8d77\u52d5\u3057\u3066\u3001\u4e0b\u8a18\u306e\u8981\u9818\u3067Query\u3092\u767a\u884c\u3059\u308b\u3068\u3001\n\nECLiPSe\n\n\uff3beclipse 1]: [deltawye].\n\uff3beclipse 2]: xkcd_problem(X),all_simplify(X,Y).\n\n\u9014\u4e2d\u7d50\u679c\u7701\u7565\n\nParallel: bar -- locked(x) (71273861175_58183029877||863925590_871760449 = 18150_33131)\nParallel: bar -- locked(y) (27225_10577||3_7 = 27225_74102)\nSeries:  locked(x) -- bar -- locked(y) (18150_33131+27225_74102 = 45855975_50103538)\nParallel: locked(x) -- locked(y) (45855975_50103538||9075_2219 = 25265_33783)\nX = [res(a, locked(x), 1), res(b, locked(x), 1), res(c, locked(x), 1), res(d, locked(x), 1), res(a, b, 1), res(a, e, 1), res(a, h, 1), res(b, c, 1), res(b, h, 1), res(b, i, 1), res(b, k, 1), res(b, l, 1), res(b, locked(y), 1), res(c, d, 1), res(c, f, 1), res(c, j, 1), res(d, j, 1), res(e, f, 1), res(...), ...]\nY = [res(locked(x), locked(y), 25265_33783)]\nYes (0.07s cpu)\n\n\n25265_33783\u3068\u7b54\u3048\u304c\u5e30\u3063\u3066\u304d\u307e\u3059\u3002\n \u96fb\u5b50\u56de\u8def\u3067\u306f\u62b5\u6297\u5668\u3092\u5408\u6210\u3057\u305f\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u308b\u4e8b\u304c\u826f\u304f\u3042\u308a\u307e\u3059\u3002Mathematica\u3067\u30b0\u30e9\u30d5\u7406\u8ad6\u3092\u4f7f\u3063\u3066\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u3066\u307f\u307e\u3059\u3002\n\n#1 \u76f4\u4e26\u5217\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\n![\u56f3\u97621.png](https://qiita-image-store.s3.amazonaws.com/0/119510/5396ccd3-ca03-f8c6-3cb5-e3ccca1013c6.png)\n \u4e0a\u56f3\u306e\u69d8\u306a\u76f4\u4e26\u5217\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u3066\u307f\u307e\u3059\u3002\u8d64\u5b57\u306f\u9802\u70b9\u3092\u793a\u3057\u307e\u3059\u3002\n\u5148\u305a\u306f\u56de\u8def\u306e\u63a5\u7d9a\u3092\u30b0\u30e9\u30d5\u3067\u8868\u3057\u307e\u3059\u3002\n\n```Mathematica\nClear[\"Global`*\"];\ng1 = Graph[Range[4],\n   {1 -> 2, 1 -> 3, 2 -> 4, 3 -> 4, 4 -> 1}];\n```\n  \u6b21\u306b\u30b3\u30f3\u30c0\u30af\u30bf\u30f3\u30b9(\u62b5\u6297\u306e\u9006\u6570)\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u56de\u8def\u56f3\u304b\u3089\u9802\u70b91\u304b\u30892\u306f20\u03a9\u30011\u304b\u30893\u306f30\u03a9\u30012\u304b\u30894\u306f16\u03a9\u30013\u304b\u30894\u306f13\u03a9\u3068\u306a\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u9802\u70b94\u304b\u3089\u9802\u70b91\u3078\u306e\u63a5\u7d9a\u306f\u30a4\u30f3\u30d4\u30fc\u30c0\u30f3\u30b90[\u03a9]\u306e\u7406\u60f3\u96fb\u5727\u6e90\u306e\u307f\u3067\u3059\u3002\u3053\u3053\u306f\u9014\u4e2d\u8a08\u7b97\u306e\u90fd\u5408\u4e0aX[\u03a9]\u3068\u7f6e\u304d\u307e\u3059\u3002\n\n```Mathematica\n(* Conductance Matrix  1/x -> Inf *)\ngb = IdentityMatrix[EdgeCount[g1]] {20, 30, 16, 13, x}^-1;\n```\n  \u6b21\u306b\u96fb\u5727\u6e90\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u9802\u70b94\u304b\u30891\u306b\u96fb\u5727\u6e90V1[V]\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```Mathematica\n(* Voltage Source Matrix *)\nv = {0,0,0,0,v1};\n```\n  \u6b21\u306b\u96fb\u6d41\u6e90\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u56de\u8def\u56f3\u306b\u306f\u96fb\u6d41\u6e90\u306f\u7121\u3044\u306e\u3067\u5404\u30ce\u30fc\u30c9\u30920[A]\u3068\u3057\u307e\u3059\u3002\n\n```Mathematica\n(* Current Source Matrix *)\ni = Table[0, {EdgeCount[g1]}];\n```\n  \u6b21\u306b\u56de\u8def\u56f3\u306e\u30b0\u30e9\u30d5\u304b\u3089\u8fba\u7d50\u5408\u884c\u5217(IncidenceMatrix)\u3092\u4f5c\u308a\u3001\u5404\u30ce\u30fc\u30c9\u306e\u96fb\u6d41\u3068\u96fb\u5727\u3092\u8a08\u7b97\u3057\u3066\u3001\u9802\u70b94\u304b\u3089\u9802\u70b91\u306e\u96fb\u5727\u00f7\u96fb\u6d41\u304b\u3089\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u307e\u3059\u3002\u96fb\u5727\u6e90\u306f\u30a4\u30f3\u30d4\u30fc\u30c0\u30f3\u30b90[\u03a9]\u3068\u8003\u3048\u308b\u306e\u3067x\u306f\u6975\u9650\u5024\u306e0[\u03a9]\u3068\u3057\u3066\u8a08\u7b97\u3057\u307e\u3059\u3002\n\n```Mathematica\na = -1 Drop[1 IncidenceMatrix[g1], -1];\ngn = a.gb.Transpose[a];\nisn = (a.(gb.v - i)); \nvn = Inverse[gn].isn;\nvb = Transpose[a].vn;\nib = -(gb.vb + i - gb.v);\nLimit[vb, x -> 0][[5]]/Limit[ib, x -> 0][[5]] // N\n\nOut[402]=19.5949\n```\n  \u5408\u6210\u62b5\u6297\u306f\u7d0419.5949\u03a9\u3068\u6c42\u307e\u308a\u307e\u3057\u305f\u3002\n  \u691c\u7b97\u3057\u3066\u307f\u307e\u3059\u3002\u9802\u70b91\u304b\u3089\u9802\u70b92\u7d4c\u7531\u3067\u9802\u70b94\u306e\u5408\u6210\u62b5\u6297\u306f\u76f4\u5217\u63a5\u7d9a\u306a\u306e\u306720+16=36\u03a9\u3002\n\u9802\u70b91\u304b\u3089\u9802\u70b93\u7d4c\u7531\u3067\u9802\u70b94\u306f30+13=43\u03a9\u300236\u03a9\u306843\u03a9\u306e\u5408\u6210\u62b5\u6297\u306f\u4e26\u5217\u63a5\u7d9a\u306a\u306e\u3067(1/36+1/43)^-1\u224819.5949\u03a9\u3068\u306a\u308a\u5408\u3063\u3066\u3044\u307e\u3059\u3002\n\n#2 \u30d6\u30ea\u30c3\u30b8\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\n![\u56f3\u97621.png](https://qiita-image-store.s3.amazonaws.com/0/119510/1897cc45-aae7-17d4-9ef8-98589c18ba8a.png)\n  \u4e0a\u56f3\u306e\u69d8\u306a\u30d6\u30ea\u30c3\u30b8\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u3066\u307f\u307e\u3059\u3002\u8d64\u5b57\u306f\u9802\u70b9\u3092\u793a\u3057\u307e\u3059\u3002\n\u5148\u3068\u540c\u69d8\u306b\u56de\u8def\u306e\u63a5\u7d9a\u3092\u30b0\u30e9\u30d5\u3067\u8868\u3057\u307e\u3059\u3002\n\n```Mathematica\nClear[\"Global`*\"];\ng1 = Graph[Range[4],\n   {1 -> 2, 1 -> 3, 2 -> 4, 3 -> 4, 2 -> 3, 4 -> 1}];\n```\n  \u6b21\u306b\u30b3\u30f3\u30c0\u30af\u30bf\u30f3\u30b9(\u62b5\u6297\u306e\u9006\u6570)\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u56de\u8def\u56f3\u306e\u9802\u70b92\u304b\u30893\u3078\u306e50\u03a9\u306e\u30d6\u30ea\u30c3\u30b8(\u6a4b)\u304c\u8ffd\u52a0\u306b\u306a\u308a\u307e\u3059\u3002\n\n```Mathematica\n(* Conductance Matrix  1/x -> Inf *)\ngb = IdentityMatrix[EdgeCount[g1]] {20, 30, 16, 13, 50, x}^-1;\n```\n  \u6b21\u306b\u96fb\u5727\u6e90\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u9802\u70b94\u304b\u30891\u306b\u96fb\u5727\u6e90V1[V]\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u6a4b\u306e\u8fba\u304c\u8ffd\u52a0\u3055\u308c\u305f\u306e\u30670\u304c\u4e00\u3064\u5897\u3048\u307e\u3059\u3002\n\n```Mathematica\n(* Voltage Source Matrix *)\nv = {0,0,0,0,0,v1};\n```\n  \u6b21\u306b\u96fb\u6d41\u6e90\u306e\u884c\u5217\u3092\u4f5c\u308a\u307e\u3059\u3002\u56de\u8def\u56f3\u306b\u306f\u96fb\u6d41\u6e90\u306f\u7121\u3044\u306e\u3067\u5404\u30ce\u30fc\u30c9\u30920[A]\u3068\u3057\u307e\u3059\u3002\n\n```Mathematica\n(* Current Source Matrix *)\ni = Table[0, {EdgeCount[g1]}];\n```\n  \u6b21\u306b\u5148\u306e\u56de\u8def\u3068\u540c\u69d8\u306b\u8a08\u7b97\u3057\u307e\u3059\u3002\u30d6\u30ea\u30c3\u30b8\u306e\u30ce\u30fc\u30c9\u304c1\u500b\u8ffd\u52a0\u3055\u308c\u305f\u306e\u3067\u3001[[5]]\u3067\u306f\u306a\u304f\u3066\u3001\uff16\u756a\u76ee\u306e\u30ce\u30fc\u30c9[[6]]\u3067\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u307e\u3059\u3002\n\n```Mathematica\na = -1 Drop[1 IncidenceMatrix[g1], -1];\ngn = a.gb.Transpose[a];\nisn = (a.(gb.v - i)); \nvn = Inverse[gn].isn;\nvb = Transpose[a].vn;\nib = -(gb.vb + i - gb.v);\nLimit[vb, x -> 0][[6]]/Limit[ib, x -> 0][[6]] // N\n\nOut[509]=19.4815\n```\n  \u5408\u6210\u62b5\u6297\u306f\u7d0419.4815\u03a9\u3068\u6c42\u307e\u308a\u307e\u3057\u305f\u3002\n  \u691c\u7b97\u3057\u3066\u307f\u307e\u3059\u3002\u25b3-\uff39\u5909\u63db\u3092\u4f7f\u3044\u307e\u3059\u3002\u9802\u70b91\u3067\u300120\u00d730/(20+30+50)=6\u3002\u9802\u70b92\u3067\u300120\u00d750/(20+30+50)=10\u3002\u9802\u70b93\u3067\u300130\u00d750/(20+30+50)=15\u3002\u76f4\u4e26\u5217\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u308b\u3068\u30016+1/(1/(10+16) + 1/(15+13))\u224819.4815\u03a9\u3068\u306a\u308a\u3001\u5408\u3063\u3066\u3044\u307e\u3059\u3002\n\n#3 Oh, so you think you're such a whiz at EE201?\n \u3053\u3053\u304b\u3089\u304c\u672c\u984c\u3067\u3059\u3002Twitter\u3067Matthew Skala\u6c0f([@mattskala](https://twitter.com/mattskala))\u304b\u3089\u3001\u300c[\u3053\u3053](https://xkcd.com/730/)\u306eCircuit Diagram\u306e\u53f3\u771f\u3093\u4e2d\u306e\u30a6\u30b5\u30ae\u306e\u5de3(\u30e9\u30c3\u30c4\u30fb\u30cd\u30b9\u30c8)\u306e\u56de\u8def\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u300d(\u610f\u8a33)\u3068\u306e\u30c4\u30d6\u30e4\u30ad\u304c\u79c1\u5b9b\u306b\u6765\u307e\u3057\u305f\u3002\u0394-Y\u5909\u63db\u3067\u89e3\u3051\u308b\u306e\u3067\u3059\u304c\u3001\u306a\u3093\u304b\u666e\u901a\u904e\u304e\u3066\u30c4\u30de\u30e9\u30ca\u30a4\u306e\u3067\u30b0\u30e9\u30d5\u3068\u884c\u5217\u3092\u4f7f\u3063\u3066\u5408\u6210\u62b5\u6297\u3092\u8a08\u7b97\u3057\u307e\u3057\u305f\u3002\n![\u62b5\u6297\u7db2_1.png](https://qiita-image-store.s3.amazonaws.com/0/119510/74f0786c-0ca7-3dc6-17a3-4301202a0e07.png)\n\u3000\u4e0a\u56f3\u306e\u56de\u8def\u306f\u62b5\u6297\u5024\u304c\u5168\u30661\u03a9\u3002\u9802\u70b91\u304b\u308914\u306e\u5408\u6210\u62b5\u6297\u3092\u6c42\u3081\u307e\u3059\u3002\n\n\u5148\u306e\u56de\u8def\u3068\u540c\u69d8\u306b\u63a5\u7d9a\u3092\u30b0\u30e9\u30d5\u3067\u8868\u3057\u3066\u3001\u9802\u70b91\u304b\u308914\u306b\u96fb\u5727\u6e90\u304c\u3042\u308b\u3068\u3057\u3066\u3001\u96fb\u6d41\u6e90\u306f\u306a\u3057\u3067\u3001\u8a08\u7b97\u3092\u3057\u307e\u3059\u3002\n\n```Mathematica:Mathematica\nClear[\"Global`*\"];\ng1 = Graph[Range[14],\n   {1 -> 2, 1 -> 3, 1 -> 4, 1 -> 5, 5 -> 6, 6 -> 7, 7 -> 8, 5 -> 9, \n    7 -> 12, 9 -> 12, 9 -> 4, 12 -> 14, 12 -> 4, 14 -> 13, 14 -> 4, \n    13 -> 11, 13 -> 4, 4 -> 11, 4 -> 3, 3 -> 2, 2 -> 10, 3 -> 10, \n    10 -> 13, 11 -> 10, 3 -> 8, 4 -> 5, 6 -> 8, 1 -> 14}];\n(* Conductance Matrix  1/x -> Inf *)\ngb = IdentityMatrix[\n   EdgeCount[g1]] Append[Table[1, {EdgeCount[g1] - 1}], \n    x]^-1;\n(* Voltage Source Matrix *)\nv = Append[Table[0, {EdgeCount[g1] - 1}], v1];\n(* Current Source Matrix *)\ni = Table[0, {EdgeCount[g1]}];\n\na = -1 Drop[1 IncidenceMatrix[g1], -1];\ngn = a.gb.Transpose[a];\nisn = (a.(gb.v - i)); \nvn = Inverse[gn].isn;\nvb = Transpose[a].vn;\nib = -(gb.vb + i - gb.v);\nLimit[vb, x -> 0][[28]]/Limit[ib, x -> 0][[28]]\n\nOut[620]= 25265/33783\n```\n  \u5408\u6210\u62b5\u6297\u306f33,783\u5206\u306e25,265\u3068\u6c42\u307e\u308a\u307e\u3057\u305f\u3002\u7d040.747861\u03a9\u306b\u306a\u308a\u307e\u3059\u3002\n\u691c\u7b97\u306fMatthew Skala\u6c0f\u304c\u7d20\u6674\u3089\u3057\u3044Prolog\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u9802\u3044\u305f\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```prolog:deltawye.pl\nparallel_simplify(A,Z,M):-\n  delete(res(X,Y,R1),A,B),delete(res(X,Y,R2),B,C),\n  R3 is rational(1)/((rational(1)/R1)+(rational(1)/R2)),\n  sprintf(M,\"Parallel: %w -- %w (%w||%w = %w)%n\",[X,Y,R1,R2,R3]),\n  Z=[res(X,Y,R3)|C].\n\nseries_simplify(A,Z,M):-\n  delete(res(X,W,R1),A,B),delete(res(W,Y,R2),B,C),\n  W\\=locked(_),\n  \\+memberchk(res(_,W,_),C),\\+memberchk(res(W,_,_),C),\n  R3 is R1+R2,\n  sprintf(M,\"Series:  %w -- %w -- %w (%w+%w = %w)%n\",[X,W,Y,R1,R2,R3]),\n  Z=[res(X,Y,R3)|C].\nseries_simplify(A,Z,M):-\n  delete(res(W,X,R1),A,B),delete(res(W,Y,R2),B,C),X@<Y,\n  W\\=locked(_),\n  \\+memberchk(res(_,W,_),C),\\+memberchk(res(W,_,_),C),\n  R3 is R1+R2,\n  sprintf(M,\"Series:  %w -- %w -- %w (%w+%w = %w)%n\",[X,W,Y,R1,R2,R3]),\n  Z=[res(X,Y,R3)|C].\nseries_simplify(A,Z,M):-\n  delete(res(X,W,R1),A,B),delete(res(Y,W,R2),B,C),X@<Y,\n  W\\=locked(_),\n  \\+memberchk(res(_,W,_),C),\\+memberchk(res(W,_,_),C),\n  R3 is R1+R2,\n  sprintf(M,\"Series:  %w -- %w -- %w (%w+%w = %w)%n\",[X,W,Y,R1,R2,R3]),\n  Z=[res(X,Y,R3)|C].\n\nwye_delta_simplify(A,Z,M):-\n  (delete(res(N1,NX,R1),A,B);delete(res(NX,N1,R1),A,B)),\n  (delete(res(N2,NX,R2),B,C);delete(res(NX,N2,R2),B,C)),N1@<N2,\n  (delete(res(N3,NX,R3),C,D);delete(res(NX,N3,R3),C,D)),N2@<N3,\n  NX\\=locked(_),\n  \\+memberchk(res(_,NX,_),D),\\+memberchk(res(NX,_,_),D),\n  RNum is (R1*R2)+(R2*R3)+(R1*R3),\n  RA is rational(RNum)/R1,\n  RB is rational(RNum)/R2,\n  RC is rational(RNum)/R3,\n  sprintf(M,\"Wye -> delta, remove %w%n\",[NX]),\n  Z=[res(N1,N2,RC),res(N2,N3,RA),res(N1,N3,RB)|D].\n\nspare_node_name(foo).\nspare_node_name(bar).\nspare_node_name(baz).\nspare_node_name(quux).\nspare_node_name(alice).\nspare_node_name(bob).\nspare_node_name(carol).\nspare_node_name(dave).\n\ndelta_wye_simplify(A,Z,M):-\n  delete(res(N1,N2,RC),A,B),\n  delete(res(N2,N3,RA),B,C),\n  delete(res(N1,N3,RB),C,D),\n  spare_node_name(NX),\n  \\+memberchk(res(_,NX,_),D),\\+memberchk(res(NX,_,_),D),\n  RDenom is RA+RB+RC,\n  R1 is rational(RB*RC)/RDenom,\n  R2 is rational(RA*RC)/RDenom,\n  R3 is rational(RA*RB)/RDenom,\n  (N1@<NX->RI1=res(N1,NX,R1);\n           RI1=res(NX,N1,R1)),\n  (N2@<NX->RI2=res(N2,NX,R2);\n           RI2=res(NX,N2,R2)),\n  (N3@<NX->RI3=res(N3,NX,R3);\n           RI3=res(NX,N3,R3)),\n  sprintf(M,\"Delta -> wye, insert %w among %w, %w, %w%n\",[NX,N1,N2,N3]),\n  Z=[RI1,RI2,RI3|D].\n\nall_simplify(A,Z):-\n  series_simplify(A,X,M),!,\n  write(M),\n  all_simplify(X,Z).\nall_simplify(A,Z):-\n  parallel_simplify(A,X,M),!,\n  write(M),\n  all_simplify(X,Z).\nall_simplify(A,Z):-\n  wye_delta_simplify(A,X,M),!,\n  write(M),\n  all_simplify(X,Z).\nall_simplify(A,Z):-\n  delta_wye_simplify(A,X,M1),\n  series_simplify(X,Y,M2),!,\n  write(M1),write(M2),\n  all_simplify(Y,Z).\nall_simplify(A,Z):-\n  delta_wye_simplify(A,X,M1),\n  parallel_simplify(X,Y,M2),!,\n  write(M1),write(M2),\n  all_simplify(Y,Z).\nall_simplify(A,Z):-\n  delta_wye_simplify(A,X,M1),\n  delta_wye_simplify(X,Y,M2),\n  series_simplify(Y,W,M3),!,\n  write(M1),write(M2),write(M3),\n  all_simplify(W,Z).\nall_simplify(A,A).\n\nxkcd_problem([\n  res(a,locked(x),1),res(b,locked(x),1),res(c,locked(x),1),res(d,locked(x),1),\n  res(a,b,1),res(a,e,1),res(a,h,1),\n  res(b,c,1),res(b,h,1),res(b,i,1),res(b,k,1),res(b,l,1),res(b,locked(y),1),\n  res(c,d,1),res(c,f,1),res(c,j,1),\n  res(d,j,1),\n  res(e,f,1),res(e,g,1),\n  res(f,g,1),\n  res(g,l,1),\n  res(h,l,1),\n  res(i,k,1),res(i,j,1),\n  res(j,k,1),\n  res(k,locked(y),1),\n  res(l,locked(y),1)\n]).\n```\n\n [ECLiPSe](http://eclipseclp.org/)\u3092\u8d77\u52d5\u3057\u3066\u3001\u4e0b\u8a18\u306e\u8981\u9818\u3067Query\u3092\u767a\u884c\u3059\u308b\u3068\u3001\n\n```prolog:ECLiPSe\n\n\uff3beclipse 1]: [deltawye].\n\uff3beclipse 2]: xkcd_problem(X),all_simplify(X,Y).\n\n\u9014\u4e2d\u7d50\u679c\u7701\u7565\n\nParallel: bar -- locked(x) (71273861175_58183029877||863925590_871760449 = 18150_33131)\nParallel: bar -- locked(y) (27225_10577||3_7 = 27225_74102)\nSeries:  locked(x) -- bar -- locked(y) (18150_33131+27225_74102 = 45855975_50103538)\nParallel: locked(x) -- locked(y) (45855975_50103538||9075_2219 = 25265_33783)\nX = [res(a, locked(x), 1), res(b, locked(x), 1), res(c, locked(x), 1), res(d, locked(x), 1), res(a, b, 1), res(a, e, 1), res(a, h, 1), res(b, c, 1), res(b, h, 1), res(b, i, 1), res(b, k, 1), res(b, l, 1), res(b, locked(y), 1), res(c, d, 1), res(c, f, 1), res(c, j, 1), res(d, j, 1), res(e, f, 1), res(...), ...]\nY = [res(locked(x), locked(y), 25265_33783)]\nYes (0.07s cpu)\n```\n25265_33783\u3068\u7b54\u3048\u304c\u5e30\u3063\u3066\u304d\u307e\u3059\u3002\n", "tags": ["Mathematica", "Prolog", "\u96fb\u5b50\u5de5\u4f5c", "\u96fb\u5b50\u56de\u8def", "\u30b0\u30e9\u30d5\u7406\u8ad6"]}