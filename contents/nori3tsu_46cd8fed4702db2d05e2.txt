{"context": "Github\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u307f\u306a\u304c\u3089Amazon Linux\u3078\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u8d77\u52d5\u307e\u3067\u3092\u30e1\u30e2\u3002\n\n\u74b0\u5883\n\nAmazon Linux AMI 2015.09.2 (HVM), SSD Volume Type\nbitcoin v0.12.0\n\n\n\u4e8b\u524d\u6e96\u5099\nSSD100GB, t2.medium\u3067EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\u3057\u3066\u304a\u304f\u3002\n\n\u624b\u9806\n\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n$ sudo yum install -y gcc-c++ autoconf automake libtool boost-devel openssl-devel libevent-devel\n\nbitcoin\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002\n$ curl -L https://github.com/bitcoin/bitcoin/archive/v0.12.0.tar.gz -o bitcoin-0.12.0.tar.gz\n$ tar zxvf bitcoin-0.12.0.tar.gz\n$ cd bitcoin-0.12.0\n\nBerkeley DB\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n$ BITCOIN_ROOT=$(pwd)\n\n$ BDB_PREFIX=\"${BITCOIN_ROOT}/db4\"\n$ mkdir -p $BDB_PREFIX\n\n$ wget 'http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz'\n$ echo '12edc0df75bf9abd7f82f821795bcee50f42cb2e5f76a6a281b85732798364ef  db-4.8.30.NC.tar.gz' | sha256sum -c\n$ tar -xzvf db-4.8.30.NC.tar.gz\n\n$ cd db-4.8.30.NC/build_unix/\n$ ../dist/configure --enable-cxx --disable-shared --with-pic --prefix=$BDB_PREFIX\n$ make install\n\nbitcoin\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n$ cd $BITCOIN_ROOT\n$ ./autogen.sh\n$ ./configure LDFLAGS=\"-L${BDB_PREFIX}/lib/\" CPPFLAGS=\"-I${BDB_PREFIX}/include/\"\n\n$ make && sudo make install && echo DONE\n...\nDONE\n\n\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3092init.d\u306b\u914d\u7f6e\u3057\u3066\u30b5\u30fc\u30d3\u30b9\u306b\u767b\u9332\u3002\n$ sudo cp ./contrib/init/bitcoind.init /etc/init.d/bitcoind\n$ sudo chmod 755 /etc/init.d/bitcoind\n$ sudo chkconfig --add bitcoind\n$ sudo chkconfig bitcoind on\n\n\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3002\n$ sudo mkdir /etc/bitcoin\n$ sudo vi /etc/sysconfig/bitcoind\n# \u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8a2d\u5b9a\u3002\nBITCOIND_BIN=\"/usr/local/bin/bitcoind\"\nBITCOIND_OPTS=\"-daemon -disablewallet -datadir=/var/lib/bitcoin -conf=/etc/bitcoin/bitcoin.conf\"\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3002\n$ sudo cp ./contrib/debian/examples/bitcoin.conf /etc/bitcoin/\n$ sudo vi /etc/bitcoin/bitcoin.conf\n# \u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8a2d\u5b9a\u3002\nrpcbind=0.0.0.0\nrpcuser=xxxuser\nrpcpassword=xxxpass\nrpcport=8332\n\n\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3002\n$ sudo mkdir /var/lib/bitcoin\n\n\n\u8d77\u52d5\n$ sudo service bitoind start\n\n\u30d6\u30ed\u30c3\u30af\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u3001\u30c7\u30fc\u30e2\u30f3\u8d77\u52d5OK\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u8868\u793a\u3055\u308c\u306a\u3044\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306eblocks\u3068blockchain.info\u306e\u6700\u65b0\u30d6\u30ed\u30c3\u30af\u306e\u5dee\u5206\u304b\u3089\u304a\u304a\u3088\u305d\u306e\u9032\u6357\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\u8ffd\u8a18: \u30c7\u30fc\u30e2\u30f3\u8d77\u52d5\u304c\u5b8c\u4e86\u3057\u306a\u3044\u306e\u306f\u3001\u5358\u306b\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u304b\u3089 -daemon \u304c\u629c\u3051\u3066\u3044\u305f\u3060\u3051\u3060\u3063\u305f\u3002\n$ sudo /usr/local/bin/bitcoin-cli -conf=/etc/bitcoin/bitcoin.conf getinfo\n{\n  \"version\": 120000,\n  \"protocolversion\": 70012,\n  \"blocks\": 261496,\n  \"timeoffset\": -1,\n  \"connections\": 8,\n  \"proxy\": \"\",\n  \"difficulty\": 148819199.8050926,\n  \"testnet\": false,\n  \"paytxfee\": 0.00000000,\n  \"relayfee\": 0.00001000,\n  \"errors\": \"\"\n}\n\n\n\u7a3c\u50cd\u78ba\u8a8d\n\u7a3c\u50cd\u78ba\u8a8d\u306e\u305f\u3081bitcoin\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fAmazon Linux\u306bSSH\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3002\n$ ssh -L '8832:127.0.0.1:8832' bitcoin-node\n\n\u5225\u30bf\u30fc\u30df\u30ca\u30eb\u306ePython\u304b\u3089\u30d6\u30ed\u30c3\u30af\u6570\u3092\u78ba\u8a8d\u3002\n$ sudo pip install python-bitcoinlib\n$ python\n>>> import bitcoin.rpc\n>>> proxy = bitcoin.rpc.Proxy(service_url='http://xxxuser:xxxpass@127.0.0.1:8332')\n>>> proxy.getblockcount()\n311367\n\n\n\u53c2\u8003\n\nbitcoin/build-unix.md at master \u00b7 bitcoin/bitcoin\nbitcoin/init.md at master \u00b7 bitcoin/bitcoin\n\n\nGithub\u306e[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://github.com/bitcoin/bitcoin/blob/master/doc/build-unix.md)\u3092\u8aad\u307f\u306a\u304c\u3089Amazon Linux\u3078\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u8d77\u52d5\u307e\u3067\u3092\u30e1\u30e2\u3002\n\n## \u74b0\u5883\n\n* Amazon Linux AMI 2015.09.2 (HVM), SSD Volume Type\n* bitcoin v0.12.0\n\n## \u4e8b\u524d\u6e96\u5099\n\nSSD100GB, t2.medium\u3067EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\u3057\u3066\u304a\u304f\u3002\n\n## \u624b\u9806\n\n\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```\n$ sudo yum install -y gcc-c++ autoconf automake libtool boost-devel openssl-devel libevent-devel\n```\n\nbitcoin\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002\n\n```\n$ curl -L https://github.com/bitcoin/bitcoin/archive/v0.12.0.tar.gz -o bitcoin-0.12.0.tar.gz\n$ tar zxvf bitcoin-0.12.0.tar.gz\n$ cd bitcoin-0.12.0\n```\n\nBerkeley DB\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```\n$ BITCOIN_ROOT=$(pwd)\n\n$ BDB_PREFIX=\"${BITCOIN_ROOT}/db4\"\n$ mkdir -p $BDB_PREFIX\n\n$ wget 'http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz'\n$ echo '12edc0df75bf9abd7f82f821795bcee50f42cb2e5f76a6a281b85732798364ef  db-4.8.30.NC.tar.gz' | sha256sum -c\n$ tar -xzvf db-4.8.30.NC.tar.gz\n\n$ cd db-4.8.30.NC/build_unix/\n$ ../dist/configure --enable-cxx --disable-shared --with-pic --prefix=$BDB_PREFIX\n$ make install\n```\n\nbitcoin\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```\n$ cd $BITCOIN_ROOT\n$ ./autogen.sh\n$ ./configure LDFLAGS=\"-L${BDB_PREFIX}/lib/\" CPPFLAGS=\"-I${BDB_PREFIX}/include/\"\n\n$ make && sudo make install && echo DONE\n...\nDONE\n```\n\n\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u3092init.d\u306b\u914d\u7f6e\u3057\u3066\u30b5\u30fc\u30d3\u30b9\u306b\u767b\u9332\u3002\n\n```\n$ sudo cp ./contrib/init/bitcoind.init /etc/init.d/bitcoind\n$ sudo chmod 755 /etc/init.d/bitcoind\n$ sudo chkconfig --add bitcoind\n$ sudo chkconfig bitcoind on\n```\n\n\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3002\n  \n```\n$ sudo mkdir /etc/bitcoin\n$ sudo vi /etc/sysconfig/bitcoind\n# \u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8a2d\u5b9a\u3002\nBITCOIND_BIN=\"/usr/local/bin/bitcoind\"\nBITCOIND_OPTS=\"-daemon -disablewallet -datadir=/var/lib/bitcoin -conf=/etc/bitcoin/bitcoin.conf\"\n```\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3002\n\n```\n$ sudo cp ./contrib/debian/examples/bitcoin.conf /etc/bitcoin/\n$ sudo vi /etc/bitcoin/bitcoin.conf\n# \u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8a2d\u5b9a\u3002\nrpcbind=0.0.0.0\nrpcuser=xxxuser\nrpcpassword=xxxpass\nrpcport=8332\n```\n\n\u30c7\u30fc\u30bf\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3002\n\n```\n$ sudo mkdir /var/lib/bitcoin\n```\n\n## \u8d77\u52d5\n\n```\n$ sudo service bitoind start\n```\n\n~~\u30d6\u30ed\u30c3\u30af\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u3001\u30c7\u30fc\u30e2\u30f3\u8d77\u52d5OK\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u8868\u793a\u3055\u308c\u306a\u3044\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306eblocks\u3068[blockchain.info](https://blockchain.info/)\u306e\u6700\u65b0\u30d6\u30ed\u30c3\u30af\u306e\u5dee\u5206\u304b\u3089\u304a\u304a\u3088\u305d\u306e\u9032\u6357\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002~~\n\n\u8ffd\u8a18: \u30c7\u30fc\u30e2\u30f3\u8d77\u52d5\u304c\u5b8c\u4e86\u3057\u306a\u3044\u306e\u306f\u3001\u5358\u306b\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u304b\u3089 `-daemon` \u304c\u629c\u3051\u3066\u3044\u305f\u3060\u3051\u3060\u3063\u305f\u3002\n\n```\n$ sudo /usr/local/bin/bitcoin-cli -conf=/etc/bitcoin/bitcoin.conf getinfo\n{\n  \"version\": 120000,\n  \"protocolversion\": 70012,\n  \"blocks\": 261496,\n  \"timeoffset\": -1,\n  \"connections\": 8,\n  \"proxy\": \"\",\n  \"difficulty\": 148819199.8050926,\n  \"testnet\": false,\n  \"paytxfee\": 0.00000000,\n  \"relayfee\": 0.00001000,\n  \"errors\": \"\"\n}\n```\n\n## \u7a3c\u50cd\u78ba\u8a8d\n\n\u7a3c\u50cd\u78ba\u8a8d\u306e\u305f\u3081bitcoin\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fAmazon Linux\u306bSSH\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3002\n\n```\n$ ssh -L '8832:127.0.0.1:8832' bitcoin-node\n```\n\n\u5225\u30bf\u30fc\u30df\u30ca\u30eb\u306ePython\u304b\u3089\u30d6\u30ed\u30c3\u30af\u6570\u3092\u78ba\u8a8d\u3002\n\n```\n$ sudo pip install python-bitcoinlib\n$ python\n>>> import bitcoin.rpc\n>>> proxy = bitcoin.rpc.Proxy(service_url='http://xxxuser:xxxpass@127.0.0.1:8332')\n>>> proxy.getblockcount()\n311367\n```\n\n## \u53c2\u8003\n\n* [bitcoin/build-unix.md at master \u00b7 bitcoin/bitcoin](https://github.com/bitcoin/bitcoin/blob/master/doc/build-unix.md)\n* [bitcoin/init.md at master \u00b7 bitcoin/bitcoin](https://github.com/bitcoin/bitcoin/blob/master/doc/init.md)\n", "tags": ["Bitcoin", "AWS"]}