{"tags": ["Flask", "Python"], "context": "Try to deploy a flask demo app \nthis is the app structure:\n.\n\u251c\u2500\u2500 flaskdemo1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 flaskr.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 flaskr_tests.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 README\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 schema.sql\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 style.css\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 templates\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 layout.html\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 login.html\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 show_entries.html\n\u2514\u2500\u2500 flaskdemo1.wsgi\n\n\nso the file flaskdemp1.wsgi is the entry point for this app.\nlet us check what says in this script file:\n#!/home/matt/env1/bin/python2.7\nimport sys\nimport os\nimport site\nimport logging\nlogging.basicConfig(stream=sys.stderr)\n\nsite.addsitedir('~/env1/lib/python2.7/site-packages')\nsys.path.insert(0,\"/var/www/flaskdemo1/\")\n# above lines they just prepare the environments.\n\n# this line is to load flaskr app as a entrypoint\nfrom flaskdemo1.flaskr import app as application\n\n.\n\u251c\u2500\u2500 flaskdemo1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 flaskr.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 flaskr_tests.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 README\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 schema.sql\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 style.css\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 templates\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 layout.html\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 login.html\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 show_entries.html\n\nhere, this is a complete flask app, firstly let add a __init__.py file to make this folder as a module. so that we can load this app as a module in the wsgi file:\nfrom flaskdemo1.flaskr import app as application\n\nso, at here, we can start this flask app rightly with apache+mod_wsgi.\nbut, when we do open the domain of this app in browser, what's happening in the app internal? let us dig this point.\n\n\nTry to deploy a flask demo app \n\nthis is the app structure:\n\n```\n.\n\u251c\u2500\u2500 flaskdemo1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 flaskr.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 flaskr_tests.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 README\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 schema.sql\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 style.css\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 templates\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 layout.html\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 login.html\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 show_entries.html\n\u2514\u2500\u2500 flaskdemo1.wsgi\n\n```\n\nso the file `flaskdemp1.wsgi` is the entry point for this app.\nlet us check what says in this script file:\n\n```\n#!/home/matt/env1/bin/python2.7\nimport sys\nimport os\nimport site\nimport logging\nlogging.basicConfig(stream=sys.stderr)\n\nsite.addsitedir('~/env1/lib/python2.7/site-packages')\nsys.path.insert(0,\"/var/www/flaskdemo1/\")\n# above lines they just prepare the environments.\n\n# this line is to load flaskr app as a entrypoint\nfrom flaskdemo1.flaskr import app as application\n```\n\n```\n.\n\u251c\u2500\u2500 flaskdemo1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 flaskr.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 flaskr_tests.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 README\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 schema.sql\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 style.css\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 templates\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 layout.html\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 login.html\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 show_entries.html\n```\n\nhere, this is a complete flask app, firstly let add a `__init__.py` file to make this folder as a module. so that we can load this app as a module in the `wsgi` file:\n\n```\nfrom flaskdemo1.flaskr import app as application\n```\n\nso, at here, we can start this flask app rightly with apache+mod_wsgi.\nbut, when we do open the domain of this app in browser, what's happening in the app internal? let us dig this point.\n"}