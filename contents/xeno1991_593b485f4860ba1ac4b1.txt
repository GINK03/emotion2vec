{"context": " More than 1 year has passed since last update.\n\n\uff13\u884c\u3067\nsqlite\u306bprotocol buffers\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u7a81\u3063\u8fbc\u307f\u307e\u3059\u3002\n\nsqlite\u306bblob\u306e\u30ab\u30e9\u30e0\u3092\u4f5c\u308b\n\u7a81\u3063\u8fbc\u3080\u3068\u304d\u306fbuffer\u3067\n\u8aad\u307f\u8fbc\u3080\u3068\u304d\u306fstr\u3067\n\n\uff08protobuf\u95a2\u4fc2\u306a\u304f\u3066\u305f\u3060\u30d0\u30a4\u30ca\u30ea\u3068\u3057\u3066\u6271\u3063\u3066\u308b\u3060\u3051\u3067\u3059\u306d\uff09\n\n\u4f8b\n\nperson.proto\nmessage Person {\n   optional string name = 1;\n   optional int32 age = 2;\n }\n\n\n\nsample.py\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nimport sqlite3\nfrom person_pb2 import Person\n\n\nif __name__ == '__main__':\n    # \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3068\u30c7\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n    conn = sqlite3.connect(\":memory:\")\n    c = conn.cursor()\n    c.execute(\"create table people (person blob)\")\n\n    p = Person(name=\"John Doe\", age=128)\n    print p\n\n    # \u66f8\u304d\u8fbc\u307f\n    wb = buffer(p.SerializeToString())\n    c.execute(\"insert into people values (?)\", [wb])\n\n    # \u8aad\u307f\u8fbc\u307f\n    c.execute(\"select * from people\")\n    rb = c.fetchone()[0]\n    q = Person()\n    q.ParseFromString(str(rb))\n    print q\n\n\n\n\u7d50\u679c\nname: \"John Doe\"                                      \nage: 128                                              \n\nname: \"John Doe\"                                      \nage: 128\n\n\u8aad\u307f\u66f8\u304d\u3067\u304d\u307e\u3057\u305f\u3002\n# \uff13\u884c\u3067\nsqlite\u306bprotocol buffers\u306e\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u7a81\u3063\u8fbc\u307f\u307e\u3059\u3002\n\n1. sqlite\u306b`blob`\u306e\u30ab\u30e9\u30e0\u3092\u4f5c\u308b\n2. \u7a81\u3063\u8fbc\u3080\u3068\u304d\u306f`buffer`\u3067\n3. \u8aad\u307f\u8fbc\u3080\u3068\u304d\u306f`str`\u3067\n\n\uff08protobuf\u95a2\u4fc2\u306a\u304f\u3066\u305f\u3060\u30d0\u30a4\u30ca\u30ea\u3068\u3057\u3066\u6271\u3063\u3066\u308b\u3060\u3051\u3067\u3059\u306d\uff09\n\n# \u4f8b\n\n```person.proto\nmessage Person {\n   optional string name = 1;\n   optional int32 age = 2;\n }\n```\n\n```sample.py\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nimport sqlite3\nfrom person_pb2 import Person\n\n\nif __name__ == '__main__':\n    # \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u3068\u30c7\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n    conn = sqlite3.connect(\":memory:\")\n    c = conn.cursor()\n    c.execute(\"create table people (person blob)\")\n\n    p = Person(name=\"John Doe\", age=128)\n    print p\n\n    # \u66f8\u304d\u8fbc\u307f\n    wb = buffer(p.SerializeToString())\n    c.execute(\"insert into people values (?)\", [wb])\n\n    # \u8aad\u307f\u8fbc\u307f\n    c.execute(\"select * from people\")\n    rb = c.fetchone()[0]\n    q = Person()\n    q.ParseFromString(str(rb))\n    print q\n```\n\n## \u7d50\u679c\n```\nname: \"John Doe\"                                      \nage: 128                                              \n                                                      \nname: \"John Doe\"                                      \nage: 128\n```\n\n\u8aad\u307f\u66f8\u304d\u3067\u304d\u307e\u3057\u305f\u3002\n", "tags": ["SQLite3", "ProtocolBuffers", "Python"]}