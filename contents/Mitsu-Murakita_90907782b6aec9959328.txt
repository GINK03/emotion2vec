{"context": "\n\n1. \u306f\u3058\u3081\u306b\nRaspberry Pi\u7528OS\u306e\u6700\u65b0Raspbian\u306b\u306fNode-RED\u304c\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u3066\u3001Node-RED\u3067\u306e\u958b\u767a\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u672c\u6295\u7a3f\u3067\u306f\u3001\u4e00\u304b\u3089\u69cb\u7bc9\u3059\u308b\u5834\u5408\u306e\u624b\u9806\u3068\u3057\u3066\u3001Rasbian OS\u306e\u5c0e\u5165\u304b\u3089Node-RED\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3001Watson\u30ce\u30fc\u30c9\u306e\u8ffd\u52a0\u306b\u3064\u3044\u3066\u624b\u9806\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\nWatson\u306b\u306f\u3001\n(1)Watson Congnitive\n(2)Watson Analytics\n(3)Watson IoT\n\u304c\u3042\u308a\u3001\u6700\u65b0Raspbian\u306b\u306fWatson IoT\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u6b63\u5e38\u52d5\u4f5c\u3057\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001Node-Red,Watson IoT\u3092\u6700\u65b0\u3057\u305f\u4e0a\u3067\u3001Watson Cognitive\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n2. \u69cb\u6210\n(1)Raspberry Pi2 Model B\n(2)Raspbian OS 2017\u5e74\uff11\u6708\u73fe\u5728\u3067\u306e\u6700\u65b0\u7248\n(3)\u7121\u7dda\u5b50\u6a5fUSB\u63a5\u7d9a\u3000Buffalo\u3000WLI-UC-GNME\n\n3. Raspbian\u95a2\u9023\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u3001\n\u30fb\u300cRAW\u30a4\u30e1\u30fc\u30b8\u300d\n\u30fb\u300cNOOBS\u300d\n\u306e\uff12\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u300cRAW\u30a4\u30e1\u30fc\u30b8\u300d\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\n3-1. \u66f8\u8fbc\u307f\u30c4\u30fc\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nRAW\u30c7\u30a3\u30b9\u30af\u30a4\u30e1\u30fc\u30b8\u3092microSD\u306b\u66f8\u304d\u8fbc\u3080\u30c4\u30fc\u30eb\u306f\u3001\u300cWin32 Disk Imager\u300d\u3092\u4f7f\u7528\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\uff1a\nhttp://sourceforge.net/projects/win32diskimager/\n\n\n3-2.Raspbian\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\uff1a\nhttps://www.raspberrypi.org/downloads/raspbian/\n\nRaspbian Jessie with PIXEL\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u300c2017-01-11-raspbian-jessie.zip\u300d\n\n3-3.Raspbian\u3092microSD\u3078\u66f8\u8fbc\u307f\n\u66f8\u8fbc\u307f\u306b\u4f7f\u7528\u3059\u308bWindowsPC\u5074\u3067\u306e\u64cd\u4f5c\u3067\u3059\u3002\n\u30fbmicroSD\u3092WindowsPC\u3067\u8a8d\u8b58\u3055\u305b\u308b\u3002\n\n\u300cWin32 Disk Imager\u300d\u8d77\u52d5\n\n\u2460\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u300c2017-01-11-raspbian-jessie.img\u300d\n\u2461PC\u3067\u8a8d\u8b58\u3057\u305fmicroSD\u306e\u30c9\u30e9\u30a4\u30d6\n\u2462\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n\u66f8\u8fbc\u307f\u5b8c\u4e86\u3067\u3059\u3002\n\nmicroSD\u30ab\u30fc\u30c9\u3092\u629c\u3044\u3066\u3001Raspberry Pi\u306b\u633f\u5165\u3057\u3066\u304b\u3089\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n3-4.Raspbian\u306e\u57fa\u672c\u8a2d\u5b9a\n\u96fb\u6e90\u3001\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3001\u30de\u30a6\u30b9\u3001\u7121\u7dda\u5b50\u6a5f\u3092\u63a5\u7d9a\u3057\u3066\u3001\u96fb\u6e90ON\u3002\n\nOS\u306e\u9078\u629e\u3002\n\nOS\uff1aRasbian \u3001\u8a00\u8a9e\uff1a\u65e5\u672c\u8a9e\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\uff1aJP\u3092\u9078\u629e\u3002\n\n\u300cY\u300d\u5165\u529b\u3002\nRasbian\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u3002\n\nOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\nOS\u8d77\u52d5\u5f8c\u3001\u30b5\u30fc\u30d3\u30b9\u3068\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3001\u30b5\u30a6\u30f3\u30c9\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u300cPreferances\u300d\u21d2\u300cRaspberry Pi Configuration\u300d\n\u3053\u3053\u3067\u306f\u3001SSH, VNC, Serial, 1-Ware\u3092Enable\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n\n\u300cOK\u300d\nLocation\u8a2d\u5b9a-TimeZone\n\nLocation\u8a2d\u5b9a-Keyboard\n\n\n\u300cYes\u300d\u3067\u30ea\u30d6\u30fc\u30c8\u3002\n\u7121\u7dda\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a2d\u5b9a\u3002\n\n\u30b5\u30a6\u30f3\u30c9\u306e\u8a2d\u5b9a\u3002\n\n\n3-5.Raspbian\u3092\u6700\u65b0\u306b\u3059\u308b\nRaspian\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\uff08Raspbian Jessie\uff09\u3067\u306f\u3059\u3067\u306bNode-RED\u3068Watson IoT\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u4e00\u5ea6\u3059\u3079\u3066\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\nRaspbian\u3092update\nsudo apt-get -y update \u23ce \n\n\n\u5ff5\u306e\u305f\u3081\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u6210\u306e\u5909\u66f4\u306e\u3042\u3068\u306b\u5f93\u3063\u3066\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u3053\u308c\u3092\u3057\u306a\u3044\u3068Node-RED\u5b9f\u884c\u6642\u306b\u6b63\u5e38\u52d5\u4f5c\u3057\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\nRaspbian\u3092dist-update\nsudo apt-get dist-upgrade\n\n\n\u4e0b\u8a18\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u505c\u6b62\u3057\u305f\u3089\u3001\u201d\uff51\u201d\u3067\u753b\u9762\u3092\u9589\u3058\u307e\u3059\u3002\n\n\n3-6.Raspbian\u306b\u65e5\u672c\u8a9e\u74b0\u5883\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u65e5\u672c\u8a9e\u3092\u8868\u793a\u30fb\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\u65e5\u672c\u8a9e\u8868\u793a\u7528\nsudo apt-get install jfbterm\n\n\n\n\u65e5\u672c\u8a9e\u5165\u529b\u7528\nsudo apt-get install ibus-anthy\n\n\n\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n3-7.\u97f3\u58f0\u518d\u751f\u7528ALSA\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4eca\u56de\u3001\u97f3\u58f0\u3092\u30a4\u30e4\u30db\u30f3\u30b8\u30e3\u30c3\u30af\u7d4c\u7531\u3067\u9cf4\u3089\u3057\u305f\u3044\u306e\u3067\u3001ALSA\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u3092\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nALSA\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install libasound2-dev\n\n\n\n3-7.Raspbian\u306bnpm\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRaspbian\u306bnpm\u304c\u5f53\u7136\u5165\u3063\u3066\u3044\u308b\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u304c\u3001\u5165\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\nnpm\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install npm\n\n\n\n3-8.Raspbian\u306eNode-RED\u3092\u6700\u65b0\u306b\u3059\u308b\n\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3002\n\nNode-RED\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\nsudo node -v\n\n\n\u73fe\u5728\u3001V0.10.29 \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306fNode-RED\u8d77\u52d5\u6642\u3084Watson Cognitive\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u969b\u3001\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u306e\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002\nhttp://nodered.org/docs/hardware/raspberrypi.html\u3000\n\u306e\u201dUpgrading\u201d\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nnodejs\u3068Node-RED\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3000\u9014\u4e2d\"y\"\u3067\u7b54\u3048\u308b\nsudo update-nodejs-and-nodered\n\n\nNode-RED\u3092\u8d77\u52d5\u3059\u308b\u3068~/.node-red\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u304c\u81ea\u52d5\u7684\u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u4e00\u5ea6Node-RED\u3092\u8d77\u52d5\u3057\u81ea\u52d5\u4f5c\u6210\u3059\u308b\u304b\u3001\u624b\u4f5c\u696d\u3067\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306e\u5909\u66f4\ncd ~/.node-red\n\n\nNode-RED\u306e\u30ce\u30fc\u30c9\u3092\u518d\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n\u30ce\u30fc\u30c9\u306e\u518d\u69cb\u7bc9\nsudo npm rebuild\n\n\n\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u8a18\u8ff0\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30ce\u30fc\u30c9\u30ea\u30b9\u30c8\u306e\u78ba\u8a8d\nsudo npm ls --depth=0\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\n\nNode-RED\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\nsudo node -v\n\n\nV4.7.2\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3055\u308c\u307e\u3057\u305f\u3002\n\n3-9.\u521d\u671f\u72b6\u614b\u306e\u30ce\u30fc\u30c9\u78ba\u8a8d\n\u521d\u671f\u72b6\u614b\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30ce\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nNode-RED\u306e\u958b\u59cb\u3002\n\nNode-RED\u306e\u958b\u59cb\ncd ~/.node-red\nsudo node-red-start\n\n\nNode-RED\u304c\u958b\u59cb\u3055\u308c\u307e\u3057\u305f\u3002\n\nRaspberry Pi \u306eIP\u30a2\u30c9\u30ec\u30b9\u306f\u201d192.168.1.12\u201d\u3067\u3059\u3002\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8PC\u3088\u308a\u30dd\u30fc\u30c8\u756a\u53f7\u201d1880\u201d\u3092\u6307\u5b9a\u3057\u3001\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\nhttp://192.168.1.12:1880/\u3000\n\n\u6b63\u5e38\u52d5\u4f5c\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\u5c1a\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ce\u30fc\u30c9\u4e00\u89a7\u306f\u4e0b\u8a18\u3002\n\u5165\u529b\u3001\u51fa\u529b\u306b\u201dWatson IoT\u201d\u30ce\u30fc\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\n\nNode-RED\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\nNode-RED\u306e\u7d42\u4e86\ncd ~/.node-red\nsudo node-red-stop\n\n\n\n4. Watson Cognitive\u30ce\u30fc\u30c9\u306e\u8ffd\u52a0\n\u30ce\u30fc\u30c9\u3084\u30d5\u30ed\u30fc\u60c5\u5831\u306f\u4e0b\u8a18\u30b5\u30a4\u30c8\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nhttp://flows.nodered.org/\n\nWatson\u95a2\u9023\u306e\u30ce\u30fc\u30c9\u60c5\u5831\u306f\u3001\nhttp://flows.nodered.org/node/node-red-node-watson\n\u306b\u3042\u308a\u307e\u3059\u3002\n\nRaspberry\u306eWatson\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nWatson\u30ce\u30fc\u30c9\u306e\u8ffd\u52a0\ncd ~/.node-red\nsudo npm install node-red-node-watson\n\n\nNode-RED\u3092\u8d77\u52d5\u3057\u3066\u8ffd\u52a0\u3055\u308c\u305f\u30ce\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nWatson Cognitive\u95a2\u9023\u306e\u30ce\u30fc\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u3053\u308c\u3092\u4f7f\u7528\u3057\u3066\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n5. \u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\nRasberry Pi\u306eCPU\u6e29\u5ea6\u3092\u53d6\u5f97\u3057\u3001\u201dText to Speech\"\u3067\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\u3057\u305f\u3082\u306e\u3092\u3001Rasberry Pi\u306e\u30a4\u30e4\u30db\u30f3\u3067\u518d\u751f\u3059\u308b\u975e\u5e38\u306b\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002\n\n5-1. \u4f7f\u7528\u3059\u308bBluemix\u30b5\u30fc\u30d3\u30b9\nBluemix\u306e\u4e0b\u8a182\u3064\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u30fbInternet of Things Platform\n\u30fbWatson Text to Speech\n\n5-1-1. Internet of Things Platform\u306e\u767b\u9332\nBluemix\u306e\u30ab\u30bf\u30ed\u30b0\u3088\u308a\u3001\u201dInternet of Things Platform\u201d\u3092\u9078\u629e\u3002\n\n\u300c\u4f5c\u6210\u300d\n\n\u300c\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3092\u8d77\u52d5\u300d\n\n\u300c\u30c7\u30d0\u30a4\u30b9\u300d\n\n\u300c\u30c7\u30d0\u30a4\u30b9\u306e\u8ffd\u52a0\u300d\n\n\u300c\u30c7\u30d0\u30a4\u30b9\u30bf\u30a4\u30d7\u306e\u4f5c\u6210\u300d\n\n\u300c\u30c7\u30d0\u30a4\u30b9\u30bf\u30a4\u30d7\u306e\u4f5c\u6210\u300d\n\n\u3053\u3053\u3067\u306f\u3001\u540d\u524d\uff1a\"Raspberry-DevType\"\u3000\u3001\u8aac\u660e\uff1a\u201dMy Raspberry Device\u201d\u3068\u3057\u307e\u3057\u305f\u3002\u21d2\u300c\u6b21\u3078\u300d\n\u3053\u3053\u3067\u306f\u3001\u30e2\u30c7\u30eb\u306e\u307f\u767b\u9332\u3057\u307e\u3057\u305f\u3002\n\n\u300c\u30e2\u30c7\u30eb\u300d\u21d2\u300c\u6b21\u3078\u300d\n\n\u3053\u3053\u3067\u306f\u3001\u30e2\u30c7\u30eb\uff1a\"Raspberry Pi 2Model B\"\u3068\u3057\u307e\u3057\u305f\u3002\u21d2\u300c\u6b21\u3078\u300d\n\n\u300c\u6b21\u3078\u300d\n\n\u300c\u6b21\u3078\u300d\n\n\u3053\u3053\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9ID:\u201dRaspberryPi2-001\u201d\u3068\u3057\u307e\u3057\u305f\u3002\u21d2\u300c\u6b21\u3078\u300d\n\n\u300c\u6b21\u3078\u300d\n\n\u3053\u3053\u3067\u306f\u3001\u81ea\u52d5\u751f\u6210\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u3092\u9078\u629e\u3002\u21d2\u300c\u6b21\u3078\u300d\n\n\u300c\u6b21\u3078\u300d\n\n\u00d7\u3067\u9589\u3058\u308b\u3002\n\u4ee5\u4e0a\u3067\u4f5c\u6210\u5b8c\u4e86\u3002\n\u69cb\u6210\u3092\u30e1\u30e2\u3057\u307e\u3059\u3002\n\n\u69cb\u6210\n\u7d44\u7e54 ID \uff1ae6vifg \n\u30c7\u30d0\u30a4\u30b9\u30fb\u30bf\u30a4\u30d7\uff1aRaspberry-DevType \n\u30c7\u30d0\u30a4\u30b9 ID \uff1aRaspberrypi2-001 \n\u8a8d\u8a3c\u65b9\u5f0f \uff1atoken \n\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3 \uff1a(7BrB3rp&93E5aW8gi\n\n\n\n\n5-1-2. Watson Text to Speech\u306e\u767b\u9332\nBluemix\u30ab\u30bf\u30ed\u30b0\u3088\u308a\u3001Watson Text to Speech\u3092\u9078\u629e\u3002\n\n\u3053\u3053\u3067\u306f\u3001\u30b5\u30fc\u30d3\u30b9\u540d\uff1a\u201dText to Speech-el\u201d\u3001\u8cc7\u683c\u60c5\u5831\u540d\uff1a\u201dCredentials-1\u201d\u306f\u30b7\u30b9\u30c6\u30e0\u3067\u30a2\u30b5\u30a4\u30f3\u3055\u308c\u305f\u306e\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\u21d2\u300c\u4f5c\u6210\u300d\n\n\u300c\u30b5\u30fc\u30d3\u30b9\u8cc7\u683c\u60c5\u5831\u300d\u21d2\u300c\u8cc7\u683c\u60c5\u5831\u306e\u8868\u793a \u300d\n\u8cc7\u683c\u60c5\u5831\u3092\u30e1\u30e2\u3057\u307e\u3059\u3002 \n\n\u8cc7\u683c\u60c5\u5831\n{\n  \"url\": \"https://stream.watsonplatform.net/text-to-speech/api\",\n  \"password\": \"FrFi27YxDMr8\",\n  \"username\": \"1e629837-2c6d-4b0c-8b73-91fa127521db\"\n}\n\n\n\u4ee5\u4e0a\u3067\u767b\u9332\u5b8c\u4e86\u3067\u3059\u3002\n\n5-2. \u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\nRaspberry Pi\u306eCPU\u6e29\u5ea6\u3092\u53d6\u5f97\u3057\u3001\"Text to Speech\"\u3067\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306b\u3057\u305f\u3082\u306e\u3092\u3001Rasberry Pi\u306e\u30a4\u30e4\u30db\u30f3\u304b\u3089\u97f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002\n\u307e\u305f\u540c\u6642\u306b\u3001Bluemix\u306e\"Internet of Things Platform\"\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n\n\n5-2-1. timestamp(\u5165\u529b\uff1ainject)\n10\u79d2\u6bce\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u958b\u59cb\u3002\n\n\n5-2-2. CPU\u6e29\u5ea6\u306e\u5165\u624b(\u305d\u306e\u4ed6\uff1aexec)\nRaspberry Pi\u306e\u30b3\u30de\u30f3\u30c9 \u201dvcgencmd\" \u3068CPU\u306e\u6e29\u5ea6\u3092\u53d6\u5f97\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\" measure_temp\" \u3092\u4f7f\u3063\u3066CPU\u6e29\u5ea6\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n\n\nvcgencmd\nCPU\u6e29\u5ea6\u4ee5\u5916\u306e\u60c5\u5831\u3082\u8272\u3005\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\nhttp://elinux.org/RPI_vcgencmd_usage\n\n\n5-2-3. \u5165\u624b\u3057\u305fCPU\u6e29\u5ea6\u306e\u6574\u5f62(\u6a5f\u80fd\uff1afunction)\n\"vcgencmd measure_temp\"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306e\u7d50\u679c\u306f\u3001\u201dtemp=47.6'C\u201d\u3068\u3044\u3063\u305f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u6570\u5b57\u3060\u3051\u306e\u201d47.6\u201d\u306b\u6574\u5f62\u3057\u307e\u3059\u3002\n\n\nfunction\nmsg.payload = {\"d\":{\"temp\":msg.payload.replace(\"temp=\",\"\").replace(\"'C\\n\",\"\")}};\nreturn msg;\n\n\n\n5-2-4. msg.payload(\u51fa\u529b\uff1adebug)\n\u30c7\u30d0\u30c3\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n\n5-2-5. \u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332(\u51fa\u529b\uff1aWatson IoT)\nBluemix\u306e\"Internet of Things Platform\"\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n\u300c5-1-1. Internet of Things Platform\u306e\u767b\u9332\u300d\u3067\u30e1\u30e2\u3057\u305f\u69cb\u6210\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n    \u30fb\u7d44\u7e54 ID \uff1ae6vifg \n    \u30fb\u30c7\u30d0\u30a4\u30b9\u30fb\u30bf\u30a4\u30d7\uff1aRaspberry-DevType \n    \u30fb\u30c7\u30d0\u30a4\u30b9 ID \uff1aRaspberrypi2-001 \n    \u30fb\u8a8d\u8a3c\u65b9\u5f0f \uff1atoken \n    \u30fb\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3 \uff1a(7BrB3rp&93E5aW8gi\n\n\n\n5-2-6. \u30c6\u30ad\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u4f5c\u6210(\u6a5f\u80fd\uff1afunction)\n\"vcgencmd measure_temp\"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306e\u7d50\u679c\u3092\u6570\u5024\u3060\u3051\u629c\u304d\u51fa\u3057\u3001\u201d\u73fe\u5728\u306e\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u306eCPU\u6e29\u5ea6\u306f\" \u3000 \" \u5ea6\u3067\u3059\u3002\"\u3068\u3044\u3063\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4ed8\u3051\u3066\u6210\u5f62\u3057\u307e\u3059\u3002\n\n\nfunction\nmsg.payload = \"\u73fe\u5728\u306e\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u306eCPU\u6e29\u5ea6\u306f\" +  msg.payload.replace(\"temp=\",\"\").replace(\"'C\\n\",\"\") + \" \u5ea6\u3067\u3059\u3002\";\nreturn msg;\n\n\n\n5-2-7. Text to Speech(IBM_Watson\uff1aText to Speech)\n\u300c 5-1-2. Watson Text to Speech\u306e\u767b\u9332\u300d\u3067\u5165\u624b\u3057\u305f\u8cc7\u683c\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\u30fb\"password\": \"FrFi27YxDMr8\",\n\u30fb\"username\": \"1e629837-2c6d-4b0c-8b73-91fa127521db\"\n\u3053\u3053\u3067\u306f\u3001\u65e5\u672c\u8a9e\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n\n\n5-2-8. Speech\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5f15\u304d\u6e21\u3057(\u6a5f\u80fd\uff1afunction)\nspeech\u5909\u6570\u306e\u5024\u3092payload\u3078\u6e21\u3057\u307e\u3059\u3002\n\n\nfunction\nmsg.payload = msg.speech;\nreturn msg;\n\n\n\n5-2-9. WAV\u30d5\u30a1\u30a4\u30eb\u66f8\u8fbc\u307f(\u30b9\u30c8\u30ec\u30fc\u30b8\uff1afile)\nRspberry Pi\u306e\u3000\u201d/home/pi/temp/speech.wav\u201d\u306b\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\n\n5-2-10.  WAV\u30d5\u30a1\u30a4\u30eb\u8aad\u8fbc\u307f(\u30b9\u30c8\u30ec\u30fc\u30b8\uff1afile)\n\u30c7\u30d0\u30c3\u30b0\u76ee\u7684\u3067\u8ffd\u52a0\u3057\u307e\u3057\u305f\u304c\u3001\u3053\u306e\u30ce\u30fc\u30c9\u306f\u5fc5\u8981\u306a\u3044\u3067\u3059\u3002\uff08\u3042\u3063\u3066\u3082\u7279\u306b\u554f\u984c\u306a\u3044\u3002\uff09\nRspberry Pi\u306e\u3000\u201d/home/pi/temp/speech.wav\u201d\u306e\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u8fbc\u307e\u3059\u3002\n\n\n5-2-11.  \u97f3\u58f0\u51fa\u529b(\u305d\u306e\u4ed6\uff1aexec)\nRaspberry Pi\u306e\u30b3\u30de\u30f3\u30c9 \u201daplay\" \u3068\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u201d /home/pi/temp/speech.wav\"\u3067\u97f3\u58f0\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n\n5-3.  \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c\ntimestamp\u30ce\u30fc\u30c9\u306e\u5de6\u7aef(\u77e2\u5370\u306e\u3068\u3053\u308d)\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u52d5\u304d\u51fa\u3057\u307e\u3059\u3002\n\n\n5-4.  Blumix\u306e \"Internet of Things Platform\" \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u306e\u60c5\u5831\u78ba\u8a8d\n\u8a72\u5f53\u306e\u30c7\u30d0\u30a4\u30b9\u884c\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u5404\u7a2e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\n\n\uff16.\u304a\u308f\u308a\u306b\n\u97f3\u58f0\u304c\u51fa\u306a\u3044\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30b5\u30a6\u30f3\u30c9\u51fa\u529b\u5148\u306f\u81ea\u52d5\u5224\u5225\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u5f37\u5236\u7684\u306b\u30e9\u30a4\u30f3\u306b\u5909\u66f4\u3059\u308b\u3001\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\namixer cset numid=3 1\n\u307e\u305f\u3001\nhttps://www.raspberrypi.org/documentation/configuration/audio-config.md\n\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\nJSON\u5f62\u5f0f\u306e\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u30d5\u30ed\u30fc\u3092\u4e0b\u8a18\u306b\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002\n\u300c\u8aad\u8fbc\u307f\u300d\u21d2\u300c\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u300d\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u307e\u3059\u3002\n\n\nJSON\u5f62\u5f0f\u306e\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u30d5\u30ed\u30fc\n[{\"id\":\"3342d0f3.3ecb9\",\"type\":\"inject\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"10\",\"crontab\":\"\",\"once\":false,\"x\":105,\"y\":88,\"wires\":[[\"a8a36520.f85e98\"]]},{\"id\":\"a8a36520.f85e98\",\"type\":\"exec\",\"z\":\"9fe2dbf9.ca9c88\",\"command\":\"vcgencmd\",\"addpay\":false,\"append\":\"measure_temp\",\"useSpawn\":\"\",\"timer\":\"\",\"name\":\"CPU\u6e29\u5ea6\u306e\u5165\u624b\",\"x\":297,\"y\":91.5,\"wires\":[[\"ca961fc1.0b5c1\",\"dc56eab7.0559f8\"],[],[]]},{\"id\":\"982e136.59a0af\",\"type\":\"debug\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":858,\"y\":81.5,\"wires\":[]},{\"id\":\"ca961fc1.0b5c1\",\"type\":\"function\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"\u5165\u624b\u3057\u305fCPU\u6e29\u5ea6\u306e\u6574\u5f62\",\"func\":\"msg.payload = {\\\"d\\\":{\\\"temp\\\":msg.payload.replace(\\\"temp=\\\",\\\"\\\").replace(\\\"'C\\\\n\\\",\\\"\\\")}};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":544,\"y\":81,\"wires\":[[\"982e136.59a0af\",\"b008a017.de52a\"]]},{\"id\":\"b008a017.de52a\",\"type\":\"wiotp out\",\"z\":\"9fe2dbf9.ca9c88\",\"authType\":\"d\",\"qs\":\"false\",\"qsDeviceId\":\"\",\"deviceKey\":\"da074a04.5d72d8\",\"deviceType\":\"\",\"deviceId\":\"\",\"event\":\"event\",\"format\":\"json\",\"name\":\"\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\",\"x\":868,\"y\":154.5,\"wires\":[]},{\"id\":\"3601997e.99ad56\",\"type\":\"watson-text-to-speech\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"Text to Speech\",\"lang\":\"ja-JP\",\"langhidden\":\"ja-JP\",\"voice\":\"ja-JP_EmiVoice\",\"voicehidden\":\"en-US_LisaVoice\",\"format\":\"audio/wav\",\"password\":\"FrFi27YxDMr8\",\"x\":795.5,\"y\":258.3499755859375,\"wires\":[[\"3525b7e5.88ccb8\"]]},{\"id\":\"dc56eab7.0559f8\",\"type\":\"function\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"\u30c6\u30ad\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u4f5c\u6210\",\"func\":\"msg.payload = \\\"\u73fe\u5728\u306e\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u306eCPU\u6e29\u5ea6\u306f\\\" +  msg.payload.replace(\\\"temp=\\\",\\\"\\\").replace(\\\"'C\\\\n\\\",\\\"\\\") + \\\" \u5ea6\u3067\u3059\u3002\\\";\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":541.5,\"y\":259.4499816894531,\"wires\":[[\"3601997e.99ad56\"]]},{\"id\":\"3525b7e5.88ccb8\",\"type\":\"function\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"Speech\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5f15\u304d\u6e21\u3057\",\"func\":\"msg.payload = msg.speech;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":622.5,\"y\":383.4499816894531,\"wires\":[[\"2224815b.a605be\"]]},{\"id\":\"d3ee5d85.8bc71\",\"type\":\"file in\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"WAV\u30d5\u30a1\u30a4\u30eb\u8aad\u8fbc\u307f\",\"filename\":\"/home/pi/temp/speech.wav\",\"format\":\"\",\"x\":834.5,\"y\":493.75,\"wires\":[[\"65a90d38.7c16a4\"]]},{\"id\":\"65a90d38.7c16a4\",\"type\":\"exec\",\"z\":\"9fe2dbf9.ca9c88\",\"command\":\"aplay /home/pi/temp/speech.wav\",\"addpay\":true,\"append\":\"\",\"useSpawn\":\"\",\"timer\":\"\",\"name\":\"\u97f3\u58f0\u51fa\u529b\",\"x\":1085.5,\"y\":497.54998779296875,\"wires\":[[],[],[]]},{\"id\":\"2224815b.a605be\",\"type\":\"file in\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"WAV\u30d5\u30a1\u30a4\u30eb\u66f8\u8fbc\u307f\",\"filename\":\"/home/pi/temp/speech.wav\",\"format\":\"\",\"x\":567.5,\"y\":495.75,\"wires\":[[\"d3ee5d85.8bc71\"]]},{\"id\":\"da074a04.5d72d8\",\"type\":\"wiotp-credentials\",\"z\":\"\",\"name\":\"\",\"org\":\"e6vifg\",\"devType\":\"Raspberry-DevType\",\"devId\":\"Raspberrypi2-001\"}]\n\n\n# 1. \u306f\u3058\u3081\u306b\nRaspberry Pi\u7528OS\u306e\u6700\u65b0Raspbian\u306b\u306fNode-RED\u304c\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u3066\u3001Node-RED\u3067\u306e\u958b\u767a\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u672c\u6295\u7a3f\u3067\u306f\u3001\u4e00\u304b\u3089\u69cb\u7bc9\u3059\u308b\u5834\u5408\u306e\u624b\u9806\u3068\u3057\u3066\u3001Rasbian OS\u306e\u5c0e\u5165\u304b\u3089Node-RED\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3001Watson\u30ce\u30fc\u30c9\u306e\u8ffd\u52a0\u306b\u3064\u3044\u3066\u624b\u9806\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\nWatson\u306b\u306f\u3001<font color=\"blue\"><strong>\n(1)Watson Congnitive\n(2)Watson Analytics\n(3)Watson IoT</strong></font>\n\u304c\u3042\u308a\u3001\u6700\u65b0Raspbian\u306b\u306fWatson IoT\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u6b63\u5e38\u52d5\u4f5c\u3057\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001Node-Red,Watson IoT\u3092\u6700\u65b0\u3057\u305f\u4e0a\u3067\u3001Watson Cognitive\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\n# 2. \u69cb\u6210\n(1)Raspberry Pi2 Model B\n(2)Raspbian OS 2017\u5e74\uff11\u6708\u73fe\u5728\u3067\u306e\u6700\u65b0\u7248\n(3)\u7121\u7dda\u5b50\u6a5fUSB\u63a5\u7d9a\u3000Buffalo\u3000WLI-UC-GNME\n\n# 3. Raspbian\u95a2\u9023\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u3001<strong>\n\u30fb\u300cRAW\u30a4\u30e1\u30fc\u30b8\u300d\n\u30fb\u300cNOOBS\u300d</strong>\n\u306e\uff12\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u56de\u306f<font color=\"blue\">\u300cRAW\u30a4\u30e1\u30fc\u30b8\u300d</font>\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\n# 3-1. \u66f8\u8fbc\u307f\u30c4\u30fc\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nRAW\u30c7\u30a3\u30b9\u30af\u30a4\u30e1\u30fc\u30b8\u3092microSD\u306b\u66f8\u304d\u8fbc\u3080\u30c4\u30fc\u30eb\u306f\u3001<font color=\"blue\">\u300cWin32 Disk Imager\u300d</font>\u3092\u4f7f\u7528\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\uff1a\nhttp://sourceforge.net/projects/win32diskimager/\n![02.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/02.png)\n\n# 3-2.Raspbian\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\uff1a\nhttps://www.raspberrypi.org/downloads/raspbian/\n![03.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/03.png)\nRaspbian Jessie with PIXEL\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb<font color=\"blue\">\u300c2017-01-11-raspbian-jessie.zip\u300d</font>\n\n# 3-3.Raspbian\u3092microSD\u3078\u66f8\u8fbc\u307f\n\u66f8\u8fbc\u307f\u306b\u4f7f\u7528\u3059\u308bWindowsPC\u5074\u3067\u306e\u64cd\u4f5c\u3067\u3059\u3002\n\u30fbmicroSD\u3092WindowsPC\u3067\u8a8d\u8b58\u3055\u305b\u308b\u3002\n![04.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/04.png)\n\n\u300cWin32 Disk Imager\u300d\u8d77\u52d5\n![05.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/05.png)\n<font color=\"green\">\u2460\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u300c2017-01-11-raspbian-jessie.img\u300d\n\u2461PC\u3067\u8a8d\u8b58\u3057\u305fmicroSD\u306e\u30c9\u30e9\u30a4\u30d6\n\u2462\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002</font>\n\n\u66f8\u8fbc\u307f\u5b8c\u4e86\u3067\u3059\u3002\n![06.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/06.png)\n\nmicroSD\u30ab\u30fc\u30c9\u3092\u629c\u3044\u3066\u3001Raspberry Pi\u306b\u633f\u5165\u3057\u3066\u304b\u3089\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n# 3-4.Raspbian\u306e\u57fa\u672c\u8a2d\u5b9a\n\u96fb\u6e90\u3001\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3001\u30de\u30a6\u30b9\u3001\u7121\u7dda\u5b50\u6a5f\u3092\u63a5\u7d9a\u3057\u3066\u3001\u96fb\u6e90ON\u3002\n![01.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/01.png)\n\nOS\u306e\u9078\u629e\u3002\n![07.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/07.png)\n<font color=\"blue\">OS\uff1aRasbian \u3001\u8a00\u8a9e\uff1a\u65e5\u672c\u8a9e\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\uff1aJP\u3092\u9078\u629e\u3002</font>\n\n![08.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/08.png)\n<font color=\"blue\">\u300cY\u300d\u5165\u529b\u3002</font>\n\nRasbian\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u3002\n![09.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/09.png)\n\nOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n![10.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/10.png)\n\nOS\u8d77\u52d5\u5f8c\u3001\u30b5\u30fc\u30d3\u30b9\u3068\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3001\u30b5\u30a6\u30f3\u30c9\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n![11.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/11.png)\n<font color=\"blue\">\u300cPreferances\u300d\u21d2\u300cRaspberry Pi Configuration\u300d</font>\n\n\u3053\u3053\u3067\u306f\u3001SSH, VNC, Serial, 1-Ware\u3092Enable\u306b\u8a2d\u5b9a\u3057\u307e\u3057\u305f\u3002\n![12.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/12.png)\n<font color=\"blue\">\u300cOK\u300d</font>\n\nLocation\u8a2d\u5b9a-TimeZone\n![13.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/13.png)\n\nLocation\u8a2d\u5b9a-Keyboard\n![14.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/14.png)\n\n![15.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/15.png)\n<font color=\"blue\">\u300cYes\u300d\u3067\u30ea\u30d6\u30fc\u30c8\u3002</font>\n\n\u7121\u7dda\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a2d\u5b9a\u3002\n![16.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/16.png)\n\n\u30b5\u30a6\u30f3\u30c9\u306e\u8a2d\u5b9a\u3002\n![17.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/17.png)\n\n# 3-5.Raspbian\u3092\u6700\u65b0\u306b\u3059\u308b\nRaspian\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\uff08Raspbian Jessie\uff09\u3067\u306f\u3059\u3067\u306bNode-RED\u3068Watson IoT\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u4e00\u5ea6\u3059\u3079\u3066\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n```Command:Raspbian\u3092update\nsudo apt-get -y update \u23ce \n```\n\u5ff5\u306e\u305f\u3081\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u69cb\u6210\u306e\u5909\u66f4\u306e\u3042\u3068\u306b\u5f93\u3063\u3066\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u3053\u308c\u3092\u3057\u306a\u3044\u3068Node-RED\u5b9f\u884c\u6642\u306b\u6b63\u5e38\u52d5\u4f5c\u3057\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n```Command:Raspbian\u3092dist-update\nsudo apt-get dist-upgrade\n```\n\n\u4e0b\u8a18\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u505c\u6b62\u3057\u305f\u3089\u3001\u201d\uff51\u201d\u3067\u753b\u9762\u3092\u9589\u3058\u307e\u3059\u3002\n![18.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/18.png)\n\n# 3-6.Raspbian\u306b\u65e5\u672c\u8a9e\u74b0\u5883\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u65e5\u672c\u8a9e\u3092\u8868\u793a\u30fb\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```Command:\u65e5\u672c\u8a9e\u8868\u793a\u7528\nsudo apt-get install jfbterm\n```\n\n```Command:\u65e5\u672c\u8a9e\u5165\u529b\u7528\nsudo apt-get install ibus-anthy\n```\n\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n# 3-7.\u97f3\u58f0\u518d\u751f\u7528ALSA\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4eca\u56de\u3001\u97f3\u58f0\u3092\u30a4\u30e4\u30db\u30f3\u30b8\u30e3\u30c3\u30af\u7d4c\u7531\u3067\u9cf4\u3089\u3057\u305f\u3044\u306e\u3067\u3001ALSA\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u3092\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```Command:ALSA\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install libasound2-dev\n```\n\n# 3-7.Raspbian\u306bnpm\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRaspbian\u306bnpm\u304c\u5f53\u7136\u5165\u3063\u3066\u3044\u308b\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u304c\u3001\u5165\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```Command:npm\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install npm\n```\n\n# 3-8.Raspbian\u306eNode-RED\u3092\u6700\u65b0\u306b\u3059\u308b\n\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3002\n\n```Command:Node-RED\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\nsudo node -v\n```\n\u73fe\u5728\u3001V0.10.29 \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306fNode-RED\u8d77\u52d5\u6642\u3084Watson Cognitive\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u969b\u3001\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u306e\u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002\n\nhttp://nodered.org/docs/hardware/raspberrypi.html\u3000\n\u306e\u201dUpgrading\u201d\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```Command:nodejs\u3068Node-RED\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3000\u9014\u4e2d\"y\"\u3067\u7b54\u3048\u308b\nsudo update-nodejs-and-nodered\n```\nNode-RED\u3092\u8d77\u52d5\u3059\u308b\u3068~/.node-red\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u304c\u81ea\u52d5\u7684\u306b\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u4e00\u5ea6Node-RED\u3092\u8d77\u52d5\u3057\u81ea\u52d5\u4f5c\u6210\u3059\u308b\u304b\u3001\u624b\u4f5c\u696d\u3067\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```Command:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306e\u5909\u66f4\ncd ~/.node-red\n```\nNode-RED\u306e\u30ce\u30fc\u30c9\u3092\u518d\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n```Command:\u30ce\u30fc\u30c9\u306e\u518d\u69cb\u7bc9\nsudo npm rebuild\n```\n\n\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u8a18\u8ff0\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```Command:\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30ce\u30fc\u30c9\u30ea\u30b9\u30c8\u306e\u78ba\u8a8d\nsudo npm ls --depth=0\n```\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\n\n```Command:Node-RED\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\nsudo node -v\n```\nV4.7.2\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3055\u308c\u307e\u3057\u305f\u3002\n\n\n# 3-9.\u521d\u671f\u72b6\u614b\u306e\u30ce\u30fc\u30c9\u78ba\u8a8d\n\u521d\u671f\u72b6\u614b\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30ce\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nNode-RED\u306e\u958b\u59cb\u3002\n\n```Command:Node-RED\u306e\u958b\u59cb\ncd ~/.node-red\nsudo node-red-start\n```\n\nNode-RED\u304c\u958b\u59cb\u3055\u308c\u307e\u3057\u305f\u3002\n![19.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/19.png)\n\nRaspberry Pi \u306eIP\u30a2\u30c9\u30ec\u30b9\u306f\u201d192.168.1.12\u201d\u3067\u3059\u3002\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8PC\u3088\u308a\u30dd\u30fc\u30c8\u756a\u53f7\u201d1880\u201d\u3092\u6307\u5b9a\u3057\u3001\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\nhttp://192.168.1.12:1880/\u3000\n\n![20.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/20.png)\n\n\u6b63\u5e38\u52d5\u4f5c\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\u5c1a\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ce\u30fc\u30c9\u4e00\u89a7\u306f\u4e0b\u8a18\u3002\n\u5165\u529b\u3001\u51fa\u529b\u306b\u201dWatson IoT\u201d\u30ce\u30fc\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\n![21.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/21.png)\n\nNode-RED\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n```Command:Node-RED\u306e\u7d42\u4e86\ncd ~/.node-red\nsudo node-red-stop\n```\n\n# 4. Watson Cognitive\u30ce\u30fc\u30c9\u306e\u8ffd\u52a0\n\u30ce\u30fc\u30c9\u3084\u30d5\u30ed\u30fc\u60c5\u5831\u306f\u4e0b\u8a18\u30b5\u30a4\u30c8\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nhttp://flows.nodered.org/\n![22.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/22.png)\n\nWatson\u95a2\u9023\u306e\u30ce\u30fc\u30c9\u60c5\u5831\u306f\u3001\nhttp://flows.nodered.org/node/node-red-node-watson\n\u306b\u3042\u308a\u307e\u3059\u3002\n![23.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/23.png)\n\nRaspberry\u306eWatson\u30ce\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```Command:Watson\u30ce\u30fc\u30c9\u306e\u8ffd\u52a0\ncd ~/.node-red\nsudo npm install node-red-node-watson\n```\n\nNode-RED\u3092\u8d77\u52d5\u3057\u3066\u8ffd\u52a0\u3055\u308c\u305f\u30ce\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n![24.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/24.png)\n\nWatson Cognitive\u95a2\u9023\u306e\u30ce\u30fc\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u3053\u308c\u3092\u4f7f\u7528\u3057\u3066\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n# 5. \u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\nRasberry Pi\u306eCPU\u6e29\u5ea6\u3092\u53d6\u5f97\u3057\u3001\u201dText to Speech\"\u3067\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306b\u5909\u63db\u3057\u305f\u3082\u306e\u3092\u3001Rasberry Pi\u306e\u30a4\u30e4\u30db\u30f3\u3067\u518d\u751f\u3059\u308b\u975e\u5e38\u306b\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002\n\n## 5-1. \u4f7f\u7528\u3059\u308bBluemix\u30b5\u30fc\u30d3\u30b9\nBluemix\u306e\u4e0b\u8a182\u3064\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n<font color=\"blue\"><strong>\u30fbInternet of Things Platform\n\u30fbWatson Text to Speech</strong></font>\n\n### 5-1-1. Internet of Things Platform\u306e\u767b\u9332\nBluemix\u306e\u30ab\u30bf\u30ed\u30b0\u3088\u308a\u3001\u201dInternet of Things Platform\u201d\u3092\u9078\u629e\u3002\n\n![25.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/25.png)\n<font color=\"blue\">\u300c\u4f5c\u6210\u300d</font>\n\n![26.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/26.png)\n<font color=\"blue\">\u300c\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3092\u8d77\u52d5\u300d</font>\n\n![27.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/27.png)\n<font color=\"blue\">\u300c\u30c7\u30d0\u30a4\u30b9\u300d</font>\n\n![28.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/28.png)\n<font color=\"blue\">\u300c\u30c7\u30d0\u30a4\u30b9\u306e\u8ffd\u52a0\u300d</font>\n\n![29.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/29.png)\n<font color=\"blue\">\u300c\u30c7\u30d0\u30a4\u30b9\u30bf\u30a4\u30d7\u306e\u4f5c\u6210\u300d</font>\n\n![30.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/30.png)\n<font color=\"blue\">\u300c\u30c7\u30d0\u30a4\u30b9\u30bf\u30a4\u30d7\u306e\u4f5c\u6210\u300d</font>\n\n![31.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/31.png)\n<font color=\"blue\">\u3053\u3053\u3067\u306f\u3001\u540d\u524d\uff1a\"Raspberry-DevType\"\u3000\u3001\u8aac\u660e\uff1a\u201dMy Raspberry Device\u201d\u3068\u3057\u307e\u3057\u305f\u3002\u21d2\u300c\u6b21\u3078\u300d</font>\n\n\u3053\u3053\u3067\u306f\u3001\u30e2\u30c7\u30eb\u306e\u307f\u767b\u9332\u3057\u307e\u3057\u305f\u3002\n![32.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/32.png)\n<font color=\"blue\">\u300c\u30e2\u30c7\u30eb\u300d\u21d2\u300c\u6b21\u3078\u300d</font>\n\n![33.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/33.png)\n<font color=\"blue\">\u3053\u3053\u3067\u306f\u3001\u30e2\u30c7\u30eb\uff1a\"Raspberry Pi 2Model B\"\u3068\u3057\u307e\u3057\u305f\u3002\u21d2\u300c\u6b21\u3078\u300d</font>\n\n![34.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/34.png)\n<font color=\"blue\">\u300c\u6b21\u3078\u300d</font>\n\n![35.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/35.png)\n<font color=\"blue\">\u300c\u6b21\u3078\u300d</font>\n\n![36.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/36.png)\n<font color=\"blue\">\u3053\u3053\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9ID:\u201dRaspberryPi2-001\u201d\u3068\u3057\u307e\u3057\u305f\u3002\u21d2\u300c\u6b21\u3078\u300d</font>\n\n![37.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/37.png)\n<font color=\"blue\">\u300c\u6b21\u3078\u300d</font>\n\n![38.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/38.png)\n<font color=\"blue\">\u3053\u3053\u3067\u306f\u3001\u81ea\u52d5\u751f\u6210\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3\u3092\u9078\u629e\u3002\u21d2\u300c\u6b21\u3078\u300d</font>\n\n![39.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/39.png)\n<font color=\"blue\">\u300c\u6b21\u3078\u300d</font>\n\n![40.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/40.png)\n<font color=\"blue\">\u00d7\u3067\u9589\u3058\u308b\u3002</font>\n\n\u4ee5\u4e0a\u3067\u4f5c\u6210\u5b8c\u4e86\u3002\n\u69cb\u6210\u3092\u30e1\u30e2\u3057\u307e\u3059\u3002\n\n```Command:\u69cb\u6210\n\u7d44\u7e54 ID \uff1ae6vifg \n\u30c7\u30d0\u30a4\u30b9\u30fb\u30bf\u30a4\u30d7\uff1aRaspberry-DevType \n\u30c7\u30d0\u30a4\u30b9 ID \uff1aRaspberrypi2-001 \n\u8a8d\u8a3c\u65b9\u5f0f \uff1atoken \n\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3 \uff1a(7BrB3rp&93E5aW8gi\n```\n\n![41.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/41.png)\n\n\n# 5-1-2. Watson Text to Speech\u306e\u767b\u9332\nBluemix\u30ab\u30bf\u30ed\u30b0\u3088\u308a\u3001Watson Text to Speech\u3092\u9078\u629e\u3002\n\n![42.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/42.png)\n<font color=\"blue\">\u3053\u3053\u3067\u306f\u3001\u30b5\u30fc\u30d3\u30b9\u540d\uff1a\u201dText to Speech-el\u201d\u3001\u8cc7\u683c\u60c5\u5831\u540d\uff1a\u201dCredentials-1\u201d\u306f\u30b7\u30b9\u30c6\u30e0\u3067\u30a2\u30b5\u30a4\u30f3\u3055\u308c\u305f\u306e\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\u21d2\u300c\u4f5c\u6210\u300d</font>\n\n![43.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/43.png)\n<font color=\"blue\">\u300c\u30b5\u30fc\u30d3\u30b9\u8cc7\u683c\u60c5\u5831\u300d\u21d2\u300c\u8cc7\u683c\u60c5\u5831\u306e\u8868\u793a \u300d</font>\n\u8cc7\u683c\u60c5\u5831\u3092\u30e1\u30e2\u3057\u307e\u3059\u3002 \n\n```Command:\u8cc7\u683c\u60c5\u5831\n{\n  \"url\": \"https://stream.watsonplatform.net/text-to-speech/api\",\n  \"password\": \"FrFi27YxDMr8\",\n  \"username\": \"1e629837-2c6d-4b0c-8b73-91fa127521db\"\n}\n```\n\u4ee5\u4e0a\u3067\u767b\u9332\u5b8c\u4e86\u3067\u3059\u3002\n\n# 5-2. \u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\nRaspberry Pi\u306eCPU\u6e29\u5ea6\u3092\u53d6\u5f97\u3057\u3001\"Text to Speech\"\u3067\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306b\u3057\u305f\u3082\u306e\u3092\u3001Rasberry Pi\u306e\u30a4\u30e4\u30db\u30f3\u304b\u3089\u97f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002\n\u307e\u305f\u540c\u6642\u306b\u3001Bluemix\u306e\"Internet of Things Platform\"\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n\n![44.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/44.png)\n\n### 5-2-1. timestamp(\u5165\u529b\uff1ainject)\n10\u79d2\u6bce\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u958b\u59cb\u3002\n![45.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/45.png)\n\n### 5-2-2. CPU\u6e29\u5ea6\u306e\u5165\u624b(\u305d\u306e\u4ed6\uff1aexec)\nRaspberry Pi\u306e\u30b3\u30de\u30f3\u30c9 \u201dvcgencmd\" \u3068CPU\u306e\u6e29\u5ea6\u3092\u53d6\u5f97\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\" measure_temp\" \u3092\u4f7f\u3063\u3066CPU\u6e29\u5ea6\u3092\u5165\u624b\u3057\u307e\u3059\u3002\n\n![46.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/46.png)\n\n>vcgencmd\n>CPU\u6e29\u5ea6\u4ee5\u5916\u306e\u60c5\u5831\u3082\u8272\u3005\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n>http://elinux.org/RPI_vcgencmd_usage\n>\n\n### 5-2-3. \u5165\u624b\u3057\u305fCPU\u6e29\u5ea6\u306e\u6574\u5f62(\u6a5f\u80fd\uff1afunction)\n\"vcgencmd measure_temp\"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306e\u7d50\u679c\u306f\u3001\u201dtemp=47.6'C\u201d\u3068\u3044\u3063\u305f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u51fa\u529b\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u6570\u5b57\u3060\u3051\u306e\u201d47.6\u201d\u306b\u6574\u5f62\u3057\u307e\u3059\u3002\n![47.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/47.png)\n\n```Command:function\nmsg.payload = {\"d\":{\"temp\":msg.payload.replace(\"temp=\",\"\").replace(\"'C\\n\",\"\")}};\nreturn msg;\n```\n\n### 5-2-4. msg.payload(\u51fa\u529b\uff1adebug)\n\u30c7\u30d0\u30c3\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n![48.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/48.png)\n\n### 5-2-5. \u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332(\u51fa\u529b\uff1aWatson IoT)\nBluemix\u306e\"Internet of Things Platform\"\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n\u300c5-1-1. Internet of Things Platform\u306e\u767b\u9332\u300d\u3067\u30e1\u30e2\u3057\u305f\u69cb\u6210\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n    \u30fb\u7d44\u7e54 ID \uff1ae6vifg \n    \u30fb\u30c7\u30d0\u30a4\u30b9\u30fb\u30bf\u30a4\u30d7\uff1aRaspberry-DevType \n    \u30fb\u30c7\u30d0\u30a4\u30b9 ID \uff1aRaspberrypi2-001 \n    \u30fb\u8a8d\u8a3c\u65b9\u5f0f \uff1atoken \n    \u30fb\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3 \uff1a(7BrB3rp&93E5aW8gi\n\n![49.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/49.png)\n\n![50.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/50.png)\n\n### 5-2-6. \u30c6\u30ad\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u4f5c\u6210(\u6a5f\u80fd\uff1afunction)\n\"vcgencmd measure_temp\"\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306e\u7d50\u679c\u3092\u6570\u5024\u3060\u3051\u629c\u304d\u51fa\u3057\u3001\u201d\u73fe\u5728\u306e\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u306eCPU\u6e29\u5ea6\u306f\" \u3000 \" \u5ea6\u3067\u3059\u3002\"\u3068\u3044\u3063\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u4ed8\u3051\u3066\u6210\u5f62\u3057\u307e\u3059\u3002\n![51.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/51.png)\n\n```Command:function\nmsg.payload = \"\u73fe\u5728\u306e\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u306eCPU\u6e29\u5ea6\u306f\" +  msg.payload.replace(\"temp=\",\"\").replace(\"'C\\n\",\"\") + \" \u5ea6\u3067\u3059\u3002\";\nreturn msg;\n```\n\n### 5-2-7. Text to Speech(IBM_Watson\uff1aText to Speech)\n\u300c 5-1-2. Watson Text to Speech\u306e\u767b\u9332\u300d\u3067\u5165\u624b\u3057\u305f\u8cc7\u683c\u60c5\u5831\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\u30fb\"password\": \"FrFi27YxDMr8\",\n\u30fb\"username\": \"1e629837-2c6d-4b0c-8b73-91fa127521db\"\n\u3053\u3053\u3067\u306f\u3001\u65e5\u672c\u8a9e\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u3002\n![52.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/52.png)\n\n### 5-2-8. Speech\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5f15\u304d\u6e21\u3057(\u6a5f\u80fd\uff1afunction)\nspeech\u5909\u6570\u306e\u5024\u3092payload\u3078\u6e21\u3057\u307e\u3059\u3002\n![53.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/53.png)\n\n```Command:function\nmsg.payload = msg.speech;\nreturn msg;\n```\n\n### 5-2-9. WAV\u30d5\u30a1\u30a4\u30eb\u66f8\u8fbc\u307f(\u30b9\u30c8\u30ec\u30fc\u30b8\uff1afile)\nRspberry Pi\u306e\u3000\u201d/home/pi/temp/speech.wav\u201d\u306b\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\n![54.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/54.png)\n\n### 5-2-10.  WAV\u30d5\u30a1\u30a4\u30eb\u8aad\u8fbc\u307f(\u30b9\u30c8\u30ec\u30fc\u30b8\uff1afile)\n\u30c7\u30d0\u30c3\u30b0\u76ee\u7684\u3067\u8ffd\u52a0\u3057\u307e\u3057\u305f\u304c\u3001\u3053\u306e\u30ce\u30fc\u30c9\u306f\u5fc5\u8981\u306a\u3044\u3067\u3059\u3002\uff08\u3042\u3063\u3066\u3082\u7279\u306b\u554f\u984c\u306a\u3044\u3002\uff09\n\nRspberry Pi\u306e\u3000\u201d/home/pi/temp/speech.wav\u201d\u306e\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u8fbc\u307e\u3059\u3002\n![55.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/55.png)\n\n### 5-2-11.  \u97f3\u58f0\u51fa\u529b(\u305d\u306e\u4ed6\uff1aexec)\nRaspberry Pi\u306e\u30b3\u30de\u30f3\u30c9 \u201daplay\" \u3068\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u201d /home/pi/temp/speech.wav\"\u3067\u97f3\u58f0\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n![56.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/56.png)\n\n## 5-3.  \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c\ntimestamp\u30ce\u30fc\u30c9\u306e\u5de6\u7aef(\u77e2\u5370\u306e\u3068\u3053\u308d)\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u52d5\u304d\u51fa\u3057\u307e\u3059\u3002\n![57.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/57.png)\n\n## 5-4.  Blumix\u306e \"Internet of Things Platform\" \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u306e\u60c5\u5831\u78ba\u8a8d\n\u8a72\u5f53\u306e\u30c7\u30d0\u30a4\u30b9\u884c\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u5404\u7a2e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n![58.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/58.png)\n\n\n![59.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/59.png)\n\n\n#\uff16.\u304a\u308f\u308a\u306b\n\u97f3\u58f0\u304c\u51fa\u306a\u3044\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30b5\u30a6\u30f3\u30c9\u51fa\u529b\u5148\u306f\u81ea\u52d5\u5224\u5225\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u5f37\u5236\u7684\u306b\u30e9\u30a4\u30f3\u306b\u5909\u66f4\u3059\u308b\u3001\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\namixer cset numid=3 1\n\u307e\u305f\u3001\nhttps://www.raspberrypi.org/documentation/configuration/audio-config.md\n\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\nJSON\u5f62\u5f0f\u306e\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u30d5\u30ed\u30fc\u3092\u4e0b\u8a18\u306b\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002\n\u300c\u8aad\u8fbc\u307f\u300d\u21d2\u300c\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u300d\u304b\u3089\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u307e\u3059\u3002\n![60.png](http://seahorse-inc.com/QIITA/RasPi-NodeRED-Watson/60.png)\n\n```Command:JSON\u5f62\u5f0f\u306e\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u30d5\u30ed\u30fc\n[{\"id\":\"3342d0f3.3ecb9\",\"type\":\"inject\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"10\",\"crontab\":\"\",\"once\":false,\"x\":105,\"y\":88,\"wires\":[[\"a8a36520.f85e98\"]]},{\"id\":\"a8a36520.f85e98\",\"type\":\"exec\",\"z\":\"9fe2dbf9.ca9c88\",\"command\":\"vcgencmd\",\"addpay\":false,\"append\":\"measure_temp\",\"useSpawn\":\"\",\"timer\":\"\",\"name\":\"CPU\u6e29\u5ea6\u306e\u5165\u624b\",\"x\":297,\"y\":91.5,\"wires\":[[\"ca961fc1.0b5c1\",\"dc56eab7.0559f8\"],[],[]]},{\"id\":\"982e136.59a0af\",\"type\":\"debug\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":858,\"y\":81.5,\"wires\":[]},{\"id\":\"ca961fc1.0b5c1\",\"type\":\"function\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"\u5165\u624b\u3057\u305fCPU\u6e29\u5ea6\u306e\u6574\u5f62\",\"func\":\"msg.payload = {\\\"d\\\":{\\\"temp\\\":msg.payload.replace(\\\"temp=\\\",\\\"\\\").replace(\\\"'C\\\\n\\\",\\\"\\\")}};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":544,\"y\":81,\"wires\":[[\"982e136.59a0af\",\"b008a017.de52a\"]]},{\"id\":\"b008a017.de52a\",\"type\":\"wiotp out\",\"z\":\"9fe2dbf9.ca9c88\",\"authType\":\"d\",\"qs\":\"false\",\"qsDeviceId\":\"\",\"deviceKey\":\"da074a04.5d72d8\",\"deviceType\":\"\",\"deviceId\":\"\",\"event\":\"event\",\"format\":\"json\",\"name\":\"\u30a4\u30d9\u30f3\u30c8\u3092\u767b\u9332\",\"x\":868,\"y\":154.5,\"wires\":[]},{\"id\":\"3601997e.99ad56\",\"type\":\"watson-text-to-speech\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"Text to Speech\",\"lang\":\"ja-JP\",\"langhidden\":\"ja-JP\",\"voice\":\"ja-JP_EmiVoice\",\"voicehidden\":\"en-US_LisaVoice\",\"format\":\"audio/wav\",\"password\":\"FrFi27YxDMr8\",\"x\":795.5,\"y\":258.3499755859375,\"wires\":[[\"3525b7e5.88ccb8\"]]},{\"id\":\"dc56eab7.0559f8\",\"type\":\"function\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"\u30c6\u30ad\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u4f5c\u6210\",\"func\":\"msg.payload = \\\"\u73fe\u5728\u306e\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u306eCPU\u6e29\u5ea6\u306f\\\" +  msg.payload.replace(\\\"temp=\\\",\\\"\\\").replace(\\\"'C\\\\n\\\",\\\"\\\") + \\\" \u5ea6\u3067\u3059\u3002\\\";\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":541.5,\"y\":259.4499816894531,\"wires\":[[\"3601997e.99ad56\"]]},{\"id\":\"3525b7e5.88ccb8\",\"type\":\"function\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"Speech\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5f15\u304d\u6e21\u3057\",\"func\":\"msg.payload = msg.speech;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":622.5,\"y\":383.4499816894531,\"wires\":[[\"2224815b.a605be\"]]},{\"id\":\"d3ee5d85.8bc71\",\"type\":\"file in\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"WAV\u30d5\u30a1\u30a4\u30eb\u8aad\u8fbc\u307f\",\"filename\":\"/home/pi/temp/speech.wav\",\"format\":\"\",\"x\":834.5,\"y\":493.75,\"wires\":[[\"65a90d38.7c16a4\"]]},{\"id\":\"65a90d38.7c16a4\",\"type\":\"exec\",\"z\":\"9fe2dbf9.ca9c88\",\"command\":\"aplay /home/pi/temp/speech.wav\",\"addpay\":true,\"append\":\"\",\"useSpawn\":\"\",\"timer\":\"\",\"name\":\"\u97f3\u58f0\u51fa\u529b\",\"x\":1085.5,\"y\":497.54998779296875,\"wires\":[[],[],[]]},{\"id\":\"2224815b.a605be\",\"type\":\"file in\",\"z\":\"9fe2dbf9.ca9c88\",\"name\":\"WAV\u30d5\u30a1\u30a4\u30eb\u66f8\u8fbc\u307f\",\"filename\":\"/home/pi/temp/speech.wav\",\"format\":\"\",\"x\":567.5,\"y\":495.75,\"wires\":[[\"d3ee5d85.8bc71\"]]},{\"id\":\"da074a04.5d72d8\",\"type\":\"wiotp-credentials\",\"z\":\"\",\"name\":\"\",\"org\":\"e6vifg\",\"devType\":\"Raspberry-DevType\",\"devId\":\"Raspberrypi2-001\"}]\n```\n", "tags": ["Watson", "IoT", "RaspberryPi", "node-red", "Cognitive"]}