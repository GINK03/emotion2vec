{"context": "\n\n\u306f\u3058\u3081\u306b\nRundeck\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068Web\u306e\u7ba1\u7406\u753b\u9762\u306fhttp\u306a\u3093\u3060\u3051\u3069\u3001\u307e\u3068\u3082\u306b\u4f7f\u3046\u306a\u3089https\u5316\u3057\u3066\u304a\u304d\u305f\u3044\u3002\n\u3044\u3061\u304a\u3046\u3001Rundeck\u5358\u4f53\u3067\u3082SSL\u306e\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3063\u307d\u3044\u3093\u3060\u3051\u3069\u3001\nhttp://rundeck.org/docs/administration/configuring-ssl.html\n\u898b\u308b\u304b\u3089\u306b\u3061\u3087\u3063\u3068\u3001\u3081\u3093\u3069\u304f\u3055\u305d\u3046\u3067\u3001Rundeck\u521d\u5fc3\u8005\u306b\u306f\u6577\u5c45\u304c\u9ad8\u305d\u3046\u3067\u3042\u308b\u3002\n\u3068\u3053\u308d\u3067\u3001Rundeck\u306e\u524d\u6bb5\u306bnginx\u3092\u914d\u7f6e\u3057\u3066https\u5316\u3059\u308b\u69cb\u6210\u306a\u3089\u5927\u4f53nginx\u306e\u77e5\u8b58+\u03b1\u3067\u306a\u3093\u3068\u304b\u306a\u308a\u305d\u3046\u306a\u306e\u3067\u3001nginx\u3067SSL\u5fa9\u53f7\u5316\u3059\u308b\u69cb\u6210\u306b\u3057\u3066\u307f\u308b\u3002\n\nRundeck\u306eSSL\u5fa9\u53f7\u5316\u3092nginx\u306b\u30aa\u30d5\u30ed\u30fc\u30c9\u3059\u308b\n\u524d\u6bb5\u306enginx\u3067SSL\u5fa9\u53f7\u5316\u3059\u308b\u69cb\u6210\u306b\u3064\u3044\u3066\u306f\u3001\u516c\u5f0fwiki\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7c21\u5358\u306a\u8aac\u660e\u304c\u3042\u308b\u3093\u3060\u3051\u3069\u3001\nhttps://github.com/rundeck/rundeck/wiki/FAQ#can-i-do-ssl-offloading\n\nYes, If you have load balancer or reverse proxy, you can let them handle SSL and just do http between them and RunDeck servers:\n* Set up RunDeck as http\n* in profile file, add option -Drundeck.jetty.connector.forwarded=true to RDECK_JVM\n* Set framework.rundeck.url and grails.serverURL to use https\n\n\u7c21\u5358\u3059\u304e\u3067\u3042\u308b\u3002\n\u3053\u308c\u3092\u8aad\u307f\u89e3\u3044\u3066\u4f55\u3092\u8a00\u3063\u3066\u308b\u304b\u3092\u7406\u89e3\u3057\u305f\u306e\u3067\u3001\u88dc\u8db3\u8aac\u660e\u3057\u3066\u304a\u304f\u3002\n\n\nSet up RunDeck as http\n\n\n\u3053\u308c\u306f\u3001\u8aad\u3093\u3060\u307e\u307e\u3001\u666e\u901a\u306bhttp\u306e\u69cb\u6210\u3068\u3057\u3066\u3001Rundeck\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002\n\n\nin profile file, add option -Drundeck.jetty.connector.forwarded=true to RDECK_JVM\n\n\n\u3053\u308c\u306f /etc/rundeck/profile \u306b RDECK_JVM \u3068\u3044\u3046\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u5909\u6570\u304c\u3042\u308b\u306e\u3067\u3001 \u305d\u308c\u306b -Drundeck.jetty.connector.forwarded=true \u3092\u8ffd\u52a0\u3057\u308d\u3068\u3044\u3046\u3053\u3068\u3002\n...\n\nRDECK_JVM=\"-Djava.security.auth.login.config=$JAAS_CONF \\\n           -Dloginmodule.name=$LOGIN_MODULE \\\n           -Drdeck.config=$RDECK_CONFIG \\\n           -Drundeck.server.configDir=$RDECK_SERVER_CONFIG \\\n           -Dserver.datastore.path=$RDECK_SERVER_DATA/rundeck \\\n           -Drundeck.server.serverDir=$RDECK_INSTALL \\\n           -Drdeck.projects=$RDECK_PROJECTS \\\n           -Drdeck.runlogs=$RUNDECK_LOGDIR \\\n           -Drundeck.config.location=$RDECK_CONFIG/rundeck-config.properties \\\n           -Djava.io.tmpdir=$RUNDECK_TEMPDIR \\\n           -Drundeck.server.workDir=$RUNDECK_WORKDIR \\\n           -Dserver.http.port=$RDECK_HTTP_PORT \\\n           -Drundeck.jetty.connector.forwarded=true\"\n\n\n\nSet framework.rundeck.url and grails.serverURL to use https\n\n\n\u3053\u308c\u306f /etc/rundeck/framework.properties \u306e framework.rundeck.url \u306e\u30b9\u30ad\u30fc\u30e0\u3092 https \u306b\u3057\u3066\u306d\u3068\u3044\u3046\u306e\u3068\u3001\n\n/etc/rundeck/framework.properties\n\n...\n\nframework.server.name = localhost\nframework.server.hostname = localhost\nframework.server.port = 4440\nframework.server.url = http://rundeck.example.com:4440\nframework.rundeck.url = https://rundeck.example.com\n\n\n/etc/rundeck/rundeck-config.properties \u306b\u3042\u308b grails.serverURL \u306e\u30b9\u30ad\u30fc\u30e0\u3082 https \u306b\u3057\u3066\u306d\n\n/etc/rundeck/rundeck-config.properties\n...\n\n# change hostname here\ngrails.serverURL=https://rundeck.example.com\n\n\n\n\u3068\u3044\u3046\u3053\u3068\u3089\u3057\u3044\u3002\n\u3042\u3068\u306fnginx\u306eSSL\u3092\u5fa9\u53f7\u5316\u3059\u308b\u8a2d\u5b9a\u306f\u3053\u3093\u306a\u304b\u3093\u3058\u3002SSL\u8a3c\u660e\u66f8\u306e\u4f5c\u308a\u65b9\u3068\u304b\u306f\u5272\u611b\u3002\u7279\u306bRundeck\u95a2\u4fc2\u306a\u3044\u306e\u3067\u77e5\u3089\u306a\u3051\u308c\u3070\u3050\u3050\u3063\u3066\u304f\u308c\u3002\n\n/etc/nginx/nginx.conf\n...\n\nhttp {\n    ....\n\n    server {\n        listen 443;\n        set_real_ip_from   '10.0.0.0/8';\n        real_ip_header     X-Forwarded-For;\n        proxy_set_header   Host $host;\n        proxy_set_header   X-Forwarded-Proto https;\n\n        ssl on;\n        ssl_certificate /etc/nginx/keys/server.crt;\n        ssl_certificate_key /etc/nginx/keys/server.key;\n\n        server_name rundeck.example.com;\n        ....\n\n        location / {\n            proxy_pass http://rundeck:4440;\n        }\n    }\n}\n\n\n\u3053\u308c\u3067 https://rundeck.example.com \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n# \u306f\u3058\u3081\u306b\nRundeck\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068Web\u306e\u7ba1\u7406\u753b\u9762\u306fhttp\u306a\u3093\u3060\u3051\u3069\u3001\u307e\u3068\u3082\u306b\u4f7f\u3046\u306a\u3089https\u5316\u3057\u3066\u304a\u304d\u305f\u3044\u3002\n\n\u3044\u3061\u304a\u3046\u3001Rundeck\u5358\u4f53\u3067\u3082SSL\u306e\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3063\u307d\u3044\u3093\u3060\u3051\u3069\u3001\nhttp://rundeck.org/docs/administration/configuring-ssl.html\n\n\u898b\u308b\u304b\u3089\u306b\u3061\u3087\u3063\u3068\u3001\u3081\u3093\u3069\u304f\u3055\u305d\u3046\u3067\u3001Rundeck\u521d\u5fc3\u8005\u306b\u306f\u6577\u5c45\u304c\u9ad8\u305d\u3046\u3067\u3042\u308b\u3002\n\n\u3068\u3053\u308d\u3067\u3001Rundeck\u306e\u524d\u6bb5\u306bnginx\u3092\u914d\u7f6e\u3057\u3066https\u5316\u3059\u308b\u69cb\u6210\u306a\u3089\u5927\u4f53nginx\u306e\u77e5\u8b58+\u03b1\u3067\u306a\u3093\u3068\u304b\u306a\u308a\u305d\u3046\u306a\u306e\u3067\u3001nginx\u3067SSL\u5fa9\u53f7\u5316\u3059\u308b\u69cb\u6210\u306b\u3057\u3066\u307f\u308b\u3002\n\n# Rundeck\u306eSSL\u5fa9\u53f7\u5316\u3092nginx\u306b\u30aa\u30d5\u30ed\u30fc\u30c9\u3059\u308b\n\n\u524d\u6bb5\u306enginx\u3067SSL\u5fa9\u53f7\u5316\u3059\u308b\u69cb\u6210\u306b\u3064\u3044\u3066\u306f\u3001\u516c\u5f0fwiki\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7c21\u5358\u306a\u8aac\u660e\u304c\u3042\u308b\u3093\u3060\u3051\u3069\u3001\nhttps://github.com/rundeck/rundeck/wiki/FAQ#can-i-do-ssl-offloading\n\n>Yes, If you have load balancer or reverse proxy, you can let them handle SSL and just do http between them and RunDeck servers:\n* Set up RunDeck as http\n* in profile file, add option -Drundeck.jetty.connector.forwarded=true to RDECK_JVM\n* Set framework.rundeck.url and grails.serverURL to use https\n\n\u7c21\u5358\u3059\u304e\u3067\u3042\u308b\u3002\n\n\u3053\u308c\u3092\u8aad\u307f\u89e3\u3044\u3066\u4f55\u3092\u8a00\u3063\u3066\u308b\u304b\u3092\u7406\u89e3\u3057\u305f\u306e\u3067\u3001\u88dc\u8db3\u8aac\u660e\u3057\u3066\u304a\u304f\u3002\n\n> * Set up RunDeck as http\n\n\u3053\u308c\u306f\u3001\u8aad\u3093\u3060\u307e\u307e\u3001\u666e\u901a\u306bhttp\u306e\u69cb\u6210\u3068\u3057\u3066\u3001Rundeck\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u3002\n\n> * in profile file, add option -Drundeck.jetty.connector.forwarded=true to RDECK_JVM\n\n\u3053\u308c\u306f `/etc/rundeck/profile` \u306b `RDECK_JVM` \u3068\u3044\u3046\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u5909\u6570\u304c\u3042\u308b\u306e\u3067\u3001 \u305d\u308c\u306b `-Drundeck.jetty.connector.forwarded=true` \u3092\u8ffd\u52a0\u3057\u308d\u3068\u3044\u3046\u3053\u3068\u3002\n\n```/etc/rundeck/profile\n...\n\nRDECK_JVM=\"-Djava.security.auth.login.config=$JAAS_CONF \\\n           -Dloginmodule.name=$LOGIN_MODULE \\\n           -Drdeck.config=$RDECK_CONFIG \\\n           -Drundeck.server.configDir=$RDECK_SERVER_CONFIG \\\n           -Dserver.datastore.path=$RDECK_SERVER_DATA/rundeck \\\n           -Drundeck.server.serverDir=$RDECK_INSTALL \\\n           -Drdeck.projects=$RDECK_PROJECTS \\\n           -Drdeck.runlogs=$RUNDECK_LOGDIR \\\n           -Drundeck.config.location=$RDECK_CONFIG/rundeck-config.properties \\\n           -Djava.io.tmpdir=$RUNDECK_TEMPDIR \\\n           -Drundeck.server.workDir=$RUNDECK_WORKDIR \\\n           -Dserver.http.port=$RDECK_HTTP_PORT \\\n           -Drundeck.jetty.connector.forwarded=true\"\n```\n\n> * Set framework.rundeck.url and grails.serverURL to use https\n\n\u3053\u308c\u306f `/etc/rundeck/framework.properties` \u306e `framework.rundeck.url` \u306e\u30b9\u30ad\u30fc\u30e0\u3092 `https` \u306b\u3057\u3066\u306d\u3068\u3044\u3046\u306e\u3068\u3001\n\n```/etc/rundeck/framework.properties\n\n...\n\nframework.server.name = localhost\nframework.server.hostname = localhost\nframework.server.port = 4440\nframework.server.url = http://rundeck.example.com:4440\nframework.rundeck.url = https://rundeck.example.com\n```\n\n`/etc/rundeck/rundeck-config.properties` \u306b\u3042\u308b `grails.serverURL` \u306e\u30b9\u30ad\u30fc\u30e0\u3082 `https` \u306b\u3057\u3066\u306d\n\n```/etc/rundeck/rundeck-config.properties\n...\n\n# change hostname here\ngrails.serverURL=https://rundeck.example.com\n\n```\n\n\u3068\u3044\u3046\u3053\u3068\u3089\u3057\u3044\u3002\n\n\u3042\u3068\u306fnginx\u306eSSL\u3092\u5fa9\u53f7\u5316\u3059\u308b\u8a2d\u5b9a\u306f\u3053\u3093\u306a\u304b\u3093\u3058\u3002SSL\u8a3c\u660e\u66f8\u306e\u4f5c\u308a\u65b9\u3068\u304b\u306f\u5272\u611b\u3002\u7279\u306bRundeck\u95a2\u4fc2\u306a\u3044\u306e\u3067\u77e5\u3089\u306a\u3051\u308c\u3070\u3050\u3050\u3063\u3066\u304f\u308c\u3002\n\n```/etc/nginx/nginx.conf\n...\n\nhttp {\n    ....\n\n\tserver {\n\t\tlisten 443;\n\t\tset_real_ip_from   '10.0.0.0/8';\n\t\treal_ip_header     X-Forwarded-For;\n\t\tproxy_set_header   Host $host;\n\t\tproxy_set_header   X-Forwarded-Proto https;\n\n\t\tssl on;\n\t\tssl_certificate /etc/nginx/keys/server.crt;\n\t\tssl_certificate_key /etc/nginx/keys/server.key;\n\n\t\tserver_name rundeck.example.com;\n        ....\n\n\t\tlocation / {\n\t\t\tproxy_pass http://rundeck:4440;\n\t\t}\n\t}\n}\n```\n\n\u3053\u308c\u3067 `https://rundeck.example.com` \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n", "tags": ["rundeck", "nginx", "HTTPS"]}