{"context": "\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u3067\u306eAPI Gateway \u306e\u4f7f\u3044\u65b9\u3092\u78ba\u8a8d\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u4ee5\u524d\u9811\u5f35\u3063\u3066\u4f5c\u3063\u3066\u5fd8\u308c\u305f\u306e\u3067\u5099\u5fd8\u9332\u517c\u306d\u3066\u6295\u7a3f\n\nAPIGateway\n\n\nAPI\u306e\u30e9\u30c3\u30d1\u30fc\u3068\u3057\u3066\u4f7f\u3048\u308b\nAWS Lambda\uff08\u4ee5\u4e0b Lambda)\u306e\u30c8\u30ea\u30ac\u30fc\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u308b\nAPI\u30b3\u30fc\u30eb\u306e\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u304c\u53ef\u80fd\nMapping\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u5165\u529b\u5024\u3068\u51fa\u529b\u5024\u306e\u6574\u5f62\u304c\u51fa\u6765\u308b\nIAM\u3068\u7d44\u307f\u5408\u308f\u305b\u305f\u6a29\u9650\u5236\u5fa1\u304c\u53ef\u80fd\n\u304a\u91d1\u306f\u6c17\u306b\u3059\u308b\u307b\u3069\u3067\u306a\u3044\n\n\u96d1\u306b\u3044\u3046\u3068\u3053\u3093\u306a\u611f\u3058\u306e\u30b5\u30fc\u30d3\u30b9\u3002\n\u4eca\u56de\u306f\u5225\u9014\u5b9a\u7fa9\u3059\u308bLambda\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n\u30b4\u30fc\u30eb\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e0a\u306b\u30b5\u30f3\u30d7\u30eb\u306eHTML\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057\u3001\u30d5\u30a9\u30fc\u30e0\u306b\u6587\u5b57\u5217\u3092\u5165\u529b\u3001\u9001\u4fe1\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3053\u3068\u3067slack\u3078\u6295\u7a3f\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n\nHTML\u30d5\u30a1\u30a4\u30eb\u306e\u6e96\u5099\n\nindex.html\n<!DOCTYPEhtml>\n<html lang=\"ja\">\n<head>\n<meta charset=\"UTF-8\">\n<title>TEST</title>\n</head>\n\n<body>\n<header>\n    <h1>API GateWay test</h1>\n</header>\n  <p>Slack post api</p>\n<article>\n    <form action=\"\u5f8c\u307b\u3069\u4f5c\u6210\u3059\u308bAPI Gateway\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\" method=\"post\" accept-charset=\"utf-8\">\n        <input type=\"text\" name=\"message\" placeholder=\"\u9001\u4fe1\u6587\u5b57\u5217\u3092\u5165\u529b\"/>\n        <input type=\"submit\" value=\"\u9001\u4fe1\">\n    </form>\n</article>\n</body>\n</html>\n\n\n\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3068\u30d6\u30e9\u30a6\u30b6\u3067\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u304c\u898b\u308c\u307e\u3059\n\n\u3053\u306e\u30da\u30fc\u30b8\u3067\u9001\u4fe1\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068API Gateway\u306b\u30d5\u30a9\u30fc\u30e0\u4e2d\u306e\u6587\u5b57\u5217\u3092\u9001\u4fe1\u3057\u3001API Gateway\u304b\u3089Lambda\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\u3057\u3066slack\u3078bot\u304c\u6295\u7a3f\u3059\u308b\n\u3068\u3044\u3046\u52d5\u304d\u306b\u306a\u308a\u307e\u3059\u3002\n\u3067\u306f\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u3001Lambda\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\nLambda\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\n\nlambda_function.py\n# -*- coding: utf-8 -*-\nimport slackweb\nimport urllib\n\nSLACK_POST_URL = \"slack\u306ePOST\u7528URL\"\n\ndef lambda_handler(event, context):\n    print(event)\n    test_user = 'api-test'\n    icon_emoji = ':moyashi:'\n    slack_massage = urllib.unquote(event['message']).encode('raw_unicode_escape').decode('utf-8')\n    slack_post(test_user, icon_emoji, slack_massage)\n    print(slack_massage)\n\ndef slack_post(user, icon, massage):\n    slack = slackweb.Slack(url=SLACK_POST_URL)\n    slack.notify(text=massage, username=user, icon_emoji=icon)\n\n\n\n\u4eca\u56de\u306f slackweb \u3068\u3044\u3046\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066slack\u3078\u6295\u7a3f\u3057\u3066\u3044\u308b\u306e\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3001ZIP\u5316\u3057\u3066Lambda\u3078\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u3053\u306e\u8fba\u306f\u7701\u7565\u3057\u307e\u3059\u304c\u3001\u8a73\u3057\u3044\u624b\u9806\u306f\u3053\u3053\u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nAPI Gateway\u306e\u767b\u9332\n\u3067\u306f\u4eca\u56de\u306e\u76ee\u7684\u3001API GateWay\u3067\u3059\n\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\n\nAPI Gateway\u3092\u9078\u629e\n\nCreate API \u3092\u62bc\u4e0b\nAPI\u306e\u4f5c\u6210\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\n\nAPI Name\u306b\u4efb\u610f\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u3001\u8aac\u660e\u3092\u4ed8\u3051\u305f\u3089Create API\u3092\u62bc\u4e0b\n\n\u30ea\u30bd\u30fc\u30b9\u306e\u4f5c\u6210\n\nActions\u30bf\u30d6\u5185\u306eCreate Resource \u3092\u9078\u629e\u3057\u307e\u3059\n\n\u516c\u958b\u3059\u308bAPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u5916\u90e8\u306eAPI\u3068\u304b\u307f\u3066\u3082\u30d0\u30fc\u30b8\u30e7\u30f3\u5165\u3063\u3066\u308b\u306e\u3067\u7ba1\u7406\u306e\u305f\u3081\u306b\u3084\u3063\u3066\u304a\u3044\u305f\u307b\u3046\u304c\u826f\u3044\u3093\u3060\u308d\u3046\u306a\u3068\u3044\u3046\u8a8d\u8b58\u3067\u3059\u3002\n\u30ea\u30bd\u30fc\u30b9\u306e\u30c8\u30c3\u30d7\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3092\u5165\u308c\u3066\u3044\u308b\u306e\u306fAWS\u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u990a\u6210\u8aad\u672c\u3067\u3084\u3063\u3066\u3044\u305f\u306e\u3067\u771f\u4f3c\u308b\u3053\u3068\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u540c\u3058\u624b\u9806\u3067\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\nv1\u306e\u4e0b\u306bslack\u3092\u4f5c\u6210\u3057\u3066\u4e0b\u3055\u3044\u3002\n\u6b21\u306f\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\nPOST\u30e1\u30bd\u30c3\u30c9\u306e\u4f5c\u6210\nslack\u3092\u9078\u629e\u3057\u3066\u3044\u308b\u72b6\u614b\u3067\u4f5c\u696d\u3057\u307e\u3059\n\nCreate Method\u3092\u9078\u629e\u3057\u307e\u3059\n\n\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u30e1\u30bd\u30c3\u30c9\u306e\u88cf\u5074\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u4f5c\u6210\u3057\u3066\u304a\u3044\u305fLambda\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u307e\u3059\n\n\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u304c\u51fa\u3066\u304f\u308b\u306e\u3067OK\u3057\u3066\u9032\u307f\u307e\u3059\n\n\u5165\u529b\u5024\u3092\u5f04\u308b\u305f\u3081 Integration Request \u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\nContent-Type\u306f application/x-www-form-urlencoded \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30dd\u30c3\u30d7\u30a2\u30d7\u304c\u51fa\u3066\u304f\u308b\u306e\u3067OK\u3057\u307e\u3059\n\n\u30de\u30c3\u30d4\u30f3\u30b0\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n#set($http = $input.path('$').split(\"&\"))\n#set($kv = $http[0])\n #set($key = $kv.split(\"=\"))\n {\n  \"message\" : \"$key[1]\"\n  }\n\n\n\u30de\u30c3\u30d4\u30f3\u30b0\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8868\u8a18\u306b\u95a2\u3057\u3066\u306f\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\nAPI Gateway \u306e\u30de\u30c3\u30d4\u30f3\u30b0\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\nHTML\u306ePOST\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u5f62\u5f0f\u306f\u3053\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u628a\u63e1\u3057\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\n\nHTML\u30d5\u30a9\u30fc\u30e0\u306b\u3088\u308bPOST\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u306f\u3001\u5404input\u30bf\u30b0\u306e\u5185\u5bb9\u3092key=value\u306e\u5f62\u5f0f\u3068\u3057\u3066&\u3067\u3064\u306a\u3044\u3060\u3082\u306e\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u3068\u3057\u3066\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002\n\n\u3068\u306e\u3053\u3068\u3060\u3063\u305f\u306e\u3067\u3001Body\u90e8\u5206\u3092\u5206\u5272\u3057\u3066\u3001\u305d\u306e\u4e2d\u304b\u3089\uff1d\u308c\u9023\u7d50\u3055\u308c\u3066\u3044\u308bValue\u3092\u53d6\u5f97\u3057\u3001JSON\u306b\u306a\u304a\u3057\u3066\u3044\u307e\u3059\u3002\n\njson\n {\n  \"message\" : \"$key[1]\"\n  }\n\n\n\u5b9f\u969b\u306bLambda\u306b\u9001\u3089\u308c\u308b\u306e\u306f\u3053\u306eJSON\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306a\u308b\u3063\u3066\u5bf8\u6cd5\u3067\u3059\n\n\u30c7\u30d7\u30ed\u30a4\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u30b9\u30c6\u30fc\u30b8\u3092\u4f5c\u3063\u3066\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\n\n\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3067\u6295\u7a3f\u7528\u306eURL\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u53d6\u5f97\u3067\u304d\u308b\u306e\u3067\u30b3\u30ec\u3092HTML\u306b\u57cb\u3081\u8fbc\u307f\u307e\u3059\n\u30d5\u30a9\u30fc\u30e0\u30bf\u30d6\u91ce\u4e2d\u3067\u3059\u306d\u3002\n\n\u6295\u7a3f\n\u3067\u306f\u4f5c\u6210\u3057\u305fHTML\u304b\u3089\u6295\u7a3f\u3057\u3066\u307f\u307e\u3059\n\n\u6587\u5b57\u5217\u3092\u5165\u529b\u3057\u3066\u9001\u4fe1\u3092\u62bc\u3059\u3068\u30fb\u30fb\u30fb\n\n\u7121\u4e8bslack\u3078\u6295\u7a3f\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\nAPI\u3000Gateway\u306f\u7d44\u307f\u5408\u308f\u305b\u308c\u3070\u3044\u308d\u3044\u308d\u3068\u904a\u3079\u308b\u306e\u3067\u8a66\u3057\u3066\u3044\u304d\u305f\u3044\u3067\u3059\u3002\n\n\u53c2\u8003\nhttp://qiita.com/satetsu888/items/40fc387735192b794da8\nhttp://wiki.mesolabo.com/?%E3%83%A1%E3%82%BD%E7%9F%A5%E6%81%B5%2FHTML%2F%E9%81%95%E3%81%86%E6%96%87%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89%E3%81%A7POST%E3%81%99%E3%82%8B\nhttp://linux.oboe-gaki.com/archives/000333.html\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u3067\u306eAPI Gateway \u306e\u4f7f\u3044\u65b9\u3092\u78ba\u8a8d\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u4ee5\u524d\u9811\u5f35\u3063\u3066\u4f5c\u3063\u3066\u5fd8\u308c\u305f\u306e\u3067\u5099\u5fd8\u9332\u517c\u306d\u3066\u6295\u7a3f\n\n###APIGateway\n![\u30bf\u3099\u30a6\u30f3\u30ed\u30fc\u30c8\u3099.jpeg](https://qiita-image-store.s3.amazonaws.com/0/52141/9f779e14-3b50-b4a5-26e6-17e12e319e8e.jpeg)\n\n- API\u306e\u30e9\u30c3\u30d1\u30fc\u3068\u3057\u3066\u4f7f\u3048\u308b\n- AWS Lambda\uff08\u4ee5\u4e0b Lambda)\u306e\u30c8\u30ea\u30ac\u30fc\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u308b\n- API\u30b3\u30fc\u30eb\u306e\u30b9\u30ed\u30c3\u30c8\u30ea\u30f3\u30b0\u304c\u53ef\u80fd\n- Mapping\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u5165\u529b\u5024\u3068\u51fa\u529b\u5024\u306e\u6574\u5f62\u304c\u51fa\u6765\u308b\n- IAM\u3068\u7d44\u307f\u5408\u308f\u305b\u305f\u6a29\u9650\u5236\u5fa1\u304c\u53ef\u80fd\n- \u304a\u91d1\u306f\u6c17\u306b\u3059\u308b\u307b\u3069\u3067\u306a\u3044\n\n\u96d1\u306b\u3044\u3046\u3068\u3053\u3093\u306a\u611f\u3058\u306e\u30b5\u30fc\u30d3\u30b9\u3002\n\u4eca\u56de\u306f\u5225\u9014\u5b9a\u7fa9\u3059\u308bLambda\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n###\u30b4\u30fc\u30eb\n__\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4e0a\u306b\u30b5\u30f3\u30d7\u30eb\u306eHTML\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u7f6e\u3057\u3001\u30d5\u30a9\u30fc\u30e0\u306b\u6587\u5b57\u5217\u3092\u5165\u529b\u3001\u9001\u4fe1\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3053\u3068\u3067slack\u3078\u6295\u7a3f\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u3057\u307e\u3059__\n\n###HTML\u30d5\u30a1\u30a4\u30eb\u306e\u6e96\u5099\n\n```html:index.html\n<!DOCTYPEhtml>\n<html lang=\"ja\">\n<head>\n<meta charset=\"UTF-8\">\n<title>TEST</title>\n</head>\n\n<body>\n<header>\n    <h1>API GateWay test</h1>\n</header>\n  <p>Slack post api</p>\n<article>\n    <form action=\"\u5f8c\u307b\u3069\u4f5c\u6210\u3059\u308bAPI Gateway\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\" method=\"post\" accept-charset=\"utf-8\">\n        <input type=\"text\" name=\"message\" placeholder=\"\u9001\u4fe1\u6587\u5b57\u5217\u3092\u5165\u529b\"/>\n        <input type=\"submit\" value=\"\u9001\u4fe1\">\n    </form>\n</article>\n</body>\n</html>\n```\n\n\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3068\u30d6\u30e9\u30a6\u30b6\u3067\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u304c\u898b\u308c\u307e\u3059\n\n![TEST.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/b06ce233-8617-ee0f-8067-fc3facfff5dd.jpeg \"TEST.jpg\")\n\n\u3053\u306e\u30da\u30fc\u30b8\u3067\u9001\u4fe1\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068API Gateway\u306b\u30d5\u30a9\u30fc\u30e0\u4e2d\u306e\u6587\u5b57\u5217\u3092\u9001\u4fe1\u3057\u3001API Gateway\u304b\u3089Lambda\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u304c\u8d77\u52d5\u3057\u3066slack\u3078bot\u304c\u6295\u7a3f\u3059\u308b\n\n\u3068\u3044\u3046\u52d5\u304d\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3067\u306f\u4f5c\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u307e\u305a\u3001Lambda\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n###Lambda\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\n\n```python:lambda_function.py\n# -*- coding: utf-8 -*-\nimport slackweb\nimport urllib\n\nSLACK_POST_URL = \"slack\u306ePOST\u7528URL\"\n\ndef lambda_handler(event, context):\n    print(event)\n    test_user = 'api-test'\n    icon_emoji = ':moyashi:'\n    slack_massage = urllib.unquote(event['message']).encode('raw_unicode_escape').decode('utf-8')\n    slack_post(test_user, icon_emoji, slack_massage)\n    print(slack_massage)\n\ndef slack_post(user, icon, massage):\n    slack = slackweb.Slack(url=SLACK_POST_URL)\n    slack.notify(text=massage, username=user, icon_emoji=icon)\n\n```\n\n\u4eca\u56de\u306f __slackweb__ \u3068\u3044\u3046\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066slack\u3078\u6295\u7a3f\u3057\u3066\u3044\u308b\u306e\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3001ZIP\u5316\u3057\u3066Lambda\u3078\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u8fba\u306f\u7701\u7565\u3057\u307e\u3059\u304c\u3001\u8a73\u3057\u3044\u624b\u9806\u306f[\u3053\u3053](https://www.hands-lab.com/tech/entry/1077.html)\u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n###API Gateway\u306e\u767b\u9332\n\u3067\u306f\u4eca\u56de\u306e\u76ee\u7684\u3001API GateWay\u3067\u3059\n\n\n\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\n\n![AWS_mmg.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/ea7a1c44-34f0-a7e1-1f8b-db9500b59c5e.jpeg)\n\n\nAPI Gateway\u3092\u9078\u629e\n\n![API_Gateway.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/6cb86046-9bd3-4545-38c3-01ff16eb40bd.jpeg)\n\nCreate API \u3092\u62bc\u4e0b\nAPI\u306e\u4f5c\u6210\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\n\n![API_Gateway2.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/ac53d524-f785-703b-1e06-2b108ede13ac.jpeg)\n\nAPI Name\u306b\u4efb\u610f\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u3001\u8aac\u660e\u3092\u4ed8\u3051\u305f\u3089Create API\u3092\u62bc\u4e0b\n\n###\u30ea\u30bd\u30fc\u30b9\u306e\u4f5c\u6210\n\n![API_Gateway001.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/e526df3f-eda0-ffbe-bbc7-59923495400d.jpeg \"API_Gateway001.jpg\")\n\nActions\u30bf\u30d6\u5185\u306eCreate Resource \u3092\u9078\u629e\u3057\u307e\u3059\n\n![API_Gateway002.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/9176157a-30c8-b093-8e62-c3d0862a61bb.jpeg \"API_Gateway002.jpg\")\n\n\u516c\u958b\u3059\u308bAPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u5916\u90e8\u306eAPI\u3068\u304b\u307f\u3066\u3082\u30d0\u30fc\u30b8\u30e7\u30f3\u5165\u3063\u3066\u308b\u306e\u3067\u7ba1\u7406\u306e\u305f\u3081\u306b\u3084\u3063\u3066\u304a\u3044\u305f\u307b\u3046\u304c\u826f\u3044\u3093\u3060\u308d\u3046\u306a\u3068\u3044\u3046\u8a8d\u8b58\u3067\u3059\u3002\n\u30ea\u30bd\u30fc\u30b9\u306e\u30c8\u30c3\u30d7\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3092\u5165\u308c\u3066\u3044\u308b\u306e\u306f[AWS\u30a8\u30ad\u30b9\u30d1\u30fc\u30c8\u990a\u6210\u8aad\u672c](http://gihyo.jp/book/2016/978-4-7741-7992-6)\u3067\u3084\u3063\u3066\u3044\u305f\u306e\u3067\u771f\u4f3c\u308b\u3053\u3068\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u540c\u3058\u624b\u9806\u3067\u30ea\u30bd\u30fc\u30b9\u3092\u4f5c\u308a\u307e\u3059\u3002\nv1\u306e\u4e0b\u306bslack\u3092\u4f5c\u6210\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u6b21\u306f\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\n###POST\u30e1\u30bd\u30c3\u30c9\u306e\u4f5c\u6210\n\nslack\u3092\u9078\u629e\u3057\u3066\u3044\u308b\u72b6\u614b\u3067\u4f5c\u696d\u3057\u307e\u3059\n\n![API_Gateway003.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/c079eb90-d8cd-5e3a-584e-b43c9d4b111c.jpeg \"API_Gateway003.jpg\")\n\nCreate Method\u3092\u9078\u629e\u3057\u307e\u3059\n\n![API_Gateway004.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/614984cb-561d-9b39-adf4-d776e07bfb0a.jpeg \"API_Gateway004.jpg\")\n\n\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u30e1\u30bd\u30c3\u30c9\u306e\u88cf\u5074\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u4f5c\u6210\u3057\u3066\u304a\u3044\u305fLambda\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u307e\u3059\n\n![API_Gateway005.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/c36b8c04-2e42-3fed-dcf6-8d54a47508a4.jpeg \"API_Gateway005.jpg\")\n\n\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u304c\u51fa\u3066\u304f\u308b\u306e\u3067OK\u3057\u3066\u9032\u307f\u307e\u3059\n![API_Gateway006.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/f5f41587-be4c-956b-6a5c-6a506775db2b.jpeg \"API_Gateway006.jpg\")\n\n\u5165\u529b\u5024\u3092\u5f04\u308b\u305f\u3081 Integration Request \u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n\n![API_Gateway007.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/2206779e-572b-17f8-f900-8884509a4b0e.jpeg \"API_Gateway007.jpg\")\n\nContent-Type\u306f __application/x-www-form-urlencoded__ \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30dd\u30c3\u30d7\u30a2\u30d7\u304c\u51fa\u3066\u304f\u308b\u306e\u3067OK\u3057\u307e\u3059\n\n```VTL:\u30de\u30c3\u30d4\u30f3\u30b0\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n#set($http = $input.path('$').split(\"&\"))\n#set($kv = $http[0])\n #set($key = $kv.split(\"=\"))\n {\n  \"message\" : \"$key[1]\"\n  }\n```\n\n\u30de\u30c3\u30d4\u30f3\u30b0\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u8868\u8a18\u306b\u95a2\u3057\u3066\u306f\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\n[API Gateway \u306e\u30de\u30c3\u30d4\u30f3\u30b0\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/api-gateway-mapping-template-reference.html)\n\nHTML\u306ePOST\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u5f62\u5f0f\u306f[\u3053\u306e\u8a18\u4e8b](http://qiita.com/satetsu888/items/40fc387735192b794da8)\u3092\u53c2\u8003\u306b\u3057\u3066\u628a\u63e1\u3057\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\n> HTML\u30d5\u30a9\u30fc\u30e0\u306b\u3088\u308bPOST\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u306f\u3001\u5404input\u30bf\u30b0\u306e\u5185\u5bb9\u3092key=value\u306e\u5f62\u5f0f\u3068\u3057\u3066&\u3067\u3064\u306a\u3044\u3060\u3082\u306e\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u3068\u3057\u3066\u9001\u4fe1\u3055\u308c\u307e\u3059\u3002\n\n\u3068\u306e\u3053\u3068\u3060\u3063\u305f\u306e\u3067\u3001Body\u90e8\u5206\u3092\u5206\u5272\u3057\u3066\u3001\u305d\u306e\u4e2d\u304b\u3089\uff1d\u308c\u9023\u7d50\u3055\u308c\u3066\u3044\u308bValue\u3092\u53d6\u5f97\u3057\u3001JSON\u306b\u306a\u304a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```json:json\n {\n  \"message\" : \"$key[1]\"\n  }\n```\n\n\u5b9f\u969b\u306bLambda\u306b\u9001\u3089\u308c\u308b\u306e\u306f\u3053\u306eJSON\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306a\u308b\u3063\u3066\u5bf8\u6cd5\u3067\u3059\n\n###\u30c7\u30d7\u30ed\u30a4\n![API_Gateway008.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/7efa1698-c5ef-bbbb-8287-e5c65cb55748.jpeg \"API_Gateway008.jpg\")\n\n\n![API_Gateway009.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/36d7d10d-c712-e961-ad85-a77fd1e57835.jpeg \"API_Gateway009.jpg\")\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u30b9\u30c6\u30fc\u30b8\u3092\u4f5c\u3063\u3066\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\n\n![API_Gateway010.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/ea9bd231-b2af-b397-8a0c-c10de1edca30.jpeg \"API_Gateway010.jpg\")\n\n\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3067\u6295\u7a3f\u7528\u306eURL\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u53d6\u5f97\u3067\u304d\u308b\u306e\u3067\u30b3\u30ec\u3092HTML\u306b\u57cb\u3081\u8fbc\u307f\u307e\u3059\n\u30d5\u30a9\u30fc\u30e0\u30bf\u30d6\u91ce\u4e2d\u3067\u3059\u306d\u3002\n\n###\u6295\u7a3f\n\u3067\u306f\u4f5c\u6210\u3057\u305fHTML\u304b\u3089\u6295\u7a3f\u3057\u3066\u307f\u307e\u3059\n\n![TEST.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/3699add3-7db7-edf1-ca94-7926f6a06986.jpeg \"TEST.jpg\")\n\n\u6587\u5b57\u5217\u3092\u5165\u529b\u3057\u3066\u9001\u4fe1\u3092\u62bc\u3059\u3068\u30fb\u30fb\u30fb\n\n![Slack.jpg](https://qiita-image-store.s3.amazonaws.com/0/52141/1a4a3f36-baad-1723-6555-9cec9d56399b.jpeg \"Slack.jpg\")\n\n\u7121\u4e8bslack\u3078\u6295\u7a3f\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\nAPI\u3000Gateway\u306f\u7d44\u307f\u5408\u308f\u305b\u308c\u3070\u3044\u308d\u3044\u308d\u3068\u904a\u3079\u308b\u306e\u3067\u8a66\u3057\u3066\u3044\u304d\u305f\u3044\u3067\u3059\u3002\n\n###\u53c2\u8003\nhttp://qiita.com/satetsu888/items/40fc387735192b794da8\nhttp://wiki.mesolabo.com/?%E3%83%A1%E3%82%BD%E7%9F%A5%E6%81%B5%2FHTML%2F%E9%81%95%E3%81%86%E6%96%87%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89%E3%81%A7POST%E3%81%99%E3%82%8B\nhttp://linux.oboe-gaki.com/archives/000333.html\n", "tags": ["AWS", "lambda", "APIGateway", "Slack"]}