{"context": " More than 1 year has passed since last update.line monitor\nhttp://qiita.com/7of9/items/028556c5a819a6a8de96\n\u81ea\u5206\u306e\u4f5c\u6210\u3057\u305f\u30e9\u30a4\u30f3\u30e2\u30cb\u30bf\u3067\u306f\u307e\u3063\u305f\u3002\n\u73fe\u5728\u306eline monitor\u306b\u304a\u3044\u3066\u306f\u4e3b\u306b<CR>,<LF>\u3067\u7d42\u7aef\u3059\u308b\u6587\u5b57\u5217\u306e\u901a\u4fe1\u3092\u6271\u3063\u3066\u3044\u308b\u3002\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ad\u30e3\u30e9\u30af\u30bf\u5358\u72ec\u306a\u3069\u306e\u30b3\u30fc\u30c9(\u4f8b<ACK>, <NAK>\u306a\u3069)\u306b\u3064\u3044\u3066\u306f\u6b63\u3057\u304f\u51e6\u7406\u3092\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u3002\n\u305d\u306e\u305f\u3081\u3001<ACK>\u306a\u3069\u306e\u30b3\u30fc\u30c9\u3092\u901a\u4fe1\u3059\u308b\u30bd\u30d5\u30c8\u306e\u30e2\u30cb\u30bf\u6642\u306b\u901a\u4fe1\u305d\u306e\u3082\u306e\u304c\u6b63\u5e38\u306b\u884c\u308f\u308c\u306a\u304f\u306a\u308a\u3001\u52d5\u4f5c\u304c\u304a\u304b\u3057\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\n\u305d\u3057\u3066\u305d\u308c\u306b\u6c17\u3065\u304f\u307e\u3067\u6642\u9593\u309230\u5206\u3070\u304b\u308a\u53d6\u3089\u308c\u305f\u3002\n\n\u6539\u826f\u70b9\n\n\n<CR>,<LF>\u4ee5\u5916\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ad\u30e3\u30e9\u30af\u30bf\u3082\u77ac\u6642\u306b\u8ee2\u9001\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u3053\u306e\u6539\u826f\u70b9\u306f\u7d50\u69cb\u65e9\u3081\u306b\u5bfe\u5fdc\u3057\u305f\u3044\u6c17\u304c\u3059\u308b\u3002\nutilComRelay\n\u306e\u4ee5\u4e0b\u306e\u90e8\u5206\u3092\u5909\u66f4\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\nutilComRelay.py\ndef comrelay(rcvd, srccom, dstcom):\n    str1 = srccom.read()\n    if (len(str1) > 0):\n        rcvd = rcvd + str1\n    if \"\\n\" in rcvd or \"\\r\" in rcvd:\n        print \"rcvd=\", rcvd\n        dstcom.write(rcvd)\n        return rcvd, True # new line = true\n\n    return rcvd, False # new line = false\n\n\nline monitor\nhttp://qiita.com/7of9/items/028556c5a819a6a8de96\n\n\u81ea\u5206\u306e\u4f5c\u6210\u3057\u305f\u30e9\u30a4\u30f3\u30e2\u30cb\u30bf\u3067\u306f\u307e\u3063\u305f\u3002\n\n\u73fe\u5728\u306eline monitor\u306b\u304a\u3044\u3066\u306f\u4e3b\u306b`<CR>`,`<LF>`\u3067\u7d42\u7aef\u3059\u308b\u6587\u5b57\u5217\u306e\u901a\u4fe1\u3092\u6271\u3063\u3066\u3044\u308b\u3002\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ad\u30e3\u30e9\u30af\u30bf\u5358\u72ec\u306a\u3069\u306e\u30b3\u30fc\u30c9(\u4f8b`<ACK>`, `<NAK>`\u306a\u3069)\u306b\u3064\u3044\u3066\u306f\u6b63\u3057\u304f\u51e6\u7406\u3092\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u3002\n\n\u305d\u306e\u305f\u3081\u3001`<ACK>`\u306a\u3069\u306e\u30b3\u30fc\u30c9\u3092\u901a\u4fe1\u3059\u308b\u30bd\u30d5\u30c8\u306e\u30e2\u30cb\u30bf\u6642\u306b\u901a\u4fe1\u305d\u306e\u3082\u306e\u304c\u6b63\u5e38\u306b\u884c\u308f\u308c\u306a\u304f\u306a\u308a\u3001\u52d5\u4f5c\u304c\u304a\u304b\u3057\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\n\n\u305d\u3057\u3066\u305d\u308c\u306b\u6c17\u3065\u304f\u307e\u3067\u6642\u9593\u309230\u5206\u3070\u304b\u308a\u53d6\u3089\u308c\u305f\u3002\n\n### \u6539\u826f\u70b9\n\n- `<CR>`,`<LF>`\u4ee5\u5916\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ad\u30e3\u30e9\u30af\u30bf\u3082\u77ac\u6642\u306b\u8ee2\u9001\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u3053\u306e\u6539\u826f\u70b9\u306f\u7d50\u69cb\u65e9\u3081\u306b\u5bfe\u5fdc\u3057\u305f\u3044\u6c17\u304c\u3059\u308b\u3002\n\n[utilComRelay](https://github.com/yasokada/python-151113-lineMonitor/blob/master/utilComRelay.py)\n\u306e\u4ee5\u4e0b\u306e\u90e8\u5206\u3092\u5909\u66f4\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\n\n```utilComRelay.py\ndef comrelay(rcvd, srccom, dstcom):\n    str1 = srccom.read()\n    if (len(str1) > 0):\n        rcvd = rcvd + str1\n    if \"\\n\" in rcvd or \"\\r\" in rcvd:\n        print \"rcvd=\", rcvd\n        dstcom.write(rcvd)\n        return rcvd, True # new line = true\n\n    return rcvd, False # new line = false\n```\n", "tags": ["myLineMonitor"]}