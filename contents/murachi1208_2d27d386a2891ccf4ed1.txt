{"context": " More than 1 year has passed since last update.\n\n\u624b\u3063\u53d6\u308a\u65e9\u304f\u30b5\u30fc\u30d0\u76e3\u8996\u3067\u304d\u3066\u3088\u3044\nMTRG , Hinemos, Cacti, Zabbix, Nagios, observium, ganglia, monit,  zenoss \u3068\u304b\u30b5\u30fc\u30d0\u76e3\u8996\u30c4\u30fc\u30eb\u306f\u3042\u308c\u3069\u624b\u8efd\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u306a\u3044\u306e\u304c\u7389\u306b\u30ad\u30ba\u3060\u306a\u3068\u601d\u3063\u3066\u3044\u305f\u3089\u3001\u6700\u8fd1\u6d41\u884c\u308a\u306e Munin \u304c\u624b\u8efd\u3067\u3055\u3063\u304f\u308a\u3044\u3044\u611f\u3058\u306b\u300c\u30b5\u30fc\u30d0\u76e3\u8996\u3067\u304d\u308b\u3088\u300d\u3068\u6559\u3048\u3066\u3082\u3089\u3063\u305f\u306e\u3067\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u3061\u3087\u30fc\u7c21\u5358\uff57\n\u305f\u3060 Munin \u306f\u3001\u30b5\u30fc\u30d0\u76e3\u8996\u30b7\u30b9\u30c6\u30e0\u3068\u3044\u3046\u304b\u3001\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u306e\u8272\u5408\u3044\u304c\u5f37\u3044\u306e\u3067\uff08\u81ea\u5206\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u4f5c\u308c\u3070\u8272\u3005\u3068\u3067\u304d\u308b\u3051\u3069\uff09\u3001\u305d\u3053\u3089\u8fba\u308a\u306f Zabbix \u3067\u901a\u77e5\u7cfb\u3092\u7ba1\u7406\u3057 Munin \u3067\u5b9f\u969b\u306e\u72b6\u6cc1\u3092\u898b\u308b\u3068\u3044\u3046\u306e\u304c\u3044\u3044\u3089\u3057\u3044\u3002\n\nmunin\u3068Zabbix\u3067\u5927\u898f\u6a21\u30b5\u30fc\u30d0\u30fc\u7fa4\u3092\u76e3\u8996\n\u7d71\u5408\u76e3\u8996\u30c4\u30fc\u30eb\u300cZabbix\u300d\u306b\u3088\u308b\u30b5\u30fc\u30d0\u30fc\u76e3\u8996\n\n\u3057\u304b\u3057\u5c11\u3057\u524d\u306f\u3001SNMP \u3092\u4f7f\u7528\u3057\u5bfe\u5fdc\u6a5f\u5668\u3092\u76e3\u8996\u5bfe\u8c61\u306b\u3057\u3066\u30ea\u30bd\u30fc\u30b9\u3092\u76e3\u8996,GD\u3067\u63cf\u753b\u3064\u306e\u304c\u4e00\u822c\u7684\u3060\u3063\u305f RRDtool, MTRG \u306a\u3069\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3093\u306a\u624b\u8efd\u306b\u5c0e\u5165\u3067\u304d\u308b\u3068\u9996\u4f4d\u9006\u8ee2\u3067\u3059\u3088\u306d\u3002\n\u3068\u601d\u3063\u305f\u3089\u3001\u901a\u77e5\u7cfb\u3082\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u3089\u3057\u3044\u3002\u3064\u3044\u3067\u306b SNMP \u6a5f\u5668\u3092\u76e3\u8996\u3059\u308b\u306b\u306f\u3061\u3087\u3063\u3068\u624b\u304c\u5fc5\u8981\u3089\u3057\u3044\u3002\n\nMunin\u30a2\u30e9\u30fc\u30c8\u30e1\u30fc\u30eb\u8a2d\u5b9a\nMunin \u3067 SNMP \u5bfe\u5fdc\u6a5f\u5668\u3092\u76e3\u8996\u3059\u308b\n\n\n\u524d\u63d0\u6761\u4ef6\n\u3044\u3064\u3082\u306e\u3054\u3068\u304f vm \u3092\uff12\u3064\u7528\u610f\u3059\u308b\u3053\u3068\u3002Munin \u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001EPEL \u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u3002Munin \u306e\u30c7\u30fc\u30bf\u30dd\u30fc\u30c8\u306f\u30014949/tcp, udp \u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u30d5\u30a1\u30a4\u30e4\u30fc\u30a6\u30a9\u30fc\u30eb\u3067\u9589\u3058\u3066\u3044\u305f\u3089\u89e3\u653e\u304c\u5fc5\u8981\u3068\u3044\u3046\u3053\u3068\u3002\u3050\u3089\u3044\u304b\u306a\uff1f\n\u307e\u305f\u500b\u4eba\u30fb\u4f01\u696d\u306b\u554f\u308f\u305a\u30b5\u30fc\u30d0\u76e3\u8996\u306e\u60c5\u5831\u306f\u3001\u7b2c\u4e09\u8005\u306b\u898b\u305b\u3066\u3044\u3044\u3082\u306e\u3067\u306f\u306a\u3044\u306e\u3067\u9069\u5207\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5bfe\u7b56\u3092\u5fc5\u305a\u884c\u3046\u3053\u3068\u304c\u5fc5\u8981\u3067\u3059\u3002\u305f\u3068\u3048\u3070\u3001Munin \u30a2\u30af\u30bb\u30b9\u306b\u306fIP\u5236\u9650\u5165\u308c\u308b\u3068\u304b\u8a8d\u8a3c\u3044\u308c\u308b\u3068\u304b\u3068\u304b\u3002\u5fc5\u8981\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u3064\u3044\u3067\u306b\u4ee5\u4e0b\u300cMunin\u30b5\u30fc\u30d0, Munin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u300d\u3068\u4ee5\u4e0b\u8aac\u660e\u3057\u307e\u3059\u306e\u3067\u305d\u3053\u306e\u3068\u3053\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n\nMunin\u30b5\u30fc\u30d0\u306e\u69cb\u7bc9 (192.168.11.100)\n\u30b5\u30fc\u30d0\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u540c\u6642\u306b\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3067\u3042\u308b\uff08munin-node\uff09\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\u6700\u5c11\u69cb\u6210\u306e\uff11\u53f0\u3067 Munin \u3092\u904b\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u306d\u3002\u307e\u305f\u30b5\u30fc\u30d0\u5074\u306b\u306f\u3001Web\u30b5\u30fc\u30d3\u30b9\u304c\u5fc5\u8981\u306a\u306e\u3067 Apache \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ sudo yum install apache\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5c0e\u5165\nmunin \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066 /etc/munin/munin.conf \u3092\u5c11\u3057\u5f04\u308b\u3060\u3051\u3067\u3059\u3002\n$ sudo yum -y install munin --enablerepo=epel\n$ sudo vi /etc/munin/munin.conf\ndbdir   /var/lib/munin                 # \u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3059\nhtmldir /var/www/html/munin\nlogdir /var/log/munin\nrundir  /var/run/munin\n\n\nBASIC\u8a8d\u8a3c\n/etc/httpd/conf.d/munin.conf \u3092\u898b\u308b\u3068 BASIC\u8a8d\u8a3c\u3059\u308b\u8a2d\u5b9a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3053\u306e\u307e\u307e\u4f7f\u7528\u3059\u308b\u3002\n<directory /var/www/html/munin>\n  AuthUserFile /etc/munin/munin-htpasswd\n  AuthName \"Munin\"\n  AuthType Basic\n  require valid-user\n\n\u304c\u3001/etc/munin/munin-htpasswd \u306f\u3001\u7a7a\u3063\u307d\u306a\u306e\u3067\u30e6\u30fc\u30b6\u767b\u9332\u3057\u307e\u3059\u3002\n$ sudo htpasswd -c /etc/munin/munin-htpasswd hoge\n\n\n\u81ea\u52d5\u8d77\u52d5\u306e\u8a2d\u5b9a\u3068\u52d5\u4f5c\u78ba\u8a8d\n\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u7121\u304f\u3044\u3064\u3082\u306e\u5b89\u5b9a\u306e\u8a2d\u5b9a\u3067\u3059\uff57\u3002\n$ sudo service httpd restart\n$ sudo service munin-node start\n$ sudo chkconfig munin-node on\n\nMunin \u304c\u60c5\u5831\u3092\u53ce\u96c6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f\u30015\u5206\u6bce\u306a\u306e\u3067\u30b3\u30fc\u30d2\u30fc\u3067\u3082\u98f2\u307f\u306a\u304c\u3089\u5c11\u3057\u5f85\u3063\u3066\u304b\u3089http://192.168.11.100/munin/ \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002BASIC\u8a8d\u8a3c\u304c\u3042\u308b\u306e\u3067\u4e0a\u3067\u8a2d\u5b9a\u3057\u305f\u30e6\u30fc\u30b6/\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3002\n\n\nMunin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u69cb\u7bc9 (192.168.11.102)\nmunin\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u3001Munin\u30b5\u30fc\u30d0\u306b\u30b7\u30b9\u30c6\u30e0\u306e\u60c5\u5831\u3092\u8ee2\u9001\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u2190\u3053\u308c\u3060\u3051\u3002\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5c0e\u5165\nmunin\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066 /etc/munin/munin-node.conf \u306bMunin\u30b5\u30fc\u30d0\u30a2\u30c9\u30ec\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3002\n$ sudo yum -y install munin-node --enablerepo=epel\n$ sudo vi /etc/munin/munin-node.conf\nallow ^192\\.168\\.11\\.102$\n\n\n\u81ea\u52d5\u8d77\u52d5\u306e\u8a2d\u5b9a\u3068\u52d5\u4f5c\u78ba\u8a8d\n\u3053\u3061\u3089\u3082\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u7121\u304f\u3044\u3064\u3082\u306e\u5b89\u5b9a\u306e\u8a2d\u5b9a\u3067\u3059\u306d\uff57\u3002\n$ sudo service munin-node start\n$ sudo chkconfig munin-node on\n\n\nApache \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5c0e\u5165\uff08\u624b\u52d5\u8a2d\u5b9a\u306e\u5834\u5408\uff09\nmunin \u3067\u76e3\u8996\u3055\u308c\u308b\u30ea\u30bd\u30fc\u30b9(Sensor \u3063\u3066\u3044\u3046\u3089\u3057\u3044)\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 disk/network/postfix/processes/system \u306e\uff15\u3064\u304c\u8a2d\u5b9a\u6e08\u307f\u306a\u306e\u3067\u521d\u671f\u72b6\u614b\u3068\u3057\u3066\u306f\u3053\u308c\u3067\u3044\u3044\u611f\u3058\u3067\u3059\u3002\u3067\u3001Apache \u306a\u3069\u6709\u540d\u3069\u3053\u308d\u306e Sensor \u306f\u81ea\u5206\u3067\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3068\u3044\u3046\u3068\u305d\u3046\u3067\u3082\u306a\u304f\u3001\u4ed6\u306b Sensor \u304c\u3069\u3093\u306a\u306e\u304c\u5b58\u5728\u3059\u308b\u304b\u306f /usr/share/munin/plugins \u3092\u898b\u308b\u3068\u7d50\u69cb\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u81ea\u52d5\u3067\u3082\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u3042\u3048\u3066\u624b\u52d5\u3067Apache Sensor \u3092\u8a2d\u5b9a\u3057\u3066\u307f\u307e\u3059\u3002\n\nCentOS 6.5 - \u30b5\u30fc\u30d0\u76e3\u8996\u30c4\u30fc\u30eb\uff08munin\uff09\u3067CPU\u6e29\u5ea6\u30fb\u96fb\u5727\u30fb\u30d5\u30a1\u30f3\u56de\u8ee2\u6570\u6e2c\u5b9a\uff01\n\n\nApache\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u8a2d\u5b9a\n\u30ea\u30f3\u30af\u3092\u5f35\u308b\u3060\u3051\u3002\u30fb\u30fb\u30fb\u3067\u6e08\u3080\u8a33\u306f\u3001\u306a\u3044\u3067\u3059\u306d\uff01\uff01\u3002\u3053\u3053\u5c11\u3057\u3060\u3051\u30cf\u30de\u308a\u307e\u3059\uff57\n\u3061\u306a\u307f\u306bMunin\u30b5\u30fc\u30d0, Munin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5171\u306b Apache \u306e Sensor \u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nApache\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30ea\u30f3\u30af\u3092\u5f35\u308a\u307e\u3059\u3002\n$ sudo ln -s /usr/share/munin/plugins/apache_accesses /etc/munin/plugins/apache_accesses\n$ sudo ln -s /usr/share/munin/plugins/apache_processes /etc/munin/plugins/apache_processes\n$ sudo ln -s /usr/share/munin/plugins/apache_volume /etc/munin/plugins/apache_volume\n\nApache \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb httpd.conf \u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\uff08ExtendedStatus On \u306e\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3059\u3060\u3051\u3060\u3068\u601d\u3046\u3051\u3069\uff09\u3002\n$ sudo vi /etc/httpd/conf/httpd.conf\nLoadModule status_module modules/mod_status.so\nExtendedStatus On\n\nApache \u3068\u3001munin-node \u306e\u518d\u8d77\u52d5\n$ sudo service httpd restart\n$ sudo service munin-node restart\n\n\n\u30b0\u30e9\u30d5\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\uff08\u307e\u3063\u3057\u308d\uff09\u3002\n\u304a\u304b\u3057\u3044\u306a\uff1f\u30b0\u30e9\u30d5\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\u3068\u601d\u3063\u305f\u3089\u3002\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u5024\u3092\u53d6\u5f97\u3067\u304d\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u3067\u3057\u305f\u3002\n\nmunin\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3067apache\u95a2\u9023\u306e\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u4ef6\npro-mame\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u30e1\u30e2\n\n$ sudo /etc/munin/plugins/munin-run apache_accesses\naccesses80.value U   \u2190 \u5931\u6557\u3057\u3066\u308b\naccesses80.value 85   \u2190 \u5024\u3092\u8fd4\u3057\u3066\u308b\u306e\u3067\u3042\u308c\u3070\u6b63\u5e38\n\n\n\u307e\u3063\u3057\u308d\u5bfe\u7b56\n\n/etc/munin/plugin-conf.d/munin-node \u3068 /etc/httpd/conf/httpd.conf \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n/etc/munin/plugin-conf.d/munin-node\n[apache_*]\nenv.url   http://127.0.0.1:%d/server-status?auto\nenv.ports 80\n\n\n\n/etc/httpd/conf/httpd.conf\nAlias /server-status /server-status\n<IfModule mod_status.c>\n  ExtendedStatus On\n  <Location /server-status>\n    SetHandler server-status\n    Order deny,allow\n    Deny from all\n    Allow from all\n  </Location>\n</IfModule>\n\n\nVirtualHost \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\n\n/etc/httpd/conf/httpd.conf\n<VirtualHost *:80>\n    ServerName 127.0.0.1\n    <Location /server-status>\n      SetHandler server-status\n      Order deny,allow\n      Deny from all\n      allow from 127.0.0.1\n    </Location>\n</VirtualHost>\n\n\n\u4fee\u6b63\u5f8c\u306f\u3001Apache \u3068 Munin \u306e\u518d\u8d77\u52d5\n$ sudo service httpd restart\n$ sudo service munin-node restart\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5c0e\u5165\uff08\u81ea\u52d5\u8a2d\u5b9a\u306e\u5834\u5408\uff09\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30de\u30b7\u30f3\u3067\u4f7f\u3048\u305d\u3046\u306a\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u304a\u52e7\u3081\u30ea\u30b9\u30c8\u4e00\u89a7\u3092\u78ba\u8a8d\u3067\u304d\u305f\u308a\u8a2d\u5b9a\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f\u3001\u4ee5\u4e0b\u3067\u3067\u304d\u307e\u3059\u3002\n\u3067\u3082 Apache \u3068\u540c\u69d8\u306b\u7d30\u304b\u3044\u8a2d\u5b9a\u304c\u5fc5\u8981\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u305d\u3053\u3089\u306f\u3001\u9069\u5b9c\u5bfe\u5fdc\u3059\u308b\u3053\u3068\u3002\n# munin-node-configure --suggest\n# munin-node-configure --shell | sh\n\n\narchlinux - Munin(\u65e5\u672c\u8a9e)\n\n\nMunin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u21d2 Munin\u30b5\u30fc\u30d0 \u306b\u60c5\u5831\u3092\u8ee2\u9001\nMunin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3044\u3046\u304b\u3001\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u60c5\u5831\u3092 Munin\u30b5\u30fc\u30d0\u306b\u8ee2\u9001\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\u203bMunin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u3092\u53d7\u53d6\u308b\u305f\u3081 Munin\u30b5\u30fc\u30d0\u5074\u306e 4949/TCP, UDP \u304c\u89e3\u653e\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3002\nMunin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e /etc/munin/munin-node.conf \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n$ sudo vi /etc/munin/munin-node.conf\nallow ^192\\.168\\.11\\.100$\n\n\n\u3068\u308a\u3042\u3048\u305a\u3053\u3093\u306a\u98a8\u306b\u306a\u308b\nMunin\u30b5\u30fc\u30d0, Munin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u5171\u306b Apache, Munin \u3092\u518d\u8d77\u52d5\u3057\u3066\u69d8\u5b50\u3092\u307f\u307e\u3059\u3002\n$ sudo service httpd restart\n$ sudo service munin-node restart\n\n\n\n\u6700\u7d42\u8abf\u6574\u3092\u884c\u3046\n\u30b0\u30eb\u30fc\u30d7\u5316\u3057\u305f\u308a\u3057\u305f\u308a\u3057\u305f\u308a\uff57\n\nMunin\u30b5\u30fc\u30d0\u5074\n\n/etc/munin/munin.conf\n[MyService_Server;]\n[MyService_Server;Munin-Client]\n    address 192.168.11.102\n    use_node_name yes\n[MyService_Server;Munin-Server]\n    address 127.0.0.1\n    use_node_name yes\n\n\n\n/etc/munin/munin-node.conf\nallow ^127\\.0\\.0\\.1$\nallow ^::1$\n\n\n\nMunin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\n\n/etc/munin/munin-node.conf\nallow ^192\\.168\\.11\\.100$\nallow ^::1$\n\n\n\n\u81ea\u4f5c\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f5c\u6210\nMTRG \u3068\u540c\u69d8\u306b\u6642\u9593\u8ef8\u306e\u5dee\u7570\uff08\u73fe\u5728\u3068\u3072\u3068\u3064\u524d\u306e\u5024\u306e\u5dee\u3092\u8a08\u6e2c\u3057\u305f\u6642\u9593\uff09\u3067\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308c\u3070\u3044\u3044\u306e\u3067\u610f\u5916\u3068\u697d\u306b\u4f5c\u6210\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002/usr/share/munin/plugins \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u898b\u3066\u307f\u308b\u3068 sh \u3067\u3082\u3044\u3044\u306e\uff1f \u3068\u3044\u3046\u306e\u3082\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u6700\u7d42\u7684\u306a\u66f8\u5f0f\u304c\u5408\u3063\u3066\u3044\u308c\u3070ok\uff08\u51fa\u529b\uff09\u306a\u306e\u3067\u7279\u306b\u8a00\u8a9e\u306b\u504f\u308a\u306f\u306a\u3055\u305d\u3046\u3067\u3059\uff08\u7c21\u6613\u7684\u306b\u4f7f\u3048\u308b\u3068\u3044\u3046\u610f\u5473\u3067\u3059\uff09\u3002\n\nmunin-node\u306e\u8a2d\u5b9a\u3092\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3059\u308b\u65b9\u6cd5\nMunin\u3067SSH\u30ed\u30b0\u30a4\u30f3\u5931\u6557\u6570\u3092\u8a18\u9332\u3057\u3066\u307f\u305f\nmunin\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u6210\n\n\nmunin \u306e webUI \u3092\u5909\u66f4\u3057\u3066\u307f\u308b\n\u3061\u3087\u3063\u3068UI\u304c\u3044\u3051\u3066\u306a\u3044\u3088\u306a\u3068\u601d\u3063\u305f\u3089 webUI \u3092\u7c21\u5358\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\u300cMunstrap\u300d\u3053\u308c\u7d50\u69cb\u3044\u3044\u3067\u3059\u306d\u3002\u7c21\u5358\u306b\u5c0e\u5165\u3082\u3067\u304d\u307e\u3059\u3057\u3002\n\nmunin \u306e webUI \u3092\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u306a\u3082\u306e\u306b\u3059\u308b\n\n\n\u305d\u306e\u4ed6\n\n\u30fbmunin\u306e\u76e3\u8996\u9593\u9694\u3092\u5909\u66f4\u3059\u308b\n\u30fbMunin/\u8a2d\u5b9a\n\n\n\u3068\u308a\u3042\u3048\u305a\n\u300c\u30b0\u30eb\u30fc\u30d4\u30f3\u30b0\u5316\u3067\u304d\u308b\u306e\uff1f\u3068\u304b\u30b5\u30fc\u30d0\u540d\u3068\u304b\u3068\u304b\u300d\u7d30\u304b\u3044\u70b9\u3068\u304b\u3042\u308b\u3060\u308d\u3046\u3051\u3069\u3082\u300c\u7d30\u304b\u3044\u8a2d\u5b9a\u306f\u3069\u30fc\u3067\u3082\u3044\u3044\u3093\u3060\u3088\u300d\u3068\u3044\u3046\u306a\u3089\u3053\u308c\u3067ok\u3067\u3059\u306d\u3002\u6687\u307f\u3066\u3069\u3053\u307e\u3067\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u304b\u8abf\u6574\u3057\u3066\u307f\u307e\u3059\u3002\n# \u624b\u3063\u53d6\u308a\u65e9\u304f\u30b5\u30fc\u30d0\u76e3\u8996\u3067\u304d\u3066\u3088\u3044\n[MTRG](http://oss.oetiker.ch/mrtg/) , [Hinemos](http://www.hinemos.info/), [Cacti](http://www.cacti.net/), [Zabbix](http://www.zabbix.com/jp/), [Nagios](http://www.nagios.org/), [observium](http://www.observium.org/wiki/Main_Page), [ganglia](http://ganglia.info/), [monit](http://mmonit.com/monit/),  [zenoss](http://www.zenoss.com/) \u3068\u304b\u30b5\u30fc\u30d0\u76e3\u8996\u30c4\u30fc\u30eb\u306f\u3042\u308c\u3069\u624b\u8efd\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u306a\u3044\u306e\u304c\u7389\u306b\u30ad\u30ba\u3060\u306a\u3068\u601d\u3063\u3066\u3044\u305f\u3089\u3001\u6700\u8fd1\u6d41\u884c\u308a\u306e [Munin](http://munin-monitoring.org/) \u304c\u624b\u8efd\u3067\u3055\u3063\u304f\u308a\u3044\u3044\u611f\u3058\u306b\u300c\u30b5\u30fc\u30d0\u76e3\u8996\u3067\u304d\u308b\u3088\u300d\u3068\u6559\u3048\u3066\u3082\u3089\u3063\u305f\u306e\u3067\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u3061\u3087\u30fc\u7c21\u5358\uff57\n\u305f\u3060 Munin \u306f\u3001\u30b5\u30fc\u30d0\u76e3\u8996\u30b7\u30b9\u30c6\u30e0\u3068\u3044\u3046\u304b\u3001\u30ea\u30bd\u30fc\u30b9\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u306e\u8272\u5408\u3044\u304c\u5f37\u3044\u306e\u3067\uff08\u81ea\u5206\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u4f5c\u308c\u3070\u8272\u3005\u3068\u3067\u304d\u308b\u3051\u3069\uff09\u3001\u305d\u3053\u3089\u8fba\u308a\u306f Zabbix \u3067\u901a\u77e5\u7cfb\u3092\u7ba1\u7406\u3057 Munin \u3067\u5b9f\u969b\u306e\u72b6\u6cc1\u3092\u898b\u308b\u3068\u3044\u3046\u306e\u304c\u3044\u3044\u3089\u3057\u3044\u3002\n\n> [munin\u3068Zabbix\u3067\u5927\u898f\u6a21\u30b5\u30fc\u30d0\u30fc\u7fa4\u3092\u76e3\u8996](http://www.geek.sc/archives/752)\n> [\u7d71\u5408\u76e3\u8996\u30c4\u30fc\u30eb\u300cZabbix\u300d\u306b\u3088\u308b\u30b5\u30fc\u30d0\u30fc\u76e3\u8996](http://knowledge.sakura.ad.jp/tech/585/)\n\n\u3057\u304b\u3057\u5c11\u3057\u524d\u306f\u3001SNMP \u3092\u4f7f\u7528\u3057\u5bfe\u5fdc\u6a5f\u5668\u3092\u76e3\u8996\u5bfe\u8c61\u306b\u3057\u3066\u30ea\u30bd\u30fc\u30b9\u3092\u76e3\u8996,GD\u3067\u63cf\u753b\u3064\u306e\u304c\u4e00\u822c\u7684\u3060\u3063\u305f RRDtool, MTRG \u306a\u3069\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3093\u306a\u624b\u8efd\u306b\u5c0e\u5165\u3067\u304d\u308b\u3068\u9996\u4f4d\u9006\u8ee2\u3067\u3059\u3088\u306d\u3002\n\n\u3068\u601d\u3063\u305f\u3089\u3001\u901a\u77e5\u7cfb\u3082\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u3089\u3057\u3044\u3002\u3064\u3044\u3067\u306b SNMP \u6a5f\u5668\u3092\u76e3\u8996\u3059\u308b\u306b\u306f\u3061\u3087\u3063\u3068\u624b\u304c\u5fc5\u8981\u3089\u3057\u3044\u3002\n\n> [Munin\u30a2\u30e9\u30fc\u30c8\u30e1\u30fc\u30eb\u8a2d\u5b9a](http://ex-cloud.jp/support/question/g-585)\n> [Munin \u3067 SNMP \u5bfe\u5fdc\u6a5f\u5668\u3092\u76e3\u8996\u3059\u308b](http://www.yuhisa.com/server/munin-snmp/)\n\n# \u524d\u63d0\u6761\u4ef6\n\u3044\u3064\u3082\u306e\u3054\u3068\u304f [vm](http://qiita.com/murachi1208/items/5b429cb7cedf76164e67) \u3092\uff12\u3064\u7528\u610f\u3059\u308b\u3053\u3068\u3002Munin \u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001EPEL \u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u3002Munin \u306e\u30c7\u30fc\u30bf\u30dd\u30fc\u30c8\u306f\u30014949/tcp, udp \u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u30d5\u30a1\u30a4\u30e4\u30fc\u30a6\u30a9\u30fc\u30eb\u3067\u9589\u3058\u3066\u3044\u305f\u3089\u89e3\u653e\u304c\u5fc5\u8981\u3068\u3044\u3046\u3053\u3068\u3002\u3050\u3089\u3044\u304b\u306a\uff1f\n\u307e\u305f\u500b\u4eba\u30fb\u4f01\u696d\u306b\u554f\u308f\u305a\u30b5\u30fc\u30d0\u76e3\u8996\u306e\u60c5\u5831\u306f\u3001\u7b2c\u4e09\u8005\u306b\u898b\u305b\u3066\u3044\u3044\u3082\u306e\u3067\u306f\u306a\u3044\u306e\u3067\u9069\u5207\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5bfe\u7b56\u3092\u5fc5\u305a\u884c\u3046\u3053\u3068\u304c\u5fc5\u8981\u3067\u3059\u3002\u305f\u3068\u3048\u3070\u3001Munin \u30a2\u30af\u30bb\u30b9\u306b\u306fIP\u5236\u9650\u5165\u308c\u308b\u3068\u304b\u8a8d\u8a3c\u3044\u308c\u308b\u3068\u304b\u3068\u304b\u3002\u5fc5\u8981\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u3064\u3044\u3067\u306b\u4ee5\u4e0b\u300cMunin\u30b5\u30fc\u30d0, Munin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u300d\u3068\u4ee5\u4e0b\u8aac\u660e\u3057\u307e\u3059\u306e\u3067\u305d\u3053\u306e\u3068\u3053\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n![munin_00.png](https://qiita-image-store.s3.amazonaws.com/0/44540/9c4aa730-58d2-5396-cf08-310882f93a0a.png)\n\n# Munin\u30b5\u30fc\u30d0\u306e\u69cb\u7bc9 (192.168.11.100)\n\u30b5\u30fc\u30d0\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u540c\u6642\u306b\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3067\u3042\u308b\uff08munin-node\uff09\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\u6700\u5c11\u69cb\u6210\u306e\uff11\u53f0\u3067 Munin \u3092\u904b\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u3053\u308c\u3067\u3044\u3044\u3067\u3059\u306d\u3002\u307e\u305f\u30b5\u30fc\u30d0\u5074\u306b\u306f\u3001Web\u30b5\u30fc\u30d3\u30b9\u304c\u5fc5\u8981\u306a\u306e\u3067 Apache \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n$ sudo yum install apache\n```\n\n## \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5c0e\u5165\nmunin \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066 ```/etc/munin/munin.conf``` \u3092\u5c11\u3057\u5f04\u308b\u3060\u3051\u3067\u3059\u3002\n\n```\n$ sudo yum -y install munin --enablerepo=epel\n$ sudo vi /etc/munin/munin.conf\ndbdir   /var/lib/munin                 # \u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3059\nhtmldir /var/www/html/munin\nlogdir /var/log/munin\nrundir  /var/run/munin\n```\n\n## BASIC\u8a8d\u8a3c\n```/etc/httpd/conf.d/munin.conf``` \u3092\u898b\u308b\u3068 BASIC\u8a8d\u8a3c\u3059\u308b\u8a2d\u5b9a\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3053\u306e\u307e\u307e\u4f7f\u7528\u3059\u308b\u3002\n\n```\n<directory /var/www/html/munin>\n  AuthUserFile /etc/munin/munin-htpasswd\n  AuthName \"Munin\"\n  AuthType Basic\n  require valid-user\n```\n\n\u304c\u3001```/etc/munin/munin-htpasswd``` \u306f\u3001\u7a7a\u3063\u307d\u306a\u306e\u3067\u30e6\u30fc\u30b6\u767b\u9332\u3057\u307e\u3059\u3002\n\n```\n$ sudo htpasswd -c /etc/munin/munin-htpasswd hoge\n```\n\n## \u81ea\u52d5\u8d77\u52d5\u306e\u8a2d\u5b9a\u3068\u52d5\u4f5c\u78ba\u8a8d\n\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u7121\u304f\u3044\u3064\u3082\u306e\u5b89\u5b9a\u306e\u8a2d\u5b9a\u3067\u3059\uff57\u3002\n\n```\n$ sudo service httpd restart\n$ sudo service munin-node start\n$ sudo chkconfig munin-node on\n```\n\nMunin \u304c\u60c5\u5831\u3092\u53ce\u96c6\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u306f\u30015\u5206\u6bce\u306a\u306e\u3067\u30b3\u30fc\u30d2\u30fc\u3067\u3082\u98f2\u307f\u306a\u304c\u3089\u5c11\u3057\u5f85\u3063\u3066\u304b\u3089```http://192.168.11.100/munin/``` \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002BASIC\u8a8d\u8a3c\u304c\u3042\u308b\u306e\u3067\u4e0a\u3067\u8a2d\u5b9a\u3057\u305f\u30e6\u30fc\u30b6/\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3002\n\n![munin_01.png](https://qiita-image-store.s3.amazonaws.com/0/44540/b64f9f8e-a907-ed55-34b8-702fbfe4cdc7.png)\n\n# Munin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u69cb\u7bc9 (192.168.11.102)\nmunin\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u3001Munin\u30b5\u30fc\u30d0\u306b\u30b7\u30b9\u30c6\u30e0\u306e\u60c5\u5831\u3092\u8ee2\u9001\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u2190\u3053\u308c\u3060\u3051\u3002\n\n## \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5c0e\u5165\nmunin\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066 ```/etc/munin/munin-node.conf``` \u306bMunin\u30b5\u30fc\u30d0\u30a2\u30c9\u30ec\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3002\n\n```\n$ sudo yum -y install munin-node --enablerepo=epel\n$ sudo vi /etc/munin/munin-node.conf\nallow ^192\\.168\\.11\\.102$\n```\n\n## \u81ea\u52d5\u8d77\u52d5\u306e\u8a2d\u5b9a\u3068\u52d5\u4f5c\u78ba\u8a8d\n\u3053\u3061\u3089\u3082\u7279\u306b\u96e3\u3057\u3044\u3053\u3068\u306f\u7121\u304f\u3044\u3064\u3082\u306e\u5b89\u5b9a\u306e\u8a2d\u5b9a\u3067\u3059\u306d\uff57\u3002\n\n```\n$ sudo service munin-node start\n$ sudo chkconfig munin-node on\n```\n\n# Apache \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5c0e\u5165\uff08\u624b\u52d5\u8a2d\u5b9a\u306e\u5834\u5408\uff09\nmunin \u3067\u76e3\u8996\u3055\u308c\u308b\u30ea\u30bd\u30fc\u30b9(Sensor \u3063\u3066\u3044\u3046\u3089\u3057\u3044)\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 disk/network/postfix/processes/system \u306e\uff15\u3064\u304c\u8a2d\u5b9a\u6e08\u307f\u306a\u306e\u3067\u521d\u671f\u72b6\u614b\u3068\u3057\u3066\u306f\u3053\u308c\u3067\u3044\u3044\u611f\u3058\u3067\u3059\u3002\u3067\u3001Apache \u306a\u3069\u6709\u540d\u3069\u3053\u308d\u306e Sensor \u306f\u81ea\u5206\u3067\u7528\u610f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3068\u3044\u3046\u3068\u305d\u3046\u3067\u3082\u306a\u304f\u3001\u4ed6\u306b Sensor \u304c\u3069\u3093\u306a\u306e\u304c\u5b58\u5728\u3059\u308b\u304b\u306f ```/usr/share/munin/plugins``` \u3092\u898b\u308b\u3068\u7d50\u69cb\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\u81ea\u52d5\u3067\u3082\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u3042\u3048\u3066\u624b\u52d5\u3067Apache Sensor \u3092\u8a2d\u5b9a\u3057\u3066\u307f\u307e\u3059\u3002\n\n> [CentOS 6.5 - \u30b5\u30fc\u30d0\u76e3\u8996\u30c4\u30fc\u30eb\uff08munin\uff09\u3067CPU\u6e29\u5ea6\u30fb\u96fb\u5727\u30fb\u30d5\u30a1\u30f3\u56de\u8ee2\u6570\u6e2c\u5b9a\uff01](http://www.mk-mode.com/octopress/2014/01/15/centos-6-5-munin-setting-of-cpu-fan/)\n\n\n## Apache\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u8a2d\u5b9a\n\u30ea\u30f3\u30af\u3092\u5f35\u308b\u3060\u3051\u3002\u30fb\u30fb\u30fb\u3067\u6e08\u3080\u8a33\u306f\u3001\u306a\u3044\u3067\u3059\u306d\uff01\uff01\u3002\u3053\u3053\u5c11\u3057\u3060\u3051\u30cf\u30de\u308a\u307e\u3059\uff57\n\u3061\u306a\u307f\u306bMunin\u30b5\u30fc\u30d0, Munin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5171\u306b Apache \u306e Sensor \u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nApache\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30ea\u30f3\u30af\u3092\u5f35\u308a\u307e\u3059\u3002\n\n```\n$ sudo ln -s /usr/share/munin/plugins/apache_accesses /etc/munin/plugins/apache_accesses\n$ sudo ln -s /usr/share/munin/plugins/apache_processes /etc/munin/plugins/apache_processes\n$ sudo ln -s /usr/share/munin/plugins/apache_volume /etc/munin/plugins/apache_volume\n```\n\nApache \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb ```httpd.conf``` \u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\uff08ExtendedStatus On \u306e\u30b3\u30e1\u30f3\u30c8\u3092\u5916\u3059\u3060\u3051\u3060\u3068\u601d\u3046\u3051\u3069\uff09\u3002\n\n```\n$ sudo vi /etc/httpd/conf/httpd.conf\nLoadModule status_module modules/mod_status.so\nExtendedStatus On\n```\n\nApache \u3068\u3001munin-node \u306e\u518d\u8d77\u52d5\n\n```\n$ sudo service httpd restart\n$ sudo service munin-node restart\n```\n\n### \u30b0\u30e9\u30d5\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\uff08\u307e\u3063\u3057\u308d\uff09\u3002\n\u304a\u304b\u3057\u3044\u306a\uff1f\u30b0\u30e9\u30d5\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\u3068\u601d\u3063\u305f\u3089\u3002\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u5024\u3092\u53d6\u5f97\u3067\u304d\u3066\u3044\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u3067\u3057\u305f\u3002\n\n> [munin\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3067apache\u95a2\u9023\u306e\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u4ef6](http://d.hatena.ne.jp/gamme/20090811/1249997519)\n> [pro-mame\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u30e1\u30e2](http://prg.pro-mame.com/index.php?Linux%2F%E7%9B%A3%E8%A6%96%E3%83%84%E3%83%BC%E3%83%AB%2FMunin)\n\n```\n$ sudo /etc/munin/plugins/munin-run apache_accesses\naccesses80.value U   \u2190 \u5931\u6557\u3057\u3066\u308b\naccesses80.value 85   \u2190 \u5024\u3092\u8fd4\u3057\u3066\u308b\u306e\u3067\u3042\u308c\u3070\u6b63\u5e38\n```\n\n# \u307e\u3063\u3057\u308d\u5bfe\u7b56\n![munin_02.png](https://qiita-image-store.s3.amazonaws.com/0/44540/3f2c67ec-c4d6-80cd-dab4-15bd8a19e7c1.png)\n\n\n```/etc/munin/plugin-conf.d/munin-node``` \u3068 ```/etc/httpd/conf/httpd.conf``` \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```/etc/munin/plugin-conf.d/munin-node\n[apache_*]\nenv.url   http://127.0.0.1:%d/server-status?auto\nenv.ports 80\n```\n\n```/etc/httpd/conf/httpd.conf\nAlias /server-status /server-status\n<IfModule mod_status.c>\n  ExtendedStatus On\n  <Location /server-status>\n    SetHandler server-status\n    Order deny,allow\n    Deny from all\n    Allow from all\n  </Location>\n</IfModule>\n```\n\nVirtualHost \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\n\n```/etc/httpd/conf/httpd.conf\n<VirtualHost *:80>\n    ServerName 127.0.0.1\n    <Location /server-status>\n      SetHandler server-status\n      Order deny,allow\n      Deny from all\n      allow from 127.0.0.1\n    </Location>\n</VirtualHost>\n```\n\n\u4fee\u6b63\u5f8c\u306f\u3001Apache \u3068 Munin \u306e\u518d\u8d77\u52d5\n\n```\n$ sudo service httpd restart\n$ sudo service munin-node restart\n```\n\n# \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5c0e\u5165\uff08\u81ea\u52d5\u8a2d\u5b9a\u306e\u5834\u5408\uff09\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30de\u30b7\u30f3\u3067\u4f7f\u3048\u305d\u3046\u306a\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u304a\u52e7\u3081\u30ea\u30b9\u30c8\u4e00\u89a7\u3092\u78ba\u8a8d\u3067\u304d\u305f\u308a\u8a2d\u5b9a\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f\u3001\u4ee5\u4e0b\u3067\u3067\u304d\u307e\u3059\u3002\n\u3067\u3082 Apache \u3068\u540c\u69d8\u306b\u7d30\u304b\u3044\u8a2d\u5b9a\u304c\u5fc5\u8981\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u305d\u3053\u3089\u306f\u3001\u9069\u5b9c\u5bfe\u5fdc\u3059\u308b\u3053\u3068\u3002\n\n```\n# munin-node-configure --suggest\n# munin-node-configure --shell | sh\n```\n\n> [archlinux - Munin(\u65e5\u672c\u8a9e)](https://wiki.archlinux.org/index.php/Munin_(%E6%97%A5%E6%9C%AC%E8%AA%9E))\n\n# Munin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u21d2 Munin\u30b5\u30fc\u30d0 \u306b\u60c5\u5831\u3092\u8ee2\u9001\nMunin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3044\u3046\u304b\u3001\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u60c5\u5831\u3092 Munin\u30b5\u30fc\u30d0\u306b\u8ee2\u9001\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\u203bMunin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u60c5\u5831\u3092\u53d7\u53d6\u308b\u305f\u3081 Munin\u30b5\u30fc\u30d0\u5074\u306e 4949/TCP, UDP \u304c\u89e3\u653e\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3002\n\nMunin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e ```/etc/munin/munin-node.conf``` \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```\n$ sudo vi /etc/munin/munin-node.conf\nallow ^192\\.168\\.11\\.100$\n```\n\n# \u3068\u308a\u3042\u3048\u305a\u3053\u3093\u306a\u98a8\u306b\u306a\u308b\nMunin\u30b5\u30fc\u30d0, Munin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u5171\u306b Apache, Munin \u3092\u518d\u8d77\u52d5\u3057\u3066\u69d8\u5b50\u3092\u307f\u307e\u3059\u3002\n\n\n```\n$ sudo service httpd restart\n$ sudo service munin-node restart\n```\n\n![munin_03.png](https://qiita-image-store.s3.amazonaws.com/0/44540/74670568-48ee-a83e-8d2b-dfe4c4353eee.png)\n\n# \u6700\u7d42\u8abf\u6574\u3092\u884c\u3046\n\u30b0\u30eb\u30fc\u30d7\u5316\u3057\u305f\u308a\u3057\u305f\u308a\u3057\u305f\u308a\uff57\n\n## Munin\u30b5\u30fc\u30d0\u5074\n\n```/etc/munin/munin.conf\n[MyService_Server;]\n[MyService_Server;Munin-Client]\n    address 192.168.11.102\n    use_node_name yes\n[MyService_Server;Munin-Server]\n    address 127.0.0.1\n    use_node_name yes\n```\n\n```/etc/munin/munin-node.conf\nallow ^127\\.0\\.0\\.1$\nallow ^::1$\n```\n\n## Munin\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\n\n```/etc/munin/munin-node.conf\nallow ^192\\.168\\.11\\.100$\nallow ^::1$\n```\n\n# \u81ea\u4f5c\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f5c\u6210\nMTRG \u3068\u540c\u69d8\u306b\u6642\u9593\u8ef8\u306e\u5dee\u7570\uff08\u73fe\u5728\u3068\u3072\u3068\u3064\u524d\u306e\u5024\u306e\u5dee\u3092\u8a08\u6e2c\u3057\u305f\u6642\u9593\uff09\u3067\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308c\u3070\u3044\u3044\u306e\u3067\u610f\u5916\u3068\u697d\u306b\u4f5c\u6210\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002```/usr/share/munin/plugins``` \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u898b\u3066\u307f\u308b\u3068 sh \u3067\u3082\u3044\u3044\u306e\uff1f \u3068\u3044\u3046\u306e\u3082\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u6700\u7d42\u7684\u306a\u66f8\u5f0f\u304c\u5408\u3063\u3066\u3044\u308c\u3070ok\uff08\u51fa\u529b\uff09\u306a\u306e\u3067\u7279\u306b\u8a00\u8a9e\u306b\u504f\u308a\u306f\u306a\u3055\u305d\u3046\u3067\u3059\uff08\u7c21\u6613\u7684\u306b\u4f7f\u3048\u308b\u3068\u3044\u3046\u610f\u5473\u3067\u3059\uff09\u3002\n\n> [munin-node\u306e\u8a2d\u5b9a\u3092\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3059\u308b\u65b9\u6cd5](http://hivecolor.com/id/133)\n> [Munin\u3067SSH\u30ed\u30b0\u30a4\u30f3\u5931\u6557\u6570\u3092\u8a18\u9332\u3057\u3066\u307f\u305f](http://qiita.com/hogelog/items/abb84eb70781f9cab7d2)\n> [munin\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u6210](http://www.seeds-std.co.jp/seedsblog/671.html)\n\n# munin \u306e webUI \u3092\u5909\u66f4\u3057\u3066\u307f\u308b\n\u3061\u3087\u3063\u3068UI\u304c\u3044\u3051\u3066\u306a\u3044\u3088\u306a\u3068\u601d\u3063\u305f\u3089 webUI \u3092\u7c21\u5358\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\u300c[Munstrap](https://github.com/jonnymccullagh/munstrap)\u300d\u3053\u308c\u7d50\u69cb\u3044\u3044\u3067\u3059\u306d\u3002\u7c21\u5358\u306b\u5c0e\u5165\u3082\u3067\u304d\u307e\u3059\u3057\u3002\n\n> [munin \u306e webUI \u3092\u30ec\u30b9\u30dd\u30f3\u30b7\u30d6\u306a\u3082\u306e\u306b\u3059\u308b]()\n\n# \u305d\u306e\u4ed6\n\n> \u30fb[munin\u306e\u76e3\u8996\u9593\u9694\u3092\u5909\u66f4\u3059\u308b](http://blog.necomimi.net/?p=1786)\n> \u30fb[Munin/\u8a2d\u5b9a](http://www.sssc.cc/wiki/index.php?Munin%2F%E8%A8%AD%E5%AE%9A)\n\n# \u3068\u308a\u3042\u3048\u305a\n\u300c\u30b0\u30eb\u30fc\u30d4\u30f3\u30b0\u5316\u3067\u304d\u308b\u306e\uff1f\u3068\u304b\u30b5\u30fc\u30d0\u540d\u3068\u304b\u3068\u304b\u300d\u7d30\u304b\u3044\u70b9\u3068\u304b\u3042\u308b\u3060\u308d\u3046\u3051\u3069\u3082\u300c\u7d30\u304b\u3044\u8a2d\u5b9a\u306f\u3069\u30fc\u3067\u3082\u3044\u3044\u3093\u3060\u3088\u300d\u3068\u3044\u3046\u306a\u3089\u3053\u308c\u3067ok\u3067\u3059\u306d\u3002\u6687\u307f\u3066\u3069\u3053\u307e\u3067\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u304b\u8abf\u6574\u3057\u3066\u307f\u307e\u3059\u3002\n\n", "tags": ["Munin", "CentOS6.5", "vagrant"]}