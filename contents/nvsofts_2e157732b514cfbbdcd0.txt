{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nsystemd-networkd\u306f\u3001systemd version 210\u304b\u3089\u542b\u307e\u308c\u3066\u3044\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306e\u30c7\u30fc\u30e2\u30f3\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001systemd.netdev(5)\u304b\u3089bonding, VLAN, bridge\u306e\u8a2d\u5b9a\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\nnetdev\u30d5\u30a1\u30a4\u30eb\u306e\u57fa\u672c\n\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c7\u30d0\u30a4\u30b9\u306f\u3001systemd-networkd\u3067\u306f.netdev\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\u6a19\u6e96\u7684\u306a.netdev\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nexample.netdev\n[NetDev]\nName=\u540d\u524d\nKind=\u7a2e\u985e\n\n[Kind\u306b\u5fdc\u3058\u305f\u30bb\u30af\u30b7\u30e7\u30f3]\n\n\n\u6c17\u3092\u3064\u3051\u308b\u3053\u3068\u306f\u3001[Netdev]\u3067\u306f\u306a\u304f[NetDev]\u3060\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\u9593\u9055\u3048\u308b\u3068\u3046\u307e\u304f\u52d5\u304d\u307e\u305b\u3093\u3002\n\nbonding\nbonding\u306f\u3001\u8907\u6570\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u675f\u306d\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\nbonding\u3092\u3059\u308b\u305f\u3081\u306bbond0\u3068\u3044\u3046\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b.netdev\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nbond0.netdev\n[NetDev]\nName=bond0\nKind=bonding\n\n[Bond]\nMode=balance-xor\nTransmitHashPolicy=layer2+3\n\n\nKind\u306bbonding\u3092\u8a2d\u5b9a\u3057\u3001\u52d5\u4f5c\u30e2\u30fc\u30c9\u7b49\u306e\u8a2d\u5b9a\u306f[Bond]\u3067\u884c\u3044\u307e\u3059\u3002\nMode\u306b\u306f\u52d5\u4f5c\u30e2\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n(\u53c2\u8003: Linux Bonding mode=0\u306e\u6050\u6016 http://ja.community.dell.com/techcenter/b/weblog/archive/2014/05/16/linux-bonding-mode-0)\nTransmitHashPolicy\u306f\u9001\u4fe1\u30cf\u30c3\u30b7\u30e5\u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a\u3067\u3001xmit_hash_policy\u306b\u76f8\u5f53\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3002\n\u3069\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u675f\u306d\u308b\u304b\u306e\u8a2d\u5b9a\u306f\u3001\u5bfe\u5fdc\u3057\u305f.network\u30d5\u30a1\u30a4\u30eb\u3067\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306f\u3001eth0\u3092bond0\u306b\u53c2\u52a0\u3055\u305b\u3066\u3044\u307e\u3059\u3002\n\neth0.network\n[Match]\nName=eth0\n\n[Network]\nBond=bond0\n\n\n\nVLAN\nVLAN\u306f\u3001LAN\u30bb\u30b0\u30e1\u30f3\u30c8\u3092\u5206\u5272\u3057\u3066\u4eee\u60f3\u7684\u306aLAN\u3092\u4f5c\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\nvlan101(VLAN\u756a\u53f7:101)\u3092\u4f5c\u6210\u3059\u308b.netdev\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nvlan101.netdev\n[NetDev]\nName=vlan101\nKind=vlan\n\n[VLAN]\nId=101\n\n\nKind\u306bvlan\u3092\u8a2d\u5b9a\u3057\u3001VLAN ID\u306e\u8a2d\u5b9a\u306f[VLAN]\u3067\u884c\u3044\u307e\u3059\u3002\nId\u306bVLAN ID\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u3053\u308c\u3082\u5927\u6587\u5b57\u30fb\u5c0f\u6587\u5b57\u306e\u9055\u3044\u306b\u306f\u6c17\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\u3069\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304b\u3089VLAN\u3092\u4f5c\u6210\u3059\u308b\u304b\u306e\u8a2d\u5b9a\u306f\u3001\u5bfe\u5fdc\u3057\u305f.network\u30d5\u30a1\u30a4\u30eb\u3067\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306f\u3001vlan101\u306feth0\u304b\u3089\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\neth0.network\n[Match]\nName=eth0\n\n[Network]\nVLAN=vlan101\n\n\n\nbridge\n\u30d6\u30ea\u30c3\u30b8\u306f\u3001\u8907\u6570\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30bb\u30b0\u30e1\u30f3\u30c8\u3092\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\nbr0\u3068\u3044\u3046\u540d\u524d\u306e\u30d6\u30ea\u30c3\u30b8\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e.netdev\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nbr0.netdev\n[NetDev]\nName=br0\nKind=bridge\n\n\nKind\u306bbridge\u3092\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\u6b8b\u5ff5\u306a\u304c\u3089brctl\u30b3\u30de\u30f3\u30c9\u306a\u3069\u3067\u8a2d\u5b9a\u3067\u304d\u308b\u3001STP\u306a\u3069\u306f\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u3069\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u30d6\u30ea\u30c3\u30b8\u306b\u53c2\u52a0\u3055\u305b\u308b\u304b\u306e\u8a2d\u5b9a\u306f\u3001\u5bfe\u5fdc\u3057\u305f.network\u30d5\u30a1\u30a4\u30eb\u3067\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306f\u3001eth0\u3092br0\u306b\u53c2\u52a0\u3055\u305b\u3066\u3044\u307e\u3059\u3002\n\neth0.network\n[Kind]\nName=eth0\n\n[Network]\nBridge=br0\n\n\n\n\u53c2\u8003\nArch Wiki\u306esystemd-networkd\u306e\u9805\u76ee\nhttps://wiki.archlinuxjp.org/index.php/systemd-networkd\nman systemd.netdev(5)\nhttp://www.freedesktop.org/software/systemd/man/systemd.netdev.html\n\n# \u306f\u3058\u3081\u306b\n\nsystemd-networkd\u306f\u3001systemd version 210\u304b\u3089\u542b\u307e\u308c\u3066\u3044\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306e\u30c7\u30fc\u30e2\u30f3\u3067\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001systemd.netdev(5)\u304b\u3089bonding, VLAN, bridge\u306e\u8a2d\u5b9a\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n# netdev\u30d5\u30a1\u30a4\u30eb\u306e\u57fa\u672c\n\n\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c7\u30d0\u30a4\u30b9\u306f\u3001systemd-networkd\u3067\u306f`.netdev`\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\u6a19\u6e96\u7684\u306a`.netdev`\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```:example.netdev\n[NetDev]\nName=\u540d\u524d\nKind=\u7a2e\u985e\n\n[Kind\u306b\u5fdc\u3058\u305f\u30bb\u30af\u30b7\u30e7\u30f3]\n```\n\n\u6c17\u3092\u3064\u3051\u308b\u3053\u3068\u306f\u3001**`[Netdev]`\u3067\u306f\u306a\u304f`[NetDev]`\u3060\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002**\u9593\u9055\u3048\u308b\u3068\u3046\u307e\u304f\u52d5\u304d\u307e\u305b\u3093\u3002\n\n# bonding\n\nbonding\u306f\u3001\u8907\u6570\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u675f\u306d\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\nbonding\u3092\u3059\u308b\u305f\u3081\u306b`bond0`\u3068\u3044\u3046\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b`.netdev`\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```:bond0.netdev\n[NetDev]\nName=bond0\nKind=bonding\n\n[Bond]\nMode=balance-xor\nTransmitHashPolicy=layer2+3\n```\n\n`Kind`\u306b`bonding`\u3092\u8a2d\u5b9a\u3057\u3001\u52d5\u4f5c\u30e2\u30fc\u30c9\u7b49\u306e\u8a2d\u5b9a\u306f`[Bond]`\u3067\u884c\u3044\u307e\u3059\u3002\n\n`Mode`\u306b\u306f\u52d5\u4f5c\u30e2\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n(\u53c2\u8003: Linux Bonding mode=0\u306e\u6050\u6016 http://ja.community.dell.com/techcenter/b/weblog/archive/2014/05/16/linux-bonding-mode-0)\n`TransmitHashPolicy`\u306f\u9001\u4fe1\u30cf\u30c3\u30b7\u30e5\u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a\u3067\u3001`xmit_hash_policy`\u306b\u76f8\u5f53\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u3059\u3002\n\n\u3069\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u675f\u306d\u308b\u304b\u306e\u8a2d\u5b9a\u306f\u3001\u5bfe\u5fdc\u3057\u305f`.network`\u30d5\u30a1\u30a4\u30eb\u3067\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306f\u3001`eth0`\u3092`bond0`\u306b\u53c2\u52a0\u3055\u305b\u3066\u3044\u307e\u3059\u3002\n\n```:eth0.network\n[Match]\nName=eth0\n\n[Network]\nBond=bond0\n```\n\n# VLAN\n\nVLAN\u306f\u3001LAN\u30bb\u30b0\u30e1\u30f3\u30c8\u3092\u5206\u5272\u3057\u3066\u4eee\u60f3\u7684\u306aLAN\u3092\u4f5c\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\nvlan101(VLAN\u756a\u53f7:101)\u3092\u4f5c\u6210\u3059\u308b`.netdev`\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```:vlan101.netdev\n[NetDev]\nName=vlan101\nKind=vlan\n\n[VLAN]\nId=101\n```\n\n`Kind`\u306b`vlan`\u3092\u8a2d\u5b9a\u3057\u3001VLAN ID\u306e\u8a2d\u5b9a\u306f`[VLAN]`\u3067\u884c\u3044\u307e\u3059\u3002\n\n`Id`\u306bVLAN ID\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u3053\u308c\u3082\u5927\u6587\u5b57\u30fb\u5c0f\u6587\u5b57\u306e\u9055\u3044\u306b\u306f\u6c17\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3069\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304b\u3089VLAN\u3092\u4f5c\u6210\u3059\u308b\u304b\u306e\u8a2d\u5b9a\u306f\u3001\u5bfe\u5fdc\u3057\u305f`.network`\u30d5\u30a1\u30a4\u30eb\u3067\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306f\u3001`vlan101`\u306f`eth0`\u304b\u3089\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\n```:eth0.network\n[Match]\nName=eth0\n\n[Network]\nVLAN=vlan101\n```\n\n# bridge\n\n\u30d6\u30ea\u30c3\u30b8\u306f\u3001\u8907\u6570\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30bb\u30b0\u30e1\u30f3\u30c8\u3092\u63a5\u7d9a\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\n`br0`\u3068\u3044\u3046\u540d\u524d\u306e\u30d6\u30ea\u30c3\u30b8\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306e`.netdev`\u30d5\u30a1\u30a4\u30eb\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```:br0.netdev\n[NetDev]\nName=br0\nKind=bridge\n```\n\n`Kind`\u306b`bridge`\u3092\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002\n\u6b8b\u5ff5\u306a\u304c\u3089`brctl`\u30b3\u30de\u30f3\u30c9\u306a\u3069\u3067\u8a2d\u5b9a\u3067\u304d\u308b\u3001STP\u306a\u3069\u306f\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\u3069\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u30d6\u30ea\u30c3\u30b8\u306b\u53c2\u52a0\u3055\u305b\u308b\u304b\u306e\u8a2d\u5b9a\u306f\u3001\u5bfe\u5fdc\u3057\u305f`.network`\u30d5\u30a1\u30a4\u30eb\u3067\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306f\u3001`eth0`\u3092`br0`\u306b\u53c2\u52a0\u3055\u305b\u3066\u3044\u307e\u3059\u3002\n\n```:eth0.network\n[Kind]\nName=eth0\n\n[Network]\nBridge=br0\n```\n\n# \u53c2\u8003\nArch Wiki\u306esystemd-networkd\u306e\u9805\u76ee\nhttps://wiki.archlinuxjp.org/index.php/systemd-networkd\n\nman systemd.netdev(5)\nhttp://www.freedesktop.org/software/systemd/man/systemd.netdev.html\n", "tags": ["Linux", "systemd", "systemd-networkd"]}