{"tags": ["AdventCalendar", "\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u30a2\u30d7\u30ea", "Cordova"], "context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u30ab\u30e1\u30e9\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u52d5\u4f5c\u30c6\u30b9\u30c8\u3002\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u8ffd\u52a0\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3066\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092\u8ffd\u52a0\u3057\u3001\u30ab\u30e1\u30e9\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8ffd\u52a0\u3002\n$ cordova create camera\n$ cd camera\n$ cordova platform add ios\n$ cordova plugin add cordova-plugin-camera\n\n\n\u30b3\u30fc\u30c9\n\nindex.html\n<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *\">\n        <meta name=\"format-detection\" content=\"telephone=no\">\n        <meta name=\"msapplication-tap-highlight\" content=\"no\">\n        <meta name=\"viewport\" content=\"user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width\">\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"css/index.css\">\n        <title>Hello World</title>\n    </head>\n    <body>\n        <div class=\"app\">\n            <h1>Camera</h1>\n            <div>\n                <button id=\"take_pictures\">\u5199\u771f\u64ae\u5f71</button>\n                <div>\n                    <img src=\"\" id=\"image\" width=\"500px\" />\n                </div>\n            </div>\n        </div>\n        <script type=\"text/javascript\" src=\"cordova.js\"></script>\n        <script type=\"text/javascript\" src=\"js/index.js\"></script>\n    </body>\n</html>\n\n\n\nindex.js\nvar app = {\n    initialize: function() {\n        this.bindEvents();\n    },\n    bindEvents: function() {\n        document.addEventListener('deviceready', this.onDeviceReady, false);\n    },\n    onDeviceReady: function() {\n        var button = document.getElementById(\"take_pictures\");\n        button.addEventListener(\"click\", takePictures);\n    }\n};\n\napp.initialize();\n\n// \u5199\u771f\u64ae\u5f71\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\nfunction takePictures(){\n    navigator.camera.getPicture(cameraSuccess, cameraError, { quality: 80, destinationType: Camera.DestinationType.DATA_URL });\n}\n// \u5199\u771f\u64ae\u5f71\u304c\u6210\u529f\u3057\u305f\u6642\nfunction cameraSuccess(image){\n    var img = document.getElementById(\"image\");\n    img.src = \"data:image/jpeg;base64,\" + image;\n}\n// \u5931\u6557\u3057\u305f\u6642\nfunction cameraError(message){\n    alert(\"Failed!!: \" + message);\n}\n\n\n\n\u30ab\u30e1\u30e9\u30d7\u30e9\u30b0\u30a4\u30f3\u6982\u8981\n\u30c7\u30d0\u30a4\u30b9\u306e\u30ab\u30e1\u30e9\u3092\u8d77\u52d5\u3057\u3066\u5199\u771f\u304c\u64ae\u308c\u305f\u308a\u3001\u30c7\u30d0\u30a4\u30b9\u5185\u306e\u30ae\u30e3\u30e9\u30ea\u30fc\u304b\u3089\u5199\u771f\u3092\u691c\u7d22\u3067\u304d\u308b\u3002\n\u64ae\u5f71\u3057\u305f\u5199\u771f\u306fBase64\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\u6587\u5b57\u5217\u304b\u3001\u30d5\u30a1\u30a4\u30eb\u306eURI\u306e\u3069\u3061\u3089\u304b\u3067\u8fd4\u3059\u3002\n\n\u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\n\n\n\n\u5024\n\u8aac\u660e\n\n\n\n\nquality\n\u5199\u771f\u306e\u30af\u30aa\u30ea\u30c6\u30a3\u30920\u301c100\u3067\u6307\u5b9a\u3002\n\n\ndestinationType\n\u623b\u308a\u5024\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u6307\u5b9a\u3002Camera.DestinationType.DATA_URLCamera.DestinationType.FILE_URI\n\n\nsourceType\n\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7\u6307\u5b9a\u3002Camera.PictureSourceType.PHOTOLIBRARY\uff08\u5199\u771f\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u753b\u50cf\u9078\u629e\uff09Camera.PictureSourceType.CAMERA\uff08\u7aef\u672b\u306e\u30ab\u30e1\u30e9\u3067\u5199\u771f\u64ae\u5f71\uff09Camera.PictureSourceType.SAVEDPHOTOALBUM\uff08\u30a2\u30eb\u30d0\u30e0\u304b\u3089\u753b\u50cf\u9078\u629e\uff09\n\n\nallowEdit\n\u753b\u50cf\u3092\u9078\u629e\u3059\u308b\u524d\u306e\u7c21\u5358\u306a\u7de8\u96c6\u3092\u8a31\u53ef\u3002\n\n\nencodingType\n\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u30bf\u30a4\u30d7\u3002\n\n\ntargetWidth\n\u753b\u50cf\u30b9\u30b1\u30fc\u30eb\u306e\u305f\u3081\u306e\u30d4\u30af\u30bb\u30eb\u3067\u306e\u6a2a\u5e45\u6307\u5b9a\u3002\n\n\ntargetHeight\n\u753b\u50cf\u30b9\u30b1\u30fc\u30eb\u306e\u305f\u3081\u306e\u30d4\u30af\u30bb\u30eb\u3067\u306e\u7e26\u5e45\u6307\u5b9a\u3002\n\n\nmediaType\nsourceType\u3067PHOTOLIBRARY\u307e\u305f\u306fSAVEDPHOTOALBUM\u3092\u6307\u5b9a\u3057\u305f\u6642\u306e\u307f\u6709\u52b9\u3002Camera.MediaType.PICTURECamera.MediaType.VIDEOCamera.MediaType.ALLMEDIA\n\n\ncorrectOrientation\n\u753b\u50cf\u3092\u5199\u771f\u64ae\u5f71\u3057\u305f\u6642\u3068\u540c\u3058\u5411\u304d\u306b\u3059\u308b\u304b\u3069\u3046\u304b\u3002\n\n\nsaveToPhotoAlbum\n\u5199\u771f\u64ae\u5f71\u5f8c\u306b\u7aef\u672b\u306b\u753b\u50cf\u3092\u4fdd\u5b58\u3059\u308b\u304b\u3069\u3046\u304b\u3002\n\n\npopoverOptions\niOS\u306e\u307f\u306e\u8a2d\u5b9a\u3002iPad\u3067\u30dd\u30c3\u30d7\u30aa\u30fc\u30d0\u30fc\u4f4d\u7f6e\u3092\u660e\u793a\u3059\u308b\u304b\u3069\u3046\u304b\u3002\n\n\ncameraDirection\n\u80cc\u9762\u306e\u30ab\u30e1\u30e9\u304b\u6b63\u9762\u306e\u30ab\u30e1\u30e9\u3069\u3061\u3089\u3092\u4f7f\u3046\u304b\u3002\n\n\n\n\n\u5b9f\u884c\u7d50\u679c\n\u5199\u771f\u64ae\u5f71\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u4ee5\u4e0b\u304c\u8868\u793a\u3055\u308c\u3001\u8a31\u53ef\u3059\u308b\u3068\u30ab\u30e1\u30e9\u304c\u8d77\u52d5\u3002\n\n\u5199\u771f\u3092\u64ae\u3063\u3066\u300cUse Photo\u300d\u3092\u62bc\u3059\u3068\u30dc\u30bf\u30f3\u306e\u4e0b\u306b\u753b\u50cf\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n\n\u307e\u3068\u3081\n\u30ab\u30e1\u30e9\u7c21\u5358\u306b\u4f7f\u3048\u308b\u306e\u3067\u4fbf\u5229\u3060\u3063\u305f\u3002\n\n\u53c2\u8003\n\ncordova-plugin-camera\n\n# \u306f\u3058\u3081\u306b\n\u30ab\u30e1\u30e9\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u52d5\u4f5c\u30c6\u30b9\u30c8\u3002\n\n# \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u8ffd\u52a0\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3066\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092\u8ffd\u52a0\u3057\u3001\u30ab\u30e1\u30e9\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8ffd\u52a0\u3002\n\n```bash\n$ cordova create camera\n$ cd camera\n$ cordova platform add ios\n$ cordova plugin add cordova-plugin-camera\n```\n\n# \u30b3\u30fc\u30c9\n\n```html:index.html\n<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *\">\n\t\t<meta name=\"format-detection\" content=\"telephone=no\">\n\t\t<meta name=\"msapplication-tap-highlight\" content=\"no\">\n\t\t<meta name=\"viewport\" content=\"user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width\">\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/index.css\">\n\t\t<title>Hello World</title>\n\t</head>\n\t<body>\n\t\t<div class=\"app\">\n\t\t\t<h1>Camera</h1>\n\t\t\t<div>\n\t\t\t\t<button id=\"take_pictures\">\u5199\u771f\u64ae\u5f71</button>\n\t\t\t\t<div>\n\t\t\t\t\t<img src=\"\" id=\"image\" width=\"500px\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<script type=\"text/javascript\" src=\"cordova.js\"></script>\n\t\t<script type=\"text/javascript\" src=\"js/index.js\"></script>\n\t</body>\n</html>\n```\n\n```js:index.js\nvar app = {\n\tinitialize: function() {\n\t\tthis.bindEvents();\n\t},\n\tbindEvents: function() {\n\t\tdocument.addEventListener('deviceready', this.onDeviceReady, false);\n\t},\n\tonDeviceReady: function() {\n\t\tvar button = document.getElementById(\"take_pictures\");\n\t\tbutton.addEventListener(\"click\", takePictures);\n\t}\n};\n\napp.initialize();\n\n// \u5199\u771f\u64ae\u5f71\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u306b\u547c\u3070\u308c\u308b\nfunction takePictures(){\n\tnavigator.camera.getPicture(cameraSuccess, cameraError, { quality: 80, destinationType: Camera.DestinationType.DATA_URL });\n}\n// \u5199\u771f\u64ae\u5f71\u304c\u6210\u529f\u3057\u305f\u6642\nfunction cameraSuccess(image){\n\tvar img = document.getElementById(\"image\");\n\timg.src = \"data:image/jpeg;base64,\" + image;\n}\n// \u5931\u6557\u3057\u305f\u6642\nfunction cameraError(message){\n\talert(\"Failed!!: \" + message);\n}\n```\n\n# \u30ab\u30e1\u30e9\u30d7\u30e9\u30b0\u30a4\u30f3\u6982\u8981\n\u30c7\u30d0\u30a4\u30b9\u306e\u30ab\u30e1\u30e9\u3092\u8d77\u52d5\u3057\u3066\u5199\u771f\u304c\u64ae\u308c\u305f\u308a\u3001\u30c7\u30d0\u30a4\u30b9\u5185\u306e\u30ae\u30e3\u30e9\u30ea\u30fc\u304b\u3089\u5199\u771f\u3092\u691c\u7d22\u3067\u304d\u308b\u3002\n\u64ae\u5f71\u3057\u305f\u5199\u771f\u306fBase64\u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\u6587\u5b57\u5217\u304b\u3001\u30d5\u30a1\u30a4\u30eb\u306eURI\u306e\u3069\u3061\u3089\u304b\u3067\u8fd4\u3059\u3002\n\n# \u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\n\n|\u5024|\u8aac\u660e|\n|:--|:--|\n|quality|\u5199\u771f\u306e\u30af\u30aa\u30ea\u30c6\u30a3\u30920\u301c100\u3067\u6307\u5b9a\u3002|\n|destinationType|\u623b\u308a\u5024\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u6307\u5b9a\u3002<br>Camera.DestinationType.DATA_URL<br>Camera.DestinationType.FILE_URI|\n|sourceType|\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7\u6307\u5b9a\u3002<br>Camera.PictureSourceType.PHOTOLIBRARY\uff08\u5199\u771f\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u753b\u50cf\u9078\u629e\uff09<br>Camera.PictureSourceType.CAMERA\uff08\u7aef\u672b\u306e\u30ab\u30e1\u30e9\u3067\u5199\u771f\u64ae\u5f71\uff09<br>Camera.PictureSourceType.SAVEDPHOTOALBUM\uff08\u30a2\u30eb\u30d0\u30e0\u304b\u3089\u753b\u50cf\u9078\u629e\uff09|\n|allowEdit|\u753b\u50cf\u3092\u9078\u629e\u3059\u308b\u524d\u306e\u7c21\u5358\u306a\u7de8\u96c6\u3092\u8a31\u53ef\u3002|\n|encodingType|\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u30bf\u30a4\u30d7\u3002|\n|targetWidth|\u753b\u50cf\u30b9\u30b1\u30fc\u30eb\u306e\u305f\u3081\u306e\u30d4\u30af\u30bb\u30eb\u3067\u306e\u6a2a\u5e45\u6307\u5b9a\u3002|\n|targetHeight|\u753b\u50cf\u30b9\u30b1\u30fc\u30eb\u306e\u305f\u3081\u306e\u30d4\u30af\u30bb\u30eb\u3067\u306e\u7e26\u5e45\u6307\u5b9a\u3002|\n|mediaType|sourceType\u3067PHOTOLIBRARY\u307e\u305f\u306fSAVEDPHOTOALBUM\u3092\u6307\u5b9a\u3057\u305f\u6642\u306e\u307f\u6709\u52b9\u3002<br>Camera.MediaType.PICTURE<br>Camera.MediaType.VIDEO<br>Camera.MediaType.ALLMEDIA|\n|correctOrientation|\u753b\u50cf\u3092\u5199\u771f\u64ae\u5f71\u3057\u305f\u6642\u3068\u540c\u3058\u5411\u304d\u306b\u3059\u308b\u304b\u3069\u3046\u304b\u3002|\n|saveToPhotoAlbum|\u5199\u771f\u64ae\u5f71\u5f8c\u306b\u7aef\u672b\u306b\u753b\u50cf\u3092\u4fdd\u5b58\u3059\u308b\u304b\u3069\u3046\u304b\u3002|\n|popoverOptions|iOS\u306e\u307f\u306e\u8a2d\u5b9a\u3002iPad\u3067\u30dd\u30c3\u30d7\u30aa\u30fc\u30d0\u30fc\u4f4d\u7f6e\u3092\u660e\u793a\u3059\u308b\u304b\u3069\u3046\u304b\u3002|\n|cameraDirection|\u80cc\u9762\u306e\u30ab\u30e1\u30e9\u304b\u6b63\u9762\u306e\u30ab\u30e1\u30e9\u3069\u3061\u3089\u3092\u4f7f\u3046\u304b\u3002|\n\n# \u5b9f\u884c\u7d50\u679c\n\u5199\u771f\u64ae\u5f71\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u4ee5\u4e0b\u304c\u8868\u793a\u3055\u308c\u3001\u8a31\u53ef\u3059\u308b\u3068\u30ab\u30e1\u30e9\u304c\u8d77\u52d5\u3002\n![skitch.png](https://qiita-image-store.s3.amazonaws.com/0/48912/4d7c2b9e-730d-6dc6-b592-218e11ff4b7a.png)\n\n\u5199\u771f\u3092\u64ae\u3063\u3066\u300cUse Photo\u300d\u3092\u62bc\u3059\u3068\u30dc\u30bf\u30f3\u306e\u4e0b\u306b\u753b\u50cf\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n![s_IMG_0219.png](https://qiita-image-store.s3.amazonaws.com/0/48912/3e8726a3-852f-de18-eb2a-79514c1a00ba.png)\n\n# \u307e\u3068\u3081\n\u30ab\u30e1\u30e9\u7c21\u5358\u306b\u4f7f\u3048\u308b\u306e\u3067\u4fbf\u5229\u3060\u3063\u305f\u3002\n\n# \u53c2\u8003\n* [cordova-plugin-camera](https://www.npmjs.com/package/cordova-plugin-camera)\n"}