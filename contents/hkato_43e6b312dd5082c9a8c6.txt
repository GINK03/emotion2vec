{"tags": ["RedSleeve", "RaspberryPi", "QEMU", "ARM", "RockDiskNext"], "context": "\u7d9a\u304d\nhttp://qiita.com/hkato/items/90f71ea78fd6916bfd45\n\nSSH\u3092\u4f7f\u3046\n\u307e\u305a\u306fssh\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u306a\u3044\u3068\u4e0d\u4fbf\u3060\u3088\u306d\n\nssh\u306ePort forward\n-net\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u3066\u8d77\u52d5\n$ qemu-system-arm -M versatilepb \\\n-kernel vmlinuz-2.6.32-5-versatile \\\n-initrd initrd.img-2.6.32-5-versatile \\\n-hda redsleeve_armel_rootfs.qcow2 \\\n-nographic \\\n-append \"root=/dev/sda1 console=ttyAMA0\" \\\n-net user,hostfwd=tcp::50022-:22 \\\n-net nic\n\n\n\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u66f4\u65b0\nyum/rpm\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u30d1\u30b9\u304c\u5909\u308f\u3063\u3066\u308b\u69d8\u306a\u306e\u3067-release\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u3002\n# rpm -Uvh http://ftp.redsleeve.org/pub/el6/6.7/base/RPMS/redsleeve-release-6-20160310.el6.armv5tel.rpm\n# rpm -Uvh http://ftp.redsleeve.org/pub/el6/6.7/base/RPMS/epel-release-6-20140302.noarch.rpm\n\n\nsshd\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install openssh-server\n# chkconfig sshd on\n# service sshd start\n\n\n\u30ed\u30b0\u30a4\u30f3\n\u3053\u308c\u3067\u30db\u30b9\u30c8\u5074\u304b\u3089\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u69d8\u306b\u306a\u308b\n$ ssh root@localhost -p 50022\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n# yum update\n\n\u3053\u308c\u3067RSEL6.7\u306b\u306a\u3063\u3066\u308b\u306f\u305a\u3002\n\n\u6642\u523b\u95a2\u9023\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u8a2d\u5b9a\n\u3053\u3053\u3089\u8fba\u306fCentOS/RHEL\u7b49\u3068\u540c\u3058\n# cp -p /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n\n# vim /etc/sysconfig/clock\n\nZONE=\"Asia/Tokyo\"\nUTC=\"false\"\n\n# cp -p /etc/ntp.conf /etc/ntp.conf.orig\n# vim /etc/ntp.conf\n\n--- /etc/ntp.conf.orig  2016-01-21 00:14:26.000000000 +0900\n+++ /etc/ntp.conf   2016-08-14 22:28:25.000000000 +0900\n@@ -19,10 +19,9 @@\n\n # Use public servers from the pool.ntp.org project.\n # Please consider joining the pool (http://www.pool.ntp.org/join.html).\n-server 0.rhel.pool.ntp.org iburst\n-server 1.rhel.pool.ntp.org iburst\n-server 2.rhel.pool.ntp.org iburst\n-server 3.rhel.pool.ntp.org iburst\n+server ntp1.jst.mfeed.ad.jp iburst\n+server ntp2.jst.mfeed.ad.jp iburst\n+server ntp3.jst.mfeed.ad.jp iburst\n\n #broadcast 192.168.1.255 autokey   # broadcast server\n #broadcastclient           # broadcast client\n\n# service ntpd restart\n\n\n\u30ed\u30b0\n\u306a\u3093\u304b\u30ed\u30b0\u304c\u4e00\u5207\u5410\u304b\u308c\u3066\u306a\u3044\u69d8\u306a\u306e\u3067\u898b\u3066\u307f\u308b\u3068rsyslog\u304c\u5165\u3063\u3066\u306a\u3044\n# yum install rsyslog\n\n\u3053\u308c\u3067\u30d9\u30fc\u30b9\u3068\u306a\u308bLinux\u74b0\u5883\u306f\u5927\u4f53\u3067\u304d\u305f\uff1f\n\u7d9a\u304f\nhttp://qiita.com/hkato/items/7e8876f5bf20fd38c00a\n\n\u7d9a\u304d\nhttp://qiita.com/hkato/items/90f71ea78fd6916bfd45\n\n\n# SSH\u3092\u4f7f\u3046\n\n\u307e\u305a\u306fssh\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u306a\u3044\u3068\u4e0d\u4fbf\u3060\u3088\u306d\n\n## ssh\u306ePort forward\n\n-net\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u3066\u8d77\u52d5\n\n```shell-session\n$ qemu-system-arm -M versatilepb \\\n-kernel vmlinuz-2.6.32-5-versatile \\\n-initrd initrd.img-2.6.32-5-versatile \\\n-hda redsleeve_armel_rootfs.qcow2 \\\n-nographic \\\n-append \"root=/dev/sda1 console=ttyAMA0\" \\\n-net user,hostfwd=tcp::50022-:22 \\\n-net nic\n```\n\n## \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u66f4\u65b0\n\nyum/rpm\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u30d1\u30b9\u304c\u5909\u308f\u3063\u3066\u308b\u69d8\u306a\u306e\u3067-release\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u3002\n\n```shell-session\n# rpm -Uvh http://ftp.redsleeve.org/pub/el6/6.7/base/RPMS/redsleeve-release-6-20160310.el6.armv5tel.rpm\n# rpm -Uvh http://ftp.redsleeve.org/pub/el6/6.7/base/RPMS/epel-release-6-20140302.noarch.rpm\n```\n\n## sshd\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell-session\n# yum install openssh-server\n# chkconfig sshd on\n# service sshd start\n```\n\n## \u30ed\u30b0\u30a4\u30f3\n\n\u3053\u308c\u3067\u30db\u30b9\u30c8\u5074\u304b\u3089\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u69d8\u306b\u306a\u308b\n\n```shell-session\n$ ssh root@localhost -p 50022\n```\n\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n```shell-session\n# yum update\n```\n\u3053\u308c\u3067RSEL6.7\u306b\u306a\u3063\u3066\u308b\u306f\u305a\u3002\n\n# \u6642\u523b\u95a2\u9023\n\n## \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u8a2d\u5b9a\n\n\u3053\u3053\u3089\u8fba\u306fCentOS/RHEL\u7b49\u3068\u540c\u3058\n\n```shell-session\n# cp -p /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n```\n\n```shell-session\n# vim /etc/sysconfig/clock\n```\n\n```\nZONE=\"Asia/Tokyo\"\nUTC=\"false\"\n```\n\n```shell-session\n# cp -p /etc/ntp.conf /etc/ntp.conf.orig\n# vim /etc/ntp.conf\n```\n\n```diff\n--- /etc/ntp.conf.orig\t2016-01-21 00:14:26.000000000 +0900\n+++ /etc/ntp.conf\t2016-08-14 22:28:25.000000000 +0900\n@@ -19,10 +19,9 @@\n \n # Use public servers from the pool.ntp.org project.\n # Please consider joining the pool (http://www.pool.ntp.org/join.html).\n-server 0.rhel.pool.ntp.org iburst\n-server 1.rhel.pool.ntp.org iburst\n-server 2.rhel.pool.ntp.org iburst\n-server 3.rhel.pool.ntp.org iburst\n+server ntp1.jst.mfeed.ad.jp iburst\n+server ntp2.jst.mfeed.ad.jp iburst\n+server ntp3.jst.mfeed.ad.jp iburst\n \n #broadcast 192.168.1.255 autokey\t# broadcast server\n #broadcastclient\t\t\t# broadcast client\n```\n\n```shell-session\n# service ntpd restart\n```\n\n# \u30ed\u30b0\n\n\u306a\u3093\u304b\u30ed\u30b0\u304c\u4e00\u5207\u5410\u304b\u308c\u3066\u306a\u3044\u69d8\u306a\u306e\u3067\u898b\u3066\u307f\u308b\u3068rsyslog\u304c\u5165\u3063\u3066\u306a\u3044\n\n```shell-session\n# yum install rsyslog\n```\n\n\u3053\u308c\u3067\u30d9\u30fc\u30b9\u3068\u306a\u308bLinux\u74b0\u5883\u306f\u5927\u4f53\u3067\u304d\u305f\uff1f\n\n\u7d9a\u304f\nhttp://qiita.com/hkato/items/7e8876f5bf20fd38c00a\n"}