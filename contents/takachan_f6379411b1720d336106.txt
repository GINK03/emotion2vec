{"context": " More than 1 year has passed since last update.\n\n\u7528\u610f\u3057\u305f\u30ec\u30b7\u30d4\u306f\u3053\u3061\u3089\n\ntest_recipe.rb\npackage_recipe.rb\nservice_recipe.rb\ncommand_recipce.rb\n\n\ntest_recipe.rb\n\ntest_recipe.rb\ninclude_recipe \"package_recipe.rb\"\ninclude_recipe \"service_recipe.rb\"\ninclude_recipe \"command_recipce.rb\"\n\n\n\npackage_recipe.rb\n\npackage_recipe.rb\n# \u3072\u3068\u3064\u3072\u3068\u3064\u6307\u5b9a\u3059\u308b\u5834\u5408\n# package 'httpd'\n\n# \u8907\u6570\u307e\u3068\u3081\u3066\u6307\u5b9a\u3059\u308b\u5834\u5408\n%w(httpd vim tree git dstat php php-devel php-mbstring php-gd).each do |pkg|\n    package pkg\nend\n\n\n\nservice_recipe.rb\n\nservice_recipe.rb\nservice 'httpd' do\n  action [:enable, :start]\nend\n\n\n\ncommand_recipce.rb\n\ncommand_recipce.rb\nexecute \"yum update all package\" do\n  command \"yum update -y\"\n  user \"root\"\nend\n\nexecute \"create group 'www'\" do\n  command \"groupadd www\"\n  user \"root\"\nend\n\nexecute \"add group user 'vagrant' to 'wwww' \" do\n  command \"usermod -a -G www vagrant\"\n  user \"root\"\nend\n\nexecute \"change ower 'vagrant' for /var/www\" do\n  command \"chown -R root:www /var/www\"\n  user \"root\"\nend\n\nexecute \"change permision /var/www\" do\n  command \"chmod 2775 /var/www\"\n  user \"root\"\nend\n\nexecute \"setting group permision\" do\n  command \"find /var/www -type d -exec sudo chmod 2775 {} +\"\n  user \"root\"\nend\n\nexecute \"setting file permision\" do\n  command \"find /var/www -type f -exec sudo chmod 0664 {} +\"\nend\n\nexecute \"update timezone UTC->JST\" do\n  command \"cp /usr/share/zoneinfo/Japan /etc/localtime\"\n  user \"root\"\nend\n\n\n\ndry-run\nitamae ssh --vagrant -h itamae-web test_recipe.rb -n\n\n\n\u5b9f\u884c\nitamae ssh --vagrant -h itamae-web test_recipe.rb\n\n## \u7528\u610f\u3057\u305f\u30ec\u30b7\u30d4\u306f\u3053\u3061\u3089\n- test_recipe.rb\n- package_recipe.rb\n- service_recipe.rb\n- command_recipce.rb\n\n\n## test_recipe.rb\n```test_recipe.rb\ninclude_recipe \"package_recipe.rb\"\ninclude_recipe \"service_recipe.rb\"\ninclude_recipe \"command_recipce.rb\"\n```\n\n## package_recipe.rb\n```package_recipe.rb\n# \u3072\u3068\u3064\u3072\u3068\u3064\u6307\u5b9a\u3059\u308b\u5834\u5408\n# package 'httpd'\n\n# \u8907\u6570\u307e\u3068\u3081\u3066\u6307\u5b9a\u3059\u308b\u5834\u5408\n%w(httpd vim tree git dstat php php-devel php-mbstring php-gd).each do |pkg|\n\tpackage pkg\nend\n```\n\n## service_recipe.rb\n```service_recipe.rb\nservice 'httpd' do\n  action [:enable, :start]\nend\n```\n\n## command_recipce.rb\n```command_recipce.rb\nexecute \"yum update all package\" do\n  command \"yum update -y\"\n  user \"root\"\nend\n\nexecute \"create group 'www'\" do\n  command \"groupadd www\"\n  user \"root\"\nend\n\nexecute \"add group user 'vagrant' to 'wwww' \" do\n  command \"usermod -a -G www vagrant\"\n  user \"root\"\nend\n\nexecute \"change ower 'vagrant' for /var/www\" do\n  command \"chown -R root:www /var/www\"\n  user \"root\"\nend\n\nexecute \"change permision /var/www\" do\n  command \"chmod 2775 /var/www\"\n  user \"root\"\nend\n\nexecute \"setting group permision\" do\n  command \"find /var/www -type d -exec sudo chmod 2775 {} +\"\n  user \"root\"\nend\n\nexecute \"setting file permision\" do\n  command \"find /var/www -type f -exec sudo chmod 0664 {} +\"\nend\n\nexecute \"update timezone UTC->JST\" do\n  command \"cp /usr/share/zoneinfo/Japan /etc/localtime\"\n  user \"root\"\nend\n```\n\n## dry-run\n```\nitamae ssh --vagrant -h itamae-web test_recipe.rb -n\n```\n\n## \u5b9f\u884c\n```\nitamae ssh --vagrant -h itamae-web test_recipe.rb\n```\n", "tags": ["itamae"]}