{"context": "\n\nOverview\nKotlin \u3067 Espresso \u3092\u52d5\u4f5c\u3055\u305b\u308b\u307e\u3067\u306e\u30e1\u30e2\u3002\n\ngradle\n--- a/app/build.gradle\n+++ b/app/build.gradle\n@@ -11,6 +11,7 @@ android {\n         targetSdkVersion 23\n         versionCode 1\n         versionName \"1.0\"\n+        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n     }\n     buildTypes {\n         release {\n@@ -26,6 +27,10 @@ android {\n dependencies {\n     compile fileTree(include: ['*.jar'], dir: 'libs')\n     testCompile 'junit:junit:4.12'\n+    androidTestCompile \"com.android.support:support-annotations:${android_support_version}\"\n+    androidTestCompile \"com.android.support.test:runner:${support_test_version}\"\n+    androidTestCompile \"com.android.support.test:rules:${support_test_version}\"\n+    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2.1'\n     compile \"org.jetbrains.kotlin:kotlin-stdlib:${kotlin_version}\"\n     compile \"org.jetbrains.kotlin:kotlin-reflect:${kotlin_version}\"\n     compile \"com.android.support:appcompat-v7:${android_support_version}\"\n\n buildscript {\n     ext.android_support_version = '23.4.0'\n     ext.kotlin_version = '1.0.1-2'\n     ext.stetho_version = '1.3.1'\n+    ext.support_test_version = '0.4.1'\n     ext.retrofit_version = '2.0.2'\n     repositories {\n         mavenCentral()\n\n\n@Rule @JvmField \u3068\u3057\u306a\u3044\u3068 @Rule 'mActivityRule' must be public \u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u52d5\u4f5c\u3057\u306a\u3044\u3002\nstackoverflow\n\nTestClass\npackage com.sampo02.libsearch\n\nimport android.support.test.espresso.Espresso\nimport android.support.test.espresso.action.ViewActions\nimport android.support.test.espresso.matcher.ViewMatchers\nimport android.support.test.rule.ActivityTestRule\nimport android.support.test.runner.AndroidJUnit4\nimport android.test.suitebuilder.annotation.LargeTest\n\nimport com.sampo02.libsearch.activities.MapsActivity\n\nimport org.junit.Rule\nimport org.junit.Test\nimport org.junit.runner.RunWith\n\n@RunWith(AndroidJUnit4::class)\n@LargeTest\nclass MapsActivityTest {\n\n    @Rule @JvmField\n    val mActivityRule = ActivityTestRule(MapsActivity::class.java)\n\n    @Test\n    fun onClickTest() {\n        Espresso.onView(ViewMatchers.withId(R.id.search_library)).perform(ViewActions.click())\n    }\n}\n\n\n\u3053\u308c\u3067 Run \u3057\u305f\u3089\u52d5\u3044\u305f\u3002\n\u3053\u306e\u8a18\u4e8b\u3068\u306f\u95a2\u4fc2\u306a\u3044\u3051\u3069 diff \u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u3044\u3044\u306d\uff01\n# Overview\nKotlin \u3067 [Espresso](https://developer.android.com/training/testing/ui-testing/espresso-testing.html) \u3092\u52d5\u4f5c\u3055\u305b\u308b\u307e\u3067\u306e\u30e1\u30e2\u3002\n\n```diff:gradle\n--- a/app/build.gradle\n+++ b/app/build.gradle\n@@ -11,6 +11,7 @@ android {\n         targetSdkVersion 23\n         versionCode 1\n         versionName \"1.0\"\n+        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n     }\n     buildTypes {\n         release {\n@@ -26,6 +27,10 @@ android {\n dependencies {\n     compile fileTree(include: ['*.jar'], dir: 'libs')\n     testCompile 'junit:junit:4.12'\n+    androidTestCompile \"com.android.support:support-annotations:${android_support_version}\"\n+    androidTestCompile \"com.android.support.test:runner:${support_test_version}\"\n+    androidTestCompile \"com.android.support.test:rules:${support_test_version}\"\n+    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2.1'\n     compile \"org.jetbrains.kotlin:kotlin-stdlib:${kotlin_version}\"\n     compile \"org.jetbrains.kotlin:kotlin-reflect:${kotlin_version}\"\n     compile \"com.android.support:appcompat-v7:${android_support_version}\"\n\n buildscript {\n     ext.android_support_version = '23.4.0'\n     ext.kotlin_version = '1.0.1-2'\n     ext.stetho_version = '1.3.1'\n+    ext.support_test_version = '0.4.1'\n     ext.retrofit_version = '2.0.2'\n     repositories {\n         mavenCentral()\n```\n\n`@Rule @JvmField` \u3068\u3057\u306a\u3044\u3068 `@Rule 'mActivityRule' must be public` \u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u52d5\u4f5c\u3057\u306a\u3044\u3002\n[stackoverflow](http://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public)\n\n```kotlin:TestClass\npackage com.sampo02.libsearch\n\nimport android.support.test.espresso.Espresso\nimport android.support.test.espresso.action.ViewActions\nimport android.support.test.espresso.matcher.ViewMatchers\nimport android.support.test.rule.ActivityTestRule\nimport android.support.test.runner.AndroidJUnit4\nimport android.test.suitebuilder.annotation.LargeTest\n\nimport com.sampo02.libsearch.activities.MapsActivity\n\nimport org.junit.Rule\nimport org.junit.Test\nimport org.junit.runner.RunWith\n\n@RunWith(AndroidJUnit4::class)\n@LargeTest\nclass MapsActivityTest {\n\n    @Rule @JvmField\n    val mActivityRule = ActivityTestRule(MapsActivity::class.java)\n\n    @Test\n    fun onClickTest() {\n        Espresso.onView(ViewMatchers.withId(R.id.search_library)).perform(ViewActions.click())\n    }\n}\n```\n\n\u3053\u308c\u3067 Run \u3057\u305f\u3089\u52d5\u3044\u305f\u3002\n\u3053\u306e\u8a18\u4e8b\u3068\u306f\u95a2\u4fc2\u306a\u3044\u3051\u3069 diff \u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u3044\u3044\u306d\uff01\n", "tags": ["Android", "Kotlin", "Espresso"]}