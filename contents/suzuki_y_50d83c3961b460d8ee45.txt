{"context": "\n\nDropwizard\u3067index.html\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30da\u30fc\u30b8\u306b\u3059\u308b(Multiple servlets map to path: /*:\u3092\u56de\u907f\u3059\u308b)\n\n\u4eca\u56de\u306e\u76ee\u7684\nDropwizard\u3092\u4f7f\u3063\u3066\n1. index.html \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30da\u30fc\u30b8\u306b\u8a2d\u5b9a\u3059\u308b\n2. Multiple servlets map to path: /*:\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3053\u306a\u3044\u3088\u3046\u306b\u56de\u907f\u3059\u308b\n\n\u5b9f\u884c\u74b0\u5883\n\njava \u30d0\u30fc\u30b8\u30e7\u30f3: 8\ndropwizard \u30d0\u30fc\u30b8\u30e7\u30f3: 0.9.2\n\n\n\u4eca\u56de\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\nTestProject\n\u251c\u2500\u2500 src/main/java\n\u3000\u3000\u2514\u2500\u2500 priv.jp.y.suzuki\n\u3000\u3000\u3000\u3000\u251c\u2500\u2500 TestApplication.java\n\u3000\u3000\u3000\u3000\u2514\u2500\u2500 TestConfiguration.java\n\u251c\u2500\u2500  src/main/resources\n\u3000\u3000\u2514\u2500\u2500 assets\n\u3000\u3000\u3000\u2514\u2500\u2500 index.html\n\u251c\u2500\u2500 pom.xml\n\u2514\u2500\u2500 testCongig.yml\n\n1. index.html \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30da\u30fc\u30b8\u306b\u8a2d\u5b9a\u3059\u308b\n\n\u624b\u9806\n\nApplication\u30af\u30e9\u30b9\u306b\u8a18\u8f09\u3092\u884c\u3046\npom.xml \u306b\u8a18\u8f09\u3092\u884c\u3046\n\n\n1. Application\u30af\u30e9\u30b9\u306b\u8a18\u8f09\u3092\u884c\u3046\nApplication\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9\u306einitialize\u30e1\u30bd\u30c3\u30c9\u306b\u304a\u3044\u3066\u3001addBundle(new AssetsBundle(String resourcePath, String uriPath, String indexFile))\u3067\u6307\u5b9a\u3059\u308b\n\nTestApplication.java\n\nTestApplication.java\npackage priv.jp.y.suzuki;\nimport io.dropwizard.Application;\nimport io.dropwizard.assets.AssetsBundle;\nimport io.dropwizard.setup.Bootstrap;\nimport io.dropwizard.setup.Environment;\n\npublic class TestApplication extends Application<TestConfiguration>{\n     public static void main(String[] args) throws Exception {\n        new TestApplication().run(args);\n      }\n\n      @Override\n      public void initialize(Bootstrap<TestConfiguration> bootstrap) {\n        // assets\u914d\u4e0b\u306b\u7f6e\u3044\u305findex.html\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30da\u30fc\u30b8\u306b\u3059\u308b\n        bootstrap.addBundle(new AssetsBundle(\"/assets\", \"/\", \"index.html\")); \n      }\n\n      @Override\n      public void run(TestConfiguration conf, Environment env) throws Exception {\n      }\n}\n\n\n\n2. pom.xml \u306b\u8a18\u8f09\u3092\u884c\u3046\npom.xml\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8a18\u8f09\u3059\u308b\n\npom.xml\n\npom.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n    <groupId>priv.jp.y.suzuki</groupId>\n    <artifactId>TestProject</artifactId>\n    <version>0.0.1-SNAPSHOT</version>\n\n    <properties>\n        <dropwizard.version>0.9.2</dropwizard.version>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n    </properties>\n\n\n    <dependencies>\n        <dependency>\n            <groupId>io.dropwizard</groupId>\n            <artifactId>dropwizard-core</artifactId>\n            <version>${dropwizard.version}</version>\n        </dependency>\n        <dependency>\n            <groupId>io.dropwizard</groupId>\n            <artifactId>dropwizard-auth</artifactId>\n            <version>${dropwizard.version}</version>\n        </dependency>\n        <dependency> <!--TestApplication\u30af\u30e9\u30b9\u3067import io.dropwizard.assets.AssetsBundle;\u306b\u5fc5\u8981  -->\n            <groupId>io.dropwizard</groupId>\n            <artifactId>dropwizard-assets</artifactId>\n            <version>${dropwizard.version}</version>\n        </dependency>\n    </dependencies>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-shade-plugin</artifactId>\n                <version>2.3</version>\n                <configuration>\n                    <createDependencyReducedPom>true</createDependencyReducedPom>\n                    <filters>\n                        <filter>\n                            <artifact>*:*</artifact>\n                            <excludes>\n                                <exclude>META-INF/*.SF</exclude>\n                                <exclude>META-INF/*.DSA</exclude>\n                                <exclude>META-INF/*.RSA</exclude>\n                            </excludes>\n                        </filter>\n                    </filters>\n                </configuration>\n                <executions>\n                    <execution>\n                        <phase>package</phase>\n                        <goals>\n                            <goal>shade</goal>\n                        </goals>\n                        <configuration>\n                            <transformers>\n                                <transformer\n                                    implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\" />\n                                <transformer\n                                    implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\">\n                                    <mainClass>priv.jp.y.suzuki.TestApplication</mainClass>\n                                </transformer>\n                            </transformers>\n                        </configuration>\n                    </execution>\n                </executions>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n\n\n\n\n2. Multiple servlets map to path: /*:\u3092\u56de\u907f\u3059\u308b\n\u4e0a\u8a181.\u306e\u624b\u9806\u306e\u307f\u3067\u8d77\u52d5\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u300cMultiple servlets map to path: /*:\u300d\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046(\u30d1\u30b9\u304c\u7af6\u5408\u3059\u308b\u305f\u3081)\u3002\n\u305d\u306e\u305f\u3081\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306byml\u306brootPath\u3092\u8a18\u8f09\u3059\u308b\u3053\u3068\u3067\u56de\u907f\u3067\u304d\u308b\n\ntestConfig.yml\n\ntestConfig.yml\n# Application server setting.\nserver:\n  applicationConnectors:\n    - type: http\n      port: 8090\n\n  rootPath: '/api/*'  # \u3053\u3053\u3092\u8a18\u8f09.\n\n\n#Dropwizard\u3067index.html\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30da\u30fc\u30b8\u306b\u3059\u308b(Multiple servlets map to path: /*:\u3092\u56de\u907f\u3059\u308b)\n\n## \u4eca\u56de\u306e\u76ee\u7684\nDropwizard\u3092\u4f7f\u3063\u3066\n1. index.html \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30da\u30fc\u30b8\u306b\u8a2d\u5b9a\u3059\u308b\n2. Multiple servlets map to path: /*:\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3053\u306a\u3044\u3088\u3046\u306b\u56de\u907f\u3059\u308b\n\n\n## \u5b9f\u884c\u74b0\u5883\n* java \u30d0\u30fc\u30b8\u30e7\u30f3: 8\n* dropwizard \u30d0\u30fc\u30b8\u30e7\u30f3: 0.9.2\n\n\n## \u4eca\u56de\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\nTestProject\n\u251c\u2500\u2500 src/main/java\n\u3000\u3000\u2514\u2500\u2500 priv.jp.y.suzuki\n\u3000\u3000\u3000\u3000\u251c\u2500\u2500 TestApplication.java\n\u3000\u3000\u3000\u3000\u2514\u2500\u2500 TestConfiguration.java\n\u251c\u2500\u2500  src/main/resources\n\u3000\u3000\u2514\u2500\u2500 assets\n\u3000\u3000\u3000\u2514\u2500\u2500 index.html\n\u251c\u2500\u2500 pom.xml\n\u2514\u2500\u2500 testCongig.yml\n\n## 1. index.html \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30da\u30fc\u30b8\u306b\u8a2d\u5b9a\u3059\u308b\n### \u624b\u9806\n1. Application\u30af\u30e9\u30b9\u306b\u8a18\u8f09\u3092\u884c\u3046\n2. pom.xml \u306b\u8a18\u8f09\u3092\u884c\u3046\n\n#### 1. Application\u30af\u30e9\u30b9\u306b\u8a18\u8f09\u3092\u884c\u3046\nApplication\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9\u306einitialize\u30e1\u30bd\u30c3\u30c9\u306b\u304a\u3044\u3066\u3001addBundle(new AssetsBundle(String resourcePath, String uriPath, String indexFile))\u3067\u6307\u5b9a\u3059\u308b\n\n##### TestApplication.java\n\n```java:TestApplication.java\npackage priv.jp.y.suzuki;\nimport io.dropwizard.Application;\nimport io.dropwizard.assets.AssetsBundle;\nimport io.dropwizard.setup.Bootstrap;\nimport io.dropwizard.setup.Environment;\n\npublic class TestApplication extends Application<TestConfiguration>{\n\t public static void main(String[] args) throws Exception {\n\t    new TestApplication().run(args);\n\t  }\n\n\t  @Override\n\t  public void initialize(Bootstrap<TestConfiguration> bootstrap) {\n        // assets\u914d\u4e0b\u306b\u7f6e\u3044\u305findex.html\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30da\u30fc\u30b8\u306b\u3059\u308b\n\t    bootstrap.addBundle(new AssetsBundle(\"/assets\", \"/\", \"index.html\")); \n\t  }\n\n\t  @Override\n\t  public void run(TestConfiguration conf, Environment env) throws Exception {\n\t  }\n}\n```\n\n#### 2. pom.xml \u306b\u8a18\u8f09\u3092\u884c\u3046\npom.xml\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8a18\u8f09\u3059\u308b\n\n##### pom.xml\n\n```xml:pom.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n\t<modelVersion>4.0.0</modelVersion>\n\t<groupId>priv.jp.y.suzuki</groupId>\n\t<artifactId>TestProject</artifactId>\n\t<version>0.0.1-SNAPSHOT</version>\n\n\t<properties>\n\t\t<dropwizard.version>0.9.2</dropwizard.version>\n\t\t<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n\t</properties>\n\n\n\t<dependencies>\n\t\t<dependency>\n\t\t\t<groupId>io.dropwizard</groupId>\n\t\t\t<artifactId>dropwizard-core</artifactId>\n\t\t\t<version>${dropwizard.version}</version>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>io.dropwizard</groupId>\n\t\t\t<artifactId>dropwizard-auth</artifactId>\n\t\t\t<version>${dropwizard.version}</version>\n\t\t</dependency>\n\t\t<dependency> <!--TestApplication\u30af\u30e9\u30b9\u3067import io.dropwizard.assets.AssetsBundle;\u306b\u5fc5\u8981  -->\n\t\t\t<groupId>io.dropwizard</groupId>\n\t\t\t<artifactId>dropwizard-assets</artifactId>\n\t\t\t<version>${dropwizard.version}</version>\n\t\t</dependency>\n\t</dependencies>\n\n\t<build>\n\t\t<plugins>\n\t\t\t<plugin>\n\t\t\t\t<groupId>org.apache.maven.plugins</groupId>\n\t\t\t\t<artifactId>maven-shade-plugin</artifactId>\n\t\t\t\t<version>2.3</version>\n\t\t\t\t<configuration>\n\t\t\t\t\t<createDependencyReducedPom>true</createDependencyReducedPom>\n\t\t\t\t\t<filters>\n\t\t\t\t\t\t<filter>\n\t\t\t\t\t\t\t<artifact>*:*</artifact>\n\t\t\t\t\t\t\t<excludes>\n\t\t\t\t\t\t\t\t<exclude>META-INF/*.SF</exclude>\n\t\t\t\t\t\t\t\t<exclude>META-INF/*.DSA</exclude>\n\t\t\t\t\t\t\t\t<exclude>META-INF/*.RSA</exclude>\n\t\t\t\t\t\t\t</excludes>\n\t\t\t\t\t\t</filter>\n\t\t\t\t\t</filters>\n\t\t\t\t</configuration>\n\t\t\t\t<executions>\n\t\t\t\t\t<execution>\n\t\t\t\t\t\t<phase>package</phase>\n\t\t\t\t\t\t<goals>\n\t\t\t\t\t\t\t<goal>shade</goal>\n\t\t\t\t\t\t</goals>\n\t\t\t\t\t\t<configuration>\n\t\t\t\t\t\t\t<transformers>\n\t\t\t\t\t\t\t\t<transformer\n\t\t\t\t\t\t\t\t\timplementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\" />\n\t\t\t\t\t\t\t\t<transformer\n\t\t\t\t\t\t\t\t\timplementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\">\n\t\t\t\t\t\t\t\t\t<mainClass>priv.jp.y.suzuki.TestApplication</mainClass>\n\t\t\t\t\t\t\t\t</transformer>\n\t\t\t\t\t\t\t</transformers>\n\t\t\t\t\t\t</configuration>\n\t\t\t\t\t</execution>\n\t\t\t\t</executions>\n\t\t\t</plugin>\n\t\t</plugins>\n\t</build>\n</project>\n\n```\n\n## 2. Multiple servlets map to path: /*:\u3092\u56de\u907f\u3059\u308b\n\u4e0a\u8a181.\u306e\u624b\u9806\u306e\u307f\u3067\u8d77\u52d5\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u300cMultiple servlets map to path: /*:\u300d\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046(\u30d1\u30b9\u304c\u7af6\u5408\u3059\u308b\u305f\u3081)\u3002\n\u305d\u306e\u305f\u3081\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306byml\u306brootPath\u3092\u8a18\u8f09\u3059\u308b\u3053\u3068\u3067\u56de\u907f\u3067\u304d\u308b\n\n### testConfig.yml\n\n```yaml:testConfig.yml\n# Application server setting.\nserver:\n  applicationConnectors:\n    - type: http\n      port: 8090\n\n  rootPath: '/api/*'  # \u3053\u3053\u3092\u8a18\u8f09.\n```\n\n", "tags": ["dropwizard", "Java"]}