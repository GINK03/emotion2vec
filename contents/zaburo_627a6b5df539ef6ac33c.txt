{"context": " More than 1 year has passed since last update.\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u5024\u3092\u53d7\u3051\u3063\u3068\u3063\u3066DB\u306e\u4fdd\u5b58\u3001\u8868\u793a\u307e\u3067\u306e\u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\u3002\nLaravel\u3067\u30c7\u30fc\u30bf\u3092\u6271\u3046\u65b9\u6cd5\u306fQueryBuilder(DB::*)\u3092\u4f7f\u3046\u65b9\u6cd5\u3068\u3001Eloquent ORM\u3092\u4f7f\u3046\u65b9\u6cd5\u304c\u3042\u308b\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u3001QueryBuilder\u3092\u4f7f\u3046\u3002QueryBuilder\u306f\u30e2\u30c7\u30eb\u306e\u5b9a\u7fa9\u7121\u304f\u4f7f\u3048\u308b\u306e\u3067\u4fbf\u5229\u3067\u3042\u308b\u3002\n\u306a\u304a\u3001\u3053\u3053\u3067\u306f\u3001\u3059\u3067\u306bmembers\u30c6\u30fc\u30d6\u30eb\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3092\u524d\u63d0\u306b\u9032\u3081\u308b\u3002\n\u3044\u3061\u304a\u3046\u30de\u30b9\u30bf\u30fc\u30ec\u30a4\u30a2\u30a6\u30c8\u3002\n\nForm\u306e\u7528\u610f\n\nresources/views/master.blade.php\n<!doctype>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <title>\n        @yield('title')\n    </title>\n</head>\n<body>\n @yield('body')\n</body>\n</html>\n\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001\u666e\u901a\u306e\u30d5\u30a9\u30fc\u30e0\u3067\u3082name='_token'\u3067csrf_token()\u3092\u9001\u308b\u3068\u3053\u308d\u3002\n\nresources/views/input.blade.php\n@extends('master')\n\n@section('title')\ninput\n@stop\n\n@section('body')\n<form action=\"res\" method=\"post\">\n<input type=\"input\" name=\"name\">\n<input type=\"input\" name=\"email\">\n<input type=\"submit\" value=\"SEND\">\n<input type=\"hidden\" name=\"_token\" value=\"{{csrf_token()}}\">\n</form>\n@stop\n\n\n\n\u53d7\u53d6\u3068\u4fdd\u5b58\n\u53d7\u53d6\u306b\u3064\u3044\u3066\u306f\u3001Laravel5\u304b\u3089\u306fFormRequest\u3092\u4f7f\u3046\u306e\u304c\u826f\u3044\u306e\u3060\u308d\u3046\u3051\u3069\u3001\u3068\u308a\u3042\u3048\u305aInput\u3067\u53d7\u3051\u53d6\u308b\u3002Input\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001use Input;\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u3053\u3053\u3067\u306f\u3001/input\u3067Form\u3092\u8868\u793a\u3001/res\u3067\u5024\u3092\u53d7\u3051\u53d6\u3063\u3066DB\u306b\u4fdd\u5b58\u3059\u308b\u3002\nDB\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001use DB;\u3068\u3059\u308b\u3002\n\napp/Http/Controllers/HogeController.php\n<?php namespace App\\Http\\Controllers;\n\nuse App\\Http\\Controllers\\Controller;\nuse Input;\nuse DB;\n\nclass HogeController extends Controller{\n\n    //form\u8868\u793a\n    public function input(){\n        return view('input');\n    }\n\n    //\u53d7\u53d6\u3068\u4fdd\u5b58\n    public function res(){\n\n        $name = Input::get('name');\n        $email = Input::get('email');\n\n        DB::table('members')->insert([\n                'name'=>$name,\n                'email'=>$email\n            ]);\n\n        return \"Saved\";\n    }\n\n    //\u4e00\u89a7\u8868\u793a\n    public function select(){\n\n        $members = DB::table('members')->get();\n        return view('select')->with('members',$members);\n    }\n}\n\n\n\n\u8868\u793a\n@extends('master')\n\n@section('title')\nselect\n@stop\n\n@section('body')\n\n<h3>list</h3>\n@foreach($members as $member)\n    {{$member->name.\" \".$member->email}}<br>\n@endforeach\n\n@stop\n\n\u3053\u3053\u3067\u306f\u3001Controller\u306eselect()\u3067\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u3066\u3044\u308b\u304c\u3001\n$members = DB::select(DB::raw('select * from members'));\n\n\u306a\u3069\u3068\u3057\u3066\u3001DB::row()\u306b\u3088\u308a\u751f\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\uff08raw\u3092\u5229\u7528\u3057\u306a\u3044\u66f8\u304d\u65b9\u3082\u3042\u308b\uff09\u3002\n\nRoute\n\u4e00\u5fdcRoute\u3082\u3002\n\napp/Http/route.php\nRoute::get('input','HogeController@input');\n\nRoute::post('res','HogeController@res');\n\nRoute::get('select','HogeController@select');\n\n\n\n\u30d5\u30a9\u30fc\u30e0\u304b\u3089\u5024\u3092\u53d7\u3051\u3063\u3068\u3063\u3066DB\u306e\u4fdd\u5b58\u3001\u8868\u793a\u307e\u3067\u306e\u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\u3002\nLaravel\u3067\u30c7\u30fc\u30bf\u3092\u6271\u3046\u65b9\u6cd5\u306fQueryBuilder(DB::*)\u3092\u4f7f\u3046\u65b9\u6cd5\u3068\u3001Eloquent ORM\u3092\u4f7f\u3046\u65b9\u6cd5\u304c\u3042\u308b\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u3001QueryBuilder\u3092\u4f7f\u3046\u3002QueryBuilder\u306f\u30e2\u30c7\u30eb\u306e\u5b9a\u7fa9\u7121\u304f\u4f7f\u3048\u308b\u306e\u3067\u4fbf\u5229\u3067\u3042\u308b\u3002\n\u306a\u304a\u3001\u3053\u3053\u3067\u306f\u3001\u3059\u3067\u306bmembers\u30c6\u30fc\u30d6\u30eb\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3092\u524d\u63d0\u306b\u9032\u3081\u308b\u3002\n\n\u3044\u3061\u304a\u3046\u30de\u30b9\u30bf\u30fc\u30ec\u30a4\u30a2\u30a6\u30c8\u3002\n\n####Form\u306e\u7528\u610f\n\n```resources/views/master.blade.php\n<!doctype>\n<html>\n<head>\n\t<meta charset=\"utf-8\">\n\t<title>\n\t\t@yield('title')\n\t</title>\n</head>\n<body>\n @yield('body')\n</body>\n</html>\n```\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001\u666e\u901a\u306e\u30d5\u30a9\u30fc\u30e0\u3067\u3082name='_token'\u3067csrf_token()\u3092\u9001\u308b\u3068\u3053\u308d\u3002\n\n\n```resources/views/input.blade.php\n@extends('master')\n\n@section('title')\ninput\n@stop\n\n@section('body')\n<form action=\"res\" method=\"post\">\n<input type=\"input\" name=\"name\">\n<input type=\"input\" name=\"email\">\n<input type=\"submit\" value=\"SEND\">\n<input type=\"hidden\" name=\"_token\" value=\"{{csrf_token()}}\">\n</form>\n@stop\n```\n\n####\u53d7\u53d6\u3068\u4fdd\u5b58\n\n\u53d7\u53d6\u306b\u3064\u3044\u3066\u306f\u3001Laravel5\u304b\u3089\u306fFormRequest\u3092\u4f7f\u3046\u306e\u304c\u826f\u3044\u306e\u3060\u308d\u3046\u3051\u3069\u3001\u3068\u308a\u3042\u3048\u305aInput\u3067\u53d7\u3051\u53d6\u308b\u3002Input\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001use Input;\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u3053\u3053\u3067\u306f\u3001/input\u3067Form\u3092\u8868\u793a\u3001/res\u3067\u5024\u3092\u53d7\u3051\u53d6\u3063\u3066DB\u306b\u4fdd\u5b58\u3059\u308b\u3002\nDB\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u3001use DB;\u3068\u3059\u308b\u3002\n\n```app/Http/Controllers/HogeController.php\n<?php namespace App\\Http\\Controllers;\n\nuse App\\Http\\Controllers\\Controller;\nuse Input;\nuse DB;\n\nclass HogeController extends Controller{\n\n\t//form\u8868\u793a\n\tpublic function input(){\n\t\treturn view('input');\n\t}\n\t\n\t//\u53d7\u53d6\u3068\u4fdd\u5b58\n\tpublic function res(){\n\n\t\t$name = Input::get('name');\n\t\t$email = Input::get('email');\n\n\t\tDB::table('members')->insert([\n\t\t\t\t'name'=>$name,\n\t\t\t\t'email'=>$email\n\t\t\t]);\n\n\t\treturn \"Saved\";\n\t}\n\n\t//\u4e00\u89a7\u8868\u793a\n\tpublic function select(){\n\t\t\n\t\t$members = DB::table('members')->get();\n\t\treturn view('select')->with('members',$members);\n\t}\n}\n```\n\n####\u8868\u793a\n\n```\n@extends('master')\n\n@section('title')\nselect\n@stop\n\n@section('body')\n\n<h3>list</h3>\n@foreach($members as $member)\n\t{{$member->name.\" \".$member->email}}<br>\n@endforeach\n\n@stop\n```\n\n\u3053\u3053\u3067\u306f\u3001Controller\u306eselect()\u3067\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u3066\u3044\u308b\u304c\u3001\n\n```\n$members = DB::select(DB::raw('select * from members'));\n```\n\u306a\u3069\u3068\u3057\u3066\u3001DB::row()\u306b\u3088\u308a\u751f\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\uff08raw\u3092\u5229\u7528\u3057\u306a\u3044\u66f8\u304d\u65b9\u3082\u3042\u308b\uff09\u3002\n\n####Route\n\n\u4e00\u5fdcRoute\u3082\u3002\n\n```app/Http/route.php\nRoute::get('input','HogeController@input');\n\nRoute::post('res','HogeController@res');\n\nRoute::get('select','HogeController@select');\n```\n", "tags": ["laravel5"]}