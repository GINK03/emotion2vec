{"context": "\u524d\u56de\u304b\u3089\u306e\u7d9a\u304d\u3067\u3059\u3002\nGPS\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30b2\u30c3\u30c8\u3057\u305f\u306e\u3067\u30e9\u30ba\u30d1\u30a4\u306b\u63a5\u7d9a\u3057\u3066\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3059\u3002\n\n\nGPS\u3092\u63a5\u7d9a\u3057\u3066\u307f\u308b\n\n\u63a5\u7d9a\u524d\n\nlsusb\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ lsusb\nBus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter\nBus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. LAN9500 Ethernet 10/100 Adapter / SMSC9512/9514 Hub\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n\n\n\nls\u00a0/dev/tty*\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ ls /dev/tty*\n/dev/tty    /dev/tty13  /dev/tty19  /dev/tty24  /dev/tty3   /dev/tty35  /dev/tty40  /dev/tty46  /dev/tty51  /dev/tty57  /dev/tty62    /dev/ttyprintk\n/dev/tty0   /dev/tty14  /dev/tty2   /dev/tty25  /dev/tty30  /dev/tty36  /dev/tty41  /dev/tty47  /dev/tty52  /dev/tty58  /dev/tty63\n/dev/tty1   /dev/tty15  /dev/tty20  /dev/tty26  /dev/tty31  /dev/tty37  /dev/tty42  /dev/tty48  /dev/tty53  /dev/tty59  /dev/tty7\n/dev/tty10  /dev/tty16  /dev/tty21  /dev/tty27  /dev/tty32  /dev/tty38  /dev/tty43  /dev/tty49  /dev/tty54  /dev/tty6   /dev/tty8\n/dev/tty11  /dev/tty17  /dev/tty22  /dev/tty28  /dev/tty33  /dev/tty39  /dev/tty44  /dev/tty5   /dev/tty55  /dev/tty60  /dev/tty9\n/dev/tty12  /dev/tty18  /dev/tty23  /dev/tty29  /dev/tty34  /dev/tty4   /dev/tty45  /dev/tty50  /dev/tty56  /dev/tty61  /dev/ttyAMA0\n\n\n\n\u63a5\u7d9a\u5f8c\n\nlsusb\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ lsusb\nBus 001 Device 007: ID 067b:2303 Prolific Technology, Inc. PL2303 Serial Port\nBus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter\nBus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. LAN9500 Ethernet 10/100 Adapter / SMSC9512/9514 Hub\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n\n\nPL2303 Serial Port\u304c\u5897\u3048\u3066\u307e\u3059\u306d\u3002\n\nls\u00a0/dev/tty*\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ ls /dev/tty*\n/dev/tty    /dev/tty13  /dev/tty19  /dev/tty24  /dev/tty3   /dev/tty35  /dev/tty40  /dev/tty46  /dev/tty51  /dev/tty57  /dev/tty62    /dev/ttyUSB0\n/dev/tty0   /dev/tty14  /dev/tty2   /dev/tty25  /dev/tty30  /dev/tty36  /dev/tty41  /dev/tty47  /dev/tty52  /dev/tty58  /dev/tty63    /dev/ttyprintk\n/dev/tty1   /dev/tty15  /dev/tty20  /dev/tty26  /dev/tty31  /dev/tty37  /dev/tty42  /dev/tty48  /dev/tty53  /dev/tty59  /dev/tty7\n/dev/tty10  /dev/tty16  /dev/tty21  /dev/tty27  /dev/tty32  /dev/tty38  /dev/tty43  /dev/tty49  /dev/tty54  /dev/tty6   /dev/tty8\n/dev/tty11  /dev/tty17  /dev/tty22  /dev/tty28  /dev/tty33  /dev/tty39  /dev/tty44  /dev/tty5   /dev/tty55  /dev/tty60  /dev/tty9\n/dev/tty12  /dev/tty18  /dev/tty23  /dev/tty29  /dev/tty34  /dev/tty4   /dev/tty45  /dev/tty50  /dev/tty56  /dev/tty61  /dev/ttyAMA0\n\n\n/dev/ttyUSB0\u304c\u5897\u3048\u3066\u307e\u3059\u306d\u3002\n\u6b63\u5e38\u306b\u8a8d\u8b58\u3055\u308c\u305f\u3088\u3046\u3067\u3059\u3002\n\n\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3057\u3066\u307f\u308b\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ cu -s 4800 -l /dev/ttyUSB0\nConnected.\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$GPRMC,,V,,,,,,,,,,N*53\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$GPRMC,,V,,,,,,,,,,N*53\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$GPGSV,3,1,12,01,00,000,,02,00,000,,03,00,000,,04,00,000,*7C\n$GPGSV,3,2,12,05,00,000,,06,00,000,,07,00,000,,08,00,000,*77\n$GPGSV,3,3,12,09,00,000,,10,00,000,,11,00,000,,12,00,000,*71\n$GPRMC,,V,,,,,,,,,,N*53\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$GPRMC,,V,,,,,,,,,,N*53\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$G~PRMC,,V,,,,,,,,,,N*53\n.\n\nDisconnected.\n\n\u304a\uff5e\u6765\u3066\u307e\u3059\u306d\u3002\u56e0\u307f\u306b\u7d42\u4e86\u306f\u300c~.\u300d(\u30c1\u30eb\u30c0\u3000\u30d4\u30ea\u30aa\u30c9)\u3092\u5165\u529b\u3067\u3059\u3002\n\u3067\u3082\u3001\u7def\u5ea6\u7d4c\u5ea6\u3068\u308c\u3066\u306a\u304f\u306d\uff1f\u7a7a\u3063\u307d\u3067\u3059\u306d\u30fb\u30fb\u3002\n\u3069\u3046\u3084\u3089\u305a\u3063\u3068\u4fe1\u53f7\u691c\u7d22\u4e2d\u307e\u307e\u3067\u53d7\u4fe1\u3067\u304d\u3066\u306a\u3044\u307f\u305f\u3044\u3067\u3059\u3002\n\n\u9ad8\u611f\u5ea6\u53d7\u4fe1\u6a5f\u3067\u3001\u68ee\u6797\u3084\u90fd\u5e02\u90e8\u306a\u3069\u4e0a\u7a7a\u304c\u906e\u853d\u3055\u308c\u305f\u5834\u6240\u306b\u304a\u3044\u3066\u6027\u80fd\u3092\u767a\u63ee\u3057\u307e\u3059\u3002\n\n\u306a\u3093\u3066\u66f8\u3044\u3066\u3042\u308b\u3093\u3067\u3059\u3051\u3069\u306d\u3002\n\u793e\u5185\u3067\u81ea\u5e2d\u304c\u4e00\u756a\u7a93\u969b\u304b\u3089\u9060\u3044\u3068\u3053\u308d\u306b\u3042\u308a\u3001\u53b3\u3057\u3044\u611f\u3058\u306a\u3093\u3067\u3059\u304b\u306d\u30fb\u30fb\u3002\n\u8a66\u884c\u932f\u8aa4\u306e\u7d50\u679c\u300120m\u306eLAN\u30b1\u30fc\u30d6\u30eb\u3092\u3064\u306a\u3052\u3066\u3001\u306a\u3093\u3068\u304b\u30e9\u30ba\u30d1\u30a4\u3092\u7a93\u969b\u306b\u79fb\u52d5\u3059\u308b\u3053\u3068\u306b\u6210\u529f\u3057\u307e\u3057\u305f\uff01\n\uff08\u79fb\u52d5\u4f5c\u696d\u3092\u624b\u4f1d\u3063\u3066\u304f\u308c\u305fynott\u3055\u3093\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3057\u307e\u3057\u305f\uff57\uff09\n\u3059\u308b\u3068\npi@raspberrypi:~$ cu -s 4800 -l /dev/ttyUSB0\nConnected.\n\uf8f3$GPGGA,040557.249,3541.7314,N,13945.9898,E,1,04,5.6,40.8,M,39.4,M,,0000*6D\n$GPGSA,A,3,01,07,30,28,,,,,,,,,8.8,5.6,6.8*30\n$GPGSV,3,1,12,01,69,232,23,07,34,241,39,30,34,275,26,28,21,316,26*70\n$GPGSV,3,2,12,22,30,156,18,27,25,076,20,09,64,315,,13,50,099,*79\n$GPGSV,3,3,12,16,44,185,,03,13,174,,08,10,257,,04,05,297,*76\n$GPRMC,040557.249,A,3541.7314,N,13945.9898,E,1.02,267.56,270716,,,A*6C\n$GPGGA,040558.249,3541.7317,N,13945.9899,E,1,04,5.6,41.1,M,39.4,M,,0000*68\n$GPGSA,A,3,01,07,30,28,,,,,,,,,8.8,5.6,6.8*30\n$GPRMC,040558.249,A,3541.7317,N,13945.9899,E,1.17,267.53,270716,,,A*60\n~$GPGGA,040559.249,3541.7316,N,.\n\nDisconnected.\n\n\u53d6\u308c\u3066\u308b\u3058\u3083\u306a\u3044\u3067\u3059\u304b\uff01\n\n\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\n\n\u305d\u306e\u307e\u3048\u306b\nNode.js\u3067\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3067\u304d\u308bNode Serialport\u3001NMEA-0183\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u30d1\u30fc\u30b9\u3059\u308b\u305f\u3081\u306bnode-nmea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ npm install serialport nmea-0183 --save\nnpm WARN package.json trackrr.io-sdk-js-sample@1.0.0 No description\nnpm WARN package.json trackrr.io-sdk-js-sample@1.0.0 No repository field.\nnpm WARN package.json trackrr.io-sdk-js-sample@1.0.0 No README data\n/\n> serialport@4.0.1 install /home/pi/trackrr.io-sdk-js-sample/node_modules/serialport\n> node-pre-gyp install --fallback-to-build\n\nnode-pre-gyp ERR! Tried to download: https://github.com/EmergingTechnologyAdvisors/node-serialport/releases/download/4.0.1/serialport-v4.0.1-node-v46-linux-arm.tar.gz\nnode-pre-gyp ERR! Pre-built binaries not found for serialport@4.0.1 and node@4.4.7 (node-v46 ABI) (falling back to source compile with node-gyp)\nmake: Entering directory '/home/pi/trackrr.io-sdk-js-sample/node_modules/serialport/build'\n  CXX(target) Release/obj.target/serialport/src/serialport.o\n  CXX(target) Release/obj.target/serialport/src/serialport_unix.o\n  CXX(target) Release/obj.target/serialport/src/serialport_poller.o\n  SOLINK_MODULE(target) Release/obj.target/serialport.node\n  COPY Release/serialport.node\nmake: Leaving directory '/home/pi/trackrr.io-sdk-js-sample/node_modules/serialport/build'\nnmea-0183@0.0.7 node_modules/nmea-0183\n\nserialport@4.0.1 node_modules/serialport\ntqq bindings@1.2.1\ntqq es6-promise@3.2.1\ntqq commander@2.9.0 (graceful-readlink@1.0.1)\ntqq debug@2.2.0 (ms@0.7.1)\ntqq nan@2.4.0\nmqq object.assign@4.0.4 (function-bind@1.1.0, object-keys@1.0.11, define-properties@1.1.2)\n\n\nindex.js\u306b\u51e6\u7406\u3092\u8ffd\u52a0\n\nindex.js\nvar trackrr = require('trackrr.io-sdk-js');\nvar gpsKey = 'Trackrr.io\u3067\u53d6\u5f97\u3057\u305fGPS\u306e\u30ad\u30fc';\nvar secret = 'Trackrr.io\u3067\u53d6\u5f97\u3057\u305f\u30a2\u30af\u30bb\u30b9\u30ad\u30fc';\nvar client = new trackrr.GpsClientManager(gpsKey, secret);\n\nvar serialport = require(\"serialport\");\nvar nmea = require('nmea-0183');\nvar port = '/dev/ttyUSB0';\nvar baudrate = 4800;\nvar readline = '\\r\\n';\n\nvar receiver = new serialport(port, {\n  baudrate: parseInt(baudrate),\n  parser: serialport.parsers.readline(readline)\n});\n\nclient.on('connect', () => {\n        receiver.on('data', function(data) {\n                var nmeaData = nmea.parse(data);\n                if (nmeaData['id'] == 'GPRMC') {\n                    var gps = {};\n                    var coords = {};\n                    gps.coords = {};\n                    gps.coords.latitude = Number(nmeaData.latitude);\n                    gps.coords.longitude = Number(nmeaData.longitude);\n                    client.publish(gps);\n                    console.log(gps);\n                    console.log(nmeaData);\n                }\n        });\n});\n\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308c\u3070\u6210\u529f\u3067\u3059\u3002\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ node index.js\n{ coords: { latitude: 35.69557, longitude: 139.76688667 },\n  identity: 'ap-northeast-1:XXXXX',\n  gpsKey: 'XXXXX',\n  createdDate: 1469676353018 }\n{ id: 'GPRMC',\n  time: '032552.000',\n  valid: 'A',\n  latitude: '35.69557000',\n  longitude: '139.76688667',\n  speed: 0,\n  course: 94.96,\n  date: '280716',\n  mode: '',\n  variation: NaN }\n{ coords: { latitude: 35.69557, longitude: 139.76688667 },\n  identity: 'ap-northeast-1:XXXXX',\n  gpsKey: 'XXXXX',\n  createdDate: 1469676353760 }\n{ id: 'GPRMC',\n  time: '032553.000',\n  valid: 'A',\n  latitude: '35.69557000',\n  longitude: '139.76688667',\n  speed: 0,\n  course: 94.96,\n  date: '280716',\n  mode: '',\n  variation: NaN }\n{ coords: { latitude: 35.69557, longitude: 139.76688667 },\n  identity: 'ap-northeast-1:XXXXX',\n  gpsKey: 'XXXXX',\n  createdDate: 1469676354536 }\n{ id: 'GPRMC',\n  time: '032554.000',\n  valid: 'A',\n  latitude: '35.69557000',\n  longitude: '139.76688667',\n  speed: 0,\n  course: 94.96,\n  date: '280716',\n  mode: '',\n  variation: NaN }\n^C\npi@raspberrypi:~/trackrr.io-sdk-js-sample$\n\n\u3067\u3001Trackrr.io\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u753b\u9762\u3067\u306f\u8868\u793a\u3055\u308c\u3066\u307e\u3059\u306d\u3002\n\n\u3057\u304b\u3057\u3001\u5fae\u52d5\u3060\u306b\u3057\u306a\u3044\u3093\u3067\u9762\u767d\u307f\u306b\u6b20\u3051\u307e\u3059\u306d\u3002\n\u6b21\u56de\u306f\u8ab0\u304b\u306e\u30d0\u30c3\u30b0\u306b\u5fcd\u3070\u305b\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u30fb\u30fb\u30fb\u3002\n[\u524d\u56de](http://qiita.com/YusukeHasegawa/items/01cb967ab58a02c0978c)\u304b\u3089\u306e\u7d9a\u304d\u3067\u3059\u3002\nGPS\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30b2\u30c3\u30c8\u3057\u305f\u306e\u3067\u30e9\u30ba\u30d1\u30a4\u306b\u63a5\u7d9a\u3057\u3066\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u304b\u3089\u306e\u4f4d\u7f6e\u60c5\u5831\u3092\u8868\u793a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3059\u3002\n\n![IMG_2127.JPG](https://qiita-image-store.s3.amazonaws.com/0/132516/16b4cff8-e0e6-c750-1a6a-3e38a754a79f.jpeg)\n\n\n#GPS\u3092\u63a5\u7d9a\u3057\u3066\u307f\u308b\n##\u63a5\u7d9a\u524d\n```shell-session:lsusb\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ lsusb\nBus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter\nBus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. LAN9500 Ethernet 10/100 Adapter / SMSC9512/9514 Hub\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n```\n```shell-session:ls&nbsp;/dev/tty*\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ ls /dev/tty*\n/dev/tty    /dev/tty13  /dev/tty19  /dev/tty24  /dev/tty3   /dev/tty35  /dev/tty40  /dev/tty46  /dev/tty51  /dev/tty57  /dev/tty62    /dev/ttyprintk\n/dev/tty0   /dev/tty14  /dev/tty2   /dev/tty25  /dev/tty30  /dev/tty36  /dev/tty41  /dev/tty47  /dev/tty52  /dev/tty58  /dev/tty63\n/dev/tty1   /dev/tty15  /dev/tty20  /dev/tty26  /dev/tty31  /dev/tty37  /dev/tty42  /dev/tty48  /dev/tty53  /dev/tty59  /dev/tty7\n/dev/tty10  /dev/tty16  /dev/tty21  /dev/tty27  /dev/tty32  /dev/tty38  /dev/tty43  /dev/tty49  /dev/tty54  /dev/tty6   /dev/tty8\n/dev/tty11  /dev/tty17  /dev/tty22  /dev/tty28  /dev/tty33  /dev/tty39  /dev/tty44  /dev/tty5   /dev/tty55  /dev/tty60  /dev/tty9\n/dev/tty12  /dev/tty18  /dev/tty23  /dev/tty29  /dev/tty34  /dev/tty4   /dev/tty45  /dev/tty50  /dev/tty56  /dev/tty61  /dev/ttyAMA0\n```\n##\u63a5\u7d9a\u5f8c\n```shell-session:lsusb\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ lsusb\nBus 001 Device 007: ID 067b:2303 Prolific Technology, Inc. PL2303 Serial Port\nBus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter\nBus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. LAN9500 Ethernet 10/100 Adapter / SMSC9512/9514 Hub\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n```\n`PL2303 Serial Port`\u304c\u5897\u3048\u3066\u307e\u3059\u306d\u3002\n\n```shell-session:ls&nbsp;/dev/tty*\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ ls /dev/tty*\n/dev/tty    /dev/tty13  /dev/tty19  /dev/tty24  /dev/tty3   /dev/tty35  /dev/tty40  /dev/tty46  /dev/tty51  /dev/tty57  /dev/tty62    /dev/ttyUSB0\n/dev/tty0   /dev/tty14  /dev/tty2   /dev/tty25  /dev/tty30  /dev/tty36  /dev/tty41  /dev/tty47  /dev/tty52  /dev/tty58  /dev/tty63    /dev/ttyprintk\n/dev/tty1   /dev/tty15  /dev/tty20  /dev/tty26  /dev/tty31  /dev/tty37  /dev/tty42  /dev/tty48  /dev/tty53  /dev/tty59  /dev/tty7\n/dev/tty10  /dev/tty16  /dev/tty21  /dev/tty27  /dev/tty32  /dev/tty38  /dev/tty43  /dev/tty49  /dev/tty54  /dev/tty6   /dev/tty8\n/dev/tty11  /dev/tty17  /dev/tty22  /dev/tty28  /dev/tty33  /dev/tty39  /dev/tty44  /dev/tty5   /dev/tty55  /dev/tty60  /dev/tty9\n/dev/tty12  /dev/tty18  /dev/tty23  /dev/tty29  /dev/tty34  /dev/tty4   /dev/tty45  /dev/tty50  /dev/tty56  /dev/tty61  /dev/ttyAMA0\n```\n`/dev/ttyUSB0`\u304c\u5897\u3048\u3066\u307e\u3059\u306d\u3002\n\n\u6b63\u5e38\u306b\u8a8d\u8b58\u3055\u308c\u305f\u3088\u3046\u3067\u3059\u3002\n\n#\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3057\u3066\u307f\u308b\n```shell-session\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ cu -s 4800 -l /dev/ttyUSB0\nConnected.\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$GPRMC,,V,,,,,,,,,,N*53\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$GPRMC,,V,,,,,,,,,,N*53\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$GPGSV,3,1,12,01,00,000,,02,00,000,,03,00,000,,04,00,000,*7C\n$GPGSV,3,2,12,05,00,000,,06,00,000,,07,00,000,,08,00,000,*77\n$GPGSV,3,3,12,09,00,000,,10,00,000,,11,00,000,,12,00,000,*71\n$GPRMC,,V,,,,,,,,,,N*53\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$GPRMC,,V,,,,,,,,,,N*53\n$GPGGA,,,,,,0,00,,,M,0.0,M,,0000*48\n$GPGSA,A,1,,,,,,,,,,,,,,,*1E\n$G~PRMC,,V,,,,,,,,,,N*53\n.\n\nDisconnected.\n```\n\u304a\uff5e\u6765\u3066\u307e\u3059\u306d\u3002\u56e0\u307f\u306b\u7d42\u4e86\u306f\u300c`~.`\u300d(\u30c1\u30eb\u30c0\u3000\u30d4\u30ea\u30aa\u30c9)\u3092\u5165\u529b\u3067\u3059\u3002\n\n\u3067\u3082\u3001\u7def\u5ea6\u7d4c\u5ea6\u3068\u308c\u3066\u306a\u304f\u306d\uff1f\u7a7a\u3063\u307d\u3067\u3059\u306d\u30fb\u30fb\u3002\n\n\u3069\u3046\u3084\u3089\u305a\u3063\u3068\u4fe1\u53f7\u691c\u7d22\u4e2d\u307e\u307e\u3067\u53d7\u4fe1\u3067\u304d\u3066\u306a\u3044\u307f\u305f\u3044\u3067\u3059\u3002\n>\u9ad8\u611f\u5ea6\u53d7\u4fe1\u6a5f\u3067\u3001\u68ee\u6797\u3084\u90fd\u5e02\u90e8\u306a\u3069\u4e0a\u7a7a\u304c\u906e\u853d\u3055\u308c\u305f\u5834\u6240\u306b\u304a\u3044\u3066\u6027\u80fd\u3092\u767a\u63ee\u3057\u307e\u3059\u3002\n\n\u306a\u3093\u3066\u66f8\u3044\u3066\u3042\u308b\u3093\u3067\u3059\u3051\u3069\u306d\u3002\n\u793e\u5185\u3067\u81ea\u5e2d\u304c\u4e00\u756a\u7a93\u969b\u304b\u3089\u9060\u3044\u3068\u3053\u308d\u306b\u3042\u308a\u3001\u53b3\u3057\u3044\u611f\u3058\u306a\u3093\u3067\u3059\u304b\u306d\u30fb\u30fb\u3002\n\n\u8a66\u884c\u932f\u8aa4\u306e\u7d50\u679c\u300120m\u306eLAN\u30b1\u30fc\u30d6\u30eb\u3092\u3064\u306a\u3052\u3066\u3001\u306a\u3093\u3068\u304b\u30e9\u30ba\u30d1\u30a4\u3092\u7a93\u969b\u306b\u79fb\u52d5\u3059\u308b\u3053\u3068\u306b\u6210\u529f\u3057\u307e\u3057\u305f\uff01\n\uff08\u79fb\u52d5\u4f5c\u696d\u3092\u624b\u4f1d\u3063\u3066\u304f\u308c\u305f[ynott](http://qiita.com/ynott)\u3055\u3093\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3057\u307e\u3057\u305f\uff57\uff09\n\n\u3059\u308b\u3068\n\n```shell-session\npi@raspberrypi:~$ cu -s 4800 -l /dev/ttyUSB0\nConnected.\n\uf8f3$GPGGA,040557.249,3541.7314,N,13945.9898,E,1,04,5.6,40.8,M,39.4,M,,0000*6D\n$GPGSA,A,3,01,07,30,28,,,,,,,,,8.8,5.6,6.8*30\n$GPGSV,3,1,12,01,69,232,23,07,34,241,39,30,34,275,26,28,21,316,26*70\n$GPGSV,3,2,12,22,30,156,18,27,25,076,20,09,64,315,,13,50,099,*79\n$GPGSV,3,3,12,16,44,185,,03,13,174,,08,10,257,,04,05,297,*76\n$GPRMC,040557.249,A,3541.7314,N,13945.9898,E,1.02,267.56,270716,,,A*6C\n$GPGGA,040558.249,3541.7317,N,13945.9899,E,1,04,5.6,41.1,M,39.4,M,,0000*68\n$GPGSA,A,3,01,07,30,28,,,,,,,,,8.8,5.6,6.8*30\n$GPRMC,040558.249,A,3541.7317,N,13945.9899,E,1.17,267.53,270716,,,A*60\n~$GPGGA,040559.249,3541.7316,N,.\n\nDisconnected.\n```\n\u53d6\u308c\u3066\u308b\u3058\u3083\u306a\u3044\u3067\u3059\u304b\uff01\n\n#\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\n\n##\u305d\u306e\u307e\u3048\u306b\nNode.js\u3067\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3067\u304d\u308bNode Serialport\u3001NMEA-0183\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u30d1\u30fc\u30b9\u3059\u308b\u305f\u3081\u306bnode-nmea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```shell-session\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ npm install serialport nmea-0183 --save\nnpm WARN package.json trackrr.io-sdk-js-sample@1.0.0 No description\nnpm WARN package.json trackrr.io-sdk-js-sample@1.0.0 No repository field.\nnpm WARN package.json trackrr.io-sdk-js-sample@1.0.0 No README data\n/\n> serialport@4.0.1 install /home/pi/trackrr.io-sdk-js-sample/node_modules/serialport\n> node-pre-gyp install --fallback-to-build\n\nnode-pre-gyp ERR! Tried to download: https://github.com/EmergingTechnologyAdvisors/node-serialport/releases/download/4.0.1/serialport-v4.0.1-node-v46-linux-arm.tar.gz\nnode-pre-gyp ERR! Pre-built binaries not found for serialport@4.0.1 and node@4.4.7 (node-v46 ABI) (falling back to source compile with node-gyp)\nmake: Entering directory '/home/pi/trackrr.io-sdk-js-sample/node_modules/serialport/build'\n  CXX(target) Release/obj.target/serialport/src/serialport.o\n  CXX(target) Release/obj.target/serialport/src/serialport_unix.o\n  CXX(target) Release/obj.target/serialport/src/serialport_poller.o\n  SOLINK_MODULE(target) Release/obj.target/serialport.node\n  COPY Release/serialport.node\nmake: Leaving directory '/home/pi/trackrr.io-sdk-js-sample/node_modules/serialport/build'\nnmea-0183@0.0.7 node_modules/nmea-0183\n\nserialport@4.0.1 node_modules/serialport\ntqq bindings@1.2.1\ntqq es6-promise@3.2.1\ntqq commander@2.9.0 (graceful-readlink@1.0.1)\ntqq debug@2.2.0 (ms@0.7.1)\ntqq nan@2.4.0\nmqq object.assign@4.0.4 (function-bind@1.1.0, object-keys@1.0.11, define-properties@1.1.2)\n```\n##index.js\u306b\u51e6\u7406\u3092\u8ffd\u52a0\n\n```js:index.js\nvar trackrr = require('trackrr.io-sdk-js');\nvar gpsKey = 'Trackrr.io\u3067\u53d6\u5f97\u3057\u305fGPS\u306e\u30ad\u30fc';\nvar secret = 'Trackrr.io\u3067\u53d6\u5f97\u3057\u305f\u30a2\u30af\u30bb\u30b9\u30ad\u30fc';\nvar client = new trackrr.GpsClientManager(gpsKey, secret);\n\nvar serialport = require(\"serialport\");\nvar nmea = require('nmea-0183');\nvar port = '/dev/ttyUSB0';\nvar baudrate = 4800;\nvar readline = '\\r\\n';\n\nvar receiver = new serialport(port, {\n  baudrate: parseInt(baudrate),\n  parser: serialport.parsers.readline(readline)\n});\n\nclient.on('connect', () => {\n        receiver.on('data', function(data) {\n                var nmeaData = nmea.parse(data);\n                if (nmeaData['id'] == 'GPRMC') {\n                    var gps = {};\n                    var coords = {};\n                    gps.coords = {};\n                    gps.coords.latitude = Number(nmeaData.latitude);\n                    gps.coords.longitude = Number(nmeaData.longitude);\n                    client.publish(gps);\n                    console.log(gps);\n                    console.log(nmeaData);\n                }\n        });\n});\n```\n\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n\n```shell-session\npi@raspberrypi:~/trackrr.io-sdk-js-sample$ node index.js\n{ coords: { latitude: 35.69557, longitude: 139.76688667 },\n  identity: 'ap-northeast-1:XXXXX',\n  gpsKey: 'XXXXX',\n  createdDate: 1469676353018 }\n{ id: 'GPRMC',\n  time: '032552.000',\n  valid: 'A',\n  latitude: '35.69557000',\n  longitude: '139.76688667',\n  speed: 0,\n  course: 94.96,\n  date: '280716',\n  mode: '',\n  variation: NaN }\n{ coords: { latitude: 35.69557, longitude: 139.76688667 },\n  identity: 'ap-northeast-1:XXXXX',\n  gpsKey: 'XXXXX',\n  createdDate: 1469676353760 }\n{ id: 'GPRMC',\n  time: '032553.000',\n  valid: 'A',\n  latitude: '35.69557000',\n  longitude: '139.76688667',\n  speed: 0,\n  course: 94.96,\n  date: '280716',\n  mode: '',\n  variation: NaN }\n{ coords: { latitude: 35.69557, longitude: 139.76688667 },\n  identity: 'ap-northeast-1:XXXXX',\n  gpsKey: 'XXXXX',\n  createdDate: 1469676354536 }\n{ id: 'GPRMC',\n  time: '032554.000',\n  valid: 'A',\n  latitude: '35.69557000',\n  longitude: '139.76688667',\n  speed: 0,\n  course: 94.96,\n  date: '280716',\n  mode: '',\n  variation: NaN }\n^C\npi@raspberrypi:~/trackrr.io-sdk-js-sample$\n```\n\n\u3067\u3001Trackrr.io\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u753b\u9762\u3067\u306f\u8868\u793a\u3055\u308c\u3066\u307e\u3059\u306d\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/132516/4a3d9700-e3e8-b1b9-d3cb-570f05449046.png)\n\n\u3057\u304b\u3057\u3001\u5fae\u52d5\u3060\u306b\u3057\u306a\u3044\u3093\u3067\u9762\u767d\u307f\u306b\u6b20\u3051\u307e\u3059\u306d\u3002\n\u6b21\u56de\u306f\u8ab0\u304b\u306e\u30d0\u30c3\u30b0\u306b\u5fcd\u3070\u305b\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3059\u30fb\u30fb\u30fb\u3002\n", "tags": ["Trackrr.io", "GPS", "IoT", "Node.js", "RaspberryPi"]}