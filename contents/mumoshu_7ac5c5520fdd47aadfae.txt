{"context": "\n\n\u5404Table\u306e\u6a29\u9650\u60c5\u5831\u3092\u78ba\u8a8d\n\u6a29\u9650\u3068\u306f\u3001\u30aa\u30fc\u30ca\u30fc\u3001\u30aa\u30fc\u30ca\u30fc\u4ee5\u5916\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30e6\u30fc\u30b6\u30fb\u30ed\u30fc\u30eb\u3068\u305d\u306e\u7bc4\u56f2\u306e\u3053\u3068\n\\dp\n\n\n\u5404Schema\u306e\u6a29\u9650\u60c5\u5831\u3092\u78ba\u8a8d\n\\dn+\n\n\n\u30ed\u30fc\u30eb\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\n\\du\n\u307e\u305f\u306f\n\\dg\n\n\nDefault Privilege\u306e\u78ba\u8a8d\nSELECT \n  nspname,         -- schema name\n  defaclobjtype,   -- object type\n  defaclacl        -- default access privileges\nFROM pg_default_acl a JOIN pg_namespace b ON a.defaclnamespace=b.oid;\n\n\u53c2\u8003: http://stackoverflow.com/questions/14555062/display-default-access-privileges-for-relations-sequences-and-functions-in-post\n\n\u30ab\u30e9\u30e0\u6570\u306e\u591a\u3044\u30c6\u30fc\u30d6\u30eb\u3078\u306eselect\u7d50\u679c\u3092\u898b\u3084\u3059\u304f\u8868\u793a\nmysql\u3060\u3068\\G\u3092\u4f7f\u3046\u5834\u9762\u3067\u3001Postgres/Redshift\u3060\u3068\u3069\u3046\u3059\u308b\u304b?\n\\x on\n//\u307e\u305f\u306f\\x auto\n\nselect...\n\nhttp://stackoverflow.com/questions/9604723/alternate-output-format-for-psql\n\nDescribe Table?\n\\d+ tablename\n\npsql -E '\\d+ tablename'\n\nhttp://stackoverflow.com/questions/109325/postgresql-describe-table\n\nshow create table?\npg_dump -h <\u30db\u30b9\u30c8> -p 5439 -U <\u30e6\u30fc\u30b6> -d <DB\u540d> --schema-only --table <schema\u540d>.<\u30c6\u30fc\u30d6\u30eb\u540d>\n\n\nAWS DMS\u306e\u30a8\u30e9\u30fc\u30ed\u30b0\u3092\u95b2\u89a7\nselect * from STL_LOAD_ERRORS where query=<\u30af\u30a8\u30eaID>;\nselect * from STL_LOADERROR_DETAIL where query=<\u30af\u30a8\u30eaID>;\n\n\u76f4\u8fd1\u306e\u30a8\u30e9\u30fc\u3092\u3060\u3044\u305f\u3044\u3044\u3044\u611f\u3058\u306b\u95b2\u89a7\u3059\u308b\u305f\u3081\u306e\u30af\u30a8\u30ea\nselect\n  a.query,\n  btrim(querytxt) as querytxt,\n  btrim(err_reason) as err_reason,\n  btrim(line_number) as line_number,\n  position,\n  colname,\n  type,\n  btrim(raw_line) as raw_line,\n  btrim(raw_field_value) as raw_field_value,\n  len(btrim(raw_field_value)) as len,\n  btrim(filename) as filename\nfrom stl_load_errors a\njoin stl_query b on a.query = b.query\norder by a.query desc limit 10;\n\n\nAlter\u3044\u308d\u3044\u308d\nALTER TABLE mytable RENAME TO foo;\nALTER TABLE mytable OWNER TO myowner;\n\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\nhttps://www.periscopedata.com/blog/hashing-tables-to-ensure-consistency-in-postgres-redshift-and-mysql.html\n\nRedshift\u306e\u30a8\u30e9\u30fc\u30ed\u30b0\u304c\u8a18\u9332\u3055\u308c\u308b\u30c6\u30fc\u30d6\u30eb\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_intro_STL_tables.html\n\nCOPY\u6587\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\nhttp://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-conversion.html#copy-truncatecolumns\n## \u5404Table\u306e\u6a29\u9650\u60c5\u5831\u3092\u78ba\u8a8d\n\n\u6a29\u9650\u3068\u306f\u3001\u30aa\u30fc\u30ca\u30fc\u3001\u30aa\u30fc\u30ca\u30fc\u4ee5\u5916\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30e6\u30fc\u30b6\u30fb\u30ed\u30fc\u30eb\u3068\u305d\u306e\u7bc4\u56f2\u306e\u3053\u3068\n\n```\n\\dp\n```\n\n## \u5404Schema\u306e\u6a29\u9650\u60c5\u5831\u3092\u78ba\u8a8d\n\n```\n\\dn+\n```\n\n## \u30ed\u30fc\u30eb\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\n\n```\n\\du\n\u307e\u305f\u306f\n\\dg\n```\n\n## Default Privilege\u306e\u78ba\u8a8d\n\n```\nSELECT \n  nspname,         -- schema name\n  defaclobjtype,   -- object type\n  defaclacl        -- default access privileges\nFROM pg_default_acl a JOIN pg_namespace b ON a.defaclnamespace=b.oid;\n```\n\n\u53c2\u8003: http://stackoverflow.com/questions/14555062/display-default-access-privileges-for-relations-sequences-and-functions-in-post\n\n## \u30ab\u30e9\u30e0\u6570\u306e\u591a\u3044\u30c6\u30fc\u30d6\u30eb\u3078\u306eselect\u7d50\u679c\u3092\u898b\u3084\u3059\u304f\u8868\u793a\n\nmysql\u3060\u3068`\\G`\u3092\u4f7f\u3046\u5834\u9762\u3067\u3001Postgres/Redshift\u3060\u3068\u3069\u3046\u3059\u308b\u304b?\n\n```\n\\x on\n//\u307e\u305f\u306f\\x auto\n\nselect...\n```\n\nhttp://stackoverflow.com/questions/9604723/alternate-output-format-for-psql\n\n## Describe Table?\n\n\n```\n\\d+ tablename\n```\n\n```\npsql -E '\\d+ tablename'\n```\n\nhttp://stackoverflow.com/questions/109325/postgresql-describe-table\n\n## show create table?\n\n```\npg_dump -h <\u30db\u30b9\u30c8> -p 5439 -U <\u30e6\u30fc\u30b6> -d <DB\u540d> --schema-only --table <schema\u540d>.<\u30c6\u30fc\u30d6\u30eb\u540d>\n```\n\n## AWS DMS\u306e\u30a8\u30e9\u30fc\u30ed\u30b0\u3092\u95b2\u89a7\n\n```\nselect * from STL_LOAD_ERRORS where query=<\u30af\u30a8\u30eaID>;\nselect * from STL_LOADERROR_DETAIL where query=<\u30af\u30a8\u30eaID>;\n```\n\n\u76f4\u8fd1\u306e\u30a8\u30e9\u30fc\u3092\u3060\u3044\u305f\u3044\u3044\u3044\u611f\u3058\u306b\u95b2\u89a7\u3059\u308b\u305f\u3081\u306e\u30af\u30a8\u30ea\n\n```\nselect\n  a.query,\n  btrim(querytxt) as querytxt,\n  btrim(err_reason) as err_reason,\n  btrim(line_number) as line_number,\n  position,\n  colname,\n  type,\n  btrim(raw_line) as raw_line,\n  btrim(raw_field_value) as raw_field_value,\n  len(btrim(raw_field_value)) as len,\n  btrim(filename) as filename\nfrom stl_load_errors a\njoin stl_query b on a.query = b.query\norder by a.query desc limit 10;\n```\n\n## Alter\u3044\u308d\u3044\u308d\n\n```\nALTER TABLE mytable RENAME TO foo;\nALTER TABLE mytable OWNER TO myowner;\n```\n\n## \u30c6\u30fc\u30d6\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u30b5\u30e0\n\nhttps://www.periscopedata.com/blog/hashing-tables-to-ensure-consistency-in-postgres-redshift-and-mysql.html\n\n## Redshift\u306e\u30a8\u30e9\u30fc\u30ed\u30b0\u304c\u8a18\u9332\u3055\u308c\u308b\u30c6\u30fc\u30d6\u30eb\n\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_intro_STL_tables.html\n\n## COPY\u6587\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\n\nhttp://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-conversion.html#copy-truncatecolumns\n", "tags": ["PostgreSQL", "redshift"]}