{"context": " More than 1 year has passed since last update.\u5f53\u8a18\u4e8b\u306f\u30b1\u30fc\u30b9\u30b9\u30bf\u30c7\u30a3\u306e\u9023\u8f09\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u76ee\u6b21\u306f\u3010\u3053\u3061\u3089\u3011\u3067\u3059\u3002\n\u6700\u65b0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f\u3010GitHub\u3011\u3067\u516c\u958b\u4e2d\u3067\u3059\u3002\n\u30b5\u30fc\u30d0\u306e\u8cac\u52d9\u306f\u3053\u3061\u3089\u3067\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002\n\n1.\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u21d2\u30ea\u30e2\u30fc\u30c8\u30b3\u30d4\u30fc\u8a2d\u5b9a\u6982\u8981\nAnsible\u7ba1\u7406\u7aef\u672b(manageterm)\u306b\u3042\u308byum\u3067\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u306a\u3044\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3084\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7b49\u306f\u300cmanageterm\u300d\u306b\u4e8b\u524d\u306b\u4f5c\u6210\u3057\u3066\u304a\u304d\u300cadminserv01\u300d\u306b\u4e00\u65e6\u9001\u308b\u3002\n\n\n2.playbook\u30d5\u30a1\u30a4\u30eb\u306e\u76f8\u95a2\n\u4ee5\u4e0b\u306b\u300cmanageterm\u300d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u3092\u793a\u3059\u3002\n\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3084OS\u5358\u4f4d\u306binstaller/settings/firewalld\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u4e2d\u306bZIP\u30d5\u30a1\u30a4\u30eb\u3084\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3002\noutput\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u307f\u7279\u5225\u3067\u5f8c\u8ff0\u3059\u308bopenvpn\u3067\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3092\u914d\u7f6e\u3059\u308b\u3002\n\n\n3.playbook(site.yml)\n${ANSIBLE_HOME}/site.yml\n\u30e1\u30a4\u30f3\u3068\u306a\u308bplaybook(site.yml)\u53c2\u7167\n\n4.\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u3078\u306e\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u306eplaybook(/operations/0071_filescopy.yml)\n${ANSIBLE_HOME}/operations/0071_filescopy.yml\n# ===================\n# \u30ed\u30fc\u30ab\u30eb(manageterm)\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092adminserv01\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n# (\u5f8c\u7a0badminserv01\u306bNFS\u30b5\u30fc\u30d0\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n# \u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u306a\u3093\u3067\u3059\u304c\u5b9f\u969b\u306f\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30b5\u30fc\u30d0\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u5834\u5408\u306f\n# rsync\u3092\u4f7f\u7528\u3057\u305f\u65b9\u304c\u7c21\u5358\u3067\u3059\u306d\u3002\n# ===================\n- hosts: adminserv01\n  sudo: no\n  vars_files:\n    - ../vars/filedir.yml\n  remote_user: root\n  tasks:\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bJDK\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: JAVA\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/java/installer/ follow=no recurse=yes  #\u30104.A:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\u3011\n    - file: state=directory path=/var/opt/data/nfs/java/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/java/installer/ dest=/var/opt/data/nfs/java/installer/.  #\u30104.B:\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u306e\u30b5\u30fc\u30d0\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3011\n    -  copy: src=../sendfiles/java/settings/ dest=/var/opt/data/nfs/java/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bTOMCAT\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: TOMCAT\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/tomcat/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/tomcat/settings/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/tomcat/firewalld/ follow=no recurse=yes\n    -  copy: src=../sendfiles/tomcat/installer/ dest=/var/opt/data/nfs/tomcat/installer/.\n    -  copy: src=../sendfiles/tomcat/settings/ dest=/var/opt/data/nfs/tomcat/settings/.\n    -  copy: src=../sendfiles/tomcat/firewalld/ dest=/var/opt/data/nfs/tomcat/firewalld/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bSelenium\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: Selnium\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/selenium/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/selenium/settings/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/selenium/firewalld/ follow=no recurse=yes\n    -  copy: src=../sendfiles/selenium/installer/ dest=/var/opt/data/nfs/selenium/installer/.\n    -  copy: src=../sendfiles/selenium/settings/ dest=/var/opt/data/nfs/selenium/settings/.\n    -  copy: src=../sendfiles/selenium/firewalld/ dest=/var/opt/data/nfs/selenium/firewalld/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bJenkins\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: JENKINS\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/jenkins_mvn/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/jenkins_mvn/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/jenkins_mvn/installer/ dest=/var/opt/data/nfs/jenkins_mvn/installer/.\n    -  copy: src=../sendfiles/jenkins_mvn/settings/ dest=/var/opt/data/nfs/jenkins_mvn/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bnfs exports\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: NFS\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/nfs/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/nfs/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/nfs/installer/ dest=/var/opt/data/nfs/nfs/installer/.\n    -  copy: src=../sendfiles/nfs/settings/ dest=/var/opt/data/nfs/nfs/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306b\n# NMON\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: OS\u95a2\u4fc2:NMON, \u74b0\u5883\u5909\u6570\u306e\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/os/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/os/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/os/installer/ dest=/var/opt/data/nfs/os/installer/.\n    -  copy: src=../sendfiles/os/settings/ dest=/var/opt/data/nfs/os/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306b\n# Apache\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: \u30a2\u30d1\u30c3\u30c1\u95a2\u4fc2:\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u30b3\u30d4\u30fc/\u79d8\u5bc6\u9375/SSL\u8a2d\u5b9a/apj\u8a2d\u5b9a\n      file: state=directory path=/var/opt/data/nfs/apache/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/apache/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/apache/installer/ dest=/var/opt/data/nfs/apache/installer/.\n    -  copy: src=../sendfiles/apache/settings/ dest=/var/opt/data/nfs/apache/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bMariaDB(MySQL)\n# \u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: MarinaDB(MySQL)\u95a2\u4fc2:my.conf\n      file: state=directory path=/var/opt/data/nfs/mysql/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/mysql/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/mysql/installer/ dest=/var/opt/data/nfs/mysql/installer/.\n    -  copy: src=../sendfiles/mysql/settings/ dest=/var/opt/data/nfs/mysql/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bopenvpn\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: openvpn\u95a2\u4fc2\n      file: state=directory path=/var/opt/data/nfs/openvpn/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/openvpn/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/openvpn/installer/ dest=/var/opt/data/nfs/openvpn/installer/.\n    -  copy: src=../sendfiles/openvpn/settings/ dest=/var/opt/data/nfs/openvpn/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306b\n# OpenVPN\u3067\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3092\u4fdd\u5b58\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u3092\u30b3\u30d4\u30fc\u3059\u308b\n# ===================\n    - name: OpenVPN\u306b\u3066\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3092\u51fa\u529b\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n      file: state=directory path=/var/opt/data/nfs/output follow=no recurse=yes\n\n# ===================\n# NFS\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(/var/opt/data/nfs)\u914d\u4e0b\u306e\u30aa\u30fc\u30ca\u30fc/\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\n# \u3092\u518d\u5e30\u7684\u306binfra/infra 755\u306b\u5909\u66f4\u3059\u308b\n# ===================\n    - file: group={{path.dir.nfs_root.group}}\n            mode={{path.dir.nfs_root.permision}}\n            owner={{path.dir.nfs_root.user}}\n            path={{path.dir.nfs_root.path}}\n            state={{path.dir.nfs_root.state}}\n            recurse=true\n\n\n5.\u5909\u6570\u8a2d\u5b9aplaybook(/vars/filedir.yml)\n${ANSIBLE_HOME}/vars/filedir.yml\n\u524d\u56de\u306eplaybook(/vars/filedir.yml)\u3092\u53c2\u7167\u3002\n\n6.\u88dc\u8db3\u8aac\u660e\n4.\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u3078\u306e\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u306eplaybook(/operations/0071_filescopy.yml)\u5185\u306e\u30b3\u30e1\u30f3\u30c8\uff08#\u30104.A:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\u3011\uff09\u53ca\u3073\uff08#\u30104.B:\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u306e\u30b5\u30fc\u30d0\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3011\uff09\u306b\u3064\u3044\u3066\u3002\n4.A file\u30e2\u30b8\u30e5\u30fc\u30eb\u88dc\u8db3\n\nfile: state=directory path=/var/opt/data/nfs/java/installer/ follow=no recurse=yes  #==>\u30104.A:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\u3011\n\n208.\u5fc5\u8981\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u30aa\u30fc\u30ca\u30fc\u3068\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\u306e\u88dc\u8db3\u8aac\u660e\u3067\u3082\u8aac\u660e\u3057\u305ffile\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u65b0\u305f\u306b\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u3044\u304f\u3002\n\n\nfile\u30e2\u30b8\u30e5\u30fc\u30eb(0071_filescopy.yml\u5185\u30b3\u30e1\u30f3\u30c8\u30104.A\u3011\u3088\u308a)\n\n\n\n\n\u540d\u524d\n\u8aac\u660e\n\u88dc\u8db3\n\n\n\n\nrecurse\nstate\u304cdirectory\u306e\u5834\u5408\u518d\u5e30\u7684\u306b\u5909\u66f4\nchmod -Rchown -R\n\n\n\n\u65e2\u306b\u8a72\u5f53\u306epath\u304c\u3042\u308b\u5834\u5408\u306f\u4f55\u3082\u3057\u306a\u3044\n\n\n\n\n4.B copy\u30e2\u30b8\u30e5\u30fc\u30eb\u88dc\u8db3\n\ncopy: src=../sendfiles/java/installer/ dest=/var/opt/data/nfs/java/installer/.  #\u30104.B:\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u306e\u30b5\u30fc\u30d0\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3011\n\ncopy\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u540d\u524d\u304b\u3089\u3059\u308b\u3068\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u5185\u3067\u306e\u30b3\u30d4\u30fc\u3068\u52d8\u9055\u3044\u3057\u305d\u3046\u3060\u304c\u3001\u5b9f\u969b\u306fAnsible\u3092\u64cd\u4f5c\u3057\u3066\u3044\u308b\u30ed\u30fc\u30ab\u30eb\u7aef\u672b\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u306e\u30b5\u30fc\u30d0\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\n\ncopy\u30e2\u30b8\u30e5\u30fc\u30eb(0071_filescopy.yml\u5185\u30b3\u30e1\u30f3\u30c8\u30104.B\u3011\u3088\u308a)\n\n\n\n\n\u540d\u524d\n\u8aac\u660e\n\u88dc\u8db3\n\n\n\n\nsrc\n\u30b3\u30d4\u30fc\u5143\nchmod -Rchown -R\n\n\ndest\n\u30b3\u30d4\u30fc\u5148\n\u30ea\u30e2\u30fc\u30c8\u306e\u30d1\u30b9\u3092\u6307\u5b9a\n\n\n\nscp\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u4f8b\u3092\u30a4\u30e1\u30fc\u30b8\u3059\u308b\u3068\u5206\u304b\u308a\u6613\u3044\u3068\u601d\u3046\u3002\n\u4f8b\uff1a(scp \u30b3\u30d4\u30fc\u5143 \u30b3\u30d4\u30fc\u5148\u30b5\u30fc\u30d0:\u30d1\u30b9)\n\nscp  /tmp/abc  adminser01:/tmp/aaa\n\n\u6b21\u56de\u306f\u300c210.HOSTS\u3092\u8a2d\u5b9a\u3059\u308b\u300d\u306b\u3064\u3044\u3066\u3002\n\u9023\u8f09\u306e\u76ee\u6b21\u306f\u3010\u3053\u3061\u3089\u3011\u3067\u3059\u3002\n<b><font color=\"#ff6633\">\u5f53\u8a18\u4e8b\u306f\u30b1\u30fc\u30b9\u30b9\u30bf\u30c7\u30a3\u306e\u9023\u8f09\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u76ee\u6b21\u306f[\u3010\u3053\u3061\u3089\u3011](http://qiita.com/CsFactoryitter/items/6b8308b96afafd61ce5f\n)\u3067\u3059\u3002</font></b>\n<b><font color=\"#ff6633\">\u6700\u65b0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f[\u3010GitHub\u3011](https://github.com/csfactorygihubblog001/blogansible)\u3067\u516c\u958b\u4e2d\u3067\u3059\u3002</font></b>\n\u30b5\u30fc\u30d0\u306e\u8cac\u52d9\u306f<b>[\u3053\u3061\u3089](http://qiita.com/CsFactoryitter/items/032cc339048e52ee3586)</b>\u3067\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002\n\n##1.\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u21d2\u30ea\u30e2\u30fc\u30c8\u30b3\u30d4\u30fc\u8a2d\u5b9a\u6982\u8981\nAnsible\u7ba1\u7406\u7aef\u672b(manageterm)\u306b\u3042\u308byum\u3067\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u306a\u3044\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3084\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7b49\u306f\u300cmanageterm\u300d\u306b\u4e8b\u524d\u306b\u4f5c\u6210\u3057\u3066\u304a\u304d\u300cadminserv01\u300d\u306b\u4e00\u65e6\u9001\u308b\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/98085/c9522c5e-793b-fe8b-81fa-43647e9cb3f1.png)\n\n##2.playbook\u30d5\u30a1\u30a4\u30eb\u306e\u76f8\u95a2\n\n\u4ee5\u4e0b\u306b\u300cmanageterm\u300d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u3092\u793a\u3059\u3002\n\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u3084OS\u5358\u4f4d\u306binstaller/settings/firewalld\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u4e2d\u306bZIP\u30d5\u30a1\u30a4\u30eb\u3084\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3002\noutput\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u307f\u7279\u5225\u3067\u5f8c\u8ff0\u3059\u308bopenvpn\u3067\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3092\u914d\u7f6e\u3059\u308b\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/98085/8197a655-86eb-293b-c9a0-85e21811ec98.png)\n\n##3.playbook(site.yml)\n${ANSIBLE_HOME}/site.yml\n[\u30e1\u30a4\u30f3\u3068\u306a\u308bplaybook(site.yml)](http://qiita.com/CsFactoryitter/items/3112c6d504d3b5a58011#3%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%A8%E3%81%AA%E3%82%8Bplaybooksiteyml)\u53c2\u7167\n\n##4.\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u3078\u306e\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u306eplaybook(/operations/0071_filescopy.yml) \n${ANSIBLE_HOME}/operations/0071_filescopy.yml\n\n```yaml:\n# ===================\n# \u30ed\u30fc\u30ab\u30eb(manageterm)\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092adminserv01\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n# (\u5f8c\u7a0badminserv01\u306bNFS\u30b5\u30fc\u30d0\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n# \u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u306a\u3093\u3067\u3059\u304c\u5b9f\u969b\u306f\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30b5\u30fc\u30d0\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u5834\u5408\u306f\n# rsync\u3092\u4f7f\u7528\u3057\u305f\u65b9\u304c\u7c21\u5358\u3067\u3059\u306d\u3002\n# ===================\n- hosts: adminserv01\n  sudo: no\n  vars_files:\n    - ../vars/filedir.yml\n  remote_user: root\n  tasks:\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bJDK\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: JAVA\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/java/installer/ follow=no recurse=yes  #\u30104.A:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\u3011\n    - file: state=directory path=/var/opt/data/nfs/java/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/java/installer/ dest=/var/opt/data/nfs/java/installer/.  #\u30104.B:\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u306e\u30b5\u30fc\u30d0\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3011\n    -  copy: src=../sendfiles/java/settings/ dest=/var/opt/data/nfs/java/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bTOMCAT\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: TOMCAT\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/tomcat/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/tomcat/settings/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/tomcat/firewalld/ follow=no recurse=yes\n    -  copy: src=../sendfiles/tomcat/installer/ dest=/var/opt/data/nfs/tomcat/installer/.\n    -  copy: src=../sendfiles/tomcat/settings/ dest=/var/opt/data/nfs/tomcat/settings/.\n    -  copy: src=../sendfiles/tomcat/firewalld/ dest=/var/opt/data/nfs/tomcat/firewalld/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bSelenium\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: Selnium\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/selenium/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/selenium/settings/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/selenium/firewalld/ follow=no recurse=yes\n    -  copy: src=../sendfiles/selenium/installer/ dest=/var/opt/data/nfs/selenium/installer/.\n    -  copy: src=../sendfiles/selenium/settings/ dest=/var/opt/data/nfs/selenium/settings/.\n    -  copy: src=../sendfiles/selenium/firewalld/ dest=/var/opt/data/nfs/selenium/firewalld/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bJenkins\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: JENKINS\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/jenkins_mvn/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/jenkins_mvn/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/jenkins_mvn/installer/ dest=/var/opt/data/nfs/jenkins_mvn/installer/.\n    -  copy: src=../sendfiles/jenkins_mvn/settings/ dest=/var/opt/data/nfs/jenkins_mvn/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bnfs exports\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: NFS\u95a2\u9023\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/nfs/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/nfs/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/nfs/installer/ dest=/var/opt/data/nfs/nfs/installer/.\n    -  copy: src=../sendfiles/nfs/settings/ dest=/var/opt/data/nfs/nfs/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306b\n# NMON\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: OS\u95a2\u4fc2:NMON, \u74b0\u5883\u5909\u6570\u306e\u30b3\u30d4\u30fc\n      file: state=directory path=/var/opt/data/nfs/os/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/os/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/os/installer/ dest=/var/opt/data/nfs/os/installer/.\n    -  copy: src=../sendfiles/os/settings/ dest=/var/opt/data/nfs/os/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306b\n# Apache\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: \u30a2\u30d1\u30c3\u30c1\u95a2\u4fc2:\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u30b3\u30d4\u30fc/\u79d8\u5bc6\u9375/SSL\u8a2d\u5b9a/apj\u8a2d\u5b9a\n      file: state=directory path=/var/opt/data/nfs/apache/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/apache/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/apache/installer/ dest=/var/opt/data/nfs/apache/installer/.\n    -  copy: src=../sendfiles/apache/settings/ dest=/var/opt/data/nfs/apache/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bMariaDB(MySQL)\n# \u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: MarinaDB(MySQL)\u95a2\u4fc2:my.conf\n      file: state=directory path=/var/opt/data/nfs/mysql/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/mysql/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/mysql/installer/ dest=/var/opt/data/nfs/mysql/installer/.\n    -  copy: src=../sendfiles/mysql/settings/ dest=/var/opt/data/nfs/mysql/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306bopenvpn\u3092\u914d\u7f6e\u3059\u308b\u70ba\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n# \u4f5c\u6210\u3057\u305f\u3089\u30c7\u30a3\u30ec\u30af\u30ea\u306b\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3068\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068firewalld\u8a2d\u5b9a\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n# ===================\n    - name: openvpn\u95a2\u4fc2\n      file: state=directory path=/var/opt/data/nfs/openvpn/installer/ follow=no recurse=yes\n    - file: state=directory path=/var/opt/data/nfs/openvpn/settings/ follow=no recurse=yes\n    -  copy: src=../sendfiles/openvpn/installer/ dest=/var/opt/data/nfs/openvpn/installer/.\n    -  copy: src=../sendfiles/openvpn/settings/ dest=/var/opt/data/nfs/openvpn/settings/.\n\n# ===================\n# adminserv01\u306eNFS\u5171\u6709\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(NFS\u8d77\u52d5\u524d)\u306b\n# OpenVPN\u3067\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3092\u4fdd\u5b58\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u3092\u30b3\u30d4\u30fc\u3059\u308b\n# ===================\n    - name: OpenVPN\u306b\u3066\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a3c\u660e\u66f8\u3092\u51fa\u529b\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4f5c\u6210\n      file: state=directory path=/var/opt/data/nfs/output follow=no recurse=yes\n\n# ===================\n# NFS\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(/var/opt/data/nfs)\u914d\u4e0b\u306e\u30aa\u30fc\u30ca\u30fc/\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\n# \u3092\u518d\u5e30\u7684\u306binfra/infra 755\u306b\u5909\u66f4\u3059\u308b\n# ===================\n    - file: group={{path.dir.nfs_root.group}}\n            mode={{path.dir.nfs_root.permision}}\n            owner={{path.dir.nfs_root.user}}\n            path={{path.dir.nfs_root.path}}\n            state={{path.dir.nfs_root.state}}\n            recurse=true\n```\n\n##5.\u5909\u6570\u8a2d\u5b9aplaybook(/vars/filedir.yml)\n\n${ANSIBLE_HOME}/vars/filedir.yml\n\n\u524d\u56de\u306e[playbook(/vars/filedir.yml)](http://qiita.com/CsFactoryitter/items/8e0db53921807a6ff409#4%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%83%91%E3%83%BC%E3%83%9F%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E8%A8%AD%E5%AE%9A%E3%81%AEplaybookoperations0061_filediryml)\u3092\u53c2\u7167\u3002\n\n\n##6.\u88dc\u8db3\u8aac\u660e\n[4.\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u3078\u306e\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u306eplaybook(/operations/0071_filescopy.yml)](#4%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%8B%E3%82%89%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%81%B8%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E8%BB%A2%E9%80%81%E3%81%AEplaybookoperations0071_filescopyyml)\u5185\u306e\u30b3\u30e1\u30f3\u30c8\uff08#\u30104.A:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\u3011\uff09\u53ca\u3073\uff08#\u30104.B:\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u306e\u30b5\u30fc\u30d0\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3011\uff09\u306b\u3064\u3044\u3066\u3002\n\n4.A file\u30e2\u30b8\u30e5\u30fc\u30eb\u88dc\u8db3\n\n>\nfile: state=directory path=/var/opt/data/nfs/java/installer/ follow=no recurse=yes  #==>\u30104.A:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\u3011\n\n[208.\u5fc5\u8981\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u30aa\u30fc\u30ca\u30fc\u3068\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\u306e\u88dc\u8db3\u8aac\u660e](http://qiita.com/CsFactoryitter/items/8e0db53921807a6ff409)\u3067\u3082\u8aac\u660e\u3057\u305ffile\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3001\u65b0\u305f\u306b\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u3044\u304f\u3002\n\n<dl>\n<dt><font color=\"#0066ff\">file\u30e2\u30b8\u30e5\u30fc\u30eb</font>(0071_filescopy.yml\u5185\u30b3\u30e1\u30f3\u30c8\u30104.A\u3011\u3088\u308a)</dt>\n</dl>\n\n|\u540d\u524d|\u8aac\u660e|\u88dc\u8db3|\n|:------|:------|:------|\n|recurse|state\u304cdirectory\u306e\u5834\u5408<br>\u518d\u5e30\u7684\u306b\u5909\u66f4|chmod -R<br>chown -R|\n||\u65e2\u306b\u8a72\u5f53\u306epath\u304c\u3042\u308b\u5834\u5408\u306f\u4f55\u3082\u3057\u306a\u3044|\n\n4.B copy\u30e2\u30b8\u30e5\u30fc\u30eb\u88dc\u8db3\n\n>\ncopy: src=../sendfiles/java/installer/ dest=/var/opt/data/nfs/java/installer/.  #\u30104.B:\u30ed\u30fc\u30ab\u30eb(manageterm)\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u306e\u30b5\u30fc\u30d0\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3011\n\ncopy\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u540d\u524d\u304b\u3089\u3059\u308b\u3068\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u5185\u3067\u306e\u30b3\u30d4\u30fc\u3068\u52d8\u9055\u3044\u3057\u305d\u3046\u3060\u304c\u3001\u5b9f\u969b\u306fAnsible\u3092\u64cd\u4f5c\u3057\u3066\u3044\u308b\u30ed\u30fc\u30ab\u30eb\u7aef\u672b\u304b\u3089\u30ea\u30e2\u30fc\u30c8\u306e\u30b5\u30fc\u30d0\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\n<dl>\n<dt><font color=\"#0066ff\">copy\u30e2\u30b8\u30e5\u30fc\u30eb</font>(0071_filescopy.yml\u5185\u30b3\u30e1\u30f3\u30c8\u30104.B\u3011\u3088\u308a)</dt>\n</dl>\n\n|\u540d\u524d|\u8aac\u660e|\u88dc\u8db3|\n|:------|:------|:------|\n|src|\u30b3\u30d4\u30fc\u5143|chmod -R<br>chown -R|\n|dest|\u30b3\u30d4\u30fc\u5148|\u30ea\u30e2\u30fc\u30c8\u306e\u30d1\u30b9\u3092\u6307\u5b9a|\n\nscp\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u4f8b\u3092\u30a4\u30e1\u30fc\u30b8\u3059\u308b\u3068\u5206\u304b\u308a\u6613\u3044\u3068\u601d\u3046\u3002\n\n\u4f8b\uff1a(scp \u30b3\u30d4\u30fc\u5143 \u30b3\u30d4\u30fc\u5148\u30b5\u30fc\u30d0:\u30d1\u30b9)\n\n>scp  /tmp/abc  adminser01:/tmp/aaa\n\n\u6b21\u56de\u306f\u300c[210.HOSTS\u3092\u8a2d\u5b9a\u3059\u308b](http://qiita.com/CsFactoryitter/items/087cac080a7a422697cd)\u300d\u306b\u3064\u3044\u3066\u3002\n\n<b><font color=\"#ff6633\">\u9023\u8f09\u306e\u76ee\u6b21\u306f[\u3010\u3053\u3061\u3089\u3011](http://qiita.com/CsFactoryitter/items/6b8308b96afafd61ce5f)\u3067\u3059\u3002</font></b>\n", "tags": ["Ansible", "centos7", "File", "ansible-playbook", "YAML"]}