{"context": " More than 1 year has passed since last update.\nMulti-Model Database \u2014 FoundationDB\n\u6bce\u79d21400\u4e07\u56de\u306e\u30e9\u30a4\u30c8(write)\u3092\u884c\u3046NoSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9FoundationDB\u3001ACID\u306e\u6761\u4ef6\u3082\u6e80\u305f\u3059 - TechCrunch\nFoundationDB\u306eNoSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304cACID\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u30b5\u30dd\u30fc\u30c8\n\nFoundationDB \u3068\u3044\u3046\u306e\u304c TL \u306b\u6d41\u308c\u3066\u304d\u3066\u3001\u8aad\u3093\u3067\u305f\u3089\u9762\u767d\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u89e6\u3063\u3066\u307f\u305f\u3002\u305f\u3060\u89e6\u308b\u3060\u3051\u3060\u3068\u9762\u767d\u304f\u306a\u3044\u306e\u3067 Django \u7d4c\u7531\u3067\u89e6\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3002\n\n\u7d50\u8ad6\nDjango 1.6 \u7cfb\u3067\u3061\u3083\u3093\u3068 python manage.py syncdb \u3057\u3066\u30c7\u30fc\u30bf\u304c\u5165\u308b\u3002\u3053\u308c\u306f\u3059\u3070\u3089\u3057\u3044\u3002\n\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u51fa\u3057\u3082\u554f\u984c\u306a\u3044\u3002\u4f55\u304b\u610f\u8b58\u3059\u308b\u5fc5\u8981\u3082\u306a\u3044\u306e\u3067\u826f\u3044\u611f\u3058\u3002\n\n\u6027\u80fd\u306f\u307e\u3060\n\n\n\u74b0\u5883\n\nMac OS X 10.9.5\nPython 2.7.9\n\nPython \u95a2\u9023\u306f\u3053\u306e\u8fba\u5165\u308c\u305f\nDjango==1.6.8\ndjango-fdbsql==1.1.0\npsycopg2==2.5.4\n\npsycopg2 \u306f MacPorts \u3067 postgresql93 \u304c\u5165\u3063\u3066\u3044\u308b\u72b6\u6cc1\u3067 ... \n$ PATH=$PATH:/opt/local/lib/postgresql93/bin/\n\n\u3057\u3066\u304b\u3089 pip install psycopg2 \u3057\u306a\u3044\u3068\u30c0\u30e1\u3002\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nFoundationDB \u7cfb\u306f\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306b\u306f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u304c\u5fc5\u8981\n\u3061\u306a\u307f\u306b\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u7248\u306f\u30d7\u30ed\u30bb\u30b9\u6570\u306e\u5236\u9650\u304c\u3042\u3063\u3066\u3001\u958b\u767a\u3067\u306f\u7121\u5236\u9650\u3002\u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u3060\u3068 6 \u30d7\u30ed\u30bb\u30b9\u307e\u3067\u3002\n\nFoundationDB-3.0.4.pkg\n\n\nhttps://foundationdb.com/get#osx\n\n\nfdb-sql-layer-2.0.2-1.pkg\n\n\nhttps://foundationdb.com/layers/sql#sql-osx\n\n\n\n1.7 \u4ee5\u4e0a\u3068\u306e\u3053\u3068\u306a\u306e\u3067 Java \u3082\u5165\u308c\u305f\n\njdk-8u25-macosx-x64.dmg\n\n\nDjango \u3067\u89e6\u308b\nDATABASES = {\n        'default': {\n            'ENGINE': 'django_fdbsql',\n            'NAME':   'mysample',\n            'HOST':   'localhost',\n            'PORT':   '15432',\n            }\n        }\n\n\u3053\u308c\u3092\u8a2d\u5b9a\u3057\u3066\u3057\u307e\u3048\u3070\u3001\u3042\u3068\u306f syncdb \u3067\u3044\u3051\u308b\u3002\n$ python manage.py syncdb\nCreating tables ...\nCreating table django_admin_log\nCreating table auth_permission\nCreating table auth_group_permissions\nCreating table auth_group\nCreating table auth_user_groups\nCreating table auth_user_user_permissions\nCreating table auth_user\nCreating table django_content_type\nCreating table django_session\n\nYou just installed Django's auth system, which means you don't have any superusers defined.\nWould you like to create one now? (yes/no): yes\nUsername (leave blank to use 'voluntas'): voluntas\nEmail address: voluntas@example.com\nPassword:\nPassword (again):\nSuperuser created successfully.\nInstalling custom SQL ...\nInstalling indexes ...\nInstalled 0 object(s) from 0 fixture(s)\n\n\u7121\u4e8b\u51fa\u6765\u305f\u3002\u672c\u5f53\u306b\u5165\u3063\u3066\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002fdbsqlcli \u3068\u3044\u3046\u306e\u304c\u4ed8\u3044\u3066\u304f\u308b\u3002\n$ fdbsqlcli mysample\nfdbsql (driver 2.0, layer 2.0.2)\nmysample=> \\lt\n  Schema  |            Name            |             Group Path\n----------+----------------------------+-------------------------------------\n mysample | auth_group                 | mysample.auth_group\n mysample | auth_group_permissions     | mysample.auth_group_permissions\n mysample | auth_permission            | mysample.auth_permission\n mysample | auth_user                  | mysample.auth_user\n mysample | auth_user_groups           | mysample.auth_user_groups\n mysample | auth_user_user_permissions | mysample.auth_user_user_permissions\n mysample | django_admin_log           | mysample.django_admin_log\n mysample | django_content_type        | mysample.django_content_type\n mysample | django_session             | mysample.django_session\n(9 rows)\n\n\u5165\u3063\u3066\u305f\u3002\u898b\u3065\u3089\u3044\u3051\u3069\u3068\u308a\u3042\u3048\u305a\u8868\u793a\u3057\u3066\u307f\u308b\u3002\nmysample=> select id,email,is_staff,is_superuser,username from auth_user;\n id |        email         | is_staff | is_superuser | username\n----+----------------------+----------+--------------+----------\n  1 | voluntas@example.com | true     | true         | voluntas\n(1 row)\n\n\n\u30a2\u30d7\u30ea\u4f5c\u3063\u3066\u307f\u308b\n\u30b5\u30f3\u30d7\u30eb\u901a\u308a\u9032\u3081\u3066\u307f\u308b\u3002\n\u30a2\u30d7\u30ea\u4f5c\u3063\u3066\n$ python manage.py startapp caoi\n\nsettings.py \u306b\u8ffd\u52a0\u3059\u308b\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'caoi',\n)\n\n\u3067\u3001caoi/models.py \u4f5c\u308b\nfrom django.db import models\n\n\nclass Customer(models.Model):\n    info = models.CharField(max_length=100)\n    name = models.CharField(max_length=20)\n    birthday = models.DateField()\n    rand_val = models.IntegerField()\n\n    def __unicode__(self):\n        return \"id=%s, info='%s', name='%s', birthday='%s', rand_val=%s\" % (\n            self.id, self.info, self.name, self.birthday, self.rand_val\n        )\n\n\u3068\u308a\u3042\u3048\u305a sql \u898b\u3066\u307f\u308b\n$ python manage.py sql caoi\nBEGIN;\nCREATE TABLE \"caoi_customer\" (\n    \"id\" serial NOT NULL PRIMARY KEY,\n    \"info\" varchar(100) NOT NULL,\n    \"name\" varchar(20) NOT NULL,\n    \"birthday\" date NOT NULL,\n    \"rand_val\" integer NOT NULL\n)\n;\n\nCOMMIT;\n\ncaoi/models.py \u306b\u8272\u3005\u8db3\u3059\nfrom django.db import models\n\n\nclass Customer(models.Model):\n    info = models.CharField(max_length=100)\n    name = models.CharField(max_length=20)\n    birthday = models.DateField()\n    rand_val = models.IntegerField()\n\n    def __unicode__(self):\n        return \"id=%s, info='%s', name='%s', birthday='%s', rand_val=%s\" % (\n            self.id, self.info, self.name, self.birthday, self.rand_val\n        )\n\n\nclass Address(models.Model):\n    customer = models.ForeignKey(Customer)\n    info = models.CharField(max_length=100)\n    city = models.CharField(max_length=10)\n    state = models.CharField(max_length=2)\n\n    def __unicode__(self):\n        return \"id=%s, customer.id=%s, info='%s', city='%s', state='%s'\" % (\n            self.id, self.customer.id, self.info, self.city, self.state\n        )\n\n\nclass Order(models.Model):\n    customer = models.ForeignKey(Customer)\n    info = models.CharField(max_length=200)\n    date = models.DateField()\n\n    def __unicode__(self):\n        return \"id=%s, customer.id=%s, info='%s', date='%s'\" % (\n            self.id, self.customer.id, self.info, self.date\n        )\n\n\nclass Item(models.Model):\n    order = models.ForeignKey(Order)\n    price = models.DecimalField(max_digits=10, decimal_places=2)\n    quantity  = models.IntegerField()\n\n    def __unicode__(self):\n        return \"id=%s, order.id=%s, price=%s, quantity=%s\" % (\n            self.id, self.order.id, self.price, self.quantity\n        )\n\n\nsyncdb \u3059\u308b\n$ python manage.py syncdb\nCreating tables ...\nCreating table caoi_customer\nCreating table caoi_address\nCreating table caoi_order\nCreating table caoi_item\nInstalling custom SQL ...\nInstalling indexes ...\nInstalled 0 object(s) from 0 fixture(s)\n\n\u8ffd\u52a0\u3067\u304d\u305f\u3002\n\nmanage.py shell \u3067\u89e6\u3063\u3066\u307f\u308b\n\u8aad\u3093\u3060\u308a\u66f8\u3044\u305f\u308a\u3057\u3066\u307f\u308b\u3002\n$ python manage.py shell\nPython 2.7.9 (default, Dec 11 2014, 02:36:08)\nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 2.3.1 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: from caoi.models import Customer, Address, Order, Item\n\nIn [2]: import datetime\n\nIn [3]: c = Customer(info=\"Ed Jones\", name=\"ed\", rand_val=15, birthday=datetime.date(2018, 2, 25))\n\nIn [4]: c.save()\n\nIn [5]: a = Address(customer=c, info='614 Massachusetts Ave', city='Cambridge', state='MA')\n\nIn [6]: a.save()\n\nIn [7]: o = Order(customer=c, info='A large order', date=datetime.date(2018, 2, 25))\n\nIn [8]: o.save()\n\nIn [9]: i = Item(order=o, price = 15.5, quantity=2)\n\nIn [10]: i.save()\n\nIn [11]: Customer.objects.all()\nOut[11]: [<Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>]\n\nIn [12]: Item.objects.all()\nOut[12]: [<Item: id=1, order.id=1, price=15.50, quantity=2>]\n\nIn [13]: c = Customer.objects.all()[0]\n\nIn [14]: c.order_set.all()\nOut[14]: [<Order: id=1, customer.id=1, info='A large order', date='2018-02-25'>]\n\nIn [15]: o = Order.objects.all()[0]\n\nIn [16]: o.customer\nOut[16]: <Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>\n\nIn [17]: Customer.objects.filter(name=\"ed\")\nOut[17]: [<Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>]\n\nIn [18]: Customer.objects.filter(rand_val__gt=1)\nOut[18]: [<Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>]\n\nIn [19]: Customer.objects.filter(address__state='MA')\nOut[19]: [<Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>]\n\nIn [20]: Address.objects.filter(customer__name=\"ed\")\nOut[20]: [<Address: id=1, customer.id=1, info='614 Massachusetts Ave', city='Cambridge', state='MA'>]\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u3082\u898b\u3066\u307f\u308b\u3002\nfdbsqlcli mysample\nfdbsql (driver 2.0, layer 2.0.2)\nmysample=> \\lt\n  Schema  |            Name            |             Group Path\n----------+----------------------------+-------------------------------------\n mysample | auth_group                 | mysample.auth_group\n mysample | auth_group_permissions     | mysample.auth_group_permissions\n mysample | auth_permission            | mysample.auth_permission\n mysample | auth_user                  | mysample.auth_user\n mysample | auth_user_groups           | mysample.auth_user_groups\n mysample | auth_user_user_permissions | mysample.auth_user_user_permissions\n mysample | caoi_address               | mysample.caoi_address\n mysample | caoi_customer              | mysample.caoi_customer\n mysample | caoi_item                  | mysample.caoi_item\n mysample | caoi_order                 | mysample.caoi_order\n mysample | django_admin_log           | mysample.django_admin_log\n mysample | django_content_type        | mysample.django_content_type\n mysample | django_session             | mysample.django_session\n(13 rows)\n\nmysample=> SELECT * FROM caoi_address;\n id | customer_id |         info          |   city    | state\n----+-------------+-----------------------+-----------+-------\n  1 |           1 | 614 Massachusetts Ave | Cambridge | MA\n(1 row)\n\n\u3068\u304f\u306b\u554f\u984c\u306a\u3055\u305d\u3046\u3002\n\n\u53c2\u7167\n\nhttps://foundationdb.com/layers/sql/documentation/GettingStarted/Django.html\n\n\n- [Multi-Model Database \u2014 FoundationDB](https://foundationdb.com/)\n- [\u6bce\u79d21400\u4e07\u56de\u306e\u30e9\u30a4\u30c8(write)\u3092\u884c\u3046NoSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9FoundationDB\u3001ACID\u306e\u6761\u4ef6\u3082\u6e80\u305f\u3059 - TechCrunch](http://jp.techcrunch.com/2014/12/15/20141213foundationdb-and-the-new-nosql/)\n- [FoundationDB\u306eNoSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304cACID\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u3092\u30b5\u30dd\u30fc\u30c8](http://www.infoq.com/jp/news/2013/05/foundationdb-nosql-database)\n\nFoundationDB \u3068\u3044\u3046\u306e\u304c TL \u306b\u6d41\u308c\u3066\u304d\u3066\u3001\u8aad\u3093\u3067\u305f\u3089\u9762\u767d\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u89e6\u3063\u3066\u307f\u305f\u3002\u305f\u3060\u89e6\u308b\u3060\u3051\u3060\u3068\u9762\u767d\u304f\u306a\u3044\u306e\u3067 Django \u7d4c\u7531\u3067\u89e6\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3002\n\n## \u7d50\u8ad6\n\nDjango 1.6 \u7cfb\u3067\u3061\u3083\u3093\u3068 python manage.py syncdb \u3057\u3066\u30c7\u30fc\u30bf\u304c\u5165\u308b\u3002\u3053\u308c\u306f\u3059\u3070\u3089\u3057\u3044\u3002\n\n\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u51fa\u3057\u3082\u554f\u984c\u306a\u3044\u3002\u4f55\u304b\u610f\u8b58\u3059\u308b\u5fc5\u8981\u3082\u306a\u3044\u306e\u3067\u826f\u3044\u611f\u3058\u3002\n\n- \u6027\u80fd\u306f\u307e\u3060\n\n## \u74b0\u5883\n\n- Mac OS X 10.9.5\n- Python 2.7.9\n\nPython \u95a2\u9023\u306f\u3053\u306e\u8fba\u5165\u308c\u305f\n\n```\nDjango==1.6.8\ndjango-fdbsql==1.1.0\npsycopg2==2.5.4\n```\n\npsycopg2 \u306f MacPorts \u3067 postgresql93 \u304c\u5165\u3063\u3066\u3044\u308b\u72b6\u6cc1\u3067 ... \n\n```\n$ PATH=$PATH:/opt/local/lib/postgresql93/bin/\n```\n\n\u3057\u3066\u304b\u3089 pip install psycopg2 \u3057\u306a\u3044\u3068\u30c0\u30e1\u3002\n\n### \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nFoundationDB \u7cfb\u306f\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306b\u306f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u304c\u5fc5\u8981\n\n\u3061\u306a\u307f\u306b\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u7248\u306f\u30d7\u30ed\u30bb\u30b9\u6570\u306e\u5236\u9650\u304c\u3042\u3063\u3066\u3001\u958b\u767a\u3067\u306f\u7121\u5236\u9650\u3002\u30d7\u30ed\u30c0\u30af\u30b7\u30e7\u30f3\u3060\u3068 6 \u30d7\u30ed\u30bb\u30b9\u307e\u3067\u3002\n\n- FoundationDB-3.0.4.pkg\n\t- https://foundationdb.com/get#osx\n- fdb-sql-layer-2.0.2-1.pkg\n\t- https://foundationdb.com/layers/sql#sql-osx\n\n1.7 \u4ee5\u4e0a\u3068\u306e\u3053\u3068\u306a\u306e\u3067 Java \u3082\u5165\u308c\u305f\n\n- jdk-8u25-macosx-x64.dmg\n\n## Django \u3067\u89e6\u308b\n\n```python\nDATABASES = {\n        'default': {\n            'ENGINE': 'django_fdbsql',\n            'NAME':   'mysample',\n            'HOST':   'localhost',\n            'PORT':   '15432',\n            }\n        }\n```\n\n\u3053\u308c\u3092\u8a2d\u5b9a\u3057\u3066\u3057\u307e\u3048\u3070\u3001\u3042\u3068\u306f syncdb \u3067\u3044\u3051\u308b\u3002\n\n```bash\n$ python manage.py syncdb\nCreating tables ...\nCreating table django_admin_log\nCreating table auth_permission\nCreating table auth_group_permissions\nCreating table auth_group\nCreating table auth_user_groups\nCreating table auth_user_user_permissions\nCreating table auth_user\nCreating table django_content_type\nCreating table django_session\n\nYou just installed Django's auth system, which means you don't have any superusers defined.\nWould you like to create one now? (yes/no): yes\nUsername (leave blank to use 'voluntas'): voluntas\nEmail address: voluntas@example.com\nPassword:\nPassword (again):\nSuperuser created successfully.\nInstalling custom SQL ...\nInstalling indexes ...\nInstalled 0 object(s) from 0 fixture(s)\n```\n\n\u7121\u4e8b\u51fa\u6765\u305f\u3002\u672c\u5f53\u306b\u5165\u3063\u3066\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002fdbsqlcli \u3068\u3044\u3046\u306e\u304c\u4ed8\u3044\u3066\u304f\u308b\u3002\n\n```bash\n$ fdbsqlcli mysample\nfdbsql (driver 2.0, layer 2.0.2)\nmysample=> \\lt\n  Schema  |            Name            |             Group Path\n----------+----------------------------+-------------------------------------\n mysample | auth_group                 | mysample.auth_group\n mysample | auth_group_permissions     | mysample.auth_group_permissions\n mysample | auth_permission            | mysample.auth_permission\n mysample | auth_user                  | mysample.auth_user\n mysample | auth_user_groups           | mysample.auth_user_groups\n mysample | auth_user_user_permissions | mysample.auth_user_user_permissions\n mysample | django_admin_log           | mysample.django_admin_log\n mysample | django_content_type        | mysample.django_content_type\n mysample | django_session             | mysample.django_session\n(9 rows)\n```\n\n\u5165\u3063\u3066\u305f\u3002\u898b\u3065\u3089\u3044\u3051\u3069\u3068\u308a\u3042\u3048\u305a\u8868\u793a\u3057\u3066\u307f\u308b\u3002\n\n```bash\nmysample=> select id,email,is_staff,is_superuser,username from auth_user;\n id |        email         | is_staff | is_superuser | username\n----+----------------------+----------+--------------+----------\n  1 | voluntas@example.com | true     | true         | voluntas\n(1 row)\n```\n\n### \u30a2\u30d7\u30ea\u4f5c\u3063\u3066\u307f\u308b\n\n\u30b5\u30f3\u30d7\u30eb\u901a\u308a\u9032\u3081\u3066\u307f\u308b\u3002\n\n\u30a2\u30d7\u30ea\u4f5c\u3063\u3066\n\n```\n$ python manage.py startapp caoi\n```\n\nsettings.py \u306b\u8ffd\u52a0\u3059\u308b\n\n```\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'caoi',\n)\n```\n\n\u3067\u3001caoi/models.py \u4f5c\u308b\n\n```python\nfrom django.db import models\n\n\nclass Customer(models.Model):\n    info = models.CharField(max_length=100)\n    name = models.CharField(max_length=20)\n    birthday = models.DateField()\n    rand_val = models.IntegerField()\n\n    def __unicode__(self):\n        return \"id=%s, info='%s', name='%s', birthday='%s', rand_val=%s\" % (\n            self.id, self.info, self.name, self.birthday, self.rand_val\n        )\n```\n\n\u3068\u308a\u3042\u3048\u305a sql \u898b\u3066\u307f\u308b\n\n```bash\n$ python manage.py sql caoi\nBEGIN;\nCREATE TABLE \"caoi_customer\" (\n    \"id\" serial NOT NULL PRIMARY KEY,\n    \"info\" varchar(100) NOT NULL,\n    \"name\" varchar(20) NOT NULL,\n    \"birthday\" date NOT NULL,\n    \"rand_val\" integer NOT NULL\n)\n;\n\nCOMMIT;\n```\n\ncaoi/models.py \u306b\u8272\u3005\u8db3\u3059\n\n```python\nfrom django.db import models\n\n\nclass Customer(models.Model):\n    info = models.CharField(max_length=100)\n    name = models.CharField(max_length=20)\n    birthday = models.DateField()\n    rand_val = models.IntegerField()\n\n    def __unicode__(self):\n        return \"id=%s, info='%s', name='%s', birthday='%s', rand_val=%s\" % (\n            self.id, self.info, self.name, self.birthday, self.rand_val\n        )\n\n\nclass Address(models.Model):\n    customer = models.ForeignKey(Customer)\n    info = models.CharField(max_length=100)\n    city = models.CharField(max_length=10)\n    state = models.CharField(max_length=2)\n\n    def __unicode__(self):\n        return \"id=%s, customer.id=%s, info='%s', city='%s', state='%s'\" % (\n            self.id, self.customer.id, self.info, self.city, self.state\n        )\n\n\nclass Order(models.Model):\n    customer = models.ForeignKey(Customer)\n    info = models.CharField(max_length=200)\n    date = models.DateField()\n\n    def __unicode__(self):\n        return \"id=%s, customer.id=%s, info='%s', date='%s'\" % (\n            self.id, self.customer.id, self.info, self.date\n        )\n\n\nclass Item(models.Model):\n    order = models.ForeignKey(Order)\n    price = models.DecimalField(max_digits=10, decimal_places=2)\n    quantity  = models.IntegerField()\n\n    def __unicode__(self):\n        return \"id=%s, order.id=%s, price=%s, quantity=%s\" % (\n            self.id, self.order.id, self.price, self.quantity\n        )\n\n```\n\nsyncdb \u3059\u308b\n\n```bash\n$ python manage.py syncdb\nCreating tables ...\nCreating table caoi_customer\nCreating table caoi_address\nCreating table caoi_order\nCreating table caoi_item\nInstalling custom SQL ...\nInstalling indexes ...\nInstalled 0 object(s) from 0 fixture(s)\n```\n\n\u8ffd\u52a0\u3067\u304d\u305f\u3002\n\n## manage.py shell \u3067\u89e6\u3063\u3066\u307f\u308b\n\n\u8aad\u3093\u3060\u308a\u66f8\u3044\u305f\u308a\u3057\u3066\u307f\u308b\u3002\n\n```bash\n$ python manage.py shell\nPython 2.7.9 (default, Dec 11 2014, 02:36:08)\nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 2.3.1 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\nIn [1]: from caoi.models import Customer, Address, Order, Item\n\nIn [2]: import datetime\n\nIn [3]: c = Customer(info=\"Ed Jones\", name=\"ed\", rand_val=15, birthday=datetime.date(2018, 2, 25))\n\nIn [4]: c.save()\n\nIn [5]: a = Address(customer=c, info='614 Massachusetts Ave', city='Cambridge', state='MA')\n\nIn [6]: a.save()\n\nIn [7]: o = Order(customer=c, info='A large order', date=datetime.date(2018, 2, 25))\n\nIn [8]: o.save()\n\nIn [9]: i = Item(order=o, price = 15.5, quantity=2)\n\nIn [10]: i.save()\n\nIn [11]: Customer.objects.all()\nOut[11]: [<Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>]\n\nIn [12]: Item.objects.all()\nOut[12]: [<Item: id=1, order.id=1, price=15.50, quantity=2>]\n\nIn [13]: c = Customer.objects.all()[0]\n\nIn [14]: c.order_set.all()\nOut[14]: [<Order: id=1, customer.id=1, info='A large order', date='2018-02-25'>]\n\nIn [15]: o = Order.objects.all()[0]\n\nIn [16]: o.customer\nOut[16]: <Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>\n\nIn [17]: Customer.objects.filter(name=\"ed\")\nOut[17]: [<Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>]\n\nIn [18]: Customer.objects.filter(rand_val__gt=1)\nOut[18]: [<Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>]\n\nIn [19]: Customer.objects.filter(address__state='MA')\nOut[19]: [<Customer: id=1, info='Ed Jones', name='ed', birthday='2018-02-25', rand_val=15>]\n\nIn [20]: Address.objects.filter(customer__name=\"ed\")\nOut[20]: [<Address: id=1, customer.id=1, info='614 Massachusetts Ave', city='Cambridge', state='MA'>]\n```\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u3082\u898b\u3066\u307f\u308b\u3002\n\n```bash\nfdbsqlcli mysample\nfdbsql (driver 2.0, layer 2.0.2)\nmysample=> \\lt\n  Schema  |            Name            |             Group Path\n----------+----------------------------+-------------------------------------\n mysample | auth_group                 | mysample.auth_group\n mysample | auth_group_permissions     | mysample.auth_group_permissions\n mysample | auth_permission            | mysample.auth_permission\n mysample | auth_user                  | mysample.auth_user\n mysample | auth_user_groups           | mysample.auth_user_groups\n mysample | auth_user_user_permissions | mysample.auth_user_user_permissions\n mysample | caoi_address               | mysample.caoi_address\n mysample | caoi_customer              | mysample.caoi_customer\n mysample | caoi_item                  | mysample.caoi_item\n mysample | caoi_order                 | mysample.caoi_order\n mysample | django_admin_log           | mysample.django_admin_log\n mysample | django_content_type        | mysample.django_content_type\n mysample | django_session             | mysample.django_session\n(13 rows)\n\nmysample=> SELECT * FROM caoi_address;\n id | customer_id |         info          |   city    | state\n----+-------------+-----------------------+-----------+-------\n  1 |           1 | 614 Massachusetts Ave | Cambridge | MA\n(1 row)\n```\n\n\u3068\u304f\u306b\u554f\u984c\u306a\u3055\u305d\u3046\u3002\n\n## \u53c2\u7167\n\n- https://foundationdb.com/layers/sql/documentation/GettingStarted/Django.html\n", "tags": ["Python", "Django", "foundationdb"]}