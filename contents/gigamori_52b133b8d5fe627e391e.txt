{"context": "\u4eca\u3084\u61d0\u304b\u3057\u3044Perl\u306e\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3002\n\u53e4\u304f\u306a\u3063\u305f\u3068\u306f\u3044\u3048\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u3001\u3067\u3082sed\u30b3\u30de\u30f3\u30c9\u3060\u3051\u3067\u306f\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u8907\u96d1\u306a\u30c6\u30ad\u30b9\u30c8\u52a0\u5de5\u51e6\u7406\uff08CSV\u30d5\u30a1\u30a4\u30eb\u3082\uff09\u306b\u306f\u9069\u3057\u3066\u3044\u308b\u3002\n\u3044\u308d\u3044\u308d\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3042\u308b\u306e\u3060\u304c\u3001\u6700\u5c0f\u9650\u306b\u7d5e\u3063\u3066\u5099\u5fd8\u9332\u7684\u306b\u3002\n\n\u3088\u304f\u4f7f\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\u57fa\u672c\n\n\n-e '\u30b9\u30af\u30ea\u30d7\u30c8'\uff1a \u5b9f\u884c\u3059\u308bPerl\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u6307\u5b9a\uff081\u884c\uff09\n\n$ perl -e 'print \"Hello\"'\nHello$\n\n\n\u5165\u529b\u304c\u524d\u63d0\n\n\n-l\uff1a\uff08\u5165\u529b\u304b\u3089\u6539\u884c\u3092\u53d6\u308a\u9664\u3044\u305f\u3046\u3048\u3067\u6700\u5f8c\u306b\uff09\u51fa\u529b\u7d50\u679c\u3092\u6539\u884c\u3059\u308b\u3002\u8868\u793a\u5236\u5fa1\u306e\u76ee\u7684\u3067\u4f7f\u308f\u308c\u308b\u3053\u3068\u304c\u591a\u3044\u3002\u30c7\u30fc\u30bf\u52a0\u5de5\u306e\u969b\u306f\u4f7f\u308f\u306a\u3044\u307b\u3046\u304c\u5b89\u5168\uff08\u4f7f\u3046\u3068\u3057\u3066\u3082\u6700\u5f8c\u306e\u51e6\u7406\u3068\u3057\u3066\uff09\u3002\n\n$ perl -le 'print \"Hello\"'\nHello\n$\n\n\n\n-n\uff1a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u30671\u884c\u305a\u3064\uff08while\u3067\uff09\u51e6\u7406\u3059\u308b\u3002\u884c\u306e\u5185\u5bb9\u306f\u7279\u6b8a\u5909\u6570$_\u306b\u683c\u7d0d\u3055\u308c\u308b\u3002\n\n$ perl -ne 'func' file\n\n\u306f\n$ perl -e 'open(FILE, \"< file\"); while(<FILE>) { func($_); }'\n\n\u3068\u540c\u3058\u3053\u3068\u306b\u306a\u308b\u3002\n$ perl -ne 'print $.\": \".$_' rand.txt\n1: 9\n2: 4\n3: 13\n4: 53\n5: 45$\n\n\n\n-p\uff1a-n\u306b\u52a0\u3048\u3066\u7d50\u679c\u306e$_\u3092print\u3059\u308b\u3002sed -e\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u3059\u308b\u3068\u304d\u306b\u4f7f\u3046\u3002\n\n$ perl -pe 's/[0-3]/A/g' rand.txt\n9\n4\nAA\n5A\n45$\n\n\n\n-0777\uff1a\u5165\u529b\u3092\u884c\u3054\u3068\u306b\u533a\u5207\u3089\u306a\u3044\u3002-p\u3084-e\u3068\u540c\u6642\u306b\u7528\u3044\u3089\u308c\u308b\u3002\u884c\u3054\u3068\u306b\u5909\u308f\u308b\u306f\u305a\u306e\u306a\u3044\u6587\u5b57\u30b3\u30fc\u30c9\u5224\u5225\u306a\u3069\u306e\u969b\u306b\u4f7f\u3046\u3002\n\n$ perl -MEncode::Guess -0777 -ne 'print guess_encoding($_, qw/shiftjis eucjp utf8/)->name' multibyte.txt\nutf8$\n\n\n\n-i\u3000\u30d5\u30a1\u30a4\u30eb\u540d\uff1a\u30d5\u30a1\u30a4\u30eb\u306e\u4e0a\u66f8\u304d\n\n-i\u62e1\u5f35\u5b50 \u30d5\u30a1\u30a4\u30eb\u540d\uff1a\u30d5\u30a1\u30a4\u30eb\u306e\u4e0a\u66f8\u304d\uff06\u62e1\u5f35\u5b50\u4ed8\u304d\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u751f\u6210\n\n-i\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u672b\u5c3e\uff08\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5f8c\uff09\u306b\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3002\u305d\u308c\u4ee5\u5916\u306e\u4f4d\u7f6e\u3060\u3068\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u3092\u542b\u3080\u5834\u5408\u306a\u3069\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u3002\n$ perl -pe 's/[0-3]/A/g' -i.bak rand.txt\n$\n\n\nCSV\u306e\u51e6\u7406\n\n\n-a\uff1aDelimiter-separated values\u306e\u51e6\u7406\u3002\u5024\u306f@F\u306b\u683c\u7d0d\u3055\u308c\u308b\n\n-F\u30c7\u30ea\u30df\u30bf\uff1a\u30c7\u30ea\u30df\u30bf\u306e\u6307\u5b9a\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u533a\u5207\u308a\u6587\u5b57\u306f\u30db\u30ef\u30a4\u30c8\u30b9\u30da\u30fc\u30b9\uff09\n\n\u884c\u30eb\u30fc\u30d7\u306e-n\u3068\u6539\u884c\u6587\u5b57\u306e\u524a\u9664-l\u3092\u30bb\u30c3\u30c8\u3067\u4f7f\u3046\u306e\u304c\u666e\u901a\u306a\u306e\u3067\u3001perl -lane '\u30b3\u30de\u30f3\u30c9'\u304c\u30bb\u30c3\u30c8\u306b\u306a\u308b\u3002\n$ perl -F, -lnae 'print $F[1]' log.txt\n20:03:06\n20:03:07\n20:03:07\n$ perl -lnae '(@F[12..$#F] !~ /mobi/i && $F[8] != 200) && next; $,=\"\\t\"; print $F[0], $F[6]' ~/logs/access_log\n180.76.15.21    /\n189.45.203.245  /user\n220.181.108.160 /\n185.92.73.125   /aaa/bbb.html\n$\n\n\u5404\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5b9f\u969b\u306ePerl\u306e\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3055\u305b\u308b\u3068\nuse strict; # -w\nwhile(<STDIN>){ # -n\n    chomp($_); # -l\n    my @F = split(/ /, $_); # -a -F' '\n    print $_; # -p\n}\n\n\n\u62e1\u5f35\u6a5f\u80fd\n\n\n-M\u30e2\u30b8\u30e5\u30fc\u30eb\u540d\uff1a\u5916\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u6307\u5b9a\n\n$ perl -MLWP::Simple -e 'getprint \"http://example.com/\"'\n<!doctype html>\n<html>\n<head>\n    <title>Example Domain</title>\n\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <style type=\"text/css\">\n      :\n</html>\n$\n\n\n\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u306f\u306a\u3044\u304c\u7d30\u304b\u3044\u51e6\u7406\u3067\u3061\u3087\u3063\u3068\u4fbf\u5229\u306a\u30e1\u30e2\n\n\u5e38\u7528\u5bfe\u6570\u3092\u4f7f\u3044\u305f\u3044\u3068\u304d\nlog10(9999)\u306f\u306a\u3044\u306e\u3067log(9999)/log(10)\u3067\u4ee3\u7528\u3059\u308b\u3002\n\n\u9ad8\u5ea6\u306a\u7b97\u8853\u6f14\u7b97\u5b50\n\n\n5 % 3: \u5270\u4f59\n\n5 ** 3: \u3079\u304d\u4e57\n\n\n\u7279\u6b8a\u5909\u6570\n\n\n$.: \u73fe\u5728\u306e\u884c\u756a\u53f7\n\n$,: print\u5f15\u6570\u306e\u30bb\u30d1\u30ec\u30fc\u30bf\n\n$/: \u5165\u529b\uff08open\uff09\u6642\u306e\u884c\u533a\u5207\u308a\u6587\u5b57\n\n$\\: \u51fa\u529b\uff08print\uff09\u6642\u306e\u884c\u533a\u5207\u308a\u6587\u5b57\n\n$!: \u30a8\u30e9\u30fc\u306e\u5185\u5bb9\n\n\n\u53c2\u8003\u306b\u306a\u308b\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u306e\u4f8b\n\n\u7f6e\u63db\n\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5\u3092\u30a8\u30b9\u30b1\u30fc\u30d7\nperl -pe 's/\\\\/\\\\\\\\/g;' customer.dat1 > customer.dat2\nperl -pe 's/\\\\/\\\\\\\\/g;' -i customer.dat1\n\n\nperl\u3067CSV\u30d5\u30a1\u30a4\u30eb\u306e\u64cd\u4f5c\nperl -F/,/ -lane 'print $F[1]' data.csv > out\nperl -F/,/ -lane 'print @F[1,2]' data.csv > out\n\n# \u4e00\u90e8\u306e\u5217\u3092\u62bd\u51fa\u3057\u3066\u7f6e\u63db\u3057\u3001\u30bf\u30d6\u533a\u5207\u308a\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u51fa\u529b\nperl -lnae '$F[5] =~ s/aid=(\\w+).*bid=(\\w+).*/$1\\t$2/g; $F[10] =~ s/.*([fgh]id=[\\w\\-]+).*/$1/g; $,=\"\\t\"; print $F[5], $F[9], $F[10], $F[11]' 123456.log > 123456.txt\n\n\n\u6587\u5b57\u30b3\u30fc\u30c9\u5909\u63db\nEUC-JP\u304b\u3089UTF-8\u306b\u5909\u63db\u3059\u308b\u5834\u5408\u3002\nperl -MEncode -pe '$_ = encode(\"utf8\", decode(\"eucjp\", $_))' data1.txt > data2.txt\nperl -MEncode -pe 'Encode::from_to($_, \"eucjp\", \"utf8\");' data1.txt > data2.txt\n\nencode()\u306f\u623b\u308a\u5024\u3068\u3057\u3066\u5909\u63db\u3057\u305f\u6587\u5b57\u5217\u3092\u8fd4\u3059\u95a2\u6570\u3002\nfrom_to()\u306f$_\u81ea\u4f53\u3092\u5909\u63db\u3059\u308b\u95a2\u6570\u3002\n\u30d5\u30a1\u30a4\u30eb\u81ea\u4f53\u3092\u4e0a\u66f8\u304d\uff08\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306f\u4fdd\u5b58\uff09\u3059\u308b\nperl -MEncode -pe '$_ = encode(\"utf8\", decode(\"eucjp\", $_))' -i.bak data1.txt\n\n\u305d\u306e\u4ed6\u306e\u7f6e\u63db\u51e6\u7406\u306a\u3069\u7d9a\u3051\u3066\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nperl -MEncode -pe '$_ = encode(\"utf8\", decode(\"eucjp\", $_)); $_ =~ s/\\r\\n/\\n/g;' -i.bak data1.txt\n\n\n\u6587\u5b57\u30b3\u30fc\u30c9\u5224\u5225\nperl -MEncode::Guess -0777 -ne 'print guess_encoding($_, qw/shiftjis eucjp utf8/)->name' data1.txt\n\n\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u76f4\u4e0b\u306e\u5168\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066\u6587\u5b57\u30b3\u30fc\u30c9\u81ea\u52d5\u5224\u5225\u304b\u3089\u306eUTF-8\u3078\u306e\u7f6e\u63db\u3068\u6539\u884c\u30b3\u30fc\u30c9\u7f6e\u63db\nperl -MEncode -MEncode::Guess -0777 -pe '$_ = encode(\"utf8\", decode(guess_encoding($_, qw/shiftjis eucjp/)->name, $_)); $_ =~ s/\\r\\n/\\n/g;' -i.bak ./*\n\n\n\u53c2\u8003\u30da\u30fc\u30b8\n\n\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u305d\u306e\u3082\u306e\n\nUseful One-Line Scripts for Perl - catonmat - Peteris Krumins\nPERL One Liners\n404 Blog Not Found:perl - \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u306e\u66f8\u304d\u65b9\u5165\u9580\n\u6d17\u7df4\u3055\u308c\u305fPerl: \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc101\n\u6d17\u7df4\u3055\u308c\u305fPerl: \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc102\n\n\n\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u306f\u306a\u3044\u304c\u53c2\u8003\u306b\n\nPerl\u8868\u6280\u96c6\n\n\u4eca\u3084\u61d0\u304b\u3057\u3044Perl\u306e\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3002\n\u53e4\u304f\u306a\u3063\u305f\u3068\u306f\u3044\u3048\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u3001\u3067\u3082`sed`\u30b3\u30de\u30f3\u30c9\u3060\u3051\u3067\u306f\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u8907\u96d1\u306a\u30c6\u30ad\u30b9\u30c8\u52a0\u5de5\u51e6\u7406\uff08CSV\u30d5\u30a1\u30a4\u30eb\u3082\uff09\u306b\u306f\u9069\u3057\u3066\u3044\u308b\u3002\n\u3044\u308d\u3044\u308d\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3042\u308b\u306e\u3060\u304c\u3001\u6700\u5c0f\u9650\u306b\u7d5e\u3063\u3066\u5099\u5fd8\u9332\u7684\u306b\u3002\n\n## \u3088\u304f\u4f7f\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\n\n### \u57fa\u672c\n\n- `-e '\u30b9\u30af\u30ea\u30d7\u30c8'`\uff1a \u5b9f\u884c\u3059\u308bPerl\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u6307\u5b9a\uff081\u884c\uff09\n\n```shell-session\n$ perl -e 'print \"Hello\"'\nHello$\n```\n\n### \u5165\u529b\u304c\u524d\u63d0\n\n- `-l`\uff1a\uff08\u5165\u529b\u304b\u3089\u6539\u884c\u3092\u53d6\u308a\u9664\u3044\u305f\u3046\u3048\u3067\u6700\u5f8c\u306b\uff09\u51fa\u529b\u7d50\u679c\u3092\u6539\u884c\u3059\u308b\u3002\u8868\u793a\u5236\u5fa1\u306e\u76ee\u7684\u3067\u4f7f\u308f\u308c\u308b\u3053\u3068\u304c\u591a\u3044\u3002\u30c7\u30fc\u30bf\u52a0\u5de5\u306e\u969b\u306f\u4f7f\u308f\u306a\u3044\u307b\u3046\u304c\u5b89\u5168\uff08\u4f7f\u3046\u3068\u3057\u3066\u3082\u6700\u5f8c\u306e\u51e6\u7406\u3068\u3057\u3066\uff09\u3002\n\n```shell-session\n$ perl -le 'print \"Hello\"'\nHello\n$\n```\n\n- `-n`\uff1a\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u30671\u884c\u305a\u3064\uff08while\u3067\uff09\u51e6\u7406\u3059\u308b\u3002\u884c\u306e\u5185\u5bb9\u306f\u7279\u6b8a\u5909\u6570`$_`\u306b\u683c\u7d0d\u3055\u308c\u308b\u3002\n\n```shell-session\n$ perl -ne 'func' file\n```\n\n\u306f\n\n```shell-session\n$ perl -e 'open(FILE, \"< file\"); while(<FILE>) { func($_); }'\n```\n\n\u3068\u540c\u3058\u3053\u3068\u306b\u306a\u308b\u3002\n\n```shell-session\n$ perl -ne 'print $.\": \".$_' rand.txt\n1: 9\n2: 4\n3: 13\n4: 53\n5: 45$\n```\n\n- `-p`\uff1a`-n`\u306b\u52a0\u3048\u3066\u7d50\u679c\u306e`$_`\u3092`print`\u3059\u308b\u3002`sed -e`\u307f\u305f\u3044\u306a\u3053\u3068\u3092\u3059\u308b\u3068\u304d\u306b\u4f7f\u3046\u3002\n\n```shell-session\n$ perl -pe 's/[0-3]/A/g' rand.txt\n9\n4\nAA\n5A\n45$\n```\n\n- `-0777`\uff1a\u5165\u529b\u3092\u884c\u3054\u3068\u306b\u533a\u5207\u3089\u306a\u3044\u3002`-p`\u3084`-e`\u3068\u540c\u6642\u306b\u7528\u3044\u3089\u308c\u308b\u3002\u884c\u3054\u3068\u306b\u5909\u308f\u308b\u306f\u305a\u306e\u306a\u3044\u6587\u5b57\u30b3\u30fc\u30c9\u5224\u5225\u306a\u3069\u306e\u969b\u306b\u4f7f\u3046\u3002\n\n```shell-session\n$ perl -MEncode::Guess -0777 -ne 'print guess_encoding($_, qw/shiftjis eucjp utf8/)->name' multibyte.txt\nutf8$\n```\n\n- `-i\u3000\u30d5\u30a1\u30a4\u30eb\u540d`\uff1a\u30d5\u30a1\u30a4\u30eb\u306e\u4e0a\u66f8\u304d\n- `-i\u62e1\u5f35\u5b50 \u30d5\u30a1\u30a4\u30eb\u540d`\uff1a\u30d5\u30a1\u30a4\u30eb\u306e\u4e0a\u66f8\u304d\uff06\u62e1\u5f35\u5b50\u4ed8\u304d\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u751f\u6210\n\n`-i`\u30aa\u30d7\u30b7\u30e7\u30f3\u306f**\u672b\u5c3e\uff08\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5f8c\uff09\u306b\u8a18\u8ff0\u3059\u308b**\u3053\u3068\u3002\u305d\u308c\u4ee5\u5916\u306e\u4f4d\u7f6e\u3060\u3068\u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u6587\u5b57\u3092\u542b\u3080\u5834\u5408\u306a\u3069\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u3002\n\n```shell-session\n$ perl -pe 's/[0-3]/A/g' -i.bak rand.txt\n$\n```\n\n### CSV\u306e\u51e6\u7406\n\n- `-a`\uff1aDelimiter-separated values\u306e\u51e6\u7406\u3002\u5024\u306f`@F`\u306b\u683c\u7d0d\u3055\u308c\u308b\n- `-F\u30c7\u30ea\u30df\u30bf`\uff1a\u30c7\u30ea\u30df\u30bf\u306e\u6307\u5b9a\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u533a\u5207\u308a\u6587\u5b57\u306f\u30db\u30ef\u30a4\u30c8\u30b9\u30da\u30fc\u30b9\uff09\n\n\u884c\u30eb\u30fc\u30d7\u306e`-n`\u3068\u6539\u884c\u6587\u5b57\u306e\u524a\u9664`-l`\u3092\u30bb\u30c3\u30c8\u3067\u4f7f\u3046\u306e\u304c\u666e\u901a\u306a\u306e\u3067\u3001`perl -lane '\u30b3\u30de\u30f3\u30c9'`\u304c\u30bb\u30c3\u30c8\u306b\u306a\u308b\u3002\n\n```shell-session\n$ perl -F, -lnae 'print $F[1]' log.txt\n20:03:06\n20:03:07\n20:03:07\n$ perl -lnae '(@F[12..$#F] !~ /mobi/i && $F[8] != 200) && next; $,=\"\\t\"; print $F[0], $F[6]' ~/logs/access_log\n180.76.15.21    /\n189.45.203.245  /user\n220.181.108.160 /\n185.92.73.125   /aaa/bbb.html\n$\n```\n\n\u5404\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5b9f\u969b\u306ePerl\u306e\u30b3\u30fc\u30c9\u306b\u5bfe\u5fdc\u3055\u305b\u308b\u3068\n\n```pl\nuse strict; # -w\nwhile(<STDIN>){ # -n\n    chomp($_); # -l\n    my @F = split(/ /, $_); # -a -F' '\n    print $_; # -p\n}\n```\n\n### \u62e1\u5f35\u6a5f\u80fd\n\n- `-M\u30e2\u30b8\u30e5\u30fc\u30eb\u540d`\uff1a\u5916\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u6307\u5b9a\n\n```shell-session\n$ perl -MLWP::Simple -e 'getprint \"http://example.com/\"'\n<!doctype html>\n<html>\n<head>\n    <title>Example Domain</title>\n\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <style type=\"text/css\">\n      :\n</html>\n$\n```\n\n\n\n## \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u306f\u306a\u3044\u304c\u7d30\u304b\u3044\u51e6\u7406\u3067\u3061\u3087\u3063\u3068\u4fbf\u5229\u306a\u30e1\u30e2\n\n### \u5e38\u7528\u5bfe\u6570\u3092\u4f7f\u3044\u305f\u3044\u3068\u304d\n\n`log10(9999)`\u306f\u306a\u3044\u306e\u3067`log(9999)/log(10)`\u3067\u4ee3\u7528\u3059\u308b\u3002\n\n### \u9ad8\u5ea6\u306a\u7b97\u8853\u6f14\u7b97\u5b50\n\n- `5 % 3`: \u5270\u4f59\n- `5 ** 3`: \u3079\u304d\u4e57\n\n### \u7279\u6b8a\u5909\u6570\n\n- `$.`: \u73fe\u5728\u306e\u884c\u756a\u53f7\n- `$,`: `print`\u5f15\u6570\u306e\u30bb\u30d1\u30ec\u30fc\u30bf\n- `$/`: \u5165\u529b\uff08open\uff09\u6642\u306e\u884c\u533a\u5207\u308a\u6587\u5b57\n- `$\\`: \u51fa\u529b\uff08print\uff09\u6642\u306e\u884c\u533a\u5207\u308a\u6587\u5b57\n- `$!`: \u30a8\u30e9\u30fc\u306e\u5185\u5bb9\n\n\n\n## \u53c2\u8003\u306b\u306a\u308b\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u306e\u4f8b\n\n### \u7f6e\u63db\n\n\u30d0\u30c3\u30af\u30b9\u30e9\u30c3\u30b7\u30e5\u3092\u30a8\u30b9\u30b1\u30fc\u30d7\n\n```sh\nperl -pe 's/\\\\/\\\\\\\\/g;' customer.dat1 > customer.dat2\nperl -pe 's/\\\\/\\\\\\\\/g;' -i customer.dat1\n```\n\n### perl\u3067CSV\u30d5\u30a1\u30a4\u30eb\u306e\u64cd\u4f5c\n\n```sh\nperl -F/,/ -lane 'print $F[1]' data.csv > out\nperl -F/,/ -lane 'print @F[1,2]' data.csv > out\n\n# \u4e00\u90e8\u306e\u5217\u3092\u62bd\u51fa\u3057\u3066\u7f6e\u63db\u3057\u3001\u30bf\u30d6\u533a\u5207\u308a\u30c6\u30ad\u30b9\u30c8\u3068\u3057\u3066\u51fa\u529b\nperl -lnae '$F[5] =~ s/aid=(\\w+).*bid=(\\w+).*/$1\\t$2/g; $F[10] =~ s/.*([fgh]id=[\\w\\-]+).*/$1/g; $,=\"\\t\"; print $F[5], $F[9], $F[10], $F[11]' 123456.log > 123456.txt\n```\n\n### \u6587\u5b57\u30b3\u30fc\u30c9\u5909\u63db\n\nEUC-JP\u304b\u3089UTF-8\u306b\u5909\u63db\u3059\u308b\u5834\u5408\u3002\n\n```sh\nperl -MEncode -pe '$_ = encode(\"utf8\", decode(\"eucjp\", $_))' data1.txt > data2.txt\nperl -MEncode -pe 'Encode::from_to($_, \"eucjp\", \"utf8\");' data1.txt > data2.txt\n```\n\n`encode()`\u306f\u623b\u308a\u5024\u3068\u3057\u3066\u5909\u63db\u3057\u305f\u6587\u5b57\u5217\u3092\u8fd4\u3059\u95a2\u6570\u3002\n`from_to()`\u306f`$_`\u81ea\u4f53\u3092\u5909\u63db\u3059\u308b\u95a2\u6570\u3002\n\n\u30d5\u30a1\u30a4\u30eb\u81ea\u4f53\u3092\u4e0a\u66f8\u304d\uff08\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306f\u4fdd\u5b58\uff09\u3059\u308b\n\n```sh\nperl -MEncode -pe '$_ = encode(\"utf8\", decode(\"eucjp\", $_))' -i.bak data1.txt\n```\n\n\u305d\u306e\u4ed6\u306e\u7f6e\u63db\u51e6\u7406\u306a\u3069\u7d9a\u3051\u3066\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n```sh\nperl -MEncode -pe '$_ = encode(\"utf8\", decode(\"eucjp\", $_)); $_ =~ s/\\r\\n/\\n/g;' -i.bak data1.txt\n```\n\n### \u6587\u5b57\u30b3\u30fc\u30c9\u5224\u5225\n\n```sh\nperl -MEncode::Guess -0777 -ne 'print guess_encoding($_, qw/shiftjis eucjp utf8/)->name' data1.txt\n```\n\n\u73fe\u5728\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u76f4\u4e0b\u306e\u5168\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066\u6587\u5b57\u30b3\u30fc\u30c9\u81ea\u52d5\u5224\u5225\u304b\u3089\u306eUTF-8\u3078\u306e\u7f6e\u63db\u3068\u6539\u884c\u30b3\u30fc\u30c9\u7f6e\u63db\n\n```sh\nperl -MEncode -MEncode::Guess -0777 -pe '$_ = encode(\"utf8\", decode(guess_encoding($_, qw/shiftjis eucjp/)->name, $_)); $_ =~ s/\\r\\n/\\n/g;' -i.bak ./*\n```\n\n\n\n## \u53c2\u8003\u30da\u30fc\u30b8\n\n### \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u305d\u306e\u3082\u306e\n\n- [Useful One-Line Scripts for Perl - catonmat - Peteris Krumins](http://www.catonmat.net/download/perl1line.txt)\n- [PERL One Liners](http://www.unixguide.net/unix/perl_oneliners.shtml)\n- [404 Blog Not Found:perl - \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u306e\u66f8\u304d\u65b9\u5165\u9580](http://blog.livedoor.jp/dankogai/archives/51026593.html)\n- [\u6d17\u7df4\u3055\u308c\u305fPerl: \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc101](http://www.ibm.com/developerworks/jp/linux/library/l-p101/)\n- [\u6d17\u7df4\u3055\u308c\u305fPerl: \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc102](http://www.ibm.com/developerworks/jp/linux/library/l-p102/)\n\n### \u30ef\u30f3\u30e9\u30a4\u30ca\u30fc\u3067\u306f\u306a\u3044\u304c\u53c2\u8003\u306b\n\n- [Perl\u8868\u6280\u96c6](http://www2u.biglobe.ne.jp/~MAS/perl/waza/index.html)\n", "tags": ["Perl", "sed", "OneLiner", "\u30ef\u30f3\u30e9\u30a4\u30ca\u30fc"]}