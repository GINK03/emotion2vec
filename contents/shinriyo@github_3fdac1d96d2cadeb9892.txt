{"context": "\nAnimatorFinishEventTrigger.cs\nusing System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\n/// <summary>\n/// Animator finish event trigger.\n/// </summary>\npublic class AnimatorFinishEventTrigger : MonoBehaviour\n{\n    /// <summary>\n    /// Occurs when on finish animation.\n    /// </summary>\n    public Action<string> OnFinishAnimation { set; private get; }\n\n    /// <summary>\n    /// Awake this instance.\n    /// </summary>\n    void Awake()\n    {\n        // Get a reference to the Animator Controller:\n        RuntimeAnimatorController ac = GetComponent<Animator>().runtimeAnimatorController;\n        string methodName = (OnFinishAnimationTrigger as Action<string>).Method.Name;\n\n        foreach(var clip in ac.animationClips)\n        {\n            var finishEvent = new AnimationEvent();\n            finishEvent.functionName = methodName;\n            finishEvent.stringParameter = clip.name;\n            finishEvent.time = clip.length;\n            clip.AddEvent(finishEvent);\n        }\n    }\n\n    /// <summary>\n    /// Raises the finish animation trigger event.\n    /// </summary>\n    /// <param name=\"name\">Name.</param>\n    private void OnFinishAnimationTrigger(string name)\n    {\n        if(this.OnFinishAnimation != null)\n        {\n            this.OnFinishAnimation(name);\n        }\n    }\n}\n\n\nAnimatorFinishEventTrigger\u3092\u8cbc\u308b\u3002\n\u3053\u308c\u3092GetComponent\u304b\u4f55\u304b\u3067\u53d6\u5f97\u3057\u3066\u3001\nGetComponent<AnimatorFinishEventTrigger>().OnFinishAnimation = (str)=>{Debug.Log(str)};\n\n\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n```csharp:AnimatorFinishEventTrigger.cs\nusing System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\n/// <summary>\n/// Animator finish event trigger.\n/// </summary>\npublic class AnimatorFinishEventTrigger : MonoBehaviour\n{\n\t/// <summary>\n\t/// Occurs when on finish animation.\n\t/// </summary>\n\tpublic Action<string> OnFinishAnimation { set; private get; }\n\n\t/// <summary>\n\t/// Awake this instance.\n\t/// </summary>\n\tvoid Awake()\n\t{\n\t\t// Get a reference to the Animator Controller:\n\t\tRuntimeAnimatorController ac = GetComponent<Animator>().runtimeAnimatorController;\n\t\tstring methodName = (OnFinishAnimationTrigger as Action<string>).Method.Name;\n\n\t\tforeach(var clip in ac.animationClips)\n\t\t{\n\t\t\tvar finishEvent = new AnimationEvent();\n\t\t\tfinishEvent.functionName = methodName;\n\t\t\tfinishEvent.stringParameter = clip.name;\n\t\t\tfinishEvent.time = clip.length;\n\t\t\tclip.AddEvent(finishEvent);\n\t\t}\n\t}\n\n\t/// <summary>\n\t/// Raises the finish animation trigger event.\n\t/// </summary>\n\t/// <param name=\"name\">Name.</param>\n\tprivate void OnFinishAnimationTrigger(string name)\n\t{\n\t\tif(this.OnFinishAnimation != null)\n\t\t{\n\t\t\tthis.OnFinishAnimation(name);\n\t\t}\n\t}\n}\n```\n\n`AnimatorFinishEventTrigger`\u3092\u8cbc\u308b\u3002\n\u3053\u308c\u3092GetComponent\u304b\u4f55\u304b\u3067\u53d6\u5f97\u3057\u3066\u3001\n\n```\nGetComponent<AnimatorFinishEventTrigger>().OnFinishAnimation = (str)=>{Debug.Log(str)};\n```\n\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n", "tags": ["Unity3D", "C#"]}