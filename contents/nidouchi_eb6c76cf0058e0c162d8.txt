{"tags": ["Ruby", "yhpg"], "context": " More than 1 year has passed since last update.\u554f\u984c\u306f\nhttp://d.hatena.ne.jp/torazuka/20140509/yhpg\ndef solve(q)\n  rooms = [[],[],[],[],[],[]]\n  5.times{|i|\n    q.split('|').each{|e|\n      no, reqs = e.split('_')\n      next if rooms.flatten.include?(no.to_i)\n      j = reqs.split('').map(&:to_i)[i]\n      rooms[j] <<= no.to_i if rooms[j].size < 4\n    }\n  }\n  (1..5).select{|i| rooms[i].size > 0}.map{|i| (i.to_s + '_' + rooms[i].sort.join(':'))}.join('|')\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\"\n  print ans\n  puts ans == a ? 'o' : 'x'\nend\n__END__\n0   1_12345 1_1\n1   30_32451    3_30\n2   1_12345|2_12345 1_1:2\n3   3_12345|2_12345|1_12345 1_1:2:3\n4   1_23415|2_12435|3_42135 1_2|2_1|4_3\n5   1_23415|2_12435|3_42135|4_31245|5_53124 1_2|2_1|3_4|4_3|5_5\n\n\u554f\u984c\u306f\nhttp://d.hatena.ne.jp/torazuka/20140509/yhpg\n\n```rb\ndef solve(q)\n  rooms = [[],[],[],[],[],[]]\n  5.times{|i|\n    q.split('|').each{|e|\n      no, reqs = e.split('_')\n      next if rooms.flatten.include?(no.to_i)\n      j = reqs.split('').map(&:to_i)[i]\n      rooms[j] <<= no.to_i if rooms[j].size < 4\n    }\n  }\n  (1..5).select{|i| rooms[i].size > 0}.map{|i| (i.to_s + '_' + rooms[i].sort.join(':'))}.join('|')\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.chop.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\"\n  print ans\n  puts ans == a ? 'o' : 'x'\nend\n__END__\n0\t1_12345\t1_1\n1\t30_32451\t3_30\n2\t1_12345|2_12345\t1_1:2\n3\t3_12345|2_12345|1_12345\t1_1:2:3\n4\t1_23415|2_12435|3_42135\t1_2|2_1|4_3\n5\t1_23415|2_12435|3_42135|4_31245|5_53124\t1_2|2_1|3_4|4_3|5_5\n```\n"}