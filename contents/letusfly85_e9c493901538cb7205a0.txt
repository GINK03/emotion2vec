{"context": " More than 1 year has passed since last update.\u524d\u56de\u306e\u6295\u7a3f\u3067\u3001hive\u306edocker\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u3001database\u306e\u4f5c\u6210\u3092\u5b9f\u65bd\u3057\u307e\u3057\u305f\u3002\n\u53c2\u8003\nhttps://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/AlterDatabase\n\n1. beeline\u3067hiveserver2\u306b\u63a5\u7d9a\n# \u30b3\u30f3\u30c6\u30ca\u306bdocker-xec\u3067/bin/bash\u3067\u5165\u3063\u3066\u304b\u3089\u3001beeline\u3068\u5165\u529b\n\n$ docker exec -it dockercompose_hiveserver2_1 /bin/bash\nroot@6a715b5d374e:/# beeline\n\n# hiveserver2\u306b\u63a5\u7d9a\nbeeline> !connect jdbc:hive2://localhost:10000 hive hive org.apache.hive.jdbc.HiveDriver\n\n\n2. database\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\n0: jdbc:hive2://localhost:10000> show databases;\n+----------------+--+\n| database_name  |\n+----------------+--+\n| default        |\n+----------------+--+\n1 row selected (1.086 seconds)\n\n0: jdbc:hive2://localhost:10000> create database if not exists erdrepo;\nNo rows affected (0.149 seconds)\n0: jdbc:hive2://localhost:10000> show databases;\n+----------------+--+\n| database_name  |\n+----------------+--+\n| default        |\n| erdrepo        |\n+----------------+--+\n2 rows selected (0.023 seconds)\n\nif not exists\u69cb\u6587\u3082\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\n3. OS\u5074\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\nroot@6a715b5d374e:/# ls -la /user/hive/warehouse/\ntotal 20\ndrwxr-xr-x 5 hive root 4096 Nov  5 02:30 .\ndrwxr-xr-x 4 hive root 4096 Nov  2 16:46 ..\ndrwxr-xr-x 2 hive hive 4096 Nov  5 02:30 erdrepo.db\n\n/user/hive/warehouse\u306e\u4e0b\u306b\u3001erdrepo.db\u304c\u751f\u6210\u3055\u308c\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n4. query\u304b\u3089\u3082\u78ba\u8a8d\u3067\u304d\u306a\u3044\u306e\u304b\u3002\n\u3067\u304d\u307e\u3059\u3002\u3000describe database\u69cb\u6587\u3002\n0: jdbc:hive2://localhost:10000> describe database erdrepo;\n+----------+----------+---------------------------------------+-------------+-------------+-------------+--+\n| db_name  | comment  |               location                | owner_name  | owner_type  | parameters  |\n+----------+----------+---------------------------------------+-------------+-------------+-------------+--+\n| erdrepo  |          | file:/user/hive/warehouse/erdrepo.db  | hive        | USER        |             |\n+----------+----------+---------------------------------------+-------------+-------------+-------------+--+\n\n\n5. database\u306b\u5c5e\u6027\uff08properties\uff09\u3092\u4ed8\u4e0e\u3059\u308b\u3002\nalter database erdrepo set db properties ('used_system' = 'my cloud');\n1 row selected (0.024 seconds)\n\n0: jdbc:hive2://localhost:10000> describe database extended erdrepo;\n+----------+----------+---------------------------------------+-------------+-------------+-------------------------+--+\n| db_name  | comment  |               location                | owner_name  | owner_type  |       parameters        |\n+----------+----------+---------------------------------------+-------------+-------------+-------------------------+--+\n| erdrepo  |          | file:/user/hive/warehouse/erdrepo.db  | hive        | USER        | {used_system=my cloud}  |\n+----------+----------+---------------------------------------+-------------+-------------+-------------------------+--+\n1 row selected (0.029 seconds)\n\nparameters\u3092\u8868\u793a\u3055\u305b\u308b\u306b\u306f\u3001describe\u69cb\u6587\u306bextended\u304c\u5fc5\u8981\u306a\u6a21\u69d8\u3002\n\n6. database\u306b\u30b3\u30e1\u30f3\u30c8\u3092\u4ed8\u4e0e\u3059\u308b\n\u3042\u3068\u304b\u3089\u3001\u30b3\u30e1\u30f3\u30c8\u3067\u304d\u306a\u3044\u3002\u3002\u3002\u307d\u3044\u3002\u3002\nhttps://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/AlterDatabase\n\u8ae6\u3081\u3066\u4eca\u65e5\u306f\u518d\u4f5c\u6210\u3059\u308b\n0: jdbc:hive2://localhost:10000> drop database erdrepo;\nNo rows affected (0.205 seconds)\n0: jdbc:hive2://localhost:10000> create database erdrepo comment 'erd objects management tool' with dbproperties ('used_system' = 'my cloud' );\nNo rows affected (0.039 seconds)\n0: jdbc:hive2://localhost:10000> describe database extended erdrepo;\n+----------+------------------------------+---------------------------------------+-------------+-------------+-------------------------+--+\n| db_name  |           comment            |               location                | owner_name  | owner_type  |       parameters        |\n+----------+------------------------------+---------------------------------------+-------------+-------------+-------------------------+--+\n| erdrepo  | erd objects management tool  | file:/user/hive/warehouse/erdrepo.db  | hive        | USER        | {used_system=my cloud}  |\n\n\n7. MySQL\u306e\u69cb\u6587\u3082\u307f\u3066\u307f\u305f\u3002\nhttp://dev.mysql.com/doc/refman/5.7/en/create-database.html\ncreate database\u3067\u3001comment\u3068\u304bdbproperties\u307f\u305f\u3044\u306a\u3082\u306e\u306f\u4ed8\u4e0e\u3067\u304d\u306a\u3044\u69d8\u5b50\u3002DB\u304c\u5909\u308f\u308b\u3068\u3044\u308d\u3044\u308d\u9055\u3063\u3066\u304d\u307e\u3059\u306d\u3002\n\n\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\u3068\u3057\u307e\u3059\u3002\n\u4ed6\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3063\u3066\u30b3\u30e1\u30f3\u30c8\u3064\u3051\u305f\u308a\u3067\u304d\u308b\u3093\u3060\u3063\u3051\u3002\u3068\u304b\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u9818\u57df\u3068\u3057\u3066\u3001s3n,hdfs,maprfs\u3082\u3042\u308b\u306e\u304b\u30fc\u3001\u307f\u305f\u3044\u306a\u3068\u3053\u3082\u6c17\u306b\u306a\u308a\u307e\u3059\u3002\n[\u524d\u56de\u306e\u6295\u7a3f](http://qiita.com/letusfly85/items/b4e5fc67c9566765b794)\u3067\u3001hive\u306edocker\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\u4eca\u56de\u306f\u3001database\u306e\u4f5c\u6210\u3092\u5b9f\u65bd\u3057\u307e\u3057\u305f\u3002\n\n\u53c2\u8003\n\nhttps://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/AlterDatabase\n\n\n# 1. beeline\u3067hiveserver2\u306b\u63a5\u7d9a\n\n```bash\n# \u30b3\u30f3\u30c6\u30ca\u306bdocker-xec\u3067/bin/bash\u3067\u5165\u3063\u3066\u304b\u3089\u3001beeline\u3068\u5165\u529b\n\n$ docker exec -it dockercompose_hiveserver2_1 /bin/bash\nroot@6a715b5d374e:/# beeline\n\n# hiveserver2\u306b\u63a5\u7d9a\nbeeline> !connect jdbc:hive2://localhost:10000 hive hive org.apache.hive.jdbc.HiveDriver\n```\n\n# 2. database\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\n\n```sql\n0: jdbc:hive2://localhost:10000> show databases;\n+----------------+--+\n| database_name  |\n+----------------+--+\n| default        |\n+----------------+--+\n1 row selected (1.086 seconds)\n\n0: jdbc:hive2://localhost:10000> create database if not exists erdrepo;\nNo rows affected (0.149 seconds)\n0: jdbc:hive2://localhost:10000> show databases;\n+----------------+--+\n| database_name  |\n+----------------+--+\n| default        |\n| erdrepo        |\n+----------------+--+\n2 rows selected (0.023 seconds)\n```\n\n`if not exists`\u69cb\u6587\u3082\u5229\u7528\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\n# 3. OS\u5074\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\n\n```bash\nroot@6a715b5d374e:/# ls -la /user/hive/warehouse/\ntotal 20\ndrwxr-xr-x 5 hive root 4096 Nov  5 02:30 .\ndrwxr-xr-x 4 hive root 4096 Nov  2 16:46 ..\ndrwxr-xr-x 2 hive hive 4096 Nov  5 02:30 erdrepo.db\n```\n\n`/user/hive/warehouse`\u306e\u4e0b\u306b\u3001erdrepo.db\u304c\u751f\u6210\u3055\u308c\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n# 4. query\u304b\u3089\u3082\u78ba\u8a8d\u3067\u304d\u306a\u3044\u306e\u304b\u3002\n\n\u3067\u304d\u307e\u3059\u3002\u3000`describe database`\u69cb\u6587\u3002\n\n```sql\n0: jdbc:hive2://localhost:10000> describe database erdrepo;\n+----------+----------+---------------------------------------+-------------+-------------+-------------+--+\n| db_name  | comment  |               location                | owner_name  | owner_type  | parameters  |\n+----------+----------+---------------------------------------+-------------+-------------+-------------+--+\n| erdrepo  |          | file:/user/hive/warehouse/erdrepo.db  | hive        | USER        |             |\n+----------+----------+---------------------------------------+-------------+-------------+-------------+--+\n```\n\n# 5. database\u306b\u5c5e\u6027\uff08properties\uff09\u3092\u4ed8\u4e0e\u3059\u308b\u3002\n\n```sql\nalter database erdrepo set db properties ('used_system' = 'my cloud');\n1 row selected (0.024 seconds)\n\n0: jdbc:hive2://localhost:10000> describe database extended erdrepo;\n+----------+----------+---------------------------------------+-------------+-------------+-------------------------+--+\n| db_name  | comment  |               location                | owner_name  | owner_type  |       parameters        |\n+----------+----------+---------------------------------------+-------------+-------------+-------------------------+--+\n| erdrepo  |          | file:/user/hive/warehouse/erdrepo.db  | hive        | USER        | {used_system=my cloud}  |\n+----------+----------+---------------------------------------+-------------+-------------+-------------------------+--+\n1 row selected (0.029 seconds)\n```\n\nparameters\u3092\u8868\u793a\u3055\u305b\u308b\u306b\u306f\u3001describe\u69cb\u6587\u306bextended\u304c\u5fc5\u8981\u306a\u6a21\u69d8\u3002\n\n\n# 6. database\u306b\u30b3\u30e1\u30f3\u30c8\u3092\u4ed8\u4e0e\u3059\u308b\n\n\u3042\u3068\u304b\u3089\u3001\u30b3\u30e1\u30f3\u30c8\u3067\u304d\u306a\u3044\u3002\u3002\u3002\u307d\u3044\u3002\u3002\nhttps://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/AlterDatabase\n\n\u8ae6\u3081\u3066\u4eca\u65e5\u306f\u518d\u4f5c\u6210\u3059\u308b\n\n```sql\n0: jdbc:hive2://localhost:10000> drop database erdrepo;\nNo rows affected (0.205 seconds)\n0: jdbc:hive2://localhost:10000> create database erdrepo comment 'erd objects management tool' with dbproperties ('used_system' = 'my cloud' );\nNo rows affected (0.039 seconds)\n0: jdbc:hive2://localhost:10000> describe database extended erdrepo;\n+----------+------------------------------+---------------------------------------+-------------+-------------+-------------------------+--+\n| db_name  |           comment            |               location                | owner_name  | owner_type  |       parameters        |\n+----------+------------------------------+---------------------------------------+-------------+-------------+-------------------------+--+\n| erdrepo  | erd objects management tool  | file:/user/hive/warehouse/erdrepo.db  | hive        | USER        | {used_system=my cloud}  |\n```\n\n# 7. MySQL\u306e\u69cb\u6587\u3082\u307f\u3066\u307f\u305f\u3002\n\nhttp://dev.mysql.com/doc/refman/5.7/en/create-database.html\n\n`create database`\u3067\u3001comment\u3068\u304bdbproperties\u307f\u305f\u3044\u306a\u3082\u306e\u306f\u4ed8\u4e0e\u3067\u304d\u306a\u3044\u69d8\u5b50\u3002DB\u304c\u5909\u308f\u308b\u3068\u3044\u308d\u3044\u308d\u9055\u3063\u3066\u304d\u307e\u3059\u306d\u3002\n\n---\n\n\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\u3068\u3057\u307e\u3059\u3002\n\n\u4ed6\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3063\u3066\u30b3\u30e1\u30f3\u30c8\u3064\u3051\u305f\u308a\u3067\u304d\u308b\u3093\u3060\u3063\u3051\u3002\u3068\u304b\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u9818\u57df\u3068\u3057\u3066\u3001s3n,hdfs,maprfs\u3082\u3042\u308b\u306e\u304b\u30fc\u3001\u307f\u305f\u3044\u306a\u3068\u3053\u3082\u6c17\u306b\u306a\u308a\u307e\u3059\u3002\n", "tags": ["hive", "docker", "beeline", "docker-compose"]}