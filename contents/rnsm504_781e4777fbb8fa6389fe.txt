{"tags": ["SpriteKit", "Swift"], "context": " More than 1 year has passed since last update.\n\u30d6\u30ed\u30c3\u30af\u3068\u6575\u3001\u30c9\u30e9\u30b4\u30f3\u3068\u708e\u3068\u885d\u7a81\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u5897\u3084\u3057\u3066\u3044\u304f\u3002\u30b2\u30fc\u30e0\u3063\u307d\u304f\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u5358\u7d14\u306a\u885d\u7a81\u306f\u524d\u56de\u304c\u53c2\u8003\u306b\u306a\u308b\u304b\u3082\u3002\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u885d\u7a81\u3092\u6f14\u51fa\u3002\n\u708e\u3068\u6575\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\u306f\u4e21\u65b9\u6d88\u6ec5\u3002\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\u3042\u308a\u3002\n\u708e\u3068\u30d6\u30ed\u30c3\u30af\u306f\u708e\u306e\u307f\u6d88\u6ec5\u3002\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\u3042\u308a\u3002\n\u30c9\u30e9\u30b4\u30f3\u3068\u30d6\u30ed\u30c3\u30af\u306f\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\u306e\u307f\u3002\n\u5f8c\u3001\u753b\u9762\u306e\u7aef\u3068\u708e\u306f\u708e\u306e\u307f\u6d88\u6ec5\u3002\n\u30c9\u30e9\u30b4\u30f3\u3068\u58c1\u306f\u885d\u7a81\u306e\u307f\u3002\uff08\u30c9\u30e9\u30b4\u30f3\u304c\u30d6\u30ed\u30c3\u30af\u306b\u62bc\u3057\u51fa\u3055\u308c\u3066\u30b2\u30fc\u30e0\u753b\u9762\u5916\u306b\u51fa\u306a\u3044\u3088\u3046\u306b\u3059\u308b\uff09\n\nenum CollisionMember {\n    case Block\n    case Fire\n    case Enemy\n    case Dragon\n    case Edge\n\n    func toInt() ->UInt32{\n        switch self{\n        case CollisionMember.Block:\n            return 0x1 << 0\n        case CollisionMember.Fire:\n            return 0x1 << 1\n        case CollisionMember.Enemy:\n            return 0x1 << 2\n        case CollisionMember.Dragon:\n            return 0x1 << 3\n        case CollisionMember.Edge:\n            return 0x1 << 4\n        default:\n            return 0x1 << 0\n        }\n    }\n}\n\n\n\u885d\u7a81\u6642\u306b\u4f55\u304c\u885d\u7a81\u3057\u305f\u304b\u3092\u5224\u5b9a\u3059\u308b\u306e\u306f\u4f55\u6545\u304bbitMask\u3002\u7279\u306b\u4fbf\u5229\u3063\u3066\u308f\u3051\u3067\u3082\u306a\u3044\u3051\u3069\u5217\u6319\u4f53\u3067\u8868\u73fe\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u5358\u306b\u5217\u6319\u4f53\u3092\u4f7f\u3044\u305f\u304b\u3063\u305f\u3060\u3051\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n override func didMoveToView(view: SKView) {\n\n    /* \u753b\u9762\u5916\u306b\u30ad\u30e3\u30e9\u304c\u884c\u304b\u306a\u304f\u306a\u308b\u3088\u3046\u306b\u3059\u308b */\n        self.physicsBody = SKPhysicsBody(edgeLoopFromRect: self.frame)\n        self.physicsBody?.categoryBitMask = CollisionMember.Edge.toInt()\n        self.physicsBody?.contactTestBitMask = CollisionMember.Fire.toInt()\n\n        // \u30d6\u30ed\u30c3\u30af\n        let violet = UIColor(red: 0.28, green: 0.24, blue: 0.55, alpha: 1.0)\n        let block = SKSpriteNode(color: violet, size: CGSizeMake(300, 50))\n        block.position = CGPoint(x:700, y:CGRectGetMidY(self.frame))\n        block.lightingBitMask = 1\n        block.zPosition = 10\n        //\u885d\u7a81\u30a4\u30d9\u30f3\u30c8\u306b\u306f\u5fc5\u9808\n        block.physicsBody = SKPhysicsBody(rectangleOfSize: block.size)\n        block.physicsBody?.categoryBitMask = CollisionMember.Block.toInt()\n        block.physicsBody?.contactTestBitMask =  CollisionMember.Dragon.toInt() | CollisionMember.Fire.toInt()\n        // \u91cd\u529b\u306e\u5f71\u97ff\u306a\u3057\n        block.physicsBody?.dynamic = false\n        // \u80cc\u666f\u3068\u540c\u3058\u901f\u5ea6\u3067\u52d5\u304f\n        block.runAction(SKAction.repeatActionForever(\n            SKAction.sequence([\n            SKAction.moveToX(-430, duration: 13.0),\n                SKAction.moveToX(self.size.width+480, duration: 0.0)])\n        ))\n        self.addChild(block)\n\n\n\n\u30d6\u30ed\u30c3\u30af\u3092\u751f\u6210\u3057\u3001\u80cc\u666f\u306e\u6d41\u308c\u308b\u901f\u5ea6\u3068\u540c\u3058\u304f\u3089\u3044\u3067\u5411\u304b\u3063\u3066\u304f\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u3057\u304b\u3082\u6c38\u9060\u306b\u3002\n\u809d\u5fc3\u306e\u885d\u7a81\u306b\u95a2\u3059\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u4ee5\u4e0b\u3067\u3061\u3087\u3063\u3068\u8a73\u3057\u304f\u3002\n\n  block.physicsBody?.categoryBitMask = CollisionMember.Block.toInt()\n\n\ncategoryBitMask\u3067\u3001\u81ea\u5206\u304c\u3069\u3046\u3044\u3063\u305f\u5b58\u5728\u304b\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002\u3053\u306e\u5834\u5408\u3001\u30d6\u30ed\u30c3\u30af\u3002\n  block.physicsBody?.contactTestBitMask =  CollisionMember.Dragon.toInt() | CollisionMember.Fire.toInt()\n\n\ncontactTestBitMask\u3067\u3076\u3064\u304b\u308b\u5bfe\u8c61\u3092\u30bb\u30c3\u30c8\u3002\u3053\u3053\u3067\u30bb\u30c3\u30c8\u3057\u3066\u306a\u3044\u3082\u306e\u3068\u3076\u3064\u304b\u3063\u3066\u3082\u885d\u7a81\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u306a\u3044\u3002\u3053\u306e\u5834\u5408\u306f\u30c9\u30e9\u30b4\u30f3\u3068\u708e\u3002\n\u6b21\u306b\u30c9\u30e9\u30b4\u30f3\u3002\n//\u30ad\u30e3\u30e9\u753b\u50cf\n        let dragonImage = UIImage(named: \"charImage1.png\")\n        let texture = SKTexture(image: dragonImage!)\n        let dragon = SKSpriteNode(texture: texture)\n        dragon.name = \"dragon\"\n        dragon.position = CGPoint(x: 80, y: CGRectGetMidY(self.frame))\n        dragon.physicsBody = SKPhysicsBody(rectangleOfSize: CGSizeMake(250, 250))\n\n        dragon.physicsBody?.categoryBitMask = CollisionMember.Dragon.toInt()\n        dragon.physicsBody?.contactTestBitMask = CollisionMember.Block.toInt() | CollisionMember.Enemy.toInt()\n\n        // \u3076\u3064\u304b\u3063\u305f\u6642\u306b\u50be\u304f\u304b\u3069\u3046\u304b\n        dragon.physicsBody?.allowsRotation = false\n\n\u5730\u5473\u306b\u91cd\u8981\u306a\u306e\u304c\u3053\u308c\u3002\n        // \u3076\u3064\u304b\u3063\u305f\u6642\u306b\u50be\u304f\u304b\u3069\u3046\u304b\n        dragon.physicsBody?.allowsRotation = false\n\n\u885d\u7a81\u3057\u305f\u3068\u304d\u306b\u5411\u304d\u304c\u5909\u308f\u3089\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3002\n\u708e\u306f\u524d\u56de\u3068\u307b\u307c\u5909\u308f\u3089\u305a\u3002\u76f4\u63a5bitMask\u3092\u6307\u5b9a\u3057\u3066\u3044\u305f\u306e\u3092\u5217\u6319\u4f53\u306b\u5909\u66f4\u3002\u3084\u306f\u308a\u6570\u5b57\u3088\u308a\u610f\u5473\u304c\u4f1d\u308f\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u601d\u3048\u308b\u3002\nfire.physicsBody?.categoryBitMask = CollisionMember.Fire.toInt()\n                fire.physicsBody?.contactTestBitMask = CollisionMember.Block.toInt()\n\n\n\u6700\u5f8c\u306b\u6575\u3002\u6575\u306f\uff13\u79d2\u3054\u3068\u306b\u30e9\u30f3\u30c0\u30e0\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u305f\u3002\u3053\u306e\u8fba\u306e\u30ed\u30b8\u30c3\u30af\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3002\u3068\u3044\u3046\u304b\u307b\u307c\u305d\u306e\u307e\u307e\u4f7f\u308f\u305b\u3066\u8cb0\u3063\u3066\u3044\u307e\u3059\u3002\n    // \u30a8\u30cd\u30df\u30fc\u4f5c\u6210\n    func createEnemy(){\n\n        let y = Int(arc4random() % 450) + 150\n\n        let enemy = SKSpriteNode(color: UIColor.blueColor(), size: CGSizeMake(50, 50))\n        enemy.position = CGPoint(x:1000, y:y)\n        enemy.lightingBitMask = 1\n        enemy.zPosition = 10\n        //\u885d\u7a81\u30a4\u30d9\u30f3\u30c8\u306b\u306f\u5fc5\u9808\n        enemy.physicsBody = SKPhysicsBody(rectangleOfSize: enemy.size)\n        enemy.physicsBody?.categoryBitMask = CollisionMember.Enemy.toInt()\n        enemy.physicsBody?.contactTestBitMask =  CollisionMember.Dragon.toInt() | CollisionMember.Fire.toInt()\n        // \u91cd\u529b\u306e\u5f71\u97ff\u306a\u3057\n        enemy.physicsBody?.dynamic = false\n\n        let line = SKAction.moveByX(-1000, y: 0, duration: 3.5)\n        let remove = SKAction.removeFromParent()\n        let sequence = SKAction.sequence([line, remove])\n        enemy.runAction(sequence)\n\n        self.addChild(enemy)\n\n    }\n\n\n\u885d\u7a81\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u5185\u3067\u305d\u308c\u305e\u308c\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\u3092\u66f8\u304f\u306e\u3060\u3051\u3069\u3001\u3053\u3053\u306f\u3082\u3063\u3068\u3059\u3063\u304d\u308a\u3057\u305f\u66f8\u304d\u65b9\u304c\u306a\u3044\u3082\u306e\u3060\u308d\u3046\u304b\n//\u885d\u7a81\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n    func didBeginContact(contact: SKPhysicsContact) {\n\n        //\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u4e0a\u66f8\u304d\u3059\u308b\u3068\u885d\u7a81\u3057\u305f\u30a4\u30d9\u30f3\u30c8\u306e\u885d\u7a81\u5f8c\u306e\u51e6\u7406\u3092\u66f8\u304b\u306d\u3070\u306a\u3089\u306a\u3044\n        if((CollisionMember.Fire.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Fire.toInt() == contact.bodyB.categoryBitMask) &&\n            (CollisionMember.Block.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Block.toInt() == contact.bodyB.categoryBitMask))\n        {\n                // \u885d\u7a81\u6642\u306e\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\n                let firePath = NSBundle.mainBundle().pathForResource(\"Spark\", ofType: \"sks\")\n\n                let fire = NSKeyedUnarchiver.unarchiveObjectWithFile(firePath!) as SKEmitterNode\n                fire.position.x = contact.contactPoint.x\n                fire.position.y = contact.contactPoint.y + 30\n                fire.numParticlesToEmit = 80\n                self.addChild(fire)\n\n                // \u706b\u306e\u65b9\u3092\u6d88\u3059\n                if(contact.bodyA.categoryBitMask == CollisionMember.Fire.toInt()){\n                    contact.bodyA.node?.removeFromParent()\n                } else {\n                    contact.bodyB.node?.removeFromParent()\n                }\n\n        }\n\n        //\u30c9\u30e9\u30b4\u30f3\u3068\u30d6\u30ed\u30c3\u30af\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\n        if((CollisionMember.Dragon.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Dragon.toInt() == contact.bodyB.categoryBitMask ) &&\n            (CollisionMember.Block.toInt() == contact.bodyA.categoryBitMask ||\n                CollisionMember.Block.toInt() == contact.bodyB.categoryBitMask)){\n\n\n                    // \u885d\u7a81\u6642\u306e\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\n                    let firePath = NSBundle.mainBundle().pathForResource(\"Spark\", ofType: \"sks\")\n\n\n                    let fire = NSKeyedUnarchiver.unarchiveObjectWithFile(firePath!) as SKEmitterNode\n                    //fire.particleColor = UIColor(red: 238/255.0, green: 130/255.0, blue: 238/255, alpha: 1.0)\n                    fire.particleColorSequence = nil;\n                    fire.particleColorBlendFactor = 1.0\n                    fire.particleColor = UIColor.redColor()\n                    fire.position.x = contact.contactPoint.x\n                    fire.position.y = contact.contactPoint.y + 30\n                    fire.numParticlesToEmit = 80\n                    self.addChild(fire)\n\n        }\n\n        // \u708e\u3068\u6575\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\n        if((CollisionMember.Fire.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Fire.toInt() == contact.bodyB.categoryBitMask ) &&\n            (CollisionMember.Enemy.toInt() == contact.bodyA.categoryBitMask ||\n                CollisionMember.Enemy.toInt() == contact.bodyB.categoryBitMask)){\n\n                    let firePath = NSBundle.mainBundle().pathForResource(\"Spark\", ofType: \"sks\")\n\n                    let fire = NSKeyedUnarchiver.unarchiveObjectWithFile(firePath!) as SKEmitterNode\n                    fire.position.x = contact.contactPoint.x\n                    fire.position.y = contact.contactPoint.y + 30\n                    fire.numParticlesToEmit = 80\n                    self.addChild(fire)\n\n                    // \u4e21\u65b9\u3092\u6d88\u3059\n                    contact.bodyA.node?.removeFromParent()\n                    contact.bodyB.node?.removeFromParent()\n        }\n\n        // \u30ad\u30e3\u30e9\u3068\u6575\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\n        if((CollisionMember.Dragon.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Dragon.toInt() == contact.bodyB.categoryBitMask ) &&\n            (CollisionMember.Enemy.toInt() == contact.bodyA.categoryBitMask ||\n                CollisionMember.Enemy.toInt() == contact.bodyB.categoryBitMask)){\n\n                    // \u885d\u7a81\u6642\u306e\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\n                    let firePath = NSBundle.mainBundle().pathForResource(\"Spark\", ofType: \"sks\")\n\n\n                    let fire = NSKeyedUnarchiver.unarchiveObjectWithFile(firePath!) as SKEmitterNode\n                    fire.particleColorSequence = nil;\n                    fire.particleColorBlendFactor = 1.0\n                    fire.particleColor = UIColor.redColor()\n                    fire.position.x = contact.contactPoint.x\n                    fire.position.y = contact.contactPoint.y + 30\n                    fire.numParticlesToEmit = 80\n                    self.addChild(fire)\n\n                    // \u6575\u306e\u65b9\u3092\u6d88\u3059\n                    if(contact.bodyA.categoryBitMask == CollisionMember.Enemy.toInt()){\n                        contact.bodyA.node?.removeFromParent()\n                    } else {\n                        contact.bodyB.node?.removeFromParent()\n                    }\n        }\n\n        // \u58c1\u3068\u708e\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\n        if((CollisionMember.Fire.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Fire.toInt() == contact.bodyB.categoryBitMask ) &&\n            (CollisionMember.Edge.toInt() == contact.bodyA.categoryBitMask ||\n                CollisionMember.Edge.toInt() == contact.bodyB.categoryBitMask)){\n\n                    // \u706b\u306e\u65b9\u3092\u6d88\u3059\n                    if(contact.bodyA.categoryBitMask == CollisionMember.Fire.toInt()){\n                        contact.bodyA.node?.removeFromParent()\n                    } else {\n                        contact.bodyB.node?.removeFromParent()\n                    }\n\n        }\n    }\n\n\u885d\u7a81\u6642\u306e\u30b9\u30d1\u30fc\u30af\u306f\u5143\u3005\u4f5c\u3063\u305f\u3082\u306e\u3092\u30bd\u30fc\u30b9\u304b\u3089\u3067\u3082\u8272\u3084\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u51fa\u6765\u308b\u306e\u3067\u6d41\u7528\u3057\u3066\u307e\u3059\u3002\n\u885d\u7a81\u306f\u4ee5\u4e0a\u3002\u4ee5\u964d\u306b\u885d\u7a81\u306e\u30a4\u30d9\u30f3\u30c8\u304c\u5897\u3048\u3066\u3082\u57fa\u672c\u7684\u306b\u3053\u306e\u30ed\u30b8\u30c3\u30af\u306b\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3084\u308a\u65b9\u3067\u306a\u3093\u3068\u304b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u6575\u306f\u3082\u3046\u5c11\u3057\u7a2e\u985e\u3092\u5897\u3084\u3057\u3066\u3001\u30c9\u30e9\u30b4\u30f3\u3082\u653b\u6483\u30d1\u30bf\u30fc\u30f3\u3092\u5897\u3084\u3057\u305f\u3044\u304c\u3001\u305d\u306e\u524d\u306b\u30c9\u30e9\u30b4\u30f3\u306e\uff28\uff30\u3084\u653b\u6483\u306b\u3088\u308b\u70b9\u6570\u3068\u3044\u3063\u305f\u3082\u306e\u3092\u5148\u306b\u5b9f\u88c5\u3057\u3066\u3044\u304d\u305f\u3044\u3002\n\n![iphonePlay_2015031601.gif](https://qiita-image-store.s3.amazonaws.com/0/40693/afcd192e-bf7d-3220-691a-dfab3ff93390.gif \"iphonePlay_2015031601.gif\")\n\n\n\u30d6\u30ed\u30c3\u30af\u3068\u6575\u3001\u30c9\u30e9\u30b4\u30f3\u3068\u708e\u3068\u885d\u7a81\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u5897\u3084\u3057\u3066\u3044\u304f\u3002\u30b2\u30fc\u30e0\u3063\u307d\u304f\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u5358\u7d14\u306a\u885d\u7a81\u306f[\u524d\u56de](http://qiita.com/rnsm504/items/eb269d4c31d7e239c727)\u304c\u53c2\u8003\u306b\u306a\u308b\u304b\u3082\u3002\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u885d\u7a81\u3092\u6f14\u51fa\u3002\n\u708e\u3068\u6575\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\u306f\u4e21\u65b9\u6d88\u6ec5\u3002\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\u3042\u308a\u3002\n\u708e\u3068\u30d6\u30ed\u30c3\u30af\u306f\u708e\u306e\u307f\u6d88\u6ec5\u3002\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\u3042\u308a\u3002\n\u30c9\u30e9\u30b4\u30f3\u3068\u30d6\u30ed\u30c3\u30af\u306f\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\u306e\u307f\u3002\n\u5f8c\u3001\u753b\u9762\u306e\u7aef\u3068\u708e\u306f\u708e\u306e\u307f\u6d88\u6ec5\u3002\n\u30c9\u30e9\u30b4\u30f3\u3068\u58c1\u306f\u885d\u7a81\u306e\u307f\u3002\uff08\u30c9\u30e9\u30b4\u30f3\u304c\u30d6\u30ed\u30c3\u30af\u306b\u62bc\u3057\u51fa\u3055\u308c\u3066\u30b2\u30fc\u30e0\u753b\u9762\u5916\u306b\u51fa\u306a\u3044\u3088\u3046\u306b\u3059\u308b\uff09\n\n```\n\nenum CollisionMember {\n    case Block\n    case Fire\n    case Enemy\n    case Dragon\n    case Edge\n    \n    func toInt() ->UInt32{\n        switch self{\n        case CollisionMember.Block:\n            return 0x1 << 0\n        case CollisionMember.Fire:\n            return 0x1 << 1\n        case CollisionMember.Enemy:\n            return 0x1 << 2\n        case CollisionMember.Dragon:\n            return 0x1 << 3\n        case CollisionMember.Edge:\n            return 0x1 << 4\n        default:\n            return 0x1 << 0\n        }\n    }\n}\n\n```\n\n\u885d\u7a81\u6642\u306b\u4f55\u304c\u885d\u7a81\u3057\u305f\u304b\u3092\u5224\u5b9a\u3059\u308b\u306e\u306f\u4f55\u6545\u304bbitMask\u3002\u7279\u306b\u4fbf\u5229\u3063\u3066\u308f\u3051\u3067\u3082\u306a\u3044\u3051\u3069\u5217\u6319\u4f53\u3067\u8868\u73fe\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u5358\u306b\u5217\u6319\u4f53\u3092\u4f7f\u3044\u305f\u304b\u3063\u305f\u3060\u3051\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n```\n override func didMoveToView(view: SKView) {\n   \n    /* \u753b\u9762\u5916\u306b\u30ad\u30e3\u30e9\u304c\u884c\u304b\u306a\u304f\u306a\u308b\u3088\u3046\u306b\u3059\u308b */\n        self.physicsBody = SKPhysicsBody(edgeLoopFromRect: self.frame)\n        self.physicsBody?.categoryBitMask = CollisionMember.Edge.toInt()\n        self.physicsBody?.contactTestBitMask = CollisionMember.Fire.toInt()\n        \n        // \u30d6\u30ed\u30c3\u30af\n        let violet = UIColor(red: 0.28, green: 0.24, blue: 0.55, alpha: 1.0)\n        let block = SKSpriteNode(color: violet, size: CGSizeMake(300, 50))\n        block.position = CGPoint(x:700, y:CGRectGetMidY(self.frame))\n        block.lightingBitMask = 1\n        block.zPosition = 10\n        //\u885d\u7a81\u30a4\u30d9\u30f3\u30c8\u306b\u306f\u5fc5\u9808\n        block.physicsBody = SKPhysicsBody(rectangleOfSize: block.size)\n        block.physicsBody?.categoryBitMask = CollisionMember.Block.toInt()\n        block.physicsBody?.contactTestBitMask =  CollisionMember.Dragon.toInt() | CollisionMember.Fire.toInt()\n        // \u91cd\u529b\u306e\u5f71\u97ff\u306a\u3057\n        block.physicsBody?.dynamic = false\n        // \u80cc\u666f\u3068\u540c\u3058\u901f\u5ea6\u3067\u52d5\u304f\n        block.runAction(SKAction.repeatActionForever(\n            SKAction.sequence([\n            SKAction.moveToX(-430, duration: 13.0),\n                SKAction.moveToX(self.size.width+480, duration: 0.0)])\n        ))\n        self.addChild(block)\n        \n       \n```\n\n\u30d6\u30ed\u30c3\u30af\u3092\u751f\u6210\u3057\u3001\u80cc\u666f\u306e\u6d41\u308c\u308b\u901f\u5ea6\u3068\u540c\u3058\u304f\u3089\u3044\u3067\u5411\u304b\u3063\u3066\u304f\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u3057\u304b\u3082\u6c38\u9060\u306b\u3002\n\u809d\u5fc3\u306e\u885d\u7a81\u306b\u95a2\u3059\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u4ee5\u4e0b\u3067\u3061\u3087\u3063\u3068\u8a73\u3057\u304f\u3002\n\n\n```\n\n  block.physicsBody?.categoryBitMask = CollisionMember.Block.toInt()\n      \n```\n\ncategoryBitMask\u3067\u3001\u81ea\u5206\u304c\u3069\u3046\u3044\u3063\u305f\u5b58\u5728\u304b\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3002\u3053\u306e\u5834\u5408\u3001\u30d6\u30ed\u30c3\u30af\u3002\n\n```\n  block.physicsBody?.contactTestBitMask =  CollisionMember.Dragon.toInt() | CollisionMember.Fire.toInt()\n      \n```\n\ncontactTestBitMask\u3067\u3076\u3064\u304b\u308b\u5bfe\u8c61\u3092\u30bb\u30c3\u30c8\u3002\u3053\u3053\u3067\u30bb\u30c3\u30c8\u3057\u3066\u306a\u3044\u3082\u306e\u3068\u3076\u3064\u304b\u3063\u3066\u3082\u885d\u7a81\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u306a\u3044\u3002\u3053\u306e\u5834\u5408\u306f\u30c9\u30e9\u30b4\u30f3\u3068\u708e\u3002\n\u6b21\u306b\u30c9\u30e9\u30b4\u30f3\u3002\n\n```\n//\u30ad\u30e3\u30e9\u753b\u50cf\n        let dragonImage = UIImage(named: \"charImage1.png\")\n        let texture = SKTexture(image: dragonImage!)\n        let dragon = SKSpriteNode(texture: texture)\n        dragon.name = \"dragon\"\n        dragon.position = CGPoint(x: 80, y: CGRectGetMidY(self.frame))\n        dragon.physicsBody = SKPhysicsBody(rectangleOfSize: CGSizeMake(250, 250))\n        \n        dragon.physicsBody?.categoryBitMask = CollisionMember.Dragon.toInt()\n        dragon.physicsBody?.contactTestBitMask = CollisionMember.Block.toInt() | CollisionMember.Enemy.toInt()\n        \n        // \u3076\u3064\u304b\u3063\u305f\u6642\u306b\u50be\u304f\u304b\u3069\u3046\u304b\n        dragon.physicsBody?.allowsRotation = false\n```\n\n\u5730\u5473\u306b\u91cd\u8981\u306a\u306e\u304c\u3053\u308c\u3002\n\n```\n        // \u3076\u3064\u304b\u3063\u305f\u6642\u306b\u50be\u304f\u304b\u3069\u3046\u304b\n        dragon.physicsBody?.allowsRotation = false\n```\n\n\u885d\u7a81\u3057\u305f\u3068\u304d\u306b\u5411\u304d\u304c\u5909\u308f\u3089\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3002\n\n\u708e\u306f\u524d\u56de\u3068\u307b\u307c\u5909\u308f\u3089\u305a\u3002\u76f4\u63a5bitMask\u3092\u6307\u5b9a\u3057\u3066\u3044\u305f\u306e\u3092\u5217\u6319\u4f53\u306b\u5909\u66f4\u3002\u3084\u306f\u308a\u6570\u5b57\u3088\u308a\u610f\u5473\u304c\u4f1d\u308f\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u601d\u3048\u308b\u3002\n\n```\nfire.physicsBody?.categoryBitMask = CollisionMember.Fire.toInt()\n                fire.physicsBody?.contactTestBitMask = CollisionMember.Block.toInt()\n                \n```\n\n\u6700\u5f8c\u306b\u6575\u3002\u6575\u306f\uff13\u79d2\u3054\u3068\u306b\u30e9\u30f3\u30c0\u30e0\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u305f\u3002\u3053\u306e\u8fba\u306e\u30ed\u30b8\u30c3\u30af\u306f[\u3053\u3061\u3089](http://qiita.com/mochizukikotaro/items/450d973245a2c6edb0d4)\u3092\u53c2\u8003\u306b\u3002\u3068\u3044\u3046\u304b\u307b\u307c\u305d\u306e\u307e\u307e\u4f7f\u308f\u305b\u3066\u8cb0\u3063\u3066\u3044\u307e\u3059\u3002\n\n```\n    // \u30a8\u30cd\u30df\u30fc\u4f5c\u6210\n    func createEnemy(){\n        \n        let y = Int(arc4random() % 450) + 150\n        \n        let enemy = SKSpriteNode(color: UIColor.blueColor(), size: CGSizeMake(50, 50))\n        enemy.position = CGPoint(x:1000, y:y)\n        enemy.lightingBitMask = 1\n        enemy.zPosition = 10\n        //\u885d\u7a81\u30a4\u30d9\u30f3\u30c8\u306b\u306f\u5fc5\u9808\n        enemy.physicsBody = SKPhysicsBody(rectangleOfSize: enemy.size)\n        enemy.physicsBody?.categoryBitMask = CollisionMember.Enemy.toInt()\n        enemy.physicsBody?.contactTestBitMask =  CollisionMember.Dragon.toInt() | CollisionMember.Fire.toInt()\n        // \u91cd\u529b\u306e\u5f71\u97ff\u306a\u3057\n        enemy.physicsBody?.dynamic = false\n        \n        let line = SKAction.moveByX(-1000, y: 0, duration: 3.5)\n        let remove = SKAction.removeFromParent()\n        let sequence = SKAction.sequence([line, remove])\n        enemy.runAction(sequence)\n        \n        self.addChild(enemy)\n        \n    }\n\n```\n\n\u885d\u7a81\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30a4\u30d9\u30f3\u30c8\u5185\u3067\u305d\u308c\u305e\u308c\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\u3092\u66f8\u304f\u306e\u3060\u3051\u3069\u3001\u3053\u3053\u306f\u3082\u3063\u3068\u3059\u3063\u304d\u308a\u3057\u305f\u66f8\u304d\u65b9\u304c\u306a\u3044\u3082\u306e\u3060\u308d\u3046\u304b\n\n```\n//\u885d\u7a81\u6642\u306e\u30a4\u30d9\u30f3\u30c8\n    func didBeginContact(contact: SKPhysicsContact) {\n        \n        //\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u4e0a\u66f8\u304d\u3059\u308b\u3068\u885d\u7a81\u3057\u305f\u30a4\u30d9\u30f3\u30c8\u306e\u885d\u7a81\u5f8c\u306e\u51e6\u7406\u3092\u66f8\u304b\u306d\u3070\u306a\u3089\u306a\u3044\n        if((CollisionMember.Fire.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Fire.toInt() == contact.bodyB.categoryBitMask) &&\n            (CollisionMember.Block.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Block.toInt() == contact.bodyB.categoryBitMask))\n        {\n                // \u885d\u7a81\u6642\u306e\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\n                let firePath = NSBundle.mainBundle().pathForResource(\"Spark\", ofType: \"sks\")\n                \n                let fire = NSKeyedUnarchiver.unarchiveObjectWithFile(firePath!) as SKEmitterNode\n                fire.position.x = contact.contactPoint.x\n                fire.position.y = contact.contactPoint.y + 30\n                fire.numParticlesToEmit = 80\n                self.addChild(fire)\n                \n                // \u706b\u306e\u65b9\u3092\u6d88\u3059\n                if(contact.bodyA.categoryBitMask == CollisionMember.Fire.toInt()){\n                    contact.bodyA.node?.removeFromParent()\n                } else {\n                    contact.bodyB.node?.removeFromParent()\n                }\n                \n        }\n        \n        //\u30c9\u30e9\u30b4\u30f3\u3068\u30d6\u30ed\u30c3\u30af\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\n        if((CollisionMember.Dragon.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Dragon.toInt() == contact.bodyB.categoryBitMask ) &&\n            (CollisionMember.Block.toInt() == contact.bodyA.categoryBitMask ||\n                CollisionMember.Block.toInt() == contact.bodyB.categoryBitMask)){\n                    \n                    \n                    // \u885d\u7a81\u6642\u306e\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\n                    let firePath = NSBundle.mainBundle().pathForResource(\"Spark\", ofType: \"sks\")\n                    \n                    \n                    let fire = NSKeyedUnarchiver.unarchiveObjectWithFile(firePath!) as SKEmitterNode\n                    //fire.particleColor = UIColor(red: 238/255.0, green: 130/255.0, blue: 238/255, alpha: 1.0)\n                    fire.particleColorSequence = nil;\n                    fire.particleColorBlendFactor = 1.0\n                    fire.particleColor = UIColor.redColor()\n                    fire.position.x = contact.contactPoint.x\n                    fire.position.y = contact.contactPoint.y + 30\n                    fire.numParticlesToEmit = 80\n                    self.addChild(fire)\n\n        }\n        \n        // \u708e\u3068\u6575\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\n        if((CollisionMember.Fire.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Fire.toInt() == contact.bodyB.categoryBitMask ) &&\n            (CollisionMember.Enemy.toInt() == contact.bodyA.categoryBitMask ||\n                CollisionMember.Enemy.toInt() == contact.bodyB.categoryBitMask)){\n               \n                    let firePath = NSBundle.mainBundle().pathForResource(\"Spark\", ofType: \"sks\")\n                    \n                    let fire = NSKeyedUnarchiver.unarchiveObjectWithFile(firePath!) as SKEmitterNode\n                    fire.position.x = contact.contactPoint.x\n                    fire.position.y = contact.contactPoint.y + 30\n                    fire.numParticlesToEmit = 80\n                    self.addChild(fire)\n                    \n                    // \u4e21\u65b9\u3092\u6d88\u3059\n                    contact.bodyA.node?.removeFromParent()\n                    contact.bodyB.node?.removeFromParent()\n        }\n        \n        // \u30ad\u30e3\u30e9\u3068\u6575\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\n        if((CollisionMember.Dragon.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Dragon.toInt() == contact.bodyB.categoryBitMask ) &&\n            (CollisionMember.Enemy.toInt() == contact.bodyA.categoryBitMask ||\n                CollisionMember.Enemy.toInt() == contact.bodyB.categoryBitMask)){\n                    \n                    // \u885d\u7a81\u6642\u306e\u30b9\u30d1\u30fc\u30af\u6f14\u51fa\n                    let firePath = NSBundle.mainBundle().pathForResource(\"Spark\", ofType: \"sks\")\n                    \n                    \n                    let fire = NSKeyedUnarchiver.unarchiveObjectWithFile(firePath!) as SKEmitterNode\n                    fire.particleColorSequence = nil;\n                    fire.particleColorBlendFactor = 1.0\n                    fire.particleColor = UIColor.redColor()\n                    fire.position.x = contact.contactPoint.x\n                    fire.position.y = contact.contactPoint.y + 30\n                    fire.numParticlesToEmit = 80\n                    self.addChild(fire)\n                    \n                    // \u6575\u306e\u65b9\u3092\u6d88\u3059\n                    if(contact.bodyA.categoryBitMask == CollisionMember.Enemy.toInt()){\n                        contact.bodyA.node?.removeFromParent()\n                    } else {\n                        contact.bodyB.node?.removeFromParent()\n                    }\n        }\n        \n        // \u58c1\u3068\u708e\u304c\u885d\u7a81\u3057\u305f\u5834\u5408\n        if((CollisionMember.Fire.toInt() == contact.bodyA.categoryBitMask ||\n            CollisionMember.Fire.toInt() == contact.bodyB.categoryBitMask ) &&\n            (CollisionMember.Edge.toInt() == contact.bodyA.categoryBitMask ||\n                CollisionMember.Edge.toInt() == contact.bodyB.categoryBitMask)){\n                 \n                    // \u706b\u306e\u65b9\u3092\u6d88\u3059\n                    if(contact.bodyA.categoryBitMask == CollisionMember.Fire.toInt()){\n                        contact.bodyA.node?.removeFromParent()\n                    } else {\n                        contact.bodyB.node?.removeFromParent()\n                    }\n                    \n        }\n    }\n```\n\n\u885d\u7a81\u6642\u306e\u30b9\u30d1\u30fc\u30af\u306f\u5143\u3005\u4f5c\u3063\u305f\u3082\u306e\u3092\u30bd\u30fc\u30b9\u304b\u3089\u3067\u3082\u8272\u3084\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u51fa\u6765\u308b\u306e\u3067\u6d41\u7528\u3057\u3066\u307e\u3059\u3002\n\u885d\u7a81\u306f\u4ee5\u4e0a\u3002\u4ee5\u964d\u306b\u885d\u7a81\u306e\u30a4\u30d9\u30f3\u30c8\u304c\u5897\u3048\u3066\u3082\u57fa\u672c\u7684\u306b\u3053\u306e\u30ed\u30b8\u30c3\u30af\u306b\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3084\u308a\u65b9\u3067\u306a\u3093\u3068\u304b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u6575\u306f\u3082\u3046\u5c11\u3057\u7a2e\u985e\u3092\u5897\u3084\u3057\u3066\u3001\u30c9\u30e9\u30b4\u30f3\u3082\u653b\u6483\u30d1\u30bf\u30fc\u30f3\u3092\u5897\u3084\u3057\u305f\u3044\u304c\u3001\u305d\u306e\u524d\u306b\u30c9\u30e9\u30b4\u30f3\u306e\uff28\uff30\u3084\u653b\u6483\u306b\u3088\u308b\u70b9\u6570\u3068\u3044\u3063\u305f\u3082\u306e\u3092\u5148\u306b\u5b9f\u88c5\u3057\u3066\u3044\u304d\u305f\u3044\u3002\n\n"}