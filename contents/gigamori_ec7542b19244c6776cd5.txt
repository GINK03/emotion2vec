{"context": "\n\n\u3061\u3087\u3063\u3068\u8ce2\u3044\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\n\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u3092\u4f7f\u3063\u3066\u3061\u3087\u3063\u3068\u8ce2\u3044\u3001\u3061\u3087\u3063\u3068\u52b9\u7387\u7684\u306a\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u3092\u3084\u308a\u305f\u3044\u3002\n\u591a\u304f\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u5171\u901a\u3057\u3066\u4f7f\u3048\u308b\u3001\u304a\u624b\u8efd\u306a\u30a2\u30c9\u30d0\u30f3\u30b9\u30c8\u30fb\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u306e\u5b9f\u88c5\u6cd5\u3092\u7d39\u4ecb\u3059\u308b\u3002\n\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u5e83\u544a\u306e\u4e16\u754c\u3001\u3084\u308c\u8a8d\u77e5\u3060\u3001\u30a2\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3060\u306a\u3069\u3068\u3044\u3063\u3066\u3082\u3001\u6240\u8a6e\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u5e83\u544a\u5927\u5168\u76db\u3067\u3042\u308b\u3002\n\u305d\u306e\u904b\u7528\u306e\u5b9f\u969b\u306f\u3068\u308a\u3042\u3048\u305a\u5f53\u8a72\u30b5\u30a4\u30c8\u306e\u3069\u3053\u304b\u306e\u30da\u30fc\u30b8\u3092\u95b2\u89a7\u3057\u305f\uff08\u7121\u6761\u4ef6\u3067\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u30bf\u30b0\u3092\u8aad\u307f\u8fbc\u3093\u3060\uff09\u3060\u3051\u3067\n\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u3092\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u591a\u3044\u3002\n\u4e2d\u306b\u306f\u30ea\u30fc\u30bb\u30f3\u30b7\u30fc\uff08\u76f4\u8fd1\u25cb\u65e5\u4ee5\u5185\u306b\u95b2\u89a7\u3057\u305f\uff09\u3084\u95b2\u89a7\u3057\u305f\u30da\u30fc\u30b8\u306e\u7a2e\u985e\uff08\u30c8\u30c3\u30d7\u30da\u30fc\u30b8 or \u8a73\u7d30\u30da\u30fc\u30b8\u306a\u3069\uff09\u3067\n\u5165\u672d\u306e\u91cd\u307f\u3092\u5909\u3048\u308b\u5834\u5408\u3082\u3042\u308b\u3002\u3053\u308c\u3089\u306f\u7ba1\u7406\u753b\u9762\u4e0a\u306e\u8a2d\u5b9a\u3067\u53ef\u80fd\u306a\u7d5e\u308a\u8fbc\u307f\u306e\u65b9\u6cd5\u3067\u3042\u308b\u3002\n\u3068\u3053\u308d\u304c2\u30da\u30fc\u30b8\u4ee5\u4e0a\u95b2\u89a7\u3057\u305f\u3060\u3068\u304b\u3001120\u79d2\u4ee5\u4e0a\u95b2\u89a7\u3057\u305f\u3060\u3068\u304b\u3001\u3088\u308a\u6df1\u304f\u30da\u30fc\u30b8\u3092\u95b2\u89a7\u3057\u305f\u7279\u5b9a\u306e\u884c\u52d5\u306b\u5bfe\u3057\u3066\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u3092\u884c\u3046\u306e\u306f\u7ba1\u7406\u753b\u9762\u4e0a\u306e\u8a2d\u5b9a\u3060\u3051\u3067\u306f\u4e0d\u53ef\u80fd\u306a\u3053\u3068\u304c\u591a\u3044\u3002\u305d\u308c\u3092Javascript\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u5b9f\u73fe\u3059\u308b\u3002\n\n\u30e1\u30ab\u30cb\u30ba\u30e0\n\u4eca\u56de\u306f\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u6e21\u3057\u3001\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u5074\u3067\n\u7279\u5b9a\u306e\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f \u2192 \u30bf\u30b0\u3092\u767a\u706b\n\n\u3068\u3044\u3046\u8a2d\u5b9a\uff08\u30bf\u30b0\u767a\u706b\u306e\u30eb\u30fc\u30eb\uff09\u3092\u3059\u308b\u3053\u3068\u3067\u5b9f\u88c5\u3059\u308b\u30b1\u30fc\u30b9\u3092\u60f3\u5b9a\u3059\u308b\u3002\nCookie\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001Cookie\u3092\u8aad\u307f\u66f8\u304d\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u3002\n\u3055\u3089\u306b\u7279\u5b9a\u306e\u884c\u52d5\u304c\u767a\u751f\u3057\u305f\u3089\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\u95a2\u6570\u3092\u7528\u610f\u3059\u308b\u3002\nfunction fe(name, element) {\n    element = element || window;\n    if (document.createEvent) {\n        // IE\u4ee5\u5916\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(name, true, true); // event type, bubbling, cancelable\n        return element.dispatchEvent(evt);\n    } else {\n        // IE8\u4ee5\u524d\n        var evt = document.createEventObject();\n        return element.fireEvent('on'+name, evt);\n    }\n}\n\n\u6700\u5f8c\u306b\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u5074\u3067\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u540d\u3092\u62fe\u3044\u3001\u305d\u308c\u3092\u30c8\u30ea\u30ac\u30fc\u306b\u3057\u3066\u7279\u5b9a\u306e\n\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u30bf\u30b0\u3092\u51fa\u529b\u3059\u308b\uff08\u3053\u3061\u3089\u306f\u7ba1\u7406\u753b\u9762\u306e\u8a2d\u5b9a\uff09\ndocument.createEvent()\u2192event.initEvent()\u2192element.dispatchEvent()\u3068\u3044\u3046\u4e00\u9023\u306e\u6d41\u308c\u306b\u306a\u308b\u3002\nIE8\u4ee5\u524d\u306f\u5c11\u3057\u7570\u306a\u308b\u3002\n\n\u307e\u3068\u3081\u308b\u3068\n\nIE9\u4ee5\u964d\u306e\u307f\u5bfe\u5fdc\u3067\u3044\u3044\u306a\u3089\n/*\n * \u30e9\u30a4\u30d6\u30e9\u30ea\n */\n// cookie\u51e6\u7406\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\nvar cookie = {\n    set: function(cname, cvalue, exdays) {\n        var d = new Date();\n        d.setTime(d.getTime() + (exdays*24*60*60*1000));\n        var expires = \"expires=\"+d.toUTCString();\n        document.cookie = cname + \"=\" + cvalue + \"; \" + expires;\n    },\n    get: function(cname) {\n        var name = cname + \"=\";\n        var ca = document.cookie.split(';');\n        for(var i = 0; i < ca.length; i++) {\n            var c = ca[i];\n            while (c.charAt(0) == ' ') {\n                c = c.substring(1);\n            }\n            if (c.indexOf(name) == 0) {\n                return c.substring(name.length, c.length);\n            }\n        }\n        return \"\";\n    }\n};\n\n// \u72ec\u81ea\u30a4\u30d9\u30f3\u30c8\u306e\u751f\u6210\u304b\u3089\u767a\u706b\u307e\u3067\nfunction fe(name, element) {\n    element = element || window;\n    var evt = document.createEvent('HTMLEvents');\n    evt.initEvent(name, true, true); // event type, bubbling, cancelable\n    return element.dispatchEvent(evt);\n}\n\n/*\n * \u5b9f\u884c\n */\n\n// 1. 2PV\u4ee5\u4e0a\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\uff08\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\uff09\ndocument.addEventListener('DOMContentLoaded', function(){\n    if(navigator.cookieEnabled == false){\n        return;\n    }\n\n    // PV\u6570\u306e\u95be\u5024\uff08\u3053\u308c\u3088\u308a\u591a\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\uff09\n    var threshold = 1;\n\n    // cookie\u304b\u3089\u7d2f\u7a4dPV\u6570\u3092\u53d6\u5f97\n    var iPV = cookie.get('iPV') || 0;\n    iPV = parseInt(iPV) + 1;\n    cookie.set('iPV', iPV, 30);\n\n    // PV\u6570\u304c\u898f\u5b9a\u3088\u308a\u591a\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\n    if (iPV > threshold) {\n        fe('Session_2PV');\n    }\n});\n\n// 2. \u95b2\u89a72\u5206\u4ee5\u4e0a\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\uff08\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\uff09\ndocument.addEventListener('DOMContentLoaded', function(){\n    if(navigator.cookieEnabled == false){\n        return;\n    }\n\n    // \u79d2\u6570\u306e\u95be\u5024\uff08\u3053\u308c\u3088\u308a\u9577\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\uff09\n    var threshold = 120;\n\n    // cookie\u304b\u3089\u8a2a\u554f\u65e5\u6642\u3092\u53d6\u5f97\n    var d = new Date();\n    var timeFirst = cookie.get('timeFirst') || d.getTime();\n\n    // cookie\u66f8\u304d\u8fbc\u307f\uff08\u30bb\u30c3\u30b7\u30e7\u30f3\u9650\u308a\u306ecookie\u306a\u306e\u3067\u671f\u9650\u3092\u8a2d\u5b9a\u3057\u306a\u3044\uff09\n    document.cookie = 'timeFirst=' + timeFirst + ';path=/';\n\n    // \u767a\u706b\u671f\u9650\n    var limit = timeFirst + threshold * 1000 - d.getTime();\n\n    if (limit > 0){\n        window.setTimeout(function(){\n            fe('Session_over2min');\n        }, limit);\n    }\n});\n\n\n\u524d\u8005\u306fwindow\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08YTM\u3067\u3044\u3046\u30a8\u30ec\u30e1\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\uff09\u306e\u30a4\u30d9\u30f3\u30c8\u540d\uff08YTM\u306e\u30c8\u30ea\u30ac\u30fc\uff09\u300cSession_2PV\u300d\n\u5f8c\u8005\u306fwindow\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08YTM\u306e\u30a8\u30ec\u30e1\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\uff09\u306e\u30a4\u30d9\u30f3\u30c8\u540d\uff08YTM\u306e\u30c8\u30ea\u30ac\u30fc\uff09\u300cSession_over2min\u300d\n\n\nIE8\u4ee5\u524d\u5bfe\u5fdc\u306e\u5834\u5408\n/*\n * \u30e9\u30a4\u30d6\u30e9\u30ea\n */\n\n// cookie\u51e6\u7406\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\nvar cookie = {\n    set: function(cname, cvalue, exdays) {\n        var d = new Date();\n        d.setTime(d.getTime() + (exdays*24*60*60*1000));\n        var expires = \"expires=\"+d.toUTCString();\n        document.cookie = cname + \"=\" + cvalue + \"; \" + expires;\n    },\n    get: function(cname) {\n        var name = cname + \"=\";\n        var ca = document.cookie.split(';');\n        for(var i = 0; i < ca.length; i++) {\n            var c = ca[i];\n            while (c.charAt(0) == ' ') {\n                c = c.substring(1);\n            }\n            if (c.indexOf(name) == 0) {\n                return c.substring(name.length, c.length);\n            }\n        }\n        return \"\";\n    }\n};\n\n// \u30da\u30fc\u30b8\u306eDOM\u30c4\u30ea\u30fc\u69cb\u7bc9\u5f8c\u306b\u5b9f\u884c\uff08\u8981\u3059\u308b\u306bwindow.onload\uff09\nfunction ale(fn){\n    if (window.addEventListener) {\n        window.addEventListener('load', fn, false);\n    } else if(window.attachEvent) {\n        window.attachEvent('onload', fn);\n    } else {\n        window.onload = fn;\n    }\n}\n\n// \u72ec\u81ea\u30a4\u30d9\u30f3\u30c8\u306e\u751f\u6210\u304b\u3089\u767a\u706b\u307e\u3067\nfunction fe(name, element) {\n    element = element || window;\n    if (document.createEvent) {\n        // IE\u4ee5\u5916\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(name, true, true); // event type, bubbling, cancelable\n        return element.dispatchEvent(evt);\n    } else {\n        // IE8\u4ee5\u524d\n        var evt = document.createEventObject();\n        return element.fireEvent('on'+name, evt)\n    }\n}\n\n/*\n * \u5b9f\u884c\n */\n\n// 1. 2PV\u4ee5\u4e0a\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\uff08\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\uff09\nale(function(){\n    if(navigator.cookieEnabled == false){ return; }\n\n    // PV\u6570\u306e\u95be\u5024\uff08\u3053\u308c\u3088\u308a\u591a\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\uff09\n    var threshold = 1;\n\n    // cookie\u304b\u3089\u7d2f\u7a4dPV\u6570\u3092\u53d6\u5f97\n    var iPV = cookie.get('iPV') || 0;\n    iPV = parseInt(iPV) + 1;\n    cookie.set('iPV', iPV, 30);\n\n    // PV\u6570\u304c\u898f\u5b9a\u3088\u308a\u591a\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\n    if (iPV > threshold) {\n        fe('Session_2PV');\n    }\n});\n\n// 2. \u95b2\u89a72\u5206\u4ee5\u4e0a\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\uff08\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\uff09\nale(function(){\n    if(navigator.cookieEnabled == false){ return; }\n\n    // \u79d2\u6570\u306e\u95be\u5024\uff08\u3053\u308c\u3088\u308a\u9577\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\uff09\n    var threshold = 120;\n\n    // cookie\u304b\u3089\u8a2a\u554f\u65e5\u6642\u3092\u53d6\u5f97\n    var d = new Date();\n    var timeFirst = cookie.get('timeFirst') || d.getTime();\n\n    // cookie\u66f8\u304d\u8fbc\u307f\uff08\u30bb\u30c3\u30b7\u30e7\u30f3\u9650\u308a\u306ecookie\u306a\u306e\u3067\u671f\u9650\u3092\u8a2d\u5b9a\u3057\u306a\u3044\uff09\n    document.cookie = 'timeFirst=' + timeFirst + ';path=/';\n\n    // \u767a\u706b\u671f\u9650\n    var limit = timeFirst + threshold * 1000 - d.getTime();\n\n    if (limit > 0){\n        window.setTimeout(function(){\n            fe('Session_over2min');\n        }, limit);\n    }\n});\n\n\nJavascript\u306e\u4fbf\u5229\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\n\nJavascript\u3067Yahoo!\u306a\u3069\u306e\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u6e21\u3059\u305f\u3081\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\nJavascript\u3067\u6b63\u898f\u5206\u5e03\u306e\u5b9f\u88c5\u307e\u3068\u3081\uff08\u4e71\u6570\u3001\u7d2f\u7a4d\u5206\u5e03\u95a2\u6570\u306a\u3069\uff09\n\u8d85\u7c21\u5358\uff08\u624b\u629c\u304d\uff1f\uff09cookie\u64cd\u4f5c\u7528\u306eJavascript\n\u8d85\u30b7\u30f3\u30d7\u30eb\u306b\u3001\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u7528\u306e\u95a2\u6570\n\u30b9\u30de\u30db\u306e\u30bf\u30c3\u30d7\u5bfe\u7b56\u6e08\u307f\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\uff08\u30b9\u30ef\u30a4\u30d7\u3084\u30d5\u30ea\u30c3\u30af\u306f\u9664\u5916\uff09\n\n## \u3061\u3087\u3063\u3068\u8ce2\u3044\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\n\n\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u3092\u4f7f\u3063\u3066\u3061\u3087\u3063\u3068\u8ce2\u3044\u3001\u3061\u3087\u3063\u3068\u52b9\u7387\u7684\u306a\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u3092\u3084\u308a\u305f\u3044\u3002\n\u591a\u304f\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u5171\u901a\u3057\u3066\u4f7f\u3048\u308b\u3001\u304a\u624b\u8efd\u306a\u30a2\u30c9\u30d0\u30f3\u30b9\u30c8\u30fb\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u306e\u5b9f\u88c5\u6cd5\u3092\u7d39\u4ecb\u3059\u308b\u3002\n\n\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u5e83\u544a\u306e\u4e16\u754c\u3001\u3084\u308c\u8a8d\u77e5\u3060\u3001\u30a2\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3060\u306a\u3069\u3068\u3044\u3063\u3066\u3082\u3001\u6240\u8a6e\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u5e83\u544a\u5927\u5168\u76db\u3067\u3042\u308b\u3002\n\u305d\u306e\u904b\u7528\u306e\u5b9f\u969b\u306f\u3068\u308a\u3042\u3048\u305a\u5f53\u8a72\u30b5\u30a4\u30c8\u306e\u3069\u3053\u304b\u306e\u30da\u30fc\u30b8\u3092\u95b2\u89a7\u3057\u305f\uff08\u7121\u6761\u4ef6\u3067\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u30bf\u30b0\u3092\u8aad\u307f\u8fbc\u3093\u3060\uff09\u3060\u3051\u3067\n\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u3092\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u591a\u3044\u3002\n\n\u4e2d\u306b\u306f**\u30ea\u30fc\u30bb\u30f3\u30b7\u30fc\uff08\u76f4\u8fd1\u25cb\u65e5\u4ee5\u5185\u306b\u95b2\u89a7\u3057\u305f\uff09**\u3084**\u95b2\u89a7\u3057\u305f\u30da\u30fc\u30b8\u306e\u7a2e\u985e\uff08\u30c8\u30c3\u30d7\u30da\u30fc\u30b8 or \u8a73\u7d30\u30da\u30fc\u30b8\u306a\u3069\uff09**\u3067\n\u5165\u672d\u306e\u91cd\u307f\u3092\u5909\u3048\u308b\u5834\u5408\u3082\u3042\u308b\u3002\u3053\u308c\u3089\u306f\u7ba1\u7406\u753b\u9762\u4e0a\u306e\u8a2d\u5b9a\u3067\u53ef\u80fd\u306a\u7d5e\u308a\u8fbc\u307f\u306e\u65b9\u6cd5\u3067\u3042\u308b\u3002\n\n\u3068\u3053\u308d\u304c**2\u30da\u30fc\u30b8\u4ee5\u4e0a\u95b2\u89a7\u3057\u305f**\u3060\u3068\u304b\u3001**120\u79d2\u4ee5\u4e0a\u95b2\u89a7\u3057\u305f**\u3060\u3068\u304b\u3001\u3088\u308a\u6df1\u304f\u30da\u30fc\u30b8\u3092\u95b2\u89a7\u3057\u305f**\u7279\u5b9a\u306e\u884c\u52d5**\u306b\u5bfe\u3057\u3066\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u3092\u884c\u3046\u306e\u306f\u7ba1\u7406\u753b\u9762\u4e0a\u306e\u8a2d\u5b9a\u3060\u3051\u3067\u306f\u4e0d\u53ef\u80fd\u306a\u3053\u3068\u304c\u591a\u3044\u3002\u305d\u308c\u3092Javascript\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u5b9f\u73fe\u3059\u308b\u3002\n\n## \u30e1\u30ab\u30cb\u30ba\u30e0\n\n\u4eca\u56de\u306f\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u6e21\u3057\u3001\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u5074\u3067\n\n    \u7279\u5b9a\u306e\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f \u2192 \u30bf\u30b0\u3092\u767a\u706b\n\n\u3068\u3044\u3046\u8a2d\u5b9a\uff08\u30bf\u30b0\u767a\u706b\u306e\u30eb\u30fc\u30eb\uff09\u3092\u3059\u308b\u3053\u3068\u3067\u5b9f\u88c5\u3059\u308b\u30b1\u30fc\u30b9\u3092\u60f3\u5b9a\u3059\u308b\u3002\n\nCookie\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3001Cookie\u3092\u8aad\u307f\u66f8\u304d\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u3002\n\u3055\u3089\u306b\u7279\u5b9a\u306e\u884c\u52d5\u304c\u767a\u751f\u3057\u305f\u3089**\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b**\u95a2\u6570\u3092\u7528\u610f\u3059\u308b\u3002\n\n```js\nfunction fe(name, element) {\n\telement = element || window;\n\tif (document.createEvent) {\n\t\t// IE\u4ee5\u5916\n\t\tvar evt = document.createEvent('HTMLEvents');\n\t\tevt.initEvent(name, true, true); // event type, bubbling, cancelable\n\t\treturn element.dispatchEvent(evt);\n\t} else {\n\t\t// IE8\u4ee5\u524d\n\t\tvar evt = document.createEventObject();\n\t\treturn element.fireEvent('on'+name, evt);\n\t}\n}\n```\n\n\u6700\u5f8c\u306b\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u5074\u3067\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u540d\u3092\u62fe\u3044\u3001\u305d\u308c\u3092\u30c8\u30ea\u30ac\u30fc\u306b\u3057\u3066\u7279\u5b9a\u306e\n\u30ea\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u30bf\u30b0\u3092\u51fa\u529b\u3059\u308b\uff08\u3053\u3061\u3089\u306f\u7ba1\u7406\u753b\u9762\u306e\u8a2d\u5b9a\uff09\n\n\n`document.createEvent()`\u2192`event.initEvent()`\u2192`element.dispatchEvent()`\u3068\u3044\u3046\u4e00\u9023\u306e\u6d41\u308c\u306b\u306a\u308b\u3002\n\nIE8\u4ee5\u524d\u306f\u5c11\u3057\u7570\u306a\u308b\u3002\n\n## \u307e\u3068\u3081\u308b\u3068\n\n### IE9\u4ee5\u964d\u306e\u307f\u5bfe\u5fdc\u3067\u3044\u3044\u306a\u3089\n\n```js\n/*\n * \u30e9\u30a4\u30d6\u30e9\u30ea\n */\n// cookie\u51e6\u7406\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\nvar cookie = {\n\tset: function(cname, cvalue, exdays) {\n\t\tvar d = new Date();\n\t\td.setTime(d.getTime() + (exdays*24*60*60*1000));\n\t\tvar expires = \"expires=\"+d.toUTCString();\n\t\tdocument.cookie = cname + \"=\" + cvalue + \"; \" + expires;\n\t},\n\tget: function(cname) {\n\t\tvar name = cname + \"=\";\n\t\tvar ca = document.cookie.split(';');\n\t\tfor(var i = 0; i < ca.length; i++) {\n\t\t\tvar c = ca[i];\n\t\t\twhile (c.charAt(0) == ' ') {\n\t\t\t\tc = c.substring(1);\n\t\t\t}\n\t\t\tif (c.indexOf(name) == 0) {\n\t\t\t\treturn c.substring(name.length, c.length);\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t}\n};\n\n// \u72ec\u81ea\u30a4\u30d9\u30f3\u30c8\u306e\u751f\u6210\u304b\u3089\u767a\u706b\u307e\u3067\nfunction fe(name, element) {\n\telement = element || window;\n\tvar evt = document.createEvent('HTMLEvents');\n\tevt.initEvent(name, true, true); // event type, bubbling, cancelable\n\treturn element.dispatchEvent(evt);\n}\n\n/*\n * \u5b9f\u884c\n */\n\n// 1. 2PV\u4ee5\u4e0a\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\uff08\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\uff09\ndocument.addEventListener('DOMContentLoaded', function(){\n\tif(navigator.cookieEnabled == false){\n\t\treturn;\n\t}\n\n\t// PV\u6570\u306e\u95be\u5024\uff08\u3053\u308c\u3088\u308a\u591a\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\uff09\n\tvar threshold = 1;\n\n\t// cookie\u304b\u3089\u7d2f\u7a4dPV\u6570\u3092\u53d6\u5f97\n\tvar iPV = cookie.get('iPV') || 0;\n\tiPV = parseInt(iPV) + 1;\n\tcookie.set('iPV', iPV, 30);\n\n\t// PV\u6570\u304c\u898f\u5b9a\u3088\u308a\u591a\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\n\tif (iPV > threshold) {\n\t\tfe('Session_2PV');\n\t}\n});\n\n// 2. \u95b2\u89a72\u5206\u4ee5\u4e0a\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\uff08\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\uff09\ndocument.addEventListener('DOMContentLoaded', function(){\n\tif(navigator.cookieEnabled == false){\n\t\treturn;\n\t}\n\n\t// \u79d2\u6570\u306e\u95be\u5024\uff08\u3053\u308c\u3088\u308a\u9577\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\uff09\n\tvar threshold = 120;\n\n\t// cookie\u304b\u3089\u8a2a\u554f\u65e5\u6642\u3092\u53d6\u5f97\n\tvar d = new Date();\n\tvar timeFirst = cookie.get('timeFirst') || d.getTime();\n\n\t// cookie\u66f8\u304d\u8fbc\u307f\uff08\u30bb\u30c3\u30b7\u30e7\u30f3\u9650\u308a\u306ecookie\u306a\u306e\u3067\u671f\u9650\u3092\u8a2d\u5b9a\u3057\u306a\u3044\uff09\n\tdocument.cookie = 'timeFirst=' + timeFirst + ';path=/';\n\n\t// \u767a\u706b\u671f\u9650\n\tvar limit = timeFirst + threshold * 1000 - d.getTime();\n\n\tif (limit > 0){\n\t\twindow.setTimeout(function(){\n\t\t\tfe('Session_over2min');\n\t\t}, limit);\n\t}\n});\n```\n\n- \u524d\u8005\u306f`window`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08YTM\u3067\u3044\u3046\u30a8\u30ec\u30e1\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\uff09\u306e\u30a4\u30d9\u30f3\u30c8\u540d\uff08YTM\u306e\u30c8\u30ea\u30ac\u30fc\uff09\u300cSession_2PV\u300d\n- \u5f8c\u8005\u306f`window`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08YTM\u306e\u30a8\u30ec\u30e1\u30f3\u30c8\u30bb\u30ec\u30af\u30bf\uff09\u306e\u30a4\u30d9\u30f3\u30c8\u540d\uff08YTM\u306e\u30c8\u30ea\u30ac\u30fc\uff09\u300cSession_over2min\u300d\n\n### IE8\u4ee5\u524d\u5bfe\u5fdc\u306e\u5834\u5408\n\n```js\n/*\n * \u30e9\u30a4\u30d6\u30e9\u30ea\n */\n\n// cookie\u51e6\u7406\u7528\u30e9\u30a4\u30d6\u30e9\u30ea\nvar cookie = {\n\tset: function(cname, cvalue, exdays) {\n\t\tvar d = new Date();\n\t\td.setTime(d.getTime() + (exdays*24*60*60*1000));\n\t\tvar expires = \"expires=\"+d.toUTCString();\n\t\tdocument.cookie = cname + \"=\" + cvalue + \"; \" + expires;\n\t},\n\tget: function(cname) {\n\t\tvar name = cname + \"=\";\n\t\tvar ca = document.cookie.split(';');\n\t\tfor(var i = 0; i < ca.length; i++) {\n\t\t\tvar c = ca[i];\n\t\t\twhile (c.charAt(0) == ' ') {\n\t\t\t\tc = c.substring(1);\n\t\t\t}\n\t\t\tif (c.indexOf(name) == 0) {\n\t\t\t\treturn c.substring(name.length, c.length);\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t}\n};\n\n// \u30da\u30fc\u30b8\u306eDOM\u30c4\u30ea\u30fc\u69cb\u7bc9\u5f8c\u306b\u5b9f\u884c\uff08\u8981\u3059\u308b\u306bwindow.onload\uff09\nfunction ale(fn){\n\tif (window.addEventListener) {\n\t\twindow.addEventListener('load', fn, false);\n\t} else if(window.attachEvent) {\n\t\twindow.attachEvent('onload', fn);\n\t} else {\n\t\twindow.onload = fn;\n\t}\n}\n\n// \u72ec\u81ea\u30a4\u30d9\u30f3\u30c8\u306e\u751f\u6210\u304b\u3089\u767a\u706b\u307e\u3067\nfunction fe(name, element) {\n\telement = element || window;\n\tif (document.createEvent) {\n\t\t// IE\u4ee5\u5916\n\t\tvar evt = document.createEvent('HTMLEvents');\n\t\tevt.initEvent(name, true, true); // event type, bubbling, cancelable\n\t\treturn element.dispatchEvent(evt);\n\t} else {\n\t\t// IE8\u4ee5\u524d\n\t\tvar evt = document.createEventObject();\n\t\treturn element.fireEvent('on'+name, evt)\n\t}\n}\n\n/*\n * \u5b9f\u884c\n */\n\n// 1. 2PV\u4ee5\u4e0a\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\uff08\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\uff09\nale(function(){\n\tif(navigator.cookieEnabled == false){ return; }\n\n\t// PV\u6570\u306e\u95be\u5024\uff08\u3053\u308c\u3088\u308a\u591a\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\uff09\n\tvar threshold = 1;\n\n\t// cookie\u304b\u3089\u7d2f\u7a4dPV\u6570\u3092\u53d6\u5f97\n\tvar iPV = cookie.get('iPV') || 0;\n\tiPV = parseInt(iPV) + 1;\n\tcookie.set('iPV', iPV, 30);\n\n\t// PV\u6570\u304c\u898f\u5b9a\u3088\u308a\u591a\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\n\tif (iPV > threshold) {\n\t\tfe('Session_2PV');\n\t}\n});\n\n// 2. \u95b2\u89a72\u5206\u4ee5\u4e0a\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\uff08\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u9001\u4fe1\uff09\nale(function(){\n\tif(navigator.cookieEnabled == false){ return; }\n\n\t// \u79d2\u6570\u306e\u95be\u5024\uff08\u3053\u308c\u3088\u308a\u9577\u3044\u5834\u5408\u306b\u30a4\u30d9\u30f3\u30c8\u767a\u706b\uff09\n\tvar threshold = 120;\n\n\t// cookie\u304b\u3089\u8a2a\u554f\u65e5\u6642\u3092\u53d6\u5f97\n\tvar d = new Date();\n\tvar timeFirst = cookie.get('timeFirst') || d.getTime();\n\n\t// cookie\u66f8\u304d\u8fbc\u307f\uff08\u30bb\u30c3\u30b7\u30e7\u30f3\u9650\u308a\u306ecookie\u306a\u306e\u3067\u671f\u9650\u3092\u8a2d\u5b9a\u3057\u306a\u3044\uff09\n\tdocument.cookie = 'timeFirst=' + timeFirst + ';path=/';\n\n\t// \u767a\u706b\u671f\u9650\n\tvar limit = timeFirst + threshold * 1000 - d.getTime();\n\n\tif (limit > 0){\n\t\twindow.setTimeout(function(){\n\t\t\tfe('Session_over2min');\n\t\t}, limit);\n\t}\n});\n```\n\n## Javascript\u306e\u4fbf\u5229\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\n\n- [Javascript\u3067Yahoo!\u306a\u3069\u306e\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u6e21\u3059\u305f\u3081\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b](http://qiita.com/gigamori/items/ec7542b19244c6776cd5)\n- [Javascript\u3067\u6b63\u898f\u5206\u5e03\u306e\u5b9f\u88c5\u307e\u3068\u3081\uff08\u4e71\u6570\u3001\u7d2f\u7a4d\u5206\u5e03\u95a2\u6570\u306a\u3069\uff09](http://qiita.com/gigamori/items/e17e6f9faffb78822c56)\n- [\u8d85\u7c21\u5358\uff08\u624b\u629c\u304d\uff1f\uff09cookie\u64cd\u4f5c\u7528\u306eJavascript](http://qiita.com/gigamori/items/8a7d0cd29c05716bc2da)\n- [\u8d85\u30b7\u30f3\u30d7\u30eb\u306b\u3001\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u7528\u306e\u95a2\u6570](http://qiita.com/gigamori/items/d0c5f5842671ec634f4a)\n- [\u30b9\u30de\u30db\u306e\u30bf\u30c3\u30d7\u5bfe\u7b56\u6e08\u307f\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\uff08\u30b9\u30ef\u30a4\u30d7\u3084\u30d5\u30ea\u30c3\u30af\u306f\u9664\u5916\uff09](http://qiita.com/gigamori/items/5cdc91817564be66c2e6)\n", "tags": ["JavaScript", "GoogleTagManager"]}