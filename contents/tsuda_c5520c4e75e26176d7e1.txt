{"context": " More than 1 year has passed since last update.\n\n\u524d\u63d0\u74b0\u5883\n\n\n\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nMacOS\n10.9.2\n\n\nVagrant\n1.4.3\n\n\nVirtualBox\n4.3.4\n\n\n\n\n\u4eca\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3082\u306e\n\n\n\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nMySQL\n5.1.73\n\n\nApache\n2.2.15\n\n\nPassenger\n4.0.41\n\n\nrbenv\n0.4.0\n\n\nRuby\n2.0.0\n\n\n\n\n\u57fa\u672c\nRedmine 2.5\u3092CentOS 6.5\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806\n\u4e0a\u8a18\u30ea\u30f3\u30af\u3092\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u3044\u304f\u3064\u304b\u5909\u3048\u305f\u308a\u3001Vagrant\u3060\u304b\u3089\u306a\u306e\u304b\u3001\u3061\u3087\u3063\u3068\u30a8\u30e9\u30fc\u51fa\u305f\u308a\u3068\u304b\u3042\u3063\u305f\u306e\u3067\u3001\u4e00\u5fdc\u5168\u90e8\u305f\u3069\u3063\u3066\u307f\u307e\u3059\u3002\n\u53c2\u8003\u8a18\u4e8b\u306e\u307e\u307e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068MySQL\u3068\u304b\u3082\u308f\u308a\u3068\u53e4\u3044\u3082\u306e\u304c\u5165\u308a\u307e\u3059\u304c\u3001\n\u52d5\u304b\u306a\u3044\u3068\u306a\u3093\u3067\u3059\u306e\u3067\u3001\u53c2\u8003\u8a18\u4e8b\u306b\u6cbf\u3063\u305f\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\nMac\u4e0a\u3067\u306e\u4f5c\u696d\n\nCentOS6.5\u306eBox\u3092\u8ffd\u52a0\u3059\u308b\nvagrant box add centOS65Box https://github.com/2creatives/vagrant-centos/releases/download/v6.5.3/centos65-x86_64-20140116.box\n\n\n\u8ffd\u52a0\u306e\u78ba\u8a8d\n$ vagrant box list\ncentOS65Box (virtualbox)\n\n\nVagrant\u521d\u671f\u5316\n\u4efb\u610f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\n\u3053\u3053\u3067\u306f\n~/Documents/VagrantVM/redmineVM\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3001\n$ vagrant init\n\n\u3057\u307e\u3059\u3002\nVagrantFile\u304c\u3067\u304d\u3066\u3044\u308c\u3070\u3001OK\n$ ls -la\ntotal 16\ndrwxr-xr-x  3 teru1  staff   102  5  1 13:30 ./\ndrwxr-xr-x  9 teru1  staff   306  5  1 13:17 ../\n-rw-r--r--  1 teru1  staff  4606  5  1 13:30 Vagrantfile\n\n\nVagrantFile\u7de8\u96c6\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3092\u5909\u66f4\uff08\u81ea\u5206\u3067box add\u3057\u305f\u6642\u306b\u3064\u3051\u305f\u540d\u524d\u3067\u3059\uff09\n#config.vm.box = \"base\"\nconfig.vm.box = \"centOS65Box\"\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b3\u30e1\u30f3\u30c8\u3092\u306f\u305a\u3057\u307e\u3059\n#config.vm.network :private_network, ip: \"192.168.33.10\"\n\u2193\nconfig.vm.network :private_network, ip: \"192.168.33.10\"\n\n\nVM\u8d77\u52d5&\u30ed\u30b0\u30a4\u30f3\nvagrant up\n\nvagrant ssh\n\n$ uname -a\nLinux vagrant-centos65.vagrantup.com 2.6.32-431.3.1.el6.x86_64 #1 SMP Fri Jan 3 21:39:27 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux\n\n\n\u30ed\u30b0\u30a4\u30f3\u5f8cVM\u74b0\u5883\u3067\u306e\u4f5c\u696d\n\nselinux\u8a2d\u5b9a\n\u53c2\u8003\u8a18\u4e8b\u3067\u306f\n\n\u30a8\u30c7\u30a3\u30bf\u3067 /etc/sysconfig/selinux \u3092\u958b\u304d\u3001 SELINUX \u306e\u5024\u3092 disabled \u306b\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3068\u3042\u308a\u307e\u3059\u304c\u3001\u3082\u3046disabled\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u3068\u3057\u307e\u3059\u3002\n\nOS\u8a00\u8a9e\u8a2d\u5b9a\n/etc/sysconfig/i18n\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n\n/etc/sysconfig/i18n\nLANG=\u201dja_JP.UTF-8\u201d\nSUPPORTED=\u201dja_JP.UTF-8:ja_JP:ja\u201d\n\n\n\nVim\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVim\u4f7f\u3044\u305f\u3044\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nsudo yum install vim\n\n\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b.vimrc\u3092\u4f5c\u6210\u3057\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\n:set encoding=utf-8\n\n\niptables\u306e\u8a2d\u5b9a\n\u53c2\u8003\u8a18\u4e8b\u3067\u306f/etc/sysconfig/iptables\u306e\u8a2d\u5b9a\u3068\u518d\u8d77\u52d5\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u306eBox\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u74b0\u5883\u3067\u306f/etc/sysconfig/iptables\u3082\u5b58\u5728\u305b\u305a\u3001iptables\u306e\u8a2d\u5b9a\u304c\u306a\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u3001\u7df4\u7fd2\u306a\u306e\u3067\u3001\u3053\u306e\u307e\u307e\u4f55\u3082\u3057\u307e\u305b\u3093\u3002\u3082\u3061\u308d\u3093\u904b\u7528\u3059\u308b\u5834\u5408\u306f\u305d\u306e\u307e\u307e\u904b\u7528\u306a\u3069\u65ad\u3058\u3066\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u304d\u3061\u3093\u3068\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\nhttp://dl.fedoraproject.org/pub/epel/6/x86_64/repoview/epel-release.html\n\u2191\u3053\u3061\u3089\u306b\u3042\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30ea\u30f3\u30afURL\u3092\u30b3\u30d4\u30fc\u3057\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\nrpm -Uvh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\n\n\u8a73\u3057\u304f\u306f\u53c2\u8003\u8a18\u4e8b\u306eEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3082\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\u78ba\u8a8d\n$ yum repolist\nFailed to set locale, defaulting to C\nLoaded plugins: fastestmirror, versionlock\nDetermining fastest mirrors\n * base: mirror.fairway.ne.jp\n * epel: ftp.jaist.ac.jp\n * extras: mirror.fairway.ne.jp\n * updates: centos.ustc.edu.cn\nrepo id                                                           repo name                                                                                                 status\nbase                                                              CentOS-6 - Base                                                                                            6367\nepel                                                              Extra Packages for Enterprise Linux 6 - x86_64                                                            10737\nextras                                                            CentOS-6 - Extras                                                                                            14\nupdates                                                           CentOS-6 - Updates                                                                                          864\nrepolist: 17982\n\n\u3053\u308c\u3067EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3082\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\u3044\u308d\u3044\u308d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u958b\u767a\u30c4\u30fc\u30eb(C\u30b3\u30f3\u30d1\u30a4\u30e9\u7b49)\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum groupinstall \"Development Tools\"\n\n\nRuby\u3068Passenger\u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum -y install openssl-devel readline-devel zlib-devel curl-devel libyaml-devel\n\n\nMySQL\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum -y install mysql-server mysql-devel\n\n\nApache\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum -y install httpd httpd-devel\n\n\nImageMagick\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u30fb\u65e5\u672c\u8a9e\u30d5\u30a9\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum -y install ImageMagick ImageMagick-devel ipa-pgothic-fonts\n\n\u3053\u306e\u8fba\u306f\u53c2\u8003\u8a18\u4e8b\u307e\u307e\u3067\u3059\u3002\n\nRuby\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u3053\u306a\u3093\u3067\u3059\u304c\u3001rbenv\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u53c2\u8003\u8a18\u4e8b\u306b\u6cbf\u3063\u3066\u3001\u30bd\u30fc\u30b9\u304b\u3089\u3084\u3063\u305f\u3093\u3067\u3059\u304c\u3001\u3046\u307e\u304f\u52d5\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u5927\u65b9\u3001\u79c1\u304c\u60aa\u3044\u306e\u3067\u3057\u3087\u3046\u3051\u308c\u3069\u3082\u3002\u307e\u3041\u3001rbenv\u4f7f\u3063\u3066\u7ba1\u7406\u3057\u305f\u307b\u3046\u304c\u826f\u3044\u3067\u3059\u3057\u306d\u3002\n\nrbenv\u3068Ruby\u672c\u4f53\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u3066\u307b\u307c\u305d\u306e\u307e\u307e\u3067\u3059\u3002\nrbenv \u3092\u4f7f\u3063\u3066 ruby \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b(CentOS\u7de8)\n2.1\u306f\u4f7f\u3048\u306a\u3044\u3088\u3046\u3067\u3059\u306e\u3067\u30012.0.0\u306e\u6700\u65b0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u53c2\u8003\u8a18\u4e8b\u3068\u306e\u5dee\u7570\u3068\u3057\u3066\u306f\u3001\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308brbenv\u304c\u5c11\u3057\u65b0\u3057\u3044\u3053\u3068\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308bRuby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3082\u65b0\u3057\u3044\u3082\u306e\u306b\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304f\u3089\u3044\u3067\u3059\u3002\nRuby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u306f\u5168\u3066\u540c\u69d8\u306b\u3002\nruby:2.0.0-p451\u304c\u6700\u65b0\u306a\u306e\u3067Ruby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u8a2d\u5b9a\u307e\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n$ rbenv install -v 2.0.0-p451\n$ rbenv rehash\n$ rbenv global 2.0.0-p451\n$ ruby -v\nruby 2.0.0p451 (2014-02-24 revision 45167) [x86_64-linux]\n\n\nbundler\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem install bundler --no-rdoc --no-ri\n\n\nbundler\u306e\u30d1\u30b9\u8a2d\u5b9a\n\u3053\u3053\u3067\u306f.bash_profile\u306b\u66f8\u304d\u8fbc\u3093\u3067\u3001\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002\n$ echo 'export PATH=\"$HOME/.gem/ruby/2.0.0/bin:$PATH\"' >> ~/.bash_profile\n$ source ~/.bash_profile\n$ bundle -v\nBundler version 1.6.2\n\n\nMySQL\u306e\u8a2d\u5b9a\n\u53c2\u8003\u8a18\u4e8b\u305d\u306e\u307e\u307e\u3067\u3059\u306e\u3067\u3001\u7701\u7565\u3057\u307e\u3059\u3002\nsudo\u3064\u3051\u3066\u3084\u3089\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u30b3\u30de\u30f3\u30c9\u306fsudo\u3064\u3051\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nRedmine\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3088\u3046\u3084\u304f\u672c\u4f53\u3067\u3059\u3002\n\n\u672c\u4f53\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u304b\u3089\u6700\u65b0\u306e\u5b89\u5b9a\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nhttp://www.redmine.org/projects/redmine/wiki/Download\n\u3053\u3053\u3067\u306f\u3001\u4eca\u65e5\u73fe\u5728\uff082014\u5e745\u67082\u65e5\uff092.5.1\u3067\u3059\u3002\n\u3053\u3053\u3067\u306fHome\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08/home/vagrant)\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\ncurl -O http://www.redmine.org/releases/redmine-2.5.1.tar.gz\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u78ba\u8a8d\n$ ls\nredmine-2.5.1.tar.gz\n\n\u5c55\u958b\ntar xvf redmine-2.5.1.tar.gz\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u914d\u7f6e\uff08/var/lib/redmine\u3078\u914d\u7f6e\uff09\nsudo mv redmine-2.5.1 /var/lib/redmine\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u8a2d\u5b9a\n/var/lib/redmine/config\u306bdatabase.yml\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\ndatabase.yml\nproduction:\n  adapter: mysql2\n  database: db_redmine\n  host: localhost\n  username: user_redmine\n  password: ********\n  encoding: utf8\n\n\npassword\u306fMySQL\u8a2d\u5b9a\u3067\u6307\u5b9a\u3057\u305f\u3082\u306e\u3092\u66f8\u304d\u307e\u3059\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\uff08configuration.yml \u306e\u8a2d\u5b9a\uff09\n\u53c2\u8003\u8a18\u4e8b\n\u57fa\u672c\u7684\u306b\u3053\u3061\u3089\u306e\u53c2\u7167\u5148\u30b5\u30a4\u30c8\u3067\u306fmail\u8a2d\u5b9a\u3092\u3057\u3066\u307e\u3059\u3002\nmail\u30b5\u30fc\u30d0\u305f\u3066\u3066\u3053\u306e\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001Redmine\u304b\u3089\u30e1\u30fc\u30eb\u304c\u9001\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\u3053\u3053\u3067\u306f\u7c21\u6613\u7684\u306bgoogle\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3063\u3066\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\u2193\u53c2\u8003\nRedmine\u3092\u8a2d\u5b9a\u3059\u308b\n/var/lib/redmine/config\u306bconfiguration.yml\u3092\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\n\nconfiguration.yml\nproduction:\n  email_delivery:\n    delivery_method: :smtp\n    smtp_settings:\n      enable_starttls_auto: true\n      address: \"smtp.gmail.com\"\n      port: 587\n      domain: \"smtp.gmail.com\"\n      authentication: :plain\n      user_name: \"************\"\n      password: \"************\"\n\nrmagick_font_path: /usr/share/fonts/ipa-pgothic/ipagp.ttf\n\n\n\nGem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n/var/lib/redmine\uff08Redmine\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff09\u3067\nbundle install --without development test\n\n\nRedmine\u306e\u521d\u671f\u8a2d\u5b9a\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\n/var/lib/redmine\uff08Redmine\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff09\u3067\nbundle exec rake generate_secret_token\nRAILS_ENV=production bundle exec rake db:migrate\n\n\nPassenger\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nPassenger\u3053\u308c\u3067\u3059\u3002\ngem install passenger --no-rdoc --no-ri\n\n\nPassenger\u306eApache\u7528\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npassenger-install-apache2-module\n\n\u5bfe\u8a71\u5f62\u5f0f\u306b\u306a\u308a\u307e\u3059\nWhich languages are you interested in?\n\nUse <space> to select.\nIf the menu doesn't display correctly, press '!'\n\n   \u2b22  Ruby\n   \u2b21  Python\n   \u2b21  Node.js\n \u2023 \u2b21  Meteor\n\n\u4eca\u56de\u306fRuby\u3060\u3051\u9078\u629e\u3057\u3066\u3001Enter\nWarning: some directories may be inaccessible by the web server!\n\nThe web server typically runs under a separate user account for security\nreasons. That user must be able to access the Phusion Passenger files.\nHowever, it appears that some directories have too strict permissions. This\nmay prevent the web server user from accessing Phusion Passenger files.\n\nIt is recommended that you relax permissions as follows:\n\n  sudo chmod o+x \"/home/vagrant\"\n\nPress Ctrl-C to return to the shell. (Recommended)\nAfter relaxing permissions, re-run this installer.\n  -OR-\nPress Enter to continue anyway.\n\n\u30ef\u30fc\u30cb\u30f3\u30b0\u304c\u51fa\u305f\u306e\u3067\u3001\u4e2d\u65ad\u3057\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u6a29\u9650\u4e0e\u3048\u308b\nsudo chmod o+x \"/home/vagrant\"\n\n\u3082\u3046\u4e00\u5ea6\npassenger-install-apache2-module\n\nEnjoy Phusion Passenger, a product of Phusion (www.phusion.nl) :-)\nhttps://www.phusionpassenger.com\n\nPhusion Passenger is a trademark of Hongli Lai & Ninh Bui.\n\nOK\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u3066\u3044\u308b\u306e\u3067OK\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\nApache\u306e\u8a2d\u5b9a\n/etc/httpd/conf.d/\u306bpassenger.conf \u3092\u4f5c\u6210\u3057\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u7d50\u679c\u3092\u8a18\u8f09\u3059\u308b\u3002\n$ passenger-install-apache2-module --snippet\nLoadModule passenger_module /home/vagrant/.rbenv/versions/2.0.0-p451/lib/ruby/gems/2.0.0/gems/passenger-4.0.41/buildout/apache2/mod_passenger.so\n<IfModule mod_passenger.c>\n  PassengerRoot /home/vagrant/.rbenv/versions/2.0.0-p451/lib/ruby/gems/2.0.0/gems/passenger-4.0.41\n  PassengerDefaultRuby /home/vagrant/.rbenv/versions/2.0.0-p451/bin/ruby\n</IfModule>\n\n\u3053\u306e\u5185\u5bb9\u3092passenger.conf\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n# \u3053\u3053\u306bpassenger-install-apache2-module --snippet\u306e\u7d50\u679c\u3092\u8a2d\u5b9a\u3057\u307e\u3059\nLoadModule passenger_module /home/vagrant/.rbenv/versions/2.0.0-p451/lib/ruby/gems/2.0.0/gems/passenger-4.0.41/buildout/apache2/mod_passenger.so\nPassengerRoot /home/vagrant/.rbenv/versions/2.0.0-p451/lib/ruby/gems/2.0.0/gems/passenger-4.0.41\nPassengerDefaultRuby /home/vagrant/.rbenv/versions/2.0.0-p451/bin/ruby\n\n# Passenger\u304c\u8ffd\u52a0\u3059\u308bHTTP\u30d8\u30c3\u30c0\u3092\u524a\u9664\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\uff08\u4efb\u610f\uff09\u3002\nHeader always unset \"X-Powered-By\"\nHeader always unset \"X-Rack-Cache\"\nHeader always unset \"X-Content-Digest\"\nHeader always unset \"X-Runtime\"\n\n# \u5fc5\u8981\u306b\u5fdc\u3058\u3066Passenger\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\uff08\u4efb\u610f\uff09\u3002\n# \u8a73\u3057\u304f\u306fPhusion Passenger users guide(http://www.modrails.com/documentation/Users%20guide%20Apache.html)\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\nPassengerMaxPoolSize 20\nPassengerMaxInstancesPerApp 4\nPassengerPoolIdleTime 3600\nPassengerHighPerformance on\nPassengerStatThrottleRate 10\nPassengerSpawnMethod smart\nRailsAppSpawnerIdleTime 86400\nPassengerMaxPreloaderIdleTime 0\n\n\nApache\u8d77\u52d5\uff06\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\nsudo service httpd start\nsudo chkconfig httpd on\n\n\u8d77\u52d5\u78ba\u8a8d\n$ ps aux | grep httpd\nroot      8046  0.2  0.7 186572  4440 ?        Ss   08:49   0:00 /usr/sbin/httpd\napache    8066  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8067  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8068  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8069  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8070  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8071  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8072  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8073  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\nvagrant   8086  0.0  0.1   8360   752 pts/0    S+   08:50   0:00 grep httpd\n\n\n\nRedmine\u5b9f\u884c\u8a2d\u5b9a\n/var/lib/redmine\u306e\u6240\u6709\u8005\u3092\u5909\u66f4\nsudo chown -R apache:apache /var/lib/redmine\n\n\u53c2\u8003\u8a18\u4e8b\n\u3067\u306f\u30013\u30d1\u30bf\u30fc\u30f3\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\n\u3053\u3053\u3067\u306f\u30d1\u30bf\u30fc\u30f3\uff12\u3067\u8a2d\u5b9a\u3057\u307e\u3059\nsudo ln -s /var/lib/redmine/public /var/www/html/redmine\n\n/etc/httpd/conf.d/passenger.conf\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\npassenger.conf\nRackBaseURI /redmine\n\n\n\u518d\u8d77\u52d5\u3057\u307e\u3059\nsudo service httpd restart\n\n\nMac\u306b\u623b\u3063\u3066\u4f5c\u696d\nVagrant\u518d\u8d77\u52d5\nvagrant halt\nvagrant up\n\n\nRedmine\u306b\u30a2\u30af\u30bb\u30b9\n\nURL\u30a2\u30af\u30bb\u30b9\n\n\n\u30ed\u30b0\u30a4\u30f3\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067admin\u30e6\u30fc\u30b6\u304c\u3044\u308b\u306e\u3067\u3001admin\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\n\u53f3\u4e0a\u306e\u30ed\u30b0\u30a4\u30f3\u30ea\u30f3\u30af\u304b\u3089\n\n\u30ed\u30b0\u30a4\u30f3\uff1aadmin\n\u30d1\u30b9\u30ef\u30fc\u30c9\uff1aadmin\n\n\u3067\u30ed\u30b0\u30a4\u30f3\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u30ed\u30fc\u30c9\n\u3068\u308a\u3042\u3048\u305a\u7ba1\u7406\u753b\u9762\u3067\n\n\n\u30e1\u30fc\u30eb\u9001\u4fe1\u306e\u78ba\u8a8d\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30ebconfiguration.yml\u3067\u8a2d\u5b9a\u3057\u305fgmail\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u30e6\u30fc\u30b6\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a\uff08\u3053\u3053\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306eadmin\u30e6\u30fc\u30b6\uff09\n\n\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\n\n\u30e1\u30fc\u30eb\u304c\u9001\u4fe1\u3055\u308c\u308c\u3070\u3001OK\u3067\u3059\u3002\n\n\u4f7f\u7528\u65b9\u6cd5\n\u304a\u3044\u304a\u3044\u3067\u3059\n\n\n#\u524d\u63d0\u74b0\u5883\n| \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 | \u30d0\u30fc\u30b8\u30e7\u30f3 |\n|:-----------|------------:|\n| MacOS | 10.9.2 |\n| Vagrant | 1.4.3 |\n| VirtualBox |4.3.4 |\n\n#\u4eca\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3082\u306e\n| \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 | \u30d0\u30fc\u30b8\u30e7\u30f3 |\n|:-----------|------------:|\n| MySQL | 5.1.73 |\n| Apache | 2.2.15 |\n| Passenger | 4.0.41 |\n| rbenv | 0.4.0 |\n| Ruby | 2.0.0 |\n\n\n\n\n\n#\u57fa\u672c\n[Redmine 2.5\u3092CentOS 6.5\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u624b\u9806](http://blog.redmine.jp/articles/2_5/installation_centos/)\n\n\u4e0a\u8a18\u30ea\u30f3\u30af\u3092\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u3044\u304f\u3064\u304b\u5909\u3048\u305f\u308a\u3001Vagrant\u3060\u304b\u3089\u306a\u306e\u304b\u3001\u3061\u3087\u3063\u3068\u30a8\u30e9\u30fc\u51fa\u305f\u308a\u3068\u304b\u3042\u3063\u305f\u306e\u3067\u3001\u4e00\u5fdc\u5168\u90e8\u305f\u3069\u3063\u3066\u307f\u307e\u3059\u3002\n\n[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\u306e\u307e\u307e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068MySQL\u3068\u304b\u3082\u308f\u308a\u3068\u53e4\u3044\u3082\u306e\u304c\u5165\u308a\u307e\u3059\u304c\u3001\n\u52d5\u304b\u306a\u3044\u3068\u306a\u3093\u3067\u3059\u306e\u3067\u3001[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\u306b\u6cbf\u3063\u305f\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\n\n#Mac\u4e0a\u3067\u306e\u4f5c\u696d\n##CentOS6.5\u306eBox\u3092\u8ffd\u52a0\u3059\u308b\n```\nvagrant box add centOS65Box https://github.com/2creatives/vagrant-centos/releases/download/v6.5.3/centos65-x86_64-20140116.box\n```\n\n##\u8ffd\u52a0\u306e\u78ba\u8a8d\n```\n$ vagrant box list\ncentOS65Box (virtualbox)\n```\n\n##Vagrant\u521d\u671f\u5316\n\u4efb\u610f\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\n\n\u3053\u3053\u3067\u306f\n\n```\n~/Documents/VagrantVM/redmineVM\n```\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3001\n\n```\n$ vagrant init\n```\n\u3057\u307e\u3059\u3002\n\nVagrantFile\u304c\u3067\u304d\u3066\u3044\u308c\u3070\u3001OK\n\n```\n$ ls -la\ntotal 16\ndrwxr-xr-x  3 teru1  staff   102  5  1 13:30 ./\ndrwxr-xr-x  9 teru1  staff   306  5  1 13:17 ../\n-rw-r--r--  1 teru1  staff  4606  5  1 13:30 Vagrantfile\n```\n\n\n\n##VagrantFile\u7de8\u96c6\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3092\u5909\u66f4\uff08\u81ea\u5206\u3067box add\u3057\u305f\u6642\u306b\u3064\u3051\u305f\u540d\u524d\u3067\u3059\uff09\n\n```\n#config.vm.box = \"base\"\nconfig.vm.box = \"centOS65Box\"\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b3\u30e1\u30f3\u30c8\u3092\u306f\u305a\u3057\u307e\u3059\n\n``` \n#config.vm.network :private_network, ip: \"192.168.33.10\"\n\u2193\nconfig.vm.network :private_network, ip: \"192.168.33.10\"\n```\n\n##VM\u8d77\u52d5&\u30ed\u30b0\u30a4\u30f3\n```\nvagrant up\n```\n```\nvagrant ssh\n```\n```\n$ uname -a\nLinux vagrant-centos65.vagrantup.com 2.6.32-431.3.1.el6.x86_64 #1 SMP Fri Jan 3 21:39:27 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux\n```\n\n#\u30ed\u30b0\u30a4\u30f3\u5f8cVM\u74b0\u5883\u3067\u306e\u4f5c\u696d\n##selinux\u8a2d\u5b9a\n[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\u3067\u306f\n>\u30a8\u30c7\u30a3\u30bf\u3067 /etc/sysconfig/selinux \u3092\u958b\u304d\u3001 SELINUX \u306e\u5024\u3092 disabled \u306b\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3068\u3042\u308a\u307e\u3059\u304c\u3001\u3082\u3046disabled\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u3001\u305d\u306e\u307e\u307e\u3068\u3057\u307e\u3059\u3002\n\n\n##OS\u8a00\u8a9e\u8a2d\u5b9a\n/etc/sysconfig/i18n\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n\n```shell:/etc/sysconfig/i18n\nLANG=\u201dja_JP.UTF-8\u201d\nSUPPORTED=\u201dja_JP.UTF-8:ja_JP:ja\u201d\n```\n\n##Vim\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVim\u4f7f\u3044\u305f\u3044\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nsudo yum install vim\n```\n\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b.vimrc\u3092\u4f5c\u6210\u3057\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\n\n```\n:set encoding=utf-8\n```\n\n##iptables\u306e\u8a2d\u5b9a\n[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\u3067\u306f/etc/sysconfig/iptables\u306e\u8a2d\u5b9a\u3068\u518d\u8d77\u52d5\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u306eBox\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u74b0\u5883\u3067\u306f/etc/sysconfig/iptables\u3082\u5b58\u5728\u305b\u305a\u3001iptables\u306e\u8a2d\u5b9a\u304c\u306a\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u3001\u7df4\u7fd2\u306a\u306e\u3067\u3001\u3053\u306e\u307e\u307e\u4f55\u3082\u3057\u307e\u305b\u3093\u3002\u3082\u3061\u308d\u3093\u904b\u7528\u3059\u308b\u5834\u5408\u306f<b>\u305d\u306e\u307e\u307e\u904b\u7528\u306a\u3069\u65ad\u3058\u3066\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044</b>\u3002\u304d\u3061\u3093\u3068\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n##EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\nhttp://dl.fedoraproject.org/pub/epel/6/x86_64/repoview/epel-release.html\n\n\u2191\u3053\u3061\u3089\u306b\u3042\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30ea\u30f3\u30afURL\u3092\u30b3\u30d4\u30fc\u3057\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\n\n```\nrpm -Uvh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\n```\n\u8a73\u3057\u304f\u306f[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\u306eEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3082\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n<br>\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\u78ba\u8a8d\n\n```\n$ yum repolist\nFailed to set locale, defaulting to C\nLoaded plugins: fastestmirror, versionlock\nDetermining fastest mirrors\n * base: mirror.fairway.ne.jp\n * epel: ftp.jaist.ac.jp\n * extras: mirror.fairway.ne.jp\n * updates: centos.ustc.edu.cn\nrepo id                                                           repo name                                                                                                 status\nbase                                                              CentOS-6 - Base                                                                                            6367\nepel                                                              Extra Packages for Enterprise Linux 6 - x86_64                                                            10737\nextras                                                            CentOS-6 - Extras                                                                                            14\nupdates                                                           CentOS-6 - Updates                                                                                          864\nrepolist: 17982\n```\n\u3053\u308c\u3067EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3082\u53ef\u80fd\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n<br>\n\n\n##\u3044\u308d\u3044\u308d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n###\u958b\u767a\u30c4\u30fc\u30eb(C\u30b3\u30f3\u30d1\u30a4\u30e9\u7b49)\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nsudo yum groupinstall \"Development Tools\"\n```\n\n###Ruby\u3068Passenger\u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nsudo yum -y install openssl-devel readline-devel zlib-devel curl-devel libyaml-devel\n```\n\n###MySQL\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nsudo yum -y install mysql-server mysql-devel\n```\n\n###Apache\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nsudo yum -y install httpd httpd-devel\n```\n\n###ImageMagick\u3068\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u30fb\u65e5\u672c\u8a9e\u30d5\u30a9\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nsudo yum -y install ImageMagick ImageMagick-devel ipa-pgothic-fonts\n```\n\u3053\u306e\u8fba\u306f[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\u307e\u307e\u3067\u3059\u3002\n\n##Ruby\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u3053\u306a\u3093\u3067\u3059\u304c\u3001rbenv\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\u306b\u6cbf\u3063\u3066\u3001\u30bd\u30fc\u30b9\u304b\u3089\u3084\u3063\u305f\u3093\u3067\u3059\u304c\u3001\u3046\u307e\u304f\u52d5\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u5927\u65b9\u3001\u79c1\u304c\u60aa\u3044\u306e\u3067\u3057\u3087\u3046\u3051\u308c\u3069\u3082\u3002\u307e\u3041\u3001rbenv\u4f7f\u3063\u3066\u7ba1\u7406\u3057\u305f\u307b\u3046\u304c\u826f\u3044\u3067\u3059\u3057\u306d\u3002\n\n###rbenv\u3068Ruby\u672c\u4f53\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u3066\u307b\u307c\u305d\u306e\u307e\u307e\u3067\u3059\u3002\n[rbenv \u3092\u4f7f\u3063\u3066 ruby \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b(CentOS\u7de8)](http://qiita.com/inouet/items/478f4228dbbcd442bfe8)\n\n2.1\u306f\u4f7f\u3048\u306a\u3044\u3088\u3046\u3067\u3059\u306e\u3067\u30012.0.0\u306e\u6700\u65b0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n[\u53c2\u8003\u8a18\u4e8b](http://qiita.com/inouet/items/478f4228dbbcd442bfe8)\u3068\u306e\u5dee\u7570\u3068\u3057\u3066\u306f\u3001\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308brbenv\u304c\u5c11\u3057\u65b0\u3057\u3044\u3053\u3068\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308bRuby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3082\u65b0\u3057\u3044\u3082\u306e\u306b\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304f\u3089\u3044\u3067\u3059\u3002\nRuby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u306f\u5168\u3066\u540c\u69d8\u306b\u3002\n\nruby:2.0.0-p451\u304c\u6700\u65b0\u306a\u306e\u3067Ruby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u8a2d\u5b9a\u307e\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n$ rbenv install -v 2.0.0-p451\n$ rbenv rehash\n$ rbenv global 2.0.0-p451\n$ ruby -v\nruby 2.0.0p451 (2014-02-24 revision 45167) [x86_64-linux]\n```\n\n###bundler\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\ngem install bundler --no-rdoc --no-ri\n```\n###bundler\u306e\u30d1\u30b9\u8a2d\u5b9a\n\u3053\u3053\u3067\u306f.bash_profile\u306b\u66f8\u304d\u8fbc\u3093\u3067\u3001\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002\n\n```\n$ echo 'export PATH=\"$HOME/.gem/ruby/2.0.0/bin:$PATH\"' >> ~/.bash_profile\n$ source ~/.bash_profile\n$ bundle -v\nBundler version 1.6.2\n```\n\n##MySQL\u306e\u8a2d\u5b9a\n\n[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\u305d\u306e\u307e\u307e\u3067\u3059\u306e\u3067\u3001\u7701\u7565\u3057\u307e\u3059\u3002\nsudo\u3064\u3051\u3066\u3084\u3089\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u30b3\u30de\u30f3\u30c9\u306fsudo\u3064\u3051\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\n##Redmine\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3088\u3046\u3084\u304f\u672c\u4f53\u3067\u3059\u3002\n\n###\u672c\u4f53\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ee5\u4e0b\u304b\u3089\u6700\u65b0\u306e\u5b89\u5b9a\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nhttp://www.redmine.org/projects/redmine/wiki/Download\n\n\u3053\u3053\u3067\u306f\u3001\u4eca\u65e5\u73fe\u5728\uff082014\u5e745\u67082\u65e5\uff092.5.1\u3067\u3059\u3002\n\n\u3053\u3053\u3067\u306fHome\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08/home/vagrant)\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n```\ncurl -O http://www.redmine.org/releases/redmine-2.5.1.tar.gz\n```\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u78ba\u8a8d\n\n```\n$ ls\nredmine-2.5.1.tar.gz\n```\n\u5c55\u958b\n\n```\ntar xvf redmine-2.5.1.tar.gz\n```\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u914d\u7f6e\uff08/var/lib/redmine\u3078\u914d\u7f6e\uff09\n\n```\nsudo mv redmine-2.5.1 /var/lib/redmine\n```\n\n###\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3078\u306e\u63a5\u7d9a\u8a2d\u5b9a\n/var/lib/redmine/config\u306bdatabase.yml\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```database.yml\nproduction:\n  adapter: mysql2\n  database: db_redmine\n  host: localhost\n  username: user_redmine\n  password: ********\n  encoding: utf8\n```\n\npassword\u306fMySQL\u8a2d\u5b9a\u3067\u6307\u5b9a\u3057\u305f\u3082\u306e\u3092\u66f8\u304d\u307e\u3059\n\n\n###\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\uff08configuration.yml \u306e\u8a2d\u5b9a\uff09\n\n[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\n\u57fa\u672c\u7684\u306b\u3053\u3061\u3089\u306e\u53c2\u7167\u5148\u30b5\u30a4\u30c8\u3067\u306fmail\u8a2d\u5b9a\u3092\u3057\u3066\u307e\u3059\u3002\nmail\u30b5\u30fc\u30d0\u305f\u3066\u3066\u3053\u306e\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001Redmine\u304b\u3089\u30e1\u30fc\u30eb\u304c\u9001\u308c\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u3053\u3053\u3067\u306f\u7c21\u6613\u7684\u306bgoogle\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3063\u3066\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\u2193\u53c2\u8003\n[Redmine\u3092\u8a2d\u5b9a\u3059\u308b](http://d.hatena.ne.jp/oraora7/20130716)\n\n/var/lib/redmine/config\u306bconfiguration.yml\u3092\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\n\n```configuration.yml\nproduction:\n  email_delivery:\n    delivery_method: :smtp\n    smtp_settings:\n      enable_starttls_auto: true\n      address: \"smtp.gmail.com\"\n      port: 587\n      domain: \"smtp.gmail.com\"\n      authentication: :plain\n      user_name: \"************\"\n      password: \"************\"\n\nrmagick_font_path: /usr/share/fonts/ipa-pgothic/ipagp.ttf\n```\n\n###Gem\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n/var/lib/redmine\uff08Redmine\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff09\u3067\n\n```\nbundle install --without development test\n```\n###Redmine\u306e\u521d\u671f\u8a2d\u5b9a\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\n/var/lib/redmine\uff08Redmine\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff09\u3067\n\n```\nbundle exec rake generate_secret_token\nRAILS_ENV=production bundle exec rake db:migrate\n```\n\n##Passenger\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[Passenger](https://www.phusionpassenger.com/index2)\u3053\u308c\u3067\u3059\u3002\n\n```\ngem install passenger --no-rdoc --no-ri\n```\n\n###Passenger\u306eApache\u7528\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\npassenger-install-apache2-module\n```\n\u5bfe\u8a71\u5f62\u5f0f\u306b\u306a\u308a\u307e\u3059\n\n```\nWhich languages are you interested in?\n\nUse <space> to select.\nIf the menu doesn't display correctly, press '!'\n\n   \u2b22  Ruby\n   \u2b21  Python\n   \u2b21  Node.js\n \u2023 \u2b21  Meteor\n```\n\u4eca\u56de\u306fRuby\u3060\u3051\u9078\u629e\u3057\u3066\u3001Enter\n\n```\nWarning: some directories may be inaccessible by the web server!\n\nThe web server typically runs under a separate user account for security\nreasons. That user must be able to access the Phusion Passenger files.\nHowever, it appears that some directories have too strict permissions. This\nmay prevent the web server user from accessing Phusion Passenger files.\n\nIt is recommended that you relax permissions as follows:\n\n  sudo chmod o+x \"/home/vagrant\"\n\nPress Ctrl-C to return to the shell. (Recommended)\nAfter relaxing permissions, re-run this installer.\n  -OR-\nPress Enter to continue anyway.\n```\n\u30ef\u30fc\u30cb\u30f3\u30b0\u304c\u51fa\u305f\u306e\u3067\u3001\u4e2d\u65ad\u3057\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u6a29\u9650\u4e0e\u3048\u308b\n\n```\nsudo chmod o+x \"/home/vagrant\"\n```\n\u3082\u3046\u4e00\u5ea6\n\n```\npassenger-install-apache2-module\n```\n\n```\nEnjoy Phusion Passenger, a product of Phusion (www.phusion.nl) :-)\nhttps://www.phusionpassenger.com\n\nPhusion Passenger is a trademark of Hongli Lai & Ninh Bui.\n```\nOK\u306e\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u3066\u3044\u308b\u306e\u3067OK\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n##Apache\u306e\u8a2d\u5b9a\n/etc/httpd/conf.d/\u306bpassenger.conf \u3092\u4f5c\u6210\u3057\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u7d50\u679c\u3092\u8a18\u8f09\u3059\u308b\u3002\n\n```\n$ passenger-install-apache2-module --snippet\nLoadModule passenger_module /home/vagrant/.rbenv/versions/2.0.0-p451/lib/ruby/gems/2.0.0/gems/passenger-4.0.41/buildout/apache2/mod_passenger.so\n<IfModule mod_passenger.c>\n  PassengerRoot /home/vagrant/.rbenv/versions/2.0.0-p451/lib/ruby/gems/2.0.0/gems/passenger-4.0.41\n  PassengerDefaultRuby /home/vagrant/.rbenv/versions/2.0.0-p451/bin/ruby\n</IfModule>\n```\n\u3053\u306e\u5185\u5bb9\u3092passenger.conf\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n\n\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n# \u3053\u3053\u306bpassenger-install-apache2-module --snippet\u306e\u7d50\u679c\u3092\u8a2d\u5b9a\u3057\u307e\u3059\nLoadModule passenger_module /home/vagrant/.rbenv/versions/2.0.0-p451/lib/ruby/gems/2.0.0/gems/passenger-4.0.41/buildout/apache2/mod_passenger.so\nPassengerRoot /home/vagrant/.rbenv/versions/2.0.0-p451/lib/ruby/gems/2.0.0/gems/passenger-4.0.41\nPassengerDefaultRuby /home/vagrant/.rbenv/versions/2.0.0-p451/bin/ruby\n\n# Passenger\u304c\u8ffd\u52a0\u3059\u308bHTTP\u30d8\u30c3\u30c0\u3092\u524a\u9664\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\uff08\u4efb\u610f\uff09\u3002\nHeader always unset \"X-Powered-By\"\nHeader always unset \"X-Rack-Cache\"\nHeader always unset \"X-Content-Digest\"\nHeader always unset \"X-Runtime\"\n\n# \u5fc5\u8981\u306b\u5fdc\u3058\u3066Passenger\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\uff08\u4efb\u610f\uff09\u3002\n# \u8a73\u3057\u304f\u306fPhusion Passenger users guide(http://www.modrails.com/documentation/Users%20guide%20Apache.html)\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\nPassengerMaxPoolSize 20\nPassengerMaxInstancesPerApp 4\nPassengerPoolIdleTime 3600\nPassengerHighPerformance on\nPassengerStatThrottleRate 10\nPassengerSpawnMethod smart\nRailsAppSpawnerIdleTime 86400\nPassengerMaxPreloaderIdleTime 0\n```\n\n###Apache\u8d77\u52d5\uff06\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n\n```\nsudo service httpd start\nsudo chkconfig httpd on\n```\n\n\u8d77\u52d5\u78ba\u8a8d\n\n```\n$ ps aux | grep httpd\nroot      8046  0.2  0.7 186572  4440 ?        Ss   08:49   0:00 /usr/sbin/httpd\napache    8066  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8067  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8068  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8069  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8070  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8071  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8072  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\napache    8073  0.0  0.4 186704  2664 ?        S    08:49   0:00 /usr/sbin/httpd\nvagrant   8086  0.0  0.1   8360   752 pts/0    S+   08:50   0:00 grep httpd\n\n```\n\n\n##Redmine\u5b9f\u884c\u8a2d\u5b9a\n/var/lib/redmine\u306e\u6240\u6709\u8005\u3092\u5909\u66f4\n\n```\nsudo chown -R apache:apache /var/lib/redmine\n```\n\n[\u53c2\u8003\u8a18\u4e8b](http://blog.redmine.jp/articles/2_5/installation_centos/)\n\u3067\u306f\u30013\u30d1\u30bf\u30fc\u30f3\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\n\u3053\u3053\u3067\u306f\u30d1\u30bf\u30fc\u30f3\uff12\u3067\u8a2d\u5b9a\u3057\u307e\u3059\n\n```\nsudo ln -s /var/lib/redmine/public /var/www/html/redmine\n```\n\n/etc/httpd/conf.d/passenger.conf\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\n\n```passenger.conf\nRackBaseURI /redmine\n```\n\n\u518d\u8d77\u52d5\u3057\u307e\u3059\n\n```\nsudo service httpd restart\n```\n\n\n#Mac\u306b\u623b\u3063\u3066\u4f5c\u696d\nVagrant\u518d\u8d77\u52d5\n\n```\nvagrant halt\nvagrant up\n```\n\n##Redmine\u306b\u30a2\u30af\u30bb\u30b9\n###URL\u30a2\u30af\u30bb\u30b9\n![redmine](http://f.cl.ly/items/0e3O2y3A40223e2d3a2f/2014-05-02_9_52_06.png)\n\n###\u30ed\u30b0\u30a4\u30f3\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067admin\u30e6\u30fc\u30b6\u304c\u3044\u308b\u306e\u3067\u3001admin\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\n\u53f3\u4e0a\u306e\u30ed\u30b0\u30a4\u30f3\u30ea\u30f3\u30af\u304b\u3089\n>\u30ed\u30b0\u30a4\u30f3\uff1aadmin\n>\u30d1\u30b9\u30ef\u30fc\u30c9\uff1aadmin\n\n\u3067\u30ed\u30b0\u30a4\u30f3\n\n###\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u30ed\u30fc\u30c9\n\u3068\u308a\u3042\u3048\u305a\u7ba1\u7406\u753b\u9762\u3067\n\n![redmine](http://f.cl.ly/items/0N3C1u2H31371L3a0q3i/2014-05-02_10_06_51.png)\n\n\n###\u30e1\u30fc\u30eb\u9001\u4fe1\u306e\u78ba\u8a8d\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30ebconfiguration.yml\u3067\u8a2d\u5b9a\u3057\u305fgmail\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n![redmine](http://f.cl.ly/items/1z1H193U3n1O3X3j0d42/2014-05-02_10_52_13.png)\n\n\n\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u30e6\u30fc\u30b6\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a\uff08\u3053\u3053\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306eadmin\u30e6\u30fc\u30b6\uff09\n![redmine](http://f.cl.ly/items/0k0g2e1c3w2u0e2k0Q2q/2014-05-02_11_02_25.png)\n\n\u30c6\u30b9\u30c8\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\n![redmine](http://f.cl.ly/items/3K3q2L150T3O2O2x162J/2014-05-02_11_04_56.png)\n\n\n\u30e1\u30fc\u30eb\u304c\u9001\u4fe1\u3055\u308c\u308c\u3070\u3001OK\u3067\u3059\u3002\n\n#\u4f7f\u7528\u65b9\u6cd5\n\u304a\u3044\u304a\u3044\u3067\u3059\n\n<br>\n\n", "tags": ["Redmine", "CentOS", "vagrant"]}