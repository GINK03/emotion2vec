{"context": " More than 1 year has passed since last update.\u30d7\u30ed\u30b0\u30e9\u30de\u3042\u308b\u3042\u308b\u3068\u3057\u3066\u306f\u3001\u65b0\u3057\u3044\u8a00\u8a9e\u3092\u306f\u3058\u3081\u308b\u3068\u81ea\u7136\u3068\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3API\u3092\u63a2\u3057\u3066\u3057\u307e\u3046\u3082\u306e\u3067\u3059\u3002\n\u5f53\u7136\u3001golang\u306b\u3082reflect\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3042\u3063\u3066\u3001\u305d\u308c\u3092\u773a\u3081\u308b\u8a33\u3067\u3059\u304c\u3001package\u306b\u81ea\u4f53\u306b\u5bfe\u3059\u308bclass\u3084\u95a2\u6570\u306e\u5217\u6319\u304c\u306a\u3044\u306e\u3067\u3059\u3002\n\u305d\u3046\u306a\u3063\u3066\u304f\u308b\u3068\u4e0d\u601d\u8b70\u306a\u306e\u306f\u3001go test\u3067\u3059\u3002\ngo test\u306f\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304b\u3089\u3001Test\u3084Bench\u3001Example\u3068\u3044\u3063\u305fprefix\u306e\u3064\u3044\u3066\u3044\u308b\u3082\u306e\u3060\u3051\u3092\u5b9f\u884c\u3057\u305f\u308a\u3001Test\u3057\u305f\u3044\u95a2\u6570\u306eprefix\u3092\u6307\u5b9a\u3067\u304d\u305f\u308a\u3057\u307e\u3059\u3002\n$ go test .\n$ go test -bench Unit\n\n\u3053\u308c\u3092\u307f\u3066\u3001\u3059\u3063\u304b\u308aLL\u8133\u306b\u306a\u3063\u3066\u3044\u305f\u79c1\u306f\u3001package\u306b\u5bfe\u3057\u3066\u306ereflection\u304c\u3042\u308b\u3093\u3060\u308d\u3046\u3068\u601d\u3044\u8fbc\u3093\u3067\u3044\u305f\u306e\u3067\u3059\u3002\n\u5b9f\u969b\u306e\u3068\u3053\u308dgo test\u306f\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u3064\u3044\u3066\u304f\u308bgo/parser\u3092\u3064\u304b\u3044\u3001ast\u304b\u3089\u95a2\u6570\u3092\u898b\u3064\u3051\u51fa\u3057\u3001main\u30d1\u30c3\u30b1\u30fc\u30b8\u3084main\u95a2\u6570\u3092text/template\u3092\u3064\u304b\u3063\u3066\u4f5c\u6210\u3057\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068\u3044\u3046\u65b9\u6cd5\u3092\u3068\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\u4e00\u65b9\u3001\u3059\u3079\u3066\u9759\u7684\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3060\u304b\u3089\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306a\u3069\u6301\u305f\u306a\u304f\u3066\u3082package\u304b\u3089\u95a2\u6570\u3092\u53d6\u308a\u51fa\u3059\u65b9\u6cd5\u304c\u3042\u308b\u3060\u308d\u3046\u3001\u3068\u3044\u308d\u3044\u308d\u63a2\u3057\u3066\u307f\u308b\u3068\nhttp://stackoverflow.com/questions/12127585/go-lookup-function-by-name\n\u3053\u306e\u3088\u3046\u306aStack Overflow\u306e\u8a18\u4e8b\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002\n\u306a\u3093\u306e\u3053\u3068\u306f\u306a\u3044\u52d5\u7684\u306b\u540d\u524d\u304b\u3089\u95a2\u6570\u3092\u898b\u3064\u3051\u305f\u3044\u3068\u3044\u3046\u8cea\u554f\u306a\u3093\u3067\u3059\u304c\u3001\n\u305d\u308c\u306b\u5bfe\u3059\u308b\u56de\u7b54\u3067\u3001\n\nThere's no way to dynamically look up a function by name, but I think it's worth mentioning why. Basically, the reason is so that the compiler and/or linker can eliminate unused functions.\nConsider that if you were able to get a function by name, then every function in every imported package (recursively) would have to be linked into the final executable, even if it was never used, just in case someone wanted to look it up by name. People already complain about the large size of Go binaries, but this would cause them to be much larger still.\n\n\u3068\u3044\u3046\u306e\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u3075\u3080\u3075\u3080\u3001\u306a\u308b\u307b\u3069\u3002\u4f7f\u3063\u3066\u3044\u306a\u3044\u95a2\u6570\u3092\u30ea\u30f3\u30af\u3057\u3066\u3044\u306a\u3044\u3068\u3002\n\nunused.c\nint main(){\n\n}\n// \u4f7f\u3063\u3066\u3044\u306a\u3044\u3002\nint AAAA(int a,int b){\n    return a+b;\n}\n\n\n\u305f\u3068\u3048\u3070\u3001C\u8a00\u8a9e\u3067\u306f\u3053\u306e\u3088\u3046\u306b\u3064\u304b\u3063\u3066\u3044\u306a\u3044\u95a2\u6570\u304c\u3042\u3063\u305f\u5834\u5408\u3001\n$ nm -a a.out                                                                                                 \n0000000100000f80 T _AAAA\n0000000100000000 T __mh_execute_header\n0000000100000f70 T _main\n                 U dyld_stub_binder\n\n\u3053\u3093\u306a\u304b\u3093\u3058\u306bAAAA\u3082link\u3055\u308c\u307e\u3059\u3002\n\nused.go\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    AAAAAA(2, 4)\n}\n\nfunc AAAAAA(a, b int) {\n    fmt.Println(a + b)\n}\n\n\n\ngo\u8a00\u8a9e\u3067\u3082\u6b21\u306e\u3088\u3046\u306b\u4f7f\u3063\u3066\u3044\u308b\u95a2\u6570\u3067\u3042\u308c\u3070\u3001\n$ nm -a hoge | grep main                                                                                      \n207:00000000000226a0 T _main\n1692:0000000000002040 t main.AAAAAA\n        :\n        :\n\n\nmain\u306b\u30a8\u30f3\u30c8\u30ea\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u4e00\u65b9\u3067\u3001\n\nunused.go\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    // AAAAAA(2, 4)\n}\n\nfunc AAAAAA(a, b int) {\n    fmt.Println(a + b)\n}\n\n\n\n\u3053\u306e\u3088\u3046\u306b\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3001\u4f7f\u3063\u3066\u3044\u306a\u3044\u95a2\u6570\u3092\u4f5c\u308b\u3068\nnm hoge | grep main                                                                                      \n206:0000000000022310 T _main\n1677:00000000000c6e8c s main.gcargs\u00b70\n1678:00000000000c6e90 s main.gcargs\u00b72\n1679:00000000000c6e94 s main.gclocals\u00b70\n1680:00000000000c6e98 s main.gclocals\u00b72\n1681:0000000000002010 t main.init\n1682:000000000016d9c2 s main.initdone\u00b7\n1683:0000000000002000 t main.main\n\n\u30a8\u30f3\u30c8\u30ea\u304c\u6d88\u3048\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u3001\u5229\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u95a2\u6570\u3092\u30ea\u30f3\u30af\u3057\u306a\u3044\u4ed5\u7d44\u307f\u306b\u3088\u3063\u3066\u5fc5\u8981\u4ee5\u4e0a\u306b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u304c\u80a5\u5927\u5316\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3093\u3067\u3059\u306d\u3002\n\n\u30d7\u30ed\u30b0\u30e9\u30de\u3042\u308b\u3042\u308b\u3068\u3057\u3066\u306f\u3001\u65b0\u3057\u3044\u8a00\u8a9e\u3092\u306f\u3058\u3081\u308b\u3068\u81ea\u7136\u3068\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3API\u3092\u63a2\u3057\u3066\u3057\u307e\u3046\u3082\u306e\u3067\u3059\u3002\n\n\u5f53\u7136\u3001golang\u306b\u3082reflect\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3042\u3063\u3066\u3001\u305d\u308c\u3092\u773a\u3081\u308b\u8a33\u3067\u3059\u304c\u3001package\u306b\u81ea\u4f53\u306b\u5bfe\u3059\u308bclass\u3084\u95a2\u6570\u306e\u5217\u6319\u304c\u306a\u3044\u306e\u3067\u3059\u3002\n\u305d\u3046\u306a\u3063\u3066\u304f\u308b\u3068\u4e0d\u601d\u8b70\u306a\u306e\u306f\u3001``go test``\u3067\u3059\u3002\n\n``go test``\u306f\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304b\u3089\u3001Test\u3084Bench\u3001Example\u3068\u3044\u3063\u305fprefix\u306e\u3064\u3044\u3066\u3044\u308b\u3082\u306e\u3060\u3051\u3092\u5b9f\u884c\u3057\u305f\u308a\u3001Test\u3057\u305f\u3044\u95a2\u6570\u306eprefix\u3092\u6307\u5b9a\u3067\u304d\u305f\u308a\u3057\u307e\u3059\u3002\n\n```bash\n$ go test .\n$ go test -bench Unit\n```\n\n\u3053\u308c\u3092\u307f\u3066\u3001\u3059\u3063\u304b\u308aLL\u8133\u306b\u306a\u3063\u3066\u3044\u305f\u79c1\u306f\u3001package\u306b\u5bfe\u3057\u3066\u306ereflection\u304c\u3042\u308b\u3093\u3060\u308d\u3046\u3068\u601d\u3044\u8fbc\u3093\u3067\u3044\u305f\u306e\u3067\u3059\u3002\n\n\u5b9f\u969b\u306e\u3068\u3053\u308d``go test``\u306f\u6a19\u6e96\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u3057\u3066\u3064\u3044\u3066\u304f\u308bgo/parser\u3092\u3064\u304b\u3044\u3001ast\u304b\u3089\u95a2\u6570\u3092\u898b\u3064\u3051\u51fa\u3057\u3001main\u30d1\u30c3\u30b1\u30fc\u30b8\u3084main\u95a2\u6570\u3092text/template\u3092\u3064\u304b\u3063\u3066\u4f5c\u6210\u3057\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3068\u3044\u3046\u65b9\u6cd5\u3092\u3068\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u4e00\u65b9\u3001\u3059\u3079\u3066\u9759\u7684\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u306a\u306e\u3060\u304b\u3089\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306a\u3069\u6301\u305f\u306a\u304f\u3066\u3082package\u304b\u3089\u95a2\u6570\u3092\u53d6\u308a\u51fa\u3059\u65b9\u6cd5\u304c\u3042\u308b\u3060\u308d\u3046\u3001\u3068\u3044\u308d\u3044\u308d\u63a2\u3057\u3066\u307f\u308b\u3068\n\nhttp://stackoverflow.com/questions/12127585/go-lookup-function-by-name\n\n\u3053\u306e\u3088\u3046\u306aStack Overflow\u306e\u8a18\u4e8b\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002\n\u306a\u3093\u306e\u3053\u3068\u306f\u306a\u3044\u52d5\u7684\u306b\u540d\u524d\u304b\u3089\u95a2\u6570\u3092\u898b\u3064\u3051\u305f\u3044\u3068\u3044\u3046\u8cea\u554f\u306a\u3093\u3067\u3059\u304c\u3001\n\u305d\u308c\u306b\u5bfe\u3059\u308b\u56de\u7b54\u3067\u3001\n\n> There's no way to dynamically look up a function by name, but I think it's worth mentioning why. Basically, the reason is so that the compiler and/or linker can eliminate unused functions.\n\n>Consider that if you were able to get a function by name, then every function in every imported package (recursively) would have to be linked into the final executable, even if it was never used, just in case someone wanted to look it up by name. People already complain about the large size of Go binaries, but this would cause them to be much larger still.\n\n\u3068\u3044\u3046\u306e\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u3075\u3080\u3075\u3080\u3001\u306a\u308b\u307b\u3069\u3002\u4f7f\u3063\u3066\u3044\u306a\u3044\u95a2\u6570\u3092\u30ea\u30f3\u30af\u3057\u3066\u3044\u306a\u3044\u3068\u3002\n\n```unused.c\nint main(){\n\n}\n// \u4f7f\u3063\u3066\u3044\u306a\u3044\u3002\nint AAAA(int a,int b){\n    return a+b;\n}\n```\n\u305f\u3068\u3048\u3070\u3001C\u8a00\u8a9e\u3067\u306f\u3053\u306e\u3088\u3046\u306b\u3064\u304b\u3063\u3066\u3044\u306a\u3044\u95a2\u6570\u304c\u3042\u3063\u305f\u5834\u5408\u3001\n\n```bash\n$ nm -a a.out                                                                                                 \n0000000100000f80 T _AAAA\n0000000100000000 T __mh_execute_header\n0000000100000f70 T _main\n                 U dyld_stub_binder\n```\n\u3053\u3093\u306a\u304b\u3093\u3058\u306bAAAA\u3082link\u3055\u308c\u307e\u3059\u3002\n\n```used.go\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    AAAAAA(2, 4)\n}\n\nfunc AAAAAA(a, b int) {\n    fmt.Println(a + b)\n}\n\n```\ngo\u8a00\u8a9e\u3067\u3082\u6b21\u306e\u3088\u3046\u306b\u4f7f\u3063\u3066\u3044\u308b\u95a2\u6570\u3067\u3042\u308c\u3070\u3001\n\n```bash\n$ nm -a hoge | grep main                                                                                      \n207:00000000000226a0 T _main\n1692:0000000000002040 t main.AAAAAA\n\t\t:\n\t\t:\n\n```\nmain\u306b\u30a8\u30f3\u30c8\u30ea\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u4e00\u65b9\u3067\u3001\n\n```unused.go\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    // AAAAAA(2, 4)\n}\n\nfunc AAAAAA(a, b int) {\n    fmt.Println(a + b)\n}\n\n```\n\u3053\u306e\u3088\u3046\u306b\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u3001\u4f7f\u3063\u3066\u3044\u306a\u3044\u95a2\u6570\u3092\u4f5c\u308b\u3068\n\n```bash\nnm hoge | grep main                                                                                      \n206:0000000000022310 T _main\n1677:00000000000c6e8c s main.gcargs\u00b70\n1678:00000000000c6e90 s main.gcargs\u00b72\n1679:00000000000c6e94 s main.gclocals\u00b70\n1680:00000000000c6e98 s main.gclocals\u00b72\n1681:0000000000002010 t main.init\n1682:000000000016d9c2 s main.initdone\u00b7\n1683:0000000000002000 t main.main\n```\n\n\u30a8\u30f3\u30c8\u30ea\u304c\u6d88\u3048\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u3001\u5229\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u95a2\u6570\u3092\u30ea\u30f3\u30af\u3057\u306a\u3044\u4ed5\u7d44\u307f\u306b\u3088\u3063\u3066\u5fc5\u8981\u4ee5\u4e0a\u306b\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u304c\u80a5\u5927\u5316\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3093\u3067\u3059\u306d\u3002\n\n\n\n\n\n\n\n", "tags": ["Go\u8a00\u8a9e", "golang", "Go"]}