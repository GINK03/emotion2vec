{"context": " More than 1 year has passed since last update.Instant Run\u306e\u30b3\u30fc\u30c9\u3068\u304b\u3061\u3087\u3063\u3068\u6c17\u306b\u306a\u308a\u307e\u305b\u3093\u304b\uff1f\n\u30b3\u30fc\u30c9\u304c\u3069\u3053\u306b\u3042\u308b\u306e\u304b\u306a\u3069\u5f8c\u3067\u5fd8\u308c\u305d\u3046\u306a\u306e\u3067\u3001\u81ea\u5206\u7528\u30e1\u30e2\u3068\u3057\u3066\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5834\u6240\u306e\u7279\u5b9a\nhttps://sites.google.com/a/android.com/tools/build\nhttps://sites.google.com/a/android.com/tools/build/gradleplugin\n\u3053\u3053\u3089\u3078\u3093\u3092\u307f\u3066\u3001\nrepo sync\u306a\u3069\u3092\u884c\u3063\u3066\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53d6\u3063\u3066\u304d\u307e\u3057\u305f\u3002\ntools\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b./gradlew projects\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51fa\u3066\u304d\u307e\u3057\u305f\u3002\nRoot project 'tools'\n+--- Project ':base'\n|    +--- Project ':base:annotations'\n\u7701\u7565\n|    +--- Project ':base:draw9patch'\n|    +--- Project ':base:dvlib'\n|    +--- Project ':base:google-services'\n|    +--- Project ':base:gradle'\n|    +--- Project ':base:gradle-core'\n|    +--- Project ':base:gradle-experimental'\n|    +--- Project ':base:gradle-import'\n|    +--- Project ':base:gradle-model'\n|    +--- Project ':base:integration-test'\n|    +--- Project ':base:jack'\n|    |    +--- Project ':base:jack:jack-api'\n|    |    \\--- Project ':base:jack:jill-api'\n|    +--- Project ':base:jobb'\n|    +--- Project ':base:layoutlib-api'\n|    +--- Project ':base:lint'\n\u7701\u7565\n\nhttps://gist.github.com/takahirom/605b24175e11e04110a4\nGradle\u306b\u95a2\u4fc2\u3042\u308a\u305d\u3046\u306a\u306e\u306f\n:base:gradle \u307f\u305f\u3044\u3067\u3059\u3002\n./gradlew base:gradle dependencies\n\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u6d17\u3063\u3066\u307f\u307e\u3059\u3002\n:base:gradle-core\u306a\u3069\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\ncompile - Compile classpath for source set 'main'.\n\\--- project :base:gradle-core\n     +--- project :base:builder\n     |    +--- project :base:builder-model\n     |    |    \\--- project :base:annotations\n     |    +--- project :base:builder-test-api\n     |    |    \\--- project :base:ddmlib\n     |    |         +--- project :base:common\n     |    |         |    +--- project :base:annotations\n     |    |         |    \\--- com.google.guava:guava:17.0\n     |    |         \\--- net.sf.kxml:kxml2:2.3.0\n     |    +--- project :base:sdklib\n     |    |    +--- project :base:layoutlib-api\n     |    |    |    +--- project :base:common (*)\n     |    |    |    +--- net.sf.kxml:kxml2:2.3.0\n     |    |    |    +--- project :base:annotations\n     |    |    |    \\--- com.intellij:annotations:12.0\n     |    |    +--- project :base:dvlib\n     |    |    |    \\--- project :base:common (*)\n     |    |    +--- com.google.code.gson:gson:2.2.4\n     |    |    +--- org.apache.commons:commons-compress:1.8.1\n     |    |    +--- org.apache.httpcomponents:httpclient:4.1.1\n     |    |    |    +--- org.apache.httpcomponents:httpcore:4.1\n     |    |    |    +--- commons-logging:commons-logging:1.1.1\n     |    |    |    \\--- commons-codec:commons-codec:1.4\n     |    |    \\--- org.apache.httpcomponents:httpmime:4.1\n     |    |         +--- org.apache.httpcomponents:httpcore:4.1\n     |    |         \\--- commons-logging:commons-logging:1.1.1\n     |    +--- project :base:sdk-common\n     |    |    +--- project :base:sdklib (*)\n     |    |    +--- project :base:builder-test-api (*)\n     |    |    \\--- project :base:builder-model (*)\n     |    +--- project :base:common (*)\n     |    +--- project :base:manifest-merger\n     |    |    +--- project :base:common (*)\n     |    |    +--- project :base:sdklib (*)\n     |    |    +--- project :base:sdk-common (*)\n     |    |    +--- net.sf.kxml:kxml2:2.3.0\n     |    |    \\--- com.google.code.gson:gson:2.2.4\n     |    +--- project :base:ddmlib (*)\n     |    +--- project :base:jack:jack-api\n     |    +--- project :base:jack:jill-api\n     |    +--- com.squareup:javawriter:2.5.0\n     |    +--- org.bouncycastle:bcpkix-jdk15on:1.48\n     |    |    \\--- org.bouncycastle:bcprov-jdk15on:1.48\n     |    +--- org.bouncycastle:bcprov-jdk15on:1.48\n     |    +--- org.ow2.asm:asm:5.0.3\n     |    \\--- org.ow2.asm:asm-tree:5.0.3\n     |         \\--- org.ow2.asm:asm:5.0.3\n     +--- project :base:lint\n     |    +--- project :base:lint-checks\n     |    |    +--- project :base:lint-api\n     |    |    |    +--- project :base:sdk-common (*)\n     |    |    |    +--- project :base:builder-model (*)\n     |    |    |    +--- com.android.tools.external.lombok:lombok-ast:0.2.3\n     |    |    |    |    \\--- com.google.guava:guava:17.0\n     |    |    |    +--- org.ow2.asm:asm:5.0.3\n     |    |    |    \\--- org.ow2.asm:asm-tree:5.0.3 (*)\n     |    |    \\--- org.ow2.asm:asm-analysis:5.0.3\n     |    |         \\--- org.ow2.asm:asm-tree:5.0.3 (*)\n     |    \\--- org.eclipse.jdt.core.compiler:ecj:4.4.2\n     \\--- net.sf.proguard:proguard-gradle:5.2.1\n          \\--- net.sf.proguard:proguard-base:5.2.1\n\n\nhttps://gist.github.com/takahirom/00a0d2d7b60fc47edc19\ngradle :base:gradle:properties\n\u3067\nprojectDir: /Users/xxxxx/tools/base/build-system/gradle\n\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\n\u3053\u306e\u8fba\u308a\u306b\u3042\u308b\u307f\u305f\u3044\nhttps://android.googlesource.com/platform/tools/base/+/master/build-system\n\u305d\u3082\u305d\u3082Gradle Plugin\u306f\nsrc/main/resources/META-INF/gradle-plugins/org.samples.greeting.properties\n\u307f\u305f\u3044\u306a\u3068\u3053\u308d\u306b\nimplementation-class=org.gradle.GreetingPlugin\n\n\u306e\u3088\u3046\u306a\u8a18\u8ff0\u3092\u3057\u3066\u3001\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u30af\u30e9\u30b9\u3092Plugin\u3068\u3057\u3066\u8aad\u307f\u306b\u884c\u304f\u3089\u3057\u3044\nhttps://docs.gradle.org/current/userguide/custom_plugins.html\ngrep\u3057\u3066 ./gradle/src/main/resources/META-INF/gradle-plugins/com.android.application.properties\u3092\u767a\u898b\nhttps://android.googlesource.com/platform/tools/base/+/master/build-system/gradle/src/main/resources/META-INF/gradle-plugins/com.android.application.properties\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u3061\u3087\u3063\u3068\u3060\u3051\u8aad\u3080\n\u3053\u308c\u3092\u53c2\u8003\u306b\u8aad\u3080\nhttps://docs.gradle.org/current/userguide/custom_plugins.html\nhttps://android.googlesource.com/platform/tools/base/+/master/build-system/gradle/src/main/resources/META-INF/gradle-plugins/com.android.application.properties \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5b9f\u614b\u306f\u3053\u308c\u307f\u305f\u3044\nandroid.build.gradle.AppPlugin\nhttps://android.googlesource.com/platform/tools/base/+/gradle-dev/build-system/gradle/src/main/groovy/com/android/build/gradle/AppPlugin.groovy\nBasePlugin\u3092\u7d99\u627f\u3057\u3066\u3044\u3066\u3053\u3063\u3061\u304c\u305f\u304f\u3055\u3093\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle/src/main/groovy/com/android/build/gradle/BasePlugin.groovy#302\n\nAndroid\u30a8\u30af\u30b9\u30c6\u30f3\u30b7\u30e7\u30f3 android{...}\u306e\u5185\u5bb9\u306f\u3069\u3053\u306b\u4fdd\u7ba1\u3055\u308c\u3066\u3044\u308b\uff1f\n\u3053\u3053\u3067\"android{\"\u304b\u3089\u59cb\u307e\u308bextenstion\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u307f\u305f\u3044\nBasePlugin.groovy\n        extension = project.getExtensions().create(\"android\", getExtensionClass(),\n                project, instantiator, androidBuilder, sdkHandler,\n                buildTypeContainer, productFlavorContainer, signingConfigContainer,\n                extraModelInfo, isLibrary());\n\nAppPlugin.groovy\n    @Override\n    protected Class<? extends BaseExtension> getExtensionClass() {\n        return AppExtension.class\n    }\n\nAppExtension\u306fgradle-core\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3042\u308b\u6a21\u69d8\nAppExtension\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle-core/src/main/groovy/com/android/build/gradle/AppExtension.groovy\nBaseExtension\u3092\u7d99\u627f\u3057\u3066\u3044\u308b\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle-core/src/main/groovy/com/android/build/gradle/BaseExtension.groovy\n\u3053\u3053\u306b\u5b9f\u969b\u306b\u3001\u30e1\u30f3\u30d0\u5909\u6570\u3068\u3057\u3066\u8272\u3093\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308b\u307f\u305f\u3044\npublic abstract class BaseExtension {\n    private String target\n    private FullRevision buildToolsRevision\n    /** Default config, shared by all flavors. */\n    final ProductFlavor defaultConfig\n    /** Options for aapt, tool for packaging resources. */\n    final AaptOptions aaptOptions\n    /** Lint options. */\n    final LintOptions lintOptions\n    /** Dex options. */\n    final DexOptions dexOptions\n\n\n\n\u30bf\u30b9\u30af\u306f\u3069\u3053\u3067\u4f5c\u3089\u308c\u3066\u3044\u308b\uff1f\nAppPlugin\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle/src/main/groovy/com/android/build/gradle/AppPlugin.groovy#57\n\u3053\u3053\u3067ApplicationTaskManager\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u3063\u3066\u8fd4\u3057\u3066\u3044\u308b\n    @Override\n    protected TaskManager createTaskManager(\n            Project project,\n            TaskContainer tasks,\n            AndroidBuilder androidBuilder,\n            BaseExtension extension,\n            SdkHandler sdkHandler,\n            DependencyManager dependencyManager,\n            ToolingModelBuilderRegistry toolingRegistry) {\n        return new ApplicationTaskManager (\n                project,\n                tasks,\n                androidBuilder,\n                extension,\n                sdkHandler,\n                dependencyManager,\n                toolingRegistry)\n    }\n\nApplicationTaskManager\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u3066\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle-core/src/main/groovy/com/android/build/gradle/internal/ApplicationTaskManager.groovy?autodive=0%2F%2F%2F%2F%2F#47\n\u8272\u3093\u306a\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304f\u307f\u305f\u3044\n    @Override\n    public void createTasksForVariantData(\n            @NonNull BaseVariantData<? extends BaseVariantOutputData> variantData) {\n        assert variantData instanceof ApplicationVariantData;\n        ApplicationVariantData appVariantData = (ApplicationVariantData) variantData;\n        createAnchorTasks(variantData);\n        createCheckManifestTask(variantData);\n        handleMicroApp(variantData);\n        // Add a task to process the manifest(s)\n        createMergeAppManifestsTask(variantData);\n        // Add a task to create the res values\n        createGenerateResValuesTask(variantData);\n        // Add a task to compile renderscript files.\n        createRenderscriptTask(variantData);\n        // Add a task to merge the resource folders\n        createMergeResourcesTask(variantData, true /*process9Patch*/);\n\n\u5b9f\u969b\u306bcreateTasks\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u751f\u3048\u3066\u3044\u308b\u306e\u306fTaskManager\u30af\u30e9\u30b9\u307f\u305f\u3044\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle-core/src/main/groovy/com/android/build/gradle/internal/TaskManager.groovy?autodive=0%2F%2F%2F%2F%2F\n\nInstant Run\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u3044\u305f\u3044\nAOSP\u4e0a\u3067\u306f\u30d6\u30e9\u30f3\u30c1\u304cgradle\u306e\u30d6\u30e9\u30f3\u30c1\u304c1.3\u307e\u3067\u3057\u304b\u307f\u3064\u304b\u3089\u306a\u3044\u307f\u305f\u3044\u3067\u3059\u3002\n\u305f\u3060jcenter\u304b\u3089\u843d\u3068\u3057\u3066\u3053\u308c\u308b\u307f\u305f\u3044\nhttp://jcenter.bintray.com/com/android/tools/build/gradle-core/2.0.0-alpha2/gradle-core-2.0.0-alpha2-sources.jar\njar xvf \u3067Android Studio 2.0\u306einstant run\u306e\u30b3\u30fc\u30c9\u304c\u898b\u308c\u308b\uff1f\uff1f\ncom.android.build.gradle.internal.incremental\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u602a\u3057\u3044\u3051\u3069\u5c11\u3057\u898b\u305f\u3060\u3051\u3067\u306f\u5168\u7136\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3002\n\u8aad\u3081\u308b\u65b9\u304c\u3044\u308c\u3070\u8aad\u3093\u3067\u307e\u3068\u3081\u3066\u304f\u3060\u3055\u3044\uff01\nInstant Run\u306e\u30b3\u30fc\u30c9\u3068\u304b\u3061\u3087\u3063\u3068\u6c17\u306b\u306a\u308a\u307e\u305b\u3093\u304b\uff1f\n\n\u30b3\u30fc\u30c9\u304c\u3069\u3053\u306b\u3042\u308b\u306e\u304b\u306a\u3069\u5f8c\u3067\u5fd8\u308c\u305d\u3046\u306a\u306e\u3067\u3001\u81ea\u5206\u7528\u30e1\u30e2\u3068\u3057\u3066\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u5834\u6240\u306e\u7279\u5b9a\n\nhttps://sites.google.com/a/android.com/tools/build\nhttps://sites.google.com/a/android.com/tools/build/gradleplugin\n\u3053\u3053\u3089\u3078\u3093\u3092\u307f\u3066\u3001\nrepo sync\u306a\u3069\u3092\u884c\u3063\u3066\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53d6\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\ntools\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4e00\u89a7\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306b`./gradlew projects`\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51fa\u3066\u304d\u307e\u3057\u305f\u3002\n\n\n```\nRoot project 'tools'\n+--- Project ':base'\n|    +--- Project ':base:annotations'\n\u7701\u7565\n|    +--- Project ':base:draw9patch'\n|    +--- Project ':base:dvlib'\n|    +--- Project ':base:google-services'\n|    +--- Project ':base:gradle'\n|    +--- Project ':base:gradle-core'\n|    +--- Project ':base:gradle-experimental'\n|    +--- Project ':base:gradle-import'\n|    +--- Project ':base:gradle-model'\n|    +--- Project ':base:integration-test'\n|    +--- Project ':base:jack'\n|    |    +--- Project ':base:jack:jack-api'\n|    |    \\--- Project ':base:jack:jill-api'\n|    +--- Project ':base:jobb'\n|    +--- Project ':base:layoutlib-api'\n|    +--- Project ':base:lint'\n\u7701\u7565\n```\nhttps://gist.github.com/takahirom/605b24175e11e04110a4\n\n\nGradle\u306b\u95a2\u4fc2\u3042\u308a\u305d\u3046\u306a\u306e\u306f\n`:base:gradle` \u307f\u305f\u3044\u3067\u3059\u3002\n\n`./gradlew base:gradle dependencies`\n\u3067\u4f9d\u5b58\u95a2\u4fc2\u3092\u6d17\u3063\u3066\u307f\u307e\u3059\u3002\n:base:gradle-core\u306a\u3069\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n```\ncompile - Compile classpath for source set 'main'.\n\\--- project :base:gradle-core\n     +--- project :base:builder\n     |    +--- project :base:builder-model\n     |    |    \\--- project :base:annotations\n     |    +--- project :base:builder-test-api\n     |    |    \\--- project :base:ddmlib\n     |    |         +--- project :base:common\n     |    |         |    +--- project :base:annotations\n     |    |         |    \\--- com.google.guava:guava:17.0\n     |    |         \\--- net.sf.kxml:kxml2:2.3.0\n     |    +--- project :base:sdklib\n     |    |    +--- project :base:layoutlib-api\n     |    |    |    +--- project :base:common (*)\n     |    |    |    +--- net.sf.kxml:kxml2:2.3.0\n     |    |    |    +--- project :base:annotations\n     |    |    |    \\--- com.intellij:annotations:12.0\n     |    |    +--- project :base:dvlib\n     |    |    |    \\--- project :base:common (*)\n     |    |    +--- com.google.code.gson:gson:2.2.4\n     |    |    +--- org.apache.commons:commons-compress:1.8.1\n     |    |    +--- org.apache.httpcomponents:httpclient:4.1.1\n     |    |    |    +--- org.apache.httpcomponents:httpcore:4.1\n     |    |    |    +--- commons-logging:commons-logging:1.1.1\n     |    |    |    \\--- commons-codec:commons-codec:1.4\n     |    |    \\--- org.apache.httpcomponents:httpmime:4.1\n     |    |         +--- org.apache.httpcomponents:httpcore:4.1\n     |    |         \\--- commons-logging:commons-logging:1.1.1\n     |    +--- project :base:sdk-common\n     |    |    +--- project :base:sdklib (*)\n     |    |    +--- project :base:builder-test-api (*)\n     |    |    \\--- project :base:builder-model (*)\n     |    +--- project :base:common (*)\n     |    +--- project :base:manifest-merger\n     |    |    +--- project :base:common (*)\n     |    |    +--- project :base:sdklib (*)\n     |    |    +--- project :base:sdk-common (*)\n     |    |    +--- net.sf.kxml:kxml2:2.3.0\n     |    |    \\--- com.google.code.gson:gson:2.2.4\n     |    +--- project :base:ddmlib (*)\n     |    +--- project :base:jack:jack-api\n     |    +--- project :base:jack:jill-api\n     |    +--- com.squareup:javawriter:2.5.0\n     |    +--- org.bouncycastle:bcpkix-jdk15on:1.48\n     |    |    \\--- org.bouncycastle:bcprov-jdk15on:1.48\n     |    +--- org.bouncycastle:bcprov-jdk15on:1.48\n     |    +--- org.ow2.asm:asm:5.0.3\n     |    \\--- org.ow2.asm:asm-tree:5.0.3\n     |         \\--- org.ow2.asm:asm:5.0.3\n     +--- project :base:lint\n     |    +--- project :base:lint-checks\n     |    |    +--- project :base:lint-api\n     |    |    |    +--- project :base:sdk-common (*)\n     |    |    |    +--- project :base:builder-model (*)\n     |    |    |    +--- com.android.tools.external.lombok:lombok-ast:0.2.3\n     |    |    |    |    \\--- com.google.guava:guava:17.0\n     |    |    |    +--- org.ow2.asm:asm:5.0.3\n     |    |    |    \\--- org.ow2.asm:asm-tree:5.0.3 (*)\n     |    |    \\--- org.ow2.asm:asm-analysis:5.0.3\n     |    |         \\--- org.ow2.asm:asm-tree:5.0.3 (*)\n     |    \\--- org.eclipse.jdt.core.compiler:ecj:4.4.2\n     \\--- net.sf.proguard:proguard-gradle:5.2.1\n          \\--- net.sf.proguard:proguard-base:5.2.1\n\n```\nhttps://gist.github.com/takahirom/00a0d2d7b60fc47edc19\n\n\n`gradle :base:gradle:properties`\n\u3067\n`projectDir: /Users/xxxxx/tools/base/build-system/gradle`\n\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\n\u3053\u306e\u8fba\u308a\u306b\u3042\u308b\u307f\u305f\u3044\nhttps://android.googlesource.com/platform/tools/base/+/master/build-system\n\n\u305d\u3082\u305d\u3082Gradle Plugin\u306f\n`src/main/resources/META-INF/gradle-plugins/org.samples.greeting.properties`\n\u307f\u305f\u3044\u306a\u3068\u3053\u308d\u306b\n\n```\nimplementation-class=org.gradle.GreetingPlugin\n```\n\u306e\u3088\u3046\u306a\u8a18\u8ff0\u3092\u3057\u3066\u3001\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u30af\u30e9\u30b9\u3092Plugin\u3068\u3057\u3066\u8aad\u307f\u306b\u884c\u304f\u3089\u3057\u3044\nhttps://docs.gradle.org/current/userguide/custom_plugins.html\n\ngrep\u3057\u3066 `./gradle/src/main/resources/META-INF/gradle-plugins/com.android.application.properties`\u3092\u767a\u898b\n\nhttps://android.googlesource.com/platform/tools/base/+/master/build-system/gradle/src/main/resources/META-INF/gradle-plugins/com.android.application.properties\n\n# \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u3061\u3087\u3063\u3068\u3060\u3051\u8aad\u3080\n\n\u3053\u308c\u3092\u53c2\u8003\u306b\u8aad\u3080\nhttps://docs.gradle.org/current/userguide/custom_plugins.html\n\nhttps://android.googlesource.com/platform/tools/base/+/master/build-system/gradle/src/main/resources/META-INF/gradle-plugins/com.android.application.properties \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u5b9f\u614b\u306f\u3053\u308c\u307f\u305f\u3044\n`android.build.gradle.AppPlugin`\n\nhttps://android.googlesource.com/platform/tools/base/+/gradle-dev/build-system/gradle/src/main/groovy/com/android/build/gradle/AppPlugin.groovy\nBasePlugin\u3092\u7d99\u627f\u3057\u3066\u3044\u3066\u3053\u3063\u3061\u304c\u305f\u304f\u3055\u3093\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle/src/main/groovy/com/android/build/gradle/BasePlugin.groovy#302\n\n## Android\u30a8\u30af\u30b9\u30c6\u30f3\u30b7\u30e7\u30f3 `android{...}`\u306e\u5185\u5bb9\u306f\u3069\u3053\u306b\u4fdd\u7ba1\u3055\u308c\u3066\u3044\u308b\uff1f\n\n\u3053\u3053\u3067\"android{\"\u304b\u3089\u59cb\u307e\u308bextenstion\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u307f\u305f\u3044\nBasePlugin.groovy\n\n```groovy\n        extension = project.getExtensions().create(\"android\", getExtensionClass(),\n                project, instantiator, androidBuilder, sdkHandler,\n                buildTypeContainer, productFlavorContainer, signingConfigContainer,\n                extraModelInfo, isLibrary());\n```\n\nAppPlugin.groovy\n\n```groovy\n    @Override\n    protected Class<? extends BaseExtension> getExtensionClass() {\n        return AppExtension.class\n    }\n```\n\nAppExtension\u306fgradle-core\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3042\u308b\u6a21\u69d8\nAppExtension\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle-core/src/main/groovy/com/android/build/gradle/AppExtension.groovy\nBaseExtension\u3092\u7d99\u627f\u3057\u3066\u3044\u308b\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle-core/src/main/groovy/com/android/build/gradle/BaseExtension.groovy\n\n\u3053\u3053\u306b\u5b9f\u969b\u306b\u3001\u30e1\u30f3\u30d0\u5909\u6570\u3068\u3057\u3066\u8272\u3093\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308b\u307f\u305f\u3044\n\n```groovy\npublic abstract class BaseExtension {\n    private String target\n    private FullRevision buildToolsRevision\n    /** Default config, shared by all flavors. */\n    final ProductFlavor defaultConfig\n    /** Options for aapt, tool for packaging resources. */\n    final AaptOptions aaptOptions\n    /** Lint options. */\n    final LintOptions lintOptions\n    /** Dex options. */\n    final DexOptions dexOptions\n\n```\n\n\n## \u30bf\u30b9\u30af\u306f\u3069\u3053\u3067\u4f5c\u3089\u308c\u3066\u3044\u308b\uff1f\nAppPlugin\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle/src/main/groovy/com/android/build/gradle/AppPlugin.groovy#57\n\u3053\u3053\u3067ApplicationTaskManager\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u3063\u3066\u8fd4\u3057\u3066\u3044\u308b\n\n```groovy\n    @Override\n    protected TaskManager createTaskManager(\n            Project project,\n            TaskContainer tasks,\n            AndroidBuilder androidBuilder,\n            BaseExtension extension,\n            SdkHandler sdkHandler,\n            DependencyManager dependencyManager,\n            ToolingModelBuilderRegistry toolingRegistry) {\n        return new ApplicationTaskManager (\n                project,\n                tasks,\n                androidBuilder,\n                extension,\n                sdkHandler,\n                dependencyManager,\n                toolingRegistry)\n    }\n```\n\nApplicationTaskManager\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u3066\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle-core/src/main/groovy/com/android/build/gradle/internal/ApplicationTaskManager.groovy?autodive=0%2F%2F%2F%2F%2F#47\n\n\u8272\u3093\u306a\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3057\u3066\u3044\u304f\u307f\u305f\u3044\n\n```groovy\n    @Override\n    public void createTasksForVariantData(\n            @NonNull BaseVariantData<? extends BaseVariantOutputData> variantData) {\n        assert variantData instanceof ApplicationVariantData;\n        ApplicationVariantData appVariantData = (ApplicationVariantData) variantData;\n        createAnchorTasks(variantData);\n        createCheckManifestTask(variantData);\n        handleMicroApp(variantData);\n        // Add a task to process the manifest(s)\n        createMergeAppManifestsTask(variantData);\n        // Add a task to create the res values\n        createGenerateResValuesTask(variantData);\n        // Add a task to compile renderscript files.\n        createRenderscriptTask(variantData);\n        // Add a task to merge the resource folders\n        createMergeResourcesTask(variantData, true /*process9Patch*/);\n```\n\n\u5b9f\u969b\u306bcreateTasks\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u751f\u3048\u3066\u3044\u308b\u306e\u306fTaskManager\u30af\u30e9\u30b9\u307f\u305f\u3044\nhttps://android.googlesource.com/platform/tools/base/+/cb896f5/build-system/gradle-core/src/main/groovy/com/android/build/gradle/internal/TaskManager.groovy?autodive=0%2F%2F%2F%2F%2F\n\n\n# Instant Run\u306e\u30b3\u30fc\u30c9\u3092\u8ffd\u3044\u305f\u3044\nAOSP\u4e0a\u3067\u306f\u30d6\u30e9\u30f3\u30c1\u304cgradle\u306e\u30d6\u30e9\u30f3\u30c1\u304c1.3\u307e\u3067\u3057\u304b\u307f\u3064\u304b\u3089\u306a\u3044\u307f\u305f\u3044\u3067\u3059\u3002\n\u305f\u3060jcenter\u304b\u3089\u843d\u3068\u3057\u3066\u3053\u308c\u308b\u307f\u305f\u3044\nhttp://jcenter.bintray.com/com/android/tools/build/gradle-core/2.0.0-alpha2/gradle-core-2.0.0-alpha2-sources.jar\njar xvf \u3067Android Studio 2.0\u306einstant run\u306e\u30b3\u30fc\u30c9\u304c\u898b\u308c\u308b\uff1f\uff1f\n\ncom.android.build.gradle.internal.incremental\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u602a\u3057\u3044\u3051\u3069\u5c11\u3057\u898b\u305f\u3060\u3051\u3067\u306f\u5168\u7136\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3002\n\u8aad\u3081\u308b\u65b9\u304c\u3044\u308c\u3070\u8aad\u3093\u3067\u307e\u3068\u3081\u3066\u304f\u3060\u3055\u3044\uff01\n", "tags": ["Android", "gradle", "AndroidGradlePlugin"]}