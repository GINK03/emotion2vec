{"context": "\n\n\u6982\u8981\n\u3000\u524d\u56de\u307e\u3067\u3067\u3001Single-Role\u306e\u5834\u5408\u306b\u3064\u3044\u3066\u306fOpenAM\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3088\u308aAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\uff08\u4ee5\u964d\u3001AMC\uff09\u3078\u306eSSO\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\u4eca\u56de\u306f\u3001Multi-Role\u306e\u5834\u5408\u306b\u3064\u3044\u3066\u3082\u540c\u69d8\u306bSSO\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u3092\u66f8\u304d\u307e\u3059\u3002\n\n\u8a2d\u5b9a\n\nOpenAM\u5074\u306e\u5bfe\u8c61\u30e6\u30fc\u30b6\u306e\u7de8\u96c6\u753b\u9762\u3092\u958b\u304d[User Alias List]\u306b\u3001AWS\u30ed\u30fc\u30eb\u306e\"Role ARN\"\u3068\"Trusted Entities\"\u3092\u30ab\u30f3\u30de\u3067\u7e4b\u3052\u305f\u5024\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\nSP[urn:amazon:webservices]\u306e[Assertion Processing]\u306e\u30da\u30fc\u30b8\u3078\u884c\u304d\u3001[Attribute Map]\u3078https://aws.amazon.com/SAML/Attributes/Role=iplanet-am-user-alias-list\u3092\u8ffd\u52a0\u3059\u308b\u3002\uff08https://aws.amazon.com/SAML/Attributes/Role=employeeNumber\u304c\u3042\u308c\u3070\u524a\u9664\uff09\u3002\n\n\n\u4ee5\u4e0a\u3067\u5b8c\u4e86\u3002\n\n\u52d5\u4f5c\n\nOpenAM\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3088\u308aAMC\u3092\u8d77\u52d5\u3059\u308b\u3002\n\n\u30ed\u30fc\u30eb\u3092\u9078\u629e\u3059\u308b\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u76ee\u7684\u306e\u30ed\u30fc\u30eb\u3092\u9078\u629e\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3002\n\n\n\u2191\u2191\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u306bAWS\u30ed\u30fc\u30eb\u3067\u3042\u308b\u300cAdministrator\u300d\u300cOpenAMSAML\u300d\u3092\u95a2\u9023\u4ed8\u3051\u305f\u5834\u5408\n\n\u307e\u3068\u3081\n\u305f\u3063\u305f\u3053\u308c\u3060\u3051\u3067\u3059\u3002\u3067\u3059\u304c\u3001\u8907\u6570\u30ed\u30fc\u30eb\u3092SAMLResponse\u306b\u4e57\u305b\u3066AMC\u5074\u3078\u3069\u306e\u3088\u3046\u306b\u6e21\u305b\u3070\u3044\u3044\u306e\u304b\u3067\u304b\u306a\u308a\u60a9\u307f\u307e\u3057\u305f\u3002\n\u6700\u521d\u306f\u3001Group\u306b\u3066\u8a2d\u5b9a\u3059\u308b\u306e\u304c\u7ba1\u7406\u7684\u306b\u3082\u7dba\u9e97\u304b\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304cAssertion\u306b\u4f59\u8a08\u306a\u30bf\u30b0\u304c\u51fa\u3066\u3057\u307e\u3063\u305f\u308a\u3057\u3066\u3046\u307e\u304f\u3044\u304b\u305a\u3002\n\u6700\u7d42\u7684\u306b[User Alias List]\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u3082\u3063\u3068\u826f\u3044\u65b9\u6cd5\u3042\u308a\u305d\u3046\u306b\u601d\u3044\u307e\u3059\u3002Okta\u3084OneLogin\u3001Pingfederate\u3067\u306f\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u53c2\u8003\n\nChapter 4. Configuring Realms\nCONFIGURING SAML MULTI-ROLE FOR AMAZON WEB SERVICE (AWS)\nHow to Set Up SSO to the AWS Management Console for Multiple Accounts by Using AD FS and SAML 2.0\nConfigure Amazon Web Services SSO for multiple roles and accounts\nMapping user roles/groups from LDAP to SAML assertions in OpenAM\nConfiguring SAML Assertions for the Authentication Response\n\n## \u6982\u8981\t\n\u3000[\u524d\u56de](http://qiita.com/Tom3/items/c1d457850a6f3f0b9f9f)\u307e\u3067\u3067\u3001Single-Role\u306e\u5834\u5408\u306b\u3064\u3044\u3066\u306fOpenAM\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3088\u308aAWS\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\uff08\u4ee5\u964d\u3001AMC\uff09\u3078\u306eSSO\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\u4eca\u56de\u306f\u3001Multi-Role\u306e\u5834\u5408\u306b\u3064\u3044\u3066\u3082\u540c\u69d8\u306bSSO\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u3092\u66f8\u304d\u307e\u3059\u3002\n\n## \u8a2d\u5b9a\n1. OpenAM\u5074\u306e\u5bfe\u8c61\u30e6\u30fc\u30b6\u306e\u7de8\u96c6\u753b\u9762\u3092\u958b\u304d[User Alias List]\u306b\u3001AWS\u30ed\u30fc\u30eb\u306e\"Role ARN\"\u3068\"Trusted Entities\"\u3092\u30ab\u30f3\u30de\u3067\u7e4b\u3052\u305f\u5024\u3092\u8ffd\u52a0\u3059\u308b\u3002\n![55456aaa-7ae3-a5dc-7ddd-84483f68b865.png](https://qiita-image-store.s3.amazonaws.com/0/118448/bb5f3c5d-7c78-f2d4-cc29-39981de3383e.png)\n\n\n2. SP[urn:amazon:webservices]\u306e[Assertion Processing]\u306e\u30da\u30fc\u30b8\u3078\u884c\u304d\u3001[Attribute Map]\u3078<https://aws.amazon.com/SAML/Attributes/Role=iplanet-am-user-alias-list>\u3092\u8ffd\u52a0\u3059\u308b\u3002\uff08<https://aws.amazon.com/SAML/Attributes/Role=employeeNumber>\u304c\u3042\u308c\u3070\u524a\u9664\uff09\u3002\n![Untitled3.png](https://qiita-image-store.s3.amazonaws.com/0/118448/a51363ab-f9cb-1908-b4b0-c55896e8c4fb.png)\n\n\n\u4ee5\u4e0a\u3067\u5b8c\u4e86\u3002\n\n\n## \u52d5\u4f5c\n1. OpenAM\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3088\u308aAMC\u3092\u8d77\u52d5\u3059\u308b\u3002\n![OpenAMdash.png](https://qiita-image-store.s3.amazonaws.com/0/118448/bdef5c2b-d82a-3632-5188-bcc3b8371e60.png)\n\n2. \u30ed\u30fc\u30eb\u3092\u9078\u629e\u3059\u308b\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u76ee\u7684\u306e\u30ed\u30fc\u30eb\u3092\u9078\u629e\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3002\n<img width=\"535\" alt=\"select_role.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/118448/8271ba13-7809-7f29-483a-4ce4a150aab0.png\">\n\n\u2191\u2191\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u306bAWS\u30ed\u30fc\u30eb\u3067\u3042\u308b\u300cAdministrator\u300d\u300cOpenAMSAML\u300d\u3092\u95a2\u9023\u4ed8\u3051\u305f\u5834\u5408\n\n\n## \u307e\u3068\u3081\n\u305f\u3063\u305f\u3053\u308c\u3060\u3051\u3067\u3059\u3002\u3067\u3059\u304c\u3001\u8907\u6570\u30ed\u30fc\u30eb\u3092SAMLResponse\u306b\u4e57\u305b\u3066AMC\u5074\u3078\u3069\u306e\u3088\u3046\u306b\u6e21\u305b\u3070\u3044\u3044\u306e\u304b\u3067\u304b\u306a\u308a\u60a9\u307f\u307e\u3057\u305f\u3002\n\n\u6700\u521d\u306f\u3001Group\u306b\u3066\u8a2d\u5b9a\u3059\u308b\u306e\u304c\u7ba1\u7406\u7684\u306b\u3082\u7dba\u9e97\u304b\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304cAssertion\u306b\u4f59\u8a08\u306a\u30bf\u30b0\u304c\u51fa\u3066\u3057\u307e\u3063\u305f\u308a\u3057\u3066\u3046\u307e\u304f\u3044\u304b\u305a\u3002\n\u6700\u7d42\u7684\u306b[User Alias List]\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u3082\u3063\u3068\u826f\u3044\u65b9\u6cd5\u3042\u308a\u305d\u3046\u306b\u601d\u3044\u307e\u3059\u3002Okta\u3084OneLogin\u3001Pingfederate\u3067\u306f\u7c21\u5358\u306b\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\n## \u53c2\u8003\n- [Chapter 4. Configuring Realms](https://backstage.forgerock.com/#!/docs/openam/current/admin-guide/chap-realms)\n- [CONFIGURING SAML MULTI-ROLE FOR AMAZON WEB SERVICE (AWS)](https://onelogin.zendesk.com/hc/en-us/articles/204397070-Configuring-SAML-Multi-Role-for-Amazon-Web-Service-AWS-)\n- [How to Set Up SSO to the AWS Management Console for Multiple Accounts by Using AD FS and SAML 2.0](https://blogs.aws.amazon.com/security/post/Tx2989L4392V75K/How-to-Set-Up-SSO-to-the-AWS-Management-Console-for-Multiple-Accounts-by-Using-A)\n- [Configure Amazon Web Services SSO for multiple roles and accounts](https://ping.force.com/Support/PingOne/PingOne-Setup/Configure-Amazon-Web-Services-SSO-for-multiple-roles-and-accounts)\n- [Mapping user roles/groups from LDAP to SAML assertions in OpenAM](http://www.martijnburgers.net/post/2013/11/15/Mapping-user-rolesgroups-from-LDAP-to-SAML-assertions-in-OpenAM.aspx)\n- [Configuring SAML Assertions for the Authentication Response](http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_saml_assertions.html)\n", "tags": ["AWS", "OpenAM", "SSO"]}