{"context": "\n\nTL;DR\n\nslack\u306e\u7279\u5b9a\u306echannel\u306b\u66f8\u304d\u8fbc\u307e\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u3092LINE Notify\u3067LINE\u306b\u304a\u304f\u308b\nLINE Notify\u306eaccess_token\u306f\u9069\u5b9c\u53d6\u5f97\u3059\u308b\n\n\nscript\n\nline_notify.coffee\n\n# Description:\n#   Line Notify bot\n#\n# Commands:\n#  target channel hear\n#\n# Author:\n#   tknzk\n\nmodule.exports = (robot) ->\n\n  robot.hear /.*/, (res) ->\n    room = res.envelope.room\n    text = res.message.text\n    console.log room\n    console.log text\n\n    if room == 'TARGET CHANNEL'\n\n      request = res.http(\"https://notify-api.line.me/api/notify\")\n        .headers(\"Authorization\": \"Bearer \" + process.env.HUBOT_LINE_NOTIFY_API_TOKEN)\n        .headers(\"Content-Type\": 'application/x-www-form-urlencoded')\n        .post(\"message=\" + text)\n      request (err, resp, body) ->\n        if err\n          res.send err\n        else\n          if body.length == 0\n            res.send \"Failed \"\n          else\n            res.send body\n\n\n# TL;DR\n- slack\u306e\u7279\u5b9a\u306echannel\u306b\u66f8\u304d\u8fbc\u307e\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u3092LINE Notify\u3067LINE\u306b\u304a\u304f\u308b\n- LINE Notify\u306eaccess_token\u306f\u9069\u5b9c\u53d6\u5f97\u3059\u308b\n\n# script\n\n```line_notify.coffee\n\n# Description:\n#   Line Notify bot\n#\n# Commands:\n#  target channel hear\n#\n# Author:\n#   tknzk\n\nmodule.exports = (robot) ->\n\n  robot.hear /.*/, (res) ->\n    room = res.envelope.room\n    text = res.message.text\n    console.log room\n    console.log text\n\n    if room == 'TARGET CHANNEL'\n\n      request = res.http(\"https://notify-api.line.me/api/notify\")\n        .headers(\"Authorization\": \"Bearer \" + process.env.HUBOT_LINE_NOTIFY_API_TOKEN)\n        .headers(\"Content-Type\": 'application/x-www-form-urlencoded')\n        .post(\"message=\" + text)\n      request (err, resp, body) ->\n        if err\n          res.send err\n        else\n          if body.length == 0\n            res.send \"Failed \"\n          else\n            res.send body\n```\n", "tags": ["Hubot", "Slack", "LineNotify", "Line"]}