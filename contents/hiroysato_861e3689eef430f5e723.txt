{"context": "\n\n\u307e\u3068\u3081\n\nLiquid\u3068\u74b0\u5883\u5909\u6570\u3092\u4f7f\u3063\u3066\u958b\u767a\u74b0\u5883\u30fb\u672c\u756a\u74b0\u5883\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u60c5\u5831\u3092\u5206\u3051\u308b\u3002\n\u30c6\u30fc\u30d6\u30eb\u60c5\u5831(\u30af\u30a8\u30ea\u8a2d\u5b9a)\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u5225\u30d5\u30a1\u30a4\u30eb\u3067\u7ba1\u7406\u3059\u308b\n\n\n\u306f\u3058\u3081\u306b\n\n\u958b\u767a\u74b0\u5883\u3001\u672c\u756a\u74b0\u5883\u306b\u3088\u3063\u3066\u63a5\u7d9a\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u5909\u3048\u305f\u3044\u3002\n\u4f55\u500b\u3082\u30c6\u30fc\u30d6\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u3059\u308b\u304c\u8a8d\u8a3c\u60c5\u5831\u306f\u540c\u3058\u306a\u306e\u3067\u3001\u5171\u901a\u5316\u3057\u305f\u3044\u3002\n\nin:\n  #\n  # \u958b\u767a\u74b0\u5883\u3068\u672c\u756a\u74b0\u5883\u3067\u5206\u3051\u305f\u3044\u3068\u3053\u308d\n  #\n  type: postgresql\n  host: 127.0.0.1\n  user: user\n  password: pass\n  database: embulk_test\n  # \n  # \u8aad\u307f\u51fa\u3059\u30c6\u30fc\u30d6\u30eb\u306e\u60c5\u5831\u306b\u3088\u3063\u3066\u8a2d\u5b9a\u304c\u5909\u308f\u308b\u3068\u3053\u308d\n  query: \"select * from table_name\"\n\n\n\u8a2d\u5b9a\u4f8b\n.\n|-- config1.yml.liquid\n|-- config2.yml.liquid\n|-- db\n|   |-- _dev.yml.liquid\n|   `-- _prod.yml.liquid\n`-- query\n    |-- _query1.yml.liquid\n    `-- _query2.yml.liquid\n\nconfig1.yml.liquid\nin: \n{% if env.EMBULK_ENV == 'production' %}\n  {% include 'db/prod' %}\n{% else %}\n  {% include 'db/dev' %}\n{% endif %}\n{% include 'query/query' %}\nout:\n  type: stdout\n\n\n\u3053\u306e\u8a2d\u5b9a\u3067\u74b0\u5883\u5909\u6570EMBULK_ENV\u306bproduction\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001db/prod.yml.liquid\u3092\u3001\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306fdb/dev.yml.liquid\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u60c5\u5831(db/_prod.yml.liquid)\n#\n  type: postgresql\n  host: 127.0.0.1\n  user: username\n  password: password\n  database: embulk_prod\n\n\u5148\u982d\u306f#\u307e\u305f\u306f\u3001\u6539\u884c\u3092\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u629c\u304f\u3068\u6b63\u5e38\u306b\u52d5\u304d\u307e\u305b\u3093\u3002\n\u30c6\u30fc\u30d6\u30eb\u60c5\u5831(\u30af\u30a8\u30ea\u8a2d\u5b9a)\u3001(db/_query1.yml.liquid)\n\n  query: \"select * from table1\"\n\n\u5148\u982d\u306f#\u307e\u305f\u306f\u3001\u6539\u884c\u3092\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u629c\u304f\u3068\u6b63\u5e38\u306b\u52d5\u304d\u307e\u305b\u3093\u3002\n\n\u4eca\u5f8c\u306e\u8ab2\u984c\n\u3069\u306a\u305f\u304b\u4f8b\u3092\u77e5\u3063\u3066\u3044\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u60c5\u5831\u306f\u74b0\u5883\u5909\u6570\u3092\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3002\n\n\n\u5225\u4f8b\n\n\u30a2\u30f3\u30ab\u30fc\u3068\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u4f7f\u3046\n\n\n\u305d\u306e\u4ed6\u53c2\u8003\n\n\nEmbulk\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092include\u3067\u5171\u6709\u5316\u3059\u308b\u65b9\u6cd5 Liquid\u5168\u822c\u306e\u4f7f\u3044\u65b9\u306e\u8a71\n\n\n\u304a\u793c\n\n\n@toyama0919\u3055\u3093 \n\n@wing_007\u3055\u3093\n\n\n## \u307e\u3068\u3081\n\n* Liquid\u3068\u74b0\u5883\u5909\u6570\u3092\u4f7f\u3063\u3066\u958b\u767a\u74b0\u5883\u30fb\u672c\u756a\u74b0\u5883\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u60c5\u5831\u3092\u5206\u3051\u308b\u3002\n* \u30c6\u30fc\u30d6\u30eb\u60c5\u5831(\u30af\u30a8\u30ea\u8a2d\u5b9a)\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u5225\u30d5\u30a1\u30a4\u30eb\u3067\u7ba1\u7406\u3059\u308b\n\n## \u306f\u3058\u3081\u306b\n\n* \u958b\u767a\u74b0\u5883\u3001\u672c\u756a\u74b0\u5883\u306b\u3088\u3063\u3066\u63a5\u7d9a\u3059\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u5909\u3048\u305f\u3044\u3002\n* \u4f55\u500b\u3082\u30c6\u30fc\u30d6\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u3059\u308b\u304c\u8a8d\u8a3c\u60c5\u5831\u306f\u540c\u3058\u306a\u306e\u3067\u3001\u5171\u901a\u5316\u3057\u305f\u3044\u3002\n\n```yaml\nin:\n  #\n  # \u958b\u767a\u74b0\u5883\u3068\u672c\u756a\u74b0\u5883\u3067\u5206\u3051\u305f\u3044\u3068\u3053\u308d\n  #\n  type: postgresql\n  host: 127.0.0.1\n  user: user\n  password: pass\n  database: embulk_test\n  # \n  # \u8aad\u307f\u51fa\u3059\u30c6\u30fc\u30d6\u30eb\u306e\u60c5\u5831\u306b\u3088\u3063\u3066\u8a2d\u5b9a\u304c\u5909\u308f\u308b\u3068\u3053\u308d\n  query: \"select * from table_name\"\n```\n\n## \u8a2d\u5b9a\u4f8b\n\n```\n.\n|-- config1.yml.liquid\n|-- config2.yml.liquid\n|-- db\n|   |-- _dev.yml.liquid\n|   `-- _prod.yml.liquid\n`-- query\n    |-- _query1.yml.liquid\n    `-- _query2.yml.liquid\n```\n\nconfig1.yml.liquid\n\n```yaml\nin: \n{% if env.EMBULK_ENV == 'production' %}\n  {% include 'db/prod' %}\n{% else %}\n  {% include 'db/dev' %}\n{% endif %}\n{% include 'query/query' %}\nout:\n  type: stdout\n  \n```\n\n\u3053\u306e\u8a2d\u5b9a\u3067\u74b0\u5883\u5909\u6570EMBULK_ENV\u306bproduction\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001db/_prod.yml.liquid\u3092\u3001\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306fdb/_dev.yml.liquid\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u60c5\u5831(db/_prod.yml.liquid)\n\n```yaml\n#\n  type: postgresql\n  host: 127.0.0.1\n  user: username\n  password: password\n  database: embulk_prod\n```\n\n**\u5148\u982d\u306f#\u307e\u305f\u306f\u3001\u6539\u884c\u3092\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u629c\u304f\u3068\u6b63\u5e38\u306b\u52d5\u304d\u307e\u305b\u3093\u3002**\n\n\n\u30c6\u30fc\u30d6\u30eb\u60c5\u5831(\u30af\u30a8\u30ea\u8a2d\u5b9a)\u3001(db/_query1.yml.liquid)\n\n```yaml\n\n  query: \"select * from table1\"\n```\n\n**\u5148\u982d\u306f#\u307e\u305f\u306f\u3001\u6539\u884c\u3092\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\u629c\u304f\u3068\u6b63\u5e38\u306b\u52d5\u304d\u307e\u305b\u3093\u3002**\n\n## \u4eca\u5f8c\u306e\u8ab2\u984c\n\n\u3069\u306a\u305f\u304b\u4f8b\u3092\u77e5\u3063\u3066\u3044\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u60c5\u5831\u306f\u74b0\u5883\u5909\u6570\u3092\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3002\n\n## \u5225\u4f8b\n\n* [\u30a2\u30f3\u30ab\u30fc\u3068\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u4f7f\u3046](https://gist.github.com/hiroyuki-sato/ddc5f291e9cfb2e6bb7c0825739fe0a5)\n\n## \u305d\u306e\u4ed6\u53c2\u8003\n\n* [Embulk\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092include\u3067\u5171\u6709\u5316\u3059\u308b\u65b9\u6cd5](http://qiita.com/hiroysato/items/e7987e71a8112584b748) Liquid\u5168\u822c\u306e\u4f7f\u3044\u65b9\u306e\u8a71\n\n## \u304a\u793c\n\n* [@toyama0919](https://twitter.com/toyama0919/status/750295036139417600)\u3055\u3093 \n* [@wing_007](https://twitter.com/wing_007/status/750353423770333184)\u3055\u3093\n", "tags": ["Embulk"]}