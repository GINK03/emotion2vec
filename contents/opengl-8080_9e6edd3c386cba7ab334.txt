{"tags": ["Java", "gradle", "NetBeans", "glassfish"], "context": " More than 1 year has passed since last update.\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u3057\u3087\u3063\u3071\u306a\u3067\u8e93\u3044\u305f\u3002\nNetBeans \u306b\u306f Gradle \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u308a\u8fbc\u3080\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u5b58\u5728\u3059\u308b\u3002\n\u3053\u308c\u3092\u4f7f\u3048\u3070\u3001 Gradle \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u308a\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\u3057\u304b\u3057\u3001\u305d\u306e\u307e\u307e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068 gradle run \u3068\u3044\u3046\u3075\u3046\u306b\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u3066\u3057\u307e\u3046\u3002\n\u5b9f\u969b\u306f GlassFish \u306b\u30c7\u30d7\u30ed\u30a4\u3057\u3066 Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u5b9f\u884c\u3057\u305f\u3044\u308f\u3051\u3067\u3001\u3053\u306e\u6319\u52d5\u3060\u3068\u56f0\u308b\u3002\n\u8abf\u3079\u305f\u3051\u3069\u3001\u30b9\u30de\u30fc\u30c8\u306a\u65b9\u6cd5\u304c\u898b\u3064\u304b\u3089\u305a\u3001 Gradle \u306b GlassFish \u3068\u9023\u643a\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u5bfe\u5fdc\u3057\u305f\u3002\n\n\u666e\u901a\u306b Gradle \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\n\n\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\nsample/\n|-build.gradle\n`-src/main/\n  |-java/sample/\n  |  |-MyApplication.java\n  |  `-HelloResource.java\n  `-webapp/\n\n\n\nbuild.gradle\napply plugin: 'war'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'javax:javaee-api:7.0'\n}\n\nwar {\n    baseName = 'sample'\n}\n\n\n\nMyApplication.java\npackage sample;\n\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\n@ApplicationPath(\"api\")\npublic class MyApplication extends Application {\n}\n\n\n\nHelloResource.java\npackage sample;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\n\n@Path(\"hello\")\npublic class HelloResource {\n\n    @GET\n    public String hello() {\n        return \"Hello World!!\";\n    }\n}\n\n\n\nNetBeans \u306b Gradle \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n[\u30c4\u30fc\u30eb] \u2192 [\u30d7\u30e9\u30b0\u30a4\u30f3] \u3092\u9078\u629e\u3002\n[\u4f7f\u7528\u53ef\u80fd\u306a\u30d7\u30e9\u30b0\u30a4\u30f3]\u30bf\u30d6\u3092\u958b\u304f\u3002\n\u53f3\u4e0a\u306e [\u691c\u7d22] \u306b gradle \u3068\u5165\u529b\u3002\n[Gradle Support] \u3068 [Gradle JavaEE Support] \u304c\u73fe\u308c\u308b\u306e\u3067\u3001\u4e21\u65b9\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066 [\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb] \u3092\u30af\u30ea\u30c3\u30af\u3002\n\u3042\u3068\u306f\u753b\u9762\u306e\u6307\u793a\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b8c\u4e86\u3055\u305b\u308b\u3002\n\n\nNetBeans \u306b\u3001\u5148\u307b\u3069\u4f5c\u3063\u305f Gradle \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\n\n[\u30d5\u30a1\u30a4\u30eb] \u2192 [\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304f] \u3092\u9078\u629e\u3002\n[\u30d5\u30a1\u30a4\u30eb\u540d] \u306b Gradle \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3078\u306e\u30d1\u30b9\u3092\u5165\u529b\u3057\u3066 [\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304f] \u3092\u30af\u30ea\u30c3\u30af\u3002\n\n\n\nGlassFish \u3068\u9023\u643a\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3059\u308b\n\nbuild.gradle\napply plugin: 'war'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'javax:javaee-api:7.0'\n}\n\nwar {\n    baseName = 'sample'\n}\n\next {\n    glassFishHome = '<GlassFish \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u3078\u306e\u30d1\u30b9>'\n    asadmin = glassFishHome + (isWindows() ? '/bin/asadmin.bat'\n                                           : '/bin/asadmin')\n    domain = 'domain1'\n}\n\ndef isWindows() {\n    return System.properties['os.name'].toLowerCase().contains('windows')\n}\n\ntask startServer(type: Exec) {\n    commandLine asadmin, 'start-domain', '--debug=true', domain\n}\n\ntask stopServer(type: Exec) {\n    commandLine asadmin, 'stop-domain', domain\n}\n\ntask deploy(type: Exec, dependsOn: 'war') {\n    commandLine asadmin, 'deploy', '--force=true', war.archivePath\n}\n\n\n\n\nasadmin \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\u30fb\u505c\u6b62\u30fb\u30c7\u30d7\u30ed\u30a4\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3002\n\nstart-domain \u306e\u3068\u304d\u306b --debug=true \u3092\u6307\u5b9a\u3057\u3066\u3001\u30ea\u30e2\u30fc\u30c8\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\n\n\n\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\n# GlassFish \u3092\u8d77\u52d5\u3059\u308b\n$ gradle startServer\n\n# GlassFish \u306b\u30a2\u30d7\u30ea\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\n$ gradle deploy\n\n# \u8a66\u3057\u306b API \u3092\u53e9\u3044\u3066\u307f\u308b\n$ curl http://localhost:8080/sample/api/hello\nHello World!!\n\n# GlassFish \u3092\u505c\u6b62\u3059\u308b\n$ gradle stopServer\n\n\nNetBeans \u3067\u30c7\u30d0\u30c3\u30b0\u3059\u308b\n\n[\u30c7\u30d0\u30c3\u30b0] \u2192 [\u30c7\u30d0\u30c3\u30ac\u306e\u30a2\u30bf\u30c3\u30c1] \u3092\u9078\u629e\u3059\u308b\u3002\n[\u30c7\u30d0\u30c3\u30ac] \u306b [Java\u30c7\u30d0\u30c3\u30ac\uff08JPDA\uff09] \u304c\u3001 [\u30b3\u30cd\u30af\u30bf] \u306b [SocketAttach] \u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\n[\u30db\u30b9\u30c8] \u306b localhost \u3068\u5165\u529b\u3001 [\u30dd\u30fc\u30c8] \u306b 9009 \u3068\u5165\u529b\u203b\u3002\n[OK] \u3092\u30af\u30ea\u30c3\u30af\u3002\n\n\nGlassFish \u306b\u63a5\u7d9a\u3057\u3001\u4ee5\u5f8c\u306f\u666e\u901a\u306b\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\u203b\u30ea\u30e2\u30fc\u30c8\u30c7\u30d0\u30c3\u30b0\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306f\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\uff08<\u30c9\u30e1\u30a4\u30f3>/logs/server.log\uff09\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u3002\n\nserver.log\n[2015-03-04T00:16:58.888+0900] [] [INFO] [NCLS-GFLAUNCHER-00005] [javax.enterprise.launcher] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1425395818888] [levelValue: 800] [[\n  JVM invocation command line:\nC:\\Program Files\\Java\\jdk8\\bin\\java.exe\n-cp\nF:/ProgramFiles/GlassFish/glassfish4/glassfish/modules/glassfish.jar\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9009 \u2605\u2190\u3053\u308c\n-XX:+UnlockDiagnosticVMOptions\n\uff08\u4ee5\u4e0b\u7565\uff09\n\n\n\n\u53c2\u8003\n\nGradle task for deploying to Glassfish | sufficiently secure\nExec - Gradle DSL Version 2.3\n\n\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u3057\u3087\u3063\u3071\u306a\u3067\u8e93\u3044\u305f\u3002\n\nNetBeans \u306b\u306f Gradle \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u308a\u8fbc\u3080\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u5b58\u5728\u3059\u308b\u3002\n\u3053\u308c\u3092\u4f7f\u3048\u3070\u3001 Gradle \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u308a\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\u3057\u304b\u3057\u3001\u305d\u306e\u307e\u307e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068 `gradle run` \u3068\u3044\u3046\u3075\u3046\u306b\u30bf\u30b9\u30af\u304c\u5b9f\u884c\u3055\u308c\u3066\u3057\u307e\u3046\u3002\n\u5b9f\u969b\u306f GlassFish \u306b\u30c7\u30d7\u30ed\u30a4\u3057\u3066 Web \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u5b9f\u884c\u3057\u305f\u3044\u308f\u3051\u3067\u3001\u3053\u306e\u6319\u52d5\u3060\u3068\u56f0\u308b\u3002\n\n\u8abf\u3079\u305f\u3051\u3069\u3001\u30b9\u30de\u30fc\u30c8\u306a\u65b9\u6cd5\u304c\u898b\u3064\u304b\u3089\u305a\u3001 Gradle \u306b GlassFish \u3068\u9023\u643a\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u5bfe\u5fdc\u3057\u305f\u3002\n\n#\u666e\u901a\u306b Gradle \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\n```text:\u30d5\u30a9\u30eb\u30c0\u69cb\u6210\nsample/\n|-build.gradle\n`-src/main/\n  |-java/sample/\n  |  |-MyApplication.java\n  |  `-HelloResource.java\n  `-webapp/\n```\n\n```groovy:build.gradle\napply plugin: 'war'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'javax:javaee-api:7.0'\n}\n\nwar {\n    baseName = 'sample'\n}\n```\n\n```java:MyApplication.java\npackage sample;\n\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\n@ApplicationPath(\"api\")\npublic class MyApplication extends Application {\n}\n```\n\n```java:HelloResource.java\npackage sample;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\n\n@Path(\"hello\")\npublic class HelloResource {\n    \n    @GET\n    public String hello() {\n        return \"Hello World!!\";\n    }\n}\n```\n\n#NetBeans \u306b Gradle \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n- [\u30c4\u30fc\u30eb] \u2192 [\u30d7\u30e9\u30b0\u30a4\u30f3] \u3092\u9078\u629e\u3002\n- [\u4f7f\u7528\u53ef\u80fd\u306a\u30d7\u30e9\u30b0\u30a4\u30f3]\u30bf\u30d6\u3092\u958b\u304f\u3002\n- \u53f3\u4e0a\u306e [\u691c\u7d22] \u306b `gradle` \u3068\u5165\u529b\u3002\n- [Gradle Support] \u3068 [Gradle JavaEE Support] \u304c\u73fe\u308c\u308b\u306e\u3067\u3001\u4e21\u65b9\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066 [\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb] \u3092\u30af\u30ea\u30c3\u30af\u3002\n- \u3042\u3068\u306f\u753b\u9762\u306e\u6307\u793a\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u5b8c\u4e86\u3055\u305b\u308b\u3002\n\n#NetBeans \u306b\u3001\u5148\u307b\u3069\u4f5c\u3063\u305f Gradle \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3059\u308b\n- [\u30d5\u30a1\u30a4\u30eb] \u2192 [\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304f] \u3092\u9078\u629e\u3002\n- [\u30d5\u30a1\u30a4\u30eb\u540d] \u306b Gradle \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3078\u306e\u30d1\u30b9\u3092\u5165\u529b\u3057\u3066 [\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304f] \u3092\u30af\u30ea\u30c3\u30af\u3002\n\n![gradle.JPG](https://qiita-image-store.s3.amazonaws.com/0/28302/e666ffc6-0ec5-354f-deb6-508fd7ac3095.jpeg)\n\n#GlassFish \u3068\u9023\u643a\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3059\u308b\n```groovy:build.gradle\napply plugin: 'war'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'javax:javaee-api:7.0'\n}\n\nwar {\n    baseName = 'sample'\n}\n\next {\n    glassFishHome = '<GlassFish \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u3078\u306e\u30d1\u30b9>'\n    asadmin = glassFishHome + (isWindows() ? '/bin/asadmin.bat'\n                                           : '/bin/asadmin')\n    domain = 'domain1'\n}\n\ndef isWindows() {\n    return System.properties['os.name'].toLowerCase().contains('windows')\n}\n\ntask startServer(type: Exec) {\n    commandLine asadmin, 'start-domain', '--debug=true', domain\n}\n\ntask stopServer(type: Exec) {\n    commandLine asadmin, 'stop-domain', domain\n}\n\ntask deploy(type: Exec, dependsOn: 'war') {\n    commandLine asadmin, 'deploy', '--force=true', war.archivePath\n}\n```\n\n- `asadmin` \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\u30fb\u505c\u6b62\u30fb\u30c7\u30d7\u30ed\u30a4\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u3002\n- `start-domain` \u306e\u3068\u304d\u306b `--debug=true` \u3092\u6307\u5b9a\u3057\u3066\u3001\u30ea\u30e2\u30fc\u30c8\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3002\n\n#\u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3059\u308b\n```bash:\n# GlassFish \u3092\u8d77\u52d5\u3059\u308b\n$ gradle startServer\n\n# GlassFish \u306b\u30a2\u30d7\u30ea\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\n$ gradle deploy\n\n# \u8a66\u3057\u306b API \u3092\u53e9\u3044\u3066\u307f\u308b\n$ curl http://localhost:8080/sample/api/hello\nHello World!!\n\n# GlassFish \u3092\u505c\u6b62\u3059\u308b\n$ gradle stopServer\n```\n\n#NetBeans \u3067\u30c7\u30d0\u30c3\u30b0\u3059\u308b\n- [\u30c7\u30d0\u30c3\u30b0] \u2192 [\u30c7\u30d0\u30c3\u30ac\u306e\u30a2\u30bf\u30c3\u30c1] \u3092\u9078\u629e\u3059\u308b\u3002\n- [\u30c7\u30d0\u30c3\u30ac] \u306b [Java\u30c7\u30d0\u30c3\u30ac\uff08JPDA\uff09] \u304c\u3001 [\u30b3\u30cd\u30af\u30bf] \u306b [SocketAttach] \u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\n- [\u30db\u30b9\u30c8] \u306b `localhost` \u3068\u5165\u529b\u3001 [\u30dd\u30fc\u30c8] \u306b `9009` \u3068\u5165\u529b\u203b\u3002\n- [OK] \u3092\u30af\u30ea\u30c3\u30af\u3002\n\n![gradle.JPG](https://qiita-image-store.s3.amazonaws.com/0/28302/cc2561dc-8f59-ff2a-ca1a-ca5d68f8844c.jpeg)\n\nGlassFish \u306b\u63a5\u7d9a\u3057\u3001\u4ee5\u5f8c\u306f\u666e\u901a\u306b\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n\u203b\u30ea\u30e2\u30fc\u30c8\u30c7\u30d0\u30c3\u30b0\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306f\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\uff08`<\u30c9\u30e1\u30a4\u30f3>/logs/server.log`\uff09\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u3002\n\n```text:server.log\n[2015-03-04T00:16:58.888+0900] [] [INFO] [NCLS-GFLAUNCHER-00005] [javax.enterprise.launcher] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1425395818888] [levelValue: 800] [[\n  JVM invocation command line:\nC:\\Program Files\\Java\\jdk8\\bin\\java.exe\n-cp\nF:/ProgramFiles/GlassFish/glassfish4/glassfish/modules/glassfish.jar\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9009 \u2605\u2190\u3053\u308c\n-XX:+UnlockDiagnosticVMOptions\n\uff08\u4ee5\u4e0b\u7565\uff09\n```\n\n#\u53c2\u8003\n- [Gradle task for deploying to Glassfish | sufficiently secure](https://sufficientlysecure.org/index.php/2013/08/03/gradle-task-for-deploying-to-glassfish/)\n- [Exec - Gradle DSL Version 2.3](http://gradle.org/docs/current/dsl/org.gradle.api.tasks.Exec.html)\n"}