{"tags": ["Linux", "archLinux"], "context": " More than 1 year has passed since last update.\u53c2\u8003\n\nNetwork Configuration (\u65e5\u672c\u8a9e) - ArchWiki\nLinux Set Up Routing with ip Command\niproute\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\n\n\u3088\u304f\u4f7f\u3046\n\n\u56fa\u5b9aIP\nip addr add 10.0.2.15/24 dev eth0\n\n\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\nip route add default via 10.0.2.2\n\n\n\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u78ba\u8a8d\nroute -n\n\n\n\nRTNETLINK answers: File exists\u304c\u51fa\u308b\u5834\u5408\n\n\n\u4e00\u5ea6\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u3092\u98db\u3070\u305b\u3070\u89e3\u6c7a\u3057\u305f\u3002\"RTNETLINK answers: File exists\"\u3092\u89e3\u6d88\u3059\u308b - R42\u65e5\u8a18\n\n\nip addr flush dev eth0\n\n\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0\n\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0\nip route add 210.210.210.222 dev eth0\n\n\n\nIP\u8868\u793a\n\nIP\u8868\u793a\nip -f inet addr\n\n\n\n\u51fa\u529b\u4f8b\n\n1.ip\u30a2\u30c9\u30ec\u30b9\u8868\u793a\n# ip addr\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN \n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n    link/ether 08:00:27:1c:cf:2b brd ff:ff:ff:ff:ff:ff\n    inet 10.0.2.15/24 brd 10.0.2.255 scope global eth0\n    inet6 fe80::a00:27ff:fe1c:cf2b/64 scope link \n       valid_lft forever preferred_lft forever\n\n# ip link show eth0\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000\n    link/ether 08:00:27:1c:cf:2b brd ff:ff:ff:ff:ff:ff\n\n\n2. 1\u306e\u60c5\u5831\u5c11\u306a\u3044\u7248\n# ip link\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT \n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000\n    link/ether 08:00:27:1c:cf:2b brd ff:ff:ff:ff:ff:ff\n\n\n3.ARP\u30c6\u30fc\u30d6\u30eb\u8868\u793a\n# ip neigh\n10.0.2.2 dev eth0 lladdr 52:54:10:12:45:02 REACHABLE\n\n\n4.\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8868\u793a\n# ip route\ndefault via 10.0.2.2 dev eth0 \n10.0.2.0/24 dev eth0  proto kernel  scope link  src 10.0.2.15\n\n\n5.\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u5148\u306e\u5c65\u6b74\uff1f\n# ip tcp_metrics | sort | more\n207.200.74.27 age 2630.104sec rtt 99500us rttvar 93000us cwnd 10\n...\n\n\n6.ARP\u30c6\u30fc\u30d6\u30eb\u306e\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\uff1f\n# ip monitor\n\n\n7.help\nhelp\u3092\u3064\u3051\u308b\u3068\u30b3\u30de\u30f3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n$ ip link help\nUsage: ip link add [link DEV] [ name ] NAME\n                   [ txqueuelen PACKETS ]\n                   [ address LLADDR ]\n                   [ broadcast LLADDR ]\n                   [ mtu MTU ]\n                   [ numtxqueues QUEUE_COUNT ]\n                   [ numrxqueues QUEUE_COUNT ]\n                   type TYPE [ ARGS ]\n       ip link delete DEV type TYPE [ ARGS ]\n\n       ip link set { dev DEVICE | group DEVGROUP } [ { up | down } ]\n                      [ arp { on | off } ]\n                      [ dynamic { on | off } ]\n                      [ multicast { on | off } ]\n                      [ allmulticast { on | off } ]\n                      [ promisc { on | off } ]\n                      [ trailers { on | off } ]\n                      [ txqueuelen PACKETS ]\n                      [ name NEWNAME ]\n                      [ address LLADDR ]\n                      [ broadcast LLADDR ]\n                      [ mtu MTU ]\n                      [ netns PID ]\n                      [ netns NAME ]\n              [ alias NAME ]\n                      [ vf NUM [ mac LLADDR ]\n                   [ vlan VLANID [ qos VLAN-QOS ] ]\n                   [ rate TXRATE ] ] \n                   [ spoofchk { on | off} ] ] \n              [ master DEVICE ]\n              [ nomaster ]\n       ip link show [ DEVICE | group GROUP ]\n\nTYPE := { vlan | veth | vcan | dummy | ifb | macvlan | can | bridge | ipoib }\n\n\u53c2\u8003\n\n* [Network Configuration (\u65e5\u672c\u8a9e) - ArchWiki](https://wiki.archlinux.org/index.php/Network_Configuration_(%E6%97%A5%E6%9C%AC%E8%AA%9E)#.E6.89.8B.E5.8B.95.E3.81.A7.E5.89.B2.E3.82.8A.E5.BD.93.E3.81.A6.E3.82.8B)\n* [Linux Set Up Routing with ip Command](http://www.cyberciti.biz/faq/howto-linux-configuring-default-route-with-ipcommand/)\n* iproute\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\n# \u3088\u304f\u4f7f\u3046\n\n```bash:\u56fa\u5b9aIP\nip addr add 10.0.2.15/24 dev eth0\n```\n\n```bash:\u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\nip route add default via 10.0.2.2\n```\n\n```bash:\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u78ba\u8a8d\nroute -n\n```\n\n> `RTNETLINK answers: File exists`\u304c\u51fa\u308b\u5834\u5408\n\n* \u4e00\u5ea6\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u3092\u98db\u3070\u305b\u3070\u89e3\u6c7a\u3057\u305f\u3002[\"RTNETLINK answers: File exists\"\u3092\u89e3\u6d88\u3059\u308b - R42\u65e5\u8a18](http://takahashikzn.root42.jp/entry/2014/04/29/181515)\n\n```bash:\nip addr flush dev eth0\n```\n\n## \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0\n\n```bash:\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8ffd\u52a0\nip route add 210.210.210.222 dev eth0\n```\n\n## IP\u8868\u793a\n\n```bash:IP\u8868\u793a\nip -f inet addr\n```\n\n# \u51fa\u529b\u4f8b\n\n## 1.ip\u30a2\u30c9\u30ec\u30b9\u8868\u793a\n\n```bash:\n# ip addr\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN \n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000\n    link/ether 08:00:27:1c:cf:2b brd ff:ff:ff:ff:ff:ff\n    inet 10.0.2.15/24 brd 10.0.2.255 scope global eth0\n    inet6 fe80::a00:27ff:fe1c:cf2b/64 scope link \n       valid_lft forever preferred_lft forever\n```\n\n```bash:\n# ip link show eth0\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000\n    link/ether 08:00:27:1c:cf:2b brd ff:ff:ff:ff:ff:ff\n```\n\n## 2. 1\u306e\u60c5\u5831\u5c11\u306a\u3044\u7248\n\n```bash:\n# ip link\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT \n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000\n    link/ether 08:00:27:1c:cf:2b brd ff:ff:ff:ff:ff:ff\n```\n\n## 3.ARP\u30c6\u30fc\u30d6\u30eb\u8868\u793a\n\n```bash:\n# ip neigh\n10.0.2.2 dev eth0 lladdr 52:54:10:12:45:02 REACHABLE\n```\n\n## 4.\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8868\u793a\n\n```bash:\n# ip route\ndefault via 10.0.2.2 dev eth0 \n10.0.2.0/24 dev eth0  proto kernel  scope link  src 10.0.2.15\n```\n\n## 5.\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u5148\u306e\u5c65\u6b74\uff1f\n\n```bash:\n# ip tcp_metrics | sort | more\n207.200.74.27 age 2630.104sec rtt 99500us rttvar 93000us cwnd 10\n...\n```\n\n## 6.ARP\u30c6\u30fc\u30d6\u30eb\u306e\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\uff1f\n\n```bash:\n# ip monitor\n```\n\n## 7.help\n\nhelp\u3092\u3064\u3051\u308b\u3068\u30b3\u30de\u30f3\u30c9\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n```bash:\n$ ip link help\nUsage: ip link add [link DEV] [ name ] NAME\n                   [ txqueuelen PACKETS ]\n                   [ address LLADDR ]\n                   [ broadcast LLADDR ]\n                   [ mtu MTU ]\n                   [ numtxqueues QUEUE_COUNT ]\n                   [ numrxqueues QUEUE_COUNT ]\n                   type TYPE [ ARGS ]\n       ip link delete DEV type TYPE [ ARGS ]\n\n       ip link set { dev DEVICE | group DEVGROUP } [ { up | down } ]\n\t                  [ arp { on | off } ]\n\t                  [ dynamic { on | off } ]\n\t                  [ multicast { on | off } ]\n\t                  [ allmulticast { on | off } ]\n\t                  [ promisc { on | off } ]\n\t                  [ trailers { on | off } ]\n\t                  [ txqueuelen PACKETS ]\n\t                  [ name NEWNAME ]\n\t                  [ address LLADDR ]\n\t                  [ broadcast LLADDR ]\n\t                  [ mtu MTU ]\n\t                  [ netns PID ]\n\t                  [ netns NAME ]\n\t\t\t  [ alias NAME ]\n\t                  [ vf NUM [ mac LLADDR ]\n\t\t\t\t   [ vlan VLANID [ qos VLAN-QOS ] ]\n\t\t\t\t   [ rate TXRATE ] ] \n\t\t\t\t   [ spoofchk { on | off} ] ] \n\t\t\t  [ master DEVICE ]\n\t\t\t  [ nomaster ]\n       ip link show [ DEVICE | group GROUP ]\n\nTYPE := { vlan | veth | vcan | dummy | ifb | macvlan | can | bridge | ipoib }\n```\n"}