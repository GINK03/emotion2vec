{"context": " More than 1 year has passed since last update.apache\u306eaccess_log\u6700\u7d42\u30d5\u30a3\u30fc\u30eb\u30c9\u306b%D\u3092\u8ffd\u52a0\n\n%T :\u79d2\n%D :\u30de\u30a4\u30af\u30ed\u79d2 (10**6)\n\n\n\u8a2d\u5b9a\u4f8b\n<IfModule log_config_module>\n    # LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\n    #LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %T\" custom\n    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{User-Agent}i\\\" %T\" custom\n</IfModule>\n\n<VirtualHost *:80>\n   ...\n    CustomLog logs/access.log custom\n</VirtualHost>\n\n\nawk\n\n$NF: \u6700\u7d42\u30d5\u30a3\u30fc\u30eb\u30c9\n$N0: \u884c\u5168\u4f53\n\n\n2\u79d2\u4ee5\u4e0a\u304b\u304b\u3063\u305f\u30ed\u30b0\u3092\u78ba\u8a8d\nawk '$NF > 2*10**6 {print $0}' access_log > access_log.slow\n\n\n\n2014\u5e74\u306e10\u6642\u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u306b\u5bfe\u3057\u3066\nawk '/2014:10:/{ if($NF > 2*10**6) {print $0}}' access_log >> access_log.slow\n\n\napache\u306eaccess_log\u6700\u7d42\u30d5\u30a3\u30fc\u30eb\u30c9\u306b`%D`\u3092\u8ffd\u52a0\n\n* %T :\u79d2\n* %D :\u30de\u30a4\u30af\u30ed\u79d2 (10**6)\n\n```apache:\u8a2d\u5b9a\u4f8b\n<IfModule log_config_module>\n    # LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\n    #LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %T\" custom\n    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{User-Agent}i\\\" %T\" custom\n</IfModule>\n\n<VirtualHost *:80>\n   ...\n    CustomLog logs/access.log custom\n</VirtualHost>\n```\n\nawk\n\n* $NF: \u6700\u7d42\u30d5\u30a3\u30fc\u30eb\u30c9\n* $N0: \u884c\u5168\u4f53\n\n```bash:2\u79d2\u4ee5\u4e0a\u304b\u304b\u3063\u305f\u30ed\u30b0\u3092\u78ba\u8a8d\nawk '$NF > 2*10**6 {print $0}' access_log > access_log.slow\n```\n\n```bash:2014\u5e74\u306e10\u6642\u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u306b\u5bfe\u3057\u3066\nawk '/2014:10:/{ if($NF > 2*10**6) {print $0}}' access_log >> access_log.slow\n```\n", "tags": ["Apache", "awk"]}