{"tags": ["Ubuntu", "C#", "\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1", "RabbitMQ", "Erlang"], "context": "\u524d\u56de\u306e\u8a18\u4e8b: \u300c\uff1c\u305d\u306e\uff11\uff1e\u300d http://qiita.com/muzudho1/items/af3537d36f16c063a572\n\nUbuntu\u3067\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3057\u3088\u3046\n\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u2026\u2026\u3001RabbitMQ\u3063\u3066\u3044\u3063\u305f\u3044\u4f55\u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u3060\uff1f \n(RabbitMQ)\nhttps://www.rabbitmq.com/\n\u300cRabbitMQ Configuration\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/configure.html\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\nnode           : rabbit@example\nhome dir       : /var/lib/rabbitmq\nconfig file(s) : /etc/rabbitmq/rabbitmq.config\n\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\nnode           : rabbit@example\nhome dir       : /var/lib/rabbitmq\nconfig file(s) : /var/lib/rabbitmq/hare.config (not found)\n\n\u3046\u30fc\u3080\u3001broker \u3068\u3044\u3046\u5358\u8a9e\u3082\u51fa\u3066\u304f\u308b\u304c\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3002\n\u30c8\u30e9\u30d6\u30eb\u30fb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30da\u30fc\u30b8\u306f\u7121\u3044\u3082\u306e\u304b\u3002\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-dotnet.html\n\u516c\u5f0f\u306e\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u898b\u308b\u3068\u3001\u308f\u305f\u3057\u306e\u77e5\u3063\u3066\u308b\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3088\u308a\u3082\u96e3\u3057\u3044\u3053\u3068\u3092\u3057\u3066\u3044\u308b\u3002\nRabbitMQ.Client.dll \u3068\u3044\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u306f \u30b5\u30fc\u30d0\u30fc\u306e\u4e2d\u306b\u3042\u308b\u306e\u3060\u308d\u3046\u304b\u3002\u3069\u3046\u3084\u3063\u3066\u8abf\u3079\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\n\u300c\u7279\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u63a2\u3059\u300d (Qiita)\nhttp://qiita.com/Yuichirou/items/38165af29ab1e2d307f6\n\u3058\u3083\u3042\napt-file search RabbitMQ.Client.dll\n\n\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\nThe program 'apt-file' is currently not installed. You can install it by typing:\napt install apt-file\n\n\u3058\u3083\u3042\u307e\u305a\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u3002\napt install apt-file\n\uff5e\u4e2d\u7565\uff5e\nThe system-wide cache is empty. You may want to run 'apt-file update'\nas root to update the cache. You can also run 'apt-file update' as\nnormal user to use a cache in the user's home directory.\n\n\u3058\u3083\u3042\u6b21\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3002\napt-file update\n\uff5e\u4e2d\u7565\uff5e\n\nFile is up-to-date.\n\n\u3058\u3083\u3042\u307e\u305f\u691c\u7d22\u3002\napt-file search RabbitMQ.Client.dll\nlibmono-rabbitmq4.0-cil: /usr/lib/mono/4.5/RabbitMQ.Client.dll\nlibmono-rabbitmq4.0-cil: /usr/lib/mono/gac/RabbitMQ.Client/4.0.0.0__b03f5f7f11d50a3a/RabbitMQ.Client.dll\nmono-dbg: /usr/lib/mono/gac/RabbitMQ.Client/4.0.0.0__b03f5f7f11d50a3a/RabbitMQ.Client.dll.mdb\nmono-reference-assemblies-2.0: /usr/lib/mono/2.0/RabbitMQ.Client.dll\nmono-reference-assemblies-4.0: /usr/lib/mono/4.0/RabbitMQ.Client.dll\n\n\u307b\u3046\u307b\u3046\u3001RabbitMQ.Client.dll \u306f\u5165\u3063\u3066\u308b\u305c\u3002\n\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u4f5c\u3063\u3066\u3001\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u78ba\u7acb\u3057\u3066\u3001\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u958b\u3051\u3001\u3068\u66f8\u3044\u3066\u3042\u308b\u306a\u3002\n\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u307f\u308b\u304b\u3002\n\u7d9a\u304f\u3002\nSystem.Messaging \u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u308b\u3068 RabbitQL \u306f\u898b\u3048\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3002\nnano MsgQueue.cs\nmcs /reference:System.Messaging.dll MsgQueue.cs\n ./MsgQueue.exe\n\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8\u7bb1 \u4f5c\u6210\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n3   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\n4   : \u30e1\u30c3\u30bb\u30fc\u30b8\u7bb1 \u524a\u9664\nquit: \u7d42\u4e86\n\n1\nmq.BasePriority = 0\n\nUnhandled Exception:\nSystem.NotImplementedException: The method or operation is not implemented.\n  at Mono.Messaging.RabbitMQ.RabbitMQMessageQueue.get_CanRead () <0x408d0100 + 0x00017> in <filename unknown>:0\n  at System.Messaging.MessageQueue.get_CanRead () <0x408d0090 + 0x00020> in <filename unknown>:0\n  at (wrapper remoting-invoke-with-check) System.Messaging.MessageQueue:get_CanRead ()\n  at MsgQueue.Program.Main (System.String[] args) <0x4089dd50 + 0x001ff> in <filename unknown>:0\n[ERROR] FATAL UNHANDLED EXCEPTION: System.NotImplementedException: The method or operation is not implemented.\n  at Mono.Messaging.RabbitMQ.RabbitMQMessageQueue.get_CanRead () <0x408d0100 + 0x00017> in <filename unknown>:0\n  at System.Messaging.MessageQueue.get_CanRead () <0x408d0090 + 0x00020> in <filename unknown>:0\n  at (wrapper remoting-invoke-with-check) System.Messaging.MessageQueue:get_CanRead ()\n  at MsgQueue.Program.Main (System.String[] args) <0x4089dd50 + 0x001ff> in <filename unknown>:0\n\n\u3042\u308a\u3083\u3001CanRead \u30d7\u30ed\u30d1\u30c6\u30a3\u30fc\u4f7f\u3048\u306a\u3044\u306e\u304b\u3002\u30b3\u30f3\u30d1\u30a4\u30eb\u901a\u3063\u3066\u308b\u306e\u306b\u3001\u306a\u3093\u3067\u4f7f\u3048\u306a\u3044\u3093\u3060\uff1f\nWindows \u3060\u3068\nmq.AccessMode = SendAndReceive\nmq.Authenticate = False\nmq.BasePriority = 0\nmq.CanRead = True\nmq.CanWrite = True\nmq.Category = 00000000-0000-0000-0000-000000000000\nmq.Container =\nmq.CreateTime = 2017/03/06 18:13:13\nmq.DefaultPropertiesToSend = System.Messaging.DefaultPropertiesToSend\nmq.DenySharedReceive = False\nmq.EncryptionRequired = Optional\nmq.FormatName = DIRECT=OS:takahashi-pc\\Private$\\testqueue\nmq.Formatter = System.Messaging.XmlMessageFormatter\nmq.Id = 00000000-0000-0000-0000-000000000000\nmq.Label =\nmq.LastModifyTime = 2017/03/06 18:13:13\nmq.MachineName = .\nmq.MaximumJournalSize = 4294967295\nmq.MaximumQueueSize = 4294967295\nmq.MessageReadPropertyFilter = System.Messaging.MessagePropertyFilter\nmq.MulticastAddress =\nmq.Path = .\\Private$\\testqueue\nmq.QueueName = Private$\\testqueue\nmq.ReadHandle = 1788\nmq.Site =\nmq.SynchronizingObject =\nmq.Transactional = False\nmq.UseJournalQueue = False\nmq.WriteHandle = 1588\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u8aad\u3081\u308b\u306e\u3067\u3001\u5b9f\u88c5\u304c\u306a\u3044\u3068\u3057\u305f\u3089\u3000\u5b9f\u969b\u3000\u672a\u5b9f\u88c5\u306a\u306e\u304b\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u304b\u3067\u304d\u306a\u3044\u306e\u304b\uff1f\n\nRabbitMQ \u3092\u5165\u624b\u3057\u305f\u65b9\u304c\u3044\u3044\u306e\u3067\u306f\uff1f\nSystem.Messaging \u3092\u4f7f\u3063\u3066\u308b\u306e\u304c\u9593\u9055\u3044\u306a\u306e\u304b\uff1f\n\u300cHow do I use RabbitMQ on Mono on Linux\u300d (stack overflow)\nhttp://stackoverflow.com/questions/28020761/how-do-i-use-rabbitmq-on-mono-on-linux\n\nErlang \uff08\u30a2\u30fc\u30e9\u30f3\uff09\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3088\u3046\nRabbitMQ\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306b\u3001Erlang \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u308c\u3063\u3066\u51fa\u3066\u304d\u305f\u3002\n\u300cDOWNLOAD OTP 19.2\u300d (ERLANG)\nhttp://www.erlang.org/downloads\n\u3058\u3083\u3042\u3001Windows 64bit \u7528\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u304b\u3002\n\u3048\u3063\uff01\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u307e\u3067 2\u6642\u9593 1\u6642\u9593 2\u6642\u9593 40\u5206\u2026\u2026\u3001\u306a\u3093\u3060\u308d\u3046\u3001\u3069\u3093\u306a\u7d30\u3044\u56de\u7dda\u3092\u901a\u3063\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u3066\u304f\u308b\u3093\u3060\u308d\u3046\u3002\n\u81ea\u5b85\u306e\u56de\u7dda\u304c\u7d30\u304f\u306a\u3063\u305f\u3093\u3058\u3083\u306a\u3044\u304b\u3002\u305d\u306e\u9593\u306b\u4ed6\u306e\u4f5c\u696d\u304b\u3089\u3084\u308d\u3046\u3002\n\nPHP \u3068 \u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u306f\u901a\u4fe1\u3067\u304d\u308b\u306e\u304b\uff1f\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u306b\u306f\u6b21\u306e\u3082\u306e\u304c\u3042\u308b\u306f\u305a\u3060\n\n\u30ad\u30e5\u30fc\u306e\u65e2\u5b58\u78ba\u8a8d\n\u30ad\u30e5\u30fc\u306e\u4f5c\u6210\n\u30ad\u30e5\u30fc\u3078\u9001\u4fe1\n\u30ad\u30e5\u30fc\u304b\u3089\u53d7\u4fe1\n\u30ad\u30e5\u30fc\u306e\u524a\u9664\n\nPHP \u3067\u306f\u3069\u308c\u306b\u5f53\u3066\u306f\u307e\u308b\u3060\u308d\u3046\uff1f\n\n\u30ad\u30e5\u30fc\u306e\u4f5c\u6210\u307e\u305f\u306f\u53d6\u5f97 msg_get_queue()\n\u30ad\u30e5\u30fc\u3078\u9001\u4fe1 msg_send()\n\u30ad\u30e5\u30fc\u304b\u3089\u53d7\u4fe1 msg_receive()\n\u30ad\u30e5\u30fc\u306e\u524a\u9664 msg_remove_queue()\nmsg_set_queue() \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a2d\u5b9a\nmsg_stat_queue() \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u53d6\u5f97\n\n\u305d\u308c\u305e\u308c\u8abf\u3079\u3066\u307f\u3088\u3046\u3002\n\u300cmsg_get_queue\u300d (PHP\u30de\u30cb\u30e5\u30a2\u30eb)\nhttp://php.net/manual/ja/function.msg-get-queue.php\n$MSGKey = \"123456\" ; \n\n## Create or attach to a message queue\n$seg = msg_get_queue($MSGKey) ;\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ad\u30fc\u304c\u6570\u5b57\u3068\u3044\u3046\u306e\u306f\u3069\u3046\u3044\u3046\u3053\u3068\u3060\u308d\u3046\u3002/Private$/testqueue \u307f\u305f\u3044\u306a\u6587\u5b57\u5217\u3058\u3083\u306a\u3044\u306a\u3089\u3069\u3046\u3084\u3063\u3066 C# \u3068 PHP \u3067\u540c\u3058\u30ad\u30e5\u30fc\u3092\u898b\u306b\u3044\u304f\u3093\u3060\u308d\u3046\u3002\n\u300cRabbitMQ + php-amqplib \u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc\u30a4\u30f3\u30b0\u8a66\u3057\u3066\u307f\u305f\u300d (Qiita)\nhttp://qiita.com/imunew/items/d93917c0344f5ef1abce\n\u300c\u65b0\u4eba\u30d7\u30ed\u30b0\u30e9\u30de\u306b\u77e5\u3063\u3066\u3082\u3089\u3044\u305f\u3044RabbitMQ\u521d\u5fc3\u8005\u306e\u5165\u9580\u306e\u5165\u9580\u300d (Qiita)\nhttp://qiita.com/gambaray/items/3cc02b419c860a96bc94\n\u300cRabbitMQ \u306e\u5c0e\u5165\u300d (Qiita)\nhttp://qiita.com/taka1970/items/fa783304b7a71b7921e5\n\nLinux\u306e\u74b0\u5883\u5909\u6570\uff1f\n\u300cSystem.Messaging\u300d (Mono)\nhttp://www.mono-project.com/archived/systemmessaging/\nLinux \u3067 System.Messaging \u3092\u4f7f\u304a\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u74b0\u5883\u5909\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\n\u305d\u308c\u3068\u3082 Windows\u306e\u8a71\u3057\u3060\u308d\u3046\u304b\u3002\n\nERLANG \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u305e\nWindows \u4e0a\u306b RabbitMQ + ERLANG \u306e\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u305f\u3044\u3002\u30ed\u30fc\u30ab\u30eb\u30c6\u30b9\u30c8\u7528\u306b\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u305fERLANG\u306e .exe \u3092\u53e9\u3044\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3002\u6b21\u306f RabbitMQ \u304b\u3002\nRabbitMQ \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u9032\u3081\u308b\u3002\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306b\uff12\u56de\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u308b\u304c\u8a31\u53ef\u3057\u3066\u9032\u3081\u305f\u3002\n\u3058\u3083\u3042 C# \u3067\nusing RabbitMQ.Client;\n\n\u3068\u304b\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3093\u3060\u308d\u3046\u304b\uff1f\u3000\u8abf\u3079\u3066\u307f\u3088\u3046\u3002\n\u305d\u3093\u306a\u69d8\u5b50\u306f\u3069\u3053\u306b\u3082\u306a\u304f\u3002\n\nRabbitMQ.Client.dll \u3092\u63a2\u3059\u304b\nC:\\Program Files\\RabbitMQ Server \u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u4e2d\u306b\u306f\u7121\u3044\u3002\n\u3068\u3044\u3046\u304b Unity \u304c\u6301\u3063\u3066\u3044\u308b\u3002\n\u6b63\u898f\u7684\u306b\u306f\u3001\u3069\u3053\u304b\u3089\u5165\u624b\u3059\u308b\u3093\u3060\u308d\u3046\u304b\u3002\n\u300c.NET/C# RabbitMQ client library\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/dotnet.html\n\nNuGet\u30d1\u30c3\u30b1\u30fc\u30b8\nNuGet\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3001\u3068\u3042\u308b\u304c NuGet\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u306f\u4f55\u304b\u3002\n\u300cRabbitMQ .NET\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 4.1.1\u300d (nuget)\nhttps://www.nuget.org/packages/RabbitMQ.Client\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u30b3\u30f3\u30bd\u30fc\u30eb\u3063\u3066\u4f55\u3060\uff1f\n\u300c\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u30b3\u30f3\u30bd\u30fc\u30eb\u300d (Microsoft)\nhttps://docs.microsoft.com/ja-jp/nuget/tools/package-manager-console\nVisual Studio 2015 \u3092\u4f7f\u3063\u3066\u3044\u3066\u4eca\u307e\u3067\u6c17\u3065\u304b\u306a\u304b\u3063\u305f\u304c\u3001\n\u30e1\u30a4\u30f3\u30e1\u30cb\u30e5\u30fc\u304b\u3089 [Tools] - [NuGet Package Manager] - [Package Manager Console] \u3068\u9032\u3081\u308b\u3002\n\u3059\u308b\u3068\u3000\u3044\u3064\u3082\u3000\u30a8\u30e9\u30fc\u3068\u304b\u691c\u7d22\u7d50\u679c\u304c\u51fa\u3066\u3044\u305f\u30da\u30a4\u30f3\u306b Package Manager Console \u304c\u51fa\u3066\u304d\u3066\u5165\u529b\u3092\u4fc3\u3057\u3066\u3044\u308b\u3002\nPM>\n\n\u3058\u3083\u3042\u3001\u5165\u529b\u3057\u3066\u307f\u308b\u3002\nPM> Install-Package RabbitMQ.Client -Version 4.1.1\nAttempting to gather dependencies information for package 'RabbitMQ.Client.4.1.1' with respect to project 'UsagiMQ', targeting '.NETFramework,Version=v4.5.2'\nAttempting to resolve dependencies for package 'RabbitMQ.Client.4.1.1' with DependencyBehavior 'Lowest'\nResolving actions to install package 'RabbitMQ.Client.4.1.1'\nResolved actions to install package 'RabbitMQ.Client.4.1.1'\nAdding package 'RabbitMQ.Client.4.1.1' to folder 'C:\\Users\\Takahashi\\Documents\\muzudho\\Shogi_Ubuntu\\UsagiMQ\\packages'\nAdded package 'RabbitMQ.Client.4.1.1' to folder 'C:\\Users\\Takahashi\\Documents\\muzudho\\Shogi_Ubuntu\\UsagiMQ\\packages'\nAdded package 'RabbitMQ.Client.4.1.1' to 'packages.config'\nSuccessfully installed 'RabbitMQ.Client 4.1.1' to UsagiMQ\n\n\u304a\u30fc\u3063\uff01\n\u3058\u3083\u3042\u4eca\u3069\u304d\u306f\u3000\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3088\u308a\u3001NuGet \u3092\u4f7f\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u65b9\u304c\u3044\u3044\u306e\u304b\u3002\n\u3059\u308b\u3068\u3001C# \u8a00\u8a9e\u3067\nusing RabbitMQ.Client;\n\n\u3068\u66f8\u3044\u3066\u3082\u30a8\u30e9\u30fc\u306b\u306a\u3089\u306a\u304f\u306a\u3063\u305f\u3002\n\nRabbitMQ \u306e\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u307f\u3088\u3046\u3002\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-dotnet.html\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30b3\u30d4\u30da\u5b9f\u884c\u3059\u308b\u3068 \u6587\u5b57\u306e\u3084\u308a\u3068\u308a\u3092\u3084\u3063\u3066\u308b\u307f\u305f\u3044\u306a\u3093\u3060\u304c\u3001\n\u524d\u56de\u306e\u8a18\u4e8b\u307f\u305f\u3044\u306b\u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u306e\u7ba1\u7406\u300d\u304b\u3089\u3044\u3051\u308b\u300c\u30e1\u30c3\u30bb\u30fc\u30b8 \u30ad\u30e5\u30fc\u300d\u306e\u4e2d\u306b\u306f\u306a\u3093\u306b\u3082\u5165\u3063\u3066\u306a\u3044\u3088\u3046\u3067\u3001\u9001\u4fe1\u3068\u53d7\u4fe1\u306e\uff12\u3064\u304c\u306a\u3044\u3068\u3000\u3061\u3083\u3093\u3068\u3000\u3084\u308a\u3068\u308a\u3057\u3066\u308b\u306e\u304b\u30c6\u30b9\u30c8\u3067\u304d\u306a\u3044\u3093\u3060\u306a\u3002\n\u3058\u3083\u3042\u3001\u3053\u308c\u5225\u306b\uff12\u3064\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u3057\u306a\u304f\u3066\u3082\u3000\uff11\u3064\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u307e\u3068\u3081\u3089\u308c\u305d\u3046\u306a\u306e\u3067\u3001\u307e\u3068\u3081\u3066\u307f\u308b\u304b\u3002\n\u9577\u304f\u306a\u3063\u305f\u304c\u3001\u3053\u308c\u3067\u3044\u3051\u305f\u3002\nusing RabbitMQ.Client;\nusing RabbitMQ.Client.Events;\nusing System;\nusing System.Text;\n\nnamespace UsagiMQ\n{\n    class Program\n    {\n        public const string\n            HOST_NAME = \"localhost\",\n            QUEUE_NAME = \"hello\";\n\n        static void Main(string[] args)\n        {\n            for (;;)\n            {\n                Console.WriteLine(@\"\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\");\n\n                int category = 0;\n                for (;;)\n                {\n                    string line = Console.ReadLine();\n                    switch (line)\n                    {\n                        case \"1\": category = 1; goto gt_EndLoop1;\n                        case \"2\": category = 2; goto gt_EndLoop1;\n                        case \"quit\": goto gt_Quit;\n                        default: break;\n                    }\n                }\n                gt_EndLoop1:\n                ;\n\n                switch (category)\n                {\n                    case 1:\n                        {\n                            Console.WriteLine(@\"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066[Enter]\u30ad\u30fc\u3092\u62bc\u305b\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\");\n                            // \"Hello World!\" \u306a\u3069\u3092\u5165\u529b\n                            string line = Console.ReadLine();\n                            Send(line);\n                        }\n                        break;\n                    case 2: Receive(); break;\n                }\n            }\n            gt_Quit:\n            ;\n        }\n\n        static void Send(string message)\n        {\n            var factory = new ConnectionFactory() { HostName = HOST_NAME };\n            using (var connection = factory.CreateConnection())\n            {\n                using (var channel = connection.CreateModel())\n                {\n                    channel.QueueDeclare(queue: QUEUE_NAME,\n                                         durable: false,\n                                         exclusive: false,\n                                         autoDelete: false,\n                                         arguments: null);\n\n                    var body = Encoding.UTF8.GetBytes(message);\n\n                    channel.BasicPublish(exchange: \"\",\n                                         routingKey: QUEUE_NAME,\n                                         basicProperties: null,\n                                         body: body);\n                    Console.WriteLine(\" Sent(^q^) {0}\", message);\n                }\n            }\n\n            Console.WriteLine(\" Press [enter] to menu.\");\n            Console.ReadLine();\n        }\n\n        static void Receive()\n        {\n            var factory = new ConnectionFactory() { HostName = HOST_NAME };\n            using (var connection = factory.CreateConnection())\n            {\n                using (var channel = connection.CreateModel())\n                {\n                    channel.QueueDeclare(queue: QUEUE_NAME,\n                                         durable: false,\n                                         exclusive: false,\n                                         autoDelete: false,\n                                         arguments: null);\n\n                    var consumer = new EventingBasicConsumer(channel);\n                    // \u53d7\u4fe1\u3067\u304d\u305f\u3068\u304d\u306b\u5272\u308a\u8fbc\u3093\u3067\u304f\u308b\u51e6\u7406\n                    consumer.Received += (model, ea) =>\n                    {\n                        var body = ea.Body;\n                        var message = Encoding.UTF8.GetString(body);\n                        Console.WriteLine(\" [interrupt!] Received(^q^) {0}\", message);\n                    };\n                    channel.BasicConsume(queue: QUEUE_NAME,\n                                         noAck: true,\n                                         consumer: consumer);\n\n                    Console.WriteLine(\" Please, wait receiving... Or Press [enter] to menu.\");\n                    Console.ReadLine();\n                }\n            }\n        }\n\n    }\n}\n\n\u3053\u308c\u3001Ubuntu\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\u3000\u3084\u3063\u3066\u307f\u3088\u3046\u3002\n\u3058\u3083\u3042\u3001\u524d\u306b\u66f8\u3044\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u6368\u3066\u308b\u305c\u3002\nrm MsgQueue.cs\nnano MsgQueue.cs\n\nmcs MsgQueue.cs\nMsgQueue.cs(1,7): error CS0246: The type or namespace name `RabbitMQ' could not be found. Are you missing an assembly reference?\nMsgQueue.cs(2,7): error CS0246: The type or namespace name `RabbitMQ' could not be found. Are you missing an assembly reference?\nCompilation failed: 2 error(s), 0 warnings\n\n\u3058\u3083\u3042\u3001\u3053\u3046\u304b\u3002\nmcs /reference:RabbitMQ.Client.dll MsgQueue.cs\nmcs /reference:RabbitMQ.C             lient.dll MsgQueue.cs\nMsgQueue.cs(63,29): error CS1501: No overload for method `QueueDeclare' takes `5             ' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(90,29): error CS1501: No overload for method `QueueDeclare' takes `5             ' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(96,36): error CS1729: The type `RabbitMQ.Client.Events.EventingBasic             Consumer' does not contain a constructor that takes `1' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(105,42): error CS1739: The best overloaded method match for `RabbitM             Q.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Cl             ient.IBasicConsumer)' does not contain a parameter named `noAck'\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(104,29): error CS1502: The best overloaded method match for `RabbitM             Q.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Cl             ient.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(105,49): error CS1503: Argument `#2' cannot convert `bool' expressio             n to type `System.Collections.IDictionary'\nCompilation failed: 6 error(s), 0 warnings\n\n\u306a\u3093\u304b RabbitMQ.Client.dll \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u304b\u53e4\u3044\u3068\u3044\u3046\u8a71\u3057\u3060\u308d\u3046\u304b\u3002\n\nRabbitMQ.Client.dll \u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u306e\u65b9\u6cd5\u3092\u8abf\u3079\u3066\u307f\u3088\u3046\u3002\n\u300cInstalling on Debian / Ubuntu\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/install-debian.html\n\u306a\u3093\u3060\u304b\u5206\u304b\u3089\u3093\u304c\u3000\u66f8\u304b\u308c\u3066\u3044\u308b\u30b3\u30de\u30f3\u30c9\u6253\u3063\u3066\u3044\u3053\u3046\u3002\necho 'deb http://www.rabbitmq.com/debian/ testing main' | sudo tee /etc/apt/sources.list.d/rabbitmq.list\ndeb http://www.rabbitmq.com/debian/ testing main\n\n\u306a\u3093\u304b URL \u306e\u3088\u3046\u306a\u3082\u306e\u304c\u51fa\u3066\u304d\u305f\u3002\nsudo apt-get update\n\n\u306a\u3093\u304b\u52d5\u3044\u305f\u304c\u3001\u3046\u307e\u304f\u3044\u3063\u305f\u306e\u304b\u3001\u4f55\u3082\u8d77\u3053\u3089\u306a\u304b\u3063\u305f\u306e\u304b\u3001\u30a8\u30e9\u30fc\u306a\u306e\u304b\u306a\u3093\u306a\u306e\u304b\u3000\u308f\u304b\u3089\u3093\u3002\nsudo apt-get install rabbitmq-server\n\n\u306a\u3093\u304b\u9032\u3093\u3067\u7d42\u308f\u3063\u305f\u3002\n\u306a\u3093\u304b\u8ffd\u52a0\u3059\u308b\u3089\u3057\u3044\u3002\ngpg --keyserver pgpkeys.mit.edu --recv-key 7638D0442B90D010\n\ngpg -a --export 7638D0442B90D010 | sudo apt-key add -\nOK\n\necho 'deb http://ftp.debian.org/debian wheezy-backports main' | sudo tee /etc/apt/sources.list.d/wheezy_backports.list\ndeb http://ftp.debian.org/debian wheezy-backports main\n\n\u307e\u3060\u306a\u3093\u304b\u8ffd\u52a0\u3059\u308b\u3089\u3057\u3044\u3002\nwget -O- https://packages.erlang-solutions.com/debian/erlang_solutions.asc | sudo apt-key add -\nOK\n\necho 'deb https://packages.erlang-solutions.com/debian wheezy contrib' | sudo tee /etc/apt/sources.list.d/esl.list\ndeb https://packages.erlang-solutions.com/debian wheezy contrib\n\n\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3060\u3002\nsudo apt-get update\n\nsudo apt-get install init-system-helpers socat esl-erlang\n\n\u306a\u3093\u304b\u3044\u3063\u3071\u3044\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u3002\u6b21\u306f RabbitMQ \u306e\u4f55\u304b\u3002\nwget -O- https://www.rabbitmq.com/rabbitmq-release-signing-key.asc | sudo apt-key add -\nOK\n\necho 'deb http://www.rabbitmq.com/debian/ testing main' | sudo tee /etc/apt/sources.list.d/rabbitmq.list\ndeb http://www.rabbitmq.com/debian/ testing main\n\nsudo apt-get update\n\nsudo apt-get install rabbitmq-server\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n\n\u3053\u308c\u3067\u3044\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\nmcs /reference:RabbitMQ.Client.dll MsgQueue.cs\nMsgQueue.cs(63,29): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(90,29): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(96,36): error CS1729: The type `RabbitMQ.Client.Events.EventingBasicConsumer' does not contain a constructor that takes `1' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(105,42): error CS1739: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' does not contain a parameter named `noAck'\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(104,29): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(105,49): error CS1503: Argument `#2' cannot convert `bool' expression to type `System.Collections.IDictionary'\nCompilation failed: 6 error(s), 0 warnings\n\n\u3046\u30fc\u3093\u3001\u5f15\u6570\u304c5\u500b\u306eQueueDeclare\u30e1\u30bd\u30c3\u30c9\u304c\u7121\u3044\u3068\u304b\u3001\u4f55\u3060\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u5f15\u6570\u304c\uff15\u500b\n\u300cError: \u201cNo OverLoad For Method 'ExecuteInsert' takes '5' argument\u201d [closed]\u300d (stack overflow)\nhttp://stackoverflow.com/questions/14638880/error-no-overload-for-method-executeinsert-takes-5-argument\n\u3058\u3083\u3042\u3001Windows 10 \u3067\u306f\u554f\u984c\u306a\u304f\u52d5\u304f\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u3053\u3053\u304c\u30c0\u30e1\u306a\u306e\u304b\uff1f\n                    channel.QueueDeclare(queue: QUEUE_NAME,\n                                         durable: false,\n                                         exclusive: false,\n                                         autoDelete: false,\n                                         arguments: null);\n\n\u3058\u3083\u3042\u3000\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u2026\u2026\u3002\n\u30a8\u30e9\u30fc\u306e\u5225\u306e\u90e8\u5206\u3082\u898b\u3066\u307f\u3088\u3046\u3002\nRabbitMQ.Client.dll (Location of the symbol related to previous error)\n\nmono -V\nMono JIT compiler version 4.2.1 (Debian 4.2.1.102+dfsg2-7ubuntu4)\nCopyright (C) 2002-2014 Novell, Inc, Xamarin Inc and Contributors. www.mono-project.com\n        TLS:           __thread\n        SIGSEGV:       altstack\n        Notifications: epoll\n        Architecture:  amd64\n        Disabled:      none\n        Misc:          softdebug\n        LLVM:          supported, not enabled.\n        GC:            sgen\n\n\nUbuntu \u3067 NuGet \u3063\u3066\u4f7f\u3048\u308b\u306e\uff1f\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-dotnet.html\nC#\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u306f mcs \u3092\u4f7f\u3063\u3066\u3044\u305f\u304c\u3001csc \u306e\u65b9\u304c\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\n\u300cmcs\u306e\u6700\u65b0\u60c5\u5831\u3068\u4eca\u5f8c\u306e\u5c55\u671b\u306b\u3064\u3044\u3066\u300d (\u3082\u306e\u304c\u305f\u308a)\nhttp://atsushieno.hatenablog.com/entry/2014/12/11/000240\ncsc \u304c\u30de\u30a4\u30af\u30ed\u30bd\u30d5\u30c8\u306eC#\u30b3\u30f3\u30d1\u30a4\u30e9\u3067\u3001\nmcs \u304cmono \u306eC#\u30b3\u30f3\u30d1\u30a4\u30e9\u3060\u308d\u3046\u304b\u3002\nUbuntu\u306bcsc \u3092\u5165\u308c\u308c\u308b\u3060\u308d\u3046\u304b\u3002\n\u300cUbuntuServer\u306b\u3001Mono\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u300d (Qiita)\nhttp://qiita.com/takanemu/items/52888d324df3d367d4c1\nmono-csc \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\nmono-csc /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(61,21): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(76,21): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(78,46): error CS1729: The type `RabbitMQ.Client.Events.EventingBasicConsumer' does not contain a constructor that takes `1' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(86,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(86,46): error CS1503: Argument `#2' cannot convert `bool' expression to type `System.Collections.IDictionary'\nCompilation failed: 5 error(s), 0 warnings\n\n\u3042\u308b\u3088\u3046\u3060\u304c\u30a8\u30e9\u30fc\u3060\u3002 QueueDeclare \u306e\u4ed5\u69d8\u306f\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u306e\u304b\uff1f\n\u300cQueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary) Method\u300d (http://docs.spring.io)\nhttp://docs.spring.io/spring-amqp-net/docs/1.0.x/api/html/Spring.Messaging.Amqp.Rabbit~Spring.Messaging.Amqp.Rabbit.Connection.CachedModel~QueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary).html\nUbuntu\u306e RabbitMQ \u304c\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306a\u3093\u3060\u308d\u3046\u304b\u3002\u3055\u3063\u304d\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u305f\u3068\u601d\u3046\u3093\u3060\u304c\u3002\n\nRabbitMQ \u306e\u505c\u6b62\u3068\u8d77\u52d5\n\u300cRabbitMQ\u3092\u8a66\u3057\u3066\u307f\u308b\u300d (shinodogg.com)\nhttps://shinodogg.com/?p=4641\nrabbitmqctl stop\nStopping and halting node 'rabbit@tk2-217-18401' ...\nError: unable to connect to node \uff5e\u4ee5\u4e0b\u7565\uff5e\n\n\u505c\u6b62\u3057\u3088\u3046\u3068\u3057\u305f\u3089\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\n rabbitmq-server\n\n              RabbitMQ 3.6.6. Copyright (C) 2007-2016 Pivotal Software, Inc.\n  ##  ##      Licensed under the MPL.  See http://www.rabbitmq.com/\n  ##  ##\n  ##########  Logs: /var/log/rabbitmq/\uff5e\u7565\uff5e\n  ######  ##        /var/log/rabbitmq/\uff5e\u7565\uff5e\n  ##########\n              Starting broker...\n completed with 0 plugins.\n\n\u8d77\u52d5\u306f\u3046\u307e\u304f\u3044\u3063\u305f\u3093\u3060\u308d\u3046\u304b\uff1f\n[Ctrl]+[Z] \u3067\u6b62\u3081\u3066\n[1]+  Stopped                 rabbitmq-server\n\nbg 1\n[1]+ rabbitmq-server &\n\n\u3057\u3066\u3001\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(61,21): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(76,21): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(78,46): error CS1729: The type `RabbitMQ.Client.Events.EventingBasicConsumer' does not contain a constructor that takes `1' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(86,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(86,46): error CS1503: Argument `#2' cannot convert `bool' expression to type `System.Collections.IDictionary'\nCompilation failed: 5 error(s), 0 warnings\n\n\u95a2\u4fc2\u7121\u3044\u306e\u304b\u3002\n\u300c[RabbitMQ]RabbitMQ\u3092Ubuntu\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u30b5\u30f3\u30d7\u30eb\u3068\u7ba1\u7406\u753b\u9762\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u300d (\u30ba\u30c3\u30ad\u30fc\u30cb\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u5b9f\u9a13\u5834)\nhttp://zuqqhi2.com/install-rabbitmq\nsudo /etc/init.d/rabbitmq-server status\n\u25cf rabbitmq-server.service - RabbitMQ broker\n   Loaded: loaded (/lib/systemd/system/rabbitmq-server.service; enabled; vendor preset: enabled)\n   Active: inactive (dead) since Mon 2017-03-06 21:27:42 JST; 1h 16min ago\n Main PID: 23830 (code=killed, signal=TERM)\n   Status: \"Exited.\"\n\nMar 06 21:20:39 tk2-217-18401 rabbitmq-server[23830]:   ######  ##        /var/log/rabbitmq/\u2605\uff5e\u7565\uff5e.log\nMar 06 21:20:39 tk2-217-18401 rabbitmq-server[23830]:   ##########\nMar 06 21:20:39 tk2-217-18401 rabbitmq-server[23830]:               Starting broker...\nMar 06 21:20:41 tk2-217-18401 rabbitmq-server[23830]: systemd unit for activation check: \"rabbitmq-server.service\"\nMar 06 21:20:41 tk2-217-18401 systemd[1]: Started RabbitMQ broker.\nMar 06 21:20:42 tk2-217-18401 rabbitmq-server[23830]:  completed with 0 plugins.\nMar 06 21:27:40 tk2-217-18401 systemd[1]: Stopping RabbitMQ broker...\nMar 06 21:27:42 tk2-217-18401 rabbitmqctl[24821]: Stopping and halting node 'rabbit@\u2605\uff5e\u7565\uff5e' ...\nMar 06 21:27:42 tk2-217-18401 rabbitmq-server[23830]: Gracefully halting Erlang VM\nMar 06 21:27:42 tk2-217-18401 systemd[1]: Stopped RabbitMQ broker.\n\n\u3055\u3063\u3071\u308a\u308f\u304b\u3089\u3093\u3002\n\u300cVagrant\u4e0a\u306eUbuntu\u306bRabbitMQ\u3092\u305f\u3066\u3066MQTT\u3092\u304a\u8a66\u3057\u300d (braitom's Tech Memo)\nhttp://braitom.hatenablog.com/entry/2015/05/16/004515\nsudo /etc/init.d/rabbitmq-server restart\n[....] Restarting rabbitmq-server (via systemctl): rabbitmq-server.serviceGracefully halting Erlang VM\nJob for rabbitmq-server.service failed because the control process exited with error code. See \"systemctl status rabbitmq-server.service\" and \"journalctl -xe\" for details.\n failed!\n\n\u3053\u308c\u3082\u3088\u304f\u308f\u304b\u3089\u3093\u304c\u30a8\u30e9\u30fc\u3002\n\n\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u4ee5\u5916\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3060\u308d\u3046\u304b\uff1f\n\u63a5\u7d9a\u306e\u78ba\u7acb\u3060\u3051\u3084\u308d\u3046\u3068\u3057\u305f\u3089\nSystem.Net.Sockets.SocketException: Connection refused\n\n\u3060\u3057\u3001\nsudo rabbitmq-server\n\n\u3092\u6253\u3061\u8fbc\u3080\u3068\u6b62\u307e\u3063\u3066\u3057\u307e\u3046\u3002\u305f\u3060\u3001[Ctrl]+[Z] \u304b\u3089\nbg 1\n\n\u3068\u3057\u3066\u518d\u5ea6\n./MsgQueue.exe\n\n\u3068\u3059\u308b\u3068\u3001\u63a5\u7d9a\u306e\u78ba\u7acb\u307e\u3067\u306f\u3044\u3051\u308b\u3088\u3046\u3060\u3002\n\n\u3058\u3083\u3042\u3001 QueueDeclare \u306e\u5f15\u6570\u306f\u3044\u304f\u3064\u3060\u3063\u305f\u3089\u3044\u3044\u306e\u304b\uff1f\n\u5225\u306e\u89e3\u6cd5\u3092\u63a2\u3059\u6642\u9593\u3068\u3001\u308f\u305f\u3057\u306e\u30d0\u30b0\u63a2\u3057\u80fd\u529b\u3067\u62bc\u3057\u901a\u3059\u306e\u3068\u3069\u3063\u3061\u304c\u901f\u3044\u3060\u308d\u3046\u304b\u3002\n\u3058\u3083\u3042 \u8a66\u3057\u306b 7\u500b\u306e\u5f15\u6570\u3067\u3084\u3063\u3066\u307f\u3088\u3046\u3002\nroot@tk2-217-18401:/home/csg10/shogi/ukamuse_sdt4/bin# nano MsgQueue.cs\nroot@tk2-217-18401:/home/csg10/shogi/ukamuse_sdt4/bin# mcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(64,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.QueueDeclare(string, bool, bool, bool, bool, bool, System.Collections.IDictionary)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(64,67): error CS1503: Argument `#5' cannot convert `null' expression to type `bool'\nCompilation failed: 2 error(s), 0 warnings\n\n\u95a2\u6570\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u304c\u3067\u3066\u304d\u3066\u304f\u308c\u305f\u3002\u5f15\u6570\u306f\u3001\n\nstring\nbool\nbool\nbool\nbool\nbool\nSystem.Collections.IDictionary\n\n\u306e\u3088\u3046\u3060\u3002\u3053\u308c\u306f\u3000\u3044\u3064\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e QueueDeclare \u306a\u3093\u3060\u308d\u3046\u304b\uff1f\n\u30cd\u30c3\u30c8\u4e0a\u306b\u843d\u3061\u3066\u3044\u308b Spring.Messaging.Amqp.Rabbit \u3067\u306f\u3001\n\u300cQueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary) Method\u300d (http://docs.spring.io)\nhttp://docs.spring.io/spring-amqp-net/docs/1.0.x/api/html/Spring.Messaging.Amqp.Rabbit~Spring.Messaging.Amqp.Rabbit.Connection.CachedModel~QueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary).html\npublic string QueueDeclare( \n   string queue,\n   bool passive,\n   bool durable,\n   bool exclusive,\n   bool autoDelete,\n   bool nowait,\n   IDictionary arguments\n)\n\n\u3067\u3001RabbitMQ \u3067\u306f\nchannel.QueueDeclare(queue: \"hello\",\n                                 durable: false,\n                                 exclusive: false,\n                                 autoDelete: false,\n                                 arguments: null);\n\n\u306a\u306e\u3067\u3001\u3069\u3046\u3044\u3046\u3053\u3068\u306a\u306e\u304b\u3002\u7b2c2\u5f15\u6570 passive \u3068 \u7b2c6\u5f15\u6570 nowait \u306b\u9069\u5f53\u306b false \u3067\u3082\u5165\u308c\u3066\u304a\u3051\u3070\u3044\u3044\u306e\u304b\uff1f\nnano MsgQueue.cs\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\n\n\u5f15\u6570\uff17\u3064\u306b\u3057\u305f\u3089\u3000\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u901a\u3063\u305f\u3002\n\u5f15\u6570\u306e\u6570\u304c\u7570\u306a\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u307e\u3060\u3042\u308b\u3002\nEventingBasicConsumer consumer = new EventingBasicConsumer(channel);\n\n\u3053\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3002\u5f15\u6570\u304c\uff11\u3064\u3067\u306f\u306a\u3044\u3089\u3057\u3044\u306e\u3060\u3002\u3058\u3083\u3042 null \u3067\u3082\u8ffd\u52a0\u3057\u3066\u5f15\u6570\u3092\uff12\u3064\u306b\u3057\u3066\u307f\u308b\u3002\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(87,45): error CS1729: The type `RabbitMQ.Client.Events.EventingBasicConsumer' does not contain a constructor that takes `2' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nCompilation failed: 1 error(s), 0 warnings\n\n\u307e\u305a\u306f\u3000\u5f15\u6570\u306e\u6570\u3092\u5f53\u3066\u306a\u3044\u3068\u3000\u95a2\u6570\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306f\u8868\u793a\u3055\u308c\u306a\u3044\u306e\u304b\u3002\n\u3058\u3083\u3042\u3000\u81ea\u7136\u6570\u306e\u3088\u3046\u306b\u4f38\u3073\u3066\u3044\u3053\u3046\u3002\n\u5f15\u6570\u306e\u6570\u304c 0 \u306e\u5834\u5408\n mcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(87,34): warning CS0219: The variable `consumer' is assigned but its value is never used\nCompilation succeeded - 1 warning(s)\n\n\u3044\u3051\u308b\u306e\u304b\u3002\n\u53e4\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u308b\u3068\u3002\n\u300cpublic class EventingBasicConsumer\u300d (www.rabbitmq.com)\nhttps://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.Events.EventingBasicConsumer.html\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u30fc\u306e\u5f15\u6570\u306f 0 \u500b\u3060\u304c\u3001\u3058\u3083\u3042\u30c1\u30e3\u30f3\u30cd\u30eb\u306f\u3069\u3046\u3084\u3063\u3066\u6e21\u3059\u306e\u304b\uff1f\n\u3068\u308a\u3042\u3048\u305a\u5148\u306b\u9032\u3080\u3002 Ubuntu\u306eRabbitMQ \u306f v1.4 \u306a\u306e\u3060\u308d\u3046\u304b\uff1f\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(97,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(97,46): error CS1503: Argument `#2' cannot convert `bool' expression to type `System.Collections.IDictionary'\nCompilation failed: 2 error(s), 0 warnings\n\nBasicConsume \u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u304a\u304b\u3057\u3044\u3089\u3057\u3044\u3002\nv1.4\u3067\u306f\u3001IModel\u306eBasicConsume \u306f\u3044\u304f\u3064\u304b\u7a2e\u985e\u304c\u3042\u308b\u3002\n\u300cBasicConsume\u300d (www.rabbitmq.com)\nhttps://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.IModel.html#method-M:RabbitMQ.Client.IModel.BasicConsume(System.UInt16,System.String,System.Boolean,System.Collections.IDictionary,RabbitMQ.Client.IBasicConsumer)\nRabbitMQ \u3067\u306f\nchannel.BasicConsume(queue: \"hello\",\n                                 noAck: true,\n                                 consumer: consumer);\n\n\u3060\u304c\u3001v1.4\u3067\u306f\nstring BasicConsume(ushort ticket, string queue, bool noAck, IDictionary filter, IBasicConsumer consumer)\n\n\u3053\u306e\u5f62\u304c\u8fd1\u3044\u3060\u308d\u3046\u304b\u3002\u305d\u3053\u3067 \u7b2c1\u5f15\u6570\u306b\u306f 0 \u3067\u3082\u3001\u7b2c4\u5f15\u6570\u306b\u306f null \u3067\u3082\u5165\u308c\u3066\u304a\u304f\u3002\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(99,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, bool, string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(99,35): error CS1503: Argument `#1' cannot convert `int' expression to type `string'\nCompilation failed: 2 error(s), 0 warnings\n\n\u601d\u3063\u3066\u305f\u306e\u3068\u9055\u3046\u3088\u3046\u3060\u3002\n- string\n- bool\n- string\n- System.Collections.IDictionary\n- RabbitMQ.Client.IBasicConsumer\n\u3053\u308c\u306f\u306a\u3093\u3060\u308d\u3046\u304b\u3002\u4e26\u3073\u304c\u4f3c\u3066\u3044\u308b\u306e\u306f\u3053\u308c\u3060\u3002\nstring BasicConsume(ushort ticket, string queue, bool noAck, string consumerTag, IDictionary filter, IBasicConsumer consumer)\n\n\u6700\u521d\u306e ticket \u304c\u7121\u3044\u3068\u3059\u308c\u3070\u3001consumerTag \u306b\u7a7a\u6587\u5b57\u5217\u3001filter \u306b null \u3067\u3082\u5165\u308c\u3066\u304a\u3051\u3070\u3044\u3044\u3060\u308d\u3046\u304b\uff1f\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\n\n\u3072\u3068\u307e\u305a\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u901a\u3063\u305f\u3002\n\n\u5b9f\u884c\u3057\u3066\u307f\u3088\u3046\n./MsgQueue.exe\n\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\n1\n\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066[Enter]\u30ad\u30fc\u3092\u62bc\u305b\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\nAlphaBeta\n Sent(^q^) AlphaBeta\n Press [enter] to menu.\n\n\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\n2\n Please, wait receiving... Or Press [enter] to menu.\n [interrupt!] Received(^q^) AlphaBeta\n\n\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\nquit\n\n\u52d5\u3044\u305f\u3088\u3046\u3060\u3002\u6700\u5f8c\u306e quit \u3067\u30eb\u30fc\u30d7\u3092\u629c\u3051\u308c\u306a\u3044\u306e\u306f\u3000\u306a\u3093\u3067\u304b\u5206\u304b\u3089\u306a\u3044\u304c\u2026\u2026\u3002\n\u3053\u306e\u3068\u304d\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u306f\njobs\n[1]+  Running                 sudo rabbitmq-server &\n\nsudo rabbitmq-server &\n\u304c\u52d5\u3044\u3066\u3044\u305f\u3002\u95a2\u4fc2\u3042\u308b\u3060\u308d\u3046\u304b\u3002\n\u3058\u3083\u3042\u3001Ubuntu \u306b\u5165\u3063\u3066\u3044\u308b RabbitMQ \u306f v1.4 \u306b\u4f3c\u3066\u3061\u3087\u3063\u3068\u9055\u3046\u4f55\u304b \u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u3063\u305f\u3002\n\u306a\u305c\u30b5\u30a4\u30c8\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u6700\u65b0\u7248\u3068\u4e00\u81f4\u3057\u306a\u3044\u306e\u304b\uff1f\n\u300cVerify version of rabbitmq\u300d (stack overflow)\nhttp://stackoverflow.com/questions/7593269/verify-version-of-rabbitmq\nRabbitMQ \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u3066\u307f\u3088\u3046\u3002\nsudo rabbitmqctl status\n\nStatus of node 'rabbit@\u2605\uff5e\u7565\uff5e' ...\n[{pid,28875},\n {running_applications,[{rabbit,\"RabbitMQ\",\"3.6.6\"},\n                        {os_mon,\"CPO  CXC 138 46\",\"2.4.1\"},\n                        {ranch,\"Socket acceptor pool for TCP protocols.\",\n                               \"1.2.1\"},\n                        {rabbit_common,[],\"3.6.6\"},\n                        {xmerl,\"XML parser\",\"1.3.12\"},\n                        {mnesia,\"MNESIA  CXC 138 12\",\"4.14.1\"},\n                        {sasl,\"SASL  CXC 138 11\",\"3.0.1\"},\n                        {stdlib,\"ERTS  CXC 138 10\",\"3.1\"},\n                        {kernel,\"ERTS  CXC 138 10\",\"5.1\"}]},\n {os,{unix,linux}},\n {erlang_version,\"Erlang/OTP 19 [erts-8.1] [source-e7be63d] [64-bit] [smp:2:2] [async-threads:64] [hipe] [kernel-poll:true]\\n\"},\n {memory,[{total,40106344},\n          {connection_readers,0},\n          {connection_writers,0},\n          {connection_channels,0},\n          {connection_other,0},\n          {queue_procs,14920},\n          {queue_slave_procs,0},\n          {plugins,0},\n          {other_proc,13396952},\n          {mnesia,62008},\n          {mgmt_db,0},\n          {msg_index,49040},\n          {other_ets,959976},\n          {binary,12296},\n          {code,17800225},\n          {atom,752561},\n          {other_system,7058366}]},\n {alarms,[]},\n {listeners,[{clustering,25672,\"::\"},{amqp,5672,\"::\"}]},\n {vm_memory_high_watermark,0.4},\n {vm_memory_limit,416869580},\n {disk_free_limit,50000000},\n {disk_free,19432972288},\n {file_descriptors,[{total_limit,924},\n                    {total_used,2},\n                    {sockets_limit,829},\n                    {sockets_used,0}]},\n {processes,[{limit,1048576},{used,141}]},\n {run_queue,0},\n {uptime,3036},\n {kernel,{net_ticktime,60}}]\n\n3.6.6 \u306e\u3088\u3046\u3060\u3002\u30b5\u30a4\u30c8\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bRabbitMQ\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u3044\u304f\u3064\u3060\u308d\u3046\u304b\uff1f\n\u300cDownloading and Installing RabbitMQ\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/download.html\n3.6.6 \u306e\u3088\u3046\u3060\u3002\u3046\u3093\uff5e\uff5e\uff5e\uff5e\uff1f\uff1f\n\u3068\u308a\u3042\u3048\u305a\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u518d\u63b2\u3057\u3066\u304a\u304f\u3002\nusing RabbitMQ.Client;\nusing RabbitMQ.Client.Events;\nusing System;\nusing System.Text;\n\nnamespace UsagiMQ\n{\n    /// <summary>\n    /// \u53c2\u7167 : \u300cQueueDeclare\u300d http://docs.spring.io/spring-amqp-net/docs/1.0.x/api/html/Spring.Messaging.Amqp.Rabbit~Spring.Messaging.Amqp.Rabbit.Connection.CachedModel~QueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary).html\n    /// \u53c2\u7167 : \u300cEventingBasicConsumer\u300d https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.Events.EventingBasicConsumer.html\n    /// \u53c2\u7167 : \u300cBasicConsume\u300d https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.IModel.html#method-M:RabbitMQ.Client.IModel.BasicConsume(System.UInt16,System.String,System.Boolean,System.Collections.IDictionary,RabbitMQ.Client.IBasicConsumer)\n    /// </summary>\n    class Program\n    {\n        public const string\n            HOST_NAME = \"localhost\",\n            QUEUE_NAME = \"hello\";\n\n        static void Main(string[] args)\n        {\n            for (;;)\n            {\n                Console.WriteLine(@\"\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\");\n\n                int category = 0;\n                for (;;)\n                {\n                    string line = Console.ReadLine();\n                    switch (line)\n                    {\n                        case \"1\": category = 1; goto gt_EndLoop1;\n                        case \"2\": category = 2; goto gt_EndLoop1;\n                        case \"quit\": goto gt_Quit;\n                        default: break;\n                    }\n                }\n                gt_EndLoop1:\n                ;\n\n                switch (category)\n                {\n                    case 1:\n                        {\n                            Console.WriteLine(@\"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066[Enter]\u30ad\u30fc\u3092\u62bc\u305b\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\");\n                            // \"Hello World!\" \u306a\u3069\u3092\u5165\u529b\n                            string line = Console.ReadLine();\n                            Send(line);\n                        }\n                        break;\n                    case 2: Receive(); break;\n                }\n            }\n            gt_Quit:\n            ;\n        }\n\n        static void Send(string message)\n        {\n            ConnectionFactory factory = new ConnectionFactory() { HostName = HOST_NAME };\n            IConnection connection = factory.CreateConnection();\n            IModel channel = connection.CreateModel();\n\n            channel.QueueDeclare(QUEUE_NAME, false, false, false, null);\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b Spring.Messaging.Amqp.Rabbit \u306e\u5f15\u6570 7 \u3064\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            // channel.QueueDeclare(QUEUE_NAME, false, false, false, false, false, null);\n\n            byte[] body = Encoding.UTF8.GetBytes(message);\n\n            channel.BasicPublish(\"\", QUEUE_NAME, null, body);\n            Console.WriteLine(\" Sent(^q^) {0}\", message);\n            Console.WriteLine(\" Press [enter] to menu.\");\n            Console.ReadLine();\n        }\n\n        static void Receive()\n        {\n            ConnectionFactory factory = new ConnectionFactory() { HostName = HOST_NAME };\n            IConnection connection = factory.CreateConnection();\n            IModel channel = connection.CreateModel();\n\n            channel.QueueDeclare(QUEUE_NAME, false, false, false, null);\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b Spring.Messaging.Amqp.Rabbit \u306e\u5f15\u6570 7 \u3064\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            // channel.QueueDeclare(QUEUE_NAME, false, false, false, false, false, null);\n\n            EventingBasicConsumer consumer = new EventingBasicConsumer(channel);\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b v1.4.0 \u306e\u5f15\u6570\u304c 0 \u500b\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            //EventingBasicConsumer consumer = new EventingBasicConsumer();\n\n            // \u53d7\u4fe1\u3067\u304d\u305f\u3068\u304d\u306b\u5272\u308a\u8fbc\u3093\u3067\u304f\u308b\u51e6\u7406\n            consumer.Received += (model, ea) =>\n            {\n                byte[] body = ea.Body;\n                string message = Encoding.UTF8.GetString(body);\n                Console.WriteLine(\" [interrupt!] Received(^q^) {0}\", message);\n            };\n            channel.BasicConsume(QUEUE_NAME, true, consumer);\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b\u5f15\u6570\u304c 5 \u500b\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            // channel.BasicConsume( QUEUE_NAME, true, \"\", null, consumer);\n\n            Console.WriteLine(\" Please, wait receiving... Or Press [enter] to menu.\");\n            Console.ReadLine();\n        }\n\n    }\n}\n\n\n\u6b21\u306f PHP \u3067\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3059\u308b\u65b9\u6cd5\u3092\u8abf\u3079\u3088\u3046\n\u300c\u3010PHP\u3011\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc\u3092\u4f7f\u3046\u300d (\uff26\uff2f\uff32\u3000\uff33\uff25)\nhttp://forse.hatenablog.com/entry/2016/01/10/173518\n\u3058\u3083\u3042\u8a66\u3057\u306b\u30da\u30fc\u30b8\u3092\u4f5c\u3063\u3066\u307f\u308b\u304b\u3002\u3053\u3093\u306a\u3093\u3067\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\ntamesi2.php\n<?php\n// \u9001\u4fe1\u3057\u305f\u3044\u6587\u5b57\u5217\n$msg = \"hello, world\";\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 600 \u306e8\u9032\u6570\u8868\u8a18\n$msgkey = msg_get_queue( 5963 ,0600 );\n    if( !msg_send( $msgkey ,12 ,$msg ,false ) )\n    {\n        echo \"\u9001\u4fe1\u5931\u6557\";\n    }\n    else\n    {\n        echo \"\u9001\u4fe1 \" . $msg;\n    }\n\ntamesi3.php\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\n$msgkey = msg_get_queue( 5963 );\nmsg_receive( $msgkey ,0 ,$msgtype ,4 ,$msg,false ,null ,$err );\necho \"msgtype {$msgtype} msg {$msg}\\n\"; \n\n\n\u3068\u3053\u308d\u3067\u30e1\u30e2\u3002\u3042\u3068\u3067\u8abf\u3079\u308b\n\nforever\u30b3\u30de\u30f3\u30c9 \u5e38\u99d0\u3055\u305b\u308b\nPHP\u3067expect \u30d7\u30ed\u30bb\u30b9\u3068\u5bfe\u8a71\u3059\u308b\n\u300cps aux | grep apery\u300d\u3067 Apery\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u63a2\u305b\u308b\n\n\nPHP\u306e\u7d9a\u304d\n\u9001\u4fe1\u306f\u3067\u304d\u305f\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u304c\u3001\u53d7\u4fe1\u3067\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u308c\u3066\u306a\u3044\u306a\u3002\u66f8\u304d\u76f4\u3057\u3002\ntamesi2.php\n<?php\n// \u9001\u4fe1\u3057\u305f\u3044\u6587\u5b57\u5217\n$msg = \"hello, world\";\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 600 \u306e8\u9032\u6570\u8868\u8a18\n$msgkey = msg_get_queue( 5963 ,0600 );\nif( msg_send( $msgkey ,12 ,$msg ,false ) )\n{\n    echo \"\u9001\u4fe1 \" . $msg;\n}\nelse\n{\n    echo \"\u9001\u4fe1\u5931\u6557\";\n}\n\ntamesi3.php\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\n$msgkey = msg_get_queue( 5963 );\nif( msg_receive( $msgkey ,0 ,$msgtype ,4 ,$data ,false ,null ,$err ) )\n{\n    echo \"msgtype {$msgtype} data {$data}\"; \n}\nelse\n{\n    echo \"\u9001\u4fe1\u5931\u6557 \" . $err;\n}\n\n\u5b9f\u884c\u7d50\u679c tamesi3.php\n\u9001\u4fe1\u5931\u6557 7\n\n\u3078\u3047\u3002\n\u300cposix_strerror\u300d\u3000(PHP\u30de\u30cb\u30e5\u30a2\u30eb)\nhttp://php.net/manual/ja/function.posix-strerror.php\ntamesi3.php \u3092\u66f8\u304d\u76f4\u3057\u3002\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\n$msgkey = msg_get_queue( 5963 );\nif( msg_receive( $msgkey ,0 ,$msgtype ,4 ,$data ,false ,null ,$err ) )\n{\n    echo \"msgtype {$msgtype} data {$data}\"; \n}\nelse\n{\n    echo \"\u9001\u4fe1\u5931\u6557 \" . $err . \" \" . posix_strerror( $err );\n}\n\n\u5b9f\u884c\u7d50\u679c tamesi3.php\n\u9001\u4fe1\u5931\u6557 7 Argument list too long\n\n\u306a\u3093\u306e\u3053\u3063\u3061\u3083\u3002\u3044\u3063\u305f\u3044\u4f55\u306e \u5f15\u6570\u306e\u30ea\u30b9\u30c8\u304b\u3002\nmsg_send \u306e\u7b2c2\u5f15\u6570\u306e\u6570\u5b57\u306f\u3000\u4f55\u3092\u5165\u308c\u305f\u3089\u3044\u3044\u306e\u304b\u2026\u2026\uff1f\n\u300c\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc\u306e\u4f7f\u3044\u65b9(C\u3068PHP\u3067\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1)\u300d (Linux Install Memo)\nhttps://linux.yebisu.jp/memo/630\n\u304a\u3063\uff01 \u5206\u304b\u3063\u305f\uff01 \n\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067 msg_receive \u95a2\u6570\u306e\u7b2c4\u5f15\u6570\u304c 4 \u306a\u306e\u306f \"test\" \u306e\u6587\u5b57\u6570\u306b\u5408\u308f\u305b\u3066\u3044\u305f\u306e\u304b\u3002\n4096 \u3050\u3089\u3044\u5927\u304d\u304f\u3057\u3066\u304a\u3051\u3070\u3088\u304b\u3063\u305f\u306e\u304b\u3002\n\u66f8\u304d\u76f4\u3057\u3002\ntamesi2.php\n<?php\n// \u9001\u4fe1\u3057\u305f\u3044\u6587\u5b57\u5217\n$msg = \"hello, world\";\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\n// \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 666 \u306e8\u9032\u6570\u8868\u8a18\n$Queue = msg_get_queue( $QKey ,0666 );\necho var_dump( msg_stat_queue( $Queue ) );\n\nif ( msg_queue_exists($QKey) )\n{\n    print $QKey . \"\u306f\u3042\u308b\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\uff56\\n\";\n}\nelse\n{\n    print $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n}\n\nif( msg_send( $Queue ,12 ,$msg ,false ) )\n{\n    echo \"\u9001\u4fe1 \" . $msg . \"\\n\";\n}\nelse\n{\n    echo \"\u9001\u4fe1\u5931\u6557\\n\";\n}\n\ntamesi3.php\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\n$Queue = msg_get_queue( $QKey );\necho var_dump( msg_stat_queue( $Queue ) );\n\nif ( msg_queue_exists($QKey) )\n{\n    print $QKey . \"\u306f\u3042\u308b\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\uff56\\n\";\n}\nelse\n{\n    print $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n}\n\nif( msg_receive( $Queue ,0 ,$msgtype ,4096 ,$msg ,false ,null ,$err ) )\n{\n    echo \"msgtype {$msgtype} msg {$msg}\\n\"; \n}\nelse\n{\n    var_dump( $err );\n    echo \"\u9001\u4fe1\u5931\u6557 \" . $err . \" \" . posix_strerror( $err ) . \"<br />\";\n    echo \"type = \" . $msgtype . \" msg = \" . $msg . \"<br />\\n\";\n}\n\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u304c\u7a7a\u3063\u307d\u306e\u3068\u304d\u306b receive \u3059\u308b\u3068\u56fa\u307e\u3063\u3066\u3057\u307e\u3046\u306e\u3067\n\u300c[PHP]\u300c\u30d0\u30c3\u30c1\u306e\u4e8c\u91cd\u51e6\u7406\u306e\u9632\u304e\u65b9\u300dPHP\u5909\u300d (\u304c\u308b\u306e\u5065\u5fd8\u9332)\nhttp://d.hatena.ne.jp/gallu/20120306/p1\n\u30d5\u30e9\u30b0\u3092\u6307\u5b9a\u3057\u308d\u3068\u306e\u3053\u3068\u3089\u3057\u3044\u3002\n$r = msg_receive($mh, 0, $msgtype, 0xffff, $message, true, MSG_IPC_NOWAIT, $error_code);\n                                                           ~~~~~~~~~~~~~~\n\n\u3067\u3082 msg_receive \u306f\u300cNo message of desired type\u300d\u3068\u3044\u3046\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u3066\u304f\u308b\u3002\nRabbitMQ \u3092\u518d\u8d77\u52d5\u3067\u304d\u306a\u3044\u3082\u306e\u304b\u3002\n\nRabbitMQ \u3092\u518d\u8d77\u52d5\nrabbitmqctl stop\nStopping and halting node 'rabbit@\u2605\uff5e\u7565\uff5e' ...\nGracefully halting Erlang VM\n\njobs\n[1]+  Done                    sudo rabbitmq-server  (wd: /home/csg10/shogi/ukamuse_sdt4/bin)\n\n\u3067\u6b62\u3081\u3066\u3001\nrabbitmq-server\n\n[Ctrl]+[Z]\n^Z\n[1]+  Stopped                 rabbitmq-server\n\nbg 1\n[1]+ rabbitmq-server &\n\n\u3067\u518d\u958b\u3002\n\u3067\u3082\u3084\u3063\u3071\u308a \u540c\u3058\u30a8\u30e9\u30fc\u306e\u307e\u307e\u3060\u3002\n\u30ad\u30e5\u30fc\u306e\u30ad\u30fc\u756a\u53f7\u3092\u5909\u3048\u3066\u307f\u305f\u308a\u3059\u308b\u3002\u4eca\u5ea6\u306f\u3046\u307e\u304f\u3044\u3063\u305f\u3002\n\nPHP\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304d\u76f4\u3057\u305f\ntamesi2.php\n<?php\n// \u9001\u4fe1\u3057\u305f\u3044\u6587\u5b57\u5217\n$msg = urldecode($_SERVER['QUERY_STRING']);\nif( \"\" === $msg )\n{\n    $msg = \"hello, world\";\n}\necho '\uff08\uff3e\uff51\uff3e\uff09' . $msg . '<br />';\necho '\u3053\u308c\u3092\uff11\u56de\u30af\u30ea\u30c3\u30af\u3057\u308d\u3060\u305c\u2606\uff4d\uff19\uff08\uff3e\uff5e\uff3e\uff09\uff01<br />';\necho '<a href=\"http://999.999.999.999/tamesi2.php?ClickSitanDaze\">http://999.999.999.999/tamesi2.php?ClickSitanDaze</a><br />';\n\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\n// \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 666 \u306e8\u9032\u6570\u8868\u8a18\n$Queue = msg_get_queue( $QKey ,0666 );\n\nif ( !msg_queue_exists($QKey) )\n{\n    print \"\u30ad\u30e5\u30fc \" . $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"queue not found.\");\n}\n\nif( !msg_send( $Queue ,12 ,$msg ,false ) )\n{\n    echo \"\u30a8\u30f3\u30ad\u30e5\u30fc\u5931\u6557\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"send error.\");\n}\n\necho '\u305d\u306e\u3042\u3068\u3053\u306e\u30da\u30fc\u30b8\u3092\u898b\u306b\u3044\u3051\u3060\u305c\u2606\uff4d\uff19\uff08\uff3e\uff5e\uff3e\uff09\uff01<br />';\necho '<a href=\"http://999.999.999.999/tamesi3.php\">http://999.999.999.999/tamesi3.php</a><br />';\n\ntamesi3.php\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\n$Queue = msg_get_queue( $QKey );\n\nif ( !msg_queue_exists($QKey) )\n{\n    print \"\u30ad\u30e5\u30fc \" . $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"queue not found.\");\n}\n\nif( !msg_receive( $Queue ,0 ,$msgtype ,4096 ,$msg ,false ,MSG_IPC_NOWAIT ,$err ) )\n{\n    if( $err==42 )\n    {\n        echo \"\uff08\uff3e\uff51\uff3e\uff09\uff1b\uff1b\u30ad\u30e5\u30fc\u304c\u7a7a\u3063\u307d\u306a\u306e\u304b\u3060\u305c\u2606\uff1f<br />\";\n    }\n    else\n    {\n        var_dump( $err );\n        echo \"\u30c7\u30ad\u30e5\u30fc\u5931\u6557\u2606\uff08\uff1e\uff3f\uff1c\uff09 \" . $err . \" \" . posix_strerror( $err ) . \"<br />\";\n    }\n    die(\"receive error.\");\n}\n\necho \"\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3092\u901a\u3063\u3066\u304d\u305f\u3088\u3046\u3060\u306a\u2606\uff08\uff3e\uff51\uff3e\uff09\u300c{$msg}\u300d<br />\\n\"; \necho \"\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u6e9c\u307e\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u304b\u3089\u30da\u30fc\u30b8\u3092\u66f4\u65b0\u3057\u308d\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09<br />\\n\"; \n\ntamesi4.php \uff08\u7834\u68c4\u306b\u5931\u6557\u3059\u308b\u3060\u3051\u3060\u3063\u305f\u304c\uff09\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\nif ( !msg_queue_exists($QKey) )\n{\n    print \"\u30ad\u30e5\u30fc \" . $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"queue not found.\");\n}\n\n// \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 666 \u306e8\u9032\u6570\u8868\u8a18\n$Queue = msg_get_queue( $QKey ,0666 );\n\nif( !msg_remove_queue($Queue) )\n{\n    print \"\u30ad\u30e5\u30fc \" . $QKey . \"\u306e\u7834\u68c4\u306b\u5931\u6557\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"queue not removed.\");\n}\n\nprint \"\u30ad\u30e5\u30fc \" . $QKey . \"\u3092\u7834\u68c4\u3057\u305f\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\\n\";\n\n\nPHP\u3068C#\u306e\u9593\u3067\u3000\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3067\u304d\u3093\u306e\uff1f\nPHP\u306f\u30ad\u30e5\u30fc\u306e\u540d\u524d\u304c\u6570\u5b57\u3060\u3057\u3001C#\u306f\u30ad\u30e5\u30fc\u306e\u540d\u524d\u304c / \u3067\u59cb\u307e\u308b\u6587\u5b57\u306a\u3093\u3060\u3063\u3051\uff1f\n\u306a\u3093\u3060\u308d\u3046\u3000\u3053\u306e\u9055\u3044\u2026\u2026\u3002\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u30fb\u30aa\u30d7\u30b7\u30e7\u30f3 \u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u5b9a\u7fa9\nC#\u306e\u65b9\u3002\n\u300c/D (\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u306e\u5b9a\u7fa9)\u300d (MSDN)\nhttps://msdn.microsoft.com/ja-jp/library/hhzbb5c8.aspx\n/D \u3092\u4f7f\u3063\u3066 #define \u3068\u540c\u3058\u3088\u3046\u306a\u52b9\u679c\u3092\u51fa\u305b\u308b\u306e\u304b\u3002\nUbuntu\u7528\u3068 Windows\u7528\u3067\u5206\u3051\u3088\u3046\u304b\u306a\u3002\n\u8907\u6570\u500b\u306e\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u30de\u30af\u30ed\u304c\u3042\u308b\u3068\u304d\u3001\u3069\u3046\u6307\u5b9a\u3059\u308c\u3070\u3044\u3044\u3093\u3060\uff1f\u3000\u305d\u306e\u3068\u304d\u306f\u9069\u5f53\u306b\u30ab\u30f3\u30de\u3067\u3082\u6253\u3063\u3066\u307f\u308b\u304b\u3002\n\nC#\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u3055\u3089\u306b\u4fee\u6b63\n\u6b21\u306e\u70b9\u3092\u4fee\u6b63\u3057\u305f\u3002\n\n\u30ec\u30b7\u30fc\u30d6\u306b\u5931\u6557\u3059\u308b\u3053\u3068\nquit \u3067\u56fa\u307e\u308b\u3053\u3068\n\n\u4fee\u6b63\u65b9\u6cd5\u306f\u3001\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3068\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u30af\u30ed\u30fc\u30ba\u3092\u3061\u3083\u3093\u3068\u3084\u308b\u3053\u3068\u3002\n\u307e\u305f\u3001Ubuntu\u3068Windows\u3067\u7570\u306a\u308b\u500b\u6240\u3092 UBUNTU \u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u5b9a\u7fa9\u3067\u5206\u3051\u305f\u3002\nMsgQueue.cs\n// Ubuntu \u306e RabbitMQ \u306f\u30bd\u30fc\u30b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u306e\u304b\u3001API \u304c\u7570\u306a\u3063\u305f\u3002\n// #define UBUNTU\n\nusing RabbitMQ.Client;\nusing RabbitMQ.Client.Events;\nusing System;\nusing System.Text;\n\nnamespace UsagiMQ\n{\n    /// <summary>\n    /// \u53c2\u7167 : \u300cQueueDeclare\u300d http://docs.spring.io/spring-amqp-net/docs/1.0.x/api/html/Spring.Messaging.Amqp.Rabbit~Spring.Messaging.Amqp.Rabbit.Connection.CachedModel~QueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary).html\n    /// \u53c2\u7167 : \u300cEventingBasicConsumer\u300d https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.Events.EventingBasicConsumer.html\n    /// \u53c2\u7167 : \u300cBasicConsume\u300d https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.IModel.html#method-M:RabbitMQ.Client.IModel.BasicConsume(System.UInt16,System.String,System.Boolean,System.Collections.IDictionary,RabbitMQ.Client.IBasicConsumer)\n    /// </summary>\n    class Program\n    {\n        public const string\n            HOST_NAME = \"localhost\",\n            QUEUE_NAME = \"hello\";\n\n        static Program()\n        {\n#if UBUNTU\n            m_eventHandler_ = new BasicDeliverEventHandler((model, ea) =>\n#else\n            m_eventHandler_ = new EventHandler<BasicDeliverEventArgs>((model, ea) =>\n#endif\n            {\n                byte[] body = ea.Body;\n                string message = Encoding.UTF8.GetString(body);\n                Console.WriteLine(\" [interrupt!] Received(^q^) {0}\", message);\n            });\n        }\n\n        public static ConnectionFactory GetFactory()\n        {\n            if(null== m_factory_)\n            {\n                m_factory_ = new ConnectionFactory() { HostName = HOST_NAME };\n            }\n            return m_factory_;\n        }\n        static ConnectionFactory m_factory_;\n\n        public static IConnection GetConnection()\n        {\n            if (null==m_connection_)\n            {\n                m_connection_ = GetFactory().CreateConnection();\n            }\n            return m_connection_;\n        }\n        static IConnection m_connection_;\n\n        public static IModel GetChannel()\n        {\n            if (null==m_channel_)\n            {\n                m_channel_ = GetConnection().CreateModel();\n#if UBUNTU\n                // Ubuntu\u3067\u306f\u4f55\u6545\u304b Spring.Messaging.Amqp.Rabbit \u306e\u5f15\u6570 7 \u3064\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n                m_channel_.QueueDeclare(QUEUE_NAME, false, false, false, false, false, null);\n#else\n                m_channel_.QueueDeclare(QUEUE_NAME, false, false, false, null);\n#endif\n            }\n            return m_channel_;\n        }\n        static IModel m_channel_;\n\n        public static EventingBasicConsumer GetConsumer()\n        {\n            if (null == m_consumer_)\n            {\n#if UBUNTU\n                // Ubuntu\u3067\u306f\u4f55\u6545\u304b v1.4.0 \u306e\u5f15\u6570\u304c 0 \u500b\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n                m_consumer_ = new EventingBasicConsumer();\n#else\n                m_consumer_ = new EventingBasicConsumer(GetChannel());\n#endif\n\n            }\n            return m_consumer_;\n        }\n        static EventingBasicConsumer m_consumer_;\n\n        /// <summary>\n        /// \u53d7\u4fe1\u3067\u304d\u305f\u3068\u304d\u306b\u5272\u308a\u8fbc\u3093\u3067\u304f\u308b\u51e6\u7406\n        /// </summary>\n#if UBUNTU\n        static BasicDeliverEventHandler m_eventHandler_;\n#else\n        static EventHandler<BasicDeliverEventArgs> m_eventHandler_;\n#endif\n\n        /// <summary>\n        /// \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u3051\u308c\u3069\u3001\u958b\u3051\u305f\u3089\u9589\u3081\u308b\u3001\u3092\u5b8c\u74a7\u306b\u5bfe\u5fdc\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n        /// </summary>\n        static void CloseConnection()\n        {\n            if (null != m_connection_)\n            {\n                m_connection_.Close();\n                m_connection_ = null;\n            }\n        }\n        /// <summary>\n        /// \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u3051\u308c\u3069\u3001\u958b\u3051\u305f\u3089\u9589\u3081\u308b\u3001\u3092\u5b8c\u74a7\u306b\u5bfe\u5fdc\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n        /// </summary>\n        static void CloseChannel()\n        {\n            if (null != m_channel_)\n            {\n                m_channel_.Close();\n                m_channel_ = null;\n            }\n        }\n\n        static void Main(string[] args)\n        {\n            for (;;)\n            {\n                Console.WriteLine(@\"\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\");\n\n                int category = 0;\n                for (;;)\n                {\n                    string line = Console.ReadLine();\n                    switch (line)\n                    {\n                        case \"1\": category = 1; goto gt_EndLoop1;\n                        case \"2\": category = 2; goto gt_EndLoop1;\n                        case \"quit\": goto gt_Quit;\n                        default: break;\n                    }\n                }\n                gt_EndLoop1:\n                ;\n\n                switch (category)\n                {\n                    case 1:\n                        {\n                            Console.WriteLine(@\"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066[Enter]\u30ad\u30fc\u3092\u62bc\u305b\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\");\n                            // \"Hello World!\" \u306a\u3069\u3092\u5165\u529b\n                            string line = Console.ReadLine();\n                            Send(line);\n                        }\n                        break;\n                    case 2: Receive(); break;\n                }\n            }\n            gt_Quit:\n\n            // \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u304c\u3001\u3061\u3083\u3093\u3068\u9589\u3058\u306a\u3044\u3068\u3001\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u308f\u3063\u3066\u304f\u308c\u306a\u3044\u3002\n            CloseConnection();\n        }\n\n        static void Send(string message)\n        {\n            IModel channel = GetChannel();\n\n            byte[] body = Encoding.UTF8.GetBytes(message);\n            channel.BasicPublish(\"\", QUEUE_NAME, null, body);\n\n            Console.WriteLine(\" Sent(^q^) {0}\", message);\n            Console.WriteLine(\" Press [enter] to menu.\");\n            Console.ReadLine();\n\n            // \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u304c\u3001\u3061\u3083\u3093\u3068\u9589\u3058\u306a\u3044\u3068\u3001\u30ec\u30b7\u30fc\u30d6\u3057\u3066\u304f\u308c\u306a\u3044\u3002\n            CloseChannel();\n        }\n\n        static void Receive()\n        {\n            IModel channel = GetChannel();\n            EventingBasicConsumer consumer = GetConsumer();\n\n\n            // \u53d7\u4fe1\u3067\u304d\u305f\u3068\u304d\u306b\u5272\u308a\u8fbc\u3093\u3067\u304f\u308b\u51e6\u7406\n            consumer.Received += m_eventHandler_;\n\n#if UBUNTU\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b\u5f15\u6570\u304c 5 \u500b\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            channel.BasicConsume( QUEUE_NAME, true, \"\", null, consumer);\n#else\n            channel.BasicConsume(QUEUE_NAME, true, consumer);\n#endif\n\n            Console.WriteLine(\" Please, wait receiving... Or Press [enter] to menu.\");\n            Console.ReadLine();\n\n            // \u5272\u8fbc\u307f\u51e6\u7406\u306e\u524a\u9664\n            consumer.Received -= m_eventHandler_;\n\n            // \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u304c\u3001\u3061\u3083\u3093\u3068\u9589\u3058\u306a\u3044\u3068\u3001\u30ec\u30b7\u30fc\u30d6\u3057\u3066\u304f\u308c\u306a\u3044\u3002\n            CloseChannel();\n        }\n\n    }\n}\n\n(2017-03-07 \u4fee\u6b63:\u4e0a\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\uff12\u500b\u6240\u4fee\u6b63\u6e08\u307f)\n\"localhost\" \u3068\u57cb\u3081\u8fbc\u3093\u3067\u3044\u308b\u3068\u3053\u308d\u3082\u3001IP\u30a2\u30c9\u30ec\u30b9\u306e\u756a\u53f7\u306b\u5909\u3048\u305f\u65b9\u304c\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\n\u3053\u308c\u3092 Ubuntu \u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u306b\u306f\u3001\nmcs /r:RabbitMQ.Client.dll /DUBUNTU MsgQueue.cs\n\n\u3068\u3059\u308c\u3070\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\u3000\u3084\u3063\u3066\u307f\u3088\u3046\u3002\nmcs /r:RabbitMQ.Client.dll /DUBUNTU MsgQueue.cs\nerror CS2007: Unrecognized command-line option: `/DUBUNTU'\n\n\u306a\u305c\u30c0\u30e1\u306a\u306e\u304b\u2026\u2026\u3002\nman mcs\n\uff5e\u4e2d\u7565\uff5e\n       -define:SYMLIST, -d:SYMLIST\n              Defines the symbol listed by the semi-colon separated list SYMLIST  SYMBOL.   This  can  be\n              tested  in  the  source code by the pre-processor, or can be used by methods that have been\n              tagged with the Conditional attribute.\n\n\u300c-define:\u300d\u3067\u59cb\u3081\u3066\u3001\u30bb\u30df\u30b3\u30ed\u30f3\u3067\u533a\u5207\u308c\u3070\u3044\u3044\u306e\u304b\u3002\nmcs /r:RabbitMQ.Client.dll -define:UBUNTU MsgQueue.cs\nMsgQueue.cs(178,34): error CS0029: Cannot implicitly convert type `System.EventHandler<RabbitMQ.Client.Events.BasicDeliverEventArgs>' to `RabbitMQ.Client.Events.BasicDeliverEventHandler'\nMsgQueue.cs(191,34): error CS0029: Cannot implicitly convert type `System.EventHandler<RabbitMQ.Client.Events.BasicDeliverEventArgs>' to `RabbitMQ.Client.Events.BasicDeliverEventHandler'\nCompilation failed: 2 error(s), 0 warnings\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u30df\u30b9\u304c\u3042\u3063\u305f\u304b\u3002\n\uff12\u500b\u6240\u4fee\u6b63\u3002\n#if UBUNTU\n            m_eventHandler_ = new BasicDeliverEventHandler((model, ea) =>\n#else\n            m_eventHandler_ = new EventHandler<BasicDeliverEventArgs>((model, ea) =>\n#endif\n\n#if UBUNTU\n        static BasicDeliverEventHandler m_eventHandler_;\n#else\n        static EventHandler<BasicDeliverEventArgs> m_eventHandler_;\n#endif\n\n\nC# \u3068 PHP \u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306f\u3069\u3046\u3084\u308b\u306e\u304b\uff1f\n\"localhost\" \u306e\u3068\u3053\u308d\u3092 IP\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u3048\u308b\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3063\u305f\u3002\n\u30ad\u30e5\u30fc\u540d\u306e \"hello\" \u3092 \"1111\" \u306b\u5909\u3048\u3066\u3082\u3000PHP \u3067\u306f\u62fe\u3048\u306a\u304b\u3063\u305f\u3002\nPHP\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u306f\u306a\u304f\u3001RabbitMQ \u306e\u8aac\u660e\u3092\u8aad\u3093\u3060\u65b9\u304c\u3044\u3044\u306e\u304b\uff1f\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-php.html\n\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u5168\u7136\u9055\u3046\u3002\n\nUbuntu \u306b composer \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u8981\u308b\u3060\u308d\u3046\u304b\n\u300cHow To Install and Use Composer on Ubuntu 14.04\u300d (DigitalOcean)\nhttps://www.digitalocean.com/community/tutorials/how-to-install-and-use-composer-on-ubuntu-14-04\nsudo apt-get update\n\uff5e\u4e2d\u7565\uff5e\nFetched 1,672 kB in 2s (581 kB/s)\nReading package lists... Done\n\ncurl \u3082\u8981\u308b\u307f\u305f\u3044\u306a\u3093\u3060\u304c\u3001php5 \u306f\u5165\u308c\u305f\u304f\u306a\u3044\u305c\u3002\n\u300cHow do I install the ext-curl extension with PHP 7?\u300d (stack overflow)\nhttp://stackoverflow.com/questions/33775897/how-do-i-install-the-ext-curl-extension-with-php-7\nsudo apt-get install php-curl\n\nsudo service apache2 restart\n\ncurl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/local/bin --filename=composer\nAll settings correct for using Composer\nDownloading...\n\nComposer (version 1.3.2) successfully installed to: /usr/local/bin/composer\nUse it: php /usr/local/bin/composer\n\ncomposer \u306f\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u305f\u3060\u308d\u3046\u304b\u3002\n\u8d77\u52d5\u3002\ncomposer\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\n   ______\n  / ____/___  ____ ___  ____  ____  ________  _____\n / /   / __ \\/ __ `__ \\/ __ \\/ __ \\/ ___/ _ \\/ ___/\n/ /___/ /_/ / / / / / / /_/ / /_/ (__  )  __/ /\n\\____/\\____/_/ /_/ /_/ .___/\\____/____/\\___/_/\n                    /_/\nComposer version 1.3.2 2017-01-27 18:23:41\n\n\u4f55\u304b\u66f8\u3044\u3066\u308b\u306a\u3002\n\u300cHow do I install untrusted packages safely? Is it safe to run Composer as superuser or root?\u300d (getcomposer.org)\nhttps://getcomposer.org/root\nroot \u3084\u30b9\u30fc\u30d1\u30fc\u30fb\u30e6\u30fc\u30b6\u30fc\u3058\u3083 composer \u306f\u5b9f\u884c\u3067\u304d\u306a\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\ncd ~\n\n\u30eb\u30fc\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u98db\u3093\u3060\u306e\u3060\u308d\u3046\u304b\uff1f\nmkdir slugify\n\n\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u3063\u305f\u3002\ncd slugify\n\n\u305d\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u79fb\u52d5\u3057\u305f\u3002\ncomposer require cocur/slugify\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\n\n\u30b9\u30fc\u30d1\u30fc\u30fb\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u629c\u3051\u308b\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u3093\u3060\uff1f\n\u300csu\u30b3\u30de\u30f3\u30c9\uff08\u30e6\u30fc\u30b6\u30fc\u306e\u5909\u66f4\uff09\u300d (Linux\u30b2\u30ea\u30e9\u6226\u8a18)\nhttp://www.garunimo.com/program/linux/su.xhtml\nsu \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d\n\ncomposer require cocur/slugify\n\n  [ErrorException]\n  file_get_contents(./composer.json): failed to open stream: Permission denied\n\n\u306a\u3093\u306e\u3053\u3063\u3061\u3083\u3002\nls -an\ntotal 20\ndrwxr-xr-x 3 0 0 4096 Mar  7 05:07 .\ndrwx------ 9 0 0 4096 Mar  7 05:05 ..\n-rw-r--r-- 1 0 0   59 Mar  7 05:07 composer.json\n-rw-r--r-- 1 0 0 2896 Mar  7 05:07 composer.lock\ndrwxr-xr-x 4 0 0 4096 Mar  7 05:07 vendor\n\n\u30eb\u30fc\u30c8\u30fb\u30e6\u30fc\u30b6\u30fc\u3067\u5b9f\u884c\u3059\u308b\u306a\u3001\u3068\u3044\u3046\u304b\u3089\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u3063\u305f\u306e\u306b\u2026\u2026\u3002\nsudo su -\n\u203b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u308c\u308b\ncd slugify\nchmod 666 composer.json\nsu \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d\ncomposer require cocur/slugify\n\n  [ErrorException]\n  file_get_contents(./composer.json): failed to open stream: Permission denied\n\n\u3046\u30fc\u3080\u3002\n\u300c.composer/config file permission denied using laravel\u300d (stack overflow)\nhttp://stackoverflow.com/questions/34511744/composer-config-file-permission-denied-using-laravel\nsudo chown \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u540d /home/\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/.composer/config.json\nchown: cannot access '/home/\u2605\u7565/.composer/config.json': No such file or directory\n\n\u3046\u30fc\u3080\u3002\nsudo su -\ncd slugify\n\n\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u3067\u3084\u3063\u3066\u3082\u3060\u3081\u3002\nsudo chown \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d composer.json\n\n\u3088\u3057\u3002\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3058\u308b\u6a29\u9650\u3092\u4e0e\u3048\u305f\u306e\u304b\u3002\nsu \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d\ncomposer require cocur/slugify\n\n  [ErrorException]\n  file_get_contents(./composer.json): failed to open stream: Permission denied\n\n\u3060\u3081\u3002\nsudo su -\ncd slugify\nsudo chown \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d composer.lock\n\n\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u8fbc\u3080\u6a29\u9650\u306a\u3093\u304b\u4e0e\u3048\u305f\u3063\u3066\u3001\u3059\u3050\u6d88\u3048\u308b\u30d5\u30a1\u30a4\u30eb\u3060\u3068\u601d\u3046\u304c\u3002\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u3067\u3002\nsudo composer update\n\n\u3080\u308a\u3002\ncomposer update\nComposer could not find a composer.json file in /home/csg10\nTo initialize a project, please create a composer.json file as described in the https://getcomposer.org/ \"Getting Started\" section\n\n\u300cGetting Started\u300d (Composer)\nhttps://getcomposer.org/doc/00-intro.md\nphp composer-setup.php --install-dir=bin --filename=composer\n\n\u3046\u3054\u304b\u306a\u3044\u3002\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u3063\u3066\u3001\u81ea\u5206\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\u3002\ncomposer require cocur/slugify\n\n\u3068\u53e9\u304f\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u3063\u305f\u3002\nCannot create cache directory /home/csg10/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/csg10/.composer/cache/files/, or directory is not writable. Proceeding without cache\nUsing version ^2.4 for cocur/slugify\n./composer.json has been created\nCannot create cache directory /home/csg10/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/csg10/.composer/cache/files/, or directory is not writable. Proceeding without cache\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 1 install, 0 updates, 0 removals\n  - Installing cocur/slugify (v2.4) Downloading: 100%\nWriting lock file\nGenerating autoload files\n\n\u5931\u6557\u3057\u305f\u306e\u304b\u6210\u529f\u3057\u305f\u306e\u304b\u5206\u304b\u3089\u306a\u3044\u304c\u3001\u4f55\u304b\u304c\u8d77\u3053\u3063\u305f\u3002\nls -l\ntotal 24\n-rw-rw-r-- 1 csg10 csg10   59 Mar  7 05:37 composer.json\n-rw-rw-r-- 1 csg10 csg10 2896 Mar  7 05:37 composer.lock\ndrwxrwxr-x 2 csg10 csg10 4096 Mar  5 16:30 jikken\ndrwxr-xrwx 3 root  root  4096 Mar  7 00:34 shogi\n-rw-r--r-- 1 root  root    14 Mar  4 03:19 Tamesi\ndrwxrwxr-x 4 csg10 csg10 4096 Mar  7 05:37 vendor\n\ncat composer.json\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n    }\n}\n\n\u3053\u308c\u3092\u3001RabbitQM \u304c\u8a00\u3046\u306b\u306f\u3001\n{ \n    \"require\" \uff1a { \n        \"php-amqplib / php-amqplib\" \uff1a \"2.5\u3002*\" \n    } \n}\n\n\u3092\u3001\u8ffd\u52a0\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u3002\u30ab\u30f3\u30de\u533a\u5207\u308a\u3060\u3063\u3051\uff1f\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n    }\n    ,\n    \"require\" \uff1a {\n        \"php-amqplib / php-amqplib\" \uff1a \"2.5\u3002*\"\n    }\n\n}\n\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u307f\u305f\u304c\u3002\ncomposer.phar install\ncomposer.phar: command not found\n\n\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u3093\u3060\u3002\u305d\u308c\u3068\u3082\u3001\u3053\u3046\u304b\uff1f\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n        ,\n        \"php-amqplib / php-amqplib\" \uff1a \"2.5\u3002*\"\n    }\n}\n\ncomposer.phar install\ncomposer.phar: command not found\n\n\u306a\u3093\u3060\u3053\u306e\u8aad\u70b9\u3002 \u3042\u30fc\u3063\uff01\u3000\u30b0\u30fc\u30b0\u30eb\u7ffb\u8a33\u3067\u3000\u30b3\u30fc\u30c9\u304c\u5909\u308f\u3063\u3066\u308b\u3058\u3083\u306a\u3044\u304b\uff01\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n        ,\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n\n\u3053\u3046\u3060\u3002\ncomposer.phar install\ncomposer.phar: command not found\n\n composer require php-amqplib/php-amqplib\nCannot create cache directory /home/csg10/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/csg10/.composer/cache/files/, or directory is not writable. Proceeding without cache\nUsing version ^2.6 for php-amqplib/php-amqplib\n./composer.json has been updated\nCannot create cache directory /home/csg10/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/csg10/.composer/cache/files/, or directory is not writable. Proceeding without cache\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\n\n  Problem 1\n    - php-amqplib/php-amqplib v2.6.3 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.6.2 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.6.1 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.6.0 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - Installation request for php-amqplib/php-amqplib ^2.6 -> satisfiable by php-amqplib/php-amqplib[v2.6.0, v2.6.1, v2.6.2, v2.6.3].\n\n  To enable extensions, verify that they are enabled in your .ini files:\n    - /etc/php/7.0/cli/php.ini\n    - /etc/php/7.0/cli/conf.d/10-opcache.ini\n    - /etc/php/7.0/cli/conf.d/10-pdo.ini\n    - /etc/php/7.0/cli/conf.d/15-xml.ini\n    - /etc/php/7.0/cli/conf.d/20-calendar.ini\n    - /etc/php/7.0/cli/conf.d/20-ctype.ini\n    - /etc/php/7.0/cli/conf.d/20-curl.ini\n    - /etc/php/7.0/cli/conf.d/20-dom.ini\n    - /etc/php/7.0/cli/conf.d/20-exif.ini\n    - /etc/php/7.0/cli/conf.d/20-fileinfo.ini\n    - /etc/php/7.0/cli/conf.d/20-ftp.ini\n    - /etc/php/7.0/cli/conf.d/20-gettext.ini\n    - /etc/php/7.0/cli/conf.d/20-iconv.ini\n    - /etc/php/7.0/cli/conf.d/20-json.ini\n    - /etc/php/7.0/cli/conf.d/20-mbstring.ini\n    - /etc/php/7.0/cli/conf.d/20-phar.ini\n    - /etc/php/7.0/cli/conf.d/20-posix.ini\n    - /etc/php/7.0/cli/conf.d/20-readline.ini\n    - /etc/php/7.0/cli/conf.d/20-shmop.ini\n    - /etc/php/7.0/cli/conf.d/20-simplexml.ini\n    - /etc/php/7.0/cli/conf.d/20-sockets.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvmsg.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvsem.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvshm.ini\n    - /etc/php/7.0/cli/conf.d/20-tokenizer.ini\n    - /etc/php/7.0/cli/conf.d/20-wddx.ini\n    - /etc/php/7.0/cli/conf.d/20-xmlreader.ini\n    - /etc/php/7.0/cli/conf.d/20-xmlwriter.ini\n    - /etc/php/7.0/cli/conf.d/20-xsl.ini\n  You can also run `php --ini` inside terminal to see which files are used by PHP in CLI mode.\n\nInstallation failed, reverting ./composer.json to its original content.\n\n\u3042\u3089\u30fc\u3063\u3002\n\nphp-amqplib \u306f\u3069\u3046\u3084\u3063\u3066\u5165\u624b\u3059\u308b\u306e\u304b\uff1f\n\u300cphp-amqplib/php-amqplib\u300d (Git Hub)\nhttps://github.com/php-amqplib/php-amqplib\ncomposer.json \u30d5\u30a1\u30a4\u30eb\u306f\u81ea\u5206\u3067\u4f5c\u3063\u3066\u3057\u307e\u3048\u3070\u3044\u3044\u306e\u304b\uff1f\n{\n  \"require\": {\n      \"php-amqplib/php-amqplib\": \"2.6.*\"\n  }\n}\n\ncomposer.phar install\ncomposer.phar: command not found\n\ncomposer \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u3063\u3066\u306a\u3044\u306e\u304b\u3002\n\ncomposer \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u300cComposer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u305f\u300d (Qiita)\nhttp://qiita.com/kakijin/items/02364adacf36410f449e\ncurl -sS https://getcomposer.org/installer | php\nAll settings correct for using Composer\nUnable to write keys.dev.pub to: /home/\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer\n\n\u306a\u3093\u306e\u3053\u3063\u3061\u3083\u3002\nmv composer.phar /usr/local/bin/composer\nmv: cannot stat 'composer.phar': No such file or directory\n\n\u3088\u304f\u898b\u308b\u3068\u3001\n/home/\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/ \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b vendor \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u304c\u3067\u304d\u3066\u3044\u305f\u3002\nls\ncomposer.json  composer.lock  jikken  shogi  Tamesi  vendor\ncd vendor\nls\nautoload.php  cocur  composer\ncd composer\nls\nautoload_classmap.php    autoload_psr4.php  autoload_static.php  installed.json\nautoload_namespaces.php  autoload_real.php  ClassLoader.php      LICENSE\n\ncomposer.phar \u3068\u3044\u3046\u540d\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u898b\u3064\u304b\u3089\u306a\u3044\u3002\n\u300cComposer\u3067\u59cb\u3081\u308b PHP\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u7ba1\u7406\u300d (Hack Your Design!)\nhttp://blog.toshimaru.net/how-to-use-composer-autoload/\ncurl -s https://getcomposer.org/installer | php\n\n\u3053\u308c\u3092\u3059\u308b\u3068\u3001 composer.phar \u306f\u53d6\u308c\u308b\u3089\u3057\u3044\u3093\u3060\u304c\u3001\u3069\u3053\u306b\u3042\u308b\u3093\u3060\u308d\u3046\uff1f\ncurl -s https://getcomposer.org/installer | php\nAll settings correct for using Composer\nUnable to write keys.dev.pub to: /home/\u2605\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer\n\n\u3046\u3093\uff1f .composer \u3068\u3044\u3046\u96a0\u3057\u30d5\u30a9\u30eb\u30c0\u30fc\u304c\u3067\u304d\u3066\u3044\u308b\u306e\u304b\uff1f\nls -an\ntotal 64\ndrwxr-xr-x 9 1000 1000 4096 Mar  7 06:02 .\ndrwxr-xr-x 3    0    0 4096 Sep 12  2015 ..\n\uff5e\u7565\uff5e\ndrwxr-xr-x 3    0    0 4096 Mar  7 05:30 .composer\n\uff5e\u7565\uff5e\n\n\u3042\u308b\u3088\u3046\u3060\u3002\n\u300cUnable to write keys.dev.pub to: /home/ubuntu/.composer\u300d (stack overflow)\nhttp://stackoverflow.com/questions/42413910/unable-to-write-keys-dev-pub-to-home-ubuntu-composer\nphp composer-setup.php\nCould not open input file: composer-setup.php\n\ncomposer\n\ncomposer.json\n{\n    \"require\": {\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u6b32\u3057\u3044\u7269\u3092\u66f8\u304f\u6b04\u306a\u306e\u304b\u3002\ncomposer update\n\n\u3059\u308b\u3068\u3001\nCannot create cache directory /home/\u2605\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/\u2605\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer/cache/files/, or directory is not writable. Proceeding without cache\n\n\u3068\u3044\u3063\u305f\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u304f\u308b\u3002\nls -an\ntotal 16\ndrwxr-xr-x 3    0    0 4096 Mar  7 05:30 .\ndrwxr-xr-x 9 1000 1000 4096 Mar  7 06:29 ..\ndrwxr-xr-x 2    0    0 4096 Mar  7 05:30 cache\n-rw-r--r-- 1    0    0   13 Mar  7 05:30 .htaccess\n\ncache\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u66f8\u8fbc\u307f\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u3044\u3051\u3070\u3044\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\nchmod 777 cache\nchmod: changing permissions of 'cache': Operation not permitted\n\n\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u3063\u3066\u3001\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u4e2d\u306b\u3042\u308b .composer \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u884c\u304f\u3002\nchmod 777 cache\n\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u623b\u3063\u3066\u3001\u81ea\u5206\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u4e2d\u306e composer.json \u304c\u3042\u308b\u3068\u3053\u308d\u3067\ncopmoser update\n\n\u3092\u53e9\u304f\u3002\u4f55\u304b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u3063\u305f\u3002\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\n\n  Problem 1\n    - php-amqplib/php-amqplib v2.5.2 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.5.1 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.5.0 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - Installation request for php-amqplib/php-amqplib 2.5.* -> satisfiable by php-amqplib/php-amqplib[v2.5.0, v2.5.1, v2.5.2].\n\n  To enable extensions, verify that they are enabled in your .ini files:\n    - /etc/php/7.0/cli/php.ini\n    - /etc/php/7.0/cli/conf.d/10-opcache.ini\n    - /etc/php/7.0/cli/conf.d/10-pdo.ini\n    - /etc/php/7.0/cli/conf.d/15-xml.ini\n    - /etc/php/7.0/cli/conf.d/20-calendar.ini\n    - /etc/php/7.0/cli/conf.d/20-ctype.ini\n    - /etc/php/7.0/cli/conf.d/20-curl.ini\n    - /etc/php/7.0/cli/conf.d/20-dom.ini\n    - /etc/php/7.0/cli/conf.d/20-exif.ini\n    - /etc/php/7.0/cli/conf.d/20-fileinfo.ini\n    - /etc/php/7.0/cli/conf.d/20-ftp.ini\n    - /etc/php/7.0/cli/conf.d/20-gettext.ini\n    - /etc/php/7.0/cli/conf.d/20-iconv.ini\n    - /etc/php/7.0/cli/conf.d/20-json.ini\n    - /etc/php/7.0/cli/conf.d/20-mbstring.ini\n    - /etc/php/7.0/cli/conf.d/20-phar.ini\n    - /etc/php/7.0/cli/conf.d/20-posix.ini\n    - /etc/php/7.0/cli/conf.d/20-readline.ini\n    - /etc/php/7.0/cli/conf.d/20-shmop.ini\n    - /etc/php/7.0/cli/conf.d/20-simplexml.ini\n    - /etc/php/7.0/cli/conf.d/20-sockets.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvmsg.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvsem.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvshm.ini\n    - /etc/php/7.0/cli/conf.d/20-tokenizer.ini\n    - /etc/php/7.0/cli/conf.d/20-wddx.ini\n    - /etc/php/7.0/cli/conf.d/20-xmlreader.ini\n    - /etc/php/7.0/cli/conf.d/20-xmlwriter.ini\n    - /etc/php/7.0/cli/conf.d/20-xsl.ini\n  You can also run `php --ini` inside terminal to see which files are used by PHP in CLI mode.\n\n\uff14\u3064\u3050\u3089\u3044\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3044\u308b\u3088\u3046\u3060\u3002\nupdate \u3058\u3083\u306a\u304f\u3066 install \u3060\u3063\u305f\u304b\u3002\ncomposer install\nLoading composer repositories with package information\nInstalling dependencies (including require-dev) from lock file\nWarning: The lock file is not up to date with the latest changes in composer.json. You may be getting outdated dependencies. Run update to update them.\nNothing to install or update\nGenerating autoload files\n\n\u3046\u30fc\u3080\u3002\n\nbcmath\n\u300cApparently missing bcmath dependency\u300d (php-amqplib/php-amqplib)\nhttps://github.com/php-amqplib/php-amqplib/issues/312\ncomposer show --platform\n\n\u300cHow can I get the bcmath plugin in php5 in Ubuntu?\u300d (ask ubuntu)\nhttp://askubuntu.com/questions/416866/how-can-i-get-the-bcmath-plugin-in-php5-in-ubuntu\nsudo apt install php7.0-bcmath\n\u203b\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\n\n\u306a\u3093\u304b\u3000\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u3063\u305f\u3002 bcmath \u3068\u304b\u3044\u3046\u62e1\u5f35\u5b50\u304c\u4ed8\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3064\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\ncomposer update\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 1 install, 0 updates, 1 removal\n  - Removing cocur/slugify (v2.4)\n  - Installing php-amqplib/php-amqplib (v2.5.2) Downloading: 100%\nWriting lock file\nGenerating autoload files\n\n\u3088\u3046\u3084\u304f\u3000\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u304d\u305f\u3088\u3046\u3060\u3002 cocur/slugify \u3092\u6d88\u3057\u305f\u306e\u306f\u826f\u304b\u3063\u305f\u306e\u3060\u308d\u3046\u304b\uff1f\n\u3082\u3046\uff11\u56de\u3084\u308a\u76f4\u3057\u3002\ncomposer.json\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n        ,\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n\ncomposer update\n\n\u8ffd\u52a0\u3067\u6b32\u3057\u3044\u3082\u306e\u3092\u66f8\u304f\u3068\u3044\u3046\u3088\u308a\u3001\u6b32\u3057\u3044\u73fe\u72b6\u3092\u66f8\u304f\u306e\u304b\u3002\n\ncomposer.phar\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-php.html\ncomposer.phar install\ncomposer.phar: command not found\n\n\u4f9d\u7136\u3068\u3057\u3066\u5206\u304b\u3089\u3093\u3002\ncurl -s https://getcomposer.org/installer | php\n\n\u3053\u308c\u3092\u3059\u308b\u3068 composer.phar \u304c\u53d6\u308c\u308b\u3093\u3060\u3063\u305f\u304b\uff1f\nAll settings correct for using Composer\nUnable to write keys.dev.pub to: /home/\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer\n\n.composer \u96a0\u3057\u30d5\u30a9\u30eb\u30c0\u30fc\u304c\u3042\u308b\u3068\u3044\u3046\u8a71\u3057\u3060\u3063\u305f\u3002\n.phar \u306f PHP\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\uff08\u5727\u7e2e\u30d5\u30a1\u30a4\u30eb\uff09\u3060\u308d\u3046\u304b\uff1f\u3000\u89e3\u51cd\u3055\u308c\u3066\u306a\u304f\u306a\u3063\u3066\u305f\u308a\u3059\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\n\nvar/www/html \u3067\n\u30e6\u30fc\u30b6\u30fc\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u3067\u306f\u306a\u304f\u3001var/www/html \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u3067 composer \u3092\u4f7f\u3063\u305f\u65b9\u304c\u3044\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\nvar/www/html \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306b\u3082 composer.json \u3092\u7f6e\u3044\u3066\u307f\u308b\u3002\ncomposer.json\n{\n    \"require\": {\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n\ncomposer install\n\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 1 install, 0 updates, 0 removals\n  - Installing php-amqplib/php-amqplib (v2.5.2) Loading from cache\nWriting lock file\nGenerating autoload files\n\n\u3059\u3093\u306a\u308a\u3044\u3063\u305f\u3002\n\nDIR\u3063\u3066\u3069\u3053\ntamesi7.php\n<?php\necho '__DIR__\u3063\u3066\u3069\u3053\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\uff1f = ' . __DIR__ ;\n\n\u3053\u3046\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u3001\u5b9f\u884c\u3002\nphp tamesi7.php\n__DIR__\u3063\u3066\u3069\u3053\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\uff1f = /var/www/html\n\n\u3075\u3080\u3002\u3058\u3083\u3042\u3001\nrequire_once __DIR__ . '/vendor/autoload.php';\n\n\u306f\u3001\nrequire_once '/var/www/html/vendor/autoload.php';\n\n\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u3002\n/var/www/html/vendor$ ls -an\ntotal 20\ndrwxrwxr-x 4 1000 1000 4096 Mar  7 07:01 .\ndrwxr-xrwx 3    0    0 4096 Mar  7 07:03 ..\n-rw-rw-r-- 1 1000 1000  178 Mar  7 07:01 autoload.php\ndrwxrwxr-x 2 1000 1000 4096 Mar  7 07:01 composer\ndrwxrwxr-x 3 1000 1000 4096 Mar  7 07:01 php-amqplib\n\n\u3042\u308b\u3088\u3046\u3060\u3002\nPuTTY\u3067\u5b9f\u884c\u3059\u308b\u3068\u3002\nphp tamesi5.php\n [x] Sent 'Hello World!'\n\n\u52d5\u3044\u3066\u3044\u308b\u3093\u3060\u304c\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3088\u3046\u3060\u3002\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u304b\uff1f\n ls -an\n\uff5e\u4e2d\u7565\uff5e\n-rw-rw-r-- 1 1000 1000   477 Mar  7 06:00 tamesi5.php\n\nPHP\u306b\u5b9f\u884c\u6a29\u9650\u306a\u3093\u304b\u8981\u308b\u3093\u3060\u308d\u3046\u304b\uff1f PHP\u306f\u30c7\u30fc\u30bf\u30fb\u30d5\u30a1\u30a4\u30eb\u3060\u304b\u3089\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u306a\u3044\u6c17\u304c\u3059\u308b\u3002\n php tamesi6.php\n [*] Waiting for messages. To exit press CTRL+C\n [x] Received bear\n [x] Received Hello World!\n\nRabbitMQ \u306f\u52d5\u3044\u3066\u3044\u308b\u3093\u3060\u304c\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u52d5\u304b\u306a\u3044\u3002\nHTTP ERROR 500\n\n\u30b7\u30e5\u30ea\u30f3\u30af\u3057\u3066\u3044\u304f\u304b\uff1f\n\u6570\u884c\u305a\u3064\u8abf\u3079\u3066\u3044\u3053\u3046\u3002\ntamesi5a1.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\necho \"3\u884c\u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n\n\u3053\u308c\u306f\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u308c\u308b\u3002\ntamesi5a2.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->close();\n$connection->close();\n\necho \"\u63a5\u7d9a\u3001\u30c1\u30e3\u30f3\u30cd\u30eb\u53d6\u5f97\u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n\n\u3053\u308c\u3082\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u308c\u308b\u3002\ntamesi5a3.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\n$channel->close();\n$connection->close();\n\necho \"queue_declare \u5f15\u6570\uff15\u500b\u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n\n\u3053\u308c\u3082\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u308c\u308b\u3002\ntamesi5a4.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\n$msg = new AMQPMessage('Hello World!');\n\n$channel->close();\n$connection->close();\n\necho \"AMQPMessage \u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n\n\u3053\u308c\u3082\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u308c\u308b\u3002\ntamesi5a5.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\n$msg = new AMQPMessage('Hello World!');\n$channel->basic_publish($msg, '', 'hello');\n\n$channel->close();\n$connection->close();\n\necho \"basic_publish \u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n\n\u3053\u308c\u3001HTTP ERROR 500\u3002 basic_publish \u304c\u30c0\u30e1\u304b\uff1f\n\u300cframe_error on basic_publish\u300d (pika/pika)\nhttps://github.com/pika/pika/issues/349\nlocalhost \u3068\u66f8\u3044\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u6c17\u306b\u306a\u308b\u304c\u3002IP\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u3048\u3066\u3082\u5909\u308f\u308a\u306a\u3057\u3002\n\nPHP\u306e\u30a8\u30e9\u30fc\u30fb\u30ed\u30b0\u306f\u51fa\u3066\u306a\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\n\u300cPHP\u3067\u306e\u30ed\u30b0\u51fa\u529b\u3000\u307e\u3068\u3081\u300d (Qiita)\nhttp://qiita.com/junpei_iwa/items/8dc9f62b4118186cf2df\n/etc/php/7.0/apache2 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b php.ini \u306f\u3042\u308b\u304c\u3002\n\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u306b\u5909\u3048\u3066\u3001\ncp php.ini php.ini.original\n\n\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u3066\u304a\u3044\u3066\u3001php.ini \u306e\u4e2d\u3092\u898b\u3066\u307f\u308b\u3002\ndisplay_errors = Off\n\n\u3092\u3001\ndisplay_errors = On\n\n\u306b\u5909\u3048\u308b\u3002\u5916\u306b\u516c\u958b\u3057\u3066\u3044\u308b\u3068 Off \u306b\u3057\u306a\u3044\u3068\u5185\u90e8\u30c7\u30fc\u30bf\u304c\u898b\u3048\u3066\u3057\u307e\u3046\u304c\u3002\nlog_errors = On\n\n\u3053\u308c\u306f On \u306b\u306a\u3063\u3066\u3044\u305f\u3002\n\u30a2\u30d1\u30c3\u30c1\u3092\u518d\u8d77\u52d5\u3057\u305f\u3089\u3044\u3044\u306e\u304b\uff1f\nsudo service apache2 restart\n\n\u3042\u308c\u3063\uff1f\u3000\u30a2\u30d1\u30c3\u30c1\u3092\u518d\u8d77\u52d5\u3057\u305f\u3089\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3069\u3053\u308d\u304b\u3001PHP \u304c\u52d5\u3044\u3066\u3044\u308b\uff1f\ntamesi5.php \u306f\u52d5\u3044\u305f\u304c\u3001tamesi6.php \u306f\u56fa\u307e\u3063\u3066\u3044\u308b\u3002\u3053\u308c\u3082\u30b7\u30e5\u30ea\u30f3\u30af\u3057\u3066\u307f\u3088\u3046\u3002\ntamesi6a1.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho 'queue_declare \u307e\u3067\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n\n\u3053\u308c\u306f\u304a\u3063\u3051\u3002\ntamesi6a2.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume('hello', '', false, true, false, false, $callback);\n\necho 'basic_consume \u307e\u3067\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n\n\u3053\u308c\u3082\u304a\u3063\u3051\u3002\n\u3068\u3053\u308d\u3067\u3000\u30d6\u30ed\u30fc\u30ab\u30fc\u304c\u6b62\u307e\u3063\u3066\u3044\u308b\u6c17\u304c\u3059\u308b\u3002RabbitMQ \u3092\u8d77\u52d5\u3055\u305b\u308b\u306b\u306f\u3000\u3069\u3046\u3084\u308b\u3093\u3060\u3063\u305f\u304b\u3002\nrabbitmq-server\nERROR: node with name \"rabbit\" already running on \"\u2605\u7565\"\n\n\u52d5\u3044\u3066\u308b\u306e\u304b\u3002\n\nPHP\u306e\u30ed\u30b0\u306e\u51fa\u529b\u5148\n/etc/php/7.0/apache2/php.ini \u306e\n;error_log = php_errors.log\n\n\u306e\u90e8\u5206\u3092\nerror_log = /var/log/php_errors.log\n\n\u306b\u5909\u3048\u305f\u3002\u30a2\u30d1\u30c3\u30c1\u3092\u518d\u8d77\u52d5\u3002\nsudo service apache2 restart\n\ntamesi6a3.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume('hello', '', false, true, false, false, $callback);\n\n$channel->wait();\n\necho 'wait() 1\u56de\u306a\u3089\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n\n\u3053\u308c\u306f\u30d5\u30ea\u30fc\u30ba\u3002\n\u3058\u3083\u3042\u3001\u30a6\u30a7\u30a4\u30c8\u304c\u30c0\u30e1\u306a\u306e\u304b\uff1f\ntamesi6a4.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume('hello', '', false, true, false, false, $callback);\n\nsleep(3);\n\necho 'sleep(3)\u306a\u3089\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n\n\u3053\u308c\u3082\u304a\u3063\u3051\u2606\ntamesi6a5.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume('hello', '', false, true, false, false, $callback);\n\nwhile(count($channel->callbacks)) {\n    sleep(1);\n}\n\necho 'sleep(1)\u306e\u30eb\u30fc\u30d7\u306a\u3089\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n\n\u3053\u308c\u306f\u30d5\u30ea\u30fc\u30ba\u3002\n\nrabbitmqctl list_queues\nrabbitmqctl list_queues\nListing queues ...\n1111    0\nhello   0\n\nphp tamesi5.php\n [x] Sent 'Hello World!'\nrabbitmqctl list_queues\nListing queues ...\n1111    0\nhello   0\n\n\u30ad\u30e5\u30fc\u306e\u4e2d\u8eab\u306f\u898b\u308c\u306a\u3044\u3082\u306e\u304b\u3002\n\u975e\u540c\u671f\u3067\u306f\u306a\u304f\u3001\u5358\u306b\u30c7\u30ad\u30e5\u30fc\u3067\u304d\u306a\u3044\u306e\u304b\uff1f\n\u30ad\u30e5\u30fc\u306b\u5165\u3063\u3066\u306a\u3044\u6c17\u3082\u3059\u308b\u3002\ntamesi5a6.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$QKey = '1111';\n$channel->queue_declare($QKey, false, false, false, false);\n\n$QMsg = 'Flying Dragon!';\n$msg = new AMQPMessage($QMsg);\n$channel->basic_publish($msg, '', $QKey);\n\necho \" [x] Sent '\" . $QMsg . \"'\\n\";\n\n$channel->close();\n$connection->close();\n\n\u30ad\u30fc\u3092 1111 \u306b\u3002\n\u300c\u306f\u3058\u3081\u3066\u306e RabbitMQ\u300d (CyberAgent)\nhttp://ameblo.jp/principia-ca/entry-11233853011.html\ntamesi6.php \u306f\u3001[Ctrl]+[C] \u3067\u6b62\u3081\u308b\u524d\u63d0\u3060\u304b\u3089\u3001\u5b9f\u7528\u3067\u304d\u306a\u3044\u3093\u3058\u3083\u306a\u3044\u304b\uff1f\ntamesi6.php \u306f\u3000\u53d7\u4fe1\u7528\u3060\u304b\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3082\u3093\u3058\u3083\u306a\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u3002\n$channel->wait(); \u304c\u51e6\u7406\u3092\u30d6\u30ed\u30c3\u30af\u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3002\ntamesi6.php\n<?php\n// \u30b5\u30fc\u30d0\u30fc\u306e\u5916\u90e8\u304b\u3089\u306f\u30a2\u30af\u30bb\u30b9\u3057\u306a\u3044\u3002\n// \u30b5\u30fc\u30d0\u30fc\u306e\u5185\u5074\u306b\u7f6e\u3044\u3066\u304a\u304f\u3001\u53d7\u4fe1\u7528\n//\n// \u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5b9f\u884c\u3059\u308b\n// php tamesi6.php\n//\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$QKey = '1111';\n$channel->queue_declare($QKey, false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume($QKey, '', false, true, false, false, $callback);\n\n// \u7121\u9650\u30eb\u30fc\u30d7\nwhile(count($channel->callbacks))\n{\n    // \u30d6\u30ed\u30c3\u30af\u3059\u308b\n    $channel->wait();\n}\n// \u3053\u3053\u306b\u6765\u306a\u3044\n// $channel->close();\n// $connection->close();\n\n\u3058\u3083\u3042\u3001\u53d7\u4fe1\u5074\u306f\u30aa\u30c3\u30b1\u30fc\u3002\n\nC#\u3068PHP\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u3092\u4ecb\u3057\u3066\u901a\u4fe1\u3067\u304d\u3093\u306e\uff1f\nC# \u306e 1111 \u3068\u3001 PHP\u306e 1111 \u306f\u540c\u3058\u306a\u306e\u3060\u308d\u3046\u304b\uff1f\u898b\u308c\u306a\u3044\u3088\u3046\u3060\u304c\u3002\n\u30d5\u30a9\u30eb\u30c0\u30fc\u4f4d\u7f6e\u3068\u304b\u95a2\u4fc2\u3042\u308b\u306e\u3060\u308d\u3046\u304b\uff1f\n\u95a2\u4fc2\u3042\u308b\u306e\u306f\u3000'localhost', 5672\u3000\u3050\u3089\u3044\u304b\u3068\u601d\u3046\u304c\u3002\n\n\u3069\u3046\u3082 C# \u3068 PHP \u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u304c\u3067\u304d\u3066\u306a\u3044\n\u898b\u3066\u3044\u308b\u30ad\u30e5\u30fc\u304c\u9055\u3046\u306e\u304b\u3002\n\n\u5916\u90e8\u304b\u3089 tamesi2.php \u3067\u30a8\u30f3\u30ad\u30e5\u30fc\u3057\u305f\u5185\u5bb9\u306f\u3001\u5916\u90e8\u304b\u3089 tamesi3.php \u3067\u898b\u308c\u308b\u3002\uff08PHP\uff09\n\u5916\u90e8\u304b\u3089 tamesi5.php \u3067\u30a8\u30f3\u30ad\u30e5\u30fc\u3057\u305f\u5185\u5bb9\u306f\u3001\u5185\u90e8\u306e php tamesi6.php \u3067\u898b\u308c\u308b\u3002\uff08RabbitMQ\uff09\nC# \u3067\u30a8\u30f3\u30ad\u30e5\u30fc\u3057\u305f\u5185\u5bb9\u306f\u3001C# \u3067\u30c7\u30ad\u30e5\u30fc\u3067\u304d\u308b\u3002(RabbitMQ)\n\n\u5168\u90e8\u3000\u3070\u3089\u3070\u3089\u3060\u3002\u7d50\u5c40\u3001\u30d5\u30a1\u30a4\u30eb\u3067\u4ef2\u4ecb\u3059\u308b\u3057\u304b\u306a\u3044\u306e\u304b\uff1f\n\u3058\u3083\u3042\u3001tamesi6.php \u3092\u5e38\u99d0\u3067\u304d\u306a\u3044\u304b\uff1f\n\nforever\u30b3\u30de\u30f3\u30c9\n\u300cnode.js node.js\u30b9\u30af\u30ea\u30d7\u30c8\u3092forever\u3067\u30c7\u30fc\u30e2\u30f3\u5316\u3059\u308b\u300d (\u3067\u3058\u3046\u3043\u304d)\nhttp://onlineconsultant.jp/pukiwiki/?node.js%20node.js%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%92forever%E3%81%A7%E3%83%87%E3%83%BC%E3%83%A2%E3%83%B3%E5%8C%96%E3%81%99%E3%82%8B\n\u3053\u308c\u306f node.js \u5c02\u7528\u3060\u3063\u305f\u308a\u3057\u306a\u3044\u3093\u3060\u308d\u3046\u304b\u3002\n\u300c\u81ea\u4f5c\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30c7\u30fc\u30e2\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3055\u305b\u308b\u300d (http://7ujm.net)\nhttp://7ujm.net/linux/daemon.html\n\nnohup\n\u300c\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9 \u30b8\u30e7\u30d6\u3092\u7d99\u7d9a\u3059\u308b\u65b9\u6cd5\u300d (\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u63a2\u691c\u968a)\nhttps://www.codereading.com/nb/ignore-the-hangup-signal.html\n\u3058\u3083\u3042\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u3067\u304d\u308b\u306e\u3060\u308d\u3046\u304b\uff1f\n'''\nnohup php tamesi6.php > out.log 2> err.log < /dev/null &\n'''\n'''\n[3] 13092\njobs\n[1]+  Stopped                 nano tamesi6.php\n[2]   Running                 rabbitmq-server &\n[3]-  Running                 nohup php tamesi6.php > out.log 2> err.log < /dev/null &\n'''\n\u8a66\u3057\u306b\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u307f\u308b\u3002\nsu \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3044\u904e\u304e\u305f\u306e\u304b\u3001\u4f55\u56de\u3082 exit \u3057\u305f\u3002\n'''\njobs\n'''\n\u306a\u3093\u306b\u3082\u3044\u306a\u304f\u306a\u3063\u305f\u304c\u3002\ntamesi6.php \u306f\u7121\u9650\u30eb\u30fc\u30d7\u3067\u306a\u304b\u3063\u305f\u304b\u3089\u304b\u3002\n\u3058\u3083\u3042\u3001tamesi6.php \u3092\u7121\u9650\u30eb\u30fc\u30d7\u3067\u56f2\u3063\u3066\u3001 /var/www/html \u30d5\u30a9\u30eb\u30c0\u30fc\u304b\u3089 /home/watasi/shogi/ukamuse_sdt4/bin \u30d5\u30a9\u30eb\u30c0\u30fc\u3078\u79fb\u52d5\u3057\u3088\u3046\u3002\n\nPHP\u306e\u74b0\u5883\u3092\u4f5c\u308d\u3046\n\u305f\u3060\u3001\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u5c06\u68cb\u30b5\u30fc\u30d0\u30fc\u306e\u74b0\u5883\u3068\u6df7\u3056\u3063\u3066\u3084\u3084\u3053\u3057\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n\u3072\u3068\u307e\u305a /home/watasi/shogi/receive \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6398\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n'''\n/home/csg10/shogi# mkdir receive\n'''\n\u3053\u306e\u4e2d\u306b PHP\u30d7\u30ed\u30b0\u30e9\u30e0\u7528\u306e\u74b0\u5883\u3092\u4f5c\u308d\u3046\u3002\ncd receive\n\n\u6b21\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u7f6e\u3044\u3066\u304a\u304f\u3002\u73fe\u72b6\u3092\u3069\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u3057\u305f\u3044\u304b\u66f8\u3044\u3066\u304a\u304f\u30d5\u30a1\u30a4\u30eb\u3060\u3002\ncomposer.json\n{\n    \"require\": {\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n\n\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u304f\u3002\ncomposer install\n\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 1 install, 0 updates, 0 removals\n  - Installing php-amqplib/php-amqplib (v2.5.2) Downloading: 100%\nWriting lock file\nGenerating autoload files\n\n\u30eb\u30fc\u30c8\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u8d70\u3089\u306a\u3044\u3068\u66f8\u3044\u3066\u3042\u308b\u304c\u3001\u8d70\u3063\u3066\u3044\u308b\u3088\u3046\u3060\u304c\u2026\u2026\u3002\nls\ncomposer.json  composer.lock  vendor\n\n\u306a\u3093\u304b\u63c3\u3063\u3066\u308b\u3057\u3002PHP\u5c02\u7528\u306e\u74b0\u5883\u306b\u3057\u305f\u3044\u3093\u3067\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u540d\u3092 php_receive \u306b\u30ea\u30cd\u30fc\u30e0\u3059\u308b\u304b\u3002\ncd ..\nls\nreceive  ukamuse_sdt4  ukamuse_sdt4.zip\nmv receive php_receive\nls\nphp_receive  ukamuse_sdt4  ukamuse_sdt4.zip\n\n\u3058\u3083\u3042\u3001\u3053\u3053\u306b tamesi6.php \u3092\u79fb\u52d5\u3055\u305b\u3088\u3046\u3002\u3068\u3044\u3046\u304b \u3053\u3053\u306b loop6.php \u3092\u66f8\u3044\u3066\u3001tamesi6.php \u306f\u524a\u9664\u3057\u3088\u3046\u3002\n\nloop6.php \u3092\u66f8\u304f\ncd php_receive\nnano loop6.php\n\n\u3067\u3082 \u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u3089\u306a\u3093\u3067 nohup \u3067\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u8d77\u52d5\u3057\u305f PHP \u304c\u843d\u3061\u305f\u306e\u3060\u308d\u3046\u304b\u3002\nPHP \u304c\u5927\u5143\u304b\u3089\u843d\u3061\u305f\u306e\u3060\u308d\u3046\u304b\uff1f\n\u300cnohup: run PHP process in background\u300d (stack overflow)\nhttp://stackoverflow.com/questions/5288584/nohup-run-php-process-in-background\n\u7d76\u5bfe\u30d1\u30b9\u3067\u6307\u5b9a\u3057\u305f\u65b9\u304c\u3044\u3044\u306e\u304b\u3002\nloop6.php\n<?php\n// \u53d7\u4fe1\u7528\n// \u30b5\u30fc\u30d0\u30fc\u306e\u5916\u90e8\u304b\u3089\u306f\u30a2\u30af\u30bb\u30b9\u3057\u306a\u3044\u3002\n// \u30b5\u30fc\u30d0\u30fc\u306e\u5185\u5074\u306b\u7f6e\u3044\u3066\u7121\u9650\u30eb\u30fc\u30d7\u3055\u305b\u308b\n//\n// \u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5b9f\u884c\u3059\u308b\n//\n\n// \u64cd\u4f5c\u8aac\u660e\u3092\u51fa\u529b\u3057\u3066\u304a\u3053\u3046\u3002\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u308b\u3093\u3060\u308d\u3046\u304c\u2026\u2026\necho 'How to use'                 . \"\\n\";\necho '=========='                 . \"\\n\";\necho                                \"\\n\";\necho '    Start infinity loop'    . \"\\n\";\necho '    -------------------'    . \"\\n\";\necho '        After ( nohup php /home/\u2605user/shogi/php_receive/loop6.php > /home/\u2605user/shogi/php_log/loop6.out.log 2> /home/\u2605user/shogi/php_log/loop6.err.log < /dev/null & )' . \"\\n\";\necho '        By absolute path.'  . \"\\n\";\necho                                \"\\n\";\necho '    To finish kill'         . \"\\n\";\necho '    --------------'         . \"\\n\";\necho '        jobs'               . \"\\n\";\necho '        kill %(job number)' . \"\\n\";\n\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n// \u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306e\u524d\u6e96\u5099\u3092\u3059\u308b\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n$QKey = '1111';\n$channel->queue_declare($QKey, false, false, false, false);\n\n// \u30ad\u30e5\u30fc\u3092\u958b\u3044\u3066\u3057\u307e\u3048\u3070\u3001\u3042\u3068\u306f\u7121\u9650\u30eb\u30fc\u30d7\uff01\n\n// \u30c7\u30ad\u30e5\u30fc\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3059\u308b\u3053\u3068\u3092\u3053\u3053\u306b\u66f8\u304f\n$callback = function($msg) {\n    echo \" [x] Received \", $msg->body, \"\\n\";\n};\n$channel->basic_consume($QKey, '', false, true, false, false, $callback);\n\n// \u7121\u9650\u30eb\u30fc\u30d7\nwhile(count($channel->callbacks))\n{\n    // \u3053\u3053\u3067\u30d6\u30ed\u30c3\u30af\u3057\u306a\u304c\u3089\u30c7\u30ad\u30e5\u30fc\u3059\u308b\n    $channel->wait();\n}\n// \u3053\u3053\u306b\u6765\u306a\u3044\n// $channel->close();\n// $connection->close();\n\n\u30ed\u30b0\u30d5\u30a9\u30eb\u30c0\u30fc\u306f\u3053\u3053\u306b\u3059\u308b\u3002\n/home/\u2605user/shogi/php_log/\n/home/user/shogi# mkdir php_log\nls\nphp_log  php_receive  ukamuse_sdt4  ukamuse_sdt4.zip\n\n\n\u52d5\u304b\u3057\u3066\u307f\u3088\u3046\nhttp://\u2605.\u2605.\u2605.\u2605/tamesi5.php\n\u3078\u30a2\u30af\u30bb\u30b9\u3002\n[x] Sent 'Flying Dragon!'\n\ncd ..\nls\nphp_log  php_receive  ukamuse_sdt4  ukamuse_sdt4.zip\ncd php_log\nls\nloop6.err.log  loop6.out.log\nnano loop6.out.log\n\nHow to use\n==========\n\n    Start infinity loop\n    -------------------\n        After ( nohup php /home/\u2605user/shogi/php_receive/loop6.php > /home/\u2605user$\n        By absolute path.\n\n    To finish kill\n    --------------\n        jobs\n        kill %(job number)\n [x] Received Flying Dragon!\n\n\u3088\u3057\u3001\uff11\u884c\u66f8\u304d\u8db3\u3055\u308c\u3066\u3044\u308b\u3002\u6b21\u306f\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b\u3002\u305d\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u76f4\u3059\u3002\nsudo su -\n\u203b\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\njobs\n\n\u7a7a\u3063\u307d\u3060\u3002\n\u300cRun php script on background in PHP with nohup CLI\u300d (stack overflow)\nhttp://stackoverflow.com/questions/9100872/run-php-script-on-background-in-php-with-nohup-cli\nphp \u30b3\u30de\u30f3\u30c9\u3082\u7d76\u5bfe\u30d1\u30b9\u3067\u6307\u5b9a\u3057\u308d\u3001\u3068\u3044\u3046\u3053\u3068\u304b\u3002\nphp \u3092 /usr/bin/php \u306b\u66f8\u304d\u76f4\u3059\u3002\u3053\u308c\u3001\u30b3\u30e1\u30f3\u30c8\u304b\u3002\necho '        After ( nohup /usr/bin/php /home/\u2605user/shogi/php_receive/loop6.php > /home/\u2605user/shogi/php_log/loop6.out.log 2> /home/\u2605user/shogi/php_log/loop6.err.log < /dev/null & )' . \"\\n\";\n\n\u8d70\u3089\u305b\u3066\u3001\u30ed\u30b0\u30a2\u30a6\u30c8\u3001\u30ed\u30b0\u30a4\u30f3\u3002\njobs\n\n\u3067\u7a7a\u3063\u307d\u3002\n\u300c\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u5f8c\u3082\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u51e6\u7406\u3092\u7d9a\u3051\u308b\uff1f\uff08\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306bnohup\uff09\u300d (kazmax)\nhttp://kazmax.zpp.jp/linux_beginner/nohup.html\n\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3060\u308d\u3046\u304b\uff1f\nls -an\ntotal 12\ndrwxr-xr-x 2 0 0 4096 Mar  7 19:09 .\ndrwxr-xrwx 5 0 0 4096 Mar  7 18:49 ..\n-rw-r--r-- 1 0 0    0 Mar  7 19:06 loop6.err.log\n-rw-r--r-- 1 0 0  358 Mar  7 19:06 loop6.out.log\n\n\u30eb\u30fc\u30c8\u30fb\u30e6\u30fc\u30b6\u30fc\u3067\u5b9f\u884c\u3057\u3066\u3044\u308b\u3093\u3060\u304b\u3089\u3000\u554f\u984c\u306a\u3044\u3088\u3046\u306a\u6c17\u3082\u3059\u308b\u304c\u3001\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306b\u7f6e\u3044\u3066\u3042\u308b\u3053\u3068\u306f\u554f\u984c\u304b\uff1f\nchmod 666 loop6.err.log\nchmod 666 loop6.out.log\nls -an\n\uff5e\u4e2d\u7565\uff5e\n-rw-rw-rw- 1 0 0    0 Mar  7 19:06 loop6.err.log\n-rw-rw-rw- 1 0 0  358 Mar  7 19:06 loop6.out.log\n\n\u3053\u308c\u3067\u3069\u3046\u304b\uff1f\nlogout\nsudo su -\njobs\n\n\u7a7a\u3063\u307d\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\u300cssh\u3067\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u3042\u3068\u3082\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u7d9a\u3051\u305f\u3044\u3068\u304d\u306enohup\u3068screen\u300d (don-bra.co)\nhttp://asayamakk.hatenablog.com/entry/2016/04/09/213904\n\u300c\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3055\u305b\u308b\u300d (inamuu)\nhttp://wiki.inamuu.com/index.php?%E3%83%AD%E3%82%B0%E3%82%A2%E3%82%A6%E3%83%88%E3%81%97%E3%81%A6%E3%82%82%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%95%E3%81%9B%E3%82%8B\ndisown \u3068 top \u3092\u8abf\u3079\u3066\u307f\u308b\u304b\u3002\n\u300cHUP\u30b7\u30b0\u30ca\u30eb\u3068nohup\u3068disown\u3068\u30d0\u30c3\u30af/\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u30b8\u30e7\u30d6\u306e\u7406\u89e3\u300d (Qiita)\nhttp://qiita.com/yushin/items/732043ee23281f19f983\n\u300cnohup \u30b3\u30de\u30f3\u30c9 &\u300d \u306f\u3000\u3084\u3063\u3066\u308b\u3093\u3060\u304c\u306a\u3041\u3002\n\u300c\u6280\u8853/UNIX/\u306a\u305cnohup\u3092\u30d0\u30c3\u30af\u30b0\u30e9\u30f3\u30c9\u30b8\u30e7\u30d6\u3068\u3057\u3066\u8d77\u52d5\u3059\u308b\u306e\u304c\u5b9a\u756a\u306a\u306e\u304b\uff1f(\u64ec\u4f3c\u7aef\u672b, Pseudo Terminal, SIGHUP\u4ed6)\u300d (www.glamenv-septzen.net)\nhttps://www.glamenv-septzen.net/view/854\n\u300cnohup \u30b3\u30de\u30f3\u30c9 &\u300d \u3092\u3084\u3063\u3066 jobs \u304c\u7a7a\u3063\u307d\u306b\u306a\u308b\u3093\u3060\u304c\u306a\u3041\u3002\n\u300cRun a nohup command over SSH, then disconnect\u300d (Ubuntu)\nhttp://askubuntu.com/questions/349262/run-a-nohup-command-over-ssh-then-disconnect\n\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u3067 PuTTY \u3092\u4f7f\u3063\u3066 SSH\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\u300cnohup \u30b3\u30de\u30f3\u30c9 &\u300d\u3092\u3084\u3063\u3066 exit \u3057\u3066\u518d\u5ea6\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3001jobs \u306f\u7a7a\u3063\u307d\u3002\n\u3069\u3053\u304b\u3089\u624b\u3092\u4ed8\u3051\u308b\u3079\u304d\u304b\u3002\n\n\u30b8\u30e7\u30d6\u3068\u30d7\u30ed\u30bb\u30b9\u306f\u9055\u3046\n\u300c\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u7d9a\u3051\u308b\u300d (Linux\u30b3\u30de\u30f3\u30c9\u9006\u5f15\u304d\u5927\u5168)\nhttp://itpro.nikkeibp.co.jp/article/COLUMN/20060228/231191/\nps\n  PID TTY          TIME CMD\n21573 pts/1    00:00:00 bash\n21924 pts/1    00:00:00 ps\n\n\u30d7\u30ed\u30bb\u30b9\u3082\u3044\u306a\u3044\u304c\u3002\nnohup /usr/bin/php /home/\u2605user/shogi/php_receive/loop6.php > /home/\u2605user/shogi/php_log/loop6.out.log 2> /home/\u2605user/shogi/php_log/loop6.err.log < /dev/null &\n ps\n  PID TTY          TIME CMD\n21573 pts/1    00:00:00 bash\n21955 pts/1    00:00:00 php\n21956 pts/1    00:00:00 ps\n\n\u3053\u3053\u304b\u3089\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u308b\u3002\nsudo su -\nps\n  PID TTY          TIME CMD\n21971 pts/1    00:00:00 sudo\n21972 pts/1    00:00:00 su\n21973 pts/1    00:00:00 bash\n21989 pts/1    00:00:00 ps\n\n\n\u30b7\u30a7\u30eb\u30fb\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3089\u3069\u3046\u304b\uff1f\nPHP\u30d7\u30ed\u30bb\u30b9\u304c\u6d88\u3048\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3002\n\u3058\u3083\u3042\u3001\u30b7\u30a7\u30eb\u30fb\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3089\u6d88\u3048\u306a\u3044\u306e\u304b\uff1f\n\u300cbash \u3067\u7121\u9650\u30eb\u30fc\u30d7\u300d (ablog)\nhttp://d.hatena.ne.jp/yohei-a/20090524/1243171328\nloop8.sh\n#!/bin/bash\n# \u7121\u9650\u30eb\u30fc\u30d7\u306e\u7f6e\u7269\nwhile :\ndo\n    # \u3053\u3053\u306b\u51e6\u7406\u3092\u66f8\u304f\n    sleep 1m\ndone\n\n\u300cLinux / UNIX: Bash Script Sleep or Delay a Specified Amount of Time\u300d (nixCraft)\nhttps://www.cyberciti.biz/faq/linux-unix-sleep-bash-scripting/\nmkdir bash_receive\nmkdir bash_log\ncd bash_receive\nnano loop8.sh\n\nnohup /home/\u2605user/shogi/bash_receive/loop8.sh > /home/\u2605user/shogi/bash_log/loop8.out.log 2> /home/\u2605user/shogi/bash_log/loop8.err.log < /dev/null &\n[1] 22338\njobs\n[1]+  Exit 126                nohup /home/\u2605user/shogi/bash_receive/loop8.sh > /home/\u2605user/shogi/bash_log/loop8.out.log 2> /home/\u2605user/shogi/bash_log/loop8.err.log < /dev/null\nps\n  PID TTY          TIME CMD\n21971 pts/1    00:00:00 sudo\n21972 pts/1    00:00:00 su\n21973 pts/1    00:00:00 bash\n22262 pts/1    00:00:00 ps\n\n\u3053\u308c\u3067 bash \u30d7\u30ed\u30bb\u30b9\u304c loop8.sh \u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u3092\u3084\u3063\u3066\u3044\u308b\u306e\u304b\u3002\n\u3082\u3046\uff11\u56de\njobs\n\n\u7a7a\u3063\u307d\u3060\u3002Exit \u3057\u3066\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3002\n\n\u8a18\u4e8b\u304c\u9577\u304f\u306a\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u8a18\u4e8b\u306b\u79fb\u308b\u3002\n\u524d\u56de\u306e\u8a18\u4e8b: \u300c\uff1c\u305d\u306e\uff11\uff1e\u300d http://qiita.com/muzudho1/items/af3537d36f16c063a572\n\n# Ubuntu\u3067\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3057\u3088\u3046\n\n\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u2026\u2026\u3001RabbitMQ\u3063\u3066\u3044\u3063\u305f\u3044\u4f55\u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u3060\uff1f \n\n(RabbitMQ)\nhttps://www.rabbitmq.com/\n\n\u300cRabbitMQ Configuration\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/configure.html\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n```\nnode           : rabbit@example\nhome dir       : /var/lib/rabbitmq\nconfig file(s) : /etc/rabbitmq/rabbitmq.config\n```\n\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\n\n```\nnode           : rabbit@example\nhome dir       : /var/lib/rabbitmq\nconfig file(s) : /var/lib/rabbitmq/hare.config (not found)\n```\n\n\u3046\u30fc\u3080\u3001broker \u3068\u3044\u3046\u5358\u8a9e\u3082\u51fa\u3066\u304f\u308b\u304c\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3002\n\u30c8\u30e9\u30d6\u30eb\u30fb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u30da\u30fc\u30b8\u306f\u7121\u3044\u3082\u306e\u304b\u3002\n\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-dotnet.html\n\n\u516c\u5f0f\u306e\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u898b\u308b\u3068\u3001\u308f\u305f\u3057\u306e\u77e5\u3063\u3066\u308b\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3088\u308a\u3082\u96e3\u3057\u3044\u3053\u3068\u3092\u3057\u3066\u3044\u308b\u3002\n\nRabbitMQ.Client.dll \u3068\u3044\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u306f \u30b5\u30fc\u30d0\u30fc\u306e\u4e2d\u306b\u3042\u308b\u306e\u3060\u308d\u3046\u304b\u3002\u3069\u3046\u3084\u3063\u3066\u8abf\u3079\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\n\n\u300c\u7279\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u63a2\u3059\u300d (Qiita)\nhttp://qiita.com/Yuichirou/items/38165af29ab1e2d307f6\n\n\u3058\u3083\u3042\n\n```\napt-file search RabbitMQ.Client.dll\n```\n\n\u307f\u305f\u3044\u306a\u611f\u3058\u3067\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\n\n```\nThe program 'apt-file' is currently not installed. You can install it by typing:\napt install apt-file\n```\n\n\u3058\u3083\u3042\u307e\u305a\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u3002\n\n```\napt install apt-file\n\uff5e\u4e2d\u7565\uff5e\nThe system-wide cache is empty. You may want to run 'apt-file update'\nas root to update the cache. You can also run 'apt-file update' as\nnormal user to use a cache in the user's home directory.\n```\n\n\u3058\u3083\u3042\u6b21\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3002\n\n```\napt-file update\n\uff5e\u4e2d\u7565\uff5e\n\nFile is up-to-date.\n```\n\n\u3058\u3083\u3042\u307e\u305f\u691c\u7d22\u3002\n\n```\napt-file search RabbitMQ.Client.dll\nlibmono-rabbitmq4.0-cil: /usr/lib/mono/4.5/RabbitMQ.Client.dll\nlibmono-rabbitmq4.0-cil: /usr/lib/mono/gac/RabbitMQ.Client/4.0.0.0__b03f5f7f11d50a3a/RabbitMQ.Client.dll\nmono-dbg: /usr/lib/mono/gac/RabbitMQ.Client/4.0.0.0__b03f5f7f11d50a3a/RabbitMQ.Client.dll.mdb\nmono-reference-assemblies-2.0: /usr/lib/mono/2.0/RabbitMQ.Client.dll\nmono-reference-assemblies-4.0: /usr/lib/mono/4.0/RabbitMQ.Client.dll\n```\n\n\u307b\u3046\u307b\u3046\u3001RabbitMQ.Client.dll \u306f\u5165\u3063\u3066\u308b\u305c\u3002\n\n\u30d5\u30a1\u30af\u30c8\u30ea\u30fc\u3092\u4f5c\u3063\u3066\u3001\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3092\u78ba\u7acb\u3057\u3066\u3001\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u958b\u3051\u3001\u3068\u66f8\u3044\u3066\u3042\u308b\u306a\u3002\n\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u307f\u308b\u304b\u3002\n\n\u7d9a\u304f\u3002\n\nSystem.Messaging \u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u308b\u3068 RabbitQL \u306f\u898b\u3048\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3002\n\n```\nnano MsgQueue.cs\nmcs /reference:System.Messaging.dll MsgQueue.cs\n ./MsgQueue.exe\n\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8\u7bb1 \u4f5c\u6210\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n3   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\n4   : \u30e1\u30c3\u30bb\u30fc\u30b8\u7bb1 \u524a\u9664\nquit: \u7d42\u4e86\n\n1\nmq.BasePriority = 0\n\nUnhandled Exception:\nSystem.NotImplementedException: The method or operation is not implemented.\n  at Mono.Messaging.RabbitMQ.RabbitMQMessageQueue.get_CanRead () <0x408d0100 + 0x00017> in <filename unknown>:0\n  at System.Messaging.MessageQueue.get_CanRead () <0x408d0090 + 0x00020> in <filename unknown>:0\n  at (wrapper remoting-invoke-with-check) System.Messaging.MessageQueue:get_CanRead ()\n  at MsgQueue.Program.Main (System.String[] args) <0x4089dd50 + 0x001ff> in <filename unknown>:0\n[ERROR] FATAL UNHANDLED EXCEPTION: System.NotImplementedException: The method or operation is not implemented.\n  at Mono.Messaging.RabbitMQ.RabbitMQMessageQueue.get_CanRead () <0x408d0100 + 0x00017> in <filename unknown>:0\n  at System.Messaging.MessageQueue.get_CanRead () <0x408d0090 + 0x00020> in <filename unknown>:0\n  at (wrapper remoting-invoke-with-check) System.Messaging.MessageQueue:get_CanRead ()\n  at MsgQueue.Program.Main (System.String[] args) <0x4089dd50 + 0x001ff> in <filename unknown>:0\n```\n\n\u3042\u308a\u3083\u3001CanRead \u30d7\u30ed\u30d1\u30c6\u30a3\u30fc\u4f7f\u3048\u306a\u3044\u306e\u304b\u3002\u30b3\u30f3\u30d1\u30a4\u30eb\u901a\u3063\u3066\u308b\u306e\u306b\u3001\u306a\u3093\u3067\u4f7f\u3048\u306a\u3044\u3093\u3060\uff1f\n\nWindows \u3060\u3068\n\n```\nmq.AccessMode = SendAndReceive\nmq.Authenticate = False\nmq.BasePriority = 0\nmq.CanRead = True\nmq.CanWrite = True\nmq.Category = 00000000-0000-0000-0000-000000000000\nmq.Container =\nmq.CreateTime = 2017/03/06 18:13:13\nmq.DefaultPropertiesToSend = System.Messaging.DefaultPropertiesToSend\nmq.DenySharedReceive = False\nmq.EncryptionRequired = Optional\nmq.FormatName = DIRECT=OS:takahashi-pc\\Private$\\testqueue\nmq.Formatter = System.Messaging.XmlMessageFormatter\nmq.Id = 00000000-0000-0000-0000-000000000000\nmq.Label =\nmq.LastModifyTime = 2017/03/06 18:13:13\nmq.MachineName = .\nmq.MaximumJournalSize = 4294967295\nmq.MaximumQueueSize = 4294967295\nmq.MessageReadPropertyFilter = System.Messaging.MessagePropertyFilter\nmq.MulticastAddress =\nmq.Path = .\\Private$\\testqueue\nmq.QueueName = Private$\\testqueue\nmq.ReadHandle = 1788\nmq.Site =\nmq.SynchronizingObject =\nmq.Transactional = False\nmq.UseJournalQueue = False\nmq.WriteHandle = 1588\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u8aad\u3081\u308b\u306e\u3067\u3001\u5b9f\u88c5\u304c\u306a\u3044\u3068\u3057\u305f\u3089\u3000\u5b9f\u969b\u3000\u672a\u5b9f\u88c5\u306a\u306e\u304b\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u304b\u3067\u304d\u306a\u3044\u306e\u304b\uff1f\n\n# RabbitMQ \u3092\u5165\u624b\u3057\u305f\u65b9\u304c\u3044\u3044\u306e\u3067\u306f\uff1f\n\nSystem.Messaging \u3092\u4f7f\u3063\u3066\u308b\u306e\u304c\u9593\u9055\u3044\u306a\u306e\u304b\uff1f\n\n\u300cHow do I use RabbitMQ on Mono on Linux\u300d (stack overflow)\nhttp://stackoverflow.com/questions/28020761/how-do-i-use-rabbitmq-on-mono-on-linux\n\n# Erlang \uff08\u30a2\u30fc\u30e9\u30f3\uff09\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3088\u3046\n\nRabbitMQ\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306b\u3001Erlang \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u308c\u3063\u3066\u51fa\u3066\u304d\u305f\u3002\n\n\u300cDOWNLOAD OTP 19.2\u300d (ERLANG)\nhttp://www.erlang.org/downloads\n\n\u3058\u3083\u3042\u3001Windows 64bit \u7528\u30d0\u30a4\u30ca\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u304b\u3002\n\n\u3048\u3063\uff01\u3000\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u307e\u3067 2\u6642\u9593 1\u6642\u9593 2\u6642\u9593 40\u5206\u2026\u2026\u3001\u306a\u3093\u3060\u308d\u3046\u3001\u3069\u3093\u306a\u7d30\u3044\u56de\u7dda\u3092\u901a\u3063\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u3066\u304f\u308b\u3093\u3060\u308d\u3046\u3002\n\n\u81ea\u5b85\u306e\u56de\u7dda\u304c\u7d30\u304f\u306a\u3063\u305f\u3093\u3058\u3083\u306a\u3044\u304b\u3002\u305d\u306e\u9593\u306b\u4ed6\u306e\u4f5c\u696d\u304b\u3089\u3084\u308d\u3046\u3002\n\n# PHP \u3068 \u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u306f\u901a\u4fe1\u3067\u304d\u308b\u306e\u304b\uff1f\n\n## \u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u306b\u306f\u6b21\u306e\u3082\u306e\u304c\u3042\u308b\u306f\u305a\u3060\n\n- \u30ad\u30e5\u30fc\u306e\u65e2\u5b58\u78ba\u8a8d\n- \u30ad\u30e5\u30fc\u306e\u4f5c\u6210\n- \u30ad\u30e5\u30fc\u3078\u9001\u4fe1\n- \u30ad\u30e5\u30fc\u304b\u3089\u53d7\u4fe1\n- \u30ad\u30e5\u30fc\u306e\u524a\u9664\n\nPHP \u3067\u306f\u3069\u308c\u306b\u5f53\u3066\u306f\u307e\u308b\u3060\u308d\u3046\uff1f\n\n- \u30ad\u30e5\u30fc\u306e\u4f5c\u6210\u307e\u305f\u306f\u53d6\u5f97 msg_get_queue()\n- \u30ad\u30e5\u30fc\u3078\u9001\u4fe1 msg_send()\n- \u30ad\u30e5\u30fc\u304b\u3089\u53d7\u4fe1 msg_receive()\n- \u30ad\u30e5\u30fc\u306e\u524a\u9664 msg_remove_queue()\n- msg_set_queue() \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8a2d\u5b9a\n- msg_stat_queue() \u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u53d6\u5f97\n\n\u305d\u308c\u305e\u308c\u8abf\u3079\u3066\u307f\u3088\u3046\u3002\n\n\u300cmsg_get_queue\u300d (PHP\u30de\u30cb\u30e5\u30a2\u30eb)\nhttp://php.net/manual/ja/function.msg-get-queue.php\n\n```\n$MSGKey = \"123456\" ; \n\n## Create or attach to a message queue\n$seg = msg_get_queue($MSGKey) ;\n```\n\n\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u30ad\u30fc\u304c\u6570\u5b57\u3068\u3044\u3046\u306e\u306f\u3069\u3046\u3044\u3046\u3053\u3068\u3060\u308d\u3046\u3002/Private$/testqueue \u307f\u305f\u3044\u306a\u6587\u5b57\u5217\u3058\u3083\u306a\u3044\u306a\u3089\u3069\u3046\u3084\u3063\u3066 C# \u3068 PHP \u3067\u540c\u3058\u30ad\u30e5\u30fc\u3092\u898b\u306b\u3044\u304f\u3093\u3060\u308d\u3046\u3002\n\n\n\u300cRabbitMQ + php-amqplib \u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc\u30a4\u30f3\u30b0\u8a66\u3057\u3066\u307f\u305f\u300d (Qiita)\nhttp://qiita.com/imunew/items/d93917c0344f5ef1abce\n\n\u300c\u65b0\u4eba\u30d7\u30ed\u30b0\u30e9\u30de\u306b\u77e5\u3063\u3066\u3082\u3089\u3044\u305f\u3044RabbitMQ\u521d\u5fc3\u8005\u306e\u5165\u9580\u306e\u5165\u9580\u300d (Qiita)\nhttp://qiita.com/gambaray/items/3cc02b419c860a96bc94\n\n\u300cRabbitMQ \u306e\u5c0e\u5165\u300d (Qiita)\nhttp://qiita.com/taka1970/items/fa783304b7a71b7921e5\n\n# Linux\u306e\u74b0\u5883\u5909\u6570\uff1f\n\n\u300cSystem.Messaging\u300d (Mono)\nhttp://www.mono-project.com/archived/systemmessaging/\n\nLinux \u3067 System.Messaging \u3092\u4f7f\u304a\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u74b0\u5883\u5909\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\n\n\u305d\u308c\u3068\u3082 Windows\u306e\u8a71\u3057\u3060\u308d\u3046\u304b\u3002\n\n# ERLANG \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u305e\n\nWindows \u4e0a\u306b RabbitMQ + ERLANG \u306e\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u305f\u3044\u3002\u30ed\u30fc\u30ab\u30eb\u30c6\u30b9\u30c8\u7528\u306b\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u305fERLANG\u306e .exe \u3092\u53e9\u3044\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3002\u6b21\u306f RabbitMQ \u304b\u3002\n\nRabbitMQ \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u9032\u3081\u308b\u3002\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306b\uff12\u56de\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u308b\u304c\u8a31\u53ef\u3057\u3066\u9032\u3081\u305f\u3002\n\n\u3058\u3083\u3042 C# \u3067\n\n```\nusing RabbitMQ.Client;\n```\n\n\u3068\u304b\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3093\u3060\u308d\u3046\u304b\uff1f\u3000\u8abf\u3079\u3066\u307f\u3088\u3046\u3002\n\n\u305d\u3093\u306a\u69d8\u5b50\u306f\u3069\u3053\u306b\u3082\u306a\u304f\u3002\n\n# RabbitMQ.Client.dll \u3092\u63a2\u3059\u304b\n\nC:\\Program Files\\RabbitMQ Server \u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u4e2d\u306b\u306f\u7121\u3044\u3002\n\u3068\u3044\u3046\u304b Unity \u304c\u6301\u3063\u3066\u3044\u308b\u3002\n\n\u6b63\u898f\u7684\u306b\u306f\u3001\u3069\u3053\u304b\u3089\u5165\u624b\u3059\u308b\u3093\u3060\u308d\u3046\u304b\u3002\n\n\u300c.NET/C# RabbitMQ client library\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/dotnet.html\n\n# NuGet\u30d1\u30c3\u30b1\u30fc\u30b8\n\nNuGet\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3001\u3068\u3042\u308b\u304c NuGet\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u306f\u4f55\u304b\u3002\n\n\u300cRabbitMQ .NET\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 4.1.1\u300d (nuget)\nhttps://www.nuget.org/packages/RabbitMQ.Client\n\n## \u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u30b3\u30f3\u30bd\u30fc\u30eb\u3063\u3066\u4f55\u3060\uff1f\n\n\u300c\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\u30b3\u30f3\u30bd\u30fc\u30eb\u300d (Microsoft)\nhttps://docs.microsoft.com/ja-jp/nuget/tools/package-manager-console\n\nVisual Studio 2015 \u3092\u4f7f\u3063\u3066\u3044\u3066\u4eca\u307e\u3067\u6c17\u3065\u304b\u306a\u304b\u3063\u305f\u304c\u3001\n\u30e1\u30a4\u30f3\u30e1\u30cb\u30e5\u30fc\u304b\u3089 [Tools] - [NuGet Package Manager] - [Package Manager Console] \u3068\u9032\u3081\u308b\u3002\n\n\u3059\u308b\u3068\u3000\u3044\u3064\u3082\u3000\u30a8\u30e9\u30fc\u3068\u304b\u691c\u7d22\u7d50\u679c\u304c\u51fa\u3066\u3044\u305f\u30da\u30a4\u30f3\u306b Package Manager Console \u304c\u51fa\u3066\u304d\u3066\u5165\u529b\u3092\u4fc3\u3057\u3066\u3044\u308b\u3002\n\n```\nPM>\n```\n\n\u3058\u3083\u3042\u3001\u5165\u529b\u3057\u3066\u307f\u308b\u3002\n\n```\nPM> Install-Package RabbitMQ.Client -Version 4.1.1\nAttempting to gather dependencies information for package 'RabbitMQ.Client.4.1.1' with respect to project 'UsagiMQ', targeting '.NETFramework,Version=v4.5.2'\nAttempting to resolve dependencies for package 'RabbitMQ.Client.4.1.1' with DependencyBehavior 'Lowest'\nResolving actions to install package 'RabbitMQ.Client.4.1.1'\nResolved actions to install package 'RabbitMQ.Client.4.1.1'\nAdding package 'RabbitMQ.Client.4.1.1' to folder 'C:\\Users\\Takahashi\\Documents\\muzudho\\Shogi_Ubuntu\\UsagiMQ\\packages'\nAdded package 'RabbitMQ.Client.4.1.1' to folder 'C:\\Users\\Takahashi\\Documents\\muzudho\\Shogi_Ubuntu\\UsagiMQ\\packages'\nAdded package 'RabbitMQ.Client.4.1.1' to 'packages.config'\nSuccessfully installed 'RabbitMQ.Client 4.1.1' to UsagiMQ\n```\n\n**\u304a\u30fc\u3063\uff01**\n\n\u3058\u3083\u3042\u4eca\u3069\u304d\u306f\u3000\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3088\u308a\u3001NuGet \u3092\u4f7f\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u65b9\u304c\u3044\u3044\u306e\u304b\u3002\n\n\u3059\u308b\u3068\u3001C# \u8a00\u8a9e\u3067\n\n```\nusing RabbitMQ.Client;\n```\n\n\u3068\u66f8\u3044\u3066\u3082\u30a8\u30e9\u30fc\u306b\u306a\u3089\u306a\u304f\u306a\u3063\u305f\u3002\n\n# RabbitMQ \u306e\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u307f\u3088\u3046\u3002\n\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-dotnet.html\n\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30b3\u30d4\u30da\u5b9f\u884c\u3059\u308b\u3068 \u6587\u5b57\u306e\u3084\u308a\u3068\u308a\u3092\u3084\u3063\u3066\u308b\u307f\u305f\u3044\u306a\u3093\u3060\u304c\u3001\n\u524d\u56de\u306e\u8a18\u4e8b\u307f\u305f\u3044\u306b\u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u306e\u7ba1\u7406\u300d\u304b\u3089\u3044\u3051\u308b\u300c\u30e1\u30c3\u30bb\u30fc\u30b8 \u30ad\u30e5\u30fc\u300d\u306e\u4e2d\u306b\u306f\u306a\u3093\u306b\u3082\u5165\u3063\u3066\u306a\u3044\u3088\u3046\u3067\u3001\u9001\u4fe1\u3068\u53d7\u4fe1\u306e\uff12\u3064\u304c\u306a\u3044\u3068\u3000\u3061\u3083\u3093\u3068\u3000\u3084\u308a\u3068\u308a\u3057\u3066\u308b\u306e\u304b\u30c6\u30b9\u30c8\u3067\u304d\u306a\u3044\u3093\u3060\u306a\u3002\n\n\u3058\u3083\u3042\u3001\u3053\u308c\u5225\u306b\uff12\u3064\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u3057\u306a\u304f\u3066\u3082\u3000\uff11\u3064\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u307e\u3068\u3081\u3089\u308c\u305d\u3046\u306a\u306e\u3067\u3001\u307e\u3068\u3081\u3066\u307f\u308b\u304b\u3002\n\n\u9577\u304f\u306a\u3063\u305f\u304c\u3001\u3053\u308c\u3067\u3044\u3051\u305f\u3002\n\n```C#\nusing RabbitMQ.Client;\nusing RabbitMQ.Client.Events;\nusing System;\nusing System.Text;\n\nnamespace UsagiMQ\n{\n    class Program\n    {\n        public const string\n            HOST_NAME = \"localhost\",\n            QUEUE_NAME = \"hello\";\n\n        static void Main(string[] args)\n        {\n            for (;;)\n            {\n                Console.WriteLine(@\"\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\");\n\n                int category = 0;\n                for (;;)\n                {\n                    string line = Console.ReadLine();\n                    switch (line)\n                    {\n                        case \"1\": category = 1; goto gt_EndLoop1;\n                        case \"2\": category = 2; goto gt_EndLoop1;\n                        case \"quit\": goto gt_Quit;\n                        default: break;\n                    }\n                }\n                gt_EndLoop1:\n                ;\n\n                switch (category)\n                {\n                    case 1:\n                        {\n                            Console.WriteLine(@\"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066[Enter]\u30ad\u30fc\u3092\u62bc\u305b\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\");\n                            // \"Hello World!\" \u306a\u3069\u3092\u5165\u529b\n                            string line = Console.ReadLine();\n                            Send(line);\n                        }\n                        break;\n                    case 2: Receive(); break;\n                }\n            }\n            gt_Quit:\n            ;\n        }\n\n        static void Send(string message)\n        {\n            var factory = new ConnectionFactory() { HostName = HOST_NAME };\n            using (var connection = factory.CreateConnection())\n            {\n                using (var channel = connection.CreateModel())\n                {\n                    channel.QueueDeclare(queue: QUEUE_NAME,\n                                         durable: false,\n                                         exclusive: false,\n                                         autoDelete: false,\n                                         arguments: null);\n\n                    var body = Encoding.UTF8.GetBytes(message);\n\n                    channel.BasicPublish(exchange: \"\",\n                                         routingKey: QUEUE_NAME,\n                                         basicProperties: null,\n                                         body: body);\n                    Console.WriteLine(\" Sent(^q^) {0}\", message);\n                }\n            }\n\n            Console.WriteLine(\" Press [enter] to menu.\");\n            Console.ReadLine();\n        }\n\n        static void Receive()\n        {\n            var factory = new ConnectionFactory() { HostName = HOST_NAME };\n            using (var connection = factory.CreateConnection())\n            {\n                using (var channel = connection.CreateModel())\n                {\n                    channel.QueueDeclare(queue: QUEUE_NAME,\n                                         durable: false,\n                                         exclusive: false,\n                                         autoDelete: false,\n                                         arguments: null);\n\n                    var consumer = new EventingBasicConsumer(channel);\n                    // \u53d7\u4fe1\u3067\u304d\u305f\u3068\u304d\u306b\u5272\u308a\u8fbc\u3093\u3067\u304f\u308b\u51e6\u7406\n                    consumer.Received += (model, ea) =>\n                    {\n                        var body = ea.Body;\n                        var message = Encoding.UTF8.GetString(body);\n                        Console.WriteLine(\" [interrupt!] Received(^q^) {0}\", message);\n                    };\n                    channel.BasicConsume(queue: QUEUE_NAME,\n                                         noAck: true,\n                                         consumer: consumer);\n\n                    Console.WriteLine(\" Please, wait receiving... Or Press [enter] to menu.\");\n                    Console.ReadLine();\n                }\n            }\n        }\n\n    }\n}\n```\n\n\u3053\u308c\u3001Ubuntu\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\u3000\u3084\u3063\u3066\u307f\u3088\u3046\u3002\n\n\u3058\u3083\u3042\u3001\u524d\u306b\u66f8\u3044\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u6368\u3066\u308b\u305c\u3002\n\n```\nrm MsgQueue.cs\nnano MsgQueue.cs\n```\n\n```\nmcs MsgQueue.cs\nMsgQueue.cs(1,7): error CS0246: The type or namespace name `RabbitMQ' could not be found. Are you missing an assembly reference?\nMsgQueue.cs(2,7): error CS0246: The type or namespace name `RabbitMQ' could not be found. Are you missing an assembly reference?\nCompilation failed: 2 error(s), 0 warnings\n```\n\n\u3058\u3083\u3042\u3001\u3053\u3046\u304b\u3002\n\n```\nmcs /reference:RabbitMQ.Client.dll MsgQueue.cs\nmcs /reference:RabbitMQ.C             lient.dll MsgQueue.cs\nMsgQueue.cs(63,29): error CS1501: No overload for method `QueueDeclare' takes `5             ' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(90,29): error CS1501: No overload for method `QueueDeclare' takes `5             ' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(96,36): error CS1729: The type `RabbitMQ.Client.Events.EventingBasic             Consumer' does not contain a constructor that takes `1' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(105,42): error CS1739: The best overloaded method match for `RabbitM             Q.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Cl             ient.IBasicConsumer)' does not contain a parameter named `noAck'\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(104,29): error CS1502: The best overloaded method match for `RabbitM             Q.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Cl             ient.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previou             s error)\nMsgQueue.cs(105,49): error CS1503: Argument `#2' cannot convert `bool' expressio             n to type `System.Collections.IDictionary'\nCompilation failed: 6 error(s), 0 warnings\n```\n\n\u306a\u3093\u304b RabbitMQ.Client.dll \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u304b\u53e4\u3044\u3068\u3044\u3046\u8a71\u3057\u3060\u308d\u3046\u304b\u3002\n\n# RabbitMQ.Client.dll \u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u306e\u65b9\u6cd5\u3092\u8abf\u3079\u3066\u307f\u3088\u3046\u3002\n\n\u300cInstalling on Debian / Ubuntu\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/install-debian.html\n\n\u306a\u3093\u3060\u304b\u5206\u304b\u3089\u3093\u304c\u3000\u66f8\u304b\u308c\u3066\u3044\u308b\u30b3\u30de\u30f3\u30c9\u6253\u3063\u3066\u3044\u3053\u3046\u3002\n\n```\necho 'deb http://www.rabbitmq.com/debian/ testing main' | sudo tee /etc/apt/sources.list.d/rabbitmq.list\ndeb http://www.rabbitmq.com/debian/ testing main\n```\n\n\u306a\u3093\u304b URL \u306e\u3088\u3046\u306a\u3082\u306e\u304c\u51fa\u3066\u304d\u305f\u3002\n\n```\nsudo apt-get update\n```\n\n\u306a\u3093\u304b\u52d5\u3044\u305f\u304c\u3001\u3046\u307e\u304f\u3044\u3063\u305f\u306e\u304b\u3001\u4f55\u3082\u8d77\u3053\u3089\u306a\u304b\u3063\u305f\u306e\u304b\u3001\u30a8\u30e9\u30fc\u306a\u306e\u304b\u306a\u3093\u306a\u306e\u304b\u3000\u308f\u304b\u3089\u3093\u3002\n\n```\nsudo apt-get install rabbitmq-server\n```\n\n\u306a\u3093\u304b\u9032\u3093\u3067\u7d42\u308f\u3063\u305f\u3002\n\n\u306a\u3093\u304b\u8ffd\u52a0\u3059\u308b\u3089\u3057\u3044\u3002\n\n```\ngpg --keyserver pgpkeys.mit.edu --recv-key 7638D0442B90D010\n```\n\n```\ngpg -a --export 7638D0442B90D010 | sudo apt-key add -\nOK\n```\n\n```\necho 'deb http://ftp.debian.org/debian wheezy-backports main' | sudo tee /etc/apt/sources.list.d/wheezy_backports.list\ndeb http://ftp.debian.org/debian wheezy-backports main\n```\n\n\u307e\u3060\u306a\u3093\u304b\u8ffd\u52a0\u3059\u308b\u3089\u3057\u3044\u3002\n\n```\nwget -O- https://packages.erlang-solutions.com/debian/erlang_solutions.asc | sudo apt-key add -\nOK\n```\n\n```\necho 'deb https://packages.erlang-solutions.com/debian wheezy contrib' | sudo tee /etc/apt/sources.list.d/esl.list\ndeb https://packages.erlang-solutions.com/debian wheezy contrib\n```\n\n\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3060\u3002\n\n```\nsudo apt-get update\n```\n\n```\nsudo apt-get install init-system-helpers socat esl-erlang\n```\n\n\u306a\u3093\u304b\u3044\u3063\u3071\u3044\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u3002\u6b21\u306f RabbitMQ \u306e\u4f55\u304b\u3002\n\n```\nwget -O- https://www.rabbitmq.com/rabbitmq-release-signing-key.asc | sudo apt-key add -\nOK\n```\n\n```\necho 'deb http://www.rabbitmq.com/debian/ testing main' | sudo tee /etc/apt/sources.list.d/rabbitmq.list\ndeb http://www.rabbitmq.com/debian/ testing main\n```\n\n```\nsudo apt-get update\n```\n\n```\nsudo apt-get install rabbitmq-server\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n```\n\n\u3053\u308c\u3067\u3044\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\n\n```\nmcs /reference:RabbitMQ.Client.dll MsgQueue.cs\nMsgQueue.cs(63,29): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(90,29): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(96,36): error CS1729: The type `RabbitMQ.Client.Events.EventingBasicConsumer' does not contain a constructor that takes `1' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(105,42): error CS1739: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' does not contain a parameter named `noAck'\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(104,29): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(105,49): error CS1503: Argument `#2' cannot convert `bool' expression to type `System.Collections.IDictionary'\nCompilation failed: 6 error(s), 0 warnings\n```\n\n\u3046\u30fc\u3093\u3001\u5f15\u6570\u304c5\u500b\u306eQueueDeclare\u30e1\u30bd\u30c3\u30c9\u304c\u7121\u3044\u3068\u304b\u3001\u4f55\u3060\u3002\n\n# \u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u306f\u5f15\u6570\u304c\uff15\u500b\n\n\u300cError: \u201cNo OverLoad For Method 'ExecuteInsert' takes '5' argument\u201d [closed]\u300d (stack overflow)\nhttp://stackoverflow.com/questions/14638880/error-no-overload-for-method-executeinsert-takes-5-argument\n\n\u3058\u3083\u3042\u3001Windows 10 \u3067\u306f\u554f\u984c\u306a\u304f\u52d5\u304f\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u3053\u3053\u304c\u30c0\u30e1\u306a\u306e\u304b\uff1f\n\n```\n                    channel.QueueDeclare(queue: QUEUE_NAME,\n                                         durable: false,\n                                         exclusive: false,\n                                         autoDelete: false,\n                                         arguments: null);\n```\n\n\u3058\u3083\u3042\u3000\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u2026\u2026\u3002\n\u30a8\u30e9\u30fc\u306e\u5225\u306e\u90e8\u5206\u3082\u898b\u3066\u307f\u3088\u3046\u3002\n\n```\nRabbitMQ.Client.dll (Location of the symbol related to previous error)\n```\n\n```\nmono -V\nMono JIT compiler version 4.2.1 (Debian 4.2.1.102+dfsg2-7ubuntu4)\nCopyright (C) 2002-2014 Novell, Inc, Xamarin Inc and Contributors. www.mono-project.com\n        TLS:           __thread\n        SIGSEGV:       altstack\n        Notifications: epoll\n        Architecture:  amd64\n        Disabled:      none\n        Misc:          softdebug\n        LLVM:          supported, not enabled.\n        GC:            sgen\n```\n\n# Ubuntu \u3067 NuGet \u3063\u3066\u4f7f\u3048\u308b\u306e\uff1f\n\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-dotnet.html\n\nC#\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u306f mcs \u3092\u4f7f\u3063\u3066\u3044\u305f\u304c\u3001csc \u306e\u65b9\u304c\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\n\n\u300cmcs\u306e\u6700\u65b0\u60c5\u5831\u3068\u4eca\u5f8c\u306e\u5c55\u671b\u306b\u3064\u3044\u3066\u300d (\u3082\u306e\u304c\u305f\u308a)\nhttp://atsushieno.hatenablog.com/entry/2014/12/11/000240\n\ncsc \u304c\u30de\u30a4\u30af\u30ed\u30bd\u30d5\u30c8\u306eC#\u30b3\u30f3\u30d1\u30a4\u30e9\u3067\u3001\nmcs \u304cmono \u306eC#\u30b3\u30f3\u30d1\u30a4\u30e9\u3060\u308d\u3046\u304b\u3002\n\nUbuntu\u306bcsc \u3092\u5165\u308c\u308c\u308b\u3060\u308d\u3046\u304b\u3002\n\n\u300cUbuntuServer\u306b\u3001Mono\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u300d (Qiita)\nhttp://qiita.com/takanemu/items/52888d324df3d367d4c1\n\nmono-csc \u3068\u3044\u3046\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\n\n```\nmono-csc /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(61,21): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(76,21): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(78,46): error CS1729: The type `RabbitMQ.Client.Events.EventingBasicConsumer' does not contain a constructor that takes `1' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(86,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(86,46): error CS1503: Argument `#2' cannot convert `bool' expression to type `System.Collections.IDictionary'\nCompilation failed: 5 error(s), 0 warnings\n```\n\n\u3042\u308b\u3088\u3046\u3060\u304c\u30a8\u30e9\u30fc\u3060\u3002 QueueDeclare \u306e\u4ed5\u69d8\u306f\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u306e\u304b\uff1f\n\n\u300cQueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary) Method\u300d (http://docs.spring.io)\nhttp://docs.spring.io/spring-amqp-net/docs/1.0.x/api/html/Spring.Messaging.Amqp.Rabbit~Spring.Messaging.Amqp.Rabbit.Connection.CachedModel~QueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary).html\n\nUbuntu\u306e RabbitMQ \u304c\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306a\u3093\u3060\u308d\u3046\u304b\u3002\u3055\u3063\u304d\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u305f\u3068\u601d\u3046\u3093\u3060\u304c\u3002\n\n# RabbitMQ \u306e\u505c\u6b62\u3068\u8d77\u52d5\n\n\u300cRabbitMQ\u3092\u8a66\u3057\u3066\u307f\u308b\u300d (shinodogg.com)\nhttps://shinodogg.com/?p=4641\n\n```\nrabbitmqctl stop\nStopping and halting node 'rabbit@tk2-217-18401' ...\nError: unable to connect to node \uff5e\u4ee5\u4e0b\u7565\uff5e\n```\n\n\u505c\u6b62\u3057\u3088\u3046\u3068\u3057\u305f\u3089\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002\n\n```\n rabbitmq-server\n\n              RabbitMQ 3.6.6. Copyright (C) 2007-2016 Pivotal Software, Inc.\n  ##  ##      Licensed under the MPL.  See http://www.rabbitmq.com/\n  ##  ##\n  ##########  Logs: /var/log/rabbitmq/\uff5e\u7565\uff5e\n  ######  ##        /var/log/rabbitmq/\uff5e\u7565\uff5e\n  ##########\n              Starting broker...\n completed with 0 plugins.\n```\n\n\u8d77\u52d5\u306f\u3046\u307e\u304f\u3044\u3063\u305f\u3093\u3060\u308d\u3046\u304b\uff1f\n\n[Ctrl]+[Z] \u3067\u6b62\u3081\u3066\n\n```\n[1]+  Stopped                 rabbitmq-server\n```\n\n```\nbg 1\n[1]+ rabbitmq-server &\n```\n\n\u3057\u3066\u3001\n\n```\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(61,21): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(76,21): error CS1501: No overload for method `QueueDeclare' takes `5' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(78,46): error CS1729: The type `RabbitMQ.Client.Events.EventingBasicConsumer' does not contain a constructor that takes `1' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(86,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(86,46): error CS1503: Argument `#2' cannot convert `bool' expression to type `System.Collections.IDictionary'\nCompilation failed: 5 error(s), 0 warnings\n```\n\n\u95a2\u4fc2\u7121\u3044\u306e\u304b\u3002\n\n\u300c[RabbitMQ]RabbitMQ\u3092Ubuntu\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u30b5\u30f3\u30d7\u30eb\u3068\u7ba1\u7406\u753b\u9762\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u300d (\u30ba\u30c3\u30ad\u30fc\u30cb\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u5b9f\u9a13\u5834)\nhttp://zuqqhi2.com/install-rabbitmq\n\n```\nsudo /etc/init.d/rabbitmq-server status\n\u25cf rabbitmq-server.service - RabbitMQ broker\n   Loaded: loaded (/lib/systemd/system/rabbitmq-server.service; enabled; vendor preset: enabled)\n   Active: inactive (dead) since Mon 2017-03-06 21:27:42 JST; 1h 16min ago\n Main PID: 23830 (code=killed, signal=TERM)\n   Status: \"Exited.\"\n\nMar 06 21:20:39 tk2-217-18401 rabbitmq-server[23830]:   ######  ##        /var/log/rabbitmq/\u2605\uff5e\u7565\uff5e.log\nMar 06 21:20:39 tk2-217-18401 rabbitmq-server[23830]:   ##########\nMar 06 21:20:39 tk2-217-18401 rabbitmq-server[23830]:               Starting broker...\nMar 06 21:20:41 tk2-217-18401 rabbitmq-server[23830]: systemd unit for activation check: \"rabbitmq-server.service\"\nMar 06 21:20:41 tk2-217-18401 systemd[1]: Started RabbitMQ broker.\nMar 06 21:20:42 tk2-217-18401 rabbitmq-server[23830]:  completed with 0 plugins.\nMar 06 21:27:40 tk2-217-18401 systemd[1]: Stopping RabbitMQ broker...\nMar 06 21:27:42 tk2-217-18401 rabbitmqctl[24821]: Stopping and halting node 'rabbit@\u2605\uff5e\u7565\uff5e' ...\nMar 06 21:27:42 tk2-217-18401 rabbitmq-server[23830]: Gracefully halting Erlang VM\nMar 06 21:27:42 tk2-217-18401 systemd[1]: Stopped RabbitMQ broker.\n```\n\n\u3055\u3063\u3071\u308a\u308f\u304b\u3089\u3093\u3002\n\n\u300cVagrant\u4e0a\u306eUbuntu\u306bRabbitMQ\u3092\u305f\u3066\u3066MQTT\u3092\u304a\u8a66\u3057\u300d (braitom's Tech Memo)\nhttp://braitom.hatenablog.com/entry/2015/05/16/004515\n\n```\nsudo /etc/init.d/rabbitmq-server restart\n[....] Restarting rabbitmq-server (via systemctl): rabbitmq-server.serviceGracefully halting Erlang VM\nJob for rabbitmq-server.service failed because the control process exited with error code. See \"systemctl status rabbitmq-server.service\" and \"journalctl -xe\" for details.\n failed!\n```\n\n\u3053\u308c\u3082\u3088\u304f\u308f\u304b\u3089\u3093\u304c\u30a8\u30e9\u30fc\u3002\n\n# \u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u4ee5\u5916\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3060\u308d\u3046\u304b\uff1f\n\n\u63a5\u7d9a\u306e\u78ba\u7acb\u3060\u3051\u3084\u308d\u3046\u3068\u3057\u305f\u3089\n\n```\nSystem.Net.Sockets.SocketException: Connection refused\n```\n\n\u3060\u3057\u3001\n\n```\nsudo rabbitmq-server\n```\n\n\u3092\u6253\u3061\u8fbc\u3080\u3068\u6b62\u307e\u3063\u3066\u3057\u307e\u3046\u3002\u305f\u3060\u3001[Ctrl]+[Z] \u304b\u3089\n\n```\nbg 1\n```\n\n\u3068\u3057\u3066\u518d\u5ea6\n\n```\n./MsgQueue.exe\n```\n\n\u3068\u3059\u308b\u3068\u3001\u63a5\u7d9a\u306e\u78ba\u7acb\u307e\u3067\u306f\u3044\u3051\u308b\u3088\u3046\u3060\u3002\n\n# \u3058\u3083\u3042\u3001 QueueDeclare \u306e\u5f15\u6570\u306f\u3044\u304f\u3064\u3060\u3063\u305f\u3089\u3044\u3044\u306e\u304b\uff1f\n\n\u5225\u306e\u89e3\u6cd5\u3092\u63a2\u3059\u6642\u9593\u3068\u3001\u308f\u305f\u3057\u306e\u30d0\u30b0\u63a2\u3057\u80fd\u529b\u3067\u62bc\u3057\u901a\u3059\u306e\u3068\u3069\u3063\u3061\u304c\u901f\u3044\u3060\u308d\u3046\u304b\u3002\n\u3058\u3083\u3042 \u8a66\u3057\u306b 7\u500b\u306e\u5f15\u6570\u3067\u3084\u3063\u3066\u307f\u3088\u3046\u3002\n\n```\nroot@tk2-217-18401:/home/csg10/shogi/ukamuse_sdt4/bin# nano MsgQueue.cs\nroot@tk2-217-18401:/home/csg10/shogi/ukamuse_sdt4/bin# mcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(64,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.QueueDeclare(string, bool, bool, bool, bool, bool, System.Collections.IDictionary)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(64,67): error CS1503: Argument `#5' cannot convert `null' expression to type `bool'\nCompilation failed: 2 error(s), 0 warnings\n```\n\n\u95a2\u6570\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u304c\u3067\u3066\u304d\u3066\u304f\u308c\u305f\u3002\u5f15\u6570\u306f\u3001\n\n- string\n- bool\n- bool\n- bool\n- bool\n- bool\n- System.Collections.IDictionary\n\n\u306e\u3088\u3046\u3060\u3002\u3053\u308c\u306f\u3000\u3044\u3064\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e QueueDeclare \u306a\u3093\u3060\u308d\u3046\u304b\uff1f\n\n\u30cd\u30c3\u30c8\u4e0a\u306b\u843d\u3061\u3066\u3044\u308b Spring.Messaging.Amqp.Rabbit \u3067\u306f\u3001\n\n\u300cQueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary) Method\u300d (http://docs.spring.io)\nhttp://docs.spring.io/spring-amqp-net/docs/1.0.x/api/html/Spring.Messaging.Amqp.Rabbit~Spring.Messaging.Amqp.Rabbit.Connection.CachedModel~QueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary).html\n\n```\npublic string QueueDeclare( \n   string queue,\n   bool passive,\n   bool durable,\n   bool exclusive,\n   bool autoDelete,\n   bool nowait,\n   IDictionary arguments\n)\n```\n\n\u3067\u3001RabbitMQ \u3067\u306f\n\n```\nchannel.QueueDeclare(queue: \"hello\",\n                                 durable: false,\n                                 exclusive: false,\n                                 autoDelete: false,\n                                 arguments: null);\n```\n\n\u306a\u306e\u3067\u3001\u3069\u3046\u3044\u3046\u3053\u3068\u306a\u306e\u304b\u3002\u7b2c2\u5f15\u6570 passive \u3068 \u7b2c6\u5f15\u6570 nowait \u306b\u9069\u5f53\u306b false \u3067\u3082\u5165\u308c\u3066\u304a\u3051\u3070\u3044\u3044\u306e\u304b\uff1f\n\n```\nnano MsgQueue.cs\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\n```\n\n\u5f15\u6570\uff17\u3064\u306b\u3057\u305f\u3089\u3000\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u901a\u3063\u305f\u3002\n\u5f15\u6570\u306e\u6570\u304c\u7570\u306a\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u307e\u3060\u3042\u308b\u3002\n\n```\nEventingBasicConsumer consumer = new EventingBasicConsumer(channel);\n```\n\n\u3053\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3002\u5f15\u6570\u304c\uff11\u3064\u3067\u306f\u306a\u3044\u3089\u3057\u3044\u306e\u3060\u3002\u3058\u3083\u3042 null \u3067\u3082\u8ffd\u52a0\u3057\u3066\u5f15\u6570\u3092\uff12\u3064\u306b\u3057\u3066\u307f\u308b\u3002\n\n```\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(87,45): error CS1729: The type `RabbitMQ.Client.Events.EventingBasicConsumer' does not contain a constructor that takes `2' arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nCompilation failed: 1 error(s), 0 warnings\n```\n\n\u307e\u305a\u306f\u3000\u5f15\u6570\u306e\u6570\u3092\u5f53\u3066\u306a\u3044\u3068\u3000\u95a2\u6570\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306f\u8868\u793a\u3055\u308c\u306a\u3044\u306e\u304b\u3002\n\u3058\u3083\u3042\u3000\u81ea\u7136\u6570\u306e\u3088\u3046\u306b\u4f38\u3073\u3066\u3044\u3053\u3046\u3002\n\n\u5f15\u6570\u306e\u6570\u304c 0 \u306e\u5834\u5408\n\n```\n mcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(87,34): warning CS0219: The variable `consumer' is assigned but its value is never used\nCompilation succeeded - 1 warning(s)\n```\n\n\u3044\u3051\u308b\u306e\u304b\u3002\n\n\u53e4\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u308b\u3068\u3002\n\n\u300cpublic class EventingBasicConsumer\u300d (www.rabbitmq.com)\nhttps://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.Events.EventingBasicConsumer.html\n\n\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u30fc\u306e\u5f15\u6570\u306f 0 \u500b\u3060\u304c\u3001\u3058\u3083\u3042\u30c1\u30e3\u30f3\u30cd\u30eb\u306f\u3069\u3046\u3084\u3063\u3066\u6e21\u3059\u306e\u304b\uff1f\n\n\u3068\u308a\u3042\u3048\u305a\u5148\u306b\u9032\u3080\u3002 Ubuntu\u306eRabbitMQ \u306f v1.4 \u306a\u306e\u3060\u308d\u3046\u304b\uff1f\n\n```\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(97,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(97,46): error CS1503: Argument `#2' cannot convert `bool' expression to type `System.Collections.IDictionary'\nCompilation failed: 2 error(s), 0 warnings\n```\n\nBasicConsume \u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u304a\u304b\u3057\u3044\u3089\u3057\u3044\u3002\n\nv1.4\u3067\u306f\u3001IModel\u306eBasicConsume \u306f\u3044\u304f\u3064\u304b\u7a2e\u985e\u304c\u3042\u308b\u3002\n\n\u300cBasicConsume\u300d (www.rabbitmq.com)\nhttps://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.IModel.html#method-M:RabbitMQ.Client.IModel.BasicConsume(System.UInt16,System.String,System.Boolean,System.Collections.IDictionary,RabbitMQ.Client.IBasicConsumer)\n\nRabbitMQ \u3067\u306f\n\n```\nchannel.BasicConsume(queue: \"hello\",\n                                 noAck: true,\n                                 consumer: consumer);\n```\n\n\u3060\u304c\u3001v1.4\u3067\u306f\n\n```\nstring BasicConsume(ushort ticket, string queue, bool noAck, IDictionary filter, IBasicConsumer consumer)\n```\n\n\u3053\u306e\u5f62\u304c\u8fd1\u3044\u3060\u308d\u3046\u304b\u3002\u305d\u3053\u3067 \u7b2c1\u5f15\u6570\u306b\u306f 0 \u3067\u3082\u3001\u7b2c4\u5f15\u6570\u306b\u306f null \u3067\u3082\u5165\u308c\u3066\u304a\u304f\u3002\n\n```\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\nMsgQueue.cs(99,21): error CS1502: The best overloaded method match for `RabbitMQ.Client.IModel.BasicConsume(string, bool, string, System.Collections.IDictionary, RabbitMQ.Client.IBasicConsumer)' has some invalid arguments\n/usr/lib/mono/4.5/RabbitMQ.Client.dll (Location of the symbol related to previous error)\nMsgQueue.cs(99,35): error CS1503: Argument `#1' cannot convert `int' expression to type `string'\nCompilation failed: 2 error(s), 0 warnings\n```\n\n\u601d\u3063\u3066\u305f\u306e\u3068\u9055\u3046\u3088\u3046\u3060\u3002\n- string\n- bool\n- string\n- System.Collections.IDictionary\n- RabbitMQ.Client.IBasicConsumer\n\n\u3053\u308c\u306f\u306a\u3093\u3060\u308d\u3046\u304b\u3002\u4e26\u3073\u304c\u4f3c\u3066\u3044\u308b\u306e\u306f\u3053\u308c\u3060\u3002\n\n```\nstring BasicConsume(ushort ticket, string queue, bool noAck, string consumerTag, IDictionary filter, IBasicConsumer consumer)\n```\n\n\u6700\u521d\u306e ticket \u304c\u7121\u3044\u3068\u3059\u308c\u3070\u3001consumerTag \u306b\u7a7a\u6587\u5b57\u5217\u3001filter \u306b null \u3067\u3082\u5165\u308c\u3066\u304a\u3051\u3070\u3044\u3044\u3060\u308d\u3046\u304b\uff1f\n\n```\nmcs /r:\"RabbitMQ.Client.dll\" MsgQueue.cs\n```\n\n\u3072\u3068\u307e\u305a\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u901a\u3063\u305f\u3002\n\n# \u5b9f\u884c\u3057\u3066\u307f\u3088\u3046\n\n```\n./MsgQueue.exe\n\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\n1\n\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066[Enter]\u30ad\u30fc\u3092\u62bc\u305b\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\nAlphaBeta\n Sent(^q^) AlphaBeta\n Press [enter] to menu.\n\n\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\n2\n Please, wait receiving... Or Press [enter] to menu.\n [interrupt!] Received(^q^) AlphaBeta\n\n\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\nquit\n```\n\n\u52d5\u3044\u305f\u3088\u3046\u3060\u3002\u6700\u5f8c\u306e quit \u3067\u30eb\u30fc\u30d7\u3092\u629c\u3051\u308c\u306a\u3044\u306e\u306f\u3000\u306a\u3093\u3067\u304b\u5206\u304b\u3089\u306a\u3044\u304c\u2026\u2026\u3002\n\u3053\u306e\u3068\u304d\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u306f\n\n```\njobs\n[1]+  Running                 sudo rabbitmq-server &\n```\n\nsudo rabbitmq-server &\n\u304c\u52d5\u3044\u3066\u3044\u305f\u3002\u95a2\u4fc2\u3042\u308b\u3060\u308d\u3046\u304b\u3002\n\n\u3058\u3083\u3042\u3001**Ubuntu \u306b\u5165\u3063\u3066\u3044\u308b RabbitMQ \u306f v1.4 \u306b\u4f3c\u3066\u3061\u3087\u3063\u3068\u9055\u3046\u4f55\u304b** \u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u3063\u305f\u3002\n\u306a\u305c\u30b5\u30a4\u30c8\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u6700\u65b0\u7248\u3068\u4e00\u81f4\u3057\u306a\u3044\u306e\u304b\uff1f\n\n\u300cVerify version of rabbitmq\u300d (stack overflow)\nhttp://stackoverflow.com/questions/7593269/verify-version-of-rabbitmq\n\nRabbitMQ \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u3066\u307f\u3088\u3046\u3002\n\n```\nsudo rabbitmqctl status\n```\n\n```\nStatus of node 'rabbit@\u2605\uff5e\u7565\uff5e' ...\n[{pid,28875},\n {running_applications,[{rabbit,\"RabbitMQ\",\"3.6.6\"},\n                        {os_mon,\"CPO  CXC 138 46\",\"2.4.1\"},\n                        {ranch,\"Socket acceptor pool for TCP protocols.\",\n                               \"1.2.1\"},\n                        {rabbit_common,[],\"3.6.6\"},\n                        {xmerl,\"XML parser\",\"1.3.12\"},\n                        {mnesia,\"MNESIA  CXC 138 12\",\"4.14.1\"},\n                        {sasl,\"SASL  CXC 138 11\",\"3.0.1\"},\n                        {stdlib,\"ERTS  CXC 138 10\",\"3.1\"},\n                        {kernel,\"ERTS  CXC 138 10\",\"5.1\"}]},\n {os,{unix,linux}},\n {erlang_version,\"Erlang/OTP 19 [erts-8.1] [source-e7be63d] [64-bit] [smp:2:2] [async-threads:64] [hipe] [kernel-poll:true]\\n\"},\n {memory,[{total,40106344},\n          {connection_readers,0},\n          {connection_writers,0},\n          {connection_channels,0},\n          {connection_other,0},\n          {queue_procs,14920},\n          {queue_slave_procs,0},\n          {plugins,0},\n          {other_proc,13396952},\n          {mnesia,62008},\n          {mgmt_db,0},\n          {msg_index,49040},\n          {other_ets,959976},\n          {binary,12296},\n          {code,17800225},\n          {atom,752561},\n          {other_system,7058366}]},\n {alarms,[]},\n {listeners,[{clustering,25672,\"::\"},{amqp,5672,\"::\"}]},\n {vm_memory_high_watermark,0.4},\n {vm_memory_limit,416869580},\n {disk_free_limit,50000000},\n {disk_free,19432972288},\n {file_descriptors,[{total_limit,924},\n                    {total_used,2},\n                    {sockets_limit,829},\n                    {sockets_used,0}]},\n {processes,[{limit,1048576},{used,141}]},\n {run_queue,0},\n {uptime,3036},\n {kernel,{net_ticktime,60}}]\n```\n\n3.6.6 \u306e\u3088\u3046\u3060\u3002\u30b5\u30a4\u30c8\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bRabbitMQ\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u3044\u304f\u3064\u3060\u308d\u3046\u304b\uff1f\n\n\u300cDownloading and Installing RabbitMQ\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/download.html\n\n3.6.6 \u306e\u3088\u3046\u3060\u3002**\u3046\u3093\uff5e\uff5e\uff5e\uff5e\uff1f\uff1f**\n\n\u3068\u308a\u3042\u3048\u305a\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u518d\u63b2\u3057\u3066\u304a\u304f\u3002\n\n```\nusing RabbitMQ.Client;\nusing RabbitMQ.Client.Events;\nusing System;\nusing System.Text;\n\nnamespace UsagiMQ\n{\n    /// <summary>\n    /// \u53c2\u7167 : \u300cQueueDeclare\u300d http://docs.spring.io/spring-amqp-net/docs/1.0.x/api/html/Spring.Messaging.Amqp.Rabbit~Spring.Messaging.Amqp.Rabbit.Connection.CachedModel~QueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary).html\n    /// \u53c2\u7167 : \u300cEventingBasicConsumer\u300d https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.Events.EventingBasicConsumer.html\n    /// \u53c2\u7167 : \u300cBasicConsume\u300d https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.IModel.html#method-M:RabbitMQ.Client.IModel.BasicConsume(System.UInt16,System.String,System.Boolean,System.Collections.IDictionary,RabbitMQ.Client.IBasicConsumer)\n    /// </summary>\n    class Program\n    {\n        public const string\n            HOST_NAME = \"localhost\",\n            QUEUE_NAME = \"hello\";\n\n        static void Main(string[] args)\n        {\n            for (;;)\n            {\n                Console.WriteLine(@\"\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\");\n\n                int category = 0;\n                for (;;)\n                {\n                    string line = Console.ReadLine();\n                    switch (line)\n                    {\n                        case \"1\": category = 1; goto gt_EndLoop1;\n                        case \"2\": category = 2; goto gt_EndLoop1;\n                        case \"quit\": goto gt_Quit;\n                        default: break;\n                    }\n                }\n                gt_EndLoop1:\n                ;\n\n                switch (category)\n                {\n                    case 1:\n                        {\n                            Console.WriteLine(@\"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066[Enter]\u30ad\u30fc\u3092\u62bc\u305b\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\");\n                            // \"Hello World!\" \u306a\u3069\u3092\u5165\u529b\n                            string line = Console.ReadLine();\n                            Send(line);\n                        }\n                        break;\n                    case 2: Receive(); break;\n                }\n            }\n            gt_Quit:\n            ;\n        }\n\n        static void Send(string message)\n        {\n            ConnectionFactory factory = new ConnectionFactory() { HostName = HOST_NAME };\n            IConnection connection = factory.CreateConnection();\n            IModel channel = connection.CreateModel();\n\n            channel.QueueDeclare(QUEUE_NAME, false, false, false, null);\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b Spring.Messaging.Amqp.Rabbit \u306e\u5f15\u6570 7 \u3064\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            // channel.QueueDeclare(QUEUE_NAME, false, false, false, false, false, null);\n\n            byte[] body = Encoding.UTF8.GetBytes(message);\n\n            channel.BasicPublish(\"\", QUEUE_NAME, null, body);\n            Console.WriteLine(\" Sent(^q^) {0}\", message);\n            Console.WriteLine(\" Press [enter] to menu.\");\n            Console.ReadLine();\n        }\n\n        static void Receive()\n        {\n            ConnectionFactory factory = new ConnectionFactory() { HostName = HOST_NAME };\n            IConnection connection = factory.CreateConnection();\n            IModel channel = connection.CreateModel();\n\n            channel.QueueDeclare(QUEUE_NAME, false, false, false, null);\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b Spring.Messaging.Amqp.Rabbit \u306e\u5f15\u6570 7 \u3064\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            // channel.QueueDeclare(QUEUE_NAME, false, false, false, false, false, null);\n\n            EventingBasicConsumer consumer = new EventingBasicConsumer(channel);\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b v1.4.0 \u306e\u5f15\u6570\u304c 0 \u500b\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            //EventingBasicConsumer consumer = new EventingBasicConsumer();\n\n            // \u53d7\u4fe1\u3067\u304d\u305f\u3068\u304d\u306b\u5272\u308a\u8fbc\u3093\u3067\u304f\u308b\u51e6\u7406\n            consumer.Received += (model, ea) =>\n            {\n                byte[] body = ea.Body;\n                string message = Encoding.UTF8.GetString(body);\n                Console.WriteLine(\" [interrupt!] Received(^q^) {0}\", message);\n            };\n            channel.BasicConsume(QUEUE_NAME, true, consumer);\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b\u5f15\u6570\u304c 5 \u500b\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            // channel.BasicConsume( QUEUE_NAME, true, \"\", null, consumer);\n\n            Console.WriteLine(\" Please, wait receiving... Or Press [enter] to menu.\");\n            Console.ReadLine();\n        }\n\n    }\n}\n```\n\n# \u6b21\u306f PHP \u3067\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3059\u308b\u65b9\u6cd5\u3092\u8abf\u3079\u3088\u3046\n\n\u300c\u3010PHP\u3011\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc\u3092\u4f7f\u3046\u300d (\uff26\uff2f\uff32\u3000\uff33\uff25)\nhttp://forse.hatenablog.com/entry/2016/01/10/173518\n\n\u3058\u3083\u3042\u8a66\u3057\u306b\u30da\u30fc\u30b8\u3092\u4f5c\u3063\u3066\u307f\u308b\u304b\u3002\u3053\u3093\u306a\u3093\u3067\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\n\ntamesi2.php\n\n```\n<?php\n// \u9001\u4fe1\u3057\u305f\u3044\u6587\u5b57\u5217\n$msg = \"hello, world\";\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 600 \u306e8\u9032\u6570\u8868\u8a18\n$msgkey = msg_get_queue( 5963 ,0600 );\n    if( !msg_send( $msgkey ,12 ,$msg ,false ) )\n    {\n        echo \"\u9001\u4fe1\u5931\u6557\";\n    }\n    else\n    {\n        echo \"\u9001\u4fe1 \" . $msg;\n    }\n```\n\ntamesi3.php\n\n```\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\n$msgkey = msg_get_queue( 5963 );\nmsg_receive( $msgkey ,0 ,$msgtype ,4 ,$msg,false ,null ,$err );\necho \"msgtype {$msgtype} msg {$msg}\\n\"; \n```\n\n# \u3068\u3053\u308d\u3067\u30e1\u30e2\u3002\u3042\u3068\u3067\u8abf\u3079\u308b\n\n- forever\u30b3\u30de\u30f3\u30c9 \u5e38\u99d0\u3055\u305b\u308b\n- PHP\u3067expect \u30d7\u30ed\u30bb\u30b9\u3068\u5bfe\u8a71\u3059\u308b\n- \u300cps aux | grep apery\u300d\u3067 Apery\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u63a2\u305b\u308b\n\n# PHP\u306e\u7d9a\u304d\n\n\u9001\u4fe1\u306f\u3067\u304d\u305f\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u304c\u3001\u53d7\u4fe1\u3067\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d6\u308c\u3066\u306a\u3044\u306a\u3002\u66f8\u304d\u76f4\u3057\u3002\n\ntamesi2.php\n\n```\n<?php\n// \u9001\u4fe1\u3057\u305f\u3044\u6587\u5b57\u5217\n$msg = \"hello, world\";\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 600 \u306e8\u9032\u6570\u8868\u8a18\n$msgkey = msg_get_queue( 5963 ,0600 );\nif( msg_send( $msgkey ,12 ,$msg ,false ) )\n{\n    echo \"\u9001\u4fe1 \" . $msg;\n}\nelse\n{\n    echo \"\u9001\u4fe1\u5931\u6557\";\n}\n```\n\ntamesi3.php\n\n```\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\n$msgkey = msg_get_queue( 5963 );\nif( msg_receive( $msgkey ,0 ,$msgtype ,4 ,$data ,false ,null ,$err ) )\n{\n    echo \"msgtype {$msgtype} data {$data}\"; \n}\nelse\n{\n    echo \"\u9001\u4fe1\u5931\u6557 \" . $err;\n}\n```\n\n\u5b9f\u884c\u7d50\u679c tamesi3.php\n\n```\n\u9001\u4fe1\u5931\u6557 7\n```\n\n**\u3078\u3047\u3002**\n\n\u300cposix_strerror\u300d\u3000(PHP\u30de\u30cb\u30e5\u30a2\u30eb)\nhttp://php.net/manual/ja/function.posix-strerror.php\n\ntamesi3.php \u3092\u66f8\u304d\u76f4\u3057\u3002\n\n```\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\u3067 5963\n$msgkey = msg_get_queue( 5963 );\nif( msg_receive( $msgkey ,0 ,$msgtype ,4 ,$data ,false ,null ,$err ) )\n{\n    echo \"msgtype {$msgtype} data {$data}\"; \n}\nelse\n{\n    echo \"\u9001\u4fe1\u5931\u6557 \" . $err . \" \" . posix_strerror( $err );\n}\n```\n\n\u5b9f\u884c\u7d50\u679c tamesi3.php\n\n```\n\u9001\u4fe1\u5931\u6557 7 Argument list too long\n```\n\n\u306a\u3093\u306e\u3053\u3063\u3061\u3083\u3002\u3044\u3063\u305f\u3044\u4f55\u306e \u5f15\u6570\u306e\u30ea\u30b9\u30c8\u304b\u3002\n\nmsg_send \u306e\u7b2c2\u5f15\u6570\u306e\u6570\u5b57\u306f\u3000\u4f55\u3092\u5165\u308c\u305f\u3089\u3044\u3044\u306e\u304b\u2026\u2026\uff1f\n\n\u300c\u30e1\u30c3\u30bb\u30fc\u30b8\u30ad\u30e5\u30fc\u306e\u4f7f\u3044\u65b9(C\u3068PHP\u3067\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1)\u300d (Linux Install Memo)\nhttps://linux.yebisu.jp/memo/630\n\n**\u304a\u3063\uff01 \u5206\u304b\u3063\u305f\uff01** \n\n\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3067 msg_receive \u95a2\u6570\u306e\u7b2c4\u5f15\u6570\u304c 4 \u306a\u306e\u306f \"test\" \u306e\u6587\u5b57\u6570\u306b\u5408\u308f\u305b\u3066\u3044\u305f\u306e\u304b\u3002\n4096 \u3050\u3089\u3044\u5927\u304d\u304f\u3057\u3066\u304a\u3051\u3070\u3088\u304b\u3063\u305f\u306e\u304b\u3002\n\n\u66f8\u304d\u76f4\u3057\u3002\n\ntamesi2.php\n\n```\n<?php\n// \u9001\u4fe1\u3057\u305f\u3044\u6587\u5b57\u5217\n$msg = \"hello, world\";\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\n// \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 666 \u306e8\u9032\u6570\u8868\u8a18\n$Queue = msg_get_queue( $QKey ,0666 );\necho var_dump( msg_stat_queue( $Queue ) );\n\nif ( msg_queue_exists($QKey) )\n{\n    print $QKey . \"\u306f\u3042\u308b\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\uff56\\n\";\n}\nelse\n{\n    print $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n}\n\nif( msg_send( $Queue ,12 ,$msg ,false ) )\n{\n    echo \"\u9001\u4fe1 \" . $msg . \"\\n\";\n}\nelse\n{\n    echo \"\u9001\u4fe1\u5931\u6557\\n\";\n}\n```\n\ntamesi3.php\n\n```\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\n$Queue = msg_get_queue( $QKey );\necho var_dump( msg_stat_queue( $Queue ) );\n\nif ( msg_queue_exists($QKey) )\n{\n    print $QKey . \"\u306f\u3042\u308b\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\uff56\\n\";\n}\nelse\n{\n    print $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n}\n\nif( msg_receive( $Queue ,0 ,$msgtype ,4096 ,$msg ,false ,null ,$err ) )\n{\n    echo \"msgtype {$msgtype} msg {$msg}\\n\"; \n}\nelse\n{\n    var_dump( $err );\n    echo \"\u9001\u4fe1\u5931\u6557 \" . $err . \" \" . posix_strerror( $err ) . \"<br />\";\n    echo \"type = \" . $msgtype . \" msg = \" . $msg . \"<br />\\n\";\n}\n```\n\n## \u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u304c\u7a7a\u3063\u307d\u306e\u3068\u304d\u306b receive \u3059\u308b\u3068\u56fa\u307e\u3063\u3066\u3057\u307e\u3046\u306e\u3067\n\n\u300c[PHP]\u300c\u30d0\u30c3\u30c1\u306e\u4e8c\u91cd\u51e6\u7406\u306e\u9632\u304e\u65b9\u300dPHP\u5909\u300d (\u304c\u308b\u306e\u5065\u5fd8\u9332)\nhttp://d.hatena.ne.jp/gallu/20120306/p1\n\n\u30d5\u30e9\u30b0\u3092\u6307\u5b9a\u3057\u308d\u3068\u306e\u3053\u3068\u3089\u3057\u3044\u3002\n\n```\n$r = msg_receive($mh, 0, $msgtype, 0xffff, $message, true, MSG_IPC_NOWAIT, $error_code);\n                                                           ~~~~~~~~~~~~~~\n```\n\n\u3067\u3082 msg_receive \u306f\u300cNo message of desired type\u300d\u3068\u3044\u3046\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u3066\u304f\u308b\u3002\nRabbitMQ \u3092\u518d\u8d77\u52d5\u3067\u304d\u306a\u3044\u3082\u306e\u304b\u3002\n\n# RabbitMQ \u3092\u518d\u8d77\u52d5\n\n```\nrabbitmqctl stop\nStopping and halting node 'rabbit@\u2605\uff5e\u7565\uff5e' ...\nGracefully halting Erlang VM\n```\n\n```\njobs\n[1]+  Done                    sudo rabbitmq-server  (wd: /home/csg10/shogi/ukamuse_sdt4/bin)\n```\n\n\u3067\u6b62\u3081\u3066\u3001\n\n```\nrabbitmq-server\n```\n\n[Ctrl]+[Z]\n\n```\n^Z\n[1]+  Stopped                 rabbitmq-server\n```\n\n```\nbg 1\n[1]+ rabbitmq-server &\n```\n\n\u3067\u518d\u958b\u3002\n\n\u3067\u3082\u3084\u3063\u3071\u308a \u540c\u3058\u30a8\u30e9\u30fc\u306e\u307e\u307e\u3060\u3002\n\n\u30ad\u30e5\u30fc\u306e\u30ad\u30fc\u756a\u53f7\u3092\u5909\u3048\u3066\u307f\u305f\u308a\u3059\u308b\u3002\u4eca\u5ea6\u306f\u3046\u307e\u304f\u3044\u3063\u305f\u3002\n\n## PHP\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304d\u76f4\u3057\u305f\n\ntamesi2.php\n\n```\n<?php\n// \u9001\u4fe1\u3057\u305f\u3044\u6587\u5b57\u5217\n$msg = urldecode($_SERVER['QUERY_STRING']);\nif( \"\" === $msg )\n{\n    $msg = \"hello, world\";\n}\necho '\uff08\uff3e\uff51\uff3e\uff09' . $msg . '<br />';\necho '\u3053\u308c\u3092\uff11\u56de\u30af\u30ea\u30c3\u30af\u3057\u308d\u3060\u305c\u2606\uff4d\uff19\uff08\uff3e\uff5e\uff3e\uff09\uff01<br />';\necho '<a href=\"http://999.999.999.999/tamesi2.php?ClickSitanDaze\">http://999.999.999.999/tamesi2.php?ClickSitanDaze</a><br />';\n\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\n// \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 666 \u306e8\u9032\u6570\u8868\u8a18\n$Queue = msg_get_queue( $QKey ,0666 );\n\nif ( !msg_queue_exists($QKey) )\n{\n    print \"\u30ad\u30e5\u30fc \" . $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"queue not found.\");\n}\n\nif( !msg_send( $Queue ,12 ,$msg ,false ) )\n{\n    echo \"\u30a8\u30f3\u30ad\u30e5\u30fc\u5931\u6557\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"send error.\");\n}\n\necho '\u305d\u306e\u3042\u3068\u3053\u306e\u30da\u30fc\u30b8\u3092\u898b\u306b\u3044\u3051\u3060\u305c\u2606\uff4d\uff19\uff08\uff3e\uff5e\uff3e\uff09\uff01<br />';\necho '<a href=\"http://999.999.999.999/tamesi3.php\">http://999.999.999.999/tamesi3.php</a><br />';\n```\n\ntamesi3.php\n\n```\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\n$Queue = msg_get_queue( $QKey );\n\nif ( !msg_queue_exists($QKey) )\n{\n    print \"\u30ad\u30e5\u30fc \" . $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"queue not found.\");\n}\n\nif( !msg_receive( $Queue ,0 ,$msgtype ,4096 ,$msg ,false ,MSG_IPC_NOWAIT ,$err ) )\n{\n    if( $err==42 )\n    {\n        echo \"\uff08\uff3e\uff51\uff3e\uff09\uff1b\uff1b\u30ad\u30e5\u30fc\u304c\u7a7a\u3063\u307d\u306a\u306e\u304b\u3060\u305c\u2606\uff1f<br />\";\n    }\n    else\n    {\n        var_dump( $err );\n        echo \"\u30c7\u30ad\u30e5\u30fc\u5931\u6557\u2606\uff08\uff1e\uff3f\uff1c\uff09 \" . $err . \" \" . posix_strerror( $err ) . \"<br />\";\n    }\n    die(\"receive error.\");\n}\n\necho \"\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3092\u901a\u3063\u3066\u304d\u305f\u3088\u3046\u3060\u306a\u2606\uff08\uff3e\uff51\uff3e\uff09\u300c{$msg}\u300d<br />\\n\"; \necho \"\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u6e9c\u307e\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u304b\u3089\u30da\u30fc\u30b8\u3092\u66f4\u65b0\u3057\u308d\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09<br />\\n\"; \n```\n\ntamesi4.php \uff08\u7834\u68c4\u306b\u5931\u6557\u3059\u308b\u3060\u3051\u3060\u3063\u305f\u304c\uff09\n\n```\n<?php\n// \u30ad\u30e5\u30fc\u306e\u540d\u524d\u306f\u6570\u5b57\n$QKey = 1111;\nif ( !msg_queue_exists($QKey) )\n{\n    print \"\u30ad\u30e5\u30fc \" . $QKey . \"\u306f\u7121\u3044\u305c\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"queue not found.\");\n}\n\n// \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306f 666 \u306e8\u9032\u6570\u8868\u8a18\n$Queue = msg_get_queue( $QKey ,0666 );\n\nif( !msg_remove_queue($Queue) )\n{\n    print \"\u30ad\u30e5\u30fc \" . $QKey . \"\u306e\u7834\u68c4\u306b\u5931\u6557\u2606\uff08\uff1e\uff3f\uff1c\uff09\\n\";\n    die(\"queue not removed.\");\n}\n\nprint \"\u30ad\u30e5\u30fc \" . $QKey . \"\u3092\u7834\u68c4\u3057\u305f\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\\n\";\n```\n\n# PHP\u3068C#\u306e\u9593\u3067\u3000\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u3067\u304d\u3093\u306e\uff1f\n\nPHP\u306f\u30ad\u30e5\u30fc\u306e\u540d\u524d\u304c\u6570\u5b57\u3060\u3057\u3001C#\u306f\u30ad\u30e5\u30fc\u306e\u540d\u524d\u304c / \u3067\u59cb\u307e\u308b\u6587\u5b57\u306a\u3093\u3060\u3063\u3051\uff1f\n\u306a\u3093\u3060\u308d\u3046\u3000\u3053\u306e\u9055\u3044\u2026\u2026\u3002\n\n# \u30b3\u30f3\u30d1\u30a4\u30eb\u30fb\u30aa\u30d7\u30b7\u30e7\u30f3 \u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u5b9a\u7fa9\nC#\u306e\u65b9\u3002\n\n\u300c/D (\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u306e\u5b9a\u7fa9)\u300d (MSDN)\nhttps://msdn.microsoft.com/ja-jp/library/hhzbb5c8.aspx\n\n/D \u3092\u4f7f\u3063\u3066 #define \u3068\u540c\u3058\u3088\u3046\u306a\u52b9\u679c\u3092\u51fa\u305b\u308b\u306e\u304b\u3002\n\nUbuntu\u7528\u3068 Windows\u7528\u3067\u5206\u3051\u3088\u3046\u304b\u306a\u3002\n\n\u8907\u6570\u500b\u306e\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u30de\u30af\u30ed\u304c\u3042\u308b\u3068\u304d\u3001\u3069\u3046\u6307\u5b9a\u3059\u308c\u3070\u3044\u3044\u3093\u3060\uff1f\u3000\u305d\u306e\u3068\u304d\u306f\u9069\u5f53\u306b\u30ab\u30f3\u30de\u3067\u3082\u6253\u3063\u3066\u307f\u308b\u304b\u3002\n\n# C#\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u3055\u3089\u306b\u4fee\u6b63\n\n\u6b21\u306e\u70b9\u3092\u4fee\u6b63\u3057\u305f\u3002\n\n- \u30ec\u30b7\u30fc\u30d6\u306b\u5931\u6557\u3059\u308b\u3053\u3068\n- quit \u3067\u56fa\u307e\u308b\u3053\u3068\n\n\u4fee\u6b63\u65b9\u6cd5\u306f\u3001\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3068\u30c1\u30e3\u30f3\u30cd\u30eb\u306e\u30af\u30ed\u30fc\u30ba\u3092\u3061\u3083\u3093\u3068\u3084\u308b\u3053\u3068\u3002\n\n\u307e\u305f\u3001Ubuntu\u3068Windows\u3067\u7570\u306a\u308b\u500b\u6240\u3092 UBUNTU \u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u5b9a\u7fa9\u3067\u5206\u3051\u305f\u3002\n\nMsgQueue.cs\n\n```C#\n// Ubuntu \u306e RabbitMQ \u306f\u30bd\u30fc\u30b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u306e\u304b\u3001API \u304c\u7570\u306a\u3063\u305f\u3002\n// #define UBUNTU\n\nusing RabbitMQ.Client;\nusing RabbitMQ.Client.Events;\nusing System;\nusing System.Text;\n\nnamespace UsagiMQ\n{\n    /// <summary>\n    /// \u53c2\u7167 : \u300cQueueDeclare\u300d http://docs.spring.io/spring-amqp-net/docs/1.0.x/api/html/Spring.Messaging.Amqp.Rabbit~Spring.Messaging.Amqp.Rabbit.Connection.CachedModel~QueueDeclare(String,Boolean,Boolean,Boolean,Boolean,Boolean,IDictionary).html\n    /// \u53c2\u7167 : \u300cEventingBasicConsumer\u300d https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.Events.EventingBasicConsumer.html\n    /// \u53c2\u7167 : \u300cBasicConsume\u300d https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v1.4.0/rabbitmq-dotnet-client-1.4.0-net-2.0-htmldoc/type-RabbitMQ.Client.IModel.html#method-M:RabbitMQ.Client.IModel.BasicConsume(System.UInt16,System.String,System.Boolean,System.Collections.IDictionary,RabbitMQ.Client.IBasicConsumer)\n    /// </summary>\n    class Program\n    {\n        public const string\n            HOST_NAME = \"localhost\",\n            QUEUE_NAME = \"hello\";\n\n        static Program()\n        {\n#if UBUNTU\n            m_eventHandler_ = new BasicDeliverEventHandler((model, ea) =>\n#else\n            m_eventHandler_ = new EventHandler<BasicDeliverEventArgs>((model, ea) =>\n#endif\n            {\n                byte[] body = ea.Body;\n                string message = Encoding.UTF8.GetString(body);\n                Console.WriteLine(\" [interrupt!] Received(^q^) {0}\", message);\n            });\n        }\n\n        public static ConnectionFactory GetFactory()\n        {\n            if(null== m_factory_)\n            {\n                m_factory_ = new ConnectionFactory() { HostName = HOST_NAME };\n            }\n            return m_factory_;\n        }\n        static ConnectionFactory m_factory_;\n\n        public static IConnection GetConnection()\n        {\n            if (null==m_connection_)\n            {\n                m_connection_ = GetFactory().CreateConnection();\n            }\n            return m_connection_;\n        }\n        static IConnection m_connection_;\n\n        public static IModel GetChannel()\n        {\n            if (null==m_channel_)\n            {\n                m_channel_ = GetConnection().CreateModel();\n#if UBUNTU\n                // Ubuntu\u3067\u306f\u4f55\u6545\u304b Spring.Messaging.Amqp.Rabbit \u306e\u5f15\u6570 7 \u3064\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n                m_channel_.QueueDeclare(QUEUE_NAME, false, false, false, false, false, null);\n#else\n                m_channel_.QueueDeclare(QUEUE_NAME, false, false, false, null);\n#endif\n            }\n            return m_channel_;\n        }\n        static IModel m_channel_;\n\n        public static EventingBasicConsumer GetConsumer()\n        {\n            if (null == m_consumer_)\n            {\n#if UBUNTU\n                // Ubuntu\u3067\u306f\u4f55\u6545\u304b v1.4.0 \u306e\u5f15\u6570\u304c 0 \u500b\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n                m_consumer_ = new EventingBasicConsumer();\n#else\n                m_consumer_ = new EventingBasicConsumer(GetChannel());\n#endif\n\n            }\n            return m_consumer_;\n        }\n        static EventingBasicConsumer m_consumer_;\n\n        /// <summary>\n        /// \u53d7\u4fe1\u3067\u304d\u305f\u3068\u304d\u306b\u5272\u308a\u8fbc\u3093\u3067\u304f\u308b\u51e6\u7406\n        /// </summary>\n#if UBUNTU\n        static BasicDeliverEventHandler m_eventHandler_;\n#else\n        static EventHandler<BasicDeliverEventArgs> m_eventHandler_;\n#endif\n\n        /// <summary>\n        /// \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u3051\u308c\u3069\u3001\u958b\u3051\u305f\u3089\u9589\u3081\u308b\u3001\u3092\u5b8c\u74a7\u306b\u5bfe\u5fdc\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n        /// </summary>\n        static void CloseConnection()\n        {\n            if (null != m_connection_)\n            {\n                m_connection_.Close();\n                m_connection_ = null;\n            }\n        }\n        /// <summary>\n        /// \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u3051\u308c\u3069\u3001\u958b\u3051\u305f\u3089\u9589\u3081\u308b\u3001\u3092\u5b8c\u74a7\u306b\u5bfe\u5fdc\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n        /// </summary>\n        static void CloseChannel()\n        {\n            if (null != m_channel_)\n            {\n                m_channel_.Close();\n                m_channel_ = null;\n            }\n        }\n\n        static void Main(string[] args)\n        {\n            for (;;)\n            {\n                Console.WriteLine(@\"\u9078\u3079\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n1   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u9001\u4fe1\n2   : \u30e1\u30c3\u30bb\u30fc\u30b8   \u53d7\u4fe1\nquit: \u7d42\u4e86\n\");\n\n                int category = 0;\n                for (;;)\n                {\n                    string line = Console.ReadLine();\n                    switch (line)\n                    {\n                        case \"1\": category = 1; goto gt_EndLoop1;\n                        case \"2\": category = 2; goto gt_EndLoop1;\n                        case \"quit\": goto gt_Quit;\n                        default: break;\n                    }\n                }\n                gt_EndLoop1:\n                ;\n\n                switch (category)\n                {\n                    case 1:\n                        {\n                            Console.WriteLine(@\"\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u66f8\u3044\u3066[Enter]\u30ad\u30fc\u3092\u62bc\u305b\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\");\n                            // \"Hello World!\" \u306a\u3069\u3092\u5165\u529b\n                            string line = Console.ReadLine();\n                            Send(line);\n                        }\n                        break;\n                    case 2: Receive(); break;\n                }\n            }\n            gt_Quit:\n\n            // \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u304c\u3001\u3061\u3083\u3093\u3068\u9589\u3058\u306a\u3044\u3068\u3001\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u308f\u3063\u3066\u304f\u308c\u306a\u3044\u3002\n            CloseConnection();\n        }\n\n        static void Send(string message)\n        {\n            IModel channel = GetChannel();\n\n            byte[] body = Encoding.UTF8.GetBytes(message);\n            channel.BasicPublish(\"\", QUEUE_NAME, null, body);\n\n            Console.WriteLine(\" Sent(^q^) {0}\", message);\n            Console.WriteLine(\" Press [enter] to menu.\");\n            Console.ReadLine();\n\n            // \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u304c\u3001\u3061\u3083\u3093\u3068\u9589\u3058\u306a\u3044\u3068\u3001\u30ec\u30b7\u30fc\u30d6\u3057\u3066\u304f\u308c\u306a\u3044\u3002\n            CloseChannel();\n        }\n\n        static void Receive()\n        {\n            IModel channel = GetChannel();\n            EventingBasicConsumer consumer = GetConsumer();\n\n\n            // \u53d7\u4fe1\u3067\u304d\u305f\u3068\u304d\u306b\u5272\u308a\u8fbc\u3093\u3067\u304f\u308b\u51e6\u7406\n            consumer.Received += m_eventHandler_;\n\n#if UBUNTU\n            // Ubuntu\u3067\u306f\u4f55\u6545\u304b\u5f15\u6570\u304c 5 \u500b\u306e\u3084\u3064\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n            channel.BasicConsume( QUEUE_NAME, true, \"\", null, consumer);\n#else\n            channel.BasicConsume(QUEUE_NAME, true, consumer);\n#endif\n\n            Console.WriteLine(\" Please, wait receiving... Or Press [enter] to menu.\");\n            Console.ReadLine();\n\n            // \u5272\u8fbc\u307f\u51e6\u7406\u306e\u524a\u9664\n            consumer.Received -= m_eventHandler_;\n\n            // \u5bfe\u5fdc\u3059\u308b\u30aa\u30fc\u30d7\u30f3\u306f\u7121\u3044\u304c\u3001\u3061\u3083\u3093\u3068\u9589\u3058\u306a\u3044\u3068\u3001\u30ec\u30b7\u30fc\u30d6\u3057\u3066\u304f\u308c\u306a\u3044\u3002\n            CloseChannel();\n        }\n\n    }\n}\n```\n\n(2017-03-07 \u4fee\u6b63:\u4e0a\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\uff12\u500b\u6240\u4fee\u6b63\u6e08\u307f)\n\n\"localhost\" \u3068\u57cb\u3081\u8fbc\u3093\u3067\u3044\u308b\u3068\u3053\u308d\u3082\u3001IP\u30a2\u30c9\u30ec\u30b9\u306e\u756a\u53f7\u306b\u5909\u3048\u305f\u65b9\u304c\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\n\n\u3053\u308c\u3092 Ubuntu \u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u306b\u306f\u3001\n\n```\nmcs /r:RabbitMQ.Client.dll /DUBUNTU MsgQueue.cs\n```\n\n\u3068\u3059\u308c\u3070\u3044\u3044\u3093\u3060\u308d\u3046\u304b\uff1f\u3000\u3084\u3063\u3066\u307f\u3088\u3046\u3002\n\n```\nmcs /r:RabbitMQ.Client.dll /DUBUNTU MsgQueue.cs\nerror CS2007: Unrecognized command-line option: `/DUBUNTU'\n```\n\n\u306a\u305c\u30c0\u30e1\u306a\u306e\u304b\u2026\u2026\u3002\n\n```\nman mcs\n\uff5e\u4e2d\u7565\uff5e\n       -define:SYMLIST, -d:SYMLIST\n              Defines the symbol listed by the semi-colon separated list SYMLIST  SYMBOL.   This  can  be\n              tested  in  the  source code by the pre-processor, or can be used by methods that have been\n              tagged with the Conditional attribute.\n```\n\n**\u300c-define:\u300d\u3067\u59cb\u3081\u3066\u3001\u30bb\u30df\u30b3\u30ed\u30f3\u3067\u533a\u5207\u308c\u3070\u3044\u3044\u306e\u304b\u3002**\n\n```\nmcs /r:RabbitMQ.Client.dll -define:UBUNTU MsgQueue.cs\nMsgQueue.cs(178,34): error CS0029: Cannot implicitly convert type `System.EventHandler<RabbitMQ.Client.Events.BasicDeliverEventArgs>' to `RabbitMQ.Client.Events.BasicDeliverEventHandler'\nMsgQueue.cs(191,34): error CS0029: Cannot implicitly convert type `System.EventHandler<RabbitMQ.Client.Events.BasicDeliverEventArgs>' to `RabbitMQ.Client.Events.BasicDeliverEventHandler'\nCompilation failed: 2 error(s), 0 warnings\n```\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u30df\u30b9\u304c\u3042\u3063\u305f\u304b\u3002\n\uff12\u500b\u6240\u4fee\u6b63\u3002\n\n```\n#if UBUNTU\n            m_eventHandler_ = new BasicDeliverEventHandler((model, ea) =>\n#else\n            m_eventHandler_ = new EventHandler<BasicDeliverEventArgs>((model, ea) =>\n#endif\n```\n\n```\n#if UBUNTU\n        static BasicDeliverEventHandler m_eventHandler_;\n#else\n        static EventHandler<BasicDeliverEventArgs> m_eventHandler_;\n#endif\n```\n\n# C# \u3068 PHP \u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306f\u3069\u3046\u3084\u308b\u306e\u304b\uff1f\n\n\"localhost\" \u306e\u3068\u3053\u308d\u3092 IP\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u3048\u308b\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3063\u305f\u3002\n\u30ad\u30e5\u30fc\u540d\u306e \"hello\" \u3092 \"1111\" \u306b\u5909\u3048\u3066\u3082\u3000PHP \u3067\u306f\u62fe\u3048\u306a\u304b\u3063\u305f\u3002\n\nPHP\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u306f\u306a\u304f\u3001RabbitMQ \u306e\u8aac\u660e\u3092\u8aad\u3093\u3060\u65b9\u304c\u3044\u3044\u306e\u304b\uff1f\n\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-php.html\n\n\u30b5\u30f3\u30d7\u30eb\u30fb\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u5168\u7136\u9055\u3046\u3002\n\n# Ubuntu \u306b composer \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u8981\u308b\u3060\u308d\u3046\u304b\n\n\u300cHow To Install and Use Composer on Ubuntu 14.04\u300d (DigitalOcean)\nhttps://www.digitalocean.com/community/tutorials/how-to-install-and-use-composer-on-ubuntu-14-04\n\n```\nsudo apt-get update\n\uff5e\u4e2d\u7565\uff5e\nFetched 1,672 kB in 2s (581 kB/s)\nReading package lists... Done\n```\n\ncurl \u3082\u8981\u308b\u307f\u305f\u3044\u306a\u3093\u3060\u304c\u3001php5 \u306f\u5165\u308c\u305f\u304f\u306a\u3044\u305c\u3002\n\n\u300cHow do I install the ext-curl extension with PHP 7?\u300d (stack overflow)\nhttp://stackoverflow.com/questions/33775897/how-do-i-install-the-ext-curl-extension-with-php-7\n\n```\nsudo apt-get install php-curl\n```\n\n```\nsudo service apache2 restart\n```\n\n```\ncurl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/local/bin --filename=composer\nAll settings correct for using Composer\nDownloading...\n\nComposer (version 1.3.2) successfully installed to: /usr/local/bin/composer\nUse it: php /usr/local/bin/composer\n```\n\ncomposer \u306f\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u305f\u3060\u308d\u3046\u304b\u3002\n\u8d77\u52d5\u3002\n\n```\ncomposer\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\n   ______\n  / ____/___  ____ ___  ____  ____  ________  _____\n / /   / __ \\/ __ `__ \\/ __ \\/ __ \\/ ___/ _ \\/ ___/\n/ /___/ /_/ / / / / / / /_/ / /_/ (__  )  __/ /\n\\____/\\____/_/ /_/ /_/ .___/\\____/____/\\___/_/\n                    /_/\nComposer version 1.3.2 2017-01-27 18:23:41\n```\n\n\u4f55\u304b\u66f8\u3044\u3066\u308b\u306a\u3002\n\n\u300cHow do I install untrusted packages safely? Is it safe to run Composer as superuser or root?\u300d (getcomposer.org)\nhttps://getcomposer.org/root\n\nroot \u3084\u30b9\u30fc\u30d1\u30fc\u30fb\u30e6\u30fc\u30b6\u30fc\u3058\u3083 composer \u306f\u5b9f\u884c\u3067\u304d\u306a\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\n\n```\ncd ~\n```\n\n\u30eb\u30fc\u30c8\u30e6\u30fc\u30b6\u30fc\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u306b\u98db\u3093\u3060\u306e\u3060\u308d\u3046\u304b\uff1f\n\n```\nmkdir slugify\n```\n\n\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u3063\u305f\u3002\n\n```\ncd slugify\n```\n\n\u305d\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u79fb\u52d5\u3057\u305f\u3002\n\n```\ncomposer require cocur/slugify\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\n```\n\n\u30b9\u30fc\u30d1\u30fc\u30fb\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u629c\u3051\u308b\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u3093\u3060\uff1f\n\n\u300csu\u30b3\u30de\u30f3\u30c9\uff08\u30e6\u30fc\u30b6\u30fc\u306e\u5909\u66f4\uff09\u300d (Linux\u30b2\u30ea\u30e9\u6226\u8a18)\nhttp://www.garunimo.com/program/linux/su.xhtml\n\n```\nsu \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d\n```\n\n```\ncomposer require cocur/slugify\n\n  [ErrorException]\n  file_get_contents(./composer.json): failed to open stream: Permission denied\n```\n\n\u306a\u3093\u306e\u3053\u3063\u3061\u3083\u3002\n\n```\nls -an\ntotal 20\ndrwxr-xr-x 3 0 0 4096 Mar  7 05:07 .\ndrwx------ 9 0 0 4096 Mar  7 05:05 ..\n-rw-r--r-- 1 0 0   59 Mar  7 05:07 composer.json\n-rw-r--r-- 1 0 0 2896 Mar  7 05:07 composer.lock\ndrwxr-xr-x 4 0 0 4096 Mar  7 05:07 vendor\n```\n\n\u30eb\u30fc\u30c8\u30fb\u30e6\u30fc\u30b6\u30fc\u3067\u5b9f\u884c\u3059\u308b\u306a\u3001\u3068\u3044\u3046\u304b\u3089\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u3063\u305f\u306e\u306b\u2026\u2026\u3002\n\n```\nsudo su -\n\u203b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u308c\u308b\ncd slugify\nchmod 666 composer.json\nsu \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d\ncomposer require cocur/slugify\n\n  [ErrorException]\n  file_get_contents(./composer.json): failed to open stream: Permission denied\n```\n\n**\u3046\u30fc\u3080\u3002**\n\n\u300c.composer/config file permission denied using laravel\u300d (stack overflow)\nhttp://stackoverflow.com/questions/34511744/composer-config-file-permission-denied-using-laravel\n\n```\nsudo chown \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u540d /home/\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u540d/.composer/config.json\nchown: cannot access '/home/\u2605\u7565/.composer/config.json': No such file or directory\n```\n\n**\u3046\u30fc\u3080\u3002**\n\n```\nsudo su -\ncd slugify\n```\n\n\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u3067\u3084\u3063\u3066\u3082\u3060\u3081\u3002\n\n```\nsudo chown \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d composer.json\n```\n\n\u3088\u3057\u3002\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3058\u308b\u6a29\u9650\u3092\u4e0e\u3048\u305f\u306e\u304b\u3002\n\n```\nsu \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d\ncomposer require cocur/slugify\n\n  [ErrorException]\n  file_get_contents(./composer.json): failed to open stream: Permission denied\n```\n\n\u3060\u3081\u3002\n\n```\nsudo su -\ncd slugify\nsudo chown \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d composer.lock\n```\n\n\u30ed\u30c3\u30af\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u8fbc\u3080\u6a29\u9650\u306a\u3093\u304b\u4e0e\u3048\u305f\u3063\u3066\u3001\u3059\u3050\u6d88\u3048\u308b\u30d5\u30a1\u30a4\u30eb\u3060\u3068\u601d\u3046\u304c\u3002\n\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u3067\u3002\n\n```\nsudo composer update\n```\n\n\u3080\u308a\u3002\n\n```\ncomposer update\nComposer could not find a composer.json file in /home/csg10\nTo initialize a project, please create a composer.json file as described in the https://getcomposer.org/ \"Getting Started\" section\n```\n\n\u300cGetting Started\u300d (Composer)\nhttps://getcomposer.org/doc/00-intro.md\n\n```\nphp composer-setup.php --install-dir=bin --filename=composer\n```\n\n\u3046\u3054\u304b\u306a\u3044\u3002\n\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u3063\u3066\u3001\u81ea\u5206\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u79fb\u52d5\u3002\n\n```\ncomposer require cocur/slugify\n```\n\n\u3068\u53e9\u304f\u3002**\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u3063\u305f\u3002**\n\n```\nCannot create cache directory /home/csg10/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/csg10/.composer/cache/files/, or directory is not writable. Proceeding without cache\nUsing version ^2.4 for cocur/slugify\n./composer.json has been created\nCannot create cache directory /home/csg10/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/csg10/.composer/cache/files/, or directory is not writable. Proceeding without cache\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 1 install, 0 updates, 0 removals\n  - Installing cocur/slugify (v2.4) Downloading: 100%\nWriting lock file\nGenerating autoload files\n```\n\n\u5931\u6557\u3057\u305f\u306e\u304b\u6210\u529f\u3057\u305f\u306e\u304b\u5206\u304b\u3089\u306a\u3044\u304c\u3001\u4f55\u304b\u304c\u8d77\u3053\u3063\u305f\u3002\n\n```\nls -l\ntotal 24\n-rw-rw-r-- 1 csg10 csg10   59 Mar  7 05:37 composer.json\n-rw-rw-r-- 1 csg10 csg10 2896 Mar  7 05:37 composer.lock\ndrwxrwxr-x 2 csg10 csg10 4096 Mar  5 16:30 jikken\ndrwxr-xrwx 3 root  root  4096 Mar  7 00:34 shogi\n-rw-r--r-- 1 root  root    14 Mar  4 03:19 Tamesi\ndrwxrwxr-x 4 csg10 csg10 4096 Mar  7 05:37 vendor\n```\n\n```\ncat composer.json\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n    }\n}\n```\n\n\u3053\u308c\u3092\u3001RabbitQM \u304c\u8a00\u3046\u306b\u306f\u3001\n\n```\n{ \n    \"require\" \uff1a { \n        \"php-amqplib / php-amqplib\" \uff1a \"2.5\u3002*\" \n    } \n}\n```\n\n\u3092\u3001\u8ffd\u52a0\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u3002**\u30ab\u30f3\u30de\u533a\u5207\u308a\u3060\u3063\u3051\uff1f**\n\n```\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n    }\n    ,\n    \"require\" \uff1a {\n        \"php-amqplib / php-amqplib\" \uff1a \"2.5\u3002*\"\n    }\n\n}\n```\n\n\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u307f\u305f\u304c\u3002\n\n```\ncomposer.phar install\ncomposer.phar: command not found\n```\n\n\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u3093\u3060\u3002\u305d\u308c\u3068\u3082\u3001\u3053\u3046\u304b\uff1f\n\n```\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n        ,\n        \"php-amqplib / php-amqplib\" \uff1a \"2.5\u3002*\"\n    }\n}\n```\n\n```\ncomposer.phar install\ncomposer.phar: command not found\n```\n\n\u306a\u3093\u3060\u3053\u306e\u8aad\u70b9\u3002 **\u3042\u30fc\u3063\uff01\u3000\u30b0\u30fc\u30b0\u30eb\u7ffb\u8a33\u3067\u3000\u30b3\u30fc\u30c9\u304c\u5909\u308f\u3063\u3066\u308b\u3058\u3083\u306a\u3044\u304b\uff01**\n\n```\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n        ,\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n```\n\n\u3053\u3046\u3060\u3002\n\n```\ncomposer.phar install\ncomposer.phar: command not found\n```\n\n```\n composer require php-amqplib/php-amqplib\nCannot create cache directory /home/csg10/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/csg10/.composer/cache/files/, or directory is not writable. Proceeding without cache\nUsing version ^2.6 for php-amqplib/php-amqplib\n./composer.json has been updated\nCannot create cache directory /home/csg10/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/csg10/.composer/cache/files/, or directory is not writable. Proceeding without cache\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\n\n  Problem 1\n    - php-amqplib/php-amqplib v2.6.3 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.6.2 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.6.1 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.6.0 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - Installation request for php-amqplib/php-amqplib ^2.6 -> satisfiable by php-amqplib/php-amqplib[v2.6.0, v2.6.1, v2.6.2, v2.6.3].\n\n  To enable extensions, verify that they are enabled in your .ini files:\n    - /etc/php/7.0/cli/php.ini\n    - /etc/php/7.0/cli/conf.d/10-opcache.ini\n    - /etc/php/7.0/cli/conf.d/10-pdo.ini\n    - /etc/php/7.0/cli/conf.d/15-xml.ini\n    - /etc/php/7.0/cli/conf.d/20-calendar.ini\n    - /etc/php/7.0/cli/conf.d/20-ctype.ini\n    - /etc/php/7.0/cli/conf.d/20-curl.ini\n    - /etc/php/7.0/cli/conf.d/20-dom.ini\n    - /etc/php/7.0/cli/conf.d/20-exif.ini\n    - /etc/php/7.0/cli/conf.d/20-fileinfo.ini\n    - /etc/php/7.0/cli/conf.d/20-ftp.ini\n    - /etc/php/7.0/cli/conf.d/20-gettext.ini\n    - /etc/php/7.0/cli/conf.d/20-iconv.ini\n    - /etc/php/7.0/cli/conf.d/20-json.ini\n    - /etc/php/7.0/cli/conf.d/20-mbstring.ini\n    - /etc/php/7.0/cli/conf.d/20-phar.ini\n    - /etc/php/7.0/cli/conf.d/20-posix.ini\n    - /etc/php/7.0/cli/conf.d/20-readline.ini\n    - /etc/php/7.0/cli/conf.d/20-shmop.ini\n    - /etc/php/7.0/cli/conf.d/20-simplexml.ini\n    - /etc/php/7.0/cli/conf.d/20-sockets.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvmsg.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvsem.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvshm.ini\n    - /etc/php/7.0/cli/conf.d/20-tokenizer.ini\n    - /etc/php/7.0/cli/conf.d/20-wddx.ini\n    - /etc/php/7.0/cli/conf.d/20-xmlreader.ini\n    - /etc/php/7.0/cli/conf.d/20-xmlwriter.ini\n    - /etc/php/7.0/cli/conf.d/20-xsl.ini\n  You can also run `php --ini` inside terminal to see which files are used by PHP in CLI mode.\n\nInstallation failed, reverting ./composer.json to its original content.\n```\n\n\u3042\u3089\u30fc\u3063\u3002\n\n# php-amqplib \u306f\u3069\u3046\u3084\u3063\u3066\u5165\u624b\u3059\u308b\u306e\u304b\uff1f\n\n\u300cphp-amqplib/php-amqplib\u300d (Git Hub)\nhttps://github.com/php-amqplib/php-amqplib\n\ncomposer.json \u30d5\u30a1\u30a4\u30eb\u306f\u81ea\u5206\u3067\u4f5c\u3063\u3066\u3057\u307e\u3048\u3070\u3044\u3044\u306e\u304b\uff1f\n\n```\n{\n  \"require\": {\n      \"php-amqplib/php-amqplib\": \"2.6.*\"\n  }\n}\n```\n\n```\ncomposer.phar install\ncomposer.phar: command not found\n```\n\ncomposer \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u3063\u3066\u306a\u3044\u306e\u304b\u3002\n\n# composer \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u300cComposer\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u305f\u300d (Qiita)\nhttp://qiita.com/kakijin/items/02364adacf36410f449e\n\n```\ncurl -sS https://getcomposer.org/installer | php\nAll settings correct for using Composer\nUnable to write keys.dev.pub to: /home/\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer\n```\n\n\u306a\u3093\u306e\u3053\u3063\u3061\u3083\u3002\n\n```\nmv composer.phar /usr/local/bin/composer\nmv: cannot stat 'composer.phar': No such file or directory\n```\n\n\u3088\u304f\u898b\u308b\u3068\u3001\n\n/home/\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/ \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b vendor \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u304c\u3067\u304d\u3066\u3044\u305f\u3002\n\n```\nls\ncomposer.json  composer.lock  jikken  shogi  Tamesi  vendor\ncd vendor\nls\nautoload.php  cocur  composer\ncd composer\nls\nautoload_classmap.php    autoload_psr4.php  autoload_static.php  installed.json\nautoload_namespaces.php  autoload_real.php  ClassLoader.php      LICENSE\n```\n\ncomposer.phar \u3068\u3044\u3046\u540d\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u898b\u3064\u304b\u3089\u306a\u3044\u3002\n\n\u300cComposer\u3067\u59cb\u3081\u308b PHP\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u7ba1\u7406\u300d (Hack Your Design!)\nhttp://blog.toshimaru.net/how-to-use-composer-autoload/\n\n```\ncurl -s https://getcomposer.org/installer | php\n```\n\n\u3053\u308c\u3092\u3059\u308b\u3068\u3001 composer.phar \u306f\u53d6\u308c\u308b\u3089\u3057\u3044\u3093\u3060\u304c\u3001\u3069\u3053\u306b\u3042\u308b\u3093\u3060\u308d\u3046\uff1f\n\n```\ncurl -s https://getcomposer.org/installer | php\nAll settings correct for using Composer\nUnable to write keys.dev.pub to: /home/\u2605\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer\n```\n\n\u3046\u3093\uff1f .composer \u3068\u3044\u3046\u96a0\u3057\u30d5\u30a9\u30eb\u30c0\u30fc\u304c\u3067\u304d\u3066\u3044\u308b\u306e\u304b\uff1f\n\n```\nls -an\ntotal 64\ndrwxr-xr-x 9 1000 1000 4096 Mar  7 06:02 .\ndrwxr-xr-x 3    0    0 4096 Sep 12  2015 ..\n\uff5e\u7565\uff5e\ndrwxr-xr-x 3    0    0 4096 Mar  7 05:30 .composer\n\uff5e\u7565\uff5e\n```\n\n\u3042\u308b\u3088\u3046\u3060\u3002\n\n\u300cUnable to write keys.dev.pub to: /home/ubuntu/.composer\u300d (stack overflow)\nhttp://stackoverflow.com/questions/42413910/unable-to-write-keys-dev-pub-to-home-ubuntu-composer\n\n```\nphp composer-setup.php\nCould not open input file: composer-setup.php\n```\n\n```\ncomposer\n```\n\ncomposer.json\n\n```\n{\n    \"require\": {\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n```\n\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u6b32\u3057\u3044\u7269\u3092\u66f8\u304f\u6b04\u306a\u306e\u304b\u3002\n\n```\ncomposer update\n```\n\n\u3059\u308b\u3068\u3001\n\n```\nCannot create cache directory /home/\u2605\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer/cache/repo/https---packagist.org/, or directory is not writable. Proceeding without cache\nCannot create cache directory /home/\u2605\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer/cache/files/, or directory is not writable. Proceeding without cache\n```\n\n\u3068\u3044\u3063\u305f\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u304f\u308b\u3002\n\n```\nls -an\ntotal 16\ndrwxr-xr-x 3    0    0 4096 Mar  7 05:30 .\ndrwxr-xr-x 9 1000 1000 4096 Mar  7 06:29 ..\ndrwxr-xr-x 2    0    0 4096 Mar  7 05:30 cache\n-rw-r--r-- 1    0    0   13 Mar  7 05:30 .htaccess\n```\n\ncache\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u66f8\u8fbc\u307f\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u3044\u3051\u3070\u3044\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\n\n```\nchmod 777 cache\nchmod: changing permissions of 'cache': Operation not permitted\n```\n\n\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u3063\u3066\u3001\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u4e2d\u306b\u3042\u308b .composer \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u884c\u304f\u3002\n\n```\nchmod 777 cache\n```\n\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u623b\u3063\u3066\u3001\u81ea\u5206\u306e\u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u4e2d\u306e composer.json \u304c\u3042\u308b\u3068\u3053\u308d\u3067\n\n```\ncopmoser update\n```\n\n\u3092\u53e9\u304f\u3002\u4f55\u304b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u3063\u305f\u3002\n\n```\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\n\n  Problem 1\n    - php-amqplib/php-amqplib v2.5.2 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.5.1 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - php-amqplib/php-amqplib v2.5.0 requires ext-bcmath * -> the requested PHP extension bcmath is missing from your system.\n    - Installation request for php-amqplib/php-amqplib 2.5.* -> satisfiable by php-amqplib/php-amqplib[v2.5.0, v2.5.1, v2.5.2].\n\n  To enable extensions, verify that they are enabled in your .ini files:\n    - /etc/php/7.0/cli/php.ini\n    - /etc/php/7.0/cli/conf.d/10-opcache.ini\n    - /etc/php/7.0/cli/conf.d/10-pdo.ini\n    - /etc/php/7.0/cli/conf.d/15-xml.ini\n    - /etc/php/7.0/cli/conf.d/20-calendar.ini\n    - /etc/php/7.0/cli/conf.d/20-ctype.ini\n    - /etc/php/7.0/cli/conf.d/20-curl.ini\n    - /etc/php/7.0/cli/conf.d/20-dom.ini\n    - /etc/php/7.0/cli/conf.d/20-exif.ini\n    - /etc/php/7.0/cli/conf.d/20-fileinfo.ini\n    - /etc/php/7.0/cli/conf.d/20-ftp.ini\n    - /etc/php/7.0/cli/conf.d/20-gettext.ini\n    - /etc/php/7.0/cli/conf.d/20-iconv.ini\n    - /etc/php/7.0/cli/conf.d/20-json.ini\n    - /etc/php/7.0/cli/conf.d/20-mbstring.ini\n    - /etc/php/7.0/cli/conf.d/20-phar.ini\n    - /etc/php/7.0/cli/conf.d/20-posix.ini\n    - /etc/php/7.0/cli/conf.d/20-readline.ini\n    - /etc/php/7.0/cli/conf.d/20-shmop.ini\n    - /etc/php/7.0/cli/conf.d/20-simplexml.ini\n    - /etc/php/7.0/cli/conf.d/20-sockets.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvmsg.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvsem.ini\n    - /etc/php/7.0/cli/conf.d/20-sysvshm.ini\n    - /etc/php/7.0/cli/conf.d/20-tokenizer.ini\n    - /etc/php/7.0/cli/conf.d/20-wddx.ini\n    - /etc/php/7.0/cli/conf.d/20-xmlreader.ini\n    - /etc/php/7.0/cli/conf.d/20-xmlwriter.ini\n    - /etc/php/7.0/cli/conf.d/20-xsl.ini\n  You can also run `php --ini` inside terminal to see which files are used by PHP in CLI mode.\n```\n\n\uff14\u3064\u3050\u3089\u3044\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3044\u308b\u3088\u3046\u3060\u3002\n\nupdate \u3058\u3083\u306a\u304f\u3066 install \u3060\u3063\u305f\u304b\u3002\n\n```\ncomposer install\nLoading composer repositories with package information\nInstalling dependencies (including require-dev) from lock file\nWarning: The lock file is not up to date with the latest changes in composer.json. You may be getting outdated dependencies. Run update to update them.\nNothing to install or update\nGenerating autoload files\n```\n\n\u3046\u30fc\u3080\u3002\n\n# bcmath\n\n\u300cApparently missing bcmath dependency\u300d (php-amqplib/php-amqplib)\nhttps://github.com/php-amqplib/php-amqplib/issues/312\n\n```\ncomposer show --platform\n```\n\n\u300cHow can I get the `bcmath` plugin in php5 in Ubuntu?\u300d (ask ubuntu)\nhttp://askubuntu.com/questions/416866/how-can-i-get-the-bcmath-plugin-in-php5-in-ubuntu\n\n```\nsudo apt install php7.0-bcmath\n\u203b\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\n```\n\n\u306a\u3093\u304b\u3000\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u3063\u305f\u3002 bcmath \u3068\u304b\u3044\u3046\u62e1\u5f35\u5b50\u304c\u4ed8\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u6301\u3064\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\n\n```\ncomposer update\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 1 install, 0 updates, 1 removal\n  - Removing cocur/slugify (v2.4)\n  - Installing php-amqplib/php-amqplib (v2.5.2) Downloading: 100%\nWriting lock file\nGenerating autoload files\n```\n\n\u3088\u3046\u3084\u304f\u3000\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3067\u304d\u305f\u3088\u3046\u3060\u3002 cocur/slugify \u3092\u6d88\u3057\u305f\u306e\u306f\u826f\u304b\u3063\u305f\u306e\u3060\u308d\u3046\u304b\uff1f\n\u3082\u3046\uff11\u56de\u3084\u308a\u76f4\u3057\u3002\n\ncomposer.json\n\n```\n{\n    \"require\": {\n        \"cocur/slugify\": \"^2.4\"\n        ,\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n```\n\n```\ncomposer update\n```\n\n**\u8ffd\u52a0\u3067\u6b32\u3057\u3044\u3082\u306e\u3092\u66f8\u304f\u3068\u3044\u3046\u3088\u308a\u3001\u6b32\u3057\u3044\u73fe\u72b6\u3092\u66f8\u304f\u306e\u304b\u3002**\n\n# composer.phar\n\n\u300cIntroduction\u300d (RabbitMQ)\nhttps://www.rabbitmq.com/tutorials/tutorial-one-php.html\n\n```\ncomposer.phar install\ncomposer.phar: command not found\n```\n\n\u4f9d\u7136\u3068\u3057\u3066\u5206\u304b\u3089\u3093\u3002\n\n```\ncurl -s https://getcomposer.org/installer | php\n```\n\n\u3053\u308c\u3092\u3059\u308b\u3068 composer.phar \u304c\u53d6\u308c\u308b\u3093\u3060\u3063\u305f\u304b\uff1f\n\n```\nAll settings correct for using Composer\nUnable to write keys.dev.pub to: /home/\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u540d/.composer\n```\n\n.composer \u96a0\u3057\u30d5\u30a9\u30eb\u30c0\u30fc\u304c\u3042\u308b\u3068\u3044\u3046\u8a71\u3057\u3060\u3063\u305f\u3002\n\n.phar \u306f PHP\u306e\u30a2\u30fc\u30ab\u30a4\u30d6\uff08\u5727\u7e2e\u30d5\u30a1\u30a4\u30eb\uff09\u3060\u308d\u3046\u304b\uff1f\u3000\u89e3\u51cd\u3055\u308c\u3066\u306a\u304f\u306a\u3063\u3066\u305f\u308a\u3059\u308b\u3093\u3060\u308d\u3046\u304b\uff1f\n\n# var/www/html \u3067\n\n\u30e6\u30fc\u30b6\u30fc\u30fb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u3067\u306f\u306a\u304f\u3001var/www/html \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u3067 composer \u3092\u4f7f\u3063\u305f\u65b9\u304c\u3044\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\n\nvar/www/html \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306b\u3082 composer.json \u3092\u7f6e\u3044\u3066\u307f\u308b\u3002\n\ncomposer.json\n\n```\n{\n    \"require\": {\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n```\n\n```\ncomposer install\n```\n\n```\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 1 install, 0 updates, 0 removals\n  - Installing php-amqplib/php-amqplib (v2.5.2) Loading from cache\nWriting lock file\nGenerating autoload files\n```\n\n\u3059\u3093\u306a\u308a\u3044\u3063\u305f\u3002\n\n# __DIR__\u3063\u3066\u3069\u3053\n\ntamesi7.php\n\n```\n<?php\necho '__DIR__\u3063\u3066\u3069\u3053\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\uff1f = ' . __DIR__ ;\n```\n\n\u3053\u3046\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u3001\u5b9f\u884c\u3002\n\n```\nphp tamesi7.php\n__DIR__\u3063\u3066\u3069\u3053\u3060\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\uff1f = /var/www/html\n```\n\n\u3075\u3080\u3002\u3058\u3083\u3042\u3001\n\n```\nrequire_once __DIR__ . '/vendor/autoload.php';\n```\n\n\u306f\u3001\n\n```\nrequire_once '/var/www/html/vendor/autoload.php';\n```\n\n\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u3002\n\n```\n/var/www/html/vendor$ ls -an\ntotal 20\ndrwxrwxr-x 4 1000 1000 4096 Mar  7 07:01 .\ndrwxr-xrwx 3    0    0 4096 Mar  7 07:03 ..\n-rw-rw-r-- 1 1000 1000  178 Mar  7 07:01 autoload.php\ndrwxrwxr-x 2 1000 1000 4096 Mar  7 07:01 composer\ndrwxrwxr-x 3 1000 1000 4096 Mar  7 07:01 php-amqplib\n```\n\n\u3042\u308b\u3088\u3046\u3060\u3002\n\nPuTTY\u3067\u5b9f\u884c\u3059\u308b\u3068\u3002\n\n```\nphp tamesi5.php\n [x] Sent 'Hello World!'\n```\n\n\u52d5\u3044\u3066\u3044\u308b\u3093\u3060\u304c\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3088\u3046\u3060\u3002\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u304b\uff1f\n\n```\n ls -an\n\uff5e\u4e2d\u7565\uff5e\n-rw-rw-r-- 1 1000 1000   477 Mar  7 06:00 tamesi5.php\n```\n\nPHP\u306b\u5b9f\u884c\u6a29\u9650\u306a\u3093\u304b\u8981\u308b\u3093\u3060\u308d\u3046\u304b\uff1f PHP\u306f\u30c7\u30fc\u30bf\u30fb\u30d5\u30a1\u30a4\u30eb\u3060\u304b\u3089\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u306a\u3044\u6c17\u304c\u3059\u308b\u3002\n\n```\n php tamesi6.php\n [*] Waiting for messages. To exit press CTRL+C\n [x] Received bear\n [x] Received Hello World!\n```\n\nRabbitMQ \u306f\u52d5\u3044\u3066\u3044\u308b\u3093\u3060\u304c\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u52d5\u304b\u306a\u3044\u3002\n\nHTTP ERROR 500\n\n# \u30b7\u30e5\u30ea\u30f3\u30af\u3057\u3066\u3044\u304f\u304b\uff1f\n\n\u6570\u884c\u305a\u3064\u8abf\u3079\u3066\u3044\u3053\u3046\u3002\n\ntamesi5a1.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\necho \"3\u884c\u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n```\n\n\u3053\u308c\u306f\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u308c\u308b\u3002\n\ntamesi5a2.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->close();\n$connection->close();\n\necho \"\u63a5\u7d9a\u3001\u30c1\u30e3\u30f3\u30cd\u30eb\u53d6\u5f97\u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n```\n\n\u3053\u308c\u3082\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u308c\u308b\u3002\n\ntamesi5a3.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\n$channel->close();\n$connection->close();\n\necho \"queue_declare \u5f15\u6570\uff15\u500b\u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n```\n\n\u3053\u308c\u3082\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u308c\u308b\u3002\n\ntamesi5a4.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\n$msg = new AMQPMessage('Hello World!');\n\n$channel->close();\n$connection->close();\n\necho \"AMQPMessage \u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n```\n\n\u3053\u308c\u3082\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u308c\u308b\u3002\n\ntamesi5a5.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\n$msg = new AMQPMessage('Hello World!');\n$channel->basic_publish($msg, '', 'hello');\n\n$channel->close();\n$connection->close();\n\necho \"basic_publish \u304a\u3063\u3051\u2606\uff01\uff08\uff3e\u25bd\uff3e\uff09<br />\\n\";\n```\n\n\u3053\u308c\u3001HTTP ERROR 500\u3002 basic_publish \u304c\u30c0\u30e1\u304b\uff1f\n\n\u300cframe_error on basic_publish\u300d (pika/pika)\nhttps://github.com/pika/pika/issues/349\n\nlocalhost \u3068\u66f8\u3044\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u6c17\u306b\u306a\u308b\u304c\u3002IP\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u3048\u3066\u3082\u5909\u308f\u308a\u306a\u3057\u3002\n\n# PHP\u306e\u30a8\u30e9\u30fc\u30fb\u30ed\u30b0\u306f\u51fa\u3066\u306a\u3044\u306e\u3060\u308d\u3046\u304b\uff1f\n\n\u300cPHP\u3067\u306e\u30ed\u30b0\u51fa\u529b\u3000\u307e\u3068\u3081\u300d (Qiita)\nhttp://qiita.com/junpei_iwa/items/8dc9f62b4118186cf2df\n\n/etc/php/7.0/apache2 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b php.ini \u306f\u3042\u308b\u304c\u3002\n\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u306b\u5909\u3048\u3066\u3001\n\n```\ncp php.ini php.ini.original\n```\n\n\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u3066\u304a\u3044\u3066\u3001php.ini \u306e\u4e2d\u3092\u898b\u3066\u307f\u308b\u3002\n\n```\ndisplay_errors = Off\n```\n\n\u3092\u3001\n\n```\ndisplay_errors = On\n```\n\n\u306b\u5909\u3048\u308b\u3002\u5916\u306b\u516c\u958b\u3057\u3066\u3044\u308b\u3068 Off \u306b\u3057\u306a\u3044\u3068\u5185\u90e8\u30c7\u30fc\u30bf\u304c\u898b\u3048\u3066\u3057\u307e\u3046\u304c\u3002\n\n```\nlog_errors = On\n```\n\n\u3053\u308c\u306f On \u306b\u306a\u3063\u3066\u3044\u305f\u3002\n\u30a2\u30d1\u30c3\u30c1\u3092\u518d\u8d77\u52d5\u3057\u305f\u3089\u3044\u3044\u306e\u304b\uff1f\n\n```\nsudo service apache2 restart\n```\n\n**\u3042\u308c\u3063\uff1f\u3000\u30a2\u30d1\u30c3\u30c1\u3092\u518d\u8d77\u52d5\u3057\u305f\u3089\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3069\u3053\u308d\u304b\u3001PHP \u304c\u52d5\u3044\u3066\u3044\u308b\uff1f**\n\ntamesi5.php \u306f\u52d5\u3044\u305f\u304c\u3001tamesi6.php \u306f\u56fa\u307e\u3063\u3066\u3044\u308b\u3002\u3053\u308c\u3082\u30b7\u30e5\u30ea\u30f3\u30af\u3057\u3066\u307f\u3088\u3046\u3002\n\ntamesi6a1.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho 'queue_declare \u307e\u3067\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n```\n\n\u3053\u308c\u306f\u304a\u3063\u3051\u3002\n\ntamesi6a2.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume('hello', '', false, true, false, false, $callback);\n\necho 'basic_consume \u307e\u3067\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n```\n\n\u3053\u308c\u3082\u304a\u3063\u3051\u3002\n\n\u3068\u3053\u308d\u3067\u3000\u30d6\u30ed\u30fc\u30ab\u30fc\u304c\u6b62\u307e\u3063\u3066\u3044\u308b\u6c17\u304c\u3059\u308b\u3002RabbitMQ \u3092\u8d77\u52d5\u3055\u305b\u308b\u306b\u306f\u3000\u3069\u3046\u3084\u308b\u3093\u3060\u3063\u305f\u304b\u3002\n\n```\nrabbitmq-server\nERROR: node with name \"rabbit\" already running on \"\u2605\u7565\"\n```\n\n\u52d5\u3044\u3066\u308b\u306e\u304b\u3002\n\n# PHP\u306e\u30ed\u30b0\u306e\u51fa\u529b\u5148\n\n/etc/php/7.0/apache2/php.ini \u306e\n\n```\n;error_log = php_errors.log\n```\n\n\u306e\u90e8\u5206\u3092\n\n```\nerror_log = /var/log/php_errors.log\n```\n\n\u306b\u5909\u3048\u305f\u3002\u30a2\u30d1\u30c3\u30c1\u3092\u518d\u8d77\u52d5\u3002\n\n```\nsudo service apache2 restart\n```\n\ntamesi6a3.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume('hello', '', false, true, false, false, $callback);\n\n$channel->wait();\n\necho 'wait() 1\u56de\u306a\u3089\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n```\n\n\u3053\u308c\u306f\u30d5\u30ea\u30fc\u30ba\u3002\n\u3058\u3083\u3042\u3001\u30a6\u30a7\u30a4\u30c8\u304c\u30c0\u30e1\u306a\u306e\u304b\uff1f\n\ntamesi6a4.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume('hello', '', false, true, false, false, $callback);\n\nsleep(3);\n\necho 'sleep(3)\u306a\u3089\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n```\n\n\u3053\u308c\u3082\u304a\u3063\u3051\u2606\n\ntamesi6a5.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$channel->queue_declare('hello', false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume('hello', '', false, true, false, false, $callback);\n\nwhile(count($channel->callbacks)) {\n    sleep(1);\n}\n\necho 'sleep(1)\u306e\u30eb\u30fc\u30d7\u306a\u3089\u304a\u3063\u3051\u2606\uff08\uff3e\u25bd\uff3e\uff09\uff01', \"\\n\";\n```\n\n\u3053\u308c\u306f\u30d5\u30ea\u30fc\u30ba\u3002\n\n# rabbitmqctl list_queues\n\n```\nrabbitmqctl list_queues\nListing queues ...\n1111    0\nhello   0\n```\n\n```\nphp tamesi5.php\n [x] Sent 'Hello World!'\nrabbitmqctl list_queues\nListing queues ...\n1111    0\nhello   0\n```\n\n\u30ad\u30e5\u30fc\u306e\u4e2d\u8eab\u306f\u898b\u308c\u306a\u3044\u3082\u306e\u304b\u3002\n\n\u975e\u540c\u671f\u3067\u306f\u306a\u304f\u3001\u5358\u306b\u30c7\u30ad\u30e5\u30fc\u3067\u304d\u306a\u3044\u306e\u304b\uff1f\n\n\u30ad\u30e5\u30fc\u306b\u5165\u3063\u3066\u306a\u3044\u6c17\u3082\u3059\u308b\u3002\n\ntamesi5a6.php\n\n```\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\nuse PhpAmqpLib\\Message\\AMQPMessage;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$QKey = '1111';\n$channel->queue_declare($QKey, false, false, false, false);\n\n$QMsg = 'Flying Dragon!';\n$msg = new AMQPMessage($QMsg);\n$channel->basic_publish($msg, '', $QKey);\n\necho \" [x] Sent '\" . $QMsg . \"'\\n\";\n\n$channel->close();\n$connection->close();\n```\n\n\u30ad\u30fc\u3092 1111 \u306b\u3002\n\n\u300c\u306f\u3058\u3081\u3066\u306e RabbitMQ\u300d (CyberAgent)\nhttp://ameblo.jp/principia-ca/entry-11233853011.html\n\n\ntamesi6.php \u306f\u3001[Ctrl]+[C] \u3067\u6b62\u3081\u308b\u524d\u63d0\u3060\u304b\u3089\u3001\u5b9f\u7528\u3067\u304d\u306a\u3044\u3093\u3058\u3083\u306a\u3044\u304b\uff1f\n\n**tamesi6.php \u306f\u3000\u53d7\u4fe1\u7528\u3060\u304b\u3089\u3001\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3082\u3093\u3058\u3083\u306a\u3044**\u3093\u3058\u3083\u306a\u3044\u304b\u3002\n\n$channel->wait(); \u304c\u51e6\u7406\u3092\u30d6\u30ed\u30c3\u30af\u3057\u3066\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3002\n\ntamesi6.php\n\n```\n<?php\n// \u30b5\u30fc\u30d0\u30fc\u306e\u5916\u90e8\u304b\u3089\u306f\u30a2\u30af\u30bb\u30b9\u3057\u306a\u3044\u3002\n// \u30b5\u30fc\u30d0\u30fc\u306e\u5185\u5074\u306b\u7f6e\u3044\u3066\u304a\u304f\u3001\u53d7\u4fe1\u7528\n//\n// \u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5b9f\u884c\u3059\u308b\n// php tamesi6.php\n//\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n\n$QKey = '1111';\n$channel->queue_declare($QKey, false, false, false, false);\n\necho ' [*] Waiting for messages. To exit press CTRL+C', \"\\n\";\n\n$callback = function($msg) {\n  echo \" [x] Received \", $msg->body, \"\\n\";\n};\n\n$channel->basic_consume($QKey, '', false, true, false, false, $callback);\n\n// \u7121\u9650\u30eb\u30fc\u30d7\nwhile(count($channel->callbacks))\n{\n    // \u30d6\u30ed\u30c3\u30af\u3059\u308b\n    $channel->wait();\n}\n// \u3053\u3053\u306b\u6765\u306a\u3044\n// $channel->close();\n// $connection->close();\n```\n\n\u3058\u3083\u3042\u3001\u53d7\u4fe1\u5074\u306f\u30aa\u30c3\u30b1\u30fc\u3002\n\n# C#\u3068PHP\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30fb\u30ad\u30e5\u30fc\u3092\u4ecb\u3057\u3066\u901a\u4fe1\u3067\u304d\u3093\u306e\uff1f\n\nC# \u306e 1111 \u3068\u3001 PHP\u306e 1111 \u306f\u540c\u3058\u306a\u306e\u3060\u308d\u3046\u304b\uff1f\u898b\u308c\u306a\u3044\u3088\u3046\u3060\u304c\u3002\n\u30d5\u30a9\u30eb\u30c0\u30fc\u4f4d\u7f6e\u3068\u304b\u95a2\u4fc2\u3042\u308b\u306e\u3060\u308d\u3046\u304b\uff1f\n\n\u95a2\u4fc2\u3042\u308b\u306e\u306f\u3000'localhost', 5672\u3000\u3050\u3089\u3044\u304b\u3068\u601d\u3046\u304c\u3002\n\n# \u3069\u3046\u3082 C# \u3068 PHP \u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u304c\u3067\u304d\u3066\u306a\u3044\n\n\u898b\u3066\u3044\u308b\u30ad\u30e5\u30fc\u304c\u9055\u3046\u306e\u304b\u3002\n\n- \u5916\u90e8\u304b\u3089 tamesi2.php \u3067\u30a8\u30f3\u30ad\u30e5\u30fc\u3057\u305f\u5185\u5bb9\u306f\u3001\u5916\u90e8\u304b\u3089 tamesi3.php \u3067\u898b\u308c\u308b\u3002\uff08PHP\uff09\n- \u5916\u90e8\u304b\u3089 tamesi5.php \u3067\u30a8\u30f3\u30ad\u30e5\u30fc\u3057\u305f\u5185\u5bb9\u306f\u3001\u5185\u90e8\u306e php tamesi6.php \u3067\u898b\u308c\u308b\u3002\uff08RabbitMQ\uff09\n- C# \u3067\u30a8\u30f3\u30ad\u30e5\u30fc\u3057\u305f\u5185\u5bb9\u306f\u3001C# \u3067\u30c7\u30ad\u30e5\u30fc\u3067\u304d\u308b\u3002(RabbitMQ)\n\n\u5168\u90e8\u3000\u3070\u3089\u3070\u3089\u3060\u3002**\u7d50\u5c40\u3001\u30d5\u30a1\u30a4\u30eb\u3067\u4ef2\u4ecb\u3059\u308b\u3057\u304b\u306a\u3044\u306e\u304b\uff1f**\n\n\u3058\u3083\u3042\u3001tamesi6.php \u3092\u5e38\u99d0\u3067\u304d\u306a\u3044\u304b\uff1f\n\n# forever\u30b3\u30de\u30f3\u30c9\n\n\u300cnode.js node.js\u30b9\u30af\u30ea\u30d7\u30c8\u3092forever\u3067\u30c7\u30fc\u30e2\u30f3\u5316\u3059\u308b\u300d (\u3067\u3058\u3046\u3043\u304d)\nhttp://onlineconsultant.jp/pukiwiki/?node.js%20node.js%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%82%92forever%E3%81%A7%E3%83%87%E3%83%BC%E3%83%A2%E3%83%B3%E5%8C%96%E3%81%99%E3%82%8B\n\n\u3053\u308c\u306f node.js \u5c02\u7528\u3060\u3063\u305f\u308a\u3057\u306a\u3044\u3093\u3060\u308d\u3046\u304b\u3002\n\n\u300c\u81ea\u4f5c\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u30c7\u30fc\u30e2\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3055\u305b\u308b\u300d (http://7ujm.net)\nhttp://7ujm.net/linux/daemon.html\n\n# nohup\n\n\u300c\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9 \u30b8\u30e7\u30d6\u3092\u7d99\u7d9a\u3059\u308b\u65b9\u6cd5\u300d (\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u63a2\u691c\u968a)\nhttps://www.codereading.com/nb/ignore-the-hangup-signal.html\n\n\u3058\u3083\u3042\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u3067\u304d\u308b\u306e\u3060\u308d\u3046\u304b\uff1f\n\n'''\nnohup php tamesi6.php > out.log 2> err.log < /dev/null &\n'''\n\n'''\n[3] 13092\njobs\n[1]+  Stopped                 nano tamesi6.php\n[2]   Running                 rabbitmq-server &\n[3]-  Running                 nohup php tamesi6.php > out.log 2> err.log < /dev/null &\n'''\n\n\u8a66\u3057\u306b\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u307f\u308b\u3002\n\nsu \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3044\u904e\u304e\u305f\u306e\u304b\u3001\u4f55\u56de\u3082 exit \u3057\u305f\u3002\n\n'''\njobs\n'''\n\n\u306a\u3093\u306b\u3082\u3044\u306a\u304f\u306a\u3063\u305f\u304c\u3002\n\ntamesi6.php \u306f\u7121\u9650\u30eb\u30fc\u30d7\u3067\u306a\u304b\u3063\u305f\u304b\u3089\u304b\u3002\n\n\u3058\u3083\u3042\u3001tamesi6.php \u3092\u7121\u9650\u30eb\u30fc\u30d7\u3067\u56f2\u3063\u3066\u3001 /var/www/html \u30d5\u30a9\u30eb\u30c0\u30fc\u304b\u3089 /home/watasi/shogi/ukamuse_sdt4/bin \u30d5\u30a9\u30eb\u30c0\u30fc\u3078\u79fb\u52d5\u3057\u3088\u3046\u3002\n\n# PHP\u306e\u74b0\u5883\u3092\u4f5c\u308d\u3046\n\n\u305f\u3060\u3001\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u5c06\u68cb\u30b5\u30fc\u30d0\u30fc\u306e\u74b0\u5883\u3068\u6df7\u3056\u3063\u3066\u3084\u3084\u3053\u3057\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n\n\u3072\u3068\u307e\u305a /home/watasi/shogi/receive \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6398\u308b\u3053\u3068\u306b\u3059\u308b\u3002\n\n'''\n/home/csg10/shogi# mkdir receive\n'''\n\n\u3053\u306e\u4e2d\u306b PHP\u30d7\u30ed\u30b0\u30e9\u30e0\u7528\u306e\u74b0\u5883\u3092\u4f5c\u308d\u3046\u3002\n\n```\ncd receive\n```\n\n\u6b21\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u3066\u7f6e\u3044\u3066\u304a\u304f\u3002\u73fe\u72b6\u3092\u3069\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u3057\u305f\u3044\u304b\u66f8\u3044\u3066\u304a\u304f\u30d5\u30a1\u30a4\u30eb\u3060\u3002\n\ncomposer.json\n\n```\n{\n    \"require\": {\n        \"php-amqplib/php-amqplib\": \"2.5.*\"\n    }\n}\n```\n\n\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u304f\u3002\n\n```\ncomposer install\n```\n\n```\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 1 install, 0 updates, 0 removals\n  - Installing php-amqplib/php-amqplib (v2.5.2) Downloading: 100%\nWriting lock file\nGenerating autoload files\n```\n\n\u30eb\u30fc\u30c8\u30e6\u30fc\u30b6\u30fc\u3067\u306f\u8d70\u3089\u306a\u3044\u3068\u66f8\u3044\u3066\u3042\u308b\u304c\u3001\u8d70\u3063\u3066\u3044\u308b\u3088\u3046\u3060\u304c\u2026\u2026\u3002\n\n```\nls\ncomposer.json  composer.lock  vendor\n```\n\n\u306a\u3093\u304b\u63c3\u3063\u3066\u308b\u3057\u3002PHP\u5c02\u7528\u306e\u74b0\u5883\u306b\u3057\u305f\u3044\u3093\u3067\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u540d\u3092 php_receive \u306b\u30ea\u30cd\u30fc\u30e0\u3059\u308b\u304b\u3002\n\n```\ncd ..\nls\nreceive  ukamuse_sdt4  ukamuse_sdt4.zip\nmv receive php_receive\nls\nphp_receive  ukamuse_sdt4  ukamuse_sdt4.zip\n```\n\n\u3058\u3083\u3042\u3001\u3053\u3053\u306b tamesi6.php \u3092\u79fb\u52d5\u3055\u305b\u3088\u3046\u3002\u3068\u3044\u3046\u304b \u3053\u3053\u306b loop6.php \u3092\u66f8\u3044\u3066\u3001tamesi6.php \u306f\u524a\u9664\u3057\u3088\u3046\u3002\n\n# loop6.php \u3092\u66f8\u304f\n\n```\ncd php_receive\nnano loop6.php\n```\n\n\u3067\u3082 \u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u3089\u306a\u3093\u3067 nohup \u3067\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u8d77\u52d5\u3057\u305f PHP \u304c\u843d\u3061\u305f\u306e\u3060\u308d\u3046\u304b\u3002\nPHP \u304c\u5927\u5143\u304b\u3089\u843d\u3061\u305f\u306e\u3060\u308d\u3046\u304b\uff1f\n\n\u300cnohup: run PHP process in background\u300d (stack overflow)\nhttp://stackoverflow.com/questions/5288584/nohup-run-php-process-in-background\n\n\u7d76\u5bfe\u30d1\u30b9\u3067\u6307\u5b9a\u3057\u305f\u65b9\u304c\u3044\u3044\u306e\u304b\u3002\n\nloop6.php\n\n```\n<?php\n// \u53d7\u4fe1\u7528\n// \u30b5\u30fc\u30d0\u30fc\u306e\u5916\u90e8\u304b\u3089\u306f\u30a2\u30af\u30bb\u30b9\u3057\u306a\u3044\u3002\n// \u30b5\u30fc\u30d0\u30fc\u306e\u5185\u5074\u306b\u7f6e\u3044\u3066\u7121\u9650\u30eb\u30fc\u30d7\u3055\u305b\u308b\n//\n// \u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5b9f\u884c\u3059\u308b\n//\n\n// \u64cd\u4f5c\u8aac\u660e\u3092\u51fa\u529b\u3057\u3066\u304a\u3053\u3046\u3002\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u308b\u3093\u3060\u308d\u3046\u304c\u2026\u2026\necho 'How to use'                 . \"\\n\";\necho '=========='                 . \"\\n\";\necho                                \"\\n\";\necho '    Start infinity loop'    . \"\\n\";\necho '    -------------------'    . \"\\n\";\necho '        After ( nohup php /home/\u2605user/shogi/php_receive/loop6.php > /home/\u2605user/shogi/php_log/loop6.out.log 2> /home/\u2605user/shogi/php_log/loop6.err.log < /dev/null & )' . \"\\n\";\necho '        By absolute path.'  . \"\\n\";\necho                                \"\\n\";\necho '    To finish kill'         . \"\\n\";\necho '    --------------'         . \"\\n\";\necho '        jobs'               . \"\\n\";\necho '        kill %(job number)' . \"\\n\";\n\nrequire_once __DIR__ . '/vendor/autoload.php';\nuse PhpAmqpLib\\Connection\\AMQPStreamConnection;\n\n// \u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u306e\u524d\u6e96\u5099\u3092\u3059\u308b\u305c\u2606\uff08\uff3e\uff5e\uff3e\uff09\n$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');\n$channel = $connection->channel();\n$QKey = '1111';\n$channel->queue_declare($QKey, false, false, false, false);\n\n// \u30ad\u30e5\u30fc\u3092\u958b\u3044\u3066\u3057\u307e\u3048\u3070\u3001\u3042\u3068\u306f\u7121\u9650\u30eb\u30fc\u30d7\uff01\n\n// \u30c7\u30ad\u30e5\u30fc\u3057\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3059\u308b\u3053\u3068\u3092\u3053\u3053\u306b\u66f8\u304f\n$callback = function($msg) {\n    echo \" [x] Received \", $msg->body, \"\\n\";\n};\n$channel->basic_consume($QKey, '', false, true, false, false, $callback);\n\n// \u7121\u9650\u30eb\u30fc\u30d7\nwhile(count($channel->callbacks))\n{\n    // \u3053\u3053\u3067\u30d6\u30ed\u30c3\u30af\u3057\u306a\u304c\u3089\u30c7\u30ad\u30e5\u30fc\u3059\u308b\n    $channel->wait();\n}\n// \u3053\u3053\u306b\u6765\u306a\u3044\n// $channel->close();\n// $connection->close();\n```\n\n\u30ed\u30b0\u30d5\u30a9\u30eb\u30c0\u30fc\u306f\u3053\u3053\u306b\u3059\u308b\u3002\n/home/\u2605user/shogi/php_log/\n\n```\n/home/user/shogi# mkdir php_log\nls\nphp_log  php_receive  ukamuse_sdt4  ukamuse_sdt4.zip\n```\n\n# \u52d5\u304b\u3057\u3066\u307f\u3088\u3046\n\nhttp://\u2605.\u2605.\u2605.\u2605/tamesi5.php\n\n\u3078\u30a2\u30af\u30bb\u30b9\u3002\n\n```\n[x] Sent 'Flying Dragon!'\n```\n\n```\ncd ..\nls\nphp_log  php_receive  ukamuse_sdt4  ukamuse_sdt4.zip\ncd php_log\nls\nloop6.err.log  loop6.out.log\nnano loop6.out.log\n```\n\n```\nHow to use\n==========\n\n    Start infinity loop\n    -------------------\n        After ( nohup php /home/\u2605user/shogi/php_receive/loop6.php > /home/\u2605user$\n        By absolute path.\n\n    To finish kill\n    --------------\n        jobs\n        kill %(job number)\n [x] Received Flying Dragon!\n```\n\n\u3088\u3057\u3001\uff11\u884c\u66f8\u304d\u8db3\u3055\u308c\u3066\u3044\u308b\u3002\u6b21\u306f\u30ed\u30b0\u30a2\u30a6\u30c8\u3059\u308b\u3002\u305d\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u76f4\u3059\u3002\n\n```\nsudo su -\n\u203b\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\njobs\n```\n\n\u7a7a\u3063\u307d\u3060\u3002\n\n\u300cRun php script on background in PHP with nohup CLI\u300d (stack overflow)\nhttp://stackoverflow.com/questions/9100872/run-php-script-on-background-in-php-with-nohup-cli\n\nphp \u30b3\u30de\u30f3\u30c9\u3082\u7d76\u5bfe\u30d1\u30b9\u3067\u6307\u5b9a\u3057\u308d\u3001\u3068\u3044\u3046\u3053\u3068\u304b\u3002\n\nphp \u3092 /usr/bin/php \u306b\u66f8\u304d\u76f4\u3059\u3002\u3053\u308c\u3001\u30b3\u30e1\u30f3\u30c8\u304b\u3002\n\n```\necho '        After ( nohup /usr/bin/php /home/\u2605user/shogi/php_receive/loop6.php > /home/\u2605user/shogi/php_log/loop6.out.log 2> /home/\u2605user/shogi/php_log/loop6.err.log < /dev/null & )' . \"\\n\";\n```\n\n\u8d70\u3089\u305b\u3066\u3001\u30ed\u30b0\u30a2\u30a6\u30c8\u3001\u30ed\u30b0\u30a4\u30f3\u3002\n\n```\njobs\n```\n\n\u3067\u7a7a\u3063\u307d\u3002\n\n\u300c\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u5f8c\u3082\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u51e6\u7406\u3092\u7d9a\u3051\u308b\uff1f\uff08\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306bnohup\uff09\u300d (kazmax)\nhttp://kazmax.zpp.jp/linux_beginner/nohup.html\n\n\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3060\u308d\u3046\u304b\uff1f\n\n```\nls -an\ntotal 12\ndrwxr-xr-x 2 0 0 4096 Mar  7 19:09 .\ndrwxr-xrwx 5 0 0 4096 Mar  7 18:49 ..\n-rw-r--r-- 1 0 0    0 Mar  7 19:06 loop6.err.log\n-rw-r--r-- 1 0 0  358 Mar  7 19:06 loop6.out.log\n```\n\n\u30eb\u30fc\u30c8\u30fb\u30e6\u30fc\u30b6\u30fc\u3067\u5b9f\u884c\u3057\u3066\u3044\u308b\u3093\u3060\u304b\u3089\u3000\u554f\u984c\u306a\u3044\u3088\u3046\u306a\u6c17\u3082\u3059\u308b\u304c\u3001\n\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306b\u7f6e\u3044\u3066\u3042\u308b\u3053\u3068\u306f\u554f\u984c\u304b\uff1f\n\n```\nchmod 666 loop6.err.log\nchmod 666 loop6.out.log\nls -an\n\uff5e\u4e2d\u7565\uff5e\n-rw-rw-rw- 1 0 0    0 Mar  7 19:06 loop6.err.log\n-rw-rw-rw- 1 0 0  358 Mar  7 19:06 loop6.out.log\n```\n\n\u3053\u308c\u3067\u3069\u3046\u304b\uff1f\n\n```\nlogout\nsudo su -\njobs\n```\n\n\u7a7a\u3063\u307d\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n\u300cssh\u3067\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u305f\u3042\u3068\u3082\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u7d9a\u3051\u305f\u3044\u3068\u304d\u306enohup\u3068screen\u300d (don-bra.co)\nhttp://asayamakk.hatenablog.com/entry/2016/04/09/213904\n\n\u300c\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3055\u305b\u308b\u300d (inamuu)\nhttp://wiki.inamuu.com/index.php?%E3%83%AD%E3%82%B0%E3%82%A2%E3%82%A6%E3%83%88%E3%81%97%E3%81%A6%E3%82%82%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%95%E3%81%9B%E3%82%8B\n\ndisown \u3068 top \u3092\u8abf\u3079\u3066\u307f\u308b\u304b\u3002\n\n\u300cHUP\u30b7\u30b0\u30ca\u30eb\u3068nohup\u3068disown\u3068\u30d0\u30c3\u30af/\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u30b8\u30e7\u30d6\u306e\u7406\u89e3\u300d (Qiita)\nhttp://qiita.com/yushin/items/732043ee23281f19f983\n\n\u300cnohup \u30b3\u30de\u30f3\u30c9 &\u300d \u306f\u3000\u3084\u3063\u3066\u308b\u3093\u3060\u304c\u306a\u3041\u3002\n\n\u300c\u6280\u8853/UNIX/\u306a\u305cnohup\u3092\u30d0\u30c3\u30af\u30b0\u30e9\u30f3\u30c9\u30b8\u30e7\u30d6\u3068\u3057\u3066\u8d77\u52d5\u3059\u308b\u306e\u304c\u5b9a\u756a\u306a\u306e\u304b\uff1f(\u64ec\u4f3c\u7aef\u672b, Pseudo Terminal, SIGHUP\u4ed6)\u300d (www.glamenv-septzen.net)\nhttps://www.glamenv-septzen.net/view/854\n\n\u300cnohup \u30b3\u30de\u30f3\u30c9 &\u300d \u3092\u3084\u3063\u3066 jobs \u304c\u7a7a\u3063\u307d\u306b\u306a\u308b\u3093\u3060\u304c\u306a\u3041\u3002\n\n\u300cRun a nohup command over SSH, then disconnect\u300d (Ubuntu)\nhttp://askubuntu.com/questions/349262/run-a-nohup-command-over-ssh-then-disconnect\n\n# \u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u3067 PuTTY \u3092\u4f7f\u3063\u3066 SSH\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\u300cnohup \u30b3\u30de\u30f3\u30c9 &\u300d\u3092\u3084\u3063\u3066 exit \u3057\u3066\u518d\u5ea6\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3001jobs \u306f\u7a7a\u3063\u307d\u3002\n\n\u3069\u3053\u304b\u3089\u624b\u3092\u4ed8\u3051\u308b\u3079\u304d\u304b\u3002\n\n# \u30b8\u30e7\u30d6\u3068\u30d7\u30ed\u30bb\u30b9\u306f\u9055\u3046\n\n\u300c\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3057\u7d9a\u3051\u308b\u300d (Linux\u30b3\u30de\u30f3\u30c9\u9006\u5f15\u304d\u5927\u5168)\nhttp://itpro.nikkeibp.co.jp/article/COLUMN/20060228/231191/\n\n```\nps\n  PID TTY          TIME CMD\n21573 pts/1    00:00:00 bash\n21924 pts/1    00:00:00 ps\n```\n\n\u30d7\u30ed\u30bb\u30b9\u3082\u3044\u306a\u3044\u304c\u3002\n\n```\nnohup /usr/bin/php /home/\u2605user/shogi/php_receive/loop6.php > /home/\u2605user/shogi/php_log/loop6.out.log 2> /home/\u2605user/shogi/php_log/loop6.err.log < /dev/null &\n ps\n  PID TTY          TIME CMD\n21573 pts/1    00:00:00 bash\n21955 pts/1    00:00:00 php\n21956 pts/1    00:00:00 ps\n```\n\n\u3053\u3053\u304b\u3089\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u308b\u3002\n\n```\nsudo su -\nps\n  PID TTY          TIME CMD\n21971 pts/1    00:00:00 sudo\n21972 pts/1    00:00:00 su\n21973 pts/1    00:00:00 bash\n21989 pts/1    00:00:00 ps\n```\n\n# \u30b7\u30a7\u30eb\u30fb\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3089\u3069\u3046\u304b\uff1f\nPHP\u30d7\u30ed\u30bb\u30b9\u304c\u6d88\u3048\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3002\n\n\u3058\u3083\u3042\u3001\u30b7\u30a7\u30eb\u30fb\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3089\u6d88\u3048\u306a\u3044\u306e\u304b\uff1f\n\n\u300cbash \u3067\u7121\u9650\u30eb\u30fc\u30d7\u300d (ablog)\nhttp://d.hatena.ne.jp/yohei-a/20090524/1243171328\n\nloop8.sh\n\n```\n#!/bin/bash\n# \u7121\u9650\u30eb\u30fc\u30d7\u306e\u7f6e\u7269\nwhile :\ndo\n    # \u3053\u3053\u306b\u51e6\u7406\u3092\u66f8\u304f\n    sleep 1m\ndone\n```\n\n\u300cLinux / UNIX: Bash Script Sleep or Delay a Specified Amount of Time\u300d (nixCraft)\nhttps://www.cyberciti.biz/faq/linux-unix-sleep-bash-scripting/\n\n```\nmkdir bash_receive\nmkdir bash_log\ncd bash_receive\nnano loop8.sh\n```\n\n```\nnohup /home/\u2605user/shogi/bash_receive/loop8.sh > /home/\u2605user/shogi/bash_log/loop8.out.log 2> /home/\u2605user/shogi/bash_log/loop8.err.log < /dev/null &\n[1] 22338\njobs\n[1]+  Exit 126                nohup /home/\u2605user/shogi/bash_receive/loop8.sh > /home/\u2605user/shogi/bash_log/loop8.out.log 2> /home/\u2605user/shogi/bash_log/loop8.err.log < /dev/null\nps\n  PID TTY          TIME CMD\n21971 pts/1    00:00:00 sudo\n21972 pts/1    00:00:00 su\n21973 pts/1    00:00:00 bash\n22262 pts/1    00:00:00 ps\n```\n\n\u3053\u308c\u3067 bash \u30d7\u30ed\u30bb\u30b9\u304c loop8.sh \u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u3092\u3084\u3063\u3066\u3044\u308b\u306e\u304b\u3002\n\u3082\u3046\uff11\u56de\n\n```\njobs\n```\n\n\u7a7a\u3063\u307d\u3060\u3002Exit \u3057\u3066\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3002\n\n# \u8a18\u4e8b\u304c\u9577\u304f\u306a\u3063\u305f\u306e\u3067\u3001\u6b21\u306e\u8a18\u4e8b\u306b\u79fb\u308b\u3002\n"}