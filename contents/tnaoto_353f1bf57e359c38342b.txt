{"context": " More than 1 year has passed since last update.AWS\u306e\u65b0\u4f5ccodedeploy\u3092\u8a66\u3057\u3066\u307f\u307e\u3059\n\u30de\u30cb\u30e5\u30a2\u30eb\u3082\u8aad\u307e\u305a\u306b\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30dd\u30c1\u30dd\u30c1\u3068\u3044\u304d\u307e\u3059\n\u307e\u305a\u3001\u4f7f\u3048\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u307e\u3060\uff12\u3064\u3057\u304b\u306a\u3044\u6a21\u69d8\n\u65b0\u6a5f\u80fd\u304c\u30d0\u30fc\u30b8\u30cb\u30a2\u306a\u306e\u306f\u9244\u677f\u3067\u3059\u306d\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u3093\u3067\u30a6\u30a7\u30eb\u30ab\u30e0\u753b\u9762\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4eca\u56de\u306fsample\u3068\u3057\u3066\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u3068\u3053\u308d\u3067\u3001\u3053\u3093\u306a\u98a8\u306bWEB\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3067sample\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3063\u3066\u3042\u308a\u307e\u3057\u305f\u3063\u3051\uff1f\n\u3055\u3089\u306b\u307d\u3061\u307d\u3061\u9032\u307f\u307e\u3059\n\nAmazonLinux\u3092\u9078\u629e\u3057\u3066\u8d77\u52d5\n\u3053\u3053\u3067windows\u3092\u9078\u629e\u3057\u3066\u3082\u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u540c\u3058WEB\u306e\u753b\u9762\u3067\u3057\u305f\u3002\n\u9055\u3044\u306f\u5f8c\u8ff0\ncodedeploy\u3067\u5229\u7528\u3059\u308bVM\u3092\u8d77\u52d5\u3059\u308b\u3068\n\nCloudFormation\u3067\u8d77\u52d5\u3059\u308b\u306e\u3067\u3001\u305d\u3063\u3061\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u307f\u308d\u7684\u306a\u30c0\u30a4\u30e4\u30ed\u30b0\u304c\u51fa\u307e\u3057\u305f\u306e\u3067\u3001\n\u8997\u3044\u3066\u307f\u308b\u3068\n\n\u30c7\u30d7\u30ed\u30a4\u304c\u59cb\u307e\u3063\u3066\u3044\u307e\u3057\u305f\u3002\nVM\u306e\u8d77\u52d5\u306f\u3001CloudFormation\u3092\u4f7f\u3063\u3066\u8d77\u52d5\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u30b5\u30f3\u30d7\u30eb\u3060\u304b\u3089\u3067\u3057\u3087\u3046\u304b\uff1f\nCloudFromation\u306eDescription\u3092\u898b\u3066\u307f\u308b\u3068\nCreate instances ready for CodeDeploy: Create up to 3 Amazon EC2 instances with an associated instance profile and install the AWS CodeDeploy Agent. \n**WARNING** This template creates one or more Amazon EC2 instances. You will be billed for the AWS resources used if you create a stack from this template.\n\n3\u3064\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3088\u3046\u3067\u3059\u3002\n\ncodeDeploy\u306e\u30c0\u30a4\u30e4\u30ed\u30b0\u306b\u306f\u3001CloudFormation\u306e\u3067 CREATE_COMPLETE \u3068\u306a\u3063\u3066\u304b\u3089\u3001\u6b21\u3078\u9032\u3081\u3068\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u3057\u3070\u3057\u5f85\u6a5f\u3057\u307e\u3059\n\nCREATE_COMPLETE\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u6b21\u306b\u9032\u307f\u307e\u3059\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u540d\u524d\u3092\u3064\u3051\u307e\u3059\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u307e\u3059\n\n\u3053\u3053\u3067\u30b5\u30f3\u30d7\u30eb\u306e\u4e2d\u8eab\u304c\u53d6\u5f97\u51fa\u6765\u308b\u306e\u3067\u3001\u898b\u3066\u307f\u308b\u3068\n\n\u3053\u306e\u3088\u3046\u306a\u4e2d\u8eab\u3067\u3057\u305f\n\u3061\u306a\u307f\u306b\u3001window\u7528\u3060\u3068\u3053\u3093\u306a\u611f\u3058\n\n\u4e2d\u8eab\u306e\u9055\u3044\u306f\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068OS\u30b3\u30de\u30f3\u30c9\u306e\u9055\u3044\u3060\u3051\u3067\u3057\u305f\n\u3053\u306e\u4e2d\u306eappspec.yml\u304c\u9375\u306e\u3088\u3046\u306a\u306e\u3067\u3001\u4e2d\u8eab\u3092\u898b\u3066\u307f\u308b\u3068\nAmazonLinux\u306e\u5834\u5408\nversion: 0.0\nos: linux\nfiles:\n  - source: /index.html\n    destination: /var/www/html/\nhooks:\n  BeforeInstall:\n    - location: scripts/install_dependencies\n      timeout: 300\n      runas: root\n    - location: scripts/start_server\n      timeout: 300\n      runas: root\n  ApplicationStop:\n    - location: scripts/stop_server\n      timeout: 300\n      runas: root\n\nwindows\u306e\u5834\u5408\nversion: 0.0\nos: windows\nfiles:\n  - source: \\index.html\n    destination: C:\\inetpub\\wwwroot\nhooks:\n  BeforeInstall:\n    - location: \\before-install.bat\n      timeout: 900\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d5\u30c3\u30af\u3068\u601d\u308f\u308c\u308b\u66f8\u5f0f\u3068http\u306e\u30eb\u30fc\u30c8\u30d5\u30a9\u30eb\u30c0\u304c\u8a18\u8f09\u308c\u3066\u3044\u307e\u3057\u305f\nscripts\u306e\u4e2d\u8eab\u306f\nAmazonLinux\u306e\u5834\u5408\n#!/bin/bash\nservice httpd start\n\n#!/bin/bash\nisExistApp = `pgrep httpd`\nif [[ -n  $isExistApp ]]; then\n    service httpd stop        \nfi\n\n#!/bin/bash\nyum install -y httpd\n\nwindows\u306e\u5834\u5408\u306ebefore-install.bat\nREM Install Internet Information Server (IIS). \nc:\\Windows\\Sysnative\\WindowsPowerShell\\v1.0\\powershell.exe -Command Import-Module -Name ServerManager\nc:\\Windows\\Sysnative\\WindowsPowerShell\\v1.0\\powershell.exe -Command Install-WindowsFeature Web-Server\n\n\n\u30b3\u30de\u30f3\u30c9\u304c\u305d\u306e\u307e\u307e\u3067\u3057\u305f\n\u6b21\u306b\u30c7\u30d7\u30ed\u30a4\u30b0\u30eb\u30fc\u30d7\u3092\u8a2d\u5b9a\n\nEC2\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30bf\u30b0\u3092\u3064\u3051\u3066\u7ba1\u7406\u3059\u308b\u307f\u305f\u3044\u3067\u3059\n\u3053\u3053\u3067\u3001\u3055\u304d\u307b\u3069CloudFormation\u3067\u8d77\u52d5\u3057\u305fVM\u4ee5\u5916\u306b\u3082\u540c\u3058\u30bf\u30b0\u304c\u3064\u3044\u3066\u3044\u305f\u5834\u5408\u3001instance\u306e\u6570\u304c\u30bf\u30b0\u306b\u53cd\u5fdc\u3057\u3066\u5897\u3048\u307e\u3059\n\u307e\u305f\u3001\u30bf\u30b0\u540d\u306fautoscalling\u30b0\u30eb\u30fc\u30d7\u306e\u540d\u524d\u3082\u4ed8\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u307f\u305f\u3044\u3067\u3059\n\u30b5\u30fc\u30d3\u30b9\u30ed\u30fc\u30eb\u306e\u8a2d\u5b9a\n\ncreate\u3068use\u304c\u4f7f\u3048\u307e\u3059\u304c\u3001use\u306e\u6642\u70b9\u3067codedeploy\u7528\u306e\u30ed\u30fc\u30eb\u304c\u4f5c\u3089\u308c\u3066\u3044\u307e\u3057\u305f\n\u6050\u3089\u304fWEB\u306e\u30b5\u30f3\u30d7\u30eb\u5c02\u7528\u306b\u4f5c\u3089\u308c\u3048\u308b\u3082\u306e\u3067\u3057\u3087\u3046\n\u4f5c\u3089\u308c\u3066\u3044\u308b\u30ed\u30fc\u30eb\u306f\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\n\n\u30c7\u30d7\u30ed\u30a4\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\n\n\u4ee5\u4e0b\u306e\uff13\u3064\u306e\u8a2d\u5b9a\u304c\u51fa\u6765\u308b\u6a21\u69d8\n \u90fd\u5ea6\uff11\u56de\n \uff13\uff10\u5206\u306b\uff11\u56de\n \u5168\u4f53\u3067\uff11\u56de\n\u4eca\u56de\u306f\uff11\u56de\u306e\u3084\u3064\u3092\u9078\u629e\n\u6700\u5f8c\u306b\u8a2d\u5b9a\u4e00\u89a7\u304c\u51fa\u3066\u554f\u984c\u306a\u3051\u308c\u3070\u5b9f\u884c\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\n\n\u3057\u3070\u3089\u304f\u3059\u308b\u3068\u3001view\u306b\u5909\u5316\n\n\u3055\u3089\u306b\u5f85\u3064\u3068\u30013\u30ce\u30fc\u30c9\u306b\u30c7\u30d7\u30ed\u30a4\u304c\u5b8c\u4e86\n\n\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u30fb\u30fb\u30fb\u3068\u3044\u3063\u3066\u3082\u3001\u3069\u3053\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u826f\u3044\u304b\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u3001\uff13\u3064\u306eVM\u306e\u3069\u308c\u304b\u306epublicIP\u306bhttp\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\u3068\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\u8a66\u3057\u306b\u4ed6\u306eVM\u306eIP\u306b\u3057\u3066\u3082\u540c\u3058\u3082\u306e\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\u306a\u304a\u3001Linux/Windows\u3069\u3061\u3089\u3067\u8a66\u3057\u3066\u3082\u540c\u3058\u7d50\u679c\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\u7a3c\u50cd\u4e2d\u306f\u3053\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308b\u3088\u3046\u3067\u3059\n\n\n\u3055\u3066\u3001\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u305f\u306e\u3067\u3001\u4eca\u5ea6\u306f\u524a\u9664\u3057\u3066\u307f\u307e\u3059\n\u4e0a\u8a18\u306e\u753b\u9762\u306e\u6e08\u306b\u3042\u308bDelete\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\n\n\u3053\u306e\u3088\u3046\u306a\u8868\u793a\u304c\u51fa\u3066\u3001\u3055\u3089\u306b\u7d9a\u884c\u3059\u308b\u3082\u30fb\u30fb\u30fb\u6d88\u3048\u307e\u305b\u3093\u3067\u3057\u305f\n\u6b63\u78ba\u306b\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u304c\u3001VM\u306f\u524a\u9664\u3055\u308c\u307e\u305b\u3093\u3067\u3057\u305f\n\u305d\u3053\u3067\ncloudformation\u304b\u3089\u6d88\u3057\u3066\u307f\u307e\u3059\n\n\n\n\n\u6d88\u3048\u307e\u3057\u305f\uff08\u5f53\u305f\u308a\u524d\n\n\u7dcf\u8a55\nopswork\u3068\u88ab\u3063\u3066\u3044\u308b\u30ec\u30a4\u30e4\u306b\u3082\u601d\u3048\u307e\u3059\u304c\u3001chef\u304c\u66f8\u3051\u306a\u3044\u3068\u3044\u3063\u305f\u30a8\u30f3\u30b8\u30cb\u30a2\u306b\u5411\u3051\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30d9\u30fc\u30b9\u306e\u30b5\u30fc\u30d3\u30b9\u3068\u3044\u3046\u611f\u3058\u306b\u601d\u3048\u307e\u3057\u305f\n\u307e\u305f\u3001windows\u7248\u304c\u3042\u308b\u306e\u3067\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u3067windows\u30d0\u30ea\u30d0\u30ea\u306e\u30b7\u30b9\u30c6\u30e0\u306e\u79fb\u884c\u306b\u3082\u3082\u3057\u304b\u3057\u305f\u3089\u4f7f\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u8a73\u7d30\u306f\u3001WEB\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u53c2\u7167\u3055\u308c\u308b\u3068\u826f\u3044\u3068\u601d\u3044\u307e\u3059\nhttp://docs.aws.amazon.com/codedeploy/latest/userguide/welcome.html\n\u8fd1\u65e5\u4e2d\u306b\u3001custom\u7248\u3001\u304a\u3088\u3073CLI\u3067\u3082\u8a66\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\n\nAWS\u306e\u65b0\u4f5ccodedeploy\u3092\u8a66\u3057\u3066\u307f\u307e\u3059\n\n\u30de\u30cb\u30e5\u30a2\u30eb\u3082\u8aad\u307e\u305a\u306b\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30dd\u30c1\u30dd\u30c1\u3068\u3044\u304d\u307e\u3059\n\n\u307e\u305a\u3001\u4f7f\u3048\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u307e\u3060\uff12\u3064\u3057\u304b\u306a\u3044\u6a21\u69d8\n\u65b0\u6a5f\u80fd\u304c\u30d0\u30fc\u30b8\u30cb\u30a2\u306a\u306e\u306f\u9244\u677f\u3067\u3059\u306d\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.25.28.png](https://qiita-image-store.s3.amazonaws.com/0/28157/4062fd22-ad11-2511-fa89-1a7f2a01e981.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.25.28.png\")\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u3093\u3067\u30a6\u30a7\u30eb\u30ab\u30e0\u753b\u9762\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.25.42.png](https://qiita-image-store.s3.amazonaws.com/0/28157/c784a1c1-71da-e088-ccd1-8840e324b71b.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.25.42.png\")\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4eca\u56de\u306fsample\u3068\u3057\u3066\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.25.47.png](https://qiita-image-store.s3.amazonaws.com/0/28157/ca47d085-9e5d-cd36-86ff-4e6bf7a5d961.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.25.47.png\")\n\n\u3068\u3053\u308d\u3067\u3001\u3053\u3093\u306a\u98a8\u306bWEB\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3067sample\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3063\u3066\u3042\u308a\u307e\u3057\u305f\u3063\u3051\uff1f\n\n\u3055\u3089\u306b\u307d\u3061\u307d\u3061\u9032\u307f\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.25.52.png](https://qiita-image-store.s3.amazonaws.com/0/28157/a7e1c572-ad08-5336-e1e2-a9bf8b14e7e4.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.25.52.png\")\n\nAmazonLinux\u3092\u9078\u629e\u3057\u3066\u8d77\u52d5\n\u3053\u3053\u3067windows\u3092\u9078\u629e\u3057\u3066\u3082\u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u540c\u3058WEB\u306e\u753b\u9762\u3067\u3057\u305f\u3002\n\u9055\u3044\u306f\u5f8c\u8ff0\ncodedeploy\u3067\u5229\u7528\u3059\u308bVM\u3092\u8d77\u52d5\u3059\u308b\u3068\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.27.38.png](https://qiita-image-store.s3.amazonaws.com/0/28157/d3d4d4a6-a168-a9cd-dad9-db482451f566.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.27.38.png\")\n\nCloudFormation\u3067\u8d77\u52d5\u3059\u308b\u306e\u3067\u3001\u305d\u3063\u3061\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u307f\u308d\u7684\u306a\u30c0\u30a4\u30e4\u30ed\u30b0\u304c\u51fa\u307e\u3057\u305f\u306e\u3067\u3001\n\u8997\u3044\u3066\u307f\u308b\u3068\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.27.52.png](https://qiita-image-store.s3.amazonaws.com/0/28157/a1a9115a-87c6-8e80-9616-9073d294fd62.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.27.52.png\")\n\n\u30c7\u30d7\u30ed\u30a4\u304c\u59cb\u307e\u3063\u3066\u3044\u307e\u3057\u305f\u3002\nVM\u306e\u8d77\u52d5\u306f\u3001CloudFormation\u3092\u4f7f\u3063\u3066\u8d77\u52d5\u3057\u3066\u3044\u307e\u3057\u305f\u3002\n\u30b5\u30f3\u30d7\u30eb\u3060\u304b\u3089\u3067\u3057\u3087\u3046\u304b\uff1f\n\nCloudFromation\u306eDescription\u3092\u898b\u3066\u307f\u308b\u3068\n\n```\nCreate instances ready for CodeDeploy: Create up to 3 Amazon EC2 instances with an associated instance profile and install the AWS CodeDeploy Agent. \n**WARNING** This template creates one or more Amazon EC2 instances. You will be billed for the AWS resources used if you create a stack from this template.\n```\n\n3\u3064\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3088\u3046\u3067\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.34.42.png](https://qiita-image-store.s3.amazonaws.com/0/28157/ad6f3d30-e142-bafc-0144-51bca1867593.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.34.42.png\")\n\ncodeDeploy\u306e\u30c0\u30a4\u30e4\u30ed\u30b0\u306b\u306f\u3001CloudFormation\u306e\u3067 CREATE_COMPLETE \u3068\u306a\u3063\u3066\u304b\u3089\u3001\u6b21\u3078\u9032\u3081\u3068\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u3057\u3070\u3057\u5f85\u6a5f\u3057\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.36.16.png](https://qiita-image-store.s3.amazonaws.com/0/28157/e33524d4-4e98-dc0c-ee85-9ba402b920d3.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.36.16.png\")\n\nCREATE_COMPLETE\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u6b21\u306b\u9032\u307f\u307e\u3059\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u540d\u524d\u3092\u3064\u3051\u307e\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.36.32.png](https://qiita-image-store.s3.amazonaws.com/0/28157/e657dc60-2f0d-16ec-5c03-e8e98eacc237.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.36.32.png\")\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.37.06.png](https://qiita-image-store.s3.amazonaws.com/0/28157/c27fd8ec-9106-8f3f-729b-ce110e57b655.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.37.06.png\")\n\n\u3053\u3053\u3067\u30b5\u30f3\u30d7\u30eb\u306e\u4e2d\u8eab\u304c\u53d6\u5f97\u51fa\u6765\u308b\u306e\u3067\u3001\u898b\u3066\u307f\u308b\u3068\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.37.57.png](https://qiita-image-store.s3.amazonaws.com/0/28157/ae2f9cac-fb36-a968-cff9-dd842c3d05d8.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.37.57.png\")\n\n\u3053\u306e\u3088\u3046\u306a\u4e2d\u8eab\u3067\u3057\u305f\n\n\u3061\u306a\u307f\u306b\u3001window\u7528\u3060\u3068\u3053\u3093\u306a\u611f\u3058\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 20.43.38.png](https://qiita-image-store.s3.amazonaws.com/0/28157/86c807de-53fe-7a24-92be-b34b8129df4d.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 20.43.38.png\")\n\n\u4e2d\u8eab\u306e\u9055\u3044\u306f\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068OS\u30b3\u30de\u30f3\u30c9\u306e\u9055\u3044\u3060\u3051\u3067\u3057\u305f\n\u3053\u306e\u4e2d\u306eappspec.yml\u304c\u9375\u306e\u3088\u3046\u306a\u306e\u3067\u3001\u4e2d\u8eab\u3092\u898b\u3066\u307f\u308b\u3068\n\nAmazonLinux\u306e\u5834\u5408\n\n```yml\nversion: 0.0\nos: linux\nfiles:\n  - source: /index.html\n    destination: /var/www/html/\nhooks:\n  BeforeInstall:\n    - location: scripts/install_dependencies\n      timeout: 300\n      runas: root\n    - location: scripts/start_server\n      timeout: 300\n      runas: root\n  ApplicationStop:\n    - location: scripts/stop_server\n      timeout: 300\n      runas: root\n```\n\n\nwindows\u306e\u5834\u5408\n\n```\nversion: 0.0\nos: windows\nfiles:\n  - source: \\index.html\n    destination: C:\\inetpub\\wwwroot\nhooks:\n  BeforeInstall:\n    - location: \\before-install.bat\n      timeout: 900\n```\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d5\u30c3\u30af\u3068\u601d\u308f\u308c\u308b\u66f8\u5f0f\u3068http\u306e\u30eb\u30fc\u30c8\u30d5\u30a9\u30eb\u30c0\u304c\u8a18\u8f09\u308c\u3066\u3044\u307e\u3057\u305f\n\nscripts\u306e\u4e2d\u8eab\u306f\nAmazonLinux\u306e\u5834\u5408\n\n```start_server\n#!/bin/bash\nservice httpd start\n```\n\n```stop_server\n#!/bin/bash\nisExistApp = `pgrep httpd`\nif [[ -n  $isExistApp ]]; then\n    service httpd stop        \nfi\n```\n\n```install_dependencies\n#!/bin/bash\nyum install -y httpd\n```\n\nwindows\u306e\u5834\u5408\u306ebefore-install.bat\n\n```\nREM Install Internet Information Server (IIS). \nc:\\Windows\\Sysnative\\WindowsPowerShell\\v1.0\\powershell.exe -Command Import-Module -Name ServerManager\nc:\\Windows\\Sysnative\\WindowsPowerShell\\v1.0\\powershell.exe -Command Install-WindowsFeature Web-Server\n\n```\n\n\u30b3\u30de\u30f3\u30c9\u304c\u305d\u306e\u307e\u307e\u3067\u3057\u305f\n\n\u6b21\u306b\u30c7\u30d7\u30ed\u30a4\u30b0\u30eb\u30fc\u30d7\u3092\u8a2d\u5b9a\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.41.56.png](https://qiita-image-store.s3.amazonaws.com/0/28157/d0b02885-38df-5b15-2aca-a616bbeea9b9.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.41.56.png\")\n\nEC2\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30bf\u30b0\u3092\u3064\u3051\u3066\u7ba1\u7406\u3059\u308b\u307f\u305f\u3044\u3067\u3059\n\u3053\u3053\u3067\u3001\u3055\u304d\u307b\u3069CloudFormation\u3067\u8d77\u52d5\u3057\u305fVM\u4ee5\u5916\u306b\u3082\u540c\u3058\u30bf\u30b0\u304c\u3064\u3044\u3066\u3044\u305f\u5834\u5408\u3001instance\u306e\u6570\u304c\u30bf\u30b0\u306b\u53cd\u5fdc\u3057\u3066\u5897\u3048\u307e\u3059\n\n\u307e\u305f\u3001\u30bf\u30b0\u540d\u306fautoscalling\u30b0\u30eb\u30fc\u30d7\u306e\u540d\u524d\u3082\u4ed8\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u307f\u305f\u3044\u3067\u3059\n\n\u30b5\u30fc\u30d3\u30b9\u30ed\u30fc\u30eb\u306e\u8a2d\u5b9a\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.42.31.png](https://qiita-image-store.s3.amazonaws.com/0/28157/1fb8082d-6986-bb7a-3963-4c1baa9d77bd.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.42.31.png\")\ncreate\u3068use\u304c\u4f7f\u3048\u307e\u3059\u304c\u3001use\u306e\u6642\u70b9\u3067codedeploy\u7528\u306e\u30ed\u30fc\u30eb\u304c\u4f5c\u3089\u308c\u3066\u3044\u307e\u3057\u305f\n\u6050\u3089\u304fWEB\u306e\u30b5\u30f3\u30d7\u30eb\u5c02\u7528\u306b\u4f5c\u3089\u308c\u3048\u308b\u3082\u306e\u3067\u3057\u3087\u3046\n\n\u4f5c\u3089\u308c\u3066\u3044\u308b\u30ed\u30fc\u30eb\u306f\u3053\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.43.48.png](https://qiita-image-store.s3.amazonaws.com/0/28157/5fe4b355-569e-bfc2-ce01-e6461e63e2e9.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.43.48.png\")\n\n\u30c7\u30d7\u30ed\u30a4\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.44.16.png](https://qiita-image-store.s3.amazonaws.com/0/28157/2ff473d4-2cfc-f47d-158a-4cc420a00f6c.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.44.16.png\")\n\n\u4ee5\u4e0b\u306e\uff13\u3064\u306e\u8a2d\u5b9a\u304c\u51fa\u6765\u308b\u6a21\u69d8\n \u90fd\u5ea6\uff11\u56de\n \uff13\uff10\u5206\u306b\uff11\u56de\n \u5168\u4f53\u3067\uff11\u56de\n\u4eca\u56de\u306f\uff11\u56de\u306e\u3084\u3064\u3092\u9078\u629e\n\n\n\u6700\u5f8c\u306b\u8a2d\u5b9a\u4e00\u89a7\u304c\u51fa\u3066\u554f\u984c\u306a\u3051\u308c\u3070\u5b9f\u884c\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.46.00.png](https://qiita-image-store.s3.amazonaws.com/0/28157/4830f6e5-5fe4-8f2d-4011-5ecf5c97f735.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.46.00.png\")\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.46.31.png](https://qiita-image-store.s3.amazonaws.com/0/28157/995f09ad-1063-3ce0-54a9-180586445f98.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.46.31.png\")\n\n\u3057\u3070\u3089\u304f\u3059\u308b\u3068\u3001view\u306b\u5909\u5316\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.47.00.png](https://qiita-image-store.s3.amazonaws.com/0/28157/ef06d072-52d7-2f30-6a47-fbd96048c3f8.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.47.00.png\")\n\n\u3055\u3089\u306b\u5f85\u3064\u3068\u30013\u30ce\u30fc\u30c9\u306b\u30c7\u30d7\u30ed\u30a4\u304c\u5b8c\u4e86\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.48.32.png](https://qiita-image-store.s3.amazonaws.com/0/28157/2df1d09e-18fd-fd86-4675-8011627778e9.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.48.32.png\")\n\n\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u30fb\u30fb\u30fb\u3068\u3044\u3063\u3066\u3082\u3001\u3069\u3053\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u826f\u3044\u304b\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u3001\uff13\u3064\u306eVM\u306e\u3069\u308c\u304b\u306epublicIP\u306bhttp\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\u3068\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.49.36.png](https://qiita-image-store.s3.amazonaws.com/0/28157/ec444d04-9a2d-fa72-2196-553264774f3f.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.49.36.png\")\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\u8a66\u3057\u306b\u4ed6\u306eVM\u306eIP\u306b\u3057\u3066\u3082\u540c\u3058\u3082\u306e\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u3002\n\u306a\u304a\u3001Linux/Windows\u3069\u3061\u3089\u3067\u8a66\u3057\u3066\u3082\u540c\u3058\u7d50\u679c\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u7a3c\u50cd\u4e2d\u306f\u3053\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308b\u3088\u3046\u3067\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.53.54.png](https://qiita-image-store.s3.amazonaws.com/0/28157/8bb9689e-9db6-e587-8a8b-bcb6cbe62d75.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.53.54.png\")\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.50.28.png](https://qiita-image-store.s3.amazonaws.com/0/28157/763d3820-87da-8513-7ca2-860ad77712fa.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.50.28.png\")\n\n\u3055\u3066\u3001\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u305f\u306e\u3067\u3001\u4eca\u5ea6\u306f\u524a\u9664\u3057\u3066\u307f\u307e\u3059\n\u4e0a\u8a18\u306e\u753b\u9762\u306e\u6e08\u306b\u3042\u308bDelete\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.53.57.png](https://qiita-image-store.s3.amazonaws.com/0/28157/12d4c48e-3831-c962-dda4-b1f6dea406dc.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.53.57.png\")\n\n\u3053\u306e\u3088\u3046\u306a\u8868\u793a\u304c\u51fa\u3066\u3001\u3055\u3089\u306b\u7d9a\u884c\u3059\u308b\u3082\u30fb\u30fb\u30fb\u6d88\u3048\u307e\u305b\u3093\u3067\u3057\u305f\n\u6b63\u78ba\u306b\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u304c\u3001VM\u306f\u524a\u9664\u3055\u308c\u307e\u305b\u3093\u3067\u3057\u305f\n\u305d\u3053\u3067\ncloudformation\u304b\u3089\u6d88\u3057\u3066\u307f\u307e\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.54.54.png](https://qiita-image-store.s3.amazonaws.com/0/28157/8257e118-94ad-06ec-9b40-afd8626c34c1.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.54.54.png\")\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.54.58.png](https://qiita-image-store.s3.amazonaws.com/0/28157/aa4aec4e-5d21-486b-4177-06a1d5d27894.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.54.58.png\")\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.55.08.png](https://qiita-image-store.s3.amazonaws.com/0/28157/f0a8efb8-670e-13f3-166c-f9cea0a58c86.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.55.08.png\")\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.55.19.png](https://qiita-image-store.s3.amazonaws.com/0/28157/35d60269-7f09-2ee3-06ac-9fc8061512c5.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-15 19.55.19.png\")\n\n\u6d88\u3048\u307e\u3057\u305f\uff08\u5f53\u305f\u308a\u524d\n\n\n#\u7dcf\u8a55\n\nopswork\u3068\u88ab\u3063\u3066\u3044\u308b\u30ec\u30a4\u30e4\u306b\u3082\u601d\u3048\u307e\u3059\u304c\u3001chef\u304c\u66f8\u3051\u306a\u3044\u3068\u3044\u3063\u305f\u30a8\u30f3\u30b8\u30cb\u30a2\u306b\u5411\u3051\u305f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30d9\u30fc\u30b9\u306e\u30b5\u30fc\u30d3\u30b9\u3068\u3044\u3046\u611f\u3058\u306b\u601d\u3048\u307e\u3057\u305f\n\u307e\u305f\u3001windows\u7248\u304c\u3042\u308b\u306e\u3067\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\u3067windows\u30d0\u30ea\u30d0\u30ea\u306e\u30b7\u30b9\u30c6\u30e0\u306e\u79fb\u884c\u306b\u3082\u3082\u3057\u304b\u3057\u305f\u3089\u4f7f\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u8a73\u7d30\u306f\u3001WEB\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u53c2\u7167\u3055\u308c\u308b\u3068\u826f\u3044\u3068\u601d\u3044\u307e\u3059\n\nhttp://docs.aws.amazon.com/codedeploy/latest/userguide/welcome.html\n\n\u8fd1\u65e5\u4e2d\u306b\u3001custom\u7248\u3001\u304a\u3088\u3073CLI\u3067\u3082\u8a66\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\n\n\n", "tags": ["CodeDeploy", "AWS"]}