{"context": "\n\n\u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\n\u5358\u7d14\u306b\u3001StringBuffer\u578b\u306e\u6587\u5b57\u5217\u3092HashSet\u306b\u5165\u308c\u305f\u304b\u3063\u305f\n\n\u4f55\u304c\u30c0\u30e1\u304b\nStringBuffer(StringBuilder)\u306fequals()\u3068hashCode()\u304cOverride\u3055\u308c\u3066\u304a\u3089\u305a\u3001hash\u306e\u6bd4\u8f03\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u306a\u304b\u3063\u305f\u305f\u3081\u3000\u3000\n\n\u8ffd\u8a18\n\nStringBuffer\u306e\u5834\u5408\n// StringBuffer\nSet<StringBuffer> bufferSet = new HashSet<>();\nStringBuffer sb = new StringBuffer(\"\");\n\nfor (int i = 0; i < 10; i++){\n   sb.setLength(0);\n   sb.append(\"test\" + i);\n   bufferSet.add(sb);\n}\n\nbufferSet.forEach(s -> System.out.println(s));\n\n\n//\u7d50\u679c\ntest9\n\n\u3088\u304f\u8003\u3048\u305f\u3089\u3001\u540c\u3058Object\u306e\u4e2d\u8eab\u3092\u5909\u66f4\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u5f53\u7136\u306e\u7d50\u679c\u3067\u3057\u305f\u3002\n\u4e0b\u8a18\u306e\u5185\u5bb9\u306f\u3001\u5408\u308f\u305b\u3066\u8abf\u3079\u305f\u5185\u5bb9\u3067\u3059\u306e\u3067\u53c2\u8003\u7a0b\u5ea6\u306b\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002\nStringBuffer\u306e\u5834\u5408\u306f\u3001Java.lang.Object\u306eequals\u304c\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u305f\u3081(\u4e0b\u8a18)\u3001Object\u306e\u6bd4\u8f03\u306e\u307f\u3067\u3059\u3002\n\njava.lang.Object.java\npublic boolean equals(Object obj) {\n    return (this == obj);\n}\n\n\n\u4ee5\u4e0b\u306e\u65b9\u304c\u6709\u7528\u306a\u4f8b\u3067\u3059\u3002\nSet<StringBuffer> sbSet = new HashSet<>();\nsbSet.add(new StringBuffer(\"abc\"));\nsbSet.add(new StringBuffer(\"abc\"));\nsbSet.add(new StringBuffer(\"abc\"));\nsbSet.add(new StringBuffer(\"abc\"));        \n\nsbSet.forEach(s -> System.out.println(s));\n\n//\u7d50\u679c\nabc\nabc\nabc\nabc\n\nObject\u306e\u6bd4\u8f03\u306e\u307f\u3067\u3042\u308b\u306e\u3067\u3001\u4e2d\u306e\u6587\u5b57\u5217\u304c\u540c\u3058\u3067\u3082\u30a4\u30b3\u30fc\u30eb\u5224\u5b9a\u3055\u308c\u306a\u3044\u3002\n\nString\u306e\u5834\u5408\n// String\nSet<String> stringSet = new HashSet<>();\nString st = \"\";\n\nfor(int i = 0; i < 10; i++){\n   st = \"test\" + i;\n   stringSet.add(st);\n}\n\nstringSet.forEach(s -> System.out.println(s));\n\n//\u7d50\u679c\ntest4\ntest5\ntest2\ntest3\ntest8\ntest9\ntest6\ntest7\ntest0\ntest1\n\nString\u306f\u3001\u6bce\u56de\u65b0\u3057\u3044Object\u304c\u751f\u6210\u3055\u308c\u308b\u305f\u3081\u5f53\u7136\u3001Set\u306b\u65b0\u3057\u304f\u5165\u308b\u3002 \n\u3061\u306a\u307f\u306b\u3042\u307e\u308a\u95a2\u4fc2\u306a\u3044\u3067\u3059\u304c\u3001String\u306eequals\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\njava.lang.String.java\npublic boolean equals(Object anObject) {\n        if (this == anObject) {\n            return true;\n        }\n        if (anObject instanceof String) {\n            String anotherString = (String)anObject;\n            int n = value.length;\n            if (n == anotherString.value.length) {\n                char v1[] = value;\n                char v2[] = anotherString.value;\n                int i = 0;\n                while (n-- != 0) {\n                    if (v1[i] != v2[i])\n                        return false;\n                    i++;\n                }\n                return true;\n            }\n        }\n        return false;\n}\n\n\n\n\u53c2\u8003\nA Set in java never allows duplicates, but it takes StringBuffer objects with the same argument. Why?\n# \u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\n\u5358\u7d14\u306b\u3001StringBuffer\u578b\u306e\u6587\u5b57\u5217\u3092HashSet<StringBuffer>\u306b\u5165\u308c\u305f\u304b\u3063\u305f\n\n# \u4f55\u304c\u30c0\u30e1\u304b\nStringBuffer(StringBuilder)\u306fequals()\u3068hashCode()\u304cOverride\u3055\u308c\u3066\u304a\u3089\u305a\u3001hash\u306e\u6bd4\u8f03\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u306a\u304b\u3063\u305f\u305f\u3081\u3000\u3000\n\n# \u8ffd\u8a18\n####StringBuffer\u306e\u5834\u5408  \n\n```java\n// StringBuffer\nSet<StringBuffer> bufferSet = new HashSet<>();\nStringBuffer sb = new StringBuffer(\"\");\n\nfor (int i = 0; i < 10; i++){\n   sb.setLength(0);\n   sb.append(\"test\" + i);\n   bufferSet.add(sb);\n}\n\nbufferSet.forEach(s -> System.out.println(s));\n\n```\n\n```java\n//\u7d50\u679c\ntest9\n```\n\n**\u3088\u304f\u8003\u3048\u305f\u3089\u3001\u540c\u3058Object\u306e\u4e2d\u8eab\u3092\u5909\u66f4\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u5f53\u7136\u306e\u7d50\u679c\u3067\u3057\u305f\u3002\n\u4e0b\u8a18\u306e\u5185\u5bb9\u306f\u3001\u5408\u308f\u305b\u3066\u8abf\u3079\u305f\u5185\u5bb9\u3067\u3059\u306e\u3067\u53c2\u8003\u7a0b\u5ea6\u306b\u8f09\u305b\u3066\u304a\u304d\u307e\u3059\u3002**  \nStringBuffer\u306e\u5834\u5408\u306f\u3001Java.lang.Object\u306eequals\u304c\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u305f\u3081(\u4e0b\u8a18)\u3001Object\u306e\u6bd4\u8f03\u306e\u307f\u3067\u3059\u3002\n\n```java:java.lang.Object.java\npublic boolean equals(Object obj) {\n    return (this == obj);\n}\n```\n\n\u4ee5\u4e0b\u306e\u65b9\u304c\u6709\u7528\u306a\u4f8b\u3067\u3059\u3002\n\n```java\nSet<StringBuffer> sbSet = new HashSet<>();\nsbSet.add(new StringBuffer(\"abc\"));\nsbSet.add(new StringBuffer(\"abc\"));\nsbSet.add(new StringBuffer(\"abc\"));\nsbSet.add(new StringBuffer(\"abc\"));        \n\nsbSet.forEach(s -> System.out.println(s));\n```\n\n```java\n//\u7d50\u679c\nabc\nabc\nabc\nabc\n```\n\nObject\u306e\u6bd4\u8f03\u306e\u307f\u3067\u3042\u308b\u306e\u3067\u3001\u4e2d\u306e\u6587\u5b57\u5217\u304c\u540c\u3058\u3067\u3082\u30a4\u30b3\u30fc\u30eb\u5224\u5b9a\u3055\u308c\u306a\u3044\u3002\n\n  \n####String\u306e\u5834\u5408\n\n```java\n// String\nSet<String> stringSet = new HashSet<>();\nString st = \"\";\n\nfor(int i = 0; i < 10; i++){\n   st = \"test\" + i;\n   stringSet.add(st);\n}\n\nstringSet.forEach(s -> System.out.println(s));\n```\n\n```java\n//\u7d50\u679c\ntest4\ntest5\ntest2\ntest3\ntest8\ntest9\ntest6\ntest7\ntest0\ntest1\n```\n\nString\u306f\u3001\u6bce\u56de\u65b0\u3057\u3044Object\u304c\u751f\u6210\u3055\u308c\u308b\u305f\u3081\u5f53\u7136\u3001Set\u306b\u65b0\u3057\u304f\u5165\u308b\u3002 \n\u3061\u306a\u307f\u306b\u3042\u307e\u308a\u95a2\u4fc2\u306a\u3044\u3067\u3059\u304c\u3001String\u306eequals\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```java:java.lang.String.java\npublic boolean equals(Object anObject) {\n        if (this == anObject) {\n            return true;\n        }\n        if (anObject instanceof String) {\n            String anotherString = (String)anObject;\n            int n = value.length;\n            if (n == anotherString.value.length) {\n                char v1[] = value;\n                char v2[] = anotherString.value;\n                int i = 0;\n                while (n-- != 0) {\n                    if (v1[i] != v2[i])\n                        return false;\n                    i++;\n                }\n                return true;\n            }\n        }\n        return false;\n}\n```\n\n#\u53c2\u8003\n[A Set in java never allows duplicates, but it takes StringBuffer objects with the same argument. Why?](http://stackoverflow.com/questions/17462576/a-set-in-java-never-allows-duplicates-but-it-takes-stringbuffer-objects-with-th)\n", "tags": ["Java", "Java\u5165\u9580", "\u521d\u5fc3\u8005"]}