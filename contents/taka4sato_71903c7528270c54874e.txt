{"tags": ["Kinesis", "Firehose", "AndroidSDK", "Android"], "context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u4ee5\u524d\u3001Kinesis Firehose\u3092\u52d5\u304b\u3057\u3066\u898b\u308b\u3067\u3082\u30c1\u30e9\u30b7\u306e\u88cf\u3057\u307e\u3057\u305f\u304c\u3001Kinesis Firehose\u306f\u3001Backend Server\u3092\u81ea\u5206\u3067\u69cb\u7bc9/\u7ba1\u7406\u305b\u305a\u3068\u3082\u3001Android Client App\u3084IOT\u6a5f\u5668\u306eLog\u3092S3\u3084Redshift\u306b\u7c21\u5358\u306b\u6e9c\u3081\u3089\u308c\u308b\u3001\u3068\u3044\u3046Service\u3067\u3059\u3002\nGoogle Analytics, Amazon Mobile Analytics\u3068\u7af6\u5408\u3059\u308b\u9818\u57df\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001Backend server\u306f\u69cb\u7bc9\u7ba1\u7406\u3057\u305f\u304f\u306a\u3044\u3051\u3069\u3001\u751fLog\u306f\u6b32\u3057\u3044\u3001\u3068\u8a00\u3046\u5834\u5408\u306b\u4f7f\u3048\u308bService\u3067\u3059 (\u307f\u3093\u306a\u5927\u597d\u304dGoogle Analytics\u306f\u3001\u7121\u6599\u7248\u3060\u3068\u751fLog\u306eExport\u304c\u51fa\u6765\u306a\u3044\u306e\u3068\u3001\u500b\u4eba\u60c5\u5831\u306b\u8a72\u5f53\u3059\u308b\u60c5\u5831\u306f\u9001\u3063\u3066\u306f\u3044\u3051\u306a\u3044\u3068\u8a00\u3046\u5236\u7d04\u304c\u3042\u308a\u307e\u3059)\u3002\n\u305d\u306e\u4ed6\u3001\u8a73\u7d30\u306f\u7d39\u4ecb\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nAWS\u304c\u5916\u90e8\u306b\u4e00\u822c\u4f9b\u7528\u3059\u308bKinesis Firehose\u306fIoT\u306a\u3069\u306e\u30bb\u30f3\u30b5\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30a6\u30c9\u3078\u76f4\u63a5\u9001\u308b\nAmazon Kinesis Streams\u3068Amazon Kinesis Firehose\u306f\u4f55\u304c\u9055\u3046\u306e\u304b\n\n\u5148\u65e5\u3001\u3084\u3063\u3068Android SDK v2.2.10\u3067Kinesis Firehose\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3001Firehose\u306eClass\u3082\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u52d5\u4f5c\u78ba\u8a8d\u7528\u306eAndroid App\u3092\u4f5c\u3063\u3066Firehose\u7d4c\u7531\u3067S3\u306bLog\u3092Upload\u3059\u308bProto\u3092\u4f5c\u3063\u3066\u307f\u305f\u306e\u3067\u3001\u305d\u306e\u6642\u306e\u8a2d\u5b9a\u624b\u9806\u3001Android App\u306eCode\u3092\u30c1\u30e9\u30b7\u306e\u88cf\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u4f5c\u696d\u306e\u5168\u4f53\u306e\u6d41\u308c\n\u5168\u4f53\u306e\u6d41\u308c\u306f\u4ee5\u4e0b\u306e\u69d8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nCognito\u306eIdendity Pool\u306e\u4f5c\u6210\nKinesis Firehose\u306eStream\u306e\u4f5c\u6210\nAndroid App\u306e\u4f5c\u6210\u3001Log\u306eUpload\nUpload\u3055\u308c\u305fLog\u306e\u78ba\u8a8d\n\n\n\u6ce8\u610f\n\n\nFirehose\u306f\u307e\u3060N. Virginia, Oregon, Ireland\u306e3 Region\u306e\u307f\u30b5\u30dd\u30fc\u30c8\u306a\u306e\u3067\u3001Firehose, Cognito\u3068\u3082\u540c\u3058Region\u3067\u3001\u3053\u306e3\u3064\u306e\u3069\u3053\u304b\u306b\u4f5c\u3063\u3066\u4e0b\u3055\u3044\u3002\n\n\nAWS Cognito\u306eIdendity Pool\u306e\u4f5c\u6210\nCognito\u306eIdentity Pool\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Cognito\u306f\u99b4\u67d3\u307f\u304c\u7121\u3044\u65b9\u304c\u591a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u6700\u4f4e\u9650\u306e\u8a2d\u5b9a\u3067OK\u306a\u306e\u3067\u6016\u304f\u306a\u3044\u3067\u3059\u30011\u5206\u3067\u7d42\u308f\u308a\u307e\u3059\u3002Region\u3092N. Virginia\u7b49\u306b\u5909\u66f4\u3057\u3001AWS Console\u2192Cognito\u306b\u884c\u304d\u3001Create new identity pool\u3092\u9078\u629e\u3057\u307e\u3059\n\nStep1\n\nIdentity pool name\u306f\u9069\u5f53\u306a\u540d\u524d\u3092\u5165\u308c\u3066\u3001Enable access to unauthenticated identities\u306bChecke\u3092\u4ed8\u3051\u3066\u3001Create Pool\u3092\u9078\u629e\u3057\u4e0b\u3055\u3044\u3002\u3053\u308c\u3067Cognito\u306e\u8a2d\u5b9a\u306f\u5b9f\u8cea\u7d42\u308f\u308a\u3067\u3059\u3002\n\n\nStep2\n\nYour Cognito identities require access to your resources\u3068\u8a00\u3046UI\u306b\u79fb\u308a\u3001IAM role\u306e\u8a2d\u5b9a\u753b\u9762\u304c\u51fa\u307e\u3059\u304c\u3001\u4f55\u3082\u5909\u3048\u305a\u306bAllow\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\nSample Code\n\n\u3059\u308b\u3068\u3001Sample code\u306eUI\u306b\u79fb\u308a\u307e\u3059\u3002\"us-east-1:3030cfcf-4210-4980-99ab-34f941f4b16e\"\u306a\u3069\u306eIdentity Pool ID\u3092\u30b3\u30d4\u30da\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\nKinesis Firehose\u306eStream\u306e\u4f5c\u6210\n\u7d9a\u3044\u3066\u3001Kinesis Firehose\u306eDelivery Stream\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nAWS Console\u2192Kinesis firehose\u306b\u884c\u304d\u3001Create Delivery Stream\u3092\u9078\u629e\u3057\u307e\u3059\n\nStep1\n\n\n\nDestination\u306fS3\u3092\u9078\u629e\n\nDelivery stream name\u306f\u9069\u5f53\u306a\u540d\u524d\u3092\u4ed8\u3051\u308b (\u3053\u3053\u3067\u306ftest_kinesis\u3068\u3057\u307e\u3059)\n\nS3 bucket\u306f\u65e2\u5b58\u306eS3 bucket\u3092\u9078\u629e\u3059\u308b\u304b\u3001\u65b0\u898f\u4f5c\u6210\u3059\u308b\n\n\u4e0a\u8a18\u8a2d\u5b9a\u3092\u3059\u308c\u3070\u3001\u6307\u5b9a\u3057\u305fS3 bucket\u306bFirehose\u306eLog\u304c\u6e9c\u307e\u308b\u69d8\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nStep2\n\n\n\nBuffer Size\u306f5(MB)\n\nBuffer interval\u306f60(\u79d2)\n\nIAM role\u306fFirehose delivery IAM role\u3092\u9078\u629e\n\u9078\u629e\u3059\u308b\u3068\u3001IAM role\u306e\u8a2d\u5b9a\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u304c\u3001Default\u306e\u307e\u307e\u3067Allow\u3092\u9078\u629e\n\n\u4e0a\u8a18\u8a2d\u5b9a\u3067\u300160\u79d2\u7d4c\u904e\u3059\u308b or 5MB\u4ee5\u4e0aFirehose\u306bData\u304c\u6e9c\u307e\u308b\u3068S3\u306b\u66f8\u304d\u51fa\u3059\u8a2d\u5b9a\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nStep3\n\n\u3053\u306eStep\u306f\u53ea\u306e\u6700\u7d42\u78ba\u8a8d\u306a\u306e\u3067\u3001Create Delivery Stream\u3092\u9078\u629e\u3057\u3066\u5b8c\u4e86\u3067\u3059\u3002\n\nAndroid\u306ecode\n\u6700\u5f8c\u306b\u3001Cognito, Firehose\u306e\u8a2d\u5b9a\u5185\u5bb9\u3092Android App\u3078\u306e\u7d44\u307f\u8fbc\u307f\u307e\u3059\u3002\n\nSample App\u306e\u4ed5\u69d8\n\n\u4ee5\u4e0bSample code\u306e\u4ed5\u69d8\u6982\u8981\u3067\u3059\u3002Amazon\u306e\u516c\u5f0fFirehose\u306eAPI\u4ed5\u69d8\u66f8\u3092\u53c2\u8003\u306b\u4f5c\u308a\u307e\u3057\u305f\u304c\u3001\u516c\u5f0fDocument\u306b\u5fae\u5999\u306b(Critical\u306a)Typo\u304c\u3042\u308b\u306e\u3067\u6ce8\u610f\u3067\u3059\u3002\n\nButton\u304c3\u3064\u3042\u308b\nButton1/2\u3092Tap\u3059\u308b\u3068Log\u304c\u305f\u307e\u308a\u3001Button3\u3092Tap\u3059\u308b\u3068Server\u306bLog\u304cPush\u3055\u308c\u308b\nLog\u306f\u4ee5\u4e0b\u306e\u69d8\u306ajson\u5f62\u5f0f\n\n{\"model\":\"SO-02H\",\"andoid_ID\":\"434c3786437e39cf\",\"date\":\"20160112T090920\",\"message\":\"onCreate\",\"app_name\":\"Firehose Test1\"}\n\n\nCustomize\u304c\u5fc5\u8981\u306a\u500b\u6240\n\n\u4ee5\u4e0b\u306eSample code\u3067\u500b\u5225\u306bCustomize\u304c\u5fc5\u8981\u306a\u306e\u306f\u30013\u7b87\u6240\u3067\u3059\n\nCognito\u306eIdentity pool ID us-east-1:3030cfcf-4210-4980-99ab-34f941f4b16e\n\nKinesis Firehose\u306eStream\u540d test_kinesis\n\nAWS\u306eRegion US_EAST_1\n\n\n\nSample code\n\npackage com.your.package.name;\n\nimport android.os.AsyncTask;\nimport android.support.v7.app.ActionBarActivity;\nimport android.os.Bundle;\nimport android.os.Build;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\nimport android.provider.Settings;\n\nimport com.amazonaws.AmazonClientException;\nimport com.amazonaws.auth.AWSCredentialsProvider;\nimport com.amazonaws.mobileconnectors.kinesis.kinesisrecorder.KinesisFirehoseRecorder;\nimport com.amazonaws.auth.CognitoCachingCredentialsProvider;\nimport com.amazonaws.regions.Regions;\nimport java.io.File;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class MainActivity extends ActionBarActivity{\n\n  KinesisFirehoseRecorder firehoseRecorder;\n  String android_id;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    saveFirehoseRecord(\"onCreate\");\n    setContentView(R.layout.activity_main);\n  }\n\n  public void saveFirehoseRecord(String put_string) {\n    File directory = this.getCacheDir();\n    Regions region = Regions.US_EAST_1;\n    AWSCredentialsProvider provider = new CognitoCachingCredentialsProvider(\n        this,\n        \"us-east-1:3030cfcf-4210-4980-99ab-34f941f4b16e\",\n        Regions.US_EAST_1);\n\n    android_id = Settings.Secure.getString(this.getContentResolver(), Settings.Secure.ANDROID_ID);\n    firehoseRecorder = new KinesisFirehoseRecorder(directory, region, provider);\n    Date date = new Date();\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyyMMdd'T'kkmmss\");\n\n    JSONObject json = new JSONObject();\n    try {\n      json.accumulate(\"model\", Build.MODEL);\n      json.accumulate(\"andoid_ID\", android_id);\n      json.accumulate(\"date\", sdf.format(date));\n      json.accumulate(\"message\", put_string);\n      json.accumulate(\"app_name\", \"Firehose Test1\");\n      Log.e(\"KinesisFirehoseTest1\", json.toString());\n\n    } catch (JSONException e) {\n      e.printStackTrace();\n    }\n    firehoseRecorder.saveRecord(json.toString(), \"test_kinesis\");\n  }\n\n\n  public void onClick(View v) {\n    switch(v.getId()) {\n      case R.id.button1:\n        Toast.makeText(MainActivity.this, \"Button1 pressed\", Toast.LENGTH_LONG).show();\n        saveFirehoseRecord(\"onClick-1 event\");\n        break;\n      case R.id.button2:\n        Toast.makeText(MainActivity.this, \"Button2 pressed\", Toast.LENGTH_LONG).show();\n        saveFirehoseRecord(\"onClick-2 event\");\n        break;\n      case R.id.button3:\n        Toast.makeText(MainActivity.this, \"Button3 pressed - submit events\", Toast.LENGTH_LONG).show();\n        new AsyncTask<Void, Void, Void>() {\n          @Override\n          protected Void doInBackground(Void... v) {\n            try {\n              saveFirehoseRecord(\"onClick3 - submit events\");\n              firehoseRecorder.submitAllRecords();\n            } catch (AmazonClientException ace) {\n              Log.e(\"KinesisFirehoseTest1\", \"submitAll failed!\");\n            }\n            return null;\n          }\n        }.execute();\n        break;\n    }\n  }\n\n  @Override\n  protected void onPause() {\n    super.onPause();\n  }\n\n  @Override\n  protected void onResume() {\n    super.onResume();\n  }\n}\n\n\n\u305d\u306e\u4ed6\n\n\u91c8\u8fe6\u306b\u8aac\u6cd5\u3060\u3068\u601d\u3044\u307e\u3059\u304c\u3001build.grade\u306e\u8a2d\u5b9a\u3068\u3001manifest.xml\u306e\u8a2d\u5b9a\u3082\u304a\u5fd8\u308c\u7121\u304f\u3002\n(1) build.gradle\u3067Kinesis\u306eSDK\u3092\u8a2d\u5b9a\u3059\u308b\ncompile 'com.amazonaws:aws-android-sdk-kinesis:2.2.10'\n\n(2)AndroidManifest.xml\u3067\u4ee5\u4e0b\u306ePermission\u3092\u8a2d\u5b9a\u3059\u308b\n<uses-permission android:name=\"android.permission.INTERNET\"/>\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>\n<uses-permission android:name=\"android.permission.READ_PHONE_STATE\"/>\n\n\nUpload\u3055\u308c\u305fLog\u306e\u78ba\u8a8d\n\u6700\u5f8c\u306b\u3001\u5b9f\u969b\u306bLog\u304cS3\u306bUpload\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u78ba\u8a8d\u3067\u3059\u3002Android app\u4e0a\u306e\u30dc\u30bf\u30f3\u3092\u30dd\u30c1\u30dd\u30c1\u62bc\u3057\u3066\u3001Log\u3092\u767a\u751f\u3055\u305b\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\n\u66ab\u304f\u3059\u308b\u3068\u3001Firehose\u3067\u6307\u5b9a\u3057\u305fS3 bucket\u4e0a\u306b\u3001test_kinesis-2-2016-01-17-12-23-01-4e3483ed-44ce-44ed-87d7-43b77347ce7b\u307f\u305f\u3044\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u6765\u308b\u3068\u601d\u3046\u306e\u3067\u3001\u4e2d\u8eab\u3092\u78ba\u8a8d\u3057\u3066\u898b\u3066\u4e0b\u3055\u3044\u3002\n\n\u6700\u5f8c\u306b\nFirehose\u306f\u3001Server\u306e\u69cb\u7bc9/\u7ba1\u7406\u7121\u3057(Zero administration)\u3067\u3001\u5404\u7a2elog\u3092Cloud\u306b\u3042\u3052\u308b\u4e8b\u304c\u53ef\u80fd\u306aService\u3067\u3059\u3002\u540c\u69d8\u306eService\u3068\u3057\u3066Google Analytics\u3084AWS Mobile Analytics\u3068\u306e\u6bd4\u8f03\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u304c\u3001Needs\u306b\u5408\u81f4\u3059\u308c\u3070\u3001\u3068\u3066\u3082\u3088\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3001\u3068\u601d\u3044\u307e\u3059\u3002\n\n(\u304a\u307e\u3051) Server\u306e\u69cb\u7bc9/\u7ba1\u7406\u7121\u3057\u3067Log\u53ce\u96c6\u53ef\u80fd\u306aService\u6bd4\u8f03\nServer\u306e\u69cb\u7bc9/\u7ba1\u7406\u7121\u3057\u306b\u3001Client App\u3084IOT\u6a5f\u5668\u306eLog\u3092Cloud\u306b\u6e9c\u3081\u3066\u89e3\u6790\u3057\u305f\u3044\u3001\u3068\u8a00\u3046Needs\u306b\u5bfe\u3057\u3066\u3001Google Analytics, Amazon Mobile Analytics, Kinesis Firehose\u306e3\u3064\u3092Proto\u3057\u3066\u89e6\u3063\u3066\u6765\u307e\u3057\u305f\u3001\u4ee5\u4e0b\u3001\u7c21\u5358\u3067\u3059\u304c3\u8005\u306e\u6bd4\u8f03\u3067\u3059\u3002\n\nGoogle Analytics\n\n\nPros\n\n\u307f\u3093\u306a\u5927\u597d\u304dGA\u3001\u7121\u6599\nGA\u306eQuery API\u3092\u4f7f\u3044\u3053\u306a\u3059\u3068\u304b\u306a\u308a\u8907\u96d1\u306aQuery\u3082\u53ef\u80fd\u3001Query Explorer\u3055\u3044\u3053\u30fc\u3067\u3059\n\nGA\u306eDashboard\u304c\u304b\u306a\u308a\u79c0\u9038\u3001\u591a\u304f\u306eNeeds\u306f\u3053\u306eDashboard\u306e\u4e2d\u3067\u5b8c\u7d50\nGA\u306eTag Manager\u304c\u304b\u306a\u308a\u79c0\u9038\nClient\u5074\u304b\u3089\u306eLog Upload\u306e\u7d30\u304b\u3044\u5236\u5fa1(Network\u304c\u7e4b\u304c\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u306e\u9045\u5ef6Upload, \u9014\u4e2d\u3067\u5207\u308c\u305f\u5834\u5408\u306eRetry etc)\u3092Google Play Service\u304c\u307b\u307c\u81ea\u52d5\u3067\u3084\u3063\u3066\u304f\u308c\u308b\n\n\nCons\n\n\u751f\u30ed\u30b0\u306b\u306f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044(GA Premium Account\u3068\u3044\u3046\u6709\u6599\u5951\u7d04\u3060\u3068\u751f\u30ed\u30b0\u8cb0\u3048\u307e\u3059)\n\u500b\u4eba\u60c5\u5831\u306b\u8a72\u5f53\u3059\u308b\u60c5\u5831\u306f\u9001\u3063\u3066\u306f\u3044\u3051\u306a\u3044\nRecord\u4ef6\u6570\u304c\u591a\u3044\u3068\u3001Query\u6642\u306b\u554f\u7b54\u7121\u7528\u306bSampling\u3055\u308c\u308b\nLog Update\u304c1\u65e51\u56de\u3068\u3084\u3084\u9045\u3044\n\n\nAmazon Mobile Analytics\n\n\u81ea\u5206\u306e\u5468\u308a\u3067\u3082\u8a8d\u77e5\u5ea6\u304c\u5fae\u5999\u306b\u4f4e\u3044\u6c17\u304c\u3057\u307e\u3059\u304c\u3001Amazon\u7248\u306eGoogle Analytics\u5bfe\u6297Service\u3067\u3059\n\nPros\n\n\u751f\u30ed\u30b0\u304cS3\u306b\u6e9c\u307e\u308b\nLog Update\u304c1\u6642\u9593\u6bce\n\n\nCons\n\n\u6709\u6599 (\u3084\u3084\u9ad8\u304f$1/100\u4e07 events\u30011\u4e07\u53f0\u30671\u53f0\u8fba\u308a100 event/day\u3060\u3068\u3001$1/day)\nDashboard\u306e\u6a5f\u80fd\u306f\u3084\u3084\u7c21\u6613\u7684\u3001Query\u6a5f\u80fd\u3082\u7121\u3057\nGoogle Analytics\u306b\u6bd4\u3079\u308b\u3068SDK\u5074\u3067\u88dc\u5b8c\u3057\u3066\u304f\u308c\u308b\u6a5f\u80fd\u3001Configuration\u306e\u4f59\u5730\u304c\u5c11\u306a\u3044\n\n\nKinesis Firehose\n\n\u5fae\u5999\u306bAmazon Mobile Analytics\u3068\u88ab\u3063\u3066\u308b\u6c17\u3082\u3057\u307e\u3059\u304c\u3001IOT\u7528\u306eLog\u53ce\u96c6Service\u3067\u3001Log\u3092\u4f4e\u9045\u5ef6\u3067S3/Redshift\u306b\u6e9c\u3081\u3089\u308c\u308b\u6240\u306b\u7279\u5316\u3057\u305fService\u3067\u3059\n\nPros\n\n\u751f\u30ed\u30b0\u304cS3\u306b\u6e9c\u307e\u308b\nLog Update\u304c\u6700\u77ed1\u5206\u6bce\n\n\nCons\n\n\u6709\u6599 ($0.035/1GB\u3068\u30c7\u30fc\u30bf\u91cf\u8ab2\u91d1\u30011\u4e07\u53f0\u30671\u53f0\u8fba\u308a100 event/day\u30011KB/event\u3068\u3059\u308b\u3068\u3001$0.035/day)\nDashboard\u306e\u6a5f\u80fd\u306f\u307b\u307c\u7121\u3044, Query\u6a5f\u80fd\u3082\u7121\u3057\nSession\u306e\u958b\u59cb/\u7d42\u4e86\u306e\u5224\u5b9a\u304c\u7121\u304f\u3001\u5fc5\u8981\u306a\u3089\u81ea\u524d\u3067\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u6709\u308b\nAndroid SDK\u5074\u306e\u6a5f\u80fd\u306f\u4f59\u308a\u671f\u5f85\u3059\u308b\u306a\n\n## \u306f\u3058\u3081\u306b\n\n\u4ee5\u524d\u3001[Kinesis Firehose\u3092\u52d5\u304b\u3057\u3066\u898b\u308b](http://qiita.com/taka4sato/items/a3f37205cd4aceb525f4)\u3067\u3082\u30c1\u30e9\u30b7\u306e\u88cf\u3057\u307e\u3057\u305f\u304c\u3001Kinesis Firehose\u306f\u3001Backend Server\u3092\u81ea\u5206\u3067\u69cb\u7bc9/\u7ba1\u7406\u305b\u305a\u3068\u3082\u3001Android Client App\u3084IOT\u6a5f\u5668\u306eLog\u3092S3\u3084Redshift\u306b\u7c21\u5358\u306b\u6e9c\u3081\u3089\u308c\u308b\u3001\u3068\u3044\u3046Service\u3067\u3059\u3002\n\n`Google Analytics`, `Amazon Mobile Analytics`\u3068\u7af6\u5408\u3059\u308b\u9818\u57df\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001Backend server\u306f\u69cb\u7bc9\u7ba1\u7406\u3057\u305f\u304f\u306a\u3044\u3051\u3069\u3001\u751fLog\u306f\u6b32\u3057\u3044\u3001\u3068\u8a00\u3046\u5834\u5408\u306b\u4f7f\u3048\u308bService\u3067\u3059 (\u307f\u3093\u306a\u5927\u597d\u304d`Google Analytics`\u306f\u3001\u7121\u6599\u7248\u3060\u3068\u751fLog\u306eExport\u304c\u51fa\u6765\u306a\u3044\u306e\u3068\u3001[\u500b\u4eba\u60c5\u5831\u306b\u8a72\u5f53\u3059\u308b\u60c5\u5831\u306f\u9001\u3063\u3066\u306f\u3044\u3051\u306a\u3044](https://support.google.com/analytics/answer/6004245?hl=ja)\u3068\u8a00\u3046\u5236\u7d04\u304c\u3042\u308a\u307e\u3059)\u3002\n\n\u305d\u306e\u4ed6\u3001\u8a73\u7d30\u306f\u7d39\u4ecb\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n* [AWS\u304c\u5916\u90e8\u306b\u4e00\u822c\u4f9b\u7528\u3059\u308bKinesis Firehose\u306fIoT\u306a\u3069\u306e\u30bb\u30f3\u30b5\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30a6\u30c9\u3078\u76f4\u63a5\u9001\u308b](http://jp.techcrunch.com/2015/10/08/20151007aws-introduces-kinesis-firehose-to-move-sensor-data-to-cloud/)\n* [Amazon Kinesis Streams\u3068Amazon Kinesis Firehose\u306f\u4f55\u304c\u9055\u3046\u306e\u304b](http://dev.classmethod.jp/cloud/aws/difference-between-kinesis-streams-and-kinesis-firehose/)\n\n\u5148\u65e5\u3001\u3084\u3063\u3068Android SDK v2.2.10\u3067[Kinesis Firehose\u3092\u30b5\u30dd\u30fc\u30c8](https://github.com/aws/aws-sdk-android/blob/master/CHANGELOG.md)\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3001[Firehose\u306eClass\u3082\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002](http://docs.aws.amazon.com/AWSAndroidSDK/latest/javadoc/)\u52d5\u4f5c\u78ba\u8a8d\u7528\u306eAndroid App\u3092\u4f5c\u3063\u3066Firehose\u7d4c\u7531\u3067S3\u306bLog\u3092Upload\u3059\u308bProto\u3092\u4f5c\u3063\u3066\u307f\u305f\u306e\u3067\u3001\u305d\u306e\u6642\u306e\u8a2d\u5b9a\u624b\u9806\u3001Android App\u306eCode\u3092\u30c1\u30e9\u30b7\u306e\u88cf\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n## \u4f5c\u696d\u306e\u5168\u4f53\u306e\u6d41\u308c\n\u5168\u4f53\u306e\u6d41\u308c\u306f\u4ee5\u4e0b\u306e\u69d8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n1. **Cognito\u306eIdendity Pool\u306e\u4f5c\u6210**\n1. **Kinesis Firehose\u306eStream\u306e\u4f5c\u6210**\n1. **Android App\u306e\u4f5c\u6210\u3001Log\u306eUpload**\n1. **Upload\u3055\u308c\u305fLog\u306e\u78ba\u8a8d**\n\n\n#### \u6ce8\u610f\n\n* `Firehose`\u306f\u307e\u3060`N. Virginia`, `Oregon`, `Ireland`\u306e3 Region\u306e\u307f\u30b5\u30dd\u30fc\u30c8\u306a\u306e\u3067\u3001`Firehose`, `Cognito`\u3068\u3082\u540c\u3058Region\u3067\u3001\u3053\u306e3\u3064\u306e\u3069\u3053\u304b\u306b\u4f5c\u3063\u3066\u4e0b\u3055\u3044\u3002\n\n## AWS Cognito\u306eIdendity Pool\u306e\u4f5c\u6210\nCognito\u306eIdentity Pool\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Cognito\u306f\u99b4\u67d3\u307f\u304c\u7121\u3044\u65b9\u304c\u591a\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u6700\u4f4e\u9650\u306e\u8a2d\u5b9a\u3067OK\u306a\u306e\u3067\u6016\u304f\u306a\u3044\u3067\u3059\u30011\u5206\u3067\u7d42\u308f\u308a\u307e\u3059\u3002Region\u3092`N. Virginia`\u7b49\u306b\u5909\u66f4\u3057\u3001AWS Console\u2192Cognito\u306b\u884c\u304d\u3001`Create new identity pool`\u3092\u9078\u629e\u3057\u307e\u3059\n\n#### **Step1**\n`Identity pool name`\u306f\u9069\u5f53\u306a\u540d\u524d\u3092\u5165\u308c\u3066\u3001`Enable access to unauthenticated identities`\u306bChecke\u3092\u4ed8\u3051\u3066\u3001`Create Pool`\u3092\u9078\u629e\u3057\u4e0b\u3055\u3044\u3002\u3053\u308c\u3067Cognito\u306e\u8a2d\u5b9a\u306f\u5b9f\u8cea\u7d42\u308f\u308a\u3067\u3059\u3002\n\n![Cognito1.png](https://qiita-image-store.s3.amazonaws.com/0/67592/ded0dc7a-04e9-b0c8-210b-9391bafd3e5e.png)\n\n#### **Step2**\n`Your Cognito identities require access to your resources`\u3068\u8a00\u3046UI\u306b\u79fb\u308a\u3001IAM role\u306e\u8a2d\u5b9a\u753b\u9762\u304c\u51fa\u307e\u3059\u304c\u3001\u4f55\u3082\u5909\u3048\u305a\u306b`Allow`\u3092\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/67592/b7262319-3e37-bd0f-45b1-971c361c4ef4.png)\n\n\n#### **Sample Code**\n\u3059\u308b\u3068\u3001Sample code\u306eUI\u306b\u79fb\u308a\u307e\u3059\u3002`\"us-east-1:3030cfcf-4210-4980-99ab-34f941f4b16e\"`\u306a\u3069\u306eIdentity Pool ID\u3092\u30b3\u30d4\u30da\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n![Cognito2.png](https://qiita-image-store.s3.amazonaws.com/0/67592/82ac7283-b331-2c7a-63b2-e2f4be9f8f7b.png)\n\n\n## Kinesis Firehose\u306eStream\u306e\u4f5c\u6210\n\u7d9a\u3044\u3066\u3001Kinesis Firehose\u306eDelivery Stream\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nAWS Console\u2192Kinesis firehose\u306b\u884c\u304d\u3001`Create Delivery Stream`\u3092\u9078\u629e\u3057\u307e\u3059\n\n#### **Step1**\n* `Destination`\u306fS3\u3092\u9078\u629e\n* `Delivery stream name`\u306f\u9069\u5f53\u306a\u540d\u524d\u3092\u4ed8\u3051\u308b (\u3053\u3053\u3067\u306f`test_kinesis`\u3068\u3057\u307e\u3059)\n* `S3 bucket`\u306f\u65e2\u5b58\u306eS3 bucket\u3092\u9078\u629e\u3059\u308b\u304b\u3001\u65b0\u898f\u4f5c\u6210\u3059\u308b\n\n\u4e0a\u8a18\u8a2d\u5b9a\u3092\u3059\u308c\u3070\u3001\u6307\u5b9a\u3057\u305fS3 bucket\u306bFirehose\u306eLog\u304c\u6e9c\u307e\u308b\u69d8\u306b\u306a\u308a\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/67592/1e9edbe4-b71d-7176-d1c2-bd7bbea17255.png)\n\n#### **Step2**\n* `Buffer Size`\u306f`5`(MB)\n* `Buffer interval`\u306f`60`(\u79d2)\n* `IAM role`\u306f`Firehose delivery IAM role`\u3092\u9078\u629e  \n  \u9078\u629e\u3059\u308b\u3068\u3001`IAM role`\u306e\u8a2d\u5b9a\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u304c\u3001Default\u306e\u307e\u307e\u3067`Allow`\u3092\u9078\u629e\n\n\u4e0a\u8a18\u8a2d\u5b9a\u3067\u300160\u79d2\u7d4c\u904e\u3059\u308b or 5MB\u4ee5\u4e0aFirehose\u306bData\u304c\u6e9c\u307e\u308b\u3068S3\u306b\u66f8\u304d\u51fa\u3059\u8a2d\u5b9a\u306b\u306a\u308a\u307e\u3059\u3002\n \n![image](https://qiita-image-store.s3.amazonaws.com/0/67592/bb8c6c78-0c94-10c2-d696-34fa402a03af.png)\n\n#### **Step3**\n\u3053\u306eStep\u306f\u53ea\u306e\u6700\u7d42\u78ba\u8a8d\u306a\u306e\u3067\u3001`Create Delivery Stream`\u3092\u9078\u629e\u3057\u3066\u5b8c\u4e86\u3067\u3059\u3002\n\n\n## Android\u306ecode\n\u6700\u5f8c\u306b\u3001Cognito, Firehose\u306e\u8a2d\u5b9a\u5185\u5bb9\u3092Android App\u3078\u306e\u7d44\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n##### **Sample App\u306e\u4ed5\u69d8**\n\u4ee5\u4e0bSample code\u306e\u4ed5\u69d8\u6982\u8981\u3067\u3059\u3002[Amazon\u306e\u516c\u5f0fFirehose\u306eAPI\u4ed5\u69d8\u66f8](http://docs.aws.amazon.com/mobile/sdkforandroid/developerguide/kinesis.html)\u3092\u53c2\u8003\u306b\u4f5c\u308a\u307e\u3057\u305f\u304c\u3001\u516c\u5f0fDocument\u306b\u5fae\u5999\u306b(Critical\u306a)Typo\u304c\u3042\u308b\u306e\u3067\u6ce8\u610f\u3067\u3059\u3002\n\n\n* Button\u304c3\u3064\u3042\u308b\n* Button1/2\u3092Tap\u3059\u308b\u3068Log\u304c\u305f\u307e\u308a\u3001Button3\u3092Tap\u3059\u308b\u3068Server\u306bLog\u304cPush\u3055\u308c\u308b\n* Log\u306f\u4ee5\u4e0b\u306e\u69d8\u306ajson\u5f62\u5f0f\n\n```\n{\"model\":\"SO-02H\",\"andoid_ID\":\"434c3786437e39cf\",\"date\":\"20160112T090920\",\"message\":\"onCreate\",\"app_name\":\"Firehose Test1\"}\n```\n\n\n##### **Customize\u304c\u5fc5\u8981\u306a\u500b\u6240**\n\u4ee5\u4e0b\u306eSample code\u3067\u500b\u5225\u306bCustomize\u304c\u5fc5\u8981\u306a\u306e\u306f\u30013\u7b87\u6240\u3067\u3059\n\n* Cognito\u306eIdentity pool ID `us-east-1:3030cfcf-4210-4980-99ab-34f941f4b16e`\n* Kinesis Firehose\u306eStream\u540d `test_kinesis`\n* AWS\u306eRegion `US_EAST_1`\n\n##### **Sample code**\n\n```java\npackage com.your.package.name;\n\nimport android.os.AsyncTask;\nimport android.support.v7.app.ActionBarActivity;\nimport android.os.Bundle;\nimport android.os.Build;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\nimport android.provider.Settings;\n\nimport com.amazonaws.AmazonClientException;\nimport com.amazonaws.auth.AWSCredentialsProvider;\nimport com.amazonaws.mobileconnectors.kinesis.kinesisrecorder.KinesisFirehoseRecorder;\nimport com.amazonaws.auth.CognitoCachingCredentialsProvider;\nimport com.amazonaws.regions.Regions;\nimport java.io.File;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class MainActivity extends ActionBarActivity{\n\n  KinesisFirehoseRecorder firehoseRecorder;\n  String android_id;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    saveFirehoseRecord(\"onCreate\");\n    setContentView(R.layout.activity_main);\n  }\n\n  public void saveFirehoseRecord(String put_string) {\n    File directory = this.getCacheDir();\n    Regions region = Regions.US_EAST_1;\n    AWSCredentialsProvider provider = new CognitoCachingCredentialsProvider(\n        this,\n        \"us-east-1:3030cfcf-4210-4980-99ab-34f941f4b16e\",\n        Regions.US_EAST_1);\n\n    android_id = Settings.Secure.getString(this.getContentResolver(), Settings.Secure.ANDROID_ID);\n    firehoseRecorder = new KinesisFirehoseRecorder(directory, region, provider);\n    Date date = new Date();\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyyMMdd'T'kkmmss\");\n\n    JSONObject json = new JSONObject();\n    try {\n      json.accumulate(\"model\", Build.MODEL);\n      json.accumulate(\"andoid_ID\", android_id);\n      json.accumulate(\"date\", sdf.format(date));\n      json.accumulate(\"message\", put_string);\n      json.accumulate(\"app_name\", \"Firehose Test1\");\n      Log.e(\"KinesisFirehoseTest1\", json.toString());\n\n    } catch (JSONException e) {\n      e.printStackTrace();\n    }\n    firehoseRecorder.saveRecord(json.toString(), \"test_kinesis\");\n  }\n\n\n  public void onClick(View v) {\n    switch(v.getId()) {\n      case R.id.button1:\n        Toast.makeText(MainActivity.this, \"Button1 pressed\", Toast.LENGTH_LONG).show();\n        saveFirehoseRecord(\"onClick-1 event\");\n        break;\n      case R.id.button2:\n        Toast.makeText(MainActivity.this, \"Button2 pressed\", Toast.LENGTH_LONG).show();\n        saveFirehoseRecord(\"onClick-2 event\");\n        break;\n      case R.id.button3:\n        Toast.makeText(MainActivity.this, \"Button3 pressed - submit events\", Toast.LENGTH_LONG).show();\n        new AsyncTask<Void, Void, Void>() {\n          @Override\n          protected Void doInBackground(Void... v) {\n            try {\n              saveFirehoseRecord(\"onClick3 - submit events\");\n              firehoseRecorder.submitAllRecords();\n            } catch (AmazonClientException ace) {\n              Log.e(\"KinesisFirehoseTest1\", \"submitAll failed!\");\n            }\n            return null;\n          }\n        }.execute();\n        break;\n    }\n  }\n\n  @Override\n  protected void onPause() {\n    super.onPause();\n  }\n\n  @Override\n  protected void onResume() {\n    super.onResume();\n  }\n}\n```\n\n#### **\u305d\u306e\u4ed6**\n\n\u91c8\u8fe6\u306b\u8aac\u6cd5\u3060\u3068\u601d\u3044\u307e\u3059\u304c\u3001build.grade\u306e\u8a2d\u5b9a\u3068\u3001manifest.xml\u306e\u8a2d\u5b9a\u3082\u304a\u5fd8\u308c\u7121\u304f\u3002\n\n(1) build.gradle\u3067Kinesis\u306eSDK\u3092\u8a2d\u5b9a\u3059\u308b\n\n```\ncompile 'com.amazonaws:aws-android-sdk-kinesis:2.2.10'\n```\n\n(2)AndroidManifest.xml\u3067\u4ee5\u4e0b\u306ePermission\u3092\u8a2d\u5b9a\u3059\u308b\n \n```\n<uses-permission android:name=\"android.permission.INTERNET\"/>\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>\n<uses-permission android:name=\"android.permission.READ_PHONE_STATE\"/>\n```\n\n## Upload\u3055\u308c\u305fLog\u306e\u78ba\u8a8d\n\u6700\u5f8c\u306b\u3001\u5b9f\u969b\u306bLog\u304cS3\u306bUpload\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u78ba\u8a8d\u3067\u3059\u3002Android app\u4e0a\u306e\u30dc\u30bf\u30f3\u3092\u30dd\u30c1\u30dd\u30c1\u62bc\u3057\u3066\u3001Log\u3092\u767a\u751f\u3055\u305b\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002  \n\u66ab\u304f\u3059\u308b\u3068\u3001Firehose\u3067\u6307\u5b9a\u3057\u305fS3 bucket\u4e0a\u306b\u3001`test_kinesis-2-2016-01-17-12-23-01-4e3483ed-44ce-44ed-87d7-43b77347ce7b`\u307f\u305f\u3044\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u6765\u308b\u3068\u601d\u3046\u306e\u3067\u3001\u4e2d\u8eab\u3092\u78ba\u8a8d\u3057\u3066\u898b\u3066\u4e0b\u3055\u3044\u3002\n\n\n## \u6700\u5f8c\u306b\n\nFirehose\u306f\u3001Server\u306e\u69cb\u7bc9/\u7ba1\u7406\u7121\u3057(Zero administration)\u3067\u3001\u5404\u7a2elog\u3092Cloud\u306b\u3042\u3052\u308b\u4e8b\u304c\u53ef\u80fd\u306aService\u3067\u3059\u3002\u540c\u69d8\u306eService\u3068\u3057\u3066`Google Analytics`\u3084`AWS Mobile Analytics`\u3068\u306e\u6bd4\u8f03\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u304c\u3001Needs\u306b\u5408\u81f4\u3059\u308c\u3070\u3001\u3068\u3066\u3082\u3088\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3001\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n## (\u304a\u307e\u3051) Server\u306e\u69cb\u7bc9/\u7ba1\u7406\u7121\u3057\u3067Log\u53ce\u96c6\u53ef\u80fd\u306aService\u6bd4\u8f03\nServer\u306e\u69cb\u7bc9/\u7ba1\u7406\u7121\u3057\u306b\u3001Client App\u3084IOT\u6a5f\u5668\u306eLog\u3092Cloud\u306b\u6e9c\u3081\u3066\u89e3\u6790\u3057\u305f\u3044\u3001\u3068\u8a00\u3046Needs\u306b\u5bfe\u3057\u3066\u3001`Google Analytics`, `Amazon Mobile Analytics`, `Kinesis Firehose`\u306e3\u3064\u3092Proto\u3057\u3066\u89e6\u3063\u3066\u6765\u307e\u3057\u305f\u3001\u4ee5\u4e0b\u3001\u7c21\u5358\u3067\u3059\u304c3\u8005\u306e\u6bd4\u8f03\u3067\u3059\u3002\n\n#### **Google Analytics**\n###### Pros\n* \u307f\u3093\u306a\u5927\u597d\u304dGA\u3001\u7121\u6599\n* GA\u306eQuery API\u3092\u4f7f\u3044\u3053\u306a\u3059\u3068\u304b\u306a\u308a\u8907\u96d1\u306aQuery\u3082\u53ef\u80fd\u3001[Query Explorer\u3055\u3044\u3053\u30fc\u3067\u3059](https://ga-dev-tools.appspot.com/query-explorer/)\n* GA\u306eDashboard\u304c\u304b\u306a\u308a\u79c0\u9038\u3001\u591a\u304f\u306eNeeds\u306f\u3053\u306eDashboard\u306e\u4e2d\u3067\u5b8c\u7d50\n* GA\u306eTag Manager\u304c\u304b\u306a\u308a\u79c0\u9038\n* Client\u5074\u304b\u3089\u306eLog Upload\u306e\u7d30\u304b\u3044\u5236\u5fa1(Network\u304c\u7e4b\u304c\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u306e\u9045\u5ef6Upload, \u9014\u4e2d\u3067\u5207\u308c\u305f\u5834\u5408\u306eRetry etc)\u3092Google Play Service\u304c\u307b\u307c\u81ea\u52d5\u3067\u3084\u3063\u3066\u304f\u308c\u308b\n\n###### Cons\n* \u751f\u30ed\u30b0\u306b\u306f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044(GA Premium Account\u3068\u3044\u3046\u6709\u6599\u5951\u7d04\u3060\u3068\u751f\u30ed\u30b0\u8cb0\u3048\u307e\u3059)\n* [\u500b\u4eba\u60c5\u5831\u306b\u8a72\u5f53\u3059\u308b\u60c5\u5831\u306f\u9001\u3063\u3066\u306f\u3044\u3051\u306a\u3044](https://support.google.com/analytics/answer/6004245?hl=ja)\n* Record\u4ef6\u6570\u304c\u591a\u3044\u3068\u3001Query\u6642\u306b\u554f\u7b54\u7121\u7528\u306bSampling\u3055\u308c\u308b\n* Log Update\u304c1\u65e51\u56de\u3068\u3084\u3084\u9045\u3044\n\n\n#### **Amazon Mobile Analytics**\n\u81ea\u5206\u306e\u5468\u308a\u3067\u3082\u8a8d\u77e5\u5ea6\u304c\u5fae\u5999\u306b\u4f4e\u3044\u6c17\u304c\u3057\u307e\u3059\u304c\u3001[Amazon\u7248\u306eGoogle Analytics\u5bfe\u6297Service\u3067\u3059](http://aws.amazon.com/jp/mobileanalytics/)\n\n###### Pros\n* \u751f\u30ed\u30b0\u304cS3\u306b\u6e9c\u307e\u308b\n* Log Update\u304c1\u6642\u9593\u6bce\n\n###### Cons\n* \u6709\u6599 (\u3084\u3084\u9ad8\u304f`$1/100\u4e07 events`\u30011\u4e07\u53f0\u30671\u53f0\u8fba\u308a100 event/day\u3060\u3068\u3001$1/day)\n* Dashboard\u306e\u6a5f\u80fd\u306f\u3084\u3084\u7c21\u6613\u7684\u3001Query\u6a5f\u80fd\u3082\u7121\u3057\n* Google Analytics\u306b\u6bd4\u3079\u308b\u3068SDK\u5074\u3067\u88dc\u5b8c\u3057\u3066\u304f\u308c\u308b\u6a5f\u80fd\u3001Configuration\u306e\u4f59\u5730\u304c\u5c11\u306a\u3044\n\n#### **Kinesis Firehose**\n\u5fae\u5999\u306bAmazon Mobile Analytics\u3068\u88ab\u3063\u3066\u308b\u6c17\u3082\u3057\u307e\u3059\u304c\u3001IOT\u7528\u306eLog\u53ce\u96c6Service\u3067\u3001Log\u3092\u4f4e\u9045\u5ef6\u3067S3/Redshift\u306b\u6e9c\u3081\u3089\u308c\u308b\u6240\u306b\u7279\u5316\u3057\u305fService\u3067\u3059\n\n###### Pros\n* \u751f\u30ed\u30b0\u304cS3\u306b\u6e9c\u307e\u308b\n* Log Update\u304c\u6700\u77ed1\u5206\u6bce\n\n###### Cons\n* \u6709\u6599 (`$0.035/1GB`\u3068\u30c7\u30fc\u30bf\u91cf\u8ab2\u91d1\u30011\u4e07\u53f0\u30671\u53f0\u8fba\u308a100 event/day\u30011KB/event\u3068\u3059\u308b\u3068\u3001$0.035/day)\n* Dashboard\u306e\u6a5f\u80fd\u306f\u307b\u307c\u7121\u3044, Query\u6a5f\u80fd\u3082\u7121\u3057\n* Session\u306e\u958b\u59cb/\u7d42\u4e86\u306e\u5224\u5b9a\u304c\u7121\u304f\u3001\u5fc5\u8981\u306a\u3089\u81ea\u524d\u3067\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u6709\u308b\n* Android SDK\u5074\u306e\u6a5f\u80fd\u306f\u4f59\u308a\u671f\u5f85\u3059\u308b\u306a\n"}