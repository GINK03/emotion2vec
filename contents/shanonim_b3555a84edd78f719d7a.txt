{"context": "\u3053\u306e\u8a18\u4e8b\u306fMonstar Lab, Inc. Advent Calendar 2016 1\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\u30e2\u30f3\u30b9\u30bf\u30fc\u30fb\u30e9\u30dc\u521d\u306eAdvent Calendar\u3067\u3059\uff01\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\ud83d\ude4b\n\n\u30aa\u30d5\u30a3\u30b9\u306bHue\u304c\u3084\u3063\u3066\u304d\u305f!!!\n\u5148\u65e5\u3001\u3069\u3046\u3057\u3066\u3082Hue\u304c\u6b32\u3057\u304f\u3066\u300cHue\u307b\u3057\u3044\u3088\u30a9\u301c\u301c\u300d\u3063\u3066\u8a00\u3063\u3066\u305f\u3089\u3001\u4f1a\u793e\u304cR&D\u7528\u306b\u8cb7\u3063\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n\n\n\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01\uff01\uff01\uff01\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u3055\u3063\u305d\u304f\u30aa\u30d5\u30a3\u30b9\u3067\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\nHue\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nIP\u30a2\u30c9\u30ec\u30b9\u3092\u8abf\u3079\u308b\nHue\u30d6\u30ea\u30c3\u30b8\u304c\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5185\u306b\u7e4b\u304c\u3063\u3066\u3044\u308b\u72b6\u614b\u3067 https://www.meethue.com/api/nupnp \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001IP\u30a2\u30c9\u30ec\u30b9\u60c5\u5831\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n\nAPI\u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\u3092\u4f7f\u3046\nhttp://<IP\u30a2\u30c9\u30ec\u30b9>/debug/clip.html \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\u304c\u4f7f\u3048\u307e\u3059\u3002\n\n\n\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3059\u308b\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nURL: /api\nHTTP METHOD: POST\nMessage Body: {\"devicetype\": \"hogehoge\"}\n\n\u4ee5\u524d\u306f username \u3092\u6307\u5b9a\u3067\u304d\u305f\u3089\u3057\u3044\u306e\u3067\u3059\u304c\u3001\u516c\u5f0f\u30b5\u30a4\u30c8\uff08http://www.developers.meethue.com/documentation/getting-started \uff09\u306b\u3001\n\nCurrently it is possible to create your own usernames in the bridge (e.g. \u201cnewdeveloper\u201d), however, this option will be removed in future bridge versions,  so we need to use the randomly generated username that the bridge creates for you.\n\n\u3068\u66f8\u3044\u3066\u3042\u3063\u305f\u306e\u3067\u3001\u30e9\u30f3\u30c0\u30e0\u5024\u306e username \u3092\u4f7f\u3046\u3057\u304b\u306a\u3055\u305d\u3046\u3067\u3059\u30fb\u30fb\u30fb\u3002\n\u4f5c\u6210\u306e\u969b\u306b\u306f\u3001\u30d6\u30ea\u30c3\u30b8\u306e\u30ea\u30f3\u30af\u30dc\u30bf\u30f3\uff08\u30d6\u30ea\u30c3\u30b8\u4e2d\u592e\u306e\u30dc\u30bf\u30f3\uff09\u3092\u62bc\u3057\u3066\u304b\u3089 POST \u3057\u307e\u3059\u3002\nsuccess \u3057\u305f\u3089\u3001 username \u304c\u30ec\u30b9\u30dd\u30f3\u30b9\u3055\u308c\u307e\u3059\u3002\n\n\u52d5\u4f5c\u4f8b\uff08API\u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\uff09\n\nHue\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97\n\nURL: /api/<username>/lights/\nHTTP METHOD: GET\nCommand Response:\n\n{\n    \"1\": {\n        \"state\": {\n            \"on\": false,\n            \"bri\": 254,\n            \"hue\": 14910,\n            \"sat\": 144,\n            \"effect\": \"none\",\n            \"xy\": [\n                0.4596,\n                0.4105\n            ],\n            \"ct\": 370,\n            \"alert\": \"none\",\n            \"colormode\": \"ct\",\n            \"reachable\": true\n        },\n        \"type\": \"Extended color light\",\n        \"name\": \"Hue color lamp 1\",\n        \"modelid\": \"LCT007\",\n        \"manufacturername\": \"Philips\",\n        \"uniqueid\": \"00:17:88:01:02:31:58:07-0b\",\n        \"swversion\": \"5.38.1.14919\"\n    },\n    \"2\": {\n        \"state\": {\n            \"on\": false,\n            \"bri\": 43,\n            \"hue\": 0,\n            \"sat\": 0,\n            \"effect\": \"none\",\n            \"xy\": [\n                0.6409,\n                0.3332\n            ],\n            \"ct\": 0,\n            \"alert\": \"none\",\n            \"colormode\": \"xy\",\n            \"reachable\": false\n        },\n        \"type\": \"Extended color light\",\n        \"name\": \"Hue color lamp 2\",\n        \"modelid\": \"LCT007\",\n        \"manufacturername\": \"Philips\",\n        \"uniqueid\": \"00:17:88:01:02:31:56:f7-0b\",\n        \"swversion\": \"\"\n    },\n    \"3\": {\n        \"state\": {\n            \"on\": false,\n            \"bri\": 43,\n            \"hue\": 0,\n            \"sat\": 0,\n            \"effect\": \"none\",\n            \"xy\": [\n                0.6409,\n                0.3332\n            ],\n            \"ct\": 0,\n            \"alert\": \"none\",\n            \"colormode\": \"xy\",\n            \"reachable\": false\n        },\n        \"type\": \"Extended color light\",\n        \"name\": \"Hue color lamp 3\",\n        \"modelid\": \"LCT007\",\n        \"manufacturername\": \"Philips\",\n        \"uniqueid\": \"00:17:88:01:02:31:56:c7-0b\",\n        \"swversion\": \"\"\n    }\n}\n\n1 \u3068\u66f8\u3044\u3066\u3044\u308b\u6570\u5b57\u304cHue\u306e\u8b58\u5225ID\u3067\u3059\u3002\n\nHue\u306e\u70b9\u706f/\u6d88\u706f\n\nURL: /api/<username>/lights/status/1\nHTTP METHOD: PUT\nMessageBody: {\"on\":true} or {\"on\":false}\n\n\nHue\u306e\u8272\u64cd\u4f5c\n\nURL: /api/<username>/lights/status/1\nHTTP METHOD: PUT\nMessageBody: {\"on\":true, \"sat\":254, \"bri\":254,\"hue\":10000}\n\nsat \u306f\u5f69\u5ea6\u3001 bri \u306f\u8f1d\u5ea6\u3001 hue \u306f\u8272\u76f8\uff080~65535\u306e\u7bc4\u56f2\u300216bitColor?\uff09\n\n\u52d5\u4f5c\u4f8b\uff08curl\uff09\n\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089 curl \u3067\u3082\u53e9\u3051\u307e\u3059\u3002\n\nHue\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97\ncurl http://<IP-address>/api/<username>/lights/\n\n\nHue\u306e\u70b9\u706f/\u6d88\u706f\ncurl http://<IP-address>/api/<username>/lights/1/state -X PUT -d '{\"on\":true}'\n\ncurl http://<IP-address>/api/<username>/lights/1/state -X PUT -d '{\"on\":false}'\n\n\nHue\u306e\u8272\u64cd\u4f5c\ncurl http://<IP-address>/api/<username>/lights/1/state -X PUT -d '{\"on\":true, \"sat\":254, \"bri\":254,\"hue\":10000}'\n\n\u4f59\u8ac7\u3067\u3059\u304c\u3001CLI\u3067Json\u3092 GET \u3059\u308b\u5834\u5408\u3001jq\u3092\u5c0e\u5165\u3059\u308b\u3068\u5e78\u305b\u306b\u306a\u308c\u307e\u3059\u3002\n\n\u30bb\u30f3\u30b5\u30fc\u3068\u9023\u643a\u3057\u3066\u307f\u308b\n\u6e29\u5ea6\u30bb\u30f3\u30b5\u3068\u9023\u643a\u3057\u3066\u3001\u30aa\u30d5\u30a3\u30b9\u306e\u6c17\u6e29\u306b\u3088\u3063\u3066\u7167\u660e\u306e\u8272\u304c\u5909\u308f\u308bIoT\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2: Arduino UNO\n\u30bb\u30f3\u30b5\u30fc: \u6e29\u5ea6\u30bb\u30f3\u30b5 LM35\n\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af: Jonny-Five\n\n\n\nthermometer.js\nvar five = require(\"johnny-five\");\nvar fetch = require(\"node-fetch\");\nvar board = new five.Board();\nvar requestBody;\n\nboard.on(\"ready\", function() {\n    var temperature = new five.Thermometer({\n        controller: \"LM35\",\n        pin: \"A0\",\n        freq: 1000\n    });\n\n    temperature.on('data', function() {\n        console.log('celsius: ', this.celsius);\n\n        if (this.celsius >= 27) {\n            requestBody = '{\"on\":true, \"sat\":254, \"bri\":50,\"hue\":10000}';\n        } else if (this.celsius == 26) {\n            requestBody = '{\"on\":true, \"sat\":254, \"bri\":50,\"hue\":20000}';\n        } else if (this.celsius == 25) {\n            requestBody = '{\"on\":true, \"sat\":254, \"bri\":50,\"hue\":30000}';\n        } else if (this.celsius <= 24) {\n            requestBody = '{\"on\":true, \"sat\":254, \"bri\":50,\"hue\":40000}';\n        }\n\n        fetch('http://<IP-address>/api/<username>/lights/1/state', {\n            method: 'PUT',\n            body: requestBody\n        })\n        .then(function(res) {\n            return res.json();\n        }).then(function(json) {\n            console.log(json);\n        });\n    });\n});\n\n\n23\u301c24\u2103\u3067\u306f\u901a\u5e38\u306e\u7167\u660e\u8272\u3067\u3059\u304c\u3001\n\n\u5c11\u3057\u6691\u304f\u306a\u3063\u3066\u304f\u308b\u3068\uff0825\u2103\u301c27\u2103\u4ee5\u4e0a\uff09\u3001\u7167\u660e\u306e\u8272\u304c\u6696\u8272\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\uff08\u5b9f\u9a13\u3067\u306f\u308f\u3056\u3068\u6e29\u5ea6\u30bb\u30f3\u30b5\u306b\u89e6\u308c\u3066\u6e29\u5ea6\u3092\u4e0a\u3052\u3066\u3044\u307e\u3059\u3002\uff09\n\n\n\u307e\u3068\u3081\nHue\u3092\u30bb\u30f3\u30b5\u30fc\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u30aa\u30d5\u30a3\u30b9\u306e\u6c17\u6e29\u3092\u8996\u899a\u7684\u306b\u628a\u63e1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u4ed6\u306b\u3082\u3001\u7d44\u307f\u5408\u308f\u305b\u3068\u30a2\u30a4\u30c7\u30a3\u30a2\u6b21\u7b2c\u3067\u5fdc\u7528\u304c\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n\n\u6e7f\u5ea6\u3092\u6e2c\u5b9a\u3057\u3066\u3001\u30aa\u30d5\u30a3\u30b9\u30a8\u30ea\u30a2\u306e\u4e7e\u71e5\u3092\u691c\u77e5\u3059\u308b\uff08\uff0b\u52a0\u6e7f\u5668\u3092\u64cd\u4f5c\u3059\u308b\uff09\n\u81f3\u9069\u6e29\u5ea6\u3092\u8d8a\u3048\u305f\u3089\u3001Slack\u306b\u901a\u77e5\u3059\u308b\uff08\uff0b\u30a8\u30a2\u30b3\u30f3\u3092\u64cd\u4f5c\u3059\u308b\uff09\n\n\u306a\u3069\u306a\u3069\u3002\nIoT\u3092\u4f7f\u3063\u3066\u3088\u308a\u826f\u3044\u30aa\u30d5\u30a3\u30b9\u74b0\u5883\u3092\u624b\u306b\u5165\u308c\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01\uff01\uff01\uff01\uff01\n\u660e\u65e5\u306f @noboru_i \u6c0f\u304c\u62c5\u5f53\u3057\u307e\u3059\u3002\u304a\u697d\u3057\u307f\u306b\uff01\n\n\u53c2\u8003\u30b5\u30a4\u30c8\n\nGetting started\nhttp://www.developers.meethue.com/documentation/getting-started\n\n\u672a\u6765\u3092\u611f\u3058\u308b\u7167\u660e\uff1aHue\u3067\u904a\u3093\u3067\u307f\u305f \u305d\u306e\uff11\nhttp://heckey.hatenablog.com/entry/2014/01/06/154100\n\n\u30d7\u30ed\u30b0\u30e9\u30de\u30d6\u30eb\u96fb\u7403hue\u3092Ruby\u304b\u3089\u4f7f\u3046\nhttp://shokai.org/blog/archives/8324\n\nCLI\u3067JSON\u306e\u6574\u5f62\u3092\u3059\u308b\nhttp://yuroyoro.hatenablog.com/entry/2013/04/02/190709\n\n\n\u3053\u306e\u8a18\u4e8b\u306f[Monstar Lab, Inc. Advent Calendar 2016](http://qiita.com/advent-calendar/2016/monstar-lab) 1\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\u30e2\u30f3\u30b9\u30bf\u30fc\u30fb\u30e9\u30dc\u521d\u306eAdvent Calendar\u3067\u3059\uff01\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\ud83d\ude4b\n\n## \u30aa\u30d5\u30a3\u30b9\u306bHue\u304c\u3084\u3063\u3066\u304d\u305f!!!\n\u5148\u65e5\u3001\u3069\u3046\u3057\u3066\u3082Hue\u304c\u6b32\u3057\u304f\u3066\u300cHue\u307b\u3057\u3044\u3088\u30a9\u301c\u301c\u300d\u3063\u3066\u8a00\u3063\u3066\u305f\u3089\u3001\u4f1a\u793e\u304cR&D\u7528\u306b\u8cb7\u3063\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n![IMG_2108.JPG](https://qiita-image-store.s3.amazonaws.com/0/38442/b8a118d3-fd5d-f7a8-5e77-5b92fef9e937.jpeg)\n\n<img width=\"504\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-25 18.53.34.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/38442/a3a378ea-0f95-57ad-dbd1-2b3f83a0687b.png\">\n\n\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01\uff01\uff01\uff01\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u3055\u3063\u305d\u304f\u30aa\u30d5\u30a3\u30b9\u3067\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n## Hue\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n### IP\u30a2\u30c9\u30ec\u30b9\u3092\u8abf\u3079\u308b\n\nHue\u30d6\u30ea\u30c3\u30b8\u304c\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5185\u306b\u7e4b\u304c\u3063\u3066\u3044\u308b\u72b6\u614b\u3067 https://www.meethue.com/api/nupnp \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001IP\u30a2\u30c9\u30ec\u30b9\u60c5\u5831\u304c\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n<img width=\"563\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-25 15.21.03.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/38442/aed88457-b8d5-b20a-8b12-e1831aa97daf.png\">\n\n### API\u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\u3092\u4f7f\u3046\n\n`http://<IP\u30a2\u30c9\u30ec\u30b9>/debug/clip.html` \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\u304c\u4f7f\u3048\u307e\u3059\u3002\n<img width=\"579\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-25 16.40.11.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/38442/95c0587c-666e-9093-a211-635761b6a063.png\">\n\n### \u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3059\u308b\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n>URL: `/api`\nHTTP METHOD: `POST`\nMessage Body: `{\"devicetype\": \"hogehoge\"}`\n\n\u4ee5\u524d\u306f `username` \u3092\u6307\u5b9a\u3067\u304d\u305f\u3089\u3057\u3044\u306e\u3067\u3059\u304c\u3001\u516c\u5f0f\u30b5\u30a4\u30c8\uff08http://www.developers.meethue.com/documentation/getting-started \uff09\u306b\u3001\n\n>Currently it is possible to create your own usernames in the bridge (e.g. \u201cnewdeveloper\u201d), however, this option will be removed in future bridge versions,  so we need to use the randomly generated username that the bridge creates for you.\n\n\u3068\u66f8\u3044\u3066\u3042\u3063\u305f\u306e\u3067\u3001\u30e9\u30f3\u30c0\u30e0\u5024\u306e `username` \u3092\u4f7f\u3046\u3057\u304b\u306a\u3055\u305d\u3046\u3067\u3059\u30fb\u30fb\u30fb\u3002\n\n\u4f5c\u6210\u306e\u969b\u306b\u306f\u3001\u30d6\u30ea\u30c3\u30b8\u306e\u30ea\u30f3\u30af\u30dc\u30bf\u30f3\uff08\u30d6\u30ea\u30c3\u30b8\u4e2d\u592e\u306e\u30dc\u30bf\u30f3\uff09\u3092\u62bc\u3057\u3066\u304b\u3089 `POST` \u3057\u307e\u3059\u3002\n`success` \u3057\u305f\u3089\u3001 `username` \u304c\u30ec\u30b9\u30dd\u30f3\u30b9\u3055\u308c\u307e\u3059\u3002\n\n### \u52d5\u4f5c\u4f8b\uff08API\u30c7\u30d0\u30c3\u30b0\u30c4\u30fc\u30eb\uff09\n#### Hue\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97\n\n>URL: `/api/<username>/lights/`\nHTTP METHOD: `GET`\nCommand Response:\n\n```\n{\n\t\"1\": {\n\t\t\"state\": {\n\t\t\t\"on\": false,\n\t\t\t\"bri\": 254,\n\t\t\t\"hue\": 14910,\n\t\t\t\"sat\": 144,\n\t\t\t\"effect\": \"none\",\n\t\t\t\"xy\": [\n\t\t\t\t0.4596,\n\t\t\t\t0.4105\n\t\t\t],\n\t\t\t\"ct\": 370,\n\t\t\t\"alert\": \"none\",\n\t\t\t\"colormode\": \"ct\",\n\t\t\t\"reachable\": true\n\t\t},\n\t\t\"type\": \"Extended color light\",\n\t\t\"name\": \"Hue color lamp 1\",\n\t\t\"modelid\": \"LCT007\",\n\t\t\"manufacturername\": \"Philips\",\n\t\t\"uniqueid\": \"00:17:88:01:02:31:58:07-0b\",\n\t\t\"swversion\": \"5.38.1.14919\"\n\t},\n\t\"2\": {\n\t\t\"state\": {\n\t\t\t\"on\": false,\n\t\t\t\"bri\": 43,\n\t\t\t\"hue\": 0,\n\t\t\t\"sat\": 0,\n\t\t\t\"effect\": \"none\",\n\t\t\t\"xy\": [\n\t\t\t\t0.6409,\n\t\t\t\t0.3332\n\t\t\t],\n\t\t\t\"ct\": 0,\n\t\t\t\"alert\": \"none\",\n\t\t\t\"colormode\": \"xy\",\n\t\t\t\"reachable\": false\n\t\t},\n\t\t\"type\": \"Extended color light\",\n\t\t\"name\": \"Hue color lamp 2\",\n\t\t\"modelid\": \"LCT007\",\n\t\t\"manufacturername\": \"Philips\",\n\t\t\"uniqueid\": \"00:17:88:01:02:31:56:f7-0b\",\n\t\t\"swversion\": \"\"\n\t},\n\t\"3\": {\n\t\t\"state\": {\n\t\t\t\"on\": false,\n\t\t\t\"bri\": 43,\n\t\t\t\"hue\": 0,\n\t\t\t\"sat\": 0,\n\t\t\t\"effect\": \"none\",\n\t\t\t\"xy\": [\n\t\t\t\t0.6409,\n\t\t\t\t0.3332\n\t\t\t],\n\t\t\t\"ct\": 0,\n\t\t\t\"alert\": \"none\",\n\t\t\t\"colormode\": \"xy\",\n\t\t\t\"reachable\": false\n\t\t},\n\t\t\"type\": \"Extended color light\",\n\t\t\"name\": \"Hue color lamp 3\",\n\t\t\"modelid\": \"LCT007\",\n\t\t\"manufacturername\": \"Philips\",\n\t\t\"uniqueid\": \"00:17:88:01:02:31:56:c7-0b\",\n\t\t\"swversion\": \"\"\n\t}\n}\n```\n\n`1` \u3068\u66f8\u3044\u3066\u3044\u308b\u6570\u5b57\u304cHue\u306e\u8b58\u5225ID\u3067\u3059\u3002\n\n#### Hue\u306e\u70b9\u706f/\u6d88\u706f\n\n>URL: `/api/<username>/lights/status/1`\nHTTP METHOD: `PUT`\nMessageBody: `{\"on\":true}` or `{\"on\":false}`\n\n#### Hue\u306e\u8272\u64cd\u4f5c\n\n>URL: `/api/<username>/lights/status/1`\nHTTP METHOD: `PUT`\nMessageBody: `{\"on\":true, \"sat\":254, \"bri\":254,\"hue\":10000}`\n\n`sat` \u306f\u5f69\u5ea6\u3001 `bri` \u306f\u8f1d\u5ea6\u3001 `hue` \u306f\u8272\u76f8\uff080~65535\u306e\u7bc4\u56f2\u300216bitColor?\uff09\n\n### \u52d5\u4f5c\u4f8b\uff08curl\uff09\n\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089 `curl` \u3067\u3082\u53e9\u3051\u307e\u3059\u3002\n\n#### Hue\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u5f97\n\n```\ncurl http://<IP-address>/api/<username>/lights/\n```\n\n#### Hue\u306e\u70b9\u706f/\u6d88\u706f\n\n```\ncurl http://<IP-address>/api/<username>/lights/1/state -X PUT -d '{\"on\":true}'\n```\n```\ncurl http://<IP-address>/api/<username>/lights/1/state -X PUT -d '{\"on\":false}'\n```\n\n#### Hue\u306e\u8272\u64cd\u4f5c\n\n```\ncurl http://<IP-address>/api/<username>/lights/1/state -X PUT -d '{\"on\":true, \"sat\":254, \"bri\":254,\"hue\":10000}'\n```\n\n\u4f59\u8ac7\u3067\u3059\u304c\u3001CLI\u3067Json\u3092 `GET` \u3059\u308b\u5834\u5408\u3001[jq](https://stedolan.github.io/jq/)\u3092\u5c0e\u5165\u3059\u308b\u3068\u5e78\u305b\u306b\u306a\u308c\u307e\u3059\u3002\n\n## \u30bb\u30f3\u30b5\u30fc\u3068\u9023\u643a\u3057\u3066\u307f\u308b\n\u6e29\u5ea6\u30bb\u30f3\u30b5\u3068\u9023\u643a\u3057\u3066\u3001\u30aa\u30d5\u30a3\u30b9\u306e\u6c17\u6e29\u306b\u3088\u3063\u3066\u7167\u660e\u306e\u8272\u304c\u5909\u308f\u308bIoT\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n- \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2: Arduino UNO\n- \u30bb\u30f3\u30b5\u30fc: \u6e29\u5ea6\u30bb\u30f3\u30b5 LM35\n- \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af: [Jonny-Five](http://johnny-five.io/)\n\n```thermometer.js\nvar five = require(\"johnny-five\");\nvar fetch = require(\"node-fetch\");\nvar board = new five.Board();\nvar requestBody;\n\nboard.on(\"ready\", function() {\n    var temperature = new five.Thermometer({\n        controller: \"LM35\",\n        pin: \"A0\",\n        freq: 1000\n    });\n\n    temperature.on('data', function() {\n        console.log('celsius: ', this.celsius);\n\n        if (this.celsius >= 27) {\n            requestBody = '{\"on\":true, \"sat\":254, \"bri\":50,\"hue\":10000}';\n        } else if (this.celsius == 26) {\n            requestBody = '{\"on\":true, \"sat\":254, \"bri\":50,\"hue\":20000}';\n        } else if (this.celsius == 25) {\n            requestBody = '{\"on\":true, \"sat\":254, \"bri\":50,\"hue\":30000}';\n        } else if (this.celsius <= 24) {\n            requestBody = '{\"on\":true, \"sat\":254, \"bri\":50,\"hue\":40000}';\n        }\n\n        fetch('http://<IP-address>/api/<username>/lights/1/state', {\n            method: 'PUT',\n            body: requestBody\n        })\n        .then(function(res) {\n            return res.json();\n        }).then(function(json) {\n            console.log(json);\n        });\n    });\n});\n```\n\n23\u301c24\u2103\u3067\u306f\u901a\u5e38\u306e\u7167\u660e\u8272\u3067\u3059\u304c\u3001\n![IMG_2348.JPG](https://qiita-image-store.s3.amazonaws.com/0/38442/051b26d6-7f20-461f-6d0d-9255713e1df8.jpeg)\n\n\u5c11\u3057\u6691\u304f\u306a\u3063\u3066\u304f\u308b\u3068\uff0825\u2103\u301c27\u2103\u4ee5\u4e0a\uff09\u3001\u7167\u660e\u306e\u8272\u304c\u6696\u8272\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\uff08\u5b9f\u9a13\u3067\u306f\u308f\u3056\u3068\u6e29\u5ea6\u30bb\u30f3\u30b5\u306b\u89e6\u308c\u3066\u6e29\u5ea6\u3092\u4e0a\u3052\u3066\u3044\u307e\u3059\u3002\uff09\n![IMG_2347.JPG](https://qiita-image-store.s3.amazonaws.com/0/38442/4d4a34ef-49e8-b9f8-caf6-fa2806cb46ab.jpeg)\n\n## \u307e\u3068\u3081\nHue\u3092\u30bb\u30f3\u30b5\u30fc\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u30aa\u30d5\u30a3\u30b9\u306e\u6c17\u6e29\u3092\u8996\u899a\u7684\u306b\u628a\u63e1\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u4ed6\u306b\u3082\u3001\u7d44\u307f\u5408\u308f\u305b\u3068\u30a2\u30a4\u30c7\u30a3\u30a2\u6b21\u7b2c\u3067\u5fdc\u7528\u304c\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n\n- \u6e7f\u5ea6\u3092\u6e2c\u5b9a\u3057\u3066\u3001\u30aa\u30d5\u30a3\u30b9\u30a8\u30ea\u30a2\u306e\u4e7e\u71e5\u3092\u691c\u77e5\u3059\u308b\uff08\uff0b\u52a0\u6e7f\u5668\u3092\u64cd\u4f5c\u3059\u308b\uff09\n- \u81f3\u9069\u6e29\u5ea6\u3092\u8d8a\u3048\u305f\u3089\u3001Slack\u306b\u901a\u77e5\u3059\u308b\uff08\uff0b\u30a8\u30a2\u30b3\u30f3\u3092\u64cd\u4f5c\u3059\u308b\uff09\n\n\u306a\u3069\u306a\u3069\u3002\nIoT\u3092\u4f7f\u3063\u3066\u3088\u308a\u826f\u3044\u30aa\u30d5\u30a3\u30b9\u74b0\u5883\u3092\u624b\u306b\u5165\u308c\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01\uff01\uff01\uff01\uff01\n\n\u660e\u65e5\u306f @noboru_i \u6c0f\u304c\u62c5\u5f53\u3057\u307e\u3059\u3002\u304a\u697d\u3057\u307f\u306b\uff01\n\n### \u53c2\u8003\u30b5\u30a4\u30c8\n- Getting started  \nhttp://www.developers.meethue.com/documentation/getting-started\n- \u672a\u6765\u3092\u611f\u3058\u308b\u7167\u660e\uff1aHue\u3067\u904a\u3093\u3067\u307f\u305f \u305d\u306e\uff11  \nhttp://heckey.hatenablog.com/entry/2014/01/06/154100\n- \u30d7\u30ed\u30b0\u30e9\u30de\u30d6\u30eb\u96fb\u7403hue\u3092Ruby\u304b\u3089\u4f7f\u3046  \nhttp://shokai.org/blog/archives/8324\n- CLI\u3067JSON\u306e\u6574\u5f62\u3092\u3059\u308b  \nhttp://yuroyoro.hatenablog.com/entry/2013/04/02/190709\n", "tags": ["IoT", "Hue", "Johnny-Five"]}