{"context": " More than 1 year has passed since last update.\n\nAPNS\u3078\u306e\u767b\u9332\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    // \u30d7\u30c3\u30b7\u30e5\u8a31\u53ef\u306e\u78ba\u8a8d\u3092\u8868\u793a\n    if(NSFoundationVersionNumber > NSFoundationVersionNumber_iOS_7_1){\n        // iOS8\u4ee5\u964d\n        UIUserNotificationType types =  UIUserNotificationTypeBadge |\n                                        UIUserNotificationTypeSound |\n                                        UIUserNotificationTypeAlert;\n        UIUserNotificationSettings *mySettings = [UIUserNotificationSettings settingsForTypes:types categories:nil];\n        [application registerUserNotificationSettings:mySettings];\n    }else{\n        // iOS8\u4ee5\u524d\n        [application registerForRemoteNotificationTypes:(UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)];\n    }\n}\n\n\n\u30c7\u30d0\u30a4\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u53d7\u3051\u53d6\u308a\n// iOS8\u4ee5\u964d\u3053\u3053\u3092\u901a\u308b\n- (void)application:(UIApplication *)application didRegisterUserNotificationSettings:\n(UIUserNotificationSettings *)notificationSettings{\n    // \u3053\u308c\u547c\u3070\u306a\u3044\u3068\u30c7\u30d0\u30a4\u30b9\u30c8\u30fc\u30af\u30f3\u53d6\u5f97\u3067\u304d\u306a\u3044\n    [application registerForRemoteNotifications];\n}\n\n- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {\n    // \u30c7\u30d0\u30a4\u30b9\u30c8\u30fc\u30af\u30f3\u53d6\u5f97\u5b8c\u4e86\n    NSString *token = deviceToken.description;\n    token = [token stringByReplacingOccurrencesOfString:@\"<\" withString:@\"\"];\n    token = [token stringByReplacingOccurrencesOfString:@\">\" withString:@\"\"];\n    token = [token stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];\n\n    // \u30c8\u30fc\u30af\u30f3\u3092\u30b5\u30fc\u30d0\u306b\u4fdd\u5b58\u3059\u308b\u51e6\u7406\u306a\u3069\n    [self sendToken:token];\n}\n\n- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error {\n    // APNS\u3078\u306e\u767b\u9332\u5931\u6557\n}\n\n\n\n##APNS\u3078\u306e\u767b\u9332\n```objectivec\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n\t// \u30d7\u30c3\u30b7\u30e5\u8a31\u53ef\u306e\u78ba\u8a8d\u3092\u8868\u793a\n    if(NSFoundationVersionNumber > NSFoundationVersionNumber_iOS_7_1){\n        // iOS8\u4ee5\u964d\n        UIUserNotificationType types = \tUIUserNotificationTypeBadge |\n\t\t\t\t\t\t\t\t\t\tUIUserNotificationTypeSound |\n\t\t\t\t\t\t\t\t\t\tUIUserNotificationTypeAlert;\n        UIUserNotificationSettings *mySettings = [UIUserNotificationSettings settingsForTypes:types categories:nil];\n\t\t[application registerUserNotificationSettings:mySettings];\n    }else{\n        // iOS8\u4ee5\u524d\n        [application registerForRemoteNotificationTypes:(UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)];\n    }\n}\n```\n\n##\u30c7\u30d0\u30a4\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u53d7\u3051\u53d6\u308a\n```objectivec\n// iOS8\u4ee5\u964d\u3053\u3053\u3092\u901a\u308b\n- (void)application:(UIApplication *)application didRegisterUserNotificationSettings:\n(UIUserNotificationSettings *)notificationSettings{\n\t// \u3053\u308c\u547c\u3070\u306a\u3044\u3068\u30c7\u30d0\u30a4\u30b9\u30c8\u30fc\u30af\u30f3\u53d6\u5f97\u3067\u304d\u306a\u3044\n    [application registerForRemoteNotifications];\n}\n\n- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {\n\t// \u30c7\u30d0\u30a4\u30b9\u30c8\u30fc\u30af\u30f3\u53d6\u5f97\u5b8c\u4e86\n    NSString *token = deviceToken.description;\n    token = [token stringByReplacingOccurrencesOfString:@\"<\" withString:@\"\"];\n    token = [token stringByReplacingOccurrencesOfString:@\">\" withString:@\"\"];\n    token = [token stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];\n\n    // \u30c8\u30fc\u30af\u30f3\u3092\u30b5\u30fc\u30d0\u306b\u4fdd\u5b58\u3059\u308b\u51e6\u7406\u306a\u3069\n\t[self sendToken:token];\n}\n\n- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error {\n    // APNS\u3078\u306e\u767b\u9332\u5931\u6557\n}\n\n```\n", "tags": ["Objective-C", "iPhone\u958b\u767a", "iOS", "Xcode"]}