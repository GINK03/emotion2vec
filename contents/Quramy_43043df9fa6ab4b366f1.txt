{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u6700\u8fd1, Vim plugin\u3092\u958b\u767a\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066, \u30c6\u30b9\u30c8\u3092CI\u3067\u3076\u3093\u56de\u3057\u305f\u304f\u306a\u3063\u305f\u306e\u3067, \u8a66\u884c\u932f\u8aa4\u306e\u7d50\u679c\u30e1\u30e2.\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n\u50d5\u306f\u3042\u3093\u307e\u308a\u30c6\u30b9\u30c8\u306b\u6df1\u3044\u601d\u3044\u5165\u308c\u304c\u3042\u308b\u8a33\u3067\u306f\u306a\u3044\u306e\u3060\u3051\u3069, \u4e0b\u8a18\u3092\u5b9f\u73fe\u3057\u305f\u3044\u6c17\u6301\u3061\u304c\u3042\u3063\u305f.\n\n\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u4e2d\u306fVim\u304b\u3089\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u305f\u3044.\nCI\u3067\u3082\u30c6\u30b9\u30c8\u3092\u56de\u3057\u305f\u3044\u305f\u3081, CLI\u304b\u3089\u306e\u5b9f\u884c\u3082\u6b32\u3057\u3044. README\u306b\"build passing\"\u306e\u30d0\u30c3\u30b8\u8cbc\u308a\u305f\u3044.\n\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u4f9d\u5b58\u30d7\u30e9\u30b0\u30a4\u30f3\u7ba1\u7406\u306e\u4ed5\u7d44\u307f\u304c\u6b32\u3057\u3044.\n\nVim plguin\u306eCI\u306b\u3064\u3044\u3066\u9069\u5f53\u306b\u30b0\u30b0\u3063\u3066\u307f\u305f\u3068\u3053\u308d, vim-flavor\u3067\u30c6\u30b9\u30c8\u3092CLI\u304b\u3089\u5b9f\u884c\u3059\u308b, \u3068\u3044\u3046\u65b9\u6cd5\u304c\u898b\u3064\u304b\u3063\u305f\u306e\u3060\u304c, \u3053\u308c\u306f\u4e0a\u8a18\u306e1. \u30683. \u3068\u80cc\u53cd\u3059\u308b\u305f\u3081, \u4eca\u56de\u306f\u63a1\u7528\u898b\u9001\u308a.\n\u307e\u305f, vim-flavor\u306f\u4f9d\u5b58\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u304csemver\u306b\u5f93\u3063\u3066\u306a\u3044\u3068\u4e0a\u624b\u304f\u52d5\u4f5c\u3057\u306a\u3044\u69d8\u5b50\u3060\u3063\u305f\u305f\u3081, \u3053\u308c\u3082\u63a1\u7528\u898b\u9001\u308a\u306e\u7406\u7531\u306e\u4e00\u3064.\n\u7d50\u5c40, \u4e0a\u8a18\u3092\u5168\u90e8\u5145\u8db3\u3059\u308b\u3088\u3046\u306aVim\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u7279\u306b\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067, NeoBundle + vesting + \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u69cb\u6210\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u305f.\nNeoBundle\u306f\u666e\u6bb5\u304b\u3089\u4f7f\u3063\u3066\u3044\u308bplugin manager, \u3068\u3044\u3046\u7406\u7531.\nvesting\u306b\u3064\u3044\u3066\u306f, \u7279\u306b\u6df1\u3044\u601d\u3044\u304c\u3042\u308b\u8a33\u3067\u306f\u306a\u3044\u304c, NeoBundle\u3068\u4f5c\u8005\u304c\u4e00\u7dd2\u3067\u3042\u308a, \u4e0a\u8a18\u306e1.\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u305f\u305f\u3081.\n\n\u3084\u3063\u3066\u307f\u305f\n\n\u57fa\u672c\u7684\u306a\u8003\u3048\u65b9\n\u5148\u8ff0\u306e\u901a\u308a, Vim\u3092\u7acb\u3061\u4e0a\u3052\u3066\u304b\u3089\u306e\u5b9f\u884c\u306fvesting\u3067\u51fa\u6765\u308b\u306e\u3067, \u4f5c\u308a\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\u306e\u306fCLI\u90e8\u5206\u306e\u307f.\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3084\u3063\u3066\u307f\u305f.\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306bneobundle.vim\u3092clone.\n\u30c6\u30b9\u30c8\u7528\u306e.vimrc\u3092\u7528\u610f\u3057, \u30c6\u30b9\u30c8\u306b\u5fc5\u8981\u306aVim\u306e\u8a2d\u5b9a\u60c5\u5831\u306f\u4e8b\u524d\u306b\u8a18\u8ff0\u3057\u3066\u304a\u304f.\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u672c\u4f53, NeoBundle\u306eruntimepath\u8a2d\u5b9a\u306f\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\n\u30c6\u30b9\u30c8\u5b9f\u884c\u6642\u306b\u5fc5\u8981\u3068\u306a\u308b\u4f9d\u5b58plugin\u306f\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u4e2d\u306b:NeoBundle \u30b3\u30de\u30f3\u30c9\u3067\u5217\u6319\u3057, :NeoBundleInstall \u3067\u53d6\u5f97\u3059\u308b\n\n\nvesting\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30de\u30af\u30ed\u3092\u7528\u610f\u3059\u308b.\n\n\nvesting\u306fUnite\u3067\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u305f\u3081, \u3053\u306e\u7d50\u679c\u3092\u30ed\u30b0\u306b\u5410\u304d\u51fa\u3059\u3088\u3046\u306b\u3057\u3066\u304a\u304f.\n\n\nVim\u3092silent-mode\u3067\u8d77\u52d5\u3059\u308b. vim -u vest/.vimrc -s vest/_runner.\nvest\u306e\u7d50\u679c\u30ed\u30b0\u306b[Fail], [Error]\u304c\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b, grep\u3059\u308b. \u8a72\u5f53\u7121\u3057\u3067\u3042\u308c\u3070\u30c6\u30b9\u30c8\u6210\u529f\u3068\u307f\u306a\u3059.\n\n\n\u30b3\u30fc\u30c9\u89e3\u8aac\n\u3055\u3066, \u5b9f\u969b\u306bQuramy/vesting-ci\u306b\u30b5\u30f3\u30d7\u30eb\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u4f5c\u3063\u3066, TravisCI\u3067\u52d5\u304b\u3057\u3066\u307f\u305f.\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u308b.\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n- vesting-ci           # \u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u30eb\u30fc\u30c8. \n - autoload/\n  |  calc.vim          # \u30c6\u30b9\u30c8\u5bfe\u8c61\u30b3\u30fc\u30c9\n + bundle/             # NeoBundle\u3067install\u3059\u308bplugin\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n + neobundle.vim/      # NeoBundle\u672c\u4f53\n - vest/               # vesting\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n  |  .vimrc            # 2.\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n  |  _runner           # 3.\u306evesting\u5b9f\u884c\u30de\u30af\u30ed\n  |  calc_add.vim      # vesting\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u305d\u306e1\n  |  calc_sub.vim      # vesting\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u305d\u306e2\n + vim/\n   runtest.sh          # CLI\u7528\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n   .travis.yml         # TraviceCI\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n\nvesting\u306f\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306evest/*.vim\u3092\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3068\u307f\u306a\u3057\u3066\u5b9f\u884c\u3059\u308b\u305f\u3081, \u30c6\u30b9\u30c8\u95a2\u4fc2\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u6975\u529b\u3053\u3053\u306b\u7a81\u3063\u8fbc\u3080\u3088\u3046\u306b\u3057\u305f.\n\u30c6\u30b9\u30c8\u5bfe\u8c61\u306e\u30b3\u30fc\u30c9\u306f\u4e0b\u8a18. \u3068\u8a00\u3063\u3066\u3082\u53ea\u306e\u8db3\u3057\u7b97\u3068\u5f15\u304d\u7b97.\n\nautoload/calc.vim\nfunction! calc#add(a, b)\n  return a:a + a:b\nendfunction\n\nfunction! calc#sub(a, b)\n  return a:a - a:b\nendfunction\n\n\n\u5bfe\u5fdc\u3059\u308bvesting\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306f\u4e0b\u8a18.\n\nvest/calc_add.vim\nscriptencoding utf-8\n\nContext Vesting.run()\n  It calc#add returns the summation of two values\n    Should calc#add(1, 2) == 3\n  End\nEnd\nFin\n\n\nvest/calc_sub.vim\u3082\u4f3c\u305f\u3088\u3046\u306a\u611f\u3058. \u3061\u306a\u307f\u306b, vesting\u306f:Unite vesting:. \u3092Vim\u304b\u3089\u5b9f\u884c\u3059\u308b\u3068, \u30c6\u30b9\u30c8\u306e\u4e00\u89a7\u304cUnite\u4e0a\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3067, \u5b9f\u884c\u3057\u305f\u3044\u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066Enter\u3092\u53e9\u304f\u3068\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u308b.\n\u3053\u3053\u304b\u3089\u304c\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306e\u4e3b\u773c. \u307e\u305a\u306f\u4e0a\u8a182. \u306e.vimrc \u304b\u3089.\n\nvest/.vimrc\nif has('vim_starting')\n  set nocompatible\n  let s:basedir = expand('<sfile>:p:h').'/../'\n\n  \" \u30d7\u30e9\u30b0\u30a4\u30f3\u81ea\u4f53\u3092runtimepath\u306b\u767b\u9332.\n  execute('set runtimepath+='.s:basedir)\n\n  \" NeoBundle\u3092runtimepath\u306b\u767b\u9332.\n  execute('set runtimepath+='.s:basedir.'neobundle.vim')\n\n  \" NeoBundle\u3067\u4f9d\u5b58plugin\u3092\u8a18\u8f09.\n  \" Unite\u3068vesting\u306f\u5fc5\u9808.\n  call neobundle#begin(expand(s:basedir.'bundle'))\n  NeoBundle 'Shougo/unite.vim'\n  NeoBundle 'Shougo/vesting'\n  call neobundle#end()\n\n  \" \u5fc5\u8981\u306aplugin\u306e\u4e00\u62ecinstall\n  silent NeoBundleInstall\nendif\n\n\nUnite\u3068vesting\u306f\u6700\u4f4e\u9650\u5fc5\u8981\u3068\u306a\u308bplugin\u3067\u3042\u308b.  \u3082\u3057, \u4ed6\u306b\u5fc5\u8981\u306aplugin\u304c\u3042\u308c\u3070, NeoBundle\u3092\u8ffd\u8a18\u3057\u3066\u3044\u3051\u3070\u3088\u3044.\n(\u50d5\u304c\u5b9f\u969b\u306b\u958b\u767a\u3057\u3066\u3044\u308bPlugin\u3067\u306f, vimproc\u3092\u4f7f\u3063\u3066\u308b\u3044\u308b\u304c, \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u3066\u3044\u308b)\n\u7d9a\u3044\u30663.\u306evesting\u5b9f\u884c\u30de\u30af\u30ed. \n\nvest/_runner\n:Unite vesting:.\n*\n:call unite#action#do('start')\n:w vest/test_result.log\n:quitall\nvim:ft=vim\n\n\nvesting\u3092\u5b9f\u884c\u3057\u305f\u5f8c, *\u3067\u5168\u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e. unite\u306estart action\u3092\u5b9f\u884c\u3059\u308b\u3068, \u5168\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u3066\u7d50\u679c\u304cUnite\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3067, \u3053\u308c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b.\n\u3042\u3093\u307e\u308a\u30b9\u30de\u30fc\u30c8\u3058\u3083\u306a\u3044\u6c17\u3082\u3059\u308b\u304c, \u53d6\u308a\u5408\u3048\u305a\u52d5\u3044\u3066\u308b\u306e\u3067\u3053\u308c\u3067\u3088\u3057.\n\u306a\u304a, \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u62e1\u5f35\u5b50\u306b.vim\u3092\u4ed8\u3051\u3066\u306a\u3044\u306e\u306f, vesting\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3060\u3068\u8aa4\u89e3\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081.\n\u6700\u5f8c\u306bCLI\u7528\u306e\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3068TravisCI\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb.\n\u5b9f\u969b\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5b58\u5728\u30c1\u30a7\u30c3\u30af\u3068\u304b, Vim\u81ea\u4f53\u306e\u30d3\u30eb\u30c9\u51e6\u7406(TravisCI\u306eVim\u304c7.3\u3067\u53e4\u3044\u306e\u3067)\u3082\u66f8\u3044\u3066\u3044\u308b\u305f\u3081, \u3082\u3046\u5c11\u3057\u9577\u304f\u306a\u308b\u306e\u3060\u3051\u3069, \u5148\u8ff0\u3057\u305f\u65b9\u6cd5\u306e\u9aa8\u5b50\u3092\u629c\u304d\u3060\u3059\u3068\u3053\u3093\u306a\u611f\u3058\u3060.\n\nruntest.sh\n#/bin/sh\n\nVIMRC_FILE=\"vest/.vimrc\"\nDRIVER_FILE=\"vest/_runner\"\nRESULT_FILE=\"vest/test_result.log\"\n\n# 1. NeoBundle\u306e\u30af\u30ed\u30fc\u30f3\ngit clone https://github.com/Shougo/neobundle.vim\n\n# 4. Vesting\u306e\u5b9f\u884c\nvim -u ${VIMRC_FILE} -s ${DRIVER_FILE}\ncat ${RESULT_FILE}\n\n# 5. \u30c6\u30b9\u30c8\u7d50\u679c\u306e\u5224\u5b9a\ngrep -E \"\\[Fail\\]\" ${RESULT_FILE} > /dev/null\nif [ $? -eq 0 ]; then\n  exit 1\nfi\ngrep -E \"\\[Error\\]\" ${RESULT_FILE} > /dev/null\nif [ $? -eq 0 ]; then\n  exit 1\nfi\n\n\n\n.travis.yml\nscript:\n- sh runtest.sh\n\n\n\n\u6240\u611f\n\u6700\u521d\u306fVim plguin\u306eCI\u5316\u306f\u7d50\u69cb\u6577\u5c45\u304c\u9ad8\u305d\u3046\u306b\u601d\u3063\u3066\u3044\u305f\u304c, \u3084\u3063\u3066\u307f\u308b\u3068\u610f\u5916\u3068\u7c21\u5358.\n\u30c6\u30b9\u30c6\u30a3\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u4f9d\u5b58\u3059\u308b\u306e\u306f\u30de\u30af\u30ed\u90e8\u5206\u3060\u3051\u306a\u306e\u3067, vesting\u4ee5\u5916\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u4f7f\u3063\u3066\u308b\u5834\u5408\u3067\u3082, \u8003\u3048\u65b9\u3068\u304b\u30b7\u30a7\u30eb\u306f\u4f7f\u3044\u307e\u308f\u305b\u308b\u4e88\u611f.\n\n\u53c2\u8003\n\nTest framework for Vim scripts\nVim \u30d7\u30e9\u30b0\u30a4\u30f3\u958b\u767a\u3067\u3082\u7d99\u7d9a\u7684\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u3057\u305f\u3044! (Travis CI \u7de8)\n\n# \u306f\u3058\u3081\u306b\n\u6700\u8fd1, Vim plugin\u3092\u958b\u767a\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066, \u30c6\u30b9\u30c8\u3092CI\u3067\u3076\u3093\u56de\u3057\u305f\u304f\u306a\u3063\u305f\u306e\u3067, \u8a66\u884c\u932f\u8aa4\u306e\u7d50\u679c\u30e1\u30e2.\n\n# \u3084\u308a\u305f\u3044\u3053\u3068\n\n\u50d5\u306f\u3042\u3093\u307e\u308a\u30c6\u30b9\u30c8\u306b\u6df1\u3044\u601d\u3044\u5165\u308c\u304c\u3042\u308b\u8a33\u3067\u306f\u306a\u3044\u306e\u3060\u3051\u3069, \u4e0b\u8a18\u3092\u5b9f\u73fe\u3057\u305f\u3044\u6c17\u6301\u3061\u304c\u3042\u3063\u305f.\n\n1. \u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u4e2d\u306fVim\u304b\u3089\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u305f\u3044.\n1. CI\u3067\u3082\u30c6\u30b9\u30c8\u3092\u56de\u3057\u305f\u3044\u305f\u3081, CLI\u304b\u3089\u306e\u5b9f\u884c\u3082\u6b32\u3057\u3044. README\u306b\"build passing\"\u306e\u30d0\u30c3\u30b8\u8cbc\u308a\u305f\u3044.\n1. \u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u4f9d\u5b58\u30d7\u30e9\u30b0\u30a4\u30f3\u7ba1\u7406\u306e\u4ed5\u7d44\u307f\u304c\u6b32\u3057\u3044.\n\nVim plguin\u306eCI\u306b\u3064\u3044\u3066\u9069\u5f53\u306b\u30b0\u30b0\u3063\u3066\u307f\u305f\u3068\u3053\u308d, [vim-flavor](https://github.com/kana/vim-flavor)\u3067\u30c6\u30b9\u30c8\u3092CLI\u304b\u3089\u5b9f\u884c\u3059\u308b, \u3068\u3044\u3046\u65b9\u6cd5\u304c\u898b\u3064\u304b\u3063\u305f\u306e\u3060\u304c, \u3053\u308c\u306f\u4e0a\u8a18\u306e1. \u30683. \u3068\u80cc\u53cd\u3059\u308b\u305f\u3081, \u4eca\u56de\u306f\u63a1\u7528\u898b\u9001\u308a.\n\u307e\u305f, vim-flavor\u306f\u4f9d\u5b58\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u304csemver\u306b\u5f93\u3063\u3066\u306a\u3044\u3068\u4e0a\u624b\u304f\u52d5\u4f5c\u3057\u306a\u3044\u69d8\u5b50\u3060\u3063\u305f\u305f\u3081, \u3053\u308c\u3082\u63a1\u7528\u898b\u9001\u308a\u306e\u7406\u7531\u306e\u4e00\u3064.\n\n\u7d50\u5c40, \u4e0a\u8a18\u3092\u5168\u90e8\u5145\u8db3\u3059\u308b\u3088\u3046\u306aVim\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u7279\u306b\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067, NeoBundle + vesting + \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u69cb\u6210\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u305f.\nNeoBundle\u306f\u666e\u6bb5\u304b\u3089\u4f7f\u3063\u3066\u3044\u308bplugin manager, \u3068\u3044\u3046\u7406\u7531.\nvesting\u306b\u3064\u3044\u3066\u306f, \u7279\u306b\u6df1\u3044\u601d\u3044\u304c\u3042\u308b\u8a33\u3067\u306f\u306a\u3044\u304c, NeoBundle\u3068\u4f5c\u8005\u304c\u4e00\u7dd2\u3067\u3042\u308a, \u4e0a\u8a18\u306e1.\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u305f\u305f\u3081.\n\n# \u3084\u3063\u3066\u307f\u305f\n\n## \u57fa\u672c\u7684\u306a\u8003\u3048\u65b9\n\n\u5148\u8ff0\u306e\u901a\u308a, Vim\u3092\u7acb\u3061\u4e0a\u3052\u3066\u304b\u3089\u306e\u5b9f\u884c\u306fvesting\u3067\u51fa\u6765\u308b\u306e\u3067, \u4f5c\u308a\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\u306e\u306fCLI\u90e8\u5206\u306e\u307f.\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3067\u3084\u3063\u3066\u307f\u305f.\n\n1. \u30ec\u30dd\u30b8\u30c8\u30ea\u306bneobundle.vim\u3092clone.\n1. \u30c6\u30b9\u30c8\u7528\u306e.vimrc\u3092\u7528\u610f\u3057, \u30c6\u30b9\u30c8\u306b\u5fc5\u8981\u306aVim\u306e\u8a2d\u5b9a\u60c5\u5831\u306f\u4e8b\u524d\u306b\u8a18\u8ff0\u3057\u3066\u304a\u304f.\n * \u30d7\u30e9\u30b0\u30a4\u30f3\u672c\u4f53, NeoBundle\u306e`runtimepath`\u8a2d\u5b9a\u306f\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\n * \u30c6\u30b9\u30c8\u5b9f\u884c\u6642\u306b\u5fc5\u8981\u3068\u306a\u308b\u4f9d\u5b58plugin\u306f\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u4e2d\u306b`:NeoBundle` \u30b3\u30de\u30f3\u30c9\u3067\u5217\u6319\u3057, `:NeoBundleInstall` \u3067\u53d6\u5f97\u3059\u308b\n1. vesting\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30de\u30af\u30ed\u3092\u7528\u610f\u3059\u308b.\n * vesting\u306fUnite\u3067\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u305f\u3081, \u3053\u306e\u7d50\u679c\u3092\u30ed\u30b0\u306b\u5410\u304d\u51fa\u3059\u3088\u3046\u306b\u3057\u3066\u304a\u304f.\n1. Vim\u3092silent-mode\u3067\u8d77\u52d5\u3059\u308b. `vim -u vest/.vimrc -s vest/_runner`.\n1. vest\u306e\u7d50\u679c\u30ed\u30b0\u306b`[Fail]`, `[Error]`\u304c\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b, grep\u3059\u308b. \u8a72\u5f53\u7121\u3057\u3067\u3042\u308c\u3070\u30c6\u30b9\u30c8\u6210\u529f\u3068\u307f\u306a\u3059.\n\n## \u30b3\u30fc\u30c9\u89e3\u8aac\n\u3055\u3066, \u5b9f\u969b\u306b[Quramy/vesting-ci](https://github.com/Quramy/vesting-ci)\u306b\u30b5\u30f3\u30d7\u30eb\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u4f5c\u3063\u3066, TravisCI\u3067\u52d5\u304b\u3057\u3066\u307f\u305f.\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u3044\u308b.\n\n```txt:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n- vesting-ci           # \u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u30eb\u30fc\u30c8. \n - autoload/\n  |  calc.vim          # \u30c6\u30b9\u30c8\u5bfe\u8c61\u30b3\u30fc\u30c9\n + bundle/             # NeoBundle\u3067install\u3059\u308bplugin\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n + neobundle.vim/      # NeoBundle\u672c\u4f53\n - vest/               # vesting\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n  |  .vimrc            # 2.\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n  |  _runner           # 3.\u306evesting\u5b9f\u884c\u30de\u30af\u30ed\n  |  calc_add.vim      # vesting\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u305d\u306e1\n  |  calc_sub.vim      # vesting\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u305d\u306e2\n + vim/\n   runtest.sh          # CLI\u7528\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n   .travis.yml         # TraviceCI\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n```\n\nvesting\u306f\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306e`vest/*.vim`\u3092\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3068\u307f\u306a\u3057\u3066\u5b9f\u884c\u3059\u308b\u305f\u3081, \u30c6\u30b9\u30c8\u95a2\u4fc2\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u6975\u529b\u3053\u3053\u306b\u7a81\u3063\u8fbc\u3080\u3088\u3046\u306b\u3057\u305f.\n\n\u30c6\u30b9\u30c8\u5bfe\u8c61\u306e\u30b3\u30fc\u30c9\u306f\u4e0b\u8a18. \u3068\u8a00\u3063\u3066\u3082\u53ea\u306e\u8db3\u3057\u7b97\u3068\u5f15\u304d\u7b97.\n\n```vim:autoload/calc.vim\nfunction! calc#add(a, b)\n  return a:a + a:b\nendfunction\n\nfunction! calc#sub(a, b)\n  return a:a - a:b\nendfunction\n```\n\n\u5bfe\u5fdc\u3059\u308bvesting\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306f\u4e0b\u8a18.\n\n```vim:vest/calc_add.vim\nscriptencoding utf-8\n\nContext Vesting.run()\n  It calc#add returns the summation of two values\n    Should calc#add(1, 2) == 3\n  End\nEnd\nFin\n```\n\n`vest/calc_sub.vim`\u3082\u4f3c\u305f\u3088\u3046\u306a\u611f\u3058. \u3061\u306a\u307f\u306b, vesting\u306f`:Unite vesting:.` \u3092Vim\u304b\u3089\u5b9f\u884c\u3059\u308b\u3068, \u30c6\u30b9\u30c8\u306e\u4e00\u89a7\u304cUnite\u4e0a\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3067, \u5b9f\u884c\u3057\u305f\u3044\u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066Enter\u3092\u53e9\u304f\u3068\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u308b.\n\n\n\u3053\u3053\u304b\u3089\u304c\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u306e\u4e3b\u773c. \u307e\u305a\u306f\u4e0a\u8a182. \u306e`.vimrc` \u304b\u3089.\n\n```vim:vest/.vimrc\nif has('vim_starting')\n  set nocompatible\n  let s:basedir = expand('<sfile>:p:h').'/../'\n\n  \" \u30d7\u30e9\u30b0\u30a4\u30f3\u81ea\u4f53\u3092runtimepath\u306b\u767b\u9332.\n  execute('set runtimepath+='.s:basedir)\n\n  \" NeoBundle\u3092runtimepath\u306b\u767b\u9332.\n  execute('set runtimepath+='.s:basedir.'neobundle.vim')\n\n  \" NeoBundle\u3067\u4f9d\u5b58plugin\u3092\u8a18\u8f09.\n  \" Unite\u3068vesting\u306f\u5fc5\u9808.\n  call neobundle#begin(expand(s:basedir.'bundle'))\n  NeoBundle 'Shougo/unite.vim'\n  NeoBundle 'Shougo/vesting'\n  call neobundle#end()\n\n  \" \u5fc5\u8981\u306aplugin\u306e\u4e00\u62ecinstall\n  silent NeoBundleInstall\nendif\n```\n\nUnite\u3068vesting\u306f\u6700\u4f4e\u9650\u5fc5\u8981\u3068\u306a\u308bplugin\u3067\u3042\u308b.  \u3082\u3057, \u4ed6\u306b\u5fc5\u8981\u306aplugin\u304c\u3042\u308c\u3070, `NeoBundle`\u3092\u8ffd\u8a18\u3057\u3066\u3044\u3051\u3070\u3088\u3044.\n([\u50d5\u304c\u5b9f\u969b\u306b\u958b\u767a\u3057\u3066\u3044\u308bPlugin](https://github.com/Quramy/tsuquyomi)\u3067\u306f, vimproc\u3092\u4f7f\u3063\u3066\u308b\u3044\u308b\u304c, \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u8a18\u3057\u3066\u3044\u308b)\n\n\u7d9a\u3044\u30663.\u306evesting\u5b9f\u884c\u30de\u30af\u30ed. \n\n```vim:vest/_runner\n:Unite vesting:.\n*\n:call unite#action#do('start')\n:w vest/test_result.log\n:quitall\nvim:ft=vim\n```\n\nvesting\u3092\u5b9f\u884c\u3057\u305f\u5f8c, `*`\u3067\u5168\u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e. unite\u306e`start` action\u3092\u5b9f\u884c\u3059\u308b\u3068, \u5168\u30c6\u30b9\u30c8\u304c\u5b9f\u884c\u3055\u308c\u3066\u7d50\u679c\u304cUnite\u306e\u30d0\u30c3\u30d5\u30a1\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3067, \u3053\u308c\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u308b.\n\u3042\u3093\u307e\u308a\u30b9\u30de\u30fc\u30c8\u3058\u3083\u306a\u3044\u6c17\u3082\u3059\u308b\u304c, \u53d6\u308a\u5408\u3048\u305a\u52d5\u3044\u3066\u308b\u306e\u3067\u3053\u308c\u3067\u3088\u3057.\n\u306a\u304a, \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u62e1\u5f35\u5b50\u306b.vim\u3092\u4ed8\u3051\u3066\u306a\u3044\u306e\u306f, vesting\u304c\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3060\u3068\u8aa4\u89e3\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081.\n\n\u6700\u5f8c\u306bCLI\u7528\u306e\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3068TravisCI\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb.\n\u5b9f\u969b\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5b58\u5728\u30c1\u30a7\u30c3\u30af\u3068\u304b, Vim\u81ea\u4f53\u306e\u30d3\u30eb\u30c9\u51e6\u7406(TravisCI\u306eVim\u304c7.3\u3067\u53e4\u3044\u306e\u3067)\u3082\u66f8\u3044\u3066\u3044\u308b\u305f\u3081, \u3082\u3046\u5c11\u3057\u9577\u304f\u306a\u308b\u306e\u3060\u3051\u3069, \u5148\u8ff0\u3057\u305f\u65b9\u6cd5\u306e\u9aa8\u5b50\u3092\u629c\u304d\u3060\u3059\u3068\u3053\u3093\u306a\u611f\u3058\u3060.\n\n```sh:runtest.sh\n#/bin/sh\n\nVIMRC_FILE=\"vest/.vimrc\"\nDRIVER_FILE=\"vest/_runner\"\nRESULT_FILE=\"vest/test_result.log\"\n\n# 1. NeoBundle\u306e\u30af\u30ed\u30fc\u30f3\ngit clone https://github.com/Shougo/neobundle.vim\n\n# 4. Vesting\u306e\u5b9f\u884c\nvim -u ${VIMRC_FILE} -s ${DRIVER_FILE}\ncat ${RESULT_FILE}\n\n# 5. \u30c6\u30b9\u30c8\u7d50\u679c\u306e\u5224\u5b9a\ngrep -E \"\\[Fail\\]\" ${RESULT_FILE} > /dev/null\nif [ $? -eq 0 ]; then\n  exit 1\nfi\ngrep -E \"\\[Error\\]\" ${RESULT_FILE} > /dev/null\nif [ $? -eq 0 ]; then\n  exit 1\nfi\n```\n\n```yaml:.travis.yml\nscript:\n- sh runtest.sh\n```\n\n# \u6240\u611f\n\u6700\u521d\u306fVim plguin\u306eCI\u5316\u306f\u7d50\u69cb\u6577\u5c45\u304c\u9ad8\u305d\u3046\u306b\u601d\u3063\u3066\u3044\u305f\u304c, \u3084\u3063\u3066\u307f\u308b\u3068\u610f\u5916\u3068\u7c21\u5358.\n\n\u30c6\u30b9\u30c6\u30a3\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u4f9d\u5b58\u3059\u308b\u306e\u306f\u30de\u30af\u30ed\u90e8\u5206\u3060\u3051\u306a\u306e\u3067, vesting\u4ee5\u5916\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u4f7f\u3063\u3066\u308b\u5834\u5408\u3067\u3082, \u8003\u3048\u65b9\u3068\u304b\u30b7\u30a7\u30eb\u306f\u4f7f\u3044\u307e\u308f\u305b\u308b\u4e88\u611f.\n\n# \u53c2\u8003\n\n* [Test framework for Vim scripts](https://github.com/Shougo/vesting/wiki/Test-framework-for-Vim-scripts)\n* [Vim \u30d7\u30e9\u30b0\u30a4\u30f3\u958b\u767a\u3067\u3082\u7d99\u7d9a\u7684\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u3057\u305f\u3044! (Travis CI \u7de8)](http://labs.timedia.co.jp/2013/02/vim-plugins-vs-travis-ci.html)\n", "tags": ["Vim", "TravisCI", "CI"]}