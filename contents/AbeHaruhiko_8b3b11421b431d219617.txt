{"context": " More than 1 year has passed since last update.\u6ce8\u610f\uff1a\uff082014/12/23\uff09Android SDK\u3067JUnit4\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u4e00\u90e8\u306f\u53e4\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002\nAndroid SDK\u3067\u306e\u30b5\u30dd\u30fc\u30c8\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u3069\u3046\u305e\u3002\n\u7d9a\u30fbAndroid\u3067JUnit4\u3092\u4f7f\u3046\u65b9\u6cd5\uff08Android SDK\u3067\u6b63\u5f0f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3057\u305f\uff01\uff09\n\n\u57f7\u7b46\u6642\u70b9\uff082014/04/07\uff09\u306e\u74b0\u5883\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u7b49\n\nAndroidStudio 0.5.4\nJUnit 4.11\nAndroid-JUnit4 0.3\n\n\neclipse\u306e\u5834\u5408\nhttp://d.hatena.ne.jp/esmasui/20120910/1347299594\n\nbuild.gradle\u306e\u7de8\u96c6\uff08JUnit4, Android-JUnit4\u306ejar\u8ffd\u52a0\u3001TestRunner\u306e\u6307\u5b9a\uff09\nbuild.gradle \u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\nbuild.gradle\nandroid {\n    defaultConfig {\n        testInstrumentationRunner \"com.uphyca.testing.JUnit4InstrumentationTestRunner\"\n    }\n\n    dependencies {\n        // \u884c\u672b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\uff084.+ \u7b49\uff09\u306f\u9069\u5b9c\u5909\u66f4\n        androidTestCompile (\"junit:junit:4.+\")\n        androidTestCompile (\"com.uphyca:android-junit4:+\")\n    }\n\n    // LICENS.txt\u304c\u3069\u3046\u306e\u3053\u3046\u306e\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3089\u3001\u4ed6\u306ejar\u3068\u7af6\u5408\u3057\u3066\u3044\u308b\u306e\u3067\u4e0b\u8a18\u306e\u8a18\u8ff0\u3092\u8ffd\u52a0\u3002\n    // \u30d1\u30b9\u306fAndroidStudio\u306e\u300cProject\u300d\u30da\u30a4\u30f3\u3067jar\u306e\u4e2d\u8eab\u3092\u898b\u3066\u9069\u5b9c\u5909\u66f4\u3002\n    // \uff08AndroidStudio\u306e\u30d0\u30b0\u3089\u3057\u3044\uff09\n    packagingOptions {\n        // for AndroidStudio's bug. duplication error of file below.\n        pickFirst 'META-INF/LICENSE.txt'\n        pickFirst 'LICENSE.txt'\n    }\n\n}\n\n\n\u8ffd\u52a0\u5f8c\u306f\u3001Tools > Android > Sync Project with Gradle Files \uff08\u307e\u305f\u306f\u30c4\u30fc\u30eb\u30d0\u30fc\u306eSync Project with Gradle Files\u30a2\u30a4\u30b3\u30f3\uff09\u3092\u5b9f\u884c\u3059\u308b\u3002\u3053\u308c\u306b\u3088\u308aMaven Central\u304b\u3089jar\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3002\n\nAndroidManifest.xml\u306e\u7de8\u96c6\n\u30a2\u30d7\u30ea\u306eAndroidManifest.xml\u3067\u306a\u304f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306eAndroidManifest.xml\u306a\u306e\u3067\u6ce8\u610f\u3002\n\n\nAndroidManifest.xml\n<manifest>\n    <!-- \u4e0b\u8a18\u4ee5\u5916\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059 -->\n    <instrumentation\n        android:name=\"com.uphyca.testing.JUnit4InstrumentationTestRunner\"\n        android:targetPackage=\"your.app.package\" />\n</manifest>\n\n\nbuild.gradle\u306edefaultConfig\u3067\u4e0a\u66f8\u304d\u3055\u308c\u308b\u306e\u3067android:name=\"com.uphyca.testing.JUnit4InstrumentationTestRunner\"\u306f\u66f8\u304b\u306a\u304f\u3066\u3082\u52d5\u304f\u6a21\u69d8\u3002\n\nTest\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\n\u4f8b.AndroidUtil\u30af\u30e9\u30b9\u306eTest\u30af\u30e9\u30b9\n\nAndroidUtilTest.java\nimport com.uphyca.testing.AndroidTestCase;  \nimport org.junit.Test;\n\nimport static org.junit.Assert.*;\nimport static org.hamcrest.CoreMatchers.*;\n\n// \u30c6\u30b9\u30c8\u5185\u5bb9\u306b\u5fdc\u3058\u3066 com.uphyca.testing \u5185\u306e\n// AndroiTestCase, ActivityTestCase \u7b49\u3092 extends \u3059\u308b\npublic class AndroidUtilTest extends AndroidTestCase {\n\n    @Test   // @Test\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u30c6\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a\u3002\n    public void \u307b\u3052\u30e1\u30bd\u30c3\u30c9\u304cXXX\u3092\u8fd4\u3059\u30c6\u30b9\u30c8() {\n        // \u30e1\u30bd\u30c3\u30c9\u540d\u3092test\u3067\u59cb\u3081\u308b\u5fc5\u8981\u306a\u3057\u3002\n\n    }\n}\n\n\ncom.uphyca.testing\u5185\u306eTestCase\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3059\u308b\u4ee5\u5916\u306f\u3001\u901a\u5e38\u306eJUnit4\u306e\u4f7f\u7528\u65b9\u6cd5\u3068\u540c\u3058\u3002\n\nJUnit3\u7cfb\u306eTest\u30af\u30e9\u30b9\u3092JUnit4\u7528\u306b\u66f8\u304d\u63db\u3048\u308b\u4f8b\n\nJUnit3.8\u7528\uff08\u629c\u7c8b\uff09\n\nAndroidUtilTest.java\nimport android.test.AndroidTestCase;\n\n\n// android.test.AndroidTestCase \u3092 extends\npublic class AndroidUtilTest extends AndroidTestCase {\n\n    // \u30e1\u30bd\u30c3\u30c9\u540d\u3092test\u3067\u59cb\u3081\u308b\u3002\n    public void test_check\u30e1\u30bd\u30c3\u30c9\u304cIllegalArgumentException\u3092\u9001\u51fa\u3059\u308b() {\n        try {\n            AndroidUtil.check(null);\n        } catch (IllegalArgumentException e) {\n            assertTrue(true);\n        }\n    }\n}\n\n\n\nJUnit4\u7528\uff08\u629c\u7c8b\uff09\n\nAndroidUtilTest.java\nimport com.uphyca.testing.AndroidTestCase;  \nimport org.junit.Test;\n\nimport static org.junit.Assert.*;\nimport static org.hamcrest.CoreMatchers.*;\n\n// com.uphyca.testing.AndroidTestCase \u3092 extends\npublic class AndroidUtilTest extends AndroidTestCase {\n\n    @Test(expected = IllegalArgumentException.class)\n    public void check\u306e\u5f15\u6570\u304cnull\u306e\u6642IllegalArgumentException\u304c\u9001\u51fa\u3055\u308c\u308b() {\n        AndroidUtil.check(null);\n    }\n}\n\n\n\nAndroidStudio\u3067\u5b9f\u884c\u3059\u308b\u8a2d\u5b9a\nRun > Edit Configurations... \uff08\u307e\u305f\u306f\u30c4\u30fc\u30eb\u30d0\u30fc\uff09\u306e specific instrumentation runner(optional): \u306b com.uphyca.testing.JUnit4InstrumentationTestRunner \u3092\u6307\u5b9a\u3059\u308b\u3002\n\n\n\nAndroidStudio\u3067\u30c6\u30b9\u30c8\u5b9f\u884c\n\u30c4\u30fc\u30eb\u30d0\u30fc\u306e Run \u30a2\u30a4\u30b3\u30f3\u7b49\u304b\u3089\u5b9f\u884c\u3002\n**\u6ce8\u610f\uff1a\uff082014/12/23\uff09Android SDK\u3067JUnit4\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u4e00\u90e8\u306f\u53e4\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002**\n\nAndroid SDK\u3067\u306e\u30b5\u30dd\u30fc\u30c8\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u3069\u3046\u305e\u3002\n[\u7d9a\u30fbAndroid\u3067JUnit4\u3092\u4f7f\u3046\u65b9\u6cd5\uff08Android SDK\u3067\u6b63\u5f0f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3057\u305f\uff01\uff09](http://qiita.com/AbeHaruhiko/items/91aa8fe0f2299969d0e7)\n#### \u57f7\u7b46\u6642\u70b9\uff082014/04/07\uff09\u306e\u74b0\u5883\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u7b49\n\n* AndroidStudio 0.5.4\n* JUnit 4.11\n* Android-JUnit4 0.3\n\n#### eclipse\u306e\u5834\u5408\nhttp://d.hatena.ne.jp/esmasui/20120910/1347299594\n\n## build.gradle\u306e\u7de8\u96c6\uff08JUnit4, Android-JUnit4\u306ejar\u8ffd\u52a0\u3001TestRunner\u306e\u6307\u5b9a\uff09\n\n`build.gradle` \u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\n```groovy:build.gradle\nandroid {\n\tdefaultConfig {\n\t\ttestInstrumentationRunner \"com.uphyca.testing.JUnit4InstrumentationTestRunner\"\n\t}\n\n\tdependencies {\n\t\t// \u884c\u672b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\uff084.+ \u7b49\uff09\u306f\u9069\u5b9c\u5909\u66f4\n    \tandroidTestCompile (\"junit:junit:4.+\")\n    \tandroidTestCompile (\"com.uphyca:android-junit4:+\")\n\t}\n\n\t// LICENS.txt\u304c\u3069\u3046\u306e\u3053\u3046\u306e\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3089\u3001\u4ed6\u306ejar\u3068\u7af6\u5408\u3057\u3066\u3044\u308b\u306e\u3067\u4e0b\u8a18\u306e\u8a18\u8ff0\u3092\u8ffd\u52a0\u3002\n\t// \u30d1\u30b9\u306fAndroidStudio\u306e\u300cProject\u300d\u30da\u30a4\u30f3\u3067jar\u306e\u4e2d\u8eab\u3092\u898b\u3066\u9069\u5b9c\u5909\u66f4\u3002\n\t// \uff08AndroidStudio\u306e\u30d0\u30b0\u3089\u3057\u3044\uff09\n    packagingOptions {\n        // for AndroidStudio's bug. duplication error of file below.\n        pickFirst 'META-INF/LICENSE.txt'\n        pickFirst 'LICENSE.txt'\n    }\n\n}\n```\n\u8ffd\u52a0\u5f8c\u306f\u3001`Tools > Android > Sync Project with Gradle Files` \uff08\u307e\u305f\u306f\u30c4\u30fc\u30eb\u30d0\u30fc\u306e`Sync Project with Gradle Files`\u30a2\u30a4\u30b3\u30f3![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-04-08 0.03.29.png](https://qiita-image-store.s3.amazonaws.com/0/40758/1915049f-ffdb-b6c4-d369-08863aea97ff.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-04-08 0.03.29.png\")\uff09\u3092\u5b9f\u884c\u3059\u308b\u3002\u3053\u308c\u306b\u3088\u308aMaven Central\u304b\u3089jar\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3002\n\n## AndroidManifest.xml\u306e\u7de8\u96c6\n\n**\u30a2\u30d7\u30ea\u306eAndroidManifest.xml\u3067\u306a\u304f\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306eAndroidManifest.xml\u306a\u306e\u3067\u6ce8\u610f\u3002**\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-04-08 15.57.53.png](https://qiita-image-store.s3.amazonaws.com/0/40758/fb57170c-0b46-a964-f536-65d359361db1.png)\n\n\n```xml:AndroidManifest.xml\n<manifest>\n\t<!-- \u4e0b\u8a18\u4ee5\u5916\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059 -->\n\t<instrumentation\n        android:name=\"com.uphyca.testing.JUnit4InstrumentationTestRunner\"\n        android:targetPackage=\"your.app.package\" />\n</manifest>\n```\n**`build.gradle`\u306edefaultConfig\u3067\u4e0a\u66f8\u304d\u3055\u308c\u308b\u306e\u3067`android:name=\"com.uphyca.testing.JUnit4InstrumentationTestRunner\"`\u306f\u66f8\u304b\u306a\u304f\u3066\u3082\u52d5\u304f\u6a21\u69d8\u3002**\n\n\n## Test\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\n\u4f8b.AndroidUtil\u30af\u30e9\u30b9\u306eTest\u30af\u30e9\u30b9\n\n```java:AndroidUtilTest.java\nimport com.uphyca.testing.AndroidTestCase;\t\nimport org.junit.Test;\n\nimport static org.junit.Assert.*;\nimport static org.hamcrest.CoreMatchers.*;\n\n// \u30c6\u30b9\u30c8\u5185\u5bb9\u306b\u5fdc\u3058\u3066 com.uphyca.testing \u5185\u306e\n// AndroiTestCase, ActivityTestCase \u7b49\u3092 extends \u3059\u308b\npublic class AndroidUtilTest extends AndroidTestCase {\n\n\t@Test\t// @Test\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u30c6\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a\u3002\n\tpublic void \u307b\u3052\u30e1\u30bd\u30c3\u30c9\u304cXXX\u3092\u8fd4\u3059\u30c6\u30b9\u30c8() {\n\t\t// \u30e1\u30bd\u30c3\u30c9\u540d\u3092test\u3067\u59cb\u3081\u308b\u5fc5\u8981\u306a\u3057\u3002\n\n\t}\n}\n```\n\ncom.uphyca.testing\u5185\u306eTestCase\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3059\u308b\u4ee5\u5916\u306f\u3001\u901a\u5e38\u306eJUnit4\u306e\u4f7f\u7528\u65b9\u6cd5\u3068\u540c\u3058\u3002\n\n## JUnit3\u7cfb\u306eTest\u30af\u30e9\u30b9\u3092JUnit4\u7528\u306b\u66f8\u304d\u63db\u3048\u308b\u4f8b\n\n### JUnit3.8\u7528\uff08\u629c\u7c8b\uff09\n```java:AndroidUtilTest.java\nimport android.test.AndroidTestCase;\n\n\n// android.test.AndroidTestCase \u3092 extends\npublic class AndroidUtilTest extends AndroidTestCase {\n\n\t// \u30e1\u30bd\u30c3\u30c9\u540d\u3092test\u3067\u59cb\u3081\u308b\u3002\n\tpublic void test_check\u30e1\u30bd\u30c3\u30c9\u304cIllegalArgumentException\u3092\u9001\u51fa\u3059\u308b() {\n        try {\n            AndroidUtil.check(null);\n        } catch (IllegalArgumentException e) {\n            assertTrue(true);\n        }\n\t}\n}\n```\n\n### JUnit4\u7528\uff08\u629c\u7c8b\uff09\n```java:AndroidUtilTest.java\nimport com.uphyca.testing.AndroidTestCase;\t\nimport org.junit.Test;\n\nimport static org.junit.Assert.*;\nimport static org.hamcrest.CoreMatchers.*;\n\n// com.uphyca.testing.AndroidTestCase \u3092 extends\npublic class AndroidUtilTest extends AndroidTestCase {\n\n    @Test(expected = IllegalArgumentException.class)\n    public void check\u306e\u5f15\u6570\u304cnull\u306e\u6642IllegalArgumentException\u304c\u9001\u51fa\u3055\u308c\u308b() {\n        AndroidUtil.check(null);\n    }\n}\n```\n\n## AndroidStudio\u3067\u5b9f\u884c\u3059\u308b\u8a2d\u5b9a\n\n`Run > Edit Configurations...` \uff08\u307e\u305f\u306f\u30c4\u30fc\u30eb\u30d0\u30fc\uff09\u306e `specific instrumentation runner(optional): ` \u306b `com.uphyca.testing.JUnit4InstrumentationTestRunner` \u3092\u6307\u5b9a\u3059\u308b\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-04-08 0.01.44.png](https://qiita-image-store.s3.amazonaws.com/0/40758/92e84921-c7eb-237a-d429-bc1f531cb885.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-04-08 0.01.44.png\")\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-04-07 23.55.45.png](https://qiita-image-store.s3.amazonaws.com/0/40758/8434903f-12b5-b986-7d0f-addebe58b520.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-04-07 23.55.45.png\")\n\n## AndroidStudio\u3067\u30c6\u30b9\u30c8\u5b9f\u884c\n\n\u30c4\u30fc\u30eb\u30d0\u30fc\u306e `Run` \u30a2\u30a4\u30b3\u30f3\u7b49\u304b\u3089\u5b9f\u884c\u3002\n\n\n\n\n\n\n\n\n", "tags": ["Android", "AndroidStudio", "JUnit"]}