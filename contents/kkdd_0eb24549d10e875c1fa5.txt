{"context": "\u3053\u3093\u306b\u3061\u306f\u3002\nMapbox GL JS \u3067 mapboxgl.Marker \u3092\u4f7f\u3044\u77e2\u5370\uff08\u77e2\u5c3b\u5f62\uff09\u30de\u30fc\u30ab\u30fc\u3092\u63cf\u3044\u3066\u307f\u307e\u3057\u305f\u3002svg \u3067\u5f62\u3092\u5b9a\u7fa9\u3057\u3001\u8272\u3001\u30b5\u30a4\u30ba\u3001\u65b9\u5411\u3092\u5909\u5316\u3055\u305b\u307e\u3057\u305f\u3002\n\n\nmapboxgl.marker_arrowhead.html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset='utf-8' />\n    <title></title>\n    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />\n    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.30.0/mapbox-gl.js'></script>\n    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.30.0/mapbox-gl.css' rel='stylesheet' />\n    <style>\n        body { margin:0; padding:0; }\n        #map { position:absolute; top:0; bottom:0; width:100%; }\n    </style>\n</head>\n<body>\n<style>\n.marker {\n    display: block;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n}\n</style>\n<div id='map'></div>\n<script>\n//mapboxgl.accessToken = '<your access token here>';\nvar map = new mapboxgl.Map({\n    container: 'map',\n    style: 'mapbox://styles/mapbox/light-v9',\n    center: [-65.017, -16.457],\n    zoom: 5\n});\nmap.addControl(new mapboxgl.NavigationControl());\n\nvar geojson = {\n    \"type\": \"FeatureCollection\",\n    \"features\": [\n        {\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"marker-rotation\": 0,\n                \"marker-color\": \"red\",\n                \"marker-size\": 10\n            },\n            \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                    -66.324462890625,\n                    -16.024695711685304\n                ]\n            }\n        },\n        {\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"marker-rotation\": 45,\n                \"marker-color\": \"orange\",\n                \"marker-size\": 14\n            },\n            \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                    -61.2158203125,\n                    -15.97189158092897\n                ]\n            }\n        },\n        {\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"marker-rotation\": 135,\n                \"marker-color\": \"green\",\n                \"marker-size\": 20\n            },\n            \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                    -63.29223632812499,\n                    -18.28151823530889\n                ]\n            }\n        }\n    ]\n};\n\ngeojson.features.forEach(function(marker) {\n    var markerSize = marker.properties[\"marker-size\"], markerRotation = marker.properties[\"marker-rotation\"], markerFill = marker.properties[\"marker-color\"];\n    var markerData = \"<svg width='\" + markerSize + \"' height='\" + markerSize + \"' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg' version='1.1'><polygon fill='\" +  markerFill + \"' stroke='black' stroke-width='1' points='20,90 50,10 80,90 50,70' transform='rotate(\" + markerRotation + \" 50 50)'/></svg>\"; // arrowhead\n\n    var el = document.createElement('div');\n    el.className = 'marker';\n    el.style.backgroundImage = \"url(data:image/svg+xml;base64,\" + btoa(markerData) + ')';\n    el.style.width = markerSize + 'px';\n    el.style.height = markerSize + 'px';\n\n    new mapboxgl.Marker(el, {offset: [-markerSize / 2, -markerSize / 2]})\n        .setLngLat(marker.geometry.coordinates)\n        .addTo(map);\n\n});\n</script>\n\n</body>\n</html>\n\n\n\u3053\u3093\u306b\u3061\u306f\u3002\nMapbox GL JS \u3067 mapboxgl.Marker \u3092\u4f7f\u3044\u77e2\u5370\uff08\u77e2\u5c3b\u5f62\uff09\u30de\u30fc\u30ab\u30fc\u3092\u63cf\u3044\u3066\u307f\u307e\u3057\u305f\u3002svg \u3067\u5f62\u3092\u5b9a\u7fa9\u3057\u3001\u8272\u3001\u30b5\u30a4\u30ba\u3001\u65b9\u5411\u3092\u5909\u5316\u3055\u305b\u307e\u3057\u305f\u3002\n\n<img width=\"280\" alt=\"apboxgl.Marker.jpg\" src=\"https://qiita-image-store.s3.amazonaws.com/0/54617/c86bc9e2-fc97-8a9b-b9ad-a540bc609800.jpeg\">\n\n```mapboxgl.marker_arrowhead.html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset='utf-8' />\n    <title></title>\n    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />\n    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.30.0/mapbox-gl.js'></script>\n    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.30.0/mapbox-gl.css' rel='stylesheet' />\n    <style>\n        body { margin:0; padding:0; }\n        #map { position:absolute; top:0; bottom:0; width:100%; }\n    </style>\n</head>\n<body>\n<style>\n.marker {\n    display: block;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n}\n</style>\n<div id='map'></div>\n<script>\n//mapboxgl.accessToken = '<your access token here>';\nvar map = new mapboxgl.Map({\n    container: 'map',\n    style: 'mapbox://styles/mapbox/light-v9',\n    center: [-65.017, -16.457],\n    zoom: 5\n});\nmap.addControl(new mapboxgl.NavigationControl());\n\nvar geojson = {\n    \"type\": \"FeatureCollection\",\n    \"features\": [\n        {\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"marker-rotation\": 0,\n                \"marker-color\": \"red\",\n                \"marker-size\": 10\n            },\n            \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                    -66.324462890625,\n                    -16.024695711685304\n                ]\n            }\n        },\n        {\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"marker-rotation\": 45,\n                \"marker-color\": \"orange\",\n                \"marker-size\": 14\n            },\n            \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                    -61.2158203125,\n                    -15.97189158092897\n                ]\n            }\n        },\n        {\n            \"type\": \"Feature\",\n            \"properties\": {\n                \"marker-rotation\": 135,\n                \"marker-color\": \"green\",\n                \"marker-size\": 20\n            },\n            \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                    -63.29223632812499,\n                    -18.28151823530889\n                ]\n            }\n        }\n    ]\n};\n\ngeojson.features.forEach(function(marker) {\n    var markerSize = marker.properties[\"marker-size\"], markerRotation = marker.properties[\"marker-rotation\"], markerFill = marker.properties[\"marker-color\"];\n\tvar markerData = \"<svg width='\" + markerSize + \"' height='\" + markerSize + \"' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg' version='1.1'><polygon fill='\" +  markerFill + \"' stroke='black' stroke-width='1' points='20,90 50,10 80,90 50,70' transform='rotate(\" + markerRotation + \" 50 50)'/></svg>\"; // arrowhead\n\n    var el = document.createElement('div');\n    el.className = 'marker';\n    el.style.backgroundImage = \"url(data:image/svg+xml;base64,\" + btoa(markerData) + ')';\n    el.style.width = markerSize + 'px';\n    el.style.height = markerSize + 'px';\n\n    new mapboxgl.Marker(el, {offset: [-markerSize / 2, -markerSize / 2]})\n        .setLngLat(marker.geometry.coordinates)\n        .addTo(map);\n\n});\n</script>\n\n</body>\n</html>\n```\n", "tags": ["JavaScript", "GIS", "geojson", "mapbox"]}