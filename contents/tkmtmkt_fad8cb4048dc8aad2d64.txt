{"context": " More than 1 year has passed since last update.\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nmysql\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n$ sudo aptitude install -y mysql-server-5.6\n\n\u203b\u4e0a\u8a18\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u9014\u4e2d\u3067MySQL\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\u3092\u8981\u6c42\u3055\u308c\u307e\u3059\u3002\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u51e6\u7406\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u30e3\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5f15\u304d\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n$ PASSWD='{\u30d1\u30b9\u30ef\u30fc\u30c9}'\n$ echo \"mysql-server-5.6 mysql-server/root_password password $PASSWD\" | sudo debconf-set-selections\n$ echo \"mysql-server-5.6 mysql-server/root_password_again password $PASSWD\" | sudo debconf-set-selections\n\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nmysql\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3059\u308b\u3002\n$ sudo service mysql stop\n\nMySQL\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5909\u66f4\u3059\u308b\u3002\n$ sudo vi /etc/mysql/my.cnf\n\n--- a/mysql/my.cnf\n+++ b/mysql/my.cnf\n@@ -49,7 +49,7 @@ bind-address          = 127.0.0.1\n # * Fine Tuning\n #\n key_buffer             = 16M\n-max_allowed_packet     = 16M\n+max_allowed_packet     = 32M\n thread_stack           = 192K\n thread_cache_size       = 8\n # This replaces the startup script and checks MyISAM tables if needed\n@@ -95,6 +95,13 @@ max_binlog_size         = 100M\n #\n # InnoDB is enabled by default with a 10MB datafile in /var/lib/mysql/.\n # Read the manual for more InnoDB related options. There are many!\n+innodb_file_format     = Barracuda\n+innodb_file_per_table  = 1\n+innodb_additional_mem_pool_size        = 20MB\n+innodb_buffer_pool_size        = 512MB\n+innodb_log_buffer_size = 64MB\n+innodb_log_file_size   = 10MB\n+\n#\n# * Security Features\n#\n@@ -107,15 +114,23 @@ max_binlog_size         = 100M\n# ssl-cert=/etc/mysql/server-cert.pem\n# ssl-key=/etc/mysql/server-key.pem\n\n-\n+#\n+# * UTF 8 Settings\n+#\n+init-connect           = SET NAMES utf8\n+character_set_server   = utf8\n+collation_server       = utf8_general_ci\n+skip-character-set-client-handshake\n\n[mysqldump]\nquick\nquote-names\nmax_allowed_packet     = 16M\n+default_character_set  = utf8\n\n[mysql]\n#no-auto-rehash        # faster start of mysql but no tab completition\n+default_character_set  = utf8\n\n[isamchk]\nkey_buffer             = 16M\n\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3059\u308b\u3002\n\u203binnodb_log_file_size \u3092\u5909\u66f4\u3057\u305f\u5834\u5408\u3001\u8a2d\u5b9a\u5909\u66f4\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3057\u306a\u3044\u3068\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\u5931\u6557\u3057\u307e\u3059\u3002\n$ sudo rm /var/lib/mysql/ib_logfile0\n$ sudo rm /var/lib/mysql/ib_logfile1\n\nMySQL\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3002\n$ sudo service mysql start\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nmysql\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```sh\n$ sudo aptitude install -y mysql-server-5.6\n```\n\n\u203b\u4e0a\u8a18\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u9014\u4e2d\u3067MySQL\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\u3092\u8981\u6c42\u3055\u308c\u307e\u3059\u3002\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u51e6\u7406\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u30e3\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5f15\u304d\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```sh\n$ PASSWD='{\u30d1\u30b9\u30ef\u30fc\u30c9}'\n$ echo \"mysql-server-5.6 mysql-server/root_password password $PASSWD\" | sudo debconf-set-selections\n$ echo \"mysql-server-5.6 mysql-server/root_password_again password $PASSWD\" | sudo debconf-set-selections\n```\n\n\n### \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nmysql\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3059\u308b\u3002\n\n```sh\n$ sudo service mysql stop\n```\n\nMySQL\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5909\u66f4\u3059\u308b\u3002\n\n```sh\n$ sudo vi /etc/mysql/my.cnf\n```\n```diff\n--- a/mysql/my.cnf\n+++ b/mysql/my.cnf\n@@ -49,7 +49,7 @@ bind-address          = 127.0.0.1\n # * Fine Tuning\n #\n key_buffer             = 16M\n-max_allowed_packet     = 16M\n+max_allowed_packet     = 32M\n thread_stack           = 192K\n thread_cache_size       = 8\n # This replaces the startup script and checks MyISAM tables if needed\n@@ -95,6 +95,13 @@ max_binlog_size         = 100M\n #\n # InnoDB is enabled by default with a 10MB datafile in /var/lib/mysql/.\n # Read the manual for more InnoDB related options. There are many!\n+innodb_file_format     = Barracuda\n+innodb_file_per_table  = 1\n+innodb_additional_mem_pool_size        = 20MB\n+innodb_buffer_pool_size        = 512MB\n+innodb_log_buffer_size = 64MB\n+innodb_log_file_size   = 10MB\n+\n#\n# * Security Features\n#\n@@ -107,15 +114,23 @@ max_binlog_size         = 100M\n# ssl-cert=/etc/mysql/server-cert.pem\n# ssl-key=/etc/mysql/server-key.pem\n\n-\n+#\n+# * UTF 8 Settings\n+#\n+init-connect           = SET NAMES utf8\n+character_set_server   = utf8\n+collation_server       = utf8_general_ci\n+skip-character-set-client-handshake\n\n[mysqldump]\nquick\nquote-names\nmax_allowed_packet     = 16M\n+default_character_set  = utf8\n\n[mysql]\n#no-auto-rehash        # faster start of mysql but no tab completition\n+default_character_set  = utf8\n\n[isamchk]\nkey_buffer             = 16M\n```\n\n\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3059\u308b\u3002\n\u203binnodb_log_file_size \u3092\u5909\u66f4\u3057\u305f\u5834\u5408\u3001\u8a2d\u5b9a\u5909\u66f4\u524d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3057\u306a\u3044\u3068\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\u5931\u6557\u3057\u307e\u3059\u3002\n\n```sh\n$ sudo rm /var/lib/mysql/ib_logfile0\n$ sudo rm /var/lib/mysql/ib_logfile1\n```\n\nMySQL\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3002\n\n```sh\n$ sudo service mysql start\n```\n", "tags": ["MySQL", "Ubuntu14.04"]}