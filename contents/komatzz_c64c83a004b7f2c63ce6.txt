{"context": "\u672c\u8a18\u4e8b\u306f Laravel Advent Calendar 2016 \u306e 6 \u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u306f\u3058\u3081\u306b\n\u516c\u5f0f\u306e\u30ab\u30b9\u30bf\u30e0\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u4eca\u3072\u3068\u3064\u5206\u304b\u308a\u306b\u304f\u3044\u306e\u3067\u3001\u624b\u9806\u3092\u307e\u3068\u3081\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\u4eca\u56de\u306f\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066 \u3075\u308a\u304c\u306a \u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u203b\u4ee5\u524d\u306b\u66f8\u3044\u305f\u901a\u5e38\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u5fdc\u7528\nhttp://qiita.com/komatzz/items/422bcba9847ca3a79fe9\n\n\u74b0\u5883\n\nCentOS 7\nPHP 7\nLaravel 5.3\n\n\n\u30ab\u30b9\u30bf\u30e0\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\u624b\u9806\n\n\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u4f5c\u6210\n\nphp artisan make:provider ValidatorServiceProvider\n\n\u4f5c\u6210\u3055\u308c\u305f\u30af\u30e9\u30b9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3002\n\napp/Providers/ValidatorServiceProvider.php\n\nnamespace App\\Providers;\n\nuse Illuminate\\Support\\ServiceProvider;\nuse Domain\\CustomValidator;\n\nclass ValidatorServiceProvider extends ServiceProvider\n{\n    /**\n     * Bootstrap the application services.\n     *\n     * @return void\n     */\n    public function boot()\n    {\n      \\Validator::resolver(function ($translator, $data, $rules, $messages) {\n          return new CustomValidator($translator, $data, $rules, $messages);\n      });\n    }\n\n    /**\n     * Register the application services.\n     *\n     * @return void\n     */\n    public function register()\n    {\n        //\n    }\n}\n\n\n\n\u4f5c\u6210\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u3092\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0\n\nconfig/app.php\n'providers' => [\n    ...\n\n    App\\Providers\\ValidatorServiceProvider::class,\n\n    ...\n\n\n\n\u30ab\u30b9\u30bf\u30e0\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30ed\u30b8\u30c3\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\n\u4eca\u56de\u306fdomain\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u4e0b\u306bCustomValidator.php\u3092\u4f5c\u6210\u3057\u305f\u3002\n\ndomain/CustomValidator.php\nnamespace Domain;\n\nclass CustomValidator extends \\Illuminate\\Validation\\Validator\n{\n  /**\n  * \u3075\u308a\u304c\u306a\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n  *\n  * @param $attribute\n  * @param $value\n  * @param $parameters\n  * @return bool\n  */\n  public function validateKana($attribute, $value, $parameters)\n  {\n      if (mb_strlen($value) > 100) {\n          return false;\n      }  \n\n      if (preg_match('/[^\u3041-\u3093\u30fc]/u', $value) !== 0) {\n          return false;\n      }\n\n      return true;\n  }\n}\n\n\n\n\u30aa\u30fc\u30c8\u30ed\u30fc\u30c9\u306e\u8a2d\u5b9a\ncomposer.json \u306e psr-4 \u8a2d\u5b9a\u306b \u306bdomain\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u3092\u30aa\u30fc\u30c8\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u8ffd\u52a0\u3059\u308b\n\u203b\u3053\u308c\u306b\u6c17\u3065\u304b\u306a\u304f\u3066\u30cf\u30de\u3063\u305f\n\ncomposer.json\n...\n\n\"autoload\": {\n  \"psr-4\": {\n      \"App\\\\\": \"app/\",\n      \"Domain\\\\\": \"domain/\",\n  }\n}\n\n...\n\n\n\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0\n\nresources/lang/ja/validation.php\nreturn [\n   ...\n\n   'kana' => ':attribute\u306f\u3072\u3089\u304c\u306a\u3067\u5165\u529b\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002',\n\n   ...\n\n   'attributes' => [\n       ...\n\n        'family_name_kana' => '\u3075\u308a\u304c\u306a\uff08\u305b\u3044\uff09',\n        'given_name_kana'  => '\u3075\u308a\u304c\u306a\uff08\u3081\u3044\uff09',\n\n       ...\n   ],\n\n\n\n\u30ab\u30b9\u30bf\u30e0\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\n\u4f7f\u3044\u65b9\u306f\u901a\u5e38\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3068\u540c\u3058\u3067\u3001\n'family_name_kana' => 'required|kana',\n\u306e\u3088\u3046\u306b\u4f7f\u3044\u305f\u3044\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092|\u533a\u5207\u308a\u3067\u6307\u5b9a\u3059\u308c\u3070\u826f\u3044\u3002\n\napp/Http/Controllers/RegistersController.php\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\Request;\nuse App\\Http\\Requests;\nuse App\\Http\\Controllers\\Controller;\nuse Validator;\n\nclass RegistersController extends Controller\n{\n    ...\n\n    public function confirm(Request $request, $registerToken)\n    {\n        \\Validator::make(\n            [\n                'family_name_kana' => trim($request->get('family_name_kana')),\n                'given_name_kana'  => trim($request->get('given_name_kana')),\n            ],\n            [\n                'family_name_kana' => 'required|kana',\n                'given_name_kana'  => 'required|kana',\n            ]\n        }->validate();\n    }\n    return view('registers/registers_confirm');\n\n    ...\n}\n\n\n\n\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u5b9f\u65bd\u7d50\u679c\n\n\u3075\u308a\u304c\u306a\uff08\u305b\u3044\uff09\u3092\u30ab\u30bf\u30ab\u30ca\u3067 POST \u3057\u305f\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u5f15\u3063\u304b\u304b\u3063\u3066\u3044\u308b\u3002\n\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u4f5c\u6210\n\u3061\u3083\u3093\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3067\u304d\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u30c6\u30b9\u30c8\u3059\u308b\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3002\n\ntests/domain/validation/KanaTest.php\n<?php\n\n/**\n * \u304b\u306a\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u30af\u30e9\u30b9\n */\n\nnamespace Tests\\Domain\\Validation;\n\nuse Validator;\n\nclass KanaTest extends \\TestCase\n{\n    /**\n     * \u6b63\u5e38\u7cfb\u30c6\u30b9\u30c8\n     *\n     * @dataProvider successParamsProvider\n     * @param array $values\n     */\n    public function testSuccess($values)\n    {\n        $validator = \\Validator::make(\n            [\n                'family_name_kana' => $values,\n                'given_name_kana'  => $values,\n            ],\n            [\n                'family_name_kana' => 'required|kana',\n                'given_name_kana'  => 'required|kana',\n            ]\n        );\n\n        $this->assertTrue(\n            $validator->passes()\n        );\n    }\n\n    /**\n     * \u6b63\u5e38\u7cfb\u30d1\u30e9\u30e1\u30fc\u30bf\u7528\u306e\u30c7\u30fc\u30bf\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\n     *\n     * @return array\n     */\n    public function successParamsProvider()\n    {\n        return [\n            '\u3072\u3089\u304c\u306a' => [\n                '\u3084\u304d\u306b\u304f\u3066\u3044\u3057\u3087\u304f',\n            ],\n            '\u5927\u304d\u306a\u6587\u5b57\u5217\uff08\u304b\u306a\u306f100\u6587\u5b57\u307e\u3067\uff09' => [\n                str_repeat('\u3042', 100)\n            ],\n        ];\n    }\n\n    /**\n     * \u7570\u5e38\u7cfb\u30c6\u30b9\u30c8\n     *\n     * @dataProvider failParamsProvider\n     * \u304b\u306a\u306b\u4e0d\u9069\u5207\u306a\u6587\u5b57\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u308b\n     *\n     * @param array $values\n     */\n    public function testFail($values)\n    {\n        $validator = \\Validator::make(\n            [\n                'family_name_kana' => $values,\n                'given_name_kana'  => $values,\n            ],\n            [\n                'family_name_kana' => 'required|kana',\n                'given_name_kana'  => 'required|kana',\n            ]\n        );\n\n        $this->assertTrue(\n            $validator->fails()\n        );\n    }\n\n    /**\n     * \u7570\u5e38\u7cfb\u30d1\u30e9\u30e1\u30fc\u30bf\u7528\u306e\u30c7\u30fc\u30bf\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\n     *\n     * @return array\n     */\n    public function failParamsProvider()\n    {\n        return [\n            '\u6570\u5b57' => [\n                1,\n            ],\n            '\u6f22\u5b57' => [\n                '\u713c\u8089\u5b9a\u98df',\n            ],\n            '\u30ab\u30bf\u30ab\u30ca' => [\n                '\u30e4\u30ad\u30cb\u30af\u30c6\u30a4\u30b7\u30e7\u30af',\n            ],\n            '\u5927\u304d\u306a\u6587\u5b57\u5217\uff08\u304b\u306a\u306f100\u6587\u5b57\u307e\u3067\uff09' => [\n                str_repeat('\u3042', 101),\n            ],\n            'NULL' => [\n                null,\n            ],\n            '\u7a7a' => [\n                '',\n            ],\n            '\u30b9\u30af\u30ea\u30d7\u30c8' => [\n                '<script>alert(1);</script>',\n            ],\n            '\\'' => [\n                '\\'',\n            ],\n            '/' => [\n                '/',\n            ],\n            '<' => [\n                '<',\n            ],\n            '\u00a5' => [\n                '\u00a5',\n            ],\n        ];\n    }\n}\n\n\n\n\u89e3\u8aac\n\n\u3072\u3089\u304c\u306a \u304b\u3064\u3001100\u6587\u5b57\u4ee5\u5185\u304b\u3069\u3046\u304b\u3092\u30c6\u30b9\u30c8\u3057\u3066\u3044\u308b\nPHPUnit \u306e\u30c7\u30fc\u30bf\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3046\u3068\u7c21\u6f54\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u66f8\u3051\u3066\u3001\u5931\u6557\u3057\u305f\u3068\u304d\u306b\u3069\u3053\u3067\u5931\u6557\u3057\u305f\u306e\u304b\u5206\u304b\u308a\u3084\u3059\u3044\n\n\n\n\u3072\u3068\u3053\u3068\n\u3053\u308c\u3067\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u3001\u307b\u3068\u3093\u3069\u5bfe\u5fdc\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\u672c\u8a18\u4e8b\u306f [Laravel Advent Calendar 2016](http://qiita.com/advent-calendar/2016/laravel) \u306e 6 \u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n## \u306f\u3058\u3081\u306b\n\u516c\u5f0f\u306e\u30ab\u30b9\u30bf\u30e0\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u4eca\u3072\u3068\u3064\u5206\u304b\u308a\u306b\u304f\u3044\u306e\u3067\u3001\u624b\u9806\u3092\u307e\u3068\u3081\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\u4eca\u56de\u306f\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066 \u3075\u308a\u304c\u306a \u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n\u203b\u4ee5\u524d\u306b\u66f8\u3044\u305f\u901a\u5e38\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u5fdc\u7528\nhttp://qiita.com/komatzz/items/422bcba9847ca3a79fe9\n\n##\u74b0\u5883\n- CentOS 7\n- PHP 7\n- Laravel 5.3\n\n\n## \u30ab\u30b9\u30bf\u30e0\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\u624b\u9806\n\n### \u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u4f5c\u6210\n\n> php artisan make:provider ValidatorServiceProvider\n\n\u4f5c\u6210\u3055\u308c\u305f\u30af\u30e9\u30b9\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3002\n\n```app/Providers/ValidatorServiceProvider.php\n\nnamespace App\\Providers;\n\nuse Illuminate\\Support\\ServiceProvider;\nuse Domain\\CustomValidator;\n\nclass ValidatorServiceProvider extends ServiceProvider\n{\n    /**\n     * Bootstrap the application services.\n     *\n     * @return void\n     */\n    public function boot()\n    {\n      \\Validator::resolver(function ($translator, $data, $rules, $messages) {\n          return new CustomValidator($translator, $data, $rules, $messages);\n      });\n    }\n\n    /**\n     * Register the application services.\n     *\n     * @return void\n     */\n    public function register()\n    {\n        //\n    }\n}\n```\n\n### \u4f5c\u6210\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u3092\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0\n\n```config/app.php\n'providers' => [\n    ...\n\n    App\\Providers\\ValidatorServiceProvider::class,\n\n    ...\n```\n\n### \u30ab\u30b9\u30bf\u30e0\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30ed\u30b8\u30c3\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\n\u4eca\u56de\u306f`domain`\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u4e0b\u306b`CustomValidator.php`\u3092\u4f5c\u6210\u3057\u305f\u3002\n\n```domain/CustomValidator.php\nnamespace Domain;\n\nclass CustomValidator extends \\Illuminate\\Validation\\Validator\n{\n  /**\n  * \u3075\u308a\u304c\u306a\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n  *\n  * @param $attribute\n  * @param $value\n  * @param $parameters\n  * @return bool\n  */\n  public function validateKana($attribute, $value, $parameters)\n  {\n      if (mb_strlen($value) > 100) {\n          return false;\n      }  \n\n      if (preg_match('/[^\u3041-\u3093\u30fc]/u', $value) !== 0) {\n          return false;\n      }\n\n      return true;\n  }\n}\n```\n\n### \u30aa\u30fc\u30c8\u30ed\u30fc\u30c9\u306e\u8a2d\u5b9a\n\n`composer.json` \u306e psr-4 \u8a2d\u5b9a\u306b \u306b`domain`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u3092\u30aa\u30fc\u30c8\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u8ffd\u52a0\u3059\u308b\n\u203b\u3053\u308c\u306b\u6c17\u3065\u304b\u306a\u304f\u3066\u30cf\u30de\u3063\u305f\n\n```composer.json\n...\n\n\"autoload\": {\n  \"psr-4\": {\n      \"App\\\\\": \"app/\",\n      \"Domain\\\\\": \"domain/\",\n  }\n}\n\n...\n```\n\n### \u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0\n\n```resources/lang/ja/validation.php\nreturn [\n   ...\n\n   'kana' => ':attribute\u306f\u3072\u3089\u304c\u306a\u3067\u5165\u529b\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002',\n   \n   ...\n\n   'attributes' => [\n       ...\n\n        'family_name_kana' => '\u3075\u308a\u304c\u306a\uff08\u305b\u3044\uff09',\n        'given_name_kana'  => '\u3075\u308a\u304c\u306a\uff08\u3081\u3044\uff09',\n\n       ...\n   ],\n```\n\n### \u30ab\u30b9\u30bf\u30e0\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\n\n\u4f7f\u3044\u65b9\u306f\u901a\u5e38\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3068\u540c\u3058\u3067\u3001\n`'family_name_kana' => 'required|kana',`\n\u306e\u3088\u3046\u306b\u4f7f\u3044\u305f\u3044\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092`|`\u533a\u5207\u308a\u3067\u6307\u5b9a\u3059\u308c\u3070\u826f\u3044\u3002\n\n```app/Http/Controllers/RegistersController.php\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\Request;\nuse App\\Http\\Requests;\nuse App\\Http\\Controllers\\Controller;\nuse Validator;\n\nclass RegistersController extends Controller\n{\n    ...\n    \n    public function confirm(Request $request, $registerToken)\n    {\n        \\Validator::make(\n            [\n                'family_name_kana' => trim($request->get('family_name_kana')),\n                'given_name_kana'  => trim($request->get('given_name_kana')),\n            ],\n            [\n                'family_name_kana' => 'required|kana',\n                'given_name_kana'  => 'required|kana',\n            ]\n        }->validate();\n    }\n    return view('registers/registers_confirm');\n    \n    ...\n}\n```\n\n\n### \u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u5b9f\u65bd\u7d50\u679c\n![valid_kana.png](https://qiita-image-store.s3.amazonaws.com/0/57002/a43ea569-4950-2f6b-f573-83159e96b673.png)\n\n`\u3075\u308a\u304c\u306a\uff08\u305b\u3044\uff09`\u3092\u30ab\u30bf\u30ab\u30ca\u3067 POST \u3057\u305f\u306e\u3067\u3001\u3061\u3083\u3093\u3068\u5f15\u3063\u304b\u304b\u3063\u3066\u3044\u308b\u3002\n\n## \u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u4f5c\u6210\n\n\u3061\u3083\u3093\u3068\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3067\u304d\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u30c6\u30b9\u30c8\u3059\u308b\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3002\n\n```tests/domain/validation/KanaTest.php\n<?php\n\n/**\n * \u304b\u306a\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306e\u30c6\u30b9\u30c8\u30af\u30e9\u30b9\n */\n\nnamespace Tests\\Domain\\Validation;\n\nuse Validator;\n\nclass KanaTest extends \\TestCase\n{\n    /**\n     * \u6b63\u5e38\u7cfb\u30c6\u30b9\u30c8\n     *\n     * @dataProvider successParamsProvider\n     * @param array $values\n     */\n    public function testSuccess($values)\n    {\n        $validator = \\Validator::make(\n            [\n                'family_name_kana' => $values,\n                'given_name_kana'  => $values,\n            ],\n            [\n                'family_name_kana' => 'required|kana',\n                'given_name_kana'  => 'required|kana',\n            ]\n        );\n\n        $this->assertTrue(\n            $validator->passes()\n        );\n    }\n\n    /**\n     * \u6b63\u5e38\u7cfb\u30d1\u30e9\u30e1\u30fc\u30bf\u7528\u306e\u30c7\u30fc\u30bf\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\n     *\n     * @return array\n     */\n    public function successParamsProvider()\n    {\n        return [\n            '\u3072\u3089\u304c\u306a' => [\n                '\u3084\u304d\u306b\u304f\u3066\u3044\u3057\u3087\u304f',\n            ],\n            '\u5927\u304d\u306a\u6587\u5b57\u5217\uff08\u304b\u306a\u306f100\u6587\u5b57\u307e\u3067\uff09' => [\n                str_repeat('\u3042', 100)\n            ],\n        ];\n    }\n\n    /**\n     * \u7570\u5e38\u7cfb\u30c6\u30b9\u30c8\n     *\n     * @dataProvider failParamsProvider\n     * \u304b\u306a\u306b\u4e0d\u9069\u5207\u306a\u6587\u5b57\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u308b\n     *\n     * @param array $values\n     */\n    public function testFail($values)\n    {\n        $validator = \\Validator::make(\n            [\n                'family_name_kana' => $values,\n                'given_name_kana'  => $values,\n            ],\n            [\n                'family_name_kana' => 'required|kana',\n                'given_name_kana'  => 'required|kana',\n            ]\n        );\n\n        $this->assertTrue(\n            $validator->fails()\n        );\n    }\n\n    /**\n     * \u7570\u5e38\u7cfb\u30d1\u30e9\u30e1\u30fc\u30bf\u7528\u306e\u30c7\u30fc\u30bf\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\n     *\n     * @return array\n     */\n    public function failParamsProvider()\n    {\n        return [\n            '\u6570\u5b57' => [\n                1,\n            ],\n            '\u6f22\u5b57' => [\n                '\u713c\u8089\u5b9a\u98df',\n            ],\n            '\u30ab\u30bf\u30ab\u30ca' => [\n                '\u30e4\u30ad\u30cb\u30af\u30c6\u30a4\u30b7\u30e7\u30af',\n            ],\n            '\u5927\u304d\u306a\u6587\u5b57\u5217\uff08\u304b\u306a\u306f100\u6587\u5b57\u307e\u3067\uff09' => [\n                str_repeat('\u3042', 101),\n            ],\n            'NULL' => [\n                null,\n            ],\n            '\u7a7a' => [\n                '',\n            ],\n            '\u30b9\u30af\u30ea\u30d7\u30c8' => [\n                '<script>alert(1);</script>',\n            ],\n            '\\'' => [\n                '\\'',\n            ],\n            '/' => [\n                '/',\n            ],\n            '<' => [\n                '<',\n            ],\n            '\u00a5' => [\n                '\u00a5',\n            ],\n        ];\n    }\n}\n```\n\n### \u89e3\u8aac\n- \u3072\u3089\u304c\u306a \u304b\u3064\u3001100\u6587\u5b57\u4ee5\u5185\u304b\u3069\u3046\u304b\u3092\u30c6\u30b9\u30c8\u3057\u3066\u3044\u308b\n- PHPUnit \u306e[\u30c7\u30fc\u30bf\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc](https://phpunit.de/manual/current/ja/writing-tests-for-phpunit.html#writing-tests-for-phpunit.data-providers)\u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3046\u3068\u7c21\u6f54\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u66f8\u3051\u3066\u3001\u5931\u6557\u3057\u305f\u3068\u304d\u306b\u3069\u3053\u3067\u5931\u6557\u3057\u305f\u306e\u304b\u5206\u304b\u308a\u3084\u3059\u3044\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/57002/efbb1893-de00-1d59-ff8f-b4415543ef39.png)\n\n## \u3072\u3068\u3053\u3068\n\u3053\u308c\u3067\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u51e6\u7406\u306b\u95a2\u3057\u3066\u306f\u3001\u307b\u3068\u3093\u3069\u5bfe\u5fdc\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n", "tags": ["laravel", "PHPUnit", "PHP", "laravel5"]}