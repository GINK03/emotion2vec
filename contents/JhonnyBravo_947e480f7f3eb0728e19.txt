{"context": "\n\n\u5fc5\u8981\u306a\u6a5f\u6750\nath5k \u307e\u305f\u306f ath9k \u30c9\u30e9\u30a4\u30d0\u306b\u5bfe\u5fdc\u3057\u3001\n\u304b\u3064\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u6a5f\u80fd\u3092\u6301\u3063\u305f\u7121\u7dda LAN \u30c7\u30d0\u30a4\u30b9\u3002\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\napt-get install hostapd iw isc-dhcp-server haveged\n\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u69cb\u6210\n/etc/network/interfaces \u3092\u7de8\u96c6\u3059\u308b\u3002\n# lo \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3002\nauto lo\n# \u8ad6\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9 lo \u3092\n# IPv4 loopback \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u3002\niface lo inet loopback\n\n# wlan0 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3002\nauto wlan0\n# \u8ad6\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9 wlan0 \u3078 IPv4 \u56fa\u5b9a\u30a2\u30c9\u30ec\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u3002\niface wlan0 inet static\n  address 192.168.0.1\n  netmask 255.255.0.0\n  gateway 192.168.0.1\n  dns-name-servers 8.8.8.8\n  wireless-mode master\n\n/etc/NetworkManager/NetworkManager.conf \u3092\u7de8\u96c6\u3059\u308b\u3002\n[keyfile]\nunmanaged-devices=mac:\u7121\u7ddaLAN \u306e MAC \u30a2\u30c9\u30ec\u30b9\n\n/etc/default/ufw \u3092\u7de8\u96c6\u3059\u308b\u3002\n# IPv6 \u30b5\u30dd\u30fc\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\nIPV6=yes\n\n# \u5916\u90e8\u304b\u3089\u5165\u3063\u3066\u304f\u308b\u901a\u4fe1\u3092\u7834\u68c4\u3059\u308b\u3002\nDEFAULT_INPUT_POLICY=\"DROP\"\n\n# \u5916\u90e8\u3078\u51fa\u3066\u884c\u304f\u901a\u4fe1\u306e\u901a\u904e\u3092\u8a31\u53ef\u3059\u308b\u3002\nDEFAULT_OUTPUT_POLICY=\"ACCEPT\"\n\n# \u30d1\u30b1\u30c3\u30c8\u8ee2\u9001\u3092\u8a31\u53ef\u3059\u308b\u3002\nDEFAULT_FORWARD_POLICY=\"ACCEPT\"\n\nDEFAULT_APPLICATION_POLICY=\"SKIP\"\n\n# ufw \u81ea\u8eab\u304c\u4f5c\u6210\u3057\u305f\u30c1\u30a7\u30fc\u30f3\u306e\u307f\u3092\u64cd\u4f5c\u5bfe\u8c61\u3068\u3059\u308b\u3002\nMANAGE_BUILTINS=no\n\n# iptables \u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066 /etc/ufw/sysctl.conf \u3092\u4f7f\u7528\u3059\u308b\u3002\nIPT_SYSCTL=/etc/ufw/sysctl.conf\n\n# \u62e1\u5f35\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8aad\u8fbc\u307f\u8a2d\u5b9a\nIPT_MODULES=\"nf_conntrack_ftp nf_nat_ftp nf_conntrack_netbios_ns\"\n\n/etc/ufw/sysctl.conf \u3092\u7de8\u96c6\u3059\u308b\u3002\n# \u30d1\u30b1\u30c3\u30c8\u8ee2\u9001\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\nnet/ipv4/ip_forward=1\n\n# \u9001\u4fe1\u5143\u30a2\u30c9\u30ec\u30b9\u306e\u691c\u8a3c\u3092\u5168\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3067\u6709\u52b9\u306b\u3057\u3001\n# \u306a\u308a\u3059\u307e\u3057\u653b\u6483\u3092\u9632\u6b62\u3059\u308b\u3002\nnet/ipv4/conf/default/rp_filter=1\nnet/ipv4/conf/all/rp_filter=1\n\n# IP \u30bd\u30fc\u30b9\u30eb\u30fc\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u53d7\u4fe1\u3057\u306a\u3044\u3002\nnet/ipv4/conf/default/accept_source_route=0\nnet/ipv4/conf/all/accept_source_route=0\nnet/ipv6/conf/default/accept_source_route=0\nnet/ipv6/conf/all/accept_source_route=0\n\n# ICMP \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u7121\u52b9\u5316\u3057\u3001\n# MITM \u653b\u6483\u3092\u9632\u6b62\u3059\u308b\u3002\nnet/ipv4/conf/default/accept_redirects=0\nnet/ipv4/conf/all/accept_redirects=0\nnet/ipv6/conf/default/accept_redirects=0\nnet/ipv6/conf/all/accept_redirects=0\n\n# \u507d\u306e ICMP \u30a8\u30e9\u30fc\u3092\u7121\u8996\u3059\u308b\u3002\nnet/ipv4/icmp_echo_ignore_broadcasts=1\nnet/ipv4/icmp_ignore_bogus_error_responses=1\nnet/ipv4/icmp_echo_ignore_all=0\n\n# \u6709\u308a\u5f97\u306a\u3044\u30d1\u30b1\u30c3\u30c8\u3092\u8a18\u9332\u3057\u306a\u3044\u3002\nnet/ipv4/conf/default/log_martians=0\nnet/ipv4/conf/all/log_martians=0\n\n# TCP / IP SYN \u30af\u30c3\u30ad\u30fc\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\nnet/ipv4/tcp_syncookies=0\n\nnet/ipv4/tcp_sack=1\n\n/etc/ufw/before.rules \u3092\u7de8\u96c6\u3059\u308b\u3002\n# filter \u30c6\u30fc\u30d6\u30eb\u306e\u8a2d\u5b9a\u3002\n*filter\n:ufw-before-input - [0:0]\n:ufw-before-output - [0:0]\n:ufw-before-forward - [0:0]\n:ufw-not-local - [0:0]\n\n# loopback \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306b\u304a\u3051\u308b\u9001\u53d7\u4fe1\u3092\u8a31\u53ef\u3059\u308b\u3002\n-A ufw-before-input -i lo -j ACCEPT\n-A ufw-before-output -o lo -j ACCEPT\n\n# \u65e2\u5b58\u306e\u30d1\u30b1\u30c3\u30c8\u306e\u53d7\u4fe1\u30fb\u9001\u4fe1\u30fb\u8ee2\u9001\u3092\u8a31\u53ef\u3059\u308b\u3002\n-A ufw-before-input -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n-A ufw-before-output -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n-A ufw-before-forward -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n\n# \u4e0d\u6b63\u306a\u30d1\u30b1\u30c3\u30c8\u3092\u7834\u68c4\u3059\u308b\u3002\n-A ufw-before-input -m conntrack --ctstate INVALID -j ufw-logging-deny\n-A ufw-before-input -m conntrack --ctstate INVALID -j DROP\n\n# \u53d7\u4fe1\u306b\u304a\u3051\u308b icmp \u30b3\u30fc\u30c9\u3092\u53d7\u5165\u308c\u308b\u3002\n-A ufw-before-input -p icmp --icmp-type destination-unreachable -j ACCEPT\n-A ufw-before-input -p icmp --icmp-type source-quench -j ACCEPT\n-A ufw-before-input -p icmp --icmp-type time-exceeded -j ACCEPT\n-A ufw-before-input -p icmp --icmp-type parameter-problem -j ACCEPT\n-A ufw-before-input -p icmp --icmp-type echo-request -j ACCEPT\n\n# \u8ee2\u9001\u306b\u304a\u3051\u308b icmp \u30b3\u30fc\u30c9\u3092\u53d7\u5165\u308c\u308b\u3002\n-A ufw-before-forward -p icmp --icmp-type destination-unreachable -j ACCEPT\n-A ufw-before-forward -p icmp --icmp-type source-quench -j ACCEPT\n-A ufw-before-forward -p icmp --icmp-type time-exceeded -j ACCEPT\n-A ufw-before-forward -p icmp --icmp-type parameter-problem -j ACCEPT\n-A ufw-before-forward -p icmp --icmp-type echo-request -j ACCEPT\n\n# dhcp \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u52d5\u4f5c\u3092\u8a31\u53ef\u3059\u308b\u3002\n-A ufw-before-input -p udp --sport 67 --dport 68 -j ACCEPT\n\n-A ufw-before-input -j ufw-not-local\n-A ufw-not-local -m addrtype --dst-type LOCAL -j RETURN\n-A ufw-not-local -m addrtype --dst-type MULTICAST -j RETURN\n-A ufw-not-local -m addrtype --dst-type BROADCAST -j RETURN\n\n# \u4e0a\u8a18\u4ee5\u5916\u306e non-local \u30d1\u30b1\u30c3\u30c8\u306f\u7834\u68c4\u3059\u308b\u3002\n-A ufw-not-local -m limit --limit 3/min --limit-burst 10 -j ufw-logging-deny\n-A ufw-not-local -j DROP\n\n# MULTICAST UPnP \u306e\u30b5\u30fc\u30d3\u30b9\u63a2\u67fb\u3092\u8a31\u53ef\u3059\u308b\u3002\n-A ufw-before-input -p udp -d 224.0.0.251 --dport 5353 -j ACCEPT\n-A ufw-before-input -p udp -d 239.255.255.250 --dport 1900 -j ACCEPT\n\nCOMMIT\n\n# nat \u30c6\u30fc\u30d6\u30eb\u306e\u8a2d\u5b9a\u3002\n*nat\n\n# \u9001\u4fe1\u6642\u306e\u30a2\u30c9\u30ec\u30b9\u5909\u63db\u3092\u8a31\u53ef\u3059\u308b\u3002\n:POSTROUTING ACCEPT [0:0]\n\n# \u30d1\u30b1\u30c3\u30c8\u8ee2\u9001\u5148\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092 eth0 \u3068\u3059\u308b\u3002\n# \u30a2\u30c9\u30ec\u30b9\u3092\u5909\u63db\u3059\u308b\u3002\n-A POSTROUTING -o eth0 -j MASQUERADE\n\nCOMMIT\n\n/etc/dhcp/dhcpd.conf \u3092\u7de8\u96c6\u3059\u308b\u3002\n# \u30ea\u30fc\u30b9\u78ba\u8a8d\u306e\u969b\u306b DNS \u306e\u66f4\u65b0\u3092\u8a66\u884c\u3057\u306a\u3044\u3002\nddns-update-style none;\n\n# \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5168\u4f53\u306e\u5171\u901a\u8a2d\u5b9a\u3002\noption domain-name \"example.org\";\noption domain-name-servers 192.168.1.1;\n\ndefault-lease-time 600;\nmax-lease-time 7200;\n\n# dhcp \u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7570\u306a\u308b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3078\u9001\u4fe1\u3059\u308b\u3002\nlog-facility local7;\n\n# \u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u8a2d\u5b9a\u3002\nsubnet 192.168.0.0 netmask 255.255.0.0{\n  # 192.168.0.10 \u304b\u3089 192.168.0.20 \u306e\u9593\u3067 IP \u30a2\u30c9\u30ec\u30b9\u3092\u767a\u884c\u3059\u308b\u3002\n  range 192.168.0.10 192.168.0.20;\n  option domain-name-servers 8.8.8.8;\n  option routers 192.168.0.1;\n  default-lease-time 600;\n  max-lease-time 7200;\n}\n\n/etc/default/isc-dhcp-server \u3092\u7de8\u96c6\u3059\u308b\u3002\n# isc-dhcp-server \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\n# /etc/dhcp/dhcpd.conf \u3092\u4f7f\u7528\u3059\u308b\u3002\nDHCPD_CONF=/etc/dhcp/dhcpd.conf\n\n# /var/run/dhcpd.pid \u3092\n# isc-dhcp-server \u306e PID \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\nDHCPD_PID=/var/run/dhcpd.pid\n\n# wlan0 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092 dhcp \u30b5\u30fc\u30d0\u3068\u3057\u3066\u4f7f\u7528\u3057\u3001\n# dhcp \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5f85\u3061\u53d7\u3051\u308b\u3002\nINTERFACES=\"wlan0\"\n\n\nhostapd \u306e\u8a2d\u5b9a\n/etc/default/hostapd \u3092\u7de8\u96c6\u3059\u308b\u3002\n# /etc/hostapd/hostapd.conf \u3092 hostapd \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\n# hostapd \u306f\u30b7\u30b9\u30c6\u30e0\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u3002\nDAEMON_CONF=\"/etc/hostapd/hostapd.conf\"\n\n# -dd \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3057\u3066 hostapd \u3092\u8d77\u52d5\u3059\u308b\u3002\n# /var/log/syslog \u3078\u8a73\u7d30\u306a\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3059\u308b\u3002\nDAEMON_OPTS=\"-dd\"\n\n/etc/hostapd/hostapd.conf \u3092\u7de8\u96c6\u3059\u308b\u3002\n\u96db\u5f62\u306f /usr/share/doc/hostapd/examples/hostapd.conf.gz \u306b\u53ce\u3081\u3089\u308c\u3066\u3044\u308b\u3002\n# wlan0 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\ninterface=wlan0\n\n# nl80211 \u30c9\u30e9\u30a4\u30d0\u3092\u4f7f\u7528\u3059\u308b\u3002\ndriver=nl80211\n\n# syslog \u3078\u5168\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30b0\u3092\u8a18\u9332\u3059\u308b\u3002\nlogger_syslog=-1\n# \u8a18\u9332\u3059\u308b\u30ec\u30d9\u30eb\u306f informational message \u307e\u3067\u3068\u3059\u308b\u3002\nlogger_syslog_level=2\n\n# \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u52d5\u4f5c\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u9650\u308a\u3001\n# \u5168\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30b0\u3092 stdout \u3078\u51fa\u529b\u3059\u308b\u3002\nlogger_stdout=-1\n# \u51fa\u529b\u3059\u308b\u30ec\u30d9\u30eb\u306f informational message \u307e\u3067\u3068\u3059\u308b\u3002\nlogger_stdout_level=2\n\n# /var/run/hostapd \u3078 UNIX \u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002\nctrl_interface=/var/run/hostapd\n# gid 0(root) \u3078\u5236\u5fa1\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u3002\nctrl_interface_group=0\n\n# ssid \u540d\u3002\nssid=\u4efb\u610f\u306e ssid \u540d\n\n# \u65e5\u672c\u3067\u4f7f\u7528\u53ef\u80fd\u306a\u96fb\u6ce2\u51fa\u529b\u3068\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u4f7f\u7528\u3059\u308b\u3002\ncountry_code=JP\n\n# IEEE 802.11d \u3092\u6709\u52b9\u306b\u3059\u308b\u3002\n# country_code \u3092\u901a\u77e5\u3057\u3001\u898f\u5236\u306b\u57fa\u3065\u3044\u3066\n# \u96fb\u6ce2\u51fa\u529b\u3068\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u8a2d\u5b9a\u3059\u308b\u3002\nieee80211d=1\n\n# IEEE 802.11g \u306e\u5e2f\u57df\u3092\u4f7f\u7528\u3059\u308b\u3002\nhw_mode=g\n\n# \u30c1\u30e3\u30f3\u30cd\u30eb\u8a2d\u5b9a\nchannel=1\n\nbeacon_int=100\ndtim_period=2\n\n# \u6700\u5927 3 \u53f0\u307e\u3067\u306e\u7aef\u672b\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u3002\nmax_num_sta=3\n\nrts_threshold=2347\nfragm_threshold=2346\n\n# \u63a5\u7d9a\u7aef\u672b\u306e MAC \u30a2\u30c9\u30ec\u30b9\u306b\u57fa\u3065\u304f\u8a8d\u8a3c\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\nmacaddr_acl=0\n\n# \u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u3057\u3066 Shared Key Authentication \u3092\u4f7f\u7528\u3059\u308b\u3002\nauth_algs=1\n\n# \u5b8c\u5168\u306a ssid \u3092\u77e5\u3089\u306a\u3044\u5834\u5408\u3067\u3082\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u3002\nignore_broadcast_ssid=0\n\n# wmm \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a\u3002\nwmm_enabled=1\nwmm_ac_bk_cwmin=4\nwmm_ac_bk_cwmax=10\nwmm_ac_bk_aifs=7\nwmm_ac_bk_txop_limit=0\nwmm_ac_bk_acm=0\nwmm_ac_be_aifs=3\nwmm_ac_be_cwmin=4\nwmm_ac_be_cwmax=10\nwmm_ac_be_txop_limit=0\nwmm_ac_be_acm=0\nwmm_ac_vi_aifs=2\nwmm_ac_vi_cwmin=3\nwmm_ac_vi_cwmax=4\nwmm_ac_vi_txop_limit=94\nwmm_ac_vi_acm=0\nwmm_ac_vo_aifs=2\nwmm_ac_vo_cwmin=2\nwmm_ac_vo_cwmax=3\nwmm_ac_vo_txop_limit=47\nwmm_ac_vo_acm=0\n\n# \u9001\u4fe1\u5931\u6557\u304c\u983b\u767a\u3059\u308b\u304b\u3001\u4f55\u3089\u304b\u306e\u539f\u56e0\u3067\u63a5\u7d9a\u304c\u5931\u308f\u308c\u308b\u3068\n# \u7aef\u672b\u306e\u63a5\u7d9a\u89e3\u9664\u3092\u5b9f\u884c\u3059\u308b\u3002\ndisassoc_low_ack=1\n\n# HT PHY \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044\u7aef\u672b\u3067\u3082\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u3002\nrequire_ht=0\n\neapol_key_index_workaround=0\n\neap_server=0\n\n# \u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u81ea\u8eab\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092 127.0.0.1 \u3068\u3059\u308b\u3002\nown_ip_addr=127.0.0.1\n\n# WPA2 \u3092\u4f7f\u7528\u3059\u308b\u3002\nwpa=2\n\n# \u63a5\u7d9a\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3002\nwpa_passphrase=\u4efb\u610f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\n\n# \u9375\u7ba1\u7406\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u3057\u3066 WPA-PSK \u3092\u4f7f\u7528\u3059\u308b\u3002\nwpa_key_mgmt=WPA-PSK\n\n# RSN / WPA2 \u306e\u5171\u6709\u9375\u6697\u53f7\u5316\u65b9\u5f0f\u3068\u3057\u3066 CCMP \u3092\u4f7f\u7528\u3059\u308b\u3002\nrsn_pairwise=CCMP\n\n\n\u30b3\u30de\u30f3\u30c9\n\nsudo lsmod | grep ath\n\u7121\u7dda LAN \u30c7\u30d0\u30a4\u30b9\u304c ath5k, ath9k \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\niw list\n\u7121\u7dda LAN \u30c7\u30d0\u30a4\u30b9\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u6a5f\u80fd\u3092\u8868\u793a\u3059\u308b\u3002\n\nhostapd -d /etc/hostapd/hostapd.conf\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30c6\u30b9\u30c8\u3059\u308b\u3002\u69cb\u6210\u30a8\u30e9\u30fc\u304c\u3042\u308b\u5834\u5408\u306b\u306f\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u3001\nhostapd \u306e\u5b9f\u884c\u3092\u4e2d\u65ad\u3059\u308b\u3002\n\u30a8\u30e9\u30fc\u304c\u7121\u3044\u5834\u5408\u306f hostapd \u304c\u8d77\u52d5\u3055\u308c\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30c7\u30d0\u30c3\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\nservice hostapd start\nhostapd \u3092\u8d77\u52d5\u3059\u308b\u3002\n\nservice hostapd restart\nhostapd \u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n\nservice isc-dhcp-server restart\nisc-dhcp-server \u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n\nufw disable && ufw enable\nufw \u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n#\u5fc5\u8981\u306a\u6a5f\u6750\nath5k \u307e\u305f\u306f ath9k \u30c9\u30e9\u30a4\u30d0\u306b\u5bfe\u5fdc\u3057\u3001\n\u304b\u3064\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u6a5f\u80fd\u3092\u6301\u3063\u305f\u7121\u7dda LAN \u30c7\u30d0\u30a4\u30b9\u3002\n\n#\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\napt-get install hostapd iw isc-dhcp-server haveged\n```\n\n#\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u69cb\u6210\n[/etc/network/interfaces](http://qiita.com/JhonnyBravo/items/135aa654d7a4b5c64c34) \u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n# lo \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3002\nauto lo\n# \u8ad6\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9 lo \u3092\n# IPv4 loopback \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u3002\niface lo inet loopback\n\n# wlan0 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u8d77\u52d5\u3059\u308b\u3002\nauto wlan0\n# \u8ad6\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9 wlan0 \u3078 IPv4 \u56fa\u5b9a\u30a2\u30c9\u30ec\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u3002\niface wlan0 inet static\n  address 192.168.0.1\n  netmask 255.255.0.0\n  gateway 192.168.0.1\n  dns-name-servers 8.8.8.8\n  wireless-mode master\n```\n\n``/etc/NetworkManager/NetworkManager.conf`` \u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n[keyfile]\nunmanaged-devices=mac:\u7121\u7ddaLAN \u306e MAC \u30a2\u30c9\u30ec\u30b9\n```\n\n[/etc/default/ufw](http://qiita.com/JhonnyBravo/items/6ad183637a9d2a09b1f7) \u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n# IPv6 \u30b5\u30dd\u30fc\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\nIPV6=yes\n\n# \u5916\u90e8\u304b\u3089\u5165\u3063\u3066\u304f\u308b\u901a\u4fe1\u3092\u7834\u68c4\u3059\u308b\u3002\nDEFAULT_INPUT_POLICY=\"DROP\"\n\n# \u5916\u90e8\u3078\u51fa\u3066\u884c\u304f\u901a\u4fe1\u306e\u901a\u904e\u3092\u8a31\u53ef\u3059\u308b\u3002\nDEFAULT_OUTPUT_POLICY=\"ACCEPT\"\n\n# \u30d1\u30b1\u30c3\u30c8\u8ee2\u9001\u3092\u8a31\u53ef\u3059\u308b\u3002\nDEFAULT_FORWARD_POLICY=\"ACCEPT\"\n\nDEFAULT_APPLICATION_POLICY=\"SKIP\"\n\n# ufw \u81ea\u8eab\u304c\u4f5c\u6210\u3057\u305f\u30c1\u30a7\u30fc\u30f3\u306e\u307f\u3092\u64cd\u4f5c\u5bfe\u8c61\u3068\u3059\u308b\u3002\nMANAGE_BUILTINS=no\n\n# iptables \u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066 /etc/ufw/sysctl.conf \u3092\u4f7f\u7528\u3059\u308b\u3002\nIPT_SYSCTL=/etc/ufw/sysctl.conf\n\n# \u62e1\u5f35\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8aad\u8fbc\u307f\u8a2d\u5b9a\nIPT_MODULES=\"nf_conntrack_ftp nf_nat_ftp nf_conntrack_netbios_ns\"\n```\n\n[/etc/ufw/sysctl.conf](http://qiita.com/JhonnyBravo/items/f66eef4ccf6de1360454) \u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n# \u30d1\u30b1\u30c3\u30c8\u8ee2\u9001\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\nnet/ipv4/ip_forward=1\n\n# \u9001\u4fe1\u5143\u30a2\u30c9\u30ec\u30b9\u306e\u691c\u8a3c\u3092\u5168\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3067\u6709\u52b9\u306b\u3057\u3001\n# \u306a\u308a\u3059\u307e\u3057\u653b\u6483\u3092\u9632\u6b62\u3059\u308b\u3002\nnet/ipv4/conf/default/rp_filter=1\nnet/ipv4/conf/all/rp_filter=1\n\n# IP \u30bd\u30fc\u30b9\u30eb\u30fc\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u53d7\u4fe1\u3057\u306a\u3044\u3002\nnet/ipv4/conf/default/accept_source_route=0\nnet/ipv4/conf/all/accept_source_route=0\nnet/ipv6/conf/default/accept_source_route=0\nnet/ipv6/conf/all/accept_source_route=0\n\n# ICMP \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u7121\u52b9\u5316\u3057\u3001\n# MITM \u653b\u6483\u3092\u9632\u6b62\u3059\u308b\u3002\nnet/ipv4/conf/default/accept_redirects=0\nnet/ipv4/conf/all/accept_redirects=0\nnet/ipv6/conf/default/accept_redirects=0\nnet/ipv6/conf/all/accept_redirects=0\n\n# \u507d\u306e ICMP \u30a8\u30e9\u30fc\u3092\u7121\u8996\u3059\u308b\u3002\nnet/ipv4/icmp_echo_ignore_broadcasts=1\nnet/ipv4/icmp_ignore_bogus_error_responses=1\nnet/ipv4/icmp_echo_ignore_all=0\n\n# \u6709\u308a\u5f97\u306a\u3044\u30d1\u30b1\u30c3\u30c8\u3092\u8a18\u9332\u3057\u306a\u3044\u3002\nnet/ipv4/conf/default/log_martians=0\nnet/ipv4/conf/all/log_martians=0\n\n# TCP / IP SYN \u30af\u30c3\u30ad\u30fc\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\nnet/ipv4/tcp_syncookies=0\n\nnet/ipv4/tcp_sack=1\n```\n\n[/etc/ufw/before.rules](http://qiita.com/JhonnyBravo/items/3416bb092e7e74d06577) \u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n# filter \u30c6\u30fc\u30d6\u30eb\u306e\u8a2d\u5b9a\u3002\n*filter\n:ufw-before-input - [0:0]\n:ufw-before-output - [0:0]\n:ufw-before-forward - [0:0]\n:ufw-not-local - [0:0]\n\n# loopback \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306b\u304a\u3051\u308b\u9001\u53d7\u4fe1\u3092\u8a31\u53ef\u3059\u308b\u3002\n-A ufw-before-input -i lo -j ACCEPT\n-A ufw-before-output -o lo -j ACCEPT\n\n# \u65e2\u5b58\u306e\u30d1\u30b1\u30c3\u30c8\u306e\u53d7\u4fe1\u30fb\u9001\u4fe1\u30fb\u8ee2\u9001\u3092\u8a31\u53ef\u3059\u308b\u3002\n-A ufw-before-input -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n-A ufw-before-output -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n-A ufw-before-forward -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n\n# \u4e0d\u6b63\u306a\u30d1\u30b1\u30c3\u30c8\u3092\u7834\u68c4\u3059\u308b\u3002\n-A ufw-before-input -m conntrack --ctstate INVALID -j ufw-logging-deny\n-A ufw-before-input -m conntrack --ctstate INVALID -j DROP\n\n# \u53d7\u4fe1\u306b\u304a\u3051\u308b icmp \u30b3\u30fc\u30c9\u3092\u53d7\u5165\u308c\u308b\u3002\n-A ufw-before-input -p icmp --icmp-type destination-unreachable -j ACCEPT\n-A ufw-before-input -p icmp --icmp-type source-quench -j ACCEPT\n-A ufw-before-input -p icmp --icmp-type time-exceeded -j ACCEPT\n-A ufw-before-input -p icmp --icmp-type parameter-problem -j ACCEPT\n-A ufw-before-input -p icmp --icmp-type echo-request -j ACCEPT\n\n# \u8ee2\u9001\u306b\u304a\u3051\u308b icmp \u30b3\u30fc\u30c9\u3092\u53d7\u5165\u308c\u308b\u3002\n-A ufw-before-forward -p icmp --icmp-type destination-unreachable -j ACCEPT\n-A ufw-before-forward -p icmp --icmp-type source-quench -j ACCEPT\n-A ufw-before-forward -p icmp --icmp-type time-exceeded -j ACCEPT\n-A ufw-before-forward -p icmp --icmp-type parameter-problem -j ACCEPT\n-A ufw-before-forward -p icmp --icmp-type echo-request -j ACCEPT\n\n# dhcp \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u52d5\u4f5c\u3092\u8a31\u53ef\u3059\u308b\u3002\n-A ufw-before-input -p udp --sport 67 --dport 68 -j ACCEPT\n\n-A ufw-before-input -j ufw-not-local\n-A ufw-not-local -m addrtype --dst-type LOCAL -j RETURN\n-A ufw-not-local -m addrtype --dst-type MULTICAST -j RETURN\n-A ufw-not-local -m addrtype --dst-type BROADCAST -j RETURN\n\n# \u4e0a\u8a18\u4ee5\u5916\u306e non-local \u30d1\u30b1\u30c3\u30c8\u306f\u7834\u68c4\u3059\u308b\u3002\n-A ufw-not-local -m limit --limit 3/min --limit-burst 10 -j ufw-logging-deny\n-A ufw-not-local -j DROP\n\n# MULTICAST UPnP \u306e\u30b5\u30fc\u30d3\u30b9\u63a2\u67fb\u3092\u8a31\u53ef\u3059\u308b\u3002\n-A ufw-before-input -p udp -d 224.0.0.251 --dport 5353 -j ACCEPT\n-A ufw-before-input -p udp -d 239.255.255.250 --dport 1900 -j ACCEPT\n\nCOMMIT\n\n# nat \u30c6\u30fc\u30d6\u30eb\u306e\u8a2d\u5b9a\u3002\n*nat\n\n# \u9001\u4fe1\u6642\u306e\u30a2\u30c9\u30ec\u30b9\u5909\u63db\u3092\u8a31\u53ef\u3059\u308b\u3002\n:POSTROUTING ACCEPT [0:0]\n\n# \u30d1\u30b1\u30c3\u30c8\u8ee2\u9001\u5148\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092 eth0 \u3068\u3059\u308b\u3002\n# \u30a2\u30c9\u30ec\u30b9\u3092\u5909\u63db\u3059\u308b\u3002\n-A POSTROUTING -o eth0 -j MASQUERADE\n\nCOMMIT\n```\n\n[/etc/dhcp/dhcpd.conf](http://qiita.com/JhonnyBravo/items/e5324715efa9a9264c9d) \u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n# \u30ea\u30fc\u30b9\u78ba\u8a8d\u306e\u969b\u306b DNS \u306e\u66f4\u65b0\u3092\u8a66\u884c\u3057\u306a\u3044\u3002\nddns-update-style none;\n\n# \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5168\u4f53\u306e\u5171\u901a\u8a2d\u5b9a\u3002\noption domain-name \"example.org\";\noption domain-name-servers 192.168.1.1;\n\ndefault-lease-time 600;\nmax-lease-time 7200;\n\n# dhcp \u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u7570\u306a\u308b\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3078\u9001\u4fe1\u3059\u308b\u3002\nlog-facility local7;\n\n# \u30b5\u30d6\u30cd\u30c3\u30c8\u306e\u8a2d\u5b9a\u3002\nsubnet 192.168.0.0 netmask 255.255.0.0{\n  # 192.168.0.10 \u304b\u3089 192.168.0.20 \u306e\u9593\u3067 IP \u30a2\u30c9\u30ec\u30b9\u3092\u767a\u884c\u3059\u308b\u3002\n  range 192.168.0.10 192.168.0.20;\n  option domain-name-servers 8.8.8.8;\n  option routers 192.168.0.1;\n  default-lease-time 600;\n  max-lease-time 7200;\n}\n```\n\n[/etc/default/isc-dhcp-server](http://qiita.com/JhonnyBravo/items/210ec3c02e362da03dcd) \u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n# isc-dhcp-server \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\n# /etc/dhcp/dhcpd.conf \u3092\u4f7f\u7528\u3059\u308b\u3002\nDHCPD_CONF=/etc/dhcp/dhcpd.conf\n\n# /var/run/dhcpd.pid \u3092\n# isc-dhcp-server \u306e PID \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\nDHCPD_PID=/var/run/dhcpd.pid\n\n# wlan0 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092 dhcp \u30b5\u30fc\u30d0\u3068\u3057\u3066\u4f7f\u7528\u3057\u3001\n# dhcp \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5f85\u3061\u53d7\u3051\u308b\u3002\nINTERFACES=\"wlan0\"\n```\n\n#hostapd \u306e\u8a2d\u5b9a\n[/etc/default/hostapd](http://qiita.com/JhonnyBravo/items/f6bd366cb1b3a8acabe5) \u3092\u7de8\u96c6\u3059\u308b\u3002\n\n```\n# /etc/hostapd/hostapd.conf \u3092 hostapd \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\n# hostapd \u306f\u30b7\u30b9\u30c6\u30e0\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u3002\nDAEMON_CONF=\"/etc/hostapd/hostapd.conf\"\n\n# -dd \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u9069\u7528\u3057\u3066 hostapd \u3092\u8d77\u52d5\u3059\u308b\u3002\n# /var/log/syslog \u3078\u8a73\u7d30\u306a\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u51fa\u529b\u3059\u308b\u3002\nDAEMON_OPTS=\"-dd\"\n```\n\n[/etc/hostapd/hostapd.conf](http://qiita.com/JhonnyBravo/items/5df2d9b2fcb142b6a67c) \u3092\u7de8\u96c6\u3059\u308b\u3002\n\u96db\u5f62\u306f ``/usr/share/doc/hostapd/examples/hostapd.conf.gz`` \u306b\u53ce\u3081\u3089\u308c\u3066\u3044\u308b\u3002\n\n```\n# wlan0 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3092\u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\ninterface=wlan0\n\n# nl80211 \u30c9\u30e9\u30a4\u30d0\u3092\u4f7f\u7528\u3059\u308b\u3002\ndriver=nl80211\n\n# syslog \u3078\u5168\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30b0\u3092\u8a18\u9332\u3059\u308b\u3002\nlogger_syslog=-1\n# \u8a18\u9332\u3059\u308b\u30ec\u30d9\u30eb\u306f informational message \u307e\u3067\u3068\u3059\u308b\u3002\nlogger_syslog_level=2\n\n# \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u52d5\u4f5c\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u9650\u308a\u3001\n# \u5168\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30b0\u3092 stdout \u3078\u51fa\u529b\u3059\u308b\u3002\nlogger_stdout=-1\n# \u51fa\u529b\u3059\u308b\u30ec\u30d9\u30eb\u306f informational message \u307e\u3067\u3068\u3059\u308b\u3002\nlogger_stdout_level=2\n\n# /var/run/hostapd \u3078 UNIX \u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002\nctrl_interface=/var/run/hostapd\n# gid 0(root) \u3078\u5236\u5fa1\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u3002\nctrl_interface_group=0\n\n# ssid \u540d\u3002\nssid=\u4efb\u610f\u306e ssid \u540d\n\n# \u65e5\u672c\u3067\u4f7f\u7528\u53ef\u80fd\u306a\u96fb\u6ce2\u51fa\u529b\u3068\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u4f7f\u7528\u3059\u308b\u3002\ncountry_code=JP\n\n# IEEE 802.11d \u3092\u6709\u52b9\u306b\u3059\u308b\u3002\n# country_code \u3092\u901a\u77e5\u3057\u3001\u898f\u5236\u306b\u57fa\u3065\u3044\u3066\n# \u96fb\u6ce2\u51fa\u529b\u3068\u30c1\u30e3\u30f3\u30cd\u30eb\u3092\u8a2d\u5b9a\u3059\u308b\u3002\nieee80211d=1\n\n# IEEE 802.11g \u306e\u5e2f\u57df\u3092\u4f7f\u7528\u3059\u308b\u3002\nhw_mode=g\n\n# \u30c1\u30e3\u30f3\u30cd\u30eb\u8a2d\u5b9a\nchannel=1\n\nbeacon_int=100\ndtim_period=2\n\n# \u6700\u5927 3 \u53f0\u307e\u3067\u306e\u7aef\u672b\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u3002\nmax_num_sta=3\n\nrts_threshold=2347\nfragm_threshold=2346\n\n# \u63a5\u7d9a\u7aef\u672b\u306e MAC \u30a2\u30c9\u30ec\u30b9\u306b\u57fa\u3065\u304f\u8a8d\u8a3c\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\nmacaddr_acl=0\n\n# \u8a8d\u8a3c\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u3057\u3066 Shared Key Authentication \u3092\u4f7f\u7528\u3059\u308b\u3002\nauth_algs=1\n\n# \u5b8c\u5168\u306a ssid \u3092\u77e5\u3089\u306a\u3044\u5834\u5408\u3067\u3082\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u3002\nignore_broadcast_ssid=0\n\n# wmm \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a2d\u5b9a\u3002\nwmm_enabled=1\nwmm_ac_bk_cwmin=4\nwmm_ac_bk_cwmax=10\nwmm_ac_bk_aifs=7\nwmm_ac_bk_txop_limit=0\nwmm_ac_bk_acm=0\nwmm_ac_be_aifs=3\nwmm_ac_be_cwmin=4\nwmm_ac_be_cwmax=10\nwmm_ac_be_txop_limit=0\nwmm_ac_be_acm=0\nwmm_ac_vi_aifs=2\nwmm_ac_vi_cwmin=3\nwmm_ac_vi_cwmax=4\nwmm_ac_vi_txop_limit=94\nwmm_ac_vi_acm=0\nwmm_ac_vo_aifs=2\nwmm_ac_vo_cwmin=2\nwmm_ac_vo_cwmax=3\nwmm_ac_vo_txop_limit=47\nwmm_ac_vo_acm=0\n\n# \u9001\u4fe1\u5931\u6557\u304c\u983b\u767a\u3059\u308b\u304b\u3001\u4f55\u3089\u304b\u306e\u539f\u56e0\u3067\u63a5\u7d9a\u304c\u5931\u308f\u308c\u308b\u3068\n# \u7aef\u672b\u306e\u63a5\u7d9a\u89e3\u9664\u3092\u5b9f\u884c\u3059\u308b\u3002\ndisassoc_low_ack=1\n\n# HT PHY \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044\u7aef\u672b\u3067\u3082\u63a5\u7d9a\u3092\u8a31\u53ef\u3059\u308b\u3002\nrequire_ht=0\n\neapol_key_index_workaround=0\n\neap_server=0\n\n# \u30a2\u30af\u30bb\u30b9\u30dd\u30a4\u30f3\u30c8\u81ea\u8eab\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092 127.0.0.1 \u3068\u3059\u308b\u3002\nown_ip_addr=127.0.0.1\n\n# WPA2 \u3092\u4f7f\u7528\u3059\u308b\u3002\nwpa=2\n\n# \u63a5\u7d9a\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u3002\nwpa_passphrase=\u4efb\u610f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\n\n# \u9375\u7ba1\u7406\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3068\u3057\u3066 WPA-PSK \u3092\u4f7f\u7528\u3059\u308b\u3002\nwpa_key_mgmt=WPA-PSK\n\n# RSN / WPA2 \u306e\u5171\u6709\u9375\u6697\u53f7\u5316\u65b9\u5f0f\u3068\u3057\u3066 CCMP \u3092\u4f7f\u7528\u3059\u308b\u3002\nrsn_pairwise=CCMP\n```\n\n#\u30b3\u30de\u30f3\u30c9\n##sudo lsmod | grep ath\n\u7121\u7dda LAN \u30c7\u30d0\u30a4\u30b9\u304c ath5k, ath9k \u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n##iw list\n\u7121\u7dda LAN \u30c7\u30d0\u30a4\u30b9\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u6a5f\u80fd\u3092\u8868\u793a\u3059\u308b\u3002\n\n##hostapd -d /etc/hostapd/hostapd.conf\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30c6\u30b9\u30c8\u3059\u308b\u3002\u69cb\u6210\u30a8\u30e9\u30fc\u304c\u3042\u308b\u5834\u5408\u306b\u306f\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u3001\nhostapd \u306e\u5b9f\u884c\u3092\u4e2d\u65ad\u3059\u308b\u3002\n\u30a8\u30e9\u30fc\u304c\u7121\u3044\u5834\u5408\u306f hostapd \u304c\u8d77\u52d5\u3055\u308c\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u30c7\u30d0\u30c3\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n##service hostapd start\nhostapd \u3092\u8d77\u52d5\u3059\u308b\u3002\n\n##service hostapd restart\nhostapd \u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n\n##service isc-dhcp-server restart\nisc-dhcp-server \u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n\n##ufw disable && ufw enable\nufw \u3092\u518d\u8d77\u52d5\u3059\u308b\u3002\n", "tags": ["Linux", "hostapd", "isc-dhcp-server", "iw", "ufw"]}