{"context": "\u4ee5\u4e0b\u306e\u74b0\u5883\u69cb\u7bc9\u3092\u3059\u3070\u3084\u304f\u3067\u304d\u308bDocker\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u4f5c\u6210\u3059\u308b\u70ba\u306e\u30e1\u30e2\u3002\n\nApache 2.2\u7cfb\nPHP 5.5\u7cfb\nMySQL 5.6\u7cfb\nphpMyAdmin\n\n\n\u7528\u610f\u3059\u308b\u3082\u306e\n\ndocker\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u74b0\u5883(\u672c\u624b\u9806\u3067\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.8)\nDockerfile\nhttpd.conf (\u521d\u671f\u8a2d\u5b9a\u3067\u826f\u3051\u308c\u3070\u7121\u304f\u3066\u3082OK)\nmy.cnf (\u521d\u671f\u8a2d\u5b9a\u3067\u826f\u3051\u308c\u3070\u7121\u304f\u3066\u3082OK)\nsupervisord.conf\n\n\nDockerfile\n\nDockerfile\nFROM centos:centos6\n\nRUN sed -i '/^ZONE/d' /etc/sysconfig/clock\nRUN sed -i '/^UTC/d' /etc/sysconfig/clock\nRUN echo 'ZONE=\"Asia/Tokyo\"' >> /etc/sysconfig/clock\nRUN echo 'UTC=\"false\"' >> /etc/sysconfig/clock\nRUN cp -p /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n\nRUN yum -y update\n\nRUN yum -y groupinstall \"Japanese Support\"\nRUN localedef -f UTF-8 -i ja_JP ja_JP.utf8\nRUN echo 'LANG=\"ja_JP.UTF-8\"' > /etc/sysconfig/i18n\n\nRUN yum -y install python-setuptools\nRUN easy_install supervisor\n\nRUN yum install -y http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm\nRUN yum install -y mysql mysql-server mysql-devel\n\nRUN rpm -ivh http://ftp.riken.jp/Linux/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm\nRUN rpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\nRUN yum install -y httpd httpd-devel\nRUN yum install -y --enablerepo=remi,remi-php55 phpMyAdmin\nRUN yum install -y --enablerepo=epel libmcrypt\nRUN yum install -y --enablerepo=remi,remi-php55 php php-devel php-pear php-mbstring php-xml php-mcrypt php-gd php-pecl-xdebug php-opcache php-pecl-apcu php-fpm php-phpunit-PHPUnit php-mysqlnd\n\nRUN rm -f /etc/httpd/conf.d/welcome.conf\nRUN rm -f /var/www/error/noindex.html\nADD httpd.conf /etc/httpd/conf/httpd.conf\n\nADD my.cnf /etc/my.cnf\n\nADD supervisord.conf /etc/supervisord.conf\n\nEXPOSE 3306 80\nCMD [\"/usr/bin/supervisord\"]\n\n\n\nhttpd.conf\n\u826f\u3055\u6c17\u306a\u3082\u306e\u3092\u7528\u610f\n\nmy.cnf\n\u826f\u3055\u6c17\u306a\u3082\u306e\u3092\u7528\u610f\n\nsupervisord.conf\n\nsupervisord.conf\n[supervisord]\nnodaemon=true\n\n[program:mysqld]\ncommand=/sbin/service mysqld start\n\n[program:httpd]\ncommand=/sbin/service httpd start\n\n\n\n\u30d3\u30eb\u30c9\nlamp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7528\u610f\u3057\u305f\u3082\u306e\u3092\u5168\u3066\u5165\u308c\u305f\u3068\u3059\u308b\u3002\n$ cd lamp\n$ sudo docker build -t lamp .\n\n\n\u8d77\u52d5\n$ sudo docker run -d -p 80:80 lamp\n\n\n\u958b\u767a\u6642\u306b\u4fbf\u5229\u306a\u521d\u671f\u8a2d\u5b9a\n\u30b3\u30f3\u30c6\u30ca\u30fc\u306bbash\u3067\u5165\u308b\u3002\n$ sudo docker exec -it [\u30b3\u30f3\u30c6\u30ca\u30fc\u540d] bash\n\n\u3068\u308a\u3042\u3048\u305a\u958b\u767a\u30c4\u30fc\u30eb\u3092\u5165\u308c\u3066\u304a\u304f\u3002\n$ yum -y group install \"Development tools\"\n\n\u30d3\u30eb\u30c9\u6642\u306b\u5165\u308c\u3066\u306a\u3044\u306e\u306f\u3001image\u306e\u5bb9\u91cf\u304c\u5927\u304d\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3002\u3002\u3002\n\ngit\u306b\u7528\u610f\u3057\u305f\n\u300c\u5fc5\u8981\u306a\u3082\u306e\u300d\u9805\u76ee\u306b\u8a72\u5f53\u3059\u308b\u3082\u306e\u3092git\u306b\u7528\u610f\u3057\u305f\u3002\nclone\u3059\u308c\u3070\u3069\u306e\u74b0\u5883\u3067\u3082\u547c\u3073\u51fa\u305b\u308b\uff01\nhttps://github.com/chimao222/docker-lamp\n\u4ee5\u4e0b\u306e\u74b0\u5883\u69cb\u7bc9\u3092\u3059\u3070\u3084\u304f\u3067\u304d\u308bDocker\u30b3\u30f3\u30c6\u30ca\u30fc\u3092\u4f5c\u6210\u3059\u308b\u70ba\u306e\u30e1\u30e2\u3002\n\n* Apache 2.2\u7cfb\n* PHP 5.5\u7cfb\n* MySQL 5.6\u7cfb\n* phpMyAdmin\n\n# \u7528\u610f\u3059\u308b\u3082\u306e\n\n* docker\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u74b0\u5883(\u672c\u624b\u9806\u3067\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.8)\n* Dockerfile\n* httpd.conf (\u521d\u671f\u8a2d\u5b9a\u3067\u826f\u3051\u308c\u3070\u7121\u304f\u3066\u3082OK)\n* my.cnf (\u521d\u671f\u8a2d\u5b9a\u3067\u826f\u3051\u308c\u3070\u7121\u304f\u3066\u3082OK)\n* supervisord.conf\n\n## Dockerfile\n\n```bash:Dockerfile\nFROM centos:centos6\n\nRUN sed -i '/^ZONE/d' /etc/sysconfig/clock\nRUN sed -i '/^UTC/d' /etc/sysconfig/clock\nRUN echo 'ZONE=\"Asia/Tokyo\"' >> /etc/sysconfig/clock\nRUN echo 'UTC=\"false\"' >> /etc/sysconfig/clock\nRUN cp -p /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n\nRUN yum -y update\n\nRUN yum -y groupinstall \"Japanese Support\"\nRUN localedef -f UTF-8 -i ja_JP ja_JP.utf8\nRUN echo 'LANG=\"ja_JP.UTF-8\"' > /etc/sysconfig/i18n\n\nRUN yum -y install python-setuptools\nRUN easy_install supervisor\n\nRUN yum install -y http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm\nRUN yum install -y mysql mysql-server mysql-devel\n\nRUN rpm -ivh http://ftp.riken.jp/Linux/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm\nRUN rpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\nRUN yum install -y httpd httpd-devel\nRUN yum install -y --enablerepo=remi,remi-php55 phpMyAdmin\nRUN yum install -y --enablerepo=epel libmcrypt\nRUN yum install -y --enablerepo=remi,remi-php55 php php-devel php-pear php-mbstring php-xml php-mcrypt php-gd php-pecl-xdebug php-opcache php-pecl-apcu php-fpm php-phpunit-PHPUnit php-mysqlnd\n\nRUN rm -f /etc/httpd/conf.d/welcome.conf\nRUN rm -f /var/www/error/noindex.html\nADD httpd.conf /etc/httpd/conf/httpd.conf\n\nADD my.cnf /etc/my.cnf\n\nADD supervisord.conf /etc/supervisord.conf\n\nEXPOSE 3306 80\nCMD [\"/usr/bin/supervisord\"]\n```\n\n## httpd.conf\n\n\u826f\u3055\u6c17\u306a\u3082\u306e\u3092\u7528\u610f\n\n## my.cnf\n\n\u826f\u3055\u6c17\u306a\u3082\u306e\u3092\u7528\u610f\n\n## supervisord.conf\n\n```bash:supervisord.conf\n[supervisord]\nnodaemon=true\n\n[program:mysqld]\ncommand=/sbin/service mysqld start\n\n[program:httpd]\ncommand=/sbin/service httpd start\n```\n\n# \u30d3\u30eb\u30c9\n\nlamp\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7528\u610f\u3057\u305f\u3082\u306e\u3092\u5168\u3066\u5165\u308c\u305f\u3068\u3059\u308b\u3002\n\n```bash\n$ cd lamp\n$ sudo docker build -t lamp .\n```\n\n# \u8d77\u52d5\n\n```bash\n$ sudo docker run -d -p 80:80 lamp\n```\n\n## \u958b\u767a\u6642\u306b\u4fbf\u5229\u306a\u521d\u671f\u8a2d\u5b9a\n\n\u30b3\u30f3\u30c6\u30ca\u30fc\u306bbash\u3067\u5165\u308b\u3002\n\n```bash\n$ sudo docker exec -it [\u30b3\u30f3\u30c6\u30ca\u30fc\u540d] bash\n```\n\n\u3068\u308a\u3042\u3048\u305a\u958b\u767a\u30c4\u30fc\u30eb\u3092\u5165\u308c\u3066\u304a\u304f\u3002\n\n```bash\n$ yum -y group install \"Development tools\"\n```\n\n\u30d3\u30eb\u30c9\u6642\u306b\u5165\u308c\u3066\u306a\u3044\u306e\u306f\u3001image\u306e\u5bb9\u91cf\u304c\u5927\u304d\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3002\u3002\u3002\n\n# git\u306b\u7528\u610f\u3057\u305f\n\n\u300c\u5fc5\u8981\u306a\u3082\u306e\u300d\u9805\u76ee\u306b\u8a72\u5f53\u3059\u308b\u3082\u306e\u3092git\u306b\u7528\u610f\u3057\u305f\u3002\nclone\u3059\u308c\u3070\u3069\u306e\u74b0\u5883\u3067\u3082\u547c\u3073\u51fa\u305b\u308b\uff01\n\nhttps://github.com/chimao222/docker-lamp\n", "tags": ["docker", "dockerfile"]}