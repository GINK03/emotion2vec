{"context": " More than 1 year has passed since last update.\n\n \u4f55\u3092\u3059\u308b\u306e\uff1f\nJupyter\u306f\u300150\u4ee5\u4e0a\u306e\u8a00\u8a9e\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059(IPython kernels for other languages)\u3002\n\u65b0\u3057\u3044\u8a00\u8a9e\u306b\u5bfe\u5fdc\u3055\u305b\u308b\u3053\u3068\u3082\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002(\u53c2\u8003\uff1aMaking kernels for Jupyter)\n\u3053\u3053\u3067\u306f\u3001\u4f8b\u3068\u3057\u3066\u3001KeyValue\u3068\u3044\u3046Jupyter\u306e\u65b0\u3057\u3044kernel\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n \u4f5c\u308b\u3082\u306e\n\u5358\u7d14\u306b\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u3092\u7ba1\u7406\u3059\u308b\u3082\u306e\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n\n\n\u30b3\u30de\u30f3\u30c9\n\u8aac\u660e\n\n\n\n\n?\n\u30ad\u30fc\u4e00\u89a7\u306e\u8868\u793a\n\n\n\u30ad\u30fc\n\u30ad\u30fc\u306b\u5bfe\u5fdc\u3059\u308b\u5024\u3092\u8868\u793a\n\n\n\u30ad\u30fc \u5024\n\u30ad\u30fc\u306b\u5bfe\u5fdc\u3059\u308b\u5024\u3092\u8a2d\u5b9a\n\n\n\n\n \u5b9f\u88c5\n2\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6240\u5b9a\u306e\u4f4d\u7f6e\u306b\u7f6e\u304f\u3060\u3051\u3067\u3059\u3002\n\nJSON\u30d5\u30a1\u30a4\u30eb\n\u4e0b\u8a18\u306eJSON\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u4f5c\u6210\u5834\u6240\u306f\u3001Kernel specs\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n(\"argv\"\u306e\"python3\"\u304c\u306a\u3044\u5834\u5408\u3001\"python\"\u306b\u5909\u3048\u3066\u304f\u3060\u3055\u3044\u3002)\n\nkeyvalue/kernel.json\n{\"argv\":[\"python3\",\"-m\",\"keyvaluekernel\", \"-f\", \"{connection_file}\"],\n \"display_name\":\"KeyValue\"\n}\n\n\n\nPython\u30d5\u30a1\u30a4\u30eb\n\u4e0b\u8a18\u306epython\u30d5\u30a1\u30a4\u30eb\u3092python\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306e\u914d\u4e0b\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nkeyvaluekernel.py\nfrom ipykernel.kernelbase import Kernel\n\nclass KeyValue(Kernel):\n    implementation = 'KeyValue'\n    implementation_version = '0.1'\n    language = 'no-op'\n    language_version = '0.1'\n    language_info = {'name': 'KeyValue', 'mimetype': 'text/plain'}\n    banner = 'Dictionry of Key, Value'\n    _d = {}\n    def do_execute(self, code, silent, store_history=True,\n             user_expressions=None, allow_stdin=False):\n        s = code.strip()\n        if not silent:\n            if s.startswith('?'):\n                c = {'name': 'stdout', 'text': ' '.join(KeyValue._d.keys())}\n            else:\n                ss = s.split(maxsplit=1)\n                if len(ss) == 1:\n                    if s in KeyValue._d:\n                        c = {'name': 'stdout', 'text': KeyValue._d[s]}\n                    else:\n                        c = {'name': 'stderr', 'text': 'Not found'}\n                else:\n                    KeyValue._d[ss[0]] = ss[1]\n                    c = {'name': 'stdout', 'text': ss[1]}\n            self.send_response(self.iopub_socket, 'stream', c)\n        return {'status': 'ok',\n                'execution_count': self.execution_count,\n                'payload': [],\n                'user_expressions': {},\n               }\n    def do_complete(self, code, cursor_pos):\n        s = code[:cursor_pos]\n        return {'status': 'ok', 'matches': [k for k in KeyValue._d if k.startswith(s)],\n                'cursor_start': cursor_pos, 'cursor_end': -1, 'metadata': {}}\n\nif __name__ == '__main__':\n    from ipykernel.kernelapp import IPKernelApp\n    IPKernelApp.launch_instance(kernel_class=KeyValue)\n\n\ndo_execute\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u3092\u8a08\u7b97\u3057\u8fd4\u3057\u307e\u3059\u3002\ndo_complete\u306f\u3001\u30bf\u30d6\u3092\u62bc\u3057\u305f\u3068\u304d\u306e\u88dc\u5b8c\u3059\u308b\u5185\u5bb9\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n\n\nOS\n\u4f5c\u6210\u5834\u6240\u306e\u4f8b\n\n\n\n\nWindows\nC:\\Anaconda3\\Lib\\site-packages\n\n\nUbuntu\n/usr/local/lib/python3.4/dist-packages\n\n\n\n\n \u8a66\u3057\u3066\u307f\u308b\n\n\"jupyter notebook\"\u3067\u8d77\u52d5\u3057\u3001[New]\u304b\u3089[KeyValue]\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002\n\"key1 value1\"\u3068\u3044\u308c\u3066\u5b9f\u884c(Shift+Enter)\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\"key1\"\u3068\u3044\u308c\u3066\u5b9f\u884c\u3059\u308b\u3068\"value1\"\u3068\u51fa\u307e\u3059\u3002\n\"key2 value2\"\u3068\u3044\u308c\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\"?\"\u3068\u5b9f\u884c\u3059\u308b\u3068\u30ad\u30fc\u4e00\u89a7\u304c\u51fa\u307e\u3059\u3002\n\"k\"\u307e\u3067\u5165\u529b\u3057\u3066[Tab]\u3092\u62bc\u3059\u3068\u3001\u5019\u88dc\u304c\u3067\u307e\u3059\u3002\n\n\n\nDocker\u30a4\u30e1\u30fc\u30b8\n\u7c21\u5358\u306b\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u3001docker\u30a4\u30e1\u30fc\u30b8(tsutomu7/keyvalue)\u3092\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\nubuntu\ndocker run -it --rm tsutomu7/keyvalue\n\n\n\u4e0a\u8a18\u5b9f\u884c\u5f8c\u3001\"http://\u30db\u30b9\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9:8888\"(\u4f8b\u3048\u3070\u3001\"http://172.17.0.2:8888\" )\u3092\u958b\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n# <i class='fa fa-paw' /> \u4f55\u3092\u3059\u308b\u306e\uff1f\n[Jupyter](http://jupyter.org/)\u306f\u300150\u4ee5\u4e0a\u306e\u8a00\u8a9e\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059([IPython kernels for other languages](https://github.com/ipython/ipython/wiki/IPython-kernels-for-other-languages))\u3002\n\u65b0\u3057\u3044\u8a00\u8a9e\u306b\u5bfe\u5fdc\u3055\u305b\u308b\u3053\u3068\u3082\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002(\u53c2\u8003\uff1a[Making kernels for Jupyter](https://jupyter-client.readthedocs.org/en/latest/kernels.html))\n\u3053\u3053\u3067\u306f\u3001\u4f8b\u3068\u3057\u3066\u3001KeyValue\u3068\u3044\u3046Jupyter\u306e\u65b0\u3057\u3044kernel\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n# <i class='fa fa-paw' /> \u4f5c\u308b\u3082\u306e\n\u5358\u7d14\u306b\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u3092\u7ba1\u7406\u3059\u308b\u3082\u306e\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9|\u8aac\u660e\n:--|:--\n?|\u30ad\u30fc\u4e00\u89a7\u306e\u8868\u793a\n\u30ad\u30fc|\u30ad\u30fc\u306b\u5bfe\u5fdc\u3059\u308b\u5024\u3092\u8868\u793a\n\u30ad\u30fc \u5024|\u30ad\u30fc\u306b\u5bfe\u5fdc\u3059\u308b\u5024\u3092\u8a2d\u5b9a\n\n# <i class='fa fa-paw' /> \u5b9f\u88c5\n2\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6240\u5b9a\u306e\u4f4d\u7f6e\u306b\u7f6e\u304f\u3060\u3051\u3067\u3059\u3002\n\n## JSON\u30d5\u30a1\u30a4\u30eb\n\u4e0b\u8a18\u306eJSON\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u4f5c\u6210\u5834\u6240\u306f\u3001[Kernel specs](https://jupyter-client.readthedocs.org/en/latest/kernels.html#kernel-specs)\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n(\"argv\"\u306e\"python3\"\u304c\u306a\u3044\u5834\u5408\u3001\"python\"\u306b\u5909\u3048\u3066\u304f\u3060\u3055\u3044\u3002)\n\n```json:keyvalue/kernel.json\n{\"argv\":[\"python3\",\"-m\",\"keyvaluekernel\", \"-f\", \"{connection_file}\"],\n \"display_name\":\"KeyValue\"\n}\n```\n\n## Python\u30d5\u30a1\u30a4\u30eb\n\u4e0b\u8a18\u306epython\u30d5\u30a1\u30a4\u30eb\u3092python\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u306e\u914d\u4e0b\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```py3:keyvaluekernel.py\nfrom ipykernel.kernelbase import Kernel\n\nclass KeyValue(Kernel):\n    implementation = 'KeyValue'\n    implementation_version = '0.1'\n    language = 'no-op'\n    language_version = '0.1'\n    language_info = {'name': 'KeyValue', 'mimetype': 'text/plain'}\n    banner = 'Dictionry of Key, Value'\n    _d = {}\n    def do_execute(self, code, silent, store_history=True,\n             user_expressions=None, allow_stdin=False):\n        s = code.strip()\n        if not silent:\n            if s.startswith('?'):\n                c = {'name': 'stdout', 'text': ' '.join(KeyValue._d.keys())}\n            else:\n                ss = s.split(maxsplit=1)\n                if len(ss) == 1:\n                    if s in KeyValue._d:\n                        c = {'name': 'stdout', 'text': KeyValue._d[s]}\n                    else:\n                        c = {'name': 'stderr', 'text': 'Not found'}\n                else:\n                    KeyValue._d[ss[0]] = ss[1]\n                    c = {'name': 'stdout', 'text': ss[1]}\n            self.send_response(self.iopub_socket, 'stream', c)\n        return {'status': 'ok',\n                'execution_count': self.execution_count,\n                'payload': [],\n                'user_expressions': {},\n               }\n    def do_complete(self, code, cursor_pos):\n        s = code[:cursor_pos]\n        return {'status': 'ok', 'matches': [k for k in KeyValue._d if k.startswith(s)],\n                'cursor_start': cursor_pos, 'cursor_end': -1, 'metadata': {}}\n\nif __name__ == '__main__':\n    from ipykernel.kernelapp import IPKernelApp\n    IPKernelApp.launch_instance(kernel_class=KeyValue)\n```\n\ndo_execute\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u3092\u8a08\u7b97\u3057\u8fd4\u3057\u307e\u3059\u3002\ndo_complete\u306f\u3001\u30bf\u30d6\u3092\u62bc\u3057\u305f\u3068\u304d\u306e\u88dc\u5b8c\u3059\u308b\u5185\u5bb9\u3092\u8fd4\u3057\u307e\u3059\u3002\n\nOS|\u4f5c\u6210\u5834\u6240\u306e\u4f8b\n:--|:--\nWindows|C:\\Anaconda3\\Lib\\site-packages\nUbuntu|/usr/local/lib/python3.4/dist-packages\n\n# <i class='fa fa-paw' /> \u8a66\u3057\u3066\u307f\u308b\n- \"jupyter notebook\"\u3067\u8d77\u52d5\u3057\u3001[New]\u304b\u3089[KeyValue]\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002\n- \"key1 value1\"\u3068\u3044\u308c\u3066\u5b9f\u884c(Shift+Enter)\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- \"key1\"\u3068\u3044\u308c\u3066\u5b9f\u884c\u3059\u308b\u3068\"value1\"\u3068\u51fa\u307e\u3059\u3002\n- \"key2 value2\"\u3068\u3044\u308c\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- \"?\"\u3068\u5b9f\u884c\u3059\u308b\u3068\u30ad\u30fc\u4e00\u89a7\u304c\u51fa\u307e\u3059\u3002\n- \"k\"\u307e\u3067\u5165\u529b\u3057\u3066[Tab]\u3092\u62bc\u3059\u3068\u3001\u5019\u88dc\u304c\u3067\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/13955/b6640f69-e806-47a9-158a-2bafdd2dca80.png)\n\n## Docker\u30a4\u30e1\u30fc\u30b8\n\u7c21\u5358\u306b\u78ba\u8a8d\u3067\u304d\u308b\u3088\u3046\u306b\u3001docker\u30a4\u30e1\u30fc\u30b8([tsutomu7/keyvalue](https://hub.docker.com/r/tsutomu7/keyvalue/))\u3092\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n```:ubuntu\ndocker run -it --rm tsutomu7/keyvalue\n```\n\n\u4e0a\u8a18\u5b9f\u884c\u5f8c\u3001\"http://\u30db\u30b9\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9:8888\"(\u4f8b\u3048\u3070\u3001\"http://172.17.0.2:8888\" )\u3092\u958b\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n", "tags": ["Jupyter", "docker", "Python"]}