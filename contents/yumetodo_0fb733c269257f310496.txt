{"context": "\u6b21\u306e\u30b3\u30fc\u30c9\u306f\u8a00\u3046\u307e\u3067\u3082\u306a\u304f\u9055\u6cd5\u306aC++11\u306e\u30b3\u30fc\u30c9\u3067\u3042\u308b\u3002\n#include <iostream>\nenum class E : int {\n    arikitari = 0,\n    toha = 1,\n    nanndarouka = 2\n};\nstatic const char* strings[] = { \"arikitari\", \"toha\", \"nanndarouka\" };\nint main(){\n    std::cout\n        << strings[E::arikitari] << std::endl\n        << strings[E::toha] << std::endl\n        << strings[E::nanndarouka] << std::endl;\n    return 0;\n}\n\nenum class\u306fintegral promotion\u3057\u306a\u3044\u3069\u3053\u308d\u304b\u305d\u3082\u305d\u3082\u6697\u9ed9\u306e\u578b\u5909\u63db\u3057\u306a\u3044\u3002\n\nGCC\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\nprog.cc: In function 'int main()':\nprog.cc:10:32: error: array subscript is not an integer\n         << strings[E::arikitari] << std::endl\n                                ^\nprog.cc:11:27: error: array subscript is not an integer\n         << strings[E::toha] << std::endl\n                           ^\nprog.cc:12:34: error: array subscript is not an integer\n         << strings[E::nanndarouka] << std::endl;\n\nhttp://melpon.org/wandbox/permlink/HWUkcCJfEJv1zW0A\n\u305d\u308a\u3083\u305d\u30fc\u3060\u3002\n\nClang\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\nprog.cc:10:19: error: array subscript is not an integer\n        << strings[E::arikitari] << std::endl\n                  ^~~~~~~~~~~~~\nprog.cc:11:19: error: array subscript is not an integer\n        << strings[E::toha] << std::endl\n                  ^~~~~~~~\nprog.cc:12:19: error: array subscript is not an integer\n        << strings[E::nanndarouka] << std::endl;\n                  ^~~~~~~~~~~~~~~\n3 errors generated.\n\nhttp://melpon.org/wandbox/permlink/hwVwMm3cmuCOic57\n\u5168\u304f\u540c\u3058\u30a8\u30e9\u30fc\u3060\u3002\n\nVS\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\nsource.cpp(10): error C2677: \u4e8c\u9805\u6f14\u7b97\u5b50 '[' : \u578b 'E' \u3092\u6271\u3046\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u6f14\u7b97\u5b50\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093 (\u307e\u305f\u306f\u5909\u63db\u3067\u304d\u307e\u305b\u3093) (\u65b0\u3057\u3044\u52d5\u4f5c; \u30d8\u30eb\u30d7\u3092\u53c2\u7167)\u3002\nsource.cpp(11): error C2677: \u4e8c\u9805\u6f14\u7b97\u5b50 '[' : \u578b 'E' \u3092\u6271\u3046\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u6f14\u7b97\u5b50\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093 (\u307e\u305f\u306f\u5909\u63db\u3067\u304d\u307e\u305b\u3093) (\u65b0\u3057\u3044\u52d5\u4f5c; \u30d8\u30eb\u30d7\u3092\u53c2\u7167)\u3002\nsource.cpp(12): error C2677: \u4e8c\u9805\u6f14\u7b97\u5b50 '[' : \u578b 'E' \u3092\u6271\u3046\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u6f14\u7b97\u5b50\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093 (\u307e\u305f\u306f\u5909\u63db\u3067\u304d\u307e\u305b\u3093) (\u65b0\u3057\u3044\u52d5\u4f5c; \u30d8\u30eb\u30d7\u3092\u53c2\u7167)\u3002\n\n\u306f\uff1foperator [\u3063\u3066\u306a\u3093\u305e\uff01\uff1f\n\u78ba\u304b\u306bC++\u306e\u4ed6\u306e\u4e8c\u9805\u6f14\u7b97\u5b50\u306f\u3059\u3079\u3066\u30aa\u30da\u30e9\u30f3\u30c9\u306e\u9593\u306b\u3042\u308b\u3051\u3069\u3001operator []\u3060\u3051\u306f\u4f8b\u5916\u3060\u304b\u3089\u3001\u89e3\u6790\u306e\u6bb5\u968e\u3067\u7279\u5225\u6271\u3044\u3057\u3066\u305d\u3046\u306a\u3082\u306e\u306a\u306e\u306b\u3001\u306a\u3093\u3067\u3053\u3093\u306a\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3060\u308d\u3046\u304b\u3002\n\u3061\u306a\u307f\u306bVS2013 update5\u3068VS2015 update3\u3067\u5168\u304f\u540c\u3058\u30a8\u30e9\u30fc\u5410\u304d\u307e\u3059\u3002\n\n\u3053\u308c\u306f\u30d0\u30b0\u304b\uff1f\n\u3067\u3001\u3053\u308c\u306f\u30d0\u30b0\u30ec\u30dd\u3092\u6295\u3052\u308b\u3079\u304d\u306a\u3093\u3060\u308d\u3046\u304b\uff1f\n\n\u7d4c\u7def\n\nC++\u300c\u3046\u3061\u3082\u305d\u3046\u3084\u3067\u300d https://t.co/bybbE6H0TY\u2014 yumetodo-C++er\u3060\u3051\u3069\u5316\u5b66\u79d1 (@yumetodo) 2016\u5e748\u67082\u65e5\n\n\n@yumetodo \u3048\u3001enum\u3067\u30ad\u30e3\u30b9\u30c8\u3057\u305f\u8a18\u61b6\u304c\u306a\u3044\u306e\u3067\u3059\u304c\u2026\u2026\u2014 YSR@WPF\u5206\u304b\u308a\u307e\u305b\u3093 (@YSRKEN) 2016\u5e748\u67082\u65e5\n\n\n@YSRKEN \u3048\u3063\u3002https://t.co/gEWU6Bclph\u2014 yumetodo-C++er\u3060\u3051\u3069\u5316\u5b66\u79d1 (@yumetodo) 2016\u5e748\u67082\u65e5\n\n\n@yumetodo VS\u3060\u3068\u300cerror C2677: \u4e8c\u9805\u6f14\u7b97\u5b50 '[' : \u578b 'E' \u3092\u6271\u3046\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u6f14\u7b97\u5b50\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093 (\u307e\u305f\u306f\u5909\u63db\u3067\u304d\u307e\u305b\u3093)\u300d\u2026\u2026\u2014 YSR@WPF\u5206\u304b\u308a\u307e\u305b\u3093 (@YSRKEN) 2016\u5e748\u67082\u65e5\n\n\n@yumetodo \u3068\u308a\u3042\u3048\u305a\u3001\u300cE::\u30ca\u30f3\u30c8\u30ab\u300d\u3068\u3044\u3046\u5909\u6570\u306f\u3001\u76f4\u63a5[]\u306e\u5f15\u6570\u306a\u3069\u306b\u306f\u4f7f\u3048\u306a\u3044\u3082\u306e\u306e\u3001\u300cint\u3078\u306e\u6697\u9ed9\u306e\u578b\u5909\u63db\u300d\u306f\u3067\u304d\u305a(\u660e\u78ba\u306bstatic_cast\u3059\u308c\u3070\u30bb\u30fc\u30d5)\u3001\u5148\u306ewandbox\u3067\u3082E::\u306e\u624b\u524d\u306b(int)\u306a\u3069\u4ed8\u3051\u3066\u30ad\u30e3\u30b9\u30c8\u3059\u308c\u3070\u30bb\u30fc\u30d5\u3067\u3057\u305f\u2014 YSR@WPF\u5206\u304b\u308a\u307e\u305b\u3093 (@YSRKEN) 2016\u5e748\u67082\u65e5\n\n\n@yumetodo \u8981\u3059\u308b\u306b\u3001VS\u7684\u306b\u306f\u300cenum class\u306a\u3093\u3060\u304b\u3089\u305d\u306e\u307e\u307e\u5f15\u6570\u306a\u306f\u305a\u304c\u306a\u3044\u2026\u2026\u30cf\u30c3\uff01\u624b\u524d\u306e'['\u304c\u30ad\u30e3\u30b9\u30c8\u7528\u306e\u578b\u3067\u306f\uff01\uff1f\u300d\u3068\u3044\u3063\u305f\u89e3\u91c8\u3092\u3057\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u308f\u308c\u307e\u3059\u2014 YSR@WPF\u5206\u304b\u308a\u307e\u305b\u3093 (@YSRKEN) 2016\u5e748\u67082\u65e5\n\n\u6b21\u306e\u30b3\u30fc\u30c9\u306f\u8a00\u3046\u307e\u3067\u3082\u306a\u304f\u9055\u6cd5\u306aC++11\u306e\u30b3\u30fc\u30c9\u3067\u3042\u308b\u3002\n\n```cpp\n#include <iostream>\nenum class E : int {\n    arikitari = 0,\n    toha = 1,\n    nanndarouka = 2\n};\nstatic const char* strings[] = { \"arikitari\", \"toha\", \"nanndarouka\" };\nint main(){\n    std::cout\n        << strings[E::arikitari] << std::endl\n        << strings[E::toha] << std::endl\n        << strings[E::nanndarouka] << std::endl;\n    return 0;\n}\n```\n\nenum class\u306fintegral promotion\u3057\u306a\u3044\u3069\u3053\u308d\u304b\u305d\u3082\u305d\u3082\u6697\u9ed9\u306e\u578b\u5909\u63db\u3057\u306a\u3044\u3002\n\n# GCC\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n\n```\nprog.cc: In function 'int main()':\nprog.cc:10:32: error: array subscript is not an integer\n         << strings[E::arikitari] << std::endl\n                                ^\nprog.cc:11:27: error: array subscript is not an integer\n         << strings[E::toha] << std::endl\n                           ^\nprog.cc:12:34: error: array subscript is not an integer\n         << strings[E::nanndarouka] << std::endl;\n```\n\nhttp://melpon.org/wandbox/permlink/HWUkcCJfEJv1zW0A\n\n\u305d\u308a\u3083\u305d\u30fc\u3060\u3002\n\n# Clang\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n\n```\nprog.cc:10:19: error: array subscript is not an integer\n        << strings[E::arikitari] << std::endl\n                  ^~~~~~~~~~~~~\nprog.cc:11:19: error: array subscript is not an integer\n        << strings[E::toha] << std::endl\n                  ^~~~~~~~\nprog.cc:12:19: error: array subscript is not an integer\n        << strings[E::nanndarouka] << std::endl;\n                  ^~~~~~~~~~~~~~~\n3 errors generated.\n```\n\nhttp://melpon.org/wandbox/permlink/hwVwMm3cmuCOic57\n\n\u5168\u304f\u540c\u3058\u30a8\u30e9\u30fc\u3060\u3002\n\n# VS\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\n\n```\nsource.cpp(10): error C2677: \u4e8c\u9805\u6f14\u7b97\u5b50 '[' : \u578b 'E' \u3092\u6271\u3046\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u6f14\u7b97\u5b50\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093 (\u307e\u305f\u306f\u5909\u63db\u3067\u304d\u307e\u305b\u3093) (\u65b0\u3057\u3044\u52d5\u4f5c; \u30d8\u30eb\u30d7\u3092\u53c2\u7167)\u3002\nsource.cpp(11): error C2677: \u4e8c\u9805\u6f14\u7b97\u5b50 '[' : \u578b 'E' \u3092\u6271\u3046\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u6f14\u7b97\u5b50\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093 (\u307e\u305f\u306f\u5909\u63db\u3067\u304d\u307e\u305b\u3093) (\u65b0\u3057\u3044\u52d5\u4f5c; \u30d8\u30eb\u30d7\u3092\u53c2\u7167)\u3002\nsource.cpp(12): error C2677: \u4e8c\u9805\u6f14\u7b97\u5b50 '[' : \u578b 'E' \u3092\u6271\u3046\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u6f14\u7b97\u5b50\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093 (\u307e\u305f\u306f\u5909\u63db\u3067\u304d\u307e\u305b\u3093) (\u65b0\u3057\u3044\u52d5\u4f5c; \u30d8\u30eb\u30d7\u3092\u53c2\u7167)\u3002\n```\n\n\u306f\uff1f``operator [``\u3063\u3066\u306a\u3093\u305e\uff01\uff1f\n\n\u78ba\u304b\u306bC++\u306e\u4ed6\u306e\u4e8c\u9805\u6f14\u7b97\u5b50\u306f\u3059\u3079\u3066\u30aa\u30da\u30e9\u30f3\u30c9\u306e\u9593\u306b\u3042\u308b\u3051\u3069\u3001``operator []``\u3060\u3051\u306f\u4f8b\u5916\u3060\u304b\u3089\u3001\u89e3\u6790\u306e\u6bb5\u968e\u3067\u7279\u5225\u6271\u3044\u3057\u3066\u305d\u3046\u306a\u3082\u306e\u306a\u306e\u306b\u3001\u306a\u3093\u3067\u3053\u3093\u306a\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3060\u308d\u3046\u304b\u3002\n\n\u3061\u306a\u307f\u306bVS2013 update5\u3068VS2015 update3\u3067\u5168\u304f\u540c\u3058\u30a8\u30e9\u30fc\u5410\u304d\u307e\u3059\u3002\n\n# \u3053\u308c\u306f\u30d0\u30b0\u304b\uff1f\n\n\u3067\u3001\u3053\u308c\u306f\u30d0\u30b0\u30ec\u30dd\u3092\u6295\u3052\u308b\u3079\u304d\u306a\u3093\u3060\u308d\u3046\u304b\uff1f\n\n# \u7d4c\u7def\n\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">C++\u300c\u3046\u3061\u3082\u305d\u3046\u3084\u3067\u300d <a href=\"https://t.co/bybbE6H0TY\">https://t.co/bybbE6H0TY</a></p>&mdash; yumetodo-C++er\u3060\u3051\u3069\u5316\u5b66\u79d1 (@yumetodo) <a href=\"https://twitter.com/yumetodo/status/760284143460556801\">2016\u5e748\u67082\u65e5</a></blockquote>\n<blockquote class=\"twitter-tweet\" data-conversation=\"none\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://twitter.com/yumetodo\">@yumetodo</a> \u3048\u3001enum\u3067\u30ad\u30e3\u30b9\u30c8\u3057\u305f\u8a18\u61b6\u304c\u306a\u3044\u306e\u3067\u3059\u304c\u2026\u2026</p>&mdash; YSR@WPF\u5206\u304b\u308a\u307e\u305b\u3093 (@YSRKEN) <a href=\"https://twitter.com/YSRKEN/status/760297577191473152\">2016\u5e748\u67082\u65e5</a></blockquote>\n<blockquote class=\"twitter-tweet\" data-conversation=\"none\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://twitter.com/YSRKEN\">@YSRKEN</a> \u3048\u3063\u3002<a href=\"https://t.co/gEWU6Bclph\">https://t.co/gEWU6Bclph</a></p>&mdash; yumetodo-C++er\u3060\u3051\u3069\u5316\u5b66\u79d1 (@yumetodo) <a href=\"https://twitter.com/yumetodo/status/760458220846604289\">2016\u5e748\u67082\u65e5</a></blockquote>\n<blockquote class=\"twitter-tweet\" data-conversation=\"none\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://twitter.com/yumetodo\">@yumetodo</a> VS\u3060\u3068\u300cerror C2677: \u4e8c\u9805\u6f14\u7b97\u5b50 &#39;[&#39; : \u578b &#39;E&#39; \u3092\u6271\u3046\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u6f14\u7b97\u5b50\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093 (\u307e\u305f\u306f\u5909\u63db\u3067\u304d\u307e\u305b\u3093)\u300d\u2026\u2026</p>&mdash; YSR@WPF\u5206\u304b\u308a\u307e\u305b\u3093 (@YSRKEN) <a href=\"https://twitter.com/YSRKEN/status/760459074525814785\">2016\u5e748\u67082\u65e5</a></blockquote>\n<blockquote class=\"twitter-tweet\" data-conversation=\"none\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://twitter.com/yumetodo\">@yumetodo</a> \u3068\u308a\u3042\u3048\u305a\u3001\u300cE::\u30ca\u30f3\u30c8\u30ab\u300d\u3068\u3044\u3046\u5909\u6570\u306f\u3001\u76f4\u63a5[]\u306e\u5f15\u6570\u306a\u3069\u306b\u306f\u4f7f\u3048\u306a\u3044\u3082\u306e\u306e\u3001\u300cint\u3078\u306e\u6697\u9ed9\u306e\u578b\u5909\u63db\u300d\u306f\u3067\u304d\u305a(\u660e\u78ba\u306bstatic_cast\u3059\u308c\u3070\u30bb\u30fc\u30d5)\u3001\u5148\u306ewandbox\u3067\u3082E::\u306e\u624b\u524d\u306b(int)\u306a\u3069\u4ed8\u3051\u3066\u30ad\u30e3\u30b9\u30c8\u3059\u308c\u3070\u30bb\u30fc\u30d5\u3067\u3057\u305f</p>&mdash; YSR@WPF\u5206\u304b\u308a\u307e\u305b\u3093 (@YSRKEN) <a href=\"https://twitter.com/YSRKEN/status/760460446839083008\">2016\u5e748\u67082\u65e5</a></blockquote>\n<blockquote class=\"twitter-tweet\" data-conversation=\"none\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://twitter.com/yumetodo\">@yumetodo</a> \u8981\u3059\u308b\u306b\u3001VS\u7684\u306b\u306f\u300cenum class\u306a\u3093\u3060\u304b\u3089\u305d\u306e\u307e\u307e\u5f15\u6570\u306a\u306f\u305a\u304c\u306a\u3044\u2026\u2026\u30cf\u30c3\uff01\u624b\u524d\u306e&#39;[&#39;\u304c\u30ad\u30e3\u30b9\u30c8\u7528\u306e\u578b\u3067\u306f\uff01\uff1f\u300d\u3068\u3044\u3063\u305f\u89e3\u91c8\u3092\u3057\u3066\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u308f\u308c\u307e\u3059</p>&mdash; YSR@WPF\u5206\u304b\u308a\u307e\u305b\u3093 (@YSRKEN) <a href=\"https://twitter.com/YSRKEN/status/760460654469713920\">2016\u5e748\u67082\u65e5</a></blockquote>\n", "tags": ["C++", "C++11", "VisualStudio", "GCC", "clang"]}