{"context": " More than 1 year has passed since last update.\n\u53c2\u8003\uff1a\nhttp://android.roof-balcony.com/admob/admob-set/\nhttp://kumacoro.blogspot.jp/2012/11/android-sdk-imageview.html\nhttp://techbooster.org/android/ui/13182/\nhttp://ohwhsmm7.blog28.fc2.com/blog-entry-380.html\nhttp://www.cocos2d-x.org/forums/6/topics/13233\nhttp://developer.android.com/reference/android/view/WindowManager.LayoutParams.html\n\n\u30bd\u30fc\u30b9\u306e\u307f\uff08AdMob\u306b\u95a2\u4fc2\u3059\u308b\u3068\u3053\u308d\u3060\u3051\uff09\u3002\n\nAdMob\u306eSDK\u306a\u3069\u306f\u3042\u3089\u304b\u3058\u3081\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3002\n\npublic class MyGame extends Cocos2dxActivity {\n    private WindowManager wm;\n    private AdView adView;\n\n    private static Cocos2dxActivity me = null;\n\n    public static final String AD_APPID = \"xxxxxxxxxxxxxxxx\";  //AdMob\u306eID\n\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        me = this;\n\n        try{\n            adView = new AdView(me.getApplicationContext());\n            adView.setAdUnitId(AD_APPID);\n            adView.setAdSize(AdSize.BANNER);\n\n//          AdRequest adRequest = new AdRequest.Builder().build();  // \u5b9f\u969b\u306b\u30b9\u30c8\u30a2\u306b\u3060\u3059\u3068\u304d\u7528\n            AdRequest adRequest = new AdRequest.Builder()           // For DEBUG\n                .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)        // All emulators\n                //.addTestDevice(\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\")  // \u30c6\u30b9\u30c8\u7528\u5b9f\u6a5f\u306eMD5\u5024\uff08\uff1f\uff09\n                .build();\n            adView.loadAd(adRequest);\n\n            // \u91cd\u306d\u5408\u308f\u305b\u3059\u308bView\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n            WindowManager.LayoutParams layoutParams = new WindowManager.LayoutParams();  \n            layoutParams.gravity = Gravity.TOP | Gravity.CENTER;\n            layoutParams.x       = 0; // \u8868\u793a\u4f4d\u7f6e x  \n            layoutParams.y       = 0; // \u8868\u793a\u4f4d\u7f6e y  \n            layoutParams.width   = WindowManager.LayoutParams.WRAP_CONTENT;\n            layoutParams.height  = WindowManager.LayoutParams.WRAP_CONTENT;\n            layoutParams.type    = WindowManager.LayoutParams.TYPE_TOAST;  // \u30b2\u30fc\u30e0\u753b\u9762\u3088\u308a\u524d\u9762\u306b\u8868\u793a\n            layoutParams.flags   = WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;  // \u81ea\u5206\u4ee5\u5916\u306e\u3068\u3053\u308d\u304c\u30bf\u30c3\u30c1\u3055\u308c\u305f\u3068\u304d\u3001\u80cc\u5f8c\u306e\u30d3\u30e5\u30fc\u306b\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6e21\u3059\u3002\n\n            // WindowManager\u3092\u53d6\u5f97\u3059\u308b\n            wm = (WindowManager) getSystemService(Context.WINDOW_SERVICE);\n            // WindowManager\u306bAdMob\u306e\u30d3\u30e5\u30fc\u3092\u8ffd\u52a0\u3059\u308b\u3002\n            wm.addView(adView, layoutParams);  \n\n        }catch (Exception e) {\n            // \u30a8\u30e9\u30fc\u30ed\u30b0\u3067\u3082\u5410\u3044\u3068\u304f\u3002\n        }\n    }\n\n    @Override\n    public void onPause() {\n      adView.pause();\n      super.onPause();\n    }\n\n    @Override\n    public void onResume() {\n      super.onResume();\n      adView.resume();\n    }\n\n    @Override\n    public void onDestroy() {\n        // \u30b5\u30fc\u30d3\u30b9\u304c\u7834\u68c4\u3055\u308c\u308b\u3068\u304d\u306b\u306f\u91cd\u306d\u5408\u308f\u305b\u3057\u3066\u3044\u305fView\u3092\u524a\u9664\u3059\u308b\n        wm.removeView(adView);\n\n        adView.destroy();\n\n        super.onDestroy();\n    }\n}\n\n\n>\u53c2\u8003\uff1a\n>http://android.roof-balcony.com/admob/admob-set/\n>http://kumacoro.blogspot.jp/2012/11/android-sdk-imageview.html\n>http://techbooster.org/android/ui/13182/\n>http://ohwhsmm7.blog28.fc2.com/blog-entry-380.html\n>http://www.cocos2d-x.org/forums/6/topics/13233\n>http://developer.android.com/reference/android/view/WindowManager.LayoutParams.html\n\n\u30bd\u30fc\u30b9\u306e\u307f\uff08AdMob\u306b\u95a2\u4fc2\u3059\u308b\u3068\u3053\u308d\u3060\u3051\uff09\u3002\n\n>AdMob\u306eSDK\u306a\u3069\u306f\u3042\u3089\u304b\u3058\u3081\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3002\n\n```java:\npublic class MyGame extends Cocos2dxActivity {\n    private WindowManager wm;\n\tprivate AdView adView;\n\n    private static Cocos2dxActivity me = null;\n\n    public static final String AD_APPID = \"xxxxxxxxxxxxxxxx\";  //AdMob\u306eID\n\n    protected void onCreate(Bundle savedInstanceState){\n\t\tsuper.onCreate(savedInstanceState);\n\t\tme = this;\n\t\t\n        try{\n            adView = new AdView(me.getApplicationContext());\n    \t\tadView.setAdUnitId(AD_APPID);\n    \t\tadView.setAdSize(AdSize.BANNER);\n            \n//    \t\tAdRequest adRequest = new AdRequest.Builder().build();  // \u5b9f\u969b\u306b\u30b9\u30c8\u30a2\u306b\u3060\u3059\u3068\u304d\u7528\n    \t\tAdRequest adRequest = new AdRequest.Builder()           // For DEBUG\n    \t\t\t.addTestDevice(AdRequest.DEVICE_ID_EMULATOR)        // All emulators\n    \t\t\t//.addTestDevice(\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\")  // \u30c6\u30b9\u30c8\u7528\u5b9f\u6a5f\u306eMD5\u5024\uff08\uff1f\uff09\n    \t\t\t.build();\n    \t\tadView.loadAd(adRequest);\n\n    \t\t// \u91cd\u306d\u5408\u308f\u305b\u3059\u308bView\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n    \t    WindowManager.LayoutParams layoutParams = new WindowManager.LayoutParams();  \n    \t    layoutParams.gravity = Gravity.TOP | Gravity.CENTER;\n    \t    layoutParams.x       = 0; // \u8868\u793a\u4f4d\u7f6e x  \n    \t    layoutParams.y       = 0; // \u8868\u793a\u4f4d\u7f6e y  \n    \t    layoutParams.width   = WindowManager.LayoutParams.WRAP_CONTENT;\n    \t    layoutParams.height  = WindowManager.LayoutParams.WRAP_CONTENT;\n    \t    layoutParams.type    = WindowManager.LayoutParams.TYPE_TOAST;  // \u30b2\u30fc\u30e0\u753b\u9762\u3088\u308a\u524d\u9762\u306b\u8868\u793a\n    \t    layoutParams.flags   = WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;  // \u81ea\u5206\u4ee5\u5916\u306e\u3068\u3053\u308d\u304c\u30bf\u30c3\u30c1\u3055\u308c\u305f\u3068\u304d\u3001\u80cc\u5f8c\u306e\u30d3\u30e5\u30fc\u306b\u30bf\u30c3\u30c1\u30a4\u30d9\u30f3\u30c8\u3092\u6e21\u3059\u3002\n             \n            // WindowManager\u3092\u53d6\u5f97\u3059\u308b\n            wm = (WindowManager) getSystemService(Context.WINDOW_SERVICE);\n            // WindowManager\u306bAdMob\u306e\u30d3\u30e5\u30fc\u3092\u8ffd\u52a0\u3059\u308b\u3002\n            wm.addView(adView, layoutParams);  \n\n        }catch (Exception e) {\n            // \u30a8\u30e9\u30fc\u30ed\u30b0\u3067\u3082\u5410\u3044\u3068\u304f\u3002\n        }\n    }\n    \n    @Override\n    public void onPause() {\n      adView.pause();\n      super.onPause();\n    }\n\n    @Override\n    public void onResume() {\n      super.onResume();\n      adView.resume();\n    }\n\n    @Override\n    public void onDestroy() {\n    \t// \u30b5\u30fc\u30d3\u30b9\u304c\u7834\u68c4\u3055\u308c\u308b\u3068\u304d\u306b\u306f\u91cd\u306d\u5408\u308f\u305b\u3057\u3066\u3044\u305fView\u3092\u524a\u9664\u3059\u308b\n        wm.removeView(adView);\n\n    \tadView.destroy();\n\n    \tsuper.onDestroy();\n    }\n}\n```\n", "tags": ["cocos2d-x", "Android", "adMob"]}