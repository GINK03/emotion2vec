{"tags": ["Unity", "UnityEditor", "Unity\u62e1\u5f35"], "context": "\n\n\u306f\u3058\u3081\u306b\n\u5148\u65e5\u3001EasyScriptTester\u3068\u3044\u3046\u30c4\u30fc\u30eb\u3092GitHub\u306b\u3066\u516c\u958b\u3057\u307e\u3057\u305f\u3002\nhttps://github.com/rngtm/EasyScriptTester\n\u4eca\u56de\u306f\u3053\u306e\u30c4\u30fc\u30eb\u3092\u4f5c\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u5f97\u305f\u30a8\u30c7\u30a3\u30bf\u30fc\u62e1\u5f35\u7cfbTips\u306e\u3046\u3061\u3001\u3042\u307e\u308a\u77e5\u3089\u308c\u3066\u3044\u306a\u3055\u305d\u3046\u3060\u3068\u601d\u3063\u305f\u3082\u306e\u3092\u30d4\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u3054\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nUnity\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306fUnity5.5.0b7\u3067\u3059\n\nTips\n\u4eca\u56de\u306e\u8a18\u4e8b\u3067\u306f\u4ee5\u4e0b\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u30fbEditorWindow\u304b\u3089MonoBehaviour\u306b\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3055\u305b\u308b\n\u30fb\u5916\u90e8\u30a8\u30c7\u30a3\u30bf\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\n\u30fbGameObject\u306b\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\n\u30fbMonoScript\u304cEditor\u30d5\u30a9\u30eb\u30c0\u4ee5\u4e0b\u306e\u3082\u306e\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308b\n\u30fbList\u304b\u3089\u76f4\u63a5ReorderableList\u3092\u4f5c\u6210\u3059\u308b\n\u30fbReorderableList\u306e\u8868\u793a\u30b5\u30a4\u30ba\u3092\u5909\u3048\u308b\n\u30fbReorderableList\u306e\u30d7\u30e9\u30b9\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\n\nEditorWindow\u304b\u3089MonoBehaviour\u306b\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3055\u305b\u308b\nUnity\u306e\u30b3\u30eb\u30fc\u30c1\u30f3\u306f\u901a\u5e38\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nNewBehaviourScript.cs\nusing System.Collections;\nusing UnityEngine;\n\npublic class NewBehaviourScript : MonoBehaviour \n{\n    void Start()\n    {\n        // \u30b3\u30eb\u30fc\u30c1\u30f3\u5b9f\u884c\n        this.StartCoroutine(this.TestCoroutine());\n    }\n    IEnumerator TestCoroutine()\n    {\n        yield return null;\n    }\n}\n\n\n\u3057\u304b\u3057\u3001StartCoroutine()\u306fMonoBehaviour\u5185\u306e\u30e1\u30bd\u30c3\u30c9\u306a\u306e\u3067\u3001EditorWindow\u304b\u3089\u306f\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\u305d\u3053\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u65b9\u6cd5\u3067EditorWindow\u304b\u3089MonoBebaviour\u306e\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nstep 1: \u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u53d6\u308a\u51fa\u3059\nstep 2: \u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066StartCoroutine\u30e1\u30bd\u30c3\u30c9\u3092\u53d6\u308a\u51fa\u3059.\nstep 3: \u30b3\u30eb\u30fc\u30c1\u30f3\u3092Invoke\u3057\u3066\u305d\u306e\u7d50\u679c\u3092StartCoroutine\u3078\u6e21\u3057\u3066Invoke\u3059\u308b.\n\u30b5\u30f3\u30d7\u30eb\nhttps://gist.github.com/rngtm/3329ecdf550da153046603ce535c5fd4\n\nstep 1: \u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u53d6\u308a\u51fa\u3059\n\nTest.cs\nvar component = \u30aa\u30d6\u30b8\u30a7\u30af\u30c8.GetComponent(\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30bf\u30a4\u30d7);\n\n// \u30e1\u30bd\u30c3\u30c9\u3092\u53d6\u308a\u51fa\u3059\nvar flag = BindingFlags.Static | BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance;\nvar method = typeof(NewBehaviourScript).GetMethod(\u30e1\u30bd\u30c3\u30c9\u540d, flag); \n\n\n\nstep 2: \u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066StartCoroutine()\u3092\u53d6\u308a\u51fa\u3059\n\nTest.cs\nvar argumentTypes = new Type[] { typeof(IEnumerator) }; \n\n// StartCoroutine\u3092\u53d6\u308a\u51fa\u3059\nvar startCoroutine = \u30aa\u30d6\u30b8\u30a7\u30af\u30c8.GetType().GetMethod(\"StartCoroutine\", argumentTypes);\n\n\n\nstep 3: \u30b3\u30eb\u30fc\u30c1\u30f3\u5b9f\u884c\n\nTest.cs\n// \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u5b9f\u884c\u7d50\u679c\u306eIEnumerator\u3092\u53d6\u5f97\nvar coroutine = method.Invoke(component, parameters); \n\n// \u30b3\u30eb\u30fc\u30c1\u30f3\u5b9f\u884c\nstartCoroutine.Invoke(component, new object[] { coroutine });\n\n\n\u203b\u30b2\u30fc\u30e0\u505c\u6b62\u4e2d\u306b\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3082\u6b63\u3057\u304f\u52d5\u304b\u306a\u3044\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u5916\u90e8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304f\nMonoScript\u3092AssetDatabase.OpenAsset\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3057\u3066\u5b9f\u884c\u3059\u308b\u3068\u5916\u90e8\u30a8\u30c7\u30a3\u30bf\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u958b\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nNewBehaviourScript.cs\n/// <summary>\n/// \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5916\u90e8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304f\n/// </summary>\nprivate static void OpenInEditor(string scriptName, int scriptLine)\n{\n    string[] paths = AssetDatabase.GetAllAssetPaths();\n    foreach (string path in paths)\n    {\n        string fileName = System.IO.Path.GetFileNameWithoutExtension(path);\n        if (fileName.Equals(scriptName))\n        {\n            MonoScript script = AssetDatabase.LoadAssetAtPath(path, typeof(MonoScript)) as MonoScript;\n            if (script != null)\n            {\n                if (!AssetDatabase.OpenAsset(script, scriptLine))\n                {\n                    Debug.LogWarning(\"Couldn't open script : \" + scriptName);\n                }\n                break;\n            }\n            else\n            {\n                Debug.LogWarning(\"Couldn't open script : \" + scriptName);\n            }\n            break;\n        }\n    }\n}\n\n\n\u4f7f\u7528\u4f8b. \n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068NewBehaviourScript.cs\u304c\u958b\u304b\u308c\u3066\u30ab\u30fc\u30bd\u30eb\u304c\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e10\u884c\u76ee\u3078\u79fb\u52d5\u3057\u307e\u3059\u3002\n\nNewBehaviourScript.cs\nOpenInEditor(\"NewBehaviourScript\", 10);\n\n\n\nGameObject\u306b\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b.\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067GameObject\u306b\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nNewBehaviourScript.cs\nprivate static IEnumerable<Type> GetAllComponents(GameObject target)\n{\n    var monoScripts = Resources.FindObjectsOfTypeAll<MonoScript>();\n    foreach (var ms in monoScripts)\n    {\n        var cls = ms.GetClass();\n        if (cls == null) { continue; }\n        if (cls.IsSubclassOf(typeof(MonoBehaviour)) && target.GetComponent(cls) != null)\n        {\n            yield return cls;\n        }\n    }\n}\n\n\n\nMonoScript\u304cEditor\u30d5\u30a9\u30eb\u30c0\u4ee5\u4e0b\u306e\u3082\u306e\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308b\nType.Module.Name\u3092\u898b\u308b\u3068\u305d\u306eMonoScript\u304cEditor\u30d5\u30a9\u30eb\u30c0\u306e\u4e2d\u306b\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nNewBehaviourScript.cs\n/// <summary>\n/// MonoScript\u306e\u30bf\u30a4\u30d7\u304c\u30a8\u30c7\u30a3\u30bf\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3089true\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\n/// </summary>\nprivate static bool IsEditorScript(System.Type type)\n{\n    return type.Module.Name == \"Assembly-CSharp-Editor.dll\";\n}\n\n\n\u3053\u308c\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306eEditor\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3051\u3092\u5217\u6319\u3059\u308b\u3001\u306a\u3069\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\nEditor\u30d5\u30a9\u30eb\u30c0\u4ee5\u4e0b\u306b\u5b58\u5728\u3059\u308b\u3059\u3079\u3066\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb.cs\n/// <summary>\n/// \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306eEditor\u30d5\u30a9\u30eb\u30c0\u4ee5\u4e0b\u306b\u5b58\u5728\u3059\u308b\u3059\u3079\u3066\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8868\u793a\n/// </summary>\n[MenuItem(\"Test/Show EditorScripts\")]\nstatic void GetEditorScripts()\n{\n    var monoScripts = Resources.FindObjectsOfTypeAll<MonoScript>();\n    foreach (var ms in monoScripts)\n    {\n        var classType = ms.GetClass();\n        if (classType != null && IsEditorScript(classType))\n        {\n            // Console\u3078\u30b9\u30af\u30ea\u30d7\u30c8\u540d\u3092\u51fa\u529b\n            Debug.Log(ms.name);\n        }\n    }\n}\n\n\n\nList\u304b\u3089\u76f4\u63a5ReorderableList\u3092\u4f5c\u6210\u3059\u308b\n\n\u30b5\u30f3\u30d7\u30eb\nhttps://gist.github.com/rngtm/8a2e1b0421fa5b370f8ecba17fd518ed\n\u30ab\u30b9\u30bf\u30e0\u30a8\u30c7\u30a3\u30bf\u30fc\u3067serializedObject\u304b\u3089ReorderableList\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u306f\u3088\u304f\u898b\u304b\u3051\u307e\u3059\u304c\u3001\u3053\u306e\u65b9\u6cd5\u306fEditorWindow\u3067\u306f\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\nserializedObject\u304b\u3089ReorderableList\u3092\u4f5c\u6210\u3059\u308b\u4f8b.cs\nlist = new ReorderableList (serializedObject, serializedObject.FindPropertyRelative(\u914d\u5217\u3084\u30ea\u30b9\u30c8\u306e\u540d\u524d);\n\n\nEditorWindow\u304b\u3089ReorderableList\u3092\u5229\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306bList\u304b\u3089ReorderableList\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nTest.cs\nList<int> list = new List<int>();\nvar reorderableList = new ReorderableList(list, typeof(int));\n\n\nList\u304b\u3089ReorderableList\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u3001\u5185\u90e8\u306eserializedProperty\u304cnull\u306b\u306a\u308b\u306e\u3067\u3001\u4ee3\u308f\u308a\u306breorderableList.list\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\n\nTest.cs\nreorderableList.list[index] = EditorGUI.IntField(rect, \"Element \" + index , (int)reorderableList.list[index]);\n\n\n\nReorderableList\u306e\u8868\u793a\u30b5\u30a4\u30ba\u3092\u5909\u3048\u308b\nreorderableList.DoList()\u3092\u547c\u3076\u3068ReorderableList\u306e\u8868\u793a\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nTest.cs\nvar height = this.reorderableList.headerHeight + this.reorderableList.elementHeight * this.reorderableList.count+ this.reorderableList.footerHeight + 8f;\nvar rect = GUILayoutUtility.GetRect(0f, height);\nrect.x += 28f;\nrect.width -= 40f;\nthis.reorderableList.DoList(rect);\n\n\n\n\nreorderableList.DoLayoutList()\u3092\u547c\u3093\u3060\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nReorderableList\u306e\u30d7\u30e9\u30b9\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u5909\u66f4\u3059\u308b\n\n\u30b5\u30f3\u30d7\u30eb\nhttps://gist.github.com/rngtm/49383fd0ea39a66b06d5074691eeffbb\n\n\u30d7\u30e9\u30b9\u30dc\u30bf\u30f3\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3\u306ey\u5ea7\u6a19\u30920\u306b\u3057\u3066\u307f\u308b\n\u4ee5\u4e0b\u306f\u30d7\u30e9\u30b9\u30dc\u30bf\u30f3\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3(\uff1d\u30d5\u30c3\u30bf\u30fc)\u306ey\u5ea7\u6a19\u30920\u306b\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\n\n\u30d5\u30c3\u30bf\u30fc\u306ey\u5ea7\u6a19\u30920\u306b\u3059\u308b\u30b5\u30f3\u30d7\u30eb.cs\n// \u30d5\u30c3\u30bf\u30fc\nlist.drawFooterCallback = (rect) =>\n{\n    rect.y = 0f;\n    ReorderableList.defaultBehaviours.DrawFooter(rect, list);\n};\n\n\nReorderableList.defaultBehaviours.DrawFooter(rect, list)\u3092\u547c\u3076\u3053\u3068\u3067\u3001\u30d5\u30c3\u30bf\u30fc(\u30d7\u30e9\u30b9\u30dc\u30bf\u30f3\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3)\u3092rect\u306e\u90e8\u5206\u3078\u63cf\u753b\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30d7\u30e9\u30b9\u30dc\u30bf\u30f3\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3\u3092\u30d8\u30c3\u30c0\u30fc\u306b\u5408\u308f\u305b\u3066\u307f\u308b\n\u4ee5\u4e0b\u306f\u30d5\u30c3\u30bf\u30fc\u306e\u4f4d\u7f6e\u3092\u30d8\u30c3\u30c0\u30fc\u306b\u91cd\u306d\u308b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\n\n\u30d5\u30c3\u30bf\u30fc\u4f4d\u7f6e\u3092\u30d8\u30c3\u30c0\u30fc\u306b\u5408\u308f\u305b\u308b\u30b5\u30f3\u30d7\u30eb.cs\n// \u30d8\u30c3\u30c0\u30fc\nRect headerRect = default(Rect);\nlist.drawHeaderCallback = (rect) =>\n{\n    headerRect = rect;\n    EditorGUI.LabelField(rect, \"\u30d8\u30c3\u30c0\u30fc\");\n};\n\n// \u30d5\u30c3\u30bf\u30fc\nlist.drawFooterCallback = (rect) =>\n{\n    rect.y = headerRect.y + 3f;\n    ReorderableList.defaultBehaviours.DrawFooter(rect, list);\n};\n\n\nReorderableList\u306b\u306f\u30d8\u30c3\u30c0\u30fc\u306erect\u3092\u53d6\u5f97\u3059\u308b\u6a5f\u80fd\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u3001drawHeaderCallback\u5185\u3067\u5f37\u5f15\u306brect\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n#\u306f\u3058\u3081\u306b\n\u5148\u65e5\u3001EasyScriptTester\u3068\u3044\u3046\u30c4\u30fc\u30eb\u3092GitHub\u306b\u3066\u516c\u958b\u3057\u307e\u3057\u305f\u3002\nhttps://github.com/rngtm/EasyScriptTester\n\n\u4eca\u56de\u306f\u3053\u306e\u30c4\u30fc\u30eb\u3092\u4f5c\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u5f97\u305f\u30a8\u30c7\u30a3\u30bf\u30fc\u62e1\u5f35\u7cfbTips\u306e\u3046\u3061\u3001\u3042\u307e\u308a\u77e5\u3089\u308c\u3066\u3044\u306a\u3055\u305d\u3046\u3060\u3068\u601d\u3063\u305f\u3082\u306e\u3092\u30d4\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u3054\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nUnity\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f**Unity5.5.0b7**\u3067\u3059\n\n#Tips\n\u4eca\u56de\u306e\u8a18\u4e8b\u3067\u306f\u4ee5\u4e0b\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u30fbEditorWindow\u304b\u3089MonoBehaviour\u306b\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3055\u305b\u308b\n\u30fb\u5916\u90e8\u30a8\u30c7\u30a3\u30bf\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\n\u30fbGameObject\u306b\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\n\u30fbMonoScript\u304cEditor\u30d5\u30a9\u30eb\u30c0\u4ee5\u4e0b\u306e\u3082\u306e\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308b\n\u30fbList\u304b\u3089\u76f4\u63a5ReorderableList\u3092\u4f5c\u6210\u3059\u308b\n\u30fbReorderableList\u306e\u8868\u793a\u30b5\u30a4\u30ba\u3092\u5909\u3048\u308b\n\u30fbReorderableList\u306e\u30d7\u30e9\u30b9\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u5909\u3048\u308b\n\n##EditorWindow\u304b\u3089MonoBehaviour\u306b\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3055\u305b\u308b\n\nUnity\u306e\u30b3\u30eb\u30fc\u30c1\u30f3\u306f\u901a\u5e38\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```NewBehaviourScript.cs\nusing System.Collections;\nusing UnityEngine;\n\npublic class NewBehaviourScript : MonoBehaviour \n{\n\tvoid Start()\n\t{\n\t\t// \u30b3\u30eb\u30fc\u30c1\u30f3\u5b9f\u884c\n\t\tthis.StartCoroutine(this.TestCoroutine());\n\t}\n\tIEnumerator TestCoroutine()\n\t{\n\t\tyield return null;\n\t}\n}\n```\n\n\u3057\u304b\u3057\u3001```StartCoroutine()```\u306fMonoBehaviour\u5185\u306e\u30e1\u30bd\u30c3\u30c9\u306a\u306e\u3067\u3001EditorWindow\u304b\u3089\u306f\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\n\u305d\u3053\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u65b9\u6cd5\u3067EditorWindow\u304b\u3089MonoBebaviour\u306e\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nstep 1: \u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u53d6\u308a\u51fa\u3059\nstep 2: \u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066StartCoroutine\u30e1\u30bd\u30c3\u30c9\u3092\u53d6\u308a\u51fa\u3059.\nstep 3: \u30b3\u30eb\u30fc\u30c1\u30f3\u3092Invoke\u3057\u3066\u305d\u306e\u7d50\u679c\u3092StartCoroutine\u3078\u6e21\u3057\u3066Invoke\u3059\u308b.\n\n\u30b5\u30f3\u30d7\u30eb\nhttps://gist.github.com/rngtm/3329ecdf550da153046603ce535c5fd4\n###step 1: \u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u53d6\u308a\u51fa\u3059\n```Test.cs\nvar component = \u30aa\u30d6\u30b8\u30a7\u30af\u30c8.GetComponent(\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30bf\u30a4\u30d7);\n\n// \u30e1\u30bd\u30c3\u30c9\u3092\u53d6\u308a\u51fa\u3059\nvar flag = BindingFlags.Static | BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance;\nvar method = typeof(NewBehaviourScript).GetMethod(\u30e1\u30bd\u30c3\u30c9\u540d, flag); \n```\n\n###step 2: \u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066```StartCoroutine()```\u3092\u53d6\u308a\u51fa\u3059\n```Test.cs\nvar argumentTypes = new Type[] { typeof(IEnumerator) }; \n\n// StartCoroutine\u3092\u53d6\u308a\u51fa\u3059\nvar startCoroutine = \u30aa\u30d6\u30b8\u30a7\u30af\u30c8.GetType().GetMethod(\"StartCoroutine\", argumentTypes);\n```\n\n###step 3: \u30b3\u30eb\u30fc\u30c1\u30f3\u5b9f\u884c\n```Test.cs\n// \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u5b9f\u884c\u7d50\u679c\u306eIEnumerator\u3092\u53d6\u5f97\nvar coroutine = method.Invoke(component, parameters); \n\n// \u30b3\u30eb\u30fc\u30c1\u30f3\u5b9f\u884c\nstartCoroutine.Invoke(component, new object[] { coroutine });\n```\n\n\u203b\u30b2\u30fc\u30e0\u505c\u6b62\u4e2d\u306b\u30b3\u30eb\u30fc\u30c1\u30f3\u3092\u5b9f\u884c\u3057\u3066\u3082\u6b63\u3057\u304f\u52d5\u304b\u306a\u3044\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\n\n##\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u5916\u90e8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304f\nMonoScript\u3092```AssetDatabase.OpenAsset```\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3057\u3066\u5b9f\u884c\u3059\u308b\u3068\u5916\u90e8\u30a8\u30c7\u30a3\u30bf\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u958b\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```NewBehaviourScript.cs\n/// <summary>\n/// \u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5916\u90e8\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u304f\n/// </summary>\nprivate static void OpenInEditor(string scriptName, int scriptLine)\n{\n    string[] paths = AssetDatabase.GetAllAssetPaths();\n    foreach (string path in paths)\n    {\n        string fileName = System.IO.Path.GetFileNameWithoutExtension(path);\n        if (fileName.Equals(scriptName))\n        {\n            MonoScript script = AssetDatabase.LoadAssetAtPath(path, typeof(MonoScript)) as MonoScript;\n            if (script != null)\n            {\n                if (!AssetDatabase.OpenAsset(script, scriptLine))\n                {\n                    Debug.LogWarning(\"Couldn't open script : \" + scriptName);\n                }\n                break;\n            }\n            else\n            {\n                Debug.LogWarning(\"Couldn't open script : \" + scriptName);\n            }\n            break;\n        }\n    }\n}\n```\n\n\u4f7f\u7528\u4f8b. \n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068NewBehaviourScript.cs\u304c\u958b\u304b\u308c\u3066\u30ab\u30fc\u30bd\u30eb\u304c\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e10\u884c\u76ee\u3078\u79fb\u52d5\u3057\u307e\u3059\u3002\n\n```NewBehaviourScript.cs\nOpenInEditor(\"NewBehaviourScript\", 10);\n```\n\n## GameObject\u306b\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b.\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067GameObject\u306b\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```NewBehaviourScript.cs\nprivate static IEnumerable<Type> GetAllComponents(GameObject target)\n{\n    var monoScripts = Resources.FindObjectsOfTypeAll<MonoScript>();\n    foreach (var ms in monoScripts)\n    {\n        var cls = ms.GetClass();\n        if (cls == null) { continue; }\n        if (cls.IsSubclassOf(typeof(MonoBehaviour)) && target.GetComponent(cls) != null)\n        {\n            yield return cls;\n        }\n    }\n}\n```\n\n##MonoScript\u304cEditor\u30d5\u30a9\u30eb\u30c0\u4ee5\u4e0b\u306e\u3082\u306e\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308b\nType.Module.Name\u3092\u898b\u308b\u3068\u305d\u306eMonoScript\u304cEditor\u30d5\u30a9\u30eb\u30c0\u306e\u4e2d\u306b\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```NewBehaviourScript.cs\n/// <summary>\n/// MonoScript\u306e\u30bf\u30a4\u30d7\u304c\u30a8\u30c7\u30a3\u30bf\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3089true\u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\n/// </summary>\nprivate static bool IsEditorScript(System.Type type)\n{\n    return type.Module.Name == \"Assembly-CSharp-Editor.dll\";\n}\n```\n\n\u3053\u308c\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306eEditor\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3051\u3092\u5217\u6319\u3059\u308b\u3001\u306a\u3069\u3068\u3044\u3063\u305f\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n```Editor\u30d5\u30a9\u30eb\u30c0\u4ee5\u4e0b\u306b\u5b58\u5728\u3059\u308b\u3059\u3079\u3066\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb.cs\n/// <summary>\n/// \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306eEditor\u30d5\u30a9\u30eb\u30c0\u4ee5\u4e0b\u306b\u5b58\u5728\u3059\u308b\u3059\u3079\u3066\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8868\u793a\n/// </summary>\n[MenuItem(\"Test/Show EditorScripts\")]\nstatic void GetEditorScripts()\n{\n    var monoScripts = Resources.FindObjectsOfTypeAll<MonoScript>();\n    foreach (var ms in monoScripts)\n    {\n        var classType = ms.GetClass();\n        if (classType != null && IsEditorScript(classType))\n        {\n            // Console\u3078\u30b9\u30af\u30ea\u30d7\u30c8\u540d\u3092\u51fa\u529b\n            Debug.Log(ms.name);\n        }\n    }\n}\n```\n\n#List\u304b\u3089\u76f4\u63a5ReorderableList\u3092\u4f5c\u6210\u3059\u308b\n\n<img width = 400 src = \"https://qiita-image-store.s3.amazonaws.com/0/44288/d3e135b6-4656-0c63-6f97-016216c41b5a.png\">\n\n\u30b5\u30f3\u30d7\u30eb\nhttps://gist.github.com/rngtm/8a2e1b0421fa5b370f8ecba17fd518ed\n\n\u30ab\u30b9\u30bf\u30e0\u30a8\u30c7\u30a3\u30bf\u30fc\u3067serializedObject\u304b\u3089ReorderableList\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u306f\u3088\u304f\u898b\u304b\u3051\u307e\u3059\u304c\u3001\u3053\u306e\u65b9\u6cd5\u306fEditorWindow\u3067\u306f\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\n```serializedObject\u304b\u3089ReorderableList\u3092\u4f5c\u6210\u3059\u308b\u4f8b.cs\nlist = new ReorderableList (serializedObject, serializedObject.FindPropertyRelative(\u914d\u5217\u3084\u30ea\u30b9\u30c8\u306e\u540d\u524d);\n```\n\nEditorWindow\u304b\u3089ReorderableList\u3092\u5229\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306bList\u304b\u3089ReorderableList\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```Test.cs\nList<int> list = new List<int>();\nvar reorderableList = new ReorderableList(list, typeof(int));\n```\n\nList\u304b\u3089ReorderableList\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u3001\u5185\u90e8\u306eserializedProperty\u304cnull\u306b\u306a\u308b\u306e\u3067\u3001\u4ee3\u308f\u308a\u306breorderableList.list\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\n\n```Test.cs\nreorderableList.list[index] = EditorGUI.IntField(rect, \"Element \" + index , (int)reorderableList.list[index]);\n```\n\n#ReorderableList\u306e\u8868\u793a\u30b5\u30a4\u30ba\u3092\u5909\u3048\u308b\nreorderableList.DoList()\u3092\u547c\u3076\u3068ReorderableList\u306e\u8868\u793a\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```Test.cs\nvar height = this.reorderableList.headerHeight + this.reorderableList.elementHeight * this.reorderableList.count+ this.reorderableList.footerHeight + 8f;\nvar rect = GUILayoutUtility.GetRect(0f, height);\nrect.x += 28f;\nrect.width -= 40f;\nthis.reorderableList.DoList(rect);\n```\n\n<img width = 400 src = \"https://qiita-image-store.s3.amazonaws.com/0/44288/d50d16a5-058c-8218-675e-6f45ea382e35.png\">\n\n<br>\nreorderableList.DoLayoutList()\u3092\u547c\u3093\u3060\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002\n<img width = 400 src = \"https://qiita-image-store.s3.amazonaws.com/0/44288/88880fd8-fed0-079c-b310-6b2a9b1c29e9.png\">\n\n#ReorderableList\u306e\u30d7\u30e9\u30b9\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3\u306e\u4f4d\u7f6e\u3092\u5909\u66f4\u3059\u308b\n\n<img width = 400 src = \"https://qiita-image-store.s3.amazonaws.com/0/44288/4101ea3f-4f0e-f2b7-df53-ad3e8b80ee37.png\">\n\n\u30b5\u30f3\u30d7\u30eb\nhttps://gist.github.com/rngtm/49383fd0ea39a66b06d5074691eeffbb\n\n###\u30d7\u30e9\u30b9\u30dc\u30bf\u30f3\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3\u306ey\u5ea7\u6a19\u30920\u306b\u3057\u3066\u307f\u308b\n\u4ee5\u4e0b\u306f\u30d7\u30e9\u30b9\u30dc\u30bf\u30f3\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3(\uff1d\u30d5\u30c3\u30bf\u30fc)\u306ey\u5ea7\u6a19\u30920\u306b\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\n\n```\u30d5\u30c3\u30bf\u30fc\u306ey\u5ea7\u6a19\u30920\u306b\u3059\u308b\u30b5\u30f3\u30d7\u30eb.cs\n// \u30d5\u30c3\u30bf\u30fc\nlist.drawFooterCallback = (rect) =>\n{\n    rect.y = 0f;\n    ReorderableList.defaultBehaviours.DrawFooter(rect, list);\n};\n```\n```ReorderableList.defaultBehaviours.DrawFooter(rect, list)```\u3092\u547c\u3076\u3053\u3068\u3067\u3001\u30d5\u30c3\u30bf\u30fc(\u30d7\u30e9\u30b9\u30dc\u30bf\u30f3\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3)\u3092rect\u306e\u90e8\u5206\u3078\u63cf\u753b\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n###\u30d7\u30e9\u30b9\u30dc\u30bf\u30f3\u30fb\u30de\u30a4\u30ca\u30b9\u30dc\u30bf\u30f3\u3092\u30d8\u30c3\u30c0\u30fc\u306b\u5408\u308f\u305b\u3066\u307f\u308b\n\u4ee5\u4e0b\u306f\u30d5\u30c3\u30bf\u30fc\u306e\u4f4d\u7f6e\u3092\u30d8\u30c3\u30c0\u30fc\u306b\u91cd\u306d\u308b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\n\n```\u30d5\u30c3\u30bf\u30fc\u4f4d\u7f6e\u3092\u30d8\u30c3\u30c0\u30fc\u306b\u5408\u308f\u305b\u308b\u30b5\u30f3\u30d7\u30eb.cs\n// \u30d8\u30c3\u30c0\u30fc\nRect headerRect = default(Rect);\nlist.drawHeaderCallback = (rect) =>\n{\n    headerRect = rect;\n    EditorGUI.LabelField(rect, \"\u30d8\u30c3\u30c0\u30fc\");\n};\n\n// \u30d5\u30c3\u30bf\u30fc\nlist.drawFooterCallback = (rect) =>\n{\n    rect.y = headerRect.y + 3f;\n    ReorderableList.defaultBehaviours.DrawFooter(rect, list);\n};\n```\nReorderableList\u306b\u306f\u30d8\u30c3\u30c0\u30fc\u306erect\u3092\u53d6\u5f97\u3059\u308b\u6a5f\u80fd\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u3001drawHeaderCallback\u5185\u3067\u5f37\u5f15\u306brect\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n"}