{"context": "Linux\u3067\u3082\u52d5\u304fPure Swift\u306a\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3067Redis\u3068\u3057\u3083\u3079\u308a\u305f\u304b\u3063\u305f\u306e\u3067\u3001 czechboy0/Socks\u3092\u4f7f\u3063\u3066TCP\u63a5\u7d9a\u3057\u305f(Socks\u81ea\u4f53\u306fC\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u4f7f\u3063\u3066\u308b)\u3002\nSocks\u3092\u30d3\u30eb\u30c9\u306b\u7d44\u8fbc\u307f\u3001Mac\u306eXcode\u3067\u958b\u767a\u3067\u304d\u308b\u3088\u3046\u306b Swift Package Manager \u3092\u5229\u7528\u3057\u305f\u3002\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9Swift\u306eWeb\u30a2\u30d7\u30ea\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u958b\u767a\u3082\u540c\u3058\u3088\u3046\u306a\u65b9\u6cd5\u3067\u3067\u304d\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u4e88\u60f3\u3057\u3066\u3044\u308b\u3002\n\n\u6e96\u5099\nXcode 8 beta \u3068 swift-DEVELOPMENT-SNAPSHOT-2016-08-18-a \u3067\u306a\u3044\u3068Socks\u304c\u30d3\u30eb\u30c9\u3067\u304d\u306a\u3044\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\nhttps://swift.org/download/#releases\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n$ mkdir MyProject\n$ cd MyProject/\n$ swift package init --type executable\n\nCreating executable package: MyProject\nCreating Package.swift\nCreating .gitignore\nCreating Sources/\nCreating Sources/main.swift\nCreating Tests/\n\n\n\u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u7d44\u8fbc\u3080\ndiff --git a/Package.swift b/Package.swift\nindex 7f62404..ec40617 100644\n--- a/Package.swift\n+++ b/Package.swift\n@@ -1,5 +1,8 @@\n import PackageDescription\n\n let package = Package(\n-    name: \"MyProject\"\n+    name: \"MyProject\",\n+    dependencies: [\n+        .Package(url: \"https://github.com/czechboy0/Socks.git\", majorVersion: 0, minor: 12)\n+    ]\n )\n\n$ swift package update\n\nCloning https://github.com/czechboy0/Socks.git\nHEAD is now at 4b14189 Updated Swift 08-04 (#69)\nResolved version: 0.12.0\n\n$ TOOLCHAINS=swift swift build\n\nCompile Swift Module 'SocksCore' (14 sources)\nCompile Swift Module 'Socks' (5 sources)\nCompile Swift Module 'SocksCoreExampleTCPServer' (1 sources)\nCompile Swift Module 'SocksCoreExampleTCPClient' (1 sources)\nCompile Swift Module 'SocksExampleUDPServer' (1 sources)\nCompile Swift Module 'SocksExampleUDPClient' (1 sources)\nCompile Swift Module 'SocksExampleTCPServer' (1 sources)\nCompile Swift Module 'SocksExampleTCPClient' (1 sources)\nCompile Swift Module 'SocksCoreExampleTCPKeepAliveServer' (1 sources)\nCompile Swift Module 'MyProject' (1 sources)\nLinking ./.build/debug/SocksCoreExampleTCPClient\nLinking ./.build/debug/SocksCoreExampleTCPServer\nLinking ./.build/debug/MyProject\nLinking ./.build/debug/SocksExampleUDPClient\nLinking ./.build/debug/SocksExampleTCPClient\nLinking ./.build/debug/SocksExampleTCPServer\nLinking ./.build/debug/SocksExampleUDPServer\nLinking ./.build/debug/SocksCoreExampleTCPKeepAliveServer\n\n$ swift package generate-xcodeproj\n\ngenerated: ./MyProject.xcodeproj\n\n\u3053\u3046\u3044\u3046\u69cb\u9020\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u751f\u6210\u3055\u308c\u308b\u3002Package.swift \u306b\u65b0\u305f\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u305f\u3089 Dependencies \u3078\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u307e\u305f\u751f\u6210\u3057\u76f4\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u672c\u4f53\u306e\u30b3\u30fc\u30c9\u3002\n\nmain.swift\nimport Socks\n\nlet address = InternetAddress(hostname: \"localhost\", port: 6379)\n\ndo {\n    let client = try TCPClient(address: address)\n\n    // set\n    try client.send(bytes: \"SET key1 hello\\n\".toBytes())\n    let status = try client.receiveAll().toString()\n    print(\"Received: \\(status)\")\n\n    // get\n    try client.send(bytes: \"GET key1\\n\".toBytes())\n    let str = try client.receiveAll().toString()\n    print(\"Received: \\(str)\")\n\n    try client.close()\n} catch {\n    print(\"Error \\(error)\")\n}\n\n\n\u3053\u308c\u3092Xcode\u304b\u3089\u5b9f\u884c\u3059\u308b\u3068\n\nSET/GET \u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u305f\nLinux\u3067\u3082\u52d5\u304fPure Swift\u306a\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3067Redis\u3068\u3057\u3083\u3079\u308a\u305f\u304b\u3063\u305f\u306e\u3067\u3001 [czechboy0/Socks](https://github.com/czechboy0)\u3092\u4f7f\u3063\u3066TCP\u63a5\u7d9a\u3057\u305f(Socks\u81ea\u4f53\u306fC\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u4f7f\u3063\u3066\u308b)\u3002\nSocks\u3092\u30d3\u30eb\u30c9\u306b\u7d44\u8fbc\u307f\u3001Mac\u306eXcode\u3067\u958b\u767a\u3067\u304d\u308b\u3088\u3046\u306b [Swift Package Manager](https://github.com/apple/swift-package-manager) \u3092\u5229\u7528\u3057\u305f\u3002\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9Swift\u306eWeb\u30a2\u30d7\u30ea\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u958b\u767a\u3082\u540c\u3058\u3088\u3046\u306a\u65b9\u6cd5\u3067\u3067\u304d\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u4e88\u60f3\u3057\u3066\u3044\u308b\u3002\n\n## \u6e96\u5099\n\nXcode 8 beta \u3068 `swift-DEVELOPMENT-SNAPSHOT-2016-08-18-a` \u3067\u306a\u3044\u3068Socks\u304c\u30d3\u30eb\u30c9\u3067\u304d\u306a\u3044\u306e\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\nhttps://swift.org/download/#releases\n\n## \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\n```\n$ mkdir MyProject\n$ cd MyProject/\n$ swift package init --type executable\n\nCreating executable package: MyProject\nCreating Package.swift\nCreating .gitignore\nCreating Sources/\nCreating Sources/main.swift\nCreating Tests/\n```\n\n## \u5916\u90e8\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u7d44\u8fbc\u3080\n\n```diff\ndiff --git a/Package.swift b/Package.swift\nindex 7f62404..ec40617 100644\n--- a/Package.swift\n+++ b/Package.swift\n@@ -1,5 +1,8 @@\n import PackageDescription\n \n let package = Package(\n-    name: \"MyProject\"\n+    name: \"MyProject\",\n+    dependencies: [\n+        .Package(url: \"https://github.com/czechboy0/Socks.git\", majorVersion: 0, minor: 12)\n+    ]\n )\n```\n\n```\n$ swift package update\n\nCloning https://github.com/czechboy0/Socks.git\nHEAD is now at 4b14189 Updated Swift 08-04 (#69)\nResolved version: 0.12.0\n```\n\n```\n$ TOOLCHAINS=swift swift build\n\nCompile Swift Module 'SocksCore' (14 sources)\nCompile Swift Module 'Socks' (5 sources)\nCompile Swift Module 'SocksCoreExampleTCPServer' (1 sources)\nCompile Swift Module 'SocksCoreExampleTCPClient' (1 sources)\nCompile Swift Module 'SocksExampleUDPServer' (1 sources)\nCompile Swift Module 'SocksExampleUDPClient' (1 sources)\nCompile Swift Module 'SocksExampleTCPServer' (1 sources)\nCompile Swift Module 'SocksExampleTCPClient' (1 sources)\nCompile Swift Module 'SocksCoreExampleTCPKeepAliveServer' (1 sources)\nCompile Swift Module 'MyProject' (1 sources)\nLinking ./.build/debug/SocksCoreExampleTCPClient\nLinking ./.build/debug/SocksCoreExampleTCPServer\nLinking ./.build/debug/MyProject\nLinking ./.build/debug/SocksExampleUDPClient\nLinking ./.build/debug/SocksExampleTCPClient\nLinking ./.build/debug/SocksExampleTCPServer\nLinking ./.build/debug/SocksExampleUDPServer\nLinking ./.build/debug/SocksCoreExampleTCPKeepAliveServer\n```\n\n```\n$ swift package generate-xcodeproj\n\ngenerated: ./MyProject.xcodeproj\n```\n\n\u3053\u3046\u3044\u3046\u69cb\u9020\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u751f\u6210\u3055\u308c\u308b\u3002Package.swift \u306b\u65b0\u305f\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8ffd\u52a0\u3057\u305f\u3089 `Dependencies` \u3078\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u307e\u305f\u751f\u6210\u3057\u76f4\u3059\u3002\n\n![Screen Shot 2016-08-21 at 1.01.23 AM.png](https://qiita-image-store.s3.amazonaws.com/0/229/6cc98c37-103e-0647-e8f6-55124af31012.png)\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u672c\u4f53\u306e\u30b3\u30fc\u30c9\u3002\n\n```main.swift\nimport Socks\n\nlet address = InternetAddress(hostname: \"localhost\", port: 6379)\n\ndo {\n    let client = try TCPClient(address: address)\n    \n    // set\n    try client.send(bytes: \"SET key1 hello\\n\".toBytes())\n    let status = try client.receiveAll().toString()\n    print(\"Received: \\(status)\")\n    \n    // get\n    try client.send(bytes: \"GET key1\\n\".toBytes())\n    let str = try client.receiveAll().toString()\n    print(\"Received: \\(str)\")\n    \n    try client.close()\n} catch {\n    print(\"Error \\(error)\")\n}\n```\n\n\u3053\u308c\u3092Xcode\u304b\u3089\u5b9f\u884c\u3059\u308b\u3068\n\n![Screen Shot 2016-08-21 at 1.13.20 AM.png](https://qiita-image-store.s3.amazonaws.com/0/229/a6fc4cc4-5221-56e5-e1c6-309614bf972b.png)\n\nSET/GET \u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u305f\n", "tags": ["Swift", "Swift3.0", "SwiftPM", "SPM"]}