{"context": "\n\n\u6982\u8981\nBotkit\u3092\u4f7f\u3063\u3066\u300chi\u300d\u3068\u8a71\u3057\u304b\u3051\u308b\u3068\u300chi\u300d\u3068\u8fd4\u3059\u3060\u3051\u306eSlack Bot\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nnpm\u3068node.js\u306f\u4f7f\u3048\u308b\u524d\u63d0\u3067\u3059\u3002\n\n\u74b0\u5883\n$ sw_vers\nProductName:    Mac OS X\nProductVersion: 10.11.6\nBuildVersion:   15G1108\n$ npm -v\n3.10.9\n$ node -v\nv7.2.0\n\n\nSlack\u5074\u306e\u8a2d\u5b9a\nhttps://my.slack.com/services/new/bot\n\u4e0a\u8a18\u306e\u30da\u30fc\u30b8\u3067Bot\u306e\u540d\u524d\u3092\u6307\u5b9a\u3057\u3066Bot\u3092\u4f5c\u6210\u5f8c\u3001API Token\u3092\u53d6\u5f97\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\nBot\u672c\u4f53\u306e\u4f5c\u6210\n\u521d\u671f\u5316\u3068botkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u884c\u3044\u307e\u3059\u3002\n$ mkdir simple-slack-bot\n$ cd simple-slack-bot\n$ npm init # Enter\u9023\u6253\n$ npm install botkit --save\n$ cat package.json\n{\n  \"name\": \"simple-slack-bot\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"botkit\": \"0.4.2\"\n  }\n}\n\n\u672c\u4f53\u3068\u306a\u308bindex.js\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nindex.js\nconst Botkit = require('botkit');\n\nif (!process.env.token) {\n  console.log('Error: Specify token in environment');\n  process.exit(1);\n}\n\nconst controller = Botkit.slackbot({\n    debug: false\n});\n\ncontroller.spawn({\n    token: process.env.token\n}).startRTM(function(err){\n    if (err) {\n        throw new Error(err);\n    }\n});\n\n// say hi\ncontroller.hears('hi',['direct_message','direct_mention','mention'],function(bot,message) {\n    bot.reply(message,'hi');\n});\n\n\n\n\u8d77\u52d5\n\u300cyour-api-token\u300d\u90e8\u5206\u3092\u5148\u307b\u3069\u53d6\u5f97\u3057\u305fAPI Token\u306b\u3057\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ token=your-api-token node index.js\ninfo: ** No persistent storage method specified! Data may be lost when process shuts down.\ninfo: ** Setting up custom handlers for processing Slack messages\ninfo: ** API CALL: https://slack.com/api/rtm.start\nnotice: ** BOT ID: simple-bot ...attempting to connect to RTM!\nnotice: RTM websocket opened\n\n\u8d77\u52d5\u3059\u308b\u3068\u4f5c\u6210\u3057\u305fbot\u30e6\u30fc\u30b6\u304c\u30aa\u30f3\u30e9\u30a4\u30f3\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u300chi\u300d\u3068\u8a71\u3057\u304b\u3051\u308b\u3068\u3061\u3083\u3093\u3068\u300chi\u300d\u3068\u8fd4\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n\n# \u6982\u8981\n\nBotkit\u3092\u4f7f\u3063\u3066\u300chi\u300d\u3068\u8a71\u3057\u304b\u3051\u308b\u3068\u300chi\u300d\u3068\u8fd4\u3059\u3060\u3051\u306eSlack Bot\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nnpm\u3068node.js\u306f\u4f7f\u3048\u308b\u524d\u63d0\u3067\u3059\u3002\n\n# \u74b0\u5883\n\n```bash\n$ sw_vers\nProductName:    Mac OS X\nProductVersion: 10.11.6\nBuildVersion:   15G1108\n$ npm -v\n3.10.9\n$ node -v\nv7.2.0\n```\n\n# Slack\u5074\u306e\u8a2d\u5b9a\n\nhttps://my.slack.com/services/new/bot\n\n\u4e0a\u8a18\u306e\u30da\u30fc\u30b8\u3067Bot\u306e\u540d\u524d\u3092\u6307\u5b9a\u3057\u3066Bot\u3092\u4f5c\u6210\u5f8c\u3001API Token\u3092\u53d6\u5f97\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n<img width=\"800\" alt=\"bot-api-token.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/30447/ba854441-d93b-e48e-967b-28213baeab1b.png\">\n\n# Bot\u672c\u4f53\u306e\u4f5c\u6210\n\n\u521d\u671f\u5316\u3068botkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u884c\u3044\u307e\u3059\u3002\n\n```bash\n$ mkdir simple-slack-bot\n$ cd simple-slack-bot\n$ npm init # Enter\u9023\u6253\n$ npm install botkit --save\n$ cat package.json\n{\n  \"name\": \"simple-slack-bot\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"botkit\": \"0.4.2\"\n  }\n}\n```\n\n\u672c\u4f53\u3068\u306a\u308bindex.js\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```js:index.js\nconst Botkit = require('botkit');\n\nif (!process.env.token) {\n  console.log('Error: Specify token in environment');\n  process.exit(1);\n}\n\nconst controller = Botkit.slackbot({\n    debug: false\n});\n\ncontroller.spawn({\n    token: process.env.token\n}).startRTM(function(err){\n    if (err) {\n        throw new Error(err);\n    }\n});\n\n// say hi\ncontroller.hears('hi',['direct_message','direct_mention','mention'],function(bot,message) {\n    bot.reply(message,'hi');\n});\n```\n\n\n# \u8d77\u52d5\n\n\u300cyour-api-token\u300d\u90e8\u5206\u3092\u5148\u307b\u3069\u53d6\u5f97\u3057\u305fAPI Token\u306b\u3057\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```bash\n$ token=your-api-token node index.js\ninfo: ** No persistent storage method specified! Data may be lost when process shuts down.\ninfo: ** Setting up custom handlers for processing Slack messages\ninfo: ** API CALL: https://slack.com/api/rtm.start\nnotice: ** BOT ID: simple-bot ...attempting to connect to RTM!\nnotice: RTM websocket opened\n```\n\n\u8d77\u52d5\u3059\u308b\u3068\u4f5c\u6210\u3057\u305fbot\u30e6\u30fc\u30b6\u304c\u30aa\u30f3\u30e9\u30a4\u30f3\u306b\u306a\u308a\u307e\u3059\u3002\n\n<img width=\"252\" alt=\"bot-online.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/30447/27c64bde-7bca-1c30-63d0-0e6b9864a6fe.png\">\n\n\u300chi\u300d\u3068\u8a71\u3057\u304b\u3051\u308b\u3068\u3061\u3083\u3093\u3068\u300chi\u300d\u3068\u8fd4\u3057\u3066\u304f\u308c\u307e\u3057\u305f\u3002\n\n<img width=\"352\" alt=\"chat-with-bot.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/30447/bb43d32c-d555-f42a-d0c4-4fd0620a0283.png\">\n", "tags": ["Slack", "Botkit"]}