{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u74b0\u5883\u3067vagrant\u3092\u4f7f\u3063\u3066\u30ed\u30fc\u30ab\u30eb\u3067CentOS7\u306e\u691c\u8a3c\u3092\u3057\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u65b0\u3057\u3044VM\u3092\u4f5c\u6210\u3057\u3066yum update\u3092\u5b9f\u884c\u3059\u308b\u3054\u3068\u306b\u6708\u306e\u6b8b\u5bb9\u91cf\u304c\u30ac\u30ea\u30ac\u30ea\u524a\u3089\u308c\u3066\u691c\u8a3c\u3059\u308b\u3053\u3068\u304c\u5104\u52ab\u306b\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u3002vagrant-digitalocean\u3092\u4f7f\u3063\u3066\u30ea\u30e2\u30fc\u30c8\u306eDigitalOcean\u4e0a\u306bVM\u3092\u4f5c\u308a\u305d\u3053\u3067\u691c\u8a3c\u3059\u308c\u3070\u3001\u6708\u306e\u901a\u4fe1\u6b8b\u91cf\u306b\u306f\u307b\u3068\u3093\u3069\u5f71\u97ff\u304c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\nMac(Mavericks)\u3067vagrant-digitalocean\u3092\u5229\u7528\u3057\u3066DigitalOcean\u3067CentOS7\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u3067\u3059\u3002Vagrantfile\u306fvagrant-docker-digitalocean\u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002(2015\u5e741\u6708\u73fe\u5728\u306e\u65b9\u6cd5\u3067\u3059)\n\n\u4e8b\u524d\u6e96\u5099\n\nVagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u63a8\u5968\u3002\u53e4\u3044\u3068\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5165\u308c\u308b\u3068\u304d\u306bNokogiri\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u30b3\u30b1\u307e\u3059\u3002\nVagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u306fDocker Hello World\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\nDigitalOcean\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\n\n\n\u4f5c\u696d\u5185\u5bb9\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n### vagrant-digitalocean\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ vagrant plugin install vagrant-digitalocean\n\n### \u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u4efb\u610f)\n$ vagrant plugin install vagrant-vbguest\n\n\nSSH\u9375\u306e\u4f5c\u6210\u3068\u767b\u9332\nDigitalOcean\u306b\u516c\u958b\u9375\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u300cMyMac vagrant-digitalocean.pem.pub\u300d\u3068\u3044\u3046\u540d\u524d\u3067\u767b\u9332\u3057\u307e\u3057\u305f\u3002\n### SSH\u9375\u306e\u4f5c\u6210\n$ ssh-keygen -t rsa -b 4096 -f ~/.ssh/vagrant-digitalocean.pem\n$ chmod 600 ~/.ssh/vagrant-digitalocean.pem\n$ chmod 644 ~/.ssh/vagrant-digitalocean.pem.pub\n\n### cat\u3057\u3066\u8868\u793a\u3055\u308c\u308b\u5185\u5bb9\u3092\u767b\u9332\n$ cat ~/.ssh/vagrant-digitalocean.pem.pub\n===============================================\nssh-rsa AAAA(\u4e2d\u7565)4Rw== ftakao2007@ftakao2007mac\n===============================================\n\n\n\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\nVagrantfile\u306eprovider.ca_path\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n### \u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n$ ruby -ropenssl -e \"p OpenSSL::X509::DEFAULT_CERT_FILE\"\n===============================================\n\"/usr/local/etc/openssl/cert.pem\"\n===============================================\n\n\nVagrantfile\u4f5c\u6210\n### \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u79fb\u52d5\u3002\u4efb\u610f\u306e\u5834\u6240\u3067OK\u3002\n$ mkdir -p ~/work/vagrant/vagrant-digitalocean\n$ cd ~/work/vagrant/vagrant-digitalocean\n\n### Vagrantfile\u3092\u4f5c\u6210\n$ vi Vagrantfile\n===========================================\nVagrant.configure('2') do |config|\n  config.vm.hostname              = 'ftakao2007.foobar.com'  # \u597d\u304d\u306ahostname\u306b\u5909\u66f4\n\n  config.vm.provider :digital_ocean do |provider, override|\n    provider.client_id            = '90(\u4e2d\u7565)b3'  # https://cloud.digitalocean.com/api_access \u3067\u53d6\u5f97\u3057\u305fclient_id(Client ID)\u3092\u6307\u5b9a\n    provider.api_key              = '92(\u4e2d\u7565)84'    # https://cloud.digitalocean.com/api_access \u3067\u53d6\u5f97\u3057\u305fapi_key(API Key)\u3092\u6307\u5b9a\n    provider.ssh_key_name         = 'MyMac vagrant-digitalocean.pem.pub'    # https://cloud.digitalocean.com/ssh_keys   \u3067\u8a2d\u5b9a\u3057\u305fSSH\u9375\u540d\u3092\u6307\u5b9a\n    provider.token                = '4d(\u4e2d\u7565)bd'      # https://cloud.digitalocean.com/settings/applications  \u3067\u8a2d\u5b9a\u3057\u305ftoken(Personal Access Tokens\u306eGenerate New Token\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e)\u3092\u6307\u5b9a\n\n    override.ssh.private_key_path = '~/.ssh/vagrant-digitalocean.pem'\n    override.vm.box               = 'digital_ocean'\n    override.vm.box_url           = \"https://github.com/smdahlen/vagrant-digitalocean/raw/master/box/digital_ocean.box\"\n\n    provider.image                = 'centos-7-0-x64'\n    provider.region               = 'sgp1'\n    provider.size                 = '512MB'\n    provider.ca_path              = '/usr/local/etc/openssl/cert.pem'\n  end\nend\n===========================================\n\n\nDroplet\u3092\u8d77\u52d5\n$ vagrant up --provider=digital_ocean\n===========================================\nBringing machine 'default' up with 'digital_ocean' provider...\n==> default: Using existing SSH key: MyMac vagrant-digitalocean.pem.pub\n==> default: Creating a new droplet...\n==> default: Assigned IP address: 128.199.XXX.XXX\n==> default: Private IP address: 10.130.XXX.XXX\n==> default: Modifying sudoers file to remove tty requirement...\n==> default: Rsyncing folder: /Users/ftakao2007/work/vagrant/vagrant-digitalocean/ => /vagrant...\n===========================================\n\n$ vagrant status\n===========================================\nCurrent machine states:\n\ndefault                   active (digital_ocean)\n\nactive\n===========================================\n\n$ vagrant ssh\n[root@ftakao2007 ~]# cat /etc/redhat-release\n===========================================\nCentOS Linux release 7.0.1406 (Core)\n===========================================\n\n\nWeb\u304b\u3089\u78ba\u8a8d\n\n\nDroplet\u524a\u9664\n[root@ftakao2007 ~]# exit\n$ vagrant destroy\n===========================================\n    default: Are you sure you want to destroy the 'default' VM? [y/N] y\n==> default: Destroying the droplet...\n===========================================\n\n$ vagrant status\n===========================================\nCurrent machine states:\n\ndefault                   not_created (digital_ocean)\n\nnot_created\n===========================================\n\n\n\u30ea\u30f3\u30af\n\nMac\u304b\u3089Vagrant\u30b3\u30de\u30f3\u30c9\u4e00\u767a\u3067SSD\u306aVPS(DigitalOcean)\u4e0a\u306bCentOS6.5+Docker\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\nvagrant\u3067\u306f\u3058\u3081\u308b\u30af\u30e9\u30a6\u30c9\u958b\u767a\u74b0\u5883\uff08DigitalOcean\u7de8\uff09\nDigital Ocean\u306evagrant up\u3067SSL error\u304c\u51fa\u305f\u6642\u306e\u5bfe\u5fdc\n\n## \u6982\u8981\n\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u306e\u30c6\u30b6\u30ea\u30f3\u30b0\u74b0\u5883\u3067vagrant\u3092\u4f7f\u3063\u3066\u30ed\u30fc\u30ab\u30eb\u3067CentOS7\u306e\u691c\u8a3c\u3092\u3057\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u65b0\u3057\u3044VM\u3092\u4f5c\u6210\u3057\u3066yum update\u3092\u5b9f\u884c\u3059\u308b\u3054\u3068\u306b\u6708\u306e\u6b8b\u5bb9\u91cf\u304c\u30ac\u30ea\u30ac\u30ea\u524a\u3089\u308c\u3066\u691c\u8a3c\u3059\u308b\u3053\u3068\u304c\u5104\u52ab\u306b\u306a\u3063\u3066\u3044\u307e\u3057\u305f\u3002vagrant-digitalocean\u3092\u4f7f\u3063\u3066\u30ea\u30e2\u30fc\u30c8\u306eDigitalOcean\u4e0a\u306bVM\u3092\u4f5c\u308a\u305d\u3053\u3067\u691c\u8a3c\u3059\u308c\u3070\u3001\u6708\u306e\u901a\u4fe1\u6b8b\u91cf\u306b\u306f\u307b\u3068\u3093\u3069\u5f71\u97ff\u304c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\nMac(Mavericks)\u3067vagrant-digitalocean\u3092\u5229\u7528\u3057\u3066DigitalOcean\u3067CentOS7\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u3067\u3059\u3002Vagrantfile\u306f[vagrant-docker-digitalocean](https://github.com/glidenote/vagrant-docker-digitalocean)\u3092\u53c2\u8003\u306b\u3057\u3066\u3044\u307e\u3059\u3002(2015\u5e741\u6708\u73fe\u5728\u306e\u65b9\u6cd5\u3067\u3059)\n\n## \u4e8b\u524d\u6e96\u5099\n\n- Vagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n  - \u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u63a8\u5968\u3002\u53e4\u3044\u3068\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u5165\u308c\u308b\u3068\u304d\u306bNokogiri\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u30b3\u30b1\u307e\u3059\u3002\n  - Vagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\u306f[Docker Hello World](http://www.slideshare.net/Ftakao2007/docker-hello-world)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- [DigitalOcean](https://www.digitalocean.com/)\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\n\n## \u4f5c\u696d\u5185\u5bb9\n\n### \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n### vagrant-digitalocean\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ vagrant plugin install vagrant-digitalocean\n\n### \u5171\u6709\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u4efb\u610f)\n$ vagrant plugin install vagrant-vbguest\n```\n\n### SSH\u9375\u306e\u4f5c\u6210\u3068\u767b\u9332\n[DigitalOcean](https://www.digitalocean.com/)\u306b\u516c\u958b\u9375\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u300cMyMac vagrant-digitalocean.pem.pub\u300d\u3068\u3044\u3046\u540d\u524d\u3067\u767b\u9332\u3057\u307e\u3057\u305f\u3002\n\n```\n### SSH\u9375\u306e\u4f5c\u6210\n$ ssh-keygen -t rsa -b 4096 -f ~/.ssh/vagrant-digitalocean.pem\n$ chmod 600 ~/.ssh/vagrant-digitalocean.pem\n$ chmod 644 ~/.ssh/vagrant-digitalocean.pem.pub\n\n### cat\u3057\u3066\u8868\u793a\u3055\u308c\u308b\u5185\u5bb9\u3092\u767b\u9332\n$ cat ~/.ssh/vagrant-digitalocean.pem.pub\n===============================================\nssh-rsa AAAA(\u4e2d\u7565)4Rw== ftakao2007@ftakao2007mac\n===============================================\n```\n\n\n### \u8a3c\u660e\u66f8\u306e\u4f5c\u6210\nVagrantfile\u306eprovider.ca_path\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\n### \u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n$ ruby -ropenssl -e \"p OpenSSL::X509::DEFAULT_CERT_FILE\"\n===============================================\n\"/usr/local/etc/openssl/cert.pem\"\n===============================================\n```\n\n### Vagrantfile\u4f5c\u6210\n```\n### \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u79fb\u52d5\u3002\u4efb\u610f\u306e\u5834\u6240\u3067OK\u3002\n$ mkdir -p ~/work/vagrant/vagrant-digitalocean\n$ cd ~/work/vagrant/vagrant-digitalocean\n\n### Vagrantfile\u3092\u4f5c\u6210\n$ vi Vagrantfile\n===========================================\nVagrant.configure('2') do |config|\n  config.vm.hostname              = 'ftakao2007.foobar.com'  # \u597d\u304d\u306ahostname\u306b\u5909\u66f4\n\n  config.vm.provider :digital_ocean do |provider, override|\n    provider.client_id            = '90(\u4e2d\u7565)b3'  # https://cloud.digitalocean.com/api_access \u3067\u53d6\u5f97\u3057\u305fclient_id(Client ID)\u3092\u6307\u5b9a\n    provider.api_key              = '92(\u4e2d\u7565)84'    # https://cloud.digitalocean.com/api_access \u3067\u53d6\u5f97\u3057\u305fapi_key(API Key)\u3092\u6307\u5b9a\n    provider.ssh_key_name         = 'MyMac vagrant-digitalocean.pem.pub'    # https://cloud.digitalocean.com/ssh_keys   \u3067\u8a2d\u5b9a\u3057\u305fSSH\u9375\u540d\u3092\u6307\u5b9a\n    provider.token                = '4d(\u4e2d\u7565)bd'      # https://cloud.digitalocean.com/settings/applications  \u3067\u8a2d\u5b9a\u3057\u305ftoken(Personal Access Tokens\u306eGenerate New Token\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e)\u3092\u6307\u5b9a\n\n    override.ssh.private_key_path = '~/.ssh/vagrant-digitalocean.pem'\n    override.vm.box               = 'digital_ocean'\n    override.vm.box_url           = \"https://github.com/smdahlen/vagrant-digitalocean/raw/master/box/digital_ocean.box\"\n\n    provider.image                = 'centos-7-0-x64'\n    provider.region               = 'sgp1'\n    provider.size                 = '512MB'\n    provider.ca_path              = '/usr/local/etc/openssl/cert.pem'\n  end\nend\n===========================================\n```\n\n### Droplet\u3092\u8d77\u52d5\n```\n$ vagrant up --provider=digital_ocean\n===========================================\nBringing machine 'default' up with 'digital_ocean' provider...\n==> default: Using existing SSH key: MyMac vagrant-digitalocean.pem.pub\n==> default: Creating a new droplet...\n==> default: Assigned IP address: 128.199.XXX.XXX\n==> default: Private IP address: 10.130.XXX.XXX\n==> default: Modifying sudoers file to remove tty requirement...\n==> default: Rsyncing folder: /Users/ftakao2007/work/vagrant/vagrant-digitalocean/ => /vagrant...\n===========================================\n\n$ vagrant status\n===========================================\nCurrent machine states:\n\ndefault                   active (digital_ocean)\n\nactive\n===========================================\n\n$ vagrant ssh\n[root@ftakao2007 ~]# cat /etc/redhat-release\n===========================================\nCentOS Linux release 7.0.1406 (Core)\n===========================================\n```\n\n### Web\u304b\u3089\u78ba\u8a8d\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-01-18 19.29.48.png](https://qiita-image-store.s3.amazonaws.com/0/20474/b6f77012-bfb2-40bf-126f-56b6550fc10c.png)\n\n### Droplet\u524a\u9664\n```\n[root@ftakao2007 ~]# exit\n$ vagrant destroy\n===========================================\n    default: Are you sure you want to destroy the 'default' VM? [y/N] y\n==> default: Destroying the droplet...\n===========================================\n\n$ vagrant status\n===========================================\nCurrent machine states:\n\ndefault                   not_created (digital_ocean)\n\nnot_created\n===========================================\n```\n\n## \u30ea\u30f3\u30af\n- [Mac\u304b\u3089Vagrant\u30b3\u30de\u30f3\u30c9\u4e00\u767a\u3067SSD\u306aVPS(DigitalOcean)\u4e0a\u306bCentOS6.5+Docker\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b](http://blog.glidenote.com/blog/2013/12/20/vagrant-docker-digitalocean/)\n- [vagrant\u3067\u306f\u3058\u3081\u308b\u30af\u30e9\u30a6\u30c9\u958b\u767a\u74b0\u5883\uff08DigitalOcean\u7de8\uff09](http://qiita.com/msykiino/items/d45cab7f520a3288862a)\n- [Digital Ocean\u306evagrant up\u3067SSL error\u304c\u51fa\u305f\u6642\u306e\u5bfe\u5fdc](http://iwashi.co/2014/05/06/digital-oceanvagrant-upssl-errorrbenv/)\n", "tags": ["centos7", "DigitalOcean", "vagrant1.7.2", "MacOSX10.9.4"]}