{"context": "LINE Messaging API\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u4ee5\u5916\u306b\u3082\u52d5\u753b\u3084\u5199\u771f\u3001\u97f3\u58f0\u306a\u3069\u3082\u8fd4\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\nBOT\u306b\u558b\u3089\u305b\u3066\u307f\u308b\u306e\u3082\u697d\u3057\u305d\u3046\u306a\u306e\u3067\u97f3\u58f0\u3092\u8fd4\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u30b5\u30fc\u30d0\u5074\u306e\u51e6\u7406\u306fNode.js\u3067\u66f8\u3044\u3066\u307e\u3059\u3002\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\nLINE BOT\u3092\u7121\u6599\u3067\u4f5c\u308b\u6700\u3082\u624b\u3063\u53d6\u308a\u65e9\u3044\u65b9\u6cd5\n\n\u5408\u6210\u97f3\u58f0API\u306e\u6e96\u5099\n\u4eca\u56de\u306f\u97f3\u58f0\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u97f3\u58f0\u5408\u6210API\u300eVOICEROID\uff0b\u7434\u8449\u831c\u30fb\u8475\u300f\u306eWebAPI\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\nMashup Awards2016\u306bAPI\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u3044\u3044\u3082\u306e\u304c\u51fa\u6765\u305f\u3089Mashup Awards\u306b\u51fa\u3059\u305e\uff01\u3068\u3044\u3046\u3053\u3068\u306b\u3057\u3066\u3001\u3068\u308a\u3042\u3048\u305aAPI\u306e\u5229\u7528\u7533\u8acb\u3092\u3057\u307e\u3059\u3002\n\u682a\u5f0f\u4f1a\u793e\u30a8\u30fc\u30a2\u30a4\u69d8\u3088\u308aWeb API\u306e\u4ed5\u69d8\u66f8\u304c\u30e1\u30fc\u30eb\u3067\u9001\u3089\u308c\u3066\u304f\u308b\u306e\u3067\u8aad\u307f\u307e\u3059\u3002\n\nhttp\u3082\u3057\u304f\u306fhttps\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3053\u3068\nGET\u3082\u3057\u304f\u306fPOST\u306e\u3044\u305a\u308c\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u307f\u305f\u3044\n\n\u51fa\u529b\u97f3\u58f0\u30c7\u30fc\u30bf\u5f62\u5f0f\u306f\u4ee5\u4e0b\u306e\u901a\u308a\n\nogg(\u30c7\u30d5\u30a9\u30eb\u30c8)\naac\nwav\n\u03bc-law\nA-law\n\n\u9069\u5f53\u306bGET\u7528\u306eURL\u3092\u4f5c\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u306e\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b\u5165\u529b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4e00\u90e8\u4f0f\u5b57\u306b\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001API\u306eURL\u3084\u3089\u30e6\u30fc\u30b6\u30fb\u30d1\u30b9\u306fWeb API\u7533\u8acb\u306e\u4e0a\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://hogehogehoge/webapi/v2/ttsget.php?username=****&password=***&text=\u3066\u3059\u3068&speaker_name=akane_west\n\u5408\u6210\u97f3\u58f0\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\uff01\n\nLINE\u3078\u306e\u97f3\u58f0\u30c7\u30fc\u30bf\u306e\u8fd4\u3057\u65b9\n\u6b21\u306b\u3001LINE Messaging API\u3067\u306e\u97f3\u58f0\u30c7\u30fc\u30bf\u306e\u8fd4\u3057\u65b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nhttps://devdocs.line.me/ja/#send-message-object\nshell\u7248\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3088\u308a\u8ee2\u8f09\u3057\u307e\u3059\u3002\n\n{\n    \"type\": \"audio\",\n    \"originalContentUrl\": \"https://example.com/original.m4a\",\n    \"duration\": 240000\n}\n\n\n\n\nField\nType\nContent\n\n\n\n\noriginalContentUrl\nString\n\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306eURL, HTTPS, m4a\u5f62\u5f0f\n\n\nduration\nNumber\n\u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306e\u6642\u9593\u9577\u3055(\u30df\u30ea\u79d2)\n\n\n\n\u3061\u306a\u307f\u306bm4a\u3068\u3044\u3046\u306e\u306f\u51fa\u529b\u5f62\u5f0faac\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\u30d1\u30e9\u30e1\u30fc\u30bfext=aac\u3092\u8ffd\u52a0\u3057\u3066aac\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u304c\u8fd4\u5374\u3055\u308c\u308b\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\nhttps://hogehogehoge/webapi/v2/ttsget.php?username=****&password=***&text=\u3066\u3059\u3068&speaker_name=akane_west&ext=aac\n\u3053\u308c\u3092originalContentUrl\u306b\u7a81\u3063\u8fbc\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002\n\nexample.js\nif (req.body.events[0].message.text == \"\u8a71\u305b\"){\n    var options = {\n        method: 'POST',\n        uri: 'https://api.line.me/v2/bot/message/reply',\n        body: {\n          replyToken: req.body.events[0].replyToken,\n          messages: [{\n              type: \"audio\",\n              originalContentUrl: \"https://*****/webapi/v2/ttsget.php?username=****&password=***&text=\u3066\u3059\u3068&speaker_name=akane_west&ext=aac\",\n              duration: 10000\n            }]\n        },\n        auth: {\n            bearer: '\u81ea\u5206\u306eLINE\u306eauth token'\n        },\n        json: true\n    };\n    request(options, function(err, res, body) {\n        console.log(JSON.stringify(res));\n    });\n}\n\n\n\u3069\u3046\u3067\u3059\uff1f\u8fd4\u3063\u3066\u304d\u307e\u305b\u3093\u306d\uff1f\nNode.js\u306e\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3068\u3001LINE\u5074\u304b\u3089invalid\u306aURL\u3060\u304b\u3089\u30c0\u30e1\u3067\u3059\uff01\u306a\u65e8\u306e\u30a8\u30e9\u30fc\u304c\u8fd4\u3063\u3066\u304d\u3066\u3044\u307e\u3057\u305f\u3002\n\u30d1\u30e9\u30e1\u30fc\u30bf\u4ed8URL\u306f\u30c0\u30e1\u307f\u305f\u3044\u3067\u3059\u306d\uff3c(^o^)\uff0f\n\u3068\u3044\u3046\u3053\u3068\u3067\u77ed\u7e2eURL\u30b5\u30fc\u30d3\u30b9\u3092\u7d4c\u7531\u3055\u305b\u3066\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6d88\u3057\u3066\u3084\u308a\u307e\u3059\u3002\nGoogle URL Shortner API\u3067\u4f5c\u3063\u305fURL https://goo.gl/****** \u3092\u3001originalContentUrl\u306b\u7a81\u3063\u8fbc\u3093\u3067\u307f\u307e\u3059\u3002\n\nexample.js\nif (req.body.events[0].message.text == \"\u8a71\u305b\"){\n    var options = {\n        method: 'POST',\n        uri: 'https://api.line.me/v2/bot/message/reply',\n        body: {\n          replyToken: req.body.events[0].replyToken,\n          messages: [{\n              type: \"audio\",\n              originalContentUrl: \"https://goo.gl/******\",\n              duration: 10000\n            }]\n        },\n        auth: {\n            bearer: '\u81ea\u5206\u306eLINE\u306eauth token'\n        },\n        json: true\n    };\n    request(options, function(err, res, body) {\n        console.log(JSON.stringify(res));\n    });\n}\n\n\n\n\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u306d\uff01\n\n\u4efb\u610f\u306e\u8a00\u8449\u3092\u558b\u3089\u305b\u3066\u307f\u308b\n\u4e0a\u306e\u4f8b\u3067\u306f\u77ed\u7e2eURL\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u30cf\u30fc\u30c9\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u6bce\u56de\u540c\u3058\u97f3\u58f0\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u4efb\u610f\u306e\u8a00\u8449\u3092\u558b\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\nexample.js\nif (req.body.events[0].message.text.indexOf(\"\u8a71\u305b:\") == 0){\n    var msg = req.body.events[0].message.text.slice(3); // \"\u8a71\u305b:\"\u4ee5\u964d\u306e\u6587\u5b57\u5217\n\n    // URL\u77ed\u7e2eAPI\u7528\n    var togoogle = {\n        method: 'POST',\n        uri: 'https://www.googleapis.com/urlshortener/v1/url?fields=id&key=Google\u306eAPI\u30ad\u30fc',\n        body: {\n          longUrl: \"https://*****/webapi/v2/ttsget.php?username=***&password=****&text=\"+msg+\"&speaker_name=akane_west&ext=aac\"\n        },\n        json: true\n    };          \n\n    request(togoogle, function(err, res, body) {\n\n        var shorturl=res.body.id;\n        console.log(\"url:\"+shorturl);\n\n        var options = {\n            method: 'POST',\n            uri: 'https://api.line.me/v2/bot/message/reply',\n            body: {\n              replyToken: req.body.events[0].replyToken,\n              messages: [{\n                  type: \"audio\",\n                  originalContentUrl: shorturl,\n                  duration: 10000\n                }]\n            },\n            auth: {\n                bearer: '\u81ea\u5206\u306eLINE\u306eauth token'\n            },\n            json: true\n        };\n        request(options, function(err, res, body) {\n            console.log(JSON.stringify(res));\n        });\n});\n\n\n\n\n\u5b8c\u6210\u3057\u305fBOT\u306e\u30b5\u30f3\u30d7\u30eb(2016/11/1\u8ffd\u8a18)\n\u7c21\u5358\u306b\u8a66\u305b\u308b\u3088\u3046\u306b\u3001\u5b8c\u6210\u3057\u305fBOT\u306eQR\u30b3\u30fc\u30c9\u3092\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\u53cb\u9054\u8ffd\u52a0\u3057\u3066\u8a71\u3057\u304b\u3051\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u30b0\u30eb\u30fc\u30d7\u30c1\u30e3\u30c3\u30c8\u3084\u8907\u6570\u4eba\u30c1\u30e3\u30c3\u30c8\u306b\u62db\u5f85\u3057\u3066\u305d\u3053\u3067\u4f7f\u3046\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u300e\u30e2\u30f3\u30b9\u30c8\u30b3\u30f3\u30b7\u30a7\u30eb\u300f\u3068\u3044\u3046\u540d\u524d\u3067\u3059\u304c\u3001\u57fa\u672c\u7684\u306b\u306f\u30e2\u30f3\u30b9\u30c8\u306eLINE\u30b0\u30eb\u30fc\u30d7\u3067\u4f7f\u3046\u3053\u3068\u3092\u60f3\u5b9a\u3057\u305fBOT\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u4f5c\u3063\u305f\u97f3\u58f0\u30e1\u30c3\u30bb\u30fc\u30b8\u6a5f\u80fd\u4ee5\u5916\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\n\u30e2\u30f3\u30b9\u30c8\u3057\u3066\u308b\u4eba\u306f\u662f\u975e\u4f7f\u3063\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\n\n\n\n\u30b3\u30de\u30f3\u30c9\n\u4f8b\n\u3069\u3046\u306a\u308b\uff1f\n\u5099\u8003\n\n\n\n\n:(\u964d\u81e8\u30ad\u30e3\u30e9\u540d)\n:\u30a2\u30f4\u30a1\u30ed\u30f3\n\u653b\u7565\u30da\u30fc\u30b8\u306eURL\u3092\u8868\u793a\n\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u306e\u524d\u306b\u653b\u7565\u60c5\u5831\u3092\u5171\u6709\u3057\u3088\u3046\n\n\n\u65b0\u30ad\u30e3\u30e9\u60c5\u5831\n\u65b0\u30ad\u30e3\u30e9\u60c5\u5831\n\u30e2\u30f3\u30b9\u30c8today\u306e\u30ad\u30e3\u30e9\u30da\u30fc\u30b8\u3092\u8868\u793a\n\u6b21\u56de\u8ffd\u52a0\u306e\u65b0\u30ad\u30e3\u30e9\u3092\u30b0\u30eb\u30fc\u30d7\u306e\u30e1\u30f3\u30d0\u30fc\u3067\u5171\u6709\n\n\n\u30ac\u30c1\u30e3\u7814\n\u30ac\u30c1\u30e3\u7814\n\u30ac\u30c1\u30e3\u7814\u306e\u73fe\u5728\u306e\u78ba\u7387\u8868\u793a\n-\n\n\n\u30b5\u30a4\u30b3\u30ed\n\u30b5\u30a4\u30b3\u30ed\n1\uff5e6\u306e\u6570\u5b57\u3092\u30e9\u30f3\u30c0\u30e0\u8868\u793a\n\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u3068\u306f\u3068\u304d\u306b\u4e89\u3044\u3054\u3068\u304c\u8d77\u3053\u308b\u3082\u306e\u3067\u3059\u3002\u30b5\u30a4\u30b3\u30ed\u3067\u4e89\u3044\u3092\u89e3\u6c7a\u3057\u3088\u3046\u3002\n\n\n\u306a\u3046\n\u306a\u3046\n\u73fe\u5728\u964d\u81e8\u4e2d\u306e\u30af\u30a8\u30b9\u30c8\u306e\u4e00\u89a7\u53ca\u3073\u653b\u7565\u30da\u30fc\u30b8\u306e\u30ea\u30f3\u30af\u8868\u793a\n\n\n\nbye\nbye\n\u30b0\u30eb\u30fc\u30d7\u30c1\u30e3\u30c3\u30c8\u3082\u3057\u304f\u306f\u8907\u6570\u4eba\u30c1\u30e3\u30c3\u30c8\u304b\u3089\u306e\u9000\u51fa\n-\n\n\n\n\u30e2\u30f3\u30b9\u30c8\u30b3\u30f3\u30b7\u30a7\u30eb\u4f7f\u7528\u8aac\u660e\u66f8\nhttp://blog.unokun.com/line/monst-concierge/\n\n\u305d\u306e\u5f8c...(2017/1/30\u8ffd\u8a18)\n\u53e3\u30b3\u30df\u3067\u3069\u3093\u3069\u3093\u30e6\u30fc\u30b6\u30fc\u304c\u5897\u3048\u3066\u304d\u307e\u3057\u305f\u3002\n\u5c11\u306a\u304f\u3068\u308211\u6708\u4e0b\u65ec\u6642\u70b9\u3067\u306fLINE@\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3042\u3063\u3066\u3082\u6240\u5c5e1000\u30b0\u30eb\u30fc\u30d7\u304c\u4e0a\u9650\u3060\u3063\u305f\u3088\u3046\u3067(\u62db\u5f85\u3057\u3066\u3082\u53c2\u52a0\u4fdd\u7559\u306b\u306a\u308b)\u3001\n\u30b0\u30eb\u30fc\u30d7\u3067\u306e\u5229\u7528\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u308b\u672cBOT\u306f\u30011000\u30b0\u30eb\u30fc\u30d7\u306b\u5230\u9054\u3057\u305d\u3046\u306b\u306a\u308b\u305f\u3073\u306b\u5225\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3057\u305f\u30fb\u30fb\u30fb\u3002\n\u3044\u3064\u306e\u307e\u306b\u304b1000\u30b0\u30eb\u30fc\u30d7\u6240\u5c5e\u304c\u7de9\u548c\u3055\u308c\u3066\u3044\u305f\u3088\u3046\u3067\u3059\u3002\n1\u670830\u65e5\u73fe\u5728\u3001\n7\u30a2\u30ab\u30a6\u30f3\u30c8\u7d2f\u8a08\u3067\u53cb\u9054\u767b\u933231000\u4eba\n\u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u657013000\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nLINE Messaging API\u306f\u3001\u30c6\u30ad\u30b9\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u4ee5\u5916\u306b\u3082\u52d5\u753b\u3084\u5199\u771f\u3001\u97f3\u58f0\u306a\u3069\u3082\u8fd4\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\nBOT\u306b\u558b\u3089\u305b\u3066\u307f\u308b\u306e\u3082\u697d\u3057\u305d\u3046\u306a\u306e\u3067\u97f3\u58f0\u3092\u8fd4\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u30b5\u30fc\u30d0\u5074\u306e\u51e6\u7406\u306fNode.js\u3067\u66f8\u3044\u3066\u307e\u3059\u3002\u4e0b\u8a18\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n[LINE BOT\u3092\u7121\u6599\u3067\u4f5c\u308b\u6700\u3082\u624b\u3063\u53d6\u308a\u65e9\u3044\u65b9\u6cd5](http://qiita.com/InoueDaiki/items/4827f18607b178e02cc5)\n\n# \u5408\u6210\u97f3\u58f0API\u306e\u6e96\u5099\n\u4eca\u56de\u306f\u97f3\u58f0\u30c7\u30fc\u30bf\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306b\u3001[\u97f3\u58f0\u5408\u6210API\u300eVOICEROID\uff0b\u7434\u8449\u831c\u30fb\u8475\u300f](http://hacklog.jp/apis/19)\u306eWebAPI\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\n\nMashup Awards2016\u306bAPI\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u3044\u3044\u3082\u306e\u304c\u51fa\u6765\u305f\u3089Mashup Awards\u306b\u51fa\u3059\u305e\uff01\u3068\u3044\u3046\u3053\u3068\u306b\u3057\u3066\u3001\u3068\u308a\u3042\u3048\u305aAPI\u306e\u5229\u7528\u7533\u8acb\u3092\u3057\u307e\u3059\u3002\n\u682a\u5f0f\u4f1a\u793e\u30a8\u30fc\u30a2\u30a4\u69d8\u3088\u308aWeb API\u306e\u4ed5\u69d8\u66f8\u304c\u30e1\u30fc\u30eb\u3067\u9001\u3089\u308c\u3066\u304f\u308b\u306e\u3067\u8aad\u307f\u307e\u3059\u3002\n\n- http\u3082\u3057\u304f\u306fhttps\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3053\u3068\n- GET\u3082\u3057\u304f\u306fPOST\u306e\u3044\u305a\u308c\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u307f\u305f\u3044\n\n\u51fa\u529b\u97f3\u58f0\u30c7\u30fc\u30bf\u5f62\u5f0f\u306f\u4ee5\u4e0b\u306e\u901a\u308a\n\n- ogg(\u30c7\u30d5\u30a9\u30eb\u30c8)\n- aac\n- wav\n- \u03bc-law\n- A-law\n\n\u9069\u5f53\u306bGET\u7528\u306eURL\u3092\u4f5c\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u306e\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b\u5165\u529b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4e00\u90e8\u4f0f\u5b57\u306b\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001API\u306eURL\u3084\u3089\u30e6\u30fc\u30b6\u30fb\u30d1\u30b9\u306fWeb API\u7533\u8acb\u306e\u4e0a\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://hogehogehoge/webapi/v2/ttsget.php?username=****&password=***&text=\u3066\u3059\u3068&speaker_name=akane_west\n\n\u5408\u6210\u97f3\u58f0\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\uff01\n\n# LINE\u3078\u306e\u97f3\u58f0\u30c7\u30fc\u30bf\u306e\u8fd4\u3057\u65b9\n\u6b21\u306b\u3001LINE Messaging API\u3067\u306e\u97f3\u58f0\u30c7\u30fc\u30bf\u306e\u8fd4\u3057\u65b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nhttps://devdocs.line.me/ja/#send-message-object\n\nshell\u7248\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3088\u308a\u8ee2\u8f09\u3057\u307e\u3059\u3002\n`\n{\n    \"type\": \"audio\",\n    \"originalContentUrl\": \"https://example.com/original.m4a\",\n    \"duration\": 240000\n}\n`\n\n| Field | Type | Content |\n|:-:|:-:|:-:|\n| originalContentUrl  | String  | \u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306eURL, HTTPS, m4a\u5f62\u5f0f |\n|  duration | Number  | \u97f3\u58f0\u30d5\u30a1\u30a4\u30eb\u306e\u6642\u9593\u9577\u3055(\u30df\u30ea\u79d2)  |\n\u3061\u306a\u307f\u306bm4a\u3068\u3044\u3046\u306e\u306f\u51fa\u529b\u5f62\u5f0faac\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\u30d1\u30e9\u30e1\u30fc\u30bfext=aac\u3092\u8ffd\u52a0\u3057\u3066aac\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u304c\u8fd4\u5374\u3055\u308c\u308b\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\nhttps://hogehogehoge/webapi/v2/ttsget.php?username=****&password=***&text=\u3066\u3059\u3068&speaker_name=akane_west&ext=aac\n\n\u3053\u308c\u3092originalContentUrl\u306b\u7a81\u3063\u8fbc\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002\n\n```js:example.js\nif (req.body.events[0].message.text == \"\u8a71\u305b\"){\n\tvar options = {\n\t\tmethod: 'POST',\n\t\turi: 'https://api.line.me/v2/bot/message/reply',\n\t\tbody: {\n\t\t  replyToken: req.body.events[0].replyToken,\n\t\t  messages: [{\n\t\t\t  type: \"audio\",\n\t\t\t  originalContentUrl: \"https://*****/webapi/v2/ttsget.php?username=****&password=***&text=\u3066\u3059\u3068&speaker_name=akane_west&ext=aac\",\n\t\t\t  duration: 10000\n\t\t\t}]\n\t\t},\n\t\tauth: {\n\t\t\tbearer: '\u81ea\u5206\u306eLINE\u306eauth token'\n\t\t},\n\t\tjson: true\n\t};\n\trequest(options, function(err, res, body) {\n\t\tconsole.log(JSON.stringify(res));\n\t});\n}\n```\n\n\u3069\u3046\u3067\u3059\uff1f\u8fd4\u3063\u3066\u304d\u307e\u305b\u3093\u306d\uff1f\nNode.js\u306e\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3068\u3001LINE\u5074\u304b\u3089invalid\u306aURL\u3060\u304b\u3089\u30c0\u30e1\u3067\u3059\uff01\u306a\u65e8\u306e\u30a8\u30e9\u30fc\u304c\u8fd4\u3063\u3066\u304d\u3066\u3044\u307e\u3057\u305f\u3002\n\u30d1\u30e9\u30e1\u30fc\u30bf\u4ed8URL\u306f\u30c0\u30e1\u307f\u305f\u3044\u3067\u3059\u306d\uff3c(^o^)\uff0f\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u77ed\u7e2eURL\u30b5\u30fc\u30d3\u30b9\u3092\u7d4c\u7531\u3055\u305b\u3066\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6d88\u3057\u3066\u3084\u308a\u307e\u3059\u3002\nGoogle URL Shortner API\u3067\u4f5c\u3063\u305fURL https://goo.gl/****** \u3092\u3001originalContentUrl\u306b\u7a81\u3063\u8fbc\u3093\u3067\u307f\u307e\u3059\u3002\n\n```js:example.js\nif (req.body.events[0].message.text == \"\u8a71\u305b\"){\n\tvar options = {\n\t\tmethod: 'POST',\n\t\turi: 'https://api.line.me/v2/bot/message/reply',\n\t\tbody: {\n\t\t  replyToken: req.body.events[0].replyToken,\n\t\t  messages: [{\n\t\t\t  type: \"audio\",\n\t\t\t  originalContentUrl: \"https://goo.gl/******\",\n\t\t\t  duration: 10000\n\t\t\t}]\n\t\t},\n\t\tauth: {\n\t\t\tbearer: '\u81ea\u5206\u306eLINE\u306eauth token'\n\t\t},\n\t\tjson: true\n\t};\n\trequest(options, function(err, res, body) {\n\t\tconsole.log(JSON.stringify(res));\n\t});\n}\n```\n![talk1.jpg](https://qiita-image-store.s3.amazonaws.com/0/146969/6cf87a7a-74c5-9c9f-1cd3-64cb6f006a7c.jpeg)\n\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u306d\uff01\n\n# \u4efb\u610f\u306e\u8a00\u8449\u3092\u558b\u3089\u305b\u3066\u307f\u308b\n\u4e0a\u306e\u4f8b\u3067\u306f\u77ed\u7e2eURL\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u30cf\u30fc\u30c9\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u6bce\u56de\u540c\u3058\u97f3\u58f0\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u4efb\u610f\u306e\u8a00\u8449\u3092\u558b\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n```js:example.js\nif (req.body.events[0].message.text.indexOf(\"\u8a71\u305b:\") == 0){\n  \tvar msg = req.body.events[0].message.text.slice(3); // \"\u8a71\u305b:\"\u4ee5\u964d\u306e\u6587\u5b57\u5217\n\n\t// URL\u77ed\u7e2eAPI\u7528\n\tvar togoogle = {\n\t\tmethod: 'POST',\n\t\turi: 'https://www.googleapis.com/urlshortener/v1/url?fields=id&key=Google\u306eAPI\u30ad\u30fc',\n\t\tbody: {\n\t\t  longUrl: \"https://*****/webapi/v2/ttsget.php?username=***&password=****&text=\"+msg+\"&speaker_name=akane_west&ext=aac\"\n\t\t},\n\t\tjson: true\n\t};  \t  \t\n\n\trequest(togoogle, function(err, res, body) {\n\n\t\tvar shorturl=res.body.id;\n\t\tconsole.log(\"url:\"+shorturl);\n\t\t\n\t\tvar options = {\n\t\t\tmethod: 'POST',\n\t\t\turi: 'https://api.line.me/v2/bot/message/reply',\n\t\t\tbody: {\n\t\t\t  replyToken: req.body.events[0].replyToken,\n\t\t\t  messages: [{\n\t\t\t\t  type: \"audio\",\n\t\t\t\t  originalContentUrl: shorturl,\n\t\t\t\t  duration: 10000\n\t\t\t\t}]\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\tbearer: '\u81ea\u5206\u306eLINE\u306eauth token'\n\t\t\t},\n\t\t\tjson: true\n\t\t};\n\t\trequest(options, function(err, res, body) {\n\t\t\tconsole.log(JSON.stringify(res));\n\t\t});\n});\n```\n![talk2.jpg](https://qiita-image-store.s3.amazonaws.com/0/146969/2c437df2-b39d-5259-bef4-7558cd3a6bd7.jpeg)\n\n# \u5b8c\u6210\u3057\u305fBOT\u306e\u30b5\u30f3\u30d7\u30eb(2016/11/1\u8ffd\u8a18)\n\u7c21\u5358\u306b\u8a66\u305b\u308b\u3088\u3046\u306b\u3001\u5b8c\u6210\u3057\u305fBOT\u306eQR\u30b3\u30fc\u30c9\u3092\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\u53cb\u9054\u8ffd\u52a0\u3057\u3066\u8a71\u3057\u304b\u3051\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n<img src=\"http://qr-official.line.me/L/dbcmcOqlkp.png\" width=\"150\">\n<a href=\"https://line.me/R/ti/p/%40oxd7796p\"><img height=\"36\" border=\"0\" alt=\"\u53cb\u3060\u3061\u8ffd\u52a0\" src=\"https://scdn.line-apps.com/n/line_add_friends/btn/ja.png\"></a>\n\n\u30b0\u30eb\u30fc\u30d7\u30c1\u30e3\u30c3\u30c8\u3084\u8907\u6570\u4eba\u30c1\u30e3\u30c3\u30c8\u306b\u62db\u5f85\u3057\u3066\u305d\u3053\u3067\u4f7f\u3046\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u300e\u30e2\u30f3\u30b9\u30c8\u30b3\u30f3\u30b7\u30a7\u30eb\u300f\u3068\u3044\u3046\u540d\u524d\u3067\u3059\u304c\u3001\u57fa\u672c\u7684\u306b\u306f\u30e2\u30f3\u30b9\u30c8\u306eLINE\u30b0\u30eb\u30fc\u30d7\u3067\u4f7f\u3046\u3053\u3068\u3092\u60f3\u5b9a\u3057\u305fBOT\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u3067\u4f5c\u3063\u305f\u97f3\u58f0\u30e1\u30c3\u30bb\u30fc\u30b8\u6a5f\u80fd\u4ee5\u5916\u306b\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\n\u30e2\u30f3\u30b9\u30c8\u3057\u3066\u308b\u4eba\u306f\u662f\u975e\u4f7f\u3063\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\n\n| \u30b3\u30de\u30f3\u30c9 | \u4f8b | \u3069\u3046\u306a\u308b\uff1f | \u5099\u8003 |\n|:-:|:-:|:-:|:-:|\n| :(\u964d\u81e8\u30ad\u30e3\u30e9\u540d)  | :\u30a2\u30f4\u30a1\u30ed\u30f3  | \u653b\u7565\u30da\u30fc\u30b8\u306eURL\u3092\u8868\u793a  | \u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u306e\u524d\u306b\u653b\u7565\u60c5\u5831\u3092\u5171\u6709\u3057\u3088\u3046  |\n| \u65b0\u30ad\u30e3\u30e9\u60c5\u5831  | \u65b0\u30ad\u30e3\u30e9\u60c5\u5831  | \u30e2\u30f3\u30b9\u30c8today\u306e\u30ad\u30e3\u30e9\u30da\u30fc\u30b8\u3092\u8868\u793a  | \u6b21\u56de\u8ffd\u52a0\u306e\u65b0\u30ad\u30e3\u30e9\u3092\u30b0\u30eb\u30fc\u30d7\u306e\u30e1\u30f3\u30d0\u30fc\u3067\u5171\u6709  |\n| \u30ac\u30c1\u30e3\u7814  | \u30ac\u30c1\u30e3\u7814  | \u30ac\u30c1\u30e3\u7814\u306e\u73fe\u5728\u306e\u78ba\u7387\u8868\u793a  |  - |\n| \u30b5\u30a4\u30b3\u30ed  | \u30b5\u30a4\u30b3\u30ed  | 1\uff5e6\u306e\u6570\u5b57\u3092\u30e9\u30f3\u30c0\u30e0\u8868\u793a  | \u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u3068\u306f\u3068\u304d\u306b\u4e89\u3044\u3054\u3068\u304c\u8d77\u3053\u308b\u3082\u306e\u3067\u3059\u3002\u30b5\u30a4\u30b3\u30ed\u3067\u4e89\u3044\u3092\u89e3\u6c7a\u3057\u3088\u3046\u3002  |\n| \u306a\u3046 | \u306a\u3046  | \u73fe\u5728\u964d\u81e8\u4e2d\u306e\u30af\u30a8\u30b9\u30c8\u306e\u4e00\u89a7\u53ca\u3073\u653b\u7565\u30da\u30fc\u30b8\u306e\u30ea\u30f3\u30af\u8868\u793a  |  |\n| bye  | bye  | \u30b0\u30eb\u30fc\u30d7\u30c1\u30e3\u30c3\u30c8\u3082\u3057\u304f\u306f\u8907\u6570\u4eba\u30c1\u30e3\u30c3\u30c8\u304b\u3089\u306e\u9000\u51fa  | -  |\n\n\u30e2\u30f3\u30b9\u30c8\u30b3\u30f3\u30b7\u30a7\u30eb\u4f7f\u7528\u8aac\u660e\u66f8\nhttp://blog.unokun.com/line/monst-concierge/\n\n# \u305d\u306e\u5f8c...(2017/1/30\u8ffd\u8a18)\n\u53e3\u30b3\u30df\u3067\u3069\u3093\u3069\u3093\u30e6\u30fc\u30b6\u30fc\u304c\u5897\u3048\u3066\u304d\u307e\u3057\u305f\u3002\n\u5c11\u306a\u304f\u3068\u308211\u6708\u4e0b\u65ec\u6642\u70b9\u3067\u306fLINE@\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3042\u3063\u3066\u3082\u6240\u5c5e1000\u30b0\u30eb\u30fc\u30d7\u304c\u4e0a\u9650\u3060\u3063\u305f\u3088\u3046\u3067(\u62db\u5f85\u3057\u3066\u3082\u53c2\u52a0\u4fdd\u7559\u306b\u306a\u308b)\u3001\n\u30b0\u30eb\u30fc\u30d7\u3067\u306e\u5229\u7528\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u308b\u672cBOT\u306f\u30011000\u30b0\u30eb\u30fc\u30d7\u306b\u5230\u9054\u3057\u305d\u3046\u306b\u306a\u308b\u305f\u3073\u306b\u5225\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3057\u305f\u30fb\u30fb\u30fb\u3002\n\u3044\u3064\u306e\u307e\u306b\u304b1000\u30b0\u30eb\u30fc\u30d7\u6240\u5c5e\u304c\u7de9\u548c\u3055\u308c\u3066\u3044\u305f\u3088\u3046\u3067\u3059\u3002\n\n1\u670830\u65e5\u73fe\u5728\u3001\n7\u30a2\u30ab\u30a6\u30f3\u30c8\u7d2f\u8a08\u3067\u53cb\u9054\u767b\u933231000\u4eba\n\u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u657013000\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n", "tags": ["Node.js", "linebot", "LINEmessagingAPI", "Line"]}