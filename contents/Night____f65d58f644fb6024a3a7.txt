{"context": " More than 1 year has passed since last update.iOS\u3067Facebook SDK\u3092\u4f7f\u7528\u3057\u3066\u6295\u7a3f\u3059\u308b\u3068\u304d\u306b\u7c21\u5358\u306b\u4f7f\u3048\u308b\u30af\u30e9\u30b9FBWebDialogs\u3067\u3001\n\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u4e0d\u5177\u5408\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u305d\u306e\u5bfe\u5fdc\u3092\u5171\u6709\u3057\u307e\u3059\u3002\n(2015/3/18\u73fe\u5728\u306eFacebook SDK for iOS v3.23.1 \u306e\u74b0\u5883\u3067\u3059\u3002)\n\nFBWebDialogs\u306e\u753b\u9762\u304c\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\nFBWebDialogs -presentFeedDialogModallyWithSession...\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\nFacebookSDK\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u6295\u7a3f\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u304c\u3001\n\u3044\u3064\u307e\u3067\u7d4c\u3063\u3066\u3082\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\u72b6\u614b\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u203b\u6210\u529f\u3057\u3066\u308b\u3068\u304d\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6295\u7a3f\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\n\u539f\u56e0\uff1aUserAgent\u306e\u5909\u66f4\nUIWebView\u3092\u958b\u304f\u3068\u304d\u306eUserAgent\u3092\u72ec\u81ea\u306e\u3082\u306e\u306b\u3057\u305f\u3044\u3068\u304d\u306b\u3001\nNSUserDefault\u3092\u4f7f\u7528\u3057\u305f\u4ee5\u4e0b\u306e\u65b9\u6cd5\u304c\u3088\u304f\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\nUserAgent\u306e\u5909\u66f4\n\n//UserAgent\u8a2d\u5b9a\nNSDictionary *dictionary = @{@\"UserAgent\": @\"\u8a2d\u5b9a\u3057\u305f\u3044UA\"};\n[[NSUserDefaults standardUserDefaults] registerDefaults:dictionary];\n\n\n\nWebView\u306eUserAgent\u3092\u5909\u66f4\u3059\u308b\u306b\u306f\u7c21\u5358\u3067\u697d\u306a\u65b9\u6cd5\u3067\u3059\u304c\u3001\n\u3053\u308c\u306b\u3088\u3063\u3066FBWebDialogs\u306f\u8aad\u307f\u8fbc\u307e\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\u76f4\u63a5\u306e\u539f\u56e0\u306f\u304a\u305d\u3089\u304fFBWebDialogs\u304c\u5185\u90e8\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u3067\u3042\u308d\u3046\u3001\nhttps://m.facebook.com/dialog/\n\u304cUserAgent\u306b\u3088\u308b\u5224\u5b9a\u3092\u884c\u3063\u3066\u3044\u308b\u305f\u3081\u306b\u5f3e\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u3002\n\n\u5bfe\u7b56\uff1aUserAgent\u767b\u9332\u306e\u524a\u9664\n\u5909\u66f4\u3057\u3066\u3044\u308bUserAgent\u306e\u8a2d\u5b9a\u3092\u524a\u9664\u3059\u308c\u3070\u3001\u6b63\u5e38\u306b\u6a5f\u80fd\u3057\u307e\u3059\u3002\nFBWebDialogs\u3092\u8868\u793a\u3059\u308b\u76f4\u524d\u3067UserAgent\u306e\u524a\u9664\u3092\u884c\u3044\u3001\u6295\u7a3f\u5b8c\u4e86\u5f8c\u306ehandler\u306e\u4e2d\u3067\n\nUserAgent\u306e\u524a\u9664\n\n- (void)presentFBWebDialogs {\n    // \u6295\u7a3f\u753b\u9762\u3092WebView\u3067\u8868\u793a\u3059\u308b\u524d\u306bUserAgent\u306e\u8a2d\u5b9a\u3092\u524a\u9664\n    [self removeUserAgentSetting];\n\n    // \u6295\u7a3f\u753b\u9762\u3092\u8868\u793a\n    [FBWebDialogs presentFeedDialogModallyWithSession:nil\n                  parameters:nil\n                  handler:^(FBWebDialogResult result, NSURL *resultURL, NSError *error) {\n                      // \u6295\u7a3f\u5f8c\u306bUserAgent\u3092\u518d\u767b\u9332\n                      [self resetUserAgentSetting];\n                      if (error) {\n                          NSLog(@\"\u30a8\u30e9\u30fc: %@\", error.description);\n                      }\n                  }];\n}\n\n// UserDefault\u304b\u3089@\"UserAgent\"\u306e\u8a2d\u5b9a\u3092\u524a\u9664\n- (void)removeUserAgentSetting {\n    NSUserDefaults *userDefaults = [NSUserDefaults standardUserDefaults];\n    NSDictionary *registeredDefaults = [userDefaults volatileDomainForName:NSRegistrationDomain];\n    if ([registeredDefaults objectForKey:@\"UserAgent\"] != nil) {\n        NSMutableDictionary *mutableCopy = [NSMutableDictionary dictionaryWithDictionary:registeredDefaults];\n        [mutableCopy removeObjectForKey:@\"UserAgent\"];\n        [self replaceRegisteredDefaults:[mutableCopy copy]];\n        [userDefaults setVolatileDomain:dictionary forName:NSRegistrationDomain];\n    }\n}\n\n// UserDefault\u306b@\"UserAgent\"\u306e\u8a2d\u5b9a\u3092\u767b\u9332\n- (void)resetUserAgentSetting {\n    NSDictionary *dictionary = @{@\"UserAgent\":@\"\u8a2d\u5b9a\u3057\u305f\u3044UA\"};\n    [[NSUserDefaults standardUserDefaults] registerDefaults:dictionary];\n}\n\n\n\n\n\u5bfe\u7b56\uff12\uff1aUserAgent\u306e\u5909\u66f4\u65b9\u6cd5\u306e\u898b\u76f4\u3057\nUIWebView\u306eUserAgent\u3092\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u306fNSUserDefault\u3092\u4f7f\u7528\u3059\u308b\u4ee5\u5916\u306b\u3082\u53ef\u80fd\u3067\u3059\u3002\nNSString *urlAddress = @\"http://www.google.com\";\nNSURL *url = [NSURL URLWithString:urlAddress];\nNSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];\n[request setValue:@\"\u8a2d\u5b9a\u3057\u305f\u3044UserAgent\" forHTTPHeaderField:@\"User_Agent\"];\n[webView loadRequest:request];\n\n\n\n\u307e\u3068\u3081\n\u81ea\u524d\u3067\u6295\u7a3f\u753b\u9762\u3092\u4f5c\u3089\u306a\u304f\u3066\u3082\u6295\u7a3f\u753b\u9762\u3092\u8868\u793a\u3067\u304d\u308b\u7c21\u5358\u3067\u4fbf\u5229\u306aFBWebDialogs\u3067\u3059\u304c\u3001\n\u610f\u5916\u306a\u843d\u3068\u3057\u7a74\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u30a8\u30e9\u30fc\u3082\u51fa\u3066\u304f\u308c\u306a\u304f\u3066\u539f\u56e0\u306e\u8abf\u67fb\u306b\u56f0\u308a\u307e\u3057\u305f\u304c\u3001\u4e0a\u8a18\u306e\u5bfe\u7b56\u3092\u884c\u3048\u3070\u5feb\u9069\u306aFacebookSDK\u958b\u767a\u304c\u9001\u308c\u307e\u3059\u3002\n\n\u53c2\u8003\n\uff08\u672a\u89e3\u6c7a\u306astackoverflow\u9054\u3002\u3002\uff09\n\u30fbhttp://stackoverflow.com/questions/16236340/facebook-ios-sdk-3-5-modal-feed-dialog-loads-empty-in-iphone\n\u30fbhttp://stackoverflow.com/questions/21870753/fbwebdialogs-presentdialogmodallywithsession-opening-blank-modal\niOS\u3067Facebook SDK\u3092\u4f7f\u7528\u3057\u3066\u6295\u7a3f\u3059\u308b\u3068\u304d\u306b\u7c21\u5358\u306b\u4f7f\u3048\u308b\u30af\u30e9\u30b9FBWebDialogs\u3067\u3001\n\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u4e0d\u5177\u5408\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u305d\u306e\u5bfe\u5fdc\u3092\u5171\u6709\u3057\u307e\u3059\u3002\n(2015/3/18\u73fe\u5728\u306eFacebook SDK for iOS v3.23.1 \u306e\u74b0\u5883\u3067\u3059\u3002)\n\n#FBWebDialogs\u306e\u753b\u9762\u304c\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\nFBWebDialogs -presentFeedDialogModallyWithSession...\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\nFacebookSDK\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u6295\u7a3f\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u304c\u3001\n\u3044\u3064\u307e\u3067\u7d4c\u3063\u3066\u3082\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\u72b6\u614b\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n![FBWebDialogs\u304b\u3099\u8868\u793a\u3055\u308c\u306a\u3044.png](https://qiita-image-store.s3.amazonaws.com/0/34488/bf77bf43-7823-d487-41a8-f0f55bb9d6a3.png)\n\n\n\u203b\u6210\u529f\u3057\u3066\u308b\u3068\u304d\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6295\u7a3f\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n![FBWebDialogs\u306e\u6295\u7a3f\u753b\u9762.png](https://qiita-image-store.s3.amazonaws.com/0/34488/6c31e991-2fcf-bf9a-311c-006ecea0fde3.png)\n\n#\u539f\u56e0\uff1aUserAgent\u306e\u5909\u66f4\nUIWebView\u3092\u958b\u304f\u3068\u304d\u306eUserAgent\u3092\u72ec\u81ea\u306e\u3082\u306e\u306b\u3057\u305f\u3044\u3068\u304d\u306b\u3001\nNSUserDefault\u3092\u4f7f\u7528\u3057\u305f\u4ee5\u4e0b\u306e\u65b9\u6cd5\u304c\u3088\u304f\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\n```objc:UserAgent\u306e\u5909\u66f4\n\n//UserAgent\u8a2d\u5b9a\nNSDictionary *dictionary = @{@\"UserAgent\": @\"\u8a2d\u5b9a\u3057\u305f\u3044UA\"};\n[[NSUserDefaults standardUserDefaults] registerDefaults:dictionary];\n\n```\n\nWebView\u306eUserAgent\u3092\u5909\u66f4\u3059\u308b\u306b\u306f\u7c21\u5358\u3067\u697d\u306a\u65b9\u6cd5\u3067\u3059\u304c\u3001\n\u3053\u308c\u306b\u3088\u3063\u3066FBWebDialogs\u306f\u8aad\u307f\u8fbc\u307e\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u76f4\u63a5\u306e\u539f\u56e0\u306f\u304a\u305d\u3089\u304fFBWebDialogs\u304c\u5185\u90e8\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u3067\u3042\u308d\u3046\u3001\nhttps://m.facebook.com/dialog/\n\u304cUserAgent\u306b\u3088\u308b\u5224\u5b9a\u3092\u884c\u3063\u3066\u3044\u308b\u305f\u3081\u306b\u5f3e\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u3002\n\n#\u5bfe\u7b56\uff1aUserAgent\u767b\u9332\u306e\u524a\u9664\n\u5909\u66f4\u3057\u3066\u3044\u308bUserAgent\u306e\u8a2d\u5b9a\u3092\u524a\u9664\u3059\u308c\u3070\u3001\u6b63\u5e38\u306b\u6a5f\u80fd\u3057\u307e\u3059\u3002\nFBWebDialogs\u3092\u8868\u793a\u3059\u308b\u76f4\u524d\u3067UserAgent\u306e\u524a\u9664\u3092\u884c\u3044\u3001\u6295\u7a3f\u5b8c\u4e86\u5f8c\u306ehandler\u306e\u4e2d\u3067\n\n```objc:UserAgent\u306e\u524a\u9664\n\n- (void)presentFBWebDialogs {\n    // \u6295\u7a3f\u753b\u9762\u3092WebView\u3067\u8868\u793a\u3059\u308b\u524d\u306bUserAgent\u306e\u8a2d\u5b9a\u3092\u524a\u9664\n    [self removeUserAgentSetting];\n\n    // \u6295\u7a3f\u753b\u9762\u3092\u8868\u793a\n    [FBWebDialogs presentFeedDialogModallyWithSession:nil\n                  parameters:nil\n                  handler:^(FBWebDialogResult result, NSURL *resultURL, NSError *error) {\n                      // \u6295\u7a3f\u5f8c\u306bUserAgent\u3092\u518d\u767b\u9332\n                      [self resetUserAgentSetting];\n                      if (error) {\n                          NSLog(@\"\u30a8\u30e9\u30fc: %@\", error.description);\n                      }\n                  }];\n}\n\n// UserDefault\u304b\u3089@\"UserAgent\"\u306e\u8a2d\u5b9a\u3092\u524a\u9664\n- (void)removeUserAgentSetting {\n    NSUserDefaults *userDefaults = [NSUserDefaults standardUserDefaults];\n    NSDictionary *registeredDefaults = [userDefaults volatileDomainForName:NSRegistrationDomain];\n    if ([registeredDefaults objectForKey:@\"UserAgent\"] != nil) {\n        NSMutableDictionary *mutableCopy = [NSMutableDictionary dictionaryWithDictionary:registeredDefaults];\n        [mutableCopy removeObjectForKey:@\"UserAgent\"];\n        [self replaceRegisteredDefaults:[mutableCopy copy]];\n        [userDefaults setVolatileDomain:dictionary forName:NSRegistrationDomain];\n    }\n}\n\n// UserDefault\u306b@\"UserAgent\"\u306e\u8a2d\u5b9a\u3092\u767b\u9332\n- (void)resetUserAgentSetting {\n    NSDictionary *dictionary = @{@\"UserAgent\":@\"\u8a2d\u5b9a\u3057\u305f\u3044UA\"};\n    [[NSUserDefaults standardUserDefaults] registerDefaults:dictionary];\n}\n\n```\n\n#\u5bfe\u7b56\uff12\uff1aUserAgent\u306e\u5909\u66f4\u65b9\u6cd5\u306e\u898b\u76f4\u3057\nUIWebView\u306eUserAgent\u3092\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u306fNSUserDefault\u3092\u4f7f\u7528\u3059\u308b\u4ee5\u5916\u306b\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n```objc\nNSString *urlAddress = @\"http://www.google.com\";\nNSURL *url = [NSURL URLWithString:urlAddress];\nNSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];\n[request setValue:@\"\u8a2d\u5b9a\u3057\u305f\u3044UserAgent\" forHTTPHeaderField:@\"User_Agent\"];\n[webView loadRequest:request];\n\n```\n\n#\u307e\u3068\u3081\n\u81ea\u524d\u3067\u6295\u7a3f\u753b\u9762\u3092\u4f5c\u3089\u306a\u304f\u3066\u3082\u6295\u7a3f\u753b\u9762\u3092\u8868\u793a\u3067\u304d\u308b\u7c21\u5358\u3067\u4fbf\u5229\u306aFBWebDialogs\u3067\u3059\u304c\u3001\n\u610f\u5916\u306a\u843d\u3068\u3057\u7a74\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u30a8\u30e9\u30fc\u3082\u51fa\u3066\u304f\u308c\u306a\u304f\u3066\u539f\u56e0\u306e\u8abf\u67fb\u306b\u56f0\u308a\u307e\u3057\u305f\u304c\u3001\u4e0a\u8a18\u306e\u5bfe\u7b56\u3092\u884c\u3048\u3070\u5feb\u9069\u306aFacebookSDK\u958b\u767a\u304c\u9001\u308c\u307e\u3059\u3002\n\n#\u53c2\u8003\n\uff08\u672a\u89e3\u6c7a\u306astackoverflow\u9054\u3002\u3002\uff09\n\u30fbhttp://stackoverflow.com/questions/16236340/facebook-ios-sdk-3-5-modal-feed-dialog-loads-empty-in-iphone\n\u30fbhttp://stackoverflow.com/questions/21870753/fbwebdialogs-presentdialogmodallywithsession-opening-blank-modal\n", "tags": ["iOS", "FacebookSDK"]}