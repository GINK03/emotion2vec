{"tags": ["cocos2d-x3.0beta", "TravisCI", "CocosBuilder3.0alpha5"], "context": " More than 1 year has passed since last update.cocos2d-x\u3067\u30b2\u30fc\u30e0\u3092\u4f5c\u308b\u3068\u304d\u306e\u69cb\u6210\u3092\u8003\u3048\u308b\u305f\u3081\u306b\u5b9f\u969b\u306b\u30b2\u30fc\u30e0\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\n\u964d\u3063\u3066\u304f\u308b\u30dc\u30fc\u30eb\u3092\u8d64\u7dd1\u9752\u306e\u9806\u3067\u62bc\u3057\u3066\u3044\u304f\u3068\u70b9\u304c\u5165\u308b\u30b2\u30fc\u30e0\u3067\u3059\u3002\n\nhttps://github.com/ntotani/rgb\nhttps://travis-ci.org/ntotani/rgb\n\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n\n\u30c6\u30b9\u30c8\u3068\u304bCI\u3068\u304b\u3084\u308a\u305f\u3044\n\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u304b\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3068\u304bUI\u306f\u306a\u308b\u3079\u304fCocosBuilder\u3067\u4f5c\u3063\u3066\u30a8\u30f3\u30b8\u30cb\u30a2\u4ee5\u5916\u3067\u3082\u89e6\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u3057\u305f\u3044\n\n\n\u30c6\u30b9\u30bf\u30d6\u30eb\u306a\u8a2d\u8a08\n\u30d1\u30c3\u3068\u8abf\u3079\u3066\u307f\u305f\u611f\u3058\u3060\u3068\n\nCocos2d-x \u3067 TDD \u3092\u8a66\u3057\u3066\u307f\u308b\n\u30b2\u30fc\u30e0\u958b\u767a\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u300cCocos2d-x\u300d\u3068MVC\nImplementing MVC pattern for cocos2d-x projects\n\n\u306a\u3069\u306a\u3069\u3001\u697d\u306b\u6c4e\u7528\u6027\u9ad8\u304f\u66f8\u3051\u305d\u3046\u306a\u3082\u306e\u306e\u3001\u6587\u5b57\u5217\u3092\u30ad\u30fc\u306b\u3057\u3066\u305f\u308a\u72ec\u81ea\u306e\u30de\u30af\u30ed\u304c\u3044\u3063\u3071\u3044\u51fa\u3066\u304d\u305f\u308a\u4e00\u9577\u4e00\u77ed\u306f\u3042\u308a\u305d\u3046\u3067\u3057\u305f\uff08\u7279\u306bcoconut\u306f\u4e00\u65e6\u67a0\u306b\u6cbf\u3063\u3066\u3057\u307e\u3048\u3070\u304b\u306a\u308a\u697d\u306b\u4f5c\u3063\u3066\u3044\u3051\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3063\u3066\u3044\u3046\u306e\u304c\u3042\u3063\u3066\u3001\u5e83\u307e\u3063\u305f\u3089\u4f7f\u3063\u3066\u307f\u305f\u3044\uff09\u3002\nMVC\u3068\u304bMVVM\u3068\u304b\u3044\u308d\u3044\u308d\u3042\u308a\u3064\u3064\u306e\u3001\u305d\u3082\u305d\u3082\u7acb\u3061\u8fd4\u3063\u3066\u307f\u308b\u3068\n\n\u898b\u305f\u76ee\u3068\u632f\u308b\u821e\u3044\u3092\u5206\u3051\u3066\u4f5c\u308a\u305f\u3044\n\u89e3\u304f\u3079\u304d\u554f\u984c\u3054\u3068\u306b\u9069\u3057\u305f\u8868\u73fe\u65b9\u6cd5\u306f\u9055\u3046\n\n\n\u4f8b\u3048\u3070\u30d1\u30ba\u30eb\u3067\u904a\u3076\u753b\u9762\u3068\u30c7\u30c3\u30ad\u3092\u7de8\u96c6\u3059\u308b\u753b\u9762\u306f\u305d\u308c\u305e\u308c\u8981\u4ef6\u3068\u5236\u7d04\u304c\u9055\u3046\n\n\n\n\u306e\u3067\u3001\u30d1\u30ad\u3063\u3068\u4e00\u6c17\u306b\u89e3\u6c7a\u3059\u308b\u67a0\u7d44\u307f\u3092\u4f5c\u308b\u3068\u3044\u3046\u3088\u308a\u306f\u3001\u898b\u3048\u3066\u308b\u7bc4\u56f2\u306e\u554f\u984c\u3092\u8868\u73fe\u3059\u308b\u6700\u4f4e\u9650\u306e\u67a0\u7d44\u307f\u3092\u66f8\u3044\u3066\u3001\u5225\u306e\u554f\u984c\u304c\u660e\u3089\u304b\u306b\u306a\u308b\u5ea6\u306b\u5f90\u3005\u306b\u5927\u304d\u304f\u3057\u3066\u3044\u304f\u3068\u3044\u3046\u30b9\u30bf\u30f3\u30b9\u304c\u826f\u3044\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n\u3084\u3063\u3066\u307f\u3088\u3046\n\u3053\u3046\u306a\u308a\u307e\u3057\u305f\n\n\nFieldModel, BallModel\u304c\u30b2\u30fc\u30e0\u306e\u72b6\u614b\u3092\u8868\u73fe\nGameScene\u304c\u5404Model\u3092\u76e3\u8996\n\u5909\u66f4\u304c\u3042\u3063\u305f\u5834\u5408Sprite\u306a\u3069\u306b\u305d\u308c\u3092\u4f1d\u3048\u308b\n\u30c6\u30b9\u30c8\u306e\u3068\u304d\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u3092\u5909\u3048\u305f\u30e2\u30c3\u30af\u3067listen\n\n\u5b9f\u969b\u306e\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\u306f\u4e0a\u8a18\u8a18\u4e8b\u3084\u3053\u306e\u8fba\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\n\n[Xcode 5] Test Navigator \u3068 XCTest\u3092\u4f7f\u3063\u3066\u307f\u308b\n\n\n\u30e9\u30f3\u30c0\u30e0\u306a\u5024\u306e\u30c6\u30b9\u30c8\n\u30c6\u30b9\u30c8\u306f\u6bce\u56de\u540c\u3058\u7d50\u679c\u3092\u8fd4\u3055\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3051\u3069\u30b2\u30fc\u30e0\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u4f55\u304b\u304c\u8d77\u304d\u308b\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3001\u3053\u308c\u3092\u62bd\u8c61\u5316\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\u3053\u3093\u306a\u611f\u3058\u306b\u4e71\u6570\u3092\u8fd4\u3059\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u3063\u3066\u3001\n\nIRandom.h\nclass IRandom {\npublic:\n    virtual int next() = 0;\n};\n\n\n\u5b9f\u4f53\u306f\u666e\u901a\u306b\u74b0\u5883\u304b\u3089\u53d6\u3063\u305f\u4e71\u6570\u3092\u8fd4\u3059\u3002\u30e2\u30c3\u30af\u306f\u521d\u671f\u5316\u6642\u306b\u914d\u5217\u3092\u53d6\u3063\u3066\u3001\u4e71\u6570\u3092\u8981\u6c42\u3055\u308c\u308b\u5ea6\u306b\u914d\u5217\u306e\u5024\u3092\u9806\u306b\u8fd4\u3059\u3002\n\nRandomImpl.h\nclass RandomImpl : public IRandom {\npublic:\n    RandomImpl();\n    int next();\n};\n\n\n\nRandomImpl.cpp\nRandomImpl::RandomImpl() {\n    srand((unsigned int)time(NULL));\n}\n\nint RandomImpl::next() {\n    return rand();\n}\n\n\n\nRandomMock.h\nclass RandomMock : public IRandom {\n    std::vector<int> arr;\n    int idx;\npublic:\n    RandomMock();\n    RandomMock(std::vector<int> arr);\n    int next();\n};\n\n\n\nRandomMock.cpp\nRandomMock::RandomMock():idx(0) {\n    arr = {0};\n}\n\nRandomMock::RandomMock(std::vector<int> arr):arr(arr),idx(0) {\n}\n\nint RandomMock::next() {\n    int ret = arr[idx];\n    idx = (idx + 1) % arr.size();\n    return ret;\n}\n\n\n\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u30c6\u30b9\u30c8\u4e2d\u306f\u4e71\u6570\u3092\u56fa\u5b9a\u3057\u3066\u518d\u73fe\u6027\u306e\u3042\u308b\u72b6\u6cc1\u3092\u4f5c\u308a\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u8d64 => \u7dd1 => \u7dd1\u306e\u9806\u306b\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u3001\u6700\u5f8c\u306e\u7dd1\u3067\u306f\u52a0\u70b9\u3055\u308c\u306a\u3044\u30c6\u30b9\u30c8\u3060\u3068\u3053\u3093\u306a\u611f\u3058\u3067\u66f8\u304d\u307e\u3059\u3002\n- (void)testNotScored\n{\n    // {pos, color, ...}\n    IRandom* rnd = new RandomMock({0, 0, 0, 1, 0, 1});\n    FieldModel* field = new FieldModel(640, 480, 1, 32, -32, 1000, rnd);\n    FieldListenerMock* listener = new FieldListenerMock();\n    field->addListener(listener);\n    field->update(1); // spawn red ball\n    field->update(1); // spawn green ball\n    field->update(1); // spawn green ball again\n    field->update(1); // push all ball in field\n    XCTAssertEqual(4, (int)field->getBalls().size());\n    field->touch(16, 400);\n    XCTAssertEqual(3, (int)field->getBalls().size());\n    XCTAssertEqual(1, listener->score);\n    field->touch(16, 432);\n    XCTAssertEqual(2, (int)field->getBalls().size());\n    XCTAssertEqual(2, listener->score);\n    field->touch(16, 464);\n    // cant get score for invalid color touch\n    XCTAssertEqual(2, (int)field->getBalls().size());\n    XCTAssertEqual(2, listener->score);\n}\n\n\u4e71\u6570\u3092\u8981\u6c42\u3059\u308b\u5074\u304c\u4f55\u306e\u7528\u9014\u3067\u8981\u6c42\u3057\u305f\u304b\u8a18\u9332\u3059\u308b\u30e1\u30e2\u307f\u305f\u3044\u306a\u6a5f\u80fd\u3082\u3042\u308c\u3070\u30c7\u30d0\u30c3\u30b0\u3082\u697d\u306b\u306a\u308b\u304b\u3082\u3002\n\n\u30c8\u30e9\u30d3\u30b9\n\u30c6\u30b9\u30c8\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067TravisCI\u306b\u7e4b\u304e\u307e\u3059\u3002github\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092push\u3057\u305f\u3089travis\u306e\u65b9\u306e\u30b9\u30a4\u30c3\u30c1\u3092\u30aa\u30f3\u3002\u3042\u3068\u306f\u30c6\u30b9\u30c8\u306e\u8a2d\u5b9a\u3092\u66f8\u3044\u305f.travis.yml\u3092\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u3081\u3066push\u3059\u308c\u3070\u52dd\u624b\u306b\u30c6\u30b9\u30c8\u3057\u3066\u304f\u308c\u308b\u3002\n\u306f\u305a\u306a\u3093\u3067\u3059\u304c\u3001\u3069\u3046\u3082Objective-C\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u5468\u308a\u3067\u307e\u3060\u554f\u984c\u304c\u3042\u308b\u3088\u3046\u3067\u3001\u4e0a\u624b\u304f\u3044\u3063\u305f\u308a\u3044\u304b\u306a\u304b\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u3053\u306e\u8fba\u306e\u8b70\u8ad6\u3092\u8ffd\u3063\u304b\u3051\u3066\u8272\u3005\u8a66\u3057\u305f\u7d50\u679c\u63b4\u3093\u3060\u52d8\u6240\u3068\u3057\u3066\u306f\n\nxctool\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0a\u3052\u305f\u308a\u4e0b\u3052\u305f\u308a\u3057\u3066\u307f\u308b\n-freshInstall\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u305f\u308a\u53d6\u3063\u305f\u308a\u3057\u3066\u307f\u308b\n\n\u3068\u304b\u304c\u52b9\u304f\u307f\u305f\u3044\u3067\u3059\u3002\u6700\u5f8c\u306b\u3046\u307e\u304f\u3044\u3063\u305f.travis.yml\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u305f\u3002\n\n.travis.yml\nlanguage: objective-c\nscript: xctool -project proj.ios_mac/rgb.xcodeproj -scheme rgb\\ iOS -sdk iphonesimulator build test\n\n\n\u305f\u3060\u3001\u305d\u3082\u305d\u3082\u8ad6\u3068\u3057\u3066\n\n\u30c6\u30b9\u30bf\u30d6\u30eb\u306a\u3068\u3053\u306fcocos\u306b\u4f9d\u5b58\u3057\u3066\u306a\u3044\u306f\u305a\u306a\u306e\u306b\u6bce\u56decocos\u672c\u4f53\u3092\u30d3\u30eb\u30c9\u3057\u3066\u308b\nC++\u306a\u306e\u306bObjective-C++\u3067\u30c6\u30b9\u30c8\u66f8\u3044\u3066\u308b\n\u30c6\u30b9\u30c8\u3057\u305f\u3044\u306e\u306f\u30c7\u30fc\u30bf\u64cd\u4f5c\u3060\u3051\u306a\u306e\u3067\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u306b\u4f9d\u5b58\u3057\u3066\u308b\u306e\u306f\u4f55\u304b\u304a\u304b\u3057\u3044\n\n\u3068\u304b\u3082\u3042\u308b\u306e\u3067\u305d\u306e\u8fba\u304b\u3089\u898b\u306a\u304a\u3057\u305f\u65b9\u304c\u3044\u3044\u304b\u3082\u3002\n\nCocosBuilder\n\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u304b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306f\u306a\u308b\u3079\u304f\u30b3\u30fc\u30c9\u304b\u3089\u5207\u308a\u96e2\u3057\u3066\u30a8\u30f3\u30b8\u30cb\u30a2\u4ee5\u5916\u3082\u7de8\u96c6\u3057\u3084\u3059\u304f\u3057\u305f\u3044\u306e\u3067CocosBuilder\u3067\u4f5c\u308a\u307e\u3059\u3002\u5b9f\u969b\u306e\u9023\u643a\u65b9\u6cd5\u306f\u3053\u306e\u8fba\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n[Cocos2d-x]CocosBuilder\u3092\u4f7f\u3063\u3066\u7d20\u65e9\u304f\u753b\u9762\u3092\u4f5c\u6210\u3059\u308b\nCocosBuilder\u3067\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3092\u3064\u304f\u308b\n\u30d7\u30ed\u30ed\u30fc\u30b0\u753b\u9762\u4f5c\u6210\u2460\u3000CocosBuilder\u3068\u306e\u7d10\u4ed8\u3051\u3000\u305d\u3057\u3066\u521d\u306eyoutube\u6295\u7a3f\nCocos2d-x \u301cCocosBuilder\u3067callback\u3092\u8a2d\u5b9a\u3059\u308b\u301c\n\n\u30b7\u30fc\u30f3\u958b\u59cb\u76f4\u5f8c\u306e\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u3001\u30b2\u30fc\u30e0\u4e2d\u753b\u9762\u3001\u30b2\u30fc\u30e0\u7d42\u4e86\u5f8c\u753b\u9762\u3092\u305d\u308c\u305e\u308c\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306b\u5206\u3051\u3066\u4f5c\u308a\u307e\u3059\u3002\n\n\n\n\u307e\u305f\u3001\u305d\u308c\u305e\u308c\u306eChained Timeline\u3092\n\ncountDown => game\ngame => game\ntimeup => timeup\n\n\u306b\u3057\u3066\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u7e4b\u304e\u307e\u3059\u3002\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u7d42\u4e86\u6642\u306b\u306f\u30b2\u30fc\u30e0\u958b\u59cb\u51e6\u7406\u3092\u3001\u30b2\u30fc\u30e0\u7d42\u4e86\u6642\u306b\u306f\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u9077\u79fb\u51e6\u7406\u3092\u305d\u308c\u305e\u308c\u66f8\u304d\u307e\u3059\u3002\n\nGameScene.cpp\nvoid GameScene::completedAnimationSequenceNamed(const char *name) {\n    if (strcmp(name, \"countDown\") == 0) {\n        scheduleUpdate();\n    }\n}\n\nvoid GameScene::onRestTimeUpdate(float percent) {\n    if (percent > 0) {\n        timerLabel->setString(StringUtils::format(\"TIME:%.1f\", TIME_LIMIT * percent));\n    } else {\n        timerLabel->setString(\"TIME:0\");\n        animationManager->runAnimationsForSequenceNamed(\"timeup\");\n        unscheduleUpdate();\n    }\n}\n\n\n\u307e\u305f\u3001\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u4e2d\u306bLabel\u306etext\u3092\u5909\u3048\u308b\u305f\u3081\u306bcallback\u3082\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\nGameScene.cpp\nSEL_CallFuncN GameScene::onResolveCCBCCCallFuncSelector(Object * pTarget, const char* pSelectorName) {\n    CCB_SELECTORRESOLVER_CALLFUNC_GLUE(this, \"onCountDownOne\", GameScene:: onCountDownOne);\n    CCB_SELECTORRESOLVER_CALLFUNC_GLUE(this, \"onCountDownTwo\", GameScene:: onCountDownTwo);\n    return NULL;\n}\n\nvoid GameScene::onCountDownOne(Node* node) {\n    countDown->setString(\"1\");\n}\n\nvoid GameScene::onCountDownTwo(Node* node) {\n    countDown->setString(\"2\");\n}\n\n\n\n\u305d\u306e\u4ed6\u30ea\u30f3\u30af\n\n\u96d1\u628a\u306e UI \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc\u53f2(MVC\u304b\u3089MVVM\u3078)\n\u958b\u767a\u8005\u304c\u77e5\u3063\u3066\u304a\u304f\u3079\u304d\u30016\u3064\u306eUI\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fb\u30d1\u30bf\u30fc\u30f3\nCocos2d-x Beta\u3067\u30c1\u30a7\u30c3\u30af\u3057\u3066\u304a\u304d\u305f\u3044\u5909\u66f4\u70b9(Value,EventListener,gui::UIButton,gui::UIPageView\u306a\u3069)\n\ncocos2d-x\u3067\u30b2\u30fc\u30e0\u3092\u4f5c\u308b\u3068\u304d\u306e\u69cb\u6210\u3092\u8003\u3048\u308b\u305f\u3081\u306b\u5b9f\u969b\u306b\u30b2\u30fc\u30e0\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n![ss.png](https://qiita-image-store.s3.amazonaws.com/0/2490/7278a889-c60f-bfae-3611-5435f6325e3e.png)\n![ss2.png](https://qiita-image-store.s3.amazonaws.com/0/2490/a30a2605-fd6b-0d53-6735-96c9b28a1eb6.png)\n\n\u964d\u3063\u3066\u304f\u308b\u30dc\u30fc\u30eb\u3092\u8d64\u7dd1\u9752\u306e\u9806\u3067\u62bc\u3057\u3066\u3044\u304f\u3068\u70b9\u304c\u5165\u308b\u30b2\u30fc\u30e0\u3067\u3059\u3002\n\n* https://github.com/ntotani/rgb\n* https://travis-ci.org/ntotani/rgb\n\n## \u3084\u308a\u305f\u3044\u3053\u3068\n\n* \u30c6\u30b9\u30c8\u3068\u304bCI\u3068\u304b\u3084\u308a\u305f\u3044\n* \u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u304b\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3068\u304bUI\u306f\u306a\u308b\u3079\u304fCocosBuilder\u3067\u4f5c\u3063\u3066\u30a8\u30f3\u30b8\u30cb\u30a2\u4ee5\u5916\u3067\u3082\u89e6\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u3057\u305f\u3044\n\n## \u30c6\u30b9\u30bf\u30d6\u30eb\u306a\u8a2d\u8a08\n\u30d1\u30c3\u3068\u8abf\u3079\u3066\u307f\u305f\u611f\u3058\u3060\u3068\n\n* [Cocos2d-x \u3067 TDD \u3092\u8a66\u3057\u3066\u307f\u308b](http://wonderpla.net/blog/engineer/Cocos2d-x_TDD/)\n* [\u30b2\u30fc\u30e0\u958b\u767a\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u300cCocos2d-x\u300d\u3068MVC](http://ameblo.jp/ca-1pixel/entry-11749281960.html)\n* [Implementing MVC pattern for cocos2d-x projects](http://cobagames.com/2013/12/15/implementing-mvc-pattern-for-cocos2d-x-projects/)\n\n\u306a\u3069\u306a\u3069\u3001\u697d\u306b\u6c4e\u7528\u6027\u9ad8\u304f\u66f8\u3051\u305d\u3046\u306a\u3082\u306e\u306e\u3001\u6587\u5b57\u5217\u3092\u30ad\u30fc\u306b\u3057\u3066\u305f\u308a\u72ec\u81ea\u306e\u30de\u30af\u30ed\u304c\u3044\u3063\u3071\u3044\u51fa\u3066\u304d\u305f\u308a\u4e00\u9577\u4e00\u77ed\u306f\u3042\u308a\u305d\u3046\u3067\u3057\u305f\uff08\u7279\u306bcoconut\u306f\u4e00\u65e6\u67a0\u306b\u6cbf\u3063\u3066\u3057\u307e\u3048\u3070\u304b\u306a\u308a\u697d\u306b\u4f5c\u3063\u3066\u3044\u3051\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3063\u3066\u3044\u3046\u306e\u304c\u3042\u3063\u3066\u3001\u5e83\u307e\u3063\u305f\u3089\u4f7f\u3063\u3066\u307f\u305f\u3044\uff09\u3002\n\nMVC\u3068\u304bMVVM\u3068\u304b\u3044\u308d\u3044\u308d\u3042\u308a\u3064\u3064\u306e\u3001\u305d\u3082\u305d\u3082\u7acb\u3061\u8fd4\u3063\u3066\u307f\u308b\u3068\n\n* \u898b\u305f\u76ee\u3068\u632f\u308b\u821e\u3044\u3092\u5206\u3051\u3066\u4f5c\u308a\u305f\u3044\n* \u89e3\u304f\u3079\u304d\u554f\u984c\u3054\u3068\u306b\u9069\u3057\u305f\u8868\u73fe\u65b9\u6cd5\u306f\u9055\u3046\n  * \u4f8b\u3048\u3070\u30d1\u30ba\u30eb\u3067\u904a\u3076\u753b\u9762\u3068\u30c7\u30c3\u30ad\u3092\u7de8\u96c6\u3059\u308b\u753b\u9762\u306f\u305d\u308c\u305e\u308c\u8981\u4ef6\u3068\u5236\u7d04\u304c\u9055\u3046\n\n\u306e\u3067\u3001\u30d1\u30ad\u3063\u3068\u4e00\u6c17\u306b\u89e3\u6c7a\u3059\u308b\u67a0\u7d44\u307f\u3092\u4f5c\u308b\u3068\u3044\u3046\u3088\u308a\u306f\u3001\u898b\u3048\u3066\u308b\u7bc4\u56f2\u306e\u554f\u984c\u3092\u8868\u73fe\u3059\u308b\u6700\u4f4e\u9650\u306e\u67a0\u7d44\u307f\u3092\u66f8\u3044\u3066\u3001\u5225\u306e\u554f\u984c\u304c\u660e\u3089\u304b\u306b\u306a\u308b\u5ea6\u306b\u5f90\u3005\u306b\u5927\u304d\u304f\u3057\u3066\u3044\u304f\u3068\u3044\u3046\u30b9\u30bf\u30f3\u30b9\u304c\u826f\u3044\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n## \u3084\u3063\u3066\u307f\u3088\u3046\n\u3053\u3046\u306a\u308a\u307e\u3057\u305f\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-03-07 21.43.07.png](https://qiita-image-store.s3.amazonaws.com/0/2490/8b738e59-5cfe-8288-d0ca-574412269f2f.png)\n\n* FieldModel, BallModel\u304c\u30b2\u30fc\u30e0\u306e\u72b6\u614b\u3092\u8868\u73fe\n* GameScene\u304c\u5404Model\u3092\u76e3\u8996\n* \u5909\u66f4\u304c\u3042\u3063\u305f\u5834\u5408Sprite\u306a\u3069\u306b\u305d\u308c\u3092\u4f1d\u3048\u308b\n* \u30c6\u30b9\u30c8\u306e\u3068\u304d\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u3092\u5909\u3048\u305f\u30e2\u30c3\u30af\u3067listen\n\n\u5b9f\u969b\u306e\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\u306f\u4e0a\u8a18\u8a18\u4e8b\u3084\u3053\u306e\u8fba\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\n\n* [[Xcode 5] Test Navigator \u3068 XCTest\u3092\u4f7f\u3063\u3066\u307f\u308b](http://dev.classmethod.jp/references/ios7-xcode5-xctest/)\n\n## \u30e9\u30f3\u30c0\u30e0\u306a\u5024\u306e\u30c6\u30b9\u30c8\n\u30c6\u30b9\u30c8\u306f\u6bce\u56de\u540c\u3058\u7d50\u679c\u3092\u8fd4\u3055\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3051\u3069\u30b2\u30fc\u30e0\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u4f55\u304b\u304c\u8d77\u304d\u308b\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3001\u3053\u308c\u3092\u62bd\u8c61\u5316\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\u3053\u3093\u306a\u611f\u3058\u306b\u4e71\u6570\u3092\u8fd4\u3059\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f5c\u3063\u3066\u3001\n\n```cpp:IRandom.h\nclass IRandom {\npublic:\n    virtual int next() = 0;\n};\n```\n\n\u5b9f\u4f53\u306f\u666e\u901a\u306b\u74b0\u5883\u304b\u3089\u53d6\u3063\u305f\u4e71\u6570\u3092\u8fd4\u3059\u3002\u30e2\u30c3\u30af\u306f\u521d\u671f\u5316\u6642\u306b\u914d\u5217\u3092\u53d6\u3063\u3066\u3001\u4e71\u6570\u3092\u8981\u6c42\u3055\u308c\u308b\u5ea6\u306b\u914d\u5217\u306e\u5024\u3092\u9806\u306b\u8fd4\u3059\u3002\n\n```cpp:RandomImpl.h\nclass RandomImpl : public IRandom {\npublic:\n    RandomImpl();\n    int next();\n};\n```\n\n```cpp:RandomImpl.cpp\nRandomImpl::RandomImpl() {\n    srand((unsigned int)time(NULL));\n}\n\nint RandomImpl::next() {\n    return rand();\n}\n```\n\n```cpp:RandomMock.h\nclass RandomMock : public IRandom {\n    std::vector<int> arr;\n    int idx;\npublic:\n    RandomMock();\n    RandomMock(std::vector<int> arr);\n    int next();\n};\n```\n\n```cpp:RandomMock.cpp\nRandomMock::RandomMock():idx(0) {\n    arr = {0};\n}\n\nRandomMock::RandomMock(std::vector<int> arr):arr(arr),idx(0) {\n}\n\nint RandomMock::next() {\n    int ret = arr[idx];\n    idx = (idx + 1) % arr.size();\n    return ret;\n}\n```\n\n\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u30c6\u30b9\u30c8\u4e2d\u306f\u4e71\u6570\u3092\u56fa\u5b9a\u3057\u3066\u518d\u73fe\u6027\u306e\u3042\u308b\u72b6\u6cc1\u3092\u4f5c\u308a\u3084\u3059\u304f\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u8d64 => \u7dd1 => \u7dd1\u306e\u9806\u306b\u62bc\u3055\u308c\u305f\u3068\u304d\u306b\u3001\u6700\u5f8c\u306e\u7dd1\u3067\u306f\u52a0\u70b9\u3055\u308c\u306a\u3044\u30c6\u30b9\u30c8\u3060\u3068\u3053\u3093\u306a\u611f\u3058\u3067\u66f8\u304d\u307e\u3059\u3002\n\n```objc++\n- (void)testNotScored\n{\n    // {pos, color, ...}\n    IRandom* rnd = new RandomMock({0, 0, 0, 1, 0, 1});\n    FieldModel* field = new FieldModel(640, 480, 1, 32, -32, 1000, rnd);\n    FieldListenerMock* listener = new FieldListenerMock();\n    field->addListener(listener);\n    field->update(1); // spawn red ball\n    field->update(1); // spawn green ball\n    field->update(1); // spawn green ball again\n    field->update(1); // push all ball in field\n    XCTAssertEqual(4, (int)field->getBalls().size());\n    field->touch(16, 400);\n    XCTAssertEqual(3, (int)field->getBalls().size());\n    XCTAssertEqual(1, listener->score);\n    field->touch(16, 432);\n    XCTAssertEqual(2, (int)field->getBalls().size());\n    XCTAssertEqual(2, listener->score);\n    field->touch(16, 464);\n    // cant get score for invalid color touch\n    XCTAssertEqual(2, (int)field->getBalls().size());\n    XCTAssertEqual(2, listener->score);\n}\n```\n\n\u4e71\u6570\u3092\u8981\u6c42\u3059\u308b\u5074\u304c\u4f55\u306e\u7528\u9014\u3067\u8981\u6c42\u3057\u305f\u304b\u8a18\u9332\u3059\u308b\u30e1\u30e2\u307f\u305f\u3044\u306a\u6a5f\u80fd\u3082\u3042\u308c\u3070\u30c7\u30d0\u30c3\u30b0\u3082\u697d\u306b\u306a\u308b\u304b\u3082\u3002\n\n## \u30c8\u30e9\u30d3\u30b9\n\u30c6\u30b9\u30c8\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067TravisCI\u306b\u7e4b\u304e\u307e\u3059\u3002github\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092push\u3057\u305f\u3089travis\u306e\u65b9\u306e\u30b9\u30a4\u30c3\u30c1\u3092\u30aa\u30f3\u3002\u3042\u3068\u306f\u30c6\u30b9\u30c8\u306e\u8a2d\u5b9a\u3092\u66f8\u3044\u305f.travis.yml\u3092\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u3081\u3066push\u3059\u308c\u3070\u52dd\u624b\u306b\u30c6\u30b9\u30c8\u3057\u3066\u304f\u308c\u308b\u3002\n\n\u306f\u305a\u306a\u3093\u3067\u3059\u304c\u3001\u3069\u3046\u3082Objective-C\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u5468\u308a\u3067\u307e\u3060\u554f\u984c\u304c\u3042\u308b\u3088\u3046\u3067\u3001\u4e0a\u624b\u304f\u3044\u3063\u305f\u308a\u3044\u304b\u306a\u304b\u3063\u305f\u308a\u3057\u307e\u3059\u3002[\u3053\u306e\u8fba\u306e\u8b70\u8ad6](https://github.com/travis-ci/travis-ci/issues/1630)\u3092\u8ffd\u3063\u304b\u3051\u3066\u8272\u3005\u8a66\u3057\u305f\u7d50\u679c\u63b4\u3093\u3060\u52d8\u6240\u3068\u3057\u3066\u306f\n\n* xctool\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0a\u3052\u305f\u308a\u4e0b\u3052\u305f\u308a\u3057\u3066\u307f\u308b\n* -freshInstall\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u305f\u308a\u53d6\u3063\u305f\u308a\u3057\u3066\u307f\u308b\n\n\u3068\u304b\u304c\u52b9\u304f\u307f\u305f\u3044\u3067\u3059\u3002\u6700\u5f8c\u306b\u3046\u307e\u304f\u3044\u3063\u305f.travis.yml\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u305f\u3002\n\n```yaml:.travis.yml\nlanguage: objective-c\nscript: xctool -project proj.ios_mac/rgb.xcodeproj -scheme rgb\\ iOS -sdk iphonesimulator build test\n```\n\n\u305f\u3060\u3001\u305d\u3082\u305d\u3082\u8ad6\u3068\u3057\u3066\n\n* \u30c6\u30b9\u30bf\u30d6\u30eb\u306a\u3068\u3053\u306fcocos\u306b\u4f9d\u5b58\u3057\u3066\u306a\u3044\u306f\u305a\u306a\u306e\u306b\u6bce\u56decocos\u672c\u4f53\u3092\u30d3\u30eb\u30c9\u3057\u3066\u308b\n* C++\u306a\u306e\u306bObjective-C++\u3067\u30c6\u30b9\u30c8\u66f8\u3044\u3066\u308b\n* \u30c6\u30b9\u30c8\u3057\u305f\u3044\u306e\u306f\u30c7\u30fc\u30bf\u64cd\u4f5c\u3060\u3051\u306a\u306e\u3067\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u306b\u4f9d\u5b58\u3057\u3066\u308b\u306e\u306f\u4f55\u304b\u304a\u304b\u3057\u3044\n\n\u3068\u304b\u3082\u3042\u308b\u306e\u3067\u305d\u306e\u8fba\u304b\u3089\u898b\u306a\u304a\u3057\u305f\u65b9\u304c\u3044\u3044\u304b\u3082\u3002\n\n## CocosBuilder\n\u30ec\u30a4\u30a2\u30a6\u30c8\u3068\u304b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306f\u306a\u308b\u3079\u304f\u30b3\u30fc\u30c9\u304b\u3089\u5207\u308a\u96e2\u3057\u3066\u30a8\u30f3\u30b8\u30cb\u30a2\u4ee5\u5916\u3082\u7de8\u96c6\u3057\u3084\u3059\u304f\u3057\u305f\u3044\u306e\u3067CocosBuilder\u3067\u4f5c\u308a\u307e\u3059\u3002\u5b9f\u969b\u306e\u9023\u643a\u65b9\u6cd5\u306f\u3053\u306e\u8fba\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n* [[Cocos2d-x]CocosBuilder\u3092\u4f7f\u3063\u3066\u7d20\u65e9\u304f\u753b\u9762\u3092\u4f5c\u6210\u3059\u308b](http://wonderpla.net/blog/engineer/how-to-use-cocosbuilder/)\n* [CocosBuilder\u3067\u30bf\u30a4\u30c8\u30eb\u753b\u9762\u3092\u3064\u304f\u308b](http://kyokomi.hatenablog.com/entry/2013/09/30/073650)\n* [\u30d7\u30ed\u30ed\u30fc\u30b0\u753b\u9762\u4f5c\u6210\u2460\u3000CocosBuilder\u3068\u306e\u7d10\u4ed8\u3051\u3000\u305d\u3057\u3066\u521d\u306eyoutube\u6295\u7a3f](http://ichiokumanyen.hatenablog.jp/entry/2013/10/13/162355)\n* [Cocos2d-x \u301cCocosBuilder\u3067callback\u3092\u8a2d\u5b9a\u3059\u308b\u301c](http://programming-ios.com/cocos2dx-cocosbuilder-callbacks/)\n\n\u30b7\u30fc\u30f3\u958b\u59cb\u76f4\u5f8c\u306e\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u3001\u30b2\u30fc\u30e0\u4e2d\u753b\u9762\u3001\u30b2\u30fc\u30e0\u7d42\u4e86\u5f8c\u753b\u9762\u3092\u305d\u308c\u305e\u308c\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306b\u5206\u3051\u3066\u4f5c\u308a\u307e\u3059\u3002\n\n![ss_countdown.png](https://qiita-image-store.s3.amazonaws.com/0/2490/f70a08e2-8b35-b200-f672-a83b6e4651b3.png)\n![ss_game.png](https://qiita-image-store.s3.amazonaws.com/0/2490/253fa75c-e7da-fc77-f127-f01b4739870d.png)\n![ss_timeup.png](https://qiita-image-store.s3.amazonaws.com/0/2490/588025f2-dc54-b354-e4ad-9a279e24320d.png)\n\n\u307e\u305f\u3001\u305d\u308c\u305e\u308c\u306eChained Timeline\u3092\n\n* countDown => game\n* game => game\n* timeup => timeup\n\n\u306b\u3057\u3066\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u7e4b\u304e\u307e\u3059\u3002\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u7d42\u4e86\u6642\u306b\u306f\u30b2\u30fc\u30e0\u958b\u59cb\u51e6\u7406\u3092\u3001\u30b2\u30fc\u30e0\u7d42\u4e86\u6642\u306b\u306f\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u9077\u79fb\u51e6\u7406\u3092\u305d\u308c\u305e\u308c\u66f8\u304d\u307e\u3059\u3002\n\n```cpp:GameScene.cpp\nvoid GameScene::completedAnimationSequenceNamed(const char *name) {\n    if (strcmp(name, \"countDown\") == 0) {\n        scheduleUpdate();\n    }\n}\n\nvoid GameScene::onRestTimeUpdate(float percent) {\n    if (percent > 0) {\n        timerLabel->setString(StringUtils::format(\"TIME:%.1f\", TIME_LIMIT * percent));\n    } else {\n        timerLabel->setString(\"TIME:0\");\n        animationManager->runAnimationsForSequenceNamed(\"timeup\");\n        unscheduleUpdate();\n    }\n}\n```\n\n\u307e\u305f\u3001\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u4e2d\u306bLabel\u306etext\u3092\u5909\u3048\u308b\u305f\u3081\u306bcallback\u3082\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-03-07 22.16.53.png](https://qiita-image-store.s3.amazonaws.com/0/2490/f1a98e28-851b-ab2f-bf2e-5412f0438c26.png)\n\n```cpp:GameScene.cpp\nSEL_CallFuncN GameScene::onResolveCCBCCCallFuncSelector(Object * pTarget, const char* pSelectorName) {\n    CCB_SELECTORRESOLVER_CALLFUNC_GLUE(this, \"onCountDownOne\", GameScene:: onCountDownOne);\n    CCB_SELECTORRESOLVER_CALLFUNC_GLUE(this, \"onCountDownTwo\", GameScene:: onCountDownTwo);\n    return NULL;\n}\n\nvoid GameScene::onCountDownOne(Node* node) {\n    countDown->setString(\"1\");\n}\n\nvoid GameScene::onCountDownTwo(Node* node) {\n    countDown->setString(\"2\");\n}\n```\n\n## \u305d\u306e\u4ed6\u30ea\u30f3\u30af\n\n* [\u96d1\u628a\u306e UI \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fc\u53f2(MVC\u304b\u3089MVVM\u3078)](http://yohshiy.blog.fc2.com/blog-entry-215.html)\n* [\u958b\u767a\u8005\u304c\u77e5\u3063\u3066\u304a\u304f\u3079\u304d\u30016\u3064\u306eUI\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30fb\u30d1\u30bf\u30fc\u30f3](http://www.atmarkit.co.jp/fdotnet/chushin/greatblogentry_10/greatblogentry_10_01.html)\n* [Cocos2d-x Beta\u3067\u30c1\u30a7\u30c3\u30af\u3057\u3066\u304a\u304d\u305f\u3044\u5909\u66f4\u70b9(Value,EventListener,gui::UIButton,gui::UIPageView\u306a\u3069)](http://qiita.com/KUMAN/items/7d56ae2b8919e5bafc06)"}