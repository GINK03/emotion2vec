{"context": " More than 1 year has passed since last update.\n\n\u30bd\u30fc\u30b9\n\nfukuiretu/amazon-kinesis-client-library-php \u00b7 GitHub\nrf/amazon-kinesis-client-library-php - Packagist\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u5236\u9650\u304c\u7279\u306b\u306a\u3051\u308c\u3070Composer\u7d4c\u7531\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u8a73\u7d30\u306fGithub\u306eREDEME\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3067\u304d\u308b\u3053\u3068\n\nDataRecord\u306epush\nShard\u306e\u53d6\u5f97\nDataRecord\u306e\u53d6\u5f97\nShardId\u3068SequenceNumber\u306e\u72b6\u614b\u3092\u7ba1\u7406 => \u524d\u56de\u306e\u51e6\u7406\u4ee5\u964d\u306eDataRecord\u3092\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b!!\n\n\n\n\u72b6\u614b\u3092\u7ba1\u7406\u3059\u308b\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u5148\u306e\u9078\u629e\n\nFile\nMemcached\n\n\nDataRecord\u306e\u53d6\u5f97(\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u5148\u3092File\u3068\u3057\u305f\u5834\u5408)\n\n<?php\n\nrequire 'vendor/autoload.php';\n\nuse Aws\\Kinesis\\KinesisClient;\nuse Aws\\Common\\Enum\\Region;\nuse Rf\\Aws\\AutoLoader;\nuse Rf\\Aws\\Kinesis\\ClientLibrary\\KinesisProxy;\nuse Rf\\Aws\\Kinesis\\ClientLibrary\\KinesisShardFileDataStore;\nuse Rf\\Aws\\Kinesis\\ClientLibrary\\KinesisShardMemcacheDataStore;\nuse Rf\\Aws\\Kinesis\\ClientLibrary\\KinesisStorageManager;\n\ndefine('STREAM_NAME', 'kinesis-trial');\n\n$kinesis = KinesisClient::factory(array(\n  'key' => 'XXXXX',\n  'secret' => 'XXXXX',\n  'region' => Region::VIRGINIA\n));\n\n$kinesis_proxy = KinesisProxy::factory($kinesis, STREAM_NAME);\n$kinesis_storage_manager = new KinesisStorageManager($kinesis_proxy, new KinesisShardFileDataStore('/tmp/amazon-kinesis'));\n\n// \u524d\u56de\u4fdd\u5b58\u3057\u305fSequenceNumber\u4ee5\u964d\u306eDataRecord\u3092\u53d6\u5f97\n// \u521d\u56de\u306f\u5148\u982d\u304b\u3089\u53d6\u5f97\n$data_records = $kinesis_storage_manager->findWithMergeStoreDataRecords(null, 10, 5);\nforeach ($data_records as $data_record) {\n  // \u53d6\u5f97\u3057\u305fDataRecord\u306b\u5bfe\u3057\u30b4\u30cb\u30e7\u30b4\u30cb\u30e7\u3059\u308b\n  echo $data_record->getData(), PHP_EOL;\n}\n\n// \u4eca\u56de\u5206\u306eSequenceNumber\u3092\u4fdd\u5b58\n$kinesis_storage_manager->saveAll();\n\n\n\nTODO\n\n\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u9078\u629e\u80a2\u3068\u3057\u3066Dynamo\u3068\u304bRedis\u3068\u304bRDS\u3068\u304b\u306f\u4eca\u5f8c\u8ffd\u52a0\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\n\u4e26\u5217(pthreads)\u3067\u52d5\u304f\u3088\u3046\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u306a\u3044\n\n\n\u6240\u611f\u306a\u3069\n\u3057\u3087\u307c\u304f\u3066\u3059\u3044\u307e\u305b\u3093\u3002\u7cbe\u9032\u3057\u307e\u3059\u3002\n\n# \u30bd\u30fc\u30b9\n* [fukuiretu/amazon-kinesis-client-library-php \u00b7 GitHub](https://github.com/fukuiretu/amazon-kinesis-client-library-php)\n* [rf/amazon-kinesis-client-library-php - Packagist\n](https://packagist.org/packages/rf/amazon-kinesis-client-library-php)\n\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u5236\u9650\u304c\u7279\u306b\u306a\u3051\u308c\u3070Composer\u7d4c\u7531\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u8a73\u7d30\u306fGithub\u306eREDEME\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n# \u3067\u304d\u308b\u3053\u3068\n* DataRecord\u306epush\n* Shard\u306e\u53d6\u5f97\n* DataRecord\u306e\u53d6\u5f97\n* ShardId\u3068SequenceNumber\u306e\u72b6\u614b\u3092\u7ba1\u7406 => **\u524d\u56de\u306e\u51e6\u7406\u4ee5\u964d\u306eDataRecord\u3092\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b!!**\n\n\n# \u72b6\u614b\u3092\u7ba1\u7406\u3059\u308b\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u5148\u306e\u9078\u629e\n* File\n* Memcached\n\n\n\n# DataRecord\u306e\u53d6\u5f97(\u30c7\u30fc\u30bf\u30b9\u30c8\u30a2\u5148\u3092File\u3068\u3057\u305f\u5834\u5408)\n```php\n\n<?php\n\nrequire 'vendor/autoload.php';\n\nuse Aws\\Kinesis\\KinesisClient;\nuse Aws\\Common\\Enum\\Region;\nuse Rf\\Aws\\AutoLoader;\nuse Rf\\Aws\\Kinesis\\ClientLibrary\\KinesisProxy;\nuse Rf\\Aws\\Kinesis\\ClientLibrary\\KinesisShardFileDataStore;\nuse Rf\\Aws\\Kinesis\\ClientLibrary\\KinesisShardMemcacheDataStore;\nuse Rf\\Aws\\Kinesis\\ClientLibrary\\KinesisStorageManager;\n\ndefine('STREAM_NAME', 'kinesis-trial');\n\n$kinesis = KinesisClient::factory(array(\n  'key' => 'XXXXX',\n  'secret' => 'XXXXX',\n  'region' => Region::VIRGINIA\n));\n\n$kinesis_proxy = KinesisProxy::factory($kinesis, STREAM_NAME);\n$kinesis_storage_manager = new KinesisStorageManager($kinesis_proxy, new KinesisShardFileDataStore('/tmp/amazon-kinesis'));\n\n// \u524d\u56de\u4fdd\u5b58\u3057\u305fSequenceNumber\u4ee5\u964d\u306eDataRecord\u3092\u53d6\u5f97\n// \u521d\u56de\u306f\u5148\u982d\u304b\u3089\u53d6\u5f97\n$data_records = $kinesis_storage_manager->findWithMergeStoreDataRecords(null, 10, 5);\nforeach ($data_records as $data_record) {\n  // \u53d6\u5f97\u3057\u305fDataRecord\u306b\u5bfe\u3057\u30b4\u30cb\u30e7\u30b4\u30cb\u30e7\u3059\u308b\n  echo $data_record->getData(), PHP_EOL;\n}\n\n// \u4eca\u56de\u5206\u306eSequenceNumber\u3092\u4fdd\u5b58\n$kinesis_storage_manager->saveAll();\n\n```\n\n# TODO\n* \u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u9078\u629e\u80a2\u3068\u3057\u3066Dynamo\u3068\u304bRedis\u3068\u304bRDS\u3068\u304b\u306f\u4eca\u5f8c\u8ffd\u52a0\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044\n* \u4e26\u5217(pthreads)\u3067\u52d5\u304f\u3088\u3046\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u306a\u3044\n\n\n# \u6240\u611f\u306a\u3069\n\u3057\u3087\u307c\u304f\u3066\u3059\u3044\u307e\u305b\u3093\u3002\u7cbe\u9032\u3057\u307e\u3059\u3002", "tags": ["Kinesis", "PHP", "AWS"]}