{"tags": ["SakuraVPS", "CentOS6", "rbenv", "Jekyll"], "context": " More than 1 year has passed since last update.\u30ed\u30fc\u30ab\u30ebMac\u306ejekyll -> \u3055\u304f\u3089VPS(CentOS6)\u3078\u30c7\u30d7\u30ed\u30a4\u3002\n\u30ed\u30fc\u30ab\u30ebMac\u306eruby\u306frbenv\u30672.2.2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8a2d\u5b9a\u3002\n\n\u3055\u304f\u3089VPS(CentOS6)\u306brbenv\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# cd /opt\n# git clone git://github.com/sstephenson/rbenv.git\n\n# mkdir /opt/rbenv/plugins\n# cd /opt/rbenv/plugins\n# git clone git://github.com/sstephenson/ruby-build.git\n\n\n/etc/profile\nexport RBENV_ROOT=\"/opt/rbenv\"\nexport PATH=\"${RBENV_ROOT}/bin:${PATH}\"\neval \"$(rbenv init -)\"\n\n\n\n\u3055\u304f\u3089VPS(CentOS6)\u306bRuby 2.2.2\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrbenv\u3067Ruby2.2.2\u3092\u5165\u308c\u308b\u3002\n# rbenv install 2.2.2\n# rbenv global 2.2.2\n# rbenv rehash\n# rbenv version\n2.2.2 (set by /opt/rbenv/version)\n\n\ngit\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210\n\u30d7\u30c3\u30b7\u30e5\u5148\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210\u3057\u3066\u30d7\u30b7\u30e5\u3057\u305f\u6642\u306e\n# cd /home/mysite\n# mkdir myblog.git\n# cd myblog.git\n# git --bare init\n# cp hooks/post-receive.sample hooks/post-receive\n# cd /home/mysite\n# mkdir tmp\n\n\ngit hook\u8a2d\u5b9a\ncopy /home/mysite/myblog.git/hooks/post-receive.sample\n/home/mysite/myblog.git/hooks/post-receive\nvi /home/mysite/myblog.git/hooks/post-receive\n\n\u30d7\u30c3\u30b7\u30e5\u3057\u305f\u3089Bundle install\u3057\u3066Jekyll\u30b5\u30fc\u30d0\u30fc\u3057\u3066\u516c\u958b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u5410\u304d\u51fa\u3057\u307e\u3059\u3002\n\n/home/mysite/myblog.git/hooks/post-receive\npwd\necho 'post-receive'\nruby -v\nrbenv version\n\ngit clone /home/mysite/myblog.git /home/mysite/tmp/repo\n\ncd /home/mysite/tmp/repo\nbundle install --path vendor/bundle\nbundle exec jekyll build -s /home/mysite/tmp/repo -d /home/mysite/public\n\ncd /home/mysite/tmp\nrm -rf repo\nexit\n~  \n\n\n\u30d7\u30c3\u30b7\u30e5\u3057\u305f\u6642\u306brbenv\u304c\u52b9\u3044\u3066\u3044\u306a\u3044\u306e\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\n/etc/profile\u306b\u66f8\u3044\u305f\u3084\u3064\u3092\u30d7\u30c3\u30b7\u30e5\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u306e.bashrc\u306b\u66f8\u3044\u305f\u3089\u52d5\u3044\u305f\u3002\n\n/home/mysite/.bashrc\nexport RBENV_ROOT=\"/opt/rbenv\"\nexport PATH=\"${RBENV_ROOT}/bin:${PATH}\"\neval \"$(rbenv init -)\"\n\n\n\u30ed\u30fc\u30ab\u30ebMac\u306ejekyll -> \u3055\u304f\u3089VPS(CentOS6)\u3078\u30c7\u30d7\u30ed\u30a4\u3002\n\u30ed\u30fc\u30ab\u30ebMac\u306eruby\u306frbenv\u30672.2.2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u8a2d\u5b9a\u3002\n\n### \u3055\u304f\u3089VPS(CentOS6)\u306brbenv\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# cd /opt\n# git clone git://github.com/sstephenson/rbenv.git\n```\n\n```\n# mkdir /opt/rbenv/plugins\n# cd /opt/rbenv/plugins\n# git clone git://github.com/sstephenson/ruby-build.git\n```\n\n``` text:/etc/profile\nexport RBENV_ROOT=\"/opt/rbenv\"\nexport PATH=\"${RBENV_ROOT}/bin:${PATH}\"\neval \"$(rbenv init -)\"\n```\n\n# \u3055\u304f\u3089VPS(CentOS6)\u306bRuby 2.2.2\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nrbenv\u3067Ruby2.2.2\u3092\u5165\u308c\u308b\u3002\n\n```\n# rbenv install 2.2.2\n# rbenv global 2.2.2\n# rbenv rehash\n# rbenv version\n2.2.2 (set by /opt/rbenv/version)\n```\n\n# git\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210\n\n\u30d7\u30c3\u30b7\u30e5\u5148\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210\u3057\u3066\u30d7\u30b7\u30e5\u3057\u305f\u6642\u306e\n\n```\n# cd /home/mysite\n# mkdir myblog.git\n# cd myblog.git\n# git --bare init\n# cp hooks/post-receive.sample hooks/post-receive\n# cd /home/mysite\n# mkdir tmp\n```\n\n# git hook\u8a2d\u5b9a\n\n```\ncopy /home/mysite/myblog.git/hooks/post-receive.sample\n/home/mysite/myblog.git/hooks/post-receive\nvi /home/mysite/myblog.git/hooks/post-receive\n```\n\n\u30d7\u30c3\u30b7\u30e5\u3057\u305f\u3089Bundle install\u3057\u3066Jekyll\u30b5\u30fc\u30d0\u30fc\u3057\u3066\u516c\u958b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u5410\u304d\u51fa\u3057\u307e\u3059\u3002\n\n``` /home/mysite/myblog.git/hooks/post-receive\npwd\necho 'post-receive'\nruby -v\nrbenv version\n\ngit clone /home/mysite/myblog.git /home/mysite/tmp/repo\n\ncd /home/mysite/tmp/repo\nbundle install --path vendor/bundle\nbundle exec jekyll build -s /home/mysite/tmp/repo -d /home/mysite/public\n\ncd /home/mysite/tmp\nrm -rf repo\nexit\n~  \n```\n\n\u30d7\u30c3\u30b7\u30e5\u3057\u305f\u6642\u306brbenv\u304c\u52b9\u3044\u3066\u3044\u306a\u3044\u306e\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\n\n/etc/profile\u306b\u66f8\u3044\u305f\u3084\u3064\u3092\u30d7\u30c3\u30b7\u30e5\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u306e.bashrc\u306b\u66f8\u3044\u305f\u3089\u52d5\u3044\u305f\u3002\n\n``` /home/mysite/.bashrc\nexport RBENV_ROOT=\"/opt/rbenv\"\nexport PATH=\"${RBENV_ROOT}/bin:${PATH}\"\neval \"$(rbenv init -)\"\n```\n\n"}