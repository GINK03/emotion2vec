{"context": " More than 1 year has passed since last update.\u30a4\u30de\u30c9\u30ad\u306e\u30b9\u30de\u30db\u30a2\u30d7\u30ea\u3067\u306f Pull to Refresh\uff08\u5f15\u3063\u5f35\u3063\u3066\u66f4\u65b0\uff09\u3092\u5b9f\u88c5\u3057\u3066\u308b\u30a2\u30d7\u30ea\u3092\u3088\u304f\u76ee\u306b\u3059\u308b\u306e\u3067\u3059\u304c\u3001RSS Reader \u306e Feedly \u3067\u306f Pull up to Close\uff08\u4e0a\u306b\u5f15\u3063\u3071\u3063\u3066\u9589\u3058\u308b\uff09\u3082\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u64cd\u4f5c\u6027\u304c\u306a\u304b\u306a\u304b\u4f7f\u3044\u3084\u3059\u304b\u3063\u305f\u306e\u3067\u3001\u81ea\u5206\u3067\u3082\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u30c7\u30e2\n\u3053\u3093\u306a\u611f\u3058\u3002 \u2192 http://www.youtube.com/watch?feature=player_embedded&v=AP6xPqwwXMI\nWebView \u306a\u3093\u3067\u3059\u304c\u3001\u4e00\u756a\u4e0b\u307e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u3066\u3001\u3055\u3089\u306b\u4e0a\u306b\u5f15\u3063\u5f35\u308b\u3068 \"Pull up to Close\" \u2192 \"Release to Close\" \u3068\u30e9\u30d9\u30eb\u304c\u5909\u308f\u308a\u3001\u305d\u3053\u3067\u96e2\u3059\u3068\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u5b9f\u88c5\u3057\u3066\u307f\u305f\u30b3\u30fc\u30c9\nXamarin.iOS \u3067\u3059\u304b\u3089\u3001C# \u3067\u3059\u3002\nUIWebView \u3067\u3084\u3063\u3066\u307e\u3059\u304c\u3001ScrollView \u306a\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u306a\u3089\u3060\u3044\u305f\u3044\u540c\u3058\u611f\u3058\u3067\u3044\u3051\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\nPullUpToCloseSampleViewController.cs\npublic partial class PullUpToCloseSampleViewController : UIViewController\n{\n    public PullUpToCloseSampleViewController() : base (\"PullUpToCloseSampleViewController\", null)\n    {\n    }\n\n    public override void ViewDidLoad()\n    {\n        base.ViewDidLoad();\n\n        // WebView \u304c\u6301\u3063\u3066\u308b ScrollView\u3001\u3088\u304f\u4f7f\u3046\u306e\u3067\u5909\u6570\u5316\u3057\u3066\u304a\u304f\n        // webView \u306f Interface Builder \u3067 UIWebView \u3092 Outlet \u306b\u3057\u305f\u3082\u306e\u3002\n        var scrollView = webView.ScrollView;\n\n        // Bounces \u306e\u5f71\u3092\u6d88\u3059 via http://stackoverflow.com/questions/8480571/removing-shadows-from-uiwebview\n        scrollView.Subviews.Where(v => v is UIImageView)\n            .ToList().ForEach(v => v.Hidden = true);\n\n        // \u4e0a\u306b\u5f15\u3063\u5f35\u3063\u305f\u6642\u306b\u898b\u3048\u308b\u80cc\u666f\u3068\u30e9\u30d9\u30eb\n        var bounceBackground = new UIView(\n            new RectangleF(0f, 0f, webView.Frame.Width, webView.Frame.Height));\n        bounceBackground.BackgroundColor = UIColor.LightGray;\n        var bounceLabel = new UILabel(\n            new RectangleF(0f, webView.Frame.Height - 30f, webView.Frame.Width, 30f));\n        bounceLabel.Text = \"Pull up to Close\";\n        bounceLabel.TextAlignment = UITextAlignment.Center;\n        bounceLabel.BackgroundColor = UIColor.Clear;\n        bounceLabel.Opaque = false;\n\n        // \u80cc\u666f\u3068\u30e9\u30d9\u30eb\u3092 WebView \u306e\u4e00\u756a\u5965\u306b\u8ffd\u52a0\u3059\u308b\n        webView.InsertSubview(bounceLabel, 0);\n        webView.InsertSubview(bounceBackground, 0);\n\n        // \u9069\u5f53\u306a URL \u3092\u8aad\u307f\u8fbc\u307f\n        webView.LoadRequest(NSUrlRequest.FromUrl(new NSUrl(\"http://yahoo.co.jp/\")));\n\n        // \u9589\u3058\u308b\u306e\u306b\u5fc5\u8981\u306a\u5206\u3060\u3051\u4e0a\u306b\u5f15\u3063\u5f35\u3063\u305f\u3089 true \u306b\u306a\u308b\n        var canClose = false;\n\n        // \u30c9\u30e9\u30c3\u30b0\u958b\u59cb\u6642\u306b\u30d5\u30e9\u30b0OFF(\u4e00\u5fdc)\n        scrollView.DraggingStarted += (sender, e) => \n        {\n            canClose = false;\n        };\n\n        // \u30c9\u30e9\u30c3\u30b0\u7d42\u4e86\u6642\u3001\u5fc5\u8981\u91cf\u5f15\u3063\u5f35\u3063\u3066\u3044\u305f\u3089 OnCloseByPullUp \u3092\u547c\u3076\n        scrollView.DraggingEnded += (sender, e) => \n        {\n            if (canClose)\n            {\n                OnCloseByPullUp();\n            }\n        };\n\n        // \u30b9\u30af\u30ed\u30fc\u30eb\u3057\u305f\u6642\u306b\u3044\u308d\u3044\u308d\u3084\u308b\n        scrollView.Scrolled += (sender, e) => \n        {\n            var labelFrame = bounceLabel.Frame;\n\n            // \u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u4e00\u756a\u4e0b\u307e\u3067\u8868\u793a\u3057\u3066\u3055\u3089\u306b\u5f15\u3063\u5f35\u3063\u305f\u30b5\u30a4\u30ba\n            var offsetY = (scrollView.Frame.Height + scrollView.ContentOffset.Y) \n                - scrollView.ContentSize.Height;\n\n            // 50px \u4e0a\u306b\u5f15\u3063\u5f35\u3063\u305f\u3089\u9589\u3058\u308b\u3082\u306e\u3068\u3059\u308b\n            canClose = offsetY > 50f;\n            bounceLabel.Text = canClose ? \"Release to Close\" : \"Pull up to Close\";\n\n            // \u30e9\u30d9\u30eb\u304c\u3044\u3064\u307e\u3067\u3082\u79fb\u52d5\u3057\u306a\u3044\u3088\u3046\u306b\n            if (offsetY > labelFrame.Height)\n            {\n                offsetY = labelFrame.Height;\n            }\n\n            // \u30e9\u30d9\u30eb\u304c\u30c9\u30e9\u30c3\u30b0\u3068\u5171\u306b\u4e0b\u304b\u3089\u305b\u308a\u51fa\u3057\u3066\u304f\u308b\u3088\u3046\u306b\n            labelFrame.Y = scrollView.Frame.Height - offsetY;\n            bounceLabel.Frame = labelFrame;\n        };\n    }\n\n    // \"Release to Close\" \u3067\u96e2\u3059\u3068\u547c\u3070\u308c\u308b\n    void OnCloseByPullUp()\n    {\n        var v = new UIAlertView(\"\", \"Close this view\",  null, \"Close\");\n        v.Show ();\n    }\n}\n\n\n\n\u3084\u3063\u3066\u308b\u4e8b\n\n ScrollView \u306e\u300c\u5f15\u3063\u5f35\u3063\u305f\u6642\u306b\u898b\u3048\u308b\u5834\u6240\uff08= Bounce \u3068\u3044\u3046\u3089\u3057\u3044\uff09\u300d\u306e\u5f71\u3092\u6d88\u3059\u3002 via http://stackoverflow.com/questions/8480571/removing-shadows-from-uiwebview\n\n\u80cc\u666f\u3068\u3001\u30e9\u30d9\u30eb\u3092 WebView \u5185\u306e\u4e00\u756a\u5965\u306b\u633f\u5165\u3059\u308b\uff08\u5f15\u3063\u5f35\u3063\u305f\u6642\u306b\u306e\u307f\u898b\u3048\u308b\u3088\u3046\u306b\uff09\n\u3042\u3068\u306f\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u3067\u306e\u51e6\u7406\u3002\u30b9\u30af\u30ed\u30fc\u30eb\u4e2d\u306b\u3001\u300c\u6700\u4e0b\u90e8\u3067\u5f15\u3063\u5f35\u308a\u4e2d\u300d\u3060\u3063\u305f\u3089 \"Pull up to Close\" \u30e9\u30d9\u30eb\u3092\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3055\u305b\u306a\u304c\u3089\u8868\u793a\u3059\u308b\u300250px \u4ee5\u4e0a\u5f15\u3063\u5f35\u3063\u3066\u305f\u3089 \"Release to Close\" \u306b\u30e9\u30d9\u30eb\u3092\u5909\u3048\u308b\u3002\u300c\u9589\u3058\u3089\u308c\u308b\u3088\u300d\u30d5\u30e9\u30b0\u3082 ON \u306b\u3057\u3068\u304f\u3002\n\u30c9\u30e9\u30c3\u30b0\u7d42\u4e86\u30a4\u30d9\u30f3\u30c8\u3067\u3001\u300c\u9589\u3058\u3089\u308c\u308b\u3088\u300d\u30d5\u30e9\u30b0\u304c\u7acb\u3063\u3066\u305f\u3089\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3059\u308b\u3002\n\n\n\u4eca\u5f8c\n\u3082\u3046\u3061\u3087\u3063\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u3063\u307d\u304f\u3057\u305f\u3044\u3067\u3059\u306d\u3002\u3042\u3068\u5f15\u3063\u5f35\u308a\u4e2d\u306b\u30a2\u30a4\u30b3\u30f3\u3068\u304b\u8868\u793a\u3055\u305b\u305f\u3044\u3002\n\u30a4\u30de\u30c9\u30ad\u306e\u30b9\u30de\u30db\u30a2\u30d7\u30ea\u3067\u306f Pull to Refresh\uff08\u5f15\u3063\u5f35\u3063\u3066\u66f4\u65b0\uff09\u3092\u5b9f\u88c5\u3057\u3066\u308b\u30a2\u30d7\u30ea\u3092\u3088\u304f\u76ee\u306b\u3059\u308b\u306e\u3067\u3059\u304c\u3001RSS Reader \u306e Feedly \u3067\u306f Pull up to Close\uff08\u4e0a\u306b\u5f15\u3063\u3071\u3063\u3066\u9589\u3058\u308b\uff09\u3082\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u64cd\u4f5c\u6027\u304c\u306a\u304b\u306a\u304b\u4f7f\u3044\u3084\u3059\u304b\u3063\u305f\u306e\u3067\u3001\u81ea\u5206\u3067\u3082\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n## \u30c7\u30e2\n\n\u3053\u3093\u306a\u611f\u3058\u3002 \u2192 http://www.youtube.com/watch?feature=player_embedded&v=AP6xPqwwXMI\nWebView \u306a\u3093\u3067\u3059\u304c\u3001\u4e00\u756a\u4e0b\u307e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u3066\u3001\u3055\u3089\u306b\u4e0a\u306b\u5f15\u3063\u5f35\u308b\u3068 \"Pull up to Close\" \u2192 \"Release to Close\" \u3068\u30e9\u30d9\u30eb\u304c\u5909\u308f\u308a\u3001\u305d\u3053\u3067\u96e2\u3059\u3068\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3057\u307e\u3059\u3002\n\n<iframe width=\"640\" height=\"360\" src=\"http://www.youtube.com/embed/AP6xPqwwXMI?feature=player_detailpage\" frameborder=\"0\" allowfullscreen></iframe>\n\n## \u5b9f\u88c5\u3057\u3066\u307f\u305f\u30b3\u30fc\u30c9\n\n[Xamarin.iOS](http://xamarin.com/) \u3067\u3059\u304b\u3089\u3001C# \u3067\u3059\u3002\n\nUIWebView \u3067\u3084\u3063\u3066\u307e\u3059\u304c\u3001ScrollView \u306a\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u306a\u3089\u3060\u3044\u305f\u3044\u540c\u3058\u611f\u3058\u3067\u3044\u3051\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```c#:PullUpToCloseSampleViewController.cs\npublic partial class PullUpToCloseSampleViewController : UIViewController\n{\n    public PullUpToCloseSampleViewController() : base (\"PullUpToCloseSampleViewController\", null)\n    {\n    }\n\n    public override void ViewDidLoad()\n    {\n        base.ViewDidLoad();\n\n        // WebView \u304c\u6301\u3063\u3066\u308b ScrollView\u3001\u3088\u304f\u4f7f\u3046\u306e\u3067\u5909\u6570\u5316\u3057\u3066\u304a\u304f\n        // webView \u306f Interface Builder \u3067 UIWebView \u3092 Outlet \u306b\u3057\u305f\u3082\u306e\u3002\n        var scrollView = webView.ScrollView;\n\n        // Bounces \u306e\u5f71\u3092\u6d88\u3059 via http://stackoverflow.com/questions/8480571/removing-shadows-from-uiwebview\n        scrollView.Subviews.Where(v => v is UIImageView)\n            .ToList().ForEach(v => v.Hidden = true);\n\n        // \u4e0a\u306b\u5f15\u3063\u5f35\u3063\u305f\u6642\u306b\u898b\u3048\u308b\u80cc\u666f\u3068\u30e9\u30d9\u30eb\n        var bounceBackground = new UIView(\n            new RectangleF(0f, 0f, webView.Frame.Width, webView.Frame.Height));\n        bounceBackground.BackgroundColor = UIColor.LightGray;\n        var bounceLabel = new UILabel(\n            new RectangleF(0f, webView.Frame.Height - 30f, webView.Frame.Width, 30f));\n        bounceLabel.Text = \"Pull up to Close\";\n        bounceLabel.TextAlignment = UITextAlignment.Center;\n        bounceLabel.BackgroundColor = UIColor.Clear;\n        bounceLabel.Opaque = false;\n\n        // \u80cc\u666f\u3068\u30e9\u30d9\u30eb\u3092 WebView \u306e\u4e00\u756a\u5965\u306b\u8ffd\u52a0\u3059\u308b\n        webView.InsertSubview(bounceLabel, 0);\n        webView.InsertSubview(bounceBackground, 0);\n\n        // \u9069\u5f53\u306a URL \u3092\u8aad\u307f\u8fbc\u307f\n        webView.LoadRequest(NSUrlRequest.FromUrl(new NSUrl(\"http://yahoo.co.jp/\")));\n\t\t\n        // \u9589\u3058\u308b\u306e\u306b\u5fc5\u8981\u306a\u5206\u3060\u3051\u4e0a\u306b\u5f15\u3063\u5f35\u3063\u305f\u3089 true \u306b\u306a\u308b\n        var canClose = false;\n\n        // \u30c9\u30e9\u30c3\u30b0\u958b\u59cb\u6642\u306b\u30d5\u30e9\u30b0OFF(\u4e00\u5fdc)\n        scrollView.DraggingStarted += (sender, e) => \n        {\n            canClose = false;\n        };\n\n        // \u30c9\u30e9\u30c3\u30b0\u7d42\u4e86\u6642\u3001\u5fc5\u8981\u91cf\u5f15\u3063\u5f35\u3063\u3066\u3044\u305f\u3089 OnCloseByPullUp \u3092\u547c\u3076\n        scrollView.DraggingEnded += (sender, e) => \n        {\n            if (canClose)\n            {\n                OnCloseByPullUp();\n            }\n        };\n\n        // \u30b9\u30af\u30ed\u30fc\u30eb\u3057\u305f\u6642\u306b\u3044\u308d\u3044\u308d\u3084\u308b\n        scrollView.Scrolled += (sender, e) => \n        {\n            var labelFrame = bounceLabel.Frame;\n\n            // \u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u4e00\u756a\u4e0b\u307e\u3067\u8868\u793a\u3057\u3066\u3055\u3089\u306b\u5f15\u3063\u5f35\u3063\u305f\u30b5\u30a4\u30ba\n            var offsetY = (scrollView.Frame.Height + scrollView.ContentOffset.Y) \n                - scrollView.ContentSize.Height;\n\n            // 50px \u4e0a\u306b\u5f15\u3063\u5f35\u3063\u305f\u3089\u9589\u3058\u308b\u3082\u306e\u3068\u3059\u308b\n            canClose = offsetY > 50f;\n            bounceLabel.Text = canClose ? \"Release to Close\" : \"Pull up to Close\";\n\n            // \u30e9\u30d9\u30eb\u304c\u3044\u3064\u307e\u3067\u3082\u79fb\u52d5\u3057\u306a\u3044\u3088\u3046\u306b\n            if (offsetY > labelFrame.Height)\n            {\n                offsetY = labelFrame.Height;\n            }\n\n            // \u30e9\u30d9\u30eb\u304c\u30c9\u30e9\u30c3\u30b0\u3068\u5171\u306b\u4e0b\u304b\u3089\u305b\u308a\u51fa\u3057\u3066\u304f\u308b\u3088\u3046\u306b\n            labelFrame.Y = scrollView.Frame.Height - offsetY;\n            bounceLabel.Frame = labelFrame;\n        };\n    }\n    \n    // \"Release to Close\" \u3067\u96e2\u3059\u3068\u547c\u3070\u308c\u308b\n    void OnCloseByPullUp()\n    {\n        var v = new UIAlertView(\"\", \"Close this view\",  null, \"Close\");\n        v.Show ();\n    }\n}\n```\n\n## \u3084\u3063\u3066\u308b\u4e8b\n\n1.  ScrollView \u306e\u300c\u5f15\u3063\u5f35\u3063\u305f\u6642\u306b\u898b\u3048\u308b\u5834\u6240\uff08= Bounce \u3068\u3044\u3046\u3089\u3057\u3044\uff09\u300d\u306e\u5f71\u3092\u6d88\u3059\u3002 via http://stackoverflow.com/questions/8480571/removing-shadows-from-uiwebview\n2. \u80cc\u666f\u3068\u3001\u30e9\u30d9\u30eb\u3092 WebView \u5185\u306e\u4e00\u756a\u5965\u306b\u633f\u5165\u3059\u308b\uff08\u5f15\u3063\u5f35\u3063\u305f\u6642\u306b\u306e\u307f\u898b\u3048\u308b\u3088\u3046\u306b\uff09\n3. \u3042\u3068\u306f\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u3067\u306e\u51e6\u7406\u3002\u30b9\u30af\u30ed\u30fc\u30eb\u4e2d\u306b\u3001\u300c\u6700\u4e0b\u90e8\u3067\u5f15\u3063\u5f35\u308a\u4e2d\u300d\u3060\u3063\u305f\u3089 \"Pull up to Close\" \u30e9\u30d9\u30eb\u3092\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3055\u305b\u306a\u304c\u3089\u8868\u793a\u3059\u308b\u300250px \u4ee5\u4e0a\u5f15\u3063\u5f35\u3063\u3066\u305f\u3089 \"Release to Close\" \u306b\u30e9\u30d9\u30eb\u3092\u5909\u3048\u308b\u3002\u300c\u9589\u3058\u3089\u308c\u308b\u3088\u300d\u30d5\u30e9\u30b0\u3082 ON \u306b\u3057\u3068\u304f\u3002\n4. \u30c9\u30e9\u30c3\u30b0\u7d42\u4e86\u30a4\u30d9\u30f3\u30c8\u3067\u3001\u300c\u9589\u3058\u3089\u308c\u308b\u3088\u300d\u30d5\u30e9\u30b0\u304c\u7acb\u3063\u3066\u305f\u3089\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3059\u308b\u3002\n\n## \u4eca\u5f8c\n\n\u3082\u3046\u3061\u3087\u3063\u3068\u30e9\u30a4\u30d6\u30e9\u30ea\u3063\u307d\u304f\u3057\u305f\u3044\u3067\u3059\u306d\u3002\u3042\u3068\u5f15\u3063\u5f35\u308a\u4e2d\u306b\u30a2\u30a4\u30b3\u30f3\u3068\u304b\u8868\u793a\u3055\u305b\u305f\u3044\u3002", "tags": ["Xamarin", "iOS", "C#"]}