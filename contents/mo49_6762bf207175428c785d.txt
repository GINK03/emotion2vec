{"context": "\n\n\u30af\u30e9\u30b9\u5316\u3059\u308b\n\u30c7\u30e2\uff1ahttp://mo49.tokyo/qiita/20160519/\n\u3053\u308c\u306b\u30b9\u30af\u30ed\u30fc\u30eb\u5bfe\u5fdc\u3057\u305f\u306e\u304c\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u304b\u306a\u3002\n\nModal.js\nexport default class Modal {\n\n    constructor (opts = {}) {}\n\n    open() {\n        this.genOverlay();\n        this.genPopup();\n     }\n\n    close() {\n        $(\".popup, #overlay\").fadeOut(function(){\n            $(this).remove();\n        });\n    }\n\n    genPopup() {\n        const $open = $('#open');\n        const $popup = $('<div class=\"popup\">');\n        const $txt = $('<p class=\"txt\">HELLO WORLD.</p>');\n        const $close = $('<div id=\"close\" class=\"btn close\">CLOSE</div>');\n\n        $popup.hide();\n\n        $open.after($popup);\n        $popup.append($txt);\n        $popup.append($close);\n\n        $popup.fadeIn();\n    }\n\n    genOverlay() {\n        const $overlay = $('<div id=\"overlay\"></div>');\n        $overlay.hide();\n        $('body').prepend($overlay);\n        $overlay.fadeIn();\n    }\n\n}\n\n\n\nindex.js\nimport Modal from './lib/Modal';\n\nconst modal = new Modal();\n\n$('#open').on('click', () => {\n    modal.open();\n\n    $('#close, #overlay').on('click', () => {\n        modal.close();\n    })\n\n})\n\n\n\n\u57fa\u672c\u5f62\n\u30c7\u30e2\uff1ahttp://mo49.tokyo/jQuery_sdl/11/\n\u30af\u30ea\u30c3\u30af\u3055\u308c\u308b'a href'\u306b\u30e2\u30fc\u30c0\u30eb\u3067\u8868\u793a\u3059\u308b'img src'\u3092\u4e88\u3081\u5165\u308c\u3066\u304a\u304f\u3068\u3044\u3046\u30c6\u30af\u30cb\u30c3\u30af\u3002\n\nhtml\n<a href=\"img/img1.jpg\"><img src=\"img/thumb1.jpg\" alt=\"Photo1\"></a>\n\n\n\u30e2\u30fc\u30c0\u30eb\u30a6\u30a3\u30f3\u30c9\u30a6\u304cfadeOut\u5f8c\u306bremove\u3055\u308c\u3066\u3044\u308b\u70b9\u3082\u826f\u3044\u3002\n\njavascript\n$(function(){\n    // \u30b5\u30e0\u30cd\u30fc\u30eb\u3092\u30af\u30ea\u30c3\u30af\n    $(\"a\").click(function(){\n        // body\u8981\u7d20\u306e\u6700\u5f8c\u306bdiv#bg\u3092\u8ffd\u52a0\n        $(\"body\").append('<div id=\"bg\">');\n\n        // body\u8981\u7d20\u306e\u6700\u5f8c\u306bdiv#photo\u3092\u8ffd\u52a0\n        $(\"body\").append('<div id=\"photo\">');\n\n        // \u305d\u308c\u305e\u308c\u975e\u8868\u793a\u306b\u3059\u308b\n        $(\"#bg\").hide();\n        $(\"#photo\").hide();\n\n        // #photo\u306e\u4e2d\u306bimg\u8981\u7d20\u3092\u8ffd\u52a0\n        $(\"#photo\").html(\"<img>\");\n\n        // img\u8981\u7d20\u306bsrc\u5c5e\u6027\u3092\u8a2d\u5b9a\n        $(\"#photo img\").attr(\"src\",  $(this).attr(\"href\"));\n        console.log($(this).attr(\"href\"));\n\n        // img\u8981\u7d20\u306bwidth\u3001height\u3001alt\u5c5e\u6027\u3092\u8a2d\u5b9a\n        $(\"#photo img\").attr(\"width\", 640);\n        $(\"#photo img\").attr(\"height\", 420);\n        $(\"#photo img\").attr(\"alt\", \"Photo\");\n\n        // #bg\u3068#photo\u3092\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3   \n        $(\"#bg\").fadeIn();\n        $(\"#photo\").fadeIn();\n\n        // \u80cc\u666f\u3092\u30af\u30ea\u30c3\u30af   \n        $(\"#bg\").click(function(){\n            // \u80cc\u666f\uff08\u81ea\u5206\u81ea\u8eab\uff09\u3092\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u3001\u5b8c\u4e86\u3057\u305f\u3089\u524a\u9664\n            $(this).fadeOut(function(){\n                $(this).remove();\n            });\n\n            // \u753b\u50cf\u3092\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u3001\u5b8c\u4e86\u3057\u305f\u3089\u524a\u9664\n            $(\"#photo\").fadeOut(function(){\n                $(this).remove();\n            });\n        });\n\n\n        return false;\n    });\n\n\n});\n\n\n\n\u30b9\u30af\u30ed\u30fc\u30eb\u91cf\u304b\u3089\u3061\u3087\u3046\u3069\u826f\u3044\u4f4d\u7f6e\u306b\u8868\u793a\n\u5b9f\u969b\u306b\u4f7f\u3046\u6a5f\u4f1a\u304c\u591a\u3044\u306e\u306f\u3053\u3061\u3089\u3002\n\u30c7\u30e2\uff1ahttp://mo49.tokyo/qiita/20160416/\n\u30af\u30ea\u30c3\u30af\u3057\u305f\u77ac\u9593\u306escrollTop\u3092\u53d6\u5f97\u3057\u3066\u3001\u5e38\u306b\u4e0a\u304b\u3089\u6307\u5b9a\u306e\u4f4d\u7f6e\u306b\u8868\u793a\u3059\u308b\u3002\n$(\".btn\").click(function(){\n\n    modalGen();\n\n    // \u4f4d\u7f6e\u306e\u8abf\u6574\n    var scrollTop = window.scrollY;\n    $('#modal-img').css(\"margin-top\", scrollTop + 100);\n\n    return false;\n});\n\nfunction modalGen(){\n\n    // \u5927\u67a0\n    $(\"body\").append('<div id=\"overlay\">');\n    $(\"body\").append('<div id=\"modal-img\">');\n\n    $(\"#overlay\").hide();\n    $(\"#modal-img\").hide();\n\n    $(\"#overlay\").fadeIn();\n    $(\"#modal-img\").fadeIn();\n\n    // \u5927\u67a0\u306e\u4e2d\u8eab\n    var img = new Image();\n    img.id = \"sample-img\";\n    var imgClose = new Image();\n    imgClose.id = \"close-img\";\n\n    // pc or sp\n    if ($('body').hasClass('env-pc')) {\n        img.src = \"http://placehold.it/640x340/27709b/ffffff\";\n        imgClose.src = \"img/close.png\";\n    }else{\n        img.src = \"http://placehold.it/320x170/27709b/ffffff\";\n        imgClose.src = \"img/close.png\";\n    }\n    $('#modal-img').append(img);\n    $('#modal-img').append(imgClose);\n\n    // \u524a\u9664\n    $(\"#overlay, #close-img\").click(function(){\n        $(\"#overlay\").fadeOut(function(){\n            $(this).remove();\n        });\n\n        $(\"#modal-img\").fadeOut(function(){\n            $(this).remove();\n        });\n    });\n}\n\n\n\u5f15\u7528\njQuery\u6a19\u6e96\u30c7\u30b6\u30a4\u30f3\u8b1b\u5ea7lesson11\n\n\n\u30d0\u30b0\nIE\u3067scrollY\u304c\u52b9\u304b\u306a\u3044\u3068\u304d\u30fb\u30fb\u30fb\n\njavascript\nvar scrollTop = window.scrollY;\nif (!scrollTop) {\n    // ie\n    scrollTop = window.pageYOffset;\n}\n\n\n\n## \u30af\u30e9\u30b9\u5316\u3059\u308b\n\n\u30c7\u30e2\uff1ahttp://mo49.tokyo/qiita/20160519/\n\n\u3053\u308c\u306b\u30b9\u30af\u30ed\u30fc\u30eb\u5bfe\u5fdc\u3057\u305f\u306e\u304c\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u304b\u306a\u3002\n\n```javascript:Modal.js\nexport default class Modal {\n    \n    constructor (opts = {}) {}\n\n    open() {\n        this.genOverlay();\n        this.genPopup();\n     }\n\n    close() {\n        $(\".popup, #overlay\").fadeOut(function(){\n            $(this).remove();\n        });\n    }\n\n    genPopup() {\n        const $open = $('#open');\n        const $popup = $('<div class=\"popup\">');\n        const $txt = $('<p class=\"txt\">HELLO WORLD.</p>');\n        const $close = $('<div id=\"close\" class=\"btn close\">CLOSE</div>');\n        \n        $popup.hide();\n        \n        $open.after($popup);\n        $popup.append($txt);\n        $popup.append($close);\n        \n        $popup.fadeIn();\n    }\n\n    genOverlay() {\n        const $overlay = $('<div id=\"overlay\"></div>');\n        $overlay.hide();\n        $('body').prepend($overlay);\n        $overlay.fadeIn();\n    }\n\n}\n```\n\n```javascript:index.js\nimport Modal from './lib/Modal';\n\nconst modal = new Modal();\n\n$('#open').on('click', () => {\n\tmodal.open();\n\n\t$('#close, #overlay').on('click', () => {\n\t\tmodal.close();\n\t})\n\n})\n```\n\n\n## \u57fa\u672c\u5f62\n\n\u30c7\u30e2\uff1ahttp://mo49.tokyo/jQuery_sdl/11/\n\n\u30af\u30ea\u30c3\u30af\u3055\u308c\u308b'a href'\u306b\u30e2\u30fc\u30c0\u30eb\u3067\u8868\u793a\u3059\u308b'img src'\u3092\u4e88\u3081\u5165\u308c\u3066\u304a\u304f\u3068\u3044\u3046\u30c6\u30af\u30cb\u30c3\u30af\u3002\n\n```html:html\n<a href=\"img/img1.jpg\"><img src=\"img/thumb1.jpg\" alt=\"Photo1\"></a>\n```\n\n\u30e2\u30fc\u30c0\u30eb\u30a6\u30a3\u30f3\u30c9\u30a6\u304cfadeOut\u5f8c\u306bremove\u3055\u308c\u3066\u3044\u308b\u70b9\u3082\u826f\u3044\u3002\n\n\n```javascript:javascript\n$(function(){\n\t// \u30b5\u30e0\u30cd\u30fc\u30eb\u3092\u30af\u30ea\u30c3\u30af\n\t$(\"a\").click(function(){\n\t\t// body\u8981\u7d20\u306e\u6700\u5f8c\u306bdiv#bg\u3092\u8ffd\u52a0\n\t\t$(\"body\").append('<div id=\"bg\">');\n\t\t\n\t\t// body\u8981\u7d20\u306e\u6700\u5f8c\u306bdiv#photo\u3092\u8ffd\u52a0\n\t\t$(\"body\").append('<div id=\"photo\">');\n\n\t\t// \u305d\u308c\u305e\u308c\u975e\u8868\u793a\u306b\u3059\u308b\n\t\t$(\"#bg\").hide();\n\t\t$(\"#photo\").hide();\n\t\t\n\t\t// #photo\u306e\u4e2d\u306bimg\u8981\u7d20\u3092\u8ffd\u52a0\n\t\t$(\"#photo\").html(\"<img>\");\n\t\t\n\t\t// img\u8981\u7d20\u306bsrc\u5c5e\u6027\u3092\u8a2d\u5b9a\n\t\t$(\"#photo img\").attr(\"src\",  $(this).attr(\"href\"));\n\t\tconsole.log($(this).attr(\"href\"));\n\t\t\n\t\t// img\u8981\u7d20\u306bwidth\u3001height\u3001alt\u5c5e\u6027\u3092\u8a2d\u5b9a\n\t\t$(\"#photo img\").attr(\"width\", 640);\n\t\t$(\"#photo img\").attr(\"height\", 420);\n\t\t$(\"#photo img\").attr(\"alt\", \"Photo\");\n\t\t\n\t\t// #bg\u3068#photo\u3092\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3   \n\t\t$(\"#bg\").fadeIn();\n\t\t$(\"#photo\").fadeIn();\n\t\t\n\t\t// \u80cc\u666f\u3092\u30af\u30ea\u30c3\u30af   \n\t\t$(\"#bg\").click(function(){\n\t\t\t// \u80cc\u666f\uff08\u81ea\u5206\u81ea\u8eab\uff09\u3092\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u3001\u5b8c\u4e86\u3057\u305f\u3089\u524a\u9664\n\t\t\t$(this).fadeOut(function(){\n\t\t\t\t$(this).remove();\n\t\t\t});\n\t\t\n\t\t\t// \u753b\u50cf\u3092\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u3001\u5b8c\u4e86\u3057\u305f\u3089\u524a\u9664\n\t\t\t$(\"#photo\").fadeOut(function(){\n\t\t\t\t$(this).remove();\n\t\t\t});\n\t\t});\n\n\t\t\n\t\treturn false;\n\t});\n\n\n});\n```\n\n## \u30b9\u30af\u30ed\u30fc\u30eb\u91cf\u304b\u3089\u3061\u3087\u3046\u3069\u826f\u3044\u4f4d\u7f6e\u306b\u8868\u793a\n\n\u5b9f\u969b\u306b\u4f7f\u3046\u6a5f\u4f1a\u304c\u591a\u3044\u306e\u306f\u3053\u3061\u3089\u3002\n\n\u30c7\u30e2\uff1ahttp://mo49.tokyo/qiita/20160416/\n\n\u30af\u30ea\u30c3\u30af\u3057\u305f\u77ac\u9593\u306escrollTop\u3092\u53d6\u5f97\u3057\u3066\u3001\u5e38\u306b\u4e0a\u304b\u3089\u6307\u5b9a\u306e\u4f4d\u7f6e\u306b\u8868\u793a\u3059\u308b\u3002\n\n```\n$(\".btn\").click(function(){\n\n    modalGen();\n\n\t// \u4f4d\u7f6e\u306e\u8abf\u6574\n    var scrollTop = window.scrollY;\n    $('#modal-img').css(\"margin-top\", scrollTop + 100);\n\n    return false;\n});\n\nfunction modalGen(){\n\n    // \u5927\u67a0\n    $(\"body\").append('<div id=\"overlay\">');\n    $(\"body\").append('<div id=\"modal-img\">');\n\n    $(\"#overlay\").hide();\n    $(\"#modal-img\").hide();\n\n    $(\"#overlay\").fadeIn();\n    $(\"#modal-img\").fadeIn();\n\n    // \u5927\u67a0\u306e\u4e2d\u8eab\n    var img = new Image();\n    img.id = \"sample-img\";\n    var imgClose = new Image();\n    imgClose.id = \"close-img\";\n\n    // pc or sp\n    if ($('body').hasClass('env-pc')) {\n        img.src = \"http://placehold.it/640x340/27709b/ffffff\";\n        imgClose.src = \"img/close.png\";\n    }else{\n        img.src = \"http://placehold.it/320x170/27709b/ffffff\";\n        imgClose.src = \"img/close.png\";\n    }\n    $('#modal-img').append(img);\n    $('#modal-img').append(imgClose);\n\n    // \u524a\u9664\n    $(\"#overlay, #close-img\").click(function(){\n        $(\"#overlay\").fadeOut(function(){\n            $(this).remove();\n        });\n\n        $(\"#modal-img\").fadeOut(function(){\n            $(this).remove();\n        });\n    });\n}\n```\n\n\n> \u5f15\u7528\n[jQuery\u6a19\u6e96\u30c7\u30b6\u30a4\u30f3\u8b1b\u5ea7](http://www.amazon.co.jp/jQuery%E6%A8%99%E6%BA%96%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E8%AC%9B%E5%BA%A7-%E7%A5%9E%E7%94%B0-%E5%B9%B8%E6%81%B5/dp/4798136220/ref=sr_1_5?ie=UTF8&qid=1456056520&sr=8-5&keywords=jquery)lesson11\n\n### \u30d0\u30b0\n\nIE\u3067scrollY\u304c\u52b9\u304b\u306a\u3044\u3068\u304d\u30fb\u30fb\u30fb\n\n```javascript:javascript\nvar scrollTop = window.scrollY;\nif (!scrollTop) {\n\t// ie\n\tscrollTop = window.pageYOffset;\n}\n```\n", "tags": ["jQuery", "JavaScript", "es6"]}