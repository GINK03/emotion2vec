{"context": "\n\n\u80cc\u666f\n\u4eca\u5e74\u306e\u51ac\u306f\u5bd2\u3044\u3002\n\u6700\u8fd1\u65b0\u5bbf\u306e\u30dc\u30ed\u30a2\u30d1\u30fc\u30c8\uff08\u7acb\u5730\u3060\u3051\u3067\u9078\u3093\u3060\uff09\u306b\u5f15\u3063\u8d8a\u3057\u3066\u4ee5\u6765\u3001\u65ad\u71b1\u6027\u306e\u30ab\u30b1\u30e9\u3082\u306a\u3044\u304f\u305d\u5bd2\u3044\u5bb6\u306b\u5e30\u308b\u306e\u304c\u5acc\u3067\u3057\u3087\u3046\u304c\u306a\u304b\u3063\u305f\u3002\n\u5e78\u3044\u306b\u3057\u3066\uff08\uff1f\uff09\u30a8\u30a2\u30b3\u30f3\u306f\u3042\u308b\u306e\u3067\u3001\u5bb6\u306b\u5165\u3063\u3066\u304b\u3089\u6696\u623f\u3092\u3064\u3051\u308b\u306e\u3060\u304c\u3001\u6696\u307e\u308b\u307e\u3067\u306f\u305d\u3053\u305d\u3053\u6642\u9593\u304c\u304b\u304b\u308a\u3001\u305d\u306e\u9593\u306f\u30b3\u30fc\u30c8\u3082\u8131\u304c\u305a\u51cd\u3048\u308b\u3057\u304b\u306a\u3044\u3002\n\u305d\u3053\u3067\u3001\u304b\u306d\u3066\u304b\u3089\u6b32\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7d4c\u7531\u3067\u30a8\u30a2\u30b3\u30f3\u3092on, off\u3067\u304d\u308b\u88c5\u7f6e\u3092\u4f5c\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\u96fb\u5b50\u5de5\u4f5c\u306f\u5168\u304f\u306e\u521d\u5fc3\u8005\u306a\u306e\u3067\u3001\u4f7f\u3046\u306e\u306f\u3068\u3063\u304b\u304b\u308a\u306e\u7c21\u5358\u305d\u3046\u306aRaspberry Pi\u306b\u3057\u305f\u3002\n\u307e\u305f\u3001\u4e00\u4eba\u306e\u5bb6\u306b\u5e30\u308b\u5bc2\u3057\u3055\u3092\u7d1b\u3089\u308f\u305b\u308b\u305f\u3081\u306b\u3001\u6700\u8fd1\u30a8\u30f3\u30b8\u30cb\u30a2\u306b\u4eba\u6c17\u306e\u30c1\u30e3\u30c3\u30c8\u30c4\u30fc\u30ebslack\u3092\u4f7f\u3063\u305f\u3002\nslack\u306b\u300c\u6696\u623f\u30aa\u30f3\u300d\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6253\u3064\u3068\u3001\u30a2\u30cb\u30e1\u30ad\u30e3\u30e9\u304c\u300c\u6696\u623f\u3064\u3051\u3068\u3044\u305f\u308f\u3088\u3002\u3079\u3001\u5225\u306b\u3042\u3093\u305f\u306e\u305f\u3081\u3058\u3083\u306a\u3044\u3093\u3060\u304b\u3089\u306d//\u300d\u3068\u8a00\u3044\u306a\u304c\u3089\u6696\u623f\u3092\u3064\u3051\u3066\u304f\u308c\u308b\u3002\u5922\u306e\u3088\u3046\u3060\u3002\n\n\u5b9f\u88c5\u958b\u59cb\u6642\u70b9\u3067\u306e\u79c1\u306e\u80fd\u529b\n\n\u96fb\u5b50\u5de5\u4f5c\u3084\u3063\u305f\u3053\u3068\u306a\u3044\n\nRaspberry Pi\u89e6\u3063\u305f\u3053\u3068\u306a\u3044\nLinux\uff08CentOS, Ubuntu\uff09\u306f\u3060\u3044\u305f\u3044\u89e6\u3063\u305f\u3053\u3068\u3042\u308b\nApache\u3084php, JavaScript\u306a\u3069\u3092\u4f7f\u3063\u3066web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u305f\u3053\u3068\u304c\u3042\u308b\n\u4f1a\u793e\u3067slack\u3068\u3044\u3046\u30c1\u30e3\u30c3\u30c8\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u3044\u308b\n\n\u3064\u307e\u308a\u3001\u666e\u901a\u306eWeb\u5c4b\u3055\u3093\u3067\u3059\u3002\n\n\u5b8c\u6210\u5f62\n\n1. slack\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u6295\u3052\u308b\uff08\u307f\u3053\u3068\u305f\u3093\u304c\u8fd4\u4e8b\u3057\u3066\u304f\u308c\u308b\uff01(/\u03c9\uff3c)\n\n\n2. \u5bb6\u306b\u8a2d\u7f6e\u3057\u305fRaspberry Pi\u304c\u8d64\u5916\u7dda\u3092\u767a\u4fe1\n\n\n3. \u30a8\u30a2\u30b3\u30f3\u304c\u52d5\u304f\uff01\n\n\n\u6750\u6599\n\nAmazon\u3067\u8cb7\u3063\u305f\u3082\u306e\n\nRaspberry Pi Model B+ (Plus)\n\nBUFFALO \u7121\u7ddaLAN\u5b50\u6a5f \u30b3\u30f3\u30d1\u30af\u30c8\u30e2\u30c7\u30eb 11n\u6280\u8853\u30fb11g/b\u5bfe\u5fdc WLI-UC-GNM\n\n\u7121\u7ddaLAN\u5b50\u6a5f\u306e\u4e2d\u3067\u306f\u5727\u5012\u7684\u306b\u5c0f\u3055\u304f\u3066\u3088\u3044\n\n\n\n\n\u96fb\u5b50\u90e8\u54c1\u5c02\u9580\u5e97\u3067\u8cb7\u3063\u305f\u3082\u306e\uff08\u79c1\u306e\u5834\u5408\u306f\u79cb\u8449\u539f\u306e\u79cb\u6708\u96fb\u5b50\u3067\u8cb7\u3063\u305f\uff09\n\n5mm\u8d64\u5916\u7ddaLED OSI5FU5111c-40\n\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb PL-IRM2161-XD1 (2\u500b\u5165) \nLED\u30ad\u30e3\u30c3\u30d7 OS-CAP-5MK-1\n\u62b5\u6297 (50\u03a9\u304f\u3089\u3044)\n\u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9\n\u30b8\u30e3\u30f3\u30d1\u30fc\u30ef\u30a4\u30e4\u30fc (\u6700\u4f4e\u30aa\u30b9\u30fb\u30e1\u30b9\u305d\u308c\u305e\u308c5\u672c\u304f\u3089\u3044)\n\u666e\u901a\u306e\u8d64\u8272LED\uff08\u901a\u96fb\u78ba\u8a8d\u7528\uff09\n\n\n\u305d\u306e\u4ed6\u3001Raspberry Pi\u306e\u521d\u671f\u8a2d\u5b9a\u306e\u305f\u3081\u306b\u5fc5\u8981\u306a\u3082\u306e\uff08\u65e2\u306b\u6301\u3063\u3066\u308b\u304b\u3082\uff09\n\n\u96fb\u6e90\u30b1\u30fc\u30d6\u30eb\uff08microUSB\uff09\nusb\u30ad\u30fc\u30dc\u30fc\u30c9\nhdmi\u30b1\u30fc\u30d6\u30eb & \u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\n\n\nRaspberry Pi\uff08\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\uff09\u3063\u3066\u306a\u3093\u3084\nLinux\u3092\u52d5\u304b\u3059\u3053\u3068\u306e\u3067\u304d\u308b\u30de\u30a4\u30b3\u30f3\uff08\u30de\u30a4\u30af\u30ed\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\uff09\u3067\u3059\u3002\u30b5\u30a4\u30ba\u306f\u4e0b\u306e\u5199\u771f\u306e\u3088\u3046\u306b\u5c0f\u3055\u304f\u3001\u624b\u306e\u3072\u3089\u306b\u306e\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u304f\u3089\u3044\u3067\u3059\u3002\nLinux\u3067\u52d5\u3044\u3066\u308b\u306e\u3067\u3001Apache\u3084php\u3092\u5165\u308c\u3066\u30b5\u30fc\u30d0\u3068\u3057\u3066\u4f7f\u3046\u3053\u3068\u3082\u7c21\u5358\u3067\u3059\u3002\n\u307e\u305f\u3001GPIO\uff08General Purpose Input/Output: \u6c4e\u7528\u5165\u51fa\u529b\uff09\u30d4\u30f3\u3068\u3044\u3046\u3082\u306e\u304c\u3064\u3044\u3066\u304a\u308a\u3001\u305d\u3053\u304b\u3089\u56de\u8def\u3092\u4f5c\u3063\u3066\u96fb\u5b50\u5de5\u4f5c\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n...\u306a\u3093\u3066\u8aac\u660e\u3055\u308c\u3066\u3082\u5206\u304b\u3063\u305f\u3088\u3046\u306a\u5206\u304b\u3089\u3093\u3088\u3046\u306a\u611f\u3058\u306a\u306e\u3067\u3001\u5b9f\u969b\u306b\u904a\u3093\u3067\u307f\u308b\u306e\u304c\u4e00\u756a\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u2193\u306e\u30ea\u30f3\u30af\u5148\u306e\u30da\u30fc\u30b8\u306f\u3001\u96fb\u5b50\u5de5\u4f5c\u521d\u3081\u3066\u306e\u5973\u6027\u793e\u54e1\u304cRaspberry Pi\u3067\u904a\u3093\u3067\u307f\u308b\u3001\u3068\u3044\u3046\u5185\u5bb9\u306e\u9023\u8f09\u8a18\u4e8b\u3067\u3059\u3002\u3064\u307e\u305a\u3044\u305f\u3068\u3053\u308d\u3092\u5168\u3066\u8a18\u8ff0\u3057\u306a\u304c\u3089\u3086\u3063\u304f\u308a\u9032\u3093\u3067\u3044\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u3068\u3066\u3082\u697d\u3057\u304f\u8aad\u3081\u307e\u3057\u305f\u3002\nhttp://deviceplus.jp/author/maruyamadeviceplus-jp/\nOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306a\u3069\u306e\u57fa\u672c\u7684\u306a\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u4f5c\u696d\u306f\u3053\u306e\u30da\u30fc\u30b8\u3092\u8aad\u307f\u306a\u304c\u3089\u9032\u3081\u3066\u3082\u3089\u3048\u308c\u3070\u9593\u9055\u3044\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306f\u3001\u4e0a\u8a18\u306e\u30da\u30fc\u30b8\u901a\u308a\u306bRaspberry Pi\u7528\u306eOS: Raspbian\u3092\u5165\u308c\u305f\u3082\u306e\u3068\u3057\u3066\u8aac\u660e\u3092\u9032\u3081\u307e\u3059\u3002\n\nApache, php\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRaspbian\u306fDebian\u7cfb\u306eOS\u306a\u306e\u3067\u3001apt\u3092\u7528\u3044\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nterminal\n$ sudo apt-get install apache2\n$ sudo apt-get install php5\n$ sudo update-rc.d apache2 defaults #\u8d77\u52d5\u6642\u306bapache\u304c\u81ea\u52d5\u3067\u7acb\u3061\u4e0a\u304c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306f\u3001/var/www\u304c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nterminal\n$ vi /var/www/index.php\n\n\n\nindex.php\nhello world from raspberry pi!\n<?php echo \"php\u306f\u6b63\u3057\u304f\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\"; #php\u304c\u6b63\u3057\u304f\u52d5\u3044\u3066\u308b\u304b\u78ba\u8a8d ?>\n\n\n\u3068\u3057\u3066\u3001index.php\u3092\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u4e0a\u306b\u4f5c\u308a\u3001Apache, php\u304c\u6b63\u3057\u304f\u52d5\u3044\u3066\u3044\u308c\u3070\u3001curl\u30b3\u30de\u30f3\u30c9\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\nterminal\n$ curl http://localhost\nhello world from raspberry pi!\nphp\u306f\u6b63\u3057\u304f\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\n\n\n\u3055\u3089\u306b\u3001\u4ed6\u306ePC\u304b\u3089\u3082\u540c\u3058\u3088\u3046\u306b\u898b\u3048\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\nifconfig\u30b3\u30de\u30f3\u30c9\u306a\u3069\u3067\u3001Raspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u8abf\u3079\u3001\u305d\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u30d6\u30e9\u30a6\u30b6\u306b\u6253\u3061\u8fbc\u3081\u3070\u3001\u5148\u307b\u3069curl\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u305f\u3068\u304d\u3068\u540c\u3058\u5185\u5bb9\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\uff08Raspberry Pi\u3068\u7570\u306a\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308bPC\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u306f\u3001\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u5834\u5408\u3001\u30eb\u30fc\u30bf\u306e\u8a2d\u5b9a\u3067\u5916\u90e8\u304b\u308980\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u3001Raspberry Pi\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8IP\u30a2\u30c9\u30ec\u30b9\u3078\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u3057\u3066\u3042\u3052\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09\n\nslack\u304b\u3089\u901a\u4fe1\u3092\u53d7\u3051\u53d6\u308a\u3001LED\u3092\u5149\u3089\u305b\u308b\n\u307e\u305a\u306f\u8a18\u5ff5\u3059\u3079\u304d\u96fb\u5b50\u5de5\u4f5c\u7b2c\uff11\u6b69\u3068\u3057\u3066\u3001slack\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308a\u3001\u305d\u308c\u306b\u53cd\u5fdc\u3057\u3066Raspberry Pi\u306b\u7e4b\u3044\u3060LED\u304c\u5149\u308b\u4ed5\u7d44\u307f\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nLED\u306e\u70b9\u6ec5\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d70\u3089\u305b\u308b\n\u307e\u305a\u3001Raspberry Pi\u306eGPIO\u30d4\u30f3\u304c\u3069\u306e\u3088\u3046\u306a\u4ed5\u69d8\u306a\u306e\u304b\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u306b\u5f93\u3063\u3066\u96fb\u5b50\u56de\u8def\u3092\u7d44\u3093\u3067\u307f\u3066\u3001LED\u30e9\u30a4\u30c8\u3092\u70b9\u706f\u3055\u305b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u7b2c9\u56de\u300c\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u3067\u96fb\u5b50\u5de5\u4f5c\uff01L\u30c1\u30ab\u2026\u306e\u524d\u306bL\u30d4\u30ab\uff01\u300d| Device Plus - \u30c7\u30d0\u30d7\u30e9\n\u3053\u306e\u30da\u30fc\u30b8\u3067\u306f200\u03a9\u7a0b\u5ea6\u306e\u62b5\u6297\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u300150\u03a9\u306e\u62b5\u6297\u3067\u3082\u5927\u4e08\u592b\u3067\u3059\uff08\u8cac\u4efb\u306f\u8ca0\u3048\u307e\u305b\u3093\u3002\uff09\u3069\u3046\u3057\u3066\u3082\u6016\u3044\u65b9\u306f\u300150\u03a9\u306e\u62b5\u6297\u3092\u76f4\u5217\u30674\u3064\u7e4b\u3052\u308c\u3070200\u03a9\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u3046\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ee5\u4e0b\u306f\u3001\u4e0a\u8a18\u306e\u30da\u30fc\u30b8\u306b\u5f93\u3063\u3066\u300cGPIO2\u300d\u3092\u7528\u3044\u3066LED\u3092\u70b9\u3051\u305f\u308a\u6d88\u3057\u305f\u308a\u3067\u304d\u305f\u72b6\u614b\u3092\u60f3\u5b9a\u3057\u307e\u3059\u3002\uff08\u4e0b\u306e\u753b\u50cf\u306e\u72b6\u614b\uff09\n\n\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u597d\u304d\u306a\u5834\u6240\u306b\u4fdd\u5b58\u3057\u3001\u5b9f\u884c\u3059\u308b\u3068LED\u304c3\u56de\u70b9\u6ec5\u3057\u307e\u3059\u3002\n\nblink.sh\necho 2 > /sys/class/gpio/export #\u300cGPIO2\u300d\u3092\u4f7f\u3046\nsleep 1\necho out > /sys/class/gpio/gpio2/direction #\u300cGPIO2\u300d\u3092\u51fa\u529b\u7528\u306b\u4f7f\u3046\n\necho 1 > /sys/class/gpio/gpio2/value #\u70b9\u706f\nsleep 1                              #1\u79d2\u4f11\u3080\necho 0 > /sys/class/gpio/gpio2/value #\u6d88\u706f\nsleep 1\necho 1 > /sys/class/gpio/gpio2/value\nsleep 1\necho 0 > /sys/class/gpio/gpio2/value\nsleep 1\necho 1 > /sys/class/gpio/gpio2/value\nsleep 1\necho 0 > /sys/class/gpio/gpio2/value\n\necho 2 > /sys/class/gpio/unexport #\u300cGPIO2\u300d\u306e\u4f7f\u7528\u3092\u7d42\u4e86\n\n\n\nterminal\n$ sudo sh blink.sh\n\n\n\nhttp\u30a2\u30af\u30bb\u30b9\u3092\u53d7\u3051\u308b\u3068\u3001LED\u304c\u70b9\u6ec5\u3059\u308b\n\u5148\u307b\u3069\u4f5c\u3063\u305f/var/www/index.php\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\nindex.php\n<?php exec('sudo sh /var/pi/blink.sh'); ?>\nLED\u3092\u70b9\u6ec5\u3055\u305b\u307e\u3057\u305f\uff01\n\n\n\u3059\u308b\u3068\u3001\u524d\u3068\u540c\u69d8\u306bRaspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068LED\u304c\u70b9\u6ec5...\u3059\u308b\u3068\u601d\u3044\u304d\u3084\u3001\u70b9\u6ec5\u3057\u307e\u305b\u3093\u3002\n\u3053\u308c\u306f\u3001http\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u3063\u3066\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u30e6\u30fc\u30b6\u304c\u3001root\u6a29\u9650\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u305f\u3081\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7684\u306b\u306f\u826f\u304f\u306a\u3044\u306e\u3067\u3059\u304c...\uff09www-data\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092sudo\u3067\u5b9f\u884c\u3067\u304d\u308b\u6a29\u9650\u3092\u4e0e\u3048\u3066\u3042\u3052\u307e\u3059\u3002\n\nterminal\n$ sudo visudo # /etc/sudoers.tmp\u30d5\u30a1\u30a4\u30eb\u304c\u958b\u304b\u308c\u308b\n\n\n\n/etc/sudoers.tmp\n...\n\npi ALL=(ALL) NOPASSWD: ALL\nwww-data ALL=NOPASSWD:/bin/sh #\u3053\u306e\u884c\u3092\u8ffd\u52a0\n\n\n\u3053\u306e\u72b6\u614b\u3067\u3082\u3046\u4e00\u5ea6Raspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u898b\u4e8bLED\u304c\u70b9\u6ec5\u3059\u308b\u306f\u305a\u3067\u3059\uff01\n\nslack\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3068LED\u304c\u70b9\u6ec5\u3059\u308b\n\u3064\u3044\u306bslack\u3068\u306e\u9023\u643a\u3067\u3059\u3002\n\u4eca\u56de\u306f\u3001slack\u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u300cOutgoing WebHooks\u300d\u3068\u3044\u3046API\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\u3053\u306eAPI\u306f\u3001\u7279\u5b9a\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u3084\u7279\u5b9a\u306e\u6587\u5b57\u5217\u3092\u542b\u3093\u3060\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u3089\u308c\u308b\u3068\u3001\u3053\u3061\u3089\u306e\u6307\u5b9a\u3057\u305fURL\u306bPOST\u30a2\u30af\u30bb\u30b9\u3092\u3057\u3066\u304f\u308c\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u3057\u304b\u3082\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3067json\u30c7\u30fc\u30bf\u3092\u8fd4\u3057\u3066\u3084\u308c\u3070\u3001\u305d\u308c\u3092slack\u4e0a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\nhttps://slack.com/services/new\n\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u300cOutgoing WebHooks\u300d\u3092\u9078\u629e\u3057\u3001\u6307\u793a\u306b\u5f93\u3063\u3066\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nPOST\u5148\u306eURL\u306f\u3001Raspberry Pi\u306e\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u306b\u3059\u308c\u3070\u3088\u3044\u3067\u3059\u3002\n\u300crpi-led\u300d\u30c1\u30e3\u30f3\u30cd\u30eb\u306a\u3069\u3092\u4f5c\u3063\u3066\u3001\u300cLED\u300d\u3068\u3044\u3046\u6587\u5b57\u5217\u3067\u59cb\u307e\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u305d\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u306b\u6295\u4e0b\u3055\u308c\u305f\u3068\u304d\u3060\u3051\u53cd\u5fdc\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u306e\u304c\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3055\u3066\u3001\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u81ea\u5206\u306e\u8a2d\u5b9a\u3057\u305f\u6761\u4ef6\u306b\u9069\u5408\u3059\u308b\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u4e0b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002 \u8a2d\u5b9a\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u308c\u3070LED\u304c\u70b9\u6ec5\u3059\u308b\u306f\u305a\u3002\n\nRaspberry Pi\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8fd4\u4fe1\u3092\u3059\u308b\n\u300cOutgoing WebHooks\u300dAPI\u3067\u306f\u3001POST\u30a2\u30af\u30bb\u30b9\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u3001\n\nresponse\n{text:\"@message@\"}\n\n\n\u3068\u3044\u3046json\u30c7\u30fc\u30bf\u3092\u8fd4\u3057\u3066\u3084\u308b\u3068\u3001@message@\u306e\u90e8\u5206\u304cslack\u5074\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b/var/www/index.php\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3066\u3084\u308a\u307e\u3057\u3087\u3046\u3002\n\nindex.php\n<?php exec('sudo sh /var/pi/blink.sh'); ?>\n{text:\"LED\u3092\u70b9\u6ec5\u3055\u305b\u307e\u3057\u305f\uff01\"}\n\n\n\u3059\u308b\u3068\u3001slack\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3067LED\u304c\u70b9\u6ec5\u3055\u305b\u308b\u3068\u3001slack\u4e0a\u306b\u300cLED\u3092\u70b9\u6ec5\u3055\u305b\u307e\u3057\u305f\uff01\u300d\u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u30a8\u30a2\u30b3\u30f3\u3092on, off\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\u3053\u3053\u307e\u3067\u3067\u3001slack\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u4e0b\u3059\u308b\u3053\u3068\u3067\u3001Raspberry Pi\u4e0a\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3084\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u6b21\u306b\u3001Raspberry Pi\u304b\u3089\u30a8\u30a2\u30b3\u30f3\u306eon, off\u3092\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u306e\u5927\u307e\u304b\u306a\u624b\u9806\u306f\u4ee5\u4e0b\u306e2\u30b9\u30c6\u30c3\u30d7\u3067\u3059\u3002\n\n\u8d64\u5916\u7dda\u53d7\u5149\u5668\u3092\u7528\u3044\u3066\u3001\u30a8\u30a2\u30b3\u30f3\u306e\u30ea\u30e2\u30b3\u30f3\u304con, off\u6642\u306b\u3069\u306e\u3088\u3046\u306a\u30d1\u30bf\u30fc\u30f3\u306e\u8d64\u5916\u7dda\u3092\u767a\u4fe1\u3057\u3066\u3044\u308b\u306e\u304b\u3092\u899a\u3048\u308b\u3002\n\u8d64\u5916\u7ddaLED\u3092\u7528\u3044\u3066\u3001\u5148\u307b\u3069\u899a\u3048\u305f\u30d1\u30bf\u30fc\u30f3\u3092\u9001\u4fe1\u3059\u308b\u3002\n\n\u96fb\u5b50\u5de5\u4f5c\u306b\u3088\u308b\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u306e\u64cd\u4f5c\u306f\u3001\u96fb\u5b50\u5de5\u4f5c\u30d7\u30ed\u306e\u65b9\u3005\u304c\u305f\u304f\u3055\u3093\u3084\u3089\u308c\u3066\u3044\u308b\u306e\u3067\uff08\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\uff09\u3001\u3053\u3053\u3067\u306f\u8a73\u3057\u3044\u8aac\u660e\u306f\u7701\u3044\u3066\u3001\u5b9f\u969b\u306b\u79c1\u304c\u3084\u3063\u305f\u624b\u9806\u306b\u96c6\u4e2d\u3057\u3066\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\nUmbrella RaspberryPi\u3067LIRC\u3059\u308b\nRaspberry Pi \u3067\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3 - \u732b\u3071\u30fc\u3093\u3061\uff01\n\n\u30ea\u30e2\u30b3\u30f3\u304c\u767a\u4fe1\u3057\u3066\u3044\u308b\u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u3092\u899a\u3048\u308b\n\u8d64\u5916\u7dda\u306e\u53d7\u4fe1\u30fb\u767a\u4fe1\u3092\u884c\u3046\u306b\u306f\u3001lirc\u3068\u3044\u3046Linux\u3067\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u3092\u53d7\u4fe1\u3057\u305f\u308a\u767a\u4fe1\u3057\u305f\u308a\u3059\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u74b0\u5883\u3092\u7528\u3044\u307e\u3059\u3002\n\u307e\u305a\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nterminal\n$ sudo apt-get install lirc\n\n\nlirc\u3078\u306e\u5165\u51fa\u529b\u306b\u4f7f\u3046GPIO\u756a\u53f7\u3092\u6307\u5b9a\uff08\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u5165\u529b\u309224, \u51fa\u529b\u309225\u756a\u306e\u30d4\u30f3\u3067\u884c\u3046\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\uff09\n\nterminal\n$ sudo modprobe lirc-rpi gpio_in_pin=24 gpio_out_pin=25\n\n\n\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u3066\u3044\u308b\u304b\u78ba\u8a8d\n\nterminal\n$ ls  -l /dev/lirc*\ncrw-rw---T 1 root video 249, 0 12\u6708 23 13:23 /dev/lirc0\n\n\ndebugfs\u3067\u3001GPIO\u306e\u30a2\u30b5\u30a4\u30f3\u3092\u78ba\u8a8d\n\nterminal\n$ sudo mount -t debugfs debugfs /sys/kernel/debug\n$ sudo cat /sys/kernel/debug/gpio\nGPIOs 0-53, bcm2708_gpio:\n gpio-16  (led0                ) out hi\n gpio-24  (lirc_rpi ir/in      ) in  hi\n gpio-25  (lirc_rpi ir/out     ) in  lo\n\n\n\n\u53d7\u4fe1\u52d5\u4f5c\u306e\u78ba\u8a8d\n\u56f3\u306e\u3088\u3046\u306b\u8d64\u5916\u7dda\u53d7\u5149\u5668\uff08\u578b\u756a:PL-IRM2161-XD1\uff09\u3068\u30b8\u30e3\u30f3\u30d1\u30fc\u30ef\u30a4\u30e4\u30fc\u3092\u8a2d\u7f6e\u3057\u3001\u56de\u8def\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u306e\u3068\u304d\u3001\u53d7\u5149\u5668\u53f3\u5074\u306e\u8db3\u304c3.3V\u96fb\u6e90\u306e\u30d4\u30f3\u3001\u771f\u3093\u4e2d\u306e\u8db3\u304cGND\u306e\u30d4\u30f3\u3001\u5de6\u5074\u306e\u8db3\u304clirc\u306e\u5165\u529b\u30d4\u30f3\u306b\u3055\u3055\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08\u4e0b\u306e\u56f3\u3067\u306f\u305d\u308c\u305e\u308c\u30011\uff083.3V), 20(GND\uff09, 18\uff08GPIO24\uff09\u756a\u306e\u30d4\u30f3\uff09\n\n\nterminal\n$ mode2 -d /dev/lirc0\n(\u30ea\u30e2\u30b3\u30f3\u3092\u8d64\u5916\u7dda\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5411\u3051\u3066\u4f55\u304b\u30dc\u30bf\u30f3\u3092\u62bc\u3059)\npulse 399512\nspace 3458\npulse 1739\nspace 416\npulse 454\nspace 412\npulse 1322\nspace 409\npulse 459\nspace 409\npulse 459\nspace 408\npulse 476\nspace 391\npulse 455\n :\n\n\n\u53d7\u4fe1\u3067\u304d\u3066\u3044\u308c\u3070\u3001\u4e0a\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n\n\u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067lircd\u304c\u8d77\u52d5\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nterminal\n$ sudo /etc/init.d/lirc stop\n\n\n\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u305f\u5f8c\u3001\u30ea\u30e2\u30b3\u30f3\u3092\u8d64\u5916\u7dda\u53d7\u5149\u5668\u306b\u5411\u3051\u3066\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\nterminal\n$ mode2 -d /dev/lirc0 | tee AIRON\n\uff08\u30a8\u30a2\u30b3\u30f3\u3092on\u306b\u3059\u308b\u30dc\u30bf\u30f3\u3092\u62bc\u3059 \u2192 Ctrl+C\uff09\n\n$ mode2 -d /dev/lirc0 | tee AIROFF\n\uff08\u30a8\u30a2\u30b3\u30f3\u3092off\u306b\u3059\u308b\u30dc\u30bf\u30f3\u3092\u62bc\u3059 \u2192 Ctrl+C\uff09\n\n\n\u6b21\u306b\u3001\u3053\u306e\u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3001\u8d64\u5916\u7dda\u9001\u4fe1\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u3044\u3066\u3001\u5148\u307b\u3069\u306e\u30d1\u30bf\u30fc\u30f3\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3057\u307e\u3059\u3002\n\nparse.rb\nlines =  File.open(ARGV[0]).readlines #\u884c\u3054\u3068\u306b\u914d\u5217\u3068\u3057\u3066\u8aad\u307f\u8fbc\u307f\nlines_without_first = lines.slice(1..-1) #\u5148\u982d\u306e\u884c\u306f\u4e0d\u5fc5\u8981\u306a\u306e\u3067\u7701\u304f\nputs lines_without_first.map{|line|line.split(\" \")[1]}.join(\" \") #\u6574\u5f62\u3057\u3066\u8868\u793a\n\n\n\nterminal\n$ ruby parse.rb AIROFF\n3458 1739 416 454 412 1322 409 459 409 459 408 476 391 455 431 436 408 465 413 448 407 477 396 453 412 454 413 450 415 1322 409 457 414 455 410 456 411 457 411 455 410 460 411 451 412 1326 410.....\n\n\n\u3053\u3053\u3067\u8868\u793a\u3055\u308c\u305f\u6570\u5b57\u306e\u7f85\u5217\u306f\u3001\u5148\u307b\u3069\u306e\u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u306e\u6570\u5b57\u90e8\u5206\u306e\u307f\u3092\u4e26\u3079\u305f\u3082\u306e\u3067\u3059\u3002\n\u307e\u305f\u3001\u6570\u5b57\u306e1\u756a\u76ee\u3060\u3051\u306f\u3001\u30ea\u30e2\u30b3\u30f3\u306e\u30b9\u30a4\u30c3\u30c1\u3092\u62bc\u3059\u307e\u3067\u306e\u6642\u9593\u3092\u8868\u3057\u305f\u3082\u306e\u3067\u4e0d\u5fc5\u8981\u3067\u3059\u3002\n\u3053\u306e\u6570\u5b57\u306e\u7f85\u5217\u3092\u7528\u3044\u3066\u3001/etc/lirc/lircd.conf\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\nlircd.conf\n# Please make this file available to others\n# by sending it to <lirc@bartelmus.de>\n#\n# this config file was automatically generated\n# using lirc-0.9.0-pre1(default) on 2015\n#\n# contributed by <% YOUR NAME %>\n#\n# brand: <% BRAND %>\n# model no. of remote control: <% MODEL No. %>\n# devices being controlled by this remote: <% DEVICE %>\n#\n\nbegin remote\n\n  name  aircon\n  flags RAW_CODES\n  eps            30\n  aeps          100\n\n  gap          200000\n  toggle_bit_mask 0x0\n\n      begin raw_codes\n    name off\n3458 1739 416 454 412 1322 409 459 409 459 408 476 391 455 431 436 408\n465 413 448 407 477 396 453 412 454 413 450 415 1322 409 457 414 455 410\n456 411 457 411 455 410 460 411 451 412 1326 410 1320 411 1330 404 453\n......\n\n    name on\n3465 1733 417 452 414 1322 410 454 411 458 418 445 413 454 421 447 411 496\n370 454 429 442 418 445 413 456 416 461 396 1327 408 457 413 454 414 452\n412 457 416 449 412 454 412 456 411 1326 409 1325 408 1324 435 431 412 452\n...... \n\n      end raw_codes\n\nend remote\n\n\n\u6570\u5b57\u306e\u7f85\u5217\u306e\u90e8\u5206\u306f\u5148\u307b\u3069\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u8868\u793a\u3055\u308c\u305f\u6570\u5b57\u306e\u7f85\u5217\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\uff08\u203b1\u884c\u304c\u3042\u307e\u308a\u306b\u9577\u3044\u3068\u3046\u307e\u304f\u52d5\u304b\u306a\u3044\u3089\u3057\u3044\u306e\u3067\u300180\u6587\u5b57\u3054\u3068\u3092\u76ee\u5b89\u306b\u6539\u884c\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\uff09\n\u307e\u305f\u3001<% ... %>\u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u306f\u81ea\u5206\u306e\u60c5\u5831\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u8d64\u5916\u7dda\u306e\u9001\u4fe1\n\u3053\u308c\u3067\u3001\u8d64\u5916\u7dda\u9001\u4fe1\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n\u305d\u308c\u3067\u306f\u3064\u3044\u306b\u8d64\u5916\u7dda\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff01\n\u666e\u901a\u306eLED\u3092\u5149\u3089\u305b\u305f\u3068\u304d\u3068\u540c\u3058\u3088\u3046\u306b\u56de\u8def\u3092\u7d44\u307f\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001\u5148\u307b\u3069\u306e\u300cGPIO2\u300d\u3068\u306f\u9055\u3044\u3001lirc\u306e\u51fa\u529b\u7aef\u5b50\u3067\u3042\u308b\u300cGPIO25\u300d\u306e\u3068\u3053\u308d\u306b\u3055\u3059\u3053\u3068\u3092\u9593\u9055\u3048\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\n\u307e\u305f\u3001LED\u3082\u666e\u901a\u306eLED\u3067\u306f\u306a\u304f\u3001\u4eca\u56de\u306f\u8d64\u5916\u7ddaLED\u3092\u4f7f\u3044\u307e\u3059\u3002\nlircd\u306e\u8d77\u52d5\n\nterminal\n$ sudo /etc/init.d/lirc start\n\n\n\u81ea\u52d5\u3067\u8d77\u52d5\u3057\u305f\u3044\u5834\u5408\u306f\u3001update-rc.d\u3067\u767b\u9332\u3057\u307e\u3059\u3002\n\nterminal\n$ sudo update-rc.d lirc defaults\n\n\n\u30ea\u30e2\u30b3\u30f3\u3068\u30b3\u30de\u30f3\u30c9\u306e\u78ba\u8a8d\n\nterminal\n$ irsend LIST '' ''\nirsend: aircon\n\n\n\nterminal\n$ irsend LIST aircon ''\nirsend: 0000000000000001 off\nirsend: 0000000000000002 on\n\n\n\u4e0a\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u30b3\u30de\u30f3\u30c9\u306f\u6b63\u3057\u304f\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u3064\u3044\u306b\u9001\u4fe1\u3067\u3059\uff01\n\nterminal\n$ irsend SEND_ONCE aircon on\n\n\n\u3053\u308c\u307e\u3067\u306e\u5de5\u7a0b\u304c\u5168\u3066\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u308c\u3070\u3001\u30a8\u30a2\u30b3\u30f3\u306e\u96fb\u6e90\u304c\u3064\u304f\u306f\u305a\u3067\u3059\uff01\n\uff08\u305f\u3060\u3057\u3001\u4ee5\u5916\u3068\u8d64\u5916\u7ddaLED\u306e\u5f37\u5ea6\u306f\u5f31\u304f\u30011m\u304f\u3089\u3044\u306e\u8ddd\u96e2\u3067\u3057\u304b\u53cd\u5fdc\u3057\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\uff09\n\u307e\u305f\u3001LED\u306e\u6307\u5411\u6027\u304c\u5f37\u304f\u3001\u5411\u304d\u304c\u6b63\u78ba\u3067\u306a\u3044\u3068\u53cd\u5fdc\u3057\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u8cfc\u5165\u3057\u3066\u304a\u3044\u305fLED\u30ad\u30e3\u30c3\u30d7\u3092\u8d64\u5916\u7ddaLED\u306b\u304b\u3076\u305b\u3066\u3084\u308a\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u5411\u304d\u304c\u591a\u5c11\u305a\u308c\u3066\u3044\u3066\u3082\u30a8\u30a2\u30b3\u30f3\u304c\u53cd\u5fdc\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\uff08\u3082\u3061\u308d\u3093\u8d64\u5916\u7dda\u306e\u5f37\u5ea6\u306f\u843d\u3061\u307e\u3059\u3002\uff09\n\nslack\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u3066\u3001\u30a8\u30a2\u30b3\u30f3\u3092on, off\u3059\u308b\n\u3055\u3042\u3044\u3088\u3044\u3088\u5927\u8a70\u3081\u3067\u3059\u3002\nslack\u304b\u3089\u306ePOST\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u3066\u3001\u4e0a\u8a18\u306eirsend\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b/var/www/index.php\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\nindex.php\n<?php exec(\"irsend SEND_ONCE aircon off\"); ?>\n{text:\"\u30a8\u30a2\u30b3\u30f3\u3092\u6d88\u3057\u307e\u3057\u305f\uff01\"}\n\n\n\u3053\u306e\u72b6\u614b\u3067\u3001slack\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b\u3068\u3001\u30a8\u30a2\u30b3\u30f3\u304c\u6d88\u3048\u3001\u300c\u30a8\u30a2\u30b3\u30f3\u3092\u6d88\u3057\u307e\u3057\u305f\uff01\u300d\u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304cslack\u306b\u9001\u3089\u308c\u307e\u3059\u3002\n\u3064\u3044\u306b\u3084\u308a\u307e\u3057\u305f\uff01slack\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u3063\u3066\u30a8\u30a2\u30b3\u30f3\u3092\u64cd\u4f5c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\uff01\n\u5f8c\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u3088\u3063\u3066\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u5909\u3048\u308b\u3088\u3046\u306b\u66f8\u304f\u3060\u3051\u3067\u3059\u3002\nslack\u306eOutgoing WebHooks\u306eTrigger Word(s)\u306b\u300c\u30aa\u30f3,\u30aa\u30d5\u300d\u3068\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001index.php\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3002\n\nindex.php\n<?php\nif (preg_match('/\u30aa\u30d5/', $_POST['text'])):\n  exec(\"irsend SEND_ONCE aircon off\");\n  echo '{text:\"\u30a8\u30a2\u30b3\u30f3\u3092\u6d88\u3057\u307e\u3057\u305f\uff01\"}';\nelseif (preg_match('/\u30aa\u30f3/', $_POST['text'])):\n  exec(\"irsend SEND_ONCE aircon on\");\n  echo '{text:\"\u30a8\u30a2\u30b3\u30f3\u3092\u3064\u3051\u307e\u3057\u305f\uff01\"}';\nendif;\n\n\n\u3053\u308c\u306b\u3066\u5b8c\u6210\u3067\u3059\uff01\n\n\u88dc\u8db3\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u3064\u3044\u3066\uff09\n\u4e0a\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3068\u3001Raspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u77e5\u3063\u3066\u3044\u308b\u4eba\u306a\u3089\u3001\u8ab0\u3067\u3082\u30a8\u30a2\u30b3\u30f3\u3092\u64cd\u4f5c\u3067\u304d\u3066\u3057\u307e\u3044\u307e\u3059\u3002\nOutgoing WebHooks\u306f\u8a8d\u8a3c\u7528\u306etoken\u3092\u542b\u3081\u305f\u3001\u8272\u3005\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u9001\u3063\u3066\u304d\u3066\u304f\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u7528\u3044\u3066\u6b63\u3057\u3044\u30a2\u30af\u30bb\u30b9\u4ee5\u5916\u3092\u306f\u3058\u304f\u3088\u3046\u306b\u3059\u308b\u306e\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\u6700\u7d42\u7684\u306a\u79c1\u306eindex.php\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\nindex.php\n<?php\n    #POST\u30ea\u30af\u30a8\u30b9\u30c8\u78ba\u8a8d\u7528\n    #ob_start();\n    #var_dump($_POST);\n    #$post = ob_get_contents();\n    #ob_end_clean();\n    #file_put_contents(\"/tmp/dump.txt\", $post);\n\n    $data = array(\n        \"off\" => array(\n            \"regex\" => \"/\\A\u30aa\u30d5\\z/u\",\n            \"operation\" => \"off\",\n            \"text\" => [\"\u30a8\u30a2\u30b3\u30f3\u306e\u30b9\u30a4\u30c3\u30c1\u5207\u3063\u3068\u3044\u305f\u308f\u3088\uff01\u3079\u3001\u5225\u306b\u3042\u3093\u305f\u306e\u305f\u3081\u3058\u3083\u306a\u3044\u3093\u3060\u304b\u3089\u306d\uff01\", \"\u307b\u3089\u3001\u30a8\u30a2\u30b3\u30f3\u5207\u3063\u3066\u304a\u3044\u305f\u308f\u3088\u3002\u5bb6\u51fa\u308b\u524d\u306b\u3061\u3083\u3093\u3068\u78ba\u8a8d\u3057\u306a\u3055\u3044\u3088\u306d\uff01\"]\n        ),\n        \"heater\" => array(\n            \"regex\" => \"/\\A\u6696\u623f\u30aa\u30f3\\z/u\",\n            \"operation\" => \"24hot\",\n            \"text\" => [\"\u3042\u3093\u305f\u304c\u98a8\u90aa\u5f15\u304b\u306a\u3044\u3088\u3046\u306b\u3001\u6696\u623f\u5165\u308c\u3066\u304a\u3044\u305f\u308f\u3002\u611f\u8b1d\u3057\u306a\u3055\u3044\uff01\", \"\u65e9\u304f\u5e30\u3063\u3066\u304d\u306a\u3055\u3044\u3001\u6696\u623f\u5165\u308c\u3066\u5f85\u3063\u3066\u308b\u304b\u3089...//\"]\n        ),\n        \"cooler\" => array(\n            \"regex\" => \"/\\A\u51b7\u623f\u30aa\u30f3\\z/u\",\n            \"operation\" => \"25cool\",\n            \"text\" => [\"\u4eca\u65e5\u3082\u3042\u3063\u3064\u3044\u308f\u306d\u30fc\u3001\u307b\u3089\u3001\u51b7\u623f\u304b\u3051\u3068\u3044\u305f\u308f\u3088\u3002\", \"\u30af\u30fc\u30e9\u30fc\u304b\u3051\u3068\u304f\u308f\u3002\u5e30\u3063\u3066\u304d\u305f\u3089\u4e00\u7dd2\u306b\u30a2\u30a4\u30b9\u3067\u3082\u98df\u3079\u307e\u3057\u3087\uff01\"]\n        )\n    );\n?>\n\n<?php if ($_POST[\"token\"] != \"<YOUR TOKEN>\"): ?>\n<h2>\u7121\u52b9\u306a\u30c8\u30fc\u30af\u30f3\u3067\u3059</h2>\n\n<?php elseif ($_POST[\"user_id\"] == \"USLACKBOT\"): ?>\n{\"text\":\"\"}\n\n<?php elseif ($_POST[\"user_id\"] != \"<YOUR USER ID>\"): ?>\n{\"text\":\"\u3053\u306e\u64cd\u4f5c\u306f\u26aa\ufe0e\u26aa\ufe0e\u306b\u3057\u304b\u8a31\u3055\u308c\u3066\u306a\u3044\u306e\u3002\u30b4\u30e1\u30f3\u306d\uff08\uff1e_\uff1c\uff09\"}\n\n<?php else: ?>\n\n    <?php foreach ($data as $k => $v): ?>\n        <?php if (preg_match($v['regex'], $_POST['text'])): ?>\n            <?php exec(\"irsend SEND_ONCE sakai-air \" . $v['operation'], $output, $return_var); ?>\n            <?php if ($return_var === 0): ?>\n                <?php $t = $v['text']; ?>\n{\"text\":\"<?php echo $t[array_rand($t)]; ?>\"}\n            <?php else: ?>\n{\"text\":\"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u307f\u305f\u3044...\u78ba\u8a8d\u304a\u9858\u3044\u3059\u308b\u308f\u306d\u3002\"}\n            <?php endif; ?>\n        <?php endif; ?>\n    <?php endforeach; ?>\n\n<?php endif; ?>\n\n\n\u3053\u306ephp\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001slack\u306etoken\u3092\u8a8d\u8a3c\u3057\u3066\u3044\u308b\u306e\u3067\u3001slack\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u4ee5\u5916\u306f\u53d7\u3051\u4ed8\u3051\u307e\u305b\u3093\u3002\n\u307e\u305f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6253\u3063\u305f\u30e6\u30fc\u30b6\u306eID\u3082\u8a8d\u8a3c\u3059\u308b\u3053\u3068\u3067\u3001\u79c1\u4ee5\u5916\u306e\u793e\u54e1\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u306f\u3001\u30a8\u30a2\u30b3\u30f3\u3092\u64cd\u4f5c\u3067\u304d\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\n\n\u88dc\u8db3\uff08\u307f\u3053\u3068\u305f\u3093\u306b\u3064\u3044\u3066\uff09\n\n\u5fa1\u5742\u7f8e\u7434\uff08\u3068\u3042\u308b\u79d1\u5b66\u306e\u8d85\u96fb\u78c1\u7832\uff09\n\u300c\u3053\u306e\u30e9\u30a4\u30c8\u30ce\u30d9\u30eb\u304c\u3059\u3054\u3044\uff01\u300d\u5973\u6027\u30ad\u30e3\u30e9\u90e8\u95805\u5e74\u9023\u7d9a1\u4f4d\n\u3068\u3066\u3082\u304b\u3063\u3053\u3044\u3044\n\u3068\u3066\u3082\u304b\u308f\u3044\u3044\n\n\u300cOutgoings WebHooks\u300d\u306e\u30a2\u30d0\u30bf\u30fc\u3084\u540d\u524d\u306f\u3001\u8a2d\u5b9a\u753b\u9762\uff08Trigger Words\u3068\u304b\u6307\u5b9a\u3057\u305f\u753b\u9762\uff09\u304b\u3089\u81ea\u7531\u306b\u5909\u66f4\u3067\u304d\u307e\u3059\u3002\n\n\u307e\u3068\u3081\n\nslack\u306eOutgoing WebHooks\u3092\u7528\u3044\u3066Raspberry Pi\u306bPOST\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u308a\u3001\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u3042\u308bphp\u30b9\u30af\u30ea\u30d7\u30c8\u304b\u3089\u8d64\u5916\u7dda\u9001\u4fe1\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\n\u30a8\u30a2\u30b3\u30f3\u306e\u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u306f\u8d64\u5916\u7dda\u53d7\u5149\u5668\u3068lirc\u3092\u7528\u3044\u3066\u4e38\u6697\u8a18\u3057\u3001\u8d64\u5916\u7ddaLED\u304b\u3089\u9001\u4fe1\u3059\u308b\u3002\n\u307f\u3053\u3068\u305f\u3093\u304c\u53cd\u5fdc\u3057\u3066\u304f\u308c\u308b\u3002\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\u307f\u306a\u3055\u3093\u3082\u3088\u3044Raspberry Pi\u30e9\u30a4\u30d5\u3092\uff01\uff01\n## \u80cc\u666f\n\n\u4eca\u5e74\u306e\u51ac\u306f\u5bd2\u3044\u3002\n\n\u6700\u8fd1\u65b0\u5bbf\u306e\u30dc\u30ed\u30a2\u30d1\u30fc\u30c8\uff08\u7acb\u5730\u3060\u3051\u3067\u9078\u3093\u3060\uff09\u306b\u5f15\u3063\u8d8a\u3057\u3066\u4ee5\u6765\u3001\u65ad\u71b1\u6027\u306e\u30ab\u30b1\u30e9\u3082\u306a\u3044\u304f\u305d\u5bd2\u3044\u5bb6\u306b\u5e30\u308b\u306e\u304c\u5acc\u3067\u3057\u3087\u3046\u304c\u306a\u304b\u3063\u305f\u3002\n\u5e78\u3044\u306b\u3057\u3066\uff08\uff1f\uff09\u30a8\u30a2\u30b3\u30f3\u306f\u3042\u308b\u306e\u3067\u3001\u5bb6\u306b\u5165\u3063\u3066\u304b\u3089\u6696\u623f\u3092\u3064\u3051\u308b\u306e\u3060\u304c\u3001\u6696\u307e\u308b\u307e\u3067\u306f\u305d\u3053\u305d\u3053\u6642\u9593\u304c\u304b\u304b\u308a\u3001\u305d\u306e\u9593\u306f\u30b3\u30fc\u30c8\u3082\u8131\u304c\u305a\u51cd\u3048\u308b\u3057\u304b\u306a\u3044\u3002\n\n\u305d\u3053\u3067\u3001\u304b\u306d\u3066\u304b\u3089\u6b32\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7d4c\u7531\u3067\u30a8\u30a2\u30b3\u30f3\u3092on, off\u3067\u304d\u308b\u88c5\u7f6e\u3092\u4f5c\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\u96fb\u5b50\u5de5\u4f5c\u306f\u5168\u304f\u306e\u521d\u5fc3\u8005\u306a\u306e\u3067\u3001\u4f7f\u3046\u306e\u306f\u3068\u3063\u304b\u304b\u308a\u306e\u7c21\u5358\u305d\u3046\u306a<a href=\"http://www.amazon.co.jp/gp/product/B00LT4BOK6/ref=as_li_ss_tl?ie=UTF8&camp=247&creative=7399&creativeASIN=B00LT4BOK6&linkCode=as2&tag=kaky0922-22\">Raspberry Pi</a>\u306b\u3057\u305f\u3002\n\n\u307e\u305f\u3001\u4e00\u4eba\u306e\u5bb6\u306b\u5e30\u308b\u5bc2\u3057\u3055\u3092\u7d1b\u3089\u308f\u305b\u308b\u305f\u3081\u306b\u3001\u6700\u8fd1\u30a8\u30f3\u30b8\u30cb\u30a2\u306b\u4eba\u6c17\u306e\u30c1\u30e3\u30c3\u30c8\u30c4\u30fc\u30eb<a href=\"https://slack.com/\">slack</a>\u3092\u4f7f\u3063\u305f\u3002\nslack\u306b\u300c\u6696\u623f\u30aa\u30f3\u300d\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6253\u3064\u3068\u3001\u30a2\u30cb\u30e1\u30ad\u30e3\u30e9\u304c\u300c\u6696\u623f\u3064\u3051\u3068\u3044\u305f\u308f\u3088\u3002\u3079\u3001\u5225\u306b\u3042\u3093\u305f\u306e\u305f\u3081\u3058\u3083\u306a\u3044\u3093\u3060\u304b\u3089\u306d//\u300d\u3068\u8a00\u3044\u306a\u304c\u3089\u6696\u623f\u3092\u3064\u3051\u3066\u304f\u308c\u308b\u3002\u5922\u306e\u3088\u3046\u3060\u3002\n\n\n## \u5b9f\u88c5\u958b\u59cb\u6642\u70b9\u3067\u306e\u79c1\u306e\u80fd\u529b\n- \u96fb\u5b50\u5de5\u4f5c\u3084\u3063\u305f\u3053\u3068\u306a\u3044\n- <a href=\"http://www.amazon.co.jp/gp/product/B00LT4BOK6/ref=as_li_ss_tl?ie=UTF8&camp=247&creative=7399&creativeASIN=B00LT4BOK6&linkCode=as2&tag=kaky0922-22\">Raspberry Pi</a>\u89e6\u3063\u305f\u3053\u3068\u306a\u3044\n- Linux\uff08CentOS, Ubuntu\uff09\u306f\u3060\u3044\u305f\u3044\u89e6\u3063\u305f\u3053\u3068\u3042\u308b\n- Apache\u3084php, JavaScript\u306a\u3069\u3092\u4f7f\u3063\u3066web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u3063\u305f\u3053\u3068\u304c\u3042\u308b\n- \u4f1a\u793e\u3067slack\u3068\u3044\u3046\u30c1\u30e3\u30c3\u30c8\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u3044\u308b\n\n\u3064\u307e\u308a\u3001\u666e\u901a\u306eWeb\u5c4b\u3055\u3093\u3067\u3059\u3002\n\n\n## \u5b8c\u6210\u5f62\n\n#### 1. slack\u3067\u30e1\u30c3\u30bb\u30fc\u30b8\u6295\u3052\u308b\uff08\u307f\u3053\u3068\u305f\u3093\u304c\u8fd4\u4e8b\u3057\u3066\u304f\u308c\u308b\uff01(/\u03c9\uff3c)\n![Screenshot 2015-01-09 23.37.14.png](https://qiita-image-store.s3.amazonaws.com/0/43701/a79fde96-4f3c-8801-994b-af005d61b0c2.png \"Screenshot 2015-01-09 23.37.14.png\")\n\n#### 2. \u5bb6\u306b\u8a2d\u7f6e\u3057\u305fRaspberry Pi\u304c\u8d64\u5916\u7dda\u3092\u767a\u4fe1\n![rpi\u30ea\u30e2\u30b3\u30f3.jpg](https://qiita-image-store.s3.amazonaws.com/0/43701/c6e1a4ab-0364-cfbe-29fe-7f0767fe8609.jpeg \"rpi\u30ea\u30e2\u30b3\u30f3.jpg\")\n\n#### 3. \u30a8\u30a2\u30b3\u30f3\u304c\u52d5\u304f\uff01\n![20121112080755.jpg](https://qiita-image-store.s3.amazonaws.com/0/43701/a572b680-032f-d461-6ba7-21720fae7f97.jpeg \"20121112080755.jpg\")\n\n\n## \u6750\u6599\n#### Amazon\u3067\u8cb7\u3063\u305f\u3082\u306e\n- <a href=\"http://www.amazon.co.jp/gp/product/B00LT4BOK6/ref=as_li_ss_tl?ie=UTF8&camp=247&creative=7399&creativeASIN=B00LT4BOK6&linkCode=as2&tag=kaky0922-22\">Raspberry Pi Model B+ (Plus)</a>\n- <a href=\"http://www.amazon.co.jp/gp/product/B003NSAMW2/ref=as_li_ss_tl?ie=UTF8&camp=247&creative=7399&creativeASIN=B003NSAMW2&linkCode=as2&tag=kaky0922-22\">BUFFALO \u7121\u7ddaLAN\u5b50\u6a5f \u30b3\u30f3\u30d1\u30af\u30c8\u30e2\u30c7\u30eb 11n\u6280\u8853\u30fb11g/b\u5bfe\u5fdc WLI-UC-GNM</a>\n\t- \u7121\u7ddaLAN\u5b50\u6a5f\u306e\u4e2d\u3067\u306f\u5727\u5012\u7684\u306b\u5c0f\u3055\u304f\u3066\u3088\u3044\n\n#### \u96fb\u5b50\u90e8\u54c1\u5c02\u9580\u5e97\u3067\u8cb7\u3063\u305f\u3082\u306e\uff08\u79c1\u306e\u5834\u5408\u306f\u79cb\u8449\u539f\u306e\u79cb\u6708\u96fb\u5b50\u3067\u8cb7\u3063\u305f\uff09\n- <a href=\"http://akizukidenshi.com/catalog/g/gI-03261/\">5mm\u8d64\u5916\u7ddaLED OSI5FU5111c-40</a>\n- <a href=\"http://akizukidenshi.com/catalog/g/gI-06491/\">\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb PL-IRM2161-XD1 (2\u500b\u5165) </a>\n- LED\u30ad\u30e3\u30c3\u30d7 OS-CAP-5MK-1\n- \u62b5\u6297 (50\u03a9\u304f\u3089\u3044)\n- \u30d6\u30ec\u30c3\u30c9\u30dc\u30fc\u30c9\n- \u30b8\u30e3\u30f3\u30d1\u30fc\u30ef\u30a4\u30e4\u30fc (\u6700\u4f4e\u30aa\u30b9\u30fb\u30e1\u30b9\u305d\u308c\u305e\u308c5\u672c\u304f\u3089\u3044)\n- \u666e\u901a\u306e\u8d64\u8272LED\uff08\u901a\u96fb\u78ba\u8a8d\u7528\uff09\n\n#### \u305d\u306e\u4ed6\u3001Raspberry Pi\u306e\u521d\u671f\u8a2d\u5b9a\u306e\u305f\u3081\u306b\u5fc5\u8981\u306a\u3082\u306e\uff08\u65e2\u306b\u6301\u3063\u3066\u308b\u304b\u3082\uff09\n- \u96fb\u6e90\u30b1\u30fc\u30d6\u30eb\uff08microUSB\uff09\n- usb\u30ad\u30fc\u30dc\u30fc\u30c9\n- hdmi\u30b1\u30fc\u30d6\u30eb & \u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\n\n\n## <a href=\"http://www.amazon.co.jp/gp/product/B00LT4BOK6/ref=as_li_ss_tl?ie=UTF8&camp=247&creative=7399&creativeASIN=B00LT4BOK6&linkCode=as2&tag=kaky0922-22\">Raspberry Pi\uff08\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\uff09</a>\u3063\u3066\u306a\u3093\u3084\nLinux\u3092\u52d5\u304b\u3059\u3053\u3068\u306e\u3067\u304d\u308b\u30de\u30a4\u30b3\u30f3\uff08\u30de\u30a4\u30af\u30ed\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\uff09\u3067\u3059\u3002\u30b5\u30a4\u30ba\u306f\u4e0b\u306e\u5199\u771f\u306e\u3088\u3046\u306b\u5c0f\u3055\u304f\u3001\u624b\u306e\u3072\u3089\u306b\u306e\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u304f\u3089\u3044\u3067\u3059\u3002\nLinux\u3067\u52d5\u3044\u3066\u308b\u306e\u3067\u3001Apache\u3084php\u3092\u5165\u308c\u3066\u30b5\u30fc\u30d0\u3068\u3057\u3066\u4f7f\u3046\u3053\u3068\u3082\u7c21\u5358\u3067\u3059\u3002\n\u307e\u305f\u3001GPIO\uff08General Purpose Input/Output: \u6c4e\u7528\u5165\u51fa\u529b\uff09\u30d4\u30f3\u3068\u3044\u3046\u3082\u306e\u304c\u3064\u3044\u3066\u304a\u308a\u3001\u305d\u3053\u304b\u3089\u56de\u8def\u3092\u4f5c\u3063\u3066\u96fb\u5b50\u5de5\u4f5c\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n![1350352619.jpg](https://qiita-image-store.s3.amazonaws.com/0/43701/e4e702fa-6624-14ff-3483-1da71ae3ad52.jpeg \"1350352619.jpg\")\n\n...\u306a\u3093\u3066\u8aac\u660e\u3055\u308c\u3066\u3082\u5206\u304b\u3063\u305f\u3088\u3046\u306a\u5206\u304b\u3089\u3093\u3088\u3046\u306a\u611f\u3058\u306a\u306e\u3067\u3001\u5b9f\u969b\u306b\u904a\u3093\u3067\u307f\u308b\u306e\u304c\u4e00\u756a\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u2193\u306e\u30ea\u30f3\u30af\u5148\u306e\u30da\u30fc\u30b8\u306f\u3001\u96fb\u5b50\u5de5\u4f5c\u521d\u3081\u3066\u306e\u5973\u6027\u793e\u54e1\u304cRaspberry Pi\u3067\u904a\u3093\u3067\u307f\u308b\u3001\u3068\u3044\u3046\u5185\u5bb9\u306e\u9023\u8f09\u8a18\u4e8b\u3067\u3059\u3002\u3064\u307e\u305a\u3044\u305f\u3068\u3053\u308d\u3092\u5168\u3066\u8a18\u8ff0\u3057\u306a\u304c\u3089\u3086\u3063\u304f\u308a\u9032\u3093\u3067\u3044\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u3068\u3066\u3082\u697d\u3057\u304f\u8aad\u3081\u307e\u3057\u305f\u3002\nhttp://deviceplus.jp/author/maruyamadeviceplus-jp/\nOS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306a\u3069\u306e\u57fa\u672c\u7684\u306a\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u4f5c\u696d\u306f\u3053\u306e\u30da\u30fc\u30b8\u3092\u8aad\u307f\u306a\u304c\u3089\u9032\u3081\u3066\u3082\u3089\u3048\u308c\u3070\u9593\u9055\u3044\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n<b>\u4ee5\u4e0b\u306f\u3001\u4e0a\u8a18\u306e\u30da\u30fc\u30b8\u901a\u308a\u306bRaspberry Pi\u7528\u306eOS: Raspbian\u3092\u5165\u308c\u305f\u3082\u306e\u3068\u3057\u3066\u8aac\u660e\u3092\u9032\u3081\u307e\u3059\u3002</b>\n\n## Apache, php\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nRaspbian\u306fDebian\u7cfb\u306eOS\u306a\u306e\u3067\u3001apt\u3092\u7528\u3044\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```bash:terminal\n$ sudo apt-get install apache2\n$ sudo apt-get install php5\n$ sudo update-rc.d apache2 defaults #\u8d77\u52d5\u6642\u306bapache\u304c\u81ea\u52d5\u3067\u7acb\u3061\u4e0a\u304c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306f\u3001/var/www\u304c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```bash:terminal\n$ vi /var/www/index.php\n```\n\n```php:index.php\nhello world from raspberry pi!\n<?php echo \"php\u306f\u6b63\u3057\u304f\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\"; #php\u304c\u6b63\u3057\u304f\u52d5\u3044\u3066\u308b\u304b\u78ba\u8a8d ?>\n```\n\n\u3068\u3057\u3066\u3001index.php\u3092\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u4e0a\u306b\u4f5c\u308a\u3001Apache, php\u304c\u6b63\u3057\u304f\u52d5\u3044\u3066\u3044\u308c\u3070\u3001curl\u30b3\u30de\u30f3\u30c9\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u51fa\u529b\u304c\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\n```bash:terminal\n$ curl http://localhost\nhello world from raspberry pi!\nphp\u306f\u6b63\u3057\u304f\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\n```\n\n\u3055\u3089\u306b\u3001\u4ed6\u306ePC\u304b\u3089\u3082\u540c\u3058\u3088\u3046\u306b\u898b\u3048\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\nifconfig\u30b3\u30de\u30f3\u30c9\u306a\u3069\u3067\u3001Raspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u8abf\u3079\u3001\u305d\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u30d6\u30e9\u30a6\u30b6\u306b\u6253\u3061\u8fbc\u3081\u3070\u3001\u5148\u307b\u3069curl\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u305f\u3068\u304d\u3068\u540c\u3058\u5185\u5bb9\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\n\uff08Raspberry Pi\u3068\u7570\u306a\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308bPC\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u306f\u3001\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u5834\u5408\u3001\u30eb\u30fc\u30bf\u306e\u8a2d\u5b9a\u3067\u5916\u90e8\u304b\u308980\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u3001Raspberry Pi\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8IP\u30a2\u30c9\u30ec\u30b9\u3078\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u3057\u3066\u3042\u3052\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09\n\n\n## slack\u304b\u3089\u901a\u4fe1\u3092\u53d7\u3051\u53d6\u308a\u3001LED\u3092\u5149\u3089\u305b\u308b\n\u307e\u305a\u306f\u8a18\u5ff5\u3059\u3079\u304d\u96fb\u5b50\u5de5\u4f5c\u7b2c\uff11\u6b69\u3068\u3057\u3066\u3001slack\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308a\u3001\u305d\u308c\u306b\u53cd\u5fdc\u3057\u3066Raspberry Pi\u306b\u7e4b\u3044\u3060LED\u304c\u5149\u308b\u4ed5\u7d44\u307f\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n### LED\u306e\u70b9\u6ec5\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d70\u3089\u305b\u308b\n\n\u307e\u305a\u3001Raspberry Pi\u306eGPIO\u30d4\u30f3\u304c\u3069\u306e\u3088\u3046\u306a\u4ed5\u69d8\u306a\u306e\u304b\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u306b\u5f93\u3063\u3066\u96fb\u5b50\u56de\u8def\u3092\u7d44\u3093\u3067\u307f\u3066\u3001LED\u30e9\u30a4\u30c8\u3092\u70b9\u706f\u3055\u305b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n<a href=\"http://deviceplus.jp/hobby/raspberrypi_entry_009/\">\u7b2c9\u56de\u300c\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u3067\u96fb\u5b50\u5de5\u4f5c\uff01L\u30c1\u30ab\u2026\u306e\u524d\u306bL\u30d4\u30ab\uff01\u300d| Device Plus - \u30c7\u30d0\u30d7\u30e9</a>\n\n\u3053\u306e\u30da\u30fc\u30b8\u3067\u306f200\u03a9\u7a0b\u5ea6\u306e\u62b5\u6297\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u300150\u03a9\u306e\u62b5\u6297\u3067\u3082\u5927\u4e08\u592b\u3067\u3059\uff08\u8cac\u4efb\u306f\u8ca0\u3048\u307e\u305b\u3093\u3002\uff09\u3069\u3046\u3057\u3066\u3082\u6016\u3044\u65b9\u306f\u300150\u03a9\u306e\u62b5\u6297\u3092\u76f4\u5217\u30674\u3064\u7e4b\u3052\u308c\u3070200\u03a9\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u3046\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u4ee5\u4e0b\u306f\u3001\u4e0a\u8a18\u306e\u30da\u30fc\u30b8\u306b\u5f93\u3063\u3066\u300cGPIO2\u300d\u3092\u7528\u3044\u3066LED\u3092\u70b9\u3051\u305f\u308a\u6d88\u3057\u305f\u308a\u3067\u304d\u305f\u72b6\u614b\u3092\u60f3\u5b9a\u3057\u307e\u3059\u3002\uff08\u4e0b\u306e\u753b\u50cf\u306e\u72b6\u614b\uff09\n![rasp09_09.png](https://qiita-image-store.s3.amazonaws.com/0/43701/466fb0bd-a137-ea60-db79-f18efdc077d9.png \"rasp09_09.png\")\n\n\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u597d\u304d\u306a\u5834\u6240\u306b\u4fdd\u5b58\u3057\u3001\u5b9f\u884c\u3059\u308b\u3068LED\u304c3\u56de\u70b9\u6ec5\u3057\u307e\u3059\u3002\n\n```bash:blink.sh\necho 2 > /sys/class/gpio/export #\u300cGPIO2\u300d\u3092\u4f7f\u3046\nsleep 1\necho out > /sys/class/gpio/gpio2/direction #\u300cGPIO2\u300d\u3092\u51fa\u529b\u7528\u306b\u4f7f\u3046\n\necho 1 > /sys/class/gpio/gpio2/value #\u70b9\u706f\nsleep 1                              #1\u79d2\u4f11\u3080\necho 0 > /sys/class/gpio/gpio2/value #\u6d88\u706f\nsleep 1\necho 1 > /sys/class/gpio/gpio2/value\nsleep 1\necho 0 > /sys/class/gpio/gpio2/value\nsleep 1\necho 1 > /sys/class/gpio/gpio2/value\nsleep 1\necho 0 > /sys/class/gpio/gpio2/value\n\necho 2 > /sys/class/gpio/unexport #\u300cGPIO2\u300d\u306e\u4f7f\u7528\u3092\u7d42\u4e86\n```\n\n```bash:terminal\n$ sudo sh blink.sh\n```\n\n### http\u30a2\u30af\u30bb\u30b9\u3092\u53d7\u3051\u308b\u3068\u3001LED\u304c\u70b9\u6ec5\u3059\u308b\n\u5148\u307b\u3069\u4f5c\u3063\u305f/var/www/index.php\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n```php:index.php\n<?php exec('sudo sh /var/pi/blink.sh'); ?>\nLED\u3092\u70b9\u6ec5\u3055\u305b\u307e\u3057\u305f\uff01\n```\n\n\u3059\u308b\u3068\u3001\u524d\u3068\u540c\u69d8\u306bRaspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068LED\u304c\u70b9\u6ec5...\u3059\u308b\u3068\u601d\u3044\u304d\u3084\u3001\u70b9\u6ec5\u3057\u307e\u305b\u3093\u3002\n\n\u3053\u308c\u306f\u3001http\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u3063\u3066\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u30e6\u30fc\u30b6\u304c\u3001root\u6a29\u9650\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u305f\u3081\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7684\u306b\u306f\u826f\u304f\u306a\u3044\u306e\u3067\u3059\u304c...\uff09www-data\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u3092sudo\u3067\u5b9f\u884c\u3067\u304d\u308b\u6a29\u9650\u3092\u4e0e\u3048\u3066\u3042\u3052\u307e\u3059\u3002\n\n```bash:terminal\n$ sudo visudo # /etc/sudoers.tmp\u30d5\u30a1\u30a4\u30eb\u304c\u958b\u304b\u308c\u308b\n```\n\n```/etc/sudoers.tmp\n...\n\npi ALL=(ALL) NOPASSWD: ALL\nwww-data ALL=NOPASSWD:/bin/sh #\u3053\u306e\u884c\u3092\u8ffd\u52a0\n```\n\n\u3053\u306e\u72b6\u614b\u3067\u3082\u3046\u4e00\u5ea6Raspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u898b\u4e8bLED\u304c\u70b9\u6ec5\u3059\u308b\u306f\u305a\u3067\u3059\uff01\n\n\n### slack\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3068LED\u304c\u70b9\u6ec5\u3059\u308b\n\u3064\u3044\u306bslack\u3068\u306e\u9023\u643a\u3067\u3059\u3002\n\u4eca\u56de\u306f\u3001slack\u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u300cOutgoing WebHooks\u300d\u3068\u3044\u3046API\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n![Screenshot 2015-01-11 22.23.58.png](https://qiita-image-store.s3.amazonaws.com/0/43701/8ccd4791-22f5-c8c0-2ed9-bb63e2cdf651.png \"Screenshot 2015-01-11 22.23.58.png\")\n\n\u3053\u306eAPI\u306f\u3001\u7279\u5b9a\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u3084\u7279\u5b9a\u306e\u6587\u5b57\u5217\u3092\u542b\u3093\u3060\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u3089\u308c\u308b\u3068\u3001\u3053\u3061\u3089\u306e\u6307\u5b9a\u3057\u305fURL\u306bPOST\u30a2\u30af\u30bb\u30b9\u3092\u3057\u3066\u304f\u308c\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\n\u3057\u304b\u3082\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3067json\u30c7\u30fc\u30bf\u3092\u8fd4\u3057\u3066\u3084\u308c\u3070\u3001\u305d\u308c\u3092slack\u4e0a\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\nhttps://slack.com/services/new\n\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001\u300cOutgoing WebHooks\u300d\u3092\u9078\u629e\u3057\u3001\u6307\u793a\u306b\u5f93\u3063\u3066\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nPOST\u5148\u306eURL\u306f\u3001Raspberry Pi\u306e\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u306b\u3059\u308c\u3070\u3088\u3044\u3067\u3059\u3002\n\n\u300crpi-led\u300d\u30c1\u30e3\u30f3\u30cd\u30eb\u306a\u3069\u3092\u4f5c\u3063\u3066\u3001\u300cLED\u300d\u3068\u3044\u3046\u6587\u5b57\u5217\u3067\u59cb\u307e\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u305d\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u306b\u6295\u4e0b\u3055\u308c\u305f\u3068\u304d\u3060\u3051\u53cd\u5fdc\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u306e\u304c\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u3055\u3066\u3001\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u81ea\u5206\u306e\u8a2d\u5b9a\u3057\u305f\u6761\u4ef6\u306b\u9069\u5408\u3059\u308b\u3088\u3046\u306a\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u4e0b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002 \u8a2d\u5b9a\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u308c\u3070LED\u304c\u70b9\u6ec5\u3059\u308b\u306f\u305a\u3002\n\n\n### Raspberry Pi\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u8fd4\u4fe1\u3092\u3059\u308b\n\u300cOutgoing WebHooks\u300dAPI\u3067\u306f\u3001POST\u30a2\u30af\u30bb\u30b9\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u3001\n\n```javascript:response\n{text:\"@message@\"}\n```\n\n\u3068\u3044\u3046json\u30c7\u30fc\u30bf\u3092\u8fd4\u3057\u3066\u3084\u308b\u3068\u3001@message@\u306e\u90e8\u5206\u304cslack\u5074\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b/var/www/index.php\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3066\u3084\u308a\u307e\u3057\u3087\u3046\u3002\n\n```php:index.php\n<?php exec('sudo sh /var/pi/blink.sh'); ?>\n{text:\"LED\u3092\u70b9\u6ec5\u3055\u305b\u307e\u3057\u305f\uff01\"}\n```\n\n\u3059\u308b\u3068\u3001slack\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3067LED\u304c\u70b9\u6ec5\u3055\u305b\u308b\u3068\u3001slack\u4e0a\u306b\u300cLED\u3092\u70b9\u6ec5\u3055\u305b\u307e\u3057\u305f\uff01\u300d\u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\n\n## \u30a8\u30a2\u30b3\u30f3\u3092on, off\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u3053\u3053\u307e\u3067\u3067\u3001slack\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6295\u4e0b\u3059\u308b\u3053\u3068\u3067\u3001Raspberry Pi\u4e0a\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3084\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u6b21\u306b\u3001Raspberry Pi\u304b\u3089\u30a8\u30a2\u30b3\u30f3\u306eon, off\u3092\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u305d\u306e\u305f\u3081\u306e\u5927\u307e\u304b\u306a\u624b\u9806\u306f\u4ee5\u4e0b\u306e2\u30b9\u30c6\u30c3\u30d7\u3067\u3059\u3002\n\n1. \u8d64\u5916\u7dda\u53d7\u5149\u5668\u3092\u7528\u3044\u3066\u3001\u30a8\u30a2\u30b3\u30f3\u306e\u30ea\u30e2\u30b3\u30f3\u304con, off\u6642\u306b\u3069\u306e\u3088\u3046\u306a\u30d1\u30bf\u30fc\u30f3\u306e\u8d64\u5916\u7dda\u3092\u767a\u4fe1\u3057\u3066\u3044\u308b\u306e\u304b\u3092\u899a\u3048\u308b\u3002\n2. \u8d64\u5916\u7ddaLED\u3092\u7528\u3044\u3066\u3001\u5148\u307b\u3069\u899a\u3048\u305f\u30d1\u30bf\u30fc\u30f3\u3092\u9001\u4fe1\u3059\u308b\u3002\n\n\u96fb\u5b50\u5de5\u4f5c\u306b\u3088\u308b\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u306e\u64cd\u4f5c\u306f\u3001\u96fb\u5b50\u5de5\u4f5c\u30d7\u30ed\u306e\u65b9\u3005\u304c\u305f\u304f\u3055\u3093\u3084\u3089\u308c\u3066\u3044\u308b\u306e\u3067\uff08\u4ee5\u4e0b\u306e\u30ea\u30f3\u30af\uff09\u3001\u3053\u3053\u3067\u306f\u8a73\u3057\u3044\u8aac\u660e\u306f\u7701\u3044\u3066\u3001\u5b9f\u969b\u306b\u79c1\u304c\u3084\u3063\u305f\u624b\u9806\u306b\u96c6\u4e2d\u3057\u3066\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n<a href=\"http://wbbwbb.blog83.fc2.com/blog-entry-159.html\">Umbrella RaspberryPi\u3067LIRC\u3059\u308b</a>\n<a href=\"http://d.hatena.ne.jp/penkoba/20131228/1388243358\">Raspberry Pi \u3067\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3 - \u732b\u3071\u30fc\u3093\u3061\uff01</a>\n\n### \u30ea\u30e2\u30b3\u30f3\u304c\u767a\u4fe1\u3057\u3066\u3044\u308b\u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u3092\u899a\u3048\u308b\n\n\u8d64\u5916\u7dda\u306e\u53d7\u4fe1\u30fb\u767a\u4fe1\u3092\u884c\u3046\u306b\u306f\u3001lirc\u3068\u3044\u3046Linux\u3067\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3\u3092\u53d7\u4fe1\u3057\u305f\u308a\u767a\u4fe1\u3057\u305f\u308a\u3059\u308b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u74b0\u5883\u3092\u7528\u3044\u307e\u3059\u3002\n\n\u307e\u305a\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:terminal\n$ sudo apt-get install lirc\n```\n\nlirc\u3078\u306e\u5165\u51fa\u529b\u306b\u4f7f\u3046GPIO\u756a\u53f7\u3092\u6307\u5b9a\uff08\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u5165\u529b\u309224, \u51fa\u529b\u309225\u756a\u306e\u30d4\u30f3\u3067\u884c\u3046\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\uff09\n\n```bash:terminal\n$ sudo modprobe lirc-rpi gpio_in_pin=24 gpio_out_pin=25\n```\n\n\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u3066\u3044\u308b\u304b\u78ba\u8a8d\n\n```bash:terminal\n$ ls  -l /dev/lirc*\ncrw-rw---T 1 root video 249, 0 12\u6708 23 13:23 /dev/lirc0\n```\n\ndebugfs\u3067\u3001GPIO\u306e\u30a2\u30b5\u30a4\u30f3\u3092\u78ba\u8a8d\n\n```bash:terminal\n$ sudo mount -t debugfs debugfs /sys/kernel/debug\n$ sudo cat /sys/kernel/debug/gpio\nGPIOs 0-53, bcm2708_gpio:\n gpio-16  (led0                ) out hi\n gpio-24  (lirc_rpi ir/in      ) in  hi\n gpio-25  (lirc_rpi ir/out     ) in  lo\n```\n\n#### \u53d7\u4fe1\u52d5\u4f5c\u306e\u78ba\u8a8d\n\n\u56f3\u306e\u3088\u3046\u306b\u8d64\u5916\u7dda\u53d7\u5149\u5668\uff08\u578b\u756a:PL-IRM2161-XD1\uff09\u3068\u30b8\u30e3\u30f3\u30d1\u30fc\u30ef\u30a4\u30e4\u30fc\u3092\u8a2d\u7f6e\u3057\u3001\u56de\u8def\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u3068\u304d\u3001\u53d7\u5149\u5668\u53f3\u5074\u306e\u8db3\u304c3.3V\u96fb\u6e90\u306e\u30d4\u30f3\u3001\u771f\u3093\u4e2d\u306e\u8db3\u304cGND\u306e\u30d4\u30f3\u3001\u5de6\u5074\u306e\u8db3\u304clirc\u306e\u5165\u529b\u30d4\u30f3\u306b\u3055\u3055\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08\u4e0b\u306e\u56f3\u3067\u306f\u305d\u308c\u305e\u308c\u30011\uff083.3V), 20(GND\uff09, 18\uff08GPIO24\uff09\u756a\u306e\u30d4\u30f3\uff09\n\n![\u53d7\u5149\u5668\u914d\u7dda.jpg](https://qiita-image-store.s3.amazonaws.com/0/43701/cd75ec4d-bb3c-e5e4-6038-f6f930b8f319.jpeg \"\u53d7\u5149\u5668\u914d\u7dda.jpg\")\n\n\n\n```bash:terminal\n$ mode2 -d /dev/lirc0\n(\u30ea\u30e2\u30b3\u30f3\u3092\u8d64\u5916\u7dda\u53d7\u4fe1\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5411\u3051\u3066\u4f55\u304b\u30dc\u30bf\u30f3\u3092\u62bc\u3059)\npulse 399512\nspace 3458\npulse 1739\nspace 416\npulse 454\nspace 412\npulse 1322\nspace 409\npulse 459\nspace 409\npulse 459\nspace 408\npulse 476\nspace 391\npulse 455\n :\n```\n\n\u53d7\u4fe1\u3067\u304d\u3066\u3044\u308c\u3070\u3001\u4e0a\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u308b\u3002\n\n#### \u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\n\u307e\u305a\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067lircd\u304c\u8d77\u52d5\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash:terminal\n$ sudo /etc/init.d/lirc stop\n```\n\n\u305d\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u305f\u5f8c\u3001\u30ea\u30e2\u30b3\u30f3\u3092\u8d64\u5916\u7dda\u53d7\u5149\u5668\u306b\u5411\u3051\u3066\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n```bash:terminal\n$ mode2 -d /dev/lirc0 | tee AIRON\n\uff08\u30a8\u30a2\u30b3\u30f3\u3092on\u306b\u3059\u308b\u30dc\u30bf\u30f3\u3092\u62bc\u3059 \u2192 Ctrl+C\uff09\n\n$ mode2 -d /dev/lirc0 | tee AIROFF\n\uff08\u30a8\u30a2\u30b3\u30f3\u3092off\u306b\u3059\u308b\u30dc\u30bf\u30f3\u3092\u62bc\u3059 \u2192 Ctrl+C\uff09\n```\n\n\u6b21\u306b\u3001\u3053\u306e\u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u3001\u8d64\u5916\u7dda\u9001\u4fe1\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u3044\u3066\u3001\u5148\u307b\u3069\u306e\u30d1\u30bf\u30fc\u30f3\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3057\u307e\u3059\u3002\n\n```ruby:parse.rb\nlines =  File.open(ARGV[0]).readlines #\u884c\u3054\u3068\u306b\u914d\u5217\u3068\u3057\u3066\u8aad\u307f\u8fbc\u307f\nlines_without_first = lines.slice(1..-1) #\u5148\u982d\u306e\u884c\u306f\u4e0d\u5fc5\u8981\u306a\u306e\u3067\u7701\u304f\nputs lines_without_first.map{|line|line.split(\" \")[1]}.join(\" \") #\u6574\u5f62\u3057\u3066\u8868\u793a\n```\n\n```bash:terminal\n$ ruby parse.rb AIROFF\n3458 1739 416 454 412 1322 409 459 409 459 408 476 391 455 431 436 408 465 413 448 407 477 396 453 412 454 413 450 415 1322 409 457 414 455 410 456 411 457 411 455 410 460 411 451 412 1326 410.....\n```\n\n\u3053\u3053\u3067\u8868\u793a\u3055\u308c\u305f\u6570\u5b57\u306e\u7f85\u5217\u306f\u3001\u5148\u307b\u3069\u306e\u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u306e\u6570\u5b57\u90e8\u5206\u306e\u307f\u3092\u4e26\u3079\u305f\u3082\u306e\u3067\u3059\u3002\n\u307e\u305f\u3001\u6570\u5b57\u306e1\u756a\u76ee\u3060\u3051\u306f\u3001\u30ea\u30e2\u30b3\u30f3\u306e\u30b9\u30a4\u30c3\u30c1\u3092\u62bc\u3059\u307e\u3067\u306e\u6642\u9593\u3092\u8868\u3057\u305f\u3082\u306e\u3067\u4e0d\u5fc5\u8981\u3067\u3059\u3002\n\n\u3053\u306e\u6570\u5b57\u306e\u7f85\u5217\u3092\u7528\u3044\u3066\u3001/etc/lirc/lircd.conf\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```lircd.conf\n# Please make this file available to others\n# by sending it to <lirc@bartelmus.de>\n#\n# this config file was automatically generated\n# using lirc-0.9.0-pre1(default) on 2015\n#\n# contributed by <% YOUR NAME %>\n#\n# brand: <% BRAND %>\n# model no. of remote control: <% MODEL No. %>\n# devices being controlled by this remote: <% DEVICE %>\n#\n\nbegin remote\n\n  name  aircon\n  flags RAW_CODES\n  eps            30\n  aeps          100\n\n  gap          200000\n  toggle_bit_mask 0x0\n\n      begin raw_codes\n\tname off\n3458 1739 416 454 412 1322 409 459 409 459 408 476 391 455 431 436 408\n465 413 448 407 477 396 453 412 454 413 450 415 1322 409 457 414 455 410\n456 411 457 411 455 410 460 411 451 412 1326 410 1320 411 1330 404 453\n......\n\n\tname on\n3465 1733 417 452 414 1322 410 454 411 458 418 445 413 454 421 447 411 496\n370 454 429 442 418 445 413 456 416 461 396 1327 408 457 413 454 414 452\n412 457 416 449 412 454 412 456 411 1326 409 1325 408 1324 435 431 412 452\n...... \n\n      end raw_codes\n\nend remote\n```\n\n\u6570\u5b57\u306e\u7f85\u5217\u306e\u90e8\u5206\u306f\u5148\u307b\u3069\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u8868\u793a\u3055\u308c\u305f\u6570\u5b57\u306e\u7f85\u5217\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002<b>\uff08\u203b1\u884c\u304c\u3042\u307e\u308a\u306b\u9577\u3044\u3068\u3046\u307e\u304f\u52d5\u304b\u306a\u3044\u3089\u3057\u3044\u306e\u3067\u300180\u6587\u5b57\u3054\u3068\u3092\u76ee\u5b89\u306b\u6539\u884c\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\uff09</b>\n\u307e\u305f\u3001<% ... %>\u3067\u56f2\u307e\u308c\u305f\u90e8\u5206\u306f\u81ea\u5206\u306e\u60c5\u5831\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n#### \u8d64\u5916\u7dda\u306e\u9001\u4fe1\n\n\u3053\u308c\u3067\u3001\u8d64\u5916\u7dda\u9001\u4fe1\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\n\u305d\u308c\u3067\u306f\u3064\u3044\u306b\u8d64\u5916\u7dda\u3092\u9001\u4fe1\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff01\n\n\u666e\u901a\u306eLED\u3092\u5149\u3089\u305b\u305f\u3068\u304d\u3068\u540c\u3058\u3088\u3046\u306b\u56de\u8def\u3092\u7d44\u307f\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001\u5148\u307b\u3069\u306e\u300cGPIO2\u300d\u3068\u306f\u9055\u3044\u3001lirc\u306e\u51fa\u529b\u7aef\u5b50\u3067\u3042\u308b\u300cGPIO25\u300d\u306e\u3068\u3053\u308d\u306b\u3055\u3059\u3053\u3068\u3092\u9593\u9055\u3048\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\n\u307e\u305f\u3001LED\u3082\u666e\u901a\u306eLED\u3067\u306f\u306a\u304f\u3001\u4eca\u56de\u306f\u8d64\u5916\u7ddaLED\u3092\u4f7f\u3044\u307e\u3059\u3002\n\nlircd\u306e\u8d77\u52d5\n\n```bash:terminal\n$ sudo /etc/init.d/lirc start\n```\n\n\u81ea\u52d5\u3067\u8d77\u52d5\u3057\u305f\u3044\u5834\u5408\u306f\u3001update-rc.d\u3067\u767b\u9332\u3057\u307e\u3059\u3002\n\n```bash:terminal\n$ sudo update-rc.d lirc defaults\n```\n\n\u30ea\u30e2\u30b3\u30f3\u3068\u30b3\u30de\u30f3\u30c9\u306e\u78ba\u8a8d\n\n```bash:terminal\n$ irsend LIST '' ''\nirsend: aircon\n```\n\n```bash:terminal\n$ irsend LIST aircon ''\nirsend: 0000000000000001 off\nirsend: 0000000000000002 on\n```\n\n\u4e0a\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u30b3\u30de\u30f3\u30c9\u306f\u6b63\u3057\u304f\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u308c\u3067\u306f\u3064\u3044\u306b\u9001\u4fe1\u3067\u3059\uff01\n\n```bash:terminal\n$ irsend SEND_ONCE aircon on\n```\n\n\u3053\u308c\u307e\u3067\u306e\u5de5\u7a0b\u304c\u5168\u3066\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u308c\u3070\u3001\u30a8\u30a2\u30b3\u30f3\u306e\u96fb\u6e90\u304c\u3064\u304f\u306f\u305a\u3067\u3059\uff01\n\uff08\u305f\u3060\u3057\u3001\u4ee5\u5916\u3068\u8d64\u5916\u7ddaLED\u306e\u5f37\u5ea6\u306f\u5f31\u304f\u30011m\u304f\u3089\u3044\u306e\u8ddd\u96e2\u3067\u3057\u304b\u53cd\u5fdc\u3057\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\uff09\n\n\u307e\u305f\u3001LED\u306e\u6307\u5411\u6027\u304c\u5f37\u304f\u3001\u5411\u304d\u304c\u6b63\u78ba\u3067\u306a\u3044\u3068\u53cd\u5fdc\u3057\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u8cfc\u5165\u3057\u3066\u304a\u3044\u305fLED\u30ad\u30e3\u30c3\u30d7\u3092\u8d64\u5916\u7ddaLED\u306b\u304b\u3076\u305b\u3066\u3084\u308a\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u5411\u304d\u304c\u591a\u5c11\u305a\u308c\u3066\u3044\u3066\u3082\u30a8\u30a2\u30b3\u30f3\u304c\u53cd\u5fdc\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\uff08\u3082\u3061\u308d\u3093\u8d64\u5916\u7dda\u306e\u5f37\u5ea6\u306f\u843d\u3061\u307e\u3059\u3002\uff09\n\n\n## slack\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u3066\u3001\u30a8\u30a2\u30b3\u30f3\u3092on, off\u3059\u308b\n\n\u3055\u3042\u3044\u3088\u3044\u3088\u5927\u8a70\u3081\u3067\u3059\u3002\nslack\u304b\u3089\u306ePOST\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u3066\u3001\u4e0a\u8a18\u306eirsend\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b/var/www/index.php\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```php:index.php\n<?php exec(\"irsend SEND_ONCE aircon off\"); ?>\n{text:\"\u30a8\u30a2\u30b3\u30f3\u3092\u6d88\u3057\u307e\u3057\u305f\uff01\"}\n```\n\n\u3053\u306e\u72b6\u614b\u3067\u3001slack\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b\u3068\u3001\u30a8\u30a2\u30b3\u30f3\u304c\u6d88\u3048\u3001\u300c\u30a8\u30a2\u30b3\u30f3\u3092\u6d88\u3057\u307e\u3057\u305f\uff01\u300d\u3068\u3044\u3046\u30e1\u30c3\u30bb\u30fc\u30b8\u304cslack\u306b\u9001\u3089\u308c\u307e\u3059\u3002\n\n\u3064\u3044\u306b\u3084\u308a\u307e\u3057\u305f\uff01slack\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u3063\u3066\u30a8\u30a2\u30b3\u30f3\u3092\u64cd\u4f5c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\uff01\n\n\u5f8c\u306f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306b\u3088\u3063\u3066\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u5909\u3048\u308b\u3088\u3046\u306b\u66f8\u304f\u3060\u3051\u3067\u3059\u3002\n\nslack\u306eOutgoing WebHooks\u306eTrigger Word(s)\u306b\u300c\u30aa\u30f3,\u30aa\u30d5\u300d\u3068\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001index.php\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\u3002\n\n```php:index.php\n<?php\nif (preg_match('/\u30aa\u30d5/', $_POST['text'])):\n  exec(\"irsend SEND_ONCE aircon off\");\n  echo '{text:\"\u30a8\u30a2\u30b3\u30f3\u3092\u6d88\u3057\u307e\u3057\u305f\uff01\"}';\nelseif (preg_match('/\u30aa\u30f3/', $_POST['text'])):\n  exec(\"irsend SEND_ONCE aircon on\");\n  echo '{text:\"\u30a8\u30a2\u30b3\u30f3\u3092\u3064\u3051\u307e\u3057\u305f\uff01\"}';\nendif;\n```\n\n\u3053\u308c\u306b\u3066\u5b8c\u6210\u3067\u3059\uff01\n\n#### \u88dc\u8db3\uff08\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306b\u3064\u3044\u3066\uff09\n\n\u4e0a\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3068\u3001Raspberry Pi\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u77e5\u3063\u3066\u3044\u308b\u4eba\u306a\u3089\u3001\u8ab0\u3067\u3082\u30a8\u30a2\u30b3\u30f3\u3092\u64cd\u4f5c\u3067\u304d\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\nOutgoing WebHooks\u306f\u8a8d\u8a3c\u7528\u306etoken\u3092\u542b\u3081\u305f\u3001\u8272\u3005\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u9001\u3063\u3066\u304d\u3066\u304f\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u7528\u3044\u3066\u6b63\u3057\u3044\u30a2\u30af\u30bb\u30b9\u4ee5\u5916\u3092\u306f\u3058\u304f\u3088\u3046\u306b\u3059\u308b\u306e\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u6700\u7d42\u7684\u306a\u79c1\u306eindex.php\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n```php:index.php\n<?php\n    #POST\u30ea\u30af\u30a8\u30b9\u30c8\u78ba\u8a8d\u7528\n    #ob_start();\n    #var_dump($_POST);\n    #$post = ob_get_contents();\n    #ob_end_clean();\n    #file_put_contents(\"/tmp/dump.txt\", $post);\n\n    $data = array(\n        \"off\" => array(\n            \"regex\" => \"/\\A\u30aa\u30d5\\z/u\",\n            \"operation\" => \"off\",\n            \"text\" => [\"\u30a8\u30a2\u30b3\u30f3\u306e\u30b9\u30a4\u30c3\u30c1\u5207\u3063\u3068\u3044\u305f\u308f\u3088\uff01\u3079\u3001\u5225\u306b\u3042\u3093\u305f\u306e\u305f\u3081\u3058\u3083\u306a\u3044\u3093\u3060\u304b\u3089\u306d\uff01\", \"\u307b\u3089\u3001\u30a8\u30a2\u30b3\u30f3\u5207\u3063\u3066\u304a\u3044\u305f\u308f\u3088\u3002\u5bb6\u51fa\u308b\u524d\u306b\u3061\u3083\u3093\u3068\u78ba\u8a8d\u3057\u306a\u3055\u3044\u3088\u306d\uff01\"]\n        ),\n        \"heater\" => array(\n            \"regex\" => \"/\\A\u6696\u623f\u30aa\u30f3\\z/u\",\n            \"operation\" => \"24hot\",\n            \"text\" => [\"\u3042\u3093\u305f\u304c\u98a8\u90aa\u5f15\u304b\u306a\u3044\u3088\u3046\u306b\u3001\u6696\u623f\u5165\u308c\u3066\u304a\u3044\u305f\u308f\u3002\u611f\u8b1d\u3057\u306a\u3055\u3044\uff01\", \"\u65e9\u304f\u5e30\u3063\u3066\u304d\u306a\u3055\u3044\u3001\u6696\u623f\u5165\u308c\u3066\u5f85\u3063\u3066\u308b\u304b\u3089...//\"]\n        ),\n        \"cooler\" => array(\n            \"regex\" => \"/\\A\u51b7\u623f\u30aa\u30f3\\z/u\",\n            \"operation\" => \"25cool\",\n            \"text\" => [\"\u4eca\u65e5\u3082\u3042\u3063\u3064\u3044\u308f\u306d\u30fc\u3001\u307b\u3089\u3001\u51b7\u623f\u304b\u3051\u3068\u3044\u305f\u308f\u3088\u3002\", \"\u30af\u30fc\u30e9\u30fc\u304b\u3051\u3068\u304f\u308f\u3002\u5e30\u3063\u3066\u304d\u305f\u3089\u4e00\u7dd2\u306b\u30a2\u30a4\u30b9\u3067\u3082\u98df\u3079\u307e\u3057\u3087\uff01\"]\n        )\n    );\n?>\n\n<?php if ($_POST[\"token\"] != \"<YOUR TOKEN>\"): ?>\n<h2>\u7121\u52b9\u306a\u30c8\u30fc\u30af\u30f3\u3067\u3059</h2>\n\n<?php elseif ($_POST[\"user_id\"] == \"USLACKBOT\"): ?>\n{\"text\":\"\"}\n\n<?php elseif ($_POST[\"user_id\"] != \"<YOUR USER ID>\"): ?>\n{\"text\":\"\u3053\u306e\u64cd\u4f5c\u306f\u26aa\ufe0e\u26aa\ufe0e\u306b\u3057\u304b\u8a31\u3055\u308c\u3066\u306a\u3044\u306e\u3002\u30b4\u30e1\u30f3\u306d\uff08\uff1e_\uff1c\uff09\"}\n\n<?php else: ?>\n\n    <?php foreach ($data as $k => $v): ?>\n        <?php if (preg_match($v['regex'], $_POST['text'])): ?>\n            <?php exec(\"irsend SEND_ONCE sakai-air \" . $v['operation'], $output, $return_var); ?>\n            <?php if ($return_var === 0): ?>\n                <?php $t = $v['text']; ?>\n{\"text\":\"<?php echo $t[array_rand($t)]; ?>\"}\n            <?php else: ?>\n{\"text\":\"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u307f\u305f\u3044...\u78ba\u8a8d\u304a\u9858\u3044\u3059\u308b\u308f\u306d\u3002\"}\n            <?php endif; ?>\n        <?php endif; ?>\n    <?php endforeach; ?>\n\n<?php endif; ?>\n```\n\n\u3053\u306ephp\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001slack\u306etoken\u3092\u8a8d\u8a3c\u3057\u3066\u3044\u308b\u306e\u3067\u3001slack\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u4ee5\u5916\u306f\u53d7\u3051\u4ed8\u3051\u307e\u305b\u3093\u3002\n\u307e\u305f\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u6253\u3063\u305f\u30e6\u30fc\u30b6\u306eID\u3082\u8a8d\u8a3c\u3059\u308b\u3053\u3068\u3067\u3001\u79c1\u4ee5\u5916\u306e\u793e\u54e1\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u306f\u3001\u30a8\u30a2\u30b3\u30f3\u3092\u64cd\u4f5c\u3067\u304d\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\n![Screenshot 2015-01-12 01.28.09.png](https://qiita-image-store.s3.amazonaws.com/0/43701/27ca190d-1d3b-358e-b482-6fed38ebdadf.png \"Screenshot 2015-01-12 01.28.09.png\")\n\n#### \u88dc\u8db3\uff08\u307f\u3053\u3068\u305f\u3093\u306b\u3064\u3044\u3066\uff09\n- \u5fa1\u5742\u7f8e\u7434\uff08\u3068\u3042\u308b\u79d1\u5b66\u306e\u8d85\u96fb\u78c1\u7832\uff09\n- \u300c\u3053\u306e\u30e9\u30a4\u30c8\u30ce\u30d9\u30eb\u304c\u3059\u3054\u3044\uff01\u300d\u5973\u6027\u30ad\u30e3\u30e9\u90e8\u95805\u5e74\u9023\u7d9a1\u4f4d\n- \u3068\u3066\u3082\u304b\u3063\u3053\u3044\u3044\n- \u3068\u3066\u3082\u304b\u308f\u3044\u3044\n\n\u300cOutgoings WebHooks\u300d\u306e\u30a2\u30d0\u30bf\u30fc\u3084\u540d\u524d\u306f\u3001\u8a2d\u5b9a\u753b\u9762\uff08Trigger Words\u3068\u304b\u6307\u5b9a\u3057\u305f\u753b\u9762\uff09\u304b\u3089\u81ea\u7531\u306b\u5909\u66f4\u3067\u304d\u307e\u3059\u3002\n\n\n## \u307e\u3068\u3081\n\n- slack\u306eOutgoing WebHooks\u3092\u7528\u3044\u3066Raspberry Pi\u306bPOST\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u308a\u3001\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u3042\u308bphp\u30b9\u30af\u30ea\u30d7\u30c8\u304b\u3089\u8d64\u5916\u7dda\u9001\u4fe1\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\n- \u30a8\u30a2\u30b3\u30f3\u306e\u8d64\u5916\u7dda\u30d1\u30bf\u30fc\u30f3\u306f\u8d64\u5916\u7dda\u53d7\u5149\u5668\u3068lirc\u3092\u7528\u3044\u3066\u4e38\u6697\u8a18\u3057\u3001\u8d64\u5916\u7ddaLED\u304b\u3089\u9001\u4fe1\u3059\u308b\u3002\n- \u307f\u3053\u3068\u305f\u3093\u304c\u53cd\u5fdc\u3057\u3066\u304f\u308c\u308b\u3002\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\u307f\u306a\u3055\u3093\u3082\u3088\u3044<a href=\"http://www.amazon.co.jp/gp/product/B00LT4BOK6/ref=as_li_ss_tl?ie=UTF8&camp=247&creative=7399&creativeASIN=B00LT4BOK6&linkCode=as2&tag=kaky0922-22\">Raspberry Pi</a>\u30e9\u30a4\u30d5\u3092\uff01\uff01\n", "tags": ["\u8d64\u5916\u7dda\u30ea\u30e2\u30b3\u30f3", "Slack", "\u96fb\u5b50\u5de5\u4f5c", "\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4", "RaspberryPi"]}