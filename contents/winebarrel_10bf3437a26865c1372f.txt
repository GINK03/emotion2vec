{"context": " More than 1 year has passed since last update.\u307e\u305a\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306b\u3057\u305f\u304c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u56de\u3057\u3066\u307f\u307e\u3059\u3002\n#!/bin/bash\nAPI_KEY=...\nTIMESTAMP=$(date +%s)\n\ncurl  -X POST -H \"Content-type: application/json\" \\\n-d '{ \"series\" :\n         [{\"metric\":\"test.metric\",\n          \"points\":[['$TIMESTAMP', 20]],\n          \"type\":\"gauge\",\n          \"host\":\"test.example.com\",\n          \"tags\":[\"environment:test\"]}\n        ]\n    }' \\\n\"https://app.datadoghq.com/api/v1/series?api_key=$API_KEY\"\n\n\n{\n  \"viz\": \"timeseries\",\n  \"requests\": [\n    {\n      \"q\": \"avg:test.metric{*}\"\n    }\n  ],\n  \"events\": []\n}\n\n\u304a\uff4b\u3002\n\n\u540c\u3058\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u30c7\u30fc\u30bf\u3092\u9001\u308b\n\u7d9a\u3044\u3066\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u304c\u540c\u3058\u30c7\u30fc\u30bf\u3092\u9001\u3063\u3066\u307f\u307e\u3059\u3002\n#!/bin/bash\nAPI_KEY=...\nTIMESTAMP=$(date +%s)\n\ncurl  -X POST -H \"Content-type: application/json\" \\\n-d '{ \"series\" :\n         [{\"metric\":\"test.metric\",\n          \"points\":[\n            ['$TIMESTAMP', 20],\n            ['$TIMESTAMP', 21],\n            ['$TIMESTAMP', 22]\n          ],\n          \"type\":\"gauge\",\n          \"host\":\"test.example.com\",\n          \"tags\":[\"environment:test\"]}\n        ]\n    }' \\\n\"https://app.datadoghq.com/api/v1/series?api_key=$API_KEY\"\n\n\n{\n  \"viz\": \"timeseries\",\n  \"requests\": [\n    {\n      \"q\": \"sum:test.metric{*}\"\n    }\n  ],\n  \"events\": []\n}\n\nsum:\u3067\u3059\u304c\u306a\u3093\u304b\u30ac\u30bf\u30ac\u30bf\u3057\u3066\u307e\u3059\u306d\u2026\u3002\n\u540c\u3058\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u30c7\u30fc\u30bf\u3092\u9001\u3063\u305f\u5834\u5408\u3001\u3044\u305a\u308c\u304b\u304c\u9078\u629e\u3055\u308c\u308b\u3088\u3046\u3002\n\n\u30bf\u30b0\u3092\u5909\u3048\u3066\u307f\u308b\n\u540c\u3058\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u30c7\u30fc\u30bf\u3092\u7570\u306a\u308b\u30bf\u30b0\u3067\u9001\u3063\u3066\u307f\u307e\u3059\u3002\n#!/bin/bash\nAPI_KEY=...\nTIMESTAMP=$(date +%s)\n\nfor i in {1..3}; do\n  curl  -X POST -H \"Content-type: application/json\" \\\n  -d '{ \"series\" :\n           [{\"metric\":\"test.metric\",\n            \"points\":[\n              ['$TIMESTAMP', 2'$i']\n            ],\n            \"type\":\"gauge\",\n            \"host\":\"test.example.com\",\n            \"tags\":[\"environment:test'$i'\"]}\n          ]\n      }' \\\n  \"https://app.datadoghq.com/api/v1/series?api_key=$API_KEY\"\ndone\n\n\n\u4eca\u5ea6\u306f\u3061\u3083\u3093\u3068\u5408\u8a08\u3055\u308c\u307e\u3057\u305f\u2026\u3063\u306688\uff1f\n\u8a73\u7d30\u304c\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u3001\u30c0\u30b0\u3054\u3068\u306b\u8272\u5206\u3051\u3002\n\n{\n  \"viz\": \"timeseries\",\n  \"requests\": [\n    {\n      \"q\": \"sum:test.metric{*} by {environment}\"\n    }\n  ],\n  \"events\": []\n}\n\n\u9001\u3063\u3066\u306a\u3044\u306f\u305a\u306eenvironment:test\u304c\u2026\n\u2026\u3057\u3070\u3089\u304f\u5f85\u3063\u305f\u3089\u3001\u76f4\u308a\u307e\u3057\u305f\u3002\n\n\u307e\u305a[\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](http://docs.datadoghq.com/ja/api/)\u306b\u3057\u305f\u304c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u56de\u3057\u3066\u307f\u307e\u3059\u3002\n\n```bash\n#!/bin/bash\nAPI_KEY=...\nTIMESTAMP=$(date +%s)\n \ncurl  -X POST -H \"Content-type: application/json\" \\\n-d '{ \"series\" :\n         [{\"metric\":\"test.metric\",\n          \"points\":[['$TIMESTAMP', 20]],\n          \"type\":\"gauge\",\n          \"host\":\"test.example.com\",\n          \"tags\":[\"environment:test\"]}\n        ]\n    }' \\\n\"https://app.datadoghq.com/api/v1/series?api_key=$API_KEY\"\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-03-14 21.11.12.png](https://qiita-image-store.s3.amazonaws.com/0/20100/33e1754e-9dae-46a4-f69f-80d10f8e7b5f.png)\n\n```json\n{\n  \"viz\": \"timeseries\",\n  \"requests\": [\n    {\n      \"q\": \"avg:test.metric{*}\"\n    }\n  ],\n  \"events\": []\n}\n```\n\n\u304a\uff4b\u3002\n\n# \u540c\u3058\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u30c7\u30fc\u30bf\u3092\u9001\u308b\n\u7d9a\u3044\u3066\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u304c\u540c\u3058\u30c7\u30fc\u30bf\u3092\u9001\u3063\u3066\u307f\u307e\u3059\u3002\n\n```bash\n#!/bin/bash\nAPI_KEY=...\nTIMESTAMP=$(date +%s)\n \ncurl  -X POST -H \"Content-type: application/json\" \\\n-d '{ \"series\" :\n         [{\"metric\":\"test.metric\",\n          \"points\":[\n            ['$TIMESTAMP', 20],\n            ['$TIMESTAMP', 21],\n            ['$TIMESTAMP', 22]\n          ],\n          \"type\":\"gauge\",\n          \"host\":\"test.example.com\",\n          \"tags\":[\"environment:test\"]}\n        ]\n    }' \\\n\"https://app.datadoghq.com/api/v1/series?api_key=$API_KEY\"\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-03-14 21.14.59.png](https://qiita-image-store.s3.amazonaws.com/0/20100/a055f40b-1ecf-dcd4-2ecc-c8b6953b1907.png)\n\n```json\n{\n  \"viz\": \"timeseries\",\n  \"requests\": [\n    {\n      \"q\": \"sum:test.metric{*}\"\n    }\n  ],\n  \"events\": []\n}\n```\n\n`sum:`\u3067\u3059\u304c\u306a\u3093\u304b\u30ac\u30bf\u30ac\u30bf\u3057\u3066\u307e\u3059\u306d\u2026\u3002\n\u540c\u3058\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u30c7\u30fc\u30bf\u3092\u9001\u3063\u305f\u5834\u5408\u3001\u3044\u305a\u308c\u304b\u304c\u9078\u629e\u3055\u308c\u308b\u3088\u3046\u3002\n\n# \u30bf\u30b0\u3092\u5909\u3048\u3066\u307f\u308b\n\u540c\u3058\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u30c7\u30fc\u30bf\u3092\u7570\u306a\u308b\u30bf\u30b0\u3067\u9001\u3063\u3066\u307f\u307e\u3059\u3002\n\n```bash\n#!/bin/bash\nAPI_KEY=...\nTIMESTAMP=$(date +%s)\n \nfor i in {1..3}; do\n  curl  -X POST -H \"Content-type: application/json\" \\\n  -d '{ \"series\" :\n           [{\"metric\":\"test.metric\",\n            \"points\":[\n              ['$TIMESTAMP', 2'$i']\n            ],\n            \"type\":\"gauge\",\n            \"host\":\"test.example.com\",\n            \"tags\":[\"environment:test'$i'\"]}\n          ]\n      }' \\\n  \"https://app.datadoghq.com/api/v1/series?api_key=$API_KEY\"\ndone\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-03-14 21.22.02.png](https://qiita-image-store.s3.amazonaws.com/0/20100/ad5fd391-85a0-74cc-e55e-a12215945f56.png)\n\n\u4eca\u5ea6\u306f\u3061\u3083\u3093\u3068\u5408\u8a08\u3055\u308c\u307e\u3057\u305f\u2026\u3063\u3066`88`\uff1f\n\n\u8a73\u7d30\u304c\u5206\u304b\u3089\u306a\u3044\u306e\u3067\u3001\u30c0\u30b0\u3054\u3068\u306b\u8272\u5206\u3051\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-03-14 21.23.03.png](https://qiita-image-store.s3.amazonaws.com/0/20100/455a9a4a-3084-4712-6702-a802496a45b4.png)\n\n```json\n{\n  \"viz\": \"timeseries\",\n  \"requests\": [\n    {\n      \"q\": \"sum:test.metric{*} by {environment}\"\n    }\n  ],\n  \"events\": []\n}\n```\n\n\u9001\u3063\u3066\u306a\u3044\u306f\u305a\u306e`environment:test`\u304c\u2026\n\n\u2026\u3057\u3070\u3089\u304f\u5f85\u3063\u305f\u3089\u3001\u76f4\u308a\u307e\u3057\u305f\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-03-14 21.25.17.png](https://qiita-image-store.s3.amazonaws.com/0/20100/6ab4115a-4c02-41c8-dc1c-bad36d7edaa4.png)\n\n", "tags": ["Datadog"]}