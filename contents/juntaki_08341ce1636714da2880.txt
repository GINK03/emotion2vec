{"context": "AWS\u306eGPU\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067CIFAR-10\u306e\u5206\u985e\u3067\u4f5c\u3063\u305fGPU\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u3001\u666e\u6bb5\u306f\u304a\u9ad8\u3044\u306e\u3067\u6b62\u3081\u3066\u304a\u3044\u3066\u3001\u6642\u3005jupyter notebook\u3092\u8d77\u52d5\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u89e6\u308a\u305f\u3044\u3002\n\u60f3\u5b9a\u306f1\u30ea\u30fc\u30b8\u30e7\u30f3\u306b1\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3057\u304b\u306a\u3044\u3001AWS\u8d85\u30e9\u30a4\u30c8\u30e6\u30fc\u30b6\u3067\u3059\u3002\uff08\u8a2d\u5b9a\u304c\u5168\u7136\u6c4e\u7528\u7684\u3067\u306f\u306a\u3044\u306e\u3067\u30fb\u30fb)\n\naws CLI\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u307d\u3061\u307d\u3061\u3057\u3066\u3082\u540c\u3058\u3053\u3068\u304c\u3067\u304d\u308b\u304c\u3001\u6642\u9593\u304c\u304b\u308b\u306e\u3067CLI\u304c\u3088\u3044\u3002\n\u5bfe\u8c61\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c2\u3064\u4ee5\u4e0a\u3042\u308b\u5834\u5408\u3001jq\u306b\u6e21\u3059\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5909\u66f4\u3057\u306a\u3044\u3068\u5931\u6557\u3059\u308b\u306f\u305a\u3002\ndescribe-instances\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u3082\u3063\u3066\u304d\u3066\u3001\u305d\u306e\u307e\u3093\u307estart-instances\u306b\u6e21\u3059\u3002\u3053\u306e\u8fba\u306e\u30ce\u30a6\u30cf\u30a6\u306f\u3082\u3063\u3068\u826f\u3044\u8a18\u4e8b\u304c\u3042\u308b\u306b\u9055\u3044\u306a\u3044\u3002\naws ec2 start-instances --instance-ids `aws ec2 describe-instances | jq -r '.Reservations[].Instances[].InstanceId'` \n\n\n~/.ssh/config\u306bLocalForward\u306e\u8a2d\u5b9a\n\"ec2\"\u304c\u30c9\u30e1\u30a4\u30f3\u306b\u542b\u307e\u308c\u3066\u3044\u308bPublic DNS\u306b\u3064\u306a\u3052\u305f\u3068\u304d\u3001\u30e6\u30fc\u30b6\u540d\u3068\u30ad\u30fc\u30d5\u30a1\u30a4\u30eb\u306f\u6c7a\u3081\u6253\u3061\u3067\u3001LocalForward\u3059\u308b\u8a2d\u5b9a\u306b\u3059\u308b\u3002\n\u3053\u308c\u3067\u3001SSH\u63a5\u7d9a\u3057\u3066\u3044\u308b\u9593\u306f\u30ed\u30fc\u30ab\u30eb\u306e8888\u306b\u63a5\u7d9a\u3059\u308b\u3068EC2\u5074\u3067\u5f85\u3061\u53d7\u3051\u3066\u3044\u308b8889\u306b\u7e4b\u304c\u308b\u3088\u3046\u306b\u306a\u308b\u3002\nHost *ec2*\n    User ec2-user\n    LocalForward 8888 127.0.0.1:8889\n    IdentityFile ~/.ssh/gpu.pem\n\n\nSSH\u63a5\u7d9a\u3057\u3066jupyter notebook\u3092\u8d77\u52d5\nSSH\u306f\u305d\u306e\u6642\u306ePublicDnsName\u306b\u7e4b\u304c\u308b\u3088\u3046\u306b\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\nssh `aws ec2 describe-instances | jq -r '.Reservations[].Instances[].PublicDnsName'` \n\nKeras(Theano)\u304cGPU\u3092\u4f7f\u3046\u3088\u3046\u306b\u3001jupyter notebook\u3092\u8d77\u52d5\u3059\u308b\u3002\u8d77\u52d5\u30dd\u30fc\u30c8\u306f8889\u306b\u3059\u308b\u3002\nTHEANO_FLAGS=mode=FAST_RUN,device=gpu,floatX=float32 jupyter notebook --no-browser --port 8889 \n\n\n\u30ed\u30fc\u30ab\u30eb\u306e\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\n\u5fc5\u8981\u306aipynb\u30d5\u30a1\u30a4\u30eb\u306fscp\u306a\u3069\u3067\u9001\u308a\u8fbc\u3093\u3067\u304a\u304f\u3002\n\u30a2\u30af\u30bb\u30b9\u5148\u306f http://localhost:8888/ \u306b\u306a\u308b\u3002\n[AWS\u306eGPU\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067CIFAR-10\u306e\u5206\u985e](http://qiita.com/juntaki/items/40803ef012196fade793)\u3067\u4f5c\u3063\u305fGPU\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u3001\u666e\u6bb5\u306f\u304a\u9ad8\u3044\u306e\u3067\u6b62\u3081\u3066\u304a\u3044\u3066\u3001\u6642\u3005jupyter notebook\u3092\u8d77\u52d5\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u89e6\u308a\u305f\u3044\u3002\n\u60f3\u5b9a\u306f1\u30ea\u30fc\u30b8\u30e7\u30f3\u306b1\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3057\u304b\u306a\u3044\u3001AWS\u8d85\u30e9\u30a4\u30c8\u30e6\u30fc\u30b6\u3067\u3059\u3002\uff08\u8a2d\u5b9a\u304c\u5168\u7136\u6c4e\u7528\u7684\u3067\u306f\u306a\u3044\u306e\u3067\u30fb\u30fb)\n\n## aws CLI\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8d77\u52d5\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u307d\u3061\u307d\u3061\u3057\u3066\u3082\u540c\u3058\u3053\u3068\u304c\u3067\u304d\u308b\u304c\u3001\u6642\u9593\u304c\u304b\u308b\u306e\u3067CLI\u304c\u3088\u3044\u3002\n\u5bfe\u8c61\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c2\u3064\u4ee5\u4e0a\u3042\u308b\u5834\u5408\u3001jq\u306b\u6e21\u3059\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5909\u66f4\u3057\u306a\u3044\u3068\u5931\u6557\u3059\u308b\u306f\u305a\u3002\n\ndescribe-instances\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u3082\u3063\u3066\u304d\u3066\u3001\u305d\u306e\u307e\u3093\u307estart-instances\u306b\u6e21\u3059\u3002\u3053\u306e\u8fba\u306e\u30ce\u30a6\u30cf\u30a6\u306f\u3082\u3063\u3068\u826f\u3044\u8a18\u4e8b\u304c\u3042\u308b\u306b\u9055\u3044\u306a\u3044\u3002\n\n~~~\naws ec2 start-instances --instance-ids `aws ec2 describe-instances | jq -r '.Reservations[].Instances[].InstanceId'` \n~~~\n\n## ~/.ssh/config\u306bLocalForward\u306e\u8a2d\u5b9a\n\n\"ec2\"\u304c\u30c9\u30e1\u30a4\u30f3\u306b\u542b\u307e\u308c\u3066\u3044\u308bPublic DNS\u306b\u3064\u306a\u3052\u305f\u3068\u304d\u3001\u30e6\u30fc\u30b6\u540d\u3068\u30ad\u30fc\u30d5\u30a1\u30a4\u30eb\u306f\u6c7a\u3081\u6253\u3061\u3067\u3001LocalForward\u3059\u308b\u8a2d\u5b9a\u306b\u3059\u308b\u3002\n\u3053\u308c\u3067\u3001SSH\u63a5\u7d9a\u3057\u3066\u3044\u308b\u9593\u306f\u30ed\u30fc\u30ab\u30eb\u306e8888\u306b\u63a5\u7d9a\u3059\u308b\u3068EC2\u5074\u3067\u5f85\u3061\u53d7\u3051\u3066\u3044\u308b8889\u306b\u7e4b\u304c\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n~~~\nHost *ec2*\n    User ec2-user\n    LocalForward 8888 127.0.0.1:8889\n    IdentityFile ~/.ssh/gpu.pem\n~~~\n\n## SSH\u63a5\u7d9a\u3057\u3066jupyter notebook\u3092\u8d77\u52d5\nSSH\u306f\u305d\u306e\u6642\u306ePublicDnsName\u306b\u7e4b\u304c\u308b\u3088\u3046\u306b\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\n\n~~~\nssh `aws ec2 describe-instances | jq -r '.Reservations[].Instances[].PublicDnsName'` \n~~~\n\nKeras(Theano)\u304cGPU\u3092\u4f7f\u3046\u3088\u3046\u306b\u3001jupyter notebook\u3092\u8d77\u52d5\u3059\u308b\u3002\u8d77\u52d5\u30dd\u30fc\u30c8\u306f8889\u306b\u3059\u308b\u3002\n\n~~~\nTHEANO_FLAGS=mode=FAST_RUN,device=gpu,floatX=float32 jupyter notebook --no-browser --port 8889 \n~~~\n\n## \u30ed\u30fc\u30ab\u30eb\u306e\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\n\n\u5fc5\u8981\u306aipynb\u30d5\u30a1\u30a4\u30eb\u306fscp\u306a\u3069\u3067\u9001\u308a\u8fbc\u3093\u3067\u304a\u304f\u3002\n\u30a2\u30af\u30bb\u30b9\u5148\u306f http://localhost:8888/ \u306b\u306a\u308b\u3002\n", "tags": ["AWS", "Jupyter", "Python", "\u6a5f\u68b0\u5b66\u7fd2", "MachineLearning"]}