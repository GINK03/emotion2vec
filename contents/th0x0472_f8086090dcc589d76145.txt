{"tags": ["awk", "ShellScript"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002awk 'BEGIN{n=0} /PATTERN/{n=NR+NUM} (NR>n){print}'\n\ngrep -v \u3068 grep -A NUM \u306e\u5408\u308f\u305b\u6280\u3092\u3084\u308a\u305f\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u601d\u3063\u305f\u3088\u3046\u306b\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3002\n\u4f8b\uff09\n$ cat sample\n     1  01 ABC\n     2     DEF\n     3     GHI\n     4     JKL\n     5  02 ABC\n     6     DEF\n     7     GHI\n     8     JKL\n     9  03 ABC\n    10     DEF\n    11     GHI\n    12     JKL\n    13  04 ABC\n    14     DEF\n    15     GHI\n    16     JKL\n    17  05 ABC\n    18     DEF\n    19     GHI\n    20     JKL\n\n03 \u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u3068\uff0c\u305d\u308c\u306b\u7d9a\u304f3\u884c\u3092\u53d6\u308a\u9664\u304d\u307e\u3059\u3002\n$ cat sample | awk 'BEGIN{n=0} /03/{n=NR+3} (NR>n){print}'\n     1  01 ABC\n     2     DEF\n     3     GHI\n     4     JKL\n     5  02 ABC\n     6     DEF\n     7     GHI\n     8     JKL\n    13  04 ABC\n    14     DEF\n    15     GHI\n    16     JKL\n    17  05 ABC\n    18     DEF\n    19     GHI\n    20     JKL\n\nBEGIN\u30d6\u30ed\u30c3\u30af\u306f\u306a\u304f\u3066\u3082\u30fb\u30fb\u30fb\u3001\u3067\u3082\u500b\u4eba\u7684\u306b\u306f\u4ed8\u3051\u308b\u6d3e\u3067\u3059\u3002\n/03/ \u306e\u30d6\u30ed\u30c3\u30af\u3068 (NR>n) \u306e\u30d6\u30ed\u30c3\u30af\u3092\u5165\u308c\u66ff\u3048\u308b\u3068\u7d50\u679c\u304c\u5909\u308f\u308a\u307e\u3059\u3002\ngrep -B \u3084 grep -C \u3068 grep -v \u306e\u5408\u308f\u305b\u6280\u306f\u30fb\u30fb\u30fb\u3069\u3046\u3084\u3063\u305f\u3089\u3044\u3044\u3093\u3067\u3057\u3087\u3046\uff1f\n```sh\nawk 'BEGIN{n=0} /PATTERN/{n=NR+NUM} (NR>n){print}'\n```\n\n`grep -v` \u3068 `grep -A NUM` \u306e\u5408\u308f\u305b\u6280\u3092\u3084\u308a\u305f\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u601d\u3063\u305f\u3088\u3046\u306b\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3002\n\n\u4f8b\uff09\n\n```sh\n$ cat sample\n     1\t01 ABC\n     2\t   DEF\n     3\t   GHI\n     4\t   JKL\n     5\t02 ABC\n     6\t   DEF\n     7\t   GHI\n     8\t   JKL\n     9\t03 ABC\n    10\t   DEF\n    11\t   GHI\n    12\t   JKL\n    13\t04 ABC\n    14\t   DEF\n    15\t   GHI\n    16\t   JKL\n    17\t05 ABC\n    18\t   DEF\n    19\t   GHI\n    20\t   JKL\n```\n\n03 \u306b\u30de\u30c3\u30c1\u3059\u308b\u884c\u3068\uff0c\u305d\u308c\u306b\u7d9a\u304f3\u884c\u3092\u53d6\u308a\u9664\u304d\u307e\u3059\u3002\n\n```sh\n$ cat sample | awk 'BEGIN{n=0} /03/{n=NR+3} (NR>n){print}'\n     1\t01 ABC\n     2\t   DEF\n     3\t   GHI\n     4\t   JKL\n     5\t02 ABC\n     6\t   DEF\n     7\t   GHI\n     8\t   JKL\n    13\t04 ABC\n    14\t   DEF\n    15\t   GHI\n    16\t   JKL\n    17\t05 ABC\n    18\t   DEF\n    19\t   GHI\n    20\t   JKL\n```\n\nBEGIN\u30d6\u30ed\u30c3\u30af\u306f\u306a\u304f\u3066\u3082\u30fb\u30fb\u30fb\u3001\u3067\u3082\u500b\u4eba\u7684\u306b\u306f\u4ed8\u3051\u308b\u6d3e\u3067\u3059\u3002\n/03/ \u306e\u30d6\u30ed\u30c3\u30af\u3068 (NR>n) \u306e\u30d6\u30ed\u30c3\u30af\u3092\u5165\u308c\u66ff\u3048\u308b\u3068\u7d50\u679c\u304c\u5909\u308f\u308a\u307e\u3059\u3002\n\n`grep -B` \u3084 `grep -C` \u3068 `grep -v` \u306e\u5408\u308f\u305b\u6280\u306f\u30fb\u30fb\u30fb\u3069\u3046\u3084\u3063\u305f\u3089\u3044\u3044\u3093\u3067\u3057\u3087\u3046\uff1f"}