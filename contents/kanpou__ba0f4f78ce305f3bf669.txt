{"context": " More than 1 year has passed since last update.https://registry.hub.docker.com/u/sameersbn/redmine/\n\u3092\u53c2\u8003\u306b\u3001Vagrant+Docker\u4e0a\u3067Redmine\u3092\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u5b9f\u884c\u74b0\u5883\nVagrant\u4e0a\u306eCentOS7 \n\nCentOS7\u306ebox\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nvagrant cloud\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n$ vagrant box add chef/centos-7.0 --provider virtualbox\n$ vagrant init chef/centos-7.0\n\ncf) https://atlas.hashicorp.com/chef/boxes/centos-7.0\n\nVagrant\u306e\u8a2d\u5b9a\n\u30b2\u30b9\u30c8\u306eCentOS7\u306e port 10080 \u3067Redmine\u3092\u52d5\u304b\u3059\u306e\u3067\u4ee5\u4e0b\u306e\u901a\u308a\u8a2d\u5b9a\u3002\n\u30db\u30b9\u30c8\u304b\u3089  http://localhost:1234/ \u3067\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n$ vim Vagrantfile\n\n\nVagrantfile\n# \u4ee5\u4e0b\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\nconfig.vm.network \"forwarded_port\", guest: 10080, host:1234\n\n\n\nCentOS7\u3092\u8d77\u52d5\u3057\u3066\u30ed\u30b0\u30a4\u30f3\n$ vagrant up\n$ vagrant ssh\n\n\ndocker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo su -\n# yum update -y\n# yum install docker\n# yum info docker\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\n * base: ftp.iij.ad.jp\n * extras: ftp.riken.jp\n * updates: ftp.iij.ad.jp\nInstalled Packages\nName        : docker\nArch        : x86_64\nVersion     : 1.5.0\nRelease     : 28.el7.centos\nSize        : 31 M\nRepo        : installed\nFrom repo   : extras\nSummary     : Automates deployment of containerized applications\nURL         : http://www.docker.com\nLicense     : ASL 2.0\nDescription : Docker is an open-source engine that automates the deployment of any\n            : application as a lightweight, portable, self-sufficient container that will\n            : run virtually anywhere.\n            :\n            : Docker containers can encapsulate any payload, and will run consistently on\n            : and between virtually any server. The same container that a developer builds\n            : and tests on a laptop will run at scale, in production*, on VMs, bare-metal\n            : servers, OpenStack clusters, public instances, or combinations of the above.\n\n\ncf) https://docs.docker.com/installation/centos/#installing-docker-centos-7\n\ndocker\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n# systemctl enable docker\nln -s '/usr/lib/systemd/system/docker.service' '/etc/systemd/system/multi-user.target.wants/docker.service'\n# \n# systemctl start docker\n#\n# systemctl status docker\ndocker.service - Docker Application Container Engine\n   Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled)\n   Active: active (running) since \u571f 2015-04-04 07:18:34 UTC; 2h 37min ago\n     Docs: http://docs.docker.com\n Main PID: 2944 (docker)\n   CGroup: /system.slice/docker.service\n           \u2514\u25002944 /usr/bin/docker -d --selinux-enabled -H fd://\n\n\nfig\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n/usr/local/bin/ \u306b fig \u6301\u3063\u3066\u304d\u3066\u5b9f\u884c\u6a29\u9650\u4ed8\u4e0e\u3057\u3066\u308b\u3060\u3051\u3002\n# curl -L https://github.com/docker/fig/releases/download/1.0.1/fig-`uname -s`-`uname -m` > /usr/local/bin/fig; chmod +x /usr/local/bin/fig\n\ncf) http://www.fig.sh/install.html\n\npostgresql\u30b3\u30f3\u30c6\u30ca\u3001redmine\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\nfig.yml \u3092\u6301\u3063\u3066\u304d\u3066\u3001fig up\u5b9f\u884c\u3002\nctrl+c \u3067\u505c\u6b62\u53ef\u3002\n# mkdir work && cd $_ \n# wget https://raw.githubusercontent.com/sameersbn/docker-redmine/master/fig.yml\n# fig up\n\n\u203b \u521d\u56de\u5b9f\u884c\u6642\u306f\u3001fig.yml \u306b\u66f8\u3044\u3066\u3042\u308b docker image \u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3002\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3002\n\u5408\u8a08800MB\u8d85\u3042\u308b\u306e\u3067\u305d\u308c\u306a\u308a\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u3002\nsameersbn/postgresql:9.4\nsameersbn/redmine:3.0.1\n\n# docker images\nREPOSITORY             TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nsameersbn/redmine      3.0.1               ceafd99f6877        11 days ago         617.7 MB\nsameersbn/postgresql   9.4                 271ad7e099d3        8 weeks ago         232.6 MB\n\n\nfig.yml\npostgresql:\n  image: sameersbn/postgresql:9.4\n  environment:\n    - DB_USER=redmine\n    - DB_PASS=phatiphohsukeuwo\n    - DB_NAME=redmine_production\nredmine:\n  image: sameersbn/redmine:3.0.1\n  links:\n    - postgresql:postgresql\n  environment:\n    - DB_USER=redmine\n    - DB_PASS=phatiphohsukeuwo\n    - DB_NAME=redmine_production\n  ports:\n    - \"10080:80\"\n\n\n\n\u53c2\u8003\n\n\u5b9f\u884c\u30ed\u30b0\nRecreating workforredmine_postgresql_1...\nRecreating workforredmine_redmine_1...\nAttaching to workforredmine_postgresql_1, workforredmine_redmine_1\nredmine_1    | Waiting for database server to accept connections\nredmine_1    | 2015-04-04 08:19:48,678 CRIT Supervisor running as root (no user in config file)\nredmine_1    | 2015-04-04 08:19:48,678 WARN Included extra file \"/etc/supervisor/conf.d/cron.conf\" during parsing\nredmine_1    | 2015-04-04 08:19:48,678 WARN Included extra file \"/etc/supervisor/conf.d/nginx.conf\" during parsing\nredmine_1    | 2015-04-04 08:19:48,678 WARN Included extra file \"/etc/supervisor/conf.d/unicorn.conf\" during parsing\nredmine_1    | 2015-04-04 08:19:48,712 INFO RPC interface 'supervisor' initialized\nredmine_1    | 2015-04-04 08:19:48,712 CRIT Server 'unix_http_server' running without any HTTP authentication checking\nredmine_1    | 2015-04-04 08:19:48,713 INFO supervisord started with pid 1\nredmine_1    | 2015-04-04 08:19:49,715 INFO spawned: 'unicorn' with pid 83\nredmine_1    | 2015-04-04 08:19:49,718 INFO spawned: 'cron' with pid 84\nredmine_1    | 2015-04-04 08:19:49,719 INFO spawned: 'nginx' with pid 85\nredmine_1    | 2015-04-04 08:19:50,927 INFO success: unicorn entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nredmine_1    | 2015-04-04 08:19:50,927 INFO success: cron entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nredmine_1    | 2015-04-04 08:19:50,927 INFO success: nginx entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\n\n\n# docker ps\nCONTAINER ID        IMAGE                      COMMAND                CREATED             STATUS              PORTS                            NAMES\n17774ce54fc2        sameersbn/redmine:3.0.1    \"/app/init app:start   12 minutes ago      Up 12 minutes       443/tcp, 0.0.0.0:10080->80/tcp   workforredmine_redmine_1\n20f021504bdb        sameersbn/postgresql:9.4   \"/start\"               12 minutes ago      Up 12 minutes       5432/tcp                         workforredmine_postgresql_1\n\n\n\u30a2\u30af\u30bb\u30b9\nhttp://localhost:1234/ \u3067\u30a2\u30af\u30bb\u30b9\n\nusername: admin\npassword: admin\n\n\n\u88dc\u8db3\n\ndocker run \u3067\u5b9f\u884c\nfig\u3092\u4f7f\u308f\u305a\u306b\u3001docker run \u3067 postgresql \u3068 redmine \u3092\u5225\u3005\u306b\u52d5\u304b\u3057\u3066\u3082\u3044\u3051\u308b\u306f\u305a\u3067\u3059\u304c\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u306e\u3067\u307e\u3060\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\u9762\u5012\u3060\u3063\u305f\u3089 fig \u3092\u4f7f\u3048\u3068\u3001\u4ee5\u4e0b\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\nhttps://github.com/sameersbn/docker-redmine/issues/68\n\nplease try using fig.\nedit: or manually start the database container and link to the redmine container.\n\n\nVagrant\u306eprivate_network\u8a2d\u5b9a\nvagrant 1.6.3 \u3060\u3063\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3067\nvagrant up \u3059\u308b\u3068\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\n\nVagrantfile\n# \u4ee5\u4e0b\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\nconfig.vm.network :private_network, ip: \"192.168.33.10\"\n\n\nvagrant 1.6.5 \u304b\u3089\u306f\u76f4\u3063\u3066\u3044\u308b\u3089\u3057\u3044\u3067\u3059\u3002\nVagrant\u306eprivate_network\u3092CentOS7.0\u3067\u8a2d\u5b9a\nhttps://registry.hub.docker.com/u/sameersbn/redmine/\n\u3092\u53c2\u8003\u306b\u3001Vagrant+Docker\u4e0a\u3067Redmine\u3092\u52d5\u304b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n## \u5b9f\u884c\u74b0\u5883\nVagrant\u4e0a\u306eCentOS7 \n\n\n## CentOS7\u306ebox\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nvagrant cloud\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n```\n$ vagrant box add chef/centos-7.0 --provider virtualbox\n$ vagrant init chef/centos-7.0\n```\ncf) https://atlas.hashicorp.com/chef/boxes/centos-7.0\n\n\n## Vagrant\u306e\u8a2d\u5b9a\n\u30b2\u30b9\u30c8\u306eCentOS7\u306e port 10080 \u3067Redmine\u3092\u52d5\u304b\u3059\u306e\u3067\u4ee5\u4e0b\u306e\u901a\u308a\u8a2d\u5b9a\u3002\n\u30db\u30b9\u30c8\u304b\u3089  http://localhost:1234/ \u3067\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n```\n$ vim Vagrantfile\n```\n\n```bash:Vagrantfile\n# \u4ee5\u4e0b\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\nconfig.vm.network \"forwarded_port\", guest: 10080, host:1234\n```\n\n## CentOS7\u3092\u8d77\u52d5\u3057\u3066\u30ed\u30b0\u30a4\u30f3\n\n```\n$ vagrant up\n$ vagrant ssh\n```\n\n## docker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo su -\n# yum update -y\n# yum install docker\n# yum info docker\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\n * base: ftp.iij.ad.jp\n * extras: ftp.riken.jp\n * updates: ftp.iij.ad.jp\nInstalled Packages\nName        : docker\nArch        : x86_64\nVersion     : 1.5.0\nRelease     : 28.el7.centos\nSize        : 31 M\nRepo        : installed\nFrom repo   : extras\nSummary     : Automates deployment of containerized applications\nURL         : http://www.docker.com\nLicense     : ASL 2.0\nDescription : Docker is an open-source engine that automates the deployment of any\n            : application as a lightweight, portable, self-sufficient container that will\n            : run virtually anywhere.\n            :\n            : Docker containers can encapsulate any payload, and will run consistently on\n            : and between virtually any server. The same container that a developer builds\n            : and tests on a laptop will run at scale, in production*, on VMs, bare-metal\n            : servers, OpenStack clusters, public instances, or combinations of the above.\n\n```\n\ncf) https://docs.docker.com/installation/centos/#installing-docker-centos-7\n\n\n## docker\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n\n```\n# systemctl enable docker\nln -s '/usr/lib/systemd/system/docker.service' '/etc/systemd/system/multi-user.target.wants/docker.service'\n# \n# systemctl start docker\n#\n# systemctl status docker\ndocker.service - Docker Application Container Engine\n   Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled)\n   Active: active (running) since \u571f 2015-04-04 07:18:34 UTC; 2h 37min ago\n     Docs: http://docs.docker.com\n Main PID: 2944 (docker)\n   CGroup: /system.slice/docker.service\n           \u2514\u25002944 /usr/bin/docker -d --selinux-enabled -H fd://\n```\n\n## fig\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n`/usr/local/bin/` \u306b `fig` \u6301\u3063\u3066\u304d\u3066\u5b9f\u884c\u6a29\u9650\u4ed8\u4e0e\u3057\u3066\u308b\u3060\u3051\u3002\n\n```\n# curl -L https://github.com/docker/fig/releases/download/1.0.1/fig-`uname -s`-`uname -m` > /usr/local/bin/fig; chmod +x /usr/local/bin/fig\n```\ncf) http://www.fig.sh/install.html\n\n## postgresql\u30b3\u30f3\u30c6\u30ca\u3001redmine\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\n\n`fig.yml` \u3092\u6301\u3063\u3066\u304d\u3066\u3001`fig up`\u5b9f\u884c\u3002\nctrl+c \u3067\u505c\u6b62\u53ef\u3002\n\n```\n# mkdir work && cd $_ \n# wget https://raw.githubusercontent.com/sameersbn/docker-redmine/master/fig.yml\n# fig up\n```\n\n\u203b \u521d\u56de\u5b9f\u884c\u6642\u306f\u3001`fig.yml` \u306b\u66f8\u3044\u3066\u3042\u308b docker image \u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3002\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u30a4\u30e1\u30fc\u30b8\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3002\n\u5408\u8a08800MB\u8d85\u3042\u308b\u306e\u3067\u305d\u308c\u306a\u308a\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u3002\n\n```\nsameersbn/postgresql:9.4\nsameersbn/redmine:3.0.1\n```\n\n\n```\n# docker images\nREPOSITORY             TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nsameersbn/redmine      3.0.1               ceafd99f6877        11 days ago         617.7 MB\nsameersbn/postgresql   9.4                 271ad7e099d3        8 weeks ago         232.6 MB\n```\n\n\n```yaml:fig.yml\npostgresql:\n  image: sameersbn/postgresql:9.4\n  environment:\n    - DB_USER=redmine\n    - DB_PASS=phatiphohsukeuwo\n    - DB_NAME=redmine_production\nredmine:\n  image: sameersbn/redmine:3.0.1\n  links:\n    - postgresql:postgresql\n  environment:\n    - DB_USER=redmine\n    - DB_PASS=phatiphohsukeuwo\n    - DB_NAME=redmine_production\n  ports:\n    - \"10080:80\"\n```\n\n### \u53c2\u8003\n\n```bash:\u5b9f\u884c\u30ed\u30b0\nRecreating workforredmine_postgresql_1...\nRecreating workforredmine_redmine_1...\nAttaching to workforredmine_postgresql_1, workforredmine_redmine_1\nredmine_1    | Waiting for database server to accept connections\nredmine_1    | 2015-04-04 08:19:48,678 CRIT Supervisor running as root (no user in config file)\nredmine_1    | 2015-04-04 08:19:48,678 WARN Included extra file \"/etc/supervisor/conf.d/cron.conf\" during parsing\nredmine_1    | 2015-04-04 08:19:48,678 WARN Included extra file \"/etc/supervisor/conf.d/nginx.conf\" during parsing\nredmine_1    | 2015-04-04 08:19:48,678 WARN Included extra file \"/etc/supervisor/conf.d/unicorn.conf\" during parsing\nredmine_1    | 2015-04-04 08:19:48,712 INFO RPC interface 'supervisor' initialized\nredmine_1    | 2015-04-04 08:19:48,712 CRIT Server 'unix_http_server' running without any HTTP authentication checking\nredmine_1    | 2015-04-04 08:19:48,713 INFO supervisord started with pid 1\nredmine_1    | 2015-04-04 08:19:49,715 INFO spawned: 'unicorn' with pid 83\nredmine_1    | 2015-04-04 08:19:49,718 INFO spawned: 'cron' with pid 84\nredmine_1    | 2015-04-04 08:19:49,719 INFO spawned: 'nginx' with pid 85\nredmine_1    | 2015-04-04 08:19:50,927 INFO success: unicorn entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nredmine_1    | 2015-04-04 08:19:50,927 INFO success: cron entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\nredmine_1    | 2015-04-04 08:19:50,927 INFO success: nginx entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\n```\n\n```\n# docker ps\nCONTAINER ID        IMAGE                      COMMAND                CREATED             STATUS              PORTS                            NAMES\n17774ce54fc2        sameersbn/redmine:3.0.1    \"/app/init app:start   12 minutes ago      Up 12 minutes       443/tcp, 0.0.0.0:10080->80/tcp   workforredmine_redmine_1\n20f021504bdb        sameersbn/postgresql:9.4   \"/start\"               12 minutes ago      Up 12 minutes       5432/tcp                         workforredmine_postgresql_1\n```\n\n## \u30a2\u30af\u30bb\u30b9\nhttp://localhost:1234/ \u3067\u30a2\u30af\u30bb\u30b9\n![redmine_top.png](https://qiita-image-store.s3.amazonaws.com/0/7902/34801011-cd55-7e36-5451-0ba53f26dd1d.png)\n\n\n\n```\nusername: admin\npassword: admin\n```\n\n## \u88dc\u8db3\n\n### docker run \u3067\u5b9f\u884c\n\nfig\u3092\u4f7f\u308f\u305a\u306b\u3001`docker run` \u3067 postgresql \u3068 redmine \u3092\u5225\u3005\u306b\u52d5\u304b\u3057\u3066\u3082\u3044\u3051\u308b\u306f\u305a\u3067\u3059\u304c\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u306e\u3067\u307e\u3060\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\u9762\u5012\u3060\u3063\u305f\u3089 fig \u3092\u4f7f\u3048\u3068\u3001\u4ee5\u4e0b\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\nhttps://github.com/sameersbn/docker-redmine/issues/68\n\n>\nplease try using fig.\nedit: or manually start the database container and link to the redmine container.\n>\n\n### Vagrant\u306eprivate_network\u8a2d\u5b9a\n \nvagrant 1.6.3 \u3060\u3063\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3067\n`vagrant up` \u3059\u308b\u3068\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\n\n```bash:Vagrantfile\n# \u4ee5\u4e0b\u306e\u884c\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\nconfig.vm.network :private_network, ip: \"192.168.33.10\"\n```\n\nvagrant 1.6.5 \u304b\u3089\u306f\u76f4\u3063\u3066\u3044\u308b\u3089\u3057\u3044\u3067\u3059\u3002\n[Vagrant\u306eprivate_network\u3092CentOS7.0\u3067\u8a2d\u5b9a](http://qiita.com/ftakao2007/items/b332f562b0ea74e9f97e)\n\n", "tags": ["vagrant1.6.3", "docker1.5", "Redmine", "CentOS7.0", "fig"]}