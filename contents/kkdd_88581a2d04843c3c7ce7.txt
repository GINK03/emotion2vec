{"context": "\u3053\u3093\u306b\u3061\u306f\u3002\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u4e0a\u3067\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u5024\uff08\u983b\u5ea6\u6570\uff09\u3092\u6c42\u3081\u3066\u307f\u307e\u3057\u305f1\u3002\u51e6\u7406\u4f8b\u306f history \u30b3\u30de\u30f3\u30c9\u306e\u7b2c2\u30ab\u30e9\u30e0\u3067\u3059\uff08\u3059\u306a\u308f\u3061\u904e\u53bb\u306b\u4f7f\u7528\u3057\u305f\u30b3\u30de\u30f3\u30c9\u540d\uff09\u3002\n$ history | awk '{print $2}' | ./hist.sh | ./hist_graph.sh\n            brew   87 ##################################################\n             pip   33 ###################\n              ls   30 #################\n               :\n               :\n\n\n\u983b\u5ea6\u6570\u3092\u6c42\u3081\u308b\u51e6\u7406\u90e8\u5206\u306f\uff1a\n\n\nhist.sh\n#!/bin/sh\ncat \"$@\" | sort | uniq -c | sort -k1nr | awk '{printf \"%16s %4d\\n\",$2,$1;}'\nexit 0\n\n\n\n\u56f3\u793a\uff08#\u306e\u9023\u7d9a\uff09\u3092\u4ed8\u3051\u52a0\u3048\u308b\u51e6\u7406\u90e8\u5206\u306f\uff1a\n\n\nhist_graph.sh\n#!/bin/sh\ncat \"$@\" | awk '!max{max=$2;}{f=50/max;if(f>1)f=1;i=$2*f;r=\"\";while(i-->0)r=r\"#\";printf \"%s %s\\n\",$0,r;}'\nexit 0\n\n\n\u306a\u304a\u6539\u3081\u3066\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u5b9f\u73fe\u65b9\u6cd5\u3092\u8abf\u3079\u3066\u307f\u308b\u3068\u3001\"in-terminal (ASCII) histograms tool\" (Stack Overflow) \u306e\u4e2d\u3067\u3001\u4e0b\u8a18\u3082\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n * https://github.com/bitly/data_hacks\n * https://github.com/philovivero/distribution\n\n\n\n\n\n\u305f\u3060\u3057\u3053\u306e\u8a71\u984c\u306f\u300cCSV\u30c7\u30fc\u30bf\u306e\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u5024\uff08\u983b\u5ea6\u6570\uff09\u306e\u8a08\u7b97\uff08q\u30b3\u30de\u30f3\u30c9\u5229\u7528\uff09\u300d\u3068\u307b\u3068\u3093\u3069\u540c\u3058\u306a\u306e\u3067\u6050\u7e2e\u3067\u3059\u3002\u00a0\u21a9\n\n\n\n\u3053\u3093\u306b\u3061\u306f\u3002\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u4e0a\u3067\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u5024\uff08\u983b\u5ea6\u6570\uff09\u3092\u6c42\u3081\u3066\u307f\u307e\u3057\u305f[^1]\u3002\u51e6\u7406\u4f8b\u306f ```history``` \u30b3\u30de\u30f3\u30c9\u306e\u7b2c2\u30ab\u30e9\u30e0\u3067\u3059\uff08\u3059\u306a\u308f\u3061\u904e\u53bb\u306b\u4f7f\u7528\u3057\u305f\u30b3\u30de\u30f3\u30c9\u540d\uff09\u3002\n\n```console\n$ history | awk '{print $2}' | ./hist.sh | ./hist_graph.sh\n            brew   87 ##################################################\n             pip   33 ###################\n              ls   30 #################\n               :\n               :\n```\n\n* \u983b\u5ea6\u6570\u3092\u6c42\u3081\u308b\u51e6\u7406\u90e8\u5206\u306f\uff1a\n\n```hist.sh\n#!/bin/sh\ncat \"$@\" | sort | uniq -c | sort -k1nr | awk '{printf \"%16s %4d\\n\",$2,$1;}'\nexit 0\n```\n\n* \u56f3\u793a\uff08#\u306e\u9023\u7d9a\uff09\u3092\u4ed8\u3051\u52a0\u3048\u308b\u51e6\u7406\u90e8\u5206\u306f\uff1a\n\n```hist_graph.sh\n#!/bin/sh\ncat \"$@\" | awk '!max{max=$2;}{f=50/max;if(f>1)f=1;i=$2*f;r=\"\";while(i-->0)r=r\"#\";printf \"%s %s\\n\",$0,r;}'\nexit 0\n```\n\n\u306a\u304a\u6539\u3081\u3066\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u5b9f\u73fe\u65b9\u6cd5\u3092\u8abf\u3079\u3066\u307f\u308b\u3068\u3001\"[in-terminal (ASCII) histograms tool](http://stackoverflow.com/questions/6949332/in-terminal-ascii-histograms-tool)\" (Stack Overflow) \u306e\u4e2d\u3067\u3001\u4e0b\u8a18\u3082\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n * https://github.com/bitly/data_hacks\n * https://github.com/philovivero/distribution\n\n----------\n[^1]: \u305f\u3060\u3057\u3053\u306e\u8a71\u984c\u306f\u300c[CSV\u30c7\u30fc\u30bf\u306e\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u5024\uff08\u983b\u5ea6\u6570\uff09\u306e\u8a08\u7b97\uff08q\u30b3\u30de\u30f3\u30c9\u5229\u7528\uff09](http://qiita.com/kkdd/items/7df848ddeeb13bf80530)\u300d\u3068\u307b\u3068\u3093\u3069\u540c\u3058\u306a\u306e\u3067\u6050\u7e2e\u3067\u3059\u3002\n", "tags": ["UNIX", "Linux", "awk", "\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0", "\u7d71\u8a08\u5b66"]}