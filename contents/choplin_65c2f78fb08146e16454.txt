{"context": " More than 1 year has passed since last update.SerDe\u3092\u7528\u610f\u3057\u3066\u3082\u3044\u3044\u3093\u3067\u3059\u304c\u3001Hive\u306e\u6a5f\u80fd\u3067map\u306edelimiter\u3092\u6307\u5b9a\u3067\u304d\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3046\u3068LTSV\u306a\u884c\u3092map<string, string>\u3068\u3057\u3066\u8aad\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nROW FORMAT DELIMITED\n    FIELDS TERMINATED BY '\\n'\n    COLLECTION ITEMS TERMINATED BY '\\t'\n    MAP KEYS TERMINATED BY ':'\n\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u611f\u3058\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u3063\u3066\nCREATE EXTERNAL TABLE some_ltsv_table (\n    record  map<string, string>\n)\nROW FORMAT DELIMITED\n    FIELDS TERMINATED BY '\\n'\n    COLLECTION ITEMS TERMINATED BY '\\t'\n    MAP KEYS TERMINATED BY ':'\nSTORED AS TEXTFILE\nLOCATION '/path/to/ltsv/dir'\n;\n\n/path/to/ltsv/dir\u306b\u3053\u3093\u306altsv\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5165\u308c\u3066\u304a\u304f\u3068\na:1 b:2\na:3 b:4 c:5\n\nHive\u304b\u3089\u3053\u3093\u306a\u611f\u3058\u306b\u8aad\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\nSELECT\n    record\nFROM\n    some_ltsv_table\n\n--\n{\"a\":\"1\", \"b\":\"2\"}\n{\"a\":\"3\", \"b\":\"4\", \"c\":\"5\"}\n\nSELECT\n    record['a']\nFROM\n    some_ltsv_table\n\n--\n1\n3\n\n\u3053\u3093\u306a\u611f\u3058\u3002\u5927\u5909\u6357\u308a\u307e\u3059\u306d\u3002\n\nSerDe\u3092\u7528\u610f\u3057\u3066\u3082\u3044\u3044\u3093\u3067\u3059\u304c\u3001Hive\u306e\u6a5f\u80fd\u3067map\u306edelimiter\u3092\u6307\u5b9a\u3067\u304d\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3046\u3068LTSV\u306a\u884c\u3092map\\<string, string\\>\u3068\u3057\u3066\u8aad\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```\nROW FORMAT DELIMITED\n    FIELDS TERMINATED BY '\\n'\n    COLLECTION ITEMS TERMINATED BY '\\t'\n    MAP KEYS TERMINATED BY ':'\n```\n\n\u4f8b\u3048\u3070\u3053\u3093\u306a\u611f\u3058\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u3063\u3066\n\n```sql\nCREATE EXTERNAL TABLE some_ltsv_table (\n    record  map<string, string>\n)\nROW FORMAT DELIMITED\n    FIELDS TERMINATED BY '\\n'\n    COLLECTION ITEMS TERMINATED BY '\\t'\n    MAP KEYS TERMINATED BY ':'\nSTORED AS TEXTFILE\nLOCATION '/path/to/ltsv/dir'\n;\n```\n\n/path/to/ltsv/dir\u306b\u3053\u3093\u306altsv\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5165\u308c\u3066\u304a\u304f\u3068\n\n```\na:1\tb:2\na:3\tb:4\tc:5\n```\n\nHive\u304b\u3089\u3053\u3093\u306a\u611f\u3058\u306b\u8aad\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\n\n```\nSELECT\n    record\nFROM\n    some_ltsv_table\n\n--\n{\"a\":\"1\", \"b\":\"2\"}\n{\"a\":\"3\", \"b\":\"4\", \"c\":\"5\"}\n```\n\n```\nSELECT\n    record['a']\nFROM\n    some_ltsv_table\n\n--\n1\n3\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3002\u5927\u5909\u6357\u308a\u307e\u3059\u306d\u3002\n", "tags": ["LTSV", "hadoop", "hive"]}