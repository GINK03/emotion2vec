{"tags": ["Rails", "paperclip", "ffmpeg"], "context": " More than 1 year has passed since last update.Paperclip\u3068Paperclip FFMPEG\u3092\u4f7f\u3063\u3066\u5199\u771f\u3082\u52d5\u753b\u3082\u540c\u3058\u30ab\u30e9\u30e0\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3068\u30b5\u30e0\u30cd\u30a4\u30eb\u306e\u4f5c\u6210\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306e\u66f8\u304d\u65b9\u3067\u3059\u3002\nhas_attached_file \u306e styles \u3068 processors \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u66f8\u304f\u3002\nhas_attached_file :attachment,\n  styles: lambda { |file|\n    if file.instance.is_video?\n      {\n        medium:    { geometry: '240x240#', format: 'jpg', time: 0, auto_rotate: true },\n        thumbnail: { geometry: '64x64#', format: 'jpg', time: 0, auto_rotate: true },\n      }\n    else\n      { medium: '240x240#', thumbnail: '64x64#' }\n    end\n  },\n  storage: :filesystem,\n  path: \":attachment/:id/:style/:filename\",\n  processors: lambda { |file| file.is_video? ? [ :ffmpeg ] : [ :thumbnail ] }\n\ndef is_video?\n  attachment.instance.attachment_content_type =~ %r(video) ? true : false\nend\n\n\n[Paperclip](https://github.com/thoughtbot/paperclip)\u3068[Paperclip FFMPEG](https://github.com/owahab/paperclip-ffmpeg)\u3092\u4f7f\u3063\u3066\u5199\u771f\u3082\u52d5\u753b\u3082\u540c\u3058\u30ab\u30e9\u30e0\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3068\u30b5\u30e0\u30cd\u30a4\u30eb\u306e\u4f5c\u6210\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306e\u66f8\u304d\u65b9\u3067\u3059\u3002\n\n```has_attached_file``` \u306e ```styles``` \u3068 ```processors``` \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u66f8\u304f\u3002\n\n```ruby\nhas_attached_file :attachment,\n  styles: lambda { |file|\n    if file.instance.is_video?\n\t  {\n        medium:    { geometry: '240x240#', format: 'jpg', time: 0, auto_rotate: true },\n        thumbnail: { geometry: '64x64#', format: 'jpg', time: 0, auto_rotate: true },\n      }\n    else\n      { medium: '240x240#', thumbnail: '64x64#' }\n    end\n  },\n  storage: :filesystem,\n  path: \":attachment/:id/:style/:filename\",\n  processors: lambda { |file| file.is_video? ? [ :ffmpeg ] : [ :thumbnail ] }\n\ndef is_video?\n  attachment.instance.attachment_content_type =~ %r(video) ? true : false\nend\n```\n"}