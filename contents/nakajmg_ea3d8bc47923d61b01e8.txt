{"context": "Electron\u306e\u30da\u30fc\u30b8\u5185\u691c\u7d22\u306fcontents.findInpage\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u6bce\u5ea6\u540c\u3058\u3088\u3046\u306a\u51e6\u7406\u3092\u66f8\u304f\u306e\u3082\u306a\u3093\u3060\u304b\u306a\u3068\u3044\u3046\u611f\u3058\u304c\u3057\u305f\u306e\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3057\u3066\u516c\u958b\u3057\u307e\u3057\u305f\u3002\nelectron-search-text\n\n\u4f7f\u3044\u65b9\u306f\ud83d\udc47\u306e\u901a\u308a\u3002\n\nbrowser.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\">\n  <style>\n    body {\n      height: 100vh;\n      margin: 0;\n    }\n    webview {\n      height: 100%;\n    }\n    .search-box {\n      display: none;\n    }\n    .state-visible {\n      display: block;\n    }\n  </style>\n  <link rel=\"stylesheet\" href=\"./search.css\">\n</head>\n<body>\n<div class=\"search-box\">\n  <input type=\"text\" class=\"search-input\">\n  <span class=\"search-count\"></span>\n</div>\n<webview src=\"https://github.com/trending\"></webview>\n<script>\n  const {ipcRenderer} = require('electron');\n\n  const ElectronSearchText = require('electron-search-text');\n  const searcher = new ElectronSearchText({\n    target: 'webview',\n    input: '.search-input',\n    count: '.search-count',\n    box: '.search-box',\n    visibleClass: '.state-visible'\n  });\n\n  ipcRenderer.on('toggleSearch', function() {\n    searcher.emit('toggle');\n  });\n</script>\n</body>\n</html>\n\n\nrequire('electron-search-text')\u3057\u3066new\u3059\u308b\u3068\u304d\u306b\u691c\u7d22\u5bfe\u8c61\u306b\u3059\u308bwebview\u3068\u3001\u691c\u7d22\u7a93\u7528\u306eUI\u306e\u30bb\u30ec\u30af\u30bf\u3092\u6e21\u3057\u307e\u3059\u3002\nnew\u3057\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067.emit('toggle')\u3059\u308b\u3068visibleClass\u306b\u6307\u5b9a\u3057\u305f\u30af\u30e9\u30b9\u3092box\u306b\u5bfe\u3057\u3066\u30c8\u30b0\u30eb\u3057\u307e\u3059\u3002\n\u3042\u3068\u306fmain.js\u306bCmd+F\u3067\u30c8\u30b0\u30eb\u3067\u304d\u308b\u3088\u3046\u306b\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30ad\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\nmain.js\nconst {app, BrowserWindow, Menu} = require('electron');\n\napp.on('ready', () => {\n  const browserWindow = new BrowserWindow();\nbrowserWindow.loadURL(`file://${__dirname}/browser.html`);\n\nconst menuTemplate = [\n  {\n    submenu: [\n      {\n        label: 'Quit',\n        accelerator: 'Cmd+Q',\n        click() {\n          app.quit();\n        }\n      }\n    ]\n  }, {\n    label: 'Edit',\n    submenu: [\n      {\n        label: 'Search in File',\n        accelerator: 'CmdOrCtrl+F',\n        click() {\n          browserWindow.webContents.send('toggleSearch')\n        }\n      }\n    ]\n  }\n];\n\nconst menu = Menu.buildFromTemplate(menuTemplate);\nMenu.setApplicationMenu(menu);\n});\n\n\n\u304a\u3057\u307e\u3044\u3002\nElectron\u306e\u30da\u30fc\u30b8\u5185\u691c\u7d22\u306f[contents.findInpage](http://electron.atom.io/docs/api/web-contents/#contentsfindinpagetext-options)\u3092\u4f7f\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u6bce\u5ea6\u540c\u3058\u3088\u3046\u306a\u51e6\u7406\u3092\u66f8\u304f\u306e\u3082\u306a\u3093\u3060\u304b\u306a\u3068\u3044\u3046\u611f\u3058\u304c\u3057\u305f\u306e\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3057\u3066\u516c\u958b\u3057\u307e\u3057\u305f\u3002\n\n[electron-search-text](https://www.npmjs.com/package/electron-search-text)\n\n\n![2016-08-18 22_38_58.gif](https://qiita-image-store.s3.amazonaws.com/0/17969/e4bf1027-a051-4644-4292-0f96db37f1d8.gif)\n\n\u4f7f\u3044\u65b9\u306f\ud83d\udc47\u306e\u901a\u308a\u3002\n\n```browser.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\">\n  <style>\n    body {\n      height: 100vh;\n      margin: 0;\n    }\n    webview {\n      height: 100%;\n    }\n    .search-box {\n      display: none;\n    }\n    .state-visible {\n      display: block;\n    }\n  </style>\n  <link rel=\"stylesheet\" href=\"./search.css\">\n</head>\n<body>\n<div class=\"search-box\">\n  <input type=\"text\" class=\"search-input\">\n  <span class=\"search-count\"></span>\n</div>\n<webview src=\"https://github.com/trending\"></webview>\n<script>\n  const {ipcRenderer} = require('electron');\n\n  const ElectronSearchText = require('electron-search-text');\n  const searcher = new ElectronSearchText({\n    target: 'webview',\n    input: '.search-input',\n    count: '.search-count',\n    box: '.search-box',\n    visibleClass: '.state-visible'\n  });\n\n  ipcRenderer.on('toggleSearch', function() {\n    searcher.emit('toggle');\n  });\n</script>\n</body>\n</html>\n```\n\n`require('electron-search-text')`\u3057\u3066`new`\u3059\u308b\u3068\u304d\u306b\u691c\u7d22\u5bfe\u8c61\u306b\u3059\u308b`webview`\u3068\u3001\u691c\u7d22\u7a93\u7528\u306eUI\u306e\u30bb\u30ec\u30af\u30bf\u3092\u6e21\u3057\u307e\u3059\u3002\n\n`new`\u3057\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067`.emit('toggle')`\u3059\u308b\u3068`visibleClass`\u306b\u6307\u5b9a\u3057\u305f\u30af\u30e9\u30b9\u3092`box`\u306b\u5bfe\u3057\u3066\u30c8\u30b0\u30eb\u3057\u307e\u3059\u3002\n\n\u3042\u3068\u306f`main.js`\u306b`Cmd+F`\u3067\u30c8\u30b0\u30eb\u3067\u304d\u308b\u3088\u3046\u306b\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u30ad\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\n```main.js\nconst {app, BrowserWindow, Menu} = require('electron');\n\napp.on('ready', () => {\n  const browserWindow = new BrowserWindow();\nbrowserWindow.loadURL(`file://${__dirname}/browser.html`);\n\nconst menuTemplate = [\n  {\n    submenu: [\n      {\n        label: 'Quit',\n        accelerator: 'Cmd+Q',\n        click() {\n          app.quit();\n        }\n      }\n    ]\n  }, {\n    label: 'Edit',\n    submenu: [\n      {\n        label: 'Search in File',\n        accelerator: 'CmdOrCtrl+F',\n        click() {\n          browserWindow.webContents.send('toggleSearch')\n        }\n      }\n    ]\n  }\n];\n\nconst menu = Menu.buildFromTemplate(menuTemplate);\nMenu.setApplicationMenu(menu);\n});\n```\n\n\u304a\u3057\u307e\u3044\u3002\n", "tags": ["Electron", "JavaScript", "npm"]}