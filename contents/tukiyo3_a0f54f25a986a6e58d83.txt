{"context": " More than 1 year has passed since last update.ISO\u5b58\u5728\u3057\u3066\u305f\u30fb\u30fb\u30fb\nnyarla\u3055\u3093\u306e\u6210\u679c\u7269\u3092mac\u3067\u306eiso\u4f5c\u6210\u306b\u5bfe\u5fdc\u3055\u305b\u305f\u3002\n\nnyarla\u3055\u3093\u306e\u6210\u679c\u7269\n\nCoreOS\u3092VPS\u3084\u30d9\u30a2\u30e1\u30bf\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5 - Qiita\nCoreOS\u306eLive ISO\u4f5c\u308bbash script\u3092\u66f8\u304d\u307e\u3057\u305f - \u7a7a\u7e70\u518d\u7e70\nyungsang/coreos-live-iso Repository | Docker Index\n\n\n\u81ea\u5206\u304c\u52a0\u7b46\u4fee\u6b63\u3057\u305f\u3082\u306e\n\nhttps://github.com/tukiyo/coreos-live-iso\n\n\nCoreOS LiveISO\u4f5c\u308a\u65b9\n\nmac\u3067\u5b9f\u884c\n$ git clone https://github.com/tukiyo/coreos-live-iso.git\n$ cd coreos-live-iso\n$ ./makeiso.sh\n-----> Initialize working directory\n-----> CoreOS version\nCOREOS_BUILD=296\nCOREOS_BRANCH=0\nCOREOS_PATCH=0\nCOREOS_SDK_VERSION=295.1.0\n-----> Download CoreOS's kernel\n-----> Download CoreOS's initrd\n-----> Download syslinux and copy iso directory\n-----> Make isolinux.cfg file\n-----> Make syslinux.cfg file\n-----> Make ISO file\n[info] isohybrid not found. skip\n-rw-r--r--  1 Owner staff   126M  5 29 11:09 /Users/Owner/coreos-live-iso/CoreOS.master.iso\n-----> [Finish]\n-----> iso boot then `ssh core@<ip>`\n\n\n\nISO\u8d77\u52d5\u5f8c\u306e\u4f7f\u3044\u65b9\n\nrootimage\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304a\u3044\u3066\u4f7f\u3046\u65b9\u6cd5\nweb\u30b5\u30fc\u30d0\u306b\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\n\nDocumentRoot\u3092/var/www/html/\u3068\u3059\u308b\u3002\n$ mkdir /var/www/html/296.0.0/\n$ cd /var/www/html/296.0.0/\n$ wget http://storage.core-os.net/coreos/amd64-usr/296.0.0/coreos_production_image.bin.bz2\n$ wget http://storage.core-os.net/coreos/amd64-usr/296.0.0/coreos_production_image.bin.bz2.DIGESTS.asc\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u958b\u59cb\n\nISO\u304b\u3089\u8d77\u52d5\n$ sed 's@BASE_URL=\"http://storage.core-os.net/coreos/amd64-usr/${VERSION_ID}\"@BASE_URL=\"http://192.168.11.2/${VERSION_ID}\"@' /usr/bin/coreos-install > coreos-install\n$ chmod +x coreos-install\n$ sudo -s\n# ./coreos-install -d /dev/sda\n# mount /dev/sda9 /mnt\n# cp -a /home/core/.ssh/authorized_keys /mnt/root/home/core/.ssh/\n# chown 500:500 /mnt/root/home/core/.ssh/authorized_keys\n# reboot\n\n\nHDD\u304b\u3089\u8d77\u52d5\u3002\n/\u306e\u30bb\u30af\u30bf\u5272\u308a\u5f53\u3066\u30b5\u30a4\u30ba\u304c512MB\u304b\u3089DISK\u6b8b\u308a\u5168\u90e8\u306b\u62e1\u5f35\u3055\u308c\u308b\u3002\n\u3057\u304b\u3057\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8ad6\u7406\u30b5\u30a4\u30ba\u307e\u3067\u306f\u62e1\u5f35\u3055\u308c\u306a\u3044\u306e\u3067\u624b\u52d5\u3067\u884c\u3046\u3002\n\n\u518d\u5ea6ISO\u304b\u3089\u8d77\u52d5\n# mount /dev/sda9 /mnt\n# tar czf sda9.tar.gz -C /mnt root\n# umount /mnt\n# mkfs.btrfs -f -LROOT /dev/sda9\n# mount /dev/sda9 /mnt\n# btrfs subvolume create -i 256 /mnt/root\n# tar xzf sda9.tar.gz -C /mnt\n# btrfs subvolume list /mnt\nID 257 gen 7 top level 5 path root\n# reboot\n\n\n\u5f8c\u306fCoreOS\u306etimezone\u8a2d\u5b9a - Qiita\u3068\u304b\n[ISO](https://coreos.com/docs/running-coreos/platforms/iso/)\u5b58\u5728\u3057\u3066\u305f\u30fb\u30fb\u30fb\n\n\nnyarla\u3055\u3093\u306e\u6210\u679c\u7269\u3092mac\u3067\u306eiso\u4f5c\u6210\u306b\u5bfe\u5fdc\u3055\u305b\u305f\u3002\n\nnyarla\u3055\u3093\u306e\u6210\u679c\u7269\n================\n\n* [CoreOS\u3092VPS\u3084\u30d9\u30a2\u30e1\u30bf\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5 - Qiita](http://qiita.com/nyarla/items/65f0a1396332d529cd10)\n* [CoreOS\u306eLive ISO\u4f5c\u308bbash script\u3092\u66f8\u304d\u307e\u3057\u305f - \u7a7a\u7e70\u518d\u7e70](http://the.nyarla.net/post/66266272473)\n* [yungsang/coreos-live-iso Repository | Docker Index](https://index.docker.io/u/yungsang/coreos-live-iso/)\n\n\n\u81ea\u5206\u304c\u52a0\u7b46\u4fee\u6b63\u3057\u305f\u3082\u306e\n===================\n\n* https://github.com/tukiyo/coreos-live-iso\n\nCoreOS LiveISO\u4f5c\u308a\u65b9\n===================\n\n```bash:mac\u3067\u5b9f\u884c\n$ git clone https://github.com/tukiyo/coreos-live-iso.git\n$ cd coreos-live-iso\n$ ./makeiso.sh\n-----> Initialize working directory\n-----> CoreOS version\nCOREOS_BUILD=296\nCOREOS_BRANCH=0\nCOREOS_PATCH=0\nCOREOS_SDK_VERSION=295.1.0\n-----> Download CoreOS's kernel\n-----> Download CoreOS's initrd\n-----> Download syslinux and copy iso directory\n-----> Make isolinux.cfg file\n-----> Make syslinux.cfg file\n-----> Make ISO file\n[info] isohybrid not found. skip\n-rw-r--r--  1 Owner staff   126M  5 29 11:09 /Users/Owner/coreos-live-iso/CoreOS.master.iso\n-----> [Finish]\n-----> iso boot then `ssh core@<ip>`\n```\n\nISO\u8d77\u52d5\u5f8c\u306e\u4f7f\u3044\u65b9\n===============\n\n\nrootimage\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304a\u3044\u3066\u4f7f\u3046\u65b9\u6cd5\n------------------------------------\n\nweb\u30b5\u30fc\u30d0\u306b\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\n\n```bash:DocumentRoot\u3092/var/www/html/\u3068\u3059\u308b\u3002\n$ mkdir /var/www/html/296.0.0/\n$ cd /var/www/html/296.0.0/\n$ wget http://storage.core-os.net/coreos/amd64-usr/296.0.0/coreos_production_image.bin.bz2\n$ wget http://storage.core-os.net/coreos/amd64-usr/296.0.0/coreos_production_image.bin.bz2.DIGESTS.asc\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u958b\u59cb\n--------------\n\n```bash:ISO\u304b\u3089\u8d77\u52d5\n$ sed 's@BASE_URL=\"http://storage.core-os.net/coreos/amd64-usr/${VERSION_ID}\"@BASE_URL=\"http://192.168.11.2/${VERSION_ID}\"@' /usr/bin/coreos-install > coreos-install\n$ chmod +x coreos-install\n$ sudo -s\n# ./coreos-install -d /dev/sda\n# mount /dev/sda9 /mnt\n# cp -a /home/core/.ssh/authorized_keys /mnt/root/home/core/.ssh/\n# chown 500:500 /mnt/root/home/core/.ssh/authorized_keys\n# reboot\n```\n\nHDD\u304b\u3089\u8d77\u52d5\u3002\n/\u306e\u30bb\u30af\u30bf\u5272\u308a\u5f53\u3066\u30b5\u30a4\u30ba\u304c512MB\u304b\u3089DISK\u6b8b\u308a\u5168\u90e8\u306b\u62e1\u5f35\u3055\u308c\u308b\u3002\n\u3057\u304b\u3057\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u8ad6\u7406\u30b5\u30a4\u30ba\u307e\u3067\u306f\u62e1\u5f35\u3055\u308c\u306a\u3044\u306e\u3067\u624b\u52d5\u3067\u884c\u3046\u3002\n\n```bash:\u518d\u5ea6ISO\u304b\u3089\u8d77\u52d5\n# mount /dev/sda9 /mnt\n# tar czf sda9.tar.gz -C /mnt root\n# umount /mnt\n# mkfs.btrfs -f -LROOT /dev/sda9\n# mount /dev/sda9 /mnt\n# btrfs subvolume create -i 256 /mnt/root\n# tar xzf sda9.tar.gz -C /mnt\n# btrfs subvolume list /mnt\nID 257 gen 7 top level 5 path root\n# reboot\n```\n\n\n\u5f8c\u306f[CoreOS\u306etimezone\u8a2d\u5b9a - Qiita](http://qiita.com/tukiyo3/items/969af2cdbbd0d20ab0fd)\u3068\u304b\n", "tags": ["CoreOS"]}