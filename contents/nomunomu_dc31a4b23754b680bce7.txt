{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u6587\u5b57\u5217\u306b\u5909\u6570\u3092\u4ed8\u3051\u8db3\u3057\u3066NSURL\u3092\u4f5c\u6210\u3059\u308b\u3068\u304d\u306b\u624b\u3053\u305a\u3063\u305f\u306e\u3067\u5099\u5fd8\u9332\n\n\u5931\u6557\u4f8b\n// data: Dictionary<String, AnyObject>! = [:]\nself.data[\"name\"] = \"hoge\"\n// \u7701\u7565\nlet s_url = \"http://google.com/#q=\\(self.data[\"name\"]! as! String)\" // http://google.com/#q=hoge\nlet   url = NSURL(string: s_url)! // nil\n\ns_url\u3067\u306fhttp://google.com/#q=hoge\u3068\u8868\u793a\u3055\u308c\u308b\u306e\u306b\u3001url\u3067\u306fnil\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\n\n\u5bfe\u7b56\n// data: Dictionary<String, AnyObject>! = [:]\nself.data[\"name\"] = \"hoge\"\n// \u7701\u7565\nlet s_url : NSString = \"http://google.com/#q=\"\nlet  name : NSString = self.data[\"name\"]!.stringByAddingPercentEncodingWithAllowedCharacters( NSCharacterSet.URLFragmentAllowedCharacterSet() )!\nlet   url :    NSURL = NSURL(string: url as String)!\n\n\u3068\u3059\u308c\u3070print(url)\u3067http://google.com/#q=hoge\u3068\u3067\u3066\u304d\u307e\u3059\u3002\n\u3081\u3067\u305f\u3057\u3081\u3067\u305f\u3057\n\n\u6ce8\u610f\u70b9\n// data: Dictionary<String, AnyObject>! = [:]\nself.data[\"name\"] = \"hoge\"\n// \u7701\u7565\nlet url = \"http://google.com/#q=\\(self.data[\"name\"]!)\"\nurl.stringByAddingPercentEncodingWithAllowedCharacters( NSCharacterSet.URLFragmentAllowedCharacterSet() )!\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u3057\u307e\u3046\u3068print(url) // http://google.com/%23q=hoge\u3068\u306a\u3063\u3066\u3057\u307e\u3046\u3002\nNSCharacterSet.URLFragmentAllowedCharacterSet()\u3092\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066# -> %23\u3068\u7f6e\u304d\u63db\u308f\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3067\u3059\u3002\nNSCharacterSet\u306b\u306f\u8272\u3005\u306a\u8a2d\u5b9a\u5024\u304c\u3042\u308b\u306e\u3067\u81ea\u5206\u306e\u74b0\u5883\u306b\u5fdc\u3058\u3066\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n// \u5f15\u7528\u3000http://stackoverflow.com/questions/8086584/objective-c-url-encoding\nURLFragmentAllowedCharacterSet  \"#%<>[\\]^`{|}\nURLHostAllowedCharacterSet      \"#%/<>?@\\^`{|}\nURLPasswordAllowedCharacterSet  \"#%/:<>?@[\\]^`{|}\nURLPathAllowedCharacterSet      \"#%;<>?[\\]^`{|}\nURLQueryAllowedCharacterSet     \"#%<>[\\]^`{|}\nURLUserAllowedCharacterSet      \"#%/:<>?@[\\]^\n\n##\u306f\u3058\u3081\u306b\n\u6587\u5b57\u5217\u306b\u5909\u6570\u3092\u4ed8\u3051\u8db3\u3057\u3066NSURL\u3092\u4f5c\u6210\u3059\u308b\u3068\u304d\u306b\u624b\u3053\u305a\u3063\u305f\u306e\u3067\u5099\u5fd8\u9332\n\n##\u5931\u6557\u4f8b\n```swift\n// data: Dictionary<String, AnyObject>! = [:]\nself.data[\"name\"] = \"hoge\"\n// \u7701\u7565\nlet s_url = \"http://google.com/#q=\\(self.data[\"name\"]! as! String)\" // http://google.com/#q=hoge\nlet   url = NSURL(string: s_url)! // nil\n```\ns_url\u3067\u306f`http://google.com/#q=hoge`\u3068\u8868\u793a\u3055\u308c\u308b\u306e\u306b\u3001url\u3067\u306f`nil`\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\n\n##\u5bfe\u7b56\n```swift\n// data: Dictionary<String, AnyObject>! = [:]\nself.data[\"name\"] = \"hoge\"\n// \u7701\u7565\nlet s_url : NSString = \"http://google.com/#q=\"\nlet  name : NSString = self.data[\"name\"]!.stringByAddingPercentEncodingWithAllowedCharacters( NSCharacterSet.URLFragmentAllowedCharacterSet() )!\nlet   url :    NSURL = NSURL(string: url as String)!\n```\n\n\u3068\u3059\u308c\u3070`print(url)`\u3067`http://google.com/#q=hoge`\u3068\u3067\u3066\u304d\u307e\u3059\u3002\n\u3081\u3067\u305f\u3057\u3081\u3067\u305f\u3057\n\n##\u6ce8\u610f\u70b9\n\n```swift\n// data: Dictionary<String, AnyObject>! = [:]\nself.data[\"name\"] = \"hoge\"\n// \u7701\u7565\nlet url = \"http://google.com/#q=\\(self.data[\"name\"]!)\"\nurl.stringByAddingPercentEncodingWithAllowedCharacters( NSCharacterSet.URLFragmentAllowedCharacterSet() )!\n```\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3057\u3066\u3057\u307e\u3046\u3068`print(url) // http://google.com/%23q=hoge`\u3068\u306a\u3063\u3066\u3057\u307e\u3046\u3002\n`NSCharacterSet.URLFragmentAllowedCharacterSet()`\u3092\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066`# -> %23`\u3068\u7f6e\u304d\u63db\u308f\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3067\u3059\u3002\n\n`NSCharacterSet`\u306b\u306f\u8272\u3005\u306a\u8a2d\u5b9a\u5024\u304c\u3042\u308b\u306e\u3067\u81ea\u5206\u306e\u74b0\u5883\u306b\u5fdc\u3058\u3066\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```swift\n// \u5f15\u7528\u3000http://stackoverflow.com/questions/8086584/objective-c-url-encoding\nURLFragmentAllowedCharacterSet  \"#%<>[\\]^`{|}\nURLHostAllowedCharacterSet      \"#%/<>?@\\^`{|}\nURLPasswordAllowedCharacterSet  \"#%/:<>?@[\\]^`{|}\nURLPathAllowedCharacterSet      \"#%;<>?[\\]^`{|}\nURLQueryAllowedCharacterSet     \"#%<>[\\]^`{|}\nURLUserAllowedCharacterSet      \"#%/:<>?@[\\]^\n```\n", "tags": ["Swift2.0", "Swift", "iOS"]}