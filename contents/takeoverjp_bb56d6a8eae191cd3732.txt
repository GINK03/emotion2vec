{"context": "\u300c\u540c\u3058model\u3092\u53c2\u7167\u3059\u308b\u5916\u90e8\u30ad\u30fc\u3092\u3082\u3064\u300d\u3068\u306f\u3001\u4f8b\u3048\u3070\u300c\u30e6\u30fc\u30b6\u9593\u53d6\u5f15\u300d\u3068\u304b\u3002\u305d\u306e\u5834\u5408\u3001\u58f2\u308a\u624b\u3068\u8cb7\u3044\u624b\u306e\uff12\u3064\u306e\u30e6\u30fc\u30b6\u3092\u53c2\u7167\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002rails\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u5916\u90e8\u30ad\u30fc\u3092\u8868\u3059\u547d\u540d\u898f\u5247\u304c${model\u540d}_id\u3068\u6c7a\u307e\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u540c\u3058model\u3092\u53c2\u7167\u3059\u308b\u5916\u90e8\u30ad\u30fc\u304c\u305d\u306e\u307e\u307e\u3067\u306f\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3002\n\u3053\u306e\u69d8\u306a\u5834\u5408\u3001belongs_to/has_many\u306eforeign_key\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u3001\u305d\u308c\u305e\u308c\u5916\u90e8\u30ad\u30fc\u8a2d\u5b9a\u3057\u3066\u3042\u3052\u308c\u3070\u3088\u3044\u3002\n\u307e\u305a\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306amodel\u3068\u3059\u308b\u3002\n\n\n\nTransaction model\n\n\n\n\nseller_id (User model\u306e\u5916\u90e8\u30ad\u30fc)\n\n\nbuyer_id (User model\u306e\u5916\u90e8\u30ad\u30fc)\n\n\n\n\n\n\nUser model\n\n\n\n\nname\u3068\u304b\n\n\nemail\u3068\u304b\n\n\n\n\u3053\u306e\u5834\u5408\u3001model\u306ebelongs_to/has_many\u3067foreign_key\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u3002\n\u3053\u308c\u3067\u3001transaction.seller\u3067\u58f2\u308a\u624b\u306e\u60c5\u5831\u304c\u3001transaction.buyer\u3067\u8cb7\u3044\u624b\u306e\u60c5\u5831\u304c\u3001\u305d\u3057\u3066user.seller_transactions/user.buyer_transactions\u3067\u53d6\u5f15\u306e\u60c5\u5831\u304c\u53d6\u5f97\u3067\u304d\u308b\u3002\n\nmodels/transaction.rb\nbelongs_to :buyer, class_name: 'User', :foreign_key => 'buyer_id'\nbelongs_to :seller, class_name: 'User', :foreign_key => 'seller_id'\n\n\n\nmodels/user.rb\nhas_many :buyer_transactions, class_name: 'Transaction', :foreign_key => 'buyer_id'\nhas_many :seller_transactions, class_name: 'Transaction', :foreign_key => 'seller_id'\n\n\n\n\u53c2\u8003\nbelongs_to\n[Rails3] \u8907\u6570\u306e\u5916\u90e8\u30ad\u30fc\u304c\u3042\u308b\u5834\u5408\u306e\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\n\u300c\u540c\u3058model\u3092\u53c2\u7167\u3059\u308b\u5916\u90e8\u30ad\u30fc\u3092\u3082\u3064\u300d\u3068\u306f\u3001\u4f8b\u3048\u3070\u300c\u30e6\u30fc\u30b6\u9593\u53d6\u5f15\u300d\u3068\u304b\u3002\u305d\u306e\u5834\u5408\u3001\u58f2\u308a\u624b\u3068\u8cb7\u3044\u624b\u306e\uff12\u3064\u306e\u30e6\u30fc\u30b6\u3092\u53c2\u7167\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002rails\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u5916\u90e8\u30ad\u30fc\u3092\u8868\u3059\u547d\u540d\u898f\u5247\u304c`${model\u540d}_id`\u3068\u6c7a\u307e\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u540c\u3058model\u3092\u53c2\u7167\u3059\u308b\u5916\u90e8\u30ad\u30fc\u304c\u305d\u306e\u307e\u307e\u3067\u306f\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3002\n\u3053\u306e\u69d8\u306a\u5834\u5408\u3001`belongs_to`/`has_many`\u306e`foreign_key`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u3001\u305d\u308c\u305e\u308c\u5916\u90e8\u30ad\u30fc\u8a2d\u5b9a\u3057\u3066\u3042\u3052\u308c\u3070\u3088\u3044\u3002\n\u307e\u305a\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306amodel\u3068\u3059\u308b\u3002\n\n|Transaction model|\n|:--:|\n|seller_id (User model\u306e\u5916\u90e8\u30ad\u30fc)|\n|buyer_id (User model\u306e\u5916\u90e8\u30ad\u30fc)|\n\n|User model|\n|:--:|\n|name\u3068\u304b|\n|email\u3068\u304b|\n\n\u3053\u306e\u5834\u5408\u3001model\u306e`belongs_to`/`has_many`\u3067`foreign_key`\u3092\u660e\u793a\u7684\u306b\u6307\u5b9a\u3059\u308b\u3002\n\u3053\u308c\u3067\u3001`transaction.seller`\u3067\u58f2\u308a\u624b\u306e\u60c5\u5831\u304c\u3001`transaction.buyer`\u3067\u8cb7\u3044\u624b\u306e\u60c5\u5831\u304c\u3001\u305d\u3057\u3066`user.seller_transactions`/`user.buyer_transactions`\u3067\u53d6\u5f15\u306e\u60c5\u5831\u304c\u53d6\u5f97\u3067\u304d\u308b\u3002\n\n```ruby:models/transaction.rb\nbelongs_to :buyer, class_name: 'User', :foreign_key => 'buyer_id'\nbelongs_to :seller, class_name: 'User', :foreign_key => 'seller_id'\n```\n\n```ruby:models/user.rb\nhas_many :buyer_transactions, class_name: 'Transaction', :foreign_key => 'buyer_id'\nhas_many :seller_transactions, class_name: 'Transaction', :foreign_key => 'seller_id'\n```\n\n# \u53c2\u8003\n[belongs_to](http://railsdoc.com/references/belongs_to)\n[[Rails3] \u8907\u6570\u306e\u5916\u90e8\u30ad\u30fc\u304c\u3042\u308b\u5834\u5408\u306e\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3](http://blog.bitmeister.jp/?p=2739)\n", "tags": ["Rails", "Rails4", "rails3", "Database", "model"]}