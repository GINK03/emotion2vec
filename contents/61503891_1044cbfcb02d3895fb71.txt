{"context": " More than 1 year has passed since last update.\u7279\u5b9a\u306e\u65e5\u4ed8\u3088\u308a\u65b0\u3057\u3044SVN\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b\u306e\u30ea\u30d3\u30b8\u30e7\u30f3\u756a\u53f7\u4ed8\u304d\u30d0\u30fc\u30b8\u30e7\u30f3\u3002\n\n\nsvnlook youngest REPOS_PATH\u3067\u30ea\u30d3\u30b8\u30e7\u30f3\u756a\u53f7\u304c\u53d6\u308c\u308b\u3002\n\nrepos.123.svn.dump.gz\u3068\u304b\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u30c0\u30f3\u30d7\u3059\u308b\u3002\n\u65e2\u306b\u540c\u540d\u304b\u3064\u540c\u30ea\u30d3\u30b8\u30e7\u30f3\u306e\u30c0\u30f3\u30d7\u304c\u3042\u308c\u3070\u4f55\u3082\u3057\u306a\u3044\u3002\n\n\nbackup_svn.sh\nACCOUNTS=`ls -1 /srv/svn/`\nfor ACCOUNT in $ACCOUNTS; do\n    SRC=/srv/svn/$ACCOUNT\n    REV=`svnlook youngest $SRC`\n    DST=/var/backups/svn/$ACCOUNT.$REV.svn.dump.gz\n    if [ ! -e $DST ]; then\n        time svnadmin dump $SRC 2> backup_svn.log | gzip > $DST\n        echo \"backup svn from $SRC to $DST r$REV: `ls -hs $DST`\"\n    fi\ndone\n\n\n[\u7279\u5b9a\u306e\u65e5\u4ed8\u3088\u308a\u65b0\u3057\u3044SVN\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3059\u308b](http://qiita.com/drafts/c37506284cace77403df/)\u306e\u30ea\u30d3\u30b8\u30e7\u30f3\u756a\u53f7\u4ed8\u304d\u30d0\u30fc\u30b8\u30e7\u30f3\u3002\n\n- `svnlook youngest REPOS_PATH`\u3067\u30ea\u30d3\u30b8\u30e7\u30f3\u756a\u53f7\u304c\u53d6\u308c\u308b\u3002\n- `repos.123.svn.dump.gz`\u3068\u304b\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u30c0\u30f3\u30d7\u3059\u308b\u3002\n- \u65e2\u306b\u540c\u540d\u304b\u3064\u540c\u30ea\u30d3\u30b8\u30e7\u30f3\u306e\u30c0\u30f3\u30d7\u304c\u3042\u308c\u3070\u4f55\u3082\u3057\u306a\u3044\u3002\n\n```shell-session:backup_svn.sh\nACCOUNTS=`ls -1 /srv/svn/`\nfor ACCOUNT in $ACCOUNTS; do\n    SRC=/srv/svn/$ACCOUNT\n    REV=`svnlook youngest $SRC`\n    DST=/var/backups/svn/$ACCOUNT.$REV.svn.dump.gz\n    if [ ! -e $DST ]; then\n        time svnadmin dump $SRC 2> backup_svn.log | gzip > $DST\n        echo \"backup svn from $SRC to $DST r$REV: `ls -hs $DST`\"\n    fi\ndone\n```\n", "tags": ["Subversion1.5.1", "Debian5.0", "Linux2.6"]}