{"context": "\u30bf\u30a4\u30c8\u30eb\u306e\u901a\u308a\u3001Docker\u306e\u30af\u30e9\u30b9\u30bf\u74b0\u5883(Docker Swarm)\u3092GUI\u3067\u64cd\u4f5c\u3067\u304d\u308b\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3059\u3002\nGUI\u3067\u64cd\u4f5c\u3067\u304d\u308b\u3068\u4f55\u304c\u3046\u308c\u3057\u3044\u304b\u3068\u8a00\u3046\u3068\u3001\n\u3000\u30fb\u8ab0\u3067\u3082\u7c21\u5358\u306bDocker\u74b0\u5883\u304c\u4f7f\u3048\u308b\n\u3000\u30fbCUI\u3088\u308a\u3082\u60c5\u5831\u304c\u898b\u3084\u3059\u3044\n\u3000\u30fbGUI\u4e0a\u3067\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3001\u64cd\u4f5c\u5c65\u6b74\u306e\u7ba1\u7406\u304c\u3067\u304d\u308b\n\u3000\u30fb\u30b3\u30de\u30f3\u30c9\u3092\u5c11\u3005\u5fd8\u308c\u3066\u3082\u5927\u4e08\u592b\n\u3068\u3044\u3063\u305f\u5177\u5408\u306a\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306fGUI\u3067\u4f7f\u3046Docker Swarm\u306b\u3064\u3044\u3066\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nDocker Swarm\u3068\u306f\nDocker\u306e\u5404\u30ce\u30fc\u30c9\u3092\u3042\u305f\u304b\u30821\u3064\u306e\u30ce\u30fc\u30c9\u3067\u3042\u308b\u3088\u3046\u306b\u898b\u305b\u308b\u305f\u3081\u306e\u30c4\u30fc\u30eb\u3067\u3059\u3002\nDocker Swarm\u3092\u4f7f\u3046\u3053\u3068\u306b\u3088\u308a\u3001\n\u3000\u30fb \u30ea\u30bd\u30fc\u30b9\u306e\u7a7a\u304d\u306b\u5fdc\u3058\u305f\u30b3\u30f3\u30c6\u30ca\u306e\u914d\u7f6e(\u518d\u914d\u7f6e)\u3084\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\n\u3000\u30fb \u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308b\u30b3\u30f3\u30c6\u30ca(\u30b5\u30fc\u30d3\u30b9)\u306e\u5197\u9577\u5316\u3084\u8ca0\u8377\u5206\u6563\n\u3068\u3044\u3063\u305f\u3088\u3046\u306b\u3001\u500b\u3005\u306eDocker\u30b5\u30fc\u30d0\u3092\u30af\u30e9\u30b9\u30bf\u69cb\u6210\u5316\u3067\u304d\u307e\u3059\u3002\n\u8a73\u7d30\u306f\u524d\u4f5b\u3055\u3093\u306e\u4e0b\u8a18\u8cc7\u6599\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\nhttp://www.slideshare.net/zembutsu/introduction-to-docker-swarm?ref=http://blog.takanabe.tokyo/2015/11/23/1565/\n\n\u69cb\u7bc9\n\n\u6e96\u5099\u3068\u74b0\u5883\n\u4eca\u56de\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u69cb\u6210\u3067\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n\n\n\n\u30db\u30b9\u30c8\n\u5f79\u5272\nIP\u30a2\u30c9\u30ec\u30b9\nOS\n\u30e1\u30e2\u30ea\n\n\n\n\n\u30de\u30cd\u30fc\u30b8\u30e3\n\u30ce\u30fc\u30c9\u306e\u72b6\u614b\u306e\u7ba1\u7406\u3084\u30b3\u30f3\u30c6\u30ca\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u3002\u307e\u305f\u7ba1\u7406\u7528GUI\u304c\u52d5\u4f5c\u3057\u3066\u3044\u308b\u30db\u30b9\u30c8\n172.31.1.2\nCentos 7\n4GB\n\n\n\u30ce\u30fc\u30c91\n\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u3088\u308a\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30b3\u30f3\u30c6\u30ca\u3092\u7a3c\u52d5\u3055\u305b\u308b\u30db\u30b9\u30c81\n172.31.1.3\nCentos 7\n4GB\n\n\n\u30ce\u30fc\u30c92\n\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u3088\u308a\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u30b3\u30f3\u30c6\u30ca\u3092\u7a3c\u52d5\u3055\u305b\u308b\u30db\u30b9\u30c82\n172.31.1.4\nCentos 7\n4GB\n\n\n\n1\u53f0\u306e\u30de\u30cd\u30fc\u30b8\u30e3\u30b5\u30fc\u30d0\u30682\u53f0\u306e\u30ce\u30fc\u30c9\u3067\u69cb\u6210\u3057\u307e\u3059\u3002\n\u30de\u30cd\u30fc\u30b8\u30e3\u30b5\u30fc\u30d0\u306f\u4e3b\u306b\u3001\u30ce\u30fc\u30c9\u3078\u306e\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u5272\u308a\u5f53\u3066\u3084\u7a3c\u50cd\u72b6\u6cc1\u306e\u53ce\u96c6\u3001\u307e\u305f\u9069\u6642\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u3068\u3044\u3063\u305f\u30ce\u30fc\u30c9\u4e0a\u3067\u7a3c\u52d5\u3057\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u306e\u7ba1\u7406\u3092\u884c\u3044\u307e\u3059\u3002\u307e\u305f\u4eca\u56de\u306fGUI\u306e\u30c4\u30fc\u30eb\u3082\u5c0e\u5165\u3059\u308b\u305f\u3081\u3001GUI\u30c4\u30fc\u30eb\u3082\u3053\u306e\u30de\u30cd\u30fc\u30b8\u30e3\u3067\u52d5\u4f5c\u3055\u305b\u307e\u3059\u3002\n\u305d\u3057\u3066\u30ce\u30fc\u30c9\u306f\u30b3\u30f3\u30c6\u30ca\u3092\u7a3c\u52d5\u3055\u305b\u308b\u305f\u3081\u306e\u30db\u30b9\u30c8\u3068\u3057\u3066\u306e\u307f\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u307e\u305f\u4eca\u56de\u306f\u69cb\u7bc9\u3092\u7c21\u7565\u5316\u3055\u305b\u308b\u305f\u3081\u306b\u5168\u3066\u306e\u30ce\u30fc\u30c9\u306eSELinux\u3001\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092\u505c\u6b62\u3055\u305b\u3066\u884c\u3044\u307e\u3059\u3002\n\nDocker\n\u30de\u30cd\u30fc\u30b8\u30e3\u3001\u30ce\u30fc\u30c9\u306e\u5168\u3066\u306e\u30de\u30b7\u30f3\u3067Docker(Swarm)\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\nDocker\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\n$tee /etc/yum.repos.d/docker.repo <<-'EOF'\n[dockerrepo]\nname=Docker Repository\nbaseurl=https://yum.dockerproject.org/repo/main/centos/7/\nenabled=1\ngpgcheck=1\ngpgkey=https://yum.dockerproject.org/gpg\n\n\n\nDocker(Swarm\u5165\u308a)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$yum -y install docker-engine\n\n\n\nDocker\u306e\u8d77\u52d5\n$systemctl start docker\n\n\n\nDocker\u306e\u8d77\u52d5\u30c6\u30b9\u30c8\n$docker run --rm hello-world\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker Hub account:\n https://hub.docker.com\n\nFor more examples and ideas, visit:\n https://docs.docker.com/engine/userguide/\n\n\nDocker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb&\u8d77\u52d5\u30c6\u30b9\u30c8\u306f\u3053\u308c\u3060\u3051\u3067\u3059\u3002\n\nDocker Swarm\n\u30de\u30cd\u30fc\u30b8\u30e3\u3068\u30ce\u30fc\u30c9\u3067\u306f\u884c\u3046\u4f5c\u696d\u304c\u7570\u306a\u308a\u307e\u3059\u3002\n\nDockerSwarm\u306e\u521d\u671f\u5316(\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u307f)\n$docker swarm init --advertise-addr {\u30de\u30cd\u30fc\u30b8\u30e3\u306eIP}\nSwarm initialized: current node (4zrnyps29zg0y4hek7lo5z322) is now a manager.\n\nTo add a worker to this swarm, run the following command:\n\n    docker swarm join \\\n    --token SWMTKN-1-XXXXXXXXXXXXXXXX-YYYYYYYYYYYYYYY \\\n    {\u30de\u30cd\u30fc\u30b8\u30e3\u306eIP}:2377\n\nTo add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.\n\n\n\n\u30de\u30cd\u30fc\u30b8\u30e3\u3078\u30ce\u30fc\u30c9\u3092\u767b\u9332(\u30ce\u30fc\u30c9\u306e\u307f)\n$docker swarm join --token XXXXXXXXXXXXXXXX-YYYYYYYYYYYYYYY {\u30de\u30cd\u30fc\u30b8\u30e3IP\u30a2\u30c9\u30ec\u30b9}:2377\n\n\n--token XXXXXX-YYYY\u306e\u90e8\u5206\u306f1\u3064\u4e0a\u306e\u300cdocker swarm init\u300d\u3067\u4f5c\u6210\u3057\u305f\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\n\n\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ce\u30fc\u30c9\u306e\u8868\u793a(\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u307f)\n$docker node ls\nID                           HOSTNAME   STATUS  AVAILABILITY  MANAGER STATUS\n4zrnyps29zg0y4hek7lo5z322 *   manager    Ready     Active        Leader\neri0xrdkn8caxick1s3v8dneg     node1      Ready     Active        \nesz31ar22slcnjvegtur8zx31     node2      Ready     Active        \n\n\n\n\u30b5\u30fc\u30d3\u30b9\u306e\u767b\u9332(\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u307f)\n$docker create service test\n\n\n\u672c\u6765\u306f\u30b5\u30fc\u30d3\u30b9\u306e\u4f5c\u6210\u306f\u975e\u5e38\u306b\u91cd\u8981\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u30e1\u30a4\u30f3\u3067\u306f\u306a\u3044\u306e\u3067\u7701\u7565\u3057\u307e\u3059\u3002\n\nShipyard\n\nShipyard\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u307f)\n$curl -s https://shipyard-project.com/deploy | bash -s\n\n\n\nShipyard\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u30ce\u30fc\u30c9\u306e\u307f)\n$curl -sSL https://shipyard-project.com/deploy | ACTION=node DISCOVERY=etcd://{\u30de\u30cd\u30fc\u30b8\u30e3\u306eIP}:4001 bash -s\n\n\n\nShipyard\u3092\u4f7f\u3063\u3066\u307f\u308b\n\n\u753b\u9762\u306e\u8aac\u660e\n\n\u30ed\u30b0\u30a4\u30f3\u753b\u9762\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u306f admin/shipyard\n\n\n\u30b3\u30f3\u30c6\u30ca\u753b\u9762\n\n\u8d77\u52d5\u4e2d\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u95a2\u3059\u308b\u3001\u4ee5\u4e0b\u306e\u60c5\u5831\u304c\u898b\u308c\u307e\u3059\u3002\n\n\n\n\u5217\n\u8aac\u660e\n\n\n\n\nID\n\u30b3\u30f3\u30c6\u30ca\u306e\u56fa\u6709\u306eID\n\n\nName\n\u30b3\u30f3\u30c6\u30ca\u306e\u540d\u524d\u3002\u4f5c\u6210\u6642\u306b\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306b\u306f\u52dd\u624b\u306b\u540d\u524d\u304c\u3064\u3051\u3089\u308c\u308b\u3002\n\n\nImage\n\u30b3\u30f3\u30c6\u30ca\u306e\u30a4\u30e1\u30fc\u30b8\n\n\nStatus\n\u30b3\u30f3\u30c6\u30ca\u306e\u72b6\u614b\n\n\nCreated\n\u30b3\u30f3\u30c6\u30ca\u306e\u4f5c\u6210\u65e5\n\n\nActions\n\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3002\u8a73\u7d30\u8868\u793a\u3001Restart\u3001Stop\u3001\u30ed\u30b0\u306e\u8868\u793a\u7b49\u304c\u3067\u304d\u308b\n\n\n\n\n\u30a4\u30e1\u30fc\u30b8\u753b\u9762\n\n\n\n\n\u5217\n\u8aac\u660e\n\n\n\n\nName\n\u30a4\u30e1\u30fc\u30b8\u540d\n\n\nID\n\u30a4\u30e1\u30fc\u30b8\u306eID\n\n\nCreated\n\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\u65e5\n\n\nNode\n\u30a4\u30e1\u30fc\u30b8\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30ce\u30fc\u30c9\uff1f\uff1f\uff1f\n\n\nvirtual Size\n\u30a4\u30e1\u30fc\u30b8\u306e\u30b5\u30a4\u30ba\n\n\n(\u4e00\u756a\u53f3\u7aef)\n\u30bf\u30b0\u4ed8\u3051\u3068\u30a4\u30e1\u30fc\u30b8\u306e\u524a\u9664\u304c\u3067\u304d\u308b\n\n\n\n\n\u30ce\u30fc\u30c9\u753b\u9762\n\n\n\n\n\u5217\n\u8aac\u660e\n\n\n\n\nName\n\u30db\u30b9\u30c8\u540d\n\n\nAddress\n\u30db\u30b9\u30c8\u306e\u30a2\u30c9\u30ec\u30b9\n\n\nContainers\n\u30db\u30b9\u30c8\u306b\u4e57\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u6570\n\n\nReserved CPUs\n\u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u6642\u306b\u4e88\u7d04\u3055\u308c\u305fCPU\u6570\n\n\nReserved Memory\n\u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u6642\u306b\u4e88\u7d04\u3055\u308c\u305f\u30e1\u30e2\u30ea\u6570\n\n\nLabales\n\u30ab\u30fc\u30cd\u30eb\u3084OS\u306e\u60c5\u5831\uff1f\uff1f\uff1f\n\n\n\n\n\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3066\u3066\u307f\u308b\n\u4f8b\u3068\u3057\u3066\u904b\u7528\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u3042\u308bZabbix\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3066\u3066\u307f\u307e\u3059\u3002\nZabbix\u30b3\u30f3\u30c6\u30ca\u306f\n\u3000- DB(MongoDB)\n\u3000- Zabbix\u30b5\u30fc\u30d0\u672c\u4f53\n\u306e2\u3064\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u6700\u521d\u306bDB\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3066\u3066\u304b\u3089Zabbix\u30b5\u30fc\u30d0\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3066\u3001DB\u30b3\u30f3\u30c6\u30ca\u3068\u30ea\u30f3\u30af\u3055\u305b\u307e\u3059\u3002\nZabbix\u30b3\u30f3\u30c6\u30ca\u306b\u306f\nhttps://www.zabbix.org/wiki/Dockerized_Zabbix\n\u3092\u4f7f\u3044\u307e\u3059\u3002\n\nDB\u30b3\u30f3\u30c6\u30ca\n\u30b3\u30f3\u30c6\u30ca\u753b\u9762\u306e\u300cDeploy Container\u300d\u304b\u3089\u4e0b\u306e\u753b\u9762\u306b\u5165\u308a\u307e\u3059\u3002\n\n\u5165\u529b\u3059\u308b\u60c5\u5831\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\n\n\n\u540d\u524d\n\u8aac\u660e\n\u5165\u529b\u5024\n\n\n\n\nImage Name\n\u4f7f\u7528\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u306e\u540d\u524d\u3002\nzabbix-db\n\n\nEnvironment Variables - Name\n\u30b3\u30f3\u30c6\u30ca\u3078\u4e0e\u3048\u308b\u74b0\u5883\u5909\u6570\u540d\nMARIADB_PASS\u3001MARIADB_USER\n\n\nEnvironment Variables - Value\n\u30b3\u30f3\u30c6\u30ca\u3078\u4e0e\u3048\u308b\u74b0\u5883\u5909\u6570\u306e\u5024\npassword\u3001zabbix\n\n\n\n\nZabbix\u30b3\u30f3\u30c6\u30ca\n\u300cDeploy Container\u300d\u753b\u9762\u304b\u3089\u4e0b\u8a18\u3092\u305d\u308c\u305e\u308c\u5165\u529b\u3057\u307e\u3059\u3002\n\n\n\n\n\u540d\u524d\n\u8aac\u660e\n\u5165\u529b\u5024\n\n\n\n\nImage Name\n\u4f7f\u7528\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u306e\u540d\u524d\u3002\nmonitoringartist/zabbix-xxl:latest\n\n\nEnvironment Variables - Name\n\u30b3\u30f3\u30c6\u30ca\u3078\u4e0e\u3048\u308b\u74b0\u5883\u5909\u6570\u540d\nZS_DBHost\u3001ZS_DBUser\u3001ZS_DBPassword\n\n\nEnvironment Variables - Value\n\u30b3\u30f3\u30c6\u30ca\u3078\u4e0e\u3048\u308b\u74b0\u5883\u5909\u6570\u306e\u5024\nzabbix.db\u3001zabbix\u3001password\n\n\nContainer Links - Container\n\u30ea\u30f3\u30af\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u540d\n- (\u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u6642\u306b\u30b3\u30f3\u30c6\u30ca\u540d\u3092\u660e\u8a18\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u30e9\u30f3\u30c0\u30e0\u3067\u6c7a\u307e\u308b\u3002\u305d\u306e\u305f\u3081\u4f5c\u6210\u3057\u305fDB\u306e\u30b3\u30f3\u30c6\u30ca\u540d\u306b\u4e0e\u3048\u308b\u540d\u524d\u3092\u9078\u629e\u3059\u308b)\n\n\nContainer Links - Alias\n\u30ea\u30f3\u30af\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u306e\u30a8\u30a4\u30a2\u30b9\nzabbix.db\n\n\nContainer Links - Alias\n\u30b3\u30f3\u30c6\u30ca\u540d\nzabbix\n\n\nContainer Links - Alias\n\u30b3\u30f3\u30c6\u30ca\u304c\u4f7f\u7528\u3059\u308b\u5168\u3066\u306e\u30dd\u30fc\u30c8\u3092expose\u3059\u308b\nON\n\n\nContainer Links - Alias\n\u30b3\u30f3\u30c6\u30ca\u3092\u7279\u6a29\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3055\u305b\u308b\nON\n\n\n\n\nZabbix\u30b3\u30f3\u30c6\u30ca\u3078\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\nZabbix\u30b3\u30f3\u30c6\u30ca\u306f\u30dd\u30fc\u30c8\u30d5\u30a9\u30fc\u30ef\u30c7\u30a3\u30f3\u30b0\u3092\u3059\u308b\u3053\u3068\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\nZabbix\u306e\u7ba1\u7406\u753b\u9762\u306f80\u756a\u3067Listen\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u30dd\u30fc\u30c8\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306b\u306f\n172.31.0.144:32772 \u3067\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u3088\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u6b63\u5e38\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3068\u3001\u304a\u306a\u3058\u307f\u306eZabbix\u306e\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\n\u3055\u3044\u3054\u306b\n\u3053\u306e\u3088\u3046\u306a\u5177\u5408\u306bDocker Swarm\u3068Shipyard\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\n\u7c21\u5358\u306bDocker\u306e\u30af\u30e9\u30b9\u30bf\u69cb\u6210\u3092GUI\u3067\u4f7f\u3046\u305f\u3081\u306e\u74b0\u5883\u3092\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\nDocker\u306f\u3042\u307e\u308a\u3088\u304f\u5206\u304b\u3089\u306a\u3044\u3051\u3069\u3001\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u8a00\u3046\u4eba\u306f\u305c\u3072\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002\nTech-Circle Hands on Advent Calendar 2016\u306e\u6b21\u306e\u65b9\u306f@akiraabe\u3055\u3093\u3067\u3059\u3002\n\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n\u53c2\u8003\u6587\u732e\n\u30fbInstall Docker on CentOS\n\u3000https://docs.docker.com/engine/installation/linux/centos/\n\u30fbGetting started with swarm mode\n\u3000https://docs.docker.com/engine/swarm/swarm-tutorial/\n\u30fbShipyard\n\u3000https://shipyard-project.com/\n\u30fbDockerized Zabbix\n\u3000https://www.zabbix.org/wiki/Dockerized_Zabbix\n\n\u3042\u3068\u304c\u304d\nAmazon Linux\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308bDocker\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u304c1.11\u3068\u53e4\u3044\u305f\u3081\u3001\n\u4eca\u56de\u306e\u65b9\u6cd5\u306f\u4f7f\u3048\u307e\u305b\u3093\u306e\u3067\u3001\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n(\u8a18\u4e8b\u3092\u66f8\u304f\u969b\u306e\u518d\u691c\u8a3c\u6642\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u3053\u3068\u306b\u6c17\u304c\u3064\u304b\u305a\u3001\u7121\u99c4\u306b\u6642\u9593\u3092\u4f7f\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u6295\u7a3f\u304c\u9045\u308c\u307e\u3057\u305f)\n\u30bf\u30a4\u30c8\u30eb\u306e\u901a\u308a\u3001Docker\u306e\u30af\u30e9\u30b9\u30bf\u74b0\u5883(Docker Swarm)\u3092GUI\u3067\u64cd\u4f5c\u3067\u304d\u308b\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3066\u307f\u307e\u3059\u3002\nGUI\u3067\u64cd\u4f5c\u3067\u304d\u308b\u3068\u4f55\u304c\u3046\u308c\u3057\u3044\u304b\u3068\u8a00\u3046\u3068\u3001\n\u3000\u30fb\u8ab0\u3067\u3082\u7c21\u5358\u306bDocker\u74b0\u5883\u304c\u4f7f\u3048\u308b\n\u3000\u30fbCUI\u3088\u308a\u3082\u60c5\u5831\u304c\u898b\u3084\u3059\u3044\n\u3000\u30fbGUI\u4e0a\u3067\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3001\u64cd\u4f5c\u5c65\u6b74\u306e\u7ba1\u7406\u304c\u3067\u304d\u308b\n\u3000\u30fb\u30b3\u30de\u30f3\u30c9\u3092\u5c11\u3005\u5fd8\u308c\u3066\u3082\u5927\u4e08\u592b\n\u3068\u3044\u3063\u305f\u5177\u5408\u306a\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u4eca\u56de\u306fGUI\u3067\u4f7f\u3046Docker Swarm\u306b\u3064\u3044\u3066\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n# Docker Swarm\u3068\u306f\nDocker\u306e\u5404\u30ce\u30fc\u30c9\u3092\u3042\u305f\u304b\u30821\u3064\u306e\u30ce\u30fc\u30c9\u3067\u3042\u308b\u3088\u3046\u306b\u898b\u305b\u308b\u305f\u3081\u306e\u30c4\u30fc\u30eb\u3067\u3059\u3002\nDocker Swarm\u3092\u4f7f\u3046\u3053\u3068\u306b\u3088\u308a\u3001\n\u3000\u30fb \u30ea\u30bd\u30fc\u30b9\u306e\u7a7a\u304d\u306b\u5fdc\u3058\u305f\u30b3\u30f3\u30c6\u30ca\u306e\u914d\u7f6e(\u518d\u914d\u7f6e)\u3084\u30b9\u30b1\u30b8\u30e5\u30fc\u30ea\u30f3\u30b0\n\u3000\u30fb \u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308b\u30b3\u30f3\u30c6\u30ca(\u30b5\u30fc\u30d3\u30b9)\u306e\u5197\u9577\u5316\u3084\u8ca0\u8377\u5206\u6563\n\u3068\u3044\u3063\u305f\u3088\u3046\u306b\u3001\u500b\u3005\u306eDocker\u30b5\u30fc\u30d0\u3092\u30af\u30e9\u30b9\u30bf\u69cb\u6210\u5316\u3067\u304d\u307e\u3059\u3002\n\n\u8a73\u7d30\u306f\u524d\u4f5b\u3055\u3093\u306e\u4e0b\u8a18\u8cc7\u6599\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\nhttp://www.slideshare.net/zembutsu/introduction-to-docker-swarm?ref=http://blog.takanabe.tokyo/2015/11/23/1565/\n\n\n# \u69cb\u7bc9\n## \u6e96\u5099\u3068\u74b0\u5883\n\u4eca\u56de\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u69cb\u6210\u3067\u69cb\u7bc9\u3057\u307e\u3059\u3002\n![s_\u69cb\u6210.png](https://qiita-image-store.s3.amazonaws.com/0/78460/24454528-e2cf-387c-ea33-8fd1ba329087.png)\n\n|\u30db\u30b9\u30c8|\u5f79\u5272|IP\u30a2\u30c9\u30ec\u30b9|OS|\u30e1\u30e2\u30ea|\n|:-----------------:|:------------------:|:------------------:|:------------------:|:------------------:|\n|\u30de\u30cd\u30fc\u30b8\u30e3             | \u30ce\u30fc\u30c9\u306e\u72b6\u614b\u306e\u7ba1\u7406\u3084\u30b3\u30f3\u30c6\u30ca\u306e\u5272\u308a\u5f53\u3066\u3092\u884c\u3046\u3002\u307e\u305f\u7ba1\u7406\u7528GUI\u304c\u52d5\u4f5c\u3057\u3066\u3044\u308b\u30db\u30b9\u30c8 | 172.31.1.2|Centos 7|4GB|\n|\u30ce\u30fc\u30c91 | \u30de\u30cd\u30fc\u30b8\u30e3\u306b\u3088\u308a\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30b3\u30f3\u30c6\u30ca\u3092\u7a3c\u52d5\u3055\u305b\u308b\u30db\u30b9\u30c81 |172.31.1.3|Centos 7|4GB|\n|\u30ce\u30fc\u30c92  |  \u30de\u30cd\u30fc\u30b8\u30e3\u306b\u3088\u308a\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u30b3\u30f3\u30c6\u30ca\u3092\u7a3c\u52d5\u3055\u305b\u308b\u30db\u30b9\u30c82| 172.31.1.4|Centos 7|4GB|\n\n1\u53f0\u306e\u30de\u30cd\u30fc\u30b8\u30e3\u30b5\u30fc\u30d0\u30682\u53f0\u306e\u30ce\u30fc\u30c9\u3067\u69cb\u6210\u3057\u307e\u3059\u3002\n\u30de\u30cd\u30fc\u30b8\u30e3\u30b5\u30fc\u30d0\u306f\u4e3b\u306b\u3001\u30ce\u30fc\u30c9\u3078\u306e\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u5272\u308a\u5f53\u3066\u3084\u7a3c\u50cd\u72b6\u6cc1\u306e\u53ce\u96c6\u3001\u307e\u305f\u9069\u6642\u30d5\u30a7\u30a4\u30eb\u30aa\u30fc\u30d0\u3068\u3044\u3063\u305f\u30ce\u30fc\u30c9\u4e0a\u3067\u7a3c\u52d5\u3057\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u306e\u7ba1\u7406\u3092\u884c\u3044\u307e\u3059\u3002\u307e\u305f\u4eca\u56de\u306fGUI\u306e\u30c4\u30fc\u30eb\u3082\u5c0e\u5165\u3059\u308b\u305f\u3081\u3001GUI\u30c4\u30fc\u30eb\u3082\u3053\u306e\u30de\u30cd\u30fc\u30b8\u30e3\u3067\u52d5\u4f5c\u3055\u305b\u307e\u3059\u3002\n\u305d\u3057\u3066\u30ce\u30fc\u30c9\u306f\u30b3\u30f3\u30c6\u30ca\u3092\u7a3c\u52d5\u3055\u305b\u308b\u305f\u3081\u306e\u30db\u30b9\u30c8\u3068\u3057\u3066\u306e\u307f\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u4eca\u56de\u306f\u69cb\u7bc9\u3092\u7c21\u7565\u5316\u3055\u305b\u308b\u305f\u3081\u306b\u5168\u3066\u306e\u30ce\u30fc\u30c9\u306eSELinux\u3001\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092\u505c\u6b62\u3055\u305b\u3066\u884c\u3044\u307e\u3059\u3002\n\n\n## Docker\n\u30de\u30cd\u30fc\u30b8\u30e3\u3001\u30ce\u30fc\u30c9\u306e\u5168\u3066\u306e\u30de\u30b7\u30f3\u3067Docker(Swarm)\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\n```bash:Docker\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\n$tee /etc/yum.repos.d/docker.repo <<-'EOF'\n[dockerrepo]\nname=Docker Repository\nbaseurl=https://yum.dockerproject.org/repo/main/centos/7/\nenabled=1\ngpgcheck=1\ngpgkey=https://yum.dockerproject.org/gpg\n```\n\n```bash:Docker(Swarm\u5165\u308a)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$yum -y install docker-engine\n```\n\n```bash:Docker\u306e\u8d77\u52d5\n$systemctl start docker\n```\n\n```bash:Docker\u306e\u8d77\u52d5\u30c6\u30b9\u30c8\n$docker run --rm hello-world\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker Hub account:\n https://hub.docker.com\n\nFor more examples and ideas, visit:\n https://docs.docker.com/engine/userguide/\n```\nDocker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb&\u8d77\u52d5\u30c6\u30b9\u30c8\u306f\u3053\u308c\u3060\u3051\u3067\u3059\u3002\n## Docker Swarm\n\u30de\u30cd\u30fc\u30b8\u30e3\u3068\u30ce\u30fc\u30c9\u3067\u306f\u884c\u3046\u4f5c\u696d\u304c\u7570\u306a\u308a\u307e\u3059\u3002\n\n```bash:DockerSwarm\u306e\u521d\u671f\u5316(\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u307f)\n$docker swarm init --advertise-addr {\u30de\u30cd\u30fc\u30b8\u30e3\u306eIP}\nSwarm initialized: current node (4zrnyps29zg0y4hek7lo5z322) is now a manager.\n\nTo add a worker to this swarm, run the following command:\n\n    docker swarm join \\\n    --token SWMTKN-1-XXXXXXXXXXXXXXXX-YYYYYYYYYYYYYYY \\\n    {\u30de\u30cd\u30fc\u30b8\u30e3\u306eIP}:2377\n\nTo add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.\n```\n\n```bash:\u30de\u30cd\u30fc\u30b8\u30e3\u3078\u30ce\u30fc\u30c9\u3092\u767b\u9332(\u30ce\u30fc\u30c9\u306e\u307f)\n$docker swarm join --token XXXXXXXXXXXXXXXX-YYYYYYYYYYYYYYY {\u30de\u30cd\u30fc\u30b8\u30e3IP\u30a2\u30c9\u30ec\u30b9}:2377\n```\n**--token XXXXXX-YYYY\u306e\u90e8\u5206\u306f1\u3064\u4e0a\u306e\u300cdocker swarm init\u300d\u3067\u4f5c\u6210\u3057\u305f\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044**\n\n```bash:\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ce\u30fc\u30c9\u306e\u8868\u793a(\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u307f)\n$docker node ls\nID                           HOSTNAME   STATUS  AVAILABILITY  MANAGER STATUS\n4zrnyps29zg0y4hek7lo5z322 *   manager    Ready     Active        Leader\neri0xrdkn8caxick1s3v8dneg     node1      Ready     Active        \nesz31ar22slcnjvegtur8zx31     node2      Ready     Active        \n```\n```bash:\u30b5\u30fc\u30d3\u30b9\u306e\u767b\u9332(\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u307f)\n$docker create service test\n```\n\u672c\u6765\u306f\u30b5\u30fc\u30d3\u30b9\u306e\u4f5c\u6210\u306f\u975e\u5e38\u306b\u91cd\u8981\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u56de\u306f\u30e1\u30a4\u30f3\u3067\u306f\u306a\u3044\u306e\u3067\u7701\u7565\u3057\u307e\u3059\u3002\n\n## Shipyard\n```bash:Shipyard\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u307f)\n$curl -s https://shipyard-project.com/deploy | bash -s\n```\n```bash:Shipyard\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u30ce\u30fc\u30c9\u306e\u307f)\n$curl -sSL https://shipyard-project.com/deploy | ACTION=node DISCOVERY=etcd://{\u30de\u30cd\u30fc\u30b8\u30e3\u306eIP}:4001 bash -s\n```\n\n\n# Shipyard\u3092\u4f7f\u3063\u3066\u307f\u308b\n## \u753b\u9762\u306e\u8aac\u660e\n### \u30ed\u30b0\u30a4\u30f3\u753b\u9762\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u306f admin/shipyard\n![login.png](https://qiita-image-store.s3.amazonaws.com/0/78460/d0e223c8-618f-bd46-b14a-e78fc222d91a.png)\n\n### \u30b3\u30f3\u30c6\u30ca\u753b\u9762\n![\u30b3\u30f3\u30c6\u30ca.png](https://qiita-image-store.s3.amazonaws.com/0/78460/673c80ef-56ac-6823-b5b2-f1b086b4081d.png)\n\u8d77\u52d5\u4e2d\u306e\u30b3\u30f3\u30c6\u30ca\u306b\u95a2\u3059\u308b\u3001\u4ee5\u4e0b\u306e\u60c5\u5831\u304c\u898b\u308c\u307e\u3059\u3002\n\n|\u5217|\u8aac\u660e| \n|:-----------------:|:------------------:|\n| ID             | \u30b3\u30f3\u30c6\u30ca\u306e\u56fa\u6709\u306eID |\n| Name           | \u30b3\u30f3\u30c6\u30ca\u306e\u540d\u524d\u3002\u4f5c\u6210\u6642\u306b\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306b\u306f\u52dd\u624b\u306b\u540d\u524d\u304c\u3064\u3051\u3089\u308c\u308b\u3002 |\n| Image             |  \u30b3\u30f3\u30c6\u30ca\u306e\u30a4\u30e1\u30fc\u30b8| \n| Status               |   \u30b3\u30f3\u30c6\u30ca\u306e\u72b6\u614b |\n| Created             |  \u30b3\u30f3\u30c6\u30ca\u306e\u4f5c\u6210\u65e5| \n| Actions          | \u30b3\u30f3\u30c6\u30ca\u3078\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3002\u8a73\u7d30\u8868\u793a\u3001Restart\u3001Stop\u3001\u30ed\u30b0\u306e\u8868\u793a\u7b49\u304c\u3067\u304d\u308b|\n\n### \u30a4\u30e1\u30fc\u30b8\u753b\u9762\n![images.png](https://qiita-image-store.s3.amazonaws.com/0/78460/c7357498-ecfa-22af-e6f8-f832861a7675.png)\n\n|\u5217|\u8aac\u660e| \n|:-----------------:|:------------------:|\n| Name           | \u30a4\u30e1\u30fc\u30b8\u540d |\n| ID             | \u30a4\u30e1\u30fc\u30b8\u306eID |\n| Created             |  \u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\u65e5| \n| Node             |  \u30a4\u30e1\u30fc\u30b8\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30ce\u30fc\u30c9\uff1f\uff1f\uff1f| \n| virtual Size          | \u30a4\u30e1\u30fc\u30b8\u306e\u30b5\u30a4\u30ba|\n| (\u4e00\u756a\u53f3\u7aef)          | \u30bf\u30b0\u4ed8\u3051\u3068\u30a4\u30e1\u30fc\u30b8\u306e\u524a\u9664\u304c\u3067\u304d\u308b|\n\n### \u30ce\u30fc\u30c9\u753b\u9762\n![node.png](https://qiita-image-store.s3.amazonaws.com/0/78460/a3b368a1-6a2a-3ea5-9afc-e35da0929507.png)\n\n|\u5217|\u8aac\u660e| \n|:-----------------:|:------------------:|\n| Name           | \u30db\u30b9\u30c8\u540d |\n| Address             | \u30db\u30b9\u30c8\u306e\u30a2\u30c9\u30ec\u30b9 |\n| Containers             |  \u30db\u30b9\u30c8\u306b\u4e57\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u6570| \n| Reserved CPUs             |  \u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u6642\u306b\u4e88\u7d04\u3055\u308c\u305fCPU\u6570| \n| Reserved Memory             |  \u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u6642\u306b\u4e88\u7d04\u3055\u308c\u305f\u30e1\u30e2\u30ea\u6570| \n| Labales          | \u30ab\u30fc\u30cd\u30eb\u3084OS\u306e\u60c5\u5831\uff1f\uff1f\uff1f|\n\n## \u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3066\u3066\u307f\u308b\n\u4f8b\u3068\u3057\u3066\u904b\u7528\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u3042\u308bZabbix\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3066\u3066\u307f\u307e\u3059\u3002\nZabbix\u30b3\u30f3\u30c6\u30ca\u306f\n\u3000- DB(MongoDB)\n\u3000- Zabbix\u30b5\u30fc\u30d0\u672c\u4f53\n\u306e2\u3064\u3067\u69cb\u6210\u3055\u308c\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u6700\u521d\u306bDB\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3066\u3066\u304b\u3089Zabbix\u30b5\u30fc\u30d0\u30b3\u30f3\u30c6\u30ca\u3092\u7acb\u3066\u3001DB\u30b3\u30f3\u30c6\u30ca\u3068\u30ea\u30f3\u30af\u3055\u305b\u307e\u3059\u3002\n\nZabbix\u30b3\u30f3\u30c6\u30ca\u306b\u306f\nhttps://www.zabbix.org/wiki/Dockerized_Zabbix\n\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n### DB\u30b3\u30f3\u30c6\u30ca\n\u30b3\u30f3\u30c6\u30ca\u753b\u9762\u306e\u300cDeploy Container\u300d\u304b\u3089\u4e0b\u306e\u753b\u9762\u306b\u5165\u308a\u307e\u3059\u3002\n![zabbix.png](https://qiita-image-store.s3.amazonaws.com/0/78460/e787455d-f66c-a724-d914-18bf1509b507.png)\n\u5165\u529b\u3059\u308b\u60c5\u5831\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\n|\u540d\u524d|\u8aac\u660e|\u5165\u529b\u5024| \n|:-----------------:|:------------------:|:------------------:|\n| Image Name           | \u4f7f\u7528\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u306e\u540d\u524d\u3002 | zabbix-db|\n| Environment Variables - Name             | \u30b3\u30f3\u30c6\u30ca\u3078\u4e0e\u3048\u308b\u74b0\u5883\u5909\u6570\u540d |MARIADB_PASS\u3001MARIADB_USER|\n| Environment Variables - Value             |  \u30b3\u30f3\u30c6\u30ca\u3078\u4e0e\u3048\u308b\u74b0\u5883\u5909\u6570\u306e\u5024| password\u3001zabbix|\n\n### Zabbix\u30b3\u30f3\u30c6\u30ca\n\u300cDeploy Container\u300d\u753b\u9762\u304b\u3089\u4e0b\u8a18\u3092\u305d\u308c\u305e\u308c\u5165\u529b\u3057\u307e\u3059\u3002\n![zabbix2.png](https://qiita-image-store.s3.amazonaws.com/0/78460/be189d60-a4ce-9b75-a85f-1179abf0e2bd.png)\n\n|\u540d\u524d|\u8aac\u660e|\u5165\u529b\u5024| \n|:-----------------:|:------------------:|:------------------:|\n| Image Name           | \u4f7f\u7528\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u306e\u540d\u524d\u3002 | monitoringartist/zabbix-xxl:latest|\n| Environment Variables - Name             | \u30b3\u30f3\u30c6\u30ca\u3078\u4e0e\u3048\u308b\u74b0\u5883\u5909\u6570\u540d |ZS_DBHost\u3001ZS_DBUser\u3001ZS_DBPassword|\n| Environment Variables - Value             |  \u30b3\u30f3\u30c6\u30ca\u3078\u4e0e\u3048\u308b\u74b0\u5883\u5909\u6570\u306e\u5024| zabbix.db\u3001zabbix\u3001password|\n| Container Links - Container           | \u30ea\u30f3\u30af\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u540d | - (\u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\u6642\u306b\u30b3\u30f3\u30c6\u30ca\u540d\u3092\u660e\u8a18\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u30e9\u30f3\u30c0\u30e0\u3067\u6c7a\u307e\u308b\u3002\u305d\u306e\u305f\u3081\u4f5c\u6210\u3057\u305fDB\u306e\u30b3\u30f3\u30c6\u30ca\u540d\u306b\u4e0e\u3048\u308b\u540d\u524d\u3092\u9078\u629e\u3059\u308b)|\n| Container Links - Alias           | \u30ea\u30f3\u30af\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u306e\u30a8\u30a4\u30a2\u30b9 | zabbix.db|\n| Container Links - Alias           | \u30b3\u30f3\u30c6\u30ca\u540d | zabbix|\n| Container Links - Alias           |\u30b3\u30f3\u30c6\u30ca\u304c\u4f7f\u7528\u3059\u308b\u5168\u3066\u306e\u30dd\u30fc\u30c8\u3092expose\u3059\u308b | ON|\n| Container Links - Alias           | \u30b3\u30f3\u30c6\u30ca\u3092\u7279\u6a29\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3055\u305b\u308b | ON|\n\n\n## Zabbix\u30b3\u30f3\u30c6\u30ca\u3078\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u308b\nZabbix\u30b3\u30f3\u30c6\u30ca\u306f\u30dd\u30fc\u30c8\u30d5\u30a9\u30fc\u30ef\u30c7\u30a3\u30f3\u30b0\u3092\u3059\u308b\u3053\u3068\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\nZabbix\u306e\u7ba1\u7406\u753b\u9762\u306f80\u756a\u3067Listen\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u30dd\u30fc\u30c8\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306b\u306f\n172.31.0.144:32772 \u3067\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u3088\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n![zabbix2-2.png](https://qiita-image-store.s3.amazonaws.com/0/78460/feb7f09e-22dd-e9a6-ee5a-2767f8a8e33f.png)\n\n\u305d\u3057\u3066\u6b63\u5e38\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3068\u3001\u304a\u306a\u3058\u307f\u306eZabbix\u306e\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n![zabbix3.png](https://qiita-image-store.s3.amazonaws.com/0/78460/5e6f8d5c-700e-d8e6-6230-d509d9339d5e.png)\n\n# \u3055\u3044\u3054\u306b\n\u3053\u306e\u3088\u3046\u306a\u5177\u5408\u306bDocker Swarm\u3068Shipyard\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\n\u7c21\u5358\u306bDocker\u306e\u30af\u30e9\u30b9\u30bf\u69cb\u6210\u3092GUI\u3067\u4f7f\u3046\u305f\u3081\u306e\u74b0\u5883\u3092\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\nDocker\u306f\u3042\u307e\u308a\u3088\u304f\u5206\u304b\u3089\u306a\u3044\u3051\u3069\u3001\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u8a00\u3046\u4eba\u306f\u305c\u3072\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002\n\nTech-Circle Hands on Advent Calendar 2016\u306e\u6b21\u306e\u65b9\u306f@akiraabe\u3055\u3093\u3067\u3059\u3002\n\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n#\u53c2\u8003\u6587\u732e\n\u30fbInstall Docker on CentOS\n\u3000https://docs.docker.com/engine/installation/linux/centos/\n\u30fbGetting started with swarm mode\n\u3000https://docs.docker.com/engine/swarm/swarm-tutorial/\n\u30fbShipyard\n\u3000https://shipyard-project.com/\n\u30fbDockerized Zabbix\n\u3000https://www.zabbix.org/wiki/Dockerized_Zabbix\n\n#\u3042\u3068\u304c\u304d\nAmazon Linux\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308bDocker\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u304c1.11\u3068\u53e4\u3044\u305f\u3081\u3001\n\u4eca\u56de\u306e\u65b9\u6cd5\u306f\u4f7f\u3048\u307e\u305b\u3093\u306e\u3067\u3001\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n~~(\u8a18\u4e8b\u3092\u66f8\u304f\u969b\u306e\u518d\u691c\u8a3c\u6642\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u3044\u3053\u3068\u306b\u6c17\u304c\u3064\u304b\u305a\u3001\u7121\u99c4\u306b\u6642\u9593\u3092\u4f7f\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u6295\u7a3f\u304c\u9045\u308c\u307e\u3057\u305f)~~\n", "tags": ["docker", "docker-swarm", "Shipyard", "techcircle"]}