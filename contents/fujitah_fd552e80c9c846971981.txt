{"context": "\n\n\u6982\u8981\nNode-RED\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fMac/\u30e9\u30ba\u30d1\u30a4\u306bMySQL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001Node-RED\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3002Node-RED\u4e0a\u3067Web API\u3092\u8ffd\u52a0\u3057\u3001Web API\u7d4c\u7531\u3067MySQL\u306e\u30c7\u30fc\u30bf\u306e\u767b\u9332\u3001\u4fee\u6b63\u3001\u4e00\u89a7\u3001\u524a\u9664\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n( Node-RED version: v0.15.2, Node.js  version: v6.9.1)\n\nMySQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nInstall(Mac)\nMySQL\u3092\u3053\u3053\u304b\u3089download\u3059\u308b\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u6642\u306bPop Up Window\u3067root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u30e1\u30e2\u3059\u308b\u3053\u3068\u3002\n\u307e\u305aMySQL\u306eroot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u3002root\u3067\u30ed\u30b0\u30a4\u30f3\u3002\n\n> mysql -u root -p\nmysql> update mysql.user set password=password(\u2018new-password\u2019) where user = \u2018root\u2019;\n\n\u300cnew-password\u300d\u306b\u306f\u65b0\u898f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b\u3002\n\nmysql> flush privileges;\nmysql> exit;\n\n\u3053\u308c\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5909\u66f4\u3055\u308c\u305f\u306f\u305a\u3002\u3082\u3046\u4e00\u5ea6MySQL\u3092\u8d77\u52d5\u3055\u305b\u308b\u3002\n\n> mysql -u root -p\n\n\nInstall(\u30e9\u30ba\u30d1\u30a4)\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066MySQL\u3092\u5b9f\u884c\u3059\u308b\n\nsudo apt-get install mysql-server\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u306broot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089MySQL\u3092\u8d77\u52d5\u3059\u308b\u3002\n\n> mysql -u root -p\n\n\nSample Data Base \u306e\u4f5c\u6210\nDatabase\u540d\u306f nodered, Table\u540d\u306f users, Field\u306f id\u3068name\u3001\u4e2d\u8eab\u306f\u307e\u3060empty\u3002\n\nmysql> CREATE DATABASE nodered;\nmysql> CREATE TABLE nodered.users(id INT AUTO_INCREMENT, name TEXT, PRIMARY KEY (id));\n\n\n\u78ba\u8a8d\n\nmysql> show databases;\nmysql> show tables from nodered;\nmysql> show columns from nodered.users;\nmysql> SELECT * FROM nodered.users;\nmysql> quit\n\n\nNode-RED\u7528\u306eMySQL\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n> cd ~/.node-red\n> npm install node-red-node-mysql\n\n\nNode-RED\u3067Flow\u306e\u4f5c\u6210\nNode-RED\u306e\u8d77\u52d5\n\n> node-red\n\n\u30d6\u30e9\u30a6\u30b6\u30fc\u3067Node-RED\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\u901a\u5e38\u306fNode-RED\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30de\u30b7\u30f3\u306eIP\u30a2\u30c9\u30ec\u30b9\u306e\u5f8c\u306b\u30dd\u30fc\u30c8\u756a\u53f7\u300c:1880\u300d\u3092\u8ffd\u52a0\u3059\u308c\u3070\u3044\u3044\u3002\nHTTP In\u306enode\u304c\u3001GET\u306e\u307fhttp\u306eparameter\u3092msg.payload\u306b\u6e21\u3055\u308c\u308b\u3002POST, PUT, DELETE\u306fparameter\u304cpayload\u306b\u6e21\u3055\u308c\u3066\u3044\u306a\u3044\u3002\u305d\u3053\u3067GET\u3060\u3051\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3059\u308b\u3002\u5168\u4f53\u306eFlow\u306f\u3053\u306e\u3068\u304a\u308a\u3002\n\n\nFLOW\n[{\"id\":\"4d711695.014988\",\"type\":\"mysql\",\"z\":\"9557410.c02df4\",\"mydb\":\"e419b3e1.91fd98\",\"name\":\"\",\"x\":665.5,\"y\":218,\"wires\":[[\"9bef1fa3.6885e\"]]},{\"id\":\"353a3347.8414f4\",\"type\":\"function\",\"z\":\"9557410.c02df4\",\"name\":\"Generate SQL\",\"func\":\"name = msg.payload.name;\\nmsg.topic = \\\"insert into users(name) values('\\\" + name + \\\"');\\\";\\nconsole.log(msg.topic);\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":411,\"y\":179,\"wires\":[[\"4d711695.014988\",\"da82a62f.baabe8\"]]},{\"id\":\"da82a62f.baabe8\",\"type\":\"debug\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"topic\",\"x\":684,\"y\":342,\"wires\":[]},{\"id\":\"9bef1fa3.6885e\",\"type\":\"http response\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"x\":870,\"y\":218,\"wires\":[]},{\"id\":\"6e4e8d39.4a5d2c\",\"type\":\"debug\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":404.5,\"y\":118,\"wires\":[]},{\"id\":\"b03d33e7.e3a2a\",\"type\":\"http in\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"url\":\"/users/create\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":135,\"y\":174,\"wires\":[[\"353a3347.8414f4\",\"6e4e8d39.4a5d2c\"]]},{\"id\":\"17cf6ea7.1d5511\",\"type\":\"http in\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"url\":\"/users/list\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":131,\"y\":255,\"wires\":[[\"5b1d6ae0.38dc4c\",\"6e4e8d39.4a5d2c\"]]},{\"id\":\"b35bad96.1e1ad\",\"type\":\"http in\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"url\":\"/users/update\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":139,\"y\":319,\"wires\":[[\"7466d948.417ec\",\"6e4e8d39.4a5d2c\"]]},{\"id\":\"19c41370.d3647d\",\"type\":\"http in\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"url\":\"/users/delete\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":135,\"y\":389,\"wires\":[[\"58f26120.3dc0f8\",\"6e4e8d39.4a5d2c\"]]},{\"id\":\"5b1d6ae0.38dc4c\",\"type\":\"function\",\"z\":\"9557410.c02df4\",\"name\":\"Generate SQL\",\"func\":\"msg.topic = \\\"SELECT * FROM users;\\\"\\nconsole.log(msg.topic);\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":416,\"y\":243,\"wires\":[[\"4d711695.014988\",\"da82a62f.baabe8\"]]},{\"id\":\"7466d948.417ec\",\"type\":\"function\",\"z\":\"9557410.c02df4\",\"name\":\"Generate SQL\",\"func\":\"id = msg.payload.userid;\\nname = msg.payload.name;\\nmsg.topic = \\\"UPDATE users SET name='\\\" + name + \\\"' WHERE id=\\\" + id + \\\";\\\";\\nconsole.log(msg.topic);\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":418,\"y\":305,\"wires\":[[\"4d711695.014988\",\"da82a62f.baabe8\"]]},{\"id\":\"58f26120.3dc0f8\",\"type\":\"function\",\"z\":\"9557410.c02df4\",\"name\":\"Generate SQL\",\"func\":\"id = msg.payload.userid;\\nmsg.topic = \\\"DELETE FROM users WHERE id=\\\" + id + \\\";\\\";\\nconsole.log(msg.topic);\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":419,\"y\":379,\"wires\":[[\"4d711695.014988\",\"da82a62f.baabe8\"]]},{\"id\":\"9411b9bd.740b4\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"create?name=hoge\",\"info\":\"\",\"x\":137.5,\"y\":128,\"wires\":[]},{\"id\":\"39569335.7e529c\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"list\",\"info\":\"\",\"x\":99,\"y\":217,\"wires\":[]},{\"id\":\"446a8829.270688\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"update?userid=63&name=hoge\",\"info\":\"\",\"x\":177.5,\"y\":286,\"wires\":[]},{\"id\":\"67897e4e.b78a5\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"delete?userid=30\",\"info\":\"\",\"x\":124.5,\"y\":356,\"wires\":[]},{\"id\":\"3dfad8ce.195848\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"MySQL DB\",\"info\":\"```MySQL\\nmysql> CREATE DATABASE nodered;\\nmysql> CREATE TABLE nodered.users(id INT AUTO_INCREMENT, name TEXT, PRIMARY KEY (id));\\n```\",\"x\":661.5,\"y\":177,\"wires\":[]},{\"id\":\"2f36c5b1.921162\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"Tutorial of MySQL: 2016.12.02\",\"info\":\"\",\"x\":159.5,\"y\":74,\"wires\":[]},{\"id\":\"e419b3e1.91fd98\",\"type\":\"MySQLdatabase\",\"z\":\"\",\"host\":\"127.0.0.1\",\"port\":\"3306\",\"db\":\"nodered\",\"tz\":\"\"}]\n\n\nmysql node\u306e\u8a2d\u5b9a\u306f\u3053\u306e\u901a\u308a\u3002\n\n\u5404function\u306fHTTP In node\u304b\u3089\u53d7\u3051\u53d6\u3063\u305fparameter\u3092\u4f7f\u3063\u3066SQL\u6587\u3092\u4f5c\u6210\u3059\u308b\u3002JavaScript\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\nCreate\nname = msg.payload.name;\nmsg.topic = \"insert into users(name) values('\" + name + \"');\";\nconsole.log(msg.topic);\nreturn msg;\n\n\n\nList\nmsg.topic = \"SELECT * FROM users;\"\nconsole.log(msg.topic);\nreturn msg;\n\n\n\nUpdate\nid = msg.payload.userid;\nname = msg.payload.name;\nmsg.topic = \"UPDATE users SET name='\" + name + \"' WHERE id=\" + id + \";\";\nconsole.log(msg.topic);\nreturn msg;\n\n\n\nDelete\nid = msg.payload.userid;\nmsg.topic = \"DELETE FROM users WHERE id=\" + id + \";\";\nconsole.log(msg.topic);\nreturn msg;\n\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u52d5\u4f5c\u78ba\u8a8d\u306fChrome Application\u306ePOSTMAN\u3092\u4f7f\u3046\u3002\n\u307e\u305a\u306f\u3044\u304f\u3064\u304b\u30ec\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3059\u308b\u3002\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092GET\u3067\u9001\u4fe1\u3059\u308b\u3002name\u306e\u53f3\u5074\u306e\u300cMySQL1\u300d\u306f\u9806\u6b21\u5909\u66f4\u3059\u308b\n\nhttp://localhost:1880/users/create?name=MySQL1\n\n\u30ec\u30b3\u30fc\u30c9\u306e\u78ba\u8a8d\u306f\u3053\u3061\u3089\u3092GET\u3067\u9001\u4fe1\u3002\n\nhttp://localhost:1880/users/list\n\n\u30ec\u30b3\u30fc\u30c9\u306e\u4fee\u6b63\u306fuserid\u3068name\u3092parameter\u3067\u6307\u5b9a\u3057\u3066GET\u3067\u9001\u4fe1\n\nhttp://localhost:1880/users/update?userid=63&name=hoge\n\n\u30ec\u30b3\u30fc\u30c9\u306e\u524a\u9664\u306fuserid\u3092\u6307\u5b9a\u3057\u3066GET\u3067\u9001\u4fe1\n\nhttp://localhost:1880/users/delete?userid=65\n\n\n###\u6982\u8981\nNode-RED\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fMac/\u30e9\u30ba\u30d1\u30a4\u306bMySQL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001Node-RED\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3002Node-RED\u4e0a\u3067Web API\u3092\u8ffd\u52a0\u3057\u3001Web API\u7d4c\u7531\u3067MySQL\u306e\u30c7\u30fc\u30bf\u306e\u767b\u9332\u3001\u4fee\u6b63\u3001\u4e00\u89a7\u3001\u524a\u9664\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3002\n( Node-RED version: v0.15.2, Node.js  version: v6.9.1)\n\n###MySQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n####Install(Mac)\nMySQL\u3092[\u3053\u3053\u304b\u3089](http://dev.mysql.com/downloads/mysql/)download\u3059\u308b\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u6642\u306bPop Up Window\u3067root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u30e1\u30e2\u3059\u308b\u3053\u3068\u3002\n\u307e\u305aMySQL\u306eroot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u3002root\u3067\u30ed\u30b0\u30a4\u30f3\u3002\n> \\> mysql -u root -p\n> mysql> update mysql.user set password=password(\u2018new-password\u2019) where user = \u2018root\u2019;\n\n\u300cnew-password\u300d\u306b\u306f\u65b0\u898f\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b\u3002\n> mysql> flush privileges;\n> mysql> exit;\n\n\u3053\u308c\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5909\u66f4\u3055\u308c\u305f\u306f\u305a\u3002\u3082\u3046\u4e00\u5ea6MySQL\u3092\u8d77\u52d5\u3055\u305b\u308b\u3002\n> \\> mysql -u root -p\n\n####Install(\u30e9\u30ba\u30d1\u30a4)\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066MySQL\u3092\u5b9f\u884c\u3059\u308b\n\n> sudo apt-get install mysql-server\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u306broot\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3059\u308b\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u3057\u305f\u3089MySQL\u3092\u8d77\u52d5\u3059\u308b\u3002\n\n> \\> mysql -u root -p\n\n####Sample Data Base \u306e\u4f5c\u6210\nDatabase\u540d\u306f nodered, Table\u540d\u306f users, Field\u306f id\u3068name\u3001\u4e2d\u8eab\u306f\u307e\u3060empty\u3002\n> mysql> CREATE DATABASE nodered;\n> mysql> CREATE TABLE nodered.users(id INT AUTO_INCREMENT, name TEXT, PRIMARY KEY (id));\n\n####\u78ba\u8a8d\n> mysql> show databases;\n> mysql> show tables from nodered;\n> mysql> show columns from nodered.users;\n> mysql> SELECT * FROM nodered.users;\n> mysql> quit\n\n###Node-RED\u7528\u306eMySQL\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n> \\> cd ~/.node-red\n> \\> npm install node-red-node-mysql\n\n\n###Node-RED\u3067Flow\u306e\u4f5c\u6210\nNode-RED\u306e\u8d77\u52d5\n> \\> node-red\n\n\u30d6\u30e9\u30a6\u30b6\u30fc\u3067Node-RED\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\u901a\u5e38\u306fNode-RED\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30de\u30b7\u30f3\u306eIP\u30a2\u30c9\u30ec\u30b9\u306e\u5f8c\u306b\u30dd\u30fc\u30c8\u756a\u53f7\u300c:1880\u300d\u3092\u8ffd\u52a0\u3059\u308c\u3070\u3044\u3044\u3002\n\nHTTP In\u306enode\u304c\u3001GET\u306e\u307fhttp\u306eparameter\u3092msg.payload\u306b\u6e21\u3055\u308c\u308b\u3002POST, PUT, DELETE\u306fparameter\u304cpayload\u306b\u6e21\u3055\u308c\u3066\u3044\u306a\u3044\u3002\u305d\u3053\u3067GET\u3060\u3051\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3059\u308b\u3002\u5168\u4f53\u306eFlow\u306f\u3053\u306e\u3068\u304a\u308a\u3002\n\n![\u5168\u4f53Flow_20161205.png](https://qiita-image-store.s3.amazonaws.com/0/73141/9ccb8d46-4633-70b4-178c-0ad7906de7ab.png \"\u5168\u4f53Flow_20161205.png\")\n\n```JSON:FLOW\n[{\"id\":\"4d711695.014988\",\"type\":\"mysql\",\"z\":\"9557410.c02df4\",\"mydb\":\"e419b3e1.91fd98\",\"name\":\"\",\"x\":665.5,\"y\":218,\"wires\":[[\"9bef1fa3.6885e\"]]},{\"id\":\"353a3347.8414f4\",\"type\":\"function\",\"z\":\"9557410.c02df4\",\"name\":\"Generate SQL\",\"func\":\"name = msg.payload.name;\\nmsg.topic = \\\"insert into users(name) values('\\\" + name + \\\"');\\\";\\nconsole.log(msg.topic);\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":411,\"y\":179,\"wires\":[[\"4d711695.014988\",\"da82a62f.baabe8\"]]},{\"id\":\"da82a62f.baabe8\",\"type\":\"debug\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"topic\",\"x\":684,\"y\":342,\"wires\":[]},{\"id\":\"9bef1fa3.6885e\",\"type\":\"http response\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"x\":870,\"y\":218,\"wires\":[]},{\"id\":\"6e4e8d39.4a5d2c\",\"type\":\"debug\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":404.5,\"y\":118,\"wires\":[]},{\"id\":\"b03d33e7.e3a2a\",\"type\":\"http in\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"url\":\"/users/create\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":135,\"y\":174,\"wires\":[[\"353a3347.8414f4\",\"6e4e8d39.4a5d2c\"]]},{\"id\":\"17cf6ea7.1d5511\",\"type\":\"http in\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"url\":\"/users/list\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":131,\"y\":255,\"wires\":[[\"5b1d6ae0.38dc4c\",\"6e4e8d39.4a5d2c\"]]},{\"id\":\"b35bad96.1e1ad\",\"type\":\"http in\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"url\":\"/users/update\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":139,\"y\":319,\"wires\":[[\"7466d948.417ec\",\"6e4e8d39.4a5d2c\"]]},{\"id\":\"19c41370.d3647d\",\"type\":\"http in\",\"z\":\"9557410.c02df4\",\"name\":\"\",\"url\":\"/users/delete\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":135,\"y\":389,\"wires\":[[\"58f26120.3dc0f8\",\"6e4e8d39.4a5d2c\"]]},{\"id\":\"5b1d6ae0.38dc4c\",\"type\":\"function\",\"z\":\"9557410.c02df4\",\"name\":\"Generate SQL\",\"func\":\"msg.topic = \\\"SELECT * FROM users;\\\"\\nconsole.log(msg.topic);\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":416,\"y\":243,\"wires\":[[\"4d711695.014988\",\"da82a62f.baabe8\"]]},{\"id\":\"7466d948.417ec\",\"type\":\"function\",\"z\":\"9557410.c02df4\",\"name\":\"Generate SQL\",\"func\":\"id = msg.payload.userid;\\nname = msg.payload.name;\\nmsg.topic = \\\"UPDATE users SET name='\\\" + name + \\\"' WHERE id=\\\" + id + \\\";\\\";\\nconsole.log(msg.topic);\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":418,\"y\":305,\"wires\":[[\"4d711695.014988\",\"da82a62f.baabe8\"]]},{\"id\":\"58f26120.3dc0f8\",\"type\":\"function\",\"z\":\"9557410.c02df4\",\"name\":\"Generate SQL\",\"func\":\"id = msg.payload.userid;\\nmsg.topic = \\\"DELETE FROM users WHERE id=\\\" + id + \\\";\\\";\\nconsole.log(msg.topic);\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":419,\"y\":379,\"wires\":[[\"4d711695.014988\",\"da82a62f.baabe8\"]]},{\"id\":\"9411b9bd.740b4\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"create?name=hoge\",\"info\":\"\",\"x\":137.5,\"y\":128,\"wires\":[]},{\"id\":\"39569335.7e529c\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"list\",\"info\":\"\",\"x\":99,\"y\":217,\"wires\":[]},{\"id\":\"446a8829.270688\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"update?userid=63&name=hoge\",\"info\":\"\",\"x\":177.5,\"y\":286,\"wires\":[]},{\"id\":\"67897e4e.b78a5\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"delete?userid=30\",\"info\":\"\",\"x\":124.5,\"y\":356,\"wires\":[]},{\"id\":\"3dfad8ce.195848\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"MySQL DB\",\"info\":\"```MySQL\\nmysql> CREATE DATABASE nodered;\\nmysql> CREATE TABLE nodered.users(id INT AUTO_INCREMENT, name TEXT, PRIMARY KEY (id));\\n```\",\"x\":661.5,\"y\":177,\"wires\":[]},{\"id\":\"2f36c5b1.921162\",\"type\":\"comment\",\"z\":\"9557410.c02df4\",\"name\":\"Tutorial of MySQL: 2016.12.02\",\"info\":\"\",\"x\":159.5,\"y\":74,\"wires\":[]},{\"id\":\"e419b3e1.91fd98\",\"type\":\"MySQLdatabase\",\"z\":\"\",\"host\":\"127.0.0.1\",\"port\":\"3306\",\"db\":\"nodered\",\"tz\":\"\"}]\n```\n\n\nmysql node\u306e\u8a2d\u5b9a\u306f\u3053\u306e\u901a\u308a\u3002\n\n![mysql_node\u8a2d\u5b9a.png](https://qiita-image-store.s3.amazonaws.com/0/73141/57dead3e-a623-4a60-a2ef-97ff13e47563.png \"mysql_node\u8a2d\u5b9a.png\")\n\n\n\u5404function\u306fHTTP In node\u304b\u3089\u53d7\u3051\u53d6\u3063\u305fparameter\u3092\u4f7f\u3063\u3066SQL\u6587\u3092\u4f5c\u6210\u3059\u308b\u3002JavaScript\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\n```JavaScript:Create\nname = msg.payload.name;\nmsg.topic = \"insert into users(name) values('\" + name + \"');\";\nconsole.log(msg.topic);\nreturn msg;\n```\n\n```JavaScript:List\nmsg.topic = \"SELECT * FROM users;\"\nconsole.log(msg.topic);\nreturn msg;\n```\n\n```JavaScript:Update\nid = msg.payload.userid;\nname = msg.payload.name;\nmsg.topic = \"UPDATE users SET name='\" + name + \"' WHERE id=\" + id + \";\";\nconsole.log(msg.topic);\nreturn msg;\n```\n\n```JavaScript:Delete\nid = msg.payload.userid;\nmsg.topic = \"DELETE FROM users WHERE id=\" + id + \";\";\nconsole.log(msg.topic);\nreturn msg;\n```\n\n###\u52d5\u4f5c\u78ba\u8a8d\n\u52d5\u4f5c\u78ba\u8a8d\u306fChrome Application\u306ePOSTMAN\u3092\u4f7f\u3046\u3002\n\u307e\u305a\u306f\u3044\u304f\u3064\u304b\u30ec\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3059\u308b\u3002\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092GET\u3067\u9001\u4fe1\u3059\u308b\u3002name\u306e\u53f3\u5074\u306e\u300cMySQL1\u300d\u306f\u9806\u6b21\u5909\u66f4\u3059\u308b\n> http://localhost:1880/users/create?name=MySQL1\n\n\u30ec\u30b3\u30fc\u30c9\u306e\u78ba\u8a8d\u306f\u3053\u3061\u3089\u3092GET\u3067\u9001\u4fe1\u3002\n> http://localhost:1880/users/list\n\n\u30ec\u30b3\u30fc\u30c9\u306e\u4fee\u6b63\u306fuserid\u3068name\u3092parameter\u3067\u6307\u5b9a\u3057\u3066GET\u3067\u9001\u4fe1\n> http://localhost:1880/users/update?userid=63&name=hoge\n\n\u30ec\u30b3\u30fc\u30c9\u306e\u524a\u9664\u306fuserid\u3092\u6307\u5b9a\u3057\u3066GET\u3067\u9001\u4fe1\n> http://localhost:1880/users/delete?userid=65\n", "tags": ["node-red", "Home@KAIT", "MySQL"]}