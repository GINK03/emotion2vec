{"tags": ["C\u8a00\u8a9e", "\u3069\u3046\u66f8\u304f", "yhpg"], "context": " More than 1 year has passed since last update.\u554f\u984c\u306f\u3053\u3061\u3089\nhttp://nabetani.sakura.ne.jp/hena/ord5dahimi/\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nint pos(char const *s, char const c)\n{\n    return strchr(s,c) - s;\n}\n\nint lev(const char c)\n{\n    char const L[]=\"3456789TJQKA2o\";\n    return pos(L,c);\n}\n\nint scmp(const void *a, const void *b)\n{\n    return strcmp(a,b);\n}\n\nvoid cmb(char const *h, char const *buf, int n, int l, char *r, int d)\n{\n    int i, tl=0, p=0;\n    char t[10] = {0};\n\n    if(n==0) {\n        strcat(r,buf);\n        strcat(r,\",\");\n        return;\n    }\n    for(i=0; i<strlen(h)/2; i++, p=i<<1) {\n        if(d==0 && (tl=lev(h[p+1])) > l && tl!=13) {\n            sprintf(t,\"%c%c%s\",h[p],h[p+1],buf);\n            cmb(&h[p+2],t,n-1,tl,r,d+1);\n        }\n        else if(d>0 && lev(h[p+1])==l) {\n            sprintf(t,\"%c%c%s\",h[p],h[p+1],buf);\n            cmb(&h[p+2],t,n-1,l,r,d+1);\n        }\n    }\n}\n\nvoid solve(char const *f, char const *h, char *r)\n{\n    char buf[10]={0};\n    int const n = pos(f,',')/2, \n        l = (lev(f[1])>lev(f[3]) && n>1) ? lev(f[3]): lev(f[1]);\n\n    cmb(h,buf,n,l,r,0);\n    if(pos(h,'o')>=0) {\n        strcpy(buf,\"Jo\");\n        cmb(h,buf,n-1,l,r,0);\n    }\n}\n\nvoid sort(char *s)\n{\n    int i, n = pos(s,',')+1, len = (strlen(s)+1)/n;\n    for(i=0; i<len; i++) {\n        qsort(&s[i*n], (n-1)/2, 2, scmp);\n    }\n    qsort(s, len, n, scmp);\n}\n\nvoid test(char const *in, char const *ans)\n{\n    char f[100]={0}, r[100]={0};\n    solve(in, &in[pos(in,',')+1], r);\n    if(r[0]=='\\0') strcpy(r,\"-,\");\n    sprintf(f,\"%s,\",ans);\n    sort(f);\n    sort(r);\n    printf(\"%s\\t%s\\n\",r, (strcmp(r,f)==0) ? \"ok\": \"***NG***\");\n}\n\nint main()\n{\n/*#1*/ test( \"DJ,\", \"-\" );\n/*#2*/ test( \"H7,HK\", \"HK\" );\n/*#3*/ test( \"S3,D4D2\", \"D4,D2\" );\n/*#4*/ test( \"S9,C8H4\", \"-\" );\n/*#5*/ test( \"S6,S7STCK\", \"CK,ST,S7\" );\n/*#6*/ test( \"H4,SAS8CKH6S4\", \"S8,CK,H6,SA\" );\n/*#7*/ test( \"ST,D6S8JoC7HQHAC2CK\", \"Jo,C2,CK,HA,HQ\" );\n/*#8*/ test( \"SA,HAD6S8S6D3C4H2C5D4CKHQS7D5\", \"H2\" );\n/*#9*/ test( \"S2,D8C9D6HQS7H4C6DTS5S6C7HAD4SQ\", \"-\" );\n/*#10*/ test( \"Jo,HAC8DJSJDTH2\", \"-\" );\n/*#11*/ test( \"S4Jo,CQS6C9DQH9S2D6S3\", \"DQCQ,D6S6,H9C9\" );\n/*#12*/ test( \"CTDT,S9C2D9D3JoC6DASJS4\", \"JoC2,SJJo,DAJo\" );\n/*#13*/ test( \"H3D3,DQS2D6H9HAHTD7S6S7Jo\", \"JoHA,JoD6,JoH9,D6S6,D7S7,JoS6,HTJo,JoDQ,S2Jo,JoD7,JoS7\" );\n/*#14*/ test( \"D5Jo,CQDAH8C6C9DQH7S2SJCKH5\", \"CQDQ\" );\n/*#15*/ test( \"C7H7,S7CTH8D5HACQS8JoD6SJS5H4\", \"HAJo,JoSJ,H8S8,H8Jo,CQJo,CTJo,JoS8\" );\n/*#16*/ test( \"SAHA,S7SKCTS3H9DJHJH7S5H2DKDQS4\", \"-\" );\n/*#17*/ test( \"JoC8,H6D7C5S9CQH9STDTCAD9S5DAS2CT\", \"CTDT,H9D9,S9D9,DACA,CTST,H9S9,DTST\" );\n/*#18*/ test( \"HTST,SJHJDJCJJoS3D2\", \"DJCJ,SJDJ,JoHJ,CJHJ,SJJo,HJSJ,DJJo,JoCJ,JoD2,SJCJ,DJHJ\" );\n/*#19*/ test( \"C7D7,S8D8JoCTDTD4CJ\", \"D8S8,JoS8,CTJo,DTJo,JoCJ,CTDT,D8Jo\" );\n/*#20*/ test( \"DJSJ,DTDKDQHQJoC2\", \"JoDK,HQDQ,DQJo,C2Jo,JoHQ\" );\n/*#21*/ test( \"C3H3D3,CKH2DTD5H6S4CJS5C6H5S9CA\", \"S5H5D5\" );\n/*#22*/ test( \"D8H8S8,CQHJCJJoHQ\", \"JoCQHQ,JoHJCJ\" );\n/*#23*/ test( \"H6D6S6,H8S8D8C8JoD2H2\", \"D2H2Jo,D8JoS8,D8S8C8,C8D8H8,JoC8S8,H8JoC8,S8H8C8,JoS8H8,C8JoD8,D8H8S8,D8JoH8\" );\n/*#24*/ test( \"JoD4H4,D3H3S3C3CADASAD2\", \"DACASA\" );\n/*#25*/ test( \"DJHJSJ,SQDQJoHQCQC2CA\", \"SQJoCQ,DQCQJo,JoSQHQ,SQCQHQ,DQHQSQ,HQDQCQ,HQDQJo,SQDQCQ,CQJoHQ,SQJoDQ\" );\n/*#26*/ test( \"H3D3Jo,D4SKH6CTS8SAS2CQH4HAC5DADKD9\", \"HASADA\" );\n/*#27*/ test( \"C3JoH3D3,S2S3H7HQCACTC2CKC6S7H5C7\", \"-\" );\n/*#28*/ test( \"H5C5S5D5,C7S6D6C3H7HAH6H4C6HQC9\", \"C6D6S6H6\" );\n/*#29*/ test( \"H7S7C7D7,S5SAH5HAD5DAC5CA\", \"SADACAHA\" );\n/*#30*/ test( \"D4H4S4C4,S6SAH6HAD6DAC6CAJo\", \"C6H6S6D6,SAJoDACA,S6H6C6Jo,SACAJoHA,HADASAJo,HADAJoCA,CADAHASA,D6C6JoH6,S6D6C6Jo,H6JoS6D6\" );\n/*#31*/ test( \"DTCTSTHT,S3SQH3HQD3DQC3CQJo\", \"HQSQJoDQ,SQCQDQJo,DQCQHQJo,SQHQJoCQ,CQDQHQSQ\" );\n/*#32*/ test( \"JoS8D8H8,S9DTH9CTD9STC9CAC2\", \"H9C9D9S9\" );\n    return 0;\n}\n\n\u554f\u984c\u306f\u3053\u3061\u3089\nhttp://nabetani.sakura.ne.jp/hena/ord5dahimi/\n\n```c\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nint pos(char const *s, char const c)\n{\n\treturn strchr(s,c) - s;\n}\n\nint lev(const char c)\n{\n\tchar const L[]=\"3456789TJQKA2o\";\n\treturn pos(L,c);\n}\n\nint scmp(const void *a, const void *b)\n{\n\treturn strcmp(a,b);\n}\n\nvoid cmb(char const *h, char const *buf, int n, int l, char *r, int d)\n{\n\tint i, tl=0, p=0;\n\tchar t[10] = {0};\n\n\tif(n==0) {\n\t\tstrcat(r,buf);\n\t\tstrcat(r,\",\");\n\t\treturn;\n\t}\n\tfor(i=0; i<strlen(h)/2; i++, p=i<<1) {\n\t\tif(d==0 && (tl=lev(h[p+1])) > l && tl!=13) {\n\t\t\tsprintf(t,\"%c%c%s\",h[p],h[p+1],buf);\n\t\t\tcmb(&h[p+2],t,n-1,tl,r,d+1);\n\t\t}\n\t\telse if(d>0 && lev(h[p+1])==l) {\n\t\t\tsprintf(t,\"%c%c%s\",h[p],h[p+1],buf);\n\t\t\tcmb(&h[p+2],t,n-1,l,r,d+1);\n\t\t}\n\t}\n}\n\nvoid solve(char const *f, char const *h, char *r)\n{\n\tchar buf[10]={0};\n\tint const n = pos(f,',')/2, \n\t\tl = (lev(f[1])>lev(f[3]) && n>1) ? lev(f[3]): lev(f[1]);\n\t\n\tcmb(h,buf,n,l,r,0);\n\tif(pos(h,'o')>=0) {\n\t\tstrcpy(buf,\"Jo\");\n\t\tcmb(h,buf,n-1,l,r,0);\n\t}\n}\n\nvoid sort(char *s)\n{\n\tint i, n = pos(s,',')+1, len = (strlen(s)+1)/n;\n\tfor(i=0; i<len; i++) {\n\t\tqsort(&s[i*n], (n-1)/2, 2, scmp);\n\t}\n\tqsort(s, len, n, scmp);\n}\n\nvoid test(char const *in, char const *ans)\n{\n\tchar f[100]={0}, r[100]={0};\n\tsolve(in, &in[pos(in,',')+1], r);\n\tif(r[0]=='\\0') strcpy(r,\"-,\");\n\tsprintf(f,\"%s,\",ans);\n\tsort(f);\n\tsort(r);\n\tprintf(\"%s\\t%s\\n\",r, (strcmp(r,f)==0) ? \"ok\": \"***NG***\");\n}\n\nint main()\n{\n/*#1*/ test( \"DJ,\", \"-\" );\n/*#2*/ test( \"H7,HK\", \"HK\" );\n/*#3*/ test( \"S3,D4D2\", \"D4,D2\" );\n/*#4*/ test( \"S9,C8H4\", \"-\" );\n/*#5*/ test( \"S6,S7STCK\", \"CK,ST,S7\" );\n/*#6*/ test( \"H4,SAS8CKH6S4\", \"S8,CK,H6,SA\" );\n/*#7*/ test( \"ST,D6S8JoC7HQHAC2CK\", \"Jo,C2,CK,HA,HQ\" );\n/*#8*/ test( \"SA,HAD6S8S6D3C4H2C5D4CKHQS7D5\", \"H2\" );\n/*#9*/ test( \"S2,D8C9D6HQS7H4C6DTS5S6C7HAD4SQ\", \"-\" );\n/*#10*/ test( \"Jo,HAC8DJSJDTH2\", \"-\" );\n/*#11*/ test( \"S4Jo,CQS6C9DQH9S2D6S3\", \"DQCQ,D6S6,H9C9\" );\n/*#12*/ test( \"CTDT,S9C2D9D3JoC6DASJS4\", \"JoC2,SJJo,DAJo\" );\n/*#13*/ test( \"H3D3,DQS2D6H9HAHTD7S6S7Jo\", \"JoHA,JoD6,JoH9,D6S6,D7S7,JoS6,HTJo,JoDQ,S2Jo,JoD7,JoS7\" );\n/*#14*/ test( \"D5Jo,CQDAH8C6C9DQH7S2SJCKH5\", \"CQDQ\" );\n/*#15*/ test( \"C7H7,S7CTH8D5HACQS8JoD6SJS5H4\", \"HAJo,JoSJ,H8S8,H8Jo,CQJo,CTJo,JoS8\" );\n/*#16*/ test( \"SAHA,S7SKCTS3H9DJHJH7S5H2DKDQS4\", \"-\" );\n/*#17*/ test( \"JoC8,H6D7C5S9CQH9STDTCAD9S5DAS2CT\", \"CTDT,H9D9,S9D9,DACA,CTST,H9S9,DTST\" );\n/*#18*/ test( \"HTST,SJHJDJCJJoS3D2\", \"DJCJ,SJDJ,JoHJ,CJHJ,SJJo,HJSJ,DJJo,JoCJ,JoD2,SJCJ,DJHJ\" );\n/*#19*/ test( \"C7D7,S8D8JoCTDTD4CJ\", \"D8S8,JoS8,CTJo,DTJo,JoCJ,CTDT,D8Jo\" );\n/*#20*/ test( \"DJSJ,DTDKDQHQJoC2\", \"JoDK,HQDQ,DQJo,C2Jo,JoHQ\" );\n/*#21*/ test( \"C3H3D3,CKH2DTD5H6S4CJS5C6H5S9CA\", \"S5H5D5\" );\n/*#22*/ test( \"D8H8S8,CQHJCJJoHQ\", \"JoCQHQ,JoHJCJ\" );\n/*#23*/ test( \"H6D6S6,H8S8D8C8JoD2H2\", \"D2H2Jo,D8JoS8,D8S8C8,C8D8H8,JoC8S8,H8JoC8,S8H8C8,JoS8H8,C8JoD8,D8H8S8,D8JoH8\" );\n/*#24*/ test( \"JoD4H4,D3H3S3C3CADASAD2\", \"DACASA\" );\n/*#25*/ test( \"DJHJSJ,SQDQJoHQCQC2CA\", \"SQJoCQ,DQCQJo,JoSQHQ,SQCQHQ,DQHQSQ,HQDQCQ,HQDQJo,SQDQCQ,CQJoHQ,SQJoDQ\" );\n/*#26*/ test( \"H3D3Jo,D4SKH6CTS8SAS2CQH4HAC5DADKD9\", \"HASADA\" );\n/*#27*/ test( \"C3JoH3D3,S2S3H7HQCACTC2CKC6S7H5C7\", \"-\" );\n/*#28*/ test( \"H5C5S5D5,C7S6D6C3H7HAH6H4C6HQC9\", \"C6D6S6H6\" );\n/*#29*/ test( \"H7S7C7D7,S5SAH5HAD5DAC5CA\", \"SADACAHA\" );\n/*#30*/ test( \"D4H4S4C4,S6SAH6HAD6DAC6CAJo\", \"C6H6S6D6,SAJoDACA,S6H6C6Jo,SACAJoHA,HADASAJo,HADAJoCA,CADAHASA,D6C6JoH6,S6D6C6Jo,H6JoS6D6\" );\n/*#31*/ test( \"DTCTSTHT,S3SQH3HQD3DQC3CQJo\", \"HQSQJoDQ,SQCQDQJo,DQCQHQJo,SQHQJoCQ,CQDQHQSQ\" );\n/*#32*/ test( \"JoS8D8H8,S9DTH9CTD9STC9CAC2\", \"H9C9D9S9\" );\n\treturn 0;\n}\n```"}