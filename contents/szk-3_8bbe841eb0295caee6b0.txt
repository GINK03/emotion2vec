{"tags": ["AppleScript"], "context": " More than 1 year has passed since last update.\n\ndo shell script\u3092\u4f7f\u308f\u306a\u3044\u3068\u3067\u304d\u306a\u304b\u3063\u305f\u6b63\u898f\u8868\u73fe\u306e\u6587\u5b57\u5217\u62bd\u51fa\nAppleScript\u4e0a\u3067Cocoa\u306e\u6a5f\u80fd\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\nregexMatches\u30cf\u30f3\u30c9\u30e9\u306e\u8fd4\u308a\u5024\n\n\n\u30de\u30c3\u30c1\u7b87\u6240\u306e\u30ea\u30b9\u30c8\u3067\u69cb\u6210\n\u30de\u30c3\u30c1\u81ea\u4f53\u3082\u30ea\u30b9\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\n\n\n1\u756a\u76ee\u306f\u30de\u30c3\u30c1\u5168\u4f53\u306e\u6587\u5b57\u5217\n2\u756a\u76ee\u4ee5\u964d\u306f\u30ad\u30e3\u30d7\u30c1\u30e3\u306b\u3088\u308b\u90e8\u5206\u6587\u5b57\u5217\n\n\n\n\n\n\nregexMatches.scpt\nuse scripting additions\nuse framework \"Foundation\"\n\nmy regexMatches(\"<p>\u3042\u3044\u3046\u3048\u304a</p>\", \"<(.+?)>\")\n--> {{\"<p>\", \"p\"}, {\"</p>\", \"/p\"}}\n\non regexMatches(aText as text, pattern as text)\n    --require framework: Foundation\n    set regularExpression to current application's NSRegularExpression's regularExpressionWithPattern:pattern options:0 |error|:(missing value)\n    set aString to current application's NSString's stringWithString:aText\n    set matches to regularExpression's matchesInString:aString options:0 range:{location:0, |length|:aString's |length|()}\n\n    set matchResultList to {}\n    repeat with match in matches\n        set matchResult to {}\n        repeat with i from 0 to (match's numberOfRanges as integer) - 1\n            set end of matchResult to (aString's substringWithRange:(match's rangeAtIndex:i)) as text\n        end repeat\n        set end of matchResultList to matchResult\n    end repeat\n    return matchResultList\nend regexMatches\n\n\n\n\u66f4\u65b0\u5c65\u6b74\n\n2016-01-13: Cocoa\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u4f5c\u6210\n2016-01-15: \u8fd4\u308a\u5024\u306b\u30ad\u30e3\u30d7\u30c1\u30e3\u306e\u7d50\u679c\u3092\u542b\u3081\u308b\u3088\u3046\u306b\u5909\u66f4\n2016-01-20: NSMutableArray\u306e\u4f5c\u6210\u30e1\u30bd\u30c3\u30c9\u3092new:\u304b\u3089arrayWithCapacity:\u306b\u5909\u66f4\n2016-02-16: matchResultList\u306e\u4f5c\u6210\u3092NSMutableArray\u304b\u3089AppleScript\u306e\u30ea\u30b9\u30c8\u306b\u5909\u66f4\n\n\n* `do shell script`\u3092\u4f7f\u308f\u306a\u3044\u3068\u3067\u304d\u306a\u304b\u3063\u305f\u6b63\u898f\u8868\u73fe\u306e\u6587\u5b57\u5217\u62bd\u51fa\n* AppleScript\u4e0a\u3067Cocoa\u306e\u6a5f\u80fd\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\n* regexMatches\u30cf\u30f3\u30c9\u30e9\u306e\u8fd4\u308a\u5024\n\t* \u30de\u30c3\u30c1\u7b87\u6240\u306e\u30ea\u30b9\u30c8\u3067\u69cb\u6210\n\t* \u30de\u30c3\u30c1\u81ea\u4f53\u3082\u30ea\u30b9\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\n\t\t* 1\u756a\u76ee\u306f\u30de\u30c3\u30c1\u5168\u4f53\u306e\u6587\u5b57\u5217\n\t\t* 2\u756a\u76ee\u4ee5\u964d\u306f\u30ad\u30e3\u30d7\u30c1\u30e3\u306b\u3088\u308b\u90e8\u5206\u6587\u5b57\u5217\n\n\n```applescript:regexMatches.scpt\nuse scripting additions\nuse framework \"Foundation\"\n\nmy regexMatches(\"<p>\u3042\u3044\u3046\u3048\u304a</p>\", \"<(.+?)>\")\n--> {{\"<p>\", \"p\"}, {\"</p>\", \"/p\"}}\n\non regexMatches(aText as text, pattern as text)\n\t--require framework: Foundation\n\tset regularExpression to current application's NSRegularExpression's regularExpressionWithPattern:pattern options:0 |error|:(missing value)\n\tset aString to current application's NSString's stringWithString:aText\n\tset matches to regularExpression's matchesInString:aString options:0 range:{location:0, |length|:aString's |length|()}\n\t\n\tset matchResultList to {}\n\trepeat with match in matches\n\t\tset matchResult to {}\n\t\trepeat with i from 0 to (match's numberOfRanges as integer) - 1\n\t\t\tset end of matchResult to (aString's substringWithRange:(match's rangeAtIndex:i)) as text\n\t\tend repeat\n\t\tset end of matchResultList to matchResult\n\tend repeat\n\treturn matchResultList\nend regexMatches\n```\n\n\n## \u66f4\u65b0\u5c65\u6b74\n\n* 2016-01-13: Cocoa\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u4f5c\u6210\n* 2016-01-15: \u8fd4\u308a\u5024\u306b\u30ad\u30e3\u30d7\u30c1\u30e3\u306e\u7d50\u679c\u3092\u542b\u3081\u308b\u3088\u3046\u306b\u5909\u66f4\n* 2016-01-20: NSMutableArray\u306e\u4f5c\u6210\u30e1\u30bd\u30c3\u30c9\u3092`new:`\u304b\u3089`arrayWithCapacity:`\u306b\u5909\u66f4\n* 2016-02-16: matchResultList\u306e\u4f5c\u6210\u3092NSMutableArray\u304b\u3089AppleScript\u306e\u30ea\u30b9\u30c8\u306b\u5909\u66f4\n\n"}