{"context": " More than 1 year has passed since last update.\u30c7\u30d5\u30a9\u30eb\u30c8\u306eboxplot\u306e\u30ce\u30c3\u30c1\u306f\uff0c\n\nMathWorks \u7bb1\u3072\u3052\u56f3 \u3088\u308a\n\u533a\u9593\u304c\u30aa\u30fc\u30d0\u30fc\u30e9\u30c3\u30d7\u3057\u306a\u3044\u5834\u5408\u30012 \u3064\u306e\u4e2d\u592e\u5024\u306f 5% \u306e\u6c34\u6e96\u3067\u6709\u610f\u5dee\u304c\u3042\u308a\u307e\u3059\u3002\u533a\u9593\u306e\u7aef\u70b9\u306f\u3001\u523b\u307f\u307e\u305f\u306f\u4e09\u89d2\u5f62\u306e\u30de\u30fc\u30ab\u30fc\u306e\u4e2d\u5fc3\u306e\u6975\u5024\u3067\u3059\u3002\u6975\u5024\u306f q2 \u2013 1.57(q3 \u2013 q1)/sqrt(n) \u3068 q2 + 1.57(q3 \u2013 q1)/sqrt(n) \u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u3001q2 \u306f\u4e2d\u592e\u5024 (50 \u756a\u76ee\u306e\u767e\u5206\u4f4d\u6570)\u3001q1 \u3068 q3 \u306f\u305d\u308c\u305e\u308c 25 \u756a\u76ee\u304a\u3088\u3073 75 \u756a\u76ee\u306e\u767e\u5206\u4f4d\u6570\u3067\u3042\u308a\u3001n \u306f NaN \u5024\u3092\u542b\u3081\u306a\u3044\u89b3\u6e2c\u5024\u306e\u6570\u3067\u3059\u3002\u6a19\u672c\u306e\u30b5\u30a4\u30ba\u304c\u5c0f\u3055\u3044\u5834\u5408\u3001\u523b\u307f\u306f\u30dc\u30c3\u30af\u30b9\u306e\u7aef\u3092\u8d85\u3048\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3068\u306e\u3053\u3068\uff0e\n\u305d\u308c\u305e\u308c\u306e\u4e2d\u592e\u5024\u30921%\u306e\u6c34\u6e96\u3067\u6709\u70ba\u5dee\u6bd4\u8f03\u3059\u308b\u30ce\u30c3\u30c1\u3092\u4f5c\u308b\u305f\u3081\uff0c\uff08\u610f\u5473\u9055\u3046\u3051\u3069\uff09q4\u3068q5\u3068\u3044\u3046\u5909\u6570\u306b\uff0c\u305d\u308c\u305e\u308c5\u756a\u76ee\u304a\u3088\u307395\u756a\u76ee\u306e\u767e\u5206\u4f4d\u6570\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304d\uff0c\u30ce\u30c3\u30c1\u306e\u4e0a\u7aef\u3068\u4e0b\u7aef\u3092 q2 \u2013 1.57(q5 \u2013 q4)/sqrt(n) \u3068 q2 + 1.57(q5 \u2013 q4)/sqrt(n) \u3068\u3057\u305f\uff0e\ndiff\u7f6e\u3044\u3068\u304f\uff0e\n\nboxplot.m.diff\n--- /Applications/MATLAB_R2012a_Student.app/toolbox/stats/stats/boxplot.m.orig  2014-03-22 12:24:26.000000000 +0900\n+++ /Applications/MATLAB_R2012a_Student.app/toolbox/stats/stats/boxplot.m   2014-03-24 15:32:15.000000000 +0900\n@@ -2097,6 +2097,8 @@\n boxidx.q1 = nan;\n boxidx.q2 = nan;\n boxidx.q3 = nan;\n+boxidx.q4 = nan;\n+boxidx.q5 = nan;\n boxidx.whi = nan;\n boxidx.maximum = nan;\n boxidx.numNans = 0;\n@@ -2127,9 +2129,11 @@\n ind0 = gStart-1;\n % Calculate 25,50,75 percentile indices.\n if lastind > 1\n+    i05 = firstind+ .05*(lastind-firstind) -.45;   % Edit to set 1% for confidence interval\n     i25 = firstind+ .25*(lastind-firstind) -.25;\n     i50 = firstind+ .50*(lastind-firstind);\n     i75 = firstind+ .75*(lastind-firstind) +.25;\n+    i95 = firstind+ .95*(lastind-firstind) +.45;   % Edit to set 1% for confidence interval\n else\n     i25 = 1;\n     i50 = 1;\n@@ -2195,6 +2199,8 @@\n boxidx.q1 = i25+ind0;\n boxidx.q2 = i50+ind0;\n boxidx.q3 = i75+ind0;\n+boxidx.q4 = i05+ind0;   % Edit to set 1% for confidence interval\n+boxidx.q5 = i95+ind0;   % Edit to set 1% for confidence interval\n boxidx.whi = whi+ind0;\n boxidx.maximum = lastind+ind0;\n boxidx.outliers = {outall+ind0};\n@@ -2235,6 +2241,8 @@\n i25 = boxidx.q1-ind0;\n i50 = boxidx.q2-ind0;\n i75 = boxidx.q3-ind0;\n+i05 = boxidx.q4-ind0;   % Edit to set 1% for confidence interval\n+i95 = boxidx.q5-ind0;   % Edit to set 1% for confidence interval\n\n % Compute weighted average.\n p25Ratio = i25-floor(i25);\n@@ -2261,6 +2269,24 @@\n         +x(ceil(i75))*p75Ratio;\n end\n\n+% Edit to set 1% for confidence interval\n+p05Ratio = i05-floor(i05);\n+if p05Ratio==0\n+    p05 = x(i05);\n+else\n+    p05 = x(floor(i05))*(1-p05Ratio) ...\n+        +x(ceil(i05))*p05Ratio;\n+end\n+\n+% Edit to set 1% for confidence interval\n+p95Ratio = i95-floor(i95);\n+if p95Ratio==0\n+    p95 = x(i95);\n+else\n+    p95 = x(floor(i95))*(1-p95Ratio) ...\n+        +x(ceil(i95))*p95Ratio;\n+end\n+\n % Standard percentile function is slower.\n %     p = prctile(x,[25 50 75]);\n %     p25 = p(1);\n@@ -2271,11 +2297,13 @@\n % x may be padded with NaN -- don't count them\n nx = sum(~isnan(x));\n\n-nhi = p50 + 1.57*(p75-p25)/sqrt(nx);\n+%nhi = p50 + 1.57*(p75-p25)/sqrt(nx);\n+nhi = p50 + 1.57*(p95-p05)/sqrt(nx);   % Edit to set 1% for confidence interval\n if ~isfinite(nhi)\n     nhi = p50;\n end\n-nlo = p50 - 1.57*(p75-p25)/sqrt(nx);\n+%nlo = p50 - 1.57*(p75-p25)/sqrt(nx);\n+nlo = p50 - 1.57*(p95-p05)/sqrt(nx);   % Edit to set 1% for confidence interval\n if ~isfinite(nlo)\n     nlo = p50;\n end\n\n\n\u624b\u629c\u304d\u3057\u3066\uff0c\u65e2\u5b58\u306e\u95a2\u6570\u3092\u76f4\u63a5\u7de8\u96c6\u3057\u3061\u3083\u3063\u305f\uff0e\nMATLAB\u3092\u518d\u8d77\u52d5\u3057\u305f\u3089\u8aad\u307f\u8fbc\u307e\u308c\u308b\uff0e\n\u5f8c\u3067\u6df7\u4e71\u3059\u308b\u306e\u3067\uff0c\u4f5c\u56f3\u3057\u305f\u3089\u5143\u306b\u623b\u3057\u3066\u304a\u304f\u3053\u3068\uff0e\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306eboxplot\u306e\u30ce\u30c3\u30c1\u306f\uff0c\n>[MathWorks \u7bb1\u3072\u3052\u56f3 \u3088\u308a](http://www.mathworks.co.jp/jp/help/stats/boxplot.html \"boxplot\")\n>\u533a\u9593\u304c\u30aa\u30fc\u30d0\u30fc\u30e9\u30c3\u30d7\u3057\u306a\u3044\u5834\u5408\u30012 \u3064\u306e\u4e2d\u592e\u5024\u306f 5% \u306e\u6c34\u6e96\u3067\u6709\u610f\u5dee\u304c\u3042\u308a\u307e\u3059\u3002\u533a\u9593\u306e\u7aef\u70b9\u306f\u3001\u523b\u307f\u307e\u305f\u306f\u4e09\u89d2\u5f62\u306e\u30de\u30fc\u30ab\u30fc\u306e\u4e2d\u5fc3\u306e\u6975\u5024\u3067\u3059\u3002\u6975\u5024\u306f q2 \u2013 1.57(q3 \u2013 q1)/sqrt(n) \u3068 q2 + 1.57(q3 \u2013 q1)/sqrt(n) \u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u3001q2 \u306f\u4e2d\u592e\u5024 (50 \u756a\u76ee\u306e\u767e\u5206\u4f4d\u6570)\u3001q1 \u3068 q3 \u306f\u305d\u308c\u305e\u308c 25 \u756a\u76ee\u304a\u3088\u3073 75 \u756a\u76ee\u306e\u767e\u5206\u4f4d\u6570\u3067\u3042\u308a\u3001n \u306f NaN \u5024\u3092\u542b\u3081\u306a\u3044\u89b3\u6e2c\u5024\u306e\u6570\u3067\u3059\u3002\u6a19\u672c\u306e\u30b5\u30a4\u30ba\u304c\u5c0f\u3055\u3044\u5834\u5408\u3001\u523b\u307f\u306f\u30dc\u30c3\u30af\u30b9\u306e\u7aef\u3092\u8d85\u3048\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3068\u306e\u3053\u3068\uff0e\n\n\u305d\u308c\u305e\u308c\u306e\u4e2d\u592e\u5024\u30921%\u306e\u6c34\u6e96\u3067\u6709\u70ba\u5dee\u6bd4\u8f03\u3059\u308b\u30ce\u30c3\u30c1\u3092\u4f5c\u308b\u305f\u3081\uff0c\uff08\u610f\u5473\u9055\u3046\u3051\u3069\uff09q4\u3068q5\u3068\u3044\u3046\u5909\u6570\u306b\uff0c\u305d\u308c\u305e\u308c5\u756a\u76ee\u304a\u3088\u307395\u756a\u76ee\u306e\u767e\u5206\u4f4d\u6570\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304d\uff0c\u30ce\u30c3\u30c1\u306e\u4e0a\u7aef\u3068\u4e0b\u7aef\u3092 q2 \u2013 1.57(q5 \u2013 q4)/sqrt(n) \u3068 q2 + 1.57(q5 \u2013 q4)/sqrt(n) \u3068\u3057\u305f\uff0e\n\ndiff\u7f6e\u3044\u3068\u304f\uff0e\n\n```matlab:boxplot.m.diff\n--- /Applications/MATLAB_R2012a_Student.app/toolbox/stats/stats/boxplot.m.orig\t2014-03-22 12:24:26.000000000 +0900\n+++ /Applications/MATLAB_R2012a_Student.app/toolbox/stats/stats/boxplot.m\t2014-03-24 15:32:15.000000000 +0900\n@@ -2097,6 +2097,8 @@\n boxidx.q1 = nan;\n boxidx.q2 = nan;\n boxidx.q3 = nan;\n+boxidx.q4 = nan;\n+boxidx.q5 = nan;\n boxidx.whi = nan;\n boxidx.maximum = nan;\n boxidx.numNans = 0;\n@@ -2127,9 +2129,11 @@\n ind0 = gStart-1;\n % Calculate 25,50,75 percentile indices.\n if lastind > 1\n+    i05 = firstind+ .05*(lastind-firstind) -.45;   % Edit to set 1% for confidence interval\n     i25 = firstind+ .25*(lastind-firstind) -.25;\n     i50 = firstind+ .50*(lastind-firstind);\n     i75 = firstind+ .75*(lastind-firstind) +.25;\n+    i95 = firstind+ .95*(lastind-firstind) +.45;   % Edit to set 1% for confidence interval\n else\n     i25 = 1;\n     i50 = 1;\n@@ -2195,6 +2199,8 @@\n boxidx.q1 = i25+ind0;\n boxidx.q2 = i50+ind0;\n boxidx.q3 = i75+ind0;\n+boxidx.q4 = i05+ind0;   % Edit to set 1% for confidence interval\n+boxidx.q5 = i95+ind0;   % Edit to set 1% for confidence interval\n boxidx.whi = whi+ind0;\n boxidx.maximum = lastind+ind0;\n boxidx.outliers = {outall+ind0};\n@@ -2235,6 +2241,8 @@\n i25 = boxidx.q1-ind0;\n i50 = boxidx.q2-ind0;\n i75 = boxidx.q3-ind0;\n+i05 = boxidx.q4-ind0;   % Edit to set 1% for confidence interval\n+i95 = boxidx.q5-ind0;   % Edit to set 1% for confidence interval\n \n % Compute weighted average.\n p25Ratio = i25-floor(i25);\n@@ -2261,6 +2269,24 @@\n         +x(ceil(i75))*p75Ratio;\n end\n \n+% Edit to set 1% for confidence interval\n+p05Ratio = i05-floor(i05);\n+if p05Ratio==0\n+    p05 = x(i05);\n+else\n+    p05 = x(floor(i05))*(1-p05Ratio) ...\n+        +x(ceil(i05))*p05Ratio;\n+end\n+\n+% Edit to set 1% for confidence interval\n+p95Ratio = i95-floor(i95);\n+if p95Ratio==0\n+    p95 = x(i95);\n+else\n+    p95 = x(floor(i95))*(1-p95Ratio) ...\n+        +x(ceil(i95))*p95Ratio;\n+end\n+\n % Standard percentile function is slower.\n %     p = prctile(x,[25 50 75]);\n %     p25 = p(1);\n@@ -2271,11 +2297,13 @@\n % x may be padded with NaN -- don't count them\n nx = sum(~isnan(x));\n \n-nhi = p50 + 1.57*(p75-p25)/sqrt(nx);\n+%nhi = p50 + 1.57*(p75-p25)/sqrt(nx);\n+nhi = p50 + 1.57*(p95-p05)/sqrt(nx);   % Edit to set 1% for confidence interval\n if ~isfinite(nhi)\n     nhi = p50;\n end\n-nlo = p50 - 1.57*(p75-p25)/sqrt(nx);\n+%nlo = p50 - 1.57*(p75-p25)/sqrt(nx);\n+nlo = p50 - 1.57*(p95-p05)/sqrt(nx);   % Edit to set 1% for confidence interval\n if ~isfinite(nlo)\n     nlo = p50;\n end\n```\n\n\u624b\u629c\u304d\u3057\u3066\uff0c\u65e2\u5b58\u306e\u95a2\u6570\u3092\u76f4\u63a5\u7de8\u96c6\u3057\u3061\u3083\u3063\u305f\uff0e\nMATLAB\u3092\u518d\u8d77\u52d5\u3057\u305f\u3089\u8aad\u307f\u8fbc\u307e\u308c\u308b\uff0e\n\n\u5f8c\u3067\u6df7\u4e71\u3059\u308b\u306e\u3067\uff0c\u4f5c\u56f3\u3057\u305f\u3089\u5143\u306b\u623b\u3057\u3066\u304a\u304f\u3053\u3068\uff0e", "tags": ["matlab", "statistics"]}