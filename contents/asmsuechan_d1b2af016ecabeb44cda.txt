{"context": "\u5f53\u305f\u308a\u524d\u306e\u8a71\u3067\u3059\u304c\u3001after_commit\u306f\u3059\u3079\u3066\u306ecommit\u5f8c\u306b\u8d70\u308b\u306e\u3067\u3082\u3061\u308d\u3093destroy\u306e\u6642\u3082\u8d70\u308a\u307e\u3059\u3002\n\u3053\u3053\u304c\u8003\u616e\u6f0f\u308c\u3057\u3066\u304a\u308a\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\u3002\nRuntimeError: Can't modify frozen hash\n\u3053\u308c\u306fdestroy\u3067\u524a\u9664\u6e08\u307f\u306ehash\u306b\u5bfe\u3057\u3066after_commit\u3067\u64cd\u4f5c\u3057\u3088\u3046\u3068\u3057\u305f\u305f\u3081\u306b\u8d77\u3053\u308a\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5bfe\u51e6\u3057\u307e\u3057\u305f\u3002\nafter_commit :set_user_id, on: :create\n\non: :create\u3092\u3064\u3051\u308b\u3053\u3068\u306b\u3088\u308acreate\u6642\u306e\u307f\u3057\u304b\u52d5\u304b\u306a\u304f\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3067\u89e3\u6c7a\u3067\u3059\u3002\n\n\u53c2\u8003\nhttp://apidock.com/rails/ActiveRecord/Transactions/ClassMethods/after_commit\n\u5f53\u305f\u308a\u524d\u306e\u8a71\u3067\u3059\u304c\u3001after_commit\u306f\u3059\u3079\u3066\u306ecommit\u5f8c\u306b\u8d70\u308b\u306e\u3067\u3082\u3061\u308d\u3093destroy\u306e\u6642\u3082\u8d70\u308a\u307e\u3059\u3002\n\n\u3053\u3053\u304c\u8003\u616e\u6f0f\u308c\u3057\u3066\u304a\u308a\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\u3002\n\n`RuntimeError: Can't modify frozen hash`\n\n\u3053\u308c\u306fdestroy\u3067\u524a\u9664\u6e08\u307f\u306ehash\u306b\u5bfe\u3057\u3066after_commit\u3067\u64cd\u4f5c\u3057\u3088\u3046\u3068\u3057\u305f\u305f\u3081\u306b\u8d77\u3053\u308a\u307e\u3057\u305f\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5bfe\u51e6\u3057\u307e\u3057\u305f\u3002\n\n```\nafter_commit :set_user_id, on: :create\n```\n\non: :create\u3092\u3064\u3051\u308b\u3053\u3068\u306b\u3088\u308acreate\u6642\u306e\u307f\u3057\u304b\u52d5\u304b\u306a\u304f\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3067\u89e3\u6c7a\u3067\u3059\u3002\n\n### \u53c2\u8003\nhttp://apidock.com/rails/ActiveRecord/Transactions/ClassMethods/after_commit\n", "tags": ["Rails", "ActiveRecord"]}