{"tags": ["Swift", "map"], "context": " More than 1 year has passed since last update.\n\n\u5b9f\u88c5\u4f8b\nimport CoreLocation\n\n// \u53c2\u8003\u30b5\u30a4\u30c8\n// - Map Links: https://developer.apple.com/library/ios/featuredarticles/iPhoneURLScheme_Reference/MapLinks/MapLinks.html\n//\n\nclass MapLinkUtils {  \n  // \u76ee\u7684\u5730\u5468\u8fba\u306e\u5730\u56f3\u3092\u8868\u793a\u3059\u308b\n  class func showLocation(location: CLLocation, address: String) {\n    let daddr = NSString(format: \"%f,%f\", location.coordinate.latitude,  location.coordinate.longitude)\n    let urlString = \"http://maps.apple.com/?ll=\\(daddr)&address=\\(address)\"\n    print(urlString)\n    let encodedUrl = urlString.stringByAddingPercentEncodingWithAllowedCharacters(NSCharacterSet.URLQueryAllowedCharacterSet())!\n    let url = NSURL(string: encodedUrl)!\n    UIApplication.sharedApplication().openURL(url)\n  }\n\n  // \u7d4c\u8def\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\n  class func showNavigation(srcLocation: CLLocation, destLocation: CLLocation, address: String) {\n    let saddr = NSString(format: \"%f,%f\", srcLocation.coordinate.latitude,  srcLocation.coordinate.longitude)\n    let daddr = NSString(format: \"%f,%f\", destLocation.coordinate.latitude, destLocation.coordinate.longitude)\n    let urlString = \"http://maps.apple.com/?saddr=\\(saddr)&daddr=\\(daddr)&dirflg=d&q=\\(address)\"\n    print(urlString)\n    let encodedUrl = urlString.stringByAddingPercentEncodingWithAllowedCharacters(NSCharacterSet.URLQueryAllowedCharacterSet())!\n    let url = NSURL(string: encodedUrl)!\n    UIApplication.sharedApplication().openURL(url)\n  }\n}\n\n\n\u53c2\u8003\n\nMap Links\n\n# \u5b9f\u88c5\u4f8b\n\n```swift\nimport CoreLocation\n\n// \u53c2\u8003\u30b5\u30a4\u30c8\n// - Map Links: https://developer.apple.com/library/ios/featuredarticles/iPhoneURLScheme_Reference/MapLinks/MapLinks.html\n//\n\nclass MapLinkUtils {  \n  // \u76ee\u7684\u5730\u5468\u8fba\u306e\u5730\u56f3\u3092\u8868\u793a\u3059\u308b\n  class func showLocation(location: CLLocation, address: String) {\n    let daddr = NSString(format: \"%f,%f\", location.coordinate.latitude,  location.coordinate.longitude)\n    let urlString = \"http://maps.apple.com/?ll=\\(daddr)&address=\\(address)\"\n    print(urlString)\n    let encodedUrl = urlString.stringByAddingPercentEncodingWithAllowedCharacters(NSCharacterSet.URLQueryAllowedCharacterSet())!\n    let url = NSURL(string: encodedUrl)!\n    UIApplication.sharedApplication().openURL(url)\n  }\n\n  // \u7d4c\u8def\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\n  class func showNavigation(srcLocation: CLLocation, destLocation: CLLocation, address: String) {\n    let saddr = NSString(format: \"%f,%f\", srcLocation.coordinate.latitude,  srcLocation.coordinate.longitude)\n    let daddr = NSString(format: \"%f,%f\", destLocation.coordinate.latitude, destLocation.coordinate.longitude)\n    let urlString = \"http://maps.apple.com/?saddr=\\(saddr)&daddr=\\(daddr)&dirflg=d&q=\\(address)\"\n    print(urlString)\n    let encodedUrl = urlString.stringByAddingPercentEncodingWithAllowedCharacters(NSCharacterSet.URLQueryAllowedCharacterSet())!\n    let url = NSURL(string: encodedUrl)!\n    UIApplication.sharedApplication().openURL(url)\n  }\n}\n```\n\n# \u53c2\u8003\n\n- [Map Links](https://developer.apple.com/library/ios/featuredarticles/iPhoneURLScheme_Reference/MapLinks/MapLinks.html)\n"}