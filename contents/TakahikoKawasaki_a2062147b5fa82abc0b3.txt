{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\nAndroid 4.3 \u304b\u3089\u3001BLE (Bluetooth Low Energy) \u7528\u306e API \u304c\u63d0\u4f9b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u305d\u306e\u5f8c\u3001Android 5.0 \u3067 android.bluetooth.le \u3068\u3044\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8ffd\u52a0\u3055\u308c\u3001BLE \u7528\u306e API \u304c\u518d\u5b9a\u7fa9\u3055\u308c\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u8f2a\u3092\u304b\u3051\u3066\u9177\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\u3057\u3070\u3089\u304f BLE \u306e\u4ed5\u4e8b\u3092\u96e2\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u305d\u3046\u306a\u306e\u3067 (\u305d\u3057\u3066\u6050\u3089\u304f\u623b\u3063\u3066\u3053\u306a\u3044\u306e\u3067)\u3001Android BLE API \u306b\u5bfe\u3057\u3066\u8a00\u3044\u305f\u3044\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3046\u3061\u306b\u66f8\u3044\u3066\u304a\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u306a\u304a\u3001\u4e3b\u306b BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306e\u8a71\u306b\u306a\u308a\u307e\u3059\u3002BLE API \u5168\u4f53\u306b\u3064\u3044\u3066\u306f\u6271\u3044\u307e\u305b\u3093\u3002\n\n1. \u30da\u30a4\u30ed\u30fc\u30c9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\nBLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c BLE \u306e\u4ed5\u69d8\u3067\u3069\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u77e5\u308c\u3070\u3001\u3042\u308b\u3079\u304d API \u306e\u59ff\u304c\u60f3\u50cf\u3067\u304d\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u307e\u305a\u306f\u305d\u306e\u8aac\u660e\u3092\u3057\u307e\u3059\u3002\u5177\u4f53\u7684\u306b\u306f\u3001LeScanCallback \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b onLeScan \u30e1\u30bd\u30c3\u30c9\u306e\u4e09\u756a\u76ee\u306e\u5f15\u6570\u3067\u3042\u308b byte[] scanRecord \u306e\u4e2d\u8eab\u304c\u3069\u306e\u3088\u3046\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u306e\u8aac\u660e\u3092\u3057\u307e\u3059\u3002\n\n1.1. \u30da\u30a4\u30ed\u30fc\u30c9\u306e\u69cb\u9020\n\nBLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306f\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3068\u3044\u3046\u3082\u306e\u306e\u30ea\u30b9\u30c8\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u500b\u3005\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u53ef\u5909\u9577\u3067\u3059\u3002\u4e0b\u56f3\u306f\u4e09\u3064\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3092\u542b\u3080\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n1.2. AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\n\nAD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u30011 \u30d0\u30a4\u30c8\u76ee\u306b\u300cAD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u5168\u4f53\u306e\u9577\u3055 - 1\u300d\u30012 \u30d0\u30a4\u30c8\u76ee\u306b AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30bf\u30a4\u30d7 (AD \u30bf\u30a4\u30d7)\u30013 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\u306f\u30c7\u30fc\u30bf (AD \u30c7\u30fc\u30bf) \u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30c7\u30fc\u30bf\u306e\u9577\u3055\u3068\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u30012 \u30d0\u30a4\u30c8\u76ee\u306e\u5024\u304c\u793a\u3059 AD \u30bf\u30a4\u30d7\u306b\u3088\u3063\u3066\u5909\u5316\u3057\u307e\u3059\u3002\u6b21\u306e\u8868\u306f AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\u4f4d\u7f6e\n\u5927\u5206\u985e\n\n\n\n\n1 \u30d0\u30a4\u30c8\u76ee\n\u9577\u3055\n\n\n2 \u30d0\u30a4\u30c8\u76ee\nAD \u30bf\u30a4\u30d7\n\n\n3 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\nAD \u30c7\u30fc\u30bf\n\n\n\n\u4f8b\u3048\u3070\u3001AD \u30bf\u30a4\u30d7\u304c 0x01 (Flags) \u3067\u3042\u308b AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u3001\u30c7\u30fc\u30bf\u90e8\u306e\u9577\u3055\u306f 1 \u30d0\u30a4\u30c8\u306b\u306a\u308b\u306e\u3067 (\u305f\u3060\u3057\u4ed5\u69d8\u62e1\u5f35\u306b\u3088\u308a\u4eca\u5f8c\u5909\u5316\u3059\u308b\u53ef\u80fd\u6027\u306f\u3042\u308a\u307e\u3059)\u3001\u5168\u4f53\u3068\u3057\u3066\u306f 3 \u30d0\u30a4\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\u6b21\u306e\u8868\u306f AD \u30bf\u30a4\u30d7\u304c 0x01 \u306e\u3068\u304d\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\u4f4d\u7f6e\n\u5927\u5206\u985e\n\u4e2d\u5206\u985e\n\u5024\n\n\n\n\n1 \u30d0\u30a4\u30c8\u76ee\n\u9577\u3055\n\n0x02\n\n\n2 \u30d0\u30a4\u30c8\u76ee\nAD \u30bf\u30a4\u30d7\nFlags\n0x01\n\n\n3 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u30d5\u30e9\u30b0\u7fa4\n0x??\n\n\n\n\u306a\u304a\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u306b\u3064\u3044\u3066\u306f\u3001\u300cBluetooth Core Specification 4.2\u300d\u306e\u300c11 ADVERTISING AND SCAN RESPONSE DATA FORMAT\u300d\u3067\u6b21\u306e\u3088\u3046\u306b\u8aac\u660e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nEach AD structure shall have a Length field of one octet, which contains the Length value, and a Data field of Length octets. The first octet of the Data field contains the AD type field. The content of the remaining Length - 1 octet in the Data field depends on the value of the AD type field and is called the AD data.\n\n\n1.3. AD \u30bf\u30a4\u30d7\u306e\u7a2e\u985e\n\n\u5b9a\u7fa9\u6e08\u307f\u306e AD \u30bf\u30a4\u30d7\u306e\u7a2e\u985e\u306f\u3001\u300cGeneric Access Profile\u300d\u30da\u30fc\u30b8\u306b\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4e0b\u8868\u306f\u3001\u5f53\u8a72\u30da\u30fc\u30b8\u5185\u306e\u8868\u304b\u3089\u300cReference for Definition\u300d\u6b04\u3092\u53d6\u308a\u9664\u3044\u3066\u898b\u3084\u3059\u304f\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\n\n\n\u5024\n\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u540d\n\n\n\n\n0x01\nFlags\n\n\n0x02\nIncomplete List of 16-bit Service Class UUIDs\n\n\n0x03\nComplete List of 16-bit Service Class UUIDs\n\n\n0x04\nIncomplete List of 32-bit Service Class UUIDs\n\n\n0x05\nComplete List of 32-bit Service Class UUIDs\n\n\n0x06\nIncomplete List of 128-bit Service Class UUIDs\n\n\n0x07\nComplete List of 128-bit Service Class UUIDs\n\n\n0x08\nShortened Local Name\n\n\n0x09\nComplete Local Name\n\n\n0x0A\nTx Power Level\n\n\n0x0D\nClass of Device\n\n\n0x0E\nSimple Pairing Hash C\n\n\n0x0E\nSimple Pairing Hash C-192\n\n\n0x0F\nSimple Pairing Randomizer R\n\n\n0x0F\nSimple Pairing Randomizer R-192\n\n\n0x10\nDevice ID\n\n\n0x10\nSecurity Manager TK Value\n\n\n0x11\nSecurity Manager Out of Band Flags\n\n\n0x12\nSlave Connection Interval Range\n\n\n0x14\nList of 16-bit Service Solicitation UUIDs\n\n\n0x1F\nList of 32-bit Service Solicitation UUIDs\n\n\n0x15\nList of 128-bit Service Solicitation UUIDs\n\n\n0x16\nService Data\n\n\n0x16\nService Data - 16-bit UUID\n\n\n0x20\nService Data - 32-bit UUID\n\n\n0x21\nService Data - 128-bit UUID\n\n\n0x22\n\u200bLE Secure Connections Confirmation Value\n\n\n0x23\nLE Secure Connections Random Value\n\n\n0x24\nURI\n\n\n0x25\nIndoor Positioning\n\n\n0x26\nTransport Discovery Data\n\n\n0x17\nPublic Target Address\n\n\n0x18\nRandom Target Address\n\n\n0x19\nAppearance\n\n\n0x1A\nAdvertising Interval\n\n\n0x1B\n\u200bLE Bluetooth Device Address\n\n\n0x1C\n\u200bLE Role\n\n\n0x1D\nSimple Pairing Hash C-256\n\n\n0x1E\nSimple Pairing Randomizer R-256\n\n\n0x3D\n3D Information Data\n\n\n0xFF\nManufacturer Specific Data\n\n\n\n\n1.4. \u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf\n\nAD \u30bf\u30a4\u30d7\u4e00\u89a7\u8868\u306e\u672b\u5c3e\u306b\u3001\u5024\u304c 0xFF\u3001\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u540d\u304c\u300cManufacturer Specific Data\u300d(\u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf) \u3068\u3044\u3046\u30a8\u30f3\u30c8\u30ea\u30fc\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001AD \u30c7\u30fc\u30bf\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u81ea\u7531\u306b\u62e1\u5f35\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\nAD \u30bf\u30a4\u30d7\u304c 0xFF \u306e\u5834\u5408\u3001AD \u30c7\u30fc\u30bf\u90e8\u306e\u5148\u982d\u306e 2 \u30d0\u30a4\u30c8\u306b\u306f\u3001\u4f01\u696d\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306e\u756a\u53f7\u304c\u30ea\u30c8\u30eb\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u3067\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002AD \u30c7\u30fc\u30bf\u90e8\u306e 3 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\u306e\u5185\u5bb9\u306f\u3001\u305d\u306e\u4f01\u696d\u304c\u81ea\u7531\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u8868\u306f\u3001AD \u30bf\u30a4\u30d7\u304c 0xFF \u306e\u3068\u304d\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\u4f4d\u7f6e\n\u5927\u5206\u985e\n\u4e2d\u5206\u985e\n\n\n\n\n1 \u30d0\u30a4\u30c8\u76ee\n\u9577\u3055\n\n\n\n2 \u30d0\u30a4\u30c8\u76ee\nAD \u30bf\u30a4\u30d7\n\u88fd\u9020\u8005\u56fa\u6709\n\n\n3 \uff5e 4 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d ID\n\n\n5 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf\n\n\n\n\u4f8b\u3048\u3070\u3001Apple \u793e\u304c\u72ec\u81ea\u306b\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u5b9a\u7fa9\u3059\u308b\u5834\u5408\u3001Apple \u793e\u306e\u4f01\u696d ID \u306f 0x004C \u3067\u3059\u306e\u3067\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4f01\u696d ID \u306f\u30ea\u30c8\u30eb\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u3067\u683c\u7d0d\u3055\u308c\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\u4f4d\u7f6e\n\u5927\u5206\u985e\n\u4e2d\u5206\u985e\n\u5c0f\u5206\u985e\n\u5024\n\n\n\n\n1 \u30d0\u30a4\u30c8\u76ee\n\u9577\u3055\n\n\n?\n\n\n2 \u30d0\u30a4\u30c8\u76ee\nAD \u30bf\u30a4\u30d7\n\u88fd\u9020\u8005\u56fa\u6709\n\n0xFF\n\n\n3 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d ID\nApple \u793e\n0x4C\n\n\n4 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d ID\nApple \u793e\n0x00\n\n\n5 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf\nApple \u793e\u56fa\u6709\u30c7\u30fc\u30bf\n?\n\n\n\n\n1.5. \u4f01\u696d ID\n\n\u767b\u9332\u6e08\u307f\u4f01\u696d ID \u306f\u300cCompany Identifiers\u300d\u30da\u30fc\u30b8\u306b\u30ea\u30b9\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002Apple \u793e\u306e\u4f01\u696d ID \u304c 0x004C \u3067\u3042\u308b\u3053\u3068\u3082\u3001\u3053\u306e\u30da\u30fc\u30b8\u3092\u898b\u308b\u3068\u5206\u304b\u308a\u307e\u3059\u3002\n\n1.6. iBeacon\n\n\u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf\u306e\u4e00\u4f8b\u3068\u3057\u3066\u3001iBeacon \u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\niBeacon \u306f\u3001Apple \u793e\u304c\u5b9a\u3081\u305f\u72ec\u81ea\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u3059\u3002AD \u30c7\u30fc\u30bf\u90e8\u306f\u3001\u5148\u982d 2 \u30d0\u30a4\u30c8\u306b Apple \u793e\u306e\u4f01\u696d ID\u3001\u6b21\u306e 2 \u30d0\u30a4\u30c8\u304c 0x02 \u3068 0x015 \u3067\u56fa\u5b9a\u3001\u4ee5\u964d\u300116 \u30d0\u30a4\u30c8\u306e Proximity UUID\u30012 \u30d0\u30a4\u30c8\u306e\u30e1\u30b8\u30e3\u30fc\u756a\u53f7\u30012 \u30d0\u30a4\u30c8\u306e\u30de\u30a4\u30ca\u30fc\u756a\u53f7\u30011 \u30d0\u30a4\u30c8\u306e\u9001\u4fe1\u51fa\u529b\u304c\u7d9a\u304d\u307e\u3059\u3002Proximity UUID\u3001\u30e1\u30b8\u30e3\u30fc\u756a\u53f7\u3001\u30de\u30a4\u30ca\u30fc\u756a\u53f7\u306f\u30d3\u30c3\u30b0\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u3067\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\niBeacon \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u56f3\u306b\u3059\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u8868\u5f62\u5f0f\u3067\u8868\u73fe\u3059\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\u4f4d\u7f6e\n\u5927\u5206\u985e\n\u4e2d\u5206\u985e\n\u5c0f\u5206\u985e\n\u5024\n\n\n\n\n1 \u30d0\u30a4\u30c8\u76ee\n\u9577\u3055\n\n\n26\n\n\n2 \u30d0\u30a4\u30c8\u76ee\nAD \u30bf\u30a4\u30d7\n\u88fd\u9020\u8005\u56fa\u6709\n\n0xFF\n\n\n3 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d ID\nApple \u793e\n0x4C\n\n\n4 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d ID\nApple \u793e\n0x00\n\n\n5 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf\n\u56fa\u5b9a\u5024\n0x02\n\n\n6 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf\n\u56fa\u5b9a\u5024\n0x15\n\n\n7 \uff5e 22 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf\nProximity UUID\n?\n\n\n23 \uff5e 24 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf\n\u30e1\u30b8\u30e3\u30fc\u756a\u53f7\n?\n\n\n25 \uff5e 26 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf\n\u30de\u30a4\u30ca\u30fc\u756a\u53f7\n?\n\n\n27 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf\n\u9001\u4fe1\u51fa\u529b\n?\n\n\n\n\u300ciBeacon \u30d1\u30b1\u30c3\u30c8\u300d\u3068\u3044\u3046\u8a00\u8449\u3092\u8033\u306b\u3059\u308b\u3053\u3068\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u6280\u8853\u7684\u306b\u6b63\u78ba\u306b\u8868\u73fe\u3059\u308b\u3068\u3001\u300ciBeacon \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3092\u542b\u3080\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u6301\u3064 BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u300d\u3068\u306a\u308a\u307e\u3059\u3002\n\n1.7. Eddystone\n\niBeacon \u3092\u7d39\u4ecb\u3057\u305f\u306e\u3067\u3001Eddystone \u3082\u7d39\u4ecb\u3057\u307e\u3059\u3002\nEddystone \u306f Google \u793e\u304c\u65d7\u632f\u308a\u5f79\u306a\u306e\u3067\u3001Google \u793e\u306e\u4f01\u696d ID \u3092\u6301\u3064\u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3068\u601d\u308f\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u5b9f\u306f\u305d\u3046\u3067\u306f\u306a\u304f\u3001\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u306e\u4e00\u7a2e\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u3092\u8868\u3059 AD \u30bf\u30a4\u30d7\u306f\u8907\u6570\u3042\u308b\u306e\u3067\u3059\u304c\u3001Eddystone \u306f 0x16 \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e AD \u30bf\u30a4\u30d7\u306e\u5834\u5408\u3001AD \u30c7\u30fc\u30bf\u90e8\u306e\u5148\u982d\u306b\u7f6e\u304f\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u5b50\u304c 2 \u30d0\u30a4\u30c8\u3067\u8868\u73fe\u3055\u308c\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001AD \u30bf\u30a4\u30d7 0x20 \u3068 0x21 \u3082\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u3092\u610f\u5473\u3057\u307e\u3059\u304c\u3001\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u5b50\u3092\u305d\u308c\u305e\u308c 4 \u30d0\u30a4\u30c8\u300116 \u30d0\u30a4\u30c8\u3067\u8868\u73fe\u3059\u308b\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002\n\u6b21\u306e\u8868\u306f\u3001AD \u30bf\u30a4\u30d7\u304c 0x16 \u3067\u3001\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u756a\u53f7\u306b Eddystone \u3092\u8868\u3059 0xFEAA \u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u756a\u53f7\u306f\u30ea\u30c8\u30eb\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u3067\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\n\n\n\n\u4f4d\u7f6e\n\u5927\u5206\u985e\n\u4e2d\u5206\u985e\n\u5024\n\n\n\n\n1 \u30d0\u30a4\u30c8\u76ee\n\u9577\u3055\n\n?\n\n\n2 \u30d0\u30a4\u30c8\u76ee\nAD \u30bf\u30a4\u30d7\n\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\n0x16\n\n\n3 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u756a\u53f7\n0xAA\n\n\n4 \u30d0\u30a4\u30c8\u76ee\nAD \u30c7\u30fc\u30bf\n\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u756a\u53f7\n0xFE\n\n\n5 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\nAD \u30c7\u30fc\u30bf\n\u30b5\u30fc\u30d3\u30b9\u56fa\u6709\u30c7\u30fc\u30bf\n?\n\n\n\n5 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\u306e\u30b5\u30fc\u30d3\u30b9\u56fa\u6709\u30c7\u30fc\u30bf\u90e8\u306f\u3001Eddystone \u72ec\u81ea\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u306a\u308a\u307e\u3059\u3002\n\u307e\u305a\u3001\u30b5\u30fc\u30d3\u30b9\u56fa\u6709\u30c7\u30fc\u30bf\u90e8\u306e 1 \u30d0\u30a4\u30c8\u76ee\u306e\u4e0a\u4f4d 4 \u30d3\u30c3\u30c8\u3067 Eddystone \u306e\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002Eddystone \u306b\u306f\u6b21\u306e\u4e09\u3064\u306e\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u304c\u3042\u308a\u3001\u305d\u306e\u7a2e\u5225\u3092\u3053\u306e 4 \u30d3\u30c3\u30c8\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nEddystone UID\nEddystone URL\nEddystone TLM\n\n\u30b5\u30fc\u30d3\u30b9\u56fa\u6709\u30c7\u30fc\u30bf\u90e8\u306e 2 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u3001\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u6bce\u306b\u7570\u306a\u308a\u307e\u3059\u3002Eddystone \u306e\u4ed5\u69d8\u306f GitHub \u306e google/eddystone \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u8a73\u7d30\u306b\u89e3\u8aac\u306f\u3057\u307e\u305b\u3093\u304c\u3001\u56f3\u306b\u307e\u3068\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n1.8. ucode\n\niBeacon \u3068 Eddystone \u3092\u77e5\u3063\u3066\u304a\u3051\u3070\u5341\u5206\u3067\u3059\u304c\u3001\u305b\u3063\u304b\u304f\u65e5\u672c\u306e\u7d44\u8fbc\u696d\u754c\u306e T-Engine \u30d5\u30a9\u30fc\u30e9\u30e0\u304c\u5b9a\u7fa9\u3057\u305f\u300cBluetooth LE ucode \u30de\u30fc\u30ab\u30fc\u30d1\u30b1\u30c3\u30c8\u4ed5\u69d8\u300d\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308b\u306e\u3067\u3001\u7d39\u4ecb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u3053\u306e\u4ed5\u69d8\u306f\u3001T-Engine \u30d5\u30a9\u30fc\u30e9\u30e0\u304c\u5b9a\u7fa9\u3057\u305f\u30b0\u30ed\u30fc\u30d0\u30eb ID \u3067\u3042\u308b\u300cucode\u300d\u306e\u5024\u3092 BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306b\u57cb\u3081\u8fbc\u3080\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u3001\u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf\u306e\u4e00\u7a2e\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002ITU-T H.642 \u3068\u3057\u3066\u3082\u63a1\u629e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f\u4ed5\u69d8\u66f8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n2. \u7406\u60f3\u3068\u73fe\u5b9f\n\n\n2.1. \u7406\u60f3\n\n\u3053\u3053\u307e\u3067\u3001BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u898b\u3066\u304d\u307e\u3057\u305f\u3002\u5f97\u3089\u308c\u305f\u77e5\u8b58\u3092\u3082\u3068\u306b\u3001\u3042\u308b\u3079\u304d API \u306e\u59ff\u3092\u8003\u3048\u3066\u307f\u307e\u3059\u3002\n\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306e\u5024\u304c\u30d0\u30a4\u30c8\u914d\u5217\u3068\u3057\u3066\u4e0e\u3048\u3089\u308c\u305f\u3068\u304d\u3001\u305d\u308c\u3092\u30d1\u30fc\u30b9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u7d50\u679c\u3068\u3057\u3066\u4f55\u3092\u8fd4\u305b\u3070\u3088\u3044\u3067\u3057\u3087\u3046\u304b\uff1f \u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306f AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30ea\u30b9\u30c8\u306a\u306e\u3067\u3001\u305d\u308c\u3092\u305d\u306e\u307e\u307e\u8868\u73fe\u3059\u308b\u7d50\u679c\u3092\u8fd4\u305b\u3070\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u4f8b\u3048\u3070\u3001Java \u3067\u8868\u73fe\u3059\u308b\u3068\u3057\u305f\u3089\u3001\u6b21\u306e\u3088\u3046\u306a\u5f62\u3067\u3059\u3002\n// BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\nbyte[] payload = ...;\n\n// \u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30d1\u30fc\u30b9\u3057\u3066\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30ea\u30b9\u30c8\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b\u3002\nList<ADStructure> list = parse(payload);\n\n\u500b\u3005\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u3001\u5b9f\u969b\u306b\u306f\u3001Flags \u3092\u8868\u3057\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3057\u3001iBeacon \u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3057\u3001Eddystone URL \u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u306e\u95a2\u4fc2\u306f\u3001\u7d99\u627f\u30c4\u30ea\u30fc\u3068\u3057\u3066\u8868\u73fe\u3059\u308b\u306e\u304c\u81ea\u7136\u3067\u3057\u3087\u3046\u3002\u4f8b\u3048\u3070\u3001\u3053\u3053\u307e\u3067\u306b\u7d39\u4ecb\u3057\u305f\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3001Flags\u3001iBeacon\u3001Eddystone\u3001ucode \u306e\u95a2\u4fc2\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u7d99\u627f\u30c4\u30ea\u30fc\u3092\u69cb\u6210\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n\u3053\u306e\u3088\u3046\u306a\u7d99\u627f\u30c4\u30ea\u30fc\u304c API \u3067\u3082\u8868\u73fe\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u4f8b\u3048\u3070 Eddystone URL \u306e\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u6b21\u306e\u3088\u3046\u306b\u66f8\u3051\u308b\u3067\u3057\u3087\u3046 (\u968e\u5c64\u69cb\u9020\u3092\u793a\u3059\u305f\u3081\u306b\u3001\u308f\u3056\u3068 if \u3092\u6df1\u304f\u30cd\u30b9\u30c8\u3055\u305b\u3066\u66f8\u3044\u3066\u3044\u307e\u3059)\u3002\n// AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\nADStructure ads = ...;\n\n// \u3069\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306b\u3082\u3001\u9577\u3055\u3068\u30bf\u30a4\u30d7\u304c\u3042\u308b\u3002\nSystem.out.println(\"\u9577\u3055 = \" + ads.getLength());\nSystem.out.println(\"\u30bf\u30a4\u30d7 = \" + ads.getType());\n\n// \u3082\u3057\u3082\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u3067\u3042\u308c\u3070\u3001\nif (ads instanceof ServiceData)\n{\n    // \u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n    ServiceData sd = (ServiceData)ads;\n\n    // \u3069\u306e\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u306b\u3082\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u4e00\u610f\u306b\u7279\u5b9a\u3059\u308b\u30b5\u30fc\u30d3\u30b9 UUID \u304c\u3042\u308b\u3002\n    System.out.println(\"\u30b5\u30fc\u30d3\u30b9 UUID = \" + sd.getServiceUUID());\n\n    // \u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u306e\u4e2d\u3067\u3082\u3001\u7279\u306b Eddystone \u3067\u3042\u308c\u3070\u3001\n    if (sd instanceof Eddystone)\n    {\n        // Eddystone \u30c7\u30fc\u30bf\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n        Eddystone es = (Eddystone)sd;\n\n        // \u3069\u306e Eddystone \u30c7\u30fc\u30bf\u306b\u3082\u3001\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u304c\u3042\u308b\u3002\n        System.out.println(\"\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225 = \" + es.getFrameType());\n\n        // Eddystone URL \u3067\u3042\u308c\u3070\u3001\n        if (es instanceof EddystoneURL)\n        {\n            // Eddystone URL \u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n            EddystoneURL esurl = (EddystoneURL)es;\n\n            // Eddystone URL \u306b\u306f\u3001\u9001\u4fe1\u51fa\u529b\u3068 URL \u306e\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3002\n            System.out.println(\"\u9001\u4fe1\u51fa\u529b = \" + esurl.getTxPower());\n            System.out.println(\"URL = \" + esurl.getURL());\n        }\n    }\n}\n\n\u3055\u3089\u306b\u3001\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u5b9a\u7fa9\u3057\u3001\u305d\u308c\u3092\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30d1\u30fc\u30b9\u3057\u305f\u7d50\u679c\u306e\u30ea\u30b9\u30c8\u306b\u542b\u307e\u305b\u308b\u3053\u3068\u3092\u53ef\u80fd\u3068\u3059\u308b\u305f\u3081\u3001\u4f55\u304b\u3057\u3089\u72ec\u81ea\u30d1\u30fc\u30b5\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u767b\u9332\u3067\u304d\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u4f8b\u3048\u3070\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u6210\u8981\u7d20\u3067\u3042\u308b\u300c(1) \u9577\u3055\u3001(2) AD \u30bf\u30a4\u30d7\u3001(3) AD \u30c7\u30fc\u30bf\u300d\u304b\u3089 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u3066\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6b21\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3001\npublic interface ADStructureBuilder\n{\n    /**\n     * AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u3002\n     *\n     * @param length\n     *         AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u9577\u3055\u3002 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\n     *         \u30d0\u30a4\u30c8\u914d\u5217\u306e\u4e00\u756a\u76ee\u306e\u30d0\u30a4\u30c8\u306e\u5024\u3002\n     *\n     * @param type\n     *         AD \u30bf\u30a4\u30d7\u3002 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30d0\u30a4\u30c8\u914d\u5217\u306e\n     *         \u4e8c\u756a\u76ee\u306e\u30d0\u30a4\u30c8\u306e\u5024\u3002\n     *\n     * @param data\n     *         AD \u30c7\u30fc\u30bf\u3002 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30d0\u30a4\u30c8\u914d\u5217\u306e\n     *         \u4e09\u756a\u76ee\u4ee5\u964d\u306e\u30d0\u30a4\u30c8\u7fa4\u3002\n     *\n     * @return\n     *         ADStructure \u3082\u3057\u304f\u306f\u305d\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3002\n     *         \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3067\u304d\u306a\u3044\u3068\u304d\u306f null \u3092\u8fd4\u3059\u3002\n     */\n    ADStructure build(int length, int type, byte[] data);\n}\n\n\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f55\u3089\u304b\u306e\u65b9\u6cd5\u3067\u767b\u9332\u3067\u304d\u308b\u3088\u3046\u306a\u3063\u3066\u3044\u308c\u3070\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n2.2. \u73fe\u5b9f\n\n\u3055\u3066\u3001\u73fe\u5b9f\u306e\u4e16\u754c\u3067\u306f\u3069\u306e\u3088\u3046\u306a API \u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\nAPI \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306b\u306f\u3001\u300cBluetoothAdapter \u30af\u30e9\u30b9\u306e startLeScan(LeScanCallback) \u30e1\u30bd\u30c3\u30c9\u306f API level 21 (Android 5.0) \u3067 deprecated \u6271\u3044\u3068\u306a\u3063\u305f\u306e\u3067\u3001\u304b\u308f\u308a\u306b startScan(List, ScanSettings, ScanCallback) \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3088\u3046\u306b\u300d\u3068\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u65b0\u3057\u3044\u30e1\u30bd\u30c3\u30c9\u306e\u4e09\u756a\u76ee\u306e\u5f15\u6570\u306f ScanCallback \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\u30af\u30e9\u30b9\u306e\u540d\u79f0\u304b\u3089\u3001\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u53d7\u4fe1\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3060\u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002Android 4.X \u304b\u3089 Android 5.X \u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u3068\u304d\u306b\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c LeScanCallback \u304b\u3089 ScanCallback \u306b\u5909\u66f4\u306b\u306a\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\u3053\u306e ScanCallback \u30af\u30e9\u30b9\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u4e09\u3064\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nvoid onBatchScanResults(List<ScanResult> results) { ... }\nvoid onScanFailed(int errorCode) { ... }\nvoid onScanResult(int callbackType, ScanResult result) { ... }\n\n\u30e1\u30bd\u30c3\u30c9\u540d\u304c on \u3067\u59cb\u307e\u308b\u3053\u3068\u304b\u3089\u3001\u4f55\u3089\u304b\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u53d7\u3051\u53d6\u308b\u305f\u3081\u306b\u306f\u3053\u308c\u3089\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308c\u3070\u3044\u3044\u3060\u308d\u3046\u3068\u3044\u3046\u3053\u3068\u304c\u63a8\u6e2c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3001\u3053\u308c\u3089\u4ee5\u5916\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304b\u3089\u3001\u300c\u306a\u305c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u306f\u306a\u304f\u30af\u30e9\u30b9\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u305f\u306e\u304b\u300d\u3068\u3044\u3046\u7591\u554f\u306f\u5f53\u7136\u6e67\u3044\u3066\u304d\u3066\u3001\u65e9\u304f\u3082\u602a\u3057\u3052\u3067\u3059\u304c\u3001\u6b21\u306b\u9032\u307f\u307e\u3059\u3002\nScanCallback \u30af\u30e9\u30b9\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b onBatchScanResults \u30e1\u30bd\u30c3\u30c9\u3082 onScanResult \u30e1\u30bd\u30c3\u30c9\u3082\u3001\u30c7\u30fc\u30bf\u69cb\u9020\u3068\u3057\u3066 ScanResult \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u3053\u306e ScanResult \u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u3092\u898b\u308b\u3068\u3001\u5e7e\u3064\u304b\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u30d1\u30fc\u30b9\u3057\u305f\u7d50\u679c\u306f\u3001getScanRecord() \u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308a ScanRecord \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\nScanRecord getScanRecord() { ... }\n\n\u3067\u306f\u3053\u3053\u3067\u3001ScanRecord \u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u4e00\u89a7\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\n\n\u623b\u308a\u5024\n\u30e1\u30bd\u30c3\u30c9\n\n\n\n\nint\ngetAdvertiseFlags()\n\n\nbyte[]\ngetBytes()\n\n\nString\ngetDeviceName()\n\n\nSparseArray<byte[]>\ngetManufacturerSpecificData()\n\n\nbyte[]\ngetManufacturerSpecificData(int)\n\n\nbyte[]\ngetServiceData(ParcelUuid)\n\n\nMap<ParcelUuid,byte[]>\ngetServiceData()\n\n\nList<ParcelUuid>\ngetServiceUuids()\n\n\nint\ngetTxPowerLevel()\n\n\nString\ntoString()\n\n\n\n\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u77e5\u3063\u3066\u3044\u308c\u3070\u3001\u3053\u308c\u3089\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u305d\u308c\u305e\u308c\u4f55\u306e\u60c5\u5831\u3092\u8fd4\u305d\u3046\u3068\u3044\u3046\u3057\u3066\u3044\u308b\u306e\u304b\u304c\u5206\u304b\u308a\u307e\u3059\u3002getBytes() \u30e1\u30bd\u30c3\u30c9\u3068 toString() \u30e1\u30bd\u30c3\u30c9\u3092\u9664\u304f\u4ed6\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u3042\u308b\u7279\u5b9a\u306e AD \u30bf\u30a4\u30d7\u3092\u6301\u3064 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u8fd4\u305d\u3046\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u8868\u306b\u307e\u3068\u3081\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\u30e1\u30bd\u30c3\u30c9\nAD \u30bf\u30a4\u30d7\n\n\n\n\ngetAdvertiseFlags\n0x01\n\n\ngetDeviceName\n\n0x08, 0x09\n\n\n\ngetManufacturerSpecificData\n0xFF\n\n\ngetServiceData\n\n0x16, 0x20, 0x21\n\n\n\ngetServiceUuids\n\n0x02 \uff5e 0x07\n\n\n\ngetTxPowerLevel\n0x0A\n\n\n\n\u30da\u30a4\u30ed\u30fc\u30c9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u3061\u3083\u3093\u3068\u7406\u89e3\u3057\u3066\u3044\u308c\u3070\u3001\u3053\u3053\u3067 ScanRecord \u30af\u30e9\u30b9\u306e\u8a2d\u8a08\u306e\u9177\u3055\u306b\u6c17\u4ed8\u304f\u306f\u305a\u3067\u3059\u3002\n\u307e\u305a\u30011 \u3064\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306b\u3001\u4e0a\u8a18\u8868\u5185\u306b\u6319\u3052\u3089\u308c\u3066\u3044\u308b\u5168\u3066\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u304c\u540c\u6642\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u306f\u3001\u307e\u305a\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u9006\u306b\u3001\u4e0a\u8a18\u306e\u3044\u305a\u308c\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3082\u542b\u307e\u306a\u3044\u30da\u30a4\u30ed\u30fc\u30c9\u3068\u3044\u3046\u306e\u3082\u5f53\u7136\u3042\u308a\u3048\u307e\u3059\u3002\u3067\u3059\u306e\u3067\u3001ScanRecord \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d7\u3051\u53d6\u3063\u3066\u3082\u3001\u4e0a\u8a18\u306e\u30e1\u30bd\u30c3\u30c9\u7fa4\u304c\u5168\u3066 null \u3082\u3057\u304f\u306f\u7a7a\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u8fd4\u3059\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\u6b21\u306b\u3001\u9078\u629e\u3055\u308c\u305f AD \u30bf\u30a4\u30d7\u306e\u6063\u610f\u6027\u3067\u3059\u3002\u306a\u305c\u30010x01 \uff5e 0x0A, 0x16, 0x20, 0x21, 0xFF \u306f\u9078\u3070\u308c\u3001\u4ed6\u306f\u9078\u3070\u308c\u306a\u304b\u3063\u305f\u306e\u304b\u3002\u3053\u306e\u975e\u5bfe\u79f0\u6027\u306f\u306a\u3093\u306a\u306e\u3067\u3057\u3087\u3046\u304b\u3002\nScanRecord \u306e\u8a2d\u8a08\u3092\u3001\u52d5\u7269\u3092\u4f8b\u306b\u4f8b\u3048\u307e\u3059\u3002\u4eca\u3001\u52d5\u7269\u306b\u95a2\u3059\u308b\u30c7\u30fc\u30bf\u304c\u4e26\u3093\u3067\u3044\u3066\u3001\u305d\u308c\u3092\u30d1\u30fc\u30b9\u3059\u308b\u3068\u3057\u307e\u3059\u3002\u30d1\u30fc\u30b9\u306e\u7d50\u679c\u3092\u53d7\u3051\u53d6\u308b\u3068\u304d\u3001\u53d7\u3051\u624b\u306f\u666e\u901a\u3001List<\u52d5\u7269> \u3068\u3044\u3046\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u671f\u5f85\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001ScanRecord \u3068\u540c\u3058\u69cb\u9020\u3068\u3059\u308b\u306a\u3089\u3070\u3001\u53d7\u3051\u624b\u304c\u53d7\u3051\u53d6\u308b\u306e\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u3067\u3059\u3002\npublic class \u52d5\u7269\u30ec\u30b3\u30fc\u30c9\n{\n    get\u30ed\u30b7\u30a2\u30f3\u30d6\u30eb\u30fc() { ... }\n    get\u30dd\u30e1\u30e9\u30cb\u30a2\u30f3() { ... }\n    get\u9ce5\u985e\u30bf\u30ab\u76ee() { ... }\n    get\u4e21\u751f\u985e() { ... }\n    get\u5143\u30c7\u30fc\u30bf() { ... }\n}\n\n\u00a0\n\u00a0 \u00a0 \u00a0\n\u00a0\n\u3053\u306e ScanRecord \u30af\u30e9\u30b9\u306e\u8a2d\u8a08\u306f\u3001Android API \u306e\u4e2d\u3067\u3082\u6700\u60aa\u30ec\u30d9\u30eb\u3067\u3001\u7f75\u5012\u3055\u308c\u3066\u3082\u3084\u3080\u3092\u3048\u307e\u305b\u3093\u3002\u3053\u306e\u4ed6\u3001Android \u306e BLE \u95a2\u9023\u306e API \u306f\u5168\u822c\u7684\u306b\u8a2d\u8a08\u30df\u30b9\u306e\u5b9d\u5eab\u3067\u3059\u3002Android 4.X \u304b\u3089 5.X \u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u969b\u306b BLE API \u3092\u518d\u8a2d\u8a08\u3057\u305f\u306e\u306b\u3053\u306e\u4f4e\u54c1\u8cea\u3067\u3001\u304b\u3064\u305d\u308c\u304c\u516c\u5f0f API \u306b\u63a1\u7528\u3055\u308c\u3066\u3057\u307e\u3063\u305f\u3068\u3044\u3046\u3053\u3068\u306f\u3001Android \u306e BLE \u754c\u9688\u306f\u304b\u306a\u308a\u306e\u4eba\u6750\u4e0d\u8db3\u306a\u306e\u3060\u3068\u63a8\u6e2c\u305b\u3056\u308b\u3092\u3048\u307e\u305b\u3093\u3002\n\n3. Android Beacon Library\n\n\n3.1. Android Beacon Library \u306e\u7d39\u4ecb\n\n\u300c\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30d1\u30fc\u30b9\u3057\u305f\u3044\u300d\u3068\u3001\u307f\u3093\u306a\u601d\u3044\u307e\u3059\u3002iBeacon \u3084 Eddystone \u306e\u30c7\u30fc\u30bf\u3092\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u304b\u3089\u53d6\u308a\u51fa\u3057\u305f\u3044\u306e\u3067\u3059\u3002\u72ec\u81ea\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u6295\u3052\u308b\u30d3\u30fc\u30b3\u30f3\u3092\u4f5c\u308a\u305f\u3044\u4f01\u696d\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u3002\nAndroid BLE API \u306f\u524d\u8ff0\u306e\u901a\u308a\u9177\u3044\u306e\u3067\u3001\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30d1\u30fc\u30b9\u3057\u305f\u3044\u4eba\u306f\u89e3\u3092\u6c42\u3081\u3066 Stack Overflow \u306b\u884c\u304d\u307e\u3059\u3002\u3059\u308b\u3068\u3059\u3050\u306b Android Beacon Library \u3068\u3044\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u8fbf\u308a\u3064\u304d\u307e\u3059\u3002\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u3067 (AltBeacon/android-beacon-library)\u3001Radius Networks \u3068\u3044\u3046\u4f1a\u793e\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002Radius Networkds \u793e\u306e\u95a2\u4fc2\u8005\u304c\u7a4d\u6975\u7684\u306b\u56de\u7b54\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u3042\u308a\u3001Stack Overflow \u306f Android Beacon Library \u306e\u56de\u7b54\u3067\u6ea2\u308c\u8fd4\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u30d1\u30fc\u30b9\u3055\u305b\u308b\u306b\u306f\u3001\u5bfe\u8c61\u3068\u306a\u308b AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u30d1\u30fc\u30b5\u30fc\u306b\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070 iBeacon \u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\u306b\u306f\u3001\u30d1\u30fc\u30b5\u30fc\u306b\u6b21\u306e\u3088\u3046\u306b\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n// iBeacon \u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3059\u308b\u3002\nsetBeaconLayout(\"m:2-3=0215,i:4-19,i:20-21,i:22-23,p:24-24\");\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u66f8\u5f0f\u306e\u8aac\u660e\u306f\u3001BeaconParser \u30af\u30e9\u30b9\u306e setBeaconLayout \u30e1\u30bd\u30c3\u30c9\u306e JavaDoc \u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u3060\u3044\u305f\u3044\u60f3\u50cf\u304c\u3064\u304f\u901a\u308a\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u30d0\u30a4\u30c8\u4f4d\u7f6e\u306e\u7d44\u3092\u5217\u6319\u3057\u3066\u3044\u307e\u3059\u3002\nAndroid Beacon Library \u3092\u4f7f\u3063\u3066 Eddystone \u30c7\u30fc\u30bf\u3092\u6271\u3046\u65b9\u6cd5\u306f\u300cHow to detect Eddystone-Compatible Beacons\u300d\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070 Eddystone URL \u3092\u691c\u51fa\u3059\u308b\u306b\u306f\u3001\u307e\u305a\u3001\u30d1\u30fc\u30b5\u30fc\u306b Eddystone URL \u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3057\u3001\nmBeaconManager.getBeaconParsers().add(new BeaconParser().\n    setBeaconLayout(\"s:0-1=feaa,m:2-2=10,p:3-3:-41,i:4-20v\"));\n\n\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306e\u30d1\u30fc\u30b9\u7d50\u679c\u3092\u5f97\u305f\u6642\u306b\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u3066 Eddystone URL \u3060\u3068\u3044\u3046\u3053\u3068\u3092\u5224\u5b9a\u3057\u3066\u3001\u60c5\u5831\u3092\u53d6\u308a\u51fa\u3057\u307e\u3059\u3002\nfor (Beacon beacon: beacons) {\n    if (beacon.getServiceUuid() == 0xfeaa && beacon.getBeaconTypeCode() == 0x10) {\n        // This is a Eddystone-URL frame\n        String url = UrlBeaconUrlCompressor.uncompress(beacon.getId1().toByteArray());\n        Log.d(TAG, \"I see a beacon transmitting a url: \" + url +\n                \" approximately \" + beacon.getDistance() + \" meters away.\");\n    }\n}\n\n\u3053\u306e\u30b3\u30fc\u30c9\u306f\u524d\u51fa\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u8ee2\u8f09\u3057\u305f\u3082\u306e\u3067\u3059\u304c\u3001(1) Eddystone \u306e\u30b5\u30fc\u30d3\u30b9\u756a\u53f7\u304c 0xFEAA \u3068\u3044\u3046\u3053\u3068\u3001\u53ca\u3073 (2) Eddystone URL \u306e\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u3092\u793a\u3059\u5024\u304c 0x1? \u3067\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u3092\u77e5\u3089\u306a\u3044\u3068\u3001\u3053\u306e\u30b3\u30fc\u30c9\u306f\u66f8\u3051\u307e\u305b\u3093\u3002\u306a\u304a\u3001\u6b63\u78ba\u306b\u306f\nbeacon.getBeaconType() == 0x10\n\n\u3068\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u306f\n(beacon.getBeaconType() & 0xF0) == 0x10\n\n\u3068\u66f8\u304f\u3079\u304d\u3067\u3059\u3002\n\n3.2. Android Beacon Library \u306e\u554f\u984c\u70b9\n\nAndroid Beacon Library \u306e\u8a2d\u8a08\u306f\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3059\u308b\u3068\u3044\u3046\u539f\u59cb\u7684\u306a\u3082\u306e\u306a\u306e\u3067\u3001\u30d1\u30fc\u30b9\u3055\u308c\u305f AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u5168\u3066 Beacon \u3068\u3044\u3046\u6c4e\u7528\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3067\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\u9006\u306b\u8a00\u3046\u3068\u3001\u4f8b\u3048\u3070\u4e0b\u8a18\u306e\u3088\u3046\u306a\u4fbf\u5229\u306a\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\npublic class EddystoneURL extends Eddystone\n{\n    /**\n     * Eddystone URL \u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u304c\u4fdd\u6301\u3059\u308b URL \u60c5\u5831\u3092\n     * java.net.URL \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066\u8fd4\u3059\u3002\n     */\n    public URL getURL() { ... }\n    ...\n}\n\n\u52a0\u3048\u3066\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u5185\u306e\u69cb\u9020\u304c\u7279\u6b8a\u306b\u306a\u308b\u3068\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u66f8\u5f0f\u3067\u306f\u5bfe\u5fdc\u3057\u304d\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070 Eddystone URL \u306e\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u65b9\u6cd5\u306f\u7279\u6b8a\u306a\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u8272\u3005\u8907\u96d1\u306a\u3053\u3068\u3092\u3084\u3089\u306a\u3044\u3068\u6b32\u3057\u3044\u60c5\u5831\u304c\u53d6\u308a\u51fa\u305b\u307e\u305b\u3093\u3002\nString url = UrlBeaconUrlCompressor.uncompress(beacon.getId1().toByteArray());\n\nEddystone TLM \u304c\u6301\u3064\u6e29\u5ea6\u60c5\u5831\u3082\u56fa\u5b9a\u5c0f\u6570\u70b9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 (Cornell University, Electrical Engineering 476, Fixed Point mathematical functions in GCC and assembler \u53c2\u7167) \u3067\u683c\u7d0d\u3055\u308c\u3066\u3044\u3066\u3001\u3053\u306e\u5f62\u5f0f\u306f Android Beacon Library \u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u66f8\u5f0f\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u306a\u306e\u3067\u3001\u3053\u3061\u3089\u3082\u60c5\u5831\u3092\u5f97\u308b\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304b\u306a\u3044\u3068\u3044\u3051\u307e\u305b\u3093\u3002\u3053\u306e\u30b3\u30fc\u30c9\u306f\u3001Radius Networks \u793e\u306e\u95a2\u4fc2\u8005\u306b\u3088\u308b Stack Overflow \u306e\u56de\u7b54\u304b\u3089\u306e\u8ee2\u8f09\u3067\u3059\u3002\nlong unsignedTemp = (beacon.getExtraDataFields().get(2) >> 8);\ndouble temperature = unsignedTemp > 128 ? \n    unsignedTemp - 256 : \n    unsignedTemp +(beacon.getExtraDataFields().get(2) & 0xff)/256.0;\n\n\u3082\u3057\u3082 Eddystone TLM \u3092\u3001\u6b21\u306e\u3088\u3046\u306a\u4fbf\u5229\u306a\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3042\u308c\u3070\u3001(1) \u6e29\u5ea6\u60c5\u5831\u304c\u56fa\u5b9a\u5c0f\u6570\u70b9\u6570\u3068\u3057\u3066\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3001\u53ca\u3073 (2) \u56fa\u5b9a\u5c0f\u6570\u70b9\u6570\u3092 float \u306b\u76f4\u3059\u65b9\u6cd5\u3092\u77e5\u3089\u305a\u3068\u3082\u3001\u7c21\u5358\u306b\u6e29\u5ea6\u60c5\u5831\u3092\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002\npublic class EddystoneTLM extends Eddystone\n{\n    /**\n     * Eddystone TLM \u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u304c\u4fdd\u6301\u3059\u308b\u3001\u56fa\u5b9a\u5c0f\u6570\u70b9\n     * \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u8868\u73fe\u3055\u308c\u305f\u6e29\u5ea6\u60c5\u5831\u3092\u30d1\u30fc\u30b9\u3057\u3066 float \u3068\u3057\u3066\u8fd4\u3059\u3002\n     */\n    public float getBeaconTemperature() { ... }\n    ...\n}\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u767b\u9332\u3068\u3044\u3046\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u4e00\u898b\u6c4e\u7528\u7684\u3067\u826f\u3044\u89e3\u306e\u3088\u3046\u306b\u601d\u3048\u307e\u3059\u304c\u3001\u3053\u306e\u8a2d\u8a08\u306f\u610f\u5916\u3068\u5b89\u3063\u307d\u3044\u3082\u306e\u3067\u3042\u308a\u3001\u7d50\u5c40\u4f7f\u3044\u52dd\u624b\u306e\u60aa\u3055\u3068\u3057\u3066\u8df3\u306d\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\u3055\u3089\u306b\u73fe\u5b9f\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u6b63\u3057\u304f\u8868\u73fe\u3057\u304d\u308c\u306a\u3044\u306e\u3067\u3059\u3002\u300c\u305d\u308c\u3067\u306f\u300d\u3068\u8a00\u3063\u3066\u4f7f\u3044\u52dd\u624b\u3092\u6c42\u3081\u308b\u3068\u3001\u6c4e\u7528\u306e\u306f\u305a\u306e Beacon \u30af\u30e9\u30b9\u306b mServiceUuid \u3084 mTxPower \u3068\u3044\u3063\u305f\u3001\u672c\u6765\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u6301\u3064\u3079\u304d\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u304d\u3001\u8a2d\u8a08\u304c\u3069\u3093\u3069\u3093\u6c5a\u304f\u306a\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u3044\u3061\u3044\u3061\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3001\u30d1\u30fc\u30b9\u51e6\u7406\u306e\u7d50\u679c\u5f97\u3089\u308c\u305f Beacon \u304b\u3089\u53d6\u308a\u51fa\u3057\u305f\u30c7\u30fc\u30bf\u3092\u3055\u3089\u306b\u81ea\u5206\u3067\u30d1\u30fc\u30b9\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3001\u3068\u3044\u3046\u554f\u984c\u70b9\u3082\u3055\u308b\u3053\u3068\u306a\u304c\u3089\u3001\u79c1\u304c\u305d\u308c\u4ee5\u4e0a\u306b Android Beacon Library \u306e\u8a2d\u8a08\u4e0a\u306e\u554f\u984c\u3068\u3057\u3066\u6307\u6458\u3057\u305f\u3044\u306e\u306f\u3001Android Beacon Library \u3067\u306f AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u968e\u5c64\u69cb\u9020\u3092\u7d76\u5bfe\u306b\u8868\u73fe\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u70b9\u3067\u3059\u3002 \u3053\u306e\u554f\u984c\u306f\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u767b\u9332\u3068\u3044\u3046\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u3068\u3063\u3066\u3044\u308b\u9650\u308a\u89e3\u6d88\u3067\u304d\u307e\u305b\u3093\u3002\n\n4. \u7e4b\u304e\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\n\n\u5c06\u6765\u307e\u3068\u3082\u306a Android BLE API \u304c\u518d\u3005\u8a2d\u8a08\u30fb\u5b9f\u88c5\u3055\u308c\u308b\u307e\u3067\u306e\u7e4b\u304e\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u3001\u624b\u524d\u5473\u564c\u3067\u306f\u3042\u308a\u307e\u3059\u304c nv-bluetooth \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002 \u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u3068\u3001\u5148\u306b\u8ff0\u3079\u305f\u7406\u60f3\u306e\u5f62\u3067\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\u4f7f\u7528\u65b9\u6cd5\u306f\u4e0b\u8a18\u306e\u30ea\u30f3\u30af\u5148\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n[GitHub] nv-bluetooth README\n[\u30d6\u30ed\u30b0] iBeacon as a kind of AD structures\n[\u30d6\u30ed\u30b0] Eddystone \u30d1\u30b1\u30c3\u30c8\u3092\u30d1\u30fc\u30b9\u3059\u308b (Android)\n\n\u307e\u305f\u3001\u4e0b\u8a18\u306e Stack Overflow \u306e\u56de\u7b54\u7fa4\u3082\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Android Beacon Library \u3092\u7528\u3044\u308b\u65b9\u6cd5\u3067\u306e\u56de\u7b54\u304c\u540c\u6642\u306b\u3064\u3044\u3066\u3044\u308b\u8cea\u554f\u3082\u3042\u308b\u306e\u3067\u3001\u6bd4\u8f03\u3057\u3066\u307f\u308b\u3068\u9055\u3044\u304c\u306f\u3063\u304d\u308a\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u300cProgrammatically, How to identify if a beacon belongs to Eddystone or iBeacon?\u300d\u306b\u5bfe\u3059\u308b\u56de\u7b54\n\n\u300cHow to read UDID, Major, Minor of beacon on android devices?\u300d\u306b\u5bfe\u3059\u308b\u56de\u7b54\n\n\u300cHow to identify Eddystone URL and uid?\u300d\u306b\u5bfe\u3059\u308b\u56de\u7b54\n\n\u300cHow to identify a Eddystone via scanRecord\u300d\u306b\u5bfe\u3059\u308b\u56de\u7b54\n\n\u300cAndroid Bluetooth Low Energy - iBeacon\u300d\u306b\u5bfe\u3059\u308b\u56de\u7b54\n\n\u300cFinding iBeacon using AltBeacon library\u300d\u306b\u5bfe\u3059\u308b\u56de\u7b54\n\n\n\n\u304a\u308f\u308a\u306b\n\nAndroid BLE API \u306e\u8a2d\u8a08\u304c\u3042\u307e\u308a\u306b\u3082\u9177\u3044\u3053\u3068\u3001Android Beacon Library \u304c\u6d41\u884c\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u3001Android \u3092\u7528\u3044\u305f BLE \u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u767a\u5c55\u306e\u963b\u5bb3\u8981\u56e0\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002 \u6b63\u3057\u3044\u8a2d\u8a08\u30fb\u5b9f\u88c5\u304c\u3067\u304d\u308b\u30a8\u30f3\u30b8\u30cb\u30a2\u3092\u96c6\u3081\u3066\u65b0\u3057\u3044\u30c1\u30fc\u30e0\u3092\u4f5c\u3063\u305f\u4e0a\u3067\u3001\u30cd\u30a4\u30c6\u30a3\u30d6\u30ec\u30a4\u30e4\u30fc\u304b\u3089 Android BLE API \u306e\u518d\u8a2d\u8a08\u30fb\u518d\u5b9f\u88c5\u304c\u304a\u3053\u306a\u308f\u308c\u308b\u3053\u3068\u3092\u5e0c\u671b\u3057\u307e\u3059\u3002\n# **\u306f\u3058\u3081\u306b**\n\nAndroid 4.3 \u304b\u3089\u3001BLE (Bluetooth Low Energy) \u7528\u306e API \u304c\u63d0\u4f9b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u305d\u306e\u5f8c\u3001Android 5.0 \u3067 `android.bluetooth.le` \u3068\u3044\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u8ffd\u52a0\u3055\u308c\u3001BLE \u7528\u306e API \u304c\u518d\u5b9a\u7fa9\u3055\u308c\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u8f2a\u3092\u304b\u3051\u3066\u9177\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u3057\u3070\u3089\u304f BLE \u306e\u4ed5\u4e8b\u3092\u96e2\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u305d\u3046\u306a\u306e\u3067 (\u305d\u3057\u3066\u6050\u3089\u304f\u623b\u3063\u3066\u3053\u306a\u3044\u306e\u3067)\u3001Android BLE API \u306b\u5bfe\u3057\u3066\u8a00\u3044\u305f\u3044\u3053\u3068\u3092\u5fd8\u308c\u306a\u3044\u3046\u3061\u306b\u66f8\u3044\u3066\u304a\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u306a\u304a\u3001\u4e3b\u306b BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306e\u8a71\u306b\u306a\u308a\u307e\u3059\u3002BLE API \u5168\u4f53\u306b\u3064\u3044\u3066\u306f\u6271\u3044\u307e\u305b\u3093\u3002\n\n\n# **1. \u30da\u30a4\u30ed\u30fc\u30c9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8**\n\nBLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c BLE \u306e\u4ed5\u69d8\u3067\u3069\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u77e5\u308c\u3070\u3001\u3042\u308b\u3079\u304d API \u306e\u59ff\u304c\u60f3\u50cf\u3067\u304d\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u307e\u305a\u306f\u305d\u306e\u8aac\u660e\u3092\u3057\u307e\u3059\u3002\u5177\u4f53\u7684\u306b\u306f\u3001[LeScanCallback](http://developer.android.com/intl/ja/reference/android/bluetooth/BluetoothAdapter.LeScanCallback.html) \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b [onLeScan](http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.LeScanCallback.html#onLeScan(android.bluetooth.BluetoothDevice,%20int,%20byte[])) \u30e1\u30bd\u30c3\u30c9\u306e\u4e09\u756a\u76ee\u306e\u5f15\u6570\u3067\u3042\u308b `byte[] scanRecord` \u306e\u4e2d\u8eab\u304c\u3069\u306e\u3088\u3046\u306a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u306e\u8aac\u660e\u3092\u3057\u307e\u3059\u3002\n\n\n## **1.1. \u30da\u30a4\u30ed\u30fc\u30c9\u306e\u69cb\u9020**\n\nBLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306f\u3001**AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc**\u3068\u3044\u3046\u3082\u306e\u306e\u30ea\u30b9\u30c8\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u500b\u3005\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u53ef\u5909\u9577\u3067\u3059\u3002\u4e0b\u56f3\u306f\u4e09\u3064\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3092\u542b\u3080\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\n\n![payload.png](https://qiita-image-store.s3.amazonaws.com/0/106044/714c5a9d-0597-e043-10dd-a25cd8273cbc.png)\n\n\n## **1.2. AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020**\n\nAD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u30011 \u30d0\u30a4\u30c8\u76ee\u306b\u300cAD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u5168\u4f53\u306e\u9577\u3055 - 1\u300d\u30012 \u30d0\u30a4\u30c8\u76ee\u306b AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30bf\u30a4\u30d7 (**AD \u30bf\u30a4\u30d7**)\u30013 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\u306f\u30c7\u30fc\u30bf (**AD \u30c7\u30fc\u30bf**) \u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30c7\u30fc\u30bf\u306e\u9577\u3055\u3068\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u30012 \u30d0\u30a4\u30c8\u76ee\u306e\u5024\u304c\u793a\u3059 AD \u30bf\u30a4\u30d7\u306b\u3088\u3063\u3066\u5909\u5316\u3057\u307e\u3059\u3002\u6b21\u306e\u8868\u306f AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n| \u4f4d\u7f6e | \u5927\u5206\u985e |\n|:--|:--|\n| 1 \u30d0\u30a4\u30c8\u76ee | \u9577\u3055 |\n| 2 \u30d0\u30a4\u30c8\u76ee | AD \u30bf\u30a4\u30d7 |\n| 3 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d | AD \u30c7\u30fc\u30bf |\n\n\u4f8b\u3048\u3070\u3001AD \u30bf\u30a4\u30d7\u304c `0x01` (Flags) \u3067\u3042\u308b AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u3001\u30c7\u30fc\u30bf\u90e8\u306e\u9577\u3055\u306f 1 \u30d0\u30a4\u30c8\u306b\u306a\u308b\u306e\u3067 <sup>(\u305f\u3060\u3057\u4ed5\u69d8\u62e1\u5f35\u306b\u3088\u308a\u4eca\u5f8c\u5909\u5316\u3059\u308b\u53ef\u80fd\u6027\u306f\u3042\u308a\u307e\u3059)</sup>\u3001\u5168\u4f53\u3068\u3057\u3066\u306f 3 \u30d0\u30a4\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\u6b21\u306e\u8868\u306f AD \u30bf\u30a4\u30d7\u304c `0x01` \u306e\u3068\u304d\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n| \u4f4d\u7f6e | \u5927\u5206\u985e | \u4e2d\u5206\u985e | \u5024 |\n|:--|:--|:--|:--|\n| 1 \u30d0\u30a4\u30c8\u76ee | \u9577\u3055 | | `0x02` |\n| 2 \u30d0\u30a4\u30c8\u76ee | AD \u30bf\u30a4\u30d7 | Flags | `0x01` |\n| 3 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u30d5\u30e9\u30b0\u7fa4 | `0x??` |\n\n\u306a\u304a\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u306b\u3064\u3044\u3066\u306f\u3001\u300cBluetooth Core Specification 4.2\u300d\u306e\u300c11 ADVERTISING AND SCAN RESPONSE DATA FORMAT\u300d\u3067\u6b21\u306e\u3088\u3046\u306b\u8aac\u660e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n> Each **AD structure** shall have a **Length** field of one octet, which contains the Length value, and a Data field of Length octets. The first octet of the Data field contains the **AD type** field. The content of the remaining Length - 1 octet in the Data field depends on the value of the AD type field and is called the **AD data**.\n\n\n## **1.3. AD \u30bf\u30a4\u30d7\u306e\u7a2e\u985e**\n\n\u5b9a\u7fa9\u6e08\u307f\u306e AD \u30bf\u30a4\u30d7\u306e\u7a2e\u985e\u306f\u3001\u300c[Generic Access Profile](https://www.bluetooth.org/en-us/specification/assigned-numbers/generic-access-profile)\u300d\u30da\u30fc\u30b8\u306b\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4e0b\u8868\u306f\u3001\u5f53\u8a72\u30da\u30fc\u30b8\u5185\u306e\u8868\u304b\u3089\u300cReference for Definition\u300d\u6b04\u3092\u53d6\u308a\u9664\u3044\u3066\u898b\u3084\u3059\u304f\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\n| \u5024 | \u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u540d |\n|:--:|:--|\n| `0x01` | Flags |\n| `0x02` | Incomplete List of 16-bit Service Class UUIDs |\n| `0x03` | Complete List of 16-bit Service Class UUIDs |\n| `0x04` | Incomplete List of 32-bit Service Class UUIDs |\n| `0x05` | Complete List of 32-bit Service Class UUIDs |\n| `0x06` | Incomplete List of 128-bit Service Class UUIDs |\n| `0x07` | Complete List of 128-bit Service Class UUIDs |\n| `0x08` | Shortened Local Name |\n| `0x09` | Complete Local Name |\n| `0x0A` | Tx Power Level |\n| `0x0D` | Class of Device |\n| `0x0E` | Simple Pairing Hash C |\n| `0x0E` | Simple Pairing Hash C-192 |\n| `0x0F` | Simple Pairing Randomizer R |\n| `0x0F` | Simple Pairing Randomizer R-192 |\n| `0x10` | Device ID |\n| `0x10` | Security Manager TK Value |\n| `0x11` | Security Manager Out of Band Flags |\n| `0x12` | Slave Connection Interval Range |\n| `0x14` | List of 16-bit Service Solicitation UUIDs |\n| `0x1F` | List of 32-bit Service Solicitation UUIDs |\n| `0x15` | List of 128-bit Service Solicitation UUIDs |\n| `0x16` | Service Data |\n| `0x16` | Service Data - 16-bit UUID |\n| `0x20` | Service Data - 32-bit UUID |\n| `0x21` | Service Data - 128-bit UUID |\n| `0x22` | \u200bLE Secure Connections Confirmation Value |\n| `0x23` | LE Secure Connections Random Value |\n| `0x24` | URI |\n| `0x25` | Indoor Positioning |\n| `0x26` | Transport Discovery Data |\n| `0x17` | Public Target Address |\n| `0x18` | Random Target Address |\n| `0x19` | Appearance |\n| `0x1A` | Advertising Interval |\n| `0x1B` | \u200bLE Bluetooth Device Address |\n| `0x1C` | \u200bLE Role |\n| `0x1D` | Simple Pairing Hash C-256 |\n| `0x1E` | Simple Pairing Randomizer R-256 |\n| `0x3D` | 3D Information Data |\n| `0xFF` | Manufacturer Specific Data |\n\n\n## **1.4. \u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf**\n\nAD \u30bf\u30a4\u30d7\u4e00\u89a7\u8868\u306e\u672b\u5c3e\u306b\u3001\u5024\u304c `0xFF`\u3001\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u540d\u304c\u300cManufacturer Specific Data\u300d(\u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf) \u3068\u3044\u3046\u30a8\u30f3\u30c8\u30ea\u30fc\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001AD \u30c7\u30fc\u30bf\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u81ea\u7531\u306b\u62e1\u5f35\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\n\nAD \u30bf\u30a4\u30d7\u304c `0xFF` \u306e\u5834\u5408\u3001AD \u30c7\u30fc\u30bf\u90e8\u306e\u5148\u982d\u306e 2 \u30d0\u30a4\u30c8\u306b\u306f\u3001\u4f01\u696d\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306e\u756a\u53f7\u304c\u30ea\u30c8\u30eb\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u3067\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002AD \u30c7\u30fc\u30bf\u90e8\u306e 3 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\u306e\u5185\u5bb9\u306f\u3001\u305d\u306e\u4f01\u696d\u304c\u81ea\u7531\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u6b21\u306e\u8868\u306f\u3001AD \u30bf\u30a4\u30d7\u304c `0xFF` \u306e\u3068\u304d\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n| \u4f4d\u7f6e | \u5927\u5206\u985e | \u4e2d\u5206\u985e |\n|:--|:--|:--|\n| 1 \u30d0\u30a4\u30c8\u76ee | \u9577\u3055 | |\n| 2 \u30d0\u30a4\u30c8\u76ee | AD \u30bf\u30a4\u30d7 | \u88fd\u9020\u8005\u56fa\u6709 |\n| 3 \uff5e 4 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d ID |\n| 5 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d | AD \u30c7\u30fc\u30bf | \u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf |\n\n\u4f8b\u3048\u3070\u3001Apple \u793e\u304c\u72ec\u81ea\u306b\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u5b9a\u7fa9\u3059\u308b\u5834\u5408\u3001Apple \u793e\u306e\u4f01\u696d ID \u306f `0x004C` \u3067\u3059\u306e\u3067\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u4f01\u696d ID \u306f\u30ea\u30c8\u30eb\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u3067\u683c\u7d0d\u3055\u308c\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n| \u4f4d\u7f6e | \u5927\u5206\u985e | \u4e2d\u5206\u985e | \u5c0f\u5206\u985e | \u5024 |\n|:--|:--|:--|:--|:--|\n| 1 \u30d0\u30a4\u30c8\u76ee | \u9577\u3055 | | | ? |\n| 2 \u30d0\u30a4\u30c8\u76ee | AD \u30bf\u30a4\u30d7 | \u88fd\u9020\u8005\u56fa\u6709 | | `0xFF` |\n| 3 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d ID | Apple \u793e | `0x4C` |\n| 4 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d ID | Apple \u793e | `0x00` |\n| 5 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d | AD \u30c7\u30fc\u30bf | \u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf | Apple \u793e\u56fa\u6709\u30c7\u30fc\u30bf | ? |\n\n\n## **1.5. \u4f01\u696d ID**\n\n\u767b\u9332\u6e08\u307f\u4f01\u696d ID \u306f\u300c[Company Identifiers](https://www.bluetooth.com/specifications/assigned-numbers/company-Identifiers)\u300d\u30da\u30fc\u30b8\u306b\u30ea\u30b9\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002Apple \u793e\u306e\u4f01\u696d ID \u304c `0x004C` \u3067\u3042\u308b\u3053\u3068\u3082\u3001\u3053\u306e\u30da\u30fc\u30b8\u3092\u898b\u308b\u3068\u5206\u304b\u308a\u307e\u3059\u3002\n\n\n## **1.6. iBeacon**\n\n\u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf\u306e\u4e00\u4f8b\u3068\u3057\u3066\u3001**iBeacon** \u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\niBeacon \u306f\u3001Apple \u793e\u304c\u5b9a\u3081\u305f\u72ec\u81ea\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u3059\u3002AD \u30c7\u30fc\u30bf\u90e8\u306f\u3001\u5148\u982d 2 \u30d0\u30a4\u30c8\u306b Apple \u793e\u306e\u4f01\u696d ID\u3001\u6b21\u306e 2 \u30d0\u30a4\u30c8\u304c `0x02` \u3068 `0x015` \u3067\u56fa\u5b9a\u3001\u4ee5\u964d\u300116 \u30d0\u30a4\u30c8\u306e Proximity UUID\u30012 \u30d0\u30a4\u30c8\u306e\u30e1\u30b8\u30e3\u30fc\u756a\u53f7\u30012 \u30d0\u30a4\u30c8\u306e\u30de\u30a4\u30ca\u30fc\u756a\u53f7\u30011 \u30d0\u30a4\u30c8\u306e\u9001\u4fe1\u51fa\u529b\u304c\u7d9a\u304d\u307e\u3059\u3002Proximity UUID\u3001\u30e1\u30b8\u30e3\u30fc\u756a\u53f7\u3001\u30de\u30a4\u30ca\u30fc\u756a\u53f7\u306f\u30d3\u30c3\u30b0\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u3067\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\n\niBeacon \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u56f3\u306b\u3059\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n![ibeacon-format.png](https://qiita-image-store.s3.amazonaws.com/0/106044/31644ccc-6991-5d87-8479-6c7dfb966597.png)\n\n\u8868\u5f62\u5f0f\u3067\u8868\u73fe\u3059\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n| \u4f4d\u7f6e | \u5927\u5206\u985e | \u4e2d\u5206\u985e | \u5c0f\u5206\u985e | \u5024 |\n|:--|:--|:--|:--|:--|\n| 1 \u30d0\u30a4\u30c8\u76ee | \u9577\u3055 | | | 26 |\n| 2 \u30d0\u30a4\u30c8\u76ee | AD \u30bf\u30a4\u30d7 | \u88fd\u9020\u8005\u56fa\u6709 | | `0xFF` |\n| 3 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d ID | Apple \u793e | `0x4C` |\n| 4 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d ID | Apple \u793e | `0x00` |\n| 5 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf | \u56fa\u5b9a\u5024 | `0x02` |\n| 6 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf | \u56fa\u5b9a\u5024 | `0x15` |\n| 7 \uff5e 22 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf | Proximity UUID | ? |\n| 23 \uff5e 24 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf | \u30e1\u30b8\u30e3\u30fc\u756a\u53f7 | ? |\n| 25 \uff5e 26 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf | \u30de\u30a4\u30ca\u30fc\u756a\u53f7 | ? |\n| 27 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u4f01\u696d\u56fa\u6709\u30c7\u30fc\u30bf | \u9001\u4fe1\u51fa\u529b | ? |\n\n\u300ciBeacon \u30d1\u30b1\u30c3\u30c8\u300d\u3068\u3044\u3046\u8a00\u8449\u3092\u8033\u306b\u3059\u308b\u3053\u3068\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u6280\u8853\u7684\u306b\u6b63\u78ba\u306b\u8868\u73fe\u3059\u308b\u3068\u3001\u300ciBeacon \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3092\u542b\u3080\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u6301\u3064 BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u300d\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n## **1.7. Eddystone**\n\niBeacon \u3092\u7d39\u4ecb\u3057\u305f\u306e\u3067\u3001**[Eddystone](https://github.com/google/eddystone)** \u3082\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nEddystone \u306f Google \u793e\u304c\u65d7\u632f\u308a\u5f79\u306a\u306e\u3067\u3001Google \u793e\u306e\u4f01\u696d ID \u3092\u6301\u3064\u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u3068\u601d\u308f\u308c\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u5b9f\u306f\u305d\u3046\u3067\u306f\u306a\u304f\u3001**\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf**\u306e\u4e00\u7a2e\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u3092\u8868\u3059 AD \u30bf\u30a4\u30d7\u306f\u8907\u6570\u3042\u308b\u306e\u3067\u3059\u304c\u3001Eddystone \u306f `0x16` \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3053\u306e AD \u30bf\u30a4\u30d7\u306e\u5834\u5408\u3001AD \u30c7\u30fc\u30bf\u90e8\u306e\u5148\u982d\u306b\u7f6e\u304f\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u5b50\u304c 2 \u30d0\u30a4\u30c8\u3067\u8868\u73fe\u3055\u308c\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001AD \u30bf\u30a4\u30d7 `0x20` \u3068 `0x21` \u3082\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u3092\u610f\u5473\u3057\u307e\u3059\u304c\u3001\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u5b50\u3092\u305d\u308c\u305e\u308c 4 \u30d0\u30a4\u30c8\u300116 \u30d0\u30a4\u30c8\u3067\u8868\u73fe\u3059\u308b\u70b9\u304c\u7570\u306a\u308a\u307e\u3059\u3002\n\n\u6b21\u306e\u8868\u306f\u3001AD \u30bf\u30a4\u30d7\u304c `0x16` \u3067\u3001\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u756a\u53f7\u306b Eddystone \u3092\u8868\u3059 `0xFEAA` \u304c\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u308b AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u9020\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u756a\u53f7\u306f\u30ea\u30c8\u30eb\u30a8\u30f3\u30c7\u30a3\u30a2\u30f3\u3067\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\n\n| \u4f4d\u7f6e | \u5927\u5206\u985e | \u4e2d\u5206\u985e | \u5024 |\n|:--|:--|:--|:--|\n| 1 \u30d0\u30a4\u30c8\u76ee | \u9577\u3055 | | ? |\n| 2 \u30d0\u30a4\u30c8\u76ee | AD \u30bf\u30a4\u30d7 | \u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf | `0x16` |\n| 3 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u756a\u53f7 | `0xAA` |\n| 4 \u30d0\u30a4\u30c8\u76ee | AD \u30c7\u30fc\u30bf | \u30b5\u30fc\u30d3\u30b9\u8b58\u5225\u756a\u53f7 | `0xFE` |\n| 5 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d | AD \u30c7\u30fc\u30bf | \u30b5\u30fc\u30d3\u30b9\u56fa\u6709\u30c7\u30fc\u30bf | ? |\n\n5 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\u306e\u30b5\u30fc\u30d3\u30b9\u56fa\u6709\u30c7\u30fc\u30bf\u90e8\u306f\u3001Eddystone \u72ec\u81ea\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u307e\u305a\u3001\u30b5\u30fc\u30d3\u30b9\u56fa\u6709\u30c7\u30fc\u30bf\u90e8\u306e 1 \u30d0\u30a4\u30c8\u76ee\u306e\u4e0a\u4f4d 4 \u30d3\u30c3\u30c8\u3067 Eddystone \u306e\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002Eddystone \u306b\u306f\u6b21\u306e\u4e09\u3064\u306e\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u304c\u3042\u308a\u3001\u305d\u306e\u7a2e\u5225\u3092\u3053\u306e 4 \u30d3\u30c3\u30c8\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n1. **[Eddystone UID](https://github.com/google/eddystone/tree/master/eddystone-uid)**\n2. **[Eddystone URL](https://github.com/google/eddystone/blob/master/eddystone-url)**\n3. **[Eddystone TLM](https://github.com/google/eddystone/blob/master/eddystone-tlm)**\n\n\u30b5\u30fc\u30d3\u30b9\u56fa\u6709\u30c7\u30fc\u30bf\u90e8\u306e 2 \u30d0\u30a4\u30c8\u76ee\u4ee5\u964d\u306e\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u3001\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u6bce\u306b\u7570\u306a\u308a\u307e\u3059\u3002Eddystone \u306e\u4ed5\u69d8\u306f GitHub \u306e [google/eddystone](https://github.com/google/eddystone) \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u8a73\u7d30\u306b\u89e3\u8aac\u306f\u3057\u307e\u305b\u3093\u304c\u3001\u56f3\u306b\u307e\u3068\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\n![eddystone-format.png](https://qiita-image-store.s3.amazonaws.com/0/106044/9165508d-ee1d-18de-cd51-d54bd9e7ead2.png)\n\n\n## **1.8. ucode**\n\niBeacon \u3068 Eddystone \u3092\u77e5\u3063\u3066\u304a\u3051\u3070\u5341\u5206\u3067\u3059\u304c\u3001\u305b\u3063\u304b\u304f\u65e5\u672c\u306e\u7d44\u8fbc\u696d\u754c\u306e [T-Engine \u30d5\u30a9\u30fc\u30e9\u30e0](http://www.t-engine.org/)\u304c\u5b9a\u7fa9\u3057\u305f\u300c[Bluetooth LE ucode \u30de\u30fc\u30ab\u30fc\u30d1\u30b1\u30c3\u30c8\u4ed5\u69d8](http://www.uidcenter.org/ja/wp-content/themes/wp.vicuna/pdf/UID-00049-01.A0.01.pdf)\u300d\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308b\u306e\u3067\u3001\u7d39\u4ecb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u3053\u306e\u4ed5\u69d8\u306f\u3001T-Engine \u30d5\u30a9\u30fc\u30e9\u30e0\u304c\u5b9a\u7fa9\u3057\u305f\u30b0\u30ed\u30fc\u30d0\u30eb ID \u3067\u3042\u308b\u300c**[ucode](http://en.wikipedia.org/wiki/Ucode_system)**\u300d\u306e\u5024\u3092 BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306b\u57cb\u3081\u8fbc\u3080\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u3001\u88fd\u9020\u8005\u56fa\u6709\u30c7\u30fc\u30bf\u306e\u4e00\u7a2e\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002ITU-T H.642 \u3068\u3057\u3066\u3082\u63a1\u629e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f[\u4ed5\u69d8\u66f8](http://www.uidcenter.org/ja/wp-content/themes/wp.vicuna/pdf/UID-00049-01.A0.01.pdf)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n# **2. \u7406\u60f3\u3068\u73fe\u5b9f**\n\n## **2.1. \u7406\u60f3**\n\n\u3053\u3053\u307e\u3067\u3001BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u898b\u3066\u304d\u307e\u3057\u305f\u3002\u5f97\u3089\u308c\u305f\u77e5\u8b58\u3092\u3082\u3068\u306b\u3001\u3042\u308b\u3079\u304d API \u306e\u59ff\u3092\u8003\u3048\u3066\u307f\u307e\u3059\u3002\n\n\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306e\u5024\u304c\u30d0\u30a4\u30c8\u914d\u5217\u3068\u3057\u3066\u4e0e\u3048\u3089\u308c\u305f\u3068\u304d\u3001\u305d\u308c\u3092\u30d1\u30fc\u30b9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u7d50\u679c\u3068\u3057\u3066\u4f55\u3092\u8fd4\u305b\u3070\u3088\u3044\u3067\u3057\u3087\u3046\u304b\uff1f \u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u306f AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30ea\u30b9\u30c8\u306a\u306e\u3067\u3001\u305d\u308c\u3092\u305d\u306e\u307e\u307e\u8868\u73fe\u3059\u308b\u7d50\u679c\u3092\u8fd4\u305b\u3070\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u4f8b\u3048\u3070\u3001Java \u3067\u8868\u73fe\u3059\u308b\u3068\u3057\u305f\u3089\u3001\u6b21\u306e\u3088\u3046\u306a\u5f62\u3067\u3059\u3002\n\n```java\n// BLE \u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\nbyte[] payload = ...;\n\n// \u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30d1\u30fc\u30b9\u3057\u3066\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30ea\u30b9\u30c8\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b\u3002\nList<ADStructure> list = parse(payload);\n```\n\n\u500b\u3005\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u3001\u5b9f\u969b\u306b\u306f\u3001Flags \u3092\u8868\u3057\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3057\u3001iBeacon \u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3057\u3001Eddystone URL \u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3053\u306e\u95a2\u4fc2\u306f\u3001\u7d99\u627f\u30c4\u30ea\u30fc\u3068\u3057\u3066\u8868\u73fe\u3059\u308b\u306e\u304c\u81ea\u7136\u3067\u3057\u3087\u3046\u3002\u4f8b\u3048\u3070\u3001\u3053\u3053\u307e\u3067\u306b\u7d39\u4ecb\u3057\u305f\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3001Flags\u3001iBeacon\u3001Eddystone\u3001ucode \u306e\u95a2\u4fc2\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u7d99\u627f\u30c4\u30ea\u30fc\u3092\u69cb\u6210\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\u3068\u601d\u308f\u308c\u307e\u3059\u3002\n\n![inheritance-tree.png](https://qiita-image-store.s3.amazonaws.com/0/106044/1268573b-49c9-bc86-5f89-2e2ea2b7b6a2.png)\n\n\u3053\u306e\u3088\u3046\u306a\u7d99\u627f\u30c4\u30ea\u30fc\u304c API \u3067\u3082\u8868\u73fe\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u4f8b\u3048\u3070 Eddystone URL \u306e\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u6b21\u306e\u3088\u3046\u306b\u66f8\u3051\u308b\u3067\u3057\u3087\u3046 (\u968e\u5c64\u69cb\u9020\u3092\u793a\u3059\u305f\u3081\u306b\u3001\u308f\u3056\u3068 `if` \u3092\u6df1\u304f\u30cd\u30b9\u30c8\u3055\u305b\u3066\u66f8\u3044\u3066\u3044\u307e\u3059)\u3002\n\n```java\n// AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\nADStructure ads = ...;\n\n// \u3069\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306b\u3082\u3001\u9577\u3055\u3068\u30bf\u30a4\u30d7\u304c\u3042\u308b\u3002\nSystem.out.println(\"\u9577\u3055 = \" + ads.getLength());\nSystem.out.println(\"\u30bf\u30a4\u30d7 = \" + ads.getType());\n\n// \u3082\u3057\u3082\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u3067\u3042\u308c\u3070\u3001\nif (ads instanceof ServiceData)\n{\n    // \u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n    ServiceData sd = (ServiceData)ads;\n\n    // \u3069\u306e\u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u306b\u3082\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u4e00\u610f\u306b\u7279\u5b9a\u3059\u308b\u30b5\u30fc\u30d3\u30b9 UUID \u304c\u3042\u308b\u3002\n    System.out.println(\"\u30b5\u30fc\u30d3\u30b9 UUID = \" + sd.getServiceUUID());\n\n    // \u30b5\u30fc\u30d3\u30b9\u30c7\u30fc\u30bf\u306e\u4e2d\u3067\u3082\u3001\u7279\u306b Eddystone \u3067\u3042\u308c\u3070\u3001\n    if (sd instanceof Eddystone)\n    {\n        // Eddystone \u30c7\u30fc\u30bf\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n        Eddystone es = (Eddystone)sd;\n\n        // \u3069\u306e Eddystone \u30c7\u30fc\u30bf\u306b\u3082\u3001\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u304c\u3042\u308b\u3002\n        System.out.println(\"\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225 = \" + es.getFrameType());\n\n        // Eddystone URL \u3067\u3042\u308c\u3070\u3001\n        if (es instanceof EddystoneURL)\n        {\n            // Eddystone URL \u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n            EddystoneURL esurl = (EddystoneURL)es;\n\n            // Eddystone URL \u306b\u306f\u3001\u9001\u4fe1\u51fa\u529b\u3068 URL \u306e\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3002\n            System.out.println(\"\u9001\u4fe1\u51fa\u529b = \" + esurl.getTxPower());\n            System.out.println(\"URL = \" + esurl.getURL());\n        }\n    }\n}\n```\n\n\u3055\u3089\u306b\u3001\u72ec\u81ea\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u5b9a\u7fa9\u3057\u3001\u305d\u308c\u3092\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30d1\u30fc\u30b9\u3057\u305f\u7d50\u679c\u306e\u30ea\u30b9\u30c8\u306b\u542b\u307e\u305b\u308b\u3053\u3068\u3092\u53ef\u80fd\u3068\u3059\u308b\u305f\u3081\u3001\u4f55\u304b\u3057\u3089\u72ec\u81ea\u30d1\u30fc\u30b5\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u767b\u9332\u3067\u304d\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u4f8b\u3048\u3070\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u69cb\u6210\u8981\u7d20\u3067\u3042\u308b\u300c(1) \u9577\u3055\u3001(2) AD \u30bf\u30a4\u30d7\u3001(3) AD \u30c7\u30fc\u30bf\u300d\u304b\u3089 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u3066\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6b21\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3001\n\n```java\npublic interface ADStructureBuilder\n{\n    /**\n     * AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u3002\n     *\n     * @param length\n     *         AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u9577\u3055\u3002 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\n     *         \u30d0\u30a4\u30c8\u914d\u5217\u306e\u4e00\u756a\u76ee\u306e\u30d0\u30a4\u30c8\u306e\u5024\u3002\n     *\n     * @param type\n     *         AD \u30bf\u30a4\u30d7\u3002 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30d0\u30a4\u30c8\u914d\u5217\u306e\n     *         \u4e8c\u756a\u76ee\u306e\u30d0\u30a4\u30c8\u306e\u5024\u3002\n     *\n     * @param data\n     *         AD \u30c7\u30fc\u30bf\u3002 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30d0\u30a4\u30c8\u914d\u5217\u306e\n     *         \u4e09\u756a\u76ee\u4ee5\u964d\u306e\u30d0\u30a4\u30c8\u7fa4\u3002\n     *\n     * @return\n     *         ADStructure \u3082\u3057\u304f\u306f\u305d\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3002\n     *         \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3067\u304d\u306a\u3044\u3068\u304d\u306f null \u3092\u8fd4\u3059\u3002\n     */\n    ADStructure build(int length, int type, byte[] data);\n}\n```\n\n\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f55\u3089\u304b\u306e\u65b9\u6cd5\u3067\u767b\u9332\u3067\u304d\u308b\u3088\u3046\u306a\u3063\u3066\u3044\u308c\u3070\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n## **2.2. \u73fe\u5b9f**\n\n\u3055\u3066\u3001\u73fe\u5b9f\u306e\u4e16\u754c\u3067\u306f\u3069\u306e\u3088\u3046\u306a API \u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\n\n[API \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](http://developer.android.com/reference/packages.html)\u306b\u306f\u3001\u300c<code>[BluetoothAdapter](http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html)</code> \u30af\u30e9\u30b9\u306e <code>[startLeScan(LeScanCallback)](http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#startLeScan(android.bluetooth.BluetoothAdapter.LeScanCallback))</code> \u30e1\u30bd\u30c3\u30c9\u306f API level 21 (Android 5.0) \u3067 deprecated \u6271\u3044\u3068\u306a\u3063\u305f\u306e\u3067\u3001\u304b\u308f\u308a\u306b <code>[startScan(List, ScanSettings, ScanCallback)](http://developer.android.com/reference/android/bluetooth/le/BluetoothLeScanner.html#startScan(java.util.List<android.bluetooth.le.ScanFilter>, android.bluetooth.le.ScanSettings, android.bluetooth.le.ScanCallback))</code> \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u3046\u3088\u3046\u306b\u300d\u3068\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u65b0\u3057\u3044\u30e1\u30bd\u30c3\u30c9\u306e\u4e09\u756a\u76ee\u306e\u5f15\u6570\u306f <code>[ScanCallback](http://developer.android.com/reference/android/bluetooth/le/ScanCallback.html)</code> \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3059\u3002\u30af\u30e9\u30b9\u306e\u540d\u79f0\u304b\u3089\u3001\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u53d7\u4fe1\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3060\u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002Android 4.X \u304b\u3089 Android 5.X \u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u3068\u304d\u306b\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u304c <code>[LeScanCallback](http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.LeScanCallback.html)</code> \u304b\u3089 <code>[ScanCallback](http://developer.android.com/reference/android/bluetooth/le/ScanCallback.html)</code> \u306b\u5909\u66f4\u306b\u306a\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\n\u3053\u306e <code>[ScanCallback](http://developer.android.com/reference/android/bluetooth/le/ScanCallback.html)</code> \u30af\u30e9\u30b9\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u4e09\u3064\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```java\nvoid onBatchScanResults(List<ScanResult> results) { ... }\nvoid onScanFailed(int errorCode) { ... }\nvoid onScanResult(int callbackType, ScanResult result) { ... }\n```\n\n\u30e1\u30bd\u30c3\u30c9\u540d\u304c <code>on</code> \u3067\u59cb\u307e\u308b\u3053\u3068\u304b\u3089\u3001\u4f55\u3089\u304b\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u53d7\u3051\u53d6\u308b\u305f\u3081\u306b\u306f\u3053\u308c\u3089\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308c\u3070\u3044\u3044\u3060\u308d\u3046\u3068\u3044\u3046\u3053\u3068\u304c\u63a8\u6e2c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3001\u3053\u308c\u3089\u4ee5\u5916\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u304b\u3089\u3001\u300c\u306a\u305c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u306f\u306a\u304f\u30af\u30e9\u30b9\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u305f\u306e\u304b\u300d\u3068\u3044\u3046\u7591\u554f\u306f\u5f53\u7136\u6e67\u3044\u3066\u304d\u3066\u3001\u65e9\u304f\u3082\u602a\u3057\u3052\u3067\u3059\u304c\u3001\u6b21\u306b\u9032\u307f\u307e\u3059\u3002\n\n<code>[ScanCallback](http://developer.android.com/reference/android/bluetooth/le/ScanCallback.html)</code> \u30af\u30e9\u30b9\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b <code>[onBatchScanResults](http://developer.android.com/reference/android/bluetooth/le/ScanCallback.html#onBatchScanResults(java.util.List<android.bluetooth.le.ScanResult>))</code> \u30e1\u30bd\u30c3\u30c9\u3082 <code>[onScanResult](http://developer.android.com/reference/android/bluetooth/le/ScanCallback.html#onScanResult(int, android.bluetooth.le.ScanResult))</code> \u30e1\u30bd\u30c3\u30c9\u3082\u3001\u30c7\u30fc\u30bf\u69cb\u9020\u3068\u3057\u3066 <code>[ScanResult](http://developer.android.com/reference/android/bluetooth/le/ScanResult.html)</code> \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u3053\u306e <code>[ScanResult](http://developer.android.com/reference/android/bluetooth/le/ScanResult.html)</code> \u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u3092\u898b\u308b\u3068\u3001\u5e7e\u3064\u304b\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u30d1\u30fc\u30b9\u3057\u305f\u7d50\u679c\u306f\u3001<code>[getScanRecord()](http://developer.android.com/reference/android/bluetooth/le/ScanResult.html#getScanRecord())</code> \u30e1\u30bd\u30c3\u30c9\u306b\u3088\u308a <code>[ScanRecord](http://developer.android.com/reference/android/bluetooth/le/ScanRecord.html)</code> \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n```java\nScanRecord getScanRecord() { ... }\n```\n\n\u3067\u306f\u3053\u3053\u3067\u3001<code>[ScanRecord](http://developer.android.com/reference/android/bluetooth/le/ScanRecord.html)</code> \u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u4e00\u89a7\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n| \u623b\u308a\u5024 | \u30e1\u30bd\u30c3\u30c9 |\n|:--|:--|\n| `int` | `getAdvertiseFlags()` |\n| `byte[]` | `getBytes()` |\n| `String` | `getDeviceName()` |\n| `SparseArray<byte[]>` | `getManufacturerSpecificData()` |\n| `byte[]` | `getManufacturerSpecificData(int)` |\n| `byte[]` | `getServiceData(ParcelUuid)` |\n| `Map<ParcelUuid,byte[]>` | `getServiceData()` |\n| `List<ParcelUuid>` | `getServiceUuids()` |\n| `int` | `getTxPowerLevel()` |\n| `String` | `toString()` |\n\n\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u77e5\u3063\u3066\u3044\u308c\u3070\u3001\u3053\u308c\u3089\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u305d\u308c\u305e\u308c\u4f55\u306e\u60c5\u5831\u3092\u8fd4\u305d\u3046\u3068\u3044\u3046\u3057\u3066\u3044\u308b\u306e\u304b\u304c\u5206\u304b\u308a\u307e\u3059\u3002`getBytes()` \u30e1\u30bd\u30c3\u30c9\u3068 `toString()` \u30e1\u30bd\u30c3\u30c9\u3092\u9664\u304f\u4ed6\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u3042\u308b\u7279\u5b9a\u306e AD \u30bf\u30a4\u30d7\u3092\u6301\u3064 AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u8fd4\u305d\u3046\u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u8868\u306b\u307e\u3068\u3081\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n| \u30e1\u30bd\u30c3\u30c9 | AD \u30bf\u30a4\u30d7 |\n|:--|:--|\n| `getAdvertiseFlags` | `0x01` |\n| `getDeviceName` | `0x08`, `0x09` |\n| `getManufacturerSpecificData` | `0xFF` |\n| `getServiceData` | `0x16`, `0x20`, `0x21` |\n| `getServiceUuids` | `0x02` \uff5e `0x07` |\n| `getTxPowerLevel` | `0x0A` |\n\n\u30da\u30a4\u30ed\u30fc\u30c9\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u3061\u3083\u3093\u3068\u7406\u89e3\u3057\u3066\u3044\u308c\u3070\u3001\u3053\u3053\u3067 <code>[ScanRecord](http://developer.android.com/reference/android/bluetooth/le/ScanRecord.html)</code> \u30af\u30e9\u30b9\u306e\u8a2d\u8a08\u306e\u9177\u3055\u306b\u6c17\u4ed8\u304f\u306f\u305a\u3067\u3059\u3002\n\n\u307e\u305a\u30011 \u3064\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306b\u3001\u4e0a\u8a18\u8868\u5185\u306b\u6319\u3052\u3089\u308c\u3066\u3044\u308b\u5168\u3066\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u304c\u540c\u6642\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u306f\u3001\u307e\u305a\u3042\u308a\u307e\u305b\u3093\u3002\u307e\u305f\u9006\u306b\u3001\u4e0a\u8a18\u306e\u3044\u305a\u308c\u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3082\u542b\u307e\u306a\u3044\u30da\u30a4\u30ed\u30fc\u30c9\u3068\u3044\u3046\u306e\u3082\u5f53\u7136\u3042\u308a\u3048\u307e\u3059\u3002\u3067\u3059\u306e\u3067\u3001`ScanRecord` \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d7\u3051\u53d6\u3063\u3066\u3082\u3001\u4e0a\u8a18\u306e\u30e1\u30bd\u30c3\u30c9\u7fa4\u304c\u5168\u3066 `null` \u3082\u3057\u304f\u306f\u7a7a\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u8fd4\u3059\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u6b21\u306b\u3001\u9078\u629e\u3055\u308c\u305f AD \u30bf\u30a4\u30d7\u306e\u6063\u610f\u6027\u3067\u3059\u3002\u306a\u305c\u3001`0x01` \uff5e `0x0A`, `0x16`, `0x20`, `0x21`, `0xFF` \u306f\u9078\u3070\u308c\u3001\u4ed6\u306f\u9078\u3070\u308c\u306a\u304b\u3063\u305f\u306e\u304b\u3002\u3053\u306e\u975e\u5bfe\u79f0\u6027\u306f\u306a\u3093\u306a\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\n`ScanRecord` \u306e\u8a2d\u8a08\u3092\u3001\u52d5\u7269\u3092\u4f8b\u306b\u4f8b\u3048\u307e\u3059\u3002\u4eca\u3001\u52d5\u7269\u306b\u95a2\u3059\u308b\u30c7\u30fc\u30bf\u304c\u4e26\u3093\u3067\u3044\u3066\u3001\u305d\u308c\u3092\u30d1\u30fc\u30b9\u3059\u308b\u3068\u3057\u307e\u3059\u3002\u30d1\u30fc\u30b9\u306e\u7d50\u679c\u3092\u53d7\u3051\u53d6\u308b\u3068\u304d\u3001\u53d7\u3051\u624b\u306f\u666e\u901a\u3001`List<\u52d5\u7269>` \u3068\u3044\u3046\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u671f\u5f85\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001`ScanRecord` \u3068\u540c\u3058\u69cb\u9020\u3068\u3059\u308b\u306a\u3089\u3070\u3001\u53d7\u3051\u624b\u304c\u53d7\u3051\u53d6\u308b\u306e\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u69cb\u9020\u3067\u3059\u3002\n\n```java\npublic class \u52d5\u7269\u30ec\u30b3\u30fc\u30c9\n{\n    get\u30ed\u30b7\u30a2\u30f3\u30d6\u30eb\u30fc() { ... }\n    get\u30dd\u30e1\u30e9\u30cb\u30a2\u30f3() { ... }\n    get\u9ce5\u985e\u30bf\u30ab\u76ee() { ... }\n    get\u4e21\u751f\u985e() { ... }\n    get\u5143\u30c7\u30fc\u30bf() { ... }\n}\n```\n\n&nbsp;\n&nbsp; &nbsp; &nbsp;![why.png](https://qiita-image-store.s3.amazonaws.com/0/106044/54f623e4-b497-1530-e6c9-b7f456c0ec99.png)\n&nbsp;\n\n\u3053\u306e `ScanRecord` \u30af\u30e9\u30b9\u306e\u8a2d\u8a08\u306f\u3001Android API \u306e\u4e2d\u3067\u3082\u6700\u60aa\u30ec\u30d9\u30eb\u3067\u3001\u7f75\u5012\u3055\u308c\u3066\u3082\u3084\u3080\u3092\u3048\u307e\u305b\u3093\u3002\u3053\u306e\u4ed6\u3001Android \u306e BLE \u95a2\u9023\u306e API \u306f\u5168\u822c\u7684\u306b\u8a2d\u8a08\u30df\u30b9\u306e\u5b9d\u5eab\u3067\u3059\u3002Android 4.X \u304b\u3089 5.X \u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u969b\u306b BLE API \u3092\u518d\u8a2d\u8a08\u3057\u305f\u306e\u306b\u3053\u306e\u4f4e\u54c1\u8cea\u3067\u3001\u304b\u3064\u305d\u308c\u304c\u516c\u5f0f API \u306b\u63a1\u7528\u3055\u308c\u3066\u3057\u307e\u3063\u305f\u3068\u3044\u3046\u3053\u3068\u306f\u3001Android \u306e BLE \u754c\u9688\u306f\u304b\u306a\u308a\u306e\u4eba\u6750\u4e0d\u8db3\u306a\u306e\u3060\u3068\u63a8\u6e2c\u305b\u3056\u308b\u3092\u3048\u307e\u305b\u3093\u3002\n\n\n# **3. Android Beacon Library**\n\n## **3.1. Android Beacon Library \u306e\u7d39\u4ecb**\n\n\u300c\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30d1\u30fc\u30b9\u3057\u305f\u3044\u300d\u3068\u3001\u307f\u3093\u306a\u601d\u3044\u307e\u3059\u3002iBeacon \u3084 Eddystone \u306e\u30c7\u30fc\u30bf\u3092\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u304b\u3089\u53d6\u308a\u51fa\u3057\u305f\u3044\u306e\u3067\u3059\u3002\u72ec\u81ea\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u6295\u3052\u308b\u30d3\u30fc\u30b3\u30f3\u3092\u4f5c\u308a\u305f\u3044\u4f01\u696d\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u3002\n\nAndroid BLE API \u306f\u524d\u8ff0\u306e\u901a\u308a\u9177\u3044\u306e\u3067\u3001\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u30d1\u30fc\u30b9\u3057\u305f\u3044\u4eba\u306f\u89e3\u3092\u6c42\u3081\u3066 Stack Overflow \u306b\u884c\u304d\u307e\u3059\u3002\u3059\u308b\u3068\u3059\u3050\u306b **[Android Beacon Library](http://altbeacon.github.io/android-beacon-library/)** \u3068\u3044\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u8fbf\u308a\u3064\u304d\u307e\u3059\u3002\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u3067 ([AltBeacon/android-beacon-library](https://github.com/AltBeacon/android-beacon-library))\u3001**[Radius Networks](http://www.radiusnetworks.com/)** \u3068\u3044\u3046\u4f1a\u793e\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002Radius Networkds \u793e\u306e\u95a2\u4fc2\u8005\u304c\u7a4d\u6975\u7684\u306b\u56de\u7b54\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u3042\u308a\u3001Stack Overflow \u306f Android Beacon Library \u306e\u56de\u7b54\u3067\u6ea2\u308c\u8fd4\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u30d1\u30fc\u30b9\u3055\u305b\u308b\u306b\u306f\u3001\u5bfe\u8c61\u3068\u306a\u308b AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u30d1\u30fc\u30b5\u30fc\u306b\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070 iBeacon \u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\u306b\u306f\u3001\u30d1\u30fc\u30b5\u30fc\u306b\u6b21\u306e\u3088\u3046\u306b\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\n```java\n// iBeacon \u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3059\u308b\u3002\nsetBeaconLayout(\"m:2-3=0215,i:4-19,i:20-21,i:22-23,p:24-24\");\n```\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u66f8\u5f0f\u306e\u8aac\u660e\u306f\u3001<code>[BeaconParser](https://altbeacon.github.io/android-beacon-library/javadoc/org/altbeacon/beacon/BeaconParser.html)</code> \u30af\u30e9\u30b9\u306e <code>[setBeaconLayout](https://altbeacon.github.io/android-beacon-library/javadoc/org/altbeacon/beacon/BeaconParser.html#setBeaconLayout%28java.lang.String%29)</code> \u30e1\u30bd\u30c3\u30c9\u306e JavaDoc \u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u3060\u3044\u305f\u3044\u60f3\u50cf\u304c\u3064\u304f\u901a\u308a\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u30d0\u30a4\u30c8\u4f4d\u7f6e\u306e\u7d44\u3092\u5217\u6319\u3057\u3066\u3044\u307e\u3059\u3002\n\nAndroid Beacon Library \u3092\u4f7f\u3063\u3066 Eddystone \u30c7\u30fc\u30bf\u3092\u6271\u3046\u65b9\u6cd5\u306f\u300c[How to detect Eddystone-Compatible Beacons](https://altbeacon.github.io/android-beacon-library/eddystone-how-to.html)\u300d\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070 Eddystone URL \u3092\u691c\u51fa\u3059\u308b\u306b\u306f\u3001\u307e\u305a\u3001\u30d1\u30fc\u30b5\u30fc\u306b Eddystone URL \u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3057\u3001\n\n```java\nmBeaconManager.getBeaconParsers().add(new BeaconParser().\n    setBeaconLayout(\"s:0-1=feaa,m:2-2=10,p:3-3:-41,i:4-20v\"));\n```\n\n\u30a2\u30c9\u30d0\u30fc\u30bf\u30a4\u30ba\u30e1\u30f3\u30c8\u30d1\u30b1\u30c3\u30c8\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u306e\u30d1\u30fc\u30b9\u7d50\u679c\u3092\u5f97\u305f\u6642\u306b\u3001\u6b21\u306e\u3088\u3046\u306b\u3057\u3066 Eddystone URL \u3060\u3068\u3044\u3046\u3053\u3068\u3092\u5224\u5b9a\u3057\u3066\u3001\u60c5\u5831\u3092\u53d6\u308a\u51fa\u3057\u307e\u3059\u3002\n\n```java\nfor (Beacon beacon: beacons) {\n    if (beacon.getServiceUuid() == 0xfeaa && beacon.getBeaconTypeCode() == 0x10) {\n        // This is a Eddystone-URL frame\n        String url = UrlBeaconUrlCompressor.uncompress(beacon.getId1().toByteArray());\n        Log.d(TAG, \"I see a beacon transmitting a url: \" + url +\n                \" approximately \" + beacon.getDistance() + \" meters away.\");\n    }\n}\n```\n\n\u3053\u306e\u30b3\u30fc\u30c9\u306f\u524d\u51fa\u306e[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://altbeacon.github.io/android-beacon-library/eddystone-how-to.html)\u304b\u3089\u8ee2\u8f09\u3057\u305f\u3082\u306e\u3067\u3059\u304c\u3001(1) Eddystone \u306e\u30b5\u30fc\u30d3\u30b9\u756a\u53f7\u304c `0xFEAA` \u3068\u3044\u3046\u3053\u3068\u3001\u53ca\u3073 (2) Eddystone URL \u306e\u30d5\u30ec\u30fc\u30e0\u7a2e\u5225\u3092\u793a\u3059\u5024\u304c `0x1?` \u3067\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u3092\u77e5\u3089\u306a\u3044\u3068\u3001\u3053\u306e\u30b3\u30fc\u30c9\u306f\u66f8\u3051\u307e\u305b\u3093\u3002\u306a\u304a\u3001\u6b63\u78ba\u306b\u306f\n\n```java\nbeacon.getBeaconType() == 0x10\n```\n\n\u3068\u306a\u3063\u3066\u3044\u308b\u7b87\u6240\u306f\n\n```java\n(beacon.getBeaconType() & 0xF0) == 0x10\n```\n\n\u3068\u66f8\u304f\u3079\u304d\u3067\u3059\u3002\n\n\n## **3.2. Android Beacon Library \u306e\u554f\u984c\u70b9**\n\nAndroid Beacon Library \u306e\u8a2d\u8a08\u306f\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3059\u308b\u3068\u3044\u3046\u539f\u59cb\u7684\u306a\u3082\u306e\u306a\u306e\u3067\u3001\u30d1\u30fc\u30b9\u3055\u308c\u305f AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306f\u5168\u3066 <code>[Beacon](https://altbeacon.github.io/android-beacon-library/javadoc/org/altbeacon/beacon/Beacon.html)</code> \u3068\u3044\u3046\u6c4e\u7528\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3067\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\u9006\u306b\u8a00\u3046\u3068\u3001\u4f8b\u3048\u3070\u4e0b\u8a18\u306e\u3088\u3046\u306a\u4fbf\u5229\u306a\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n```java\npublic class EddystoneURL extends Eddystone\n{\n    /**\n     * Eddystone URL \u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u304c\u4fdd\u6301\u3059\u308b URL \u60c5\u5831\u3092\n     * java.net.URL \u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066\u8fd4\u3059\u3002\n     */\n    public URL getURL() { ... }\n    ...\n}\n```\n\n\u52a0\u3048\u3066\u3001AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u5185\u306e\u69cb\u9020\u304c\u7279\u6b8a\u306b\u306a\u308b\u3068\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u66f8\u5f0f\u3067\u306f\u5bfe\u5fdc\u3057\u304d\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070 [Eddystone URL](https://github.com/google/eddystone/blob/master/eddystone-url) \u306e\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u65b9\u6cd5\u306f\u7279\u6b8a\u306a\u306e\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u8272\u3005\u8907\u96d1\u306a\u3053\u3068\u3092\u3084\u3089\u306a\u3044\u3068\u6b32\u3057\u3044\u60c5\u5831\u304c\u53d6\u308a\u51fa\u305b\u307e\u305b\u3093\u3002\n\n```java\nString url = UrlBeaconUrlCompressor.uncompress(beacon.getId1().toByteArray());\n```\n\n[Eddystone TLM](https://github.com/google/eddystone/blob/master/eddystone-tlm) \u304c\u6301\u3064\u6e29\u5ea6\u60c5\u5831\u3082\u56fa\u5b9a\u5c0f\u6570\u70b9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8 ([Cornell University, Electrical Engineering 476, Fixed Point mathematical functions in GCC and assembler](https://courses.cit.cornell.edu/ee476/Math/) \u53c2\u7167) \u3067\u683c\u7d0d\u3055\u308c\u3066\u3044\u3066\u3001\u3053\u306e\u5f62\u5f0f\u306f Android Beacon Library \u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u66f8\u5f0f\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u306a\u306e\u3067\u3001\u3053\u3061\u3089\u3082\u60c5\u5831\u3092\u5f97\u308b\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304b\u306a\u3044\u3068\u3044\u3051\u307e\u305b\u3093\u3002\u3053\u306e\u30b3\u30fc\u30c9\u306f\u3001Radius Networks \u793e\u306e\u95a2\u4fc2\u8005\u306b\u3088\u308b [Stack Overflow \u306e\u56de\u7b54](http://stackoverflow.com/a/33393867/1174054)\u304b\u3089\u306e\u8ee2\u8f09\u3067\u3059\u3002\n\n```java\nlong unsignedTemp = (beacon.getExtraDataFields().get(2) >> 8);\ndouble temperature = unsignedTemp > 128 ? \n    unsignedTemp - 256 : \n    unsignedTemp +(beacon.getExtraDataFields().get(2) & 0xff)/256.0;\n```\n\n\u3082\u3057\u3082 Eddystone TLM \u3092\u3001\u6b21\u306e\u3088\u3046\u306a\u4fbf\u5229\u306a\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3042\u308c\u3070\u3001(1) \u6e29\u5ea6\u60c5\u5831\u304c\u56fa\u5b9a\u5c0f\u6570\u70b9\u6570\u3068\u3057\u3066\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3001\u53ca\u3073 (2) \u56fa\u5b9a\u5c0f\u6570\u70b9\u6570\u3092 `float` \u306b\u76f4\u3059\u65b9\u6cd5\u3092\u77e5\u3089\u305a\u3068\u3082\u3001\u7c21\u5358\u306b\u6e29\u5ea6\u60c5\u5831\u3092\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002\n\n```java\npublic class EddystoneTLM extends Eddystone\n{\n    /**\n     * Eddystone TLM \u306e AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u304c\u4fdd\u6301\u3059\u308b\u3001\u56fa\u5b9a\u5c0f\u6570\u70b9\n     * \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u8868\u73fe\u3055\u308c\u305f\u6e29\u5ea6\u60c5\u5831\u3092\u30d1\u30fc\u30b9\u3057\u3066 float \u3068\u3057\u3066\u8fd4\u3059\u3002\n     */\n    public float getBeaconTemperature() { ... }\n    ...\n}\n```\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u767b\u9332\u3068\u3044\u3046\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u4e00\u898b\u6c4e\u7528\u7684\u3067\u826f\u3044\u89e3\u306e\u3088\u3046\u306b\u601d\u3048\u307e\u3059\u304c\u3001\u3053\u306e\u8a2d\u8a08\u306f\u610f\u5916\u3068\u5b89\u3063\u307d\u3044\u3082\u306e\u3067\u3042\u308a\u3001\u7d50\u5c40\u4f7f\u3044\u52dd\u624b\u306e\u60aa\u3055\u3068\u3057\u3066\u8df3\u306d\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\u3055\u3089\u306b\u73fe\u5b9f\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u6b63\u3057\u304f\u8868\u73fe\u3057\u304d\u308c\u306a\u3044\u306e\u3067\u3059\u3002\u300c\u305d\u308c\u3067\u306f\u300d\u3068\u8a00\u3063\u3066\u4f7f\u3044\u52dd\u624b\u3092\u6c42\u3081\u308b\u3068\u3001\u6c4e\u7528\u306e\u306f\u305a\u306e <code>[Beacon](https://altbeacon.github.io/android-beacon-library/javadoc/org/altbeacon/beacon/Beacon.html)</code> \u30af\u30e9\u30b9\u306b [mServiceUuid](https://altbeacon.github.io/android-beacon-library/javadoc/org/altbeacon/beacon/Beacon.html#mServiceUuid) \u3084 [mTxPower](https://altbeacon.github.io/android-beacon-library/javadoc/org/altbeacon/beacon/Beacon.html#mTxPower) \u3068\u3044\u3063\u305f\u3001\u672c\u6765\u30b5\u30d6\u30af\u30e9\u30b9\u3067\u6301\u3064\u3079\u304d\u30d5\u30a3\u30fc\u30eb\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u304d\u3001\u8a2d\u8a08\u304c\u3069\u3093\u3069\u3093\u6c5a\u304f\u306a\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u3044\u3061\u3044\u3061\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u767b\u9332\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3001\u30d1\u30fc\u30b9\u51e6\u7406\u306e\u7d50\u679c\u5f97\u3089\u308c\u305f <code>[Beacon](https://altbeacon.github.io/android-beacon-library/javadoc/org/altbeacon/beacon/Beacon.html)</code> \u304b\u3089\u53d6\u308a\u51fa\u3057\u305f\u30c7\u30fc\u30bf\u3092\u3055\u3089\u306b\u81ea\u5206\u3067\u30d1\u30fc\u30b9\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3001\u3068\u3044\u3046\u554f\u984c\u70b9\u3082\u3055\u308b\u3053\u3068\u306a\u304c\u3089\u3001\u79c1\u304c\u305d\u308c\u4ee5\u4e0a\u306b **Android Beacon Library \u306e\u8a2d\u8a08\u4e0a\u306e\u554f\u984c\u3068\u3057\u3066\u6307\u6458\u3057\u305f\u3044\u306e\u306f\u3001Android Beacon Library \u3067\u306f AD \u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u306e\u968e\u5c64\u69cb\u9020\u3092\u7d76\u5bfe\u306b\u8868\u73fe\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u70b9\u3067\u3059\u3002** \u3053\u306e\u554f\u984c\u306f\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u767b\u9332\u3068\u3044\u3046\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u3068\u3063\u3066\u3044\u308b\u9650\u308a\u89e3\u6d88\u3067\u304d\u307e\u305b\u3093\u3002\n\n\n# **4. \u7e4b\u304e\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3**\n\n\u5c06\u6765\u307e\u3068\u3082\u306a Android BLE API \u304c\u518d\u3005\u8a2d\u8a08\u30fb\u5b9f\u88c5\u3055\u308c\u308b\u307e\u3067\u306e\u7e4b\u304e\u306e\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u3001\u624b\u524d\u5473\u564c\u3067\u306f\u3042\u308a\u307e\u3059\u304c **[nv-bluetooth](https://github.com/TakahikoKawasaki/nv-bluetooth)** \u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002 \u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u3068\u3001\u5148\u306b\u8ff0\u3079\u305f\u7406\u60f3\u306e\u5f62\u3067\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\u4f7f\u7528\u65b9\u6cd5\u306f\u4e0b\u8a18\u306e\u30ea\u30f3\u30af\u5148\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n- **[GitHub] [nv-bluetooth README](https://github.com/TakahikoKawasaki/nv-bluetooth/blob/master/README.md)**\n- **[\u30d6\u30ed\u30b0] [iBeacon as a kind of AD structures](http://darutk-oboegaki.blogspot.jp/2015/03/ibeacon-as-kind-of-ad-structures.html)**\n- **[\u30d6\u30ed\u30b0] [Eddystone \u30d1\u30b1\u30c3\u30c8\u3092\u30d1\u30fc\u30b9\u3059\u308b (Android)](http://darutk-oboegaki.blogspot.jp/2015/08/eddystone-android.html)**\n\n\u307e\u305f\u3001\u4e0b\u8a18\u306e Stack Overflow \u306e\u56de\u7b54\u7fa4\u3082\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Android Beacon Library \u3092\u7528\u3044\u308b\u65b9\u6cd5\u3067\u306e\u56de\u7b54\u304c\u540c\u6642\u306b\u3064\u3044\u3066\u3044\u308b\u8cea\u554f\u3082\u3042\u308b\u306e\u3067\u3001\u6bd4\u8f03\u3057\u3066\u307f\u308b\u3068\u9055\u3044\u304c\u306f\u3063\u304d\u308a\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n- \u300cProgrammatically, How to identify if a beacon belongs to Eddystone or iBeacon?\u300d\u306b\u5bfe\u3059\u308b[\u56de\u7b54](http://stackoverflow.com/a/32794478/1174054)\n- \u300cHow to read UDID, Major, Minor of beacon on android devices?\u300d\u306b\u5bfe\u3059\u308b[\u56de\u7b54](http://stackoverflow.com/a/29171384/1174054)\n- \u300cHow to identify Eddystone URL and uid?\u300d\u306b\u5bfe\u3059\u308b[\u56de\u7b54](http://stackoverflow.com/a/32871789/1174054)\n- \u300cHow to identify a Eddystone via scanRecord\u300d\u306b\u5bfe\u3059\u308b[\u56de\u7b54](http://stackoverflow.com/a/32767712/1174054)\n- \u300cAndroid Bluetooth Low Energy - iBeacon\u300d\u306b\u5bfe\u3059\u308b[\u56de\u7b54](http://stackoverflow.com/a/29174997/1174054)\n- \u300cFinding iBeacon using AltBeacon library\u300d\u306b\u5bfe\u3059\u308b[\u56de\u7b54](http://stackoverflow.com/a/29172086/1174054)\n\n\n# **\u304a\u308f\u308a\u306b**\n\nAndroid BLE API \u306e\u8a2d\u8a08\u304c\u3042\u307e\u308a\u306b\u3082\u9177\u3044\u3053\u3068\u3001Android Beacon Library \u304c\u6d41\u884c\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u3001Android \u3092\u7528\u3044\u305f BLE \u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u767a\u5c55\u306e\u963b\u5bb3\u8981\u56e0\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002 \u6b63\u3057\u3044\u8a2d\u8a08\u30fb\u5b9f\u88c5\u304c\u3067\u304d\u308b\u30a8\u30f3\u30b8\u30cb\u30a2\u3092\u96c6\u3081\u3066\u65b0\u3057\u3044\u30c1\u30fc\u30e0\u3092\u4f5c\u3063\u305f\u4e0a\u3067\u3001\u30cd\u30a4\u30c6\u30a3\u30d6\u30ec\u30a4\u30e4\u30fc\u304b\u3089 Android BLE API \u306e\u518d\u8a2d\u8a08\u30fb\u518d\u5b9f\u88c5\u304c\u304a\u3053\u306a\u308f\u308c\u308b\u3053\u3068\u3092\u5e0c\u671b\u3057\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "tags": ["Android", "BLE", "bluetooth", "iBeacon", "eddystone"]}