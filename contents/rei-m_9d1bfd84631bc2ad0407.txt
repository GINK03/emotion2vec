{"context": "\u3042\u3093\u307e\u308aRecyclerView\u4f7f\u3046\u6a5f\u4f1a\u304c\u7121\u304b\u3063\u305f\u3093\u3067\u3059\u3051\u3069\u4ed5\u4e8b\u3067\u89e6\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u306e\u3067\u3081\u3082\u3002\nAdapter\u306egetItemViewType\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u3066\u30c7\u30fc\u30bf\u306b\u5fdc\u3058\u305fViewType\u3092\u8fd4\u3057\u3066\u3042\u3052\u308b\u3068\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f7f\u3044\u5206\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002enum\u4f7f\u3046\u3068\u7dba\u9e97\u306b\u66f8\u3051\u308b\u611f\u3058\u3067\u3059\u306d\u3002\n\u4e0b\u306e\u4f8b\u306fItemEntity\u3092\u7d99\u627f\u3057\u305f3\u7a2e\u985e\u306e\u30af\u30e9\u30b9\u306b\u5fdc\u3058\u305f\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\u306a\u304a\u4ed5\u4e8b\u3067\u306f\u4eca\u306e\u3068\u3053Kotlin\u3067\u66f8\u3044\u3066\u308b\u306e\u3067\u30b5\u30f3\u30d7\u30eb\u3082Kotlin\u3067\u3059\u3002\n\nCustomAdapter.kt\nclass CustomAdapter(context: Context,\n                    val itemList: MutableList<ItemEntity>) : RecyclerView.Adapter<RecyclerView.ViewHolder>() {\n\n    enum class ViewType(val id: Int) {\n        HOGE(0) {\n            override fun createViewHolder(inflater: LayoutInflater, viewGroup: ViewGroup?): RecyclerView.ViewHolder {\n                // \u30bf\u30a4\u30d7\u306b\u5fdc\u3058\u305fViewHolder\u3092\u8fd4\u3059\n                return HogeViewHolder (inflater.inflate(R.layout.adapter_row_hoge, viewGroup, false))\n            }\n\n            override fun bindViewHolder(holder: RecyclerView.ViewHolder, itemEntity: ItemEntity) {\n                holder as HogeViewHolder\n                // View\u306b\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\uff08\u4ee5\u4e0b\u7565\uff09\n            }\n        },\n        FUGA(1) {\n            override fun createViewHolder(inflater: LayoutInflater, viewGroup: ViewGroup?): RecyclerView.ViewHolder {\n                return FugaViewHolder (inflater.inflate(R.layout.adapter_row_fuga, viewGroup, false))\n            }\n\n            override fun bindViewHolder(holder: RecyclerView.ViewHolder, itemEntity: ItemEntity) {\n                holder as FugaViewHolder\n                // View\u306b\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\uff08\u4ee5\u4e0b\u7565\uff09\n            }\n        },\n        PIYO(2) {\n            override fun createViewHolder(inflater: LayoutInflater, viewGroup: ViewGroup?): RecyclerView.ViewHolder {\n                return PiyoViewHolder (inflater.inflate(R.layout.adapter_row_piyo, viewGroup, false))\n            }\n\n            override fun bindViewHolder(holder: RecyclerView.ViewHolder, itemEntity: ItemEntity) {\n                holder as PiyoViewHolder\n                // View\u306b\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\uff08\u4ee5\u4e0b\u7565\uff09\n            }\n        };\n\n        companion object {\n            fun forId(id: Int): ViewType {\n                for (viewType: ViewType in values()) {\n                    if (viewType.id == id) {\n                        return viewType\n                    }\n                }\n                throw AssertionError(\"no enum found for the id. you forgot to implement?\")\n            }\n        }\n\n        abstract fun createViewHolder(inflater: LayoutInflater, viewGroup: ViewGroup?): RecyclerView.ViewHolder\n\n        abstract fun bindViewHolder(holder: RecyclerView.ViewHolder, itemEntity: ItemEntity)\n    }\n\n    companion object {\n\n        // \u30ec\u30a4\u30a2\u30a6\u30c8\u306b\u5fdc\u3058\u305fViewHolder\u3092\u4f5c\u308b\u3002KotterKnife\u3092\u4f7f\u3046\u3068Bind\u304c\u697d\n        private class HogeViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n            val imageHoge: ImageView by bindView(R.id.adapter_row_hoge_image)\n            val textHoge: TextView by bindView(R.id.adapter_row_hoge_text)\n        }\n\n        private class FugaViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n            val imageFuga: ImageView by bindView(R.id.adapter_row_fuga_image)\n            val textFuga: TextView by bindView(R.id.adapter_row_fuga_text)\n        }\n\n        private class PiyoViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n            val imagePiyo: ImageView by bindView(R.id.adapter_row_piyo_image)\n            val textPiyo: TextView by bindView(R.id.adapter_row_piyo_text)\n        }\n    }\n\n    private val inflater = LayoutInflater.from(context)\n\n    // View\u3092\u4f5c\u308b\u6642\u306b\u547c\u3070\u308c\u308b\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): RecyclerView.ViewHolder? {\n        return ViewType.forId(viewType).createViewHolder(inflater, parent)\n    }\n\n    // View\u306b\u30c7\u30fc\u30bf\u3092Bind\u3059\u308b\u6642\u306b\u547c\u3070\u308c\u308b\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder?, position: Int) {\n        holder ?: return\n        val item = itemList[position]\n        ViewType.forId(holder.itemViewType).bindViewHolder(holder, item)\n    }\n\n    override fun getItemCount(): Int {\n        return itemList.size\n    }\n\n    // \u578b\u306b\u5fdc\u3058\u305fViewType\u3092\u8fd4\u3059\n    override fun getItemViewType(position: Int): Int {\n\n        val item = itemList[position]\n\n        return when (item) {\n            is HogeItemEntity -> {\n                ViewType.HOGE.id\n            }\n            is FugaItemEntity -> {\n                ViewType.FUGA.id\n            }\n            is PiyoItemEntity -> {\n                ViewType.PIYO.id\n            }\n            else -> {\n                throw AssertionError(\"no enum found for the id. you forgot to implement?\")\n            }\n        }\n    }\n}\n\n\n\u3042\u3093\u307e\u308aRecyclerView\u4f7f\u3046\u6a5f\u4f1a\u304c\u7121\u304b\u3063\u305f\u3093\u3067\u3059\u3051\u3069\u4ed5\u4e8b\u3067\u89e6\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u306e\u3067\u3081\u3082\u3002\n\nAdapter\u306egetItemViewType\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u3066\u30c7\u30fc\u30bf\u306b\u5fdc\u3058\u305fViewType\u3092\u8fd4\u3057\u3066\u3042\u3052\u308b\u3068\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u4f7f\u3044\u5206\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002enum\u4f7f\u3046\u3068\u7dba\u9e97\u306b\u66f8\u3051\u308b\u611f\u3058\u3067\u3059\u306d\u3002\n\n\u4e0b\u306e\u4f8b\u306fItemEntity\u3092\u7d99\u627f\u3057\u305f3\u7a2e\u985e\u306e\u30af\u30e9\u30b9\u306b\u5fdc\u3058\u305f\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\u306a\u304a\u4ed5\u4e8b\u3067\u306f\u4eca\u306e\u3068\u3053Kotlin\u3067\u66f8\u3044\u3066\u308b\u306e\u3067\u30b5\u30f3\u30d7\u30eb\u3082Kotlin\u3067\u3059\u3002\n\n```kotlin:CustomAdapter.kt\nclass CustomAdapter(context: Context,\n                    val itemList: MutableList<ItemEntity>) : RecyclerView.Adapter<RecyclerView.ViewHolder>() {\n\n    enum class ViewType(val id: Int) {\n        HOGE(0) {\n            override fun createViewHolder(inflater: LayoutInflater, viewGroup: ViewGroup?): RecyclerView.ViewHolder {\n                // \u30bf\u30a4\u30d7\u306b\u5fdc\u3058\u305fViewHolder\u3092\u8fd4\u3059\n                return HogeViewHolder (inflater.inflate(R.layout.adapter_row_hoge, viewGroup, false))\n            }\n\n            override fun bindViewHolder(holder: RecyclerView.ViewHolder, itemEntity: ItemEntity) {\n                holder as HogeViewHolder\n                // View\u306b\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\uff08\u4ee5\u4e0b\u7565\uff09\n            }\n        },\n        FUGA(1) {\n            override fun createViewHolder(inflater: LayoutInflater, viewGroup: ViewGroup?): RecyclerView.ViewHolder {\n                return FugaViewHolder (inflater.inflate(R.layout.adapter_row_fuga, viewGroup, false))\n            }\n\n            override fun bindViewHolder(holder: RecyclerView.ViewHolder, itemEntity: ItemEntity) {\n                holder as FugaViewHolder\n                // View\u306b\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\uff08\u4ee5\u4e0b\u7565\uff09\n            }\n        },\n        PIYO(2) {\n            override fun createViewHolder(inflater: LayoutInflater, viewGroup: ViewGroup?): RecyclerView.ViewHolder {\n                return PiyoViewHolder (inflater.inflate(R.layout.adapter_row_piyo, viewGroup, false))\n            }\n\n            override fun bindViewHolder(holder: RecyclerView.ViewHolder, itemEntity: ItemEntity) {\n                holder as PiyoViewHolder\n                // View\u306b\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\uff08\u4ee5\u4e0b\u7565\uff09\n            }\n        };\n\n        companion object {\n            fun forId(id: Int): ViewType {\n                for (viewType: ViewType in values()) {\n                    if (viewType.id == id) {\n                        return viewType\n                    }\n                }\n                throw AssertionError(\"no enum found for the id. you forgot to implement?\")\n            }\n        }\n\n        abstract fun createViewHolder(inflater: LayoutInflater, viewGroup: ViewGroup?): RecyclerView.ViewHolder\n\n        abstract fun bindViewHolder(holder: RecyclerView.ViewHolder, itemEntity: ItemEntity)\n    }\n\n    companion object {\n\n        // \u30ec\u30a4\u30a2\u30a6\u30c8\u306b\u5fdc\u3058\u305fViewHolder\u3092\u4f5c\u308b\u3002KotterKnife\u3092\u4f7f\u3046\u3068Bind\u304c\u697d\n        private class HogeViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n            val imageHoge: ImageView by bindView(R.id.adapter_row_hoge_image)\n            val textHoge: TextView by bindView(R.id.adapter_row_hoge_text)\n        }\n\n        private class FugaViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n            val imageFuga: ImageView by bindView(R.id.adapter_row_fuga_image)\n            val textFuga: TextView by bindView(R.id.adapter_row_fuga_text)\n        }\n\n        private class PiyoViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n            val imagePiyo: ImageView by bindView(R.id.adapter_row_piyo_image)\n            val textPiyo: TextView by bindView(R.id.adapter_row_piyo_text)\n        }\n    }\n\n    private val inflater = LayoutInflater.from(context)\n\n    // View\u3092\u4f5c\u308b\u6642\u306b\u547c\u3070\u308c\u308b\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): RecyclerView.ViewHolder? {\n        return ViewType.forId(viewType).createViewHolder(inflater, parent)\n    }\n\n    // View\u306b\u30c7\u30fc\u30bf\u3092Bind\u3059\u308b\u6642\u306b\u547c\u3070\u308c\u308b\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder?, position: Int) {\n        holder ?: return\n        val item = itemList[position]\n        ViewType.forId(holder.itemViewType).bindViewHolder(holder, item)\n    }\n\n    override fun getItemCount(): Int {\n        return itemList.size\n    }\n\n    // \u578b\u306b\u5fdc\u3058\u305fViewType\u3092\u8fd4\u3059\n    override fun getItemViewType(position: Int): Int {\n\n        val item = itemList[position]\n\n        return when (item) {\n            is HogeItemEntity -> {\n                ViewType.HOGE.id\n            }\n            is FugaItemEntity -> {\n                ViewType.FUGA.id\n            }\n            is PiyoItemEntity -> {\n                ViewType.PIYO.id\n            }\n            else -> {\n                throw AssertionError(\"no enum found for the id. you forgot to implement?\")\n            }\n        }\n    }\n}\n```\n", "tags": ["Android", "RecyclerView", "Kotlin"]}