{"context": " More than 1 year has passed since last update.\u3069\u306e\u3088\u3046\u306a\u4f7f\u3044\u65b9\u3059\u308b\u306b\u3057\u308d\n\u3044\u3064\u3082centOS6 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306b\n\u5171\u901a\u3067\u8a2d\u5b9a\u3059\u308b\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\n\u30b7\u30a7\u30eb\u3067\u884c\u3048\u308b\u3088\u3046\u306b\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\u3053\u306e\u30b7\u30a7\u30eb\u3067\u884c\u3048\u308b\u4e8b\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\nsudo\u306e\u8a2d\u5b9a\nselinux\u30fbip6tables\u306e\u89e3\u9664\ngit2.X\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\u30ab\u30fc\u30cd\u30eb\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\nvagrant\u30e6\u30fc\u30b6\u30fc\u3067\u306e\u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u8a2d\u5b9a\nMozc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nsu -\n\n# setup_update.sh\u306e\u6e96\u5099\nrm -f setup_update.sh; touch setup_update.sh; chmod u+x setup_update.sh; vi setup_update.sh\n\n#!/bin/bash\n\nif [ \"$UID\" -eq 0 ];then\n    echo \"root!\"\n\n    echo \"\uff0b------------------------------------------------------------------------------------------------------------\uff0b\";\n    echo \"\u25a0setup start \" ${0};\n    echo \"\uff0b------------------------------------------------------------------------------------------------------------\uff0b\";\n\n    echo \"#####################################################################\"\n    echo \"repository\"\n    echo \"#####################################################################\"\n    readonly URL_RPMFORGE_RPM_GPG_KEY=\"http://apt.sw.be/RPM-GPG-KEY.dag.txt\"\n    readonly URL_RPMFORGE=\"http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm\"\n\n    readonly URL_EPEL_RPM_GPG_KEY=\"http://ftp.riken.jp/Linux/fedora/epel/RPM-GPG-KEY-EPEL-6\"\n    readonly URL_EPEL=\"http://ftp.riken.jp/Linux/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm\"\n\n    readonly URL_REMI_RPM_GPG_KEY=\"http://rpms.famillecollet.com/RPM-GPG-KEY-remi\"\n    readonly URL_REMI=\"http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\"\n\n    readonly URL_IUS=\"https://dl.iuscommunity.org/pub/ius/stable/CentOS/6/x86_64/ius-release-1.0-14.ius.centos6.noarch.rpm\"\n\n    rpm --import $URL_RPMFORGE_RPM_GPG_KEY\n    rpm -ivh $URL_RPMFORGE\n    yum -y update rpmforge-release\n    cp -p /etc/yum.repos.d/rpmforge.repo /etc/yum.repos.d/rpmforge.repo.org\n    sed -i -e \"s/enabled = 1/enabled = 0/g\" /etc/yum.repos.d/rpmforge.repo\n\n    rpm --import $URL_EPEL_RPM_GPG_KEY\n    rpm -ivh $URL_EPEL\n    yum -y update epel-release\n    cp -p /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.org\n    sed -i -e \"s/enabled=1/enabled=0/g\" /etc/yum.repos.d/epel.repo\n\n    rpm --import $URL_REMI_RPM_GPG_KEY\n    rpm -ivh $URL_REMI\n    yum -y update remi-release\n\n    yum install -y $URL_IUS\n    sed -i -e \"s/enabled=1/enabled=0/g\" /etc/yum.repos.d/ius.repo\n\n\n    echo \"#####################################################################\"\n    echo \"sudoers\"\n    echo \"#####################################################################\"\n    cp -fp /etc/sudoers /etc/sudoers.`date \"+%Y%m%d_%H%M%S\"`_org\n    sed -i 's/Defaults.*requiretty/#Default\\trequiretty/g' /etc/sudoers\n    sed -i 's/^#\\s%wheel\\s*ALL=(ALL)\\s*ALL$/%wheel\\tALL=(ALL)\\tALL/g' /etc/sudoers\n    sed -i 's/^#\\s%wheel\\s*ALL=(ALL)\\s*NOPASSWD: ALL$/vagrant\\tALL=(ALL)\\tNOPASSWD: ALL/g' /etc/sudoers\n\n\n    echo \"#####################################################################\"\n    echo \"security\"\n    echo \"#####################################################################\"\n    sed -i \"s/\\(^SELINUX=\\).*/\\1disabled/\" /etc/selinux/config\n\n    cat /etc/selinux/config | grep \"SELINUX=\"\n\n    service iptables stop\n    service ip6tables stop\n\n    chkconfig iptables off\n    chkconfig ip6tables off\n\n\n    echo \"#####################################################################\"\n    echo \"git2u\"\n    echo \"#####################################################################\"\n    yum install -y --enablerepo=ius git2u\n\n    echo \"#####################################################################\"\n    echo \"update\"\n    echo \"#####################################################################\"\n    yum -y update\n\n\n    echo \"#####################################################################\"\n    echo \"kernel update\"\n    echo \"#####################################################################\"\n    yum install -y update kernel-devel kernel-headers gcc gcc-c++  dkms perl\n    yum install -y kernel-devel-`uname -r`\n\n\n    echo \"#####################################################################\"\n    echo \"Development Tools\"\n    echo \"#####################################################################\"\n    yum groupinstall -y \"Development Tools\"\n\n    yum install -y bind-utils curl-devel expect gcc-c++ gd-devel glib2-devel glibc-headers ImageMagick ImageMagick-devel \n    yum install -y libffi-devel libxml2-devel libxslt-devel libyaml-devel nkf openssl-devel pcre-devel perl-devel perl-ExtUtils-Embed    \n    yum install -y readline readline-devel sqlite-devel tree vim w3m wget zlib zlib-devel\n\n    echo \"#####################################################################\"\n    echo \"Auto Log In\"\n    echo \"#####################################################################\"\n    cp -p /etc/gdm/custom.conf /etc/mdm.conf.`date \"+%Y%m%d_%H%M%S\"`_org\n\n    sudo sed -i -e \"4i TimedLoginEnable=true\" /etc/gdm/custom.conf\n    sudo sed -i -e \"5i TimedLogin=vagrant\" /etc/gdm/custom.conf\n    sudo sed -i -e \"6i TimedLoginDelay=1\" /etc/gdm/custom.conf\n\n    echo \"#####################################################################\"\n    echo \"Mozc\"\n    echo \"#####################################################################\"\n    wget http://dl.fedoraproject.org/pub/epel/6/x86_64/protobuf-2.3.0-9.el6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/zinnia-0.06-3vl6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/tegaki-zinnia-japanese-0.3-1vl6.noarch.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/mozc-server-1.5.1090.102-1vl6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/mozc-utils-gui-1.5.1090.102-1vl6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/ibus-mozc-1.5.1090.102-1vl6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/mozc-1.5.1090.102-1vl6.x86_64.rpm\n\n    rpm -ivh protobuf-2.3.0-9.el6.x86_64.rpm\n    rpm -ivh zinnia-0.06-3vl6.x86_64.rpm\n    rpm -ivh tegaki-zinnia-japanese-0.3-1vl6.noarch.rpm\n    rpm -ivh mozc-server-1.5.1090.102-1vl6.x86_64.rpm\n    rpm -ivh mozc-utils-gui-1.5.1090.102-1vl6.x86_64.rpm\n    rpm -ivh ibus-mozc-1.5.1090.102-1vl6.x86_64.rpm\n    rpm -ivh mozc-1.5.1090.102-1vl6.x86_64.rpm\n\n    rm -f protobuf-*.rpm\n    rm -f ibus-mozc-*.x86_64.rpm\n    rm -f mozc-*.rpm\n    rm -f tegaki-zinnia-japanese-*.rpm\n    rm -f zinnia-*.rpm\n\n\n\n    echo \"\uff0b------------------------------------------------------------------------------------------------------------\uff0b\";\n    echo \"\u25a0setup end\";\n    echo \"\uff0b------------------------------------------------------------------------------------------------------------\uff0b\";\n\nelse\n    echo \"non-root user!\"\nfi\n\n\u3069\u306e\u3088\u3046\u306a\u4f7f\u3044\u65b9\u3059\u308b\u306b\u3057\u308d\n\u3044\u3064\u3082centOS6 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306b\n\u5171\u901a\u3067\u8a2d\u5b9a\u3059\u308b\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308a\u307e\u3057\u305f\u306e\u3067\n\u30b7\u30a7\u30eb\u3067\u884c\u3048\u308b\u3088\u3046\u306b\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n\u3053\u306e\u30b7\u30a7\u30eb\u3067\u884c\u3048\u308b\u4e8b\n\n* \u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\n* sudo\u306e\u8a2d\u5b9a\n* selinux\u30fbip6tables\u306e\u89e3\u9664\n* git2.X\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n* \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n* \u30ab\u30fc\u30cd\u30eb\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n* vagrant\u30e6\u30fc\u30b6\u30fc\u3067\u306e\u81ea\u52d5\u30ed\u30b0\u30a4\u30f3\u8a2d\u5b9a\n* Mozc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n```\nsu -\n\n# setup_update.sh\u306e\u6e96\u5099\nrm -f setup_update.sh; touch setup_update.sh; chmod u+x setup_update.sh; vi setup_update.sh\n```\n```\n#!/bin/bash\n\nif [ \"$UID\" -eq 0 ];then\n    echo \"root!\"\n\n    echo \"\uff0b------------------------------------------------------------------------------------------------------------\uff0b\";\n    echo \"\u25a0setup start \" ${0};\n    echo \"\uff0b------------------------------------------------------------------------------------------------------------\uff0b\";\n\n    echo \"#####################################################################\"\n    echo \"repository\"\n    echo \"#####################################################################\"\n    readonly URL_RPMFORGE_RPM_GPG_KEY=\"http://apt.sw.be/RPM-GPG-KEY.dag.txt\"\n    readonly URL_RPMFORGE=\"http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm\"\n\n    readonly URL_EPEL_RPM_GPG_KEY=\"http://ftp.riken.jp/Linux/fedora/epel/RPM-GPG-KEY-EPEL-6\"\n    readonly URL_EPEL=\"http://ftp.riken.jp/Linux/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm\"\n\n    readonly URL_REMI_RPM_GPG_KEY=\"http://rpms.famillecollet.com/RPM-GPG-KEY-remi\"\n    readonly URL_REMI=\"http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\"\n\n    readonly URL_IUS=\"https://dl.iuscommunity.org/pub/ius/stable/CentOS/6/x86_64/ius-release-1.0-14.ius.centos6.noarch.rpm\"\n\n    rpm --import $URL_RPMFORGE_RPM_GPG_KEY\n    rpm -ivh $URL_RPMFORGE\n    yum -y update rpmforge-release\n    cp -p /etc/yum.repos.d/rpmforge.repo /etc/yum.repos.d/rpmforge.repo.org\n    sed -i -e \"s/enabled = 1/enabled = 0/g\" /etc/yum.repos.d/rpmforge.repo\n\n    rpm --import $URL_EPEL_RPM_GPG_KEY\n    rpm -ivh $URL_EPEL\n    yum -y update epel-release\n    cp -p /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.org\n    sed -i -e \"s/enabled=1/enabled=0/g\" /etc/yum.repos.d/epel.repo\n\n    rpm --import $URL_REMI_RPM_GPG_KEY\n    rpm -ivh $URL_REMI\n    yum -y update remi-release\n\n    yum install -y $URL_IUS\n    sed -i -e \"s/enabled=1/enabled=0/g\" /etc/yum.repos.d/ius.repo\n\n\n    echo \"#####################################################################\"\n    echo \"sudoers\"\n    echo \"#####################################################################\"\n    cp -fp /etc/sudoers /etc/sudoers.`date \"+%Y%m%d_%H%M%S\"`_org\n    sed -i 's/Defaults.*requiretty/#Default\\trequiretty/g' /etc/sudoers\n    sed -i 's/^#\\s%wheel\\s*ALL=(ALL)\\s*ALL$/%wheel\\tALL=(ALL)\\tALL/g' /etc/sudoers\n    sed -i 's/^#\\s%wheel\\s*ALL=(ALL)\\s*NOPASSWD: ALL$/vagrant\\tALL=(ALL)\\tNOPASSWD: ALL/g' /etc/sudoers\n\n\n    echo \"#####################################################################\"\n    echo \"security\"\n    echo \"#####################################################################\"\n    sed -i \"s/\\(^SELINUX=\\).*/\\1disabled/\" /etc/selinux/config\n\n    cat /etc/selinux/config | grep \"SELINUX=\"\n\n    service iptables stop\n    service ip6tables stop\n\n    chkconfig iptables off\n    chkconfig ip6tables off\n\n\n    echo \"#####################################################################\"\n    echo \"git2u\"\n    echo \"#####################################################################\"\n    yum install -y --enablerepo=ius git2u\n\n    echo \"#####################################################################\"\n    echo \"update\"\n    echo \"#####################################################################\"\n    yum -y update\n\n\n    echo \"#####################################################################\"\n    echo \"kernel update\"\n    echo \"#####################################################################\"\n    yum install -y update kernel-devel kernel-headers gcc gcc-c++  dkms perl\n    yum install -y kernel-devel-`uname -r`\n\n\n    echo \"#####################################################################\"\n    echo \"Development Tools\"\n    echo \"#####################################################################\"\n    yum groupinstall -y \"Development Tools\"\n\n    yum install -y bind-utils curl-devel expect gcc-c++ gd-devel glib2-devel glibc-headers ImageMagick ImageMagick-devel \n    yum install -y libffi-devel libxml2-devel libxslt-devel libyaml-devel nkf openssl-devel pcre-devel perl-devel perl-ExtUtils-Embed    \n    yum install -y readline readline-devel sqlite-devel tree vim w3m wget zlib zlib-devel\n\n    echo \"#####################################################################\"\n    echo \"Auto Log In\"\n    echo \"#####################################################################\"\n    cp -p /etc/gdm/custom.conf /etc/mdm.conf.`date \"+%Y%m%d_%H%M%S\"`_org\n\n    sudo sed -i -e \"4i TimedLoginEnable=true\" /etc/gdm/custom.conf\n    sudo sed -i -e \"5i TimedLogin=vagrant\" /etc/gdm/custom.conf\n    sudo sed -i -e \"6i TimedLoginDelay=1\" /etc/gdm/custom.conf\n\n    echo \"#####################################################################\"\n    echo \"Mozc\"\n    echo \"#####################################################################\"\n    wget http://dl.fedoraproject.org/pub/epel/6/x86_64/protobuf-2.3.0-9.el6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/zinnia-0.06-3vl6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/tegaki-zinnia-japanese-0.3-1vl6.noarch.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/mozc-server-1.5.1090.102-1vl6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/mozc-utils-gui-1.5.1090.102-1vl6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/ibus-mozc-1.5.1090.102-1vl6.x86_64.rpm\n    wget http://ftp.kddilabs.jp/pub/Linux/packages/Vine/Vine-6.3/x86_64/Vine/RPMS/mozc-1.5.1090.102-1vl6.x86_64.rpm\n\n    rpm -ivh protobuf-2.3.0-9.el6.x86_64.rpm\n    rpm -ivh zinnia-0.06-3vl6.x86_64.rpm\n    rpm -ivh tegaki-zinnia-japanese-0.3-1vl6.noarch.rpm\n    rpm -ivh mozc-server-1.5.1090.102-1vl6.x86_64.rpm\n    rpm -ivh mozc-utils-gui-1.5.1090.102-1vl6.x86_64.rpm\n    rpm -ivh ibus-mozc-1.5.1090.102-1vl6.x86_64.rpm\n    rpm -ivh mozc-1.5.1090.102-1vl6.x86_64.rpm\n\n    rm -f protobuf-*.rpm\n    rm -f ibus-mozc-*.x86_64.rpm\n    rm -f mozc-*.rpm\n    rm -f tegaki-zinnia-japanese-*.rpm\n    rm -f zinnia-*.rpm\n\n\n\n    echo \"\uff0b------------------------------------------------------------------------------------------------------------\uff0b\";\n    echo \"\u25a0setup end\";\n    echo \"\uff0b------------------------------------------------------------------------------------------------------------\uff0b\";\n\nelse\n    echo \"non-root user!\"\nfi\n```\n", "tags": ["CentOS6.x"]}