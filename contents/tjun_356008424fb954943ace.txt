{"tags": ["Go", "GitHub", "bigquery"], "context": "\n\nGithub on BigQuery\u3068\u306f\nGoogle Cloud Platform Blog: GitHub on BigQuery: Analyze all the open source code\n\u306b\u3042\u308b\u3088\u3046\u306b\u3001Github\u306b\u3042\u308b\u5168\u3066\u306e\u30aa\u30fc\u30d7\u30f3\u306a\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u5bfe\u3057\u3066BigQuery\u304b\u3089\u30af\u30a8\u30ea\u304c\u304b\u3051\u3089\u308c\u307e\u3059\u3002\u3059\u3054\u3044\u3002\n\nGo\u3067\u4f7f\u308f\u308c\u3066\u3044\u308bpackage\u3092\u8abf\u3079\u308b\n\u4ee5\u4e0b\u306b\u3042\u308b\u30b5\u30f3\u30d7\u30eb\u306b\u3001\u3088\u304f\u4f7f\u308f\u308c\u308bgo\u306epackage\u3092\u8abf\u3079\u308b\u30af\u30a8\u30ea\u304c\u8f09\u3063\u3066\u3044\u308b\u3002\nGitHub Data \u00a0|\u00a0 BigQuery \u00a0|\u00a0 Google Cloud Platform\n\u4f8b\u3067\u306fTop10\u3060\u304c\u300130\u306b\u3057\u3066\u3084\u3063\u3066\u307f\u305f\u3002\n\u30af\u30a8\u30ea\nSELECT\n  REGEXP_EXTRACT(line, r'\"([^\"]+)\"') AS url,\n  COUNT(*) AS count\nFROM\n  FLATTEN( (\n    SELECT\n      SPLIT(SPLIT(REGEXP_EXTRACT(content, r'.*import\\s*[(]([^)]*)[)]'), '\\n'), ';') AS line,\n    FROM (\n      SELECT\n        id,\n        content\n      FROM\n        [bigquery-public-data:github_repos.sample_contents]\n      WHERE\n        REGEXP_MATCH(content, r'.*import\\s*[(][^)]*[)]')) AS C\n    JOIN (\n      SELECT\n        id\n      FROM\n        [bigquery-public-data:github_repos.sample_files]\n      WHERE\n        path LIKE '%.go'\n      GROUP BY\n        id) AS F\n    ON\n      C.id = F.id), line)\nGROUP BY\n  url\nHAVING\n  url IS NOT NULL\nORDER BY\n  count DESC\nLIMIT 30\n\n\u7d50\u679c\n\n\n\n\nURL\nCount\n\n\n\n\n1\nfmt\n9725\n\n\n2\nstrings\n5341\n\n\n3\ntime\n5242\n\n\n4\ntesting\n5046\n\n\n5\nos\n4676\n\n\n6\nio\n3092\n\n\n7\nbytes\n3084\n\n\n8\nnet/http\n2935\n\n\n9\nerrors\n2859\n\n\n10\nio/ioutil\n2488\n\n\n11\nencoding/json\n2220\n\n\n12\nstrconv\n2198\n\n\n13\nlog\n2055\n\n\n14\nsync\n2008\n\n\n15\nreflect\n1716\n\n\n16\npath/filepath\n1514\n\n\n17\nnet\n1310\n\n\n18\nnet/url\n1188\n\n\n19\nruntime\n1022\n\n\n20\nsort\n969\n\n\n21\ngolang.org/x/net/context\n877\n\n\n22\nflag\n866\n\n\n23\nregexp\n861\n\n\n24\nbufio\n784\n\n\n25\nsyscall\n734\n\n\n26\npath\n732\n\n\n27\nos/exec\n674\n\n\n28\nmath\n672\n\n\n29\nmath/rand\n595\n\n\n30\ngithub.com/stretchr/testify/assert\n526\n\n\n\n\u4e0a\u4f4d\u306f\u57fa\u672c\u7684\u306b\u6a19\u6e96package\u304c\u591a\u3044\u3067\u3059\u3002\n\u6b21\u306b\u3001\u6a19\u6e96package\u3067\u306a\u3044\u3082\u306e\u3092\u8abf\u3079\u305f\u304b\u3063\u305f\u306e\u3067import\u306bURL\u304c\u542b\u307e\u308c\u308b\u3082\u306e\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n\u4f7f\u3063\u305f\u30af\u30a8\u30ea\nSELECT\n  REGEXP_EXTRACT(line, r'\"([^\\.]+\\.[^\"]+)\"') AS url,\n  COUNT(*) AS count\nFROM\n  FLATTEN( (\n    SELECT\n      SPLIT(SPLIT(REGEXP_EXTRACT(content, r'.*import\\s*[(]([^)]*)[)]'), '\\n'), ';') AS line,\n    FROM (\n      SELECT\n        id,\n        content\n      FROM\n        [bigquery-public-data:github_repos.sample_contents]\n      WHERE\n        REGEXP_MATCH(content, r'.*import\\s*[(][^)]*[)]')) AS C\n    JOIN (\n      SELECT\n        id\n      FROM\n        [bigquery-public-data:github_repos.sample_files]\n      WHERE\n        path LIKE '%.go'\n      GROUP BY\n        id) AS F\n    ON\n      C.id = F.id), line)\nGROUP BY\n  url\nHAVING\n  url IS NOT NULL\nORDER BY\n  count DESC\nLIMIT 30\n\n\u7d50\u679c\n\n\n\n\nURL\nCount\n\n\n\n\n1\ngolang.org/x/net/context\n877\n\n\n2\ngithub.com/stretchr/testify/assert\n526\n\n\n3\nk8s.io/kubernetes/pkg/api\n523\n\n\n4\ngithub.com/onsi/ginkgo\n496\n\n\n5\ngithub.com/Sirupsen/logrus\n495\n\n\n6\ngithub.com/onsi/gomega\n488\n\n\n7\ngithub.com/golang/glog\n399\n\n\n8\ngopkg.in/check.v1\n395\n\n\n9\nk8s.io/kubernetes/pkg/api/unversioned\n257\n\n\n10\ngithub.com/aws/aws-sdk-go/aws\n246\n\n\n11\ngithub.com/juju/errors\n238\n\n\n12\nk8s.io/kubernetes/pkg/runtime\n234\n\n\n13\ngithub.com/spf13/cobra\n203\n\n\n14\ngithub.com/GoogleCloudPlatform/kubernetes/pkg/api\n177\n\n\n15\ngithub.com/codegangsta/cli\n166\n\n\n16\ngithub.com/smartystreets/goconvey/convey\n160\n\n\n17\ngithub.com/gorilla/mux\n131\n\n\n18\ngithub.com/juju/testing/checkers\n127\n\n\n19\nk8s.io/kubernetes/pkg/watch\n115\n\n\n20\nk8s.io/kubernetes/pkg/labels\n115\n\n\n21\ngithub.com/aws/aws-sdk-go/aws/request\n114\n\n\n22\nk8s.io/kubernetes/pkg/util/sets\n113\n\n\n23\ngithub.com/golang/protobuf/proto\n111\n\n\n24\ngithub.com/stretchr/testify/require\n110\n\n\n25\ngoogle.golang.org/api/googleapi\n106\n\n\n26\ngopkg.in/mgo.v2/bson\n103\n\n\n27\ngithub.com/docker/engine-api/types\n97\n\n\n28\nk8s.io/kubernetes/pkg/client/unversioned\n94\n\n\n29\ngoogle.golang.org/grpc\n94\n\n\n30\ngithub.com/hashicorp/terraform/helper/schema\n91\n\n\n\n\u30ed\u30b0\u3068\u304b\u30c6\u30b9\u30c8\u7cfb\u304c\u591a\u3044\u4e2d\u306b\u3001kubernetes\u95a2\u4fc2\u304c\u3061\u3087\u3053\u3061\u3087\u3053\u5165\u3063\u3066\u304d\u3066\u308b\u3002\n\u4ee5\u4e0a\u306f2016/6/30\u306b\u8abf\u3079\u305f\u7d50\u679c\u3067\u3059\u3002\n## Github on BigQuery\u3068\u306f\n\n[Google Cloud Platform Blog: GitHub on BigQuery: Analyze all the open source code](https://cloudplatform.googleblog.com/2016/06/GitHub-on-BigQuery-analyze-all-the-open-source-code.html)\n\u306b\u3042\u308b\u3088\u3046\u306b\u3001Github\u306b\u3042\u308b\u5168\u3066\u306e\u30aa\u30fc\u30d7\u30f3\u306a\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u5bfe\u3057\u3066BigQuery\u304b\u3089\u30af\u30a8\u30ea\u304c\u304b\u3051\u3089\u308c\u307e\u3059\u3002\u3059\u3054\u3044\u3002\n\n\n## Go\u3067\u4f7f\u308f\u308c\u3066\u3044\u308bpackage\u3092\u8abf\u3079\u308b\n\n\u4ee5\u4e0b\u306b\u3042\u308b\u30b5\u30f3\u30d7\u30eb\u306b\u3001\u3088\u304f\u4f7f\u308f\u308c\u308bgo\u306epackage\u3092\u8abf\u3079\u308b\u30af\u30a8\u30ea\u304c\u8f09\u3063\u3066\u3044\u308b\u3002\n\n[GitHub Data \u00a0|\u00a0 BigQuery \u00a0|\u00a0 Google Cloud Platform](https://cloud.google.com/bigquery/public-data/github#github)\n\n\u4f8b\u3067\u306fTop10\u3060\u304c\u300130\u306b\u3057\u3066\u3084\u3063\u3066\u307f\u305f\u3002\n\n**\u30af\u30a8\u30ea**\n\n```\nSELECT\n  REGEXP_EXTRACT(line, r'\"([^\"]+)\"') AS url,\n  COUNT(*) AS count\nFROM\n  FLATTEN( (\n    SELECT\n      SPLIT(SPLIT(REGEXP_EXTRACT(content, r'.*import\\s*[(]([^)]*)[)]'), '\\n'), ';') AS line,\n    FROM (\n      SELECT\n        id,\n        content\n      FROM\n        [bigquery-public-data:github_repos.sample_contents]\n      WHERE\n        REGEXP_MATCH(content, r'.*import\\s*[(][^)]*[)]')) AS C\n    JOIN (\n      SELECT\n        id\n      FROM\n        [bigquery-public-data:github_repos.sample_files]\n      WHERE\n        path LIKE '%.go'\n      GROUP BY\n        id) AS F\n    ON\n      C.id = F.id), line)\nGROUP BY\n  url\nHAVING\n  url IS NOT NULL\nORDER BY\n  count DESC\nLIMIT 30\n```\n\n**\u7d50\u679c**\n\n|  | URL | Count |\n|:-:|:--|:-:|\n|1|\tfmt\t|9725|\n|2|\tstrings\t|5341|\n|3|\ttime\t|5242 |\n|4|\ttesting\t|5046 |\n|5|\tos\t|4676 |\n|6|\tio\t|3092 |\n|7|\tbytes\t|3084 |\n|8|\tnet/http|2935 |\n|9|\terrors\t|2859 |\n|10|\tio/ioutil|2488 |\n|11|\tencoding/json|2220|\n|12|\tstrconv|2198 |\n|13|\tlog|2055 |\n|14|\tsync|2008 |\n|15|\treflect|1716 |\n|16|\tpath/filepath|1514 |\n|17|\tnet|1310|\n|18|\tnet/url|1188 |\n|19|\truntime|1022|\n|20|\tsort|\t969|\n|21|\tgolang.org/x/net/context|877|\n|22|\tflag|\t866 |\n|23|\tregexp|\t861 |\n|24|\tbufio|\t784 |\n|25|\tsyscall|734|\n|26|\tpath|\t732 |\n|27|\tos/exec|674 |\n|28|\tmath|672 |\n|29|\tmath/rand|595|\n|30|\tgithub.com/stretchr/testify/assert|526|\n\n\n\n\n\u4e0a\u4f4d\u306f\u57fa\u672c\u7684\u306b\u6a19\u6e96package\u304c\u591a\u3044\u3067\u3059\u3002\n\u6b21\u306b\u3001\u6a19\u6e96package\u3067\u306a\u3044\u3082\u306e\u3092\u8abf\u3079\u305f\u304b\u3063\u305f\u306e\u3067import\u306bURL\u304c\u542b\u307e\u308c\u308b\u3082\u306e\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u3002\n\n**\u4f7f\u3063\u305f\u30af\u30a8\u30ea**\n\n```\nSELECT\n  REGEXP_EXTRACT(line, r'\"([^\\.]+\\.[^\"]+)\"') AS url,\n  COUNT(*) AS count\nFROM\n  FLATTEN( (\n    SELECT\n      SPLIT(SPLIT(REGEXP_EXTRACT(content, r'.*import\\s*[(]([^)]*)[)]'), '\\n'), ';') AS line,\n    FROM (\n      SELECT\n        id,\n        content\n      FROM\n        [bigquery-public-data:github_repos.sample_contents]\n      WHERE\n        REGEXP_MATCH(content, r'.*import\\s*[(][^)]*[)]')) AS C\n    JOIN (\n      SELECT\n        id\n      FROM\n        [bigquery-public-data:github_repos.sample_files]\n      WHERE\n        path LIKE '%.go'\n      GROUP BY\n        id) AS F\n    ON\n      C.id = F.id), line)\nGROUP BY\n  url\nHAVING\n  url IS NOT NULL\nORDER BY\n  count DESC\nLIMIT 30\n```\n\n**\u7d50\u679c**\n\n\n\n|  | URL | Count |\n|:-:|:--|:-:|\n|1|\tgolang.org/x/net/context|\t877\t |\n|2|\tgithub.com/stretchr/testify/assert|\t526\t |\n|3|\tk8s.io/kubernetes/pkg/api|\t523\t |\n|4|\tgithub.com/onsi/ginkgo|\t496\t |\n|5|\tgithub.com/Sirupsen/logrus|\t495\t |\n|6|\tgithub.com/onsi/gomega|\t488\t |\n|7|\tgithub.com/golang/glog|\t399\t |\n|8|\tgopkg.in/check.v1|\t395\t |\n|9|\tk8s.io/kubernetes/pkg/api/unversioned|\t257\t |\n|10|\tgithub.com/aws/aws-sdk-go/aws|\t246\t |\n|11|\tgithub.com/juju/errors|\t238\t |\n|12|\tk8s.io/kubernetes/pkg/runtime|\t234\t |\n|13|\tgithub.com/spf13/cobra|\t203\t |\n|14|\tgithub.com/GoogleCloudPlatform/kubernetes/pkg/api|\t177\t |\n|15|\tgithub.com/codegangsta/cli|\t166\t |\n|16|\tgithub.com/smartystreets/goconvey/convey|\t160\t |\n|17|\tgithub.com/gorilla/mux|\t131\t \n|18|\tgithub.com/juju/testing/checkers|\t127\t |\n|19|\tk8s.io/kubernetes/pkg/watch|\t115|\t \n|20|\tk8s.io/kubernetes/pkg/labels|\t115|\n|21|\tgithub.com/aws/aws-sdk-go/aws/request\t|114\t |\n|22|\tk8s.io/kubernetes/pkg/util/sets|\t113\t |\n|23|\tgithub.com/golang/protobuf/proto|\t111\t |\n|24|\tgithub.com/stretchr/testify/require|\t110\t |\n|25|\tgoogle.golang.org/api/googleapi|\t106\t |\n|26|\tgopkg.in/mgo.v2/bson|\t103\t |\n|27|\tgithub.com/docker/engine-api/types|\t97\t |\n|28|\tk8s.io/kubernetes/pkg/client/unversioned|\t94\t |\n|29|\tgoogle.golang.org/grpc|\t94\t |\n|30|\tgithub.com/hashicorp/terraform/helper/schema|\t91\t |\n\n\u30ed\u30b0\u3068\u304b\u30c6\u30b9\u30c8\u7cfb\u304c\u591a\u3044\u4e2d\u306b\u3001kubernetes\u95a2\u4fc2\u304c\u3061\u3087\u3053\u3061\u3087\u3053\u5165\u3063\u3066\u304d\u3066\u308b\u3002\n\n\u4ee5\u4e0a\u306f2016/6/30\u306b\u8abf\u3079\u305f\u7d50\u679c\u3067\u3059\u3002\n"}