{"context": " More than 1 year has passed since last update.\n\nCloudFront\u306e\u30a2\u30af\u30bb\u30b9\u3092\u30ed\u30b0\u3092\u30d1\u30fc\u30b9\u3059\u308b\u8a2d\u5b9a\uff08props.conf\u3068transforms.conf\u306e\u4f8b\uff09\n\u203b\u81ea\u5206\u7528\u306e\u30e1\u30e2\u66f8\u304d\u306a\u306e\u3067\u3001\u3042\u307e\u308a\u4f59\u4eba\u306b\u306f\u5f79\u306b\u7acb\u305f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\n\n\u524d\u63d0\u6761\u4ef6\n\nSplunk\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\nSplunk Add-on for AWS\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\nAWS\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u3042\u308b\nCloudFront\u306e\u30ed\u30b0\u304cS3\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\nSplunk\u304cS3\u304b\u3089\u30ed\u30b0\u306e\u53d6\u308a\u8fbc\u307f\u81ea\u4f53\u306f\u51fa\u6765\u308b\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\uff08\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u304c\u8a2d\u5b9a\u6e08\u307f\u306a\u72b6\u614b\uff09\n\n\u3068\u8a00\u3046\u3088\u3046\u306a\u524d\u63d0\u6761\u4ef6\u3067\u3001Splunk\u4e0a\u3067S3\u304b\u3089\u53d6\u308a\u8fbc\u3093\u3060CloudFront\u306e\u30ed\u30b0\u3092\u30d1\u30fc\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u8a2d\u5b9a\u306e\u30e1\u30e2\u66f8\u304d\u3067\u3059\u3002\nS3\u304b\u3089Splunk\u3078\u306e\u30ed\u30b0\u53d6\u308a\u8fbc\u307f\u306e\u3084\u308a\u65b9\u306b\u3064\u3044\u3066\u306f\u3001Splunk Add-on for AWS\u81ea\u4f53\u305d\u308c\u307b\u3069\u96e3\u3057\u3044\u8a2d\u5b9a\u306f\u7121\u3044\u306e\u3067\u3001GUI\u304b\u3089\u30b5\u30af\u30b5\u30af\u3068\u7af6\u3063\u3066\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u7701\u7565\u3002\n\n\u4e8b\u524d\u8a2d\u5b9a\u60c5\u5831\n\n\u53d6\u308a\u8fbc\u3093\u3060\u30ed\u30b0\u306eSourceType\u306f \"aws:cloudfront\" \u3068\u3057\u307e\u3059\n\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u306fAWS\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u304b\u3089\u4e00\u90e8\u5909\u66f4\u3057\u307e\u3059\n\u8a2d\u5b9a\u304cSplunk\u306e\u30b7\u30b9\u30c6\u30e0\u6a29\u9650\u306e\u6240\u306b\u914d\u7f6e\u3057\u307e\u3059($SPLUNK_HOME/etc/system/local/ \u914d\u4e0b\u306b\u914d\u7f6e\uff09\n\n\n\u8a2d\u5b9a\n\n\u65e2\u306b\u6307\u5b9a\u306e\u5834\u6240\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u5834\u5408\u306f\u8ffd\u8a18\u3057\u307e\u3059\n\n$SPLUNK_HOME \u306fSplunk\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f /opt/splunk\uff09\u306b\u8aad\u307f\u66ff\u3048\u3066\u4e0b\u3055\u3044\n\n\n$SPLUNK_HOME/etc/system/local/props.conf\n[aws:cloudfront]\npulldown_type=true\nCHECK_FOR_HEADER = false\nREPORT-CloudFront = tab-CloudFront\nTRANSFORMS-CloudFront = header-CloudFront\nTZ = UTC\n\n\n\n$SPLUNK_HOME/etc/system/local/transforms.conf\n[tab-CloudFront]\nDELIMS=\"\\t\"\nFIELDS=\"date\", \"time\", \"x_edge_location\", \"sent_bytes\", \"clientip\", \"method\", \"cloudfront_host\", \"uri_stem\", \"status\", \"Referer\", \"UserAgent\", \"uri_query\", \"Cookie\", \"x_edge_result_type\", \"x_edge_request_id\", \"x_host_header\", \"protocol\", \"rcvd_bytes\", \"time_taken\", \"x_forwarded_for\", \"ssl_protocol\", \"ssl_cipher\", \"x_edge_response_result_type\"\n\n[header-CloudFront]\nREGEX=^#\nDEST_KEY=queue\nFORMAT=nullQueue\n\n\n\n\ntransforms.conf \u306e [tab-CloudFront] \u3067\u30bf\u30d6\u533a\u5207\u308a\u306e\u89e3\u91c8\u3092\u3057\u3066\u3044\u307e\u3059\n\n[header-CloudFront] \u3067\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d2\u884c\u306b\u3042\u308b # \u306e\u884c\u3092\u8aad\u307f\u98db\u3070\u3057\u3057\u307e\u3059\n\n# CloudFront\u306e\u30a2\u30af\u30bb\u30b9\u3092\u30ed\u30b0\u3092\u30d1\u30fc\u30b9\u3059\u308b\u8a2d\u5b9a\uff08props.conf\u3068transforms.conf\u306e\u4f8b\uff09\n\n\u203b\u81ea\u5206\u7528\u306e\u30e1\u30e2\u66f8\u304d\u306a\u306e\u3067\u3001\u3042\u307e\u308a\u4f59\u4eba\u306b\u306f\u5f79\u306b\u7acb\u305f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\n\n## \u524d\u63d0\u6761\u4ef6\n\n- Splunk\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n- Splunk Add-on for AWS\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\n- AWS\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u3042\u308b\n- CloudFront\u306e\u30ed\u30b0\u304cS3\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\n- Splunk\u304cS3\u304b\u3089\u30ed\u30b0\u306e\u53d6\u308a\u8fbc\u307f\u81ea\u4f53\u306f\u51fa\u6765\u308b\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\uff08\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u304c\u8a2d\u5b9a\u6e08\u307f\u306a\u72b6\u614b\uff09\n\n\u3068\u8a00\u3046\u3088\u3046\u306a\u524d\u63d0\u6761\u4ef6\u3067\u3001Splunk\u4e0a\u3067S3\u304b\u3089\u53d6\u308a\u8fbc\u3093\u3060CloudFront\u306e\u30ed\u30b0\u3092\u30d1\u30fc\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u8a2d\u5b9a\u306e\u30e1\u30e2\u66f8\u304d\u3067\u3059\u3002\nS3\u304b\u3089Splunk\u3078\u306e\u30ed\u30b0\u53d6\u308a\u8fbc\u307f\u306e\u3084\u308a\u65b9\u306b\u3064\u3044\u3066\u306f\u3001Splunk Add-on for AWS\u81ea\u4f53\u305d\u308c\u307b\u3069\u96e3\u3057\u3044\u8a2d\u5b9a\u306f\u7121\u3044\u306e\u3067\u3001GUI\u304b\u3089\u30b5\u30af\u30b5\u30af\u3068\u7af6\u3063\u3066\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u7701\u7565\u3002\n\n## \u4e8b\u524d\u8a2d\u5b9a\u60c5\u5831\n\n- \u53d6\u308a\u8fbc\u3093\u3060\u30ed\u30b0\u306eSourceType\u306f \"aws:cloudfront\" \u3068\u3057\u307e\u3059\n- \u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u306fAWS\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u304b\u3089\u4e00\u90e8\u5909\u66f4\u3057\u307e\u3059\n- \u8a2d\u5b9a\u304cSplunk\u306e\u30b7\u30b9\u30c6\u30e0\u6a29\u9650\u306e\u6240\u306b\u914d\u7f6e\u3057\u307e\u3059($SPLUNK_HOME/etc/system/local/ \u914d\u4e0b\u306b\u914d\u7f6e\uff09\n\n## \u8a2d\u5b9a\n\n- \u65e2\u306b\u6307\u5b9a\u306e\u5834\u6240\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u5834\u5408\u306f\u8ffd\u8a18\u3057\u307e\u3059\n- `$SPLUNK_HOME` \u306fSplunk\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f `/opt/splunk`\uff09\u306b\u8aad\u307f\u66ff\u3048\u3066\u4e0b\u3055\u3044\n\n``` $SPLUNK_HOME/etc/system/local/props.conf\n[aws:cloudfront]\npulldown_type=true\nCHECK_FOR_HEADER = false\nREPORT-CloudFront = tab-CloudFront\nTRANSFORMS-CloudFront = header-CloudFront\nTZ = UTC\n```\n```$SPLUNK_HOME/etc/system/local/transforms.conf\n[tab-CloudFront]\nDELIMS=\"\\t\"\nFIELDS=\"date\", \"time\", \"x_edge_location\", \"sent_bytes\", \"clientip\", \"method\", \"cloudfront_host\", \"uri_stem\", \"status\", \"Referer\", \"UserAgent\", \"uri_query\", \"Cookie\", \"x_edge_result_type\", \"x_edge_request_id\", \"x_host_header\", \"protocol\", \"rcvd_bytes\", \"time_taken\", \"x_forwarded_for\", \"ssl_protocol\", \"ssl_cipher\", \"x_edge_response_result_type\"\n\n[header-CloudFront]\nREGEX=^#\nDEST_KEY=queue\nFORMAT=nullQueue\n```\n\n- `transforms.conf` \u306e `[tab-CloudFront]` \u3067\u30bf\u30d6\u533a\u5207\u308a\u306e\u89e3\u91c8\u3092\u3057\u3066\u3044\u307e\u3059\n- `[header-CloudFront]` \u3067\u30d5\u30a1\u30a4\u30eb\u306e\u5148\u982d2\u884c\u306b\u3042\u308b `#` \u306e\u884c\u3092\u8aad\u307f\u98db\u3070\u3057\u3057\u307e\u3059\n", "tags": ["AWS", "Splunk", "CloudFront"]}