{"tags": ["Pepper", "NAO", "Python"], "context": "NAO\u3067\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u305f\u3044\u306a\u30fc\u3068\u601d\u3063\u3066\u3044\u305f\u3089\u3001\u610f\u5916\u3068\u3042\u3063\u3055\u308a\u51fa\u6765\u307e\u3057\u305f\u3002\n\n\u74b0\u5883\nOS X El Capitan 10.11.3\nChoregraphe 2.1.3.3\nSQLite version 3.8.10.2\n\nPython Script\n\u30dc\u30c3\u30af\u30b9\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067OK\u3067\u3059\u3002\nclass MyClass(GeneratedClass):\n    def __init__(self):\n        GeneratedClass.__init__(self)\n\n    def onLoad(self):\n        #put initialization code here\n        pass\n\n    def onUnload(self):\n        #put clean-up code here\n        pass\n\n    def onInput_onStart(self):\n        import sqlite3\n\n        appId = self.packageUid()\n        qi.path.setWritablePath(\"/Users/{\u30e6\u30fc\u30b6\u540d}/Desktop/dev/nao/data_files\") #\u4efb\u610f\u306e\u5834\u6240\u3092\u6307\u5b9a\n\n        dbpath = qi.path.userWritableDataPath(appId, \"sample.db\")\n        self.logger.info(dbpath)\n\n        conn = sqlite3.connect(dbpath)\n        c = conn.cursor()\n        c.execute('''CREATE TABLE shop (id INTEGER PRIMARY KEY, name TEXT , price INTEGER)''')\n        c.execute(\"INSERT INTO shop (name, price) VALUES ('hogehoge',100)\")\n        conn.commit()\n        conn.close()\n\n        self.onStopped()\n\n    def onInput_onStop(self):\n        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped\n\n\n\n\u78ba\u8a8d\n$ pwd\n/Users/{\u30e6\u30fc\u30b6\u540d}/Desktop/dev/nao/data_files/data/.lastUploadedChoregrapheBehavior\n\n$ sqlite3 sample.db\nSQLite version 3.8.10.2 2015-05-20 18:17:19\nEnter \".help\" for usage hints.\nsqlite> .table\nshop\nsqlite> select * from shop;\n1|hogehoge|100\n\n\u767b\u9332\u3067\u304d\u307e\u3057\u305f\u3002\n\u203bsqlite\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3068\u304d\u306f\u3001.lastUploadedChoregrapheBehavior\u3092chmod 777\u306b\u3059\u308b\u3068\u3044\u3051\u307e\u3057\u305f\u3002\n\n\u305d\u306e\u4ed6\nCSV\u30d1\u30c3\u30b1\u30fc\u30b8\u3001JSON\u30d1\u30c3\u30b1\u30fc\u30b8\u3001ElementTree\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u4f7f\u3048\u308b\u307f\u305f\u3044\u3067\u3059\u3002\nNAO\u3067\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u305f\u3044\u306a\u30fc\u3068\u601d\u3063\u3066\u3044\u305f\u3089\u3001\u610f\u5916\u3068\u3042\u3063\u3055\u308a\u51fa\u6765\u307e\u3057\u305f\u3002\n\n##\u74b0\u5883\nOS X El Capitan 10.11.3\nChoregraphe 2.1.3.3\nSQLite version 3.8.10.2\n\n##Python Script\n\u30dc\u30c3\u30af\u30b9\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067OK\u3067\u3059\u3002\n\n```python\nclass MyClass(GeneratedClass):\n    def __init__(self):\n        GeneratedClass.__init__(self)\n\n    def onLoad(self):\n        #put initialization code here\n        pass\n\n    def onUnload(self):\n        #put clean-up code here\n        pass\n\n    def onInput_onStart(self):\n        import sqlite3\n        \n        appId = self.packageUid()\n        qi.path.setWritablePath(\"/Users/{\u30e6\u30fc\u30b6\u540d}/Desktop/dev/nao/data_files\") #\u4efb\u610f\u306e\u5834\u6240\u3092\u6307\u5b9a\n\n        dbpath = qi.path.userWritableDataPath(appId, \"sample.db\")\n        self.logger.info(dbpath)\n\n        conn = sqlite3.connect(dbpath)\n        c = conn.cursor()\n        c.execute('''CREATE TABLE shop (id INTEGER PRIMARY KEY, name TEXT , price INTEGER)''')\n        c.execute(\"INSERT INTO shop (name, price) VALUES ('hogehoge',100)\")\n        conn.commit()\n        conn.close()\n                    \n        self.onStopped()\n        \n    def onInput_onStop(self):\n        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped\n\n```\n\n##\u78ba\u8a8d\n\n```\n$ pwd\n/Users/{\u30e6\u30fc\u30b6\u540d}/Desktop/dev/nao/data_files/data/.lastUploadedChoregrapheBehavior\n\n$ sqlite3 sample.db\nSQLite version 3.8.10.2 2015-05-20 18:17:19\nEnter \".help\" for usage hints.\nsqlite> .table\nshop\nsqlite> select * from shop;\n1|hogehoge|100\n```\n\u767b\u9332\u3067\u304d\u307e\u3057\u305f\u3002\n\n\n\u203bsqlite\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3068\u304d\u306f\u3001`.lastUploadedChoregrapheBehavior`\u3092`chmod 777`\u306b\u3059\u308b\u3068\u3044\u3051\u307e\u3057\u305f\u3002\n\n##\u305d\u306e\u4ed6\nCSV\u30d1\u30c3\u30b1\u30fc\u30b8\u3001JSON\u30d1\u30c3\u30b1\u30fc\u30b8\u3001ElementTree\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u4f7f\u3048\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n"}