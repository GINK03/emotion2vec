{"context": " More than 1 year has passed since last update.GYAO\u306e\u7a93\u969b\u30a8\u30f3\u30b8\u30cb\u30a2\u3000\u7389\u5229\u3067\u3059\u3002\n\u3044\u307e\u3001Mac\u4e0a\u306b\u69cb\u7bc9\u3057\u305fKafka\u3068Apache NiFi\u3067\u30b7\u30b9\u30c6\u30e0\u958b\u767a\u3092\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001getKafka\u304c\u52d5\u304b\u306a\u3044\u554f\u984c\u306b\u76f4\u9762\u3057\u3001\u4eca\u9031\u4e00\u9031\u9593\u307e\u308b\u3063\u3068\u30cf\u30de\u3063\u3066\u307e\u3057\u305f\u3002\n\u98f2\u307e\u306a\u304d\u3083\u3084\u3063\u3066\u3089\u3093\u306d\u30fc\u3088\u3068\u3001\u5bb6\u306b\u5e30\u3063\u3066\u304b\u3089\u30bb\u30b3\u30bb\u30b3\u691c\u8a3c\u3057\u3066\u305f\u306e\u3067\u3059\u304c\u3001\u98f2\u3093\u3067\u305f\u3089\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002\nhttps://mail-archives.apache.org/mod_mbox/nifi-users/201602.mbox/%3CCALJK9a6r-=vYrb5Hmc_8n__gm_b57gCfVVKbqpuNnKwHKkX2rg@mail.gmail.com%3E\n\u30b9\u30fc\u30d1\u30fc\u610f\u8a33\n\nI've upgraded from Nifi 0.4.1 to 0.5.0 and I am no longer able to use the GetKafka processor.\n\n0.4.1\u304b\u30890.5.0\u306b\u3042\u3052\u305f\u3089GetKafka\u304c\u52d5\u304b\u306a\u304f\u306a\u3063\u305f\u3093\u3060\u3051\u3069\n\nAny chance to attache the app-log or relevant stack trace?\n\napp-log\u304b\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u306f\uff1f\n\nThe only change that \u2019s went and relevant to your issue is the fact that we\u2019ve upgraded client libraries to Kafka 0.9 and between 0.8 and 0.9 Kafka introduced wire protocol changes that break compatibility.\nI am still digging so stay tuned.\n\nKafka\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u30920.9\u306b\u4e0a\u3052\u305f\u3093\u3060\u3051\u3069\u30d7\u30ed\u30c8\u30b3\u30eb\u4e92\u63db\u6027\u304c\u306a\u304f\u306a\u3063\u305f\u307f\u305f\u3044\u3002\u6398\u308a\u8fd4\u3057\u3066\u307f\u308b\u304b\u3089\u5f85\u3063\u3066\u3066\u306d\n\u301c\u3000\u8a73\u7d30\u306a\u306e\u3067\u4e2d\u7565\u3000\u301c\n\nI replaced my 0.5.0 kafka nar with the 0.4.1 kakfa nar and it fixed my kafka issue. I renamed the 0.4.1 nar to be 0.5.0.nar and restart nifi and my kafka processor started reading my 0.8.2.1 stream. Not elegant but glad it worked.\n\n0.4.1\u306ekafka.nar\u3092\u30ea\u30cd\u30fc\u30e0\u30b3\u30d4\u30fc\u3057\u30660.5.0\u306b\u3057\u305f\u3089\u3001kafka 0.8.2.1\u306e\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u8aad\u3081\u305f\u3002\u30a8\u30ec\u30ac\u30f3\u30c8\u3058\u3083\u306a\u3044\u3051\u3069\u52d5\u3044\u3066\u3088\u304b\u3063\u305f\u3002\n\nAll just as a point of reference we now have a live system running that is on NiFi 0.5.0 and feeding three versions of Kafka at once:\n- 0.8.1\n- 0.8.2.0\n- 0.9.0.1\n\n\uff08\u4e2d\u7565)\u3000\u3053\u308c\u3053\u308c\u306eKafka\u30d0\u30fc\u30b8\u30e7\u30f3 + NiFi 0.5.0\u3060\u3068\u52d5\u3044\u3066\u308b\nbrew\u306ekafka\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u3002\u3002\u3002\u3002\u898b\u4e8b\u306b\u30cf\u30de\u308a\u3002\n\n[btamari@MBP-15UAC-072 ~]$ brew list kafka\n/usr/local/Cellar/kafka/0.8.2.2/bin/kafka-console-consumer.sh\n/usr/local/Cellar/kafka/0.8.2.2/bin/kafka-console-producer.sh\n\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u30b3\u30d4\u30fc\u3057\u305f\u3089\u52d5\u3044\u305f\uff01\n\u304a\u884c\u5100\u308f\u308b\u3044\u3051\u3069\u3001\u4e0a\u66f8\u304d\u3057\u307e\u3057\u305f\u3002\n$ cp nifi-kafka-nar-0.5.1.nar nifi-kafka-nar-0.5.1.nar.org\n$ cp ../../nifi-0.4.1/lib/nifi-kafka-nar-0.4.1.nar ./nifi-kafka-nar-0.5.1.nar\n\n\n\u4eba\u67f1\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\u7686\u69d8\u304a\u6c17\u3092\u3064\u3051\u3092\u3002\u3002\u3002\u3002\nGYAO\u306e\u7a93\u969b\u30a8\u30f3\u30b8\u30cb\u30a2\u3000\u7389\u5229\u3067\u3059\u3002\n\n\u3044\u307e\u3001Mac\u4e0a\u306b\u69cb\u7bc9\u3057\u305fKafka\u3068Apache NiFi\u3067\u30b7\u30b9\u30c6\u30e0\u958b\u767a\u3092\u3057\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001getKafka\u304c\u52d5\u304b\u306a\u3044\u554f\u984c\u306b\u76f4\u9762\u3057\u3001\u4eca\u9031\u4e00\u9031\u9593\u307e\u308b\u3063\u3068\u30cf\u30de\u3063\u3066\u307e\u3057\u305f\u3002\n\n\n\u98f2\u307e\u306a\u304d\u3083\u3084\u3063\u3066\u3089\u3093\u306d\u30fc\u3088\u3068\u3001\u5bb6\u306b\u5e30\u3063\u3066\u304b\u3089\u30bb\u30b3\u30bb\u30b3\u691c\u8a3c\u3057\u3066\u305f\u306e\u3067\u3059\u304c\u3001\u98f2\u3093\u3067\u305f\u3089\u89e3\u6c7a\u3057\u307e\u3057\u305f\u3002\n\nhttps://mail-archives.apache.org/mod_mbox/nifi-users/201602.mbox/%3CCALJK9a6r-=vYrb5Hmc_8n__gm_b57gCfVVKbqpuNnKwHKkX2rg@mail.gmail.com%3E\n\n\u30b9\u30fc\u30d1\u30fc\u610f\u8a33\n\n> I've upgraded from Nifi 0.4.1 to 0.5.0 and I am no longer able to use the GetKafka processor.\n\n0.4.1\u304b\u30890.5.0\u306b\u3042\u3052\u305f\u3089GetKafka\u304c\u52d5\u304b\u306a\u304f\u306a\u3063\u305f\u3093\u3060\u3051\u3069\n\n> Any chance to attache the app-log or relevant stack trace?\n\napp-log\u304b\u30b9\u30bf\u30c3\u30af\u30c8\u30ec\u30fc\u30b9\u306f\uff1f\n\n>The only change that \u2019s went and relevant to your issue is the fact that we\u2019ve upgraded client libraries to Kafka 0.9 and between 0.8 and 0.9 Kafka introduced wire protocol changes that break compatibility.\nI am still digging so stay tuned.\n\nKafka\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u30920.9\u306b\u4e0a\u3052\u305f\u3093\u3060\u3051\u3069\u30d7\u30ed\u30c8\u30b3\u30eb\u4e92\u63db\u6027\u304c\u306a\u304f\u306a\u3063\u305f\u307f\u305f\u3044\u3002\u6398\u308a\u8fd4\u3057\u3066\u307f\u308b\u304b\u3089\u5f85\u3063\u3066\u3066\u306d\n\n\u301c\u3000\u8a73\u7d30\u306a\u306e\u3067\u4e2d\u7565\u3000\u301c\n\n> I replaced my 0.5.0 kafka nar with the 0.4.1 kakfa nar and it fixed my kafka issue. I renamed the 0.4.1 nar to be 0.5.0.nar and restart nifi and my kafka processor started reading my 0.8.2.1 stream. Not elegant but glad it worked.\n\n0.4.1\u306ekafka.nar\u3092\u30ea\u30cd\u30fc\u30e0\u30b3\u30d4\u30fc\u3057\u30660.5.0\u306b\u3057\u305f\u3089\u3001kafka 0.8.2.1\u306e\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u8aad\u3081\u305f\u3002\u30a8\u30ec\u30ac\u30f3\u30c8\u3058\u3083\u306a\u3044\u3051\u3069\u52d5\u3044\u3066\u3088\u304b\u3063\u305f\u3002\n\n\n> All just as a point of reference we now have a live system running that is on NiFi 0.5.0 and feeding three versions of Kafka at once:\n- 0.8.1\n- 0.8.2.0\n- 0.9.0.1\n\n\uff08\u4e2d\u7565)\u3000\u3053\u308c\u3053\u308c\u306eKafka\u30d0\u30fc\u30b8\u30e7\u30f3 + NiFi 0.5.0\u3060\u3068\u52d5\u3044\u3066\u308b\n\n\nbrew\u306ekafka\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u3002\u3002\u3002\u3002\u898b\u4e8b\u306b\u30cf\u30de\u308a\u3002\n```\n[btamari@MBP-15UAC-072 ~]$ brew list kafka\n/usr/local/Cellar/kafka/0.8.2.2/bin/kafka-console-consumer.sh\n/usr/local/Cellar/kafka/0.8.2.2/bin/kafka-console-producer.sh\n```\n\n# \u3068\u308a\u3042\u3048\u305a\u3001\u30b3\u30d4\u30fc\u3057\u305f\u3089\u52d5\u3044\u305f\uff01\n\n\u304a\u884c\u5100\u308f\u308b\u3044\u3051\u3069\u3001\u4e0a\u66f8\u304d\u3057\u307e\u3057\u305f\u3002\n\n```\n$ cp nifi-kafka-nar-0.5.1.nar nifi-kafka-nar-0.5.1.nar.org\n$ cp ../../nifi-0.4.1/lib/nifi-kafka-nar-0.4.1.nar ./nifi-kafka-nar-0.5.1.nar\n```\n\n<img width=\"352\" alt=\"NiFi_Flow.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/113049/2b10b06e-a043-5b7d-774d-45d3b9d55d2c.png\">\n\n\n\n\u4eba\u67f1\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\u7686\u69d8\u304a\u6c17\u3092\u3064\u3051\u3092\u3002\u3002\u3002\u3002\n\n\n", "tags": ["NiFi", "Kafka"]}