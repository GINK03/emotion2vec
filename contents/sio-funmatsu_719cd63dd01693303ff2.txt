{"context": "\n\n\u6e96\u5099\n\nhomebrew \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\uff08brew update\u3057\u3066\u304a\u3053\u3046\uff09\nheroku \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\nlinebot \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\nherkou cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b => $ brew install heroku\n\nphp \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b => $ brew install homebrew/php/php71\n\ncomposer \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b => $ brew install homebrew/php/composer\n\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u81ea\u5206\u306e\u30de\u30b7\u30f3\u3067\u5165\u529b\u3057\u3066\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u78ba\u8a8d\u3059\u308b\n$ heroku version\n$ php -v\n$ composer -V\n\nheroku\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304a\u304f\n$ heroku login\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\n$ mkdir sample-bot\n$ cd sample-bot\n$ touch composer.json && echo {} > composer.json\n$ composer require linecorp/line-bot-sdk\n$ vi index.php\n\n\nindex.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\n\n$httpClient = new \\LINE\\LINEBot\\HTTPClient\\CurlHTTPClient(getenv('CHANNEL_ACCESS_TOKEN'));\n$bot = new \\LINE\\LINEBot($httpClient, ['channelSecret' => getenv('CHANNEL_SECRET')]);\n$sign = $_SERVER[\"HTTP_\" . \\LINE\\LINEBot\\Constant\\HTTPHeader::LINE_SIGNATURE];\n$events = $bot->parseEventRequest(file_get_contents('php://input'), $sign);\n\nforeach ($events as $event) {\n  if (!($event instanceof \\LINE\\LINEBot\\Event\\MessageEvent) ||\n      !($event instanceof \\LINE\\LINEBot\\Event\\MessageEvent\\TextMessage)) {\n    continue;\n  }\n  $bot->replyText($event->getReplyToken(), $event->getText());\n}\n\n\n$ git init\n$ git add .\n$ git commit -m \"Initial commit sample-bot\"\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u5f8c\u306b\u8868\u793a\u3055\u308c\u308bURL\u3092https://**********.herokuapp.com/\u3092\u30e1\u30e2\u308b\n$ heroku create\n\n$ git push heroku master\n\n\nlinebot \u306e\u8a2d\u5b9a\n\n\n\u3053\u3053\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\u300c\u30a2\u30ab\u30a6\u30f3\u30c8\u30ea\u30b9\u30c8\u300d>\u300c\u30d3\u30b8\u30cd\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u300d>\u300cMessageAPI\u3092\u59cb\u3081\u308b\u300d\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n\u300c\u30a2\u30ab\u30a6\u30f3\u30c8\u30ea\u30b9\u30c8\u300d\u304b\u3089\u300cLINE@MANAGER\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\u300cLINE@MANAGER\u300d\u306e\u5de6\u306b\u3042\u308b\u300c\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u300d>\u300cBot\u8a2d\u5b9a\u300d\u3067\u300cAPI\u3092\u4f7f\u7528\u3059\u308b\u300d\u3092\u6709\u52b9\u306b\u3059\u308b\n\u300cBot\u8a2d\u5b9a\u300d\u306e\u300c\u30ea\u30af\u30a8\u30b9\u30c8\u8a2d\u5b9a\u300d\u3067\u300cwebhook\u9001\u4fe1\u300d\u3092\u5229\u7528\u3059\u308b\u306b\u5909\u66f4\u3059\u308b\n\u7d9a\u3051\u3066\u300c\u8a73\u7d30\u8a2d\u5b9a\u300d\u306e\u300c\u81ea\u52d5\u5fdc\u7b54\u30e1\u30c3\u30bb\u30fc\u30b8\u300d\u3092\u5229\u7528\u3057\u306a\u3044\u306b\u8a2d\u5b9a\u3059\u308b\n\u300c\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3001\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3059\u308b\n\u518d\u5ea6\u3053\u3053\u306e\u300c\u30a2\u30ab\u30a6\u30f3\u30c8\u30ea\u30b9\u30c8\u300d\u304b\u3089\u300c LINE Developers\u300d\u3092\u958b\u304f\n\u300cQR Code\u300d\u3067\u81ea\u5206\u306eLINE\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u3068\u3082\u3060\u3061\u306b\u30a2\u30d7\u30ea\u3092\u8ffd\u52a0\u3059\u308b\n\u300cEDIT\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u7de8\u96c6\u753b\u9762\u3067\u3001\u300cWebhook URL\u300d\u306b\u5148\u307b\u3069\u30e1\u30e2\u3063\u305fURL\u3092\u5165\u529b\u3057\u3001\u300cSAVE\u300d\u3059\u308b\n\u300cChannel Secret\u300d\u3068\u300cChannel Access Token\u300d\u3092\u30e1\u30e2\u308b\uff08\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u300cISSUE\u300d\u3092\u62bc\u3059\uff09\n\n\nheroku \u74b0\u5883\u5909\u6570\u8a2d\u5b9a\n$ heroku config:set CHANNEL_SECRET=\u30e1\u30e2\u3063\u305fChannel Secret\n$ heroku config:set CHANNEL_ACCESS_TOKEN=\u30e1\u30e2\u3063\u305fChannel Access Token\n\n\n\u8a66\u3059\n\u81ea\u5206\u306e\u30b9\u30de\u30db\u304b\u3089\u8ffd\u52a0\u3057\u305f\u30a2\u30d7\u30ea\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u3066\u307f\u3066\u3001\u30aa\u30a6\u30e0\u8fd4\u3057\u304c\u5e30\u3063\u3066\u304d\u305f\u3089\u6210\u529f\u3067\u3059\n# \u6e96\u5099\n1. homebrew \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\uff08brew update\u3057\u3066\u304a\u3053\u3046\uff09\n2. heroku \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n3. linebot \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n4. herkou cli \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b => ```$ brew install heroku```\n5. php \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b => ```$ brew install homebrew/php/php71```\n6. composer \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b => ```$ brew install homebrew/php/composer```\n\n```\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u81ea\u5206\u306e\u30de\u30b7\u30f3\u3067\u5165\u529b\u3057\u3066\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u78ba\u8a8d\u3059\u308b\n$ heroku version\n$ php -v\n$ composer -V\n\nheroku\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304a\u304f\n$ heroku login\n```\n\n# \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\n\n```\n$ mkdir sample-bot\n$ cd sample-bot\n$ touch composer.json && echo {} > composer.json\n$ composer require linecorp/line-bot-sdk\n$ vi index.php\n```\n\n```index.php\n<?php\nrequire_once __DIR__ . '/vendor/autoload.php';\n\n$httpClient = new \\LINE\\LINEBot\\HTTPClient\\CurlHTTPClient(getenv('CHANNEL_ACCESS_TOKEN'));\n$bot = new \\LINE\\LINEBot($httpClient, ['channelSecret' => getenv('CHANNEL_SECRET')]);\n$sign = $_SERVER[\"HTTP_\" . \\LINE\\LINEBot\\Constant\\HTTPHeader::LINE_SIGNATURE];\n$events = $bot->parseEventRequest(file_get_contents('php://input'), $sign);\n\nforeach ($events as $event) {\n  if (!($event instanceof \\LINE\\LINEBot\\Event\\MessageEvent) ||\n      !($event instanceof \\LINE\\LINEBot\\Event\\MessageEvent\\TextMessage)) {\n    continue;\n  }\n  $bot->replyText($event->getReplyToken(), $event->getText());\n}\n```\n\n```\n$ git init\n$ git add .\n$ git commit -m \"Initial commit sample-bot\"\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u5f8c\u306b\u8868\u793a\u3055\u308c\u308bURL\u3092https://**********.herokuapp.com/\u3092\u30e1\u30e2\u308b\n$ heroku create\n\n$ git push heroku master\n```\n\n# linebot \u306e\u8a2d\u5b9a\n\n1. [\u3053\u3053](https://business.line.me/ja/)\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n2. \u300c\u30a2\u30ab\u30a6\u30f3\u30c8\u30ea\u30b9\u30c8\u300d>\u300c\u30d3\u30b8\u30cd\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u300d>\u300cMessageAPI\u3092\u59cb\u3081\u308b\u300d\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n3. \u300c\u30a2\u30ab\u30a6\u30f3\u30c8\u30ea\u30b9\u30c8\u300d\u304b\u3089\u300cLINE@MANAGER\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\n4. \u300cLINE@MANAGER\u300d\u306e\u5de6\u306b\u3042\u308b\u300c\u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u300d>\u300cBot\u8a2d\u5b9a\u300d\u3067\u300cAPI\u3092\u4f7f\u7528\u3059\u308b\u300d\u3092\u6709\u52b9\u306b\u3059\u308b\n5. \u300cBot\u8a2d\u5b9a\u300d\u306e\u300c\u30ea\u30af\u30a8\u30b9\u30c8\u8a2d\u5b9a\u300d\u3067\u300cwebhook\u9001\u4fe1\u300d\u3092\u5229\u7528\u3059\u308b\u306b\u5909\u66f4\u3059\u308b\n6. \u7d9a\u3051\u3066\u300c\u8a73\u7d30\u8a2d\u5b9a\u300d\u306e\u300c\u81ea\u52d5\u5fdc\u7b54\u30e1\u30c3\u30bb\u30fc\u30b8\u300d\u3092\u5229\u7528\u3057\u306a\u3044\u306b\u8a2d\u5b9a\u3059\u308b\n7. \u300c\u4fdd\u5b58\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3001\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3059\u308b\n8. \u518d\u5ea6[\u3053\u3053](https://business.line.me/ja/)\u306e\u300c\u30a2\u30ab\u30a6\u30f3\u30c8\u30ea\u30b9\u30c8\u300d\u304b\u3089\u300c LINE Developers\u300d\u3092\u958b\u304f\n9. \u300cQR Code\u300d\u3067\u81ea\u5206\u306eLINE\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u3068\u3082\u3060\u3061\u306b\u30a2\u30d7\u30ea\u3092\u8ffd\u52a0\u3059\u308b\n10. \u300cEDIT\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u7de8\u96c6\u753b\u9762\u3067\u3001\u300cWebhook URL\u300d\u306b\u5148\u307b\u3069\u30e1\u30e2\u3063\u305fURL\u3092\u5165\u529b\u3057\u3001\u300cSAVE\u300d\u3059\u308b\n11. \u300cChannel Secret\u300d\u3068\u300cChannel Access Token\u300d\u3092\u30e1\u30e2\u308b\uff08\u8868\u793a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u300cISSUE\u300d\u3092\u62bc\u3059\uff09\n\n# heroku \u74b0\u5883\u5909\u6570\u8a2d\u5b9a\n\n```\n$ heroku config:set CHANNEL_SECRET=\u30e1\u30e2\u3063\u305fChannel Secret\n$ heroku config:set CHANNEL_ACCESS_TOKEN=\u30e1\u30e2\u3063\u305fChannel Access Token\n```\n\n# \u8a66\u3059\n\u81ea\u5206\u306e\u30b9\u30de\u30db\u304b\u3089\u8ffd\u52a0\u3057\u305f\u30a2\u30d7\u30ea\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3057\u3066\u307f\u3066\u3001\u30aa\u30a6\u30e0\u8fd4\u3057\u304c\u5e30\u3063\u3066\u304d\u305f\u3089\u6210\u529f\u3067\u3059\n", "tags": ["linebot", "Heroku", "PHP", "Mac"]}