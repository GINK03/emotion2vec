{"context": "\n\n\u306f\u3058\u3081\u306b\n\u30c7\u30fc\u30bf\u5206\u6790\u30c4\u30fc\u30ebExploratory\u306e\u30e6\u30fc\u30b6\u69d8\u304b\u3089\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8cea\u554f\u30e1\u30fc\u30eb\u304c\u5c4a\u3044\u305f\u306e\u304c\u4e8b\u306e\u767a\u7aef\u3067\u3059\u3002\n\nQuitta\u306a\u3069\u3001\u3069\u308c\u3082\u8208\u5473\u6df1\u3044\u8a18\u4e8b\u3067\u697d\u3057\u304f\u62dd\u898b\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u3066\u304a\u308a\u307e\u3059\u3002\nExploratory\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u30b9\u30af\u30ec\u30a4\u30d7\u3057\u305f\u3044\u30c7\u30fc\u30bf\u306e\u4e00\u3064\u4e00\u3064\u304c\u30bf\u30a4\u30c8\u30eb\u3054\u3068\u306b\u5206\u304b\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u30b9\u30af\u30ec\u30a4\u30d7\u3057\u305f\u3044\u6bb5\u968e\u3067\u3001\u4e00\u3064\u306e\u30c7\u30fc\u30bf\u306b\u307e\u3068\u3081\u308b\u65b9\u6cd5\u306f\u3042\u308a\u307e\u3059\u304b\u3002\n\u3054\u56de\u7b54\u3044\u305f\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\u3002\n\n\n\u554f\u984c\u70b9\n\u30e6\u30fc\u30b6\u30fc\u304c\u62b1\u3048\u3066\u308b\u554f\u984c\u3092\u3082\u3063\u3068\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3068\u30bf\u30a4\u30c8\u30eb\u3054\u3068\u306b\u5206\u304b\u308c\u3066\u3057\u307e\u3046\u30c7\u30fc\u30bf\u306e\u30ea\u30f3\u30af\u3092\u9001\u3063\u3066\u9802\u304d\u3001\u81ea\u5206\u306e\u74b0\u5883\u3067\u3082\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u3053\u3093\u306a\u611f\u3058\u306e\u30da\u30fc\u30b8\u3067\u3001\u30ea\u30f3\u30af\u306f\u3053\u3061\u3089\u3067\u3059\u3002\n\n\u3053\u306e\u30da\u30fc\u30b8\u3092Exploratory\u306eScrape Web Page\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u3059\u308b\u3068\u3001\u3053\u306e\u3088\u3046\u306a\u5f62\u3067\u30c7\u30fc\u30bf\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\u898b\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u3001\u304a\u308f\u304b\u308a\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3053\u306e\u307e\u307e\u3060\u3068\u554f\u984c\u304c3\u3064\u3042\u308a\u307e\u3059\u3002\n\n\u30c6\u30fc\u30d6\u30eb\u304c\u30bf\u30a4\u30c8\u30eb\u3054\u3068\u306b\u308f\u304b\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b\n\u7d50\u679c\u306e\u516c\u793a\u65e5\u3092\u8868\u30597\u670821\u65e5\u304c\u884c\u3067\u306f\u306a\u304f\u3001\u5217\u306b\u306a\u3063\u3066\u3044\u308b\n\u300c\u5916\u56fd\u70ba\u66ff\u3001\u8cbf\u6613\uff0f\u8cbf\u6613\u300d\u3000\u3084\u3000\u300c\u3010\u6848\u4ef6\u756a\u53f7\uff1a595116050\u3011  \u300c\u5e73\u6210\uff12\uff18\u5e74\u5ea6\u300c\u6c34\u7523\u7269\u300d\u300c\u3053\u3093\u3076\u300d\u53ca\u3073\u300c\u3070\u3089\u5e72\u3057\u306e\u3042\u304a\u306e\u308a\u53ca\u3073\u3072\u3068\u3048\u3050\u3055\u300d\u306e\u8f38\u5165\u5272\u5f53\u3066\u306b\u3064\u3044\u3066\uff08\u6848\uff09\u300d\u306b\u5bfe\u3059\u308b\u610f\u898b\u52df\u96c6\u306e\u7d50\u679c\u306b\u3064\u3044\u3066\u300d\u3000\u306a\u3069\u306e\u60c5\u5831\u304c\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067\u304d\u3066\u3044\u306a\u3044\n\nExploratory\u3060\u3068\u3001\u30c7\u30fc\u30bf\u5206\u6790\u3060\u3051\u3067\u306a\u304f\u3001Import by Writing R script\u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3048\u3070\u3001\u3053\u3046\u3044\u3063\u305f\u8907\u96d1\u3067\u6c5a\u3044\u30a6\u30a7\u30d6\u30fb\u30da\u30fc\u30b8\u304b\u3089\u30c7\u30fc\u30bf\u3092\u601d\u3044\u901a\u308a\u306b\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u304f\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u308a\u3001\u3055\u3089\u306b\u306f\u305d\u306e\u5f8c\u306e\u30c7\u30fc\u30bf\u306e\u52a0\u5de5\u3082\u30c7\u30fc\u30bf\u5206\u6790\u3057\u306a\u304c\u3089\u7c21\u5358\u306b\u51fa\u6765\u308b\u3068\u3044\u3053\u3068\u306a\u306e\u3067\u3001\u65e9\u901f\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u3001\u6574\u5f62\u3057\u305f\u6700\u5f8c\u306b\u306f\u30c7\u30fc\u30bf\u3092\u7c21\u5358\u306b\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u81ea\u5206\u306e\u6b32\u3057\u3044\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30c7\u30fc\u30bf\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3059\u308b\nExploratory\u3067\u306f\u3001Import by Writing R script\u3068\u3044\u3046\u3068\u3053\u308d\u304b\u3089\u3001\u81ea\u5206\u3067R\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u3046\u3068\u3001\u5148\u307b\u3069\u306e\u3001title\u3054\u3068\u306b\u5206\u304b\u308c\u3066\u3057\u307e\u3044\u601d\u3046\u3088\u3046\u306b\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067\u304d\u306a\u304b\u3063\u305f\u30c7\u30fc\u30bf\u3082\u3001title\u3054\u3068\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u308f\u3051\u306a\u3044\u3067\u3001\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u4eca\u56de\u3001\u3053\u3053\u306b\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u3067\u3059\u3002\u3053\u306e\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306e\u305f\u3081\u306b\u66f8\u3044\u305f\u8a73\u3057\u3044\u89e3\u8aac\u306f\u3001\u307e\u305f\u5225\u306e\u8a18\u4e8b\u306b\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n#Custom R function as Data.\nsample_2_pages.func <- function(){\nloadNamespace(\"httr\")\nloadNamespace(\"rvest\")\nloadNamespace(\"dplyr\")\n\nres_list <- lapply(seq(4), function(i){\n  httr::GET(\"http://search.e-gov.go.jp/servlet/Public\", query=list(CLASSNAME=\"PCMMSTLIST\", Mode=2, Page=i-1))\n})\n\ntables <- lapply(res_list, function(res){\n  main <- rvest::html_node(httr::content(res, encoding = \"Shift_JIS\"), \"#main\")\n  children <- rvest::html_children(main)\n  result_list <- list()\n  current_tag <- \"\"\n  for(child in children){\n    tag <- rvest::html_tag(child)\n    if(tag == \"h2\"){\n      current_tag <- rvest::html_text(child)\n    } else if (tag==\"table\"){\n      caption <- rvest::html_text(rvest::html_node(child, \"caption\"))\n      table <- rvest::html_table(child, fill = TRUE)\n      result_list[[length(result_list)+1]] <- dplyr::mutate(table, label=current_tag, caption=caption)\n    }\n  }\n  do.call(rbind, result_list)\n})\n\ndo.call(rbind, tables)\n\n}\n\n\n\u30c7\u30fc\u30bf\u304c\u3046\u307e\u304f\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u3001Save\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u30b5\u30de\u30ea\u30fc\u753b\u9762\u3067\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3001\u4ee5\u4e0b\u306e\u554f\u984c\u70b9\u3092\u89e3\u6c7a\u3057\u305f\u72b6\u614b\u3067\u3001\u30c7\u30fc\u30bf\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u304f\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u30c6\u30fc\u30d6\u30eb\u304c\u30bf\u30a4\u30c8\u30eb\u3054\u3068\u306b\u308f\u304b\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b\n\u7d50\u679c\u306e\u516c\u793a\u65e5\u3092\u8868\u30597\u670821\u65e5\u304c\u884c\u3067\u306f\u306a\u304f\u3001\u5217\u306b\u306a\u3063\u3066\u3044\u308b\n\u300c\u5916\u56fd\u70ba\u66ff\u3001\u8cbf\u6613\uff0f\u8cbf\u6613\u300d\u3000\u3084\u3000\u300c\u3010\u6848\u4ef6\u756a\u53f7\uff1a595116050\u3011  \u300c\u5e73\u6210\uff12\uff18\u5e74\u5ea6\u300c\u6c34\u7523\u7269\u300d\u300c\u3053\u3093\u3076\u300d\u53ca\u3073\u300c\u3070\u3089\u5e72\u3057\u306e\u3042\u304a\u306e\u308a\u53ca\u3073\u3072\u3068\u3048\u3050\u3055\u300d\u306e\u8f38\u5165\u5272\u5f53\u3066\u306b\u3064\u3044\u3066\uff08\u6848\uff09\u300d\u306b\u5bfe\u3059\u308b\u610f\u898b\u52df\u96c6\u306e\u7d50\u679c\u306b\u3064\u3044\u3066\u300d\u3000\u306a\u3069\u306e\u60c5\u5831\u304c\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067\u304d\u3066\u3044\u306a\u3044\n\n\n\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3059\u308b\n\u3068\u306f\u3044\u3063\u3066\u3082\u3001\u3053\u306e\u307e\u307e\u3067\u306f\u5217\u3082\u884c\u3082\u6574\u5099\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u4f55\u306e\u30c7\u30fc\u30bf\u306a\u306e\u304b\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3057\u3001\u5206\u6790\u3084\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3082\u3057\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u304b\u3089\u3001\u3044\u304f\u3064\u304b\u306e\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u4e0d\u8981\u306a\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u9664\u304f\n\n\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\u3068\u3044\u3046\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u9664\u304f\nfilter(X1!=\"\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\")\n\n\u307e\u305a\u3001\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\u3068\u3044\u3046\u30c7\u30fc\u30bf\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u306d\u3002\u3053\u306e\u30c7\u30fc\u30bf\u306f\u4f7f\u308f\u306a\u3044\u3068\u306e\u3053\u3068\u306a\u306e\u3067\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u53d6\u308a\u9664\u304d\u307e\u3057\u3087\u3046\u3002\u3082\u3057\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u95a2\u6570\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u306a\u3044\u65b9\u306f\u3001\u3053\u3061\u3089\u306e\u65b9\u3067\u3001dplyr\u306e\u6587\u6cd5\u3067\u3042\u308b\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u89e3\u8aac\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3088\u304b\u3063\u305f\u3089\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\u306f\u3001X1\u5217\u306b\u3042\u308b\u306e\u3067\u3001X1\u5217\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Filter\u30b3\u30de\u30f3\u30c9\u3092\u9078\u3073\u3001!=\u3092\u9078\u3073\u307e\u3059\u3002\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bfilter(X1 != )\u304c\u5165\u529b\u3055\u308c\u308b\u3068\u540c\u6642\u306b\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u3044\u884c\u304c\u30ec\u30b3\u30e1\u30f3\u30c9\u3055\u308c\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u3001\u305d\u306e\u4e2d\u304b\u3089\"\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\"\u3092\u9078\u3073\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\u3068\u3044\u3046\u30c7\u30fc\u30bf\u3068\u3044\u3046\u884c\u3092\u53d6\u308a\u9664\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u306d\u3002\n\n\u6587\u982d\u306e\\t\\t\\t\\t\\t\\t\\t\\t\u306e\u3088\u3046\u306a\u4f59\u8a08\u306a\u6587\u5b57\u3092\u53d6\u308a\u9664\u304f\ncaption\u5217\u3092\u898b\u3066\u307f\u308b\u3068\u3001\u6587\u982d\u306b\u4f59\u8a08\u306a\u6587\u5b57\u304c\u6df7\u3058\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306d\u3002\n\n\u3053\u308c\u304b\u3089\u3001\u3053\u308c\u3092\u53d6\u308a\u9664\u3044\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\u305d\u306e\u305f\u3081\u306b\u3001caption\u5217\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Work with Text function\u3092\u9078\u3073\u3001Clean Text\u3092\u9078\u3073\u307e\u3059\u3002\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bmutate(caption = str_clean(caption))\u304c\u5165\u529b\u3055\u308c\u307e\u3059\u3002\u305d\u3057\u3066\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3002\\t\\t\\t\\t\\t\\t\\t\\t\u306e\u3088\u3046\u306a\u4f59\u8a08\u306a\u6587\u5b57\u3092\u53d6\u308a\u9664\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u306d\u3002\n\ngather\u3068spread\u3092\u99c6\u4f7f\u3057\u3066\u3001\u5217\u3068\u884c\u3092\u5165\u308c\u66ff\u3048\u308b\nX2\u3068X4\u5217\u3092\u898b\u3066\u307f\u308b\u3068\u3001\u65e5\u4ed8\u3092\u8868\u3059\u884c\u304c\u5225\u3005\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306d\u3002\n\n\u306a\u306e\u3067\u3001\u3053\u308c\u3092\u540c\u3058\u5217\u306b\u63c3\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3044\u3046\u3068\u304d\u306f\u3001gather\u3001spread\u95a2\u6570\u304c\u4fbf\u5229\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u95a2\u6570\u3092\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u3001\n\ngather\uff1a\u8907\u6570\u306e\u5217\u3092\u3001\uff11\u3064\u306e\u5217\u306b\u3059\u308b\u3002\nspread\uff1a\uff11\u3064\u306e\u5217\u3092\u30ab\u30e9\u30e0\u540d\u3001\uff11\u3064\u306e\u5217\u3092\u30bb\u30eb\u306e\u5024\u306b\u3059\u308b\u3002\n\n\u8aac\u660e\u3060\u3051\u3060\u3068\u3001\u30d4\u30f3\u3068\u3053\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3057\u306a\u304c\u3089\u3001\u5177\u4f53\u7684\u306b\u8aac\u660e\u3057\u3066\u3044\u304f\u306e\u3067\u3001\u898b\u3066\u3044\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\u307e\u305a\u3001gather(column_name1, date, X2, X4)\u3068\u5165\u529b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001X2\u3068X4\u306e\u5217\u306e\u5024\u3092column_name1\u3068\u3044\u3046\uff11\u3064\u306e\u5217\u306b\u3001X2\u3068X4\u306e\u5217\u306e\u5024\u3092date\u3068\u3044\u30461\u3064\u306e\u5217\u306b\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u3002\n\n\u6b21\u306b\u3001\u540c\u3058\u3088\u3046\u306b\u3001gather(column_name2, date_label, X1, X3)\u3068\u5165\u529b\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3001\u30d0\u30e9\u30d0\u30e9\u306b\u5217\u3084\u884c\u304c\u5206\u304b\u308c\u3066\u3044\u305f\u300c\u7d50\u679c\u306e\u516c\u793a\u65e5\u300d\u306a\u3069\u306e\u65e5\u4ed8\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u65e5\u4ed8\u3092\u540c\u3058\u5217\u3068\u884c\u306b\u307e\u3068\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u3042\u308c\u3001\u3067\u3082\u540c\u3058\u65e5\u4ed8\u306e\u30bf\u30a4\u30c8\u30eb\u3084\u6848\u4ef6\u756a\u53f7\u3084\u30c7\u30fc\u30bf\u306e\u6982\u8981\u306a\u306e\u306b\u9055\u3046\u65e5\u4ed8\u306e\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u3059\u306d\u3002\n\n\u3069\u3061\u3089\u304c\u6b63\u3057\u3044\u65e5\u4ed8\u306a\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\u3000\u3082\u3046\u4e00\u5ea6\u30da\u30fc\u30b8\u3068\u7167\u3089\u3057\u5408\u308f\u305b\u3066\u307f\u307e\u3059\u3002\n\n2016\u5e7407\u670821\u65e5\u306e\u307b\u3046\u3060\u3068\u3044\u3046\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u3068\u540c\u3058\u3088\u3046\u306a\u4f8b\u304c\u3044\u304f\u3064\u3082\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u6b63\u3057\u3044\u65e5\u4ed8\u3092\u793a\u3057\u3066\u3044\u308b\u3068\u304d\u306b\u5171\u901a\u3057\u3066\u3044\u308b\u3053\u3068\u306f\u3001column_name1\u304c\"X2\"\u4e14\u3064column_name2\u304c\"X1\"\u3001\u3082\u3057\u304f\u306f\u3001column_name1\u304c\"X4\"\u4e14\u3064column_name2\u304c\"X3\"\u306e\u6642\u306a\u306e\u3067\u3059\u3002\u306a\u306e\u3067\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u6b63\u3057\u3044\u6761\u4ef6\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3057\u3087\u3046\u3002\nfilter((column_name1==\"X2\" & column_name2==\"X1\") | (column_name1==\"X4\" & column_name2==\"X3\"))\u3068\u5165\u529b\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3001\u6b63\u3057\u3044\u65e5\u4ed8\u3060\u3051\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u6b21\u306b\u3001date_label\u5217\u306b\u307e\u3068\u3081\u3066\u5165\u3063\u3066\u3044\u308b\u3001\u7d50\u679c\u306e\u516c\u793a\u65e5\u3001\u547d\u4ee4\u7b49\u306e\u516c\u5e03\u65e5\u3001\u610f\u898b\u516c\u52df\u6642\u306e\u6848\u306e\u516c\u793a\u65e5\u3001\u610f\u898b\u30fb\u60c5\u5831\u53d7\u4ed8\u7de0\u5207\u65e5\u3001\u63d0\u51fa\u610f\u898b\u6570\u3092\u5217\u306b\u3070\u3089\u3051\u3055\u305b\u3066\u3001\u305d\u308c\u305e\u308c\u306b\u5bfe\u5fdc\u3059\u308b\u65e5\u4ed8\u3092\u884c\u306b\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3044\u3046\u3068\u304d\u306f\u3001spread\u95a2\u6570\u304c\u4f7f\u3048\u307e\u3059\u3002spread\u95a2\u6570\u3092\u4f7f\u3046\u3068\u3001\u6307\u5b9a\u3057\u305f\u884c\u3092\u5217\u306b\u3070\u3089\u3051\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u3042\u308c\uff1f\u3000\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\u30a8\u30e9\u30fc\u6587\u3092\u898b\u3066\u307f\u308b\u3068\u3001\u5168\u304f\u540c\u3058\u884c\u306e\u540d\u524d\u304c\u3042\u308b\u304b\u3089\u306e\u3088\u3046\u3067\u3059\u3002\u306a\u306e\u3067\u3001distinct\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001\u91cd\u8907\u3057\u3066\u308b\u5024\u3092\u53d6\u308a\u9664\u304d\u3001\u30e6\u30cb\u30fc\u30af\u306a\u5024\u3060\u3051\u3092\u6b8b\u3057\u307e\u3057\u3087\u3046\u3002\nlabel\u5217\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066distinct\u30b3\u30de\u30f3\u30c9\u3092\u9078\u3073\u307e\u3059\u3002\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bdistinct(label)\u304c\u5165\u529b\u3055\u308c\u307e\u3059\u3002caption, date, date_label\u3082\u52a0\u3048\u3066\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3057\u3087\u3046\u3002\n\u305d\u3057\u3066\u3001\u3082\u3046\u4e00\u5ea6spread(date_label, date)\u3092\u5165\u529b\u3057\u3066Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3001\u30c7\u30fc\u30bf\u3092\u3046\u307e\u304f\u6574\u5f62\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u7c21\u5358\u306b\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3059\u308b\n\u30c7\u30fc\u30bf\u304c\u3042\u308b\u7a0b\u5ea6\u6574\u5f62\u3067\u304d\u305f\u306e\u3067\u3001\u4eca\u5ea6\u306f\u3001\u30c7\u30fc\u30bf\u3092\u7c21\u5358\u306b\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u63d0\u51fa\u610f\u898b\u6570\u304b\u3089\u6570\u5b57\u3060\u3051\u3092\u53d6\u308a\u51fa\u3059\n\u30c1\u30e3\u30fc\u30c8\u753b\u9762\u306b\u884c\u3063\u3066\u3001X\u8ef8\u3092label,Y\u8ef8\u3092\u63d0\u51fa\u610f\u898b\u6570\u306b\u8a2d\u5b9a\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u3042\u308c\uff1f\u3000\u63d0\u51fa\u610f\u898b\u6570\u306e\u5408\u8a08\u3084\u5e73\u5747\u306a\u3069\u3092\u8a08\u7b97\u3067\u304d\u307e\u305b\u3093\u306d\u3002\u3053\u308c\u306f\u3001\u63d0\u51fa\u610f\u898b\u6570\u304c\u3001\u6570\u5b57\u3060\u3051\u3067\u306f\u306a\u304f\u3001\u300c\u4ef6\u300d\u3068\u3044\u3046\u4f59\u8a08\u306a\u6587\u5b57\u304c\u306f\u3044\u3063\u3066\u3044\u308b\u304b\u3089\u306a\u3093\u3067\u3059\u3002extract_numeric\u3068\u3044\u3046\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u4f59\u8a08\u306a\u6587\u5b57\u3092\u53d6\u308a\u9664\u304d\u307e\u3057\u3087\u3046\u3002\n\u63d0\u51fa\u610f\u898b\u6570\u5217\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Convert to Number\u3092\u9078\u3073\u307e\u3059\u3002\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bmutate(\u63d0\u51fa\u610f\u898b\u6570 = extract_numeric(\u63d0\u51fa\u610f\u898b\u6570))\u304c\u5165\u529b\u3055\u308c\u307e\u3059\u3002\u305d\u3057\u3066\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u3053\u308c\u3067\u3001\u6570\u5b57\u3060\u3051\u3092\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3067\u5408\u8a08\u306a\u3069\u3092\u51fa\u3059\u3053\u3068\u304c\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\n\n\n\u65e5\u4ed8\u306e\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u3092character\u304b\u3089Date\u306b\u5909\u66f4\u3059\u308b\n\u6b21\u306b\u3001\u547d\u4ee4\u7b49\u306e\u516c\u5e03\u65e5\u3092X\u8ef8\u306b\u3001Y\u8ef8\u3092\u63d0\u51fa\u610f\u898b\u6570\u306b\u8a2d\u5b9a\u3057\u3066\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u3042\u308c\uff1f\u3000\u4eca\u5ea6\u306f\u3001\u540c\u3058\u6708\u304c\u3044\u304f\u3064\u3082\u3042\u3063\u305f\u308a\u3001\u6708\u3067\u306f\u306a\u304f\u5e74\u3060\u3051\u3067\u533a\u5207\u3063\u305f\u308a\u3068\u3044\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u306d\u3002\u3053\u308c\u306f\u3001\u65e5\u4ed8\u306b\u6f22\u5b57\u306a\u3069\u304c\u5165\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u304ccharacter\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u3089\u306a\u3093\u3067\u3059\u3002Date\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u3092character\u304b\u3089Date\u306b\u5909\u3048\u307e\u3057\u3087\u3046\u3002\n\n\u610f\u898b\u30fb\u60c5\u5831\u53d7\u4ed8\u7de0\u5207\u65e5\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Covert to Date/Time\u304b\u30892015\u5e7412\u670824\u65e5\u306e\u9806\u756a\u901a\u308a\u306b\u306a\u308b\u3088\u3046\u306b\u3001Year,Month,Day\u3092\u9078\u3073\u307e\u3059\u3002\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bmutate(\u610f\u898b\u30fb\u60c5\u5831\u53d7\u4ed8\u7de0\u5207\u65e5 = ymd(\u610f\u898b\u30fb\u60c5\u5831\u53d7\u4ed8\u7de0\u5207\u65e5))\u304c\u5165\u529b\u3055\u308c\u307e\u3059\u3002\u305d\u3057\u3066\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u547d\u4ee4\u7b49\u306e\u516c\u5e03\u65e5\u3001\u610f\u898b\u516c\u52df\u6642\u306e\u6848\u306e\u516c\u793a\u65e5\u3001\u610f\u898b\u516c\u52df\u6642\u306e\u6848\u306e\u516c\u793a\u65e5\u3001\u7d50\u679c\u306e\u516c\u793a\u65e5\u3082\u540c\u3058\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3001\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u3092Date\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3067\u5408\u8a08\u306a\u3069\u3092\u51fa\u3059\u3053\u3068\u304c\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\n\nDate\u95a2\u6570\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u306a\u3044\u65b9\u306f\u3001\u3053\u3061\u3089\u306e\u65b9\u3067\u3001dplyr\u306e\u6587\u6cd5\u3067\u3042\u308bDate\u95a2\u6570\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u89e3\u8aac\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3088\u304b\u3063\u305f\u3089\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\u6700\u5f8c\u306b\n\u6700\u521d\u306f\u3001\u9014\u65b9\u3082\u7121\u304f\u601d\u3048\u305f\u304a\u5f79\u6240\u306e\u6c5a\u3044\u30c7\u30fc\u30bf\u3082\u3001Exploratory\u3092\u4f7f\u3063\u3066\u3001\u7c21\u5358\u306b\u3046\u307e\u304f\u6574\u5f62\u3057\u3001\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u307e\u3067\u5bfe\u8a71\u7684\u306b\u5b9f\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u306d\u3002\nExploratory\u3067\u306f\u3001\u3053\u3046\u3084\u3063\u3066\u5206\u6790\u3057\u3066\u3044\u3063\u305f\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u305f\u30b9\u30c6\u30c3\u30d7\u3001\u30c1\u30e3\u30fc\u30c8\u3001R script\u3068\u3044\u3063\u3057\u3087\u306b\u30b7\u30a7\u30a2\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30c1\u30e3\u30fc\u30c8\u3068\u3044\u3063\u3057\u3087\u306b\u30b7\u30a7\u30a2\u3059\u308b\u3068\u304d\u306f\u3001\u30c1\u30e3\u30fc\u30c8\u306eShare\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u305d\u308c\u305e\u308c\u5165\u529b\u3057\u3001Share\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3001\u30b7\u30a7\u30a2\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u3053\u3061\u3089\u304b\u3089\u3001\u5b9f\u969b\u306b\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306a\u307c\u304f\u306e\u30c7\u30fc\u30bf\u5206\u6790\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30c7\u30fc\u30bf\u306e\u518d\u73fe\u6027\u304c\u3068\u3066\u3082\u9ad8\u3044\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u3048\u3070\u3001\u5171\u540c\u3067\u8ab0\u304b\u3068\u5206\u6790\u3057\u3066\u3044\u304f\u3068\u304d\u5f79\u306b\u7acb\u3064\u3053\u3068\u9593\u9055\u3044\u306a\u3044\u3067\u3057\u3087\u3046\u3002\nExploratory\u306b\u306f\u3001Writing R script\u3068\u3044\u3046\u3068\u3053\u308d\u304b\u3089\u3001R\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u3044\u3051\u308b\u306e\u3067\u3001\u67d4\u8edf\u6027\u304c\u9ad8\u3044\u3067\u3059\u3002\n\u306a\u306e\u3067\u3001\u8cea\u554f\u3084\u3054\u8981\u671b\u306a\u3069\u304c\u3042\u308c\u3070\u3001Exploratory\u306e\u65e5\u672c\u30e6\u30fc\u30b6\u30fc\u5411\u3051\u306eFacebook\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u9060\u616e\u7121\u304f\u3053\u306e\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u6295\u7a3f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4eca\u56de\u306e\u3088\u3046\u306b\u5bfe\u5fdc\u81f4\u3057\u307e\u3059\u3002\n\n\u8208\u5473\u3092\u6301\u3063\u3066\u3044\u305f\u3060\u3044\u305f\u65b9\u3001\u5b9f\u969b\u306b\u89e6\u3063\u3066\u307f\u305f\u3044\u65b9\u3078\nExploratory\u306f\u3053\u3061\u3089\u304b\u3089\u03b2\u7248\u306e\u767b\u9332\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3061\u3089\u304cinvite\u3092\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nExploratory\u306eTwitter\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u3001\u3053\u3061\u3089\u3067\u3059\u3002\n\u5206\u6790\u3057\u3066\u307b\u3057\u3044\u30c7\u30fc\u30bf\u304c\u3042\u308b\u65b9\u3084\u3001\u30c7\u30fc\u30bf\u5206\u6790\u306e\u3054\u4f9d\u983c\u306fhidetaka.koh@gmail.com\u307e\u3067\u3069\u3046\u305e\n##\u306f\u3058\u3081\u306b\n\n\u30c7\u30fc\u30bf\u5206\u6790\u30c4\u30fc\u30ebExploratory\u306e\u30e6\u30fc\u30b6\u69d8\u304b\u3089\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8cea\u554f\u30e1\u30fc\u30eb\u304c\u5c4a\u3044\u305f\u306e\u304c\u4e8b\u306e\u767a\u7aef\u3067\u3059\u3002\n\n\n\n\n>Quitta\u306a\u3069\u3001\u3069\u308c\u3082\u8208\u5473\u6df1\u3044\u8a18\u4e8b\u3067\u697d\u3057\u304f\u62dd\u898b\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u3066\u304a\u308a\u307e\u3059\u3002\n\n>Exploratory\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u30b9\u30af\u30ec\u30a4\u30d7\u3057\u305f\u3044\u30c7\u30fc\u30bf\u306e\u4e00\u3064\u4e00\u3064\u304c\u30bf\u30a4\u30c8\u30eb\u3054\u3068\u306b\u5206\u304b\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u30b9\u30af\u30ec\u30a4\u30d7\u3057\u305f\u3044\u6bb5\u968e\u3067\u3001\u4e00\u3064\u306e\u30c7\u30fc\u30bf\u306b\u307e\u3068\u3081\u308b\u65b9\u6cd5\u306f\u3042\u308a\u307e\u3059\u304b\u3002\n\u3054\u56de\u7b54\u3044\u305f\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\u3002\n\n\n####\u554f\u984c\u70b9\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u62b1\u3048\u3066\u308b\u554f\u984c\u3092\u3082\u3063\u3068\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3068\u30bf\u30a4\u30c8\u30eb\u3054\u3068\u306b\u5206\u304b\u308c\u3066\u3057\u307e\u3046\u30c7\u30fc\u30bf\u306e\u30ea\u30f3\u30af\u3092\u9001\u3063\u3066\u9802\u304d\u3001\u81ea\u5206\u306e\u74b0\u5883\u3067\u3082\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u3053\u3093\u306a\u611f\u3058\u306e\u30da\u30fc\u30b8\u3067\u3001\u30ea\u30f3\u30af\u306f[\u3053\u3061\u3089](http://search.e-gov.go.jp/servlet/Public?CLASSNAME=PCMMSTLIST&Mode=2\n)\u3067\u3059\u3002\n\n\n![public_data.png](https://qiita-image-store.s3.amazonaws.com/0/91522/581fc871-65a1-4c17-4d6c-55744f713e92.png)\n\n\n\u3053\u306e\u30da\u30fc\u30b8\u3092Exploratory\u306eScrape Web Page\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\n\n![scrape_web_page.png](https://qiita-image-store.s3.amazonaws.com/0/91522/6fff30c5-a2e0-2c0b-176a-63d9897e301a.png)\n\n\n\n\u3059\u308b\u3068\u3001\u3053\u306e\u3088\u3046\u306a\u5f62\u3067\u30c7\u30fc\u30bf\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n![problem_data.png](https://qiita-image-store.s3.amazonaws.com/0/91522/888568d0-b8eb-fcae-a345-fe8db9e411f1.png)\n\n\n\u898b\u3066\u3044\u305f\u3060\u3051\u308b\u3068\u3001\u304a\u308f\u304b\u308a\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3053\u306e\u307e\u307e\u3060\u3068\u554f\u984c\u304c3\u3064\u3042\u308a\u307e\u3059\u3002\n\n- \u30c6\u30fc\u30d6\u30eb\u304c\u30bf\u30a4\u30c8\u30eb\u3054\u3068\u306b\u308f\u304b\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b\n- \u7d50\u679c\u306e\u516c\u793a\u65e5\u3092\u8868\u30597\u670821\u65e5\u304c\u884c\u3067\u306f\u306a\u304f\u3001\u5217\u306b\u306a\u3063\u3066\u3044\u308b\n- \u300c\u5916\u56fd\u70ba\u66ff\u3001\u8cbf\u6613\uff0f\u8cbf\u6613\u300d\u3000\u3084\u3000\u300c\u3010\u6848\u4ef6\u756a\u53f7\uff1a595116050\u3011  \u300c\u5e73\u6210\uff12\uff18\u5e74\u5ea6\u300c\u6c34\u7523\u7269\u300d\u300c\u3053\u3093\u3076\u300d\u53ca\u3073\u300c\u3070\u3089\u5e72\u3057\u306e\u3042\u304a\u306e\u308a\u53ca\u3073\u3072\u3068\u3048\u3050\u3055\u300d\u306e\u8f38\u5165\u5272\u5f53\u3066\u306b\u3064\u3044\u3066\uff08\u6848\uff09\u300d\u306b\u5bfe\u3059\u308b\u610f\u898b\u52df\u96c6\u306e\u7d50\u679c\u306b\u3064\u3044\u3066\u300d\u3000\u306a\u3069\u306e\u60c5\u5831\u304c\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067\u304d\u3066\u3044\u306a\u3044\n\n\nExploratory\u3060\u3068\u3001\u30c7\u30fc\u30bf\u5206\u6790\u3060\u3051\u3067\u306a\u304f\u3001Import by Writing R script\u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3048\u3070\u3001\u3053\u3046\u3044\u3063\u305f\u8907\u96d1\u3067\u6c5a\u3044\u30a6\u30a7\u30d6\u30fb\u30da\u30fc\u30b8\u304b\u3089\u30c7\u30fc\u30bf\u3092\u601d\u3044\u901a\u308a\u306b\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u304f\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u308a\u3001\u3055\u3089\u306b\u306f\u305d\u306e\u5f8c\u306e\u30c7\u30fc\u30bf\u306e\u52a0\u5de5\u3082\u30c7\u30fc\u30bf\u5206\u6790\u3057\u306a\u304c\u3089\u7c21\u5358\u306b\u51fa\u6765\u308b\u3068\u3044\u3053\u3068\u306a\u306e\u3067\u3001\u65e9\u901f\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u3001\u6574\u5f62\u3057\u305f\u6700\u5f8c\u306b\u306f\u30c7\u30fc\u30bf\u3092\u7c21\u5358\u306b\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n##\u81ea\u5206\u306e\u6b32\u3057\u3044\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30c7\u30fc\u30bf\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3059\u308b\n\nExploratory\u3067\u306f\u3001Import by Writing R script\u3068\u3044\u3046\u3068\u3053\u308d\u304b\u3089\u3001\u81ea\u5206\u3067R\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u3046\u3068\u3001\u5148\u307b\u3069\u306e\u3001title\u3054\u3068\u306b\u5206\u304b\u308c\u3066\u3057\u307e\u3044\u601d\u3046\u3088\u3046\u306b\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067\u304d\u306a\u304b\u3063\u305f\u30c7\u30fc\u30bf\u3082\u3001title\u3054\u3068\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u308f\u3051\u306a\u3044\u3067\u3001\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n![import_by_writing_script.png](https://qiita-image-store.s3.amazonaws.com/0/91522/6747c3fe-09ce-4c2b-e738-386b93009e66.png)\n\n\n\u4eca\u56de\u3001\u3053\u3053\u306b\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u3067\u3059\u3002\u3053\u306e\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306e\u305f\u3081\u306b\u66f8\u3044\u305f\u8a73\u3057\u3044\u89e3\u8aac\u306f\u3001\u307e\u305f\u5225\u306e\u8a18\u4e8b\u306b\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n```\n#Custom R function as Data.\nsample_2_pages.func <- function(){\nloadNamespace(\"httr\")\nloadNamespace(\"rvest\")\nloadNamespace(\"dplyr\")\n\nres_list <- lapply(seq(4), function(i){\n  httr::GET(\"http://search.e-gov.go.jp/servlet/Public\", query=list(CLASSNAME=\"PCMMSTLIST\", Mode=2, Page=i-1))\n})\n\ntables <- lapply(res_list, function(res){\n  main <- rvest::html_node(httr::content(res, encoding = \"Shift_JIS\"), \"#main\")\n  children <- rvest::html_children(main)\n  result_list <- list()\n  current_tag <- \"\"\n  for(child in children){\n    tag <- rvest::html_tag(child)\n    if(tag == \"h2\"){\n      current_tag <- rvest::html_text(child)\n    } else if (tag==\"table\"){\n      caption <- rvest::html_text(rvest::html_node(child, \"caption\"))\n      table <- rvest::html_table(child, fill = TRUE)\n      result_list[[length(result_list)+1]] <- dplyr::mutate(table, label=current_tag, caption=caption)\n    }\n  }\n  do.call(rbind, result_list)\n})\n\ndo.call(rbind, tables)\n\n}\n\n```\n\n\u30c7\u30fc\u30bf\u304c\u3046\u307e\u304f\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u3001Save\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n![sample_2_pages.png](https://qiita-image-store.s3.amazonaws.com/0/91522/febaf3a5-b6f2-9f41-3b4d-4f39bdb43168.png)\n\n\n\u30b5\u30de\u30ea\u30fc\u753b\u9762\u3067\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n![summary_sample_web.png](https://qiita-image-store.s3.amazonaws.com/0/91522/247b890c-1d58-0e92-c856-9bb41caa99ef.png)\n\n\n\n\u3053\u308c\u3067\u3001\u4ee5\u4e0b\u306e\u554f\u984c\u70b9\u3092\u89e3\u6c7a\u3057\u305f\u72b6\u614b\u3067\u3001\u30c7\u30fc\u30bf\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3066\u304f\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n- \u30c6\u30fc\u30d6\u30eb\u304c\u30bf\u30a4\u30c8\u30eb\u3054\u3068\u306b\u308f\u304b\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b\n- \u7d50\u679c\u306e\u516c\u793a\u65e5\u3092\u8868\u30597\u670821\u65e5\u304c\u884c\u3067\u306f\u306a\u304f\u3001\u5217\u306b\u306a\u3063\u3066\u3044\u308b\n- \u300c\u5916\u56fd\u70ba\u66ff\u3001\u8cbf\u6613\uff0f\u8cbf\u6613\u300d\u3000\u3084\u3000\u300c\u3010\u6848\u4ef6\u756a\u53f7\uff1a595116050\u3011  \u300c\u5e73\u6210\uff12\uff18\u5e74\u5ea6\u300c\u6c34\u7523\u7269\u300d\u300c\u3053\u3093\u3076\u300d\u53ca\u3073\u300c\u3070\u3089\u5e72\u3057\u306e\u3042\u304a\u306e\u308a\u53ca\u3073\u3072\u3068\u3048\u3050\u3055\u300d\u306e\u8f38\u5165\u5272\u5f53\u3066\u306b\u3064\u3044\u3066\uff08\u6848\uff09\u300d\u306b\u5bfe\u3059\u308b\u610f\u898b\u52df\u96c6\u306e\u7d50\u679c\u306b\u3064\u3044\u3066\u300d\u3000\u306a\u3069\u306e\u60c5\u5831\u304c\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067\u304d\u3066\u3044\u306a\u3044\n\n\n##\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3059\u308b\n\n\u3068\u306f\u3044\u3063\u3066\u3082\u3001\u3053\u306e\u307e\u307e\u3067\u306f\u5217\u3082\u884c\u3082\u6574\u5099\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u4f55\u306e\u30c7\u30fc\u30bf\u306a\u306e\u304b\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3057\u3001\u5206\u6790\u3084\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3082\u3057\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u304b\u3089\u3001\u3044\u304f\u3064\u304b\u306e\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n###\u4e0d\u8981\u306a\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u9664\u304f\n\n####\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\u3068\u3044\u3046\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u9664\u304f\n\nfilter(X1!=\"\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\")\n\n![filter_pulbic.png](https://qiita-image-store.s3.amazonaws.com/0/91522/f9190223-b0d8-facd-8e98-bdf996084bf4.png)\n\n\n\u307e\u305a\u3001\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\u3068\u3044\u3046\u30c7\u30fc\u30bf\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u306d\u3002\u3053\u306e\u30c7\u30fc\u30bf\u306f\u4f7f\u308f\u306a\u3044\u3068\u306e\u3053\u3068\u306a\u306e\u3067\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u53d6\u308a\u9664\u304d\u307e\u3057\u3087\u3046\u3002\u3082\u3057\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u95a2\u6570\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u306a\u3044\u65b9\u306f\u3001[\u3053\u3061\u3089](http://qiita.com/21-Hidetaka-Ko/items/117caea621562f05ffe1\n)\u306e\u65b9\u3067\u3001dplyr\u306e\u6587\u6cd5\u3067\u3042\u308b\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u89e3\u8aac\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3088\u304b\u3063\u305f\u3089\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\u306f\u3001X1\u5217\u306b\u3042\u308b\u306e\u3067\u3001X1\u5217\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Filter\u30b3\u30de\u30f3\u30c9\u3092\u9078\u3073\u3001!=\u3092\u9078\u3073\u307e\u3059\u3002\n\n![filter_uuuuuuu.png](https://qiita-image-store.s3.amazonaws.com/0/91522/34966364-b1a0-884d-76e3-e691fc4cb6a0.png)\n\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bfilter(X1 != )\u304c\u5165\u529b\u3055\u308c\u308b\u3068\u540c\u6642\u306b\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u3044\u884c\u304c\u30ec\u30b3\u30e1\u30f3\u30c9\u3055\u308c\u307e\u3059\u3002\n\n![fillter-eeeeeee.png](https://qiita-image-store.s3.amazonaws.com/0/91522/9b13e0aa-ff7a-016b-f111-f73de24d21af.png)\n\n\n\n\u305d\u3057\u3066\u3001\u305d\u306e\u4e2d\u304b\u3089\"\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\"\u3092\u9078\u3073\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n![filter-result.png](https://qiita-image-store.s3.amazonaws.com/0/91522/01d8106d-015e-9d7a-4998-305f72ac33e2.png)\n\n\n\u554f\u5408\u305b\u5148\uff08\u6240\u7ba1\u5e9c\u7701\u30fb\u90e8\u5c40\u540d\u7b49\uff09\u3068\u3044\u3046\u30c7\u30fc\u30bf\u3068\u3044\u3046\u884c\u3092\u53d6\u308a\u9664\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u306d\u3002\n\n\n####\u6587\u982d\u306e\\t\\t\\t\\t\\t\\t\\t\\t\u306e\u3088\u3046\u306a\u4f59\u8a08\u306a\u6587\u5b57\u3092\u53d6\u308a\u9664\u304f\n\ncaption\u5217\u3092\u898b\u3066\u307f\u308b\u3068\u3001\u6587\u982d\u306b\u4f59\u8a08\u306a\u6587\u5b57\u304c\u6df7\u3058\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306d\u3002\n\n![caption-clean.png](https://qiita-image-store.s3.amazonaws.com/0/91522/40acbeef-11b5-13e5-5bb9-03fd0c9306ce.png)\n\n\n\u3053\u308c\u304b\u3089\u3001\u3053\u308c\u3092\u53d6\u308a\u9664\u3044\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\u305d\u306e\u305f\u3081\u306b\u3001caption\u5217\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Work with Text function\u3092\u9078\u3073\u3001Clean Text\u3092\u9078\u3073\u307e\u3059\u3002\n\n![clean_text-ttttttttt.png](https://qiita-image-store.s3.amazonaws.com/0/91522/10420559-7c91-8133-f811-c06e0c2cd809.png)\n\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bmutate(caption = str_clean(caption))\u304c\u5165\u529b\u3055\u308c\u307e\u3059\u3002\u305d\u3057\u3066\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n![cleand-caption.png](https://qiita-image-store.s3.amazonaws.com/0/91522/ec70316f-2dc0-0571-5455-23c6f1a2f2e9.png)\n\n\n\u3053\u308c\u3067\u3002\\t\\t\\t\\t\\t\\t\\t\\t\u306e\u3088\u3046\u306a\u4f59\u8a08\u306a\u6587\u5b57\u3092\u53d6\u308a\u9664\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u306d\u3002\n\n\n###gather\u3068spread\u3092\u99c6\u4f7f\u3057\u3066\u3001\u5217\u3068\u884c\u3092\u5165\u308c\u66ff\u3048\u308b\n\nX2\u3068X4\u5217\u3092\u898b\u3066\u307f\u308b\u3068\u3001\u65e5\u4ed8\u3092\u8868\u3059\u884c\u304c\u5225\u3005\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306d\u3002\n\n![explain-gather.png](https://qiita-image-store.s3.amazonaws.com/0/91522/c8ea58cf-811c-dccb-3ab3-cd0d3f06f695.png)\n\n\n\u306a\u306e\u3067\u3001\u3053\u308c\u3092\u540c\u3058\u5217\u306b\u63c3\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3044\u3046\u3068\u304d\u306f\u3001gather\u3001spread\u95a2\u6570\u304c\u4fbf\u5229\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u95a2\u6570\u3092\u7c21\u5358\u306b\u8aac\u660e\u3059\u308b\u3068\u3001\n\n- gather\uff1a\u8907\u6570\u306e\u5217\u3092\u3001\uff11\u3064\u306e\u5217\u306b\u3059\u308b\u3002\n- spread\uff1a\uff11\u3064\u306e\u5217\u3092\u30ab\u30e9\u30e0\u540d\u3001\uff11\u3064\u306e\u5217\u3092\u30bb\u30eb\u306e\u5024\u306b\u3059\u308b\u3002\n\n\u8aac\u660e\u3060\u3051\u3060\u3068\u3001\u30d4\u30f3\u3068\u3053\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u306d\u3002\u30c7\u30fc\u30bf\u3092\u6574\u5f62\u3057\u306a\u304c\u3089\u3001\u5177\u4f53\u7684\u306b\u8aac\u660e\u3057\u3066\u3044\u304f\u306e\u3067\u3001\u898b\u3066\u3044\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u307e\u305a\u3001gather(column_name1, date, X2, X4)\u3068\u5165\u529b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001X2\u3068X4\u306e\u5217\u306e\u5024\u3092column_name1\u3068\u3044\u3046\uff11\u3064\u306e\u5217\u306b\u3001X2\u3068X4\u306e\u5217\u306e\u5024\u3092date\u3068\u3044\u30461\u3064\u306e\u5217\u306b\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u3002\n\n![gather_explain2.png](https://qiita-image-store.s3.amazonaws.com/0/91522/edd49824-d4a8-2ce6-19d9-4795d21ba2f9.png)\n\n\n\u6b21\u306b\u3001\u540c\u3058\u3088\u3046\u306b\u3001gather(column_name2, date_label, X1, X3)\u3068\u5165\u529b\u3057\u307e\u3059\u3002\n\n![gather_explain4.png](https://qiita-image-store.s3.amazonaws.com/0/91522/3dff3693-8da7-d732-3894-bff05981e8d1.png)\n\n\n\n\u3053\u308c\u3067\u3001\u30d0\u30e9\u30d0\u30e9\u306b\u5217\u3084\u884c\u304c\u5206\u304b\u308c\u3066\u3044\u305f\u300c\u7d50\u679c\u306e\u516c\u793a\u65e5\u300d\u306a\u3069\u306e\u65e5\u4ed8\u306e\u30bf\u30a4\u30c8\u30eb\u3068\u65e5\u4ed8\u3092\u540c\u3058\u5217\u3068\u884c\u306b\u307e\u3068\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u3042\u308c\u3001\u3067\u3082\u540c\u3058\u65e5\u4ed8\u306e\u30bf\u30a4\u30c8\u30eb\u3084\u6848\u4ef6\u756a\u53f7\u3084\u30c7\u30fc\u30bf\u306e\u6982\u8981\u306a\u306e\u306b\u9055\u3046\u65e5\u4ed8\u306e\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u3059\u306d\u3002\n\n![gather-explain9.png](https://qiita-image-store.s3.amazonaws.com/0/91522/f57f45ad-26df-2504-e8e2-3a8b3ac84abc.png)\n\n\n\n\u3069\u3061\u3089\u304c\u6b63\u3057\u3044\u65e5\u4ed8\u306a\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\u3000\u3082\u3046\u4e00\u5ea6\u30da\u30fc\u30b8\u3068\u7167\u3089\u3057\u5408\u308f\u305b\u3066\u307f\u307e\u3059\u3002\n\n![gather-explain10.png](https://qiita-image-store.s3.amazonaws.com/0/91522/25479528-db81-fe34-fe12-0cd67400d968.png)\n\n\n2016\u5e7407\u670821\u65e5\u306e\u307b\u3046\u3060\u3068\u3044\u3046\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u3068\u540c\u3058\u3088\u3046\u306a\u4f8b\u304c\u3044\u304f\u3064\u3082\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u6b63\u3057\u3044\u65e5\u4ed8\u3092\u793a\u3057\u3066\u3044\u308b\u3068\u304d\u306b\u5171\u901a\u3057\u3066\u3044\u308b\u3053\u3068\u306f\u3001column_name1\u304c\"X2\"\u4e14\u3064column_name2\u304c\"X1\"\u3001\u3082\u3057\u304f\u306f\u3001column_name1\u304c\"X4\"\u4e14\u3064column_name2\u304c\"X3\"\u306e\u6642\u306a\u306e\u3067\u3059\u3002\u306a\u306e\u3067\u3001\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u6b63\u3057\u3044\u6761\u4ef6\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3057\u3087\u3046\u3002\n\nfilter((column_name1==\"X2\" & column_name2==\"X1\") | (column_name1==\"X4\" & column_name2==\"X3\"))\u3068\u5165\u529b\u3057\u307e\u3059\u3002\n\n\n![filter-gather-filter.png](https://qiita-image-store.s3.amazonaws.com/0/91522/e49e49c5-e810-a955-2ab0-eb6db1382153.png)\n\n\n\u3053\u308c\u3067\u3001\u6b63\u3057\u3044\u65e5\u4ed8\u3060\u3051\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u6b21\u306b\u3001date_label\u5217\u306b\u307e\u3068\u3081\u3066\u5165\u3063\u3066\u3044\u308b\u3001\u7d50\u679c\u306e\u516c\u793a\u65e5\u3001\u547d\u4ee4\u7b49\u306e\u516c\u5e03\u65e5\u3001\u610f\u898b\u516c\u52df\u6642\u306e\u6848\u306e\u516c\u793a\u65e5\u3001\u610f\u898b\u30fb\u60c5\u5831\u53d7\u4ed8\u7de0\u5207\u65e5\u3001\u63d0\u51fa\u610f\u898b\u6570\u3092\u5217\u306b\u3070\u3089\u3051\u3055\u305b\u3066\u3001\u305d\u308c\u305e\u308c\u306b\u5bfe\u5fdc\u3059\u308b\u65e5\u4ed8\u3092\u884c\u306b\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3044\u3046\u3068\u304d\u306f\u3001spread\u95a2\u6570\u304c\u4f7f\u3048\u307e\u3059\u3002spread\u95a2\u6570\u3092\u4f7f\u3046\u3068\u3001\u6307\u5b9a\u3057\u305f\u884c\u3092\u5217\u306b\u3070\u3089\u3051\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n![duplicate-spread.png](https://qiita-image-store.s3.amazonaws.com/0/91522/666533a7-39dd-352d-2d60-ced9132d531e.png)\n\n\n\u3042\u308c\uff1f\u3000\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\u30a8\u30e9\u30fc\u6587\u3092\u898b\u3066\u307f\u308b\u3068\u3001\u5168\u304f\u540c\u3058\u884c\u306e\u540d\u524d\u304c\u3042\u308b\u304b\u3089\u306e\u3088\u3046\u3067\u3059\u3002\u306a\u306e\u3067\u3001distinct\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001\u91cd\u8907\u3057\u3066\u308b\u5024\u3092\u53d6\u308a\u9664\u304d\u3001\u30e6\u30cb\u30fc\u30af\u306a\u5024\u3060\u3051\u3092\u6b8b\u3057\u307e\u3057\u3087\u3046\u3002\n\nlabel\u5217\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066distinct\u30b3\u30de\u30f3\u30c9\u3092\u9078\u3073\u307e\u3059\u3002\n\n![distinct-public.png](https://qiita-image-store.s3.amazonaws.com/0/91522/a0dfe1ac-8777-0738-b99b-b23ba4fb0b59.png)\n\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bdistinct(label)\u304c\u5165\u529b\u3055\u308c\u307e\u3059\u3002caption, date, date_label\u3082\u52a0\u3048\u3066\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u305d\u3057\u3066\u3001\u3082\u3046\u4e00\u5ea6spread(date_label, date)\u3092\u5165\u529b\u3057\u3066Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u307f\u307e\u3059\u3002\n\n![spread_public.png](https://qiita-image-store.s3.amazonaws.com/0/91522/37018b74-ef1f-134d-41fa-4209135840c8.png)\n\n\n\n\n\u3053\u308c\u3067\u3001\u30c7\u30fc\u30bf\u3092\u3046\u307e\u304f\u6574\u5f62\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\n\n##\u7c21\u5358\u306b\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3059\u308b\n\n\u30c7\u30fc\u30bf\u304c\u3042\u308b\u7a0b\u5ea6\u6574\u5f62\u3067\u304d\u305f\u306e\u3067\u3001\u4eca\u5ea6\u306f\u3001\u30c7\u30fc\u30bf\u3092\u7c21\u5358\u306b\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n###\u63d0\u51fa\u610f\u898b\u6570\u304b\u3089\u6570\u5b57\u3060\u3051\u3092\u53d6\u308a\u51fa\u3059\n\n\u30c1\u30e3\u30fc\u30c8\u753b\u9762\u306b\u884c\u3063\u3066\u3001X\u8ef8\u3092label,Y\u8ef8\u3092\u63d0\u51fa\u610f\u898b\u6570\u306b\u8a2d\u5b9a\u3057\u3066\u307f\u307e\u3059\u3002\n\n![spread_public.png](https://qiita-image-store.s3.amazonaws.com/0/91522/90b4a2ed-4d7e-c7cd-d576-6efbd24caca7.png)\n\n\n\u3042\u308c\uff1f\u3000\u63d0\u51fa\u610f\u898b\u6570\u306e\u5408\u8a08\u3084\u5e73\u5747\u306a\u3069\u3092\u8a08\u7b97\u3067\u304d\u307e\u305b\u3093\u306d\u3002\u3053\u308c\u306f\u3001\u63d0\u51fa\u610f\u898b\u6570\u304c\u3001\u6570\u5b57\u3060\u3051\u3067\u306f\u306a\u304f\u3001\u300c\u4ef6\u300d\u3068\u3044\u3046\u4f59\u8a08\u306a\u6587\u5b57\u304c\u306f\u3044\u3063\u3066\u3044\u308b\u304b\u3089\u306a\u3093\u3067\u3059\u3002extract_numeric\u3068\u3044\u3046\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u4f59\u8a08\u306a\u6587\u5b57\u3092\u53d6\u308a\u9664\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u63d0\u51fa\u610f\u898b\u6570\u5217\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Convert to Number\u3092\u9078\u3073\u307e\u3059\u3002\n\n![conver_to_number.png](https://qiita-image-store.s3.amazonaws.com/0/91522/88f64990-563a-1d2b-c7a7-d6829079dedb.png)\n\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bmutate(\u63d0\u51fa\u610f\u898b\u6570 = extract_numeric(\u63d0\u51fa\u610f\u898b\u6570))\u304c\u5165\u529b\u3055\u308c\u307e\u3059\u3002\u305d\u3057\u3066\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3057\u3087\u3046\u3002\n\n![without-ken.png](https://qiita-image-store.s3.amazonaws.com/0/91522/127edb0b-a66b-1295-4228-bbb9792a78f3.png)\n\n\n\u3053\u308c\u3067\u3001\u6570\u5b57\u3060\u3051\u3092\u53d6\u308a\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3067\u5408\u8a08\u306a\u3069\u3092\u51fa\u3059\u3053\u3068\u304c\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\n\n![ken-chart-sum.png](https://qiita-image-store.s3.amazonaws.com/0/91522/55455bb5-0b11-1feb-7627-35dbe906bddb.png)\n\n\n###\u65e5\u4ed8\u306e\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u3092character\u304b\u3089Date\u306b\u5909\u66f4\u3059\u308b\n\n\u6b21\u306b\u3001\u547d\u4ee4\u7b49\u306e\u516c\u5e03\u65e5\u3092X\u8ef8\u306b\u3001Y\u8ef8\u3092\u63d0\u51fa\u610f\u898b\u6570\u306b\u8a2d\u5b9a\u3057\u3066\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n![month-daily-can't.png](https://qiita-image-store.s3.amazonaws.com/0/91522/55763911-c9e8-f7b1-20d0-8d6dc0a33af8.png)\n\n\n\u3042\u308c\uff1f\u3000\u4eca\u5ea6\u306f\u3001\u540c\u3058\u6708\u304c\u3044\u304f\u3064\u3082\u3042\u3063\u305f\u308a\u3001\u6708\u3067\u306f\u306a\u304f\u5e74\u3060\u3051\u3067\u533a\u5207\u3063\u305f\u308a\u3068\u3044\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u306d\u3002\u3053\u308c\u306f\u3001\u65e5\u4ed8\u306b\u6f22\u5b57\u306a\u3069\u304c\u5165\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u304ccharacter\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u3089\u306a\u3093\u3067\u3059\u3002Date\u95a2\u6570\u3092\u4f7f\u3063\u3066\u3001\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u3092character\u304b\u3089Date\u306b\u5909\u3048\u307e\u3057\u3087\u3046\u3002\n\n![day-character.png](https://qiita-image-store.s3.amazonaws.com/0/91522/f9eee81a-3db7-f537-c9c1-761e3bf47114.png)\n\n\n\u610f\u898b\u30fb\u60c5\u5831\u53d7\u4ed8\u7de0\u5207\u65e5\u306e\u30d8\u30c3\u30c0\u30fc\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Covert to Date/Time\u304b\u30892015\u5e7412\u670824\u65e5\u306e\u9806\u756a\u901a\u308a\u306b\u306a\u308b\u3088\u3046\u306b\u3001Year,Month,Day\u3092\u9078\u3073\u307e\u3059\u3002\n\n![conver_to_number.png](https://qiita-image-store.s3.amazonaws.com/0/91522/57d79949-1e52-e90f-ae3a-d29618fb67fc.png)\n\n\n\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306bmutate(`\u610f\u898b\u30fb\u60c5\u5831\u53d7\u4ed8\u7de0\u5207\u65e5` = ymd(`\u610f\u898b\u30fb\u60c5\u5831\u53d7\u4ed8\u7de0\u5207\u65e5`))\u304c\u5165\u529b\u3055\u308c\u307e\u3059\u3002\u305d\u3057\u3066\u3001Run\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3057\u3087\u3046\u3002\n\n![data-congrat.png](https://qiita-image-store.s3.amazonaws.com/0/91522/f308e8c3-c139-fe04-12f6-fd07239b098c.png)\n\n\n\u547d\u4ee4\u7b49\u306e\u516c\u5e03\u65e5\u3001\u610f\u898b\u516c\u52df\u6642\u306e\u6848\u306e\u516c\u793a\u65e5\u3001\u610f\u898b\u516c\u52df\u6642\u306e\u6848\u306e\u516c\u793a\u65e5\u3001\u7d50\u679c\u306e\u516c\u793a\u65e5\u3082\u540c\u3058\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n![date-all.png](https://qiita-image-store.s3.amazonaws.com/0/91522/1efef43f-9ad7-598e-03e2-0a85fcd51632.png)\n\n\n\u3053\u308c\u3067\u3001\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u3092Date\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u306e\u3067\u3001\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u3067\u5408\u8a08\u306a\u3069\u3092\u51fa\u3059\u3053\u3068\u304c\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u306d\u3002\n\n![chart-all-day.png](https://qiita-image-store.s3.amazonaws.com/0/91522/39aca93b-3cca-11ff-5fb0-713e2508cf60.png)\n\n\n\nDate\u95a2\u6570\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u306a\u3044\u65b9\u306f\u3001[\u3053\u3061\u3089](http://qiita.com/21-Hidetaka-Ko/items/1645d89683e312f4d65c\n)\u306e\u65b9\u3067\u3001dplyr\u306e\u6587\u6cd5\u3067\u3042\u308bDate\u95a2\u6570\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u89e3\u8aac\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3088\u304b\u3063\u305f\u3089\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\n##\u6700\u5f8c\u306b\n\n\u6700\u521d\u306f\u3001\u9014\u65b9\u3082\u7121\u304f\u601d\u3048\u305f\u304a\u5f79\u6240\u306e\u6c5a\u3044\u30c7\u30fc\u30bf\u3082\u3001Exploratory\u3092\u4f7f\u3063\u3066\u3001\u7c21\u5358\u306b\u3046\u307e\u304f\u6574\u5f62\u3057\u3001\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30ba\u307e\u3067\u5bfe\u8a71\u7684\u306b\u5b9f\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u306d\u3002\n\nExploratory\u3067\u306f\u3001\u3053\u3046\u3084\u3063\u3066\u5206\u6790\u3057\u3066\u3044\u3063\u305f\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u305f\u30b9\u30c6\u30c3\u30d7\u3001\u30c1\u30e3\u30fc\u30c8\u3001R script\u3068\u3044\u3063\u3057\u3087\u306b\u30b7\u30a7\u30a2\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30c1\u30e3\u30fc\u30c8\u3068\u3044\u3063\u3057\u3087\u306b\u30b7\u30a7\u30a2\u3059\u308b\u3068\u304d\u306f\u3001\u30c1\u30e3\u30fc\u30c8\u306eShare\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n![share-data-public.png](https://qiita-image-store.s3.amazonaws.com/0/91522/da95dacd-337e-b375-ca90-be9eb63eb5ff.png)\n\n\n\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u305d\u308c\u305e\u308c\u5165\u529b\u3057\u3001Share\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n![share-with-data-public.png](https://qiita-image-store.s3.amazonaws.com/0/91522/3e341926-90ae-2c7c-6343-8c8714d34d4d.png)\n\n\n\u3053\u308c\u3067\u3001\u30b7\u30a7\u30a2\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n![open-data-share.png](https://qiita-image-store.s3.amazonaws.com/0/91522/0f72641d-d12f-e479-6521-022c366758d9.png)\n\n\n\n[\u3053\u3061\u3089](https://exploratory.io/viz/Hidetaka-Ko/92fb96d0b8e7?cb=1469082547910\n)\u304b\u3089\u3001\u5b9f\u969b\u306b\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306a\u307c\u304f\u306e\u30c7\u30fc\u30bf\u5206\u6790\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u306e\u518d\u73fe\u6027\u304c\u3068\u3066\u3082\u9ad8\u3044\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u3048\u3070\u3001\u5171\u540c\u3067\u8ab0\u304b\u3068\u5206\u6790\u3057\u3066\u3044\u304f\u3068\u304d\u5f79\u306b\u7acb\u3064\u3053\u3068\u9593\u9055\u3044\u306a\u3044\u3067\u3057\u3087\u3046\u3002\n\n\nExploratory\u306b\u306f\u3001Writing R script\u3068\u3044\u3046\u3068\u3053\u308d\u304b\u3089\u3001R\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u3044\u3051\u308b\u306e\u3067\u3001\u67d4\u8edf\u6027\u304c\u9ad8\u3044\u3067\u3059\u3002\n\u306a\u306e\u3067\u3001\u8cea\u554f\u3084\u3054\u8981\u671b\u306a\u3069\u304c\u3042\u308c\u3070\u3001Exploratory\u306e\u65e5\u672c\u30e6\u30fc\u30b6\u30fc\u5411\u3051\u306e[Facebook\u30b0\u30eb\u30fc\u30d7](https://www.facebook.com/groups/1087437647994959/members/\n)\u3092\u4f5c\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u9060\u616e\u7121\u304f\u3053\u306e\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u6295\u7a3f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4eca\u56de\u306e\u3088\u3046\u306b\u5bfe\u5fdc\u81f4\u3057\u307e\u3059\u3002\n\n\n##\u8208\u5473\u3092\u6301\u3063\u3066\u3044\u305f\u3060\u3044\u305f\u65b9\u3001\u5b9f\u969b\u306b\u89e6\u3063\u3066\u307f\u305f\u3044\u65b9\u3078\n\nExploratory\u306f[\u3053\u3061\u3089](https://exploratory.io/\n)\u304b\u3089\u03b2\u7248\u306e\u767b\u9332\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3061\u3089\u304cinvite\u3092\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nExploratory\u306eTwitter\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u3001[\u3053\u3061\u3089](https://twitter.com/ExploratoryData\n)\u3067\u3059\u3002\n\n\u5206\u6790\u3057\u3066\u307b\u3057\u3044\u30c7\u30fc\u30bf\u304c\u3042\u308b\u65b9\u3084\u3001\u30c7\u30fc\u30bf\u5206\u6790\u306e\u3054\u4f9d\u983c\u306fhidetaka.koh@gmail.com\u307e\u3067\u3069\u3046\u305e\n", "tags": ["R", "DataVisualization", "Exploratory", "\u30c7\u30fc\u30bf\u5206\u6790", "\u30c7\u30fc\u30bf\u53ef\u8996\u5316"]}