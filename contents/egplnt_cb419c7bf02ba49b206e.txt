{"tags": ["watsoniotplatform", "node-red", "IoT", "wiotp", "wiotp403"], "context": "\u521d\u3081\u3066Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3001\u3068\u3044\u3046\u304b\u305f\u306e\u305f\u3081\u306e\u30ac\u30a4\u30c9\u3067\u3059\u3002\nWatson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b\u3067IoT\u30a2\u30d7\u30ea\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30ed\u30fc\u3067\u306f\u3001dashDB\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092D3.js\u3092\u4f7f\u7528\u3057\u3066\u53ef\u8996\u5316\u3057\u307e\u3059\u3002\ndashDB\u306e\u6e96\u5099\u306b\u3064\u3044\u3066\u306f\u3001Watson IoT Platform - \u76f4\u63a5dashDB\u3078\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u306a\u3069\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n\u30b5\u30f3\u30d7\u30eb\uff11\uff1a\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\u3059\u308b\n\n\nNode-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\u300c\u5165\u529b\u7528\u753b\u9762\u3092\u8fd4\u3059\u300d\u30ce\u30fc\u30c9\u3092\u958b\u304d\u300122\u884c\u76ee\u306e<form action=\"http://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/test43\u306e\u300c\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d\u300d\u3092\u4f7f\u7528\u3057\u3066\u3044\u308bNode-RED\u30a2\u30d7\u30ea\u306e\u540d\u524d\u306b\u66f4\u65b0\u3057\u3001\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\n\u300cDB\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u300d\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b\uff08SENSOR2DB\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306bCC2650\u306e\u30c7\u30fc\u30bf\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\uff09dashDB\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u6b63\u3057\u304f\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\n\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u304d\u30a2\u30d7\u30ea\u540d.mybluemix.net/test42\u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n\u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u540d\u3068\u8868\u793a\u671f\u9593\u3092\u6307\u5b9a\u3057\u3001\u300c\u9001\u4fe1\u300d\u3092\u62bc\u3057\u307e\u3059\n\n\ndashDB\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u8868\u793a\n[{\"id\":\"2eb6a12a.6ef6e6\",\"type\":\"dashDB in\",\"z\":\"b9820341.436a5\",\"service\":\"dashDB-gw\",\"query\":\"select * from SENSOR2DB \\nwhere month between ? and ?\\nand\\nday between ? and ? \\nand \\nhour between ? and ?\\nand \\nminute between ? and ?\\norder by month, day, hour, minute;\",\"params\":\"msg.startmonth,msg.endmonth,msg.startday,msg.endday,msg.starthour,msg.endhour,msg.startminute,msg.endminute\",\"name\":\"DB\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\",\"x\":500,\"y\":260,\"wires\":[[\"3fecad0f.fb3d32\"]]},{\"id\":\"3fecad0f.fb3d32\",\"type\":\"function\",\"z\":\"b9820341.436a5\",\"name\":\"stringify\",\"func\":\"var m = JSON.stringify(msg.payload);\\nmsg.payload.op = m;\\nvar n = JSON.stringify(msg.targetattr);\\nmsg.payload.targetattr = n;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":300,\"y\":320,\"wires\":[[\"10facdf7.cecfa2\"]]},{\"id\":\"10facdf7.cecfa2\",\"type\":\"template\",\"z\":\"b9820341.436a5\",\"name\":\"\u30b0\u30e9\u30d5\u3092\u8868\u793a\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n  <meta charset=\\\"utf-8\\\">\\n  <title>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n  <script src=\\\"https://d3js.org/d3.v4.min.js\\\"></script>\\n\\n  <style type=\\\"text/css\\\">\\n  /* \u3053\u3053\u306b\u30b9\u30bf\u30a4\u30eb\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059 */\\n  .axis path,\\n  .axis line {\\n    fill: none;\\n    stroke: black;\\n    shape-rendering: crispEdges;\\n  }\\n  .axis text {\\n    font-family: Meiryo;\\n    font-size: 11px;\\n  }\\n  </style>\\n\\n  <div id=\\\"op\\\" foo={{ payload.op }}/>\\n  <div id=\\\"ta_a\\\" ta_b={{ payload.targetattr }}/>\\n\\n  <script type=\\\"text/javascript\\\">\\n  //  payload.op\u306bdashDB\u691c\u7d22\u7d50\u679c\u3092\u3001payload.targetattr\u306b\u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u540d\u3092\u4fdd\u6301\\n  var ta_c = document.getElementById( 'ta_a' ).getAttribute( 'ta_b' );\\t//\u5c5e\u6027\u540d\u3092\u53d6\u5f97\\n  target_attr = ta_c.substr( 1, ta_c.length-3 );  //\u5192\u982d\u3068\u672b\u5c3e\u306e\\\"\\\"\u3092\u524a\u9664\u3002\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u3002\\n\\n  var op_a = document.getElementById( 'op' ).getAttribute( 'foo' );\\t//\u691c\u7d22\u7d50\u679c\u3092\u53d6\u5f97\\n  op_a = op_a.substr( 0, op_a.length-1 ) ;\\t//\u672b\u5c3e\u306e\\\"/\\\"\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\\n  var op_a2 = JSON.parse(op_a);\\t//JSON\u6587\u5b57\u5217\u304b\u3089javascript\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5fa9\u5143\\n\\n  var op_a3 = new Array();\\n  for(var i in op_a2){\\n    op_a3.push(op_a2[i][target_attr]);\\t//\u5bfe\u8c61\u3068\u3059\u308b\u5c5e\u6027\u306e\u5024\u3092\u53d6\u308a\u51fa\u3057\u3066\u914d\u5217op_a3\u306b\u9806\u6b21\u683c\u7d0d\\n  }\\n\\n  var op_a5 = new Array();\\n  for(var i in op_a2){        // \u5bfe\u8c61\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u6642\u523b\u3092\u683c\u7d0d\\n    op_a5.push(op_a2[i].HOUR + \\\":\\\" + (( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 )));\\n  }\\n\\n  var m =  0;   //  \u6642\u3068\u5206\u3092\u7d50\u5408\u3057\u3066\u6642\u523b\u3092\u4fdd\u6301\u3059\u308b\\n  var mh = 0;   //  \u6700\u5927\u5024\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306e\u6642\\n  var mm = 0;   //  \u6700\u5927\u5024\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306e\u5206\\n  var mt = 0;   //  \u6700\u5927\u5024\\n  for(var i in op_a2){\\n    //  console.log('i = ', i, ', value = ', op_a2[i][target_attr], ', h = ', op_a2[i].HOUR, ', m = ', op_a2[i].MINUTE);\\n    //  op_a2\u914d\u5217\u3092\u63a2\u7d22\u3057\u3066\u3001\u6700\u5927\u5024\u3092\u898b\u3064\u3051\u308b\\n    if (m < Number(op_a2[i][target_attr])) {\\n      m = Number(op_a2[i][target_attr]);\\n      mh = op_a2[i].HOUR;\\n      mm = ( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 ) ;\\n      mt = op_a2[i][target_attr];      // \u6700\u5927\u5024\u306e\u6587\u5b57\u5217\u3067\u306e\u5024\\n      mv = parseFloat(mt, 10);         // \u6700\u5927\u5024\u306e\u6570\u5024\u3067\u306e\u5024\\n      //console.log(\\\"max found was \\\" + mh + \\\":\\\" + mm + \\\" \\\" + mt);\\n    }\\n  }\\n\\n  m = mh + \\\":\\\" + mm;\\n  //  console.log('mt = ', mt);\\n  // \u8868\u793a\u3059\u308b\u753b\u9762\u306e\u5e45\uff08 Width \uff09\u3068\u9ad8\u3055\uff08 height \uff09\\n  var w = 1000;\\n  //  zoom\u306e\u5024\u306f\u3001\u6700\u5927\u5024\u304c100\u4ee5\u4e0a\u3067\u3042\u308c\u3070\u305d\u306e\u307e\u307e(1\u500d)\u3001\u6700\u5927\u5024\u304c100\u3088\u308a\u5c0f\u3055\u3051\u308c\u30704\u500d\u3001\\n  // \u6700\u5927\u5024\u304c10\u3088\u308a\u5c0f\u3055\u3051\u308c\u307010\u500d\u3001\u6700\u5927\u5024\u304c3\u3088\u308a\u5c0f\u3055\u3051\u308c\u307020\u500d\u306b\\n  var zoom = ( mv < 100 ) ? (( mv < 10 ) ? (( mv < 3 ) ? 20 : 10 ) : 4 ) : 1;\\n  //  console.log('zoom = ', zoom);\\n  //  \u753b\u9762\u306e\u9ad8\u3055\u306f\u3001\u6700\u5927\u5024x\u30ba\u30fc\u30e0\u5024\uff0b\uff15\uff10\u3000\u304b\u3000100\u306e\u3069\u3061\u3089\u304b\u5927\u304d\u3044\u307b\u3046\\n  var h = Math.max(mv*zoom + 50, 100);\\n  //  console.log('h = ', h);\\n  var barPadding = 1;  // \u68d2\u30b0\u30e9\u30d5\u306e\u68d2\u3068\u68d2\u306e\u9593\u9694\\n  var margin = 30;     // \u30b0\u30e9\u30d5\u8868\u793a\u57df\u306e\u307e\u308f\u308a\u306e\u4f59\u767d\\n\\n  var dataset = op_a3;    //  \u5bfe\u8c61\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u4fdd\u6301\\n  var datasetT = op_a5;   //  \u5bfe\u8c61\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u6642\u523b\u3092\u4fdd\u6301\\n\\n  // \u30b9\u30b1\u30fc\u30eb\u95a2\u6570\u306e\u751f\u6210\\n  var xScale = d3.scaleLinear()\\n    .domain([0, d3.max(dataset, function(d) { return d; })])\\n    .range([margin, w + margin * 2]);\\n\\n  var yScale = d3.scaleLinear()\\n    .domain([0, (h-margin) / zoom]) // Y\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u3092\u68d2\u30b0\u30e9\u30d5\u3068\u4e00\u81f4\u3055\u305b\u308b\\n    .range([h-margin, 0]);\u3000\u3000\u3000\u3000// Y\u8ef8\u8868\u793a\u5834\u6240\\n\\n  // X \u8ef8\u306e\u5b9a\u7fa9\\n  var xAxis = d3.axisBottom()\\n    .scale(xScale);\\n\\n  // Y \u8ef8\u306e\u5b9a\u7fa9\\n  var yAxis = d3.axisLeft(yScale);\\n\\n  // SVG \u8981\u7d20\u306e\u751f\u6210\\n  var canvas = d3.select(\\\"body\\\")\\n    .append(\\\"svg\\\")\\n    .attr(\\\"width\\\", w)\\n    .attr(\\\"height\\\", h);\\n\\n  canvas.selectAll(\\\"rect\\\")\\n    .data(dataset)\\n    .enter()\\n    .append(\\\"rect\\\")\\n    .attr(\\\"x\\\", function(d, i) {\\n      return i * ((w-margin) / dataset.length) + margin;\\n    })\\n    .attr(\\\"y\\\", function(d) {    //  \u8ca0\u306e\u5024\u306f\u7d76\u5bfe\u5024\u3067\u5bfe\u5fdc\\n      return h - (Math.abs(d) * zoom) - margin;\\n    })\\n    .attr(\\\"width\\\", (w-margin) / dataset.length - barPadding)\\n    .attr(\\\"height\\\", function(d) {\\n      return Math.abs(d) * zoom;      //  \u8ca0\u306e\u5024\u306f\u7d76\u5bfe\u5024\u3067\u5bfe\u5fdc\\n    })\\n    .attr(\\\"fill\\\", function(d) {\\n      //return \\\"rgb(100, 100, \\\" + (d * 10) + \\\")\\\";\\n      return \\\"rgb(224, 194, 132)\\\";    //  \u674f\u8272\\n  });\\n\\n  canvas.selectAll(\\\"text\\\")\\n    .data(datasetT)\\n    .enter()\\n    .append(\\\"text\\\")\\n    .text(function(d) {\\n      return d;\\n    })\\n    .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n    .attr(\\\"x\\\", function(d, i) {\\n      return i * ((w-margin) / dataset.length) + margin + ((w-margin) / dataset.length - barPadding ) / 2;\\n    })\\n    .attr(\\\"y\\\", function(d) {\\n      return h;\\n    })\\n    .attr(\\\"font-family\\\", \\\"Meiryo\\\")\\n    .attr(\\\"font-size\\\", \\\"11px\\\")\\n    .attr(\\\"fill\\\", \\\"black\\\");\\n\\n// X \u8ef8\u306e\u751f\u6210\\n/*canvas.append(\\\"g\\\")\\n    .attr(\\\"class\\\", \\\"axisBottom\\\")\\n    .attr(\\\"transform\\\", \\\"translate(0,\\\" + (h - margin) + \\\")\\\")\\n    .call(xAxis);\\n*/\\n// Y \u8ef8\u306e\u751f\u6210\\ncanvas.append(\\\"g\\\")\\n    .attr(\\\"class\\\", \\\"axisLeft\\\")\\n    .attr(\\\"transform\\\", \\\"translate(\\\" + margin + \\\",0)\\\")\\n    .call(yAxis);\\n\\n\\nwindow.onload = function onLoad() {\\n  var target1 = document.getElementById(\\\"output1\\\");     //  \u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u540d\\n  target1.innerHTML = target_attr;\\n  var target2 = document.getElementById(\\\"output2\\\");     //  \u6700\u9ad8\u5024\u306e\u6642\u523b\\n  target2.innerHTML = m;\\n  var target3 = document.getElementById(\\\"output3\\\");     //  \u6700\u9ad8\u5024\\n  target3.innerHTML = mt;      //\u3000\u6700\u5927\u5024\u3092\u30ed\u30fc\u30c9\\n}\\n\\n</script>\\n</head>\\n<body>\\n\\n  <div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px; font-family: Meiryo;\\\">\\n    <h1>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n    <br />\\n    <p>\\n      \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059(\u52a0\u901f\u5ea6\u306a\u3069\u306e\u30de\u30a4\u30ca\u30b9\u5024\u306f\u7d76\u5bfe\u5024\u3067\u8868\u793a\u3057\u3066\u3044\u307e\u3059)\\n      <br />\\n    </p>\\n  </div>\\n\\n  <div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; font-family: Meiryo; \\\">\\n    <div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n    <h2>\\n      <span style=\\\"text-align:left; font-size:18pt; color:blue\\\" id=\\\"output1\\\"></span> \u5024\u306e\u51fa\u529b\\n    </h2>\\n    <h2>\u6700\u9ad8\u5024\u306e\u6642\u523b</h2>\\n      <span style=\\\"text-align:left; font-size:18pt; color:blue\\\" id=\\\"output2\\\"></span>\\n    <h2>\u6700\u9ad8\u5024\u3000</h2>\\n      <span style=\\\"text-align:left; font-size:18pt; color:blue\\\" id=\\\"output3\\\"></span>\\n  </div>\\n</body>\\n</html>\\n\",\"x\":480,\"y\":320,\"wires\":[[\"bfa2ef08.c01b88\"]]},{\"id\":\"bfa2ef08.c01b88\",\"type\":\"http response\",\"z\":\"b9820341.436a5\",\"name\":\"\",\"x\":670,\"y\":320,\"wires\":[]},{\"id\":\"aae95e90.86278\",\"type\":\"http in\",\"z\":\"b9820341.436a5\",\"name\":\"\",\"url\":\"/test42\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":120,\"wires\":[[\"3dd30a64.5a7b4e\"]]},{\"id\":\"e2fb681.3b9ad98\",\"type\":\"http response\",\"z\":\"b9820341.436a5\",\"name\":\"\",\"x\":510,\"y\":120,\"wires\":[]},{\"id\":\"3dd30a64.5a7b4e\",\"type\":\"template\",\"z\":\"b9820341.436a5\",\"name\":\"\u5165\u529b\u7528\u753b\u9762\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>IoT Quick Dashboard</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #96e0a9; padding: 20px; font-family: Meiryo;\\\">\\n\\n\\t<h1>IoT Quick Dashboard</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tdashDB\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; font-family: Meiryo; \\\">\\n\\n    <H2>\u5165\u529b\uff01</H2>\\n  <P>\u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</P>\\n  <form action=\\\"http://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/test43\\\" method=\\\"get\\\">\\n\\t\\t<select name=\\\"targetattr\\\">\\n\\t\\t    <option>AMBIENTTEMP</option>\\n\\t\\t\\t\\t<option>ACCELX</option>\\n\\t\\t\\t\\t<option>ACCELY</option>\\n\\t\\t\\t\\t<option>ACCELZ</option>\\n\\t\\t\\t\\t<option>GYROX</option>\\n\\t\\t\\t\\t<option>GYROY</option>\\n\\t\\t\\t\\t<option>GYROZ</option>\\n\\t\\t\\t\\t<option>HUMIDITY</option>\\n\\t\\t\\t\\t<option>LIGHT</option>\\n\\t\\t\\t\\t<option>MAGX</option>\\n\\t\\t\\t\\t<option>MAGY</option>\\n\\t\\t\\t\\t<option>MAGZ</option>\\n\\t\\t    <option>OBJECTTEMP</option>\\n\\t\\t  </select><br><br>\\n      \u3053\u306e\u65e5\u6642\u304b\u3089<input type=\\\"datetime-local\\\" name=\\\"starttime\\\" value=\\\"2016-11-8T17:21:00\\\" step=\\\"60\\\">\\n      \u3053\u306e\u65e5\u6642\u307e\u3067<input type=\\\"datetime-local\\\" name=\\\"endtime\\\" value=\\\"2012-11-8T17:21:00\\\" step=\\\"60\\\"><br><br>\\n  <INPUT type=\\\"submit\\\" value=\\\"\u9001\u4fe1\\\"><BR>\\n  <INPUT type=\\\"reset\\\" value=\\\"\u30ea\u30bb\u30c3\u30c8\\\"><BR><BR>\\n  </FORM>\\n\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; font-family: Meiryo; \\\">\\n\\t<br />\\n\\t<div class=\\\"category\\\"><h3>\u95a2\u9023\u30ea\u30f3\u30af</h3></div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Qiita: Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">IBM Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://bluemix.net\\\">Bluemix</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t<div class=\\\"category\\\"><h3>\u8cc7\u6599\u30da\u30fc\u30b8</h3></div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n</div>\\n\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px; font-family: Meiryo;\\\">\\n\\t\\tcopyright (c) abc.com All right reserved.\\n</div>\\n\\t</body>\\n</html>\\n\",\"x\":330,\"y\":120,\"wires\":[[\"e2fb681.3b9ad98\"]]},{\"id\":\"ffa6e27d.bffc98\",\"type\":\"http in\",\"z\":\"b9820341.436a5\",\"name\":\"\",\"url\":\"/test43\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":260,\"wires\":[[\"882885a3.f23b4\"]]},{\"id\":\"c34b1569.a2526\",\"type\":\"comment\",\"z\":\"b9820341.436a5\",\"name\":\"DB\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u8868\u793a\",\"info\":\"\",\"x\":140,\"y\":220,\"wires\":[]},{\"id\":\"882885a3.f23b4\",\"type\":\"function\",\"z\":\"b9820341.436a5\",\"name\":\"\u5024\u3092\u53d6\u5f97\",\"func\":\"msg.startmonth = msg.payload.starttime.substr(5,2);\\nmsg.startday = msg.payload.starttime.substr(8,2);\\nmsg.starthour = msg.payload.starttime.substr(11,2);\\nmsg.startminute = msg.payload.starttime.substr(14,2);\\n\\nmsg.endmonth = msg.payload.endtime.substr(5,2);\\nmsg.endday = msg.payload.endtime.substr(8,2);\\nmsg.endhour = msg.payload.endtime.substr(11,2);\\nmsg.endminute = msg.payload.endtime.substr(14,2);\\n\\nmsg.targetattr = msg.payload.targetattr;\\n\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":300,\"y\":260,\"wires\":[[\"2eb6a12a.6ef6e6\"]]},{\"id\":\"cdba37a9.e3b2d\",\"type\":\"comment\",\"z\":\"b9820341.436a5\",\"name\":\"\u8868\u793a\u3059\u308b\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\",\"info\":\"\",\"x\":150,\"y\":80,\"wires\":[]}]\n\n\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb\uff12\uff1a\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0\uff08CC2650)\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u3080\n\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u306f\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n1. \u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\n2. \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u76f4\u63a5\u66f8\u304d\u8fbc\u307f\u307e\u3059 \n3. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300dfunction\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\u5192\u982d\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u5024\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\n\n\n\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092dashDB\u3078\u683c\u7d0d\u3057\u3001D3\u3067\u53ef\u8996\u5316\u3059\u308b\n[{\"id\":\"175917e8.30b87\",\"type\":\"inject\",\"z\":\"64589e61.60898\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":200,\"wires\":[[]]},{\"id\":\"c3e41b5d.223d28\",\"type\":\"inject\",\"z\":\"64589e61.60898\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":240,\"wires\":[[]]},{\"id\":\"a0155b1b.cda098\",\"type\":\"comment\",\"z\":\"64589e61.60898\",\"name\":\"IoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067DB\u3078\u66f8\u304d\u8fbc\u307f\",\"info\":\"\",\"x\":200,\"y\":60,\"wires\":[]},{\"id\":\"6d18f085.c1b5d8\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":301,\"y\":140,\"wires\":[[\"3b7f6362.24696c\",\"def4328.f99acd\"]]},{\"id\":\"3b7f6362.24696c\",\"type\":\"debug\",\"z\":\"64589e61.60898\",\"name\":\"\u6642\u523b\u306e\u8868\u793a\",\"active\":false,\"console\":\"false\",\"complete\":\"date\",\"x\":510,\"y\":100,\"wires\":[]},{\"id\":\"14d3087b.28646\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"\u8868\u3078\u66f8\u304d\u8fbc\u3080\",\"func\":\"msg.payload = \\n{ \\n\\tDATE : msg.date.date,\\n\\tDAY : msg.date.day,\\n\\tHOUR : msg.date.hour,\\n\\tMINUTE : msg.date.minute,\\n\\tMONTH : msg.date.month,\\n\\tSECOND : msg.date.second,\\n\\tYEAR : msg.date.year,\\n\\tACCELX : msg.sensor.accelX,\\n\\tACCELY : msg.sensor.accelY,\\n\\tACCELZ : msg.sensor.accelZ,\\n\\tAMBIENTTEMP : msg.sensor.ambientTemp,\\n\\tGYROX : msg.sensor.gyroX,\\n\\tGYROY : msg.sensor.gyroY,\\n\\tGYROZ : msg.sensor.gyroZ,\\n\\tHUMIDITY : msg.sensor.humidity,\\n\\tLIGHT : msg.sensor.light,\\n    MAGX : msg.sensor.magX,\\n\\tMAGY :msg.sensor.magY,\\n\\tMAGZ : msg.sensor.magZ,\\n\\tOBJECTTEMP : msg.sensor.objectTemp\\n};\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":520,\"y\":220,\"wires\":[[\"ba9d26f1.6a516\",\"ecfd037.e72c4\"]]},{\"id\":\"8bcc302e.8dbd58\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"var sampling_min_interval = 10;     // 10\u5206\u6bce\u306bDB\u30d8\u66f8\u304d\u8fbc\u307f\\nvar sampling_sec_interval = 60;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\n/*\\nvar sum = 0, average = 0;\\nvar sen1 = Math.floor(Math.random () * 10) + 1;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\nif ( !context.array ) {\\n    context.array = new Array (10); //\u76f4\u8fd1\uff11\uff10\u4ef6\u5206\u3092\u4fdd\u6301\\n}\\nvar shifted = context.array.shift();\\ncontext.array.push(sen1);           // \u6700\u65b0\u306e\u5024\u3092\u4fdd\u5b58\\nvar length = context.array.length;\\n\\nfor (k=0; k<length; k++) {\\n        sum = sum + context.array[k];   // \u5408\u8a08\u3092\u7b97\u51fa\\n}\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\naverage = sum / length;\\nvar data = [[time],[sen1],[average]];\\nmsg.sensor.average = average;\\n*/\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\nif ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":310,\"y\":220,\"wires\":[[\"14d3087b.28646\"]]},{\"id\":\"b7faf05f.7d756\",\"type\":\"ibmiot in\",\"z\":\"64589e61.60898\",\"authentication\":\"quickstart\",\"apiKey\":\"\",\"inputType\":\"evt\",\"deviceId\":\"\",\"applicationId\":\"\",\"deviceType\":\"+\",\"eventType\":\"+\",\"commandType\":\"\",\"format\":\"json\",\"name\":\"IBM IoT\",\"service\":\"quickstart\",\"allDevices\":\"\",\"allApplications\":\"\",\"allDeviceTypes\":true,\"allEvents\":true,\"allCommands\":\"\",\"allFormats\":\"\",\"x\":90,\"y\":140,\"wires\":[[\"6d18f085.c1b5d8\"]]},{\"id\":\"4144253.9dd2fdc\",\"type\":\"http in\",\"z\":\"64589e61.60898\",\"name\":\"\",\"url\":\"/test28\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":110,\"y\":380,\"wires\":[[\"1f8c6452.0e2c14\"]]},{\"id\":\"fdd5ab25.ad1cd8\",\"type\":\"debug\",\"z\":\"64589e61.60898\",\"name\":\"op\",\"active\":false,\"console\":\"false\",\"complete\":\"payload.op\",\"x\":670,\"y\":360,\"wires\":[]},{\"id\":\"d1c0278d.5bf49\",\"type\":\"template\",\"z\":\"64589e61.60898\",\"name\":\"html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n   <meta charset=\\\"utf-8\\\">\\n   <title>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n      <script src=\\\"https://d3js.org/d3.v4.min.js\\\"></script>\\n\\n   <style type=\\\"text/css\\\">\\n         /* \u3053\u3053\u306b\u30b9\u30bf\u30a4\u30eb\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059 */\\n      .axis path,\\n      .axis line {\\n         fill: none;\\n         stroke: black;\\n         shape-rendering: crispEdges;\\n      }\\n      .axis text {\\n         font-family: sans-serif;\\n         font-size: 11px;\\n      }\\n   </style>\\n\\n   <div id=\\\"op\\\" foo={{payload.op}}/>\\n\\n<script type=\\\"text/javascript\\\">\\n\\nvar op_a = document.getElementById( 'op' ).getAttribute( 'foo' );\\t//\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\\nop_a = op_a.substr( 0, op_a.length-1 ) ;\\t//\u672b\u5c3e\u306e\\\"/\\\"\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\\nvar op_a2 = JSON.parse(op_a);\\t//JSON\u6587\u5b57\u5217\u304b\u3089javascript\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5fa9\u5143\\n\\nvar op_a3 = new Array();\\nfor(var i in op_a2){\\n\\top_a3.push(op_a2[i].AMBIENTTEMP);\\t//AMBIENTTEMP\u3092\u53d6\u308a\u51fa\u3057\u3066\u914d\u5217op_a3\u306b\u9806\u6b21\u683c\u7d0d\\n}\\n\\nvar op_a5 = new Array();\\nfor(var i in op_a2){\\n\\top_a5.push(op_a2[i].HOUR + \\\":\\\" + (( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 )));\\n}\\n\\n   // \u5e45\uff08 Width \uff09\u3068\u9ad8\u3055\uff08 height \uff09\\n   var w = 800;\\n   var h = 300;\\n   var zoom =5;\\n   var barPadding = 1;  // \u68d2\u30b0\u30e9\u30d5\u306e\u68d2\u3068\u68d2\u306e\u9593\u9694\\n   var margin = 30;     // \u30b0\u30e9\u30d5\u8868\u793a\u57df\u306e\u307e\u308f\u308a\u306e\u4f59\u767d\\n   \\n   var dataset = op_a3;\\n   var datasetT = op_a5;\\n   \\n   // \u30b9\u30b1\u30fc\u30eb\u95a2\u6570\u306e\u751f\u6210\\n   var xScale = d3.scaleLinear()\\n         .domain([0, d3.max(dataset, function(d) { return d; })])\\n         .range([margin, w + margin * 2]);\\n\\n   var yScale = d3.scaleLinear()\\n            .domain([0, (h-margin) / zoom]) // Y\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u3092\u68d2\u30b0\u30e9\u30d5\u3068\u4e00\u81f4\u3055\u305b\u308b\\n            .range([h-margin, 0]);\u3000\u3000\u3000\u3000// Y\u8ef8\u8868\u793a\u5834\u6240\\n\\n   // X \u8ef8\u306e\u5b9a\u7fa9\\n   var xAxis = d3.axisBottom()\\n        .scale(xScale);\\n\\n   // Y \u8ef8\u306e\u5b9a\u7fa9\\n   var yAxis = d3.axisLeft(yScale);\\n   \\n   // SVG \u8981\u7d20\u306e\u751f\u6210\\n   var canvas = d3.select(\\\"body\\\")\\n         .append(\\\"svg\\\")\\n         .attr(\\\"width\\\", w)\\n         .attr(\\\"height\\\", h);\\n\\n   canvas.selectAll(\\\"rect\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"rect\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * zoom) - margin;\\n         })\\n         .attr(\\\"width\\\", (w-margin) / dataset.length - barPadding)\\n         .attr(\\\"height\\\", function(d) {\\n            return d * zoom;\\n         })\\n         .attr(\\\"fill\\\", function(d) {\\n//            return \\\"rgb(0, 0, \\\" + ( ( (d-20) * 10 ) + 100 ) + \\\")\\\";\\n            return \\\"rgb(0, 51, 255)\\\";\\n                     });\\n\\t\\t \\n   canvas.selectAll(\\\"text\\\")\\n         .data(datasetT)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n          .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin + ((w-margin) / dataset.length - barPadding ) / 2;\\n         })\\n        .attr(\\\"y\\\", function(d) {\\n            return h;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"black\\\");\\n\\n/*    canvas.selectAll(\\\"text\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + (w / dataset.length - barPadding) / 2  + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * 4) + 14  - margin;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"white\\\");\\n*/\\n   // X \u8ef8\u306e\u751f\u6210\\n//   canvas.append(\\\"g\\\")\\n//         .attr(\\\"class\\\", \\\"axisBottom\\\")\\n//         .attr(\\\"transform\\\", \\\"translate(0,\\\" + (h - margin) + \\\")\\\")\\n//         .call(xAxis);\\n\\n   // Y \u8ef8\u306e\u751f\u6210\\n   canvas.append(\\\"g\\\")\\n         .attr(\\\"class\\\", \\\"axisLeft\\\")\\n         .attr(\\\"transform\\\", \\\"translate(\\\" + margin + \\\",0)\\\")\\n         .call(yAxis);\\n\\t\\t \\n\\t\\t \\n   var m =  0;\\n   var mh = 0;\\n   var mm = 0;\\n   var mt = 0;\\n   for(var i in op_a2){\\n\\t   if (m < Number(op_a2[i].AMBIENTTEMP)) {\\n\\t       m = Number(op_a2[i].AMBIENTTEMP);\\n\\t\\t   mh = op_a2[i].HOUR;\\n\\t\\t   mm = ( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 ) ;\\n\\t\\t   mt = op_a2[i].AMBIENTTEMP;\\n    //console.log(\\\"max found was \\\" + mh + \\\":\\\" + mm + \\\" \\\" + mt);\\n\\t   }\\n   }\\n\\n   m = mh + \\\":\\\" + mm;\\n\\n   window.onload = function onLoad() {\\n      var target1 = document.getElementById(\\\"output1\\\");\\n         target1.innerHTML = m;\\n      var target2 = document.getElementById(\\\"output2\\\");\\n         target2.innerHTML = mt;\\n\\t}\\n\\t\\n</script>\\n</head>\\n<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\t\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t\\t<h2>\u6700\u9ad8\u5024\u306e\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u6700\u9ad8\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span> \u2103\\n</div>\\n</body>\\n</html>\",\"x\":690,\"y\":420,\"wires\":[[\"5d901718.3c51f8\"]]},{\"id\":\"5d901718.3c51f8\",\"type\":\"http response\",\"z\":\"64589e61.60898\",\"name\":\"\",\"x\":850,\"y\":420,\"wires\":[]},{\"id\":\"422b2203.7d68e4\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"stringify\",\"func\":\"var m = JSON.stringify(msg.payload);\\nmsg.payload.op = m;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":520,\"y\":380,\"wires\":[[\"d1c0278d.5bf49\",\"fdd5ab25.ad1cd8\"]]},{\"id\":\"def4328.f99acd\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u5f85\u907f\",\"func\":\"msg.sensor = {\\n        \\\"accelX\\\": msg.payload.d.accelX,\\n        \\\"accelY\\\": msg.payload.d.accelY,\\n        \\\"accelZ\\\": msg.payload.d.accelZ,\\n        \\\"ambientTemp\\\": msg.payload.d.ambientTemp,\\n        \\\"gyroX\\\": msg.payload.d.gyroX,\\n        \\\"gyroY\\\": msg.payload.d.gyroY,\\n        \\\"gyroZ\\\": msg.payload.d.gyroZ,\\n        \\\"humidity\\\": msg.payload.d.humidity,\\n        \\\"light\\\": msg.payload.d.light,\\n        \\\"magX\\\": msg.payload.d.magX,\\n        \\\"magY\\\": msg.payload.d.magY,\\n        \\\"magZ\\\": msg.payload.d.magZ,\\n        \\\"objectTemp\\\": msg.payload.d.objectTemp,\\n};\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":530,\"y\":140,\"wires\":[[\"8bcc302e.8dbd58\"]]},{\"id\":\"ba9d26f1.6a516\",\"type\":\"debug\",\"z\":\"64589e61.60898\",\"name\":\"\u66f8\u304d\u8fbc\u307f\u30c7\u30fc\u30bf\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":740,\"y\":260,\"wires\":[]},{\"id\":\"838fa4c.eef7fd8\",\"type\":\"comment\",\"z\":\"64589e61.60898\",\"name\":\"DB\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\",\"info\":\"\",\"x\":150,\"y\":340,\"wires\":[]},{\"id\":\"ecfd037.e72c4\",\"type\":\"dashDB out\",\"z\":\"64589e61.60898\",\"service\":\"\",\"table\":\"SENSOR2DB\",\"name\":\"dashDB\u3078\u66f8\u304d\u8fbc\u307f\",\"x\":750,\"y\":220,\"wires\":[]},{\"id\":\"1f8c6452.0e2c14\",\"type\":\"dashDB in\",\"z\":\"64589e61.60898\",\"service\":\"\",\"query\":\"select hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%10)=0;\",\"params\":\"\",\"name\":\"dashDB\u304b\u3089\u8aad\u307f\u8fbc\u307f\",\"x\":320,\"y\":380,\"wires\":[[\"422b2203.7d68e4\"]]}]\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb\uff13\uff1a\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0\uff08CC2650)\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8aad\u307f\u51fa\u3057\u3066html\u3067\u8868\u793a\n\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u306f\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n1. \u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\n2. \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u76f4\u63a5\u66f8\u304d\u8fbc\u307f\u307e\u3059 \n3. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300dfunction\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\u5192\u982d\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u5024\u3092\u8abf\u6574\u3057\u307e\u3059\n4. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u7dd1\u8272\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u8aad\u307f\u51fa\u3059\u30ce\u30fc\u30c9\u306eSQL\u6587\u3092\u5909\u66f4\u3057\u3066\u3001\u8aad\u307f\u51fa\u3059\u30c7\u30fc\u30bf\u3092\u9078\u629e\u3057\u307e\u3059\n\n\nDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u9078\u629e\u3057\u3066\u8868\u793a\n[{\"id\":\"9b802212.ab298\",\"type\":\"inject\",\"z\":\"f2a0ab65.012a4\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":90,\"y\":220,\"wires\":[[]]},{\"id\":\"7fc9fcab.7ae5ac\",\"type\":\"inject\",\"z\":\"f2a0ab65.012a4\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":90,\"y\":260,\"wires\":[[]]},{\"id\":\"db213626.dc386\",\"type\":\"comment\",\"z\":\"f2a0ab65.012a4\",\"name\":\"IoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067DB\u3078\u66f8\u304d\u8fbc\u307f\",\"info\":\"\",\"x\":180,\"y\":80,\"wires\":[]},{\"id\":\"6e9b276c.ffdf2\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":281,\"y\":160,\"wires\":[[\"90078fcf.843928\"]]},{\"id\":\"1800effa.3c6348\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u8868\u3078\u66f8\u304d\u8fbc\u3080\",\"func\":\"msg.payload = \\n{ \\n\\tDATE : msg.date.date,\\n\\tDAY : msg.date.day,\\n\\tHOUR : msg.date.hour,\\n\\tMINUTE : msg.date.minute,\\n\\tMONTH : msg.date.month,\\n\\tSECOND : msg.date.second,\\n\\tYEAR : msg.date.year,\\n\\tACCELX : msg.sensor.accelX,\\n\\tACCELY : msg.sensor.accelY,\\n\\tACCELZ : msg.sensor.accelZ,\\n\\tAMBIENTTEMP : msg.sensor.ambientTemp,\\n\\tGYROX : msg.sensor.gyroX,\\n\\tGYROY : msg.sensor.gyroY,\\n\\tGYROZ : msg.sensor.gyroZ,\\n\\tHUMIDITY : msg.sensor.humidity,\\n\\tLIGHT : msg.sensor.light,\\n    MAGX : msg.sensor.magX,\\n\\tMAGY :msg.sensor.magY,\\n\\tMAGZ : msg.sensor.magZ,\\n\\tOBJECTTEMP : msg.sensor.objectTemp\\n};\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":500,\"y\":240,\"wires\":[[\"3eb9243.1b9d1dc\"]]},{\"id\":\"124f8c12.f03f4c\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"var sampling_min_interval = 1;\\nvar sampling_sec_interval = 60;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\n/*\\nvar sum = 0, average = 0;\\nvar sen1 = Math.floor(Math.random () * 10) + 1;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\nif ( !context.array ) {\\n    context.array = new Array (10); //\u76f4\u8fd1\uff11\uff10\u4ef6\u5206\u3092\u4fdd\u6301\\n}\\nvar shifted = context.array.shift();\\ncontext.array.push(sen1);           // \u6700\u65b0\u306e\u5024\u3092\u4fdd\u5b58\\nvar length = context.array.length;\\n\\nfor (k=0; k<length; k++) {\\n        sum = sum + context.array[k];   // \u5408\u8a08\u3092\u7b97\u51fa\\n}\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\naverage = sum / length;\\nvar data = [[time],[sen1],[average]];\\nmsg.sensor.average = average;\\n*/\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\nif ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":290,\"y\":240,\"wires\":[[\"1800effa.3c6348\"]]},{\"id\":\"f6b0debb.082e48\",\"type\":\"ibmiot in\",\"z\":\"f2a0ab65.012a4\",\"authentication\":\"quickstart\",\"apiKey\":\"\",\"inputType\":\"evt\",\"deviceId\":\"\",\"applicationId\":\"\",\"deviceType\":\"+\",\"eventType\":\"+\",\"commandType\":\"\",\"format\":\"json\",\"name\":\"IBM IoT\",\"service\":\"quickstart\",\"allDevices\":\"\",\"allApplications\":\"\",\"allDeviceTypes\":true,\"allEvents\":true,\"allCommands\":\"\",\"allFormats\":\"\",\"qos\":0,\"x\":70,\"y\":160,\"wires\":[[\"6e9b276c.ffdf2\"]]},{\"id\":\"e99b18e9.c62eb8\",\"type\":\"http in\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\",\"url\":\"/test34\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":90,\"y\":400,\"wires\":[[\"92cc3f19.ad62b8\"]]},{\"id\":\"cdf0fddf.c45b08\",\"type\":\"debug\",\"z\":\"f2a0ab65.012a4\",\"name\":\"op\",\"active\":true,\"console\":\"false\",\"complete\":\"payload.op\",\"x\":750,\"y\":440,\"wires\":[]},{\"id\":\"7002bbf9.47486c\",\"type\":\"template\",\"z\":\"f2a0ab65.012a4\",\"name\":\"html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n   <meta charset=\\\"utf-8\\\">\\n   <title>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n      <script src=\\\"https://d3js.org/d3.v4.min.js\\\"></script>\\n\\n   <style type=\\\"text/css\\\">\\n         /* \u3053\u3053\u306b\u30b9\u30bf\u30a4\u30eb\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059 */\\n      .axis path,\\n      .axis line {\\n         fill: none;\\n         stroke: black;\\n         shape-rendering: crispEdges;\\n      }\\n      .axis text {\\n         font-family: sans-serif;\\n         font-size: 11px;\\n      }\\n   </style>\\n\\n   <div id=\\\"op\\\" foo={{payload.op}}/>\\n\\n<script type=\\\"text/javascript\\\">\\n\\nvar op_a = document.getElementById( 'op' ).getAttribute( 'foo' );\\t//\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\\nop_a = op_a.substr( 0, op_a.length-1 ) ;\\t//\u672b\u5c3e\u306e\\\"/\\\"\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\\nvar op_a2 = JSON.parse(op_a);\\t//JSON\u6587\u5b57\u5217\u304b\u3089javascript\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5fa9\u5143\\n\\nvar op_a3 = new Array();\\nfor(var i in op_a2){\\n\\top_a3.push(op_a2[i].AMBIENTTEMP);\\t//AMBIENTTEMP\u3092\u53d6\u308a\u51fa\u3057\u3066\u914d\u5217op_a3\u306b\u9806\u6b21\u683c\u7d0d\\n}\\n\\nvar op_a5 = new Array();\\nfor(var i in op_a2){\\n\\top_a5.push(op_a2[i].HOUR + \\\":\\\" + (( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 )));\\n}\\n\\n   // \u5e45\uff08 Width \uff09\u3068\u9ad8\u3055\uff08 height \uff09\\n   var w = 800;\\n   var h = 300;\\n   var zoom =5;\\n   var barPadding = 1;  // \u68d2\u30b0\u30e9\u30d5\u306e\u68d2\u3068\u68d2\u306e\u9593\u9694\\n   var margin = 30;     // \u30b0\u30e9\u30d5\u8868\u793a\u57df\u306e\u307e\u308f\u308a\u306e\u4f59\u767d\\n   \\n   var dataset = op_a3;\\n   var datasetT = op_a5;\\n   \\n   // \u30b9\u30b1\u30fc\u30eb\u95a2\u6570\u306e\u751f\u6210\\n   var xScale = d3.scaleLinear()\\n         .domain([0, d3.max(dataset, function(d) { return d; })])\\n         .range([margin, w + margin * 2]);\\n\\n   var yScale = d3.scaleLinear()\\n            .domain([0, (h-margin) / zoom]) // Y\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u3092\u68d2\u30b0\u30e9\u30d5\u3068\u4e00\u81f4\u3055\u305b\u308b\\n            .range([h-margin, 0]);\u3000\u3000\u3000\u3000// Y\u8ef8\u8868\u793a\u5834\u6240\\n\\n   // X \u8ef8\u306e\u5b9a\u7fa9\\n   var xAxis = d3.axisBottom()\\n        .scale(xScale);\\n\\n   // Y \u8ef8\u306e\u5b9a\u7fa9\\n   var yAxis = d3.axisLeft(yScale);\\n   \\n   // SVG \u8981\u7d20\u306e\u751f\u6210\\n   var canvas = d3.select(\\\"body\\\")\\n         .append(\\\"svg\\\")\\n         .attr(\\\"width\\\", w)\\n         .attr(\\\"height\\\", h);\\n\\n   canvas.selectAll(\\\"rect\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"rect\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * zoom) - margin;\\n         })\\n         .attr(\\\"width\\\", (w-margin) / dataset.length - barPadding)\\n         .attr(\\\"height\\\", function(d) {\\n            return d * zoom;\\n         })\\n         .attr(\\\"fill\\\", function(d) {\\n//            return \\\"rgb(0, 0, \\\" + ( ( (d-20) * 10 ) + 100 ) + \\\")\\\";\\n            return \\\"rgb(0, 51, 255)\\\";\\n                     });\\n\\t\\t \\n   canvas.selectAll(\\\"text\\\")\\n         .data(datasetT)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n          .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin + ((w-margin) / dataset.length - barPadding ) / 2;\\n         })\\n        .attr(\\\"y\\\", function(d) {\\n            return h;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"black\\\");\\n\\n/*    canvas.selectAll(\\\"text\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + (w / dataset.length - barPadding) / 2  + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * 4) + 14  - margin;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"white\\\");\\n*/\\n   // X \u8ef8\u306e\u751f\u6210\\n//   canvas.append(\\\"g\\\")\\n//         .attr(\\\"class\\\", \\\"axisBottom\\\")\\n//         .attr(\\\"transform\\\", \\\"translate(0,\\\" + (h - margin) + \\\")\\\")\\n//         .call(xAxis);\\n\\n   // Y \u8ef8\u306e\u751f\u6210\\n   canvas.append(\\\"g\\\")\\n         .attr(\\\"class\\\", \\\"axisLeft\\\")\\n         .attr(\\\"transform\\\", \\\"translate(\\\" + margin + \\\",0)\\\")\\n         .call(yAxis);\\n\\t\\t \\n\\t\\t \\n   var m =  0;\\n   var mh = 0;\\n   var mm = 0;\\n   var mt = 0;\\n   for(var i in op_a2){\\n\\t   if (m < Number(op_a2[i].AMBIENTTEMP)) {\\n\\t       m = Number(op_a2[i].AMBIENTTEMP);\\n\\t\\t   mh = op_a2[i].HOUR;\\n\\t\\t   mm = ( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 ) ;\\n\\t\\t   mt = op_a2[i].AMBIENTTEMP;\\n    //console.log(\\\"max found was \\\" + mh + \\\":\\\" + mm + \\\" \\\" + mt);\\n\\t   }\\n   }\\n\\n   m = mh + \\\":\\\" + mm;\\n\\n   window.onload = function onLoad() {\\n      var target1 = document.getElementById(\\\"output1\\\");\\n         target1.innerHTML = m;\\n      var target2 = document.getElementById(\\\"output2\\\");\\n         target2.innerHTML = mt;\\n\\t}\\n\\t\\n</script>\\n</head>\\n<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\t\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t\\t<h2>\u6700\u9ad8\u5024\u306e\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u6700\u9ad8\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span> \u2103\\n</div>\\n</body>\\n</html>\",\"x\":770,\"y\":400,\"wires\":[[\"928a0ea8.cbdab\"]]},{\"id\":\"928a0ea8.cbdab\",\"type\":\"http response\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\",\"x\":910,\"y\":400,\"wires\":[]},{\"id\":\"43a2beab.5938e8\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"stringify\",\"func\":\"var m = JSON.stringify(msg.payload);\\nmsg.payload.op = m;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":600,\"y\":400,\"wires\":[[\"7002bbf9.47486c\",\"cdf0fddf.c45b08\"]]},{\"id\":\"6953c1c.cf749c\",\"type\":\"dashDB in\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"query\":\"select hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%10)=0;\",\"params\":\"\",\"name\":\"dashDB\u304b\u3089\u8aad\u307f\u8fbc\u307f\",\"x\":300,\"y\":400,\"wires\":[[]]},{\"id\":\"90078fcf.843928\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u5f85\u907f\",\"func\":\"msg.sensor = {\\n        \\\"accelX\\\": msg.payload.d.accelX,\\n        \\\"accelY\\\": msg.payload.d.accelY,\\n        \\\"accelZ\\\": msg.payload.d.accelZ,\\n        \\\"ambientTemp\\\": msg.payload.d.ambientTemp,\\n        \\\"gyroX\\\": msg.payload.d.gyroX,\\n        \\\"gyroY\\\": msg.payload.d.gyroY,\\n        \\\"gyroZ\\\": msg.payload.d.gyroZ,\\n        \\\"humidity\\\": msg.payload.d.humidity,\\n        \\\"light\\\": msg.payload.d.light,\\n        \\\"magX\\\": msg.payload.d.magX,\\n        \\\"magY\\\": msg.payload.d.magY,\\n        \\\"magZ\\\": msg.payload.d.magZ,\\n        \\\"objectTemp\\\": msg.payload.d.objectTemp,\\n};\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":510,\"y\":160,\"wires\":[[\"124f8c12.f03f4c\"]]},{\"id\":\"7d0b0217.a388b4\",\"type\":\"dashDB out\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"table\":\"SENSOR2DB\",\"name\":\"dashDB\u3078\u66f8\u304d\u8fbc\u307f\",\"x\":730,\"y\":240,\"wires\":[]},{\"id\":\"3eb9243.1b9d1dc\",\"type\":\"debug\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u66f8\u304d\u8fbc\u307f\u30c7\u30fc\u30bf\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":720,\"y\":280,\"wires\":[]},{\"id\":\"92cc3f19.ad62b8\",\"type\":\"dashDB in\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"query\":\"select hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%30)=0 and day=29;\",\"params\":\"\",\"name\":\"30\u5206\u6bce\u306e\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\",\"x\":320,\"y\":440,\"wires\":[[\"43a2beab.5938e8\"]]},{\"id\":\"b0c6261f.e2346\",\"type\":\"dashDB in\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"query\":\"select hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%60)=0;\",\"params\":\"\",\"name\":\"\u4e00\u6642\u9593\u6bce\u306e\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\",\"x\":320,\"y\":480,\"wires\":[[]]},{\"id\":\"f15821f9.e9ba7\",\"type\":\"dashDB in\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"query\":\"select month,day,hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%15)=0 and day=29 and hour<20;\",\"params\":\"\",\"name\":\"30\u5206\u6bce\u306e\u65e5\u4ed8\u3082\u542b\u3081\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\",\"x\":350,\"y\":560,\"wires\":[[\"4fa21c30.4eadd4\"]]},{\"id\":\"4fa21c30.4eadd4\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"stringify\",\"func\":\"var m = JSON.stringify(msg.payload);\\nmsg.payload.op = m;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":600,\"y\":560,\"wires\":[[\"5e1ab7c3.c3f428\"]]},{\"id\":\"5e1ab7c3.c3f428\",\"type\":\"template\",\"z\":\"f2a0ab65.012a4\",\"name\":\"html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n   <meta charset=\\\"utf-8\\\">\\n   <title>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n      <script src=\\\"https://d3js.org/d3.v4.min.js\\\"></script>\\n\\n   <style type=\\\"text/css\\\">\\n         /* \u3053\u3053\u306b\u30b9\u30bf\u30a4\u30eb\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059 */\\n      .axis path,\\n      .axis line {\\n         fill: none;\\n         stroke: black;\\n         shape-rendering: crispEdges;\\n      }\\n      .axis text {\\n         font-family: sans-serif;\\n         font-size: 11px;\\n      }\\n   </style>\\n\\n   <div id=\\\"op\\\" foo={{payload.op}}/>\\n\\n<script type=\\\"text/javascript\\\">\\n\\nvar op_a = document.getElementById( 'op' ).getAttribute( 'foo' );\\t//\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\\nop_a = op_a.substr( 0, op_a.length-1 ) ;\\t//\u672b\u5c3e\u306e\\\"/\\\"\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\\nvar op_a2 = JSON.parse(op_a);\\t//JSON\u6587\u5b57\u5217\u304b\u3089javascript\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5fa9\u5143\\n\\nvar op_a3 = new Array();\\nfor(var i in op_a2){\\n\\top_a3.push(op_a2[i].AMBIENTTEMP);\\t//AMBIENTTEMP\u3092\u53d6\u308a\u51fa\u3057\u3066\u914d\u5217op_a3\u306b\u9806\u6b21\u683c\u7d0d\\n}\\n\\nvar op_a5 = new Array();\\nfor(var i in op_a2){\\n\\top_a5.push(op_a2[i].HOUR + \\\":\\\" + (( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 )));\\n}\\n\\n   // \u5e45\uff08 Width \uff09\u3068\u9ad8\u3055\uff08 height \uff09\\n   var w = 800;\\n   var h = 300;\\n   var zoom =5;\\n   var barPadding = 1;  // \u68d2\u30b0\u30e9\u30d5\u306e\u68d2\u3068\u68d2\u306e\u9593\u9694\\n   var margin = 30;     // \u30b0\u30e9\u30d5\u8868\u793a\u57df\u306e\u307e\u308f\u308a\u306e\u4f59\u767d\\n   \\n   var dataset = op_a3;\\n   var datasetT = op_a5;\\n   \\n   // \u30b9\u30b1\u30fc\u30eb\u95a2\u6570\u306e\u751f\u6210\\n   var xScale = d3.scaleLinear()\\n         .domain([0, d3.max(dataset, function(d) { return d; })])\\n         .range([margin, w + margin * 2]);\\n\\n   var yScale = d3.scaleLinear()\\n            .domain([0, (h-margin) / zoom]) // Y\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u3092\u68d2\u30b0\u30e9\u30d5\u3068\u4e00\u81f4\u3055\u305b\u308b\\n            .range([h-margin, 0]);\u3000\u3000\u3000\u3000// Y\u8ef8\u8868\u793a\u5834\u6240\\n\\n   // X \u8ef8\u306e\u5b9a\u7fa9\\n   var xAxis = d3.axisBottom()\\n        .scale(xScale);\\n\\n   // Y \u8ef8\u306e\u5b9a\u7fa9\\n   var yAxis = d3.axisLeft(yScale);\\n   \\n   // SVG \u8981\u7d20\u306e\u751f\u6210\\n   var canvas = d3.select(\\\"body\\\")\\n         .append(\\\"svg\\\")\\n         .attr(\\\"width\\\", w)\\n         .attr(\\\"height\\\", h);\\n\\n   canvas.selectAll(\\\"rect\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"rect\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * zoom) - margin;\\n         })\\n         .attr(\\\"width\\\", (w-margin) / dataset.length - barPadding)\\n         .attr(\\\"height\\\", function(d) {\\n            return d * zoom;\\n         })\\n         .attr(\\\"fill\\\", function(d) {\\n//            return \\\"rgb(0, 0, \\\" + ( ( (d-20) * 10 ) + 100 ) + \\\")\\\";\\n            return \\\"rgb(0, 51, 255)\\\";\\n                     });\\n\\t\\t \\n   canvas.selectAll(\\\"text\\\")\\n         .data(datasetT)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n          .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin + ((w-margin) / dataset.length - barPadding ) / 2;\\n         })\\n        .attr(\\\"y\\\", function(d) {\\n            return h;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"black\\\");\\n\\n/*    canvas.selectAll(\\\"text\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + (w / dataset.length - barPadding) / 2  + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * 4) + 14  - margin;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"white\\\");\\n*/\\n   // X \u8ef8\u306e\u751f\u6210\\n//   canvas.append(\\\"g\\\")\\n//         .attr(\\\"class\\\", \\\"axisBottom\\\")\\n//         .attr(\\\"transform\\\", \\\"translate(0,\\\" + (h - margin) + \\\")\\\")\\n//         .call(xAxis);\\n\\n   // Y \u8ef8\u306e\u751f\u6210\\n   canvas.append(\\\"g\\\")\\n         .attr(\\\"class\\\", \\\"axisLeft\\\")\\n         .attr(\\\"transform\\\", \\\"translate(\\\" + margin + \\\",0)\\\")\\n         .call(yAxis);\\n\\t\\t \\n\\t\\t \\n   var m =  0;\\n   var mh = 0;\\n   var mm = 0;\\n   var mt = 0;\\n   var month = 0;\\n   var day = 0;\\n   for(var i in op_a2){\\n\\t   if (m < Number(op_a2[i].AMBIENTTEMP)) {\\n\\t       m = Number(op_a2[i].AMBIENTTEMP);\\n\\t\\t   month = op_a2[i].MONTH;\\n\\t\\t   day = op_a2[i].DAY; \\n\\t\\t   mh = op_a2[i].HOUR;\\n\\t\\t   mm = ( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 ) ;\\n\\t\\t   mt = op_a2[i].AMBIENTTEMP;\\n    //console.log(\\\"max found was \\\" + mh + \\\":\\\" + mm + \\\" \\\" + mt);\\n\\t   }\\n   }\\n\\n   m = mh + \\\":\\\" + mm;\\n\\n   window.onload = function onLoad() {\\n      var target1 = document.getElementById(\\\"output1\\\");\\n         target1.innerHTML = m;\\n      var target2 = document.getElementById(\\\"output2\\\");\\n         target2.innerHTML = mt;\\n\\n\\t  var target3 = document.getElementById(\\\"output3\\\");\\n         target3.innerHTML = month;\\n      var target4 = document.getElementById(\\\"output4\\\");\\n         target4.innerHTML = day;\\n\\t}\\n\\t\\n</script>\\n</head>\\n<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\t\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t\\t<h2>\u65e5\u4ed8</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span> \u6708\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span> \u65e5\\n\\t\\t<h2>\u6700\u9ad8\u5024\u306e\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u6700\u9ad8\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span> \u2103\\n</div>\\n</body>\\n</html>\",\"x\":770,\"y\":560,\"wires\":[[\"3609e22b.58e26e\"]]},{\"id\":\"3609e22b.58e26e\",\"type\":\"http response\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\",\"x\":910,\"y\":560,\"wires\":[]},{\"id\":\"77f5b038.8b8ce8\",\"type\":\"http in\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\",\"url\":\"/test35\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":90,\"y\":560,\"wires\":[[\"f15821f9.e9ba7\"]]},{\"id\":\"24c5f10a.912c06\",\"type\":\"comment\",\"z\":\"f2a0ab65.012a4\",\"name\":\"DB\u304b\u3089\u8aad\u307f\u51fa\u3057\u305f\u30c7\u30fc\u30bf\u3092html\u3067\u8868\u793a\",\"info\":\"\",\"x\":170,\"y\":360,\"wires\":[]}]\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb\uff14\uff1aAlpS Smart IoT Module\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8aad\u307f\u51fa\u3057\u3066html\u3067\u8868\u793a\n\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u306fAlps Smart IoT Module\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n1. Alps Smart IoT Module\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\n2. \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u76f4\u63a5\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306fALPSIOT\u3068\u3044\u3046\u8868\u3078\u66f8\u304d\u8fbc\u3093\u3067\u3044\u307e\u3059 \n3. 2\u3064\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306eTemplate\u30ce\u30fc\u30c9\u3092\u958b\u304d\u300c\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d\u300d\u90e8\u5206\u3092\u305d\u308c\u305e\u308c\u306eNode-RED\u30a2\u30d7\u30ea\u540d\u306b\u4e00\u81f4\u3055\u305b\u307e\u3059\n4. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300dfunction\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\u5192\u982d\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u5024\u3092\u8abf\u6574\u3057\u307e\u3059\n5. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u7dd1\u8272\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u8aad\u307f\u51fa\u3059\u30ce\u30fc\u30c9\u306eSQL\u6587\u3092\u5909\u66f4\u3057\u3066\u3001\u8aad\u307f\u51fa\u3059\u30c7\u30fc\u30bf\u3092\u9078\u629e\u3057\u307e\u3059\n\n\n\nDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u9078\u629e\u3057\u3066\u8868\u793a\n[{\"id\":\"f65c24c1.63c7b8\",\"type\":\"http in\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"url\":\"/test54a\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":110,\"y\":100,\"wires\":[[\"53dec3e1.f5c2dc\"]]},{\"id\":\"6b45354f.4e0f2c\",\"type\":\"http response\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"x\":490,\"y\":100,\"wires\":[]},{\"id\":\"53dec3e1.f5c2dc\",\"type\":\"template\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\u5165\u529b\u7528test54a\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n<head>\\n  <title>IoT Quick Dashboard</title>\\n  <meta charset=\\\"utf-8\\\" />\\n  <style type=\\\"text/css\\\">\\n  #basic {\\n  }\\n\\n  .a1 {\\n    background-color:  #98d98e;\\n    height: 120px;\\n    padding: 20px;\\n  }\\n  .b1 {\\n    background-color:  #cee4ae;\\n    height: 500px;\\n    text-align:left;\\n    font-size: 18pt;\\n    padding: 20px;\\n    font-family: Meiryo;\\n  }\\n  .y1 {\\n    background-color: #e4dc8a;\\n    height: 250px;\\n  }\\n  .z1 {\\n    height: 25px;\\n    background-color: #8f8667;\\n    font-size: 18px;\\n    text-align: center;\\n  }\\n\\n  </style>\\n</head>\\n<body>\\n  <div id='basic'>\\n    <div class='a1'>\\n      <h2>IoT Quick Dashboard</h2><br>\\n      \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\\n    </div>\\n    <div class='b1'>\\n      <b>\u5165\u529b\uff01</b>\\n      <P>\u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</P>\\n      <form action=\\\"http://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/test55a\\\" method=\\\"get\\\">\\n        <select name=\\\"machine\\\" style=\\\"font-size:24px\\\">\\n          <option>ALPSIOT</option>\\n          <option>ALPSIOT2</option>\\n        </select><br><br>\\n        \u3053\u306e\u65e5\u6642\u304b\u3089 <input type=\\\"datetime-local\\\" name=\\\"starttime\\\" value=\\\"2014-01-21T10:00\\\" step=\\\"60\\\"  style=\\\"font-size:18px\\\"><br>\\n        \u3053\u306e\u65e5\u6642\u307e\u3067  <input type=\\\"datetime-local\\\" name=\\\"endtime\\\" value=\\\"2014-01-21T16:00\\\" step=\\\"60\\\"  style=\\\"font-size:18px \\\"><br><br>\\n        <button type=\\\"submit\\\" name=\\\"submit\\\" value=\\\"\u9001\u4fe1\\\">\\n          <font size=\\\"2\\\">\u8868\u793a\u8981\u6c42\u3092</font><font size=\\\"5\\\" color=\\\"red\\\">\u9001\u4fe1\uff01</font>\\n        </button>\\n        <INPUT type=\\\"reset\\\" value=\\\"\u30ea\u30bb\u30c3\u30c8\\\"><BR><BR>\\n        </FORM>\\n      </div>\\n      <div class=\\\"y1\\\">\\n        \u53c2\u8003URL\\n        <ul>\\n          <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n          <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n          <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n        </ul>\\n        \u30de\u30cb\u30e5\u30a2\u30eb\\n        <ul>\\n          <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n          <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n          <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n        </ul>\\n      </div>\\n      <div class=\\\"z1\\\">\\n        copyright (c) abc.com All right reserved.\\n      </div>\\n    </div>\\n  </body>\\n  </html>\\n\",\"x\":300,\"y\":100,\"wires\":[[\"6b45354f.4e0f2c\"]]},{\"id\":\"3f28fb34.21ad8c\",\"type\":\"http in\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"url\":\"/test55a\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":110,\"y\":200,\"wires\":[[\"c95233b9.8ea46\"]]},{\"id\":\"fa420c3e.f2347\",\"type\":\"comment\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"DB\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u8868\u793a\",\"info\":\"\",\"x\":120,\"y\":160,\"wires\":[]},{\"id\":\"239ed8cc.23c82\",\"type\":\"comment\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\u8868\u793a\u3059\u308b\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\",\"info\":\"\",\"x\":130,\"y\":60,\"wires\":[]},{\"id\":\"c95233b9.8ea46\",\"type\":\"function\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\u6642\u9593\u3092\u53d6\u5f97\",\"func\":\"msg.tgt = msg.payload.tgt;\\n\\nvar arr1 = msg.payload.starttime.split(/[T]/);\\nmsg.starttime = arr1[0] + \\\" \\\" + arr1[1] + \\\":00\\\";\\n\\nvar arr2 = msg.payload.endtime.split(/[T]/);\\nmsg.endtime = arr2[0] + \\\" \\\" + arr2[1] + \\\":00\\\";\\n\\n//msg.newstarttime = parseInt ( Date(msg.startime) );\\n//msg.newendtime = parseInt ( Date(msg.endime)  );\\n\\n\\nvar st = msg.startime;\\n\\nmsg.newstarttime = Date.parse(st);\\n\\n//var st_parse = st.replace(/-/g, '/');\\n//msg.newstarttime = Date.parse(st_parse);\\n\\n//msg.newstarttime = Date.parse( st.datetime.replace( /-/g, '/') ) / 1000;\\n//msg.newstarttime = Date.parse( st ) / 1000;\\n\\n//var et = msg.endime;\\nvar st_parse = msg.starttime.replace(/-/g, '/');\\nmsg.newstarttime = Date.parse(st_parse) / 1000;\\n\\nvar et_parse = msg.endtime.replace(/-/g, '/');\\nmsg.newendtime = Date.parse(et_parse) / 1000;\\n\\n//msg.newendtime = Date.parse( et.replace( /-/g, '/') ) / 1000;\\n//msg.newendtime = Date.parse( et ) / 1000;\\n\\n//var ts = \\\"2011-10-14 00:00:00\\\";\\n//print( Date.parse( ts.replace( /-/g, '/') ) / 1000 );\\n\\n\\nmsg.machine = msg.payload.machine;\\n\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":270,\"y\":200,\"wires\":[[\"91c4ec0d.755b68\"]]},{\"id\":\"4c2f7051.8ad29\",\"type\":\"function\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\u7d50\u679c\u3092\u30bb\u30c3\u30c8\",\"func\":\"\\nvar i = 0;\\nvar len = msg.payload.length;\\nvar arr01 = new Array(); var arr02 = new Array(); var arr03 = new Array(); var arr04 = new Array();\\nvar arr05 = new Array(); var arr06 = new Array(); var arr07 = new Array(); var arr08 = new Array();\\nvar arr09 = new Array(); var arr10 = new Array(); var arr11 = new Array(); var arr12 = new Array();\\nvar arr13 = new Array();\\n\\nfor (i; i < len; i++) {\\n    //var c1 = msg.payload[i]['DATE'];\\n    var c1 = i;\\n    arr01.push([c1,parseFloat(msg.payload[i]['DATE'])]);\\n    arr02.push([c1,parseFloat(msg.payload[i]['HOUR'])]);\\n    arr03.push([c1,parseFloat(msg.payload[i]['MINUTE'])]);\\n    arr04.push([c1,parseFloat(msg.payload[i]['ACCELX'])]);\\n    arr05.push([c1,parseFloat(msg.payload[i]['ACCELY'])]);\\n    arr06.push([c1,parseFloat(msg.payload[i]['ACCELZ'])]);\\n    arr07.push([c1,parseFloat(msg.payload[i]['AMBIENTLIGHT'])]);\\n    arr08.push([c1,parseFloat(msg.payload[i]['GEOMAGNETICX'])]);\\n    arr09.push([c1,parseFloat(msg.payload[i]['GEOMAGNETICY'])]);\\n    arr10.push([c1,parseFloat(msg.payload[i]['GEOMAGNETICZ'])]);\\n    arr11.push([c1,parseFloat(msg.payload[i]['HUMIDITY'])]);\\n    arr12.push([c1,parseFloat(msg.payload[i]['PRESSURE'])]);\\n    arr13.push([c1,parseFloat(msg.payload[i]['UV'])]);\\n}\\n\\nmsg.payload.r01 = JSON.stringify(arr01);\\nmsg.payload.r02 = JSON.stringify(arr02);\\nmsg.payload.r03 = JSON.stringify(arr03);\\nmsg.payload.r04 = JSON.stringify(arr04);\\nmsg.payload.r05 = JSON.stringify(arr05);\\nmsg.payload.r06 = JSON.stringify(arr06);\\nmsg.payload.r07 = JSON.stringify(arr07);\\nmsg.payload.r08 = JSON.stringify(arr08);\\nmsg.payload.r09 = JSON.stringify(arr09);\\nmsg.payload.r10 = JSON.stringify(arr10);\\nmsg.payload.r11 = JSON.stringify(arr11);\\nmsg.payload.r12 = JSON.stringify(arr12);\\nmsg.payload.r13 = JSON.stringify(arr13);\\n\\n/*\\nmsg.payload = JSON.stringify(arr01) + \\\"&\\\" + JSON.stringify(arr02) + \\\"&\\\" + JSON.stringify(arr03) + \\\"&\\\" + JSON.stringify(arr04) +\\n              JSON.stringify(arr05) + \\\"&\\\" + JSON.stringify(arr06) + \\\"&\\\" + JSON.stringify(arr07) + \\\"&\\\" + JSON.stringify(arr08) +\\n              JSON.stringify(arr09) + \\\"&\\\" + JSON.stringify(arr10) + \\\"&\\\" + JSON.stringify(arr11) + \\\"&\\\" + JSON.stringify(arr12) +\\n              JSON.stringify(arr13);\\n*/\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":580,\"y\":200,\"wires\":[[\"a1b765cf.fdbfa\"]]},{\"id\":\"a1b765cf.fdbfa\",\"type\":\"template\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"test55a.html\u8fd4\u5374\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>IoT Quick Dashboard</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n<script type=\\\"text/javascript\\\" src=\\\"https://www.google.com/jsapi\\\"></script>\\n<script type=\\\"test/javascript\\\" src=\\\"https://www.gstatic.com/charts/loader.js\\\"></script>\\n\\n\\n<style type=\\\"text/css\\\">\\n#basic {\\n}\\n\\n.a1 {\\n  background-color:  #98d98e;\\n  height: 120px;\\n  padding: 20px;\\n}\\n.c1 {\\n  background-color:  #cee4ae;\\n  height: 500px;\\n  text-align:left;\\n  font-size: 18pt;\\n  padding: 20px;\\n  font-family: Meiryo;\\n}\\n\\n#d1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #c1d8ac;\\n}\\n#d2 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #b9d08b;\\n}\\n#d3 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #badcad;\\n}\\n\\n#e1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #c1d8ac;\\n}\\n#e2 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #b9d08b;\\n}\\n#e3 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #badcad;\\n}\\n\\n#f1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #c1d8ac;\\n}\\n#f2 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #b9d08b;\\n}\\n#f3 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #badcad;\\n}\\n\\n#g1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #c1d8ac;\\n}\\n#g2 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #b9d08b;\\n}\\n#g3 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #badcad;\\n}\\n\\n.h1 {\\n  clear: both;\\n  height: 100px;\\n  padding-left: 20px;\\n  background-color:  #c1d8ac;\\n}\\n.j1 {\\n  height: 100px;\\n  padding-left: 20px;\\n  background-color:  #98d98e;\\n}\\n\\n.y1 {\\n  background-color: #e4dc8a;\\n  padding-left: 10px;\\n  height: 250px;\\n}\\n.z1 {\\n  height: 25px;\\n  background-color: #8f8667;\\n  font-size: 18px;\\n  text-align: center;\\n}\\n\\n</style>\\n\u3000</head>\\n\u3000<body>\\n\\n  <div id='basic'>\\n\\n    <div class='a1'>\\n      <h2>IoT Quick Dashboard</h2><br>\\n        \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\\n    </div>\\n\\n    <div class='c1'>\\n    <b>\u5165\u529b\uff01</b>\\n      <P>\u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</P>\\n      <form action=\\\"http://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/test55a\\\" method=\\\"get\\\">\\n        <select name=\\\"machine\\\" style=\\\"font-size:24px\\\">\\n            <option>ALPSIOT</option>\\n            <option>ALPSIOT2</option>\\n        </select><br><br>\\n\\n          \u3053\u306e\u65e5\u6642\u304b\u3089 <input type=\\\"datetime-local\\\" name=\\\"starttime\\\" value=\\\"2017-01-16T10:00\\\" step=\\\"60\\\"  style=\\\"font-size:18px\\\"><br>\\n          \u3053\u306e\u65e5\u6642\u307e\u3067  <input type=\\\"datetime-local\\\" name=\\\"endtime\\\" value=\\\"2017-01-16T16:00\\\" step=\\\"60\\\"  style=\\\"font-size:18px \\\"><br><br>\\n      <button type=\\\"submit\\\" name=\\\"submit\\\" value=\\\"\u9001\u4fe1\\\">\\n      <font size=\\\"2\\\">\u8868\u793a\u8981\u6c42\u3092</font><font size=\\\"5\\\" color=\\\"red\\\">\u9001\u4fe1\uff01</font>\\n      </button>\\n      <INPUT type=\\\"reset\\\" value=\\\"\u30ea\u30bb\u30c3\u30c8\\\"><BR><BR>\\n      </FORM>\\n\\n    </div>\\n\\n    <div id='d1' align=\\\"center\\\">\\n      d1\\n    </div>\\n    <div id='d2' align=\\\"center\\\">\\n      d2\\n    </div>\\n    <div id='d3' align=\\\"center\\\">\\n      d3\\n    </div>\\n\\n    <div id='e1' align=\\\"center\\\">\\n      e1\\n    </div>\\n    <div id='e2' align=\\\"center\\\">\\n      e2\\n    </div>\\n    <div id='e3' align=\\\"center\\\">\\n      e3\\n    </div>\\n\\n    <div id='f1' align=\\\"center\\\">\\n      f1\\n    </div>\\n    <div id='f2' align=\\\"center\\\">\\n      f2\\n    </div>\\n    <div id='f3' align=\\\"center\\\">\\n      f3\\n    </div>\\n\\n    <div id='g1' align=\\\"center\\\">\\n      g1\\n    </div>\\n    <div id='g2' align=\\\"center\\\">\\n      g2\\n    </div>\\n    <div id='g3' align=\\\"center\\\">\\n      g3\\n    </div>\\n\\n    <div class='h1' align=\\\"left\\\">\\n      <h3>\u30a2\u30e9\u30fc\u30c8</h3>\\n    </div>\\n    <div class='j1' align=\\\"center\\\">\\n\\n    </div>\\n\\n<div class=\\\"y1\\\">\\n  \u53c2\u8003URL\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  \u30de\u30cb\u30e5\u30a2\u30eb\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n</div>\\n\\n<div class=\\\"z1\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n</div>\\n\\n\\n<script>\\n\\ngoogle.load(\\\"visualization\\\", \\\"1\\\", {packages:[\\\"corechart\\\"]});\\ngoogle.setOnLoadCallback(drawChart02);\\n\\nfunction drawChart02() {\\n  d1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u7167\u5ea6\\\"],[439,7.0007]] );\\n  d1ChartData.removeRow(0);\\n  d1ChartData.addRows( {{{ payload.r07 }}} );\\n  d1ChartOptions = { title: '\u7167\u5ea6',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  d1Chart = new google.visualization.LineChart(document.getElementById('d1'));\\n  d1Chart.draw(d1ChartData, d1ChartOptions);\\n\\n  d2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u6c17\u5727\\\"],[439,7.0007]] );\\n  d2ChartData.removeRow(0);\\n  d2ChartData.addRows( {{{ payload.r12 }}} );\\n  d2ChartOptions = { title: '\u6c17\u5727',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  d2Chart = new google.visualization.LineChart(document.getElementById('d2'));\\n  d2Chart.draw(d2ChartData, d2ChartOptions);\\n\\n  d3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"UV\u5024\\\"],[439,7.0007]] );\\n  d3ChartData.removeRow(0);\\n  d3ChartData.addRows( {{{ payload.r13 }}} );\\n  d3ChartOptions = {\u3000title: 'UV\u5024',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  d3Chart = new google.visualization.LineChart(document.getElementById('d3'));\\n  d3Chart.draw(d3ChartData, d3ChartOptions);\\n\\n  e1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u52a0\u901f\u5ea6(X\u8ef8)\\\"],[439,7.0007]] );\\n  e1ChartData.removeRow(0);\\n  e1ChartData.addRows( {{{ payload.r04 }}} );\\n  e1ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(X\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  e1Chart = new google.visualization.LineChart(document.getElementById('e1'));\\n  e1Chart.draw(e1ChartData, e1ChartOptions);\\n\\n  e2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u52a0\u901f\u5ea6(Y\u8ef8)\\\"],[439,7.0007]] );\\n  e2ChartData.removeRow(0);\\n  e2ChartData.addRows( {{{ payload.r05 }}} );\\n  e2ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Y\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  e2Chart = new google.visualization.LineChart(document.getElementById('e2'));\\n  e2Chart.draw(e2ChartData, e2ChartOptions);\\n\\n  e3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u52a0\u901f\u5ea6(Z\u8ef8)\\\"],[439,7.0007]] );\\n  e3ChartData.removeRow(0);\\n  e3ChartData.addRows( {{{ payload.r06 }}} );\\n  e3ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Z\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  e3Chart = new google.visualization.LineChart(document.getElementById('e3'));\\n  e3Chart.draw(e3ChartData, e3ChartOptions);\\n\\n  f1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u5730\u78c1\u6c17(X\u8ef8)\\\"],[439,7.0007]] );\\n  f1ChartData.removeRow(0);\\n  f1ChartData.addRows( {{{ payload.r08 }}} );\\n  f1ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(X\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  f1Chart = new google.visualization.LineChart(document.getElementById('f1'));\\n  f1Chart.draw(f1ChartData, f1ChartOptions);\\n\\n  f2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u5730\u78c1\u6c17(Y\u8ef8)\\\"],[439,7.0007]] );\\n  f2ChartData.removeRow(0);\\n  f2ChartData.addRows( {{{ payload.r09 }}} );\\n  f2ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(Y\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  f2Chart = new google.visualization.LineChart(document.getElementById('f2'));\\n  f2Chart.draw(f2ChartData, f2ChartOptions);\\n\\n  f3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u5730\u78c1\u6c17(Z\u8ef8)\\\"],[439,7.0007]] );\\n  f3ChartData.removeRow(0);\\n  f3ChartData.addRows( {{{ payload.r10 }}} );\\n  f3ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(Z\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  f3Chart = new google.visualization.LineChart(document.getElementById('f3'));\\n  f3Chart.draw(f3ChartData, f3ChartOptions);\\n\\n  g1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u6e7f\u5ea6\\\"],[439,7.0007]] );\\n  g1ChartData.removeRow(0);\\n  g1ChartData.addRows( {{{ payload.r11 }}} );\\n  g1ChartOptions = {\u3000title: '\u6e7f\u5ea6',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  g1Chart = new google.visualization.LineChart(document.getElementById('g1'));\\n  g1Chart.draw(g1ChartData, g1ChartOptions);\\n\\n  g2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u6c17\u5727\\\"],[439,7.0007]] );\\n  g2ChartData.removeRow(0);\\n  g2ChartData.addRows( {{{ payload.r12 }}} );\\n  g2ChartOptions = {\u3000title: '\u6c17\u5727',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  g2Chart = new google.visualization.LineChart(document.getElementById('g2'));\\n  g2Chart.draw(g2ChartData, g2ChartOptions);\\n\\n  g3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"UV\u5024\\\"],[439,7.0007]] );\\n  g3ChartData.removeRow(0);\\n  g3ChartData.addRows( {{{ payload.r13 }}} );\\n  g3ChartOptions = {\u3000title: 'UV\u5024',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  g3Chart = new google.visualization.LineChart(document.getElementById('g3'));\\n  g3Chart.draw(g3ChartData, g3ChartOptions);\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":770,\"y\":200,\"wires\":[[\"2f29f9c6.825946\"]]},{\"id\":\"2f29f9c6.825946\",\"type\":\"http response\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"x\":930,\"y\":200,\"wires\":[]},{\"id\":\"88f972da.c66448\",\"type\":\"debug\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"false\",\"x\":580,\"y\":240,\"wires\":[]},{\"id\":\"91c4ec0d.755b68\",\"type\":\"dashDB in\",\"z\":\"2f7e4ebb.3a553a\",\"dashDB\":\"\",\"service\":\"_ext_\",\"query\":\"select * from ALPSIOT \\nwhere date between ? and ?;\",\"params\":\"msg.newstarttime,msg.newendtime\",\"name\":\"\",\"x\":420,\"y\":200,\"wires\":[[\"4c2f7051.8ad29\",\"88f972da.c66448\"]]}]\n\n\n\n\n\u30b5\u30f3\u30d7\u30eb\uff15\uff1aAlpS Smart IoT Module\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092WebSocket\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u8868\u793a\n\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u306fAlps Smart IoT Module\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092WebSocket\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u8868\u793a\u3057\u307e\u3059\u3002\n1. Alps Smart IoT Module\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092WebSocket\u3067\u51fa\u529b\u3057\u307e\u3059\u3002\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306fwss/flow56a\u3068\u3044\u3046socket\u3067\u51fa\u529b\u3057\u3066\u3044\u308b\u3068\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\n2. \u30aa\u30ec\u30f3\u30b8\u8272\u306eTemplate\u30ce\u30fc\u30c9\u3092\u958b\u304d\u300c\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d\u300d\u90e8\u5206\u3092WebSocket\u3092\u51fa\u529b\u3057\u3066\u3044\u308b\u30a2\u30d7\u30ea\u540d\u306b\u4e00\u81f4\u3055\u305b\u307e\u3059\n\n\n\n\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\n[{\"id\":\"ed8f0bb.cd5e278\",\"type\":\"template\",\"z\":\"89d26c8f.7f48a\",\"name\":\"test56a.html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u60c5\u5831\u3092\u8868\u793a</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n<script type=\\\"text/javascript\\\" src=\\\"https://www.google.com/jsapi\\\"></script>\\n<script type=\\\"test/javascript\\\" src=\\\"https://www.gstatic.com/charts/loader.js\\\"></script>\\n\\n\\n<style type=\\\"text/css\\\">\\n#basic {\\n  width: 1200px;\\n  margin: auto;\\n}\\n\\n.a1 {\\n  background-color:  #98d98e;\\n  padding: 20px;\\n  height: 100px;\\n}\\n.b1 {\\n  background-color:  #e4de8a;\\n  padding-left: 20px;\\n  height: 40px;\\n  text-align:left;\\n  font-size: 18pt\\n}\\n#d1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #c1d8ac;\\n}\\n#d2 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #b9d08b;\\n}\\n#d3 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #badcad;\\n}\\n\\n#e1 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #c1d8ac;\\n}\\n#e2 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #b9d08b;\\n}\\n#e3 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #badcad;\\n}\\n\\n#f1 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #c1d8ac;\\n}\\n#f2 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #b9d08b;\\n}\\n#f3 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #badcad;\\n}\\n\\n#g1 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #c1d8ac;\\n}\\n#g2 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #b9d08b;\\n}\\n#g3 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #badcad;\\n}\\n\\n#h1 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #98d98e;\\n}\\n#h2 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #c1d8ac;\\n}\\n#h3 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #93b69c;\\n}\\n\\n#j1 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #98d98e;\\n}\\n#j2 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #c1d8ac;\\n}\\n#j3 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #93b69c;\\n}\\n\\n#k1 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #c1d8ac;\\n}\\n#k2 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #b9d08b;\\n}\\n#k3 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #badcad;\\n}\\n\\n#m1 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #c1d8ac;\\n}\\n#m2 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #b9d08b;\\n}\\n#m3 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #badcad;\\n}\\n\\n.v1 {\\n  clear: both;\\n  height: 100px;\\n  background-color:  #aacf53;\\n}\\n.x1 {\\n  height: 100px;\\n\\tpadding: 20px;\\n  background-color:  #c1d8ac;\\n}\\n.y1 {\\n  background-color: #e4dc8a;\\n\\tpadding: 20px;\\n  height: 250px;\\n}\\n.z1 {\\n  height: 25px;\\n  background-color: #8f8667;\\n  font-size: 18px;\\n  text-align: center;\\n}\\n\\n</style>\\n\u3000</head>\\n\u3000<body style=\\\"background-color: #EAE5E3\\\">\\n\\n  <div id='basic'>\\n\\n    <div class='a1'>\\n      <h2>IoT Sample Dashboard</h2>\\n      IoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u53ef\u8996\u5316\u3057\u307e\u3059\\n    </div>\\n    <div class='b1'>\\n      \u6642\u523b\\n        <span id=\\\"timedata\\\"></span>\\n    </div>\\n\\n    <div id='d1' align=\\\"center\\\">\\n      d1\\n    </div>\\n    <div id='d2' align=\\\"center\\\">\\n      d2\\n    </div>\\n    <div id='d3' align=\\\"center\\\">\\n      d3\\n    </div>\\n\\n    <div id='e1' >\\n      <h2 style=\\\"margin-left:10px;\\\">\u7167\u5ea6</h2>\\n        <span style=\\\"text-align:left; font-size:18pt; margin-left:100px;\\\" id=\\\"e1data\\\"></span>lux\\n    </div>\\n    <div id='e2'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u6c17\u5727</h2>\\n  \\t\\t\\t<span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"e2data\\\"></span>hPa\\n    </div>\\n    <div id='e3'>\\n        <h2 style=\\\"margin-left:10px;\\\">UV\u5024</h2>\\n    \\t\\t\\t<span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"e3data\\\"></span>\\n    </div>\\n\\n    <div id='f1' align=\\\"center\\\">\\n      f1\\n    </div>\\n    <div id='f2' align=\\\"center\\\">\\n      f2\\n    </div>\\n    <div id='f3' align=\\\"center\\\">\\n      f3\\n    </div>\\n\\n    <div id='h1' >\\n      <h2 style=\\\"margin-left:10px;\\\">\u52a0\u901f\u5ea6(X\u8ef8)</h2>\\n        <span style=\\\"text-align:left; font-size:18pt; margin-left:100px;\\\" id=\\\"h1data\\\"></span>\\n    </div>\\n    <div id='h2'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u52a0\u901f\u5ea6(Y\u8ef8)</h2>\\n  \\t\\t\\t<span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"h2data\\\"></span>\\n    </div>\\n    <div id='h3'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u52a0\u901f\u5ea6(Z\u8ef8)</h2>\\n  \\t\\t\\t<!--- <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"d8data\\\"></span> --->\\n        <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"h3data\\\"></span>\\n    </div>\\n\\n    <div id='j1' align=\\\"center\\\">\\n      j1\\n    </div>\\n    <div id='j2' align=\\\"center\\\">\\n      j2\\n    </div>\\n    <div id='j3' align=\\\"center\\\">\\n      j3\\n    </div>\\n\\n    <div id='k1' >\\n      <h2 style=\\\"margin-left:10px;\\\">\u5730\u78c1\u6c17(X\u8ef8)</h2>\\n        <span style=\\\"text-align:left; font-size:18pt; margin-left:100px;\\\" id=\\\"k1data\\\"></span>\\n    </div>\\n    <div id='k2'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u5730\u78c1\u6c17(Y\u8ef8)</h2>\\n  \\t\\t\\t<span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"k2data\\\"></span>\\n    </div>\\n    <div id='k3'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u5730\u78c1\u6c17(Z\u8ef8)</h2>\\n  \\t\\t\\t<!--- <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"d8data\\\"></span> --->\\n        <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"k3data\\\"></span>\\n    </div>\\n\\n    <div id='m1' align=\\\"center\\\">\\n      m1\\n    </div>\\n    <div id='m2' align=\\\"center\\\">\\n      m2\\n    </div>\\n    <div id='m3' align=\\\"center\\\">\\n      m3\\n    </div>\\n\\n    <div class='v1'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u30a2\u30e9\u30fc\u30c8</h2>\\n      <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"alerttext\\\"></span>\\n    </div>\\n\\n    <div class='x1'>\\n      <!--- m1 --->\\n    </div>\\n\\n<div class=\\\"y1\\\">\\n  \u53c2\u8003URL\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  \u30de\u30cb\u30e5\u30a2\u30eb\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n</div>\\n\\n<div class=\\\"z1\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n</div>\\n\\n\\n<script>\\nvar c2alert0 = 0, c2alert1 = 0, c2alert2 = 0, c2alert3 = 0, c2alert4 = 0, c2alert5 = 0, c2alert6 = 0;\\nvar connection = new WebSocket('wss://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/wss/flow56a');\\n\\nconnection.onopen = function () {\\n  console.log(\\\"websocket connected\\\");\\n};\\n\\n// Log errors\\nconnection.onerror = function (error) {\\n  console.log('WebSocket Error ' + error);\\n};\\n\\n// Log messages from the server\\nconnection.onmessage = function (m) {\\n  //console.log('Server: ' + m.data);\\n\\tdoIt(m);\\n};\\n\\n// \u30b2\u30fc\u30b8\u3068\u30e9\u30a4\u30f3\u30c1\u30e3\u30fc\u30c8\u3092\u6e96\u5099\\n// \u30e9\u30a4\u30f3\u30c1\u30e3\u30fc\u30c8\u306eAPI\u306f\u3000https://developers.google.com/chart/interactive/docs/reference\\n//\\ngoogle.load('visualization', '1', {packages:['gauge', 'corechart']});\\ngoogle.setOnLoadCallback(drawChart);\\n\\nfunction drawChart() {\\n\\td1GaugeData = google.visualization.arrayToDataTable([\\n\\t\\t['Label', 'Value'],\\n\\t\\t['\u7167\u5ea6', 0]\\n\\t]);\\n  d1GaugeOptions = {\\n\\t\\twidth: 500, height: 150,\\n\\t\\tmin: 0, max: 500,\\n\\t\\tyellowFrom:300, yellowTo: 400,\\n    redFrom: 400, redTo: 500,\\n\\t\\tminorTicks: 5\\n\\t};\\n  d1Gauge = new google.visualization.Gauge(document.getElementById('d1'));\\n\\td1Gauge.draw(d1GaugeData, d1GaugeOptions);\\n\\n  d2GaugeData = google.visualization.arrayToDataTable([\\n\\t\\t['Label', 'Value'],\\n\\t\\t['\u6c17\u5727', 0]\\n\\t]);\\n  d2GaugeOptions = {\\n\\t\\twidth: 500, height: 150,\\n\\t\\tmin: 1002.75, max: 1003.35,\\n\\t\\tyellowFrom: 1002.9, yellowTo: 1003.05,\\n    redFrom: 1002.75, redTo: 1002.9,\\n\\t\\tminorTicks: 5\\n\\t};\\n  d2Gauge = new google.visualization.Gauge(document.getElementById('d2'));\\n\\td2Gauge.draw(d2GaugeData, d2GaugeOptions);\\n\\n  d3GaugeData = google.visualization.arrayToDataTable([\\n\\t\\t['Label', 'Value'],\\n\\t\\t['UV\u5024', 0]\\n\\t]);\\n  d3GaugeOptions = {\\n\\t\\twidth: 500, height: 150,\\n\\t\\tmin: -1, max: 1,\\n\\t\\tyellowFrom: 0, yellowTo: 0.5,\\n    redFrom: 0.5, redTo: 1,\\n\\t\\tminorTicks: 5\\n\\t};\\n  d3Gauge = new google.visualization.Gauge(document.getElementById('d3'));\\n\\td3Gauge.draw(d3GaugeData, d3GaugeOptions);\\n\\n  f1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u7167\u5ea6\\\"],['10:00:00',300]] );\\n  f1ChartData.removeRow(0);\\n  f1ChartOptions = {\u3000title: '\u7167\u5ea6',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#c1d8ac' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  f1Chart = new google.visualization.LineChart(document.getElementById('f1'));\\n  f1Chart.draw(f1ChartData, f1ChartOptions);\\n\\n  f2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u6c17\u5727\\\"],['10:00:00',300]] );\\n  f2ChartData.removeRow(0);\\n  f2ChartOptions = {\u3000title: '\u6c17\u5727',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#b9d08b' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  f2Chart = new google.visualization.LineChart(document.getElementById('f2'));\\n  f2Chart.draw(f2ChartData, f2ChartOptions);\\n\\n  f3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"UV\u5024\\\"],['10:00:00',300]] );\\n  f3ChartData.removeRow(0);\\n  f3ChartOptions = {\u3000title: 'UV\u5024',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#badcad' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  f3Chart = new google.visualization.LineChart(document.getElementById('f3'));\\n  f3Chart.draw(f3ChartData, f3ChartOptions);\\n\\n  j1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(X\u8ef8)\\\"],['10:00:00',3]] );\\n  j1ChartData.removeRow(0);\\n  j1ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(X\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#98d98e' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j1Chart = new google.visualization.LineChart(document.getElementById('j1'));\\n  j1Chart.draw(j1ChartData, j1ChartOptions);\\n\\n  j2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(Y\u8ef8)\\\"],['10:00:00',3]] );\\n  j2ChartData.removeRow(0);\\n  j2ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Y\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#c1d8ac' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j2Chart = new google.visualization.LineChart(document.getElementById('j2'));\\n  j2Chart.draw(j2ChartData, j2ChartOptions);\\n\\n  j3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(Z\u8ef8)\\\"],['10:00:00',3]] );\\n  j3ChartData.removeRow(0);\\n  j3ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Z\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#93b69c' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j3Chart = new google.visualization.LineChart(document.getElementById('j3'));\\n  j3Chart.draw(j3ChartData, j3ChartOptions);\\n\\n  j1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(X\u8ef8)\\\"],['10:00:00',3]] );\\n  j1ChartData.removeRow(0);\\n  j1ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(X\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#98d98e' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j1Chart = new google.visualization.LineChart(document.getElementById('j1'));\\n  j1Chart.draw(j1ChartData, j1ChartOptions);\\n\\n  j2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(Y\u8ef8)\\\"],['10:00:00',3]] );\\n  j2ChartData.removeRow(0);\\n  j2ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Y\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#c1d8ac' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j2Chart = new google.visualization.LineChart(document.getElementById('j2'));\\n  j2Chart.draw(j2ChartData, j2ChartOptions);\\n\\n  j3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(Z\u8ef8)\\\"],['10:00:00',3]] );\\n  j3ChartData.removeRow(0);\\n  j3ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Z\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#93b69c' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j3Chart = new google.visualization.LineChart(document.getElementById('j3'));\\n  j3Chart.draw(j3ChartData, j3ChartOptions);\\n\\n  m1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u5730\u78c1\u6c17(X\u8ef8)\\\"],['10:00:00',3]] );\\n  m1ChartData.removeRow(0);\\n  m1ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(X\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#c1d8ac' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  m1Chart = new google.visualization.LineChart(document.getElementById('m1'));\\n  m1Chart.draw(m1ChartData, m1ChartOptions);\\n\\n  m2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u5730\u78c1\u6c17(Y\u8ef8)\\\"],['10:00:00',3]] );\\n  m2ChartData.removeRow(0);\\n  m2ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(Y\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#b9d08b' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  m2Chart = new google.visualization.LineChart(document.getElementById('m2'));\\n  m2Chart.draw(m2ChartData, m2ChartOptions);\\n\\n  m3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u5730\u78c1\u6c17(Z\u8ef8)\\\"],['10:00:00',3]] );\\n  m3ChartData.removeRow(0);\\n  m3ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(Z\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#badcad' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  m3Chart = new google.visualization.LineChart(document.getElementById('m3'));\\n  m3Chart.draw(m3ChartData, m3ChartOptions);\\n\\n};\\n\\n//websocket\u304b\u3089\u306e\u6bce\u79d2\u306e\u30c7\u30fc\u30bf\u3092\u53d7\u4fe1\u3057\u3066\u30b2\u30fc\u30b8\u30fb\u30c1\u30e3\u30fc\u30c8\u3078\u8868\u793a\u3059\u308b\\nfunction doIt(msg){\\n  console.log(\\\"doit:\\\" + msg.data);\\n\\tvar msgs = JSON.parse(msg.data);\\n\\n  // msgs[3]\u306f\u4e8c\u91cd\u914d\u5217\u306a\u306e\u3067\\\"msgs[3][0]\\\"\u3067\u6e29\u5ea6\u306e\u5024\u3092\u53d6\u308a\u51fa\u3057\u3066\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u8868\u793a\u3059\u308b\\n  d1GaugeData = google.visualization.arrayToDataTable([\\n    ['Label', 'Value'],\\n    ['\u7167\u5ea6', msgs[4][0]]\\n  ]);\\n  d1Gauge.draw(d1GaugeData, d1GaugeOptions);\\n  console.log(\\\"msgs[4][0] = \\\" + msgs[4][0]);\\n\\n  d2GaugeData = google.visualization.arrayToDataTable([\\n    ['Label', 'Value'],\\n    ['\u6c17\u5727', msgs[9][0]]\\n  ]);\\n  d2Gauge.draw(d2GaugeData, d2GaugeOptions);\\n\\n  d3GaugeData = google.visualization.arrayToDataTable([\\n    ['Label', 'Value'],\\n    ['UV\u5024', msgs[10][0]]\\n  ]);\\n  d3Gauge.draw(d3GaugeData, d3GaugeOptions);\\n\\n  f1ChartData.addRow( [ msgs[0][0], msgs[4][0] ] );\\n  if ( f1ChartData.getNumberOfRows() > 9) {\\n    f1ChartData.removeRow(0);\\n  }\\n  f1Chart.draw(f1ChartData, f1ChartOptions);\\n\\n  f2ChartData.addRow( [ msgs[0][0], msgs[9][0] ] );\\n  if ( f2ChartData.getNumberOfRows() > 9) {\\n    f2ChartData.removeRow(0);\\n  }\\n  f2Chart.draw(f2ChartData, f2ChartOptions);\\n\\n  f3ChartData.addRow( [ msgs[0][0], msgs[10][0] ] );\\n  if ( f3ChartData.getNumberOfRows() > 9) {\\n    f3ChartData.removeRow(0);\\n  }\\n  f3Chart.draw(f3ChartData, f3ChartOptions);\\n\\n  j1ChartData.addRow( [ msgs[0][0], msgs[1][0] ] );\\n  if ( j1ChartData.getNumberOfRows() > 9) {\\n    j1ChartData.removeRow(0);\\n  }\\n  j1Chart.draw(j1ChartData, j1ChartOptions);\\n\\n  j2ChartData.addRow( [ msgs[0][0], msgs[2][0] ] );\\n  if ( j2ChartData.getNumberOfRows() > 9) {\\n    j2ChartData.removeRow(0);\\n  }\\n  j2Chart.draw(j2ChartData, j2ChartOptions);\\n\\n  j3ChartData.addRow( [ msgs[0][0], msgs[3][0] ] );\\n  if ( j3ChartData.getNumberOfRows() > 9) {\\n    j3ChartData.removeRow(0);\\n  }\\n  j3Chart.draw(j3ChartData, j3ChartOptions);\\n\\n  m1ChartData.addRow( [ msgs[0][0], msgs[5][0] ] );\\n  if ( m1ChartData.getNumberOfRows() > 9) {\\n    m1ChartData.removeRow(0);\\n  }\\n  m1Chart.draw(m1ChartData, m1ChartOptions);\\n\\n  m2ChartData.addRow( [ msgs[0][0], msgs[6][0] ] );\\n  if ( m2ChartData.getNumberOfRows() > 9) {\\n    m2ChartData.removeRow(0);\\n  }\\n  m2Chart.draw(m2ChartData, m2ChartOptions);\\n\\n  m3ChartData.addRow( [ msgs[0][0], msgs[6][0] ] );\\n  if ( m3ChartData.getNumberOfRows() > 9) {\\n    m3ChartData.removeRow(0);\\n  }\\n  m3Chart.draw(j3ChartData, m3ChartOptions);\\n\\n  target = document.getElementById(\\\"timedata\\\");\\n\\ttarget.innerHTML = msgs[0];\\n  target = document.getElementById(\\\"e1data\\\"); // \u7167\u5ea6 e1\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[4];\\n  target = document.getElementById(\\\"e2data\\\"); // \u6c17\u5727\u3000e2\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[9];\\n  target = document.getElementById(\\\"e3data\\\"); // UV\u5024 e3\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[10];\\n  target = document.getElementById(\\\"h1data\\\"); // X\u8ef8\u52a0\u901f\u5ea6\u3000h1\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[1];\\n  target = document.getElementById(\\\"h2data\\\"); // Y\u8ef8\u52a0\u901f\u5ea6\u3000h2\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[2];\\n  target = document.getElementById(\\\"h3data\\\"); // Z\u8ef8\u52a0\u901f\u5ea6\u3000h3\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[3];\\n  target = document.getElementById(\\\"k1data\\\"); // X\u8ef8\u5730\u78c1\u6c17\u3000k1\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[5];\\n  target = document.getElementById(\\\"k2data\\\"); // Y\u8ef8\u5730\u78c1\u6c17\u3000k2\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[6];\\n  target = document.getElementById(\\\"k3data\\\"); // Z\u8ef8\u5730\u78c1\u6c17\u3000k3\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[7];\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":350,\"y\":120,\"wires\":[[\"5a3d7174.4f3d2\"]]},{\"id\":\"5a3d7174.4f3d2\",\"type\":\"http response\",\"z\":\"89d26c8f.7f48a\",\"name\":\"\",\"x\":530,\"y\":120,\"wires\":[]},{\"id\":\"a4d38e03.282f7\",\"type\":\"http in\",\"z\":\"89d26c8f.7f48a\",\"name\":\"\",\"url\":\"/test56a\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":150,\"y\":120,\"wires\":[[\"ed8f0bb.cd5e278\"]]},{\"id\":\"e0a37e68.f707c8\",\"type\":\"comment\",\"z\":\"89d26c8f.7f48a\",\"name\":\"Alps\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u304b\u3089\u306e\u8868\u793a\",\"info\":\"\",\"x\":180,\"y\":80,\"wires\":[]}]\n\n\n\n\n\u53c2\u8003\u60c5\u5831\n\n\u30b9\u30b3\u30c3\u30c8\u30fb\u30de\u30ec\u30a4\u3055\u3093\u306eD3\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\n\n\u521d\u3081\u3066Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\u3001\u3068\u3044\u3046\u304b\u305f\u306e\u305f\u3081\u306e\u30ac\u30a4\u30c9\u3067\u3059\u3002\n[Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b](http://qiita.com/egplnt/items/af867711a7191923b2ff)\u3067IoT\u30a2\u30d7\u30ea\u3092\u6e96\u5099\u3057\u307e\u3057\u305f\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u30d5\u30ed\u30fc\u3067\u306f\u3001dashDB\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092D3.js\u3092\u4f7f\u7528\u3057\u3066\u53ef\u8996\u5316\u3057\u307e\u3059\u3002\ndashDB\u306e\u6e96\u5099\u306b\u3064\u3044\u3066\u306f\u3001[Watson IoT Platform - \u76f4\u63a5dashDB\u3078\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b](http://qiita.com/egplnt/items/2c911b7618517ebe9ba2)\u306a\u3069\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\n\n\n#\u30b5\u30f3\u30d7\u30eb\uff11\uff1a\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\u3059\u308b\n1. [Node-RED\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30fc\u3059\u308b\u65b9\u6cd5](http://qiita.com/egplnt/items/84b244a50d8bdaced324)\u3092\u53c2\u7167\u3057\u3066\u3001\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n2. \u300c\u5165\u529b\u7528\u753b\u9762\u3092\u8fd4\u3059\u300d\u30ce\u30fc\u30c9\u3092\u958b\u304d\u300122\u884c\u76ee\u306e`  <form action=\"http://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/test43`\u306e\u300c\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d\u300d\u3092\u4f7f\u7528\u3057\u3066\u3044\u308bNode-RED\u30a2\u30d7\u30ea\u306e\u540d\u524d\u306b\u66f4\u65b0\u3057\u3001\u753b\u9762\u53f3\u4e0a\u306e\u8d64\u3044\u300cDeploy\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\n3. \u300cDB\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u300d\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b\uff08SENSOR2DB\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306bCC2650\u306e\u30c7\u30fc\u30bf\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\uff09dashDB\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u6b63\u3057\u304f\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\n4. \u30d6\u30e9\u30a6\u30b6\u3092\u958b\u304d`\u30a2\u30d7\u30ea\u540d.mybluemix.net/test42`\u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n5. \u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u540d\u3068\u8868\u793a\u671f\u9593\u3092\u6307\u5b9a\u3057\u3001\u300c\u9001\u4fe1\u300d\u3092\u62bc\u3057\u307e\u3059\n\n```lang:dashDB\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u8868\u793a\n[{\"id\":\"2eb6a12a.6ef6e6\",\"type\":\"dashDB in\",\"z\":\"b9820341.436a5\",\"service\":\"dashDB-gw\",\"query\":\"select * from SENSOR2DB \\nwhere month between ? and ?\\nand\\nday between ? and ? \\nand \\nhour between ? and ?\\nand \\nminute between ? and ?\\norder by month, day, hour, minute;\",\"params\":\"msg.startmonth,msg.endmonth,msg.startday,msg.endday,msg.starthour,msg.endhour,msg.startminute,msg.endminute\",\"name\":\"DB\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\",\"x\":500,\"y\":260,\"wires\":[[\"3fecad0f.fb3d32\"]]},{\"id\":\"3fecad0f.fb3d32\",\"type\":\"function\",\"z\":\"b9820341.436a5\",\"name\":\"stringify\",\"func\":\"var m = JSON.stringify(msg.payload);\\nmsg.payload.op = m;\\nvar n = JSON.stringify(msg.targetattr);\\nmsg.payload.targetattr = n;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":300,\"y\":320,\"wires\":[[\"10facdf7.cecfa2\"]]},{\"id\":\"10facdf7.cecfa2\",\"type\":\"template\",\"z\":\"b9820341.436a5\",\"name\":\"\u30b0\u30e9\u30d5\u3092\u8868\u793a\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n  <meta charset=\\\"utf-8\\\">\\n  <title>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n  <script src=\\\"https://d3js.org/d3.v4.min.js\\\"></script>\\n\\n  <style type=\\\"text/css\\\">\\n  /* \u3053\u3053\u306b\u30b9\u30bf\u30a4\u30eb\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059 */\\n  .axis path,\\n  .axis line {\\n    fill: none;\\n    stroke: black;\\n    shape-rendering: crispEdges;\\n  }\\n  .axis text {\\n    font-family: Meiryo;\\n    font-size: 11px;\\n  }\\n  </style>\\n\\n  <div id=\\\"op\\\" foo={{ payload.op }}/>\\n  <div id=\\\"ta_a\\\" ta_b={{ payload.targetattr }}/>\\n\\n  <script type=\\\"text/javascript\\\">\\n  //  payload.op\u306bdashDB\u691c\u7d22\u7d50\u679c\u3092\u3001payload.targetattr\u306b\u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u540d\u3092\u4fdd\u6301\\n  var ta_c = document.getElementById( 'ta_a' ).getAttribute( 'ta_b' );\\t//\u5c5e\u6027\u540d\u3092\u53d6\u5f97\\n  target_attr = ta_c.substr( 1, ta_c.length-3 );  //\u5192\u982d\u3068\u672b\u5c3e\u306e\\\"\\\"\u3092\u524a\u9664\u3002\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\u3002\\n\\n  var op_a = document.getElementById( 'op' ).getAttribute( 'foo' );\\t//\u691c\u7d22\u7d50\u679c\u3092\u53d6\u5f97\\n  op_a = op_a.substr( 0, op_a.length-1 ) ;\\t//\u672b\u5c3e\u306e\\\"/\\\"\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\\n  var op_a2 = JSON.parse(op_a);\\t//JSON\u6587\u5b57\u5217\u304b\u3089javascript\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5fa9\u5143\\n\\n  var op_a3 = new Array();\\n  for(var i in op_a2){\\n    op_a3.push(op_a2[i][target_attr]);\\t//\u5bfe\u8c61\u3068\u3059\u308b\u5c5e\u6027\u306e\u5024\u3092\u53d6\u308a\u51fa\u3057\u3066\u914d\u5217op_a3\u306b\u9806\u6b21\u683c\u7d0d\\n  }\\n\\n  var op_a5 = new Array();\\n  for(var i in op_a2){        // \u5bfe\u8c61\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u6642\u523b\u3092\u683c\u7d0d\\n    op_a5.push(op_a2[i].HOUR + \\\":\\\" + (( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 )));\\n  }\\n\\n  var m =  0;   //  \u6642\u3068\u5206\u3092\u7d50\u5408\u3057\u3066\u6642\u523b\u3092\u4fdd\u6301\u3059\u308b\\n  var mh = 0;   //  \u6700\u5927\u5024\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306e\u6642\\n  var mm = 0;   //  \u6700\u5927\u5024\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306e\u5206\\n  var mt = 0;   //  \u6700\u5927\u5024\\n  for(var i in op_a2){\\n    //  console.log('i = ', i, ', value = ', op_a2[i][target_attr], ', h = ', op_a2[i].HOUR, ', m = ', op_a2[i].MINUTE);\\n    //  op_a2\u914d\u5217\u3092\u63a2\u7d22\u3057\u3066\u3001\u6700\u5927\u5024\u3092\u898b\u3064\u3051\u308b\\n    if (m < Number(op_a2[i][target_attr])) {\\n      m = Number(op_a2[i][target_attr]);\\n      mh = op_a2[i].HOUR;\\n      mm = ( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 ) ;\\n      mt = op_a2[i][target_attr];      // \u6700\u5927\u5024\u306e\u6587\u5b57\u5217\u3067\u306e\u5024\\n      mv = parseFloat(mt, 10);         // \u6700\u5927\u5024\u306e\u6570\u5024\u3067\u306e\u5024\\n      //console.log(\\\"max found was \\\" + mh + \\\":\\\" + mm + \\\" \\\" + mt);\\n    }\\n  }\\n\\n  m = mh + \\\":\\\" + mm;\\n  //  console.log('mt = ', mt);\\n  // \u8868\u793a\u3059\u308b\u753b\u9762\u306e\u5e45\uff08 Width \uff09\u3068\u9ad8\u3055\uff08 height \uff09\\n  var w = 1000;\\n  //  zoom\u306e\u5024\u306f\u3001\u6700\u5927\u5024\u304c100\u4ee5\u4e0a\u3067\u3042\u308c\u3070\u305d\u306e\u307e\u307e(1\u500d)\u3001\u6700\u5927\u5024\u304c100\u3088\u308a\u5c0f\u3055\u3051\u308c\u30704\u500d\u3001\\n  // \u6700\u5927\u5024\u304c10\u3088\u308a\u5c0f\u3055\u3051\u308c\u307010\u500d\u3001\u6700\u5927\u5024\u304c3\u3088\u308a\u5c0f\u3055\u3051\u308c\u307020\u500d\u306b\\n  var zoom = ( mv < 100 ) ? (( mv < 10 ) ? (( mv < 3 ) ? 20 : 10 ) : 4 ) : 1;\\n  //  console.log('zoom = ', zoom);\\n  //  \u753b\u9762\u306e\u9ad8\u3055\u306f\u3001\u6700\u5927\u5024x\u30ba\u30fc\u30e0\u5024\uff0b\uff15\uff10\u3000\u304b\u3000100\u306e\u3069\u3061\u3089\u304b\u5927\u304d\u3044\u307b\u3046\\n  var h = Math.max(mv*zoom + 50, 100);\\n  //  console.log('h = ', h);\\n  var barPadding = 1;  // \u68d2\u30b0\u30e9\u30d5\u306e\u68d2\u3068\u68d2\u306e\u9593\u9694\\n  var margin = 30;     // \u30b0\u30e9\u30d5\u8868\u793a\u57df\u306e\u307e\u308f\u308a\u306e\u4f59\u767d\\n\\n  var dataset = op_a3;    //  \u5bfe\u8c61\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u4fdd\u6301\\n  var datasetT = op_a5;   //  \u5bfe\u8c61\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u6642\u523b\u3092\u4fdd\u6301\\n\\n  // \u30b9\u30b1\u30fc\u30eb\u95a2\u6570\u306e\u751f\u6210\\n  var xScale = d3.scaleLinear()\\n    .domain([0, d3.max(dataset, function(d) { return d; })])\\n    .range([margin, w + margin * 2]);\\n\\n  var yScale = d3.scaleLinear()\\n    .domain([0, (h-margin) / zoom]) // Y\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u3092\u68d2\u30b0\u30e9\u30d5\u3068\u4e00\u81f4\u3055\u305b\u308b\\n    .range([h-margin, 0]);\u3000\u3000\u3000\u3000// Y\u8ef8\u8868\u793a\u5834\u6240\\n\\n  // X \u8ef8\u306e\u5b9a\u7fa9\\n  var xAxis = d3.axisBottom()\\n    .scale(xScale);\\n\\n  // Y \u8ef8\u306e\u5b9a\u7fa9\\n  var yAxis = d3.axisLeft(yScale);\\n\\n  // SVG \u8981\u7d20\u306e\u751f\u6210\\n  var canvas = d3.select(\\\"body\\\")\\n    .append(\\\"svg\\\")\\n    .attr(\\\"width\\\", w)\\n    .attr(\\\"height\\\", h);\\n\\n  canvas.selectAll(\\\"rect\\\")\\n    .data(dataset)\\n    .enter()\\n    .append(\\\"rect\\\")\\n    .attr(\\\"x\\\", function(d, i) {\\n      return i * ((w-margin) / dataset.length) + margin;\\n    })\\n    .attr(\\\"y\\\", function(d) {    //  \u8ca0\u306e\u5024\u306f\u7d76\u5bfe\u5024\u3067\u5bfe\u5fdc\\n      return h - (Math.abs(d) * zoom) - margin;\\n    })\\n    .attr(\\\"width\\\", (w-margin) / dataset.length - barPadding)\\n    .attr(\\\"height\\\", function(d) {\\n      return Math.abs(d) * zoom;      //  \u8ca0\u306e\u5024\u306f\u7d76\u5bfe\u5024\u3067\u5bfe\u5fdc\\n    })\\n    .attr(\\\"fill\\\", function(d) {\\n      //return \\\"rgb(100, 100, \\\" + (d * 10) + \\\")\\\";\\n      return \\\"rgb(224, 194, 132)\\\";    //  \u674f\u8272\\n  });\\n\\n  canvas.selectAll(\\\"text\\\")\\n    .data(datasetT)\\n    .enter()\\n    .append(\\\"text\\\")\\n    .text(function(d) {\\n      return d;\\n    })\\n    .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n    .attr(\\\"x\\\", function(d, i) {\\n      return i * ((w-margin) / dataset.length) + margin + ((w-margin) / dataset.length - barPadding ) / 2;\\n    })\\n    .attr(\\\"y\\\", function(d) {\\n      return h;\\n    })\\n    .attr(\\\"font-family\\\", \\\"Meiryo\\\")\\n    .attr(\\\"font-size\\\", \\\"11px\\\")\\n    .attr(\\\"fill\\\", \\\"black\\\");\\n\\n// X \u8ef8\u306e\u751f\u6210\\n/*canvas.append(\\\"g\\\")\\n    .attr(\\\"class\\\", \\\"axisBottom\\\")\\n    .attr(\\\"transform\\\", \\\"translate(0,\\\" + (h - margin) + \\\")\\\")\\n    .call(xAxis);\\n*/\\n// Y \u8ef8\u306e\u751f\u6210\\ncanvas.append(\\\"g\\\")\\n    .attr(\\\"class\\\", \\\"axisLeft\\\")\\n    .attr(\\\"transform\\\", \\\"translate(\\\" + margin + \\\",0)\\\")\\n    .call(yAxis);\\n\\n\\nwindow.onload = function onLoad() {\\n  var target1 = document.getElementById(\\\"output1\\\");     //  \u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u540d\\n  target1.innerHTML = target_attr;\\n  var target2 = document.getElementById(\\\"output2\\\");     //  \u6700\u9ad8\u5024\u306e\u6642\u523b\\n  target2.innerHTML = m;\\n  var target3 = document.getElementById(\\\"output3\\\");     //  \u6700\u9ad8\u5024\\n  target3.innerHTML = mt;      //\u3000\u6700\u5927\u5024\u3092\u30ed\u30fc\u30c9\\n}\\n\\n</script>\\n</head>\\n<body>\\n\\n  <div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px; font-family: Meiryo;\\\">\\n    <h1>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n    <br />\\n    <p>\\n      \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059(\u52a0\u901f\u5ea6\u306a\u3069\u306e\u30de\u30a4\u30ca\u30b9\u5024\u306f\u7d76\u5bfe\u5024\u3067\u8868\u793a\u3057\u3066\u3044\u307e\u3059)\\n      <br />\\n    </p>\\n  </div>\\n\\n  <div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; font-family: Meiryo; \\\">\\n    <div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n    <h2>\\n      <span style=\\\"text-align:left; font-size:18pt; color:blue\\\" id=\\\"output1\\\"></span> \u5024\u306e\u51fa\u529b\\n    </h2>\\n    <h2>\u6700\u9ad8\u5024\u306e\u6642\u523b</h2>\\n      <span style=\\\"text-align:left; font-size:18pt; color:blue\\\" id=\\\"output2\\\"></span>\\n    <h2>\u6700\u9ad8\u5024\u3000</h2>\\n      <span style=\\\"text-align:left; font-size:18pt; color:blue\\\" id=\\\"output3\\\"></span>\\n  </div>\\n</body>\\n</html>\\n\",\"x\":480,\"y\":320,\"wires\":[[\"bfa2ef08.c01b88\"]]},{\"id\":\"bfa2ef08.c01b88\",\"type\":\"http response\",\"z\":\"b9820341.436a5\",\"name\":\"\",\"x\":670,\"y\":320,\"wires\":[]},{\"id\":\"aae95e90.86278\",\"type\":\"http in\",\"z\":\"b9820341.436a5\",\"name\":\"\",\"url\":\"/test42\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":120,\"wires\":[[\"3dd30a64.5a7b4e\"]]},{\"id\":\"e2fb681.3b9ad98\",\"type\":\"http response\",\"z\":\"b9820341.436a5\",\"name\":\"\",\"x\":510,\"y\":120,\"wires\":[]},{\"id\":\"3dd30a64.5a7b4e\",\"type\":\"template\",\"z\":\"b9820341.436a5\",\"name\":\"\u5165\u529b\u7528\u753b\u9762\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\\t<head>\\n\\t\\t<title>IoT Quick Dashboard</title>\\n\\t\\t<meta charset=\\\"utf-8\\\" />\\n\\t</head>\\n\\t<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #96e0a9; padding: 20px; font-family: Meiryo;\\\">\\n\\n\\t<h1>IoT Quick Dashboard</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\tdashDB\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; font-family: Meiryo; \\\">\\n\\n    <H2>\u5165\u529b\uff01</H2>\\n  <P>\u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</P>\\n  <form action=\\\"http://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/test43\\\" method=\\\"get\\\">\\n\\t\\t<select name=\\\"targetattr\\\">\\n\\t\\t    <option>AMBIENTTEMP</option>\\n\\t\\t\\t\\t<option>ACCELX</option>\\n\\t\\t\\t\\t<option>ACCELY</option>\\n\\t\\t\\t\\t<option>ACCELZ</option>\\n\\t\\t\\t\\t<option>GYROX</option>\\n\\t\\t\\t\\t<option>GYROY</option>\\n\\t\\t\\t\\t<option>GYROZ</option>\\n\\t\\t\\t\\t<option>HUMIDITY</option>\\n\\t\\t\\t\\t<option>LIGHT</option>\\n\\t\\t\\t\\t<option>MAGX</option>\\n\\t\\t\\t\\t<option>MAGY</option>\\n\\t\\t\\t\\t<option>MAGZ</option>\\n\\t\\t    <option>OBJECTTEMP</option>\\n\\t\\t  </select><br><br>\\n      \u3053\u306e\u65e5\u6642\u304b\u3089<input type=\\\"datetime-local\\\" name=\\\"starttime\\\" value=\\\"2016-11-8T17:21:00\\\" step=\\\"60\\\">\\n      \u3053\u306e\u65e5\u6642\u307e\u3067<input type=\\\"datetime-local\\\" name=\\\"endtime\\\" value=\\\"2012-11-8T17:21:00\\\" step=\\\"60\\\"><br><br>\\n  <INPUT type=\\\"submit\\\" value=\\\"\u9001\u4fe1\\\"><BR>\\n  <INPUT type=\\\"reset\\\" value=\\\"\u30ea\u30bb\u30c3\u30c8\\\"><BR><BR>\\n  </FORM>\\n\\n</div>\\n\\n<div id=\\\"c-box\\\" style=\\\"background-color: #f0e8fa; padding: 20px; font-family: Meiryo; \\\">\\n\\t<br />\\n\\t<div class=\\\"category\\\"><h3>\u95a2\u9023\u30ea\u30f3\u30af</h3></div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Qiita: Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n\\t\\t\\t<li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">IBM Watson IoT Platform</a></li>\\n\\t\\t\\t<li><a href=\\\"https://bluemix.net\\\">Bluemix</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n\\t\\t</ul>\\n\\t<div class=\\\"category\\\"><h3>\u8cc7\u6599\u30da\u30fc\u30b8</h3></div>\\n\\t\\t<ul>\\n\\t\\t\\t<li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n\\t\\t\\t<li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n\\t\\t\\t<li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n\\t\\t</ul>\\n</div>\\n\\n<div id=\\\"d-box\\\" style=\\\"clear: both; background-color: #e0ce96; font-size: 18px; padding: 10px; text-align: center;  padding: 20px; font-family: Meiryo;\\\">\\n\\t\\tcopyright (c) abc.com All right reserved.\\n</div>\\n\\t</body>\\n</html>\\n\",\"x\":330,\"y\":120,\"wires\":[[\"e2fb681.3b9ad98\"]]},{\"id\":\"ffa6e27d.bffc98\",\"type\":\"http in\",\"z\":\"b9820341.436a5\",\"name\":\"\",\"url\":\"/test43\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":130,\"y\":260,\"wires\":[[\"882885a3.f23b4\"]]},{\"id\":\"c34b1569.a2526\",\"type\":\"comment\",\"z\":\"b9820341.436a5\",\"name\":\"DB\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u8868\u793a\",\"info\":\"\",\"x\":140,\"y\":220,\"wires\":[]},{\"id\":\"882885a3.f23b4\",\"type\":\"function\",\"z\":\"b9820341.436a5\",\"name\":\"\u5024\u3092\u53d6\u5f97\",\"func\":\"msg.startmonth = msg.payload.starttime.substr(5,2);\\nmsg.startday = msg.payload.starttime.substr(8,2);\\nmsg.starthour = msg.payload.starttime.substr(11,2);\\nmsg.startminute = msg.payload.starttime.substr(14,2);\\n\\nmsg.endmonth = msg.payload.endtime.substr(5,2);\\nmsg.endday = msg.payload.endtime.substr(8,2);\\nmsg.endhour = msg.payload.endtime.substr(11,2);\\nmsg.endminute = msg.payload.endtime.substr(14,2);\\n\\nmsg.targetattr = msg.payload.targetattr;\\n\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":300,\"y\":260,\"wires\":[[\"2eb6a12a.6ef6e6\"]]},{\"id\":\"cdba37a9.e3b2d\",\"type\":\"comment\",\"z\":\"b9820341.436a5\",\"name\":\"\u8868\u793a\u3059\u308b\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\",\"info\":\"\",\"x\":150,\"y\":80,\"wires\":[]}]\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-09 13.33.03.png](https://qiita-image-store.s3.amazonaws.com/0/125842/15668151-452d-0de6-e678-f5fbdc5a5792.png)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-09 13.33.14.png](https://qiita-image-store.s3.amazonaws.com/0/125842/b6397e01-8cb6-2a7a-f5cf-f95940985522.png)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-09 13.33.40.png](https://qiita-image-store.s3.amazonaws.com/0/125842/8e56b46a-d36b-885a-e80e-c08fd0d15094.png)\n\n\n\n#\u30b5\u30f3\u30d7\u30eb\uff12\uff1a\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0\uff08CC2650)\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u3080\n\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u306f\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n1. \u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\n2. \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u76f4\u63a5\u66f8\u304d\u8fbc\u307f\u307e\u3059 \n3. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300dfunction\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\u5192\u982d\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u5024\u3092\u8abf\u6574\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-08-17 13.21.37.png](https://qiita-image-store.s3.amazonaws.com/0/125842/cc3f6af6-fd85-4644-e1cf-6776cabc1e0b.png)\n\n\n```a:\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092dashDB\u3078\u683c\u7d0d\u3057\u3001D3\u3067\u53ef\u8996\u5316\u3059\u308b\n[{\"id\":\"175917e8.30b87\",\"type\":\"inject\",\"z\":\"64589e61.60898\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":200,\"wires\":[[]]},{\"id\":\"c3e41b5d.223d28\",\"type\":\"inject\",\"z\":\"64589e61.60898\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":110,\"y\":240,\"wires\":[[]]},{\"id\":\"a0155b1b.cda098\",\"type\":\"comment\",\"z\":\"64589e61.60898\",\"name\":\"IoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067DB\u3078\u66f8\u304d\u8fbc\u307f\",\"info\":\"\",\"x\":200,\"y\":60,\"wires\":[]},{\"id\":\"6d18f085.c1b5d8\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":301,\"y\":140,\"wires\":[[\"3b7f6362.24696c\",\"def4328.f99acd\"]]},{\"id\":\"3b7f6362.24696c\",\"type\":\"debug\",\"z\":\"64589e61.60898\",\"name\":\"\u6642\u523b\u306e\u8868\u793a\",\"active\":false,\"console\":\"false\",\"complete\":\"date\",\"x\":510,\"y\":100,\"wires\":[]},{\"id\":\"14d3087b.28646\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"\u8868\u3078\u66f8\u304d\u8fbc\u3080\",\"func\":\"msg.payload = \\n{ \\n\\tDATE : msg.date.date,\\n\\tDAY : msg.date.day,\\n\\tHOUR : msg.date.hour,\\n\\tMINUTE : msg.date.minute,\\n\\tMONTH : msg.date.month,\\n\\tSECOND : msg.date.second,\\n\\tYEAR : msg.date.year,\\n\\tACCELX : msg.sensor.accelX,\\n\\tACCELY : msg.sensor.accelY,\\n\\tACCELZ : msg.sensor.accelZ,\\n\\tAMBIENTTEMP : msg.sensor.ambientTemp,\\n\\tGYROX : msg.sensor.gyroX,\\n\\tGYROY : msg.sensor.gyroY,\\n\\tGYROZ : msg.sensor.gyroZ,\\n\\tHUMIDITY : msg.sensor.humidity,\\n\\tLIGHT : msg.sensor.light,\\n    MAGX : msg.sensor.magX,\\n\\tMAGY :msg.sensor.magY,\\n\\tMAGZ : msg.sensor.magZ,\\n\\tOBJECTTEMP : msg.sensor.objectTemp\\n};\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":520,\"y\":220,\"wires\":[[\"ba9d26f1.6a516\",\"ecfd037.e72c4\"]]},{\"id\":\"8bcc302e.8dbd58\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"var sampling_min_interval = 10;     // 10\u5206\u6bce\u306bDB\u30d8\u66f8\u304d\u8fbc\u307f\\nvar sampling_sec_interval = 60;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\n/*\\nvar sum = 0, average = 0;\\nvar sen1 = Math.floor(Math.random () * 10) + 1;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\nif ( !context.array ) {\\n    context.array = new Array (10); //\u76f4\u8fd1\uff11\uff10\u4ef6\u5206\u3092\u4fdd\u6301\\n}\\nvar shifted = context.array.shift();\\ncontext.array.push(sen1);           // \u6700\u65b0\u306e\u5024\u3092\u4fdd\u5b58\\nvar length = context.array.length;\\n\\nfor (k=0; k<length; k++) {\\n        sum = sum + context.array[k];   // \u5408\u8a08\u3092\u7b97\u51fa\\n}\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\naverage = sum / length;\\nvar data = [[time],[sen1],[average]];\\nmsg.sensor.average = average;\\n*/\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\nif ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":310,\"y\":220,\"wires\":[[\"14d3087b.28646\"]]},{\"id\":\"b7faf05f.7d756\",\"type\":\"ibmiot in\",\"z\":\"64589e61.60898\",\"authentication\":\"quickstart\",\"apiKey\":\"\",\"inputType\":\"evt\",\"deviceId\":\"\",\"applicationId\":\"\",\"deviceType\":\"+\",\"eventType\":\"+\",\"commandType\":\"\",\"format\":\"json\",\"name\":\"IBM IoT\",\"service\":\"quickstart\",\"allDevices\":\"\",\"allApplications\":\"\",\"allDeviceTypes\":true,\"allEvents\":true,\"allCommands\":\"\",\"allFormats\":\"\",\"x\":90,\"y\":140,\"wires\":[[\"6d18f085.c1b5d8\"]]},{\"id\":\"4144253.9dd2fdc\",\"type\":\"http in\",\"z\":\"64589e61.60898\",\"name\":\"\",\"url\":\"/test28\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":110,\"y\":380,\"wires\":[[\"1f8c6452.0e2c14\"]]},{\"id\":\"fdd5ab25.ad1cd8\",\"type\":\"debug\",\"z\":\"64589e61.60898\",\"name\":\"op\",\"active\":false,\"console\":\"false\",\"complete\":\"payload.op\",\"x\":670,\"y\":360,\"wires\":[]},{\"id\":\"d1c0278d.5bf49\",\"type\":\"template\",\"z\":\"64589e61.60898\",\"name\":\"html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n   <meta charset=\\\"utf-8\\\">\\n   <title>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n      <script src=\\\"https://d3js.org/d3.v4.min.js\\\"></script>\\n\\n   <style type=\\\"text/css\\\">\\n         /* \u3053\u3053\u306b\u30b9\u30bf\u30a4\u30eb\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059 */\\n      .axis path,\\n      .axis line {\\n         fill: none;\\n         stroke: black;\\n         shape-rendering: crispEdges;\\n      }\\n      .axis text {\\n         font-family: sans-serif;\\n         font-size: 11px;\\n      }\\n   </style>\\n\\n   <div id=\\\"op\\\" foo={{payload.op}}/>\\n\\n<script type=\\\"text/javascript\\\">\\n\\nvar op_a = document.getElementById( 'op' ).getAttribute( 'foo' );\\t//\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\\nop_a = op_a.substr( 0, op_a.length-1 ) ;\\t//\u672b\u5c3e\u306e\\\"/\\\"\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\\nvar op_a2 = JSON.parse(op_a);\\t//JSON\u6587\u5b57\u5217\u304b\u3089javascript\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5fa9\u5143\\n\\nvar op_a3 = new Array();\\nfor(var i in op_a2){\\n\\top_a3.push(op_a2[i].AMBIENTTEMP);\\t//AMBIENTTEMP\u3092\u53d6\u308a\u51fa\u3057\u3066\u914d\u5217op_a3\u306b\u9806\u6b21\u683c\u7d0d\\n}\\n\\nvar op_a5 = new Array();\\nfor(var i in op_a2){\\n\\top_a5.push(op_a2[i].HOUR + \\\":\\\" + (( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 )));\\n}\\n\\n   // \u5e45\uff08 Width \uff09\u3068\u9ad8\u3055\uff08 height \uff09\\n   var w = 800;\\n   var h = 300;\\n   var zoom =5;\\n   var barPadding = 1;  // \u68d2\u30b0\u30e9\u30d5\u306e\u68d2\u3068\u68d2\u306e\u9593\u9694\\n   var margin = 30;     // \u30b0\u30e9\u30d5\u8868\u793a\u57df\u306e\u307e\u308f\u308a\u306e\u4f59\u767d\\n   \\n   var dataset = op_a3;\\n   var datasetT = op_a5;\\n   \\n   // \u30b9\u30b1\u30fc\u30eb\u95a2\u6570\u306e\u751f\u6210\\n   var xScale = d3.scaleLinear()\\n         .domain([0, d3.max(dataset, function(d) { return d; })])\\n         .range([margin, w + margin * 2]);\\n\\n   var yScale = d3.scaleLinear()\\n            .domain([0, (h-margin) / zoom]) // Y\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u3092\u68d2\u30b0\u30e9\u30d5\u3068\u4e00\u81f4\u3055\u305b\u308b\\n            .range([h-margin, 0]);\u3000\u3000\u3000\u3000// Y\u8ef8\u8868\u793a\u5834\u6240\\n\\n   // X \u8ef8\u306e\u5b9a\u7fa9\\n   var xAxis = d3.axisBottom()\\n        .scale(xScale);\\n\\n   // Y \u8ef8\u306e\u5b9a\u7fa9\\n   var yAxis = d3.axisLeft(yScale);\\n   \\n   // SVG \u8981\u7d20\u306e\u751f\u6210\\n   var canvas = d3.select(\\\"body\\\")\\n         .append(\\\"svg\\\")\\n         .attr(\\\"width\\\", w)\\n         .attr(\\\"height\\\", h);\\n\\n   canvas.selectAll(\\\"rect\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"rect\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * zoom) - margin;\\n         })\\n         .attr(\\\"width\\\", (w-margin) / dataset.length - barPadding)\\n         .attr(\\\"height\\\", function(d) {\\n            return d * zoom;\\n         })\\n         .attr(\\\"fill\\\", function(d) {\\n//            return \\\"rgb(0, 0, \\\" + ( ( (d-20) * 10 ) + 100 ) + \\\")\\\";\\n            return \\\"rgb(0, 51, 255)\\\";\\n                     });\\n\\t\\t \\n   canvas.selectAll(\\\"text\\\")\\n         .data(datasetT)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n          .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin + ((w-margin) / dataset.length - barPadding ) / 2;\\n         })\\n        .attr(\\\"y\\\", function(d) {\\n            return h;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"black\\\");\\n\\n/*    canvas.selectAll(\\\"text\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + (w / dataset.length - barPadding) / 2  + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * 4) + 14  - margin;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"white\\\");\\n*/\\n   // X \u8ef8\u306e\u751f\u6210\\n//   canvas.append(\\\"g\\\")\\n//         .attr(\\\"class\\\", \\\"axisBottom\\\")\\n//         .attr(\\\"transform\\\", \\\"translate(0,\\\" + (h - margin) + \\\")\\\")\\n//         .call(xAxis);\\n\\n   // Y \u8ef8\u306e\u751f\u6210\\n   canvas.append(\\\"g\\\")\\n         .attr(\\\"class\\\", \\\"axisLeft\\\")\\n         .attr(\\\"transform\\\", \\\"translate(\\\" + margin + \\\",0)\\\")\\n         .call(yAxis);\\n\\t\\t \\n\\t\\t \\n   var m =  0;\\n   var mh = 0;\\n   var mm = 0;\\n   var mt = 0;\\n   for(var i in op_a2){\\n\\t   if (m < Number(op_a2[i].AMBIENTTEMP)) {\\n\\t       m = Number(op_a2[i].AMBIENTTEMP);\\n\\t\\t   mh = op_a2[i].HOUR;\\n\\t\\t   mm = ( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 ) ;\\n\\t\\t   mt = op_a2[i].AMBIENTTEMP;\\n    //console.log(\\\"max found was \\\" + mh + \\\":\\\" + mm + \\\" \\\" + mt);\\n\\t   }\\n   }\\n\\n   m = mh + \\\":\\\" + mm;\\n\\n   window.onload = function onLoad() {\\n      var target1 = document.getElementById(\\\"output1\\\");\\n         target1.innerHTML = m;\\n      var target2 = document.getElementById(\\\"output2\\\");\\n         target2.innerHTML = mt;\\n\\t}\\n\\t\\n</script>\\n</head>\\n<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\t\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t\\t<h2>\u6700\u9ad8\u5024\u306e\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u6700\u9ad8\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span> \u2103\\n</div>\\n</body>\\n</html>\",\"x\":690,\"y\":420,\"wires\":[[\"5d901718.3c51f8\"]]},{\"id\":\"5d901718.3c51f8\",\"type\":\"http response\",\"z\":\"64589e61.60898\",\"name\":\"\",\"x\":850,\"y\":420,\"wires\":[]},{\"id\":\"422b2203.7d68e4\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"stringify\",\"func\":\"var m = JSON.stringify(msg.payload);\\nmsg.payload.op = m;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":520,\"y\":380,\"wires\":[[\"d1c0278d.5bf49\",\"fdd5ab25.ad1cd8\"]]},{\"id\":\"def4328.f99acd\",\"type\":\"function\",\"z\":\"64589e61.60898\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u5f85\u907f\",\"func\":\"msg.sensor = {\\n        \\\"accelX\\\": msg.payload.d.accelX,\\n        \\\"accelY\\\": msg.payload.d.accelY,\\n        \\\"accelZ\\\": msg.payload.d.accelZ,\\n        \\\"ambientTemp\\\": msg.payload.d.ambientTemp,\\n        \\\"gyroX\\\": msg.payload.d.gyroX,\\n        \\\"gyroY\\\": msg.payload.d.gyroY,\\n        \\\"gyroZ\\\": msg.payload.d.gyroZ,\\n        \\\"humidity\\\": msg.payload.d.humidity,\\n        \\\"light\\\": msg.payload.d.light,\\n        \\\"magX\\\": msg.payload.d.magX,\\n        \\\"magY\\\": msg.payload.d.magY,\\n        \\\"magZ\\\": msg.payload.d.magZ,\\n        \\\"objectTemp\\\": msg.payload.d.objectTemp,\\n};\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":530,\"y\":140,\"wires\":[[\"8bcc302e.8dbd58\"]]},{\"id\":\"ba9d26f1.6a516\",\"type\":\"debug\",\"z\":\"64589e61.60898\",\"name\":\"\u66f8\u304d\u8fbc\u307f\u30c7\u30fc\u30bf\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":740,\"y\":260,\"wires\":[]},{\"id\":\"838fa4c.eef7fd8\",\"type\":\"comment\",\"z\":\"64589e61.60898\",\"name\":\"DB\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\",\"info\":\"\",\"x\":150,\"y\":340,\"wires\":[]},{\"id\":\"ecfd037.e72c4\",\"type\":\"dashDB out\",\"z\":\"64589e61.60898\",\"service\":\"\",\"table\":\"SENSOR2DB\",\"name\":\"dashDB\u3078\u66f8\u304d\u8fbc\u307f\",\"x\":750,\"y\":220,\"wires\":[]},{\"id\":\"1f8c6452.0e2c14\",\"type\":\"dashDB in\",\"z\":\"64589e61.60898\",\"service\":\"\",\"query\":\"select hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%10)=0;\",\"params\":\"\",\"name\":\"dashDB\u304b\u3089\u8aad\u307f\u8fbc\u307f\",\"x\":320,\"y\":380,\"wires\":[[\"422b2203.7d68e4\"]]}]\n\n```\n\n\n#\u30b5\u30f3\u30d7\u30eb\uff13\uff1a\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0\uff08CC2650)\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8aad\u307f\u51fa\u3057\u3066html\u3067\u8868\u793a\n\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u306f\u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n1. \u30bb\u30f3\u30b5\u30fc\u30bf\u30b0CC2650\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\n2. \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u76f4\u63a5\u66f8\u304d\u8fbc\u307f\u307e\u3059 \n3. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300dfunction\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\u5192\u982d\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u5024\u3092\u8abf\u6574\u3057\u307e\u3059\n4. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u7dd1\u8272\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u8aad\u307f\u51fa\u3059\u30ce\u30fc\u30c9\u306eSQL\u6587\u3092\u5909\u66f4\u3057\u3066\u3001\u8aad\u307f\u51fa\u3059\u30c7\u30fc\u30bf\u3092\u9078\u629e\u3057\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-09-08 19.10.41.png](https://qiita-image-store.s3.amazonaws.com/0/125842/ae46c85a-7e00-b05b-0dd0-87e869f9bba8.png)\n\n```lang:DB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u9078\u629e\u3057\u3066\u8868\u793a\n[{\"id\":\"9b802212.ab298\",\"type\":\"inject\",\"z\":\"f2a0ab65.012a4\",\"name\":\"1\u79d2\u6bce\",\"topic\":\"\",\"payload\":\"\",\"payloadType\":\"date\",\"repeat\":\"1\",\"crontab\":\"\",\"once\":false,\"x\":90,\"y\":220,\"wires\":[[]]},{\"id\":\"7fc9fcab.7ae5ac\",\"type\":\"inject\",\"z\":\"f2a0ab65.012a4\",\"name\":\"restart\",\"topic\":\"\",\"payload\":\"0\",\"payloadType\":\"num\",\"repeat\":\"\",\"crontab\":\"\",\"once\":false,\"x\":90,\"y\":260,\"wires\":[[]]},{\"id\":\"db213626.dc386\",\"type\":\"comment\",\"z\":\"f2a0ab65.012a4\",\"name\":\"IoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067DB\u3078\u66f8\u304d\u8fbc\u307f\",\"info\":\"\",\"x\":180,\"y\":80,\"wires\":[]},{\"id\":\"6e9b276c.ffdf2\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u65e5\u4ed8\u6642\u523b\u306e\u8ffd\u52a0\",\"func\":\"var d = new Date();\\nvar localTime = d.getTime();\\nvar localOffset = d.getTimezoneOffset() * 60000;\\nvar utc = localTime + localOffset;\\nvar offset = -9.0;\\nvar result = utc - (3600000 * offset);\\nvar date = parseInt(new Date(result) / 1000);\\nvar dt = new Date(result);\\n\\nvar year = dt.getFullYear();\\nvar month = dt.getMonth()+1;\\nvar day = dt.getDate();\\nvar hour = dt.getHours();\\nvar minute = dt.getMinutes();\\nvar second = dt.getSeconds();\\n//if (!msg.payload) {\\n//    msg.payload = { \\\"initial\\\": \\\"value\\\" };\\n//}\\nif (!msg.date) {\\n    msg.date = { \\\"initial\\\": \\\"value\\\" };\\n}\\nmsg.date = {\\n        \\\"date\\\": date,\\n        \\\"year\\\": year,\\n        \\\"month\\\": month,\\n        \\\"day\\\": day,\\n        \\\"hour\\\": hour,\\n        \\\"minute\\\": minute,\\n        \\\"second\\\": second\\n};\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":281,\"y\":160,\"wires\":[[\"90078fcf.843928\"]]},{\"id\":\"1800effa.3c6348\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u8868\u3078\u66f8\u304d\u8fbc\u3080\",\"func\":\"msg.payload = \\n{ \\n\\tDATE : msg.date.date,\\n\\tDAY : msg.date.day,\\n\\tHOUR : msg.date.hour,\\n\\tMINUTE : msg.date.minute,\\n\\tMONTH : msg.date.month,\\n\\tSECOND : msg.date.second,\\n\\tYEAR : msg.date.year,\\n\\tACCELX : msg.sensor.accelX,\\n\\tACCELY : msg.sensor.accelY,\\n\\tACCELZ : msg.sensor.accelZ,\\n\\tAMBIENTTEMP : msg.sensor.ambientTemp,\\n\\tGYROX : msg.sensor.gyroX,\\n\\tGYROY : msg.sensor.gyroY,\\n\\tGYROZ : msg.sensor.gyroZ,\\n\\tHUMIDITY : msg.sensor.humidity,\\n\\tLIGHT : msg.sensor.light,\\n    MAGX : msg.sensor.magX,\\n\\tMAGY :msg.sensor.magY,\\n\\tMAGZ : msg.sensor.magZ,\\n\\tOBJECTTEMP : msg.sensor.objectTemp\\n};\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":500,\"y\":240,\"wires\":[[\"3eb9243.1b9d1dc\"]]},{\"id\":\"124f8c12.f03f4c\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\",\"func\":\"var sampling_min_interval = 1;\\nvar sampling_sec_interval = 60;     // \u30c7\u30fc\u30bf\u3092\u51fa\u529b\u3059\u308b\u9593\u9694\\n\\n/*\\nvar sum = 0, average = 0;\\nvar sen1 = Math.floor(Math.random () * 10) + 1;\u3000// \u30bb\u30f3\u30b5\u30fc\u5024\u3092\u751f\u6210\uff08\u30b7\u30df\u30e5\u30ec\u30fc\u30c8\uff09\\n\\nif ( !context.array ) {\\n    context.array = new Array (10); //\u76f4\u8fd1\uff11\uff10\u4ef6\u5206\u3092\u4fdd\u6301\\n}\\nvar shifted = context.array.shift();\\ncontext.array.push(sen1);           // \u6700\u65b0\u306e\u5024\u3092\u4fdd\u5b58\\nvar length = context.array.length;\\n\\nfor (k=0; k<length; k++) {\\n        sum = sum + context.array[k];   // \u5408\u8a08\u3092\u7b97\u51fa\\n}\\n\\nvar hour = JSON.stringify(msg.date.hour);\\nvar min_org  = JSON.stringify(msg.date.minute);\\nvar min = ( \\\"0\\\" + min_org ).substr( -2 );       // \u4e00\u6841\u5206\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar sec_org  = JSON.stringify(msg.date.second);\\nvar sec = ( \\\"0\\\" + sec_org ).substr( -2 );       // \u4e00\u6841\u79d2\u306e\u5834\u5408\u3001\u4e8c\u6841\u306b\\nvar time = hour + \\\":\\\" + min + \\\":\\\" + sec;\\n\\naverage = sum / length;\\nvar data = [[time],[sen1],[average]];\\nmsg.sensor.average = average;\\n*/\\nif ( ( msg.date.second % sampling_sec_interval ) !== 0 ) return;\\nif ( ( msg.date.minute % sampling_min_interval ) !== 0 ) return;\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":290,\"y\":240,\"wires\":[[\"1800effa.3c6348\"]]},{\"id\":\"f6b0debb.082e48\",\"type\":\"ibmiot in\",\"z\":\"f2a0ab65.012a4\",\"authentication\":\"quickstart\",\"apiKey\":\"\",\"inputType\":\"evt\",\"deviceId\":\"\",\"applicationId\":\"\",\"deviceType\":\"+\",\"eventType\":\"+\",\"commandType\":\"\",\"format\":\"json\",\"name\":\"IBM IoT\",\"service\":\"quickstart\",\"allDevices\":\"\",\"allApplications\":\"\",\"allDeviceTypes\":true,\"allEvents\":true,\"allCommands\":\"\",\"allFormats\":\"\",\"qos\":0,\"x\":70,\"y\":160,\"wires\":[[\"6e9b276c.ffdf2\"]]},{\"id\":\"e99b18e9.c62eb8\",\"type\":\"http in\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\",\"url\":\"/test34\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":90,\"y\":400,\"wires\":[[\"92cc3f19.ad62b8\"]]},{\"id\":\"cdf0fddf.c45b08\",\"type\":\"debug\",\"z\":\"f2a0ab65.012a4\",\"name\":\"op\",\"active\":true,\"console\":\"false\",\"complete\":\"payload.op\",\"x\":750,\"y\":440,\"wires\":[]},{\"id\":\"7002bbf9.47486c\",\"type\":\"template\",\"z\":\"f2a0ab65.012a4\",\"name\":\"html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n   <meta charset=\\\"utf-8\\\">\\n   <title>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n      <script src=\\\"https://d3js.org/d3.v4.min.js\\\"></script>\\n\\n   <style type=\\\"text/css\\\">\\n         /* \u3053\u3053\u306b\u30b9\u30bf\u30a4\u30eb\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059 */\\n      .axis path,\\n      .axis line {\\n         fill: none;\\n         stroke: black;\\n         shape-rendering: crispEdges;\\n      }\\n      .axis text {\\n         font-family: sans-serif;\\n         font-size: 11px;\\n      }\\n   </style>\\n\\n   <div id=\\\"op\\\" foo={{payload.op}}/>\\n\\n<script type=\\\"text/javascript\\\">\\n\\nvar op_a = document.getElementById( 'op' ).getAttribute( 'foo' );\\t//\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\\nop_a = op_a.substr( 0, op_a.length-1 ) ;\\t//\u672b\u5c3e\u306e\\\"/\\\"\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\\nvar op_a2 = JSON.parse(op_a);\\t//JSON\u6587\u5b57\u5217\u304b\u3089javascript\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5fa9\u5143\\n\\nvar op_a3 = new Array();\\nfor(var i in op_a2){\\n\\top_a3.push(op_a2[i].AMBIENTTEMP);\\t//AMBIENTTEMP\u3092\u53d6\u308a\u51fa\u3057\u3066\u914d\u5217op_a3\u306b\u9806\u6b21\u683c\u7d0d\\n}\\n\\nvar op_a5 = new Array();\\nfor(var i in op_a2){\\n\\top_a5.push(op_a2[i].HOUR + \\\":\\\" + (( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 )));\\n}\\n\\n   // \u5e45\uff08 Width \uff09\u3068\u9ad8\u3055\uff08 height \uff09\\n   var w = 800;\\n   var h = 300;\\n   var zoom =5;\\n   var barPadding = 1;  // \u68d2\u30b0\u30e9\u30d5\u306e\u68d2\u3068\u68d2\u306e\u9593\u9694\\n   var margin = 30;     // \u30b0\u30e9\u30d5\u8868\u793a\u57df\u306e\u307e\u308f\u308a\u306e\u4f59\u767d\\n   \\n   var dataset = op_a3;\\n   var datasetT = op_a5;\\n   \\n   // \u30b9\u30b1\u30fc\u30eb\u95a2\u6570\u306e\u751f\u6210\\n   var xScale = d3.scaleLinear()\\n         .domain([0, d3.max(dataset, function(d) { return d; })])\\n         .range([margin, w + margin * 2]);\\n\\n   var yScale = d3.scaleLinear()\\n            .domain([0, (h-margin) / zoom]) // Y\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u3092\u68d2\u30b0\u30e9\u30d5\u3068\u4e00\u81f4\u3055\u305b\u308b\\n            .range([h-margin, 0]);\u3000\u3000\u3000\u3000// Y\u8ef8\u8868\u793a\u5834\u6240\\n\\n   // X \u8ef8\u306e\u5b9a\u7fa9\\n   var xAxis = d3.axisBottom()\\n        .scale(xScale);\\n\\n   // Y \u8ef8\u306e\u5b9a\u7fa9\\n   var yAxis = d3.axisLeft(yScale);\\n   \\n   // SVG \u8981\u7d20\u306e\u751f\u6210\\n   var canvas = d3.select(\\\"body\\\")\\n         .append(\\\"svg\\\")\\n         .attr(\\\"width\\\", w)\\n         .attr(\\\"height\\\", h);\\n\\n   canvas.selectAll(\\\"rect\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"rect\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * zoom) - margin;\\n         })\\n         .attr(\\\"width\\\", (w-margin) / dataset.length - barPadding)\\n         .attr(\\\"height\\\", function(d) {\\n            return d * zoom;\\n         })\\n         .attr(\\\"fill\\\", function(d) {\\n//            return \\\"rgb(0, 0, \\\" + ( ( (d-20) * 10 ) + 100 ) + \\\")\\\";\\n            return \\\"rgb(0, 51, 255)\\\";\\n                     });\\n\\t\\t \\n   canvas.selectAll(\\\"text\\\")\\n         .data(datasetT)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n          .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin + ((w-margin) / dataset.length - barPadding ) / 2;\\n         })\\n        .attr(\\\"y\\\", function(d) {\\n            return h;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"black\\\");\\n\\n/*    canvas.selectAll(\\\"text\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + (w / dataset.length - barPadding) / 2  + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * 4) + 14  - margin;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"white\\\");\\n*/\\n   // X \u8ef8\u306e\u751f\u6210\\n//   canvas.append(\\\"g\\\")\\n//         .attr(\\\"class\\\", \\\"axisBottom\\\")\\n//         .attr(\\\"transform\\\", \\\"translate(0,\\\" + (h - margin) + \\\")\\\")\\n//         .call(xAxis);\\n\\n   // Y \u8ef8\u306e\u751f\u6210\\n   canvas.append(\\\"g\\\")\\n         .attr(\\\"class\\\", \\\"axisLeft\\\")\\n         .attr(\\\"transform\\\", \\\"translate(\\\" + margin + \\\",0)\\\")\\n         .call(yAxis);\\n\\t\\t \\n\\t\\t \\n   var m =  0;\\n   var mh = 0;\\n   var mm = 0;\\n   var mt = 0;\\n   for(var i in op_a2){\\n\\t   if (m < Number(op_a2[i].AMBIENTTEMP)) {\\n\\t       m = Number(op_a2[i].AMBIENTTEMP);\\n\\t\\t   mh = op_a2[i].HOUR;\\n\\t\\t   mm = ( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 ) ;\\n\\t\\t   mt = op_a2[i].AMBIENTTEMP;\\n    //console.log(\\\"max found was \\\" + mh + \\\":\\\" + mm + \\\" \\\" + mt);\\n\\t   }\\n   }\\n\\n   m = mh + \\\":\\\" + mm;\\n\\n   window.onload = function onLoad() {\\n      var target1 = document.getElementById(\\\"output1\\\");\\n         target1.innerHTML = m;\\n      var target2 = document.getElementById(\\\"output2\\\");\\n         target2.innerHTML = mt;\\n\\t}\\n\\t\\n</script>\\n</head>\\n<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\t\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t\\t<h2>\u6700\u9ad8\u5024\u306e\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u6700\u9ad8\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span> \u2103\\n</div>\\n</body>\\n</html>\",\"x\":770,\"y\":400,\"wires\":[[\"928a0ea8.cbdab\"]]},{\"id\":\"928a0ea8.cbdab\",\"type\":\"http response\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\",\"x\":910,\"y\":400,\"wires\":[]},{\"id\":\"43a2beab.5938e8\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"stringify\",\"func\":\"var m = JSON.stringify(msg.payload);\\nmsg.payload.op = m;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":600,\"y\":400,\"wires\":[[\"7002bbf9.47486c\",\"cdf0fddf.c45b08\"]]},{\"id\":\"6953c1c.cf749c\",\"type\":\"dashDB in\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"query\":\"select hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%10)=0;\",\"params\":\"\",\"name\":\"dashDB\u304b\u3089\u8aad\u307f\u8fbc\u307f\",\"x\":300,\"y\":400,\"wires\":[[]]},{\"id\":\"90078fcf.843928\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u5f85\u907f\",\"func\":\"msg.sensor = {\\n        \\\"accelX\\\": msg.payload.d.accelX,\\n        \\\"accelY\\\": msg.payload.d.accelY,\\n        \\\"accelZ\\\": msg.payload.d.accelZ,\\n        \\\"ambientTemp\\\": msg.payload.d.ambientTemp,\\n        \\\"gyroX\\\": msg.payload.d.gyroX,\\n        \\\"gyroY\\\": msg.payload.d.gyroY,\\n        \\\"gyroZ\\\": msg.payload.d.gyroZ,\\n        \\\"humidity\\\": msg.payload.d.humidity,\\n        \\\"light\\\": msg.payload.d.light,\\n        \\\"magX\\\": msg.payload.d.magX,\\n        \\\"magY\\\": msg.payload.d.magY,\\n        \\\"magZ\\\": msg.payload.d.magZ,\\n        \\\"objectTemp\\\": msg.payload.d.objectTemp,\\n};\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":510,\"y\":160,\"wires\":[[\"124f8c12.f03f4c\"]]},{\"id\":\"7d0b0217.a388b4\",\"type\":\"dashDB out\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"table\":\"SENSOR2DB\",\"name\":\"dashDB\u3078\u66f8\u304d\u8fbc\u307f\",\"x\":730,\"y\":240,\"wires\":[]},{\"id\":\"3eb9243.1b9d1dc\",\"type\":\"debug\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\u66f8\u304d\u8fbc\u307f\u30c7\u30fc\u30bf\",\"active\":true,\"console\":\"false\",\"complete\":\"payload\",\"x\":720,\"y\":280,\"wires\":[]},{\"id\":\"92cc3f19.ad62b8\",\"type\":\"dashDB in\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"query\":\"select hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%30)=0 and day=29;\",\"params\":\"\",\"name\":\"30\u5206\u6bce\u306e\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\",\"x\":320,\"y\":440,\"wires\":[[\"43a2beab.5938e8\"]]},{\"id\":\"b0c6261f.e2346\",\"type\":\"dashDB in\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"query\":\"select hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%60)=0;\",\"params\":\"\",\"name\":\"\u4e00\u6642\u9593\u6bce\u306e\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\",\"x\":320,\"y\":480,\"wires\":[[]]},{\"id\":\"f15821f9.e9ba7\",\"type\":\"dashDB in\",\"z\":\"f2a0ab65.012a4\",\"service\":\"dashDB-rk\",\"query\":\"select month,day,hour,minute,ambienttemp, objecttemp  from SENSOR2DB where (minute%15)=0 and day=29 and hour<20;\",\"params\":\"\",\"name\":\"30\u5206\u6bce\u306e\u65e5\u4ed8\u3082\u542b\u3081\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\",\"x\":350,\"y\":560,\"wires\":[[\"4fa21c30.4eadd4\"]]},{\"id\":\"4fa21c30.4eadd4\",\"type\":\"function\",\"z\":\"f2a0ab65.012a4\",\"name\":\"stringify\",\"func\":\"var m = JSON.stringify(msg.payload);\\nmsg.payload.op = m;\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":600,\"y\":560,\"wires\":[[\"5e1ab7c3.c3f428\"]]},{\"id\":\"5e1ab7c3.c3f428\",\"type\":\"template\",\"z\":\"f2a0ab65.012a4\",\"name\":\"html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE html>\\n<html lang=\\\"ja\\\">\\n<head>\\n   <meta charset=\\\"utf-8\\\">\\n   <title>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</title>\\n      <script src=\\\"https://d3js.org/d3.v4.min.js\\\"></script>\\n\\n   <style type=\\\"text/css\\\">\\n         /* \u3053\u3053\u306b\u30b9\u30bf\u30a4\u30eb\u30eb\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u307e\u3059 */\\n      .axis path,\\n      .axis line {\\n         fill: none;\\n         stroke: black;\\n         shape-rendering: crispEdges;\\n      }\\n      .axis text {\\n         font-family: sans-serif;\\n         font-size: 11px;\\n      }\\n   </style>\\n\\n   <div id=\\\"op\\\" foo={{payload.op}}/>\\n\\n<script type=\\\"text/javascript\\\">\\n\\nvar op_a = document.getElementById( 'op' ).getAttribute( 'foo' );\\t//\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\\nop_a = op_a.substr( 0, op_a.length-1 ) ;\\t//\u672b\u5c3e\u306e\\\"/\\\"\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\u306e\u3067\\nvar op_a2 = JSON.parse(op_a);\\t//JSON\u6587\u5b57\u5217\u304b\u3089javascript\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5fa9\u5143\\n\\nvar op_a3 = new Array();\\nfor(var i in op_a2){\\n\\top_a3.push(op_a2[i].AMBIENTTEMP);\\t//AMBIENTTEMP\u3092\u53d6\u308a\u51fa\u3057\u3066\u914d\u5217op_a3\u306b\u9806\u6b21\u683c\u7d0d\\n}\\n\\nvar op_a5 = new Array();\\nfor(var i in op_a2){\\n\\top_a5.push(op_a2[i].HOUR + \\\":\\\" + (( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 )));\\n}\\n\\n   // \u5e45\uff08 Width \uff09\u3068\u9ad8\u3055\uff08 height \uff09\\n   var w = 800;\\n   var h = 300;\\n   var zoom =5;\\n   var barPadding = 1;  // \u68d2\u30b0\u30e9\u30d5\u306e\u68d2\u3068\u68d2\u306e\u9593\u9694\\n   var margin = 30;     // \u30b0\u30e9\u30d5\u8868\u793a\u57df\u306e\u307e\u308f\u308a\u306e\u4f59\u767d\\n   \\n   var dataset = op_a3;\\n   var datasetT = op_a5;\\n   \\n   // \u30b9\u30b1\u30fc\u30eb\u95a2\u6570\u306e\u751f\u6210\\n   var xScale = d3.scaleLinear()\\n         .domain([0, d3.max(dataset, function(d) { return d; })])\\n         .range([margin, w + margin * 2]);\\n\\n   var yScale = d3.scaleLinear()\\n            .domain([0, (h-margin) / zoom]) // Y\u8ef8\u306e\u30b9\u30b1\u30fc\u30eb\u3092\u68d2\u30b0\u30e9\u30d5\u3068\u4e00\u81f4\u3055\u305b\u308b\\n            .range([h-margin, 0]);\u3000\u3000\u3000\u3000// Y\u8ef8\u8868\u793a\u5834\u6240\\n\\n   // X \u8ef8\u306e\u5b9a\u7fa9\\n   var xAxis = d3.axisBottom()\\n        .scale(xScale);\\n\\n   // Y \u8ef8\u306e\u5b9a\u7fa9\\n   var yAxis = d3.axisLeft(yScale);\\n   \\n   // SVG \u8981\u7d20\u306e\u751f\u6210\\n   var canvas = d3.select(\\\"body\\\")\\n         .append(\\\"svg\\\")\\n         .attr(\\\"width\\\", w)\\n         .attr(\\\"height\\\", h);\\n\\n   canvas.selectAll(\\\"rect\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"rect\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * zoom) - margin;\\n         })\\n         .attr(\\\"width\\\", (w-margin) / dataset.length - barPadding)\\n         .attr(\\\"height\\\", function(d) {\\n            return d * zoom;\\n         })\\n         .attr(\\\"fill\\\", function(d) {\\n//            return \\\"rgb(0, 0, \\\" + ( ( (d-20) * 10 ) + 100 ) + \\\")\\\";\\n            return \\\"rgb(0, 51, 255)\\\";\\n                     });\\n\\t\\t \\n   canvas.selectAll(\\\"text\\\")\\n         .data(datasetT)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n          .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + margin + ((w-margin) / dataset.length - barPadding ) / 2;\\n         })\\n        .attr(\\\"y\\\", function(d) {\\n            return h;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"black\\\");\\n\\n/*    canvas.selectAll(\\\"text\\\")\\n         .data(dataset)\\n         .enter()\\n         .append(\\\"text\\\")\\n         .text(function(d) {\\n            return d;\\n         })\\n         .attr(\\\"text-anchor\\\", \\\"middle\\\")\\n         .attr(\\\"x\\\", function(d, i) {\\n            return i * ((w-margin) / dataset.length) + (w / dataset.length - barPadding) / 2  + margin;\\n         })\\n         .attr(\\\"y\\\", function(d) {\\n            return h - (d * 4) + 14  - margin;\\n         })\\n         .attr(\\\"font-family\\\", \\\"sans-serif\\\")\\n         .attr(\\\"font-size\\\", \\\"11px\\\")\\n         .attr(\\\"fill\\\", \\\"white\\\");\\n*/\\n   // X \u8ef8\u306e\u751f\u6210\\n//   canvas.append(\\\"g\\\")\\n//         .attr(\\\"class\\\", \\\"axisBottom\\\")\\n//         .attr(\\\"transform\\\", \\\"translate(0,\\\" + (h - margin) + \\\")\\\")\\n//         .call(xAxis);\\n\\n   // Y \u8ef8\u306e\u751f\u6210\\n   canvas.append(\\\"g\\\")\\n         .attr(\\\"class\\\", \\\"axisLeft\\\")\\n         .attr(\\\"transform\\\", \\\"translate(\\\" + margin + \\\",0)\\\")\\n         .call(yAxis);\\n\\t\\t \\n\\t\\t \\n   var m =  0;\\n   var mh = 0;\\n   var mm = 0;\\n   var mt = 0;\\n   var month = 0;\\n   var day = 0;\\n   for(var i in op_a2){\\n\\t   if (m < Number(op_a2[i].AMBIENTTEMP)) {\\n\\t       m = Number(op_a2[i].AMBIENTTEMP);\\n\\t\\t   month = op_a2[i].MONTH;\\n\\t\\t   day = op_a2[i].DAY; \\n\\t\\t   mh = op_a2[i].HOUR;\\n\\t\\t   mm = ( \\\"0\\\" + op_a2[i].MINUTE ).substr( -2 ) ;\\n\\t\\t   mt = op_a2[i].AMBIENTTEMP;\\n    //console.log(\\\"max found was \\\" + mh + \\\":\\\" + mm + \\\" \\\" + mt);\\n\\t   }\\n   }\\n\\n   m = mh + \\\":\\\" + mm;\\n\\n   window.onload = function onLoad() {\\n      var target1 = document.getElementById(\\\"output1\\\");\\n         target1.innerHTML = m;\\n      var target2 = document.getElementById(\\\"output2\\\");\\n         target2.innerHTML = mt;\\n\\n\\t  var target3 = document.getElementById(\\\"output3\\\");\\n         target3.innerHTML = month;\\n      var target4 = document.getElementById(\\\"output4\\\");\\n         target4.innerHTML = day;\\n\\t}\\n\\t\\n</script>\\n</head>\\n<body>\\n\\n<div id=\\\"a-box\\\" style=\\\"background-color: #87cefa; padding: 20px;\\\">\\n\\t<h1>\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u8868\u793a</h1>\\n\\t<br />\\n\\t<p>\\n\\t\\t\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059<br />\\n\\t</p>\\n</div>\\n\\n<div id=\\\"b-box\\\" style=\\\"background-color: #ecf2fe; padding: 20px; \\\">\\n\\t\\t<h2>\u65e5\u4ed8</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output3\\\"></span> \u6708\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output4\\\"></span> \u65e5\\n\\t\\t<h2>\u6700\u9ad8\u5024\u306e\u6642\u523b</h2>\\n\\t\\t\\t<div style=\\\"text-align:left\\\" id=\\\"output0\\\"></div>\\n\\t\\t\\t<div style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output1\\\"></div>\\n\\t\\t<h2>\u6700\u9ad8\u5024\u3000</h2>\\n\\t\\t\\t<span style=\\\"text-align:left;font-size: 18pt\\\" id=\\\"output2\\\"></span> \u2103\\n</div>\\n</body>\\n</html>\",\"x\":770,\"y\":560,\"wires\":[[\"3609e22b.58e26e\"]]},{\"id\":\"3609e22b.58e26e\",\"type\":\"http response\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\",\"x\":910,\"y\":560,\"wires\":[]},{\"id\":\"77f5b038.8b8ce8\",\"type\":\"http in\",\"z\":\"f2a0ab65.012a4\",\"name\":\"\",\"url\":\"/test35\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":90,\"y\":560,\"wires\":[[\"f15821f9.e9ba7\"]]},{\"id\":\"24c5f10a.912c06\",\"type\":\"comment\",\"z\":\"f2a0ab65.012a4\",\"name\":\"DB\u304b\u3089\u8aad\u307f\u51fa\u3057\u305f\u30c7\u30fc\u30bf\u3092html\u3067\u8868\u793a\",\"info\":\"\",\"x\":170,\"y\":360,\"wires\":[]}]\n\n```\n\n#\u30b5\u30f3\u30d7\u30eb\uff14\uff1aAlpS Smart IoT Module\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8aad\u307f\u51fa\u3057\u3066html\u3067\u8868\u793a\n\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u306fAlps Smart IoT Module\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u305d\u308c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n1. Alps Smart IoT Module\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\n2. \u6307\u5b9a\u3057\u305f\u9593\u9694\u3067dashDB\u3078\u76f4\u63a5\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306fALPSIOT\u3068\u3044\u3046\u8868\u3078\u66f8\u304d\u8fbc\u3093\u3067\u3044\u307e\u3059 \n3. 2\u3064\u306e\u30aa\u30ec\u30f3\u30b8\u8272\u306eTemplate\u30ce\u30fc\u30c9\u3092\u958b\u304d\u300c\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d\u300d\u90e8\u5206\u3092\u305d\u308c\u305e\u308c\u306eNode-RED\u30a2\u30d7\u30ea\u540d\u306b\u4e00\u81f4\u3055\u305b\u307e\u3059\n4. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u300c\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u51fa\u529b\u300dfunction\u30ce\u30fc\u30c9\u3092\u958b\u304d\u3001\u5192\u982d\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u5024\u3092\u8abf\u6574\u3057\u307e\u3059\n5. \u5fc5\u8981\u306b\u5fdc\u3058\u3001\u7dd1\u8272\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u8aad\u307f\u51fa\u3059\u30ce\u30fc\u30c9\u306eSQL\u6587\u3092\u5909\u66f4\u3057\u3066\u3001\u8aad\u307f\u51fa\u3059\u30c7\u30fc\u30bf\u3092\u9078\u629e\u3057\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-30 10.35.05.png](https://qiita-image-store.s3.amazonaws.com/0/125842/18406479-de56-193a-602e-9ae089a72132.png)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-30 10.32.59.png](https://qiita-image-store.s3.amazonaws.com/0/125842/1d2a7c1f-db55-4c90-12e9-bb26b1073c48.png)\n\n```lang:DB\u3078\u66f8\u304d\u8fbc\u307f\u3001\u9078\u629e\u3057\u3066\u8868\u793a\n[{\"id\":\"f65c24c1.63c7b8\",\"type\":\"http in\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"url\":\"/test54a\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":110,\"y\":100,\"wires\":[[\"53dec3e1.f5c2dc\"]]},{\"id\":\"6b45354f.4e0f2c\",\"type\":\"http response\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"x\":490,\"y\":100,\"wires\":[]},{\"id\":\"53dec3e1.f5c2dc\",\"type\":\"template\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\u5165\u529b\u7528test54a\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n<head>\\n  <title>IoT Quick Dashboard</title>\\n  <meta charset=\\\"utf-8\\\" />\\n  <style type=\\\"text/css\\\">\\n  #basic {\\n  }\\n\\n  .a1 {\\n    background-color:  #98d98e;\\n    height: 120px;\\n    padding: 20px;\\n  }\\n  .b1 {\\n    background-color:  #cee4ae;\\n    height: 500px;\\n    text-align:left;\\n    font-size: 18pt;\\n    padding: 20px;\\n    font-family: Meiryo;\\n  }\\n  .y1 {\\n    background-color: #e4dc8a;\\n    height: 250px;\\n  }\\n  .z1 {\\n    height: 25px;\\n    background-color: #8f8667;\\n    font-size: 18px;\\n    text-align: center;\\n  }\\n\\n  </style>\\n</head>\\n<body>\\n  <div id='basic'>\\n    <div class='a1'>\\n      <h2>IoT Quick Dashboard</h2><br>\\n      \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\\n    </div>\\n    <div class='b1'>\\n      <b>\u5165\u529b\uff01</b>\\n      <P>\u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</P>\\n      <form action=\\\"http://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/test55a\\\" method=\\\"get\\\">\\n        <select name=\\\"machine\\\" style=\\\"font-size:24px\\\">\\n          <option>ALPSIOT</option>\\n          <option>ALPSIOT2</option>\\n        </select><br><br>\\n        \u3053\u306e\u65e5\u6642\u304b\u3089 <input type=\\\"datetime-local\\\" name=\\\"starttime\\\" value=\\\"2014-01-21T10:00\\\" step=\\\"60\\\"  style=\\\"font-size:18px\\\"><br>\\n        \u3053\u306e\u65e5\u6642\u307e\u3067  <input type=\\\"datetime-local\\\" name=\\\"endtime\\\" value=\\\"2014-01-21T16:00\\\" step=\\\"60\\\"  style=\\\"font-size:18px \\\"><br><br>\\n        <button type=\\\"submit\\\" name=\\\"submit\\\" value=\\\"\u9001\u4fe1\\\">\\n          <font size=\\\"2\\\">\u8868\u793a\u8981\u6c42\u3092</font><font size=\\\"5\\\" color=\\\"red\\\">\u9001\u4fe1\uff01</font>\\n        </button>\\n        <INPUT type=\\\"reset\\\" value=\\\"\u30ea\u30bb\u30c3\u30c8\\\"><BR><BR>\\n        </FORM>\\n      </div>\\n      <div class=\\\"y1\\\">\\n        \u53c2\u8003URL\\n        <ul>\\n          <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n          <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n          <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n        </ul>\\n        \u30de\u30cb\u30e5\u30a2\u30eb\\n        <ul>\\n          <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n          <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n          <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n        </ul>\\n      </div>\\n      <div class=\\\"z1\\\">\\n        copyright (c) abc.com All right reserved.\\n      </div>\\n    </div>\\n  </body>\\n  </html>\\n\",\"x\":300,\"y\":100,\"wires\":[[\"6b45354f.4e0f2c\"]]},{\"id\":\"3f28fb34.21ad8c\",\"type\":\"http in\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"url\":\"/test55a\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":110,\"y\":200,\"wires\":[[\"c95233b9.8ea46\"]]},{\"id\":\"fa420c3e.f2347\",\"type\":\"comment\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"DB\u304b\u3089\u5024\u3092\u53d6\u5f97\u3057\u8868\u793a\",\"info\":\"\",\"x\":120,\"y\":160,\"wires\":[]},{\"id\":\"239ed8cc.23c82\",\"type\":\"comment\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\u8868\u793a\u3059\u308b\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\",\"info\":\"\",\"x\":130,\"y\":60,\"wires\":[]},{\"id\":\"c95233b9.8ea46\",\"type\":\"function\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\u6642\u9593\u3092\u53d6\u5f97\",\"func\":\"msg.tgt = msg.payload.tgt;\\n\\nvar arr1 = msg.payload.starttime.split(/[T]/);\\nmsg.starttime = arr1[0] + \\\" \\\" + arr1[1] + \\\":00\\\";\\n\\nvar arr2 = msg.payload.endtime.split(/[T]/);\\nmsg.endtime = arr2[0] + \\\" \\\" + arr2[1] + \\\":00\\\";\\n\\n//msg.newstarttime = parseInt ( Date(msg.startime) );\\n//msg.newendtime = parseInt ( Date(msg.endime)  );\\n\\n\\nvar st = msg.startime;\\n\\nmsg.newstarttime = Date.parse(st);\\n\\n//var st_parse = st.replace(/-/g, '/');\\n//msg.newstarttime = Date.parse(st_parse);\\n\\n//msg.newstarttime = Date.parse( st.datetime.replace( /-/g, '/') ) / 1000;\\n//msg.newstarttime = Date.parse( st ) / 1000;\\n\\n//var et = msg.endime;\\nvar st_parse = msg.starttime.replace(/-/g, '/');\\nmsg.newstarttime = Date.parse(st_parse) / 1000;\\n\\nvar et_parse = msg.endtime.replace(/-/g, '/');\\nmsg.newendtime = Date.parse(et_parse) / 1000;\\n\\n//msg.newendtime = Date.parse( et.replace( /-/g, '/') ) / 1000;\\n//msg.newendtime = Date.parse( et ) / 1000;\\n\\n//var ts = \\\"2011-10-14 00:00:00\\\";\\n//print( Date.parse( ts.replace( /-/g, '/') ) / 1000 );\\n\\n\\nmsg.machine = msg.payload.machine;\\n\\nreturn msg;\",\"outputs\":1,\"noerr\":0,\"x\":270,\"y\":200,\"wires\":[[\"91c4ec0d.755b68\"]]},{\"id\":\"4c2f7051.8ad29\",\"type\":\"function\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\u7d50\u679c\u3092\u30bb\u30c3\u30c8\",\"func\":\"\\nvar i = 0;\\nvar len = msg.payload.length;\\nvar arr01 = new Array(); var arr02 = new Array(); var arr03 = new Array(); var arr04 = new Array();\\nvar arr05 = new Array(); var arr06 = new Array(); var arr07 = new Array(); var arr08 = new Array();\\nvar arr09 = new Array(); var arr10 = new Array(); var arr11 = new Array(); var arr12 = new Array();\\nvar arr13 = new Array();\\n\\nfor (i; i < len; i++) {\\n    //var c1 = msg.payload[i]['DATE'];\\n    var c1 = i;\\n    arr01.push([c1,parseFloat(msg.payload[i]['DATE'])]);\\n    arr02.push([c1,parseFloat(msg.payload[i]['HOUR'])]);\\n    arr03.push([c1,parseFloat(msg.payload[i]['MINUTE'])]);\\n    arr04.push([c1,parseFloat(msg.payload[i]['ACCELX'])]);\\n    arr05.push([c1,parseFloat(msg.payload[i]['ACCELY'])]);\\n    arr06.push([c1,parseFloat(msg.payload[i]['ACCELZ'])]);\\n    arr07.push([c1,parseFloat(msg.payload[i]['AMBIENTLIGHT'])]);\\n    arr08.push([c1,parseFloat(msg.payload[i]['GEOMAGNETICX'])]);\\n    arr09.push([c1,parseFloat(msg.payload[i]['GEOMAGNETICY'])]);\\n    arr10.push([c1,parseFloat(msg.payload[i]['GEOMAGNETICZ'])]);\\n    arr11.push([c1,parseFloat(msg.payload[i]['HUMIDITY'])]);\\n    arr12.push([c1,parseFloat(msg.payload[i]['PRESSURE'])]);\\n    arr13.push([c1,parseFloat(msg.payload[i]['UV'])]);\\n}\\n\\nmsg.payload.r01 = JSON.stringify(arr01);\\nmsg.payload.r02 = JSON.stringify(arr02);\\nmsg.payload.r03 = JSON.stringify(arr03);\\nmsg.payload.r04 = JSON.stringify(arr04);\\nmsg.payload.r05 = JSON.stringify(arr05);\\nmsg.payload.r06 = JSON.stringify(arr06);\\nmsg.payload.r07 = JSON.stringify(arr07);\\nmsg.payload.r08 = JSON.stringify(arr08);\\nmsg.payload.r09 = JSON.stringify(arr09);\\nmsg.payload.r10 = JSON.stringify(arr10);\\nmsg.payload.r11 = JSON.stringify(arr11);\\nmsg.payload.r12 = JSON.stringify(arr12);\\nmsg.payload.r13 = JSON.stringify(arr13);\\n\\n/*\\nmsg.payload = JSON.stringify(arr01) + \\\"&\\\" + JSON.stringify(arr02) + \\\"&\\\" + JSON.stringify(arr03) + \\\"&\\\" + JSON.stringify(arr04) +\\n              JSON.stringify(arr05) + \\\"&\\\" + JSON.stringify(arr06) + \\\"&\\\" + JSON.stringify(arr07) + \\\"&\\\" + JSON.stringify(arr08) +\\n              JSON.stringify(arr09) + \\\"&\\\" + JSON.stringify(arr10) + \\\"&\\\" + JSON.stringify(arr11) + \\\"&\\\" + JSON.stringify(arr12) +\\n              JSON.stringify(arr13);\\n*/\\n\\nreturn msg;\\n\",\"outputs\":1,\"noerr\":0,\"x\":580,\"y\":200,\"wires\":[[\"a1b765cf.fdbfa\"]]},{\"id\":\"a1b765cf.fdbfa\",\"type\":\"template\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"test55a.html\u8fd4\u5374\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>IoT Quick Dashboard</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n<script type=\\\"text/javascript\\\" src=\\\"https://www.google.com/jsapi\\\"></script>\\n<script type=\\\"test/javascript\\\" src=\\\"https://www.gstatic.com/charts/loader.js\\\"></script>\\n\\n\\n<style type=\\\"text/css\\\">\\n#basic {\\n}\\n\\n.a1 {\\n  background-color:  #98d98e;\\n  height: 120px;\\n  padding: 20px;\\n}\\n.c1 {\\n  background-color:  #cee4ae;\\n  height: 500px;\\n  text-align:left;\\n  font-size: 18pt;\\n  padding: 20px;\\n  font-family: Meiryo;\\n}\\n\\n#d1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #c1d8ac;\\n}\\n#d2 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #b9d08b;\\n}\\n#d3 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #badcad;\\n}\\n\\n#e1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #c1d8ac;\\n}\\n#e2 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #b9d08b;\\n}\\n#e3 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #badcad;\\n}\\n\\n#f1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #c1d8ac;\\n}\\n#f2 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #b9d08b;\\n}\\n#f3 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #badcad;\\n}\\n\\n#g1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #c1d8ac;\\n}\\n#g2 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #b9d08b;\\n}\\n#g3 {\\n  float: left;\\n  width: 400px;\\n  height: 400px;\\n  background-color:  #badcad;\\n}\\n\\n.h1 {\\n  clear: both;\\n  height: 100px;\\n  padding-left: 20px;\\n  background-color:  #c1d8ac;\\n}\\n.j1 {\\n  height: 100px;\\n  padding-left: 20px;\\n  background-color:  #98d98e;\\n}\\n\\n.y1 {\\n  background-color: #e4dc8a;\\n  padding-left: 10px;\\n  height: 250px;\\n}\\n.z1 {\\n  height: 25px;\\n  background-color: #8f8667;\\n  font-size: 18px;\\n  text-align: center;\\n}\\n\\n</style>\\n\u3000</head>\\n\u3000<body>\\n\\n  <div id='basic'>\\n\\n    <div class='a1'>\\n      <h2>IoT Quick Dashboard</h2><br>\\n        \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305fIoT\u30c7\u30fc\u30bf\u3092\u53ef\u8996\u5316\u3057\u307e\u3059\\n    </div>\\n\\n    <div class='c1'>\\n    <b>\u5165\u529b\uff01</b>\\n      <P>\u8868\u793a\u5bfe\u8c61\u306e\u5c5e\u6027\u3068\u671f\u9593\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</P>\\n      <form action=\\\"http://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/test55a\\\" method=\\\"get\\\">\\n        <select name=\\\"machine\\\" style=\\\"font-size:24px\\\">\\n            <option>ALPSIOT</option>\\n            <option>ALPSIOT2</option>\\n        </select><br><br>\\n\\n          \u3053\u306e\u65e5\u6642\u304b\u3089 <input type=\\\"datetime-local\\\" name=\\\"starttime\\\" value=\\\"2017-01-16T10:00\\\" step=\\\"60\\\"  style=\\\"font-size:18px\\\"><br>\\n          \u3053\u306e\u65e5\u6642\u307e\u3067  <input type=\\\"datetime-local\\\" name=\\\"endtime\\\" value=\\\"2017-01-16T16:00\\\" step=\\\"60\\\"  style=\\\"font-size:18px \\\"><br><br>\\n      <button type=\\\"submit\\\" name=\\\"submit\\\" value=\\\"\u9001\u4fe1\\\">\\n      <font size=\\\"2\\\">\u8868\u793a\u8981\u6c42\u3092</font><font size=\\\"5\\\" color=\\\"red\\\">\u9001\u4fe1\uff01</font>\\n      </button>\\n      <INPUT type=\\\"reset\\\" value=\\\"\u30ea\u30bb\u30c3\u30c8\\\"><BR><BR>\\n      </FORM>\\n\\n    </div>\\n\\n    <div id='d1' align=\\\"center\\\">\\n      d1\\n    </div>\\n    <div id='d2' align=\\\"center\\\">\\n      d2\\n    </div>\\n    <div id='d3' align=\\\"center\\\">\\n      d3\\n    </div>\\n\\n    <div id='e1' align=\\\"center\\\">\\n      e1\\n    </div>\\n    <div id='e2' align=\\\"center\\\">\\n      e2\\n    </div>\\n    <div id='e3' align=\\\"center\\\">\\n      e3\\n    </div>\\n\\n    <div id='f1' align=\\\"center\\\">\\n      f1\\n    </div>\\n    <div id='f2' align=\\\"center\\\">\\n      f2\\n    </div>\\n    <div id='f3' align=\\\"center\\\">\\n      f3\\n    </div>\\n\\n    <div id='g1' align=\\\"center\\\">\\n      g1\\n    </div>\\n    <div id='g2' align=\\\"center\\\">\\n      g2\\n    </div>\\n    <div id='g3' align=\\\"center\\\">\\n      g3\\n    </div>\\n\\n    <div class='h1' align=\\\"left\\\">\\n      <h3>\u30a2\u30e9\u30fc\u30c8</h3>\\n    </div>\\n    <div class='j1' align=\\\"center\\\">\\n\\n    </div>\\n\\n<div class=\\\"y1\\\">\\n  \u53c2\u8003URL\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  \u30de\u30cb\u30e5\u30a2\u30eb\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n</div>\\n\\n<div class=\\\"z1\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n</div>\\n\\n\\n<script>\\n\\ngoogle.load(\\\"visualization\\\", \\\"1\\\", {packages:[\\\"corechart\\\"]});\\ngoogle.setOnLoadCallback(drawChart02);\\n\\nfunction drawChart02() {\\n  d1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u7167\u5ea6\\\"],[439,7.0007]] );\\n  d1ChartData.removeRow(0);\\n  d1ChartData.addRows( {{{ payload.r07 }}} );\\n  d1ChartOptions = { title: '\u7167\u5ea6',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  d1Chart = new google.visualization.LineChart(document.getElementById('d1'));\\n  d1Chart.draw(d1ChartData, d1ChartOptions);\\n\\n  d2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u6c17\u5727\\\"],[439,7.0007]] );\\n  d2ChartData.removeRow(0);\\n  d2ChartData.addRows( {{{ payload.r12 }}} );\\n  d2ChartOptions = { title: '\u6c17\u5727',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  d2Chart = new google.visualization.LineChart(document.getElementById('d2'));\\n  d2Chart.draw(d2ChartData, d2ChartOptions);\\n\\n  d3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"UV\u5024\\\"],[439,7.0007]] );\\n  d3ChartData.removeRow(0);\\n  d3ChartData.addRows( {{{ payload.r13 }}} );\\n  d3ChartOptions = {\u3000title: 'UV\u5024',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  d3Chart = new google.visualization.LineChart(document.getElementById('d3'));\\n  d3Chart.draw(d3ChartData, d3ChartOptions);\\n\\n  e1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u52a0\u901f\u5ea6(X\u8ef8)\\\"],[439,7.0007]] );\\n  e1ChartData.removeRow(0);\\n  e1ChartData.addRows( {{{ payload.r04 }}} );\\n  e1ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(X\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  e1Chart = new google.visualization.LineChart(document.getElementById('e1'));\\n  e1Chart.draw(e1ChartData, e1ChartOptions);\\n\\n  e2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u52a0\u901f\u5ea6(Y\u8ef8)\\\"],[439,7.0007]] );\\n  e2ChartData.removeRow(0);\\n  e2ChartData.addRows( {{{ payload.r05 }}} );\\n  e2ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Y\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  e2Chart = new google.visualization.LineChart(document.getElementById('e2'));\\n  e2Chart.draw(e2ChartData, e2ChartOptions);\\n\\n  e3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u52a0\u901f\u5ea6(Z\u8ef8)\\\"],[439,7.0007]] );\\n  e3ChartData.removeRow(0);\\n  e3ChartData.addRows( {{{ payload.r06 }}} );\\n  e3ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Z\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  e3Chart = new google.visualization.LineChart(document.getElementById('e3'));\\n  e3Chart.draw(e3ChartData, e3ChartOptions);\\n\\n  f1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u5730\u78c1\u6c17(X\u8ef8)\\\"],[439,7.0007]] );\\n  f1ChartData.removeRow(0);\\n  f1ChartData.addRows( {{{ payload.r08 }}} );\\n  f1ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(X\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  f1Chart = new google.visualization.LineChart(document.getElementById('f1'));\\n  f1Chart.draw(f1ChartData, f1ChartOptions);\\n\\n  f2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u5730\u78c1\u6c17(Y\u8ef8)\\\"],[439,7.0007]] );\\n  f2ChartData.removeRow(0);\\n  f2ChartData.addRows( {{{ payload.r09 }}} );\\n  f2ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(Y\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  f2Chart = new google.visualization.LineChart(document.getElementById('f2'));\\n  f2Chart.draw(f2ChartData, f2ChartOptions);\\n\\n  f3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u5730\u78c1\u6c17(Z\u8ef8)\\\"],[439,7.0007]] );\\n  f3ChartData.removeRow(0);\\n  f3ChartData.addRows( {{{ payload.r10 }}} );\\n  f3ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(Z\u8ef8)',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  f3Chart = new google.visualization.LineChart(document.getElementById('f3'));\\n  f3Chart.draw(f3ChartData, f3ChartOptions);\\n\\n  g1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u6e7f\u5ea6\\\"],[439,7.0007]] );\\n  g1ChartData.removeRow(0);\\n  g1ChartData.addRows( {{{ payload.r11 }}} );\\n  g1ChartOptions = {\u3000title: '\u6e7f\u5ea6',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  g1Chart = new google.visualization.LineChart(document.getElementById('g1'));\\n  g1Chart.draw(g1ChartData, g1ChartOptions);\\n\\n  g2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"\u6c17\u5727\\\"],[439,7.0007]] );\\n  g2ChartData.removeRow(0);\\n  g2ChartData.addRows( {{{ payload.r12 }}} );\\n  g2ChartOptions = {\u3000title: '\u6c17\u5727',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  g2Chart = new google.visualization.LineChart(document.getElementById('g2'));\\n  g2Chart.draw(g2ChartData, g2ChartOptions);\\n\\n  g3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"INCOMING_EVENT_CD\\\",\\\"UV\u5024\\\"],[439,7.0007]] );\\n  g3ChartData.removeRow(0);\\n  g3ChartData.addRows( {{{ payload.r13 }}} );\\n  g3ChartOptions = {\u3000title: 'UV\u5024',\\n    'titleTextStyle': { fontName: 'Meiryo UI', fontSize: 30},\\n    legend: { position: 'bottom' } };\\n  g3Chart = new google.visualization.LineChart(document.getElementById('g3'));\\n  g3Chart.draw(g3ChartData, g3ChartOptions);\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":770,\"y\":200,\"wires\":[[\"2f29f9c6.825946\"]]},{\"id\":\"2f29f9c6.825946\",\"type\":\"http response\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"x\":930,\"y\":200,\"wires\":[]},{\"id\":\"88f972da.c66448\",\"type\":\"debug\",\"z\":\"2f7e4ebb.3a553a\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"false\",\"x\":580,\"y\":240,\"wires\":[]},{\"id\":\"91c4ec0d.755b68\",\"type\":\"dashDB in\",\"z\":\"2f7e4ebb.3a553a\",\"dashDB\":\"\",\"service\":\"_ext_\",\"query\":\"select * from ALPSIOT \\nwhere date between ? and ?;\",\"params\":\"msg.newstarttime,msg.newendtime\",\"name\":\"\",\"x\":420,\"y\":200,\"wires\":[[\"4c2f7051.8ad29\",\"88f972da.c66448\"]]}]\n\n```\n\n\n#\u30b5\u30f3\u30d7\u30eb\uff15\uff1aAlpS Smart IoT Module\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092WebSocket\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u8868\u793a\n\n\u4e0b\u8a18\u306e\u30d5\u30ed\u30fc\u3067\u306fAlps Smart IoT Module\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092WebSocket\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u8868\u793a\u3057\u307e\u3059\u3002\n1. Alps Smart IoT Module\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092WebSocket\u3067\u51fa\u529b\u3057\u307e\u3059\u3002\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306fwss/flow56a\u3068\u3044\u3046socket\u3067\u51fa\u529b\u3057\u3066\u3044\u308b\u3068\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\n2. \u30aa\u30ec\u30f3\u30b8\u8272\u306eTemplate\u30ce\u30fc\u30c9\u3092\u958b\u304d\u300c\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d\u300d\u90e8\u5206\u3092WebSocket\u3092\u51fa\u529b\u3057\u3066\u3044\u308b\u30a2\u30d7\u30ea\u540d\u306b\u4e00\u81f4\u3055\u305b\u307e\u3059\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-30 11.14.40.png](https://qiita-image-store.s3.amazonaws.com/0/125842/15189994-54f5-cf7c-0b09-008e65b4c6a1.png)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-30 11.14.50.png](https://qiita-image-store.s3.amazonaws.com/0/125842/afa43f6a-69f0-5d8f-4884-62bb1bda1cee.png)\n\n\n```lang:\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306eIoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u8868\u793a\n[{\"id\":\"ed8f0bb.cd5e278\",\"type\":\"template\",\"z\":\"89d26c8f.7f48a\",\"name\":\"test56a.html\u3092\u8fd4\u3059\",\"field\":\"payload\",\"fieldType\":\"msg\",\"format\":\"handlebars\",\"syntax\":\"mustache\",\"template\":\"<!DOCTYPE HTML>\\n<html>\\n\u3000<head>\\n\u3000\u3000<title>\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u60c5\u5831\u3092\u8868\u793a</title>\\n\u3000\u3000<meta charset=\\\"utf-8\\\" />\\n<script type=\\\"text/javascript\\\" src=\\\"https://www.google.com/jsapi\\\"></script>\\n<script type=\\\"test/javascript\\\" src=\\\"https://www.gstatic.com/charts/loader.js\\\"></script>\\n\\n\\n<style type=\\\"text/css\\\">\\n#basic {\\n  width: 1200px;\\n  margin: auto;\\n}\\n\\n.a1 {\\n  background-color:  #98d98e;\\n  padding: 20px;\\n  height: 100px;\\n}\\n.b1 {\\n  background-color:  #e4de8a;\\n  padding-left: 20px;\\n  height: 40px;\\n  text-align:left;\\n  font-size: 18pt\\n}\\n#d1 {\\n  clear: both;\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #c1d8ac;\\n}\\n#d2 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #b9d08b;\\n}\\n#d3 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #badcad;\\n}\\n\\n#e1 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #c1d8ac;\\n}\\n#e2 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #b9d08b;\\n}\\n#e3 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #badcad;\\n}\\n\\n#f1 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #c1d8ac;\\n}\\n#f2 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #b9d08b;\\n}\\n#f3 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #badcad;\\n}\\n\\n#g1 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #c1d8ac;\\n}\\n#g2 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #b9d08b;\\n}\\n#g3 {\\n  float: left;\\n  width: 400px;\\n  height: 150px;\\n  background-color:  #badcad;\\n}\\n\\n#h1 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #98d98e;\\n}\\n#h2 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #c1d8ac;\\n}\\n#h3 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #93b69c;\\n}\\n\\n#j1 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #98d98e;\\n}\\n#j2 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #c1d8ac;\\n}\\n#j3 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #93b69c;\\n}\\n\\n#k1 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #c1d8ac;\\n}\\n#k2 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #b9d08b;\\n}\\n#k3 {\\n  float: left;\\n  width: 400px;\\n  height: 120px;\\n  background-color:  #badcad;\\n}\\n\\n#m1 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #c1d8ac;\\n}\\n#m2 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #b9d08b;\\n}\\n#m3 {\\n  float: left;\\n  width: 400px;\\n  height: 200px;\\n  background-color:  #badcad;\\n}\\n\\n.v1 {\\n  clear: both;\\n  height: 100px;\\n  background-color:  #aacf53;\\n}\\n.x1 {\\n  height: 100px;\\n\\tpadding: 20px;\\n  background-color:  #c1d8ac;\\n}\\n.y1 {\\n  background-color: #e4dc8a;\\n\\tpadding: 20px;\\n  height: 250px;\\n}\\n.z1 {\\n  height: 25px;\\n  background-color: #8f8667;\\n  font-size: 18px;\\n  text-align: center;\\n}\\n\\n</style>\\n\u3000</head>\\n\u3000<body style=\\\"background-color: #EAE5E3\\\">\\n\\n  <div id='basic'>\\n\\n    <div class='a1'>\\n      <h2>IoT Sample Dashboard</h2>\\n      IoT\u30c7\u30fc\u30bf\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u53ef\u8996\u5316\u3057\u307e\u3059\\n    </div>\\n    <div class='b1'>\\n      \u6642\u523b\\n        <span id=\\\"timedata\\\"></span>\\n    </div>\\n\\n    <div id='d1' align=\\\"center\\\">\\n      d1\\n    </div>\\n    <div id='d2' align=\\\"center\\\">\\n      d2\\n    </div>\\n    <div id='d3' align=\\\"center\\\">\\n      d3\\n    </div>\\n\\n    <div id='e1' >\\n      <h2 style=\\\"margin-left:10px;\\\">\u7167\u5ea6</h2>\\n        <span style=\\\"text-align:left; font-size:18pt; margin-left:100px;\\\" id=\\\"e1data\\\"></span>lux\\n    </div>\\n    <div id='e2'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u6c17\u5727</h2>\\n  \\t\\t\\t<span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"e2data\\\"></span>hPa\\n    </div>\\n    <div id='e3'>\\n        <h2 style=\\\"margin-left:10px;\\\">UV\u5024</h2>\\n    \\t\\t\\t<span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"e3data\\\"></span>\\n    </div>\\n\\n    <div id='f1' align=\\\"center\\\">\\n      f1\\n    </div>\\n    <div id='f2' align=\\\"center\\\">\\n      f2\\n    </div>\\n    <div id='f3' align=\\\"center\\\">\\n      f3\\n    </div>\\n\\n    <div id='h1' >\\n      <h2 style=\\\"margin-left:10px;\\\">\u52a0\u901f\u5ea6(X\u8ef8)</h2>\\n        <span style=\\\"text-align:left; font-size:18pt; margin-left:100px;\\\" id=\\\"h1data\\\"></span>\\n    </div>\\n    <div id='h2'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u52a0\u901f\u5ea6(Y\u8ef8)</h2>\\n  \\t\\t\\t<span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"h2data\\\"></span>\\n    </div>\\n    <div id='h3'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u52a0\u901f\u5ea6(Z\u8ef8)</h2>\\n  \\t\\t\\t<!--- <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"d8data\\\"></span> --->\\n        <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"h3data\\\"></span>\\n    </div>\\n\\n    <div id='j1' align=\\\"center\\\">\\n      j1\\n    </div>\\n    <div id='j2' align=\\\"center\\\">\\n      j2\\n    </div>\\n    <div id='j3' align=\\\"center\\\">\\n      j3\\n    </div>\\n\\n    <div id='k1' >\\n      <h2 style=\\\"margin-left:10px;\\\">\u5730\u78c1\u6c17(X\u8ef8)</h2>\\n        <span style=\\\"text-align:left; font-size:18pt; margin-left:100px;\\\" id=\\\"k1data\\\"></span>\\n    </div>\\n    <div id='k2'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u5730\u78c1\u6c17(Y\u8ef8)</h2>\\n  \\t\\t\\t<span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"k2data\\\"></span>\\n    </div>\\n    <div id='k3'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u5730\u78c1\u6c17(Z\u8ef8)</h2>\\n  \\t\\t\\t<!--- <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"d8data\\\"></span> --->\\n        <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"k3data\\\"></span>\\n    </div>\\n\\n    <div id='m1' align=\\\"center\\\">\\n      m1\\n    </div>\\n    <div id='m2' align=\\\"center\\\">\\n      m2\\n    </div>\\n    <div id='m3' align=\\\"center\\\">\\n      m3\\n    </div>\\n\\n    <div class='v1'>\\n      <h2 style=\\\"margin-left:10px;\\\">\u30a2\u30e9\u30fc\u30c8</h2>\\n      <span style=\\\"text-align: left;font-size:18pt; margin-left:100px;\\\" id=\\\"alerttext\\\"></span>\\n    </div>\\n\\n    <div class='x1'>\\n      <!--- m1 --->\\n    </div>\\n\\n<div class=\\\"y1\\\">\\n  \u53c2\u8003URL\\n  <ul>\\n    <li><a href=\\\"http://qiita.com/egplnt/items/af867711a7191923b2ff\\\">Watson IoT Platform\u3092\u4f7f\u3063\u3066\u307f\u308b</a></li>\\n    <li><a href=\\\"https://internetofthings.ibmcloud.com/#/\\\">Watson IoT Platform</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/tutorials/use-the-simulated-device-to-experience-the-iot-foundation/\\\">Recipe - Simulator</a></li>\\n  </ul>\\n  \u30de\u30cb\u30e5\u30a2\u30eb\\n  <ul>\\n    <li><a href=\\\"http://ibm.com/iot\\\">IBM IoT</a></li>\\n    <li><a href=\\\"https://docs.internetofthings.ibmcloud.com/ja/\\\">Watson IoT Platform\u8cc7\u6599\u30da\u30fc\u30b8</a></li>\\n    <li><a href=\\\"https://developer.ibm.com/recipes/\\\">Recipe</a></li>\\n  </ul>\\n</div>\\n\\n<div class=\\\"z1\\\">\\n\\tcopyright (c) abc.com All right reserved.\\n</div>\\n</div>\\n\\n\\n<script>\\nvar c2alert0 = 0, c2alert1 = 0, c2alert2 = 0, c2alert3 = 0, c2alert4 = 0, c2alert5 = 0, c2alert6 = 0;\\nvar connection = new WebSocket('wss://\u3053\u306eIoT\u30a2\u30d7\u30ea\u306e\u540d\u524d.mybluemix.net/wss/flow56a');\\n\\nconnection.onopen = function () {\\n  console.log(\\\"websocket connected\\\");\\n};\\n\\n// Log errors\\nconnection.onerror = function (error) {\\n  console.log('WebSocket Error ' + error);\\n};\\n\\n// Log messages from the server\\nconnection.onmessage = function (m) {\\n  //console.log('Server: ' + m.data);\\n\\tdoIt(m);\\n};\\n\\n// \u30b2\u30fc\u30b8\u3068\u30e9\u30a4\u30f3\u30c1\u30e3\u30fc\u30c8\u3092\u6e96\u5099\\n// \u30e9\u30a4\u30f3\u30c1\u30e3\u30fc\u30c8\u306eAPI\u306f\u3000https://developers.google.com/chart/interactive/docs/reference\\n//\\ngoogle.load('visualization', '1', {packages:['gauge', 'corechart']});\\ngoogle.setOnLoadCallback(drawChart);\\n\\nfunction drawChart() {\\n\\td1GaugeData = google.visualization.arrayToDataTable([\\n\\t\\t['Label', 'Value'],\\n\\t\\t['\u7167\u5ea6', 0]\\n\\t]);\\n  d1GaugeOptions = {\\n\\t\\twidth: 500, height: 150,\\n\\t\\tmin: 0, max: 500,\\n\\t\\tyellowFrom:300, yellowTo: 400,\\n    redFrom: 400, redTo: 500,\\n\\t\\tminorTicks: 5\\n\\t};\\n  d1Gauge = new google.visualization.Gauge(document.getElementById('d1'));\\n\\td1Gauge.draw(d1GaugeData, d1GaugeOptions);\\n\\n  d2GaugeData = google.visualization.arrayToDataTable([\\n\\t\\t['Label', 'Value'],\\n\\t\\t['\u6c17\u5727', 0]\\n\\t]);\\n  d2GaugeOptions = {\\n\\t\\twidth: 500, height: 150,\\n\\t\\tmin: 1002.75, max: 1003.35,\\n\\t\\tyellowFrom: 1002.9, yellowTo: 1003.05,\\n    redFrom: 1002.75, redTo: 1002.9,\\n\\t\\tminorTicks: 5\\n\\t};\\n  d2Gauge = new google.visualization.Gauge(document.getElementById('d2'));\\n\\td2Gauge.draw(d2GaugeData, d2GaugeOptions);\\n\\n  d3GaugeData = google.visualization.arrayToDataTable([\\n\\t\\t['Label', 'Value'],\\n\\t\\t['UV\u5024', 0]\\n\\t]);\\n  d3GaugeOptions = {\\n\\t\\twidth: 500, height: 150,\\n\\t\\tmin: -1, max: 1,\\n\\t\\tyellowFrom: 0, yellowTo: 0.5,\\n    redFrom: 0.5, redTo: 1,\\n\\t\\tminorTicks: 5\\n\\t};\\n  d3Gauge = new google.visualization.Gauge(document.getElementById('d3'));\\n\\td3Gauge.draw(d3GaugeData, d3GaugeOptions);\\n\\n  f1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u7167\u5ea6\\\"],['10:00:00',300]] );\\n  f1ChartData.removeRow(0);\\n  f1ChartOptions = {\u3000title: '\u7167\u5ea6',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#c1d8ac' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  f1Chart = new google.visualization.LineChart(document.getElementById('f1'));\\n  f1Chart.draw(f1ChartData, f1ChartOptions);\\n\\n  f2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u6c17\u5727\\\"],['10:00:00',300]] );\\n  f2ChartData.removeRow(0);\\n  f2ChartOptions = {\u3000title: '\u6c17\u5727',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#b9d08b' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  f2Chart = new google.visualization.LineChart(document.getElementById('f2'));\\n  f2Chart.draw(f2ChartData, f2ChartOptions);\\n\\n  f3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"UV\u5024\\\"],['10:00:00',300]] );\\n  f3ChartData.removeRow(0);\\n  f3ChartOptions = {\u3000title: 'UV\u5024',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#badcad' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  f3Chart = new google.visualization.LineChart(document.getElementById('f3'));\\n  f3Chart.draw(f3ChartData, f3ChartOptions);\\n\\n  j1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(X\u8ef8)\\\"],['10:00:00',3]] );\\n  j1ChartData.removeRow(0);\\n  j1ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(X\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#98d98e' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j1Chart = new google.visualization.LineChart(document.getElementById('j1'));\\n  j1Chart.draw(j1ChartData, j1ChartOptions);\\n\\n  j2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(Y\u8ef8)\\\"],['10:00:00',3]] );\\n  j2ChartData.removeRow(0);\\n  j2ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Y\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#c1d8ac' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j2Chart = new google.visualization.LineChart(document.getElementById('j2'));\\n  j2Chart.draw(j2ChartData, j2ChartOptions);\\n\\n  j3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(Z\u8ef8)\\\"],['10:00:00',3]] );\\n  j3ChartData.removeRow(0);\\n  j3ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Z\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#93b69c' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j3Chart = new google.visualization.LineChart(document.getElementById('j3'));\\n  j3Chart.draw(j3ChartData, j3ChartOptions);\\n\\n  j1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(X\u8ef8)\\\"],['10:00:00',3]] );\\n  j1ChartData.removeRow(0);\\n  j1ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(X\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#98d98e' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j1Chart = new google.visualization.LineChart(document.getElementById('j1'));\\n  j1Chart.draw(j1ChartData, j1ChartOptions);\\n\\n  j2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(Y\u8ef8)\\\"],['10:00:00',3]] );\\n  j2ChartData.removeRow(0);\\n  j2ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Y\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#c1d8ac' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j2Chart = new google.visualization.LineChart(document.getElementById('j2'));\\n  j2Chart.draw(j2ChartData, j2ChartOptions);\\n\\n  j3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u52a0\u901f\u5ea6(Z\u8ef8)\\\"],['10:00:00',3]] );\\n  j3ChartData.removeRow(0);\\n  j3ChartOptions = {\u3000title: '\u52a0\u901f\u5ea6(Z\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#93b69c' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  j3Chart = new google.visualization.LineChart(document.getElementById('j3'));\\n  j3Chart.draw(j3ChartData, j3ChartOptions);\\n\\n  m1ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u5730\u78c1\u6c17(X\u8ef8)\\\"],['10:00:00',3]] );\\n  m1ChartData.removeRow(0);\\n  m1ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(X\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#c1d8ac' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  m1Chart = new google.visualization.LineChart(document.getElementById('m1'));\\n  m1Chart.draw(m1ChartData, m1ChartOptions);\\n\\n  m2ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u5730\u78c1\u6c17(Y\u8ef8)\\\"],['10:00:00',3]] );\\n  m2ChartData.removeRow(0);\\n  m2ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(Y\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#b9d08b' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  m2Chart = new google.visualization.LineChart(document.getElementById('m2'));\\n  m2Chart.draw(m2ChartData, m2ChartOptions);\\n\\n  m3ChartData = google.visualization.arrayToDataTable(\\n    [[\\\"\u6642\u523b\\\",\\\"\u5730\u78c1\u6c17(Z\u8ef8)\\\"],['10:00:00',3]] );\\n  m3ChartData.removeRow(0);\\n  m3ChartOptions = {\u3000title: '\u5730\u78c1\u6c17(Z\u8ef8)',\\n    legend: { position: 'bottom' },\\n    backgroundColor: {stroke:'#badcad' ,strokeWidth:10, fill:'#ffffff'}\\n  };\\n  m3Chart = new google.visualization.LineChart(document.getElementById('m3'));\\n  m3Chart.draw(m3ChartData, m3ChartOptions);\\n\\n};\\n\\n//websocket\u304b\u3089\u306e\u6bce\u79d2\u306e\u30c7\u30fc\u30bf\u3092\u53d7\u4fe1\u3057\u3066\u30b2\u30fc\u30b8\u30fb\u30c1\u30e3\u30fc\u30c8\u3078\u8868\u793a\u3059\u308b\\nfunction doIt(msg){\\n  console.log(\\\"doit:\\\" + msg.data);\\n\\tvar msgs = JSON.parse(msg.data);\\n\\n  // msgs[3]\u306f\u4e8c\u91cd\u914d\u5217\u306a\u306e\u3067\\\"msgs[3][0]\\\"\u3067\u6e29\u5ea6\u306e\u5024\u3092\u53d6\u308a\u51fa\u3057\u3066\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u8868\u793a\u3059\u308b\\n  d1GaugeData = google.visualization.arrayToDataTable([\\n    ['Label', 'Value'],\\n    ['\u7167\u5ea6', msgs[4][0]]\\n  ]);\\n  d1Gauge.draw(d1GaugeData, d1GaugeOptions);\\n  console.log(\\\"msgs[4][0] = \\\" + msgs[4][0]);\\n\\n  d2GaugeData = google.visualization.arrayToDataTable([\\n    ['Label', 'Value'],\\n    ['\u6c17\u5727', msgs[9][0]]\\n  ]);\\n  d2Gauge.draw(d2GaugeData, d2GaugeOptions);\\n\\n  d3GaugeData = google.visualization.arrayToDataTable([\\n    ['Label', 'Value'],\\n    ['UV\u5024', msgs[10][0]]\\n  ]);\\n  d3Gauge.draw(d3GaugeData, d3GaugeOptions);\\n\\n  f1ChartData.addRow( [ msgs[0][0], msgs[4][0] ] );\\n  if ( f1ChartData.getNumberOfRows() > 9) {\\n    f1ChartData.removeRow(0);\\n  }\\n  f1Chart.draw(f1ChartData, f1ChartOptions);\\n\\n  f2ChartData.addRow( [ msgs[0][0], msgs[9][0] ] );\\n  if ( f2ChartData.getNumberOfRows() > 9) {\\n    f2ChartData.removeRow(0);\\n  }\\n  f2Chart.draw(f2ChartData, f2ChartOptions);\\n\\n  f3ChartData.addRow( [ msgs[0][0], msgs[10][0] ] );\\n  if ( f3ChartData.getNumberOfRows() > 9) {\\n    f3ChartData.removeRow(0);\\n  }\\n  f3Chart.draw(f3ChartData, f3ChartOptions);\\n\\n  j1ChartData.addRow( [ msgs[0][0], msgs[1][0] ] );\\n  if ( j1ChartData.getNumberOfRows() > 9) {\\n    j1ChartData.removeRow(0);\\n  }\\n  j1Chart.draw(j1ChartData, j1ChartOptions);\\n\\n  j2ChartData.addRow( [ msgs[0][0], msgs[2][0] ] );\\n  if ( j2ChartData.getNumberOfRows() > 9) {\\n    j2ChartData.removeRow(0);\\n  }\\n  j2Chart.draw(j2ChartData, j2ChartOptions);\\n\\n  j3ChartData.addRow( [ msgs[0][0], msgs[3][0] ] );\\n  if ( j3ChartData.getNumberOfRows() > 9) {\\n    j3ChartData.removeRow(0);\\n  }\\n  j3Chart.draw(j3ChartData, j3ChartOptions);\\n\\n  m1ChartData.addRow( [ msgs[0][0], msgs[5][0] ] );\\n  if ( m1ChartData.getNumberOfRows() > 9) {\\n    m1ChartData.removeRow(0);\\n  }\\n  m1Chart.draw(m1ChartData, m1ChartOptions);\\n\\n  m2ChartData.addRow( [ msgs[0][0], msgs[6][0] ] );\\n  if ( m2ChartData.getNumberOfRows() > 9) {\\n    m2ChartData.removeRow(0);\\n  }\\n  m2Chart.draw(m2ChartData, m2ChartOptions);\\n\\n  m3ChartData.addRow( [ msgs[0][0], msgs[6][0] ] );\\n  if ( m3ChartData.getNumberOfRows() > 9) {\\n    m3ChartData.removeRow(0);\\n  }\\n  m3Chart.draw(j3ChartData, m3ChartOptions);\\n\\n  target = document.getElementById(\\\"timedata\\\");\\n\\ttarget.innerHTML = msgs[0];\\n  target = document.getElementById(\\\"e1data\\\"); // \u7167\u5ea6 e1\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[4];\\n  target = document.getElementById(\\\"e2data\\\"); // \u6c17\u5727\u3000e2\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[9];\\n  target = document.getElementById(\\\"e3data\\\"); // UV\u5024 e3\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[10];\\n  target = document.getElementById(\\\"h1data\\\"); // X\u8ef8\u52a0\u901f\u5ea6\u3000h1\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[1];\\n  target = document.getElementById(\\\"h2data\\\"); // Y\u8ef8\u52a0\u901f\u5ea6\u3000h2\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[2];\\n  target = document.getElementById(\\\"h3data\\\"); // Z\u8ef8\u52a0\u901f\u5ea6\u3000h3\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[3];\\n  target = document.getElementById(\\\"k1data\\\"); // X\u8ef8\u5730\u78c1\u6c17\u3000k1\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[5];\\n  target = document.getElementById(\\\"k2data\\\"); // Y\u8ef8\u5730\u78c1\u6c17\u3000k2\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[6];\\n  target = document.getElementById(\\\"k3data\\\"); // Z\u8ef8\u5730\u78c1\u6c17\u3000k3\u306b\u8868\u793a\\n\\ttarget.innerHTML = msgs[7];\\n\\n};\\n\\n</script>\\n\\n</body>\\n</html>\\n\",\"x\":350,\"y\":120,\"wires\":[[\"5a3d7174.4f3d2\"]]},{\"id\":\"5a3d7174.4f3d2\",\"type\":\"http response\",\"z\":\"89d26c8f.7f48a\",\"name\":\"\",\"x\":530,\"y\":120,\"wires\":[]},{\"id\":\"a4d38e03.282f7\",\"type\":\"http in\",\"z\":\"89d26c8f.7f48a\",\"name\":\"\",\"url\":\"/test56a\",\"method\":\"get\",\"swaggerDoc\":\"\",\"x\":150,\"y\":120,\"wires\":[[\"ed8f0bb.cd5e278\"]]},{\"id\":\"e0a37e68.f707c8\",\"type\":\"comment\",\"z\":\"89d26c8f.7f48a\",\"name\":\"Alps\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u304b\u3089\u306e\u8868\u793a\",\"info\":\"\",\"x\":180,\"y\":80,\"wires\":[]}]\n\n```\n\n\n\n#\u53c2\u8003\u60c5\u5831\n1. [\u30b9\u30b3\u30c3\u30c8\u30fb\u30de\u30ec\u30a4\u3055\u3093\u306eD3\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb](http://ja.d3js.info/alignedleft/tutorials/d3/)\n"}