{"tags": ["AWS", "postfix"], "context": " More than 1 year has passed since last update.\n\n\u307e\u305a\u306f\u2026\n\n\u30b5\u30fc\u30d0\u3092\u6e96\u5099\u3059\u308b\nAWS EC2\u3092\u5229\u7528\u3059\u308b\u3002\n-AmazonLinux\n-t2.micro\n-Storage\u306fMagnetic\n-SecurityGroup\u8a2d\u5b9a\n--SSH TCP 22 0.0.0.0/0\n--SMTP TCP 25 0.0.0.0/0\n\n\u30c9\u30e1\u30a4\u30f3\u3092\u7528\u610f\u3059\u308b\n-\u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u3059\u308b\uff08\u304a\u540d\u524d.com\u7b49\u3067\uff09\n-\u30ec\u30b3\u30fc\u30c9\u8a2d\u5b9a\n--A\u30ec\u30b3\u30fc\u30c9\uff1ahogehoge.com / 111.111.111.111\uff08\u7528\u610f\u3057\u305fEC2\u306eIP\uff09\n--MX\u30ec\u30b3\u30fc\u30c9\uff1ahogehoge.com / 10 hogehoge.com\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install postfix -y\n\n\n\n\u5404\u7a2e\u8a2d\u5b9a\n$ sudo vi /etc/postfix/main.cf\n\nmyhostname = hogehoge.com\nmydomain = hogehoge.com\nmydestination = $myhostname, localhost.$mydomain, localhost, $mydomain\nalias_maps = hash:/etc/aliases,regexp:/etc/postfix/aliases.reg\n\n\nhoge@hogehoge.com\u306b\u5bfe\u3057\u3066hoge+xxx@hogehoge.com\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n$ sudo vi /etc/postfix/aliases.reg\n\n/^hoge+[^@]+(@.*)?$/ hoge\n\n\n\u8ee2\u9001\u8a2d\u5b9a\uff08\u4f8b\u3068\u3057\u3066gmail\u306b\u8ee2\u9001\uff09\n$ sudo vi /etc/aliases\n\nhoge    hoge@gmail.com\n\n$ sudo newaliases\n\n\n\u30e1\u30fc\u30eb\u3092\u53d7\u4fe1\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\n$ sudo iptables -A INPUT -p tcp --dport 25 -j ACCEPT\n$ sudo /etc/init.d/iptables save\n$ sudo service iptables restart\n\n\nsendmail\u304b\u3089\u306e\u5207\u308a\u66ff\u3048\n$ sudo /etc/rc.d/init.d/saslauthd start\n$ sudo chkconfig saslauthd on\n$ sudo /etc/rc.d/init.d/sendmail stop\n$ sudo chkconfig sendmail off\n$ sudo alternatives --config mta\n -> postfix\u3092\u9078\u629e\n$ sudo /etc/rc.d/init.d/postfix start\n$ sudo chkconfig postfix on\n\n\n\n\n\u52d5\u4f5c\u78ba\u8a8d\nhoge@hogehoge.com\u306b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\nhoge@gmail.com\u306b\u5c4a\u3051\u3070\u6210\u529f\u3067\u3059\u3002\n\n\n\n## \u307e\u305a\u306f\u2026\n####\u30b5\u30fc\u30d0\u3092\u6e96\u5099\u3059\u308b\nAWS EC2\u3092\u5229\u7528\u3059\u308b\u3002\n-AmazonLinux\n-t2.micro\n-Storage\u306fMagnetic\n-SecurityGroup\u8a2d\u5b9a\n--SSH TCP 22 0.0.0.0/0\n--SMTP TCP 25 0.0.0.0/0\n\n\n####\u30c9\u30e1\u30a4\u30f3\u3092\u7528\u610f\u3059\u308b\n-\u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u3059\u308b\uff08\u304a\u540d\u524d.com\u7b49\u3067\uff09\n-\u30ec\u30b3\u30fc\u30c9\u8a2d\u5b9a\n--A\u30ec\u30b3\u30fc\u30c9\uff1ahogehoge.com / 111.111.111.111\uff08\u7528\u610f\u3057\u305fEC2\u306eIP\uff09\n--MX\u30ec\u30b3\u30fc\u30c9\uff1ahogehoge.com / 10 hogehoge.com\n\n\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\n$ sudo yum install postfix -y\n```\n\n\n<br/>\n## \u5404\u7a2e\u8a2d\u5b9a\n```bash\n$ sudo vi /etc/postfix/main.cf\n```\n```vi\nmyhostname = hogehoge.com\nmydomain = hogehoge.com\nmydestination = $myhostname, localhost.$mydomain, localhost, $mydomain\nalias_maps = hash:/etc/aliases,regexp:/etc/postfix/aliases.reg\n```\n\n\n<br/>\nhoge@hogehoge.com\u306b\u5bfe\u3057\u3066hoge+xxx@hogehoge.com\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n\n```bash\n$ sudo vi /etc/postfix/aliases.reg\n```\n```vi\n/^hoge+[^@]+(@.*)?$/ hoge\n```\n\n<br/>\n\u8ee2\u9001\u8a2d\u5b9a\uff08\u4f8b\u3068\u3057\u3066gmail\u306b\u8ee2\u9001\uff09\n\n```bash\n$ sudo vi /etc/aliases\n```\n``` vi\nhoge\thoge@gmail.com\n```\n```bash\n$ sudo newaliases\n```\n\n<br/>\n\u30e1\u30fc\u30eb\u3092\u53d7\u4fe1\u51fa\u6765\u308b\u3088\u3046\u306b\u3059\u308b\n\n```bash\n$ sudo iptables -A INPUT -p tcp --dport 25 -j ACCEPT\n$ sudo /etc/init.d/iptables save\n$ sudo service iptables restart\n```\n\n<br/>\nsendmail\u304b\u3089\u306e\u5207\u308a\u66ff\u3048\n\n```bash\n$ sudo /etc/rc.d/init.d/saslauthd start\n$ sudo chkconfig saslauthd on\n$ sudo /etc/rc.d/init.d/sendmail stop\n$ sudo chkconfig sendmail off\n$ sudo alternatives --config mta\n -> postfix\u3092\u9078\u629e\n$ sudo /etc/rc.d/init.d/postfix start\n$ sudo chkconfig postfix on\n```\n<br/>\n\n\n\n<br/>\n## \u52d5\u4f5c\u78ba\u8a8d\nhoge@hogehoge.com\u306b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\nhoge@gmail.com\u306b\u5c4a\u3051\u3070\u6210\u529f\u3067\u3059\u3002\n<br/>\n"}