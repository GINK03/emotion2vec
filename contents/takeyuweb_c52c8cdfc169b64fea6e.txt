{"context": "\u8ffd\u8a18\uff1aQiita\u3060\u3068\u8aad\u307f\u3065\u3089\u304b\u3063\u305f\u306e\u3067GitHub\u306e\u65b9\u306b\u2192 https://github.com/takeyuweb/turbolinks/blob/master/README.ja.md\n\n\u30bc\u30ed\u304b\u3089\u66f8\u304d\u76f4\u3055\u308c\u305f\u3068\u3044\u3046Turbolinks 5\u306b\u3064\u3044\u3066\u3001\u3069\u3093\u306a\u3082\u306e\u304b\u628a\u63e1\u3059\u308b\u305f\u3081\u306bREADME\u3092\u65e5\u672c\u8a9e\u8a33\u3057\u3066\u307f\u307e\u3059\u3002\n\u3042\u308b\u7a0b\u5ea6\u3067\u304d\u305f\u306e\u3067\u516c\u958b\u3057\u307e\u3059\u3002\nhttps://github.com/turbolinks/turbolinks\nTurbolinks makes navigating your web application faster\nhttps://github.com/turbolinks/turbolinks/blob/ab019670632b719b3d2ecdccb158ff9f4f47746f/README.md\n\u3053\u308c\u306f\u3001\u82f1\u8a9e\u304c\u82e6\u624b\u306a\u50d5\u304c\u82f1\u8a9e\u5b66\u7fd2\u306e\u4e00\u74b0\u3068\u3057\u3066\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u305f\u3082\u306e\u306a\u306e\u3067\u3001\u307b\u307c\u76f4\u8a33\u3067\u8aad\u307f\u3084\u3059\u3044\u3082\u306e\u3068\u306f\u8a00\u3044\u304c\u305f\u3044\u3067\u3059\u3057\u3001\u591a\u5206\u8aa4\u8a33\u3082\u542b\u307e\u308c\u307e\u3059\u3002\u6a5f\u68b0\u7ffb\u8a33\u3088\u308a\u306f\u30de\u30b7\u306b\u3057\u305f\u3044\u3067\u3059\u304c\u3001\u9d5c\u5451\u307f\u3057\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u500b\u4eba\u7684\u306b\u306fREADME\u3092\u304d\u3061\u3093\u3068\u8aad\u3081\u3070\u7406\u89e3\u3057\u3084\u3059\u304f\u611f\u3058\u3001\u30e2\u30d0\u30a4\u30ebOS\u306e\u30cd\u30a4\u30c6\u30a3\u30d6\u9023\u643a\u306e\u90e8\u5206\u306a\u3069\u9762\u767d\u305d\u3046\u306a\u6a5f\u80fd\u3082\u3042\u308a\u3001\u4eca\u5ea6\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\nTurbolinks\n\nTurbolinks makes navigating your web application faster. Get the performance benefits of a single-page application without the added complexity of a client-side JavaScript framework. Use HTML to render your views on the server side and link to pages as usual. When you follow a link, Turbolinks automatically fetches the page, swaps in its <body>, and merges its <head>, all without incurring the cost of a full page load.\n\nTurbolinks\u306f\u3042\u306a\u305f\u306eWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u95b2\u89a7\u3092\u9ad8\u901f\u5316\u3057\u307e\u3059\u3002\u8907\u96d1\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9JavaScript\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u306a\u3057\u306b\u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u4e0a\u306e\u6069\u6075\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u30d3\u30e5\u30fc\u306bHTML\u3092\u4f7f\u3063\u3066\u3001\u3044\u3064\u3082\u306e\u3088\u3046\u306b\u30da\u30fc\u30b8\u306b\u30ea\u30f3\u30af\u3092\u639b\u3051\u307e\u3059\u3002\u30ea\u30f3\u30af\u3092\u8fbf\u308b\u3068\u304d\u3001Turbolinks\u306f\u81ea\u52d5\u7684\u306b\u30da\u30fc\u30b8\u3092\u53d6\u5f97\u3001<body>\u306e\u7f6e\u304d\u63db\u3048\u3001<head>\u306e\u30de\u30fc\u30b8\u3001\u3059\u3079\u3066\u30da\u30fc\u30b8\u5168\u4f53\u306e\u8aad\u307f\u8fbc\u307f\u306b\u304b\u304b\u308b\u30b3\u30b9\u30c8\u3092\u62db\u304f\u3053\u3068\u306a\u304f\u3067\u304d\u307e\u3059\u3002\n\n\n\u6a5f\u80fd\n\n\nOptimizes navigation automatically. No need to annotate links or specify which parts of the page should change.\nNo server-side cooperation necessary. Respond with full HTML pages, not partial page fragments or JSON.\nRespects the web. The Back and Reload buttons work just as you\u2019d expect. Search engine-friendly by design.\nSupports mobile apps. Adapters for iOS and Android let you build hybrid applications using native navigation controls.\n\n\n\n\n\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u306e\u6700\u9069\u5316\u3002\u30ea\u30f3\u30af\u306b\u6ce8\u91c8\uff08\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\uff09\u3092\u4ed8\u3051\u305f\u308a\u3001\u30da\u30fc\u30b8\u306e\u3069\u306e\u90e8\u5206\u3092\u5909\u66f4\u3059\u308b\u304b\u6307\u5b9a\u3059\u308b\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u5354\u8abf\u306f\u4e0d\u8981\u3002\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u3084JSON\u3067\u306f\u306a\u304f\u3001\u5b8c\u5168\u306aHTML\u30da\u30fc\u30b8\u3092\u8fd4\u3057\u307e\u3059\u3002\n\nWeb\u306e\u5c0a\u91cd\u3002\u623b\u308b\u30dc\u30bf\u30f3\u3084\u518d\u8aad\u8fbc\u30dc\u30bf\u30f3\u306f\u671f\u5f85\u901a\u308a\u52d5\u4f5c\u3057\u307e\u3059\u3002\u30b5\u30fc\u30c1\u30a8\u30f3\u30b8\u30f3\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u306a\u8a2d\u8a08\u306a\u8a2d\u8a08\u3067\u3059\u3002\n\n\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u5bfe\u5fdc\u3002iOS/Android\u30a2\u30c0\u30d7\u30bf\u3067\u30cd\u30a4\u30c6\u30a3\u30d6\u306a\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3092\u4f7f\u3063\u305f\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3057\u307e\u3057\u3087\u3046\u3002\n\n\n\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30d6\u30e9\u30a6\u30b6\n\nTurbolinks works in all modern desktop and mobile browsers. It depends on the HTML5 History API and Window.requestAnimationFrame. In unsupported browsers, Turbolinks gracefully degrades to standard navigation.\n\n\u3059\u3079\u3066\u306e\u30e2\u30c0\u30f3\u30d6\u30e9\u30a6\u30b6\u3068\u30e2\u30d0\u30a4\u30eb\u30d6\u30e9\u30a6\u30b6\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002HTML5 History API\u3068Window.requestAnimationFrame\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u3001\u6a19\u6e96\u7684\u306a\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u306b\u623b\u3057\u307e\u3059\u3002\uff08Grafeful Degration\uff09\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nInclude dist/turbolinks.js in your application\u2019s JavaScript bundle.\n\ndist/turbolinks.js\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eJavaScript\u30bb\u30c3\u30c8\u306b\u542b\u3081\u3066\u4e0b\u3055\u3044\u3002\n\nRails\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n\nThe Turbolinks gem is packaged as a Rails engine and integrates seamlessly with the Rails asset pipeline. To install:\n\nTurbolinks gem\u306fRails\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3055\u308c\u3066\u3044\u3066\u3001Rails asset pipeline\u3068\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u7d71\u5408\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\nAdd the turbolinks gem, version 5, to your Gemfile: gem 'turbolinks', '~> 5.0.0.beta'\nRun bundle install.\nAdd //= require turbolinks to your JavaScript manifest file (usually found at app/assets/javascripts/application.js).\n\n\n\nGemfile\u306bturbolinksgem \u30d0\u30fc\u30b8\u30e7\u30f35\u3092\u8ffd\u52a0\u3002: gem 'turbolinks', '~> 5.0.0.beta'\n\n\nbundle install\u5b9f\u884c\u3002\n\n//= require turbolinks\u3092Javascript\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0\u3002\uff08\u305f\u3044\u3066\u3044\u306fapp/assets/javascripts/application.js\uff09\n\n\nNavigating with Turbolinks\n\nTurbolinks intercepts all clicks on <a href> links to the same domain. When you click an eligible link, Turbolinks prevents the browser from following it. Instead, Turbolinks changes the browser\u2019s URL using the History API, requests the new page using XMLHttpRequest, and then renders the HTML response.\n\nTurbolinks\u306f\u540c\u3058\u30c9\u30e1\u30a4\u30f3\u306e<a href>\u30ea\u30f3\u30af\u306e\u3059\u3079\u3066\u306e\u30af\u30ea\u30c3\u30af\u3092\u6a2a\u53d6\u308a\u3057\u307e\u3059\u3002\u9069\u5f53\u306a\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001Turbolinks\u306f\u305d\u308c\u3092\u30d6\u30e9\u30a6\u30b6\u304c\u8fbf\u308b\u306e\u3092\u9632\u304e\u307e\u3059\u3002\u305d\u306e\u4ee3\u308f\u308a\u306bHistory API\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u306eURL\u3092\u5909\u3048\u3001XMLHttpRequest\u3092\u4f7f\u3063\u3066\u65b0\u3057\u3044\u30da\u30fc\u30b8\u3092\u8981\u6c42\u3057\u3001\u305d\u308c\u304b\u3089HTML\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u63cf\u753b\u3057\u307e\u3059\u3002\n\nDuring rendering, Turbolinks replaces the current <body> element outright and merges the contents of the <head> element. The JavaScript window and document objects, and the HTML <html> element, persist from one rendering to the next.\n\n\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306e\u9593\u306b\u3001Turbolinks\u306f\u73fe\u5728\u306e<body>\u3092\u5b8c\u5168\u306b\u7f6e\u304d\u63db\u3048\u3001<head>\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002window\u3068document\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3001\u305d\u308c\u306b<html>\u8981\u7d20\u306f\u7dad\u6301\u3057\u307e\u3059\u3002\n\n\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u306fVisit\n\nTurbolinks models navigation as a visit to a location (URL) with an action.\n\nTurbolinks\u306fnavigation\u3092\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\uff08URL\uff09\u3068action\u30921\u3064\u3068\u3057\u305fvisit\u3068\u5b9a\u7fa9\u3057\u307e\u3059\n\nVisits represent the entire navigation lifecycle from click to render. That includes changing browser history, issuing the network request, restoring a copy of the page from cache, rendering the final response, and updating the scroll position.\n\nVisit\u306f\u30af\u30ea\u30c3\u30af\u304b\u3089\u63cf\u753b\u307e\u3067\u5168\u4f53\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\u305d\u308c\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u5c65\u6b74\u5909\u66f4\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30af\u30a8\u30b9\u30c8\u767a\u884c\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u306e\u30da\u30fc\u30b8\u30b3\u30d4\u30fc\u306e\u5fa9\u5143\u3001\u6700\u7d42\u7684\u306a\u5fdc\u7b54\u306e\u63cf\u753b\u3068\u30b9\u30af\u30ed\u30fc\u30eb\u4f4d\u7f6e\u306e\u66f4\u65b0\u304c\u542b\u307e\u308c\u307e\u3059\u3002\nvisit\u306b\u306f\uff12\u7a2e\u985e\u3042\u308a\u307e\u3059: \u9032\u5c55\uff08advance\uff09\u307e\u305f\u306f\u7f6e\u63db\uff08replace\uff09\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u3082\u3064application visit\u3001\u305d\u308c\u304b\u3089\u5fa9\u5143\uff08restore\uff09\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u3082\u3064restoration visit\n\nApplication Visits\n\nApplication visits are initiated by clicking a Turbolinks-enabled link, or programmatically by calling Turbolinks.visit(location).\n\nApplication Visits\u306fTurbolinks\u304c\u6709\u52b9\u306a\u30ea\u30f3\u30af\u306e\u30af\u30ea\u30c3\u30af\u307e\u305f\u306f\u3001Turbolinks.visit(location)\u3092\u547c\u3076\u3053\u3068\u306b\u3088\u308a\u958b\u59cb\u3055\u308c\u307e\u3059\u3002\n\nAn application visit always issues a network request. When the response arrives, Turbolinks renders its HTML and completes the visit.\n\nApplication Visits\u306f\u3044\u3064\u3082\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002\u5fdc\u7b54\u304c\u8fd4\u308b\u3068\u3001Turbolinks\u306f\u305d\u306eHTML\u3092\u63cf\u753b\u3057\u3001visit\u3092\u5b8c\u4e86\u3057\u307e\u3059\u3002\n\nIf possible, Turbolinks will render a preview of the page from cache immediately after the visit starts. This improves the perceived speed of frequent navigation between the same pages.\n\n\u3082\u3057\u53ef\u80fd\u306a\u3089\u3001Turbolinks\u306fvisit\u304c\u59cb\u307e\u3063\u305f\u5f8c\u5373\u5ea7\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30d7\u30ec\u30d3\u30e5\u30fc\u3092\u63cf\u753b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u540c\u3058\u30da\u30fc\u30b8\u3078\u983b\u7e41\u306b\u9077\u79fb\u3059\u308b\u3068\u304d\u306e\u4f53\u611f\u901f\u5ea6\u3092\u6539\u5584\u3057\u307e\u3059\u3002\n\nIf the visit\u2019s location includes an anchor, Turbolinks will attempt to scroll to the anchored element. Otherwise, it will scroll to the top of the page.\n\n\u3082\u3057\u30a2\u30f3\u30ab\u30fc\u304c\u542b\u307e\u308c\u3066\u3044\u305f\u3089\u3001Turbolinks\u306f\u30a2\u30f3\u30ab\u30fc\u5148\u306e\u8981\u7d20\u3078\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u3092\u8a66\u307f\u307e\u3059\u3002\u305d\u308c\u304c\u306a\u3051\u308c\u3070\u30da\u30fc\u30b8\u306e\u4e0a\u90e8\u3078\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nApplication visits result in a change to the browser\u2019s history; the visit\u2019s action determines how.\n\nApplication Visits\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u5c65\u6b74\u306e\u5909\u5316\u3092\u3082\u305f\u3089\u3057\u307e\u3059\u3002\u305d\u306evisit\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3001\u3069\u306e\u3088\u3046\u306b\u3059\u308b\u304b\u3092\u6c7a\u3081\u307e\u3059\u3002\n\n\nThe default visit action is advance. During an advance visit, Turbolinks pushes a new entry onto the browser\u2019s history stack using history.pushState.\n\n\u6a19\u6e96\u306evisit\u30a2\u30af\u30b7\u30e7\u30f3\u306fadvance\uff08\u9032\u5c55\uff09\u3067\u3059\u3002advance visit\u306e\u9593\u3001Turbolinks\u306fhistory.pushState\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u306e\u5c65\u6b74\u30b9\u30bf\u30c3\u30af\u306b\u65b0\u3057\u3044\u30a8\u30f3\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nApplications using the Turbolinks iOS adapter typically handle advance visits by pushing a new view controller onto the navigation stack. Similarly, applications using the Android adapter typically push a new activity onto the back stack.\n\niOS\u30a2\u30c0\u30d7\u30bf\u3092\u4f7f\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4e00\u822c\u7684\u306b\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b9\u30bf\u30c3\u30af\u306b\u65b0\u3057\u3044ViewController\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067advance visit\u3092\u6271\u3044\u307e\u3059\u3002\u540c\u69d8\u306bAndroid\u30a2\u30c0\u30d7\u30bf\u3092\u4f7f\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4f8b\u306b\u3088\u3063\u3066\u30d0\u30c3\u30af\u30b9\u30bf\u30c3\u30af\u306b\u65b0\u3057\u3044Activity\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\nYou may wish to visit a location without pushing a new history entry onto the stack. The replace visit action uses history.replaceState to discard the topmost history entry and replace it with the new location.\n\n\u30b9\u30bf\u30c3\u30af\u306b\u65b0\u3057\u3044\u5c65\u6b74\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u306a\u3057\u306bvisit\u3092\u51e6\u7406\u3057\u305f\u3044\u5834\u5408\u3002replace\uff08\u7f6e\u63db\uff09 visit\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u4e00\u756a\u4e0a\u306e\u5c65\u6b74\u3092\u7834\u68c4\u3057\u3066\u65b0\u3057\u3044location\u3067\u7f6e\u304d\u63db\u3048\u308b\u306e\u306bhistory.replaceState\u3092\u4f7f\u3044\u307e\u3059\u3002\n\nTo specify that following a link should trigger a replace visit, annotate the link with data-turbolinks-action=\"replace\":\n\nreplace visit\u3092\u4f5c\u52d5\u3055\u3059\u308b\u3088\u3046\u30ea\u30f3\u30af\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001data-turbolinks-action=\"replace\"\u3068\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u5165\u308c\u307e\u3059\u3002\n<a href=\"/edit\" data-turbolinks-action=\"replace\">Edit</a>\n\n\nTo programmatically visit a location with the replace action, pass the action: \"replace\" option to Turbolinks.visit:\n\nrelace\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u4f7f\u3046\u306b\u306f\u3001action: \"replace\"\u30aa\u30d7\u30b7\u30e7\u30f3\u3092Turbolinks.visit\u306b\u6e21\u3057\u307e\u3059\uff1a\nTurbolinks.visit(\"/edit\", { action: \"replace\" })\n\n\nApplications using the Turbolinks iOS adapter typically handle replace visits by dismissing the topmost view controller and pushing a new view controller onto the navigation stack without animation.\n\niOS\u30a2\u30c0\u30d7\u30bf\u3092\u4f7f\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4e00\u756a\u4e0a\u306eViewController\u3092\u7834\u68c4\u3057\u3066\u65b0\u3057\u3044ViewController\u3092\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306a\u3057\u306b\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b9\u30bf\u30c3\u30af\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001replace visits\u3092\u6271\u3044\u307e\u3059\u3002\n\nRestoration Visits\n\nTurbolinks automatically initiates a restoration visit when you navigate with the browser\u2019s Back or Forward buttons. Applications using the iOS or Android adapters initiate a restoration visit when moving backward in the navigation stack.\n\nTurbolinks\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u623b\u308b\u3084\u9032\u3080\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u3001\u81ea\u52d5\u7684\u306brestoration visit\u3092\u958b\u59cb\u3057\u307e\u3059\u3002iOS\u3084Android\u306e\u30a2\u30c0\u30d7\u30bf\u3092\u4f7f\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5834\u5408\u306f\u3001\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b9\u30bf\u30c3\u30af\u3092\u5f8c\u9000\u3057\u305f\u3068\u304d\u3067\u3059\u3002\n\n\nIf possible, Turbolinks will render a copy of the page from cache without making a request. Otherwise, it will retrieve a fresh copy of the page over the network. See Understanding Caching for more details.\n\n\u53ef\u80fd\u306a\u3089Turbolinks\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u751f\u3055\u305b\u305a\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30da\u30fc\u30b8\u30b3\u30d4\u30fc\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u305d\u3046\u3067\u306a\u3051\u308c\u3070\u6700\u65b0\u306e\u30da\u30fc\u30b8\u30b3\u30d4\u30fc\u3092\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u53d6\u5f97\u3057\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7406\u89e3\u3059\u308b\u3092\u304a\u8aad\u307f\u4e0b\u3055\u3044\u3002\n\nTurbolinks saves the scroll position of each page before navigating away and automatically returns to this saved position on restoration visits.\n\nTurbolink\u306f\u79fb\u52d5\u306e\u524d\u306b\u30da\u30fc\u30b8\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u4f4d\u7f6e\u3092\u8a18\u9332\u3057\u3066\u304a\u304d\u3001\u5fa9\u5143\u306evisit\u306e\u3068\u304d\u81ea\u52d5\u7684\u306b\u305d\u306e\u4f4d\u7f6e\u306b\u623b\u3057\u307e\u3059\u3002\n\nRestoration visits have an action of restore and Turbolinks reserves them for internal use. You should not attempt to annotate links or invoke Turbolinks.visit with an action of restore.\n\nrestoration visit\u306frestore\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u6301\u3063\u3066\u3044\u3066\u3001\u5185\u90e8\u7684\u306a\u5229\u7528\u306e\u305f\u3081\u306b\u4e88\u7d04\u3057\u3066\u3044\u307e\u3059\uff08\uff1f\uff09\u3002restore\u30a2\u30af\u30b7\u30e7\u30f3\u3067Turbolinks.visit\u3092\u8a66\u307f\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\n\nCanceling Visits Before They Start\n\nApplication visits can be canceled before they start, regardless of whether they were initiated by a link click or a call to Turbolinks.visit.\n\nApplication visit\u306f\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u304b[Turbolinks.visit]\u3092\u547c\u3093\u3060\u304b\u306b\u95a2\u4fc2\u306a\u304f\u3001\u305d\u308c\u3092\u958b\u59cb\u524d\u306b\u30ad\u30e3\u30f3\u30bb\u30eb\u3067\u304d\u307e\u3059\u3002\n\nListen for the turbolinks:before-visit event to be notified when a visit is about to start, and use event.data.url (or $event.originalEvent.data.url, when using jQuery) to check the visit\u2019s location. Then cancel the visit by calling event.preventDefault().\n\nvisit\u304c\u958b\u59cb\u3055\u308c\u305f\u3068\u304d\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u901a\u77e5\u3055\u308c\u308b\u3088\u3046\u306bturbolinks:before-visit\u30a4\u30d9\u30f3\u30c8\u3092Listen\u3057\u3066\u3001visit\u306elocation\u3092event.data.url\uff08\u307e\u305f\u306fjQuery\u3092\u4f7f\u3046\u5834\u5408$event.originalEvent.data.url\uff09\u3067\u8abf\u3079\u3066\u3001event.preventDefault()\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u305d\u306evisit\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3059\u3002\n\nRestoration visits cannot be canceled and do not fire turbolinks:before-visit. Turbolinks issues restoration visits in response to history navigation that has already taken place, typically via the browser\u2019s Back or Forward buttons.\n\nRestration visit\u306f\u30ad\u30e3\u30f3\u30bb\u30eb\u3067\u304d\u305a\u3001turbolinks:before-visit\u3082\u767a\u706b\u3057\u307e\u305b\u3093\u3002Turbolinks\u306f\u3059\u3067\u306b\u8a2a\u308c\u305f\u4e8b\u306e\u3042\u308b\u5834\u6240\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u5c65\u6b74\u306b\u5fdc\u3058\u3066restration visit\u3092\u767a\u884c\u3057\u307e\u3059\u3002\u3060\u3044\u305f\u3044\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u623b\u308b\u3084\u9032\u3080\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u3067\u3059\u3002\n\nDisabling Turbolinks on Specific Links \u7279\u5b9a\u306e\u30ea\u30f3\u30af\u3067Turbolinks\u3092\u7121\u52b9\u5316\u3059\u308b\n\nTurbolinks can be disabled on a per-link basis by annotating a link or any of its ancestors with data-turbolinks=\"false\".\n\nTurbolinks\u306f\u30ea\u30f3\u30af\u304b\u305d\u306e\u7956\u5148\u306bdata-turbolinks=\"false\"\u3068\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3053\u3068\u3067\u3001\u30ea\u30f3\u30af\u3054\u3068\u306b\u7121\u52b9\u5316\u3067\u304d\u307e\u3059\u3002\n<a href=\"/\" data-turbolinks=\"false\">Disabled</a>\n\n<div data-turbolinks=\"false\">\n  <a href=\"/\">Disabled</a>\n</div>\n\n\nTo reenable when an ancestor has opted out, use data-turbolinks=\"true\":\n\n\u7956\u5148\u304b\u3089\u72ec\u7acb\u3057\u3066\u6709\u52b9\u5316\u3059\u308b\u306b\u306f\u3001data-turbolinks=\"true\"\u3092\u4f7f\u3044\u307e\u3059\u3002\n<div data-turbolinks=\"false\">\n  <a href=\"/\" data-turbolinks=\"true\">Enabled</a>\n</div>\n\n\nLinks with Turbolinks disabled will be handled normally by the browser.\n\nTurbolinks\u304c\u7121\u52b9\u5316\u3055\u308c\u305f\u30ea\u30f3\u30af\u306f\u666e\u901a\u306b\u30d6\u30e9\u30a6\u30b6\u306b\u6271\u308f\u308c\u307e\u3059\u3002\n\nBuilding Your Turbolinks Application\n\nTurbolinks is fast because it doesn\u2019t reload the page when you follow a link. Instead, your application becomes a persistent, long-running process in the browser. This requires you to rethink the way you structure your JavaScript.\n\nTurbolinks\u306f\u30ea\u30f3\u30af\u3092\u8fbf\u308b\u3068\u304d\u30da\u30fc\u30b8\u3092\u518d\u8aad\u8fbc\u3057\u306a\u3044\u306e\u3067\u901f\u3044\u3067\u3059\u3002\u4ee3\u308f\u308a\u306b\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u6c38\u7d9a\u5316\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u4e2d\u3067\u9577\u304f\u7d9a\u304f\u30d7\u30ed\u30bb\u30b9\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u306fJavaScript\u306e\u7d44\u307f\u65b9\u3092\u518d\u8003\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nIn particular, you can no longer depend on a full page load to reset your environment every time you navigate. The JavaScript window and document objects retain their state across page changes, and any other objects you leave in memory will stay in memory.\n\n\u3068\u308a\u308f\u3051\u3001\u3082\u306f\u3084\u95b2\u89a7\u306e\u5ea6\u306b\u74b0\u5883\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u308b\u30da\u30fc\u30b8\u5168\u4f53\u306e\u8aad\u307f\u8fbc\u307f\u306b\u4f9d\u5b58\u3067\u304d\u307e\u305b\u3093\u3002JavaScript\u306ewindow\u3068document\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u30da\u30fc\u30b8\u9077\u79fb\u3092\u8d85\u3048\u3066\u7dad\u6301\u3057\u307e\u3059\u3057\u3001\u3042\u306a\u305f\u304c\u30e1\u30e2\u30ea\u5185\u306b\u6b8b\u3057\u305f\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3082\u30e1\u30e2\u30ea\u306b\u6b8b\u308a\u7d9a\u3051\u307e\u3059\u3002\n\nWith awareness and a little extra care, you can design your application to gracefully handle this constraint without tightly coupling it to Turbolinks.\n\n\u610f\u8b58\u3057\u3066\u5c11\u3057\u6ce8\u610f\u3092\u6255\u3048\u3070\u3001Turbolinks\u3068\u5bc6\u7d50\u5408\u3055\u305b\u305a\u306b\u3053\u306e\u554f\u984c\u3092\u3046\u307e\u304f\u6271\u3048\u308b\u3088\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u8a08\u3067\u304d\u307e\u3059\u3002\n\nRunning JavaScript When a Page Loads \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u306e\u3068\u304d\u306eJavaScript\u5b9f\u884c\n\nYou may be used to installing JavaScript behavior in response to the window.onload, DOMContentLoaded, or jQuery ready events. With Turbolinks, these events will fire only in response to the initial page load\u2014not after any subsequent page changes.\n\nwindow.onload\u3001DOMContentLoaded\u307e\u305f\u306fJQuery\u306eready\u30a4\u30d9\u30f3\u30c8\u306b\u5fdc\u3058\u305fJavaScript\u306e\u632f\u308b\u821e\u3044\u306e\u8a2d\u7f6e\u306f\u53ef\u80fd\u3067\u3059\u3002Turbolinks\u3067\u3053\u308c\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u306f\u6700\u521d\u306e\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u3067\u3060\u3051\u5fdc\u7b54\u3057\u3001\u305d\u306e\u5f8c\u306b\u7d9a\u304f\u30da\u30fc\u30b8\u9077\u79fb\u3067\u306f\u5fdc\u7b54\u3057\u307e\u305b\u3093\u3002\n\nIn many cases, you can simply adjust your code to listen for the turbolinks:load event, which fires once on the initial page load and again after every Turbolinks visit.\n\n\u591a\u304f\u306e\u5834\u5408\u3001\u6700\u521d\u306e\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u306e\u4e00\u56de\u306b\u52a0\u3048\u3066Turbolinks\u306evisit\u306e\u5f8c\u6bce\u56de\u767a\u706b\u3059\u308bturbolinks:load\u30a4\u30d9\u30f3\u30c8\u3092Listen\u3059\u308b\u3088\u3046\u306b\u30b3\u30fc\u30c9\u3092\u304b\u3093\u305f\u3093\u306b\u8abf\u6574\u3067\u304d\u307e\u3059\u3002\ndocument.addEventListener(\"turbolinks:load\", function() {\n  // ...\n})\n\n\nWhen possible, avoid using the turbolinks:load event to add event listeners directly to elements on the page body. Instead, consider using event delegation to register event listeners once on document or window.\n\n\u53ef\u80fd\u306a\u3089\u3001\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u76f4\u63a5\u30da\u30fc\u30b8body\u306e\u8981\u7d20\u306bturbolinks:load\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306f\u907f\u3051\u3066\u304f\u3060\u3055\u3044\u3002\u304b\u308f\u308a\u306b\u3001document\u304bwindow\u306e\u3069\u3061\u3089\u304b\u306e\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u306b\u767b\u9332\u3057\u3066\u30a4\u30d9\u30f3\u30c8\u306e\u59d4\u8b72\u3092\u4f7f\u3046\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nUnderstanding Caching \u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7406\u89e3\u3059\u308b\n\nTurbolinks maintains a cache of recently visited pages. This cache serves two purposes: to display pages without accessing the network during restoration visits, and to improve perceived performance by showing temporary previews during application visits.\n\nTurbolinks\u306f\u6700\u8fd1\u8a2a\u308c\u305f\u30da\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002\u3053\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306f2\u3064\u306e\u76ee\u7684\u3067\u52d5\u304d\u307e\u3059\uff1a\u5fa9\u5143\u306evisit\u306e\u969b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30af\u30bb\u30b9\u306a\u3057\u306b\u30da\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3053\u3068\u3001\u53ca\u3073application visits\u306e\u969b\u306b\u4e00\u6642\u30d7\u30ec\u30d3\u30e5\u30fc\u3092\u8868\u793a\u3057\u4f53\u611f\u901f\u5ea6\u3092\u6539\u5584\u3059\u308b\u3053\u3068\u3067\u3059\u3002\n\nWhen navigating by history (via Restoration Visits), Turbolinks will restore the page from cache without loading a fresh copy from the network, if possible.\n\n\u5c65\u6b74\u306b\u3088\u308b\u9077\u79fb\uff08Restration Visits\u53c2\u7167\uff09\u306e\u3068\u304d\u3001Turbolinks\u306f\u53ef\u80fd\u306a\u3089\u3070\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u65b0\u3057\u3044\u30b3\u30d4\u30fc\u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u306a\u3057\u306b\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30da\u30fc\u30b8\u3092\u5fa9\u5143\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\n\nOtherwise, during standard navigation (via Application Visits), Turbolinks will immediately restore the page from cache and display it as a preview while simultaneously loading a fresh copy from the network. This gives the illusion of instantaneous page loads for frequently accessed locations.\n\n\u3082\u3057\u304f\u306f\u3001\u4e00\u822c\u7684\u306a\u9077\u79fb\uff08Application Visits\u53c2\u7167\uff09\u306e\u3068\u304d\u3001Turbolinks\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u65b0\u3057\u3044\u30b3\u30d4\u30fc\u3092\u8aad\u307f\u8fbc\u3080\u306e\u3068\u5e73\u884c\u3057\u3066\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30da\u30fc\u30b8\u3092\u3059\u3050\u306b\u5fa9\u5143\u3057\u3066\u30d7\u30ec\u30d3\u30e5\u30fc\u3068\u3057\u3066\u8868\u793a\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u983b\u7e41\u306b\u30a2\u30af\u30bb\u30b9\u3055\u308c\u308b\u5834\u6240\u3067\u77ac\u6642\u306b\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306a\u932f\u899a\u3092\u4e0e\u3048\u307e\u3059\u3002\n\nTurbolinks saves a copy of the current page to its cache just before rendering a new page. Note that Turbolinks copies the page using cloneNode(true), which means any attached event listeners and associated data are discarded.\n\nTurbolinks\u306f\u65b0\u3057\u3044\u30da\u30fc\u30b8\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u76f4\u524d\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u73fe\u5728\u306e\u30da\u30fc\u30b8\u306e\u30b3\u30d4\u30fc\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002Turbolinks\u304c\u30da\u30fc\u30b8\u3092\u30b3\u30d4\u30fc\u3059\u308b\u306e\u306bcloneNode(true)\u3092\u4f7f\u3046\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u4e0b\u3055\u3044\u3002\u3053\u308c\u306f\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u305f\u30a4\u30d9\u30f3\u30c8\u3084\u95a2\u9023\u4ed8\u3051\u3089\u308c\u305f\u30c7\u30fc\u30bf\u306f\u3059\u3079\u3066\u7834\u68c4\u3055\u308c\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\n\nPreparing the Page to be Cached \u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u524d\u6e96\u5099\n\nListen for the turbolinks:before-cache event if you need to prepare the document before Turbolinks caches it. You can use this event to reset forms, collapse expanded UI elements, or tear down any third-party widgets so the page is ready to be displayed again.\n\n\u3082\u3057Turbolinks\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u524d\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u6e96\u5099\u304c\u5fc5\u8981\u306a\u3089turbolinks:before-cache\u30a4\u30d9\u30f3\u30c8\u3092Listen\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u30a4\u30d9\u30f3\u30c8\u306f\u30d5\u30a9\u30fc\u30e0\u306e\u30ea\u30bb\u30c3\u30c8\u3001\u62e1\u5f35\u3055\u308c\u305fUI\u8981\u7d20\u306e\u6298\u308a\u305f\u305f\u307f\u3001\u3042\u308b\u3044\u306f\u30da\u30fc\u30b8\u304c\u518d\u5ea6\u8868\u793a\u3055\u308c\u305f\u3068\u304d\u6e96\u5099\u3067\u304d\u3066\u3044\u308b\u3088\u3046\u306b\u3059\u308b\u306e\u306b\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30fc\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u7834\u68c4\u51e6\u7406\u306a\u3069\u306b\u4f7f\u3048\u307e\u3059\u3002\ndocument.addEventListener(\"turbolinks:before-cache\", function() {\n  // ...\n})\n\n\nDetecting When a Preview is Visible \u30d7\u30ec\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3068\u304d\u306e\u691c\u51fa\n\nTurbolinks adds a data-turbolinks-preview attribute to the <html> element when it displays a preview from cache. You can check for the presence of this attribute to selectively enable or disable behavior when a preview is visible.\n\nTurbolinks\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30d7\u30ec\u30d3\u30e5\u30fc\u3092\u8868\u793a\u3059\u308b\u3068\u304ddata-turbolinks-preview\u5c5e\u6027\u3092<html>\u8981\u7d20\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\u30d7\u30ec\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3068\u304d\u306e\u3001\u9078\u629e\u7684\u306a\u6709\u52b9\u307e\u305f\u306f\u7121\u52b9\u306a\u632f\u308b\u821e\u3044\u306e\u305f\u3081\u306b\u3053\u306e\u5c5e\u6027\u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nif (document.documentElement.hasAttribute(\"data-turbolinks-preview\")) {\n  // Turbolinks is displaying a preview\n}\n\n\nOpting Out of Caching \u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u9664\u5916\n\nYou can control caching behavior on a per-page basis by including a <meta name=\"turbolinks-cache-control\"> element in your page\u2019s <head> and declaring a caching directive.\n\n\u30da\u30fc\u30b8\u306e<head>\u5185\u306b<meta name=\"turbolinks-cache-control\">\u8981\u7d20\u3092\u542b\u3081\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u6307\u5b9a\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u3067\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u632f\u308b\u821e\u3044\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\n\nUse the no-preview directive to specify that a cached version of the page should not be shown as a preview during an application visit. Pages marked no-preview will only be used for restoration visits.\n\napplication visit\u306e\u3068\u304d\u30ad\u30e3\u30c3\u30b7\u30e5\u7248\u306e\u30da\u30fc\u30b8\u304c\u30d7\u30ec\u30d3\u30e5\u30fc\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306bno-preview\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u3044\u307e\u3059\u3002\n\nTo specify that a page should not be cached at all, use the no-cache directive. Pages marked no-cache will always be fetched over the network, including during restoration visits.\n\n\u305d\u306e\u30da\u30fc\u30b8\u306f\u5168\u304f\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u306a\u3044\u3053\u3068\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001no-cache\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u3044\u307e\u3059\u3002no-cache\u306b\u30de\u30fc\u30af\u3055\u308c\u305f\u30da\u30fc\u30b8\u306f\u3001\u5fa9\u5143\u306evisit\u3082\u542b\u3081\u3066\u3044\u3064\u3082\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u53d6\u5f97\u3057\u307e\u3059\u3002\n<head>\n  ...\n  <meta name=\"turbolinks-cache-control\" content=\"no-cache\">\n</head>\n\n\nTo completely disable caching in your application, ensure every page contains a no-cache directive.\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u5b8c\u5168\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7121\u52b9\u5316\u3059\u308b\u306b\u306f\u3001\u3059\u3079\u3066\u306e\u30da\u30fc\u30b8\u304cno-cache\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u542b\u3080\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nMaking Transformations Idempotent Transformations\u306e\u51aa\u7b49\u6027\u3065\u304f\u308a\n\nOften you\u2019ll want to perform client-side transformations to HTML received from the server. For example, you might want to use the browser\u2019s knowledge of the user\u2019s current time zone to group a collection of elements by date.\n\n\u30b5\u30fc\u30d0\u304b\u3089\u53d7\u3051\u53d6\u3063\u305fHTML\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u52a0\u5de5\u3057\u305f\u304f\u306a\u308b\u3053\u3068\u306f\u3088\u304f\u3042\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u65e5\u4ed8\u3067\u8981\u7d20\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u30b0\u30eb\u30fc\u30d7\u308f\u3051\u3059\u308b\u306e\u306b\u30d6\u30e9\u30a6\u30b6\u304c\u8a8d\u8b58\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u4f7f\u3063\u305f\u65b9\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\nSuppose you have annotated a set of elements with data-timestamp attributes indicating the elements\u2019 creation times in UTC. You have a JavaScript function that queries the document for all such elements, converts the timestamps to local time, and inserts date headers before each element that occurs on a new day.\n\nUTC\u8868\u8a18\u3067\u4f5c\u6210\u65e5\u6642\u3092\u793a\u3059data-timestamp\u5c5e\u6027\u3092\u6301\u3064\u8981\u7d20\u306e\u30bb\u30c3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u3068\u3057\u307e\u3059\u3002\u305d\u306e\u5168\u90e8\u306e\u8981\u7d20\u3092document\u304b\u3089\u7167\u4f1a\u3057\u3066\u3001\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u30ed\u30fc\u30ab\u30eb\u65e5\u6642\u306b\u5909\u63db\u3057\u3001\u65e5\u4ed8\u30d8\u30c3\u30c0\u30fc\u3092\u65b0\u3057\u3044\u65e5\u306eelement\u306e\u524d\u306b\u633f\u5165\u3059\u308bJavaScript\u306efunction\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\nConsider what happens if you\u2019ve configured this function to run on turbolinks:load. When you navigate to the page, your function inserts date headers. Navigate away, and Turbolinks saves a copy of the transformed page to its cache. Now press the Back button\u2014Turbolinks restores the page, fires turbolinks:load again, and your function inserts a second set of date headers.\n\nturbolinks:load\u3067\u3053\u306efunction\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305f\u3089\u3001\u4f55\u304c\u8d77\u3053\u308b\u304b\u8003\u3048\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\u30da\u30fc\u30b8\u9077\u79fb\u306e\u3068\u304d\u3001\u3042\u306a\u305f\u306efunction\u306f\u65e5\u4ed8\u30d8\u30c3\u30c0\u30fc\u3092\u633f\u5165\u3057\u307e\u3059\u3002\u30da\u30fc\u30b8\u3092\u96e2\u308c\u308b\u3068\u3001Turbolinks\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u52a0\u5de5\u6e08\u307f\u30da\u30fc\u30b8\u306e\u30b3\u30d4\u30fc\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\u4eca\u5ea6\u306f\u623b\u308b\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\uff65\uff65\uff65Turbolinks\u306f\u30da\u30fc\u30b8\u3092\u5fa9\u5143\u3057\u3001turbolinks:load\u3092\u3082\u3046\u4e00\u5ea6\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u305d\u306efunction\u306f2\u5ea6\u76ee\u306e\u65e5\u4ed8\u30d8\u30c3\u30c0\u30fc\u3092\u633f\u5165\u3057\u307e\u3059\u3002\n\nTo avoid this problem, make your transformation function idempotent. An idempotent transformation is safe to apply multiple times without changing the result beyond its initial application.\n\n\u3053\u306e\u554f\u984c\u3092\u56de\u907f\u3059\u308b\u306b\u306f\u3001\u51aa\u7b49\u306a\u52a0\u5de5function\u3092\u4f5c\u3063\u3066\u4e0b\u3055\u3044\u3002\u51aa\u7b49\u306a\u52a0\u5de5\u306f\u3001\u6700\u521d\u306e\u9069\u7528\u306e\u5f8c\u306b\u8907\u6570\u56de\u5b9f\u884c\u3057\u3066\u3082\u7d50\u679c\u304c\u5909\u308f\u3089\u305a\u5b89\u5168\u3067\u3059\u3002\n\nOne technique for making a transformation idempotent is to keep track of whether you\u2019ve already performed it by setting a data attribute on each processed element. When Turbolinks restores your page from cache, these attributes will still be present. Detect these attributes in your transformation function to determine which elements have already been processed.\n\n\u51aa\u7b49\u306a\u52a0\u5de5\u3092\u4f5c\u308b1\u3064\u306e\u30c6\u30af\u30cb\u30c3\u30af\u306f\u3001data\u5c5e\u6027\u3092\u52a0\u5de5\u3055\u308c\u305f\u305d\u308c\u305e\u308c\u306e\u8981\u7d20\u306b\u30bb\u30c3\u30c8\u3057\u3001\u5b9f\u884c\u6e08\u307f\u304b\u3069\u3046\u304b\u8ffd\u8de1\u3059\u308b\u3053\u3068\u3067\u3059\u3002Turbolinks\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30da\u30fc\u30b8\u3092\u5fa9\u5143\u3057\u305f\u3068\u304d\u3001\u3053\u308c\u3089\u306e\u5c5e\u6027\u306f\u4f9d\u7136\u3068\u3057\u3066\u5b58\u5728\u3057\u307e\u3059\u3002\u8981\u7d20\u304c\u3059\u3067\u306b\u5b9f\u884c\u6e08\u307f\u304b\u3069\u3046\u304b\u3092\u5224\u65ad\u3059\u308b\u305f\u3081\u306b\u3001\u3042\u306a\u305f\u306e\u52a0\u5de5function\u3067\u3053\u308c\u3089\u306e\u8981\u7d20\u3092\u691c\u51fa\u3057\u307e\u3059\u3002\n\nA more robust technique is simply to detect the transformation itself. In the date grouping example above, that means checking for the presence of a date divider before inserting a new one. This approach gracefully handles newly inserted elements that weren\u2019t processed by the original transformation.\n\n\u3088\u308a\u5805\u7262\u306a\u30c6\u30af\u30cb\u30c3\u30af\u306f\u5358\u7d14\u306bfunction\u81ea\u4f53\u3067\u691c\u51fa\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u4e0a\u8a18\u306e\u65e5\u4ed8\u30b0\u30eb\u30fc\u30d7\u5206\u3051\u306e\u4f8b\u3067\u306f\u3001\u65b0\u3057\u3044\u3082\u306e\u3092\u633f\u5165\u3059\u308b\u524d\u306b\u65e5\u4ed8\u306ediv\u8981\u7d20\u304c\u3042\u308b\u3053\u3068\u3092\u8abf\u3079\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u5143\u306e\u52a0\u5de5\u306b\u3088\u3063\u3066\u51e6\u7406\u3055\u308c\u306a\u304b\u3063\u305f\u65b0\u3057\u304f\u633f\u5165\u3055\u308c\u305f\u8981\u7d20\u3092\u3046\u307e\u304f\u6271\u3044\u307e\u3059\u3002\n\nResponding to Page Updates \u30da\u30fc\u30b8\u5909\u66f4\u306e\u5fdc\u7b54\n\nTurbolinks may not be the only source of page updates in your application. New HTML can appear at any time from Ajax requests, WebSocket connections, or other client-side rendering operations, and this content will need to be initialized as if it came from a fresh page load.\n\nTurbolinks\u306f\u3042\u306a\u305f\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u66f4\u65b0\u306e\u552f\u4e00\u306e\u60c5\u5831\u6e90\u3067\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u65b0\u3057\u3044HTML\u306fAjax\u30ea\u30af\u30a8\u30b9\u30c8\u3001WebSocket\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3001\u3042\u308b\u3044\u306f\u4ed6\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u63cf\u753b\u51e6\u7406\u304b\u3089\u3044\u3064\u3067\u3082\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u3057\u3066\u3053\u306e\u5185\u5bb9\u306f\u65b0\u3057\u3044\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u306e\u3088\u3046\u306b\u521d\u671f\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nYou can handle all of these updates, including updates from Turbolinks page loads, in a single place with the precise lifecycle callbacks provided by MutationObserver and Custom Elements.\n\nMutationObserver\u3068Custom Elements\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u308b\u660e\u78ba\u306a\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\uff11\u3064\u3067\u3001Turbolinks\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u304b\u3089\u306e\u66f4\u65b0\u3092\u542b\u3081\u3001\u3053\u308c\u3089\u306e\u66f4\u65b0\u306e\u3059\u3079\u3066\u3092\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nIn particular, these APIs give you callbacks when elements are attached to and removed from the document. You can use these callbacks to perform transformations and register or tear down behavior as soon as matching elements appear on the page, regardless of how they were added.\n\n\u3068\u308a\u308f\u3051\u3001\u3053\u308c\u3089\u306eAPI\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u8981\u7d20\u304c\u8ffd\u52a0\u3055\u308c\u305f\u308a\u524a\u9664\u3055\u308c\u308b\u3068\u304d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u4e00\u81f4\u3057\u305f\u30da\u30fc\u30b8\u8981\u7d20\u304c\u73fe\u308c\u308b\u3068\u3001\u3059\u3050\u306b\u52a0\u5de5\u3092\u5b9f\u884c\u3057\u305f\u308a\u632f\u308b\u821e\u3044\u306e\u767b\u9332\u3084\u53d6\u308a\u5916\u3057\u305f\u308a\u3059\u308b\u306e\u306b\u3053\u308c\u3089\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u4f7f\u3048\u3001\u305d\u308c\u3089\u304c\u3069\u3046\u3084\u3063\u3066\u8ffd\u52a0\u3055\u308c\u305f\u304b\u6c17\u306b\u3057\u307e\u305b\u3093\u3002\n\nBy taking advantage of MutationObserver, Custom Elements, and idempotent transformations, there\u2019s little need to couple your application to Turbolinks\u2019 events.\n\nMutationObserver\u3001Custom Elements\u3001\u304a\u3088\u3073\u51aa\u7b49\u306a\u52a0\u5de5\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u3042\u306a\u305f\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068Turbolinks\u306e\u30a4\u30d9\u30f3\u30c8\u3068\u3092\u7d50\u3073\u3064\u3051\u308b\u5fc5\u8981\u306f\u307b\u3068\u3093\u3069\u3042\u308a\u307e\u305b\u3093\u3002\n\nPersisting Elements Across Page Loads \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u3092\u8d85\u3048\u3066\u5b58\u5728\u3059\u308b\u8981\u7d20\n\nTurbolinks allows you to mark certain elements as permanent. Permanent elements persist across page loads, so that any changes you make to those elements do not need to be reapplied after navigation.\n\n\u6c38\u7d9a\u3059\u308b\u3088\u3046\u306b\u3001Turbolinks\u306f\u7279\u5b9a\u306e\u8981\u7d20\u3092\u30de\u30fc\u30af\u3067\u304d\u307e\u3059\u3002\u6c38\u7d9a\u5316\u8981\u7d20\u306f\u30da\u30fc\u30b8\u306e\u8aad\u307f\u8fbc\u307f\u3092\u8d85\u3048\u3066\u5b58\u5728\u3057\u3001\u305d\u306e\u305f\u3081\u3053\u308c\u3089\u306e\u8981\u7d20\u306b\u3059\u308b\u3069\u3093\u306a\u5909\u66f4\u3082\u3001\u9077\u79fb\u5f8c\u306b\u518d\u9069\u7528\u3059\u308b\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\n\nConsider a Turbolinks application with a shopping cart. At the top of each page is an icon with the number of items currently in the cart. This counter is updated dynamically with JavaScript as items are added and removed.\n\n\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u30ab\u30fc\u30c8\u306eTurbolinks\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8003\u3048\u307e\u3059\u3002\u5404\u30da\u30fc\u30b8\u306e\u4e0a\u90e8\u306b\u73fe\u5728\u30ab\u30fc\u30c8\u306b\u5165\u3063\u3066\u3044\u308b\u5546\u54c1\u6570\u306e\u30a2\u30a4\u30b3\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u30ab\u30a6\u30f3\u30bf\u30fc\u306fJavaScript\u3067\u52d5\u7684\u306b\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u5546\u54c1\u306e\u8ffd\u52a0\u3068\u524a\u9664\u3067\u3059\u3002\n\nNow imagine a user who has navigated to several pages in this application. She adds an item to her cart, then presses the Back button in her browser. Upon navigation, Turbolinks restores the previous page\u2019s state from cache, and the cart item count erroneously changes from 1 to 0.\n\n\u6b21\u306b\u30e6\u30fc\u30b6\u30fc\u304c\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3044\u304f\u3064\u304b\u306e\u30da\u30fc\u30b8\u3092\u9077\u79fb\u3057\u305f\u3053\u3068\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u307e\u3059\u3002\u5f7c\u5973\u306f\u30ab\u30fc\u30c8\u306b\u5546\u54c1\u3092\u5165\u308c\u3001\u305d\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u306e\u623b\u308b\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\u9077\u79fb\u3067\u3001Turbolinks\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u524d\u306e\u30da\u30fc\u30b8\u306e\u72b6\u614b\u3092\u5fa9\u5143\u3057\u3001\u30ab\u30fc\u30c8\u306e\u5546\u54c1\u6570\u304c\u8aa4\u3063\u30661\u304b\u30890\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\nYou can avoid this problem by marking the counter element as permanent. Designate permanent elements by giving them an HTML id and annotating them with data-turbolinks-permanent.\n\n\u30ab\u30a6\u30f3\u30bf\u30fc\u8981\u7d20\u3092\u6c38\u7d9a\u5316\u3059\u308b\u3053\u3068\u3067\u3053\u306e\u554f\u984c\u3092\u56de\u907f\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u3089\u306eHTML\u306bid\u3092\u4e0e\u3048\u3066data-turbolinks-permanent\u3092\u4ed8\u8a18\u3059\u308b\u3053\u3068\u3067\u3001\u6c38\u7d9a\u5316\u8981\u7d20\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n<div id=\"cart-counter\" data-turbolinks-permanent>1 item</div>\n\n\nBefore each render, Turbolinks matches all permanent elements by id and transfers them from the original page to the new page, preserving their data and event listeners.\n\n\u63cf\u753b\u524d\u3001Turbolinks\u306fid\u304c\u4e00\u81f4\u3059\u308b\u3059\u3079\u3066\u306e\u6c38\u7d9a\u5316\u8981\u7d20\u3092\u5143\u306e\u30da\u30fc\u30b8\u304b\u3089\u65b0\u3057\u3044\u30da\u30fc\u30b8\u306b\u79fb\u52d5\u3057\u3001\u305d\u308c\u3089\u306e\u30c7\u30fc\u30bf\u3068\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002\n\nAdvanced Usage \u9ad8\u5ea6\u306a\u4f7f\u3044\u65b9\n\nDisplaying Progress \u9032\u6357\u306e\u8868\u793a\n\nDuring Turbolinks navigation, the browser will not display its native progress indicator. Turbolinks installs a CSS-based progress bar to provide feedback while issuing a request.\n\nTurbolinks\u306e\u9077\u79fb\u306e\u9593\u3001\u30d6\u30e9\u30a6\u30b6\u30cd\u30a4\u30c6\u30a3\u30d6\u306a\u9032\u6357\u30a4\u30f3\u30c7\u30a3\u30b1\u30fc\u30bf\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3057\u3066\u3044\u308b\u9593\u3001Turbolinks\u306f\u5fdc\u7b54\u3092\u63d0\u4f9b\u3059\u308b\u70ba\u306bCSS\u30d9\u30fc\u30b9\u306e\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u3092\u53d6\u308a\u4ed8\u3051\u307e\u3059\u3002\n\nThe progress bar is enabled by default. It appears automatically for any page that takes longer than 500ms to load.\n\n\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6709\u52b9\u3067\u3059\u3002\u8aad\u307f\u8fbc\u307f\u306b500ms\u4ee5\u4e0a\u304b\u304b\u308b\u30da\u30fc\u30b8\u306b\u81ea\u52d5\u3067\u8868\u793a\u3057\u307e\u3059\u3002\n\nThe progress bar is a <div> element with the class name turbolinks-progress-bar. Its default styles appear first in the document and can be overridden by rules that come later.\n\n\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306fturbolinks-progress-bar\u30af\u30e9\u30b9\u306e<div>\u8981\u7d20\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30bf\u30a4\u30eb\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u5148\u982d\u306b\u8868\u793a\u3055\u308c\u3066\u3001\u6b21\u306e\u30eb\u30fc\u30eb\u3067\u4e0a\u66f8\u304d\u3067\u304d\u307e\u3059\u3002\n\nFor example, the following CSS will result in a thick green progress bar:\n\n\u305f\u3068\u3048\u3070\u3001\u6b21\u306eCSS\u3067\u539a\u307f\u306e\u3042\u308b\u7dd1\u306e\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306b\u306a\u308a\u307e\u3059\uff1a\n.turbolinks-progress-bar {\n  height: 5px;\n  background-color: green;\n}\n\n\nTo disable the progress bar entirely, set its visibility style to hidden:\n\n\u5b8c\u5168\u306b\u975e\u8868\u793a\u306b\u3059\u308b\u306b\u306f\u3001visibility\u30b9\u30bf\u30a4\u30eb\u3092hidden\u306b\u3057\u307e\u3059\uff1a\n.turbolinks-progress-bar {\n  visibility: hidden;\n}\n\n\nReloading When Assets Change \u30a2\u30bb\u30c3\u30c8\u5909\u66f4\u6642\u306e\u518d\u8aad\u8fbc\n\nTurbolinks can track the URLs of asset elements in <head> from one page to the next, and automatically issue a full reload if they change. This ensures that users always have the latest versions of your application\u2019s scripts and styles.\n\nTurbolinks\u306f\u3001\u3042\u308b\u30da\u30fc\u30b8\u304b\u3089\u6b21\u306e\u30da\u30fc\u30b8\u3078\u306e<head>\u5185\u30a2\u30bb\u30c3\u30c8\u8981\u7d20\u306eURL\u3092\u8ffd\u8de1\u3067\u304d\u307e\u3059\u3002\n\nAnnotate asset elements with data-turbolinks-track=\"reload\" and include a version identifier in your asset URLs. The identifier could be a number, a last-modified timestamp, or better, a digest of the asset\u2019s contents, as in the following example.\n\n\u30a2\u30bb\u30c3\u30c8\u8981\u7d20\u306bdata-turbolinks-track=\"reload\"\u3068\u6ce8\u8a18\u3057\u3001\u30a2\u30bb\u30c3\u30c8URL\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u8b58\u5225\u5b50\u3092\u542b\u3081\u3066\u4e0b\u3055\u3044\u3002\u8b58\u5225\u5b50\u306f\u3001\u6570\u5024\u3001\u6700\u7d42\u66f4\u65b0\u65e5\u6642\u3001\u305d\u306e\u4ed6\u9069\u5f53\u306a\u3082\u306e\u3001\u6b21\u306e\u4f8b\u306e\u3088\u3046\u306a\u30a2\u30bb\u30c3\u30c8\u30b3\u30f3\u30c6\u30f3\u30c4\u306edigest\u306b\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002\n<head>\n  ...\n  <link rel=\"stylesheet\" href=\"/application-258e88d.css\" data-turbolinks-track=\"reload\">\n  <script src=\"/application-cbd3cd4.js\" data-turbolinks-track=\"reload\"></script>\n</head>\n\n\nNote that Turbolinks will only consider tracked assets in <head> and not elsewhere on the page.\n\nTurbolinks\u306f<head>\u5185\u306e\u30a2\u30bb\u30c3\u30c8\u306e\u8ffd\u8de1\u306e\u307f\u8003\u616e\u3057\u3066\u3044\u3066\u3001\u30da\u30fc\u30b8\u306e\u4ed6\u306e\u5834\u6240\u306f\u305d\u3046\u3067\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nSetting a Root Location \u30eb\u30fc\u30c8\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\n\nBy default, Turbolinks only loads URLs with the same origin\u2014i.e. the same protocol, domain name, and port\u2014as the current document. A visit to any other URL falls back to a full page load.\n\n\u6a19\u6e96\u3067Turbolinks\u306f\u73fe\u5728\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3068\u540c\u3058\u30aa\u30ea\u30b8\u30f3-\u3059\u306a\u308f\u3061\u540c\u3058\u30d7\u30ed\u30c8\u30b3\u30eb\u3001\u30c9\u30e1\u30a4\u30f3\u540d\u3001\u30dd\u30fc\u30c8-\u306eURL\u306e\u307f\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\nIn some cases, you may want to further scope Turbolinks to a path on the same origin. For example, if your Turbolinks application lives at /app, and the non-Turbolinks help site lives at /help, links from the app to the help site shouldn\u2019t use Turbolinks.\n\n\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u3001\u540c\u3058\u30aa\u30ea\u30b8\u30f3\u306e\uff11\u3064\u306e\u30d1\u30b9\u306bTurbolinks\u3092\u50cd\u304b\u305b\u305f\u3044\u3053\u3068\u304c\u3042\u308b\u3067\u3057\u3087\u3046\u3002\u4f8b\u3048\u3070\u3001\u3042\u306a\u305f\u306eTurbolinks\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c/app\u306b\u3042\u308a\u3001Turbolinks\u3067\u306a\u3044\u30d8\u30eb\u30d7\u30b5\u30a4\u30c8\u304c/help\u306b\u3042\u3063\u3066\u3001\u30a2\u30d7\u30ea\u304b\u3089\u30d8\u30eb\u30d7\u30b5\u30a4\u30c8\u306e\u30ea\u30f3\u30af\u306bTurbolinks\u3092\u4f7f\u3063\u3066\u306f\u3044\u3051\u306a\u3044\u3068\u304d\u3067\u3059\u3002\n\nInclude a <meta name=\"turbolinks-root\"> element in your pages\u2019 <head> to scope Turbolinks to a particular root location. Turbolinks will only load same-origin URLs that are prefixed with this path.\n\n\u7279\u5b9a\u306e\u30eb\u30fc\u30c8\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u306bTurbolinks\u3092\u50cd\u304b\u305b\u308b\u306b\u306f<meta name=\"turbolinks-root\">\u8981\u7d20\u3092\u30da\u30fc\u30b8\u306e<head>\u306b\u542b\u3081\u3066\u4e0b\u3055\u3044\u3002\n<head>\n  ...\n  <meta name=\"turbolinks-root\" content=\"/app\">\n</head>\n\n\nFollowing Redirects \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u8ffd\u5f93\n\nWhen you visit location /one and the server redirects you to location /two, you expect the browser\u2019s address bar to display the redirected URL.\n\n/one\u3092\u8a2a\u308c\u3066/two\u306b\u30b5\u30fc\u30d0\u30fc\u304c\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u305f\u3068\u304d\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148URL\u3092\u8868\u793a\u3059\u308b\u306e\u3092\u671f\u5f85\u3057\u307e\u3059\u3002\n\nHowever, Turbolinks makes requests using XMLHttpRequest, which transparently follows redirects. There\u2019s no way for Turbolinks to tell whether a request resulted in a redirect without additional cooperation from the server.\n\n\u3057\u304b\u3057\u306a\u304c\u3089\u3001Turbolinks\u306fXMLHttpRequest\u3092\u4f7f\u3063\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3057\u307e\u3059\u304c\u3001\u305d\u308c\u306f\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u900f\u904e\u7684\u306b\u8ffd\u5f93\u3057\u307e\u3059\u3002\u30b5\u30fc\u30d0\u304b\u3089\u306e\u7279\u5225\u306a\u5354\u529b\u306a\u3057\u306b\u8981\u6c42\u304c\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u7d50\u679c\u306b\u7d42\u308f\u3063\u305f\u304b\u3069\u3046\u304bTurbolinks\u306b\u4f1d\u3048\u308b\u65b9\u6cd5\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\nTo work around this problem, send the Turbolinks-Location header in response to a visit that was redirected, and Turbolinks will replace the browser\u2019s topmost history entry with the value you provide.\n\n\u3053\u306e\u554f\u984c\u306e\u56de\u907f\u7b56\u3068\u3057\u3066\u3001\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u305f\u5148\u306e\u5fdc\u7b54\u3067Turbolinks-Location\u30d8\u30c3\u30c0\u3092\u9001\u51fa\u3057\u3066\u3001Turbolinks\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u4e00\u756a\u4e0a\u306e\u5c65\u6b74\u3068\u3042\u306a\u305f\u304c\u63d0\u4f9b\u3059\u308b\u5024\u3068\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\n\nThe Turbolinks Rails engine sets Turbolinks-Location automatically when using redirect_to in response to a Turbolinks visit.\n\nTurbolinks Rails\u30a8\u30f3\u30b8\u30f3\u306fTurbolinks\u306evisit\u306e\u5fdc\u7b54\u306e\u4e2d\u3067redirect_to\u3092\u4f7f\u3063\u305f\u3068\u304d\u3001\u81ea\u52d5\u7684\u306bTurbolinks-Location\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nRedirecting After a Form Submission \u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u5f8c\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\nSubmitting an HTML form to the server and redirecting in response is a common pattern in web applications. Standard form submission is similar to navigation, resulting in a full page load. Using Turbolinks you can improve the performance of form submission without complicating your server-side code.\n\nHTML\u30d5\u30a9\u30fc\u30e0\u3092\u30b5\u30fc\u30d0\u306b\u9001\u4fe1\u3057\u305f\u5fdc\u7b54\u3067\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u3053\u3068\u306f\u3001Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3088\u304f\u3042\u308b\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002\u6a19\u6e96\u7684\u306a\u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u306f\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u5b8c\u5168\u306a\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u304c\u751f\u3058\u307e\u3059\u3002Turbolinks\u3092\u4f7f\u3063\u3066\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e\u30b3\u30fc\u30c9\u3092\u8907\u96d1\u306b\u305b\u305a\u306b\u30d5\u30a9\u30fc\u30e0\u5fdc\u7b54\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6539\u5584\u3067\u304d\u307e\u3059\u3002\n\nInstead of submitting forms normally, submit them with XHR. In response to an XHR submit on the server, return JavaScript that performs a Turbolinks.visit to be evaluated by the browser.\n\n\u666e\u901a\u306e\u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u306e\u4ee3\u308f\u308a\u306b\u3001XHR\u3067\u9001\u4fe1\u3057\u307e\u3059\u3002\u30b5\u30fc\u30d0\u304b\u3089\u306e\u5fdc\u7b54\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u3088\u3063\u3066\u8a55\u4fa1\u3055\u308cTurbolinks.visit\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306eJavaScript\u3092\u8fd4\u3057\u307e\u3059\u3002\n\nIf form submission results in a state change on the server that affects cached pages, consider clearing Turbolinks\u2019 cache with Turbolinks.clearCache().\n\n\u3082\u3057\u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30da\u30fc\u30b8\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u30b5\u30fc\u30d0\u306e\u72b6\u614b\u5909\u5316\u3092\u8fd4\u3057\u305f\u3089\u3001Turbolinks.clearCache()\u3067Turbolinks\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u3092\u8003\u616e\u3057\u307e\u3059\u3002\n\nThe Turbolinks Rails engine performs this optimization automatically for non-GET XHR requests that redirect with the redirect_to helper.\n\nTurbolinks Rails\u30a8\u30f3\u30b8\u30f3\u306fGET\u4ee5\u5916\u306eXHR\u30ea\u30af\u30a8\u30b9\u30c8\u3067redirect_to\u3092\u4f7f\u3063\u3066\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308c\u3070\u3001\u3053\u306e\u6700\u9069\u5316\u3092\u81ea\u52d5\u7684\u306b\u884c\u3044\u307e\u3059\u3002\n\nSetting Custom HTTP Headers \u30ab\u30b9\u30bf\u30e0HTTP\u30d8\u30c3\u30c0\u30fc\u306e\u8a2d\u5b9a\n\nYou can observe the turbolinks:request-start event to set custom headers on Turbolinks requests. Access the request\u2019s XMLHttpRequest object via event.data.xhr, then call the setRequestHeader method as many times as you wish.\n\nTurbolinks\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30ab\u30b9\u30bf\u30e0\u30d8\u30c3\u30c0\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u306e\u306bturbolinks:request-start\u30a4\u30d9\u30f3\u30c8\u3092\u76e3\u8996\u3067\u304d\u307e\u3059\u3002event.data.xhr\u3092\u4ecb\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u306eXMLHttpRequest\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\n\u4f55\u5ea6\u3067\u3082setRequestHeader\u3092\u547c\u3073\u51fa\u305b\u307e\u3059\u3002\n\nFor example, you might want to include a request ID with every Turbolinks link click and programmatic visit.\n\n\u4f8b\u3048\u3070\u3001Turbolinks\u30ea\u30f3\u30af\u306e\u30af\u30ea\u30c3\u30af\u3084\u30d7\u30ed\u30b0\u30e9\u30e0\u3055\u308c\u305fvisit\u306e\u5ea6\u306b\u30ea\u30af\u30a8\u30b9\u30c8ID\u3092\u542b\u3081\u305f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\ndocument.addEventListener(\"turbolinks:request-start\", function(event) {\n  var xhr = event.data.xhr\n  xhr.setRequestHeader(\"X-Request-Id\", \"123...\")\n})\n\n\nAPI Reference API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n\nTurbolinks.visit\nUsage:\njs\nTurbolinks.visit(location)\nTurbolinks.visit(location, { action: action })\n\n\nPerforms an Application Visit to the given location (a string containing a URL or path) with the specified action (a string, either \"advance\" or \"replace\").\nIf location is a cross-origin URL, or falls outside of the specified root (see Setting a Root Location), or if the value of Turbolinks.supported is false, Turbolinks performs a full page load by setting window.location.\nIf action is unspecified, Turbolinks assumes a value of \"advance\".\nBefore performing the visit, Turbolinks fires a turbolinks:before-visit event on document. Your application can listen for this event and cancel the visit with event.preventDefault() (see Canceling Visits Before They Start).\n\n\nTurbolinks.clearCache\n\nUsage:\njs\nTurbolinks.clearCache()\n\nRemoves all entries from the Turbolinks page cache. Call this when state has changed on the server that may affect cached pages.\n\n\nTurbolinks.supported\n\nUsage:\njs\nif (Turbolinks.supported) {\n  // ...\n}\n\nDetects whether Turbolinks is supported in the current browser (see Supported Browsers).\n\n\nFull List of Events\n\nTurbolinks emits events that allow you to track the navigation lifecycle and respond to page loading. Except where noted, Turbolinks fires events on the document object.\n\nturbolinks:click fires when you click a Turbolinks-enabled link. The clicked element is the event target. Access the requested location with event.data.url. Cancel this event to let the click fall through to the browser as normal navigation.\nturbolinks:before-visit fires before visiting a location, except when navigating by history. Access the requested location with event.data.url. Cancel this event to prevent navigation.\nturbolinks:visit fires immediately after a visit starts.\nturbolinks:request-start fires before Turbolinks issues a network request to fetch the page. Access the XMLHttpRequest object with event.data.xhr.\nturbolinks:request-end fires after the network request completes. Access the XMLHttpRequest object with event.data.xhr.\nturbolinks:before-cache fires before Turbolinks saves the current page to cache.\nturbolinks:before-render fires before rendering the page. Access the new <body> element with event.data.newBody.\nturbolinks:render fires after Turbolinks renders the page. This event fires twice during an application visit to a cached location: once after rendering the cached version, and again after rendering the fresh version.\nturbolinks:load fires once after the initial page load, and again after every Turbolinks visit. Access visit timing metrics with the event.data.timing object.\n\n\n\nContributing to Turbolinks\n\nTurbolinks is open-source software, freely distributable under the terms of an MIT-style license. The source code is hosted on GitHub.\nDevelopment is sponsored by Basecamp.\nWe welcome contributions in the form of bug reports, pull requests, or thoughtful discussions in the GitHub issue tracker.\nPlease note that this project is released with a Contributor Code of Conduct. By participating in this project you agree to abide by its terms.\n\n\nBuilding From Source\n\nTurbolinks is written in CoffeeScript and compiled to JavaScript with Blade. To build from source you\u2019ll need a recent version of Ruby. From the root of your Turbolinks directory, issue the following commands to build the distributable files in dist/:\n\n$ gem install bundler\n$ bundle install\n$ bin/blade build\n\n\nRunning Tests\n\nFollow the instructions for Building From Source above. Then run bin/blade runner and visit the displayed URL in your browser. The Turbolinks test suite will start automatically.\n\n\u8ffd\u8a18\uff1aQiita\u3060\u3068\u8aad\u307f\u3065\u3089\u304b\u3063\u305f\u306e\u3067GitHub\u306e\u65b9\u306b\u2192 https://github.com/takeyuweb/turbolinks/blob/master/README.ja.md\n\n---\n\n\u30bc\u30ed\u304b\u3089\u66f8\u304d\u76f4\u3055\u308c\u305f\u3068\u3044\u3046Turbolinks 5\u306b\u3064\u3044\u3066\u3001\u3069\u3093\u306a\u3082\u306e\u304b\u628a\u63e1\u3059\u308b\u305f\u3081\u306bREADME\u3092\u65e5\u672c\u8a9e\u8a33\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u3042\u308b\u7a0b\u5ea6\u3067\u304d\u305f\u306e\u3067\u516c\u958b\u3057\u307e\u3059\u3002\n\nhttps://github.com/turbolinks/turbolinks\nTurbolinks makes navigating your web application faster\n\nhttps://github.com/turbolinks/turbolinks/blob/ab019670632b719b3d2ecdccb158ff9f4f47746f/README.md\n\n\u3053\u308c\u306f\u3001\u82f1\u8a9e\u304c\u82e6\u624b\u306a\u50d5\u304c\u82f1\u8a9e\u5b66\u7fd2\u306e\u4e00\u74b0\u3068\u3057\u3066\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u305f\u3082\u306e\u306a\u306e\u3067\u3001\u307b\u307c\u76f4\u8a33\u3067\u8aad\u307f\u3084\u3059\u3044\u3082\u306e\u3068\u306f\u8a00\u3044\u304c\u305f\u3044\u3067\u3059\u3057\u3001\u591a\u5206\u8aa4\u8a33\u3082\u542b\u307e\u308c\u307e\u3059\u3002\u6a5f\u68b0\u7ffb\u8a33\u3088\u308a\u306f\u30de\u30b7\u306b\u3057\u305f\u3044\u3067\u3059\u304c\u3001\u9d5c\u5451\u307f\u3057\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u500b\u4eba\u7684\u306b\u306fREADME\u3092\u304d\u3061\u3093\u3068\u8aad\u3081\u3070\u7406\u89e3\u3057\u3084\u3059\u304f\u611f\u3058\u3001\u30e2\u30d0\u30a4\u30ebOS\u306e\u30cd\u30a4\u30c6\u30a3\u30d6\u9023\u643a\u306e\u90e8\u5206\u306a\u3069\u9762\u767d\u305d\u3046\u306a\u6a5f\u80fd\u3082\u3042\u308a\u3001\u4eca\u5ea6\u4f7f\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\n## Turbolinks\n\n> Turbolinks makes navigating your web application faster. Get the performance benefits of a single-page application without the added complexity of a client-side JavaScript framework. Use HTML to render your views on the server side and link to pages as usual. When you follow a link, Turbolinks automatically fetches the page, swaps in its `<body>`, and merges its `<head>`, all without incurring the cost of a full page load.\n\n**Turbolinks\u306f\u3042\u306a\u305f\u306eWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u95b2\u89a7\u3092\u9ad8\u901f\u5316\u3057\u307e\u3059\u3002**\u8907\u96d1\u306a\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9JavaScript\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u306a\u3057\u306b\u30b7\u30f3\u30b0\u30eb\u30da\u30fc\u30b8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u4e0a\u306e\u6069\u6075\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u30d3\u30e5\u30fc\u306bHTML\u3092\u4f7f\u3063\u3066\u3001\u3044\u3064\u3082\u306e\u3088\u3046\u306b\u30da\u30fc\u30b8\u306b\u30ea\u30f3\u30af\u3092\u639b\u3051\u307e\u3059\u3002\u30ea\u30f3\u30af\u3092\u8fbf\u308b\u3068\u304d\u3001Turbolinks\u306f\u81ea\u52d5\u7684\u306b\u30da\u30fc\u30b8\u3092\u53d6\u5f97\u3001`<body>`\u306e\u7f6e\u304d\u63db\u3048\u3001`<head>`\u306e\u30de\u30fc\u30b8\u3001\u3059\u3079\u3066\u30da\u30fc\u30b8\u5168\u4f53\u306e\u8aad\u307f\u8fbc\u307f\u306b\u304b\u304b\u308b\u30b3\u30b9\u30c8\u3092\u62db\u304f\u3053\u3068\u306a\u304f\u3067\u304d\u307e\u3059\u3002\n\n<img src=\"https://camo.githubusercontent.com/a9098e08c266f53bec1998d2cb1d11815c11145c/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f747572626f6c696e6b732d646f63732f696d616765732f747572626f6c696e6b732e676966\">\n\n### \u6a5f\u80fd\n\n> - Optimizes navigation automatically. No need to annotate links or specify which parts of the page should change.\n> - No server-side cooperation necessary. Respond with full HTML pages, not partial page fragments or JSON.\n> - Respects the web. The Back and Reload buttons work just as you\u2019d expect. Search engine-friendly by design.\n> - Supports mobile apps. Adapters for iOS and Android let you build hybrid applications using native navigation controls.\n\n- **\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u306e\u6700\u9069\u5316\u3002**\u30ea\u30f3\u30af\u306b\u6ce8\u91c8\uff08\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\uff09\u3092\u4ed8\u3051\u305f\u308a\u3001\u30da\u30fc\u30b8\u306e\u3069\u306e\u90e8\u5206\u3092\u5909\u66f4\u3059\u308b\u304b\u6307\u5b9a\u3059\u308b\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n- **\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u5354\u8abf\u306f\u4e0d\u8981\u3002**\u30d5\u30e9\u30b0\u30e1\u30f3\u30c8\u3084JSON\u3067\u306f\u306a\u304f\u3001\u5b8c\u5168\u306aHTML\u30da\u30fc\u30b8\u3092\u8fd4\u3057\u307e\u3059\u3002\n- **Web\u306e\u5c0a\u91cd\u3002**\u623b\u308b\u30dc\u30bf\u30f3\u3084\u518d\u8aad\u8fbc\u30dc\u30bf\u30f3\u306f\u671f\u5f85\u901a\u308a\u52d5\u4f5c\u3057\u307e\u3059\u3002\u30b5\u30fc\u30c1\u30a8\u30f3\u30b8\u30f3\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u306a\u8a2d\u8a08\u306a\u8a2d\u8a08\u3067\u3059\u3002\n- **\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u5bfe\u5fdc\u3002**iOS/Android\u30a2\u30c0\u30d7\u30bf\u3067\u30cd\u30a4\u30c6\u30a3\u30d6\u306a\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3092\u4f7f\u3063\u305f\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3057\u307e\u3057\u3087\u3046\u3002\n\n### \u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30d6\u30e9\u30a6\u30b6\n\n> Turbolinks works in all modern desktop and mobile browsers. It depends on the HTML5 History API and Window.requestAnimationFrame. In unsupported browsers, Turbolinks gracefully degrades to standard navigation.\n\n\u3059\u3079\u3066\u306e\u30e2\u30c0\u30f3\u30d6\u30e9\u30a6\u30b6\u3068\u30e2\u30d0\u30a4\u30eb\u30d6\u30e9\u30a6\u30b6\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002[HTML5 History API](https://developer.mozilla.org/en-US/docs/Web/API/History)\u3068[Window.requestAnimationFrame](http://caniuse.com/#search=requestAnimationFrame)\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u3001\u6a19\u6e96\u7684\u306a\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u306b\u623b\u3057\u307e\u3059\u3002\uff08Grafeful Degration\uff09\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n> Include dist/turbolinks.js in your application\u2019s JavaScript bundle.\n\n`dist/turbolinks.js`\u3092\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eJavaScript\u30bb\u30c3\u30c8\u306b\u542b\u3081\u3066\u4e0b\u3055\u3044\u3002\n\n#### Rails\u30a4\u30f3\u30c6\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\n\n> The Turbolinks gem is packaged as a Rails engine and integrates seamlessly with the Rails asset pipeline. To install:\n\nTurbolinks gem\u306fRails\u30a8\u30f3\u30b8\u30f3\u3068\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\u3055\u308c\u3066\u3044\u3066\u3001Rails asset pipeline\u3068\u30b7\u30fc\u30e0\u30ec\u30b9\u306b\u7d71\u5408\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n> 1. Add the turbolinks gem, version 5, to your Gemfile: gem 'turbolinks', '~> 5.0.0.beta'\n> 2. Run bundle install.\n> 3. Add //= require turbolinks to your JavaScript manifest file (usually found at app/assets/javascripts/application.js).\n\n1. Gemfile\u306b`turbolinks`gem \u30d0\u30fc\u30b8\u30e7\u30f35\u3092\u8ffd\u52a0\u3002: `gem 'turbolinks', '~> 5.0.0.beta'`\n2. `bundle install`\u5b9f\u884c\u3002\n3. `//= require turbolinks`\u3092Javascript\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u8ffd\u52a0\u3002\uff08\u305f\u3044\u3066\u3044\u306f`app/assets/javascripts/application.js`\uff09\n\n## Navigating with Turbolinks\n\n> Turbolinks intercepts all clicks on `<a href>` links to the same domain. When you click an eligible link, Turbolinks prevents the browser from following it. Instead, Turbolinks changes the browser\u2019s URL using the History API, requests the new page using XMLHttpRequest, and then renders the HTML response.\n\nTurbolinks\u306f\u540c\u3058\u30c9\u30e1\u30a4\u30f3\u306e`<a href>`\u30ea\u30f3\u30af\u306e\u3059\u3079\u3066\u306e\u30af\u30ea\u30c3\u30af\u3092\u6a2a\u53d6\u308a\u3057\u307e\u3059\u3002\u9069\u5f53\u306a\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001Turbolinks\u306f\u305d\u308c\u3092\u30d6\u30e9\u30a6\u30b6\u304c\u8fbf\u308b\u306e\u3092\u9632\u304e\u307e\u3059\u3002\u305d\u306e\u4ee3\u308f\u308a\u306b[History API](https://developer.mozilla.org/en-US/docs/Web/API/History)\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u306eURL\u3092\u5909\u3048\u3001[XMLHttpRequest](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest)\u3092\u4f7f\u3063\u3066\u65b0\u3057\u3044\u30da\u30fc\u30b8\u3092\u8981\u6c42\u3057\u3001\u305d\u308c\u304b\u3089HTML\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u63cf\u753b\u3057\u307e\u3059\u3002\n\n> During rendering, Turbolinks replaces the current `<body>` element outright and merges the contents of the `<head>` element. The JavaScript window and document objects, and the HTML `<html>` element, persist from one rendering to the next.\n\n\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306e\u9593\u306b\u3001Turbolinks\u306f\u73fe\u5728\u306e`<body>`\u3092\u5b8c\u5168\u306b\u7f6e\u304d\u63db\u3048\u3001`<head>`\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002`window`\u3068`document`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3001\u305d\u308c\u306b`<html>`\u8981\u7d20\u306f\u7dad\u6301\u3057\u307e\u3059\u3002\n\n### \u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u306fVisit\n\n> Turbolinks models navigation as a visit to a location (URL) with an action.\n\nTurbolinks\u306fnavigation\u3092\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\uff08URL\uff09\u3068*action*\u30921\u3064\u3068\u3057\u305f*visit*\u3068\u5b9a\u7fa9\u3057\u307e\u3059\n\n> Visits represent the entire navigation lifecycle from click to render. That includes changing browser history, issuing the network request, restoring a copy of the page from cache, rendering the final response, and updating the scroll position.\n\n*Visit*\u306f\u30af\u30ea\u30c3\u30af\u304b\u3089\u63cf\u753b\u307e\u3067\u5168\u4f53\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\u305d\u308c\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u5c65\u6b74\u5909\u66f4\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30af\u30a8\u30b9\u30c8\u767a\u884c\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u306e\u30da\u30fc\u30b8\u30b3\u30d4\u30fc\u306e\u5fa9\u5143\u3001\u6700\u7d42\u7684\u306a\u5fdc\u7b54\u306e\u63cf\u753b\u3068\u30b9\u30af\u30ed\u30fc\u30eb\u4f4d\u7f6e\u306e\u66f4\u65b0\u304c\u542b\u307e\u308c\u307e\u3059\u3002\n\n`visit`\u306b\u306f\uff12\u7a2e\u985e\u3042\u308a\u307e\u3059: *\u9032\u5c55\uff08advance\uff09*\u307e\u305f\u306f*\u7f6e\u63db\uff08replace\uff09*\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u3082\u3064*application visit*\u3001\u305d\u308c\u304b\u3089*\u5fa9\u5143\uff08restore\uff09*\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u3082\u3064*restoration visit*\n\n\n### Application Visits\n\n> Application visits are initiated by clicking a Turbolinks-enabled link, or programmatically by calling Turbolinks.visit(location).\n\nApplication Visits\u306fTurbolinks\u304c\u6709\u52b9\u306a\u30ea\u30f3\u30af\u306e\u30af\u30ea\u30c3\u30af\u307e\u305f\u306f\u3001`Turbolinks.visit(location)`\u3092\u547c\u3076\u3053\u3068\u306b\u3088\u308a\u958b\u59cb\u3055\u308c\u307e\u3059\u3002\n\n> An application visit always issues a network request. When the response arrives, Turbolinks renders its HTML and completes the visit.\n\nApplication Visits\u306f\u3044\u3064\u3082\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002\u5fdc\u7b54\u304c\u8fd4\u308b\u3068\u3001Turbolinks\u306f\u305d\u306eHTML\u3092\u63cf\u753b\u3057\u3001visit\u3092\u5b8c\u4e86\u3057\u307e\u3059\u3002\n\n> If possible, Turbolinks will render a preview of the page from cache immediately after the visit starts. This improves the perceived speed of frequent navigation between the same pages.\n\n\u3082\u3057\u53ef\u80fd\u306a\u3089\u3001Turbolinks\u306fvisit\u304c\u59cb\u307e\u3063\u305f\u5f8c\u5373\u5ea7\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30d7\u30ec\u30d3\u30e5\u30fc\u3092\u63cf\u753b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u540c\u3058\u30da\u30fc\u30b8\u3078\u983b\u7e41\u306b\u9077\u79fb\u3059\u308b\u3068\u304d\u306e\u4f53\u611f\u901f\u5ea6\u3092\u6539\u5584\u3057\u307e\u3059\u3002\n\n> If the visit\u2019s location includes an anchor, Turbolinks will attempt to scroll to the anchored element. Otherwise, it will scroll to the top of the page.\n\n\u3082\u3057\u30a2\u30f3\u30ab\u30fc\u304c\u542b\u307e\u308c\u3066\u3044\u305f\u3089\u3001Turbolinks\u306f\u30a2\u30f3\u30ab\u30fc\u5148\u306e\u8981\u7d20\u3078\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u3092\u8a66\u307f\u307e\u3059\u3002\u305d\u308c\u304c\u306a\u3051\u308c\u3070\u30da\u30fc\u30b8\u306e\u4e0a\u90e8\u3078\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n> Application visits result in a change to the browser\u2019s history; the visit\u2019s action determines how.\n\nApplication Visits\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u5c65\u6b74\u306e\u5909\u5316\u3092\u3082\u305f\u3089\u3057\u307e\u3059\u3002\u305d\u306evisit\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u3001\u3069\u306e\u3088\u3046\u306b\u3059\u308b\u304b\u3092\u6c7a\u3081\u307e\u3059\u3002\n\n<img src=\"https://camo.githubusercontent.com/17c33fd7fe4e7a747d505b926f1a429efcf67be5/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f747572626f6c696e6b732d646f63732f696d616765732f616476616e63652e737667\">\n\n> The default visit action is advance. During an advance visit, Turbolinks pushes a new entry onto the browser\u2019s history stack using history.pushState.\n\n\u6a19\u6e96\u306evisit\u30a2\u30af\u30b7\u30e7\u30f3\u306f*advance\uff08\u9032\u5c55\uff09*\u3067\u3059\u3002advance visit\u306e\u9593\u3001Turbolinks\u306f[history.pushState](https://developer.mozilla.org/en-US/docs/Web/API/History/pushState)\u3092\u4f7f\u3063\u3066\u30d6\u30e9\u30a6\u30b6\u306e\u5c65\u6b74\u30b9\u30bf\u30c3\u30af\u306b\u65b0\u3057\u3044\u30a8\u30f3\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n> Applications using the Turbolinks iOS adapter typically handle advance visits by pushing a new view controller onto the navigation stack. Similarly, applications using the Android adapter typically push a new activity onto the back stack.\n\n[iOS\u30a2\u30c0\u30d7\u30bf](https://github.com/turbolinks/turbolinks-ios)\u3092\u4f7f\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4e00\u822c\u7684\u306b\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b9\u30bf\u30c3\u30af\u306b\u65b0\u3057\u3044ViewController\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067advance visit\u3092\u6271\u3044\u307e\u3059\u3002\u540c\u69d8\u306b[Android\u30a2\u30c0\u30d7\u30bf](https://github.com/turbolinks/turbolinks-android)\u3092\u4f7f\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u4f8b\u306b\u3088\u3063\u3066\u30d0\u30c3\u30af\u30b9\u30bf\u30c3\u30af\u306b\u65b0\u3057\u3044Activity\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n<img src=\"https://camo.githubusercontent.com/9962ffa357e8cb009b46dd706b277d338952ae96/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f747572626f6c696e6b732d646f63732f696d616765732f7265706c6163652e737667\">\n\n> You may wish to visit a location without pushing a new history entry onto the stack. The replace visit action uses history.replaceState to discard the topmost history entry and replace it with the new location.\n\n\u30b9\u30bf\u30c3\u30af\u306b\u65b0\u3057\u3044\u5c65\u6b74\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u306a\u3057\u306bvisit\u3092\u51e6\u7406\u3057\u305f\u3044\u5834\u5408\u3002*replace\uff08\u7f6e\u63db\uff09* visit\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u4e00\u756a\u4e0a\u306e\u5c65\u6b74\u3092\u7834\u68c4\u3057\u3066\u65b0\u3057\u3044location\u3067\u7f6e\u304d\u63db\u3048\u308b\u306e\u306b[history.replaceState](https://developer.mozilla.org/en-US/docs/Web/API/History/pushState)\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n> To specify that following a link should trigger a replace visit, annotate the link with data-turbolinks-action=\"replace\":\n\nreplace visit\u3092\u4f5c\u52d5\u3055\u3059\u308b\u3088\u3046\u30ea\u30f3\u30af\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001`data-turbolinks-action=\"replace\"`\u3068\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u5165\u308c\u307e\u3059\u3002\n\n```html\n<a href=\"/edit\" data-turbolinks-action=\"replace\">Edit</a>\n```\n\n> To programmatically visit a location with the replace action, pass the action: \"replace\" option to Turbolinks.visit:\n\nrelace\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u4f7f\u3046\u306b\u306f\u3001`action: \"replace\"`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092`Turbolinks.visit`\u306b\u6e21\u3057\u307e\u3059\uff1a\n\n```javascript\nTurbolinks.visit(\"/edit\", { action: \"replace\" })\n```\n\n> Applications using the Turbolinks iOS adapter typically handle replace visits by dismissing the topmost view controller and pushing a new view controller onto the navigation stack without animation.\n\n[iOS\u30a2\u30c0\u30d7\u30bf](https://github.com/turbolinks/turbolinks-ios)\u3092\u4f7f\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4e00\u756a\u4e0a\u306eViewController\u3092\u7834\u68c4\u3057\u3066\u65b0\u3057\u3044ViewController\u3092\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u306a\u3057\u306b\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b9\u30bf\u30c3\u30af\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u3001replace visits\u3092\u6271\u3044\u307e\u3059\u3002\n\n## Restoration Visits\n\n> Turbolinks automatically initiates a restoration visit when you navigate with the browser\u2019s Back or Forward buttons. Applications using the [iOS](https://github.com/turbolinks/turbolinks-ios) or [Android](https://github.com/turbolinks/turbolinks-android) adapters initiate a restoration visit when moving backward in the navigation stack.\n\nTurbolinks\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u623b\u308b\u3084\u9032\u3080\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u3068\u304d\u3001\u81ea\u52d5\u7684\u306brestoration visit\u3092\u958b\u59cb\u3057\u307e\u3059\u3002iOS\u3084Android\u306e\u30a2\u30c0\u30d7\u30bf\u3092\u4f7f\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u5834\u5408\u306f\u3001\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b9\u30bf\u30c3\u30af\u3092\u5f8c\u9000\u3057\u305f\u3068\u304d\u3067\u3059\u3002\n\n![Restore visit action](https://s3.amazonaws.com/turbolinks-docs/images/restore.svg)\n\n> If possible, Turbolinks will render a copy of the page from cache without making a request. Otherwise, it will retrieve a fresh copy of the page over the network. See [Understanding Caching](#understanding-caching) for more details.\n\n\u53ef\u80fd\u306a\u3089Turbolinks\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u751f\u3055\u305b\u305a\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u30da\u30fc\u30b8\u30b3\u30d4\u30fc\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u305d\u3046\u3067\u306a\u3051\u308c\u3070\u6700\u65b0\u306e\u30da\u30fc\u30b8\u30b3\u30d4\u30fc\u3092\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u53d6\u5f97\u3057\u307e\u3059\u3002\u8a73\u3057\u304f\u306f[\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7406\u89e3\u3059\u308b](#understanding-caching)\u3092\u304a\u8aad\u307f\u4e0b\u3055\u3044\u3002\n\n> Turbolinks saves the scroll position of each page before navigating away and automatically returns to this saved position on restoration visits.\n\nTurbolink\u306f\u79fb\u52d5\u306e\u524d\u306b\u30da\u30fc\u30b8\u306e\u30b9\u30af\u30ed\u30fc\u30eb\u4f4d\u7f6e\u3092\u8a18\u9332\u3057\u3066\u304a\u304d\u3001\u5fa9\u5143\u306evisit\u306e\u3068\u304d\u81ea\u52d5\u7684\u306b\u305d\u306e\u4f4d\u7f6e\u306b\u623b\u3057\u307e\u3059\u3002\n\n> Restoration visits have an action of _restore_ and Turbolinks reserves them for internal use. You should not attempt to annotate links or invoke [`Turbolinks.visit`](#turbolinksvisit) with an action of `restore`.\n\nrestoration visit\u306f_restore_\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u6301\u3063\u3066\u3044\u3066\u3001\u5185\u90e8\u7684\u306a\u5229\u7528\u306e\u305f\u3081\u306b\u4e88\u7d04\u3057\u3066\u3044\u307e\u3059\uff08\uff1f\uff09\u3002`restore`\u30a2\u30af\u30b7\u30e7\u30f3\u3067[`Turbolinks.visit`](#turbolinksvisit)\u3092\u8a66\u307f\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\n\n## Canceling Visits Before They Start\n\n> Application visits can be canceled before they start, regardless of whether they were initiated by a link click or a call to [`Turbolinks.visit`](#turbolinksvisit).\n\nApplication visit\u306f\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u304b[`Turbolinks.visit`]\u3092\u547c\u3093\u3060\u304b\u306b\u95a2\u4fc2\u306a\u304f\u3001\u305d\u308c\u3092\u958b\u59cb\u524d\u306b\u30ad\u30e3\u30f3\u30bb\u30eb\u3067\u304d\u307e\u3059\u3002\n\n> Listen for the `turbolinks:before-visit` event to be notified when a visit is about to start, and use `event.data.url` (or `$event.originalEvent.data.url`, when using jQuery) to check the visit\u2019s location. Then cancel the visit by calling `event.preventDefault()`.\n\nvisit\u304c\u958b\u59cb\u3055\u308c\u305f\u3068\u304d\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u901a\u77e5\u3055\u308c\u308b\u3088\u3046\u306b`turbolinks:before-visit`\u30a4\u30d9\u30f3\u30c8\u3092Listen\u3057\u3066\u3001visit\u306elocation\u3092`event.data.url`\uff08\u307e\u305f\u306fjQuery\u3092\u4f7f\u3046\u5834\u5408`$event.originalEvent.data.url`\uff09\u3067\u8abf\u3079\u3066\u3001`event.preventDefault()`\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u305d\u306evisit\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3059\u3002\n\n> Restoration visits cannot be canceled and do not fire `turbolinks:before-visit`. Turbolinks issues restoration visits in response to history navigation that has *already taken place*, typically via the browser\u2019s Back or Forward buttons.\n\nRestration visit\u306f\u30ad\u30e3\u30f3\u30bb\u30eb\u3067\u304d\u305a\u3001`turbolinks:before-visit`\u3082\u767a\u706b\u3057\u307e\u305b\u3093\u3002Turbolinks\u306f*\u3059\u3067\u306b\u8a2a\u308c\u305f\u4e8b\u306e\u3042\u308b\u5834\u6240*\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u5c65\u6b74\u306b\u5fdc\u3058\u3066restration visit\u3092\u767a\u884c\u3057\u307e\u3059\u3002\u3060\u3044\u305f\u3044\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u623b\u308b\u3084\u9032\u3080\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u305f\u6642\u3067\u3059\u3002\n\n## Disabling Turbolinks on Specific Links \u7279\u5b9a\u306e\u30ea\u30f3\u30af\u3067Turbolinks\u3092\u7121\u52b9\u5316\u3059\u308b\n\n> Turbolinks can be disabled on a per-link basis by annotating a link or any of its ancestors with `data-turbolinks=\"false\"`.\n\nTurbolinks\u306f\u30ea\u30f3\u30af\u304b\u305d\u306e\u7956\u5148\u306b`data-turbolinks=\"false\"`\u3068\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3053\u3068\u3067\u3001\u30ea\u30f3\u30af\u3054\u3068\u306b\u7121\u52b9\u5316\u3067\u304d\u307e\u3059\u3002\n\n```html\n<a href=\"/\" data-turbolinks=\"false\">Disabled</a>\n\n<div data-turbolinks=\"false\">\n  <a href=\"/\">Disabled</a>\n</div>\n```\n\n> To reenable when an ancestor has opted out, use `data-turbolinks=\"true\"`:\n\n\u7956\u5148\u304b\u3089\u72ec\u7acb\u3057\u3066\u6709\u52b9\u5316\u3059\u308b\u306b\u306f\u3001`data-turbolinks=\"true\"`\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```html\n<div data-turbolinks=\"false\">\n  <a href=\"/\" data-turbolinks=\"true\">Enabled</a>\n</div>\n```\n\n> Links with Turbolinks disabled will be handled normally by the browser.\n\nTurbolinks\u304c\u7121\u52b9\u5316\u3055\u308c\u305f\u30ea\u30f3\u30af\u306f\u666e\u901a\u306b\u30d6\u30e9\u30a6\u30b6\u306b\u6271\u308f\u308c\u307e\u3059\u3002\n\n# Building Your Turbolinks Application\n\n> Turbolinks is fast because it doesn\u2019t reload the page when you follow a link. Instead, your application becomes a persistent, long-running process in the browser. This requires you to rethink the way you structure your JavaScript.\n\nTurbolinks\u306f\u30ea\u30f3\u30af\u3092\u8fbf\u308b\u3068\u304d\u30da\u30fc\u30b8\u3092\u518d\u8aad\u8fbc\u3057\u306a\u3044\u306e\u3067\u901f\u3044\u3067\u3059\u3002\u4ee3\u308f\u308a\u306b\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u6c38\u7d9a\u5316\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u4e2d\u3067\u9577\u304f\u7d9a\u304f\u30d7\u30ed\u30bb\u30b9\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u3053\u3068\u306fJavaScript\u306e\u7d44\u307f\u65b9\u3092\u518d\u8003\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n> In particular, you can no longer depend on a full page load to reset your environment every time you navigate. The JavaScript `window` and `document` objects retain their state across page changes, and any other objects you leave in memory will stay in memory.\n\n\u3068\u308a\u308f\u3051\u3001\u3082\u306f\u3084\u95b2\u89a7\u306e\u5ea6\u306b\u74b0\u5883\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u308b\u30da\u30fc\u30b8\u5168\u4f53\u306e\u8aad\u307f\u8fbc\u307f\u306b\u4f9d\u5b58\u3067\u304d\u307e\u305b\u3093\u3002JavaScript\u306e`window`\u3068`document`\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u30da\u30fc\u30b8\u9077\u79fb\u3092\u8d85\u3048\u3066\u7dad\u6301\u3057\u307e\u3059\u3057\u3001\u3042\u306a\u305f\u304c\u30e1\u30e2\u30ea\u5185\u306b\u6b8b\u3057\u305f\u4ed6\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3082\u30e1\u30e2\u30ea\u306b\u6b8b\u308a\u7d9a\u3051\u307e\u3059\u3002\n\n> With awareness and a little extra care, you can design your application to gracefully handle this constraint without tightly coupling it to Turbolinks.\n\n\n\u610f\u8b58\u3057\u3066\u5c11\u3057\u6ce8\u610f\u3092\u6255\u3048\u3070\u3001Turbolinks\u3068\u5bc6\u7d50\u5408\u3055\u305b\u305a\u306b\u3053\u306e\u554f\u984c\u3092\u3046\u307e\u304f\u6271\u3048\u308b\u3088\u3046\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8a2d\u8a08\u3067\u304d\u307e\u3059\u3002\n\n## Running JavaScript When a Page Loads \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u306e\u3068\u304d\u306eJavaScript\u5b9f\u884c\n\n> You may be used to installing JavaScript behavior in response to the `window.onload`, `DOMContentLoaded`, or jQuery `ready` events. With Turbolinks, these events will fire only in response to the initial page load\u2014not after any subsequent page changes.\n\n`window.onload`\u3001`DOMContentLoaded`\u307e\u305f\u306fJQuery\u306e`ready`\u30a4\u30d9\u30f3\u30c8\u306b\u5fdc\u3058\u305fJavaScript\u306e\u632f\u308b\u821e\u3044\u306e\u8a2d\u7f6e\u306f\u53ef\u80fd\u3067\u3059\u3002Turbolinks\u3067\u3053\u308c\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u306f\u6700\u521d\u306e\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u3067\u3060\u3051\u5fdc\u7b54\u3057\u3001\u305d\u306e\u5f8c\u306b\u7d9a\u304f\u30da\u30fc\u30b8\u9077\u79fb\u3067\u306f\u5fdc\u7b54\u3057\u307e\u305b\u3093\u3002\n\n> In many cases, you can simply adjust your code to listen for the `turbolinks:load` event, which fires once on the initial page load and again after every Turbolinks visit.\n\n\u591a\u304f\u306e\u5834\u5408\u3001\u6700\u521d\u306e\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u306e\u4e00\u56de\u306b\u52a0\u3048\u3066Turbolinks\u306evisit\u306e\u5f8c\u6bce\u56de\u767a\u706b\u3059\u308b`turbolinks:load`\u30a4\u30d9\u30f3\u30c8\u3092Listen\u3059\u308b\u3088\u3046\u306b\u30b3\u30fc\u30c9\u3092\u304b\u3093\u305f\u3093\u306b\u8abf\u6574\u3067\u304d\u307e\u3059\u3002\n\n```js\ndocument.addEventListener(\"turbolinks:load\", function() {\n  // ...\n})\n```\n\n> When possible, avoid using the `turbolinks:load` event to add event listeners directly to elements on the page body. Instead, consider using [event delegation](https://learn.jquery.com/events/event-delegation/) to register event listeners once on `document` or `window`.\n\n\u53ef\u80fd\u306a\u3089\u3001\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u76f4\u63a5\u30da\u30fc\u30b8body\u306e\u8981\u7d20\u306b`turbolinks:load`\u30a4\u30d9\u30f3\u30c8\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306f\u907f\u3051\u3066\u304f\u3060\u3055\u3044\u3002\u304b\u308f\u308a\u306b\u3001`document`\u304b`window`\u306e\u3069\u3061\u3089\u304b\u306e\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u306b\u767b\u9332\u3057\u3066[\u30a4\u30d9\u30f3\u30c8\u306e\u59d4\u8b72](https://learn.jquery.com/events/event-delegation/)\u3092\u4f7f\u3046\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## Understanding Caching \u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7406\u89e3\u3059\u308b\n\n> Turbolinks maintains a cache of recently visited pages. This cache serves two purposes: to display pages without accessing the network during restoration visits, and to improve perceived performance by showing temporary previews during application visits.\n\nTurbolinks\u306f\u6700\u8fd1\u8a2a\u308c\u305f\u30da\u30fc\u30b8\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002\u3053\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306f2\u3064\u306e\u76ee\u7684\u3067\u52d5\u304d\u307e\u3059\uff1a\u5fa9\u5143\u306evisit\u306e\u969b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30af\u30bb\u30b9\u306a\u3057\u306b\u30da\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3053\u3068\u3001\u53ca\u3073application visits\u306e\u969b\u306b\u4e00\u6642\u30d7\u30ec\u30d3\u30e5\u30fc\u3092\u8868\u793a\u3057\u4f53\u611f\u901f\u5ea6\u3092\u6539\u5584\u3059\u308b\u3053\u3068\u3067\u3059\u3002\n\n> When navigating by history (via [Restoration Visits](#restoration-visits)), Turbolinks will restore the page from cache without loading a fresh copy from the network, if possible.\n\n\u5c65\u6b74\u306b\u3088\u308b\u9077\u79fb\uff08[Restration Visits](#restration-visits)\u53c2\u7167\uff09\u306e\u3068\u304d\u3001Turbolinks\u306f\u53ef\u80fd\u306a\u3089\u3070\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u65b0\u3057\u3044\u30b3\u30d4\u30fc\u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u306a\u3057\u306b\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30da\u30fc\u30b8\u3092\u5fa9\u5143\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\n\n> Otherwise, during standard navigation (via [Application Visits](#application-visits)), Turbolinks will immediately restore the page from cache and display it as a preview while simultaneously loading a fresh copy from the network. This gives the illusion of instantaneous page loads for frequently accessed locations.\n\n\u3082\u3057\u304f\u306f\u3001\u4e00\u822c\u7684\u306a\u9077\u79fb\uff08[Application Visits](#application-visits)\u53c2\u7167\uff09\u306e\u3068\u304d\u3001Turbolinks\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304b\u3089\u65b0\u3057\u3044\u30b3\u30d4\u30fc\u3092\u8aad\u307f\u8fbc\u3080\u306e\u3068\u5e73\u884c\u3057\u3066\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30da\u30fc\u30b8\u3092\u3059\u3050\u306b\u5fa9\u5143\u3057\u3066\u30d7\u30ec\u30d3\u30e5\u30fc\u3068\u3057\u3066\u8868\u793a\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u983b\u7e41\u306b\u30a2\u30af\u30bb\u30b9\u3055\u308c\u308b\u5834\u6240\u3067\u77ac\u6642\u306b\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306a\u932f\u899a\u3092\u4e0e\u3048\u307e\u3059\u3002\n\n> Turbolinks saves a copy of the current page to its cache just before rendering a new page. Note that Turbolinks copies the page using [`cloneNode(true)`](https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode), which means any attached event listeners and associated data are discarded.\n\nTurbolinks\u306f\u65b0\u3057\u3044\u30da\u30fc\u30b8\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u76f4\u524d\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u73fe\u5728\u306e\u30da\u30fc\u30b8\u306e\u30b3\u30d4\u30fc\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002Turbolinks\u304c\u30da\u30fc\u30b8\u3092\u30b3\u30d4\u30fc\u3059\u308b\u306e\u306b[`cloneNode(true)`](https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode)\u3092\u4f7f\u3046\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u4e0b\u3055\u3044\u3002\u3053\u308c\u306f\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u305f\u30a4\u30d9\u30f3\u30c8\u3084\u95a2\u9023\u4ed8\u3051\u3089\u308c\u305f\u30c7\u30fc\u30bf\u306f\u3059\u3079\u3066\u7834\u68c4\u3055\u308c\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\n\n### Preparing the Page to be Cached \u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u524d\u6e96\u5099\n\n> Listen for the `turbolinks:before-cache` event if you need to prepare the document before Turbolinks caches it. You can use this event to reset forms, collapse expanded UI elements, or tear down any third-party widgets so the page is ready to be displayed again.\n\n\u3082\u3057Turbolinks\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u524d\u306b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u6e96\u5099\u304c\u5fc5\u8981\u306a\u3089`turbolinks:before-cache`\u30a4\u30d9\u30f3\u30c8\u3092Listen\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u30a4\u30d9\u30f3\u30c8\u306f\u30d5\u30a9\u30fc\u30e0\u306e\u30ea\u30bb\u30c3\u30c8\u3001\u62e1\u5f35\u3055\u308c\u305fUI\u8981\u7d20\u306e\u6298\u308a\u305f\u305f\u307f\u3001\u3042\u308b\u3044\u306f\u30da\u30fc\u30b8\u304c\u518d\u5ea6\u8868\u793a\u3055\u308c\u305f\u3068\u304d\u6e96\u5099\u3067\u304d\u3066\u3044\u308b\u3088\u3046\u306b\u3059\u308b\u306e\u306b\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30fc\u306e\u30a6\u30a3\u30b8\u30a7\u30c3\u30c8\u306e\u7834\u68c4\u51e6\u7406\u306a\u3069\u306b\u4f7f\u3048\u307e\u3059\u3002\n\n```js\ndocument.addEventListener(\"turbolinks:before-cache\", function() {\n  // ...\n})\n```\n\n### Detecting When a Preview is Visible \u30d7\u30ec\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3068\u304d\u306e\u691c\u51fa\n\n> Turbolinks adds a `data-turbolinks-preview` attribute to the `<html>` element when it displays a preview from cache. You can check for the presence of this attribute to selectively enable or disable behavior when a preview is visible.\n\nTurbolinks\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30d7\u30ec\u30d3\u30e5\u30fc\u3092\u8868\u793a\u3059\u308b\u3068\u304d`data-turbolinks-preview`\u5c5e\u6027\u3092`<html>`\u8981\u7d20\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\u30d7\u30ec\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3068\u304d\u306e\u3001\u9078\u629e\u7684\u306a\u6709\u52b9\u307e\u305f\u306f\u7121\u52b9\u306a\u632f\u308b\u821e\u3044\u306e\u305f\u3081\u306b\u3053\u306e\u5c5e\u6027\u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\n```js\nif (document.documentElement.hasAttribute(\"data-turbolinks-preview\")) {\n  // Turbolinks is displaying a preview\n}\n```\n\n### Opting Out of Caching \u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u9664\u5916\n\n> You can control caching behavior on a per-page basis by including a `<meta name=\"turbolinks-cache-control\">` element in your page\u2019s `<head>` and declaring a caching directive.\n\n\u30da\u30fc\u30b8\u306e`<head>`\u5185\u306b`<meta name=\"turbolinks-cache-control\">`\u8981\u7d20\u3092\u542b\u3081\u3066\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u6307\u5b9a\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u3067\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u632f\u308b\u821e\u3044\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\n\n> Use the `no-preview` directive to specify that a cached version of the page should not be shown as a preview during an application visit. Pages marked no-preview will only be used for restoration visits.\n\napplication visit\u306e\u3068\u304d\u30ad\u30e3\u30c3\u30b7\u30e5\u7248\u306e\u30da\u30fc\u30b8\u304c\u30d7\u30ec\u30d3\u30e5\u30fc\u3068\u3057\u3066\u8868\u793a\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306b`no-preview`\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n> To specify that a page should not be cached at all, use the `no-cache` directive. Pages marked no-cache will always be fetched over the network, including during restoration visits.\n\n\u305d\u306e\u30da\u30fc\u30b8\u306f\u5168\u304f\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u306a\u3044\u3053\u3068\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001`no-cache`\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u3044\u307e\u3059\u3002no-cache\u306b\u30de\u30fc\u30af\u3055\u308c\u305f\u30da\u30fc\u30b8\u306f\u3001\u5fa9\u5143\u306evisit\u3082\u542b\u3081\u3066\u3044\u3064\u3082\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8d8a\u3057\u306b\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n```html\n<head>\n  ...\n  <meta name=\"turbolinks-cache-control\" content=\"no-cache\">\n</head>\n```\n\n> To completely disable caching in your application, ensure every page contains a no-cache directive.\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u5b8c\u5168\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u7121\u52b9\u5316\u3059\u308b\u306b\u306f\u3001\u3059\u3079\u3066\u306e\u30da\u30fc\u30b8\u304cno-cache\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u542b\u3080\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n## Making Transformations Idempotent Transformations\u306e\u51aa\u7b49\u6027\u3065\u304f\u308a\n\n> Often you\u2019ll want to perform client-side transformations to HTML received from the server. For example, you might want to use the browser\u2019s knowledge of the user\u2019s current time zone to group a collection of elements by date.\n\n\u30b5\u30fc\u30d0\u304b\u3089\u53d7\u3051\u53d6\u3063\u305fHTML\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3067\u52a0\u5de5\u3057\u305f\u304f\u306a\u308b\u3053\u3068\u306f\u3088\u304f\u3042\u308a\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u3001\u65e5\u4ed8\u3067\u8981\u7d20\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u30b0\u30eb\u30fc\u30d7\u308f\u3051\u3059\u308b\u306e\u306b\u30d6\u30e9\u30a6\u30b6\u304c\u8a8d\u8b58\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u4f7f\u3063\u305f\u65b9\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\n> Suppose you have annotated a set of elements with `data-timestamp` attributes indicating the elements\u2019 creation times in UTC. You have a JavaScript function that queries the document for all such elements, converts the timestamps to local time, and inserts date headers before each element that occurs on a new day.\n\nUTC\u8868\u8a18\u3067\u4f5c\u6210\u65e5\u6642\u3092\u793a\u3059`data-timestamp`\u5c5e\u6027\u3092\u6301\u3064\u8981\u7d20\u306e\u30bb\u30c3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u3068\u3057\u307e\u3059\u3002\u305d\u306e\u5168\u90e8\u306e\u8981\u7d20\u3092document\u304b\u3089\u7167\u4f1a\u3057\u3066\u3001\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u30ed\u30fc\u30ab\u30eb\u65e5\u6642\u306b\u5909\u63db\u3057\u3001\u65e5\u4ed8\u30d8\u30c3\u30c0\u30fc\u3092\u65b0\u3057\u3044\u65e5\u306eelement\u306e\u524d\u306b\u633f\u5165\u3059\u308bJavaScript\u306efunction\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\n> Consider what happens if you\u2019ve configured this function to run on `turbolinks:load`. When you navigate to the page, your function inserts date headers. Navigate away, and Turbolinks saves a copy of the transformed page to its cache. Now press the Back button\u2014Turbolinks restores the page, fires `turbolinks:load` again, and your function inserts a second set of date headers.\n\n`turbolinks:load`\u3067\u3053\u306efunction\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305f\u3089\u3001\u4f55\u304c\u8d77\u3053\u308b\u304b\u8003\u3048\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002\u30da\u30fc\u30b8\u9077\u79fb\u306e\u3068\u304d\u3001\u3042\u306a\u305f\u306efunction\u306f\u65e5\u4ed8\u30d8\u30c3\u30c0\u30fc\u3092\u633f\u5165\u3057\u307e\u3059\u3002\u30da\u30fc\u30b8\u3092\u96e2\u308c\u308b\u3068\u3001Turbolinks\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u52a0\u5de5\u6e08\u307f\u30da\u30fc\u30b8\u306e\u30b3\u30d4\u30fc\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\u4eca\u5ea6\u306f\u623b\u308b\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\uff65\uff65\uff65Turbolinks\u306f\u30da\u30fc\u30b8\u3092\u5fa9\u5143\u3057\u3001`turbolinks:load`\u3092\u3082\u3046\u4e00\u5ea6\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u305d\u306efunction\u306f2\u5ea6\u76ee\u306e\u65e5\u4ed8\u30d8\u30c3\u30c0\u30fc\u3092\u633f\u5165\u3057\u307e\u3059\u3002\n\n> To avoid this problem, make your transformation function _idempotent_. An idempotent transformation is safe to apply multiple times without changing the result beyond its initial application.\n\n\u3053\u306e\u554f\u984c\u3092\u56de\u907f\u3059\u308b\u306b\u306f\u3001\u51aa\u7b49\u306a\u52a0\u5de5function\u3092\u4f5c\u3063\u3066\u4e0b\u3055\u3044\u3002\u51aa\u7b49\u306a\u52a0\u5de5\u306f\u3001\u6700\u521d\u306e\u9069\u7528\u306e\u5f8c\u306b\u8907\u6570\u56de\u5b9f\u884c\u3057\u3066\u3082\u7d50\u679c\u304c\u5909\u308f\u3089\u305a\u5b89\u5168\u3067\u3059\u3002\n\n> One technique for making a transformation idempotent is to keep track of whether you\u2019ve already performed it by setting a `data` attribute on each processed element. When Turbolinks restores your page from cache, these attributes will still be present. Detect these attributes in your transformation function to determine which elements have already been processed.\n\n\u51aa\u7b49\u306a\u52a0\u5de5\u3092\u4f5c\u308b1\u3064\u306e\u30c6\u30af\u30cb\u30c3\u30af\u306f\u3001`data`\u5c5e\u6027\u3092\u52a0\u5de5\u3055\u308c\u305f\u305d\u308c\u305e\u308c\u306e\u8981\u7d20\u306b\u30bb\u30c3\u30c8\u3057\u3001\u5b9f\u884c\u6e08\u307f\u304b\u3069\u3046\u304b\u8ffd\u8de1\u3059\u308b\u3053\u3068\u3067\u3059\u3002Turbolinks\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u30da\u30fc\u30b8\u3092\u5fa9\u5143\u3057\u305f\u3068\u304d\u3001\u3053\u308c\u3089\u306e\u5c5e\u6027\u306f\u4f9d\u7136\u3068\u3057\u3066\u5b58\u5728\u3057\u307e\u3059\u3002\u8981\u7d20\u304c\u3059\u3067\u306b\u5b9f\u884c\u6e08\u307f\u304b\u3069\u3046\u304b\u3092\u5224\u65ad\u3059\u308b\u305f\u3081\u306b\u3001\u3042\u306a\u305f\u306e\u52a0\u5de5function\u3067\u3053\u308c\u3089\u306e\u8981\u7d20\u3092\u691c\u51fa\u3057\u307e\u3059\u3002\n\n> A more robust technique is simply to detect the transformation itself. In the date grouping example above, that means checking for the presence of a date divider before inserting a new one. This approach gracefully handles newly inserted elements that weren\u2019t processed by the original transformation.\n\n\u3088\u308a\u5805\u7262\u306a\u30c6\u30af\u30cb\u30c3\u30af\u306f\u5358\u7d14\u306bfunction\u81ea\u4f53\u3067\u691c\u51fa\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u4e0a\u8a18\u306e\u65e5\u4ed8\u30b0\u30eb\u30fc\u30d7\u5206\u3051\u306e\u4f8b\u3067\u306f\u3001\u65b0\u3057\u3044\u3082\u306e\u3092\u633f\u5165\u3059\u308b\u524d\u306b\u65e5\u4ed8\u306ediv\u8981\u7d20\u304c\u3042\u308b\u3053\u3068\u3092\u8abf\u3079\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306f\u5143\u306e\u52a0\u5de5\u306b\u3088\u3063\u3066\u51e6\u7406\u3055\u308c\u306a\u304b\u3063\u305f\u65b0\u3057\u304f\u633f\u5165\u3055\u308c\u305f\u8981\u7d20\u3092\u3046\u307e\u304f\u6271\u3044\u307e\u3059\u3002\n\n## Responding to Page Updates \u30da\u30fc\u30b8\u5909\u66f4\u306e\u5fdc\u7b54\n\n> Turbolinks may not be the only source of page updates in your application. New HTML can appear at any time from Ajax requests, WebSocket connections, or other client-side rendering operations, and this content will need to be initialized as if it came from a fresh page load.\n\nTurbolinks\u306f\u3042\u306a\u305f\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u66f4\u65b0\u306e\u552f\u4e00\u306e\u60c5\u5831\u6e90\u3067\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u65b0\u3057\u3044HTML\u306fAjax\u30ea\u30af\u30a8\u30b9\u30c8\u3001WebSocket\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3001\u3042\u308b\u3044\u306f\u4ed6\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u63cf\u753b\u51e6\u7406\u304b\u3089\u3044\u3064\u3067\u3082\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u3057\u3066\u3053\u306e\u5185\u5bb9\u306f\u65b0\u3057\u3044\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u306e\u3088\u3046\u306b\u521d\u671f\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n> You can handle all of these updates, including updates from Turbolinks page loads, in a single place with the precise lifecycle callbacks provided by [`MutationObserver`](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver) and [Custom Elements](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Custom_Elements).\n\n[`MutationObserver`](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver)\u3068[Custom Elements](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Custom_Elements)\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u308b\u660e\u78ba\u306a\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\uff11\u3064\u3067\u3001Turbolinks\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u304b\u3089\u306e\u66f4\u65b0\u3092\u542b\u3081\u3001\u3053\u308c\u3089\u306e\u66f4\u65b0\u306e\u3059\u3079\u3066\u3092\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n> In particular, these APIs give you callbacks when elements are attached to and removed from the document. You can use these callbacks to perform transformations and register or tear down behavior as soon as matching elements appear on the page, regardless of how they were added.\n\n\u3068\u308a\u308f\u3051\u3001\u3053\u308c\u3089\u306eAPI\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u8981\u7d20\u304c\u8ffd\u52a0\u3055\u308c\u305f\u308a\u524a\u9664\u3055\u308c\u308b\u3068\u304d\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u4e00\u81f4\u3057\u305f\u30da\u30fc\u30b8\u8981\u7d20\u304c\u73fe\u308c\u308b\u3068\u3001\u3059\u3050\u306b\u52a0\u5de5\u3092\u5b9f\u884c\u3057\u305f\u308a\u632f\u308b\u821e\u3044\u306e\u767b\u9332\u3084\u53d6\u308a\u5916\u3057\u305f\u308a\u3059\u308b\u306e\u306b\u3053\u308c\u3089\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u4f7f\u3048\u3001\u305d\u308c\u3089\u304c\u3069\u3046\u3084\u3063\u3066\u8ffd\u52a0\u3055\u308c\u305f\u304b\u6c17\u306b\u3057\u307e\u305b\u3093\u3002\n\n> By taking advantage of `MutationObserver`, Custom Elements, and [idempotent transformations](#making-transformations-idempotent), there\u2019s little need to couple your application to Turbolinks\u2019 events.\n\n`MutationObserver`\u3001Custom Elements\u3001\u304a\u3088\u3073[\u51aa\u7b49\u306a\u52a0\u5de5](#making-transformations-idempotent)\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u3042\u306a\u305f\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068Turbolinks\u306e\u30a4\u30d9\u30f3\u30c8\u3068\u3092\u7d50\u3073\u3064\u3051\u308b\u5fc5\u8981\u306f\u307b\u3068\u3093\u3069\u3042\u308a\u307e\u305b\u3093\u3002\n\n## Persisting Elements Across Page Loads \u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u3092\u8d85\u3048\u3066\u5b58\u5728\u3059\u308b\u8981\u7d20\n\n> Turbolinks allows you to mark certain elements as _permanent_. Permanent elements persist across page loads, so that any changes you make to those elements do not need to be reapplied after navigation.\n\n\u6c38\u7d9a\u3059\u308b\u3088\u3046\u306b\u3001Turbolinks\u306f\u7279\u5b9a\u306e\u8981\u7d20\u3092\u30de\u30fc\u30af\u3067\u304d\u307e\u3059\u3002\u6c38\u7d9a\u5316\u8981\u7d20\u306f\u30da\u30fc\u30b8\u306e\u8aad\u307f\u8fbc\u307f\u3092\u8d85\u3048\u3066\u5b58\u5728\u3057\u3001\u305d\u306e\u305f\u3081\u3053\u308c\u3089\u306e\u8981\u7d20\u306b\u3059\u308b\u3069\u3093\u306a\u5909\u66f4\u3082\u3001\u9077\u79fb\u5f8c\u306b\u518d\u9069\u7528\u3059\u308b\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u3002\n\n> Consider a Turbolinks application with a shopping cart. At the top of each page is an icon with the number of items currently in the cart. This counter is updated dynamically with JavaScript as items are added and removed.\n\n\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u30ab\u30fc\u30c8\u306eTurbolinks\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8003\u3048\u307e\u3059\u3002\u5404\u30da\u30fc\u30b8\u306e\u4e0a\u90e8\u306b\u73fe\u5728\u30ab\u30fc\u30c8\u306b\u5165\u3063\u3066\u3044\u308b\u5546\u54c1\u6570\u306e\u30a2\u30a4\u30b3\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u30ab\u30a6\u30f3\u30bf\u30fc\u306fJavaScript\u3067\u52d5\u7684\u306b\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002\u305f\u3068\u3048\u3070\u5546\u54c1\u306e\u8ffd\u52a0\u3068\u524a\u9664\u3067\u3059\u3002\n\n> Now imagine a user who has navigated to several pages in this application. She adds an item to her cart, then presses the Back button in her browser. Upon navigation, Turbolinks restores the previous page\u2019s state from cache, and the cart item count erroneously changes from 1 to 0.\n\n\u6b21\u306b\u30e6\u30fc\u30b6\u30fc\u304c\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3044\u304f\u3064\u304b\u306e\u30da\u30fc\u30b8\u3092\u9077\u79fb\u3057\u305f\u3053\u3068\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u307e\u3059\u3002\u5f7c\u5973\u306f\u30ab\u30fc\u30c8\u306b\u5546\u54c1\u3092\u5165\u308c\u3001\u305d\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u306e\u623b\u308b\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\u9077\u79fb\u3067\u3001Turbolinks\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u524d\u306e\u30da\u30fc\u30b8\u306e\u72b6\u614b\u3092\u5fa9\u5143\u3057\u3001\u30ab\u30fc\u30c8\u306e\u5546\u54c1\u6570\u304c\u8aa4\u3063\u30661\u304b\u30890\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n> You can avoid this problem by marking the counter element as permanent. Designate permanent elements by giving them an HTML `id` and annotating them with `data-turbolinks-permanent`.\n\n\u30ab\u30a6\u30f3\u30bf\u30fc\u8981\u7d20\u3092\u6c38\u7d9a\u5316\u3059\u308b\u3053\u3068\u3067\u3053\u306e\u554f\u984c\u3092\u56de\u907f\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u3089\u306eHTML\u306b`id`\u3092\u4e0e\u3048\u3066`data-turbolinks-permanent`\u3092\u4ed8\u8a18\u3059\u308b\u3053\u3068\u3067\u3001\u6c38\u7d9a\u5316\u8981\u7d20\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```html\n<div id=\"cart-counter\" data-turbolinks-permanent>1 item</div>\n```\n\n> Before each render, Turbolinks matches all permanent elements by `id` and transfers them from the original page to the new page, preserving their data and event listeners.\n\n\u63cf\u753b\u524d\u3001Turbolinks\u306f`id`\u304c\u4e00\u81f4\u3059\u308b\u3059\u3079\u3066\u306e\u6c38\u7d9a\u5316\u8981\u7d20\u3092\u5143\u306e\u30da\u30fc\u30b8\u304b\u3089\u65b0\u3057\u3044\u30da\u30fc\u30b8\u306b\u79fb\u52d5\u3057\u3001\u305d\u308c\u3089\u306e\u30c7\u30fc\u30bf\u3068\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\u30fc\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002\n\n# Advanced Usage \u9ad8\u5ea6\u306a\u4f7f\u3044\u65b9\n\n## Displaying Progress \u9032\u6357\u306e\u8868\u793a\n\n> During Turbolinks navigation, the browser will not display its native progress indicator. Turbolinks installs a CSS-based progress bar to provide feedback while issuing a request.\n\nTurbolinks\u306e\u9077\u79fb\u306e\u9593\u3001\u30d6\u30e9\u30a6\u30b6\u30cd\u30a4\u30c6\u30a3\u30d6\u306a\u9032\u6357\u30a4\u30f3\u30c7\u30a3\u30b1\u30fc\u30bf\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3057\u3066\u3044\u308b\u9593\u3001Turbolinks\u306f\u5fdc\u7b54\u3092\u63d0\u4f9b\u3059\u308b\u70ba\u306bCSS\u30d9\u30fc\u30b9\u306e\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u3092\u53d6\u308a\u4ed8\u3051\u307e\u3059\u3002\n\n> The progress bar is enabled by default. It appears automatically for any page that takes longer than 500ms to load.\n\n\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6709\u52b9\u3067\u3059\u3002\u8aad\u307f\u8fbc\u307f\u306b500ms\u4ee5\u4e0a\u304b\u304b\u308b\u30da\u30fc\u30b8\u306b\u81ea\u52d5\u3067\u8868\u793a\u3057\u307e\u3059\u3002\n\n> The progress bar is a `<div>` element with the class name `turbolinks-progress-bar`. Its default styles appear first in the document and can be overridden by rules that come later.\n\n\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306f`turbolinks-progress-bar`\u30af\u30e9\u30b9\u306e`<div>`\u8981\u7d20\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30bf\u30a4\u30eb\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u5148\u982d\u306b\u8868\u793a\u3055\u308c\u3066\u3001\u6b21\u306e\u30eb\u30fc\u30eb\u3067\u4e0a\u66f8\u304d\u3067\u304d\u307e\u3059\u3002\n\n> For example, the following CSS will result in a thick green progress bar:\n\n\u305f\u3068\u3048\u3070\u3001\u6b21\u306eCSS\u3067\u539a\u307f\u306e\u3042\u308b\u7dd1\u306e\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u306b\u306a\u308a\u307e\u3059\uff1a\n\n```css\n.turbolinks-progress-bar {\n  height: 5px;\n  background-color: green;\n}\n```\n\n> To disable the progress bar entirely, set its `visibility` style to `hidden`:\n\n\u5b8c\u5168\u306b\u975e\u8868\u793a\u306b\u3059\u308b\u306b\u306f\u3001`visibility`\u30b9\u30bf\u30a4\u30eb\u3092`hidden`\u306b\u3057\u307e\u3059\uff1a\n\n```css\n.turbolinks-progress-bar {\n  visibility: hidden;\n}\n```\n\n## Reloading When Assets Change \u30a2\u30bb\u30c3\u30c8\u5909\u66f4\u6642\u306e\u518d\u8aad\u8fbc\n\n> Turbolinks can track the URLs of asset elements in `<head>` from one page to the next, and automatically issue a full reload if they change. This ensures that users always have the latest versions of your application\u2019s scripts and styles.\n\nTurbolinks\u306f\u3001\u3042\u308b\u30da\u30fc\u30b8\u304b\u3089\u6b21\u306e\u30da\u30fc\u30b8\u3078\u306e`<head>`\u5185\u30a2\u30bb\u30c3\u30c8\u8981\u7d20\u306eURL\u3092\u8ffd\u8de1\u3067\u304d\u307e\u3059\u3002\n\n> Annotate asset elements with `data-turbolinks-track=\"reload\"` and include a version identifier in your asset URLs. The identifier could be a number, a last-modified timestamp, or better, a digest of the asset\u2019s contents, as in the following example.\n\n\u30a2\u30bb\u30c3\u30c8\u8981\u7d20\u306b`data-turbolinks-track=\"reload\"`\u3068\u6ce8\u8a18\u3057\u3001\u30a2\u30bb\u30c3\u30c8URL\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u8b58\u5225\u5b50\u3092\u542b\u3081\u3066\u4e0b\u3055\u3044\u3002\u8b58\u5225\u5b50\u306f\u3001\u6570\u5024\u3001\u6700\u7d42\u66f4\u65b0\u65e5\u6642\u3001\u305d\u306e\u4ed6\u9069\u5f53\u306a\u3082\u306e\u3001\u6b21\u306e\u4f8b\u306e\u3088\u3046\u306a\u30a2\u30bb\u30c3\u30c8\u30b3\u30f3\u30c6\u30f3\u30c4\u306edigest\u306b\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n```html\n<head>\n  ...\n  <link rel=\"stylesheet\" href=\"/application-258e88d.css\" data-turbolinks-track=\"reload\">\n  <script src=\"/application-cbd3cd4.js\" data-turbolinks-track=\"reload\"></script>\n</head>\n```\n\n> Note that Turbolinks will only consider tracked assets in `<head>` and not elsewhere on the page.\n\nTurbolinks\u306f`<head>`\u5185\u306e\u30a2\u30bb\u30c3\u30c8\u306e\u8ffd\u8de1\u306e\u307f\u8003\u616e\u3057\u3066\u3044\u3066\u3001\u30da\u30fc\u30b8\u306e\u4ed6\u306e\u5834\u6240\u306f\u305d\u3046\u3067\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n## Setting a Root Location \u30eb\u30fc\u30c8\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\n\n> By default, Turbolinks only loads URLs with the same origin\u2014i.e. the same protocol, domain name, and port\u2014as the current document. A visit to any other URL falls back to a full page load.\n\n\u6a19\u6e96\u3067Turbolinks\u306f\u73fe\u5728\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3068\u540c\u3058\u30aa\u30ea\u30b8\u30f3-\u3059\u306a\u308f\u3061\u540c\u3058\u30d7\u30ed\u30c8\u30b3\u30eb\u3001\u30c9\u30e1\u30a4\u30f3\u540d\u3001\u30dd\u30fc\u30c8-\u306eURL\u306e\u307f\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n> In some cases, you may want to further scope Turbolinks to a path on the same origin. For example, if your Turbolinks application lives at `/app`, and the non-Turbolinks help site lives at `/help`, links from the app to the help site shouldn\u2019t use Turbolinks.\n\n\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u3001\u540c\u3058\u30aa\u30ea\u30b8\u30f3\u306e\uff11\u3064\u306e\u30d1\u30b9\u306bTurbolinks\u3092\u50cd\u304b\u305b\u305f\u3044\u3053\u3068\u304c\u3042\u308b\u3067\u3057\u3087\u3046\u3002\u4f8b\u3048\u3070\u3001\u3042\u306a\u305f\u306eTurbolinks\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c`/app`\u306b\u3042\u308a\u3001Turbolinks\u3067\u306a\u3044\u30d8\u30eb\u30d7\u30b5\u30a4\u30c8\u304c`/help`\u306b\u3042\u3063\u3066\u3001\u30a2\u30d7\u30ea\u304b\u3089\u30d8\u30eb\u30d7\u30b5\u30a4\u30c8\u306e\u30ea\u30f3\u30af\u306bTurbolinks\u3092\u4f7f\u3063\u3066\u306f\u3044\u3051\u306a\u3044\u3068\u304d\u3067\u3059\u3002\n\n> Include a `<meta name=\"turbolinks-root\">` element in your pages\u2019 `<head>` to scope Turbolinks to a particular root location. Turbolinks will only load same-origin URLs that are prefixed with this path.\n\n\u7279\u5b9a\u306e\u30eb\u30fc\u30c8\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3\u306bTurbolinks\u3092\u50cd\u304b\u305b\u308b\u306b\u306f`<meta name=\"turbolinks-root\">`\u8981\u7d20\u3092\u30da\u30fc\u30b8\u306e`<head>`\u306b\u542b\u3081\u3066\u4e0b\u3055\u3044\u3002\n\n```html\n<head>\n  ...\n  <meta name=\"turbolinks-root\" content=\"/app\">\n</head>\n```\n\n## Following Redirects \u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u8ffd\u5f93\n\n> When you visit location `/one` and the server redirects you to location `/two`, you expect the browser\u2019s address bar to display the redirected URL.\n\n`/one`\u3092\u8a2a\u308c\u3066`/two`\u306b\u30b5\u30fc\u30d0\u30fc\u304c\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3057\u305f\u3068\u304d\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u5148URL\u3092\u8868\u793a\u3059\u308b\u306e\u3092\u671f\u5f85\u3057\u307e\u3059\u3002\n\n> However, Turbolinks makes requests using `XMLHttpRequest`, which transparently follows redirects. There\u2019s no way for Turbolinks to tell whether a request resulted in a redirect without additional cooperation from the server.\n\n\u3057\u304b\u3057\u306a\u304c\u3089\u3001Turbolinks\u306f`XMLHttpRequest`\u3092\u4f7f\u3063\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3057\u307e\u3059\u304c\u3001\u305d\u308c\u306f\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u900f\u904e\u7684\u306b\u8ffd\u5f93\u3057\u307e\u3059\u3002\u30b5\u30fc\u30d0\u304b\u3089\u306e\u7279\u5225\u306a\u5354\u529b\u306a\u3057\u306b\u8981\u6c42\u304c\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u306e\u7d50\u679c\u306b\u7d42\u308f\u3063\u305f\u304b\u3069\u3046\u304bTurbolinks\u306b\u4f1d\u3048\u308b\u65b9\u6cd5\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n> To work around this problem, send the `Turbolinks-Location` header in response to a visit that was redirected, and Turbolinks will replace the browser\u2019s topmost history entry with the value you provide.\n\n\u3053\u306e\u554f\u984c\u306e\u56de\u907f\u7b56\u3068\u3057\u3066\u3001\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u305f\u5148\u306e\u5fdc\u7b54\u3067`Turbolinks-Location`\u30d8\u30c3\u30c0\u3092\u9001\u51fa\u3057\u3066\u3001Turbolinks\u306f\u30d6\u30e9\u30a6\u30b6\u306e\u4e00\u756a\u4e0a\u306e\u5c65\u6b74\u3068\u3042\u306a\u305f\u304c\u63d0\u4f9b\u3059\u308b\u5024\u3068\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\n\n> The Turbolinks Rails engine sets `Turbolinks-Location` automatically when using `redirect_to` in response to a Turbolinks visit.\n\nTurbolinks Rails\u30a8\u30f3\u30b8\u30f3\u306fTurbolinks\u306evisit\u306e\u5fdc\u7b54\u306e\u4e2d\u3067`redirect_to`\u3092\u4f7f\u3063\u305f\u3068\u304d\u3001\u81ea\u52d5\u7684\u306b`Turbolinks-Location`\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n## Redirecting After a Form Submission \u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u5f8c\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n\n> Submitting an HTML form to the server and redirecting in response is a common pattern in web applications. Standard form submission is similar to navigation, resulting in a full page load. Using Turbolinks you can improve the performance of form submission without complicating your server-side code.\n\nHTML\u30d5\u30a9\u30fc\u30e0\u3092\u30b5\u30fc\u30d0\u306b\u9001\u4fe1\u3057\u305f\u5fdc\u7b54\u3067\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u3053\u3068\u306f\u3001Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3088\u304f\u3042\u308b\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u3002\u6a19\u6e96\u7684\u306a\u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u306f\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u5b8c\u5168\u306a\u30da\u30fc\u30b8\u8aad\u307f\u8fbc\u307f\u304c\u751f\u3058\u307e\u3059\u3002Turbolinks\u3092\u4f7f\u3063\u3066\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u306e\u30b3\u30fc\u30c9\u3092\u8907\u96d1\u306b\u305b\u305a\u306b\u30d5\u30a9\u30fc\u30e0\u5fdc\u7b54\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6539\u5584\u3067\u304d\u307e\u3059\u3002\n\n> Instead of submitting forms normally, submit them with XHR. In response to an XHR submit on the server, return JavaScript that performs a [`Turbolinks.visit`](#turbolinksvisit) to be evaluated by the browser.\n\n\u666e\u901a\u306e\u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u306e\u4ee3\u308f\u308a\u306b\u3001XHR\u3067\u9001\u4fe1\u3057\u307e\u3059\u3002\u30b5\u30fc\u30d0\u304b\u3089\u306e\u5fdc\u7b54\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u3088\u3063\u3066\u8a55\u4fa1\u3055\u308c[`Turbolinks.visit`](#turbolinksvisit)\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306eJavaScript\u3092\u8fd4\u3057\u307e\u3059\u3002\n\n> If form submission results in a state change on the server that affects cached pages, consider clearing Turbolinks\u2019 cache with [`Turbolinks.clearCache()`](#turbolinksclearcache).\n\n\u3082\u3057\u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30da\u30fc\u30b8\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u30b5\u30fc\u30d0\u306e\u72b6\u614b\u5909\u5316\u3092\u8fd4\u3057\u305f\u3089\u3001[`Turbolinks.clearCache()`](#turbolinksclearcache)\u3067Turbolinks\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u524a\u9664\u3059\u308b\u3053\u3068\u3092\u8003\u616e\u3057\u307e\u3059\u3002\n\n> The Turbolinks Rails engine performs this optimization automatically for non-GET XHR requests that redirect with the `redirect_to` helper.\n\nTurbolinks Rails\u30a8\u30f3\u30b8\u30f3\u306fGET\u4ee5\u5916\u306eXHR\u30ea\u30af\u30a8\u30b9\u30c8\u3067`redirect_to`\u3092\u4f7f\u3063\u3066\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308c\u3070\u3001\u3053\u306e\u6700\u9069\u5316\u3092\u81ea\u52d5\u7684\u306b\u884c\u3044\u307e\u3059\u3002\n\n## Setting Custom HTTP Headers \u30ab\u30b9\u30bf\u30e0HTTP\u30d8\u30c3\u30c0\u30fc\u306e\u8a2d\u5b9a\n\n> You can observe the `turbolinks:request-start` event to set custom headers on Turbolinks requests. Access the request\u2019s XMLHttpRequest object via `event.data.xhr`, then call the [`setRequestHeader`](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest) method as many times as you wish.\n\nTurbolinks\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30ab\u30b9\u30bf\u30e0\u30d8\u30c3\u30c0\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u306e\u306b`turbolinks:request-start`\u30a4\u30d9\u30f3\u30c8\u3092\u76e3\u8996\u3067\u304d\u307e\u3059\u3002`event.data.xhr`\u3092\u4ecb\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u306eXMLHttpRequest\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\n\u4f55\u5ea6\u3067\u3082[`setRequestHeader`](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest)\u3092\u547c\u3073\u51fa\u305b\u307e\u3059\u3002\n\n> For example, you might want to include a request ID with every Turbolinks link click and programmatic visit.\n\n\u4f8b\u3048\u3070\u3001Turbolinks\u30ea\u30f3\u30af\u306e\u30af\u30ea\u30c3\u30af\u3084\u30d7\u30ed\u30b0\u30e9\u30e0\u3055\u308c\u305fvisit\u306e\u5ea6\u306b\u30ea\u30af\u30a8\u30b9\u30c8ID\u3092\u542b\u3081\u305f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n```javascript\ndocument.addEventListener(\"turbolinks:request-start\", function(event) {\n  var xhr = event.data.xhr\n  xhr.setRequestHeader(\"X-Request-Id\", \"123...\")\n})\n```\n\n# API Reference API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n\n## Turbolinks.visit\n\nUsage:\n```js\nTurbolinks.visit(location)\nTurbolinks.visit(location, { action: action })\n```\n\n> Performs an [Application Visit](#application-visits) to the given _location_ (a string containing a URL or path) with the specified _action_ (a string, either `\"advance\"` or `\"replace\"`).\n\n> If _location_ is a cross-origin URL, or falls outside of the specified root (see [Setting a Root Location](#setting-a-root-location)), or if the value of [`Turbolinks.supported`](#turbolinkssupported) is `false`, Turbolinks performs a full page load by setting `window.location`.\n\n> If _action_ is unspecified, Turbolinks assumes a value of `\"advance\"`.\n\n> Before performing the visit, Turbolinks fires a `turbolinks:before-visit` event on `document`. Your application can listen for this event and cancel the visit with `event.preventDefault()` (see [Canceling Visits Before They Start](#canceling-visits-before-they-start)).\n\n## Turbolinks.clearCache\n\n> Usage:\n```js\nTurbolinks.clearCache()\n```\n\n> Removes all entries from the Turbolinks page cache. Call this when state has changed on the server that may affect cached pages.\n\n## Turbolinks.supported\n\n> Usage:\n```js\nif (Turbolinks.supported) {\n  // ...\n}\n```\n\n> Detects whether Turbolinks is supported in the current browser (see [Supported Browsers](#supported-browsers)).\n\n## Full List of Events\n\n> Turbolinks emits events that allow you to track the navigation lifecycle and respond to page loading. Except where noted, Turbolinks fires events on the `document` object.\n\n> * `turbolinks:click` fires when you click a Turbolinks-enabled link. The clicked element is the event target. Access the requested location with `event.data.url`. Cancel this event to let the click fall through to the browser as normal navigation.\n\n> * `turbolinks:before-visit` fires before visiting a location, except when navigating by history. Access the requested location with `event.data.url`. Cancel this event to prevent navigation.\n\n> * `turbolinks:visit` fires immediately after a visit starts.\n\n> * `turbolinks:request-start` fires before Turbolinks issues a network request to fetch the page. Access the XMLHttpRequest object with `event.data.xhr`.\n\n> * `turbolinks:request-end` fires after the network request completes. Access the XMLHttpRequest object with `event.data.xhr`.\n\n> * `turbolinks:before-cache` fires before Turbolinks saves the current page to cache.\n\n> * `turbolinks:before-render` fires before rendering the page. Access the new `<body>` element with `event.data.newBody`.\n\n> * `turbolinks:render` fires after Turbolinks renders the page. This event fires twice during an application visit to a cached location: once after rendering the cached version, and again after rendering the fresh version.\n\n> * `turbolinks:load` fires once after the initial page load, and again after every Turbolinks visit. Access visit timing metrics with the `event.data.timing` object.\n\n# Contributing to Turbolinks\n\n> Turbolinks is open-source software, freely distributable under the terms of an [MIT-style license](LICENSE). The [source code is hosted on GitHub](https://github.com/turbolinks/turbolinks).\nDevelopment is sponsored by [Basecamp](https://basecamp.com/).\n\n> We welcome contributions in the form of bug reports, pull requests, or thoughtful discussions in the [GitHub issue tracker](https://github.com/turbolinks/turbolinks/issues).\n\n> Please note that this project is released with a [Contributor Code of Conduct](CONDUCT.md). By participating in this project you agree to abide by its terms.\n\n## Building From Source\n\n> Turbolinks is written in [CoffeeScript](https://github.com/jashkenas/coffee-script) and compiled to JavaScript with [Blade](https://github.com/javan/blade). To build from source you\u2019ll need a recent version of Ruby. From the root of your Turbolinks directory, issue the following commands to build the distributable files in `dist/`:\n\n```\n$ gem install bundler\n$ bundle install\n$ bin/blade build\n```\n\n## Running Tests\n\n> Follow the instructions for _Building From Source_ above. Then run `bin/blade runner` and visit the displayed URL in your browser. The Turbolinks test suite will start automatically.\n", "tags": ["turbolinks"]}