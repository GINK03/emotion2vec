{"context": " More than 1 year has passed since last update.\n\n\u8a2d\u5b9a\nbuild.gradle\u306bKotlin\u3068AndroidTest\u306e\u8a2d\u5b9a\u3092\u5165\u308c\u308b\u3002\n\nbuild.gradle\nbuildscript {\n    ext.kotlin_version = '0.12.613'\n\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.2.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\n\n\napp/build.gradle\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 22\n    buildToolsVersion \"22.0.1\"\n\n    defaultConfig {\n        applicationId \"me.mattak.kotlinandroidtestsample\"\n        minSdkVersion 15\n        targetSdkVersion 22\n        versionCode 1\n        versionName \"1.0.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile 'com.android.support:appcompat-v7:22.2.0'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    androidTestCompile 'com.android.support.test:runner:0.3'\n    androidTestCompile 'com.android.support.test:rules:0.3'\n}\n\n\ntestInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\" \u3092\u5fd8\u308c\u304c\u3061\u306a\u306e\u3067\u6ce8\u610f\u3002\ncom.android.support.test \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u3046\u3068JUnit4\u30b5\u30dd\u30fc\u30c8\u304c\u7c21\u5358\u3002\n\nTest\n\nApplicationTest.kt\npackage me.mattak.kotlinandroidtestsample\n\nimport android.support.test.InstrumentationRegistry\nimport android.support.test.runner.AndroidJUnit4\nimport org.junit\nimport org.junit.runner.RunWith\nimport kotlin.test.assertEquals\n\n/**\n * ApplicationTest\n */\nRunWith(AndroidJUnit4::class)\npublic class ApplicationTest {\n    junit.Before\n    public fun setup() {\n        // something setup\n    }\n\n    junit.After\n    public fun teardown() {\n        // something teardown\n    }\n\n    junit.Test\n    public fun packageName() {\n        assertEquals(InstrumentationRegistry.getTargetContext().getPackageName(), \"me.mattak.kotlinandroidtestsample\")\n    }\n}\n\n\nRunWith(AndroidJUnit4::class) \u3057\u3066\u3042\u3052\u308b\u70b9\u3068\u3001junit.Test\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u70b9\u3092\u5fd8\u308c\u306a\u3051\u308c\u3070\u5927\u4e08\u592b\u3002\nContext \u306f JUnit4\u304b\u3089 InstrumentationRegistry.getTargetContext() \u304b\u3089\u53d6\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3088\u3046\u3060\u3002\n\nSampleCode\nKotlinAndroidTestSample\n\nhttps://github.com/mattak/KotlinAndroidTestSample\n\n\u78ba\u8a8d\u306b\u3069\u3046\u305e\u3002./gradlew connectedCheck --info \u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n# \u8a2d\u5b9a\n\nbuild.gradle\u306bKotlin\u3068AndroidTest\u306e\u8a2d\u5b9a\u3092\u5165\u308c\u308b\u3002\n\n```groovy:build.gradle\nbuildscript {\n    ext.kotlin_version = '0.12.613'\n\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.2.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n```\n\n```groovy:app/build.gradle\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 22\n    buildToolsVersion \"22.0.1\"\n\n    defaultConfig {\n        applicationId \"me.mattak.kotlinandroidtestsample\"\n        minSdkVersion 15\n        targetSdkVersion 22\n        versionCode 1\n        versionName \"1.0.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile 'com.android.support:appcompat-v7:22.2.0'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    androidTestCompile 'com.android.support.test:runner:0.3'\n    androidTestCompile 'com.android.support.test:rules:0.3'\n}\n```\n\n`testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"` \u3092\u5fd8\u308c\u304c\u3061\u306a\u306e\u3067\u6ce8\u610f\u3002\n\n`com.android.support.test` \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u3046\u3068JUnit4\u30b5\u30dd\u30fc\u30c8\u304c\u7c21\u5358\u3002\n\n# Test\n\n```kotlin:ApplicationTest.kt\npackage me.mattak.kotlinandroidtestsample\n\nimport android.support.test.InstrumentationRegistry\nimport android.support.test.runner.AndroidJUnit4\nimport org.junit\nimport org.junit.runner.RunWith\nimport kotlin.test.assertEquals\n\n/**\n * ApplicationTest\n */\nRunWith(AndroidJUnit4::class)\npublic class ApplicationTest {\n    junit.Before\n    public fun setup() {\n        // something setup\n    }\n\n    junit.After\n    public fun teardown() {\n        // something teardown\n    }\n\n    junit.Test\n    public fun packageName() {\n        assertEquals(InstrumentationRegistry.getTargetContext().getPackageName(), \"me.mattak.kotlinandroidtestsample\")\n    }\n}\n```\n\n`RunWith(AndroidJUnit4::class)` \u3057\u3066\u3042\u3052\u308b\u70b9\u3068\u3001`junit.Test`\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u70b9\u3092\u5fd8\u308c\u306a\u3051\u308c\u3070\u5927\u4e08\u592b\u3002\n\n`Context` \u306f JUnit4\u304b\u3089 `InstrumentationRegistry.getTargetContext()` \u304b\u3089\u53d6\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3088\u3046\u3060\u3002\n\n# SampleCode\n\nKotlinAndroidTestSample\n\n- https://github.com/mattak/KotlinAndroidTestSample\n\n\u78ba\u8a8d\u306b\u3069\u3046\u305e\u3002`./gradlew connectedCheck --info` \u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\n", "tags": ["Android", "Kotlin"]}