{"context": " More than 1 year has passed since last update.\n\niTunes API\u3068\u306f\nhttps://www.apple.com/itunes/affiliates/resources/documentation/itunes-store-web-service-search-api.html\n\u767b\u9332\u4e0d\u8981\u3067\u4f7f\u3048\u3066\u3001\u4f8b\u3048\u3070\u3001\nhttps://itunes.apple.com/search?term=beatles&country=JP&lang=ja_jp&media=music\n\n\u3067\u3001\u300cbeatles\u300d\u3092\u691c\u7d22\u3059\u308b\u3068\u3001\n{\n  \"resultCount\":50,\n  \"results\": [\n    {\n      \"wrapperType\":\"track\", \n      \"kind\":\"song\", \n      \"artistId\":136975, \n      \"collectionId\":458032395, \n      \"trackId\":458032429, \n      \"artistName\":\"\u30d3\u30fc\u30c8\u30eb\u30ba\", \n      \"collectionName\":\"1\", \n      \"trackName\":\"Let It Be\", \n      \"collectionCensoredName\":\"1\", \n      \"trackCensoredName\":\"Let It Be\", \n      \"artistViewUrl\":\"https://itunes.apple.com/jp/artist/bitoruzu/id136975?uo=4\", \n      \"collectionViewUrl\":\"https://itunes.apple.com/jp/album/let-it-be/id458032395?i=458032429&uo=4\", \n      \"trackViewUrl\":\"https://itunes.apple.com/jp/album/let-it-be/id458032395?i=458032429&uo=4\", \n      \"previewUrl\":\"http://a1770.phobos.apple.com/us/r1000/059/Music4/v4/cf/b4/36/cfb43624-f3e0-269f-f81a-911f9876732c/mzaf_4722855266064184302.plus.aac.p.m4a\", \n      \"artworkUrl30\":\"http://is5.mzstatic.com/image/pf/us/r30/Features/85/fe/95/dj.kfrgxzbp.30x30-50.jpg\", \n      \"artworkUrl60\":\"http://is4.mzstatic.com/image/pf/us/r30/Features/85/fe/95/dj.kfrgxzbp.60x60-50.jpg\", \n      \"artworkUrl100\":\"http://is1.mzstatic.com/image/pf/us/r30/Features/85/fe/95/dj.kfrgxzbp.100x100-75.jpg\", \n      \"collectionPrice\":2000.00, \n      \"trackPrice\":250.00, \n      \"releaseDate\":\"2000-11-13T08:00:00Z\", \n      \"collectionExplicitness\":\"notExplicit\", \n      \"trackExplicitness\":\"notExplicit\", \n      \"discCount\":2, \n      \"discNumber\":1, \n      \"trackCount\":27, \n      \"trackNumber\":26, \n      \"trackTimeMillis\":230773, \n      \"country\":\"JPN\", \n      \"currency\":\"JPY\", \n      \"primaryGenreName\":\"\u30ed\u30c3\u30af\"\n    }, {\n      ...\n    }, {\n      ...\n    }\n  ]\n}\n\n\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\n\ntrackName\uff08\u66f2\u3084\u52d5\u753b\u306e\u30bf\u30a4\u30c8\u30eb\uff09\nartistName\uff08\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u540d\uff09\nartworkUrl100\uff08\u30a2\u30fc\u30c8\u30ef\u30fc\u30af\u753b\u50cfURL\uff09\npreviewUrl\uff08\u66f2\u3084\u52d5\u753b\u306e\u8a66\u8074\u7528\u30c7\u30fc\u30bfURL\uff09\n\n\u3042\u305f\u308a\u3092\u4f7f\u3063\u3066\u3001Android\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\nAndroid Studio\u3092\u958b\u304d\u307e\u3059\u3002\n\n\n\n\n\n\u81ea\u52d5import\u3092\u8a2d\u5b9a\u3059\u308b\nPreferences > Editor > General > Auto Import > \n\n\nVolley\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\nbuild.gradle\u306b\u8a2d\u5b9a\u3092\u66f8\u304f\nbuild.gradle (Module: app)\u3092\u958b\u3044\u3066\u3001dependencies\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\ncompile 'com.mcxiaoke.volley:library:1.0.16'\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n\niTunes API\u3068\u901a\u4fe1\u3057\u3066\u3001\u7d50\u679c\u3092\u4e00\u89a7\u753b\u9762\u306b\u8868\u793a\u3059\u308b\n\nVolley\u3067\u4f7f\u3046\u753b\u50cf\u30ad\u30e3\u30c3\u30b7\u30e5\u30af\u30e9\u30b9\u3092\u4f5c\u308b\n\u30eb\u30fc\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Java Class\u3002\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\u5148\u982d\u884c\u306epackage\u306e\u884c\u306f\u66f8\u3044\u3066\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30d4\u30da\u3059\u308b\u3068\u304d\u306fpackage\u306e\u884c\u3092\u6d88\u3055\u306a\u3044\u3088\u3046\u306b\u6c17\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\nimport android.graphics.Bitmap;\nimport android.util.LruCache;\n\nimport com.android.volley.toolbox.ImageLoader;\n\n\nclass LruImageCache implements ImageLoader.ImageCache {\n\n    private LruCache<String, Bitmap> mCache;\n\n    public LruImageCache() {\n        int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\n        int cacheSize = maxMemory / 8;\n\n        mCache = new LruCache<String, Bitmap>(cacheSize) {\n            @Override\n            protected int sizeOf(String key, Bitmap bitmap) {\n                return bitmap.getByteCount() / 1024;\n            }\n        };\n    }\n\n    @Override\n    public Bitmap getBitmap(String url) {\n        return mCache.get(url);\n    }\n\n    @Override\n    public void putBitmap(String url, Bitmap bitmap) {\n        mCache.put(url, bitmap);\n    }\n}\n\n\u3053\u308c\u306f\u3001\u30e1\u30e2\u30ea\u5185\u306b\u3001\u4f7f\u7528\u53ef\u80fd\u306a\u30e1\u30e2\u30ea\u5185\u306e\u4e00\u5b9a\u306e\u91cf\u307e\u3067\u753b\u50cf\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3001\u3044\u3063\u3071\u3044\u306b\u306a\u3063\u305f\u3089\u4f7f\u7528\u983b\u5ea6\u304c\u4f4e\u3044\u753b\u50cf\u304b\u3089\u7834\u68c4\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4e00\u89a7\u753b\u9762\u306eClass\u3092\u4f5c\u308b\n\u30eb\u30fc\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Activity > Blank Activity\u3002\n\nLauncher Activity\u3092ON\u306b\u3059\u308b\u3068\u3001\u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u8868\u793a\u3055\u308c\u308b\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u3002\n\n3\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002ListActivity.java\u306f\u3001Java Class\u3067\u51e6\u7406\u3092\u66f8\u304f\u3068\u3053\u308d\u3067\u3059\u3002activity_list.xml\u306f\u3001\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u66f8\u304f\u3068\u3053\u308d\u3067\u3059\u3002menu_list.xml\u306f\u3001\u30e1\u30cb\u30e5\u30fc\u3092\u66f8\u304f\u3068\u3053\u308d\u3067\u3059\u3002\n\n\u52a0\u3048\u3066\u3001AndroidManifest.xml\u306b\u3082\u3001activity\u8981\u7d20\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002Java Class\u304b\u3089Activity\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u306f\u3001\u81ea\u5206\u3067AndroidManifest.xml\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002AndroidManifest.xml\u306b\u8ffd\u52a0\u3057\u306a\u3044\u3067\u547c\u3073\u51fa\u305d\u3046\u3068\u3059\u308b\u3068\u5b9f\u884c\u6642\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002activity\u8981\u7d20\u306e\u4e0b\u306eintent-filter\u8981\u7d20\u306f\u3001\u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u8868\u793a\u3055\u308c\u308b\u753b\u9762\u3067\u3042\u308b\u3053\u3068\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\uff08Launcher Activity\u3092ON\u3067\u4f5c\u6210\u3057\u305f\u5834\u5408\uff09\u3002\n\n\u4eca\u56de\u306f\u30e1\u30cb\u30e5\u30fc\u3092\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001ListActivity\u306eonCreateOptionsMenu(Menu)\u3068onOptionsItemSelected(MenuItem)\u306f\u524a\u9664\u3057\u3066\u3044\u3044\u3067\u3059\u3002menu_list.xml\u3082\u524a\u9664\u3057\u3066\u3044\u3044\u3067\u3059\u3002\n\n\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3092\u4f7f\u3046\u6a29\u9650\u3092\u8a2d\u5b9a\u3059\u308b\nAndroidManifest.xml\u3092\u958b\u3044\u3066\u3001manifest\u8981\u7d20\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u66f8\u304b\u306a\u3044\u3068\u3001\u3053\u306e\u30a2\u30d7\u30ea\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n    <uses-permission android:name=\"android.permission.INTERNET\" />\n\n\n\u4e00\u89a7\u753b\u9762\u306eActionBar\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u30a2\u30d7\u30ea\u540d\u306b\u3059\u308b\nAndroidManifest.xml\u3092\u958b\u3044\u3066\u3001activity\u8981\u7d20\u306eandroid:label\u5c5e\u6027\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n        <activity\n            android:name=\".ListActivity\"\n            android:label=\"@string/app_name\" >\n\n\n\u4e00\u89a7\u753b\u9762\u306eLayout XML\u3092\u66f8\u304f\nactivity_list.xml\u3092\u958b\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                xmlns:tools=\"http://schemas.android.com/tools\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                tools:context=\"com.example.kentoriumi.itunesmusicsearch.ListActivity\">\n\n    <EditText android:id=\"@+id/edit_text\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:layout_alignParentTop=\"true\"\n              android:hint=\"Keyword\"\n              android:inputType=\"text\"/>\n    <ListView android:id=\"@+id/list_view\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"\n              android:layout_alignParentBottom=\"true\"\n              android:layout_below=\"@id/edit_text\"/>\n\n</RelativeLayout>\n\n\n\n\u4e00\u89a7\u753b\u9762\u306e\u884c\u306eLayout XML\u3092\u66f8\u304f\napp/res/layout\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Layout resource file\u3002\n\n\nlist_item.xml\u3092\u958b\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                xmlns:tools=\"http://schemas.android.com/tools\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:padding=\"10dp\">\n\n    <ImageView\n        android:id=\"@+id/image_view\"\n        android:layout_width=\"50dp\"\n        android:layout_height=\"50dp\"\n        android:layout_marginRight=\"10dp\"/>\n\n    <TextView android:id=\"@+id/track_text_view\"\n              android:layout_width=\"wrap_content\"\n              android:layout_height=\"wrap_content\"\n              android:layout_alignParentTop=\"true\"\n              android:layout_toRightOf=\"@id/image_view\"\n              android:ellipsize=\"end\"\n              android:lines=\"1\"\n              android:textSize=\"20sp\"\n              tools:text=\"track\"/>\n\n    <TextView android:id=\"@+id/artist_text_view\"\n              android:layout_width=\"wrap_content\"\n              android:layout_height=\"wrap_content\"\n              android:layout_alignParentBottom=\"true\"\n              android:layout_toRightOf=\"@id/image_view\"\n              android:ellipsize=\"end\"\n              android:lines=\"1\"\n              tools:text=\"artist\"/>\n\n</RelativeLayout>\n\n\n\u518d\u5ea6\u3001activity_list.xml\u3092\u958b\u3044\u3066\u3001ListView\u8981\u7d20\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\u3068\u3001\u30d7\u30ec\u30d3\u30e5\u30fc\u306e\u4e00\u89a7\u753b\u9762\u306b\u5148\u307b\u3069\u4f5c\u3063\u305f\u884c\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n    <ListView android:id=\"@+id/list_view\"\n              ...\n              tools:listitem=\"@layout/list_item\"/>\n\n\n\nVolley\u3092\u6e96\u5099\u3059\u308b\nListActivity.java\u3092\u958b\u3044\u3066\u3001ListActivity\u306e\u4e2d\u306b\n    private RequestQueue mRequestQueue;\n    private ImageLoader mImageLoader;\n\n\u3092\u3001onCreate(Bundle)\u306e\u4e2d\u306b\n        mRequestQueue = Volley.newRequestQueue(this);\n        mImageLoader = new ImageLoader(mRequestQueue, new LruImageCache());\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002import\u306e\u8ffd\u52a0\u3092\u805e\u304b\u308c\u305f\u3089OK\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u884c\u3092\u8868\u793a\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\nListActivity.java\u3092\u958b\u3044\u3066\u3001ListActivity\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002import\u306e\u8ffd\u52a0\u3092\u805e\u304b\u308c\u305f\u3089OK\u3057\u3066\u304f\u3060\u3055\u3044\u3002Adapter\u306f\u3001ListView\u306e\u3088\u3046\u306b\u3001\u4fdd\u6301\u3057\u3066\u3044\u308b\u5927\u91cf\u306e\u30c7\u30fc\u30bf\u306e\u4e2d\u304b\u3089\u4e00\u90e8\u3060\u3051\u3092\u8868\u793a\u3059\u308bView\u3092\u4f7f\u3046\u3068\u304d\u306b\u3001View\u3068\u30c7\u30fc\u30bf\u306e\u6a4b\u6e21\u3057\u3092\u3057\u307e\u3059\u3002\nprivate class ListAdapter extends ArrayAdapter<JSONObject> {\n\n        public ListAdapter(Context context, int resource) {\n            super(context, resource);\n        }\n\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent) {\n            if (convertView == null) {\n                // \u518d\u5229\u7528\u53ef\u80fd\u306aView\u304c\u306a\u3044\u5834\u5408\u306f\u4f5c\u308b\n                convertView = getLayoutInflater().inflate(R.layout.list_item, null);\n            }\n\n            ImageView imageView = (ImageView) convertView.findViewById(R.id.image_view);\n            TextView trackTextView = (TextView) convertView.findViewById(R.id.track_text_view);\n            TextView artistTextView = (TextView) convertView.findViewById(R.id.artist_text_view);\n\n            ImageLoader.ImageContainer imageContainer = (ImageLoader.ImageContainer) imageView.getTag();\n            if (imageContainer != null) {\n                imageContainer.cancelRequest(); // \u753b\u50cf\u53d6\u5f97\u4e2d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b\uff08\u518d\u5229\u7528\u3055\u308c\u305f\u6642\uff09\n            }\n            imageView.setImageBitmap(null); // \u6b8b\u3063\u3066\u308b\u753b\u50cf\u3092\u6d88\u3059\uff08\u518d\u5229\u7528\u3055\u308c\u305f\u6642\uff09\n\n            // \u8868\u793a\u3059\u308b\u884c\u756a\u53f7\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\n            JSONObject result = getItem(position);\n\n            ImageLoader.ImageListener listener = ImageLoader.getImageListener(imageView, 0, 0);\n            imageView.setTag(mImageLoader.get(result.optString(\"artworkUrl100\"), listener));\n\n            trackTextView.setText(result.optString(\"trackName\"));\n            artistTextView.setText(result.optString(\"artistName\"));\n\n            return convertView;\n        }\n    }\n\n\u3055\u3089\u306b\u3001ListActivity\u306e\u4e2d\u306b\n    private ListAdapter mAdapter;\n\n\u3092\u3001onCreate(Bundle)\u306e\u4e2d\u306b\n        mAdapter = new ListAdapter(this, R.layout.list_item);\n        ListView listView = (ListView) findViewById(R.id.list_view);\n        listView.setAdapter(mAdapter);\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u5148\u307b\u3069\u4f5c\u3063\u305fAdapter\u3092ListView\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\n\u691c\u7d22\u306e\u51e6\u7406\u3092\u66f8\u304f\nListActivity.java\u3092\u958b\u3044\u3066\u3001ListActivity\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002import\u306e\u8ffd\u52a0\u3092\u805e\u304b\u308c\u305f\u3089OK\u3057\u3066\u304f\u3060\u3055\u3044\u3002View.OnKeyListener\u306f\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30ad\u30fc\u3092\u62bc\u3055\u308c\u305f\u308a\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u3068\u3053\u308d\u3067\u3059\u3002Enter\u30ad\u30fc\u304c\u4e0a\u304c\u3063\u305f\u3068\u304d\u306b\u691c\u7d22\u51e6\u7406\u3092\u5b9f\u884c\u3057\u3001\u5b9f\u884c\u7d50\u679c\u3092Adapter\u306b\u8a70\u3081\u308b\uff08\u8a70\u3081\u305f\u3089\u753b\u9762\u306f\u968f\u6642\u66f4\u65b0\u3055\u308c\u308b\uff09\u51e6\u7406\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\nprivate class OnKeyListener implements View.OnKeyListener {\n\n        @Override\n        public boolean onKey(View view, int keyCode, KeyEvent keyEvent) {\n            if (keyEvent.getAction() == KeyEvent.ACTION_UP && keyCode == KeyEvent.KEYCODE_ENTER) {\n                EditText editText = (EditText) view;\n\n                // \u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u9589\u3058\u308b\n                InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(editText.getWindowToken(), 0);\n\n                String text = editText.getText().toString();\n                try {\n                    // url encode\u3000\u4f8b. \u30b9\u30d4\u30c3\u30c4 > %83X%83s%83b%83c\n                    text = URLEncoder.encode(text, \"UTF-8\");\n                } catch (UnsupportedEncodingException e) {\n                    Log.e(\"\", e.toString(), e);\n                    return true;\n                }\n                if (!TextUtils.isEmpty(text)) {\n                    String url =\n                            \"https://itunes.apple.com/search?term=\" + text + \"&country=JP&media=music&lang=ja_jp\";\n                    mRequestQueue.add(new JsonObjectRequest(Request.Method.GET, url,\n                            new Response.Listener<JSONObject>() {\n                                @Override\n                                public void onResponse(JSONObject response) {\n                                    Log.d(\"\", response.toString());\n\n                                    mAdapter.clear();\n\n                                    JSONArray results = response.optJSONArray(\"results\");\n                                    if (results != null) {\n                                        for (int i = 0; i < results.length(); i++) {\n                                            mAdapter.add(results.optJSONObject(i));\n                                        }\n                                    }\n                                }\n                            },\n                            null));\n                }\n                return true;\n            }\n            return false;\n        }\n    }\n\n\u3055\u3089\u306b\u3001onCreate(Bundle)\u306e\u4e2d\u306b\n        final EditText editText = (EditText) findViewById(R.id.edit_text);\n        editText.setOnKeyListener(new OnKeyListener());\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u5148\u307b\u3069\u4f5c\u3063\u305fOnKeyListener\u3092EditText\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\u3053\u3053\u307e\u3067\u3067\u3001ListActivity.java\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u308b\u306f\u305a\u3067\u3059\u3002\u5148\u982d\u884c\u306epackage\u306e\u884c\u306f\u66f8\u3044\u3066\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30d4\u30da\u3059\u308b\u3068\u304d\u306fpackage\u306e\u884c\u3092\u6d88\u3055\u306a\u3044\u3088\u3046\u306b\u6c17\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\nimport android.app.Activity;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.toolbox.ImageLoader;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONArray;\nimport org.json.JSONObject;\n\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\n\n\npublic class ListActivity extends Activity {\n\n    private RequestQueue mRequestQueue;\n    private ImageLoader mImageLoader;\n\n    private ListAdapter mAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_list);\n\n        mRequestQueue = Volley.newRequestQueue(this);\n        mImageLoader = new ImageLoader(mRequestQueue, new LruImageCache());\n\n        mAdapter = new ListAdapter(this, R.layout.list_item);\n        ListView listView = (ListView) findViewById(R.id.list_view);\n        listView.setAdapter(mAdapter);\n    }\n\n    private class ListAdapter extends ArrayAdapter<JSONObject> {\n\n        public ListAdapter(Context context, int resource) {\n            super(context, resource);\n        }\n\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent) {\n            if (convertView == null) {\n                // \u518d\u5229\u7528\u53ef\u80fd\u306aView\u304c\u306a\u3044\u5834\u5408\u306f\u4f5c\u308b\n                convertView = getLayoutInflater().inflate(R.layout.list_item, null);\n            }\n\n            ImageView imageView = (ImageView) convertView.findViewById(R.id.image_view);\n            TextView trackTextView = (TextView) convertView.findViewById(R.id.track_text_view);\n            TextView artistTextView = (TextView) convertView.findViewById(R.id.artist_text_view);\n\n            ImageLoader.ImageContainer imageContainer = (ImageLoader.ImageContainer) imageView.getTag();\n            if (imageContainer != null) {\n                imageContainer.cancelRequest(); // \u753b\u50cf\u53d6\u5f97\u4e2d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b\uff08\u518d\u5229\u7528\u3055\u308c\u305f\u6642\uff09\n            }\n            imageView.setImageBitmap(null); // \u6b8b\u3063\u3066\u308b\u753b\u50cf\u3092\u6d88\u3059\uff08\u518d\u5229\u7528\u3055\u308c\u305f\u6642\uff09\n\n            // \u8868\u793a\u3059\u308b\u884c\u756a\u53f7\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\n            JSONObject result = getItem(position);\n\n            ImageLoader.ImageListener listener = ImageLoader.getImageListener(imageView, 0, 0);\n            imageView.setTag(mImageLoader.get(result.optString(\"artworkUrl100\"), listener));\n\n            trackTextView.setText(result.optString(\"trackName\"));\n            artistTextView.setText(result.optString(\"artistName\"));\n\n            return convertView;\n        }\n    }\n\n    private class OnKeyListener implements View.OnKeyListener {\n\n        @Override\n        public boolean onKey(View view, int keyCode, KeyEvent keyEvent) {\n            if (keyEvent.getAction() == KeyEvent.ACTION_UP && keyCode == KeyEvent.KEYCODE_ENTER) {\n                EditText editText = (EditText) view;\n\n                // \u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u9589\u3058\u308b\n                InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(editText.getWindowToken(), 0);\n\n                String text = editText.getText().toString();\n                try {\n                    // url encode\u3000\u4f8b. \u30b9\u30d4\u30c3\u30c4 > %83X%83s%83b%83c\n                    text = URLEncoder.encode(text, \"UTF-8\");\n                } catch (UnsupportedEncodingException e) {\n                    Log.e(\"\", e.toString(), e);\n                    return true;\n                }\n                if (!TextUtils.isEmpty(text)) {\n                    String url =\n                            \"https://itunes.apple.com/search?term=\" + text + \"&country=JP&media=music&lang=ja_jp\";\n                    mRequestQueue.add(new JsonObjectRequest(Request.Method.GET, url,\n                            new Response.Listener<JSONObject>() {\n                                @Override\n                                public void onResponse(JSONObject response) {\n                                    Log.d(\"\", response.toString());\n\n                                    mAdapter.clear();\n\n                                    JSONArray results = response.optJSONArray(\"results\");\n                                    if (results != null) {\n                                        for (int i = 0; i < results.length(); i++) {\n                                            mAdapter.add(results.optJSONObject(i));\n                                        }\n                                    }\n                                }\n                            },\n                            null));\n                }\n                return true;\n            }\n            return false;\n        }\n    }\n}\n\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\n\u8a73\u7d30\u753b\u9762\u306b\u9077\u79fb\u3057\u3066\u3001\u8a66\u8074\u3059\u308b\n\n\u8a73\u7d30\u753b\u9762\u306eClass\u3092\u4f5c\u308b\n\u30eb\u30fc\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Activity > Blank Activity\u3002\n\n\n\u4eca\u56de\u306f\u30e1\u30cb\u30e5\u30fc\u3092\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001DetailActivity\u306eonCreateOptionsMenu(Menu)\u3068onOptionsItemSelected(MenuItem)\u306f\u524a\u9664\u3057\u3066\u3044\u3044\u3067\u3059\u3002menu_detail.xml\u3082\u524a\u9664\u3057\u3066\u3044\u3044\u3067\u3059\u3002\n\n\u8a73\u7d30\u753b\u9762\u306eLayout XML\u3092\u66f8\u304f\nactivity_detail.xml\u3092\u958b\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                xmlns:tools=\"http://schemas.android.com/tools\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                tools:context=\"com.example.kentoriumi.itunesmusicsearch.DetailActivity\">\n\n    <VideoView android:id=\"@+id/video_view\"\n               android:layout_width=\"match_parent\"\n               android:layout_height=\"match_parent\"/>\n\n</RelativeLayout>\n\n\n\n\u4e00\u89a7\u753b\u9762\u304b\u3089\u8a73\u7d30\u753b\u9762\u306b\u9077\u79fb\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\nListActivity.java\u3092\u958b\u3044\u3066\u3001ListActivity\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002import\u306e\u8ffd\u52a0\u3092\u805e\u304b\u308c\u305f\u3089OK\u3057\u3066\u304f\u3060\u3055\u3044\u3002AdapterView.OnItemClickListener\u306f\u3001ListView\u306e\u884c\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u3068\u3053\u308d\u3067\u3059\u3002\u30bf\u30c3\u30d7\u3055\u308c\u305f\u884c\u756a\u53f7\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3001\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u8a73\u7d30\u753b\u9762\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n    private class OnItemClickListener implements AdapterView.OnItemClickListener {\n\n        @Override\n        public void onItemClick(AdapterView<?> adapterView, View view, int position, long id) {\n            Intent intent = new Intent(ListActivity.this, DetailActivity.class);\n\n            // \u30bf\u30c3\u30d7\u3055\u308c\u305f\u884c\u756a\u53f7\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\n            JSONObject result = mAdapter.getItem(position);\n            intent.putExtra(\"track_name\", result.optString(\"trackName\"));\n            intent.putExtra(\"preview_url\", result.optString(\"previewUrl\"));\n\n            startActivity(intent);\n        }\n    }\n\n\u3055\u3089\u306b\u3001onCreate(Bundle)\u306e\u4e2d\u306b\n        listView.setOnItemClickListener(new OnItemClickListener());\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u5148\u307b\u3069\u4f5c\u3063\u305fOnItemClickListener\u3092ListView\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\n\u8a73\u7d30\u753b\u9762\u3067\u8a66\u8074\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\nDetailActivity.java\u3092\u958b\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\u5148\u982d\u884c\u306epackage\u306e\u884c\u306f\u66f8\u3044\u3066\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30d4\u30da\u3059\u308b\u3068\u304d\u306fpackage\u306e\u884c\u3092\u6d88\u3055\u306a\u3044\u3088\u3046\u306b\u6c17\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\nimport android.app.Activity;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.widget.MediaController;\nimport android.widget.VideoView;\n\n\npublic class DetailActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_detail);\n\n        // ActionBar\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b\n        String trackName = getIntent().getExtras().getString(\"track_name\");\n        getActionBar().setTitle(trackName);\n\n        String previewUrl = getIntent().getExtras().getString(\"preview_url\");\n        if (!TextUtils.isEmpty(previewUrl)) {\n            VideoView videoView = (VideoView) findViewById(R.id.video_view);\n            videoView.setMediaController(new MediaController(this)); // \u518d\u751f\u30dc\u30bf\u30f3\u3068\u304b\u3092\u3064\u3051\u308b\n            videoView.setVideoURI(Uri.parse(previewUrl)); // URL\u3092\u8a2d\u5b9a\u3059\u308b\n            videoView.start(); // \u518d\u751f\u3059\u308b\n        }\n    }\n}\n\n\n\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\u304a\u308f\u308a\u3002\u304a\u75b2\u308c\u3055\u307e\u3067\u3057\u305f\u3002\n\n\u5b8c\u6210\u54c1\u306f\u3053\u3053\u306b\u3042\u308a\u307e\u3059\nAndroidStudio\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001Eclipse\u306e\u5834\u5408\u306f\u3054\u306b\u3087\u3054\u306b\u3087\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://codebreak.com/git/kenchan1837/iTunesMusicSearchAndroid/\n# iTunes API\u3068\u306f\nhttps://www.apple.com/itunes/affiliates/resources/documentation/itunes-store-web-service-search-api.html\n\n\u767b\u9332\u4e0d\u8981\u3067\u4f7f\u3048\u3066\u3001\u4f8b\u3048\u3070\u3001\n\n```\nhttps://itunes.apple.com/search?term=beatles&country=JP&lang=ja_jp&media=music\n```\n\n\u3067\u3001\u300cbeatles\u300d\u3092\u691c\u7d22\u3059\u308b\u3068\u3001\n\n```json\n{\n  \"resultCount\":50,\n  \"results\": [\n    {\n      \"wrapperType\":\"track\", \n      \"kind\":\"song\", \n      \"artistId\":136975, \n      \"collectionId\":458032395, \n      \"trackId\":458032429, \n      \"artistName\":\"\u30d3\u30fc\u30c8\u30eb\u30ba\", \n      \"collectionName\":\"1\", \n      \"trackName\":\"Let It Be\", \n      \"collectionCensoredName\":\"1\", \n      \"trackCensoredName\":\"Let It Be\", \n      \"artistViewUrl\":\"https://itunes.apple.com/jp/artist/bitoruzu/id136975?uo=4\", \n      \"collectionViewUrl\":\"https://itunes.apple.com/jp/album/let-it-be/id458032395?i=458032429&uo=4\", \n      \"trackViewUrl\":\"https://itunes.apple.com/jp/album/let-it-be/id458032395?i=458032429&uo=4\", \n      \"previewUrl\":\"http://a1770.phobos.apple.com/us/r1000/059/Music4/v4/cf/b4/36/cfb43624-f3e0-269f-f81a-911f9876732c/mzaf_4722855266064184302.plus.aac.p.m4a\", \n      \"artworkUrl30\":\"http://is5.mzstatic.com/image/pf/us/r30/Features/85/fe/95/dj.kfrgxzbp.30x30-50.jpg\", \n      \"artworkUrl60\":\"http://is4.mzstatic.com/image/pf/us/r30/Features/85/fe/95/dj.kfrgxzbp.60x60-50.jpg\", \n      \"artworkUrl100\":\"http://is1.mzstatic.com/image/pf/us/r30/Features/85/fe/95/dj.kfrgxzbp.100x100-75.jpg\", \n      \"collectionPrice\":2000.00, \n      \"trackPrice\":250.00, \n      \"releaseDate\":\"2000-11-13T08:00:00Z\", \n      \"collectionExplicitness\":\"notExplicit\", \n      \"trackExplicitness\":\"notExplicit\", \n      \"discCount\":2, \n      \"discNumber\":1, \n      \"trackCount\":27, \n      \"trackNumber\":26, \n      \"trackTimeMillis\":230773, \n      \"country\":\"JPN\", \n      \"currency\":\"JPY\", \n      \"primaryGenreName\":\"\u30ed\u30c3\u30af\"\n    }, {\n      ...\n    }, {\n      ...\n    }\n  ]\n}\n```\n\n\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002\n\n\u4eca\u56de\u306f\u3001\n\n* trackName\uff08\u66f2\u3084\u52d5\u753b\u306e\u30bf\u30a4\u30c8\u30eb\uff09\n* artistName\uff08\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8\u540d\uff09\n* artworkUrl100\uff08\u30a2\u30fc\u30c8\u30ef\u30fc\u30af\u753b\u50cfURL\uff09\n* previewUrl\uff08\u66f2\u3084\u52d5\u753b\u306e\u8a66\u8074\u7528\u30c7\u30fc\u30bfURL\uff09\n\n\u3042\u305f\u308a\u3092\u4f7f\u3063\u3066\u3001Android\u30a2\u30d7\u30ea\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n# \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\nAndroid Studio\u3092\u958b\u304d\u307e\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 14.02.44.png](https://qiita-image-store.s3.amazonaws.com/0/80314/cb529bbc-dd94-6f4f-cb32-73ab7027d949.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 14.05.33.png](https://qiita-image-store.s3.amazonaws.com/0/80314/658218df-1b39-be50-79e0-41e7b78706f4.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 14.07.06.png](https://qiita-image-store.s3.amazonaws.com/0/80314/d6e379c2-2dc5-86fc-f7e7-ec9e6ec97d71.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 14.09.20.png](https://qiita-image-store.s3.amazonaws.com/0/80314/b3f1583b-fb63-d812-1f28-6f82a7e97ba9.png)\n\n## \u81ea\u52d5import\u3092\u8a2d\u5b9a\u3059\u308b\nPreferences > Editor > General > Auto Import > \n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-04 21.30.21.png](https://qiita-image-store.s3.amazonaws.com/0/80314/38ec0648-02ec-788c-e690-4b891f198486.png)\n\n# Volley\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n## build.gradle\u306b\u8a2d\u5b9a\u3092\u66f8\u304f\nbuild.gradle (Module: app)\u3092\u958b\u3044\u3066\u3001dependencies\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\ncompile 'com.mcxiaoke.volley:library:1.0.16'\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 14.20.48.png](https://qiita-image-store.s3.amazonaws.com/0/80314/09a4aa5f-d080-2b84-b16f-632f2b2e88be.png)\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 14.21.05.png](https://qiita-image-store.s3.amazonaws.com/0/80314/d8281d5b-f515-7fb3-e996-04ff3c82e6cc.png)\n\n# iTunes API\u3068\u901a\u4fe1\u3057\u3066\u3001\u7d50\u679c\u3092\u4e00\u89a7\u753b\u9762\u306b\u8868\u793a\u3059\u308b\n\n## Volley\u3067\u4f7f\u3046\u753b\u50cf\u30ad\u30e3\u30c3\u30b7\u30e5\u30af\u30e9\u30b9\u3092\u4f5c\u308b\n\u30eb\u30fc\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Java Class\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 15.43.32.png](https://qiita-image-store.s3.amazonaws.com/0/80314/3c5932e7-f8a2-8e9b-c1ac-1c1f6fa0cd72.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 15.45.20.png](https://qiita-image-store.s3.amazonaws.com/0/80314/9278e7e9-809f-551c-fa0f-60524ae452d8.png)\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\u5148\u982d\u884c\u306epackage\u306e\u884c\u306f\u66f8\u3044\u3066\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30d4\u30da\u3059\u308b\u3068\u304d\u306fpackage\u306e\u884c\u3092\u6d88\u3055\u306a\u3044\u3088\u3046\u306b\u6c17\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n```java\nimport android.graphics.Bitmap;\nimport android.util.LruCache;\n\nimport com.android.volley.toolbox.ImageLoader;\n\n\nclass LruImageCache implements ImageLoader.ImageCache {\n\n    private LruCache<String, Bitmap> mCache;\n\n    public LruImageCache() {\n        int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\n        int cacheSize = maxMemory / 8;\n\n        mCache = new LruCache<String, Bitmap>(cacheSize) {\n            @Override\n            protected int sizeOf(String key, Bitmap bitmap) {\n                return bitmap.getByteCount() / 1024;\n            }\n        };\n    }\n\n    @Override\n    public Bitmap getBitmap(String url) {\n        return mCache.get(url);\n    }\n\n    @Override\n    public void putBitmap(String url, Bitmap bitmap) {\n        mCache.put(url, bitmap);\n    }\n}\n```\n\n\u3053\u308c\u306f\u3001\u30e1\u30e2\u30ea\u5185\u306b\u3001\u4f7f\u7528\u53ef\u80fd\u306a\u30e1\u30e2\u30ea\u5185\u306e\u4e00\u5b9a\u306e\u91cf\u307e\u3067\u753b\u50cf\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3001\u3044\u3063\u3071\u3044\u306b\u306a\u3063\u305f\u3089\u4f7f\u7528\u983b\u5ea6\u304c\u4f4e\u3044\u753b\u50cf\u304b\u3089\u7834\u68c4\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n## \u4e00\u89a7\u753b\u9762\u306eClass\u3092\u4f5c\u308b\n\u30eb\u30fc\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Activity > Blank Activity\u3002\n![71158ac0-9fbc-de15-ae8e-34972db40650.png](https://qiita-image-store.s3.amazonaws.com/0/80314/f80a02e0-e703-d5c0-2d66-63c8c0530ec3.png)\n\nLauncher Activity\u3092ON\u306b\u3059\u308b\u3068\u3001\u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u8868\u793a\u3055\u308c\u308b\u753b\u9762\u306b\u306a\u308a\u307e\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 15.57.37.png](https://qiita-image-store.s3.amazonaws.com/0/80314/04086839-8645-2ac7-1aa3-7982049b8c9c.png)\n\n3\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002ListActivity.java\u306f\u3001Java Class\u3067\u51e6\u7406\u3092\u66f8\u304f\u3068\u3053\u308d\u3067\u3059\u3002activity_list.xml\u306f\u3001\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u66f8\u304f\u3068\u3053\u308d\u3067\u3059\u3002menu_list.xml\u306f\u3001\u30e1\u30cb\u30e5\u30fc\u3092\u66f8\u304f\u3068\u3053\u308d\u3067\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 16.03.57.png](https://qiita-image-store.s3.amazonaws.com/0/80314/f5ff8e9e-7d0b-0cf4-b1e2-a0ec5116d351.png)\n\n\u52a0\u3048\u3066\u3001AndroidManifest.xml\u306b\u3082\u3001activity\u8981\u7d20\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002Java Class\u304b\u3089Activity\u3092\u4f5c\u6210\u3057\u305f\u5834\u5408\u306f\u3001\u81ea\u5206\u3067AndroidManifest.xml\u306b\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002AndroidManifest.xml\u306b\u8ffd\u52a0\u3057\u306a\u3044\u3067\u547c\u3073\u51fa\u305d\u3046\u3068\u3059\u308b\u3068\u5b9f\u884c\u6642\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002activity\u8981\u7d20\u306e\u4e0b\u306eintent-filter\u8981\u7d20\u306f\u3001\u30a2\u30d7\u30ea\u8d77\u52d5\u6642\u306b\u8868\u793a\u3055\u308c\u308b\u753b\u9762\u3067\u3042\u308b\u3053\u3068\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\uff08Launcher Activity\u3092ON\u3067\u4f5c\u6210\u3057\u305f\u5834\u5408\uff09\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 16.11.42.png](https://qiita-image-store.s3.amazonaws.com/0/80314/b741c3e5-6666-8474-94ab-6ead5d0ae544.png)\n\n\u4eca\u56de\u306f\u30e1\u30cb\u30e5\u30fc\u3092\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001ListActivity\u306eonCreateOptionsMenu(Menu)\u3068onOptionsItemSelected(MenuItem)\u306f\u524a\u9664\u3057\u3066\u3044\u3044\u3067\u3059\u3002menu_list.xml\u3082\u524a\u9664\u3057\u3066\u3044\u3044\u3067\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 16.17.08.png](https://qiita-image-store.s3.amazonaws.com/0/80314/de9f3984-7f8b-5899-e423-d0f6a6d2dd7a.png)\n\n## \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3092\u4f7f\u3046\u6a29\u9650\u3092\u8a2d\u5b9a\u3059\u308b\nAndroidManifest.xml\u3092\u958b\u3044\u3066\u3001manifest\u8981\u7d20\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u308c\u3092\u66f8\u304b\u306a\u3044\u3068\u3001\u3053\u306e\u30a2\u30d7\u30ea\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\n\n```xml\n    <uses-permission android:name=\"android.permission.INTERNET\" />\n```\n\n## \u4e00\u89a7\u753b\u9762\u306eActionBar\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u30a2\u30d7\u30ea\u540d\u306b\u3059\u308b\nAndroidManifest.xml\u3092\u958b\u3044\u3066\u3001activity\u8981\u7d20\u306eandroid:label\u5c5e\u6027\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```xml\n        <activity\n            android:name=\".ListActivity\"\n            android:label=\"@string/app_name\" >\n```\n\n## \u4e00\u89a7\u753b\u9762\u306eLayout XML\u3092\u66f8\u304f\nactivity_list.xml\u3092\u958b\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\n```xml\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                xmlns:tools=\"http://schemas.android.com/tools\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                tools:context=\"com.example.kentoriumi.itunesmusicsearch.ListActivity\">\n\n    <EditText android:id=\"@+id/edit_text\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:layout_alignParentTop=\"true\"\n              android:hint=\"Keyword\"\n              android:inputType=\"text\"/>\n    <ListView android:id=\"@+id/list_view\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"\n              android:layout_alignParentBottom=\"true\"\n              android:layout_below=\"@id/edit_text\"/>\n\n</RelativeLayout>\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 16.29.50.png](https://qiita-image-store.s3.amazonaws.com/0/80314/e757332a-d71e-bb32-6b2a-9336b65c3ea7.png)\n\n## \u4e00\u89a7\u753b\u9762\u306e\u884c\u306eLayout XML\u3092\u66f8\u304f\napp/res/layout\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Layout resource file\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 16.33.17.png](https://qiita-image-store.s3.amazonaws.com/0/80314/3645541d-98c6-b074-8cc6-7b4b0778abe2.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 16.35.32.png](https://qiita-image-store.s3.amazonaws.com/0/80314/0eae125d-8652-bd97-b231-b8aeb637b609.png)\n\nlist_item.xml\u3092\u958b\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                xmlns:tools=\"http://schemas.android.com/tools\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:padding=\"10dp\">\n\n    <ImageView\n        android:id=\"@+id/image_view\"\n        android:layout_width=\"50dp\"\n        android:layout_height=\"50dp\"\n        android:layout_marginRight=\"10dp\"/>\n\n    <TextView android:id=\"@+id/track_text_view\"\n              android:layout_width=\"wrap_content\"\n              android:layout_height=\"wrap_content\"\n              android:layout_alignParentTop=\"true\"\n              android:layout_toRightOf=\"@id/image_view\"\n              android:ellipsize=\"end\"\n              android:lines=\"1\"\n              android:textSize=\"20sp\"\n              tools:text=\"track\"/>\n\n    <TextView android:id=\"@+id/artist_text_view\"\n              android:layout_width=\"wrap_content\"\n              android:layout_height=\"wrap_content\"\n              android:layout_alignParentBottom=\"true\"\n              android:layout_toRightOf=\"@id/image_view\"\n              android:ellipsize=\"end\"\n              android:lines=\"1\"\n              tools:text=\"artist\"/>\n\n</RelativeLayout>\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 16.41.02.png](https://qiita-image-store.s3.amazonaws.com/0/80314/296b4667-40dd-66d9-8e6c-be1b5e25c626.png)\n\n\u518d\u5ea6\u3001activity_list.xml\u3092\u958b\u3044\u3066\u3001ListView\u8981\u7d20\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3059\u308b\u3068\u3001\u30d7\u30ec\u30d3\u30e5\u30fc\u306e\u4e00\u89a7\u753b\u9762\u306b\u5148\u307b\u3069\u4f5c\u3063\u305f\u884c\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```xml\n    <ListView android:id=\"@+id/list_view\"\n              ...\n              tools:listitem=\"@layout/list_item\"/>\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 16.45.29.png](https://qiita-image-store.s3.amazonaws.com/0/80314/7e711d4a-30ac-a4de-716b-b5a5dd6ce9f2.png)\n\n## Volley\u3092\u6e96\u5099\u3059\u308b\nListActivity.java\u3092\u958b\u3044\u3066\u3001ListActivity\u306e\u4e2d\u306b\n\n```java\n    private RequestQueue mRequestQueue;\n    private ImageLoader mImageLoader;\n```\n\n\u3092\u3001onCreate(Bundle)\u306e\u4e2d\u306b\n\n```java\n        mRequestQueue = Volley.newRequestQueue(this);\n        mImageLoader = new ImageLoader(mRequestQueue, new LruImageCache());\n```\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002import\u306e\u8ffd\u52a0\u3092\u805e\u304b\u308c\u305f\u3089OK\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u884c\u3092\u8868\u793a\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\nListActivity.java\u3092\u958b\u3044\u3066\u3001ListActivity\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002import\u306e\u8ffd\u52a0\u3092\u805e\u304b\u308c\u305f\u3089OK\u3057\u3066\u304f\u3060\u3055\u3044\u3002Adapter\u306f\u3001ListView\u306e\u3088\u3046\u306b\u3001\u4fdd\u6301\u3057\u3066\u3044\u308b\u5927\u91cf\u306e\u30c7\u30fc\u30bf\u306e\u4e2d\u304b\u3089\u4e00\u90e8\u3060\u3051\u3092\u8868\u793a\u3059\u308bView\u3092\u4f7f\u3046\u3068\u304d\u306b\u3001View\u3068\u30c7\u30fc\u30bf\u306e\u6a4b\u6e21\u3057\u3092\u3057\u307e\u3059\u3002\n\n```java\nprivate class ListAdapter extends ArrayAdapter<JSONObject> {\n\n        public ListAdapter(Context context, int resource) {\n            super(context, resource);\n        }\n\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent) {\n            if (convertView == null) {\n                // \u518d\u5229\u7528\u53ef\u80fd\u306aView\u304c\u306a\u3044\u5834\u5408\u306f\u4f5c\u308b\n                convertView = getLayoutInflater().inflate(R.layout.list_item, null);\n            }\n\n            ImageView imageView = (ImageView) convertView.findViewById(R.id.image_view);\n            TextView trackTextView = (TextView) convertView.findViewById(R.id.track_text_view);\n            TextView artistTextView = (TextView) convertView.findViewById(R.id.artist_text_view);\n\n            ImageLoader.ImageContainer imageContainer = (ImageLoader.ImageContainer) imageView.getTag();\n            if (imageContainer != null) {\n                imageContainer.cancelRequest(); // \u753b\u50cf\u53d6\u5f97\u4e2d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b\uff08\u518d\u5229\u7528\u3055\u308c\u305f\u6642\uff09\n            }\n            imageView.setImageBitmap(null); // \u6b8b\u3063\u3066\u308b\u753b\u50cf\u3092\u6d88\u3059\uff08\u518d\u5229\u7528\u3055\u308c\u305f\u6642\uff09\n\n            // \u8868\u793a\u3059\u308b\u884c\u756a\u53f7\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\n            JSONObject result = getItem(position);\n\n            ImageLoader.ImageListener listener = ImageLoader.getImageListener(imageView, 0, 0);\n            imageView.setTag(mImageLoader.get(result.optString(\"artworkUrl100\"), listener));\n\n            trackTextView.setText(result.optString(\"trackName\"));\n            artistTextView.setText(result.optString(\"artistName\"));\n\n            return convertView;\n        }\n    }\n```\n\n\u3055\u3089\u306b\u3001ListActivity\u306e\u4e2d\u306b\n\n```java\n    private ListAdapter mAdapter;\n```\n\n\u3092\u3001onCreate(Bundle)\u306e\u4e2d\u306b\n\n```java\n        mAdapter = new ListAdapter(this, R.layout.list_item);\n        ListView listView = (ListView) findViewById(R.id.list_view);\n        listView.setAdapter(mAdapter);\n```\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u5148\u307b\u3069\u4f5c\u3063\u305fAdapter\u3092ListView\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\n## \u691c\u7d22\u306e\u51e6\u7406\u3092\u66f8\u304f\nListActivity.java\u3092\u958b\u3044\u3066\u3001ListActivity\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002import\u306e\u8ffd\u52a0\u3092\u805e\u304b\u308c\u305f\u3089OK\u3057\u3066\u304f\u3060\u3055\u3044\u3002View.OnKeyListener\u306f\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u306e\u30ad\u30fc\u3092\u62bc\u3055\u308c\u305f\u308a\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u3068\u3053\u308d\u3067\u3059\u3002Enter\u30ad\u30fc\u304c\u4e0a\u304c\u3063\u305f\u3068\u304d\u306b\u691c\u7d22\u51e6\u7406\u3092\u5b9f\u884c\u3057\u3001\u5b9f\u884c\u7d50\u679c\u3092Adapter\u306b\u8a70\u3081\u308b\uff08\u8a70\u3081\u305f\u3089\u753b\u9762\u306f\u968f\u6642\u66f4\u65b0\u3055\u308c\u308b\uff09\u51e6\u7406\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\n```java\nprivate class OnKeyListener implements View.OnKeyListener {\n\n        @Override\n        public boolean onKey(View view, int keyCode, KeyEvent keyEvent) {\n            if (keyEvent.getAction() == KeyEvent.ACTION_UP && keyCode == KeyEvent.KEYCODE_ENTER) {\n                EditText editText = (EditText) view;\n\n                // \u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u9589\u3058\u308b\n                InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(editText.getWindowToken(), 0);\n\n                String text = editText.getText().toString();\n                try {\n                    // url encode\u3000\u4f8b. \u30b9\u30d4\u30c3\u30c4 > %83X%83s%83b%83c\n                    text = URLEncoder.encode(text, \"UTF-8\");\n                } catch (UnsupportedEncodingException e) {\n                    Log.e(\"\", e.toString(), e);\n                    return true;\n                }\n                if (!TextUtils.isEmpty(text)) {\n                    String url =\n                            \"https://itunes.apple.com/search?term=\" + text + \"&country=JP&media=music&lang=ja_jp\";\n                    mRequestQueue.add(new JsonObjectRequest(Request.Method.GET, url,\n                            new Response.Listener<JSONObject>() {\n                                @Override\n                                public void onResponse(JSONObject response) {\n                                    Log.d(\"\", response.toString());\n\n                                    mAdapter.clear();\n\n                                    JSONArray results = response.optJSONArray(\"results\");\n                                    if (results != null) {\n                                        for (int i = 0; i < results.length(); i++) {\n                                            mAdapter.add(results.optJSONObject(i));\n                                        }\n                                    }\n                                }\n                            },\n                            null));\n                }\n                return true;\n            }\n            return false;\n        }\n    }\n```\n\n\u3055\u3089\u306b\u3001onCreate(Bundle)\u306e\u4e2d\u306b\n\n```java\n        final EditText editText = (EditText) findViewById(R.id.edit_text);\n        editText.setOnKeyListener(new OnKeyListener());\n```\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u5148\u307b\u3069\u4f5c\u3063\u305fOnKeyListener\u3092EditText\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\n\u3053\u3053\u307e\u3067\u3067\u3001ListActivity.java\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u308b\u306f\u305a\u3067\u3059\u3002\u5148\u982d\u884c\u306epackage\u306e\u884c\u306f\u66f8\u3044\u3066\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30d4\u30da\u3059\u308b\u3068\u304d\u306fpackage\u306e\u884c\u3092\u6d88\u3055\u306a\u3044\u3088\u3046\u306b\u6c17\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n```java\nimport android.app.Activity;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.toolbox.ImageLoader;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONArray;\nimport org.json.JSONObject;\n\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\n\n\npublic class ListActivity extends Activity {\n\n    private RequestQueue mRequestQueue;\n    private ImageLoader mImageLoader;\n\n    private ListAdapter mAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_list);\n\n        mRequestQueue = Volley.newRequestQueue(this);\n        mImageLoader = new ImageLoader(mRequestQueue, new LruImageCache());\n\n        mAdapter = new ListAdapter(this, R.layout.list_item);\n        ListView listView = (ListView) findViewById(R.id.list_view);\n        listView.setAdapter(mAdapter);\n    }\n\n    private class ListAdapter extends ArrayAdapter<JSONObject> {\n\n        public ListAdapter(Context context, int resource) {\n            super(context, resource);\n        }\n\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent) {\n            if (convertView == null) {\n                // \u518d\u5229\u7528\u53ef\u80fd\u306aView\u304c\u306a\u3044\u5834\u5408\u306f\u4f5c\u308b\n                convertView = getLayoutInflater().inflate(R.layout.list_item, null);\n            }\n\n            ImageView imageView = (ImageView) convertView.findViewById(R.id.image_view);\n            TextView trackTextView = (TextView) convertView.findViewById(R.id.track_text_view);\n            TextView artistTextView = (TextView) convertView.findViewById(R.id.artist_text_view);\n\n            ImageLoader.ImageContainer imageContainer = (ImageLoader.ImageContainer) imageView.getTag();\n            if (imageContainer != null) {\n                imageContainer.cancelRequest(); // \u753b\u50cf\u53d6\u5f97\u4e2d\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b\uff08\u518d\u5229\u7528\u3055\u308c\u305f\u6642\uff09\n            }\n            imageView.setImageBitmap(null); // \u6b8b\u3063\u3066\u308b\u753b\u50cf\u3092\u6d88\u3059\uff08\u518d\u5229\u7528\u3055\u308c\u305f\u6642\uff09\n\n            // \u8868\u793a\u3059\u308b\u884c\u756a\u53f7\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\n            JSONObject result = getItem(position);\n\n            ImageLoader.ImageListener listener = ImageLoader.getImageListener(imageView, 0, 0);\n            imageView.setTag(mImageLoader.get(result.optString(\"artworkUrl100\"), listener));\n\n            trackTextView.setText(result.optString(\"trackName\"));\n            artistTextView.setText(result.optString(\"artistName\"));\n\n            return convertView;\n        }\n    }\n\n    private class OnKeyListener implements View.OnKeyListener {\n\n        @Override\n        public boolean onKey(View view, int keyCode, KeyEvent keyEvent) {\n            if (keyEvent.getAction() == KeyEvent.ACTION_UP && keyCode == KeyEvent.KEYCODE_ENTER) {\n                EditText editText = (EditText) view;\n\n                // \u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u9589\u3058\u308b\n                InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(editText.getWindowToken(), 0);\n\n                String text = editText.getText().toString();\n                try {\n                    // url encode\u3000\u4f8b. \u30b9\u30d4\u30c3\u30c4 > %83X%83s%83b%83c\n                    text = URLEncoder.encode(text, \"UTF-8\");\n                } catch (UnsupportedEncodingException e) {\n                    Log.e(\"\", e.toString(), e);\n                    return true;\n                }\n                if (!TextUtils.isEmpty(text)) {\n                    String url =\n                            \"https://itunes.apple.com/search?term=\" + text + \"&country=JP&media=music&lang=ja_jp\";\n                    mRequestQueue.add(new JsonObjectRequest(Request.Method.GET, url,\n                            new Response.Listener<JSONObject>() {\n                                @Override\n                                public void onResponse(JSONObject response) {\n                                    Log.d(\"\", response.toString());\n\n                                    mAdapter.clear();\n\n                                    JSONArray results = response.optJSONArray(\"results\");\n                                    if (results != null) {\n                                        for (int i = 0; i < results.length(); i++) {\n                                            mAdapter.add(results.optJSONObject(i));\n                                        }\n                                    }\n                                }\n                            },\n                            null));\n                }\n                return true;\n            }\n            return false;\n        }\n    }\n}\n```\n\n## \u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\n# \u8a73\u7d30\u753b\u9762\u306b\u9077\u79fb\u3057\u3066\u3001\u8a66\u8074\u3059\u308b\n## \u8a73\u7d30\u753b\u9762\u306eClass\u3092\u4f5c\u308b\n\u30eb\u30fc\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001New > Activity > Blank Activity\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 18.16.19.png](https://qiita-image-store.s3.amazonaws.com/0/80314/760e4f86-b3a4-ff69-0b73-2a47e5e1dbd2.png)\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 18.16.32.png](https://qiita-image-store.s3.amazonaws.com/0/80314/2ddff94d-31d6-0310-986c-4e807ad738fd.png)\n\n\u4eca\u56de\u306f\u30e1\u30cb\u30e5\u30fc\u3092\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001DetailActivity\u306eonCreateOptionsMenu(Menu)\u3068onOptionsItemSelected(MenuItem)\u306f\u524a\u9664\u3057\u3066\u3044\u3044\u3067\u3059\u3002menu_detail.xml\u3082\u524a\u9664\u3057\u3066\u3044\u3044\u3067\u3059\u3002\n\n## \u8a73\u7d30\u753b\u9762\u306eLayout XML\u3092\u66f8\u304f\nactivity_detail.xml\u3092\u958b\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\n\n```java\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                xmlns:tools=\"http://schemas.android.com/tools\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                tools:context=\"com.example.kentoriumi.itunesmusicsearch.DetailActivity\">\n\n    <VideoView android:id=\"@+id/video_view\"\n               android:layout_width=\"match_parent\"\n               android:layout_height=\"match_parent\"/>\n\n</RelativeLayout>\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-06-03 18.22.23.png](https://qiita-image-store.s3.amazonaws.com/0/80314/29a0630b-d3b4-fa0f-253f-0bdc4ccc39af.png)\n\n## \u4e00\u89a7\u753b\u9762\u304b\u3089\u8a73\u7d30\u753b\u9762\u306b\u9077\u79fb\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\nListActivity.java\u3092\u958b\u3044\u3066\u3001ListActivity\u306e\u4e2d\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002import\u306e\u8ffd\u52a0\u3092\u805e\u304b\u308c\u305f\u3089OK\u3057\u3066\u304f\u3060\u3055\u3044\u3002AdapterView.OnItemClickListener\u306f\u3001ListView\u306e\u884c\u304c\u30bf\u30c3\u30d7\u3055\u308c\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u3068\u3053\u308d\u3067\u3059\u3002\u30bf\u30c3\u30d7\u3055\u308c\u305f\u884c\u756a\u53f7\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3057\u3001\u5fc5\u8981\u306a\u30c7\u30fc\u30bf\u3092\u8a73\u7d30\u753b\u9762\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\n```java\n    private class OnItemClickListener implements AdapterView.OnItemClickListener {\n\n        @Override\n        public void onItemClick(AdapterView<?> adapterView, View view, int position, long id) {\n            Intent intent = new Intent(ListActivity.this, DetailActivity.class);\n\n            // \u30bf\u30c3\u30d7\u3055\u308c\u305f\u884c\u756a\u53f7\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u51fa\u3059\n            JSONObject result = mAdapter.getItem(position);\n            intent.putExtra(\"track_name\", result.optString(\"trackName\"));\n            intent.putExtra(\"preview_url\", result.optString(\"previewUrl\"));\n\n            startActivity(intent);\n        }\n    }\n```\n\n\u3055\u3089\u306b\u3001onCreate(Bundle)\u306e\u4e2d\u306b\n\n```java\n        listView.setOnItemClickListener(new OnItemClickListener());\n```\n\n\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u5148\u307b\u3069\u4f5c\u3063\u305fOnItemClickListener\u3092ListView\u306b\u8a2d\u5b9a\u3057\u3066\u307e\u3059\u3002\n\n## \u8a73\u7d30\u753b\u9762\u3067\u8a66\u8074\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\nDetailActivity.java\u3092\u958b\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u307e\u3059\u3002\u5148\u982d\u884c\u306epackage\u306e\u884c\u306f\u66f8\u3044\u3066\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30d4\u30da\u3059\u308b\u3068\u304d\u306fpackage\u306e\u884c\u3092\u6d88\u3055\u306a\u3044\u3088\u3046\u306b\u6c17\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n```java\nimport android.app.Activity;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.widget.MediaController;\nimport android.widget.VideoView;\n\n\npublic class DetailActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_detail);\n\n        // ActionBar\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u8a2d\u5b9a\u3059\u308b\n        String trackName = getIntent().getExtras().getString(\"track_name\");\n        getActionBar().setTitle(trackName);\n\n        String previewUrl = getIntent().getExtras().getString(\"preview_url\");\n        if (!TextUtils.isEmpty(previewUrl)) {\n            VideoView videoView = (VideoView) findViewById(R.id.video_view);\n            videoView.setMediaController(new MediaController(this)); // \u518d\u751f\u30dc\u30bf\u30f3\u3068\u304b\u3092\u3064\u3051\u308b\n            videoView.setVideoURI(Uri.parse(previewUrl)); // URL\u3092\u8a2d\u5b9a\u3059\u308b\n            videoView.start(); // \u518d\u751f\u3059\u308b\n        }\n    }\n}\n```\n\n## \u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\n\n\u304a\u308f\u308a\u3002\u304a\u75b2\u308c\u3055\u307e\u3067\u3057\u305f\u3002\n\n# \u5b8c\u6210\u54c1\u306f\u3053\u3053\u306b\u3042\u308a\u307e\u3059\nAndroidStudio\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001Eclipse\u306e\u5834\u5408\u306f\u3054\u306b\u3087\u3054\u306b\u3087\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://codebreak.com/git/kenchan1837/iTunesMusicSearchAndroid/\n", "tags": ["Android", "AndroidStudio", "Volley", "gradle"]}