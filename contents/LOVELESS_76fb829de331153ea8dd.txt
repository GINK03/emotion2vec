{"context": "\n\n\u6982\u8981\nAndroid \u304b\u3089 MySQL \u30b5\u30fc\u30d0\u30fc\u306b Web\u30b5\u30fc\u30d0\u30fc\u3092\u4ecb\u3055\u305a\u76f4\u63a5\u63a5\u7d9a\u3059\u308b\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u958b\u767a\u74b0\u5883\nUbuntu Server 16.04 LTS\nMySQL 5.7.17-0ubuntu0.16.04.1(Ubuntu)\nWindows10 Pro 64bit + AndroidStudio2.2.3\nmysql-connector-java-5.0.8-bin.jar\n\nMySQL \u30b5\u30fc\u30d0\u30fc\u306e\u6e96\u5099\n\nMySQL server listening address \u3092 127.0.0.1 \u304b\u3089 0.0.0.0 \u306b\u5909\u66f4\uff08\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u5f85\u3061\u53d7\u3051\u5909\u66f4\uff09\niptables \u306b\u3066 TCP \u304b\u3064\u5b9b\u5148\u30dd\u30fc\u30c8\u304c 3306 \u3092\u8a31\u53ef\uff08\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u5909\u66f4\uff09\nMySQL \u306b\u5916\u90e8\u63a5\u7d9a\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\u3002\u4eca\u56de\u306f DHCP \u306a\u3069\u3067\u632f\u3089\u308c\u305f\u4efb\u610f\u306e\u30ed\u30fc\u30ab\u30eb\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u63a5\u7d9a\u3055\u305b\u305f\u3044\u306e\u3067\u300c%\u300d\u3067\u3059\u3079\u3066\u306e\u30db\u30b9\u30c8\u3092\u6307\u5b9a\u3068\u3057\u305f\n\n\nAndroid \u304b\u3089 MySQL \u306b\u63a5\u7d9a\u3059\u308b\u6e96\u5099\n\nAndroid Studio \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u306e\u30d3\u30e5\u30fc\u3092 Project \u306b\u5909\u66f4\u3057\u3001app/libs \u76f4\u4e0b\u306b mysql-connector-java-5.0.8-bin.jar \u3092\u914d\u7f6e\u3002\u3082\u3063\u3068\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u3051\u3069\u3001\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u3093\u3060\u7406\u7531\u306f Android \u3067\u306f\u3042\u307e\u308a\u65b0\u3057\u3044\u3068\u30a8\u30e9\u30fc\u3067\u52d5\u4f5c\u3057\u306a\u3044\u305f\u3081\u3002\napp \u76f4\u4e0b\u306e build.gradle \u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u3001\u4e0a\u90e8\u306b Sync Now \u3068\u51fa\u305f\u3089\u30af\u30ea\u30c3\u30af\n\ndependencies {\n // \u8ffd\u8a18\n compile files(\"libs/mysql-connector-java-5.0.8-bin.jar\")\n}\n\n\napp/src/main/AndroidManifest.xml \u306e <application \u306e\u524d\u3042\u305f\u308a\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\n// \u8ffd\u8a18\n<uses-permission android:name=\"android.permission.INTERNET\" />\n\n<application\n\n\nAndroid \u304b\u3089 MySQL \u306b\u63a5\u7d9a\u3057\u3066\u307f\u308b\n\ndatabase\n\u4eca\u56de\u306f\u3086\u308b\u3081\u308b\u30e2\uff01\u306e\u30e1\u30f3\u30d0\u30fc\u30ea\u30b9\u30c8\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\uff1ayuru\uff0f\u30c6\u30fc\u30d6\u30eb\u540d\uff1amember\n\n\nMainActivity.java\nMySQL \u306b\u63a5\u7d9a\u3059\u308b\u30c8\u30ea\u30ac\u30fc\u3068\u306a\u308b Button \u3068 \u7d50\u679c\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30c6\u30ca textView \u3092\u7528\u610f\u3057\u307e\u3059\u3002\u672c\u6765\u306f ListView \u3042\u305f\u308a\u3092\u60f3\u5b9a\u3057\u307e\u3059\u304c\u30a2\u30c0\u30d7\u30bf\u4f5c\u6210\u304c\u9762\u5012\u3060\u3063\u305f\u306e\u3067\u4eca\u56de\u306f\u30c6\u30ad\u30b9\u30c8\u3067\u3002\n\u30c7\u30fc\u30bf\u901a\u4fe1\u306f\u975e\u540c\u671f\u3067\u884c\u3044\u307e\u3059\u3002SQL \u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u306f LinkedHashMap \u3067\u9806\u756a\u306b\u683c\u7d0d\u3057\u3001onPostExecute \u306b\u6e21\u3057\u3066\u7d50\u679c\u3092 textView \u306b\u8868\u793a\u3055\u305b\u307e\u3059\u3002\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void testButton(View view) {\n        MyAsyncTask task = new MyAsyncTask();\n        task.execute();\n    }\n\n    public class MyAsyncTask extends AsyncTask<Void, Void, Map<Integer,String>> {\n\n        @Override\n        protected Map<Integer,String> doInBackground(Void... params) {\n            Map<Integer,String> map = new LinkedHashMap<Integer,String>();\n            try {\n                Class.forName(\"com.mysql.jdbc.Driver\");\n                Connection con = DriverManager.getConnection(\"jdbc:mysql://192.168.1.42/yuru\", \"net\", \"net\");\n                Statement stmt = con.createStatement();\n                String sql = \"select * from member\";\n                ResultSet rs = stmt.executeQuery(sql);\n                while(rs.next()) {\n                    map.put(rs.getInt(\"id\"), rs.getString(\"name\"));\n                }\n                stmt.close();\n                con.close();\n            } catch(Exception e) {\n            }\n            return map;\n        }\n\n        protected void onPostExecute(Map<Integer,String> map) {\n            TextView tv = (TextView)findViewById(R.id.textView);\n            StringBuilder sb = new StringBuilder();\n            for(Map.Entry<Integer, String> entry : map.entrySet()) {\n                sb.append(entry.getKey() + \":\" + entry.getValue() + \"\\r\\n\");\n            }\n            tv.setText(sb);\n        }\n\n    }\n\n}\n\n\u6700\u4f4e\u9650\u306e\u30b3\u30fc\u30c9\u3067\u3059\u306e\u3067\u7279\u306b\u8aac\u660e\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u3053\u3093\u306a\u611f\u3058\u3002\u3061\u306a\u307f\u306b\u3051\u3061\u3087\u3093\u63a8\u3057\u3067\u3059w\n#\u6982\u8981\nAndroid \u304b\u3089 MySQL \u30b5\u30fc\u30d0\u30fc\u306b Web\u30b5\u30fc\u30d0\u30fc\u3092\u4ecb\u3055\u305a\u76f4\u63a5\u63a5\u7d9a\u3059\u308b\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n#\u958b\u767a\u74b0\u5883\nUbuntu Server 16.04 LTS\nMySQL 5.7.17-0ubuntu0.16.04.1(Ubuntu)\nWindows10 Pro 64bit + AndroidStudio2.2.3\nmysql-connector-java-5.0.8-bin.jar\n\n#MySQL \u30b5\u30fc\u30d0\u30fc\u306e\u6e96\u5099\n- MySQL server listening address \u3092 127.0.0.1 \u304b\u3089 0.0.0.0 \u306b\u5909\u66f4\uff08\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u5f85\u3061\u53d7\u3051\u5909\u66f4\uff09\n- iptables \u306b\u3066 TCP \u304b\u3064\u5b9b\u5148\u30dd\u30fc\u30c8\u304c 3306 \u3092\u8a31\u53ef\uff08\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u5909\u66f4\uff09\n- MySQL \u306b\u5916\u90e8\u63a5\u7d9a\u3059\u308b\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\u3002\u4eca\u56de\u306f DHCP \u306a\u3069\u3067\u632f\u3089\u308c\u305f\u4efb\u610f\u306e\u30ed\u30fc\u30ab\u30eb\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u63a5\u7d9a\u3055\u305b\u305f\u3044\u306e\u3067\u300c%\u300d\u3067\u3059\u3079\u3066\u306e\u30db\u30b9\u30c8\u3092\u6307\u5b9a\u3068\u3057\u305f\n\n#Android \u304b\u3089 MySQL \u306b\u63a5\u7d9a\u3059\u308b\u6e96\u5099\n- Android Studio \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30a8\u30af\u30b9\u30d7\u30ed\u30fc\u30e9\u30fc\u306e\u30d3\u30e5\u30fc\u3092 Project \u306b\u5909\u66f4\u3057\u3001app/libs \u76f4\u4e0b\u306b mysql-connector-java-5.0.8-bin.jar \u3092\u914d\u7f6e\u3002\u3082\u3063\u3068\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u3051\u3069\u3001\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u3093\u3060\u7406\u7531\u306f Android \u3067\u306f\u3042\u307e\u308a\u65b0\u3057\u3044\u3068\u30a8\u30e9\u30fc\u3067\u52d5\u4f5c\u3057\u306a\u3044\u305f\u3081\u3002\n- app \u76f4\u4e0b\u306e build.gradle \u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u3001\u4e0a\u90e8\u306b Sync Now \u3068\u51fa\u305f\u3089\u30af\u30ea\u30c3\u30af\n\n```java\ndependencies {\n // \u8ffd\u8a18\n compile files(\"libs/mysql-connector-java-5.0.8-bin.jar\")\n}\n```\n- app/src/main/AndroidManifest.xml \u306e <application \u306e\u524d\u3042\u305f\u308a\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\n```java\n// \u8ffd\u8a18\n<uses-permission android:name=\"android.permission.INTERNET\" />\n\n<application\n```\n\n#Android \u304b\u3089 MySQL \u306b\u63a5\u7d9a\u3057\u3066\u307f\u308b\n\n##database\n\u4eca\u56de\u306f**\u3086\u308b\u3081\u308b\u30e2\uff01**\u306e\u30e1\u30f3\u30d0\u30fc\u30ea\u30b9\u30c8\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\uff1ayuru\uff0f\u30c6\u30fc\u30d6\u30eb\u540d\uff1amember\n\n![table.png](https://qiita-image-store.s3.amazonaws.com/0/98753/3922f617-8ccb-775f-c2b3-09e7a11c8879.png)\n\n##MainActivity.java\nMySQL \u306b\u63a5\u7d9a\u3059\u308b\u30c8\u30ea\u30ac\u30fc\u3068\u306a\u308b Button \u3068 \u7d50\u679c\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30c6\u30ca textView \u3092\u7528\u610f\u3057\u307e\u3059\u3002\u672c\u6765\u306f ListView \u3042\u305f\u308a\u3092\u60f3\u5b9a\u3057\u307e\u3059\u304c\u30a2\u30c0\u30d7\u30bf\u4f5c\u6210\u304c\u9762\u5012\u3060\u3063\u305f\u306e\u3067\u4eca\u56de\u306f\u30c6\u30ad\u30b9\u30c8\u3067\u3002\n\n\u30c7\u30fc\u30bf\u901a\u4fe1\u306f\u975e\u540c\u671f\u3067\u884c\u3044\u307e\u3059\u3002SQL \u304b\u3089\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u306f LinkedHashMap \u3067\u9806\u756a\u306b\u683c\u7d0d\u3057\u3001onPostExecute \u306b\u6e21\u3057\u3066\u7d50\u679c\u3092 textView \u306b\u8868\u793a\u3055\u305b\u307e\u3059\u3002\n\n```java\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void testButton(View view) {\n        MyAsyncTask task = new MyAsyncTask();\n        task.execute();\n    }\n\n    public class MyAsyncTask extends AsyncTask<Void, Void, Map<Integer,String>> {\n\n        @Override\n        protected Map<Integer,String> doInBackground(Void... params) {\n            Map<Integer,String> map = new LinkedHashMap<Integer,String>();\n            try {\n                Class.forName(\"com.mysql.jdbc.Driver\");\n                Connection con = DriverManager.getConnection(\"jdbc:mysql://192.168.1.42/yuru\", \"net\", \"net\");\n                Statement stmt = con.createStatement();\n                String sql = \"select * from member\";\n                ResultSet rs = stmt.executeQuery(sql);\n                while(rs.next()) {\n                    map.put(rs.getInt(\"id\"), rs.getString(\"name\"));\n                }\n                stmt.close();\n                con.close();\n            } catch(Exception e) {\n            }\n            return map;\n        }\n\n        protected void onPostExecute(Map<Integer,String> map) {\n            TextView tv = (TextView)findViewById(R.id.textView);\n            StringBuilder sb = new StringBuilder();\n            for(Map.Entry<Integer, String> entry : map.entrySet()) {\n                sb.append(entry.getKey() + \":\" + entry.getValue() + \"\\r\\n\");\n            }\n            tv.setText(sb);\n        }\n\n    }\n\n}\n```\n\n\u6700\u4f4e\u9650\u306e\u30b3\u30fc\u30c9\u3067\u3059\u306e\u3067\u7279\u306b\u8aac\u660e\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n![s_apk.png](https://qiita-image-store.s3.amazonaws.com/0/98753/7e05fc37-7895-c795-77c6-5b6c2fc90aee.png)\n\n\u3053\u3093\u306a\u611f\u3058\u3002\u3061\u306a\u307f\u306b\u3051\u3061\u3087\u3093\u63a8\u3057\u3067\u3059w\n\n", "tags": ["androidstudio2.2.3", "mysql5.7"]}