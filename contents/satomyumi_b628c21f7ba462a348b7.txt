{"context": " More than 1 year has passed since last update.\u3053\u306e\u8a18\u4e8b\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30a2\u30af\u30bb\u30b9\u74b0\u5883\u306f\u6574\u3044\u307e\u3057\u524d\u56de\u306e\u8a18\u4e8b\u3067\u3001\u57fa\u672c\u7684\u306a\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u306f\u6574\u3044\u307e\u3057\u305f\u3002\n\u6b21\u306f\u3001\u30d5\u30a1\u30a4\u30e4\u30fc\u30a6\u30a9\u30fc\u30eb\u3068\u65e5\u672c\u8a9e\u5316\u3068\u30b7\u30a7\u30eb\u6307\u5b9a\u306a\u3069\u3002\n\nIPTABLES\u306e\u8a2d\u5b9a\n\u307e\u305a\u65b9\u91dd\u3092\u6c7a\u3081\u308b\u3002\n1. \u81ea\u5206\u306e\u30db\u30b9\u30c8\u304b\u3089\u306e\u901a\u4fe1\u3092\u901a\u3059\n2. \u5916\u304b\u3089\u306eping\u306f\u901a\u3059\n3. \u5916\u304b\u3089\u306eSSH\u306f\u901a\u3059\n4. \u305d\u308c\u4ee5\u5916\u306e\u5916\u304b\u3089\u306e\u901a\u4fe1\u306f\u53d7\u3051\u4ed8\u3051\u306a\u3044\n5. \u4e2d\u304b\u3089\u5916\u3078\u51fa\u3066\u3044\u304f\u901a\u4fe1\u306f\u3059\u3079\u3066\u901a\u3059\n\n\n\u5168\u4f53\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3002/etc/sysconfig/iptables\nSSH/HTTP/HTTPS\u7528\u306e\u30dd\u30fc\u30c8\u306e\u307f\u516c\u958b\u3057\u3001\u305d\u308c\u4ee5\u5916\u306e\u30dd\u30fc\u30c8\u3092\u62d2\u5426\u3059\u308b\u8a2d\u5b9a\u3092\u3059\u308b\u3002\nsudo vim /etc/sysconfig/iptables\u3092\u5b9f\u884c\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u69d8\u306b\u7de8\u96c6\u3002\n\uff08\u30c7\u30d5\u30a9\u3067\u306f\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\u5834\u5408\u3082\u3042\u308b....\uff09\n\n/etc/sysconfig/iptables\n*filter\n# \u30a4\u30f3\u30d7\u30c3\u30c8\u30c1\u30a7\u30fc\u30f3\u306e\u5b9a\u7fa9\n:INPUT ACCEPT [0:0]\n# \u30d5\u30a9\u30ef\u30fc\u30c9\u30c1\u30a7\u30fc\u30f3\u306e\u5b9a\u7fa9\n:FORWARD ACCEPT [0:0]\n# \u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u30c1\u30a7\u30fc\u30f3\u306e\u5b9a\u7fa9\n:OUTPUT ACCEPT [0:0]\n# RH-Firewall-1-INPUT \u30c1\u30a7\u30fc\u30f3\u306e\u5b9a\u7fa9\n:RH-Firewall-1-INPUT - [0:0]\n# INPUT\u30c1\u30a7\u30fc\u30f3\u306b\u6765\u305f\u3082\u306e\u306f\u3059\u3079\u3066\u7121\u6761\u4ef6\u306bRH-Firewall-1-INPUT\u30c1\u30a7\u30fc\u30f3\u3078\u8ee2\u9001\u3059\u308b\n-A INPUT -j RH-Firewall-1-INPUT\n# FORWARD\u30c1\u30a7\u30fc\u30f3\u306b\u6765\u305f\u3082\u306e\u306f\u3059\u3079\u3066\u7121\u6761\u4ef6\u306bRH-Firewall-1-INPUT\u30c1\u30a7\u30fc\u30f3\u3078\u8ee2\u9001\u3059\u308b\n-A FORWARD -j RH-Firewall-1-INPUT\n# \u30eb\u30fc\u30d7\u30d0\u30c3\u30af\u306f\u901a\u3059\u3002\u81ea\u30db\u30b9\u30c8\u304b\u3089\u306e\u901a\u4fe1\u306f\u554f\u7b54\u7121\u7528\u3067\u5168\u90e8\u901a\u3059\n-A RH-Firewall-1-INPUT -i lo -j ACCEPT\n# ping\u306f\u901a\u3059\u3002\u30d7\u30ed\u30c8\u30b3\u30eb\u304cICMP\u306a\u3089\u901a\u3059\n-A RH-Firewall-1-INPUT -p icmp --icmp-type any -j ACCEPT\n\n-A RH-Firewall-1-INPUT -p 50 -j ACCEPT\n-A RH-Firewall-1-INPUT -p 51 -j ACCEPT\n-A RH-Firewall-1-INPUT -p udp --dport 5353 -d 224.0.0.251 -j ACCEPT\n-A RH-Firewall-1-INPUT -p udp -m udp --dport 631 -j ACCEPT\n-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 631 -j ACCEPT\n\n# \u78ba\u7acb\u6e08\u307f\u306e\u901a\u4fe1\u306f\u901a\u3057\u3066\u3084\u308b\u3002\u3069\u3053\u304b\u3089\u6765\u305f\u306e\u304b\u3001\u3069\u306e\u30dd\u30fc\u30c8\u5b9b\u3066\u306a\u306e\u304b\u3001\u306f\u6c17\u306b\u305b\u305a\u3001\u3059\u3067\u306b\u78ba\u7acb\u6e08\u307f\u306a\u3089\u901a\u3057\u3066\u3084\u308b\n# \u3053\u308c\u306b\u7d9a\u304f\u8a18\u8ff0\u3067\u901a\u4fe1\u3092\u78ba\u7acb\u3055\u305b\u308b\u304b\u3069\u3046\u304b\u3092\u8a2d\u5b9a\n-A RH-Firewall-1-INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n\n# SSH ( SSH_PORT \u306f\u5148\u306b\u81ea\u5206\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\u3092\u6307\u5b9a )\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 3103 -j ACCEPT\n\n# HTTP, HTTPS\n# RH-Firewall-1-INPUT\u30c1\u30a7\u30fc\u30f3\u5185\u306e\u30eb\u30fc\u30eb\u8a2d\u5b9a\u3067\u3001\u5916\u90e8\u304b\u3089\u306e80\u756a\u3068443\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 443 -j ACCEPT\n# \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u3046\u3068\u304d\u306b\u4f55\u304b\u3068\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u4e00\u5fdc\u958b\u3051\u3066\u304a\u304f\u3002\u5fc5\u8981\u306a\u3051\u308c\u3070\u6d88\u3059\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 3000 -j ACCEPT\n# \u3053\u3053\u3082\u5fc5\u8981\u306a\u3051\u308c\u3070\u6d88\u3059\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 6000 -j ACCEPT\n\n# RH-Firewall-1-INPUT \u30c1\u30a7\u30fc\u30f3\u5185\u306e\u3069\u306e\u30eb\u30fc\u30eb\u306b\u3082\u30de\u30c3\u30c1\u3057\u306a\u304b\u3063\u305f\u30d1\u30b1\u30c3\u30c8\u306f\u3001icmp-host-prohibited\u30a8\u30e9\u30fc\u3092\u8fd4\u3059\n-A RH-Firewall-1-INPUT -j REJECT --reject-with icmp-host-prohibited\nCOMMIT\n\n\n\niptables\u3092\u518d\u8d77\u52d5\u3057\u3066\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u308b\u3002\n# sudo service iptables restart  \u3082\u3057\u304f\u306f  /etc/init.d/iptables restart\n\niptables: Flushing firewall rules:                         [  OK  ]\niptables: Setting chains to policy ACCEPT: filter          [  OK  ]\niptables: Unloading modules:                               [  OK  ]\niptables: Applying firewall rules:                         [  OK  ]\n\n\u4e0a\u306e\u3088\u3046\u306b\u306a\u308c\u3070\u8a2d\u5b9a\u6210\u529f\u3067\u3059\niptable\u306e\u518d\u8d77\u52d5\u6642\u306b\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3089\u3001\u305d\u306e\u884c\u672b\u306b\u7a7a\u767d\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3002\n\u5168\u89d2\u3082\u4e00\u5fdc\u30c1\u30a7\u30c3\u30af\u3002\n\u30b5\u30fc\u30d0\u306e\u8d77\u52d5\u6642\u306b\u4e00\u7dd2\u306biptable\u3092\u8d77\u52d5\u3055\u305b\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3002\n\n\u81ea\u52d5\u8d77\u52d5\u306e\u8a2d\u5b9a\u78ba\u8a8d\u3002\n% sudo chkconfig iptables on\n\n% /sbin/chkconfig --list iptables\n#=> iptables        0:off   1:off   2:on    3:on    4:on    5:on    6:off \u3068\u306a\u3063\u3066\u3044\u308c\u3070\u6210\u529f\u3067\u3059\n\nref) http://okwave.jp/qa/q6986608.html\n\nzsh\u306e\u8a2d\u5b9a\noh-my-zsh\u3092\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001UI\u3084\u64cd\u4f5c\u6027\u304c\u3057\u3063\u304f\u308a\u3053\u306a\u304b\u3063\u305f\u306e\u3067\u6b62\u3081\u3066\u3001.zshrc\u3092\u3044\u3058\u308a\u307e\u3057\u305f\u3002\n\uff08\u4ee5\u4e0b\u306e\u306f\u3044\u308d\u3093\u306a\u65b9\u306e\u60c5\u5831\u306e\u5bc4\u305b\u96c6\u3081(|| \u00d7\uff4d\u00d7) \u65e9\u304f\u81ea\u7531\u306b\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u51fa\u6765\u308b\u69d8\u306b\u306a\u308a\u305f\u3044... \uff09\nref) \nhttp://d.hatena.ne.jp/oovu70/20120405/p1\nhttp://news.mynavi.jp/column/zsh/index.html\nhttps://github.com/bpymasinn/Config/blob/master/.zshrc\n\n\u307e\u305a\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n.zshrc \u306e\u8a2d\u5b9a\n\n~/.zshrc\n\n# ------------------------------\n# General Settings\n# ------------------------------\n\nexport EDITOR=vim        # \u30a8\u30c7\u30a3\u30bf\u3092vim\u306b\u8a2d\u5b9a\nexport LANG=ja_JP.UTF-8  # \u6587\u5b57\u30b3\u30fc\u30c9\u3092UTF-8\u306b\u8a2d\u5b9a\nexport KCODE=u           # KCODE\u306bUTF-8\u3092\u8a2d\u5b9a\nexport AUTOFEATURE=true \n\nbindkey -e               # \u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u3092emacs\u30e2\u30fc\u30c9\u306b\u8a2d\u5b9a\n\nsetopt no_beep           # \u30d3\u30fc\u30d7\u97f3\u3092\u6d88\u3059\nsetopt auto_cd           # \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306e\u5165\u529b\u306e\u307f\u3067\u79fb\u52d5\nsetopt auto_pushd        \nsetopt correct           # \u30b3\u30de\u30f3\u30c9\u306e\u30b9\u30da\u30eb\u3092\u8a02\u6b63\nsetopt magic_equal_subst # =\u4ee5\u964d\u3082\u88dc\u5b8c\u3059\u308b(--prefix=/usr\u306a\u3069)\nsetopt prompt_subst      # \u30d7\u30ed\u30f3\u30d7\u30c8\u5b9a\u7fa9\u5185\u3067\u5909\u6570\u7f6e\u63db\u3084\u30b3\u30de\u30f3\u30c9\u7f6e\u63db\u3092\u6271\u3046\nsetopt notify            # \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30b8\u30e7\u30d6\u306e\u72b6\u614b\u5909\u5316\u3092\u5373\u6642\u5831\u544a\nsetopt equals            # =command\u3092`which command`\u3068\u540c\u3058\u51e6\u7406\n\n### Complement ###\nautoload -U compinit; compinit # \u88dc\u5b8c\u6a5f\u80fd\u3092\u6709\u52b9\nsetopt auto_list               # \u88dc\u5b8c\u5019\u88dc\u3092\u4e00\u89a7\u3067\u8868\u793a(d)\nsetopt auto_menu               # \u88dc\u5b8c\u30ad\u30fc\u9023\u6253\u3067\u88dc\u5b8c\u5019\u88dc\u3092\u9806\u306b\u8868\u793a(d)\nsetopt list_packed             # \u88dc\u5b8c\u5019\u88dc\u3092\u3067\u304d\u308b\u3060\u3051\u8a70\u3081\u3066\u8868\u793a\nsetopt list_types              # \u88dc\u5b8c\u5019\u88dc\u306b\u30d5\u30a1\u30a4\u30eb\u306e\u7a2e\u985e\u3082\u8868\u793a\nbindkey \"^[[Z\" reverse-menu-complete  # Shift-Tab\u3067\u88dc\u5b8c\u5019\u88dc\u3092\u9006\u9806(\"\\e[Z\"\u3067\u3082\u52d5\u4f5c\u3059\u308b)\nzstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}' # \u88dc\u5b8c\u6642\u306b\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u3092\u533a\u5225\u3057\u306a\u3044\n\nsetopt extended_glob\nunsetopt caseglob    # \u30d5\u30a1\u30a4\u30eb\u30b0\u30ed\u30d6\u3067\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u3092\u533a\u5225\u3057\u306a\u3044\n\n### History ###\nHISTFILE=~/.zsh_history   # \u30d2\u30b9\u30c8\u30ea\u3092\u4fdd\u5b58\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u8a2d\u5b9a\nHISTSIZE=10000            # \u30e1\u30e2\u30ea\u306b\u4fdd\u5b58\u3055\u308c\u308b\u30d2\u30b9\u30c8\u30ea\u306e\u4ef6\u6570\nSAVEHIST=10000            # \u4fdd\u5b58\u3055\u308c\u308b\u30d2\u30b9\u30c8\u30ea\u306e\u4ef6\u6570\nsetopt bang_hist          # !\u3092\u4f7f\u3063\u305f\u30d2\u30b9\u30c8\u30ea\u5c55\u958b(d)\nsetopt extended_history   # \u30d2\u30b9\u30c8\u30ea\u306b\u5b9f\u884c\u6642\u9593\u3082\u4fdd\u5b58\nsetopt hist_ignore_dups   # \u76f4\u524d\u3068\u540c\u3058\u30b3\u30de\u30f3\u30c9\u306f\u30d2\u30b9\u30c8\u30ea\u306b\u8ffd\u52a0\u3057\u306a\u3044\nsetopt share_history      # \u4ed6\u306e\u30b7\u30a7\u30eb\u306e\u30d2\u30b9\u30c8\u30ea\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u5171\u6709\nsetopt hist_reduce_blanks # \u4f59\u5206\u306a\u30b9\u30da\u30fc\u30b9\u3092\u524a\u9664\u3057\u3066\u30d2\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\n\n# \u30de\u30c3\u30c1\u3057\u305f\u30b3\u30de\u30f3\u30c9\u306e\u30d2\u30b9\u30c8\u30ea\u3092\u8868\u793a\nautoload history-search-end\nzle -N history-beginning-search-backward-end history-search-end\nzle -N history-beginning-search-forward-end history-search-end\nbindkey \"^P\" history-beginning-search-backward-end\nbindkey \"^N\" history-beginning-search-forward-end\n\n# \u3059\u3079\u3066\u306e\u30d2\u30b9\u30c8\u30ea\u3092\u8868\u793a\nfunction history-all { history -E 1 }\n\n# \u8272\u306e\u8a2d\u5b9a\nexport LSCOLORS=Exfxcxdxbxegedabagacad\n# \u88dc\u5b8c\u6642\u306e\u8272\u306e\u8a2d\u5b9a\nexport LS_COLORS='di=01;34:ln=01;35:so=01;32:ex=01;31:bd=46;34:cd=43;34:su=41;30:sg=46;30:tw=42;30:ow=43;30'\n# ZLS_COLORS\u3068\u306f\uff1f\nexport ZLS_COLORS=$LS_COLORS\nexport CLICOLOR=true\n# \u88dc\u5b8c\u5019\u88dc\u306b\u8272\u3092\u4ed8\u3051\u308b\nzstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}\n\n# \u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u8272\nautoload -U colors; colors\n# \u4e00\u822c\u30e6\u30fc\u30b6\u6642\ntmp_prompt=\"%{${fg[cyan]}%}%n%# %{${reset_color}%}\"\ntmp_prompt2=\"%{${fg[cyan]}%}%_> %{${reset_color}%}\"\ntmp_rprompt=\"%{${fg[green]}%}[%~]%{${reset_color}%}\"\ntmp_sprompt=\"%{${fg[yellow]}%}%r is correct? [Yes, No, Abort, Edit]:%{${reset_color}%}\"\n\n# root\u30e6\u30fc\u30b6\u6642(\u592a\u5b57\u306b\u3057\u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\nif [ ${UID} -eq 0 ]; then\n  tmp_prompt=\"%B%U${tmp_prompt}%u%b\"\n  tmp_prompt2=\"%B%U${tmp_prompt2}%u%b\"\n  tmp_rprompt=\"%B%U${tmp_rprompt}%u%b\"\n  tmp_sprompt=\"%B%U${tmp_sprompt}%u%b\"\nfi\n\nPROMPT=$tmp_prompt    # \u901a\u5e38\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\nPROMPT2=$tmp_prompt2  # \u30bb\u30ab\u30f3\u30c0\u30ea\u306e\u30d7\u30ed\u30f3\u30d7\u30c8(\u30b3\u30de\u30f3\u30c9\u304c2\u884c\u4ee5\u4e0a\u306e\u6642\u306b\u8868\u793a\u3055\u308c\u308b)\nRPROMPT=$tmp_rprompt  # \u53f3\u5074\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\nSPROMPT=$tmp_sprompt  # \u30b9\u30da\u30eb\u8a02\u6b63\u7528\u30d7\u30ed\u30f3\u30d7\u30c8\n# SSH\u30ed\u30b0\u30a4\u30f3\u6642\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\n[ -n \"${REMOTEHOST}${SSH_CONNECTION}\" ] &&\n  PROMPT=\"%{${fg[white]}%}${HOST%%.*} ${PROMPT}\"\n;\n\n### Title (user@hostname) ###\ncase \"${TERM}\" in\nkterm*|xterm*|)\n  precmd() {\n    echo -ne \"\\033]0;${USER}@${HOST%%.*}\\007\"\n  }\n  ;;\nesac\n\n# ------------------------------\n# Other Settings\n# ------------------------------\n### Aliases ###\nalias vi=vim # vi\u3063\u3066\u5165\u529b\u3057\u305f\u3089vim\u304c\u7acb\u3061\u4e0a\u304c\u308b\nalias history='history -E' # \u30d2\u30b9\u30c8\u30ea\u30fc\u306e\u6642\u523b\u8868\u793a\nalias   sl='ls -Fa'\nalias   ls='ls -Fa'\nalias   la='ls -a'\nalias   ll='ls -la'\nalias   dir='dir -pa'\nalias   rm='rm -i'\nalias   cp='cp -i'\nalias   mv='mv -i'\nalias   vi='vim'\nalias   less='lv'\n\n# cd\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u5f8c\u3001ls\u3092\u5b9f\u884c\u3059\u308b\nfunction cd() {\n  builtin cd $@ && ls;\n}\n\n\n\n\u8a2d\u5b9a\u306e\u53cd\u6620\n# \u30b7\u30a7\u30eb\u306e\u5909\u66f4\n% zsh \n# zshrc\u306e\u53cd\u6620\n% source ~/.zshrc\n\nref) http://morizyun.github.io/blog/sakura-vps-centos63-ssh-setup/\n[\u3053\u306e\u8a18\u4e8b](http://qiita.com/mugyuu/items/533f591cf5d79b81a3aa)\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30a2\u30af\u30bb\u30b9\u74b0\u5883\u306f\u6574\u3044\u307e\u3057\u524d\u56de\u306e\u8a18\u4e8b\u3067\u3001\u57fa\u672c\u7684\u306a\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u306f\u6574\u3044\u307e\u3057\u305f\u3002\n\n\u6b21\u306f\u3001\u30d5\u30a1\u30a4\u30e4\u30fc\u30a6\u30a9\u30fc\u30eb\u3068\u65e5\u672c\u8a9e\u5316\u3068\u30b7\u30a7\u30eb\u6307\u5b9a\u306a\u3069\u3002\n\n# IPTABLES\u306e\u8a2d\u5b9a\n\n\u307e\u305a\u65b9\u91dd\u3092\u6c7a\u3081\u308b\u3002\n\n```\n1. \u81ea\u5206\u306e\u30db\u30b9\u30c8\u304b\u3089\u306e\u901a\u4fe1\u3092\u901a\u3059\n2. \u5916\u304b\u3089\u306eping\u306f\u901a\u3059\n3. \u5916\u304b\u3089\u306eSSH\u306f\u901a\u3059\n4. \u305d\u308c\u4ee5\u5916\u306e\u5916\u304b\u3089\u306e\u901a\u4fe1\u306f\u53d7\u3051\u4ed8\u3051\u306a\u3044\n5. \u4e2d\u304b\u3089\u5916\u3078\u51fa\u3066\u3044\u304f\u901a\u4fe1\u306f\u3059\u3079\u3066\u901a\u3059\n````\n\n# \u5168\u4f53\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3002/etc/sysconfig/iptables\n\nSSH/HTTP/HTTPS\u7528\u306e\u30dd\u30fc\u30c8\u306e\u307f\u516c\u958b\u3057\u3001\u305d\u308c\u4ee5\u5916\u306e\u30dd\u30fc\u30c8\u3092\u62d2\u5426\u3059\u308b\u8a2d\u5b9a\u3092\u3059\u308b\u3002\nsudo vim /etc/sysconfig/iptables\u3092\u5b9f\u884c\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u69d8\u306b\u7de8\u96c6\u3002\n\uff08\u30c7\u30d5\u30a9\u3067\u306f\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u306a\u3044\u5834\u5408\u3082\u3042\u308b....\uff09\n\n```apache:/etc/sysconfig/iptables\n*filter\n# \u30a4\u30f3\u30d7\u30c3\u30c8\u30c1\u30a7\u30fc\u30f3\u306e\u5b9a\u7fa9\n:INPUT ACCEPT [0:0]\n# \u30d5\u30a9\u30ef\u30fc\u30c9\u30c1\u30a7\u30fc\u30f3\u306e\u5b9a\u7fa9\n:FORWARD ACCEPT [0:0]\n# \u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u30c1\u30a7\u30fc\u30f3\u306e\u5b9a\u7fa9\n:OUTPUT ACCEPT [0:0]\n# RH-Firewall-1-INPUT \u30c1\u30a7\u30fc\u30f3\u306e\u5b9a\u7fa9\n:RH-Firewall-1-INPUT - [0:0]\n# INPUT\u30c1\u30a7\u30fc\u30f3\u306b\u6765\u305f\u3082\u306e\u306f\u3059\u3079\u3066\u7121\u6761\u4ef6\u306bRH-Firewall-1-INPUT\u30c1\u30a7\u30fc\u30f3\u3078\u8ee2\u9001\u3059\u308b\n-A INPUT -j RH-Firewall-1-INPUT\n# FORWARD\u30c1\u30a7\u30fc\u30f3\u306b\u6765\u305f\u3082\u306e\u306f\u3059\u3079\u3066\u7121\u6761\u4ef6\u306bRH-Firewall-1-INPUT\u30c1\u30a7\u30fc\u30f3\u3078\u8ee2\u9001\u3059\u308b\n-A FORWARD -j RH-Firewall-1-INPUT\n# \u30eb\u30fc\u30d7\u30d0\u30c3\u30af\u306f\u901a\u3059\u3002\u81ea\u30db\u30b9\u30c8\u304b\u3089\u306e\u901a\u4fe1\u306f\u554f\u7b54\u7121\u7528\u3067\u5168\u90e8\u901a\u3059\n-A RH-Firewall-1-INPUT -i lo -j ACCEPT\n# ping\u306f\u901a\u3059\u3002\u30d7\u30ed\u30c8\u30b3\u30eb\u304cICMP\u306a\u3089\u901a\u3059\n-A RH-Firewall-1-INPUT -p icmp --icmp-type any -j ACCEPT\n\n-A RH-Firewall-1-INPUT -p 50 -j ACCEPT\n-A RH-Firewall-1-INPUT -p 51 -j ACCEPT\n-A RH-Firewall-1-INPUT -p udp --dport 5353 -d 224.0.0.251 -j ACCEPT\n-A RH-Firewall-1-INPUT -p udp -m udp --dport 631 -j ACCEPT\n-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 631 -j ACCEPT\n\n# \u78ba\u7acb\u6e08\u307f\u306e\u901a\u4fe1\u306f\u901a\u3057\u3066\u3084\u308b\u3002\u3069\u3053\u304b\u3089\u6765\u305f\u306e\u304b\u3001\u3069\u306e\u30dd\u30fc\u30c8\u5b9b\u3066\u306a\u306e\u304b\u3001\u306f\u6c17\u306b\u305b\u305a\u3001\u3059\u3067\u306b\u78ba\u7acb\u6e08\u307f\u306a\u3089\u901a\u3057\u3066\u3084\u308b\n# \u3053\u308c\u306b\u7d9a\u304f\u8a18\u8ff0\u3067\u901a\u4fe1\u3092\u78ba\u7acb\u3055\u305b\u308b\u304b\u3069\u3046\u304b\u3092\u8a2d\u5b9a\n-A RH-Firewall-1-INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n\n# SSH ( SSH_PORT \u306f\u5148\u306b\u81ea\u5206\u3067\u8a2d\u5b9a\u3057\u305f\u3082\u306e\u3092\u6307\u5b9a )\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 3103 -j ACCEPT\n\n# HTTP, HTTPS\n# RH-Firewall-1-INPUT\u30c1\u30a7\u30fc\u30f3\u5185\u306e\u30eb\u30fc\u30eb\u8a2d\u5b9a\u3067\u3001\u5916\u90e8\u304b\u3089\u306e80\u756a\u3068443\u756a\u30dd\u30fc\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 443 -j ACCEPT\n# \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u3046\u3068\u304d\u306b\u4f55\u304b\u3068\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u4e00\u5fdc\u958b\u3051\u3066\u304a\u304f\u3002\u5fc5\u8981\u306a\u3051\u308c\u3070\u6d88\u3059\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 3000 -j ACCEPT\n# \u3053\u3053\u3082\u5fc5\u8981\u306a\u3051\u308c\u3070\u6d88\u3059\n-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 6000 -j ACCEPT\n\n# RH-Firewall-1-INPUT \u30c1\u30a7\u30fc\u30f3\u5185\u306e\u3069\u306e\u30eb\u30fc\u30eb\u306b\u3082\u30de\u30c3\u30c1\u3057\u306a\u304b\u3063\u305f\u30d1\u30b1\u30c3\u30c8\u306f\u3001icmp-host-prohibited\u30a8\u30e9\u30fc\u3092\u8fd4\u3059\n-A RH-Firewall-1-INPUT -j REJECT --reject-with icmp-host-prohibited\nCOMMIT\n````\n\n# iptables\u3092\u518d\u8d77\u52d5\u3057\u3066\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u308b\u3002\n\n```shell-session\n# sudo service iptables restart  \u3082\u3057\u304f\u306f  /etc/init.d/iptables restart\n````\n\n```shell-session\niptables: Flushing firewall rules:                         [  OK  ]\niptables: Setting chains to policy ACCEPT: filter          [  OK  ]\niptables: Unloading modules:                               [  OK  ]\niptables: Applying firewall rules:                         [  OK  ]\n````\n\n\u4e0a\u306e\u3088\u3046\u306b\u306a\u308c\u3070\u8a2d\u5b9a\u6210\u529f\u3067\u3059\niptable\u306e\u518d\u8d77\u52d5\u6642\u306b\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3089\u3001\u305d\u306e\u884c\u672b\u306b\u7a7a\u767d\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3002\n\u5168\u89d2\u3082\u4e00\u5fdc\u30c1\u30a7\u30c3\u30af\u3002\n\n\u30b5\u30fc\u30d0\u306e\u8d77\u52d5\u6642\u306b\u4e00\u7dd2\u306biptable\u3092\u8d77\u52d5\u3055\u305b\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3002\n\n# \u81ea\u52d5\u8d77\u52d5\u306e\u8a2d\u5b9a\u78ba\u8a8d\u3002\n\n```shell-session\n% sudo chkconfig iptables on\n````\n\n```shell-session\n% /sbin/chkconfig --list iptables\n#=> iptables        0:off   1:off   2:on    3:on    4:on    5:on    6:off \u3068\u306a\u3063\u3066\u3044\u308c\u3070\u6210\u529f\u3067\u3059\n````\n\nref) http://okwave.jp/qa/q6986608.html\n\n\n# zsh\u306e\u8a2d\u5b9a\n\noh-my-zsh\u3092\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001UI\u3084\u64cd\u4f5c\u6027\u304c\u3057\u3063\u304f\u308a\u3053\u306a\u304b\u3063\u305f\u306e\u3067\u6b62\u3081\u3066\u3001.zshrc\u3092\u3044\u3058\u308a\u307e\u3057\u305f\u3002\n\uff08\u4ee5\u4e0b\u306e\u306f\u3044\u308d\u3093\u306a\u65b9\u306e\u60c5\u5831\u306e\u5bc4\u305b\u96c6\u3081(|| \u00d7\uff4d\u00d7) \u65e9\u304f\u81ea\u7531\u306b\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u51fa\u6765\u308b\u69d8\u306b\u306a\u308a\u305f\u3044... \uff09\n\nref) \nhttp://d.hatena.ne.jp/oovu70/20120405/p1\nhttp://news.mynavi.jp/column/zsh/index.html\nhttps://github.com/bpymasinn/Config/blob/master/.zshrc\n\n## \u307e\u305a\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n[\u3053\u3061\u3089](http://qiita.com/mugyuu/items/ddff8d836d03c460edfe)\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n## .zshrc \u306e\u8a2d\u5b9a\n\n```zsh:~/.zshrc\n\n# ------------------------------\n# General Settings\n# ------------------------------\n\nexport EDITOR=vim        # \u30a8\u30c7\u30a3\u30bf\u3092vim\u306b\u8a2d\u5b9a\nexport LANG=ja_JP.UTF-8  # \u6587\u5b57\u30b3\u30fc\u30c9\u3092UTF-8\u306b\u8a2d\u5b9a\nexport KCODE=u           # KCODE\u306bUTF-8\u3092\u8a2d\u5b9a\nexport AUTOFEATURE=true \n\nbindkey -e               # \u30ad\u30fc\u30d0\u30a4\u30f3\u30c9\u3092emacs\u30e2\u30fc\u30c9\u306b\u8a2d\u5b9a\n\nsetopt no_beep           # \u30d3\u30fc\u30d7\u97f3\u3092\u6d88\u3059\nsetopt auto_cd           # \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306e\u5165\u529b\u306e\u307f\u3067\u79fb\u52d5\nsetopt auto_pushd        \nsetopt correct           # \u30b3\u30de\u30f3\u30c9\u306e\u30b9\u30da\u30eb\u3092\u8a02\u6b63\nsetopt magic_equal_subst # =\u4ee5\u964d\u3082\u88dc\u5b8c\u3059\u308b(--prefix=/usr\u306a\u3069)\nsetopt prompt_subst      # \u30d7\u30ed\u30f3\u30d7\u30c8\u5b9a\u7fa9\u5185\u3067\u5909\u6570\u7f6e\u63db\u3084\u30b3\u30de\u30f3\u30c9\u7f6e\u63db\u3092\u6271\u3046\nsetopt notify            # \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u30b8\u30e7\u30d6\u306e\u72b6\u614b\u5909\u5316\u3092\u5373\u6642\u5831\u544a\nsetopt equals            # =command\u3092`which command`\u3068\u540c\u3058\u51e6\u7406\n\n### Complement ###\nautoload -U compinit; compinit # \u88dc\u5b8c\u6a5f\u80fd\u3092\u6709\u52b9\nsetopt auto_list               # \u88dc\u5b8c\u5019\u88dc\u3092\u4e00\u89a7\u3067\u8868\u793a(d)\nsetopt auto_menu               # \u88dc\u5b8c\u30ad\u30fc\u9023\u6253\u3067\u88dc\u5b8c\u5019\u88dc\u3092\u9806\u306b\u8868\u793a(d)\nsetopt list_packed             # \u88dc\u5b8c\u5019\u88dc\u3092\u3067\u304d\u308b\u3060\u3051\u8a70\u3081\u3066\u8868\u793a\nsetopt list_types              # \u88dc\u5b8c\u5019\u88dc\u306b\u30d5\u30a1\u30a4\u30eb\u306e\u7a2e\u985e\u3082\u8868\u793a\nbindkey \"^[[Z\" reverse-menu-complete  # Shift-Tab\u3067\u88dc\u5b8c\u5019\u88dc\u3092\u9006\u9806(\"\\e[Z\"\u3067\u3082\u52d5\u4f5c\u3059\u308b)\nzstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}' # \u88dc\u5b8c\u6642\u306b\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u3092\u533a\u5225\u3057\u306a\u3044\n\nsetopt extended_glob\nunsetopt caseglob    # \u30d5\u30a1\u30a4\u30eb\u30b0\u30ed\u30d6\u3067\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u3092\u533a\u5225\u3057\u306a\u3044\n\n### History ###\nHISTFILE=~/.zsh_history   # \u30d2\u30b9\u30c8\u30ea\u3092\u4fdd\u5b58\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u8a2d\u5b9a\nHISTSIZE=10000            # \u30e1\u30e2\u30ea\u306b\u4fdd\u5b58\u3055\u308c\u308b\u30d2\u30b9\u30c8\u30ea\u306e\u4ef6\u6570\nSAVEHIST=10000            # \u4fdd\u5b58\u3055\u308c\u308b\u30d2\u30b9\u30c8\u30ea\u306e\u4ef6\u6570\nsetopt bang_hist          # !\u3092\u4f7f\u3063\u305f\u30d2\u30b9\u30c8\u30ea\u5c55\u958b(d)\nsetopt extended_history   # \u30d2\u30b9\u30c8\u30ea\u306b\u5b9f\u884c\u6642\u9593\u3082\u4fdd\u5b58\nsetopt hist_ignore_dups   # \u76f4\u524d\u3068\u540c\u3058\u30b3\u30de\u30f3\u30c9\u306f\u30d2\u30b9\u30c8\u30ea\u306b\u8ffd\u52a0\u3057\u306a\u3044\nsetopt share_history      # \u4ed6\u306e\u30b7\u30a7\u30eb\u306e\u30d2\u30b9\u30c8\u30ea\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u3067\u5171\u6709\nsetopt hist_reduce_blanks # \u4f59\u5206\u306a\u30b9\u30da\u30fc\u30b9\u3092\u524a\u9664\u3057\u3066\u30d2\u30b9\u30c8\u30ea\u306b\u4fdd\u5b58\n\n# \u30de\u30c3\u30c1\u3057\u305f\u30b3\u30de\u30f3\u30c9\u306e\u30d2\u30b9\u30c8\u30ea\u3092\u8868\u793a\nautoload history-search-end\nzle -N history-beginning-search-backward-end history-search-end\nzle -N history-beginning-search-forward-end history-search-end\nbindkey \"^P\" history-beginning-search-backward-end\nbindkey \"^N\" history-beginning-search-forward-end\n\n# \u3059\u3079\u3066\u306e\u30d2\u30b9\u30c8\u30ea\u3092\u8868\u793a\nfunction history-all { history -E 1 }\n\n# \u8272\u306e\u8a2d\u5b9a\nexport LSCOLORS=Exfxcxdxbxegedabagacad\n# \u88dc\u5b8c\u6642\u306e\u8272\u306e\u8a2d\u5b9a\nexport LS_COLORS='di=01;34:ln=01;35:so=01;32:ex=01;31:bd=46;34:cd=43;34:su=41;30:sg=46;30:tw=42;30:ow=43;30'\n# ZLS_COLORS\u3068\u306f\uff1f\nexport ZLS_COLORS=$LS_COLORS\nexport CLICOLOR=true\n# \u88dc\u5b8c\u5019\u88dc\u306b\u8272\u3092\u4ed8\u3051\u308b\nzstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}\n\n# \u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u8272\nautoload -U colors; colors\n# \u4e00\u822c\u30e6\u30fc\u30b6\u6642\ntmp_prompt=\"%{${fg[cyan]}%}%n%# %{${reset_color}%}\"\ntmp_prompt2=\"%{${fg[cyan]}%}%_> %{${reset_color}%}\"\ntmp_rprompt=\"%{${fg[green]}%}[%~]%{${reset_color}%}\"\ntmp_sprompt=\"%{${fg[yellow]}%}%r is correct? [Yes, No, Abort, Edit]:%{${reset_color}%}\"\n\n# root\u30e6\u30fc\u30b6\u6642(\u592a\u5b57\u306b\u3057\u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\nif [ ${UID} -eq 0 ]; then\n  tmp_prompt=\"%B%U${tmp_prompt}%u%b\"\n  tmp_prompt2=\"%B%U${tmp_prompt2}%u%b\"\n  tmp_rprompt=\"%B%U${tmp_rprompt}%u%b\"\n  tmp_sprompt=\"%B%U${tmp_sprompt}%u%b\"\nfi\n\nPROMPT=$tmp_prompt    # \u901a\u5e38\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\nPROMPT2=$tmp_prompt2  # \u30bb\u30ab\u30f3\u30c0\u30ea\u306e\u30d7\u30ed\u30f3\u30d7\u30c8(\u30b3\u30de\u30f3\u30c9\u304c2\u884c\u4ee5\u4e0a\u306e\u6642\u306b\u8868\u793a\u3055\u308c\u308b)\nRPROMPT=$tmp_rprompt  # \u53f3\u5074\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\nSPROMPT=$tmp_sprompt  # \u30b9\u30da\u30eb\u8a02\u6b63\u7528\u30d7\u30ed\u30f3\u30d7\u30c8\n# SSH\u30ed\u30b0\u30a4\u30f3\u6642\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\n[ -n \"${REMOTEHOST}${SSH_CONNECTION}\" ] &&\n  PROMPT=\"%{${fg[white]}%}${HOST%%.*} ${PROMPT}\"\n;\n\n### Title (user@hostname) ###\ncase \"${TERM}\" in\nkterm*|xterm*|)\n  precmd() {\n    echo -ne \"\\033]0;${USER}@${HOST%%.*}\\007\"\n  }\n  ;;\nesac\n\n# ------------------------------\n# Other Settings\n# ------------------------------\n### Aliases ###\nalias vi=vim # vi\u3063\u3066\u5165\u529b\u3057\u305f\u3089vim\u304c\u7acb\u3061\u4e0a\u304c\u308b\nalias history='history -E' # \u30d2\u30b9\u30c8\u30ea\u30fc\u306e\u6642\u523b\u8868\u793a\nalias   sl='ls -Fa'\nalias   ls='ls -Fa'\nalias   la='ls -a'\nalias   ll='ls -la'\nalias   dir='dir -pa'\nalias   rm='rm -i'\nalias   cp='cp -i'\nalias   mv='mv -i'\nalias   vi='vim'\nalias   less='lv'\n\n# cd\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u5f8c\u3001ls\u3092\u5b9f\u884c\u3059\u308b\nfunction cd() {\n  builtin cd $@ && ls;\n}\n\n````\n\n\u8a2d\u5b9a\u306e\u53cd\u6620\n\n```shell-session\n# \u30b7\u30a7\u30eb\u306e\u5909\u66f4\n% zsh \n# zshrc\u306e\u53cd\u6620\n% source ~/.zshrc\n```\n\n\nref) http://morizyun.github.io/blog/sakura-vps-centos63-ssh-setup/", "tags": ["\u3055\u304f\u3089VPS", "CentOS6.4", "iptables", "Zsh", "Apache"]}