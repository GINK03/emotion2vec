{"context": "memo \u03c6(\uff65\uff65\n\nVagrant\n$ vagrant box add centos67 https://github.com/CommanderK5/packer-centos-template/releases/download/0.6.7/vagrant-centos-6.7.box\n$ vagrant box list\n$ vagrant init centos67\n$ vim Vagrantfile\n# config.vm.network \"private_network\", ip: \"192.168.11.11\"\n$ vagrant up\n$ vagrant ssh                                                                                                                                                                                                                                                                                                                                                                                                                                          \n\n\nCentOS: init\n$ sudo yum update\n$ sudo /etc/init.d/vboxadd setup  # yum update \u4ee5\u5f8c vagrant up \u3067 mount fail \u3059\u308b\u5834\u5408\u306b\u3053\u308c\u3092\u3059\u308b\u3068\u6cbb\u308b.\n$ sudo rpm -ihv http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm\n$ sudo rpm -ihv http://ftp.iij.ad.jp/pub/linux/fedora/epel/6/i386/epel-release-6-8.noarch.rpm\n$ sudo rpm -ihv http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\n$ sudo rpm -ihv http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos-6-0.el6.ngx.noarch.rpm\n\n\nCentOS: install\n$ sudo yum install nginx\n$ sudo /etc/init.d/nginx start   # curl localhost => ok!\n$ sudo yum install php --enablerepo=remi-php56\n$ sudo yum install php-fpm --enablerepo=remi-php56\n\n\nCentOS: setup\n$ sudo vim /etc/php-fpm.d/www.conf \n# user = nginx\n# group = nginx\n# listen = /var/run/php-fpm/php-fpm.sock\n# listen.owner = nginx\n# listen.group = nginx\n# listen.mode = 0660\n\n$ sudo vim /etc/nginx/conf.d/default.conf\n# location ~ \\.php$ {\n#   root   /usr/share/nginx/html;\n#   fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n#   fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\n#   fastcgi_index index.php;\n#   include fastcgi_params;\n#   fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n# }\n\n\nCentOS: start\n$ sudo /etc/init.d/php-fpm restart\n$ sudo /etc/init.d/nginx restart\n$ sudo vim /usr/share/nginx/html/index.php\n# <?php\n#    phpinfo();\n$ curl localhost/index.php  # display phpinfo => OK!\n\n\nmemo _\u03c6(\uff65_\uff65\n\n# Vagrant\n\n```sh\n$ vagrant box add centos67 https://github.com/CommanderK5/packer-centos-template/releases/download/0.6.7/vagrant-centos-6.7.box\n$ vagrant box list\n$ vagrant init centos67\n$ vim Vagrantfile\n# config.vm.network \"private_network\", ip: \"192.168.11.11\"\n$ vagrant up\n$ vagrant ssh                                                                                                                                                                                                                                                                                                                                                                                                                                          \n```\n\n# CentOS: init\n\n```sh\n$ sudo yum update\n$ sudo /etc/init.d/vboxadd setup  # yum update \u4ee5\u5f8c vagrant up \u3067 mount fail \u3059\u308b\u5834\u5408\u306b\u3053\u308c\u3092\u3059\u308b\u3068\u6cbb\u308b.\n$ sudo rpm -ihv http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm\n$ sudo rpm -ihv http://ftp.iij.ad.jp/pub/linux/fedora/epel/6/i386/epel-release-6-8.noarch.rpm\n$ sudo rpm -ihv http://rpms.famillecollet.com/enterprise/remi-release-6.rpm\n$ sudo rpm -ihv http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos-6-0.el6.ngx.noarch.rpm\n```\n\n# CentOS: install\n\n```sh\n$ sudo yum install nginx\n$ sudo /etc/init.d/nginx start   # curl localhost => ok!\n$ sudo yum install php --enablerepo=remi-php56\n$ sudo yum install php-fpm --enablerepo=remi-php56\n```\n\n\n# CentOS: setup\n\n```sh\n$ sudo vim /etc/php-fpm.d/www.conf \n# user = nginx\n# group = nginx\n# listen = /var/run/php-fpm/php-fpm.sock\n# listen.owner = nginx\n# listen.group = nginx\n# listen.mode = 0660\n```\n\n```sh\n$ sudo vim /etc/nginx/conf.d/default.conf\n# location ~ \\.php$ {\n#   root   /usr/share/nginx/html;\n#   fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n#   fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\n#   fastcgi_index index.php;\n#   include fastcgi_params;\n#   fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n# }\n```\n\n# CentOS: start\n\n```sh\n$ sudo /etc/init.d/php-fpm restart\n$ sudo /etc/init.d/nginx restart\n$ sudo vim /usr/share/nginx/html/index.php\n# <?php\n#    phpinfo();\n$ curl localhost/index.php  # display phpinfo => OK!\n```\n", "tags": ["php-fpm", "vagrant", "nginx"]}