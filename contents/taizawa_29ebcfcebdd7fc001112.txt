{"context": " More than 1 year has passed since last update.\n\n\u524d\u63d0\nkarma\u3067e2e\u30c6\u30b9\u30c8\u307e\u3067\u3084\u308d\u3046\u3068\u601d\u3063\u3066\u305f\u3051\u3069\u3001\n\n\u3000Angular Scenario Runner is in maintenance mode - If you're starting a new Angular project, consider using Protractor.\n\n\u3068\u306e\u3053\u3068\u306a\u306e\u3067\u3001e2e\u306e\u307b\u3046\u306fProtractor\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u306b\u3057\u305f\u3002\nGAE\u3068\u304b\u4f7f\u3063\u3066\u306a\u3044\u3088\u306e\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u3066\u3002\n\u30c6\u30b9\u30c8\u306e\u30b7\u30ca\u30ea\u30aa\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u307e\u3063\u3055\u3089\u306aGoogle App Engine\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5\nProtractor\u304b\u3089selenium\u3092\u8d77\u52d5\ne2e\u30c6\u30b9\u30c8\u3092\u306f\u3057\u3089\u305b\u308b\n\u6210\u529f\u3057\u3066\u3082\u5931\u6557\u3057\u3066\u3082\u3001Google App Engine\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u505c\u6b62\nkarma\u3092\u8d77\u52d5\u3057\u3066\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\n\n\n\u69cb\u6210\n\u8981Java\uff08selenium\u306e\u305f\u3081\uff09\u3002\n\u30c6\u30b9\u30c8\u95a2\u9023\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u8ffd\u52a0\n\nbower.json\n    \"angular-mocks\": \"~1.2.23\",\n    \"angular-loader\": \"1.2.x\"\n\n\n\npackage.json\n    # gae\u3092\u8d77\u52d5\u3057\u3064\u3064\u3001protractor\u306e\u5b9f\u884c\u3092\u3059\u308b\u306e\u306b\u4f7f\u3063\u305f\n    \"grunt-concurrent\": \"^1.0.0\",\n    # task\u306e\u524d\u5f8c\u306bcontinueOn, continueOff\u3068\u3057\u3066\u304a\u304f\u3068\u3001\u305d\u306e\u90e8\u5206\u3060\u3051grunt --force\u3057\u305f\u3053\u3068\u306b\u3057\u3066\u304f\u308c\u308b\u3002\n    \"grunt-continue\": \"0.0.1\",\n    \"grunt-exec\": \"^0.4.6\",\n    \"grunt-gae\": \"^0.2.4\",\n    \"grunt-karma\": \"^0.8.3\",\n    \"grunt-open\": \"~0.2.2\",\n    \"grunt-protractor-runner\": \"^1.1.4\",\n    \"grunt-protractor-webdriver\": \"^0.1.8\",\n    \"grunt-shell\": \"^1.1.1\",\n    \"grunt-shell-spawn\": \"^0.3.0\",\n    \"karma\": \"^0.12.23\",\n    \"karma-chrome-launcher\": \"^0.1.4\",\n    \"karma-jasmine\": \"^0.1.5\",\n    \"protractor\": \"^1.1.1\",\n    \"shelljs\": \"^0.2.6\"\n\n\n\u8ffd\u52a0\u5f8c\n$ bower install\n$ npm install\n\nGruntfile\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\nGruntfile.coffee\n\nmodule.exports = (grunt) ->\n\n  grunt.task.loadNpmTasks 'grunt-karma'\n  grunt.task.loadNpmTasks 'grunt-protractor-runner'\n  grunt.task.loadNpmTasks 'grunt-exec'\n  grunt.task.loadNpmTasks 'grunt-gae'\n  grunt.task.loadNpmTasks 'grunt-concurrent'\n  grunt.task.loadNpmTasks 'grunt-shell'\n  grunt.task.loadNpmTasks 'grunt-continue'\n  grunt.task.loadNpmTasks 'grunt-shell-spawn'\n\n  grunt.initConfig\n    exec:\n      gaewait:\n\u3000\u3000\u3000\u3000\u3000// \u8d77\u52d5\u3057\u3066\u3044\u308b\u304b\u78ba\u304b\u3081\u308b\u65b9\u6cd5\u304c\u306a\u304b\u3063\u305f\u306e\u3067curl\u3067\n        command: 'while ! curl http://localhost:9999 &>/dev/null; do :; done'\n      webdriverstart:\n        command: './node_modules/protractor/bin/webdriver-manager start > /dev/null 2>&1 &'\n      webdriverwait:\n        command: 'while ! curl http://localhost:4444/wd/hub/status &>/dev/null; do :; done'\n      webdriverstop:\n        command: 'curl -s -L http://localhost:4444/selenium-server/driver?cmd=shutDownSeleniumServer > /dev/null 2>&1'\n    gae:\n      start:\n        action: 'run',\n        options:\n          path: '../'\n          async: true,\n          args:\n            port: 9999,\n            admin_port: 9001,\n            clear_datastore: 'yes'\n      stop:\n        action: 'kill'\n\n    concurrent:\n      target:\n        tasks: [\"gae:start\", \"exec:gaewait\"]\n      options:\n        logConcurrentOutput: true\n\n    protractor:\n      options:\n        keepAlive: false,\n        noColor: false\n      E2E_local:\n        options:\n          configFile: 'js/test/protractor_conf.js',\n\n    karma:\n      unit:\n        configFile: 'js/test/karma.conf.js',\n        singleRun: true\n\n  grunt.registerTask 'test', [\n    'concurrent:target',\n    'continueOn',\n    'exec:webdriverstart',\n    'exec:webdriverwait',\n    'protractor',\n    'exec:webdriverstop',\n    'gae:stop',\n    'continueOff',\n    'karma',\n  ]\n\n\nkarma\u306e\u8a2d\u5b9a\n\nkarma.conf.js\n\nmodule.exports = function(config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine'],\n    files: [\n      //App-specific Code\n      '../app/**/*.js',\n      //Test-specific Code\n      '../test/app/**/*.js'\n    ],\n    exclude: [\n      '../lib/angular-scenario/angular-scenario.js'\n    ],\n    preprocessors: {\n    },\n    reporters: ['progress'],\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: true,\n    browsers: ['Chrome'],\n    plugins : [\n            'karma-chrome-launcher',\n            'karma-jasmine'\n            ],\n    singleRun: false\n  });\n};\n\n\nprotractor\u306e\u8a2d\u5b9a\n\nprotractor_conf.js\nexports.config = {\n    seleniumAddress: \"http://localhost:4444/wd/hub\",\n    capabilities: {\n        browserName: \"chrome\"\n    },\n    // \u30c6\u30b9\u30c8\u5bfe\u8c61\u306espec\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\n    specs: [\"e2e/**/*.js\"],\n    baseUrl: 'http://localhost:9999/',\n    framework: \"jasmine\",\n    jasmineNodeOpts: {\n        showColors: true\n    }\n}\n\n\n\n\u8272\u3005\u5927\u5909\u3060\u3063\u305f\u3051\u3069\u3001\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n$ grunt test\n\n\n\u53c2\u8003\u306b\u3057\u305f\u8272\u3005\n\nhttp://www.yearofmoo.com/2013/09/advanced-testing-and-debugging-in-angularjs.html\nhttp://angular.github.io/protractor/#/\nhttp://qiita.com/zoetro/items/b72130960c39055b8474\nhttps://github.com/angular/protractor/blob/master/docs/tutorial.md\nhttp://ng-learn.org/2014/02/Protractor_Testing_With_Angular_And_Non_Angular_Sites/\nhttp://dev.classmethod.jp/client-side/javascript/angularjs_e2e_test_protractor_introduce/\n\n\n# \u524d\u63d0\nkarma\u3067e2e\u30c6\u30b9\u30c8\u307e\u3067\u3084\u308d\u3046\u3068\u601d\u3063\u3066\u305f\u3051\u3069\u3001\n\n> \u3000Angular Scenario Runner is in maintenance mode - If you're starting a new Angular project, consider using Protractor.\n\n\u3068\u306e\u3053\u3068\u306a\u306e\u3067\u3001e2e\u306e\u307b\u3046\u306fProtractor\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u306b\u3057\u305f\u3002\nGAE\u3068\u304b\u4f7f\u3063\u3066\u306a\u3044\u3088\u306e\u5834\u5408\u306f\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u3066\u3002\n\n\u30c6\u30b9\u30c8\u306e\u30b7\u30ca\u30ea\u30aa\n\n1. \u30ed\u30fc\u30ab\u30eb\u3067\u307e\u3063\u3055\u3089\u306aGoogle App Engine\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5\n2. Protractor\u304b\u3089selenium\u3092\u8d77\u52d5\n3. e2e\u30c6\u30b9\u30c8\u3092\u306f\u3057\u3089\u305b\u308b\n4. \u6210\u529f\u3057\u3066\u3082\u5931\u6557\u3057\u3066\u3082\u3001Google App Engine\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u505c\u6b62\n5. karma\u3092\u8d77\u52d5\u3057\u3066\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\n\n# \u69cb\u6210\n\n\u8981Java\uff08selenium\u306e\u305f\u3081\uff09\u3002\n\n\u30c6\u30b9\u30c8\u95a2\u9023\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u8ffd\u52a0\n\n``` bower.json\n    \"angular-mocks\": \"~1.2.23\",\n    \"angular-loader\": \"1.2.x\"\n```\n\n``` package.json\n\t# gae\u3092\u8d77\u52d5\u3057\u3064\u3064\u3001protractor\u306e\u5b9f\u884c\u3092\u3059\u308b\u306e\u306b\u4f7f\u3063\u305f\n    \"grunt-concurrent\": \"^1.0.0\",\n\t# task\u306e\u524d\u5f8c\u306bcontinueOn, continueOff\u3068\u3057\u3066\u304a\u304f\u3068\u3001\u305d\u306e\u90e8\u5206\u3060\u3051grunt --force\u3057\u305f\u3053\u3068\u306b\u3057\u3066\u304f\u308c\u308b\u3002\n    \"grunt-continue\": \"0.0.1\",\n    \"grunt-exec\": \"^0.4.6\",\n    \"grunt-gae\": \"^0.2.4\",\n    \"grunt-karma\": \"^0.8.3\",\n    \"grunt-open\": \"~0.2.2\",\n    \"grunt-protractor-runner\": \"^1.1.4\",\n    \"grunt-protractor-webdriver\": \"^0.1.8\",\n    \"grunt-shell\": \"^1.1.1\",\n    \"grunt-shell-spawn\": \"^0.3.0\",\n    \"karma\": \"^0.12.23\",\n    \"karma-chrome-launcher\": \"^0.1.4\",\n    \"karma-jasmine\": \"^0.1.5\",\n    \"protractor\": \"^1.1.1\",\n    \"shelljs\": \"^0.2.6\"\n```\n\n\u8ffd\u52a0\u5f8c\n\n```\n$ bower install\n$ npm install\n```\n\nGruntfile\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n```Gruntfile.coffee\n\nmodule.exports = (grunt) ->\n\n  grunt.task.loadNpmTasks 'grunt-karma'\n  grunt.task.loadNpmTasks 'grunt-protractor-runner'\n  grunt.task.loadNpmTasks 'grunt-exec'\n  grunt.task.loadNpmTasks 'grunt-gae'\n  grunt.task.loadNpmTasks 'grunt-concurrent'\n  grunt.task.loadNpmTasks 'grunt-shell'\n  grunt.task.loadNpmTasks 'grunt-continue'\n  grunt.task.loadNpmTasks 'grunt-shell-spawn'\n\n  grunt.initConfig\n    exec:\n      gaewait:\n\u3000\u3000\u3000\u3000\u3000// \u8d77\u52d5\u3057\u3066\u3044\u308b\u304b\u78ba\u304b\u3081\u308b\u65b9\u6cd5\u304c\u306a\u304b\u3063\u305f\u306e\u3067curl\u3067\n        command: 'while ! curl http://localhost:9999 &>/dev/null; do :; done'\n      webdriverstart:\n        command: './node_modules/protractor/bin/webdriver-manager start > /dev/null 2>&1 &'\n      webdriverwait:\n        command: 'while ! curl http://localhost:4444/wd/hub/status &>/dev/null; do :; done'\n      webdriverstop:\n        command: 'curl -s -L http://localhost:4444/selenium-server/driver?cmd=shutDownSeleniumServer > /dev/null 2>&1'\n    gae:\n      start:\n        action: 'run',\n        options:\n          path: '../'\n          async: true,\n          args:\n            port: 9999,\n            admin_port: 9001,\n            clear_datastore: 'yes'\n      stop:\n        action: 'kill'\n\n    concurrent:\n      target:\n        tasks: [\"gae:start\", \"exec:gaewait\"]\n      options:\n        logConcurrentOutput: true\n\n    protractor:\n      options:\n        keepAlive: false,\n        noColor: false\n      E2E_local:\n        options:\n          configFile: 'js/test/protractor_conf.js',\n\n    karma:\n      unit:\n        configFile: 'js/test/karma.conf.js',\n        singleRun: true\n\n  grunt.registerTask 'test', [\n    'concurrent:target',\n    'continueOn',\n    'exec:webdriverstart',\n    'exec:webdriverwait',\n    'protractor',\n    'exec:webdriverstop',\n    'gae:stop',\n    'continueOff',\n    'karma',\n  ]\n```\n\nkarma\u306e\u8a2d\u5b9a\n\n```karma.conf.js\n\nmodule.exports = function(config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine'],\n    files: [\n      //App-specific Code\n      '../app/**/*.js',\n      //Test-specific Code\n      '../test/app/**/*.js'\n    ],\n    exclude: [\n      '../lib/angular-scenario/angular-scenario.js'\n    ],\n    preprocessors: {\n    },\n    reporters: ['progress'],\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: true,\n    browsers: ['Chrome'],\n    plugins : [\n            'karma-chrome-launcher',\n            'karma-jasmine'\n            ],\n    singleRun: false\n  });\n};\n```\n\nprotractor\u306e\u8a2d\u5b9a\n\n``` protractor_conf.js\nexports.config = {\n    seleniumAddress: \"http://localhost:4444/wd/hub\",\n    capabilities: {\n        browserName: \"chrome\"\n    },\n    // \u30c6\u30b9\u30c8\u5bfe\u8c61\u306espec\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\n    specs: [\"e2e/**/*.js\"],\n    baseUrl: 'http://localhost:9999/',\n    framework: \"jasmine\",\n    jasmineNodeOpts: {\n        showColors: true\n    }\n}\n\n```\n\n\u8272\u3005\u5927\u5909\u3060\u3063\u305f\u3051\u3069\u3001\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n```\n$ grunt test\n```\n\n# \u53c2\u8003\u306b\u3057\u305f\u8272\u3005\n- http://www.yearofmoo.com/2013/09/advanced-testing-and-debugging-in-angularjs.html\n- http://angular.github.io/protractor/#/\n- http://qiita.com/zoetro/items/b72130960c39055b8474\n- https://github.com/angular/protractor/blob/master/docs/tutorial.md\n- http://ng-learn.org/2014/02/Protractor_Testing_With_Angular_And_Non_Angular_Sites/\n- http://dev.classmethod.jp/client-side/javascript/angularjs_e2e_test_protractor_introduce/\n", "tags": ["grunt", "Protractor", "angular", "karma"]}