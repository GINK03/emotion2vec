{"context": "\nRaspbian 2016-09-23\u3088\u308a\u3001RealVNC\u304c\u4f7f\u3048\u308b => \n[\u30e1\u30e2] Raspberry Pi : VNC\u30b5\u30fc\u30d0\u8a2d\u5b9a(raspbian 2016-09-23\uff5e)\n\n\n\n\u6982\u8981\n\n\u5143\u8a18\u4e8b: VNC server in Jessie (using a systemd service)\n\u306e\u307e\u307e\nlightdm\u3067\u306e\u65b9\u6cd5\u3092\u8ffd\u52a0\n\n\n\n\n\n\u305f\u3081\u3057\u305f\u74b0\u5883\n\nRaspbeey Pi 2 / 3\n\n2016-05-27-raspbian-jessie.img (X\u4f7f\u3046\u306e\u3067\u3001lite\u3058\u3083\u306a\u3044\u3088)\n\n\n\u624b\u9806\n\n\u305d\u306e\uff11: systemd\n\n\n\u3044\u3064\u3082\u306e(microSD\u306bimg\u3084\u3044\u3066\u3001sudo apt-get update; sudo apt-get upgrade -y; sudo reboot..)\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: sudo apt-get install -y tightvncserver\n\n\u624b\u52d5\u3067\u4e00\u56de\u7acb\u3061\u4e0a\u3052\u3066\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a: vncserver :1\n\n\nsystemd\u306e\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6:sudo vi /etc/systemd/system/vncserver@.service\n\n/etc/systemd/system/vncserver@.service\n[Unit]\nDescription=Remote desktop service (VNC)\nAfter=syslog.target network.target\n[Service]\nType=forking\nUser=pi\nPAMName=login\nPIDFile=/home/pi/.vnc/%H:%i.pid\nExecStartPre=-/usr/bin/vncserver -kill :%i > /dev/null 2>&1\nExecStart=/usr/bin/vncserver -depth 24 -geometry 1280x800 :%i\nExecStop=/usr/bin/vncserver -kill :%i\n[Install]\nWantedBy=multi-user.target\n\n\n\n\u30b5\u30fc\u30d3\u30b9\u767b\u9332:sudo systemctl daemon-reload && sudo systemctl enable vncserver@1.service\n\u518d\u8d77\u52d5:sudo reboot\n\nvncviewer.exe(Windows \u30af\u30e9\u30a4\u30a2\u30f3\u30c8)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nRealVNC \u540d\u524d\u3068Email\u306e\u767b\u9332\u304c\u5fc5\u8981\n\n\n\nTigerVNC => Binaries are available from bintray:\n\u3000\u3000\u3000\n\n\n\nVNC Server:\u3078\u3001\"\u30e9\u30ba\u30d1\u30a4\u306eIP\u30a2\u30c9\u30ec\u30b9:5901\"\u3092\u5165\u308c\u3066 [Connect]\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3044\u308c\u3066\u30ed\u30b0\u30a4\u30f3\n\n\n\u3082\u3046\u30c6\u30ec\u30d3\u3067GUI login\u3057\u306a\u304f\u3066\u3082\u3044\u3044\u306a\u3089\u3001Text\u30ed\u30b0\u30a4\u30f3\u3067\u3044\u3044\u3088\u306d??\n\n\nsudo raspi-config \u3067\u30013 Boot Options > B1 Console \u3092\u9078\u629e\u3001\u518d\u8d77\u52d5\u3002\n\n\n\n\n\u305d\u306e2: lighdm\n\n\n\u3044\u3064\u3082\u306e(microSD\u306bimg\u3084\u3044\u3066\u3001sudo apt-get update; sudo apt-get upgrade -y; sudo reboot..)\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: sudo apt-get install -y tightvncserver\n\n\u624b\u52d5\u3067\u4e00\u56de\u7acb\u3061\u4e0a\u3052\u3066\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a: vncserver :1\n\u3084\u3089\u306a\u3044\u3068\u3001\u30d1\u30b9\u306a\u3057\u306b\u306a\u308b\n\nlightdm\u8a2d\u5b9a\u7de8\u96c6:sudo vi /etc/lightdm/lightdm.conf\n\n/etc/lightdm/lightdm.conf\n...\n... \u6700\u5f8c\u65b9\u3002\u30b3\u30e1\u30f3\u30c8\u306f\u305a\u3057\u3066\u7de8\u96c6\n[VNCServer]\nenabled=true\ncommand=Xvnc\nport=5900\nwidth=1280\nheight=800\ndepth=24\n\n\n\n\nsudo raspi-config \u306e3 Boot Options \n\n\u81ea\u52d5\u30ed\u30b0\u30a4\u30f3(\u30c7\u30d5\u30a9\u30eb\u30c8): B4 Desktop Autologin \u3092\u9078\u629e\n\u30ed\u30b0\u30a4\u30f3\u30b9\u30af\u30ea\u30fc\u30f3: B3 Desktop \u3092\u9078\u629e\n\n\n!!! \u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u9078\u3076\u3068lightdm\u304c\u81ea\u52d5\u8d77\u52d5\u3057\u306a\u3044\n\n\nsudo reboot\nvncviewer.exe(Windows \u30af\u30e9\u30a4\u30a2\u30f3\u30c8)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\nVNC Server:\u3078\u3001\"\u30e9\u30ba\u30d1\u30a4\u306eIP\u30a2\u30c9\u30ec\u30b9:5900\"\u3092\u5165\u308c\u3066 [Connect]\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3044\u308c\u3066\u30ed\u30b0\u30a4\u30f3\n\n\n\u305d\u306e\u4ed6\n\n\u753b\u9762\u306e\u30b5\u30a4\u30ba\u3092\u304b\u3048\u305f\u3044\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb/etc/systemd/system/vncserver@.service\u306e1280x800\u3092\u5909\u66f4\u3002\u30b5\u30fc\u30d3\u30b9\u518d\u8d77\u52d5\u3002\nsudo systemctl daemon-reload && sudo systemctl restart vncserver@1.service\n\n\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u5897\u3084\u3059?\nsudo systemctl enable vncserver@2.service \u3067\u3001IP_address:5902\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u304c\u3001\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304cUser=pi...\n\n\n\u8a2d\u5b9a\u30ed\u30b0\npi@raspberrypi:~ $ sudo apt-get install -y tightvncserver \nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following extra packages will be installed:\n  xfonts-base\nSuggested packages:\n  tightvnc-java\nThe following NEW packages will be installed:\n  tightvncserver xfonts-base\n0 upgraded, 2 newly installed, 0 to remove and 33 not upgraded.\nNeed to get 6,736 kB of archives.\nAfter this operation, 9,895 kB of additional disk space will be used.\nGet:1 http://mirrordirector.raspbian.org/raspbian/ jessie/main tightvncserver armhf 1.3.9-6.5 [555 kB]\nGet:2 http://mirrordirector.raspbian.org/raspbian/ jessie/main xfonts-base all 1:1.0.3 [6,181 kB]\nFetched 6,736 kB in 3s (2,013 kB/s)      \nSelecting previously unselected package tightvncserver.\n(Reading database ... 118080 files and directories currently installed.)\nPreparing to unpack .../tightvncserver_1.3.9-6.5_armhf.deb ...\nUnpacking tightvncserver (1.3.9-6.5) ...\nSelecting previously unselected package xfonts-base.\nPreparing to unpack .../xfonts-base_1%3a1.0.3_all.deb ...\nUnpacking xfonts-base (1:1.0.3) ...\nProcessing triggers for man-db (2.7.0.2-5) ...\nProcessing triggers for fontconfig (2.11.0-6.3) ...\nSetting up tightvncserver (1.3.9-6.5) ...\nupdate-alternatives: using /usr/bin/tightvncserver to provide /usr/bin/vncserver (vncserver) in auto mode\nupdate-alternatives: using /usr/bin/Xtightvnc to provide /usr/bin/Xvnc (Xvnc) in auto mode\nupdate-alternatives: using /usr/bin/tightvncpasswd to provide /usr/bin/vncpasswd (vncpasswd) in auto mode\nSetting up xfonts-base (1:1.0.3) ...\npi@raspberrypi:~ $ vncserver :1 \n\nYou will require a password to access your desktops.\n\nPassword: \nVerify:   \nWould you like to enter a view-only password (y/n)? n\n\nNew 'X' desktop is raspberrypi:1\n\nCreating default startup script /home/pi/.vnc/xstartup\nStarting applications specified in /home/pi/.vnc/xstartup\nLog file is /home/pi/.vnc/raspberrypi:1.log\n\npi@raspberrypi:~ $ sudo vi /etc/systemd/system/vncserver@.service\npi@raspberrypi:~ $ sudo systemctl daemon-reload && sudo systemctl enable vncserver@1.service\nCreated symlink from /etc/systemd/system/multi-user.target.wants/vncserver@1.service to /etc/systemd/system/vncserver@.service.\npi@raspberrypi:~ $ sudo reboot\n\n\n- Raspbian 2016-09-23\u3088\u308a\u3001RealVNC\u304c\u4f7f\u3048\u308b <br>=> \n[[\u30e1\u30e2] Raspberry Pi : VNC\u30b5\u30fc\u30d0\u8a2d\u5b9a(raspbian 2016-09-23\uff5e)](http://qiita.com/mt08/items/bcefc691d89c7981fad9)\n\n## \u6982\u8981\n- \u5143\u8a18\u4e8b: [VNC server in Jessie (using a systemd service)](https://www.raspberrypi.org/forums/viewtopic.php?t=123457)\n\u306e\u307e\u307e\n- lightdm\u3067\u306e\u65b9\u6cd5\u3092\u8ffd\u52a0\n![RPi_vncviewer4.png](https://qiita-image-store.s3.amazonaws.com/0/75594/4c5f3f01-2381-cdc8-92fd-8495f90d6020.png)\n\n![RPi_vncviewer3.png](https://qiita-image-store.s3.amazonaws.com/0/75594/91414013-8506-f12e-5463-5399a0e4ecf2.png)\n\n\n\n## \u305f\u3081\u3057\u305f\u74b0\u5883\n- Raspbeey Pi 2 / 3\n- `2016-05-27-raspbian-jessie.img` (X\u4f7f\u3046\u306e\u3067\u3001lite\u3058\u3083\u306a\u3044\u3088)\n\n## \u624b\u9806\n### \u305d\u306e\uff11: `systemd`\n1. \u3044\u3064\u3082\u306e(microSD\u306bimg\u3084\u3044\u3066\u3001`sudo apt-get update; sudo apt-get upgrade -y; sudo reboot`..)\n2. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: <br>`sudo apt-get install -y tightvncserver`\n3. \u624b\u52d5\u3067\u4e00\u56de\u7acb\u3061\u4e0a\u3052\u3066\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a: <br>`vncserver :1`\n4. systemd\u306e\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6:<br>`sudo vi /etc/systemd/system/vncserver@.service`\n\n    ```txt:/etc/systemd/system/vncserver@.service\n[Unit]\nDescription=Remote desktop service (VNC)\nAfter=syslog.target network.target\n[Service]\nType=forking\nUser=pi\nPAMName=login\nPIDFile=/home/pi/.vnc/%H:%i.pid\nExecStartPre=-/usr/bin/vncserver -kill :%i > /dev/null 2>&1\nExecStart=/usr/bin/vncserver -depth 24 -geometry 1280x800 :%i\nExecStop=/usr/bin/vncserver -kill :%i\n[Install]\nWantedBy=multi-user.target\n```\n5. \u30b5\u30fc\u30d3\u30b9\u767b\u9332:<br>`sudo systemctl daemon-reload && sudo systemctl enable vncserver@1.service`\n6. \u518d\u8d77\u52d5:<br>`sudo reboot`\n7. `vncviewer.exe`(Windows \u30af\u30e9\u30a4\u30a2\u30f3\u30c8)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - [RealVNC](https://www.realvnc.com/download/viewer/windows/) \u540d\u524d\u3068Email\u306e\u767b\u9332\u304c\u5fc5\u8981\n      <br>![RPi_vncviewer.png](https://qiita-image-store.s3.amazonaws.com/0/75594/4f18afcb-e3fb-4ea6-2647-e96eedc5b93c.png)\n    - [TigerVNC](https://github.com/TigerVNC/tigervnc/releases) => [Binaries are available from bintray:](https://bintray.com/tigervnc/stable/tigervnc/1.6.0)\n   \u3000\u3000\u3000<br>![RPi_vncviewer2.png](https://qiita-image-store.s3.amazonaws.com/0/75594/2819e920-ed1b-b736-647c-20fea3c22139.png)\n\n8. `VNC Server:`\u3078\u3001\"\u30e9\u30ba\u30d1\u30a4\u306eIP\u30a2\u30c9\u30ec\u30b9:5901\"\u3092\u5165\u308c\u3066 `[Connect]`\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3044\u308c\u3066\u30ed\u30b0\u30a4\u30f3\n![RPi_vncviewer3.png](https://qiita-image-store.s3.amazonaws.com/0/75594/91414013-8506-f12e-5463-5399a0e4ecf2.png)\n\n9. \u3082\u3046\u30c6\u30ec\u30d3\u3067GUI login\u3057\u306a\u304f\u3066\u3082\u3044\u3044\u306a\u3089\u3001Text\u30ed\u30b0\u30a4\u30f3\u3067\u3044\u3044\u3088\u306d??\n - `sudo raspi-config` \u3067\u3001`3 Boot Options` > `B1 Console` \u3092\u9078\u629e\u3001\u518d\u8d77\u52d5\u3002\n\n### \u305d\u306e2: `lighdm`\n1. \u3044\u3064\u3082\u306e(microSD\u306bimg\u3084\u3044\u3066\u3001`sudo apt-get update; sudo apt-get upgrade -y; sudo reboot`..)\n2. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: <br>`sudo apt-get install -y tightvncserver`\n3. \u624b\u52d5\u3067\u4e00\u56de\u7acb\u3061\u4e0a\u3052\u3066\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a: <br>`vncserver :1`\n<br>\u3084\u3089\u306a\u3044\u3068\u3001\u30d1\u30b9\u306a\u3057\u306b\u306a\u308b\n4. `lightdm`\u8a2d\u5b9a\u7de8\u96c6:<br>`sudo vi /etc/lightdm/lightdm.conf`\n\n    ```txt:/etc/lightdm/lightdm.conf\n...\n... \u6700\u5f8c\u65b9\u3002\u30b3\u30e1\u30f3\u30c8\u306f\u305a\u3057\u3066\u7de8\u96c6\n[VNCServer]\nenabled=true\ncommand=Xvnc\nport=5900\nwidth=1280\nheight=800\ndepth=24\n```\n5. `sudo raspi-config` \u306e`3 Boot Options` \n    - \u81ea\u52d5\u30ed\u30b0\u30a4\u30f3(\u30c7\u30d5\u30a9\u30eb\u30c8): `B4 Desktop Autologin` \u3092\u9078\u629e\n    - \u30ed\u30b0\u30a4\u30f3\u30b9\u30af\u30ea\u30fc\u30f3: `B3 Desktop` \u3092\u9078\u629e\n    <br>![RPi_vncviewer4.png](https://qiita-image-store.s3.amazonaws.com/0/75594/4c5f3f01-2381-cdc8-92fd-8495f90d6020.png)\n    - !!! \u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u9078\u3076\u3068`lightdm`\u304c\u81ea\u52d5\u8d77\u52d5\u3057\u306a\u3044\n6. `sudo reboot`\n7. `vncviewer.exe`(Windows \u30af\u30e9\u30a4\u30a2\u30f3\u30c8)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\n8. `VNC Server:`\u3078\u3001\"\u30e9\u30ba\u30d1\u30a4\u306eIP\u30a2\u30c9\u30ec\u30b9<font color='red'>**:5900**</font>\"\u3092\u5165\u308c\u3066 `[Connect]`\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3044\u308c\u3066\u30ed\u30b0\u30a4\u30f3\n\n\n\n\n## \u305d\u306e\u4ed6\n- \u753b\u9762\u306e\u30b5\u30a4\u30ba\u3092\u304b\u3048\u305f\u3044\n<br>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb/etc/systemd/system/`vncserver@.service`\u306e1280x800\u3092\u5909\u66f4\u3002\u30b5\u30fc\u30d3\u30b9\u518d\u8d77\u52d5\u3002\n<br>`sudo systemctl daemon-reload && sudo systemctl restart vncserver@1.service`\n- \u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u5897\u3084\u3059?\n<br>`sudo systemctl enable vncserver@2.service` \u3067\u3001`IP_address:5902`\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u304c\u3001\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c`User=pi`...\n\n\n\n\n### \u8a2d\u5b9a\u30ed\u30b0\n```shell-session\npi@raspberrypi:~ $ sudo apt-get install -y tightvncserver \nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following extra packages will be installed:\n  xfonts-base\nSuggested packages:\n  tightvnc-java\nThe following NEW packages will be installed:\n  tightvncserver xfonts-base\n0 upgraded, 2 newly installed, 0 to remove and 33 not upgraded.\nNeed to get 6,736 kB of archives.\nAfter this operation, 9,895 kB of additional disk space will be used.\nGet:1 http://mirrordirector.raspbian.org/raspbian/ jessie/main tightvncserver armhf 1.3.9-6.5 [555 kB]\nGet:2 http://mirrordirector.raspbian.org/raspbian/ jessie/main xfonts-base all 1:1.0.3 [6,181 kB]\nFetched 6,736 kB in 3s (2,013 kB/s)      \nSelecting previously unselected package tightvncserver.\n(Reading database ... 118080 files and directories currently installed.)\nPreparing to unpack .../tightvncserver_1.3.9-6.5_armhf.deb ...\nUnpacking tightvncserver (1.3.9-6.5) ...\nSelecting previously unselected package xfonts-base.\nPreparing to unpack .../xfonts-base_1%3a1.0.3_all.deb ...\nUnpacking xfonts-base (1:1.0.3) ...\nProcessing triggers for man-db (2.7.0.2-5) ...\nProcessing triggers for fontconfig (2.11.0-6.3) ...\nSetting up tightvncserver (1.3.9-6.5) ...\nupdate-alternatives: using /usr/bin/tightvncserver to provide /usr/bin/vncserver (vncserver) in auto mode\nupdate-alternatives: using /usr/bin/Xtightvnc to provide /usr/bin/Xvnc (Xvnc) in auto mode\nupdate-alternatives: using /usr/bin/tightvncpasswd to provide /usr/bin/vncpasswd (vncpasswd) in auto mode\nSetting up xfonts-base (1:1.0.3) ...\npi@raspberrypi:~ $ vncserver :1 \n\nYou will require a password to access your desktops.\n\nPassword: \nVerify:   \nWould you like to enter a view-only password (y/n)? n\n\nNew 'X' desktop is raspberrypi:1\n\nCreating default startup script /home/pi/.vnc/xstartup\nStarting applications specified in /home/pi/.vnc/xstartup\nLog file is /home/pi/.vnc/raspberrypi:1.log\n\npi@raspberrypi:~ $ sudo vi /etc/systemd/system/vncserver@.service\npi@raspberrypi:~ $ sudo systemctl daemon-reload && sudo systemctl enable vncserver@1.service\nCreated symlink from /etc/systemd/system/multi-user.target.wants/vncserver@1.service to /etc/systemd/system/vncserver@.service.\npi@raspberrypi:~ $ sudo reboot\n\n```\n", "tags": ["RaspberryPi", "VNC"]}