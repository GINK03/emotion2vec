{"context": " More than 1 year has passed since last update.\u3053\u306e\u8a18\u4e8b\u66f8\u3044\u3066\u3044\u308b\u6642\u306eMithril\u306f0.2.2-rc.1\u3067\u3059\n\ntl;dr\nComponent\u306f\u5358\u306a\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3060\u3057\u3001controller\u306f\u95a2\u6570or\u30af\u30e9\u30b9\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\nComponent\u306f\u5358\u306a\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u66f8\u304b\u308c\u3066\u308b\u3093\u3067\u3059\u304c\u3001\n\nIn Mithril, a component is an object that contains a view function and optionally a controller function.\n\n\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n\u3067\u3001\u6700\u521d\u306fcontroller()\u3068view()\u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u30af\u30e9\u30b9\u3068\u3057\u3066Component\u3092\u4f5c\u3063\u3066\u3084\u3063\u3066component\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092m.mount()\u306b\u6e21\u3057\u3066\u305f\u306e\u3067Mithril\u306e\u4e2d\u3067contoller\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u308b\u6642\u306b\u671f\u5f85\u3057\u306a\u3044\u52d5\u304d\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306bAPI\u30ec\u30b9\u30dd\u30f3\u30b9\u3092HogeComponent\u30af\u30e9\u30b9\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570(\u3068\u547c\u3076)\u306b\u3076\u3061\u8fbc\u3093\u3067controller\u5185\u3067\u4f7f\u3046\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\nmain.js\nimport HogeComponent from './component';\nimport m from 'mithril';\n\n// API\u306e\u554f\u3044\u5408\u308f\u305b\nm.request({method: 'GET', url: 'https://hoge.com/api/v1/nantoka'}).then(response => {\n  m.mount(document.getElementById('main'), new HogeComponent(response));\n})\n\n\n\ncomponent.js\nexport default class HogeComponent {\n  constructor(data) {\n    // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u3053\u3053\u3067\u5b9a\u7fa9\u3057\u3066controller\u3067\u4f7f\u3046\u3002\n    // data\u306fAPI\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306a\u3069\u3092\u60f3\u5b9a\u3002\n    this.data = data;\n  }\n  controller() {\n    let props = {\n      name: m.prop(this.data.name),\n      password: m.prop(this.data.password),\n      userIcon: m.prop(this.data.user_icon)\n    }\n    return { props };\n  }\n  view(ctrl) {\n    let props = ctrl.props;\n    return m('div#hoge-main', ...)\n  }\n}\n\n\n\u3068\u3053\u308d\u304c\u3069\u3063\u3053\u3044\u3053\u306e\u72b6\u614b\u3060\u3068\u3001\u4e0a\u8ff0\u3057\u305f\u3088\u3046\u306bMithril\u304ccontroller\u3092new\u3057\u305f\u3068\u3057\u3066\u3082\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u72b6\u614b\u3067controller\u5185\u306ethis\u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u306e\u3067\u3001this.data\u306a\u3093\u3066\u306d\u3048\u3088`\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3088\u3063\u3066\u3001API\u554f\u3044\u5408\u308f\u305b(\u3092\u3059\u308bmodel\u306e\u547c\u3073\u51fa\u3057\u542b\u3080)\u3084\u51e6\u7406\u306e\u30ed\u30b8\u30c3\u30af\u306fController\u30af\u30e9\u30b9\u3042\u308b\u3044\u306fcontroller\u95a2\u6570\u306b\u6301\u305f\u305b\u308b\u306e\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3068\u3044\u3046\u304b\u3001\u7aef\u304b\u3089controller\u306b\u30ed\u30b8\u30c3\u30af\u306f\u5bc4\u305b\u308b\u3079\u304d\u307f\u305f\u3044\u306a\u3053\u3068\u304c\u516c\u5f0f\u306b\u66f8\u3044\u3066\u3042\u308b\u3057\u3001\u666e\u901a\u306b\u8003\u3048\u308c\u3070\u5f53\u305f\u308a\u524d\u306a\u6c17\u304c\u3057\u3066\u904e\u53bb\u306e\u8a18\u4e8b\u306f\u660e\u3089\u304b\u306a\u9593\u9055\u3044\u3092\u66f8\u3044\u3066\u3044\u305f\u3067\u3059\u306d(;\u00b4\u0414`)\n\u3053\u306e\u8a18\u4e8b\u66f8\u3044\u3066\u3044\u308b\u6642\u306eMithril\u306f0.2.2-rc.1\u3067\u3059\n\n# tl;dr\nComponent\u306f\u5358\u306a\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3060\u3057\u3001controller\u306f\u95a2\u6570or\u30af\u30e9\u30b9\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n# Component\u306f\u5358\u306a\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n[\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u66f8\u304b\u308c\u3066\u308b\u3093\u3067\u3059\u304c\u3001](http://mithril.js.org/getting-started.html#model)\n>In Mithril, a component is an object that contains a view function and optionally a controller function.\n\n\u3068\u306e\u3053\u3068\u3067\u3059\u3002\n\n\u3067\u3001\u6700\u521d\u306f`controller()`\u3068`view()`\u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u30af\u30e9\u30b9\u3068\u3057\u3066Component\u3092\u4f5c\u3063\u3066\u3084\u3063\u3066component\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092`m.mount()`\u306b\u6e21\u3057\u3066\u305f\u306e\u3067Mithril\u306e\u4e2d\u3067[contoller\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u308b\u6642](https://github.com/lhorie/mithril/blob/master/mithril.js#L776)\u306b\u671f\u5f85\u3057\u306a\u3044\u52d5\u304d\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306bAPI\u30ec\u30b9\u30dd\u30f3\u30b9\u3092HogeComponent\u30af\u30e9\u30b9\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570(\u3068\u547c\u3076)\u306b\u3076\u3061\u8fbc\u3093\u3067controller\u5185\u3067\u4f7f\u3046\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n```js:main.js\nimport HogeComponent from './component';\nimport m from 'mithril';\n\n// API\u306e\u554f\u3044\u5408\u308f\u305b\nm.request({method: 'GET', url: 'https://hoge.com/api/v1/nantoka'}).then(response => {\n  m.mount(document.getElementById('main'), new HogeComponent(response));\n})\n```\n```js:component.js\nexport default class HogeComponent {\n  constructor(data) {\n    // \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u3092\u3053\u3053\u3067\u5b9a\u7fa9\u3057\u3066controller\u3067\u4f7f\u3046\u3002\n    // data\u306fAPI\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306a\u3069\u3092\u60f3\u5b9a\u3002\n    this.data = data;\n  }\n  controller() {\n    let props = {\n      name: m.prop(this.data.name),\n      password: m.prop(this.data.password),\n      userIcon: m.prop(this.data.user_icon)\n    }\n    return { props };\n  }\n  view(ctrl) {\n    let props = ctrl.props;\n    return m('div#hoge-main', ...)\n  }\n}\n```\n\n\u3068\u3053\u308d\u304c\u3069\u3063\u3053\u3044\u3053\u306e\u72b6\u614b\u3060\u3068\u3001\u4e0a\u8ff0\u3057\u305f\u3088\u3046\u306bMithril\u304ccontroller\u3092new\u3057\u305f\u3068\u3057\u3066\u3082\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u72b6\u614b\u3067controller\u5185\u306ethis\u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u306e\u3067\u3001`this.data`\u306a\u3093\u3066\u306d\u3048\u3088`\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3088\u3063\u3066\u3001API\u554f\u3044\u5408\u308f\u305b(\u3092\u3059\u308bmodel\u306e\u547c\u3073\u51fa\u3057\u542b\u3080)\u3084\u51e6\u7406\u306e\u30ed\u30b8\u30c3\u30af\u306fController\u30af\u30e9\u30b9\u3042\u308b\u3044\u306fcontroller\u95a2\u6570\u306b\u6301\u305f\u305b\u308b\u306e\u304c\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3068\u3044\u3046\u304b\u3001\u7aef\u304b\u3089controller\u306b\u30ed\u30b8\u30c3\u30af\u306f\u5bc4\u305b\u308b\u3079\u304d\u307f\u305f\u3044\u306a\u3053\u3068\u304c[\u516c\u5f0f\u306b\u66f8\u3044\u3066\u3042\u308b](http://mithril.js.org/mithril.component.html#rendering-components)\u3057\u3001\u666e\u901a\u306b\u8003\u3048\u308c\u3070\u5f53\u305f\u308a\u524d\u306a\u6c17\u304c\u3057\u3066[\u904e\u53bb\u306e\u8a18\u4e8b](http://qiita.com/mtwtk_man/items/39728849cfcfad7d50fc)\u306f\u660e\u3089\u304b\u306a\u9593\u9055\u3044\u3092\u66f8\u3044\u3066\u3044\u305f\u3067\u3059\u306d(;\u00b4\u0414`)\n", "tags": ["JavaScript", "Mithril.js", "es6"]}