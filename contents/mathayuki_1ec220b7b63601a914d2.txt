{"tags": ["Apache", "centos7", "Conoha", "firewalld"], "context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u30bb\u30fc\u30eb\u30a8\u30f3\u30b8\u30cb\u30a2\u3092\u3084\u3063\u3066\u3044\u307e\u3059\u3002\n\u65e5\u3005\u63d0\u6848\u66f8\u3092\u4f5c\u308a\u3001\u63d0\u6848\u3059\u308b\u6bce\u65e5\u3002\u6280\u8853\u529b\u3084\u7d4c\u9a13\u304c\u306a\u3044\u3068\u5145\u5b9f\u3057\u305f\u63d0\u6848\u306b\u306a\u308a\u307e\u305b\u3093\u3002\n\u6280\u8853\u3092\u3064\u3051\u308b\u3002\u904b\u7528\u7d4c\u9a13\u3092\u6301\u3064\u3002\u305d\u3093\u306a\u3053\u3068\u3092\u76ee\u7684\u306bWeb\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u3066\u3001\u904b\u7528\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d0\u3092\u501f\u308a\u308b\n\nConoHa\n\n\nCentOS 7.1 64bit\n\u30e1\u30e2\u30ea\uff1a1GB\n\n\n\u30c9\u30e1\u30a4\u30f3\n\n\nexample.com\uff08\u4eee\uff09\nIP\u30a2\u30c9\u30ec\u30b9\uff1ax.x.x.x\n\n\n\u516c\u958b\u9375\n\n\nconoha.pem\uff08\u4eee\uff09\n\n\n\n\nMac\u306b\u9375\u8a8d\u8a3c\u3067ssh\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\u9375\u3092.ssh/\u306b\u79fb\u52d5\u3055\u305b\u308b\n$ mv key-2015-12-13-17-21.pem ~/.ssh/conoha.pem\n\n\u9375\u304c\u79fb\u52d5\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n$ ls ~/.ssh/ | grep conoha.pem\nconoha.pem\n\n\u9375\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30e2\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\n$ chmod 600 ~/.ssh/conoha.pem\n\n\u9375\u3092\u30b3\u30f3\u30d5\u30a3\u30b0\u306b\u767b\u9332\u3059\u308b\n$ vi ~/.ssh/config\nHost conoha\n    HostName example.com\n    Port 22\n    User root\n    IdentityFile ~/conoha.pem\n# fingerprint\u304c\u7570\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u304c\u3042\u308b\u306e\u3067\u3001\u6ce8\u610f\u3002\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\n\u521d\u671f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\n$ sudo yum update\n\n\n\u30ed\u30b1\u30fc\u30eb\u3068\u30ad\u30fc\u30de\u30c3\u30d7\u306e\u5909\u66f4\n\u73fe\u5728\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3059\u308b\n$ localectl status\n   System Locale: LANG=en_US.UTF-8\n       VC Keymap: jp\n      X11 Layout: jp\n\n\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u3092\u78ba\u8a8d\u3059\u308b\n$ sudo localectl list-locales | grep ja_JP.*\nja_JP\nja_JP.eucjp\nja_JP.ujis\nja_JP.utf8\n\n\u30ed\u30b1\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092ja_JP.utf8\u306b\u8a2d\u5b9a\u3059\u308b\n$ localectl set-locale LANG=jp_JP.utf8\n\n\u8a2d\u5b9a\u304c\u5909\u66f4\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\n$ sudo localectl status\n   System Locale: LANG=jp_JP.utf8\n       VC Keymap: jp\n      X11 Layout: jp\n\n\u8a2d\u5b9a\u53ef\u80fd\u306a\u30ad\u30fc\u30de\u30c3\u30d7\u3092\u78ba\u8a8d\u3059\u308b\n$ localectl list-keymaps | grep jp*\njp\njp-OADG109A\njp-dvorak\njp-kana86\njp106\ntj_alt-UTF8\n\n\u30ad\u30fc\u30de\u30c3\u30d7\u3092jp106\u306b\u5909\u66f4\u3059\u308b\n$ sudo localectl set-keymap jp106\n\n\u30ad\u30fc\u30de\u30c3\u30d7\u304c\u5909\u66f4\u3055\u308c\u305f\u304b\u3092\u78ba\u8a8d\u3059\u308b\n$ localectl status\n   System Locale: LANG=jp_JP.utf8\n       VC Keymap: jp106\n      X11 Layout: jp\n       X11 Model: jp106\n     X11 Options: terminate:ctrl_alt_bksp\n\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u5909\u66f4\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3059\u308b\n$ timedatectl status\n      Local time: \u65e5 2015-12-13 18:52:02 JST\n  Universal time: \u65e5 2015-12-13 09:52:02 UTC\n        RTC time: \u65e5 2015-12-13 09:52:02\n        Timezone: n/a (JST, +0900)\n     NTP enabled: yes\nNTP synchronized: yes\n RTC in local TZ: no\n      DST active: n/a\n\n\u8a2d\u5b9a\u53ef\u80fd\u306a\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u78ba\u8a8d\u3059\u308b\n$ timedatectl list-timezones | grep Asia/Tokyo\nAsia/Tokyo\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092Asia/Tokyo\u306b\u5909\u66f4\u3059\u308b\n$ timedatectl set-timezone Asia/Tokyo \n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u304c\u5909\u66f4\u3055\u308c\u305f\u304b\u78ba\u8a8d\u3059\u308b\ntimedatectl status\n      Local time: \u65e5 2015-12-13 18:55:00 JST\n  Universal time: \u65e5 2015-12-13 09:55:00 UTC\n        RTC time: \u65e5 2015-12-13 09:54:59\n        Timezone: Asia/Tokyo (JST, +0900)\n     NTP enabled: yes\nNTP synchronized: yes\n RTC in local TZ: no\n      DST active: n/a\n\n\n\u4e0d\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u306e\u505c\u6b62\nOS\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u3092\u78ba\u8a8d\u3059\u308b\n$ systemctl list-unit-files --type service | grep enabled\nabrt-ccpp.service                           enabled \nabrt-oops.service                           enabled \nabrt-vmcore.service                         enabled \nabrt-xorg.service                           enabled \nabrtd.service                               enabled \natd.service                                 enabled \nauditd.service                              enabled \nchronyd.service                             enabled \ncloud-config.service                        enabled \ncloud-final.service                         enabled \ncloud-init-local.service                    enabled \ncloud-init.service                          enabled \ncrond.service                               enabled \ndbus-org.fedoraproject.FirewallD1.service   enabled \ndbus-org.freedesktop.NetworkManager.service enabled \ndbus-org.freedesktop.nm-dispatcher.service  enabled \ndmraid-activation.service                   enabled \nfirewalld.service                           enabled \ngetty@.service                              enabled \nirqbalance.service                          enabled \nkdump.service                               enabled \nlibstoragemgmt.service                      enabled \nlvm2-monitor.service                        enabled \nmdmonitor.service                           enabled \nmicrocode.service                           enabled \nNetworkManager-dispatcher.service           enabled \nNetworkManager.service                      enabled \nntpd.service                                enabled \npostfix.service                             enabled \nrngd.service                                enabled \nrsyslog.service                             enabled \nsmartd.service                              enabled \nsshd.service                                enabled \nsysstat.service                             enabled \nsystemd-readahead-collect.service           enabled \nsystemd-readahead-drop.service              enabled \nsystemd-readahead-replay.service            enabled \ntuned.service                               enabled \n\n\u505c\u6b62\u3059\u308b\u30b5\u30fc\u30d3\u30b9\uff08Postfix\uff09\u306e\u8a2d\u5b9a\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\n$ systemctl status postfix.service \npostfix.service - Postfix Mail Transport Agent\n   Loaded: loaded (/usr/lib/systemd/system/postfix.service; enabled)\n   Active: active (running) since \u65e5 2015-12-13 17:52:06 JST; 1h 6min ago\n Main PID: 1669 (master)\n   CGroup: /system.slice/postfix.service\n           \u251c\u25001669 /usr/libexec/postfix/master -w\n           \u251c\u25001676 pickup -l -t unix -u\n           \u2514\u25001677 qmgr -l -t unix -u\n\n12\u6708 13 17:52:06 x-x-x-x systemd[1]: Starting Postfix Mail Transport ....\n12\u6708 13 17:52:06 x-x-x-x postfix/master[1669]: daemon started -- versi...\n12\u6708 13 17:52:06 x-x-x-x systemd[1]: Started Postfix Mail Transport A....\nHint: Some lines were ellipsized, use -l to show in full.\n\n\u5bfe\u8c61\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3057\u3001OS\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u8a2d\u5b9a\u3092\u7121\u52b9\u5316\u3059\u308b\n$ sudo systemctl stop postfix.service \n$ sudo systemctl disable postfix.service \nrm '/etc/systemd/system/multi-user.target.wants/postfix.service'\n\n\u7121\u52b9\u5316\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n$ systemctl status postfix.service\npostfix.service - Postfix Mail Transport Agent\n   Loaded: loaded (/usr/lib/systemd/system/postfix.service; disabled)\n   Active: inactive (dead)\n\n12\u6708 13 17:52:06 x-x-x-x systemd[1]: Starting Postfix Mail Transport ....\n12\u6708 13 17:52:06 x-x-x-x postfix/master[1669]: daemon started -- versi...\n12\u6708 13 17:52:06 x-x-x-x systemd[1]: Started Postfix Mail Transport A....\n12\u6708 13 19:04:03 x-x-x-x systemd[1]: Stopping Postfix Mail Transport ....\n12\u6708 13 19:04:03 x-x-x-x systemd[1]: Stopped Postfix Mail Transport A....\nHint: Some lines were ellipsized, use -l to show in full.\n\n\nWeb\u30b5\u30fc\u30d0\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u8a2d\u5b9a\nApache (sshd) \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n$ sudo yum install httpd\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306e\u30b5\u30fc\u30d3\u30b9\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\n$ systemctl status httpd.service\nhttpd.service - The Apache HTTP Server\n   Loaded: loaded (/usr/lib/systemd/system/httpd.service; disabled)\n   Active: inactive (dead)\n\n\n\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3057\u306a\u3044\u8a2d\u5b9a\uff08disabled\uff09\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u73fe\u5728\u3082\u8d77\u52d5\u3057\u3066\u3044\u306a\u3044\uff08dead\uff09\u306e\u3067\u3001\u8d77\u52d5\u3057\u3001OS\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n$ sudo systemctl start httpd.service\n$ sudo systemctl enable httpd.service\nln -s '/usr/lib/systemd/system/httpd.service' '/etc/systemd/system/multi-user.target.wants/httpd.service'\n\n\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n$ systemctl status httpd.service\nhttpd.service - The Apache HTTP Server\n   Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled)\n   Active: active (running) since \u65e5 2015-12-13 19:14:36 JST; 1min 39s ago\n Main PID: 14029 (httpd)\n   Status: \"Total requests: 0; Current requests/sec: 0; Current traffic:   0 B/sec\"\n   CGroup: /system.slice/httpd.service\n           \u251c\u250014029 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u250014030 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u250014031 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u250014032 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u250014033 /usr/sbin/httpd -DFOREGROUND\n           \u2514\u250014034 /usr/sbin/httpd -DFOREGROUND\n\n12\u6708 13 19:14:36 x-x-x-x systemd[1]: Starting The Apache HTTP Server...\n12\u6708 13 19:14:36 x-x-x-x httpd[14029]: AH00558: httpd: Could not reli...e\n12\u6708 13 19:14:36 x-x-x-x systemd[1]: Started The Apache HTTP Server.\nHint: Some lines were ellipsized, use -l to show in full.\n\n\nOS\u306e\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\n\u30b5\u30fc\u30d3\u30b9\u306e\u5b58\u5728\u3092\u78ba\u8a8d\u3059\u308b\n$ systemctl status firewalld.service\nfirewalld.service - firewalld - dynamic firewall daemon\n   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled)\n   Active: active (running) since \u65e5 2015-12-13 17:52:05 JST; 1h 27min ago\n Main PID: 597 (firewalld)\n   CGroup: /system.slice/firewalld.service\n           \u2514\u2500597 /usr/bin/python -Es /usr/sbin/firewalld --nofork --nopid\n\n12\u6708 13 17:52:05 x-x-x-x systemd[1]: Started firewalld - dynamic fire....\nHint: Some lines were ellipsized, use -l to show in full.\n\nConoHa\u306f\u6a19\u6e96\u3067enabled\u304b\u3064running\u306b\u306a\u3063\u3066\u3044\u308b\u3002\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3059\u308b\u3002\n$ firewall-cmd --list-all\npublic (default, active)\n  interfaces: eth0\n  sources: \n  services: dhcpv6-client ssh\n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\nservices\u306bhttp(80)\u3092\u8ffd\u52a0\u3059\u308b\u3002\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u53cd\u6620\u3059\u308b\u305f\u3081\u3001--permanent\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3002\n$ sudo firewall-cmd --permanent --add-service=http --zone=public\nsuccess\n\n\u8a2d\u5b9a\u3092\u53cd\u6620\u3059\u308b\u3002\n$ firewall-cmd --reload\nsuccess\n\n\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3059\u308b\u3002\n$ firewall-cmd --list-all\npublic (default, active)\n  interfaces: eth0\n  sources: \n  services: dhcpv6-client http ssh\n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\n\nWeb\u30b5\u30a4\u30c8\u306e\u52d5\u4f5c\u78ba\u8a8d\nexample.com\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n\u53c2\u8003\u6587\u732e\n\n\u3010\u521d\u5fc3\u8005\u5411\u3051\u3011CentOS 7\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u521d\u671f\u8a2d\u5b9a\u624b\u9806\n\n# \u306f\u3058\u3081\u306b\n\n\u30bb\u30fc\u30eb\u30a8\u30f3\u30b8\u30cb\u30a2\u3092\u3084\u3063\u3066\u3044\u307e\u3059\u3002\n\u65e5\u3005\u63d0\u6848\u66f8\u3092\u4f5c\u308a\u3001\u63d0\u6848\u3059\u308b\u6bce\u65e5\u3002\u6280\u8853\u529b\u3084\u7d4c\u9a13\u304c\u306a\u3044\u3068\u5145\u5b9f\u3057\u305f\u63d0\u6848\u306b\u306a\u308a\u307e\u305b\u3093\u3002\n\n\u6280\u8853\u3092\u3064\u3051\u308b\u3002\u904b\u7528\u7d4c\u9a13\u3092\u6301\u3064\u3002\u305d\u3093\u306a\u3053\u3068\u3092\u76ee\u7684\u306bWeb\u30b5\u30fc\u30d0\u3092\u7acb\u3066\u3066\u3001\u904b\u7528\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u30b5\u30fc\u30d0\u3092\u501f\u308a\u308b\n\n- ConoHa\n    - CentOS 7.1 64bit\n    - \u30e1\u30e2\u30ea\uff1a1GB\n- \u30c9\u30e1\u30a4\u30f3\n    - example.com\uff08\u4eee\uff09\n    - IP\u30a2\u30c9\u30ec\u30b9\uff1ax.x.x.x\n- \u516c\u958b\u9375\n\t- conoha.pem\uff08\u4eee\uff09\n\n# Mac\u306b\u9375\u8a8d\u8a3c\u3067ssh\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\n\u9375\u3092.ssh/\u306b\u79fb\u52d5\u3055\u305b\u308b\n\n```\n$ mv key-2015-12-13-17-21.pem ~/.ssh/conoha.pem\n```\n\n\u9375\u304c\u79fb\u52d5\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n\n```\n$ ls ~/.ssh/ | grep conoha.pem\nconoha.pem\n```\n\n\u9375\u306e\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u30e2\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\n\n```\n$ chmod 600 ~/.ssh/conoha.pem\n```\n\n\u9375\u3092\u30b3\u30f3\u30d5\u30a3\u30b0\u306b\u767b\u9332\u3059\u308b\n\n```\n$ vi ~/.ssh/config\nHost conoha\n\tHostName example.com\n\tPort 22\n\tUser root\n\tIdentityFile ~/conoha.pem\n# fingerprint\u304c\u7570\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u304c\u3042\u308b\u306e\u3067\u3001\u6ce8\u610f\u3002\n```\n\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\n\u521d\u671f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\n\n```\n$ sudo yum update\n```\n\n# \u30ed\u30b1\u30fc\u30eb\u3068\u30ad\u30fc\u30de\u30c3\u30d7\u306e\u5909\u66f4\n\n\u73fe\u5728\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ localectl status\n   System Locale: LANG=en_US.UTF-8\n       VC Keymap: jp\n      X11 Layout: jp\n```\n\n\u8a2d\u5b9a\u53ef\u80fd\u306a\u5024\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ sudo localectl list-locales | grep ja_JP.*\nja_JP\nja_JP.eucjp\nja_JP.ujis\nja_JP.utf8\n```\n\n\u30ed\u30b1\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092`ja_JP.utf8`\u306b\u8a2d\u5b9a\u3059\u308b\n\n```\n$ localectl set-locale LANG=jp_JP.utf8\n```\n\n\u8a2d\u5b9a\u304c\u5909\u66f4\u3055\u308c\u305f\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ sudo localectl status\n   System Locale: LANG=jp_JP.utf8\n       VC Keymap: jp\n      X11 Layout: jp\n```\n\n\u8a2d\u5b9a\u53ef\u80fd\u306a\u30ad\u30fc\u30de\u30c3\u30d7\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ localectl list-keymaps | grep jp*\njp\njp-OADG109A\njp-dvorak\njp-kana86\njp106\ntj_alt-UTF8\n```\n\n\u30ad\u30fc\u30de\u30c3\u30d7\u3092`jp106`\u306b\u5909\u66f4\u3059\u308b\n\n```\n$ sudo localectl set-keymap jp106\n```\n\n\u30ad\u30fc\u30de\u30c3\u30d7\u304c\u5909\u66f4\u3055\u308c\u305f\u304b\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ localectl status\n   System Locale: LANG=jp_JP.utf8\n       VC Keymap: jp106\n      X11 Layout: jp\n       X11 Model: jp106\n     X11 Options: terminate:ctrl_alt_bksp\n```\n\n# \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u5909\u66f4\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ timedatectl status\n      Local time: \u65e5 2015-12-13 18:52:02 JST\n  Universal time: \u65e5 2015-12-13 09:52:02 UTC\n        RTC time: \u65e5 2015-12-13 09:52:02\n        Timezone: n/a (JST, +0900)\n     NTP enabled: yes\nNTP synchronized: yes\n RTC in local TZ: no\n      DST active: n/a\n```\n\n\u8a2d\u5b9a\u53ef\u80fd\u306a\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ timedatectl list-timezones | grep Asia/Tokyo\nAsia/Tokyo\n```\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092`Asia/Tokyo`\u306b\u5909\u66f4\u3059\u308b\n\n```\n$ timedatectl set-timezone Asia/Tokyo \n```\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u304c\u5909\u66f4\u3055\u308c\u305f\u304b\u78ba\u8a8d\u3059\u308b\n\n```\ntimedatectl status\n      Local time: \u65e5 2015-12-13 18:55:00 JST\n  Universal time: \u65e5 2015-12-13 09:55:00 UTC\n        RTC time: \u65e5 2015-12-13 09:54:59\n        Timezone: Asia/Tokyo (JST, +0900)\n     NTP enabled: yes\nNTP synchronized: yes\n RTC in local TZ: no\n      DST active: n/a\n```\n\n# \u4e0d\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u306e\u505c\u6b62\n\nOS\u8d77\u52d5\u6642\u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ systemctl list-unit-files --type service | grep enabled\nabrt-ccpp.service                           enabled \nabrt-oops.service                           enabled \nabrt-vmcore.service                         enabled \nabrt-xorg.service                           enabled \nabrtd.service                               enabled \natd.service                                 enabled \nauditd.service                              enabled \nchronyd.service                             enabled \ncloud-config.service                        enabled \ncloud-final.service                         enabled \ncloud-init-local.service                    enabled \ncloud-init.service                          enabled \ncrond.service                               enabled \ndbus-org.fedoraproject.FirewallD1.service   enabled \ndbus-org.freedesktop.NetworkManager.service enabled \ndbus-org.freedesktop.nm-dispatcher.service  enabled \ndmraid-activation.service                   enabled \nfirewalld.service                           enabled \ngetty@.service                              enabled \nirqbalance.service                          enabled \nkdump.service                               enabled \nlibstoragemgmt.service                      enabled \nlvm2-monitor.service                        enabled \nmdmonitor.service                           enabled \nmicrocode.service                           enabled \nNetworkManager-dispatcher.service           enabled \nNetworkManager.service                      enabled \nntpd.service                                enabled \npostfix.service                             enabled \nrngd.service                                enabled \nrsyslog.service                             enabled \nsmartd.service                              enabled \nsshd.service                                enabled \nsysstat.service                             enabled \nsystemd-readahead-collect.service           enabled \nsystemd-readahead-drop.service              enabled \nsystemd-readahead-replay.service            enabled \ntuned.service                               enabled \n```\n\n\u505c\u6b62\u3059\u308b\u30b5\u30fc\u30d3\u30b9\uff08Postfix\uff09\u306e\u8a2d\u5b9a\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ systemctl status postfix.service \npostfix.service - Postfix Mail Transport Agent\n   Loaded: loaded (/usr/lib/systemd/system/postfix.service; enabled)\n   Active: active (running) since \u65e5 2015-12-13 17:52:06 JST; 1h 6min ago\n Main PID: 1669 (master)\n   CGroup: /system.slice/postfix.service\n           \u251c\u25001669 /usr/libexec/postfix/master -w\n           \u251c\u25001676 pickup -l -t unix -u\n           \u2514\u25001677 qmgr -l -t unix -u\n\n12\u6708 13 17:52:06 x-x-x-x systemd[1]: Starting Postfix Mail Transport ....\n12\u6708 13 17:52:06 x-x-x-x postfix/master[1669]: daemon started -- versi...\n12\u6708 13 17:52:06 x-x-x-x systemd[1]: Started Postfix Mail Transport A....\nHint: Some lines were ellipsized, use -l to show in full.\n```\n\n\u5bfe\u8c61\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u505c\u6b62\u3057\u3001OS\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u8a2d\u5b9a\u3092\u7121\u52b9\u5316\u3059\u308b\n\n```\n$ sudo systemctl stop postfix.service \n$ sudo systemctl disable postfix.service \nrm '/etc/systemd/system/multi-user.target.wants/postfix.service'\n```\n\n\u7121\u52b9\u5316\u306b\u306a\u3063\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n\n```\n$ systemctl status postfix.service\npostfix.service - Postfix Mail Transport Agent\n   Loaded: loaded (/usr/lib/systemd/system/postfix.service; disabled)\n   Active: inactive (dead)\n\n12\u6708 13 17:52:06 x-x-x-x systemd[1]: Starting Postfix Mail Transport ....\n12\u6708 13 17:52:06 x-x-x-x postfix/master[1669]: daemon started -- versi...\n12\u6708 13 17:52:06 x-x-x-x systemd[1]: Started Postfix Mail Transport A....\n12\u6708 13 19:04:03 x-x-x-x systemd[1]: Stopping Postfix Mail Transport ....\n12\u6708 13 19:04:03 x-x-x-x systemd[1]: Stopped Postfix Mail Transport A....\nHint: Some lines were ellipsized, use -l to show in full.\n```\n\n# Web\u30b5\u30fc\u30d0\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u8a2d\u5b9a\n\nApache (sshd) \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```\n$ sudo yum install httpd\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u306e\u30b5\u30fc\u30d3\u30b9\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ systemctl status httpd.service\nhttpd.service - The Apache HTTP Server\n   Loaded: loaded (/usr/lib/systemd/system/httpd.service; disabled)\n   Active: inactive (dead)\n\n```\n\n\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3057\u306a\u3044\u8a2d\u5b9a\uff08disabled\uff09\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u73fe\u5728\u3082\u8d77\u52d5\u3057\u3066\u3044\u306a\u3044\uff08dead\uff09\u306e\u3067\u3001\u8d77\u52d5\u3057\u3001OS\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n\n```\n$ sudo systemctl start httpd.service\n$ sudo systemctl enable httpd.service\nln -s '/usr/lib/systemd/system/httpd.service' '/etc/systemd/system/multi-user.target.wants/httpd.service'\n```\n\n\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\n\n```\n$ systemctl status httpd.service\nhttpd.service - The Apache HTTP Server\n   Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled)\n   Active: active (running) since \u65e5 2015-12-13 19:14:36 JST; 1min 39s ago\n Main PID: 14029 (httpd)\n   Status: \"Total requests: 0; Current requests/sec: 0; Current traffic:   0 B/sec\"\n   CGroup: /system.slice/httpd.service\n           \u251c\u250014029 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u250014030 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u250014031 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u250014032 /usr/sbin/httpd -DFOREGROUND\n           \u251c\u250014033 /usr/sbin/httpd -DFOREGROUND\n           \u2514\u250014034 /usr/sbin/httpd -DFOREGROUND\n\n12\u6708 13 19:14:36 x-x-x-x systemd[1]: Starting The Apache HTTP Server...\n12\u6708 13 19:14:36 x-x-x-x httpd[14029]: AH00558: httpd: Could not reli...e\n12\u6708 13 19:14:36 x-x-x-x systemd[1]: Started The Apache HTTP Server.\nHint: Some lines were ellipsized, use -l to show in full.\n```\n\n# OS\u306e\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\n\n\u30b5\u30fc\u30d3\u30b9\u306e\u5b58\u5728\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ systemctl status firewalld.service\nfirewalld.service - firewalld - dynamic firewall daemon\n   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled)\n   Active: active (running) since \u65e5 2015-12-13 17:52:05 JST; 1h 27min ago\n Main PID: 597 (firewalld)\n   CGroup: /system.slice/firewalld.service\n           \u2514\u2500597 /usr/bin/python -Es /usr/sbin/firewalld --nofork --nopid\n\n12\u6708 13 17:52:05 x-x-x-x systemd[1]: Started firewalld - dynamic fire....\nHint: Some lines were ellipsized, use -l to show in full.\n```\n\nConoHa\u306f\u6a19\u6e96\u3067enabled\u304b\u3064running\u306b\u306a\u3063\u3066\u3044\u308b\u3002\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n```\n$ firewall-cmd --list-all\npublic (default, active)\n  interfaces: eth0\n  sources: \n  services: dhcpv6-client ssh\n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n```\n\nservices\u306bhttp(80)\u3092\u8ffd\u52a0\u3059\u308b\u3002\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u53cd\u6620\u3059\u308b\u305f\u3081\u3001`--permanent`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3002\n\n```\n$ sudo firewall-cmd --permanent --add-service=http --zone=public\nsuccess\n```\n\n\u8a2d\u5b9a\u3092\u53cd\u6620\u3059\u308b\u3002\n\n```\n$ firewall-cmd --reload\nsuccess\n```\n\n\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n```\n$ firewall-cmd --list-all\npublic (default, active)\n  interfaces: eth0\n  sources: \n  services: dhcpv6-client http ssh\n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n```\n\n# Web\u30b5\u30a4\u30c8\u306e\u52d5\u4f5c\u78ba\u8a8d\n\n`example.com`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n# \u53c2\u8003\u6587\u732e\n\n- [\u3010\u521d\u5fc3\u8005\u5411\u3051\u3011CentOS 7\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u521d\u671f\u8a2d\u5b9a\u624b\u9806](http://dev.classmethod.jp/cloud/aws/centos7-initial-settings/)\n"}