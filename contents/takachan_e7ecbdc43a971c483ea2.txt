{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u30b9\u30de\u30fc\u30c8\u306a\u30c7\u30d7\u30ed\u30a4\u65b9\u6cd5\u306f\u307e\u3060\u793e\u5185\u3067\u306f\u78ba\u7acb\u51fa\u6765\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u73fe\u5728\u5bfe\u5fdc\u51fa\u6765\u308b\u65b9\u6cd5\u3092\u8003\u3048\u307e\u3057\u305f\u3002\n\u7a3c\u50cd\u4e2d\u306eweb\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u306fCapistrano\u3084Ansible\u30fbJenkins\u306a\u3069\u4f7f\u7528\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\u3067\u3059\u3002\n\u3053\u3053\u3067\u306e\u8aac\u660e\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n\u57fa\u672c\u69cb\u6210\n\n\n\u8aac\u660e\n\nELB+web2\u53f0\u69cb\u6210(\u8907\u6570\u53f0\u69cb\u6210\u3067\u3042\u308c\u3070\u3088\u3044)\nmaster\u306fAutoScaling\u3067\u8d77\u52d5\u3057\u3066\u3044\u304f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30d9\u30fc\u30b9\u3068\u306a\u308b\n\u5fc5\u305a\u3044\u305a\u308c\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3082\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u3067\u3042\u308b\u3053\u3068\nweb\u306b\u5bfe\u3057\u3066OS\u3084\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306e\u69cb\u6210\u306b\u5909\u66f4\u304c\u3042\u3063\u305f\u5834\u5408\u306f\u5fc5\u305amaster\u3092\u518d\u4f5c\u6210\u3059\u308b\u3053\u3068\n\u901a\u5e38\u306f\u505c\u6b62\u3057\u3066\u304a\u304d\u3001master\u306f\u30c7\u30d7\u30ed\u30a4\u6642\u306b\u306e\u307f\u8d77\u52d5\u3059\u308b\u3053\u3068\u3067\u30b3\u30b9\u30c8\u524a\u6e1b\u3002EIP\u3082\u632f\u3089\u306a\u3044\u3002\nweb\u3084master\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u306fCapistrano\u3084Ansible\u30fbJenkins\u306a\u3069\u4f7f\u7528\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\n\n\n\u30c7\u30d7\u30ed\u30a4\u5f8c\u306e\u30a4\u30e1\u30fc\u30b8\n\n\n\u8aac\u660e\n\nmaster\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u306fCapistrano\u3084Ansible\u30fbJenkins\u306a\u3069\u4f7f\u7528\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\nmaster\u3078\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u3089AMI\u4f5c\u6210\nLaunchConfigration\u3092\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fAMI\u306einstance-id\u3092\u8a2d\u5b9a\n\n\n\u5404AWS\u30ea\u30bd\u30fc\u30b9\u306e\u69cb\u6210\n\nEC2\n\n\n\nELB\n\n\nLaunch Configurations\nAMI ID\u304c\u4e0a\u8a18\u306eAMI ID\u3068\u540c\u3058\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\n\n\nAuto Scaling Groups\n\n\n\n\n\n\u30c7\u30d7\u30ed\u30a4\u3057AMI\u518d\u4f5c\u6210\u5f8c\u3001Launch Configurations\u518d\u4f5c\u6210\uff06Auto Scaling Groups\u66f4\u65b0\n\n\u624b\u9806\u2460master\u3078\u30c7\u30d7\u30ed\u30a4\u5f8c\u3001AMI\u4f5c\u6210\n\n\n\n\u624b\u9806\u2461Launch Configurations\u3092\u30b3\u30d4\u30fc\u3057\u518d\u4f5c\u6210\n\n\u4ee5\u4e0b\u3001\u5909\u66f4\u3059\u308b\u30dd\u30a4\u30f3\u30c8\u306e\u307f\u8a18\u8f09\n\n\uff1c\u5909\u66f4\u524d\uff1e\n\n\uff1c\u5909\u66f4\u5f8c\uff1e\n\n\"Launch-Configuration-v1.1\"\u3068\u3044\u3046\u540d\u524d\u3067v1,0\u3092\u30b3\u30d4\u30fc\u3057\u4f5c\u6210\u3055\u308c\u305f\u3002\n\n\n\u624b\u9806\u2462Auto Scaling Groups\u66f4\u65b0\n\n\n\n\n\u3055\u3044\u3054\u306b\n\u6ce5\u81ed\u3044\u3051\u3069\u5927\u898f\u6a21\u306a\u30b7\u30b9\u30c6\u30e0\u904b\u7528\u3067\u306a\u3051\u308c\u3070\u3001\u3053\u306e\u3088\u3046\u306a\u6d41\u308c\u3067\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u30b9\u30de\u30fc\u30c8\u306a\u65b9\u6cd5\u3092\u793e\u5185\u306e\u958b\u767a\u652f\u63f4\u30c1\u30fc\u30e0\u304c\u78ba\u7acb\u3057\u3066\u304f\u308c\u308b\u3068\u671f\u5f85\u3057\u3066\u3044\u307e\u3059\u3002\n\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059(\u30fb\u03c9<)\n## \u306f\u3058\u3081\u306b\n\u30b9\u30de\u30fc\u30c8\u306a\u30c7\u30d7\u30ed\u30a4\u65b9\u6cd5\u306f\u307e\u3060\u793e\u5185\u3067\u306f\u78ba\u7acb\u51fa\u6765\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u73fe\u5728\u5bfe\u5fdc\u51fa\u6765\u308b\u65b9\u6cd5\u3092\u8003\u3048\u307e\u3057\u305f\u3002\n\u7a3c\u50cd\u4e2d\u306eweb\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u306fCapistrano\u3084Ansible\u30fbJenkins\u306a\u3069\u4f7f\u7528\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\u3067\u3059\u3002\n\u3053\u3053\u3067\u306e\u8aac\u660e\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n## \u57fa\u672c\u69cb\u6210\n![Untitled.png](https://qiita-image-store.s3.amazonaws.com/2164/60057/e379c85e-4f82-8d29-9bac-4b74e634c768.png \"Untitled.png\")\n### \u8aac\u660e\n- ELB+web2\u53f0\u69cb\u6210(\u8907\u6570\u53f0\u69cb\u6210\u3067\u3042\u308c\u3070\u3088\u3044)\n- master\u306fAutoScaling\u3067\u8d77\u52d5\u3057\u3066\u3044\u304f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30d9\u30fc\u30b9\u3068\u306a\u308b\n- \u5fc5\u305a\u3044\u305a\u308c\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3082\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9\u3067\u3042\u308b\u3053\u3068\n- web\u306b\u5bfe\u3057\u3066OS\u3084\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306e\u69cb\u6210\u306b\u5909\u66f4\u304c\u3042\u3063\u305f\u5834\u5408\u306f\u5fc5\u305amaster\u3092\u518d\u4f5c\u6210\u3059\u308b\u3053\u3068\n- \u901a\u5e38\u306f\u505c\u6b62\u3057\u3066\u304a\u304d\u3001master\u306f\u30c7\u30d7\u30ed\u30a4\u6642\u306b\u306e\u307f\u8d77\u52d5\u3059\u308b\u3053\u3068\u3067\u30b3\u30b9\u30c8\u524a\u6e1b\u3002EIP\u3082\u632f\u3089\u306a\u3044\u3002\n- web\u3084master\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u306fCapistrano\u3084Ansible\u30fbJenkins\u306a\u3069\u4f7f\u7528\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\n\n## \u30c7\u30d7\u30ed\u30a4\u5f8c\u306e\u30a4\u30e1\u30fc\u30b8\n![Untitled2.png](https://qiita-image-store.s3.amazonaws.com/2164/60057/afc8f800-5016-9750-9c55-9ae2750ac283.png \"Untitled2.png\")\n\n### \u8aac\u660e\n- master\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u306fCapistrano\u3084Ansible\u30fbJenkins\u306a\u3069\u4f7f\u7528\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\n- master\u3078\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u3089AMI\u4f5c\u6210\n- LaunchConfigration\u3092\u4e0a\u8a18\u3067\u4f5c\u6210\u3057\u305fAMI\u306einstance-id\u3092\u8a2d\u5b9a\n\n## \u5404AWS\u30ea\u30bd\u30fc\u30b9\u306e\u69cb\u6210\n### EC2\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.39.53.PNG](https://qiita-image-store.s3.amazonaws.com/2164/60057/f860ad47-1729-63f5-21ee-323657ccd268.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.39.53.PNG\")\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.44.01.PNG](https://qiita-image-store.s3.amazonaws.com/2164/60057/2f9af7de-037d-ddd1-654d-e0bcfec37fa3.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.44.01.PNG\")\n\n### ELB\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.41.37.PNG](https://qiita-image-store.s3.amazonaws.com/2164/60057/f38e0cf2-2a36-5d57-901b-bef705e5395b.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.41.37.PNG\")\n\n### Launch Configurations\nAMI ID\u304c\u4e0a\u8a18\u306eAMI ID\u3068\u540c\u3058\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.42.40.PNG](https://qiita-image-store.s3.amazonaws.com/2164/60057/34abfc63-9b93-e0ed-c1d5-5cfc55fa950c.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.42.40.PNG\")\n\n### Auto Scaling Groups\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.46.35.PNG](https://qiita-image-store.s3.amazonaws.com/2164/60057/44d663ad-ee2b-78a0-ea75-ae3e9cbec399.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.46.35.PNG\")\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.47.09.PNG](https://qiita-image-store.s3.amazonaws.com/2164/60057/61b95e32-81b4-3198-8d97-2b7cc607d665.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.47.09.PNG\")\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.47.40.PNG](https://qiita-image-store.s3.amazonaws.com/2164/60057/d1c41159-ba04-e76e-0990-f60ca2585fc2.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.47.40.PNG\")\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.48.13.PNG](https://qiita-image-store.s3.amazonaws.com/2164/60057/70f9c56f-8ac6-e797-2dad-c1de7b9d460b.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-16 01.48.13.PNG\")\n\n## \u30c7\u30d7\u30ed\u30a4\u3057AMI\u518d\u4f5c\u6210\u5f8c\u3001Launch Configurations\u518d\u4f5c\u6210\uff06Auto Scaling Groups\u66f4\u65b0\n### \u624b\u9806\u2460master\u3078\u30c7\u30d7\u30ed\u30a4\u5f8c\u3001AMI\u4f5c\u6210\n![create_image2.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/224b09ba-0d89-78c0-5afe-c865931691d4.jpeg \"create_image2.jpg\")\n\n![create_image.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/9ede7ee3-9b94-1658-1a42-f17be8938b0d.jpeg \"create_image.jpg\")\n\n### \u624b\u9806\u2461Launch Configurations\u3092\u30b3\u30d4\u30fc\u3057\u518d\u4f5c\u6210\n![launch_configuration1.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/83a9f1bc-c768-b57d-0830-15bc55b20470.jpeg \"launch_configuration1.jpg\")\n\u4ee5\u4e0b\u3001\u5909\u66f4\u3059\u308b\u30dd\u30a4\u30f3\u30c8\u306e\u307f\u8a18\u8f09\n![launch_configuration2.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/eeac77da-2b5c-1fb8-bc1b-0b4b6e36da80.jpeg \"launch_configuration2.jpg\")\n\n\uff1c\u5909\u66f4\u524d\uff1e\n![launch_configuration3.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/1a0e5867-757b-81fa-29f4-091e643b3fe9.jpeg \"launch_configuration3.jpg\")\n\uff1c\u5909\u66f4\u5f8c\uff1e\n![launch_configuration4.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/097ed73e-c7ad-028d-e7d8-928100d9db44.jpeg \"launch_configuration4.jpg\")\n\n\"Launch-Configuration-v1.1\"\u3068\u3044\u3046\u540d\u524d\u3067v1,0\u3092\u30b3\u30d4\u30fc\u3057\u4f5c\u6210\u3055\u308c\u305f\u3002\n![launch_configuration5.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/6eb9fef3-271d-3257-eed3-49711d623de3.jpeg \"launch_configuration5.jpg\")\n\n### \u624b\u9806\u2462Auto Scaling Groups\u66f4\u65b0\n![asg4.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/57acc02f-2475-022d-aa95-d9227758d31b.jpeg \"asg4.jpg\")\n\n![asg2.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/ae956678-d338-2def-f7f7-b06f280efa6d.jpeg \"asg2.jpg\")\n![asg3.jpg](https://qiita-image-store.s3.amazonaws.com/2164/60057/1aba6421-fdaf-3d7d-e2c2-2f98165efc8e.jpeg \"asg3.jpg\")\n\n\n## \u3055\u3044\u3054\u306b\n\u6ce5\u81ed\u3044\u3051\u3069\u5927\u898f\u6a21\u306a\u30b7\u30b9\u30c6\u30e0\u904b\u7528\u3067\u306a\u3051\u308c\u3070\u3001\u3053\u306e\u3088\u3046\u306a\u6d41\u308c\u3067\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u30b9\u30de\u30fc\u30c8\u306a\u65b9\u6cd5\u3092\u793e\u5185\u306e\u958b\u767a\u652f\u63f4\u30c1\u30fc\u30e0\u304c\u78ba\u7acb\u3057\u3066\u304f\u308c\u308b\u3068\u671f\u5f85\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059(\u30fb\u03c9<)\n", "tags": ["AWS", "AutoScaling", "deploy"]}