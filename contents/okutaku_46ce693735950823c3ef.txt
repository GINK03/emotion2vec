{"tags": ["Ruby", "Rails", "seed", "FactoryGirl"], "context": "\n\n\u5185\u5bb9\nRuby on Rails\u3067\u958b\u767a\u3092\u3059\u308b\u3068\u304d\u306b\u3001\u958b\u767a\u7528\u306e\u30c7\u30fc\u30bf (\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf)\u304c\u3042\u308b\u3068\u4fbf\u5229\u3067\u3001\u3053\u308c\u304c\u306a\u3044\u3068\u3042\u308b\u3068\u3067\u306f\u958b\u767a\u901f\u5ea6\u304c\u9055\u3046\u3068\u601d\u3044\u307e\u3059\nFactoryGirl\u306f\u30c6\u30b9\u30c8\u7528\u30c7\u30fc\u30bf\u3092\u4f5c\u308b\u969b\u306b\u3088\u304f\u5229\u7528\u3055\u308c\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u3092\u958b\u767a\u7528\u30c7\u30fc\u30bf\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306b\u4f7f\u3046\u3068\u4fbf\u5229\u306a\u306e\u3067\u7d39\u4ecb\u3057\u307e\u3059\n\u203b \u6163\u308c\u305f\u958b\u767a\u8005\u306f\u65e2\u77e5\u3060\u3068\u601d\u3046\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3092\u3059\u3063\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\n\n\u958b\u767a\u74b0\u5883\n\nRuby: 2.4.0\n\nRails: 5.0.1\n\nFactoryGirl: 4.8.0\n\nFactoryGirlRails: 4.8.0\n\n\n\nModel\n\u4eca\u56de\u306fbooks\u3068\u3044\u3046\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3059\n\napp/models/book.rb\n# == Schema Information\n#\n# Table name: books\n#\n#  id              :integer          not null, primary key\n#  title           :string(255)      not null\n#  created_at      :datetime\n#  updated_at      :datetime\n#\n\nclass Book < ApplicationRecord\nend\n\n\n\u203b \u4e0a\u306e\u69d8\u306b\u30b9\u30ad\u30fc\u30de\u3092model\u306b\u66f8\u3044\u3066\u304f\u308c\u308bannotate\u3068\u3044\u3046gem\u304c\u4fbf\u5229\u3067\u3059\n\nFactoryGirl\nFactoryGirl\u306f\u4ee5\u4e0b\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\nspec/factories/books.rb\n# == Schema Information\n#\n# Table name: books\n#\n#  id              :integer          not null, primary key\n#  title           :string(255)      not null\n#  created_at      :datetime\n#  updated_at      :datetime\n#\n\nFactoryGirl.define do\n  factory :book do\n    sequence(:title) { |n| \"Book Title#{n}\" }\n  end\nend\n\n\n\nannotate\u3092\u5165\u308c\u3066\u304a\u304f\u3068\u3001\u3053\u3053\u306b\u3082\u30b9\u30ad\u30fc\u30de\u306e\u60c5\u5831\u3092\u66f8\u3044\u3066\u304f\u308c\u308b\u306e\u3067\u4fbf\u5229\u3067\u3059\n\u7b46\u8005\u306fRspec\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\n\nSeed\n\u672c\u984c\u3001\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3057\u307e\u3059\n\ndb/seeds.rb\nrequire 'factory_girl'\ninclude FactoryGirl::Syntax::Methods\n\nFactoryGirl.definition_file_paths = [ Rails.root.join('spec', 'factories') ]\nFactoryGirl.reload\n\ntable_names = %w(\n  books\n)\ntable_names.each do |table_name|\n  path = Rails.root.join(\"db/seeds\", Rails.env, table_name + \".rb\")\n  if File.exist?(path)\n    puts \"Creating #{table_name}...\"\n    require path\n  end\nend\n\n\n\n\u3053\u3053\u3067\u306f\u3001FactoryGirl\u3092require\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\u306fspec/factories\u306b\u3042\u308b\u3053\u3068\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\n\u3055\u3089\u306b\u3001\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3092\u5165\u308c\u308b\u969b\u306b\u5b9f\u88c5\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3092tables\u306b\u3044\u308c\u3001\u8aad\u307f\u8fbc\u307f\u307e\u3059\n\ndb/seeds/development/books.rb\n5.times{ create(:book) }\n\n\n\u3053\u3053\u3092\u8a00\u3044\u305f\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u306ecreate(:book)\u304cFactoryGirl\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\nbin/rails db:seed\n\n\u3053\u308c\u3067FactoryGirl\u3092\u5229\u7528\u3057\u3066\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3092\u6295\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3057\u305f\n\n\u4f55\u304c\u3044\u3044\u306e\u304b\ndb/seeds/development/books.rb\u306f\u4ee5\u4e0b\u306e\u69d8\u306b\u66f8\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\n\ndb/seeds/development/books.rb\n5.times{ |n|\n  Book.create({\n    title: \"Book Title#{n}\"\n  })\n}\n\n\n\u306a\u3089\u3053\u308c\u3067\u3044\u3044\u3058\u3083\u3093\u3068\u3044\u3046\u8a71\u306b\u306a\u308b\u306e\u3067\u3059\u304c\u3001\u958b\u767a\u3092\u9032\u3081\u3066\u3044\u304f\u3068\u3001\u3053\u306ebooks\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u3044\u3058\u308a\u305f\u3044\u3068\u3044\u3046\u8981\u671b\u304c\u9ad8\u78ba\u7387\u3067\u51fa\u3066\u304d\u307e\u3059\n\u305d\u306e\u969b\u306b\u3001\u30ab\u30e9\u30e0\u3092\u5909\u66f4\u3057\u305f\u308a\u3001null\u5236\u7d04\u3092\u5909\u66f4\u3057\u305f\u308a\u3059\u308b\u3068\u3001\u305d\u308c\u306b\u5fdc\u3058\u3066\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3084\u30c6\u30b9\u30c8\u306b\u3082\u5909\u66f4\u3092\u52a0\u3048\u308b\u5fc5\u8981\u304c\u751f\u3058\u307e\u3059\n\u5927\u898f\u6a21\u304b\u3064\u91cd\u8981\u306a\u30c6\u30fc\u30d6\u30eb\u3067\u306f\u5909\u66f4\u6f0f\u308c\u306a\u3069\u3001\u30b1\u30a2\u30ec\u30b9\u30df\u30b9\u306f\u907f\u3051\u305f\u3044\u3068\u3053\u308d\u3067\u3059\n\u305d\u306e\u305f\u3081\u3001\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3059\u308b\u305f\u3081\u306e\u8a18\u8ff0\u306f\u9650\u308a\u306a\u304f\u5c11\u306a\u3044\u65b9\u304c\u3044\u3044\u306f\u305a\u3067\u3059\n\u3053\u308c\u306f\u7b46\u8005\u306e\u4e3b\u89b3\u3067\u3059\u304c\u3001\u4e00\u500b\u5909\u3048\u305f\u3089\u5168\u90e8\u5909\u308f\u308b\u69d8\u306a\u8a2d\u8a08\u304c\u3044\u3044\u306a\u3068\u601d\u3044\u307e\u3059\n## \u5185\u5bb9\n\nRuby on Rails\u3067\u958b\u767a\u3092\u3059\u308b\u3068\u304d\u306b\u3001\u958b\u767a\u7528\u306e\u30c7\u30fc\u30bf (\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf)\u304c\u3042\u308b\u3068\u4fbf\u5229\u3067\u3001\u3053\u308c\u304c\u306a\u3044\u3068\u3042\u308b\u3068\u3067\u306f\u958b\u767a\u901f\u5ea6\u304c\u9055\u3046\u3068\u601d\u3044\u307e\u3059\nFactoryGirl\u306f\u30c6\u30b9\u30c8\u7528\u30c7\u30fc\u30bf\u3092\u4f5c\u308b\u969b\u306b\u3088\u304f\u5229\u7528\u3055\u308c\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u3092\u958b\u767a\u7528\u30c7\u30fc\u30bf\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306b\u4f7f\u3046\u3068\u4fbf\u5229\u306a\u306e\u3067\u7d39\u4ecb\u3057\u307e\u3059\n**\u203b \u6163\u308c\u305f\u958b\u767a\u8005\u306f\u65e2\u77e5\u3060\u3068\u601d\u3046\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3092\u3059\u3063\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044**\n\n## \u958b\u767a\u74b0\u5883\n\n- Ruby: `2.4.0`\n- Rails: `5.0.1`\n- FactoryGirl: `4.8.0`\n- FactoryGirlRails: `4.8.0`\n\n## Model\n\n\u4eca\u56de\u306f**books**\u3068\u3044\u3046\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3059\n\n```app/models/book.rb\n# == Schema Information\n#\n# Table name: books\n#\n#  id              :integer          not null, primary key\n#  title           :string(255)      not null\n#  created_at      :datetime\n#  updated_at      :datetime\n#\n\nclass Book < ApplicationRecord\nend\n```\n\n\u203b \u4e0a\u306e\u69d8\u306b\u30b9\u30ad\u30fc\u30de\u3092model\u306b\u66f8\u3044\u3066\u304f\u308c\u308b`annotate`\u3068\u3044\u3046gem\u304c\u4fbf\u5229\u3067\u3059\n\n## FactoryGirl\n\nFactoryGirl\u306f\u4ee5\u4e0b\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```spec/factories/books.rb\n# == Schema Information\n#\n# Table name: books\n#\n#  id              :integer          not null, primary key\n#  title           :string(255)      not null\n#  created_at      :datetime\n#  updated_at      :datetime\n#\n\nFactoryGirl.define do\n  factory :book do\n    sequence(:title) { |n| \"Book Title#{n}\" }\n  end\nend\n\n```\n\n`annotate`\u3092\u5165\u308c\u3066\u304a\u304f\u3068\u3001\u3053\u3053\u306b\u3082\u30b9\u30ad\u30fc\u30de\u306e\u60c5\u5831\u3092\u66f8\u3044\u3066\u304f\u308c\u308b\u306e\u3067\u4fbf\u5229\u3067\u3059\n\u7b46\u8005\u306fRspec\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\n\n## Seed\n\n\u672c\u984c\u3001\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3057\u307e\u3059\n\n```db/seeds.rb\nrequire 'factory_girl'\ninclude FactoryGirl::Syntax::Methods\n\nFactoryGirl.definition_file_paths = [ Rails.root.join('spec', 'factories') ]\nFactoryGirl.reload\n\ntable_names = %w(\n  books\n)\ntable_names.each do |table_name|\n  path = Rails.root.join(\"db/seeds\", Rails.env, table_name + \".rb\")\n  if File.exist?(path)\n    puts \"Creating #{table_name}...\"\n    require path\n  end\nend\n\n```\n\n\u3053\u3053\u3067\u306f\u3001FactoryGirl\u3092`require`\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\u306f`spec/factories`\u306b\u3042\u308b\u3053\u3068\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\n\u3055\u3089\u306b\u3001\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3092\u5165\u308c\u308b\u969b\u306b\u5b9f\u88c5\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3092`tables`\u306b\u3044\u308c\u3001\u8aad\u307f\u8fbc\u307f\u307e\u3059\n\n```db/seeds/development/books.rb\n5.times{ create(:book) }\n```\n\n\u3053\u3053\u3092\u8a00\u3044\u305f\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u306e`create(:book)`\u304cFactoryGirl\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3059\n\n```\nbin/rails db:seed\n```\n\u3053\u308c\u3067FactoryGirl\u3092\u5229\u7528\u3057\u3066\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3092\u6295\u5165\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3057\u305f\n\n### \u4f55\u304c\u3044\u3044\u306e\u304b\n\n`db/seeds/development/books.rb`\u306f\u4ee5\u4e0b\u306e\u69d8\u306b\u66f8\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\n\n```db/seeds/development/books.rb\n5.times{ |n|\n  Book.create({\n    title: \"Book Title#{n}\"\n  })\n}\n```\n\n\u306a\u3089\u3053\u308c\u3067\u3044\u3044\u3058\u3083\u3093\u3068\u3044\u3046\u8a71\u306b\u306a\u308b\u306e\u3067\u3059\u304c\u3001\u958b\u767a\u3092\u9032\u3081\u3066\u3044\u304f\u3068\u3001\u3053\u306e`books`\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u3044\u3058\u308a\u305f\u3044\u3068\u3044\u3046\u8981\u671b\u304c\u9ad8\u78ba\u7387\u3067\u51fa\u3066\u304d\u307e\u3059\n\u305d\u306e\u969b\u306b\u3001\u30ab\u30e9\u30e0\u3092\u5909\u66f4\u3057\u305f\u308a\u3001null\u5236\u7d04\u3092\u5909\u66f4\u3057\u305f\u308a\u3059\u308b\u3068\u3001\u305d\u308c\u306b\u5fdc\u3058\u3066\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3084\u30c6\u30b9\u30c8\u306b\u3082\u5909\u66f4\u3092\u52a0\u3048\u308b\u5fc5\u8981\u304c\u751f\u3058\u307e\u3059\n\u5927\u898f\u6a21\u304b\u3064\u91cd\u8981\u306a\u30c6\u30fc\u30d6\u30eb\u3067\u306f\u5909\u66f4\u6f0f\u308c\u306a\u3069\u3001\u30b1\u30a2\u30ec\u30b9\u30df\u30b9\u306f\u907f\u3051\u305f\u3044\u3068\u3053\u308d\u3067\u3059\n\u305d\u306e\u305f\u3081\u3001\u30b7\u30fc\u30c9\u30c7\u30fc\u30bf\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3059\u308b\u305f\u3081\u306e\u8a18\u8ff0\u306f\u9650\u308a\u306a\u304f\u5c11\u306a\u3044\u65b9\u304c\u3044\u3044\u306f\u305a\u3067\u3059\n\u3053\u308c\u306f\u7b46\u8005\u306e\u4e3b\u89b3\u3067\u3059\u304c\u3001\u4e00\u500b\u5909\u3048\u305f\u3089\u5168\u90e8\u5909\u308f\u308b\u69d8\u306a\u8a2d\u8a08\u304c\u3044\u3044\u306a\u3068\u601d\u3044\u307e\u3059\n"}