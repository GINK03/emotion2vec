{"context": "\n\u52d5\u4f5c\u74b0\u5883\nSketchUp Make v17.1.173\nMacOS X El Capitan\n\n\n\u95a2\u9023\u3000http://qiita.com/7of9/items/ff5921cf65b5f88d9311\nNIC direct\u3067\u30d5\u30ec\u30fc\u30e0\u767a\u6ce8\u3059\u308b\u4e88\u5b9a\u306elaundry rack\u306e\u30c7\u30b6\u30a4\u30f3\u3002\u3000\n\u30d5\u30ec\u30fc\u30e0\u306e\u5e45\u3092\u5909\u66f4\u3057\u305f\u6642\u306e\u4f4d\u7f6e\u5408\u308f\u305b\u304c\u9762\u5012\u3060\u3002\nAPI/Ruby\u306e\u52c9\u5f37\u3064\u3044\u3067\u306b\u5b9f\u88c5\u3057\u3066\u307f\u305f\u3002\n\ncode\n\nalign161230.rb\nrequire 'sketchup.rb'\n\ndef align_group_to_worldOrigin()\n    model = Sketchup.active_model\n    my_selection = model.selection\n\n    my_selection.each do |ent|\n        if ent.is_a? Sketchup::Group\n        tr = ent.transformation\n        org = tr.origin # :Point3d\n        pnt = Geom::Point3d.new(-org[0], -org[1], -org[2])\n        mve = Geom::Transformation.new(pnt)\n        ent.transform! mve\n        end\n    end\nend\n\ndef align_groups_center_xdirection()\n    model = Sketchup.active_model\n    my_selection = model.selection\n\n    firstGroup = true\n    center0 = 0.0 # set 0.0 for placeholder of double type (not good coding)\n    my_selection.each do |ent|\n        if !(ent.is_a? Sketchup::Group) then\n             continue\n        end\n\n        # calculate x center of group[0]\n        tr = ent.transformation\n        org = tr.origin # :Point3d\n        cnt = org[0] + ent.bounds.width / 2.0 # center in x direction\n\n        if firstGroup then\n            # store x center of group[0]\n            firstGroup = false\n            center0 = cnt\n        else\n            # move groups according to saved info\n            xshift = center0 - org[0] - ent.bounds.width / 2.0\n            pnt = Geom::Point3d.new(xshift, 0, 0)\n            mve = Geom::Transformation.new(pnt)\n            ent.transform! mve\n        end\n    end\nend\n\n\nalign_groups_center_xdirection()\u3092\u4f7f\u3046\u3002\n\n\u5b9f\u884c\u624b\u9806\n\n\u8907\u6570\u306eGroup\u3092\u9078\u629e\u3059\u308b\nRuby\u30b3\u30f3\u30bd\u30fc\u30eb\u3067align_groups_center_xdirection()\u3092\u5b9f\u884c\u3059\u308b\n\n\u6574\u5217\u524d\n\n\u6574\u5217\u5f8c\u3000\n\n\n\u5ea7\u6a19\u8a08\u7b97\u306b\u3064\u3044\u3066\n\ncenter0: group[0]\u306e\u4e2d\u5fc3\u5ea7\u6a19(X\u65b9\u5411)\n\ngroup[1..]\u306e\u79fb\u52d5\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u3068\u3057\u3066\u3044\u308b\u3002\n\norg\u3068center0\u3068\u306e\u5dee\u5206\u3092\u8a08\u7b97\u3057\u3066\u3001\u4e00\u65e6group[0]\u306e0\u306b\u5408\u308f\u305b\u308b\ngroup[1..]\u306ewidth/2\u5206\u3060\u3051\u88dc\u6b63\u3057\u306a\u304a\u3059\u3053\u3068\u3067\u3001group[1..]\u306e\u4e2d\u5fc3\u306b\u5408\u308f\u305b\u308b\n\n\u4e0a\u306e1,2\u3092\u5408\u308f\u305b\u305f\u306e\u304c\u4ee5\u4e0b\u3002\nxshift = center0 - org[0] - ent.bounds.width / 2.0\n\n\u8a66\u75281\n\u5de6\u306e\u69cb\u9020\u7269\u306eX\u8ef8\u3092\u3042\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\n```txt:\u52d5\u4f5c\u74b0\u5883\nSketchUp Make v17.1.173\nMacOS X El Capitan\n```\n\n\u95a2\u9023\u3000http://qiita.com/7of9/items/ff5921cf65b5f88d9311\n\nNIC direct\u3067\u30d5\u30ec\u30fc\u30e0\u767a\u6ce8\u3059\u308b\u4e88\u5b9a\u306elaundry rack\u306e\u30c7\u30b6\u30a4\u30f3\u3002\u3000\n\n\u30d5\u30ec\u30fc\u30e0\u306e\u5e45\u3092\u5909\u66f4\u3057\u305f\u6642\u306e\u4f4d\u7f6e\u5408\u308f\u305b\u304c\u9762\u5012\u3060\u3002\n\nAPI/Ruby\u306e\u52c9\u5f37\u3064\u3044\u3067\u306b\u5b9f\u88c5\u3057\u3066\u307f\u305f\u3002\n\n### code \n\n```align161230.rb\nrequire 'sketchup.rb'\n\ndef align_group_to_worldOrigin()\n    model = Sketchup.active_model\n    my_selection = model.selection\n\n    my_selection.each do |ent|\n        if ent.is_a? Sketchup::Group\n        tr = ent.transformation\n        org = tr.origin # :Point3d\n        pnt = Geom::Point3d.new(-org[0], -org[1], -org[2])\n        mve = Geom::Transformation.new(pnt)\n        ent.transform! mve\n        end\n    end\nend\n\ndef align_groups_center_xdirection()\n    model = Sketchup.active_model\n    my_selection = model.selection\n\n    firstGroup = true\n    center0 = 0.0 # set 0.0 for placeholder of double type (not good coding)\n    my_selection.each do |ent|\n        if !(ent.is_a? Sketchup::Group) then\n             continue\n        end\n\n        # calculate x center of group[0]\n        tr = ent.transformation\n        org = tr.origin # :Point3d\n        cnt = org[0] + ent.bounds.width / 2.0 # center in x direction\n        \n        if firstGroup then\n            # store x center of group[0]\n            firstGroup = false\n            center0 = cnt\n        else\n            # move groups according to saved info\n            xshift = center0 - org[0] - ent.bounds.width / 2.0\n            pnt = Geom::Point3d.new(xshift, 0, 0)\n            mve = Geom::Transformation.new(pnt)\n            ent.transform! mve\n        end\n    end\nend\n```\n\nalign_groups_center_xdirection()\u3092\u4f7f\u3046\u3002\n\n### \u5b9f\u884c\u624b\u9806\n\n1. \u8907\u6570\u306eGroup\u3092\u9078\u629e\u3059\u308b\n2. Ruby\u30b3\u30f3\u30bd\u30fc\u30eb\u3067align_groups_center_xdirection()\u3092\u5b9f\u884c\u3059\u308b\n\n\u6574\u5217\u524d\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/32870/e20f2acc-b0ad-99ed-d650-64ab77785a28.png)\n\n\u6574\u5217\u5f8c\u3000\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/32870/a98d8870-3dd4-12e1-2b58-7d2641922751.png)\n\n### \u5ea7\u6a19\u8a08\u7b97\u306b\u3064\u3044\u3066\n\n- center0: group[0]\u306e\u4e2d\u5fc3\u5ea7\u6a19(X\u65b9\u5411)\n\ngroup[1..]\u306e\u79fb\u52d5\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u3068\u3057\u3066\u3044\u308b\u3002\n\n1. org\u3068center0\u3068\u306e\u5dee\u5206\u3092\u8a08\u7b97\u3057\u3066\u3001\u4e00\u65e6group[0]\u306e0\u306b\u5408\u308f\u305b\u308b\n2. group[1..]\u306ewidth/2\u5206\u3060\u3051\u88dc\u6b63\u3057\u306a\u304a\u3059\u3053\u3068\u3067\u3001group[1..]\u306e\u4e2d\u5fc3\u306b\u5408\u308f\u305b\u308b\n\n\u4e0a\u306e1,2\u3092\u5408\u308f\u305b\u305f\u306e\u304c\u4ee5\u4e0b\u3002\n`xshift = center0 - org[0] - ent.bounds.width / 2.0`\n\n\n### \u8a66\u75281\n\n\u5de6\u306e\u69cb\u9020\u7269\u306eX\u8ef8\u3092\u3042\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/32870/226f391c-9153-aadc-38db-6be69f4972e2.png)\n\n", "tags": ["SketchUp", "Ruby", "geometry"]}