{"context": "\n\n\u4eca\u56de\u306eTips\nphina.js\u3067\u30b2\u30fc\u30e0\u3092\u4f5c\u308b\u969b\u306b\u306f\u3001\u901a\u5e38\u306fSprite\u3084Shape\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\u3057\u304b\u3057\u3001phina.js\u306b\u306fhtml5\u306ecanvas\u3092\u6a5f\u80fd\u7684\u306b\u30e9\u30c3\u30d7\u3057\u305fphina.graphics.Canvas\u3068\u3044\u3046\u4fbf\u5229\u306a\u30af\u30e9\u30b9\u304c\u3042\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u3053\u306eCanvas\u30af\u30e9\u30b9\u306e\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u7dda\u306e\u63cf\u753b\u3092\u884c\u3046PathShape\u3068\u7d44\u307f\u5408\u308f\u305b\u305f\u30b5\u30f3\u30d7\u30eb\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n[runstant\u3067\u78ba\u8a8d]\n\n\u77e9\u5f62\u3092\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u96e2\u3059\u3068\u753b\u9762\u4e2d\u592e\u306b\u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u3057\u3066\u623b\u308a\u307e\u3059\u3002\n\u7dda\u63cf\u753b\u7528\u3068\u3057\u3066\u3001\u753b\u9762\u3068\u540c\u3058\u5e83\u3055\u3092\u6301\u3064PathShape\u3092\u4f5c\u3063\u3066\u30b7\u30fc\u30f3\u306b\u91cd\u306d\u5408\u308f\u305b\u3066\u3044\u307e\u3059\u3002\n\nPathShape\u3067\u7dda\u3092\u63cf\u753b\u3057\u3066\u3001\u77e9\u5f62\u304b\u3089\u7dda\u304c\u51fa\u3066\u3044\u308b\u3088\u3046\u306b\u4f4d\u7f6e\u3092\u5408\u308f\u305b\u3066\u3044\u307e\u3059\u3002\n\nPathShape\u306e\u30d1\u30b9\u60c5\u5831\u3092\u6bce\u30d5\u30ec\u30fc\u30e0\u66f4\u65b0\u3057\u3066\u3001\u7dda\u304c\u77e9\u5f62\u306b\u8ffd\u5f93\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u30d1\u30b9\u60c5\u5831\u3092\u4e0e\u3048\u308c\u3070\u3001PathShape\u304c\u81ea\u52d5\u3067\u7dda\u3092\u63cf\u753b\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\nphina.globalize();\n/*\n * \u30e1\u30a4\u30f3\u30b7\u30fc\u30f3\n */\nphina.define(\"MainScene\", {\n  superClass: 'DisplayScene',\n  // \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\n  init: function() {\n    // \u89aa\u30af\u30e9\u30b9\u521d\u671f\u5316\n    this.superInit();\n    // \u80cc\u666f\u8272\n    this.backgroundColor = 'black';\n    // \u753b\u9762\u306e\u30b5\u30a4\u30ba\n    var w = this.gridX.width;\n    var h = this.gridY.width;\n    var cx = w /2;\n    var cy = h / 2;\n\n    Label({\n      text: 'Drag a rect and release',\n      fontSize: 48,\n      fill: 'yellow',\n    }).addChildTo(this).setPosition(cx, this.gridY.span(2));\n    // \u77e9\u5f62\n    var rect = RectangleShape().setPosition(cx, cy);\n    // PathShape\u3092\u5229\u7528\u3057\u3066\u30ed\u30fc\u30d7\u3092\u4f5c\u6210\n    var rope = PathShape({\n      width: w, \n      height: h, \n      stroke: 'red',\n      strokeWidth: 8,\n      paths: [Vector2(cx, cy), Vector2(rect.x, rect.y)],\n    }).addChildTo(this);\n    // \u63cf\u753b\u9806\u3092\u8003\u3048\u3066\u3053\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u8ffd\u52a0\n    rect.addChildTo(this);\n    // \u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306b\u3059\u308b\n    Draggable().attachTo(rect);\n    // \u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u3089\n    rect.onpointend = function() {\n      // \u4e2d\u5fc3\u3078\u79fb\u52d5\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n      rect.tweener.to({x: cx, y: cy}, 1000, 'easeOutElastic').play();\n    };\n    // \u6bce\u30d5\u30ec\u30fc\u30e0\u66f4\u65b0\n    this.update = function() {\n      // path\u3092\u66f4\u65b0\n      rope.changePath(1, rect.x, rect.y);\n    };\n  },\n});\n/*\n * \u30e1\u30a4\u30f3\u51e6\u7406\n */\nphina.main(function() {\n  // \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u6210\n  var app = GameApp({\n    // MainScene \u304b\u3089\u958b\u59cb\n    startLabel: 'main',\n  });\n  // fps\u8868\u793a\n  //app.enableStats();\n  // \u5b9f\u884c\n  app.run();\n});\n\n## \u4eca\u56de\u306eTips\nphina.js\u3067\u30b2\u30fc\u30e0\u3092\u4f5c\u308b\u969b\u306b\u306f\u3001\u901a\u5e38\u306f**Sprite**\u3084**Shape**\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\u3057\u304b\u3057\u3001phina.js\u306b\u306f**html5**\u306e**canvas**\u3092\u6a5f\u80fd\u7684\u306b\u30e9\u30c3\u30d7\u3057\u305f**phina.graphics.Canvas**\u3068\u3044\u3046\u4fbf\u5229\u306a\u30af\u30e9\u30b9\u304c\u3042\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u3053\u306e**Canvas**\u30af\u30e9\u30b9\u306e\u6a5f\u80fd\u3092\u5229\u7528\u3057\u3066\u7dda\u306e\u63cf\u753b\u3092\u884c\u3046**PathShape**\u3068\u7d44\u307f\u5408\u308f\u305b\u305f\u30b5\u30f3\u30d7\u30eb\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n![phina-canvas.png](https://qiita-image-store.s3.amazonaws.com/0/67114/ad73d4f8-08a9-4714-f2b5-1d5adeb31a0d.png)\n\n\n<a href=\"http://runstant.com/alkn203/projects/6e0e6f07\" target=\"_blank\">[runstant\u3067\u78ba\u8a8d]</a>\n\n* \u77e9\u5f62\u3092\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u96e2\u3059\u3068\u753b\u9762\u4e2d\u592e\u306b\u30d0\u30cd\u306e\u3088\u3046\u306a\u52d5\u304d\u3092\u3057\u3066\u623b\u308a\u307e\u3059\u3002\n* \u7dda\u63cf\u753b\u7528\u3068\u3057\u3066\u3001\u753b\u9762\u3068\u540c\u3058\u5e83\u3055\u3092\u6301\u3064**PathShape**\u3092\u4f5c\u3063\u3066\u30b7\u30fc\u30f3\u306b\u91cd\u306d\u5408\u308f\u305b\u3066\u3044\u307e\u3059\u3002\n* **PathShape**\u3067\u7dda\u3092\u63cf\u753b\u3057\u3066\u3001\u77e9\u5f62\u304b\u3089\u7dda\u304c\u51fa\u3066\u3044\u308b\u3088\u3046\u306b\u4f4d\u7f6e\u3092\u5408\u308f\u305b\u3066\u3044\u307e\u3059\u3002\n* **PathShape**\u306e\u30d1\u30b9\u60c5\u5831\u3092\u6bce\u30d5\u30ec\u30fc\u30e0\u66f4\u65b0\u3057\u3066\u3001\u7dda\u304c\u77e9\u5f62\u306b\u8ffd\u5f93\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n* \u30d1\u30b9\u60c5\u5831\u3092\u4e0e\u3048\u308c\u3070\u3001**PathShape**\u304c\u81ea\u52d5\u3067\u7dda\u3092\u63cf\u753b\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n```js\nphina.globalize();\n/*\n * \u30e1\u30a4\u30f3\u30b7\u30fc\u30f3\n */\nphina.define(\"MainScene\", {\n  superClass: 'DisplayScene',\n  // \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\n  init: function() {\n    // \u89aa\u30af\u30e9\u30b9\u521d\u671f\u5316\n    this.superInit();\n    // \u80cc\u666f\u8272\n    this.backgroundColor = 'black';\n    // \u753b\u9762\u306e\u30b5\u30a4\u30ba\n    var w = this.gridX.width;\n    var h = this.gridY.width;\n    var cx = w /2;\n    var cy = h / 2;\n    \n    Label({\n      text: 'Drag a rect and release',\n      fontSize: 48,\n      fill: 'yellow',\n    }).addChildTo(this).setPosition(cx, this.gridY.span(2));\n    // \u77e9\u5f62\n    var rect = RectangleShape().setPosition(cx, cy);\n    // PathShape\u3092\u5229\u7528\u3057\u3066\u30ed\u30fc\u30d7\u3092\u4f5c\u6210\n    var rope = PathShape({\n      width: w, \n      height: h, \n      stroke: 'red',\n      strokeWidth: 8,\n      paths: [Vector2(cx, cy), Vector2(rect.x, rect.y)],\n    }).addChildTo(this);\n    // \u63cf\u753b\u9806\u3092\u8003\u3048\u3066\u3053\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u8ffd\u52a0\n    rect.addChildTo(this);\n    // \u30c9\u30e9\u30c3\u30b0\u53ef\u80fd\u306b\u3059\u308b\n    Draggable().attachTo(rect);\n    // \u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u3089\n    rect.onpointend = function() {\n      // \u4e2d\u5fc3\u3078\u79fb\u52d5\u3059\u308b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\n      rect.tweener.to({x: cx, y: cy}, 1000, 'easeOutElastic').play();\n    };\n    // \u6bce\u30d5\u30ec\u30fc\u30e0\u66f4\u65b0\n    this.update = function() {\n      // path\u3092\u66f4\u65b0\n      rope.changePath(1, rect.x, rect.y);\n    };\n  },\n});\n/*\n * \u30e1\u30a4\u30f3\u51e6\u7406\n */\nphina.main(function() {\n  // \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u751f\u6210\n  var app = GameApp({\n    // MainScene \u304b\u3089\u958b\u59cb\n    startLabel: 'main',\n  });\n  // fps\u8868\u793a\n  //app.enableStats();\n  // \u5b9f\u884c\n  app.run();\n});\n```\n", "tags": ["phina.js", "JavaScript", "HTML5", "\u30b2\u30fc\u30e0\u5236\u4f5c", "\u30e9\u30a4\u30d6\u30e9\u30ea"]}