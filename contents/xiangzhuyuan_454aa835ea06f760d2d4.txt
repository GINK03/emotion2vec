{"context": " check repo here:\n\n\u5b89\u88c5\u5b83\n\nnode \u73af\u5883\u51c6\u5907\n\nnpm install -g webpack\n\n\n\u4f7f\u7528\n#\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u9879\u76ee, \u4e5f\u5c31\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\u4e86\n\nmkdir webpack-study\ncd webpack-study\nnpm init\n# ...\n\ntouch cats.js touch index.js\n\n\ncats.js\nvar cats = ['dave', 'henry', 'martha', 'a new one'];\nmodule.exports = cats;\n\n\n\nindex.js\n\ncats = require('./cats.js');\nconsole.log(cats);\n\n\n\u7136\u540e\nwebpack index.js index.min.js\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u5f97\u5230\u4e00\u4e2aindex.min.js \u7684\u6587\u4ef6, \u7136\u540e\u6267\u884c\u5b83\u770b\u770b\u8f93\u51fa\u4ec0\u4e48\nnode index.min.js\n\n\u7ed3\u679c\u8f93\u51fa:\n\u279c  webpack-study  node index.min.js\n[ 'dave', 'henry', 'martha', 'a new one' ]\n\n\u8bb2\u771f, \u4e0a\u9762\u90fd\u7b97\u4e0d\u4e0a webpack \u7684\u76ae\u6bdb, \u4f5c\u4e3a\u4e00\u4e2a\u529f\u80fd\u4e30\u5bcc\u7684\u5bb6\u4f19,\u53ea\u662f\u901a\u8fc7 cli \u5c31\u80fd\u73a9\u5230?\u8fd8\u662f\u6765\u770b\u770b\u6b63\u513f\u516b\u7ecf\u7684 webpack \u9879\u76ee\u5427. \u901a\u5e38\u6211\u4eec\u662f\u901a\u8fc7\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u6765\u4f7f\u7528 webpack \u7684.\n\n\u9879\u76ee\u7ed3\u6784\n\u901a\u5e38\u6211\u4eec\u4f1a\u628a\u6e90\u6587\u4ef6\u548cbundle \u540e\u7684\u6587\u4ef6\u653e\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u5939\u91cc. \u5982\u6211\u4eec\u901a\u5e38\u628a\u6e90\u4ee3\u7801\u5404\u4e2a module \u653e\u5728src \u4e0b\u9762,\u7136\u540e\u6307\u5b9abundle \u7684\u6587\u4ef6\u5230bin \u4e0b\u9762.\u50cf\u8fd9\u6837:\n\n\n\u7b2c\u4e00\u6b65\u6211\u4eec\u5728\u521a\u624d\u7684\u6587\u4ef6\u5939\u4e0b\u9762\u521b\u5efa\n\nmkdir src bin\n\n\n\u7136\u540e\u628a js \u6587\u4ef6\u79fb\u52a8\u5230 src \u91cc\n\nmv *.js src\n\n\n\u521d\u59cb\u5316\u4e00\u4e2a node \u9879\u76ee\n\nnpm init( \u5df2\u7ecf\u5b8c\u6210)\n\n\n\u5b89\u88c5 webpack\n\nnpm install --save-dev webpack\n\n\n\u521b\u5efa\u4e00\u4e2a\u914d\u6587\u4ef6\n\n\ntouch webpack.config.js\n\nmodule.exports = {\n     entry: './src/app.js',\n     output: {\n         path: './bin',\n         filename: 'app.bundle.js'\n     }\n };\n\n\n\u8bd5\u7740\u8dd1\u4e00\u4e0bwebpack\n\n\u770b\u770b\u6548\u679c\n\n\u63a5\u7740\u6211\u4eec\u8bd5\u8bd5\u5176\u4ed6\u7684.\n\n\u4f7f\u7528 loader\n\u901a\u5e38\u9ed8\u8ba4webpack \u5c31\u53ea\u652f\u6301 javascript \u4e86. \u800c\u901a\u8fc7\u4f7f\u7528\u4e00\u4e9b\u63d2\u4ef6\u6211\u4eec\u540c\u6837\u53ef\u4ee5\u5904\u7406\u5176\u4ed6\u7684\u6587\u4ef6, \u5982ES2015, CoffeeScript, TypeScript \u7b49.\nLoaders \u662f\u7279\u6b8a\u7684 webpack \u6a21\u5757, \u5b83\u88ab\u7528\u6765\u52a0\u8f7d\u5176\u4ed6\u7684\u6a21\u5757(\u7528\u5176\u4ed6\u8bed\u8a00\u4e66\u5199)\u5230 js \u7684\u8fd0\u884c\u73af\u5883\u91cc.\u5982:\nbabel-loader \u5c31\u662f\u7528\u6765\u5904\u7406 ES2015\u7684\u6587\u4ef6\u7684.\n\njson-loader \u5c31\u662f\u7528\u6765\u5904\u7406json \u6587\u4ef6\u7684\n\n\u800c\u4e14\u4e0d\u540c\u7684loader \u4e4b\u95f4\u662f\u53ef\u4ee5\u4e32\u8054\u7684, \u5982\u4f60\u53ef\u4ee5\u7528yaml-loader\u628a yaml \u6587\u4ef6\u8f6c\u6362\u4e3ajson, \u7136\u540e\u518d\u7528 json-loader \u8f6c\u4e3ajs  module\n\n\n\u8ba9\u6211\u4eec\u7528babel-loader \u6765\u8f6c\u6362\u4e0bES2015.\n\n//\u5148\u5b89\u88c5 babel-core\u548c babel-reset-es2015\nnpm install --save-dev babel-core babel-preset-es2015\n\n// \u7136\u540e\u5b89\u88c5 babel-loader:\nnpm install --save-dev babel-loader\n\n\n\u7136\u540e\u6dfb\u52a0\u4e00\u4e2a.babelrc \u7684\u914d\u7f6e\u6587\u4ef6.  \n { \"presets\": [ \"es2015\" ] }\n\n\u7136\u540e\u7f16\u8f91\u8fd9\u4e2a config \u6587\u4ef6,\u6765\u544a\u8bc9 babel-loader,\n\n module.exports = {\n     entry: './src/app.js',\n     output: {\n         path: './bin',\n         filename: 'app.bundle.js',\n     },\n     module: {\n         loaders: [{\n             test: /\\.js$/,\n             exclude: /node_modules/,\n             loader: 'babel-loader',\n         }]\n     }\n }\n\n\n\n\u540c\u6837,\u6211\u4eec\u53ef\u4ee5\u8ffd\u52a0\u4e00\u4e9b\u5176\u4ed6\u60f3\u7528\u7684\n npm install --save jquery babel-polyfill\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86-- save \u6765\u66ff\u4ee3--save-dev\u56e0\u4e3a\u4ed6\u4eec\u90fd\u662f\u5728\u8fd0\u884c\u65f6\u4f7f\u7528\u800c\u975e\u5f00\u53d1\u65f6, \u8fd8\u6709\u5c31\u662f\u901a\u8fc7babel-polyfill \u6211\u4eec\u53ef\u4ee5\u8ba9\u8fd9\u4e9b\u4ee3\u7801\u5728\u8001\u6d4f\u89c8\u5668\u91cc\u4e5f\u80fd\u8dd1\n\n\u6211\u4eec\u56de\u8fc7\u5934\u6765\u91cd\u65b0\u7f16\u8f91src/index.js \u6587\u4ef6,\u8ffd\u52a0\u4e00\u4e9b\u673a\u80fd\u8fdb\u53bb:\n import 'babel-polyfill';\n import cats from './cats';\n import $ from 'jquery';\n\n $('<h1>Cats</h1>').appendTo('body');\n const ul = $('<ul></ul>').appendTo('body');\n for (const cat of cats) {\n     $('<li></li>').text(cat).appendTo(ul);\n }\n\n\n\u5e72\u4e86\u4ec0\u4e48\u5462, \u5c31\u662f\u8ffd\u52a0\u4e86\u70b9 html \u5185\u5bb9\u8f93\u51fa\u5230 body \u91cc. \u7136\u540e\u6211\u4eec\u6dfb\u52a0\u4e00\u4e2a html \u6587\u4ef6,\u5e94\u7528bin \u4e0b\u9762\u6211\u4eec\u901a\u8fc7 webpack \u751f\u6210\u7684\u90a3\u4e2aindex.min.js\u6587\u4ef6.\n\u901a\u8fc7\nwebpack\n\n\u6216\u8005\u5728\u5f00\u53d1\u65f6, \u6211\u4eec\u76f4\u63a5\u901a\u8fc7- w \u53c2\u6570\u6765\u4e00\u76f4\u76d1\u89c6\u8fd9\u4e9b\u6587\u4ef6\u5c31\u597d\u4e86,\u8fd9\u6837\u6bcf\u6b21\u6539\u52a8\u6587\u4ef6 webpack \u5c31\u4f1a\u81ea\u5df1\u53bb\u7f16\u8bd1\u4ed6\u4eec..\nopen index.html\n\n\u770b\u770b\u6548\u679c\n\n\n\u5982\u4f55\u4f7f\u7528\u63d2\u4ef6\n\u5e73\u65f6\u6211\u4eec\u5728\u90e8\u7f72\u524d\u53ef\u4ee5\u4f1a\u538b\u7f29\u8d44\u6e90\u6587\u4ef6\u7684, \u6216\u8005\u52a0\u5165\u4e00\u4e9b\u5b9a\u5236\u7684\u5de5\u5e8f\u5728\u6211\u4eec\u7684\u5de5\u4f5c\u6d41\u91cc, \u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u914d\u7f6e\u5230 config \u6587\u4ef6\u91cc\u7684. \u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u4fee\u6539\u4e00\u4e0b:\n\nconst webpack = require('webpack');\n\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n        path: './bin',\n        filename: 'index.min.js',\n    },\n    module: {\n        loaders: [{\n            test: /\\.jsx?$/,\n            exclude: /node_modules/,\n            loader: 'babel-loader',\n        }]\n    },\n    plugins: [\n        new webpack.optimize.UglifyJsPlugin({\n            compress: {\n                warnings: false,\n            },\n            output: {\n                comments: false,\n            },\n        }),\n    ]\n}\n\n\n\nref:\n\nhttp://webpack.github.io/docs/tutorials/getting-started/\nhttp://webpack.github.io/docs/usage.html\n\n\n:+1:  [check repo here:](https://github.com/xiangzhuyuan/webpack-abc)\n####\u5b89\u88c5\u5b83\n\n>node \u73af\u5883\u51c6\u5907\n\n```\nnpm install -g webpack\n```\n\n####\u4f7f\u7528\n\n```\n#\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u9879\u76ee, \u4e5f\u5c31\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\u4e86\n\nmkdir webpack-study\ncd webpack-study\nnpm init\n# ...\n\ntouch cats.js touch index.js\n```\n\n```cats.js\nvar cats = ['dave', 'henry', 'martha', 'a new one'];\nmodule.exports = cats;\n```\n\n\n```index.js\n\ncats = require('./cats.js');\nconsole.log(cats);\n```\n\n\u7136\u540e\n\n```\nwebpack index.js index.min.js\n```\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u5f97\u5230\u4e00\u4e2a` index.min.js` \u7684\u6587\u4ef6, \u7136\u540e\u6267\u884c\u5b83\u770b\u770b\u8f93\u51fa\u4ec0\u4e48\n\n```\nnode index.min.js\n```\n\n\u7ed3\u679c\u8f93\u51fa:\n\n\n```\n\u279c  webpack-study  node index.min.js\n[ 'dave', 'henry', 'martha', 'a new one' ]\n```\n\n\u8bb2\u771f, \u4e0a\u9762\u90fd\u7b97\u4e0d\u4e0a webpack \u7684\u76ae\u6bdb, \u4f5c\u4e3a\u4e00\u4e2a\u529f\u80fd\u4e30\u5bcc\u7684\u5bb6\u4f19,\u53ea\u662f\u901a\u8fc7 cli \u5c31\u80fd\u73a9\u5230?\u8fd8\u662f\u6765\u770b\u770b\u6b63\u513f\u516b\u7ecf\u7684 webpack \u9879\u76ee\u5427. \u901a\u5e38\u6211\u4eec\u662f\u901a\u8fc7\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u6765\u4f7f\u7528 webpack \u7684.\n\n###\u9879\u76ee\u7ed3\u6784\n\n\u901a\u5e38\u6211\u4eec\u4f1a\u628a\u6e90\u6587\u4ef6\u548c` bundle` \u540e\u7684\u6587\u4ef6\u653e\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u5939\u91cc. \u5982\u6211\u4eec\u901a\u5e38\u628a\u6e90\u4ee3\u7801\u5404\u4e2a module \u653e\u5728` src` \u4e0b\u9762,\u7136\u540e\u6307\u5b9abundle \u7684\u6587\u4ef6\u5230` bin` \u4e0b\u9762.\u50cf\u8fd9\u6837:\n\n![Kobito.H1o0XU.png](https://qiita-image-store.s3.amazonaws.com/0/56713/c92e4a7a-bb13-6aab-1a02-c35794e70a00.png \"Kobito.H1o0XU.png\")\n\n1. \u7b2c\u4e00\u6b65\u6211\u4eec\u5728\u521a\u624d\u7684\u6587\u4ef6\u5939\u4e0b\u9762\u521b\u5efa\n\n```\nmkdir src bin\n```\n\n2. \u7136\u540e\u628a js \u6587\u4ef6\u79fb\u52a8\u5230 src \u91cc\n\n```\nmv *.js src\n```\n\n3. \u521d\u59cb\u5316\u4e00\u4e2a node \u9879\u76ee\n\n```\nnpm init( \u5df2\u7ecf\u5b8c\u6210)\n```\n\n4. \u5b89\u88c5 webpack\n\n```\nnpm install --save-dev webpack\n```\n\n5. \u521b\u5efa\u4e00\u4e2a\u914d\u6587\u4ef6\n\n> touch webpack.config.js\n\n\n```\nmodule.exports = {\n     entry: './src/app.js',\n     output: {\n         path: './bin',\n         filename: 'app.bundle.js'\n     }\n };\n```\n\n6. \u8bd5\u7740\u8dd1\u4e00\u4e0b` webpack`\n7. \u770b\u770b\u6548\u679c\n\n\n\u63a5\u7740\u6211\u4eec\u8bd5\u8bd5\u5176\u4ed6\u7684.\n\n### \u4f7f\u7528 loader\n\u901a\u5e38\u9ed8\u8ba4webpack \u5c31\u53ea\u652f\u6301 javascript \u4e86. \u800c\u901a\u8fc7\u4f7f\u7528\u4e00\u4e9b\u63d2\u4ef6\u6211\u4eec\u540c\u6837\u53ef\u4ee5\u5904\u7406\u5176\u4ed6\u7684\u6587\u4ef6, \u5982ES2015, CoffeeScript, TypeScript \u7b49.\n\n`Loaders` \u662f\u7279\u6b8a\u7684 webpack \u6a21\u5757, \u5b83\u88ab\u7528\u6765\u52a0\u8f7d\u5176\u4ed6\u7684\u6a21\u5757(\u7528\u5176\u4ed6\u8bed\u8a00\u4e66\u5199)\u5230 js \u7684\u8fd0\u884c\u73af\u5883\u91cc.\u5982:\n\n`babel-loader` \u5c31\u662f\u7528\u6765\u5904\u7406 `ES2015`\u7684\u6587\u4ef6\u7684.\n![Kobito.uLeTfF.png](https://qiita-image-store.s3.amazonaws.com/0/56713/374cc26e-9fa7-51dc-d723-9e48d49e883a.png \"Kobito.uLeTfF.png\")\n`json-loader` \u5c31\u662f\u7528\u6765\u5904\u7406` json` \u6587\u4ef6\u7684\n![Kobito.pdPUBR.png](https://qiita-image-store.s3.amazonaws.com/0/56713/c92951a1-3cab-7e99-fa4c-ac55d95db938.png \"Kobito.pdPUBR.png\")\n\n\n\u800c\u4e14\u4e0d\u540c\u7684` loader` \u4e4b\u95f4\u662f\u53ef\u4ee5\u4e32\u8054\u7684, \u5982\u4f60\u53ef\u4ee5\u7528` yaml-loader`\u628a `yaml` \u6587\u4ef6\u8f6c\u6362\u4e3a` json`, \u7136\u540e\u518d\u7528 `json-loader` \u8f6c\u4e3a` js  module`\n\n![Kobito.ntcTIu.png](https://qiita-image-store.s3.amazonaws.com/0/56713/900705e5-b367-ee39-240e-776a4a4f362e.png \"Kobito.ntcTIu.png\")\n\n\n###\u8ba9\u6211\u4eec\u7528`babel-loader` \u6765\u8f6c\u6362\u4e0b` ES2015`.\n\n```\n\n//\u5148\u5b89\u88c5 babel-core\u548c babel-reset-es2015\nnpm install --save-dev babel-core babel-preset-es2015\n\n// \u7136\u540e\u5b89\u88c5 babel-loader:\nnpm install --save-dev babel-loader\n\n```\n\n\u7136\u540e\u6dfb\u52a0\u4e00\u4e2a`.babelrc` \u7684\u914d\u7f6e\u6587\u4ef6.  \n\n```\n { \"presets\": [ \"es2015\" ] }\n```\n\n\u7136\u540e\u7f16\u8f91\u8fd9\u4e2a config \u6587\u4ef6,\u6765\u544a\u8bc9 babel-loader,\n\n```\n\n module.exports = {\n     entry: './src/app.js',\n     output: {\n         path: './bin',\n         filename: 'app.bundle.js',\n     },\n     module: {\n         loaders: [{\n             test: /\\.js$/,\n             exclude: /node_modules/,\n             loader: 'babel-loader',\n         }]\n     }\n }\n \n \n```\n\n\u540c\u6837,\u6211\u4eec\u53ef\u4ee5\u8ffd\u52a0\u4e00\u4e9b\u5176\u4ed6\u60f3\u7528\u7684\n\n```\n npm install --save jquery babel-polyfill\n \n```\n\n> \u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86`-- save` \u6765\u66ff\u4ee3`--save-dev`\u56e0\u4e3a\u4ed6\u4eec\u90fd\u662f\u5728\u8fd0\u884c\u65f6\u4f7f\u7528\u800c\u975e\u5f00\u53d1\u65f6, \u8fd8\u6709\u5c31\u662f\u901a\u8fc7` babel-polyfill` \u6211\u4eec\u53ef\u4ee5\u8ba9\u8fd9\u4e9b\u4ee3\u7801\u5728\u8001\u6d4f\u89c8\u5668\u91cc\u4e5f\u80fd\u8dd1\n\n\u6211\u4eec\u56de\u8fc7\u5934\u6765\u91cd\u65b0\u7f16\u8f91` src/index.js` \u6587\u4ef6,\u8ffd\u52a0\u4e00\u4e9b\u673a\u80fd\u8fdb\u53bb:\n\n```\n import 'babel-polyfill';\n import cats from './cats';\n import $ from 'jquery';\n\n $('<h1>Cats</h1>').appendTo('body');\n const ul = $('<ul></ul>').appendTo('body');\n for (const cat of cats) {\n     $('<li></li>').text(cat).appendTo(ul);\n }\n\n```\n\n\u5e72\u4e86\u4ec0\u4e48\u5462, \u5c31\u662f\u8ffd\u52a0\u4e86\u70b9 html \u5185\u5bb9\u8f93\u51fa\u5230 body \u91cc. \u7136\u540e\u6211\u4eec\u6dfb\u52a0\u4e00\u4e2a html \u6587\u4ef6,\u5e94\u7528` bin` \u4e0b\u9762\u6211\u4eec\u901a\u8fc7 webpack \u751f\u6210\u7684\u90a3\u4e2a` index.min.js`\u6587\u4ef6.\n\n\u901a\u8fc7\n\n```\nwebpack\n```\n\n\u6216\u8005\u5728\u5f00\u53d1\u65f6, \u6211\u4eec\u76f4\u63a5\u901a\u8fc7`- w` \u53c2\u6570\u6765\u4e00\u76f4\u76d1\u89c6\u8fd9\u4e9b\u6587\u4ef6\u5c31\u597d\u4e86,\u8fd9\u6837\u6bcf\u6b21\u6539\u52a8\u6587\u4ef6 webpack \u5c31\u4f1a\u81ea\u5df1\u53bb\u7f16\u8bd1\u4ed6\u4eec..\n\n```\nopen index.html\n```\n\u770b\u770b\u6548\u679c\n\n![Kobito.pNXjGm.png](https://qiita-image-store.s3.amazonaws.com/0/56713/74ed394c-898d-e7b6-8b9d-5ab74897df78.png \"Kobito.pNXjGm.png\")\n\n\n###\u5982\u4f55\u4f7f\u7528\u63d2\u4ef6\n\n\u5e73\u65f6\u6211\u4eec\u5728\u90e8\u7f72\u524d\u53ef\u4ee5\u4f1a\u538b\u7f29\u8d44\u6e90\u6587\u4ef6\u7684, \u6216\u8005\u52a0\u5165\u4e00\u4e9b\u5b9a\u5236\u7684\u5de5\u5e8f\u5728\u6211\u4eec\u7684\u5de5\u4f5c\u6d41\u91cc, \u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u914d\u7f6e\u5230 config \u6587\u4ef6\u91cc\u7684. \u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u4fee\u6539\u4e00\u4e0b:\n\n\n```\n\nconst webpack = require('webpack');\n\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n        path: './bin',\n        filename: 'index.min.js',\n    },\n    module: {\n        loaders: [{\n            test: /\\.jsx?$/,\n            exclude: /node_modules/,\n            loader: 'babel-loader',\n        }]\n    },\n    plugins: [\n        new webpack.optimize.UglifyJsPlugin({\n            compress: {\n                warnings: false,\n            },\n            output: {\n                comments: false,\n            },\n        }),\n    ]\n}\n\n\n```\n\n\nref:\n\n1. http://webpack.github.io/docs/tutorials/getting-started/\n2. http://webpack.github.io/docs/usage.html\n", "tags": ["nodejs", "webpack", "Web", "npm"]}