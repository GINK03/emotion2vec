{"tags": ["Bluemix", "Watson", "\u4eba\u5de5\u77e5\u80fd", "\u6a5f\u68b0\u5b66\u7fd2", "node-red"], "context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u524d\u306e\u8a18\u4e8b\u3067Node-RED\u304b\u3089Watson API\u3092\u547c\u3073\u51fa\u3059\u65b9\u6cd5\u3092\u66f8\u3044\u305f\u3002\u305d\u308c\u3089\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u30b9\u30de\u30db\u306e\u8cea\u554f\u306b\u7b54\u3048\u3066\u304f\u308c\u308b\u8cea\u554f\u5fdc\u7b54\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u3063\u3066\u307f\u305f\u306e\u3067\u3001\u4eca\u56de\u306f\u305d\u308c\u306e\u89e3\u8aac\u3092\u3057\u3088\u3046\u3068\u601d\u3046\u3002\n\u5b66\u7fd2\u3055\u305b\u3066\u3044\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u5c11\u306a\u3059\u304e\u3066\u3001\u3044\u307e\u3044\u3061\u3044\u3044\u56de\u7b54\u306f\u3057\u3066\u304f\u308c\u306a\u3044\u306e\u3067\u6ce8\u610f\u3002\u30b3\u30f3\u30bb\u30d7\u30c8\u304c\u4f1d\u308f\u3063\u3066\u304f\u308c\u308c\u3070\u5fa1\u306e\u5b57\u3002\n\n\u5168\u4f53\u30d5\u30ed\u30fc\nNode-RED\u3067\u4f5c\u3063\u305f\u30d5\u30ed\u30fc\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n\u5c0f\u3055\u3059\u304e\u3066\u898b\u3048\u306a\u3044\u3051\u3069\u3001\u3053\u306e\u5f8c\u3067\u7d30\u5207\u308c\u306b\u30a2\u30c3\u30d7\u306b\u3059\u308b\u306e\u3067\u3054\u5b89\u5fc3\u3092\u3002\n\u89e3\u8aac\u306e\u305f\u3081\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u533a\u5207\u3063\u305f\u3002\n\n\n\u2460\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u30ea\u30af\u30a8\u30b9\u30c8\n\u521d\u671f\u753b\u9762\u3068\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u53d7\u3051\u308b\u3068\u3001HTML\u3092\u7d44\u307f\u7acb\u3066\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u8fd4\u3059\u3001\u3068\u3044\u3046\u52d5\u4f5c\u3092\u3055\u305b\u308b\u3002\n\n\u307e\u305a\u306f\u3001http\u30ea\u30af\u30a8\u30b9\u30c8\u30ce\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308b\u3002\u4eca\u56de\u306f\u30d6\u30e9\u30a6\u30b6\u30fc\u304b\u3089/qaservice\u306b\u30a2\u30af\u30bb\u30b9\u3092\u3057\u3066\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3092\u8868\u793a\u3055\u305b\u308b\u3002\nfunction\u30ce\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u3001HTML\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3002JavaScript\u306e\u30b3\u30fc\u30c9\u3082HTML\u306e\u4e2d\u306b\u57cb\u3081\u8fbc\u3080\u3002\u4eca\u56de\u306e\u5834\u5408\u306f\u3001\u3053\u3053\u304c\u4e00\u756a\u91cd\u3044\u4f5c\u696d\u306b\u306a\u308b\u3002\n\n\u521d\u671f\u753b\u9762\u6574\u5f62\n<!DOCTYPE html>\n<html>\n    <head>\n        <title>Watson Smartphone Advisor</title>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n        <!-- jquery -->\n        <script src=\"//code.jquery.com/jquery-1.12.0.min.js\"></script>\n\n        <!-- Bootstrap -->\n        <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\" integrity=\"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\" crossorigin=\"anonymous\"></script>\n\n        <!-- Bootswatch -->\n        <link rel=\"stylesheet\" href=\"http://bootswatch.com/flatly/bootstrap.min.css\">\n        <!-- <link rel=\"stylesheet\" href=\"http://bootswatch.com/cerulean/bootstrap.min.css\"> -->\n\n        <!-- \u30e6\u30fc\u30b6\u30fc\u30ed\u30b8\u30c3\u30af -->\n        <script type=\"text/javascript\">\n            var askQuestion = function(){\n                // \u30dc\u30bf\u30f3\u306e\u7121\u52b9\u5316\n                var askButton = document.getElementById(\"askButton\");\n                askButton.className = \"btn btn-default disabled\";\n\n                //\u8cea\u554f\u6587\u3092\u53d6\u308a\u51fa\u3059\n                var q = document.getElementById(\"q\");\n\n                // *** Node-red /askflow \u3092\u547c\u3073\u51fa\u3059\u305f\u3081\u306exhr\u3092\u4f5c\u3063\u3066\u547c\u3073\u51fa\u3057***\n                var xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function (){\n                    switch(xhr.readyState){\n                        case 4:\n                            var answerArea = document.getElementById(\"answerArea\");\n                            if(xhr.status == 0){\n                                answerArea.value = \"XHR \u901a\u4fe1\u5931\u6557\";\n                            }else{\n                                if(xhr.status == 200){\n                                    // \u30d5\u30ed\u30fc\u304b\u3089\u8fd4\u3063\u3066\u304d\u305f\u7d50\u679c\u3092 \"answerArea\" \u306b\u5165\u308c\u308b\n                                    answerArea.value = xhr.responseText;\n                                }else{\n                                    // status == 200\u4ee5\u5916\n                                    answerArea.value = xhr.status + \" : \" + xhr.responseText;\n                                }\n                            }\n                            // \u97f3\u58f0\u51fa\u529b\n                            var audio = document.createElement(\"audio\");\n                            audio.src = \"./speech?text=\" + answerArea.value;\n                            audio.play();\n\n                            // \u30dc\u30bf\u30f3\u306e\u6709\u52b9\u5316\n                            askButton.className = \"btn btn-primary\";\n\n                            break;\n                    }\n                };\n                var url = \"./askflow?q=\" + q.value;\n                xhr.open(\"GET\", url, true);\n                xhr.send(\"\");\n            }\n\n            var checkLength = function(){\n                // \u30dc\u30bf\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u308a\u51fa\u3059\n                var askButton = document.getElementById(\"askButton\");\n                // \u8cea\u554f\u6587\u3092\u53d6\u308a\u51fa\u3059\n                var q = document.getElementById(\"q\");\n                if (q.value.length > 0) {\n                    askButton.className = \"btn btn-primary\";    // \u30dc\u30bf\u30f3\u306e\u6709\u52b9\u5316\n                } else {\n                    askButton.className = \"btn btn-default disabled\";   // \u30dc\u30bf\u30f3\u306e\u7121\u52b9\u5316\n                }\n            }\n        </script>\n\n    </head>\n\n    <body>\n        <!-- Navbar -->\n        <nav class=\"navbar navbar-default\">\n            <div class=\"container-fluid\">\n                <div class=\"navbar-header\">\n                    <a class=\"navbar-brand\" href=\"http://satohdai-nodered.mybluemix.net/qaservice\">Watson Smartphone Advisor</a>\n                </div>\n                <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n                    <ul class=\"nav navbar-nav navbar-right\">\n                        <li><a href=\"https://satohdai-nodered.mybluemix.net/\" target=_>Node-Red</a></li>\n                    </ul>\n                </div>\n            </div>\n        </nav>\n\n\n        <!-- \u30b0\u30ea\u30c3\u30c9\u30b7\u30b9\u30c6\u30e0 -->\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <!-- \u5de6\u30ab\u30e9\u30e0 -->\n                <div class=\"col-xs-1 bg-left\"></div>\n\n                <!-- \u4e2d\u592e -->\n                <div class=\"col-xs-10 bg-main\">\n                    <center>\n                        <h3>\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u306e\u3053\u3068\u3092\u805e\u3044\u3066\u304f\u3060\u3055\u3044</h3>\n                        <div class=\"form-group\">\n                            <textarea class=\"form-control\" rows=3 id=\"q\" placeholder=\"\u3053\u3053\u306b\u8cea\u554f\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" oninput=\"checkLength()\"></textarea>\n                            <br>\n                            <a class=\"btn btn-default distabled\" id=\"askButton\" href=\"javascript:askQuestion()\">\u8cea\u554f\u3059\u308b</a>\n                        </div>\n                        <br>\n                        <div class=\"form-group\">\n                            <textarea class=\"form-control\" rows=5 id=\"answerArea\" placeholder=\"Watson\u304b\u3089\u306e\u56de\u7b54\" disabled=\"\"></textarea>\n                        </div>\n                    </center>\n                </div>\n\n                <!-- \u53f3\u30ab\u30e9\u30e0 -->\n                <div class=\"col-xs-1 bg-right\"></div>\n            </div>\n        </div>\n\n    </body>\n\n</html>\n\n\n\u3068\u307e\u3041\u3053\u3093\u306a\u611f\u3058\u3002\u52d5\u304f\u306e\u512a\u5148\u3067\u4f5c\u3063\u305f\u306e\u3067\u919c\u3044\u90e8\u5206\u304c\u3042\u3063\u3066\u3082\u30ad\u30cb\u30b7\u30ca\u30a4\u3002\n\u6700\u5f8c\u306bhttp\u30ec\u30b9\u30dd\u30f3\u30b9\u30ce\u30fc\u30c9\u3092\u304f\u3063\u3064\u3051\u3066\u5b8c\u4e86\u3002\n\n\u2461\u8cea\u554f\u306e\u5185\u5bb9\u5224\u65ad\n\u3053\u3053\u3067\u306f\u3001\u8cea\u554f\u6587\u3092\u53d7\u3051\u53d6\u308a\u3001\u8cea\u554f\u5185\u5bb9\u3078\u306e\u4e00\u6bb5\u76ee\u306e\u5bfe\u5fdc\u3092\u884c\u3046\u3002\u4e00\u6bb5\u76ee\u3067\u306f\u3001\u5185\u5bb9\u304c\u300c\u3042\u3044\u3055\u3064\u300d\u304b\u300c\u305d\u308c\u4ee5\u5916\u300d\u304b\u3092\u5224\u65ad\u3057\u3001\u300c\u3042\u3044\u3055\u3064\u300d\u306a\u3089\u3070\u6328\u62f6\u306e\u7a2e\u985e\u306b\u3042\u308f\u305b\u305f\u8fd4\u4e8b\u3092\u884c\u3044\u3001\u300c\u305d\u308c\u4ee5\u5916\u300d\u306a\u3089\u3070\u4e8c\u6bb5\u76ee\u306e\u5bfe\u5fdc\u306b\u5206\u5c90\u3055\u305b\u308b\u3002\u78ba\u4fe1\u5ea6\u304c\u9ad8\u304f\u306a\u3044\u5834\u5408\u306f\u3001\u30af\u30e9\u30b9\u5206\u3051\u5931\u6557\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u518d\u5ea6\u8cea\u554f\u3092\u8fd4\u3059\u3088\u3046\u306b\u6c42\u3081\u308b\u3002\n\nHTML\u3067\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068/askflow\u3092\u547c\u3073\u51fa\u3059\u3088\u3046\u306b\u66f8\u3044\u3066\u304a\u3044\u305f\u306e\u3067\u3001\u30b9\u30bf\u30fc\u30c8\u306f/askflow\u304b\u3089\u306f\u3058\u307e\u308b\u3002\n\u300cGreeting or Not Classifier\u300d\u3067\u306fNLC\u3092\u4f7f\u3063\u3066\u3042\u3044\u3055\u3064\u304b\u305d\u3046\u3067\u306a\u3044\u304b\u3092\u5224\u65ad\u3059\u308b\u3002\u300c\u3042\u3044\u3055\u3064\u3067\u306f\u306a\u3044\u300d\u3068\u3044\u3046\u6559\u5e2b\u30c7\u30fc\u30bf\u306f\u3001\u5f8c\u308d\u3067\u4f7f\u3046Android\u3084iPhone\u306e\u8cea\u554f\u6587\u3092\u305d\u306e\u307e\u307e\u501f\u7528\u3057\u305f\u3002\n\u3053\u3053\u3067\u3001\u78ba\u4fe1\u5ea6\u304c\u4f4e\u3044(\u4eca\u56de\u306f80%\u672a\u6e80)\u3001\u3064\u307e\u308a\u300c\u3042\u3044\u3055\u3064\u306a\u306e\u304b\u8cea\u554f\u306a\u306e\u304b\u3059\u3089\u308f\u304b\u3089\u306a\u3044\u300d\u5834\u5408\u306f\u3001\u3082\u3046\u4e00\u5ea6\u8cea\u554f\u3092\u5165\u308c\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u30bb\u30c3\u30c8\u3057\u3066http\u30ec\u30b9\u30dd\u30f3\u30b9\u30ce\u30fc\u30c9\u306b\u7e4b\u3052\u308b\u3002\n\u78ba\u4fe1\u5ea6\u304c\u9ad8\u3044\u5834\u5408\u306f\u3001\u305d\u308c\u304c\u300c\u3042\u3044\u3055\u3064\u300d\u306a\u306e\u304b\u300c\u305d\u308c\u4ee5\u5916\u300d\u306a\u306e\u304b\u306b\u3088\u3063\u3066\u5206\u5c90\u3059\u308b\u3002\n\n\u2462\u3042\u3044\u3055\u3064\u3092\u8fd4\u3059\n\u2461\u3067\u300c\u3042\u3044\u3055\u3064\u300d\u3068\u5224\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u3042\u3044\u3055\u3064\u306e\u7a2e\u985e\u306b\u5fdc\u3058\u305f\u5fdc\u7b54\u3092\u8fd4\u3059\u3002\n\nNLC\u306b\u3088\u3063\u3066\u3042\u3044\u3055\u3064\u306e\u7a2e\u985e\u3092\u7279\u5b9a\u3057\u3001\u7a2e\u985e\u306e\u6cbf\u3063\u305f\u5fdc\u7b54\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30bb\u30c3\u30c8\u3057\u3066http\u30ec\u30b9\u30dd\u30f3\u30b9\u30ce\u30fc\u30c9\u306b\u7e4b\u3052\u308b\u3002\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3042\u3044\u3055\u3064\u4ee5\u5916\u306f\u300c\u305d\u306e\u4ed6\u300d\u306b\u3057\u3066\u3044\u308b\u304c\u3001\u30c8\u30c3\u30d7\u30af\u30e9\u30b9\u306f\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3042\u3044\u3055\u3064\u306e\u3069\u308c\u304b\u306a\u306e\u3067\u3001\u3053\u3053\u306b\u306f\u5206\u5c90\u3057\u306a\u3044\u306f\u305a\u3067\u3042\u308b\u30fb\u30fb\u30fb\u3002\n\n\u2463Android\u304biPhone\u304b\u5206\u985e\u3059\u308b\n\u2461\u3067\u300c\u305d\u308c\u4ee5\u5916\u300d\u3068\u5224\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u300cAndroid\u300d\u304b\u300ciPhone\u300d\u304b\u5224\u5b9a\u3057\u3066\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u7e4b\u3052\u308b\u3002\n\nNLC\u306b\u3088\u3063\u3066\u8cea\u554f\u6587\u304cAndroid\u306e\u8cea\u554f\u304biPhone\u306e\u8cea\u554f\u304b\u5224\u5225\u3055\u305b\u308b\u3002\u78ba\u4fe1\u5ea6\u304c\u4f4e\u3044(\u4eca\u56de\u306f80%\u672a\u6e80)\u5834\u5408\u306f\u5206\u985e\u5931\u6557\u3068\u3057\u3066\u3082\u3046\u4e00\u5ea6\u8cea\u554f\u3059\u308b\u3088\u3046\u306b\u304a\u9858\u3044\u3059\u308b\u3002\u78ba\u4fe1\u5ea6\u304c\u9ad8\u3044(\u4eca\u56de\u306f80%\u4ee5\u4e0a)\u5834\u5408\u306f\u3001\u8a72\u5f53\u30af\u30e9\u30b9\u306e\u51e6\u7406\u3078\u3068\u5206\u5c90\u3059\u308b\u3002\n\n\u2464R&R\u3067\u56de\u7b54\u3092\u63a2\u3057\u3066\u7b54\u3048\u308b\n\u2463\u3067Android\u304biPhone\u304b\u5206\u985e\u3067\u304d\u305f\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u306eR&R\u306b\u5bfe\u3057\u3066\u8cea\u554f\u3092\u6295\u3052\u3066\u6700\u9069\u306a\u56de\u7b54\u3092\u53d6\u5f97\u3057\u3001\u5fdc\u7b54\u3059\u308b\u3002\n\nR&R\u3067\u306f\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u540d\u306a\u3069\u3082\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u305a\u3001\u7c21\u5358\u306e\u305f\u3081\u306b\u6700\u521d\u304b\u3089\u5206\u5c90\u3057\u3066\u4f5c\u3063\u305f\u3002\u9811\u5f35\u308c\u3070\u5206\u5c90\u305b\u305a\u306b\u5171\u901a\u30d5\u30ed\u30fc\u3067\u3044\u3051\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\u6700\u5f8c\u306bhttp\u30ec\u30b9\u30dd\u30f3\u30b9\u30ce\u30fc\u30c9\u3067\u30d6\u30e9\u30a6\u30b6\u30fc\u306b\u5fdc\u7b54\u3092\u8fd4\u3057\u3001\u56de\u7b54\u6b04\u306b\u8868\u793a\u3055\u305b\u308b\u3002\n\n\u2465TTS\u3067\u3057\u3083\u3079\u3089\u305b\u308b\n\u2464\u3067\u30d6\u30e9\u30a6\u30b6\u30fc\u306b\u5fdc\u7b54\u3092\u8fd4\u3057\u305f\u3068\u304d\u306b\u3001\u56de\u7b54\u6b04\u3078\u306e\u8868\u793a\u306e\u4ed6\u306bTTS\u306e\u547c\u3073\u51fa\u3057\u3082\u5b9f\u884c\u3059\u308b\u3002\n\n\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u300c/speech\u300d\u3068\u3057\u3066TTS\u3092\u547c\u3073\u51fa\u3059\u30d5\u30ed\u30fc\u3092\u4f5c\u308b\u3002\u4e2d\u8eab\u306f\u524d\u56de\u306e\u89e3\u8aac\u306e\u3068\u304a\u308a\u3001\u5358\u7d14\u306a\u30d5\u30ed\u30fc\u306b\u306a\u308b\u3002\n\u4ee5\u4e0a\u3067\u3001Node-RED\u3092\u4f7f\u3063\u305f\u65e5\u672c\u8a9e\u8cea\u554f\u5fdc\u7b54\u30a2\u30d7\u30ea\u304c\u3067\u304d\u305f\u3002\n\n\u304a\u308f\u308a\u306b\n\u3084\u3063\u3071\u308aNode-RED\u306f\u697d\u3060\u3002app.js\u3068\u304bHTML\u3092\u884c\u3063\u305f\u308a\u6765\u305f\u308a\u3057\u306a\u304f\u3066\u3082\u3044\u3044\u3002JavaScript\u3084Node.js\u306e\u9762\u5012\u306a\u304a\u4f5c\u6cd5\u3068\u304b\u3082(\u6975\u529b)\u8003\u3048\u305a\u306b\u6e08\u3080\u3002\u3053\u308c\u304b\u3089\u30a2\u30d7\u30ea\u958b\u767a\u3092\u306f\u3058\u3081\u3066\u3084\u308a\u307e\u3059\u3001\u3068\u3044\u3046\u4eba\u306b\u5165\u9580\u3068\u3057\u3066\u306f\u5411\u3044\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\u304c\u3001\u3053\u308c\u3092\u3084\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u304b\u3089\u3068\u3044\u3063\u3066\u3001Java\u3084JavaScript\u3092\u666e\u901a\u306b(\u4e00\u822c\u7684\u306a\u30a8\u30c7\u30a3\u30bf\u30fc\u3092\u4f7f\u3063\u3066)\u958b\u767a\u3067\u304d\u308b\u3068\u306f\u601d\u3048\u306a\u3044\u304c\u30fb\u30fb\u30fb\u3002\n\u306a\u306b\u306f\u3068\u3082\u3042\u308c\u3001\u3053\u308c\u3067\u3042\u3068\u306f\u6559\u80b2\u30c7\u30fc\u30bf\u3092\u305d\u308d\u3048\u3055\u3048\u3059\u308c\u3070\u3001\u4f55\u3067\u3082\u8cea\u554f\u3067\u304d\u3061\u3083\u3046\u30cd\uff01\n# \u306f\u3058\u3081\u306b\n[\u524d\u306e\u8a18\u4e8b](http://qiita.com/VegaSato/items/7ce47e6a9c06c290b212)\u3067Node-RED\u304b\u3089Watson API\u3092\u547c\u3073\u51fa\u3059\u65b9\u6cd5\u3092\u66f8\u3044\u305f\u3002\u305d\u308c\u3089\u3092\u7d44\u307f\u5408\u308f\u305b\u3066[\u30b9\u30de\u30db\u306e\u8cea\u554f\u306b\u7b54\u3048\u3066\u304f\u308c\u308b\u8cea\u554f\u5fdc\u7b54\u30b7\u30b9\u30c6\u30e0](http://satohdai-nodered.mybluemix.net/qaservice)\u3092\u4f5c\u3063\u3066\u307f\u305f\u306e\u3067\u3001\u4eca\u56de\u306f\u305d\u308c\u306e\u89e3\u8aac\u3092\u3057\u3088\u3046\u3068\u601d\u3046\u3002\n*\u5b66\u7fd2\u3055\u305b\u3066\u3044\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u5c11\u306a\u3059\u304e\u3066\u3001\u3044\u307e\u3044\u3061\u3044\u3044\u56de\u7b54\u306f\u3057\u3066\u304f\u308c\u306a\u3044\u306e\u3067\u6ce8\u610f\u3002\u30b3\u30f3\u30bb\u30d7\u30c8\u304c\u4f1d\u308f\u3063\u3066\u304f\u308c\u308c\u3070\u5fa1\u306e\u5b57\u3002*\n\n# \u5168\u4f53\u30d5\u30ed\u30fc\nNode-RED\u3067\u4f5c\u3063\u305f\u30d5\u30ed\u30fc\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n![2016-02-23 13_56_14-Node-RED _ satohdai-nodered.mybluemix.net.png](https://qiita-image-store.s3.amazonaws.com/0/102519/202ba4e2-cd8e-ad19-301f-856185cd838c.png)\n\u5c0f\u3055\u3059\u304e\u3066\u898b\u3048\u306a\u3044\u3051\u3069\u3001\u3053\u306e\u5f8c\u3067\u7d30\u5207\u308c\u306b\u30a2\u30c3\u30d7\u306b\u3059\u308b\u306e\u3067\u3054\u5b89\u5fc3\u3092\u3002\n\n\u89e3\u8aac\u306e\u305f\u3081\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u533a\u5207\u3063\u305f\u3002\n![2016-02-23 14_21_48-PowerPoint Slide Show - [Node-RED.pptx].png](https://qiita-image-store.s3.amazonaws.com/0/102519/727e83ba-0d60-2de1-7a81-80dbe57bbad5.png)\n\n# \u2460\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u30ea\u30af\u30a8\u30b9\u30c8\n\u521d\u671f\u753b\u9762\u3068\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u53d7\u3051\u308b\u3068\u3001HTML\u3092\u7d44\u307f\u7acb\u3066\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u8fd4\u3059\u3001\u3068\u3044\u3046\u52d5\u4f5c\u3092\u3055\u305b\u308b\u3002\n![2016-02-23 14_04_08-Node-RED _ satohdai-nodered.mybluemix.net.png](https://qiita-image-store.s3.amazonaws.com/0/102519/ef8eb9a5-f8b7-45f0-7840-e2304895810f.png)\n\u307e\u305a\u306f\u3001http\u30ea\u30af\u30a8\u30b9\u30c8\u30ce\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u3001HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308b\u3002\u4eca\u56de\u306f\u30d6\u30e9\u30a6\u30b6\u30fc\u304b\u3089*/qaservice*\u306b\u30a2\u30af\u30bb\u30b9\u3092\u3057\u3066\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3092\u8868\u793a\u3055\u305b\u308b\u3002\nfunction\u30ce\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u3001HTML\u306e\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3002JavaScript\u306e\u30b3\u30fc\u30c9\u3082HTML\u306e\u4e2d\u306b\u57cb\u3081\u8fbc\u3080\u3002\u4eca\u56de\u306e\u5834\u5408\u306f\u3001\u3053\u3053\u304c\u4e00\u756a\u91cd\u3044\u4f5c\u696d\u306b\u306a\u308b\u3002\n\n```html:\u521d\u671f\u753b\u9762\u6574\u5f62\n<!DOCTYPE html>\n<html>\n    <head>\n        <title>Watson Smartphone Advisor</title>\n        <meta charset=\"utf-8\">\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    \n        <!-- jquery -->\n        <script src=\"//code.jquery.com/jquery-1.12.0.min.js\"></script>\n    \n        <!-- Bootstrap -->\n        <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\" integrity=\"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\" crossorigin=\"anonymous\"></script>\n\n        <!-- Bootswatch -->\n        <link rel=\"stylesheet\" href=\"http://bootswatch.com/flatly/bootstrap.min.css\">\n        <!-- <link rel=\"stylesheet\" href=\"http://bootswatch.com/cerulean/bootstrap.min.css\"> -->\n        \n        <!-- \u30e6\u30fc\u30b6\u30fc\u30ed\u30b8\u30c3\u30af -->\n        <script type=\"text/javascript\">\n            var askQuestion = function(){\n                // \u30dc\u30bf\u30f3\u306e\u7121\u52b9\u5316\n                var askButton = document.getElementById(\"askButton\");\n                askButton.className = \"btn btn-default disabled\";\n                \n                //\u8cea\u554f\u6587\u3092\u53d6\u308a\u51fa\u3059\n                var q = document.getElementById(\"q\");\n                \n                // *** Node-red /askflow \u3092\u547c\u3073\u51fa\u3059\u305f\u3081\u306exhr\u3092\u4f5c\u3063\u3066\u547c\u3073\u51fa\u3057***\n                var xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function (){\n                    switch(xhr.readyState){\n                        case 4:\n                            var answerArea = document.getElementById(\"answerArea\");\n                            if(xhr.status == 0){\n                                answerArea.value = \"XHR \u901a\u4fe1\u5931\u6557\";\n                            }else{\n                                if(xhr.status == 200){\n                                    // \u30d5\u30ed\u30fc\u304b\u3089\u8fd4\u3063\u3066\u304d\u305f\u7d50\u679c\u3092 \"answerArea\" \u306b\u5165\u308c\u308b\n                                    answerArea.value = xhr.responseText;\n                                }else{\n                                    // status == 200\u4ee5\u5916\n                                    answerArea.value = xhr.status + \" : \" + xhr.responseText;\n                                }\n                            }\n                            // \u97f3\u58f0\u51fa\u529b\n                            var audio = document.createElement(\"audio\");\n                            audio.src = \"./speech?text=\" + answerArea.value;\n                            audio.play();\n                            \n                            // \u30dc\u30bf\u30f3\u306e\u6709\u52b9\u5316\n                            askButton.className = \"btn btn-primary\";\n                            \n                            break;\n                    }\n                };\n                var url = \"./askflow?q=\" + q.value;\n                xhr.open(\"GET\", url, true);\n                xhr.send(\"\");\n            }\n            \n            var checkLength = function(){\n                // \u30dc\u30bf\u30f3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u308a\u51fa\u3059\n                var askButton = document.getElementById(\"askButton\");\n                // \u8cea\u554f\u6587\u3092\u53d6\u308a\u51fa\u3059\n                var q = document.getElementById(\"q\");\n                if (q.value.length > 0) {\n                    askButton.className = \"btn btn-primary\";    // \u30dc\u30bf\u30f3\u306e\u6709\u52b9\u5316\n                } else {\n                    askButton.className = \"btn btn-default disabled\";   // \u30dc\u30bf\u30f3\u306e\u7121\u52b9\u5316\n                }\n            }\n        </script>\n\n    </head>\n\n    <body>\n        <!-- Navbar -->\n        <nav class=\"navbar navbar-default\">\n            <div class=\"container-fluid\">\n                <div class=\"navbar-header\">\n                    <a class=\"navbar-brand\" href=\"http://satohdai-nodered.mybluemix.net/qaservice\">Watson Smartphone Advisor</a>\n                </div>\n                <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n                    <ul class=\"nav navbar-nav navbar-right\">\n                        <li><a href=\"https://satohdai-nodered.mybluemix.net/\" target=_>Node-Red</a></li>\n                    </ul>\n                </div>\n            </div>\n        </nav>\n        \n\n        <!-- \u30b0\u30ea\u30c3\u30c9\u30b7\u30b9\u30c6\u30e0 -->\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <!-- \u5de6\u30ab\u30e9\u30e0 -->\n                <div class=\"col-xs-1 bg-left\"></div>\n                \n                <!-- \u4e2d\u592e -->\n                <div class=\"col-xs-10 bg-main\">\n                    <center>\n                        <h3>\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u306e\u3053\u3068\u3092\u805e\u3044\u3066\u304f\u3060\u3055\u3044</h3>\n                        <div class=\"form-group\">\n                            <textarea class=\"form-control\" rows=3 id=\"q\" placeholder=\"\u3053\u3053\u306b\u8cea\u554f\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\" oninput=\"checkLength()\"></textarea>\n                            <br>\n                            <a class=\"btn btn-default distabled\" id=\"askButton\" href=\"javascript:askQuestion()\">\u8cea\u554f\u3059\u308b</a>\n                        </div>\n                        <br>\n                        <div class=\"form-group\">\n                            <textarea class=\"form-control\" rows=5 id=\"answerArea\" placeholder=\"Watson\u304b\u3089\u306e\u56de\u7b54\" disabled=\"\"></textarea>\n                        </div>\n                    </center>\n                </div>\n                \n                <!-- \u53f3\u30ab\u30e9\u30e0 -->\n                <div class=\"col-xs-1 bg-right\"></div>\n            </div>\n        </div>\n\n    </body>\n\n</html>\n```\n\n\u3068\u307e\u3041\u3053\u3093\u306a\u611f\u3058\u3002\u52d5\u304f\u306e\u512a\u5148\u3067\u4f5c\u3063\u305f\u306e\u3067\u919c\u3044\u90e8\u5206\u304c\u3042\u3063\u3066\u3082\u30ad\u30cb\u30b7\u30ca\u30a4\u3002\n\u6700\u5f8c\u306bhttp\u30ec\u30b9\u30dd\u30f3\u30b9\u30ce\u30fc\u30c9\u3092\u304f\u3063\u3064\u3051\u3066\u5b8c\u4e86\u3002\n\n# \u2461\u8cea\u554f\u306e\u5185\u5bb9\u5224\u65ad\n\u3053\u3053\u3067\u306f\u3001\u8cea\u554f\u6587\u3092\u53d7\u3051\u53d6\u308a\u3001\u8cea\u554f\u5185\u5bb9\u3078\u306e\u4e00\u6bb5\u76ee\u306e\u5bfe\u5fdc\u3092\u884c\u3046\u3002\u4e00\u6bb5\u76ee\u3067\u306f\u3001\u5185\u5bb9\u304c\u300c\u3042\u3044\u3055\u3064\u300d\u304b\u300c\u305d\u308c\u4ee5\u5916\u300d\u304b\u3092\u5224\u65ad\u3057\u3001\u300c\u3042\u3044\u3055\u3064\u300d\u306a\u3089\u3070\u6328\u62f6\u306e\u7a2e\u985e\u306b\u3042\u308f\u305b\u305f\u8fd4\u4e8b\u3092\u884c\u3044\u3001\u300c\u305d\u308c\u4ee5\u5916\u300d\u306a\u3089\u3070\u4e8c\u6bb5\u76ee\u306e\u5bfe\u5fdc\u306b\u5206\u5c90\u3055\u305b\u308b\u3002\u78ba\u4fe1\u5ea6\u304c\u9ad8\u304f\u306a\u3044\u5834\u5408\u306f\u3001\u30af\u30e9\u30b9\u5206\u3051\u5931\u6557\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u518d\u5ea6\u8cea\u554f\u3092\u8fd4\u3059\u3088\u3046\u306b\u6c42\u3081\u308b\u3002\n![2016-02-23 14_04_26-Node-RED _ satohdai-nodered.mybluemix.net.png](https://qiita-image-store.s3.amazonaws.com/0/102519/92cf0b35-db77-3aa8-f7ff-c792367cc8a6.png)\nHTML\u3067\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068*/askflow*\u3092\u547c\u3073\u51fa\u3059\u3088\u3046\u306b\u66f8\u3044\u3066\u304a\u3044\u305f\u306e\u3067\u3001\u30b9\u30bf\u30fc\u30c8\u306f/askflow\u304b\u3089\u306f\u3058\u307e\u308b\u3002\n\u300cGreeting or Not Classifier\u300d\u3067\u306fNLC\u3092\u4f7f\u3063\u3066\u3042\u3044\u3055\u3064\u304b\u305d\u3046\u3067\u306a\u3044\u304b\u3092\u5224\u65ad\u3059\u308b\u3002\u300c\u3042\u3044\u3055\u3064\u3067\u306f\u306a\u3044\u300d\u3068\u3044\u3046\u6559\u5e2b\u30c7\u30fc\u30bf\u306f\u3001\u5f8c\u308d\u3067\u4f7f\u3046Android\u3084iPhone\u306e\u8cea\u554f\u6587\u3092\u305d\u306e\u307e\u307e\u501f\u7528\u3057\u305f\u3002\n\u3053\u3053\u3067\u3001\u78ba\u4fe1\u5ea6\u304c\u4f4e\u3044(\u4eca\u56de\u306f80%\u672a\u6e80)\u3001\u3064\u307e\u308a\u300c\u3042\u3044\u3055\u3064\u306a\u306e\u304b\u8cea\u554f\u306a\u306e\u304b\u3059\u3089\u308f\u304b\u3089\u306a\u3044\u300d\u5834\u5408\u306f\u3001\u3082\u3046\u4e00\u5ea6\u8cea\u554f\u3092\u5165\u308c\u3066\u304f\u308c\u308b\u3088\u3046\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u30bb\u30c3\u30c8\u3057\u3066http\u30ec\u30b9\u30dd\u30f3\u30b9\u30ce\u30fc\u30c9\u306b\u7e4b\u3052\u308b\u3002\n\u78ba\u4fe1\u5ea6\u304c\u9ad8\u3044\u5834\u5408\u306f\u3001\u305d\u308c\u304c\u300c\u3042\u3044\u3055\u3064\u300d\u306a\u306e\u304b\u300c\u305d\u308c\u4ee5\u5916\u300d\u306a\u306e\u304b\u306b\u3088\u3063\u3066\u5206\u5c90\u3059\u308b\u3002\n\n# \u2462\u3042\u3044\u3055\u3064\u3092\u8fd4\u3059\n\u2461\u3067\u300c\u3042\u3044\u3055\u3064\u300d\u3068\u5224\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u3042\u3044\u3055\u3064\u306e\u7a2e\u985e\u306b\u5fdc\u3058\u305f\u5fdc\u7b54\u3092\u8fd4\u3059\u3002\n![2016-02-23 14_04_50-Node-RED _ satohdai-nodered.mybluemix.net.png](https://qiita-image-store.s3.amazonaws.com/0/102519/399f6cfd-643f-b7b8-cd36-3d7f5a2fd1a0.png)\nNLC\u306b\u3088\u3063\u3066\u3042\u3044\u3055\u3064\u306e\u7a2e\u985e\u3092\u7279\u5b9a\u3057\u3001\u7a2e\u985e\u306e\u6cbf\u3063\u305f\u5fdc\u7b54\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30bb\u30c3\u30c8\u3057\u3066http\u30ec\u30b9\u30dd\u30f3\u30b9\u30ce\u30fc\u30c9\u306b\u7e4b\u3052\u308b\u3002\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3042\u3044\u3055\u3064\u4ee5\u5916\u306f\u300c\u305d\u306e\u4ed6\u300d\u306b\u3057\u3066\u3044\u308b\u304c\u3001\u30c8\u30c3\u30d7\u30af\u30e9\u30b9\u306f\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3042\u3044\u3055\u3064\u306e\u3069\u308c\u304b\u306a\u306e\u3067\u3001\u3053\u3053\u306b\u306f\u5206\u5c90\u3057\u306a\u3044\u306f\u305a\u3067\u3042\u308b\u30fb\u30fb\u30fb\u3002\n\n# \u2463Android\u304biPhone\u304b\u5206\u985e\u3059\u308b\n\u2461\u3067\u300c\u305d\u308c\u4ee5\u5916\u300d\u3068\u5224\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u300cAndroid\u300d\u304b\u300ciPhone\u300d\u304b\u5224\u5b9a\u3057\u3066\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u7e4b\u3052\u308b\u3002\n![2016-02-23 14_05_15-Node-RED _ satohdai-nodered.mybluemix.net.png](https://qiita-image-store.s3.amazonaws.com/0/102519/cd1e281d-b8ca-3743-2d5c-78cd3588e9b4.png)\nNLC\u306b\u3088\u3063\u3066\u8cea\u554f\u6587\u304cAndroid\u306e\u8cea\u554f\u304biPhone\u306e\u8cea\u554f\u304b\u5224\u5225\u3055\u305b\u308b\u3002\u78ba\u4fe1\u5ea6\u304c\u4f4e\u3044(\u4eca\u56de\u306f80%\u672a\u6e80)\u5834\u5408\u306f\u5206\u985e\u5931\u6557\u3068\u3057\u3066\u3082\u3046\u4e00\u5ea6\u8cea\u554f\u3059\u308b\u3088\u3046\u306b\u304a\u9858\u3044\u3059\u308b\u3002\u78ba\u4fe1\u5ea6\u304c\u9ad8\u3044(\u4eca\u56de\u306f80%\u4ee5\u4e0a)\u5834\u5408\u306f\u3001\u8a72\u5f53\u30af\u30e9\u30b9\u306e\u51e6\u7406\u3078\u3068\u5206\u5c90\u3059\u308b\u3002\n\n# \u2464R&R\u3067\u56de\u7b54\u3092\u63a2\u3057\u3066\u7b54\u3048\u308b\n\u2463\u3067Android\u304biPhone\u304b\u5206\u985e\u3067\u304d\u305f\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u306eR&R\u306b\u5bfe\u3057\u3066\u8cea\u554f\u3092\u6295\u3052\u3066\u6700\u9069\u306a\u56de\u7b54\u3092\u53d6\u5f97\u3057\u3001\u5fdc\u7b54\u3059\u308b\u3002\n![2016-02-23 14_05_31-Node-RED _ satohdai-nodered.mybluemix.net.png](https://qiita-image-store.s3.amazonaws.com/0/102519/97081a50-7b8e-54cf-3533-2bf827cd2afc.png)\nR&R\u3067\u306f\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u540d\u306a\u3069\u3082\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u305a\u3001\u7c21\u5358\u306e\u305f\u3081\u306b\u6700\u521d\u304b\u3089\u5206\u5c90\u3057\u3066\u4f5c\u3063\u305f\u3002\u9811\u5f35\u308c\u3070\u5206\u5c90\u305b\u305a\u306b\u5171\u901a\u30d5\u30ed\u30fc\u3067\u3044\u3051\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\u6700\u5f8c\u306bhttp\u30ec\u30b9\u30dd\u30f3\u30b9\u30ce\u30fc\u30c9\u3067\u30d6\u30e9\u30a6\u30b6\u30fc\u306b\u5fdc\u7b54\u3092\u8fd4\u3057\u3001\u56de\u7b54\u6b04\u306b\u8868\u793a\u3055\u305b\u308b\u3002\n\n# \u2465TTS\u3067\u3057\u3083\u3079\u3089\u305b\u308b\n\u2464\u3067\u30d6\u30e9\u30a6\u30b6\u30fc\u306b\u5fdc\u7b54\u3092\u8fd4\u3057\u305f\u3068\u304d\u306b\u3001\u56de\u7b54\u6b04\u3078\u306e\u8868\u793a\u306e\u4ed6\u306bTTS\u306e\u547c\u3073\u51fa\u3057\u3082\u5b9f\u884c\u3059\u308b\u3002\n![2016-02-23 14_05_45-Node-RED _ satohdai-nodered.mybluemix.net.png](https://qiita-image-store.s3.amazonaws.com/0/102519/9d2e8128-5bd2-600b-92fe-71703660f754.png)\n\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u300c/speech\u300d\u3068\u3057\u3066TTS\u3092\u547c\u3073\u51fa\u3059\u30d5\u30ed\u30fc\u3092\u4f5c\u308b\u3002\u4e2d\u8eab\u306f\u524d\u56de\u306e\u89e3\u8aac\u306e\u3068\u304a\u308a\u3001\u5358\u7d14\u306a\u30d5\u30ed\u30fc\u306b\u306a\u308b\u3002\n\n\u4ee5\u4e0a\u3067\u3001Node-RED\u3092\u4f7f\u3063\u305f\u65e5\u672c\u8a9e\u8cea\u554f\u5fdc\u7b54\u30a2\u30d7\u30ea\u304c\u3067\u304d\u305f\u3002\n\n# \u304a\u308f\u308a\u306b\n\u3084\u3063\u3071\u308aNode-RED\u306f\u697d\u3060\u3002app.js\u3068\u304bHTML\u3092\u884c\u3063\u305f\u308a\u6765\u305f\u308a\u3057\u306a\u304f\u3066\u3082\u3044\u3044\u3002JavaScript\u3084Node.js\u306e\u9762\u5012\u306a\u304a\u4f5c\u6cd5\u3068\u304b\u3082(\u6975\u529b)\u8003\u3048\u305a\u306b\u6e08\u3080\u3002\u3053\u308c\u304b\u3089\u30a2\u30d7\u30ea\u958b\u767a\u3092\u306f\u3058\u3081\u3066\u3084\u308a\u307e\u3059\u3001\u3068\u3044\u3046\u4eba\u306b\u5165\u9580\u3068\u3057\u3066\u306f\u5411\u3044\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002\u304c\u3001\u3053\u308c\u3092\u3084\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u304b\u3089\u3068\u3044\u3063\u3066\u3001Java\u3084JavaScript\u3092\u666e\u901a\u306b(\u4e00\u822c\u7684\u306a\u30a8\u30c7\u30a3\u30bf\u30fc\u3092\u4f7f\u3063\u3066)\u958b\u767a\u3067\u304d\u308b\u3068\u306f\u601d\u3048\u306a\u3044\u304c\u30fb\u30fb\u30fb\u3002\n\u306a\u306b\u306f\u3068\u3082\u3042\u308c\u3001\u3053\u308c\u3067\u3042\u3068\u306f\u6559\u80b2\u30c7\u30fc\u30bf\u3092\u305d\u308d\u3048\u3055\u3048\u3059\u308c\u3070\u3001\u4f55\u3067\u3082\u8cea\u554f\u3067\u304d\u3061\u3083\u3046\u30cd\uff01\n\n\n\n\n"}