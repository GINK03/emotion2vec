{"tags": ["Python", "lxml", "XML", "dom"], "context": "from lxml import etree\n\nclass ElementsTagReplacer:\n    \"\"\"replace tag name with namespaces.\"\"\"\n    def __init__(self):\n        self.encoding = 'utf-8'\n        self.parser = etree.XMLParser(encoding=self.encoding)\n        self.namespaces = {'media': \"http://search.yahoo.com/mrss/\"}\n\n    def replace(self, xml):\n        if isinstance(xml, str):\n            xml = xml.encode(self.encoding, 'ignore')\n\n        root = etree.fromstring(xml, parser=self.parser)\n\n        for analytics_gn in root.iterfind('.//media:thumbnail', namespaces=self.namespaces):\n            analytics_gn.tag = \"{%s}image\" % analytics_gn.nsmap['media']\n\n        return etree.tostring(root, encoding='utf-8').decode('utf-8', 'ignore')\n\n\nreplaced_xml = ElementsTagReplacer().replace(xml)\n\n```py3\nfrom lxml import etree\n\nclass ElementsTagReplacer:\n    \"\"\"replace tag name with namespaces.\"\"\"\n    def __init__(self):\n        self.encoding = 'utf-8'\n        self.parser = etree.XMLParser(encoding=self.encoding)\n        self.namespaces = {'media': \"http://search.yahoo.com/mrss/\"}\n\n    def replace(self, xml):\n        if isinstance(xml, str):\n            xml = xml.encode(self.encoding, 'ignore')\n\n        root = etree.fromstring(xml, parser=self.parser)\n\n        for analytics_gn in root.iterfind('.//media:thumbnail', namespaces=self.namespaces):\n            analytics_gn.tag = \"{%s}image\" % analytics_gn.nsmap['media']\n\n        return etree.tostring(root, encoding='utf-8').decode('utf-8', 'ignore')\n\n\nreplaced_xml = ElementsTagReplacer().replace(xml)\n```\n"}