{"context": " More than 1 year has passed since last update.4/2\u306bTerraform 0.4.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308cDocker\u3001OpenStack\u306a\u3069\u306e\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u8ffd\u52a0\u3092\u306f\u3058\u3081\u3068\u3057\u3066\u591a\u304f\u306e\u6a5f\u80fd\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002(CHANGELOG.md)\n\u4eca\u56de\u306f\u8ffd\u52a0\u3055\u308c\u305f\u6a5f\u80fd\u306e\u4e00\u3064\u3067\u3042\u308bTerraform\u306e\u51fa\u529b\u3092\u5225\u306eTerraform\u304b\u3089\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30ea\u30bd\u30fc\u30b9terraform_remote_state \u3092\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u6982\u8981\nTerraform\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u72b6\u614b\u3092terraform.tfstate\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\u30d0\u30fc\u30b8\u30e7\u30f30.3.5\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u306e\u4ee3\u308f\u308a\u306bConsul\u3084Atlas\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u30ea\u30e2\u30fc\u30c8\u306b\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u30d0\u30fc\u30b8\u30e7\u30f30.4.0\u3067\u306f\u30ea\u30e2\u30fc\u30c8\u306b\u4fdd\u5b58\u3055\u308c\u305f\u72b6\u614b\u3092terraform_remote_state \u3068\u3044\u3046\u30ea\u30bd\u30fc\u30b9\u3092\u7528\u3044\u3066\u53c2\u7167\u3057\u3001\u5225\u306eTerraform\u306e\u4e2d\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u30c6\u30b9\u30c8\u74b0\u5883\nRemote state\u306fhttp, consul, Atlas\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u5c0e\u5165\u30fb\u8a2d\u5b9a\u304c\u7c21\u5358\u3067\u3001UI\u3092\u4f7f\u7528\u3057\u3066Terraform\u304c\u30bb\u30c3\u30c8\u3057\u3066\u3044\u308b\u5024\u3092\u5bb9\u6613\u306b\u78ba\u8a8d\u3067\u304d\u308bconsul\u3092\u4f8b\u3068\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u4e0b\u8a18\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u74b0\u5883\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\nTerraform (0.4.0\u4ee5\u964d)\nConsul (0.5.0\u4ee5\u964d)\nConsul UI (0.5.0\u4ee5\u964d)\n\n\u4ee5\u4e0b\u306bIDCF\u30af\u30e9\u30a6\u30c9\u306eVagrantfile\u304c\u3042\u308a\u307e\u3059\u3002\nhttps://github.com/atsaki/vagrant-examples/tree/master/terraform-remote\n\n\u4f7f\u3044\u65b9\n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u4f5c\u6210\n\u307e\u305a1\u3064\u3081\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u51fa\u529b\u3068\u3057\u3066\u5225\u306eTerraform\u306b\u6e21\u3057\u305f\u3044\u5024\u3092output\u3068\u3057\u3066\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\uff08\u73fe\u72b6\u3067\u306foutput\u3057\u3066\u3044\u308b\u5024\u306e\u307f\u6e21\u3059\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\uff09\n$ mkdir -p ~/terraform-remote/repo1\n$ cd ~/terraform-remote/repo1\n$ cat << EOS > repo1.tf\noutput \"repo1_output\" {\n  value = \"Output from repo1\"\n}\nEOS\n\n\nRemote state\u3092\u6709\u52b9\u306b\u3059\u308b\nconsul\u306b\u72b6\u614b\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ terraform remote config -backend consul -backend-config=\"path=repo1\"\nInitialized blank state with remote state enabled!\nRemote state configured and pulled.\n\nconsul\u306eUI\u3092\u78ba\u8a8d\u3059\u308b\u3068\u6307\u5b9a\u3057\u305fpath\u306b\u7a7a\u306e\u72b6\u614b\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\nTerraform\u306e\u72b6\u614b\u3092\u30ea\u30e2\u30fc\u30c8\u306b\u4fdd\u5b58\u3059\u308b\nRemote state\u304c\u6709\u52b9\u5316\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067terraform apply \u3059\u308b\u3068\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u305f\u60c5\u5831\u304c\u81ea\u52d5\u7684\u306bconsul\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n$ terraform apply\n\nApply complete! Resources: 0 added, 0 changed, 0 destroyed.\n\nOutputs:\n\n  repo1_output = Output from repo1\n\nconsul\u306eUI\u3092\u78ba\u8a8d\u3059\u308b\u3068outputs\u306b\u5024\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\n\u30ea\u30e2\u30fc\u30c8\u306eTerraform\u306e\u72b6\u614b\u3092\u53c2\u7167\u3059\u308b\n\u30ea\u30e2\u30fc\u30c8\u306b\u72b6\u614b\u3092\u4fdd\u5b58\u3067\u304d\u305f\u306e\u3067\u3001\u3082\u3046\u4e00\u3064\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u53c2\u7167\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u30ea\u30e2\u30fc\u30c8\u306e\u72b6\u614b\u306fterraform_remote_state \u3068\u3044\u3046\u30ea\u30bd\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002config\u306b\u306frepo1\u3067\u6307\u5b9a\u3057\u305f\u60c5\u5831\u3092\u8a18\u5165\u3057\u307e\u3059\u3002\n\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3092\u53c2\u7167\u3059\u308b\u65b9\u6cd5\u306f\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3068\u540c\u3058\u3067\u3059\u3002\u4eca\u56de\u306f\u5358\u306boutput\u3067\u51fa\u529b\u3057\u307e\u3059\u3002\n$ mkdir -p ~/terraform-remote/repo2\n$ cd ~/terraform-remote/repo2\n$ cat << EOS > repo2.tf\nresource \"terraform_remote_state\" \"repo1\" {                                 \n    backend = \"consul\"                                                              \n    config {                                                                       \n        path = \"repo1\"    \n    }                                                                              \n} \n\noutput \"repo1_output\" {\n  value = \"\\${terraform_remote_state.repo1.output.repo1_output}\"\n}\nEOS\n\nterraform apply \u3059\u308b\u3068repo1\u3067\u8a2d\u5b9a\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n$ terraform apply\nterraform_remote_state.repo1: Creating...\n  backend:     \"\" => \"consul\"\n  config.#:    \"\" => \"1\"\n  config.path: \"\" => \"repo1\"\n  output.#:    \"\" => \"<computed>\"\nterraform_remote_state.repo1: Creation complete\n\nApply complete! Resources: 1 added, 0 changed, 0 destroyed.\n\nThe state of your infrastructure has been saved to the path\nbelow. This state is required to modify and destroy your\ninfrastructure, so keep it safe. To inspect the complete state\nuse the `terraform show` command.\n\nState path: terraform.tfstate\n\nOutputs:\n\n  repo1_output = Output from repo1\n\n\n\u53c2\u7167\u5143\u3092\u5909\u66f4\u3059\u308b\nrepo1\u3092\u5909\u66f4\u3057\u305f\u969b\u3001repo2\u306e\u51fa\u529b\u3082\u5909\u308f\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u307e\u305arepo1\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u3001terraform apply \u3067\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\n$ cd ~/terraform-remote/repo1\n$ cat << EOS > repo1.tf\noutput \"repo1_output\" {\n  value = \"Modified output from repo1\"\n}\nEOS\n$ terraform apply\n\nApply complete! Resources: 0 added, 0 changed, 0 destroyed.\n\nOutputs:\n\n  repo1_output = Modified output from repo1\n\nrepo2\u3067terraform apply \u3092\u518d\u5b9f\u884c\u3059\u308b\u3068\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5909\u66f4\u304c\u53cd\u6620\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n$ cd ~/terraform-remote/repo2\n$ terraform apply\nterraform_remote_state.repo1: Refreshing state... (ID: 2015-04-04 10:34:03.745421914 +0000 UTC)\n\nApply complete! Resources: 0 added, 0 changed, 0 destroyed.\n\nOutputs:\n\n  repo1_output = Modified output from repo1\n\n\n\u6700\u5f8c\u306b\nterraform_remote_state \u3092\u5229\u7528\u3057\u3066\u7570\u306a\u308b\u30ec\u30dd\u30b8\u30c8\u30ea\u306eTerraform\u306e\u5024\u3092\u53c2\u7167\u3067\u304d\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\u5b9f\u969b\u306b\u4f7f\u7528\u3059\u308b\u969b\u306b\u306f\u3001\u6e21\u3057\u305f\u3044\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3092\u53c2\u7167\u3057\u3066output\u3067\u51fa\u529b\u3057\u307e\u3059\u3002\uff08\u53c2\u8003\u306b\u4e0a\u3052\u3066\u3044\u308b\u30d6\u30ed\u30b0\u306b\u3042\u308b\u3088\u3046\u306boutput\u5c02\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u306e\u304c\u826f\u3055\u305d\u3046\u3067\u3059\u3002\uff09\n\n\u53c2\u8003\u8cc7\u6599\n\nhttp://bobtfish.github.io/blog/2015/04/03/terraform-0-dot-4-0\n\n4/2\u306bTerraform 0.4.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308cDocker\u3001OpenStack\u306a\u3069\u306e\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u8ffd\u52a0\u3092\u306f\u3058\u3081\u3068\u3057\u3066\u591a\u304f\u306e\u6a5f\u80fd\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002([CHANGELOG.md](https://github.com/hashicorp/terraform/blob/master/CHANGELOG.md))\n\n\u4eca\u56de\u306f\u8ffd\u52a0\u3055\u308c\u305f\u6a5f\u80fd\u306e\u4e00\u3064\u3067\u3042\u308bTerraform\u306e\u51fa\u529b\u3092\u5225\u306eTerraform\u304b\u3089\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30ea\u30bd\u30fc\u30b9```terraform_remote_state``` \u3092\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n\n# \u6982\u8981\n\nTerraform\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u72b6\u614b\u3092terraform.tfstate\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\u30d0\u30fc\u30b8\u30e7\u30f30.3.5\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u306e\u4ee3\u308f\u308a\u306bConsul\u3084Atlas\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u30ea\u30e2\u30fc\u30c8\u306b\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u30d0\u30fc\u30b8\u30e7\u30f30.4.0\u3067\u306f\u30ea\u30e2\u30fc\u30c8\u306b\u4fdd\u5b58\u3055\u308c\u305f\u72b6\u614b\u3092```terraform_remote_state``` \u3068\u3044\u3046\u30ea\u30bd\u30fc\u30b9\u3092\u7528\u3044\u3066\u53c2\u7167\u3057\u3001\u5225\u306eTerraform\u306e\u4e2d\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n# \u30c6\u30b9\u30c8\u74b0\u5883\n\nRemote state\u306fhttp, consul, Atlas\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u5c0e\u5165\u30fb\u8a2d\u5b9a\u304c\u7c21\u5358\u3067\u3001UI\u3092\u4f7f\u7528\u3057\u3066Terraform\u304c\u30bb\u30c3\u30c8\u3057\u3066\u3044\u308b\u5024\u3092\u5bb9\u6613\u306b\u78ba\u8a8d\u3067\u304d\u308bconsul\u3092\u4f8b\u3068\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\u4e0b\u8a18\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u74b0\u5883\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\n* Terraform (0.4.0\u4ee5\u964d)\n* Consul (0.5.0\u4ee5\u964d)\n* Consul UI (0.5.0\u4ee5\u964d)\n\n\u4ee5\u4e0b\u306bIDCF\u30af\u30e9\u30a6\u30c9\u306eVagrantfile\u304c\u3042\u308a\u307e\u3059\u3002\nhttps://github.com/atsaki/vagrant-examples/tree/master/terraform-remote\n\n# \u4f7f\u3044\u65b9\n\n## \u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u4f5c\u6210\n\n\u307e\u305a1\u3064\u3081\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u51fa\u529b\u3068\u3057\u3066\u5225\u306eTerraform\u306b\u6e21\u3057\u305f\u3044\u5024\u3092output\u3068\u3057\u3066\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\uff08\u73fe\u72b6\u3067\u306foutput\u3057\u3066\u3044\u308b\u5024\u306e\u307f\u6e21\u3059\u4e8b\u304c\u53ef\u80fd\u3067\u3059\u3002\uff09\n\n```bash\n$ mkdir -p ~/terraform-remote/repo1\n$ cd ~/terraform-remote/repo1\n$ cat << EOS > repo1.tf\noutput \"repo1_output\" {\n  value = \"Output from repo1\"\n}\nEOS\n```\n\n## Remote state\u3092\u6709\u52b9\u306b\u3059\u308b\n\nconsul\u306b\u72b6\u614b\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```bash\n$ terraform remote config -backend consul -backend-config=\"path=repo1\"\nInitialized blank state with remote state enabled!\nRemote state configured and pulled.\n```\n\nconsul\u306eUI\u3092\u78ba\u8a8d\u3059\u308b\u3068\u6307\u5b9a\u3057\u305fpath\u306b\u7a7a\u306e\u72b6\u614b\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-04-04 19.15.39.png](https://qiita-image-store.s3.amazonaws.com/0/15114/98c9fa8b-0840-bb57-05e5-facd3d4259b1.png)\n\n\n## Terraform\u306e\u72b6\u614b\u3092\u30ea\u30e2\u30fc\u30c8\u306b\u4fdd\u5b58\u3059\u308b\n\nRemote state\u304c\u6709\u52b9\u5316\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\u3067```terraform apply``` \u3059\u308b\u3068\u3001\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u305f\u60c5\u5831\u304c\u81ea\u52d5\u7684\u306bconsul\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\n\n```bash\n$ terraform apply\n\nApply complete! Resources: 0 added, 0 changed, 0 destroyed.\n\nOutputs:\n\n  repo1_output = Output from repo1\n```\n\nconsul\u306eUI\u3092\u78ba\u8a8d\u3059\u308b\u3068outputs\u306b\u5024\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-04-04 19.20.13.png](https://qiita-image-store.s3.amazonaws.com/0/15114/d9881a4c-1591-b933-2ee4-bca217592147.png)\n\n## \u30ea\u30e2\u30fc\u30c8\u306eTerraform\u306e\u72b6\u614b\u3092\u53c2\u7167\u3059\u308b\n\n\u30ea\u30e2\u30fc\u30c8\u306b\u72b6\u614b\u3092\u4fdd\u5b58\u3067\u304d\u305f\u306e\u3067\u3001\u3082\u3046\u4e00\u3064\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u53c2\u7167\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30ea\u30e2\u30fc\u30c8\u306e\u72b6\u614b\u306f```terraform_remote_state``` \u3068\u3044\u3046\u30ea\u30bd\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002config\u306b\u306frepo1\u3067\u6307\u5b9a\u3057\u305f\u60c5\u5831\u3092\u8a18\u5165\u3057\u307e\u3059\u3002\n\n\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3092\u53c2\u7167\u3059\u308b\u65b9\u6cd5\u306f\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3068\u540c\u3058\u3067\u3059\u3002\u4eca\u56de\u306f\u5358\u306boutput\u3067\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```bash\n$ mkdir -p ~/terraform-remote/repo2\n$ cd ~/terraform-remote/repo2\n$ cat << EOS > repo2.tf\nresource \"terraform_remote_state\" \"repo1\" {                                 \n    backend = \"consul\"                                                              \n    config {                                                                       \n        path = \"repo1\"    \n    }                                                                              \n} \n\noutput \"repo1_output\" {\n  value = \"\\${terraform_remote_state.repo1.output.repo1_output}\"\n}\nEOS\n```\n\n```terraform apply``` \u3059\u308b\u3068repo1\u3067\u8a2d\u5b9a\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```bash\n$ terraform apply\nterraform_remote_state.repo1: Creating...\n  backend:     \"\" => \"consul\"\n  config.#:    \"\" => \"1\"\n  config.path: \"\" => \"repo1\"\n  output.#:    \"\" => \"<computed>\"\nterraform_remote_state.repo1: Creation complete\n\nApply complete! Resources: 1 added, 0 changed, 0 destroyed.\n\nThe state of your infrastructure has been saved to the path\nbelow. This state is required to modify and destroy your\ninfrastructure, so keep it safe. To inspect the complete state\nuse the `terraform show` command.\n\nState path: terraform.tfstate\n\nOutputs:\n\n  repo1_output = Output from repo1\n```\n\n## \u53c2\u7167\u5143\u3092\u5909\u66f4\u3059\u308b\n\nrepo1\u3092\u5909\u66f4\u3057\u305f\u969b\u3001repo2\u306e\u51fa\u529b\u3082\u5909\u308f\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\u307e\u305arepo1\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u3001```terraform apply``` \u3067\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\n\n```bash\n$ cd ~/terraform-remote/repo1\n$ cat << EOS > repo1.tf\noutput \"repo1_output\" {\n  value = \"Modified output from repo1\"\n}\nEOS\n$ terraform apply\n\nApply complete! Resources: 0 added, 0 changed, 0 destroyed.\n\nOutputs:\n\n  repo1_output = Modified output from repo1\n```\n\nrepo2\u3067```terraform apply``` \u3092\u518d\u5b9f\u884c\u3059\u308b\u3068\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u5909\u66f4\u304c\u53cd\u6620\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```bash\n$ cd ~/terraform-remote/repo2\n$ terraform apply\nterraform_remote_state.repo1: Refreshing state... (ID: 2015-04-04 10:34:03.745421914 +0000 UTC)\n\nApply complete! Resources: 0 added, 0 changed, 0 destroyed.\n\nOutputs:\n\n  repo1_output = Modified output from repo1\n```\n\n# \u6700\u5f8c\u306b\n\n```terraform_remote_state``` \u3092\u5229\u7528\u3057\u3066\u7570\u306a\u308b\u30ec\u30dd\u30b8\u30c8\u30ea\u306eTerraform\u306e\u5024\u3092\u53c2\u7167\u3067\u304d\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\u5b9f\u969b\u306b\u4f7f\u7528\u3059\u308b\u969b\u306b\u306f\u3001\u6e21\u3057\u305f\u3044\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3092\u53c2\u7167\u3057\u3066output\u3067\u51fa\u529b\u3057\u307e\u3059\u3002\uff08\u53c2\u8003\u306b\u4e0a\u3052\u3066\u3044\u308b\u30d6\u30ed\u30b0\u306b\u3042\u308b\u3088\u3046\u306boutput\u5c02\u7528\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u306e\u304c\u826f\u3055\u305d\u3046\u3067\u3059\u3002\uff09\n\n# \u53c2\u8003\u8cc7\u6599\n\n* http://bobtfish.github.io/blog/2015/04/03/terraform-0-dot-4-0\n", "tags": ["Terraform", "consul"]}