{"context": " More than 1 year has passed since last update.XCode4.3.2\u3067\u78ba\u8a8d\nOpenGL ES\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u3072\u306a\u5f62\u3092\u6d41\u7528\u3057\u307e\u3059\u3002\n\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u6700\u4f4e\u9650\u306e\u624b\u9806\u3057\u304b\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\u3002\u63cf\u753b\u3084\u30e2\u30c7\u30eb\u306e\u6e96\u5099\u306f\u5404\u3005\u3067\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\nAppViewController.m\n// \u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u306e\u5024\u3092\u5165\u308c\u308b\nfloat viewport[4];\n\n// 2D\u5ea7\u6a19\u7cfb\u77e9\u5f62(512x512px\u306e\u30c6\u30af\u30b9\u30c1\u30e3\u3092\n// \u7b49\u500d\u3067\u8868\u793a\u3059\u308b\u524d\u63d0\n// \u3053\u3044\u3064\u3092TRIANGLE_STRIP\u3067\u63cf\u753b\u3059\u308b\nconst GLfloat squareVertices2D[] = {\n    // \u5ea7\u6a19X, Y, Z, U, V\n    // \u5de6\u56de\u308a\n    0.0f, 512.0f, 0.0f, 1.0f,     // \u5de6\u4e0b\n    512.0f, 512.0f, 1.0f, 1.0f,     // \u53f3\u4e0b\n    0.0f, 0.0f, 0.0f, 0.0f,     // \u5de6\u4e0a\n    512.0f, 0.0f, 1.0f, 0.0f,     // \u53f3\u4e0a\n};\n\n// \n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    self.context = [[[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES2] autorelease];\n//                  :\n    // viewport\u8a2d\u5b9a\n    viewport[0]=self.view.bounds.origin.x;\n    viewport[1]=self.view.bounds.origin.y;\n    viewport[2]=self.view.bounds.size.width;\n    viewport[3]=self.view.bounds.size.height;\n\n    [self setupGL];\n}\n\n// OpenGL ES\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n- (void)setupGL\n{\n//                  :\n//                  :\n    [EAGLContext setCurrentContext:self.context];\n//                  :\n//                  :\n    glFrontFace(GL_CCW); // \u5de6\u56de\u308a\u3092\u8868\uff08\u3053\u308c\u304cOpenGL\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\n//                  :\n//                  :\n}\n\n// \u66f4\u65b0\n- (void)update\n{\n//                  :\n//                  :\n\n// \uff12D\u30a6\u30a3\u30f3\u30c9\u30a6\u5ea7\u6a19\u7cfb\uff08\u539f\u70b9\u304c\u5de6\u4e0a 0,0 \uff09\u306e\u884c\u5217\u3092\u4f5c\u308b\n    GLKMatrix4 tmpMatrix = GLKMatrix4MakeOrtho(viewport[0], viewport[2], viewport[1], viewport[3], -1024, 1024);\n\n    tmpMatrix = GLKMatrix4RotateX(tmpMatrix, GLKMathDegreesToRadians(180));\n    tmpMatrix = GLKMatrix4Translate (tmpMatrix, 0, -viewport[3], 0);\n\n    _modelViewProjectionMatrix = tmpMatrix; // \u3053\u308c\u304c2D\u30a6\u30a3\u30f3\u30c9\u30a6\u5ea7\u6a19\u7cfb\u306e\u884c\u5217\u306b\u306a\u308a\u307e\u3059\n//                  :\n//                  :\n}\n\n// \u63cf\u753b\n- (void)glkView:(GLKView *)view drawInRect:(CGRect)rect\n{\n    glViewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n    glClearColor(0.65f, 0.65f, 0.65f, 1.0f);\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n//                  :\n    // 2D\u30a6\u30a3\u30f3\u30c9\u30a6\u5ea7\u6a19\u3067\u63cf\u753b\n    // \u30ab\u30ea\u30f3\u30b0\u3092OFF\uff08\u88cf\u9762\u3082\u63cf\u304f\u30fb\u91cd\u8981\uff09\n    glDisable(GL_CULL_FACE);\n//                  :\n// \u9802\u70b9\u30d0\u30c3\u30d5\u30a1\u306e\u6e96\u5099\u306a\u3069\u3092\u3057\u3066\u4e0b\u3055\u3044\n//                  :\n    glDrawArrays(GL_TRIANGLE_STRIP, 0, 4);\n//                  :\n}\n\n\nXCode4.3.2\u3067\u78ba\u8a8d\nOpenGL ES\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u3072\u306a\u5f62\u3092\u6d41\u7528\u3057\u307e\u3059\u3002\n\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u6700\u4f4e\u9650\u306e\u624b\u9806\u3057\u304b\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\u3002\u63cf\u753b\u3084\u30e2\u30c7\u30eb\u306e\u6e96\u5099\u306f\u5404\u3005\u3067\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n```objectivec:AppViewController.m\n// \u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u306e\u5024\u3092\u5165\u308c\u308b\nfloat viewport[4];\n\n// 2D\u5ea7\u6a19\u7cfb\u77e9\u5f62(512x512px\u306e\u30c6\u30af\u30b9\u30c1\u30e3\u3092\n// \u7b49\u500d\u3067\u8868\u793a\u3059\u308b\u524d\u63d0\n// \u3053\u3044\u3064\u3092TRIANGLE_STRIP\u3067\u63cf\u753b\u3059\u308b\nconst GLfloat squareVertices2D[] = {\n    // \u5ea7\u6a19X, Y, Z, U, V\n    // \u5de6\u56de\u308a\n    0.0f, 512.0f, 0.0f, 1.0f,     // \u5de6\u4e0b\n    512.0f, 512.0f, 1.0f, 1.0f,     // \u53f3\u4e0b\n    0.0f, 0.0f, 0.0f, 0.0f,     // \u5de6\u4e0a\n    512.0f, 0.0f, 1.0f, 0.0f,     // \u53f3\u4e0a\n};\n\n// \n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    \n    self.context = [[[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES2] autorelease];\n//\t\t\t\t\t:\n    // viewport\u8a2d\u5b9a\n    viewport[0]=self.view.bounds.origin.x;\n    viewport[1]=self.view.bounds.origin.y;\n    viewport[2]=self.view.bounds.size.width;\n    viewport[3]=self.view.bounds.size.height;\n\n    [self setupGL];\n}\n\n// OpenGL ES\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n- (void)setupGL\n{\n//\t\t\t\t\t:\n//\t\t\t\t\t:\n    [EAGLContext setCurrentContext:self.context];\n//\t\t\t\t\t:\n//\t\t\t\t\t:\n    glFrontFace(GL_CCW); // \u5de6\u56de\u308a\u3092\u8868\uff08\u3053\u308c\u304cOpenGL\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\n//\t\t\t\t\t:\n//\t\t\t\t\t:\n}\n\n// \u66f4\u65b0\n- (void)update\n{\n//\t\t\t\t\t:\n//\t\t\t\t\t:\n\n// \uff12D\u30a6\u30a3\u30f3\u30c9\u30a6\u5ea7\u6a19\u7cfb\uff08\u539f\u70b9\u304c\u5de6\u4e0a 0,0 \uff09\u306e\u884c\u5217\u3092\u4f5c\u308b\n\tGLKMatrix4 tmpMatrix = GLKMatrix4MakeOrtho(viewport[0], viewport[2], viewport[1], viewport[3], -1024, 1024);\n\n\ttmpMatrix = GLKMatrix4RotateX(tmpMatrix, GLKMathDegreesToRadians(180));\n\ttmpMatrix = GLKMatrix4Translate (tmpMatrix, 0, -viewport[3], 0);\n\n\t_modelViewProjectionMatrix = tmpMatrix;\t// \u3053\u308c\u304c2D\u30a6\u30a3\u30f3\u30c9\u30a6\u5ea7\u6a19\u7cfb\u306e\u884c\u5217\u306b\u306a\u308a\u307e\u3059\n//\t\t\t\t\t:\n//\t\t\t\t\t:\n}\n\n// \u63cf\u753b\n- (void)glkView:(GLKView *)view drawInRect:(CGRect)rect\n{\n    glViewport(viewport[0], viewport[1], viewport[2], viewport[3]);\n    glClearColor(0.65f, 0.65f, 0.65f, 1.0f);\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n//\t\t\t\t\t:\n\t// 2D\u30a6\u30a3\u30f3\u30c9\u30a6\u5ea7\u6a19\u3067\u63cf\u753b\n\t// \u30ab\u30ea\u30f3\u30b0\u3092OFF\uff08\u88cf\u9762\u3082\u63cf\u304f\u30fb\u91cd\u8981\uff09\n\tglDisable(GL_CULL_FACE);\n//\t\t\t\t\t:\n// \u9802\u70b9\u30d0\u30c3\u30d5\u30a1\u306e\u6e96\u5099\u306a\u3069\u3092\u3057\u3066\u4e0b\u3055\u3044\n//\t\t\t\t\t:\n    glDrawArrays(GL_TRIANGLE_STRIP, 0, 4);\n//\t\t\t\t\t:\n}\n```\n", "tags": ["iOS", "GLKit", "OpenGLES"]}