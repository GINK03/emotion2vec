{"context": "\n\nX\u8ef8\u30e9\u30d9\u30eb\u306e\u30d5\u30a9\u30f3\u30c8\u306e\u30b5\u30a4\u30ba\n\n\nboxplot : cex.axis\n\nbarplot :cex.names\n\n\n\u3042\u308b\u6761\u4ef6\u4e0b\u306b\u304a\u3051\u308b\u5024\u5909\u66f4\uff08ifelse\uff09\nDF$A\u304c\"hoge\"\u306a\u3089100\u3001\u305d\u3046\u3058\u3083\u306a\u3044\u306a\u3089NA\nDF$A <- ifelse(DF$A == \"hoge\",100,NA)\n\n\n\u3042\u308b\u5217\u3092\u57fa\u6e96\u306b\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092\u4e26\u3079\u66ff\u3048\u308b(order)\n\n\u6607\u9806\uff08order\uff09\nDF[order(DF$col1),]\n\n\n\u964d\u9806\uff08order , decreasing = T\uff09\nDF[order(DF$col1 , decreasing = T),]\n\n\n\u8907\u6570\u306e\u5217\u3092\u57fa\u6e96\u3068\u3059\u308b\u5834\u5408\u3001\u30ab\u30f3\u30de\u3067\u4e26\u3079\u308b\nDF[order(DF$col1 , DF$col1 , decreasing = T),]\n\n\n\u5217\u306b\u5bfe\u3057\u3066\u3001\u3042\u308b\u6761\u4ef6\u306b\u5408\u3063\u305f\u6587\u5b57\u3092\u5909\u66f4\u3059\u308b\n# DF$V1\u3067 \"3\" \u3092 \"\u3042\u3044\u3046\u3048\u304a\" \u306b\u5909\u63db\u3059\u308b\nDF$V1[DF$V1 == 3] <- \"\u3042\u3044\u3046\u3048\u304a\"\n\n\n\u30d9\u30af\u30c8\u30eb\u3092\u8ffd\u52a0\u3059\u308b\n> a <- sum(product_new$prof) / sum(product_all$prof) * 100\n> a\n[1] 40.80371\n> a <- append(a,sum(product_renewal$prof)  / sum(project_all$prof) * 100)\n> a\n[1] 40.80371 27.84163\n\n\n\u6587\u5b57\u691c\u7d22\u3057\u3066\u629c\u304d\u51fa\u3059\uff08grepl\uff09\n\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u306e\u533a\u5225\u3092\u3057\u306a\u3044\u5834\u5408\u306f ignore.case = TRUE \u3092\u3064\u3051\u308b\n# subset \u306b\u3066\nsubset(DF, grepl(\"Zabbix\",DF$Product,ignore.case = TRUE))\n\n# aggregate \u306b\u3066\naggregate(grepl(\"HTTPD|Tomcat|JBoss\",DF$Product),by=list(DF$month_bring),sum)\n\n\n\u4e0d\u8981\u306a\u56e0\u5b50\u3092\u6d88\u3059\nsubset \u7b49\u3067\u6d3e\u751f\u3057\u305f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306b\u4e0d\u8981\uff08NA\u3060\u3063\u305f\u308a\u8981\u7d20\u304c0\u3060\u3063\u305f\u308a\uff09\u306a\u56e0\u5b50\u304c\u6b8b\u308b\u4ef6\u306b\u3064\u3044\u3066\u3001factor\u3092\u4f7f\u3063\u3066\u305d\u308c\u3092\u6d88\u3059\nDF$col1 <- factor(DF$col1)\n\n\ntable \u51fa\u529b\u7d50\u679c\uff08\u30af\u30ed\u30b9\u96c6\u8a08\u7d50\u679c\uff09\u3092\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306b\u3059\u308b\nDF1new <- as.data.frame.matrix(table(DF1$month,DF1$Product.Category))\nDF1new$month <- rownames(DF1new)\nrownames(DF1new) <- NULL\n\n\n\u6587\u5b57\u5217\u306e\u4e00\u90e8\u3092\u629c\u304d\u51fa\u3059\n\u4f8b\u3048\u3070\u3001\u300c2016-01-01\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u65e5\u4ed8\u5217\uff08DF$date\uff09\u304b\u3089\u6708\uff08DF$month\uff09\u306e\u884c\u3092\u4f5c\u308b\nDF$month<-substr(DF$date,1,7)\n\n1\u3064\u3081\u304b\u30897\u3064\u76ee\u307e\u3067\u3092\u629c\u3044\u3066\u5165\u308c\u308b\u3001\u3064\u307e\u308a\u300c2016-01\u300d\u307e\u3067\n\n\u6587\u5b57\u3092\u633f\u5165\u3059\u308b\n> ORG\n[1] \"ABC\"\n\n> paste(\"ABC\",ORG,sep=\",\")\n[1] \"ABC,123\"\n\n> paste(ORG,\"EFG\",sep=\",\")\n[1] \"123,EFG\"\n\n\n\u30de\u30fc\u30b8\uff08merge\uff09\nDF1\u3068DF2\u3092\u540c\u3058\u5217 month \u3092\u30ad\u30fc\u306b\u30de\u30fc\u30b8\n\n\u5168\u90e8\u6b8b\u3059\uff1d\uff1eall=T\uff08\u7121\u3044\u30bb\u30eb\u306f NA\uff09\n\u4e21\u65b9\u306b\u3042\u308b\u3082\u306e\u3060\u3051\u30de\u30fc\u30b8\u3057\u3066\u6b8b\u3059\uff1d\uff1eall=F\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\n\u53f3\u5074\u3092\u6b8b\u3053\u3059\uff1d\uff1eall.y=T\uff08\u5de6\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3067\u306a\u3044\u884c\u306f\u6d88\u3048\u3001\u53f3\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3060\u3051\u306b\u3042\u308b\u884c\u304c\u6b8b\u308a\u3001\u305d\u306e\u5024\u306e\u306a\u3044\u5217\u306f NA\uff09\n\u5de6\u5074\u3092\u6b8b\u3053\u3059\uff1d\uff1eall.y=T\uff08\u53f3\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3067\u306a\u3044\u884c\u306f\u6d88\u3048\u3001\u5de6\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3060\u3051\u306b\u3042\u308b\u884c\u304c\u6b8b\u308a\u3001\u305d\u306e\u5024\u306e\u306a\u3044\u5217\u306f NA\uff09\n\n> DF1\n    month member age\n1 2016-01  jacky  10\n2 2016-05  sarah  20\n3 2016-03    bob  10\n4 2016-02   rucy  50\n> DF2\n    month value category\n1 2016-01     5        a\n2 2016-05     6        b\n3 2016-04    10        c\n\n\n> merge(DF1,DF2,by.x=\"month\")\n    month member age value category\n1 2016-01  jacky  10     5        a\n2 2016-05  sarah  20     6        b\n\n> merge(DF1,DF2,by.x=\"month\",all.x=T)\n    month member age value category\n1 2016-01  jacky  10     5        a\n2 2016-02   rucy  50    NA     <NA>\n3 2016-03    bob  10    NA     <NA>\n4 2016-05  sarah  20     6        b\n\n> merge(DF1,DF2,by.x=\"month\",all.y=T)\n    month member age value category\n1 2016-01  jacky  10     5        a\n2 2016-05  sarah  20     6        b\n3 2016-04   <NA>  NA    10        c\n\n> merge(DF1,DF2,by.x=\"month\",all=T)\n    month member age value category\n1 2016-01  jacky  10     5        a\n2 2016-02   rucy  50    NA     <NA>\n3 2016-03    bob  10    NA     <NA>\n4 2016-05  sarah  20     6        b\n5 2016-04   <NA>  NA    10        c\n\n\n\ntapply \u3067\u4e8c\u6b21\u5143\nlist \u3092\u4f7f\u3046\ntapply(A$value,list(A$col1,A$col2),sum)\n\n\n\u95a2\u6570\ntestfunc <- function(x){\n # \u51e6\u7406\u90e8\n out <- tapply(x$col1,x$col2,sum)\n # \u8fd4\u3059\n return(out)\n}\n\n# \u547c\u3073\u51fa\u3057\ntmp <- testfunc( x = abc )\n\n\nR\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\ninstall.packages(\"installr\")\nlibrary(installr)\nupdateR()\n\n\nR\u306e\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\nSys.setenv(http_proxy=\"http://<proxy server>:<port>\",\n           http_proxy_usr=\"<id>:<pass>\")\n\n\ntable \u304b\u3089\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u4f5c\u308b\nDF <- as.data.frame.matrix(table(DF$month,DF$Product))\n\n\nsjis\u3067csv\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u4f5c\u308b\nDF <- read.csv(\"data.csv\",header = T , fileEncoding = \"sjis\")\n\n\n\u65e5\u4ed8\u306b\u3059\u308b\nDF$\u30ed\u30b0\u30a4\u30f3\u65e5<-strptime(DF$\u30ed\u30b0\u30a4\u30f3\u65e5,\"%Y/%m/%d\")\n\n\n\u5217\u3092\u6d88\u3059\nDF <- DF[,setdiff(colnames(DF),c(\"\u5217\uff11\",\"\u5217\uff12\",\"\u5217\uff13\"))]\n\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5168\u90e8\u6d88\u3059\nrm(list=ls(all=TRUE)) \n\n\n\u30ab\u30a4\u4e8c\u4e57\u691c\u5b9a\n> tapply(DF$ratio,DF$weekday,mean)\n   Fri    Mon    Thu    Tue    Wed \n91.025 49.900 81.800 73.850 86.900 \n\n> chisq.test(tapply(DF$ratio,DF$weekday,mean))\n\n    Chi-squared test for given probabilities\n\ndata:  tapply(DF$ratio, DF$weekday, mean)\nX-squared = 13.842, df = 4, p-value = 0.007817\n\n\n\u30c7\u30fc\u30bf\u30d5\u30ec\u30e0\u3092\u30ad\u30e3\u30e9\u30af\u30bf\u306b\u5909\u63db\nDF <- as.character.Date(DF)\n\n\u5272\u5408\u3067\u96c6\u8a08\uff08prop.table\uff09\nprop.table(table(DF$parameter))\n\n\n\u5024\u3092\u4e38\u3081\u308b\uff08round\uff09\n> round(prop.table(table(DF$Understand)),digits = 2)\n\n\n\u7a7a\u306e\u30bb\u30eb\u3092NA\u306b\u3059\u308b\ndf[df==\"\"]<-NA\n\n\nNA\u30920\u306b\u3059\u308b\uff08is.na\uff09\nDF[is.na(DF)] <- 0\n\n\n\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30bb\u30c3\u30c8\u3059\u308b\nsetwd(\"/home/demo/test\")\n\n\nCSS\u3092\u30bb\u30c3\u30c8\u3059\u308b\noptions(rstudio.markdownToHTML =\n  function(inputFile, outputFile) {\n    require(markdown)\n    markdownToHTML(inputFile, outputFile, stylesheet='custom.css')\n  }\n)\n\n\n\u6307\u6570\u8868\u73fe\u306b\u3059\u308b\u304b\u5426\u304b\u306e\u95be\u5024\u3092\u8a2d\u5b9a\u3059\u308b\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306f 0\uff09\noptions(scipen=1)\n\n\n\u7279\u5b9a\u306e\u5217\u3092\u629c\u304d\u51fa\u3057\u3066\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u4f5c\u6210\n# Type\u5217\u306b\"cifs\"\u3068\u3044\u3046\u306e\u304c\u3042\u308bRead\u5217\u3068Write\u5217\u3092\u629c\u304d\u51fa\u3059\n> new_df <- subset(org_df, Type == \"cifs\", select=c(Read,Write))\n\n\n# 2015\u5e74\u5ea6\u306e\u5206\u306e\u58f2\u4e0a\u30c7\u30fc\u30bf\u3092\u629c\u304d\u51fa\u3059 DF$date \u306f\u65e5\u4ed8\u578b\uff08POSIXlt\uff09\nsubset(DF, as.Date(DF$date) > as.Date(\"2015-03-31\") &\n           as.Date(DF$date) < as.Date(\"2016-04-01\")\n      )\n\n\n\u51fa\u529b\u306e\u6a2a\u5e45\u8abf\u6574\n> options(width = 100)\n\n\n\u30af\u30ed\u30b9\u96c6\u8a08\uff08tapply\uff09\n> head(iris)\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa\n\n## Specie\u6bce\u306eSepal.Length\u306e\u5408\u8a08\n> tapply(iris$Sepal.Length,iris$Species,sum)\n    setosa versicolor  virginica\n     250.3      296.8      329.4\n\n## Specie\u6bce\u306eSepal.Length\u306e\u5e73\u5747\n> tapply(iris$Sepal.Length,iris$Species,mean)\n    setosa versicolor  virginica\n     5.006      5.936      6.588\n\n\n\u5358\u56de\u5e30\u5206\u6790\uff08lm\uff09\n> result<-lm(Sepal.Length~Sepal.Width,iris)\n> summary(result)\n\nCall:\nlm(formula = Sepal.Length ~ Sepal.Width, data = iris)\n\nResiduals:\n    Min      1Q  Median      3Q     Max\n-1.5561 -0.6333 -0.1120  0.5579  2.2226\n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)\n(Intercept)   6.5262     0.4789   13.63   <2e-16 ***\nSepal.Width  -0.2234     0.1551   -1.44    0.152\n---\nSignif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n\nResidual standard error: 0.8251 on 148 degrees of freedom\nMultiple R-squared:  0.01382,   Adjusted R-squared:  0.007159\nF-statistic: 2.074 on 1 and 148 DF,  p-value: 0.1519\n\n\n# X\u8ef8\u30e9\u30d9\u30eb\u306e\u30d5\u30a9\u30f3\u30c8\u306e\u30b5\u30a4\u30ba\n* **boxplot** : cex.axis\n* **barplot** :cex.names\n\n# \u3042\u308b\u6761\u4ef6\u4e0b\u306b\u304a\u3051\u308b\u5024\u5909\u66f4\uff08ifelse\uff09\nDF$A\u304c\"hoge\"\u306a\u3089100\u3001\u305d\u3046\u3058\u3083\u306a\u3044\u306a\u3089NA\n\n```r\nDF$A <- ifelse(DF$A == \"hoge\",100,NA)\n```\n\n# \u3042\u308b\u5217\u3092\u57fa\u6e96\u306b\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092\u4e26\u3079\u66ff\u3048\u308b(order)\n## \u6607\u9806\uff08order\uff09\n```r\nDF[order(DF$col1),]\n```\n\n## \u964d\u9806\uff08order , decreasing = T\uff09\n```r\nDF[order(DF$col1 , decreasing = T),]\n```\n## \u8907\u6570\u306e\u5217\u3092\u57fa\u6e96\u3068\u3059\u308b\u5834\u5408\u3001\u30ab\u30f3\u30de\u3067\u4e26\u3079\u308b\n\n```r\nDF[order(DF$col1 , DF$col1 , decreasing = T),]\n```\n\n# \u5217\u306b\u5bfe\u3057\u3066\u3001\u3042\u308b\u6761\u4ef6\u306b\u5408\u3063\u305f\u6587\u5b57\u3092\u5909\u66f4\u3059\u308b\n```r\n# DF$V1\u3067 \"3\" \u3092 \"\u3042\u3044\u3046\u3048\u304a\" \u306b\u5909\u63db\u3059\u308b\nDF$V1[DF$V1 == 3] <- \"\u3042\u3044\u3046\u3048\u304a\"\n```\n\n# \u30d9\u30af\u30c8\u30eb\u3092\u8ffd\u52a0\u3059\u308b\n\n```r\n> a <- sum(product_new$prof) / sum(product_all$prof) * 100\n> a\n[1] 40.80371\n> a <- append(a,sum(product_renewal$prof)  / sum(project_all$prof) * 100)\n> a\n[1] 40.80371 27.84163\n```\n\n\n# \u6587\u5b57\u691c\u7d22\u3057\u3066\u629c\u304d\u51fa\u3059\uff08grepl\uff09\n\u5927\u6587\u5b57\u5c0f\u6587\u5b57\u306e\u533a\u5225\u3092\u3057\u306a\u3044\u5834\u5408\u306f **ignore.case = TRUE** \u3092\u3064\u3051\u308b\n\n```r\n# subset \u306b\u3066\nsubset(DF, grepl(\"Zabbix\",DF$Product,ignore.case = TRUE))\n\n# aggregate \u306b\u3066\naggregate(grepl(\"HTTPD|Tomcat|JBoss\",DF$Product),by=list(DF$month_bring),sum)\n```\n\n# \u4e0d\u8981\u306a\u56e0\u5b50\u3092\u6d88\u3059\nsubset \u7b49\u3067\u6d3e\u751f\u3057\u305f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306b\u4e0d\u8981\uff08NA\u3060\u3063\u305f\u308a\u8981\u7d20\u304c0\u3060\u3063\u305f\u308a\uff09\u306a\u56e0\u5b50\u304c\u6b8b\u308b\u4ef6\u306b\u3064\u3044\u3066\u3001factor\u3092\u4f7f\u3063\u3066\u305d\u308c\u3092\u6d88\u3059\n\n```r\nDF$col1 <- factor(DF$col1)\n```\n\n# table \u51fa\u529b\u7d50\u679c\uff08\u30af\u30ed\u30b9\u96c6\u8a08\u7d50\u679c\uff09\u3092\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u306b\u3059\u308b\n\n```r\nDF1new <- as.data.frame.matrix(table(DF1$month,DF1$Product.Category))\nDF1new$month <- rownames(DF1new)\nrownames(DF1new) <- NULL\n```\n\n# \u6587\u5b57\u5217\u306e\u4e00\u90e8\u3092\u629c\u304d\u51fa\u3059\n\u4f8b\u3048\u3070\u3001\u300c2016-01-01\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u65e5\u4ed8\u5217\uff08``` DF$date```\uff09\u304b\u3089\u6708\uff08```DF$month```\uff09\u306e\u884c\u3092\u4f5c\u308b\n\n```r\nDF$month<-substr(DF$date,1,7)\n```\n1\u3064\u3081\u304b\u30897\u3064\u76ee\u307e\u3067\u3092\u629c\u3044\u3066\u5165\u308c\u308b\u3001\u3064\u307e\u308a\u300c2016-01\u300d\u307e\u3067\n\n# \u6587\u5b57\u3092\u633f\u5165\u3059\u308b\n\n```r\n> ORG\n[1] \"ABC\"\n\n> paste(\"ABC\",ORG,sep=\",\")\n[1] \"ABC,123\"\n\n> paste(ORG,\"EFG\",sep=\",\")\n[1] \"123,EFG\"\n```\n\n# \u30de\u30fc\u30b8\uff08merge\uff09\nDF1\u3068DF2\u3092\u540c\u3058\u5217 month \u3092\u30ad\u30fc\u306b\u30de\u30fc\u30b8\n\n* \u5168\u90e8\u6b8b\u3059\uff1d\uff1eall=T\uff08\u7121\u3044\u30bb\u30eb\u306f NA\uff09\n* \u4e21\u65b9\u306b\u3042\u308b\u3082\u306e\u3060\u3051\u30de\u30fc\u30b8\u3057\u3066\u6b8b\u3059\uff1d\uff1eall=F\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\n* \u53f3\u5074\u3092\u6b8b\u3053\u3059\uff1d\uff1eall.y=T\uff08\u5de6\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3067\u306a\u3044\u884c\u306f\u6d88\u3048\u3001\u53f3\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3060\u3051\u306b\u3042\u308b\u884c\u304c\u6b8b\u308a\u3001\u305d\u306e\u5024\u306e\u306a\u3044\u5217\u306f NA\uff09\n* \u5de6\u5074\u3092\u6b8b\u3053\u3059\uff1d\uff1eall.y=T\uff08\u53f3\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3067\u306a\u3044\u884c\u306f\u6d88\u3048\u3001\u5de6\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3060\u3051\u306b\u3042\u308b\u884c\u304c\u6b8b\u308a\u3001\u305d\u306e\u5024\u306e\u306a\u3044\u5217\u306f NA\uff09\n\n```r\n> DF1\n    month member age\n1 2016-01  jacky  10\n2 2016-05  sarah  20\n3 2016-03    bob  10\n4 2016-02   rucy  50\n> DF2\n    month value category\n1 2016-01     5        a\n2 2016-05     6        b\n3 2016-04    10        c\n\n\n> merge(DF1,DF2,by.x=\"month\")\n    month member age value category\n1 2016-01  jacky  10     5        a\n2 2016-05  sarah  20     6        b\n\n> merge(DF1,DF2,by.x=\"month\",all.x=T)\n    month member age value category\n1 2016-01  jacky  10     5        a\n2 2016-02   rucy  50    NA     <NA>\n3 2016-03    bob  10    NA     <NA>\n4 2016-05  sarah  20     6        b\n\n> merge(DF1,DF2,by.x=\"month\",all.y=T)\n    month member age value category\n1 2016-01  jacky  10     5        a\n2 2016-05  sarah  20     6        b\n3 2016-04   <NA>  NA    10        c\n\n> merge(DF1,DF2,by.x=\"month\",all=T)\n    month member age value category\n1 2016-01  jacky  10     5        a\n2 2016-02   rucy  50    NA     <NA>\n3 2016-03    bob  10    NA     <NA>\n4 2016-05  sarah  20     6        b\n5 2016-04   <NA>  NA    10        c\n\n```\n\n\n\n# tapply \u3067\u4e8c\u6b21\u5143\nlist \u3092\u4f7f\u3046\n\n```r\ntapply(A$value,list(A$col1,A$col2),sum)\n```\n\n#\u95a2\u6570\n\n```r\ntestfunc <- function(x){\n # \u51e6\u7406\u90e8\n out <- tapply(x$col1,x$col2,sum)\n # \u8fd4\u3059\n return(out)\n}\n\n# \u547c\u3073\u51fa\u3057\ntmp <- testfunc( x = abc )\n```\n\n\n#R\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n```r\ninstall.packages(\"installr\")\nlibrary(installr)\nupdateR()\n```\n\n#R\u306e\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\n\n```r\nSys.setenv(http_proxy=\"http://<proxy server>:<port>\",\n           http_proxy_usr=\"<id>:<pass>\")\n```\n#table \u304b\u3089\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u4f5c\u308b\n\n```r\nDF <- as.data.frame.matrix(table(DF$month,DF$Product))\n```\n\n\n#sjis\u3067csv\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u4f5c\u308b\n\n```r\nDF <- read.csv(\"data.csv\",header = T , fileEncoding = \"sjis\")\n```\n\n#\u65e5\u4ed8\u306b\u3059\u308b\n\n```r\nDF$\u30ed\u30b0\u30a4\u30f3\u65e5<-strptime(DF$\u30ed\u30b0\u30a4\u30f3\u65e5,\"%Y/%m/%d\")\n```\n\n#\u5217\u3092\u6d88\u3059\n\n```r\nDF <- DF[,setdiff(colnames(DF),c(\"\u5217\uff11\",\"\u5217\uff12\",\"\u5217\uff13\"))]\n```\n\n#\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5168\u90e8\u6d88\u3059\n\n\n```r\nrm(list=ls(all=TRUE)) \n```\n\n\n#\u30ab\u30a4\u4e8c\u4e57\u691c\u5b9a\n\n```r\n> tapply(DF$ratio,DF$weekday,mean)\n   Fri    Mon    Thu    Tue    Wed \n91.025 49.900 81.800 73.850 86.900 \n\n> chisq.test(tapply(DF$ratio,DF$weekday,mean))\n\n\tChi-squared test for given probabilities\n\ndata:  tapply(DF$ratio, DF$weekday, mean)\nX-squared = 13.842, df = 4, p-value = 0.007817\n```\n#\u30c7\u30fc\u30bf\u30d5\u30ec\u30e0\u3092\u30ad\u30e3\u30e9\u30af\u30bf\u306b\u5909\u63db\n\n```\nDF <- as.character.Date(DF)\n```\n\n\u5272\u5408\u3067\u96c6\u8a08\uff08prop.table\uff09\n\n```\nprop.table(table(DF$parameter))\n```\n\n#\u5024\u3092\u4e38\u3081\u308b\uff08round\uff09\n\n```\n> round(prop.table(table(DF$Understand)),digits = 2)\n```\n\n#\u7a7a\u306e\u30bb\u30eb\u3092NA\u306b\u3059\u308b\n\n```\ndf[df==\"\"]<-NA\n```\n\n#NA\u30920\u306b\u3059\u308b\uff08is.na\uff09\n\n```\nDF[is.na(DF)] <- 0\n```\n\n#\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30bb\u30c3\u30c8\u3059\u308b\n\n```\nsetwd(\"/home/demo/test\")\n```\n\n#CSS\u3092\u30bb\u30c3\u30c8\u3059\u308b\n\n```\noptions(rstudio.markdownToHTML =\n  function(inputFile, outputFile) {\n    require(markdown)\n    markdownToHTML(inputFile, outputFile, stylesheet='custom.css')\n  }\n)\n```\n\n#\u6307\u6570\u8868\u73fe\u306b\u3059\u308b\u304b\u5426\u304b\u306e\u95be\u5024\u3092\u8a2d\u5b9a\u3059\u308b\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u306f 0\uff09\n\n```\noptions(scipen=1)\n```\n\n#\u7279\u5b9a\u306e\u5217\u3092\u629c\u304d\u51fa\u3057\u3066\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u4f5c\u6210\n\n```\n# Type\u5217\u306b\"cifs\"\u3068\u3044\u3046\u306e\u304c\u3042\u308bRead\u5217\u3068Write\u5217\u3092\u629c\u304d\u51fa\u3059\n> new_df <- subset(org_df, Type == \"cifs\", select=c(Read,Write))\n\n\n# 2015\u5e74\u5ea6\u306e\u5206\u306e\u58f2\u4e0a\u30c7\u30fc\u30bf\u3092\u629c\u304d\u51fa\u3059 DF$date \u306f\u65e5\u4ed8\u578b\uff08POSIXlt\uff09\nsubset(DF, as.Date(DF$date) > as.Date(\"2015-03-31\") &\n           as.Date(DF$date) < as.Date(\"2016-04-01\")\n      )\n```\n\n\n\n#\u51fa\u529b\u306e\u6a2a\u5e45\u8abf\u6574\n\n```\n> options(width = 100)\n```\n\n#\u30af\u30ed\u30b9\u96c6\u8a08\uff08tapply\uff09\n\n```\n> head(iris)\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa\n\n## Specie\u6bce\u306eSepal.Length\u306e\u5408\u8a08\n> tapply(iris$Sepal.Length,iris$Species,sum)\n    setosa versicolor  virginica\n     250.3      296.8      329.4\n\n## Specie\u6bce\u306eSepal.Length\u306e\u5e73\u5747\n> tapply(iris$Sepal.Length,iris$Species,mean)\n    setosa versicolor  virginica\n     5.006      5.936      6.588\n```\n\n#\u5358\u56de\u5e30\u5206\u6790\uff08lm\uff09\n\n```\n> result<-lm(Sepal.Length~Sepal.Width,iris)\n> summary(result)\n\nCall:\nlm(formula = Sepal.Length ~ Sepal.Width, data = iris)\n\nResiduals:\n    Min      1Q  Median      3Q     Max\n-1.5561 -0.6333 -0.1120  0.5579  2.2226\n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)\n(Intercept)   6.5262     0.4789   13.63   <2e-16 ***\nSepal.Width  -0.2234     0.1551   -1.44    0.152\n---\nSignif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n\nResidual standard error: 0.8251 on 148 degrees of freedom\nMultiple R-squared:  0.01382,   Adjusted R-squared:  0.007159\nF-statistic: 2.074 on 1 and 148 DF,  p-value: 0.1519\n\n```\n", "tags": ["R", "RStudio"]}