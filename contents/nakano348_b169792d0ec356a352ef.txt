{"context": "Lambda\u95a2\u6570\u304b\u3089Step Functions\u3092\u5b9f\u884c\u3055\u305b\u305f\u3044\u3068\u601d\u3044\u3001IAM Policy\u3092\u8a2d\u5b9a\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u30012016\u5e7412\u670829\u65e5\u73fe\u5728\u3001Policy Generator\u306bStep Functions\u304c\u542b\u307e\u308c\u3066\u304a\u3089\u305a\u3001Policy\u306eAction\u306e\u5024\u3092\u3069\u3046\u8a2d\u5b9a\u3059\u308c\u3070\u826f\u3044\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u7d50\u8ad6\u3068\u3057\u3066\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3001states:StartExecution\u3092Action\u306b\u8a2d\u5b9a\u3059\u308c\u3070Step Functions\u304c\u5b9f\u884c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": \"states:StartExecution\",\n            \"Resource\": \"*\"\n        }\n    ]\n}\n\n\u8a2d\u5b9a\u3059\u3079\u304d\u5024\u304cstates:StartExecution\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u3063\u305f\u306e\u306f\u3001Step Functions\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306eLambda\u95a2\u6570\u306eIAM Role\u306b\u3001Step Functions\u306e\u5b9f\u884c\u6a29\u9650\u3092\u3064\u3051\u3066\u3044\u306a\u3044\u72b6\u614b\u3067\u5b9f\u884c\u3057\u305f\u3068\u304d\u306e\u30a8\u30e9\u30fc\u30ed\u30b0\u304b\u3089\u3067\u3057\u305f\u3002\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30ed\u30b0\u304c\u51fa\u3066\u3044\u305f\u306e\u3067\u3001\u5fc5\u8981\u306a\u6a29\u9650\u306fstates:StartExecution\u3067\u3042\u308b\u3068\u6c17\u3065\u3051\u307e\u3057\u305f\u3002\n\n\u30a8\u30e9\u30fc\u30ed\u30b0\n\n[AccessDeniedException: \n\u3000\u3000User: arn:aws:sts::<\u30a2\u30ab\u30a6\u30f3\u30c8ID>:assumed-role/<Lambda\u95a2\u6570\u540d> \n\u3000\u3000is not authorized to perform:\n\u3000\u3000states:StartExecution on resource: \n\u3000\u3000arn:aws:states:ap-northeast-1:<\u30a2\u30ab\u30a6\u30f3\u30c8ID>:execution:\n\u3000\u3000<Step\u3000Functions\u306eState Machine\u540d>:xxxxxxxxxxxx] \n\nLambda\u95a2\u6570\u304b\u3089Step Functions\u3092\u5b9f\u884c\u3055\u305b\u305f\u3044\u3068\u601d\u3044\u3001IAM Policy\u3092\u8a2d\u5b9a\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u30012016\u5e7412\u670829\u65e5\u73fe\u5728\u3001Policy Generator\u306bStep Functions\u304c\u542b\u307e\u308c\u3066\u304a\u3089\u305a\u3001Policy\u306e`Action`\u306e\u5024\u3092\u3069\u3046\u8a2d\u5b9a\u3059\u308c\u3070\u826f\u3044\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u7d50\u8ad6\u3068\u3057\u3066\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3001`states:StartExecution`\u3092`Action`\u306b\u8a2d\u5b9a\u3059\u308c\u3070Step Functions\u304c\u5b9f\u884c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n```json\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": \"states:StartExecution\",\n            \"Resource\": \"*\"\n        }\n    ]\n}\n```\n\n\u8a2d\u5b9a\u3059\u3079\u304d\u5024\u304c`states:StartExecution`\u3067\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u3063\u305f\u306e\u306f\u3001Step Functions\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306eLambda\u95a2\u6570\u306eIAM Role\u306b\u3001Step Functions\u306e\u5b9f\u884c\u6a29\u9650\u3092\u3064\u3051\u3066\u3044\u306a\u3044\u72b6\u614b\u3067\u5b9f\u884c\u3057\u305f\u3068\u304d\u306e\u30a8\u30e9\u30fc\u30ed\u30b0\u304b\u3089\u3067\u3057\u305f\u3002\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30ed\u30b0\u304c\u51fa\u3066\u3044\u305f\u306e\u3067\u3001\u5fc5\u8981\u306a\u6a29\u9650\u306f`states:StartExecution`\u3067\u3042\u308b\u3068\u6c17\u3065\u3051\u307e\u3057\u305f\u3002\n \n+ \u30a8\u30e9\u30fc\u30ed\u30b0\n\n```\n[AccessDeniedException: \n\u3000\u3000User: arn:aws:sts::<\u30a2\u30ab\u30a6\u30f3\u30c8ID>:assumed-role/<Lambda\u95a2\u6570\u540d> \n\u3000\u3000is not authorized to perform:\n\u3000\u3000states:StartExecution on resource: \n\u3000\u3000arn:aws:states:ap-northeast-1:<\u30a2\u30ab\u30a6\u30f3\u30c8ID>:execution:\n\u3000\u3000<Step\u3000Functions\u306eState Machine\u540d>:xxxxxxxxxxxx] \n```\n", "tags": ["stepfunctions", "AWS", "IAM", "lambda"]}