{"tags": ["Android", "fastlane"], "context": "fastlane\u3068\u8a00\u3048\u3070\u3001iOS\u3092\u3084\u3063\u3066\u3044\u308b\u4eba\u306a\u3089\u3001\u4e00\u5ea6\u306f\u4f7f\u3063\u305f\u3053\u3068, \u805e\u3044\u305f\u3053\u3068\u3042\u308b\u30c4\u30fc\u30eb\u3060\u3068\u601d\u3044\u307e\u3059\u3002\nfastlane\u306f\u3001iOS\u3060\u3051\u3057\u304b\u4f7f\u3048\u306a\u3044\u306e\u3067\u306f\u306a\u304f\u3001Android\u3067\u3082\u4f7f\u3048\u307e\u3059\uff01\n\u3067\u3082\u3001\u3059\u3079\u3066\u306e\u6a5f\u80fd\u3092\u4f7f\u3048\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u3002\nAndroid\u3067\u4f7f\u3048\u308b\u306e\u306f\u3001\u3053\u3061\u3089\u306e\uff12\u3064\u3067\u3059\u3002\n\n\nsupply: Google Play\u3078\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\nscreengrab: \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u4f5c\u6210\n\n\nfastlane\u306e\u5c0e\u5165\n\u203b Ruby\u306e\u74b0\u5883\u304c\u5fc5\u8981\u3067\u3059\u3002\nsudo gem install fastlane --verbose\n\n\nfastlane\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nfastlane\u3092\u4f7f\u3046\u306b\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306bfastlane\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7b49\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u2460init\ninit\u30b3\u30de\u30f3\u30c9\u3092\u3059\u308b\u3068\u3001\u8cea\u554f\u306b\u7b54\u3048\u308b\u3060\u3051\u3067\u3001\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308c\u307e\u3059\u3002\nfastlane init\n\n\n\u2461Git\nGit \u306a\u3068\u3099\u3067\u3001\u30cf\u3099\u30fc\u30b7\u3099\u30e7\u30f3\u7ba1\u7406\u3057\u3066\u3044\u308b\uff1f\uff1f\u3063\u3066\u805e\u3044\u3066\u304f\u308c\u308b\u306e\u3067y\u3092\u62bc\u3057\u307e\u3059\u3002\uff08\u3057\u3066\u306a\u3044\u4eba\u306fn\u306d\u3002\uff09\nDo you have everything commited in version control? If not please do so now!\n(y/n)\n\n\n\u2462\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\n\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u5165\u308c\u3066\u3063\u3068\u805e\u3044\u3066\u304f\u308b\u306e\u3067\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3092\u3044\u308c\u307e\u3059\u3002\nTo not re-enter your packagename and issuer every time you run one of the fastlane tools or fastlane, these will be stored in a so-called Appfile.\nPackage Name (com.krausefx.app):\n\n\n\u2463\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\nGoogle play\u306e\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u5165\u308c\u3066\u3063\u3068\u805e\u3044\u3066\u304f\u308b\u306e\u3067\u3001\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u5165\u529b\u3057\u307e\u3059\u3002(\u5165\u529b\u3057\u305f\u304f\u306a\u3044\u4eba\u306f\u3001\u305d\u306e\u307e\u307e\u30a8\u30f3\u30bf\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044)\n\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001supply\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u3001Google play\u3078\u306eapk\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u3067\u304d\u307e\u3059\u3002\n\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08\u3053\u306e\u8fba\u308a\u306f\u3001\u307e\u305f\u4eca\u5ea6\u66f8\u304d\u307e\u3059\u3002\uff09\nFollow the Setup Guide on how to get the Json file: https://github.com/fastlane/fastlane/tree/master/supply#setup\nPath to the json secret file: \n\n\n\u2464metadata\nGoogle Play\u306b\u63b2\u8f09\u3059\u308b\u30a2\u30d7\u30ea\u306e\u8aac\u660e\u3084\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u3092\u7ba1\u7406\u3059\u308b\uff1f\uff1f\u3063\u3068\u805e\u3044\u3066\u304f\u308b\u306e\u3067\u3001\u7ba1\u7406\u3057\u305f\u3044\u4eba\u306f\uff59\u3001\u3057\u305f\u304f\u306a\u3044\u4eba\u306f\uff4e\u3002\nDo you plan on uploading metadata, screenshots and builds to Google Play using\nfastlane? (y/n) \n\n\n\u2465\u6210\u529f\nSuccessfully finished setting up fastlane\n\n\u3068\u8868\u793a\u3055\u308c\u305f\u305f\u3089\u3001\u6210\u529f\u3067\u3059\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u306ffastlane\u3068\u3044\u3046\u30d5\u30a9\u30eb\u30c0\u304c\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3067\u3059(\u3000\u00b4\u2200\uff40)b\n\n\nfastlane\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u7c21\u5358\u306a\u8aac\u660e\n\nFastfile\n\u30c7\u30d7\u30ed\u30a4\u3084\u30c6\u30b9\u30c8\u306a\u3069\u306e\u51e6\u7406\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\nfastlane_version \"1.107.0\"\n\ndefault_platform :android\n\nplatform :android do\n  before_all do\n     ENV[\"SLACK_URL\"] = \"slack\u306eweb hook\u306eurl\"\n  end\n\n  desc \"Runs all the tests\"\n  lane :test do\n    gradle(task: \"test\")\n  end\n\n  desc \"Submit a new Beta Build to Crashlytics Beta\"\n  lane :beta do\n    gradle(task: \"assembleDebug\")\n    crashlytics(\n        api_token: \"\u30c8\u30fc\u30af\u30f3\",\n        build_secret: \"\u30c8\u30fc\u30af\u30f3\",\n        groups: \"beta\u306e\u30b0\u30eb\u30fc\u30d7\u540d\",\n        emails: \"\u30e1\u30a2\u30c9\",\n        debug: \"true\"\n     )\n  end\n\n  desc \"Deploy a new version to the Google Play\"\n  lane :deploy do\n    gradle(task: \"assembleRelease\")\n    supply\n  end\n\n  after_all do |lane|\n    slack(\n        message: \":tada: Successfully deployed new App Update.\uff3c(^o^)\uff0f\"\n      )\n  end\n\n  error do |lane, exception|\n    slack(\n       message: exception.message,\n       success: false\n    )\n  end\nend\n\n\nFastfile\u306b\u3042\u308b\u30b3\u30de\u30f3\u30c9\u306e\u8aac\u660e\n\nlane\n\u30c6\u30b9\u30c8\u3084apk\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306a\u3069\u51e6\u7406\u3092\u5b9a\u7fa9\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\ndesc\nlane\u306e\u8aac\u660e\u3067\u3059\u3002\n\ncrashlytics\nFabric\u306eBeta\u3067\u3059\u3002\n\u3053\u308c\u3067Beta\u306bapk\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u3067\u304d\u307e\u3059\u3002\nFabric\u306eBeta\u306e\u4f7f\u3044\u65b9\u306f\u3001\u3053\u3061\u3089\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nsupply\nDeveloper Console\u3078\u306eapk\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u3059\u3002\n\u203b\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\nslack\nslack\u3078\u306e\u901a\u77e5\u3067\u3059\u3002\n\u3053\u3061\u3089\u306bslack\u306eweb hook\u306eurl\u3092\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\u3002\nbefore_all do\n  ENV[\"SLACK_URL\"] = \"slack\u306eweb hook\u306eurl\"\nend\n\n\ngradle\nGradle\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067\u3059\u3002\n\nAppfile\n\u8a8d\u8a3c\u60c5\u5831\u3068\u30a2\u30d7\u30ea\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\njson_key_file \"\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\"\npackage_name \"com.gupuru.hogehoge\"\n\n\nmetadata\nDeveloper Console\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u30a2\u30d7\u30ea\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3084\u8aac\u660e\u6587\u306a\u3069\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\nfastlane\u3092\u4f7f\u3046\nfastlane\u3068\u30b3\u30de\u30f3\u30c9\u3092\u3046\u3064\u3060\u3051\u3067\u3059\u3002\nfastlane\n\n\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u306e\u3084\u3064\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u5b9f\u884c\u3057\u305f\u3044\u756a\u53f7\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n+--------+----------------+---------------------------------------------+\n|                        Available lanes to run                         |\n+--------+----------------+---------------------------------------------+\n| Number | Lane Name      | Description                                 |\n+--------+----------------+---------------------------------------------+\n| 1      | android test   | Runs all the tests                          |\n| 2      | android beta   | Submit a new Beta Build to Crashlytics Beta |\n| 3      | android deploy | Deploy a new version to the Google Play     |\n| 0      | cancel         | No selection, exit fastlane!                |\n+--------+----------------+---------------------------------------------+\n\n\u4f8b\u3048\u3070\u3001android beta\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u30012\u3092\u62bc\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066...\nfastlane.tools finished successfully\n\n\u3068\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059( *\u2022 \u0300\u03c9\u2022\u0301 )b\n\u3061\u306a\u307f\u306b...\nfastlane android beta\n\n\u3068\u3057\u3066\u3082\u540c\u3058\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30a2\u30d7\u30ea\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u3063\u3066\u307f\u308b\nfastlane\u306escreengrab\u3092\u4f7f\u3063\u3066\u3001\u30a2\u30d7\u30ea\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\ngradle\u306b\u3001\u3053\u306e\uff12\u3064\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nbuild.gradle\ndependencies {\n    androidTestCompile 'com.android.support:support-annotations:25.0.0'\n    androidTestCompile 'tools.fastlane:screengrab:0.5.5'\n    //...\n}\n\n\ndebug/AndroidManifest\u306b\u3001\u3053\u308c\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nsrc/debug/AndroidManifest.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.gupuru.hogehoge\">\n\n    <uses-permission android:name=\"android.permission.DISABLE_KEYGUARD\" />\n    <uses-permission android:name=\"android.permission.WAKE_LOCK\" />\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\n    <uses-permission android:name=\"android.permission.CHANGE_CONFIGURATION\" />\n\n</manifest>\n\n\n\u3067\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308a\u305f\u3044\u6240\u306bScreengrab.screenshot(\"screan\");\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n@RunWith(JUnit4.class)\npublic class JUnit4StyleTests {\n\n    @ClassRule\n    public static final LocaleTestRule localeTestRule = new LocaleTestRule();\n\n    @Rule\n    public ActivityTestRule<MainActivity> activityRule = new ActivityTestRule<>(MainActivity.class);\n\n    @Test\n    public void testTakeScreenshot() {\n        Screengrab.screenshot(\"screan\");\n    }\n\n}\n\n\n\u5b9f\u884c\n\u306f\u3058\u3081\u306b\u3001assembleAndroidTest\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n./gradlew assembleDebug assembleAndroidTest\n\n\u6b21\u306b\u3001\u3053\u3061\u3089\u3002\nfastlane screengrab\n\n\u3067\u3001\u3053\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001androidTest\u307b\u3046\u3092\u9078\u3073\u307e\u3059\u3002\nSelect your debug tests APK\n1. app/build/outputs/apk/app-debug-androidTest.apk\n2. app/build/outputs/apk/app-debug.apk\n\n\u6210\u529f\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u304c\u64ae\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3001Fastfile\u306b\u3053\u3093\u306a\u611f\u3058\u306b\u66f8\u3044\u3066\u3082\u540c\u3058\u3053\u3068\u304c\u3067\u304d\u307e\u3059(\u2022\u0300\u1d17\u2022\u0301)\u0648 \n lane :test do\n    gradle(task: \"assembleDebug assembleAndroidTest\")\n    screengrab\n  end\n\n\nscreengrab\u306e\u516c\u5f0f\u306e\u30b5\u30f3\u30d7\u30eb\nhttps://github.com/fastlane/fastlane/tree/master/screengrab/example\n\n\u307e\u3068\u3081\nfastlane\u4fbf\u5229(\uff65\u03c9\uff65)b\n...\u3068\u601d\u3046\u3051\u3069\u3001fastlane\u3067\u3067\u304d\u308b\u3053\u3068\u306f\u3001gradle\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u304b\u3067\u51fa\u6765\u3066\u3057\u307e\u3046\u304b\u3089\u3001iOS\u307f\u305f\u3044\u306b\u5fc5\u9808\u30c4\u30fc\u30eb\u3068\u306f\u8a00\u3048\u306a\u3044\u304b\u3082???\n[fastlane](https://fastlane.tools/)\u3068\u8a00\u3048\u3070\u3001iOS\u3092\u3084\u3063\u3066\u3044\u308b\u4eba\u306a\u3089\u3001\u4e00\u5ea6\u306f\u4f7f\u3063\u305f\u3053\u3068, \u805e\u3044\u305f\u3053\u3068\u3042\u308b\u30c4\u30fc\u30eb\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\nfastlane\u306f\u3001iOS\u3060\u3051\u3057\u304b\u4f7f\u3048\u306a\u3044\u306e\u3067\u306f\u306a\u304f\u3001**Android\u3067\u3082\u4f7f\u3048\u307e\u3059\uff01**\n\u3067\u3082\u3001\u3059\u3079\u3066\u306e\u6a5f\u80fd\u3092\u4f7f\u3048\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u3002\n\nAndroid\u3067\u4f7f\u3048\u308b\u306e\u306f\u3001\u3053\u3061\u3089\u306e\uff12\u3064\u3067\u3059\u3002\n\n- [supply](https://github.com/fastlane/fastlane/tree/master/supply): Google Play\u3078\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n- [screengrab](https://github.com/fastlane/fastlane/tree/master/screengrab): \u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u4f5c\u6210\n\n# fastlane\u306e\u5c0e\u5165\n\u203b Ruby\u306e\u74b0\u5883\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n```\nsudo gem install fastlane --verbose\n```\n\n# fastlane\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nfastlane\u3092\u4f7f\u3046\u306b\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306bfastlane\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7b49\u3092\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n## \u2460init\ninit\u30b3\u30de\u30f3\u30c9\u3092\u3059\u308b\u3068\u3001\u8cea\u554f\u306b\u7b54\u3048\u308b\u3060\u3051\u3067\u3001\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308c\u307e\u3059\u3002\n\n```\nfastlane init\n```\n\n## \u2461Git\n\nGit \u306a\u3068\u3099\u3067\u3001\u30cf\u3099\u30fc\u30b7\u3099\u30e7\u30f3\u7ba1\u7406\u3057\u3066\u3044\u308b\uff1f\uff1f\u3063\u3066\u805e\u3044\u3066\u304f\u308c\u308b\u306e\u3067`y`\u3092\u62bc\u3057\u307e\u3059\u3002\uff08\u3057\u3066\u306a\u3044\u4eba\u306f`n`\u306d\u3002\uff09\n\n```\nDo you have everything commited in version control? If not please do so now!\n(y/n)\n```\n\n## \u2462\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\n\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u5165\u308c\u3066\u3063\u3068\u805e\u3044\u3066\u304f\u308b\u306e\u3067\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3092\u3044\u308c\u307e\u3059\u3002\n\n```\nTo not re-enter your packagename and issuer every time you run one of the fastlane tools or fastlane, these will be stored in a so-called Appfile.\nPackage Name (com.krausefx.app):\n```\n\n## \u2463\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\n\nGoogle play\u306e\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u5165\u308c\u3066\u3063\u3068\u805e\u3044\u3066\u304f\u308b\u306e\u3067\u3001\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3092\u5165\u529b\u3057\u307e\u3059\u3002(\u5165\u529b\u3057\u305f\u304f\u306a\u3044\u4eba\u306f\u3001\u305d\u306e\u307e\u307e\u30a8\u30f3\u30bf\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044)\n\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001`supply`\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u3001Google play\u3078\u306eapk\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001[\u3053\u3061\u3089](https://docs.fastlane.tools/getting-started/android/setup/#collect-your-google-credentials)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08\u3053\u306e\u8fba\u308a\u306f\u3001\u307e\u305f\u4eca\u5ea6\u66f8\u304d\u307e\u3059\u3002\uff09\n\n```\nFollow the Setup Guide on how to get the Json file: https://github.com/fastlane/fastlane/tree/master/supply#setup\nPath to the json secret file: \n```\n\n## \u2464metadata\n\nGoogle Play\u306b\u63b2\u8f09\u3059\u308b\u30a2\u30d7\u30ea\u306e\u8aac\u660e\u3084\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u3092\u7ba1\u7406\u3059\u308b\uff1f\uff1f\u3063\u3068\u805e\u3044\u3066\u304f\u308b\u306e\u3067\u3001\u7ba1\u7406\u3057\u305f\u3044\u4eba\u306f`\uff59`\u3001\u3057\u305f\u304f\u306a\u3044\u4eba\u306f`\uff4e`\u3002\n\n```\nDo you plan on uploading metadata, screenshots and builds to Google Play using\nfastlane? (y/n) \n```\n\n## \u2465\u6210\u529f\n```\nSuccessfully finished setting up fastlane\n```\n\n\u3068\u8868\u793a\u3055\u308c\u305f\u305f\u3089\u3001\u6210\u529f\u3067\u3059\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u306ffastlane\u3068\u3044\u3046\u30d5\u30a9\u30eb\u30c0\u304c\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3067\u3059(\u3000\u00b4\u2200\uff40)b\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-09 14.16.24.png](https://qiita-image-store.s3.amazonaws.com/0/53996/d7d9367f-c253-5f69-5c9b-798641e1e1ca.png)\n\n# fastlane\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u7c21\u5358\u306a\u8aac\u660e\n\n## Fastfile\n\u30c7\u30d7\u30ed\u30a4\u3084\u30c6\u30b9\u30c8\u306a\u3069\u306e\u51e6\u7406\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\n```ruby\nfastlane_version \"1.107.0\"\n\ndefault_platform :android\n\nplatform :android do\n  before_all do\n     ENV[\"SLACK_URL\"] = \"slack\u306eweb hook\u306eurl\"\n  end\n\n  desc \"Runs all the tests\"\n  lane :test do\n    gradle(task: \"test\")\n  end\n\n  desc \"Submit a new Beta Build to Crashlytics Beta\"\n  lane :beta do\n    gradle(task: \"assembleDebug\")\n    crashlytics(\n        api_token: \"\u30c8\u30fc\u30af\u30f3\",\n        build_secret: \"\u30c8\u30fc\u30af\u30f3\",\n        groups: \"beta\u306e\u30b0\u30eb\u30fc\u30d7\u540d\",\n        emails: \"\u30e1\u30a2\u30c9\",\n        debug: \"true\"\n     )\n  end\n\n  desc \"Deploy a new version to the Google Play\"\n  lane :deploy do\n    gradle(task: \"assembleRelease\")\n    supply\n  end\n\n  after_all do |lane|\n    slack(\n        message: \":tada: Successfully deployed new App Update.\uff3c(^o^)\uff0f\"\n      )\n  end\n\n  error do |lane, exception|\n    slack(\n       message: exception.message,\n       success: false\n    )\n  end\nend\n```\n\n### Fastfile\u306b\u3042\u308b\u30b3\u30de\u30f3\u30c9\u306e\u8aac\u660e\n\n#### lane\n\n\u30c6\u30b9\u30c8\u3084apk\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306a\u3069\u51e6\u7406\u3092\u5b9a\u7fa9\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\n#### desc\nlane\u306e\u8aac\u660e\u3067\u3059\u3002\n\n#### crashlytics \n\nFabric\u306e[Beta](https://docs.fabric.io/apple/beta/overview.html)\u3067\u3059\u3002\n\u3053\u308c\u3067Beta\u306bapk\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u3067\u304d\u307e\u3059\u3002\nFabric\u306eBeta\u306e\u4f7f\u3044\u65b9\u306f\u3001[\u3053\u3061\u3089](http://dev.classmethod.jp/smartphone/android/android-fabric-crashlytics-beta-distribution/)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n#### supply \nDeveloper Console\u3078\u306eapk\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u3059\u3002\n\u203b\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n#### slack\nslack\u3078\u306e\u901a\u77e5\u3067\u3059\u3002\n\n\u3053\u3061\u3089\u306bslack\u306eweb hook\u306eurl\u3092\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n```ruby\nbefore_all do\n  ENV[\"SLACK_URL\"] = \"slack\u306eweb hook\u306eurl\"\nend\n```\n#### gradle\n\nGradle\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3067\u3059\u3002\n\n### Appfile\n\n\u8a8d\u8a3c\u60c5\u5831\u3068\u30a2\u30d7\u30ea\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u304c\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\njson_key_file \"\u8a8d\u8a3c\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\"\npackage_name \"com.gupuru.hogehoge\"\n```\n\n### metadata\nDeveloper Console\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u30a2\u30d7\u30ea\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3084\u8aac\u660e\u6587\u306a\u3069\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\n# fastlane\u3092\u4f7f\u3046\n\n`fastlane`\u3068\u30b3\u30de\u30f3\u30c9\u3092\u3046\u3064\u3060\u3051\u3067\u3059\u3002\n\n```\nfastlane\n```\n\n\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u306e\u3084\u3064\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u5b9f\u884c\u3057\u305f\u3044\u756a\u53f7\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\n```\n+--------+----------------+---------------------------------------------+\n|                        Available lanes to run                         |\n+--------+----------------+---------------------------------------------+\n| Number | Lane Name      | Description                                 |\n+--------+----------------+---------------------------------------------+\n| 1      | android test   | Runs all the tests                          |\n| 2      | android beta   | Submit a new Beta Build to Crashlytics Beta |\n| 3      | android deploy | Deploy a new version to the Google Play     |\n| 0      | cancel         | No selection, exit fastlane!                |\n+--------+----------------+---------------------------------------------+\n```\n\n\u4f8b\u3048\u3070\u3001`android beta`\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u3001`2`\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u305d\u3057\u3066...\n\n```\nfastlane.tools finished successfully\n```\n\u3068\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059( *\u2022 \u0300\u03c9\u2022\u0301 )b\n\n\u3061\u306a\u307f\u306b...\n\n```\nfastlane android beta\n```\n\n\u3068\u3057\u3066\u3082\u540c\u3058\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n# \u30a2\u30d7\u30ea\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u3063\u3066\u307f\u308b\n\nfastlane\u306e`screengrab`\u3092\u4f7f\u3063\u3066\u3001\u30a2\u30d7\u30ea\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u3063\u3066\u307f\u307e\u3059\u3002\n\n## \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n`gradle`\u306b\u3001\u3053\u306e\uff12\u3064\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```build.gradle\ndependencies {\n    androidTestCompile 'com.android.support:support-annotations:25.0.0'\n    androidTestCompile 'tools.fastlane:screengrab:0.5.5'\n    //...\n}\n```\n\n`debug/AndroidManifest`\u306b\u3001\u3053\u308c\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```src/debug/AndroidManifest.xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.gupuru.hogehoge\">\n\n    <uses-permission android:name=\"android.permission.DISABLE_KEYGUARD\" />\n    <uses-permission android:name=\"android.permission.WAKE_LOCK\" />\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\n    <uses-permission android:name=\"android.permission.CHANGE_CONFIGURATION\" />\n\n</manifest>\n```\n\n\u3067\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308a\u305f\u3044\u6240\u306b` Screengrab.screenshot(\"screan\");`\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```java\n@RunWith(JUnit4.class)\npublic class JUnit4StyleTests {\n\n    @ClassRule\n    public static final LocaleTestRule localeTestRule = new LocaleTestRule();\n\n    @Rule\n    public ActivityTestRule<MainActivity> activityRule = new ActivityTestRule<>(MainActivity.class);\n\n    @Test\n    public void testTakeScreenshot() {\n        Screengrab.screenshot(\"screan\");\n    }\n\n}\n```\n\n## \u5b9f\u884c\n\n\u306f\u3058\u3081\u306b\u3001`assembleAndroidTest`\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n./gradlew assembleDebug assembleAndroidTest\n```\n\n\u6b21\u306b\u3001\u3053\u3061\u3089\u3002\n\n```\nfastlane screengrab\n```\n\n\u3067\u3001\u3053\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001`androidTest`\u307b\u3046\u3092\u9078\u3073\u307e\u3059\u3002\n\n```\nSelect your debug tests APK\n1. app/build/outputs/apk/app-debug-androidTest.apk\n2. app/build/outputs/apk/app-debug.apk\n```\n\n\u6210\u529f\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u304c\u64ae\u308c\u3066\u3044\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-09 14.22.46.png](https://qiita-image-store.s3.amazonaws.com/0/53996/6447ccb6-ddf5-f1f4-3243-ae94530c0967.png)\n\n\n\u3061\u306a\u307f\u306b\u3001Fastfile\u306b\u3053\u3093\u306a\u611f\u3058\u306b\u66f8\u3044\u3066\u3082\u540c\u3058\u3053\u3068\u304c\u3067\u304d\u307e\u3059(\u2022\u0300\u1d17\u2022\u0301)\u0648 \n\n```ruby\n lane :test do\n    gradle(task: \"assembleDebug assembleAndroidTest\")\n    screengrab\n  end\n```\n\n## screengrab\u306e\u516c\u5f0f\u306e\u30b5\u30f3\u30d7\u30eb\nhttps://github.com/fastlane/fastlane/tree/master/screengrab/example\n\n# \u307e\u3068\u3081\nfastlane\u4fbf\u5229(\uff65\u03c9\uff65)b\n...\u3068\u601d\u3046\u3051\u3069\u3001fastlane\u3067\u3067\u304d\u308b\u3053\u3068\u306f\u3001gradle\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u304b\u3067\u51fa\u6765\u3066\u3057\u307e\u3046\u304b\u3089\u3001iOS\u307f\u305f\u3044\u306b\u5fc5\u9808\u30c4\u30fc\u30eb\u3068\u306f\u8a00\u3048\u306a\u3044\u304b\u3082???\n"}