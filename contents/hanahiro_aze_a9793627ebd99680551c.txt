{"context": "\u672c\u8a18\u4e8b\u306f\u300cCentOS7+nginx+PHP-FPM+PHP7\u3067Symfony3\u306e\u5b9f\u884c\u74b0\u5883\u69cb\u7bc9\u300d\u306e\u8a18\u4e8b\u306e\u7d9a\u304d\u3067\u3059\u3002\n\n\u672c\u8a18\u4e8b\u306e\u76ee\u6a19\n\u524d\u56de\u4f5c\u3063\u305f\u74b0\u5883\u3067\u3001MySql\u3092\u3064\u304b\u3063\u3066\u30c7\u30e2\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nMysql \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\n\u8aad\u307f\u66ff\u3048\u305f\u3068\u3053\u308d\n\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5909\u66f4\u3002\u5f8c\u307b\u3069app/config/parameters.yml\u306edatabase_password\u9805\u76ee\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6e96\u5099\nphp bin/console doctrine:database:create\u3059\u308b\u3068symfony\u3068\u3044\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\n\n\u4ee5\u4e0b\u8a73\u7d30\u306f\u30d6\u30ed\u30b0\u306b\u3082\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\n\nSymfony\u306e\u30c7\u30e2\u30a2\u30d7\u30ea\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\u30c7\u30e2\u30a2\u30d7\u30ea\u3067\u306fSQLite\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3068\u3057\u3066\u4f7f\u308f\u308c\u3066\u3044\u308b\u306e\u3067\u3001MySql\u3092\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\u307e\u305a\u306fapp/config/parameters.yml\u3002\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n# \u524a\u9664\n# database_url: 'sqlite:///%kernel.root_dir%/data/blog.sqlite'\n# \u8ffd\u52a0\ndatabase_host:     127.0.0.1\ndatabase_port:     null\ndatabase_name:     symfony\ndatabase_user:     your_user_name\ndatabase_password: youre_password\n\n\u6b21\u306bapp/config/config.yml\n# Doctrine Configuration (used to access databases and manipulate their information)\ndoctrine:\n    dbal:\n        # if you don't want to use SQLite, comment the two following lines\n        # \u3053\u3053\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n        # driver: \"pdo_sqlite\"\n        # path: \"%kernel.root_dir%/data/blog.sqlite\"\n        # uncomment the following lines to use a database different than SQLite\n        # \u3053\u3053\u304b\u3089\u4e0b\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\n         driver:   pdo_mysql\n         host:     \"%database_host%\"\n         port:     \"%database_port%\"\n         dbname:   \"%database_name%\"\n         user:     \"%database_user%\"\n         password: \"%database_password%\"\n         charset:  UTF8 \n\n\u3053\u3053\u307e\u3067\u8a2d\u5b9a\u3057\u305f\u3068\u3053\u308d\u3067\u3001MySql\u3092\u4f7f\u3046\u8a2d\u5b9a\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u81ea\u524d\u3067\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3057\u3066\u308b\u3088\u3063\u3066\u3044\u3046\u65b9\u306f\u3001\u30d6\u30ed\u30b0\u306e\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\u305d\u3046\u3067\u306a\u3044\u4eba\u306f\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u30c7\u30fc\u30bf\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\nSQLite\u306e\u30c0\u30f3\u30d7\u304b\u3089MySql\u306b\u30c7\u30fc\u30bf\u3092\u79fb\u690d\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\u6642\u9593\u304c\u306a\u3044\u4eba\u306f\u6700\u7d42\u7684\u306a\u5f62\u3092\u305d\u306e\u307e\u307eMySql\u3067\u6d41\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u307e\u305a\u306fSQLite\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u3092\u629c\u3044\u3066\u304d\u307e\u3059\u3002\n$ sqlite3 ./app/data/blog.sqlite \nSQLite version 3.8.5 2014-08-15 22:37:57\nEnter \".help\" for usage hints.\nsqlite> .tables\nsymfony_demo_comment  symfony_demo_post     symfony_demo_user   \nsqlite> .output ./dump.txt\nsqlite> .dump\nsqlite> .output stdout\nsqlite>.exit\n\nMySql\u3067\u305d\u306e\u307e\u307e\u4f7f\u3048\u306a\u3044\u7b87\u6240\u3092\u76f4\u3057\u307e\u3059\u3002\n\nMySql\u306bCLOB\u578b\u304c\u306a\u3044\u307f\u305f\u3044\u306a\u306e\u3067\u3001target.sql\u306eCLOB\u3092TEXT\u306b\u5909\u66f4\nNOT DEFERRABLE INITIALLY IMMEDIATE\u306e\u6307\u5b9a\u304cMySQL\u3060\u3068\u52b9\u304b\u306a\u3044\u307f\u305f\u3044\u306a\u306e\u3067\u3001\u3053\u306e\u90e8\u5206\u3092\u524a\u9664\u3057\u3066\u3001SET FOREIGN_KEY_CHECKS=0;\u3092\u8ffd\u52a0\u3002\n\n\u4fee\u6b63\u3057\u305f\u30c7\u30fc\u30bf\u3092\u6d41\u3057\u8fbc\u307f\u3002\nmysql -uroot symfony < target.sql\n\u3053\u308c\u3067\u7121\u4e8b\u52d5\u304d\u307e\u3057\u305f\u3002\n\u672c\u8a18\u4e8b\u306f[\u300cCentOS7+nginx+PHP-FPM+PHP7\u3067Symfony3\u306e\u5b9f\u884c\u74b0\u5883\u69cb\u7bc9\u300d](http://qiita.com/hanahiro_aze/items/9bc8e81c0dde9dd677a2)\u306e\u8a18\u4e8b\u306e\u7d9a\u304d\u3067\u3059\u3002\n\n## \u672c\u8a18\u4e8b\u306e\u76ee\u6a19\n\u524d\u56de\u4f5c\u3063\u305f\u74b0\u5883\u3067\u3001MySql\u3092\u3064\u304b\u3063\u3066\u30c7\u30e2\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n## Mysql \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[\u3053\u3061\u3089](http://yuki10.hatenablog.com/entry/2015/07/10/170948)\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\n- \u8aad\u307f\u66ff\u3048\u305f\u3068\u3053\u308d\n - \u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5909\u66f4\u3002\u5f8c\u307b\u3069`app/config/parameters.yml`\u306e`database_password`\u9805\u76ee\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n## \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6e96\u5099\n`php bin/console doctrine:database:create`\u3059\u308b\u3068`symfony`\u3068\u3044\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\n---\n###### \u4ee5\u4e0b\u8a73\u7d30\u306f[\u30d6\u30ed\u30b0](http://hanahirodev.hatenablog.com/entry/20161112/1478921042)\u306b\u3082\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002 \n---\n\n## Symfony\u306e\u30c7\u30e2\u30a2\u30d7\u30ea\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\u30c7\u30e2\u30a2\u30d7\u30ea\u3067\u306fSQLite\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3068\u3057\u3066\u4f7f\u308f\u308c\u3066\u3044\u308b\u306e\u3067\u3001MySql\u3092\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u306f`app/config/parameters.yml`\u3002\u30e6\u30fc\u30b6\u30fc\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u8aad\u307f\u66ff\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n# \u524a\u9664\n# database_url: 'sqlite:///%kernel.root_dir%/data/blog.sqlite'\n# \u8ffd\u52a0\ndatabase_host:     127.0.0.1\ndatabase_port:     null\ndatabase_name:     symfony\ndatabase_user:     your_user_name\ndatabase_password: youre_password\n```\n\n\u6b21\u306b`app/config/config.yml`\n\n```\n# Doctrine Configuration (used to access databases and manipulate their information)\ndoctrine:\n    dbal:\n        # if you don't want to use SQLite, comment the two following lines\n        # \u3053\u3053\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n        # driver: \"pdo_sqlite\"\n        # path: \"%kernel.root_dir%/data/blog.sqlite\"\n        # uncomment the following lines to use a database different than SQLite\n        # \u3053\u3053\u304b\u3089\u4e0b\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\n         driver:   pdo_mysql\n         host:     \"%database_host%\"\n         port:     \"%database_port%\"\n         dbname:   \"%database_name%\"\n         user:     \"%database_user%\"\n         password: \"%database_password%\"\n         charset:  UTF8 \n```\n\n\u3053\u3053\u307e\u3067\u8a2d\u5b9a\u3057\u305f\u3068\u3053\u308d\u3067\u3001MySql\u3092\u4f7f\u3046\u8a2d\u5b9a\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u81ea\u524d\u3067\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3057\u3066\u308b\u3088\u3063\u3066\u3044\u3046\u65b9\u306f\u3001\u30d6\u30ed\u30b0\u306e\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\u305d\u3046\u3067\u306a\u3044\u4eba\u306f\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u30c7\u30fc\u30bf\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n## SQLite\u306e\u30c0\u30f3\u30d7\u304b\u3089MySql\u306b\u30c7\u30fc\u30bf\u3092\u79fb\u690d\n\n[\u3053\u3061\u3089](https://blog.gufii.net/weblog/archives/39)\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\u6642\u9593\u304c\u306a\u3044\u4eba\u306f[\u6700\u7d42\u7684\u306a\u5f62](https://github.com/hanahiroAze/symfony3_demo/blob/master/app/data/target.sql)\u3092\u305d\u306e\u307e\u307eMySql\u3067\u6d41\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u307e\u305a\u306fSQLite\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u3092\u629c\u3044\u3066\u304d\u307e\u3059\u3002\n\n```\n$ sqlite3 ./app/data/blog.sqlite \nSQLite version 3.8.5 2014-08-15 22:37:57\nEnter \".help\" for usage hints.\nsqlite> .tables\nsymfony_demo_comment  symfony_demo_post     symfony_demo_user   \nsqlite> .output ./dump.txt\nsqlite> .dump\nsqlite> .output stdout\nsqlite>.exit\n```\n\nMySql\u3067\u305d\u306e\u307e\u307e\u4f7f\u3048\u306a\u3044\u7b87\u6240\u3092\u76f4\u3057\u307e\u3059\u3002\n\n- MySql\u306bCLOB\u578b\u304c\u306a\u3044\u307f\u305f\u3044\u306a\u306e\u3067\u3001target.sql\u306eCLOB\u3092TEXT\u306b\u5909\u66f4\n- NOT DEFERRABLE INITIALLY IMMEDIATE\u306e\u6307\u5b9a\u304cMySQL\u3060\u3068\u52b9\u304b\u306a\u3044\u307f\u305f\u3044\u306a\u306e\u3067\u3001\u3053\u306e\u90e8\u5206\u3092\u524a\u9664\u3057\u3066\u3001SET FOREIGN_KEY_CHECKS=0;\u3092\u8ffd\u52a0\u3002\n\n\u4fee\u6b63\u3057\u305f\u30c7\u30fc\u30bf\u3092\u6d41\u3057\u8fbc\u307f\u3002\n `mysql -uroot symfony < target.sql`\n\n\u3053\u308c\u3067\u7121\u4e8b\u52d5\u304d\u307e\u3057\u305f\u3002\n", "tags": ["symfony3", "MySQL", "sqlite"]}