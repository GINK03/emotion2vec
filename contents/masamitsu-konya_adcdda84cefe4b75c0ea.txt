{"context": " More than 1 year has passed since last update.\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u53c2\u8003\u306bomniauth-facebook\u3092\u5c0e\u5165\u3057\u3066\u307f\u305f\u3002\nOmniAuth\u3067\u8a8d\u8a3c\u6a5f\u80fd\u3092\u4f5c\u308b\n\u958b\u767a\u74b0\u5883\u3067\u306f\u5e73\u6c17\u3060\u3063\u305f\u3093\u3060\u3051\u3069\u3001Heroku\u306b\u3042\u3052\u305f\u3089\u30a8\u30e9\u3063\u3066\u3001\nlog\u898b\u3066\u307f\u305f\u3089\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u3042\u3063\u305f\u3002\nNoMethodError (undefined method `find_by_provider_and_uid' for #<Class:0x007fcb2884a328>):\n\nfind_by_provider_and_uid\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u306a\u3044\u3068\u3002\nsession_controller.rb\u306b\u66f8\u3044\u3066\u3042\u308b\u3002\n  def create\n    auth = request.env[\"omniauth.auth\"]\n    user = User.find_by_provider_and_uid(auth[\"provider\"], auth[\"uid\"]) || User.create_with_omniauth(auth)\n    session[:user_id] = user.id\n    redirect_to root_path\n  end\n\n\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u306bfind_by\u306b\u30cf\u30c3\u30b7\u30e5\u6e21\u3057\u3066\u4f7f\u3048\u3063\u3066\u66f8\u3044\u3066\u305f\u3002\nWhat's New in Rails 4\n\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u306a\u304a\u3057\u305f\u3089\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n  def create\n    auth = request.env[\"omniauth.auth\"]\n    user = User.find_by(provider: auth[\"provider\"], uid: auth[\"uid\"]) || User.create_with_omniauth(auth)\n    session[:user_id] = user.id\n    redirect_to root_path\n  end\n\n\u89e3\u6c7a\uff01\n\n\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u53c2\u8003\u306bomniauth-facebook\u3092\u5c0e\u5165\u3057\u3066\u307f\u305f\u3002\n[OmniAuth\u3067\u8a8d\u8a3c\u6a5f\u80fd\u3092\u4f5c\u308b](http://tech.hatenadiary.jp/entry/2013/05/01/OmniAuth%E3%81%A7%E8%AA%8D%E8%A8%BC%E6%A9%9F%E8%83%BD%E3%82%92%E4%BD%9C%E3%82%8B)\n\n\u958b\u767a\u74b0\u5883\u3067\u306f\u5e73\u6c17\u3060\u3063\u305f\u3093\u3060\u3051\u3069\u3001Heroku\u306b\u3042\u3052\u305f\u3089\u30a8\u30e9\u3063\u3066\u3001\nlog\u898b\u3066\u307f\u305f\u3089\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u3042\u3063\u305f\u3002\n\n```\nNoMethodError (undefined method `find_by_provider_and_uid' for #<Class:0x007fcb2884a328>):\n```\n\nfind_by_provider_and_uid\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u306a\u3044\u3068\u3002\n`session_controller.rb`\u306b\u66f8\u3044\u3066\u3042\u308b\u3002\n\n```\n  def create\n    auth = request.env[\"omniauth.auth\"]\n    user = User.find_by_provider_and_uid(auth[\"provider\"], auth[\"uid\"]) || User.create_with_omniauth(auth)\n    session[:user_id] = user.id\n    redirect_to root_path\n  end\n```\n\n\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u306b`find_by`\u306b\u30cf\u30c3\u30b7\u30e5\u6e21\u3057\u3066\u4f7f\u3048\u3063\u3066\u66f8\u3044\u3066\u305f\u3002\n[What's New in Rails 4](http://railscasts.com/episodes/400-what-s-new-in-rails-4?language=ja&view=asciicast)\n\n\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u306a\u304a\u3057\u305f\u3089\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\n```\n  def create\n    auth = request.env[\"omniauth.auth\"]\n    user = User.find_by(provider: auth[\"provider\"], uid: auth[\"uid\"]) || User.create_with_omniauth(auth)\n    session[:user_id] = user.id\n    redirect_to root_path\n  end\n```\n\n\u89e3\u6c7a\uff01\n\n", "tags": ["OmniAuth", "Rails"]}