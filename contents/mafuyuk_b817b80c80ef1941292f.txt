{"context": "\n\nDocker\u3067kafka\u3092\u7acb\u3066\u308b\n\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u4eba\u6c17\u304c\u3042\u308b\u3082\u306e\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u30fc\n$ git clone https://github.com/wurstmeister/kafka-docker\n$ cd kafka-docker\n$ git checkout 0.9.0.1\n$ vi docker-compose-single-broker.yml\nzookeeper:\n  image: wurstmeister/zookeeper\n  ports:\n    - \"2181:2181\"\nkafka:\n  build: .\n  ports:\n    - \"9092:9092\"\n  links:\n    - zookeeper:zk\n  environment:\n    KAFKA_ADVERTISED_HOST_NAME: 192.168.99.100\n    KAFKA_CREATE_TOPICS: \"test:1:1\" \n  volumes:\n    - /var/run/docker.sock:/var/run/docker.sock\n$ docker-compose -f docker-compose-single-broker.yml up -d\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ brew install kafka \n\n\n\u30b3\u30de\u30f3\u30c9\n\u304a\u597d\u304d\u306a\u3088\u3046\u306b\u3044\u3058\u3044\u3058\u3057\u307e\u3059\u30fc\n# \u78ba\u8a8d\n$ kafka-topics --describe --zookeeper 192.168.99.100:2181\n\n# \u30c8\u30d4\u30c3\u30af\u4e00\u89a7\n$ kafka-topics --list --zookeeper 192.168.99.100:2181\n\n# \u751f\u6210\n$ kafka-topics --create --zookeeper 192.168.99.100:2181 --replication-factor 1 --partitions 1 --topic test_topic\n\n# \u524a\u9664\n$ kafka-topics --delete --zookeeper 192.168.99.100:2181 --replication-factor 1 --partitions 1 --topic test_topic\n\n# \u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\nkafka-console-producer --broker-list 192.168.99.100:9092 --topic test_topic\n\n# \u30b3\u30f3\u30b7\u30e5\u30fc\u30e0\nkafka-console-consumer --zookeeper 192.168.99.100:2181 --topic test_topic --from-beginning\n\n\n# Docker\u3067kafka\u3092\u7acb\u3066\u308b\n\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u4eba\u6c17\u304c\u3042\u308b\u3082\u306e\u3092\u9078\u629e\u3057\u307e\u3057\u305f\u30fc\n\n```\n$ git clone https://github.com/wurstmeister/kafka-docker\n$ cd kafka-docker\n$ git checkout 0.9.0.1\n$ vi docker-compose-single-broker.yml\nzookeeper:\n  image: wurstmeister/zookeeper\n  ports:\n    - \"2181:2181\"\nkafka:\n  build: .\n  ports:\n    - \"9092:9092\"\n  links:\n    - zookeeper:zk\n  environment:\n    KAFKA_ADVERTISED_HOST_NAME: 192.168.99.100\n    KAFKA_CREATE_TOPICS: \"test:1:1\" \n  volumes:\n    - /var/run/docker.sock:/var/run/docker.sock\n$ docker-compose -f docker-compose-single-broker.yml up -d\n```\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n## \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n$ brew install kafka \n```\n\n## \u30b3\u30de\u30f3\u30c9\n\u304a\u597d\u304d\u306a\u3088\u3046\u306b\u3044\u3058\u3044\u3058\u3057\u307e\u3059\u30fc\n\n```\n# \u78ba\u8a8d\n$ kafka-topics --describe --zookeeper 192.168.99.100:2181\n  \n# \u30c8\u30d4\u30c3\u30af\u4e00\u89a7\n$ kafka-topics --list --zookeeper 192.168.99.100:2181\n  \n# \u751f\u6210\n$ kafka-topics --create --zookeeper 192.168.99.100:2181 --replication-factor 1 --partitions 1 --topic test_topic\n\n# \u524a\u9664\n$ kafka-topics --delete --zookeeper 192.168.99.100:2181 --replication-factor 1 --partitions 1 --topic test_topic\n\n# \u30d7\u30ed\u30c7\u30e5\u30fc\u30b9\nkafka-console-producer --broker-list 192.168.99.100:9092 --topic test_topic\n  \n# \u30b3\u30f3\u30b7\u30e5\u30fc\u30e0\nkafka-console-consumer --zookeeper 192.168.99.100:2181 --topic test_topic --from-beginning\n\n```\n", "tags": ["Kafka", "docker"]}