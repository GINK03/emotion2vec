{"context": " More than 1 year has passed since last update.\n\nLDAP \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30c7\u30fc\u30bf\u306e\u767b\u9332\n\n\u30b0\u30eb\u30fc\u30d7\u8ffd\u52a0\u7528LDIF\u4f5c\u6210\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u610f\u3059\u308b\ntouch /etc/openldap/tmp/create_group_ldif.sh\nchmod 700 /etc/openldap/tmp/create_group_ldif.sh\nvi /etc/openldap/tmp/create_group_ldif.sh\n\n\n\ncreate_group_ldif.sh\n#!/bin/sh\n\nread -p \"\u30d9\u30fc\u30b9DN(\u4f8b:dc=example,dc=com) : \" BASE_DN_NAME\nread -p \"\u30b0\u30eb\u30fc\u30d7\u540d(\u4f8b:testgroup)       : \" GROUP_NAME\nread -p \"\u30b0\u30eb\u30fc\u30d7ID(\u4f8b:1001)            : \" GROUP_ID\n\necho \"\ndn: cn=${GROUP_NAME},ou=Group,${BASE_DN_NAME}\nobjectClass: posixGroup\nobjectClass: top\ncn: ${GROUP_NAME}\ngidNumber: ${GROUP_ID}\n\"\n\n\n\n\n\u30b0\u30eb\u30fc\u30d7\u8ffd\u52a0\u7528LDIF\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n/etc/openldap/tmp/create_group_ldif.sh > /etc/openldap/tmp/group.ldif\n\n\n\u30d9\u30fc\u30b9DN(\u4f8b:dc=example,dc=com) : dc=example,dc=com\n\u30b0\u30eb\u30fc\u30d7\u540d(\u4f8b:testgroup)       : testgroup\n\u30b0\u30eb\u30fc\u30d7ID(\u4f8b:1001)            : 9999\n\n\n\n\u30b0\u30eb\u30fc\u30d7\u8ffd\u52a0LDIF\u30d5\u30a1\u30a4\u30eb\u3092\u767b\u9332\nldapadd -x -D \"cn=Manager,dc=example,dc=com\" -W -f /etc/openldap/tmp/group.ldif\n\n\n    adding new entry \"cn=testgroup,ou=Group,dc=example,dc=com\"\n\n\n\n\u78ba\u8a8d\nldapsearch  -x -b 'dc=example,dc=com' 'cn=testgroup'\n\n\n# extended LDIF\n#\n# LDAPv3\n# base <dc=example,dc=com> with scope subtree\n# filter: cn=testgroup\n# requesting: ALL\n#\n# testgroup, Group, example.com\ndn: cn=testgroup,ou=Group,dc=example,dc=com\nobjectClass: posixGroup\nobjectClass: top\ncn: testgroup\ngidNumber: 9999\n# search result\nsearch: 2\nresult: 0 Success\n# numResponses: 2\n# numEntries: 1\n\n\n\n\u5f8c\u7247\u4ed8\u3051\nrm /etc/openldap/tmp/group.ldif\n\n##### LDAP \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30c7\u30fc\u30bf\u306e\u767b\u9332\n\n######\u30b0\u30eb\u30fc\u30d7\u8ffd\u52a0\u7528LDIF\u4f5c\u6210\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u610f\u3059\u308b\n\n```shell-session:\ntouch /etc/openldap/tmp/create_group_ldif.sh\nchmod 700 /etc/openldap/tmp/create_group_ldif.sh\nvi /etc/openldap/tmp/create_group_ldif.sh\n```\n>\n```bash:create_group_ldif.sh\n#!/bin/sh\n>\nread -p \"\u30d9\u30fc\u30b9DN(\u4f8b:dc=example,dc=com) : \" BASE_DN_NAME\nread -p \"\u30b0\u30eb\u30fc\u30d7\u540d(\u4f8b:testgroup)       : \" GROUP_NAME\nread -p \"\u30b0\u30eb\u30fc\u30d7ID(\u4f8b:1001)            : \" GROUP_ID\n>\necho \"\ndn: cn=${GROUP_NAME},ou=Group,${BASE_DN_NAME}\nobjectClass: posixGroup\nobjectClass: top\ncn: ${GROUP_NAME}\ngidNumber: ${GROUP_ID}\n\"\n```\n\n###### \u30b0\u30eb\u30fc\u30d7\u8ffd\u52a0\u7528LDIF\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n\n```shell-session:\n/etc/openldap/tmp/create_group_ldif.sh > /etc/openldap/tmp/group.ldif\n```\n>\n```\n\u30d9\u30fc\u30b9DN(\u4f8b:dc=example,dc=com) : dc=example,dc=com\n\u30b0\u30eb\u30fc\u30d7\u540d(\u4f8b:testgroup)       : testgroup\n\u30b0\u30eb\u30fc\u30d7ID(\u4f8b:1001)            : 9999\n```\n\n######  \u30b0\u30eb\u30fc\u30d7\u8ffd\u52a0LDIF\u30d5\u30a1\u30a4\u30eb\u3092\u767b\u9332\n\n\n```shell-session:\nldapadd -x -D \"cn=Manager,dc=example,dc=com\" -W -f /etc/openldap/tmp/group.ldif\n```\n>\n```\n    adding new entry \"cn=testgroup,ou=Group,dc=example,dc=com\"\n```\n\n###### \u78ba\u8a8d\n\n\n```shell-session:\nldapsearch  -x -b 'dc=example,dc=com' 'cn=testgroup'\n```\n>\n```\n# extended LDIF\n#\n# LDAPv3\n# base <dc=example,dc=com> with scope subtree\n# filter: cn=testgroup\n# requesting: ALL\n#\n# testgroup, Group, example.com\ndn: cn=testgroup,ou=Group,dc=example,dc=com\nobjectClass: posixGroup\nobjectClass: top\ncn: testgroup\ngidNumber: 9999\n# search result\nsearch: 2\nresult: 0 Success\n# numResponses: 2\n# numEntries: 1\n```\n\n###### \u5f8c\u7247\u4ed8\u3051\n\n\n```shell-session:\nrm /etc/openldap/tmp/group.ldif\n```", "tags": ["CentOS6.4", "openldap2.4.23"]}