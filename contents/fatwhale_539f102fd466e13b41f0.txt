{"context": " More than 1 year has passed since last update.\u98df\u3079\u7269\u3092\u7f8e\u5473\u3057\u305d\u3046\u306b\u898b\u305b\u308b\n\u307b\u304b\u307b\u304b\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u306b\u3064\u3044\u3066\u306e\u7d39\u4ecb\n\u753b\u50cf\u306e\u4e0a\u304b\u3089\u3086\u3052\u304c\u51fa\u3066\u304f\u308b\u306e\u3067\n\u306a\u3093\u3067\u3082\u7f8e\u5473\u3057\u305d\u3046\u306b\u898b\u3048\u307e\u3059\uff0e\nHTML5\u306ecanvas\u3092\u5229\u7528\u3057\u3066\uff0c\u52d5\u304f\u3086\u3052\u3092\u63cf\u304d\u307e\u3059\uff0e\n\u3086\u3052\u306f\u5c0f\u3055\u304f\u306a\u308b\u307b\u3069\u901f\u5ea6\u3092\u901f\u304f\u3059\u308b\u3068\u30ea\u30a2\u30ea\u30c6\u30a3\u304c\u9ad8\u307e\u308a\u307e\u3059\uff0e\nJavascript\u3067\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u7684\u306a\u66f8\u304d\u65b9\u306b\u6311\u6226\u3057\uff0c\n\u30e1\u30a4\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0\u309250\u884c\u3067\u53ce\u3081\u308b\u5de5\u592b\u3092\u3057\u3066\u3044\u307e\u3059\uff0e\n\n\u30b5\u30f3\u30d7\u30eb\uff1a\nhttp://www.yasuikeita.com/works/qiita/hokahokaoverlay/\n\nindex.html\n<!DOCTYPE html>\n<html>\n<head>\n<title>\u304a\u3044\u3057\u3044\u305f\u3053\u713c\u304d\u5c4b</title>\n<script type=\"text/javascript\" src=\"HokahokaLib.js\"></script>\n<script type=\"text/javascript\" src=\"Hokahoka.js\"></script>\n</head>\n<body>\n    <canvas id=\"okonomiyaki_canvas\" width=\"200\" height=\"200\"></canvas>\n</body>\n</html>\n\n\n\nHokahokaLib.js\n//--\n// Graphics\n// ref.http://www.saturn.dti.ne.jp/npaka/html5/GraphicsEx/index.html\n//--\n\n\nfunction Graphics(canvas) {\n    this.canvas =canvas;\n    this.context=canvas.getContext(\"2d\");\n    this.loadingCount=0;\n}\n\nGraphics.prototype.getLoadingCount=function() {\n    return this.loadingCount;\n}\n\nGraphics.prototype.clearRect=function(x,y,w,h) {\n    this.context.clearRect(x,y,w,h);\n}\n\nGraphics.prototype.loadImage=function(src) {\n    this.loadingCount++;\n    var image=new Image();\n    var source=this;\n    image.onload=function() {\n        source.loadingCount--;\n    }\n    image.src=src;\n    return image;\n}\n\nGraphics.prototype.drawImage=function(image,x,y) {\n    this.context.drawImage(image,x,y);\n}\n\nGraphics.prototype.drawYuge=function(point,r) {\n\n    var i;\n    for(i=0;i<r;i+=2){\n        this.context.fillStyle = \"rgba(255,255,255,0.05)\";\n        this.context.beginPath();\n        this.context.arc(point.x,point.y+i/3,i,0,Math.PI*2,true);\n        this.context.fill();\n    }\n}\n\nGraphics.prototype.getWidth=function() {\n    return this.canvas.width;\n}\nGraphics.prototype.getHeight=function() {\n    return this.canvas.height;\n}\n\n\n//--\n// Point\n//--\n\n\nfunction Point(x,y){\n  this.x = x;\n  this.y = y;\n  return this;\n}\nPoint.prototype.add = function( point ){\n  this.x += point.x;\n  this.y += point.y;\n}\n\n\n\nHokahoka.js\nvar YUGE_NUM= 5;\nvar YUGE_SIZE = 20;\n\nvar g,image,i;\n\nvar pos = new Array(YUGE_NUM);\nvar vect = new Array(YUGE_NUM);\n\nwindow.onload=function() {\n\n    g=new Graphics($(\"okonomiyaki_canvas\"));\n\n    image=g.loadImage(\"okonomiyaki.jpg\");\n\n    //initialize\n    for (i = 0; i < YUGE_NUM; i++) {\n        pos[i] =  new Point(\n            Math.random()*g.getWidth(),\n            Math.random()*g.getHeight());\n        vect[i] = new Point(0,0);\n    }\n\n    setInterval(\"motion()\",50);\n}\n\nfunction motion() {\n\n    if (g.getLoadingCount()>0) return;\n\n    g.clearRect(0,0,g.getWidth(),g.getHeight());\n    g.drawImage(image,0,0);\n\n    for (i = 0; i < YUGE_NUM; i++) {\n\n        g.drawYuge(pos,YUGE_SIZE);\n\n        pos[i].add(vect[i]);\n        vect[i].add(new Point((1-Math.random()*2)*0.2,-0.1));\n\n        if(pos[i].y<-YUGE_SIZE){\n            pos[i] =  new Point(\n                Math.random()*g.getWidth(),\n                Math.random()*g.getHeight());\n            vect[i] = new Point(0,-1);\n        }\n    }\n}\n\nfunction $(id) {\n    return document.getElementById(id);\n}\n\n\n\n\n\n\u98df\u3079\u7269\u3092\u7f8e\u5473\u3057\u305d\u3046\u306b\u898b\u305b\u308b\n\u307b\u304b\u307b\u304b\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u306b\u3064\u3044\u3066\u306e\u7d39\u4ecb\n\n\u753b\u50cf\u306e\u4e0a\u304b\u3089\u3086\u3052\u304c\u51fa\u3066\u304f\u308b\u306e\u3067\n\u306a\u3093\u3067\u3082\u7f8e\u5473\u3057\u305d\u3046\u306b\u898b\u3048\u307e\u3059\uff0e\n\nHTML5\u306ecanvas\u3092\u5229\u7528\u3057\u3066\uff0c\u52d5\u304f\u3086\u3052\u3092\u63cf\u304d\u307e\u3059\uff0e\n\u3086\u3052\u306f\u5c0f\u3055\u304f\u306a\u308b\u307b\u3069\u901f\u5ea6\u3092\u901f\u304f\u3059\u308b\u3068\u30ea\u30a2\u30ea\u30c6\u30a3\u304c\u9ad8\u307e\u308a\u307e\u3059\uff0e\n\nJavascript\u3067\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411\u7684\u306a\u66f8\u304d\u65b9\u306b\u6311\u6226\u3057\uff0c\n\u30e1\u30a4\u30f3\u30d7\u30ed\u30b0\u30e9\u30e0\u309250\u884c\u3067\u53ce\u3081\u308b\u5de5\u592b\u3092\u3057\u3066\u3044\u307e\u3059\uff0e\n\n\n![hokahoka.png](https://qiita-image-store.s3.amazonaws.com/0/54559/19e3c046-0df6-5428-eb2b-d52bc0a9d44e.png)\n\n\n\u30b5\u30f3\u30d7\u30eb\uff1a\nhttp://www.yasuikeita.com/works/qiita/hokahokaoverlay/\n\n\n```html:index.html\n<!DOCTYPE html>\n<html>\n<head>\n<title>\u304a\u3044\u3057\u3044\u305f\u3053\u713c\u304d\u5c4b</title>\n<script type=\"text/javascript\" src=\"HokahokaLib.js\"></script>\n<script type=\"text/javascript\" src=\"Hokahoka.js\"></script>\n</head>\n<body>\n    <canvas id=\"okonomiyaki_canvas\" width=\"200\" height=\"200\"></canvas>\n</body>\n</html>\n```\n\n```js:HokahokaLib.js\n//--\n// Graphics\n// ref.http://www.saturn.dti.ne.jp/npaka/html5/GraphicsEx/index.html\n//--\n\n\nfunction Graphics(canvas) {\n    this.canvas =canvas;\n    this.context=canvas.getContext(\"2d\");\n    this.loadingCount=0;\n}\n\nGraphics.prototype.getLoadingCount=function() {\n    return this.loadingCount;\n}\n\nGraphics.prototype.clearRect=function(x,y,w,h) {\n    this.context.clearRect(x,y,w,h);\n}\n\nGraphics.prototype.loadImage=function(src) {\n    this.loadingCount++;\n    var image=new Image();\n    var source=this;\n    image.onload=function() {\n        source.loadingCount--;\n    }\n    image.src=src;\n    return image;\n}\n\nGraphics.prototype.drawImage=function(image,x,y) {\n    this.context.drawImage(image,x,y);\n}\n\nGraphics.prototype.drawYuge=function(point,r) {\n\n    var i;\n    for(i=0;i<r;i+=2){\n        this.context.fillStyle = \"rgba(255,255,255,0.05)\";\n        this.context.beginPath();\n        this.context.arc(point.x,point.y+i/3,i,0,Math.PI*2,true);\n        this.context.fill();\n    }\n}\n\nGraphics.prototype.getWidth=function() {\n    return this.canvas.width;\n}\nGraphics.prototype.getHeight=function() {\n    return this.canvas.height;\n}\n\n\n//--\n// Point\n//--\n\n\nfunction Point(x,y){\n  this.x = x;\n  this.y = y;\n  return this;\n}\nPoint.prototype.add = function( point ){\n  this.x += point.x;\n  this.y += point.y;\n}\n```\n\n```js:Hokahoka.js\nvar YUGE_NUM= 5;\nvar YUGE_SIZE = 20;\n\nvar g,image,i;\n\nvar pos = new Array(YUGE_NUM);\nvar vect = new Array(YUGE_NUM);\n\nwindow.onload=function() {\n\n    g=new Graphics($(\"okonomiyaki_canvas\"));\n\n\timage=g.loadImage(\"okonomiyaki.jpg\");\n\n\t//initialize\n\tfor (i = 0; i < YUGE_NUM; i++) {\n        pos[i] =  new Point(\n        \tMath.random()*g.getWidth(),\n        \tMath.random()*g.getHeight());\n\t\tvect[i] = new Point(0,0);\n    }\n\n    setInterval(\"motion()\",50);\n}\n\nfunction motion() {\n\t\n\tif (g.getLoadingCount()>0) return;\n\n\tg.clearRect(0,0,g.getWidth(),g.getHeight());\n\tg.drawImage(image,0,0);\n\t\n\tfor (i = 0; i < YUGE_NUM; i++) {\n\n\t\tg.drawYuge(pos,YUGE_SIZE);\n\n    \tpos[i].add(vect[i]);\n\t\tvect[i].add(new Point((1-Math.random()*2)*0.2,-0.1));\n\n\t\tif(pos[i].y<-YUGE_SIZE){\n\t\t\tpos[i] =  new Point(\n        \t\tMath.random()*g.getWidth(),\n        \t\tMath.random()*g.getHeight());\n\t\t\tvect[i] = new Point(0,-1);\n\t\t}\n    }\n}\n\nfunction $(id) {\n    return document.getElementById(id);\n}\n\n\n\n```\n", "tags": ["HTML5", "canvas", "JavaScript"]}