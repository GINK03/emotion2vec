{"context": " More than 1 year has passed since last update.\u30d3\u30d8\u30a4\u30d3\u30a2\u3067\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u524d\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u305f\uff0e\nMySQL \u3067\u4e00\u5fdc\u52d5\u4f5c\u78ba\u8a8d\u3057\u3066\u308b\uff0e\n<?php\n\nuse Phalcon\\Db\\RawValue;\nuse Phalcon\\Mvc\\Model\\Behavior;\nuse Phalcon\\Mvc\\Model\\BehaviorInterface;\n\n/**\n * \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u305f\u5024\u304c '' \u3084 null \u3067\u5408\u3063\u305f\u5834\u5408\u306b DB \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u5165\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u30d3\u30d8\u30a4\u30d3\u30a2\n */\nclass DefaultValue extends Behavior implements BefaviorInterface\n{\n  public function notify($type, $model)\n  {\n    if ($type === 'beforeValidation')\n    {\n      foreach ((array)$this->getOptions() as $property) {\n        if ($model->$property === '' || $model->$property === null) {\n          $model->$property = new RawValue('default');\n        }\n      }\n    }\n  }\n}\n\n\u4f7f\u7528\u4f8b\n<?php\n\nuse Phalcon\\Mvc\\Model;\n\nclass SomeModel extends Model\n{\n  public $name;\n  public $hobby;\n\n  public function initialize()\n  {\n    $this->addBehavior(new DefaultValue(array('name', 'hobby')));\n  }\n}\n\n\u5b9f\u884c\u4f8b\u306f\u3042\u3068\u3067\u66f8\u304f\u304b\u3082\uff0e\n\u30d3\u30d8\u30a4\u30d3\u30a2\u3067\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u524d\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u305f\uff0e\nMySQL \u3067\u4e00\u5fdc\u52d5\u4f5c\u78ba\u8a8d\u3057\u3066\u308b\uff0e\n\n```php\n<?php\n\nuse Phalcon\\Db\\RawValue;\nuse Phalcon\\Mvc\\Model\\Behavior;\nuse Phalcon\\Mvc\\Model\\BehaviorInterface;\n\n/**\n * \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u305f\u5024\u304c '' \u3084 null \u3067\u5408\u3063\u305f\u5834\u5408\u306b DB \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u5165\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u30d3\u30d8\u30a4\u30d3\u30a2\n */\nclass DefaultValue extends Behavior implements BefaviorInterface\n{\n  public function notify($type, $model)\n  {\n    if ($type === 'beforeValidation')\n    {\n      foreach ((array)$this->getOptions() as $property) {\n        if ($model->$property === '' || $model->$property === null) {\n          $model->$property = new RawValue('default');\n        }\n      }\n    }\n  }\n}\n```\n\n\u4f7f\u7528\u4f8b\n\n```php\n<?php\n\nuse Phalcon\\Mvc\\Model;\n\nclass SomeModel extends Model\n{\n  public $name;\n  public $hobby;\n\n  public function initialize()\n  {\n    $this->addBehavior(new DefaultValue(array('name', 'hobby')));\n  }\n}\n```\n\n\u5b9f\u884c\u4f8b\u306f\u3042\u3068\u3067\u66f8\u304f\u304b\u3082\uff0e\n", "tags": ["Phalcon1.3.1"]}