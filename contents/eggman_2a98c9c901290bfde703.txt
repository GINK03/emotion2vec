{"context": "GCC\u306etree\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001tree\u3092graphviz\u3067\u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\u3002\ntree\u306fgcc\u306efront end\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u69cb\u6587\u6728\u3092\u8868\u3059\u30c7\u30fc\u30bf\u69cb\u9020\u3067\u3059\u3002\n\u6700\u521d\u306f\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067graphviz\u306edot\u5f62\u5f0f\u3067\u66f8\u3044\u3066\u307f\u305f\u3051\u3069\u3001\u5909\u63db\u30c4\u30fc\u30eb\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u5909\u63db\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u307e\u3068\u3081\n\ngcc\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 -fdump-tree-original-raw \u3067 \u6700\u9069\u5316\u524d\u306etree\u3092dump\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\ntree\u306edump\u306f\u72ec\u81ea\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u95a2\u6570\u6bce\u306b\u751f\u6210\u3059\u308b\u3002\n\u95a2\u6570\u304c\u4e00\u3064\u306e\u5834\u5408\u306b\u3001tree\u306edump\u3092graphviz\u306edot\u5f62\u5f0f\u306b\u5909\u63db\u3059\u308b\u30c4\u30fc\u30eb\u304c\u3042\u308b\u3002\n\u5909\u63db\u3057\u305fdot\u30d5\u30a1\u30a4\u30eb\u3092graphviz\u3067\u63cf\u753b\u3059\u308b\u3068tree\u304c\u8996\u899a\u5316\u3067\u304d\u308b\u3002\n\n\u56f3\u306e\u8aad\u307f\u65b9\u306f\u5225\u30a8\u30f3\u30f3\u30c8\u30ea\u3067\u8aac\u660e\u3059\u308b\u4e88\u5b9a\u3068\u3057\u307e\u3059\u3002\n\n\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u66f8\u3044\u3066\u307f\u305f\n\n\u5909\u6570\u5ba3\u8a00\u306etree\u3092 GCC \u7684\u8bed\u6cd5\u6811\u7ed3\u6784 \u306e\u56f3\u3092\u898b\u306a\u304c\u3089graphviz\u3067\u56f3\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u3000\u305d\u306e\u8a71\u306f\u5272\u611b\u3057\u307e\u3059\n\n\n\u5909\u63db\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u307f\u305f\n\n\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u66f8\u304f\u306e\u306f\u3001\u52c9\u5f37\u306b\u306a\u3063\u3066\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u6642\u9593\u3082\u304b\u304b\u308b\u3057\u3001\u6b63\u78ba\u306b\u66f8\u3051\u305f\u304b\u3069\u3046\u304b\u3082\u826f\u304f\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3002\ntree\u306edump\u3092graphviz\u306b\u5909\u63db\u3059\u308b\u30c4\u30fc\u30eb\u3092\u63a2\u3057\u305f\u3089\u3001alohakun\u3055\u3093\u306e\u30c4\u30fc\u30eb\u304c\u3042\u3063\u305f\u306e\u3067\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u5143\u8a18\u4e8b\u306f http://alohakun.blog7.fc2.com/blog-entry-355.html \u306b\u3042\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u73fe\u5728\u6d88\u3048\u3066\u3044\u307e\u3059\u3002\n\n\nweb archive \u306b\u6b8b\u3063\u3066\u3044\u307e\u3057\u305f\u3002  http://web.archive.org/web/20080724225353/http://alohakun.blog7.fc2.com/blog-entry-355.html\n\n\u82f1\u8a9e\u3067\u306e\u89e3\u8aac\u3082\u3042\u308a\u307e\u3057\u305f\u3002 http://digitocero.com/en/blog/exporting-and-visualizing-gccs-abstract-syntax-tree-ast\n\ngithub\u306egist\u306b\u3082\u3042\u308a\u307e\u3057\u305f\u3002 https://gist.github.com/tonyseek/4161012\n\n\n\n\n\n\u5909\u63db\u624b\u9806\n\n\u4e0a\u8a18\u306eURL\u304b\u3089pre.awk\u3068tree.awk\u3092\u5165\u624b\u3059\u308b\u3002\ngawk (GNU awk)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\npre.awk\u3068tree.awk\u306e\u5148\u982d\u306b\u3042\u308bawk\u306epath\u3092\u4fee\u6b63\u3059\u308b\u3002\nchmod \u3067\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u52a0\u3059\u308b\u3002\ngcc \u306e\u30aa\u30d7\u30b7\u30e7\u30f3 -fdump-tree-original-raw \u3092\u4f7f\u3063\u3066\u3001\u30d1\u30fc\u30b9\u76f4\u5f8c\u306etree\u3092dump\u3059\u308b\u3002\n\ngcc -fdump-tree-original-raw test.c\n\n\ntest.c.003t.original\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\u5909\u63db\u30c4\u30fc\u30ebpre.awk\u3068treeviz.awk\u3092\u4f7f\u3046\u3002\n\n./pre.awk test.c.003t.original |./treeviz.awk  >test.dot\n\n\ngraphviz\u3067\u30b0\u30e9\u30d5\u3092\u63cf\u753b\u3059\u308b\u3002\n\ndot -Tpng test.dot  -o test.png\n\n\ntest.png\u3092\u8868\u793a\u3059\u308b\n\n\n\ntest.c\u306e\u5185\u5bb9\n\nint main() {\n    return 0;\n}\n\n\ntest.c.003t.original \u306e\u5185\u5bb9\u5185\u5bb9\n\n\ntree\u306edump\u306f\u95a2\u6570\u6bce\u306b\u51fa\u529b\u3055\u308c\u308b\u3002\n\n\n\n;; Function main (null)\n;; enabled by -tree-original\n\n@1      bind_expr        type: @2       body: @3      \n@2      void_type        name: @4       algn: 8       \n@3      return_expr      type: @2       expr: @5      \n@4      type_decl        name: @6       type: @2      \n@5      modify_expr      type: @7       op 0: @8       op 1: @9      \n@6      identifier_node  strg: void     lngt: 4       \n@7      integer_type     name: @10      size: @11      algn: 32      \n                         prec: 32       sign: signed   min : @12     \n                         max : @13     \n@8      result_decl      type: @7       scpe: @14      srcp: test.c:1      \n                         note: artificial              size: @11     \n                         algn: 32      \n@9      integer_cst      type: @7       low : 0       \n@10     type_decl        name: @15      type: @7      \n@11     integer_cst      type: @16      low : 32      \n@12     integer_cst      type: @7       high: -1       low : -2147483648 \n@13     integer_cst      type: @7       low : 2147483647 \n@14     function_decl    name: @17      type: @18      srcp: test.c:1      \n                         link: extern  \n@15     identifier_node  strg: int      lngt: 3       \n@16     integer_type     name: @19      size: @20      algn: 64      \n                         prec: 64       sign: unsigned min : @21     \n                         max : @22     \n@17     identifier_node  strg: main     lngt: 4       \n@18     function_type    unql: @23      size: @11      algn: 32      \n                         retn: @7      \n@19     identifier_node  strg: bitsizetype             lngt: 11      \n@20     integer_cst      type: @16      low : 64      \n@21     integer_cst      type: @16      low : 0       \n@22     integer_cst      type: @16      low : -1      \n@23     function_type    size: @11      algn: 32       retn: @7  \n\n\n\u5909\u63db\u30c4\u30fc\u30eb\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u8abf\u67fb\n\npre.awk\n#! /usr/local/bin/gawk -f\n/^[^;]/{\n  gsub(/^@/, \"~@\", $0);\n  gsub(/( *):( *)/, \":\", $0);\n  print;\n}\n\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u8aac\u660e\n\n\nRS\u3092\u6539\u884c\u304b\u3089@~\u306b\u5909\u3048\u308b\u305f\u3081\u306e\u6e96\u5099\u3002\n:\u524d\u5f8c\u306e\u4f59\u8a08\u306a\u7a7a\u767d\u3092\u524a\u9664\n\n\n\n\ntreeviz.awk\n#! /usr/local/bin/gawk -f\nBEGIN {RS = \"~@\"; printf \"digraph G {\\n  node [shape = record];\";}\n/^[0-9]/{\n  gsub(\"op \", \"op\");\n  s = sprintf(\"%s [label = \\\"{%s | {\", $1, $1);\n  for(i = 2; i < NF ; i++)\n    s = s sprintf(\"%s | \", $i);  \n  s = s sprintf(\"%s}}\\\"];\\n\", $i);\n\n  $0 = s;\n  while (/([a-zA-Z0-9]+):@([0-9]+)/){\n    format = sprintf(\"<\\\\1>\\\\1 \\\\3\\n   %s:\\\\1 -> \\\\2;\", $1);\n    $0 = gensub(/([a-zA-Z0-9]+):@([0-9]+)(.*)$/, format, \"g\"); \n  };\n  printf \"    %s\\n\", $0;\n}\nEND {print \"}\"}\n\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u8aac\u660e\n\n\n\u8907\u6570\u884c\u306b\u307e\u305f\u304c\u308b\u30ce\u30fc\u30c9\u3092\u7c21\u5358\u306b\u53d6\u308a\u6271\u3046\u305f\u3081\u306b\u3001awk\u306eRS\u3092\u6539\u884c\u304b\u3089\"~@\"\u306b\u5909\u66f4\u3001\u3053\u3046\u3059\u308b\u3068\u30ce\u30fc\u30c9\u3068\u884c\u304c1\u5bfe1\u306b\u5bfe\u5fdc\u3059\u308b\u3002\ngraphviz\u306e\u30d8\u30c3\u30c0\u30fc\u90e8\u5206\u3092\u8868\u793a\n\u8981\u7d20\u540d\u306b\"op 1\"\u306e\u3088\u3046\u306b\u7a7a\u767d\u304c\u3042\u308b\u3068\u9762\u5012\u306a\u306e\u3067\u3001\u7a7a\u767d\u3092\u9664\u53bb\n\u30ce\u30fc\u30c9\u306e\u30e9\u30d9\u30eb\u306e\u5148\u982d\u3092\u8ffd\u52a0\n\u5404\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3001\u30e9\u30d9\u30eb\u306b\u8ffd\u52a0\n\u30e9\u30d9\u30eb\u3092\u7d42\u4e86\n\u30e9\u30d9\u30eb\u306e\u3046\u3061\u3001\u30ea\u30f3\u30af\u3092\u5f35\u308b\u5fc5\u8981\u304c\u3042\u308b\u3082\u306e\u3092\u62bd\u51fa\n\u30ea\u30f3\u30af\u3092\u306f\u308b\u3082\u306e\u306f\u30e9\u30d9\u30eb\u3092 \u304b\u3089 \u306b\u4fee\u6b63\n\u30ea\u30f3\u30af\u3092\u8ffd\u52a0\n\n\n\n\u5909\u66f4\u7b87\u6240\n\n\n\u8981\u7d20\u540d\u306b\"op 1\"\u306e\u3088\u3046\u306b\u7a7a\u767d\u304c\u3042\u308b\u3068\u9762\u5012\u306a\u306e\u3067\u3001\u7a7a\u767d\u3092\u9664\u53bb\n\u30ea\u30f3\u30af\u3092\u5f35\u308b\u5fc5\u8981\u306e\u3042\u308b\u8981\u7d20\u3092\u62bd\u51fa\u3059\u308b\u6b63\u898f\u8868\u73fe\u3092\u5909\u66f4\n\n\n\u5236\u9650\u4e8b\u9805\n\n\n\u3053\u306e\u30c4\u30fc\u30eb\u306fdump\u30d5\u30a1\u30a4\u30eb\u306btree\u304c1\u3064\u306e\u5834\u5408\u306b\u306e\u307f\u52d5\u4f5c\u3059\u308b\u3002\u8907\u6570\u306e\u95a2\u6570\u304c\u3042\u308b\u3068\u3001\u540c\u3058\u540d\u524d\u306e\u30ce\u30fc\u30c9\u304c\u8907\u6570\u5b58\u5728\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u5909\u63db\u306b\u5931\u6557\u3059\u308b\u3002\n\n\n\n\ngcc\u306e-fdump-tree-original-raw\u306e\u610f\u5473\n\ngcc 4.9.3 \u306e\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u3088\u308b\u3068 https://gcc.gnu.org/onlinedocs/gcc-4.9.3/gcc/Debugging-Options.html\n\n-fdump-tree \u3068 -original \u3068 -raw \u3068\u533a\u5206\u3051\u3057\u3066\u8aac\u660e\u3092\u8aad\u3080\u3002\n\n-fdump-tree-switch\n-fdump-tree-switch-options\n-fdump-tree-switch-options=filename\nControl the dumping at various stages of processing the intermediate language tree to a file. \nThe file name is generated by appending a switch-specific suffix to the source file name, and \nthe file is created in the same directory as the output file. In case of =filename option, the \ndump is output on the given file instead of the auto named dump files. If the \u2018-options\u2019 form is \nused, options is a list of \u2018-\u2019 separated options which control the details of the dump. Not all \noptions are applicable to all dumps; those that are not meaningful are ignored. The following \noptions are available\n\n...\n\n\u2018raw\u2019\nPrint a raw representation of the tree. By default, trees are pretty-printed into a C-like representation. \n\n...\n\n\u2018original\u2019\nDump before any tree based optimization, to file.original. \n\n\ndump\u306e\u5b9f\u88c5\u306f\u3001dumpfile.c\u306b\u3042\u308a\u307e\u3059\u3002\n-fdump\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u89e3\u6790\u306f dumpfile.c \u306e dump_switch_p_1()\u3067\u884c\u3044\u307e\u3059\u3002\n-fdump\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u30c6\u30fc\u30d6\u30eb dump_files[] \u3068 dump_options[]\u306e\u6587\u5b57\u5217\u3092\u6bd4\u8f03\u3059\u308b\u3002\n\n\ndump_files \u306ftree-original \u306e\u90e8\u5206\u306e\u6587\u5b57\u5217\ndump_options\u306fraw\u306e\u90e8\u5206\u306e\u6587\u5b57\u5217\n\n\n\u904e\u53bb\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u898b\u305f\u3068\u3053\u308d gcc-4.x\u4ee5\u964d\u306a\u3089C\u3067-fdump-tree-original-raw \u304c\u4f7f\u3048\u308b\u3088\u3046\u3067\u3059\u3002\n\n\n\u53c2\u8003\n\nGCC tree\u306e\u30c7\u30fc\u30bf\u69cb\u9020 http://qiita.com/eggman/items/73cc4be27e5db9c6d6b9\n\nGCC \u7684\u8bed\u6cd5\u6811\u7ed3\u6784\n\n\n\nhttp://d1.amobbs.com/bbs_upload782111/files_33/ourdev_584680VL3TGD.pdf \n\n\n\nGCC\u306etree\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3001tree\u3092graphviz\u3067\u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\ntree\u306fgcc\u306efront end\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u69cb\u6587\u6728\u3092\u8868\u3059\u30c7\u30fc\u30bf\u69cb\u9020\u3067\u3059\u3002\n\u6700\u521d\u306f\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067graphviz\u306edot\u5f62\u5f0f\u3067\u66f8\u3044\u3066\u307f\u305f\u3051\u3069\u3001\u5909\u63db\u30c4\u30fc\u30eb\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u5909\u63db\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n# \u307e\u3068\u3081\n* gcc\u306e\u30aa\u30d7\u30b7\u30e7\u30f3 -fdump-tree-original-raw \u3067 \u6700\u9069\u5316\u524d\u306etree\u3092dump\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n* tree\u306edump\u306f\u72ec\u81ea\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u95a2\u6570\u6bce\u306b\u751f\u6210\u3059\u308b\u3002\n* \u95a2\u6570\u304c\u4e00\u3064\u306e\u5834\u5408\u306b\u3001tree\u306edump\u3092graphviz\u306edot\u5f62\u5f0f\u306b\u5909\u63db\u3059\u308b\u30c4\u30fc\u30eb\u304c\u3042\u308b\u3002\n* \u5909\u63db\u3057\u305fdot\u30d5\u30a1\u30a4\u30eb\u3092graphviz\u3067\u63cf\u753b\u3059\u308b\u3068tree\u304c\u8996\u899a\u5316\u3067\u304d\u308b\u3002\n\n\u56f3\u306e\u8aad\u307f\u65b9\u306f\u5225\u30a8\u30f3\u30f3\u30c8\u30ea\u3067\u8aac\u660e\u3059\u308b\u4e88\u5b9a\u3068\u3057\u307e\u3059\u3002\n\n# \u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u66f8\u3044\u3066\u307f\u305f\n* \u5909\u6570\u5ba3\u8a00\u306etree\u3092 [GCC \u7684\u8bed\u6cd5\u6811\u7ed3\u6784](http://d1.amobbs.com/bbs_upload782111/files_33/ourdev_584680VL3TGD.pdf) \u306e\u56f3\u3092\u898b\u306a\u304c\u3089graphviz\u3067\u56f3\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\u3000\u305d\u306e\u8a71\u306f\u5272\u611b\u3057\u307e\u3059\n\n# \u5909\u63db\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u307f\u305f\n\n* \u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3067\u66f8\u304f\u306e\u306f\u3001\u52c9\u5f37\u306b\u306a\u3063\u3066\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u6642\u9593\u3082\u304b\u304b\u308b\u3057\u3001\u6b63\u78ba\u306b\u66f8\u3051\u305f\u304b\u3069\u3046\u304b\u3082\u826f\u304f\u308f\u304b\u3089\u306a\u3044\u3067\u3059\u3002\n* tree\u306edump\u3092graphviz\u306b\u5909\u63db\u3059\u308b\u30c4\u30fc\u30eb\u3092\u63a2\u3057\u305f\u3089\u3001alohakun\u3055\u3093\u306e\u30c4\u30fc\u30eb\u304c\u3042\u3063\u305f\u306e\u3067\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n* \u5143\u8a18\u4e8b\u306f http://alohakun.blog7.fc2.com/blog-entry-355.html \u306b\u3042\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u73fe\u5728\u6d88\u3048\u3066\u3044\u307e\u3059\u3002\n * web archive \u306b\u6b8b\u3063\u3066\u3044\u307e\u3057\u305f\u3002  http://web.archive.org/web/20080724225353/http://alohakun.blog7.fc2.com/blog-entry-355.html\n * \u82f1\u8a9e\u3067\u306e\u89e3\u8aac\u3082\u3042\u308a\u307e\u3057\u305f\u3002 http://digitocero.com/en/blog/exporting-and-visualizing-gccs-abstract-syntax-tree-ast\n * github\u306egist\u306b\u3082\u3042\u308a\u307e\u3057\u305f\u3002 https://gist.github.com/tonyseek/4161012\n\n## \u5909\u63db\u624b\u9806\n* \u4e0a\u8a18\u306eURL\u304b\u3089pre.awk\u3068tree.awk\u3092\u5165\u624b\u3059\u308b\u3002\n* gawk (GNU awk)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n* pre.awk\u3068tree.awk\u306e\u5148\u982d\u306b\u3042\u308bawk\u306epath\u3092\u4fee\u6b63\u3059\u308b\u3002\n* chmod \u3067\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u52a0\u3059\u308b\u3002\n* gcc \u306e\u30aa\u30d7\u30b7\u30e7\u30f3 -fdump-tree-original-raw \u3092\u4f7f\u3063\u3066\u3001\u30d1\u30fc\u30b9\u76f4\u5f8c\u306etree\u3092dump\u3059\u308b\u3002\n\n```\ngcc -fdump-tree-original-raw test.c\n```\n* test.c.003t.original\u304c\u751f\u6210\u3055\u308c\u308b\u3002\n* \u5909\u63db\u30c4\u30fc\u30ebpre.awk\u3068treeviz.awk\u3092\u4f7f\u3046\u3002\n\n```\n./pre.awk test.c.003t.original |./treeviz.awk  >test.dot\n```\n* graphviz\u3067\u30b0\u30e9\u30d5\u3092\u63cf\u753b\u3059\u308b\u3002\n\n```\ndot -Tpng test.dot  -o test.png\n```\n\n* test.png\u3092\u8868\u793a\u3059\u308b\n\n![test.png](https://qiita-image-store.s3.amazonaws.com/0/42120/cbcf20d1-1417-cc65-ce87-c342ceaf98c4.png)\n\n\n* test.c\u306e\u5185\u5bb9\n\n```c\nint main() {\n    return 0;\n}\n```\n\n* test.c.003t.original \u306e\u5185\u5bb9\u5185\u5bb9\n * tree\u306edump\u306f\u95a2\u6570\u6bce\u306b\u51fa\u529b\u3055\u308c\u308b\u3002\n\n```\n;; Function main (null)\n;; enabled by -tree-original\n\n@1      bind_expr        type: @2       body: @3      \n@2      void_type        name: @4       algn: 8       \n@3      return_expr      type: @2       expr: @5      \n@4      type_decl        name: @6       type: @2      \n@5      modify_expr      type: @7       op 0: @8       op 1: @9      \n@6      identifier_node  strg: void     lngt: 4       \n@7      integer_type     name: @10      size: @11      algn: 32      \n                         prec: 32       sign: signed   min : @12     \n                         max : @13     \n@8      result_decl      type: @7       scpe: @14      srcp: test.c:1      \n                         note: artificial              size: @11     \n                         algn: 32      \n@9      integer_cst      type: @7       low : 0       \n@10     type_decl        name: @15      type: @7      \n@11     integer_cst      type: @16      low : 32      \n@12     integer_cst      type: @7       high: -1       low : -2147483648 \n@13     integer_cst      type: @7       low : 2147483647 \n@14     function_decl    name: @17      type: @18      srcp: test.c:1      \n                         link: extern  \n@15     identifier_node  strg: int      lngt: 3       \n@16     integer_type     name: @19      size: @20      algn: 64      \n                         prec: 64       sign: unsigned min : @21     \n                         max : @22     \n@17     identifier_node  strg: main     lngt: 4       \n@18     function_type    unql: @23      size: @11      algn: 32      \n                         retn: @7      \n@19     identifier_node  strg: bitsizetype             lngt: 11      \n@20     integer_cst      type: @16      low : 64      \n@21     integer_cst      type: @16      low : 0       \n@22     integer_cst      type: @16      low : -1      \n@23     function_type    size: @11      algn: 32       retn: @7  \n```\n\n\n\n## \u5909\u63db\u30c4\u30fc\u30eb\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u8abf\u67fb\n```awk:pre.awk\n#! /usr/local/bin/gawk -f\n/^[^;]/{\n  gsub(/^@/, \"~@\", $0);\n  gsub(/( *):( *)/, \":\", $0);\n  print;\n}\n```\n* \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u8aac\u660e\n * RS\u3092\u6539\u884c\u304b\u3089@~\u306b\u5909\u3048\u308b\u305f\u3081\u306e\u6e96\u5099\u3002\n * :\u524d\u5f8c\u306e\u4f59\u8a08\u306a\u7a7a\u767d\u3092\u524a\u9664\n\n\n```awk:treeviz.awk\n#! /usr/local/bin/gawk -f\nBEGIN {RS = \"~@\"; printf \"digraph G {\\n  node [shape = record];\";}\n/^[0-9]/{\n  gsub(\"op \", \"op\");\n  s = sprintf(\"%s [label = \\\"{%s | {\", $1, $1);\n  for(i = 2; i < NF ; i++)\n    s = s sprintf(\"%s | \", $i);  \n  s = s sprintf(\"%s}}\\\"];\\n\", $i);\n \n  $0 = s;\n  while (/([a-zA-Z0-9]+):@([0-9]+)/){\n    format = sprintf(\"<\\\\1>\\\\1 \\\\3\\n   %s:\\\\1 -> \\\\2;\", $1);\n    $0 = gensub(/([a-zA-Z0-9]+):@([0-9]+)(.*)$/, format, \"g\"); \n  };\n  printf \"    %s\\n\", $0;\n}\nEND {print \"}\"}\n```\n* \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u8aac\u660e\n * \u8907\u6570\u884c\u306b\u307e\u305f\u304c\u308b\u30ce\u30fc\u30c9\u3092\u7c21\u5358\u306b\u53d6\u308a\u6271\u3046\u305f\u3081\u306b\u3001awk\u306eRS\u3092\u6539\u884c\u304b\u3089\"~@\"\u306b\u5909\u66f4\u3001\u3053\u3046\u3059\u308b\u3068\u30ce\u30fc\u30c9\u3068\u884c\u304c1\u5bfe1\u306b\u5bfe\u5fdc\u3059\u308b\u3002\n * graphviz\u306e\u30d8\u30c3\u30c0\u30fc\u90e8\u5206\u3092\u8868\u793a\n * \u8981\u7d20\u540d\u306b\"op 1\"\u306e\u3088\u3046\u306b\u7a7a\u767d\u304c\u3042\u308b\u3068\u9762\u5012\u306a\u306e\u3067\u3001\u7a7a\u767d\u3092\u9664\u53bb\n * \u30ce\u30fc\u30c9\u306e\u30e9\u30d9\u30eb\u306e\u5148\u982d\u3092\u8ffd\u52a0\n * \u5404\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3001\u30e9\u30d9\u30eb\u306b\u8ffd\u52a0\n * \u30e9\u30d9\u30eb\u3092\u7d42\u4e86\n * \u30e9\u30d9\u30eb\u306e\u3046\u3061\u3001\u30ea\u30f3\u30af\u3092\u5f35\u308b\u5fc5\u8981\u304c\u3042\u308b\u3082\u306e\u3092\u62bd\u51fa\n * \u30ea\u30f3\u30af\u3092\u306f\u308b\u3082\u306e\u306f\u30e9\u30d9\u30eb\u3092 \u304b\u3089 \u306b\u4fee\u6b63\n * \u30ea\u30f3\u30af\u3092\u8ffd\u52a0  \n* \u5909\u66f4\u7b87\u6240\n * \u8981\u7d20\u540d\u306b\"op 1\"\u306e\u3088\u3046\u306b\u7a7a\u767d\u304c\u3042\u308b\u3068\u9762\u5012\u306a\u306e\u3067\u3001\u7a7a\u767d\u3092\u9664\u53bb\n * \u30ea\u30f3\u30af\u3092\u5f35\u308b\u5fc5\u8981\u306e\u3042\u308b\u8981\u7d20\u3092\u62bd\u51fa\u3059\u308b\u6b63\u898f\u8868\u73fe\u3092\u5909\u66f4\n* \u5236\u9650\u4e8b\u9805\n * \u3053\u306e\u30c4\u30fc\u30eb\u306fdump\u30d5\u30a1\u30a4\u30eb\u306btree\u304c1\u3064\u306e\u5834\u5408\u306b\u306e\u307f\u52d5\u4f5c\u3059\u308b\u3002\u8907\u6570\u306e\u95a2\u6570\u304c\u3042\u308b\u3068\u3001\u540c\u3058\u540d\u524d\u306e\u30ce\u30fc\u30c9\u304c\u8907\u6570\u5b58\u5728\u3057\u3066\u3057\u307e\u3046\u306e\u3067\u5909\u63db\u306b\u5931\u6557\u3059\u308b\u3002\n  \n# gcc\u306e-fdump-tree-original-raw\u306e\u610f\u5473\n* gcc 4.9.3 \u306e\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u3088\u308b\u3068 https://gcc.gnu.org/onlinedocs/gcc-4.9.3/gcc/Debugging-Options.html\n* -fdump-tree \u3068 -original \u3068 -raw \u3068\u533a\u5206\u3051\u3057\u3066\u8aac\u660e\u3092\u8aad\u3080\u3002\n\n```\n-fdump-tree-switch\n-fdump-tree-switch-options\n-fdump-tree-switch-options=filename\nControl the dumping at various stages of processing the intermediate language tree to a file. \nThe file name is generated by appending a switch-specific suffix to the source file name, and \nthe file is created in the same directory as the output file. In case of =filename option, the \ndump is output on the given file instead of the auto named dump files. If the \u2018-options\u2019 form is \nused, options is a list of \u2018-\u2019 separated options which control the details of the dump. Not all \noptions are applicable to all dumps; those that are not meaningful are ignored. The following \noptions are available\n\n...\n\n\u2018raw\u2019\nPrint a raw representation of the tree. By default, trees are pretty-printed into a C-like representation. \n\n...\n\n\u2018original\u2019\nDump before any tree based optimization, to file.original. \n```\n\n* dump\u306e\u5b9f\u88c5\u306f\u3001dumpfile.c\u306b\u3042\u308a\u307e\u3059\u3002\n* -fdump\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u89e3\u6790\u306f dumpfile.c \u306e dump_switch_p_1()\u3067\u884c\u3044\u307e\u3059\u3002\n* -fdump\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u30c6\u30fc\u30d6\u30eb dump_files[] \u3068 dump_options[]\u306e\u6587\u5b57\u5217\u3092\u6bd4\u8f03\u3059\u308b\u3002\n * dump_files \u306ftree-original \u306e\u90e8\u5206\u306e\u6587\u5b57\u5217\n * dump_options\u306fraw\u306e\u90e8\u5206\u306e\u6587\u5b57\u5217\n* \u904e\u53bb\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u898b\u305f\u3068\u3053\u308d gcc-4.x\u4ee5\u964d\u306a\u3089C\u3067-fdump-tree-original-raw \u304c\u4f7f\u3048\u308b\u3088\u3046\u3067\u3059\u3002\n\n\n#\u53c2\u8003\n* GCC tree\u306e\u30c7\u30fc\u30bf\u69cb\u9020 http://qiita.com/eggman/items/73cc4be27e5db9c6d6b9\n* GCC \u7684\u8bed\u6cd5\u6811\u7ed3\u6784\n * http://d1.amobbs.com/bbs_upload782111/files_33/ourdev_584680VL3TGD.pdf \n", "tags": ["GCC", "C\u8a00\u8a9e", "\u30c7\u30fc\u30bf\u69cb\u9020"]}