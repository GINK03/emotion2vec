{"context": " More than 1 year has passed since last update.http://stackoverflow.com/questions/26480526/alassetslibrary-assetforurl-always-returning-nil-for-photos-in-my-photo-stream\n\u3053\u3053\u306b\u66f8\u3044\u3066\u3042\u308b\u5185\u5bb9\u305d\u306e\u307e\u307e\u306a\u306e\u3067\u3059\u304c\u3001\niOS8.1\u4ee5\u524d\u3067\u306f\u3001\niCloud\u306e\u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u4e0a\u306e\u753b\u50cf\u3092ALAssetLibrary\u306eassetForURL\u3067\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u304c\u3001\niOS8.1\u306f\u3001\u305d\u306e\u65b9\u6cd5\u3067\u306fnil\u3092\u8fd4\u3059\u3088\u3046\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\nnew_code\n[assetLibrary assetForURL:url resultBlock:^(ALAsset *asset) {\n    if (asset)\n    {\n        // \u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u4ee5\u5916\u306eALAsset\u3092\u53d6\u5f97\u6210\u529f\n    }\n    else \n    {\n        [assetLibrary enumerateGroupsWithTypes:ALAssetsGroupPhotoStream usingBlock:^(ALAssetsGroup *group, BOOL *stop) {\n            [group enumerateAssetsWithOptions:NSEnumerationReverse usingBlock:^(ALAsset *result, NSUInteger index, BOOL *stop) {\n                if ([result.defaultRepresentation.url isEqual:url])\n                    // \u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u306eALAsset\u53d6\u5f97\u6210\u529f\n                    *stop = YES;\n                }\n            }];\n        } failureBlock:^(NSError *error) {\n            // \u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u306eALAsset\u53d6\u5f97\u5931\u6557\n        }];\n    }\n} failureBlock:^(NSError *error) {\n    // \u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u4ee5\u5916\u306eALAsset\u53d6\u5f97\u5931\u6557\n}];\n\n\n\u3053\u308c\u3067\u305f\u3076\u3093OS\u4f9d\u5b58\u306f\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3059\u3002\n\u3057\u304b\u3057\u3001\u30cd\u30b9\u30c8\u304c\u6df1\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u3082\u3063\u3068\u4e00\u767a\u3067\u53d6\u5f97\u3059\u308b\u30d9\u30bf\u30fc\u306a\u65b9\u6cd5\u304c\u3042\u308c\u3070\u60c5\u5831\u5171\u6709\u304a\u9858\u3044\u3057\u307e\u3059\u3002\nhttp://stackoverflow.com/questions/26480526/alassetslibrary-assetforurl-always-returning-nil-for-photos-in-my-photo-stream\n\u3053\u3053\u306b\u66f8\u3044\u3066\u3042\u308b\u5185\u5bb9\u305d\u306e\u307e\u307e\u306a\u306e\u3067\u3059\u304c\u3001\n\niOS8.1\u4ee5\u524d\u3067\u306f\u3001\n\niCloud\u306e\u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u4e0a\u306e\u753b\u50cf\u3092ALAssetLibrary\u306eassetForURL\u3067\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u304c\u3001\niOS8.1\u306f\u3001\u305d\u306e\u65b9\u6cd5\u3067\u306fnil\u3092\u8fd4\u3059\u3088\u3046\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\n```objc:new_code\n[assetLibrary assetForURL:url resultBlock:^(ALAsset *asset) {\n    if (asset)\n    {\n        // \u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u4ee5\u5916\u306eALAsset\u3092\u53d6\u5f97\u6210\u529f\n    }\n    else \n    {\n        [assetLibrary enumerateGroupsWithTypes:ALAssetsGroupPhotoStream usingBlock:^(ALAssetsGroup *group, BOOL *stop) {\n            [group enumerateAssetsWithOptions:NSEnumerationReverse usingBlock:^(ALAsset *result, NSUInteger index, BOOL *stop) {\n                if ([result.defaultRepresentation.url isEqual:url])\n                    // \u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u306eALAsset\u53d6\u5f97\u6210\u529f\n                    *stop = YES;\n                }\n            }];\n        } failureBlock:^(NSError *error) {\n            // \u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u306eALAsset\u53d6\u5f97\u5931\u6557\n        }];\n    }\n} failureBlock:^(NSError *error) {\n    // \u30d5\u30a9\u30c8\u30b9\u30c8\u30ea\u30fc\u30e0\u4ee5\u5916\u306eALAsset\u53d6\u5f97\u5931\u6557\n}];\n```\n\n\u3053\u308c\u3067\u305f\u3076\u3093OS\u4f9d\u5b58\u306f\u306a\u304f\u306a\u3063\u305f\u306e\u3067\u3059\u3002\n\n\u3057\u304b\u3057\u3001\u30cd\u30b9\u30c8\u304c\u6df1\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\n\u3082\u3063\u3068\u4e00\u767a\u3067\u53d6\u5f97\u3059\u308b\u30d9\u30bf\u30fc\u306a\u65b9\u6cd5\u304c\u3042\u308c\u3070\u60c5\u5831\u5171\u6709\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n", "tags": ["iOS8", "Xcode", "Objective-C"]}