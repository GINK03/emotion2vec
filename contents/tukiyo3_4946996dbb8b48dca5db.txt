{"tags": ["archLinux", "lxc"], "context": " More than 1 year has passed since last update.docker\u306f\u4f7f\u3044\u3084\u3059\u3044\u304c\u3001lxc\u3082\u305f\u307e\u306b\u306f\u4f7f\u304a\u3046\u3002openvz\u306e\u3053\u3068\u306f\u3082\u3046\u5fd8\u308c\u305f\u3044\u3002\u3002\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\n\nArchLinux\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a (\u30d6\u30ea\u30c3\u30b8\u3001bonding) - Qiita\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u5fc5\u9808\u30d1\u30c3\u30b1\u30fc\u30b8\npacman -Sy lxc bridge-utils wget rsync\nyaourt -S --noconfirm yum\n\n\n\nvagrant\u7528lxc\u30d7\u30e9\u30b0\u30a4\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(vagrant\u4f7f\u3044\u305f\u3044\u4eba\u3060\u3051\u3002\u81ea\u5206\u306f\u5165\u308c\u306a\u3044)\npacman -Sy vagrant\nvagrant plugin install vagrant-lxc\nexport VAGRANT_DEFAULT_PROVIDER=lxc\n\n\n\n\u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\n\ncentos7\u306e\u30b3\u30f3\u30c6\u30ca\u306e\u4f5c\u6210\nMIRROR=http://ftp.jaist.ac.jp/pub/Linux/CentOS/7/os/x86_64/ \\\n  sudo /usr/share/lxc/templates/lxc-centos -n centos7 -R 7\n\n\n\n\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u306e\u524d\u6e96\u5099\n\n/var/lib/lxc/centos7/config\n+ lxc.network.type = veth\n+ lxc.network.flags = up\n+ lxc.network.link = br0\n\n\n\n\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\n\n\u30b3\u30f3\u30c6\u30ca\u306eroot\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\nsudo chroot /var/lib/lxc/centos7/rootfs passwd\n\n\nsudo lxc-start -f /var/lib/lxc/centos7/config -n centos7\n# root:\u5148\u307b\u3069\u8a2d\u5b9a\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9 \u3067\u30ed\u30b0\u30a4\u30f3\n\n\n\u30b3\u30f3\u30c6\u30ca\u64cd\u4f5c\n\u5207\u65ad: ctrl-a, q\n\u63a5\u7d9a: sudo lxc-console -n centos7\n\n\n\nlxc\u30b3\u30f3\u30c6\u30ca\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\n\n/etc/sysconfig/network-scripts/ifcfg-eth0\n- BOOTPROTO=dhcp\n+ BOOTPROTO=static\n+ IPADDR=192.168.100.60\n+ NETMASK=255.255.255.0\n+ GATEWAY=192.168.100.1\n\n\n\n\u8a2d\u5b9a\u53cd\u6620\nservice network restart\n\n\n\nLinux Containers - ArchWiki\nUbuntu - LXC (Linux Container) \u3092\u4f7f\u3044\u8d85\u8efd\u91cf\u4eee\u60f3\u74b0\u5883\u3092\u624b\u306b\u5165\u308c\u3088\u3046 - Qiita\nHachulog: LXC\u306bArchLinux\u3092\u5165\u308c\u308b\n\u308f\u304b\u308a\u3084\u3059\u3044\u6982\u5ff5\u56f3\n\n\n\n\u30d6\u30ea\u30c3\u30b8\u8a2d\u5b9a\u3092\u4f5c\u308b\u524d\u306b\u69cb\u7bc9\u3057\u305fKVM\u304c\u3042\u308b\u5834\u5408\u3001\u8a2d\u5b9a\u3092\u4ee5\u4e0b\u306b\u5909\u66f4\u3057\u306a\u3044\u3068\u8d77\u52d5\u3067\u304d\u306a\u3044\u306e\u3067\u6ce8\u610f\u3002\n\n\ndocker\u306f\u4f7f\u3044\u3084\u3059\u3044\u304c\u3001lxc\u3082\u305f\u307e\u306b\u306f\u4f7f\u304a\u3046\u3002openvz\u306e\u3053\u3068\u306f\u3082\u3046\u5fd8\u308c\u305f\u3044\u3002\u3002\n\n## \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\n\n* [ArchLinux\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a (\u30d6\u30ea\u30c3\u30b8\u3001bonding) - Qiita](http://qiita.com/tukiyo3/items/08c8b0180eae29055736#2-3)\n\n\n## \u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:\u5fc5\u9808\u30d1\u30c3\u30b1\u30fc\u30b8\npacman -Sy lxc bridge-utils wget rsync\nyaourt -S --noconfirm yum\n```\n\n```bash:vagrant\u7528lxc\u30d7\u30e9\u30b0\u30a4\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(vagrant\u4f7f\u3044\u305f\u3044\u4eba\u3060\u3051\u3002\u81ea\u5206\u306f\u5165\u308c\u306a\u3044)\npacman -Sy vagrant\nvagrant plugin install vagrant-lxc\nexport VAGRANT_DEFAULT_PROVIDER=lxc\n```\n\n## \u30b3\u30f3\u30c6\u30ca\u4f5c\u6210\n\n```bash:centos7\u306e\u30b3\u30f3\u30c6\u30ca\u306e\u4f5c\u6210\nMIRROR=http://ftp.jaist.ac.jp/pub/Linux/CentOS/7/os/x86_64/ \\\n  sudo /usr/share/lxc/templates/lxc-centos -n centos7 -R 7\n```\n\n\n## \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u306e\u524d\u6e96\u5099\n\n```diff:/var/lib/lxc/centos7/config\n+ lxc.network.type = veth\n+ lxc.network.flags = up\n+ lxc.network.link = br0\n```\n\n## \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\n\n```bash:\u30b3\u30f3\u30c6\u30ca\u306eroot\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\nsudo chroot /var/lib/lxc/centos7/rootfs passwd\n```\n\n```bash:\nsudo lxc-start -f /var/lib/lxc/centos7/config -n centos7\n# root:\u5148\u307b\u3069\u8a2d\u5b9a\u3057\u305f\u30d1\u30b9\u30ef\u30fc\u30c9 \u3067\u30ed\u30b0\u30a4\u30f3\n```\n\n```bash:\u30b3\u30f3\u30c6\u30ca\u64cd\u4f5c\n\u5207\u65ad: ctrl-a, q\n\u63a5\u7d9a: sudo lxc-console -n centos7\n```\n\n## lxc\u30b3\u30f3\u30c6\u30ca\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\n\n```diff:/etc/sysconfig/network-scripts/ifcfg-eth0\n- BOOTPROTO=dhcp\n+ BOOTPROTO=static\n+ IPADDR=192.168.100.60\n+ NETMASK=255.255.255.0\n+ GATEWAY=192.168.100.1\n```\n\n```bash:\u8a2d\u5b9a\u53cd\u6620\nservice network restart\n```\n\n* [Linux Containers - ArchWiki](https://wiki.archlinux.org/index.php/Linux_Containers)\n* [Ubuntu - LXC (Linux Container) \u3092\u4f7f\u3044\u8d85\u8efd\u91cf\u4eee\u60f3\u74b0\u5883\u3092\u624b\u306b\u5165\u308c\u3088\u3046 - Qiita](http://qiita.com/tukiyo3/items/672d556c6cf8e7458563)\n* [Hachulog: LXC\u306bArchLinux\u3092\u5165\u308c\u308b](http://hachulog.blogspot.jp/2013/03/lxcarchlinux.html)\n\n\n* \u308f\u304b\u308a\u3084\u3059\u3044\u6982\u5ff5\u56f3\n\n![system.png](https://qiita-image-store.s3.amazonaws.com/0/25728/03472f31-735b-a72c-75b8-84e978d0905a.png)\n\n* \u30d6\u30ea\u30c3\u30b8\u8a2d\u5b9a\u3092\u4f5c\u308b\u524d\u306b\u69cb\u7bc9\u3057\u305fKVM\u304c\u3042\u308b\u5834\u5408\u3001\u8a2d\u5b9a\u3092\u4ee5\u4e0b\u306b\u5909\u66f4\u3057\u306a\u3044\u3068\u8d77\u52d5\u3067\u304d\u306a\u3044\u306e\u3067\u6ce8\u610f\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-10-05 8.38.41.png](https://qiita-image-store.s3.amazonaws.com/0/25728/1d902e9b-f626-01e5-e60b-d66fef2098c0.png)\n"}