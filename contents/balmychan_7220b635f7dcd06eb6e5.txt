{"context": " More than 1 year has passed since last update.\u8272\u3005\u306a\u3068\u3053\u308d\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u69cb\u7bc9\u30e1\u30e2\u3068\u3057\u3066\u3002\nCentOS 6.5\u3001ruby 2.1.2\u3001rails 4\u3092\u4f7f\u7528\u3057\u3001Chef\u7b49\u3092\u4f7f\u308f\u305a\u306b\u3001\u624b\u52d5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002\n\nVagrant\u3067CentOS\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\n$ vagrant init centos_64\n$ vagrant up --provider=vmware_fusion\n$ vagrant ssh\n\ncentos\u306ebox\u3092\u9069\u5f53\u306b\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u306f\u9069\u5b9c\u5909\u3048\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001provider\u306bvmware_fusion\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u304c\u3001VirtualBox\u3092\u4f7f\u3063\u3066\u3044\u308c\u3070\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5165\u529b\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\n\nopenssl-devel\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nruby\u3092\u30d3\u30eb\u30c9\u3059\u308b\u969b\u306bopenssl-devel\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u305f\u3081\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install -y openssl openssl-devel\n\n\nmysql\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nDB\u306bmysql\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n$ sudo yum install -y mysql mysql-devel mysql-server\n\n\ngcc, gcc-c++\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ntherubyracer\u306egem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\n$ sudo yum install -y gcc gcc-c++\n\n\nreadline, readline-devel\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrails console\u3092\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001\u4e8b\u524d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install -y readline readline-devel\n\n\nrbenv\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://qiita.com/inouet/items/478f4228dbbcd442bfe8\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\nruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u30012.1.2\u3092\u4f7f\u7528\u3002\n\u203b\u4e00\u5fdc\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u66f8\u304d\u307e\u3059\u304c\u3001\u53c2\u8003\u30b5\u30a4\u30c8\u3092\u898b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u65b9\u304c\u826f\u3044\u3067\u3059\n$ sudo yum -y install git\n$ git clone https://github.com/sstephenson/rbenv.git ~/.rbenv\n$ echo 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' >> ~/.bash_profile\n$ echo 'eval \"$(rbenv init -)\"' >> ~/.bash_profile\n$ exec $SHELL -l\n$ git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n$ rbenv install -v 2.1.2\n$ rbenv rehash\n$ rbenv global 2.1.2\n$ ruby -v\n\n\nbundler\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ gem install bundler\n$ rbenv rehash\n\n\u203brehash\u3057\u306a\u3044\u3068bundler\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u307e\u305b\u3093\n\nbundler\u3067rails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\n\nbundle\u30b3\u30de\u30f3\u30c9\u3067\u521d\u671f\u5316\u3057\u3001Gemfile\u3092\u4f5c\u6210\n$ cd ~\n$ mkdir testapp\n$ cd testapp\n$ bundle init\n$ vi Gemfile\n\n\ngem \"rails\"\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3059\u308b\n# A sample Gemfile\nsource \"https://rubygems.org\"\n\ngem \"rails\"\n\n\nrails\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ bundle install --path vendor/bundle\n\n\nrails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\uff08mysql\u3092\u4f7f\u7528\uff09\n$ bundle exec rails new . -d mysql\n\n\u81ea\u52d5\u3067bundle install\u304c\u5b9f\u884c\u3055\u308c\u308b\n\u203b sprockets\u95a2\u9023\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3089\u3001Gemfile.lock\u3092\u524a\u9664\u3057\u3001\u3082\u3046\u4e00\u5ea6bundle install\u3059\u308b\n\nGemfile\u3092\u7de8\u96c6\u3059\u308b\n$ vi Gemfile\n\n\ntherubyracer\u3084\u5fc5\u8981\u306a\u7269\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3059\u308b\ngem 'therubyracer',  platforms: :ruby // \u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3059\u308b\ngem 'unicorn'\ngem 'capistrano-rails', group: :development\n\n\nrails console\u3067\u8d77\u52d5\u78ba\u8a8d\uff08\u3053\u3053\u3067readline\u95a2\u9023\u306e\u30a8\u30e9\u30fc\u304c\u3067\u305f\u3089\u3001yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066ruby\u3082\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n$ bundle install\n$ bundle exec rails c // rails\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u8d77\u52d5\u3059\u308c\u3070\u6210\u529f\n$ bundle exec rails s\n\n\u3053\u308c\u3067\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\u307e\u3067\u5b8c\u4e86\u3067\u3059\u3002iptables\u306e\u8a2d\u5b9a\u3067\u30dd\u30fc\u30c83000\u3092\u958b\u3051\u3066\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\u3064\u306a\u304c\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nmysql\u306eDB\u3092\u4f5c\u6210\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306f\u305a\u3067\u3059\u3002\n\nmysql\u3092\u8d77\u52d5\u3057\u3066\u3001DB\u3092\u521d\u671f\u5316\n$ sudo /etc/init.d/mysqld start\n$ bundle exec rake db:create\n$ bundle exec rake db:migrate\n\n\u3053\u308c\u3067Rails\u306e\u521d\u671f\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4ee5\u4e0a\u3067\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\u8272\u3005\u306a\u3068\u3053\u308d\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u69cb\u7bc9\u30e1\u30e2\u3068\u3057\u3066\u3002\nCentOS 6.5\u3001ruby 2.1.2\u3001rails 4\u3092\u4f7f\u7528\u3057\u3001Chef\u7b49\u3092\u4f7f\u308f\u305a\u306b\u3001\u624b\u52d5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002\n\n## Vagrant\u3067CentOS\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u4f5c\u6210\n\n```mac\n$ vagrant init centos_64\n$ vagrant up --provider=vmware_fusion\n$ vagrant ssh\n```\ncentos\u306ebox\u3092\u9069\u5f53\u306b\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u306f\u9069\u5b9c\u5909\u3048\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001provider\u306bvmware_fusion\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u304c\u3001VirtualBox\u3092\u4f7f\u3063\u3066\u3044\u308c\u3070\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5165\u529b\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\n\n## openssl-devel\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nruby\u3092\u30d3\u30eb\u30c9\u3059\u308b\u969b\u306bopenssl-devel\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u305f\u3081\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n``` bash\n$ sudo yum install -y openssl openssl-devel\n```\n\n## mysql\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nDB\u306bmysql\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n``` bash\n$ sudo yum install -y mysql mysql-devel mysql-server\n```\n\n## gcc, gcc-c++\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\ntherubyracer\u306egem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b\u306e\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\n\n```bash\n$ sudo yum install -y gcc gcc-c++\n```\n\n## readline, readline-devel\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrails console\u3092\u3059\u308b\u969b\u306b\u4f7f\u7528\u3059\u308b\u305f\u3081\u3001\u4e8b\u524d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ sudo yum install -y readline readline-devel\n```\n\n## rbenv\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nhttp://qiita.com/inouet/items/478f4228dbbcd442bfe8\n\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\nruby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u30012.1.2\u3092\u4f7f\u7528\u3002\n\u203b\u4e00\u5fdc\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u66f8\u304d\u307e\u3059\u304c\u3001\u53c2\u8003\u30b5\u30a4\u30c8\u3092\u898b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u65b9\u304c\u826f\u3044\u3067\u3059\n\n```bash\n$ sudo yum -y install git\n$ git clone https://github.com/sstephenson/rbenv.git ~/.rbenv\n$ echo 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' >> ~/.bash_profile\n$ echo 'eval \"$(rbenv init -)\"' >> ~/.bash_profile\n$ exec $SHELL -l\n$ git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build\n$ rbenv install -v 2.1.2\n$ rbenv rehash\n$ rbenv global 2.1.2\n$ ruby -v\n```\n\n## bundler\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ gem install bundler\n$ rbenv rehash\n```\n\u203brehash\u3057\u306a\u3044\u3068bundler\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u307e\u305b\u3093\n\n\n## bundler\u3067rails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\n\n#### bundle\u30b3\u30de\u30f3\u30c9\u3067\u521d\u671f\u5316\u3057\u3001Gemfile\u3092\u4f5c\u6210\n\n```bash\n$ cd ~\n$ mkdir testapp\n$ cd testapp\n$ bundle init\n$ vi Gemfile\n```\n\n#### gem \"rails\"\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3059\u308b\n\n```Gemfile\n# A sample Gemfile\nsource \"https://rubygems.org\"\n\ngem \"rails\"\n```\n\n#### rails\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ bundle install --path vendor/bundle\n```\n\n#### rails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\uff08mysql\u3092\u4f7f\u7528\uff09\n\n```bash\n$ bundle exec rails new . -d mysql\n```\n\n\u81ea\u52d5\u3067bundle install\u304c\u5b9f\u884c\u3055\u308c\u308b\n\u203b sprockets\u95a2\u9023\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3089\u3001Gemfile.lock\u3092\u524a\u9664\u3057\u3001\u3082\u3046\u4e00\u5ea6bundle install\u3059\u308b\n\n#### Gemfile\u3092\u7de8\u96c6\u3059\u308b\n\n```bash\n$ vi Gemfile\n```\n\n#### therubyracer\u3084\u5fc5\u8981\u306a\u7269\u3092\u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3059\u308b\n\n```Gemfile\ngem 'therubyracer',  platforms: :ruby // \u30b3\u30e1\u30f3\u30c8\u30a4\u30f3\u3059\u308b\ngem 'unicorn'\ngem 'capistrano-rails', group: :development\n```\n\n#### rails console\u3067\u8d77\u52d5\u78ba\u8a8d\uff08\u3053\u3053\u3067readline\u95a2\u9023\u306e\u30a8\u30e9\u30fc\u304c\u3067\u305f\u3089\u3001yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066ruby\u3082\u518d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u3066\u304f\u3060\u3055\u3044\uff09\n\n```bash\n$ bundle install\n$ bundle exec rails c // rails\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u8d77\u52d5\u3059\u308c\u3070\u6210\u529f\n$ bundle exec rails s\n```\n\n\u3053\u308c\u3067\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\u307e\u3067\u5b8c\u4e86\u3067\u3059\u3002iptables\u306e\u8a2d\u5b9a\u3067\u30dd\u30fc\u30c83000\u3092\u958b\u3051\u3066\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\u3064\u306a\u304c\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nmysql\u306eDB\u3092\u4f5c\u6210\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306f\u305a\u3067\u3059\u3002\n\n#### mysql\u3092\u8d77\u52d5\u3057\u3066\u3001DB\u3092\u521d\u671f\u5316\n\n```bash\n$ sudo /etc/init.d/mysqld start\n$ bundle exec rake db:create\n$ bundle exec rake db:migrate\n```\n\n\u3053\u308c\u3067Rails\u306e\u521d\u671f\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4ee5\u4e0a\u3067\u5b8c\u4e86\u3067\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-06-16 0.11.15.jpg](https://qiita-image-store.s3.amazonaws.com/0/7980/9b0521fb-f568-d8c6-bb9e-02ac920d6090.jpeg \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-06-16 0.11.15.jpg\")\n\n\n", "tags": ["CentOS", "Rails", "rbenv", "Ruby", "bundler"]}