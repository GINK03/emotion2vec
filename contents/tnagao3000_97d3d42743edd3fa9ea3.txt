{"context": "Users in Firebase Projects\u3092\u7ffb\u8a33\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u304a\u6c17\u3065\u304d\u306e\u70b9\u304c\u3042\u308c\u3070\u30b3\u30e1\u30f3\u30c8\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u3001\u95a2\u9023\u3059\u308b\u6295\u7a3f\u3078\u306e\u30ea\u30f3\u30af\u3067\u3059\u3002\n\u25a0 Firebase Authentication / Introduction\n\u25a0 Firebase Authentication / Users in Firebase Projects\n\u25a0 Firebase Authentication / Android / Manage Users\n\u25a0 Firebase Authentication / Android / Password Authentication\n\u25a0 Firebase Authentication / Android / Google Sign-In\n\u25a0 Firebase Authentication / Android / Anonymous Authentication\n\nUsers in Firebase Projects\n\nA Firebase User object represents the account of a user who has signed up to an app in your Firebase project. Apps usually have many registered users, and every app in a Firebase project shares a user database.\nA Firebase User instance is independent from a Firebase Auth instance. This means that you can have several references to different users within the same context and still call any of their methods.\n\nFirebase User\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001\u3042\u306a\u305f\u306eFirebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30a2\u30d7\u30ea\u306b\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u3057\u307e\u3059\u3002\u3000\u30a2\u30d7\u30ea\u306b\u306f\u901a\u5e38\u591a\u304f\u306e\u767b\u9332\u30e6\u30fc\u30b6\u30fc\u304c\u304a\u308a\u3001\u305d\u3057\u3066Firebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306e\u5404\u30a2\u30d7\u30ea\u306f\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002\nFirebase User\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306fFirebase Auth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u4f9d\u5b58\u3057\u307e\u305b\u3093\u3002\u3000\u3053\u308c\u306f\u3042\u306a\u305f\u304c\u540c\u4e00\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u5185\u3067\u7570\u306a\u308b\u30e6\u30fc\u30b6\u30fc\u3078\u306e\u8907\u6570\u306e\u53c2\u7167\u3092\u6301\u3066\u3001\u5f7c\u3089\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u305b\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\n\nUser properties\n\nA Firebase User has a fixed set of basic properties\u2014a unique ID, a primary email address, a name and a photo URL\u2014stored in the project's user database, that can be updated by the user (iOS, Android, web). You cannot add other properties to the Firebase User object directly; instead, you can store the additional properties in your Firebase Realtime Database.\nThe first time a user signs up to your app, the user's profile data is populated using the available information:\n\nIf the user signed up with an email address and password, only the primary email address property is populated\n\nIf the user signed up with a federated identity provider, such as Google or Facebook, the account information made available by the provider is used to populate the Firebase User's profile\n\nIf the user signed up with your custom auth system, you must explicitly add the information you want to the Firebase User's profile\n\nOnce a user account has been created, you can reload the user's information to incorporate any changes the user might have made on another device.\n\nFirebase User\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305f\u57fa\u672c\u7684\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u30bb\u30c3\u30c8(\u30e6\u30cb\u30fc\u30afID\u3001\u30d7\u30e9\u30a4\u30de\u30ea\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u540d\u524d\u3001\u5199\u771f\u306eURL)\u3092\u6301\u3063\u3066\u304a\u308a\u3001\u305d\u308c\u306f\u30e6\u30fc\u30b6\u30fc\u304c\u66f4\u65b0\u3067\u304d\u307e\u3059\u3002(iOS, Android, web)\u3000\u3042\u306a\u305f\u306fFirebase User\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u76f4\u63a5\u307b\u304b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093\u3002\u3000\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001Firebase Realtime Database\u306b\u8ffd\u52a0\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u521d\u3081\u3066\u30e6\u30fc\u30b6\u30fc\u304c\u3042\u306a\u305f\u306e\u30a2\u30d7\u30ea\u306b\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u3068\u304d\u3001\u5229\u7528\u53ef\u80fd\u306a\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u30c7\u30fc\u30bf\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\uff1a\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u96fb\u5b50\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u5834\u5408\u3001\u30d7\u30e9\u30a4\u30de\u30ea\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3060\u3051\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n\n\u30e6\u30fc\u30b6\u30fc\u304cGoogle\u3084Facebook\u306e\u3088\u3046\u306a\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u5834\u5408\u3001\u30d7\u30ed\u30d0\u30a4\u30c0\u306b\u3088\u3063\u3066\u5229\u7528\u53ef\u80fd\u306b\u306a\u3063\u305f\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u304c\u3001Firebase\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u5834\u5408\u3001\u3042\u306a\u305f\u306fFirebase\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u4f7f\u3046\u60c5\u5831\u3092\u660e\u793a\u7684\u306b\u8ffd\u52a0\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\n\u3044\u3063\u305f\u3093\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b\u3068\u3001\u3042\u306a\u305f\u306f\u30e6\u30fc\u30b6\u30fc\u304c\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u3067\u884c\u3063\u305f\u304b\u3082\u3057\u308c\u306a\u3044\u3059\u3079\u3066\u306e\u5909\u66f4\u3092\u53d6\u8fbc\u3080\u305f\u3081\u3001\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u30ea\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\n\nSign-in providers\n\nYou can sign in users to your Firebase apps using several methods: email address and password, federated identity providers, and your custom auth system. You can associate more than one sign-in method with a user: for example, a user can sign in to the same account using an email address and a password, or using Google Sign-In.\nA Firebase User instance keeps track of every provider linked to the user. This allows you to update empty profile's properties using the information given by a provider. See Managing Users (iOS, Android, web).\n\n\u3042\u306a\u305f\u306f\u3044\u304f\u3064\u304b\u306e\u65b9\u6cd5\u3067Firebase \u30a2\u30d7\u30ea\u306b\u30e6\u30fc\u30b6\u30fc\u3092\u30b5\u30a4\u30f3\u30a4\u30f3\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u3001\u304a\u3088\u3073\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002\u3000\u3042\u306a\u305f\u306f\u3001\u4e00\u4eba\u306e\u30e6\u30fc\u30b6\u30fc\u3068\u4e00\u3064\u4ee5\u4e0a\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u65b9\u6cd5\u3092\u95a2\u9023\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a\u4f8b\u3048\u3070\u3001\u4e00\u4eba\u306e\u30e6\u30fc\u30b6\u30fc\u306f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u307e\u305f\u306fGoogle\u30b5\u30a4\u30f3\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u3066\u540c\u4e00\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u51fa\u6765\u307e\u3059\u3002\nFirebase User\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u30e6\u30fc\u30b6\u30fc\u306b\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u8ffd\u8de1\u3057\u7d9a\u3051\u307e\u3059\u3002\u3000\u3053\u308c\u306b\u3088\u308a\u3001\u30d7\u30ed\u30d0\u30a4\u30c0\u306b\u3088\u3063\u3066\u5f97\u3089\u308c\u305f\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066\u3001\u7a7a\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\u3000\u30e6\u30fc\u30b6\u30fc\u306e\u7ba1\u7406\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044(iOS, Android, web)\n\nThe current user\n\nWhen a user signs up or signs in, that user becomes the current user of the Auth instance. The Firebase Auth instance persists the user's state, so that refreshing the page (in a browser) or restarting the application doesn't lose the user's information.\nWhen the user signs out, the Auth instance stops keeping a reference to the User object and no longer persists its state; there is no current user. However, the user instance continues to be completely functional: if you keep a reference to it, you can still access and update the user's data.\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u307e\u305f\u306f\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u6642\u3001\u305d\u306e\u30e6\u30fc\u30b6\u30fc\u304cAuth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\u3000Firebase Auth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u3001(\u30d6\u30e9\u30a6\u30b6\u306e)\u30da\u30fc\u30b8\u306e\u66f4\u65b0\u3084\u30a2\u30d7\u30ea\u306e\u518d\u8d77\u52d5\u3067\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u5931\u308f\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30b9\u30c6\u30fc\u30c8\u3092\u7dad\u6301\u3057\u307e\u3059\u3002\n\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u305f\u6642\u3001Auth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306fUser\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3078\u306e\u53c2\u7167\u306e\u4fdd\u6301\u3092\u3084\u3081\u3001\u3082\u306f\u3084\u305d\u306e\u30b9\u30c6\u30fc\u30c8\u3092\u7dad\u6301\u3057\u307e\u305b\u3093\uff1b\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u306f\u3044\u307e\u305b\u3093\u3002\u3000\u3057\u304b\u3057\u3001user\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u5b8c\u5168\u306b\u6a5f\u80fd\u3057\u7d9a\u3051\u307e\u3059\uff1b\u3082\u3057\u3042\u306a\u305f\u304c\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u53c2\u7167\u3092\u6301\u3063\u3066\u3044\u308c\u3070\u3001\u3042\u306a\u305f\u306f\u5f15\u304d\u7d9a\u304d\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3068\u66f4\u65b0\u304c\u51fa\u6765\u307e\u3059\u3002\n\nThe user lifecycle\n\nThe recommended way to track the current state of the Firebase Auth instance is by using listeners (also called \"observers\" in JavaScript). An Auth listener gets notified any time something relevant happens to the Auth object. See Managing Users (iOS, Android, web).\nAn auth listener gets notified in the following situations:\n\nThe Auth object finishes initializing and a user was already signed in from a previous session, or has been redirected from an identity provider's sign-in flow\n\nA user signs in (the current user is set)\n\nA user signs out (the current user becomes null)\n\n\nThe current user's access token is refreshed. This case can happen in the following conditions:\n\n\nThe access token expires: this is a common situation. The refresh token is used to get a new valid set of tokens.\n\n\nThe user changes his password: Firebase issues new access and refresh tokens and renders the old tokens expired. This automatically signs out the user on every device, for security reasons\n\n\nThe user re-authenticates: some actions require that the user's credentials are recently issued; such actions include deleting an account, setting a primary email address, and changing a password. Instead of signing out the user and then signing in the user again, get new credentials from the user, and pass the new credentials to the reauthenticate method of the User object.\n\n\n\n\nFirebase Auth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u73fe\u5728\u306e\u30b9\u30c6\u30fc\u30c8\u3092\u8ffd\u8de1\u3059\u308b\u305f\u3081\u306e\u63a8\u5968\u3055\u308c\u308b\u65b9\u6cd5\u306f\u3001\u30ea\u30b9\u30ca\u30fc(JavaScript\u3067\u306f\u30aa\u30d6\u30b6\u30fc\u30d0\u30fc)\u3092\u4f7f\u3046\u3053\u3068\u3067\u3059\u3002\u3000Auth\u30ea\u30b9\u30ca\u30fc\u306fAuth\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u95a2\u3059\u308b\u4f55\u304b\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306f\u5e38\u306b\u901a\u77e5\u3092\u53d7\u3051\u307e\u3059\u3002\u3000Managing Users\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044 (iOS, Android, web).\nauth\u30ea\u30b9\u30ca\u30fc\u306f\u6b21\u306e\u3088\u3046\u306a\u72b6\u6cc1\u3067\u901a\u77e5\u3092\u53d7\u3051\u307e\u3059\uff1a\n\nAuth\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u521d\u671f\u5316\u3092\u5b8c\u4e86\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u4ee5\u524d\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u3059\u3067\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u6e08\u304b\u3001\u307e\u305f\u306f\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u30b5\u30a4\u30f3\u30a4\u30f3 \u30d5\u30ed\u30fc\u304b\u3089\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u305f\u3002\n\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a4\u30f3(\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u30bb\u30c3\u30c8\u3055\u308c\u308b)\n\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8(\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u306fnull\u306b\u306a\u308b)\n\n\n\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u304c\u66f4\u65b0\u3055\u308c\u305f\u3002\u3053\u306e\u30b1\u30fc\u30b9\u306f\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff1a\n\n\n\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u671f\u9650\u5207\u308c\uff1a\u3053\u308c\u306f\u4e00\u822c\u7684\u306a\u72b6\u6cc1\u3067\u3059\u3002\u3000\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30c8\u30fc\u30af\u30f3\u304c\u3001\u65b0\u3057\u3044\u6709\u52b9\u306a\u30c8\u30fc\u30af\u30f3\u306e\u30bb\u30c3\u30c8\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u81ea\u8eab\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\uff1aFirebase\u306f\u65b0\u3057\u3044\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u767a\u884c\u3057\u3001\u30c8\u30fc\u30af\u30f3\u3092\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3057\u3001\u53e4\u3044\u30c8\u30fc\u30af\u30f3\u3092\u671f\u9650\u5207\u308c\u306b\u3057\u307e\u3059\u3002\u3000\u3053\u308c\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u7406\u7531\u306b\u3088\u308a\u3001\u81ea\u52d5\u3067\u3059\u3079\u3066\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u30e6\u30fc\u30b6\u30fc\u3092\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3055\u305b\u307e\u3059\u3002\n\n\n\u30e6\u30fc\u30b6\u30fc\u306e\u518d\u8a8d\u8a3c\uff1a\u3044\u304f\u3064\u304b\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u3001\u6700\u8fd1\u767a\u884c\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u8a3c\u660e\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\uff1b\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u524a\u9664\u3084\u3001\u30d7\u30e9\u30a4\u30de\u30ea\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u3084\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u306a\u3069\u3092\u542b\u3080\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u3059\u3002\u3000\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u518d\u5ea6\u30b5\u30a4\u30f3\u30a4\u30f3\u3059\u308b\u4ee3\u308f\u308a\u306b\u3001\u65b0\u3057\u3044\u8a3c\u660e\u3092\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u53d6\u5f97\u3057\u307e\u3059\u3002\u3000\u305d\u3057\u3066User\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u518d\u8a8d\u8a3c\u30e1\u30bd\u30c3\u30c9\u306b\u65b0\u3057\u3044\u8a3c\u660e\u3092\u6e21\u3057\u307e\u3059\u3002\n\n\n\n\nAuth tokens\n\nWhen you perform authentication with Firebase, there are three kinds of auth tokens you might encounter:\n\n\n\nFirebase ID tokens\nCreated by Firebase when a user signs in to a Firebase app. These tokens are signed JWTs that securely identify a user in a Firebase project. These tokens contain basic profile information for a user, including the user's ID string, which is unique to the Firebase project. Because  the integrity of ID tokens can be verified, you can send them to a backend server to identify the currently signed-in user.\n\n\n\nIdentity provider tokens\nCreated by federated identity providers, such as Google and Facebook. These tokens can have different formats, but are often OAuth 2.0 access tokens. Firebase apps use these tokens to verify that users have successfully authenticated with the identity provider, and then convert them into credentials usable by Firebase services.\n\n\nFirebase custom tokens\nCreated by your custom auth system to allow users to sign in to a Firebase app using your auth system. Custom tokens are JWTs signed using a service account's private key. Firebase apps use these tokens much like they use the tokens returned from federated identity providers.\n\n\n\nFirebase\u3067\u8a8d\u8a3c\u3092\u884c\u3046\u6642\u3001\u3042\u306a\u305f\u304c\u906d\u9047\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044auth\u30c8\u30fc\u30af\u30f3\u304c\uff13\u7a2e\u985e\u3042\u308a\u307e\u3059\uff1a\n\n\n\nFirebase ID tokens\n\u30e6\u30fc\u30b6\u30fc\u304cFirebase\u30a2\u30d7\u30ea\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u3068\u304d\u306bFirebase\u304c\u4f5c\u6210\u3002\u3000\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u306f\u78ba\u5b9f\u306bFirebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u8eab\u5143\u78ba\u8a8d\u3055\u308c\u305f\u7f72\u540d\u3055\u308c\u305fJWT\u3067\u3059\u3002\u3000\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u306fFirebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u30e6\u30cb\u30fc\u30af\u306a\u30e6\u30fc\u30b6\u30fcID\u3092\u542b\u3080\u30e6\u30fc\u30b6\u30fc\u306e\u57fa\u672c\u7684\u306a\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u60c5\u5831\u3092\u542b\u307f\u307e\u3059\u3002\u3000ID\u30c8\u30fc\u30af\u30f3\u306e\u6574\u5408\u6027\u304c\u691c\u8a3c\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3042\u306a\u305f\u306f\u73fe\u5728\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u305d\u308c\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n\nIdentity provider tokens\nGoogle\u3084Facebook\u306a\u3069\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u304c\u4f5c\u6210\u3002\u3000\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u306f\u305d\u308c\u305e\u308c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u7570\u306a\u308a\u307e\u3059\u304c\u3001\u591a\u304f\u306e\u5834\u5408\u306fOAuth2.0\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3067\u3059\u3002\u3000Firebase\u30a2\u30d7\u30ea\u306f\u30e6\u30fc\u30b6\u30fc\u304c\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u3067\u306e\u8a8d\u8a3c\u306b\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3057\u3001\u305d\u306e\u5f8c\u305d\u308c\u3089\u3092Firebase\u30b5\u30fc\u30d3\u30b9\u3067\u5229\u7528\u53ef\u80fd\u306a\u8a3c\u660e\u306b\u30b3\u30f3\u30d0\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n\nFirebase custom tokens\n\u30e6\u30fc\u30b6\u30fc\u306b\u3042\u306a\u305f\u306e\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u3066Firebase\u30a2\u30d7\u30ea\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3055\u305b\u308b\u305f\u3081\u3001\u3042\u306a\u305f\u306e\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u304c\u4f5c\u6210\u3002\u3000\u30ab\u30b9\u30bf\u30e0\u30c8\u30fc\u30af\u30f3\u306f\u3001\u30b5\u30fc\u30d3\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u79d8\u5bc6\u9375\u3092\u4f7f\u3063\u3066\u7f72\u540d\u3055\u308c\u305fJWT\u3067\u3059\u3002\u3000Firebase\u30a2\u30d7\u30ea\u306f\u3001\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u304b\u3089\u8fd4\u3055\u308c\u305f\u30c8\u30fc\u30af\u30f3\u3068\u540c\u3058\u3088\u3046\u306b\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\n[Users in Firebase Projects](https://firebase.google.com/docs/auth/users)\u3092\u7ffb\u8a33\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u304a\u6c17\u3065\u304d\u306e\u70b9\u304c\u3042\u308c\u3070\u30b3\u30e1\u30f3\u30c8\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u3001\u95a2\u9023\u3059\u308b\u6295\u7a3f\u3078\u306e\u30ea\u30f3\u30af\u3067\u3059\u3002\n\u25a0 [Firebase Authentication / Introduction](http://qiita.com/tnagao3000/items/a73023abd3ea3039975d)\n\u25a0 [**Firebase Authentication / Users in Firebase Projects**](http://qiita.com/tnagao3000/items/97d3d42743edd3fa9ea3)\n\u25a0 [Firebase Authentication / Android / Manage Users](http://qiita.com/tnagao3000/items/0c9d3d09ac3ba1600d23)\n\u25a0 [Firebase Authentication / Android / Password Authentication](http://qiita.com/tnagao3000/items/a2a36355d740738803b5)\n\u25a0 [Firebase Authentication / Android / Google Sign-In](http://qiita.com/tnagao3000/items/e602457099ee0fc8161d)\n\u25a0 [Firebase Authentication / Android / Anonymous Authentication](http://qiita.com/tnagao3000/items/b6c6a63acc8b172a6756)\n\n\n## Users in Firebase Projects \n>\nA Firebase User object represents the account of a user who has signed up to an app in your Firebase project. Apps usually have many registered users, and every app in a Firebase project shares a user database.\n>\nA Firebase User instance is independent from a Firebase Auth instance. This means that you can have several references to different users within the same context and still call any of their methods.\n\nFirebase User\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001\u3042\u306a\u305f\u306eFirebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30a2\u30d7\u30ea\u306b\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u3057\u307e\u3059\u3002\u3000\u30a2\u30d7\u30ea\u306b\u306f\u901a\u5e38\u591a\u304f\u306e\u767b\u9332\u30e6\u30fc\u30b6\u30fc\u304c\u304a\u308a\u3001\u305d\u3057\u3066Firebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306e\u5404\u30a2\u30d7\u30ea\u306f\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u5171\u6709\u3057\u3066\u3044\u307e\u3059\u3002\n\nFirebase User\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306fFirebase Auth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u4f9d\u5b58\u3057\u307e\u305b\u3093\u3002\u3000\u3053\u308c\u306f\u3042\u306a\u305f\u304c\u540c\u4e00\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u5185\u3067\u7570\u306a\u308b\u30e6\u30fc\u30b6\u30fc\u3078\u306e\u8907\u6570\u306e\u53c2\u7167\u3092\u6301\u3066\u3001\u5f7c\u3089\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u305b\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\n\n\n## User properties\n>\nA Firebase User has a fixed set of basic properties\u2014a unique ID, a primary email address, a name and a photo URL\u2014stored in the project's user database, that can be updated by the user ([iOS](https://firebase.google.com/docs/auth/ios/manage-users#update_a_users_profile), [Android](https://firebase.google.com/docs/auth/android/manage-users#update_a_users_profile), [web](https://firebase.google.com/docs/auth/web/manage-users#update_a_users_profile)). You cannot add other properties to the Firebase User object directly; instead, you can store the additional properties in your Firebase Realtime Database.\n>\nThe first time a user signs up to your app, the user's profile data is populated using the available information:\n>\n- If the user signed up with an email address and password, only the primary email address property is populated\n> <br/>\n> \n- If the user signed up with a federated identity provider, such as Google or Facebook, the account information made available by the provider is used to populate the Firebase User's profile\n> <br/>\n> \n- If the user signed up with your custom auth system, you must explicitly add the information you want to the Firebase User's profile\n>\nOnce a user account has been created, you can reload the user's information to incorporate any changes the user might have made on another device.\n\nFirebase User\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3055\u308c\u305f\u57fa\u672c\u7684\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u30bb\u30c3\u30c8(\u30e6\u30cb\u30fc\u30afID\u3001\u30d7\u30e9\u30a4\u30de\u30ea\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u540d\u524d\u3001\u5199\u771f\u306eURL)\u3092\u6301\u3063\u3066\u304a\u308a\u3001\u305d\u308c\u306f\u30e6\u30fc\u30b6\u30fc\u304c\u66f4\u65b0\u3067\u304d\u307e\u3059\u3002([iOS](https://firebase.google.com/docs/auth/ios/manage-users#update_a_users_profile), [Android](https://firebase.google.com/docs/auth/android/manage-users#update_a_users_profile), [web](https://firebase.google.com/docs/auth/web/manage-users#update_a_users_profile))\u3000\u3042\u306a\u305f\u306fFirebase User\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u76f4\u63a5\u307b\u304b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093\u3002\u3000\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001Firebase Realtime Database\u306b\u8ffd\u52a0\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u521d\u3081\u3066\u30e6\u30fc\u30b6\u30fc\u304c\u3042\u306a\u305f\u306e\u30a2\u30d7\u30ea\u306b\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u3068\u304d\u3001\u5229\u7528\u53ef\u80fd\u306a\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u30c7\u30fc\u30bf\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\uff1a\n\n- \u30e6\u30fc\u30b6\u30fc\u304c\u96fb\u5b50\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u5834\u5408\u3001\u30d7\u30e9\u30a4\u30de\u30ea\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3060\u3051\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n<br/><br/>\n- \u30e6\u30fc\u30b6\u30fc\u304cGoogle\u3084Facebook\u306e\u3088\u3046\u306a\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u5834\u5408\u3001\u30d7\u30ed\u30d0\u30a4\u30c0\u306b\u3088\u3063\u3066\u5229\u7528\u53ef\u80fd\u306b\u306a\u3063\u305f\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u304c\u3001Firebase\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n<br/><br/>\n- \u30e6\u30fc\u30b6\u30fc\u304c\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u5834\u5408\u3001\u3042\u306a\u305f\u306fFirebase\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u4f7f\u3046\u60c5\u5831\u3092\u660e\u793a\u7684\u306b\u8ffd\u52a0\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\n\u3044\u3063\u305f\u3093\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b\u3068\u3001\u3042\u306a\u305f\u306f\u30e6\u30fc\u30b6\u30fc\u304c\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u3067\u884c\u3063\u305f\u304b\u3082\u3057\u308c\u306a\u3044\u3059\u3079\u3066\u306e\u5909\u66f4\u3092\u53d6\u8fbc\u3080\u305f\u3081\u3001\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u30ea\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\n\n## Sign-in providers\n>\nYou can sign in users to your Firebase apps using several methods: email address and password, federated identity providers, and your custom auth system. You can associate more than one sign-in method with a user: for example, a user can sign in to the same account using an email address and a password, or using Google Sign-In.\n>\nA Firebase User instance keeps track of every provider linked to the user. This allows you to update empty profile's properties using the information given by a provider. See Managing Users ([iOS](https://firebase.google.com/docs/auth/ios/manage-users#get_a_users_provider-specific_profile_information), [Android](https://firebase.google.com/docs/auth/android/manage-users#get_a_users_provider-specific_profile_information), [web](https://firebase.google.com/docs/auth/web/manage-users#get_a_users_provider-specific_profile_information)).\n\n\u3042\u306a\u305f\u306f\u3044\u304f\u3064\u304b\u306e\u65b9\u6cd5\u3067Firebase \u30a2\u30d7\u30ea\u306b\u30e6\u30fc\u30b6\u30fc\u3092\u30b5\u30a4\u30f3\u30a4\u30f3\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u3001\u304a\u3088\u3073\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002\u3000\u3042\u306a\u305f\u306f\u3001\u4e00\u4eba\u306e\u30e6\u30fc\u30b6\u30fc\u3068\u4e00\u3064\u4ee5\u4e0a\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u65b9\u6cd5\u3092\u95a2\u9023\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a\u4f8b\u3048\u3070\u3001\u4e00\u4eba\u306e\u30e6\u30fc\u30b6\u30fc\u306f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u307e\u305f\u306fGoogle\u30b5\u30a4\u30f3\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u3066\u540c\u4e00\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u51fa\u6765\u307e\u3059\u3002\n\nFirebase User\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u30e6\u30fc\u30b6\u30fc\u306b\u30ea\u30f3\u30af\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u8ffd\u8de1\u3057\u7d9a\u3051\u307e\u3059\u3002\u3000\u3053\u308c\u306b\u3088\u308a\u3001\u30d7\u30ed\u30d0\u30a4\u30c0\u306b\u3088\u3063\u3066\u5f97\u3089\u308c\u305f\u60c5\u5831\u3092\u4f7f\u7528\u3057\u3066\u3001\u7a7a\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\u3000\u30e6\u30fc\u30b6\u30fc\u306e\u7ba1\u7406\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044([iOS](https://firebase.google.com/docs/auth/ios/manage-users#get_a_users_provider-specific_profile_information), [Android](https://firebase.google.com/docs/auth/android/manage-users#get_a_users_provider-specific_profile_information), [web](https://firebase.google.com/docs/auth/web/manage-users#get_a_users_provider-specific_profile_information))\n\n\n## The current user\n>\nWhen a user signs up or signs in, that user becomes the current user of the Auth instance. The Firebase Auth instance persists the user's state, so that refreshing the page (in a browser) or restarting the application doesn't lose the user's information.\n>\nWhen the user signs out, the Auth instance stops keeping a reference to the User object and no longer persists its state; there is no current user. However, the user instance continues to be completely functional: if you keep a reference to it, you can still access and update the user's data.\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u307e\u305f\u306f\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u6642\u3001\u305d\u306e\u30e6\u30fc\u30b6\u30fc\u304cAuth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\u3000Firebase Auth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u3001(\u30d6\u30e9\u30a6\u30b6\u306e)\u30da\u30fc\u30b8\u306e\u66f4\u65b0\u3084\u30a2\u30d7\u30ea\u306e\u518d\u8d77\u52d5\u3067\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u5931\u308f\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u30b9\u30c6\u30fc\u30c8\u3092\u7dad\u6301\u3057\u307e\u3059\u3002\n\n\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u305f\u6642\u3001Auth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306fUser\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3078\u306e\u53c2\u7167\u306e\u4fdd\u6301\u3092\u3084\u3081\u3001\u3082\u306f\u3084\u305d\u306e\u30b9\u30c6\u30fc\u30c8\u3092\u7dad\u6301\u3057\u307e\u305b\u3093\uff1b\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u306f\u3044\u307e\u305b\u3093\u3002\u3000\u3057\u304b\u3057\u3001user\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u5b8c\u5168\u306b\u6a5f\u80fd\u3057\u7d9a\u3051\u307e\u3059\uff1b\u3082\u3057\u3042\u306a\u305f\u304c\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3078\u306e\u53c2\u7167\u3092\u6301\u3063\u3066\u3044\u308c\u3070\u3001\u3042\u306a\u305f\u306f\u5f15\u304d\u7d9a\u304d\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3068\u66f4\u65b0\u304c\u51fa\u6765\u307e\u3059\u3002\n\n## The user lifecycle\n>\nThe recommended way to track the current state of the Firebase Auth instance is by using listeners (also called \"observers\" in JavaScript). An Auth listener gets notified any time something relevant happens to the Auth object. See Managing Users ([iOS](https://firebase.google.com/docs/auth/ios/manage-users#get_the_currently_signed-in_user), [Android](https://firebase.google.com/docs/auth/android/manage-users#get_the_currently_signed-in_user), [web](https://firebase.google.com/docs/auth/web/manage-users#get_the_currently_signed-in_user)).\n>\nAn auth listener gets notified in the following situations:\n>\n- The Auth object finishes initializing and a user was already signed in from a previous session, or has been redirected from an identity provider's sign-in flow\n> <br/>\n>\n- A user signs in (the current user is set)\n> <br/>\n>\n- A user signs out (the current user becomes null)\n> <br/>\n>\n- The current user's access token is refreshed. This case can happen in the following conditions:\n><br/>\n>\n    - The access token expires: this is a common situation. The refresh token is used to get a new valid set of tokens.\n><br/><br/>\n>\n    - The user changes his password: Firebase issues new access and refresh tokens and renders the old tokens expired. This automatically signs out the user on every device, for security reasons\n><br/><br/>\n>\n    - The user re-authenticates: some actions require that the user's credentials are recently issued; such actions include deleting an account, setting a primary email address, and changing a password. Instead of signing out the user and then signing in the user again, get new credentials from the user, and pass the new credentials to the reauthenticate method of the User object.\n\nFirebase Auth\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u73fe\u5728\u306e\u30b9\u30c6\u30fc\u30c8\u3092\u8ffd\u8de1\u3059\u308b\u305f\u3081\u306e\u63a8\u5968\u3055\u308c\u308b\u65b9\u6cd5\u306f\u3001\u30ea\u30b9\u30ca\u30fc(JavaScript\u3067\u306f\u30aa\u30d6\u30b6\u30fc\u30d0\u30fc)\u3092\u4f7f\u3046\u3053\u3068\u3067\u3059\u3002\u3000Auth\u30ea\u30b9\u30ca\u30fc\u306fAuth\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u95a2\u3059\u308b\u4f55\u304b\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306f\u5e38\u306b\u901a\u77e5\u3092\u53d7\u3051\u307e\u3059\u3002\u3000Managing Users\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044 ([iOS](https://firebase.google.com/docs/auth/ios/manage-users#get_the_currently_signed-in_user), [Android](https://firebase.google.com/docs/auth/android/manage-users#get_the_currently_signed-in_user), [web](https://firebase.google.com/docs/auth/web/manage-users#get_the_currently_signed-in_user)).\n\nauth\u30ea\u30b9\u30ca\u30fc\u306f\u6b21\u306e\u3088\u3046\u306a\u72b6\u6cc1\u3067\u901a\u77e5\u3092\u53d7\u3051\u307e\u3059\uff1a\n\n- Auth\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u521d\u671f\u5316\u3092\u5b8c\u4e86\u3057\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u4ee5\u524d\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u3059\u3067\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u6e08\u304b\u3001\u307e\u305f\u306f\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u30b5\u30a4\u30f3\u30a4\u30f3 \u30d5\u30ed\u30fc\u304b\u3089\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u305f\u3002\n<br/><br/>\n- \u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a4\u30f3(\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u30bb\u30c3\u30c8\u3055\u308c\u308b)\n<br/><br/>\n- \u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8(\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u306fnull\u306b\u306a\u308b)\n<br/><br/>\n- \u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u304c\u66f4\u65b0\u3055\u308c\u305f\u3002\u3053\u306e\u30b1\u30fc\u30b9\u306f\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff1a\n<br/><br/>\n    - \u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u671f\u9650\u5207\u308c\uff1a\u3053\u308c\u306f\u4e00\u822c\u7684\u306a\u72b6\u6cc1\u3067\u3059\u3002\u3000\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30c8\u30fc\u30af\u30f3\u304c\u3001\u65b0\u3057\u3044\u6709\u52b9\u306a\u30c8\u30fc\u30af\u30f3\u306e\u30bb\u30c3\u30c8\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n<br/><br/>\n    - \u30e6\u30fc\u30b6\u30fc\u304c\u81ea\u8eab\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\uff1aFirebase\u306f\u65b0\u3057\u3044\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u767a\u884c\u3057\u3001\u30c8\u30fc\u30af\u30f3\u3092\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3057\u3001\u53e4\u3044\u30c8\u30fc\u30af\u30f3\u3092\u671f\u9650\u5207\u308c\u306b\u3057\u307e\u3059\u3002\u3000\u3053\u308c\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a\u306e\u7406\u7531\u306b\u3088\u308a\u3001\u81ea\u52d5\u3067\u3059\u3079\u3066\u306e\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u30e6\u30fc\u30b6\u30fc\u3092\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3055\u305b\u307e\u3059\u3002\n<br/><br/>\n    - \u30e6\u30fc\u30b6\u30fc\u306e\u518d\u8a8d\u8a3c\uff1a\u3044\u304f\u3064\u304b\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306f\u3001\u6700\u8fd1\u767a\u884c\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u8a3c\u660e\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\uff1b\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u524a\u9664\u3084\u3001\u30d7\u30e9\u30a4\u30de\u30ea\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u3084\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u306a\u3069\u3092\u542b\u3080\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u3059\u3002\u3000\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3057\u3066\u518d\u5ea6\u30b5\u30a4\u30f3\u30a4\u30f3\u3059\u308b\u4ee3\u308f\u308a\u306b\u3001\u65b0\u3057\u3044\u8a3c\u660e\u3092\u30e6\u30fc\u30b6\u30fc\u304b\u3089\u53d6\u5f97\u3057\u307e\u3059\u3002\u3000\u305d\u3057\u3066User\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u518d\u8a8d\u8a3c\u30e1\u30bd\u30c3\u30c9\u306b\u65b0\u3057\u3044\u8a3c\u660e\u3092\u6e21\u3057\u307e\u3059\u3002\n\n## Auth tokens\n>\nWhen you perform authentication with Firebase, there are three kinds of auth tokens you might encounter:\n>\n<table>\n<tr><td>\nFirebase ID tokens</td><td>Created by Firebase when a user signs in to a Firebase app. These tokens are signed JWTs that securely identify a user in a Firebase project. These tokens contain basic profile information for a user, including the user's ID string, which is unique to the Firebase project. Because <a href=\"https://firebase.google.com/docs/auth/server#verify_id_tokens\"> the integrity of ID tokens can be verified</a>, you can send them to a backend server to identify the currently signed-in user.</td></tr><tr><td>\nIdentity provider tokens</td><td>Created by federated identity providers, such as Google and Facebook. These tokens can have different formats, but are often OAuth 2.0 access tokens. Firebase apps use these tokens to verify that users have successfully authenticated with the identity provider, and then convert them into credentials usable by Firebase services.</td></tr>\n<tr><td>Firebase custom tokens</td><td>Created by your custom auth system to allow users to sign in to a Firebase app using your auth system. Custom tokens are JWTs <a href=\"https://firebase.google.com/docs/auth/server#create_a_custom_token\">signed using a service account's private key</a>. Firebase apps use these tokens much like they use the tokens returned from federated identity providers.</td></tr></table>\n\n\n\n\nFirebase\u3067\u8a8d\u8a3c\u3092\u884c\u3046\u6642\u3001\u3042\u306a\u305f\u304c\u906d\u9047\u3059\u308b\u304b\u3082\u3057\u308c\u306a\u3044auth\u30c8\u30fc\u30af\u30f3\u304c\uff13\u7a2e\u985e\u3042\u308a\u307e\u3059\uff1a\n\n<table>\n<tr><td>\nFirebase ID tokens</td><td>\u30e6\u30fc\u30b6\u30fc\u304cFirebase\u30a2\u30d7\u30ea\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u305f\u3068\u304d\u306bFirebase\u304c\u4f5c\u6210\u3002\u3000\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u306f\u78ba\u5b9f\u306bFirebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u8eab\u5143\u78ba\u8a8d\u3055\u308c\u305f\u7f72\u540d\u3055\u308c\u305fJWT\u3067\u3059\u3002\u3000\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u306fFirebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u30e6\u30cb\u30fc\u30af\u306a\u30e6\u30fc\u30b6\u30fcID\u3092\u542b\u3080\u30e6\u30fc\u30b6\u30fc\u306e\u57fa\u672c\u7684\u306a\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u60c5\u5831\u3092\u542b\u307f\u307e\u3059\u3002\u3000<a href=\"https://firebase.google.com/docs/auth/server#verify_id_tokens\">ID\u30c8\u30fc\u30af\u30f3\u306e\u6574\u5408\u6027\u304c\u691c\u8a3c\u3055\u308c\u3066\u3044\u308b</a>\u306e\u3067\u3001\u3042\u306a\u305f\u306f\u73fe\u5728\u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u305d\u308c\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</td></tr><tr><td>\nIdentity provider tokens</td><td>Google\u3084Facebook\u306a\u3069\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u304c\u4f5c\u6210\u3002\u3000\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u306f\u305d\u308c\u305e\u308c\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u7570\u306a\u308a\u307e\u3059\u304c\u3001\u591a\u304f\u306e\u5834\u5408\u306fOAuth2.0\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3067\u3059\u3002\u3000Firebase\u30a2\u30d7\u30ea\u306f\u30e6\u30fc\u30b6\u30fc\u304c\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u3067\u306e\u8a8d\u8a3c\u306b\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3057\u3001\u305d\u306e\u5f8c\u305d\u308c\u3089\u3092Firebase\u30b5\u30fc\u30d3\u30b9\u3067\u5229\u7528\u53ef\u80fd\u306a\u8a3c\u660e\u306b\u30b3\u30f3\u30d0\u30fc\u30c8\u3057\u307e\u3059\u3002</td></tr>\n<tr><td>Firebase custom tokens</td><td>\u30e6\u30fc\u30b6\u30fc\u306b\u3042\u306a\u305f\u306e\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u3066Firebase\u30a2\u30d7\u30ea\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3055\u305b\u308b\u305f\u3081\u3001\u3042\u306a\u305f\u306e\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u304c\u4f5c\u6210\u3002\u3000\u30ab\u30b9\u30bf\u30e0\u30c8\u30fc\u30af\u30f3\u306f\u3001<a href=\"https://firebase.google.com/docs/auth/server#create_a_custom_token\">\u30b5\u30fc\u30d3\u30b9\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u79d8\u5bc6\u9375\u3092\u4f7f\u3063\u3066\u7f72\u540d\u3055\u308c\u305f</a>JWT\u3067\u3059\u3002\u3000Firebase\u30a2\u30d7\u30ea\u306f\u3001\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30fb\u30d7\u30ed\u30d0\u30a4\u30c0\u304b\u3089\u8fd4\u3055\u308c\u305f\u30c8\u30fc\u30af\u30f3\u3068\u540c\u3058\u3088\u3046\u306b\u3053\u308c\u3089\u306e\u30c8\u30fc\u30af\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</td></tr></table>\n\n\n\n\n\n\n\n\n", "tags": ["Android", "Firebase"]}