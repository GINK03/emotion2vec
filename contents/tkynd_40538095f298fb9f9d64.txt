{"tags": ["Ubuntu", "Ubuntu14.04"], "context": "\u5099\u5fd8\u9332: \u7406\u7531\u306e\u8aac\u660e\u3068\u304b\u306f\u3042\u307e\u308a\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\u3002\n\u30d0\u30c3\u30c6\u30ea\u30fc\u6b8b\u91cf\u304c\u4e0d\u8db3\u3059\u308b\u3068\u30af\u30e9\u30c3\u30b7\u30e5\u3059\u308b\u306e\u3067\u56f0\u3063\u3066\u3044\u305f\u3002hibernate\u304c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u306e\u306f\u3001\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002\u56f0\u3063\u305f\u3002\n\n\nsudo pm-hibernate\u3092\u5b9f\u884c\u3059\u308b\u3068\u30af\u30e9\u30c3\u30b7\u30e5\u3059\u308b\n\n\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a > \u96fb\u6e90 > \u96fb\u529b\u304c\u3072\u3069\u304f\u4f4e\u4e0b\u3057\u305f\u6642\u306e\u52d5\u4f5c\u3067\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u3092\u9078\u629e\u3067\u304d\u306a\u3044\n\u5fa9\u5e30\u5f8c\u306e\u753b\u9762\u304c\u30ed\u30c3\u30af\u3055\u308c\u3066\u306a\u3044\n\n\n\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u306b\u5931\u6557\u3059\u308b\n\u307e\u305apm-hibernate\u30b3\u30de\u30f3\u30c9\u3067\u304d\u3061\u3093\u3068\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u304c\u6a5f\u80fd\u3059\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002\u81ea\u5206\u306e\u5834\u5408\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u3066\u3001\u8d77\u52d5\u6642\u306b\"System problem detected\"\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u305f\u3002\n\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u3084\u30b9\u30ef\u30c3\u30d7\u3001\u305d\u306e\u4ed6\u8af8\u3005\u306e\u90fd\u5408\u3067\u3001\uff08\u305d\u306e\u307e\u307e\u3067\u306f\uff09\u6a5f\u80fd\u3057\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u6a21\u69d8\u3002RAM\u306e\u5185\u5bb9\u3092\u9000\u907f\u3059\u308bswap\u304c\u8db3\u308a\u306a\u3044\u3068\u3044\u3046\u306e\u304c\u3042\u308a\u304c\u3061\u3089\u3057\u3044\u304c\u3001free\u3067RAM\u3068swap\u306e\u5bb9\u91cf\u3092\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\u3001\u554f\u984c\u306a\u3044\u3002\n\u81ea\u5206\u306e\u5834\u5408\u3001\u554f\u984c\u306f/sys/power/image_size\u306b\u3042\u3063\u305f\u3002\u3053\u308c\u306f\u9000\u907f\u30a4\u30e1\u30fc\u30b8\u30b5\u30a4\u30ba\u306e\u4e0a\u9650\u3092\u898f\u5b9a\u3059\u308b\u306e\u3060\u304c\u3001\u6050\u3089\u304f\u3053\u308c\u304c\u5c0f\u3055\u304b\u3063\u305f\u3088\u3046\u3060\u3002\u5024\u30920\u306b\u3059\u308b\u3068\u6700\u9069\uff5e\u307f\u305f\u3044\u306a\u3088\u304f\u3042\u308b\u4ed5\u7d44\u307f\u306a\u306e\u3067\u3001\u3069\u3053\u304b\u306e\u30bf\u30a4\u30df\u30f3\u30b0\uff08/etc/rc.local\u306a\u3069\uff09\u3067echo 0 > /sys/power/image_size\u3092\u5b9f\u884c\u3059\u308b\u3002\u4e0a\u624b\u304f\u3044\u3063\u305f\u3002\n\n\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u3092\u6709\u52b9\u306b\u3057\u305f\u3044\n\u554f\u984c\u306a\u3051\u308c\u3070\u3001\u6a5f\u80fd\u3068\u3057\u3066\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u3001\u3044\u308d\u3044\u308d\u306a\u6240\u3067\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\u6709\u52b9\u306b\u3059\u308b\u306b\u306f/var/lib/polkit-1/localauthority/50-local.d/com.ubuntu.enable-hibernate.pkla\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u66f8\u304d\u8fbc\u3080\u3002/var/lib\u3067\u3060\u3081\u306a\u5834\u5408\u306f/etc\u306b\u3068\u3044\u3046\u60c5\u5831\u3082\u3042\u308b\u3002\u8a73\u3057\u304f\u306f\u7406\u89e3\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u30b0\u30b0\u308d\u3046\uff08\u6ca2\u5c71\u51fa\u3066\u304f\u308b\uff09\u3002\n[Re-enable hibernate by default in upower]\nIdentity=unix-user:*\nAction=org.freedesktop.upower.hibernate\nResultActive=yes\n\n[Re-enable hibernate by default in logind]\nIdentity=unix-user:*\nAction=org.freedesktop.login1.hibernate\nResultActive=yes\n\n\n\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u5fa9\u5e30\u5f8c\u306b\u30ed\u30c3\u30af\u30b9\u30af\u30ea\u30fc\u30f3\u3092\u8868\u793a\u3057\u305f\u3044\n\u3053\u3061\u3089\u306emzzzzb\u6c0f\u306e\u56de\u7b54\u3092\u53c2\u8003\u306b\u3057\u3066\u3001/etc/acpi/hibernate.sh\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u66f8\u304d\u8fbc\u3093\u3060\u3002\nif [ x$LOCK_SCREEN = xtrue ]; then\n    if pidof xscreensaver > /dev/null; then\n    for x in /tmp/.X11-unix/*; do\n        displaynum=`echo $x | sed s#/tmp/.X11-unix/X##`\n        getXuser;\n        if [ x\"$XAUTHORITY\" != x\"\" ]; then\n        export DISPLAY=\":$displaynum\"\n        . /usr/share/acpi-support/screenblank\n        fi\n    done\n    fi\nfi\n\n\u5099\u5fd8\u9332: \u7406\u7531\u306e\u8aac\u660e\u3068\u304b\u306f\u3042\u307e\u308a\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\u3002\n\n\u30d0\u30c3\u30c6\u30ea\u30fc\u6b8b\u91cf\u304c\u4e0d\u8db3\u3059\u308b\u3068\u30af\u30e9\u30c3\u30b7\u30e5\u3059\u308b\u306e\u3067\u56f0\u3063\u3066\u3044\u305f\u3002hibernate\u304c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u306e\u306f\u3001\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002\u56f0\u3063\u305f\u3002\n\n1. ``sudo pm-hibernate``\u3092\u5b9f\u884c\u3059\u308b\u3068\u30af\u30e9\u30c3\u30b7\u30e5\u3059\u308b\n2. ``\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a > \u96fb\u6e90 > \u96fb\u529b\u304c\u3072\u3069\u304f\u4f4e\u4e0b\u3057\u305f\u6642\u306e\u52d5\u4f5c``\u3067``\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8``\u3092\u9078\u629e\u3067\u304d\u306a\u3044\n3. \u5fa9\u5e30\u5f8c\u306e\u753b\u9762\u304c\u30ed\u30c3\u30af\u3055\u308c\u3066\u306a\u3044\n\n# \u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u306b\u5931\u6557\u3059\u308b\n\u307e\u305a``pm-hibernate``\u30b3\u30de\u30f3\u30c9\u3067\u304d\u3061\u3093\u3068\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u304c\u6a5f\u80fd\u3059\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002\u81ea\u5206\u306e\u5834\u5408\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u3066\u3001\u8d77\u52d5\u6642\u306b\"System problem detected\"\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u305f\u3002\n\n\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u3084\u30b9\u30ef\u30c3\u30d7\u3001\u305d\u306e\u4ed6\u8af8\u3005\u306e\u90fd\u5408\u3067\u3001\uff08\u305d\u306e\u307e\u307e\u3067\u306f\uff09\u6a5f\u80fd\u3057\u306a\u3044\u3053\u3068\u304c\u3042\u308b\u6a21\u69d8\u3002RAM\u306e\u5185\u5bb9\u3092\u9000\u907f\u3059\u308bswap\u304c\u8db3\u308a\u306a\u3044\u3068\u3044\u3046\u306e\u304c\u3042\u308a\u304c\u3061\u3089\u3057\u3044\u304c\u3001``free``\u3067RAM\u3068swap\u306e\u5bb9\u91cf\u3092\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\u3001\u554f\u984c\u306a\u3044\u3002\n\n\u81ea\u5206\u306e\u5834\u5408\u3001\u554f\u984c\u306f``/sys/power/image_size``\u306b\u3042\u3063\u305f\u3002\u3053\u308c\u306f\u9000\u907f\u30a4\u30e1\u30fc\u30b8\u30b5\u30a4\u30ba\u306e\u4e0a\u9650\u3092\u898f\u5b9a\u3059\u308b\u306e\u3060\u304c\u3001\u6050\u3089\u304f\u3053\u308c\u304c\u5c0f\u3055\u304b\u3063\u305f\u3088\u3046\u3060\u3002\u5024\u30920\u306b\u3059\u308b\u3068\u6700\u9069\uff5e\u307f\u305f\u3044\u306a\u3088\u304f\u3042\u308b\u4ed5\u7d44\u307f\u306a\u306e\u3067\u3001\u3069\u3053\u304b\u306e\u30bf\u30a4\u30df\u30f3\u30b0\uff08``/etc/rc.local``\u306a\u3069\uff09\u3067``echo 0 > /sys/power/image_size``\u3092\u5b9f\u884c\u3059\u308b\u3002\u4e0a\u624b\u304f\u3044\u3063\u305f\u3002\n\n# \u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u3092\u6709\u52b9\u306b\u3057\u305f\u3044\n\u554f\u984c\u306a\u3051\u308c\u3070\u3001\u6a5f\u80fd\u3068\u3057\u3066\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u3092\u6709\u52b9\u306b\u3059\u308b\u3068\u3001\u3044\u308d\u3044\u308d\u306a\u6240\u3067\u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\u6709\u52b9\u306b\u3059\u308b\u306b\u306f``/var/lib/polkit-1/localauthority/50-local.d/com.ubuntu.enable-hibernate.pkla``\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u66f8\u304d\u8fbc\u3080\u3002``/var/lib``\u3067\u3060\u3081\u306a\u5834\u5408\u306f``/etc``\u306b\u3068\u3044\u3046\u60c5\u5831\u3082\u3042\u308b\u3002\u8a73\u3057\u304f\u306f\u7406\u89e3\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u30b0\u30b0\u308d\u3046\uff08\u6ca2\u5c71\u51fa\u3066\u304f\u308b\uff09\u3002\n\n```\n[Re-enable hibernate by default in upower]\nIdentity=unix-user:*\nAction=org.freedesktop.upower.hibernate\nResultActive=yes\n\n[Re-enable hibernate by default in logind]\nIdentity=unix-user:*\nAction=org.freedesktop.login1.hibernate\nResultActive=yes\n```\n\n\n# \u30cf\u30a4\u30d0\u30fc\u30cd\u30fc\u30c8\u5fa9\u5e30\u5f8c\u306b\u30ed\u30c3\u30af\u30b9\u30af\u30ea\u30fc\u30f3\u3092\u8868\u793a\u3057\u305f\u3044\n[\u3053\u3061\u3089](http://askubuntu.com/questions/148690)\u306emzzzzb\u6c0f\u306e\u56de\u7b54\u3092\u53c2\u8003\u306b\u3057\u3066\u3001``/etc/acpi/hibernate.sh``\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u66f8\u304d\u8fbc\u3093\u3060\u3002\n\n```\nif [ x$LOCK_SCREEN = xtrue ]; then\n    if pidof xscreensaver > /dev/null; then\n    for x in /tmp/.X11-unix/*; do\n        displaynum=`echo $x | sed s#/tmp/.X11-unix/X##`\n        getXuser;\n        if [ x\"$XAUTHORITY\" != x\"\" ]; then\n        export DISPLAY=\":$displaynum\"\n        . /usr/share/acpi-support/screenblank\n        fi\n    done\n    fi\nfi\n```\n\n"}