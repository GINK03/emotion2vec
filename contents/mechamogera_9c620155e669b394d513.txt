{"context": " More than 1 year has passed since last update.Sinatra\u3068\u304b\u3067\u3044\u3064\u3082\u5fd8\u308c\u308b\u306e\u3067\u30e1\u30e2\nRack::Request\u306eenv\u306e\u4ed5\u69d8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308b\n\n\nRack\u306eEnvironment\u306b\u3088\u308b\u3068HTTP_\u3067\u59cb\u307e\u308b\u5024\u304cHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0\n\u5f62\u5f0f\u3068\u3057\u3066\u306fRFC 3875 - The Common Gateway Interface (CGI) Version 1.1\u306b\u6e96\u62e0\u3057\u3066\u3044\u308b\n\n\nHTTP \u30d8\u30c3\u30c0\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u304c\u5927\u6587\u5b57\u306b\u5909\u63db\u3055\u308c\u3001\u5b58\u5728\u3059\u308b\u5168\u3066\u306e \"-\" \u304c \"\" \u306b\u7f6e\u63db\u3055\u308c\u3001\u5148\u982d\u306b \"HTTP\" \u304c\u4e0e\u3048\u3089\u308c\u308b\n\n\n\n\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u30c0\u30f3\u30d7\u51fa\u6765\u308b(\u4eba\u9593\u304c\u308f\u304b\u308c\u3070\u826f\u3051\u308c\u30701\u884c\u76ee\u3092p\u3059\u308b\u3060\u3051\u3067\u3082\u826f\u3055\u305d\u3046)\nhttp_headers = request.env.select { |k, v| k.start_with?('HTTP_') }\nheaders = http_headers.inject({}) do |a, (k, v)|\n  a[k.sub(/^HTTP_/, \"\").downcase.gsub(/(^|_)\\w/) { |word| word.upcase }.gsub(\"_\", \"-\") ] = v\n  a\nend\nputs headers.to_a.map { |v| v.join(\": \") }.join(\"\\n\")\n\n\n\u53c2\u7167URL\n\nruby - Rack::Request - how do I get all headers? - Stack Overflow\n\nSinatra\u3068\u304b\u3067\u3044\u3064\u3082\u5fd8\u308c\u308b\u306e\u3067\u30e1\u30e2\n\n\nRack::Request\u306eenv\u306e\u4ed5\u69d8\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308b\n\n * [Rack\u306eEnvironment](http://rack.rubyforge.org/doc/SPEC.html)\u306b\u3088\u308b\u3068HTTP_\u3067\u59cb\u307e\u308b\u5024\u304cHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u30d8\u30c3\u30c0\n * \u5f62\u5f0f\u3068\u3057\u3066\u306f[RFC 3875 - The Common Gateway Interface (CGI) Version 1.1](https://tools.ietf.org/html/rfc3875#section-4.1.18)\u306b\u6e96\u62e0\u3057\u3066\u3044\u308b\n  * HTTP \u30d8\u30c3\u30c0\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u304c\u5927\u6587\u5b57\u306b\u5909\u63db\u3055\u308c\u3001\u5b58\u5728\u3059\u308b\u5168\u3066\u306e \"-\" \u304c \"_\" \u306b\u7f6e\u63db\u3055\u308c\u3001\u5148\u982d\u306b \"HTTP_\" \u304c\u4e0e\u3048\u3089\u308c\u308b\n\n\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u30c0\u30f3\u30d7\u51fa\u6765\u308b(\u4eba\u9593\u304c\u308f\u304b\u308c\u3070\u826f\u3051\u308c\u30701\u884c\u76ee\u3092p\u3059\u308b\u3060\u3051\u3067\u3082\u826f\u3055\u305d\u3046)\n\n```rb\nhttp_headers = request.env.select { |k, v| k.start_with?('HTTP_') }\nheaders = http_headers.inject({}) do |a, (k, v)|\n  a[k.sub(/^HTTP_/, \"\").downcase.gsub(/(^|_)\\w/) { |word| word.upcase }.gsub(\"_\", \"-\") ] = v\n  a\nend\nputs headers.to_a.map { |v| v.join(\": \") }.join(\"\\n\")\n```\n\n## \u53c2\u7167URL\n * [ruby - Rack::Request - how do I get all headers? - Stack Overflow](http://stackoverflow.com/questions/6317705/rackrequest-how-do-i-get-all-headers)", "tags": ["Ruby", "rack"]}