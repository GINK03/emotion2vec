{"context": " More than 1 year has passed since last update.\n\n\u3053\u3068\u306e\u3042\u3089\u307e\u3057\n\nRails\u3067MeCab\u304c\u4f7f\u3044\u305f\u3044\nMeCab\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\uff0cnatto\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\n\n\nsudo apt-get install mecab mecab-ipadic-utf8\ngem install natto\n\n\n\u74b0\u5883\u5909\u6570MECAB_PATH\u3092\u8a2d\u5b9a\u3057\u305f\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\uff0cirb\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u305f\n\nrails c\u3059\u308b\u3068\uff0cLoadError\u3067\u30a2\u30dc\u30f3\n\n\n/usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:58:in `rescue in find_library': Please set MECAB_PATH to the full path to libmecab.so (LoadError)\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:48:in `find_library'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:64:in `<module:Binding>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:6:in `<module:Natto>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:2:in `<top (required)>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/natto.rb:2:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/natto.rb:2:in `<top (required)>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto.rb:2:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto.rb:2:in `<top (required)>'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:76:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:76:in `block (2 levels) in require'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:72:in `each'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:72:in `block in require'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:61:in `each'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:61:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler.rb:134:in `require'\n        from /home/ubuntu/workspace/config/application.rb:7:in `<top (required)>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:82:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:82:in `preload'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:143:in `serve'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:131:in `block in run'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:125:in `loop'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:125:in `run'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application/boot.rb:18:in `<top (required)>'\n        from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from -e:1:in `<main>'\n\n\n\u30a8\u30e9\u30fc\u30ed\u30b0\u304b\u3089\uff0c\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4ed8\u8fd1\u3092\u78ba\u8a8d\u3059\u308b\n\nnatto\u306eGitHub\u30ea\u30dd\u30b8\u30c8\u30ea\nbinding.rg\u306e58\u884c\u76ee\u4ed8\u8fd1\u3092\u78ba\u8a8d\u3059\u308b\n\n          require 'open3'\n          if host_os =~ /darwin/i\n            ext = 'dylib'\n          else\n            ext = 'so'\n          end\n\n          begin\n            base, lib = nil, nil\n            cmd = 'mecab-config --libs'\n            Open3.popen3(cmd) do |stdin,stdout,stderr|\n              toks = stdout.read.split\n              base = toks[0][2..-1]\n              lib  = toks[1][2..-1]\n            end\n            File.absolute_path(File.join(base, \"lib#{lib}.#{ext}\"))\n          rescue\n            raise LoadError, \"Please set #{MECAB_PATH} to the full path to libmecab.#{ext}\"\n          end\n\n\n\nmecab-config \u30b3\u30de\u30f3\u30c9\u304c\u5fc5\u8981\u3063\u307d\u3044\uff1f\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nsudo apt-get install libmecab-dev\n\n\n\nrails c\u304c\u52d5\u304f\n\n\n\n\u6240\u611f\n\n\nbinding.rb\u306e23\u884c\u76ee\n\u306eif\u6587\u3067else\u30d6\u30ed\u30c3\u30af\u306e\u307b\u3046\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u7406\u7531\u304c\u8b0e\u3044\n\n      if ENV[MECAB_PATH]\n        File.absolute_path(ENV[MECAB_PATH])\n      else\n\n\n\nMECAB_PATH\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u3066\uff0c\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u304a\u3088\u3073irb\u304b\u3089\u306f\u6b63\u5e38\u306b\u8aad\u307f\u8fbc\u3081\u3066\u3044\u308b\u306e\u306b\uff0crails c\u306e\u5834\u5408\u3060\u3051\u30a8\u30e9\u30fc\u306b\u306a\u308b\u7406\u7531\u304c\u308f\u304b\u3089\u306a\u3044\n\n\n\u7d50\u8ad6\n\nRuby on Rails\u306eConsole\u306e\u6319\u52d5\u304c\u308f\u304b\u3089\u306a\u3044\u2190\n\nReferences\n\nhttp://yatta47.hateblo.jp/entry/2015/12/13/140934\nhttp://yatta47.hateblo.jp/entry/2015/12/13/150525\n\n# \u3053\u3068\u306e\u3042\u3089\u307e\u3057\n\n- Rails\u3067MeCab\u304c\u4f7f\u3044\u305f\u3044\n- MeCab\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\uff0cnatto\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\n    - `sudo apt-get install mecab mecab-ipadic-utf8`\n    - `gem install natto`\n- \u74b0\u5883\u5909\u6570`MECAB_PATH`\u3092\u8a2d\u5b9a\u3057\u305f\n- \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\uff0cirb\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u305f\n- **`rails c`\u3059\u308b\u3068\uff0cLoadError\u3067\u30a2\u30dc\u30f3**:trollface:\n\n```\n/usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:58:in `rescue in find_library': Please set MECAB_PATH to the full path to libmecab.so (LoadError)\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:48:in `find_library'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:64:in `<module:Binding>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:6:in `<module:Natto>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/binding.rb:2:in `<top (required)>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/natto.rb:2:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto/natto.rb:2:in `<top (required)>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto.rb:2:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/natto-1.1.0/lib/natto.rb:2:in `<top (required)>'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:76:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:76:in `block (2 levels) in require'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:72:in `each'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:72:in `block in require'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:61:in `each'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler/runtime.rb:61:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1@global/gems/bundler-1.8.4/lib/bundler.rb:134:in `require'\n        from /home/ubuntu/workspace/config/application.rb:7:in `<top (required)>'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:82:in `require'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:82:in `preload'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:143:in `serve'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:131:in `block in run'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:125:in `loop'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application.rb:125:in `run'\n        from /usr/local/rvm/gems/ruby-2.2.1/gems/spring-1.4.0/lib/spring/application/boot.rb:18:in `<top (required)>'\n        from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /usr/local/rvm/rubies/ruby-2.2.1/lib/ruby/site_ruby/2.2.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from -e:1:in `<main>'\n```\n\n# \u30a8\u30e9\u30fc\u30ed\u30b0\u304b\u3089\uff0c\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u4ed8\u8fd1\u3092\u78ba\u8a8d\u3059\u308b\n- [natto\u306eGitHub\u30ea\u30dd\u30b8\u30c8\u30ea](https://github.com/buruzaemon/natto)\n- [binding.rg\u306e58\u884c\u76ee\u4ed8\u8fd1\u3092\u78ba\u8a8d\u3059\u308b](https://github.com/buruzaemon/natto/blob/master/lib/natto/binding.rb#L41)\n\n```rb\n          require 'open3'\n          if host_os =~ /darwin/i\n            ext = 'dylib'\n          else\n            ext = 'so'\n          end\n\n          begin\n            base, lib = nil, nil\n            cmd = 'mecab-config --libs'\n            Open3.popen3(cmd) do |stdin,stdout,stderr|\n              toks = stdout.read.split\n              base = toks[0][2..-1]\n              lib  = toks[1][2..-1]\n            end\n            File.absolute_path(File.join(base, \"lib#{lib}.#{ext}\"))\n          rescue\n            raise LoadError, \"Please set #{MECAB_PATH} to the full path to libmecab.#{ext}\"\n          end\n```\n\n- `mecab-config` \u30b3\u30de\u30f3\u30c9\u304c\u5fc5\u8981\u3063\u307d\u3044\uff1f\n    - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n    - `sudo apt-get install libmecab-dev`\n- **`rails c`\u304c\u52d5\u304f**:innocent:\n\n# \u6240\u611f\n- [binding.rb\u306e23\u884c\u76ee](https://github.com/buruzaemon/natto/blob/master/lib/natto/binding.rb#L23)\n\u306e`if`\u6587\u3067`else`\u30d6\u30ed\u30c3\u30af\u306e\u307b\u3046\u304c\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u7406\u7531\u304c\u8b0e\u3044\n\n```rb\n      if ENV[MECAB_PATH]\n        File.absolute_path(ENV[MECAB_PATH])\n      else\n```\n- `MECAB_PATH`\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u3066\uff0c\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u304a\u3088\u3073irb\u304b\u3089\u306f\u6b63\u5e38\u306b\u8aad\u307f\u8fbc\u3081\u3066\u3044\u308b\u306e\u306b\uff0c`rails c`\u306e\u5834\u5408\u3060\u3051\u30a8\u30e9\u30fc\u306b\u306a\u308b\u7406\u7531\u304c\u308f\u304b\u3089\u306a\u3044\n\n# \u7d50\u8ad6\n## Ruby on Rails\u306eConsole\u306e\u6319\u52d5\u304c\u308f\u304b\u3089\u306a\u3044\u2190\n\n# References\n- [http://yatta47.hateblo.jp/entry/2015/12/13/140934](http://yatta47.hateblo.jp/entry/2015/12/13/140934)\n- [http://yatta47.hateblo.jp/entry/2015/12/13/150525](http://yatta47.hateblo.jp/entry/2015/12/13/150525)\n", "tags": ["RubyOnRails", "mecab"]}