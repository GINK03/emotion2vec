{"context": "4/13 2:00\u9803\u306bFacebook\u306e\u300cMessenger Platform \u1d2e\u1d31\u1d40\u1d2c\u300d\u304c\u516c\u958b\u3055\u308c\u305f\u3068\u805e\u3044\u3066\u3068\u308a\u3042\u3048\u305a\u52e2\u3044\u3067API\u3092\u5168\u3066\u8a66\u3057\u3066\u307f\u305f\u3002\n\n\u3061\u306a\u307f\u306b\u300cNo ads or promotions\u300d\u3063\u3066\u4e8b\u3067\u5e83\u544a\u3068\u304b\u30d7\u30ed\u30e2\u30fc\u30b7\u30e7\u30f3\u306b\u306f\u4f7f\u3063\u3066\u306f\u30c0\u30e1\u3088\u30fc\u3063\u3066\u611f\u3058\u3089\u3057\u3044\u3002\n\u307e\u305a\u306fMessenger Platform\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u78ba\u8a8d\u3057\u3001LINE BOT API\u3068\u3067\u304d\u308b\u4e8b\u3092\u6bd4\u8f03\u3057\u3066\u307f\u305f\u3002\uff08\u53c2\u8003\uff1aLINE BOT API Trial\u3067\u3067\u304d\u308b\u5168\u3066\u306e\u4e8b\u3092\u8a66\u3057\u3066\u307f\u305f \uff09\n\nFacebook Messenger Platform\u3067\u3067\u304d\u308b\u4e8b\uff08LINE BOT API\u3068\u306e\u6bd4\u8f03\uff09\n\n\n\n\u3067\u304d\u308b\u4e8b\n\nFacebook Messenger API\nLINE BOT API\n\u5099\u8003\n\n\n\n\n\u30c6\u30ad\u30b9\u30c8\u9001\u4fe1\n\n\n\n\n\n\n\u753b\u50cf\u9001\u4fe1\n\n\n\n\n\n\n\u52d5\u753b\u9001\u4fe1\n\n\u00d7\n\n\n\n\n\u97f3\u58f0\u9001\u4fe1\n\n\u00d7\n\n\n\n\n\u5834\u6240\u9001\u4fe1\n\n\u00d7\n\n\n\n\n\u30b9\u30bf\u30f3\u30d7\u9001\u4fe1\n\n\u00d7\n\n\n\n\n\u30ea\u30c3\u30c1\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\n\u753b\u50cf+\u753b\u50cf\u30bf\u30c3\u30d7\u6642\u306eURL\n\u00d7\n\n\u753b\u50cf\u306b\u30ea\u30f3\u30af\u304c\u8a2d\u5b9a\u3067\u304d\u308b\u3002\n\n\n\nButton template\uff08\u30c6\u30ad\u30b9\u30c8+\u30dc\u30bf\u30f3\uff09\n\n\u00d7\n\u30dc\u30bf\u30f3\u306f\u6700\u59273\u3064\u3002\u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u306f2\u30d1\u30bf\u30fc\u30f3\uff08web\u3078\u306e\u30ea\u30f3\u30af\u3001\u3082\u3057\u304f\u306fpostback\u3068\u3044\u3063\u3066\u518d\u5ea6\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u547c\u3070\u305b\u308b\u3082\u306e\uff09\n\n\n\nGeneral template\uff08\u753b\u50cf+\u30c6\u30ad\u30b9\u30c8\uff0b\u30dc\u30bf\u30f3\uff09\n\n\u00d7\n\u30dc\u30bf\u30f3\u306f\u6700\u59273\u3064\u3002\u753b\u50cf\u306f\u6700\u592710\u500b\uff08\u6a2a\u30b9\u30af\u30ed\u30fc\u30eb\u8868\u793a\uff09\u3002\u203b\u30dc\u30bf\u30f3\u306e\u8aac\u660e\u306f\u540c\u4e0a\n\n\n\nReceipt template\uff08\u9818\u53ce\u66f8\uff09\n\n\u00d7\n\n\n\n\u30e6\u30fc\u30b6\u60c5\u5831\u53d6\u5f97\n\u540d\u524d\n\u25cb\n\u25cb\n\n\n\n\n\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cfURL\n\u25cb\n\u25cb\n\n\n\n\n\u30b9\u30c6\u30fc\u30bf\u30b9\u30e1\u30c3\u30bb\u30fc\u30b8\n\u25cb\n\u00d7\n\n\n\n\nFacebook\u30e1\u30c3\u30bb\u30f3\u30b8\u30e3\u30fc\u306e\u65b9\u304c\u30ea\u30c3\u30c1\u30e1\u30c3\u30bb\u30fc\u30b8\u7cfb\uff08Facebook\u3067\u306f\u69cb\u9020\u5316\u30c6\u30ad\u30b9\u30c8\u3068\u547c\u3070\u308c\u3066\u3044\u308b\uff09\u304c\u5145\u5b9f\u3057\u3066\u3044\u308b\u3002\u305d\u306e\u5909\u308f\u308aLINE\u3067\u306f\u52d5\u753b\u3001\u97f3\u58f0\u3001\u5834\u6240\u3001\u30b9\u30bf\u30f3\u30d7\u3001\u9023\u7d61\u5148\u304c\u9001\u4fe1\u3067\u304d\u308b\u3002\n\u305f\u3060\u500b\u4eba\u7684\u306b\u306f\u52d5\u753b\u3001\u97f3\u58f0\u3001\u5834\u6240\u306fYoutube\u3001SoundCloud\u3001Google Map\u7b49\u306e\u5225\u30b5\u30fc\u30d3\u30b9\u306eURL\u3092\u9001\u4fe1\u3059\u308c\u3070\u826f\u3044\u3068\u601d\u3063\u3066\u3044\u308b\u306e\u3067\u3042\u307e\u308a\u5229\u7528\u983b\u5ea6\u306f\u5c11\u306a\u3044\u304b\u306a\u3068\u601d\u3063\u3066\u308b\u3002\n\u30e6\u30fc\u30b6\u76ee\u7dda\u3067\u307e\u305a\u4f53\u611f\u3057\u305f\u3044\u65b9\u306f\u4ee5\u4e0b\u306e\u30a2\u30d7\u30ea\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u3057\u3066\u307f\u308b\u3068\u826f\u3044\u304b\u3082\u3002\nShop Spring\nCNN\n\u307e\u305fLINE\u3068\u306e\u5927\u304d\u306a\u9055\u3044\u3068\u3057\u3066\u3001LINE\u306eBOT\u306f1\u30a2\u30ab\u30a6\u30f3\u30c8\u30671\u3064\u306e\u30dc\u30c3\u30c8\uff08\u30c1\u30e3\u30f3\u30cd\u30eb\uff09\u3057\u304b\u4f5c\u308c\u306a\u3044\u304c\u3001Facebook\u306f1\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8907\u6570\u306e\u30dc\u30c3\u30c8\uff08\u30a2\u30d7\u30ea\uff09\u304c\u4f5c\u6210\u3067\u304d\u308b\u3002\n\nAPI\u3092\u5b9f\u88c5\u3057\u3066\u307f\u305f\n\n\u30c6\u30ad\u30b9\u30c8\u9001\u4fe1\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"text\":\"hello, world!\"\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    error_log(\"api_get_message_content_request start\");\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n\n\n\u753b\u50cf\u9001\u4fe1\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"attachment\":{\n            \"type\":\"image\",\n            \"payload\":{\n                \"url\":\"[\u753b\u50cfURL]\"\n            }\n        }\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    error_log(\"api_get_message_content_request start\");\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n\n\nButton template\uff08\u30c6\u30ad\u30b9\u30c8+\u30dc\u30bf\u30f3\uff09\u9001\u4fe1\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\nerror_log($json_string);\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"attachment\":{\n            \"type\":\"template\",\n            \"payload\":{\n                \"template_type\":\"button\",\n                \"text\":\"What do you want to do next?\",\n                \"buttons\":[\n                    {\n                        \"type\":\"web_url\",\n                        \"url\":\"https://messengerplatform.fb.com\",\n                        \"title\":\"Show Website\"\n                    },\n                    {\n                        \"type\":\"postback\",\n                        \"title\":\"Start Chatting\",\n                        \"payload\":\"USER_DEFINED_PAYLOAD\"\n                    }\n                ]\n            }\n        }\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n\n\nGeneral template\uff08\u753b\u50cf+\u30c6\u30ad\u30b9\u30c8\uff0b\u30dc\u30bf\u30f3\uff09\u9001\u4fe1\n<?php\nerror_log('fbdev callback!');\n\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\nerror_log($json_string);\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"attachment\":{\n            \"type\":\"template\",\n            \"payload\":{\n                \"template_type\":\"generic\",\n                \"elements\":[\n                    {\n                        \"title\":\"Classic White T-Shirt\",\n                        \"image_url\":\"[\u753b\u50cfURL]\",\n                        \"subtitle\":\"Soft white cotton t-shirt is back in style\",\n                        \"buttons\":[\n                            {\n                                \"type\":\"web_url\",\n                                \"url\":\"https://messengerplatform.fb.com\",\n                                \"title\":\"View Item\"\n                            },\n                            {\n                                \"type\":\"web_url\",\n                                \"url\":\"https://developers.facebook.com/docs/messenger-platform\",\n                                \"title\":\"Buy Item\"\n                            },\n                            {\n                                \"type\":\"postback\",\n                                \"title\":\"Bookmark Item\",\n                                \"payload\":\"USER_DEFINED_PAYLOAD_FOR_ITEM100\"\n                            }                            \n                        ]\n                    },\n                    {\n                        \"title\":\"Classic Grey T-Shirt\",\n                        \"image_url\":\"[\u753b\u50cfURL]\",\n                        \"subtitle\":\"Soft gray cotton t-shirt is back in style\",\n                        \"buttons\":[\n                            {\n                                \"type\":\"web_url\",\n                                \"url\":\"https://messengerplatform.fb.com\",\n                                \"title\":\"View Item\"\n                            },\n                            {\n                                \"type\":\"web_url\",\n                                \"url\":\"https://developers.facebook.com/docs/messenger-platform\",\n                                \"title\":\"Buy Item\"\n                            },\n                            {\n                                \"type\":\"postback\",\n                                \"title\":\"Bookmark Item\",\n                                \"payload\":\"USER_DEFINED_PAYLOAD_FOR_ITEM101\"\n                            }                            \n                        ]\n                    }\n                ]\n            }\n        }\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n\n\n\u9818\u53ce\u66f8\u9001\u4fe1\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\nerror_log($json_string);\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"attachment\":{\n            \"type\":\"template\",\n            \"payload\":{\n                \"template_type\":\"receipt\",\n                \"recipient_name\":\"Stephane Crozatier\",\n                \"order_number\":\"12345678902\",\n                \"currency\":\"USD\",\n                \"payment_method\":\"Visa 2345\",                \n                \"order_url\":\"https://messengerplatform.fb.com\",\n                \"timestamp\":\"1428444852\", \n                \"elements\":[\n                    {\n                        \"title\":\"Classic White T-Shirt\",\n                        \"subtitle\":\"100% Soft and Luxurious Cotton\",\n                        \"quantity\":2,\n                        \"price\":50,\n                        \"currency\":\"USD\",\n                        \"image_url\":\"[\u753b\u50cfURL]\"\n                    },\n                    {\n                        \"title\":\"Classic Gray T-Shirt\",\n                        \"subtitle\":\"100% Soft and Luxurious Cotton\",\n                        \"quantity\":1,\n                        \"price\":25,\n                        \"currency\":\"USD\",\n                        \"image_url\":\"[\u753b\u50cfURL]\"\n                    }\n                ],\n                \"address\":{\n                    \"street_1\":\"1 Hacker Way\",\n                    \"street_2\":\"\",\n                    \"city\":\"Menlo Park\",\n                    \"postal_code\":\"94025\",\n                    \"state\":\"CA\",\n                    \"country\":\"US\"\n                },\n                \"summary\":{\n                    \"subtotal\":75.00,\n                    \"shipping_cost\":4.95,\n                    \"total_tax\":6.19,\n                    \"total_cost\":56.14\n                },\n                \"adjustments\":[\n                    {\n                        \"name\":\"New Customer Discount\",\n                        \"amount\":20\n                    },\n                    {\n                        \"name\":\"$10 Off Coupon\",\n                        \"amount\":10\n                    }\n                ]\n            }\n        }\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n\n\n\u30a6\u30a7\u30eb\u30ab\u30e0\u30e1\u30c3\u30bb\u30fc\u30b8\u8a2d\u5b9a\n\u5b9f\u306f\u3053\u308c\u3060\u3051\u78ba\u8a8d\u3067\u304d\u3066\u3044\u306a\u3044\u3002\n\u8a2d\u5b9a\u307e\u3067\u306fFacebook\u304b\u3089\u306e Successfully added new_thread's CTAs \u3068\u3044\u3046\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u78ba\u8a8d\u3002\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n$page_id = \"[Facebook\u30da\u30fc\u30b8ID]\";\n\n$post = <<< EOM\n{\n  \"setting_type\":\"call_to_actions\",\n  \"thread_state\":\"new_thread\",\n  \"call_to_actions\":[\n    {\n      \"message\":{\n        \"text\":\"Welcome to My Company!\"\n      }\n    }\n  ]\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_welcome_message_request($access_token, $page_id, $post);\n\nfunction api_send_welcome_message_request($access_token, $page_id, $post) {\n    $url = \"https://graph.facebook.com/v2.6/{$page_id}/thread_settings?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n\n\n\u30e6\u30fc\u30b6\u60c5\u5831\u53d6\u5f97\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n// \u30e6\u30fc\u30b6\u60c5\u5831\u53d6\u5f97\napi_get_user_profile_request($access_token, $from_user_id);\n\nfunction api_get_user_profile_request($access_token, $from_user_id) {\n    $url = \"https://graph.facebook.com/v2.6/{$from_user_id}?fields=first_name,last_name,profile_pic&access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n\n\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306ePOST\u30c7\u30fc\u30bf\u306e\u69cb\u9020\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u9001\u4fe1\u3055\u308c\u3066\u304f\u308bPOST\u30c7\u30fc\u30bf\u306e\u69cb\u9020\u306fWebhook Reference\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3002\n{\n    \"object\":\"page\",\n    \"entry\":[\n        {\n            \"id\":000000000000000,\n            \"time\":1460507400109,\n            \"messaging\":[\n                {\n                    \"sender\":{\"id\":0000000000000000},\n                    \"recipient\":{\"id\":000000000000000},\n                    \"timestamp\":1460507400025,\n                    \"message\":\n                    {\n                        \"mid\":\"mid.0000000000000:xxxxxxxxxxxxxxxxxx\",\n                        \"seq\":5,\n                        \"text\":\"\\\\u30c6\\\\u30b9\\\\u30c8\"\n                    }\n                }\n            ]\n        }\n    ]\n}\n\n\u3061\u306a\u307f\u306b\u30dc\u30bf\u30f3\u30bf\u30c3\u30d7\u306b\u3088\u308apostback\u3055\u308c\u305f\u5834\u5408\u306f\u3053\u3093\u306aPOST\u304c\u3055\u308c\u3066\u304f\u308b\u3002\n{\n    \"object\":\"page\",\n    \"entry\":[\n        {\n            \"id\":000000000000000,\n            \"time\":1460548408088,\n            \"messaging\":[\n                {\n                    \"sender\":{\"id\":0000000000000000},\n                    \"recipient\":{\"id\":000000000000000},\n                    \"timestamp\":1460548408088,\n                    \"postback\":{\"payload\":\"USER_DEFINED_PAYLOAD_FOR_ITEM100\"}\n                }\n            ]\n        }\n    ]\n}\n\n4/13 2:00\u9803\u306bFacebook\u306e\u300c[Messenger Platform \u1d2e\u1d31\u1d40\u1d2c](https://messengerplatform.fb.com)\u300d\u304c\u516c\u958b\u3055\u308c\u305f\u3068\u805e\u3044\u3066\u3068\u308a\u3042\u3048\u305a\u52e2\u3044\u3067API\u3092\u5168\u3066\u8a66\u3057\u3066\u307f\u305f\u3002\n\n\n![Messenger.png](https://qiita-image-store.s3.amazonaws.com/0/39177/cef56588-7443-8d4c-bbcb-12c4e15fcebb.png)\n\n\n\n\u3061\u306a\u307f\u306b\u300cNo ads or promotions\u300d\u3063\u3066\u4e8b\u3067\u5e83\u544a\u3068\u304b\u30d7\u30ed\u30e2\u30fc\u30b7\u30e7\u30f3\u306b\u306f\u4f7f\u3063\u3066\u306f\u30c0\u30e1\u3088\u30fc\u3063\u3066\u611f\u3058\u3089\u3057\u3044\u3002\n\n\u307e\u305a\u306f[Messenger Platform\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://developers.facebook.com/docs/messenger-platform)\u3092\u78ba\u8a8d\u3057\u3001LINE BOT API\u3068\u3067\u304d\u308b\u4e8b\u3092\u6bd4\u8f03\u3057\u3066\u307f\u305f\u3002\uff08\u53c2\u8003\uff1a[LINE BOT API Trial\u3067\u3067\u304d\u308b\u5168\u3066\u306e\u4e8b\u3092\u8a66\u3057\u3066\u307f\u305f](http://qiita.com/betchi/items/8e5417dbf20a62f2239d) \uff09\n\n\n\n## Facebook Messenger Platform\u3067\u3067\u304d\u308b\u4e8b\uff08LINE BOT API\u3068\u306e\u6bd4\u8f03\uff09\n\n| \u3067\u304d\u308b\u4e8b || Facebook Messenger API | LINE BOT API | \u5099\u8003 |\n|:-----------|:------------|:------------:|:------------:|:------------|\n|\u30c6\u30ad\u30b9\u30c8\u9001\u4fe1\t\t||![text.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/cf88dbfa-ea98-2d94-b5bb-a127bb65357a.jpeg)|![text.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/22e83a76-f5e5-6128-2160-86aee7b71911.jpeg)||\n|\u753b\u50cf\u9001\u4fe1\t\t||![image.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/6d33753c-cb97-1f20-665a-0bbe1fa4bc16.jpeg)\t|![image.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/6c763b2c-9950-dacc-3b03-879d44e34f17.jpeg)\t||\n|\u52d5\u753b\u9001\u4fe1\t\t||\u00d7\t|![video.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/a926f8df-5551-7ed2-68fd-5988c3ce38d6.jpeg)\t||\n|\u97f3\u58f0\u9001\u4fe1\t\t||\u00d7\t|![audio.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/7e75650d-0059-8a5c-ee2c-a3ae2c5824d5.jpeg)\t||\n|\u5834\u6240\u9001\u4fe1\t\t||\u00d7\t|![location.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/64889b12-a490-3b75-9c7e-7bf3c4154052.jpeg)\t||\n|\u30b9\u30bf\u30f3\u30d7\u9001\u4fe1\t||\u00d7\t|![sticker.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/d648cd92-6f5a-6d40-e647-2c3516d93f9b.jpeg)\t||\n|\u30ea\u30c3\u30c1\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\t|\u753b\u50cf+\u753b\u50cf\u30bf\u30c3\u30d7\u6642\u306eURL|\t\u00d7\t|![rich.png](https://qiita-image-store.s3.amazonaws.com/0/39177/c5e730fa-84ae-e37b-7813-02422c65eda3.png)\t|\u753b\u50cf\u306b\u30ea\u30f3\u30af\u304c\u8a2d\u5b9a\u3067\u304d\u308b\u3002\t|\n|| Button template\uff08\u30c6\u30ad\u30b9\u30c8+\u30dc\u30bf\u30f3\uff09|\t![IMG_0074.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/ddb306e4-401d-0081-086d-88612e5ae164.jpeg)|\t\u00d7\t|\u30dc\u30bf\u30f3\u306f\u6700\u59273\u3064\u3002\u30dc\u30bf\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u306f2\u30d1\u30bf\u30fc\u30f3\uff08web\u3078\u306e\u30ea\u30f3\u30af\u3001\u3082\u3057\u304f\u306fpostback\u3068\u3044\u3063\u3066\u518d\u5ea6\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u547c\u3070\u305b\u308b\u3082\u306e\uff09||\n||General template\uff08\u753b\u50cf+\u30c6\u30ad\u30b9\u30c8\uff0b\u30dc\u30bf\u30f3\uff09\t|![IMG_0075.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/51787f48-45ad-2146-7808-97630f4226a2.jpeg)\t|\u00d7\t|\u30dc\u30bf\u30f3\u306f\u6700\u59273\u3064\u3002\u753b\u50cf\u306f\u6700\u592710\u500b\uff08\u6a2a\u30b9\u30af\u30ed\u30fc\u30eb\u8868\u793a\uff09\u3002\u203b\u30dc\u30bf\u30f3\u306e\u8aac\u660e\u306f\u540c\u4e0a||\n|| Receipt template\uff08\u9818\u53ce\u66f8\uff09|\t![IMG_0076.jpg](https://qiita-image-store.s3.amazonaws.com/0/39177/6d4a4575-834f-05df-1a1f-53448f5e8618.jpeg)\t|\u00d7|\t||\n|\u30e6\u30fc\u30b6\u60c5\u5831\u53d6\u5f97\t|\u540d\u524d|\t\u25cb|\t\u25cb||\n||\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cfURL\t|\u25cb\t|\u25cb||\n||\u30b9\u30c6\u30fc\u30bf\u30b9\u30e1\u30c3\u30bb\u30fc\u30b8\t|\u25cb|\u00d7\t||\n\n\nFacebook\u30e1\u30c3\u30bb\u30f3\u30b8\u30e3\u30fc\u306e\u65b9\u304c\u30ea\u30c3\u30c1\u30e1\u30c3\u30bb\u30fc\u30b8\u7cfb\uff08Facebook\u3067\u306f\u69cb\u9020\u5316\u30c6\u30ad\u30b9\u30c8\u3068\u547c\u3070\u308c\u3066\u3044\u308b\uff09\u304c\u5145\u5b9f\u3057\u3066\u3044\u308b\u3002\u305d\u306e\u5909\u308f\u308aLINE\u3067\u306f\u52d5\u753b\u3001\u97f3\u58f0\u3001\u5834\u6240\u3001\u30b9\u30bf\u30f3\u30d7\u3001\u9023\u7d61\u5148\u304c\u9001\u4fe1\u3067\u304d\u308b\u3002\n\u305f\u3060\u500b\u4eba\u7684\u306b\u306f\u52d5\u753b\u3001\u97f3\u58f0\u3001\u5834\u6240\u306fYoutube\u3001SoundCloud\u3001Google Map\u7b49\u306e\u5225\u30b5\u30fc\u30d3\u30b9\u306eURL\u3092\u9001\u4fe1\u3059\u308c\u3070\u826f\u3044\u3068\u601d\u3063\u3066\u3044\u308b\u306e\u3067\u3042\u307e\u308a\u5229\u7528\u983b\u5ea6\u306f\u5c11\u306a\u3044\u304b\u306a\u3068\u601d\u3063\u3066\u308b\u3002\n\n\u30e6\u30fc\u30b6\u76ee\u7dda\u3067\u307e\u305a\u4f53\u611f\u3057\u305f\u3044\u65b9\u306f\u4ee5\u4e0b\u306e\u30a2\u30d7\u30ea\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u30f3\u30b0\u3057\u3066\u307f\u308b\u3068\u826f\u3044\u304b\u3082\u3002\n[Shop Spring](https://www.facebook.com/SpringNYC)\n[CNN](https://www.facebook.com/cnn/)\n\n\u307e\u305fLINE\u3068\u306e\u5927\u304d\u306a\u9055\u3044\u3068\u3057\u3066\u3001LINE\u306eBOT\u306f1\u30a2\u30ab\u30a6\u30f3\u30c8\u30671\u3064\u306e\u30dc\u30c3\u30c8\uff08\u30c1\u30e3\u30f3\u30cd\u30eb\uff09\u3057\u304b\u4f5c\u308c\u306a\u3044\u304c\u3001Facebook\u306f1\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8907\u6570\u306e\u30dc\u30c3\u30c8\uff08\u30a2\u30d7\u30ea\uff09\u304c\u4f5c\u6210\u3067\u304d\u308b\u3002\n\n\n\n## API\u3092\u5b9f\u88c5\u3057\u3066\u307f\u305f\n\n### \u30c6\u30ad\u30b9\u30c8\u9001\u4fe1\n\n```php\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"text\":\"hello, world!\"\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    error_log(\"api_get_message_content_request start\");\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n```\n\n### \u753b\u50cf\u9001\u4fe1\n\n```php\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"attachment\":{\n            \"type\":\"image\",\n            \"payload\":{\n                \"url\":\"[\u753b\u50cfURL]\"\n            }\n        }\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    error_log(\"api_get_message_content_request start\");\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n```\n\n### Button template\uff08\u30c6\u30ad\u30b9\u30c8+\u30dc\u30bf\u30f3\uff09\u9001\u4fe1\n\n```php\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\nerror_log($json_string);\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"attachment\":{\n            \"type\":\"template\",\n            \"payload\":{\n                \"template_type\":\"button\",\n                \"text\":\"What do you want to do next?\",\n                \"buttons\":[\n                    {\n                        \"type\":\"web_url\",\n                        \"url\":\"https://messengerplatform.fb.com\",\n                        \"title\":\"Show Website\"\n                    },\n                    {\n                        \"type\":\"postback\",\n                        \"title\":\"Start Chatting\",\n                        \"payload\":\"USER_DEFINED_PAYLOAD\"\n                    }\n                ]\n            }\n        }\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n```\n\n### General template\uff08\u753b\u50cf+\u30c6\u30ad\u30b9\u30c8\uff0b\u30dc\u30bf\u30f3\uff09\u9001\u4fe1\n\n```php\n<?php\nerror_log('fbdev callback!');\n\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\nerror_log($json_string);\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"attachment\":{\n            \"type\":\"template\",\n            \"payload\":{\n                \"template_type\":\"generic\",\n                \"elements\":[\n                    {\n                        \"title\":\"Classic White T-Shirt\",\n                        \"image_url\":\"[\u753b\u50cfURL]\",\n                        \"subtitle\":\"Soft white cotton t-shirt is back in style\",\n                        \"buttons\":[\n                            {\n                                \"type\":\"web_url\",\n                                \"url\":\"https://messengerplatform.fb.com\",\n                                \"title\":\"View Item\"\n                            },\n                            {\n                                \"type\":\"web_url\",\n                                \"url\":\"https://developers.facebook.com/docs/messenger-platform\",\n                                \"title\":\"Buy Item\"\n                            },\n                            {\n                                \"type\":\"postback\",\n                                \"title\":\"Bookmark Item\",\n                                \"payload\":\"USER_DEFINED_PAYLOAD_FOR_ITEM100\"\n                            }                            \n                        ]\n                    },\n                    {\n                        \"title\":\"Classic Grey T-Shirt\",\n                        \"image_url\":\"[\u753b\u50cfURL]\",\n                        \"subtitle\":\"Soft gray cotton t-shirt is back in style\",\n                        \"buttons\":[\n                            {\n                                \"type\":\"web_url\",\n                                \"url\":\"https://messengerplatform.fb.com\",\n                                \"title\":\"View Item\"\n                            },\n                            {\n                                \"type\":\"web_url\",\n                                \"url\":\"https://developers.facebook.com/docs/messenger-platform\",\n                                \"title\":\"Buy Item\"\n                            },\n                            {\n                                \"type\":\"postback\",\n                                \"title\":\"Bookmark Item\",\n                                \"payload\":\"USER_DEFINED_PAYLOAD_FOR_ITEM101\"\n                            }                            \n                        ]\n                    }\n                ]\n            }\n        }\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n```\n\n### \u9818\u53ce\u66f8\u9001\u4fe1\n\n```php\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\nerror_log($json_string);\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n$post = <<< EOM\n{\n    \"recipient\":{\n        \"id\":\"{$from_user_id}\"\n    },\n    \"message\":{\n        \"attachment\":{\n            \"type\":\"template\",\n            \"payload\":{\n                \"template_type\":\"receipt\",\n                \"recipient_name\":\"Stephane Crozatier\",\n                \"order_number\":\"12345678902\",\n                \"currency\":\"USD\",\n                \"payment_method\":\"Visa 2345\",                \n                \"order_url\":\"https://messengerplatform.fb.com\",\n                \"timestamp\":\"1428444852\", \n                \"elements\":[\n                    {\n                        \"title\":\"Classic White T-Shirt\",\n                        \"subtitle\":\"100% Soft and Luxurious Cotton\",\n                        \"quantity\":2,\n                        \"price\":50,\n                        \"currency\":\"USD\",\n                        \"image_url\":\"[\u753b\u50cfURL]\"\n                    },\n                    {\n                        \"title\":\"Classic Gray T-Shirt\",\n                        \"subtitle\":\"100% Soft and Luxurious Cotton\",\n                        \"quantity\":1,\n                        \"price\":25,\n                        \"currency\":\"USD\",\n                        \"image_url\":\"[\u753b\u50cfURL]\"\n                    }\n                ],\n                \"address\":{\n                    \"street_1\":\"1 Hacker Way\",\n                    \"street_2\":\"\",\n                    \"city\":\"Menlo Park\",\n                    \"postal_code\":\"94025\",\n                    \"state\":\"CA\",\n                    \"country\":\"US\"\n                },\n                \"summary\":{\n                    \"subtotal\":75.00,\n                    \"shipping_cost\":4.95,\n                    \"total_tax\":6.19,\n                    \"total_cost\":56.14\n                },\n                \"adjustments\":[\n                    {\n                        \"name\":\"New Customer Discount\",\n                        \"amount\":20\n                    },\n                    {\n                        \"name\":\"$10 Off Coupon\",\n                        \"amount\":10\n                    }\n                ]\n            }\n        }\n    }\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_request($access_token, $post);\n\nfunction api_send_request($access_token, $post) {\n    $url = \"https://graph.facebook.com/v2.6/me/messages?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n```\n\n### \u30a6\u30a7\u30eb\u30ab\u30e0\u30e1\u30c3\u30bb\u30fc\u30b8\u8a2d\u5b9a\n\n\u5b9f\u306f\u3053\u308c\u3060\u3051\u78ba\u8a8d\u3067\u304d\u3066\u3044\u306a\u3044\u3002\n\u8a2d\u5b9a\u307e\u3067\u306fFacebook\u304b\u3089\u306e `Successfully added new_thread's CTAs` \u3068\u3044\u3046\u30ec\u30b9\u30dd\u30f3\u30b9\u3067\u78ba\u8a8d\u3002\n\n```php\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n$page_id = \"[Facebook\u30da\u30fc\u30b8ID]\";\n\n$post = <<< EOM\n{\n  \"setting_type\":\"call_to_actions\",\n  \"thread_state\":\"new_thread\",\n  \"call_to_actions\":[\n    {\n      \"message\":{\n        \"text\":\"Welcome to My Company!\"\n      }\n    }\n  ]\n}\nEOM;\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\napi_send_welcome_message_request($access_token, $page_id, $post);\n\nfunction api_send_welcome_message_request($access_token, $page_id, $post) {\n    $url = \"https://graph.facebook.com/v2.6/{$page_id}/thread_settings?access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_POST, true);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_POSTFIELDS, $post);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n```\n\n### \u30e6\u30fc\u30b6\u60c5\u5831\u53d6\u5f97\n\n```php\n<?php\n$access_token = \"[ACCESS TOKEN]\";\n\n// \u30e1\u30c3\u30bb\u30fc\u30b8\u53d7\u4fe1\n$json_string = file_get_contents('php://input');\n$json_object = json_decode($json_string);\n$from_user_id =$json_object->entry{0}->messaging{0}->sender->id;\n\n// \u30e6\u30fc\u30b6\u60c5\u5831\u53d6\u5f97\napi_get_user_profile_request($access_token, $from_user_id);\n\nfunction api_get_user_profile_request($access_token, $from_user_id) {\n    $url = \"https://graph.facebook.com/v2.6/{$from_user_id}?fields=first_name,last_name,profile_pic&access_token={$access_token}\";\n    $headers = array(\n        \"Content-Type: application/json\"\n    );\n\n    $curl = curl_init($url);\n    curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n    $output = curl_exec($curl);\n}\n```\n\n## \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306ePOST\u30c7\u30fc\u30bf\u306e\u69cb\u9020\n\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u9001\u4fe1\u3055\u308c\u3066\u304f\u308bPOST\u30c7\u30fc\u30bf\u306e\u69cb\u9020\u306f[Webhook Reference](https://developers.facebook.com/docs/messenger-platform/webhook-reference)\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3002\n\n\n\n\n\n```json\n{\n    \"object\":\"page\",\n    \"entry\":[\n        {\n            \"id\":000000000000000,\n            \"time\":1460507400109,\n            \"messaging\":[\n                {\n                    \"sender\":{\"id\":0000000000000000},\n                    \"recipient\":{\"id\":000000000000000},\n                    \"timestamp\":1460507400025,\n                    \"message\":\n                    {\n                        \"mid\":\"mid.0000000000000:xxxxxxxxxxxxxxxxxx\",\n                        \"seq\":5,\n                        \"text\":\"\\\\u30c6\\\\u30b9\\\\u30c8\"\n                    }\n                }\n            ]\n        }\n    ]\n}\n```\n\n\u3061\u306a\u307f\u306b\u30dc\u30bf\u30f3\u30bf\u30c3\u30d7\u306b\u3088\u308apostback\u3055\u308c\u305f\u5834\u5408\u306f\u3053\u3093\u306aPOST\u304c\u3055\u308c\u3066\u304f\u308b\u3002\n\n```json\n{\n\t\"object\":\"page\",\n\t\"entry\":[\n\t\t{\n\t\t\t\"id\":000000000000000,\n\t\t\t\"time\":1460548408088,\n\t\t\t\"messaging\":[\n\t\t\t\t{\n\t\t\t\t\t\"sender\":{\"id\":0000000000000000},\n\t\t\t\t\t\"recipient\":{\"id\":000000000000000},\n\t\t\t\t\t\"timestamp\":1460548408088,\n\t\t\t\t\t\"postback\":{\"payload\":\"USER_DEFINED_PAYLOAD_FOR_ITEM100\"}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n```\n", "tags": ["Facebook", "bot", "api", "messenger", "linebot"]}