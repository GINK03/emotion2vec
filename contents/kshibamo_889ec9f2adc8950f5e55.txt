{"tags": ["\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8", "\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb"], "context": " More than 1 year has passed since last update.\u590f\u306e\u7d42\u308f\u308a\u306b\u3075\u3089\u3063\u3068\u53c2\u52a0\u3057\u3066\u304d\u307e\u3057\u305f\u3002\n\u4e0a\u7530\u30d6\u30ed\u30b0\nhttps://blog.ueda.asia/?p=6836\n\u4eca\u56de\u306f cat\uff0ccomm\uff0cgrep\uff0cuniq \u3092\u5229\u7528\u3059\u308b\u3082\u306e\u304c\u591a\u304b\u3063\u305f\u6c17\u304c\u3057\u307e\u3059\u3002\u500b\u3005\u306e\u30b3\u30de\u30f3\u30c9\u306e\u89e3\u8aac\u306f\u304f\u3093\u3059\u3068\u3055\u3093\u306e\u8a18\u4e8b\u304c\u307e\u3068\u307e\u3063\u3066\u3044\u307e\u3059\u3002\n\u300c\u7b2c18\u56de\u30cb\u30f3\u30cb\u30af\u5165\u308c\u307e\u3059\u304b\u30b7\u30a7\u30eb\u82b8\u52c9\u5f37\u4f1a\u300d\u306b\u3064\u3044\u3063\u305f\u30fc\u3067\u53c2\u52a0\u3057\u307e\u3057\u305f\n\u52c9\u5f37\u4f1a\u3067\u914d\u5e03\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f Q7 \u4ee5\u5916\u306f\u6587\u5b57\u30b3\u30fc\u30c9\u3092 Shift_JIS \u306b\u5909\u63db\u3057\u3066\u5229\u7528\u3057\u307e\u3057\u305f\u3002\u30d5\u30a1\u30a4\u30eb\u540d\u3082\u81ea\u5206\u306e\u3053\u306e\u307f\u3067\u5909\u66f4\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\nA1.bat\n@echo off\n\nset SELF=%~n0\n\nsetlocal\n  :: ref. http://scripting.cocolog-nifty.com/blog/2009/09/uniq-77dd.html\n  copy NUL %SELF%.1.tmp > NUL\n  for /f \"tokens=*\" %%i in ('findstr /r \"\u30aa.*\u30f3\" Q1.txt') do (\n    findstr /x /c:\"%%i\" %SELF%.1.tmp > NUL || (echo %%i) >> %SELF%.1.tmp\n  )\n\n  :: ref. http://scripting.cocolog-nifty.com/blog/2011/07/dupuniq--d-39a1.html\n  copy NUL %SELF%.2.tmp > NUL\n  for /f \"tokens=1\" %%i in (%SELF%.1.tmp) do (\n    for /f %%j in ('findstr /b /c:\"%%i\" ^< %SELF%.1.tmp ^| find /c /v \"\"') do (\n      if %%j gtr 1 (\n        findstr /b /c:\"%%i\" < %SELF%.2.tmp > NUL || (echo %%i) >> %SELF%.2.tmp\n      )\n    )\n  )\n\n  type %SELF%.2.tmp\n\n  del /q %SELF%.*.tmp\nendlocal\n\n\n\nA2.bat\n@echo off\n\nsetlocal\n  :: ref. http://scripting.cocolog-nifty.com/blog/2009/09/comm1-9073.html\n  echo.\n  echo Q2.1.txt \u306e\u307f\u5b58\u5728\u3059\u308b\u884c\n  findstr /x /l /v /g:Q2.2.txt Q2.1.txt\n\n  echo.\n  echo Q2.2.txt \u306e\u307f\u5b58\u5728\u3059\u308b\u884c\n  findstr /x /l /v /g:Q2.1.txt Q2.2.txt\n\n  :: ref. http://scripting.cocolog-nifty.com/blog/2009/09/comm3-4b26.html\n  echo.\n  echo \u4e21\u65b9\u306b\u5b58\u5728\u3059\u308b\u884c\n  findstr /x /l /g:Q2.1.txt Q2.2.txt\nendlocal\n\n\n\nA3.bat\n@echo off\n\nsetlocal enabledelayedexpansion\n  for %%i in (Q3.*.txt) do (\n    set n=0\n    for /f \"tokens=*\" %%j in (%%i) do (\n      for %%k in (%%j) do (\n        set /a n+=%%k\n      )\n    )\n    echo %%i: !n!\n  )\nendlocal\n\n\n\nA4.bat\n@echo off\n\nsetlocal enabledelayedexpansion\n  set h=\n  for /f \"tokens=*\" %%i in (Q4.txt) do (\n    set h=%%i\n    goto :BREAK\n  )\n  :BREAK\n\n  set h=%h:~1%\n  set i=0\n  set t=\n  :BOL\n    call set c=%%h:~%i%,1%%\n    if \"%c%\" == \"\" goto EOL\n    set t=%t% %c%\n    set /a i+=1\n    goto BOL\n  :EOL\n\n  for /f \"tokens=*\" %%i in ('findstr /l \"x\" Q4.txt') do (\n    set s=%%i\n\n    set i=1\n    for %%j in (%t%) do (\n      call set c=%%s:~!i!,1%%\n      if \"!c!\" == \"x\" (\n        echo !s:~0,1!-%%j\n      )\n      set /a i+=1\n    )\n  )\nendlocal\n\n\n\nA5.bat\n@echo off\n\nsetlocal\n  more /s Q5.txt\nendlocal\n\n\n\n\nA6.bat\n@echo off\n\nset SELF=%~n0\n\nsetlocal enabledelayedexpansion\n  set x=8\n  set /a y=%x%/2\n\n  (\n    echo P2 %x% %x% 1\n    for /l %%i in (1,1,%y%) do (\n      set t=\n      for /l %%j in (1,1,%x%) do (\n        set /a m=%%j%%2\n        if !m! equ 0 (set t=!t!0 ) else (set t=!t!1 )\n      )\n      echo !t:~0,-1!\n      echo !t:~2,-1! 1\n    )\n  ) > %SELF%.pgm\n\n  type %SELF%.pgm\n\n  del /q %SELF%.pgm\nendlocal\n\n\n\n\nA7.bat\n@echo off\n\nset SELF=%~n0\n\nsetlocal enabledelayedexpansion\n  chcp 65001 > NUL\n\n  copy NUL %SELF%.tmp > NUL\n  for /f \"tokens=*\" %%i in (Q7.txt) do (\n    call :getc \"%%i\" >> %SELF%.tmp\n  )\n\n  for /f \"tokens=*\" %%i in (%SELF%.tmp) do (\n    for /f \"tokens=3\" %%j in ('find /c \"%%i\" Q7.txt') do (\n      if %%j gtr 1 (\n        set c=%%i\n      )\n    )\n  )\n\n  find /n \"%c%\" Q7.txt\n\n  echo.\n  pause\n\n  del /q %SELF%.tmp\n\n  chcp 932 > NUL\nendlocal\ngoto :EOF\n\n:getc\nsetlocal\n  set s=%~1\n\n  set i=0\n  :BOL\n    call set c=%%s:~%i%,1%%\n    if \"%c%\" == \"\" goto EOL\n    echo %c%\n    set /a i+=1\n    goto BOL\n  :EOL\nendlocal\ngoto :EOF\n\n\n\nA8.bat\n@echo off\n\nset SELF=%~n0\n\nsetlocal enabledelayedexpansion\n  copy NUL %SELF%.1.tmp > NUL\n  for /f \"tokens=*\" %%i in (Q8.txt) do (\n    set s=%%i\n    goto BREAK\n  )\n  :BREAK\n\n  call :length \"%s%\"\n  set n=%ERRORLEVEL%\n\n  :: KLUDGE\n  :: for /l %%i in (1,1,%n%) do (\n  for /l %%i in (1,1,3) do (\n    for /l %%j in (1,1,%n%) do (\n      set t=!s:~%%j,%%i!\n      call :length \"!t!\"\n      if !ERRORLEVEL! equ %%i (\n        >> %SELF%.1.tmp echo !t!\n      )\n    )\n  )\n\n  copy NUL %SELF%.2.tmp > NUL\n  for /f \"tokens=*\" %%i in (%SELF%.1.tmp) do (\n    for /f %%j in ('findstr /x /c:\"%%i\" ^< %SELF%.1.tmp ^| find /c /v \"\"') do (\n      if %%j gtr 1 (\n        findstr /x /c:\"%%i\" < %SELF%.2.tmp > NUL || (echo %%i) >> %SELF%.2.tmp\n      )\n    )\n  )\n\n  type %SELF%.2.tmp\n\n  del /q %SELF%.*.tmp\nendlocal\ngoto :EOF\n\n:length\nsetlocal\n  set s=%~1\n\n  if \"%s%\" == \"\" (\n    exit /b 0\n  )\n\n  set i=0\n  :BOL\n    call set c=%%s:~%i%,1%%\n    if \"%c%\" == \"\" goto EOL\n    set /a i+=1\n    goto BOL\n  :EOL\n\n  exit /b %i%\nendlocal\ngoto :EOF\n\n\n\u5f53\u65e5\u306f\u300c\u30aa\u30ab\u30b7\uff01\u30aa\u30ab\u30b7\u30ca\u30a4\u30ce\u30fc\uff1f\u30aa\u30ab\u30b7\u30ab\u30c3\u30c6\u30af\u30eb\u30ab\u30e9\u30aa\u30ab\u30cd\u30c1\u30e7\u30fc\u30c0\u30a4\uff01\u300d\u3068\u3044\u3063\u3066\u3001\u4f1a\u9577\u3055\u3093\u307f\u305a\u304b\u3089\u304a\u83d3\u5b50\u3092\u8cb7\u3044\u3053\u3093\u3067\u671d\u304b\u3089\u3080\u3057\u3083\u3080\u3057\u3083\u98df\u3079\u3066\u304a\u3089\u308c\u307e\u3057\u305f\uff08\u3059\u3054\u304f\u30d1\u30ef\u30d5\u30eb\u3067\u3057\u305f\uff09\n\u590f\u306e\u7d42\u308f\u308a\u306b\u3075\u3089\u3063\u3068\u53c2\u52a0\u3057\u3066\u304d\u307e\u3057\u305f\u3002\n\n\u4e0a\u7530\u30d6\u30ed\u30b0\nhttps://blog.ueda.asia/?p=6836\n\n\u4eca\u56de\u306f cat\uff0ccomm\uff0cgrep\uff0cuniq \u3092\u5229\u7528\u3059\u308b\u3082\u306e\u304c\u591a\u304b\u3063\u305f\u6c17\u304c\u3057\u307e\u3059\u3002\u500b\u3005\u306e\u30b3\u30de\u30f3\u30c9\u306e\u89e3\u8aac\u306f\u304f\u3093\u3059\u3068\u3055\u3093\u306e\u8a18\u4e8b\u304c\u307e\u3068\u307e\u3063\u3066\u3044\u307e\u3059\u3002\n\n[\u300c\u7b2c18\u56de\u30cb\u30f3\u30cb\u30af\u5165\u308c\u307e\u3059\u304b\u30b7\u30a7\u30eb\u82b8\u52c9\u5f37\u4f1a\u300d\u306b\u3064\u3044\u3063\u305f\u30fc\u3067\u53c2\u52a0\u3057\u307e\u3057\u305f](http://kunst1080.hatenablog.com/entry/2015/08/30/164448)\n\n\u52c9\u5f37\u4f1a\u3067\u914d\u5e03\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f Q7 \u4ee5\u5916\u306f\u6587\u5b57\u30b3\u30fc\u30c9\u3092 Shift_JIS \u306b\u5909\u63db\u3057\u3066\u5229\u7528\u3057\u307e\u3057\u305f\u3002\u30d5\u30a1\u30a4\u30eb\u540d\u3082\u81ea\u5206\u306e\u3053\u306e\u307f\u3067\u5909\u66f4\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\n```bat:A1.bat\n@echo off\n\nset SELF=%~n0\n\nsetlocal\n  :: ref. http://scripting.cocolog-nifty.com/blog/2009/09/uniq-77dd.html\n  copy NUL %SELF%.1.tmp > NUL\n  for /f \"tokens=*\" %%i in ('findstr /r \"\u30aa.*\u30f3\" Q1.txt') do (\n    findstr /x /c:\"%%i\" %SELF%.1.tmp > NUL || (echo %%i) >> %SELF%.1.tmp\n  )\n  \n  :: ref. http://scripting.cocolog-nifty.com/blog/2011/07/dupuniq--d-39a1.html\n  copy NUL %SELF%.2.tmp > NUL\n  for /f \"tokens=1\" %%i in (%SELF%.1.tmp) do (\n    for /f %%j in ('findstr /b /c:\"%%i\" ^< %SELF%.1.tmp ^| find /c /v \"\"') do (\n      if %%j gtr 1 (\n        findstr /b /c:\"%%i\" < %SELF%.2.tmp > NUL || (echo %%i) >> %SELF%.2.tmp\n      )\n    )\n  )\n  \n  type %SELF%.2.tmp\n  \n  del /q %SELF%.*.tmp\nendlocal\n```\n\n```bat:A2.bat\n@echo off\n\nsetlocal\n  :: ref. http://scripting.cocolog-nifty.com/blog/2009/09/comm1-9073.html\n  echo.\n  echo Q2.1.txt \u306e\u307f\u5b58\u5728\u3059\u308b\u884c\n  findstr /x /l /v /g:Q2.2.txt Q2.1.txt\n  \n  echo.\n  echo Q2.2.txt \u306e\u307f\u5b58\u5728\u3059\u308b\u884c\n  findstr /x /l /v /g:Q2.1.txt Q2.2.txt\n  \n  :: ref. http://scripting.cocolog-nifty.com/blog/2009/09/comm3-4b26.html\n  echo.\n  echo \u4e21\u65b9\u306b\u5b58\u5728\u3059\u308b\u884c\n  findstr /x /l /g:Q2.1.txt Q2.2.txt\nendlocal\n```\n\n```bat:A3.bat\n@echo off\n\nsetlocal enabledelayedexpansion\n  for %%i in (Q3.*.txt) do (\n    set n=0\n    for /f \"tokens=*\" %%j in (%%i) do (\n      for %%k in (%%j) do (\n        set /a n+=%%k\n      )\n    )\n    echo %%i: !n!\n  )\nendlocal\n```\n\n```bat:A4.bat\n@echo off\n\nsetlocal enabledelayedexpansion\n  set h=\n  for /f \"tokens=*\" %%i in (Q4.txt) do (\n    set h=%%i\n    goto :BREAK\n  )\n  :BREAK\n  \n  set h=%h:~1%\n  set i=0\n  set t=\n  :BOL\n    call set c=%%h:~%i%,1%%\n    if \"%c%\" == \"\" goto EOL\n    set t=%t% %c%\n    set /a i+=1\n    goto BOL\n  :EOL\n  \n  for /f \"tokens=*\" %%i in ('findstr /l \"x\" Q4.txt') do (\n    set s=%%i\n    \n    set i=1\n    for %%j in (%t%) do (\n      call set c=%%s:~!i!,1%%\n      if \"!c!\" == \"x\" (\n        echo !s:~0,1!-%%j\n      )\n      set /a i+=1\n    )\n  )\nendlocal\n```\n\n```bat:A5.bat\n@echo off\n\nsetlocal\n  more /s Q5.txt\nendlocal\n\n```\n\n```bat:A6.bat\n@echo off\n\nset SELF=%~n0\n\nsetlocal enabledelayedexpansion\n  set x=8\n  set /a y=%x%/2\n  \n  (\n    echo P2 %x% %x% 1\n    for /l %%i in (1,1,%y%) do (\n      set t=\n      for /l %%j in (1,1,%x%) do (\n        set /a m=%%j%%2\n        if !m! equ 0 (set t=!t!0 ) else (set t=!t!1 )\n      )\n      echo !t:~0,-1!\n      echo !t:~2,-1! 1\n    )\n  ) > %SELF%.pgm\n  \n  type %SELF%.pgm\n  \n  del /q %SELF%.pgm\nendlocal\n\n```\n\n```bat:A7.bat\n@echo off\n\nset SELF=%~n0\n\nsetlocal enabledelayedexpansion\n  chcp 65001 > NUL\n  \n  copy NUL %SELF%.tmp > NUL\n  for /f \"tokens=*\" %%i in (Q7.txt) do (\n    call :getc \"%%i\" >> %SELF%.tmp\n  )\n  \n  for /f \"tokens=*\" %%i in (%SELF%.tmp) do (\n    for /f \"tokens=3\" %%j in ('find /c \"%%i\" Q7.txt') do (\n      if %%j gtr 1 (\n        set c=%%i\n      )\n    )\n  )\n  \n  find /n \"%c%\" Q7.txt\n  \n  echo.\n  pause\n  \n  del /q %SELF%.tmp\n  \n  chcp 932 > NUL\nendlocal\ngoto :EOF\n\n:getc\nsetlocal\n  set s=%~1\n  \n  set i=0\n  :BOL\n    call set c=%%s:~%i%,1%%\n    if \"%c%\" == \"\" goto EOL\n    echo %c%\n    set /a i+=1\n    goto BOL\n  :EOL\nendlocal\ngoto :EOF\n```\n\n```bat:A8.bat\n@echo off\n\nset SELF=%~n0\n\nsetlocal enabledelayedexpansion\n  copy NUL %SELF%.1.tmp > NUL\n  for /f \"tokens=*\" %%i in (Q8.txt) do (\n    set s=%%i\n    goto BREAK\n  )\n  :BREAK\n  \n  call :length \"%s%\"\n  set n=%ERRORLEVEL%\n  \n  :: KLUDGE\n  :: for /l %%i in (1,1,%n%) do (\n  for /l %%i in (1,1,3) do (\n    for /l %%j in (1,1,%n%) do (\n      set t=!s:~%%j,%%i!\n      call :length \"!t!\"\n      if !ERRORLEVEL! equ %%i (\n        >> %SELF%.1.tmp echo !t!\n      )\n    )\n  )\n  \n  copy NUL %SELF%.2.tmp > NUL\n  for /f \"tokens=*\" %%i in (%SELF%.1.tmp) do (\n    for /f %%j in ('findstr /x /c:\"%%i\" ^< %SELF%.1.tmp ^| find /c /v \"\"') do (\n      if %%j gtr 1 (\n        findstr /x /c:\"%%i\" < %SELF%.2.tmp > NUL || (echo %%i) >> %SELF%.2.tmp\n      )\n    )\n  )\n  \n  type %SELF%.2.tmp\n  \n  del /q %SELF%.*.tmp\nendlocal\ngoto :EOF\n\n:length\nsetlocal\n  set s=%~1\n  \n  if \"%s%\" == \"\" (\n    exit /b 0\n  )\n  \n  set i=0\n  :BOL\n    call set c=%%s:~%i%,1%%\n    if \"%c%\" == \"\" goto EOL\n    set /a i+=1\n    goto BOL\n  :EOL\n  \n  exit /b %i%\nendlocal\ngoto :EOF\n```\n\n\u5f53\u65e5\u306f\u300c\u30aa\u30ab\u30b7\uff01\u30aa\u30ab\u30b7\u30ca\u30a4\u30ce\u30fc\uff1f\u30aa\u30ab\u30b7\u30ab\u30c3\u30c6\u30af\u30eb\u30ab\u30e9\u30aa\u30ab\u30cd\u30c1\u30e7\u30fc\u30c0\u30a4\uff01\u300d\u3068\u3044\u3063\u3066\u3001\u4f1a\u9577\u3055\u3093\u307f\u305a\u304b\u3089\u304a\u83d3\u5b50\u3092\u8cb7\u3044\u3053\u3093\u3067\u671d\u304b\u3089\u3080\u3057\u3083\u3080\u3057\u3083\u98df\u3079\u3066\u304a\u3089\u308c\u307e\u3057\u305f\uff08\u3059\u3054\u304f\u30d1\u30ef\u30d5\u30eb\u3067\u3057\u305f\uff09\n"}