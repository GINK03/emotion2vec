{"context": "iOS8\u304b\u3089AVAudioEngine\u3068\u3044\u3046\u30aa\u30fc\u30c7\u30a3\u30aa\u6a5f\u80fd\u304cAVFoundation\u5185\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u7d30\u304b\u306a\u8aac\u660e\u306f\u4ed6\u306e\u65b9\u3082\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u7c21\u5358\u306b\u300cAUGraph\u306eiOS\u7248\u300d\u306e\u3088\u3046\u306a\u3082\u306e\u3068\u8a00\u3063\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\uff08\u30e9\u30c3\u30d1\u30fc\u30af\u30e9\u30b9\u3068\u3044\u3046\u306e\u304c\u9069\u5f53\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff09\n\u305f\u3060\u3057\u3001\u96a0\u853d\u3055\u308c\u3066\u3044\u308b\u70b9\u306f\u6570\u591a\u304f\u898b\u3089\u308c\u307e\u3059\u3002\u4eca\u56de\u7d39\u4ecb\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3064\u3044\u3066\u3082\u305d\u3046\u3067\u3059\u304c\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5229\u7528\u65b9\u6cd5\u304c\u898b\u5f53\u305f\u3089\u306a\u304b\u3063\u305f\u306e\u306f\u5927\u304d\u3044\u3067\u3059\u3002\u305d\u308c\u304c\u3086\u3048\u306b\u3001\u79c1\u81ea\u8eab\u304c\u4eca\u5f8cAUGraph\u304b\u3089AVAudioEngine\u306b\u7f6e\u304d\u63db\u3048\u308b\u304b\u3069\u3046\u304b\u3068\u3044\u3046\u3068\u3001\u4eca\u306e\u3068\u3053\u308d\u306fNO\u3067\u3059\u3002\n\u4eca\u5f8c\u306e\u62e1\u5145\u306b\u671f\u5f85\u3068\u3044\u3046\u306e\u3068\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u3092\u4f5c\u6210\u3059\u308b\u3068\u304d\u306b\u5229\u7528\u3059\u308b\u306b\u306f\u4fbf\u5229\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\u5927\u307e\u304b\u306b\u306f\u4ee5\u4e0b\u306e\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nAVAudioEngine\nAVAudioFile\nAVAudioNode\n\n\nAVAudioEnvironmentNode\u3000\uff08\u4eca\u56de\u306f\u4f7f\u308f\u306a\u3044\uff09\nAVAudioIONode\u3000\uff08\u4eca\u56de\u306f\u4f7f\u308f\u306a\u3044\uff09\nAVAudioPlayerNode\nAVAudioMixerNode\nAVAudioUnit\n\n\n\n\u3055\u3089\u306bAVAudioUnit\uff08\u300cAudio Unit\u306eiOS\u7248\u300d\u3067\u3059\u306d\uff09\u306b\u3064\u3044\u3066\u6398\u308a\u4e0b\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nAVAudioUnit\n\n\nAVAudioUnitEffect\nAVAudioUnitGenerator\u3000\uff08\u4eca\u56de\u306f\u4f7f\u308f\u306a\u3044\uff09\nAVAudioUnitMIDIInstrument\u3000\uff08\u4eca\u56de\u306f\u4f7f\u308f\u306a\u3044\uff09\nAVAudioUnitTimeEffect\n\n\n\n\u4eca\u56de\u306fAVAudioUnit\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u3001Audio Unit\u3068\u6bd4\u8f03\u3057\u306a\u304c\u3089\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\uff08Audio Unit\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09\n\nAVAudioUnitEffect\nkAudioUnitType_Effect\u306eiOS\u7248\u3067\u3059\u3002\u305f\u3060\u3001\u516c\u958b\u3055\u308c\u3066\u3044\u308bEffect\u306e\u7a2e\u985e\u306f\u5c11\u306a\u3044\u3067\u3059\u3002\n\nAVAudioUnitDelay\n\u30c7\u30a3\u30ec\u30a4\u3002kAudioUnitSubType_Delay\u306eiOS\u7248\u3067\u3059\u3002\n\u3053\u308c\u306b\u3064\u3044\u3066\u306fAudio Unit\u306e\u3082\u306e\u3068\u540c\u7b49\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n// \u30c7\u30a3\u30ec\u30a4\u30bf\u30a4\u30e0\nNSTimeInterval delayTime = 1;   // Range: 0 -> 2\n\n// \u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\nfloat feedback = 50;    // Range: -100 -> 100\n\n// \u9ad8\u57df\u5074\u306e\u30ab\u30c3\u30c8\u30aa\u30d5\u5468\u6ce2\u6570\nfloat lowPassCutoff = 15000;    // Range: 10 -> (samplerate/2)\n\n// Mix\u306e\u5272\u5408\nfloat wetDryMix = 100;  // Range: 0 (all dry) -> 100 (all wet)\n\n\nAVAudioUnitDistortion\n\u30c7\u30a3\u30b9\u30c8\u30fc\u30b7\u30e7\u30f3\u3002kAudioUnitSubType_Distortion\u306eiOS\u7248\u3067\u3059\u3002\nPreset\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u3067\u3001\u307b\u3068\u3093\u3069\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u96a0\u853d\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3067\u3059\u304c\u3001\u7c21\u5358\u306b\u3064\u304b\u3063\u3066\u307f\u305f\u3044\u306e\u3067\u3042\u308c\u3070\u3053\u3061\u3089\u306e\u65b9\u304c\u826f\u3044\u306e\u304b\u3082\u3002\n\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3067Preset\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n- (void)loadFactoryPreset:(AVAudioUnitDistortionPreset)preset;\n\nPreset\u306f\u4ee5\u4e0b\u306e\u7a2e\u985e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\ntypedef NS_ENUM(NSInteger, AVAudioUnitDistortionPreset) {\n    AVAudioUnitDistortionPresetDrumsBitBrush           = 0,\n    AVAudioUnitDistortionPresetDrumsBufferBeats        = 1,\n    AVAudioUnitDistortionPresetDrumsLoFi               = 2,\n    AVAudioUnitDistortionPresetMultiBrokenSpeaker      = 3,\n    AVAudioUnitDistortionPresetMultiCellphoneConcert   = 4,\n    AVAudioUnitDistortionPresetMultiDecimated1         = 5,\n    AVAudioUnitDistortionPresetMultiDecimated2         = 6,\n    AVAudioUnitDistortionPresetMultiDecimated3         = 7,\n    AVAudioUnitDistortionPresetMultiDecimated4         = 8,\n    AVAudioUnitDistortionPresetMultiDistortedFunk      = 9,\n    AVAudioUnitDistortionPresetMultiDistortedCubed     = 10,\n    AVAudioUnitDistortionPresetMultiDistortedSquared   = 11,\n    AVAudioUnitDistortionPresetMultiEcho1              = 12,\n    AVAudioUnitDistortionPresetMultiEcho2              = 13,\n    AVAudioUnitDistortionPresetMultiEchoTight1         = 14,\n    AVAudioUnitDistortionPresetMultiEchoTight2         = 15,\n    AVAudioUnitDistortionPresetMultiEverythingIsBroken = 16,\n    AVAudioUnitDistortionPresetSpeechAlienChatter      = 17,\n    AVAudioUnitDistortionPresetSpeechCosmicInterference = 18,\n    AVAudioUnitDistortionPresetSpeechGoldenPi          = 19,\n    AVAudioUnitDistortionPresetSpeechRadioTower        = 20,\n    AVAudioUnitDistortionPresetSpeechWaves             = 21\n} NS_ENUM_AVAILABLE(10_10, 8_0);\n\n\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u4ee5\u4e0b\u306e\u3082\u306e\u3060\u3051\u306e\u3088\u3046\u3067\u3059\u3002\n// \u30d7\u30ea\u30b2\u30a4\u30f3\nfloat preGain = -6; // Range: -80 -> 20\n\n// Mix\u306e\u5272\u5408\nfloat wetDryMix = 50;   // Range: 0 (all dry) -> 100 (all distorted)\n\n\nAVAudioUnitEQ\n\u30a4\u30b3\u30e9\u30a4\u30b6\u30fc\u3002kAudioUnitSubType_NBandEQ\u306eiOS\u7248\u3067\u3059\u3002\n\u3053\u308c\u306b\u3064\u3044\u3066\u306fAudio Unit\u306e\u3082\u306e\u3068\u540c\u7b49\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u4ed6\u306e\u30a8\u30d5\u30a7\u30af\u30c8\u3068\u306f\u3084\u3084\u69cb\u6210\u304c\u7570\u306a\u308b\u306e\u3067\u3001\uff08\u8aac\u660e\u3057\u3084\u3059\u304f\u3059\u308b\u305f\u3081\uff09\u6700\u521d\u306b\u5177\u4f53\u7684\u306a\u30b3\u30fc\u30c9\u4f8b\u3092\u8f09\u305b\u307e\u3059\u3002\n// AVAudioUnitEQ *_audioUnitEq;\n\n// \u521d\u671f\u5316\uff08\u30d0\u30f3\u30c9\u6570\uff1a2\uff09\nNSUInteger numberOfBands = 2;\n_audioUnitEq = [[AVAudioUnitEQ alloc] initWithNumberOfBands:numberOfBands];\n[_audioEngine attachNode:_audioUnitEq];\n\n// \u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\n_audioUnitEq.globalGain = 0.0;\nNSArray *bands = _audioUnitEq.bands;\nfor (int i = 0; i < numberOfBands; i++) {\n    AVAudioUnitEQFilterParameters *parameters = bands[i];\n    parameters.filterType = AVAudioUnitEQFilterTypeParametric;\n    parameters.frequency = 128.0 + 128.0 * i;\n    parameters.bandwidth = 0.5;\n    parameters.gain = 0.0;\n    parameters.bypass = NO;\n}\n\n\u521d\u671f\u5316\u6642\u306b\u30d0\u30f3\u30c9\u6570\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001Audio Unit\u306e\u3068\u304d\u3088\u308a\u30d0\u30f3\u30c9\u6570\u306e\u8a2d\u5b9a\u65b9\u6cd5\u304c\u308f\u304b\u308a\u3084\u3059\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n- (instancetype)initWithNumberOfBands:(NSUInteger)numberOfBands;\n\n\u30d0\u30f3\u30c9\u5168\u4f53\u306b\u5bfe\u3057\u3066\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u4ee5\u4e0b\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u30b2\u30a4\u30f3\u306e\u307f\u3067\u3059\u3002\n// \u30b0\u30ed\u30fc\u30d0\u30eb\u30b2\u30a4\u30f3\nfloat globalGain = 0;   // Range: -96 -> 24\n\n\u5404\u30d0\u30f3\u30c9\u306b\u5bfe\u3057\u3066\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u3059\u3002Audio Unit\u306e\u3082\u306e\u3068\u540c\u7b49\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n// \u30d5\u30a3\u30eb\u30bf\u30fc\u30bf\u30a4\u30d7\nAVAudioUnitEQFilterType filterType = 0;\n\n// \u4e2d\u5fc3\u5468\u6ce2\u6570\nfloat frequency = 1000; // Range: 20 -> (SampleRate/2)\n\n// \u30d0\u30f3\u30c9\u5e45\nfloat bandwidth = 0.5;  // Range: 0.05 -> 5.0\n\n// \u30b2\u30a4\u30f3\nfloat gain = 0; // Range: -96 -> 24\n\n// \u30d0\u30a4\u30d1\u30b9\nBOOL bypass = YES;\n\n\u30d5\u30a3\u30eb\u30bf\u30fc\u30bf\u30a4\u30d7\u306fAudio Unit\u3068\u540c\u3058\u3067\u3059\u3002\ntypedef NS_ENUM(NSInteger, AVAudioUnitEQFilterType) {\n    AVAudioUnitEQFilterTypeParametric        = 0,\n    AVAudioUnitEQFilterTypeLowPass           = 1,\n    AVAudioUnitEQFilterTypeHighPass          = 2,\n    AVAudioUnitEQFilterTypeResonantLowPass   = 3,\n    AVAudioUnitEQFilterTypeResonantHighPass  = 4,\n    AVAudioUnitEQFilterTypeBandPass          = 5,\n    AVAudioUnitEQFilterTypeBandStop          = 6,\n    AVAudioUnitEQFilterTypeLowShelf          = 7,\n    AVAudioUnitEQFilterTypeHighShelf         = 8,\n    AVAudioUnitEQFilterTypeResonantLowShelf  = 9,\n    AVAudioUnitEQFilterTypeResonantHighShelf = 10,\n} NS_ENUM_AVAILABLE(10_10, 8_0);\n\n\nAVAudioUnitReverb\n\u30ea\u30d0\u30fc\u30d6\u3002kAudioUnitSubType_Reverb2\u306eiOS\u7248\u3067\u3059\u3002\nPreset\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u3067\u3001\u307b\u3068\u3093\u3069\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u96a0\u853d\u3055\u308c\u3066\u3044\u307e\u3059\u3002\uff08\u30c7\u30a3\u30b9\u30c8\u30fc\u30b7\u30e7\u30f3\u3068\u540c\u3058\u5f62\u614b\uff09\n\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3067Preset\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n- (void)loadFactoryPreset:(AVAudioUnitReverbPreset)preset;\n\nPreset\u306f\u4ee5\u4e0b\u306e\u7a2e\u985e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\ntypedef NS_ENUM(NSInteger, AVAudioUnitReverbPreset) {\n    AVAudioUnitReverbPresetSmallRoom       = 0,\n    AVAudioUnitReverbPresetMediumRoom      = 1,\n    AVAudioUnitReverbPresetLargeRoom       = 2,\n    AVAudioUnitReverbPresetMediumHall      = 3,\n    AVAudioUnitReverbPresetLargeHall       = 4,\n    AVAudioUnitReverbPresetPlate           = 5,\n    AVAudioUnitReverbPresetMediumChamber   = 6,\n    AVAudioUnitReverbPresetLargeChamber    = 7,\n    AVAudioUnitReverbPresetCathedral       = 8,\n    AVAudioUnitReverbPresetLargeRoom2      = 9,\n    AVAudioUnitReverbPresetMediumHall2     = 10,\n    AVAudioUnitReverbPresetMediumHall3     = 11,\n    AVAudioUnitReverbPresetLargeHall2      = 12\n} NS_ENUM_AVAILABLE(10_10, 8_0);\n\n\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306fwetDryMix\u3060\u3051\u306e\u3088\u3046\u3067\u3059\u3002\n// Mix\u306e\u5272\u5408\nfloat wetDryMix = 0.5;  // Range: 0 (all dry) -> 100 (all wet)\n\n\nAVAudioUnitGenerator\nkAudioUnitType_Generator\u306eiOS\u7248\u3067\u3059\u3002\n\u3053\u3053\u3067\u306f\u8aac\u660e\u306f\u7701\u7565\u3057\u307e\u3059\u3002\n\nAVAudioUnitMIDIInstrument\nkAudioUnitType_MusicDevice\u306eiOS\u7248\u3067\u3059\u3002\n\nAVAudioUnitSampler\n\u30b5\u30f3\u30d7\u30e9\u30fc\u3002kAudioUnitSubType_Sampler\u306eiOS\u7248\u3067\u3059\u3002\n\u3053\u308c\u306f\u5225\u306e\u6a5f\u4f1a\u3067\u6271\u3046\u3068\u3057\u3066\u3001\u3053\u3053\u3067\u306f\u8aac\u660e\u306f\u7701\u7565\u3057\u307e\u3059\u3002\n\nAVAudioUnitTimeEffect\nkAudioUnitType_FormatConverter\u306eiOS\u7248\u3001\u3068\u3044\u3046\u306b\u306f\u304b\u306a\u308a\u9650\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30af\u30e9\u30b9\u540d\u304b\u3089\u3082\u308f\u304b\u308b\u3088\u3046\u306b\u3001Time Effect\u306b\u95a2\u3059\u308b\u3082\u306e\u304c\u8a72\u5f53\u3059\u308b\u3088\u3046\u3067\u3059\u3002\n\nAVAudioUnitTimePitch\n\u30bf\u30a4\u30e0\u30b9\u30c8\u30ec\u30c3\u30c1\u3001\u30d4\u30c3\u30c1\u30b7\u30d5\u30c8\u3002kAudioUnitSubType_NewTimePitch\u306eiOS\u7248\u3067\u3059\u3002\n\u307b\u3068\u3093\u3069\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u5341\u5206\u306b\u67d4\u8edf\u306a\u4f7f\u3044\u65b9\u304c\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n// \u518d\u751f\u30b9\u30d4\u30fc\u30c9\nfloat rate = 1.0;   // Range: 1/32 -> 32.0\n\n// \u30d4\u30c3\u30c1\nfloat pitch = 1.0;  // Range: -2400 -> 2400\n\n// \u30aa\u30fc\u30d0\u30fc\u30e9\u30c3\u30d7\u6570\u3002\u5024\u306e\u5927\u304d\u3044\u65b9\u304c\u97f3\u8cea\u3082\u5411\u4e0a\u3059\u308b\u304c\u3001\u51e6\u7406\u304c\u91cd\u304f\u306a\u308b\u3002\nfloat overlap = 8.0;    // Range: 3.0 -> 32.0\n\n\nAVAudioUnitVarispeed\n\u518d\u751f\u30b9\u30d4\u30fc\u30c9\u3068\u30d4\u30c3\u30c1\u304c\u540c\u671f\u3057\u3066\u5909\u5316\u3059\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3002kAudioUnitSubType_Varispeed\u306eiOS\u7248\u3067\u3059\u3002\nAudio Unit\u3067\u306f\u3082\u30461\u3064\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3060\u3051\u3067\u6a5f\u80fd\u3068\u3057\u3066\u306f\u5341\u5206\u3067\u3059\u3002\n// \u5909\u63db\u30ec\u30fc\u30c8\nfloat rate = 1.0;   // Range: 0.25 -> 4.0\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\u5b9f\u88c5\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08AudioEngineIO\uff09\nhttps://github.com/JunichiMinamino/AUGraphSample\n\u4eca\u56de\u306e\u8a18\u4e8b\u306f\u3001\u30d8\u30c3\u30c0\u30fc\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u3084\u30e1\u30bd\u30c3\u30c9\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u305f\u3082\u306e\u3067\u3059\u306e\u3067\u300c\u57fa\u672c\u7de8\u300d\u3068\u3057\u307e\u3057\u305f\u3002\nAVAudioUnit\u3092\u7528\u3044\u305f\u5834\u5408\u3067\u3082Audio Unit\u30ec\u30d9\u30eb\u306e\u8a73\u7d30\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3067\u3059\u3002\u305d\u306e\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306fAVAudioUnit\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u8a73\u7d30\uff08\u5fdc\u7528\u7de8\uff09\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\niOS8\u304b\u3089`AVAudioEngine`\u3068\u3044\u3046\u30aa\u30fc\u30c7\u30a3\u30aa\u6a5f\u80fd\u304cAVFoundation\u5185\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u7d30\u304b\u306a\u8aac\u660e\u306f\u4ed6\u306e\u65b9\u3082\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u7c21\u5358\u306b\u300cAUGraph\u306eiOS\u7248\u300d\u306e\u3088\u3046\u306a\u3082\u306e\u3068\u8a00\u3063\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\uff08\u30e9\u30c3\u30d1\u30fc\u30af\u30e9\u30b9\u3068\u3044\u3046\u306e\u304c\u9069\u5f53\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\uff09\n\n\u305f\u3060\u3057\u3001\u96a0\u853d\u3055\u308c\u3066\u3044\u308b\u70b9\u306f\u6570\u591a\u304f\u898b\u3089\u308c\u307e\u3059\u3002\u4eca\u56de\u7d39\u4ecb\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3064\u3044\u3066\u3082\u305d\u3046\u3067\u3059\u304c\u3001\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u306e\u5229\u7528\u65b9\u6cd5\u304c\u898b\u5f53\u305f\u3089\u306a\u304b\u3063\u305f\u306e\u306f\u5927\u304d\u3044\u3067\u3059\u3002\u305d\u308c\u304c\u3086\u3048\u306b\u3001\u79c1\u81ea\u8eab\u304c\u4eca\u5f8cAUGraph\u304b\u3089AVAudioEngine\u306b\u7f6e\u304d\u63db\u3048\u308b\u304b\u3069\u3046\u304b\u3068\u3044\u3046\u3068\u3001\u4eca\u306e\u3068\u3053\u308d\u306fNO\u3067\u3059\u3002\n\u4eca\u5f8c\u306e\u62e1\u5145\u306b\u671f\u5f85\u3068\u3044\u3046\u306e\u3068\u3001\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u3092\u4f5c\u6210\u3059\u308b\u3068\u304d\u306b\u5229\u7528\u3059\u308b\u306b\u306f\u4fbf\u5229\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5927\u307e\u304b\u306b\u306f\u4ee5\u4e0b\u306e\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n- AVAudioEngine\n- AVAudioFile\n- AVAudioNode\n  - AVAudioEnvironmentNode\u3000\uff08\u4eca\u56de\u306f\u4f7f\u308f\u306a\u3044\uff09\n  - AVAudioIONode\u3000\uff08\u4eca\u56de\u306f\u4f7f\u308f\u306a\u3044\uff09\n  - AVAudioPlayerNode\n  - AVAudioMixerNode\n  - AVAudioUnit\n\n\u3055\u3089\u306b`AVAudioUnit`\uff08\u300cAudio Unit\u306eiOS\u7248\u300d\u3067\u3059\u306d\uff09\u306b\u3064\u3044\u3066\u6398\u308a\u4e0b\u3052\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n- AVAudioUnit\n  - AVAudioUnitEffect\n  - AVAudioUnitGenerator\u3000\uff08\u4eca\u56de\u306f\u4f7f\u308f\u306a\u3044\uff09\n  - AVAudioUnitMIDIInstrument\u3000\uff08\u4eca\u56de\u306f\u4f7f\u308f\u306a\u3044\uff09\n  - AVAudioUnitTimeEffect\n\n\u4eca\u56de\u306fAVAudioUnit\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u3001Audio Unit\u3068\u6bd4\u8f03\u3057\u306a\u304c\u3089\u8aac\u660e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\uff08Audio Unit\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001[\u3053\u3061\u3089\u306e\u8a18\u4e8b](http://qiita.com/MJeeeey/items/fc9ebf3547fe40244e2c)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff09\n\n# AVAudioUnitEffect\n`kAudioUnitType_Effect`\u306eiOS\u7248\u3067\u3059\u3002\u305f\u3060\u3001\u516c\u958b\u3055\u308c\u3066\u3044\u308bEffect\u306e\u7a2e\u985e\u306f\u5c11\u306a\u3044\u3067\u3059\u3002\n\n## AVAudioUnitDelay\n\u30c7\u30a3\u30ec\u30a4\u3002`kAudioUnitSubType_Delay`\u306eiOS\u7248\u3067\u3059\u3002\n\u3053\u308c\u306b\u3064\u3044\u3066\u306fAudio Unit\u306e\u3082\u306e\u3068\u540c\u7b49\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n~~~c\n// \u30c7\u30a3\u30ec\u30a4\u30bf\u30a4\u30e0\nNSTimeInterval delayTime = 1;\t// Range: 0 -> 2\n\n// \u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\nfloat feedback = 50;\t// Range: -100 -> 100\n\n// \u9ad8\u57df\u5074\u306e\u30ab\u30c3\u30c8\u30aa\u30d5\u5468\u6ce2\u6570\nfloat lowPassCutoff = 15000;\t// Range: 10 -> (samplerate/2)\n\n// Mix\u306e\u5272\u5408\nfloat wetDryMix = 100;\t// Range: 0 (all dry) -> 100 (all wet)\n~~~\n\n## AVAudioUnitDistortion\n\u30c7\u30a3\u30b9\u30c8\u30fc\u30b7\u30e7\u30f3\u3002`kAudioUnitSubType_Distortion`\u306eiOS\u7248\u3067\u3059\u3002\nPreset\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u3067\u3001\u307b\u3068\u3093\u3069\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u96a0\u853d\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3067\u3059\u304c\u3001\u7c21\u5358\u306b\u3064\u304b\u3063\u3066\u307f\u305f\u3044\u306e\u3067\u3042\u308c\u3070\u3053\u3061\u3089\u306e\u65b9\u304c\u826f\u3044\u306e\u304b\u3082\u3002\n\n\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3067Preset\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\n~~~objectivec\n- (void)loadFactoryPreset:(AVAudioUnitDistortionPreset)preset;\n~~~\n\nPreset\u306f\u4ee5\u4e0b\u306e\u7a2e\u985e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n~~~c\ntypedef NS_ENUM(NSInteger, AVAudioUnitDistortionPreset) {\n    AVAudioUnitDistortionPresetDrumsBitBrush           = 0,\n    AVAudioUnitDistortionPresetDrumsBufferBeats        = 1,\n    AVAudioUnitDistortionPresetDrumsLoFi               = 2,\n    AVAudioUnitDistortionPresetMultiBrokenSpeaker      = 3,\n    AVAudioUnitDistortionPresetMultiCellphoneConcert   = 4,\n    AVAudioUnitDistortionPresetMultiDecimated1         = 5,\n    AVAudioUnitDistortionPresetMultiDecimated2         = 6,\n    AVAudioUnitDistortionPresetMultiDecimated3         = 7,\n    AVAudioUnitDistortionPresetMultiDecimated4         = 8,\n    AVAudioUnitDistortionPresetMultiDistortedFunk      = 9,\n    AVAudioUnitDistortionPresetMultiDistortedCubed     = 10,\n    AVAudioUnitDistortionPresetMultiDistortedSquared   = 11,\n    AVAudioUnitDistortionPresetMultiEcho1              = 12,\n    AVAudioUnitDistortionPresetMultiEcho2              = 13,\n    AVAudioUnitDistortionPresetMultiEchoTight1         = 14,\n    AVAudioUnitDistortionPresetMultiEchoTight2         = 15,\n    AVAudioUnitDistortionPresetMultiEverythingIsBroken = 16,\n    AVAudioUnitDistortionPresetSpeechAlienChatter      = 17,\n    AVAudioUnitDistortionPresetSpeechCosmicInterference = 18,\n    AVAudioUnitDistortionPresetSpeechGoldenPi          = 19,\n    AVAudioUnitDistortionPresetSpeechRadioTower        = 20,\n    AVAudioUnitDistortionPresetSpeechWaves             = 21\n} NS_ENUM_AVAILABLE(10_10, 8_0);\n~~~\n\n\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u4ee5\u4e0b\u306e\u3082\u306e\u3060\u3051\u306e\u3088\u3046\u3067\u3059\u3002\n\n~~~c\n// \u30d7\u30ea\u30b2\u30a4\u30f3\nfloat preGain = -6;\t// Range: -80 -> 20\n\n// Mix\u306e\u5272\u5408\nfloat wetDryMix = 50;\t// Range: 0 (all dry) -> 100 (all distorted)\n~~~\n\n\n## AVAudioUnitEQ\n\u30a4\u30b3\u30e9\u30a4\u30b6\u30fc\u3002`kAudioUnitSubType_NBandEQ`\u306eiOS\u7248\u3067\u3059\u3002\n\u3053\u308c\u306b\u3064\u3044\u3066\u306fAudio Unit\u306e\u3082\u306e\u3068\u540c\u7b49\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u4ed6\u306e\u30a8\u30d5\u30a7\u30af\u30c8\u3068\u306f\u3084\u3084\u69cb\u6210\u304c\u7570\u306a\u308b\u306e\u3067\u3001\uff08\u8aac\u660e\u3057\u3084\u3059\u304f\u3059\u308b\u305f\u3081\uff09\u6700\u521d\u306b\u5177\u4f53\u7684\u306a\u30b3\u30fc\u30c9\u4f8b\u3092\u8f09\u305b\u307e\u3059\u3002\n\n~~~objectivec\n// AVAudioUnitEQ *_audioUnitEq;\n\n// \u521d\u671f\u5316\uff08\u30d0\u30f3\u30c9\u6570\uff1a2\uff09\nNSUInteger numberOfBands = 2;\n_audioUnitEq = [[AVAudioUnitEQ alloc] initWithNumberOfBands:numberOfBands];\n[_audioEngine attachNode:_audioUnitEq];\n\n// \u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\n_audioUnitEq.globalGain = 0.0;\nNSArray *bands = _audioUnitEq.bands;\nfor (int i = 0; i < numberOfBands; i++) {\n\tAVAudioUnitEQFilterParameters *parameters = bands[i];\n\tparameters.filterType = AVAudioUnitEQFilterTypeParametric;\n\tparameters.frequency = 128.0 + 128.0 * i;\n\tparameters.bandwidth = 0.5;\n\tparameters.gain = 0.0;\n\tparameters.bypass = NO;\n}\n~~~\n\n\u521d\u671f\u5316\u6642\u306b\u30d0\u30f3\u30c9\u6570\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001Audio Unit\u306e\u3068\u304d\u3088\u308a\u30d0\u30f3\u30c9\u6570\u306e\u8a2d\u5b9a\u65b9\u6cd5\u304c\u308f\u304b\u308a\u3084\u3059\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n~~~objectivec\n- (instancetype)initWithNumberOfBands:(NSUInteger)numberOfBands;\n~~~\n\n\u30d0\u30f3\u30c9\u5168\u4f53\u306b\u5bfe\u3057\u3066\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u4ee5\u4e0b\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u30b2\u30a4\u30f3\u306e\u307f\u3067\u3059\u3002\n\n~~~c\n// \u30b0\u30ed\u30fc\u30d0\u30eb\u30b2\u30a4\u30f3\nfloat globalGain = 0;\t// Range: -96 -> 24\n~~~\n\n\u5404\u30d0\u30f3\u30c9\u306b\u5bfe\u3057\u3066\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u3059\u3002Audio Unit\u306e\u3082\u306e\u3068\u540c\u7b49\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n~~~objectivec\n// \u30d5\u30a3\u30eb\u30bf\u30fc\u30bf\u30a4\u30d7\nAVAudioUnitEQFilterType filterType = 0;\n\n// \u4e2d\u5fc3\u5468\u6ce2\u6570\nfloat frequency = 1000;\t// Range: 20 -> (SampleRate/2)\n\n// \u30d0\u30f3\u30c9\u5e45\nfloat bandwidth = 0.5;\t// Range: 0.05 -> 5.0\n\n// \u30b2\u30a4\u30f3\nfloat gain = 0;\t// Range: -96 -> 24\n\n// \u30d0\u30a4\u30d1\u30b9\nBOOL bypass = YES;\n~~~\n\n\u30d5\u30a3\u30eb\u30bf\u30fc\u30bf\u30a4\u30d7\u306fAudio Unit\u3068\u540c\u3058\u3067\u3059\u3002\n\n~~~c\ntypedef NS_ENUM(NSInteger, AVAudioUnitEQFilterType) {\n    AVAudioUnitEQFilterTypeParametric        = 0,\n    AVAudioUnitEQFilterTypeLowPass           = 1,\n    AVAudioUnitEQFilterTypeHighPass          = 2,\n    AVAudioUnitEQFilterTypeResonantLowPass   = 3,\n    AVAudioUnitEQFilterTypeResonantHighPass  = 4,\n    AVAudioUnitEQFilterTypeBandPass          = 5,\n    AVAudioUnitEQFilterTypeBandStop          = 6,\n    AVAudioUnitEQFilterTypeLowShelf          = 7,\n    AVAudioUnitEQFilterTypeHighShelf         = 8,\n    AVAudioUnitEQFilterTypeResonantLowShelf  = 9,\n    AVAudioUnitEQFilterTypeResonantHighShelf = 10,\n} NS_ENUM_AVAILABLE(10_10, 8_0);\n~~~\n\n\n## AVAudioUnitReverb\n\u30ea\u30d0\u30fc\u30d6\u3002`kAudioUnitSubType_Reverb2`\u306eiOS\u7248\u3067\u3059\u3002\nPreset\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u3067\u3001\u307b\u3068\u3093\u3069\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u96a0\u853d\u3055\u308c\u3066\u3044\u307e\u3059\u3002\uff08\u30c7\u30a3\u30b9\u30c8\u30fc\u30b7\u30e7\u30f3\u3068\u540c\u3058\u5f62\u614b\uff09\n\n\u4ee5\u4e0b\u306e\u30e1\u30bd\u30c3\u30c9\u3067Preset\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\n~~~objectivec\n- (void)loadFactoryPreset:(AVAudioUnitReverbPreset)preset;\n~~~\n\nPreset\u306f\u4ee5\u4e0b\u306e\u7a2e\u985e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n~~~c\ntypedef NS_ENUM(NSInteger, AVAudioUnitReverbPreset) {\n    AVAudioUnitReverbPresetSmallRoom       = 0,\n    AVAudioUnitReverbPresetMediumRoom      = 1,\n    AVAudioUnitReverbPresetLargeRoom       = 2,\n    AVAudioUnitReverbPresetMediumHall      = 3,\n    AVAudioUnitReverbPresetLargeHall       = 4,\n    AVAudioUnitReverbPresetPlate           = 5,\n    AVAudioUnitReverbPresetMediumChamber   = 6,\n    AVAudioUnitReverbPresetLargeChamber    = 7,\n    AVAudioUnitReverbPresetCathedral       = 8,\n    AVAudioUnitReverbPresetLargeRoom2      = 9,\n    AVAudioUnitReverbPresetMediumHall2     = 10,\n    AVAudioUnitReverbPresetMediumHall3     = 11,\n    AVAudioUnitReverbPresetLargeHall2      = 12\n} NS_ENUM_AVAILABLE(10_10, 8_0);\n~~~\n\n\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306fwetDryMix\u3060\u3051\u306e\u3088\u3046\u3067\u3059\u3002\n\n~~~c\n// Mix\u306e\u5272\u5408\nfloat wetDryMix = 0.5;\t// Range: 0 (all dry) -> 100 (all wet)\n~~~\n\n# AVAudioUnitGenerator\n`kAudioUnitType_Generator`\u306eiOS\u7248\u3067\u3059\u3002\n\u3053\u3053\u3067\u306f\u8aac\u660e\u306f\u7701\u7565\u3057\u307e\u3059\u3002\n\n# AVAudioUnitMIDIInstrument\n`kAudioUnitType_MusicDevice`\u306eiOS\u7248\u3067\u3059\u3002\n\n## AVAudioUnitSampler\n\u30b5\u30f3\u30d7\u30e9\u30fc\u3002`kAudioUnitSubType_Sampler`\u306eiOS\u7248\u3067\u3059\u3002\n\u3053\u308c\u306f\u5225\u306e\u6a5f\u4f1a\u3067\u6271\u3046\u3068\u3057\u3066\u3001\u3053\u3053\u3067\u306f\u8aac\u660e\u306f\u7701\u7565\u3057\u307e\u3059\u3002\n\n# AVAudioUnitTimeEffect\n`kAudioUnitType_FormatConverter`\u306eiOS\u7248\u3001\u3068\u3044\u3046\u306b\u306f\u304b\u306a\u308a\u9650\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30af\u30e9\u30b9\u540d\u304b\u3089\u3082\u308f\u304b\u308b\u3088\u3046\u306b\u3001Time Effect\u306b\u95a2\u3059\u308b\u3082\u306e\u304c\u8a72\u5f53\u3059\u308b\u3088\u3046\u3067\u3059\u3002\n\n## AVAudioUnitTimePitch\n\u30bf\u30a4\u30e0\u30b9\u30c8\u30ec\u30c3\u30c1\u3001\u30d4\u30c3\u30c1\u30b7\u30d5\u30c8\u3002`kAudioUnitSubType_NewTimePitch`\u306eiOS\u7248\u3067\u3059\u3002\n\u307b\u3068\u3093\u3069\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u5341\u5206\u306b\u67d4\u8edf\u306a\u4f7f\u3044\u65b9\u304c\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n~~~c\n// \u518d\u751f\u30b9\u30d4\u30fc\u30c9\nfloat rate = 1.0;\t// Range: 1/32 -> 32.0\n\n// \u30d4\u30c3\u30c1\nfloat pitch = 1.0;\t// Range: -2400 -> 2400\n\n// \u30aa\u30fc\u30d0\u30fc\u30e9\u30c3\u30d7\u6570\u3002\u5024\u306e\u5927\u304d\u3044\u65b9\u304c\u97f3\u8cea\u3082\u5411\u4e0a\u3059\u308b\u304c\u3001\u51e6\u7406\u304c\u91cd\u304f\u306a\u308b\u3002\nfloat overlap = 8.0;\t// Range: 3.0 -> 32.0\n~~~\n\n## AVAudioUnitVarispeed\n\u518d\u751f\u30b9\u30d4\u30fc\u30c9\u3068\u30d4\u30c3\u30c1\u304c\u540c\u671f\u3057\u3066\u5909\u5316\u3059\u308b\u30a8\u30d5\u30a7\u30af\u30c8\u3002`kAudioUnitSubType_Varispeed`\u306eiOS\u7248\u3067\u3059\u3002\n\nAudio Unit\u3067\u306f\u3082\u30461\u3064\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3060\u3051\u3067\u6a5f\u80fd\u3068\u3057\u3066\u306f\u5341\u5206\u3067\u3059\u3002\n\n~~~c\n// \u5909\u63db\u30ec\u30fc\u30c8\nfloat rate = 1.0;\t// Range: 0.25 -> 4.0\n~~~\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\n\u5b9f\u88c5\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\uff08AudioEngineIO\uff09\nhttps://github.com/JunichiMinamino/AUGraphSample\n\n\u4eca\u56de\u306e\u8a18\u4e8b\u306f\u3001\u30d8\u30c3\u30c0\u30fc\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u3084\u30e1\u30bd\u30c3\u30c9\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u305f\u3082\u306e\u3067\u3059\u306e\u3067\u300c\u57fa\u672c\u7de8\u300d\u3068\u3057\u307e\u3057\u305f\u3002\nAVAudioUnit\u3092\u7528\u3044\u305f\u5834\u5408\u3067\u3082Audio Unit\u30ec\u30d9\u30eb\u306e\u8a73\u7d30\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3067\u3059\u3002\u305d\u306e\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f[AVAudioUnit\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u8a73\u7d30\uff08\u5fdc\u7528\u7de8\uff09](http://qiita.com/MJeeeey/items/b4332c649e8350dad844)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n", "tags": ["avfoundation", "AudioUnit", "CoreAudio", "Objective-C", "AVAudioEngine"]}