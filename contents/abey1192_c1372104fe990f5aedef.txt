{"context": " More than 1 year has passed since last update.PlayFramework\u3067\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\u969b\u306b\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u305f\u304f\u3066\u3001\u3061\u3087\u3063\u3068\u8abf\u3079\u3066\u307f\u305f\u306e\u3067\u3001\u5099\u5fd8\u9332\u3092\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nval response = Map(\"user_id\" -> 10, \"name\" -> \"user name\")\nOk(response)\n\n\n\n\u7d50\u8ad6\u3068\u304b\n\u7d50\u8ad6\u3060\u3051\u66f8\u304f\u3068\u3001\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3001Writeable\u3068ContentTypeOf\u3092\u81ea\u5206\u3067\u5b9a\u7fa9\u3059\u308c\u3070\u826f\u3044\u307f\u305f\u3044\u3067\u3057\u305f\u3002\nJson\u3068\u304bXml\u3068\u304b\u3001\u3088\u304f\u4f7f\u3046\u3082\u306e\u306f Controller \u306b\u30df\u30c3\u30af\u30b9\u30a4\u30f3\u3055\u308c\u3066\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3001\u305f\u3076\u3093(\u3088\u304f\u308f\u304b\u3063\u3066\u306a\u3044)\n\n\u306a\u3093\u3068\u304bController.scala\u306e\u4e00\u90e8\ntype HashContent = Map[String,Any]\n\nprotected val mimeType:String = \"application/x-my-mimetype\"\n\nprotected def transform(data:HashContent):Array[Byte] = { /* \u5272\u611b */ }\n\nimplicit private def contentType:ContentTypeOf[HashContent] = new ContentTypeOf[HashContent](Some(mimeType))\n\nimplicit private def writer:Writeable[HashContent] = Writeable[HashContent](transform(_))\n\ndef someRouting = Action { implicit r =>\n\n  val response = Map(\"user_id\" -> 10, \"name\" -> \"user name\")\n  Ok(response)\n\n}\n\n\n\n\u5b9f\u969b\u306b\u306f\n\u5b9f\u969b\u306b\u306f\u3053\u308c\u3092\u3061\u3087\u3063\u3068\u5909\u66f4\u3057\u3066\u3001Json\u3092\u8fd4\u3057\u305f\u308aMessagePack\u3092\u8fd4\u3057\u305f\u308a\u5207\u308a\u66ff\u3048\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e0b\u306e\u3088\u3046\u306b\u3001mime type\u6bce\u306btrait\u306b\u3057\u305f\u308a\u3057\u3066\u3002\n// \u899a\u3048\u66f8\u304d\u306e\u305f\u3081\u306b\u66f8\u304d\u4e0b\u3057\u305f\u30b3\u30fc\u30c9\u306a\u306e\u3067\u3001\u3053\u306e\u307e\u307e\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u901a\u3089\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\ntrait MessagePackTransformer {\n  protected val mimeType:String = \"application/x-msgpack\"\n  protected def transform(data:HashContent):Array[Byte] = ScalaMessagePack.pack(data)\n}\n\nPlayFramework\u3067\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\u969b\u306b\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304d\u305f\u304f\u3066\u3001\u3061\u3087\u3063\u3068\u8abf\u3079\u3066\u307f\u305f\u306e\u3067\u3001\u5099\u5fd8\u9332\u3092\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n~~~scala\n\nval response = Map(\"user_id\" -> 10, \"name\" -> \"user name\")\nOk(response)\n\n~~~\n\n### \u7d50\u8ad6\u3068\u304b\n\n\u7d50\u8ad6\u3060\u3051\u66f8\u304f\u3068\u3001\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3001Writeable\u3068ContentTypeOf\u3092\u81ea\u5206\u3067\u5b9a\u7fa9\u3059\u308c\u3070\u826f\u3044\u307f\u305f\u3044\u3067\u3057\u305f\u3002\nJson\u3068\u304bXml\u3068\u304b\u3001\u3088\u304f\u4f7f\u3046\u3082\u306e\u306f Controller \u306b\u30df\u30c3\u30af\u30b9\u30a4\u30f3\u3055\u308c\u3066\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3001\u305f\u3076\u3093(\u3088\u304f\u308f\u304b\u3063\u3066\u306a\u3044)\n\n~~~scala:\u306a\u3093\u3068\u304bController.scala\u306e\u4e00\u90e8\ntype HashContent = Map[String,Any]\n\nprotected val mimeType:String = \"application/x-my-mimetype\"\n\nprotected def transform(data:HashContent):Array[Byte] = { /* \u5272\u611b */ }\n\nimplicit private def contentType:ContentTypeOf[HashContent] = new ContentTypeOf[HashContent](Some(mimeType))\n\nimplicit private def writer:Writeable[HashContent] = Writeable[HashContent](transform(_))\n\ndef someRouting = Action { implicit r =>\n\n  val response = Map(\"user_id\" -> 10, \"name\" -> \"user name\")\n  Ok(response)\n\n}\n~~~\n\n### \u5b9f\u969b\u306b\u306f\n\n\u5b9f\u969b\u306b\u306f\u3053\u308c\u3092\u3061\u3087\u3063\u3068\u5909\u66f4\u3057\u3066\u3001Json\u3092\u8fd4\u3057\u305f\u308aMessagePack\u3092\u8fd4\u3057\u305f\u308a\u5207\u308a\u66ff\u3048\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u4e0b\u306e\u3088\u3046\u306b\u3001mime type\u6bce\u306btrait\u306b\u3057\u305f\u308a\u3057\u3066\u3002\n\n~~~scala\n// \u899a\u3048\u66f8\u304d\u306e\u305f\u3081\u306b\u66f8\u304d\u4e0b\u3057\u305f\u30b3\u30fc\u30c9\u306a\u306e\u3067\u3001\u3053\u306e\u307e\u307e\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u901a\u3089\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\ntrait MessagePackTransformer {\n  protected val mimeType:String = \"application/x-msgpack\"\n  protected def transform(data:HashContent):Array[Byte] = ScalaMessagePack.pack(data)\n}\n~~~\n", "tags": ["Scala2.11.4", "PlayFramework2.3.6"]}