{"context": " More than 1 year has passed since last update.\nToo Many Markers! - Google Maps API \u2014 Google Developers\n\n\nhttps://developers.google.com/maps/articles/toomanymarkers\n\n\n\n\u3092\u8aad\u3093\u3060\u30e1\u30e2\u3067\u3059\u3002\n\nIntroduction\n\nSome applications are required to display a large number of locations or markers. Despite the v3 JavaScript API's significant improvement to performance, naively plotting thousands of markers on a map can quickly lead to a degraded user experience. Too many markers on the map cause both visual overload and sluggish interaction with the map.\n\nv3 \u3067\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306f\u5927\u5e45\u306b\u6539\u5584\u3055\u308c\u305f\u3002\u305d\u308c\u3067\u3082\u3001\u5927\u91cf\u306e\u30de\u30fc\u30ab\u3092\u914d\u7f6e\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u30e6\u30fc\u30b6\u30a8\u30af\u30b9\u30da\u30ea\u30a8\u30f3\u30b9\u306f\u6025\u6fc0\u306b\u60aa\u5316\u3059\u308b\u3002\n\nTo overcome this poor performance, the information displayed on the map needs to be simplified.\n\n\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6539\u5584\u3059\u308b\u306b\u306f\u3001\u5730\u56f3\u306b\u8868\u793a\u3059\u308b\u60c5\u5831\u3092\u5358\u7d14\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\nOne approach at simplification is to render markers on the server.\n\n\u5358\u7d14\u5316\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306e1\u3064\u3068\u3057\u3066\u3001\u30de\u30fc\u30ab\u3092\u30b5\u30fc\u30d0\u3067\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\nGoogle provides two services built into the v3 API that make this easy to achieve: FusionTablesLayer and KmlLayer.\n\nGoogle \u306f v3 API \u3067 (\u30b5\u30fc\u30d0\u3067\u30de\u30fc\u30ab\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b) 2\u3064\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3002\n\nFusionTablesLayer\nKmlLayer\n\n\nIf you'd prefer to perform computations on your own server, this can be accomplished by creating a custom overlay from imagery that is pre-rendered, or rendered on the fly.\n\n\u81ea\u524d\u306e\u30b5\u30fc\u30d0\u3067\u8a08\u7b97\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30d7\u30ea\u30ec\u30f3\u30c0\u30fc\u3001\u3082\u3057\u304f\u306f\u30aa\u30f3\u30b6\u30d5\u30e9\u30a4\u3067\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u305f\u753b\u50cf\u304b\u3089\u3001\u30ab\u30b9\u30bf\u30e0\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u3092\u4f5c\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u308b\u3002\n\nAnother useful optimization technique involves viewport marker management:\n\n\u5225\u306e\u6700\u9069\u5316\u30c6\u30af\u30cb\u30c3\u30af\u3068\u3057\u3066\u3001\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u30de\u30fc\u30ab\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u304c\u3042\u308b\u3002\n\nrestricting the markers rendered on the map into only those that exist within the viewable area.\n\n\u8868\u793a\u30a8\u30ea\u30a2\u306b\u9650\u5b9a\u3057\u3066\u3001\u30de\u30fc\u30ab\u3092\u5730\u56f3\u4e0a\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u3002\n\nIf you still want to display many markers on the map, consider creating a custom overlay that displays markers with minimal functionality.\n\n\u305d\u308c\u3067\u3082\u5730\u56f3\u306b\u5927\u91cf\u306e\u30de\u30fc\u30ab\u3092\u8868\u793a\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u6700\u5c0f\u9650\u306e\u6a5f\u80fd\u3060\u3051\u3082\u3063\u305f\u30de\u30fc\u30ab\u3092\u8868\u793a\u3059\u308b\u30ab\u30b9\u30bf\u30e0\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u3092\u4f5c\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3088\u3046\u3002\n\nThis approach may garner performance improvements over standard markers provided by the API.\n\n\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u3063\u3066\u3001API \u306b\u3088\u3063\u3066\u63d0\u4f9b\u3055\u308c\u308b\u6a19\u6e96\u306e\u30de\u30fc\u30ab\u30fc\u3088\u308a\u3082\u3001\u826f\u3044\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u5f97\u3089\u308c\u308b\u3060\u308d\u3046\u3002\n\nClustering simplifies your data visualization by consolidating data that are nearby each other on the map in an aggregate form.\n\n\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306f\u3001\u4e92\u3044\u306b\u8fd1\u304f\u306b\u3042\u308b\u30c7\u30fc\u30bf\u3092\u7d71\u5408\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30bc\u30fc\u30b7\u30e7\u30f3\u3092\u5358\u7d14\u5316\u3059\u308b\u3002\n\nThese varied approaches are outlined in the following sections:\n\n\u3053\u308c\u3089\u306e\u69d8\u3005\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u89e3\u8aac\u3059\u308b\u3002\n\nGrid-based Clustering \u81ea\u524d\u3067\u5b9f\u88c5\nDistance-based Clustering \u81ea\u524d\u3067\u5b9f\u88c5\nViewport Marker Management \u81ea\u524d\u3067\u5b9f\u88c5\nFusion Tables \u30b5\u30fc\u30d3\u30b9\nMarkerClusterer \u30e9\u30a4\u30d6\u30e9\u30ea\nMarkerManager \u30e9\u30a4\u30d6\u30e9\u30ea\n\n\nGrid-based Clustering\n\nGrid-based clustering works by dividing the map into squares of a certain size (the size changes at each zoom) and then grouping the markers into each grid square.\n\n\u5730\u56f3\u3092\u30ba\u30fc\u30e0\u30ec\u30d9\u30eb\u306b\u5fdc\u3058\u305f\u56db\u89d2\u5f62\u306b\u5206\u5272\u3057\u3001\u30de\u30fc\u30ab\u3092\u30b0\u30eb\u30fc\u30d7\u5316\u3059\u308b\u3002\n\n\u2193\n\n\nThis technique can be rather quick because it only requires iterating through the markers once to see if its position is between a set of coordinates; no complicated distance calculation is needed.\n\n\u8907\u96d1\u306a\u8ddd\u96e2\u306e\u8a08\u7b97\u304c\u4e0d\u8981\u306a\u306e\u3067\u3001\u6bd4\u8f03\u7684\u9ad8\u901f\u3002\n\nIt does have some limitations, as you can see marker's 7 and 8 are close together but because they are in separate grids they are not clustered together.\n\n\u6b20\u70b9\u3002\u3059\u3050\u305d\u3070\u306b\u3042\u308b 7 \u756a\u3068 8 \u756a\u306e\u30de\u30fc\u30ab\u304c\u5225\u3005\u306e\u30b0\u30ea\u30c3\u30c9\u306b\u5206\u304b\u308c\u3066\u3057\u307e\u3046\u3002\n\nNote that each cluster is at a precise grid coordinate which may cluster, say, 5 markers, but put them all at the center of the grid rather than their centroid. The ending result might not accurately describe the data, so this is something that should be considered.\n\n\u6b20\u70b9\u3002\u30b0\u30ea\u30c3\u30c9\u306e\u91cd\u5fc3\u3067\u306f\u306a\u304f\u3001\u4e2d\u5fc3\u306b\u30de\u30fc\u30ab\u304c\u914d\u7f6e\u3055\u308c\u3066\u3057\u307e\u3046\u3002\u30c7\u30fc\u30bf\u3092\u6b63\u78ba\u306b\u53cd\u6620\u3067\u304d\u306a\u3044\u3002\n\nDistance-based Clustering\n\nDistance-based clustering is similar to grid-based clustering, except instead of creating clusters of fixed square bounds, clusters are created based on the distance between the marker and a cluster centroid.\n\n\u56db\u89d2\u3044\u30b0\u30ea\u30c3\u30c9\u306e\u304b\u308f\u308a\u306b\u3001\u30de\u30fc\u30ab\u9593\u306e\u8ddd\u96e2\u3068\u30bb\u30f3\u30c8\u30ed\u30a4\u30c9(\u91cd\u5fc3)\u306b\u57fa\u3065\u3044\u3066\u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u308b\u3002\n\nCluster centroids are generally specified algorithmically through iteration of the existing marker locations.\n\n\u30af\u30e9\u30b9\u30bf\u30bb\u30f3\u30c8\u30ed\u30a4\u30c9\u306f\u3001\u901a\u5e38\u3001\u30de\u30fc\u30ab\u4f4d\u7f6e\u304b\u3089\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u6c7a\u5b9a\u3059\u308b\u3002\n\nFor each marker you look at each cluster\n\n\u5404\u30de\u30fc\u30ab\u306b\u3064\u3044\u3066\u3001\u5404\u30af\u30e9\u30b9\u30bf\u3092\u307f\u308b\u3002\n\nto see how far it is from the center of the cluster.\n\n\u30af\u30e9\u30b9\u30bf\u306e\u4e2d\u5fc3\u304b\u3089\u3069\u308c\u3060\u3051\u306f\u306a\u308c\u3066\u3044\u308b\u304b\u3092\u307f\u308b\u305f\u3081\u3002\n\nIf the distance is less than a maximum (user specified) distance and the cluster is the closest, then that marker is added to the cluster.\n\n\u3082\u3057\u3001\u6c7a\u3081\u3089\u308c\u305f\u6700\u5927\u5024\u3088\u308a\u3082\u8fd1\u304f\u3001\u304b\u3064\u3001\u305d\u306e\u30af\u30e9\u30b9\u30bf\u304c\u4ed6\u306e\u3069\u306e\u30af\u30e9\u30b9\u30bf\u3088\u308a\u3082\u8fd1\u3044\u5834\u5408\u306b\u3001\u30de\u30fc\u30ab\u3092\u305d\u306e\u30af\u30e9\u30b9\u30bf\u306b\u8ffd\u52a0\u3059\u308b\u3002\n\nIf the marker fails to be added to any cluster then a new cluster is created containing that marker.\n\n\u3069\u306e\u30af\u30e9\u30b9\u30bf\u306b\u3082\u8ffd\u52a0\u3055\u308c\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001\u65b0\u3057\u3044\u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u308b\u3002\n\nNo current public library for doing distance-based clustering exists, but you can see how it would work from the images below.\n\n\u3053\u306e\u8a08\u7b97\u3092\u3059\u308b\u30d1\u30d6\u30ea\u30c3\u30af\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u5b58\u5728\u3057\u306a\u3044\u304c\u3001\u4ee5\u4e0b\u306e\u753b\u50cf\u3067\u3069\u306e\u3088\u3046\u306b\u6a5f\u80fd\u3059\u308b\u304b\u308f\u304b\u308b\u3060\u308d\u3046\u3002\n\n\n\n\u8868\u306a\u3069\u3002\u5927\u3057\u305f\u3053\u3068\u66f8\u3044\u3066\u306a\u3044\u306e\u3067\u7701\u7565\u3002\n\nViewport Marker Management\n\nViewport marker management is not a clustering technique, although it can be combined with any of the other clustering methods already listed.\n\n\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u30de\u30fc\u30ab\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u306f\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3067\u306f\u306a\u3044\u304c\u3001\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3048\u308b\u3002\n\nA viewport marker manager works by getting the current bounds of the map that is visible to the user, then \u2014 based on the map's bounds \u2014 a query is sent to the server to get all the markers that lie within the bounds.\n\n\u898b\u3048\u3066\u308b\u5834\u6240\u3060\u3051\u53d6\u3063\u3066\u304f\u308b\u30af\u30a8\u30ea\u3092\u30b5\u30fc\u30d0\u306b\u9001\u4fe1\u3002\n\nAs the user pans/zooms the map subsequent requests are sent to the server to get the new markers.\n\n\u30e6\u30fc\u30b6\u304c\u30d1\u30f3\u30fb\u30ba\u30fc\u30e0\u3057\u305f\u3089\u3001\u65b0\u3057\u3044\u30de\u30fc\u30ab\u3092\u53d6\u3063\u3066\u304f\u308b\u305f\u3081\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3059\u308b\u3002\n\nAll markers that are no longer in view are generally removed to improve map performance.\n\n\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u305f\u3081\u3001\u898b\u3048\u306a\u304f\u306a\u3063\u305f\u30de\u30fc\u30ab\u306f\u524a\u9664\u3059\u308b\u3002\n\nAs as example, look at the images below. The blue square represents the user's current viewable area. In the first image, all markers are loaded and displayed on the map, even the ones that are outside the viewport of the user. This isn't very useful for the user because they have had to waste their time and bandwidth downloading and processing markers that they are not able to see and might not ever pan them into view.\n\n\u4e0b\u56f3\u53c2\u7167\u3002\u9752\u3044\u56db\u89d2\u304c\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u3002\u5168\u30de\u30fc\u30ab\u3092\u30ed\u30fc\u30c9\u3059\u308b\u306e\u306f\u3046\u308c\u3057\u304f\u306a\u3044\u3002\n\n\nNow, compare the next two images. Only the markers in the square are loaded, this reduces load time and improves performance and as the box moves only the needed markers are shown and the rest are removed.\n\n\u4e0b\u306e2\u3064\u306e\u56f3\u3068\u6bd4\u3079\u3066\u307f\u3088\u3046\u3002\u56db\u89d2\u306e\u4e2d\u3060\u3051\u30ed\u30fc\u30c9\u3059\u308b\u3002\u56db\u89d2\u304b\u3089\u5916\u308c\u305f\u30de\u30fc\u30ab\u306f\u524a\u9664\u3059\u308b\u3002\n\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306a\u3069\u3002\u7701\u7565\u3002\u79fb\u52d5\u3057\u305f\u77ac\u9593\u306b\u30ed\u30fc\u30c9\u3059\u308b\u3068\u5927\u91cf\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001map idle \u30a4\u30d9\u30f3\u30c8\u3092\u4f7f\u3046\u3002\ngoogle.maps.event.addListener(map, 'idle', showMarkers);\n\nmap.getBounds() \u3067\u9818\u57df\u3092\u53d6\u308c\u308b\u3002\nvar bounds = map.getBounds();\n\n\nFusion Tables\n\nThe Google Maps API allows you to render data contained within Google Fusion Tables as an interactive layer on the map.\n\nGoogle Maps API \u306b\u3088\u3063\u3066\u3001Google Fusion Tables \u306e\u30c7\u30fc\u30bf\u3092\u5730\u56f3\u4e0a\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3002\n\nBy using FusionTablesLayer from the JavaScript API, a large number of points can be displayed on the map.\n\nJavaScript API \u306e FusionTablesLayer \u3092\u4f7f\u3063\u3066\u3001\u81a8\u5927\u306a\u70b9\u3092\u5730\u56f3\u4e0a\u306b\u8868\u793a\u3067\u304d\u308b\u3002\n\nBecause rendering is performed on Google servers rather than within your users' browsers, performance is improved dramatically.\n\n\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306fGoogle \u306e\u30b5\u30fc\u30d0\u4e0a\u3067\u884c\u308f\u308c\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306f\u5287\u7684\u306b\u5411\u4e0a\u3059\u308b\u3002\n\n\nFusion Tables also allows SQL-like queries against the data in the table.\n\nFusion Tables \u3067 SQL\u30e9\u30a4\u30af\u306a\u30af\u30a8\u30ea\u3092\u4f7f\u3048\u308b\u3002\n\nNew tiles are generated on the fly that represent the data returned in the query.\n\n\u65b0\u3057\u3044\u30bf\u30a4\u30eb\u304c\u3001\u30af\u30a8\u30ea\u306b\u5fdc\u3058\u3066\u3001\u30aa\u30f3\u30b6\u30d5\u30e9\u30a4\u3067\u751f\u6210\u3055\u308c\u308b\u3002\n\nYou can see a good example here, as you move the slider it will re-query the fusion table for trails that are less than the specified value.\n\n\u30b5\u30f3\u30d7\u30eb\u3002\u30b9\u30e9\u30a4\u30c0\u3092\u52d5\u304b\u3059\u3068\u3001\u6307\u5b9a\u3055\u308c\u305f\u5024\u3088\u308a\u77ed\u3044\u9053\u3092\u518d\u691c\u7d22\u3059\u308b\u3002\n\nFusion Tables Layers are currently listed as experimental.\n\n\u307e\u3060\u5b9f\u9a13\u6bb5\u968e\u3002\n\nRead more about Fusion Tables to get started, then read our documentation on FusionTablesLayer so you can start using them with your map.\n\n\nFusion Tables \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nFusionTablesLayer \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n\nMarkerClusterer\n\nThe MarkerClusterer is a client side utility library that applies grid-based clustering to a collection of markers.\n\nMarkerClusterer \u306f\u3001\u30b0\u30ea\u30c3\u30c9\u30d9\u30fc\u30b9\u306e\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3092\u884c\u3046\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\n\nIt works by iterating though the markers in the collection that you wish to cluster and adding each one into the closest cluster if it is within in a minimum square pixel bounds.\n\n\u4e00\u9023\u306e\u30de\u30fc\u30ab\u3092\u51e6\u7406\u3057\u3066\u3001\u6700\u5c0f\u306e\u30d4\u30af\u30bb\u30eb\u7bc4\u56f2\u5185\u306b\u3042\u308b\u30de\u30fc\u30ab\u3092\u30af\u30e9\u30b9\u30bf\u306b\u8ffd\u52a0\u3059\u308b\u3002\n\u30c7\u30e2\u898b\u308c\u3070\u5927\u4f53\u308f\u304b\u308b\u306e\u3067\u4ee5\u4e0b\u7565\u3002\n\n\n\n\n\n\n\nMarkerManager\n\nThe MarkerManager allows you to more discretely define what markers you want visible at different zoom levels.\n\nMarkerManager \u3092\u4f7f\u3046\u3068\u3001\u7570\u306a\u308b\u30ba\u30fc\u30e0\u30ec\u30d9\u30eb\u3067\u3069\u306e\u30de\u30fc\u30ab\u3092\u898b\u305b\u305f\u3044\u304b\u3001\u500b\u5225\u306b\u5b9a\u7fa9\u3067\u304d\u308b\u3002\n\nThe MarkerManager has a more involved setup than the MarkerClusterer, but it does allow for more customisation of what and where it displays.\n\nMarkerClusterer \u3088\u308a\u3082\u8907\u96d1\u3060\u304c\u3001\u4f55\u3092\u8868\u793a\u3059\u308b\u304b\u7d30\u304b\u304f\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u3002\n\nThe idea is pretty simple: for each zoom level, decide what markers you want to show.\n\n\u30a2\u30a4\u30c7\u30a2\u306f\u30b7\u30f3\u30d7\u30eb\u3067\u3001\u5404\u30ba\u30fc\u30e0\u30ec\u30d9\u30eb\u3067\u3069\u306e\u30de\u30fc\u30ab\u3092\u8868\u793a\u3059\u308b\u304b\u6c7a\u3081\u308b\u3002\n\nUsing weather icons as an example, when the user is zoomed out and can see many countries, you might want to only show a single weather icon above each country. As a user zooms in, you might want to show more specific weather for different locations.\n\n\u5929\u6c17\u30a2\u30a4\u30b3\u30f3\u306e\u4f8b\u3002\u30ba\u30fc\u30e0\u30a2\u30a6\u30c8\u3057\u3066\u3044\u308b\u3068\u56fd\u6bce\u306b1\u3064\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u898b\u305b\u3001\u30ba\u30fc\u30e0\u30a4\u30f3\u3059\u308b\u3068\u3001\u5834\u6240\u6bce\u306b\u7570\u306a\u308b\u5929\u6c17\u3092\u898b\u305b\u308b\u3002\n\nZoom Level 3\n\nZoom Level 6\n\nZoom Level 8\n\nIn the example above there are three groups of markers, one set is showing from zoom level 0 to 3, the next from 4-6 and the last group from zoom level 8 onwards.\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001\u30de\u30fc\u30ab\u306f3\u3064\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u5206\u304b\u308c\u3066\u3044\u308b\u30020-3 \u30ec\u30d9\u30eb\u30014-6\u30ec\u30d9\u30eb\u30018 \u4ee5\u964d\u306e\u30ec\u30d9\u30eb\u3002(7\u306f?)\n\nThe MarkerManager takes care of showing markers that are currently in the view; as the map pans, it loads more markers that the user can see.\n\nMarkerManager \u306f\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u306e\u9762\u5012\u3082\u898b\u3066\u304f\u308c\u308b\u3002\u30de\u30c3\u30d7\u3092\u30d1\u30f3\u3059\u308b\u3068\u30de\u30fc\u30ab\u30fc\u3092\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\nConclusion\n\nIn this article, we've shown various advanced marker management techniques within the Maps API.\n\nMaps API \u306b\u3042\u308b\u69d8\u3005\u306a\u30de\u30fc\u30ab\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u30c6\u30af\u30cb\u30c3\u30af\u3092\u898b\u3066\u304d\u305f\u3002\n\nNo one technique is \"right\" or \"wrong\" so choose the technique that works best for you within your application.\n\n\u3069\u308c\u304b1\u3064\u306e\u30c6\u30af\u30cb\u30c3\u30af\u304c\u300c\u6b63\u3057\u3044\u300d\u300c\u8aa4\u308a\u300d\u3068\u3044\u3046\u3053\u3068\u306f\u306a\u3044\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u6700\u9069\u306a\u30c6\u30af\u30cb\u30c3\u30af\u3092\u9078\u3079\u3070\u3088\u3044\u3002\n\nIf you display many markers, consider that you probably should perform some marker management, and use this article to help you choose which technique is right for you.\n\n\u305f\u304f\u3055\u3093\u306e\u30de\u30fc\u30ab\u3092\u8868\u793a\u3057\u305f\u3044\u5834\u5408\u3001\u3044\u304f\u3064\u304b\u306e\u30de\u30fc\u30ab\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u3092\u691c\u8a0e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3060\u308d\u3046\u3002\u3053\u306e\u8a18\u4e8b\u304c\u52a9\u3051\u306b\u306a\u308c\u3070\u3002\n * Too Many Markers! - Google Maps API \u2014 Google Developers\n   * https://developers.google.com/maps/articles/toomanymarkers\n\n\u3092\u8aad\u3093\u3060\u30e1\u30e2\u3067\u3059\u3002\n\n# Introduction\n\n> Some applications are required to display a large number of locations or markers. Despite the v3 JavaScript API's significant improvement to performance, naively plotting thousands of markers on a map can quickly lead to a degraded user experience. Too many markers on the map cause both visual overload and sluggish interaction with the map.\n\nv3 \u3067\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306f\u5927\u5e45\u306b\u6539\u5584\u3055\u308c\u305f\u3002\u305d\u308c\u3067\u3082\u3001\u5927\u91cf\u306e\u30de\u30fc\u30ab\u3092\u914d\u7f6e\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u30e6\u30fc\u30b6\u30a8\u30af\u30b9\u30da\u30ea\u30a8\u30f3\u30b9\u306f\u6025\u6fc0\u306b\u60aa\u5316\u3059\u308b\u3002\n\n> To overcome this poor performance, the information displayed on the map needs to be simplified.\n\n\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6539\u5584\u3059\u308b\u306b\u306f\u3001\u5730\u56f3\u306b\u8868\u793a\u3059\u308b\u60c5\u5831\u3092\u5358\u7d14\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n> One approach at simplification is to render markers on the server.\n\n\u5358\u7d14\u5316\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306e1\u3064\u3068\u3057\u3066\u3001\u30de\u30fc\u30ab\u3092\u30b5\u30fc\u30d0\u3067\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\n> Google provides two services built into the v3 API that make this easy to achieve: FusionTablesLayer and KmlLayer.\n\nGoogle \u306f v3 API \u3067 (\u30b5\u30fc\u30d0\u3067\u30de\u30fc\u30ab\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b) 2\u3064\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3002\n\n * FusionTablesLayer\n * KmlLayer\n\n> If you'd prefer to perform computations on your own server, this can be accomplished by creating a custom overlay from imagery that is pre-rendered, or rendered on the fly.\n\n\u81ea\u524d\u306e\u30b5\u30fc\u30d0\u3067\u8a08\u7b97\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30d7\u30ea\u30ec\u30f3\u30c0\u30fc\u3001\u3082\u3057\u304f\u306f\u30aa\u30f3\u30b6\u30d5\u30e9\u30a4\u3067\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u305f\u753b\u50cf\u304b\u3089\u3001\u30ab\u30b9\u30bf\u30e0\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u3092\u4f5c\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u308b\u3002\n\n> Another useful optimization technique involves viewport marker management:\n\n\u5225\u306e\u6700\u9069\u5316\u30c6\u30af\u30cb\u30c3\u30af\u3068\u3057\u3066\u3001\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u30de\u30fc\u30ab\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u304c\u3042\u308b\u3002\n\n> restricting the markers rendered on the map into only those that exist within the viewable area.\n\n\u8868\u793a\u30a8\u30ea\u30a2\u306b\u9650\u5b9a\u3057\u3066\u3001\u30de\u30fc\u30ab\u3092\u5730\u56f3\u4e0a\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u3002\n\n> If you still want to display many markers on the map, consider creating a custom overlay that displays markers with minimal functionality.\n\n\u305d\u308c\u3067\u3082\u5730\u56f3\u306b\u5927\u91cf\u306e\u30de\u30fc\u30ab\u3092\u8868\u793a\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u6700\u5c0f\u9650\u306e\u6a5f\u80fd\u3060\u3051\u3082\u3063\u305f\u30de\u30fc\u30ab\u3092\u8868\u793a\u3059\u308b\u30ab\u30b9\u30bf\u30e0\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u3092\u4f5c\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3088\u3046\u3002\n\n> This approach may garner performance improvements over standard markers provided by the API.\n\n\u3053\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u306b\u3088\u3063\u3066\u3001API \u306b\u3088\u3063\u3066\u63d0\u4f9b\u3055\u308c\u308b\u6a19\u6e96\u306e\u30de\u30fc\u30ab\u30fc\u3088\u308a\u3082\u3001\u826f\u3044\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u5f97\u3089\u308c\u308b\u3060\u308d\u3046\u3002\n\n> Clustering simplifies your data visualization by consolidating data that are nearby each other on the map in an aggregate form.\n\n\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306f\u3001\u4e92\u3044\u306b\u8fd1\u304f\u306b\u3042\u308b\u30c7\u30fc\u30bf\u3092\u7d71\u5408\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30fc\u30bf\u30d3\u30b8\u30e5\u30a2\u30e9\u30a4\u30bc\u30fc\u30b7\u30e7\u30f3\u3092\u5358\u7d14\u5316\u3059\u308b\u3002\n\n> These varied approaches are outlined in the following sections:\n\n\u3053\u308c\u3089\u306e\u69d8\u3005\u306a\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u4ee5\u4e0b\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u89e3\u8aac\u3059\u308b\u3002\n\n 1. Grid-based Clustering \u81ea\u524d\u3067\u5b9f\u88c5\n 2. Distance-based Clustering \u81ea\u524d\u3067\u5b9f\u88c5\n 3. Viewport Marker Management \u81ea\u524d\u3067\u5b9f\u88c5\n 4. Fusion Tables \u30b5\u30fc\u30d3\u30b9\n 5. MarkerClusterer \u30e9\u30a4\u30d6\u30e9\u30ea\n 6. MarkerManager \u30e9\u30a4\u30d6\u30e9\u30ea\n\n\n# Grid-based Clustering\n\n> Grid-based clustering works by dividing the map into squares of a certain size (the size changes at each zoom) and then grouping the markers into each grid square.\n\n\u5730\u56f3\u3092\u30ba\u30fc\u30e0\u30ec\u30d9\u30eb\u306b\u5fdc\u3058\u305f\u56db\u89d2\u5f62\u306b\u5206\u5272\u3057\u3001\u30de\u30fc\u30ab\u3092\u30b0\u30eb\u30fc\u30d7\u5316\u3059\u308b\u3002\n\n![Before grid-based clustering](https://developers.google.com/maps/articles/toomanymarkers/gridclustering.png \"Before grid-based clustering\")\n\n\u2193\n\n![After grid-based clustering](https://developers.google.com/maps/articles/toomanymarkers/gridclusteringdone.png \"After grid-based clustering\")\n\n> This technique can be rather quick because it only requires iterating through the markers once to see if its position is between a set of coordinates; no complicated distance calculation is needed.\n\n\u8907\u96d1\u306a\u8ddd\u96e2\u306e\u8a08\u7b97\u304c\u4e0d\u8981\u306a\u306e\u3067\u3001\u6bd4\u8f03\u7684\u9ad8\u901f\u3002\n\n> It does have some limitations, as you can see marker's 7 and 8 are close together but because they are in separate grids they are not clustered together.\n\n\u6b20\u70b9\u3002\u3059\u3050\u305d\u3070\u306b\u3042\u308b 7 \u756a\u3068 8 \u756a\u306e\u30de\u30fc\u30ab\u304c\u5225\u3005\u306e\u30b0\u30ea\u30c3\u30c9\u306b\u5206\u304b\u308c\u3066\u3057\u307e\u3046\u3002\n\n> Note that each cluster is at a precise grid coordinate which may cluster, say, 5 markers, but put them all at the center of the grid rather than their centroid. The ending result might not accurately describe the data, so this is something that should be considered.\n\n\u6b20\u70b9\u3002\u30b0\u30ea\u30c3\u30c9\u306e\u91cd\u5fc3\u3067\u306f\u306a\u304f\u3001\u4e2d\u5fc3\u306b\u30de\u30fc\u30ab\u304c\u914d\u7f6e\u3055\u308c\u3066\u3057\u307e\u3046\u3002\u30c7\u30fc\u30bf\u3092\u6b63\u78ba\u306b\u53cd\u6620\u3067\u304d\u306a\u3044\u3002\n\n\n# Distance-based Clustering\n\n> Distance-based clustering is similar to grid-based clustering, except instead of creating clusters of fixed square bounds, clusters are created based on the distance between the marker and a cluster centroid.\n\n\u56db\u89d2\u3044\u30b0\u30ea\u30c3\u30c9\u306e\u304b\u308f\u308a\u306b\u3001\u30de\u30fc\u30ab\u9593\u306e\u8ddd\u96e2\u3068\u30bb\u30f3\u30c8\u30ed\u30a4\u30c9(\u91cd\u5fc3)\u306b\u57fa\u3065\u3044\u3066\u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u308b\u3002\n\n> Cluster centroids are generally specified algorithmically through iteration of the existing marker locations.\n\n\u30af\u30e9\u30b9\u30bf\u30bb\u30f3\u30c8\u30ed\u30a4\u30c9\u306f\u3001\u901a\u5e38\u3001\u30de\u30fc\u30ab\u4f4d\u7f6e\u304b\u3089\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u6c7a\u5b9a\u3059\u308b\u3002\n\n> For each marker you look at each cluster\n\n\u5404\u30de\u30fc\u30ab\u306b\u3064\u3044\u3066\u3001\u5404\u30af\u30e9\u30b9\u30bf\u3092\u307f\u308b\u3002\n\n> to see how far it is from the center of the cluster.\n\n\u30af\u30e9\u30b9\u30bf\u306e\u4e2d\u5fc3\u304b\u3089\u3069\u308c\u3060\u3051\u306f\u306a\u308c\u3066\u3044\u308b\u304b\u3092\u307f\u308b\u305f\u3081\u3002\n\n> If the distance is less than a maximum (user specified) distance and the cluster is the closest, then that marker is added to the cluster.\n\n\u3082\u3057\u3001\u6c7a\u3081\u3089\u308c\u305f\u6700\u5927\u5024\u3088\u308a\u3082\u8fd1\u304f\u3001\u304b\u3064\u3001\u305d\u306e\u30af\u30e9\u30b9\u30bf\u304c\u4ed6\u306e\u3069\u306e\u30af\u30e9\u30b9\u30bf\u3088\u308a\u3082\u8fd1\u3044\u5834\u5408\u306b\u3001\u30de\u30fc\u30ab\u3092\u305d\u306e\u30af\u30e9\u30b9\u30bf\u306b\u8ffd\u52a0\u3059\u308b\u3002\n\n> If the marker fails to be added to any cluster then a new cluster is created containing that marker.\n\n\u3069\u306e\u30af\u30e9\u30b9\u30bf\u306b\u3082\u8ffd\u52a0\u3055\u308c\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001\u65b0\u3057\u3044\u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u308b\u3002\n\n> No current public library for doing distance-based clustering exists, but you can see how it would work from the images below.\n\n\u3053\u306e\u8a08\u7b97\u3092\u3059\u308b\u30d1\u30d6\u30ea\u30c3\u30af\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u5b58\u5728\u3057\u306a\u3044\u304c\u3001\u4ee5\u4e0b\u306e\u753b\u50cf\u3067\u3069\u306e\u3088\u3046\u306b\u6a5f\u80fd\u3059\u308b\u304b\u308f\u304b\u308b\u3060\u308d\u3046\u3002\n\n![1](https://developers.google.com/maps/articles/toomanymarkers/distancecluster.png)\n\n![2](https://developers.google.com/maps/articles/toomanymarkers/distancewithoverlay.png)\n\n![3](https://developers.google.com/maps/articles/toomanymarkers/distanceclusterdone.png)\n\n\u8868\u306a\u3069\u3002\u5927\u3057\u305f\u3053\u3068\u66f8\u3044\u3066\u306a\u3044\u306e\u3067\u7701\u7565\u3002\n\n# Viewport Marker Management\n\n> Viewport marker management is not a clustering technique, although it can be combined with any of the other clustering methods already listed.\n\n\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u30de\u30fc\u30ab\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u306f\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3067\u306f\u306a\u3044\u304c\u3001\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3048\u308b\u3002\n\n> A viewport marker manager works by getting the current bounds of the map that is visible to the user, then \u2014 based on the map's bounds \u2014 a query is sent to the server to get all the markers that lie within the bounds.\n\n\u898b\u3048\u3066\u308b\u5834\u6240\u3060\u3051\u53d6\u3063\u3066\u304f\u308b\u30af\u30a8\u30ea\u3092\u30b5\u30fc\u30d0\u306b\u9001\u4fe1\u3002\n\n> As the user pans/zooms the map subsequent requests are sent to the server to get the new markers.\n\n\u30e6\u30fc\u30b6\u304c\u30d1\u30f3\u30fb\u30ba\u30fc\u30e0\u3057\u305f\u3089\u3001\u65b0\u3057\u3044\u30de\u30fc\u30ab\u3092\u53d6\u3063\u3066\u304f\u308b\u305f\u3081\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3059\u308b\u3002\n\n> All markers that are no longer in view are generally removed to improve map performance.\n\n\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u305f\u3081\u3001\u898b\u3048\u306a\u304f\u306a\u3063\u305f\u30de\u30fc\u30ab\u306f\u524a\u9664\u3059\u308b\u3002\n\n> As as example, look at the images below. The blue square represents the user's current viewable area. In the first image, all markers are loaded and displayed on the map, even the ones that are outside the viewport of the user. This isn't very useful for the user because they have had to waste their time and bandwidth downloading and processing markers that they are not able to see and might not ever pan them into view.\n\n\u4e0b\u56f3\u53c2\u7167\u3002\u9752\u3044\u56db\u89d2\u304c\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u3002\u5168\u30de\u30fc\u30ab\u3092\u30ed\u30fc\u30c9\u3059\u308b\u306e\u306f\u3046\u308c\u3057\u304f\u306a\u3044\u3002\n\n![1](https://developers.google.com/maps/articles/toomanymarkers/viewport.png)\n\n> Now, compare the next two images. Only the markers in the square are loaded, this reduces load time and improves performance and as the box moves only the needed markers are shown and the rest are removed.\n\n\u4e0b\u306e2\u3064\u306e\u56f3\u3068\u6bd4\u3079\u3066\u307f\u3088\u3046\u3002\u56db\u89d2\u306e\u4e2d\u3060\u3051\u30ed\u30fc\u30c9\u3059\u308b\u3002\u56db\u89d2\u304b\u3089\u5916\u308c\u305f\u30de\u30fc\u30ab\u306f\u524a\u9664\u3059\u308b\u3002\n\n![2](https://developers.google.com/maps/articles/toomanymarkers/viewportstart.png)\n\n![3](https://developers.google.com/maps/articles/toomanymarkers/viewportfinish.png)\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306a\u3069\u3002\u7701\u7565\u3002\u79fb\u52d5\u3057\u305f\u77ac\u9593\u306b\u30ed\u30fc\u30c9\u3059\u308b\u3068\u5927\u91cf\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3001map idle \u30a4\u30d9\u30f3\u30c8\u3092\u4f7f\u3046\u3002\n\n```\ngoogle.maps.event.addListener(map, 'idle', showMarkers);\n```\n\n`map.getBounds()` \u3067\u9818\u57df\u3092\u53d6\u308c\u308b\u3002\n\n```\nvar bounds = map.getBounds();\n```\n\n# Fusion Tables\n\n> The Google Maps API allows you to render data contained within Google Fusion Tables as an interactive layer on the map.\n\nGoogle Maps API \u306b\u3088\u3063\u3066\u3001Google Fusion Tables \u306e\u30c7\u30fc\u30bf\u3092\u5730\u56f3\u4e0a\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3002\n\n> By using `FusionTablesLayer` from the JavaScript API, a large number of points can be displayed on the map.\n\nJavaScript API \u306e `FusionTablesLayer` \u3092\u4f7f\u3063\u3066\u3001\u81a8\u5927\u306a\u70b9\u3092\u5730\u56f3\u4e0a\u306b\u8868\u793a\u3067\u304d\u308b\u3002\n\n> Because rendering is performed on Google servers rather than within your users' browsers, performance is improved dramatically.\n\n\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u306fGoogle \u306e\u30b5\u30fc\u30d0\u4e0a\u3067\u884c\u308f\u308c\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306f\u5287\u7684\u306b\u5411\u4e0a\u3059\u308b\u3002\n\n![1](https://developers.google.com/maps/articles/toomanymarkers/fusiontables.png)\n\n> Fusion Tables also allows SQL-like queries against the data in the table.\n\nFusion Tables \u3067 SQL\u30e9\u30a4\u30af\u306a\u30af\u30a8\u30ea\u3092\u4f7f\u3048\u308b\u3002\n\n> New tiles are generated on the fly that represent the data returned in the query.\n\n\u65b0\u3057\u3044\u30bf\u30a4\u30eb\u304c\u3001\u30af\u30a8\u30ea\u306b\u5fdc\u3058\u3066\u3001\u30aa\u30f3\u30b6\u30d5\u30e9\u30a4\u3067\u751f\u6210\u3055\u308c\u308b\u3002\n\n> You can see a good example here, as you move the slider it will re-query the fusion table for trails that are less than the specified value.\n\n[\u30b5\u30f3\u30d7\u30eb](http://gmaps-samples-v3.googlecode.com/svn/trunk/fusiontables/cycletrails.html)\u3002\u30b9\u30e9\u30a4\u30c0\u3092\u52d5\u304b\u3059\u3068\u3001\u6307\u5b9a\u3055\u308c\u305f\u5024\u3088\u308a\u77ed\u3044\u9053\u3092\u518d\u691c\u7d22\u3059\u308b\u3002\n\n> Fusion Tables Layers are currently listed as experimental.\n\n\u307e\u3060\u5b9f\u9a13\u6bb5\u968e\u3002\n\n> Read more about Fusion Tables to get started, then read our documentation on `FusionTablesLayer` so you can start using them with your map.\n\n * [Fusion Tables \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://developers.google.com/fusiontables/)\n * [FusionTablesLayer \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://developers.google.com/maps/documentation/javascript/fusiontableslayer)\n\n# MarkerClusterer\n\n> The MarkerClusterer is a client side utility library that applies grid-based clustering to a collection of markers.\n\n[MarkerClusterer](https://github.com/googlemaps/js-marker-clusterer) \u306f\u3001\u30b0\u30ea\u30c3\u30c9\u30d9\u30fc\u30b9\u306e\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3092\u884c\u3046\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\n\n> It works by iterating though the markers in the collection that you wish to cluster and adding each one into the closest cluster if it is within in a minimum square pixel bounds.\n\n\u4e00\u9023\u306e\u30de\u30fc\u30ab\u3092\u51e6\u7406\u3057\u3066\u3001\u6700\u5c0f\u306e\u30d4\u30af\u30bb\u30eb\u7bc4\u56f2\u5185\u306b\u3042\u308b\u30de\u30fc\u30ab\u3092\u30af\u30e9\u30b9\u30bf\u306b\u8ffd\u52a0\u3059\u308b\u3002\n\n[\u30c7\u30e2](https://googlemaps.github.io/js-marker-clusterer/docs/examples.html)\u898b\u308c\u3070\u5927\u4f53\u308f\u304b\u308b\u306e\u3067\u4ee5\u4e0b\u7565\u3002\n\n![2](https://developers.google.com/maps/articles/toomanymarkers/MarkerClusterWithSquares.png)\n\n![3](https://developers.google.com/maps/articles/toomanymarkers/MarkerClustererDone.png)\n\n![4](https://developers.google.com/maps/articles/toomanymarkers/markerclustererzoom3.png)\n\n![5](https://developers.google.com/maps/articles/toomanymarkers/markerclustererzoom2.png)\n\n![6](https://developers.google.com/maps/articles/toomanymarkers/markerclustererfullnocluster.png)\n\n![7](https://developers.google.com/maps/articles/toomanymarkers/markerclustererfull.png)\n\n# MarkerManager\n\n> The MarkerManager allows you to more discretely define what markers you want visible at different zoom levels.\n\n[MarkerManager](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markermanager/) \u3092\u4f7f\u3046\u3068\u3001\u7570\u306a\u308b\u30ba\u30fc\u30e0\u30ec\u30d9\u30eb\u3067\u3069\u306e\u30de\u30fc\u30ab\u3092\u898b\u305b\u305f\u3044\u304b\u3001\u500b\u5225\u306b\u5b9a\u7fa9\u3067\u304d\u308b\u3002\n\n> The MarkerManager has a more involved setup than the MarkerClusterer, but it does allow for more customisation of what and where it displays.\n\n`MarkerClusterer` \u3088\u308a\u3082\u8907\u96d1\u3060\u304c\u3001\u4f55\u3092\u8868\u793a\u3059\u308b\u304b\u7d30\u304b\u304f\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u3002\n\n> The idea is pretty simple: for each zoom level, decide what markers you want to show.\n\n\u30a2\u30a4\u30c7\u30a2\u306f\u30b7\u30f3\u30d7\u30eb\u3067\u3001\u5404\u30ba\u30fc\u30e0\u30ec\u30d9\u30eb\u3067\u3069\u306e\u30de\u30fc\u30ab\u3092\u8868\u793a\u3059\u308b\u304b\u6c7a\u3081\u308b\u3002\n\n> Using weather icons as an example, when the user is zoomed out and can see many countries, you might want to only show a single weather icon above each country. As a user zooms in, you might want to show more specific weather for different locations.\n\n\u5929\u6c17\u30a2\u30a4\u30b3\u30f3\u306e\u4f8b\u3002\u30ba\u30fc\u30e0\u30a2\u30a6\u30c8\u3057\u3066\u3044\u308b\u3068\u56fd\u6bce\u306b1\u3064\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u898b\u305b\u3001\u30ba\u30fc\u30e0\u30a4\u30f3\u3059\u308b\u3068\u3001\u5834\u6240\u6bce\u306b\u7570\u306a\u308b\u5929\u6c17\u3092\u898b\u305b\u308b\u3002\n\n![Zoom Level 3](https://developers.google.com/maps/articles/toomanymarkers/markermanagerzoom3.png)\n\nZoom Level 3\n\n![Zoom Level 6](https://developers.google.com/maps/articles/toomanymarkers/markermanagerzoom6.png)\n\nZoom Level 6\n\n![Zoom Level 8](https://developers.google.com/maps/articles/toomanymarkers/markermanagerzoom8.png)\n\nZoom Level 8\n\n> In the example above there are three groups of markers, one set is showing from zoom level 0 to 3, the next from 4-6 and the last group from zoom level 8 onwards.\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001\u30de\u30fc\u30ab\u306f3\u3064\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u5206\u304b\u308c\u3066\u3044\u308b\u30020-3 \u30ec\u30d9\u30eb\u30014-6\u30ec\u30d9\u30eb\u30018 \u4ee5\u964d\u306e\u30ec\u30d9\u30eb\u3002(7\u306f?)\n\n> The MarkerManager takes care of showing markers that are currently in the view; as the map pans, it loads more markers that the user can see.\n\n`MarkerManager` \u306f\u30d3\u30e5\u30fc\u30dd\u30fc\u30c8\u306e\u9762\u5012\u3082\u898b\u3066\u304f\u308c\u308b\u3002\u30de\u30c3\u30d7\u3092\u30d1\u30f3\u3059\u308b\u3068\u30de\u30fc\u30ab\u30fc\u3092\u30ed\u30fc\u30c9\u3059\u308b\u3002\n\n# Conclusion\n\n> In this article, we've shown various advanced marker management techniques within the Maps API.\n\nMaps API \u306b\u3042\u308b\u69d8\u3005\u306a\u30de\u30fc\u30ab\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u30c6\u30af\u30cb\u30c3\u30af\u3092\u898b\u3066\u304d\u305f\u3002\n\n> No one technique is \"right\" or \"wrong\" so choose the technique that works best for you within your application.\n\n\u3069\u308c\u304b1\u3064\u306e\u30c6\u30af\u30cb\u30c3\u30af\u304c\u300c\u6b63\u3057\u3044\u300d\u300c\u8aa4\u308a\u300d\u3068\u3044\u3046\u3053\u3068\u306f\u306a\u3044\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u6700\u9069\u306a\u30c6\u30af\u30cb\u30c3\u30af\u3092\u9078\u3079\u3070\u3088\u3044\u3002\n\n> If you display many markers, consider that you probably should perform some marker management, and use this article to help you choose which technique is right for you.\n\n\u305f\u304f\u3055\u3093\u306e\u30de\u30fc\u30ab\u3092\u8868\u793a\u3057\u305f\u3044\u5834\u5408\u3001\u3044\u304f\u3064\u304b\u306e\u30de\u30fc\u30ab\u30de\u30cd\u30fc\u30b8\u30e1\u30f3\u30c8\u3092\u691c\u8a0e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3060\u308d\u3046\u3002\u3053\u306e\u8a18\u4e8b\u304c\u52a9\u3051\u306b\u306a\u308c\u3070\u3002\n", "tags": ["GoogleMapsAPI", "GoogleMaps"]}