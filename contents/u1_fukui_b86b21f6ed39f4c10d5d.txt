{"tags": ["Sinatra", "Ruby"], "context": " More than 1 year has passed since last update.\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304b\u3057\u3066\u3044\u305fSinatra\u3092\u3055\u304f\u3089vps\u3067\u52d5\u304b\u305d\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3082\u7e4b\u304c\u3089\u306a\u3044\u554f\u984c\u306b\u51fa\u304f\u308f\u3057\u307e\u3057\u305f(\uff1b\u00b4\u0434\uff40)\n\u691c\u7d22\u3057\u3066\u3082\u610f\u5916\u3068\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u306e\u3067\u30e1\u30e2\u6b8b\u3057\u3068\u304d\u307e\u3059\u3002\n\n\u75c7\u72b6\nSinatra\u3092\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u30684567\u756a\u30dd\u30fc\u30c8\u3067\u7acb\u3061\u4e0a\u304c\u308b\u306e\u3067\u3059\u304c\u3001\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3082\u7e4b\u304c\u3089\u306a\u3044\uff01\uff01\n$ bundle exec ruby hoge.rb\n[2013-05-17 23:58:37] INFO  WEBrick 1.3.1\n[2013-05-17 23:58:37] INFO  ruby 1.9.3 (2013-02-06) [x86_64-linux]\n== Sinatra/1.4.2 has taken the stage on 4567 for development with backup from WEBrick\n[2013-05-17 23:58:37] INFO  WEBrick::HTTPServer#start: pid=10077 port=4567\n\n\u521d\u3081\u306fiptables\u306e\u8a2d\u5b9a\u304c\u60aa\u3044\u306e\u304b\u3068\u304b\u3001\u5225\u306e\u3068\u3053\u308d\u3067\u4f55\u304b\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u304b\u60a9\u3093\u3067\u3044\u305f\u306e\u3067\u3059\u304c\u3001iptables\u306e\u8a2d\u5b9a\u3092\u30aa\u30d5\u306b\u3057\u3066\u3082\u7e4b\u304c\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u539f\u56e0\u306f\u5225\u306b\u3042\u308b\u4e8b\u304c\u5224\u660e\u3002netstat\u3092\u3057\u305f\u3089\u3001localhost\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3057\u304bLISTEN\u3057\u3066\u3044\u306a\u3044\u4e8b\u304c\u5206\u304b\u308a\u307e\u3057\u305f\u3002\n$ netstat -an\n# \u5fc5\u8981\u90e8\u5206\u3060\u3051\u62bd\u51fa\ntcp        0      0 127.0.0.1:4567              0.0.0.0:*                   LISTEN  \n\n\u3068\u3044\u3046\u4e8b\u306f\u3001Sinatra\u306eListenAddress\u306e\u8a2d\u5b9a\u304c\u304a\u304b\u3057\u3044\uff01\uff01\n\n\u539f\u56e0\n\u4ee5\u524dSinatra\u3092\u5229\u7528\u3057\u305f\u6642\u306f\u3001\u7279\u306b\u4f55\u3082\u3057\u306a\u304f\u3066\u3082\u5916\u90e8\u304b\u3089\u7e4b\u304c\u3063\u3066\u3044\u305f\u306e\u3067\u304a\u304b\u3057\u3044\u306a\u3068\u601d\u3044\u306a\u304c\u3089\u8abf\u3079\u3066\u3044\u308b\u3068\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3092\u767a\u898b\uff01\n\n:bind - server hostname or IP address\nString specifying the hostname or IP address of the interface to listen on when the :run setting is enabled. The default value in the development environment is 'localhost' which means the server is only available from the local machine. In other environments the default is '0.0.0.0', which causes the server to listen on all available interfaces.\n\n\u5f15\u7528\u5143\uff1aSinatra: Configuring Settings\n\u306a\u3093\u3068development\u74b0\u5883\u3060\u3068\u3001localhost\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3057\u304b\u53d7\u3051\u4ed8\u3051\u306a\u3044\u306e\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3089\u3057\u3044\uff01\uff01\n\u3067\u3082\u4eca\u307e\u3067\u306f\u305d\u3093\u306a\u4e8b\u306a\u304b\u3063\u305f\u3057\u3001\u65e5\u672c\u8a9e\u8a33\u306e\u8cc7\u6599\u306b\u306f\u3053\u3093\u306a\u8a18\u8ff0\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u6700\u8fd1\u306e\u5909\u66f4\u306a\u306e\u304b\u306a\u30fc\u3068Sinatra\u306e\u5909\u66f4\u5c65\u6b74\u3092\u898b\u3066\u307f\u305f\u3068\u3053\u308d\n\n= 1.4.0 / 2013-03-15\n~ \u7701\u7565 ~\n* Default to only serving localhost in development mode. (Postmodern)\n\n\u5f15\u7528\u5143\uff1asinatra/CHANGES at 1.4.2 \u00b7 sinatra/sinatra \u00b7 GitHub\n\u3042\u3063\u305f\u3088\u30fc\uff01ver.1.4.0\u304b\u3089\u3053\u306e\u3088\u3046\u306a\u4ed5\u69d8\u306b\u306a\u3063\u305f\u3093\u3067\u3059\u306d\u30023\u6708\u306e\u5909\u66f4\u3060\u304b\u3089\u7d50\u69cb\u6700\u8fd1\u3002\n\n\u5bfe\u5fdc\u65b9\u6cd5\nListenAddress\u3092\u8a2d\u5b9a\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u4f7f\u3048\u3070OK\u3067\u3059\u3002(0.0.0.0 \u306f\u5168\u3066\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u3059)\n\n\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\n$ bundle exec ruby hoge.rb -o 0.0.0.0\n\n\nruby\u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u8a2d\u5b9a\u3059\u308b\nset :bind, '0.0.0.0'\n\n\nenvironment \u3092\u5909\u3048\u3066\u3082\u3044\u3051\u308b\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u901a\u308a\u3001\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u3057\u304b\u7e4b\u304c\u3089\u306a\u3044\u306e\u306f 'development' \u306e\u6642\u3060\u3051\u306a\u306e\u3067\u3001environment\u306b\u3001'production' \u3084 'test' \u3092\u8a2d\u5b9a\u3057\u305f\u6642\u306f\u4f55\u3082\u3057\u306a\u304f\u3066\u3082\u5916\u90e8\u304b\u3089\u7e4b\u304c\u308a\u307e\u3059\u3002\n\n\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\n$ bundle exec ruby hoge.rb -e production\n\n\nruby\u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u8a2d\u5b9a\u3059\u308b\nset :environment, :production\n\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304b\u3057\u3066\u3044\u305fSinatra\u3092\u3055\u304f\u3089vps\u3067\u52d5\u304b\u305d\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3082\u7e4b\u304c\u3089\u306a\u3044\u554f\u984c\u306b\u51fa\u304f\u308f\u3057\u307e\u3057\u305f(\uff1b\u00b4\u0434\uff40)\n\u691c\u7d22\u3057\u3066\u3082\u610f\u5916\u3068\u60c5\u5831\u304c\u5c11\u306a\u304b\u3063\u305f\u306e\u3067\u30e1\u30e2\u6b8b\u3057\u3068\u304d\u307e\u3059\u3002\n\n\n##\u75c7\u72b6\nSinatra\u3092\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u30684567\u756a\u30dd\u30fc\u30c8\u3067\u7acb\u3061\u4e0a\u304c\u308b\u306e\u3067\u3059\u304c\u3001\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3082\u7e4b\u304c\u3089\u306a\u3044\uff01\uff01\n\n```bash:\n$ bundle exec ruby hoge.rb\n[2013-05-17 23:58:37] INFO  WEBrick 1.3.1\n[2013-05-17 23:58:37] INFO  ruby 1.9.3 (2013-02-06) [x86_64-linux]\n== Sinatra/1.4.2 has taken the stage on 4567 for development with backup from WEBrick\n[2013-05-17 23:58:37] INFO  WEBrick::HTTPServer#start: pid=10077 port=4567\n```\n\n\u521d\u3081\u306fiptables\u306e\u8a2d\u5b9a\u304c\u60aa\u3044\u306e\u304b\u3068\u304b\u3001\u5225\u306e\u3068\u3053\u308d\u3067\u4f55\u304b\u30d6\u30ed\u30c3\u30af\u3055\u308c\u3066\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u304b\u60a9\u3093\u3067\u3044\u305f\u306e\u3067\u3059\u304c\u3001iptables\u306e\u8a2d\u5b9a\u3092\u30aa\u30d5\u306b\u3057\u3066\u3082\u7e4b\u304c\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u539f\u56e0\u306f\u5225\u306b\u3042\u308b\u4e8b\u304c\u5224\u660e\u3002netstat\u3092\u3057\u305f\u3089\u3001localhost\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3057\u304bLISTEN\u3057\u3066\u3044\u306a\u3044\u4e8b\u304c\u5206\u304b\u308a\u307e\u3057\u305f\u3002\n\n```bash:\n$ netstat -an\n# \u5fc5\u8981\u90e8\u5206\u3060\u3051\u62bd\u51fa\ntcp        0      0 127.0.0.1:4567              0.0.0.0:*                   LISTEN  \n```\n\u3068\u3044\u3046\u4e8b\u306f\u3001Sinatra\u306eListenAddress\u306e\u8a2d\u5b9a\u304c\u304a\u304b\u3057\u3044\uff01\uff01\n\n##\u539f\u56e0\n\u4ee5\u524dSinatra\u3092\u5229\u7528\u3057\u305f\u6642\u306f\u3001\u7279\u306b\u4f55\u3082\u3057\u306a\u304f\u3066\u3082\u5916\u90e8\u304b\u3089\u7e4b\u304c\u3063\u3066\u3044\u305f\u306e\u3067\u304a\u304b\u3057\u3044\u306a\u3068\u601d\u3044\u306a\u304c\u3089\u8abf\u3079\u3066\u3044\u308b\u3068\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3092\u767a\u898b\uff01\n\n>**:bind - server hostname or IP address**\nString specifying the hostname or IP address of the interface to listen on when the :run setting is enabled. The default value in the development environment is 'localhost' which means the server is only available from the local machine. In other environments the default is '0.0.0.0', which causes the server to listen on all available interfaces.\n\n\u5f15\u7528\u5143\uff1a[Sinatra: Configuring Settings](http://www.sinatrarb.com/configuration.html)\n\n**\u306a\u3093\u3068development\u74b0\u5883\u3060\u3068\u3001localhost\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3057\u304b\u53d7\u3051\u4ed8\u3051\u306a\u3044\u306e\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3089\u3057\u3044\uff01\uff01**\n\n\n\u3067\u3082\u4eca\u307e\u3067\u306f\u305d\u3093\u306a\u4e8b\u306a\u304b\u3063\u305f\u3057\u3001\u65e5\u672c\u8a9e\u8a33\u306e\u8cc7\u6599\u306b\u306f\u3053\u3093\u306a\u8a18\u8ff0\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u6700\u8fd1\u306e\u5909\u66f4\u306a\u306e\u304b\u306a\u30fc\u3068Sinatra\u306e\u5909\u66f4\u5c65\u6b74\u3092\u898b\u3066\u307f\u305f\u3068\u3053\u308d\n\n>= 1.4.0 / 2013-03-15\n~ \u7701\u7565 ~\n* Default to only serving localhost in development mode. (Postmodern)\n\n\u5f15\u7528\u5143\uff1a[sinatra/CHANGES at 1.4.2 \u00b7 sinatra/sinatra \u00b7 GitHub](https://github.com/sinatra/sinatra/blob/1.4.2/CHANGES)\n\n\n\u3042\u3063\u305f\u3088\u30fc\uff01ver.1.4.0\u304b\u3089\u3053\u306e\u3088\u3046\u306a\u4ed5\u69d8\u306b\u306a\u3063\u305f\u3093\u3067\u3059\u306d\u30023\u6708\u306e\u5909\u66f4\u3060\u304b\u3089\u7d50\u69cb\u6700\u8fd1\u3002\n\n\n##\u5bfe\u5fdc\u65b9\u6cd5\nListenAddress\u3092\u8a2d\u5b9a\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u4f7f\u3048\u3070OK\u3067\u3059\u3002(0.0.0.0 \u306f\u5168\u3066\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u3059)\n\n###\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\n```bash:\n$ bundle exec ruby hoge.rb -o 0.0.0.0\n```\n\n###ruby\u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u8a2d\u5b9a\u3059\u308b\n```ruby:\nset :bind, '0.0.0.0'\n```\n\n## environment \u3092\u5909\u3048\u3066\u3082\u3044\u3051\u308b\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u901a\u308a\u3001\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u3057\u304b\u7e4b\u304c\u3089\u306a\u3044\u306e\u306f 'development' \u306e\u6642\u3060\u3051\u306a\u306e\u3067\u3001environment\u306b\u3001'production' \u3084 'test' \u3092\u8a2d\u5b9a\u3057\u305f\u6642\u306f\u4f55\u3082\u3057\u306a\u304f\u3066\u3082\u5916\u90e8\u304b\u3089\u7e4b\u304c\u308a\u307e\u3059\u3002\n\n###\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\n```bash:\n$ bundle exec ruby hoge.rb -e production\n```\n\n###ruby\u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u3067\u8a2d\u5b9a\u3059\u308b\n```ruby:\nset :environment, :production\n```\n"}