{"tags": ["\u3069\u3046\u66f8\u304f", "Lua"], "context": " More than 1 year has passed since last update.Lua 5.2\u3067\u30d3\u30c3\u30c8\u6f14\u7b97\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u601d\u3044\u51fa\u3057\u305f\u306e\u3067 http://qiita.com/items/5dfd820a4047376c3bf3 \u3092Lua\u3067\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002Lua 5.2\u7528\u3067\u3059\u3002Lua 5.1\u3067\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u306e\u3067\u3054\u6ce8\u610f\u3092\u3002\nC++\u7248\u3068\u9055\u3044\u3001\u300co\u300d\u300cx\u300d\u306e\u305d\u308c\u305e\u308c\u306b16\u30d3\u30c3\u30c8\u3092\u5272\u308a\u5f53\u3066\u306632\u30d3\u30c3\u30c8\u3067\u6f14\u7b97\u3057\u3066\u307e\u3059\u3002\u53cd\u5247\u306e\u5224\u5b9a\u306f32\u30d3\u30c3\u30c8\u306e\u5024\u309216\u30d3\u30c3\u30c8\u56de\u8ee2\u3055\u305b\u4e0a\u4f4d16\u30d3\u30c3\u30c8\u3068\u4e0b\u4f4d16\u30d3\u30c3\u30c8\u3092\u5165\u308c\u66ff\u3048\u3066\u6392\u4ed6\u7684\u8ad6\u7406\u548c\u3092\u3068\u308b\u3053\u3068\u3067\u304a\u3053\u306a\u3063\u3066\u3044\u307e\u3059\u3002\na and b or c \u306f a ? b : c \u3068\u3001\u3060\u3044\u305f\u3044\u540c\u3058\u610f\u5473\u3067\u3059\u3002\n\u8981\u7d20\u306e\u30a4\u30f3\u30c7\u30af\u30b9\u304c1\u304b\u3089\u59cb\u307e\u308b\u3068\u308f\u304b\u3063\u3066\u3044\u3066\u3082\u4e00\u6642\u306f\u307e\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u4ed5\u69d8\u306f\u3082\u3046\u5909\u3048\u3088\u3046\u304c\u306a\u3044\u306e\u304b\u306a\u3041\u2026\u3002\n\nLua\n\nzero = string.byte(\"0\", 1)\nside = { [0] = \"x\", [1] = \"o\" }\n\nfunction ticktacktoe(s)\n  local b   = { 0x00b600b6, 0x00ee00ee, 0x005e005e,\n                0x00f500f5, 0x002d002d, 0x00dd00dd,\n                0x00730073, 0x00eb00eb, 0x009b009b }\n  for i = 1, 9 do\n    n = s:byte(i) - zero\n    if bit32.bxor(b[n], bit32.rrotate(b[n], 16)) ~= 0 then\n      return \"Faul: \" .. side[(i + 1) % 2] .. \" won.\"\n    end\n    b[n] = bit32.bor(b[n], ((i % 2) == 1) and 0x000000ff or 0x00ff0000)\n    if bit32.band(table.unpack(b)) ~= 0 then\n      return side[i % 2] .. \" won.\"\n    end\n  end\n  return \"Draw game.\"\nend\n\nfor s in io.lines() do\n  print(ticktacktoe(s))\nend\n\n\nLua 5.2\u3067\u30d3\u30c3\u30c8\u6f14\u7b97\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u601d\u3044\u51fa\u3057\u305f\u306e\u3067 http://qiita.com/items/5dfd820a4047376c3bf3 \u3092Lua\u3067\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002Lua 5.2\u7528\u3067\u3059\u3002Lua 5.1\u3067\u306f\u52d5\u4f5c\u3057\u307e\u305b\u3093\u306e\u3067\u3054\u6ce8\u610f\u3092\u3002\n\nC++\u7248\u3068\u9055\u3044\u3001\u300co\u300d\u300cx\u300d\u306e\u305d\u308c\u305e\u308c\u306b16\u30d3\u30c3\u30c8\u3092\u5272\u308a\u5f53\u3066\u306632\u30d3\u30c3\u30c8\u3067\u6f14\u7b97\u3057\u3066\u307e\u3059\u3002\u53cd\u5247\u306e\u5224\u5b9a\u306f32\u30d3\u30c3\u30c8\u306e\u5024\u309216\u30d3\u30c3\u30c8\u56de\u8ee2\u3055\u305b\u4e0a\u4f4d16\u30d3\u30c3\u30c8\u3068\u4e0b\u4f4d16\u30d3\u30c3\u30c8\u3092\u5165\u308c\u66ff\u3048\u3066\u6392\u4ed6\u7684\u8ad6\u7406\u548c\u3092\u3068\u308b\u3053\u3068\u3067\u304a\u3053\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n`a and b or c` \u306f `a ? b : c` \u3068\u3001\u3060\u3044\u305f\u3044\u540c\u3058\u610f\u5473\u3067\u3059\u3002\n\n\u8981\u7d20\u306e\u30a4\u30f3\u30c7\u30af\u30b9\u304c1\u304b\u3089\u59cb\u307e\u308b\u3068\u308f\u304b\u3063\u3066\u3044\u3066\u3082\u4e00\u6642\u306f\u307e\u308a\u307e\u3057\u305f\u3002\u3053\u306e\u4ed5\u69d8\u306f\u3082\u3046\u5909\u3048\u3088\u3046\u304c\u306a\u3044\u306e\u304b\u306a\u3041\u2026\u3002\n\n```Lua:Lua\n\nzero = string.byte(\"0\", 1)\nside = { [0] = \"x\", [1] = \"o\" }\n\nfunction ticktacktoe(s)\n  local b   = { 0x00b600b6, 0x00ee00ee, 0x005e005e,\n                0x00f500f5, 0x002d002d, 0x00dd00dd,\n                0x00730073, 0x00eb00eb, 0x009b009b }\n  for i = 1, 9 do\n    n = s:byte(i) - zero\n    if bit32.bxor(b[n], bit32.rrotate(b[n], 16)) ~= 0 then\n      return \"Faul: \" .. side[(i + 1) % 2] .. \" won.\"\n    end\n    b[n] = bit32.bor(b[n], ((i % 2) == 1) and 0x000000ff or 0x00ff0000)\n    if bit32.band(table.unpack(b)) ~= 0 then\n      return side[i % 2] .. \" won.\"\n    end\n  end\n  return \"Draw game.\"\nend\n\nfor s in io.lines() do\n  print(ticktacktoe(s))\nend\n```"}