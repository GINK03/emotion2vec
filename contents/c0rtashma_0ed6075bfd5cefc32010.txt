{"context": "\u4e00\u5fdc\u89e3\u6c7a(?)\u3057\u305f\u306e\u3067\u30e1\u30e2\n\n\u4eca\u56de\u306e\u76ee\u7684\n\nRuby\u3067\u66f8\u3044\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092Apache\u3067\u52d5\u304b\u3057\u305f\u3044\n\n\n\u74b0\u5883\n\nMacBook Pro(13inch, Mid 2012)\n\nOS X El Capitan 10.10.6\nApache 2.4.18\nRuby 2.3.1\n\n\n\u5c0e\u5165\u306brbenv 1.0.0\n\n\n\n\n\u5c0e\u5165\n\n/etc/apache2/httpd.conf\u3092\u7de8\u96c6\n\nhttpd.conf(157\u884c\u76ee)\n- #LoadModule cgi_module libexec/apache2/mod_cgi.so\n+ LoadModule cgi_module libexec/apache2/mod_cgi.so\n\n\n\nhttpd.conf(380\u884c\u76ee)\n<Directory \"/Library/WebServer/CGI-Executables\">\n    AllowOverride None\n-   Options None\n+   Options ExecCGI\n    Require all granted\n</Directory>\n\n\n\nhttpd.conf(419\u884c\u76ee)\n- #AddHandler cgi-script .cgi\n+ AddHandler cgi-script .cgi .rb\n\n\n\n/Library/WebServer/CGI-Executables\u306bhello.rb\u3092\u4f5c\u6210\n\n\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089Ruby\u306e\u30d1\u30b9\u3092\u78ba\u8a8d\n\nterminal.app\n$ which ruby\n/Users/[username]/.rbenv/shims/ruby\n\n\n\n\u3053\u306e\u30d1\u30b9\u3092\u30cf\u30ed\u30ef\u3092\u66f8\u3044\u305f\u30bd\u30fc\u30b9\u306e\u5148\u982d\u306b\u8a18\u8ff0\n\nhello.rb\n#!/Users/[username]/.rbenv/shims/ruby\n\nprint \"Content-type: text/html\\n\\n\"\n\nputs(<<\"html\")\n  <html>\n    <head>\n      <title>Hello, world</title>\n    </head>\n    <body>\n      <h1>Hello ruby!!!</h1>\n    </body>\n  </html>\nhtml\n\n\n\ncgi\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u5909\u66f4\n\nterminal.app\n$ sudo chmod 755 CGI-Executables\n\n\n\n\u767a\u751f\u3057\u305f\u554f\u984c\n\nInternal Server Error\u304c\u51fa\u3066\u30bd\u30fc\u30b9\u304c\u305d\u306e\u307e\u307e\u51fa\u529b\n\n$ cat /var/log/apache2/error_log\u3057\u3066\u3082\u5206\u304b\u3089\u305a\n\n\n\u89e3\u6c7a\n\n\nhello.rb\u306e\u5192\u982d\u306b\u66f8\u304fRuby\u306e\u30d1\u30b9\u3092\u5143\u304b\u3089\u5165\u3063\u3066\u3044\u308b/usr/bin/ruby\u3078\u5909\u66f4\u3057\u305f\n\n\nterminal.app\n$ /usr/bin/ruby -v\nruby 2.0.0p648\n\n\n\n\u307e\u3068\u3081\n\n\u81ea\u5206\u3067\u5165\u308c\u305fRuby\u306e\u30d1\u30b9\u3060\u3068\u52d5\u304b\u306a\u304b\u3063\u305f\n\n/usr/bin/ruby\u306b\u3057\u305f\u3089\u76f4\u3063\u305f\n\u306a\u305c\u52d5\u304b\u306a\u304b\u3063\u305f\u304b\u4e0d\u660e(\u304a\u3057\u3048\u3066\u304f\u3060\u3055\u3044)\n\n\n\u53c2\u8003\n\n\u3010\u8cea\u554f\u3011Ruby\u306e\"Hello world\"\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u52d5\u304b\u306a\u3044\uff08Apache\u7d4c\u7531\uff09\n\u3010\u8cea\u554f\u3011Ruby\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u52d5\u304b\u306a\u3044\uff08Apache)\n\n\u4e00\u5fdc\u89e3\u6c7a(?)\u3057\u305f\u306e\u3067\u30e1\u30e2\n\n## \u4eca\u56de\u306e\u76ee\u7684\n- Ruby\u3067\u66f8\u3044\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092Apache\u3067\u52d5\u304b\u3057\u305f\u3044\n\n## \u74b0\u5883\n- MacBook Pro(13inch, Mid 2012)\n- **OS X** El Capitan 10.10.6\n- Apache 2.4.18\n- Ruby 2.3.1\n    - \u5c0e\u5165\u306brbenv 1.0.0\n\n## \u5c0e\u5165\n\n### `/etc/apache2/httpd.conf`\u3092\u7de8\u96c6\n\n```diff:httpd.conf(157\u884c\u76ee)\n- #LoadModule cgi_module libexec/apache2/mod_cgi.so\n+ LoadModule cgi_module libexec/apache2/mod_cgi.so\n```\n\n```diff:httpd.conf(380\u884c\u76ee)\n<Directory \"/Library/WebServer/CGI-Executables\">\n    AllowOverride None\n-   Options None\n+   Options ExecCGI\n    Require all granted\n</Directory>\n```\n\n```diff:httpd.conf(419\u884c\u76ee)\n- #AddHandler cgi-script .cgi\n+ AddHandler cgi-script .cgi .rb\n```\n\n### `/Library/WebServer/CGI-Executables`\u306b`hello.rb`\u3092\u4f5c\u6210\n\n#### \u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089Ruby\u306e\u30d1\u30b9\u3092\u78ba\u8a8d\n\n```bash:terminal.app\n$ which ruby\n/Users/[username]/.rbenv/shims/ruby\n```\n\n#### \u3053\u306e\u30d1\u30b9\u3092\u30cf\u30ed\u30ef\u3092\u66f8\u3044\u305f\u30bd\u30fc\u30b9\u306e\u5148\u982d\u306b\u8a18\u8ff0\n\n```ruby:hello.rb\n#!/Users/[username]/.rbenv/shims/ruby\n\nprint \"Content-type: text/html\\n\\n\"\n\nputs(<<\"html\")\n  <html>\n    <head>\n      <title>Hello, world</title>\n    </head>\n    <body>\n      <h1>Hello ruby!!!</h1>\n    </body>\n  </html>\nhtml\n```\n\n### cgi\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u5909\u66f4\n\n```bash:terminal.app\n$ sudo chmod 755 CGI-Executables\n```\n\n## \u767a\u751f\u3057\u305f\u554f\u984c\n- Internal Server Error\u304c\u51fa\u3066\u30bd\u30fc\u30b9\u304c\u305d\u306e\u307e\u307e\u51fa\u529b\n- `$ cat /var/log/apache2/error_log`\u3057\u3066\u3082\u5206\u304b\u3089\u305a\n\n## \u89e3\u6c7a\n- `hello.rb`\u306e\u5192\u982d\u306b\u66f8\u304fRuby\u306e\u30d1\u30b9\u3092\u5143\u304b\u3089\u5165\u3063\u3066\u3044\u308b`/usr/bin/ruby`\u3078\u5909\u66f4\u3057\u305f\n\n```bash:terminal.app\n$ /usr/bin/ruby -v\nruby 2.0.0p648\n```\n\n## \u307e\u3068\u3081\n- \u81ea\u5206\u3067\u5165\u308c\u305fRuby\u306e\u30d1\u30b9\u3060\u3068\u52d5\u304b\u306a\u304b\u3063\u305f\n- `/usr/bin/ruby`\u306b\u3057\u305f\u3089\u76f4\u3063\u305f\n- \u306a\u305c\u52d5\u304b\u306a\u304b\u3063\u305f\u304b\u4e0d\u660e(\u304a\u3057\u3048\u3066\u304f\u3060\u3055\u3044)\n\n## \u53c2\u8003\n- [\u3010\u8cea\u554f\u3011Ruby\u306e\"Hello world\"\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u52d5\u304b\u306a\u3044\uff08Apache\u7d4c\u7531\uff09](http://qiita.com/hashcc/items/a8ee74c01e2af8376a37)\n- [\u3010\u8cea\u554f\u3011Ruby\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u52d5\u304b\u306a\u3044\uff08Apache)](http://qiita.com/ichii/items/c8698eab91989645a1df)\n", "tags": ["Apache", "Cgi", "Ruby"]}