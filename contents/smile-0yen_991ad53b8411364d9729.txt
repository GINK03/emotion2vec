{"context": " More than 1 year has passed since last update.Linux\u74b0\u5883\u3067\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306b\u3064\u3044\u3066\u52c9\u5f37\u3059\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n\u74b0\u5883\nOS: CentOS 7.0 (on VirtualBox)\n\nDISK\n\n\u4ee3\u8868\u7684\u306a\u6307\u6a19\n\nIOPS(Input/Output Per Second): 1\u79d2\u9593\u306eI/O\u6570\u3002\nbytes/sec: 1\u79d2\u9593\u5f53\u305f\u308a\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u91cf\u3002\n\n\nfio\u306b\u3088\u308b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\nfio - Flexible IO Tester\u3092\u5229\u7528\u3059\u308b\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5143\uff1ahttp://git.kernel.dk/?p=fio.git;a=summary\n\n\u4e8b\u524d\u6e96\u5099\nfio\u306e\u30c6\u30b9\u30c8\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u540c\u671fI/O\u3092\u8a08\u6e2c\u3059\u308b\u3002\n\u3053\u3053\u3067\u306f\u975e\u540c\u671fI/O\u3067\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u898b\u308b\u305f\u3081libaio\u3092\u4e88\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n$ sudo yum -y install libaio-devel\n$ wget http://brick.kernel.dk/snaps/fio-2.2.4.tar.gz\n\n\n\u89e3\u51cd&\u30d3\u30eb\u30c9\n$ tar xzvf fio-2.2.4.tar.gz\n$ cd fio-2.2.4\n$ make\n$ sudo make install\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u8aad\u307f\u8fbc\u307e\u305b\u308bjob file\u3068\u3057\u3066\u6b21\u306e\u901a\u308a\u8a2d\u5b9a\u3002\u8a73\u7d30\u306fman fio\u3002\n$ vi myjob.fio\n[Sequential-Read] # job\u306e\u540d\u524d\nrw=read           # \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u3067read\u3059\u308b\ndirectory=/tmp/   # \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3067\u4f7f\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nsize=100m         # \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30a4\u30ba\u3092\u8003\u616e\u3057\u3066\u6c7a\u3081\u308b\u3002\nioengine=libaio   # \u975e\u540c\u671fI/O\u3067\u30c6\u30b9\u30c8\u3059\u308b\u3002\u6307\u5b9a\u3057\u306a\u3044\u3068sync(\u540c\u671fI/O)\u306b\u306a\u308b\u3002\n\n[Sequential-Write]\nrw=write          # \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u3067write\u3059\u308b\ndirectory=/tmp/\nsize=100m\nioengine=libaio\n\n[Random-Read]\nrw=randread       # \u30e9\u30f3\u30c0\u30e0\u3067read\u3059\u308b\ndirectory=/tmp/\nsize=100m\nioengine=libaio\n\n[Random-Write]\nrw=randwrite      # \u30e9\u30f3\u30c0\u30e0\u3067write\u3059\u308b\ndirectory=/tmp/\nsize=100m\nioengine=libaio\n\n\n\u7559\u610f\u70b9\n\nsize\u306e\u5024\u306b\u6ce8\u610f\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u50cd\u304f\u305f\u3081\u3001\u6e2c\u5b9a\u7d50\u679c\u306f\u5358\u7d14\u306a\u30c7\u30a3\u30b9\u30af\u81ea\u4f53\u306eI/O\u3067\u306f\u306a\u3044\u3002\n\n\n\u60f3\u5b9a\u3055\u308c\u308b\u306e\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u4e57\u308b\u30b5\u30a4\u30ba\u306eI/O\u306a\u3089\u30ad\u30e3\u30c3\u30b7\u30e5\u3088\u308a\u5c0f\u3055\u304f\u3002\n\u60f3\u5b9a\u3055\u308c\u308b\u306e\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u4e57\u3089\u306a\u3044\u30b5\u30a4\u30ba\u306e\u5834\u5408\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u3088\u308a\u5927\u304d\u304f\u8a2d\u5b9a\u3002\n\n\n\u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u3092\u91cd\u8996\u3059\u308b\u304b\u30e9\u30f3\u30c0\u30e0\u3092\u91cd\u8996\u3059\u308b\u304b\u4e88\u3081\u6c7a\u3081\u3066\u304a\u304f\u3002\n\n\n\u6bd4\u8f03\u7684\u5927\u304d\u3081\u306e\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u3067\u306f\u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u306e\u7d50\u679c\u3092\u91cd\u8996\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u3088\u3046\u306b\u7d30\u304b\u3044\u66f8\u304d\u8fbc\u307f\u304c\u591a\u767a\u3059\u308b\u5834\u5408\u306f\u30e9\u30f3\u30c0\u30e0\u306e\u7d50\u679c\u3092\u91cd\u8996\u3002\n\n\n\n\n\u7d50\u679c\u4f8b\n\u4e0a\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u306e\u3046\u3061\u3001Randam-Read\u3092\u898b\u3066\u307f\u308b\u3002\nIOPS\u306f2754\u3002\u3082\u3061\u308d\u3093\u3001\u3053\u306e\u7d50\u679c\u304c\u826f\u3044\u304b\u60aa\u3044\u304b\u306f\u8981\u4ef6\u306b\u3088\u308b\u3002\nRandom-Read: (groupid=0, jobs=1): err= 0: pid=8344: Sun Jan 11 15:17:41 2015\n  read : io=102400KB, bw=11019KB/s, iops=2754, runt=  9293msec\n    slat (usec): min=68, max=1330.5K, avg=358.89, stdev=8803.86\n    clat (usec): min=0, max=33, avg= 0.87, stdev= 0.49\n     lat (usec): min=68, max=1330.5K, avg=360.19, stdev=8803.89\n    clat percentiles (usec):\n     |  1.00th=[    0],  5.00th=[    0], 10.00th=[    0], 20.00th=[    1],\n     | 30.00th=[    1], 40.00th=[    1], 50.00th=[    1], 60.00th=[    1],\n     | 70.00th=[    1], 80.00th=[    1], 90.00th=[    1], 95.00th=[    1],\n     | 99.00th=[    2], 99.50th=[    2], 99.90th=[    4], 99.95th=[    5],\n     | 99.99th=[   12]\n    bw (KB  /s): min=  325, max=15224, per=54.41%, avg=11989.81, stdev=4502.52\n    lat (usec) : 2=98.27%, 4=1.62%, 10=0.10%, 20=0.02%, 50=0.01%\n  cpu          : usr=0.13%, sys=35.64%, ctx=25630, majf=0, minf=28\n  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%\n     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%\n     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%\n     issued    : total=r=25600/w=0/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0\n     latency   : target=0, window=0, percentile=100.00%, depth=1\n\n\n\u6f14\u7b97\u51e6\u7406\uff08CPU\uff09\n\n\u4ee3\u8868\u7684\u306a\u6307\u6a19\n\nFLOPS(Floating-point Operations Per Second): 1\u79d2\u9593\u306b\u5b9f\u884c\u3067\u304d\u308b\u6d6e\u52d5\u5c0f\u6570\u70b9\u8a08\u7b97\u6570\u3002 \nMIPS(Million Istructions Per Second): 1\u79d2\u9593\u306b\u5b9f\u884c\u3067\u304d\u308b\u547d\u4ee4\u6570\u3002\n\n\n\u7c21\u6613\u7684\u306a\u78ba\u8a8d\u65b9\u6cd5 /proc/cpuinfo\n$ cat /proc/cpuinfo\n---\nbogomips    : 5250.53\n---\n\n\n\n\n\u9805\u76ee\n\u610f\u5473\n\n\n\n\nbogomips\nBogo(\u7c21\u6613\u7684\u306a\u3001\u3068\u3044\u3046\u610f\u5473) Million Instructions Per Second\uff08\u79d2\u9593\u51e6\u7406\u547d\u4ee4\u6570(\u5358\u4f4d:100\u4e07\u56de)\uff095250.53 \u306a\u3089 1\u79d2\u9593\u306b52\u51045053\u4e07\u56de\u547d\u4ee4\u3092\u5b9f\u884c\u3067\u304d\u308b\u3002\n\n\n\n\nUnixBench\u306b\u3088\u308b\u7dcf\u5408\u30d9\u30f3\u30c1\u30de\u30fc\u30af\nUnixBench\u306f\u6700\u521d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c1983\u5e74\u306b\u4f5c\u3089\u308c\u305f\u6b74\u53f2\u3042\u308b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30bd\u30d5\u30c8\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5143\uff1ahttp://code.google.com/p/byte-unixbench/\n\n\u30de\u30eb\u30c1\u30b3\u30a2\u306e\u5834\u5408\u306f1CPU\u3067\u5b9f\u884c\u3057\u305f\u3042\u3068\u306b\u5168CPU\u3067\u5b9f\u884c\u3057\u4e21\u65b9\u306e\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u308b\u3002\nCPU\u305d\u306e\u3082\u306e\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3067\u306f\u306a\u304fOS\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u4f9d\u5b58\u3059\u308b\u3002\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u7d50\u679c\u3068\u3057\u3066\u751f\u306e\u6570\u5024\u4ee5\u5916\u306b\u6bd4\u8f03\u5bfe\u8c61\u3068\u306a\u308b\u30de\u30b7\u30f3\uff08\uff0a\uff09\u306e\u30c7\u30fc\u30bf\u3001\u7dcf\u5408\u8a55\u4fa1\u306e\u5024\u304c\u63d0\u4f9b\u3055\u308c\u308b\u3002\uff08\uff0a\uff09Sun SPARCstation 20 SM 61 (1995\u5e74)\n\n\u5b9f\u884c\u3055\u308c\u308b\u30c6\u30b9\u30c8\u306e\u6982\u8981\n\n\n\n\u30c6\u30b9\u30c8\n\u8aac\u660e\n\n\n\n\nDhrystone\n\u6587\u5b57\u5217\u64cd\u4f5c\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u8a08\u6e2c\u3002\u6d6e\u52d5\u5c0f\u6570\u70b9\u6f14\u7b97\u306f\u542b\u307e\u306a\u3044\u3002\n\n\nWhetstone\n\u6d6e\u52d5\u5c0f\u6570\u70b9\u8a08\u7b97\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u8a08\u6e2c\u3002\n\n\nExecl Throughput\n1\u79d2\u9593\u306b\u4f55\u56deexecl\uff08\u30d7\u30ed\u30bb\u30b9\u306e\u7f6e\u304d\u63db\u3048\uff09\u3092\u547c\u3073\u51fa\u305b\u308b\u304b\u3092\u8a08\u6e2c\u3002\n\n\nFile Copy\n\u69d8\u3005\u306a\u30d0\u30c3\u30d5\u30a1\u30b5\u30a4\u30ba\u3067\u5358\u4f4d\u6642\u9593(\u30c7\u30d5\u30a9\u30eb\u30c810\u79d2)\u306b\u53ef\u80fd\u306aread,write,copy\u3092\u8a08\u6e2c\u3002\n\n\nPipe Throughput\n1\u79d2\u9593\u306b\u4f55\u56de512bytes\u306e\u30c7\u30fc\u30bf\u3092pipe\u306b\u9001\u308a\u5fdc\u7b54\u3092read\u3067\u304d\u308b\u304b\u8a08\u6e2c\u3002\n\n\nPipe-based Context Switching\n2\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u304cpipe\u3092\u901a\u3057\u3066\u6574\u6570\u5024\u3092\u3084\u308a\u3068\u308a\u3059\u308b\u969b\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u3092\u8a08\u6e2c\u3002\n\n\nProcess Creation\n\u76f4\u3061\u306b\u7d42\u4e86\u3059\u308b\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u4f55\u56de\u3082fork\u3059\u308b\u30c6\u30b9\u30c8\u3002OS\u306e\u30d7\u30ed\u30bb\u30b9\u751f\u6210\u306b\u95a2\u3059\u308b\u5b9f\u88c5\u306e\u6bd4\u8f03\u306b\u7528\u3044\u3089\u308c\u308b\u3002\n\n\nShell Scripts\n\u30c7\u30fc\u30bf\u5909\u63db\u51e6\u7406\u3092\u3059\u308b\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4e26\u5217\u8d77\u52d5\u3057(1,2,4,8\u4e26\u5217)\u30011\u5206\u9593\u306b\u958b\u59cb/\u505c\u6b62\u3092\u4f55\u56de\u7e70\u308a\u8fd4\u305b\u308b\u304b\u8a08\u6e2c\u3002\n\n\nSystem Call Overhead\n\u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u306b\u304b\u304b\u308b\u30b3\u30b9\u30c8\u306e\u898b\u7a4d\u3082\u308a\u30c6\u30b9\u30c8\u3002(\u5185\u90e8\u3067\u306fgetpid\u3092\u30b3\u30fc\u30eb\u3057\u3066\u3044\u308b)\n\n\nGraphical Tests\n2D, 3D\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u63cf\u753b\u306e\u7c21\u6613\u30c6\u30b9\u30c8\u3002\n\n\n\n\n\u4e8b\u524d\u6e96\u5099\n$ sudo yum -y install perl perl-Time-HiRes gcc\n$ wget http://byte-unixbench.googlecode.com/files/UnixBench5.1.3.tgz\n\n\n\u89e3\u51cd & \u30d3\u30eb\u30c9\u3068\u5b9f\u884c(Run)\n$ tar xzvf UnixBench5.1.3.tgz\n$ cd UnixBench && ./Run\n\n\n\u7d50\u679c\u4f8b\n\n\n\n\u9805\u76ee\n\u8aac\u660e\n\n\n\n\nBASELINE\nSPARCstation20 SM 61 \u306e\u51e6\u7406\u6027\u80fd\u3092\u8868\u3057\u3066\u3044\u308b\u56fa\u5b9a\u5024\u3002\n\n\nRESULT\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u5b9f\u884c\u3057\u305f\u30de\u30b7\u30f3\u306e\u7d50\u679c\u3002\n\n\nINDEX\nBASELINE\u3068RESULT\u304b\u3089\u5c0e\u304d\u51fa\u3055\u308c\u305f\u30b9\u30b3\u30a2\u3002\n\n\n\n========================================================================\n   BYTE UNIX Benchmarks (Version 5.1.3)\n\n   System: localhost.localdomain: GNU/Linux\n   OS: GNU/Linux -- 3.10.0-123.el7.x86_64 -- #1 SMP Mon Jun 30 12:09:22 UTC 2014\n   Machine: x86_64 (x86_64)\n   Language: en_US.utf8 (charmap=\"UTF-8\", collate=\"UTF-8\")\n   CPU 0: Intel(R) Core(TM) i5-4288U CPU @ 2.60GHz (5250.5 bogomips)\n          x86-64, MMX, Physical Address Ext, SYSENTER/SYSEXIT, SYSCALL/SYSRET\n   13:02:00 up 1 day, 15:53,  1 user,  load average: 0.71, 0.23, 0.11; runlevel 3\n\n------------------------------------------------------------------------\nBenchmark Run: \u65e5  1\u6708 11 2015 13:02:00 - 13:30:05\n1 CPU in system; running 1 parallel copy of tests\n\nDhrystone 2 using register variables       32221732.5 lps   (10.0 s, 7 samples)\nDouble-Precision Whetstone                     4232.1 MWIPS (9.8 s, 7 samples)\nExecl Throughput                               3295.3 lps   (30.0 s, 2 samples)\nFile Copy 1024 bufsize 2000 maxblocks        916073.0 KBps  (30.0 s, 2 samples)\nFile Copy 256 bufsize 500 maxblocks          272967.4 KBps  (30.0 s, 2 samples)\nFile Copy 4096 bufsize 8000 maxblocks       2171906.8 KBps  (30.0 s, 2 samples)\nPipe Throughput                             1697464.4 lps   (10.0 s, 7 samples)\nPipe-based Context Switching                 295175.0 lps   (10.0 s, 7 samples)\nProcess Creation                              11459.6 lps   (30.0 s, 2 samples)\nShell Scripts (1 concurrent)                   4231.7 lpm   (60.0 s, 2 samples)\nShell Scripts (8 concurrent)                    551.2 lpm   (60.1 s, 2 samples)\nSystem Call Overhead                        2793989.1 lps   (10.0 s, 7 samples)\n\nSystem Benchmarks Index Values               BASELINE       RESULT    INDEX\nDhrystone 2 using register variables         116700.0   32221732.5   2761.1\nDouble-Precision Whetstone                       55.0       4232.1    769.5\nExecl Throughput                                 43.0       3295.3    766.3\nFile Copy 1024 bufsize 2000 maxblocks          3960.0     916073.0   2313.3\nFile Copy 256 bufsize 500 maxblocks            1655.0     272967.4   1649.3\nFile Copy 4096 bufsize 8000 maxblocks          5800.0    2171906.8   3744.7\nPipe Throughput                               12440.0    1697464.4   1364.5\nPipe-based Context Switching                   4000.0     295175.0    737.9\nProcess Creation                                126.0      11459.6    909.5\nShell Scripts (1 concurrent)                     42.4       4231.7    998.0\nShell Scripts (8 concurrent)                      6.0        551.2    918.7\nSystem Call Overhead                          15000.0    2793989.1   1862.7\n                                                                   ========\nSystem Benchmarks Index Score                                        1349.2\n\n\n\u30ea\u30f3\u30af\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30bd\u30d5\u30c8\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u8a18\u4e8b\u3082\u53c2\u7167\u306e\u3053\u3068\u3002\n\nhttp://sourceforge.jp/magazine/14/05/22/085000/1\n\n\nLinux\u74b0\u5883\u3067\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306b\u3064\u3044\u3066\u52c9\u5f37\u3059\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n## \u74b0\u5883\n\nOS: CentOS 7.0 (on VirtualBox)\n\n## DISK\n\n### \u4ee3\u8868\u7684\u306a\u6307\u6a19\n\n- IOPS(Input/Output Per Second): 1\u79d2\u9593\u306eI/O\u6570\u3002\n- bytes/sec: 1\u79d2\u9593\u5f53\u305f\u308a\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u91cf\u3002\n\n### fio\u306b\u3088\u308b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\n\nfio - Flexible IO Tester\u3092\u5229\u7528\u3059\u308b\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5143\uff1ahttp://git.kernel.dk/?p=fio.git;a=summary\n\n#### \u4e8b\u524d\u6e96\u5099\nfio\u306e\u30c6\u30b9\u30c8\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u540c\u671fI/O\u3092\u8a08\u6e2c\u3059\u308b\u3002\n\u3053\u3053\u3067\u306f\u975e\u540c\u671fI/O\u3067\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u898b\u308b\u305f\u3081libaio\u3092\u4e88\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```\n$ sudo yum -y install libaio-devel\n$ wget http://brick.kernel.dk/snaps/fio-2.2.4.tar.gz\n```\n\n#### \u89e3\u51cd&\u30d3\u30eb\u30c9\n\n```\n$ tar xzvf fio-2.2.4.tar.gz\n$ cd fio-2.2.4\n$ make\n$ sudo make install\n```\n\n#### \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u8aad\u307f\u8fbc\u307e\u305b\u308bjob file\u3068\u3057\u3066\u6b21\u306e\u901a\u308a\u8a2d\u5b9a\u3002\u8a73\u7d30\u306f`man fio`\u3002\n\n```\n$ vi myjob.fio\n[Sequential-Read] # job\u306e\u540d\u524d\nrw=read           # \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u3067read\u3059\u308b\ndirectory=/tmp/   # \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3067\u4f7f\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\nsize=100m         # \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30fc\u30bf\u30b5\u30a4\u30ba\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u30b5\u30a4\u30ba\u3092\u8003\u616e\u3057\u3066\u6c7a\u3081\u308b\u3002\nioengine=libaio   # \u975e\u540c\u671fI/O\u3067\u30c6\u30b9\u30c8\u3059\u308b\u3002\u6307\u5b9a\u3057\u306a\u3044\u3068sync(\u540c\u671fI/O)\u306b\u306a\u308b\u3002\n\n[Sequential-Write]\nrw=write          # \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u3067write\u3059\u308b\ndirectory=/tmp/\nsize=100m\nioengine=libaio\n\n[Random-Read]\nrw=randread       # \u30e9\u30f3\u30c0\u30e0\u3067read\u3059\u308b\ndirectory=/tmp/\nsize=100m\nioengine=libaio\n\n[Random-Write]\nrw=randwrite      # \u30e9\u30f3\u30c0\u30e0\u3067write\u3059\u308b\ndirectory=/tmp/\nsize=100m\nioengine=libaio\n```\n\n#### \u7559\u610f\u70b9\n\n- size\u306e\u5024\u306b\u6ce8\u610f\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u50cd\u304f\u305f\u3081\u3001\u6e2c\u5b9a\u7d50\u679c\u306f\u5358\u7d14\u306a\u30c7\u30a3\u30b9\u30af\u81ea\u4f53\u306eI/O\u3067\u306f\u306a\u3044\u3002\n - \u60f3\u5b9a\u3055\u308c\u308b\u306e\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u4e57\u308b\u30b5\u30a4\u30ba\u306eI/O\u306a\u3089\u30ad\u30e3\u30c3\u30b7\u30e5\u3088\u308a\u5c0f\u3055\u304f\u3002\n - \u60f3\u5b9a\u3055\u308c\u308b\u306e\u304c\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u4e57\u3089\u306a\u3044\u30b5\u30a4\u30ba\u306e\u5834\u5408\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u3088\u308a\u5927\u304d\u304f\u8a2d\u5b9a\u3002\n- \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u3092\u91cd\u8996\u3059\u308b\u304b\u30e9\u30f3\u30c0\u30e0\u3092\u91cd\u8996\u3059\u308b\u304b\u4e88\u3081\u6c7a\u3081\u3066\u304a\u304f\u3002\n - \u6bd4\u8f03\u7684\u5927\u304d\u3081\u306e\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u3067\u306f\u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u306e\u7d50\u679c\u3092\u91cd\u8996\u3002\n - \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u3088\u3046\u306b\u7d30\u304b\u3044\u66f8\u304d\u8fbc\u307f\u304c\u591a\u767a\u3059\u308b\u5834\u5408\u306f\u30e9\u30f3\u30c0\u30e0\u306e\u7d50\u679c\u3092\u91cd\u8996\u3002\n\n#### \u7d50\u679c\u4f8b\n\n\u4e0a\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u5b9f\u884c\u3057\u305f\u7d50\u679c\u306e\u3046\u3061\u3001Randam-Read\u3092\u898b\u3066\u307f\u308b\u3002\nIOPS\u306f2754\u3002\u3082\u3061\u308d\u3093\u3001\u3053\u306e\u7d50\u679c\u304c\u826f\u3044\u304b\u60aa\u3044\u304b\u306f\u8981\u4ef6\u306b\u3088\u308b\u3002\n\n```\nRandom-Read: (groupid=0, jobs=1): err= 0: pid=8344: Sun Jan 11 15:17:41 2015\n  read : io=102400KB, bw=11019KB/s, iops=2754, runt=  9293msec\n    slat (usec): min=68, max=1330.5K, avg=358.89, stdev=8803.86\n    clat (usec): min=0, max=33, avg= 0.87, stdev= 0.49\n     lat (usec): min=68, max=1330.5K, avg=360.19, stdev=8803.89\n    clat percentiles (usec):\n     |  1.00th=[    0],  5.00th=[    0], 10.00th=[    0], 20.00th=[    1],\n     | 30.00th=[    1], 40.00th=[    1], 50.00th=[    1], 60.00th=[    1],\n     | 70.00th=[    1], 80.00th=[    1], 90.00th=[    1], 95.00th=[    1],\n     | 99.00th=[    2], 99.50th=[    2], 99.90th=[    4], 99.95th=[    5],\n     | 99.99th=[   12]\n    bw (KB  /s): min=  325, max=15224, per=54.41%, avg=11989.81, stdev=4502.52\n    lat (usec) : 2=98.27%, 4=1.62%, 10=0.10%, 20=0.02%, 50=0.01%\n  cpu          : usr=0.13%, sys=35.64%, ctx=25630, majf=0, minf=28\n  IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%\n     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%\n     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%\n     issued    : total=r=25600/w=0/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0\n     latency   : target=0, window=0, percentile=100.00%, depth=1\n```\n\n## \u6f14\u7b97\u51e6\u7406\uff08CPU\uff09\n\n### \u4ee3\u8868\u7684\u306a\u6307\u6a19\n\n- FLOPS(Floating-point Operations Per Second): 1\u79d2\u9593\u306b\u5b9f\u884c\u3067\u304d\u308b\u6d6e\u52d5\u5c0f\u6570\u70b9\u8a08\u7b97\u6570\u3002 \n- MIPS(Million Istructions Per Second): 1\u79d2\u9593\u306b\u5b9f\u884c\u3067\u304d\u308b\u547d\u4ee4\u6570\u3002\n\n### \u7c21\u6613\u7684\u306a\u78ba\u8a8d\u65b9\u6cd5 /proc/cpuinfo\n\n```\n$ cat /proc/cpuinfo\n---\nbogomips\t: 5250.53\n---\n```\n\n| \u9805\u76ee | \u610f\u5473 |\n|:----|:----|\n|bogomips | Bogo(\u7c21\u6613\u7684\u306a\u3001\u3068\u3044\u3046\u610f\u5473) Million Instructions Per Second\uff08\u79d2\u9593\u51e6\u7406\u547d\u4ee4\u6570(\u5358\u4f4d:100\u4e07\u56de)\uff09<br>5250.53 \u306a\u3089 1\u79d2\u9593\u306b52\u51045053\u4e07\u56de\u547d\u4ee4\u3092\u5b9f\u884c\u3067\u304d\u308b\u3002 |\n\n## UnixBench\u306b\u3088\u308b\u7dcf\u5408\u30d9\u30f3\u30c1\u30de\u30fc\u30af\n\nUnixBench\u306f\u6700\u521d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c1983\u5e74\u306b\u4f5c\u3089\u308c\u305f\u6b74\u53f2\u3042\u308b\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30bd\u30d5\u30c8\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5143\uff1ahttp://code.google.com/p/byte-unixbench/\n\n- \u30de\u30eb\u30c1\u30b3\u30a2\u306e\u5834\u5408\u306f1CPU\u3067\u5b9f\u884c\u3057\u305f\u3042\u3068\u306b\u5168CPU\u3067\u5b9f\u884c\u3057\u4e21\u65b9\u306e\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n- CPU\u305d\u306e\u3082\u306e\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3067\u306f\u306a\u304fOS\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u4f9d\u5b58\u3059\u308b\u3002\n- \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u7d50\u679c\u3068\u3057\u3066\u751f\u306e\u6570\u5024\u4ee5\u5916\u306b\u6bd4\u8f03\u5bfe\u8c61\u3068\u306a\u308b\u30de\u30b7\u30f3\uff08\uff0a\uff09\u306e\u30c7\u30fc\u30bf\u3001\u7dcf\u5408\u8a55\u4fa1\u306e\u5024\u304c\u63d0\u4f9b\u3055\u308c\u308b\u3002<br>\uff08\uff0a\uff09Sun SPARCstation 20 SM 61 (1995\u5e74)\n\n\u5b9f\u884c\u3055\u308c\u308b\u30c6\u30b9\u30c8\u306e\u6982\u8981\n\n|\u30c6\u30b9\u30c8 | \u8aac\u660e |\n|:-----|:-----|\n| Dhrystone | \u6587\u5b57\u5217\u64cd\u4f5c\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u8a08\u6e2c\u3002\u6d6e\u52d5\u5c0f\u6570\u70b9\u6f14\u7b97\u306f\u542b\u307e\u306a\u3044\u3002 |\n| Whetstone | \u6d6e\u52d5\u5c0f\u6570\u70b9\u8a08\u7b97\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u8a08\u6e2c\u3002 |\n| Execl Throughput | 1\u79d2\u9593\u306b\u4f55\u56de[execl](http://unixhelp.ed.ac.uk/CGI/man-cgi?execl+3)\uff08\u30d7\u30ed\u30bb\u30b9\u306e\u7f6e\u304d\u63db\u3048\uff09\u3092\u547c\u3073\u51fa\u305b\u308b\u304b\u3092\u8a08\u6e2c\u3002|\n| File Copy | \u69d8\u3005\u306a\u30d0\u30c3\u30d5\u30a1\u30b5\u30a4\u30ba\u3067\u5358\u4f4d\u6642\u9593(\u30c7\u30d5\u30a9\u30eb\u30c810\u79d2)\u306b\u53ef\u80fd\u306aread,write,copy\u3092\u8a08\u6e2c\u3002|\n| Pipe Throughput | 1\u79d2\u9593\u306b\u4f55\u56de512bytes\u306e\u30c7\u30fc\u30bf\u3092pipe\u306b\u9001\u308a\u5fdc\u7b54\u3092read\u3067\u304d\u308b\u304b\u8a08\u6e2c\u3002|\n| Pipe-based Context Switching | 2\u3064\u306e\u30d7\u30ed\u30bb\u30b9\u304cpipe\u3092\u901a\u3057\u3066\u6574\u6570\u5024\u3092\u3084\u308a\u3068\u308a\u3059\u308b\u969b\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u3092\u8a08\u6e2c\u3002 |\n| Process Creation | \u76f4\u3061\u306b\u7d42\u4e86\u3059\u308b\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u4f55\u56de\u3082fork\u3059\u308b\u30c6\u30b9\u30c8\u3002<br>OS\u306e\u30d7\u30ed\u30bb\u30b9\u751f\u6210\u306b\u95a2\u3059\u308b\u5b9f\u88c5\u306e\u6bd4\u8f03\u306b\u7528\u3044\u3089\u308c\u308b\u3002|\n| Shell Scripts | \u30c7\u30fc\u30bf\u5909\u63db\u51e6\u7406\u3092\u3059\u308b\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4e26\u5217\u8d77\u52d5\u3057(1,2,4,8\u4e26\u5217)\u30011\u5206\u9593\u306b\u958b\u59cb/\u505c\u6b62\u3092\u4f55\u56de\u7e70\u308a\u8fd4\u305b\u308b\u304b\u8a08\u6e2c\u3002 |\n| System Call Overhead | \u30b7\u30b9\u30c6\u30e0\u30b3\u30fc\u30eb\u306b\u304b\u304b\u308b\u30b3\u30b9\u30c8\u306e\u898b\u7a4d\u3082\u308a\u30c6\u30b9\u30c8\u3002<br>(\u5185\u90e8\u3067\u306fgetpid\u3092\u30b3\u30fc\u30eb\u3057\u3066\u3044\u308b) |\n| Graphical Tests | 2D, 3D\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u63cf\u753b\u306e\u7c21\u6613\u30c6\u30b9\u30c8\u3002 |\n\n#### \u4e8b\u524d\u6e96\u5099\n\n```\n$ sudo yum -y install perl perl-Time-HiRes gcc\n$ wget http://byte-unixbench.googlecode.com/files/UnixBench5.1.3.tgz\n```\n\n#### \u89e3\u51cd & \u30d3\u30eb\u30c9\u3068\u5b9f\u884c(Run)\n\n```\n$ tar xzvf UnixBench5.1.3.tgz\n$ cd UnixBench && ./Run\n```\n\n#### \u7d50\u679c\u4f8b\n\n| \u9805\u76ee | \u8aac\u660e |\n|:----|:----|\n| BASELINE | SPARCstation20 SM 61 \u306e\u51e6\u7406\u6027\u80fd\u3092\u8868\u3057\u3066\u3044\u308b\u56fa\u5b9a\u5024\u3002 |\n| RESULT | \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u5b9f\u884c\u3057\u305f\u30de\u30b7\u30f3\u306e\u7d50\u679c\u3002|\n| INDEX  | BASELINE\u3068RESULT\u304b\u3089\u5c0e\u304d\u51fa\u3055\u308c\u305f\u30b9\u30b3\u30a2\u3002|\n\n```\n========================================================================\n   BYTE UNIX Benchmarks (Version 5.1.3)\n\n   System: localhost.localdomain: GNU/Linux\n   OS: GNU/Linux -- 3.10.0-123.el7.x86_64 -- #1 SMP Mon Jun 30 12:09:22 UTC 2014\n   Machine: x86_64 (x86_64)\n   Language: en_US.utf8 (charmap=\"UTF-8\", collate=\"UTF-8\")\n   CPU 0: Intel(R) Core(TM) i5-4288U CPU @ 2.60GHz (5250.5 bogomips)\n          x86-64, MMX, Physical Address Ext, SYSENTER/SYSEXIT, SYSCALL/SYSRET\n   13:02:00 up 1 day, 15:53,  1 user,  load average: 0.71, 0.23, 0.11; runlevel 3\n\n------------------------------------------------------------------------\nBenchmark Run: \u65e5  1\u6708 11 2015 13:02:00 - 13:30:05\n1 CPU in system; running 1 parallel copy of tests\n\nDhrystone 2 using register variables       32221732.5 lps   (10.0 s, 7 samples)\nDouble-Precision Whetstone                     4232.1 MWIPS (9.8 s, 7 samples)\nExecl Throughput                               3295.3 lps   (30.0 s, 2 samples)\nFile Copy 1024 bufsize 2000 maxblocks        916073.0 KBps  (30.0 s, 2 samples)\nFile Copy 256 bufsize 500 maxblocks          272967.4 KBps  (30.0 s, 2 samples)\nFile Copy 4096 bufsize 8000 maxblocks       2171906.8 KBps  (30.0 s, 2 samples)\nPipe Throughput                             1697464.4 lps   (10.0 s, 7 samples)\nPipe-based Context Switching                 295175.0 lps   (10.0 s, 7 samples)\nProcess Creation                              11459.6 lps   (30.0 s, 2 samples)\nShell Scripts (1 concurrent)                   4231.7 lpm   (60.0 s, 2 samples)\nShell Scripts (8 concurrent)                    551.2 lpm   (60.1 s, 2 samples)\nSystem Call Overhead                        2793989.1 lps   (10.0 s, 7 samples)\n\nSystem Benchmarks Index Values               BASELINE       RESULT    INDEX\nDhrystone 2 using register variables         116700.0   32221732.5   2761.1\nDouble-Precision Whetstone                       55.0       4232.1    769.5\nExecl Throughput                                 43.0       3295.3    766.3\nFile Copy 1024 bufsize 2000 maxblocks          3960.0     916073.0   2313.3\nFile Copy 256 bufsize 500 maxblocks            1655.0     272967.4   1649.3\nFile Copy 4096 bufsize 8000 maxblocks          5800.0    2171906.8   3744.7\nPipe Throughput                               12440.0    1697464.4   1364.5\nPipe-based Context Switching                   4000.0     295175.0    737.9\nProcess Creation                                126.0      11459.6    909.5\nShell Scripts (1 concurrent)                     42.4       4231.7    998.0\nShell Scripts (8 concurrent)                      6.0        551.2    918.7\nSystem Call Overhead                          15000.0    2793989.1   1862.7\n                                                                   ========\nSystem Benchmarks Index Score                                        1349.2\n```\n\n\n## \u30ea\u30f3\u30af\n\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30bd\u30d5\u30c8\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u8a18\u4e8b\u3082\u53c2\u7167\u306e\u3053\u3068\u3002\n\n- http://sourceforge.jp/magazine/14/05/22/085000/1\n", "tags": ["Linux", "benchmark", "CentOS"]}