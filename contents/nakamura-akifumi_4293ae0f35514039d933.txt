{"context": "Drupal8\u3067\u3059\u304c\u3001\u305d\u308d\u305d\u308dRC1\u304c\u51fa\u305d\u3046\u3067\u3059\u3057\u3001aquia\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u59cb\u307e\u308a\u307e\u3057\u305f\u3002\u305d\u308d\u305d\u308d\u826f\u3044\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u306d\uff1f\u3068\u3044\u3046\u3053\u3068\u3067\u672c\u756a\u6a5f\u306e\u7df4\u7fd2\u7528\u306b\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\uff08\u672c\u756a\u6a5f\u306f\u3001\u3055\u304f\u3089\u306eVPS\u3067\u3059\uff09\n\n\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u306e\u30b9\u30da\u30c3\u30af\u3092\u6c7a\u3081\u308b\n\u7df4\u7fd2\u306a\u3093\u3067\u5b89\u3044\u3082\u306e\u306b\u3057\u3066\u307f\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30b9\u30da\u30c3\u30af\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u5229\u7528\u6599\u306f\u3001\u65e5\u5272\u308a119\u5186\u3001\u6708\u984d2,386\u5186 \u306b\u306a\u308a\u307e\u3059\u3002\n\u4f5c\u6210\u3092\u6307\u793a\u3057\u3066OS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u8fbc\u307f\u3067\uff14\u5206\u534a\u304f\u3089\u3044\u3067\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\n\n\n\u9805\u76ee\n\u8a2d\u5b9a\u5024\n\n\n\n\n\u30be\u30fc\u30f3\n\u77f3\u72e9\u7b2c\uff11\u30be\u30fc\u30f3\n\n\nCPU\u30b3\u30a2\u6570\n1\n\n\n\u30e1\u30e2\u30ea\n1GB\n\n\n\u30b9\u30c8\u30ec\u30fc\u30b8\n\u6a19\u6e96\u30c7\u30a3\u30b9\u30af 40GB\n\n\nOS\nCentOS 7.0 64bit (\u57fa\u672c\u30bb\u30c3\u30c8)\n\n\n\n\nphp 5.6 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nremi \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8ffd\u52a0\u3068 php \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nremi \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002apache\u3082\u540c\u6642\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u304c\u3001\u6c17\u306b\u305b\u305a\u9032\u3081\u307e\u3059\u3002\n# yum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\n# yum -y install --enablerepo=remi,remi-php56 php php-devel php-mbstring php-mcrypt php-mysqlnd php-pecl-xdebug php-pecl-xhprof php-gd php-fpm php-twig-ctwig\n# php -v\nPHP 5.6.11 (cli) (built: Jul 12 2015 20:13:00) \nCopyright (c) 1997-2015 The PHP Group\nZend Engine v2.6.0, Copyright (c) 1998-2015 Zend Technologies\n\n\nMariaDB 10 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u6b21\u306b MariaDB 10 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u307e\u305a\u516c\u5f0f\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u7528\u610f\u3057\u3066\u3042\u308b\u306e\u3067\u8ffd\u52a0\u3059\u308b\u4f5c\u696d\u3092\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u8a2d\u5b9a\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nhttps://downloads.mariadb.org/mariadb/repositories/\nCentOS => CentOS 7 (64bit) => 10.0 \u3068\u9078\u629e\u3057\u307e\u3059\u3002\n\u753b\u9762\u4e0b\u90e8\u306b\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u6307\u793a\u306b\u5f93\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n/etc/yum.repos.d/MariaDB.repo\n[mariadb]\nname = MariaDB\nbaseurl = http://yum.mariadb.org/10.0/centos7-amd64\ngpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\ngpgcheck=1\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# yum -y install MariaDB-devel MariaDB-client MariaDB-server\n\n\n\u8a2d\u5b9a\u306e\u5909\u66f4\n\u6587\u5b57\u30b3\u30fc\u30c9\u306a\u3069\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n/etc/my.cnf.d/server.cnf\n[mysqld]\ncharacter-set-server=utf8\nlog-bin=mysql-bin\nexpire_logs_days=30\n\n\n\u81ea\u52d5\u8d77\u52d5\u3068\u3057\u3001MariaDB \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n# service start mysql\nStarting MySQL. SUCCESS! \n# systemctl enable mysql.service\n\nmysql_secure_installation \u3092\u8d77\u52d5\u3057\u3066\u3001\u30a2\u30ec\u30b3\u30ec\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n# mysql_secure_installation\n\n\nNginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n/etc/yum.repos.d/nginx.repo \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n/etc/yum.repos.d/nginx.repo\n[nginx]\nname=nginx repo\nbaseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/\ngpgcheck=0\nenabled=0\n\n\nyum \u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# yum -y --enablerepo=nginx install nginx\n# systemctl start nginx\n# systemctl enable nginx\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3092\u3057\u3066 nginx \u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\nphp-fpm \u306e\u8a2d\u5b9a\n\n\u8a2d\u5b9a\u306e\u5909\u66f4\nphp-fpm \u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002user\u3068group\u306e\u8a2d\u5b9a\u5024\u3092apache\u304b\u3089nginx\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n/etc/php-fpm.d/www.conf\nuser = nginx\ngroup = nginx\n\n\n\u3055\u3089\u306b listen \u3001listen.owner \u3001listen.group \u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n/etc/php-fpm.d/www.conf\nlisten = /var/run/php-fpm/php-fpm.sock\nlisten.owner = nginx\nlisten.group = nginx\n\n\n\u7d9a\u3044\u3066\u30b5\u30fc\u30d3\u30b9\u5316\u3057\u3066\u8d77\u52d5\u3092\u3057\u307e\u3059\u3002\n# systemctl start php-fpm.service\n# systemctl enable php-fpm.service\n\n\nnginx\u306e\u8a2d\u5b9a\u5909\u66f4\nnginx\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n8\u304b\u308910\u884c\u76ee\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u306b\u3057\u307e\u3059\u3002\n\n/etc/nginx/conf.d/default.conf\n    location ~ \\.php$ {\n        root   /usr/share/nginx/html;\n        fastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  $document_root/$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n\n\n\u3044\u3063\u305f\u3093nginx\u3092\u518d\u8d77\u52d5\u3057\u3066\u307e\u3059\u3002\n# systemctl restart nginx.service\n\n\n\u30c6\u30b9\u30c8\u7528\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210\u3068\u78ba\u8a8d\n\u3044\u3064\u3082\u306ephp\u30c6\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n/usr/share/nginx/html/test.php\n<?php phpinfo(); ?>\n\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://(\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9)/test.php \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u3044\u3064\u3082\u306e\u30a2\u30ec\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\nDruapl \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6e96\u5099\nd8 \u3068\u3044\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u307e\u305fdrupal8\u3068\u3044\u3046\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3001qiitaa \u306b\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n# mysql -u root -p\ncreate database d8;\ngrant all privileges on d8.* to 'drupal8'@'localhost' identified by 'qiitaa';\nexit\n\n\nphp.ini \u306e\u7de8\u96c6\n\u305d\u306e\u307e\u307e\u3060\u3068\u30bd\u30b1\u30c3\u30c8\u306e\u4f4d\u7f6e\u306e\u8a18\u8f09\u304c\u306a\u3044\u306e\u3067\u3001/var/lib/mysql/mysql.sock \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n# grep -n \"\\.default_socket\\s*=$\" /etc/php.ini\n969:pdo_mysql.default_socket=\n1108:mysql.default_socket =\n1167:mysqli.default_socket =\n# vi /etc/php.ini\n# grep -n \"\\.default_socket\\s*=\" /etc/php.ini\n969:pdo_mysql.default_socket=/var/lib/mysql/mysql.sock\n1108:mysql.default_socket = /var/lib/mysql/mysql.sock\n1167:mysqli.default_socket = /var/lib/mysql/mysql.sock\n\n\ndrupal 8 \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u3053\u306e\u6295\u7a3f\u3092\u66f8\u3044\u3066\u3044\u308b\u3068\u304d\u306e\u6700\u65b0\u306f\u3001beta 13 \u306a\u3093\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8 \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u753b\u9762\u30b5\u30f3\u30d7\u30eb\u306e\u8d64\u67a0\u306b\u3042\u308b\u30ea\u30f3\u30af(drupal-8.0.0-beta13.tar.gz)\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n\u30b7\u30a7\u30eb\u306b\u623b\u308a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n# cd /usr/share/nginx/\n# curl -O http://ftp.drupal.org/files/projects/drupal-8.0.0-beta13.tar.gz\n# tar zxvf drupal-8.0.0-beta13.tar.gz\n# ln -s drupal-8.0.0-beta13 drupal\n# chown -R nginx:nginx drupal-8.0.0-beta13 drupal\n\nnginx\u306e\u8a2d\u5b9a\u3092\u518d\u5ea6\u5909\u66f4\u3057\u307e\u3059\u3002\u5909\u66f4\u5f8c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n/etc/nginx/conf.d/default.conf\nserver {\n    listen       80;\n    server_name  localhost;\n    root /usr/share/nginx/drupal;\n    index index.php index.html index.htm;\n    location / {\n      try_files $uri $uri/ /index.php?q=$uri&$args;\n    }\n\n    error_page  404              /404.html;\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    location ~ \\.php$ {\n        root   /usr/share/nginx/drupal;\n        fastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  $document_root/$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}\n\n\nnginx \u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n# systemctl restart  nginx.service\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068drupal\u306e\u8a00\u8a9e\u9078\u629e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\u3002\n\n\u8a00\u8a9e\u304c\u65e5\u672c\u8a9e\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u3066\u3001\u300cSave and continue\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u300c\u6a19\u6e96\u300d\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u3066\u300c\u4fdd\u5b58\u3057\u3066\u6b21\u3078\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3057\u3001\u300c\u4fdd\u5b58\u3057\u3066\u6b21\u3078\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n\n\u9805\u76ee\n\u8a2d\u5b9a\u5024\n\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\nd8\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30e6\u30fc\u30b6\u30fc\u540d\ndrupal8\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\nqiitaa\n\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u304c\u51fa\u6765\u308b\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u3002\n\u3042\u3068\u306f\u3001\u30b5\u30a4\u30c8\u306e\u74b0\u5883\u8a2d\u5b9a \u3092\u8a2d\u5b9a\u3057\u3066\u7d42\u4e86\u3067\u3059\u3002\u554f\u984c\u306a\u3051\u308c\u3070\u3001\u30c8\u30c3\u30d7\u753b\u9762\u306b\u9077\u79fb\u3057\u307e\u3059\u3002\n\nDrupal8\u3067\u3059\u304c\u3001\u305d\u308d\u305d\u308dRC1\u304c\u51fa\u305d\u3046\u3067\u3059\u3057\u3001aquia\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u59cb\u307e\u308a\u307e\u3057\u305f\u3002\u305d\u308d\u305d\u308d\u826f\u3044\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u306d\uff1f\u3068\u3044\u3046\u3053\u3068\u3067\u672c\u756a\u6a5f\u306e\u7df4\u7fd2\u7528\u306b\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\uff08\u672c\u756a\u6a5f\u306f\u3001\u3055\u304f\u3089\u306eVPS\u3067\u3059\uff09\n\n# \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u306e\u30b9\u30da\u30c3\u30af\u3092\u6c7a\u3081\u308b\n\n\u7df4\u7fd2\u306a\u3093\u3067\u5b89\u3044\u3082\u306e\u306b\u3057\u3066\u307f\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30b9\u30da\u30c3\u30af\u306b\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u5229\u7528\u6599\u306f\u3001\u65e5\u5272\u308a119\u5186\u3001\u6708\u984d2,386\u5186 \u306b\u306a\u308a\u307e\u3059\u3002\n\u4f5c\u6210\u3092\u6307\u793a\u3057\u3066OS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u8fbc\u307f\u3067\uff14\u5206\u534a\u304f\u3089\u3044\u3067\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\n| \u9805\u76ee   | \u8a2d\u5b9a\u5024 |\n|:-------|:------:|\n| \u30be\u30fc\u30f3  |  \u77f3\u72e9\u7b2c\uff11\u30be\u30fc\u30f3  |\n| CPU\u30b3\u30a2\u6570 | 1 |\n| \u30e1\u30e2\u30ea | 1GB |\n| \u30b9\u30c8\u30ec\u30fc\u30b8 | \u6a19\u6e96\u30c7\u30a3\u30b9\u30af 40GB |\n| OS | CentOS 7.0 64bit (\u57fa\u672c\u30bb\u30c3\u30c8) |\n\n# php 5.6 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## remi \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8ffd\u52a0\u3068 php \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nremi \u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002apache\u3082\u540c\u6642\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u304c\u3001\u6c17\u306b\u305b\u305a\u9032\u3081\u307e\u3059\u3002\n\n```\n# yum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\n# yum -y install --enablerepo=remi,remi-php56 php php-devel php-mbstring php-mcrypt php-mysqlnd php-pecl-xdebug php-pecl-xhprof php-gd php-fpm php-twig-ctwig\n# php -v\nPHP 5.6.11 (cli) (built: Jul 12 2015 20:13:00) \nCopyright (c) 1997-2015 The PHP Group\nZend Engine v2.6.0, Copyright (c) 1998-2015 Zend Technologies\n```\n\n## MariaDB 10 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u6b21\u306b MariaDB 10 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u516c\u5f0f\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u7528\u610f\u3057\u3066\u3042\u308b\u306e\u3067\u8ffd\u52a0\u3059\u308b\u4f5c\u696d\u3092\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u8a2d\u5b9a\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\nhttps://downloads.mariadb.org/mariadb/repositories/\n\nCentOS => CentOS 7 (64bit) => 10.0 \u3068\u9078\u629e\u3057\u307e\u3059\u3002\n\u753b\u9762\u4e0b\u90e8\u306b\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-01 17.38.05.png](https://qiita-image-store.s3.amazonaws.com/0/5675/7ac28a5e-699f-df52-d86d-3ddb05b9ba09.png)\n\n\u6307\u793a\u306b\u5f93\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```/etc/yum.repos.d/MariaDB.repo\n[mariadb]\nname = MariaDB\nbaseurl = http://yum.mariadb.org/10.0/centos7-amd64\ngpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\ngpgcheck=1\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n# yum -y install MariaDB-devel MariaDB-client MariaDB-server\n```\n\n## \u8a2d\u5b9a\u306e\u5909\u66f4\n\n\u6587\u5b57\u30b3\u30fc\u30c9\u306a\u3069\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```/etc/my.cnf.d/server.cnf \n[mysqld]\ncharacter-set-server=utf8\nlog-bin=mysql-bin\nexpire_logs_days=30\n```\n\n\u81ea\u52d5\u8d77\u52d5\u3068\u3057\u3001MariaDB \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n# service start mysql\nStarting MySQL. SUCCESS! \n# systemctl enable mysql.service\n```\n\nmysql_secure_installation \u3092\u8d77\u52d5\u3057\u3066\u3001\u30a2\u30ec\u30b3\u30ec\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n# mysql_secure_installation\n```\n\n# Nginx\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n/etc/yum.repos.d/nginx.repo \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```/etc/yum.repos.d/nginx.repo\n[nginx]\nname=nginx repo\nbaseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/\ngpgcheck=0\nenabled=0\n```\nyum \u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n# yum -y --enablerepo=nginx install nginx\n# systemctl start nginx\n# systemctl enable nginx\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3092\u3057\u3066 nginx \u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-07-31 17.14.10.png](https://qiita-image-store.s3.amazonaws.com/0/5675/a27b5c43-65de-0d76-2319-bda662f4a37a.png)\n\n# php-fpm \u306e\u8a2d\u5b9a\n\n## \u8a2d\u5b9a\u306e\u5909\u66f4\n\nphp-fpm \u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002user\u3068group\u306e\u8a2d\u5b9a\u5024\u3092apache\u304b\u3089nginx\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```/etc/php-fpm.d/www.conf\nuser = nginx\ngroup = nginx\n```\n\n\u3055\u3089\u306b listen \u3001listen.owner \u3001listen.group \u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```/etc/php-fpm.d/www.conf\nlisten = /var/run/php-fpm/php-fpm.sock\nlisten.owner = nginx\nlisten.group = nginx\n```\n\n\u7d9a\u3044\u3066\u30b5\u30fc\u30d3\u30b9\u5316\u3057\u3066\u8d77\u52d5\u3092\u3057\u307e\u3059\u3002\n\n```\n# systemctl start php-fpm.service\n# systemctl enable php-fpm.service\n```\n\n## nginx\u306e\u8a2d\u5b9a\u5909\u66f4\n\nnginx\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n8\u304b\u308910\u884c\u76ee\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u306b\u3057\u307e\u3059\u3002\n\n```/etc/nginx/conf.d/default.conf \n    location ~ \\.php$ {\n        root   /usr/share/nginx/html;\n        fastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  $document_root/$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n```\n\n\u3044\u3063\u305f\u3093nginx\u3092\u518d\u8d77\u52d5\u3057\u3066\u307e\u3059\u3002\n\n```\n# systemctl restart nginx.service\n```\n\n## \u30c6\u30b9\u30c8\u7528\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f5c\u6210\u3068\u78ba\u8a8d\n\n\u3044\u3064\u3082\u306ephp\u30c6\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```/usr/share/nginx/html/test.php\n<?php phpinfo(); ?>\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067 http://(\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9)/test.php \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u3044\u3064\u3082\u306e\u30a2\u30ec\u304c\u8868\u793a\u3055\u308c\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-02 10.52.10.png](https://qiita-image-store.s3.amazonaws.com/0/5675/27de948f-11cc-9e03-5f40-ce2772185f7a.png)\n\n# Druapl \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6e96\u5099\n\nd8 \u3068\u3044\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u307e\u305fdrupal8\u3068\u3044\u3046\u30e6\u30fc\u30b6\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u3001qiitaa \u306b\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```\n# mysql -u root -p\ncreate database d8;\ngrant all privileges on d8.* to 'drupal8'@'localhost' identified by 'qiitaa';\nexit\n```\n\n## php.ini \u306e\u7de8\u96c6\n\n\u305d\u306e\u307e\u307e\u3060\u3068\u30bd\u30b1\u30c3\u30c8\u306e\u4f4d\u7f6e\u306e\u8a18\u8f09\u304c\u306a\u3044\u306e\u3067\u3001/var/lib/mysql/mysql.sock \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\n# grep -n \"\\.default_socket\\s*=$\" /etc/php.ini\n969:pdo_mysql.default_socket=\n1108:mysql.default_socket =\n1167:mysqli.default_socket =\n# vi /etc/php.ini\n# grep -n \"\\.default_socket\\s*=\" /etc/php.ini\n969:pdo_mysql.default_socket=/var/lib/mysql/mysql.sock\n1108:mysql.default_socket = /var/lib/mysql/mysql.sock\n1167:mysqli.default_socket = /var/lib/mysql/mysql.sock\n```\n\n## drupal 8 \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u3053\u306e\u6295\u7a3f\u3092\u66f8\u3044\u3066\u3044\u308b\u3068\u304d\u306e\u6700\u65b0\u306f\u3001beta 13 \u306a\u3093\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n[\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8](https://www.drupal.org/node/3060/release) \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u753b\u9762\u30b5\u30f3\u30d7\u30eb\u306e\u8d64\u67a0\u306b\u3042\u308b\u30ea\u30f3\u30af(drupal-8.0.0-beta13.tar.gz)\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-02 11.01.19.png](https://qiita-image-store.s3.amazonaws.com/0/5675/7eafb9d4-27b5-38f8-4019-ea815b1fed1a.png)\n\n\u30b7\u30a7\u30eb\u306b\u623b\u308a\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```\n# cd /usr/share/nginx/\n# curl -O http://ftp.drupal.org/files/projects/drupal-8.0.0-beta13.tar.gz\n# tar zxvf drupal-8.0.0-beta13.tar.gz\n# ln -s drupal-8.0.0-beta13 drupal\n# chown -R nginx:nginx drupal-8.0.0-beta13 drupal\n```\n\nnginx\u306e\u8a2d\u5b9a\u3092\u518d\u5ea6\u5909\u66f4\u3057\u307e\u3059\u3002\u5909\u66f4\u5f8c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```/etc/nginx/conf.d/default.conf \nserver {\n    listen       80;\n    server_name  localhost;\n    root /usr/share/nginx/drupal;\n    index index.php index.html index.htm;\n    location / {\n      try_files $uri $uri/ /index.php?q=$uri&$args;\n    }\n\n    error_page  404              /404.html;\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    location ~ \\.php$ {\n        root   /usr/share/nginx/drupal;\n        fastcgi_pass   unix:/var/run/php-fpm/php-fpm.sock;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME  $document_root/$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}\n```\n\nnginx \u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n# systemctl restart  nginx.service\n```\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068drupal\u306e\u8a00\u8a9e\u9078\u629e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\u3067\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-02 12.53.24.png](https://qiita-image-store.s3.amazonaws.com/0/5675/a8e54231-84f3-647d-c112-a37ade4dc9e8.png)\n\n\u8a00\u8a9e\u304c\u65e5\u672c\u8a9e\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u3066\u3001\u300cSave and continue\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-02 12.54.43.png](https://qiita-image-store.s3.amazonaws.com/0/5675/96ba59c7-f3fa-2bd8-862e-73d9ca3950e4.png)\n\n\u300c\u6a19\u6e96\u300d\u304c\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u3066\u300c\u4fdd\u5b58\u3057\u3066\u6b21\u3078\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-02 12.59.16.png](https://qiita-image-store.s3.amazonaws.com/0/5675/8a49a791-8e2e-0f79-4a90-e19845717623.png)\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3057\u3001\u300c\u4fdd\u5b58\u3057\u3066\u6b21\u3078\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n| \u9805\u76ee   | \u8a2d\u5b9a\u5024 |\n|:-------|:------:|\n| \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9  |  d8 |\n| \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30e6\u30fc\u30b6\u30fc\u540d | drupal8 |\n| \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9 | qiitaa |\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-02 14.19.41.png](https://qiita-image-store.s3.amazonaws.com/0/5675/ea9d2766-8a82-ea22-6a2a-4e701e6291eb.png)\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u63a5\u7d9a\u304c\u51fa\u6765\u308b\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u3002\n\n\u3042\u3068\u306f\u3001\u30b5\u30a4\u30c8\u306e\u74b0\u5883\u8a2d\u5b9a \u3092\u8a2d\u5b9a\u3057\u3066\u7d42\u4e86\u3067\u3059\u3002\u554f\u984c\u306a\u3051\u308c\u3070\u3001\u30c8\u30c3\u30d7\u753b\u9762\u306b\u9077\u79fb\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-02 14.51.34.png](https://qiita-image-store.s3.amazonaws.com/0/5675/c131b6b7-d703-5262-4dc1-20fc666e8983.png)\n\n", "tags": ["CentOS", "nginx", "Drupal", "MySQL", "mariadb"]}