{"context": " More than 1 year has passed since last update.\n\n \u6ce8\u610f (2015-07-31 \u8a18\u8f09)\n\u5f53\u8a18\u4e8b\u306f CentOS 6 \u3092\u5bfe\u8c61\u3068\u3057\u305f\u53e4\u3044\u8a18\u4e8b\u3067\u3042\u308a\u3001\u5185\u5bb9\u304c\u9593\u9055\u3063\u305f\u307e\u307e\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\nCentOS 7 \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4ee3\u308f\u308a\u306b CentOS 7 \u306b Apache \u3068 MariaDB 10.0 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057 SFTP \u63a5\u7d9a \u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\n\u5c0e\u5165\nApache HTTP Server 2.4\u3001\u53ca\u3073Apache 2.4.7 \u4ee5\u964d\u306e\u8d77\u52d5\u306b\u5fc5\u8981\u306aAPR 1.5\u3001APR-util 1.5\u306f\u3001\u6a19\u6e96\u306eYum\u30ea\u30dd\u30b8\u30c8\u30ea\u306a\u3069\u306b\u306f\u5b58\u5728\u305b\u305a\u3001Apache\u306fRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306a\u3069\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3057\u305f\u304c\u3063\u3066\u3001CentOS\u4e0a\u3067\u30bd\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3001RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u306fCentOS 6.4 \u306b Apache 2.4.4 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b:100\u306e\u4eba\u306e\u30d6\u30ed\u30de\u30ac - \u30d6\u30ed\u30de\u30ac\u306e\u4fee\u6b63\u7248\u3067\u3059\u3002\n\u5b9f\u904b\u7528\u74b0\u5883\u3068\u540c\u3058OS\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u958b\u767a\u74b0\u5883\u304c\u3042\u308c\u3070\u3001Apache\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u4f5c\u6210\u307e\u3067\u306f\u958b\u767a\u74b0\u5883\u3067\u884c\u3046\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u30d3\u30eb\u30c9\u306e\u6e96\u5099\n\u9078\u629e\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u30b0\u30eb\u30fc\u30d7\u306b\u3088\u3063\u3066\u306f\u3001RPM\u306e\u30d3\u30eb\u30c9\u74b0\u5883\u304c\u6574\u3063\u3066\u3044\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u308a\u30d3\u30eb\u30c9\u306b\u5931\u6557\u3059\u308b\u3088\u3046\u3067\u3042\u308c\u3070\u3001rpmbuild\u30b3\u30de\u30f3\u30c9\u3084GCC\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nsudo yum install rpm-build gcc\n\n\nAPR\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u00a0\n\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306byum-builddep\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u305d\u306e\u30b3\u30de\u30f3\u30c9\u304c\u542b\u307e\u308c\u308bYumUtils\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u306f\u3042\u3068\u3067\u5229\u7528\u3059\u308byumdownloader\u30b3\u30de\u30f3\u30c9\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\nsudo yum install yum-utils\n\n\u7f72\u540d\u306e\u691c\u8a3c\u306b\u5fc5\u8981\u306aApache\u306e\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3093\u3067\u304a\u304d\u307e\u3059\u3002\n# Apache\u306e\u516c\u958b\u9375\u3092\u53d6\u5f97\nwget https://www.apache.org/dist/httpd/KEYS\n# \u53d6\u308a\u8fbc\u3080\ngpg --import KEYS\n# \u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\nrm KEYS\n\n\u30bd\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001\u30df\u30e9\u30fc\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002APR\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8\u304b\u3089\u3001\u6700\u5bc4\u308a\u306e\u30df\u30e9\u30fc\u30b5\u30a4\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n/etc/services\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u6307\u5b9a\u304c\u3001ftp 21/tcp\u3001ssh 22/tcp\u3068\u306a\u3063\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u30d3\u30eb\u30c9\u306e\u6700\u5f8c\u3067\u30c6\u30b9\u30c8\u306b\u5931\u6557\u3057\u307e\u3059\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u5909\u66f4\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u4e00\u6642\u7684\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u66f8\u304d\u63db\u3048\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n# \u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308c\u3070\u3001\u524a\u9664\u3057\u3066\u304a\u304f\nrm ~/rpmbuild/RPMS/*/apr{,-devel}-[0-9]*.rpm\n# \u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306e\u53d6\u5f97\nAPR_VERSION=$(wget https://www.apache.org/dist/apr/ --output-document=- | sed --quiet --regexp-extended '/<a name=\"apr\">/ s/.+ ([.0-9]+) .+/\\1/p')\n# \u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget ftp://ftp.riken.go.jp/net/apache/apr/apr-$APR_VERSION.tar.bz2 --directory-prefix ~/rpmbuild/SOURCES\n# \u7f72\u540d\u306e\u53d6\u5f97\nwget https://www.apache.org/dist/apr/apr-$APR_VERSION.tar.bz2.asc\n# \u7f72\u540d\u306e\u691c\u8a3c\ngpg --verify apr-$APR_VERSION.tar.bz2.asc ~/rpmbuild/SOURCES/apr-$APR_VERSION.tar.bz2\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210\nrpmbuild -ts --rmsource ~/rpmbuild/SOURCES/apr-*\n# \u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum-builddep ~/rpmbuild/SRPMS/apr-*.src.rpm\n# \u30d3\u30eb\u30c9\nrpmbuild --rebuild --clean ~/rpmbuild/SRPMS/apr-*.src.rpm\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u3001\u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\nrm apr-*.asc ~/rpmbuild/SRPMS/apr-*.src.rpm\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash ~/rpmbuild/RPMS/*/apr{,-devel}-[0-9]*.rpm\n\n\u9014\u4e2d\u3001gpg\u30b3\u30de\u30f3\u30c9\u3067\u7f72\u540d\u3092\u691c\u8a3c\u3057\u3066\u3044\u307e\u3059\u3002gpg: \u201cJeff Trawick (CODE SIGNING KEY) <trawick@apache.org>\u201d\u304b\u3089\u306e\u6b63\u3057\u3044\u7f72\u540d\u306a\u3069\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306b\u8aa4\u308a\u306f\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u30021\n\nAPR-util\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u00a0\nAPR-util\u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306aFreeTDS\u306f\u3001\u6a19\u6e96\u306eYum\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\u5148\u306bEPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n# EPEL6\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3080\nsudo rpm --import https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-6\n# EPEL6\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3059\u308b\nsudo rpm --upgrade --verbose --hash https://dl.fedoraproject.org/pub/epel/6/$(uname --hardware-platform)/epel-release-6-8.noarch.rpm\n# EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u7121\u52b9\u5316\u3059\u308b\nsudo yum-config-manager --disable epel\n# EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4e00\u6642\u7684\u306b\u6709\u52b9\u5316\u3057\u3066FreeTDS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nsudo yum install freetds --enablerepo=epel\n\n# \u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308c\u3070\u3001\u524a\u9664\u3057\u3066\u304a\u304f\nrm ~/rpmbuild/RPMS/*/apr-util-*.rpm\n# \u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306e\u53d6\u5f97\nAPR_UTIL_VERSION=$(wget https://www.apache.org/dist/apr/ --output-document=- | sed --quiet --regexp-extended '/<a name=\"aprutil\">/ s/.+ ([.0-9]+) .+/\\1/p')\n# \u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget ftp://ftp.riken.go.jp/net/apache/apr/apr-util-$APR_UTIL_VERSION.tar.bz2 --directory-prefix ~/rpmbuild/SOURCES\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget https://www.apache.org/dist/apr/apr-util-$APR_UTIL_VERSION.tar.bz2.asc\n# \u7f72\u540d\u306e\u691c\u8a3c\ngpg --verify apr-util-$APR_UTIL_VERSION.tar.bz2.asc ~/rpmbuild/SOURCES/apr-util-$APR_UTIL_VERSION.tar.bz2\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210\nrpmbuild -ts --rmsource ~/rpmbuild/SOURCES/apr-util-*\n# \u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum-builddep ~/rpmbuild/SRPMS/apr-util-*.src.rpm\n# \u30d3\u30eb\u30c9\nrpmbuild --rebuild --clean ~/rpmbuild/SRPMS/apr-util-*.src.rpm\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u3001\u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\nrm apr-util-*.asc ~/rpmbuild/SRPMS/apr-util-*.src.rpm\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash ~/rpmbuild/RPMS/*/apr-util-*.rpm\n\n\ndistcache\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u00a0\ndistcache\u306f\u3001Apache\u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u304c\u3001APR 1.5\u3001APR-util 1.5\u3068\u540c\u3058\u304f\u6a19\u6e96\u306eYum\u30ea\u30dd\u30b8\u30c8\u30ea\u306a\u3069\u306b\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\u307e\u305f\u3001distcache\u306e\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001SPEC\u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001Fedora\u30ea\u30ea\u30fc\u30b9\u306e\u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u307e\u3059\u30022 3\n\u307e\u305a\u5ec3\u6b62\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u7f72\u540d\u9375\u304b\u3089\u76ee\u7684\u306e\u516c\u958b\u9375\u304c\u7f6e\u304b\u308c\u3066\u3044\u308bURL\u3092\u635c\u3057\u3001\u53d6\u308a\u8fbc\u307f\u307e\u3059\u3002\n# Fedora18\u306e\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3080\nsudo rpm --import https://fedoraproject.org/static/DE7F38BD.txt\n\n\u4ee5\u4e0b\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb (*.repo) \u3067\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3001*.repo \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n/etc/yum.repos.d/fedora.repo\n[fedora-source-18]\nname=Fedora 18 - $basearch - Source\n#baseurl=http://download.fedoraproject.org/pub/fedora/linux/releases/18/Fedora/source/SRPMS\nmirrorlist=https://mirrors.fedoraproject.org/mirrorlist?repo=fedora-source-18&arch=$arch\nfailovermethod=priority\nenabled=0\n\n\n# \u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308c\u3070\u3001\u524a\u9664\u3057\u3066\u304a\u304f\nrm ~/rpmbuild/RPMS/*/distcache-*.rpm\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u53d6\u5f97\nyumdownloader --source --enablerepo=fedora-source-18 distcache --destdir ~/rpmbuild/SRPMS\n# \u7f72\u540d\u306e\u691c\u8a3c\nrpm --checksig ~/rpmbuild/SRPMS/distcache-*.src.rpm\n# \u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum-builddep ~/rpmbuild/SRPMS/distcache-*.src.rpm\n# \u30d3\u30eb\u30c9\nrpmbuild --rebuild --clean ~/rpmbuild/SRPMS/distcache-*.src.rpm\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\nrm ~/rpmbuild/SRPMS/distcache-*.src.rpm\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash ~/rpmbuild/RPMS/*/distcache-*.rpm\n\n\u9014\u4e2d\u3001rpm\u30b3\u30de\u30f3\u30c9\u3067\u7f72\u540d\u3092\u691c\u8a3c\u3057\u3066\u3044\u307e\u3059\u3002distcache-1.4.5-23.src.rpm: rsa sha1 (md5) pgp md5 OK\u306a\u3069\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\u7f72\u540d\u306e\u691c\u8a3c\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u3068\u304d\u306f\u3001pgp\u304c\u8fd4\u308a\u307e\u305b\u3093\u30024\n\nApache\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u00a0\nApache\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8\u304b\u3089\u3001\u6700\u5bc4\u308a\u306e\u30df\u30e9\u30fc\u30b5\u30a4\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n# \u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308c\u3070\u3001\u524a\u9664\u3057\u3066\u304a\u304f\nrm ~/rpmbuild/RPMS/*/{httpd,mod_authnz_ldap,mod_lua,mod_proxy_html,mod_socache_dc,mod_ssl}-*.rpm\n# \u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306e\u53d6\u5f97\nHTTPD_VERSION=$(wget https://www.apache.org/dist/httpd/ --output-document=- | sed --quiet --regexp-extended '/CURRENT-IS-/ s/.+>CURRENT-IS-([.0-9]+)<.+/\\1/p')\n# \u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget ftp://ftp.riken.go.jp/net/apache/httpd/httpd-$HTTPD_VERSION.tar.bz2 --directory-prefix ~/rpmbuild/SOURCES\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget https://www.apache.org/dist/httpd/httpd-$HTTPD_VERSION.tar.bz2.asc\n# \u7f72\u540d\u306e\u691c\u8a3c\ngpg --verify httpd-$HTTPD_VERSION.tar.bz2.asc ~/rpmbuild/SOURCES/httpd-$HTTPD_VERSION.tar.bz2\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210\nrpmbuild -ts --rmsource ~/rpmbuild/SOURCES/httpd-*\n# \u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum-builddep ~/rpmbuild/SRPMS/httpd-*.src.rpm\n# \u30d3\u30eb\u30c9\nrpmbuild --rebuild --clean ~/rpmbuild/SRPMS/httpd-*.src.rpm\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u3001\u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\nrm httpd-*.asc ~/rpmbuild/SRPMS/httpd-*.src.rpm\n\n# index.html\u304c\u5b58\u5728\u3059\u308c\u3070\u9000\u907f\ncp /var/www/html/index.html ./\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash ~/rpmbuild/RPMS/*/httpd{,-tools,-devel}-[0-9]*.rpm\n# index.html\u3092\u5fa9\u5143\nsudo rm /var/www/html/index.html\nsudo mv --force index.html /var/www/html/\n\n\u5b9f\u904b\u7528\u74b0\u5883\u306b\u306f\u3001apr\u3001apr-util\u3001httpd\u3001httpd-tools\u306e4\u3064\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30b3\u30d4\u30fc\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n# index.html\u304c\u5b58\u5728\u3059\u308c\u3070\u9000\u907f\ncp /var/www/html/index.html ./\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash {apr,httpd}-*.rpm\n# index.html\u3092\u5fa9\u5143\nsudo rm /var/www/html/index.html\nsudo mv index.html /var/www/html/\n\n\nApache\u306e\u64cd\u4f5c\n\n\n\n\u30b3\u30de\u30f3\u30c9\n\u52b9\u679c\n\n\n\n\napachectl -v\n\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n\napachectl configtest\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u6587\u6cd5\u30df\u30b9\u304c\u7121\u3044\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\nsudo apachectl start\n\u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\n\n\nsudo apachectl stop\n\u30b5\u30fc\u30d3\u30b9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\n\n\nsudo service httpd reload\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002\n\n\nsudo apachectl graceful\n\n\u7de9\u3084\u304b\u306b\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u901a\u4fe1\u4e2d\u306e\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u5f37\u5236\u7d42\u4e86\u305b\u305a\u3001\u901a\u4fe1\u304c\u7d42\u308f\u3063\u305f\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u9806\u306b\u65b0\u3057\u3044\u30d7\u30ed\u30bb\u30b9\u306b\u7f6e\u304d\u63db\u3048\u3066\u3044\u304d\u307e\u3059\u3002\n\n\nsudo apachectl restart\n\u30b5\u30fc\u30d3\u30b9\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\nsudo service httpd restart\n\u89aa\u30d7\u30ed\u30bb\u30b9\u3082\u542b\u3081\u3066\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u5b8c\u5168\u306b\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\nsudo tail /var/log/httpd/error_log\n\ntail\u30b3\u30de\u30f3\u30c9\u3067\u30a8\u30e9\u30fc\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u306f/var/log/httpd\u4ee5\u4e0b\u306e\u8aad\u307f\u8fbc\u307f\u6a29\u9650\u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u30ed\u30b0\u3084\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u8aad\u307f\u53d6\u308a\u306b\u306froot\u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\nsudo tail /var/log/httpd/access_log\n\ntail\u30b3\u30de\u30f3\u30c9\u3067\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n\n\n\n\u53c2\u8003\u30da\u30fc\u30b8\n\n\n\n\nGnuPG\u306e\u7f72\u540d\u3092\u78ba\u8a8d\u3059\u308b [[GnuPG\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb]]\u00a0\u21a9\n\n\nCentOS6\u306e\u7df4\u7fd2-#10\uff08Apache\u306erpm\u3092\u4f5c\u308b\uff09\u3002 | o6asan's soliloquy-part2\u00a0\u21a9\n\n\nCentOS 6.2 \u7528\u306b Apache 2.4.1 \u306e RPM \u3092\u4f5c\u6210\u3059\u308b - akishin999\u306e\u65e5\u8a18\u00a0\u21a9\n\n\n\uff20IT\uff1arpm\u30b3\u30de\u30f3\u30c9\u3067\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u308b\u00a0\u21a9\n\n\n\n:warning: \u6ce8\u610f (2015-07-31 \u8a18\u8f09)\n================================\n\n\u5f53\u8a18\u4e8b\u306f CentOS 6 \u3092\u5bfe\u8c61\u3068\u3057\u305f\u53e4\u3044\u8a18\u4e8b\u3067\u3042\u308a\u3001\u5185\u5bb9\u304c\u9593\u9055\u3063\u305f\u307e\u307e\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\nCentOS 7 \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4ee3\u308f\u308a\u306b [CentOS 7 \u306b Apache \u3068 MariaDB 10.0 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057 SFTP \u63a5\u7d9a] \u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n[CentOS 7 \u306b Apache \u3068 MariaDB 10.0 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057 SFTP \u63a5\u7d9a]: http://qiita.com/100/items/5a07ab0abcabd1296ef8 \"CentOS \u306e\u516c\u5f0f yum \u30ea\u30dd\u30b8\u30c8\u30ea\u3067 Apache 2.4 \u306e RPM \u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u3055\u304f\u3089\u306e VPS \u306e\u5834\u5408\u306f\u3059\u3067\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u6709\u52b9\u5316\u3068\u8d77\u52d5\u306f\u5fc5\u8981\u3067\u3059\u3002\"\n\n----------------------------------------------------------------------\n\n\n\n\u5c0e\u5165\n====\n\n<b>[Apache HTTP Server 2.4](http://httpd.apache.org/download.cgi#apache24 \"Download - The Apache HTTP Server Project\")</b>\u3001\u53ca\u3073<b>Apache 2.4</b>.7 \u4ee5\u964d\u306e\u8d77\u52d5\u306b\u5fc5\u8981\u306a<b>[APR 1.5](http://apr.apache.org/download.cgi#apr1 \"Download - The Apache Portable Runtime Project\")</b>\u3001<b>[APR-util 1.5](http://apr.apache.org/download.cgi#aprutil1 \"Download - The Apache Portable Runtime Project\")</b>\u306f\u3001\u6a19\u6e96\u306eYum\u30ea\u30dd\u30b8\u30c8\u30ea\u306a\u3069\u306b\u306f\u5b58\u5728\u305b\u305a\u3001<b>Apache</b>\u306fRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306a\u3069\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3057\u305f\u304c\u3063\u3066\u3001<b>CentOS</b>\u4e0a\u3067\u30bd\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3001RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u306f[CentOS 6.4 \u306b Apache 2.4.4 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b:100\u306e\u4eba\u306e\u30d6\u30ed\u30de\u30ac - \u30d6\u30ed\u30de\u30ac](http://ch.nicovideo.jp/pokemori/blomaga/ar202050)\u306e\u4fee\u6b63\u7248\u3067\u3059\u3002\n\n\u5b9f\u904b\u7528\u74b0\u5883\u3068\u540c\u3058OS\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u958b\u767a\u74b0\u5883\u304c\u3042\u308c\u3070\u3001<b>Apache</b>\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u4f5c\u6210\u307e\u3067\u306f\u958b\u767a\u74b0\u5883\u3067\u884c\u3046\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\n\n\n\u30d3\u30eb\u30c9\u306e\u6e96\u5099\n============\n\n\u9078\u629e\u3057\u305f[\u30d1\u30c3\u30b1\u30fc\u30b8\u30b0\u30eb\u30fc\u30d7](https://access.redhat.com/site/documentation/ja-JP/Red_Hat_Enterprise_Linux/6/html/Installation_Guide/s1-pkgselection-s390.html \"23.17. \u30d1\u30c3\u30b1\u30fc\u30b8\u30b0\u30eb\u30fc\u30d7\u306e\u9078\u629e \u2014 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9 \u2014 Red Hat Enterprise Linux 6\")\u306b\u3088\u3063\u3066\u306f\u3001RPM\u306e\u30d3\u30eb\u30c9\u74b0\u5883\u304c\u6574\u3063\u3066\u3044\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u308a\u30d3\u30eb\u30c9\u306b\u5931\u6557\u3059\u308b\u3088\u3046\u3067\u3042\u308c\u3070\u3001[rpmbuild\u30b3\u30de\u30f3\u30c9](http://www.rpm.org/max-rpm-snapshot/ch-rpm-b-command.html \"rpmbuild Command Reference\")\u3084[GCC](http://ja.wikipedia.org/wiki/GNU%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%A9%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3 \"GNU\u30b3\u30f3\u30d1\u30a4\u30e9\u30b3\u30ec\u30af\u30b7\u30e7\u30f3 - Wikipedia\")\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```sh\nsudo yum install rpm-build gcc\n```\n\n\n\nAPR\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u00a0\n==========================\n\n\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b`yum-builddep`\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u306e\u3067\u3001\u305d\u306e\u30b3\u30de\u30f3\u30c9\u304c\u542b\u307e\u308c\u308b<b>[YumUtils](http://yum.baseurl.org/wiki/YumUtils \"YumUtils - yum - Trac\")</b>\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u3053\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u306f\u3042\u3068\u3067\u5229\u7528\u3059\u308b`yumdownloader`\u30b3\u30de\u30f3\u30c9\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\n```sh\nsudo yum install yum-utils\n```\n\n\u7f72\u540d\u306e\u691c\u8a3c\u306b\u5fc5\u8981\u306a<b>Apache</b>\u306e\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3093\u3067\u304a\u304d\u307e\u3059\u3002\n\n```sh\n# Apache\u306e\u516c\u958b\u9375\u3092\u53d6\u5f97\nwget https://www.apache.org/dist/httpd/KEYS\n# \u53d6\u308a\u8fbc\u3080\ngpg --import KEYS\n# \u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\nrm KEYS\n```\n\n\u30bd\u30fc\u30b9\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u3001\u30df\u30e9\u30fc\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002[APR\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8](http://apr.apache.org/download.cgi#mirror \"Download - The Apache Portable Runtime Project\")\u304b\u3089\u3001\u6700\u5bc4\u308a\u306e\u30df\u30e9\u30fc\u30b5\u30a4\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n`/etc/services`\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u6307\u5b9a\u304c\u3001`ftp 21/tcp`\u3001`ssh 22/tcp`\u3068\u306a\u3063\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u30d3\u30eb\u30c9\u306e\u6700\u5f8c\u3067\u30c6\u30b9\u30c8\u306b\u5931\u6557\u3057\u307e\u3059\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u5909\u66f4\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u4e00\u6642\u7684\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u66f8\u304d\u63db\u3048\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n```sh\n# \u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308c\u3070\u3001\u524a\u9664\u3057\u3066\u304a\u304f\nrm ~/rpmbuild/RPMS/*/apr{,-devel}-[0-9]*.rpm\n# \u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306e\u53d6\u5f97\nAPR_VERSION=$(wget https://www.apache.org/dist/apr/ --output-document=- | sed --quiet --regexp-extended '/<a name=\"apr\">/ s/.+ ([.0-9]+) .+/\\1/p')\n# \u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget ftp://ftp.riken.go.jp/net/apache/apr/apr-$APR_VERSION.tar.bz2 --directory-prefix ~/rpmbuild/SOURCES\n# \u7f72\u540d\u306e\u53d6\u5f97\nwget https://www.apache.org/dist/apr/apr-$APR_VERSION.tar.bz2.asc\n# \u7f72\u540d\u306e\u691c\u8a3c\ngpg --verify apr-$APR_VERSION.tar.bz2.asc ~/rpmbuild/SOURCES/apr-$APR_VERSION.tar.bz2\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210\nrpmbuild -ts --rmsource ~/rpmbuild/SOURCES/apr-*\n# \u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum-builddep ~/rpmbuild/SRPMS/apr-*.src.rpm\n# \u30d3\u30eb\u30c9\nrpmbuild --rebuild --clean ~/rpmbuild/SRPMS/apr-*.src.rpm\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u3001\u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\nrm apr-*.asc ~/rpmbuild/SRPMS/apr-*.src.rpm\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash ~/rpmbuild/RPMS/*/apr{,-devel}-[0-9]*.rpm\n```\n\n\u9014\u4e2d\u3001`gpg`\u30b3\u30de\u30f3\u30c9\u3067\u7f72\u540d\u3092\u691c\u8a3c\u3057\u3066\u3044\u307e\u3059\u3002`gpg: \u201cJeff Trawick (CODE SIGNING KEY) <trawick@apache.org>\u201d\u304b\u3089\u306e\u6b63\u3057\u3044\u7f72\u540d`\u306a\u3069\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306b\u8aa4\u308a\u306f\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002[^3]\n\n\n\nAPR-util\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u00a0\n===============================\n\n<b>APR-util</b>\u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a<b>[FreeTDS](http://www.freetds.org/ \"FreeTDS.org\")</b>\u306f\u3001\u6a19\u6e96\u306eYum\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\u5148\u306b<b>[EPEL\u30ea\u30dd\u30b8\u30c8\u30ea](https://fedoraproject.org/wiki/EPEL/ja \"EPEL/ja - FedoraProject\")</b>\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```sh\n# EPEL6\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3080\nsudo rpm --import https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-6\n# EPEL6\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3059\u308b\nsudo rpm --upgrade --verbose --hash https://dl.fedoraproject.org/pub/epel/6/$(uname --hardware-platform)/epel-release-6-8.noarch.rpm\n# EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u7121\u52b9\u5316\u3059\u308b\nsudo yum-config-manager --disable epel\n# EPEL\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4e00\u6642\u7684\u306b\u6709\u52b9\u5316\u3057\u3066FreeTDS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nsudo yum install freetds --enablerepo=epel\n```\n\n```sh\n# \u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308c\u3070\u3001\u524a\u9664\u3057\u3066\u304a\u304f\nrm ~/rpmbuild/RPMS/*/apr-util-*.rpm\n# \u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306e\u53d6\u5f97\nAPR_UTIL_VERSION=$(wget https://www.apache.org/dist/apr/ --output-document=- | sed --quiet --regexp-extended '/<a name=\"aprutil\">/ s/.+ ([.0-9]+) .+/\\1/p')\n# \u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget ftp://ftp.riken.go.jp/net/apache/apr/apr-util-$APR_UTIL_VERSION.tar.bz2 --directory-prefix ~/rpmbuild/SOURCES\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget https://www.apache.org/dist/apr/apr-util-$APR_UTIL_VERSION.tar.bz2.asc\n# \u7f72\u540d\u306e\u691c\u8a3c\ngpg --verify apr-util-$APR_UTIL_VERSION.tar.bz2.asc ~/rpmbuild/SOURCES/apr-util-$APR_UTIL_VERSION.tar.bz2\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210\nrpmbuild -ts --rmsource ~/rpmbuild/SOURCES/apr-util-*\n# \u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum-builddep ~/rpmbuild/SRPMS/apr-util-*.src.rpm\n# \u30d3\u30eb\u30c9\nrpmbuild --rebuild --clean ~/rpmbuild/SRPMS/apr-util-*.src.rpm\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u3001\u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\nrm apr-util-*.asc ~/rpmbuild/SRPMS/apr-util-*.src.rpm\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash ~/rpmbuild/RPMS/*/apr-util-*.rpm\n```\n\n\n\ndistcache\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u00a0\n================================\n\n<b>[distcache](http://distcache.sourceforge.net/)</b>\u306f\u3001<b>Apache</b>\u306e\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\u304c\u3001<b>APR 1.5</b>\u3001<b>APR-util 1.5</b>\u3068\u540c\u3058\u304f\u6a19\u6e96\u306eYum\u30ea\u30dd\u30b8\u30c8\u30ea\u306a\u3069\u306b\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\u307e\u305f\u3001<b>distcache</b>\u306e\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001SPEC\u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001[Fedora\u30ea\u30ea\u30fc\u30b9](http://fedoraproject.org/wiki/Releases \"Releases - FedoraProject\")\u306e\u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u307e\u3059\u3002[^4] [^5]\n\n\u307e\u305a[\u5ec3\u6b62\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u7f72\u540d\u9375](https://getfedora.org/keys/obsolete.html)\u304b\u3089\u76ee\u7684\u306e\u516c\u958b\u9375\u304c\u7f6e\u304b\u308c\u3066\u3044\u308bURL\u3092\u635c\u3057\u3001\u53d6\u308a\u8fbc\u307f\u307e\u3059\u3002\n\n```sh\n# Fedora18\u306e\u516c\u958b\u9375\u3092\u53d6\u308a\u8fbc\u3080\nsudo rpm --import https://fedoraproject.org/static/DE7F38BD.txt\n```\n\n\u4ee5\u4e0b\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb (\\*.repo) \u3067\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u306f\u3001[*.repo \u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30cf\u30a4\u30e9\u30a4\u30c8](http://qiita.com/100/items/5a07ab0abcabd1296ef8#-repo-%E3%81%AE%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n```ini:/etc/yum.repos.d/fedora.repo\n[fedora-source-18]\nname=Fedora 18 - $basearch - Source\n#baseurl=http://download.fedoraproject.org/pub/fedora/linux/releases/18/Fedora/source/SRPMS\nmirrorlist=https://mirrors.fedoraproject.org/mirrorlist?repo=fedora-source-18&arch=$arch\nfailovermethod=priority\nenabled=0\n```\n\n```sh\n# \u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308c\u3070\u3001\u524a\u9664\u3057\u3066\u304a\u304f\nrm ~/rpmbuild/RPMS/*/distcache-*.rpm\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u53d6\u5f97\nyumdownloader --source --enablerepo=fedora-source-18 distcache --destdir ~/rpmbuild/SRPMS\n# \u7f72\u540d\u306e\u691c\u8a3c\nrpm --checksig ~/rpmbuild/SRPMS/distcache-*.src.rpm\n# \u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum-builddep ~/rpmbuild/SRPMS/distcache-*.src.rpm\n# \u30d3\u30eb\u30c9\nrpmbuild --rebuild --clean ~/rpmbuild/SRPMS/distcache-*.src.rpm\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\nrm ~/rpmbuild/SRPMS/distcache-*.src.rpm\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash ~/rpmbuild/RPMS/*/distcache-*.rpm\n```\n\n\u9014\u4e2d\u3001`rpm`\u30b3\u30de\u30f3\u30c9\u3067\u7f72\u540d\u3092\u691c\u8a3c\u3057\u3066\u3044\u307e\u3059\u3002`distcache-1.4.5-23.src.rpm: rsa sha1 (md5) pgp md5 OK`\u306a\u3069\u3068\u8868\u793a\u3055\u308c\u308c\u3070\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\u7f72\u540d\u306e\u691c\u8a3c\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u3068\u304d\u306f\u3001`pgp`\u304c\u8fd4\u308a\u307e\u305b\u3093\u3002[^6]\n\n\n\nApache\u306e\u30d3\u30eb\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u00a0\n=============================\n\n[Apache\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8](http://httpd.apache.org/download.cgi \"Download - The Apache HTTP Server Project\")\u304b\u3089\u3001\u6700\u5bc4\u308a\u306e\u30df\u30e9\u30fc\u30b5\u30a4\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002\n\n```sh\n# \u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308c\u3070\u3001\u524a\u9664\u3057\u3066\u304a\u304f\nrm ~/rpmbuild/RPMS/*/{httpd,mod_authnz_ldap,mod_lua,mod_proxy_html,mod_socache_dc,mod_ssl}-*.rpm\n# \u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u306e\u53d6\u5f97\nHTTPD_VERSION=$(wget https://www.apache.org/dist/httpd/ --output-document=- | sed --quiet --regexp-extended '/CURRENT-IS-/ s/.+>CURRENT-IS-([.0-9]+)<.+/\\1/p')\n# \u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget ftp://ftp.riken.go.jp/net/apache/httpd/httpd-$HTTPD_VERSION.tar.bz2 --directory-prefix ~/rpmbuild/SOURCES\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u306e\u53d6\u5f97\nwget https://www.apache.org/dist/httpd/httpd-$HTTPD_VERSION.tar.bz2.asc\n# \u7f72\u540d\u306e\u691c\u8a3c\ngpg --verify httpd-$HTTPD_VERSION.tar.bz2.asc ~/rpmbuild/SOURCES/httpd-$HTTPD_VERSION.tar.bz2\n# \u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u4f5c\u6210\nrpmbuild -ts --rmsource ~/rpmbuild/SOURCES/httpd-*\n# \u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum-builddep ~/rpmbuild/SRPMS/httpd-*.src.rpm\n# \u30d3\u30eb\u30c9\nrpmbuild --rebuild --clean ~/rpmbuild/SRPMS/httpd-*.src.rpm\n# \u7f72\u540d\u30d5\u30a1\u30a4\u30eb\u3001\u30bd\u30fc\u30b9RPM\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664\nrm httpd-*.asc ~/rpmbuild/SRPMS/httpd-*.src.rpm\n\n# index.html\u304c\u5b58\u5728\u3059\u308c\u3070\u9000\u907f\ncp /var/www/html/index.html ./\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash ~/rpmbuild/RPMS/*/httpd{,-tools,-devel}-[0-9]*.rpm\n# index.html\u3092\u5fa9\u5143\nsudo rm /var/www/html/index.html\nsudo mv --force index.html /var/www/html/\n```\n\n\u5b9f\u904b\u7528\u74b0\u5883\u306b\u306f\u3001`apr`\u3001`apr-util`\u3001`httpd`\u3001`httpd-tools`\u306e4\u3064\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30b3\u30d4\u30fc\u3057\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```sh\n# index.html\u304c\u5b58\u5728\u3059\u308c\u3070\u9000\u907f\ncp /var/www/html/index.html ./\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm --upgrade --verbose --hash {apr,httpd}-*.rpm\n# index.html\u3092\u5fa9\u5143\nsudo rm /var/www/html/index.html\nsudo mv index.html /var/www/html/\n```\n\n\n\nApache\u306e\u64cd\u4f5c\n============\n\n| \u30b3\u30de\u30f3\u30c9                              | \u52b9\u679c |\n|---------------------------------------|------|\n| `apachectl -v`                        | \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002 |\n| `apachectl configtest`                | \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u6587\u6cd5\u30df\u30b9\u304c\u7121\u3044\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002 |\n| `sudo apachectl start`                | \u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3057\u307e\u3059\u3002 |\n| `sudo apachectl stop`                 | \u30b5\u30fc\u30d3\u30b9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002 |\n| `sudo service httpd reload`           | \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002 |\n| `sudo apachectl graceful`             | [\u7de9\u3084\u304b\u306b\u518d\u8d77\u52d5](http://httpd.apache.org/docs/current/stopping.html#graceful \"\u505c\u6b62\u3068\u518d\u8d77\u52d5 - Apache HTTP \u30b5\u30fc\u30d0\")\u3057\u307e\u3059\u3002\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u901a\u4fe1\u4e2d\u306e\u5b50\u30d7\u30ed\u30bb\u30b9\u3092\u5f37\u5236\u7d42\u4e86\u305b\u305a\u3001\u901a\u4fe1\u304c\u7d42\u308f\u3063\u305f\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u9806\u306b\u65b0\u3057\u3044\u30d7\u30ed\u30bb\u30b9\u306b\u7f6e\u304d\u63db\u3048\u3066\u3044\u304d\u307e\u3059\u3002 |\n| `sudo apachectl restart`              | \u30b5\u30fc\u30d3\u30b9\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002 |\n| `sudo service httpd restart`          | \u89aa\u30d7\u30ed\u30bb\u30b9\u3082\u542b\u3081\u3066\u3001\u30b5\u30fc\u30d3\u30b9\u3092\u5b8c\u5168\u306b\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002 |\n| `sudo tail /var/log/httpd/error_log`  | `tail`\u30b3\u30de\u30f3\u30c9\u3067\u30a8\u30e9\u30fc\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u4e00\u822c\u30e6\u30fc\u30b6\u30fc\u306b\u306f`/var/log/httpd`\u4ee5\u4e0b\u306e\u8aad\u307f\u8fbc\u307f\u6a29\u9650\u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u30a8\u30e9\u30fc\u30ed\u30b0\u3084\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u8aad\u307f\u53d6\u308a\u306b\u306froot\u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002 |\n| `sudo tail /var/log/httpd/access_log` | `tail`\u30b3\u30de\u30f3\u30c9\u3067\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u306e\u672b\u5c3e10\u884c\u3092\u8868\u793a\u3057\u307e\u3059\u3002 |\n\n\n\n\u53c2\u8003\u30da\u30fc\u30b8\n==========\n\n[^3]: [GnuPG\u306e\u7f72\u540d\u3092\u78ba\u8a8d\u3059\u308b [[GnuPG\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb]]](http://www.confrage.com/security/pgp/pgp3_02.html)\n[^4]: [CentOS6\u306e\u7df4\u7fd2-#10\uff08Apache\u306erpm\u3092\u4f5c\u308b\uff09\u3002 | o6asan's soliloquy-part2](http://o6asan.com/blog-j/2012/08/23/centos6%E3%81%AE%E7%B7%B4%E7%BF%92-10%EF%BC%88apache%E3%81%AErpm%E3%82%92%E4%BD%9C%E3%82%8B%EF%BC%89%E3%80%82/)\n[^5]: [CentOS 6.2 \u7528\u306b Apache 2.4.1 \u306e RPM \u3092\u4f5c\u6210\u3059\u308b - akishin999\u306e\u65e5\u8a18](http://d.hatena.ne.jp/akishin999/20120226/1330229289)\n[^6]: [\uff20IT\uff1arpm\u30b3\u30de\u30f3\u30c9\u3067\u8b66\u544a\u304c\u8868\u793a\u3055\u308c\u308b](http://www.atmarkit.co.jp/flinux/rensai/linuxtips/487warningrpm.html)\n", "tags": ["Apache2.4.9", "CentOS6.5", "RHEL", "Linux"]}