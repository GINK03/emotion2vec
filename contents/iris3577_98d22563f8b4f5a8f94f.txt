{"tags": ["uGUI"], "context": " More than 1 year has passed since last update.\u81ea\u5206\u7528\u3081\u3082\u3081\u3082\n2D\u306e\u8a71\n2D\u306e\u8a71\n2D\u306e\u8a71\uff01\uff01\uff01\uff01\uff01\n\nsample\n\n        //2D\u3060\u3051 \n        Transform playerTrans = null;\u3000        //\u81ea\u5206\u81ea\u8eab  transform\n        Transform targetTrans = null;       //\u898b\u305f\u3044\u3082\u306etransform\n\n\n\n        //\u76ee\u6a19\u307e\u3067\u306e\u30d9\u30af\u30c8\u30eb\u3092\u6c42\u3081\u308b;\n        Vector3 subVec = targetTrans.localPosition -\u3000playerTrans.localPosition;\n\n        //\u89d2\u5ea6\u3092\u5909\u3048\u308b;\n        float angle = Mathf.Atan2(subVec.y, subVec.x) * Mathf.Rad2Deg;\n\n        //\u3053\u308c\u3067\u76ee\u7684\u306e\u307b\u3046\u3078\u5411\u3044\u3066\u304f\u308c\u308b;\n        playerTrans.localEulerAngles = new Vector3(0, 0, angle);\n\n\n        //\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3044\u308b\u9593 \u76ee\u7684\u5730\u306e\u307b\u3046\u306b\u3059\u3059\u307f\u307e\u3059;\n        if(Input.GetMouseButton(1)){\n\n            Vector3 v = Vector3.zero;\n#if false\n            //\u89d2\u5ea6\u304b\u3089\u79fb\u52d5\u65b9\u5411\u3092\u6c42\u3081\u308b\n            float radAngle = angle * Mathf.Deg2Rad;\n            v.x = Mathf.Cos(radAngle);\n            v.y = Mathf.Sin(radAngle);\n#else\n            //2\u70b9\u9593\u306e\u8ddd\u96e2\u304b\u3089\u79fb\u52d5\u65b9\u5411\u3092\u6c42\u3081\u308b;\n            v = subVec.normalized;\n#endif\n            //\u3053\u3053\u3067\u597d\u304d\u306a\u901f\u3055\u306b\u3067\u304d\u308b;\n            //v *= speed;   \n            playerTrans.transform.localPosition += v;\n        }\n\n\n2\u70b9\u9593\u306e\u8ddd\u96e2\u304b\u3089\u79fb\u52d5\u3092\u6c42\u3081\u305f\u307b\u3046\u304c\u8a08\u7b97\u305d\u3093\u306a\u3057\u306a\u304f\u3066\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\n\u304a\u307e\u3051\n\u30bf\u30c3\u30c1\u4f4d\u7f6e\u306e\u53d6\u5f97\n\nomake\n    Vector2 getMousePos()\n    {\n\n        //public int screenW = 1136;\n        //public int screenH = 640;\n\n        Vector2 pos = (Vector2)Input.mousePosition - new Vector2(Screen.width / 2, Screen.height / 2);\n        float aspect = (float)Screen.width / (float)Screen.height;\n        pos.x = pos.x * ((float)screenH / (float)Screen.width) * aspect;\n        pos.y = pos.y * ((float)screenH / (float)Screen.height);\n\n        pos.x = Mathf.Min(pos.x, screenW / 2);\n        pos.y = Mathf.Min(pos.y, screenH / 2);\n\n        pos.x = Mathf.Max(pos.x, screenW / -2);\n        pos.y = Mathf.Max(pos.y, screenH / -2);\n\n\n\n        return pos;\n    }\n\n\n\u81ea\u5206\u7528\u3081\u3082\u3081\u3082\n\n2D\u306e\u8a71\n2D\u306e\u8a71\n2D\u306e\u8a71\uff01\uff01\uff01\uff01\uff01\n\n\n```lang:sample\n\t\n\t\t//2D\u3060\u3051 \n\t\tTransform playerTrans = null;\u3000\t\t//\u81ea\u5206\u81ea\u8eab  transform\n\t\tTransform targetTrans = null;\t\t//\u898b\u305f\u3044\u3082\u306etransform\n\n\n\n\t\t//\u76ee\u6a19\u307e\u3067\u306e\u30d9\u30af\u30c8\u30eb\u3092\u6c42\u3081\u308b;\n\t\tVector3 subVec = targetTrans.localPosition -\u3000playerTrans.localPosition;\n\n\t\t//\u89d2\u5ea6\u3092\u5909\u3048\u308b;\n\t\tfloat angle = Mathf.Atan2(subVec.y, subVec.x) * Mathf.Rad2Deg;\n\n        //\u3053\u308c\u3067\u76ee\u7684\u306e\u307b\u3046\u3078\u5411\u3044\u3066\u304f\u308c\u308b;\n\t\tplayerTrans.localEulerAngles = new Vector3(0, 0, angle);\n\n\n\t\t//\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3044\u308b\u9593 \u76ee\u7684\u5730\u306e\u307b\u3046\u306b\u3059\u3059\u307f\u307e\u3059;\n\t\tif(Input.GetMouseButton(1)){\n\n\t\t\tVector3 v = Vector3.zero;\n#if false\n\t\t\t//\u89d2\u5ea6\u304b\u3089\u79fb\u52d5\u65b9\u5411\u3092\u6c42\u3081\u308b\n\t\t\tfloat radAngle = angle * Mathf.Deg2Rad;\n\t\t\tv.x = Mathf.Cos(radAngle);\n\t\t\tv.y = Mathf.Sin(radAngle);\n#else\n\t\t\t//2\u70b9\u9593\u306e\u8ddd\u96e2\u304b\u3089\u79fb\u52d5\u65b9\u5411\u3092\u6c42\u3081\u308b;\n\t\t\tv = subVec.normalized;\n#endif\n\t\t\t//\u3053\u3053\u3067\u597d\u304d\u306a\u901f\u3055\u306b\u3067\u304d\u308b;\n\t\t\t//v *= speed;\t\n\t\t\tplayerTrans.transform.localPosition += v;\n\t\t}\n```\n\n2\u70b9\u9593\u306e\u8ddd\u96e2\u304b\u3089\u79fb\u52d5\u3092\u6c42\u3081\u305f\u307b\u3046\u304c\u8a08\u7b97\u305d\u3093\u306a\u3057\u306a\u304f\u3066\u3044\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\n\n\n\u304a\u307e\u3051\n\n\u30bf\u30c3\u30c1\u4f4d\u7f6e\u306e\u53d6\u5f97\n\n```lang:omake\n\tVector2 getMousePos()\n\t{\n\n\t\t//public int screenW = 1136;\n\t\t//public int screenH = 640;\n\t\t\n\t\tVector2 pos = (Vector2)Input.mousePosition - new Vector2(Screen.width / 2, Screen.height / 2);\n\t\tfloat aspect = (float)Screen.width / (float)Screen.height;\n\t\tpos.x = pos.x * ((float)screenH / (float)Screen.width) * aspect;\n\t\tpos.y = pos.y * ((float)screenH / (float)Screen.height);\n\n\t\tpos.x = Mathf.Min(pos.x, screenW / 2);\n\t\tpos.y = Mathf.Min(pos.y, screenH / 2);\n\n\t\tpos.x = Mathf.Max(pos.x, screenW / -2);\n\t\tpos.y = Mathf.Max(pos.y, screenH / -2);\n\n\n\n\t\treturn pos;\n\t}\n```\n"}