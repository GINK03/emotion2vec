{"context": " More than 1 year has passed since last update.\u5fae\u5999...\nvar FPS = 60;\nvar canvas = document.getElementById(\"testCanvas\");\nvar stage = new createjs.Stage(canvas);\n\nif (createjs.Touch.isSupported()) {\n  createjs.Touch.enable(stage, false, false);\n}\ncreatejs.Ticker.setFPS(FPS);\ncreatejs.Ticker.addEventListener(\"tick\", handleTick);\n\nstage.addEventListener(\"stagemousedown\", mouseDown);\nstage.addEventListener(\"stagemousemove\", mouseMove);\nstage.addEventListener(\"stagemouseup\", mouseUp);\nstage.addEventListener(\"stageswipeleft\", swipeLeft);\nstage.addEventListener(\"stageswiperight\", swipeRight);\n//stage.addEventListener(\"stageswipeup\", swipeUp);\n//stage.addEventListener(\"stageswipedown\", swipeDown);\n\nstage.update();\n\n\nfunction mouseDown(e) {\n  startPosX = e.stageX;\n  startPosY = e.stageY;\n}\n\nfunction mouseMove(e) {\n}\n\nfunction mouseUp(e) {\n  endPosX = e.stageX;\n  endPosY = e.stageY;\n\n  var swipeThreshold = 10; \n  var deltaX = startPosX - endPosX;\n  var deltaY = startPosY - endPosY;\n  var horSwipeDistancePer = Math.abs((deltaX / stage.canvas.width) * 100);\n  var verSwipeDistancePer = Math.abs((deltaY / stage.canvas.height) * 100);\n  var swipeDirection;\n\n  // horizontal\n  if (Math.abs(deltaX) > Math.abs(deltaY) && horSwipeDistancePer > swipeThreshold) {\n      swipeDirection = startPosX - endPosX > 0 ? \"left\" : \"right\";\n      //console.log(swipeDirection);\n      stage.dispatchEvent({type: \"stageswipe\" + swipeDirection, delta: Math.abs(deltaX)});\n  // vertical\n  } else if (Math.abs(deltaX) < Math.abs(deltaY) && verSwipeDistancePer > swipeThreshold) {\n      swipeDirection = startPosY - endPosY > 0 ? \"up\" : \"down\";\n      //console.log(swipeDirection);\n      stage.dispatchEvent({type: \"stageswipe\" + swipeDirection, delta: Math.abs(deltaY)});\n  }\n}\n\nfunction swipeLeft(event) {\n  console.log(\"left\", event.delta);\n}\n\nfunction swipeRight(event) {\n  console.log(\"right\", event.delta);\n}\n\n//function swipeUp(event) {\n//  console.log(\"up\", event.delta);\n//}\n\n//function swipeDown(event) {\n//  console.log(\"down\", event.delta);\n//}\n\nfunction handleTick(event) {\n  stage.update();\n}\n\n\u5fae\u5999...\n\n```javascript\nvar FPS = 60;\nvar canvas = document.getElementById(\"testCanvas\");\nvar stage = new createjs.Stage(canvas);\n\nif (createjs.Touch.isSupported()) {\n  createjs.Touch.enable(stage, false, false);\n}\ncreatejs.Ticker.setFPS(FPS);\ncreatejs.Ticker.addEventListener(\"tick\", handleTick);\n\nstage.addEventListener(\"stagemousedown\", mouseDown);\nstage.addEventListener(\"stagemousemove\", mouseMove);\nstage.addEventListener(\"stagemouseup\", mouseUp);\nstage.addEventListener(\"stageswipeleft\", swipeLeft);\nstage.addEventListener(\"stageswiperight\", swipeRight);\n//stage.addEventListener(\"stageswipeup\", swipeUp);\n//stage.addEventListener(\"stageswipedown\", swipeDown);\n\nstage.update();\n\n\nfunction mouseDown(e) {\n  startPosX = e.stageX;\n  startPosY = e.stageY;\n}\n\nfunction mouseMove(e) {\n}\n\nfunction mouseUp(e) {\n  endPosX = e.stageX;\n  endPosY = e.stageY;\n\n  var swipeThreshold = 10; \n  var deltaX = startPosX - endPosX;\n  var deltaY = startPosY - endPosY;\n  var horSwipeDistancePer = Math.abs((deltaX / stage.canvas.width) * 100);\n  var verSwipeDistancePer = Math.abs((deltaY / stage.canvas.height) * 100);\n  var swipeDirection;\n\n  // horizontal\n  if (Math.abs(deltaX) > Math.abs(deltaY) && horSwipeDistancePer > swipeThreshold) {\n      swipeDirection = startPosX - endPosX > 0 ? \"left\" : \"right\";\n      //console.log(swipeDirection);\n      stage.dispatchEvent({type: \"stageswipe\" + swipeDirection, delta: Math.abs(deltaX)});\n  // vertical\n  } else if (Math.abs(deltaX) < Math.abs(deltaY) && verSwipeDistancePer > swipeThreshold) {\n      swipeDirection = startPosY - endPosY > 0 ? \"up\" : \"down\";\n      //console.log(swipeDirection);\n      stage.dispatchEvent({type: \"stageswipe\" + swipeDirection, delta: Math.abs(deltaY)});\n  }\n}\n\nfunction swipeLeft(event) {\n  console.log(\"left\", event.delta);\n}\n\nfunction swipeRight(event) {\n  console.log(\"right\", event.delta);\n}\n\n//function swipeUp(event) {\n//  console.log(\"up\", event.delta);\n//}\n\n//function swipeDown(event) {\n//  console.log(\"down\", event.delta);\n//}\n\nfunction handleTick(event) {\n  stage.update();\n}\n```\n", "tags": ["CreateJS"]}