{"context": "\n\n\u74b0\u5883\n\nrealm : io.realm:realm-gradle-plugin:2.2.0\n\nkotlin : org.jetbrains.kotlin:kotlin-gradle-plugin:1.0.6\n\n\n\n\u306f\u3058\u3081\u306b\nAndroid\u307b\u307c\u521d\u5fc3\u8005\u3067\u3059\u3002\u306e\u3067\u304a\u624b\u67d4\u3089\u304b\u306b..\nRecycler \u3092 Recycle \u3068\u66f8\u3044\u3066\u3057\u307e\u3046\u306e\u304c\u306a\u304b\u306a\u304b\u629c\u3051\u306a\u3044..\n\n\u306a\u306b\u3092\u3057\u305f\u304b\nRealm\u3068RecyclerView\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u3001 \u30c7\u30fc\u30bf\u306e\u524a\u9664(\u30e2\u30c7\u30eb\u7684\u306b\u306f\u66f4\u65b0)\u3092\u3057\u305f\u3068\u304d\u306bRow\u306eAnimation\u3092\u8d70\u3089\u305b\u305f\u304b\u3063\u305f\u3093\u3067\u3059\u304c\u8272\u3005\u3042\u3063\u3066\u3084\u3089\u306a\u304b\u3063\u305f\u3063\u3066\u3044\u3046\u8a71\u3067\u3059\u3002\n\n\u306f\u3058\u3081\u306b?\nAndroid\u3067RecyclerView\u306eRow\u306b\u5bfe\u3057\u3066 \u8ffd\u52a0, \u66f4\u65b0, \u79fb\u52d5, \u524a\u9664 \u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3059\u308b\u305f\u3081\u306b\u306f\u4ee5\u4e0b\u306e\u65b9\u6cd5\u304c\u6b63\u653b\u6cd5\u306a\u306e\u304b\u306a\u3068\u611f\u3058\u307e\u3057\u305f\u3002\n\n\nandroid.support.v7.widget.RecyclerView.ItemAnimator \u3092\u7d99\u627f\u3057\u305f\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u4f5c\u308b\n\u5fc5\u8981\u306a\u30e1\u30bd\u30c3\u30c9\u3092override\u3059\u308b\n\u3084\u308a\u305f\u3044\u64cd\u4f5c\u306b\u5bfe\u5fdc\u3057\u3066\u3001Adapter\u306e notifyDataSetChanged \u4ee5\u5916 \u306e\u901a\u77e5\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059(\u203b1)\nItemAnimator\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u964d\u3063\u3066\u304f\u308b\u3002\n\n\u203b1: RecyclerView\u306e\u30c7\u30fc\u30bf\u64cd\u4f5c\u901a\u77e5\u30e1\u30bd\u30c3\u30c9\nnotifyItemChanged / notifyItemRangeChanged\nnotifyItemInserted / notifyItemRangeInserted\nnotifyItemMoved\nnotifyItemRemoved / notifyItemRangeRemoved\n\n\nItemAnimator\u306e\u30b5\u30d6\u30af\u30e9\u30b9\n\u4eca\u56de\u306f SimpleItemAnimator\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\nA wrapper class for ItemAnimator that records View bounds and decides whether it should run move, change, add or remove animations. This class also replicates the original ItemAnimator API.\n\n\u516c\u5f0fDocument\u306b\u3082\u3042\u308b\u3088\u3046\u306b ItemAnimator\u3092\u4f7f\u3044\u3084\u3059\u304fwrap\u3057\u3066\u304f\u308c\u305f\u30af\u30e9\u30b9\u3089\u3057\u3044\u306e\u3067\u51dd\u3063\u305f\u3053\u3068\u3092\u3057\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u3053\u308c\u3067\u5341\u5206\u3060\u3068\u601d\u3063\u305f\u304b\u3089\u3067\u3059\u3002\n\u6b21\u306b\u5fc5\u8981\u306a\u30e1\u30bd\u30c3\u30c9\u7fa4\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\nclass MainTimelineRowAnimator : SimpleItemAnimator() {\n\n  override fun runPendingAnimations() {...}\n  override fun animateAdd(holder: RecyclerView.ViewHolder?): Boolean {...}\n  override fun animateChange(oldHolder: RecyclerView.ViewHolder?, newHolder: RecyclerView.ViewHolder?, fromLeft: Int, fromTop: Int, toLeft: Int, toTop: Int): Boolean {...}\n  override fun animateMove(holder: RecyclerView.ViewHolder?, fromX: Int, fromY: Int, toX: Int, toY: Int): Boolean {...}\n  override fun animateRemove(holder: RecyclerView.ViewHolder?): Boolean {...}\n  override fun isRunning(): Boolean {...}\n  override fun endAnimation(item: RecyclerView.ViewHolder?) {...}\n  override fun endAnimations() {...}\n}\n\nRecyclerView\u306eItemAnimator\u306e\u89e3\u8aac\u306f \u3053\u306e\u8a18\u4e8b\u304c\u975e\u5e38\u306b\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059\u3002\n\n\u3053\u3053\u307e\u3067\u306e\u307e\u3068\u3081\nRecyclerView\u3067Row\u306eAnimation\u3092\u3057\u305f\u3051\u308c\u3070\u3001 \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u524a\u9664\u3092\u3057\u305f\u5f8c\u306b notifyItemXXX \u7cfb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3093\u3067\u3042\u3052\u308c\u3070\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\n\u3053\u3053\u3067realm\nrealm\u3092RecyclerView\u3067\u4f7f\u3046\u306b\u306f RealmRecyclerViewAdapter \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002 \u3067\u306f\u3001\u3053\u3053\u306e\u5b9f\u88c5\u3092\u898b\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n// Right now don't use generics, since we need maintain two different\n// types of listeners until RealmList is properly supported.\n// See https://github.com/realm/realm-java/issues/989\nthis.listener = hasAutoUpdates ? new RealmChangeListener() {\n    @Override\n    public void onChange(Object results) {\n        notifyDataSetChanged();\n    }\n} : null;\n\nGithub\u3067\u3082\u8b70\u8ad6\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001\u307e\u3060\u7d30\u304b\u3044\u901a\u77e5\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3068\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\u306a\u306e\u3067Activity, Fragment\u5074\u3067 notifyItemRemoved() \u3092\u547c\u3093\u3067\u3082\u53cd\u5fdc\u3057\u306a\u3044\u308f\u3051\u3067\u3059\u306d..\u3002\n## \u74b0\u5883\n\n* realm : `io.realm:realm-gradle-plugin:2.2.0`\n* kotlin : `org.jetbrains.kotlin:kotlin-gradle-plugin:1.0.6`\n\n## \u306f\u3058\u3081\u306b\n\nAndroid\u307b\u307c\u521d\u5fc3\u8005\u3067\u3059\u3002\u306e\u3067\u304a\u624b\u67d4\u3089\u304b\u306b..\n`Recycler` \u3092 `Recycle` \u3068\u66f8\u3044\u3066\u3057\u307e\u3046\u306e\u304c\u306a\u304b\u306a\u304b\u629c\u3051\u306a\u3044..\n\n## \u306a\u306b\u3092\u3057\u305f\u304b\n\nRealm\u3068RecyclerView\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u304d\u306b\u3001 \u30c7\u30fc\u30bf\u306e\u524a\u9664(\u30e2\u30c7\u30eb\u7684\u306b\u306f\u66f4\u65b0)\u3092\u3057\u305f\u3068\u304d\u306bRow\u306eAnimation\u3092\u8d70\u3089\u305b\u305f\u304b\u3063\u305f\u3093\u3067\u3059\u304c\u8272\u3005\u3042\u3063\u3066\u3084\u3089\u306a\u304b\u3063\u305f\u3063\u3066\u3044\u3046\u8a71\u3067\u3059\u3002\n\n## \u306f\u3058\u3081\u306b?\n\nAndroid\u3067RecyclerView\u306eRow\u306b\u5bfe\u3057\u3066 `\u8ffd\u52a0`, `\u66f4\u65b0`, `\u79fb\u52d5`, `\u524a\u9664` \u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u3059\u308b\u305f\u3081\u306b\u306f\u4ee5\u4e0b\u306e\u65b9\u6cd5\u304c\u6b63\u653b\u6cd5\u306a\u306e\u304b\u306a\u3068\u611f\u3058\u307e\u3057\u305f\u3002\n\n* `android.support.v7.widget.RecyclerView.ItemAnimator` \u3092\u7d99\u627f\u3057\u305f\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u4f5c\u308b\n* \u5fc5\u8981\u306a\u30e1\u30bd\u30c3\u30c9\u3092override\u3059\u308b\n* \u3084\u308a\u305f\u3044\u64cd\u4f5c\u306b\u5bfe\u5fdc\u3057\u3066\u3001Adapter\u306e `notifyDataSetChanged` __\u4ee5\u5916__ \u306e\u901a\u77e5\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059(\u203b1)\n* ItemAnimator\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u964d\u3063\u3066\u304f\u308b\u3002\n\n\u203b1: RecyclerView\u306e\u30c7\u30fc\u30bf\u64cd\u4f5c\u901a\u77e5\u30e1\u30bd\u30c3\u30c9\n\n```\nnotifyItemChanged / notifyItemRangeChanged\nnotifyItemInserted / notifyItemRangeInserted\nnotifyItemMoved\nnotifyItemRemoved / notifyItemRangeRemoved\n```\n\n#### ItemAnimator\u306e\u30b5\u30d6\u30af\u30e9\u30b9\n\n\u4eca\u56de\u306f [SimpleItemAnimator](https://developer.android.com/reference/android/support/v7/widget/SimpleItemAnimator.html)\u3092\u63a1\u7528\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n> A wrapper class for ItemAnimator that records View bounds and decides whether it should run move, change, add or remove animations. This class also replicates the original ItemAnimator API.\n\n\u516c\u5f0fDocument\u306b\u3082\u3042\u308b\u3088\u3046\u306b ItemAnimator\u3092\u4f7f\u3044\u3084\u3059\u304fwrap\u3057\u3066\u304f\u308c\u305f\u30af\u30e9\u30b9\u3089\u3057\u3044\u306e\u3067\u51dd\u3063\u305f\u3053\u3068\u3092\u3057\u306a\u3044\u306e\u3067\u3042\u308c\u3070\u3053\u308c\u3067\u5341\u5206\u3060\u3068\u601d\u3063\u305f\u304b\u3089\u3067\u3059\u3002\n\n\u6b21\u306b\u5fc5\u8981\u306a\u30e1\u30bd\u30c3\u30c9\u7fa4\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002\n\n```\nclass MainTimelineRowAnimator : SimpleItemAnimator() {\n\n  override fun runPendingAnimations() {...}\n  override fun animateAdd(holder: RecyclerView.ViewHolder?): Boolean {...}\n  override fun animateChange(oldHolder: RecyclerView.ViewHolder?, newHolder: RecyclerView.ViewHolder?, fromLeft: Int, fromTop: Int, toLeft: Int, toTop: Int): Boolean {...}\n  override fun animateMove(holder: RecyclerView.ViewHolder?, fromX: Int, fromY: Int, toX: Int, toY: Int): Boolean {...}\n  override fun animateRemove(holder: RecyclerView.ViewHolder?): Boolean {...}\n  override fun isRunning(): Boolean {...}\n  override fun endAnimation(item: RecyclerView.ViewHolder?) {...}\n  override fun endAnimations() {...}\n}\n```\n\nRecyclerView\u306eItemAnimator\u306e\u89e3\u8aac\u306f [\u3053\u306e\u8a18\u4e8b](http://qiita.com/daneko0123/items/dbe058664bcddcceaa06)\u304c\u975e\u5e38\u306b\u308f\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059\u3002\n\n## \u3053\u3053\u307e\u3067\u306e\u307e\u3068\u3081\n\nRecyclerView\u3067Row\u306eAnimation\u3092\u3057\u305f\u3051\u308c\u3070\u3001 \u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u524a\u9664\u3092\u3057\u305f\u5f8c\u306b `notifyItemXXX` \u7cfb\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3093\u3067\u3042\u3052\u308c\u3070\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\n## \u3053\u3053\u3067realm\n\nrealm\u3092RecyclerView\u3067\u4f7f\u3046\u306b\u306f `RealmRecyclerViewAdapter` \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002 \u3067\u306f\u3001\u3053\u3053\u306e\u5b9f\u88c5\u3092\u898b\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\n// Right now don't use generics, since we need maintain two different\n// types of listeners until RealmList is properly supported.\n// See https://github.com/realm/realm-java/issues/989\nthis.listener = hasAutoUpdates ? new RealmChangeListener() {\n    @Override\n    public void onChange(Object results) {\n        notifyDataSetChanged();\n    }\n} : null;\n```\n\n[Github](https://github.com/realm/realm-java/issues/989)\u3067\u3082\u8b70\u8ad6\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001\u307e\u3060\u7d30\u304b\u3044\u901a\u77e5\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3068\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\n\u306a\u306e\u3067Activity, Fragment\u5074\u3067 notifyItemRemoved() \u3092\u547c\u3093\u3067\u3082\u53cd\u5fdc\u3057\u306a\u3044\u308f\u3051\u3067\u3059\u306d..\u3002\n", "tags": ["Android", "Realm", "Java", "Kotlin"]}