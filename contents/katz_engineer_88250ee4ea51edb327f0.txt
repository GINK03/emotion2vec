{"context": "ArchLinux \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u899a\u66f8\u3067\u793a\u3057\u305fArchLinux\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u7b2c\u4e00\u6b69\u3002\u7d9a\u30fbArchLinux \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u899a\u66f8\u3067\u306f\u5931\u6557\u3057\u305f\u304c\u3001\u305d\u3053\u3067\u3054\u6307\u6458\u3044\u305f\u3060\u3044\u305f\u5185\u5bb9\u306a\u3069\u3092\u53cd\u6620\u3057\u305f\u6210\u529f\u624b\u9806\u3067\u3042\u308b\u3002\u7d9a\u30fbArchLinux \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u899a\u66f8\u3092\u66f8\u304d\u76f4\u3059\u306e\u304c\u7b4b\u3060\u308d\u3046\u3068\u601d\u3046\u304c\u3001\u79c1\u306e\u65e5\u8a8c\u3082\u517c\u306d\u3066\u3044\u308b\u306e\u3067\u3001\u5931\u6557\u8ac7\u3082\u305d\u306e\u307e\u307e\u6b8b\u3057\u3066\u304a\u304f\u3002\n\n\u524d\u6e96\u5099\u306a\u3069\n\u53c2\u8003\u6587\u732e\n\nArchWiki - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9\nArchWiki - Btrfs\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306eiso\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u6628\u5e74\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9(2016.12.01.\u7248)\u3057\u305f\u3082\u306e\u3092DVD\u306b\u713c\u3044\u305f\u3002USB\u30e1\u30e2\u30ea\u3058\u3083\u306a\u3044\u306e\u306f\u3001\u305f\u307e\u305f\u307e\u624b\u5143\u306b\u7121\u304b\u3063\u305f\u304b\u3089\u3002\n\n\u4f5c\u696d\n\n\u306f\u3058\u3081\u306e\u4e00\u6b69\n\u3053\u306e\u30de\u30b7\u30f3\u306fRAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u308b\u304c\u3001Linux\u304b\u3089\u306f\u4f7f\u3048\u306a\u3044\u6a21\u69d8\u3002\u5f93\u3063\u3066\u8d77\u52d5\u6642\u306b Ctrl+I \u3092\u62bc\u3057\u3066\u3001Non-RAID\u306b\u3057\u3066\u304a\u304f\u3002\u624b\u9806\u306e\u8a73\u7d30\u306f\u7701\u7565\u3002\u753b\u9762\u6307\u793a\u306b\u5f93\u3048\u3070\u826f\u3044\u3002\n\n\nLinux\u304b\u3089\u4f7f\u3048\u306a\u3044\u72b6\u6cc1\u8a3c\u62e0:\n\nLinux\u304b\u3089RAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u898b\u3048\u306a\u3051\u308c\u3070\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2RAID\u306f\u4e0d\u53ef\u3002\nLinux\u306b\u306f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u3092\u69cb\u6210\u3059\u308b\u6a19\u6e96\u7684\u306a\u65b9\u6cd5\u304c\u6574\u5099\u3055\u308c\u3066\u304a\u308a\u3001\u30b9\u30d4\u30fc\u30c9\u3067\u306f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u69cb\u6210\u304c\u52dd\u308b\u3082\u306e\u306e\u3001\u6a5f\u80fd\u7684\u306b\u306f\u5727\u5012\u7684\u306b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u306b\u8ecd\u914d\u304c\u4e0a\u304c\u308b\u3002\n\u5143\u3005Linux\u30e6\u30fc\u30b6\u306fWindows\u306b\u6bd4\u3079\u3066\u5727\u5012\u7684\u306b\u5c11\u6570\u6d3e\u3067\u3042\u308a\u3001\u305d\u306e\u4e0a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u304c\u4e2d\u5fc3\u306e\u70ba\u3001RAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30e1\u30fc\u30ab\u304cLinux\u7528\u30c9\u30e9\u30a4\u30d0\u3092\u7528\u610f\u3059\u308b\u65e8\u5473\u306f\u7121\u3044\u3002\n\u305d\u3046\u3044\u3063\u305f\u7406\u7531\u304b\u3089\u3001Linux\u5bfe\u5fdcRAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306f\u6570\u4e07\u5186\u4ee5\u4e0a\u3059\u308b\u306e\u304c\u666e\u901a\u3002Windows\u5411\u3051\u3068\u6bd4\u3079\u308b\u3068\u4e00\u6841\u8fd1\u304f\u9055\u3046\u3068\u306e\u4e8b\u3002\u2192\u30de\u30b7\u30f3\u7d44\u8fbc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306f\u74b0\u5883\u304c\u7570\u306a\u308b\u3068\u306f\u8a00\u3048\u3001\u7d4c\u6e08\u7684\u306a\u4e8b\u60c5\u306f\u4f3c\u305f\u308a\u5bc4\u3063\u305f\u308a\u3068\u63a8\u6e2c\u3067\u304d\u308b\u3002\n\n\n\nLinux\u304b\u3089\u4f7f\u3048\u306a\u3044\u76f4\u63a5\u8a3c\u62e0:\n\nSCSI\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u8a8d\u8b58\u3067\u304d\u308c\u3070 /proc/scsi \u4ee5\u4e0b\u306b\u8272\u3005\u3068\u60c5\u5831\u304c\u5165\u308b\u306f\u305a\u3002Red Hat Enterprise Linux 4: \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u30ac\u30a4\u30c9 - \u7ae0 5\u7ae0. proc \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 - 5.3. /proc/\u914d\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea - 5.3.8. /proc/scsi/\n\nArchLinux\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30ebDVD\u3092\u633f\u5165\u3057\u3066\u8d77\u52d5\u5f8c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u78ba\u8a8d\u3002HDD\u305d\u306e\u3082\u306e\u306f\u305d\u308c\u305e\u308c\u898b\u3048\u3066\u3044\u308b\u304c\u3001RAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306f\u8a8d\u8b58\u3055\u308c\u3066\u3044\u306a\u3044\u3002\n\n\n\n# cat /proc/scsi/scsi\nAttached devices:\nHost: scsi0 Channel: 00 Id: 00 Lun: 00\n  Vendor: ATA      Model: ST3320620AS      Rev: K\n  Type:   Direct-Access                    ANSI  SCSI revision: 05\nHost: scsi1 Channel: 00 Id: 00 Lun: 00\n  Vendor: ATA      Model: WDC WD3200AAKS-0 Rev: 3A01\n  Type:   Direct-Access                    ANSI  SCSI revision: 05\nHost: scsi5 Channel: 00 Id: 00 Lun: 00\n  Vendor: TSSTcorp Model: DVD+-RW RS-H653F Rev: D300\n  Type:   CD-ROM                           ANSI  SCSI revision: 05\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u6e96\u5099\n\u8d77\u52d5\u6642\u306b\u306f x86_64 \u3092\u9078\u629e\u3002\u5f53\u305f\u308a\u524d\u3060\u3051\u3069\u3001\u3057\u3070\u3089\u304f\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30e1\u30c7\u30a3\u30a2\u3092\u629c\u304b\u305a\u306b\u305d\u306e\u307e\u307e\u306b\u3057\u3066\u304a\u304f\u3002\nArchWiki - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9 \u3092\u8aad\u3093\u3067\u3001\u3053\u306e\u901a\u308a\u306b\u64cd\u4f5c\u3002\u4ee5\u4e0b\u3001\u305d\u306e\u624b\u9806\u3002\n\n\u30ad\u30fc\u30dc\u30fc\u30c9\n# loadkeys jp106\n\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u30d5\u30a9\u30f3\u30c8\n\u30b3\u30f3\u30bd\u30fc\u30eb\u30d5\u30a9\u30f3\u30c8\u306f\u305d\u306e\u307e\u307e\u5909\u66f4\u305b\u305a\u3002\u65e5\u672c\u8a9e\u304c\u8868\u793a\u3055\u308c\u308c\u3070\u305d\u308c\u306a\u308a\u306b\u4fbf\u5229\u305d\u3046\u3060\u3051\u3069\u3082\u3001\u5f53\u9762\u306f\u5fc5\u8981\u7121\u3044\u3068\u5224\u65ad\u3002\n\n\u8d77\u52d5\u30e2\u30fc\u30c9\u306e\u78ba\u8a8d\n# ls /sys/firmware\nacpi dmi memmap\n\nUEFI\u3067\u306f\u306a\u304f\u3066BIOS\u8d77\u52d5\u3060\u3063\u305f\u3002\u4ee5\u4e0b\u3001BIOS\u8d77\u52d5\u306b\u6cbf\u3063\u305f\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\u307e\u305a\u306f\u30c9\u30e9\u30a4\u30d6\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6c7a\u3081\u308b\u3002\u4eca\u56de\u306f\u30c9\u30e9\u30a4\u30d6\u4e38\u3054\u3068 Btrfs \u306b\u3057\u305f\u3044\u3002\n\u305d\u306e\u5834\u5408\u306e\u6ce8\u610f\u70b9\u3002ArchWiki - Btrfs#\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\u306b\u3088\u308b\u3068\u30b9\u30ef\u30c3\u30d7\u9818\u57df\u3092\u4f5c\u6210\u3067\u304d\u306a\u3044\u3089\u3057\u3044\u3002\n\u3057\u304b\u3057ArchWiki - \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0 \u306e[\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u5927\u304d\u3055\u306f\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u3067\u3059\u304b\uff1f]\u306b\u306f\u4e0b\u8a18\u306e\u8a18\u8ff0\u3042\u308a\u3002\u3053\u308c\u3092\u4fe1\u3058\u308b\u4e8b\u306b\u3059\u308b\u3002\n\n\u5927\u5bb9\u91cf\u306e\u30e1\u30e2\u30ea\uff081024MB \u4ee5\u4e0a\uff09\u3092\u7a4d\u3093\u3067\u3044\u308b\u3068\u304d\u306f\u3001\u30b9\u30ef\u30c3\u30d7\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306f\u5c0f\u3055\u304f\u3001\u307e\u305f\u306f\u4f5c\u3089\u306a\u304f\u3066\u3082\u304b\u307e\u308f\u306a\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u3061\u306a\u307f\u306b Btrfs \u306e\u8aad\u307f\u65b9\u3060\u304c\u3001SAO\u30d5\u30a1\u30f3\u3068\u3057\u3066\u306f\u300c\u30d3\u30fc\u30bf\u30fc\u30a8\u30d5\u30a8\u30b9\u300d\u3068\u8aad\u307f\u305f\u3044\u6240\u3002\u30d3\u30fc\u30bf\u30fc\u2026 \u3046\u3080\u3001\u826f\u3044\u97ff\u304d\u3060\u3002\n\u3068\u3044\u3046\u8a33\u3067 Btrfs \u306b\u3088\u308b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3002\u30b3\u30de\u30f3\u30c9\u306e\u65e5\u672c\u8a9e\u30d8\u30eb\u30d7\u306fOracle\u00ae Linux\u7ba1\u7406\u8005\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30fb\u30ac\u30a4\u30c9for \u30ea\u30ea\u30fc\u30b96 - 5.2 Btrfs\u30d5\u30a1\u30a4\u30eb\u30fb\u30b7\u30b9\u30c6\u30e0\u306e\u4f5c\u6210\n# ls /dev/sd*\n/dev/sda  /dev/sdb\n# mkfs.btrfs -L btrfs_raid1 -d raid1 /dev/sda /dev/sdb\nbtrfs-progs v4.8.2\nSee http://btrfs.wiki.kernel.org for more information.\n\n/dev/sda appears to contain an existing filesystem (zfs_member).\nERROR: use the -f option to force overwrite of /dev/sda\n\n\u65e2\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u6e08\u306eHDD\u306a\u306e\u3067\u3001\u6ce8\u610f\u3092\u4fc3\u3059\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u305f\u3002\u753b\u9762\u8868\u793a\u306e\u901a\u308a\u306b -f \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u518d\u5b9f\u884c\u3002\n# mkfs.btrfs -f -L btrfs_raid1 -d raid1 /dev/sda /dev/sdb\nbtrfs-progs v4.8.2\nSee http://btrfs.wiki.kernel.org for more information.\n\nLabel:              btrfs_raid1\nUUID:\nNode size:          16384\nSector size:        4096\nFilesystem size:    596.18GiB\nBlock group profiles:\n  Data:             RAID1             1.00GiB\n  Metadata:         RAID1             1.00GiB\n  System:           RAID1             8.00MiB\nSSD detected:       no\nIncompat features:  extref, skinny-metadata\nNumber of devices:  2\nDevices:\n   ID        SIZE  PATH\n    1   298.09GiB  /dev/sda\n    2   298.09GiB  /dev/sdb\n\n\u4e00\u3064\u3060\u3051\u6c17\u306b\u306a\u308b\u306e\u306f Filesystem size\u3002\u7d04300GB\u306eHDD\u304c2\u53f0\u306a\u306e\u3060\u304c\u3001\u3053\u306e\u8868\u793a\u3067\u306f\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u3057\u3066\u306a\u3044\u5bb9\u91cf\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u3002\u5c11\u3005\u4e0d\u5b89\u3060\u304c\u3001RAID1\u3068\u3057\u3063\u304b\u308a\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3057\u3001\u3068\u308a\u3042\u3048\u305a\u5148\u3078\u9032\u3080\u3002\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30de\u30a6\u30f3\u30c8\n\u3053\u306e\u8fba\u306fArchWiki - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9\u3092\u9d5c\u5451\u307f\u306b\u3057\u306a\u304c\u3089\u3068\u3044\u3046\u30ef\u30b1\u306b\u306f\u3044\u304b\u306a\u3044\u3002\u3061\u3087\u3063\u3068\u8107\u9053\u306b\u9038\u308c\u308b\u6a21\u69d8\u3002\u7d50\u679c\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9\u3068\u5168\u304f\u540c\u3058\u3060\u3051\u3069\u3082\u3002\n\u53c2\u8003\u6587\u732e:\n\nArchWiki - Btrfs#\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0\n\nOracle\u00ae Linux\u7ba1\u7406\u8005\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30fb\u30ac\u30a4\u30c9for \u30ea\u30ea\u30fc\u30b96 - 5.2 Btrfs\u30d5\u30a1\u30a4\u30eb\u30fb\u30b7\u30b9\u30c6\u30e0\u306e\u4f5c\u6210 \u3053\u306e\u4e2d\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u30fb\u30b7\u30b9\u30c6\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5834\u5408\u3001\u6b21\u306e\u3088\u3046\u306b\u305d\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30fb\u30c7\u30d0\u30a4\u30b9\u306e\u3044\u305a\u308c\u304b\u306b\u3088\u3063\u3066\u6307\u5b9a\u3067\u304d\u307e\u3059\u300d\u3068\u3044\u3046\u8a18\u8ff0\u304c\u3042\u308b\u3002\n\u305f\u3060\u306e\u30e1\u30e2: rootfs \u306b btrfs \u3092\u3064\u304b\u3063\u3066\u307f\u308b\nArchWiki - Snapper#\u63a8\u5968\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ec\u30a4\u30a2\u30a6\u30c8\n\n\u307e\u3060\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306a\u3069\u3092\u8a66\u3059\u6bb5\u968e\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u5dee\u3057\u5f53\u305f\u3063\u3066\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30b5\u30d6\u30dc\u30ea\u30e5\u30fc\u30e0\u3068\u3057\u3066\u4f5c\u6210\u3059\u308b\u6240\u307e\u3067\u306b\u3057\u3066\u304a\u304f\u3002\n# mount /dev/sda /mnt\n# btrfs subvolume create /mnt/@\nCreate subvolume '/mnt/@'\n# btrfs subvolume list -p /mnt\nID 258 gen 7 parent 5 top level 5 path @\n# umount /mnt\n# mount -o subvol=@ /dev/sda /mnt\n\n\u3053\u3053\u304b\u3089\u306f\u307e\u305fArchWiki - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9\u306e\u624b\u9806\u306b\u623b\u308b\u3002\n\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u63a5\u7d9a\n# ping archlinuxjp.org\n64 bytes from tk2-235-27344.vs.sakura.ne.jp (160.16.119.98): icmp_seq=1 ttl=53 time=43.4 ms\n\u3008\u4ee5\u4e0b\u7565\u3009\n\n\n\u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u306e\u66f4\u65b0\n# timedatectl set-ntp true\n# timedatectl status\n      Local time: Sat 2017-02-04 15:00:26 UTC\n  Universal time: Sat 2017-02-04 15:00:26 UTC\n        RTC time: Sun 2017-02-04 15:00:26\n       Time zone: UTC (UTC, +0000)\n Network time on: yes\nNTP synchronized: no\n RTC in local TZ: no\n\nNTP synchronized: no \u304c\u6c17\u306b\u306a\u3063\u305f\u304c\u3001\u5c11\u3005\u6642\u9593\u3092\u7f6e\u304f\u3068\uff08\u6570\u79d2\u7a0b\u5ea6\u304b\uff1f\uff09 yes \u306b\u306a\u308b\u3088\u3046\u3060\u3002\n# timedatectl status\n      Local time: Sat 2017-02-04 15:01:33 UTC\n  Universal time: Sat 2017-02-04 15:01:33 UTC\n        RTC time: Sun 2017-02-04 15:01:33\n       Time zone: UTC (UTC, +0000)\n Network time on: yes\nNTP synchronized: yes\n RTC in local TZ: no\n\n\u672c\u5f53\u306fntp\u30b5\u30fc\u30d0\u306f\u81ea\u5206\u3067\u8a2d\u5b9a\u3057\u305f\u3044\u3002\u65e5\u672c\u306a\u3089 ntp.nict.jp \u304c\u9244\u677f\u3060\u3068\u601d\u3063\u3066\u308b\u3002\u7279\u6b8a\u4e8b\u60c5\u304c\u7121\u3051\u308c\u3070\u3053\u306e\u4e00\u629e\u3002\n\u304c\u3001\u305d\u306e\u8fba\u306e\u8abf\u6574\u306f\u5f8c\u56de\u3057\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30df\u30e9\u30fc\u306e\u9078\u629e\n\u65e5\u672c\u306a\u3089 Japan \u3092\u30d5\u30a1\u30a4\u30eb\u5148\u982d\u306b\u6301\u3063\u3066\u304f\u308b\u3002\n# cd /etc/pacman.d\n# mv mirrorlist mirrorlist.org\n# cp mirrorlist.org mirrorlist\n# vi mirrorlist\n\u3008\u7de8\u96c6\u30b3\u30de\u30f3\u30c9\u7701\u7565\u3009\n# diff -U0 mirrorlist.org mirrorlist\n--- mirrorlist.org     2016-12-01 16:52:03.000000000 +0000\n+++ mirrorlist 2017-02-04 15:07:47.751819902 +0000\n@@ -6,0 +7,2 @@\n+## Score: 2.0, Japan\n+Server = http://ftp.jaist.ac.jp/pub/Linux/ArchLinux/$repo/os/$arch\n@@ -213,2 +214,0 @@\n-## Score: 2.0, Japan\n-Server = http://ftp.jaist.ac.jp/pub/Linux/ArchLinux/$repo/os/$arch\n\n\n\u30d9\u30fc\u30b9\u30b7\u30b9\u30c6\u30e0\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u540c\u6642\u306b btrfs \u306e\u95a2\u9023\u30d7\u30ed\u30b0\u30e9\u30e0\u3084\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\u306a\u3069\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\u307e\u305f\u4eca\u6642\u306f\u3001CPU\u306e\u30c7\u30d0\u30c3\u30b0\u7528\u30d1\u30c3\u30c1\u3082OS\u304c\u9762\u5012\u3092\u898b\u308b\u3089\u3057\u3044\u3002\u305d\u306e\u70ba\u306e\u30d1\u30c3\u30b1\u30fc\u30b8 intel-ucode \u3082\u843d\u3068\u3057\u3066\u304a\u304f\u3002\n# cd\n# pwd\n/root\n# pacstrap /mnt base btrfs-progs intel-ucode grub\n\u3008\u8868\u793a\u7701\u7565\u3009\n\n\n\u30b7\u30b9\u30c6\u30e0\u306e\u8a2d\u5b9a\n\nfstab\n# genfstab -U /mnt >> /mnt/etc/fstab\n# cat /mnt/etc/fstab\n#\n# /etc/fstab: static file system information\n#\n# <file system> <dir>   <type>  <options>      <dump>  <pass>\n# /dev/sda LABEL=btrfs_raid1\nUUID=\u3008\u7701\u7565\u3009                                   /                btrfs   rw,relatime,space_cache,subvolid=258,subvol=/@,subvol=@ 0 0\n\n\n\nchroot\n# arch-chroot /mnt\n\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\n# rm /etc/localtime\n# ln -s /usr/share/zoneinfo/Japan /etc/localtime\n# hwclock --systohc --utc\n\n\n\u30ed\u30b1\u30fc\u30eb\n# mv /etc/locale.gen /etc/locale.gen.org\n# cp /etc/locale.gen.org /etc/locale.gen\n# vi /etc/locale.gen\n\u3008\u7de8\u96c6\u5185\u5bb9\u7701\u7565\u3009\n# diff -U0 /etc/locale.gen.org /etc/locale.gen\n--- /etc/locale.gen.org 2016-08-06 20:17:48.000000000 +0900\n+++ /etc/locale.gen     2017-02-05 00:33:51.507870723 +0900\n@@ -291,2 +291,2 @@\n-#ja_JP.EUC-JP EUC-JP\n-#ja_JP.UTF-8 UTF-8\n+ja_JP.EUC-JP EUC-JP\n+ja_JP.UTF-8 UTF-8\n# rm /etc/locale.gen.org\n# echo KEYMAP=jp106 >/etc/vconsole.conf\n\n\n\u30db\u30b9\u30c8\u30cd\u30fc\u30e0\n# echo \u3008\u4f8b\u3048\u3070 taro\u3009 >/etc/hostname\n# mv /etc/hosts /etc/hosts.org\n# cp /etc/hosts.org /etc/hosts\n# vi /etc/hosts\n\u3008\u7de8\u96c6\u5185\u5bb9\u7701\u7565\u3009\n# diff -U0 /etc/hosts.org /etc/hosts\n--- /etc/hosts.org      2016-12-06 08:43:55.000000000 +0900\n+++ /etc/hosts  2017-02-05 00:41:14.795469974 +0900\n@@ -7,0 +8 @@\n+\u3008\u5bb6\u5ead\u5185\u3067\u5272\u308a\u5f53\u3066\u308bIP\u30a2\u30c9\u30ec\u30b9\u3009  \u3008\u4f8b\u3048\u3070 taro.example.com\u3009 \u3008\u4f8b\u3048\u3070 taro\u3009\n# rm /etc/hosts.org\n\n\nInitramfs\n\u53c2\u8003\u6587\u732e:\n\nArchWiki - mkinitcpio - HOOKS - \u901a\u5e38\u306e\u30d5\u30c3\u30af\n\n# mv /etc/mkinitcpio.conf /etc/mkinitcpio.conf.org\n# cp /etc/mkinitcpio.conf.org /etc/mkinitcpio.conf\n# vi /etc/mkinitcpio.conf\n\u3008\u7de8\u96c6\u5185\u5bb9\u7701\u7565\u3009\n# diff -U0 /etc/mkinitcpio.conf.org /etc/mkinitcpio.conf\n--- /etc/mkinitcpio.conf.org    2016-11-28 05:08:44.000000000 +0900\n+++ /etc/mkinitcpio.conf        2017-02-05 00:44:15.627872167 +0900\n@@ -52 +52 @@\n-HOOKS=\"base udev autodetect modconf block filesystems keyboard fsck\"\n+HOOKS=\"base udev autodetect modconf block filesystems keyboard fsck btrfs\"\n# rm /etc/mkinitcpio.conf.org\n\nmkinitcpio \u3092\u5b9f\u884c\u3002\n# mkinitcpio -p linux\n\u3008\u8868\u793a\u7701\u7565\u3009\n\u4f46\u3057\u3001\u9014\u4e2d\u3067\u8b66\u544a\u304c\u51fa\u305f:\n==> WARNING: Possibly missing firmware for module: wd719x\n==> WARNING: Possibly missing firmware for module: aic94xx\n\u826f\u304f\u308f\u304b\u3089\u306a\u3044\u304c\u3001\u3072\u3068\u307e\u305a\u7121\u8996\n\n\n\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\nRAID1\u3092\u69cb\u6210\u3057\u3066\u3044\u308b\u30c9\u30e9\u30a4\u30d6\u306e\u3059\u3079\u3066\u306b\u5bfe\u3057\u3066grub\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\u53c2\u8003\u6587\u732e:\n\nArchWiki - GRUB#RAID\n\n# grub-install --recheck --target=i386-pc --root-directory=/ /dev/sda\nInstalling for i386-pc platform.\nInstallation finished. No error reported.\n# grub-install --recheck --target=i386-pc --root-directory=/ /dev/sdb\nInstalling for i386-pc platform.\nInstallation finished. No error reported.\n# grub-mkconfig -o /boot/grub/grub.cfg\nGenerating grub configuration file ...\nFound linux image: /boot/vmlinuz-linux\nFound initrd image(s) in /boot: intel-ucode.img initramfs-linux.img\nFound fallback inited image(s) in /boot: intel-ucode.img initramfs-linux-fallback.img\ndone\n\n\nRoot \u30d1\u30b9\u30ef\u30fc\u30c9\n# passwd\nNew password: \u3008root\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\u3009\nRetype new password: \u3008root\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\u3009\npasswd: password updated successfully\n\n\n\u518d\u8d77\u52d5\n# exit\nexit\narch-chroot /mnt  9.56s user 1.53s system 0% cpu 23:08:32 total\n# umount -R /mnt\n\n\u3053\u3053\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30e1\u30c7\u30a3\u30a2\u3092\u53d6\u308a\u51fa\u3059\u3002\n# reboot\n\n\u518d\u8d77\u52d5\u5f8c\u306b\u30d6\u30fc\u30c8\u753b\u9762\u3092\u7d4c\u3066\u30ed\u30b0\u30a4\u30f3\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u308b\u3002\nArch Linux 4.9.11-1-ARCH (tty1)\n\ntaro login:\n\n\u3084\u3063\u305f\n[ArchLinux \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u899a\u66f8](http://qiita.com/katz_engineer/items/f032a24cb273c4eb6669)\u3067\u793a\u3057\u305fArchLinux\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u7b2c\u4e00\u6b69\u3002[\u7d9a\u30fbArchLinux \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u899a\u66f8](http://qiita.com/katz_engineer/items/d3ce99cd79eaea8670b6)\u3067\u306f\u5931\u6557\u3057\u305f\u304c\u3001\u305d\u3053\u3067\u3054\u6307\u6458\u3044\u305f\u3060\u3044\u305f\u5185\u5bb9\u306a\u3069\u3092\u53cd\u6620\u3057\u305f\u6210\u529f\u624b\u9806\u3067\u3042\u308b\u3002[\u7d9a\u30fbArchLinux \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u899a\u66f8](http://qiita.com/katz_engineer/items/d3ce99cd79eaea8670b6)\u3092\u66f8\u304d\u76f4\u3059\u306e\u304c\u7b4b\u3060\u308d\u3046\u3068\u601d\u3046\u304c\u3001\u79c1\u306e\u65e5\u8a8c\u3082\u517c\u306d\u3066\u3044\u308b\u306e\u3067\u3001\u5931\u6557\u8ac7\u3082\u305d\u306e\u307e\u307e\u6b8b\u3057\u3066\u304a\u304f\u3002\n\n# \u524d\u6e96\u5099\u306a\u3069\n\n\u53c2\u8003\u6587\u732e\n\n- [ArchWiki - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9](https://wiki.archlinuxjp.org/index.php/\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9)\n- [ArchWiki - Btrfs](https://wiki.archlinuxjp.org/index.php/Btrfs)\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u306eiso\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u6628\u5e74\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9(2016.12.01.\u7248)\u3057\u305f\u3082\u306e\u3092DVD\u306b\u713c\u3044\u305f\u3002USB\u30e1\u30e2\u30ea\u3058\u3083\u306a\u3044\u306e\u306f\u3001\u305f\u307e\u305f\u307e\u624b\u5143\u306b\u7121\u304b\u3063\u305f\u304b\u3089\u3002\n\n# \u4f5c\u696d\n\n## \u306f\u3058\u3081\u306e\u4e00\u6b69\n\n[\u3053\u306e\u30de\u30b7\u30f3](http://qiita.com/katz_engineer/items/f032a24cb273c4eb6669#\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2)\u306fRAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u308b\u304c\u3001Linux\u304b\u3089\u306f\u4f7f\u3048\u306a\u3044\u6a21\u69d8\u3002\u5f93\u3063\u3066\u8d77\u52d5\u6642\u306b Ctrl+I \u3092\u62bc\u3057\u3066\u3001Non-RAID\u306b\u3057\u3066\u304a\u304f\u3002\u624b\u9806\u306e\u8a73\u7d30\u306f\u7701\u7565\u3002\u753b\u9762\u6307\u793a\u306b\u5f93\u3048\u3070\u826f\u3044\u3002\n\n- Linux\u304b\u3089\u4f7f\u3048\u306a\u3044\u72b6\u6cc1\u8a3c\u62e0:\n - Linux\u304b\u3089RAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u898b\u3048\u306a\u3051\u308c\u3070\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2RAID\u306f\u4e0d\u53ef\u3002\n - Linux\u306b\u306f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u3092\u69cb\u6210\u3059\u308b\u6a19\u6e96\u7684\u306a\u65b9\u6cd5\u304c\u6574\u5099\u3055\u308c\u3066\u304a\u308a\u3001\u30b9\u30d4\u30fc\u30c9\u3067\u306f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u69cb\u6210\u304c\u52dd\u308b\u3082\u306e\u306e\u3001\u6a5f\u80fd\u7684\u306b\u306f\u5727\u5012\u7684\u306b\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u306b\u8ecd\u914d\u304c\u4e0a\u304c\u308b\u3002\n - \u5143\u3005Linux\u30e6\u30fc\u30b6\u306fWindows\u306b\u6bd4\u3079\u3066\u5727\u5012\u7684\u306b\u5c11\u6570\u6d3e\u3067\u3042\u308a\u3001\u305d\u306e\u4e0a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2RAID\u304c\u4e2d\u5fc3\u306e\u70ba\u3001RAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30e1\u30fc\u30ab\u304cLinux\u7528\u30c9\u30e9\u30a4\u30d0\u3092\u7528\u610f\u3059\u308b\u65e8\u5473\u306f\u7121\u3044\u3002\n - \u305d\u3046\u3044\u3063\u305f\u7406\u7531\u304b\u3089\u3001Linux\u5bfe\u5fdcRAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306f\u6570\u4e07\u5186\u4ee5\u4e0a\u3059\u308b\u306e\u304c\u666e\u901a\u3002Windows\u5411\u3051\u3068\u6bd4\u3079\u308b\u3068\u4e00\u6841\u8fd1\u304f\u9055\u3046\u3068\u306e\u4e8b\u3002\u2192\u30de\u30b7\u30f3\u7d44\u8fbc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306f\u74b0\u5883\u304c\u7570\u306a\u308b\u3068\u306f\u8a00\u3048\u3001\u7d4c\u6e08\u7684\u306a\u4e8b\u60c5\u306f\u4f3c\u305f\u308a\u5bc4\u3063\u305f\u308a\u3068\u63a8\u6e2c\u3067\u304d\u308b\u3002\n\n- Linux\u304b\u3089\u4f7f\u3048\u306a\u3044\u76f4\u63a5\u8a3c\u62e0:\n - SCSI\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u8a8d\u8b58\u3067\u304d\u308c\u3070 /proc/scsi \u4ee5\u4e0b\u306b\u8272\u3005\u3068\u60c5\u5831\u304c\u5165\u308b\u306f\u305a\u3002[Red Hat Enterprise Linux 4: \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u30ac\u30a4\u30c9 - \u7ae0 5\u7ae0. proc \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 - 5.3. /proc/\u914d\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea - 5.3.8. /proc/scsi/](http://web.mit.edu/rhel-doc/4/RH-DOCS/rhel-rg-ja-4/s1-proc-directories.html#S2-PROC-DIR-SCSI)\n - ArchLinux\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30ebDVD\u3092\u633f\u5165\u3057\u3066\u8d77\u52d5\u5f8c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u78ba\u8a8d\u3002HDD\u305d\u306e\u3082\u306e\u306f\u305d\u308c\u305e\u308c\u898b\u3048\u3066\u3044\u308b\u304c\u3001RAID\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306f\u8a8d\u8b58\u3055\u308c\u3066\u3044\u306a\u3044\u3002\n\n```\n# cat /proc/scsi/scsi\nAttached devices:\nHost: scsi0 Channel: 00 Id: 00 Lun: 00\n  Vendor: ATA      Model: ST3320620AS      Rev: K\n  Type:   Direct-Access                    ANSI  SCSI revision: 05\nHost: scsi1 Channel: 00 Id: 00 Lun: 00\n  Vendor: ATA      Model: WDC WD3200AAKS-0 Rev: 3A01\n  Type:   Direct-Access                    ANSI  SCSI revision: 05\nHost: scsi5 Channel: 00 Id: 00 Lun: 00\n  Vendor: TSSTcorp Model: DVD+-RW RS-H653F Rev: D300\n  Type:   CD-ROM                           ANSI  SCSI revision: 05\n```\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u6e96\u5099\n\n\u8d77\u52d5\u6642\u306b\u306f x86_64 \u3092\u9078\u629e\u3002\u5f53\u305f\u308a\u524d\u3060\u3051\u3069\u3001\u3057\u3070\u3089\u304f\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30e1\u30c7\u30a3\u30a2\u3092\u629c\u304b\u305a\u306b\u305d\u306e\u307e\u307e\u306b\u3057\u3066\u304a\u304f\u3002\n\n[ArchWiki - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9](https://wiki.archlinuxjp.org/index.php/\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9) \u3092\u8aad\u3093\u3067\u3001\u3053\u306e\u901a\u308a\u306b\u64cd\u4f5c\u3002\u4ee5\u4e0b\u3001\u305d\u306e\u624b\u9806\u3002\n\n### \u30ad\u30fc\u30dc\u30fc\u30c9\n\n```\n# loadkeys jp106\n```\n\n### \u30b3\u30f3\u30bd\u30fc\u30eb\u30d5\u30a9\u30f3\u30c8\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u30d5\u30a9\u30f3\u30c8\u306f\u305d\u306e\u307e\u307e\u5909\u66f4\u305b\u305a\u3002\u65e5\u672c\u8a9e\u304c\u8868\u793a\u3055\u308c\u308c\u3070\u305d\u308c\u306a\u308a\u306b\u4fbf\u5229\u305d\u3046\u3060\u3051\u3069\u3082\u3001\u5f53\u9762\u306f\u5fc5\u8981\u7121\u3044\u3068\u5224\u65ad\u3002\n\n### \u8d77\u52d5\u30e2\u30fc\u30c9\u306e\u78ba\u8a8d\n\n```\n# ls /sys/firmware\nacpi dmi memmap\n```\n\nUEFI\u3067\u306f\u306a\u304f\u3066BIOS\u8d77\u52d5\u3060\u3063\u305f\u3002\u4ee5\u4e0b\u3001BIOS\u8d77\u52d5\u306b\u6cbf\u3063\u305f\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n### \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3001\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\n\u307e\u305a\u306f\u30c9\u30e9\u30a4\u30d6\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6c7a\u3081\u308b\u3002\u4eca\u56de\u306f\u30c9\u30e9\u30a4\u30d6\u4e38\u3054\u3068 Btrfs \u306b\u3057\u305f\u3044\u3002\n\n\u305d\u306e\u5834\u5408\u306e\u6ce8\u610f\u70b9\u3002[ArchWiki - Btrfs#\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0](https://wiki.archlinuxjp.org/index.php/Btrfs#.E3.83.91.E3.83.BC.E3.83.86.E3.82.A3.E3.82.B7.E3.83.A7.E3.83.8B.E3.83.B3.E3.82.B0)\u306b\u3088\u308b\u3068\u30b9\u30ef\u30c3\u30d7\u9818\u57df\u3092\u4f5c\u6210\u3067\u304d\u306a\u3044\u3089\u3057\u3044\u3002\n\n\u3057\u304b\u3057[ArchWiki - \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0](https://wiki.archlinuxjp.org/index.php/\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0) \u306e[\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u5927\u304d\u3055\u306f\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u3067\u3059\u304b\uff1f]\u306b\u306f\u4e0b\u8a18\u306e\u8a18\u8ff0\u3042\u308a\u3002\u3053\u308c\u3092\u4fe1\u3058\u308b\u4e8b\u306b\u3059\u308b\u3002\n\n> \u5927\u5bb9\u91cf\u306e\u30e1\u30e2\u30ea\uff081024MB \u4ee5\u4e0a\uff09\u3092\u7a4d\u3093\u3067\u3044\u308b\u3068\u304d\u306f\u3001\u30b9\u30ef\u30c3\u30d7\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306f\u5c0f\u3055\u304f\u3001\u307e\u305f\u306f\u4f5c\u3089\u306a\u304f\u3066\u3082\u304b\u307e\u308f\u306a\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u3061\u306a\u307f\u306b Btrfs \u306e\u8aad\u307f\u65b9\u3060\u304c\u3001SAO\u30d5\u30a1\u30f3\u3068\u3057\u3066\u306f\u300c\u30d3\u30fc\u30bf\u30fc\u30a8\u30d5\u30a8\u30b9\u300d\u3068\u8aad\u307f\u305f\u3044\u6240\u3002\u30d3\u30fc\u30bf\u30fc\u2026 \u3046\u3080\u3001\u826f\u3044\u97ff\u304d\u3060\u3002\n\n\u3068\u3044\u3046\u8a33\u3067 Btrfs \u306b\u3088\u308b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3002\u30b3\u30de\u30f3\u30c9\u306e\u65e5\u672c\u8a9e\u30d8\u30eb\u30d7\u306f[Oracle\u00ae Linux\u7ba1\u7406\u8005\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30fb\u30ac\u30a4\u30c9for \u30ea\u30ea\u30fc\u30b96 - 5.2 Btrfs\u30d5\u30a1\u30a4\u30eb\u30fb\u30b7\u30b9\u30c6\u30e0\u306e\u4f5c\u6210](https://docs.oracle.com/cd/E39368_01/b71105/ol_create_btrfs.html)\n\n```\n# ls /dev/sd*\n/dev/sda  /dev/sdb\n# mkfs.btrfs -L btrfs_raid1 -d raid1 /dev/sda /dev/sdb\nbtrfs-progs v4.8.2\nSee http://btrfs.wiki.kernel.org for more information.\n\n/dev/sda appears to contain an existing filesystem (zfs_member).\nERROR: use the -f option to force overwrite of /dev/sda\n```\n\n\u65e2\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u6e08\u306eHDD\u306a\u306e\u3067\u3001\u6ce8\u610f\u3092\u4fc3\u3059\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u305f\u3002\u753b\u9762\u8868\u793a\u306e\u901a\u308a\u306b -f \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u518d\u5b9f\u884c\u3002\n\n```\n# mkfs.btrfs -f -L btrfs_raid1 -d raid1 /dev/sda /dev/sdb\nbtrfs-progs v4.8.2\nSee http://btrfs.wiki.kernel.org for more information.\n\nLabel:              btrfs_raid1\nUUID:\nNode size:          16384\nSector size:        4096\nFilesystem size:    596.18GiB\nBlock group profiles:\n  Data:             RAID1             1.00GiB\n  Metadata:         RAID1             1.00GiB\n  System:           RAID1             8.00MiB\nSSD detected:       no\nIncompat features:  extref, skinny-metadata\nNumber of devices:  2\nDevices:\n   ID        SIZE  PATH\n    1   298.09GiB  /dev/sda\n    2   298.09GiB  /dev/sdb\n```\n\n\u4e00\u3064\u3060\u3051\u6c17\u306b\u306a\u308b\u306e\u306f Filesystem size\u3002\u7d04300GB\u306eHDD\u304c2\u53f0\u306a\u306e\u3060\u304c\u3001\u3053\u306e\u8868\u793a\u3067\u306f\u30df\u30e9\u30fc\u30ea\u30f3\u30b0\u3057\u3066\u306a\u3044\u5bb9\u91cf\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u308b\u3002\u5c11\u3005\u4e0d\u5b89\u3060\u304c\u3001RAID1\u3068\u3057\u3063\u304b\u308a\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3057\u3001\u3068\u308a\u3042\u3048\u305a\u5148\u3078\u9032\u3080\u3002\n\n### \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u30de\u30a6\u30f3\u30c8\n\n\u3053\u306e\u8fba\u306f[ArchWiki - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9](https://wiki.archlinuxjp.org/index.php/\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9)\u3092\u9d5c\u5451\u307f\u306b\u3057\u306a\u304c\u3089\u3068\u3044\u3046\u30ef\u30b1\u306b\u306f\u3044\u304b\u306a\u3044\u3002\u3061\u3087\u3063\u3068\u8107\u9053\u306b\u9038\u308c\u308b\u6a21\u69d8\u3002\u7d50\u679c\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9\u3068\u5168\u304f\u540c\u3058\u3060\u3051\u3069\u3082\u3002\n\n\u53c2\u8003\u6587\u732e:\n\n* [ArchWiki - Btrfs#\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30cb\u30f3\u30b0](https://wiki.archlinuxjp.org/index.php/Btrfs#.E3.83.91.E3.83.BC.E3.83.86.E3.82.A3.E3.82.B7.E3.83.A7.E3.83.8B.E3.83.B3.E3.82.B0)\n* [Oracle\u00ae Linux\u7ba1\u7406\u8005\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u30fb\u30ac\u30a4\u30c9for \u30ea\u30ea\u30fc\u30b96 - 5.2 Btrfs\u30d5\u30a1\u30a4\u30eb\u30fb\u30b7\u30b9\u30c6\u30e0\u306e\u4f5c\u6210](https://docs.oracle.com/cd/E39368_01/b71105/ol_create_btrfs.html) \u3053\u306e\u4e2d\u306b\u300c\u30d5\u30a1\u30a4\u30eb\u30fb\u30b7\u30b9\u30c6\u30e0\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5834\u5408\u3001\u6b21\u306e\u3088\u3046\u306b\u305d\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30fb\u30c7\u30d0\u30a4\u30b9\u306e\u3044\u305a\u308c\u304b\u306b\u3088\u3063\u3066\u6307\u5b9a\u3067\u304d\u307e\u3059\u300d\u3068\u3044\u3046\u8a18\u8ff0\u304c\u3042\u308b\u3002\n* [\u305f\u3060\u306e\u30e1\u30e2: rootfs \u306b btrfs \u3092\u3064\u304b\u3063\u3066\u307f\u308b](http://blog.at-dk.info/2010/07/rootfs-btrfs.html)\n* [ArchWiki - Snapper#\u63a8\u5968\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30ec\u30a4\u30a2\u30a6\u30c8](https://wiki.archlinuxjp.org/index.php/Snapper#.E6.8E.A8.E5.A5.A8.E3.83.95.E3.82.A1.E3.82.A4.E3.83.AB.E3.82.B7.E3.82.B9.E3.83.86.E3.83.A0.E3.83.AC.E3.82.A4.E3.82.A2.E3.82.A6.E3.83.88)\n\n\u307e\u3060\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u306a\u3069\u3092\u8a66\u3059\u6bb5\u968e\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u5dee\u3057\u5f53\u305f\u3063\u3066\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30b5\u30d6\u30dc\u30ea\u30e5\u30fc\u30e0\u3068\u3057\u3066\u4f5c\u6210\u3059\u308b\u6240\u307e\u3067\u306b\u3057\u3066\u304a\u304f\u3002\n\n```\n# mount /dev/sda /mnt\n# btrfs subvolume create /mnt/@\nCreate subvolume '/mnt/@'\n# btrfs subvolume list -p /mnt\nID 258 gen 7 parent 5 top level 5 path @\n# umount /mnt\n# mount -o subvol=@ /dev/sda /mnt\n```\n\n\u3053\u3053\u304b\u3089\u306f\u307e\u305f[ArchWiki - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9](https://wiki.archlinuxjp.org/index.php/\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9)\u306e\u624b\u9806\u306b\u623b\u308b\u3002\n\n### \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u63a5\u7d9a\n\n```\n# ping archlinuxjp.org\n64 bytes from tk2-235-27344.vs.sakura.ne.jp (160.16.119.98): icmp_seq=1 ttl=53 time=43.4 ms\n\u3008\u4ee5\u4e0b\u7565\u3009\n```\n\n### \u30b7\u30b9\u30c6\u30e0\u30af\u30ed\u30c3\u30af\u306e\u66f4\u65b0\n\n```\n# timedatectl set-ntp true\n# timedatectl status\n      Local time: Sat 2017-02-04 15:00:26 UTC\n  Universal time: Sat 2017-02-04 15:00:26 UTC\n        RTC time: Sun 2017-02-04 15:00:26\n       Time zone: UTC (UTC, +0000)\n Network time on: yes\nNTP synchronized: no\n RTC in local TZ: no\n```\n\n```NTP synchronized: no``` \u304c\u6c17\u306b\u306a\u3063\u305f\u304c\u3001\u5c11\u3005\u6642\u9593\u3092\u7f6e\u304f\u3068\uff08\u6570\u79d2\u7a0b\u5ea6\u304b\uff1f\uff09 yes \u306b\u306a\u308b\u3088\u3046\u3060\u3002\n\n```\n# timedatectl status\n      Local time: Sat 2017-02-04 15:01:33 UTC\n  Universal time: Sat 2017-02-04 15:01:33 UTC\n        RTC time: Sun 2017-02-04 15:01:33\n       Time zone: UTC (UTC, +0000)\n Network time on: yes\nNTP synchronized: yes\n RTC in local TZ: no\n```\n\n\u672c\u5f53\u306fntp\u30b5\u30fc\u30d0\u306f\u81ea\u5206\u3067\u8a2d\u5b9a\u3057\u305f\u3044\u3002[\u65e5\u672c\u306a\u3089 ntp.nict.jp \u304c\u9244\u677f](http://jjy.jp/tsp/PubNtp/index.html)\u3060\u3068\u601d\u3063\u3066\u308b\u3002\u7279\u6b8a\u4e8b\u60c5\u304c\u7121\u3051\u308c\u3070\u3053\u306e\u4e00\u629e\u3002\n\n\u304c\u3001\u305d\u306e\u8fba\u306e\u8abf\u6574\u306f\u5f8c\u56de\u3057\u3002\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n### \u30df\u30e9\u30fc\u306e\u9078\u629e\n\n\u65e5\u672c\u306a\u3089 Japan \u3092\u30d5\u30a1\u30a4\u30eb\u5148\u982d\u306b\u6301\u3063\u3066\u304f\u308b\u3002\n\n```\n# cd /etc/pacman.d\n# mv mirrorlist mirrorlist.org\n# cp mirrorlist.org mirrorlist\n# vi mirrorlist\n\u3008\u7de8\u96c6\u30b3\u30de\u30f3\u30c9\u7701\u7565\u3009\n# diff -U0 mirrorlist.org mirrorlist\n--- mirrorlist.org     2016-12-01 16:52:03.000000000 +0000\n+++ mirrorlist 2017-02-04 15:07:47.751819902 +0000\n@@ -6,0 +7,2 @@\n+## Score: 2.0, Japan\n+Server = http://ftp.jaist.ac.jp/pub/Linux/ArchLinux/$repo/os/$arch\n@@ -213,2 +214,0 @@\n-## Score: 2.0, Japan\n-Server = http://ftp.jaist.ac.jp/pub/Linux/ArchLinux/$repo/os/$arch\n```\n\n### \u30d9\u30fc\u30b9\u30b7\u30b9\u30c6\u30e0\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u540c\u6642\u306b btrfs \u306e\u95a2\u9023\u30d7\u30ed\u30b0\u30e9\u30e0\u3084\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\u306a\u3069\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\u307e\u305f\u4eca\u6642\u306f\u3001CPU\u306e\u30c7\u30d0\u30c3\u30b0\u7528\u30d1\u30c3\u30c1\u3082OS\u304c\u9762\u5012\u3092\u898b\u308b\u3089\u3057\u3044\u3002\u305d\u306e\u70ba\u306e\u30d1\u30c3\u30b1\u30fc\u30b8 intel-ucode \u3082\u843d\u3068\u3057\u3066\u304a\u304f\u3002\n\n```\n# cd\n# pwd\n/root\n# pacstrap /mnt base btrfs-progs intel-ucode grub\n\u3008\u8868\u793a\u7701\u7565\u3009\n```\n\n## \u30b7\u30b9\u30c6\u30e0\u306e\u8a2d\u5b9a\n\n### fstab\n\n```\n# genfstab -U /mnt >> /mnt/etc/fstab\n# cat /mnt/etc/fstab\n#\n# /etc/fstab: static file system information\n#\n# <file system> <dir>   <type>  <options>      <dump>  <pass>\n# /dev/sda LABEL=btrfs_raid1\nUUID=\u3008\u7701\u7565\u3009                                   /                btrfs   rw,relatime,space_cache,subvolid=258,subvol=/@,subvol=@ 0 0\n\n```\n\n### chroot\n\n```\n# arch-chroot /mnt\n```\n\n### \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\n\n```\n# rm /etc/localtime\n# ln -s /usr/share/zoneinfo/Japan /etc/localtime\n# hwclock --systohc --utc\n```\n\n### \u30ed\u30b1\u30fc\u30eb\n\n```\n# mv /etc/locale.gen /etc/locale.gen.org\n# cp /etc/locale.gen.org /etc/locale.gen\n# vi /etc/locale.gen\n\u3008\u7de8\u96c6\u5185\u5bb9\u7701\u7565\u3009\n# diff -U0 /etc/locale.gen.org /etc/locale.gen\n--- /etc/locale.gen.org 2016-08-06 20:17:48.000000000 +0900\n+++ /etc/locale.gen     2017-02-05 00:33:51.507870723 +0900\n@@ -291,2 +291,2 @@\n-#ja_JP.EUC-JP EUC-JP\n-#ja_JP.UTF-8 UTF-8\n+ja_JP.EUC-JP EUC-JP\n+ja_JP.UTF-8 UTF-8\n# rm /etc/locale.gen.org\n# echo KEYMAP=jp106 >/etc/vconsole.conf\n```\n\n### \u30db\u30b9\u30c8\u30cd\u30fc\u30e0\n\n```\n# echo \u3008\u4f8b\u3048\u3070 taro\u3009 >/etc/hostname\n# mv /etc/hosts /etc/hosts.org\n# cp /etc/hosts.org /etc/hosts\n# vi /etc/hosts\n\u3008\u7de8\u96c6\u5185\u5bb9\u7701\u7565\u3009\n# diff -U0 /etc/hosts.org /etc/hosts\n--- /etc/hosts.org      2016-12-06 08:43:55.000000000 +0900\n+++ /etc/hosts  2017-02-05 00:41:14.795469974 +0900\n@@ -7,0 +8 @@\n+\u3008\u5bb6\u5ead\u5185\u3067\u5272\u308a\u5f53\u3066\u308bIP\u30a2\u30c9\u30ec\u30b9\u3009  \u3008\u4f8b\u3048\u3070 taro.example.com\u3009 \u3008\u4f8b\u3048\u3070 taro\u3009\n# rm /etc/hosts.org\n```\n\n### Initramfs\n\n\u53c2\u8003\u6587\u732e:\n\n- [ArchWiki - mkinitcpio - HOOKS - \u901a\u5e38\u306e\u30d5\u30c3\u30af](https://wiki.archlinuxjp.org/index.php/Mkinitcpio)\n\n```\n# mv /etc/mkinitcpio.conf /etc/mkinitcpio.conf.org\n# cp /etc/mkinitcpio.conf.org /etc/mkinitcpio.conf\n# vi /etc/mkinitcpio.conf\n\u3008\u7de8\u96c6\u5185\u5bb9\u7701\u7565\u3009\n# diff -U0 /etc/mkinitcpio.conf.org /etc/mkinitcpio.conf\n--- /etc/mkinitcpio.conf.org    2016-11-28 05:08:44.000000000 +0900\n+++ /etc/mkinitcpio.conf        2017-02-05 00:44:15.627872167 +0900\n@@ -52 +52 @@\n-HOOKS=\"base udev autodetect modconf block filesystems keyboard fsck\"\n+HOOKS=\"base udev autodetect modconf block filesystems keyboard fsck btrfs\"\n# rm /etc/mkinitcpio.conf.org\n```\n\nmkinitcpio \u3092\u5b9f\u884c\u3002\n\n```\n# mkinitcpio -p linux\n\u3008\u8868\u793a\u7701\u7565\u3009\n\u4f46\u3057\u3001\u9014\u4e2d\u3067\u8b66\u544a\u304c\u51fa\u305f:\n==> WARNING: Possibly missing firmware for module: wd719x\n==> WARNING: Possibly missing firmware for module: aic94xx\n\u826f\u304f\u308f\u304b\u3089\u306a\u3044\u304c\u3001\u3072\u3068\u307e\u305a\u7121\u8996\n```\n\n### \u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\n\nRAID1\u3092\u69cb\u6210\u3057\u3066\u3044\u308b\u30c9\u30e9\u30a4\u30d6\u306e\u3059\u3079\u3066\u306b\u5bfe\u3057\u3066grub\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n\u53c2\u8003\u6587\u732e:\n\n* [ArchWiki - GRUB#RAID](https://wiki.archlinuxjp.org/index.php/GRUB#RAID)\n\n```\n# grub-install --recheck --target=i386-pc --root-directory=/ /dev/sda\nInstalling for i386-pc platform.\nInstallation finished. No error reported.\n# grub-install --recheck --target=i386-pc --root-directory=/ /dev/sdb\nInstalling for i386-pc platform.\nInstallation finished. No error reported.\n# grub-mkconfig -o /boot/grub/grub.cfg\nGenerating grub configuration file ...\nFound linux image: /boot/vmlinuz-linux\nFound initrd image(s) in /boot: intel-ucode.img initramfs-linux.img\nFound fallback inited image(s) in /boot: intel-ucode.img initramfs-linux-fallback.img\ndone\n```\n\n### Root \u30d1\u30b9\u30ef\u30fc\u30c9\n\n```\n# passwd\nNew password: \u3008root\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\u3009\nRetype new password: \u3008root\u7528\u30d1\u30b9\u30ef\u30fc\u30c9\u3009\npasswd: password updated successfully\n```\n\n### \u518d\u8d77\u52d5\n\n```\n# exit\nexit\narch-chroot /mnt  9.56s user 1.53s system 0% cpu 23:08:32 total\n# umount -R /mnt\n```\n\n\u3053\u3053\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u7528\u30e1\u30c7\u30a3\u30a2\u3092\u53d6\u308a\u51fa\u3059\u3002\n\n```\n# reboot\n```\n\n\u518d\u8d77\u52d5\u5f8c\u306b\u30d6\u30fc\u30c8\u753b\u9762\u3092\u7d4c\u3066\u30ed\u30b0\u30a4\u30f3\u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n```\nArch Linux 4.9.11-1-ARCH (tty1)\n\ntaro login:\n```\n\n\u3084\u3063\u305f:thumbsup:\n", "tags": ["archLinux", "btrfs"]}