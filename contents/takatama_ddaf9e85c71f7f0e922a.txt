{"tags": ["JavaScript", "Selenium", "WebDriver", "WebdriverIO", "Nightwatch"], "context": "\u3044\u308d\u3044\u308d\u8abf\u3079\u305f\u3051\u308c\u3069\u3001\u307e\u3060\u6c7a\u3081\u3089\u308c\u306a\u3044\u306a\u30fc\u3001\u3068\u3044\u3046\u304a\u8a71\u3067\u3059\u3002\nWeb\u30a2\u30d7\u30ea\u304c\u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u3001Web\u30d6\u30e9\u30a6\u30b6\u30fc\u3092\u64cd\u4f5c\u3057\u3066\u78ba\u8a8d\u3059\u308b E2E (End-to-End) \u30c6\u30b9\u30c8\u3002\u30c6\u30b9\u30c8\u306e\u8a18\u8ff0\u306b\u306f\u69d8\u3005\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u304c\u4f7f\u3048\u307e\u3059\u3002\nSelenium WebDriver + JavaScript \u3067 E2E \u30c6\u30b9\u30c8\u3092\u3059\u308b\u3084\u308a\u65b9\u304c\nAn Introduction to WebDriver Using the JavaScript Bindings - Tuts+ Code Tutorial\n\u3067\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u306f\u3001\u57fa\u672c\u3068\u306a\u308b WebDriverJS \u4ee5\u5916\u306b\u30017\u3064\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8API\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u3092\u7d39\u4ecb\u3057\u3066\u3044\u307e\u3059\u3002\u3069\u308c\u3082 github \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u3001\u30b9\u30bf\u30fc\u6570\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f (2014/12/07\u6642\u70b9\u30682015/09/12\u6642\u70b9)\u3002\u307e\u305f Intern \u3068 Protractor \u306b\u3064\u3044\u3066\u3082\u8abf\u3079\u307e\u3057\u305f\u3002\n\n\n\nClient API\n\u30b9\u30bf\u30fc\u6570 2014/12\n\u30b9\u30bf\u30fc\u6570 2015/09\n\u6700\u65b0\u30b9\u30bf\u30fc\u6570\n\u88dc\u8db3\n\n\n\n\nWebDriverJS\nN/A\nN/A\n\n\nW3C\u3067\u6a19\u6e96\u5316\u3057\u3066\u3044\u308bAPI\u3067\u66f8\u304f\u3002Java\u3067Selenium\u52d5\u304b\u3057\u3066\u3044\u305f\u4eba\u5411\u3051\u3002\n\n\nWD.js\n658\n845\n\n\n\n\nWebDriver.io\n661\n1,132\n\nWD.js\u3088\u308a\u77ed\u304f\u66f8\u3051\u308b\u3002\n\n\nTestium\n203\n263\n\nCoffeeScript \u3067\u66f8\u304f\u3002\n\n\nLeadfoot\n63\n107\n\n\nIntern\u3067\u4f7f\u308f\u308c\u3066\u308b\u3002WD.js\u3068\u4f3c\u305fAPI\u3002\n\n\nNightwatch\n2,386\n3,221\n\nCI\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u30c6\u30b9\u30c8\u306e\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u9023\u643a\u3002\n\n\nDalekJS\n481\n600\n\nSelenium Server \u307e\u3067\u5165\u3063\u305f\u5168\u90e8\u5165\u308a\u3002Web\u30b5\u30a4\u30c8\u304c\u6d3e\u624bw\u3002\n\n\nWebdriver-sync\n36\n71\n\nJava API\u306b\u6e96\u62e0\u3002\u540c\u671f\u578b\u3002\n\n\nIntern\n\u672a\u8a08\u6e2c\n3,006\n\n\u5168\u90e8\u5165\u308a\u3002\u5358\u4f53\u30c6\u30b9\u30c8\uff08\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\uff09\u3001CI\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u30c6\u30b9\u30c8\u306e\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u9023\u643a\u3002\n\n\nProtractor\n\u672a\u8a08\u6e2c\n4,355\n\n\nAngularJS \u305f\u3081\u306eE2E\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3060\u304c AngularJS \u4ee5\u5916\u306b\u3082\u4f7f\u3048\u308b\u3002\n\n\n\n\u3055\u3089\u306b\u3001WebdriverJS, WD.js, WebdriverIO, Nightwatch, Dalek, Intern, Protractor \u306e7\u3064\u306b\u3064\u3044\u3066\u3001\u5b9f\u969b\u306b\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\u304a\u984c\u306f\u300cGoogle\u3067\"webdriver\"\u3092\u691c\u7d22\u3057\u305f\u6642\u306e\u30d2\u30c3\u30c8\u6570\u3092\u6a19\u6e96\u51fa\u529b\u306b\u8868\u793a\u3059\u308b\u300d\u3067\u3059\u3002assert \u306f\u4f7f\u3044\u307e\u305b\u3093\u3002\n\n\u5171\u901a\u306e\u4e8b\u524d\u6e96\u5099\nMac \u3092\u4f7f\u3044\u307e\u3059\u3002Web \u30d6\u30e9\u30a6\u30b6\u30fc\u306f Chrome \u3067\u3059\u3002\nHomebrew \u3068 Cask \u3067 node.js \u3068 java \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n$ brew install node\n$ brew brew install brew-cask\n$ brew cask install java\n\n\u3055\u3089\u306b webdriver-manager \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002webdriver-manager update \u30b3\u30de\u30f3\u30c9\u3067 selenium-server, chrome-driver \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ npm install -g webdriver-manager\n$ webdriver-manager update\n\n\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001Selenium Server \u3092\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001Dalek \u306e\u5834\u5408\u306f\u4e0d\u8981\u3067\u3059\u3002\n$ webdriver-manager start\n\n\nWebDriverJS\nAPI\u306f\u3053\u3061\u3089\u3002\u8c4a\u5bcc\u3067\u3059\u3002\nhttp://selenium.googlecode.com/git/docs/api/javascript/index.html\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install selenium-webdriver\n\n\n\u30b3\u30fc\u30c9\nwebdriverjs.js:\nvar webdriver = require('selenium-webdriver');\nvar By = webdriver.By;\n\n//Web\u30d6\u30e9\u30a6\u30b6\u30fc\u306fChrome\nvar driver = new webdriver.Builder().\n   withCapabilities(webdriver.Capabilities.chrome()).\n   build();\nvar $ = driver.findElement.bind(driver);\n\n//Google\u3092\u958b\u304f\u3002\ndriver.get('http://www.google.com');\n\n//\u691c\u7d22\u30dc\u30c3\u30af\u30b9\u306bwebdriver\u3068\u5165\u529b\u3059\u308b\u3002\n$(By.name('q')).sendKeys('webdriver');\n\n//\u691c\u7d22\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3002\n$(By.name('btnG')).click();\n\n//\u30d2\u30c3\u30c8\u6570\u304c\u8868\u793a\u3055\u308c\u308b\u307e\u3067\u5f85\u3064\u3002\nvar timeoutMSec = 2000;\ndriver.wait(webdriver.until.elementLocated(By.id('resultStats')), timeoutMSec)\n.then(function() { //wait\u3057\u305f\u5f8c\u306fthen\u3067\u3064\u306a\u3050\n    $(By.id('resultStats')).getText().then(function(text) {\n        console.log(text);\n    });\n})\n.then(function() {\n    driver.quit();\n});\n\n\n\u5b9f\u884c\n$ node webdriverjs.js \n\u7d04 615,000 \u4ef6 \uff080.11 \u79d2\uff09 \n\n\nWD.js\nsendKeys() \u306a\u3069 WebDriverJS \u306e\u540d\u6b8b\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001waitForElementByCss()\u306a\u3069\u3001API\u304c\u82e5\u5e72\u9577\u3081\u3067\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install --save-dev wd\n\n\n\u30b3\u30fc\u30c9\nwd.js:\nvar wd = require('wd');\nvar browser = wd.promiseChainRemote();\nvar timeoutMSec = 1000;\nbrowser\n    .init({\n        browserName: 'chrome'\n    })\n    .get('http://www.google.com')\n    .elementByName('q')\n    .sendKeys('webdriver')\n    .elementByName('btnG')\n    .click()\n    .waitForElementByCss('#resultStats', timeoutMSec)\n    .text(function(err, text) {\n        console.log(text);\n    })\n    .quit();\n\n\n\u5b9f\u884c\n$ node wd.js\n\u7d04 615,000 \u4ef6 \uff080.12 \u79d2\uff09\n\n\nWebdriver.io\n\u4eca\u56de\u8a66\u3057\u305f\u4e2d\u3067\u306f\u3001API \u540d\u304c\u77ed\u304f\u3066\u597d\u304d\u3067\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install --save-dev webdriverio\n\n\n\u30b3\u30fc\u30c9\nwebdriverio.js:\nvar timeoutMSec = 1000;\nvar webdriverio = require('webdriverio')\n    .remote({\n        desiredCapabilities: {\n            browserName: 'chrome'\n        }\n    })\n    .init()\n    .url('http://www.google.com')\n    .setValue('[name=\"q\"]', 'webdriver')\n    .click('[name=\"btnG\"]')\n    .waitForExist('#resultStats', timeoutMSec)\n    .getText('#resultStats', function(err, text) {\n        console.log(text);\n    })\n    .end();\n\n\n\u5b9f\u884c\n$ node webdriverio.js \n\u7d04 615,000 \u4ef6 \uff080.12 \u79d2\uff09 \n\n\nNightwatch\nrunner \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3059\u308b\u306e\u3067\u3001\u51fa\u529b\u304c\u7dba\u9e97\u3067\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d6\u30e9\u30a6\u30b6\u30fc\u304c Firefox \u3067\u3001Chrome \u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install --save-dev nightwatch\n\n\n\u30b3\u30fc\u30c9\nnightwatch.json:\n{\n  \"test_settings\" : {\n    \"default\" : {\n      \"silent\": true,\n      \"desiredCapabilities\": {\n        \"browserName\": \"chrome\"\n      }\n    }\n  }\n}\n\nnightwatch.js:\nmodule.exports = {\n  \"webdriver\u306e\u691c\u7d22\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b\" : function (browser) {\n    var timeoutMSec = 1000;\n    browser\n      .url(\"http://www.google.com\")\n      .setValue('[name=\"q\"]', 'webdriver')\n      .click('[name=\"btnG\"]')\n      .waitForElementPresent('#resultStats', timeoutMSec)\n      .getText('#resultStats', function(res) {\n          console.log(res.value);\n      })\n      .end();\n  }\n};\n\n\n\u5b9f\u884c\n$ ./node_modules/.bin/nightwatch -t nightwatch.js \n\n[Nightwatch] Test Suite\n=======================\n\nRunning:  webdriver\u306e\u691c\u7d22\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b \n\n\u2714  Element <#resultStats> was present after 1038 milliseconds.\n\u7d04 615,000 \u4ef6 \uff080.14 \u79d2\uff09 \n\nOK. 1 total assertions passed. (11.812s)\n\n\nDalekJS\nSelenium server \u3092\u52d5\u304b\u3059\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$npm install --save-dev dalek-cli dalekjs dalek-browser-chrome \n\n\n\u30b3\u30fc\u30c9\nwaitForElement\u304c\u52d5\u4f5c\u3057\u306a\u3044\u306e\u3067\u3001waitFor\u3092\u4f7f\u3044\u307e\u3057\u305f(github)\u3002\n\u6a19\u6e96\u51fa\u529b\u3078\u306e\u8868\u793a\u306fexecute()\u3068log.message()\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3044\u307e\u3059\u3002\ndalek.js:\nmodule.exports = {\n  'webdriver\u306e\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b': function (test) {\n    var timeoutMSec = 10000;\n    test\n      .open(\"http://www.google.com\")\n      .setValue('[name=\"q\"]', 'webdriver')\n      .click('[name=\"btnG\"]')\n      //.waitForElement('#resultStats', timeoutMSec)\n      .waitFor(function() {\n        return Boolean(document.querySelector('#resultStats'));\n      }, [], timeoutMSec)\n      .execute(function() {\n        var result = document.querySelector('#resultStats').innerText;\n        this.data('result', result);\n      })\n      .log.message(function() {\n        return test.data('result');\n      })\n      .done();\n  }\n};\n\n\n\u5b9f\u884c\n\u5f15\u6570 -b chrome \u3092\u4e0e\u3048\u3066 Chrome \u3067\u52d5\u304b\u3057\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d8\u30c3\u30c9\u30ec\u30b9\u30d6\u30e9\u30a6\u30b6\u30fc\u306e PhantomJS \u3067\u52d5\u304b\u3057\u307e\u3059\u3002\n$ ./node_modules/.bin/dalek dalek.js -b chrome\nRunning tests\nRunning Browser: Google Chrome\nOS: Mac OS X 10.10.1 x86_64\nBrowser Version: 39.0.2171.71\n\nRUNNING TEST - \"webdriver\u306e\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b\"\n\u25b6 OPEN http://www.google.com\n\u25b6 SETVALUE [name=\"q\"]\n\u25b6 CLICK [name=\"btnG\"]\n\u25b6 WAITFOR \n\u25b6 EXECUTE \n\u2601 [USER] MESSAGE: \u7d04 615,000 \u4ef6 \uff080.38 \u79d2\uff09\u00a0\n\u2714 0 Assertions run\n\u2714 TEST - \"webdriver\u306e\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b\" SUCCEEDED\n\n 0/0 assertions passed. Elapsed Time: 4.44 sec \n\n\nintern\n\u5168\u90e8\u5165\u308a\u3067\u3059\u3002\u5358\u4f53\u30c6\u30b9\u30c8\uff08\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\uff09\u3001CI\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u30c6\u30b9\u30c8\u306e\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9 Sauce Labs, BrowserStack \u3068\u306e\u9023\u643a\u306a\u3069\u3002\n\u53c2\u8003: Can you add Nightwatch.js to the compare section?\nNightwatch \u3068\u306e\u6bd4\u8f03\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install --save-dev intern\n$ mkdir tests\n$ cp node_modules/intern/tests/example.intern.js tests/intern.js\n$ ./node_modules/.bin/intern-client config=tests/intern\n0/0 tests failed\n\n\n\n\u30b3\u30fc\u30c9\n$ mkdir tests/functional\n\ntests/functional/google.js:\ndefine(function (require) {\n    var registerSuite = require('intern!object');\n    var assert = require('intern/chai!assert');\n\n    registerSuite({\n        name: 'intern',\n        'greeting form': function () {\n            return this.remote\n                .get('http://www.google.com')\n                .setFindTimeout(5000)\n                .findByCssSelector('[name=\"q\"]')\n                    .type('webdriver')\n                    .end()\n                .findByCssSelector('[name=\"btnG\"]')\n                    .click()\n                    .end()\n                .setFindTimeout(5000)\n                .findByCssSelector('#resultStats')\n                .getVisibleText()\n                .then(function (text) {\n                    console.log(text);\n                });\n        }\n    });\n});\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f BrowserStack \u3092\u4f7f\u3046\u8a2d\u5b9a\u3067\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u306e webdriver \u3092\u4f7f\u3046\u305f\u3081 NullTunnel \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\ntests/intern.js\ndefine({\n...\n    environments: [\n        { browserName: 'chrome', platform: 'MAC' }\n    ],\n...\n    //tunnel: 'BrowserStackTunnel',\n    tunnel: 'NullTunnel',\n...\n    //functionalSuites: [ /* 'myPackage/tests/functional' */ ],\n    functionalSuites: [ 'tests/functional/google' ],\n...\n});\n\n\n\u5b9f\u884c\n$ ./node_modules/.bin/intern-runner config=tests/intern\nListening on 0.0.0.0:9000\nTunnel started\n\u2023 Created session chrome on MAC (fd9b05d8-ad42-4b51-ac27-4ce898fc7a66)\n\u7d04 9,590,000 \u4ef6 \uff080.24 \u79d2\uff09  \n\u2713 chrome on MAC - intern - greeting form (1.851s)\nNo unit test coverage for chrome on MAC\nchrome on MAC: 0/1 tests failed\n\n\nTOTAL: tested 1 platforms, 0/1 tests failed\n\n\nProtractor\nAngularJS \u305f\u3081\u306e E2E \u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u304c\u3001\u5de5\u592b\u3092\u3059\u308c\u3070 AngularJS \u4ee5\u5916\u306e Web \u30a2\u30d7\u30ea\u3067\u3082\u4f7f\u3048\u307e\u3059\u3002assert \u306b\u306f Jasmine \u304c\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install --save-dev protractor\n\n\n\u30b3\u30fc\u30c9\nAngularJS \u3092\u5f85\u3064\u6a5f\u80fd\u3092\u7121\u52b9\u5316\u3057\u307e\u3059(browser.ignoreSynchronization = true)\u3002\nAngularJS \u4ee5\u5916\u306e Web \u30a2\u30d7\u30ea\u3067\u306f element() \u304c\u4f7f\u3048\u306a\u3044\u305f\u3081\u3001\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30b7\u30e5\u30ac\u30fc querySelector \u3092\u5b9a\u7fa9\u3057\u3066\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\ngetText() \u306f Promise \u3092\u8fd4\u3059\u306e\u3067\u3001then(callback) \u3067\u7d50\u679c\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\nprotractor.js:\nbrowser.ignoreSynchronization = true; // for non-angular web app\n\nfunction querySelector(selector) { // for non-angular web app\n    browser.wait(function () {\n        return browser.isElementPresent(by.css(selector));\n    }, 5000);\n    return browser.findElement(by.css(selector));\n}\n\ndescribe('protractor example', function() {\n    it('shows searched results count for webdriver', function() {\n        browser.get('http://www.google.co.jp');\n        querySelector('[name=\"q\"]').sendKeys('webdriver');\n        querySelector('[name=\"btnG\"]').click();\n        querySelector('#resultStats').getText().then(function (text) {\n            console.log(text);\n        });\n    });\n});\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\nexports.config = {\n    seleniumAddress: 'http://localhost:4444/wd/hub',\n    specs: ['protractor.js']\n};\n\n\n\u5b9f\u884c\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u6e21\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ protractor conf.js\nUsing the selenium server at http://localhost:4444/wd/hub\n[launcher] Running 1 instances of WebDriver\n\u7d04 323,000 \u4ef6 \uff080.24 \u79d2\uff09 \n.\n\nFinished in 1.897 seconds\n1 test, 0 assertions, 0 failures\n\n[launcher] 0 instance(s) of WebDriver still running\n[launcher] chrome #1 passed\n\n\n\u3069\u308c\u3092\u9078\u3076\u304b\n\u8abf\u3079\u308c\u3070\u8abf\u3079\u308b\u307b\u3069\u6c7a\u3081\u3089\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u306d\u30fb\u30fb\u30fb\u3002\u30b3\u30fc\u30c9\u3092 builder pattern (fluent interface) \u3067\u66f8\u3051\u308b\u3082\u306e\u3082\u591a\u304f\u3001\u9078\u629e\u306e\u6c7a\u3081\u624b\u306b\u306f\u3067\u3057\u3065\u3089\u3044\u3067\u3059\u3002\n\n\u30c1\u30fc\u30e0\u30e1\u30f3\u30d0\u30fc\u304c\u597d\u3080 assert \u304c\u4f7f\u3048\u308b\u304b (assert \u3092\u5909\u66f4\u3067\u304d\u308b\u304b) \uff1f\nPageObject \u30d1\u30bf\u30fc\u30f3\u3092\u9069\u7528\u3057\u3066\u30c6\u30b9\u30c8\u3092\u69cb\u9020\u5316\u3059\u308b\u304b\uff1f\nEnd-to-End (E2E) / Functional \u30c6\u30b9\u30c8\u3060\u3051\u3067\u306a\u304f\u3001Unit \u30c6\u30b9\u30c8\u3082\u7d71\u5408\u3059\u308b\u304b\uff1f\u30ab\u30d0\u30ec\u30c3\u30b8\u3082\u8a08\u7b97\u3059\u308b\u304b\uff1f\nSauseLabs,\u3000BrowserStack \u3068\u3044\u3063\u305f\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3046\u304b\uff1f\nCI \u3092\u3084\u308b\u304b\uff1f\n\n\u3068\u3044\u3063\u305f\u89b3\u70b9\u3082\u5fc5\u8981\u3067\u3057\u305f\u3002\n\n\u3044\u308d\u3044\u308d\u8abf\u3079\u305f\u3051\u308c\u3069\u3001\u307e\u3060\u6c7a\u3081\u3089\u308c\u306a\u3044\u306a\u30fc\u3001\u3068\u3044\u3046\u304a\u8a71\u3067\u3059\u3002\n\nWeb\u30a2\u30d7\u30ea\u304c\u6b63\u3057\u304f\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u3001Web\u30d6\u30e9\u30a6\u30b6\u30fc\u3092\u64cd\u4f5c\u3057\u3066\u78ba\u8a8d\u3059\u308b E2E (End-to-End) \u30c6\u30b9\u30c8\u3002\u30c6\u30b9\u30c8\u306e\u8a18\u8ff0\u306b\u306f\u69d8\u3005\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u304c\u4f7f\u3048\u307e\u3059\u3002\n\nSelenium WebDriver + JavaScript \u3067 E2E \u30c6\u30b9\u30c8\u3092\u3059\u308b\u3084\u308a\u65b9\u304c\n\n<a href=\"http://code.tutsplus.com/tutorials/an-introduction-to-webdriver-using-the-javascript-bindings--cms-21855\" target=\"_blank\">An Introduction to WebDriver Using the JavaScript Bindings - Tuts+ Code Tutorial</a>\n\n\u3067\u7d39\u4ecb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u306f\u3001\u57fa\u672c\u3068\u306a\u308b <a href=\"https://code.google.com/p/selenium/wiki/WebDriverJs\" target=\"_blank\">WebDriverJS</a> \u4ee5\u5916\u306b\u30017\u3064\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8API\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u3092\u7d39\u4ecb\u3057\u3066\u3044\u307e\u3059\u3002\u3069\u308c\u3082 github \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u305f\u306e\u3067\u3001\u30b9\u30bf\u30fc\u6570\u3092\u8abf\u3079\u3066\u307f\u307e\u3057\u305f (2014/12/07\u6642\u70b9\u30682015/09/12\u6642\u70b9)\u3002\u307e\u305f <a target=\"_blank\" href=\"https://github.com/theintern/intern\">Intern</a> \u3068 <a target=\"_blank\" href=\"https://github.com/angular/protractor\">Protractor</a> \u306b\u3064\u3044\u3066\u3082\u8abf\u3079\u307e\u3057\u305f\u3002\n\n| Client API | \u30b9\u30bf\u30fc\u6570 2014/12 | \u30b9\u30bf\u30fc\u6570 2015/09 | \u6700\u65b0\u30b9\u30bf\u30fc\u6570 | \u88dc\u8db3 |\n|---|---|---|---|---|\n| <a href=\"https://github.com/SeleniumHQ/selenium/wiki/WebDriverJs\">WebDriverJS</a> | N/A | N/A | [![GitHub stars](https://img.shields.io/github/stars/SeleniumHQ/selenium.svg?label=\u2605)]() | <a href=\"//dvcs.w3.org/hg/webdriver/raw-file/default/webdriver-spec.html\" target=\"_blank\">W3C\u3067\u6a19\u6e96\u5316\u3057\u3066\u3044\u308bAPI</a>\u3067\u66f8\u304f\u3002Java\u3067Selenium\u52d5\u304b\u3057\u3066\u3044\u305f\u4eba\u5411\u3051\u3002| \n| <a href=\"https://github.com/admc/wd\" target=\"_blank\">WD.js</a> | 658 | 845 | [![GitHub stars](https://img.shields.io/github/stars/admc/wd.svg?label=\u2605)]() | |\n| <a href=\"https://github.com/webdriverio/webdriverio/\" target=\"_blank\">WebDriver.io</a> | 661 | 1,132 | [![GitHub stars](https://img.shields.io/github/stars/webdriverio/webdriverio.svg?label=\u2605)]() | WD.js\u3088\u308a\u77ed\u304f\u66f8\u3051\u308b\u3002 |\n| <a href=\"https://github.com/groupon-testium/testium\" target=\"_blank\">Testium</a> | 203 | 263 | [![GitHub stars](https://img.shields.io/github/stars/groupon-testium/testium.svg?label=\u2605)]() | CoffeeScript \u3067\u66f8\u304f\u3002|\n| <a href=\"https://github.com/theintern/leadfoot\" target=\"_blank\">Leadfoot</a> | 63 | 107 | [![GitHub stars](https://img.shields.io/github/stars/theintern/leadfoot.svg?label=\u2605)]() | <a href=\"http://theintern.io/\" target=\"_blank\">Intern</a>\u3067\u4f7f\u308f\u308c\u3066\u308b\u3002WD.js\u3068\u4f3c\u305fAPI\u3002|\n| <a href=\"https://github.com/beatfactor/nightwatch/\" target=\"_blank\">Nightwatch</a> | 2,386 | 3,221 | [![GitHub stars](https://img.shields.io/github/stars/beatfactor/nightwatch.svg?label=\u2605)]() | CI\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u30c6\u30b9\u30c8\u306e\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u9023\u643a\u3002 |\n| <a href=\"https://github.com/dalekjs/dalek\" target=\"_blank\">DalekJS</a> | 481 | 600 | [![GitHub stars](https://img.shields.io/github/stars/dalekjs/dalek.svg?label=\u2605)]() | Selenium Server \u307e\u3067\u5165\u3063\u305f\u5168\u90e8\u5165\u308a\u3002Web\u30b5\u30a4\u30c8\u304c\u6d3e\u624bw\u3002|\n| <a href=\"https://github.com/jsdevel/webdriver-sync\" target=\"_blank\">Webdriver-sync</a> | 36 | 71 | [![GitHub stars](https://img.shields.io/github/stars/jsdevel/webdriver-sync.svg?label=\u2605)]() | Java API\u306b\u6e96\u62e0\u3002\u540c\u671f\u578b\u3002|\n| <a target=\"_blank\" href=\"https://github.com/theintern/intern\">Intern</a> | \u672a\u8a08\u6e2c | 3,006 | [![GitHub stars](https://img.shields.io/github/stars/theintern/intern.svg?label=\u2605)]() | \u5168\u90e8\u5165\u308a\u3002\u5358\u4f53\u30c6\u30b9\u30c8\uff08\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\uff09\u3001CI\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u30c6\u30b9\u30c8\u306e\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u9023\u643a\u3002 |\n| <a target=\"_blank\" href=\"https://github.com/angular/protractor\">Protractor</a> | \u672a\u8a08\u6e2c | 4,355 | [![GitHub stars](https://img.shields.io/github/stars/angular/protractor.svg?label=\u2605)]() | <a href=\"https://angularjs.org/\">AngularJS</a> \u305f\u3081\u306eE2E\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3060\u304c AngularJS \u4ee5\u5916\u306b\u3082\u4f7f\u3048\u308b\u3002 |\n\u3055\u3089\u306b\u3001WebdriverJS, WD.js, WebdriverIO, Nightwatch, Dalek, Intern, Protractor \u306e7\u3064\u306b\u3064\u3044\u3066\u3001\u5b9f\u969b\u306b\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u304a\u984c\u306f\u300cGoogle\u3067\"webdriver\"\u3092\u691c\u7d22\u3057\u305f\u6642\u306e\u30d2\u30c3\u30c8\u6570\u3092\u6a19\u6e96\u51fa\u529b\u306b\u8868\u793a\u3059\u308b\u300d\u3067\u3059\u3002assert \u306f\u4f7f\u3044\u307e\u305b\u3093\u3002\n\n# \u5171\u901a\u306e\u4e8b\u524d\u6e96\u5099\n\nMac \u3092\u4f7f\u3044\u307e\u3059\u3002Web \u30d6\u30e9\u30a6\u30b6\u30fc\u306f Chrome \u3067\u3059\u3002\nHomebrew \u3068 Cask \u3067 node.js \u3068 java \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash\n$ ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n$ brew install node\n$ brew brew install brew-cask\n$ brew cask install java\n```\n\n\u3055\u3089\u306b webdriver-manager \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002webdriver-manager update \u30b3\u30de\u30f3\u30c9\u3067 selenium-server, chrome-driver \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash\n$ npm install -g webdriver-manager\n$ webdriver-manager update\n```\n\n\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u524d\u306b\u3001Selenium Server \u3092\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001Dalek \u306e\u5834\u5408\u306f\u4e0d\u8981\u3067\u3059\u3002\n\n```bash\n$ webdriver-manager start\n```\n\n# WebDriverJS\n\nAPI\u306f\u3053\u3061\u3089\u3002\u8c4a\u5bcc\u3067\u3059\u3002\nhttp://selenium.googlecode.com/git/docs/api/javascript/index.html\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ npm install selenium-webdriver\n```\n\n### \u30b3\u30fc\u30c9\nwebdriverjs.js:\n\n```javascript\nvar webdriver = require('selenium-webdriver');\nvar By = webdriver.By;\n\n//Web\u30d6\u30e9\u30a6\u30b6\u30fc\u306fChrome\nvar driver = new webdriver.Builder().\n   withCapabilities(webdriver.Capabilities.chrome()).\n   build();\nvar $ = driver.findElement.bind(driver);\n\n//Google\u3092\u958b\u304f\u3002\ndriver.get('http://www.google.com');\n\n//\u691c\u7d22\u30dc\u30c3\u30af\u30b9\u306bwebdriver\u3068\u5165\u529b\u3059\u308b\u3002\n$(By.name('q')).sendKeys('webdriver');\n\n//\u691c\u7d22\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3002\n$(By.name('btnG')).click();\n\n//\u30d2\u30c3\u30c8\u6570\u304c\u8868\u793a\u3055\u308c\u308b\u307e\u3067\u5f85\u3064\u3002\nvar timeoutMSec = 2000;\ndriver.wait(webdriver.until.elementLocated(By.id('resultStats')), timeoutMSec)\n.then(function() { //wait\u3057\u305f\u5f8c\u306fthen\u3067\u3064\u306a\u3050\n    $(By.id('resultStats')).getText().then(function(text) {\n        console.log(text);\n    });\n})\n.then(function() {\n    driver.quit();\n});\n```\n\n### \u5b9f\u884c\n\n```bash\n$ node webdriverjs.js \n\u7d04 615,000 \u4ef6 \uff080.11 \u79d2\uff09 \n```\n# WD.js\nsendKeys() \u306a\u3069 WebDriverJS \u306e\u540d\u6b8b\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001waitForElementByCss()\u306a\u3069\u3001API\u304c\u82e5\u5e72\u9577\u3081\u3067\u3059\u3002\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ npm install --save-dev wd\n```\n\n### \u30b3\u30fc\u30c9\n\nwd.js:\n\n```javascript\nvar wd = require('wd');\nvar browser = wd.promiseChainRemote();\nvar timeoutMSec = 1000;\nbrowser\n    .init({\n        browserName: 'chrome'\n    })\n    .get('http://www.google.com')\n    .elementByName('q')\n    .sendKeys('webdriver')\n    .elementByName('btnG')\n    .click()\n    .waitForElementByCss('#resultStats', timeoutMSec)\n    .text(function(err, text) {\n        console.log(text);\n    })\n    .quit();\n```\n\n### \u5b9f\u884c\n\n```bash\n$ node wd.js\n\u7d04 615,000 \u4ef6 \uff080.12 \u79d2\uff09\n```\n\n# Webdriver.io\n\n\u4eca\u56de\u8a66\u3057\u305f\u4e2d\u3067\u306f\u3001API \u540d\u304c\u77ed\u304f\u3066\u597d\u304d\u3067\u3059\u3002\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ npm install --save-dev webdriverio\n```\n\n### \u30b3\u30fc\u30c9\nwebdriverio.js:\n\n```javascript\nvar timeoutMSec = 1000;\nvar webdriverio = require('webdriverio')\n    .remote({\n        desiredCapabilities: {\n            browserName: 'chrome'\n        }\n    })\n    .init()\n    .url('http://www.google.com')\n    .setValue('[name=\"q\"]', 'webdriver')\n    .click('[name=\"btnG\"]')\n    .waitForExist('#resultStats', timeoutMSec)\n    .getText('#resultStats', function(err, text) {\n        console.log(text);\n    })\n    .end();\n```\n\n### \u5b9f\u884c\n\n```bash\n$ node webdriverio.js \n\u7d04 615,000 \u4ef6 \uff080.12 \u79d2\uff09 \n```\n# Nightwatch\n\nrunner \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3059\u308b\u306e\u3067\u3001\u51fa\u529b\u304c\u7dba\u9e97\u3067\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d6\u30e9\u30a6\u30b6\u30fc\u304c Firefox \u3067\u3001Chrome \u3092\u4f7f\u3046\u305f\u3081\u306b\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ npm install --save-dev nightwatch\n```\n\n### \u30b3\u30fc\u30c9\n\nnightwatch.json:\n\n```json\n{\n  \"test_settings\" : {\n    \"default\" : {\n      \"silent\": true,\n      \"desiredCapabilities\": {\n        \"browserName\": \"chrome\"\n      }\n    }\n  }\n}\n```\n\nnightwatch.js:\n\n```javascript\nmodule.exports = {\n  \"webdriver\u306e\u691c\u7d22\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b\" : function (browser) {\n    var timeoutMSec = 1000;\n    browser\n      .url(\"http://www.google.com\")\n      .setValue('[name=\"q\"]', 'webdriver')\n      .click('[name=\"btnG\"]')\n      .waitForElementPresent('#resultStats', timeoutMSec)\n      .getText('#resultStats', function(res) {\n          console.log(res.value);\n      })\n      .end();\n  }\n};\n```\n\n### \u5b9f\u884c\n\n```bash\n$ ./node_modules/.bin/nightwatch -t nightwatch.js \n\n[Nightwatch] Test Suite\n=======================\n\nRunning:  webdriver\u306e\u691c\u7d22\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b \n\n\u2714  Element <#resultStats> was present after 1038 milliseconds.\n\u7d04 615,000 \u4ef6 \uff080.14 \u79d2\uff09 \n\nOK. 1 total assertions passed. (11.812s)\n```\n\n# DalekJS\n\nSelenium server \u3092\u52d5\u304b\u3059\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$npm install --save-dev dalek-cli dalekjs dalek-browser-chrome \n```\n\n### \u30b3\u30fc\u30c9\nwaitForElement\u304c\u52d5\u4f5c\u3057\u306a\u3044\u306e\u3067\u3001waitFor\u3092\u4f7f\u3044\u307e\u3057\u305f(<a href=\"https://github.com/dalekjs/dalek/issues/22\" target=\"_blank\">github</a>)\u3002\n\u6a19\u6e96\u51fa\u529b\u3078\u306e\u8868\u793a\u306fexecute()\u3068log.message()\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3044\u307e\u3059\u3002\n\ndalek.js:\n\n```js\nmodule.exports = {\n  'webdriver\u306e\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b': function (test) {\n    var timeoutMSec = 10000;\n    test\n      .open(\"http://www.google.com\")\n      .setValue('[name=\"q\"]', 'webdriver')\n      .click('[name=\"btnG\"]')\n      //.waitForElement('#resultStats', timeoutMSec)\n      .waitFor(function() {\n        return Boolean(document.querySelector('#resultStats'));\n      }, [], timeoutMSec)\n      .execute(function() {\n        var result = document.querySelector('#resultStats').innerText;\n        this.data('result', result);\n      })\n      .log.message(function() {\n        return test.data('result');\n      })\n      .done();\n  }\n};\n```\n\n### \u5b9f\u884c\n\n\u5f15\u6570 -b chrome \u3092\u4e0e\u3048\u3066 Chrome \u3067\u52d5\u304b\u3057\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30d8\u30c3\u30c9\u30ec\u30b9\u30d6\u30e9\u30a6\u30b6\u30fc\u306e PhantomJS \u3067\u52d5\u304b\u3057\u307e\u3059\u3002\n\n```bash\n$ ./node_modules/.bin/dalek dalek.js -b chrome\nRunning tests\nRunning Browser: Google Chrome\nOS: Mac OS X 10.10.1 x86_64\nBrowser Version: 39.0.2171.71\n\nRUNNING TEST - \"webdriver\u306e\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b\"\n\u25b6 OPEN http://www.google.com\n\u25b6 SETVALUE [name=\"q\"]\n\u25b6 CLICK [name=\"btnG\"]\n\u25b6 WAITFOR \n\u25b6 EXECUTE \n\u2601 [USER] MESSAGE: \u7d04 615,000 \u4ef6 \uff080.38 \u79d2\uff09\u00a0\n\u2714 0 Assertions run\n\u2714 TEST - \"webdriver\u306e\u30d2\u30c3\u30c8\u6570\u3092\u8868\u793a\u3059\u308b\" SUCCEEDED\n\n 0/0 assertions passed. Elapsed Time: 4.44 sec \n```\n# intern\n\n\u5168\u90e8\u5165\u308a\u3067\u3059\u3002\u5358\u4f53\u30c6\u30b9\u30c8\uff08\u30b3\u30fc\u30c9\u30ab\u30d0\u30ec\u30c3\u30b8\uff09\u3001CI\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u30c6\u30b9\u30c8\u306e\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9 <a href=\"https://saucelabs.com/\" target=\"_blank\">Sauce Labs</a>, <a href=\"https://www.browserstack.com/\" target=\"_blank\">BrowserStack</a> \u3068\u306e\u9023\u643a\u306a\u3069\u3002\n\n\u53c2\u8003: <a href=\"https://github.com/theintern/intern/issues/232\" target=\"_blank\">Can you add Nightwatch.js to the compare section?</a>\n\n\n\nNightwatch \u3068\u306e\u6bd4\u8f03\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\n$ npm install --save-dev intern\n$ mkdir tests\n$ cp node_modules/intern/tests/example.intern.js tests/intern.js\n$ ./node_modules/.bin/intern-client config=tests/intern\n0/0 tests failed\n\n```\n\n### \u30b3\u30fc\u30c9\n\n```bash\n$ mkdir tests/functional\n```\n\ntests/functional/google.js:\n\n```js\ndefine(function (require) {\n    var registerSuite = require('intern!object');\n    var assert = require('intern/chai!assert');\n\n    registerSuite({\n        name: 'intern',\n        'greeting form': function () {\n            return this.remote\n                .get('http://www.google.com')\n                .setFindTimeout(5000)\n                .findByCssSelector('[name=\"q\"]')\n                    .type('webdriver')\n                    .end()\n                .findByCssSelector('[name=\"btnG\"]')\n                    .click()\n                    .end()\n                .setFindTimeout(5000)\n                .findByCssSelector('#resultStats')\n                .getVisibleText()\n                .then(function (text) {\n                    console.log(text);\n                });\n        }\n    });\n});\n```\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f <a href=\"https://www.browserstack.com/\" target=\"_blank\">BrowserStack</a> \u3092\u4f7f\u3046\u8a2d\u5b9a\u3067\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u306e webdriver \u3092\u4f7f\u3046\u305f\u3081 NullTunnel \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\ntests/intern.js\n\n```js\ndefine({\n...\n\tenvironments: [\n\t\t{ browserName: 'chrome', platform: 'MAC' }\n\t],\n...\n\t//tunnel: 'BrowserStackTunnel',\n\ttunnel: 'NullTunnel',\n...\n\t//functionalSuites: [ /* 'myPackage/tests/functional' */ ],\n\tfunctionalSuites: [ 'tests/functional/google' ],\n...\n});\n```\n\n### \u5b9f\u884c\n```bash\n$ ./node_modules/.bin/intern-runner config=tests/intern\nListening on 0.0.0.0:9000\nTunnel started\n\u2023 Created session chrome on MAC (fd9b05d8-ad42-4b51-ac27-4ce898fc7a66)\n\u7d04 9,590,000 \u4ef6 \uff080.24 \u79d2\uff09  \n\u2713 chrome on MAC - intern - greeting form (1.851s)\nNo unit test coverage for chrome on MAC\nchrome on MAC: 0/1 tests failed\n\n\nTOTAL: tested 1 platforms, 0/1 tests failed\n```\n\n# Protractor\n\n<a href=\"https://angularjs.org/\">AngularJS</a> \u305f\u3081\u306e E2E \u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u304c\u3001\u5de5\u592b\u3092\u3059\u308c\u3070 AngularJS \u4ee5\u5916\u306e Web \u30a2\u30d7\u30ea\u3067\u3082\u4f7f\u3048\u307e\u3059\u3002assert \u306b\u306f Jasmine \u304c\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\n$ npm install --save-dev protractor\n```\n\n### \u30b3\u30fc\u30c9\n\nAngularJS \u3092\u5f85\u3064\u6a5f\u80fd\u3092\u7121\u52b9\u5316\u3057\u307e\u3059(browser.ignoreSynchronization = true)\u3002\n\nAngularJS \u4ee5\u5916\u306e Web \u30a2\u30d7\u30ea\u3067\u306f element() \u304c\u4f7f\u3048\u306a\u3044\u305f\u3081\u3001\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30b7\u30e5\u30ac\u30fc querySelector \u3092\u5b9a\u7fa9\u3057\u3066\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\ngetText() \u306f Promise \u3092\u8fd4\u3059\u306e\u3067\u3001then(callback) \u3067\u7d50\u679c\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\nprotractor.js:\n\n```js\nbrowser.ignoreSynchronization = true; // for non-angular web app\n\nfunction querySelector(selector) { // for non-angular web app\n    browser.wait(function () {\n        return browser.isElementPresent(by.css(selector));\n    }, 5000);\n    return browser.findElement(by.css(selector));\n}\n\ndescribe('protractor example', function() {\n    it('shows searched results count for webdriver', function() {\n        browser.get('http://www.google.co.jp');\n        querySelector('[name=\"q\"]').sendKeys('webdriver');\n        querySelector('[name=\"btnG\"]').click();\n        querySelector('#resultStats').getText().then(function (text) {\n            console.log(text);\n        });\n    });\n});\n```\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n```js\nexports.config = {\n    seleniumAddress: 'http://localhost:4444/wd/hub',\n    specs: ['protractor.js']\n};\n```\n\n### \u5b9f\u884c\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u6e21\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```bash\n$ protractor conf.js\nUsing the selenium server at http://localhost:4444/wd/hub\n[launcher] Running 1 instances of WebDriver\n\u7d04 323,000 \u4ef6 \uff080.24 \u79d2\uff09 \n.\n\nFinished in 1.897 seconds\n1 test, 0 assertions, 0 failures\n\n[launcher] 0 instance(s) of WebDriver still running\n[launcher] chrome #1 passed\n```\n\n# \u3069\u308c\u3092\u9078\u3076\u304b\n\n\u8abf\u3079\u308c\u3070\u8abf\u3079\u308b\u307b\u3069\u6c7a\u3081\u3089\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u306d\u30fb\u30fb\u30fb\u3002\u30b3\u30fc\u30c9\u3092 builder pattern (fluent interface) \u3067\u66f8\u3051\u308b\u3082\u306e\u3082\u591a\u304f\u3001\u9078\u629e\u306e\u6c7a\u3081\u624b\u306b\u306f\u3067\u3057\u3065\u3089\u3044\u3067\u3059\u3002\n\n  - \u30c1\u30fc\u30e0\u30e1\u30f3\u30d0\u30fc\u304c\u597d\u3080 assert \u304c\u4f7f\u3048\u308b\u304b (assert \u3092\u5909\u66f4\u3067\u304d\u308b\u304b) \uff1f\n  - PageObject \u30d1\u30bf\u30fc\u30f3\u3092\u9069\u7528\u3057\u3066\u30c6\u30b9\u30c8\u3092\u69cb\u9020\u5316\u3059\u308b\u304b\uff1f\n  - End-to-End (E2E) / Functional \u30c6\u30b9\u30c8\u3060\u3051\u3067\u306a\u304f\u3001Unit \u30c6\u30b9\u30c8\u3082\u7d71\u5408\u3059\u308b\u304b\uff1f\u30ab\u30d0\u30ec\u30c3\u30b8\u3082\u8a08\u7b97\u3059\u308b\u304b\uff1f\n  - SauseLabs,\u3000BrowserStack \u3068\u3044\u3063\u305f\u30af\u30e9\u30a6\u30c9\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3046\u304b\uff1f\n  - CI \u3092\u3084\u308b\u304b\uff1f\n\n\u3068\u3044\u3063\u305f\u89b3\u70b9\u3082\u5fc5\u8981\u3067\u3057\u305f\u3002\n"}