{"context": " More than 1 year has passed since last update.\n\nTL;DR\n\napline\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066ruby\u3092docker build\u3092\u3057\u3066\u307f\u305f\nruby\u306fpackage\u304b\u3089\u3067\u306f\u306a\u304f\u72ec\u81eacompile\u3057\u3066build\n\n\nDockerfile\nFROM alpine\n\nENV HOME     /root\n\nWORKDIR /tmp\n\n# SETUP: package install\nRUN apk add --no-cache --virtual .ruby-builddeps \\\n    autoconf \\\n    bison \\\n    bzip2 \\\n    bzip2-dev \\\n    ca-certificates \\\n    coreutils \\\n    curl \\\n    gcc \\\n    g++ \\\n    make \\\n    gdbm-dev \\\n    glib-dev \\\n    libc-dev \\\n    libedit-dev \\\n    libffi-dev \\\n    libxml2-dev \\\n    libxslt-dev \\\n    linux-headers \\\n    cyrus-sasl-dev \\\n    ncurses-dev \\\n    openssl-dev \\\n    procps \\\n    tcl-dev \\\n    yaml-dev \\\n    zlib-dev \\\n    tar \\\n    perl \\\n    python \\\n    py-pip \\\n    libmemcached-libs \\\n    mariadb mariadb-client mariadb-libs mariadb-dev\n\n# SETUP: ruby & bundler\nENV RUBY_MAJOUR_VER  2.3\nENV RUBY_VERSION     2.3.0\n\nRUN wget -q \"http://cache.ruby-lang.org/pub/ruby/${RUBY_MAJOUR_VER}/ruby-${RUBY_VERSION}.tar.gz\" -O ruby-${RUBY_VERSION}.tar.gz && \\\n    tar zxf ruby-${RUBY_VERSION}.tar.gz && \\\n    cd ruby-${RUBY_VERSION} && \\\n    ./configure --disable-install-doc --disable-install-rdoc && make && make install && \\\n    cd .. && \\\n    rm -rf /tmp/* && \\\n    echo \"install: --no-document\" > $HOME/.gemrc && \\\n    echo \"update: --no-document\" >> $HOME/.gemrc && \\\n    gem install bundler\n\n\nVIRTUAL SIZE : 773.3 MB\n\n\npackage\n\n\nhttps://pkgs.alpinelinux.org/packages \u3067\u691c\u7d22\u3067\u304d\u308b\n\n\n\u90e8\u5206\u4e00\u81f4\u3067\u691c\u7d22\u3059\u308b\u306b\u306f % \u306ewildcard\u6587\u5b57\u304c\u5fc5\u8981\n\n\nCentOS,Ubuntu\u3068\u306f\u5fae\u5999\u306bpackage\u540d\u304c\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\n\n\nxxx-dev \u306a\u3069\u306b\u306a\u3063\u3066\u3044\u308b\n\n\n\u305d\u308c\u306a\u308a\u306b\u65b0\u3057\u3081version\u306epackage\u306b\u306a\u3063\u3066\u3044\u308b\n\n\n\u72ec\u81eacompile\u3057\u306a\u3044\u5834\u5408\nFROM alpine\nRUN apk add --no-cache ruby ruby-bundler\n\n\nruby\u306e\u307f\u3092build\n\nruby\u306fversion2.2.4\u304cbuild\u3055\u308c\u307e\u3059\n\nhttps://pkgs.alpinelinux.org/package/main/x86_64/ruby\n\n\nVIRTUAL SIZE : 20.58 MB\n\n\n\u611f\u60f3\n\n\u8efd\u91cf\u306aalpinelinux\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u3082\u3001\u8af8\u3005\u7d44\u307f\u8fbc\u3093\u3067\u3044\u304f\u3068\u3001\u305d\u308c\u306a\u308a\u306e\u30b5\u30a4\u30ba\u306eimage\u306b\u306a\u3063\u3066\u3057\u307e\u3046\n\u3082\u3061\u308d\u3093\u4e0d\u8981\u306apackage\u3092\u53d6\u308a\u9664\u3044\u3066\u3044\u3051\u3070\u5c0f\u3055\u304f\u306a\u308b\n\n# TL;DR\n- apline\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066ruby\u3092docker build\u3092\u3057\u3066\u307f\u305f\n- ruby\u306fpackage\u304b\u3089\u3067\u306f\u306a\u304f\u72ec\u81eacompile\u3057\u3066build\n\n# Dockerfile\n\n```Dockerfile\nFROM alpine\n\nENV HOME     /root\n\nWORKDIR /tmp\n\n# SETUP: package install\nRUN apk add --no-cache --virtual .ruby-builddeps \\\n    autoconf \\\n    bison \\\n    bzip2 \\\n    bzip2-dev \\\n    ca-certificates \\\n    coreutils \\\n    curl \\\n    gcc \\\n    g++ \\\n    make \\\n    gdbm-dev \\\n    glib-dev \\\n    libc-dev \\\n    libedit-dev \\\n    libffi-dev \\\n    libxml2-dev \\\n    libxslt-dev \\\n    linux-headers \\\n    cyrus-sasl-dev \\\n    ncurses-dev \\\n    openssl-dev \\\n    procps \\\n    tcl-dev \\\n    yaml-dev \\\n    zlib-dev \\\n    tar \\\n    perl \\\n    python \\\n    py-pip \\\n    libmemcached-libs \\\n    mariadb mariadb-client mariadb-libs mariadb-dev\n\n# SETUP: ruby & bundler\nENV RUBY_MAJOUR_VER  2.3\nENV RUBY_VERSION     2.3.0\n\nRUN wget -q \"http://cache.ruby-lang.org/pub/ruby/${RUBY_MAJOUR_VER}/ruby-${RUBY_VERSION}.tar.gz\" -O ruby-${RUBY_VERSION}.tar.gz && \\\n    tar zxf ruby-${RUBY_VERSION}.tar.gz && \\\n    cd ruby-${RUBY_VERSION} && \\\n    ./configure --disable-install-doc --disable-install-rdoc && make && make install && \\\n    cd .. && \\\n    rm -rf /tmp/* && \\\n    echo \"install: --no-document\" > $HOME/.gemrc && \\\n    echo \"update: --no-document\" >> $HOME/.gemrc && \\\n    gem install bundler\n```\n\n- VIRTUAL SIZE : 773.3 MB\n\n\n# package\n- https://pkgs.alpinelinux.org/packages \u3067\u691c\u7d22\u3067\u304d\u308b\n    - \u90e8\u5206\u4e00\u81f4\u3067\u691c\u7d22\u3059\u308b\u306b\u306f % \u306ewildcard\u6587\u5b57\u304c\u5fc5\u8981\n- CentOS,Ubuntu\u3068\u306f\u5fae\u5999\u306bpackage\u540d\u304c\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\n    - xxx-dev \u306a\u3069\u306b\u306a\u3063\u3066\u3044\u308b\n- \u305d\u308c\u306a\u308a\u306b\u65b0\u3057\u3081version\u306epackage\u306b\u306a\u3063\u3066\u3044\u308b\n\n# \u72ec\u81eacompile\u3057\u306a\u3044\u5834\u5408\n\n```Dockerfile\nFROM alpine\nRUN apk add --no-cache ruby ruby-bundler\n```\n\n- ruby\u306e\u307f\u3092build\n- ruby\u306fversion2.2.4\u304cbuild\u3055\u308c\u307e\u3059\n    - https://pkgs.alpinelinux.org/package/main/x86_64/ruby\n    \n- VIRTUAL SIZE : 20.58 MB\n\n# \u611f\u60f3\n- \u8efd\u91cf\u306aalpinelinux\u3092\u30d9\u30fc\u30b9\u306b\u3057\u3066\u3082\u3001\u8af8\u3005\u7d44\u307f\u8fbc\u3093\u3067\u3044\u304f\u3068\u3001\u305d\u308c\u306a\u308a\u306e\u30b5\u30a4\u30ba\u306eimage\u306b\u306a\u3063\u3066\u3057\u307e\u3046\n- \u3082\u3061\u308d\u3093\u4e0d\u8981\u306apackage\u3092\u53d6\u308a\u9664\u3044\u3066\u3044\u3051\u3070\u5c0f\u3055\u304f\u306a\u308b\n", "tags": ["docker", "alpine", "Ruby"]}