{"context": "\u6628\u65e5\u306eIoTLT\u3067\u8a71\u3092\u3057\u305f\u30cd\u30bf\u306e\u4e2d\u306b\u51fa\u3066\u304d\u305fAPI\u3092\u4f7f\u3046\u3068\u304d\u306b\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u7d39\u4ecb\u3067\u3059\u3002\n\n\u30b9\u30e9\u30a4\u30c9\u306f\u3053\u3061\u3089\u3067\u3059\n\u3061\u306a\u307f\u306bNode.js\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f6.3.1\u3067\u3059\u3002\n\npokemon-go-node-api\n\u8abf\u3079\u305f\u3089\u8272\u3005\u3068\u3042\u3063\u305f\u306e\u3067\u3069\u308c\u3092\u4f7f\u3046\u304b\u306f\u304a\u4efb\u305b\u306a\u306e\u3067\u3059\u304c\u3001\u50d5\u304c\u4f7f\u3063\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u8fd1\u304f\u3067\u30dd\u30b1\u30e2\u30f3\u304c\u51fa\u305f\u3089\u4f55\u304b\u3059\u308b\u307f\u305f\u3044\u306a\u3053\u3068\u304c\u3084\u308a\u3084\u3059\u304b\u3063\u305f\u306e\u3067\u7d39\u4ecb\u3057\u307e\u3059\u3002\npokemon-go-node-api\n\n\u4f7f\u3063\u3066\u307f\u308b\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nnpm install pokemon-go-node-api\n\n\u307b\u307c\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\u304c\u4ee5\u4e0b\u3067\u52d5\u304d\u307e\u3059\u3002\nGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u3067Pokemon Go\u3092\u59cb\u3081\u305f\u5834\u5408\u306fusername\u3068password\u306b\u305d\u308c\u305e\u308cGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30e1\u30a2\u30c9\u3068\u30d1\u30b9\u3092\u3044\u308c\u307e\u3059\u3002\n\u3042\u308a\u304c\u3061\u306a\u306e\u304c(\u3068\u3044\u3046\u304b\u50d5\u304c\u305d\u3046\u3067\u3057\u305f)\u3001\u305d\u3082\u305d\u3082Pokemon Go\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u4f7f\u3063\u305f\u306e\u304b\u3069\u3046\u304b\u5fd8\u308c\u3066\u308b\u3053\u3068\u3067\u3059\u306d\u82e6\u7b11 \u304c\u3093\u3070\u3063\u3066\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u7b11\n\napp.js\n'use strict';\n\nconst PokemonGO = require('pokemon-go-node-api');\n\n// using var so you can login with multiple users\nlet a = new PokemonGO.Pokeio();\n\n//Set environment variables or replace placeholder text\nlet location = {\n    type: 'name',\n    name: 'Tokyo/Taito-ku' //\u6771\u4eac\u90fd\u53f0\u6771\u533a\n};\n\nlet username = '\u767b\u9332\u3057\u305fGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9';\nlet password = '\u767b\u9332\u3057\u305fGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9';\nlet provider = 'google';\n\na.init(username, password, location, provider, (err) => {\n    if (err) throw err;\n\n    console.log('1[i] Current location: ' + a.playerInfo.locationName);\n    console.log('1[i] lat/long/alt: : ' + a.playerInfo.latitude + ' ' + a.playerInfo.longitude + ' ' + a.playerInfo.altitude);\n\n    a.GetProfile((err, profile) => {\n        if (err) throw err;\n\n        console.log('1[i] Username: ' + profile.username);\n        console.log('1[i] Poke Storage: ' + profile.poke_storage);\n        console.log('1[i] Item Storage: ' + profile.item_storage);\n\n        let poke = 0;\n        if (profile.currency[0].amount) {\n            poke = profile.currency[0].amount;\n        }\n\n        console.log('1[i] Pokecoin: ' + poke);\n        console.log('1[i] Stardust: ' + profile.currency[1].amount);\n\n        setInterval(() => {\n            a.Heartbeat((err,hb)=>{\n                if(err) {\n                    console.log(err);\n                }\n\n                let texts = '';\n                for (var i = hb.cells.length - 1; i >= 0; i--) {\n                    if(hb.cells[i].NearbyPokemon[0]) {\n                        //console.log(a.pokemonlist[0])\n                        let pokemon = a.pokemonlist[parseInt(hb.cells[i].NearbyPokemon[0].PokedexNumber)-1];\n                        console.log('1[+] There is a ' + pokemon.name + ' near.');\n                        //\u3053\u306e\u8fba\u306bWebhook\u3068\u304b\u565b\u307e\u305b\u308c\u3070Slack\u901a\u77e5\u3068\u304b\u3082\u4f59\u88d5\u3067\u3059\u306d\u3002\n                    }\n                }\n            });\n        }, 5000);\n\n    });\n});\n\n\n\n\u5b9f\u884c\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\n\nPinsir\u3068\u3044\u3046\u306e\u306f\u30ab\u30a4\u30ed\u30b9\u306e\u3053\u3068\u306a\u3093\u3067\u3059\u3051\u3069\u3001\u30ab\u30a4\u30ed\u30b9\u304c\u8fd1\u304f\u306b\u51fa\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u7c21\u5358\u3067\u3059\u306d\uff01\n\n\u65e5\u672c\u8a9e\u3063\u307d\u304f\n\u65e5\u672c\u8a9e\u3067\u3084\u308a\u305f\u3044\u3067\u3059\u3088\u306d\u3002\n\n\u4f4d\u7f6e\u60c5\u5831\u306e\u6307\u5b9a\n\nlet location = {\n    type: 'name',\n    name: 'Tokyo/Taito-ku' //\u6771\u4eac\u90fd\u53f0\u6771\u533a\n};\n\n\u306e\u7b87\u6240\u3067\u3084\u3063\u3066\u307e\u3059\u3002Tokyo/Taito-ku\u3068\u66f8\u3044\u3066\u3044\u308b\u90e8\u5206\u306fGoogleMap\u306eAPI\u306b\u6295\u3052\u3066\u3044\u308b\u307f\u305f\u3044\u306a\u306e\u3067\u305d\u308c\u3063\u307d\u3044\u66f8\u304d\u65b9\u3092\u3059\u308c\u3070\u3060\u3044\u305f\u3044\u3046\u307e\u304f\u3044\u304d\u307e\u3059\u3002\n1[i] Current location: \u6771\u4eac\u90fd\u53f0\u6771\u533a\u6771\u4e0a\u91ce2-17-8 \u5171\u540c\u30d3\u30eb3F //dotstudio\u4f4f\u6240\n1[i] lat/long/alt: : 35.70951 139.7767348 0\n\n\n\u30dd\u30b1\u30e2\u30f3\u306e\u540d\u524d\n\n\u30dd\u30b1\u30e2\u30f3\u306e\u540d\u524d\u304c\u82f1\u8a9e\u3060\u3068\u3088\u304f\u308f\u304b\u3089\u3093\u306e\u3067\u65e5\u672c\u8a9e\u5316\u3057\u3088\u3046\u3068\u3057\u305f\u3089\u6848\u306e\u5b9a\u65e5\u672c\u8a9e\u5316json\u3092\u516c\u958b\u3057\u3066\u3044\u308b\u4eba\u304c\u3044\u305f\u306e\u3067\u3042\u308a\u304c\u305f\u304f\u4f7f\u308f\u305b\u3066\u3082\u3089\u3044\u307e\u3059\u3002\nhttps://gist.github.com/PonDad/93922f63c3143489e30c3716d3d176d2\n\u3053\u3093\u306a\u611f\u3058\u3067\u7d50\u69cb\u5b9f\u7528\u7684(?)\u306b\u306a\u308a\u307e\u3057\u305f\n\n\n\u88dc\u8db3\n\u307e\u3060WIP\u72b6\u614b\u3060\u304b\u3089\u30b5\u30f3\u30d7\u30eb\u3092\u30c1\u30a7\u30c3\u30af\u3057\u308d\u3063\u3066\u66f8\u3044\u3066\u308b\u3051\u3069\u3001\u30b5\u30f3\u30d7\u30eb\u3060\u3068poke.io.js\u3092\u8aad\u307f\u8fbc\u3093\u3067\u307e\u3059\u306d\nvar PokemonGO = require('./poke.io.js');\n\n\u306a\u306e\u3067\u73fe\u6642\u70b9\u3067\u306fpoke.io.js\u306e\u4e2d\u304b\u3089\u6319\u52d5\u3092\u78ba\u8a8d\u3059\u308b\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\n\u307e\u3068\u3081\n\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u62e1\u5f35\u3057\u3066\u3044\u3051\u3070Slack\u901a\u77e5\u3060\u3063\u305f\u308a\u30a2\u30d7\u30ea\u901a\u77e5\u3060\u3063\u305f\u308a\u8272\u3005\u3068\u62e1\u5f35\u3067\u304d\u307e\u3059\u306d\u3002\n\u30c8\u30ea\u30ac\u30fc\u3092\u4f5c\u308c\u3066\u3042\u3068\u306f\u30a2\u30a4\u30c7\u30a3\u30a2\u6b21\u7b2c\u306a\u306e\u3067\u8272\u3005\u3068\u3064\u306a\u3052\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n[\u6628\u65e5\u306eIoTLT](http://iotlt.connpass.com/event/35436/)\u3067\u8a71\u3092\u3057\u305f\u30cd\u30bf\u306e\u4e2d\u306b\u51fa\u3066\u304d\u305fAPI\u3092\u4f7f\u3046\u3068\u304d\u306b\u4f7f\u3063\u305f\u30b3\u30fc\u30c9\u7d39\u4ecb\u3067\u3059\u3002\n\n![](https://i.gyazo.com/77bda0816edbc2a01485cb2968245465.png)\n\n[\u30b9\u30e9\u30a4\u30c9\u306f\u3053\u3061\u3089\u3067\u3059](https://speakerdeck.com/n0bisuke/node-dot-jsde-pokemon-go-ohuisuhatuku-number-iotlt)\n\n\u3061\u306a\u307f\u306bNode.js\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f6.3.1\u3067\u3059\u3002\n\n## pokemon-go-node-api\n\n\u8abf\u3079\u305f\u3089\u8272\u3005\u3068\u3042\u3063\u305f\u306e\u3067\u3069\u308c\u3092\u4f7f\u3046\u304b\u306f\u304a\u4efb\u305b\u306a\u306e\u3067\u3059\u304c\u3001\u50d5\u304c\u4f7f\u3063\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u306f`\u8fd1\u304f\u3067\u30dd\u30b1\u30e2\u30f3\u304c\u51fa\u305f\u3089\u4f55\u304b\u3059\u308b`\u307f\u305f\u3044\u306a\u3053\u3068\u304c\u3084\u308a\u3084\u3059\u304b\u3063\u305f\u306e\u3067\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n[pokemon-go-node-api](https://www.npmjs.com/package/pokemon-go-node-api)\n\n### \u4f7f\u3063\u3066\u307f\u308b\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nnpm install pokemon-go-node-api\n```\n\n\u307b\u307c\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3067\u3059\u304c\u4ee5\u4e0b\u3067\u52d5\u304d\u307e\u3059\u3002\n\nGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u3067Pokemon Go\u3092\u59cb\u3081\u305f\u5834\u5408\u306f`username`\u3068`password`\u306b\u305d\u308c\u305e\u308cGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30e1\u30a2\u30c9\u3068\u30d1\u30b9\u3092\u3044\u308c\u307e\u3059\u3002\n\n\u3042\u308a\u304c\u3061\u306a\u306e\u304c(\u3068\u3044\u3046\u304b\u50d5\u304c\u305d\u3046\u3067\u3057\u305f)\u3001\u305d\u3082\u305d\u3082Pokemon Go\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u4f7f\u3063\u305f\u306e\u304b\u3069\u3046\u304b\u5fd8\u308c\u3066\u308b\u3053\u3068\u3067\u3059\u306d\u82e6\u7b11 \u304c\u3093\u3070\u3063\u3066\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u7b11\n\n```app.js\n'use strict';\n\nconst PokemonGO = require('pokemon-go-node-api');\n\n// using var so you can login with multiple users\nlet a = new PokemonGO.Pokeio();\n\n//Set environment variables or replace placeholder text\nlet location = {\n    type: 'name',\n    name: 'Tokyo/Taito-ku' //\u6771\u4eac\u90fd\u53f0\u6771\u533a\n};\n\nlet username = '\u767b\u9332\u3057\u305fGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9';\nlet password = '\u767b\u9332\u3057\u305fGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9';\nlet provider = 'google';\n\na.init(username, password, location, provider, (err) => {\n    if (err) throw err;\n\n    console.log('1[i] Current location: ' + a.playerInfo.locationName);\n    console.log('1[i] lat/long/alt: : ' + a.playerInfo.latitude + ' ' + a.playerInfo.longitude + ' ' + a.playerInfo.altitude);\n\n    a.GetProfile((err, profile) => {\n        if (err) throw err;\n\n        console.log('1[i] Username: ' + profile.username);\n        console.log('1[i] Poke Storage: ' + profile.poke_storage);\n        console.log('1[i] Item Storage: ' + profile.item_storage);\n\n        let poke = 0;\n        if (profile.currency[0].amount) {\n            poke = profile.currency[0].amount;\n        }\n\n        console.log('1[i] Pokecoin: ' + poke);\n        console.log('1[i] Stardust: ' + profile.currency[1].amount);\n\n        setInterval(() => {\n            a.Heartbeat((err,hb)=>{\n                if(err) {\n                    console.log(err);\n                }\n\n                let texts = '';\n                for (var i = hb.cells.length - 1; i >= 0; i--) {\n                    if(hb.cells[i].NearbyPokemon[0]) {\n                        //console.log(a.pokemonlist[0])\n                        let pokemon = a.pokemonlist[parseInt(hb.cells[i].NearbyPokemon[0].PokedexNumber)-1];\n                        console.log('1[+] There is a ' + pokemon.name + ' near.');\n                        //\u3053\u306e\u8fba\u306bWebhook\u3068\u304b\u565b\u307e\u305b\u308c\u3070Slack\u901a\u77e5\u3068\u304b\u3082\u4f59\u88d5\u3067\u3059\u306d\u3002\n                    }\n                }\n            });\n        }, 5000);\n\n    });\n});\n\n```\n\n\u5b9f\u884c\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\n\n![](https://i.gyazo.com/725efe504b23120665cbeca87a59b3db.png)\n\n`Pinsir`\u3068\u3044\u3046\u306e\u306f\u30ab\u30a4\u30ed\u30b9\u306e\u3053\u3068\u306a\u3093\u3067\u3059\u3051\u3069\u3001\u30ab\u30a4\u30ed\u30b9\u304c\u8fd1\u304f\u306b\u51fa\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u7c21\u5358\u3067\u3059\u306d\uff01\n\n### \u65e5\u672c\u8a9e\u3063\u307d\u304f\n\n\u65e5\u672c\u8a9e\u3067\u3084\u308a\u305f\u3044\u3067\u3059\u3088\u306d\u3002\n\n* \u4f4d\u7f6e\u60c5\u5831\u306e\u6307\u5b9a\n\n```\nlet location = {\n    type: 'name',\n    name: 'Tokyo/Taito-ku' //\u6771\u4eac\u90fd\u53f0\u6771\u533a\n};\n```\n\n\u306e\u7b87\u6240\u3067\u3084\u3063\u3066\u307e\u3059\u3002`Tokyo/Taito-ku`\u3068\u66f8\u3044\u3066\u3044\u308b\u90e8\u5206\u306fGoogleMap\u306eAPI\u306b\u6295\u3052\u3066\u3044\u308b\u307f\u305f\u3044\u306a\u306e\u3067\u305d\u308c\u3063\u307d\u3044\u66f8\u304d\u65b9\u3092\u3059\u308c\u3070\u3060\u3044\u305f\u3044\u3046\u307e\u304f\u3044\u304d\u307e\u3059\u3002\n\n```\n1[i] Current location: \u6771\u4eac\u90fd\u53f0\u6771\u533a\u6771\u4e0a\u91ce2-17-8 \u5171\u540c\u30d3\u30eb3F //dotstudio\u4f4f\u6240\n1[i] lat/long/alt: : 35.70951 139.7767348 0\n```\n\n* \u30dd\u30b1\u30e2\u30f3\u306e\u540d\u524d\n\n\u30dd\u30b1\u30e2\u30f3\u306e\u540d\u524d\u304c\u82f1\u8a9e\u3060\u3068\u3088\u304f\u308f\u304b\u3089\u3093\u306e\u3067\u65e5\u672c\u8a9e\u5316\u3057\u3088\u3046\u3068\u3057\u305f\u3089\u6848\u306e\u5b9a\u65e5\u672c\u8a9e\u5316json\u3092\u516c\u958b\u3057\u3066\u3044\u308b\u4eba\u304c\u3044\u305f\u306e\u3067\u3042\u308a\u304c\u305f\u304f\u4f7f\u308f\u305b\u3066\u3082\u3089\u3044\u307e\u3059\u3002\n\nhttps://gist.github.com/PonDad/93922f63c3143489e30c3716d3d176d2\n\n\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u7d50\u69cb\u5b9f\u7528\u7684(?)\u306b\u306a\u308a\u307e\u3057\u305f\n\n![](https://i.gyazo.com/219a9cea735b014fe1b4c60b22cdcb91.gif)\n\n\n### \u88dc\u8db3\n\n\u307e\u3060WIP\u72b6\u614b\u3060\u304b\u3089[\u30b5\u30f3\u30d7\u30eb\u3092\u30c1\u30a7\u30c3\u30af](https://github.com/Armax/Pokemon-GO-node-api/blob/master/example.js)\u3057\u308d\u3063\u3066\u66f8\u3044\u3066\u308b\u3051\u3069\u3001\u30b5\u30f3\u30d7\u30eb\u3060\u3068`poke.io.js`\u3092\u8aad\u307f\u8fbc\u3093\u3067\u307e\u3059\u306d\n\n```\nvar PokemonGO = require('./poke.io.js');\n```\n\n\u306a\u306e\u3067\u73fe\u6642\u70b9\u3067\u306f[poke.io.js](https://github.com/Armax/Pokemon-GO-node-api/blob/master/poke.io.js)\u306e\u4e2d\u304b\u3089\u6319\u52d5\u3092\u78ba\u8a8d\u3059\u308b\u3068\u826f\u3055\u305d\u3046\u3067\u3059\u3002\n\n##\u307e\u3068\u3081\n\n\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u62e1\u5f35\u3057\u3066\u3044\u3051\u3070Slack\u901a\u77e5\u3060\u3063\u305f\u308a\u30a2\u30d7\u30ea\u901a\u77e5\u3060\u3063\u305f\u308a\u8272\u3005\u3068\u62e1\u5f35\u3067\u304d\u307e\u3059\u306d\u3002\n\u30c8\u30ea\u30ac\u30fc\u3092\u4f5c\u308c\u3066\u3042\u3068\u306f\u30a2\u30a4\u30c7\u30a3\u30a2\u6b21\u7b2c\u306a\u306e\u3067\u8272\u3005\u3068\u3064\u306a\u3052\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["PokemonGo", "Node.js"]}