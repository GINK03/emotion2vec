{"context": " More than 1 year has passed since last update.ISO 8601\u306eUTC\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3067timestamp\u304c\u4fdd\u5b58\u3055\u308c\u305fMongoDB\u304c\u3042\u308a\u307e\u3059\u3002\u30ec\u30f3\u30b8\u30af\u30a8\u30ea\u3092\u66f8\u304f\u3068\u304d\u306bISO 8601\u3067\u5f15\u6570\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u304c\u3001UNIX\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u4f7f\u3063\u3066\u30af\u30a8\u30ea\u3067\u304d\u306a\u3044\u304b\u8abf\u3079\u307e\u3057\u305f\u3002Moment.js\u3092\u4f7f\u3046\u3068\u3044\u308d\u3044\u308d\u306a\u8868\u8a18\u306e\u65e5\u4ed8\u3092\u30d1\u30fc\u30b9\u3057\u305f\u308a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u7528\u306eDocker\u30b3\u30f3\u30c6\u30ca\nDocker\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ mkdir -p ~/node_apps/moment-spike\n$ cd !$\n\n\n~/node_apps/moment-spike/package.json\n{\n    \"name\": \"moment-spike\",\n    \"version\": \"0.0.1\",\n    \"private\": true,\n    \"dependencies\": {\n       \"moment\": \"~2.8.1\"\n    },\n    \"scripts\": {\"start\": \"node\"}\n}\n\n\nDockerfile\u3092\u4f5c\u6210\u3057\u3066\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u306fgoogle/nodejs-runtime\u3092\u4f7f\u3044\u307e\u3059\u3002\n$ echo FROM google/nodejs-runtime > Dockerfile\n$ docker pull google/nodejs-runtime\n$ docker build -t moment-spike .\n\n\n\u4f7f\u3044\u65b9\n\u4f7f\u3044\u6368\u3066\u306eDocker\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ docker run --rm -it moment-spike \n\n> moment-spike@0.0.1 start /app\n> node\n\n>\n\n\nmoment(timestamp * 1000)\nUNIX\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u4f5c\u6210\u306fmoment().unix()\u3092\u4f7f\u3044\u307e\u3059\u3002\n> var moment = require('moment')\nundefined\n> start = moment().unix()\n1428393579\n\nUNIX\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3059\u308b\u3068\u304d\u306fX\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u5358\u4f4d\u304c\u79d2\u306e\u307e\u307e\u5f15\u6570\u306b\u6e21\u3059\u3068\u30d1\u30fc\u30b9\u3067\u304d\u307e\u305b\u3093\u3002\n> moment(start).format()\n'1970-01-17T12:46:33+00:00'\n> moment(start,'X').format();\n'2015-04-07T07:59:39+00:00'\n\nUnix Offset (milliseconds)\u306b\u3042\u308b\u3088\u3046\u306b\u3001moment(Number);\u306eNumber\u306fJavaScript\u306enew Date(Number)\u3068\u540c\u69d8\u306b\u30df\u30ea\u79d2\u3067\u3059\u3002moment(timestamp * 1000)\u306e\u3088\u3046\u306b1000\u500d\u306b\u3057\u3066\u3082\u30d1\u30fc\u30b9\u3067\u304d\u307e\u3059\u3002\n> moment(start*1000).format()\n'2015-04-07T07:59:39+00:00'\n\n\nISO 8601\u8868\u8a18\u306b\u3059\u308b\nMoment.js\u3067\u4f5c\u6210\u3057\u305f\u65e5\u4ed8\u3092ISO 8601\u8868\u8a18\u306b\u3059\u308b\u5834\u5408\u306fDate.prototype.toISOString\u95a2\u6570\u3092\u4f7f\u3044\u307e\u3059\u3002\n> moment(start*1000).toISOString();\n'2015-04-07T07:59:39.000Z'\n\nISO 8601\u306eUTC\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3067timestamp\u304c\u4fdd\u5b58\u3055\u308c\u305fMongoDB\u304c\u3042\u308a\u307e\u3059\u3002\u30ec\u30f3\u30b8\u30af\u30a8\u30ea\u3092\u66f8\u304f\u3068\u304d\u306bISO 8601\u3067\u5f15\u6570\u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u304c\u3001UNIX\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u4f7f\u3063\u3066\u30af\u30a8\u30ea\u3067\u304d\u306a\u3044\u304b\u8abf\u3079\u307e\u3057\u305f\u3002[Moment.js](http://momentjs.com/)\u3092\u4f7f\u3046\u3068\u3044\u308d\u3044\u308d\u306a\u8868\u8a18\u306e\u65e5\u4ed8\u3092\u30d1\u30fc\u30b9\u3057\u305f\u308a\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n## \u30c6\u30b9\u30c8\u7528\u306eDocker\u30b3\u30f3\u30c6\u30ca\n\nDocker\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n``` bash\n$ mkdir -p ~/node_apps/moment-spike\n$ cd !$\n```\n\n```json:~/node_apps/moment-spike/package.json\n{\n    \"name\": \"moment-spike\",\n    \"version\": \"0.0.1\",\n    \"private\": true,\n    \"dependencies\": {\n       \"moment\": \"~2.8.1\"\n    },\n    \"scripts\": {\"start\": \"node\"}\n}\n```\n\nDockerfile\u3092\u4f5c\u6210\u3057\u3066\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u306f[google/nodejs-runtime](https://registry.hub.docker.com/u/google/nodejs-runtime/)\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n``` bash\n$ echo FROM google/nodejs-runtime > Dockerfile\n$ docker pull google/nodejs-runtime\n$ docker build -t moment-spike .\n```\n\n## \u4f7f\u3044\u65b9\n\n\u4f7f\u3044\u6368\u3066\u306eDocker\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n``` bash\n$ docker run --rm -it moment-spike \n\n> moment-spike@0.0.1 start /app\n> node\n\n>\n```\n\n### moment(timestamp * 1000)\n\nUNIX\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306e\u4f5c\u6210\u306f`moment().unix()`\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n``` js\n> var moment = require('moment')\nundefined\n> start = moment().unix()\n1428393579\n```\n\nUNIX\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3059\u308b\u3068\u304d\u306f``X``\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u5358\u4f4d\u304c\u79d2\u306e\u307e\u307e\u5f15\u6570\u306b\u6e21\u3059\u3068\u30d1\u30fc\u30b9\u3067\u304d\u307e\u305b\u3093\u3002\n\n``` js\n> moment(start).format()\n'1970-01-17T12:46:33+00:00'\n> moment(start,'X').format();\n'2015-04-07T07:59:39+00:00'\n```\n\n[Unix Offset (milliseconds)](http://momentjs.com/docs/#/parsing/unix-offset/)\u306b\u3042\u308b\u3088\u3046\u306b\u3001`moment(Number);`\u306eNumber\u306fJavaScript\u306e`new Date(Number)`\u3068\u540c\u69d8\u306b\u30df\u30ea\u79d2\u3067\u3059\u3002`moment(timestamp * 1000)`\u306e\u3088\u3046\u306b1000\u500d\u306b\u3057\u3066\u3082\u30d1\u30fc\u30b9\u3067\u304d\u307e\u3059\u3002\n\n``` js\n> moment(start*1000).format()\n'2015-04-07T07:59:39+00:00'\n```\n\n### ISO 8601\u8868\u8a18\u306b\u3059\u308b\n\nMoment.js\u3067\u4f5c\u6210\u3057\u305f\u65e5\u4ed8\u3092ISO 8601\u8868\u8a18\u306b\u3059\u308b\u5834\u5408\u306f[Date.prototype.toISOString](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString)\u95a2\u6570\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n``` js\n> moment(start*1000).toISOString();\n'2015-04-07T07:59:39.000Z'\n```\n", "tags": ["moment.js2.8.4", "Node.js0.10.33", "MongoDB", "ISO8601"]}