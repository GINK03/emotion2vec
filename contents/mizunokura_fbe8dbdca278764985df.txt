{"context": " More than 1 year has passed since last update.\n\n12.1 \u76ee\u7684\uff1a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6700\u9069\u5316\u3059\u308b\n\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u6700\u9069\u5316\u306b\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u91cd\u8981\u3060\u3088\u306d\u3002\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u304a\u3046\u3002\n\u53c2\u8003\uff1aQiita - MySQL InnoDB\u306eIndex\n\n12.2 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\uff1a\u95c7\u96f2\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\n\u3055\u3042\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\uff01\n\u3057\u304b\u3057\u3001\u3082\u3057\u3082\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u5bfe\u3059\u308b\u6b63\u3057\u3044\u77e5\u8b58\u304c\u7121\u3044\u3068\u4ee5\u4e0b\u306e3\u30d1\u30bf\u30fc\u30f3\u306b\u30cf\u30de\u308a\u304c\u3061\u3002\n\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5168\u304f\u4f7f\u308f\u306a\u3044\u3002\n\n\u300c\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6016\u3044\uff01\uff01\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u6016\u3044\uff01\uff01\u300d\n\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5168\u30c6\u30fc\u30d6\u30eb\u306b\u5b9a\u7fa9\u3059\u308b\u3002\n\n\u300c\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u3042\u308c\u3070\u7d76\u5bfe\u306b\u5b89\u5fc3\u3060\uff08\u30d5\u30e9\u30b0\u300d\n\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u9069\u5207\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u3066\u3082\u3001SQL\u304c\u30af\u30bd\u3002\n\n\u300c\u7121\u6575\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u306a\u3093\u3068\u304b\u3057\u3066\u304f\u3060\u3055\u3044\u3088\u3049\u301c\u301c\u301c\u301c\uff01\uff01\u300d\n\u4ee5\u4e0b\u3001\u305d\u308c\u305e\u308c\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u898b\u3066\u884c\u304d\u307e\u3057\u3087\u3046\u3002\n\n12.2.1 \u30b1\u30fc\u30b9\uff11\uff1a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6050\u6016\u75c7\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6050\u6016\u75c7\u306e\u60a3\u8005\u305f\u3061\u306f\u3001\u4f55\u304b\u3068\u300c\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u301c\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u301c\u300d\u3068\u5ba3\u3044\u307e\u3059\u304c\u3001\u4e16\u306e\u4e2d\u306e\u3059\u3079\u3066\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u60aa\u3044\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\uff1a\uff08INSERT/UPDATE/DELETE\u6642\u306e\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u66f4\u65b0\u306b\u304b\u304b\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30b3\u30b9\u30c8\uff09\u3002\n\u60aa\u3044\u306e\u306f\u3042\u304f\u307e\u3067\u300c\u7121\u99c4\u306a\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u300d\u3067\u3042\u308a\u3001\u3072\u3044\u3066\u306f\u305d\u308c\u3092\u751f\u307f\u51fa\u3059\u7121\u99c4\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306a\u306e\u3067\u3059\u3002\n\u9069\u5207\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u305f\u3081\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u306f\u3001\u901f\u5ea6\u306e\u5bfe\u4fa1\u3068\u3057\u3066\u6255\u3046\u3079\u304d\u30b3\u30b9\u30c8\u3067\u3059\u3002\n\u4f8b\u3048\u3070\u79c1\u9054\u30a8\u30f3\u30b8\u30cb\u30a2\u306f\u3001\u76f4\u63a5\u5229\u76ca\u3092\u751f\u307f\u51fa\u3059\u30b3\u30fc\u30c9\u306e\u4ed6\u306b\u3082\u3001\u305d\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306a\u3069\u306e\u76f4\u63a5\u7684\u306b\u306f\u304a\u91d1\u3092\u751f\u307f\u51fa\u3055\u306a\u3044\u30b3\u30fc\u30c9\u3082\u66f8\u304d\u307e\u3059\u306d\u3002\n\u305d\u308c\u3089\u306f\u76f4\u63a5\u5229\u76ca\u3092\u751f\u307f\u51fa\u3059\u30b3\u30fc\u30c9\u3092\u652f\u3048\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3001\u6255\u3046\u3079\u304d\u30b3\u30b9\u30c8\u306a\u306e\u3067\u3059\u3002\n\n12.2.2 \u30b1\u30fc\u30b9\uff12\uff1a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u72c2\u4fe1\u8005\n\u300c\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4e07\u80fd\u306a\u3093\u3084\u3063\u305f\u3089\u3001\u306a\u3093\u3067\u3082\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u304a\u9858\u3044\u3057\u307e\u3059\u308f\uff01\u3068\u308a\u3042\u3048\u305a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\uff01\u30ac\u30cf\u30cf\uff01\u300d\n\n11\u6708\u7121\u99c4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u611f\u8b1d\u796d.sql\nCREATE TABLE Mikosan (\n  miko_id      SERIAL PRIMARY KEY,\n  date_joined  DATE NOT NULL,\n  description  VARCHAR(128) NOT NULL,\n  status       VARCHAR(10) NOT NULL,\n  hours        NUMERIC(9.2),\n  INDEX(miko_id),\n  INDEX(description),\n  INDEX(hours),\n  INDEX(miko_id, date_joined, status)\n);\n\n\nmysql> show index from Mikosan;\n+---------+------------+-------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| Table   | Non_unique | Key_name    | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |\n+---------+------------+-------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| mikosan |          0 | PRIMARY     |            1 | miko_id     | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          0 | miko_id     |            1 | miko_id     | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | miko_id_2   |            1 | miko_id     | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | description |            1 | description | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | hours       |            1 | hours       | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n| mikosan |          1 | miko_id_3   |            1 | miko_id     | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | miko_id_3   |            2 | date_joined | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | miko_id_3   |            3 | status      | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n+---------+------------+-------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n8 rows in set (0.00 sec)\n\n\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u30a1\uff01\uff01\uff01\nshow index \u306e\u8aad\u307f\u65b9\u306f\u5f8c\u8ff0\u3059\u308b\u3002\n\n12.2.3 \u30b1\u30fc\u30b9\uff13\uff1a\u30af\u30bdSQL\u751f\u7523\u6a5f\u3068\u3057\u3066\u306e\u4eba\u751f\n\n\u8907\u5408\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u5148\u982d\u30ab\u30e9\u30e0\u3092\u7121\u8996\u3057\u3061\u3083\u3046\u2661.sql\nCREATE INDEX TelephoneBook ON Accounts(last_name, first_name);\n\nSELECT * FROM Accounts ORDER BY first_name, last_name;\n\n\n\nDate\u578b\u306e\u30ab\u30e9\u30e0\u306b\u6708\u3067\u691c\u7d22\u304b\u3051\u3061\u3083\u3046\u2661.sql\nSELECT * FROM Bugs WHERE MONTH(date_reported) = 4;\n\n--Date\u578b\u306e\u30ab\u30e9\u30e0\u306f\u3001YYYY-MM-DD \u306e\u9806\u756a\u3067\u4e26\u3093\u3067\u3044\u308b\u305f\u3081\u3001MM \u304b\u3089\u306e\u53c2\u7167\u3060\u3068\u5404YYYY\u3092\u5168\u3066\u898b\u306a\u3051\u308c\u3070\u306a\u3089\u305a\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u3048\u306a\u3044\u3002\n\n\n\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u306a\u3044\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u3061\u3083\u3046\u2661.sql\nSELECT * FROM Accounts WHERE first_name = 'Sugamon';\n\n\n\n\u3082\u3046\u541b\u306f\u5e30\u3063\u3066\u3044\u3044\u3088.sql\nSELECT * FROM Bugs WHERE description LIKE '%crash%';\n\n\n\n12.3 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u306e\u3042\u308b\u98a8\u666f\n\n\u300c\u3053\u306e\u30af\u30a8\u30ea\u3001\u3069\u3046\u3084\u3063\u305f\u3089\u901f\u304f\u306a\u308b\uff1f\u300d\n\n\u3053\u3046\u3044\u3046\u66d6\u6627\u306a\u8cea\u554f\u306f\u3001\u300c\u305d\u3046\u30b9\u306d\u301c\u3001\u3068\u308a\u3042\u3048\u305a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3058\u3083\u306a\u3044\u30b9\u304b\uff1f\u300d\u3068\u3044\u3046\u7b54\u3048\u306e\u6e29\u5e8a\u3002\n\u300c\u3053\u308c\u3053\u308c\u3053\u3046\u3044\u3046\u5024\u306e\u5165\u3063\u305f\u30c6\u30fc\u30d6\u30eb\u3067\u3001\u3053\u3046\u3044\u3046SQL\u3092\u6253\u3064\u3093\u3060\u3051\u3069\u3001\u3069\u3046\u3057\u305f\u3089\u901f\u304f\u306a\u308b\u304b\u306a\uff1f\u300d\u3068\u3044\u3046\u3088\u3046\u306a\u5177\u4f53\u7684\u306a\u8cea\u554f\u3092\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u300c\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u301c\u300d\u300cINSERT/UPDATE\u304c\u9045\u304f\u306a\u308b\u3063\u3066\u4f55\u304b\u306e\u672c\u3067\u898b\u3066\u301c\u300d\n\u300c\u5168\u90e8\u306e\u30ab\u30e9\u30e0\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u3063\u3066\u307f\u305f\u306e\u306b\u901f\u304f\u306a\u3089\u306a\u3044\u3093\u3060\u3051\u3069\uff01\uff01\u304a\u305f\u304f\u306eRDBMS\u306f\u58ca\u308c\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3057\u3089\uff01\uff1f\uff01\uff1f\uff01\u300d\n\n\u524d\u8005\u306f\u5148\u8ff0\u306e\u30b1\u30fc\u30b9\uff11\u3001\u5f8c\u8005\u306f\u30b1\u30fc\u30b9\uff12\u306b\u5f53\u3066\u306f\u307e\u308b\u3001\u601d\u8003\u505c\u6b62\u3067\u3042\u308b\u3002\n\n12.4 \u3053\u306e\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u3044\u3066\u826f\u3044\u5834\u5408\u306a\u3069\u3042\u308a\u307e\u305b\u3093\n\n\n12.5 \u89e3\u6c7a\u7b56\uff1a\u300cMENTOR\u300d\u306e\u539f\u5247\u306b\u57fa\u3065\u304f\u3079\u3057\u3002\u3055\u3059\u308c\u3070\u9053\u306f\u958b\u304b\u308c\u3093\u3002\nM/E/N/T/O/R \u305d\u308c\u305e\u308c\u306e\u982d\u6587\u5b57\u3092\u53d6\u3063\u305f\u5de5\u7a0b\u3092\u5b9f\u8df5\u3057\u3066\u3001\u9069\u5207\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5b9a\u7fa9\u3057\u3088\u3046\u3002\n\n12.5.1 Measure\uff08\u6e2c\u5b9a\uff09\n\u307e\u305a\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u306b\u304b\u304b\u308b\u6642\u9593\u3092\u8a08\u6e2c\u3059\u308b\u3002\nMySQL \u306a\u3089\n\n\u30b9\u30ed\u30fc\u30af\u30a8\u30ea\u30ed\u30b0 \u53c2\u8003\n\n\u300c1 row in set (0.01 sec)\u300d\n\n\u9054\u4eba\u66f0\u304f\u3001\u300c\u30af\u30a8\u30ea\u306e\u58f0\u306b\u8033\u3092\u6f84\u307e\u3059\u3068\u3001\u30b9\u30ed\u30fc\u30af\u30a8\u30ea\u30ed\u30b0\u304b\u3089\u300c\u52a9\u3051\u3066\u2026\u300d\u3068\u58f0\u304c\u3059\u308b\u306e\u304c\u308f\u304b\u308b\u300d\u3002\n\n\u826f\u3044\u5b50\u306e\u307f\u3093\u306a\u306f\u3001\u8a08\u6e2c\u4e2d\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u306fOFF\u306b\u3057\u3088\u3046\u306a\u3002\u304a\u3058\u3055\u3093\u3068\u306e\u7d04\u675f\u3060\u3088.sql\nSELECT SQL_NO_CACHE hoge_column FORM piyo_TBL ...\n\n\n\n12.5.2 Explain\uff08\u89e3\u6790\uff09\nEXPLAIN \u69cb\u6587\u3092\u4f7f\u3063\u3066\u3001QEP\uff08query execution plan\uff09\u30ec\u30dd\u30fc\u30c8\u3092\u8868\u793a\u3059\u308b\u3002\n\nExplainSelection\nEXPLAIN SELECT * FROM hoge_tbl WHERE ...\n\n\nQEP \u30ec\u30dd\u30fc\u30c8\u306e\u4f8b\nmysql> EXPLAIN Select (Select miko_id from Mikosan) mikomiko_id, m.description from Mikosan m INNER JOIN Mikosan m2 ON m.miko_id = m2.hours WHERE m.description LIKE '%miko%';\n\n+----+-------------+---------+-------+-------------------------------------+-------------+---------+---------------------------+------+--------------------------+\n| id | select_type | table   | type  | possible_keys                       | key         | key_len | ref                       | rows | Extra                    |\n+----+-------------+---------+-------+-------------------------------------+-------------+---------+---------------------------+------+--------------------------+\n|  1 | PRIMARY     | m       | index | PRIMARY,miko_id,miko_id_2,miko_id_3 | description | 130     | NULL                      |    1 | Using where; Using index |\n|  1 | PRIMARY     | m2      | ref   | hours                               | hours       | 5       | sql_antipattern.m.miko_id |    1 | Using where; Using index |\n|  2 | SUBQUERY    | Mikosan | index | NULL                                | hours       | 5       | NULL                      |    1 | Using index              |\n+----+-------------+---------+-------+-------------------------------------+-------------+---------+---------------------------+------+--------------------------+\n3 rows in set (0.00 sec)\n\nQEP \u30ec\u30dd\u30fc\u30c8\u306e\u8aad\u307f\u65b9\u306f\u5f8c\u8ff0\u3059\u308b\u3002\n\n12.5.3 Nominate\uff08\u6307\u540d\uff09\nQEP \u30ec\u30dd\u30fc\u30c8\u3092\u8aad\u3093\u3067\u81ea\u5206\u3067\u8003\u3048\u308b\u304b\u3001\u307e\u305f\u306f\u81ea\u52d5\u3067\u4fee\u6b63\u63d0\u6848\u3057\u3066\u304f\u308c\u308b\u30c4\u30fc\u30eb\u3092\u4f7f\u3046\u3002\n\u300c\u30af\u30a8\u30ea\u3092\u9045\u304f\u3057\u3066\u3044\u308b\u72af\u4eba\u306f\u304a\u524d\u3060\uff01\uff01\u300d\u3068\u3044\u3046\u610f\u5473\u3067\u300c\u6307\u540d\u300d\u306a\u306e\u3060\u3068\u601d\u308f\u308c\u308b\u3002\nMySQL Enterprise Query Analyzer\n\n\u305f\u3001\u9ad8\u3044\uff01\uff01\n\n\u30b5\u30ad\u30fc\u30e9\u69d8\u300c\u91d1\u306e\u306a\u3044\u8f29\u306f\u305b\u3044\u305c\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u3088\u304f\u8aad\u3080\u304c\u3044\u3044\u3001\u30db\u30fc\u30c3\u30db\u30c3\u30db\u30c3\u30db\u300d\n\n12.5.4 Test\uff08\u30c6\u30b9\u30c8\uff09\n\u4fee\u6b63\u3057\u305f\u30af\u30a8\u30ea\u3092\u3001\u518d\u5ea6\u5b9f\u884c\u3057\u3066\u307f\u3066\u6642\u9593\u3092\u8a08\u6e2c\u3059\u308b\u3002\n\u7d0d\u5f97\u304c\u51fa\u6765\u308b\u307e\u3067 M/E/N \u306e\u5de5\u7a0b\u3092\u7e70\u308a\u8fd4\u3059\u3002\n\n12.5.5 Optimize\uff08\u6700\u9069\u5316\uff09\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u306b\u8f09\u305b\u3089\u308c\u308b\u306a\u3089\u305d\u3046\u3057\u305f\u307b\u3046\u304c\u901f\u304f\u306a\u308b\u3002\n\u3068\u306f\u3044\u3048\u4f7f\u7528\u53ef\u80fd\u306a\u30e1\u30e2\u30ea\u91cf\u3068\u306e\u517c\u306d\u5408\u3044\u306b\u306a\u308b\u306e\u3067\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u5bb9\u91cf\u3092\u78ba\u8a8d\u3057\u3066\u884c\u3046\u3053\u3068\u3002\n\u53c2\u8003\uff1aMySQL \u3068\u30e1\u30e2\u30ea\u306b\u95a2\u3059\u308b\u307e\u3068\u3081\n\u53c2\u8003\uff1aMySQL 5.1 \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u30fb\u30de\u30cb\u30e5\u30a2\u30eb - 12.5.5.4. LOAD INDEX INTO CACHE \u69cb\u6587\n--LOAD INDEX INTO CACHE \u69cb\u6587\u306f\u3001MyISAM \u3067\u3057\u304b\u4f7f\u3048\u307e\u305b\u3093\nLOAD INDEX INTO CACHE index_1, index_2 ...\n\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30b5\u30a4\u30ba\u306e\u78ba\u8a8d\u306f show table status \u3067\u884c\u3046\u3002\nIndex_length \u5217\u306bbyte\u5358\u4f4d\u3067\u8868\u793a\u3055\u308c\u308b\u3002\n\nhowToKnowSizeOfIndex\nmysql> show table status WHERE Name = 'max_index'\\G\n*************************** 1. row ***************************\n           Name: max_index\n         Engine: InnoDB\n        Version: 10\n     Row_format: Compact\n           Rows: 0\n Avg_row_length: 0\n    Data_length: 16384\nMax_data_length: 0\n   Index_length: 65536\n      Data_free: 0\n Auto_increment: 1\n    Create_time: 2014-11-05 23:57:36\n    Update_time: NULL\n     Check_time: NULL\n      Collation: latin1_swedish_ci\n       Checksum: NULL\n Create_options:\n        Comment:\n1 row in set (0.00 sec)\n\nmysql> show table status WHERE Name = 'no_index'\\G\n*************************** 1. row ***************************\n           Name: no_index\n         Engine: InnoDB\n        Version: 10\n     Row_format: Compact\n           Rows: 0\n Avg_row_length: 0\n    Data_length: 16384\nMax_data_length: 0\n   Index_length: 0\n      Data_free: 0\n Auto_increment: 1\n    Create_time: 2014-11-05 23:57:02\n    Update_time: NULL\n     Check_time: NULL\n      Collation: latin1_swedish_ci\n       Checksum: NULL\n Create_options:\n        Comment:\n1 row in set (0.00 sec)\n\n\n\n12.5.6 Rebuild\uff08\u518d\u69cb\u7bc9\uff09\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002\nMySQL \u306a\u3089\u3001\n\nANALYZE TABLE hoge_tbl\nOPTIMIZE TABLE hoge_tbl\n\n\u3092\u884c\u3046\u3002\n\n12.5.6.1 ANALYZE TABLE \u3068\u306f\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u6301\u3064\u300cCardinaly\u300d\u8981\u7d20\u3092\u66f4\u65b0\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3002  \nCardinaly \u306f\u30ab\u30e9\u30e0\u306e\u6301\u3064\u5024\u306e\u7a2e\u985e\u3068\u5168\u30ec\u30b3\u30fc\u30c9\u306e\u4ef6\u6570\u306e\u6bd4\u7387\u3067\u3042\u308a\u3001\u4f8b\u3048\u3070\u5024\u304c2\u7a2e\u985e\u3057\u304b\u542b\u307e\u308c\u306a\u3044\u30ab\u30e9\u30e0\u3092\u542b\u3093\u3060\u30ec\u30b3\u30fc\u30c9\u304c10\u5104\u884c\u4f1a\u3063\u305f\u5834\u5408\u3001Cardinaly \u306f\u3068\u3066\u3082\u4f4e\u304f\uff08\uff12\uff1a10\u5104\uff09\u3001\u5024\u304c1\u4e07\u901a\u308a\u3042\u308b\u30ab\u30e9\u30e0\u3092\u542b\u3093\u3060\u30ec\u30b3\u30fc\u30c9\u304c1\u4e07\u884c\u3042\u308b\u5834\u5408\u3001Cardinaly\u306f\u9ad8\u3044\uff0810000\uff1a10000\uff09\u3002\nCardinaly \u304c\u9ad8\u3044\u5834\u5408\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u6709\u52b9\u306b\u50cd\u304f\u3068\u5224\u65ad\u51fa\u6765\u308b\u305f\u3081\u3001\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\u78ba\u7387\u304c\u4e0a\u304c\u308b\uff08\u3089\u3057\u3044\uff09\u3002\nInnoDB \u3067\u306f\u81ea\u52d5\u7684\u306b\u5b9f\u65bd\u3057\u3066\u3044\u308b\u306e\u3067\u624b\u52d5\u3067\u306e\u5b9f\u884c\u306f\u4e0d\u8981\u3002\n\u3057\u304b\u3082\u3001\u30c6\u30fc\u30d6\u30eb\u5185\u3092\u5168\u4ef6\u53d6\u5f97\u3057\u3066\u66f4\u65b0\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u30e9\u30f3\u30c0\u30e0\u306b\uff18\u56de\uff08\uff18\u56de\u304c\u8a08\u6e2c\u306b\u5fc5\u8981\u5341\u5206\u306a\u56de\u6570\u3068\u306e\u3053\u3068\uff09\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3057\u305f\u7d50\u679c\u3067\u8a08\u6e2c\u3057\u3001\u66f4\u65b0\u3057\u3066\u3044\u308b\u306e\u3067\u51e6\u7406\u306b\u6642\u9593\u7684\u306a\u30b3\u30b9\u30c8\u3082\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30b3\u30b9\u30c8\u3082\u304b\u304b\u3089\u306a\u3044\uff08\u66f8\u304d\u8fbc\u307f\u306e\u30c6\u30fc\u30d6\u30eb\u30ed\u30c3\u30af\u306f\u304b\u304b\u308b\u304c\u3001\u30ea\u30fc\u30c9\u30ed\u30c3\u30af\u306f\u304b\u304b\u3089\u306a\u3044\uff09\u3002\nMyISAM \u3067\u306f\u5b9a\u671f\u7684\u306b\u624b\u52d5\u3067\u5b9f\u65bd\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\nMyISAM \u306e ANALYZE TABLE \u3067\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u306b\u30ea\u30fc\u30c9\u30ed\u30c3\u30af\u304c\u304b\u304b\u308b\u3002\n\n12.5.6.2 OPTIMIZE TABLE \u3068\u306f\n\u30c6\u30fc\u30d6\u30eb\u30ec\u30b3\u30fc\u30c9\u306e\u518d\u69cb\u7bc9\uff08\u4e3b\u30ad\u30fc\u306e\u9806\u756a\u3067\u306e\u5168\u4ef6\u518d\u633f\u5165\uff09\u3002\n\u4f55\u304c\u5b09\u3057\u3044\u304b\u3068\u8a00\u3046\u3068\u3001InnoDB \u306e\u5834\u5408\u306b\u306f MVCC\uff08multi version concurrency controll\uff09\u306e\u4ed5\u7d44\u307f\u4e0a\u3001Delete\u3000\u3055\u308c\u305f\u30ec\u30b3\u30fc\u30c9\u306e\u904e\u53bb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u60c5\u5831\u304c\u7121\u99c4\u306b\u6b8b\u3063\u3066\u3057\u307e\u3046\u3002\n\u305d\u308c\u3089\u304c\u524a\u9664\u51fa\u6765\u308b\u306e\u3067\u3001\u5bb9\u91cf\u304c\u5c11\u306a\u304f\u306a\u308b\u3002\nMyISAM \u3067\u306f\u65ad\u7247\u5316\u3057\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u518d\u69cb\u7bc9\u3092\u884c\u3046\u3002\nInnoDB \u3067\u306f OPTIMIZE TABLE hoge_tbl \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001ALTER TABLE hoge_tbl \uff08\u7a7a\u306eALTER TABLE\uff09\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u53c2\u8003\uff1a\u6f22\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u9053\n\n\u307e\u3068\u3081\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6050\u308b\u308b\u306a\u304b\u308c\u3002\n\u5fc3\u3092\u5f37\u304f\u6301\u3061\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u6697\u9ed2\u9762\uff08\u4f7f\u308f\u306a\u3044\u3001\u4f7f\u3044\u3059\u304e\u308b\u3001\u4f7f\u3048\u3066\u3044\u306a\u3044\uff09\u306b\u843d\u3061\u3066\u306f\u3044\u3051\u306a\u3044\u3002\n\u672c\u6765\u3084\u3089\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u300cMENTOR\u300d\u3092\u3001\u898b\u3066\u898b\u306c\u3075\u308a\u3057\u7d9a\u3051\u305f\u7d50\u679c\u5f0a\u5bb3\u304c\u8d77\u3053\u308b\u3001\u590f\u4f11\u307f\u306e\u5bbf\u984c\u306e\u3088\u3046\u306a\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u306d\u3002\n\u3042\u3068\u300cNominate\u300d\u306f\u7565\u8a9e\u300cMENTOR\u300d\u306b\u3059\u308b\u305f\u3081\u306b\u9811\u5f35\u3063\u3066\u5358\u8a9e\u63a2\u3057\u305f\u611f\u304c\u3042\u308b\u3002\n\n\u304a\u307e\u3051\uff1ashow index \u306e\u8aad\u307f\u65b9\nmysql> show index from max_index;\n+-----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| Table     | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |\n+-----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| max_index |          0 | id       |            1 | id          | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| max_index |          1 | id_2     |            1 | id          | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| max_index |          1 | string   |            1 | string      | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n| max_index |          1 | hiduke   |            1 | hiduke      | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n| max_index |          1 | id_3     |            1 | id          | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| max_index |          1 | id_3     |            2 | string      | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n| max_index |          1 | id_3     |            3 | hiduke      | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n+-----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n7 rows in set (0.00 sec)\n\n\nTable \u30c6\u30fc\u30d6\u30eb\u540d\nNon_unique \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5185\u3067\u91cd\u8907\u3092\u8a31\u3059\u304b\u5426\u304b\uff080:\u8a31\u3055\u306a\u3044 1:\u8a31\u3059\uff09\u3002\nKey_name \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u540d\nSeq_in_index \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5185\u306e\u30ab\u30e9\u30e0\u30b7\u30fc\u30b1\u30f3\u30b9\u756a\u53f7\u3002\u8907\u5408\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u5834\u5408\u30011\u304b\u3089\u52a0\u7b97\u3055\u308c\u3066\u3044\u304f\u3002\nColumn_name \u30ab\u30e9\u30e0\u540d\nCollation \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5185\u3067\u30ab\u30e9\u30e0\u306e\u5024\u3092\u3069\u306e\u3088\u3046\u306b\u30bd\u30fc\u30c8\u3059\u308b\u304b\uff08A:\u6607\u9806 Null:\u30bd\u30fc\u30c8\u3057\u306a\u3044\uff09\u3002\nCardinaly \u6fc3\u5ea6\u3002\u524d\u8ff0\u3002\nSub_part \u90e8\u5206\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3055\u308c\u3066\u3044\u305f\u5834\u5408\u306f\u6587\u5b57\u6570\u3002\u5168\u4f53\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u306fNull\u3002\nPacked \u3069\u306e\u3088\u3046\u306b\u30d1\u30c3\u30af(\uff1f)\u3059\u308b\u304b\nNull \u30ab\u30e9\u30e0\u306bNull\u304c\u542b\u307e\u308c\u308b\u306a\u3089Yes\u3002\u305d\u308c\u4ee5\u5916\u306fNo\u3002\nIndex_type BTREE \u3068\u304b RTREE \u3068\u304b\nComment \u30b3\u30e1\u30f3\u30c8\nIndex_comment \n\n\nHowToAddComment\n--\u30b3\u30e1\u30f3\u30c8\u3092\u3064\u3051\u308b\nADD UNIQUE INDEX `name` (name) COMMENT 'hoge';\n--\u30b3\u30e1\u30f3\u30c8\u306e\u66f4\u65b0\u306f\u7121\u3044\u306e\u3067\u3001\u4e00\u5ea6 Drop \u3057\u3066\u304b\u3089 Add \u3059\u308b\n\n\n\u53c2\u8003\uff1aMySQL 5.1 \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u30fb\u30de\u30cb\u30e5\u30a2\u30eb\nInnoDB \u3067\u306f show index \u3059\u308b\u3068 ANALYSE TABLE \u304c\u8d70\u308b\u305d\u3046\u3067\u3001\u30c6\u30fc\u30d6\u30eb\u6570\u304c\u591a\u3044\u3068\u305d\u308c\u306a\u308a\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u6ce8\u610f\u3002\n\n\u304a\u307e\u3051\uff1aQEP \u30ec\u30dd\u30fc\u30c8\u306e\u8aad\u307f\u65b9\n\u6f22\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u9053\u306e\u8a18\u4e8b \u3092\u8aad\u3082\u3046\uff01\n# 12.1 \u76ee\u7684\uff1a\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3092\u6700\u9069\u5316\u3059\u308b\n\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u6700\u9069\u5316\u306b\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u91cd\u8981\u3060\u3088\u306d\u3002\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u304a\u3046\u3002\n\n\u53c2\u8003\uff1a[Qiita - MySQL InnoDB\u306eIndex](http://qiita.com/jooohn1234/items/6c765e87fc0a16f078b3)\n\n# 12.2 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\uff1a\u95c7\u96f2\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\n\n\u3055\u3042\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u3066\u307f\u3088\u3046\uff01\n\u3057\u304b\u3057\u3001\u3082\u3057\u3082\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u5bfe\u3059\u308b\u6b63\u3057\u3044\u77e5\u8b58\u304c\u7121\u3044\u3068\u4ee5\u4e0b\u306e3\u30d1\u30bf\u30fc\u30f3\u306b\u30cf\u30de\u308a\u304c\u3061\u3002\n\n* \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5168\u304f\u4f7f\u308f\u306a\u3044\u3002\n\n_\u300c\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6016\u3044\uff01\uff01\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u6016\u3044\uff01\uff01\u300d_\n\n* \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5168\u30c6\u30fc\u30d6\u30eb\u306b\u5b9a\u7fa9\u3059\u308b\u3002\n\n_\u300c\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u3042\u308c\u3070\u7d76\u5bfe\u306b\u5b89\u5fc3\u3060\uff08\u30d5\u30e9\u30b0\u300d_\n\n* \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u9069\u5207\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u3066\u3082\u3001SQL\u304c\u30af\u30bd\u3002\n\n_\u300c\u7121\u6575\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u306a\u3093\u3068\u304b\u3057\u3066\u304f\u3060\u3055\u3044\u3088\u3049\u301c\u301c\u301c\u301c\uff01\uff01\u300d_\n\n\u4ee5\u4e0b\u3001\u305d\u308c\u305e\u308c\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u898b\u3066\u884c\u304d\u307e\u3057\u3087\u3046\u3002\n\n## 12.2.1 \u30b1\u30fc\u30b9\uff11\uff1a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6050\u6016\u75c7\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u6050\u6016\u75c7\u306e\u60a3\u8005\u305f\u3061\u306f\u3001\u4f55\u304b\u3068\u300c\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u301c\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u301c\u300d\u3068\u5ba3\u3044\u307e\u3059\u304c\u3001\u4e16\u306e\u4e2d\u306e\u3059\u3079\u3066\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u60aa\u3044\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n_\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\uff1a\uff08INSERT/UPDATE/DELETE\u6642\u306e\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u66f4\u65b0\u306b\u304b\u304b\u308b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30b3\u30b9\u30c8\uff09\u3002_\n\n\u60aa\u3044\u306e\u306f\u3042\u304f\u307e\u3067\u300c\u7121\u99c4\u306a\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u300d\u3067\u3042\u308a\u3001\u3072\u3044\u3066\u306f\u305d\u308c\u3092\u751f\u307f\u51fa\u3059\u7121\u99c4\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306a\u306e\u3067\u3059\u3002\n\u9069\u5207\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u305f\u3081\u306e\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u306f\u3001\u901f\u5ea6\u306e\u5bfe\u4fa1\u3068\u3057\u3066\u6255\u3046\u3079\u304d\u30b3\u30b9\u30c8\u3067\u3059\u3002\n\n\u4f8b\u3048\u3070\u79c1\u9054\u30a8\u30f3\u30b8\u30cb\u30a2\u306f\u3001\u76f4\u63a5\u5229\u76ca\u3092\u751f\u307f\u51fa\u3059\u30b3\u30fc\u30c9\u306e\u4ed6\u306b\u3082\u3001\u305d\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u306a\u3069\u306e\u76f4\u63a5\u7684\u306b\u306f\u304a\u91d1\u3092\u751f\u307f\u51fa\u3055\u306a\u3044\u30b3\u30fc\u30c9\u3082\u66f8\u304d\u307e\u3059\u306d\u3002\n\u305d\u308c\u3089\u306f\u76f4\u63a5\u5229\u76ca\u3092\u751f\u307f\u51fa\u3059\u30b3\u30fc\u30c9\u3092\u652f\u3048\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u3001\u6255\u3046\u3079\u304d\u30b3\u30b9\u30c8\u306a\u306e\u3067\u3059\u3002\n\n## 12.2.2 \u30b1\u30fc\u30b9\uff12\uff1a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u72c2\u4fe1\u8005\n\u300c\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4e07\u80fd\u306a\u3093\u3084\u3063\u305f\u3089\u3001\u306a\u3093\u3067\u3082\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u304a\u9858\u3044\u3057\u307e\u3059\u308f\uff01\u3068\u308a\u3042\u3048\u305a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\uff01\u30ac\u30cf\u30cf\uff01\u300d\n\n```sql:11\u6708\u7121\u99c4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u611f\u8b1d\u796d.sql\nCREATE TABLE Mikosan (\n  miko_id      SERIAL PRIMARY KEY,\n  date_joined  DATE NOT NULL,\n  description  VARCHAR(128) NOT NULL,\n  status       VARCHAR(10) NOT NULL,\n  hours        NUMERIC(9.2),\n  INDEX(miko_id),\n  INDEX(description),\n  INDEX(hours),\n  INDEX(miko_id, date_joined, status)\n);\n```\n\n```showIndexFromMikosan\nmysql> show index from Mikosan;\n+---------+------------+-------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| Table   | Non_unique | Key_name    | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |\n+---------+------------+-------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| mikosan |          0 | PRIMARY     |            1 | miko_id     | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          0 | miko_id     |            1 | miko_id     | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | miko_id_2   |            1 | miko_id     | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | description |            1 | description | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | hours       |            1 | hours       | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n| mikosan |          1 | miko_id_3   |            1 | miko_id     | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | miko_id_3   |            2 | date_joined | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| mikosan |          1 | miko_id_3   |            3 | status      | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n+---------+------------+-------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n8 rows in set (0.00 sec)\n```\n\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u7121\u99c4\u30a1\uff01\uff01\uff01\n\n```show index``` \u306e\u8aad\u307f\u65b9\u306f\u5f8c\u8ff0\u3059\u308b\u3002\n\n## 12.2.3 \u30b1\u30fc\u30b9\uff13\uff1a\u30af\u30bdSQL\u751f\u7523\u6a5f\u3068\u3057\u3066\u306e\u4eba\u751f\n\n```sql:\u8907\u5408\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u5148\u982d\u30ab\u30e9\u30e0\u3092\u7121\u8996\u3057\u3061\u3083\u3046\u2661.sql\nCREATE INDEX TelephoneBook ON Accounts(last_name, first_name);\n\nSELECT * FROM Accounts ORDER BY first_name, last_name;\n```\n\n```sql:Date\u578b\u306e\u30ab\u30e9\u30e0\u306b\u6708\u3067\u691c\u7d22\u304b\u3051\u3061\u3083\u3046\u2661.sql\nSELECT * FROM Bugs WHERE MONTH(date_reported) = 4;\n\n--Date\u578b\u306e\u30ab\u30e9\u30e0\u306f\u3001YYYY-MM-DD \u306e\u9806\u756a\u3067\u4e26\u3093\u3067\u3044\u308b\u305f\u3081\u3001MM \u304b\u3089\u306e\u53c2\u7167\u3060\u3068\u5404YYYY\u3092\u5168\u3066\u898b\u306a\u3051\u308c\u3070\u306a\u3089\u305a\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u3048\u306a\u3044\u3002\n```\n\n```sql:\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u306a\u3044\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u3061\u3083\u3046\u2661.sql\nSELECT * FROM Accounts WHERE first_name = 'Sugamon';\n```\n\n```sql:\u3082\u3046\u541b\u306f\u5e30\u3063\u3066\u3044\u3044\u3088.sql\nSELECT * FROM Bugs WHERE description LIKE '%crash%';\n```\n\n# 12.3 \u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u306e\u3042\u308b\u98a8\u666f\n* \u300c\u3053\u306e\u30af\u30a8\u30ea\u3001\u3069\u3046\u3084\u3063\u305f\u3089\u901f\u304f\u306a\u308b\uff1f\u300d\n\n\u3053\u3046\u3044\u3046\u66d6\u6627\u306a\u8cea\u554f\u306f\u3001\u300c\u305d\u3046\u30b9\u306d\u301c\u3001\u3068\u308a\u3042\u3048\u305a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3058\u3083\u306a\u3044\u30b9\u304b\uff1f\u300d\u3068\u3044\u3046\u7b54\u3048\u306e\u6e29\u5e8a\u3002\n\u300c\u3053\u308c\u3053\u308c\u3053\u3046\u3044\u3046\u5024\u306e\u5165\u3063\u305f\u30c6\u30fc\u30d6\u30eb\u3067\u3001\u3053\u3046\u3044\u3046SQL\u3092\u6253\u3064\u3093\u3060\u3051\u3069\u3001\u3069\u3046\u3057\u305f\u3089\u901f\u304f\u306a\u308b\u304b\u306a\uff1f\u300d\u3068\u3044\u3046\u3088\u3046\u306a\u5177\u4f53\u7684\u306a\u8cea\u554f\u3092\u3057\u307e\u3057\u3087\u3046\u3002\n\n* \u300c\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u301c\u300d\u300cINSERT/UPDATE\u304c\u9045\u304f\u306a\u308b\u3063\u3066\u4f55\u304b\u306e\u672c\u3067\u898b\u3066\u301c\u300d\n\n* \u300c\u5168\u90e8\u306e\u30ab\u30e9\u30e0\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u3063\u3066\u307f\u305f\u306e\u306b\u901f\u304f\u306a\u3089\u306a\u3044\u3093\u3060\u3051\u3069\uff01\uff01\u304a\u305f\u304f\u306eRDBMS\u306f\u58ca\u308c\u3066\u3044\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3057\u3089\uff01\uff1f\uff01\uff1f\uff01\u300d\n\n\u524d\u8005\u306f\u5148\u8ff0\u306e\u30b1\u30fc\u30b9\uff11\u3001\u5f8c\u8005\u306f\u30b1\u30fc\u30b9\uff12\u306b\u5f53\u3066\u306f\u307e\u308b\u3001\u601d\u8003\u505c\u6b62\u3067\u3042\u308b\u3002\n\n# 12.4 \u3053\u306e\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u3044\u3066\u826f\u3044\u5834\u5408\u306a\u3069\u3042\u308a\u307e\u305b\u3093\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-11-06 10.39.44.png](https://qiita-image-store.s3.amazonaws.com/0/51625/3a0c8de4-4935-ca09-f562-a4e9c2838443.png)\n\n# 12.5 \u89e3\u6c7a\u7b56\uff1a\u300cMENTOR\u300d\u306e\u539f\u5247\u306b\u57fa\u3065\u304f\u3079\u3057\u3002\u3055\u3059\u308c\u3070\u9053\u306f\u958b\u304b\u308c\u3093\u3002\n\nM/E/N/T/O/R \u305d\u308c\u305e\u308c\u306e\u982d\u6587\u5b57\u3092\u53d6\u3063\u305f\u5de5\u7a0b\u3092\u5b9f\u8df5\u3057\u3066\u3001\u9069\u5207\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5b9a\u7fa9\u3057\u3088\u3046\u3002\n\n## 12.5.1 Measure\uff08\u6e2c\u5b9a\uff09\n\u307e\u305a\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u306b\u304b\u304b\u308b\u6642\u9593\u3092\u8a08\u6e2c\u3059\u308b\u3002\nMySQL \u306a\u3089\n\n* \u30b9\u30ed\u30fc\u30af\u30a8\u30ea\u30ed\u30b0 [\u53c2\u8003](http://nippondanji.blogspot.jp/2009/01/mysql-51.html)\n* \u300c1 row in set (0.01 sec)\u300d\n\n\u9054\u4eba\u66f0\u304f\u3001\u300c\u30af\u30a8\u30ea\u306e\u58f0\u306b\u8033\u3092\u6f84\u307e\u3059\u3068\u3001\u30b9\u30ed\u30fc\u30af\u30a8\u30ea\u30ed\u30b0\u304b\u3089\u300c\u52a9\u3051\u3066\u2026\u300d\u3068\u58f0\u304c\u3059\u308b\u306e\u304c\u308f\u304b\u308b\u300d\u3002\n\n```sql:\u826f\u3044\u5b50\u306e\u307f\u3093\u306a\u306f\u3001\u8a08\u6e2c\u4e2d\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u306fOFF\u306b\u3057\u3088\u3046\u306a\u3002\u304a\u3058\u3055\u3093\u3068\u306e\u7d04\u675f\u3060\u3088.sql\nSELECT SQL_NO_CACHE hoge_column FORM piyo_TBL ...\n```\n\n## 12.5.2 Explain\uff08\u89e3\u6790\uff09\n\nEXPLAIN \u69cb\u6587\u3092\u4f7f\u3063\u3066\u3001QEP\uff08query execution plan\uff09\u30ec\u30dd\u30fc\u30c8\u3092\u8868\u793a\u3059\u308b\u3002\n\n```sql:ExplainSelection\nEXPLAIN SELECT * FROM hoge_tbl WHERE ...\n```\n\nQEP \u30ec\u30dd\u30fc\u30c8\u306e\u4f8b\n\n```\nmysql> EXPLAIN Select (Select miko_id from Mikosan) mikomiko_id, m.description from Mikosan m INNER JOIN Mikosan m2 ON m.miko_id = m2.hours WHERE m.description LIKE '%miko%';\n\n+----+-------------+---------+-------+-------------------------------------+-------------+---------+---------------------------+------+--------------------------+\n| id | select_type | table   | type  | possible_keys                       | key         | key_len | ref                       | rows | Extra                    |\n+----+-------------+---------+-------+-------------------------------------+-------------+---------+---------------------------+------+--------------------------+\n|  1 | PRIMARY     | m       | index | PRIMARY,miko_id,miko_id_2,miko_id_3 | description | 130     | NULL                      |    1 | Using where; Using index |\n|  1 | PRIMARY     | m2      | ref   | hours                               | hours       | 5       | sql_antipattern.m.miko_id |    1 | Using where; Using index |\n|  2 | SUBQUERY    | Mikosan | index | NULL                                | hours       | 5       | NULL                      |    1 | Using index              |\n+----+-------------+---------+-------+-------------------------------------+-------------+---------+---------------------------+------+--------------------------+\n3 rows in set (0.00 sec)\n```\n\nQEP \u30ec\u30dd\u30fc\u30c8\u306e\u8aad\u307f\u65b9\u306f\u5f8c\u8ff0\u3059\u308b\u3002\n\n## 12.5.3 Nominate\uff08\u6307\u540d\uff09\n\nQEP \u30ec\u30dd\u30fc\u30c8\u3092\u8aad\u3093\u3067\u81ea\u5206\u3067\u8003\u3048\u308b\u304b\u3001\u307e\u305f\u306f\u81ea\u52d5\u3067\u4fee\u6b63\u63d0\u6848\u3057\u3066\u304f\u308c\u308b\u30c4\u30fc\u30eb\u3092\u4f7f\u3046\u3002\n\n_\u300c\u30af\u30a8\u30ea\u3092\u9045\u304f\u3057\u3066\u3044\u308b\u72af\u4eba\u306f\u304a\u524d\u3060\uff01\uff01\u300d\u3068\u3044\u3046\u610f\u5473\u3067\u300c\u6307\u540d\u300d\u306a\u306e\u3060\u3068\u601d\u308f\u308c\u308b\u3002_\n\nMySQL Enterprise Query Analyzer\n![\u305f\u304b\u3044.png](https://qiita-image-store.s3.amazonaws.com/0/51625/c9aa82f6-a11a-0b04-0933-d0e590f54cb7.png)\n\u305f\u3001\u9ad8\u3044\uff01\uff01\n\n![logomysql.gif](https://qiita-image-store.s3.amazonaws.com/0/51625/f4c65c79-8316-01f0-6e99-6fcdf632331e.gif)\n\u30b5\u30ad\u30fc\u30e9\u69d8\u300c\u91d1\u306e\u306a\u3044\u8f29\u306f\u305b\u3044\u305c\u3044\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u3088\u304f\u8aad\u3080\u304c\u3044\u3044\u3001\u30db\u30fc\u30c3\u30db\u30c3\u30db\u30c3\u30db\u300d\n\n\n## 12.5.4 Test\uff08\u30c6\u30b9\u30c8\uff09\n\n\u4fee\u6b63\u3057\u305f\u30af\u30a8\u30ea\u3092\u3001\u518d\u5ea6\u5b9f\u884c\u3057\u3066\u307f\u3066\u6642\u9593\u3092\u8a08\u6e2c\u3059\u308b\u3002\n\u7d0d\u5f97\u304c\u51fa\u6765\u308b\u307e\u3067 M/E/N \u306e\u5de5\u7a0b\u3092\u7e70\u308a\u8fd4\u3059\u3002\n\n## 12.5.5 Optimize\uff08\u6700\u9069\u5316\uff09\n\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u30e1\u30e2\u30ea\u306b\u8f09\u305b\u3089\u308c\u308b\u306a\u3089\u305d\u3046\u3057\u305f\u307b\u3046\u304c\u901f\u304f\u306a\u308b\u3002\n\u3068\u306f\u3044\u3048\u4f7f\u7528\u53ef\u80fd\u306a\u30e1\u30e2\u30ea\u91cf\u3068\u306e\u517c\u306d\u5408\u3044\u306b\u306a\u308b\u306e\u3067\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u5bb9\u91cf\u3092\u78ba\u8a8d\u3057\u3066\u884c\u3046\u3053\u3068\u3002\n\n\u53c2\u8003\uff1a[MySQL \u3068\u30e1\u30e2\u30ea\u306b\u95a2\u3059\u308b\u307e\u3068\u3081](http://d.hatena.ne.jp/LukeSilvia/20090613/p1)\n\u53c2\u8003\uff1a[MySQL 5.1 \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u30fb\u30de\u30cb\u30e5\u30a2\u30eb - 12.5.5.4. LOAD INDEX INTO CACHE \u69cb\u6587](http://mirror.metrocast.net/mysql/doc/refman/5.1/ja/load-index.html)\n\n```sql\n--LOAD INDEX INTO CACHE \u69cb\u6587\u306f\u3001MyISAM \u3067\u3057\u304b\u4f7f\u3048\u307e\u305b\u3093\nLOAD INDEX INTO CACHE index_1, index_2 ...\n```\n\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30b5\u30a4\u30ba\u306e\u78ba\u8a8d\u306f ```show table status``` \u3067\u884c\u3046\u3002\n```Index_length``` \u5217\u306bbyte\u5358\u4f4d\u3067\u8868\u793a\u3055\u308c\u308b\u3002\n\n```sql:howToKnowSizeOfIndex\nmysql> show table status WHERE Name = 'max_index'\\G\n*************************** 1. row ***************************\n           Name: max_index\n         Engine: InnoDB\n        Version: 10\n     Row_format: Compact\n           Rows: 0\n Avg_row_length: 0\n    Data_length: 16384\nMax_data_length: 0\n   Index_length: 65536\n      Data_free: 0\n Auto_increment: 1\n    Create_time: 2014-11-05 23:57:36\n    Update_time: NULL\n     Check_time: NULL\n      Collation: latin1_swedish_ci\n       Checksum: NULL\n Create_options:\n        Comment:\n1 row in set (0.00 sec)\n\nmysql> show table status WHERE Name = 'no_index'\\G\n*************************** 1. row ***************************\n           Name: no_index\n         Engine: InnoDB\n        Version: 10\n     Row_format: Compact\n           Rows: 0\n Avg_row_length: 0\n    Data_length: 16384\nMax_data_length: 0\n   Index_length: 0\n      Data_free: 0\n Auto_increment: 1\n    Create_time: 2014-11-05 23:57:02\n    Update_time: NULL\n     Check_time: NULL\n      Collation: latin1_swedish_ci\n       Checksum: NULL\n Create_options:\n        Comment:\n1 row in set (0.00 sec)\n```\n\n## 12.5.6 Rebuild\uff08\u518d\u69cb\u7bc9\uff09\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308b\u3002\n\nMySQL \u306a\u3089\u3001\n\n* ANALYZE TABLE hoge_tbl\n* OPTIMIZE TABLE hoge_tbl\n\n\u3092\u884c\u3046\u3002\n\n### 12.5.6.1 ANALYZE TABLE \u3068\u306f\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u6301\u3064\u300cCardinaly\u300d\u8981\u7d20\u3092\u66f4\u65b0\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3002  \n\nCardinaly \u306f\u30ab\u30e9\u30e0\u306e\u6301\u3064\u5024\u306e\u7a2e\u985e\u3068\u5168\u30ec\u30b3\u30fc\u30c9\u306e\u4ef6\u6570\u306e\u6bd4\u7387\u3067\u3042\u308a\u3001\u4f8b\u3048\u3070\u5024\u304c2\u7a2e\u985e\u3057\u304b\u542b\u307e\u308c\u306a\u3044\u30ab\u30e9\u30e0\u3092\u542b\u3093\u3060\u30ec\u30b3\u30fc\u30c9\u304c10\u5104\u884c\u4f1a\u3063\u305f\u5834\u5408\u3001Cardinaly \u306f\u3068\u3066\u3082\u4f4e\u304f\uff08\uff12\uff1a10\u5104\uff09\u3001\u5024\u304c1\u4e07\u901a\u308a\u3042\u308b\u30ab\u30e9\u30e0\u3092\u542b\u3093\u3060\u30ec\u30b3\u30fc\u30c9\u304c1\u4e07\u884c\u3042\u308b\u5834\u5408\u3001Cardinaly\u306f\u9ad8\u3044\uff0810000\uff1a10000\uff09\u3002\nCardinaly \u304c\u9ad8\u3044\u5834\u5408\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u6709\u52b9\u306b\u50cd\u304f\u3068\u5224\u65ad\u51fa\u6765\u308b\u305f\u3081\u3001\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u7528\u3059\u308b\u78ba\u7387\u304c\u4e0a\u304c\u308b\uff08\u3089\u3057\u3044\uff09\u3002\n\nInnoDB \u3067\u306f\u81ea\u52d5\u7684\u306b\u5b9f\u65bd\u3057\u3066\u3044\u308b\u306e\u3067\u624b\u52d5\u3067\u306e\u5b9f\u884c\u306f\u4e0d\u8981\u3002\n\u3057\u304b\u3082\u3001\u30c6\u30fc\u30d6\u30eb\u5185\u3092\u5168\u4ef6\u53d6\u5f97\u3057\u3066\u66f4\u65b0\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u30e9\u30f3\u30c0\u30e0\u306b\uff18\u56de\uff08\uff18\u56de\u304c\u8a08\u6e2c\u306b\u5fc5\u8981\u5341\u5206\u306a\u56de\u6570\u3068\u306e\u3053\u3068\uff09\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u3057\u305f\u7d50\u679c\u3067\u8a08\u6e2c\u3057\u3001\u66f4\u65b0\u3057\u3066\u3044\u308b\u306e\u3067\u51e6\u7406\u306b\u6642\u9593\u7684\u306a\u30b3\u30b9\u30c8\u3082\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30b3\u30b9\u30c8\u3082\u304b\u304b\u3089\u306a\u3044\uff08\u66f8\u304d\u8fbc\u307f\u306e\u30c6\u30fc\u30d6\u30eb\u30ed\u30c3\u30af\u306f\u304b\u304b\u308b\u304c\u3001\u30ea\u30fc\u30c9\u30ed\u30c3\u30af\u306f\u304b\u304b\u3089\u306a\u3044\uff09\u3002\n\nMyISAM \u3067\u306f\u5b9a\u671f\u7684\u306b\u624b\u52d5\u3067\u5b9f\u65bd\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\nMyISAM \u306e ANALYZE TABLE \u3067\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u306b\u30ea\u30fc\u30c9\u30ed\u30c3\u30af\u304c\u304b\u304b\u308b\u3002\n\n### 12.5.6.2 OPTIMIZE TABLE \u3068\u306f\n\n\u30c6\u30fc\u30d6\u30eb\u30ec\u30b3\u30fc\u30c9\u306e\u518d\u69cb\u7bc9\uff08\u4e3b\u30ad\u30fc\u306e\u9806\u756a\u3067\u306e\u5168\u4ef6\u518d\u633f\u5165\uff09\u3002\n\u4f55\u304c\u5b09\u3057\u3044\u304b\u3068\u8a00\u3046\u3068\u3001InnoDB \u306e\u5834\u5408\u306b\u306f MVCC\uff08multi version concurrency controll\uff09\u306e\u4ed5\u7d44\u307f\u4e0a\u3001Delete\u3000\u3055\u308c\u305f\u30ec\u30b3\u30fc\u30c9\u306e\u904e\u53bb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u60c5\u5831\u304c\u7121\u99c4\u306b\u6b8b\u3063\u3066\u3057\u307e\u3046\u3002\n\u305d\u308c\u3089\u304c\u524a\u9664\u51fa\u6765\u308b\u306e\u3067\u3001\u5bb9\u91cf\u304c\u5c11\u306a\u304f\u306a\u308b\u3002\nMyISAM \u3067\u306f\u65ad\u7247\u5316\u3057\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u518d\u69cb\u7bc9\u3092\u884c\u3046\u3002\n\nInnoDB \u3067\u306f ```OPTIMIZE TABLE hoge_tbl``` \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001```ALTER TABLE hoge_tbl``` \uff08\u7a7a\u306eALTER TABLE\uff09\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\n\u53c2\u8003\uff1a[\u6f22\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u9053](http://nippondanji.blogspot.jp/2010/09/innodb.html)\n\n# \u307e\u3068\u3081\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6050\u308b\u308b\u306a\u304b\u308c\u3002\n\u5fc3\u3092\u5f37\u304f\u6301\u3061\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u6697\u9ed2\u9762\uff08\u4f7f\u308f\u306a\u3044\u3001\u4f7f\u3044\u3059\u304e\u308b\u3001\u4f7f\u3048\u3066\u3044\u306a\u3044\uff09\u306b\u843d\u3061\u3066\u306f\u3044\u3051\u306a\u3044\u3002\n\n\u672c\u6765\u3084\u3089\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u300cMENTOR\u300d\u3092\u3001\u898b\u3066\u898b\u306c\u3075\u308a\u3057\u7d9a\u3051\u305f\u7d50\u679c\u5f0a\u5bb3\u304c\u8d77\u3053\u308b\u3001\u590f\u4f11\u307f\u306e\u5bbf\u984c\u306e\u3088\u3046\u306a\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3\u3067\u3059\u306d\u3002\n\n_\u3042\u3068\u300cNominate\u300d\u306f\u7565\u8a9e\u300cMENTOR\u300d\u306b\u3059\u308b\u305f\u3081\u306b\u9811\u5f35\u3063\u3066\u5358\u8a9e\u63a2\u3057\u305f\u611f\u304c\u3042\u308b\u3002_\n\n# \u304a\u307e\u3051\uff1ashow index \u306e\u8aad\u307f\u65b9\n\n```\nmysql> show index from max_index;\n+-----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| Table     | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |\n+-----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n| max_index |          0 | id       |            1 | id          | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| max_index |          1 | id_2     |            1 | id          | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| max_index |          1 | string   |            1 | string      | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n| max_index |          1 | hiduke   |            1 | hiduke      | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n| max_index |          1 | id_3     |            1 | id          | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |\n| max_index |          1 | id_3     |            2 | string      | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n| max_index |          1 | id_3     |            3 | hiduke      | A         |           0 |     NULL | NULL   | YES  | BTREE      |         |               |\n+-----------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+\n7 rows in set (0.00 sec)\n```\n\n* Table \u30c6\u30fc\u30d6\u30eb\u540d\n* Non_unique \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5185\u3067\u91cd\u8907\u3092\u8a31\u3059\u304b\u5426\u304b\uff080:\u8a31\u3055\u306a\u3044 1:\u8a31\u3059\uff09\u3002\n* Key_name \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u540d\n* Seq_in_index \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5185\u306e\u30ab\u30e9\u30e0\u30b7\u30fc\u30b1\u30f3\u30b9\u756a\u53f7\u3002\u8907\u5408\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u5834\u5408\u30011\u304b\u3089\u52a0\u7b97\u3055\u308c\u3066\u3044\u304f\u3002\n* Column_name \u30ab\u30e9\u30e0\u540d\n* Collation \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u5185\u3067\u30ab\u30e9\u30e0\u306e\u5024\u3092\u3069\u306e\u3088\u3046\u306b\u30bd\u30fc\u30c8\u3059\u308b\u304b\uff08A:\u6607\u9806 Null:\u30bd\u30fc\u30c8\u3057\u306a\u3044\uff09\u3002\n* Cardinaly \u6fc3\u5ea6\u3002\u524d\u8ff0\u3002\n* Sub_part \u90e8\u5206\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3055\u308c\u3066\u3044\u305f\u5834\u5408\u306f\u6587\u5b57\u6570\u3002\u5168\u4f53\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u306fNull\u3002\n* Packed \u3069\u306e\u3088\u3046\u306b\u30d1\u30c3\u30af(\uff1f)\u3059\u308b\u304b\n* Null \u30ab\u30e9\u30e0\u306bNull\u304c\u542b\u307e\u308c\u308b\u306a\u3089Yes\u3002\u305d\u308c\u4ee5\u5916\u306fNo\u3002\n* Index_type BTREE \u3068\u304b RTREE \u3068\u304b\n* Comment \u30b3\u30e1\u30f3\u30c8\n* Index_comment \n\n```sql:HowToAddComment\n--\u30b3\u30e1\u30f3\u30c8\u3092\u3064\u3051\u308b\nADD UNIQUE INDEX `name` (name) COMMENT 'hoge';\n--\u30b3\u30e1\u30f3\u30c8\u306e\u66f4\u65b0\u306f\u7121\u3044\u306e\u3067\u3001\u4e00\u5ea6 Drop \u3057\u3066\u304b\u3089 Add \u3059\u308b\n```\n\n\u53c2\u8003\uff1a[MySQL 5.1 \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u30fb\u30de\u30cb\u30e5\u30a2\u30eb](http://dev.mysql.com/doc/refman/5.1/en/show-index.html)\n\nInnoDB \u3067\u306f ```show index``` \u3059\u308b\u3068 ANALYSE TABLE \u304c\u8d70\u308b\u305d\u3046\u3067\u3001\u30c6\u30fc\u30d6\u30eb\u6570\u304c\u591a\u3044\u3068\u305d\u308c\u306a\u308a\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u6ce8\u610f\u3002\n\n# \u304a\u307e\u3051\uff1aQEP \u30ec\u30dd\u30fc\u30c8\u306e\u8aad\u307f\u65b9\n\n[\u6f22\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u9053\u306e\u8a18\u4e8b](http://nippondanji.blogspot.jp/2009/03/mysqlexplain.html) \u3092\u8aad\u3082\u3046\uff01\n", "tags": ["SQL\u30a2\u30f3\u30c1\u30d1\u30bf\u30fc\u30f3", "\u52c9\u5f37\u4f1a"]}