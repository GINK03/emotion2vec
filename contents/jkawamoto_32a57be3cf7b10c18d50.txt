{"tags": ["Python", "GitHub", "pip"], "context": "\n\n\u6982\u8981\n\nPyPI \u306b\u306f\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u304c\uff0cGitHub \u3067\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f9d\u5b58\u95a2\u4fc2\u306b\u542b\u3081\u308b\u65b9\u6cd5\uff0e\n\u307e\u305f\uff0csetup.py \u304b\u3089 requirements.txt \u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u5bfe\u5fdc\u65b9\u6cd5\u306b\u3064\u3044\u3066\u5fd8\u5099\u9332\u3068\u3057\u3066\u307e\u3068\u3081\u308b\uff0e\n\nrequirements.txt\nGitHub \u30ea\u30dd\u30b8\u30c8\u30ea\u306e URL \u304c https://github.com/rgmining/common \u306e\u5834\u5408\uff0c\nrequirements.txt \u306b\u306f\uff0c\n\nrequirements.txt\n-e git+https://github.com/rgmining/common.git#egg=rgmining_common-0.9.0\n\n\n\u306e\u3088\u3046\u306b\u66f8\u304f\uff0e#egg= \u4ee5\u964d\u306f <\u30d1\u30c3\u30b1\u30fc\u30b8\u540d>-<\u30d0\u30fc\u30b8\u30e7\u30f3> \u3068\u3044\u3046\u66f8\u5f0f\u306b\u3059\u308b\u3088\u3046\u3060\uff0e\n\u307e\u305f\uff0cpip-tools \u3092\u4f7f\u3063\u3066 requirements.txt \u3092\u751f\u6210\u3057\u3066\u3044\u308b\u5834\u5408\uff0c\nrequirements.in \u306b\u306f\u4e0a\u8a18\u3068\u540c\u3058\u6587\u5b57\u5217\u3092\u8a18\u5165\u3059\u308b\uff0e\n\nsetup.py\n\u4eca\u307e\u3067\uff0csetup.py \u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306brequirements.txt\u306e\u5185\u5bb9\u3092install_requires\u306b\u6e21\u3057\u3066\u3044\u305f\uff0e\n\nsetup.py\nfrom setuptools import setup, find_packages\n\ndef load_requires_from_file(filepath):\n    with open(filepath) as fp:\n        return [pkg_name.strip() for pkg_name in fp.readlines()]\n\nsetup(\n    # \u305d\u306e\u4ed6\u306e\u9805\u76ee\u306f\u7701\u7565\n    install_requires=load_requires_from_file(\"requirements.txt\")\n)\n\n\nrequirements.txt\u306bURL\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u306f\uff0c\u3082\u3046\u5c11\u3057\u6539\u826f\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3060\u3051\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\uff0e\n\nsetup.py\ndef take_package_name(name):\n    if name.startswith(\"-e\"):\n        return name[name.find(\"=\")+1:name.rfind(\"-\")]\n    else:\n        return name.strip()\n\ndef load_requires_from_file(filepath):\n    with open(filepath) as fp:\n        return [take_package_name(pkg_name) for pkg_name in fp.readlines()]\n\n\n\u307e\u305f\uff0cURL\u90e8\u5206\u306fsetup\u95a2\u6570\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u5f15\u6570dependency_link\u306b\u6e21\u3059\uff0e\n\nsetup.py\ndef load_links_from_file(filepath):\n    res = []\n    with open(filepath) as fp:\n        for pkg_name in fp.readlines():\n            if pkg_name.startswith(\"-e\"):\n                res.append(pkg_name.split(\" \")[1])\n    return res\n\nsetup(\n    # \u4ed6\u306e\u9805\u76ee\u306f\u7701\u7565\n    install_requires=load_requires_from_file(\"requirements.txt\"),\n    dependency_links=load_links_from_file(\"requirements.txt\"),\n)\n\n\n\u4ee5\u4e0a\u3067\uff0cpython setup.py test\u306a\u3069\u3068\u3059\u308b\u3068\uff0cGitHub\u304b\u3089\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u7528\u610f\u3057\u3066\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3067\u304d\u308b\uff0e\n\n\u53c2\u8003\n\npip \u3067 github \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# \u6982\u8981\n[![English](https://img.shields.io/badge/English-here-lightgrey.svg?style=flat)](https://www.jkawamoto.info/blogs/include-github-repositories-to-requirements-txt/)\n[PyPI](https://pypi.python.org/pypi) \u306b\u306f\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u304c\uff0cGitHub \u3067\u306f\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f9d\u5b58\u95a2\u4fc2\u306b\u542b\u3081\u308b\u65b9\u6cd5\uff0e\n\u307e\u305f\uff0c`setup.py` \u304b\u3089 `requirements.txt` \u3092\u53c2\u7167\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u5bfe\u5fdc\u65b9\u6cd5\u306b\u3064\u3044\u3066\u5fd8\u5099\u9332\u3068\u3057\u3066\u307e\u3068\u3081\u308b\uff0e\n\n# requirements.txt\nGitHub \u30ea\u30dd\u30b8\u30c8\u30ea\u306e URL \u304c https://github.com/rgmining/common \u306e\u5834\u5408\uff0c\nrequirements.txt \u306b\u306f\uff0c\n\n```requirements.txt\n-e git+https://github.com/rgmining/common.git#egg=rgmining_common-0.9.0\n```\n\n\u306e\u3088\u3046\u306b\u66f8\u304f\uff0e`#egg=` \u4ee5\u964d\u306f <\u30d1\u30c3\u30b1\u30fc\u30b8\u540d>-<\u30d0\u30fc\u30b8\u30e7\u30f3> \u3068\u3044\u3046\u66f8\u5f0f\u306b\u3059\u308b\u3088\u3046\u3060\uff0e\n\u307e\u305f\uff0c`pip-tools` \u3092\u4f7f\u3063\u3066 requirements.txt \u3092\u751f\u6210\u3057\u3066\u3044\u308b\u5834\u5408\uff0c\n`requirements.in` \u306b\u306f\u4e0a\u8a18\u3068\u540c\u3058\u6587\u5b57\u5217\u3092\u8a18\u5165\u3059\u308b\uff0e\n\n# setup.py\n\u4eca\u307e\u3067\uff0c`setup.py` \u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b`requirements.txt`\u306e\u5185\u5bb9\u3092`install_requires`\u306b\u6e21\u3057\u3066\u3044\u305f\uff0e\n\n```setup.py\nfrom setuptools import setup, find_packages\n\ndef load_requires_from_file(filepath):\n    with open(filepath) as fp:\n        return [pkg_name.strip() for pkg_name in fp.readlines()]\n\nsetup(\n    # \u305d\u306e\u4ed6\u306e\u9805\u76ee\u306f\u7701\u7565\n    install_requires=load_requires_from_file(\"requirements.txt\")\n)\n```\n\n`requirements.txt`\u306bURL\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u306f\uff0c\u3082\u3046\u5c11\u3057\u6539\u826f\u3057\u3066\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3060\u3051\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\uff0e\n\n```setup.py\ndef take_package_name(name):\n    if name.startswith(\"-e\"):\n        return name[name.find(\"=\")+1:name.rfind(\"-\")]\n    else:\n        return name.strip()\n\ndef load_requires_from_file(filepath):\n    with open(filepath) as fp:\n        return [take_package_name(pkg_name) for pkg_name in fp.readlines()]\n```\n\n\u307e\u305f\uff0cURL\u90e8\u5206\u306f`setup`\u95a2\u6570\u306e\u30ad\u30fc\u30ef\u30fc\u30c9\u5f15\u6570`dependency_link`\u306b\u6e21\u3059\uff0e\n\n```setup.py\ndef load_links_from_file(filepath):\n    res = []\n    with open(filepath) as fp:\n        for pkg_name in fp.readlines():\n            if pkg_name.startswith(\"-e\"):\n                res.append(pkg_name.split(\" \")[1])\n    return res\n\nsetup(\n    # \u4ed6\u306e\u9805\u76ee\u306f\u7701\u7565\n    install_requires=load_requires_from_file(\"requirements.txt\"),\n    dependency_links=load_links_from_file(\"requirements.txt\"),\n)\n```\n\n\u4ee5\u4e0a\u3067\uff0c`python setup.py test`\u306a\u3069\u3068\u3059\u308b\u3068\uff0cGitHub\u304b\u3089\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u7528\u610f\u3057\u3066\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3067\u304d\u308b\uff0e\n\n# \u53c2\u8003\n- [pip \u3067 github \u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://qiita.com/trsqxyz/items/744ba3c8a123d52aa7fe)\n"}