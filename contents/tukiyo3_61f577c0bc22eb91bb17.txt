{"tags": ["snippets", "Ruby"], "context": " More than 1 year has passed since last update.\n\nCentOS6\u3067Ruby2\u7cfb\u3092\u5165\u308c\u308b\n\n\u516c\u5f0f\u30d1\u30c3\u30b1\u30fc\u30b8\u304c1.8\u6b62\u307e\u308a\nCentOS 6\u3067ruby\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u308b - \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0 - Torutk\n\n\u304b\u3089 ruby-2.2.3-1.el6.x86_64.rpm, ruby-2.1.7-1.el6.x86_64.rpm \u3092\u5229\u7528\u3055\u305b\u3066\u3082\u3089\u3046\u304b\u3001\n\n\nRPM resource Ruby\u304b\u3089srpm\u3068\u3063\u3066\u304d\u3066\u30d3\u30eb\u30c9\u3059\u308b\u3002\nrbenv\u3067\u5165\u308c\u308b\u306e\u3082\u3088\u3044\u304b\u3068\n\n\nbundle\u30b3\u30de\u30f3\u30c9\n\n\nGemfile\u306b\u66f8\u3044\u3066\u3042\u308bgem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n\nbundle\u30b3\u30de\u30f3\u30c9\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem install bundler\n\n\n# \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u306b\u5165\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u30ab\u30aa\u30b9\u306b\u306a\u308b\uff01\nbundle install\n\n# gem\u3092vendor/bundler\u306b\u307e\u3068\u3081\u3066\u4fdd\u7ba1\u3002\nbundle install --path=vendor/bundler\n\n# vendor/bundler/ruby/2.0.0/bin/ \u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3044\u3044\u611f\u3058\u306b\u3057\u3066\u304f\u308c\u308b\u541b\nbundle exec qiita_scouter a yokomotod\n\n\nbundle install\u304c\u5931\u6557\u3059\u308b\u5834\u5408\n\n\u30a8\u30e9\u30fc\u5185\u5bb9\n$ sudo bundle install\nGem::RemoteFetcher::FetchError: bad response Not Found 404 (https://rubygems.global.ssl.fastly.net/gems/rspec-core-3.3.1.gem)\nAn error occurred while installing rspec-core (3.3.1), and Bundler cannot continue.\nMake sure that `gem install rspec-core -v '3.3.1'` succeeds before bundling.\n\n\n\n\u5bfe\u51e6\ngem install rubygems-update\nupdate_rubygems\n\n\n\nrspec\u5165\u9580\n\n\u53c2\u8003: Ruby - \u306f\u3058\u3081\u3066\u306eRSpec - \u307e\u305a\u30c6\u30b9\u30c8\u66f8\u3044\u3066\u304b\u3089\u30b3\u30fc\u30c9\u66f8\u304f\u30b7\u30f3\u30d7\u30eb\u306a\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb - Qiita\n\n\n\nrspec\u30b3\u30de\u30f3\u30c9\u3092\u5165\u308c\u308b\ngem install rspec\n\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nrspec --init\n\n\n\n\u4f7f\u3044\u65b9\nrspec spec/\u301c.rb\n\n\n\n\u7aef\u6570\u3092\u5207\u308a\u6368\u3066\u3066\u5358\u4f4d\u3092\u3064\u3051\u308b\u65b9\u6cd5\ndef to_jpn_unit(num)\n  if num > 10**12\n      (num/10**12).to_s + \"\u5146\"\n  elsif num > 10**8\n      (num/10**8).to_s + \"\u5104\"\n  elsif num > 10**4\n      (num/10**4).to_s + \"\u4e07\"\n  end\nend\n\np to_jpn_unit(12312133) #\"1231\u4e07\"\np to_jpn_unit(12312133000) #\"123\u5104\"\np to_jpn_unit(1231213000003) #\"1\u5146\"\n\n\n\u6539\u884c\u3092\u7f6e\u63db\nruby -pe 'gsub(/\\n/,\"\")' a.txt\n\n\ngem\u3092\u30aa\u30d5\u30e9\u30a4\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\ngem \u3092\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5 - present\n\nbundle package\n\nvendor/cache/ \u3092\u65b0\u3057\u3044rails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30b3\u30d4\u30fc\nbundle install --local\n\n\n\u5909\u6570\n\nstaedy - Ruby Steady 1 \u5909\u6570\u3068\u4ee3\u5165 - Qiita\n\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570(\u5148\u982d\u304c$)\ndef foo\n $greeting = \"Hello\"\nend\np $greeting #Hello\"\n\n\n\n\u5b9a\u6570(\u5148\u982d\u304c\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u306e\u5927\u6587\u5b57)\nConst = \"Hello Ruby!\"\np Const #Hello Ruby!\n\n\n\n\u73fe\u5728\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30d5\u30a1\u30a4\u30eb\u540d\np __FILE__\n\n\n\n\u73fe\u5728\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u884c\np __LINE__\n\n\n\n\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u30fb\u30c7\u30af\u30ea\u30e1\u30f3\u30c8\n\nRuby\u306b\u306a\u3044\u3082\u306e - Qiita\n\na += 1\n\n\n\u51e6\u7406\u306e\u4e2d\u65ad\n\nmodule function Kernel.#abort\n\nexit 0\n\nexit 1\n\nabort \"\u7d42\u4e86\u3057\u307e\u3059\"\n\n\n\u5f15\u6570\nif ARGV.length != 1 then\n  abort \"\u5f15\u6570\u306e\u6570\u304c1\u3067\u306f\u306a\u3044\u306e\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002\"\nend\n\nyyyymmdd = ARGV[0]\np yyyymmdd\n\n\n\u30d2\u30a2\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nbody <<-EOS\n\u3053\u3093\u306b\u3061\u306f\n\u3053\u3093\u3070\u3093\u308f\nEOS\n\n\nif\n\n\u5236\u5fa1\u69cb\u9020\n\nage = 1\nif age >= 12 then\n  p \"adult fee\\n\"\nelse\n  p \"child fee\\n\"\nend\n\n\n\u4e09\u9805\u6f14\u7b97\u5b50\nage = 1\np (age >= 12) ? \"adult\" : \"child\"\n\n\n\nmail\u9001\u4fe1\n\nRuby\u3067\u30e1\u30fc\u30eb\u3092\u9001\u308b - Qiita\nRuby + gem mail\u3067\u30e1\u30fc\u30eb\u9001\u4fe1\u6642\u3001\u300cpost_connection_check\u300d\u300cNon US-ASCII detected \u300d - Symfoware\n\n\nsend.rb\nrequire \"mail\"\n\nmail = Mail.new do\n  from    \"user1\"\n  to      \"user2\"\n  subject \"kenmei\"\n  body    \"honbun\"\nend\n\nmail.delivery_method :smtp, {\n  enable_starttls_auto: false,\n}\nmail.charset = 'utf-8'\nmail.deliver!\n\n\n\n/usr/lib/ruby/2.1.0/openssl/ssl.rb:232:in `post_connection_check': hostname \"127.0.0.1\" does not match the server certificate (OpenSSL::SSL::SSLError)\n\n\u3068\u51fa\u308b\u3068\u304d\u306fenable_starttls_auto: false,\u3064\u3051\u308c\u3070\u9001\u308c\u308b\u3002\n\narchlinux\u306e\u5834\u5408pacman -Sy ruby-mail\u3057\u3066\u304a\u304f\u3002\n\n\nmail\u9001\u4fe12\n\nRuby mail\u306b\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u3092\u3064\u3051\u308b - Qiita\n\n\nsend.rb\nrequire \"mail\"\n\nmail = Mail.new do\n  from    \"from@example.co.jp\"\n  to      \"to@example.co.jp\"\n  subject \"subject text\"\n  body    File.read(\"body.txt\")\n  add_file \"picture.jpg\"\nend\n\nmail.delivery_method :smtp, {\n  address:   'example.co.jp',\n  port:      587,\n  domain:    'example.co.jp',\n  user_name: 'user1'\n  password: 'oodieQu3'\n  enable_starttls_auto: false,\n}\n\nmail.deliver!\n\n\n\nruby1.8\u4ee5\u4e0b\u306e\u30cf\u30c3\u30b7\u30e5\u306e\u66f8\u304d\u65b9\n\nruby - odd number list for Hash on very basic script - Stack Overflow\n\n\n1.8\u307e\u3067\nmail.delivery_method :smtp, {\n  :enable_starttls_auto => false,\n}\n\n\n\n1.9\u4ee5\u964d\nmail.delivery_method :smtp, {\n  enable_starttls_auto: false,\n}\n\n\n\nmailcatcher\n\nMailCatcher\n\n\ngem install mailcatcher\nmailcatcher -f\n\n\n\nhttp://127.0.0.1:1025/  : smtp\u30dd\u30fc\u30c8\n\nhttp://127.0.0.1:1080/  : mailcatcher\u306eWebUI\n\n\n\u4f8b\n\nFile: README \u2014 Documentation for mail-iso-2022-jp (1.1.4)\n\n\nmailtest.rb\nrequire 'mail'\nrequire 'mail-iso-2022-jp'\n\nmail = Mail.new(:charset => 'ISO-2022-JP') do\n  from    'fromer@aaa.com'\n  to      'toer@bbb.com'\n  subject '\u30e1\u30fc\u30eb\u3067\u3059'\n  body <<-EOS\n\u672c\u6587\u3067\u3059\n\u3042\u3042\nEOS\nend\n\nmail.delivery_method :smtp, {\n  address:   '127.0.0.1',\n  port:      1025,\n  domain:    'bbb',\n  user_name: 'tester',\n  password:  ''\n}\n\nmail.deliver!\n\n\n\nhtml\u30e1\u30fc\u30eb\u306e\u4f8b\n\nmailtest.rb\n  mail = Mail.new(:charset => 'ISO-2022-JP') do\n    from    'fromer@aaa.com'\n    to      'toer@bbb.com'\n    +   format  'html'\n    subject '\u30e1\u30fc\u30eb\u3067\u3059'\n    body <<-EOS\n  \u672c\u6587\u3067\u3059\n- \u3042\u3042\n+ <font color=\"blue\">\u3042\u3042</font>\n  EOS\n  end\n\n\n\n\u30af\u30e9\u30b9\n\nRuby\u306e\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u306e\u4f8b - Qiita\n\n\n\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\nclass Hoge\n  def self.hoge\n    puts \"hoge\"\n  end\nend\nHoge.hoge # => hoge\n\n\n\n\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\nclass Hoge\n  class << self\n    def hoge\n      puts \"hoge\"\n    end\n  end\nend\nHoge.hoge # => hoge\n\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\nclass Hoge\n  def hoge\n    puts \"hoge\"\n  end\nend\nHoge.new.hoge # => hoge\n\n\n\ninitialize\nclass Foo\n  def initialize\n    @foo = \"first\"\n  end\n  def getFoo\n    @foo\n  end\nend\n\nf1= Foo.new()\np f1.getFoo #first\n\n\n\n\u30af\u30e9\u30b9\u5909\u6570(\u5148\u982d\u306b\u30a2\u30c3\u30c8\u30de\u30fc\u30af2\u3064(@@)\u3002\u30af\u30e9\u30b9\u5185\u304b\u3089\u306e\u307f\u53c2\u7167\u53ef\u80fd\u3002\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u9593\u3067\u5171\u6709)\nclass Foo\n  @@foo = \"first\"\n  def bar \n    p @@foo\n  end\n  def change\n    @@foo = \"second\"\n  end\nend\n\nf1 = Foo.new()\nf1.bar #first\n\nf2 = Foo.new()\nf2.bar #first\nf2.change\nf1.bar #second\nf2.bar #second\n#f1.foo \u3084 f1.@@foo\u306f\u30a8\u30e9\u30fc\n\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570(\u5148\u982d\u306b@\u3002\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u9593\u3067\u5171\u6709\u3055\u308c\u306a\u3044)\nclass Foo\n  def initialize\n    @foo = \"first\"\n  end\n  def getFoo \n    @foo\n  end\n  def setFoo(val)\n    @foo = val\n  end\nend\n\nf1 = Foo.new()\np f1.getFoo\n\nf2 = Foo.new()\np f2.getFoo #first\nf2.setFoo('second')\np f2.getFoo #second\np f1.getFoo #first\n\n\n\ninvalid multibyte char (US-ASCII)\n# encoding: utf-8\n\n\u3059\u308c\u3070\u3088\u3044\u3067\u3059\u3002\n\ncase\n# encoding: utf-8\n\ndef road_signal(color)\n  case color\n  when \"\u8d64\"\n    p \"stop\"\n  when \"\u9ec4\u8272\"\n    p \"warning\"\n  else\n    p \"go\"\n  end\nend\n\nroad_signal(\"\u9752\")\n\n\n2\u3064\u306e\u914d\u5217\u3092\u5408\u4f53(transpose)\n\nClass: Array (Ruby 2.2.0)\n\ncolors = [\"blue\", \"yellow\", \"red\"]\nactions = [\"go\", \"warning\", \"stop\"]\nroad_signals = [colors,actions].transpose\n\np road_signals\n# [[\"blue\", \"go\"], [\"yellow\", \"warning\"], [\"red\", \"stop\"]]\n\n\n\u30e9\u30f3\u30c0\u30e0\nr = road_signals\np r[rand(0..(r.length) -1)]\n\n\n\n\u914d\u5217\u306e\u30cf\u30c3\u30b7\u30e5\u5316\nh = Hash[*road_signals.flatten]\np h\n# {\"blue\"=>\"go\", \"yellow\"=>\"warning\", \"red\"=>\"stop\"}\n\n\n\n\u30b5\u30f3\u30d7\u30eb\n\n\u4f8b1\n#encoding : utf-8\n\ndef current_signal()\n    road_signals = [\n      [\"\u8d64\", \"\u6b62\u307e\u308c\"],\n      [\"\u9752\", \"\u884c\u3051\"],\n      [\"\u9ec4\u8272\", \"\u6b62\u307e\u308c\u306a\u3051\u308c\u3070\u6ce8\u610f\u3057\u3066\u884c\u3051\"],\n      [\"\u6843\u8272\", \"\u5e30\u308c\"]\n    ]\n    max = (road_signals.length) -1\n    num = rand(0..max)\n    color = road_signals[num][0]\n    action = road_signals[num][1]\n    message = \"%s\u3067\u3059\u3002\u300c%s\u300d\" % [color, action]\nend\n\np current_signal()\np current_signal()\n\n\n\n\u4f8b2\n#encoding : utf-8\n\ndef current_signal(r)\n    num = rand(0..(r.length) -1)\n    message = \"%s\u3067\u3059\u3002\u300c%s\u300d\" % [r[num][0], r[num][1]]\nend\n\ncolors = [\"\u8d64\", \"\u9752\", \"\u9ec4\u8272\", \"\u6843\u8272\"]\nactions = [\"\u6b62\u307e\u308c\", \"\u884c\u3051\", \"\u6b62\u307e\u308c\u306a\u3051\u308c\u3070\u6ce8\u610f\u3057\u3066\u884c\u3051\", \"\u5e30\u308c\"]\nroad_signals = [colors,actions].transpose\n\np current_signal(road_signals)\np current_signal(road_signals)\n\n\n\n\u4f8b3\n#encoding : utf-8\n\nclass RoadSignal\n  def initialize()\n    @colors = [\"\u8d64\", \"\u9752\", \"\u9ec4\u8272\", \"\u6843\u8272\"]\n    @actions = [\"\u6b62\u307e\u308c\", \"\u884c\u3051\", \"\u6b62\u307e\u308c\u306a\u3051\u308c\u3070\u6ce8\u610f\u3057\u3066\u884c\u3051\", \"\u5e30\u308c\"]\n  end\n  def look()\n    num = rand(0..(@colors.length) -1)\n    message = \"%s\u3067\u3059\u3002\u300c%s\u300d\" % [@colors[num], @actions[num]]\n  end\nend\n\nsignal = RoadSignal.new()\np signal.look\np signal.look\n\n\n## CentOS6\u3067Ruby2\u7cfb\u3092\u5165\u308c\u308b\n\n* \u516c\u5f0f\u30d1\u30c3\u30b1\u30fc\u30b8\u304c1.8\u6b62\u307e\u308a\n* [CentOS 6\u3067ruby\u306eRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f5c\u308b - \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30a8\u30f3\u30b8\u30cb\u30a2\u30ea\u30f3\u30b0 - Torutk](http://www.torutk.com/projects/swe/wiki/CentOS_6%E3%81%A7ruby%E3%81%AERPM%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E4%BD%9C%E3%82%8B)\n\n\u304b\u3089 ruby-2.2.3-1.el6.x86_64.rpm, ruby-2.1.7-1.el6.x86_64.rpm \u3092\u5229\u7528\u3055\u305b\u3066\u3082\u3089\u3046\u304b\u3001\n\n* [RPM resource Ruby](http://rpmfind.net/linux/rpm2html/search.php?query=Ruby)\u304b\u3089srpm\u3068\u3063\u3066\u304d\u3066\u30d3\u30eb\u30c9\u3059\u308b\u3002\n* rbenv\u3067\u5165\u308c\u308b\u306e\u3082\u3088\u3044\u304b\u3068\n\n\n## bundle\u30b3\u30de\u30f3\u30c9\n\n* `Gemfile`\u306b\u66f8\u3044\u3066\u3042\u308bgem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n```bash:bundle\u30b3\u30de\u30f3\u30c9\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem install bundler\n```\n\n```bash:\n# \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u306b\u5165\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u30ab\u30aa\u30b9\u306b\u306a\u308b\uff01\nbundle install\n\n# gem\u3092vendor/bundler\u306b\u307e\u3068\u3081\u3066\u4fdd\u7ba1\u3002\nbundle install --path=vendor/bundler\n\n# vendor/bundler/ruby/2.0.0/bin/ \u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3044\u3044\u611f\u3058\u306b\u3057\u3066\u304f\u308c\u308b\u541b\nbundle exec qiita_scouter a yokomotod\n```\n\n## bundle install\u304c\u5931\u6557\u3059\u308b\u5834\u5408\n\n```bash:\u30a8\u30e9\u30fc\u5185\u5bb9\n$ sudo bundle install\nGem::RemoteFetcher::FetchError: bad response Not Found 404 (https://rubygems.global.ssl.fastly.net/gems/rspec-core-3.3.1.gem)\nAn error occurred while installing rspec-core (3.3.1), and Bundler cannot continue.\nMake sure that `gem install rspec-core -v '3.3.1'` succeeds before bundling.\n```\n\n```bash:\u5bfe\u51e6\ngem install rubygems-update\nupdate_rubygems\n```\n\n## rspec\u5165\u9580\n\n* \u53c2\u8003: [Ruby - \u306f\u3058\u3081\u3066\u306eRSpec - \u307e\u305a\u30c6\u30b9\u30c8\u66f8\u3044\u3066\u304b\u3089\u30b3\u30fc\u30c9\u66f8\u304f\u30b7\u30f3\u30d7\u30eb\u306a\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb - Qiita](http://qiita.com/luckypool/items/e3662170033347510c3c)\n\n```bash:rspec\u30b3\u30de\u30f3\u30c9\u3092\u5165\u308c\u308b\ngem install rspec\n```\n\n```bash:\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\nrspec --init\n```\n\n```bash:\u4f7f\u3044\u65b9\nrspec spec/\u301c.rb\n```\n\n## \u7aef\u6570\u3092\u5207\u308a\u6368\u3066\u3066\u5358\u4f4d\u3092\u3064\u3051\u308b\u65b9\u6cd5\n\n```rb:\ndef to_jpn_unit(num)\n  if num > 10**12\n      (num/10**12).to_s + \"\u5146\"\n  elsif num > 10**8\n      (num/10**8).to_s + \"\u5104\"\n  elsif num > 10**4\n      (num/10**4).to_s + \"\u4e07\"\n  end\nend\n\np to_jpn_unit(12312133) #\"1231\u4e07\"\np to_jpn_unit(12312133000) #\"123\u5104\"\np to_jpn_unit(1231213000003) #\"1\u5146\"\n```\n\n## \u6539\u884c\u3092\u7f6e\u63db\n\n```bash:\nruby -pe 'gsub(/\\n/,\"\")' a.txt\n```\n\n## gem\u3092\u30aa\u30d5\u30e9\u30a4\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n* [gem \u3092\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5 - present](http://tnakamura.hatenablog.com/entry/2014/07/03/113000)\n\n```rb:\nbundle package\n```\n\nvendor/cache/ \u3092\u65b0\u3057\u3044rails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30b3\u30d4\u30fc\n\n```rb:\nbundle install --local\n```\n\n## \u5909\u6570\n\n* [staedy - Ruby Steady 1 \u5909\u6570\u3068\u4ee3\u5165 - Qiita](http://qiita.com/kyohei8/items/5941477037df9b6cde98)\n\n```rb:\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570(\u5148\u982d\u304c$)\ndef foo\n $greeting = \"Hello\"\nend\np $greeting #Hello\"\n```\n\n```rb:\u5b9a\u6570(\u5148\u982d\u304c\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u306e\u5927\u6587\u5b57)\nConst = \"Hello Ruby!\"\np Const #Hello Ruby!\n```\n\n```rb:\u73fe\u5728\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30d5\u30a1\u30a4\u30eb\u540d\np __FILE__\n```\n\n```rb:\u73fe\u5728\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u884c\np __LINE__\n```\n\n## \u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u30fb\u30c7\u30af\u30ea\u30e1\u30f3\u30c8\n\n* [Ruby\u306b\u306a\u3044\u3082\u306e - Qiita](http://qiita.com/jkr_2255/items/cb05789a8abd163bb87d#%E3%82%A4%E3%83%B3%E3%82%AF%E3%83%AA%E3%83%A1%E3%83%B3%E3%83%88%E3%83%87%E3%82%AF%E3%83%AA%E3%83%A1%E3%83%B3%E3%83%88)\n\n```rb:\na += 1\n```\n\n## \u51e6\u7406\u306e\u4e2d\u65ad\n\n* [module function Kernel.#abort](http://docs.ruby-lang.org/ja/2.2.0/method/Kernel/m/abort.html)\n\n```rb:\nexit 0\n```\n\n```rb:\nexit 1\n```\n\n```rb:\nabort \"\u7d42\u4e86\u3057\u307e\u3059\"\n```\n\n## \u5f15\u6570\n\n```rb:\nif ARGV.length != 1 then\n  abort \"\u5f15\u6570\u306e\u6570\u304c1\u3067\u306f\u306a\u3044\u306e\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002\"\nend\n```\n\n```rb:\nyyyymmdd = ARGV[0]\np yyyymmdd\n```\n\n## \u30d2\u30a2\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\n```rb:\nbody <<-EOS\n\u3053\u3093\u306b\u3061\u306f\n\u3053\u3093\u3070\u3093\u308f\nEOS\n```\n\n## if\n\n* [\u5236\u5fa1\u69cb\u9020](http://docs.ruby-lang.org/ja/2.2.0/doc/spec=2fcontrol.html)\n\n```rb:\nage = 1\nif age >= 12 then\n  p \"adult fee\\n\"\nelse\n  p \"child fee\\n\"\nend\n```\n\n```rb:\u4e09\u9805\u6f14\u7b97\u5b50\nage = 1\np (age >= 12) ? \"adult\" : \"child\"\n```\n\n## mail\u9001\u4fe1\n\n* [Ruby\u3067\u30e1\u30fc\u30eb\u3092\u9001\u308b - Qiita](http://qiita.com/KitaitiMakoto/items/688d383dc831c8b9a7f9)\n* [Ruby + gem mail\u3067\u30e1\u30fc\u30eb\u9001\u4fe1\u6642\u3001\u300cpost_connection_check\u300d\u300cNon US-ASCII detected \u300d - Symfoware](http://symfoware.blog68.fc2.com/blog-entry-1355.html)\n\n```rb:send.rb\nrequire \"mail\"\n\nmail = Mail.new do\n  from    \"user1\"\n  to      \"user2\"\n  subject \"kenmei\"\n  body    \"honbun\"\nend\n\nmail.delivery_method :smtp, {\n  enable_starttls_auto: false,\n}\nmail.charset = 'utf-8'\nmail.deliver!\n```\n\n> /usr/lib/ruby/2.1.0/openssl/ssl.rb:232:in `post_connection_check': hostname \"127.0.0.1\" does not match the server certificate (OpenSSL::SSL::SSLError)\n\n\u3068\u51fa\u308b\u3068\u304d\u306f`enable_starttls_auto: false,`\u3064\u3051\u308c\u3070\u9001\u308c\u308b\u3002\n\n* archlinux\u306e\u5834\u5408`pacman -Sy ruby-mail`\u3057\u3066\u304a\u304f\u3002\n\n### mail\u9001\u4fe12\n\n* [Ruby mail\u306b\u6dfb\u4ed8\u30d5\u30a1\u30a4\u30eb\u3092\u3064\u3051\u308b - Qiita](http://qiita.com/azusanakano/items/b6b5f4371937b7df0650)\n\n```send.rb\nrequire \"mail\"\n\nmail = Mail.new do\n  from    \"from@example.co.jp\"\n  to      \"to@example.co.jp\"\n  subject \"subject text\"\n  body    File.read(\"body.txt\")\n  add_file \"picture.jpg\"\nend\n\nmail.delivery_method :smtp, {\n  address:   'example.co.jp',\n  port:      587,\n  domain:    'example.co.jp',\n  user_name: 'user1'\n  password: 'oodieQu3'\n  enable_starttls_auto: false,\n}\n\nmail.deliver!\n```\n\n## ruby1.8\u4ee5\u4e0b\u306e\u30cf\u30c3\u30b7\u30e5\u306e\u66f8\u304d\u65b9\n\n* [ruby - odd number list for Hash on very basic script - Stack Overflow](http://stackoverflow.com/questions/18032777/odd-number-list-for-hash-on-very-basic-script)\n\n```rb:1.8\u307e\u3067\nmail.delivery_method :smtp, {\n  :enable_starttls_auto => false,\n}\n```\n\n```rb:1.9\u4ee5\u964d\nmail.delivery_method :smtp, {\n  enable_starttls_auto: false,\n}\n```\n\n## mailcatcher\n\n* [MailCatcher](http://mailcatcher.me/)\n\n![m1.png](https://qiita-image-store.s3.amazonaws.com/0/25728/b05ef340-9985-1a2d-7fed-fd9bb535dbfe.png)\n\n\n```bash:\ngem install mailcatcher\nmailcatcher -f\n```\n\n* http://127.0.0.1:1025/  : smtp\u30dd\u30fc\u30c8\n* http://127.0.0.1:1080/  : mailcatcher\u306eWebUI\n\n### \u4f8b\n\n* [File: README \u2014 Documentation for mail-iso-2022-jp (1.1.4)](http://www.rubydoc.info/gems/mail-iso-2022-jp/1.1.4)\n\n```rb:mailtest.rb\nrequire 'mail'\nrequire 'mail-iso-2022-jp'\n\nmail = Mail.new(:charset => 'ISO-2022-JP') do\n  from    'fromer@aaa.com'\n  to      'toer@bbb.com'\n  subject '\u30e1\u30fc\u30eb\u3067\u3059'\n  body <<-EOS\n\u672c\u6587\u3067\u3059\n\u3042\u3042\nEOS\nend\n\nmail.delivery_method :smtp, {\n  address:   '127.0.0.1',\n  port:      1025,\n  domain:    'bbb',\n  user_name: 'tester',\n  password:  ''\n}\n\nmail.deliver!\n```\n\n### html\u30e1\u30fc\u30eb\u306e\u4f8b\n\n```diff:mailtest.rb\n  mail = Mail.new(:charset => 'ISO-2022-JP') do\n    from    'fromer@aaa.com'\n    to      'toer@bbb.com'\n    +   format  'html'\n    subject '\u30e1\u30fc\u30eb\u3067\u3059'\n    body <<-EOS\n  \u672c\u6587\u3067\u3059\n- \u3042\u3042\n+ <font color=\"blue\">\u3042\u3042</font>\n  EOS\n  end\n```\n\n\n## \u30af\u30e9\u30b9\n\n* [Ruby\u306e\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3068\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u306e\u4f8b - Qiita](http://qiita.com/tbpgr/items/56eb65c0ea5882abbb07)\n\n```rb:\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\nclass Hoge\n  def self.hoge\n    puts \"hoge\"\n  end\nend\nHoge.hoge # => hoge\n```\n\n```rb:\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\nclass Hoge\n  class << self\n    def hoge\n      puts \"hoge\"\n    end\n  end\nend\nHoge.hoge # => hoge\n```\n\n```rb:\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\nclass Hoge\n  def hoge\n    puts \"hoge\"\n  end\nend\nHoge.new.hoge # => hoge\n```\n\n\n```rb:initialize\nclass Foo\n  def initialize\n    @foo = \"first\"\n  end\n  def getFoo\n    @foo\n  end\nend\n\nf1= Foo.new()\np f1.getFoo #first\n```\n\n```rb:\u30af\u30e9\u30b9\u5909\u6570(\u5148\u982d\u306b\u30a2\u30c3\u30c8\u30de\u30fc\u30af2\u3064(@@)\u3002\u30af\u30e9\u30b9\u5185\u304b\u3089\u306e\u307f\u53c2\u7167\u53ef\u80fd\u3002\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u9593\u3067\u5171\u6709)\nclass Foo\n  @@foo = \"first\"\n  def bar \n    p @@foo\n  end\n  def change\n    @@foo = \"second\"\n  end\nend\n\nf1 = Foo.new()\nf1.bar #first\n\nf2 = Foo.new()\nf2.bar #first\nf2.change\nf1.bar #second\nf2.bar #second\n#f1.foo \u3084 f1.@@foo\u306f\u30a8\u30e9\u30fc\n```\n\n```rb:\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570(\u5148\u982d\u306b@\u3002\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u9593\u3067\u5171\u6709\u3055\u308c\u306a\u3044)\nclass Foo\n  def initialize\n    @foo = \"first\"\n  end\n  def getFoo \n    @foo\n  end\n  def setFoo(val)\n    @foo = val\n  end\nend\n\nf1 = Foo.new()\np f1.getFoo\n\nf2 = Foo.new()\np f2.getFoo #first\nf2.setFoo('second')\np f2.getFoo #second\np f1.getFoo #first\n```\n\n## invalid multibyte char (US-ASCII)\n\n```rb:\n# encoding: utf-8\n```\n\n\u3059\u308c\u3070\u3088\u3044\u3067\u3059\u3002\n\n## case\n\n```rb:\n# encoding: utf-8\n\ndef road_signal(color)\n  case color\n  when \"\u8d64\"\n    p \"stop\"\n  when \"\u9ec4\u8272\"\n    p \"warning\"\n  else\n    p \"go\"\n  end\nend\n\nroad_signal(\"\u9752\")\n```\n\n## 2\u3064\u306e\u914d\u5217\u3092\u5408\u4f53(transpose)\n\n* [Class: Array (Ruby 2.2.0)](http://ruby-doc.org/core-2.2.0/Array.html#method-i-transpose)\n\n```rb:\ncolors = [\"blue\", \"yellow\", \"red\"]\nactions = [\"go\", \"warning\", \"stop\"]\nroad_signals = [colors,actions].transpose\n\np road_signals\n# [[\"blue\", \"go\"], [\"yellow\", \"warning\"], [\"red\", \"stop\"]]\n```\n\n```rb:\u30e9\u30f3\u30c0\u30e0\nr = road_signals\np r[rand(0..(r.length) -1)]\n```\n\n```rb:\u914d\u5217\u306e\u30cf\u30c3\u30b7\u30e5\u5316\nh = Hash[*road_signals.flatten]\np h\n# {\"blue\"=>\"go\", \"yellow\"=>\"warning\", \"red\"=>\"stop\"}\n```\n\n## \u30b5\u30f3\u30d7\u30eb\n\n```rb:\u4f8b1\n#encoding : utf-8\n\ndef current_signal()\n    road_signals = [\n      [\"\u8d64\", \"\u6b62\u307e\u308c\"],\n      [\"\u9752\", \"\u884c\u3051\"],\n      [\"\u9ec4\u8272\", \"\u6b62\u307e\u308c\u306a\u3051\u308c\u3070\u6ce8\u610f\u3057\u3066\u884c\u3051\"],\n      [\"\u6843\u8272\", \"\u5e30\u308c\"]\n    ]\n    max = (road_signals.length) -1\n    num = rand(0..max)\n    color = road_signals[num][0]\n    action = road_signals[num][1]\n    message = \"%s\u3067\u3059\u3002\u300c%s\u300d\" % [color, action]\nend\n\np current_signal()\np current_signal()\n```\n\n```rb:\u4f8b2\n#encoding : utf-8\n\ndef current_signal(r)\n    num = rand(0..(r.length) -1)\n    message = \"%s\u3067\u3059\u3002\u300c%s\u300d\" % [r[num][0], r[num][1]]\nend\n\ncolors = [\"\u8d64\", \"\u9752\", \"\u9ec4\u8272\", \"\u6843\u8272\"]\nactions = [\"\u6b62\u307e\u308c\", \"\u884c\u3051\", \"\u6b62\u307e\u308c\u306a\u3051\u308c\u3070\u6ce8\u610f\u3057\u3066\u884c\u3051\", \"\u5e30\u308c\"]\nroad_signals = [colors,actions].transpose\n\np current_signal(road_signals)\np current_signal(road_signals)\n```\n\n```rb:\u4f8b3\n#encoding : utf-8\n\nclass RoadSignal\n  def initialize()\n    @colors = [\"\u8d64\", \"\u9752\", \"\u9ec4\u8272\", \"\u6843\u8272\"]\n    @actions = [\"\u6b62\u307e\u308c\", \"\u884c\u3051\", \"\u6b62\u307e\u308c\u306a\u3051\u308c\u3070\u6ce8\u610f\u3057\u3066\u884c\u3051\", \"\u5e30\u308c\"]\n  end\n  def look()\n    num = rand(0..(@colors.length) -1)\n    message = \"%s\u3067\u3059\u3002\u300c%s\u300d\" % [@colors[num], @actions[num]]\n  end\nend\n\nsignal = RoadSignal.new()\np signal.look\np signal.look\n```\n"}