{"context": " More than 1 year has passed since last update.\n\nGentoo\u3092VM\u304b\u3089\u8d77\u52d5\u3059\u308b\u3002\n\u4e0b\u8a18\u304b\u3089VM\u3092\u4f5c\u6210\u3059\u308b\u3002\nhttp://qiita.com/igara/items/989ea37805f0db85b2f2\nVM\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u30d6\u30ea\u30c3\u30b8\u306b\u3057\u3066\u5b9f\u884c\n\nH2O\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306e\u6e96\u5099\nGentoo\u306bssh\u3067\u63a5\u7d9a\u3057\u305f\u3089\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u305f\u3061\u3092\u5b9f\u884c\u3059\u308b\u3002\n\nGit\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo emerge git\n\n\nlibyaml\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo emerge libyaml\n\n\nH2O\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4e0b\u8a18\u3092\u53c2\u8003\nhttps://h2o.examp1e.net/install.html\n# H2O\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n$ wget https://github.com/h2o/h2o/archive/v1.5.0.tar.gz\n# \u89e3\u51cd\n$ tar zxf v1.5.0.tar.gz\n\n# \u89e3\u51cd\u3057\u3066\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3059\u308b\n$ cd h2o-1.5.0/\n# -DWITH_BUNDLED_SSL\u30d5\u30e9\u30b0\u3068\u3044\u3046\u306e\u304c\u3042\u308b\u306e\u3060\u305d\u3046\u3060\n$ cmake -DWITH_BUNDLED_SSL=on .\n\n# build\n$ cmake .\n$ make h2o\n$ sudo make install\n\n\nH2O\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\nh2o.conf\nuser: vagrant\n\nlisten: 80\n\nhosts:\n \"example.com\":\n   paths:\n    /:\n     file.dir: /home/vagrant/public_html\n\nfile.custom-handler:\n extension: .php\n fastcgi.connect:\n  host: 127.0.0.1\n  port: 9000\n  type: tcp\n\naccess-log: /home/vagrant/access-log\nerror-log: /home/vagrant/error-log\npid-file: /home/vagrant/pid-file\n\n\n\npublic_html\u306e\u4f5c\u6210\u3068index.html\u306e\u4f5c\u6210\n# public_html\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\n$ mkdir /home/vagrant/public_html\n\npublic_html\u306bindex.html\u3068index.php\u3092\u4f5c\u6210\u3059\u308b\n\nindex.html\nHello H2O!\n\n\n\nindex.php\n<?PHP\n    phpinfo();\n\n\n\nH2O\u306e\u8d77\u52d5\u3068\u7d42\u4e86\n# \u8d77\u52d5\n$ sudo h2o -m daemon -c h2o.conf\n# \u7d42\u4e86\n$ sudo kill -TERM `cat /home/vagrant/pid-file`\n\n\nPHP\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n\nphpenv\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u308c\u306f\nhttps://blog.sus-happy.net/201506/h2o_php7/#php7-boot\n\u3092\u53c2\u7167\u306b\n$ git clone https://github.com/CHH/phpenv.git\n$ cd phpenv/bin/\n$ sh phpenv-install.sh\n\n\n~/.bashrc\nexport PATH=\"/home/vagrant/.phpenv/bin:$PATH\"\neval \"$(phpenv init -)\"\n\n\n$ source ~/.bashrc\n\n\nphp-build\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u308c\u3082\nhttps://blog.sus-happy.net/201506/h2o_php7/#php7-boot\n\u3092\u53c2\u7167\u306b\n$ git clone https://github.com/CHH/php-build.git\n$ cd php-build/\n$ sudo sh install.sh\n\n\nPHP7\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ php-build --definitions\n5.2.17\n\u2191\n\u7701\u7565\n\u2193\n5.6.14\n5.6snapshot\n7.0.0alpha1\n7.0.0alpha2\n7.0.0beta1\n7.0.0beta2\n7.0.0beta3\n7.0.0RC1\n7.0.0RC2\n7.0.0RC3\n7.0.0RC4\n7.0snapshot\nmaster\n\nPHP\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5165\u308c\u308b\n# libjpeg\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget http://www.ijg.org/files/jpegsrc.v9a.tar.gz\n$ tar xzf jpegsrc.v9a.tar.gz\n$ ./configure --enable-shared\n$ make\n$ make install\n\n# libpng\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget http://prdownloads.sourceforge.net/libpng/libpng-1.6.18.tar.gz\n$ tar xzf libpng-1.6.18.tar.gz\n$ cd libpng-1.6.18\n$ ./configure --enable-shared\n$ make\n$ sudo make install\n\n$ cd\n\n# \u307e\u3060\u8db3\u308a\u306a\u3044\u306e\u304c\u3042\u308b\u304b\u3082\nUSE=\"tidy\" emerge php\nUSE=\"fpm\" emerge php\n\n\n7.0.0RC4\u3092\u30d3\u30eb\u30c9\n$ sudo php-build 7.0.0RC4 ~/.phpenv/versions/7.0.0RC4\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3053\u3068\u304c\u3042\u308bPHP\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n$ phpenv versions\n$ php-fpm -v\n# \u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3059\u308b\n\nPHP\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\n$ phpenv global 7.0.0RC4\n$ php-fpm -v\n# \u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3059\u308b\n\nPHP Config\n# php-fpm.conf\u3092\u66f4\u65b0\n$ cp ~/.phpenv/versions/7.0.0RC4/etc/php-fpm.conf.default ~/.phpenv/versions/7.0.0RC4/etc/php-fpm.conf\n# php-fpm.d/www.conf\u3082\u66f4\u65b0\ncp ~/.phpenv/versions/7.0.0RC4/etc/php-fpm.d/www.conf.default ~/.phpenv/versions/7.0.0RC4/etc/php-fpm.d/www.conf \n\n# php-fpm\u3092\u5b9f\u884c\n~/.phpenv/versions/7.0.0RC4/sbin/php-fpm &\n# \u30a8\u30e9\u30fc\u304c\u51fa\u306a\u3051\u308c\u3070\u554f\u984c\u7121\u3057\n\nH2O\u3092\u8d77\u52d5\u3057\u3066index.html\u3068index.php\u3092\u898b\u3066\u307f\u308b\n\n\nlaravel\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\n# composer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/local/bin --filename=composer\n$ composer global require \"laravel/installer=~1.1\"\n$ laravel new slack_rack_php\n\nh2o\u306epaths\u3092laravel\u306epublic\u30d5\u30a9\u30eb\u30c0\u306b\u5909\u66f4\u3055\u305b\u308b\n\nh2o.conf\nuser: vagrant\n\nlisten: 80\n\nhosts:\n \"example.com\":\n   paths:\n    /:\n     file.dir: /home/vagrant/slack_rack_php/public\n\nfile.custom-handler:\n extension: .php\n fastcgi.connect:\n  host: 127.0.0.1\n  port: 9000\n  type: tcp\n\naccess-log: /home/vagrant/access-log\nerror-log: /home/vagrant/error-log\npid-file: /home/vagrant/pid-file\n\n\n# Gentoo\u3092VM\u304b\u3089\u8d77\u52d5\u3059\u308b\u3002\n\u4e0b\u8a18\u304b\u3089VM\u3092\u4f5c\u6210\u3059\u308b\u3002\nhttp://qiita.com/igara/items/989ea37805f0db85b2f2\n\nVM\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u30d6\u30ea\u30c3\u30b8\u306b\u3057\u3066\u5b9f\u884c\n\n# H2O\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u524d\u306e\u6e96\u5099\nGentoo\u306bssh\u3067\u63a5\u7d9a\u3057\u305f\u3089\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u305f\u3061\u3092\u5b9f\u884c\u3059\u308b\u3002\n\n## Git\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo emerge git\n```\n\n## libyaml\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo emerge libyaml\n```\n\n# H2O\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4e0b\u8a18\u3092\u53c2\u8003\nhttps://h2o.examp1e.net/install.html\n\n```\n# H2O\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n$ wget https://github.com/h2o/h2o/archive/v1.5.0.tar.gz\n# \u89e3\u51cd\n$ tar zxf v1.5.0.tar.gz\n\n# \u89e3\u51cd\u3057\u3066\u4f5c\u6210\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3059\u308b\n$ cd h2o-1.5.0/\n# -DWITH_BUNDLED_SSL\u30d5\u30e9\u30b0\u3068\u3044\u3046\u306e\u304c\u3042\u308b\u306e\u3060\u305d\u3046\u3060\n$ cmake -DWITH_BUNDLED_SSL=on .\n\n# build\n$ cmake .\n$ make h2o\n$ sudo make install\n```\n\n# H2O\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n```h2o.conf\nuser: vagrant\n\nlisten: 80\n\nhosts:\n \"example.com\":\n   paths:\n    /:\n     file.dir: /home/vagrant/public_html\n\nfile.custom-handler:\n extension: .php\n fastcgi.connect:\n  host: 127.0.0.1\n  port: 9000\n  type: tcp\n\naccess-log: /home/vagrant/access-log\nerror-log: /home/vagrant/error-log\npid-file: /home/vagrant/pid-file\n```\n\n# public_html\u306e\u4f5c\u6210\u3068index.html\u306e\u4f5c\u6210\n\n```\n# public_html\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3059\u308b\n$ mkdir /home/vagrant/public_html\n```\npublic_html\u306bindex.html\u3068index.php\u3092\u4f5c\u6210\u3059\u308b\n\n\n```index.html\nHello H2O!\n```\n```index.php\n<?PHP\n    phpinfo();\n```\n# H2O\u306e\u8d77\u52d5\u3068\u7d42\u4e86\n\n```\n# \u8d77\u52d5\n$ sudo h2o -m daemon -c h2o.conf\n# \u7d42\u4e86\n$ sudo kill -TERM `cat /home/vagrant/pid-file`\n```\n\n# PHP\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\n\n## phpenv\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u3053\u308c\u306f\nhttps://blog.sus-happy.net/201506/h2o_php7/#php7-boot\n\u3092\u53c2\u7167\u306b\n\n```\n$ git clone https://github.com/CHH/phpenv.git\n$ cd phpenv/bin/\n$ sh phpenv-install.sh\n```\n\n``` ~/.bashrc\nexport PATH=\"/home/vagrant/.phpenv/bin:$PATH\"\neval \"$(phpenv init -)\"\n```\n\n```\n$ source ~/.bashrc\n```\n\n## php-build\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u3053\u308c\u3082\nhttps://blog.sus-happy.net/201506/h2o_php7/#php7-boot\n\u3092\u53c2\u7167\u306b\n\n```\n$ git clone https://github.com/CHH/php-build.git\n$ cd php-build/\n$ sudo sh install.sh\n```\n\n## PHP7\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ php-build --definitions\n5.2.17\n\u2191\n\u7701\u7565\n\u2193\n5.6.14\n5.6snapshot\n7.0.0alpha1\n7.0.0alpha2\n7.0.0beta1\n7.0.0beta2\n7.0.0beta3\n7.0.0RC1\n7.0.0RC2\n7.0.0RC3\n7.0.0RC4\n7.0snapshot\nmaster\n```\n\nPHP\u306b\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5165\u308c\u308b\n\n```\n# libjpeg\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget http://www.ijg.org/files/jpegsrc.v9a.tar.gz\n$ tar xzf jpegsrc.v9a.tar.gz\n$ ./configure --enable-shared\n$ make\n$ make install\n\n# libpng\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget http://prdownloads.sourceforge.net/libpng/libpng-1.6.18.tar.gz\n$ tar xzf libpng-1.6.18.tar.gz\n$ cd libpng-1.6.18\n$ ./configure --enable-shared\n$ make\n$ sudo make install\n\n$ cd\n\n# \u307e\u3060\u8db3\u308a\u306a\u3044\u306e\u304c\u3042\u308b\u304b\u3082\nUSE=\"tidy\" emerge php\nUSE=\"fpm\" emerge php\n\n```\n7.0.0RC4\u3092\u30d3\u30eb\u30c9\n\n```\n$ sudo php-build 7.0.0RC4 ~/.phpenv/versions/7.0.0RC4\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3053\u3068\u304c\u3042\u308bPHP\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n\n```\n$ phpenv versions\n$ php-fpm -v\n# \u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3059\u308b\n```\nPHP\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\n\n```\n$ phpenv global 7.0.0RC4\n$ php-fpm -v\n# \u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3059\u308b\n```\n\nPHP Config\n\n```\n# php-fpm.conf\u3092\u66f4\u65b0\n$ cp ~/.phpenv/versions/7.0.0RC4/etc/php-fpm.conf.default ~/.phpenv/versions/7.0.0RC4/etc/php-fpm.conf\n# php-fpm.d/www.conf\u3082\u66f4\u65b0\ncp ~/.phpenv/versions/7.0.0RC4/etc/php-fpm.d/www.conf.default ~/.phpenv/versions/7.0.0RC4/etc/php-fpm.d/www.conf \n\n# php-fpm\u3092\u5b9f\u884c\n~/.phpenv/versions/7.0.0RC4/sbin/php-fpm &\n# \u30a8\u30e9\u30fc\u304c\u51fa\u306a\u3051\u308c\u3070\u554f\u984c\u7121\u3057\n```\n\nH2O\u3092\u8d77\u52d5\u3057\u3066index.html\u3068index.php\u3092\u898b\u3066\u307f\u308b\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-10-12 23.01.28.png](https://qiita-image-store.s3.amazonaws.com/0/89599/fb9ee262-8d08-dec2-57cd-7e20d537439a.png)\n\n# laravel\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\n\n```\n# composer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/local/bin --filename=composer\n$ composer global require \"laravel/installer=~1.1\"\n$ laravel new slack_rack_php\n```\nh2o\u306epaths\u3092laravel\u306epublic\u30d5\u30a9\u30eb\u30c0\u306b\u5909\u66f4\u3055\u305b\u308b\n\n```h2o.conf\nuser: vagrant\n\nlisten: 80\n\nhosts:\n \"example.com\":\n   paths:\n    /:\n     file.dir: /home/vagrant/slack_rack_php/public\n\nfile.custom-handler:\n extension: .php\n fastcgi.connect:\n  host: 127.0.0.1\n  port: 9000\n  type: tcp\n\naccess-log: /home/vagrant/access-log\nerror-log: /home/vagrant/error-log\npid-file: /home/vagrant/pid-file\n```\n", "tags": ["Gentoo", "h2o", "PHP7"]}