{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u305d\u3093\u306a\u6c17\u306f\u3057\u3066\u305f\u3051\u3069\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306bonclick\u3067_gaq.push()\u3059\u308b\u3068\u30da\u30fc\u30b8\u9077\u79fb\u3067\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u304c\u4e2d\u65ad\u3055\u308c\u3066\u8a08\u6e2c\u6f0f\u308c\u3059\u308b\u3053\u3068\u304c\u3042\u308b\u3089\u3057\u3044\u3002\n<a href=\"hoge.html\" onclick=\"_gaq.push(['_trackPageview', 'click/hoge']);\">hoge\u3078</a>\n\n_trackPageView\u3084_trackEvent\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u5b8c\u4e86\u3057\u3066\u304b\u3089\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b\u3053\u3068\u3067\u8a08\u6e2c\u6f0f\u308c\u3092\u306a\u304f\u305b\u308b\u306f\u305a\u3002\n_gaq.push(['_trackPageview', {\n  page       : 'click/hoge',\n  hitCallback: function () {\n    console.log('\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u5b8c\u4e86!');\n  }\n}]);\n\n\n\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u4f7f\u3063\u3066\u30c8\u30e9\u30c3\u30af\u5b8c\u4e86\u5f8c\u306b\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u306f\u3001Ctrl\u3084Command\u3092\u62bc\u4e0b\u3057\u306a\u304c\u3089\u306e\u30ea\u30f3\u30af\u30af\u30ea\u30c3\u30af\u3084\u3001target\u304c_self\u4ee5\u5916\u306e\u6642\u306f\u5225\u7a93\u3067\u958b\u304f\u306e\u3067\u305d\u3082\u305d\u3082\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u4f55\u304b\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3002\u540c\u3058\u7a93\u3067\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b\u5834\u5408\u306e\u307f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b(if\u5185\u306e\u51e6\u7406)\u3002\n$.extend($, {\n  gaPageview: function(page, callback) {\n    _gaq.push([\n      '_trackPageview', {\n        page: page,\n        hitCallback: callback\n      }\n    ]);\n  }\n});\n$.fn.extend({\n  gaPageview: function(attr) {\n    return this.on('click', function(e) {\n      var $el, callback, page, target;\n      $el = $(this);\n      page = $el.attr(attr);\n      if (page == null) {\n        return;\n      }\n      if ($el.is('a')) {\n        target = $el.attr('target');\n        if (!e.ctrlKey && !e.metaKey && (!target || target === '_self')) {\n          e.preventDefault();\n          callback = function() {\n            location.href = $el.attr('href');\n          };\n        }\n      }\n      $.gaPageview(page, callback);\n    });\n  }\n});\n\n\u3053\u3093\u306a\u611f\u3058\u3067jQuery\u3092\u62e1\u5f35\u3057\u3066\u304a\u304f\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3082\u697d\u3002\n$(function () {\n  $('a[data-ga]').gaPageview('data-ga');\n});\n\n<ul>\n  <li><a href=\"#hoge\" data-ga=\"internal\">internal</a></li>\n  <li><a href=\"dummy.html\" data-ga=\"none\">none</a></li>\n  <li><a href=\"dummy.html\" target=\"\" data-ga=\"empty\">empty</a></li>\n  <li><a href=\"dummy.html\" target=\"_self\" data-ga=\"_self\">_self</a></li>\n  <li><a href=\"dummy.html\" target=\"_blank\" data-ga=\"_blank\">_blank</a></li>\n  <li><a href=\"dummy.html\" target=\"dummy\" data-ga=\"dummy\">dummy</a></li>\n</ul>\n\n\n\u95a2\u9023\u8a18\u4e8b\nGoogle\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u975e\u540c\u671f\u30b3\u30fc\u30c9\u306b\u304a\u3051\u308b\u65b0\u3057\u3044API\u306b\u3064\u3044\u3066\uff5c\u30b3\u30e9\u30e0 \u30a2\u30e6\u30c0\u30f3\u30c6\u682a\u5f0f\u4f1a\u793e\nAdvanced Configuration - Web Tracking (analytics.js) - Google Analytics \u2014 Google Developers\nJavaScript - \u3053\u306e\u590fGoogle Analytics\u304c\u65b0\u3057\u304f\u306a\u308b\u3063\u3066\u77e5\u3063\u3066\u305f\uff1fUniversal Analytics\u3092\u4e88\u7fd2\u3057\u3088\u3046 - Qiita [\u30ad\u30fc\u30bf]\n## \u6982\u8981\n\n\u305d\u3093\u306a\u6c17\u306f\u3057\u3066\u305f\u3051\u3069\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b`onclick`\u3067`_gaq.push()`\u3059\u308b\u3068\u30da\u30fc\u30b8\u9077\u79fb\u3067\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u304c\u4e2d\u65ad\u3055\u308c\u3066\u8a08\u6e2c\u6f0f\u308c\u3059\u308b\u3053\u3068\u304c\u3042\u308b\u3089\u3057\u3044\u3002\n\n```html:\n<a href=\"hoge.html\" onclick=\"_gaq.push(['_trackPageview', 'click/hoge']);\">hoge\u3078</a>\n```\n\n`_trackPageView`\u3084`_trackEvent`\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u8a2d\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u5b8c\u4e86\u3057\u3066\u304b\u3089\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b\u3053\u3068\u3067\u8a08\u6e2c\u6f0f\u308c\u3092\u306a\u304f\u305b\u308b\u306f\u305a\u3002\n\n```js:\n_gaq.push(['_trackPageview', {\n  page       : 'click/hoge',\n  hitCallback: function () {\n    console.log('\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u5b8c\u4e86!');\n  }\n}]);\n```\n\n## \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u4f7f\u3063\u3066\u30c8\u30e9\u30c3\u30af\u5b8c\u4e86\u5f8c\u306b\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u306f\u3001`Ctrl`\u3084`Command`\u3092\u62bc\u4e0b\u3057\u306a\u304c\u3089\u306e\u30ea\u30f3\u30af\u30af\u30ea\u30c3\u30af\u3084\u3001`target`\u304c`_self`\u4ee5\u5916\u306e\u6642\u306f\u5225\u7a93\u3067\u958b\u304f\u306e\u3067\u305d\u3082\u305d\u3082\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u4f55\u304b\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u3002\u540c\u3058\u7a93\u3067\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b\u5834\u5408\u306e\u307f\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b(`if`\u5185\u306e\u51e6\u7406)\u3002\n\n```js:\n$.extend($, {\n  gaPageview: function(page, callback) {\n    _gaq.push([\n      '_trackPageview', {\n        page: page,\n        hitCallback: callback\n      }\n    ]);\n  }\n});\n$.fn.extend({\n  gaPageview: function(attr) {\n    return this.on('click', function(e) {\n      var $el, callback, page, target;\n      $el = $(this);\n      page = $el.attr(attr);\n      if (page == null) {\n        return;\n      }\n      if ($el.is('a')) {\n        target = $el.attr('target');\n        if (!e.ctrlKey && !e.metaKey && (!target || target === '_self')) {\n          e.preventDefault();\n          callback = function() {\n            location.href = $el.attr('href');\n          };\n        }\n      }\n      $.gaPageview(page, callback);\n    });\n  }\n});\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067jQuery\u3092\u62e1\u5f35\u3057\u3066\u304a\u304f\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3082\u697d\u3002\n\n```js:\n$(function () {\n  $('a[data-ga]').gaPageview('data-ga');\n});\n```\n\n```html:\n<ul>\n  <li><a href=\"#hoge\" data-ga=\"internal\">internal</a></li>\n  <li><a href=\"dummy.html\" data-ga=\"none\">none</a></li>\n  <li><a href=\"dummy.html\" target=\"\" data-ga=\"empty\">empty</a></li>\n  <li><a href=\"dummy.html\" target=\"_self\" data-ga=\"_self\">_self</a></li>\n  <li><a href=\"dummy.html\" target=\"_blank\" data-ga=\"_blank\">_blank</a></li>\n  <li><a href=\"dummy.html\" target=\"dummy\" data-ga=\"dummy\">dummy</a></li>\n</ul>\n```\n\n## \u95a2\u9023\u8a18\u4e8b\n[Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u975e\u540c\u671f\u30b3\u30fc\u30c9\u306b\u304a\u3051\u308b\u65b0\u3057\u3044API\u306b\u3064\u3044\u3066\uff5c\u30b3\u30e9\u30e0 \u30a2\u30e6\u30c0\u30f3\u30c6\u682a\u5f0f\u4f1a\u793e](http://www.ayudante.jp/column/2012-05-17/18-03/ \"Google\u30a2\u30ca\u30ea\u30c6\u30a3\u30af\u30b9\u975e\u540c\u671f\u30b3\u30fc\u30c9\u306b\u304a\u3051\u308b\u65b0\u3057\u3044API\u306b\u3064\u3044\u3066\uff5c\u30b3\u30e9\u30e0 \u30a2\u30e6\u30c0\u30f3\u30c6\u682a\u5f0f\u4f1a\u793e\")\n[Advanced Configuration - Web Tracking (analytics.js) - Google Analytics \u2014 Google Developers](https://developers.google.com/analytics/devguides/collection/analyticsjs/advanced?hl=ja#hitCallback)\n[JavaScript - \u3053\u306e\u590fGoogle Analytics\u304c\u65b0\u3057\u304f\u306a\u308b\u3063\u3066\u77e5\u3063\u3066\u305f\uff1fUniversal Analytics\u3092\u4e88\u7fd2\u3057\u3088\u3046 - Qiita [\u30ad\u30fc\u30bf]](http://qiita.com/yuku_t/items/128ad659e1474c7e20d6)\n", "tags": ["JavaScript", "GoogleAnalytics"]}