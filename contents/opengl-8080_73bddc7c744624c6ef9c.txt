{"context": " More than 1 year has passed since last update.CDI \u306e Event \u306b\u3064\u3044\u3066\u30e1\u30e2\u3002\n\u8981\u306f\u3001 Observer \u30d1\u30bf\u30fc\u30f3\u7684\u306a\u3082\u306e\u3092 CDI \u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u5b9f\u73fe\u3059\u308b\u65b9\u6cd5\u306e\u3053\u3068\u3002\n\n\u74b0\u5883\n\nWeld\n1.1.10\n\n\u57fa\u672c\u7684\u306a\u5b9f\u88c5\n\n\u901a\u77e5\u3059\u308b\u4eba\uff08Subject\uff09\n\nSubject.java\npackage cdi.event.nullpo;\n\nimport javax.enterprise.event.Event;\nimport javax.inject.Inject;\n\npublic class Subject {\n\n    @Inject private Event<NullPo> event;\n\n    public void notifyObservers() {\n        System.out.println(\"[Subject] \u306c\u308b\u307d\");\n        this.event.fire(new NullPo());\n    }\n}\n\n\n\n\u901a\u77e5\u3092\u53d7\u3051\u308b\u4eba\uff08Observer\uff09\n\nObserverA.java\npackage cdi.event.nullpo;\n\nimport javax.enterprise.event.Observes;\n\npublic class ObserverA {\n    public void event(@Observes NullPo nullPo) {\n        System.out.println(\"[Observer A] \uff76\uff9e\uff6f!!\");\n    }\n}\n\n\n\nObserverB.java\npackage cdi.event.nullpo;\n\npublic class ObserverB {\n    public void event(NullPo nullPo) {\n        System.out.println(\"[Observer B] \uff76\uff9e\uff6f!!\");\n    }\n}\n\n\n\nObserverC.java\npackage cdi.event.nullpo;\n\nimport java.util.List;\nimport javax.enterprise.event.Observes;\n\npublic class ObserverC {\n    public void event(@Observes List<String> list) {\n        System.out.println(\"[Observer C] \uff76\uff9e\uff6f!!\");\n    }\n}\n\n\n\n\u60c5\u5831\u3092\u3084\u308a\u53d6\u308a\u3059\u308b\u305f\u3081\u306e\u30af\u30e9\u30b9\n\nNullPo.java\npackage cdi.event.nullpo;\n\npublic class NullPo {\n}\n\n\n\n\u5b9f\u884c\u7528\u30af\u30e9\u30b9\n\nMain.java\npackage cdi.event.nullpo;\n\nimport org.jboss.weld.environment.se.Weld;\nimport org.jboss.weld.environment.se.WeldContainer;\n\npublic class Main {\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        WeldContainer container = weld.initialize();\n\n        Subject application = container.instance().select(Subject.class).get();\n        application.notifyObservers();\n\n        weld.shutdown();\n    }\n}\n\n\n\n\u5b9f\u884c\u7d50\u679c\n\n\u5b9f\u884c\u7d50\u679c\n[Subject] \u306c\u308b\u307d\n[Observer A] \uff76\uff9e\uff6f!!\n\n\n\n\u8aac\u660e\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u901a\u77e5\nimport javax.enterprise.event.Event;\nimport javax.inject.Inject;\n\npublic class Subject {\n\n    @Inject private Event<NullPo> event; // Event \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\u3057\u3066\n\n    public void notifyObservers() {\n        this.event.fire(new NullPo()); // fire \u30e1\u30bd\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u901a\u77e5\n    }\n}\n\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u901a\u77e5\u306f javax.enterprise.event.Event \u30af\u30e9\u30b9\u306e fire \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3002 Event \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u81ea\u4f53\u306f\u3001 @Inject \u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3057\u3066\u304a\u304f\u3002\nfire \u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306b\u6e21\u3057\u305f\u30af\u30e9\u30b9\u3092\u5f15\u6570\u306b\u53d7\u3051\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3001\u304b\u3064\u305d\u306e\u5f15\u6570\u306b javax.enterprise.event.Observes \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306e\u30e1\u30bd\u30c3\u30c9\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u901a\u77e5\u3055\u308c\u308b\u3002\n\nObservers\n// Observer A\n// NullPo \u3092\u53d7\u3051\u53d6\u308a\u3001 @Observer \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u901a\u77e5\u5bfe\u8c61\npublic void event(@Observes NullPo nullPo) {\n    System.out.println(\"[Observer A] \uff76\uff9e\uff6f!!\");\n}\n\n// Observer B\n// NullPo \u3092\u53d7\u3051\u53d6\u3063\u3066\u3044\u308b\u304c\u3001 @Observer \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u901a\u77e5\u5bfe\u8c61\u5916\npublic void event(NullPo nullPo) {\n    System.out.println(\"[Observer B] \uff76\uff9e\uff6f!!\");\n}\n\n// Observer C\n// NullPo \u3092\u53d7\u3051\u53d6\u3089\u306a\u3044\u306e\u3067\u3001\u901a\u77e5\u5bfe\u8c61\u5916\npublic void event(@Observes List<String> list) {\n    System.out.println(\"[Observer C] \uff76\uff9e\uff6f!!\");\n}\n\n\n\n\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3067\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u3080\n\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3092\u4f7f\u3063\u3066\u3001\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u3081\u308b\u3002\n\n\u901a\u77e5\u3059\u308b\u4eba\uff08Subject\uff09\n\nSubject.java\npackage cdi.event.qualifier;\n\nimport javax.enterprise.event.Event;\nimport javax.inject.Inject;\n\npublic class Subject {\n\n    @Inject @Man\n    private Event<String> manEvent;\n\n    @Inject @Woman\n    private Event<String> womanEvent;\n\n    public void notifyObservers() {\n\n        System.out.println(\"[Subject] \u7537\u6027\u6319\u624b\");\n        this.manEvent.fire(\"notify\");\n\n        System.out.println(\"\\r\\n[Subject] \u5973\u6027\u6319\u624b\");\n        this.womanEvent.fire(\"nodify\");\n    }\n}\n\n\n\n\u901a\u77e5\u3092\u53d7\u3051\u308b\u4eba\uff08Observer\uff09\n\nTaro.java\npackage cdi.event.qualifier;\n\nimport javax.enterprise.event.Observes;\n\npublic class Taro {\n    public void event(@Observes @Man String info) {\n        System.out.println(\"[\u592a\u90ce] \u30ce\");\n    }\n}\n\n\n\nHanako.java\npackage cdi.event.qualifier;\n\nimport javax.enterprise.event.Observes;\n\npublic class Hanako {\n    public void event(@Observes @Woman String info) {\n        System.out.println(\"[\u82b1\u5b50] \u30ce\");\n    }\n}\n\n\n\nOsugiAndPiko\npackage cdi.event.qualifier;\n\nimport javax.enterprise.event.Observes;\n\npublic class OsugiAndPiko {\n    public void event(@Observes String info) {\n        System.out.println(\"[\u304a\u3059\u30d4\u30fc] \u30ce\");\n    }\n}\n\n\n\n\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\n\nMan.java\npackage cdi.event.qualifier;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport javax.inject.Qualifier;\n\n@Qualifier\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.PARAMETER, ElementType.FIELD})\npublic @interface Man {\n}\n\n\n\nWoman.java\npackage cdi.event.qualifier;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport javax.inject.Qualifier;\n\n@Qualifier\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.PARAMETER, ElementType.FIELD})\npublic @interface Woman {\n}\n\n\n\n\u5b9f\u884c\u7528\u30af\u30e9\u30b9\n\nMain.java\npackage cdi.event.qualifier;\n\nimport org.jboss.weld.environment.se.Weld;\nimport org.jboss.weld.environment.se.WeldContainer;\n\npublic class Main {\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        WeldContainer container = weld.initialize();\n\n        Subject application = container.instance().select(Subject.class).get();\n        application.notifyObservers();\n\n        weld.shutdown();\n    }\n}\n\n\n\n\u5b9f\u884c\u7d50\u679c\n\n\u5b9f\u884c\u7d50\u679c\n[Subject] \u7537\u6027\u6319\u624b\n[\u592a\u90ce] \u30ce\n[\u304a\u3059\u30d4\u30fc] \u30ce\n\n[Subject] \u5973\u6027\u6319\u624b\n[\u82b1\u5b50] \u30ce\n[\u304a\u3059\u30d4\u30fc] \u30ce\n\n\n\n\u8aac\u660e\n\nEvent\u306b\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3092\u4ed8\u4e0e\u3057\u3066\u3001\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u3080\n    @Inject @Man\n    private Event<String> manEvent;\n\n    @Inject @Woman\n    private Event<String> womanEvent;\n\n\nEvent \u3092\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3059\u308b\u5834\u6240\u3067\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3092\u4ed8\u4e0e\u3059\u308b\u3053\u3068\u3067\u3001\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u306e\u901a\u77e5\u5148\u3092\u7d5e\u308a\u8fbc\u3080\u3053\u3068\u304c\u51fa\u6765\u308b\u3002\n\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3067\u7d5e\u308a\u3053\u307e\u308c\u305f\u30a4\u30d9\u30f3\u30c8\u306f\u3001 @Observers \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u307f\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u304b\u3001\u307e\u305f\u306f @Observers \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3068\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u304c\u4e21\u65b9\u3068\u3082\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5\u3055\u308c\u308b\u3002\n\nObservers\n// Taro\n// @Man \u304c\u4ed8\u4e0e\u3055\u308c\u305f Event \u3060\u3051\u304c\u901a\u77e5\u3055\u308c\u308b\npublic void event(@Observes @Man String info) {\n    System.out.println(\"[\u592a\u90ce] \u30ce\");\n}\n\n// Hanako\n// @Woman \u304c\u4ed8\u4e0e\u3055\u308c\u305f Event \u3060\u3051\u304c\u901a\u77e5\u3055\u308c\u308b\npublic void event(@Observes @Woman String info) {\n    System.out.println(\"[\u82b1\u5b50] \u30ce\");\n}\n\n\n// OsugiAndPiko\n// \u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u5168\u3066\u306e Event \u304c\u901a\u77e5\u3055\u308c\u308b\npublic void event(@Observes String info) {\n    System.out.println(\"[\u304a\u3059\u30d4\u30fc] \u30ce\");\n}\n\n\n\u3061\u306a\u307f\u306b\u3001 @Man \u3068 @Woman \u306e\u4e21\u65b9\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u3068\u3001\u9006\u306b\u30a4\u30d9\u30f3\u30c8\u306f\u901a\u77e5\u3055\u308c\u306a\u3044\u3002\npublic void event(@Observes @Man @Woman String info) {\n    System.out.println(\"\u30ce\");\n}\n\n\n\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3092\u52d5\u7684\u306b\u6307\u5b9a\u3059\u308b\n\u524d\u8ff0\u306e\u65b9\u6cd5\u3060\u3068\u3001\u30a4\u30d9\u30f3\u30c8\u306e\u7d5e\u308a\u8fbc\u307f\u304c\u9759\u7684\u306b\u306a\u308a\u3001\u6761\u4ef6\u306b\u3088\u3063\u3066\u901a\u77e5\u3059\u308b\u5bfe\u8c61\u3092\u5207\u308a\u66ff\u3048\u308b\u3088\u3046\u306a\u52d5\u7684\u306a\u51e6\u7406\u304c\u3067\u304d\u306a\u3044\u3002\n\u52d5\u7684\u306b\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u307f\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n\n\u52d5\u7684\u306b\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u3080\n\n    @Inject\n    private Event<String> event;\n\n    @SuppressWarnings(\"serial\")\n    public void notifyObservers() {\n        this.event.select(new AnnotationLiteral<Man>() {}).fire(\"notify\");\n    }\n\n\nEvent#select(Annotation...) \u30e1\u30bd\u30c3\u30c9\u3067\u7d5e\u8fbc\u5bfe\u8c61\u3092\u6307\u5b9a\u3057\u3066\u3001\u7d9a\u3051\u3066 fire \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\n\n\u4f8b\u5916\u51e6\u7406\u306b\u3064\u3044\u3066\nObserver \u5074\u306e\u3044\u305a\u308c\u304b\u306e\u51e6\u7406\u3067\u4f8b\u5916\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u3001 fire \u30e1\u30bd\u30c3\u30c9\u3067\u4f8b\u5916\u3092\u30ad\u30e3\u30c3\u30c1\u3067\u304d\u308b\u3002\n\nMain.java\npackage cdi.event.test;\n\nimport javax.enterprise.event.Event;\nimport javax.enterprise.event.Observes;\nimport javax.inject.Inject;\n\nimport org.jboss.weld.environment.se.Weld;\nimport org.jboss.weld.environment.se.WeldContainer;\n\npublic class Main {\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        WeldContainer container = weld.initialize();\n\n        Main main = container.instance().select(Main.class).get();\n        main.notifyObservers();    // \uff11\n\n        weld.shutdown();\n    }\n\n    @Inject\n    private Event<String> event;\n\n    public void notifyObservers() {\n        try {\n            this.event.fire(\"notify\");    // \uff12\n        } catch (Exception e) {\n            System.out.println(e.getMessage());    // \uff14\n        }\n    }\n\n    public void event(@Observes String info) {\n        throw new RuntimeException(\"error!!\");    // \uff13\n    }\n}\n\n\n\n\u5b9f\u884c\u7d50\u679c\nerror!!\n\n\n\n\u53c2\u8003\n\nChapter 11. Events | Seam Framework - Seam Documentation\n\nCDI \u306e Event \u306b\u3064\u3044\u3066\u30e1\u30e2\u3002\n\u8981\u306f\u3001 Observer \u30d1\u30bf\u30fc\u30f3\u7684\u306a\u3082\u306e\u3092 CDI \u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u5b9f\u73fe\u3059\u308b\u65b9\u6cd5\u306e\u3053\u3068\u3002\n\n#\u74b0\u5883\n##Weld\n1.1.10\n\n#\u57fa\u672c\u7684\u306a\u5b9f\u88c5\n##\u901a\u77e5\u3059\u308b\u4eba\uff08Subject\uff09\n```java:Subject.java\npackage cdi.event.nullpo;\n\nimport javax.enterprise.event.Event;\nimport javax.inject.Inject;\n\npublic class Subject {\n    \n    @Inject private Event<NullPo> event;\n    \n    public void notifyObservers() {\n        System.out.println(\"[Subject] \u306c\u308b\u307d\");\n        this.event.fire(new NullPo());\n    }\n}\n```\n\n##\u901a\u77e5\u3092\u53d7\u3051\u308b\u4eba\uff08Observer\uff09\n```java:ObserverA.java\npackage cdi.event.nullpo;\n\nimport javax.enterprise.event.Observes;\n\npublic class ObserverA {\n    public void event(@Observes NullPo nullPo) {\n        System.out.println(\"[Observer A] \uff76\uff9e\uff6f!!\");\n    }\n}\n```\n\n```java:ObserverB.java\npackage cdi.event.nullpo;\n\npublic class ObserverB {\n    public void event(NullPo nullPo) {\n        System.out.println(\"[Observer B] \uff76\uff9e\uff6f!!\");\n    }\n}\n```\n\n```java:ObserverC.java\npackage cdi.event.nullpo;\n\nimport java.util.List;\nimport javax.enterprise.event.Observes;\n\npublic class ObserverC {\n    public void event(@Observes List<String> list) {\n        System.out.println(\"[Observer C] \uff76\uff9e\uff6f!!\");\n    }\n}\n```\n\n##\u60c5\u5831\u3092\u3084\u308a\u53d6\u308a\u3059\u308b\u305f\u3081\u306e\u30af\u30e9\u30b9\n```java:NullPo.java\npackage cdi.event.nullpo;\n\npublic class NullPo {\n}\n```\n\n##\u5b9f\u884c\u7528\u30af\u30e9\u30b9\n```java:Main.java\npackage cdi.event.nullpo;\n\nimport org.jboss.weld.environment.se.Weld;\nimport org.jboss.weld.environment.se.WeldContainer;\n\npublic class Main {\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        WeldContainer container = weld.initialize();\n        \n        Subject application = container.instance().select(Subject.class).get();\n        application.notifyObservers();\n        \n        weld.shutdown();\n    }\n}\n```\n\n##\u5b9f\u884c\u7d50\u679c\n```text:\u5b9f\u884c\u7d50\u679c\n[Subject] \u306c\u308b\u307d\n[Observer A] \uff76\uff9e\uff6f!!\n```\n\n##\u8aac\u660e\n```java:\u30a4\u30d9\u30f3\u30c8\u306e\u901a\u77e5\nimport javax.enterprise.event.Event;\nimport javax.inject.Inject;\n\npublic class Subject {\n    \n    @Inject private Event<NullPo> event; // Event \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\u3057\u3066\n    \n    public void notifyObservers() {\n        this.event.fire(new NullPo()); // fire \u30e1\u30bd\u30c3\u30c9\u3067\u30a4\u30d9\u30f3\u30c8\u3092\u901a\u77e5\n    }\n}\n```\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u901a\u77e5\u306f `javax.enterprise.event.Event` \u30af\u30e9\u30b9\u306e `fire` \u30e1\u30bd\u30c3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3002 `Event` \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u81ea\u4f53\u306f\u3001 `@Inject` \u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3057\u3066\u304a\u304f\u3002\n\n`fire` \u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u306b\u6e21\u3057\u305f\u30af\u30e9\u30b9\u3092\u5f15\u6570\u306b\u53d7\u3051\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u3067\u3001\u304b\u3064\u305d\u306e\u5f15\u6570\u306b `javax.enterprise.event.Observes` \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u5168\u3066\u306e\u30e1\u30bd\u30c3\u30c9\u306b\u30a4\u30d9\u30f3\u30c8\u304c\u901a\u77e5\u3055\u308c\u308b\u3002\n\n```java:Observers\n// Observer A\n// NullPo \u3092\u53d7\u3051\u53d6\u308a\u3001 @Observer \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u901a\u77e5\u5bfe\u8c61\npublic void event(@Observes NullPo nullPo) {\n    System.out.println(\"[Observer A] \uff76\uff9e\uff6f!!\");\n}\n\n// Observer B\n// NullPo \u3092\u53d7\u3051\u53d6\u3063\u3066\u3044\u308b\u304c\u3001 @Observer \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u901a\u77e5\u5bfe\u8c61\u5916\npublic void event(NullPo nullPo) {\n    System.out.println(\"[Observer B] \uff76\uff9e\uff6f!!\");\n}\n\n// Observer C\n// NullPo \u3092\u53d7\u3051\u53d6\u3089\u306a\u3044\u306e\u3067\u3001\u901a\u77e5\u5bfe\u8c61\u5916\npublic void event(@Observes List<String> list) {\n    System.out.println(\"[Observer C] \uff76\uff9e\uff6f!!\");\n}\n```\n\n#\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3067\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u3080\n\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3092\u4f7f\u3063\u3066\u3001\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u3081\u308b\u3002\n\n##\u901a\u77e5\u3059\u308b\u4eba\uff08Subject\uff09\n```java:Subject.java\npackage cdi.event.qualifier;\n\nimport javax.enterprise.event.Event;\nimport javax.inject.Inject;\n\npublic class Subject {\n    \n    @Inject @Man\n    private Event<String> manEvent;\n    \n    @Inject @Woman\n    private Event<String> womanEvent;\n    \n    public void notifyObservers() {\n        \n        System.out.println(\"[Subject] \u7537\u6027\u6319\u624b\");\n        this.manEvent.fire(\"notify\");\n        \n        System.out.println(\"\\r\\n[Subject] \u5973\u6027\u6319\u624b\");\n        this.womanEvent.fire(\"nodify\");\n    }\n}\n```\n\n##\u901a\u77e5\u3092\u53d7\u3051\u308b\u4eba\uff08Observer\uff09\n```java:Taro.java\npackage cdi.event.qualifier;\n\nimport javax.enterprise.event.Observes;\n\npublic class Taro {\n    public void event(@Observes @Man String info) {\n        System.out.println(\"[\u592a\u90ce] \u30ce\");\n    }\n}\n```\n\n```java:Hanako.java\npackage cdi.event.qualifier;\n\nimport javax.enterprise.event.Observes;\n\npublic class Hanako {\n    public void event(@Observes @Woman String info) {\n        System.out.println(\"[\u82b1\u5b50] \u30ce\");\n    }\n}\n```\n\n```java:OsugiAndPiko\npackage cdi.event.qualifier;\n\nimport javax.enterprise.event.Observes;\n\npublic class OsugiAndPiko {\n    public void event(@Observes String info) {\n        System.out.println(\"[\u304a\u3059\u30d4\u30fc] \u30ce\");\n    }\n}\n```\n\n##\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\n```java:Man.java\npackage cdi.event.qualifier;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport javax.inject.Qualifier;\n\n@Qualifier\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.PARAMETER, ElementType.FIELD})\npublic @interface Man {\n}\n```\n\n```java:Woman.java\npackage cdi.event.qualifier;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport javax.inject.Qualifier;\n\n@Qualifier\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.PARAMETER, ElementType.FIELD})\npublic @interface Woman {\n}\n```\n\n##\u5b9f\u884c\u7528\u30af\u30e9\u30b9\n```java:Main.java\npackage cdi.event.qualifier;\n\nimport org.jboss.weld.environment.se.Weld;\nimport org.jboss.weld.environment.se.WeldContainer;\n\npublic class Main {\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        WeldContainer container = weld.initialize();\n        \n        Subject application = container.instance().select(Subject.class).get();\n        application.notifyObservers();\n        \n        weld.shutdown();\n    }\n}\n```\n\n##\u5b9f\u884c\u7d50\u679c\n```text:\u5b9f\u884c\u7d50\u679c\n[Subject] \u7537\u6027\u6319\u624b\n[\u592a\u90ce] \u30ce\n[\u304a\u3059\u30d4\u30fc] \u30ce\n\n[Subject] \u5973\u6027\u6319\u624b\n[\u82b1\u5b50] \u30ce\n[\u304a\u3059\u30d4\u30fc] \u30ce\n```\n\n##\u8aac\u660e\n```java:Event\u306b\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3092\u4ed8\u4e0e\u3057\u3066\u3001\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u3080\n    @Inject @Man\n    private Event<String> manEvent;\n    \n    @Inject @Woman\n    private Event<String> womanEvent;\n```\n\n`Event` \u3092\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3059\u308b\u5834\u6240\u3067\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3092\u4ed8\u4e0e\u3059\u308b\u3053\u3068\u3067\u3001\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u306e\u901a\u77e5\u5148\u3092\u7d5e\u308a\u8fbc\u3080\u3053\u3068\u304c\u51fa\u6765\u308b\u3002\n\n\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3067\u7d5e\u308a\u3053\u307e\u308c\u305f\u30a4\u30d9\u30f3\u30c8\u306f\u3001 `@Observers` \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u307f\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u304b\u3001\u307e\u305f\u306f `@Observers` \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3068\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u304c\u4e21\u65b9\u3068\u3082\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u30e1\u30bd\u30c3\u30c9\u306b\u901a\u77e5\u3055\u308c\u308b\u3002\n\n```java:Observers\n// Taro\n// @Man \u304c\u4ed8\u4e0e\u3055\u308c\u305f Event \u3060\u3051\u304c\u901a\u77e5\u3055\u308c\u308b\npublic void event(@Observes @Man String info) {\n    System.out.println(\"[\u592a\u90ce] \u30ce\");\n}\n\n// Hanako\n// @Woman \u304c\u4ed8\u4e0e\u3055\u308c\u305f Event \u3060\u3051\u304c\u901a\u77e5\u3055\u308c\u308b\npublic void event(@Observes @Woman String info) {\n    System.out.println(\"[\u82b1\u5b50] \u30ce\");\n}\n\n\n// OsugiAndPiko\n// \u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u5168\u3066\u306e Event \u304c\u901a\u77e5\u3055\u308c\u308b\npublic void event(@Observes String info) {\n    System.out.println(\"[\u304a\u3059\u30d4\u30fc] \u30ce\");\n}\n```\n\n\u3061\u306a\u307f\u306b\u3001 `@Man` \u3068 `@Woman` \u306e\u4e21\u65b9\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u308b\u3068\u3001\u9006\u306b\u30a4\u30d9\u30f3\u30c8\u306f\u901a\u77e5\u3055\u308c\u306a\u3044\u3002\n\n```java:\npublic void event(@Observes @Man @Woman String info) {\n    System.out.println(\"\u30ce\");\n}\n```\n\n##\u30ab\u30b9\u30bf\u30e0\u9650\u5b9a\u5b50\u3092\u52d5\u7684\u306b\u6307\u5b9a\u3059\u308b\n\u524d\u8ff0\u306e\u65b9\u6cd5\u3060\u3068\u3001\u30a4\u30d9\u30f3\u30c8\u306e\u7d5e\u308a\u8fbc\u307f\u304c\u9759\u7684\u306b\u306a\u308a\u3001\u6761\u4ef6\u306b\u3088\u3063\u3066\u901a\u77e5\u3059\u308b\u5bfe\u8c61\u3092\u5207\u308a\u66ff\u3048\u308b\u3088\u3046\u306a\u52d5\u7684\u306a\u51e6\u7406\u304c\u3067\u304d\u306a\u3044\u3002\n\n\u52d5\u7684\u306b\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u307f\u305f\u3044\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n\n```java:\u52d5\u7684\u306b\u901a\u77e5\u5bfe\u8c61\u3092\u7d5e\u308a\u8fbc\u3080\n\n    @Inject\n    private Event<String> event;\n    \n    @SuppressWarnings(\"serial\")\n    public void notifyObservers() {\n        this.event.select(new AnnotationLiteral<Man>() {}).fire(\"notify\");\n    }\n```\n\n`Event#select(Annotation...)` \u30e1\u30bd\u30c3\u30c9\u3067\u7d5e\u8fbc\u5bfe\u8c61\u3092\u6307\u5b9a\u3057\u3066\u3001\u7d9a\u3051\u3066 `fire` \u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\n\n\n#\u4f8b\u5916\u51e6\u7406\u306b\u3064\u3044\u3066\nObserver \u5074\u306e\u3044\u305a\u308c\u304b\u306e\u51e6\u7406\u3067\u4f8b\u5916\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\u3001 `fire` \u30e1\u30bd\u30c3\u30c9\u3067\u4f8b\u5916\u3092\u30ad\u30e3\u30c3\u30c1\u3067\u304d\u308b\u3002\n\n```java:Main.java\npackage cdi.event.test;\n\nimport javax.enterprise.event.Event;\nimport javax.enterprise.event.Observes;\nimport javax.inject.Inject;\n\nimport org.jboss.weld.environment.se.Weld;\nimport org.jboss.weld.environment.se.WeldContainer;\n\npublic class Main {\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        WeldContainer container = weld.initialize();\n        \n        Main main = container.instance().select(Main.class).get();\n        main.notifyObservers();    // \uff11\n        \n        weld.shutdown();\n    }\n    \n    @Inject\n    private Event<String> event;\n    \n    public void notifyObservers() {\n        try {\n            this.event.fire(\"notify\");    // \uff12\n        } catch (Exception e) {\n            System.out.println(e.getMessage());    // \uff14\n        }\n    }\n    \n    public void event(@Observes String info) {\n        throw new RuntimeException(\"error!!\");    // \uff13\n    }\n}\n```\n\n```text:\u5b9f\u884c\u7d50\u679c\nerror!!\n```\n\n\n#\u53c2\u8003\n+ [Chapter 11. Events | Seam Framework - Seam Documentation](http://docs.jboss.org/weld/reference/latest/en-US/html/events.html)\n", "tags": ["Java", "CDI", "Weld"]}