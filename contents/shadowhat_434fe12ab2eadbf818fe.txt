{"context": "\n\n\u6982\u8981\n\u4eca\u6642\u3001OpenSSH\u306fOS\u306e\u6a19\u6e96\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u3042\u3048\u3066\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u30e1\u30e2\u3057\u3066\u3044\u307e\u3059\u3002\n2017\u5e741\u6708\u73fe\u5728\u306e\u6700\u65b0\u7248\u306f\u30017.3.1p1\u3067\u3059\u3002\nCentOS\u4ee5\u5916\u306b\u3082RHEL\u3067\u3082\u540c\u69d8\u306e\u65b9\u6cd5\u3067\u9069\u7528\u53ef\u80fd\u3067\u3059\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\nOpenSSH\u516c\u5f0f\u30b5\u30a4\u30c8\uff1a\nhttp://www.openssh.com/\nOpenSSH\u30df\u30e9\u30fc\u30b5\u30a4\u30c8\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\uff1a\nhttp://ftp.jaist.ac.jp/pub/OpenBSD/OpenSSH/portable/\n\n\u524d\u63d0\n\u3042\u3089\u304b\u3058\u3081OpenSSL\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nOpenSSL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306fOpenSSL(1.0.x)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\uff08\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\uff09for CentOS 7.2\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u5b9f\u8df5\u74b0\u5883\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\n\n\n\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nOpenSSH\n7.4p1\n\n\nOS\nCentOS 7.4\n\n\n\n\n\u4e8b\u524d\u6e96\u5099\nld.so.conf\u306b\u3001/usr/local/ssl\u306e\u53c2\u7167\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304f\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff06\u30b3\u30f3\u30d1\u30a4\u30eb\n#\u3042\u3089\u304b\u3058\u3081\u30ad\u30fc\u30d5\u30a1\u30a4\u30eb\u306e\u6a29\u9650\u3092\u5909\u66f4\nchmod 600 /etc/ssh/ssh_host_*\n\n#\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\ncd /usr/local/src\nwget http://ftp.jaist.ac.jp/pub/OpenBSD/OpenSSH/portable/openssh-7.4p1.tar.gz\ntar xvzf openssh-7.4p1.tar.gz\ncd openssh-7.4p1\n./configure \\\n--with-zlib=/usr/local \\\n--with-tcp-wrappers \\\n--with-ssl-dir=/usr/local/ssl \\\n--with-ssl-engine \\\n--with-pam \\\n--with-md5-passwords \\\n--bindir=/usr/bin \\\n--sbindir=/usr/sbin \\\n--libexecdir=/usr/libexec \\\n--sysconfdir=/etc/ssh \nmake\nmake install\n\n\nfailed to map segment from shared object: Permission denied\n\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u308b\u5834\u5408\u306f\u3001SELinux\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001SELinux\u3092\u7121\u52b9\u306b\u3057\u3066\u8a66\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nGSSAPI\u306e\u8a2d\u5b9a\u5909\u66f4\nsshd_config\u306eGSSAPI\u8a2d\u5b9a\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\n\n/etc/ssh/sshd_config\nvi /etc/ssh/sshd_config\n\n\nGSSAPIAuthentication yes\nGSSAPICleanupCredentials no\n\u2193\n#GSSAPIAuthentication yes\n#GSSAPICleanupCredentials no\n\n\u3053\u308c\u3067\u3001\u8a2d\u5b9a\u5b8c\u4e86\u3002\n\u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\u3092\u884c\u3046\u3002\nsystemctl restart sshd\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u884c\u3046\nsshd -V\n\n\u7d50\u679c\nunknown option -- V\nOpenSSH_7.4p1, OpenSSL 1.0.2h  26 Sep 2016\n\nOpenSSH_7.4p1\u3068\u51fa\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002\n##\u6982\u8981\n\u4eca\u6642\u3001OpenSSH\u306fOS\u306e\u6a19\u6e96\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u3042\u3048\u3066\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u30e1\u30e2\u3057\u3066\u3044\u307e\u3059\u3002\n2017\u5e741\u6708\u73fe\u5728\u306e\u6700\u65b0\u7248\u306f\u30017.3.1p1\u3067\u3059\u3002\nCentOS\u4ee5\u5916\u306b\u3082RHEL\u3067\u3082\u540c\u69d8\u306e\u65b9\u6cd5\u3067\u9069\u7528\u53ef\u80fd\u3067\u3059\u3002\n\n##\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\nOpenSSH\u516c\u5f0f\u30b5\u30a4\u30c8\uff1a\nhttp://www.openssh.com/\n\nOpenSSH\u30df\u30e9\u30fc\u30b5\u30a4\u30c8\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\uff1a\nhttp://ftp.jaist.ac.jp/pub/OpenBSD/OpenSSH/portable/\n\n##\u524d\u63d0\n\u3042\u3089\u304b\u3058\u3081OpenSSL\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nOpenSSL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f[OpenSSL(1.0.x)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\uff08\u30bd\u30fc\u30b9\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\uff09for CentOS 7.2](http://qiita.com/shadowhat/items/68fd55b532c04b13acf5)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u5b9f\u8df5\u74b0\u5883\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\n| \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 | \u30d0\u30fc\u30b8\u30e7\u30f3 |\n|:-:|:-:|\n|  OpenSSH| 7.4p1  |\n|  OS | CentOS 7.4  |\n\n##\u4e8b\u524d\u6e96\u5099\nld.so.conf\u306b\u3001/usr/local/ssl\u306e\u53c2\u7167\u3092\u8ffd\u52a0\u3057\u3066\u304a\u304f\n\n##\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash:\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff06\u30b3\u30f3\u30d1\u30a4\u30eb\n#\u3042\u3089\u304b\u3058\u3081\u30ad\u30fc\u30d5\u30a1\u30a4\u30eb\u306e\u6a29\u9650\u3092\u5909\u66f4\nchmod 600 /etc/ssh/ssh_host_*\n\n#\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\ncd /usr/local/src\nwget http://ftp.jaist.ac.jp/pub/OpenBSD/OpenSSH/portable/openssh-7.4p1.tar.gz\ntar xvzf openssh-7.4p1.tar.gz\ncd openssh-7.4p1\n./configure \\\n--with-zlib=/usr/local \\\n--with-tcp-wrappers \\\n--with-ssl-dir=/usr/local/ssl \\\n--with-ssl-engine \\\n--with-pam \\\n--with-md5-passwords \\\n--bindir=/usr/bin \\\n--sbindir=/usr/sbin \\\n--libexecdir=/usr/libexec \\\n--sysconfdir=/etc/ssh \nmake\nmake install\n```\n\nfailed to map segment from shared object: Permission denied\n\u3068\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u308b\u5834\u5408\u306f\u3001SELinux\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001SELinux\u3092\u7121\u52b9\u306b\u3057\u3066\u8a66\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n##GSSAPI\u306e\u8a2d\u5b9a\u5909\u66f4\nsshd_config\u306eGSSAPI\u8a2d\u5b9a\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\n\n```bash:/etc/ssh/sshd_config\nvi /etc/ssh/sshd_config\n```\n\n```\nGSSAPIAuthentication yes\nGSSAPICleanupCredentials no\n\u2193\n#GSSAPIAuthentication yes\n#GSSAPICleanupCredentials no\n```\n\n\u3053\u308c\u3067\u3001\u8a2d\u5b9a\u5b8c\u4e86\u3002\n\u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\u3092\u884c\u3046\u3002\n\n```bash:\nsystemctl restart sshd\n```\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\u3092\u884c\u3046\n\n```bash:\nsshd -V\n```\n```\n\u7d50\u679c\nunknown option -- V\nOpenSSH_7.4p1, OpenSSL 1.0.2h  26 Sep 2016\n```\n\nOpenSSH_7.4p1\u3068\u51fa\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002\n\n\n\n\n\n\n", "tags": ["CentOS", "OpenSSH", "openssl", "RHEL"]}