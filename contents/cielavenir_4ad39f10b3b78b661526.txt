{"context": " More than 1 year has passed since last update.[141013] Wandbox\u306fCppCMS\u306b\u79fb\u884c\u3057\u307e\u3057\u305f\u3002 https://gist.github.com/cielavenir/f72ae830d3b6ad80240d \u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u5c0e\u5165\u3067\u304d\u307e\u3059\u3002UbuntuTrsuty/CentOS7\u3067\u78ba\u8a8d\u6e08\u3002\n[\u8ffd\u8a18] \u521d\u3081\u304b\u3089 https://github.com/melpon/chef-melpon.org/tree/master/site-cookbooks/wandbox \u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u826f\u3044\u3067\u3059\u3002\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u7121\u610f\u5473\u3067\u3059\u3002\u7b11\nhttps://github.com/melpon/wandbox/ \u3092\u6700\u901f\u3067\u78ba\u5b9f\u306b\u5c0e\u5165\u3057\u307e\u3059\u3002\n\nVagrantfile\u3068wandbox.sh\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\n#coding:utf-8\n\n# Vagrantfile API/syntax version. Don't touch unless you know what you're doing!\nVAGRANTFILE_API_VERSION = \"2\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  config.vm.provider :virtualbox do |vb|\n    vb.memory=2048\n  end\n  config.vm.box = \"trusty32\"\n  config.vm.box_url = \"https://cloud-images.ubuntu.com/vagrant/trusty/current/trusty-server-cloudimg-i386-vagrant-disk1.box\"\n  #config.vm.provision \"shell\", inline: $script\nend\n\n\nwandbox.sh\n#install apt\nsudo apt-get update -y\nsudo apt-get install -y git ghc haskell-platform g++ libboost-all-dev libcap-dev autoconf libtool automake\n#git\ngit clone https://github.com/melpon/wandbox/\ncd wandbox/\ngit submodule init\ngit submodule update\n#cattleshed\ncd cattleshed/\nautoreconf -i\n./configure\nmake install\nsudo mkdir -p /tmp/wandbox /var/log/wandbox/ran /home/jail\nsudo ln -s /lib /lib32\nsudo mkdir /lib64\nsudo mkdir /usr/lib64\nsudo chown vagrant:vagrant /tmp/wandbox\n#cattleshed -c /usr/local/etc/cattleshed.conf -c /usr/local/etc/cattleshed.conf.d/compilers.default\n#kennel\ncd ../kennel/\nexport PATH=$HOME/.cabal/bin:$PATH\ncabal update\ncabal install cabal-dev\ncabal-dev install yesod-platform-1.2.5.2\ncabal-dev install yesod-bin\ncabal-dev install persistent-sqlite-1.2.1\ncabal-dev install wai-eventsource-2.0.0\ncabal-dev install dataenc\n#cabal-dev/bin/yesod --dev devel -n\n\n\n\n\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\nvagrant up\nvagrant ssh\n$ sh /vagrant/wandbox.sh # \u6700\u521d\u306e\uff11\u56de\u3060\u3051\u3067\u826f\u3044\n$ screen\n  $ cattleshed -c /usr/local/etc/cattleshed.conf -c /usr/local/etc/cattleshed.conf.d/compilers.default\n$ cd ~/wandbox/kennel\n$ screen\n  $ export PATH=$HOME/.cabal/bin:$PATH\n  $ vi config/setting.yml # comment out Development's approot\n  $ cabal-dev/bin/yesod --dev devel -n\n\n\n\u672c\u6765\u306f\u8d77\u52d5\u6642\u306b\u30c7\u30fc\u30e2\u30f3\u3092\u7acb\u3066\u308b\u3088\u3046Chef\u3067\u8a2d\u5b9a\u3059\u3079\u304d\u3060\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3059\u307f\u307e\u305b\u3093\u3002\n\n\n[141013] Wandbox\u306fCppCMS\u306b\u79fb\u884c\u3057\u307e\u3057\u305f\u3002 https://gist.github.com/cielavenir/f72ae830d3b6ad80240d \u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u5c0e\u5165\u3067\u304d\u307e\u3059\u3002UbuntuTrsuty/CentOS7\u3067\u78ba\u8a8d\u6e08\u3002\n\n[\u8ffd\u8a18] \u521d\u3081\u304b\u3089 https://github.com/melpon/chef-melpon.org/tree/master/site-cookbooks/wandbox \u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u826f\u3044\u3067\u3059\u3002\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u7121\u610f\u5473\u3067\u3059\u3002\u7b11\n\nhttps://github.com/melpon/wandbox/ \u3092<del>\u6700\u901f\u3067</del>\u78ba\u5b9f\u306b\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n- Vagrantfile\u3068wandbox.sh\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\n```Vagrantfile\n#coding:utf-8\n\n# Vagrantfile API/syntax version. Don't touch unless you know what you're doing!\nVAGRANTFILE_API_VERSION = \"2\"\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  config.vm.provider :virtualbox do |vb|\n    vb.memory=2048\n  end\n  config.vm.box = \"trusty32\"\n  config.vm.box_url = \"https://cloud-images.ubuntu.com/vagrant/trusty/current/trusty-server-cloudimg-i386-vagrant-disk1.box\"\n  #config.vm.provision \"shell\", inline: $script\nend\n```\n\n```sh:wandbox.sh\n#install apt\nsudo apt-get update -y\nsudo apt-get install -y git ghc haskell-platform g++ libboost-all-dev libcap-dev autoconf libtool automake\n#git\ngit clone https://github.com/melpon/wandbox/\ncd wandbox/\ngit submodule init\ngit submodule update\n#cattleshed\ncd cattleshed/\nautoreconf -i\n./configure\nmake install\nsudo mkdir -p /tmp/wandbox /var/log/wandbox/ran /home/jail\nsudo ln -s /lib /lib32\nsudo mkdir /lib64\nsudo mkdir /usr/lib64\nsudo chown vagrant:vagrant /tmp/wandbox\n#cattleshed -c /usr/local/etc/cattleshed.conf -c /usr/local/etc/cattleshed.conf.d/compilers.default\n#kennel\ncd ../kennel/\nexport PATH=$HOME/.cabal/bin:$PATH\ncabal update\ncabal install cabal-dev\ncabal-dev install yesod-platform-1.2.5.2\ncabal-dev install yesod-bin\ncabal-dev install persistent-sqlite-1.2.1\ncabal-dev install wai-eventsource-2.0.0\ncabal-dev install dataenc\n#cabal-dev/bin/yesod --dev devel -n\n```\n\n- \u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\nvagrant up\nvagrant ssh\n$ sh /vagrant/wandbox.sh # \u6700\u521d\u306e\uff11\u56de\u3060\u3051\u3067\u826f\u3044\n$ screen\n  $ cattleshed -c /usr/local/etc/cattleshed.conf -c /usr/local/etc/cattleshed.conf.d/compilers.default\n$ cd ~/wandbox/kennel\n$ screen\n  $ export PATH=$HOME/.cabal/bin:$PATH\n  $ vi config/setting.yml # comment out Development's approot\n  $ cabal-dev/bin/yesod --dev devel -n\n```\n\n- \u672c\u6765\u306f\u8d77\u52d5\u6642\u306b\u30c7\u30fc\u30e2\u30f3\u3092\u7acb\u3066\u308b\u3088\u3046Chef\u3067\u8a2d\u5b9a\u3059\u3079\u304d\u3060\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3059\u307f\u307e\u305b\u3093\u3002\n", "tags": ["vagrant", "Cabal"]}