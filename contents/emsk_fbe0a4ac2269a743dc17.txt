{"context": " More than 1 year has passed since last update.\u305d\u306e\uff11\u304c\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u3064\u3065\u304d\u3067\u3059\u3002\n\nSpork \u3092\u4f7f\u3046\n\u30c6\u30b9\u30c8\u5b9f\u884c\u6642\u306e\u6642\u9593\u3092\u77ed\u7e2e\u3059\u308b\u305f\u3081\u3001Spork \u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\u307e\u305a\u3001gem \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ vim Gemfile\n\n\nGemfile\ngroup :development, :test do\n  gem 'rspec-rails', '2.10.1'\n  gem 'spork', '0.9.2'\nend\n\n\n$ bundle\nFetching source index for https://rubygems.org/\nUsing rake (0.9.2.2) \nUsing i18n (0.6.0) \nUsing multi_json (1.3.6) \nUsing activesupport (3.2.6) \nUsing builder (3.0.0) \nUsing activemodel (3.2.6) \nUsing erubis (2.7.0) \nUsing journey (1.0.4) \nUsing rack (1.4.1) \nUsing rack-cache (1.2) \nUsing rack-test (0.6.1) \nUsing hike (1.2.1) \nUsing tilt (1.3.3) \nUsing sprockets (2.1.3) \nUsing actionpack (3.2.6) \nUsing mime-types (1.18) \nUsing polyglot (0.3.3) \nUsing treetop (1.4.10) \nUsing mail (2.4.4) \nUsing actionmailer (3.2.6) \nUsing arel (3.0.2) \nUsing tzinfo (0.3.33) \nUsing activerecord (3.2.6) \nUsing activeresource (3.2.6) \nUsing bundler (1.0.21) \nUsing coffee-script-source (1.3.3) \nUsing execjs (1.4.0) \nUsing coffee-script (2.2.0) \nUsing rack-ssl (1.3.2) \nUsing json (1.7.3) \nUsing rdoc (3.12) \nUsing thor (0.15.2) \nUsing railties (3.2.6) \nUsing coffee-rails (3.2.2) \nUsing diff-lcs (1.1.3) \nUsing jquery-rails (2.0.2) \nUsing mysql2 (0.3.11) \nUsing rails (3.2.6) \nUsing rspec-core (2.10.1) \nUsing rspec-expectations (2.10.0) \nUsing rspec-mocks (2.10.1) \nUsing rspec (2.10.0) \nUsing rspec-rails (2.10.1) \nUsing sass (3.1.19) \nUsing sass-rails (3.2.5) \nInstalling spork (0.9.2) \nUsing uglifier (1.2.4) \nYour bundle is complete! It was installed into ./vendor/bundle\n\n\u6b21\u306b\u3001Spork \u306e\u521d\u671f\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n$ bundle exec spork --bootstrap\n\nspec/spec_helper.rb \u306b Spork \u5b9f\u884c\u7528\u306e\u30b3\u30fc\u30c9\u304c\u8ffd\u8a18\u3055\u308c\u307e\u3059\u306e\u3067\u3001RSpec \u306e\u30c6\u30b9\u30c8\u304c Spork \u306b\u3088\u3063\u3066\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3001\u3082\u3068\u3082\u3068\u3042\u3063\u305f RSpec \u306e\u8a2d\u5b9a\u3092 Spork.prefork \u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n$ vim spec/spec_helper.rb\n\n\nspec/spec_helper.rb\nrequire 'rubygems'\nrequire 'spork'\n#uncomment the following line to use spork with the debugger\n#require 'spork/ext/ruby-debug'\n\nSpork.prefork do\n  # Loading more in this block will cause your tests to run faster. However,\n  # if you change any configuration or code from libraries loaded here, you'll\n  # need to restart spork for it take effect.\n\n  # This file is copied to spec/ when you run 'rails generate rspec:install'\n  ENV[\"RAILS_ENV\"] ||= 'test'\n  require File.expand_path(\"../../config/environment\", __FILE__)\n  require 'rspec/rails'\n  require 'rspec/autorun'\n\n  # Requires supporting ruby files with custom matchers and macros, etc,\n  # in spec/support/ and its subdirectories.\n  Dir[Rails.root.join(\"spec/support/**/*.rb\")].each {|f| require f}\n\n  RSpec.configure do |config|\n    # ## Mock Framework\n    #\n    # If you prefer to use mocha, flexmock or RR, uncomment the appropriate line:\n    #\n    # config.mock_with :mocha\n    # config.mock_with :flexmock\n    # config.mock_with :rr\n\n    # Remove this line if you're not using ActiveRecord or ActiveRecord fixtures\n    config.fixture_path = \"#{::Rails.root}/spec/fixtures\"\n\n    # If you're not using ActiveRecord, or you'd prefer not to run each of your\n    # examples within a transaction, remove the following line or assign false\n    # instead of true.\n    config.use_transactional_fixtures = true\n\n    # If true, the base class of anonymous controllers will be inferred\n    # automatically. This will be the default behavior in future versions of\n    # rspec-rails.\n    config.infer_base_class_for_anonymous_controllers = false\n  end\nend\n\nSpork.each_run do\n  # This code will be run each time you run your specs.\n\nend\n\n\nSpork \u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u3001.rspec \u306b --drb \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n$ vim .rspec\n\n\n.rspec\n--colour\n--drb\n\n\n\nSpork \u3092\u4f7f\u3063\u3066\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\nSpork \u3092\u5225\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ rvm 1.9.2-p290@rails32\n$ cd ~/projects/blog\n$ bundle exec spork\nUsing RSpec\nPreloading Rails environment\nLoading Spork.prefork block...\nSpork is ready and listening on 8989!\n\nRSpec \u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ bundle exec rspec spec\n..............................\n\nFinished in 0.88647 seconds\n30 examples, 0 failures\n\nSpork \u306b\u3066\u3042\u3089\u304b\u3058\u3081 Rails \u306e\u30b3\u30fc\u30c9\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\u305f\u3081\u3001\u30c6\u30b9\u30c8\u5b9f\u884c\u307e\u3067\u306e\u6642\u9593\u304c\u77ed\u304f\u306a\u308a\u307e\u3059\u3002\n\nFixture \u3092\u4f7f\u3046\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\n\u307e\u305a\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3059\u308b\u524d\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n$ vim spec/models/article_spec.rb\n\n\nspec/models/article_spec.rb\n# coding: utf-8\n\nrequire 'spec_helper'\n\ndescribe Article do\n  # \u8ffd\u8a18\u3053\u3053\u304b\u3089\n  fixtures(:all)\n\n  describe '.all' do\n    subject { Article.all }\n    it { should have(1).items }\n  end\n  # \u8ffd\u8a18\u3053\u3053\u307e\u3067\n\n  describe '.new' do\n    context 'given valid attributes' do\n      subject { Article.new(:title => 'a', :content => 'a') }\n      it { should be_valid }\n    end\n\n    context 'given null title' do\n      subject { Article.new(:content => 'a') }\n      it { should have(1).errors_on(:title) }\n    end\n  end\nend\n\n\n\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3001\u300c\u5931\u6557\u300d\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ bundle exec rspec spec\n................F..............\n\nFailures:\n\n  1) Article.all \n     Failure/Error: it { should have(1).items }\n       expected 1 items, got 0\n     # ./spec/models/article_spec.rb:10:in `block (3 levels) in <top (required)>'\n\nFinished in 1.3 seconds\n31 examples, 1 failure\n\nFailed examples:\n\nrspec ./spec/models/article_spec.rb:10 # Article.all \n\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n$ mkdir spec/fixtures\n$ vim spec/fixtures/articles.yml\n\n\nspec/fixtures/articles.yml\narticle_001:\n  title: 'MyString'\n  content: 'MyText'\n\n\n\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ bundle exec rspec spec\n...............................\n\nFinished in 0.82728 seconds\n31 examples, 0 failures\n\n\u30c6\u30b9\u30c8\u5b9f\u884c\u6642\u306b Fixture \u304c\u30c6\u30b9\u30c8 DB \u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u7d50\u679c\u306f\u300c\u6210\u529f\u300d\u3068\u306a\u308a\u307e\u3059\u3002\n\nFixture \u306e\u4ee3\u308f\u308a\u306b FactoryGirl \u3092\u4f7f\u3046\nFixture Replacement \u306e\u4ee3\u8868\u683c\u3001FactoryGirl \u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u304c DB \u306b\u6b8b\u3063\u3066\u3057\u307e\u3044\u3001\u610f\u56f3\u3057\u306a\u3044\u30c6\u30b9\u30c8\u7d50\u679c\u3068\u306a\u308b\u3053\u3068\u3092\u9632\u3050\u305f\u3081\u3001DatabaseCleaner \u3082\u4f75\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ vim Gemfile\n\n\nGemfile\ngroup :development, :test do\n  gem 'rspec-rails', '2.10.1'\n  gem 'spork', '0.9.2'\n  gem 'factory_girl_rails', '3.4.0'\n  gem 'database_cleaner', '0.8.0'\nend\n\n\n$ bundle\nFetching source index for https://rubygems.org/\nUsing rake (0.9.2.2) \nUsing i18n (0.6.0) \nUsing multi_json (1.3.6) \nUsing activesupport (3.2.6) \nUsing builder (3.0.0) \nUsing activemodel (3.2.6) \nUsing erubis (2.7.0) \nUsing journey (1.0.4) \nUsing rack (1.4.1) \nUsing rack-cache (1.2) \nUsing rack-test (0.6.1) \nUsing hike (1.2.1) \nUsing tilt (1.3.3) \nUsing sprockets (2.1.3) \nUsing actionpack (3.2.6) \nUsing mime-types (1.18) \nUsing polyglot (0.3.3) \nUsing treetop (1.4.10) \nUsing mail (2.4.4) \nUsing actionmailer (3.2.6) \nUsing arel (3.0.2) \nUsing tzinfo (0.3.33) \nUsing activerecord (3.2.6) \nUsing activeresource (3.2.6) \nUsing bundler (1.0.21) \nUsing coffee-script-source (1.3.3) \nUsing execjs (1.4.0) \nUsing coffee-script (2.2.0) \nUsing rack-ssl (1.3.2) \nUsing json (1.7.3) \nUsing rdoc (3.12) \nUsing thor (0.15.2) \nUsing railties (3.2.6) \nUsing coffee-rails (3.2.2) \nInstalling database_cleaner (0.8.0) \nUsing diff-lcs (1.1.3) \nInstalling factory_girl (3.4.0) \nInstalling factory_girl_rails (3.4.0) \nUsing jquery-rails (2.0.2) \nUsing mysql2 (0.3.11) \nUsing rails (3.2.6) \nUsing rspec-core (2.10.1) \nUsing rspec-expectations (2.10.0) \nUsing rspec-mocks (2.10.1) \nUsing rspec (2.10.0) \nUsing rspec-rails (2.10.1) \nUsing sass (3.1.19) \nUsing sass-rails (3.2.5) \nUsing spork (0.9.2) \nUsing uglifier (1.2.4) \nYour bundle is complete! It was installed into ./vendor/bundle\n\n\nFactoryGirl \u304a\u3088\u3073 DatabaseCleaner \u3092\u8a2d\u5b9a\n\u4e00\u65e6 Spork \u3092\u6b62\u3081\u3001DatabaseCleaner \u306b\u3088\u308a\u30c6\u30b9\u30c8\u5b9f\u884c\u6bce\u306b\u30c6\u30b9\u30c8 DB \u306e\u30c7\u30fc\u30bf\u304c\u524a\u9664\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001Factory \u304c\u8ffd\u52a0\u3055\u308c\u305f\u969b\u306b Spork \u3092\u518d\u8d77\u52d5\u3057\u306a\u304f\u3066\u3082\u8aad\u307f\u8fbc\u3081\u308b\u3088\u3046\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ vim spec/spec_helper.rb\n\n\nspec/spec_helper.rb\nRSpec.configure do |config|\n  # ## Mock Framework\n  #\n  # If you prefer to use mocha, flexmock or RR, uncomment the appropriate line:\n  #\n  # config.mock_with :mocha\n  # config.mock_with :flexmock\n  # config.mock_with :rr\n\n  # Remove this line if you're not using ActiveRecord or ActiveRecord fixtures\n  config.fixture_path = \"#{::Rails.root}/spec/fixtures\"\n\n  # If you're not using ActiveRecord, or you'd prefer not to run each of your\n  # examples within a transaction, remove the following line or assign false\n  # instead of true.\n  config.use_transactional_fixtures = true\n\n  # If true, the base class of anonymous controllers will be inferred\n  # automatically. This will be the default behavior in future versions of\n  # rspec-rails.\n  config.infer_base_class_for_anonymous_controllers = false\n\n  # \u8ffd\u8a18\u3053\u3053\u304b\u3089\n  config.before(:suite) do\n    DatabaseCleaner.strategy = :truncation\n    DatabaseCleaner.clean_with(:truncation)\n  end\n\n  config.before(:each) do\n    DatabaseCleaner.start\n  end\n\n  config.after(:each) do\n    DatabaseCleaner.clean\n  end\n  # \u8ffd\u8a18\u3053\u3053\u307e\u3067\nend\n\n\nSpork.each_run do\n  # This code will be run each time you run your specs.\n\n  FactoryGirl.reload # \u8ffd\u8a18\nend\n\n\n\u518d\u3073 Spork \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ bundle exec spork\n\n\nFactory \u3092\u4f7f\u7528\u3057\u3066\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3067\u306f Fixture \u3092\u8aad\u307f\u8fbc\u307e\u306a\u3044\u3088\u3046\u306b\u3057\u3001FactoryGirl \u3092\u4f7f\u3046\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n$ vim spec/models/article_spec.rb\n\n\nspec/models/article_spec.rb\n# coding: utf-8\n\nrequire 'spec_helper'\n\ndescribe Article do\n  # fixtures(:all) \u3092\u524a\u9664\n\n  describe '.all' do\n    # \u8ffd\u8a18\u3053\u3053\u304b\u3089\n    before do\n      FactoryGirl.create(:article)\n    end\n    # \u8ffd\u8a18\u3053\u3053\u307e\u3067\n\n    subject { Article.all }\n    it { should have(1).items }\n  end\n\n  describe '.new' do\n    context 'given valid attributes' do\n      subject { Article.new(:title => 'a', :content => 'a') }\n      it { should be_valid }\n    end\n\n    context 'given null title' do\n      subject { Article.new(:content => 'a') }\n      it { should have(1).errors_on(:title) }\n    end\n  end\nend\n\n\n\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3001\u300c\u5931\u6557\u300d\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ bundle exec rspec spec\n................F..............\n\nFailures:\n\n  1) Article.all \n     Failure/Error: FactoryGirl.create(:article)\n     ArgumentError:\n       Factory not registered: article\n     # ./spec/models/article_spec.rb:8:in `block (3 levels) in <top (required)>'\n\nFinished in 1.14 seconds\n31 examples, 1 failure\n\nFailed examples:\n\nrspec ./spec/models/article_spec.rb:12 # Article.all\n\nFactory \u3092\u81ea\u52d5\u751f\u6210\u3057\u307e\u3059\u3002\n$ bundle exec rails g factory_girl:model article title:string content:text\n      create  spec/factories/articles.rb\n\nspec/factories \u4ee5\u4e0b\u306b Factory \u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\nspec/factories/articles.rb\n# Read about factories at https://github.com/thoughtbot/factory_girl\n\nFactoryGirl.define do\n  factory :article do\n    title \"MyString\"\n    content \"MyText\"\n  end\nend\n\n\n\u518d\u5ea6\u3001\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ bundle exec rspec spec\n...............................\n\nFinished in 1.23 seconds\n31 examples, 0 failures\n\nFixture \u306e\u4ee3\u308f\u308a\u306b FactoryGirl \u3092\u4f7f\u3063\u3066\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\nRSpec \u5b9f\u884c\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\uff08\u304a\u307e\u3051\uff09\nRSpec \u3067\u306f\u3001\u30c6\u30b9\u30c8\u5b9f\u884c\u6642\u306e\u898b\u305f\u76ee\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n$ vim .rspec\n\n\n.rspec\n--colour\n--drb\n--format d\n\n\n\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n$ bundle exec rspec spec\n\nArticlesController\n  GET index\n    assigns all articles as @articles\n  GET show\n    assigns the requested article as @article\n  GET new\n    assigns a new article as @article\n  GET edit\n    assigns the requested article as @article\n  POST create\n    with valid params\n      creates a new Article\n      assigns a newly created article as @article\n      redirects to the created article\n    with invalid params\n      assigns a newly created but unsaved article as @article\n      re-renders the 'new' template\n  PUT update\n    with valid params\n      updates the requested article\n      assigns the requested article as @article\n      redirects to the article\n    with invalid params\n      assigns the article as @article\n      re-renders the 'edit' template\n  DELETE destroy\n    destroys the requested article\n    redirects to the articles list\n\nArticle\n  .all\n    should have 1 items\n  .new\n    given valid attributes\n      should be valid\n    given null title\n      should have 1 errors on :title\n\nArticles\n  GET /articles\n    works! (now write some real specs)\n\nArticlesController\n  routing\n    routes to #index\n    routes to #new\n    routes to #show\n    routes to #edit\n    routes to #create\n    routes to #update\n    routes to #destroy\n\narticles/edit\n  renders the edit article form\n\narticles/index\n  renders a list of articles\n\narticles/new\n  renders new article form\n\narticles/show\n  renders attributes in <p>\n\nFinished in 1.28 seconds\n31 examples, 0 failures\n\n\u4ee5\u4e0a\u3067\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306f\u7d42\u308f\u308a\u3067\u3059\u3002\n\u672c\u683c\u7684\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\u306b\u306f\u8db3\u308a\u306a\u3044\u3068\u3053\u308d\u304c\u591a\u3059\u304e\u307e\u3059\u304c\u3001\u307e\u305a\u306f\u30c6\u30b9\u30c8\u3092\u66f8\u304d\u59cb\u3081\u308b\u304d\u3063\u304b\u3051\u306b\u306a\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u305d\u306e\uff11\u304c\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3001\u3064\u3065\u304d\u3067\u3059\u3002\n\n## Spork \u3092\u4f7f\u3046\n\u30c6\u30b9\u30c8\u5b9f\u884c\u6642\u306e\u6642\u9593\u3092\u77ed\u7e2e\u3059\u308b\u305f\u3081\u3001Spork \u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\u307e\u305a\u3001gem \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n$ vim Gemfile\n```\n\n```ruby:Gemfile\ngroup :development, :test do\n  gem 'rspec-rails', '2.10.1'\n  gem 'spork', '0.9.2'\nend\n```\n\n```\n$ bundle\nFetching source index for https://rubygems.org/\nUsing rake (0.9.2.2) \nUsing i18n (0.6.0) \nUsing multi_json (1.3.6) \nUsing activesupport (3.2.6) \nUsing builder (3.0.0) \nUsing activemodel (3.2.6) \nUsing erubis (2.7.0) \nUsing journey (1.0.4) \nUsing rack (1.4.1) \nUsing rack-cache (1.2) \nUsing rack-test (0.6.1) \nUsing hike (1.2.1) \nUsing tilt (1.3.3) \nUsing sprockets (2.1.3) \nUsing actionpack (3.2.6) \nUsing mime-types (1.18) \nUsing polyglot (0.3.3) \nUsing treetop (1.4.10) \nUsing mail (2.4.4) \nUsing actionmailer (3.2.6) \nUsing arel (3.0.2) \nUsing tzinfo (0.3.33) \nUsing activerecord (3.2.6) \nUsing activeresource (3.2.6) \nUsing bundler (1.0.21) \nUsing coffee-script-source (1.3.3) \nUsing execjs (1.4.0) \nUsing coffee-script (2.2.0) \nUsing rack-ssl (1.3.2) \nUsing json (1.7.3) \nUsing rdoc (3.12) \nUsing thor (0.15.2) \nUsing railties (3.2.6) \nUsing coffee-rails (3.2.2) \nUsing diff-lcs (1.1.3) \nUsing jquery-rails (2.0.2) \nUsing mysql2 (0.3.11) \nUsing rails (3.2.6) \nUsing rspec-core (2.10.1) \nUsing rspec-expectations (2.10.0) \nUsing rspec-mocks (2.10.1) \nUsing rspec (2.10.0) \nUsing rspec-rails (2.10.1) \nUsing sass (3.1.19) \nUsing sass-rails (3.2.5) \nInstalling spork (0.9.2) \nUsing uglifier (1.2.4) \nYour bundle is complete! It was installed into ./vendor/bundle\n```\n\n\u6b21\u306b\u3001Spork \u306e\u521d\u671f\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n```\n$ bundle exec spork --bootstrap\n```\n\nspec/spec_helper.rb \u306b Spork \u5b9f\u884c\u7528\u306e\u30b3\u30fc\u30c9\u304c\u8ffd\u8a18\u3055\u308c\u307e\u3059\u306e\u3067\u3001RSpec \u306e\u30c6\u30b9\u30c8\u304c Spork \u306b\u3088\u3063\u3066\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3001\u3082\u3068\u3082\u3068\u3042\u3063\u305f RSpec \u306e\u8a2d\u5b9a\u3092 Spork.prefork \u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\n\n```\n$ vim spec/spec_helper.rb\n```\n\n```ruby:spec/spec_helper.rb\nrequire 'rubygems'\nrequire 'spork'\n#uncomment the following line to use spork with the debugger\n#require 'spork/ext/ruby-debug'\n\nSpork.prefork do\n  # Loading more in this block will cause your tests to run faster. However,\n  # if you change any configuration or code from libraries loaded here, you'll\n  # need to restart spork for it take effect.\n\n  # This file is copied to spec/ when you run 'rails generate rspec:install'\n  ENV[\"RAILS_ENV\"] ||= 'test'\n  require File.expand_path(\"../../config/environment\", __FILE__)\n  require 'rspec/rails'\n  require 'rspec/autorun'\n\n  # Requires supporting ruby files with custom matchers and macros, etc,\n  # in spec/support/ and its subdirectories.\n  Dir[Rails.root.join(\"spec/support/**/*.rb\")].each {|f| require f}\n\n  RSpec.configure do |config|\n    # ## Mock Framework\n    #\n    # If you prefer to use mocha, flexmock or RR, uncomment the appropriate line:\n    #\n    # config.mock_with :mocha\n    # config.mock_with :flexmock\n    # config.mock_with :rr\n\n    # Remove this line if you're not using ActiveRecord or ActiveRecord fixtures\n    config.fixture_path = \"#{::Rails.root}/spec/fixtures\"\n\n    # If you're not using ActiveRecord, or you'd prefer not to run each of your\n    # examples within a transaction, remove the following line or assign false\n    # instead of true.\n    config.use_transactional_fixtures = true\n\n    # If true, the base class of anonymous controllers will be inferred\n    # automatically. This will be the default behavior in future versions of\n    # rspec-rails.\n    config.infer_base_class_for_anonymous_controllers = false\n  end\nend\n\nSpork.each_run do\n  # This code will be run each time you run your specs.\n\nend\n```\n\nSpork \u304c\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u3001.rspec \u306b --drb \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```\n$ vim .rspec\n```\n\n```ruby:.rspec\n--colour\n--drb\n```\n\n## Spork \u3092\u4f7f\u3063\u3066\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\nSpork \u3092\u5225\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n$ rvm 1.9.2-p290@rails32\n$ cd ~/projects/blog\n$ bundle exec spork\nUsing RSpec\nPreloading Rails environment\nLoading Spork.prefork block...\nSpork is ready and listening on 8989!\n```\n\nRSpec \u306e\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n$ bundle exec rspec spec\n..............................\n\nFinished in 0.88647 seconds\n30 examples, 0 failures\n```\n\nSpork \u306b\u3066\u3042\u3089\u304b\u3058\u3081 Rails \u306e\u30b3\u30fc\u30c9\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\u305f\u3081\u3001\u30c6\u30b9\u30c8\u5b9f\u884c\u307e\u3067\u306e\u6642\u9593\u304c\u77ed\u304f\u306a\u308a\u307e\u3059\u3002\n\n## Fixture \u3092\u4f7f\u3046\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u4f7f\u3063\u305f\u30c6\u30b9\u30c8\u3092\u66f8\u3044\u3066\u307f\u307e\u3059\u3002\n\u307e\u305a\u3001\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3059\u308b\u524d\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n```\n$ vim spec/models/article_spec.rb\n```\n\n```ruby:spec/models/article_spec.rb\n# coding: utf-8\n\nrequire 'spec_helper'\n\ndescribe Article do\n  # \u8ffd\u8a18\u3053\u3053\u304b\u3089\n  fixtures(:all)\n\n  describe '.all' do\n    subject { Article.all }\n    it { should have(1).items }\n  end\n  # \u8ffd\u8a18\u3053\u3053\u307e\u3067\n\n  describe '.new' do\n    context 'given valid attributes' do\n      subject { Article.new(:title => 'a', :content => 'a') }\n      it { should be_valid }\n    end\n\n    context 'given null title' do\n      subject { Article.new(:content => 'a') }\n      it { should have(1).errors_on(:title) }\n    end\n  end\nend\n```\n\n\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3001\u300c\u5931\u6557\u300d\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ bundle exec rspec spec\n................F..............\n\nFailures:\n\n  1) Article.all \n     Failure/Error: it { should have(1).items }\n       expected 1 items, got 0\n     # ./spec/models/article_spec.rb:10:in `block (3 levels) in <top (required)>'\n\nFinished in 1.3 seconds\n31 examples, 1 failure\n\nFailed examples:\n\nrspec ./spec/models/article_spec.rb:10 # Article.all \n```\n\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\n```\n$ mkdir spec/fixtures\n$ vim spec/fixtures/articles.yml\n```\n\n```spec/fixtures/articles.yml\narticle_001:\n  title: 'MyString'\n  content: 'MyText'\n```\n\n\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n$ bundle exec rspec spec\n...............................\n\nFinished in 0.82728 seconds\n31 examples, 0 failures\n```\n\n\u30c6\u30b9\u30c8\u5b9f\u884c\u6642\u306b Fixture \u304c\u30c6\u30b9\u30c8 DB \u306b\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u306e\u3067\u3001\u7d50\u679c\u306f\u300c\u6210\u529f\u300d\u3068\u306a\u308a\u307e\u3059\u3002\n\n## Fixture \u306e\u4ee3\u308f\u308a\u306b FactoryGirl \u3092\u4f7f\u3046\nFixture Replacement \u306e\u4ee3\u8868\u683c\u3001FactoryGirl \u3092\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\n\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u304c DB \u306b\u6b8b\u3063\u3066\u3057\u307e\u3044\u3001\u610f\u56f3\u3057\u306a\u3044\u30c6\u30b9\u30c8\u7d50\u679c\u3068\u306a\u308b\u3053\u3068\u3092\u9632\u3050\u305f\u3081\u3001DatabaseCleaner \u3082\u4f75\u305b\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n$ vim Gemfile\n```\n\n```ruby:Gemfile\ngroup :development, :test do\n  gem 'rspec-rails', '2.10.1'\n  gem 'spork', '0.9.2'\n  gem 'factory_girl_rails', '3.4.0'\n  gem 'database_cleaner', '0.8.0'\nend\n```\n\n```\n$ bundle\nFetching source index for https://rubygems.org/\nUsing rake (0.9.2.2) \nUsing i18n (0.6.0) \nUsing multi_json (1.3.6) \nUsing activesupport (3.2.6) \nUsing builder (3.0.0) \nUsing activemodel (3.2.6) \nUsing erubis (2.7.0) \nUsing journey (1.0.4) \nUsing rack (1.4.1) \nUsing rack-cache (1.2) \nUsing rack-test (0.6.1) \nUsing hike (1.2.1) \nUsing tilt (1.3.3) \nUsing sprockets (2.1.3) \nUsing actionpack (3.2.6) \nUsing mime-types (1.18) \nUsing polyglot (0.3.3) \nUsing treetop (1.4.10) \nUsing mail (2.4.4) \nUsing actionmailer (3.2.6) \nUsing arel (3.0.2) \nUsing tzinfo (0.3.33) \nUsing activerecord (3.2.6) \nUsing activeresource (3.2.6) \nUsing bundler (1.0.21) \nUsing coffee-script-source (1.3.3) \nUsing execjs (1.4.0) \nUsing coffee-script (2.2.0) \nUsing rack-ssl (1.3.2) \nUsing json (1.7.3) \nUsing rdoc (3.12) \nUsing thor (0.15.2) \nUsing railties (3.2.6) \nUsing coffee-rails (3.2.2) \nInstalling database_cleaner (0.8.0) \nUsing diff-lcs (1.1.3) \nInstalling factory_girl (3.4.0) \nInstalling factory_girl_rails (3.4.0) \nUsing jquery-rails (2.0.2) \nUsing mysql2 (0.3.11) \nUsing rails (3.2.6) \nUsing rspec-core (2.10.1) \nUsing rspec-expectations (2.10.0) \nUsing rspec-mocks (2.10.1) \nUsing rspec (2.10.0) \nUsing rspec-rails (2.10.1) \nUsing sass (3.1.19) \nUsing sass-rails (3.2.5) \nUsing spork (0.9.2) \nUsing uglifier (1.2.4) \nYour bundle is complete! It was installed into ./vendor/bundle\n```\n\n## FactoryGirl \u304a\u3088\u3073 DatabaseCleaner \u3092\u8a2d\u5b9a\n\u4e00\u65e6 Spork \u3092\u6b62\u3081\u3001DatabaseCleaner \u306b\u3088\u308a\u30c6\u30b9\u30c8\u5b9f\u884c\u6bce\u306b\u30c6\u30b9\u30c8 DB \u306e\u30c7\u30fc\u30bf\u304c\u524a\u9664\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001Factory \u304c\u8ffd\u52a0\u3055\u308c\u305f\u969b\u306b Spork \u3092\u518d\u8d77\u52d5\u3057\u306a\u304f\u3066\u3082\u8aad\u307f\u8fbc\u3081\u308b\u3088\u3046\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\n$ vim spec/spec_helper.rb\n```\n\n```spec/spec_helper.rb\nRSpec.configure do |config|\n  # ## Mock Framework\n  #\n  # If you prefer to use mocha, flexmock or RR, uncomment the appropriate line:\n  #\n  # config.mock_with :mocha\n  # config.mock_with :flexmock\n  # config.mock_with :rr\n\n  # Remove this line if you're not using ActiveRecord or ActiveRecord fixtures\n  config.fixture_path = \"#{::Rails.root}/spec/fixtures\"\n\n  # If you're not using ActiveRecord, or you'd prefer not to run each of your\n  # examples within a transaction, remove the following line or assign false\n  # instead of true.\n  config.use_transactional_fixtures = true\n\n  # If true, the base class of anonymous controllers will be inferred\n  # automatically. This will be the default behavior in future versions of\n  # rspec-rails.\n  config.infer_base_class_for_anonymous_controllers = false\n\n  # \u8ffd\u8a18\u3053\u3053\u304b\u3089\n  config.before(:suite) do\n    DatabaseCleaner.strategy = :truncation\n    DatabaseCleaner.clean_with(:truncation)\n  end\n\n  config.before(:each) do\n    DatabaseCleaner.start\n  end\n\n  config.after(:each) do\n    DatabaseCleaner.clean\n  end\n  # \u8ffd\u8a18\u3053\u3053\u307e\u3067\nend\n\n\nSpork.each_run do\n  # This code will be run each time you run your specs.\n\n  FactoryGirl.reload # \u8ffd\u8a18\nend\n```\n\n\u518d\u3073 Spork \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n$ bundle exec spork\n```\n\n## Factory \u3092\u4f7f\u7528\u3057\u3066\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\n\n\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3067\u306f Fixture \u3092\u8aad\u307f\u8fbc\u307e\u306a\u3044\u3088\u3046\u306b\u3057\u3001FactoryGirl \u3092\u4f7f\u3046\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```\n$ vim spec/models/article_spec.rb\n```\n\n```ruby:spec/models/article_spec.rb\n# coding: utf-8\n\nrequire 'spec_helper'\n\ndescribe Article do\n  # fixtures(:all) \u3092\u524a\u9664\n\n  describe '.all' do\n    # \u8ffd\u8a18\u3053\u3053\u304b\u3089\n    before do\n      FactoryGirl.create(:article)\n    end\n    # \u8ffd\u8a18\u3053\u3053\u307e\u3067\n\n    subject { Article.all }\n    it { should have(1).items }\n  end\n\n  describe '.new' do\n    context 'given valid attributes' do\n      subject { Article.new(:title => 'a', :content => 'a') }\n      it { should be_valid }\n    end\n\n    context 'given null title' do\n      subject { Article.new(:content => 'a') }\n      it { should have(1).errors_on(:title) }\n    end\n  end\nend\n```\n\n\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3001\u300c\u5931\u6557\u300d\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ bundle exec rspec spec\n................F..............\n\nFailures:\n\n  1) Article.all \n     Failure/Error: FactoryGirl.create(:article)\n     ArgumentError:\n       Factory not registered: article\n     # ./spec/models/article_spec.rb:8:in `block (3 levels) in <top (required)>'\n\nFinished in 1.14 seconds\n31 examples, 1 failure\n\nFailed examples:\n\nrspec ./spec/models/article_spec.rb:12 # Article.all\n```\n\nFactory \u3092\u81ea\u52d5\u751f\u6210\u3057\u307e\u3059\u3002\n\n```\n$ bundle exec rails g factory_girl:model article title:string content:text\n      create  spec/factories/articles.rb\n```\n\nspec/factories \u4ee5\u4e0b\u306b Factory \u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n```spec/factories/articles.rb\n# Read about factories at https://github.com/thoughtbot/factory_girl\n\nFactoryGirl.define do\n  factory :article do\n    title \"MyString\"\n    content \"MyText\"\n  end\nend\n```\n\n\u518d\u5ea6\u3001\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n$ bundle exec rspec spec\n...............................\n\nFinished in 1.23 seconds\n31 examples, 0 failures\n```\n\nFixture \u306e\u4ee3\u308f\u308a\u306b FactoryGirl \u3092\u4f7f\u3063\u3066\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n## RSpec \u5b9f\u884c\u6642\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\uff08\u304a\u307e\u3051\uff09\nRSpec \u3067\u306f\u3001\u30c6\u30b9\u30c8\u5b9f\u884c\u6642\u306e\u898b\u305f\u76ee\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```\n$ vim .rspec\n```\n\n```ruby:.rspec\n--colour\n--drb\n--format d\n```\n\n\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n```\n$ bundle exec rspec spec\n\nArticlesController\n  GET index\n    assigns all articles as @articles\n  GET show\n    assigns the requested article as @article\n  GET new\n    assigns a new article as @article\n  GET edit\n    assigns the requested article as @article\n  POST create\n    with valid params\n      creates a new Article\n      assigns a newly created article as @article\n      redirects to the created article\n    with invalid params\n      assigns a newly created but unsaved article as @article\n      re-renders the 'new' template\n  PUT update\n    with valid params\n      updates the requested article\n      assigns the requested article as @article\n      redirects to the article\n    with invalid params\n      assigns the article as @article\n      re-renders the 'edit' template\n  DELETE destroy\n    destroys the requested article\n    redirects to the articles list\n\nArticle\n  .all\n    should have 1 items\n  .new\n    given valid attributes\n      should be valid\n    given null title\n      should have 1 errors on :title\n\nArticles\n  GET /articles\n    works! (now write some real specs)\n\nArticlesController\n  routing\n    routes to #index\n    routes to #new\n    routes to #show\n    routes to #edit\n    routes to #create\n    routes to #update\n    routes to #destroy\n\narticles/edit\n  renders the edit article form\n\narticles/index\n  renders a list of articles\n\narticles/new\n  renders new article form\n\narticles/show\n  renders attributes in <p>\n\nFinished in 1.28 seconds\n31 examples, 0 failures\n```\n\n\u4ee5\u4e0a\u3067\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u306f\u7d42\u308f\u308a\u3067\u3059\u3002\n\u672c\u683c\u7684\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u3059\u308b\u306b\u306f\u8db3\u308a\u306a\u3044\u3068\u3053\u308d\u304c\u591a\u3059\u304e\u307e\u3059\u304c\u3001\u307e\u305a\u306f\u30c6\u30b9\u30c8\u3092\u66f8\u304d\u59cb\u3081\u308b\u304d\u3063\u304b\u3051\u306b\u306a\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["FactoryGirl", "Spork", "Rails", "RSpec"]}