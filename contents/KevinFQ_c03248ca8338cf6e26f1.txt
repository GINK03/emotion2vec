{"context": "xpath\u306b\u95a2\u3059\u308b\u30e1\u30e2\u66f8\u304d\u3067\u3059\u3002\n\n\u30ed\u30fc\u30b1\u30fc\u30b7\u30e7\u30f3\u30d1\u30b9\n\n\n\n\u95a2\u6570\n\n\n\n\u30b5\u30f3\u30d7\u30eb\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u53d6\u5f97\uff08\u540d\u524d\u7a7a\u9593\u7121\u8996\uff09\nNode targetNode = (Node)xpath.evaluate(\"//*[local-name()='ProductID']\", doc, XPathConstants.NODE);\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u53d6\u5f97\uff08\u540d\u524d\u7a7a\u9593\u6709\u52b9\uff09\nNode targetNodeWithNS = (Node)xpath.evaluate(\"//*[local-name()='ProductID' and namespace-uri()='nms:xml.go.jp:schema']\", doc, XPathConstants.NODE);\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u5b50\u30ce\u30fc\u30c9\u30ea\u30b9\u30c8\nNodeList childNodeList = (NodeList)xpath.evaluate(\"child::node()\", targetNode1, XPathConstants.NODESET);\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u5b50\u30ce\u30fc\u30c9\u30ea\u30b9\u30c8\uff08\u7c21\u6613\u8868\u8a18\uff09\nNodeList childNodeList_simple = (NodeList)xpath.evaluate(\"./node()\", targetNode1, XPathConstants.NODESET);\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u89aa\u30ce\u30fc\u30c9\nNodeList childNodeList = (NodeList)xpath.evaluate(\"parent::node()\", targetNode1, XPathConstants.NODESET);\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u89aa\u30ce\u30fc\u30c9\uff08\u7c21\u6613\u8868\u8a18\uff09\nNodeList simpleChildNodeList = (NodeList)xpath.evaluate(\"..\", targetNode1, XPathConstants.NODESET);\n\n// \u7956\u5148\u30ce\u30fc\u30c9\u30ea\u30b9\u30c8\u306e\u53d6\u5f97\nNodeList ancestorList = (NodeList)xpath.evaluate(\"ancestor::node()\", targetNode1, XPathConstants.NODESET);\n\nxpath\u306b\u95a2\u3059\u308b\u30e1\u30e2\u66f8\u304d\u3067\u3059\u3002\n\n#\u30ed\u30fc\u30b1\u30fc\u30b7\u30e7\u30f3\u30d1\u30b9\n![\u540d\u79f0\u672a\u8a2d\u5b9a.png](https://qiita-image-store.s3.amazonaws.com/0/123138/6d5492d4-6014-b687-1cd2-c2026dde13cc.png)\n\n![\u540d\u79f0\u672a\u8a2d\u5b9a 2.png](https://qiita-image-store.s3.amazonaws.com/0/123138/d3339931-feae-c5af-2c4a-2a97cda5f933.png)\n\n\n#\u95a2\u6570\n![\u540d\u79f0\u672a\u8a2d\u5b9a 4.png](https://qiita-image-store.s3.amazonaws.com/0/123138/3e2ad920-fce8-59cf-afe6-5bc5d0a9e6bb.png)\n\n\n![\u540d\u79f0\u672a\u8a2d\u5b9a 3.png](https://qiita-image-store.s3.amazonaws.com/0/123138/0e301c6f-fa21-dba6-3a36-1adc2ea25a40.png)\n\n\n#\u30b5\u30f3\u30d7\u30eb\n\n\n```java\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpressionException;\nimport javax.xml.xpath.XPathFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u53d6\u5f97\uff08\u540d\u524d\u7a7a\u9593\u7121\u8996\uff09\nNode targetNode = (Node)xpath.evaluate(\"//*[local-name()='ProductID']\", doc, XPathConstants.NODE);\n\t\t\t\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u53d6\u5f97\uff08\u540d\u524d\u7a7a\u9593\u6709\u52b9\uff09\nNode targetNodeWithNS = (Node)xpath.evaluate(\"//*[local-name()='ProductID' and namespace-uri()='nms:xml.go.jp:schema']\", doc, XPathConstants.NODE);\n\t\t\t\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u5b50\u30ce\u30fc\u30c9\u30ea\u30b9\u30c8\nNodeList childNodeList = (NodeList)xpath.evaluate(\"child::node()\", targetNode1, XPathConstants.NODESET);\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u5b50\u30ce\u30fc\u30c9\u30ea\u30b9\u30c8\uff08\u7c21\u6613\u8868\u8a18\uff09\nNodeList childNodeList_simple = (NodeList)xpath.evaluate(\"./node()\", targetNode1, XPathConstants.NODESET);\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u89aa\u30ce\u30fc\u30c9\nNodeList childNodeList = (NodeList)xpath.evaluate(\"parent::node()\", targetNode1, XPathConstants.NODESET);\n\n// \u6307\u5b9a\u30ce\u30fc\u30c9\u306e\u89aa\u30ce\u30fc\u30c9\uff08\u7c21\u6613\u8868\u8a18\uff09\nNodeList simpleChildNodeList = (NodeList)xpath.evaluate(\"..\", targetNode1, XPathConstants.NODESET);\n\t\t\t\n// \u7956\u5148\u30ce\u30fc\u30c9\u30ea\u30b9\u30c8\u306e\u53d6\u5f97\nNodeList ancestorList = (NodeList)xpath.evaluate(\"ancestor::node()\", targetNode1, XPathConstants.NODESET);\n```\n", "tags": ["XML", "xpath", "Java"]}