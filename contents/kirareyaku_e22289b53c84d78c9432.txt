{"tags": ["Elasticsearch", "C#", ".NETCore"], "context": "\n\n\u6982\u8981\nElasticsearch\u306b.NET\u304b\u3089\u3064\u306a\u3052\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306e5.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u8a18\u5ff5\u3068\u3044\u3046\u3053\u3068\u3067\u3001Elasticsearch5.0\u304b\u3089\u5165\u3063\u305fIngest Node\u3092\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u305f\u3089\u3069\u3046\u4f7f\u3048\u308b\u306e\u3088\u3001\u3068\u3044\u3046\u3068\u3053\u308d\u3092\u8a66\u3057\u305f\u8a18\u9332\u3067\u3059\u3002\n5.0\u306e\u30ea\u30ea\u30fc\u30b9\u306e\u6848\u5185\u306f\u3053\u3061\u3089\nNEST 5.0 released\n\u8a66\u3057\u305f\u74b0\u5883\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n\n\n\u88fd\u54c1\nversion\n\u5099\u8003\n\n\n\n\nelasticsearch\n5.1.1\nelastic.co\u914d\u5e03\u306eDocker\u30a4\u30e1\u30fc\u30b8\n\n\nkibana\n5.1.1\nelastic.co\u914d\u5e03\u306eDocker\u30a4\u30e1\u30fc\u30b8\n\n\nNEST\n5.0.0\n\n\n\n\n\n\u5b9f\u8df5\n\ndependencies\u306b\u8ffd\u52a0\ndotnet new -t console\n\n\u306e\u76f4\u5f8c\u306b\u751f\u6210\u3055\u308c\u305fproject.json\u306b\u5bfe\u3057\u3066\u8ffd\u52a0\u3057\u305f\u4f8b\u304c\u3053\u3061\u3089\u3002\"Nest\": \"5.0.0\"\u306e\u7b87\u6240\u3067\u3059\u3002\n{\n  \"version\": \"1.0.0-*\",\n  \"buildOptions\": {\n    \"debugType\": \"portable\",\n    \"emitEntryPoint\": true\n  },\n  \"dependencies\": {\n    \"Nest\": \"5.0.0\"\n  },\n  \"frameworks\": {\n    \"netcoreapp1.1\": {\n      \"dependencies\": {\n        \"Microsoft.NETCore.App\": {\n          \"type\": \"platform\",\n          \"version\": \"1.1.0-preview1-001100-00\"\n        }\n      },\n      \"imports\": \"dnxcore50\"\n    }\n  }\n}\n\n\n\nX-Pack\u5c0e\u5165\u74b0\u5883\u306b\u5bfe\u3057\u3066\u306e\u63a5\u7d9a\nX-Pack\u3092\u5c0e\u5165\u3057\u3066\u8a8d\u8a3c\u3092\u6c42\u3081\u3089\u308c\u308b\u74b0\u5883\u306b\u5bfe\u3057\u3066\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\nUri\u306e\u524d\u306b\u30e6\u30fc\u30b6\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u66f8\u304f\n\nvar settings = new ConnectionSettings(new Uri(\"http://elastic:changeme@192.168.xxx.xxx:9200\"))\n            .DisableDirectStreaming(); //\u3053\u308c\u306f\u30c7\u30d0\u30c3\u30b0\u7528\nvar client = new ElasticClient(settings);\n\n\nConnectionSettings\u306eBasicAuthentication\u3067\u6307\u5b9a\u3057\u3066\u63a5\u7d9a\n\nvar settings = new ConnectionSettings(new Uri(\"http://192.168.xxx.xxx:9200\"))\n            .DisableDirectStreaming()   //\u3053\u308c\u306f\u30c7\u30d0\u30c3\u30b0\u7528\n            .BasicAuthentication(\"elastic\", \"changeme\");\nvar client = new ElasticClient(settings);\n\n\nIngest Node\nTweeter\u306etweet\u3092\u4f8b\u3068\u3057\u3066\u3001Ingest Node\u3092\u4f7f\u7528\u4f8b\u3092\u8aac\u660e\u3057\u305fIngest Node: A Client's Perspective\u3092\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\nPipeline\u3001Processor\u306e\u5185\u5bb9\u3084\u5927\u307e\u304b\u306a\u6d41\u308c\u3068\u3057\u3066\u306f\u3001\u3053\u3046\u3044\u3046\u7406\u89e3\u3067\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u52a0\u5de5\u51e6\u7406\u306e\u4e2d\u8eab\uff08Processor\uff09\u3092\u6c7a\u3081\u3066\u3001\u9806\u5e8f\u3092\u5b9a\u3081\u3066\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u4f5c\u6210\u3059\u308b\n\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092elasticsearch\u306b\u767b\u9332\u3059\u308b\nIndex\u751f\u6210\u6642\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u6307\u5b9a\u3059\u308b\n\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067\u51e6\u7406\u304c\u884c\u308f\u308c\u3066\u3001\u6307\u5b9a\u3055\u308c\u305f\u51e6\u7406\u304c\u7d42\u308f\u3063\u305f\u3042\u3068\u306e\u30c7\u30fc\u30bf\u304cIndex\u3068\u3057\u3066\u767b\u9332\u3055\u308c\u308b\n\nApache Solr\u3067\u8a00\u3046\u3068\u3053\u308d\u306eUpdateRequestProcessor\u3084\u3001\u53e4\u304f\u306fFAST ESP\u3067\u8a00\u3046\u3068\u3053\u308d\u306eDocument Proccessor\u306b\u76f8\u5f53\u3059\u308b\u3082\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f7f\u3048\u308bProcessor\u306b\u3064\u3044\u3066\u306f\u3001\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u78ba\u8a8d\u3055\u308c\u305f\u3044\u3002\nhttps://www.elastic.co/guide/en/elasticsearch/reference/5.1/ingest-processors.html\nexperimental\u3068\u304b\u3064\u3044\u3066\u3044\u308b\u306e\u3082\u3042\u308b\u306e\u3067\u3001\u305d\u3053\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3002\n\nIngest Node\u306e\u4f7f\u3044\u65b9\u4f8b\nvar res = client.PutPipeline(\"tweet-pipeline\", p => p\n                .Processors(ps => ps\n                    .Convert<Tweet>(c => c\n                        .Field(t => t.Retweets)\n                        .Type(ConvertProcessorType.Integer))\n                    .Script(s => s\n                        .Lang(\"painless\")\n                        .Inline(\"ctx.retweets_calc = ctx.retweets * params.val\")\n                        .Params(param => param\n                            .Add(\"val\", 10))\n                        )\n                    .Grok<Tweet>(g => g\n                        .Field(t => t.Message)\n                        .Patterns(new string[]{\n                            \"%{WORD:word1} %{WORD:word2}\"\n                        }))\n                    .Set<Tweet>(s => s\n                        .Field(\"fixedField\")\n                        .Value(\"fixedValue1, fixedvalue2\"))\n                    .Split<Tweet>(s => s\n                        .Field(\"fixedField\")\n                        .Separator(\",[\\\\s]*\"))\n                    .Uppercase<Tweet>(u => u\n                        .Field(t => t.Lang))))\n                    ;\n\n\u4ee5\u4e0b\u3001\u4eca\u56de\u4f7f\u3063\u3066\u305fProcessor\u3054\u3068\u306b\u30b3\u30e1\u30f3\u30c8\u3057\u3066\u3044\u304f\u3002\n\nConvert\n\u578b\u3092\u5909\u63db\u3059\u308b\u304f\u3089\u3044\u306a\u3089\u3001\u6700\u521d\u304b\u3089\u305d\u306e\u578b\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5ba3\u8a00\u3057\u3066\u305f\u3089\u3044\u3044\u304c\u306a\u3001\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308d\u3046\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u307e\u305f\u306f\u3001\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u3061\u3083\u3093\u3068\u66f8\u3044\u3066\u304a\u3051\u3070\u3044\u3044\u3058\u3083\u306a\u3044\u3001\u3068\u3002\n\u3057\u304b\u3057\u306a\u304c\u3089\u3001\u305d\u3046\u306f\u30a4\u30ab\u306e\u3075\u3093\u3069\u3057\u3001\u306e\u3063\u3074\u304d\u306a\u3089\u306a\u3044\u4e8b\u60c5\u306b\u5bfe\u5fdc\u3059\u308b\uff11\u3064\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u3057\u3066\u3001Convert\u304c\u4f7f\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n  .Convert<Tweet>(c => c\n           .Field(t => t.Retweets)\n\u3000         .Type(ConvertProcessorType.Integer))\n\n\u3053\u306e\u4f8b\u306f\u3001Tweet.Retweets\u304cstring\u578b\u3060\u3051\u3069\u3082\u3001\u5165\u3063\u3066\u3044\u308b\u5024\u306fInteger\u306a\u306e\u3067integer\u306b\u5909\u63db\u3059\u308b\u5834\u5408\u306e\u4f8b\u3067\u3059\u3002\nField\u306b\u5909\u63db\u5143\u306e\u5024\u304c\u5165\u3063\u3066\u3044\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3001Type\u306b\u5909\u63db\u5148\u306e\u578b\u3092\u66f8\u304d\u307e\u3059\u3002\nConvertProcessorType\u3067\u306f\u3001\u6b21\u306e\u9805\u76ee\u304c\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\nInteger\nFloat\nString\nBoolean\nAuto\n\n\nScript\n\u4f55\u3089\u304b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3001\u305d\u306e\u7d50\u679c\u3092\u683c\u7d0d\u3057\u305f\u3044\u3093\u3084\uff01\u3068\u3044\u3046\u3068\u304d\u306b\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002\n.Script(s => s\n       .Lang(\"painless\")\n       .Inline(\"ctx.retweets_calc = ctx.retweets * params.val\")\n       .Params(param => param\n            .Add(\"val\", 10)\n       )\n\nLang\u3067\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u304cpainless\u3068\u3044\u3046elastic\u3055\u3093\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u8a00\u8a9e\u3067\u3059\u3002\n\u4ed6\u306b\u306fgroovy\u3084python\u3082\u4f7f\u3048\u308b\u305d\u3046\u3067\u3059\u3057\u3001\u5f97\u610f\u306a\u306e\u3092\u9078\u3079\u3070\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001retweets\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u5024\u306b\u5bfe\u3057\u3066\u3001\u5916\u304b\u3089\u4e0e\u3048\u3089\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf params.val\u306e\u5024\u3092\u4e57\u3058\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3092\u3084\u3063\u3066\u3044\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001if\u6587\u3084for\u6587\u306a\u3069\u3082\u4f7f\u3048\u308b\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u52a0\u5de5\u3067\u3042\u308c\u3070\u3001\u72ec\u81ea\u306eIngestNode\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u66f8\u304f\u307e\u3067\u3082\u306a\u304f\u3001\u3053\u308c\u3067\u51fa\u6765\u305d\u3046\u3067\u3059\u3002\nctx.XXXXXXX\u3068\u3001ctx\u3068\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3067\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067\u51e6\u7406\u3055\u308c\u3066\u3044\u308b\u4e2d\u8eab\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\u307e\u305f\u5f15\u6570\u306fparams\u3067\u6307\u5b9a\u3057\u3001key, value\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306fparams\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\nctx\u304cContext\u306b\u898b\u3048\u308c\u3070\u3001\u4f55\u3082\u8aac\u660e\u306a\u304f\u3066\u3082Apache\u306ecommons-chain\u306e\u3088\u3046\u306a\u3082\u3093\u304b\u3001\u3068\u60f3\u50cf\u3067\u304d\u3066\u7d0d\u5f97\u3067\u304d\u308b\u306e\u3067\u306f\u3068\u601d\u3044\u307e\u3059\u3002\n\nGrok\n\u307f\u3093\u306a\u5927\u597d\u304dGrok\uff01Logstash\u3067\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u52a0\u5de5\u3059\u308b\u3001\u3068\u3044\u3063\u305f\u5834\u5408\u306b\u304a\u3044\u3066\u3001\u3082\u3063\u3068\u3082\u304a\u4e16\u8a71\u306b\u306a\u3063\u305f\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n.Grok<Tweet>(g => g\n            .Field(t => t.Message)\n            .Patterns(new string[]{\"%{WORD:word1} %{WORD:word2}\"}))\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001Message\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5165\u3063\u3066\u3044\u308b\u5024\u3092Patterns\u3067\u8a2d\u5b9a\u3057\u305f\u6761\u4ef6\u306b\u3042\u3066\u306f\u3081\u3001\u7d50\u679c\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n\u3082\u3057\u3001Message\u304c\u300cHello World!\u300d\u3068\u3044\u3046\u6587\u5b57\u5217\u3060\u3063\u305f\u3089\u3070\u3001word1\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\"Hello\"\u3001word2\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\"World!\"\u3068\u5c55\u958b\u3055\u308c\u3066\u306f\u3044\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\nSet\n\u56fa\u5b9a\u5024\u3092\u5165\u308c\u3066\u3084\u308a\u305f\u3044\u3068\u304d\u3001\u3042\u308a\u307e\u3059\u3088\u306d\u3002\u305d\u3046\u3044\u3046\u3068\u304d\u306b\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002\n.Set<Tweet>(s => s\n           .Field(\"fixedField\")\n           .Value(\"fixedValue1, fixedvalue2\"))\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001fixedField\u3068\u3044\u3046\u3068\u3053\u308d\u306b\"fixedValue1, fixedValue2\"\u3068\u3044\u3046\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n.Field\u306e\u66f8\u304d\u65b9\u3067\u3059\u304c\u3001.Field(t => t.XXXXXX)\u3000\u3068\u3044\u3046\u3088\u3046\u306a\u66f8\u304d\u65b9\u304c\u3067\u304d\u307e\u3059\u304c\u3001.Field(\"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\")\u306e\u3088\u3046\u306b\u66f8\u304f\u3068\u3001\nTweet\u30af\u30e9\u30b9\u306b\u5b58\u5728\u3057\u306a\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001\u305d\u3093\u306a\u3053\u3068\u3092\u3059\u308b\u3068\u691c\u7d22\u3057\u305f\u7d50\u679c\u3092Deserialize\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u3068\u3063\u3066\u304d\u305f\u3068\u304d\u306b\u3001\u5024\u304c\u53d6\u308c\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u304c\u3001Pipeline\u3092\u901a\u3063\u3066\u3044\u308b\u9593\u3060\u3051\u4f7f\u3046\u4eee\u306e\u5024\u3092\u683c\u7d0d\u3059\u308b\u3068\u304b\u3001\u305d\u3046\u3044\u3046\u7528\u9014\u3067\u306f\u4f7f\u3046\u3053\u3068\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\nSplit\n\u30ab\u30f3\u30de\u533a\u5207\u308a\u3084\u30bf\u30d6\u533a\u5207\u308a\u3001\u6539\u884c\u30b3\u30fc\u30c9\u3067\u533a\u5207\u3089\u308c\u305f\u6587\u5b57\u5217\u304c\u3042\u3063\u3066\u3001\u3053\u308c\u3092Split\u3057\u3066\u5404\u8981\u7d20\u3068\u3057\u3066\u4f7f\u3044\u305f\u3044\u3068\u304d\u3001\u7279\u306bAggregation\u3057\u305f\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u306f\u3001\u3053\u3046\u3044\u3046\u3053\u3068\u304c\u591a\u3044\u3088\u3046\u306b\u601d\u3044\u307e\u3059\u3002\nkeyword\u3084tag\u60c5\u5831\u3092DB\u306b\u683c\u7d0d\u3059\u308b\u3068\u304d\u306b\u3001\u6307\u5b9a\u6587\u5b57\u3067\u9023\u7d50\u3057\u3066\u5165\u308c\u308b\u3001\u3068\u304b\u305d\u3093\u306a\u30b7\u30b9\u30c6\u30e0\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n.Split<Tweet>(s => s\n             .Field(\"fixedField\")\n             .Separator(\",\"))\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001fixedField\u306b\u5165\u3063\u3066\u3044\u308b\u6587\u5b57\u5217\u3092Separator\u3067\u6307\u5b9a\u3057\u305f\",\" \u3067\u533a\u5207\u3063\u3066\u3001\u7d50\u679c\u3092fixedField\u306b\u683c\u7d0d\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001Set Processor\u3067fixedField\u306b\u306f\u3001\"fixedValue1, fixeValue2\"\u3000\u3068\u5165\u3063\u3066\u3044\u307e\u3057\u305f\u304c\uff08\u3053\u306e\u6642\u70b9\u3067\u306f\u3001fixedField\u306f\u305f\u3060\u306estring)\u3001\u3053\u3053\u3067Split\u3055\u308c\u308b\u3053\u3068\u3067\u3001fixedField\u306f\u3001[\"fixedValue1\", \" fixedValue2\"]\u3068array\u306b\u306a\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\u5358\u7d14\u306b\u30ab\u30f3\u30de\u3067\u533a\u5207\u3063\u3066\u3057\u307e\u3046\u3068\u3001\u4eca\u56de\u306e\u4f8b\u3067\u3059\u3068fixedValue2\u306e\u524d\u306b\u534a\u89d2\u7a7a\u767d\u304c\u5165\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\nSeparator\u3092\u3053\u3046\u3057\u3066\u3084\u308b\u3068\u3001\u5909\u306a\u7a7a\u767d\u306f\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n.Split<Tweet>(s => s\n             .Field(\"fixedField\")\n             .Separator(\",[\\\\s]*\"))\n\n\u30e1\u30e2\uff09\u3000Trim Processor\u306fArray\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u306f\u9069\u7528\u3067\u304d\u306a\u3044\n\nUppercase\n\u5927\u6587\u5b57\u306b\u5909\u63db\u3057\u3066\u683c\u7d0d\u3057\u306a\u304a\u3059\u3001\u3068\u3044\u3046\u3060\u3051\u306e\u3082\u306e\u3002\u308f\u304b\u308a\u3084\u3059\u3044\u306e\u3067\u8aac\u660e\u3092\u5272\u611b\u3057\u307e\u3059\u3002\n\n\u53c2\u8003\nTweet\u30af\u30e9\u30b9\npublic class Tweet\n{\n    public string Message { get; set; }\n    public string Lang { get; set; }\n    public string Retweets { get; set; }\n}\n\nIndex\u4f5c\u6210\nclient.Index(new Tweet { Retweets = \"123\", Message = \"Hallo Twitter Co,.Ltd!\", Lang = \"nl\" }, i => i\n                .Index(\"tweets\")\n                .Pipeline(\"tweet-pipeline\")\n            );\n\n\u3053\u308c\u3092Index\u3059\u308b\u3068\u3001\u5148\u306ePipeline\u3067\u51e6\u7406\u3055\u308c\u305f\u7d50\u679c\u3001\u3053\u3046\u306a\u308b\u3002\nConsole\u3088\u308a\u691c\u7d22\u3092\u5b9f\u884c\u3057\u3066\u78ba\u8a8d\nGET tweets/_search\n{\n  \"query\" : {\n    \"match_all\": {}\n  }\n}\n\n{\n  \"took\": 3,\n  \"timed_out\": false,\n  \"_shards\": {\n    \"total\": 5,\n    \"successful\": 5,\n    \"failed\": 0\n  },\n  \"hits\": {\n    \"total\": 1,\n    \"max_score\": 1,\n    \"hits\": [\n      {\n        \"_index\": \"tweets\",\n        \"_type\": \"tweet\",\n        \"_id\": \"AVj4sLYcvxqDpVrCocq3\",\n        \"_score\": 1,\n        \"_source\": {\n          \"fixedField\": [\n            \"fixedValue1\",\n            \"fixedvalue2\"\n          ],\n          \"word1\": \"Hallo\",\n          \"word2\": \"Twitter\",\n          \"message\": \"Hallo Twitter Co,.Ltd!\",\n          \"lang\": \"NL\",\n          \"retweets\": 123,\n          \"retweets_calc\": 1230\n        }\n      }\n    ]\n  }\n}\n\n\n\u304a\u308f\u308a\u306b\nIngest Node\u306f\u3001Apache Solr\u3067\u72ec\u81ea\u306eProcessor\u3092\u4f5c\u3063\u3066Update Request Processors\u306b\u8ffd\u52a0\u3057\u3066\u3044\u305f\u4eba\u3001FAST ESP\u3092\u3084\u3063\u3066\u3044\u305f\u4eba\u306b\u306f\u3059\u3054\u304f\u99b4\u67d3\u307f\u3084\u3059\u3044\u3068\u601d\u3046\u3002\n\u3082\u3061\u308d\u3093\u3001\u3069\u3053\u307e\u3067Ingest Node\u3067\u3084\u3063\u3066\u3001\u3069\u3053\u307e\u3067\u3092\u6295\u3052\u308b\u5074\u304c\u4e8b\u524d\u306b\u3084\u3063\u3066\u304a\u304f\u304b\u3001\u3068\u3044\u3063\u305f\u7dda\u5f15\u304d\u306f\u3042\u308b\u3060\u308d\u3046\u3002\nNEST\u306f\u3001\u66f8\u304d\u65b9\u3063\u3066\u3053\u3046\u3044\u3046\u611f\u3058\u306a\u306e\u306d\u3001\u3068\uff11\u5ea6\u78ba\u8a8d\u3067\u304d\u308c\u3070\u3001\u5b66\u7fd2\u30b3\u30b9\u30c8\u304c\u3042\u307e\u308a\u9ad8\u304f\u306a\u3044\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u4f5c\u308a\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u601d\u3046\u3002\nkibana/Console\u3067\u51fa\u6765\u308b\u3053\u3068\u3068\u3001\u4f3c\u305f\u3088\u3046\u306a\u611f\u3058\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30e1\u30bd\u30c3\u30c9\u3082\u63a2\u3057\u3084\u3059\u3044\u3002\n.NETCore\u3082\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u500b\u4eba\u7684\u306b\u304b\u306a\u308a\u30d7\u30e9\u30b9\u8a55\u4fa1\u3002\n\u307e\u3060\u958b\u767a\u306f\u6d3b\u767a\u306b\u884c\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u30d0\u30b0\u306b\u6ce3\u304f\u304b\u3082\u3057\u308c\u306a\u3044\u3051\u3069\u3082\u3001\u305d\u3053\u306f\u3054\u611b\u656c\u3002\n# \u6982\u8981\n\nElasticsearch\u306b.NET\u304b\u3089\u3064\u306a\u3052\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u306e5.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u8a18\u5ff5\u3068\u3044\u3046\u3053\u3068\u3067\u3001Elasticsearch5.0\u304b\u3089\u5165\u3063\u305fIngest Node\u3092\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3063\u305f\u3089\u3069\u3046\u4f7f\u3048\u308b\u306e\u3088\u3001\u3068\u3044\u3046\u3068\u3053\u308d\u3092\u8a66\u3057\u305f\u8a18\u9332\u3067\u3059\u3002\n\n5.0\u306e\u30ea\u30ea\u30fc\u30b9\u306e\u6848\u5185\u306f\u3053\u3061\u3089\n[NEST 5.0 released](https://www.elastic.co/blog/nest-5-0-released)\n\n\n\u8a66\u3057\u305f\u74b0\u5883\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n| \u88fd\u54c1 | version | \u5099\u8003 |\n|:----|-----------:|----:|\n| elasticsearch | 5.1.1 | elastic.co\u914d\u5e03\u306eDocker\u30a4\u30e1\u30fc\u30b8 | \n| kibana | 5.1.1 | elastic.co\u914d\u5e03\u306eDocker\u30a4\u30e1\u30fc\u30b8 | \n| NEST | 5.0.0 |  |\n\n# \u5b9f\u8df5\n\n## dependencies\u306b\u8ffd\u52a0\n\n```shell-session\ndotnet new -t console\n```\n\n\u306e\u76f4\u5f8c\u306b\u751f\u6210\u3055\u308c\u305fproject.json\u306b\u5bfe\u3057\u3066\u8ffd\u52a0\u3057\u305f\u4f8b\u304c\u3053\u3061\u3089\u3002\"Nest\": \"5.0.0\"\u306e\u7b87\u6240\u3067\u3059\u3002\n\n```json\n{\n  \"version\": \"1.0.0-*\",\n  \"buildOptions\": {\n    \"debugType\": \"portable\",\n    \"emitEntryPoint\": true\n  },\n  \"dependencies\": {\n    \"Nest\": \"5.0.0\"\n  },\n  \"frameworks\": {\n    \"netcoreapp1.1\": {\n      \"dependencies\": {\n        \"Microsoft.NETCore.App\": {\n          \"type\": \"platform\",\n          \"version\": \"1.1.0-preview1-001100-00\"\n        }\n      },\n      \"imports\": \"dnxcore50\"\n    }\n  }\n}\n\n```\n\n## X-Pack\u5c0e\u5165\u74b0\u5883\u306b\u5bfe\u3057\u3066\u306e\u63a5\u7d9a\n\nX-Pack\u3092\u5c0e\u5165\u3057\u3066\u8a8d\u8a3c\u3092\u6c42\u3081\u3089\u308c\u308b\u74b0\u5883\u306b\u5bfe\u3057\u3066\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u65b9\u6cd5\u304c\u3042\u308b\u3002\n\n- Uri\u306e\u524d\u306b\u30e6\u30fc\u30b6\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u66f8\u304f\n\n```csharp\nvar settings = new ConnectionSettings(new Uri(\"http://elastic:changeme@192.168.xxx.xxx:9200\"))\n            .DisableDirectStreaming(); //\u3053\u308c\u306f\u30c7\u30d0\u30c3\u30b0\u7528\nvar client = new ElasticClient(settings);\n```\n\n- ConnectionSettings\u306eBasicAuthentication\u3067\u6307\u5b9a\u3057\u3066\u63a5\u7d9a\n\n```csharp\nvar settings = new ConnectionSettings(new Uri(\"http://192.168.xxx.xxx:9200\"))\n            .DisableDirectStreaming()   //\u3053\u308c\u306f\u30c7\u30d0\u30c3\u30b0\u7528\n            .BasicAuthentication(\"elastic\", \"changeme\");\nvar client = new ElasticClient(settings);\n```\n\n## Ingest Node\n\nTweeter\u306etweet\u3092\u4f8b\u3068\u3057\u3066\u3001Ingest Node\u3092\u4f7f\u7528\u4f8b\u3092\u8aac\u660e\u3057\u305f[Ingest Node: A Client's Perspective](https://www.elastic.co/blog/ingest-node-a-clients-perspective)\u3092\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\n\nPipeline\u3001Processor\u306e\u5185\u5bb9\u3084\u5927\u307e\u304b\u306a\u6d41\u308c\u3068\u3057\u3066\u306f\u3001\u3053\u3046\u3044\u3046\u7406\u89e3\u3067\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n1. \u52a0\u5de5\u51e6\u7406\u306e\u4e2d\u8eab\uff08Processor\uff09\u3092\u6c7a\u3081\u3066\u3001\u9806\u5e8f\u3092\u5b9a\u3081\u3066\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u4f5c\u6210\u3059\u308b\n2. \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092elasticsearch\u306b\u767b\u9332\u3059\u308b\n3. Index\u751f\u6210\u6642\u306b\u4f7f\u7528\u3059\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u6307\u5b9a\u3059\u308b\n4. \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067\u51e6\u7406\u304c\u884c\u308f\u308c\u3066\u3001\u6307\u5b9a\u3055\u308c\u305f\u51e6\u7406\u304c\u7d42\u308f\u3063\u305f\u3042\u3068\u306e\u30c7\u30fc\u30bf\u304cIndex\u3068\u3057\u3066\u767b\u9332\u3055\u308c\u308b\n\nApache Solr\u3067\u8a00\u3046\u3068\u3053\u308d\u306eUpdateRequestProcessor\u3084\u3001\u53e4\u304f\u306fFAST ESP\u3067\u8a00\u3046\u3068\u3053\u308d\u306eDocument Proccessor\u306b\u76f8\u5f53\u3059\u308b\u3082\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4f7f\u3048\u308bProcessor\u306b\u3064\u3044\u3066\u306f\u3001\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u78ba\u8a8d\u3055\u308c\u305f\u3044\u3002\nhttps://www.elastic.co/guide/en/elasticsearch/reference/5.1/ingest-processors.html\nexperimental\u3068\u304b\u3064\u3044\u3066\u3044\u308b\u306e\u3082\u3042\u308b\u306e\u3067\u3001\u305d\u3053\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3002\n\n## Ingest Node\u306e\u4f7f\u3044\u65b9\u4f8b\n\n```csharp\nvar res = client.PutPipeline(\"tweet-pipeline\", p => p\n                .Processors(ps => ps\n                    .Convert<Tweet>(c => c\n                        .Field(t => t.Retweets)\n                        .Type(ConvertProcessorType.Integer))\n                    .Script(s => s\n                        .Lang(\"painless\")\n                        .Inline(\"ctx.retweets_calc = ctx.retweets * params.val\")\n                        .Params(param => param\n                            .Add(\"val\", 10))\n                        )\n                    .Grok<Tweet>(g => g\n                        .Field(t => t.Message)\n                        .Patterns(new string[]{\n                            \"%{WORD:word1} %{WORD:word2}\"\n                        }))\n                    .Set<Tweet>(s => s\n                        .Field(\"fixedField\")\n                        .Value(\"fixedValue1, fixedvalue2\"))\n                    .Split<Tweet>(s => s\n                        .Field(\"fixedField\")\n                        .Separator(\",[\\\\s]*\"))\n                    .Uppercase<Tweet>(u => u\n                        .Field(t => t.Lang))))\n                    ;\n```\n\n\u4ee5\u4e0b\u3001\u4eca\u56de\u4f7f\u3063\u3066\u305fProcessor\u3054\u3068\u306b\u30b3\u30e1\u30f3\u30c8\u3057\u3066\u3044\u304f\u3002\n\n### Convert\n\n\u578b\u3092\u5909\u63db\u3059\u308b\u304f\u3089\u3044\u306a\u3089\u3001\u6700\u521d\u304b\u3089\u305d\u306e\u578b\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5ba3\u8a00\u3057\u3066\u305f\u3089\u3044\u3044\u304c\u306a\u3001\u3068\u3044\u3046\u3053\u3068\u3082\u3042\u308d\u3046\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u307e\u305f\u306f\u3001\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u3061\u3083\u3093\u3068\u66f8\u3044\u3066\u304a\u3051\u3070\u3044\u3044\u3058\u3083\u306a\u3044\u3001\u3068\u3002\n\n\u3057\u304b\u3057\u306a\u304c\u3089\u3001\u305d\u3046\u306f\u30a4\u30ab\u306e\u3075\u3093\u3069\u3057\u3001\u306e\u3063\u3074\u304d\u306a\u3089\u306a\u3044\u4e8b\u60c5\u306b\u5bfe\u5fdc\u3059\u308b\uff11\u3064\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u3057\u3066\u3001Convert\u304c\u4f7f\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n```csharp\n  .Convert<Tweet>(c => c\n           .Field(t => t.Retweets)\n\u3000         .Type(ConvertProcessorType.Integer))\n```\n\n\u3053\u306e\u4f8b\u306f\u3001Tweet.Retweets\u304cstring\u578b\u3060\u3051\u3069\u3082\u3001\u5165\u3063\u3066\u3044\u308b\u5024\u306fInteger\u306a\u306e\u3067integer\u306b\u5909\u63db\u3059\u308b\u5834\u5408\u306e\u4f8b\u3067\u3059\u3002\nField\u306b\u5909\u63db\u5143\u306e\u5024\u304c\u5165\u3063\u3066\u3044\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3001Type\u306b\u5909\u63db\u5148\u306e\u578b\u3092\u66f8\u304d\u307e\u3059\u3002\n\nConvertProcessorType\u3067\u306f\u3001\u6b21\u306e\u9805\u76ee\u304c\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\n- Integer\n- Float\n- String\n- Boolean\n- Auto\n\n### Script\n\n\u4f55\u3089\u304b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u3066\u3001\u305d\u306e\u7d50\u679c\u3092\u683c\u7d0d\u3057\u305f\u3044\u3093\u3084\uff01\u3068\u3044\u3046\u3068\u304d\u306b\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002\n\n```csharp\n.Script(s => s\n       .Lang(\"painless\")\n       .Inline(\"ctx.retweets_calc = ctx.retweets * params.val\")\n       .Params(param => param\n            .Add(\"val\", 10)\n       )\n```\n\nLang\u3067\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u304cpainless\u3068\u3044\u3046elastic\u3055\u3093\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\u8a00\u8a9e\u3067\u3059\u3002\n\u4ed6\u306b\u306fgroovy\u3084python\u3082\u4f7f\u3048\u308b\u305d\u3046\u3067\u3059\u3057\u3001\u5f97\u610f\u306a\u306e\u3092\u9078\u3079\u3070\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001retweets\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u5024\u306b\u5bfe\u3057\u3066\u3001\u5916\u304b\u3089\u4e0e\u3048\u3089\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf params.val\u306e\u5024\u3092\u4e57\u3058\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3092\u3084\u3063\u3066\u3044\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001if\u6587\u3084for\u6587\u306a\u3069\u3082\u4f7f\u3048\u308b\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u52a0\u5de5\u3067\u3042\u308c\u3070\u3001\u72ec\u81ea\u306eIngestNode\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u66f8\u304f\u307e\u3067\u3082\u306a\u304f\u3001\u3053\u308c\u3067\u51fa\u6765\u305d\u3046\u3067\u3059\u3002\n\nctx.XXXXXXX\u3068\u3001ctx\u3068\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u3067\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3067\u51e6\u7406\u3055\u308c\u3066\u3044\u308b\u4e2d\u8eab\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\u307e\u305f\u5f15\u6570\u306fparams\u3067\u6307\u5b9a\u3057\u3001key, value\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306fparams\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\nctx\u304cContext\u306b\u898b\u3048\u308c\u3070\u3001\u4f55\u3082\u8aac\u660e\u306a\u304f\u3066\u3082Apache\u306ecommons-chain\u306e\u3088\u3046\u306a\u3082\u3093\u304b\u3001\u3068\u60f3\u50cf\u3067\u304d\u3066\u7d0d\u5f97\u3067\u304d\u308b\u306e\u3067\u306f\u3068\u601d\u3044\u307e\u3059\u3002\n\n### Grok\n\n\u307f\u3093\u306a\u5927\u597d\u304dGrok\uff01Logstash\u3067\u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u52a0\u5de5\u3059\u308b\u3001\u3068\u3044\u3063\u305f\u5834\u5408\u306b\u304a\u3044\u3066\u3001\u3082\u3063\u3068\u3082\u304a\u4e16\u8a71\u306b\u306a\u3063\u305f\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n```csharp\n.Grok<Tweet>(g => g\n            .Field(t => t.Message)\n            .Patterns(new string[]{\"%{WORD:word1} %{WORD:word2}\"}))\n```\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001Message\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u5165\u3063\u3066\u3044\u308b\u5024\u3092Patterns\u3067\u8a2d\u5b9a\u3057\u305f\u6761\u4ef6\u306b\u3042\u3066\u306f\u3081\u3001\u7d50\u679c\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002\n\n\u3082\u3057\u3001Message\u304c\u300cHello World!\u300d\u3068\u3044\u3046\u6587\u5b57\u5217\u3060\u3063\u305f\u3089\u3070\u3001word1\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\"Hello\"\u3001word2\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\"World!\"\u3068\u5c55\u958b\u3055\u308c\u3066\u306f\u3044\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n### Set\n\n\u56fa\u5b9a\u5024\u3092\u5165\u308c\u3066\u3084\u308a\u305f\u3044\u3068\u304d\u3001\u3042\u308a\u307e\u3059\u3088\u306d\u3002\u305d\u3046\u3044\u3046\u3068\u304d\u306b\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002\n\n```csharp\n.Set<Tweet>(s => s\n           .Field(\"fixedField\")\n           .Value(\"fixedValue1, fixedvalue2\"))\n```\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001fixedField\u3068\u3044\u3046\u3068\u3053\u308d\u306b\"fixedValue1, fixedValue2\"\u3068\u3044\u3046\u5024\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n.Field\u306e\u66f8\u304d\u65b9\u3067\u3059\u304c\u3001.Field(t => t.XXXXXX)\u3000\u3068\u3044\u3046\u3088\u3046\u306a\u66f8\u304d\u65b9\u304c\u3067\u304d\u307e\u3059\u304c\u3001.Field(\"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\")\u306e\u3088\u3046\u306b\u66f8\u304f\u3068\u3001\nTweet\u30af\u30e9\u30b9\u306b\u5b58\u5728\u3057\u306a\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u3082\u3061\u308d\u3093\u3001\u305d\u3093\u306a\u3053\u3068\u3092\u3059\u308b\u3068\u691c\u7d22\u3057\u305f\u7d50\u679c\u3092Deserialize\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u3068\u3063\u3066\u304d\u305f\u3068\u304d\u306b\u3001\u5024\u304c\u53d6\u308c\u306a\u3044\u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308b\u308f\u3051\u3067\u3059\u304c\u3001Pipeline\u3092\u901a\u3063\u3066\u3044\u308b\u9593\u3060\u3051\u4f7f\u3046\u4eee\u306e\u5024\u3092\u683c\u7d0d\u3059\u308b\u3068\u304b\u3001\u305d\u3046\u3044\u3046\u7528\u9014\u3067\u306f\u4f7f\u3046\u3053\u3068\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n### Split\n\n\u30ab\u30f3\u30de\u533a\u5207\u308a\u3084\u30bf\u30d6\u533a\u5207\u308a\u3001\u6539\u884c\u30b3\u30fc\u30c9\u3067\u533a\u5207\u3089\u308c\u305f\u6587\u5b57\u5217\u304c\u3042\u3063\u3066\u3001\u3053\u308c\u3092Split\u3057\u3066\u5404\u8981\u7d20\u3068\u3057\u3066\u4f7f\u3044\u305f\u3044\u3068\u304d\u3001\u7279\u306bAggregation\u3057\u305f\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u306f\u3001\u3053\u3046\u3044\u3046\u3053\u3068\u304c\u591a\u3044\u3088\u3046\u306b\u601d\u3044\u307e\u3059\u3002\nkeyword\u3084tag\u60c5\u5831\u3092DB\u306b\u683c\u7d0d\u3059\u308b\u3068\u304d\u306b\u3001\u6307\u5b9a\u6587\u5b57\u3067\u9023\u7d50\u3057\u3066\u5165\u308c\u308b\u3001\u3068\u304b\u305d\u3093\u306a\u30b7\u30b9\u30c6\u30e0\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n```csharp\n.Split<Tweet>(s => s\n             .Field(\"fixedField\")\n             .Separator(\",\"))\n```\n\n\u4e0a\u306e\u4f8b\u3067\u306f\u3001fixedField\u306b\u5165\u3063\u3066\u3044\u308b\u6587\u5b57\u5217\u3092Separator\u3067\u6307\u5b9a\u3057\u305f\",\" \u3067\u533a\u5207\u3063\u3066\u3001\u7d50\u679c\u3092fixedField\u306b\u683c\u7d0d\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001Set Processor\u3067fixedField\u306b\u306f\u3001\"fixedValue1, fixeValue2\"\u3000\u3068\u5165\u3063\u3066\u3044\u307e\u3057\u305f\u304c\uff08\u3053\u306e\u6642\u70b9\u3067\u306f\u3001fixedField\u306f\u305f\u3060\u306estring)\u3001\u3053\u3053\u3067Split\u3055\u308c\u308b\u3053\u3068\u3067\u3001fixedField\u306f\u3001[\"fixedValue1\", \" fixedValue2\"]\u3068array\u306b\u306a\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\n\u5358\u7d14\u306b\u30ab\u30f3\u30de\u3067\u533a\u5207\u3063\u3066\u3057\u307e\u3046\u3068\u3001\u4eca\u56de\u306e\u4f8b\u3067\u3059\u3068fixedValue2\u306e\u524d\u306b\u534a\u89d2\u7a7a\u767d\u304c\u5165\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\nSeparator\u3092\u3053\u3046\u3057\u3066\u3084\u308b\u3068\u3001\u5909\u306a\u7a7a\u767d\u306f\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n```csharp\n.Split<Tweet>(s => s\n             .Field(\"fixedField\")\n             .Separator(\",[\\\\s]*\"))\n```\n\n\u30e1\u30e2\uff09\u3000Trim Processor\u306fArray\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u306f\u9069\u7528\u3067\u304d\u306a\u3044\n\n### Uppercase\n\n\u5927\u6587\u5b57\u306b\u5909\u63db\u3057\u3066\u683c\u7d0d\u3057\u306a\u304a\u3059\u3001\u3068\u3044\u3046\u3060\u3051\u306e\u3082\u306e\u3002\u308f\u304b\u308a\u3084\u3059\u3044\u306e\u3067\u8aac\u660e\u3092\u5272\u611b\u3057\u307e\u3059\u3002\n\n\n### \u53c2\u8003\n\nTweet\u30af\u30e9\u30b9\n\n```csharp\npublic class Tweet\n{\n    public string Message { get; set; }\n    public string Lang { get; set; }\n    public string Retweets { get; set; }\n}\n```\n\nIndex\u4f5c\u6210\n\n```csharp\nclient.Index(new Tweet { Retweets = \"123\", Message = \"Hallo Twitter Co,.Ltd!\", Lang = \"nl\" }, i => i\n                .Index(\"tweets\")\n                .Pipeline(\"tweet-pipeline\")\n            );\n```\n\n\u3053\u308c\u3092Index\u3059\u308b\u3068\u3001\u5148\u306ePipeline\u3067\u51e6\u7406\u3055\u308c\u305f\u7d50\u679c\u3001\u3053\u3046\u306a\u308b\u3002\nConsole\u3088\u308a\u691c\u7d22\u3092\u5b9f\u884c\u3057\u3066\u78ba\u8a8d\n\n```\nGET tweets/_search\n{\n  \"query\" : {\n    \"match_all\": {}\n  }\n}\n```\n\n```json\n{\n  \"took\": 3,\n  \"timed_out\": false,\n  \"_shards\": {\n    \"total\": 5,\n    \"successful\": 5,\n    \"failed\": 0\n  },\n  \"hits\": {\n    \"total\": 1,\n    \"max_score\": 1,\n    \"hits\": [\n      {\n        \"_index\": \"tweets\",\n        \"_type\": \"tweet\",\n        \"_id\": \"AVj4sLYcvxqDpVrCocq3\",\n        \"_score\": 1,\n        \"_source\": {\n          \"fixedField\": [\n            \"fixedValue1\",\n            \"fixedvalue2\"\n          ],\n          \"word1\": \"Hallo\",\n          \"word2\": \"Twitter\",\n          \"message\": \"Hallo Twitter Co,.Ltd!\",\n          \"lang\": \"NL\",\n          \"retweets\": 123,\n          \"retweets_calc\": 1230\n        }\n      }\n    ]\n  }\n}\n```\n\n\n# \u304a\u308f\u308a\u306b\n\nIngest Node\u306f\u3001Apache Solr\u3067\u72ec\u81ea\u306eProcessor\u3092\u4f5c\u3063\u3066Update Request Processors\u306b\u8ffd\u52a0\u3057\u3066\u3044\u305f\u4eba\u3001FAST ESP\u3092\u3084\u3063\u3066\u3044\u305f\u4eba\u306b\u306f\u3059\u3054\u304f\u99b4\u67d3\u307f\u3084\u3059\u3044\u3068\u601d\u3046\u3002\n\u3082\u3061\u308d\u3093\u3001\u3069\u3053\u307e\u3067Ingest Node\u3067\u3084\u3063\u3066\u3001\u3069\u3053\u307e\u3067\u3092\u6295\u3052\u308b\u5074\u304c\u4e8b\u524d\u306b\u3084\u3063\u3066\u304a\u304f\u304b\u3001\u3068\u3044\u3063\u305f\u7dda\u5f15\u304d\u306f\u3042\u308b\u3060\u308d\u3046\u3002\n\nNEST\u306f\u3001\u66f8\u304d\u65b9\u3063\u3066\u3053\u3046\u3044\u3046\u611f\u3058\u306a\u306e\u306d\u3001\u3068\uff11\u5ea6\u78ba\u8a8d\u3067\u304d\u308c\u3070\u3001\u5b66\u7fd2\u30b3\u30b9\u30c8\u304c\u3042\u307e\u308a\u9ad8\u304f\u306a\u3044\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u4f5c\u308a\u306b\u306a\u3063\u3066\u3044\u308b\u3088\u3046\u306b\u601d\u3046\u3002\nkibana/Console\u3067\u51fa\u6765\u308b\u3053\u3068\u3068\u3001\u4f3c\u305f\u3088\u3046\u306a\u611f\u3058\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30e1\u30bd\u30c3\u30c9\u3082\u63a2\u3057\u3084\u3059\u3044\u3002\n.NETCore\u3082\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u500b\u4eba\u7684\u306b\u304b\u306a\u308a\u30d7\u30e9\u30b9\u8a55\u4fa1\u3002\n\n\u307e\u3060\u958b\u767a\u306f\u6d3b\u767a\u306b\u884c\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u30d0\u30b0\u306b\u6ce3\u304f\u304b\u3082\u3057\u308c\u306a\u3044\u3051\u3069\u3082\u3001\u305d\u3053\u306f\u3054\u611b\u656c\u3002\n"}