{"tags": ["serverspec", "serverspec-runner"], "context": "ubuntu16.04.1\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3057\u305f\u304c\u3001\n(gem\u3067\u5165\u308c\u305f\u3082\u306e\u3068apt\u3067\u5165\u308c\u305f\u3082\u306e\u306f\u540d\u524d\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u304b\u305d\u3082\u307e\u307e\u52d5\u304b\u306a\u304f\u3066\u3064\u3089\u307f\u3002\nSpecInfra \u304c Specinfra \u306b\u306a\u3063\u3066\u3044\u305f\u308a\u3001DetectOS\u304cDetectOs\u3060\u3063\u305f\u308a)\n\n\u53c2\u8003\n\nserverspec-runner\u306b\u3066\u72ec\u81ea\u30ea\u30bd\u30fc\u30b9\u3092\u4f7f\u3046 - Qiita\nserverspec-runner\u3092\u4f7f\u3063\u3066\u8907\u6570\u306e\u30db\u30b9\u30c8\u306e\u30c6\u30b9\u30c8\u30ec\u30dd\u30fc\u30c8\u3092\u4f5c\u308b - Qiita\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngem install serverspec-runner\n\n\n\n/usr/local/bin/serverspec-runner\u304c\u5165\u308b\u3002\n\nmkdir test; cd test\nserverspec-runner -r .\n# y\u3092\u5165\u529b\n\n\n\u8a2d\u5b9a\n\nvim ./scenario.yml\n\n\nscenario.yml\n  example:\n    - anyhost-01\n  ---\n  anyhost-01:\n-   host:        127.0.0.1\n+   host:        192.168.0.9\n\n\n\n\u5b9f\u884c\nserverspec-runner -t mkd\n\n\n\n\u5b9f\u884c\u3055\u308c\u308b spec \u30d5\u30a1\u30a4\u30eb\u306f spec/example/default.rb\n\n\n\n\u7d50\u679c\n|description                                                      | result |\n|:----------------------------------------------------------------|:------:|\n|example@anyhost-01(192.168.0.9)                                  |        |\n|  User \"root\"                                                    |        |\n|    should exist                                                 |   OK   |\n|    should have uid 0                                            |   OK   |\n|    should have home directory \"/root\"                           |   OK   |\n|  Group \"root\"                                                   |        |\n|    should have gid 0                                            |   OK   |\n|  Filesystem                                                     |        |\n|    File \"/\"                                                     |        |\n|      should be mounted                                          |   OK   |\n|  Host \"www.google.com\"                                          |        |\n|    should be resolvable                                         |   OK   |\n|    should be reachable                                          |   OK   |\n|  Command \"dmesg | grep \"FAIL\\|Fail\\|fail\\|ERROR\\|Error\\|error\"\" |        |\n|    exit_status                                                  |        |\n|      should not eq 0                                            |   NG   |\n\n\n\n\u30b3\u30f3\u30bd\u30fc\u30eb\u5411\u3051\u306b\u51fa\u529b\nserverspec-runner -t aa\n\n\n\nubuntu16.04.1\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3057\u305f\u304c\u3001\n(gem\u3067\u5165\u308c\u305f\u3082\u306e\u3068apt\u3067\u5165\u308c\u305f\u3082\u306e\u306f\u540d\u524d\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u304b\u305d\u3082\u307e\u307e\u52d5\u304b\u306a\u304f\u3066\u3064\u3089\u307f\u3002\n `SpecInfra` \u304c `Specinfra` \u306b\u306a\u3063\u3066\u3044\u305f\u308a\u3001DetectOS\u304cDetectOs\u3060\u3063\u305f\u308a)\n\n## \u53c2\u8003\n\n* [serverspec-runner\u306b\u3066\u72ec\u81ea\u30ea\u30bd\u30fc\u30b9\u3092\u4f7f\u3046 - Qiita](http://qiita.com/hiracy/items/49e177624adef5fbee74)\n* [serverspec-runner\u3092\u4f7f\u3063\u3066\u8907\u6570\u306e\u30db\u30b9\u30c8\u306e\u30c6\u30b9\u30c8\u30ec\u30dd\u30fc\u30c8\u3092\u4f5c\u308b - Qiita](http://qiita.com/hiracy/items/1ebc7b82f1a6ffa69ed0)\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```ruby\ngem install serverspec-runner\n```\n\n* `/usr/local/bin/serverspec-runner`\u304c\u5165\u308b\u3002\n\n```ruby\nmkdir test; cd test\nserverspec-runner -r .\n# y\u3092\u5165\u529b\n```\n\n## \u8a2d\u5b9a\n\n* `vim ./scenario.yml`\n\n```diff:scenario.yml\n  example:\n    - anyhost-01\n  ---\n  anyhost-01:\n-   host:        127.0.0.1\n+   host:        192.168.0.9\n```\n\n```bash:\u5b9f\u884c\nserverspec-runner -t mkd\n```\n\n* \u5b9f\u884c\u3055\u308c\u308b spec \u30d5\u30a1\u30a4\u30eb\u306f `spec/example/default.rb`\n\n```ruby:\u7d50\u679c\n|description                                                      | result |\n|:----------------------------------------------------------------|:------:|\n|example@anyhost-01(192.168.0.9)                                  |        |\n|  User \"root\"                                                    |        |\n|    should exist                                                 |   OK   |\n|    should have uid 0                                            |   OK   |\n|    should have home directory \"/root\"                           |   OK   |\n|  Group \"root\"                                                   |        |\n|    should have gid 0                                            |   OK   |\n|  Filesystem                                                     |        |\n|    File \"/\"                                                     |        |\n|      should be mounted                                          |   OK   |\n|  Host \"www.google.com\"                                          |        |\n|    should be resolvable                                         |   OK   |\n|    should be reachable                                          |   OK   |\n|  Command \"dmesg | grep \"FAIL\\|Fail\\|fail\\|ERROR\\|Error\\|error\"\" |        |\n|    exit_status                                                  |        |\n|      should not eq 0                                            |   NG   |\n```\n\n```bash:\u30b3\u30f3\u30bd\u30fc\u30eb\u5411\u3051\u306b\u51fa\u529b\nserverspec-runner -t aa\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8_2016-09-26_09-19-55.png](https://qiita-image-store.s3.amazonaws.com/0/25728/614e09f7-0629-33ea-dbe3-82815fed2694.png)\n"}