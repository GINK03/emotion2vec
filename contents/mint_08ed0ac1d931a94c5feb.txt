{"tags": ["AWS", "AmazonLinux", "WordPress"], "context": "wordpress\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u306e\u3067\u8a18\u9332\n\n\u4f7f\u7528\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nhttpd\nApache/2.4.23 (Amazon)\n\n\nphp\n5.6.24\n\n\nmysql\n5.6.32\n\n\nwordpress\n4.6\n\n\n\n\nwordpress install\nwordpress\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3066\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bwordpress\u3092\u7f6e\u304d\u307e\u3059\u3002\n\n\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\nyum install -y httpd24 php56 mysql56-server\nyum install -y php56-mcrypt php56-intl php56-mbstring php56-mysqlnd php56-opcache php56-devel\n\n\n\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\nroot\u30e6\u30fc\u30b6\u30fc\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\nsudo su\nuseradd wordpress\n\n\nwordpress \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwordpress\u30e6\u30fc\u30b6\u30fc\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nsu wordpress\ncd ~\nwget https://ja.wordpress.org/wordpress-4.6-ja.zip\nunzip wordpress-4.6-ja.zip\n\n\n\u6a29\u9650\u8a2d\u5b9a\nroot\u30e6\u30fc\u30b6\u30fc\u3067\u6a29\u9650\u3092\u5909\u3048\u307e\u3059\u3002(apache\u304c\u8aad\u307f\u8fbc\u3081\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002)\nexit\nchmod 770 /home/wordpress\nchgrp apache -R /home/wordpress\nfind /home/wordpress -type d -exec chmod 0770 {} \\;\nfind /home/wordpress -type f -exec chmod 0660 {} \\;\n\n\nhttpd\u306e\u8a2d\u5b9a\nroot\u3000\u30e6\u30fc\u30b6\u30fc\u3067\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\nvi /etc/httpd/conf.d/wordpress.conf\n\n\nwordpress.conf\nServerName [\u30c9\u30e1\u30a4\u30f3\u304bIP\u3092\u5165\u529b]\n<VirtualHost *:80>\n        Servername [\u30c9\u30e1\u30a4\u30f3\u304bIP\u3092\u5165\u529b]\n\u3000\u3000\u3000\u3000 DocumentRoot /home/wordpress/wordpress\n\n         <Directory \"/home/wordpress/wordpress\">\n                Options FollowSymlinks\n                AllowOverride All\n                Require all granted\n         </Directory>\n\n        ErrorLog /var/log/httpd/wordpress-error_log\n        CustomLog /var/log/httpd/wordpress-access_log common\n\n</VirtualHost>\n\n\nhttpd\u306e\u8d77\u52d5\n/etc/init.d/httpd start\n\nmysql\u306e\u8a2d\u5b9a\nroot\u3000\u30e6\u30fc\u30b6\u30fc\u3067\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\u4f8b\u3068\u3057\u3066\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\uff1awordpress\n\u30e6\u30fc\u30b6\u30fc\uff1awordpress\n\u30d1\u30b9\u30ef\u30fc\u30c9\uff1awordpress\n\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n/etc/init.d/mysql start\nmysql\ncreate database wordpress CHARACTER SET utf8;\nGRANT ALL PRIVILEGES ON wordpress.* TO wordpress@localhost IDENTIFIED BY 'wordpress';\nquit\n\n\nweb\u3067\u8868\u793a\u3059\u308b\nURL\u306bhttp://[\u30c9\u30e1\u30a4\u30f3\u304bIP]/wp-admin/setup-config.php\u3068\u5165\u308c\u308b\n\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001[\u3055\u3041\u59cb\u3081\u307e\u3057\u3087\u3046!]\u3092\u9078\u629e\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\u3084\u30e6\u30fc\u30b6\u30fc\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u6c42\u3081\u3089\u308c\u307e\u3059\n\u4eca\u56de\u306e\u4f8b\u306b\u5408\u308f\u305b\u308b\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3059\u3079\u3066wordpress\u3067\u3059\u3002\n(RDS\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306flocalhost\u306e\u3068\u3053\u308d\u306bRDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u5165\u529b\u3002)\n\u6b21\u306b\u9032\u3080\u3068\u4ee5\u4e0b\u306e\u753b\u50cf\u306e\u3088\u3046\u306b\u5fc5\u8981\u306a\u60c5\u5831\u304c\u6c42\u3081\u3089\u308c\u307e\u3059\u3002\n\n\u9069\u5f53\u306b\u5165\u529b\u3057\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u7d42\u4e86\u3067\u3059\u3002\n\u3082\u3046\u4f7f\u7528\u3057\u306a\u3044wp-admin/setup-config.php\u306e\u6a29\u9650\u3092\u30a2\u30d1\u30c3\u30c1\u304c\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3088\u3046\u306b\u5909\u3048\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082\u3002\nchmod 600 /home/wordpress/wordpress/wp-admin/setup-config.php\nwordpress\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u306e\u3067\u8a18\u9332\n\n#\u4f7f\u7528\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\n\n|\u30d1\u30c3\u30b1\u30fc\u30b8|\u30d0\u30fc\u30b8\u30e7\u30f3|\n|:--|:--|\n|httpd|Apache/2.4.23 (Amazon)|\n|php|5.6.24|\n|mysql|5.6.32|\n|wordpress|4.6|\n\n#wordpress install\nwordpress\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3057\u3066\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bwordpress\u3092\u7f6e\u304d\u307e\u3059\u3002\n\n##\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\n\n```\nyum install -y httpd24 php56 mysql56-server\nyum install -y php56-mcrypt php56-intl php56-mbstring php56-mysqlnd php56-opcache php56-devel\n```\n\n\n##\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\nroot\u30e6\u30fc\u30b6\u30fc\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\nsudo su\nuseradd wordpress\n```\n\n##wordpress \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwordpress\u30e6\u30fc\u30b6\u30fc\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\nsu wordpress\ncd ~\nwget https://ja.wordpress.org/wordpress-4.6-ja.zip\nunzip wordpress-4.6-ja.zip\n```\n\n##\u6a29\u9650\u8a2d\u5b9a\nroot\u30e6\u30fc\u30b6\u30fc\u3067\u6a29\u9650\u3092\u5909\u3048\u307e\u3059\u3002(apache\u304c\u8aad\u307f\u8fbc\u3081\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002)\n\n```\nexit\nchmod 770 /home/wordpress\nchgrp apache -R /home/wordpress\nfind /home/wordpress -type d -exec chmod 0770 {} \\;\nfind /home/wordpress -type f -exec chmod 0660 {} \\;\n```\n\n##httpd\u306e\u8a2d\u5b9a\nroot\u3000\u30e6\u30fc\u30b6\u30fc\u3067\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\n```\nvi /etc/httpd/conf.d/wordpress.conf\n```\n\n```text:wordpress.conf\nServerName [\u30c9\u30e1\u30a4\u30f3\u304bIP\u3092\u5165\u529b]\n<VirtualHost *:80>\n        Servername [\u30c9\u30e1\u30a4\u30f3\u304bIP\u3092\u5165\u529b]\n\u3000\u3000\u3000\u3000 DocumentRoot /home/wordpress/wordpress\n\n         <Directory \"/home/wordpress/wordpress\">\n                Options FollowSymlinks\n                AllowOverride All\n                Require all granted\n         </Directory>\n\n        ErrorLog /var/log/httpd/wordpress-error_log\n        CustomLog /var/log/httpd/wordpress-access_log common\n\n</VirtualHost>\n```\n\nhttpd\u306e\u8d77\u52d5\n`/etc/init.d/httpd start`\n\n##mysql\u306e\u8a2d\u5b9a\nroot\u3000\u30e6\u30fc\u30b6\u30fc\u3067\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\n\u4f8b\u3068\u3057\u3066\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\uff1awordpress\n\u30e6\u30fc\u30b6\u30fc\uff1awordpress\n\u30d1\u30b9\u30ef\u30fc\u30c9\uff1awordpress\n\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n/etc/init.d/mysql start\nmysql\ncreate database wordpress CHARACTER SET utf8;\nGRANT ALL PRIVILEGES ON wordpress.* TO wordpress@localhost IDENTIFIED BY 'wordpress';\nquit\n```\n\n##web\u3067\u8868\u793a\u3059\u308b\nURL\u306b`http://[\u30c9\u30e1\u30a4\u30f3\u304bIP]/wp-admin/setup-config.php`\u3068\u5165\u308c\u308b\n\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001[\u3055\u3041\u59cb\u3081\u307e\u3057\u3087\u3046!]\u3092\u9078\u629e\n![\u30ad\u30e3\u30e3.PNG](https://qiita-image-store.s3.amazonaws.com/0/134267/3d1d781f-e25f-3809-9617-589c627b1a49.png)\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\u3084\u30e6\u30fc\u30b6\u30fc\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u6c42\u3081\u3089\u308c\u307e\u3059\n\u4eca\u56de\u306e\u4f8b\u306b\u5408\u308f\u305b\u308b\u3068\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u540d\u3001\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3059\u3079\u3066wordpress\u3067\u3059\u3002\n(RDS\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306flocalhost\u306e\u3068\u3053\u308d\u306bRDS\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u5165\u529b\u3002)\n\n\u6b21\u306b\u9032\u3080\u3068\u4ee5\u4e0b\u306e\u753b\u50cf\u306e\u3088\u3046\u306b\u5fc5\u8981\u306a\u60c5\u5831\u304c\u6c42\u3081\u3089\u308c\u307e\u3059\u3002\n![\u30ad\u30e3\u30d7.PNG](https://qiita-image-store.s3.amazonaws.com/0/134267/d6d77932-1943-caaa-b985-a487875c8d48.png)\n\u9069\u5f53\u306b\u5165\u529b\u3057\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u7d42\u4e86\u3067\u3059\u3002\n\n\n\u3082\u3046\u4f7f\u7528\u3057\u306a\u3044wp-admin/setup-config.php\u306e\u6a29\u9650\u3092\u30a2\u30d1\u30c3\u30c1\u304c\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3088\u3046\u306b\u5909\u3048\u305f\u307b\u3046\u304c\u3044\u3044\u304b\u3082\u3002\n`chmod 600 /home/wordpress/wordpress/wp-admin/setup-config.php`\n"}