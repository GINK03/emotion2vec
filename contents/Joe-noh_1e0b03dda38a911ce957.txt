{"context": "\u300cElixir in Action\u300d\u3067ETS\u306b\u3064\u3044\u3066\u8aad\u3093\u3060\u306e\u3067\u3001\u5404\u30c6\u30fc\u30d6\u30eb\u30bf\u30a4\u30d7(set, ordered_set, bag, duplicate_bag)\u6bce\u306e\u6319\u52d5\u306e\u9055\u3044\u3092\u8abf\u3079\u305f\u3002\u8a00\u8a9e\u306fErlang/Elixir\u306e\u3069\u3061\u3089\u3067\u3082\u3088\u3044\u304c\u3001\u4eca\u56de\u306fElixir\u3067\u66f8\u304f\u3002\u74b0\u5883\u306f\u4ee5\u4e0b\u3002\nErlang/OTP 18 [erts-7.1] [source] [64-bit] [smp:4:4] [async-threads:10] [hipe] [kernel-poll:false]\n\nInteractive Elixir (1.2.3) - press Ctrl+C to exit (type h() ENTER for help)\n\n\nset\u3068bag\u306e\u9055\u3044\n\u66f8\u304d\u8fbc\u307f\u6642\u306b\u3001\u540c\u3058\u30ad\u30fc\u306e\u884c\u304c\u3059\u3067\u306b\u5b58\u5728\u3059\u308b\u3068\u304d\u306e\u6319\u52d5\u304c\u7570\u306a\u308b\u3002set\u306f\u4e0a\u66f8\u304d\u3092\u884c\u3044\u3001bag\u306f\u4e21\u65b9\u4fdd\u6301\u3059\u308b\u3002\nset_table = :ets.new(:set_table, [:set])\n\n:ets.insert(set_table, {:foo, 1})\n:ets.insert(set_table, {:foo, 2})\n:ets.lookup(set_table, :foo) #=> [foo: 2]\n\n\nbag_table = :ets.new(:bag_table, [:bag])\n\n:ets.insert(bag_table, {:foo, 1})\n:ets.insert(bag_table, {:foo, 2})\n:ets.lookup(bag_table, :foo) #=> [foo:1, foo: 2]\n\n\nset\u3068ordered_set\u306e\u9055\u3044\n:ets.first/1, :ets.next/2, :ets.prev/2\u306a\u3069\u3067\u8fd4\u3063\u3066\u304f\u308b\u30ad\u30fc\u306e\u9806\u756a\u304c\u7570\u306a\u308b\u3002set\u306f\u5185\u90e8\u3067\u4fdd\u6301\u3057\u3066\u3044\u308b\u9806\u306b\u8fd4\u3063\u3066\u304f\u308b\u304c\u3001ordered_set\u306f\u30ad\u30fc\u3067\u30bd\u30fc\u30c8\u3057\u3066\u3042\u308b\u3002\nset_table = :ets.new(:set_table, [:set])\n\n:ets.insert(set_table, {:foo, 1})\n:ets.insert(set_table, {:bar, 2})\n:ets.insert(set_table, {:baz, 3})\n:ets.insert(set_table, {:hoge, 4})\n:ets.insert(set_table, {:fuga, 5})\n\nk = :ets.first(set_table)   #=> :bar\nk = :ets.next(set_table, k) #=> :baz\nk = :ets.next(set_table, k) #=> :fuga\nk = :ets.next(set_table, k) #=> :hoge\nk = :ets.next(set_table, k) #=> :foo\nk = :ets.next(set_table, k) #=> :\"$end_of_table\"\n\n\nordered_set_table = :ets.new(:ordered_set_table, [:ordered_set])\n\n:ets.insert(ordered_set_table, {:foo, 1})\n:ets.insert(ordered_set_table, {:bar, 2})\n:ets.insert(ordered_set_table, {:baz, 3})\n:ets.insert(ordered_set_table, {:hoge, 4})\n:ets.insert(ordered_set_table, {:fuga, 5})\n\nk = :ets.first(ordered_set_table)   #=> :bar\nk = :ets.next(ordered_set_table, k) #=> :baz\nk = :ets.next(ordered_set_table, k) #=> :foo\nk = :ets.next(ordered_set_table, k) #=> :fuga\nk = :ets.next(ordered_set_table, k) #=> :hoge\nk = :ets.next(ordered_set_table, k) #=> :\"$end_of_table\"\n\n\nbag\u3068duplicate_bag\u306e\u9055\u3044\n\u5168\u304f\u540c\u3058\u30bf\u30d7\u30eb\u3092\u633f\u5165\u3057\u305f\u3068\u304d\u306e\u6319\u52d5\u304c\u7570\u306a\u308b\u3002bag\u3067\u306f\u540c\u3058\u3082\u306e\u3068\u3057\u3066\u6271\u308f\u308c1\u3064\u3057\u304b\u6b8b\u3089\u306a\u3044\u304c\u3001duplicate_bag\u3067\u306f\u5225\u7269\u3068\u3057\u3066\u4fdd\u6301\u3055\u308c\u308b\u3002\nbag_table = :ets.new(:bag_table, [:bag])\n\n:ets.insert(bag_table, {:foo, 1})\n:ets.insert(bag_table, {:foo, 1})\n:ets.insert(bag_table, {:foo, 2})\n:ets.lookup(bag_table, :foo) #=> [foo: 1, foo: 2]\n\n\nduplicate_bag_table = :ets.new(:duplicate_bag_table, [:duplicate_bag])\n\n:ets.insert(duplicate_bag_table, {:foo, 1})\n:ets.insert(duplicate_bag_table, {:foo, 1})\n:ets.insert(duplicate_bag_table, {:foo, 2})\n:ets.lookup(duplicate_bag_table, :foo) #=> [foo: 1, foo: 1, foo: 2]\n\n\n\u4ed6\u306b\u3082\u8aad\u307f\u51fa\u3057(lookup, select, match)\u306e\u901f\u5ea6\u3084\u3001:ets.safe_fixtable/2\u3092\u4f7f\u3063\u305f\u3068\u304d\u306e\u6319\u52d5\u306b\u9055\u3044\u304c\u3042\u308b\u6a21\u69d8\u3002\u7d50\u69cb\u6df1\u305d\u3046\u3002\n\u300cElixir in Action\u300d\u3067[ETS](http://erlang.org/doc/man/ets.html)\u306b\u3064\u3044\u3066\u8aad\u3093\u3060\u306e\u3067\u3001\u5404\u30c6\u30fc\u30d6\u30eb\u30bf\u30a4\u30d7(set, ordered_set, bag, duplicate_bag)\u6bce\u306e\u6319\u52d5\u306e\u9055\u3044\u3092\u8abf\u3079\u305f\u3002\u8a00\u8a9e\u306fErlang/Elixir\u306e\u3069\u3061\u3089\u3067\u3082\u3088\u3044\u304c\u3001\u4eca\u56de\u306fElixir\u3067\u66f8\u304f\u3002\u74b0\u5883\u306f\u4ee5\u4e0b\u3002\n\n```\nErlang/OTP 18 [erts-7.1] [source] [64-bit] [smp:4:4] [async-threads:10] [hipe] [kernel-poll:false]\n\nInteractive Elixir (1.2.3) - press Ctrl+C to exit (type h() ENTER for help)\n```\n\n## set\u3068bag\u306e\u9055\u3044\n\n\u66f8\u304d\u8fbc\u307f\u6642\u306b\u3001\u540c\u3058\u30ad\u30fc\u306e\u884c\u304c\u3059\u3067\u306b\u5b58\u5728\u3059\u308b\u3068\u304d\u306e\u6319\u52d5\u304c\u7570\u306a\u308b\u3002set\u306f\u4e0a\u66f8\u304d\u3092\u884c\u3044\u3001bag\u306f\u4e21\u65b9\u4fdd\u6301\u3059\u308b\u3002\n\n```ex\nset_table = :ets.new(:set_table, [:set])\n\n:ets.insert(set_table, {:foo, 1})\n:ets.insert(set_table, {:foo, 2})\n:ets.lookup(set_table, :foo) #=> [foo: 2]\n\n\nbag_table = :ets.new(:bag_table, [:bag])\n\n:ets.insert(bag_table, {:foo, 1})\n:ets.insert(bag_table, {:foo, 2})\n:ets.lookup(bag_table, :foo) #=> [foo:1, foo: 2]\n```\n\n## set\u3068ordered_set\u306e\u9055\u3044\n\n`:ets.first/1`, `:ets.next/2`, `:ets.prev/2`\u306a\u3069\u3067\u8fd4\u3063\u3066\u304f\u308b\u30ad\u30fc\u306e\u9806\u756a\u304c\u7570\u306a\u308b\u3002set\u306f\u5185\u90e8\u3067\u4fdd\u6301\u3057\u3066\u3044\u308b\u9806\u306b\u8fd4\u3063\u3066\u304f\u308b\u304c\u3001ordered_set\u306f\u30ad\u30fc\u3067\u30bd\u30fc\u30c8\u3057\u3066\u3042\u308b\u3002\n\n```ex\nset_table = :ets.new(:set_table, [:set])\n\n:ets.insert(set_table, {:foo, 1})\n:ets.insert(set_table, {:bar, 2})\n:ets.insert(set_table, {:baz, 3})\n:ets.insert(set_table, {:hoge, 4})\n:ets.insert(set_table, {:fuga, 5})\n\nk = :ets.first(set_table)   #=> :bar\nk = :ets.next(set_table, k) #=> :baz\nk = :ets.next(set_table, k) #=> :fuga\nk = :ets.next(set_table, k) #=> :hoge\nk = :ets.next(set_table, k) #=> :foo\nk = :ets.next(set_table, k) #=> :\"$end_of_table\"\n\n\nordered_set_table = :ets.new(:ordered_set_table, [:ordered_set])\n\n:ets.insert(ordered_set_table, {:foo, 1})\n:ets.insert(ordered_set_table, {:bar, 2})\n:ets.insert(ordered_set_table, {:baz, 3})\n:ets.insert(ordered_set_table, {:hoge, 4})\n:ets.insert(ordered_set_table, {:fuga, 5})\n\nk = :ets.first(ordered_set_table)   #=> :bar\nk = :ets.next(ordered_set_table, k) #=> :baz\nk = :ets.next(ordered_set_table, k) #=> :foo\nk = :ets.next(ordered_set_table, k) #=> :fuga\nk = :ets.next(ordered_set_table, k) #=> :hoge\nk = :ets.next(ordered_set_table, k) #=> :\"$end_of_table\"\n```\n\n## bag\u3068duplicate_bag\u306e\u9055\u3044\n\n\u5168\u304f\u540c\u3058\u30bf\u30d7\u30eb\u3092\u633f\u5165\u3057\u305f\u3068\u304d\u306e\u6319\u52d5\u304c\u7570\u306a\u308b\u3002bag\u3067\u306f\u540c\u3058\u3082\u306e\u3068\u3057\u3066\u6271\u308f\u308c1\u3064\u3057\u304b\u6b8b\u3089\u306a\u3044\u304c\u3001duplicate_bag\u3067\u306f\u5225\u7269\u3068\u3057\u3066\u4fdd\u6301\u3055\u308c\u308b\u3002\n\n```ex\nbag_table = :ets.new(:bag_table, [:bag])\n\n:ets.insert(bag_table, {:foo, 1})\n:ets.insert(bag_table, {:foo, 1})\n:ets.insert(bag_table, {:foo, 2})\n:ets.lookup(bag_table, :foo) #=> [foo: 1, foo: 2]\n\n\nduplicate_bag_table = :ets.new(:duplicate_bag_table, [:duplicate_bag])\n\n:ets.insert(duplicate_bag_table, {:foo, 1})\n:ets.insert(duplicate_bag_table, {:foo, 1})\n:ets.insert(duplicate_bag_table, {:foo, 2})\n:ets.lookup(duplicate_bag_table, :foo) #=> [foo: 1, foo: 1, foo: 2]\n```\n\n---\n\n\u4ed6\u306b\u3082\u8aad\u307f\u51fa\u3057(`lookup`, `select`, `match`)\u306e\u901f\u5ea6\u3084\u3001`:ets.safe_fixtable/2`\u3092\u4f7f\u3063\u305f\u3068\u304d\u306e\u6319\u52d5\u306b\u9055\u3044\u304c\u3042\u308b\u6a21\u69d8\u3002\u7d50\u69cb\u6df1\u305d\u3046\u3002\n", "tags": ["Elixir", "Erlang"]}