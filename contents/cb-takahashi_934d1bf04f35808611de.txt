{"context": "nginx \u306b CORS\u7528 \u306e\u8a2d\u5b9a\u3092\u3059\u308b\uff08\u8907\u6570\u30c9\u30e1\u30a4\u30f3\u7de8\uff09\n\u4ee5\u4e0b\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u8a31\u53ef\n\n*.example.net\n*.example.jp\n\nserver {\n    listen      80;\n    server_name hoge.example.com;\n\n    location / {\n        if ($http_origin ~* (https?://.*\\.example\\.(net|jp)?$)) {\n            set $cors \"1\";\n        }\n\n        if ($cors = \"1\") {\n            add_header Access-Control-Allow-Origin $http_origin always;\n            add_header Access-Control-Allow-Headers 'Authorization,Content-Type,Accept,Origin,User-Agent,DNT,Cache-Control,X-Mx-ReqToken,Keep-Alive,X-Requested-With,If-Modified-Since';\n            add_header Access-Control-Allow-Methods 'POST, GET, OPTIONS';\n            add_header Access-Control-Allow-Headers 'Origin, Authorization, Accept';\n            add_header Access-Control-Allow-Credentials true;\n        }\n    }\n}\n\n\n\u53c2\u8003\nNginx \u306b CORS \u7528\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\nhttp://qiita.com/rysk92/items/e5cf2fab8531f8ea3683\nnginx \u306b CORS\u7528 \u306e\u8a2d\u5b9a\u3092\u3059\u308b\uff08\u8907\u6570\u30c9\u30e1\u30a4\u30f3\u7de8\uff09\n\u4ee5\u4e0b\u306e\u30c9\u30e1\u30a4\u30f3\u3092\u8a31\u53ef\n\n- \\*.example.net\n- \\*.example.jp\n\n```\nserver {\n    listen      80;\n    server_name hoge.example.com;\n\n    location / {\n        if ($http_origin ~* (https?://.*\\.example\\.(net|jp)?$)) {\n            set $cors \"1\";\n        }\n\n        if ($cors = \"1\") {\n            add_header Access-Control-Allow-Origin $http_origin always;\n            add_header Access-Control-Allow-Headers 'Authorization,Content-Type,Accept,Origin,User-Agent,DNT,Cache-Control,X-Mx-ReqToken,Keep-Alive,X-Requested-With,If-Modified-Since';\n            add_header Access-Control-Allow-Methods 'POST, GET, OPTIONS';\n            add_header Access-Control-Allow-Headers 'Origin, Authorization, Accept';\n            add_header Access-Control-Allow-Credentials true;\n        }\n    }\n}\n```\n\n# \u53c2\u8003\nNginx \u306b CORS \u7528\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\nhttp://qiita.com/rysk92/items/e5cf2fab8531f8ea3683\n", "tags": ["nginx", "CORS"]}