{"context": "\n\n\u305d\u3082\u305d\u3082API\u30e2\u30fc\u30c9\u3068\u306f\n\u7686\u3055\u3093\u5fa1\u5b58\u77e5\u306e\u901a\u308aRails5\u304b\u3089\u306fAPI\u30e2\u30fc\u30c9\u304c\u5b9f\u88c5\u3055\u308c\u305f\u3002\nAPI\u30e2\u30fc\u30c9\u306e\u65b9\u6cd5\u306f\u30db\u30f3\u30c8\u7c21\u5358\u3067\u3001\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306b --api \u3092\u4ed8\u3051\u308b\u3060\u3051\u3067\u3042\u308b\u3002\nrails new my_api --api\n\nAPI\u4f5c\u6210\u306b\u7279\u5316\u3057\u3066\u3044\u308b\u306e\u3067\u4eca\u307e\u3067\u3068\u9055\u3063\u3066View\u3084Assets\u3001Helper\u304c\u307e\u308b\u3054\u3068\u5439\u304d\u98db\u3093\u3067\u3044\u308b\u306e\u304c\u7279\u5fb4\u3002\u8a73\u3057\u3044\u5dee\u5206\u306f\u4ee5\u4e0b\u3067\nRails 5.0 \u3067\u306erails new\u5f8c\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3084Gemfile\u3092\u898b\u6bd4\u3079\u308b - Qiita\n\n\u3067\u3001\u901f\u3044\u306e\uff1f\n\u3044\u308d\u3044\u308d\u7121\u99c4\u304c\u524a\u308c\u305f\u3093\u3060\u304b\u3089\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3082\u901f\u304f\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3002\u305d\u3046\u4fe1\u3058\u3066\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3053\u3068\u306b\u3057\u305f\u3002\n\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6761\u4ef6\n\n\u65e7Rails\u306f4.2.6\u3000\u65b0Rails\u306f5.0.0\u3092\u7528\u610f\n\u305d\u306e\u4ed6Ruby\u3084MySQL\u3001Nginx\u7b49\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u3059\u3079\u3066\u7d71\u4e00\nAPI\u3067\u8868\u793a\u3059\u308b\u30c7\u30fc\u30bf\u3068\u3057\u3066\u3001\u30c0\u30df\u30fc\u500b\u4eba\u60c5\u5831\u309212\u4e075\u5343\u4ef6\u7528\u610f\n\u30ad\u30e3\u30c3\u30b7\u30e5\u5bfe\u7b56\u3068\u3057\u3066\u300c\u30e9\u30f3\u30c0\u30e0\u306a\u671f\u9593\u306e\u8a95\u751f\u65e5\u300d\u3092\u30af\u30a8\u30ea\u3068\u3059\u308b\n\n\u30af\u30a8\u30ea\u306f\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f\nd1 = Random.rand(Date.parse(\"1935/01/01\") .. Date.parse(\"2004/12/31\"))\nd2 = Random.rand(d1 .. Date.parse(\"2004/12/31\"))\n@dummy_users = DummyUser.where(birthday: d1..d2).limit(100)\n\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306b\u306fApacheBench\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u6570100\u3001\u540c\u6642\u63a5\u7d9a\u6570100\u3067\u884c\u3063\u305f\u3002\n\n\u7d50\u679c\nRequests per second\u306f\u4ee5\u4e0b\n\n\u65e7Rails: 26.35\n\n\u65b0RailsAPI\u30e2\u30fc\u30c9 27.14\n\n\n\u3042\u308c\u3001\u3042\u3093\u307e\u308a\u5909\u308f\u3089\u306a\u304f\u306d\uff1f\n\u65e7Rails\u306e\u7d50\u679c\u8a73\u7d30\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking xxxxxx (be patient).....done\n\n\nServer Software:        nginx/1.10.0\nServer Hostname:        xxxxxx\nServer Port:            80\n\nDocument Path:          /dummy_users\nDocument Length:        26739 bytes\n\nConcurrency Level:      100\nTime taken for tests:   3.795 seconds\nComplete requests:      100\nFailed requests:        99\n   (Connect: 0, Receive: 0, Length: 99, Exceptions: 0)\nTotal transferred:      2716475 bytes\nHTML transferred:       2674775 bytes\nRequests per second:    26.35 [#/sec] (mean)\nTime per request:       3794.700 [ms] (mean)\nTime per request:       37.947 [ms] (mean, across all concurrent requests)\nTransfer rate:          699.08 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        1   91  34.7    104     106\nProcessing:   128 1875 1072.8   1851    3687\nWaiting:      126 1852 1073.1   1826    3686\nTotal:        129 1965 1093.4   1956    3793\n\nPercentage of the requests served within a certain time (ms)\n  50%   1956\n  66%   2631\n  75%   2960\n  80%   3119\n  90%   3514\n  95%   3740\n  98%   3745\n  99%   3793\n 100%   3793 (longest request)\n\n\u65b0Rails\u306e\u7d50\u679c\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking xxxxxx (be patient).....done\n\n\nServer Software:        nginx/1.10.0\nServer Hostname:        xxxxxx\nServer Port:            80\n\nDocument Path:          /dummy_users\nDocument Length:        25711 bytes\n\nConcurrency Level:      100\nTime taken for tests:   3.685 seconds\nComplete requests:      100\nFailed requests:        98\n   (Connect: 0, Receive: 0, Length: 98, Exceptions: 0)\nTotal transferred:      2616721 bytes\nHTML transferred:       2575021 bytes\nRequests per second:    27.14 [#/sec] (mean)\nTime per request:       3684.577 [ms] (mean)\nTime per request:       36.846 [ms] (mean, across all concurrent requests)\nTransfer rate:          693.54 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        1   88  37.7    104     106\nProcessing:   172 1845 1042.6   1816    3578\nWaiting:      139 1840 1043.1   1814    3576\nTotal:        174 1933 1066.7   1920    3683\n\nPercentage of the requests served within a certain time (ms)\n  50%   1920\n  66%   2488\n  75%   2904\n  80%   3079\n  90%   3433\n  95%   3586\n  98%   3681\n  99%   3683\n 100%   3683 (longest request)\n\n\n\u7d50\u8ad6\n\u7206\u901f\u306b\u306a\u308b\u308f\u3051\u3058\u3083\u306a\u3044\u3051\u3069\u958b\u767a\u306f\u9ad8\u901f\u5316\u3059\u308b\u306f\u305a\uff08\u9069\u5f53\uff09\n# \u305d\u3082\u305d\u3082API\u30e2\u30fc\u30c9\u3068\u306f\n\n\u7686\u3055\u3093\u5fa1\u5b58\u77e5\u306e\u901a\u308a[Rails5](http://weblog.rubyonrails.org/2016/6/30/Rails-5-0-final/)\u304b\u3089\u306fAPI\u30e2\u30fc\u30c9\u304c\u5b9f\u88c5\u3055\u308c\u305f\u3002\nAPI\u30e2\u30fc\u30c9\u306e\u65b9\u6cd5\u306f\u30db\u30f3\u30c8\u7c21\u5358\u3067\u3001\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u6642\u306b `--api` \u3092\u4ed8\u3051\u308b\u3060\u3051\u3067\u3042\u308b\u3002\n\n```\nrails new my_api --api\n```\n\nAPI\u4f5c\u6210\u306b\u7279\u5316\u3057\u3066\u3044\u308b\u306e\u3067\u4eca\u307e\u3067\u3068\u9055\u3063\u3066View\u3084Assets\u3001Helper\u304c\u307e\u308b\u3054\u3068\u5439\u304d\u98db\u3093\u3067\u3044\u308b\u306e\u304c\u7279\u5fb4\u3002\u8a73\u3057\u3044\u5dee\u5206\u306f\u4ee5\u4e0b\u3067\n\n[Rails 5.0 \u3067\u306erails new\u5f8c\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3084Gemfile\u3092\u898b\u6bd4\u3079\u308b - Qiita](http://qiita.com/amedama/items/da8bdddc774f839c2367#_reference-56d63a8fc1dcd26257fb)\n\n# \u3067\u3001\u901f\u3044\u306e\uff1f\n\n\u3044\u308d\u3044\u308d\u7121\u99c4\u304c\u524a\u308c\u305f\u3093\u3060\u304b\u3089\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3082\u901f\u304f\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3002\u305d\u3046\u4fe1\u3058\u3066\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u30c6\u30b9\u30c8\u3092\u884c\u3046\u3053\u3068\u306b\u3057\u305f\u3002\n\n# \u30d9\u30f3\u30c1\u30de\u30fc\u30af\u6761\u4ef6\n\n- \u65e7Rails\u306f4.2.6\u3000\u65b0Rails\u306f5.0.0\u3092\u7528\u610f\n- \u305d\u306e\u4ed6Ruby\u3084MySQL\u3001Nginx\u7b49\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u3059\u3079\u3066\u7d71\u4e00\n- API\u3067\u8868\u793a\u3059\u308b\u30c7\u30fc\u30bf\u3068\u3057\u3066\u3001\u30c0\u30df\u30fc\u500b\u4eba\u60c5\u5831\u309212\u4e075\u5343\u4ef6\u7528\u610f\n- \u30ad\u30e3\u30c3\u30b7\u30e5\u5bfe\u7b56\u3068\u3057\u3066\u300c\u30e9\u30f3\u30c0\u30e0\u306a\u671f\u9593\u306e\u8a95\u751f\u65e5\u300d\u3092\u30af\u30a8\u30ea\u3068\u3059\u308b\n\n\u30af\u30a8\u30ea\u306f\u5177\u4f53\u7684\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f\n\n```rb\nd1 = Random.rand(Date.parse(\"1935/01/01\") .. Date.parse(\"2004/12/31\"))\nd2 = Random.rand(d1 .. Date.parse(\"2004/12/31\"))\n@dummy_users = DummyUser.where(birthday: d1..d2).limit(100)\n```\n\n\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306b\u306fApacheBench\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u6570100\u3001\u540c\u6642\u63a5\u7d9a\u6570100\u3067\u884c\u3063\u305f\u3002\n\n# \u7d50\u679c\n\nRequests per second\u306f\u4ee5\u4e0b\n\n- \u65e7Rails: **26.35**\n- \u65b0RailsAPI\u30e2\u30fc\u30c9 **27.14**\n\n\u3042\u308c\u3001\u3042\u3093\u307e\u308a\u5909\u308f\u3089\u306a\u304f\u306d\uff1f\n\n\n\u65e7Rails\u306e\u7d50\u679c\u8a73\u7d30\n\n```\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking xxxxxx (be patient).....done\n\n\nServer Software:        nginx/1.10.0\nServer Hostname:        xxxxxx\nServer Port:            80\n\nDocument Path:          /dummy_users\nDocument Length:        26739 bytes\n\nConcurrency Level:      100\nTime taken for tests:   3.795 seconds\nComplete requests:      100\nFailed requests:        99\n   (Connect: 0, Receive: 0, Length: 99, Exceptions: 0)\nTotal transferred:      2716475 bytes\nHTML transferred:       2674775 bytes\nRequests per second:    26.35 [#/sec] (mean)\nTime per request:       3794.700 [ms] (mean)\nTime per request:       37.947 [ms] (mean, across all concurrent requests)\nTransfer rate:          699.08 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        1   91  34.7    104     106\nProcessing:   128 1875 1072.8   1851    3687\nWaiting:      126 1852 1073.1   1826    3686\nTotal:        129 1965 1093.4   1956    3793\n\nPercentage of the requests served within a certain time (ms)\n  50%   1956\n  66%   2631\n  75%   2960\n  80%   3119\n  90%   3514\n  95%   3740\n  98%   3745\n  99%   3793\n 100%   3793 (longest request)\n```\n\n\u65b0Rails\u306e\u7d50\u679c\n\n```\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking xxxxxx (be patient).....done\n\n\nServer Software:        nginx/1.10.0\nServer Hostname:        xxxxxx\nServer Port:            80\n\nDocument Path:          /dummy_users\nDocument Length:        25711 bytes\n\nConcurrency Level:      100\nTime taken for tests:   3.685 seconds\nComplete requests:      100\nFailed requests:        98\n   (Connect: 0, Receive: 0, Length: 98, Exceptions: 0)\nTotal transferred:      2616721 bytes\nHTML transferred:       2575021 bytes\nRequests per second:    27.14 [#/sec] (mean)\nTime per request:       3684.577 [ms] (mean)\nTime per request:       36.846 [ms] (mean, across all concurrent requests)\nTransfer rate:          693.54 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        1   88  37.7    104     106\nProcessing:   172 1845 1042.6   1816    3578\nWaiting:      139 1840 1043.1   1814    3576\nTotal:        174 1933 1066.7   1920    3683\n\nPercentage of the requests served within a certain time (ms)\n  50%   1920\n  66%   2488\n  75%   2904\n  80%   3079\n  90%   3433\n  95%   3586\n  98%   3681\n  99%   3683\n 100%   3683 (longest request)\n```\n\n# \u7d50\u8ad6\n\n\u7206\u901f\u306b\u306a\u308b\u308f\u3051\u3058\u3083\u306a\u3044\u3051\u3069\u958b\u767a\u306f\u9ad8\u901f\u5316\u3059\u308b\u306f\u305a\uff08\u9069\u5f53\uff09\n", "tags": ["Rails", "Ruby", "Rails4", "Rails5", "RubyOnRails"]}