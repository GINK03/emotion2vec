{"tags": ["JavaScript", "CoffeeScript", "Backbone.js", "Underscore.js"], "context": " More than 1 year has passed since last update.\u307e\u3042\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066JavaScript\u306b\u5c55\u958b\u3059\u308b\u3068100\u884c\u8d85\u3048\u308b\u3093\u3067\u3059\u304c\u3002\n\u3082\u3046\u3061\u3087\u3044\u5fb9\u5e95\u3059\u308c\u307025\u884c\u304f\u3089\u3044\u306b\u306f\u306a\u308a\u305d\u3046\u3060\u3051\u3069\u3001\u53ef\u8aad\u6027\u3092\u5931\u3046\u81ea\u5df1\u6e80\u8db3\u306b\u306a\u308b\u306e\u3067\u3053\u306e\u8fba\u3067\u81ea\u91cd\u3002\n\nBackbone.Cron\u30af\u30e9\u30b9\nclass Backbone.Cron\n  constructor: (@owner, crontabs, autostart = true) ->\n    seqArray = (from, to) -> _.map(new Array(to - from + 1).join().split(','), (v, i, a) -> i + from)\n    parseCrontab = (crontab) =>\n      ctArray = _.map(crontab.split(/\\s+/), (v, i, a) ->\n        return v if i is 6 or v is '*'\n        v = v.replace /(\\d+)-(\\d+)/g, (vm, vf, vt) -> seqArray(Number(vf), Number(vt)).join()\n        v = v.replace /\\*\\/(\\d+)/g, (vm, vi) -> Number(vi) * -1\n        _.map(v.split(','), (vv, vi, va) -> Number vv).sort())\n      unit: @_makeunit ctArray\n      exec: ctArray[6]\n\n    @items = {}\n    @items[label] = _.extend parseCrontab(ct), { crontab: ct, pause: false } for label, ct of crontabs\n    @owner.bind 'remove', () => @stop() unless @owner.model?\n    @start() if autostart\n\n  start: () =>\n    @unixtime = parseInt(new Date() / 1000, 10)\n    @timer = setInterval () =>\n      d = new Date(++@unixtime * 1000)\n      now = @_makeunit [ d.getSeconds(), d.getMinutes(), d.getHours(), d.getDate(), d.getMonth() + 1, d.getDay() ]\n      for label, item of @items when not item.pause\n        @owner[item.exec] label, d if _.every item.unit, (v, k ,o) -> v? and (v is '*' or _.some(v, (vv, vi, va) -> if vv < 0 then now[k] % (vv * -1) is 0 else vv is now[k]))\n    , 1000\n\n  stop: () => clearInterval @timer\n  on: (label) => @items[label].pause = false\n  off: (label) => @items[label].pause = true\n  _makeunit: (array) => _.object [ 'second', 'minute', 'hour', 'day', 'month', 'weekday' ], array\n\n\n\n\u30c7\u30e2\u4ed8\u304d\u306e\u30bd\u30fc\u30b9\u3092GitHub\u306b\u3082\u4e0a\u3052\u3066\u3042\u308a\u307e\u3059\u3002\n\u30c7\u30e2\u306f\u3053\u3061\u3089\n\n\n\n\u4f7f\u3044\u65b9\n\u307e\u305a\u4e0a\u8a18\u30bd\u30fc\u30b9\u3092\u30b3\u30d4\u30da\u3057\u3066JavaScript\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092backbone.js\u306e\u5f8c\u306b\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u4f8b\n<script type=\"text/javascript\" src=\"/path/to/backbone.js\"></script>\n<script type=\"text/javascript\" src=\"<\u4e0a\u8a18\u30bd\u30fc\u30b9\u3092\u30b3\u30d4\u30da\u3057\u3066js\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u30d5\u30a1\u30a4\u30eb>\"></script>\n\n\nBackbone.\uff5e.extend\u306einitialize()\u3067Backbone.Cron\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30e2\u30c7\u30eb\u306bcron\u3092\u4ed5\u8fbc\u3080\u4f8b\nvar HogeModel = Backbone.Model.extend({\n  initialize: function () {\n    this.cron = new Backbone.Cron(this, {\n      test1: '0,45,20-23 * * * * * test1',\n      test2: '39 */6,10,20,40,50 * * * * test2',\n      test3: '0 */5 */2 * * * test2'\n    });\n  },\n\n  test1: function (label, now) {\n    console.log(label, now);\n  },\n\n  test2: function (label, now) {\n    console.log(label, now);\n  }\n});\n\n\n\n\u30e1\u30bd\u30c3\u30c9\n\nnew Backbone.Cron(<\u95a2\u9023\u4ed8\u3051\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8>, <crontab\u8a2d\u5b9a>[, \u81ea\u52d5\u30b9\u30bf\u30fc\u30c8\u8a2d\u5b9a]);\n\n\u5f15\u65701: \u95a2\u9023\u4ed8\u3051\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\u5f15\u65702\u306ecrontab\u3067\u6307\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3055\u305b\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002\u5927\u62b5\u306e\u5834\u5408\u306fthis\u3067\u826f\u3044\u3068\u601d\u3044\u307e\u3059(\u4e0a\u8a18\u306e\u4f8b\u3067\u306fthis = HogeModel\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\u3002\n\n\u5f15\u65702: crontab\u8a2d\u5b9a\n\u30e9\u30d9\u30eb:crontab\u306e\u30da\u30a2\u304b\u3089\u306a\u308b\u9023\u60f3\u914d\u5217\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002crontab\u306f\n\u79d2 \u5206 \u6642 \u65e5 \u6708 \u66dc\u65e5 \u5b9f\u884c\u3059\u308b\u30e1\u30bd\u30c3\u30c9\n\u306e\u9806\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u4e00\u901a\u308a\u306ecrontab\u66f8\u5f0f\u304c\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002\n\u3053\u3053\u3067\u6307\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u6642\u306b\u306f(\u30e9\u30d9\u30eb\u3001\u73fe\u5728\u65e5\u6642\u306eDate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\u306e2\u3064\u304c\u5f15\u6570\u3067\u6e21\u3055\u308c\u307e\u3059\u3002\n\n\u5f15\u65703: \u81ea\u52d5\u30b9\u30bf\u30fc\u30c8\u8a2d\u5b9a\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fBackbone.Cron\u3092new\u3057\u305f\u6642\u70b9\u3067\u30bf\u30a4\u30de\u30fc\u304c\u4f5c\u52d5\u3057\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305anew\u306f\u3059\u308b\u3051\u3069\u5b9f\u884c\u306f\u3061\u3087\u3063\u3068\u5f8c\u3067\u3068\u3044\u3046\u5834\u5408\u306b\u306ffalse\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3057\u3066\u5fc5\u8981\u306b\u306a\u3063\u305f\u3089start()\u30e1\u30bd\u30c3\u30c9\u3067\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u52d5\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\n\nstart()\n\u4f5c\u6210\u3057\u305fBackbone.Cron\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u52d5\u3055\u305b\u307e\u3059\u3002\n\nstop()\nBackbone.Cron\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30bf\u30a4\u30de\u30fc\u3092\u505c\u6b62\u3055\u305b\u307e\u3059\u3002crontab\u3067\u767b\u9332\u3057\u305f\u5168\u3066\u306e\u51e6\u7406\u304c\u30b9\u30c8\u30c3\u30d7\u3055\u308c\u307e\u3059\u3002\n\noff(<\u30e9\u30d9\u30eb>)\n\u6307\u5b9a\u3057\u305f\u30e9\u30d9\u30eb\u306e\u51e6\u7406\u3060\u3051\u5b9f\u884c\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\non(<\u30e9\u30d9\u30eb>)\noff()\u3067\u6b62\u3081\u305f\u30e9\u30d9\u30eb\u306e\u51e6\u7406\u3092\u518d\u5ea6\u5b9f\u884c\u3055\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\u6ce8\u610f\u70b9\nBackbone.Cron\u3092\u4ed5\u8fbc\u3093\u3060\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\u3059\u308b\u524d\u306b\u306f\u5fc5\u305astop()\u30e1\u30bd\u30c3\u30c9\u3067\u30bf\u30a4\u30de\u30fc\u3092\u6b62\u3081\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3046\u3057\u306a\u3044\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\u3057\u305f\u5f8c\u306b\u3082\u30bf\u30a4\u30de\u30fc\u51e6\u7406\u304c\u52d5\u304d\u7d9a\u3051\u3001\u30e1\u30e2\u30ea\u30ea\u30fc\u30af\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001Backbone.Cron\u306e\u5185\u90e8\u3067\u306f\u3001remove\u30a4\u30d9\u30f3\u30c8\u3067stop()\u304c\u767a\u751f\u3059\u308b\u3088\u3046\u306bbind\u3057\u3066\u3044\u308b\u306e\u3067\u3001Backbone.Model\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u305fBackbone.Cron\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u95a2\u3057\u3066\u306f\u3001Model\u524a\u9664\u6642\u306b\u81ea\u52d5\u7684\u306b\u30bf\u30a4\u30de\u30fc\u304c\u505c\u6b62\u3055\u308c\u307e\u3059\u3002\n\u305f\u3060\u3057\u3001Collection.reset()\u306e\u5834\u5408\u3001(Backbone.js\u30d0\u30fc\u30b8\u30e7\u30f31.0.0\u306e\u6bb5\u968e\u3067\u306f)Model\u306b\u5bfe\u3057\u3066remove\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u306a\u3044\u306e\u3067\u30bf\u30a4\u30de\u30fc\u304c\u505c\u6b62\u3055\u308c\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001Backbone.Collection.extend\u3067reset()\u306e\u51e6\u7406\u3092\u4ee5\u4e0b\u306e\u69d8\u306b\u62e1\u5f35\u3057\u3066\u304a\u3051\u3070\u3001reset()\u6642\u306bremove\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u706b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nBackbone.Collection\u306ereset()\u3092\u62e1\u5f35\nvar HogeCollection = Backbone.Collection.extend({\n  model: HogeModel,\n\n  reset: function (models, options) {\n    this.each(function (model) {\n      model.trigger('remove');\n    });\n    return HogeCollection.__super__.reset.apply(this, arguments);\n  },\n\n\n\n\u6700\u5f8c\u306b\nBackbone.js\u306b\u7279\u5316\u3057\u3066\u3044\u308b\u306e\u306fremove\u30a4\u30d9\u30f3\u30c8\u306ebind\u3060\u3051\u306a\u306e\u3067\u3001\u3053\u306e\u90e8\u5206\u3092\u6f70\u305b\u3070Backbone.js\u306b\u9650\u3089\u305a\u3001\u8272\u3005\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bCron\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059(underscore.js\u4f9d\u5b58\u3067\u3059\u304c)\u3002\n\u3061\u306a\u307f\u306b\u30e2\u30c0\u30f3\u30d6\u30e9\u30a6\u30b6\u3068IE7\u4ee5\u4e0a\u3067\u52d5\u4f5c\u78ba\u8a8d\u6e08\u307f\u3067\u3059\u3002\n\u307e\u3042\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066JavaScript\u306b\u5c55\u958b\u3059\u308b\u3068100\u884c\u8d85\u3048\u308b\u3093\u3067\u3059\u304c\u3002\n\n\u3082\u3046\u3061\u3087\u3044\u5fb9\u5e95\u3059\u308c\u307025\u884c\u304f\u3089\u3044\u306b\u306f\u306a\u308a\u305d\u3046\u3060\u3051\u3069\u3001\u53ef\u8aad\u6027\u3092\u5931\u3046\u81ea\u5df1\u6e80\u8db3\u306b\u306a\u308b\u306e\u3067\u3053\u306e\u8fba\u3067\u81ea\u91cd\u3002\n\n```coffeescript:Backbone.Cron\u30af\u30e9\u30b9\nclass Backbone.Cron\n  constructor: (@owner, crontabs, autostart = true) ->\n    seqArray = (from, to) -> _.map(new Array(to - from + 1).join().split(','), (v, i, a) -> i + from)\n    parseCrontab = (crontab) =>\n      ctArray = _.map(crontab.split(/\\s+/), (v, i, a) ->\n        return v if i is 6 or v is '*'\n        v = v.replace /(\\d+)-(\\d+)/g, (vm, vf, vt) -> seqArray(Number(vf), Number(vt)).join()\n        v = v.replace /\\*\\/(\\d+)/g, (vm, vi) -> Number(vi) * -1\n        _.map(v.split(','), (vv, vi, va) -> Number vv).sort())\n      unit: @_makeunit ctArray\n      exec: ctArray[6]\n\n    @items = {}\n    @items[label] = _.extend parseCrontab(ct), { crontab: ct, pause: false } for label, ct of crontabs\n    @owner.bind 'remove', () => @stop() unless @owner.model?\n    @start() if autostart\n\n  start: () =>\n    @unixtime = parseInt(new Date() / 1000, 10)\n    @timer = setInterval () =>\n      d = new Date(++@unixtime * 1000)\n      now = @_makeunit [ d.getSeconds(), d.getMinutes(), d.getHours(), d.getDate(), d.getMonth() + 1, d.getDay() ]\n      for label, item of @items when not item.pause\n        @owner[item.exec] label, d if _.every item.unit, (v, k ,o) -> v? and (v is '*' or _.some(v, (vv, vi, va) -> if vv < 0 then now[k] % (vv * -1) is 0 else vv is now[k]))\n    , 1000\n\n  stop: () => clearInterval @timer\n  on: (label) => @items[label].pause = false\n  off: (label) => @items[label].pause = true\n  _makeunit: (array) => _.object [ 'second', 'minute', 'hour', 'day', 'month', 'weekday' ], array\n```\n\n* \u30c7\u30e2\u4ed8\u304d\u306e\u30bd\u30fc\u30b9\u3092[GitHub](https://github.com/ktty1220/backbone.cron)\u306b\u3082\u4e0a\u3052\u3066\u3042\u308a\u307e\u3059\u3002\n* \u30c7\u30e2\u306f[\u3053\u3061\u3089](http://ktty1220.github.io/backbone.cron/demo.html)\n\n## \u4f7f\u3044\u65b9\n\n\u307e\u305a\u4e0a\u8a18\u30bd\u30fc\u30b9\u3092\u30b3\u30d4\u30da\u3057\u3066JavaScript\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092backbone.js\u306e\u5f8c\u306b\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```html:\u4f8b\n<script type=\"text/javascript\" src=\"/path/to/backbone.js\"></script>\n<script type=\"text/javascript\" src=\"<\u4e0a\u8a18\u30bd\u30fc\u30b9\u3092\u30b3\u30d4\u30da\u3057\u3066js\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u305f\u30d5\u30a1\u30a4\u30eb>\"></script>\n```\n\n`Backbone.\uff5e.extend`\u306e`initialize()`\u3067Backbone.Cron\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```js:\u30e2\u30c7\u30eb\u306bcron\u3092\u4ed5\u8fbc\u3080\u4f8b\nvar HogeModel = Backbone.Model.extend({\n  initialize: function () {\n    this.cron = new Backbone.Cron(this, {\n      test1: '0,45,20-23 * * * * * test1',\n      test2: '39 */6,10,20,40,50 * * * * test2',\n      test3: '0 */5 */2 * * * test2'\n    });\n  },\n\n  test1: function (label, now) {\n    console.log(label, now);\n  },\n\n  test2: function (label, now) {\n    console.log(label, now);\n  }\n});\n```\n\n## \u30e1\u30bd\u30c3\u30c9\n\n### new Backbone.Cron(&lt;\u95a2\u9023\u4ed8\u3051\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8&gt;, &lt;crontab\u8a2d\u5b9a&gt;[, \u81ea\u52d5\u30b9\u30bf\u30fc\u30c8\u8a2d\u5b9a]);\n\n##### \u5f15\u65701: \u95a2\u9023\u4ed8\u3051\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n\u5f15\u65702\u306ecrontab\u3067\u6307\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3055\u305b\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002\u5927\u62b5\u306e\u5834\u5408\u306f`this`\u3067\u826f\u3044\u3068\u601d\u3044\u307e\u3059(\u4e0a\u8a18\u306e\u4f8b\u3067\u306f`this` = HogeModel\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\u3002\n\n##### \u5f15\u65702: crontab\u8a2d\u5b9a\n\n`\u30e9\u30d9\u30eb`:`crontab`\u306e\u30da\u30a2\u304b\u3089\u306a\u308b\u9023\u60f3\u914d\u5217\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002crontab\u306f\n\n`\u79d2` `\u5206` `\u6642` `\u65e5` `\u6708` `\u66dc\u65e5` `\u5b9f\u884c\u3059\u308b\u30e1\u30bd\u30c3\u30c9`\n\n\u306e\u9806\u306b\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u533a\u5207\u308a\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u4e00\u901a\u308a\u306ecrontab\u66f8\u5f0f\u304c\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002\n\n\u3053\u3053\u3067\u6307\u5b9a\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3055\u308c\u308b\u6642\u306b\u306f(`\u30e9\u30d9\u30eb`\u3001`\u73fe\u5728\u65e5\u6642\u306eDate\u30aa\u30d6\u30b8\u30a7\u30af\u30c8`)\u306e2\u3064\u304c\u5f15\u6570\u3067\u6e21\u3055\u308c\u307e\u3059\u3002\n\n##### \u5f15\u65703: \u81ea\u52d5\u30b9\u30bf\u30fc\u30c8\u8a2d\u5b9a\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fBackbone.Cron\u3092new\u3057\u305f\u6642\u70b9\u3067\u30bf\u30a4\u30de\u30fc\u304c\u4f5c\u52d5\u3057\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305anew\u306f\u3059\u308b\u3051\u3069\u5b9f\u884c\u306f\u3061\u3087\u3063\u3068\u5f8c\u3067\u3068\u3044\u3046\u5834\u5408\u306b\u306f`false`\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3057\u3066\u5fc5\u8981\u306b\u306a\u3063\u305f\u3089`start()`\u30e1\u30bd\u30c3\u30c9\u3067\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u52d5\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\n\n### start()\n\n\u4f5c\u6210\u3057\u305fBackbone.Cron\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30bf\u30a4\u30de\u30fc\u3092\u4f5c\u52d5\u3055\u305b\u307e\u3059\u3002\n\n### stop()\n\nBackbone.Cron\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30bf\u30a4\u30de\u30fc\u3092\u505c\u6b62\u3055\u305b\u307e\u3059\u3002crontab\u3067\u767b\u9332\u3057\u305f\u5168\u3066\u306e\u51e6\u7406\u304c\u30b9\u30c8\u30c3\u30d7\u3055\u308c\u307e\u3059\u3002\n\n### off(&lt;\u30e9\u30d9\u30eb&gt;)\n\n\u6307\u5b9a\u3057\u305f\u30e9\u30d9\u30eb\u306e\u51e6\u7406\u3060\u3051\u5b9f\u884c\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n### on(&lt;\u30e9\u30d9\u30eb&gt;)\n\n`off()`\u3067\u6b62\u3081\u305f\u30e9\u30d9\u30eb\u306e\u51e6\u7406\u3092\u518d\u5ea6\u5b9f\u884c\u3055\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n## \u6ce8\u610f\u70b9\n\nBackbone.Cron\u3092\u4ed5\u8fbc\u3093\u3060\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\u3059\u308b\u524d\u306b\u306f\u5fc5\u305a`stop()`\u30e1\u30bd\u30c3\u30c9\u3067\u30bf\u30a4\u30de\u30fc\u3092\u6b62\u3081\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3046\u3057\u306a\u3044\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\u3057\u305f\u5f8c\u306b\u3082\u30bf\u30a4\u30de\u30fc\u51e6\u7406\u304c\u52d5\u304d\u7d9a\u3051\u3001\u30e1\u30e2\u30ea\u30ea\u30fc\u30af\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001Backbone.Cron\u306e\u5185\u90e8\u3067\u306f\u3001`remove`\u30a4\u30d9\u30f3\u30c8\u3067`stop()`\u304c\u767a\u751f\u3059\u308b\u3088\u3046\u306bbind\u3057\u3066\u3044\u308b\u306e\u3067\u3001Backbone.Model\u306b\u95a2\u9023\u4ed8\u3051\u3089\u308c\u305fBackbone.Cron\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u95a2\u3057\u3066\u306f\u3001Model\u524a\u9664\u6642\u306b\u81ea\u52d5\u7684\u306b\u30bf\u30a4\u30de\u30fc\u304c\u505c\u6b62\u3055\u308c\u307e\u3059\u3002\n\n\u305f\u3060\u3057\u3001`Collection.reset()`\u306e\u5834\u5408\u3001(Backbone.js\u30d0\u30fc\u30b8\u30e7\u30f31.0.0\u306e\u6bb5\u968e\u3067\u306f)Model\u306b\u5bfe\u3057\u3066`remove`\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u751f\u3057\u306a\u3044\u306e\u3067\u30bf\u30a4\u30de\u30fc\u304c\u505c\u6b62\u3055\u308c\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001Backbone.Collection.extend\u3067`reset()`\u306e\u51e6\u7406\u3092\u4ee5\u4e0b\u306e\u69d8\u306b\u62e1\u5f35\u3057\u3066\u304a\u3051\u3070\u3001`reset()`\u6642\u306b`remove`\u30a4\u30d9\u30f3\u30c8\u304c\u767a\u706b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```js:Backbone.Collection\u306ereset()\u3092\u62e1\u5f35\nvar HogeCollection = Backbone.Collection.extend({\n  model: HogeModel,\n\n  reset: function (models, options) {\n    this.each(function (model) {\n      model.trigger('remove');\n    });\n    return HogeCollection.__super__.reset.apply(this, arguments);\n  },\n```\n\n## \u6700\u5f8c\u306b\n\nBackbone.js\u306b\u7279\u5316\u3057\u3066\u3044\u308b\u306e\u306f`remove`\u30a4\u30d9\u30f3\u30c8\u306ebind\u3060\u3051\u306a\u306e\u3067\u3001\u3053\u306e\u90e8\u5206\u3092\u6f70\u305b\u3070Backbone.js\u306b\u9650\u3089\u305a\u3001\u8272\u3005\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bCron\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059(underscore.js\u4f9d\u5b58\u3067\u3059\u304c)\u3002\n\n\u3061\u306a\u307f\u306b\u30e2\u30c0\u30f3\u30d6\u30e9\u30a6\u30b6\u3068IE7\u4ee5\u4e0a\u3067\u52d5\u4f5c\u78ba\u8a8d\u6e08\u307f\u3067\u3059\u3002"}