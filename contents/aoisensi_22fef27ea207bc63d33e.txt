{"context": " More than 1 year has passed since last update.\u30ad\u30e3\u30c3\u30b7\u30e5\u95a2\u4fc2\u3067\u3042\u308b\u3053\u3068\u306f\u308f\u304b\u308b\u306e\u3067\u3059\u304c\u2026\n\nhoge.html\n<script src=\"/javascripts/three.min.js\" type=\"text/javascript\"></script>\n<script src=\"/javascripts/three/EditorControls.js\" type=\"text/javascript\"></script>\n<div id=\"canvas-frame\"></div>\n<script>\n  var ModelRender = function(texture, scene) {\n    this.scene = scene;\n    this.texture = texture;\n    this.boxes = [];\n    this.addBox = function(boxSize, boxPos, texPos) {\n      var box = new ModelBox(boxSize, boxPos, texPos, true, this);\n      this.boxes.push(box);\n      return box;\n    };\n    this.addLine = function(a,b,color) {\n      var geometry = new THREE.Geometry();\n          geometry.vertices.push(a);\n          geometry.vertices.push(b);\n      var material = new THREE.LineBasicMaterial({color: color});\n      var line = new THREE.Line(geometry, material);\n      this.scene.add(line);\n    };\n    this.addLine(new THREE.Vector3(0,0,0),new THREE.Vector3(200,0,0),0xff0000);\n    this.addLine(new THREE.Vector3(0,0,0),new THREE.Vector3(0,200,0),0x00ff00);\n    this.addLine(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,200),0x0000ff);\n  };\n\n  var ModelBox = function(boxSize, boxPos, texPos, transparent, render) {\n    this.render = render;\n    this.texture = this.render.texture.clone();\n    this.texture.needsUpdate = true;\n    this.material = new THREE.MeshPhongMaterial({ map:this.texture });\n    this.material.transparent = transparent;\n    this.geometry = new THREE.CubeGeometry(boxSize.x, boxSize.y, boxSize.z, 0, 0, 0);\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\n    this.render.scene.add(this.mesh);\n  };\n\n\n\n\n\n  // (1)\u30ec\u30f3\u30c0\u30e9\u306e\u521d\u671f\u5316\n  var renderer = new THREE.WebGLRenderer({ antialias:true });\n  renderer.setSize(500, 500);\n  renderer.setClearColor( new THREE.Color(0x000000) );\n  document.getElementById('canvas-frame').appendChild(renderer.domElement);\n\n  // (2)\u30b7\u30fc\u30f3\u306e\u4f5c\u6210\n  var scene = new THREE.Scene();\n\n  // (3)\u30ab\u30e1\u30e9\u306e\u4f5c\u6210\n  var camera = new THREE.PerspectiveCamera(15, 500 / 500);\n  camera.position = new THREE.Vector3(0, 0, 8);\n  camera.lookAt(new THREE.Vector3(0, 0, 0));\n  scene.add(camera);\n\n  // (4)\u30e9\u30a4\u30c8\u306e\u4f5c\u6210\n  var ambient = new THREE.AmbientLight(0xffffff);\n  scene.add(ambient);\n\n  // (5)\u8868\u793a\u3059\u308b\u7269\u4f53\u306e\u4f5c\u6210\n  var texture = THREE.ImageUtils.loadTexture('/images/char.png')\n    texture.magFilter = THREE.NearestFilter;\n    texture.minFilter = THREE.NearestFilter;\n\n  var modelRender = new ModelRender(texture, scene);\n  modelRender.addBox({x:1, y:1, z:1}, 0, 0);\n\n  var controls = new THREE.EditorControls(camera, renderer.domElement);\n      controls.pan = function(){};\n\n  // (6)\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\n  function animate() {\n    requestAnimationFrame(animate);\n    render();\n  }\n\n  function render() {\n    renderer.render(scene, camera);\n    console.log(\"render\")\n  };\n\n  animate();\n</script>\n\n\n\n\u3088\u308d\u3057\u304f\u304a\u306d\u304c\u3044\u3057\u307e\u3059\n\u30ad\u30e3\u30c3\u30b7\u30e5\u95a2\u4fc2\u3067\u3042\u308b\u3053\u3068\u306f\u308f\u304b\u308b\u306e\u3067\u3059\u304c\u2026\n\n```html:hoge.html\n<script src=\"/javascripts/three.min.js\" type=\"text/javascript\"></script>\n<script src=\"/javascripts/three/EditorControls.js\" type=\"text/javascript\"></script>\n<div id=\"canvas-frame\"></div>\n<script>\n  var ModelRender = function(texture, scene) {\n    this.scene = scene;\n    this.texture = texture;\n    this.boxes = [];\n    this.addBox = function(boxSize, boxPos, texPos) {\n      var box = new ModelBox(boxSize, boxPos, texPos, true, this);\n      this.boxes.push(box);\n      return box;\n    };\n    this.addLine = function(a,b,color) {\n      var geometry = new THREE.Geometry();\n          geometry.vertices.push(a);\n          geometry.vertices.push(b);\n      var material = new THREE.LineBasicMaterial({color: color});\n      var line = new THREE.Line(geometry, material);\n      this.scene.add(line);\n    };\n    this.addLine(new THREE.Vector3(0,0,0),new THREE.Vector3(200,0,0),0xff0000);\n    this.addLine(new THREE.Vector3(0,0,0),new THREE.Vector3(0,200,0),0x00ff00);\n    this.addLine(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,200),0x0000ff);\n  };\n  \n  var ModelBox = function(boxSize, boxPos, texPos, transparent, render) {\n    this.render = render;\n    this.texture = this.render.texture.clone();\n    this.texture.needsUpdate = true;\n    this.material = new THREE.MeshPhongMaterial({ map:this.texture });\n    this.material.transparent = transparent;\n    this.geometry = new THREE.CubeGeometry(boxSize.x, boxSize.y, boxSize.z, 0, 0, 0);\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\n    this.render.scene.add(this.mesh);\n  };\n  \n\n  \n  \n  \n  // (1)\u30ec\u30f3\u30c0\u30e9\u306e\u521d\u671f\u5316\n  var renderer = new THREE.WebGLRenderer({ antialias:true });\n  renderer.setSize(500, 500);\n  renderer.setClearColor( new THREE.Color(0x000000) );\n  document.getElementById('canvas-frame').appendChild(renderer.domElement);\n\n  // (2)\u30b7\u30fc\u30f3\u306e\u4f5c\u6210\n  var scene = new THREE.Scene();\n\n  // (3)\u30ab\u30e1\u30e9\u306e\u4f5c\u6210\n  var camera = new THREE.PerspectiveCamera(15, 500 / 500);\n  camera.position = new THREE.Vector3(0, 0, 8);\n  camera.lookAt(new THREE.Vector3(0, 0, 0));\n  scene.add(camera);\n\n  // (4)\u30e9\u30a4\u30c8\u306e\u4f5c\u6210\n  var ambient = new THREE.AmbientLight(0xffffff);\n  scene.add(ambient);\n\n  // (5)\u8868\u793a\u3059\u308b\u7269\u4f53\u306e\u4f5c\u6210\n  var texture = THREE.ImageUtils.loadTexture('/images/char.png')\n    texture.magFilter = THREE.NearestFilter;\n    texture.minFilter = THREE.NearestFilter;\n  \n  var modelRender = new ModelRender(texture, scene);\n  modelRender.addBox({x:1, y:1, z:1}, 0, 0);\n  \n  var controls = new THREE.EditorControls(camera, renderer.domElement);\n      controls.pan = function(){};\n\n  // (6)\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\n  function animate() {\n    requestAnimationFrame(animate);\n    render();\n  }\n  \n  function render() {\n    renderer.render(scene, camera);\n    console.log(\"render\")\n  };\n  \n  animate();\n</script>\n\n```\n\n\u3088\u308d\u3057\u304f\u304a\u306d\u304c\u3044\u3057\u307e\u3059", "tags": ["three.js58", "JavaScript"]}