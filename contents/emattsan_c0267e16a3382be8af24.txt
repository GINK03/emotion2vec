{"context": "\u554f\u984c\u306f\u3053\u3061\u3089: http://nabetani.sakura.ne.jp/hena/orde11tredis/\n\u307f\u306a\u3055\u3093\u306e\u56de\u7b54\u306f\u3053\u3061\u3089\u304b\u3089: http://qiita.com/Nabetani/items/10b2ccc28301e44e09e6\n\nsolver.pro\nfactor1(N, F) :- \n  N2 is N div 2 + 1,\n  between(3, N2, F),\n  N mod (F - 1) =:= 0.\n\nroute([N|NS], RS) :-\n  factor1(N, F),\n  route([F, N|NS], RS).\nroute(NS, NS).\n\ndistance(RA, RB, D) :-\n  append(SA, R, RA),\n  append(SB, R, RB),\n  length(SA, LA),\n  length(SB, LB),\n  D is LA + LB.\n\ndistance(N, A, B, D) :-\n  findall(R, route([N], R), RS),\n  member([A|RA], RS),\n  member([B|RB], RS),\n  distance([A|RA], [B|RB], D).\n\nparse(Input, N, A, B) :-\n  append(NS, [0':|ABS], Input),\n  append(AS, [0',|BS], ABS),\n  number_codes(N, NS),\n  number_codes(A, AS),\n  number_codes(B, BS).\n\nsolve(Input, Result) :-\n  parse(Input, N, A, B),\n  findall(D, distance(N, A, B, D), DS),\n  min_list(DS, MD),\n  number_codes(MD, Result),\n  !.\n\n\n\norde11.pro\n% $ gplc orde11.pro\n% $ ./orde11\n\n:- initialization(main).\n:- include(solver).\n\njudge(_, Expected, Expected) :-\n  write(.),\n  !.\njudge(Input, Expected, Actual) :-\n  format(\"~ninput    ~s~nexpected ~s~nactual   ~s~n\", [Input, Expected, Actual]).\n\ntest(Input, Expected) :-\n  solve(Input, Actual),\n  judge(Input, Expected, Actual).\n\nmain :-\n  test(\"50:6,3\", \"1\"),\n  test(\"98:5,11\", \"4\"),\n  test(\"1000:33,20\", \"7\"),\n  test(\"514:9,18\", \"8\"),\n  test(\"961:5,4\", \"3\"),\n  test(\"1369:1369,3\", \"2\"),\n  test(\"258:16,12\", \"5\"),\n  test(\"235:13,3\", \"2\"),\n  test(\"1096:19,17\", \"8\"),\n  test(\"847:7,17\", \"6\"),\n  test(\"1932:3,5\", \"2\"),\n  test(\"2491:4,8\", \"3\"),\n  test(\"840:421,36\", \"2\"),\n  test(\"1430:37,111\", \"3\"),\n  test(\"496:17,9\", \"2\"),\n  test(\"891:6,10\", \"1\"),\n  test(\"1560:196,21\", \"2\"),\n  test(\"516:20,12\", \"5\"),\n  test(\"696:30,59\", \"2\"),\n  test(\"1760:5,441\", \"2\"),\n  test(\"1736:11,26\", \"5\"),\n  test(\"1518:17,34\", \"4\"),\n  test(\"806:63,16\", \"5\"),\n  test(\"1920:3,97\", \"2\"),\n  test(\"1150:13,22\", \"4\"),\n  test(\"920:116,5\", \"1\"),\n  test(\"2016:7,337\", \"2\"),\n  test(\"408:9,25\", \"2\"),\n  test(\"735:36,8\", \"2\"),\n  test(\"470:5,31\", \"2\"),\n  test(\"2100:12,351\", \"3\"),\n  test(\"870:36,10\", \"1\"),\n  test(\"1512:253,13\", \"2\"),\n  test(\"697:12,15\", \"3\"),\n  test(\"1224:5,14\", \"2\"),\n  test(\"986:125,17\", \"3\"),\n  test(\"864:12,13\", \"3\"),\n  test(\"500:21,51\", \"2\"),\n  test(\"819:33,21\", \"4\"),\n  test(\"594:55,3\", \"2\"),\n  test(\"638:17,24\", \"3\"),\n  nl,\n  halt.\n\n\nGNU-Prolog \u306e\u30b3\u30f3\u30d1\u30a4\u30e9 gplc \u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\u3067\u304d\u305f\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ gplc orde11.pro\n$ ./orde11\n\n\n\n\u554f\u984c\u306f\u3053\u3061\u3089: http://nabetani.sakura.ne.jp/hena/orde11tredis/\n\u307f\u306a\u3055\u3093\u306e\u56de\u7b54\u306f\u3053\u3061\u3089\u304b\u3089: http://qiita.com/Nabetani/items/10b2ccc28301e44e09e6\n\n```prolog:solver.pro\nfactor1(N, F) :- \n  N2 is N div 2 + 1,\n  between(3, N2, F),\n  N mod (F - 1) =:= 0.\n\nroute([N|NS], RS) :-\n  factor1(N, F),\n  route([F, N|NS], RS).\nroute(NS, NS).\n\ndistance(RA, RB, D) :-\n  append(SA, R, RA),\n  append(SB, R, RB),\n  length(SA, LA),\n  length(SB, LB),\n  D is LA + LB.\n\ndistance(N, A, B, D) :-\n  findall(R, route([N], R), RS),\n  member([A|RA], RS),\n  member([B|RB], RS),\n  distance([A|RA], [B|RB], D).\n\nparse(Input, N, A, B) :-\n  append(NS, [0':|ABS], Input),\n  append(AS, [0',|BS], ABS),\n  number_codes(N, NS),\n  number_codes(A, AS),\n  number_codes(B, BS).\n\nsolve(Input, Result) :-\n  parse(Input, N, A, B),\n  findall(D, distance(N, A, B, D), DS),\n  min_list(DS, MD),\n  number_codes(MD, Result),\n  !.\n```\n\n```prolog:orde11.pro\n% $ gplc orde11.pro\n% $ ./orde11\n\n:- initialization(main).\n:- include(solver).\n\njudge(_, Expected, Expected) :-\n  write(.),\n  !.\njudge(Input, Expected, Actual) :-\n  format(\"~ninput    ~s~nexpected ~s~nactual   ~s~n\", [Input, Expected, Actual]).\n\ntest(Input, Expected) :-\n  solve(Input, Actual),\n  judge(Input, Expected, Actual).\n\nmain :-\n  test(\"50:6,3\", \"1\"),\n  test(\"98:5,11\", \"4\"),\n  test(\"1000:33,20\", \"7\"),\n  test(\"514:9,18\", \"8\"),\n  test(\"961:5,4\", \"3\"),\n  test(\"1369:1369,3\", \"2\"),\n  test(\"258:16,12\", \"5\"),\n  test(\"235:13,3\", \"2\"),\n  test(\"1096:19,17\", \"8\"),\n  test(\"847:7,17\", \"6\"),\n  test(\"1932:3,5\", \"2\"),\n  test(\"2491:4,8\", \"3\"),\n  test(\"840:421,36\", \"2\"),\n  test(\"1430:37,111\", \"3\"),\n  test(\"496:17,9\", \"2\"),\n  test(\"891:6,10\", \"1\"),\n  test(\"1560:196,21\", \"2\"),\n  test(\"516:20,12\", \"5\"),\n  test(\"696:30,59\", \"2\"),\n  test(\"1760:5,441\", \"2\"),\n  test(\"1736:11,26\", \"5\"),\n  test(\"1518:17,34\", \"4\"),\n  test(\"806:63,16\", \"5\"),\n  test(\"1920:3,97\", \"2\"),\n  test(\"1150:13,22\", \"4\"),\n  test(\"920:116,5\", \"1\"),\n  test(\"2016:7,337\", \"2\"),\n  test(\"408:9,25\", \"2\"),\n  test(\"735:36,8\", \"2\"),\n  test(\"470:5,31\", \"2\"),\n  test(\"2100:12,351\", \"3\"),\n  test(\"870:36,10\", \"1\"),\n  test(\"1512:253,13\", \"2\"),\n  test(\"697:12,15\", \"3\"),\n  test(\"1224:5,14\", \"2\"),\n  test(\"986:125,17\", \"3\"),\n  test(\"864:12,13\", \"3\"),\n  test(\"500:21,51\", \"2\"),\n  test(\"819:33,21\", \"4\"),\n  test(\"594:55,3\", \"2\"),\n  test(\"638:17,24\", \"3\"),\n  nl,\n  halt.\n```\n\nGNU-Prolog \u306e\u30b3\u30f3\u30d1\u30a4\u30e9 `gplc` \u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\u3067\u304d\u305f\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n$ gplc orde11.pro\n$ ./orde11\n```\n", "tags": ["\u3069\u3046\u66f8\u304f", "Prolog"]}