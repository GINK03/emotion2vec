{"tags": ["QRNN", "DeepLearning", "\u6df1\u5c64\u5b66\u7fd2", "CNN", "\u6642\u7cfb\u5217\u89e3\u6790"], "context": "QRNN\u30e2\u30c7\u30eb \u306e \u624b\u7fd2\u3044\u307e\u3067\u3001\u307e\u305a\u306f\u30b5\u30f3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb \u3092 \u305d\u306e\u307e\u307e \u5b9f\u884c\u3057\u3066\u307f\u308b\u3002\n\u3046\u307e\u304f\u52d5\u304f\u3053\u3068 \u304c \u78ba\u8a8d\u3067\u304d\u305f \u306e\u3067\u3001\u30b3\u30fc\u30c9\u30fb\u30ea\u30fc\u30c7\u30a3\u30f3\u30b0 \u3092 \u3057\u3066\u3001\u5c11\u3057\u305a\u3064\u30b3\u30fc\u30c9 \u3092 \u6539\u9020\u3057\u3066 \u4ed6\u306e\u30bf\u30b9\u30af \u306b \u5c55\u958b\u3057\u3066\u3044\u304d\u305f\u3044\u3002\n\n\nGitHub github.com/DingKe/qrnn\n\n\n\ngit clone \u3057\u3066 qrnn \u306e keras\u5b9f\u88c5\u30b9\u30af\u30ea\u30d7\u30c8 \u3092 \u53d6\u5f97\n\n\nPython 3.5.1 (anaconda3-2.5.0)\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ git clone https://github.com/DingKe/qrnn.git\nCloning into 'qrnn'...\nremote: Counting objects: 19, done.\nremote: Compressing objects: 100% (11/11), done.\nremote: Total 19 (delta 7), reused 19 (delta 7), pack-reused 0\nUnpacking objects: 100% (19/19), done.\nChecking connectivity... done.\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$\n\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab \u3092 \u78ba\u8a8d\n\n\nPython 3.5.1 (anaconda3-2.5.0)\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ ls qrnn\nLICENSE     README.md   imbd_qrnn.py    qrnn.py\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ \n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ ls | grep qrnn\nqrnn\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$\n\n\n\uff08 Python \u30d0\u30fc\u30b8\u30e7\u30f3 \uff09\n\nPython 3.5.1 (anaconda3-2.5.0)\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ python --version\nPython 3.5.1 :: Anaconda 2.5.0 (x86_64)\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ \n\n\n\n\u5b9f\u884c\n\n\npython qrnn/imbd_qrnn.py\n\n\nPython 3.5.1 (anaconda3-2.5.0)\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ python qrnn/imbd_qrnn.py\nUsing TensorFlow backend.\nLoading data...\nDownloading data from https://s3.amazonaws.com/text-datasets/imdb_full.pkl\n25000 train sequences\n25000 test sequences\nPad sequences (samples x time)\nX_train shape: (25000, 80)\nX_test shape: (25000, 80)\nBuild model...\n/Users/hirofumiyashima/.pyenv/versions/anaconda3-2.5.0/lib/python3.5/site-packages/keras/engine/topology.py:379: UserWarning: The `regularizers` property of layers/models is deprecated. Regularization losses are now managed via the `losses` layer/model property.\n  warnings.warn('The `regularizers` property of layers/models '\n/Users/hirofumiyashima/.pyenv/versions/anaconda3-2.5.0/lib/python3.5/site-packages/keras/regularizers.py:18: UserWarning: The `set_param` method on regularizers is deprecated. It no longer does anything, and it will be removed after 06/2017.\n  warnings.warn('The `set_param` method on regularizers is deprecated. '\n/Users/hirofumiyashima/.pyenv/versions/anaconda3-2.5.0/lib/python3.5/site-packages/keras/engine/topology.py:371: UserWarning: The `regularizers` property of layers/models is deprecated. Regularization losses are now managed via the `losses` layer/model property.\n  warnings.warn('The `regularizers` property of '\nTrain...\n/Users/hirofumiyashima/.pyenv/versions/anaconda3-2.5.0/lib/python3.5/site-packages/tensorflow/python/ops/gradients_impl.py:91: UserWarning: Converting sparse IndexedSlices to a dense Tensor of unknown shape. This may consume a large amount of memory.\n  \"Converting sparse IndexedSlices to a dense Tensor of unknown shape. \"\nTrain on 25000 samples, validate on 25000 samples\nEpoch 1/15\n25000/25000 [==============================] - 402s - loss: 0.6226 - acc: 0.6344 - val_loss: 0.5796 - val_acc: 0.6784\nEpoch 2/15\n25000/25000 [==============================] - 457s - loss: 0.5278 - acc: 0.7322 - val_loss: 0.5823 - val_acc: 0.6883\nEpoch 3/15\n25000/25000 [==============================] - 440s - loss: 0.4286 - acc: 0.7940 - val_loss: 0.5821 - val_acc: 0.7289\nEpoch 4/15\n25000/25000 [==============================] - 439s - loss: 0.3238 - acc: 0.8555 - val_loss: 0.5775 - val_acc: 0.7606\nEpoch 5/15\n25000/25000 [==============================] - 452s - loss: 0.2360 - acc: 0.8997 - val_loss: 0.5913 - val_acc: 0.7767\nEpoch 6/15\n25000/25000 [==============================] - 441s - loss: 0.1840 - acc: 0.9276 - val_loss: 0.6589 - val_acc: 0.7769\nEpoch 7/15\n25000/25000 [==============================] - 489s - loss: 0.1482 - acc: 0.9422 - val_loss: 0.6906 - val_acc: 0.7780\nEpoch 8/15\n25000/25000 [==============================] - 482s - loss: 0.1230 - acc: 0.9522 - val_loss: 0.7406 - val_acc: 0.7770\nEpoch 9/15\n25000/25000 [==============================] - 732s - loss: 0.1122 - acc: 0.9585 - val_loss: 0.7646 - val_acc: 0.7768\nEpoch 10/15\n25000/25000 [==============================] - 494s - loss: 0.1021 - acc: 0.9622 - val_loss: 0.7702 - val_acc: 0.7764\nEpoch 11/15\n25000/25000 [==============================] - 463s - loss: 0.0868 - acc: 0.9678 - val_loss: 0.8118 - val_acc: 0.7784\nEpoch 12/15\n25000/25000 [==============================] - 469s - loss: 0.0759 - acc: 0.9722 - val_loss: 0.8471 - val_acc: 0.7775\nEpoch 13/15\n25000/25000 [==============================] - 492s - loss: 0.0708 - acc: 0.9741 - val_loss: 0.8508 - val_acc: 0.7782\nEpoch 14/15\n25000/25000 [==============================] - 488s - loss: 0.0655 - acc: 0.9762 - val_loss: 0.8664 - val_acc: 0.7826\nEpoch 15/15\n25000/25000 [==============================] - 467s - loss: 0.0643 - acc: 0.9762 - val_loss: 0.8834 - val_acc: 0.7817\n25000/25000 [==============================] - 102s    \nTest score: 0.883422199111\nTest accuracy: 0.78172\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ \n\n\nQRNN\u30e2\u30c7\u30eb \u306e \u624b\u7fd2\u3044\u307e\u3067\u3001\u307e\u305a\u306f\u30b5\u30f3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb \u3092 \u305d\u306e\u307e\u307e \u5b9f\u884c\u3057\u3066\u307f\u308b\u3002\n\n\u3046\u307e\u304f\u52d5\u304f\u3053\u3068 \u304c \u78ba\u8a8d\u3067\u304d\u305f \u306e\u3067\u3001\u30b3\u30fc\u30c9\u30fb\u30ea\u30fc\u30c7\u30a3\u30f3\u30b0 \u3092 \u3057\u3066\u3001\u5c11\u3057\u305a\u3064\u30b3\u30fc\u30c9 \u3092 \u6539\u9020\u3057\u3066 \u4ed6\u306e\u30bf\u30b9\u30af \u306b \u5c55\u958b\u3057\u3066\u3044\u304d\u305f\u3044\u3002\n\n___\n\n* [GitHub github.com/DingKe/qrnn](https://github.com/DingKe/qrnn)\n\n<img width=\"1213\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-02-22 22.49.31.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/43487/d242781f-d186-10e1-21d3-331510097045.png\">\n\n\n###__git clone \u3057\u3066 qrnn \u306e keras\u5b9f\u88c5\u30b9\u30af\u30ea\u30d7\u30c8 \u3092 \u53d6\u5f97__\n\n```{python:Python 3.5.1 (anaconda3-2.5.0)}\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ git clone https://github.com/DingKe/qrnn.git\nCloning into 'qrnn'...\nremote: Counting objects: 19, done.\nremote: Compressing objects: 100% (11/11), done.\nremote: Total 19 (delta 7), reused 19 (delta 7), pack-reused 0\nUnpacking objects: 100% (19/19), done.\nChecking connectivity... done.\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$\n```\n\n####__\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab \u3092 \u78ba\u8a8d__\n\n```{python:Python 3.5.1 (anaconda3-2.5.0)} \n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ ls qrnn\nLICENSE\t\tREADME.md\timbd_qrnn.py\tqrnn.py\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ \n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ ls | grep qrnn\nqrnn\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$\n```\n\n__\uff08 Python \u30d0\u30fc\u30b8\u30e7\u30f3 \uff09__\n\n```{python:Python 3.5.1 (anaconda3-2.5.0)} \n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ python --version\nPython 3.5.1 :: Anaconda 2.5.0 (x86_64)\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ \n```\n\n###__\u5b9f\u884c__\n\n> python qrnn/imbd_qrnn.py\n\n```{python:Python 3.5.1 (anaconda3-2.5.0)}\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ python qrnn/imbd_qrnn.py\nUsing TensorFlow backend.\nLoading data...\nDownloading data from https://s3.amazonaws.com/text-datasets/imdb_full.pkl\n25000 train sequences\n25000 test sequences\nPad sequences (samples x time)\nX_train shape: (25000, 80)\nX_test shape: (25000, 80)\nBuild model...\n/Users/hirofumiyashima/.pyenv/versions/anaconda3-2.5.0/lib/python3.5/site-packages/keras/engine/topology.py:379: UserWarning: The `regularizers` property of layers/models is deprecated. Regularization losses are now managed via the `losses` layer/model property.\n  warnings.warn('The `regularizers` property of layers/models '\n/Users/hirofumiyashima/.pyenv/versions/anaconda3-2.5.0/lib/python3.5/site-packages/keras/regularizers.py:18: UserWarning: The `set_param` method on regularizers is deprecated. It no longer does anything, and it will be removed after 06/2017.\n  warnings.warn('The `set_param` method on regularizers is deprecated. '\n/Users/hirofumiyashima/.pyenv/versions/anaconda3-2.5.0/lib/python3.5/site-packages/keras/engine/topology.py:371: UserWarning: The `regularizers` property of layers/models is deprecated. Regularization losses are now managed via the `losses` layer/model property.\n  warnings.warn('The `regularizers` property of '\nTrain...\n/Users/hirofumiyashima/.pyenv/versions/anaconda3-2.5.0/lib/python3.5/site-packages/tensorflow/python/ops/gradients_impl.py:91: UserWarning: Converting sparse IndexedSlices to a dense Tensor of unknown shape. This may consume a large amount of memory.\n  \"Converting sparse IndexedSlices to a dense Tensor of unknown shape. \"\nTrain on 25000 samples, validate on 25000 samples\nEpoch 1/15\n25000/25000 [==============================] - 402s - loss: 0.6226 - acc: 0.6344 - val_loss: 0.5796 - val_acc: 0.6784\nEpoch 2/15\n25000/25000 [==============================] - 457s - loss: 0.5278 - acc: 0.7322 - val_loss: 0.5823 - val_acc: 0.6883\nEpoch 3/15\n25000/25000 [==============================] - 440s - loss: 0.4286 - acc: 0.7940 - val_loss: 0.5821 - val_acc: 0.7289\nEpoch 4/15\n25000/25000 [==============================] - 439s - loss: 0.3238 - acc: 0.8555 - val_loss: 0.5775 - val_acc: 0.7606\nEpoch 5/15\n25000/25000 [==============================] - 452s - loss: 0.2360 - acc: 0.8997 - val_loss: 0.5913 - val_acc: 0.7767\nEpoch 6/15\n25000/25000 [==============================] - 441s - loss: 0.1840 - acc: 0.9276 - val_loss: 0.6589 - val_acc: 0.7769\nEpoch 7/15\n25000/25000 [==============================] - 489s - loss: 0.1482 - acc: 0.9422 - val_loss: 0.6906 - val_acc: 0.7780\nEpoch 8/15\n25000/25000 [==============================] - 482s - loss: 0.1230 - acc: 0.9522 - val_loss: 0.7406 - val_acc: 0.7770\nEpoch 9/15\n25000/25000 [==============================] - 732s - loss: 0.1122 - acc: 0.9585 - val_loss: 0.7646 - val_acc: 0.7768\nEpoch 10/15\n25000/25000 [==============================] - 494s - loss: 0.1021 - acc: 0.9622 - val_loss: 0.7702 - val_acc: 0.7764\nEpoch 11/15\n25000/25000 [==============================] - 463s - loss: 0.0868 - acc: 0.9678 - val_loss: 0.8118 - val_acc: 0.7784\nEpoch 12/15\n25000/25000 [==============================] - 469s - loss: 0.0759 - acc: 0.9722 - val_loss: 0.8471 - val_acc: 0.7775\nEpoch 13/15\n25000/25000 [==============================] - 492s - loss: 0.0708 - acc: 0.9741 - val_loss: 0.8508 - val_acc: 0.7782\nEpoch 14/15\n25000/25000 [==============================] - 488s - loss: 0.0655 - acc: 0.9762 - val_loss: 0.8664 - val_acc: 0.7826\nEpoch 15/15\n25000/25000 [==============================] - 467s - loss: 0.0643 - acc: 0.9762 - val_loss: 0.8834 - val_acc: 0.7817\n25000/25000 [==============================] - 102s    \nTest score: 0.883422199111\nTest accuracy: 0.78172\n(anaconda3-2.5.0) HirofumiYashima-no-MacBook:examples hirofumiyashima$ \n```\n"}