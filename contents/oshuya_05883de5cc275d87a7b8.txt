{"tags": ["Crowi", "CentOS6.x", "Elasticsearch", "kuromoji"], "context": "\n\nCrowi\u3067\u691c\u7d22\u3092\u6709\u52b9\u5316\u3059\u308b\nCrowi\u30b7\u30ea\u30fc\u30ba\u306e\uff13\u672c\u76ee\u3067\u3042\u308b\u3002\n\nCrowi\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b(CentOS 6.8)\nCrowi\u3067GoogleApps\u3067\u306e\u30ed\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u5316\u3059\u308b\n\nversion1.5.0\u304b\u3089\u5b9f\u88c5\u3055\u308c\u305f\u691c\u7d22\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u3002\n\n\u74b0\u5883\n\nCentOS 6.8\nJava 1.7 (1.6\u3067\u52d5\u304b\u305d\u3046\u3068\u3057\u3066\u5931\u6557\u3057\u305f)\nCrowi v1.5.0\n\n\nElasticsearch\u3092\u5c0e\u5165\u3059\u308b\n\u691c\u7d22\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u306b\u306fElasticserach\u304c\u5fc5\u8981\u3060\u305d\u3046\u306a\u306e\u3067\u3053\u308c\u3092\u5c0e\u5165\u3059\u308b\u3002 \n\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\n\nyum\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\n$ rpm --import https://packages.elastic.co/GPG-KEY-elasticsearch\n\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u63db\u3048\u308b\n\n\n/etc/yum.repos.d/elasticsearch.repo\n[elasticsearch-2.x]\nname=Elasticsearch repository for 2.x packages\nbaseurl=http://packages.elastic.co/elasticsearch/2.x/centos\ngpgcheck=1\ngpgkey=http://packages.elastic.co/GPG-KEY-elasticsearch\nenabled=1\n\n\n\n\u30a4\u30f3\u30c8\u30fc\u30eb\n$ yum install elasticsearch \n\u65e5\u672c\u8a9e\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306banalysis-kuromoji\u3092\u3044\u308c\u308b \u3053\u3053\u3067\u3064\u307e\u308b\n\n$ cd /usr/share/elasticsearch\n$ bin/plugin install analysis-kuromoji\n\n\njava\u304c1.7\u4ee5\u4e0a\u3058\u3083\u306a\u3044\u3068\u52d5\u304b\u306a\u3044\u3089\u3057\u3044\n$ yum install java-1.7.0-openjdk\n\u3082\u3063\u304b\u3044kuromoji\u3092\u3044\u308c\u308b\n$ bin/plugin install analysis-kuromoji\nElasticsearch\u3092\u518d\u8d77\u52d5\n$ /etc/init.d/elasticsearch start\n\u81ea\u52d5\u8d77\u52d5\u3092\u8a2d\u5b9a\u3059\u308b\n$ chkconfig --add elasticsearch\n\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\n/etc/elasticsearch/elasticsearch.yml\u3092\u66f8\u304d\u63db\u3048\u308b  \n\n\n/etc/elasticsearch/elasticsearch.yml\n # network.host: 192.168.0.1\nnetwork.host: YOURIP\n\n\n\n\u66f8\u304d\u63db\u3048\u305f\u3089\u30ea\u30b9\u30bf\u30fc\u30c8\u3092\u5fd8\u308c\u305a\u306b\n$ /etc/init.d/elasticsearch restart\nElasticsearch\u3068kuromoji\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u3059\u308b\nElasticsearch\n\n\nElasticsearch\n$ curl 'http://YOURIP:9200/'      \n{\n  \"name\" : \"Gosamyr\",\n  \"cluster_name\" : \"elasticsearch\",\n  \"cluster_uuid\" : \"RT6I6Z3JSliJ_UZdSkvcnQ\",\n  \"version\" : {\n    \"number\" : \"2.4.1\",\n    \"build_hash\" : \"c67dc32e24162035d18d6fe1e952c4cbcbe79d16\",\n    \"build_timestamp\" : \"2016-09-27T18:57:55Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"5.5.2\"\n  },\n  \"tagline\" : \"You Know, for Search\"\n}\n\n\nkuromoji\n\nkuromoji\n $ curl -X GET 'http://YOURIP:9200/_nodes/plugins?pretty'\n{\n  \"cluster_name\" : \"elasticsearch\",\n  \"nodes\" : {\n    \"q7PccHeCTLGVDhJ5Pd34Gg\" : {\n      \"name\" : \"Gosamyr\",\n      \"transport_address\" : \"160.16.125.226:9300\",\n      \"host\" : \"160.16.125.226\",\n      \"ip\" : \"160.16.125.226\",\n      \"version\" : \"2.4.1\",\n      \"build\" : \"c67dc32\",\n      \"http_address\" : \"160.16.125.226:9200\",\n      \"plugins\" : [ {\n        \"name\" : \"analysis-kuromoji\",\n        \"version\" : \"2.4.1\",\n        \"description\" : \"The Japanese (kuromoji) Analysis plugin integrates Lucene kuromoji analysis module into elasticsearch.\",\n        \"jvm\" : true,\n        \"classname\" : \"org.elasticsearch.plugin.analysis.kuromoji.AnalysisKuromojiPlugin\",\n        \"isolated\" : true,\n        \"site\" : false\n      } ],\n      \"modules\" : [ {\n        \"name\" : \"lang-expression\",\n        \"version\" : \"2.4.1\",\n        \"description\" : \"Lucene expressions integration for Elasticsearch\",\n        \"jvm\" : true,\n        \"classname\" : \"org.elasticsearch.script.expression.ExpressionPlugin\",\n        \"isolated\" : true,\n        \"site\" : false\n      }, {\n        \"name\" : \"lang-groovy\",\n        \"version\" : \"2.4.1\",\n        \"description\" : \"Groovy scripting integration for Elasticsearch\",\n        \"jvm\" : true,\n        \"classname\" : \"org.elasticsearch.script.groovy.GroovyPlugin\",\n        \"isolated\" : true,\n        \"site\" : false\n      }, {\n        \"name\" : \"reindex\",\n        \"version\" : \"2.4.1\",\n        \"description\" : \"_reindex and _update_by_query APIs\",\n        \"jvm\" : true,\n        \"classname\" : \"org.elasticsearch.index.reindex.ReindexPlugin\",\n        \"isolated\" : true,\n        \"site\" : false\n      } ]\n    }\n  }\n}\n\n\n\ncrowi\u5074\u3067\u8aad\u307e\u305b\u308b\n\n\n/etc/sysconfig/crowi\nELASTICSEARCH_URI=http://YOURIP:9200\n\n\n\nCrowi\u5074\u306e\u8a2d\u5b9a\n\u79d2\u3067\u304a\u308f\u308b\n1. forever start app.js\n2. Crowi\u306eGUI\u304b\u3089\"\u7ba1\u7406\" -> \"\u691c\u7d22\u7ba1\u7406\" -> \"Build Now\"\n\u5b8c\u6210 \n\n\n\u53c2\u8003\nElasticsearch \u3092 yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (CentOS)\nCrowi v1.5.0 \u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u307f\u305f\n# Crowi\u3067\u691c\u7d22\u3092\u6709\u52b9\u5316\u3059\u308b\nCrowi\u30b7\u30ea\u30fc\u30ba\u306e\uff13\u672c\u76ee\u3067\u3042\u308b\u3002\n\n1. [Crowi\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b(CentOS 6.8)](http://qiita.com/oshuya/items/bd12cd40d4ba49c3f00b)\n1. [Crowi\u3067GoogleApps\u3067\u306e\u30ed\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u5316\u3059\u308b](http://qiita.com/oshuya/items/5b8a5cebd2600b8f4348)\n\nversion1.5.0\u304b\u3089\u5b9f\u88c5\u3055\u308c\u305f\u691c\u7d22\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u3002\n\n# \u74b0\u5883\n- CentOS 6.8\n- Java 1.7 (1.6\u3067\u52d5\u304b\u305d\u3046\u3068\u3057\u3066\u5931\u6557\u3057\u305f)\n- Crowi v1.5.0\n\n## Elasticsearch\u3092\u5c0e\u5165\u3059\u308b\n\u691c\u7d22\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u306b\u306fElasticserach\u304c\u5fc5\u8981\u3060\u305d\u3046\u306a\u306e\u3067\u3053\u308c\u3092\u5c0e\u5165\u3059\u308b\u3002 \n\n### \u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\n1. yum\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\n```$ rpm --import https://packages.elastic.co/GPG-KEY-elasticsearch```\n\n1. \u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\u3092\u66f8\u304d\u63db\u3048\u308b\n\n```:/etc/yum.repos.d/elasticsearch.repo\n[elasticsearch-2.x]\nname=Elasticsearch repository for 2.x packages\nbaseurl=http://packages.elastic.co/elasticsearch/2.x/centos\ngpgcheck=1\ngpgkey=http://packages.elastic.co/GPG-KEY-elasticsearch\nenabled=1\n```\n\n- \u30a4\u30f3\u30c8\u30fc\u30eb\n```$ yum install elasticsearch``` \n\n- \u65e5\u672c\u8a9e\u5bfe\u5fdc\u3059\u308b\u305f\u3081\u306banalysis-kuromoji\u3092\u3044\u308c\u308b **\u3053\u3053\u3067\u3064\u307e\u308b**\n\n```\n$ cd /usr/share/elasticsearch\n$ bin/plugin install analysis-kuromoji\n```\n\n- java\u304c1.7\u4ee5\u4e0a\u3058\u3083\u306a\u3044\u3068\u52d5\u304b\u306a\u3044[\u3089\u3057\u3044](https://github.com/elastic/elasticsearch/issues/10259)\n```$ yum install java-1.7.0-openjdk```\n\n- \u3082\u3063\u304b\u3044kuromoji\u3092\u3044\u308c\u308b\n```$ bin/plugin install analysis-kuromoji```\n\n- Elasticsearch\u3092\u518d\u8d77\u52d5\n```$ /etc/init.d/elasticsearch start```\n\n- \u81ea\u52d5\u8d77\u52d5\u3092\u8a2d\u5b9a\u3059\u308b\n```$ chkconfig --add elasticsearch```\n\n- \u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\n/etc/elasticsearch/elasticsearch.yml\u3092\u66f8\u304d\u63db\u3048\u308b  \n\n```:/etc/elasticsearch/elasticsearch.yml\n # network.host: 192.168.0.1\nnetwork.host: YOURIP\n```\n\n- \u66f8\u304d\u63db\u3048\u305f\u3089\u30ea\u30b9\u30bf\u30fc\u30c8\u3092\u5fd8\u308c\u305a\u306b\n```$ /etc/init.d/elasticsearch restart```\n\n\n- Elasticsearch\u3068kuromoji\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u3059\u308b\nElasticsearch\n\n```:Elasticsearch\n$ curl 'http://YOURIP:9200/'      \n{\n  \"name\" : \"Gosamyr\",\n  \"cluster_name\" : \"elasticsearch\",\n  \"cluster_uuid\" : \"RT6I6Z3JSliJ_UZdSkvcnQ\",\n  \"version\" : {\n    \"number\" : \"2.4.1\",\n    \"build_hash\" : \"c67dc32e24162035d18d6fe1e952c4cbcbe79d16\",\n    \"build_timestamp\" : \"2016-09-27T18:57:55Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"5.5.2\"\n  },\n  \"tagline\" : \"You Know, for Search\"\n}\n```\n\nkuromoji\n\n```:kuromoji\n $ curl -X GET 'http://YOURIP:9200/_nodes/plugins?pretty'\n{\n  \"cluster_name\" : \"elasticsearch\",\n  \"nodes\" : {\n    \"q7PccHeCTLGVDhJ5Pd34Gg\" : {\n      \"name\" : \"Gosamyr\",\n      \"transport_address\" : \"160.16.125.226:9300\",\n      \"host\" : \"160.16.125.226\",\n      \"ip\" : \"160.16.125.226\",\n      \"version\" : \"2.4.1\",\n      \"build\" : \"c67dc32\",\n      \"http_address\" : \"160.16.125.226:9200\",\n      \"plugins\" : [ {\n        \"name\" : \"analysis-kuromoji\",\n        \"version\" : \"2.4.1\",\n        \"description\" : \"The Japanese (kuromoji) Analysis plugin integrates Lucene kuromoji analysis module into elasticsearch.\",\n        \"jvm\" : true,\n        \"classname\" : \"org.elasticsearch.plugin.analysis.kuromoji.AnalysisKuromojiPlugin\",\n        \"isolated\" : true,\n        \"site\" : false\n      } ],\n      \"modules\" : [ {\n        \"name\" : \"lang-expression\",\n        \"version\" : \"2.4.1\",\n        \"description\" : \"Lucene expressions integration for Elasticsearch\",\n        \"jvm\" : true,\n        \"classname\" : \"org.elasticsearch.script.expression.ExpressionPlugin\",\n        \"isolated\" : true,\n        \"site\" : false\n      }, {\n        \"name\" : \"lang-groovy\",\n        \"version\" : \"2.4.1\",\n        \"description\" : \"Groovy scripting integration for Elasticsearch\",\n        \"jvm\" : true,\n        \"classname\" : \"org.elasticsearch.script.groovy.GroovyPlugin\",\n        \"isolated\" : true,\n        \"site\" : false\n      }, {\n        \"name\" : \"reindex\",\n        \"version\" : \"2.4.1\",\n        \"description\" : \"_reindex and _update_by_query APIs\",\n        \"jvm\" : true,\n        \"classname\" : \"org.elasticsearch.index.reindex.ReindexPlugin\",\n        \"isolated\" : true,\n        \"site\" : false\n      } ]\n    }\n  }\n}\n```\n\n\n- crowi\u5074\u3067\u8aad\u307e\u305b\u308b\n\n```:/etc/sysconfig/crowi \nELASTICSEARCH_URI=http://YOURIP:9200\n```\n\n## Crowi\u5074\u306e\u8a2d\u5b9a\n\u79d2\u3067\u304a\u308f\u308b\n1. ```forever start app.js```\n2. Crowi\u306eGUI\u304b\u3089\"\u7ba1\u7406\" -> \"\u691c\u7d22\u7ba1\u7406\" -> \"Build Now\"\n\n**\u5b8c\u6210** \n<img width=\"577\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-10-31 18.25.22.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/114861/563e3e4e-b1a5-9d2d-f651-df898ad95baa.png\">\n\n\n\n# \u53c2\u8003\n[Elasticsearch \u3092 yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (CentOS)](http://qiita.com/inouet/items/6276c5a08c4fe5eecdb5)\n[Crowi v1.5.0 \u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u307f\u305f](http://www.kunitake.org/chalow/2016-09-06-1.html)\n"}