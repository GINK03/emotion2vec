{"context": " More than 1 year has passed since last update.AWS S3 + CloudFront \u3067\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30e0\u306e\u7d9a\u304d\u3067\u3059\u3002\niPhone \u3084 iPad \u304c\u4f7f\u7528\u3057\u3066\u3044\u308biOS\u3067\u306f\u3001RTMP\u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u5bfe\u5fdc\u3092\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u7c21\u5358\u306b\u306f\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30e0\u304c\u51fa\u6765\u306a\u3044\u3088\u3046\u3067\u3059\u3002\nFMS(Flash Media Server)\u3067\u306f\u3001\u52d5\u7684\u306biOS\u5411\u3051\u306b\u3001HTTP(S)\u901a\u4fe1\u3092\u7528\u3044\u3066\u914d\u4fe1\u3092\u884c\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\u3053\u3053\u3067\u306fHTTP Live Streaming\uff08HLS\uff09\u3068\u3044\u3046Apple\u304c\u63d0\u5531\u3057\u305f\u4f01\u753b\u3092\u7528\u3044\u307e\u3059\u3002\n\u5404\u30b5\u30a4\u30c8\u306b\u53c2\u8003\u60c5\u5831\u304c\u51fa\u3066\u3044\u308b\u306e\u3092\u898b\u306a\u304c\u3089\u307e\u3068\u3081\u3066\u4ee5\u4e0b\u306e\u4f5c\u696d\u3092\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4f5c\u696d\u5185\u5bb9\n\nAmazon Elastic Transcoder \u3092\u7528\u3044\u3066iOS\u7528\u306e\u52d5\u753b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\n\n\nS3\u306e\u30d0\u30b1\u30c3\u30c8\u3092\uff12\u3064\u6e96\u5099\n\u5909\u63db\u306e\u8a2d\u5b9a\n\n\n\u5909\u63db\u5f8c\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u751f\n\n\nCloudFront\u306e\u8a2d\u5b9a\nHTML\u306b\u57cb\u8fbc\u307f\n\n\n\n\nAmazon Elastic Transcoder\n\nS3\u30d0\u30b1\u30c3\u30c8\u6e96\u5099\n\n\u5909\u63db\u524d\u306e\u52d5\u753b\u3092\u4fdd\u5b58\u3059\u308b\u30d0\u30b1\u30c3\u30c8(\"c2-video-test-in\" \u3068\u3057\u305f)\n\n\nLifecycle\u8a2d\u5b9a\u3067\u3001\uff11\u65e5\u5f8c\u306b\"Permanently Delete\"\u3092\u5b9f\u65bd\n\n\n\u5909\u63db\u5f8c\u306e\u52d5\u753b\u3092\u4fdd\u5b58\u3059\u308b\u30d0\u30b1\u30c3\u30c8(\u65e2\u5b58\u306e \"c2-video-test\" \u3092\u4f7f\u3046)\n\u5909\u63db\u5f8c\u306e\u52d5\u753b\u3092\u4fdd\u5b58\u3059\u308b\u30d0\u30b1\u30c3\u30c8\u5185\u306b \"ios\" \u3068\u3044\u3046\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u3063\u305f\n\n\n\u5909\u63db\u306e\u8a2d\u5b9a\n\nCreate a new Pipeline\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\nCreate New Pipeline\n\n\nPipeline\u306e\u540d\u524d\u3092\u8a2d\u5b9a (c2-video-test-transcoder)\nInput Bucket\u306e\u8a2d\u5b9a (c2-video-test-in)\nOutput Backet\u306e\u8a2d\u5b9a (c2-video-test)\n\"Add Permission\u3092\u30af\u30ea\u30c3\u30af\u3057\" \u51fa\u529b\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092 \u300cAmazon S3 Group \u306e All Users \u306b open/download \u306e\u6a29\u9650\u3092\u5272\u308a\u5f53\u3066\u300d\nThumbnail\u3082\u540c\u69d8\u306b\u8a2d\u5b9a\n\n\nCreate New Job\n\n\nInput Key\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\nOutput Key Prefix\u306b\u306f\u3001\u30d5\u30a9\u30eb\u30c0\u3092\u8a18\u8ff0 \"ios/\"\nOutput details\n\n\nPreset: System Preset: HLS 400K\nSegment Duration: \"10\" \u3068\u3057\u305f\nOutput Key: \"hls_400_\" \u3068\u3057\u305f\nCreate Thumbnails: Yes\nThumbnail Filename Pattern: \"thumb\"\n\n\nPlaylist \u3068\u3057\u3066 Output \u3067\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\n\n\nMaster Playlist Name: \"index\"\u3068\u3057\u3066\u307f\u305f\n\n\n\n\n\n\n\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\nhttp://dev.classmethod.jp/references/amazon-elastic-transcoder-hls/\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u751f\n\nCloudFront\u306e\u8a2d\u5b9a\nHTTP(S)\u901a\u4fe1\u7528\u306b\u65b0\u898f\u306b\u6e96\u5099(Create Distribution)\ndelivery method: Web\nOrigin Domain Name: S3-c2-video-test\nDomain Name: dgk03b4kg3q7d.cloudfront.net\nLogging: On\nBucket for Logs: c2-video-test.streamlog\nLog Prefix: web-logs/\n\nHTML\u306b\u57cb\u8fbc\u307f\nVideo.js\u3092\u7528\u3044\u305f\u8a2d\u5b9a\n\nindex.html(source\u90e8\u5206\u306e\u307f)\n<source src=\"http://dgk03b4kg3q7d.cloudfront.net/ios/hls_400_.m3u8\"\n              type=\"application/x-mpegURL\" />\n\n\n\n\u95b2\u89a7\u7528\u30c6\u30b9\u30c8\u30b5\u30a4\u30c8URL\n\u524d\u56de\u540c\u69d8\u540c\u3058URL\u3067iOS\u304b\u3089\u306e\u95b2\u89a7\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nhttp://c2-video-test.s3-website-ap-northeast-1.amazonaws.com/\n\nHTML\u30d5\u30a1\u30a4\u30eb(\u5168\u3066)\n\nindex.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u30c6\u30b9\u30c8</title>\n\n    <!-- Latest compiled and minified CSS -->\n    <link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css\">\n    <!-- Optional theme -->\n    <link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css\">\n    <!-- Latest compiled and minified JavaScript -->\n    <script src=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js\"></script>\n\n    <link href=\"//vjs.zencdn.net/4.6/video-js.css\" rel=\"stylesheet\">\n    <script src=\"//vjs.zencdn.net/4.6/video.js\"></script>\n\n</head>\n<body>\n<nav class=\"navbar navbar-default\" role=\"navigation\">\n    <div class=\"container-fluid\">\n        <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul class=\"nav navbar-nav\">\n                <li class=\"active\"><a href=\"/\">Home</a></li>\n                <li><a class=\"glyphicon glyphicon-home\" href=\"http://www.cmscom.jp\">CMScom</a></li>\n            </ul>\n        </div>\n    </div>\n</nav>\n<header><div class=\"jumbotron\"><h1>\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u30c6\u30b9\u30c8</h1></div></header>\n<article>\n    <div class=\"panel panel-default\">\n      <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">\u53f0\u6e7e\u3067\u306e\u767a\u8868</h3>\n      </div>\n      <div class=\"panel-body\">\n        <video id=\"example_video_1\" class=\"video-js vjs-default-skin\"\n          controls preload=\"auto\" width=\"640\" height=\"264\"\n          data-setup='{\"example_option\":true}'>\n         <source src=\"rtmp://s2ev6wge2z2w04.cloudfront.net/cfx/st/&mp4:PyConAPACTW2014terada.mp4\"\n                    type='rtmp/mp4' />\n         <source src=\"http://dgk03b4kg3q7d.cloudfront.net/ios/hls_400_.m3u8\"\n                    type=\"application/x-mpegURL\" />\n         <p class=\"vjs-no-js\">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href=\"http://videojs.com/html5-video-support/\" target=\"_blank\">supports HTML5 video</a></p>\n        </video>\n\n      </div>\n    </div>\n    </article>\n<footer>\n    <div class=\"panel panel-default\">\n      <div class=\"panel-footer\">(c)2014 terapyon</div>\n    </div>\n</footer>\n</body>\n</html>\n\n\n\nTODO\n\n\u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u9806\u6b21\u5909\u63db\u3059\u308b\u65b9\u6cd5 (\u5f8c\u65e5boto\u3092\u4f7f\u3063\u3066\u81ea\u52d5\u7684\u306b\u884c\u3046\u8abf\u67fb\u3092\u884c\u3063\u305f http://qiita.com/terapyon/items/589acd22d1904a1b985b)\n\n[AWS S3 + CloudFront \u3067\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30e0](http://qiita.com/terapyon/items/b77ac981da790662e247 \"AWS S3 + CloudFront \u3067\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30e0\")\u306e\u7d9a\u304d\u3067\u3059\u3002\n\niPhone \u3084 iPad \u304c\u4f7f\u7528\u3057\u3066\u3044\u308biOS\u3067\u306f\u3001RTMP\u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u5bfe\u5fdc\u3092\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u7c21\u5358\u306b\u306f\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30e0\u304c\u51fa\u6765\u306a\u3044\u3088\u3046\u3067\u3059\u3002\nFMS(Flash Media Server)\u3067\u306f\u3001\u52d5\u7684\u306biOS\u5411\u3051\u306b\u3001HTTP(S)\u901a\u4fe1\u3092\u7528\u3044\u3066\u914d\u4fe1\u3092\u884c\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\u3053\u3053\u3067\u306fHTTP Live Streaming\uff08HLS\uff09\u3068\u3044\u3046Apple\u304c\u63d0\u5531\u3057\u305f\u4f01\u753b\u3092\u7528\u3044\u307e\u3059\u3002\n\n\u5404\u30b5\u30a4\u30c8\u306b\u53c2\u8003\u60c5\u5831\u304c\u51fa\u3066\u3044\u308b\u306e\u3092\u898b\u306a\u304c\u3089\u307e\u3068\u3081\u3066\u4ee5\u4e0b\u306e\u4f5c\u696d\u3092\u3057\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u4f5c\u696d\u5185\u5bb9\n\n- Amazon Elastic Transcoder \u3092\u7528\u3044\u3066iOS\u7528\u306e\u52d5\u753b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\n\t* S3\u306e\u30d0\u30b1\u30c3\u30c8\u3092\uff12\u3064\u6e96\u5099\n\t* \u5909\u63db\u306e\u8a2d\u5b9a\n- \u5909\u63db\u5f8c\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u751f\n\t* CloudFront\u306e\u8a2d\u5b9a\n\t* HTML\u306b\u57cb\u8fbc\u307f\n\n# Amazon Elastic Transcoder\n\n## S3\u30d0\u30b1\u30c3\u30c8\u6e96\u5099\n\n- \u5909\u63db\u524d\u306e\u52d5\u753b\u3092\u4fdd\u5b58\u3059\u308b\u30d0\u30b1\u30c3\u30c8(\"c2-video-test-in\" \u3068\u3057\u305f)\n\t* Lifecycle\u8a2d\u5b9a\u3067\u3001\uff11\u65e5\u5f8c\u306b\"Permanently Delete\"\u3092\u5b9f\u65bd\n- \u5909\u63db\u5f8c\u306e\u52d5\u753b\u3092\u4fdd\u5b58\u3059\u308b\u30d0\u30b1\u30c3\u30c8(\u65e2\u5b58\u306e \"c2-video-test\" \u3092\u4f7f\u3046)\n- \u5909\u63db\u5f8c\u306e\u52d5\u753b\u3092\u4fdd\u5b58\u3059\u308b\u30d0\u30b1\u30c3\u30c8\u5185\u306b \"ios\" \u3068\u3044\u3046\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u3063\u305f\n\n## \u5909\u63db\u306e\u8a2d\u5b9a\n\n- Create a new Pipeline\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\n- Create New Pipeline\n\t- Pipeline\u306e\u540d\u524d\u3092\u8a2d\u5b9a (c2-video-test-transcoder)\n\t- Input Bucket\u306e\u8a2d\u5b9a (c2-video-test-in)\n\t- Output Backet\u306e\u8a2d\u5b9a (c2-video-test)\n\t- \"Add Permission\u3092\u30af\u30ea\u30c3\u30af\u3057\" \u51fa\u529b\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092 \u300cAmazon S3 Group \u306e All Users \u306b open/download \u306e\u6a29\u9650\u3092\u5272\u308a\u5f53\u3066\u300d\n\t- Thumbnail\u3082\u540c\u69d8\u306b\u8a2d\u5b9a\n- Create New Job\n\t- Input Key\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\n\t- Output Key Prefix\u306b\u306f\u3001\u30d5\u30a9\u30eb\u30c0\u3092\u8a18\u8ff0 \"ios/\"\n\t- Output details\n\t\t* Preset: System Preset: HLS 400K\n\t\t* Segment Duration: \"10\" \u3068\u3057\u305f\n\t\t* Output Key: \"hls_400_\" \u3068\u3057\u305f\n\t\t* Create Thumbnails: Yes\n\t\t* Thumbnail Filename Pattern: \"thumb\"\n\t- Playlist \u3068\u3057\u3066 Output \u3067\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\n\t\t* Master Playlist Name: \"index\"\u3068\u3057\u3066\u307f\u305f\n\n## \u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\n\nhttp://dev.classmethod.jp/references/amazon-elastic-transcoder-hls/\n\n\n# \u30d5\u30a1\u30a4\u30eb\u3092\u518d\u751f\n\n## CloudFront\u306e\u8a2d\u5b9a\n\nHTTP(S)\u901a\u4fe1\u7528\u306b\u65b0\u898f\u306b\u6e96\u5099(Create Distribution)\ndelivery method: Web\nOrigin Domain Name: S3-c2-video-test\n\nDomain Name: dgk03b4kg3q7d.cloudfront.net\nLogging: On\nBucket for Logs: c2-video-test.streamlog\nLog Prefix: web-logs/\n\n## HTML\u306b\u57cb\u8fbc\u307f\n\nVideo.js\u3092\u7528\u3044\u305f\u8a2d\u5b9a\n\n```index.html(source\u90e8\u5206\u306e\u307f)\n<source src=\"http://dgk03b4kg3q7d.cloudfront.net/ios/hls_400_.m3u8\"\n              type=\"application/x-mpegURL\" />\n```\n\n# \u95b2\u89a7\u7528\u30c6\u30b9\u30c8\u30b5\u30a4\u30c8URL\n\u524d\u56de\u540c\u69d8\u540c\u3058URL\u3067iOS\u304b\u3089\u306e\u95b2\u89a7\u3082\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nhttp://c2-video-test.s3-website-ap-northeast-1.amazonaws.com/\n\n# HTML\u30d5\u30a1\u30a4\u30eb(\u5168\u3066)\n\n```index.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <title>\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u30c6\u30b9\u30c8</title>\n\n    <!-- Latest compiled and minified CSS -->\n    <link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css\">\n    <!-- Optional theme -->\n    <link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css\">\n    <!-- Latest compiled and minified JavaScript -->\n    <script src=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js\"></script>\n\n    <link href=\"//vjs.zencdn.net/4.6/video-js.css\" rel=\"stylesheet\">\n    <script src=\"//vjs.zencdn.net/4.6/video.js\"></script>\n\n</head>\n<body>\n<nav class=\"navbar navbar-default\" role=\"navigation\">\n    <div class=\"container-fluid\">\n        <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n            <ul class=\"nav navbar-nav\">\n                <li class=\"active\"><a href=\"/\">Home</a></li>\n                <li><a class=\"glyphicon glyphicon-home\" href=\"http://www.cmscom.jp\">CMScom</a></li>\n            </ul>\n        </div>\n    </div>\n</nav>\n<header><div class=\"jumbotron\"><h1>\u52d5\u753b\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u30c6\u30b9\u30c8</h1></div></header>\n<article>\n    <div class=\"panel panel-default\">\n      <div class=\"panel-heading\">\n        <h3 class=\"panel-title\">\u53f0\u6e7e\u3067\u306e\u767a\u8868</h3>\n      </div>\n      <div class=\"panel-body\">\n        <video id=\"example_video_1\" class=\"video-js vjs-default-skin\"\n          controls preload=\"auto\" width=\"640\" height=\"264\"\n          data-setup='{\"example_option\":true}'>\n         <source src=\"rtmp://s2ev6wge2z2w04.cloudfront.net/cfx/st/&mp4:PyConAPACTW2014terada.mp4\"\n                    type='rtmp/mp4' />\n         <source src=\"http://dgk03b4kg3q7d.cloudfront.net/ios/hls_400_.m3u8\"\n                    type=\"application/x-mpegURL\" />\n         <p class=\"vjs-no-js\">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href=\"http://videojs.com/html5-video-support/\" target=\"_blank\">supports HTML5 video</a></p>\n        </video>\n\n      </div>\n    </div>\n    </article>\n<footer>\n    <div class=\"panel panel-default\">\n      <div class=\"panel-footer\">(c)2014 terapyon</div>\n    </div>\n</footer>\n</body>\n</html>\n```\n\n\n# TODO\n\n- \u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u9806\u6b21\u5909\u63db\u3059\u308b\u65b9\u6cd5 (\u5f8c\u65e5boto\u3092\u4f7f\u3063\u3066\u81ea\u52d5\u7684\u306b\u884c\u3046\u8abf\u67fb\u3092\u884c\u3063\u305f http://qiita.com/terapyon/items/589acd22d1904a1b985b)\n\n", "tags": ["Stream", "AWS", "iOS", "ElasticTranscoder", "CloudFront"]}