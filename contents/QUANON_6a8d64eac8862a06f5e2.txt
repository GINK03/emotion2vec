{"context": " More than 1 year has passed since last update.\n\n \u76ee\u7684\nBackbone.js \u306e\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u884c\u3046\u305f\u3081\u306e\u74b0\u5883\u3092\u7528\u610f\u3059\u308b\u3002\n\n \u52d5\u6a5f\n\u50d5\u306f\u666e\u6bb5 Rails \u3092\u3088\u304f\u4f7f\u3046\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u307e\u3067 JavaScript \u306e\u5358\u4f53\u30c6\u30b9\u30c8\u3082\u66f8\u304b\u306a\u304d\u3083\u3068\u601d\u3044\u3064\u3064\u3001\u305a\u3063\u3068\u30b9\u30eb\u30fc\u3057\u7d9a\u3051\u3066\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u6700\u8fd1\u306f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b Backbone.js \u3084 Marionette.js \u3092\u4f7f\u3044\u3001\u8907\u96d1\u306a\u51e6\u7406\u3092\u66f8\u304f\u3053\u3068\u3082\u5897\u3048\u3066\u304d\u305f\u306e\u3067\u3001\u3064\u3044\u306b\u91cd\u3044\u8170\u3092\u4e0a\u3052\u3066 JavaScript \u306e\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\u307e\u305f Babel \u306e\u5c0e\u5165\u306b\u3088\u308a\u6a5f\u80fd\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u5206\u5272\u304c\u5bb9\u6613\u306b\u306a\u3063\u305f\u3053\u3068\u3082\u3001\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u66f8\u304d\u59cb\u3081\u3088\u3046\u3068\u601d\u3044\u7acb\u3063\u305f\u8981\u56e0\u306e\u3072\u3068\u3064\u3067\u3082\u3042\u308a\u307e\u3059\u3002\n\n \u4e3b\u306a\u30c4\u30fc\u30eb\n\n\n\n\u30c4\u30fc\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3\n\u8aac\u660e\n\n\n\n\n\nJasmine2.4.1\n\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u6700\u8fd1\u306f Mocha \u3092\u3088\u304f\u805e\u304d\u307e\u3059\u304c\u3001Google \u30c8\u30ec\u30f3\u30c9\u3067\u8abf\u3079\u305f\u3068\u3053\u308d Jasmine \u306e\u65b9\u304c\u4eba\u6c17\u304c\u3042\u308a\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306f\u3053\u3061\u3089\u3092\u63a1\u7528\u3057\u307e\u3057\u305f\u3002BDD (\u30d3\u30d8\u30a4\u30d3\u30a2\u99c6\u52d5\u958b\u767a) \u5f62\u5f0f\u3067\u3001RSpec \u4f7f\u3044\u306b\u306f\u6587\u6cd5\u304c\u975e\u5e38\u306b\u99b4\u67d3\u307f\u3084\u3059\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\njasmine-jquery2.1.1\nJasmine \u306e\u62e1\u5f35\u30c4\u30fc\u30eb\n\n\n\nKarma0.13.15\n\u30c6\u30b9\u30c8\u30e9\u30f3\u30ca\u30fc\u4efb\u610f\u306e\u30d6\u30e9\u30a6\u30b6\u30fc\u3067 JavaScript \u3092\u52d5\u304b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Backbone.View \u306e\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u969b\u306b DOM \u3092\u7d61\u3081\u305f\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n\n\nPhantomJS1.9.8\n\u30d6\u30e9\u30a6\u30b6\u30fc (\u30d8\u30c3\u30c9\u30ec\u30b9)Karma \u3067\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3059\u305f\u3081\u306e\u30d6\u30e9\u30a6\u30b6\u30fc\u306f Chrome \u3092\u7b46\u982d\u306b\u9078\u629e\u53ef\u80fd\u3067\u3059\u304c\u3001\u30d8\u30c3\u30c9\u30ec\u30b9\u306a\u65b9\u304c\u90fd\u5408\u304c\u3088\u304b\u3063\u305f\u306e\u3067 PhantomJS \u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\n\ngulp3.9.0\n\u30bf\u30b9\u30af\u30e9\u30f3\u30ca\u30fc\n\n\n\n\u307e\u305f\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u542b\u3081\u305f JavaScript \u306e\u30b3\u30fc\u30c9\u3092 ES6 \u3067\u66f8\u304f\u305f\u3081\u306b\u3001 Babel \u3084 browserify \u3082\u5229\u7528\u3057\u307e\u3059\u3002\n\n\u624b\u9806\n\n01. npm \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\ngulp \u3084 Babel, browserify \u306f\u65e2\u306b\u5c0e\u5165\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\u3068\u3057\u3001\u3053\u3053\u3067\u306f Karma \u3067\u5229\u7528\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n$ npm install --save-dev karma karma-babel-preprocessor karma-browserify \\\nkarma-jasmine karma-jasmine-jquery \\\nkarma-phantomjs-launcher karma-spec-reporter\n\n\n02. Karma \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\nKarma \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002karma init \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u5bfe\u8a71\u5f62\u5f0f\u3067\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f spec \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u914d\u7f6e\u3059\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u3053\u308c\u306f\u500b\u4eba\u7684\u306a\u597d\u307f\u3067\u3059\u304c\u3001\u30c6\u30b9\u30c8\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u305f\u3081\u306e\u30ec\u30dd\u30fc\u30bf\u30fc\u306b karma-spec-reporter \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\nkarma.conf.js\nmodule.exports = function (config) {\n  config.set({\n    frameworks: ['browserify', 'jasmine-jquery', 'jasmine'],\n    browsers: ['PhantomJS'],\n    files: [\n      'spec/**/*.js'\n    ],\n    preprocessors: {\n      'spec/**/*.js': ['browserify']\n    },\n    browserify: {\n      debug: true,\n      transform: ['babelify']\n    },\n    reporters: ['spec']\n  });\n};\n\n\n\n03. gulp \u30bf\u30b9\u30af\u306e\u4f5c\u6210\ngulpfile \u306b\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e gulpfile \u306f ES6 \u3067\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059 (\u305d\u306e\u305f\u3081\u30d5\u30a1\u30a4\u30eb\u540d\u3092 gulpfile.babel.js \u3068\u3057\u3066\u3044\u307e\u3059) \u3002\n\ngulpfile.babel.js\nimport gulp from 'gulp';\nimport { Server } from 'karma';\n\ngulp.task('spec', (done) => {\n  new Server({\n    configFile: `${__dirname}/karma.conf.js`,\n    singleRun: true\n  }, done).start();\n});\n\n\ngulp-karma \u3068\u3044\u3046 npm \u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5b58\u5728\u3057\u305f\u306e\u3067\u3053\u308c\u3092\u5229\u7528\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3001README.md \u306b\n\nYou don't need any gulp plugins (why?) to run Karma from the Gulp-based build, use Karma directly\n\n\u3068\u66f8\u304b\u308c\u3066\u3044\u305f\u306e\u3067\u305d\u308c\u306b\u5f93\u3044\u307e\u3057\u305f\u3002\n\u4ee5\u4e0a\u3067\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u74b0\u5883\u306f\u63c3\u3044\u307e\u3057\u305f\u3002\n\n04. \u30c6\u30b9\u30c8\u306e\u5b9f\u88c5\n\u74b0\u5883\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u7c21\u5358\u306a\u30b3\u30fc\u30c9\u3068\u305d\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\napp/views/hidamari.js\nimport { View } from 'backbone';\nimport _ from 'underscore';\n\nexport default View.extend({\n  template: _.template(\"<a class='hidamari' href='http://www.tbs.co.jp/anime/hidamari/'>\u3072\u3060\u307e\u308a\u30b9\u30b1\u30c3\u30c1</h1>\"),\n  events: {\n    'click .hidamari': 'onClickHidamari'\n  },\n\n  render() {\n    this.$el.html(this.template());\n    return this;\n  },\n\n  onClickHidamari() {\n    this.$('.hidamari').after('<p>\u3072\u3060\u307e\u308a\u8358\u3067\u3001\u5f85\u3063\u3066\u307e\u3059\u3002</p>');\n  }\n});\n\n\n\nspec/views/hidamari_spec.js\nimport HidamariView from '../../app/views/hidamari';\n\ndescribe('HidamariView', () => {\n  const view = new HidamariView();\n\n  describe('#render', () => {\n    beforeEach(() => {\n      view.render();\n    });\n\n    it('.hidamari \u3092\u542b\u3080\u3053\u3068', () => {\n      expect(view.$el).toContainElement('.hidamari');\n    });\n\n    it('\"\u3072\u3060\u307e\u308a\u30b9\u30b1\u30c3\u30c1\" \u3092\u542b\u3080\u3053\u3068', () => {\n      expect(view.$el).toContainText('\u3072\u3060\u307e\u308a\u30b9\u30b1\u30c3\u30c1');\n    });\n  });\n\n  describe('events', () => {\n    beforeEach(() => {\n      spyOn(view, 'onClickHidamari').and.callThrough();\n      view.delegateEvents();\n      view.render();\n      view.$('.hidamari').click();\n    });\n\n    it('onClickHidamari \u304c\u547c\u3070\u308c\u308b\u3053\u3068', () => {\n      expect(view.onClickHidamari).toHaveBeenCalled();\n    });\n\n    it('\"\u3072\u3060\u307e\u308a\u8358\u3067\u3001\u5f85\u3063\u3066\u307e\u3059\u3002\" \u3092\u542b\u3080\u3053\u3068', () => {\n      expect(view.$el).toContainText('\u3072\u3060\u307e\u308a\u8358\u3067\u3001\u5f85\u3063\u3066\u307e\u3059\u3002');\n    });\n  });\n});\n\n\n\n05. \u5358\u4f53\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\n\u624b\u9806 03 \u3067\u4f5c\u6210\u3057\u305f gulp \u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n$ gulp spec\n[17:27:22] Requiring external module babel-core/register\n[17:27:22] Using gulpfile ~/workspace/hidamari/gulpfile.babel.js\n[17:27:23] Starting 'spec'...\n12 12 2015 17:27:24.945:INFO [framework.browserify]: bundle built\n12 12 2015 17:27:24.951:INFO [karma]: Karma v0.13.15 server started at http://localhost:9876/\n12 12 2015 17:27:24.960:INFO [launcher]: Starting browser PhantomJS\n12 12 2015 17:27:26.592:INFO [PhantomJS 1.9.8 (Mac OS X 0.0.0)]: Connected on socket _6cuZesiQyb16Mg4AAAA with id 7039758\n\n  HidamariView\n    #render\n      \u2713 .hidamari \u3092\u542b\u3080\u3053\u3068\n      \u2713 \"\u3072\u3060\u307e\u308a\u30b9\u30b1\u30c3\u30c1\" \u3092\u542b\u3080\u3053\u3068\n    events\n      \u2713 onClickHidamari \u304c\u547c\u3070\u308c\u308b\u3053\u3068\n      \u2713 \"\u3072\u3060\u307e\u308a\u8358\u3067\u3001\u5f85\u3063\u3066\u307e\u3059\u3002\" \u3092\u542b\u3080\u3053\u3068\n\nPhantomJS 1.9.8 (Mac OS X 0.0.0): Executed 4 of 4 SUCCESS (0.002 secs / 0.009 secs)\nTOTAL: 4 SUCCESS\n\n[17:27:26] Finished 'spec' after 3.61 s\n\n\u7121\u4e8b\u306b\u52d5\u304f\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\uff01 \uff3c\uff3c\\\u0669( '\u03c9' )\u0648//\uff0f\uff0f\n# <i class=\"fa fa-fw fa-flag\"></i> \u76ee\u7684\n\nBackbone.js \u306e\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u884c\u3046\u305f\u3081\u306e\u74b0\u5883\u3092\u7528\u610f\u3059\u308b\u3002\n\n# <i class=\"fa fa-fw fa-smile-o\"></i> \u52d5\u6a5f\n\n\u50d5\u306f\u666e\u6bb5 Rails \u3092\u3088\u304f\u4f7f\u3046\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u307e\u3067 JavaScript \u306e\u5358\u4f53\u30c6\u30b9\u30c8\u3082\u66f8\u304b\u306a\u304d\u3083\u3068\u601d\u3044\u3064\u3064\u3001\u305a\u3063\u3068\u30b9\u30eb\u30fc\u3057\u7d9a\u3051\u3066\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u6700\u8fd1\u306f\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b Backbone.js \u3084 Marionette.js \u3092\u4f7f\u3044\u3001\u8907\u96d1\u306a\u51e6\u7406\u3092\u66f8\u304f\u3053\u3068\u3082\u5897\u3048\u3066\u304d\u305f\u306e\u3067\u3001\u3064\u3044\u306b\u91cd\u3044\u8170\u3092\u4e0a\u3052\u3066 JavaScript \u306e\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u307e\u305f Babel \u306e\u5c0e\u5165\u306b\u3088\u308a\u6a5f\u80fd\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u5206\u5272\u304c\u5bb9\u6613\u306b\u306a\u3063\u305f\u3053\u3068\u3082\u3001\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u66f8\u304d\u59cb\u3081\u3088\u3046\u3068\u601d\u3044\u7acb\u3063\u305f\u8981\u56e0\u306e\u3072\u3068\u3064\u3067\u3082\u3042\u308a\u307e\u3059\u3002\n\n# <i class=\"fa fa-fw fa-cubes\"></i> \u4e3b\u306a\u30c4\u30fc\u30eb\n\n| \u30c4\u30fc\u30eb<br>\u30d0\u30fc\u30b8\u30e7\u30f3 | \u8aac\u660e |\n|:--|:----|\n| [Jasmine](https://github.com/jasmine/jasmine)<br>2.4.1| \u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af<br><br>\u6700\u8fd1\u306f [Mocha](https://github.com/mochajs/mocha) \u3092\u3088\u304f\u805e\u304d\u307e\u3059\u304c\u3001Google \u30c8\u30ec\u30f3\u30c9\u3067\u8abf\u3079\u305f\u3068\u3053\u308d Jasmine \u306e\u65b9\u304c\u4eba\u6c17\u304c\u3042\u308a\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u3001\u4eca\u56de\u306f\u3053\u3061\u3089\u3092\u63a1\u7528\u3057\u307e\u3057\u305f\u3002BDD (\u30d3\u30d8\u30a4\u30d3\u30a2\u99c6\u52d5\u958b\u767a) \u5f62\u5f0f\u3067\u3001RSpec \u4f7f\u3044\u306b\u306f\u6587\u6cd5\u304c\u975e\u5e38\u306b\u99b4\u67d3\u307f\u3084\u3059\u3044\u3068\u601d\u3044\u307e\u3059\u3002 |\n| [jasmine-jquery](https://github.com/velesin/jasmine-jquery)<br>2.1.1 | Jasmine \u306e\u62e1\u5f35\u30c4\u30fc\u30eb | jQuery \u5411\u3051\u306e\u30ab\u30b9\u30bf\u30e0\u30de\u30c3\u30c1\u30e3\u30fc\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 |\n| [Karma](https://github.com/karma-runner/karma)<br>0.13.15 | \u30c6\u30b9\u30c8\u30e9\u30f3\u30ca\u30fc<br><br>\u4efb\u610f\u306e\u30d6\u30e9\u30a6\u30b6\u30fc\u3067 JavaScript \u3092\u52d5\u304b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002<br>Backbone.View \u306e\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u969b\u306b DOM \u3092\u7d61\u3081\u305f\u30c6\u30b9\u30c8\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u5c0e\u5165\u3057\u307e\u3059\u3002 |\n| [PhantomJS](https://github.com/ariya/phantomjs)<br>1.9.8 | \u30d6\u30e9\u30a6\u30b6\u30fc (\u30d8\u30c3\u30c9\u30ec\u30b9)<br><br>Karma \u3067\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3059\u305f\u3081\u306e\u30d6\u30e9\u30a6\u30b6\u30fc\u306f Chrome \u3092\u7b46\u982d\u306b\u9078\u629e\u53ef\u80fd\u3067\u3059\u304c\u3001\u30d8\u30c3\u30c9\u30ec\u30b9\u306a\u65b9\u304c\u90fd\u5408\u304c\u3088\u304b\u3063\u305f\u306e\u3067 PhantomJS \u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002 |\n| [gulp](https://github.com/gulpjs/gulp)<br>3.9.0 | \u30bf\u30b9\u30af\u30e9\u30f3\u30ca\u30fc |\n\n\u307e\u305f\u3001\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u542b\u3081\u305f JavaScript \u306e\u30b3\u30fc\u30c9\u3092 ES6 \u3067\u66f8\u304f\u305f\u3081\u306b\u3001 [Babel](https://github.com/babel/babel) \u3084 [browserify](https://github.com/substack/node-browserify) \u3082\u5229\u7528\u3057\u307e\u3059\u3002\n\n# <i class=\"fa fa-fw fa-sort-numeric-asc\"></i>\u624b\u9806\n\n## 01. npm \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n* gulp \u3084 Babel, browserify \u306f\u65e2\u306b\u5c0e\u5165\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u524d\u63d0\u3068\u3057\u3001\u3053\u3053\u3067\u306f Karma \u3067\u5229\u7528\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n$ npm install --save-dev karma karma-babel-preprocessor karma-browserify \\\nkarma-jasmine karma-jasmine-jquery \\\nkarma-phantomjs-launcher karma-spec-reporter\n```\n\n## 02. Karma \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\nKarma \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002`karma init` \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u5bfe\u8a71\u5f62\u5f0f\u3067\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f `spec` \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u914d\u7f6e\u3059\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u3053\u308c\u306f\u500b\u4eba\u7684\u306a\u597d\u307f\u3067\u3059\u304c\u3001\u30c6\u30b9\u30c8\u7d50\u679c\u3092\u51fa\u529b\u3059\u308b\u305f\u3081\u306e\u30ec\u30dd\u30fc\u30bf\u30fc\u306b [karma-spec-reporter](https://github.com/mlex/karma-spec-reporter) \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n```js:karma.conf.js\nmodule.exports = function (config) {\n  config.set({\n    frameworks: ['browserify', 'jasmine-jquery', 'jasmine'],\n    browsers: ['PhantomJS'],\n    files: [\n      'spec/**/*.js'\n    ],\n    preprocessors: {\n      'spec/**/*.js': ['browserify']\n    },\n    browserify: {\n      debug: true,\n      transform: ['babelify']\n    },\n    reporters: ['spec']\n  });\n};\n```\n\n## 03. gulp \u30bf\u30b9\u30af\u306e\u4f5c\u6210\n\ngulpfile \u306b\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e gulpfile \u306f ES6 \u3067\u8a18\u8ff0\u3057\u3066\u3044\u307e\u3059 (\u305d\u306e\u305f\u3081\u30d5\u30a1\u30a4\u30eb\u540d\u3092 `gulpfile.babel.js` \u3068\u3057\u3066\u3044\u307e\u3059) \u3002\n\n```js:gulpfile.babel.js\nimport gulp from 'gulp';\nimport { Server } from 'karma';\n\ngulp.task('spec', (done) => {\n  new Server({\n    configFile: `${__dirname}/karma.conf.js`,\n    singleRun: true\n  }, done).start();\n});\n```\n\n[gulp-karma](https://github.com/karma-runner/gulp-karma) \u3068\u3044\u3046 npm \u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5b58\u5728\u3057\u305f\u306e\u3067\u3053\u308c\u3092\u5229\u7528\u3057\u3088\u3046\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3001README.md \u306b\n\n> You don't need any gulp plugins (why?) to run Karma from the Gulp-based build, use Karma directly\n\n\u3068\u66f8\u304b\u308c\u3066\u3044\u305f\u306e\u3067\u305d\u308c\u306b\u5f93\u3044\u307e\u3057\u305f\u3002\n\n\u4ee5\u4e0a\u3067\u5358\u4f53\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\u74b0\u5883\u306f\u63c3\u3044\u307e\u3057\u305f\u3002\n\n## 04. \u30c6\u30b9\u30c8\u306e\u5b9f\u88c5\n\n\u74b0\u5883\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001\u7c21\u5358\u306a\u30b3\u30fc\u30c9\u3068\u305d\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\n```app/views/hidamari.js\nimport { View } from 'backbone';\nimport _ from 'underscore';\n\nexport default View.extend({\n  template: _.template(\"<a class='hidamari' href='http://www.tbs.co.jp/anime/hidamari/'>\u3072\u3060\u307e\u308a\u30b9\u30b1\u30c3\u30c1</h1>\"),\n  events: {\n    'click .hidamari': 'onClickHidamari'\n  },\n\n  render() {\n    this.$el.html(this.template());\n    return this;\n  },\n\n  onClickHidamari() {\n    this.$('.hidamari').after('<p>\u3072\u3060\u307e\u308a\u8358\u3067\u3001\u5f85\u3063\u3066\u307e\u3059\u3002</p>');\n  }\n});\n```\n\n```spec/views/hidamari_spec.js\nimport HidamariView from '../../app/views/hidamari';\n\ndescribe('HidamariView', () => {\n  const view = new HidamariView();\n\n  describe('#render', () => {\n    beforeEach(() => {\n      view.render();\n    });\n\n    it('.hidamari \u3092\u542b\u3080\u3053\u3068', () => {\n      expect(view.$el).toContainElement('.hidamari');\n    });\n\n    it('\"\u3072\u3060\u307e\u308a\u30b9\u30b1\u30c3\u30c1\" \u3092\u542b\u3080\u3053\u3068', () => {\n      expect(view.$el).toContainText('\u3072\u3060\u307e\u308a\u30b9\u30b1\u30c3\u30c1');\n    });\n  });\n\n  describe('events', () => {\n    beforeEach(() => {\n      spyOn(view, 'onClickHidamari').and.callThrough();\n      view.delegateEvents();\n      view.render();\n      view.$('.hidamari').click();\n    });\n\n    it('onClickHidamari \u304c\u547c\u3070\u308c\u308b\u3053\u3068', () => {\n      expect(view.onClickHidamari).toHaveBeenCalled();\n    });\n\n    it('\"\u3072\u3060\u307e\u308a\u8358\u3067\u3001\u5f85\u3063\u3066\u307e\u3059\u3002\" \u3092\u542b\u3080\u3053\u3068', () => {\n      expect(view.$el).toContainText('\u3072\u3060\u307e\u308a\u8358\u3067\u3001\u5f85\u3063\u3066\u307e\u3059\u3002');\n    });\n  });\n});\n```\n\n## 05. \u5358\u4f53\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\n\n\u624b\u9806 03 \u3067\u4f5c\u6210\u3057\u305f gulp \u30bf\u30b9\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n$ gulp spec\n[17:27:22] Requiring external module babel-core/register\n[17:27:22] Using gulpfile ~/workspace/hidamari/gulpfile.babel.js\n[17:27:23] Starting 'spec'...\n12 12 2015 17:27:24.945:INFO [framework.browserify]: bundle built\n12 12 2015 17:27:24.951:INFO [karma]: Karma v0.13.15 server started at http://localhost:9876/\n12 12 2015 17:27:24.960:INFO [launcher]: Starting browser PhantomJS\n12 12 2015 17:27:26.592:INFO [PhantomJS 1.9.8 (Mac OS X 0.0.0)]: Connected on socket _6cuZesiQyb16Mg4AAAA with id 7039758\n\n  HidamariView\n    #render\n      \u2713 .hidamari \u3092\u542b\u3080\u3053\u3068\n      \u2713 \"\u3072\u3060\u307e\u308a\u30b9\u30b1\u30c3\u30c1\" \u3092\u542b\u3080\u3053\u3068\n    events\n      \u2713 onClickHidamari \u304c\u547c\u3070\u308c\u308b\u3053\u3068\n      \u2713 \"\u3072\u3060\u307e\u308a\u8358\u3067\u3001\u5f85\u3063\u3066\u307e\u3059\u3002\" \u3092\u542b\u3080\u3053\u3068\n\nPhantomJS 1.9.8 (Mac OS X 0.0.0): Executed 4 of 4 SUCCESS (0.002 secs / 0.009 secs)\nTOTAL: 4 SUCCESS\n\n[17:27:26] Finished 'spec' after 3.61 s\n```\n\n\u7121\u4e8b\u306b\u52d5\u304f\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\uff01 \uff3c\uff3c\\\\\u0669( '\u03c9' )\u0648//\uff0f\uff0f\n", "tags": ["Backbone.js", "jasmine", "karma"]}