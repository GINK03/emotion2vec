{"context": " More than 1 year has passed since last update.\u3053\u3093\u306b\u3061\u306f\u30fc\uff01\u30cb\u30a2\u3067\u3059\u3002\n\u4eca\u56de\u306f.NET\u3067\u30af\u30e9\u30b9\u3084\u69cb\u9020\u4f53\u3092\u4f5c\u308b\u6642\u306b\u3001\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3068\u4fbf\u5229\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d39\u4ecb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001\u6570\u5024\u578b\u306e\u69cb\u9020\u4f53\u3092\u4f8b\u3068\u3057\u3066\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n\n1. \u6570\u5024\u7cfb\u306e\u69cb\u9020\u4f53\u306e\u5834\u5408\n\u4f8b\u3048\u3070\u3001System.Int32\u3084System.Double\u306a\u3069\u306e\u69cb\u9020\u4f53\u306f\u3001\u4ee5\u4e0b\u306e5\u3064\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\n\nIComparable\nIFormattable\nIConvertible\nIComparable<T>\nIEquatable<T>\n\n\nSystem.Int32\n[SerializableAttribute]\n[ComVisibleAttribute(true)]\npublic struct Int32 : IComparable, IFormattable, IConvertible, \n    IComparable<int>, IEquatable<int>\n\n\n\nSystem.Double\n[SerializableAttribute]\n[ComVisibleAttribute(true)]\npublic struct Double : IComparable, IFormattable, IConvertible, \n    IComparable<double>, IEquatable<double>\n\n\n\u3053\u3053\u304b\u3089\u306f\u3001\u305d\u306e5\u3064\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u6982\u8981\u3068\u3001\u305d\u308c\u3089\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\u3092\u7d39\u4ecb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n1.1. IComparable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3001IComparable<T>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n\u6982\u8981\nIComparable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u30012\u3064\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u5927\u5c0f\u3092\u6bd4\u8f03\u3057\u305f\u7d50\u679c\u3092\u8fd4\u3059CompareTo\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3061\u307e\u3059\u3002\n\nIComparable\n[ComVisibleAttribute(true)]\npublic interface IComparable {\n    int CompareTo( object obj );\n}\n\n\nIComparable<T>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001IComparable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u7248\u3067\u3059\u3002\n\nIComparable(T)\n[ComVisibleAttribute(true)]\npublic interface IComparable<in T> {\n    int CompareTo( T other );\n}\n\n\n\n\u3053\u308c\u3089\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\n\n\u914d\u5217\u3084\u30ea\u30b9\u30c8\u306e\u30bd\u30fc\u30c8\uff08Array.Sort / List<T>.Sort\uff09\nLINQ\u306b\u304a\u3051\u308b\u4e26\u3073\u66ff\u3048\uff08Enumerable.OrderBy / Enumerable.OrderByDecending / Enumerable.ThenBy / Enumerable.ThenByDecending\uff09\n\u30bd\u30fc\u30c8\u6e08\u307f\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\uff08SortedSet / SortedList\uff08\u30ad\u30fc\u3067\u4f7f\u7528\uff09 / SortedDictionary\uff08\u30ad\u30fc\u3067\u4f7f\u7528\uff09\uff09\n\n\u306a\u304a\u3001IComparable.CompareTo\u3068IComparable<T>.CompareTo\u306e\u4e21\u65b9\u3092\u7d99\u627f\u3057\u305f\u5834\u5408\u3001IComparable<T>.CompareTo\u3092\u512a\u5148\u3057\u3066\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\n\n1.2. IFormattable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n\u6982\u8981\nIFormattable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u5024\u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3059\u308bToString(String, IFormatProvider)\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3061\u307e\u3059\u3002\n\nIFormattable\n[ComVisibleAttribute(true)]\npublic interface IFormattable {\n    string ToString( string format, IFormatProvider provider );\n}\n\n\n\n\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\n\n\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u3066\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u3084\u30b9\u30c8\u30ea\u30fc\u30e0\u3078\u306e\u66f8\u304d\u51fa\u3057\uff08Console.Write / Console.WriteLine\u306a\u3069\uff09\nString.Format\u30e1\u30bd\u30c3\u30c9\u3067\u66f8\u5f0f\u3092\u6307\u5b9a\n\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u3066\u3001StringBuilder\u306b\u6587\u5b57\u5217\u3092\u8ffd\u52a0\uff08StringBuilder.AppendFormat\uff09\n\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u3066\u3001\u6587\u5b57\u5217\u633f\u5165\uff08C# 6.0\uff09\n\n\n1.3. IConvertible\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n\u6982\u8981\nIConvertible\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u5024\u3092\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b1\u53ca\u3073DateTime\u69cb\u9020\u4f53\u306b\u5909\u63db\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3061\u307e\u3059\u3002\n\nIConvertible\n[ComVisibleAttribute(true)]\npublic interface IConvertible {\n    TypeCode GetTypeCode();\n    bool ToBoolean( IFormatProvider provider );\n    byte ToByte( IFormatProvider provider );\n    char ToChar( IFormatProvider provider );\n    DateTime ToDateTime( IFormatProvider provider );\n    decimal ToDecimal( IFormatProvider provider );\n    double ToDouble( IFormatProvider provider );\n    short ToInt16( IFormatProvider provider );\n    int ToInt32( IFormatProvider provider );\n    long ToInt64( IFormatProvider provider );\n    sbyte ToSByte( IFormatProvider provider );\n    float ToSingle( IFormatProvider provider );\n    string ToString( IFormatProvider provider );\n    object ToType( Type conversionType, IFormatProvider provider );\n    ushort ToUInt16( IFormatProvider provider );\n    uint ToUInt32( IFormatProvider provider );\n    ulong ToUInt64( IFormatProvider provider );\n}\n\n\n\u5b9f\u88c5\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c17\u500b\u3068\u3061\u3087\u3063\u3068\u591a\u3081\u3067\u3059\u306d\uff08\u6c57\uff09\u3002\n\n\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\n\nConvert\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u3066\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b\u53ca\u3073DateTime\u578b\u306b\u5909\u63db\u3059\u308b\n\n\n1.4. IEquatable<T>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n\u6982\u8981\nIEquatable<T>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u30012\u3064\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u5024\u304c\u7b49\u3057\u3044\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308bEquals\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3061\u307e\u3059\u3002\n\nIEquatable(T)\n[ComVisibleAttribute(true)]\npublic interface IEquatable<in T> {\n    bool Equals( T other );\n}\n\n\n\n\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\n\n\u30ea\u30b9\u30c8\u306b\u304a\u3051\u308b\u6307\u5b9a\u3057\u305f\u8981\u7d20\u306e\u5b58\u5728\u306e\u78ba\u8a8d\u3057\u305f\u308a\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u4f4d\u7f6e\u3092\u6c42\u3081\u305f\u308a\u3059\u308b\uff08List<T>.Contains / List<T>.IndexOf\uff09\u306a\u3069\u306e\u51e6\u7406\nHashSet<T>\u3084Dictionary<T>\u306e\u30ad\u30fc\u306e\u6bd4\u8f032\n\n\n2. \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u4f8b\n\u3053\u3053\u3067\u306f\u56fa\u5b9a\u5c0f\u6570\u70b9\u6f14\u7b97\u3092\u6271\u3046\u69cb\u9020\u4f53\u306b\u304a\u3051\u308b\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u4f8b\u3092\u8f09\u305b\u307e\u3059\u3002\n\n\u56fa\u5b9a\u5c0f\u6570\u70b9\u6f14\u7b97\u3092\u6271\u3046\u69cb\u9020\u4f53\u306b\u304a\u3051\u308b\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u4f8b\nusing System;\nusing System.Text.RegularExpressions;\n\npublic struct Q10 : IComparable, IFormattable, IConvertible, \n    IComparable<Q10>, IEquatable<Q10> {\n\n    // \u56fa\u5b9a\u5c0f\u6570\u70b9\u6f14\u7b97\u306e\u5185\u90e8\u306e\u5024\n    public short Value { get; private set; }\n\n    // IComparable\u306e\u5b9f\u88c5\n    int IComparable.CompareTo( object obj ) {\n        // obj\u304cnull or Q10\u4ee5\u5916\u306e\u6642\n        if( obj == null || !( obj is Q10 ) ){\n            return 1;\n        }\n        // \u5185\u90e8\u306e\u5024\u540c\u58eb\u3067\u6bd4\u8f03\u3057\u307e\u3059\u3002\n        return Value.CompareTo( ( ( Q10 )obj ).Value );\n    }\n\n    // IComparable<Q10>\u306e\u5b9f\u88c5\n    int IComparable<Q10>.CompareTo( Q10 other ) {\n        // \u5185\u90e8\u306e\u5024\u540c\u58eb\u3067\u6bd4\u8f03\u3057\u307e\u3059\u3002\n        return Value.CompareTo( other.Value );\n    }\n\n    // IEquatable<Q10>\u306e\u5b9f\u88c5\n    bool IEquatable<Q10>.Equals( Q10 other ) {\n        // \u5185\u90e8\u306e\u5024\u540c\u58eb\u3067\u6bd4\u8f03\u3057\u307e\u3059\u3002\n        return Value.Equals( other.Value );\n    }\n\n    // IConvertible\u306e\u5b9f\u88c5\uff08\u4e00\u90e8\u306e\u307f\u629c\u7c8b\uff09\n    double IConvertible.ToDouble( IFormatProvider provider ) {\n        // \u5185\u90e8\u306e\u5024 / 1024.0 \u21d2 \u7b49\u4fa1\u306a\u500d\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n        return Value / 1024.0;\n    }\n\n    int IConvertible.ToInt32( IFormatProvider provider ) {\n        // \u5185\u90e8\u306e\u5024 / 1024 \u21d2 \u7b49\u4fa1\u306a\u7b26\u53f7\u4ed8\u304d32\u30d3\u30c3\u30c8\u6574\u6570\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n        return Value >> 10;\n    }\n\n    static Regex regf = new Regex( @\"F\\d*?|f\\d*?\" );\n    static Regex regd = new Regex( @\"ID\\d*?|id\\d*?\" );\n\n    // IFormattable\u306e\u5b9f\u88c5\n    string IFormattable.ToString( string format, IFormatProvider provider ) {\n        if( format == null ) {\n            return ( Value / 1024.0 ).ToString();\n        }\n        // \u66f8\u5f0f\u304c\u300cF[\u6570\u5b57]\u300d\u306e\u6642\u306f\u3001\u7b49\u4fa1\u306a\u500d\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570\u3092\u66f8\u5f0f\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n        else if( regf.IsMatch( format ) ) {\n            return ( Value / 1024.0 ).ToString( format );\n        }\n        // \u66f8\u5f0f\u304c\u300cID[\u6570\u5b57]\u300d\u306e\u6642\u306f\u3001\u5185\u90e8\u306e\u5024\u3092\u66f8\u5f0f\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n        else if( regd.IsMatch( format ) ) {\n            return Value.ToString( format );\n        }\n\n        throw new FormatException();\n    }\n\n}\n\n\n\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4e0a\u624b\u306b\u5229\u7528\u3057\u3066\u3001\u4f5c\u6210\u3059\u308b\u30af\u30e9\u30b9\u3084\u69cb\u9020\u4f53\u3092\u3088\u308a\u4fbf\u5229\u306b\u3057\u3066\u307f\u3066\u306f\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u3002\n\u305d\u308c\u3067\u306f\u3001See you next!\n\n\n\n\n\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b : Boolean\u3001Byte\u3001SByte\u3001Char\u3001Int16\u3001Int32\u3001Int64\u3001UInt16\u3001UInt32\u3001UInt64\u3001Single\u3001Double\u3001Decimal\u3001String\u00a0\u21a9\n\n\n\u307e\u305aGetHashCode\u30e1\u30bd\u30c3\u30c9\u306e\u623b\u308a\u5024\u3092\u6bd4\u8f03\u3057\u3001\u5024\u304c\u7b49\u3057\u3044\u6642\u306bIEquatable<T>.Equals\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\u00a0\u21a9\n\n\n\n\u3053\u3093\u306b\u3061\u306f\u30fc\uff01\u30cb\u30a2\u3067\u3059\u3002\n\u4eca\u56de\u306f.NET\u3067\u30af\u30e9\u30b9\u3084\u69cb\u9020\u4f53\u3092\u4f5c\u308b\u6642\u306b\u3001\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3068\u4fbf\u5229\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d39\u4ecb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u306f\u3001\u6570\u5024\u578b\u306e\u69cb\u9020\u4f53\u3092\u4f8b\u3068\u3057\u3066\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n\n#1. \u6570\u5024\u7cfb\u306e\u69cb\u9020\u4f53\u306e\u5834\u5408\n\n\u4f8b\u3048\u3070\u3001[System.Int32](https://msdn.microsoft.com/ja-jp/library/system.int32.aspx)\u3084[System.Double](https://msdn.microsoft.com/ja-jp/library/system.double.aspx)\u306a\u3069\u306e\u69cb\u9020\u4f53\u306f\u3001\u4ee5\u4e0b\u306e5\u3064\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002\n\n* **IComparable**\n* **IFormattable**\n* **IConvertible**\n* **IComparable\\<T\\>**\n* **IEquatable\\<T\\>**\n\n```csharp:System.Int32\n[SerializableAttribute]\n[ComVisibleAttribute(true)]\npublic struct Int32 : IComparable, IFormattable, IConvertible, \n\tIComparable<int>, IEquatable<int>\n```\n\n```csharp:System.Double\n[SerializableAttribute]\n[ComVisibleAttribute(true)]\npublic struct Double : IComparable, IFormattable, IConvertible, \n\tIComparable<double>, IEquatable<double>\n```\n\n\u3053\u3053\u304b\u3089\u306f\u3001\u305d\u306e5\u3064\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u6982\u8981\u3068\u3001\u305d\u308c\u3089\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\u3092\u7d39\u4ecb\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n##1.1. IComparable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3001IComparable\\<T\\>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n###\u6982\u8981\n\n[IComparable](https://msdn.microsoft.com/ja-jp/library/system.icomparable.aspx)\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u30012\u3064\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u5927\u5c0f\u3092\u6bd4\u8f03\u3057\u305f\u7d50\u679c\u3092\u8fd4\u3059[CompareTo](https://msdn.microsoft.com/ja-jp/library/system.icomparable.compareto.aspx)\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3061\u307e\u3059\u3002\n\n```csharp:IComparable\n[ComVisibleAttribute(true)]\npublic interface IComparable {\n\tint CompareTo( object obj );\n}\n```\n\n[IComparable\\<T\\>](https://msdn.microsoft.com/ja-jp/library/4d7sx9hd.aspx)\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001IComparable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u7248\u3067\u3059\u3002\n\n```csharp:IComparable(T)\n[ComVisibleAttribute(true)]\npublic interface IComparable<in T> {\n\tint CompareTo( T other );\n}\n```\n\n###\u3053\u308c\u3089\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\n\n* **\u914d\u5217\u3084\u30ea\u30b9\u30c8\u306e\u30bd\u30fc\u30c8\uff08[Array.Sort](https://msdn.microsoft.com/ja-jp/library/system.array.sort.aspx) / [List\\<T\\>.Sort](https://msdn.microsoft.com/ja-jp/library/3da4abas.aspx)\uff09**\n* **LINQ\u306b\u304a\u3051\u308b\u4e26\u3073\u66ff\u3048\uff08[Enumerable.OrderBy](https://msdn.microsoft.com/ja-jp/library/system.linq.enumerable.orderby.aspx) / [Enumerable.OrderByDecending](https://msdn.microsoft.com/ja-jp/library/system.linq.enumerable.orderbydescending.aspx) / [Enumerable.ThenBy](https://msdn.microsoft.com/ja-jp/library/system.linq.enumerable.thenby.aspx) / [Enumerable.ThenByDecending](https://msdn.microsoft.com/ja-jp/library/system.linq.enumerable.thenbydescending.aspx)\uff09**\n* **\u30bd\u30fc\u30c8\u6e08\u307f\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\uff08[SortedSet](https://msdn.microsoft.com/ja-jp/library/dd412070.aspx) / [SortedList](https://msdn.microsoft.com/ja-jp/library/ms132319.aspx)\uff08\u30ad\u30fc\u3067\u4f7f\u7528\uff09 / [SortedDictionary](https://msdn.microsoft.com/ja-jp/library/f7fta44c.aspx)\uff08\u30ad\u30fc\u3067\u4f7f\u7528\uff09\uff09**\n\n\n\u306a\u304a\u3001IComparable.CompareTo\u3068IComparable\\<T\\>.CompareTo\u306e\u4e21\u65b9\u3092\u7d99\u627f\u3057\u305f\u5834\u5408\u3001**IComparable\\<T\\>.CompareTo**\u3092\u512a\u5148\u3057\u3066\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\n\n##1.2. IFormattable\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n###\u6982\u8981\n\n[IFormattable](https://msdn.microsoft.com/ja-jp/library/system.iformattable.aspx)\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u5024\u3092\u6587\u5b57\u5217\u306b\u5909\u63db\u3059\u308b[ToString(String, IFormatProvider)](https://msdn.microsoft.com/ja-jp/library/system.iformattable.tostring.aspx)\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3061\u307e\u3059\u3002\n\n```csharp:IFormattable\n[ComVisibleAttribute(true)]\npublic interface IFormattable {\n\tstring ToString( string format, IFormatProvider provider );\n}\n```\n\n###\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\n\n* **\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u3066\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u3084\u30b9\u30c8\u30ea\u30fc\u30e0\u3078\u306e\u66f8\u304d\u51fa\u3057\uff08[Console.Write](https://msdn.microsoft.com/ja-jp/library/system.console.write.aspx) / [Console.WriteLine](https://msdn.microsoft.com/ja-jp/library/system.console.writeline.aspx)\u306a\u3069\uff09**\n* **[String.Format](https://msdn.microsoft.com/ja-jp/library/system.string.format.aspx)\u30e1\u30bd\u30c3\u30c9\u3067\u66f8\u5f0f\u3092\u6307\u5b9a**\n* **\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u3066\u3001StringBuilder\u306b\u6587\u5b57\u5217\u3092\u8ffd\u52a0\uff08[StringBuilder.AppendFormat]()\uff09**\n* **\u66f8\u5f0f\u3092\u6307\u5b9a\u3057\u3066\u3001\u6587\u5b57\u5217\u633f\u5165\uff08C# 6.0\uff09**\n\n\n##1.3. IConvertible\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n###\u6982\u8981\n\n[IConvertible](https://msdn.microsoft.com/ja-jp/library/system.iconvertible.aspx)\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u5024\u3092\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b[^1]\u53ca\u3073DateTime\u69cb\u9020\u4f53\u306b\u5909\u63db\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3061\u307e\u3059\u3002\n\n[^1]: \u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b : Boolean\u3001Byte\u3001SByte\u3001Char\u3001Int16\u3001Int32\u3001Int64\u3001UInt16\u3001UInt32\u3001UInt64\u3001Single\u3001Double\u3001Decimal\u3001String\n\n```csharp:IConvertible\n[ComVisibleAttribute(true)]\npublic interface IConvertible {\n\tTypeCode GetTypeCode();\n\tbool ToBoolean( IFormatProvider provider );\n\tbyte ToByte( IFormatProvider provider );\n\tchar ToChar( IFormatProvider provider );\n\tDateTime ToDateTime( IFormatProvider provider );\n\tdecimal ToDecimal( IFormatProvider provider );\n\tdouble ToDouble( IFormatProvider provider );\n\tshort ToInt16( IFormatProvider provider );\n\tint ToInt32( IFormatProvider provider );\n\tlong ToInt64( IFormatProvider provider );\n\tsbyte ToSByte( IFormatProvider provider );\n\tfloat ToSingle( IFormatProvider provider );\n\tstring ToString( IFormatProvider provider );\n\tobject ToType( Type conversionType, IFormatProvider provider );\n\tushort ToUInt16( IFormatProvider provider );\n\tuint ToUInt32( IFormatProvider provider );\n\tulong ToUInt64( IFormatProvider provider );\n}\n```\n\n\u5b9f\u88c5\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c17\u500b\u3068\u3061\u3087\u3063\u3068\u591a\u3081\u3067\u3059\u306d\uff08\u6c57\uff09\u3002\n\n###\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\n\n* **[Convert](https://msdn.microsoft.com/ja-jp/library/system.convert.aspx)\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u3066\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b\u53ca\u3073DateTime\u578b\u306b\u5909\u63db\u3059\u308b**\n\n\n##1.4. IEquatable\\<T\\>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n###\u6982\u8981\n\n[IEquatable\\<T\\>](https://msdn.microsoft.com/ja-jp/library/ms131187.aspx)\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u30012\u3064\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u5024\u304c\u7b49\u3057\u3044\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308b[Equals](https://msdn.microsoft.com/ja-jp/library/ms131190.aspx)\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3061\u307e\u3059\u3002\n\n```csharp:IEquatable(T)\n[ComVisibleAttribute(true)]\npublic interface IEquatable<in T> {\n\tbool Equals( T other );\n}\n```\n\n###\u3053\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u7d99\u627f\u3057\u3066\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3067\u304d\u308b\u3053\u3068\n\n* **\u30ea\u30b9\u30c8\u306b\u304a\u3051\u308b\u6307\u5b9a\u3057\u305f\u8981\u7d20\u306e\u5b58\u5728\u306e\u78ba\u8a8d\u3057\u305f\u308a\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u4f4d\u7f6e\u3092\u6c42\u3081\u305f\u308a\u3059\u308b\uff08[List\\<T\\>.Contains](https://msdn.microsoft.com/ja-jp/library/bhkz42b3.aspx) / [List\\<T\\>.IndexOf](https://msdn.microsoft.com/ja-jp/library/e4w08k17.aspx)\uff09\u306a\u3069\u306e\u51e6\u7406**\n* **HashSet\\<T\\>\u3084Dictionary\\<T\\>\u306e\u30ad\u30fc\u306e\u6bd4\u8f03[^2]**\n\n[^2]: \u307e\u305aGetHashCode\u30e1\u30bd\u30c3\u30c9\u306e\u623b\u308a\u5024\u3092\u6bd4\u8f03\u3057\u3001\u5024\u304c\u7b49\u3057\u3044\u6642\u306bIEquatable\\<T\\>.Equals\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002\n\n#2. \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u4f8b\n\n\u3053\u3053\u3067\u306f\u56fa\u5b9a\u5c0f\u6570\u70b9\u6f14\u7b97\u3092\u6271\u3046\u69cb\u9020\u4f53\u306b\u304a\u3051\u308b\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u4f8b\u3092\u8f09\u305b\u307e\u3059\u3002\n\n```csharp:\u56fa\u5b9a\u5c0f\u6570\u70b9\u6f14\u7b97\u3092\u6271\u3046\u69cb\u9020\u4f53\u306b\u304a\u3051\u308b\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u4f8b\nusing System;\nusing System.Text.RegularExpressions;\n\npublic struct Q10 : IComparable, IFormattable, IConvertible, \n\tIComparable<Q10>, IEquatable<Q10> {\n\n\t// \u56fa\u5b9a\u5c0f\u6570\u70b9\u6f14\u7b97\u306e\u5185\u90e8\u306e\u5024\n\tpublic short Value { get; private set; }\n\n\t// IComparable\u306e\u5b9f\u88c5\n\tint IComparable.CompareTo( object obj ) {\n\t\t// obj\u304cnull or Q10\u4ee5\u5916\u306e\u6642\n\t\tif( obj == null || !( obj is Q10 ) ){\n\t\t\treturn 1;\n\t\t}\n\t\t// \u5185\u90e8\u306e\u5024\u540c\u58eb\u3067\u6bd4\u8f03\u3057\u307e\u3059\u3002\n\t\treturn Value.CompareTo( ( ( Q10 )obj ).Value );\n\t}\n\n\t// IComparable<Q10>\u306e\u5b9f\u88c5\n\tint IComparable<Q10>.CompareTo( Q10 other ) {\n\t\t// \u5185\u90e8\u306e\u5024\u540c\u58eb\u3067\u6bd4\u8f03\u3057\u307e\u3059\u3002\n\t\treturn Value.CompareTo( other.Value );\n\t}\n\n\t// IEquatable<Q10>\u306e\u5b9f\u88c5\n\tbool IEquatable<Q10>.Equals( Q10 other ) {\n\t\t// \u5185\u90e8\u306e\u5024\u540c\u58eb\u3067\u6bd4\u8f03\u3057\u307e\u3059\u3002\n\t\treturn Value.Equals( other.Value );\n\t}\n\n\t// IConvertible\u306e\u5b9f\u88c5\uff08\u4e00\u90e8\u306e\u307f\u629c\u7c8b\uff09\n\tdouble IConvertible.ToDouble( IFormatProvider provider ) {\n\t\t// \u5185\u90e8\u306e\u5024 / 1024.0 \u21d2 \u7b49\u4fa1\u306a\u500d\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n\t\treturn Value / 1024.0;\n\t}\n\n\tint IConvertible.ToInt32( IFormatProvider provider ) {\n\t\t// \u5185\u90e8\u306e\u5024 / 1024 \u21d2 \u7b49\u4fa1\u306a\u7b26\u53f7\u4ed8\u304d32\u30d3\u30c3\u30c8\u6574\u6570\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n\t\treturn Value >> 10;\n\t}\n\n\tstatic Regex regf = new Regex( @\"F\\d*?|f\\d*?\" );\n\tstatic Regex regd = new Regex( @\"ID\\d*?|id\\d*?\" );\n\n\t// IFormattable\u306e\u5b9f\u88c5\n\tstring IFormattable.ToString( string format, IFormatProvider provider ) {\n\t\tif( format == null ) {\n\t\t\treturn ( Value / 1024.0 ).ToString();\n\t\t}\n\t\t// \u66f8\u5f0f\u304c\u300cF[\u6570\u5b57]\u300d\u306e\u6642\u306f\u3001\u7b49\u4fa1\u306a\u500d\u7cbe\u5ea6\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570\u3092\u66f8\u5f0f\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n\t\telse if( regf.IsMatch( format ) ) {\n\t\t\treturn ( Value / 1024.0 ).ToString( format );\n\t\t}\n\t\t// \u66f8\u5f0f\u304c\u300cID[\u6570\u5b57]\u300d\u306e\u6642\u306f\u3001\u5185\u90e8\u306e\u5024\u3092\u66f8\u5f0f\u6307\u5b9a\u3057\u3066\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u307e\u3059\u3002\n\t\telse if( regd.IsMatch( format ) ) {\n\t\t\treturn Value.ToString( format );\n\t\t}\n\n\t\tthrow new FormatException();\n\t}\n\n}\n```\n\n\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4e0a\u624b\u306b\u5229\u7528\u3057\u3066\u3001\u4f5c\u6210\u3059\u308b\u30af\u30e9\u30b9\u3084\u69cb\u9020\u4f53\u3092\u3088\u308a\u4fbf\u5229\u306b\u3057\u3066\u307f\u3066\u306f\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u3002\n\u305d\u308c\u3067\u306f\u3001See you next!\n\n", "tags": [".NET", "\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9", "C#"]}