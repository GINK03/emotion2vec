{"context": "\n\n\u306f\u3058\u3081\u306b\nCentOS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u304d\u306b\u3001\u3046\u3063\u304b\u308a\u4eee\u60f3\u5316\u95a2\u9023\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u308c\u3066\u3057\u307e\u3044\u3001\u306a\u3093\u304b\u3042\u308b\u306a\u3063\u3066\u306a\u3063\u305f\u4eba\u5411\u3051\u3002\n\u3068\u306b\u304b\u304f\u4e0d\u8981\u306a\u306e\u3067\u3001\u6d88\u3057\u305f\u3044\u4eba\u5411\u3051\u3002\n\n\u624b\u9806\n\nvirbr0\u304c\u3069\u3053\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u304b\u3002\nifconfig\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066virbr0\u304c\u3044\u308b\u3002\n[root@nkwebclient ~]# ifconfig -a\neno16777984: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 172.16.222.121  netmask 255.255.255.0  broadcast 172.16.255.255\n        ether 00:0c:29:c9:0f:44  txqueuelen 1000  (Ethernet)\n        RX packets 14636  bytes 1778376 (1.6 MiB)\n        RX errors 0  dropped 10  overruns 0  frame 0\n        TX packets 4215  bytes 6543402 (6.2 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        loop  txqueuelen 0  (Local Loopback)\n        RX packets 3073  bytes 1339491 (1.2 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 3073  bytes 1339491 (1.2 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nvirbr0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500\n        inet 192.168.122.1  netmask 255.255.255.0  broadcast 192.168.122.255\n        ether 52:54:00:ed:e3:e8  txqueuelen 0  (Ethernet)\n        RX packets 0  bytes 0 (0.0 B)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 0  bytes 0 (0.0 B)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nvirbr0-nic: flags=4098<BROADCAST,MULTICAST>  mtu 1500\n        ether 52:54:00:ed:e3:e8  txqueuelen 500  (Ethernet)\n        RX packets 0  bytes 0 (0.0 B)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 0  bytes 0 (0.0 B)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nvirbr0\u3068\u304bvirbr0-nic\u3092\u6d88\u3057\u305f\u3044\u3002\n\n\u8ab0\u304c\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u304b\u3002\n[root@nkwebclient ~]# virsh net-list\n \u540d\u524d               \u72b6\u614b     \u81ea\u52d5\u8d77\u52d5  \u6c38\u7d9a\n----------------------------------------------------------\n default              \u52d5\u4f5c\u4e2d  \u306f\u3044 (yes)  \u306f\u3044 (yes)\n\n[root@nkwebclient ~]# \n\nvir\u306edefault\u3067\u3059\u306d\u3002\n\n\u4e2d\u8eab\u306f\u3069\u3046\u306a\u3093\uff1f\n[root@nkwebclient ~]# virsh net-dumpxml default\n<network>\n  <name>default</name>\n  <uuid>e54a695e-e1bf-4e0c-b72c-952c1a413fb8</uuid>\n  <forward mode='nat'>\n    <nat>\n      <port start='1024' end='65535'/>\n    </nat>\n  </forward>\n  <bridge name='virbr0' stp='on' delay='0'/>\n  <mac address='52:54:00:ed:e3:e8'/>\n  <ip address='192.168.122.1' netmask='255.255.255.0'>\n    <dhcp>\n      <range start='192.168.122.2' end='192.168.122.254'/>\n    </dhcp>\n  </ip>\n</network>\n\n[root@nkwebclient ~]#\n\n\u3042\u3041\u3001\u306a\u308b\u307b\u3069\u3002\n\u3053\u3044\u3064\u306d\u3002\n\n\u3072\u3068\u307e\u305a\u3001\u505c\u6b62\u3002\u305d\u3057\u3066\u3001\u6c38\u4e45\u505c\u6b62\u3002\n[root@nkwebclient ~]# virsh net-destroy default\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af default \u306f\u5f37\u5236\u505c\u6b62\u3055\u308c\u307e\u3057\u305f\n\n[root@nkwebclient ~]# virsh net-autostart default --disable\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af default \u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u304c\u89e3\u9664\u3055\u308c\u307e\u3057\u305f\n\n[root@nkwebclient ~]#\n\n\u3053\u308c\u3067\u3088\u3057\u3002\n# \u306f\u3058\u3081\u306b\nCentOS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u304d\u306b\u3001\u3046\u3063\u304b\u308a\u4eee\u60f3\u5316\u95a2\u9023\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u5165\u308c\u3066\u3057\u307e\u3044\u3001\u306a\u3093\u304b\u3042\u308b\u306a\u3063\u3066\u306a\u3063\u305f\u4eba\u5411\u3051\u3002\n\u3068\u306b\u304b\u304f\u4e0d\u8981\u306a\u306e\u3067\u3001\u6d88\u3057\u305f\u3044\u4eba\u5411\u3051\u3002\n\n# \u624b\u9806\n\n## virbr0\u304c\u3069\u3053\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u304b\u3002\n\n`ifconfig`\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066virbr0\u304c\u3044\u308b\u3002\n\n```\n[root@nkwebclient ~]# ifconfig -a\neno16777984: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 172.16.222.121  netmask 255.255.255.0  broadcast 172.16.255.255\n        ether 00:0c:29:c9:0f:44  txqueuelen 1000  (Ethernet)\n        RX packets 14636  bytes 1778376 (1.6 MiB)\n        RX errors 0  dropped 10  overruns 0  frame 0\n        TX packets 4215  bytes 6543402 (6.2 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        loop  txqueuelen 0  (Local Loopback)\n        RX packets 3073  bytes 1339491 (1.2 MiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 3073  bytes 1339491 (1.2 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nvirbr0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500\n        inet 192.168.122.1  netmask 255.255.255.0  broadcast 192.168.122.255\n        ether 52:54:00:ed:e3:e8  txqueuelen 0  (Ethernet)\n        RX packets 0  bytes 0 (0.0 B)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 0  bytes 0 (0.0 B)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nvirbr0-nic: flags=4098<BROADCAST,MULTICAST>  mtu 1500\n        ether 52:54:00:ed:e3:e8  txqueuelen 500  (Ethernet)\n        RX packets 0  bytes 0 (0.0 B)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 0  bytes 0 (0.0 B)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n```\n\n`virbr0`\u3068\u304b`virbr0-nic`\u3092\u6d88\u3057\u305f\u3044\u3002\n\n## \u8ab0\u304c\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u304b\u3002\n\n```\n[root@nkwebclient ~]# virsh net-list\n \u540d\u524d               \u72b6\u614b     \u81ea\u52d5\u8d77\u52d5  \u6c38\u7d9a\n----------------------------------------------------------\n default              \u52d5\u4f5c\u4e2d  \u306f\u3044 (yes)  \u306f\u3044 (yes)\n\n[root@nkwebclient ~]# \n```\n\nvir\u306edefault\u3067\u3059\u306d\u3002\n\n## \u4e2d\u8eab\u306f\u3069\u3046\u306a\u3093\uff1f\n\n```\n[root@nkwebclient ~]# virsh net-dumpxml default\n<network>\n  <name>default</name>\n  <uuid>e54a695e-e1bf-4e0c-b72c-952c1a413fb8</uuid>\n  <forward mode='nat'>\n    <nat>\n      <port start='1024' end='65535'/>\n    </nat>\n  </forward>\n  <bridge name='virbr0' stp='on' delay='0'/>\n  <mac address='52:54:00:ed:e3:e8'/>\n  <ip address='192.168.122.1' netmask='255.255.255.0'>\n    <dhcp>\n      <range start='192.168.122.2' end='192.168.122.254'/>\n    </dhcp>\n  </ip>\n</network>\n\n[root@nkwebclient ~]#\n```\n\n\u3042\u3041\u3001\u306a\u308b\u307b\u3069\u3002\n\u3053\u3044\u3064\u306d\u3002\n\n## \u3072\u3068\u307e\u305a\u3001\u505c\u6b62\u3002\u305d\u3057\u3066\u3001\u6c38\u4e45\u505c\u6b62\u3002\n\n```\n[root@nkwebclient ~]# virsh net-destroy default\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af default \u306f\u5f37\u5236\u505c\u6b62\u3055\u308c\u307e\u3057\u305f\n\n[root@nkwebclient ~]# virsh net-autostart default --disable\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af default \u306e\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u304c\u89e3\u9664\u3055\u308c\u307e\u3057\u305f\n\n[root@nkwebclient ~]#\n```\n\n\u3053\u308c\u3067\u3088\u3057\u3002\n\n", "tags": ["KVM", "virsh"]}