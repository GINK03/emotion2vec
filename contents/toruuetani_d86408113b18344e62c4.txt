{"context": " More than 1 year has passed since last update.\u57fa\u672c\u7684\u306b Vagrant \u3067\u4f5c\u3063\u305f\u308a\u58ca\u3057\u305f\u308a\u3067\u304d\u308b Windows \u74b0\u5883\u3092\u624b\u306b\u5165\u308c\u308b\u307e\u3067\u306e\u624b\u9806 - \u3066\u3063\u304f\u716e\u30d6\u30ed\u30b0 \u306e\u60c5\u5831\u901a\u308a\u306b\u3084\u308c\u3070\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3001\u3044\u304f\u3064\u304b\u8ffd\u52a0\u3067\u624b\u9806\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u8a66\u3057\u3066\u307f\u305f\u74b0\u5883\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\n\u30db\u30b9\u30c8OS\uff1aWindows 8.1 Pro(x64)\n\u30b2\u30b9\u30c8OS\uff1aWindows 7 Professional with SP1(x86)\n\u30b2\u30b9\u30c8OS\uff1aWindows 8.1 Pro(x86)\n\n\u69cb\u7bc9\u3057\u305f\u3068\u304d\u306e\u4f5c\u696d\u30ed\u30b0\u306f \u3053\u3061\u3089\n\n\u74b0\u5883\u69cb\u7bc9\n\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u5fc5\u8981\u306a\u30bd\u30d5\u30c8\u306f Chocolatey \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nchocolatey \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u7ba1\u7406\u8005\u6a29\u9650\u3067\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8d77\u52d5\u3057\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u7d9a\u3051\u3066 cinst \u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u3001\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u4e00\u65e6\u7d42\u4e86\u3055\u305b\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n@powershell -NoProfile -ExecutionPolicy unrestricted -Command \"iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))\" && SET PATH=%PATH%;%systemdrive%\\chocolatey\\bin\n\nchocolatery \u3092\u4f7f\u3046\u3068 VirtualBox, Vagrant \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3053\u308c\u3060\u3051\u3067\u3059\u3002\ncinst VirtualBox\ncinst Vagrant\n\nchocolatey \u304c PATH \u74b0\u5883\u5909\u6570\u3092\u30bb\u30c3\u30c8\u3057\u3066\u304f\u308c\u308b\u3093\u3067\u3059\u304c\u3001 VirtualBox \u306f\u6b63\u3057\u304f\u30bb\u30c3\u30c8\u3057\u3066\u304f\u308c\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067 C:\\Program Files\\Oracle\\VirtualBox \u3092\u30bb\u30c3\u30c8\u3057\u306a\u304a\u3057\u307e\u3057\u3087\u3046\u3002\n\u6b21\u306b Vagrant \u3067 Windows \u3092\u6271\u3048\u308b\u3088\u3046\u306b SSH \u306e\u4ee3\u308f\u308a\u306b WinRM \u3092\u4f7f\u7528\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3 Vagrant-Windows \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u306a\u304a\u3001\u30d7\u30ed\u30ad\u30b7\u74b0\u5883\u4e0b\u306e\u5834\u5408\u306f HTTP_PROXY \u3092\u30bb\u30c3\u30c8\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nvagrant plugin install vagrant-windows\n\n2014/06/28 \u8ffd\u8a18\n\u4e0a\u8a18\u4f5c\u696d\u306f Vagrant 1.5.x \u3067\u5fc5\u8981\u3067\u3059\u3002 Vagrant 1.6 \u304b\u3089\u30b2\u30b9\u30c8Windows\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u305f\u3081\u3001 Vagrant-Windows \u306f\u4e0d\u8981\u3067\u3059\u3002\n\n\u4eee\u60f3\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\n\u3053\u308c\u306f\u53c2\u8003URL\u306e\u624b\u9806\u306b\u5f93\u3044\u307e\u3057\u3087\u3046\u3002\n\nVirtualBox \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u30e1\u30cb\u30e5\u30fc\u304b\u3089 [\u4eee\u60f3\u30de\u30b7\u30f3] > [\u65b0\u898f] \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u540d\u524d\u306b [Win7SP1x86] \u3068\u5165\u529b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3042\u3068\u3067\u4f7f\u3046\u306e\u3067\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u540d\u524d\u3092\u4ed8\u3051\u307e\u3059\u3002\n\u30e1\u30e2\u30ea\u30fc\u306f 1024MB \u3001 HDD\u5bb9\u91cf\u306f 25GB \u306e\u53ef\u5909\u3068\u3057\u307e\u3059\u3002\n[\u30aa\u30fc\u30c7\u30a3\u30aa] \u3068 [USB] \u3092\u7121\u52b9\u5316\u3057\u307e\u3059\u3002\n[\u30b9\u30c8\u30ec\u30fc\u30b8]\u306b ISO \u30a4\u30e1\u30fc\u30b8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u30e1\u30cb\u30e5\u30fc\u304b\u3089 [\u4eee\u60f3\u30de\u30b7\u30f3] > [\u8d77\u52d5] \u3092\u9078\u629e\u3057\u307e\u3059\u3002\nOS \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u308b\u306e\u3067\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u306b vagrant \u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306b vagrant \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nWindowsUpdate \u306f\u7121\u52b9\u5316\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u30e1\u30cb\u30e5\u30fc\u304b\u3089 [\u30c7\u30d0\u30a4\u30b9] > [Guest Additions \u306eCD\u30a4\u30e1\u30fc\u30b8\u3092\u633f\u5165...] \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\u30b2\u30b9\u30c8OS\u306e D \u30c9\u30e9\u30a4\u30d6\u3092\u958b\u3044\u3066 VBoxWindowsAdditions \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u30e1\u30cb\u30e5\u30fc\u304b\u3089 [\u30c7\u30d0\u30a4\u30b9] > [CD/DVD \u30c7\u30d0\u30a4\u30b9] > [\u4eee\u60f3\u30c9\u30e9\u30a4\u30d6\u304b\u3089\u30c7\u30a3\u30b9\u30af\u3092\u9664\u53bb] \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\n\u4eee\u60f3\u30a4\u30e1\u30fc\u30b8\u306e\u8abf\u6574\n\u3053\u3053\u304b\u3089\u306f\u30b2\u30b9\u30c8OS\u5074\u3067\u4f5c\u696d\u3057\u307e\u3059\u3002\u307e\u305a\u306f UAC \u3092\u7121\u52b9\u5316\u3057\u307e\u3059\u3002\n\nWin+R \u3067 msconfig \u3068\u5165\u529b\u3057\u307e\u3059\u3002\n[\u30c4\u30fc\u30eb] > [UAC \u8a2d\u5b9a\u306e\u5909\u66f4] > [\u8d77\u52d5] \u3092\u9078\u629e\u3057\u3066 [\u901a\u77e5\u3057\u306a\u3044] \u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n\u6b21\u306b WinRM \u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u7ba1\u7406\u8005\u6a29\u9650\u3067\u5b9f\u884c\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\nwinrm quickconfig -q\nwinrm set winrm/config/winrs @{MaxMemoryPerShellMB=\"512\"}\nwinrm set winrm/config @{MaxTimeoutms=\"1800000\"}\nwinrm set winrm/config/service @{AllowUnencrypted=\"true\"}\nwinrm set winrm/config/service/auth @{Basic=\"true\"}\nsc config WinRM start= auto\n\n\u3053\u308c\u306f\u597d\u307f\u3067\u3059\u304c\u3001\u4fbf\u5229\u306a\u306e\u3067\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u6709\u52b9\u5316\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u4f5c\u696d\u304c\u7d42\u308f\u3063\u305f\u3089\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3057\u307e\u3059\u3002\n\nBase Box \u4f5c\u6210\nVagrantfile.txt \u4f5c\u6210\u6642\u306f\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3068 WinRM \u3092\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\nVagrantfile.txt\nVagrant.configure(\"2\") do |config|\n  config.vm.guest = :windows\n  config.vm.network :forwarded_port, guest: 3389, host: 13389\n  config.vm.network :forwarded_port, guest: 5985, host: 15985, id: \"winrm\", auto_correct: true\nend\n\n\n2014/06/28 \u8ffd\u8a18\n\u4e0a\u8a18\u8a2d\u5b9a\u306f Vagrant 1.5.x \u7528\u3067\u3059\u3002 Vagrant 1.6.x \u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\nVagrantfile.txt\nVagrant.configure(\"2\") do |config|\n  config.vm.guest = :windows\n  config.vm.communicator = \"winrm\"\n  config.vm.network :forwarded_port, guest: 3389, host: 13389\n  config.vm.network :forwarded_port, guest: 5985, host: 15985, id: \"winrm\", auto_correct: true\nend\n\n\n\u6b21\u306b vagrant package \u3067 Base Box \u3092\u4f5c\u6210\u3059\u308b\u3093\u3067\u3059\u304c\u3001 VirtualBox \u306b\u4e0d\u5177\u5408\u304c\u3042\u308b\u305f\u3081\u5931\u6557\u3057\u307e\u3059\u3002\nThere was an error while executing `VBoxManage`, a CLI used by Vagrant\nfor controlling VirtualBox. The command and stderr is shown below.\n\nCommand: [\"showvminfo\", \"Win7SP1x86\"]\n\nStderr: VBoxManage.exe: error: Failed to create the VirtualBox object!\nVBoxManage.exe: error: Code CO_E_SERVER_EXEC_FAILURE (0x80080005) - Server execution failed (extended info not available)\nVBoxManage.exe: error: Most likely, the VirtualBox COM server is not running or failed to start.\n\n\nvagrant up fails with VirtualBox 4.2.12 \u00b7 Issue #1622 \u00b7 mitchellh/vagrant\nVagrant up\u30a8\u30e9\u30fc\u30100x80070005\u3011win7\u7de8\uff5cWeb\u306e\u3053\u3068\n\n\u53c2\u8003URL\u306e\u901a\u308a\u306b\u69cb\u6210\u3092\u5909\u66f4\u3057\u3066 VirtualBox \u3092\u518d\u8d77\u52d5\u3057\u307e\u3057\u3087\u3046\u3002\n\nWin+R > DCOMCNFG > [\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc] > [\u30de\u30a4 \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc] > [DCOM \u306e\u69cb\u6210] > [VirtualBox Application]\u53f3\u30af\u30ea\u30c3\u30af > [\u30d7\u30ed\u30d1\u30c6\u30a3]\n[ID] > [\u5bfe\u8a71\u30e6\u30fc\u30b6\u30fc]\u306b\u5909\u66f4\n\n\u3053\u308c\u3067 vagrant package --base \"Win7SP1x86\" --vagrantfile Vagrantfile.txt \u304c\u6210\u529f\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nNOTE: Win7SP1x86 \u306f\u5148\u307b\u3069\u4eee\u60f3\u30a4\u30e1\u30fc\u30b8\u3067\u6307\u5b9a\u3057\u305f\u540d\u524d\u3067\u3059\u3002\nBox( package.box ) \u304c\u3067\u304d\u305f\u3089 vagrant box add Win7SP1x86 package.box \u3067\u767b\u9332\u3057\u307e\u3059\u3002\nNOTE: \u3053\u306e Win7SP1x86 \u306f vagrant \u4e0a\u3067 Box \u3092\u533a\u5225\u3059\u308b\u305f\u3081\u306e\u540d\u524d\u3067\u3059\u3002\u4e0a\u8a18\u4eee\u60f3\u30a4\u30e1\u30fc\u30b8\u306e\u540d\u524d\u3068\u306f\u5225\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3002\n\nBox \u8d77\u52d5\nvagrant init \u3057\u305f\u3089 vagrant up \u3057\u307e\u3059\u3002\n\u3053\u306e\u6642 HTTP_PROXY \u3092\u30bb\u30c3\u30c8\u3057\u3066\u3044\u308b\u306a\u3089\u30af\u30ea\u30a2\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u305d\u3046\u3057\u306a\u3044\u3068 WinRM \u3067\u30d7\u30ed\u30ad\u30b7\u304c\u4f7f\u308f\u308c\u3066\u3057\u307e\u3044\u3001\u6b63\u5e38\u306b vagrant up \u304c\u5b8c\u4e86\u3057\u307e\u305b\u3093\u3002\n\u3053\u308c\u3067\u597d\u304d\u653e\u984c\u4f5c\u3063\u305f\u308a\u58ca\u3057\u305f\u308a\u3067\u304d\u308b Windows \u74b0\u5883\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u57fa\u672c\u7684\u306b [Vagrant \u3067\u4f5c\u3063\u305f\u308a\u58ca\u3057\u305f\u308a\u3067\u304d\u308b Windows \u74b0\u5883\u3092\u624b\u306b\u5165\u308c\u308b\u307e\u3067\u306e\u624b\u9806 - \u3066\u3063\u304f\u716e\u30d6\u30ed\u30b0](http://tech.nitoyon.com/ja/blog/2014/02/20/vagrant-win-guest/) \u306e\u60c5\u5831\u901a\u308a\u306b\u3084\u308c\u3070\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3001\u3044\u304f\u3064\u304b\u8ffd\u52a0\u3067\u624b\u9806\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u8a66\u3057\u3066\u307f\u305f\u74b0\u5883\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\n* \u30db\u30b9\u30c8OS\uff1aWindows 8.1 Pro(x64)\n* \u30b2\u30b9\u30c8OS\uff1aWindows 7 Professional with SP1(x86)\n* \u30b2\u30b9\u30c8OS\uff1aWindows 8.1 Pro(x86)\n\n\u69cb\u7bc9\u3057\u305f\u3068\u304d\u306e\u4f5c\u696d\u30ed\u30b0\u306f [\u3053\u3061\u3089](https://github.com/toruuetani/my-vagrant-windows-log)\n\n# \u74b0\u5883\u69cb\u7bc9\n\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u5fc5\u8981\u306a\u30bd\u30d5\u30c8\u306f [Chocolatey](http://chocolatey.org/) \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nchocolatey \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u7ba1\u7406\u8005\u6a29\u9650\u3067\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u8d77\u52d5\u3057\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u7d9a\u3051\u3066 `cinst` \u3059\u308b\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u3001\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u306f\u4e00\u65e6\u7d42\u4e86\u3055\u305b\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n```bat\n@powershell -NoProfile -ExecutionPolicy unrestricted -Command \"iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))\" && SET PATH=%PATH%;%systemdrive%\\chocolatey\\bin\n```\n\nchocolatery \u3092\u4f7f\u3046\u3068 VirtualBox, Vagrant \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3053\u308c\u3060\u3051\u3067\u3059\u3002\n\n```bat\ncinst VirtualBox\ncinst Vagrant\n```\n\nchocolatey \u304c `PATH` \u74b0\u5883\u5909\u6570\u3092\u30bb\u30c3\u30c8\u3057\u3066\u304f\u308c\u308b\u3093\u3067\u3059\u304c\u3001 VirtualBox \u306f\u6b63\u3057\u304f\u30bb\u30c3\u30c8\u3057\u3066\u304f\u308c\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067 `C:\\Program Files\\Oracle\\VirtualBox` \u3092\u30bb\u30c3\u30c8\u3057\u306a\u304a\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u6b21\u306b Vagrant \u3067 Windows \u3092\u6271\u3048\u308b\u3088\u3046\u306b SSH \u306e\u4ee3\u308f\u308a\u306b WinRM \u3092\u4f7f\u7528\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3 Vagrant-Windows \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u306a\u304a\u3001\u30d7\u30ed\u30ad\u30b7\u74b0\u5883\u4e0b\u306e\u5834\u5408\u306f `HTTP_PROXY` \u3092\u30bb\u30c3\u30c8\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```\nvagrant plugin install vagrant-windows\n```\n\n2014/06/28 \u8ffd\u8a18\n\u4e0a\u8a18\u4f5c\u696d\u306f Vagrant 1.5.x \u3067\u5fc5\u8981\u3067\u3059\u3002 Vagrant 1.6 \u304b\u3089\u30b2\u30b9\u30c8Windows\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u305f\u3081\u3001 Vagrant-Windows \u306f\u4e0d\u8981\u3067\u3059\u3002\n\n# \u4eee\u60f3\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\n\u3053\u308c\u306f\u53c2\u8003URL\u306e\u624b\u9806\u306b\u5f93\u3044\u307e\u3057\u3087\u3046\u3002\n\n1. VirtualBox \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n2. \u30e1\u30cb\u30e5\u30fc\u304b\u3089 [\u4eee\u60f3\u30de\u30b7\u30f3] > [\u65b0\u898f] \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n3. \u540d\u524d\u306b [Win7SP1x86] \u3068\u5165\u529b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3042\u3068\u3067\u4f7f\u3046\u306e\u3067\u3001\u5206\u304b\u308a\u3084\u3059\u3044\u540d\u524d\u3092\u4ed8\u3051\u307e\u3059\u3002\n4. \u30e1\u30e2\u30ea\u30fc\u306f 1024MB \u3001 HDD\u5bb9\u91cf\u306f 25GB \u306e\u53ef\u5909\u3068\u3057\u307e\u3059\u3002\n5. [\u30aa\u30fc\u30c7\u30a3\u30aa] \u3068 [USB] \u3092\u7121\u52b9\u5316\u3057\u307e\u3059\u3002\n6. [\u30b9\u30c8\u30ec\u30fc\u30b8]\u306b ISO \u30a4\u30e1\u30fc\u30b8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n7. \u30e1\u30cb\u30e5\u30fc\u304b\u3089 [\u4eee\u60f3\u30de\u30b7\u30f3] > [\u8d77\u52d5] \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n8. OS \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u59cb\u307e\u308b\u306e\u3067\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u306b `vagrant` \u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306b `vagrant` \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n9. WindowsUpdate \u306f\u7121\u52b9\u5316\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n10. \u30e1\u30cb\u30e5\u30fc\u304b\u3089 [\u30c7\u30d0\u30a4\u30b9] > [Guest Additions \u306eCD\u30a4\u30e1\u30fc\u30b8\u3092\u633f\u5165...] \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n11. \u30b2\u30b9\u30c8OS\u306e D \u30c9\u30e9\u30a4\u30d6\u3092\u958b\u3044\u3066 `VBoxWindowsAdditions` \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n12. \u30e1\u30cb\u30e5\u30fc\u304b\u3089 [\u30c7\u30d0\u30a4\u30b9] > [CD/DVD \u30c7\u30d0\u30a4\u30b9] > [\u4eee\u60f3\u30c9\u30e9\u30a4\u30d6\u304b\u3089\u30c7\u30a3\u30b9\u30af\u3092\u9664\u53bb] \u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n# \u4eee\u60f3\u30a4\u30e1\u30fc\u30b8\u306e\u8abf\u6574\n\u3053\u3053\u304b\u3089\u306f\u30b2\u30b9\u30c8OS\u5074\u3067\u4f5c\u696d\u3057\u307e\u3059\u3002\u307e\u305a\u306f UAC \u3092\u7121\u52b9\u5316\u3057\u307e\u3059\u3002\n\n1. Win+R \u3067 `msconfig` \u3068\u5165\u529b\u3057\u307e\u3059\u3002\n2. [\u30c4\u30fc\u30eb] > [UAC \u8a2d\u5b9a\u306e\u5909\u66f4] > [\u8d77\u52d5] \u3092\u9078\u629e\u3057\u3066 [\u901a\u77e5\u3057\u306a\u3044] \u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n\u6b21\u306b WinRM \u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u7ba1\u7406\u8005\u6a29\u9650\u3067\u5b9f\u884c\u3057\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\n\n```bat\nwinrm quickconfig -q\nwinrm set winrm/config/winrs @{MaxMemoryPerShellMB=\"512\"}\nwinrm set winrm/config @{MaxTimeoutms=\"1800000\"}\nwinrm set winrm/config/service @{AllowUnencrypted=\"true\"}\nwinrm set winrm/config/service/auth @{Basic=\"true\"}\nsc config WinRM start= auto\n```\n\n\u3053\u308c\u306f\u597d\u307f\u3067\u3059\u304c\u3001\u4fbf\u5229\u306a\u306e\u3067\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u6709\u52b9\u5316\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u4f5c\u696d\u304c\u7d42\u308f\u3063\u305f\u3089\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3057\u307e\u3059\u3002\n\n\n# Base Box \u4f5c\u6210\n`Vagrantfile.txt` \u4f5c\u6210\u6642\u306f\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3068 WinRM \u3092\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n```rb:Vagrantfile.txt\nVagrant.configure(\"2\") do |config|\n  config.vm.guest = :windows\n  config.vm.network :forwarded_port, guest: 3389, host: 13389\n  config.vm.network :forwarded_port, guest: 5985, host: 15985, id: \"winrm\", auto_correct: true\nend\n```\n\n2014/06/28 \u8ffd\u8a18\n\u4e0a\u8a18\u8a2d\u5b9a\u306f Vagrant 1.5.x \u7528\u3067\u3059\u3002 Vagrant 1.6.x \u3067\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n```rb:Vagrantfile.txt\nVagrant.configure(\"2\") do |config|\n  config.vm.guest = :windows\n  config.vm.communicator = \"winrm\"\n  config.vm.network :forwarded_port, guest: 3389, host: 13389\n  config.vm.network :forwarded_port, guest: 5985, host: 15985, id: \"winrm\", auto_correct: true\nend\n```\n \n\n\u6b21\u306b `vagrant package` \u3067 Base Box \u3092\u4f5c\u6210\u3059\u308b\u3093\u3067\u3059\u304c\u3001 VirtualBox \u306b\u4e0d\u5177\u5408\u304c\u3042\u308b\u305f\u3081\u5931\u6557\u3057\u307e\u3059\u3002\n\n```bat\nThere was an error while executing `VBoxManage`, a CLI used by Vagrant\nfor controlling VirtualBox. The command and stderr is shown below.\n\nCommand: [\"showvminfo\", \"Win7SP1x86\"]\n\nStderr: VBoxManage.exe: error: Failed to create the VirtualBox object!\nVBoxManage.exe: error: Code CO_E_SERVER_EXEC_FAILURE (0x80080005) - Server execution failed (extended info not available)\nVBoxManage.exe: error: Most likely, the VirtualBox COM server is not running or failed to start.\n```\n\n* [vagrant up fails with VirtualBox 4.2.12 \u00b7 Issue #1622 \u00b7 mitchellh/vagrant](https://github.com/mitchellh/vagrant/issues/1622)\n* [Vagrant up\u30a8\u30e9\u30fc\u30100x80070005\u3011win7\u7de8\uff5cWeb\u306e\u3053\u3068](http://yyfor.blog.fc2.com/blog-entry-4.html)\n\n\u53c2\u8003URL\u306e\u901a\u308a\u306b\u69cb\u6210\u3092\u5909\u66f4\u3057\u3066 VirtualBox \u3092\u518d\u8d77\u52d5\u3057\u307e\u3057\u3087\u3046\u3002\n\n1. Win+R > `DCOMCNFG` > [\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc] > [\u30de\u30a4 \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc] > [DCOM \u306e\u69cb\u6210] > [VirtualBox Application]\u53f3\u30af\u30ea\u30c3\u30af > [\u30d7\u30ed\u30d1\u30c6\u30a3]\n1. [ID] > [\u5bfe\u8a71\u30e6\u30fc\u30b6\u30fc]\u306b\u5909\u66f4\n\n\u3053\u308c\u3067 `vagrant package --base \"Win7SP1x86\" --vagrantfile Vagrantfile.txt` \u304c\u6210\u529f\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nNOTE: `Win7SP1x86` \u306f\u5148\u307b\u3069\u4eee\u60f3\u30a4\u30e1\u30fc\u30b8\u3067\u6307\u5b9a\u3057\u305f\u540d\u524d\u3067\u3059\u3002\n\nBox( `package.box` ) \u304c\u3067\u304d\u305f\u3089 `vagrant box add Win7SP1x86 package.box` \u3067\u767b\u9332\u3057\u307e\u3059\u3002\nNOTE: \u3053\u306e `Win7SP1x86` \u306f vagrant \u4e0a\u3067 Box \u3092\u533a\u5225\u3059\u308b\u305f\u3081\u306e\u540d\u524d\u3067\u3059\u3002\u4e0a\u8a18\u4eee\u60f3\u30a4\u30e1\u30fc\u30b8\u306e\u540d\u524d\u3068\u306f\u5225\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3002\n\n# Box \u8d77\u52d5\n`vagrant init` \u3057\u305f\u3089 `vagrant up` \u3057\u307e\u3059\u3002\n\u3053\u306e\u6642 `HTTP_PROXY` \u3092\u30bb\u30c3\u30c8\u3057\u3066\u3044\u308b\u306a\u3089\u30af\u30ea\u30a2\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u305d\u3046\u3057\u306a\u3044\u3068 WinRM \u3067\u30d7\u30ed\u30ad\u30b7\u304c\u4f7f\u308f\u308c\u3066\u3057\u307e\u3044\u3001\u6b63\u5e38\u306b `vagrant up` \u304c\u5b8c\u4e86\u3057\u307e\u305b\u3093\u3002\n\n\u3053\u308c\u3067\u597d\u304d\u653e\u984c\u4f5c\u3063\u305f\u308a\u58ca\u3057\u305f\u308a\u3067\u304d\u308b Windows \u74b0\u5883\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n", "tags": ["vagrant1.5.x", "Windows", "chocolatey"]}