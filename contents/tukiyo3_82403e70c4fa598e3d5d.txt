{"context": " More than 1 year has passed since last update.\n\n\u4ed5\u7d44\u307f\n\n\u76e3\u8996\u3055\u308c\u308b\u5074\u306e /etc/nagios/nrpe.d/*.cfg \u3092\u3001nagios-nrpe-server \u3092\u901a\u3057\u3066\u5b9f\u884c\u3002\nnagios 1\u7cfb\u306f /etc/nagios/nrpe{,_local}.cfg \u3067\u5ba3\u8a00\u3057\u305fcommand\u3092\u5b9f\u884c\n\n\n\u76e3\u8996\u3055\u308c\u308b\u5074(192.168.100.150)\n$ sudo apt-get install nagios-nrpe-server\n\n\n/etc/nagios/nrpe.cfg\u8ffd\u8a18\nallowed_hosts=127.0.0.1,10.0.3.65\n\n\n\n/etc/nagios/nrpe.d/check_disk.cfg\ncommand[check_disk]=/usr/lib/nagios/plugins/check_disk /\n\n\n$ sudo /etc/init.d/nagios-nrpe-server restart\n\n\n\u76e3\u8996\u3059\u308b\u5074(10.0.3.65)\n$ sudo apt-get install nagios-nrpe-plugin\n\n\n\u624b\u52d5\u3067\u78ba\u8a8d\n$ /usr/lib/nagios/plugins/check_nrpe -H 192.168.100.150 -c check_disk\nDISK OK - free space: / 167388 MB (94% inode=97%);| /=8969MB;;;0;185796\n\n\n\nserver.cfg\ndefine host{\n    use        generic-host\n    host_name  server-01\n    alias      Some Remote Host\n    address    192.168.100.150\n}\ndefine service{\n    use                     generic-service\n    host_name               server-01\n    service_description     disk check /\n    check_command           check_nrpe!check_disk\n}\n\n\n$ sudo /etc/init.d/nagios3 restart\n\n\nCHECK_NRPE: Socket timeout after 10 seconds. \u304c\u51fa\u305f\u5834\u5408\n\n/usr/lib/nagios/plugins/check_nrpe -H 192.168.100.150\n\n\u3053\u306e\u7d50\u679c\u304c\u53d6\u5f97\u3067\u304d\u308b\u304b\u3092\u78ba\u8a8d\u3002\nSocket timeout after 10 seconds. \u3068\u51fa\u305f\u5834\u5408\u306f192.168.100.150\u306b\u63a5\u7d9a\u304c\u3067\u304d\u3066\u3044\u306a\u3044\u3002\n\nno_ssl\n/usr/lib/nagios/plugins/check_nrpe -n -H 192.168.100.150\n\n\n-n \u3092\u3064\u3051\u3066\u53d6\u5f97\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3002\n\nserver.cfg\n-   check_command           check_nrpe!check_disk\n+   check_command           check_nrpe_nossl!check_disk\n\n\n\u4ed5\u7d44\u307f\n----\n\n* \u76e3\u8996\u3055\u308c\u308b\u5074\u306e /etc/nagios/nrpe.d/*.cfg \u3092\u3001nagios-nrpe-server \u3092\u901a\u3057\u3066\u5b9f\u884c\u3002\n* nagios 1\u7cfb\u306f /etc/nagios/nrpe{,_local}.cfg \u3067\u5ba3\u8a00\u3057\u305fcommand\u3092\u5b9f\u884c\n\n# \u76e3\u8996\u3055\u308c\u308b\u5074(192.168.100.150)\n\n```bash:\n$ sudo apt-get install nagios-nrpe-server\n```\n\n```Bash:/etc/nagios/nrpe.cfg\u8ffd\u8a18\nallowed_hosts=127.0.0.1,10.0.3.65\n```\n\n```bash:/etc/nagios/nrpe.d/check_disk.cfg\ncommand[check_disk]=/usr/lib/nagios/plugins/check_disk /\n```\n\n```bash:\n$ sudo /etc/init.d/nagios-nrpe-server restart\n```\n\n# \u76e3\u8996\u3059\u308b\u5074(10.0.3.65)\n\n```bash:\n$ sudo apt-get install nagios-nrpe-plugin\n```\n\n```bash:\u624b\u52d5\u3067\u78ba\u8a8d\n$ /usr/lib/nagios/plugins/check_nrpe -H 192.168.100.150 -c check_disk\nDISK OK - free space: / 167388 MB (94% inode=97%);| /=8969MB;;;0;185796\n```\n\n```bash:server.cfg\ndefine host{\n    use        generic-host\n    host_name  server-01\n    alias      Some Remote Host\n    address    192.168.100.150\n}\ndefine service{\n    use                     generic-service\n    host_name               server-01\n    service_description     disk check /\n    check_command           check_nrpe!check_disk\n}\n```\n\n```bash:\n$ sudo /etc/init.d/nagios3 restart\n```\n\n## CHECK_NRPE: Socket timeout after 10 seconds. \u304c\u51fa\u305f\u5834\u5408\n\n> /usr/lib/nagios/plugins/check_nrpe -H 192.168.100.150\n\n\u3053\u306e\u7d50\u679c\u304c\u53d6\u5f97\u3067\u304d\u308b\u304b\u3092\u78ba\u8a8d\u3002\nSocket timeout after 10 seconds. \u3068\u51fa\u305f\u5834\u5408\u306f192.168.100.150\u306b\u63a5\u7d9a\u304c\u3067\u304d\u3066\u3044\u306a\u3044\u3002\n\n```bash:no_ssl\n/usr/lib/nagios/plugins/check_nrpe -n -H 192.168.100.150\n```\n\n-n \u3092\u3064\u3051\u3066\u53d6\u5f97\u3067\u304d\u308b\u304b\u78ba\u8a8d\u3002\n\n```diff:server.cfg\n-   check_command           check_nrpe!check_disk\n+   check_command           check_nrpe_nossl!check_disk\n```\n", "tags": ["Nagios"]}