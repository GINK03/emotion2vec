{"context": "\n\nminGW \u3067Tread\u30d7\u30ed\u30b0\u30e9\u30e0\n\u30e1\u30e2\n\nmtread.c\n#include <stdio.h>\n#include <process.h>\n#include <windows.h>\n#include <stdlib.h>\n\nunsigned __stdcall func1(void *p)\n{\n    int i;\n    puts(p);\n\n    for(i=0; i<10; i++){ \n        Sleep(10);/* \u6642\u9593\u7a3c\u304e */\n        printf(\"[func1] %d\\n\",i);\n    }\n    _endthreadex(0);\n    return 0;//\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u8b66\u544a\u3092\u6bba\u3059\n}\nunsigned __stdcall func2(void *p)\n{\n    int i;\n    puts(p);\n\n    for(i=0; i<10; i++){ \n        Sleep(14);/* \u6642\u9593\u7a3c\u304e */\n        printf(\"[func2] %d\\n\",i);\n    }\n    _endthreadex(0);\n    return 0;//\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u8b66\u544a\u3092\u6bba\u3059\n}\n\nmain()\n{\n    HANDLE handle1;\n    HANDLE handle2;\n    int i;\n\n    handle1 = (HANDLE)_beginthreadex(NULL, 0, func1, \"I am func1\", 0, NULL);\n    handle2 = (HANDLE)_beginthreadex(NULL, 0, func2, \"I am func2\", 0, NULL);\n    for(i=0; i<10; i++){ \n        Sleep(12);/* \u6642\u9593\u7a3c\u304e */\n        printf(\"[Main] %d\\n\",i);\n    }\n    WaitForSingleObject(handle1, INFINITE); /* \u30b9\u30ec\u30c3\u30c9\u304c\u7d42\u4e86\u3059\u308b\u307e\u3067\u5f85\u3064\u3002 */\n    WaitForSingleObject(handle2, INFINITE); /* \u30b9\u30ec\u30c3\u30c9\u304c\u7d42\u4e86\u3059\u308b\u307e\u3067\u5f85\u3064\u3002 */\n    CloseHandle(handle1); /* \u30cf\u30f3\u30c9\u30eb\u3092\u9589\u3058\u308b */\n    CloseHandle(handle2); /* \u30cf\u30f3\u30c9\u30eb\u3092\u9589\u3058\u308b */\n}\n\n\n\n\n<<\u53c2\u8003>>\nhttp://www.geocities.jp/debu0510/personal/kusosure.html\n#minGW \u3067Tread\u30d7\u30ed\u30b0\u30e9\u30e0\n\u30e1\u30e2\n\n```c:mtread.c\n#include <stdio.h>\n#include <process.h>\n#include <windows.h>\n#include <stdlib.h>\n\nunsigned __stdcall func1(void *p)\n{\n\tint i;\n    puts(p);\n\n\tfor(i=0; i<10; i++){ \n\t\tSleep(10);/* \u6642\u9593\u7a3c\u304e */\n\t\tprintf(\"[func1] %d\\n\",i);\n\t}\n\t_endthreadex(0);\n    return 0;//\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u8b66\u544a\u3092\u6bba\u3059\n}\nunsigned __stdcall func2(void *p)\n{\n\tint i;\n    puts(p);\n\n\tfor(i=0; i<10; i++){ \n\t\tSleep(14);/* \u6642\u9593\u7a3c\u304e */\n\t\tprintf(\"[func2] %d\\n\",i);\n\t}\n\t_endthreadex(0);\n    return 0;//\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u8b66\u544a\u3092\u6bba\u3059\n}\n\nmain()\n{\n    HANDLE handle1;\n    HANDLE handle2;\n\tint i;\n\n    handle1 = (HANDLE)_beginthreadex(NULL, 0, func1, \"I am func1\", 0, NULL);\n    handle2 = (HANDLE)_beginthreadex(NULL, 0, func2, \"I am func2\", 0, NULL);\n\tfor(i=0; i<10; i++){ \n\t\tSleep(12);/* \u6642\u9593\u7a3c\u304e */\n\t\tprintf(\"[Main] %d\\n\",i);\n\t}\n\tWaitForSingleObject(handle1, INFINITE); /* \u30b9\u30ec\u30c3\u30c9\u304c\u7d42\u4e86\u3059\u308b\u307e\u3067\u5f85\u3064\u3002 */\n\tWaitForSingleObject(handle2, INFINITE); /* \u30b9\u30ec\u30c3\u30c9\u304c\u7d42\u4e86\u3059\u308b\u307e\u3067\u5f85\u3064\u3002 */\n    CloseHandle(handle1); /* \u30cf\u30f3\u30c9\u30eb\u3092\u9589\u3058\u308b */\n    CloseHandle(handle2); /* \u30cf\u30f3\u30c9\u30eb\u3092\u9589\u3058\u308b */\n}\n\n```\n***\n<<\u53c2\u8003>>\nhttp://www.geocities.jp/debu0510/personal/kusosure.html\n\n\n", "tags": ["C", "MinGW", "Tread", "windows7"]}