{"context": " More than 1 year has passed since last update.Windows\u3067\u3001AWK\u3092\u4f7f\u304a\u3046\u3068\u3059\u308b\u3068\u3001\u30b3\u30fc\u30c9\u3092\u56f2\u3080\u306e\u3082\u3001\u30b3\u30fc\u30c9\u4e2d\u306e\u6587\u5b57\u5217\u3082\u4e21\u65b9\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u3001\u3044\u308d\u3044\u308d\u3057\u3093\u3069\u3044\u306e\u3067\u3001\u5927\u597d\u304d\u306a Lua \u3067 AWK \u7684\u306a\u4e00\u884c\u91ce\u90ce\u3092\u66f8\u3051\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u305f\u3002\n\uff08\u3044\u3084\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u30b3\u30fc\u30c9\u56f2\u3081\u308b\u3088\u3046\u306b\u624b\u3092\u52a0\u3048\u3066\u3042\u308b AWK \u3082\u591a\u3044\u3093\u3060\u304c\u3001NYAOS\u304c\u3046\u306b\u3083\u3046\u306b\u3083)\n\nluawk.cmd\n::rem:: --[[ vim:set ft=lua: \n@lua \"%~f0\" %1 %2 %3 %4 %5 %6 %7 %8 %9 & exit /b 0\n]]--\n\n-- requires Lua 5.2\n\nif #arg < 2 then\n    print(string.format('Usage: %s \"ONELINEAR\" {FILENAMES}', arg[0]))\n    os.exit(0)\nend\n\nlocal function split(line)\n    local S = {}\n    for p in string.gmatch(line,\"%S+\") do\n        S[#S+1] = p\n    end\n    S[0] = line\n    return S\nend\n\nlocal onelinear = assert( load(arg[1] ) )\n\nNR = 0\nif #arg >= 2 then\n    for i=2,#arg do\n        FNR = 0\n        FILENAME = arg[i]\n        for line in io.lines(FILENAME) do\n            NR = NR + 1\n            FNR = FNR + 1\n            S = split(line)\n            onelinear()\n        end\n    end\nelse\n    FNR = 0\n    FILENAME=\"\"\n    for line in io.lines() do\n        NR = NR + 1\n        FNR = FNR + 1\n        S = split(line)\n        onelinear()\n    end\nend\n\n\n\u3060\u3044\u305f\u3044\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u4f7f\u3046\u3002\nluawk \"if #S>=1 then print('\\tPageData.Position.'..S[1]..',') end\" d2kcustomize63320.txt \n\n$0 , $1 , $2 \u2026 \u306f S[0] , S[1] , S[2]\u2026\u3002\nNR,FNR,FILENAME \u3068\u3044\u3063\u305f\u7d44\u8fbc\u307f\u5909\u6570\u306f\u30b5\u30dd\u30fc\u30c8\u3057\u305f\u3002\n\u304c\u3001\u6b63\u898f\u8868\u73fe\u306f\u3084\u3063\u3071\u308a AWK \u307b\u3069\u624b\u8efd\u306b\u306f\u304b\u3051\u306a\u3044\u306d\u3047\u3002\nWindows\u3067\u3001AWK\u3092\u4f7f\u304a\u3046\u3068\u3059\u308b\u3068\u3001\u30b3\u30fc\u30c9\u3092\u56f2\u3080\u306e\u3082\u3001\u30b3\u30fc\u30c9\u4e2d\u306e\u6587\u5b57\u5217\u3082\u4e21\u65b9\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u3001\u3044\u308d\u3044\u308d\u3057\u3093\u3069\u3044\u306e\u3067\u3001\u5927\u597d\u304d\u306a Lua \u3067 AWK \u7684\u306a\u4e00\u884c\u91ce\u90ce\u3092\u66f8\u3051\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u305f\u3002\n\uff08\u3044\u3084\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u3067\u30b3\u30fc\u30c9\u56f2\u3081\u308b\u3088\u3046\u306b\u624b\u3092\u52a0\u3048\u3066\u3042\u308b AWK \u3082\u591a\u3044\u3093\u3060\u304c\u3001NYAOS\u304c\u3046\u306b\u3083\u3046\u306b\u3083)\n\n```lua:luawk.cmd\n::rem:: --[[ vim:set ft=lua: \n@lua \"%~f0\" %1 %2 %3 %4 %5 %6 %7 %8 %9 & exit /b 0\n]]--\n\n-- requires Lua 5.2\n\nif #arg < 2 then\n    print(string.format('Usage: %s \"ONELINEAR\" {FILENAMES}', arg[0]))\n    os.exit(0)\nend\n\nlocal function split(line)\n    local S = {}\n    for p in string.gmatch(line,\"%S+\") do\n        S[#S+1] = p\n    end\n    S[0] = line\n    return S\nend\n\nlocal onelinear = assert( load(arg[1] ) )\n\nNR = 0\nif #arg >= 2 then\n    for i=2,#arg do\n        FNR = 0\n        FILENAME = arg[i]\n        for line in io.lines(FILENAME) do\n            NR = NR + 1\n            FNR = FNR + 1\n            S = split(line)\n            onelinear()\n        end\n    end\nelse\n    FNR = 0\n    FILENAME=\"\"\n    for line in io.lines() do\n        NR = NR + 1\n        FNR = FNR + 1\n        S = split(line)\n        onelinear()\n    end\nend\n```\n\n\u3060\u3044\u305f\u3044\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u4f7f\u3046\u3002\n\n```\nluawk \"if #S>=1 then print('\\tPageData.Position.'..S[1]..',') end\" d2kcustomize63320.txt \n```\n\n``$0`` , ``$1`` , ``$2`` \u2026 \u306f ``S[0]`` , ``S[1]`` , ``S[2]``\u2026\u3002\nNR,FNR,FILENAME \u3068\u3044\u3063\u305f\u7d44\u8fbc\u307f\u5909\u6570\u306f\u30b5\u30dd\u30fc\u30c8\u3057\u305f\u3002\n\n\u304c\u3001\u6b63\u898f\u8868\u73fe\u306f\u3084\u3063\u3071\u308a AWK \u307b\u3069\u624b\u8efd\u306b\u306f\u304b\u3051\u306a\u3044\u306d\u3047\u3002", "tags": ["Lua5.2"]}