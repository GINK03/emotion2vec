{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nversion 3.0.9\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6a5f\u69cb\u304c\u5927\u304d\u304f\u5909\u308f\u308a\u307e\u3057\u305f\u3002\u5f8c\u65b9\u4e92\u63db\u6027\u306f\u3042\u308b\u306e\u3067\u30013.0.8\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3082\u305d\u306e\u307e\u307e\u52d5\u304d\u307e\u3059\u304c\u3001\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u65b0\u3057\u3044\u6a5f\u69cb\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n\u53c2\u8003\u8cc7\u6599\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u4ed5\u69d8\u66f8\n\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u30d7\u30e9\u30b0\u30a4\u30f3\n\n\nversion 3.0.9\u3067\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u958b\u767a\nversion 3.0.9\u4ee5\u524d\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u624b\u9806\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5fc5\u9808\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0 ( \u5727\u7e2e )\n\u672c\u4f53\u7ba1\u7406\u753b\u9762\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u306b\u3057\u3066\u3001\u30c7\u30d0\u30c3\u30b0\u3057\u306a\u304c\u3089\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4ed5\u4e0a\u3052\u308b\n\nversion 3.0.9\u3067\u306f\u3001\u958b\u767a\u52b9\u7387\u3092\u3042\u3052\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u6a5f\u80fd\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\n\n\u672a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4e00\u89a7\u8868\u793a\n\u30b3\u30f3\u30bd\u30fc\u30eb\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u64cd\u4f5c\u5168\u822c\n\n\u4e0a\u8a18\u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u4f5c\u6210\u306f\u3001\u672c\u4f53\u306e\u6240\u5b9a\u306e\u4f4d\u7f6e\u306b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u5fc5\u8981\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u7f6e\u3059\u308b\u3060\u3051\u3067\u3001\u958b\u767a\u3092\u9032\u3081\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4ee5\u4e0b\u304c\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8a2d\u7f6e\u3059\u308b\u7b87\u6240\u3067\u3059\u3002\n\n\u8a2d\u7f6e\u7b87\u6240\n\nEC-CUBE3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea > app > Plugin\nEC-CUBE3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\u251c\u2500\u2500    app\n\u2502       \u251c\u2500\u2500 cache\n\u2502       \u251c\u2500\u2500 config\n\u2502       \u251c\u2500\u2500 console\n\u2502       \u251c\u2500\u2500 log\n\u2502       \u251c\u2500\u2500 Plugin \u2605\u8a2d\u7f6e\u30d5\u30a9\u30eb\u30c0\n\u2502       \u2502      \u251c\u2500\u2500 CategoryContent  \u2606\u4eca\u56de\u4f5c\u6210\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u30d5\u30a9\u30eb\u30c0\n\n\u305d\u306e\u305f\u3081\u3001\u4eca\u56de\u306f\u672c\u4f53\u306e\u4e0a\u8a18\u30d5\u30a9\u30eb\u30c0\u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u6210\u3057\u3001\u305d\u306e\u4e2d\u3067\u4f5c\u696d\u3092\u884c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u672c\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u4f5c\u6210\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\n\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\u4ed5\u69d8\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n\u7ba1\u7406\u753b\u9762\uff1a\u5546\u54c1\u7ba1\u7406\uff1e\u30ab\u30c6\u30b4\u30ea\u767b\u9332\u753b\u9762\u306b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u529b\u3067\u304d\u308b\u30d5\u30a9\u30fc\u30e0\u9805\u76ee\u3092\u8ffd\u52a0\u3059\u308b\n\u30d5\u30ed\u30f3\u30c8\uff1a\u5546\u54c1\u4e00\u89a7\u753b\u9762\u3067\u3001\u767b\u9332\u3057\u305f\u30ab\u30c6\u30b4\u30ea\u306e\u5834\u5408\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u4f5c\u6210\u30d5\u30ed\u30fc\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb ( \u30d5\u30a9\u30eb\u30c0\u306e\u8a2d\u7f6e )\u306e\u6e96\u5099\n\n\u57fa\u672c\u8a2d\u5b9a\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u308b\n\nconfig.yml\u3092\u3064\u304f\u308b\n\n\n\u203b\u8868\u793a\u78ba\u8a8d\n\n\n\u305d\u306e\u4ed6\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u3064\u304f\u308b(\u4e8b\u524d\u6e96\u5099)\n\n\n\u30c6\u30fc\u30d6\u30eb\u3068\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u60c5\u5831\u306e\u4f5c\u6210\n\n\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u3092\u3064\u304f\u308b\n\n\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u308b ( \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c )\n\n\n\u203b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u78ba\u8a8d \n\n\n\n\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u3064\u304f\u308b\n\ndcm.yml\u3092\u3064\u304f\u308b\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u69cb\u7bc9\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u4f5c\u6210\n\n\nconfig.yml\u3092\u4fee\u6b63\n\nevent.yml\u3092\u3064\u304f\u308b\n\n\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3064\u304f\u308b\n\n\n\u203b\u52d5\u4f5c\u78ba\u8a8d\n\n\n\n\n\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\n\n\n\u30d5\u30a9\u30fc\u30e0\u306b\u9805\u76ee\u8ffd\u52a0\u3059\u308b\n\nevent.yml\u3092\u4fee\u6b63\n\n\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4fee\u6b63( \u767b\u9332\u51e6\u7406\u8ffd\u52a0 )\n\n\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u3064\u304f\u308b\n\nconfig.yml\u3092\u4fee\u6b63\n\u30c7\u30fc\u30bf\u306e\u767b\u9332\n\n\n\u203b\u52d5\u4f5c\u78ba\u8a8d\n\n\n\n\n\u5546\u54c1\u4e00\u89a7\u3078\u306e\u8868\u793a\n\n\nevent.yml\u3092\u4fee\u6b63\n\n\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4fee\u6b63( \u30d5\u30ed\u30f3\u30c8\u753b\u9762\u8868\u793a\u51e6\u7406\u8ffd\u52a0 )\n\nTwig\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\n\n\u203b\u8868\u793a\u78ba\u8a8d\n\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\n\n\u5fc5\u8981\u30d5\u30a1\u30a4\u30eb\u3068\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u3055\u3063\u305d\u304f\u3064\u304f\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3001config.yml\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nconfig.yml\u306b\u306f\u4ee5\u4e0b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\nconfig.yml\nname: \u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u30d7\u30e9\u30b0\u30a4\u30f3\ncode: CategoryContent\nversion: 1.0.0\n\n\n\n\u8868\u793a\u306e\u78ba\u8a8d\n\u4f5c\u6210\u3067\u304d\u305f\u3089\u3001EC-CUBE3\u672c\u4f53\u7ba1\u7406\u753b\u9762\u306e\u30aa\u30fc\u30ca\u30fc\u30ba\u30b9\u30c8\u30a2 > \u30d7\u30e9\u30b0\u30a4\u30f3 > \u30d7\u30e9\u30b0\u30a4\u30f3\u4e00\u89a7\u3092\u958b\u304d\u307e\u3059\u3002\n\u300c\u672a\u767b\u9332\u30d7\u30e9\u30b0\u30a4\u30f3\u300d\u304c\u8868\u793a\u3055\u308c\u3001\u305d\u306e\u4e2d\u306b\u300c\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u300d\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u305d\u306e\u4ed6\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210(\u4e8b\u524d\u6e96\u5099)\n\u305d\u306e\u4ed6\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u52c9\u5f37\u306e\u305f\u3081\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u3001\u4e2d\u8eab\u306f\u7a7a\u3067\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nevent.yml\n\u8a18\u8ff0\u306a\u3057\n\n\n\nPluginManager.php\n\nnamespace Plugin\\CategoryContent;\n\nuse Eccube\\Plugin\\AbstractPluginManager;\n\nclass PluginManager extends AbstractPluginManager\n{\n\n    public function install($config, $app)\n    {\n    }\n\n    public function uninstall($config, $app)\n    {\n    }\n\n    public function enable($config, $app)\n    {\n    }\n\n    public function disable($config, $app)\n    {\n    }\n\n    public function update($config, $app)\n    {\n    }\n}\n\n\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u3001\u540d\u524d\u7a7a\u9593\u3001\u30af\u30e9\u30b9\u540d\u306e\u307f\u9069\u5b9c\u66f8\u304d\u63db\u3048\u3001\u30e1\u30bd\u30c3\u30c9\u306f\u7a7a\u3068\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u203b\u4eca\u5f8c\u3053\u306e\u4f5c\u696d\u3092\u521d\u671f\u5316\u3068\u547c\u3073\u307e\u3059\u3002\n\nServiceProvider/CategoryContentServiceProvider.php\n<?php\nnamespace Plugin\\CategoryContent\\ServiceProvider;\n\nuse Eccube\\Application;\nuse Silex\\Application as BaseApplication;\nuse Silex\\ServiceProviderInterface;\n\nclass CategoryContentServiceProvider implements ServiceProviderInterface\n{\n    public function register(BaseApplication $app)\n    {\n    }\n\n    public function boot(BaseApplication $app)\n    {\n    }\n}\n\n\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\nResource/doctrine/Plugin.CategoryContent.Entity.CategoryContent.dcm.yml\n\u8a18\u8ff0\u306a\u3057\n\n\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\nResource/template/Admin/category.twig\n\u8a18\u8ff0\u306a\u3057\n\n\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\nRepository/CategoryContentRepository.php\n\nnamespace Plugin\\CategoryContent\\Repository;\n\nuse Doctrine\\ORM\\EntityRepository;\n\nclass CategoryContentRepository extends EntityRepository\n{\n}\n\n\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\nMigration/Version20160218160500.php\n<?php\n\nnamespace DoctrineMigrations;\n\nuse Doctrine\\DBAL\\Migrations\\AbstractMigration;\nuse Doctrine\\DBAL\\Schema\\Schema;\n\nclass Version20160218160500 extends AbstractMigration\n{\n    public function up(Schema $schema)\n    {\n    }\n\n    public function down(Schema $schema)\n    {\n    }\n}\n\n\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\u203b\u3053\u3061\u3089\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u4efb\u610f\u3067\u3059\u304c\u3001Version[yyyymmddHHiiss].php\u3068\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\nForm/Extension/CategoryContentExtension.php\n\nnamespace Plugin\\CategoryContent\\Form\\Extension;\n\nuse Symfony\\Component\\Form\\AbstractTypeExtension;\nuse Symfony\\Component\\Form\\FormBuilderInterface;\nuse Symfony\\Component\\Form\\FormInterface;\nuse Symfony\\Component\\Form\\FormView;\n\nclass CategoryContentExtension extends AbstractTypeExtension\n{\n    public function buildForm(FormBuilderInterface $builder, array $options)\n    {\n    }\n\n    public function buildView(FormView $view, FormInterface $form, array $options)\n    {\n    }\n\n    public function getExtendedType()\n    {\n    }\n}\n\n\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\nEntity/CategoryContent.php\n<?php\n\nnamespace Plugin\\CategoryContent\\Entity;\n\nclass CategoryContent extends \\Eccube\\Entity\\AbstractEntity\n{\n}\n\n\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\nCategoryContentEvent.php\n\u8a18\u8ff0\u306a\u3057\n\n\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\u3053\u3053\u307e\u3067\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u4e8b\u524d\u6e96\u5099\u306f\u3053\u308c\u3067\u5b8c\u4e86\u3067\u3059\u3002\n\u30d7\u30e9\u30b0\u30a4\u30f3\u30eb\u30fc\u30c8\u30d5\u30a9\u30eb\u30c0\n\u251c\u2500\u2500 CategoryContentEvent.php\n\u251c\u2500\u2500 config.yml\n\u251c\u2500\u2500 Entity\n\u2502      \u2514\u2500\u2500 CategoryContent.php\n\u251c\u2500\u2500 event.yml\n\u251c\u2500\u2500 LICENSE.txt\n\u251c\u2500\u2500 Migration\n\u2502      \u2514\u2500\u2500 Version20160218160500.php\n\u251c\u2500\u2500 PluginManager.php\n\u251c\u2500\u2500 Repository\n\u2502      \u2514\u2500\u2500 CategoryContentRepository.php\n\u251c\u2500\u2500 Resource\n\u2502       \u251c\u2500\u2500 doctrine\n\u2502       \u2502      \u2514\u2500\u2500 Plugin.CategoryContent.Entity.CategoryContent.dcm.yml\n\u2514\u2500\u2500 ServiceProvider\n        \u2514\u2500\u2500 CategoryContentServiceProvider.php\n\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\n\u4eca\u56de\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4ed5\u69d8\u3067\u3042\u308b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u4fdd\u5b58\u306e\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\u306b\u306f\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3068\u3044\u3046\u6a5f\u80fd\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306e\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u69d8\u306b\u5b9a\u7fa9\u3057\u307e\u3057\u3087\u3046\u3002\n\nMigration/Version20160218160500.php\n<?php\n\nnamespace DoctrineMigrations;\n\nuse Doctrine\\DBAL\\Migrations\\AbstractMigration;\nuse Doctrine\\DBAL\\Schema\\Schema;\n\nclass Version20160218160500 extends AbstractMigration\n{\n    public function up(Schema $schema)\n    {\n        $this->createPluginTable($schema);\n    }\n\n    public function down(Schema $schema)\n    {\n        $schema->dropTable('plg_category_content');\n    }\n\n    protected function createPluginTable(Schema $schema)\n    {\n        $table = $schema->createTable(\"plg_category_content\");\n        $table->addColumn('category_id', 'integer');\n        $table->addColumn('content', 'text', array('notnull' => false));\n        $table->setPrimaryKey(array('category_id'));\n    }\n}\n\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306e\u4f5c\u6210\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u51fa\u6765\u305f\u3089\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u3087\u3046\u3002\n\nPluginManager.php\n<?php\nnamespace Plugin\\CategoryContent;\n\nuse Eccube\\Plugin\\AbstractPluginManager;\n\nclass PluginManager extends AbstractPluginManager\n{\n    // \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u300cup\u300d\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\n    public function install($config, $app)\n    {\n        $this->migrationSchema($app, __DIR__.'/Migration', $config['code']);\n    }\n\n    // \u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u300cdown\u300d\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\n    public function uninstall($config, $app)\n    {\n        $this->migrationSchema($app, __DIR__.'/Migration', $config['code'], 0);\n    }\n\n    // \u30d7\u30e9\u30b0\u30a4\u30f3\u6709\u52b9\u6642\u306b\u3001\u6307\u5b9a\u306e\u51e6\u7406 (\u30d5\u30a1\u30a4\u30eb\u306e\u30b3\u30d4\u30fc\u306a\u3069) \u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002(\u4eca\u56de\u306f\u306a\u3057)\n    public function enable($config, $app)\n    {\n\n    }\n\n    // \u30d7\u30e9\u30b0\u30a4\u30f3\u7121\u52b9\u6642\u306b\u3001\u6307\u5b9a\u306e\u51e6\u7406 ( \u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\u306a\u3069 ) \u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002(\u4eca\u56de\u306f\u306a\u3057)\n    public function disable($config, $app)\n    {\n\n    }\n\n    // \u30d7\u30e9\u30b0\u30a4\u30f3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u6642\u306b\u3001\u6307\u5b9a\u306e\u51e6\u7406\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002(\u4eca\u56de\u306f\u306a\u3057)\n    public function update($config, $app)\n    {\n\n    }\n}\n\n\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u8d77\u52d5\u3057\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002\u305d\u306e\u969b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u7d4c\u7531\u3067\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n$cd EC-CUBE3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n$php app/console plugin:develop install --code CategoryContent\n\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u78ba\u8a8d\n\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\u300cplg_category_content\u300d\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u5b9a\u7fa9\n\u30d5\u30a9\u30fc\u30e0\u60c5\u5831\u306e\u767b\u9332\u30fb\u66f4\u65b0\u306e\u305f\u3081\u306b\u3001\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u304c\u3001\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306e\u60c5\u5831\u306f\u3001\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u901a\u3058\u3066\u64cd\u4f5c\u3092\u3057\u307e\u3059\u3002\n\nEntity/CategoryContent.php\n<?php\nnamespace Plugin\\CategoryContent\\Entity;\n\nclass CategoryContent extends \\Eccube\\Entity\\AbstractEntity\n{\n    private $id;\n\n    private $content;\n\n    public function getId()\n    {\n        return $this->id;\n    }\n\n    public function setId($id)\n    {\n        $this->id = $id;\n\n        return $this;\n    }\n\n    public function getContent()\n    {\n        return $this->content;\n    }\n\n    public function setContent($content)\n    {\n        $this->content = $content;\n\n        return $this;\n    }\n}\n\n\n\u4f5c\u6210\u4e88\u5b9a\u306e\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306e\u9805\u76ee\u3092\u30d7\u30ed\u30d1\u30c6\u30a3 ( private ) \u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3001\u305d\u308c\u306b\u5bfe\u3059\u308b\u30b2\u30c3\u30bf\u30fc\u30fb\u30bb\u30c3\u30bf\u30fc\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\ndcm.yml\u306e\u5b9a\u7fa9\n\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u4fdd\u6301\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u3001\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092dcm.yml\u306b\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\nResource/doctrine/Plugin.CategoryContent.Entity.CategoryContent.dcm.yml\nPlugin\\CategoryContent\\Entity\\CategoryContent:\n    type: entity\n    table: plg_category_content\n    repositoryClass: Plugin\\CategoryContent\\Repository\\CategoryContentRepository\n    id:\n        id:\n            type: integer\n            nullable: false\n            unsigned: false\n            id: true\n            column: category_id\n            generator:\n                strategy: NONE\n    fields:\n        content:\n            type: text\n            nullable: true\n    lifecycleCallbacks: {  }\n\n\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u69cb\u7bc9\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u4f5c\u6210\n\u7ba1\u7406\u753b\u9762\u306e\u3001\u5546\u54c1\u7ba1\u7406 > \u30ab\u30c6\u30b4\u30ea\u767b\u9332\u306b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u3001\u30d5\u30a9\u30fc\u30e0\u9805\u76ee\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u3053\u304b\u3089\u30013.0.9\u3067\u65b0\u3057\u304f\u5b9a\u7fa9\u3055\u308c\u305f\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8 ( \u30a4\u30d9\u30f3\u30c8 ) \u3092\u3064\u304b\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u4f7f\u3046\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n- config.yml\u3067\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u306e\u30af\u30e9\u30b9\u540d\u3092\u6307\u5b9a\u3059\u308b\n- event.yml\u3067\u3001\u5229\u7528\u3059\u308b\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u3068\u3001\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u6307\u5b9a\u3059\u308b\n- \u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4f5c\u308b\n\n\nconfig.yml\u306e\u4fee\u6b63\nconfig.yml\u306b\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nconfig.yml\nname: \u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u30d7\u30e9\u30b0\u30a4\u30f3\ncode: CategoryContent\nversion: 1.0.0\nevent: CategoryContentEvent \u2605\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u6307\u5b9a\n\n\n\nevent.yml\u3092\u4f5c\u6210\n\u7ba1\u7406\u753b\u9762\u306e\u30ab\u30c6\u30b4\u30ea\u767b\u9332\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n- admin.product.category.index.initialize\n- admin.product.category.index.complete\n\n\u4eca\u56de\u306f\u30d5\u30a9\u30fc\u30e0\u306b\u9805\u76ee\u3092\u8ffd\u52a0\u3059\u308b\u306e\u3067\u3001initialize\u306e\u65b9\u3092\u4f7f\u3044\u307e\u3059\u3002\nevent.yml\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\nevent.yml\nadmin.product.category.index.initialize: \u2605\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30c8\n    - [onAdminProductCategoryInit, NORMAL]  \u2605\u30e1\u30bd\u30c3\u30c9\u540d\n\n\n\u6ce8.) \u3053\u306e\u969b\u3001\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u8a18\u8ff0\u3057\u3066\u3044\u308b\u884c\u3067\u3059\u304c\u3001\u30b9\u30da\u30fc\u30b9\u30924\u3064\u306e\u5f8c\u306b\u300c-(\u30cf\u30a4\u30d5\u30f3)\u300d\u305d\u306e\u5f8c\u306b\u3001\u307e\u305f\u30b9\u30da\u30fc\u30b9\u30921\u3064\u4ed8\u4e0e\u3057\u306a\u3044\u3068\u3001\u8a2d\u5b9a\u304c\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\u305f\u3081\u6b63\u3057\u304f\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\n\u203b\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u306e\u4e00\u89a7\u306f\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u4ed5\u69d8\u66f8\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4f5c\u6210\n\u3053\u3053\u307e\u3067\u3067\u3001\n- \u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u547c\u3073\u51fa\u3055\u308c\u305f\u6642\u306b\n- CategoryContentEvent\u30af\u30e9\u30b9 \u306e\n- onAdminProductCategoryInit\u30e1\u30bd\u30c3\u30c9\n\n\u304c\u5b9f\u884c\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u5b9a\u7fa9\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u3067\u306fCategoryContentEvent\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\nCategoryContentEvent.php\n<?php\nnamespace Plugin\\CategoryContent;\n\nuse Eccube\\Event\\EventArgs;\n\nclass CategoryContentEvent\n{\n    /** @var \\Eccube\\Application $app */\n    private $app;\n\n    public function __construct($app)\n    {\n        $this->app = $app;\n    }\n\n    public function onFormInitializeAdminProductCategory(EventArgs $event)\n    {\n        dump(111);\n    }\n\n\n\u3068\u308a\u3042\u3048\u305a\u7a7a\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u3063\u3066\u3001\u52d5\u304f\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3092\u3057\u3066\u307f\u307e\u3059\u3002\nEC-CUBE3\u672c\u4f53\u3001\u7ba1\u7406\u753b\u9762\u306e\u3001\u5546\u54c1\u7ba1\u7406 > \u30ab\u30c6\u30b4\u30ea\u767b\u9332\u306b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\u753b\u9762\u4e0a\u90e8\u306b111\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070\u30a4\u30d9\u30f3\u30c8\u304c\u7a3c\u50cd\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\n\n\u62e1\u5f35\u9805\u76ee\u306e\u5b9a\u7fa9\n\u52d5\u4f5c\u78ba\u8a8d\u304c\u3068\u308c\u305f\u3089\u3001\u7ba1\u7406\u753b\u9762\u30ab\u30c6\u30b4\u30ea\u767b\u9332\u30d5\u30a9\u30fc\u30e0\u306b\u8ffd\u52a0\u3059\u308b\u9805\u76ee\u3092\u5b9a\u7fa9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nCategoryContentEvent.php\n<?php\nnamespace Plugin\\CategoryContent;\n\nuse Eccube\\Application;\nuse Eccube\\Common\\Constant;\nuse Eccube\\Entity\\Category;\nuse Eccube\\Event\\EventArgs;\nuse Eccube\\Event\\TemplateEvent;\nuse Plugin\\CategoryContent\\Entity\\CategoryContent;\nuse Symfony\\Component\\Form\\FormInterface;\nuse Symfony\\Component\\HttpKernel\\Event\\FilterResponseEvent;\n\nclass CategoryContentEvent\n{\n    /**\n     * \u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u8ffd\u52a0\u3059\u308b\u30d5\u30a9\u30fc\u30e0\u540d\n     */\n    const CATEGORY_CONTENT_TEXTAREA_NAME = 'plg_category_content';\n\n    /** @var \\Eccube\\Application $app */\n    private $app;\n\n    public function __construct($app)\n    {\n        $this->app = $app;\n    }\n\n    public function onFormInitializeAdminProductCategory(EventArgs $event)\n    {\n        /** @var Category $target_category */\n        $TargetCategory = $event->getArgument('TargetCategory');\n        $id = $TargetCategory->getId();\n\n        $CategoryContent = null;\n\n        // ID\u306e\u6709\u7121\u3067\u767b\u9332\u304b\u7de8\u96c6\u304b\u3092\u5224\u65ad\n        if ($id) {\n            // \u30ab\u30c6\u30b4\u30ea\u7de8\u96c6\u6642\u306f\u521d\u671f\u5024\u3092\u53d6\u5f97\n            $CategoryContent = $this->app['category_content.repository.category_content']->find($id);\n        }\n\n         // \u30ab\u30c6\u30b4\u30ea\u65b0\u898f\u767b\u9332\u307e\u305f\u306f\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u672a\u767b\u9332\u306e\u5834\u5408\n        if (is_null($CategoryContent)) {\n            $CategoryContent = new CategoryContent();\n        }\n\n        // \u30d5\u30a9\u30fc\u30e0\u306e\u8ffd\u52a0\n        /** @var FormInterface $builder */\n        // FormBuilde\u306e\u53d6\u5f97\n        $builder = $event->getArgument('builder');\n        // \u9805\u76ee\u306e\u8ffd\u52a0\n        $builder->add(\n            self::CATEGORY_CONTENT_TEXTAREA_NAME,\n            'textarea',\n            array(\n                'required' => false,\n                'label' => false,\n                'mapped' => false,\n                'attr' => array(\n                    'placeholder' => '\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044(HTML\u30bf\u30b0\u4f7f\u7528\u53ef)',\n                ),\n            )\n        );\n\n        // \u521d\u671f\u5024\u3092\u8a2d\u5b9a\n        $builder->get(self::CATEGORY_CONTENT_TEXTAREA_NAME)->setData($CategoryContent->getContent());\n\n    } \n}\n\n\n\u4f5c\u6210\u3067\u304d\u305f\u3089\u3001EC-CUBE3\u672c\u4f53\u7ba1\u7406\u753b\u9762\u306e\u5546\u54c1\u7ba1\u7406 > \u30ab\u30c6\u30b4\u30ea\u767b\u9332 \u3092\u958b\u304d\u307e\u3059\u3002\n\u753b\u9762\u3092\u958b\u304f\u3068\u8ffd\u52a0\u3057\u305f\u3001\u30c6\u30ad\u30b9\u30c8\u30a8\u30ea\u30a2\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\u6ce8.) \u9805\u76ee\u306b\u5fc5\u305a\u3001'mapped' => false \u3092\u4ed8\u4e0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ed8\u4e0e\u3092\u5fd8\u308c\u308b\u3068\u3001\u3082\u3068\u306e\u30d5\u30a9\u30fc\u30e0\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u5bfe\u3057\u3066\u3001\u9805\u76ee\u3092\u63a2\u7d22\u3059\u308b\u305f\u3081\u306b\u3001\n\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\nevent.yml\u3092\u4fee\u6b63\n\u6b21\u306b\u30d5\u30a9\u30fc\u30e0\u767b\u9332\u306e\u305f\u3081\u306b\u3001\u6b8b\u308a1\u3064\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u3067\u3042\u308badmin.product.category.index.complete\u3092\u4f7f\u7528\u3057\u3066\u3001\u767b\u9332\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\u307e\u305a\u306f\u3001\u524d\u4f8b\u306b\u306a\u3089\u3063\u3066\u3001\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u306b\u5bfe\u3059\u308b\u3001\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\nevent.yml\nadmin.product.category.index.initialize: \u2605\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30c8\n    - [onAdminProductCategoryInit, NORMAL]  \u2605\u30e1\u30bd\u30c3\u30c9\u540d\nadmin.product.category.index.complete:   \u2606\u30d5\u30a9\u30fc\u30e0\u767b\u9332\u306e\u305f\u3081\u306b\u5229\u7528\u3059\u308b\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\n    - [onAdminProductCategoryEditComplete, NORMAL]   \u2606\u30d5\u30a9\u30fc\u30e0\u767b\u9332\u51e6\u7406\u30e1\u30bd\u30c3\u30c9\n\n\n\n\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4fee\u6b63\n\u6b21\u306b\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u306b\u3001\u767b\u9332\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\nCategoryContentEvent.php\u306b\u5bfe\u3057\u3066\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nCategoryContentEvent.php\n    /**\n     * \u7ba1\u7406\u753b\u9762\uff1a\u30ab\u30c6\u30b4\u30ea\u767b\u9332\u753b\u9762\u3067\u3001\u767b\u9332\u51e6\u7406\u3092\u884c\u3046.\n     *\n     * @param EventArgs $event\n     */\n    public function onAdminProductCategoryEditComplete(EventArgs $event)\n    {\n        /** @var Application $app */\n        $app = $this->app;\n        /** @var Category $target_category */\n        $TargetCategory = $event->getArgument('TargetCategory');\n        /** @var FormInterface $form */\n        $form = $event->getArgument('form');\n\n        // \u73fe\u5728\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u53d6\u5f97\n        $id = $TargetCategory->getId();\n        // \u30d5\u30a9\u30fc\u30e0\u5024\u306eID\u3092\u3082\u3068\u306b\u767b\u9332\u30ab\u30c6\u30b4\u30ea\u60c5\u5831\u3092\u53d6\u5f97\n        $CategoryContent = $app['category_content.repository.category_content']->find($id);\n        if (is_null($CategoryContent)) {\n            $CategoryContent = new CategoryContent();\n        }\n\n        // \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\n        $CategoryContent\n            ->setId($id)\n            ->setContent($form[self::CATEGORY_CONTENT_TEXTAREA_NAME]->getData());\n\n        // DB\u66f4\u65b0\n        $app['orm.em']->persist($CategoryContent);\n        $app['orm.em']->flush($CategoryContent);\n    }\n\n\n\n\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u3064\u304f\u308b\n\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3067\u8ffd\u52a0\u3057\u305f\u767b\u9332\u51e6\u7406\u5185\u3067\u3001\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u7b87\u6240\u304c\u3042\u308a\u307e\u3059\u3002\n\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u5185\u3067\u3001\u30ec\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3055\u3063\u305d\u304f\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306b\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\n\nServiceProvider/CategoryContentServiceProvider.php\n<?php\nnamespace Plugin\\CategoryContent\\ServiceProvider;\n\nuse Eccube\\Application;\nuse Silex\\Application as BaseApplication;\nuse Silex\\ServiceProviderInterface;\n\nclass CategoryContentServiceProvider implements ServiceProviderInterface\n{\n    public function register(BaseApplication $app)\n    {\n        //Repository\n        $app['category_content.repository.category_content'] = $app->share(function () use ($app) {\n            return $app['orm.em']->getRepository('Plugin\\CategoryContent\\Entity\\CategoryContent');\n        });\n\n    }\n\n    public function boot(BaseApplication $app)\n    {\n    }\n}\n\n\n\nconfig.yml\u306e\u4fee\u6b63\n\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306b\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u304c\u7d42\u308f\u3063\u305f\u3089\u3001config.yml\u306b\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u307e\u305f\u3042\u308f\u305b\u3066\u3001dcm.yml\u306e\u30d1\u30b9\u3082\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u3092config.yml\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nconfig.yml\nservice:\n    - CategoryContentServiceProvider\norm.path:\n    - /Resource/doctrine\n\n\n\n\u767b\u9332\u78ba\u8a8d\n\u4f5c\u6210\u3067\u304d\u305f\u3089\u3001\u7ba1\u7406\u753b\u9762\u306e\u5546\u54c1\u7ba1\u7406 > \u30ab\u30c6\u30b4\u30ea\u767b\u9332 \u3092\u958b\u304d\u307e\u3059\u3002\n\u65b0\u898f\u3067\u300c\u30ab\u30c6\u30b4\u30ea\u540d\u300d\u3092\u5165\u529b\u3057\u3001\u30c6\u30ad\u30b9\u30c8\u30a8\u30ea\u30a2\u306b\u4efb\u610f\u306e\u6587\u5b57\u3092\u5165\u529b\u3057\u3066\u3001\u300c\u30ab\u30c6\u30b4\u30ea\u4f5c\u6210\u300d\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\u300c\u30ab\u30c6\u30b4\u30ea\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u300d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n\u4ee5\u4e0a\u3067\u7ba1\u7406\u753b\u9762\u306e\u5b9f\u88c5\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\u5546\u54c1\u4e00\u89a7\u3078\u306e\u8868\u793a\n\u767b\u9332\u3057\u305f\u30ab\u30c6\u30b4\u30ea\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u60c5\u5831\u3092\u3001\u30d5\u30ed\u30f3\u30c8\u753b\u9762\u3067\u8868\u793a\u3067\u304d\u308b\u69d8\u306b\u3001\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\n\u3053\u3053\u3067\u306f\u3001Twig\u306b\u5bfe\u3059\u308b\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u8a18\u8ff0\u3059\u308bTwig\u3092\u4f5c\u6210\u3057\u3001\u8868\u793a\u5185\u5bb9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\nevent.yml\u4fee\u6b63\n\nevent.yml\n# front page event\nProduct/list.twig:\n    - [onRenderProductList, NORMAL]\n\n\n\u6ce8.) \u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u540d\u306f\u3001Twig\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u8a72\u5f53\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306e\u300crender\u300d\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u78ba\u8a8d\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u305f\u3060\u3057\u3001\u7ba1\u7406\u753b\u9762\u306b\u306f\u300cAdmin/\u300d\u3092\u5148\u982d\u306b\u4ed8\u4e0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4fee\u6b63( \u30d5\u30ed\u30f3\u30c8\u753b\u9762\u8868\u793a\u51e6\u7406\u8ffd\u52a0 )\n\u6b21\u306b\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u306b\u8868\u793a\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\nCategoryContentEvent.php\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\nCategoryContentEvent.php\n    /**\n     * \u5546\u54c1\u4e00\u89a7\u753b\u9762\u306b\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b.\n     *\n     * @param TemplateEvent $event\n     */\n    public function onRenderProductList(TemplateEvent $event)\n    {\n        $parameters = $event->getParameters();\n\n        // \u30ab\u30c6\u30b4\u30eaID\u304c\u306a\u3044\u5834\u5408\u3001\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u306a\u3044\n        if (is_null($parameters['Category'])) {\n            return;\n        }\n\n        // \u767b\u9332\u304c\u306a\u3044\u3001\u3082\u3057\u304f\u306f\u7a7a\u3067\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u3057\u306a\u3044\n        $Category = $parameters['Category'];\n        $CategoryContent = $this->app['category_content.repository.category_content']\n            ->find($Category->getId());\n        if (is_null($CategoryContent) || $CategoryContent->getContent() == '') {\n            return;\n        }\n\n        // twig\u30b3\u30fc\u30c9\u306b\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u633f\u5165\n        $snipet = '<div class=\"row\">{{ CategoryContent.content | raw }}</div>';\n        $search = '<div id=\"result_info_box\"';\n        $replace = $snipet.$search;\n        $source = str_replace($search, $replace, $event->getSource());\n        $event->setSource($source);\n\n        // twig\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8ffd\u52a0\n        $parameters['CategoryContent'] = $CategoryContent;\n        $event->setParameters($parameters);\n    }\n\n\n\n\u8868\u793a\u78ba\u8a8d\n\u3053\u308c\u3067\u5168\u3066\u306e\u5b9f\u88c5\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\u7ba1\u7406\u753b\u9762 > \u5546\u54c1\u7ba1\u7406 > \u5546\u54c1\u30de\u30b9\u30bf \u304b\u3089\u4efb\u610f\u306e\u5546\u54c1\u3092\u691c\u7d22\u3057\u3001\u30ab\u30c6\u30b4\u30ea\u3067\u3001\u4f5c\u6210\u3057\u305f\u30ab\u30c6\u30b4\u30ea\u306b\u30c1\u30a7\u30c3\u30af\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\u30d5\u30ed\u30f3\u30c8\u753b\u9762\u306e\u30c8\u30c3\u30d7\u3067\u8a72\u5f53\u30ab\u30c6\u30b4\u30ea\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u5546\u54c1\u306e\u4e0a\u306b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u6210\u529f\u3067\u3059\u3002\n# \u306f\u3058\u3081\u306b\nversion 3.0.9\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6a5f\u69cb\u304c\u5927\u304d\u304f\u5909\u308f\u308a\u307e\u3057\u305f\u3002\u5f8c\u65b9\u4e92\u63db\u6027\u306f\u3042\u308b\u306e\u3067\u30013.0.8\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3082\u305d\u306e\u307e\u307e\u52d5\u304d\u307e\u3059\u304c\u3001\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u65b0\u3057\u3044\u6a5f\u69cb\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n# \u53c2\u8003\u8cc7\u6599\n- [\u30d7\u30e9\u30b0\u30a4\u30f3\u4ed5\u69d8\u66f8](http://downloads.ec-cube.net/src/manual/v3/plugin.pdf)\n- [\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u30d7\u30e9\u30b0\u30a4\u30f3](https://github.com/EC-CUBE/category-content-plugin)\n\n## version 3.0.9\u3067\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u958b\u767a\nversion 3.0.9\u4ee5\u524d\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u624b\u9806\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u6210\u3057\u3066\u3044\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\n1. \u5fc5\u9808\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n2. \u30d1\u30c3\u30b1\u30fc\u30b8\u30f3\u30b0 ( \u5727\u7e2e )\n3. \u672c\u4f53\u7ba1\u7406\u753b\u9762\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n4. \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u306b\u3057\u3066\u3001\u30c7\u30d0\u30c3\u30b0\u3057\u306a\u304c\u3089\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4ed5\u4e0a\u3052\u308b\n\nversion 3.0.9\u3067\u306f\u3001\u958b\u767a\u52b9\u7387\u3092\u3042\u3052\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u6a5f\u80fd\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\n\n1. \u672a\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4e00\u89a7\u8868\u793a\n2. \u30b3\u30f3\u30bd\u30fc\u30eb\u30b3\u30de\u30f3\u30c9\u306b\u3088\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u64cd\u4f5c\u5168\u822c\n\n\u4e0a\u8a18\u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u4f5c\u6210\u306f\u3001\u672c\u4f53\u306e\u6240\u5b9a\u306e\u4f4d\u7f6e\u306b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u5fc5\u8981\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u7f6e\u3059\u308b\u3060\u3051\u3067\u3001\u958b\u767a\u3092\u9032\u3081\u3066\u3044\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u304c\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8a2d\u7f6e\u3059\u308b\u7b87\u6240\u3067\u3059\u3002\n\n### **\u8a2d\u7f6e\u7b87\u6240**\n\nEC-CUBE3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea > app > Plugin\n\n```\nEC-CUBE3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\u251c\u2500\u2500    app\n\u2502       \u251c\u2500\u2500 cache\n\u2502       \u251c\u2500\u2500 config\n\u2502       \u251c\u2500\u2500 console\n\u2502       \u251c\u2500\u2500 log\n\u2502       \u251c\u2500\u2500 Plugin \u2605\u8a2d\u7f6e\u30d5\u30a9\u30eb\u30c0\n\u2502       \u2502      \u251c\u2500\u2500 CategoryContent  \u2606\u4eca\u56de\u4f5c\u6210\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u30d5\u30a9\u30eb\u30c0\n```\n\n\u305d\u306e\u305f\u3081\u3001\u4eca\u56de\u306f**\u672c\u4f53\u306e\u4e0a\u8a18\u30d5\u30a9\u30eb\u30c0\u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u30d5\u30a9\u30eb\u30c0\u3092\u4f5c\u6210**\u3057\u3001**\u305d\u306e\u4e2d\u3067\u4f5c\u696d**\u3092\u884c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n# \u672c\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u4f5c\u6210\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\n\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\u4ed5\u69d8\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n\n```\n\u7ba1\u7406\u753b\u9762\uff1a\u5546\u54c1\u7ba1\u7406\uff1e\u30ab\u30c6\u30b4\u30ea\u767b\u9332\u753b\u9762\u306b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u529b\u3067\u304d\u308b\u30d5\u30a9\u30fc\u30e0\u9805\u76ee\u3092\u8ffd\u52a0\u3059\u308b\n\u30d5\u30ed\u30f3\u30c8\uff1a\u5546\u54c1\u4e00\u89a7\u753b\u9762\u3067\u3001\u767b\u9332\u3057\u305f\u30ab\u30c6\u30b4\u30ea\u306e\u5834\u5408\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b\n```\n\n# \u30d7\u30e9\u30b0\u30a4\u30f3\u4f5c\u6210\u30d5\u30ed\u30fc\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n### \u30d7\u30e9\u30b0\u30a4\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb ( \u30d5\u30a9\u30eb\u30c0\u306e\u8a2d\u7f6e )\u306e\u6e96\u5099\n#### \u57fa\u672c\u8a2d\u5b9a\n1. **\u30c7\u30a3\u30ec\u30af\u30c8\u30ea**\u3092\u4f5c\u308b\n1. **config.yml**\u3092\u3064\u304f\u308b\n   - \u203b\u8868\u793a\u78ba\u8a8d\n1. \u305d\u306e\u4ed6\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u3064\u304f\u308b(\u4e8b\u524d\u6e96\u5099)\n\n#### \u30c6\u30fc\u30d6\u30eb\u3068\u30c6\u30fc\u30d6\u30eb\u5b9a\u7fa9\u60c5\u5831\u306e\u4f5c\u6210\n1. **\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb**\u3092\u4f5c\u308b\n1. **\u30d7\u30e9\u30b0\u30a4\u30f3\u30de\u30cd\u30fc\u30b8\u30e3**\u3092\u3064\u304f\u308b\n1. **\u30c6\u30fc\u30d6\u30eb**\u3092\u4f5c\u308b ( \u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c )\n   - \u203b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u78ba\u8a8d \n1. **\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3**\u3092\u3064\u304f\u308b\n1. **dcm.yml**\u3092\u3064\u304f\u308b\n\n### \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u69cb\u7bc9\n#### \u30a4\u30d9\u30f3\u30c8\u306e\u4f5c\u6210\n1. **config.yml**\u3092\u4fee\u6b63\n1. **event.yml**\u3092\u3064\u304f\u308b\n1. **\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9**\u3064\u304f\u308b\n   - \u203b\u52d5\u4f5c\u78ba\u8a8d\n\n#### \u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\n1. **\u30d5\u30a9\u30fc\u30e0**\u306b\u9805\u76ee\u8ffd\u52a0\u3059\u308b\n1. **event.yml**\u3092\u4fee\u6b63\n1. **\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9**\u3092\u4fee\u6b63( \u767b\u9332\u51e6\u7406\u8ffd\u52a0 )\n1. **\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0**\u3092\u3064\u304f\u308b\n1. **config.yml**\u3092\u4fee\u6b63\n1. \u30c7\u30fc\u30bf\u306e\u767b\u9332\n   - \u203b\u52d5\u4f5c\u78ba\u8a8d\n\n#### \u5546\u54c1\u4e00\u89a7\u3078\u306e\u8868\u793a\n1. **event.yml**\u3092\u4fee\u6b63\n1. **\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9**\u3092\u4fee\u6b63( \u30d5\u30ed\u30f3\u30c8\u753b\u9762\u8868\u793a\u51e6\u7406\u8ffd\u52a0 )\n1. **Twig\u30d5\u30a1\u30a4\u30eb**\u306e\u4f5c\u6210\n   - \u203b\u8868\u793a\u78ba\u8a8d\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u307e\u3067\n### \u5fc5\u8981\u30d5\u30a1\u30a4\u30eb\u3068\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u3055\u3063\u305d\u304f\u3064\u304f\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3001config.yml\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nconfig.yml\u306b\u306f\u4ee5\u4e0b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```yaml:config.yml\nname: \u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u30d7\u30e9\u30b0\u30a4\u30f3\ncode: CategoryContent\nversion: 1.0.0\n```\n\n### \u8868\u793a\u306e\u78ba\u8a8d\n\u4f5c\u6210\u3067\u304d\u305f\u3089\u3001EC-CUBE3\u672c\u4f53\u7ba1\u7406\u753b\u9762\u306e\u30aa\u30fc\u30ca\u30fc\u30ba\u30b9\u30c8\u30a2 > \u30d7\u30e9\u30b0\u30a4\u30f3 > \u30d7\u30e9\u30b0\u30a4\u30f3\u4e00\u89a7\u3092\u958b\u304d\u307e\u3059\u3002\n\u300c\u672a\u767b\u9332\u30d7\u30e9\u30b0\u30a4\u30f3\u300d\u304c\u8868\u793a\u3055\u308c\u3001\u305d\u306e\u4e2d\u306b\u300c\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u300d\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n### \u305d\u306e\u4ed6\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210(\u4e8b\u524d\u6e96\u5099)\n\u305d\u306e\u4ed6\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001\u52c9\u5f37\u306e\u305f\u3081\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u3001\u4e2d\u8eab\u306f\u7a7a\u3067\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```yaml:event.yml\n\u8a18\u8ff0\u306a\u3057\n```\n\n\n```php:PluginManager.php\n\nnamespace Plugin\\CategoryContent;\n\nuse Eccube\\Plugin\\AbstractPluginManager;\n\nclass PluginManager extends AbstractPluginManager\n{\n\n    public function install($config, $app)\n    {\n    }\n\n    public function uninstall($config, $app)\n    {\n    }\n\n    public function enable($config, $app)\n    {\n    }\n\n    public function disable($config, $app)\n    {\n    }\n\n    public function update($config, $app)\n    {\n    }\n}\n```\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u3001\u540d\u524d\u7a7a\u9593\u3001\u30af\u30e9\u30b9\u540d\u306e\u307f\u9069\u5b9c\u66f8\u304d\u63db\u3048\u3001\u30e1\u30bd\u30c3\u30c9\u306f\u7a7a\u3068\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u203b\u4eca\u5f8c\u3053\u306e\u4f5c\u696d\u3092**\u521d\u671f\u5316**\u3068\u547c\u3073\u307e\u3059\u3002\n\n```php:ServiceProvider/CategoryContentServiceProvider.php\n<?php\nnamespace Plugin\\CategoryContent\\ServiceProvider;\n\nuse Eccube\\Application;\nuse Silex\\Application as BaseApplication;\nuse Silex\\ServiceProviderInterface;\n\nclass CategoryContentServiceProvider implements ServiceProviderInterface\n{\n    public function register(BaseApplication $app)\n    {\n    }\n\n    public function boot(BaseApplication $app)\n    {\n    }\n}\n```\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\n```yaml:Resource/doctrine/Plugin.CategoryContent.Entity.CategoryContent.dcm.yml\n\u8a18\u8ff0\u306a\u3057\n```\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\n```twig:Resource/template/Admin/category.twig\n\u8a18\u8ff0\u306a\u3057\n```\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\n```php:Repository/CategoryContentRepository.php\n\nnamespace Plugin\\CategoryContent\\Repository;\n\nuse Doctrine\\ORM\\EntityRepository;\n\nclass CategoryContentRepository extends EntityRepository\n{\n}\n```\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\n```php:Migration/Version20160218160500.php\n<?php\n\nnamespace DoctrineMigrations;\n\nuse Doctrine\\DBAL\\Migrations\\AbstractMigration;\nuse Doctrine\\DBAL\\Schema\\Schema;\n\nclass Version20160218160500 extends AbstractMigration\n{\n    public function up(Schema $schema)\n    {\n    }\n\n    public function down(Schema $schema)\n    {\n    }\n}\n```\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\u203b\u3053\u3061\u3089\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u4efb\u610f\u3067\u3059\u304c\u3001Version[yyyymmddHHiiss].php\u3068\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n```php:Form/Extension/CategoryContentExtension.php\n\nnamespace Plugin\\CategoryContent\\Form\\Extension;\n\nuse Symfony\\Component\\Form\\AbstractTypeExtension;\nuse Symfony\\Component\\Form\\FormBuilderInterface;\nuse Symfony\\Component\\Form\\FormInterface;\nuse Symfony\\Component\\Form\\FormView;\n\nclass CategoryContentExtension extends AbstractTypeExtension\n{\n    public function buildForm(FormBuilderInterface $builder, array $options)\n    {\n    }\n\n    public function buildView(FormView $view, FormInterface $form, array $options)\n    {\n    }\n\n    public function getExtendedType()\n    {\n    }\n}\n```\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\n\n```php:Entity/CategoryContent.php\n<?php\n\nnamespace Plugin\\CategoryContent\\Entity;\n\nclass CategoryContent extends \\Eccube\\Entity\\AbstractEntity\n{\n}\n```\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\n```php:CategoryContentEvent.php\n\u8a18\u8ff0\u306a\u3057\n```\n\u3053\u3061\u3089\u3082\u30b3\u30d4\u30fc\u521d\u671f\u5316\n\n\n\u3053\u3053\u307e\u3067\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u4e8b\u524d\u6e96\u5099\u306f\u3053\u308c\u3067\u5b8c\u4e86\u3067\u3059\u3002\n\n```\n\u30d7\u30e9\u30b0\u30a4\u30f3\u30eb\u30fc\u30c8\u30d5\u30a9\u30eb\u30c0\n\u251c\u2500\u2500 CategoryContentEvent.php\n\u251c\u2500\u2500 config.yml\n\u251c\u2500\u2500 Entity\n\u2502      \u2514\u2500\u2500 CategoryContent.php\n\u251c\u2500\u2500 event.yml\n\u251c\u2500\u2500 LICENSE.txt\n\u251c\u2500\u2500 Migration\n\u2502      \u2514\u2500\u2500 Version20160218160500.php\n\u251c\u2500\u2500 PluginManager.php\n\u251c\u2500\u2500 Repository\n\u2502      \u2514\u2500\u2500 CategoryContentRepository.php\n\u251c\u2500\u2500 Resource\n\u2502       \u251c\u2500\u2500 doctrine\n\u2502       \u2502      \u2514\u2500\u2500 Plugin.CategoryContent.Entity.CategoryContent.dcm.yml\n\u2514\u2500\u2500 ServiceProvider\n        \u2514\u2500\u2500 CategoryContentServiceProvider.php\n```\n\n\n### \u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\n\u4eca\u56de\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4ed5\u69d8\u3067\u3042\u308b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u4fdd\u5b58\u306e\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\u306b\u306f\u3001**\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3**\u3068\u3044\u3046\u6a5f\u80fd\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306e\u3001\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u69d8\u306b\u5b9a\u7fa9\u3057\u307e\u3057\u3087\u3046\u3002\n\n```php:Migration/Version20160218160500.php\n<?php\n\nnamespace DoctrineMigrations;\n\nuse Doctrine\\DBAL\\Migrations\\AbstractMigration;\nuse Doctrine\\DBAL\\Schema\\Schema;\n\nclass Version20160218160500 extends AbstractMigration\n{\n    public function up(Schema $schema)\n    {\n        $this->createPluginTable($schema);\n    }\n\n    public function down(Schema $schema)\n    {\n        $schema->dropTable('plg_category_content');\n    }\n\n    protected function createPluginTable(Schema $schema)\n    {\n        $table = $schema->createTable(\"plg_category_content\");\n        $table->addColumn('category_id', 'integer');\n        $table->addColumn('content', 'text', array('notnull' => false));\n        $table->setPrimaryKey(array('category_id'));\n    }\n}\n```\n### \u30d7\u30e9\u30b0\u30a4\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u306e\u4f5c\u6210\n\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u51fa\u6765\u305f\u3089\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u3087\u3046\u3002\n\n```php:PluginManager.php\n<?php\nnamespace Plugin\\CategoryContent;\n\nuse Eccube\\Plugin\\AbstractPluginManager;\n\nclass PluginManager extends AbstractPluginManager\n{\n    // \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u300cup\u300d\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\n    public function install($config, $app)\n    {\n        $this->migrationSchema($app, __DIR__.'/Migration', $config['code']);\n    }\n\n    // \u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u300cdown\u300d\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\n    public function uninstall($config, $app)\n    {\n        $this->migrationSchema($app, __DIR__.'/Migration', $config['code'], 0);\n    }\n\n    // \u30d7\u30e9\u30b0\u30a4\u30f3\u6709\u52b9\u6642\u306b\u3001\u6307\u5b9a\u306e\u51e6\u7406 (\u30d5\u30a1\u30a4\u30eb\u306e\u30b3\u30d4\u30fc\u306a\u3069) \u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002(\u4eca\u56de\u306f\u306a\u3057)\n    public function enable($config, $app)\n    {\n\n    }\n\n    // \u30d7\u30e9\u30b0\u30a4\u30f3\u7121\u52b9\u6642\u306b\u3001\u6307\u5b9a\u306e\u51e6\u7406 ( \u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\u306a\u3069 ) \u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002(\u4eca\u56de\u306f\u306a\u3057)\n    public function disable($config, $app)\n    {\n\n    }\n\n    // \u30d7\u30e9\u30b0\u30a4\u30f3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u6642\u306b\u3001\u6307\u5b9a\u306e\u51e6\u7406\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002(\u4eca\u56de\u306f\u306a\u3057)\n    public function update($config, $app)\n    {\n\n    }\n}\n```\n\n### \u30c6\u30fc\u30d6\u30eb\u306e\u4f5c\u6210\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u8d77\u52d5\u3057\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002\u305d\u306e\u969b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u30de\u30cd\u30fc\u30b8\u30e3\u30fc\u7d4c\u7531\u3067\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\n```shell-session\n$cd EC-CUBE3\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n$php app/console plugin:develop install --code CategoryContent\n```\n\n### \u30c6\u30fc\u30d6\u30eb\u306e\u78ba\u8a8d\n\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001**\u300cplg_category_content\u300d**\u30c6\u30fc\u30d6\u30eb\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u306e\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u5b9a\u7fa9\n\u30d5\u30a9\u30fc\u30e0\u60c5\u5831\u306e\u767b\u9332\u30fb\u66f4\u65b0\u306e\u305f\u3081\u306b\u3001\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u304c\u3001\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306e\u60c5\u5831\u306f\u3001\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u901a\u3058\u3066\u64cd\u4f5c\u3092\u3057\u307e\u3059\u3002\n\n```php:Entity/CategoryContent.php\n<?php\nnamespace Plugin\\CategoryContent\\Entity;\n\nclass CategoryContent extends \\Eccube\\Entity\\AbstractEntity\n{\n    private $id;\n\n    private $content;\n\n    public function getId()\n    {\n        return $this->id;\n    }\n\n    public function setId($id)\n    {\n        $this->id = $id;\n\n        return $this;\n    }\n\n    public function getContent()\n    {\n        return $this->content;\n    }\n\n    public function setContent($content)\n    {\n        $this->content = $content;\n\n        return $this;\n    }\n}\n```\n\u4f5c\u6210\u4e88\u5b9a\u306e\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306e\u9805\u76ee\u3092\u30d7\u30ed\u30d1\u30c6\u30a3 ( private ) \u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3001\u305d\u308c\u306b\u5bfe\u3059\u308b\u30b2\u30c3\u30bf\u30fc\u30fb\u30bb\u30c3\u30bf\u30fc\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n### dcm.yml\u306e\u5b9a\u7fa9\n\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u4fdd\u6301\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u3001\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306b\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30c7\u30fc\u30bf\u30fc\u30d9\u30fc\u30b9\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092dcm.yml\u306b\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```yaml:Resource/doctrine/Plugin.CategoryContent.Entity.CategoryContent.dcm.yml\nPlugin\\CategoryContent\\Entity\\CategoryContent:\n    type: entity\n    table: plg_category_content\n    repositoryClass: Plugin\\CategoryContent\\Repository\\CategoryContentRepository\n    id:\n        id:\n            type: integer\n            nullable: false\n            unsigned: false\n            id: true\n            column: category_id\n            generator:\n                strategy: NONE\n    fields:\n        content:\n            type: text\n            nullable: true\n    lifecycleCallbacks: {  }\n```\n\n\n## \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u69cb\u7bc9\n### \u30a4\u30d9\u30f3\u30c8\u306e\u4f5c\u6210\n\n\u7ba1\u7406\u753b\u9762\u306e\u3001\u5546\u54c1\u7ba1\u7406 > \u30ab\u30c6\u30b4\u30ea\u767b\u9332\u306b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u3001\u30d5\u30a9\u30fc\u30e0\u9805\u76ee\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\u3053\u3053\u304b\u3089\u30013.0.9\u3067\u65b0\u3057\u304f\u5b9a\u7fa9\u3055\u308c\u305f\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8 ( \u30a4\u30d9\u30f3\u30c8 ) \u3092\u3064\u304b\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u4f7f\u3046\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n    \n    - config.yml\u3067\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u306e\u30af\u30e9\u30b9\u540d\u3092\u6307\u5b9a\u3059\u308b\n    - event.yml\u3067\u3001\u5229\u7528\u3059\u308b\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u3068\u3001\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u6307\u5b9a\u3059\u308b\n    - \u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4f5c\u308b\n\n### config.yml\u306e\u4fee\u6b63\n\nconfig.yml\u306b\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```yaml:config.yml\nname: \u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u30d7\u30e9\u30b0\u30a4\u30f3\ncode: CategoryContent\nversion: 1.0.0\nevent: CategoryContentEvent \u2605\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u6307\u5b9a\n```\n\n### event.yml\u3092\u4f5c\u6210\n\n\u7ba1\u7406\u753b\u9762\u306e\u30ab\u30c6\u30b4\u30ea\u767b\u9332\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n    - admin.product.category.index.initialize\n    - admin.product.category.index.complete\n\n\u4eca\u56de\u306f\u30d5\u30a9\u30fc\u30e0\u306b\u9805\u76ee\u3092\u8ffd\u52a0\u3059\u308b\u306e\u3067\u3001initialize\u306e\u65b9\u3092\u4f7f\u3044\u307e\u3059\u3002\nevent.yml\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```yaml:event.yml\nadmin.product.category.index.initialize: \u2605\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30c8\n    - [onAdminProductCategoryInit, NORMAL]  \u2605\u30e1\u30bd\u30c3\u30c9\u540d\n```\n\n\u6ce8.) \u3053\u306e\u969b\u3001\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u8a18\u8ff0\u3057\u3066\u3044\u308b\u884c\u3067\u3059\u304c\u3001\u30b9\u30da\u30fc\u30b9\u30924\u3064\u306e\u5f8c\u306b\u300c-(\u30cf\u30a4\u30d5\u30f3)\u300d\u305d\u306e\u5f8c\u306b\u3001\u307e\u305f\u30b9\u30da\u30fc\u30b9\u30921\u3064\u4ed8\u4e0e\u3057\u306a\u3044\u3068\u3001\u8a2d\u5b9a\u304c\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\u305f\u3081\u6b63\u3057\u304f\u8a18\u8ff0\u3057\u3066\u304f\u3060\u3055\u3044\n\n\u203b\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u306e\u4e00\u89a7\u306f\u3001[\u30d7\u30e9\u30b0\u30a4\u30f3\u4ed5\u69d8\u66f8](http://downloads.ec-cube.net/src/manual/v3/plugin.pdf)\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### \u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4f5c\u6210\n\u3053\u3053\u307e\u3067\u3067\u3001\n\n    - \u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u547c\u3073\u51fa\u3055\u308c\u305f\u6642\u306b\n    - CategoryContentEvent\u30af\u30e9\u30b9 \u306e\n    - onAdminProductCategoryInit\u30e1\u30bd\u30c3\u30c9\n\n\u304c\u5b9f\u884c\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u5b9a\u7fa9\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u3067\u306fCategoryContentEvent\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n```php:CategoryContentEvent.php\n<?php\nnamespace Plugin\\CategoryContent;\n\nuse Eccube\\Event\\EventArgs;\n\nclass CategoryContentEvent\n{\n    /** @var \\Eccube\\Application $app */\n    private $app;\n\n    public function __construct($app)\n    {\n        $this->app = $app;\n    }\n\n    public function onFormInitializeAdminProductCategory(EventArgs $event)\n    {\n        dump(111);\n    }\n```\n\n\u3068\u308a\u3042\u3048\u305a\u7a7a\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u4f5c\u3063\u3066\u3001\u52d5\u304f\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3092\u3057\u3066\u307f\u307e\u3059\u3002\n\nEC-CUBE3\u672c\u4f53\u3001\u7ba1\u7406\u753b\u9762\u306e\u3001\u5546\u54c1\u7ba1\u7406 > \u30ab\u30c6\u30b4\u30ea\u767b\u9332\u306b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\u753b\u9762\u4e0a\u90e8\u306b`111`\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070\u30a4\u30d9\u30f3\u30c8\u304c\u7a3c\u50cd\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n## \u30d5\u30a9\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\n### \u62e1\u5f35\u9805\u76ee\u306e\u5b9a\u7fa9\n\u52d5\u4f5c\u78ba\u8a8d\u304c\u3068\u308c\u305f\u3089\u3001\u7ba1\u7406\u753b\u9762\u30ab\u30c6\u30b4\u30ea\u767b\u9332\u30d5\u30a9\u30fc\u30e0\u306b\u8ffd\u52a0\u3059\u308b\u9805\u76ee\u3092\u5b9a\u7fa9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```php:CategoryContentEvent.php\n<?php\nnamespace Plugin\\CategoryContent;\n\nuse Eccube\\Application;\nuse Eccube\\Common\\Constant;\nuse Eccube\\Entity\\Category;\nuse Eccube\\Event\\EventArgs;\nuse Eccube\\Event\\TemplateEvent;\nuse Plugin\\CategoryContent\\Entity\\CategoryContent;\nuse Symfony\\Component\\Form\\FormInterface;\nuse Symfony\\Component\\HttpKernel\\Event\\FilterResponseEvent;\n\nclass CategoryContentEvent\n{\n    /**\n     * \u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u8ffd\u52a0\u3059\u308b\u30d5\u30a9\u30fc\u30e0\u540d\n     */\n    const CATEGORY_CONTENT_TEXTAREA_NAME = 'plg_category_content';\n    \n    /** @var \\Eccube\\Application $app */\n    private $app;\n\n    public function __construct($app)\n    {\n        $this->app = $app;\n    }\n\n    public function onFormInitializeAdminProductCategory(EventArgs $event)\n    {\n        /** @var Category $target_category */\n        $TargetCategory = $event->getArgument('TargetCategory');\n        $id = $TargetCategory->getId();\n\n        $CategoryContent = null;\n\n        // ID\u306e\u6709\u7121\u3067\u767b\u9332\u304b\u7de8\u96c6\u304b\u3092\u5224\u65ad\n        if ($id) {\n            // \u30ab\u30c6\u30b4\u30ea\u7de8\u96c6\u6642\u306f\u521d\u671f\u5024\u3092\u53d6\u5f97\n            $CategoryContent = $this->app['category_content.repository.category_content']->find($id);\n        }\n\n         // \u30ab\u30c6\u30b4\u30ea\u65b0\u898f\u767b\u9332\u307e\u305f\u306f\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u672a\u767b\u9332\u306e\u5834\u5408\n        if (is_null($CategoryContent)) {\n            $CategoryContent = new CategoryContent();\n        }\n\n        // \u30d5\u30a9\u30fc\u30e0\u306e\u8ffd\u52a0\n        /** @var FormInterface $builder */\n        // FormBuilde\u306e\u53d6\u5f97\n        $builder = $event->getArgument('builder');\n        // \u9805\u76ee\u306e\u8ffd\u52a0\n        $builder->add(\n            self::CATEGORY_CONTENT_TEXTAREA_NAME,\n            'textarea',\n            array(\n                'required' => false,\n                'label' => false,\n                'mapped' => false,\n                'attr' => array(\n                    'placeholder' => '\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044(HTML\u30bf\u30b0\u4f7f\u7528\u53ef)',\n                ),\n            )\n        );\n\n        // \u521d\u671f\u5024\u3092\u8a2d\u5b9a\n        $builder->get(self::CATEGORY_CONTENT_TEXTAREA_NAME)->setData($CategoryContent->getContent());\n\n    } \n}\n```\n\n\u4f5c\u6210\u3067\u304d\u305f\u3089\u3001EC-CUBE3\u672c\u4f53\u7ba1\u7406\u753b\u9762\u306e\u5546\u54c1\u7ba1\u7406 > \u30ab\u30c6\u30b4\u30ea\u767b\u9332 \u3092\u958b\u304d\u307e\u3059\u3002\n\u753b\u9762\u3092\u958b\u304f\u3068\u8ffd\u52a0\u3057\u305f\u3001\u30c6\u30ad\u30b9\u30c8\u30a8\u30ea\u30a2\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u6ce8.) \u9805\u76ee\u306b\u5fc5\u305a\u3001**'mapped' => false** \u3092\u4ed8\u4e0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ed8\u4e0e\u3092\u5fd8\u308c\u308b\u3068\u3001\u3082\u3068\u306e\u30d5\u30a9\u30fc\u30e0\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u5bfe\u3057\u3066\u3001\u9805\u76ee\u3092\u63a2\u7d22\u3059\u308b\u305f\u3081\u306b\u3001\n\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\n### event.yml\u3092\u4fee\u6b63\n\u6b21\u306b\u30d5\u30a9\u30fc\u30e0\u767b\u9332\u306e\u305f\u3081\u306b\u3001\u6b8b\u308a1\u3064\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u3067\u3042\u308b`admin.product.category.index.complete`\u3092\u4f7f\u7528\u3057\u3066\u3001\u767b\u9332\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\u307e\u305a\u306f\u3001\u524d\u4f8b\u306b\u306a\u3089\u3063\u3066\u3001\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u306b\u5bfe\u3059\u308b\u3001\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```yaml:event.yml\nadmin.product.category.index.initialize: \u2605\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30d5\u30c3\u30af\u30dd\u30a4\u30c8\n    - [onAdminProductCategoryInit, NORMAL]  \u2605\u30e1\u30bd\u30c3\u30c9\u540d\nadmin.product.category.index.complete:   \u2606\u30d5\u30a9\u30fc\u30e0\u767b\u9332\u306e\u305f\u3081\u306b\u5229\u7528\u3059\u308b\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\n    - [onAdminProductCategoryEditComplete, NORMAL]   \u2606\u30d5\u30a9\u30fc\u30e0\u767b\u9332\u51e6\u7406\u30e1\u30bd\u30c3\u30c9\n```\n\n### \u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4fee\u6b63\n\u6b21\u306b\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u306b\u3001\u767b\u9332\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\nCategoryContentEvent.php\u306b\u5bfe\u3057\u3066\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```php:CategoryContentEvent.php\n    /**\n     * \u7ba1\u7406\u753b\u9762\uff1a\u30ab\u30c6\u30b4\u30ea\u767b\u9332\u753b\u9762\u3067\u3001\u767b\u9332\u51e6\u7406\u3092\u884c\u3046.\n     *\n     * @param EventArgs $event\n     */\n    public function onAdminProductCategoryEditComplete(EventArgs $event)\n    {\n        /** @var Application $app */\n        $app = $this->app;\n        /** @var Category $target_category */\n        $TargetCategory = $event->getArgument('TargetCategory');\n        /** @var FormInterface $form */\n        $form = $event->getArgument('form');\n\n        // \u73fe\u5728\u306e\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u53d6\u5f97\n        $id = $TargetCategory->getId();\n        // \u30d5\u30a9\u30fc\u30e0\u5024\u306eID\u3092\u3082\u3068\u306b\u767b\u9332\u30ab\u30c6\u30b4\u30ea\u60c5\u5831\u3092\u53d6\u5f97\n        $CategoryContent = $app['category_content.repository.category_content']->find($id);\n        if (is_null($CategoryContent)) {\n            $CategoryContent = new CategoryContent();\n        }\n\n        // \u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u66f4\u65b0\n        $CategoryContent\n            ->setId($id)\n            ->setContent($form[self::CATEGORY_CONTENT_TEXTAREA_NAME]->getData());\n\n        // DB\u66f4\u65b0\n        $app['orm.em']->persist($CategoryContent);\n        $app['orm.em']->flush($CategoryContent);\n    }\n```\n\n### \u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u3092\u3064\u304f\u308b\n\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3067\u8ffd\u52a0\u3057\u305f\u767b\u9332\u51e6\u7406\u5185\u3067\u3001\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u7b87\u6240\u304c\u3042\u308a\u307e\u3059\u3002\n\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u5185\u3067\u3001\u30ec\u30dd\u30b8\u30c8\u30ea\u5b9a\u7fa9\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3055\u3063\u305d\u304f\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306b\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\n\n```php:ServiceProvider/CategoryContentServiceProvider.php\n<?php\nnamespace Plugin\\CategoryContent\\ServiceProvider;\n\nuse Eccube\\Application;\nuse Silex\\Application as BaseApplication;\nuse Silex\\ServiceProviderInterface;\n\nclass CategoryContentServiceProvider implements ServiceProviderInterface\n{\n    public function register(BaseApplication $app)\n    {\n        //Repository\n        $app['category_content.repository.category_content'] = $app->share(function () use ($app) {\n            return $app['orm.em']->getRepository('Plugin\\CategoryContent\\Entity\\CategoryContent');\n        });\n\n    }\n\n    public function boot(BaseApplication $app)\n    {\n    }\n}\n```\n### config.yml\u306e\u4fee\u6b63\n\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306b\u30ec\u30dd\u30b8\u30c8\u30ea\u306e\u5b9a\u7fa9\u304c\u7d42\u308f\u3063\u305f\u3089\u3001config.yml\u306b\u30b5\u30fc\u30d3\u30b9\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u307e\u305f\u3042\u308f\u305b\u3066\u3001dcm.yml\u306e\u30d1\u30b9\u3082\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u3092config.yml\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```yaml:config.yml\nservice:\n    - CategoryContentServiceProvider\norm.path:\n    - /Resource/doctrine\n```\n\n### \u767b\u9332\u78ba\u8a8d\n\u4f5c\u6210\u3067\u304d\u305f\u3089\u3001\u7ba1\u7406\u753b\u9762\u306e\u5546\u54c1\u7ba1\u7406 > \u30ab\u30c6\u30b4\u30ea\u767b\u9332 \u3092\u958b\u304d\u307e\u3059\u3002\n\u65b0\u898f\u3067**\u300c\u30ab\u30c6\u30b4\u30ea\u540d\u300d**\u3092\u5165\u529b\u3057\u3001\u30c6\u30ad\u30b9\u30c8\u30a8\u30ea\u30a2\u306b\u4efb\u610f\u306e\u6587\u5b57\u3092\u5165\u529b\u3057\u3066\u3001**\u300c\u30ab\u30c6\u30b4\u30ea\u4f5c\u6210\u300d**\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n**\u300c\u30ab\u30c6\u30b4\u30ea\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\u300d**\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u753b\u9762\u306b\u8868\u793a\u3055\u308c\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n\n\u4ee5\u4e0a\u3067\u7ba1\u7406\u753b\u9762\u306e\u5b9f\u88c5\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n## \u5546\u54c1\u4e00\u89a7\u3078\u306e\u8868\u793a\n\u767b\u9332\u3057\u305f\u30ab\u30c6\u30b4\u30ea\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u60c5\u5831\u3092\u3001\u30d5\u30ed\u30f3\u30c8\u753b\u9762\u3067\u8868\u793a\u3067\u304d\u308b\u69d8\u306b\u3001\u51e6\u7406\u3092\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\n\u3053\u3053\u3067\u306f\u3001Twig\u306b\u5bfe\u3059\u308b\u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u8a18\u8ff0\u3059\u308bTwig\u3092\u4f5c\u6210\u3057\u3001\u8868\u793a\u5185\u5bb9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n### event.yml\u4fee\u6b63\n\n```yaml:event.yml\n# front page event\nProduct/list.twig:\n    - [onRenderProductList, NORMAL]\n```\n\n\u6ce8.) \u30d5\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u540d\u306f\u3001Twig\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u8a72\u5f53\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u306e**\u300crender\u300d\u30e1\u30bd\u30c3\u30c9**\u306e\u5f15\u6570\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u78ba\u8a8d\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u305f\u3060\u3057\u3001\u7ba1\u7406\u753b\u9762\u306b\u306f**\u300cAdmin/\u300d**\u3092\u5148\u982d\u306b\u4ed8\u4e0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### \u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u4fee\u6b63( \u30d5\u30ed\u30f3\u30c8\u753b\u9762\u8868\u793a\u51e6\u7406\u8ffd\u52a0 )\n\u6b21\u306b\u30a4\u30d9\u30f3\u30c8\u30af\u30e9\u30b9\u306b\u8868\u793a\u51e6\u7406\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\nCategoryContentEvent.php\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```php:CategoryContentEvent.php\n    /**\n     * \u5546\u54c1\u4e00\u89a7\u753b\u9762\u306b\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8868\u793a\u3059\u308b.\n     *\n     * @param TemplateEvent $event\n     */\n    public function onRenderProductList(TemplateEvent $event)\n    {\n        $parameters = $event->getParameters();\n\n        // \u30ab\u30c6\u30b4\u30eaID\u304c\u306a\u3044\u5834\u5408\u3001\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u306a\u3044\n        if (is_null($parameters['Category'])) {\n            return;\n        }\n\n        // \u767b\u9332\u304c\u306a\u3044\u3001\u3082\u3057\u304f\u306f\u7a7a\u3067\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u3057\u306a\u3044\n        $Category = $parameters['Category'];\n        $CategoryContent = $this->app['category_content.repository.category_content']\n            ->find($Category->getId());\n        if (is_null($CategoryContent) || $CategoryContent->getContent() == '') {\n            return;\n        }\n\n        // twig\u30b3\u30fc\u30c9\u306b\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u633f\u5165\n        $snipet = '<div class=\"row\">{{ CategoryContent.content | raw }}</div>';\n        $search = '<div id=\"result_info_box\"';\n        $replace = $snipet.$search;\n        $source = str_replace($search, $replace, $event->getSource());\n        $event->setSource($source);\n\n        // twig\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u30ab\u30c6\u30b4\u30ea\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8ffd\u52a0\n        $parameters['CategoryContent'] = $CategoryContent;\n        $event->setParameters($parameters);\n    }\n```\n\n### \u8868\u793a\u78ba\u8a8d\n\u3053\u308c\u3067\u5168\u3066\u306e\u5b9f\u88c5\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\u7ba1\u7406\u753b\u9762 > \u5546\u54c1\u7ba1\u7406 > \u5546\u54c1\u30de\u30b9\u30bf \u304b\u3089\u4efb\u610f\u306e\u5546\u54c1\u3092\u691c\u7d22\u3057\u3001\u30ab\u30c6\u30b4\u30ea\u3067\u3001\u4f5c\u6210\u3057\u305f\u30ab\u30c6\u30b4\u30ea\u306b\u30c1\u30a7\u30c3\u30af\u3092\u3064\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\u30d5\u30ed\u30f3\u30c8\u753b\u9762\u306e\u30c8\u30c3\u30d7\u3067\u8a72\u5f53\u30ab\u30c6\u30b4\u30ea\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u5546\u54c1\u306e\u4e0a\u306b\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u6210\u529f\u3067\u3059\u3002\n", "tags": ["EC-CUBE3", "PHP"]}