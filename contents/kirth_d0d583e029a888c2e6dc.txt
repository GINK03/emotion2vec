{"context": " More than 1 year has passed since last update.\n\n\u307e\u3048\u304c\u304d\n\u3044\u307e\u3069\u304d\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u3066WebAPI\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u5df7\u3067\u8a71\u984c\u306eDropwizard\u306b\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u305f\u306e\u3067\u5099\u5fd8\u9332\u3068\u3057\u3066\u66f8\u304d\u7559\u3081\u308b\u3002\n\u3068\u3053\u308d\u3067\u3001Dropwizard\u306f\u3001maven\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081maven\u306e\u77e5\u8b58\u3082\u5fc5\u8981\u3067\u3042\u308b\u3002\ngradle\u306a\u3069\u3067\u69cb\u7bc9\u3057\u3066\u3044\u308b\u4e8b\u4f8b\u3082\u3042\u3063\u305f\u306e\u3067\u5168\u4f53\u50cf\u3092\u63b4\u3081\u3070\u69cb\u7bc9\u53ef\u80fd\u3068\u601d\u308f\u308c\u308b\u304c\u3001\n\u5165\u9580\u306e\u305f\u3081maven\u3092\u4f7f\u7528\u3057\u3066\u5148\u306b\u9032\u3081\u308b\u3002\n\n\nmaven\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\u307e\u305a\u306f\u3001maven\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n\n\n\u30b0\u30eb\u30fc\u30d7Id\u306f\u3001\u672c\u6765\u306f\u30c9\u30e1\u30a4\u30f3\u5229\u7528\u3057\u305f\u4e00\u610f\u540d\u306b\u3059\u308b\u306e\u304c\u6b63\u3068\u601d\u308f\u308c\u308b\u304c\u3001\n\u3053\u3053\u3067\u306f\u30c6\u30b9\u30c8\u7528\u306b\u4eee\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3068\u3057\u3066\u3044\u308b\u3002\n\u307e\u305f\u3001\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8Id:\u306b\u3064\u3044\u3066\u3082sampleApp\u3068\u3057\u305f\u3002\n\n\u958b\u767a\u74b0\u5883\u306b\u306f\u3001Pleiades All in One 4.4 (Luna) \u3092\u5229\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u3066\u3044\u308b\u304c\u3001\n\u3053\u306e\u74b0\u5883\u4e0b\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u304cJ2SE1.5\u5229\u7528\u3068\u306a\u3063\u3066\u3044\u308b\u305f\u3081Java7\u306b\u5909\u66f4\u3059\u308b\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8sampleApp\u4e0a\u306b\u3066\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u9078\u629e\u3002\n\nJava\u30d3\u30eb\u30c9\u30fb\u30d1\u30b9\u304b\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u7de8\u96c6\u3092\u30af\u30ea\u30c3\u30af\u3002\nJavaSE-1.7(java7)\u3092\u9078\u629e\u3057\u3001\u5b8c\u4e86\u3092\u62bc\u3057\u3066\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u9589\u3058\u308b\u3002\n\nOK\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30d7\u30ed\u30d1\u30c6\u30a3\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u9589\u3058\u308b\u3068\u81ea\u52d5\u30d3\u30eb\u30c9\u304c\u884c\u308f\u308c\u5148\u307b\u3069\u306e\u8b66\u544a\u304c\u6d88\u3048\u308b\u3002\n\n\npom.xml\u306e\u7de8\u96c6\n\u4ee5\u4e0b\u306e\u6761\u4ef6\u306b\u3088\u308a\u3001pom.xml \u3092\u7de8\u96c6\u3059\u308b\u3002\n\u3000\u30fbHibernate\u3092\u4f7f\u7528\u3057\u3066MySQL\u3068\u63a5\u7d9a\u3059\u308b\u3002\n\u3000\u30fbjar\u30d5\u30a1\u30a4\u30eb\u3092\u540c\u5305\u3057\u305fjar\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u3000\u30fb\u4f9d\u5b58\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u4e00\u7dd2\u306bjar\u30d5\u30a1\u30a4\u30eb\u306b\u542b\u3081\u308b\u3002\n\npom.xml\n<project \n  xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n  http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n\n  <groupId>com.examples</groupId>\n  <artifactId>sampleApp</artifactId>\n  <version>0.0.1-SNAPSHOT</version>\n  <packaging>jar</packaging>\n\n  <name>sampleApp</name>\n\n  <properties>\n    <dropwizard.version>0.7.1</dropwizard.version>\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n  </properties>\n\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-shade-plugin</artifactId>\n        <version>1.6</version>\n        <configuration>\n          <createDependencyReducedPom>true</createDependencyReducedPom>\n          <filters>\n            <filter>\n              <artifact>*:*</artifact>\n              <excludes>\n                <exclude>META-INF/*.SF</exclude>\n                <exclude>META-INF/*.DSA</exclude>\n                <exclude>META-INF/*.RSA</exclude>\n              </excludes>\n            </filter>\n          </filters>\n        </configuration>\n        <executions>\n          <execution>\n            <phase>package</phase>\n            <goals>\n              <goal>shade</goal>\n            </goals>\n            <configuration>\n              <transformers>\n                <transformer implementation=\n\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\" />\n                <transformer implementation=\n\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\">\n     \u3000\u3000\u3000\u3000\u3000\u3000 <mainClass>com.examples.sampleApp.SampleApp</mainClass>                </transformer>\n              </transformers>\n            </configuration>\n          </execution>\n        </executions>\n      </plugin>\n\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-jar-plugin</artifactId>\n        <version>2.3.2</version>\n        <configuration>\n          <archive>\n            <manifest>\n              <addDefaultImplementationEntries>true</addDefaultImplementationEntries>\n            </manifest>\n          </archive>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n\n\n  <dependencies>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-core</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-hibernate</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-migrations</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-testing</artifactId>\n      <version>${dropwizard.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-assets</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-views-freemarker</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-views-mustache</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-auth</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-spdy</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>mysql</groupId>\n      <artifactId>mysql-connector-java</artifactId>\n      <version>5.1.34</version>\n    </dependency>\n\n  </dependencies>\n\n</project>\n\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u306f\u3001properties\u306bsourceEncoding\u3092\u8a18\u8ff0\u3059\u308b\u3002\n\u3053\u308c\u3092\u8a18\u8ff0\u3057\u306a\u3044\u3068\u3001eclipse\u3067\u306e\u30d3\u30eb\u30c9\u6642\u306b\u5931\u6557\u3059\u308b\u3002\n  <properties>\n    <dropwizard.version>0.7.1</dropwizard.version>\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n  </properties>\n\n\u30fbdropwizard.version\n\u3000\u4f7f\u7528\u3059\u308bdropwizard\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f8\u304f\u3002(2015.1.26\u73fe\u5728)\n\u30fbproject.build.sourceEncoding\n\u3000\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u66f8\u304f\u3002\nbuild\u6642\u306b\u4f7f\u7528\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8a18\u8ff0\u3002\n\u30fbmaven-shade-plugin\n\u3000\u4f9d\u5b58\u95a2\u4fc2\u3092\u8abf\u3079\u3066\u540c\u5305\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\n\u30fbmaven-jar-plugin\n\u3000jar\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\ndropwizard\u95a2\u9023\u306e\u8a2d\u5b9a\u306f\u3001dependencies\u306b\u8a18\u8ff0\u3059\u308b\u3002\nmysql\u306ejdbc\u30c9\u30e9\u30a4\u30d0\u306e\u8a2d\u5b9a\u3082dependencies\u306b\u8a18\u8ff0\u3059\u308b\u3002\npom.xml\u306e\u7de8\u96c6\u304c\u7d42\u308f\u3063\u305f\u3089\u4fdd\u5b58\u3059\u308b\u3002\n\u81ea\u52d5\u3067\u30d3\u30eb\u30c9\u304c\u958b\u59cb\u3055\u308c\u308b\u3002\n\u6b63\u5e38\u306b\u7d42\u4e86\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n\n\ndropwizard\u306e\u304a\u4f5c\u6cd5\u306b\u5f93\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\ndropwizard\u306eGetting Started\u306b\u3057\u305f\u304c\u3063\u3066\u5404\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\nConfiguration\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u306e\u8a2d\u5b9a\u3092\u3053\u3053\u306b\u307e\u3068\u3081\u308b\u3002\nyaml\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u500b\u5225\u8a2d\u5b9a\u60c5\u5831\u3092\u8aad\u307f\u8fbc\u307f\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3002\n\nSampleAppConfiguration.java\n\npackage com.examples.sampleApp;\nimport io.dropwizard.Configuration;\nimport io.dropwizard.db.DataSourceFactory;\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class SampleAppConfiguration extends Configuration {\n    @Valid\n    @NotNull\n    private DataSourceFactory database = new DataSourceFactory();\n\n    @JsonProperty(\"database\")\n    public DataSourceFactory getDataSourceFactory() {\n        return database;\n    }\n\n    @JsonProperty(\"database\")\n    public void setDataSourceFactory(DataSourceFactory dataSourceFactory) {\n        this.database = dataSourceFactory;\n    }\n}\n\n\nApp.java\u3092SampleApp.java\u306b\u5909\u66f4\u3059\u308b\u3002\n\nSampleApp.java\npackage com.examples.sampleApp;\n\nimport io.dropwizard.Application;\nimport io.dropwizard.assets.AssetsBundle;\nimport io.dropwizard.db.DataSourceFactory;\nimport io.dropwizard.hibernate.HibernateBundle;\nimport io.dropwizard.migrations.MigrationsBundle;\nimport io.dropwizard.setup.Bootstrap;\nimport io.dropwizard.setup.Environment;\nimport io.dropwizard.views.ViewBundle;\n\nimport com.examples.sampleApp.Resource.PersonResource;\nimport com.examples.sampleApp.db.PersonDAO;\nimport com.examples.sampleApp.entity.Person;\n\npublic class SampleApp extends Application<SampleAppConfiguration>\n{\n  private final HibernateBundle<SampleAppConfiguration> hibernateBundle =\n    new HibernateBundle<SampleAppConfiguration>(Person.class) {\n      @Override\n      public DataSourceFactory \n        getDataSourceFactory(SampleAppConfiguration configuration) {\n        return configuration.getDataSourceFactory();\n    }\n  };\n\n  public static void main(String[] args) throws Exception {\n    new SampleApp().run(args);\n  }\n\n  @Override\n  public void initialize(Bootstrap<SampleAppConfiguration> bootstrap) {\n    bootstrap.addBundle(new AssetsBundle());\n    bootstrap.addBundle(new MigrationsBundle<SampleAppConfiguration>() {\n      @Override\n      public DataSourceFactory getDataSourceFactory\n        (SampleAppConfiguration configuration) {\n          return configuration.getDataSourceFactory();\n      }\n    });\n    bootstrap.addBundle(hibernateBundle);\n    bootstrap.addBundle(new ViewBundle());\n  }\n\n  @Override\n  public void run(SampleAppConfiguration configuration, Environment environment) {\n    final PersonDAO dao = new PersonDAO(hibernateBundle.getSessionFactory());\n\n    //\u4f7f\u7528\u3059\u308bAPI\u306f\u3053\u3053\u3067\u767b\u9332\u3059\u308b\u3002\n    environment.jersey().register(new PersonResource(dao));\n  }\n}\n\n\n\n\nentity\u306e\u4f5c\u6210\n\u30c7\u30fc\u30bf\u53d7\u3051\u6e21\u3057\u7528entity\u3092\u4f5c\u6210\u3059\u308b\u3002\n\nPerson.java\npackage com.examples.sampleApp.entity;\n\nimport java.util.Objects;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.NamedQueries;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"person\")\n@NamedQueries(\n  { @NamedQuery(\n      name = \"com.examples.sampleApp.entity.Person.findAll\", \n      query = \"SELECT p FROM Person p\"\n    ) }\n)\npublic class Person {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private long id;\n\n  @Column(name = \"fullName\", nullable = false)\n  private String fullName;\n\n  @Column(name = \"jobTitle\", nullable = false)\n  private String jobTitle;\n\n  public long getId() {\n    return id;\n  }\n\n  public void setId(long id) {\n    this.id = id;\n  }\n\n  public String getFullName() {\n    return fullName;\n  }\n\n  public void setFullName(String fullName) {\n    this.fullName = fullName;\n  }\n\n  public String getJobTitle() {\n    return jobTitle;\n  }\n\n  public void setJobTitle(String jobTitle) {\n    this.jobTitle = jobTitle;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof Person)) return false;\n\n    final Person that = (Person) o;\n\n    return \n      Objects.equals(this.id, that.id) && \n      Objects.equals(this.fullName, that.fullName) && \n      Objects.equals(this.jobTitle, that.jobTitle);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(id, fullName, jobTitle);\n  }\n}\n\n\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30a2\u30af\u30bb\u30b9\u7528\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u30c7\u30fc\u30bf\u8ee2\u9001\u7528\u306bdao\u3092\u4f5c\u6210\u3002\n\nPersonDAO.java\npackage com.examples.sampleApp.db;\n\nimport io.dropwizard.hibernate.AbstractDAO;\nimport java.util.List;\nimport org.hibernate.SessionFactory;\nimport com.examples.sampleApp.entity.Person;\nimport com.google.common.base.Optional;\n\npublic class PersonDAO extends AbstractDAO<Person> {\n  public PersonDAO(SessionFactory factory) {\n    super(factory);\n  }\n\n  public Optional<Person> findById(Long id) {\n    return Optional.fromNullable(get(id));\n  }\n\n  public Person create(Person person) {\n    return persist(person);\n  }\n\n  public List<Person> findAll() {\n    return list(namedQuery(\"com.example.core.Person.findAll\"));\n  }\n}\n\n\n\n\nURL\u306b\u5bfe\u5fdc\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\u30a2\u30af\u30bb\u30b9\u7528URL\u306b\u5bfe\u5fdc\u3057\u305f\u51e6\u7406\u3092\u8a18\u8ff0\u3059\u308b\u3002\n\u3053\u3053\u3067\u306f\u3001.../person/1 \u306eURL\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\n\u500b\u4eba\u306e\u30c7\u30fc\u30bf\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u3001\u8868\u793a\u3059\u308b\u3002\n\nPersonResource.java\npackage com.examples.sampleApp.Resource;\n\nimport io.dropwizard.hibernate.UnitOfWork;\nimport io.dropwizard.jersey.params.LongParam;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport com.examples.sampleApp.db.PersonDAO;\nimport com.examples.sampleApp.entity.Person;\nimport com.google.common.base.Optional;\n\n@Path(\"/person\")\n@Produces(MediaType.APPLICATION_JSON)\npublic class PersonResource {\n  private final PersonDAO personDao;\n\n  public PersonResource(PersonDAO personDao) {\n    this.personDao = personDao;\n  }\n\n  @GET\n  @UnitOfWork\n  @Path(\"/{personId}\")\n  public Person getPerson(@PathParam(\"personId\") LongParam personId) {\n    final Optional<Person> person = personDao.findById(personId.get());\n    return person.get();\n  }\n}\n\n\n\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u500b\u5225\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u500b\u5225\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u3001YAML\u5f62\u5f0f\u306b\u3066\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u76f4\u4e0b\u306b\u4f5c\u6210\u3059\u308b\u3002\n\nsample.yml\ndatabase:\n  driverClass: com.mysql.jdbc.Driver\n  user: root\n  password:\n  url: jdbc:mysql://localhost:3306/sample\n  properties:\n    charSet: UTF-8\n    hibernate.dialect: org.hibernate.dialect.MySQLDialect\n    hibernate.show_sql: true # \u2190\n  maxWaitForConnection: 1s\n  validationQuery: \"/* MyApplication Health Check */ SELECT 1\"\n  minSize: 8\n  maxSize: 32\n  checkConnectionWhileIdle: false\n\n\n.java\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u306f\u4ee5\u4e0a\u3002\n\u4f5c\u6210\u5f8c\u306eTree\u306f\u4e0b\u56f3\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n\n\nMySQL\u306e\u8a2d\u5b9a\n\u3042\u3089\u304b\u3058\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fMySQL\u306bPerson\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n\u30c6\u30b9\u30c8\u7528\u306b2,3\u4ef6\u30c7\u30fc\u30bf\u3092\u5165\u529b\u3059\u308b\u3002\n\n\n\nid\nFull Name\nJob Title\n\n\n\n\n1\nTest Taro\nIT\n\n\n2\nTest Jiro\nSE\n\n\n3\nTest Hanako\nPM\n\n\n\n\n\nBuild\u3068\u5b9f\u884c\nmaven clean\n[INFO] Scanning for projects...\n[INFO] \n[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building sampleApp 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ sampleApp ---\n[INFO] Deleting D:\\IDE\\ws\\luna\\ws2\\test02\\sampleApp\\target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.666 s\n[INFO] Finished at: 2015-01-26T15:38:45+09:00\n[INFO] Final Memory: 5M/120M\n[INFO] ------------------------------------------------------------------------\n\nmaven install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building sampleApp 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ sampleApp ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory D:\\IDE\\ws\\luna\\ws2\\test02\\sampleApp\\src\\main\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ sampleApp ---\n[INFO] Compiling 5 source files to D:\\IDE\\ws\\luna\\ws2\\test02\\sampleApp\\target\\classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.836 s\n[INFO] Finished at: 2015-01-26T15:42:07+09:00\n[INFO] Final Memory: 9M/152M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (default-compile) on project sampleApp: Fatal error compiling: tools.jar not found: D:\\IDE\\pleiades\\java\\7\\..\\lib\\tools.jar -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\ntools.jar\u304c\u306a\u3044\u3068\u6012\u3089\u308c\u308b\u306e\u3067\u8ffd\u8a18\u3059\u308b\u3002\n\u30a6\u30a3\u30f3\u30c9\u30a6\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u8a2d\u5b9a\u3092\u958b\u304d\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306eJRE\u3092\u9078\u629e\u3002\njava7\u3092\u9078\u629e\u3057\u3066\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u5916\u90e8Jar\u8ffd\u52a0\u30dc\u30bf\u30f3\u3088\u308apleiades/java/7/lib/tools.jar\u3092\n\u8ffd\u52a0\u3059\u308b\u3002\n\n\u518d\u5ea6 maven install \u3092\u884c\u3046\u3002\u4eca\u5ea6\u306f\u6210\u529f\u3057\u305f\u3002\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 38.336 s\n[INFO] Finished at: 2015-01-26T16:19:21+09:00\n[INFO] Final Memory: 14M/205M\n[INFO] ------------------------------------------------------------------------\n\n\n\njar\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3002\njar\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3067\u304d\u305f\u3089\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\u8d77\u52d5\u3059\u308b\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u9078\u629e\u3002\n\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u4e0a\u3067jar\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3002\njava -jar target/sampleApp-0.0.1-SNAPSHOT.jar server sampleApp.yml\n\n\u30b5\u30fc\u30d0\u304c\u7acb\u3061\u4e0a\u304c\u308b\u306e\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\nhttp://localhost:8080/person/1\n\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\nJSON\u5f62\u5f0f\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u5e30\u3063\u3066\u304f\u308b\u3002\n{\"id\":1,\"fullName\":\"Test Taro\",\"jobTitle\":\"IT\"}\n\u4ee5\u4e0a\u3002\n###\u307e\u3048\u304c\u304d\n\n\u3044\u307e\u3069\u304d\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3057\u3066WebAPI\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u5df7\u3067\u8a71\u984c\u306eDropwizard\u306b\u30c1\u30e3\u30ec\u30f3\u30b8\u3057\u3066\u307f\u305f\u306e\u3067\u5099\u5fd8\u9332\u3068\u3057\u3066\u66f8\u304d\u7559\u3081\u308b\u3002\n\n\u3068\u3053\u308d\u3067\u3001Dropwizard\u306f\u3001maven\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081maven\u306e\u77e5\u8b58\u3082\u5fc5\u8981\u3067\u3042\u308b\u3002\ngradle\u306a\u3069\u3067\u69cb\u7bc9\u3057\u3066\u3044\u308b\u4e8b\u4f8b\u3082\u3042\u3063\u305f\u306e\u3067\u5168\u4f53\u50cf\u3092\u63b4\u3081\u3070\u69cb\u7bc9\u53ef\u80fd\u3068\u601d\u308f\u308c\u308b\u304c\u3001\n\u5165\u9580\u306e\u305f\u3081maven\u3092\u4f7f\u7528\u3057\u3066\u5148\u306b\u9032\u3081\u308b\u3002\n\n***\n###maven\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\n\u307e\u305a\u306f\u3001maven\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002\n![001_002.png](https://qiita-image-store.s3.amazonaws.com/0/67237/9aac0ad6-1639-cc2f-da09-165a6b398199.png)\n\n![001_003.png](https://qiita-image-store.s3.amazonaws.com/0/67237/d2a4f149-19a2-e1cb-13f8-4b667dee73f4.png)\n\n![001_005.png](https://qiita-image-store.s3.amazonaws.com/0/67237/5aadaa95-9fb1-f84b-d104-1ee93668479d.png)\n\n\u30b0\u30eb\u30fc\u30d7Id\u306f\u3001\u672c\u6765\u306f\u30c9\u30e1\u30a4\u30f3\u5229\u7528\u3057\u305f\u4e00\u610f\u540d\u306b\u3059\u308b\u306e\u304c\u6b63\u3068\u601d\u308f\u308c\u308b\u304c\u3001\n\u3053\u3053\u3067\u306f\u30c6\u30b9\u30c8\u7528\u306b\u4eee\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3068\u3057\u3066\u3044\u308b\u3002\n\n\u307e\u305f\u3001\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8Id:\u306b\u3064\u3044\u3066\u3082sampleApp\u3068\u3057\u305f\u3002\n![001_006.png](https://qiita-image-store.s3.amazonaws.com/0/67237/f3427ac5-1a80-23c8-614e-b2e841952a6a.png)\n\n\u958b\u767a\u74b0\u5883\u306b\u306f\u3001<a href=\"http://mergedoc.sourceforge.jp/\">Pleiades All in One 4.4 (Luna) </a>\u3092\u5229\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u3066\u3044\u308b\u304c\u3001\n\u3053\u306e\u74b0\u5883\u4e0b\u3067\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u304cJ2SE1.5\u5229\u7528\u3068\u306a\u3063\u3066\u3044\u308b\u305f\u3081Java7\u306b\u5909\u66f4\u3059\u308b\u3002\n![001_008.png](https://qiita-image-store.s3.amazonaws.com/0/67237/bf018e70-2c55-53c6-306e-997d72209ae5.png)\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8sampleApp\u4e0a\u306b\u3066\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u9078\u629e\u3002\n![001_009.png](https://qiita-image-store.s3.amazonaws.com/0/67237/21d3a419-b12b-da76-0aeb-e22b119a253b.png)\n\nJava\u30d3\u30eb\u30c9\u30fb\u30d1\u30b9\u304b\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u7de8\u96c6\u3092\u30af\u30ea\u30c3\u30af\u3002\nJavaSE-1.7(java7)\u3092\u9078\u629e\u3057\u3001\u5b8c\u4e86\u3092\u62bc\u3057\u3066\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u9589\u3058\u308b\u3002\n![001_010.png](https://qiita-image-store.s3.amazonaws.com/0/67237/d7978fbe-0047-ac14-ea69-a88e1313994f.png)\n\nOK\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u30d7\u30ed\u30d1\u30c6\u30a3\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u9589\u3058\u308b\u3068\u81ea\u52d5\u30d3\u30eb\u30c9\u304c\u884c\u308f\u308c\u5148\u307b\u3069\u306e\u8b66\u544a\u304c\u6d88\u3048\u308b\u3002\n\n***\n####pom.xml\u306e\u7de8\u96c6\n\n\u4ee5\u4e0b\u306e\u6761\u4ef6\u306b\u3088\u308a\u3001pom.xml \u3092\u7de8\u96c6\u3059\u308b\u3002\n\u3000\u30fbHibernate\u3092\u4f7f\u7528\u3057\u3066MySQL\u3068\u63a5\u7d9a\u3059\u308b\u3002\n\u3000\u30fbjar\u30d5\u30a1\u30a4\u30eb\u3092\u540c\u5305\u3057\u305fjar\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u3000\u30fb\u4f9d\u5b58\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u4e00\u7dd2\u306bjar\u30d5\u30a1\u30a4\u30eb\u306b\u542b\u3081\u308b\u3002\n\n```xml:pom.xml\n<project \n  xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n  http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n  <modelVersion>4.0.0</modelVersion>\n\n  <groupId>com.examples</groupId>\n  <artifactId>sampleApp</artifactId>\n  <version>0.0.1-SNAPSHOT</version>\n  <packaging>jar</packaging>\n\n  <name>sampleApp</name>\n\n  <properties>\n    <dropwizard.version>0.7.1</dropwizard.version>\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n  </properties>\n\n  <build>\n    <plugins>\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-shade-plugin</artifactId>\n        <version>1.6</version>\n        <configuration>\n          <createDependencyReducedPom>true</createDependencyReducedPom>\n          <filters>\n            <filter>\n              <artifact>*:*</artifact>\n              <excludes>\n                <exclude>META-INF/*.SF</exclude>\n                <exclude>META-INF/*.DSA</exclude>\n                <exclude>META-INF/*.RSA</exclude>\n              </excludes>\n            </filter>\n          </filters>\n        </configuration>\n        <executions>\n          <execution>\n            <phase>package</phase>\n            <goals>\n              <goal>shade</goal>\n            </goals>\n            <configuration>\n              <transformers>\n                <transformer implementation=\n\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\" />\n                <transformer implementation=\n\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\">\n     \u3000\u3000\u3000\u3000\u3000\u3000 <mainClass>com.examples.sampleApp.SampleApp</mainClass>                </transformer>\n              </transformers>\n            </configuration>\n          </execution>\n        </executions>\n      </plugin>\n\n      <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-jar-plugin</artifactId>\n        <version>2.3.2</version>\n        <configuration>\n          <archive>\n            <manifest>\n              <addDefaultImplementationEntries>true</addDefaultImplementationEntries>\n            </manifest>\n          </archive>\n        </configuration>\n      </plugin>\n    </plugins>\n  </build>\n\n\n  <dependencies>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-core</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-hibernate</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-migrations</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-testing</artifactId>\n      <version>${dropwizard.version}</version>\n      <scope>test</scope>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-assets</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-views-freemarker</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-views-mustache</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-auth</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>io.dropwizard</groupId>\n      <artifactId>dropwizard-spdy</artifactId>\n      <version>${dropwizard.version}</version>\n    </dependency>\n\n    <dependency>\n      <groupId>mysql</groupId>\n      <artifactId>mysql-connector-java</artifactId>\n      <version>5.1.34</version>\n    </dependency>\n\n  </dependencies>\n\n</project>\n```\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u306f\u3001properties\u306bsourceEncoding\u3092\u8a18\u8ff0\u3059\u308b\u3002\n\u3053\u308c\u3092\u8a18\u8ff0\u3057\u306a\u3044\u3068\u3001eclipse\u3067\u306e\u30d3\u30eb\u30c9\u6642\u306b\u5931\u6557\u3059\u308b\u3002\n\n```\n  <properties>\n    <dropwizard.version>0.7.1</dropwizard.version>\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n  </properties>\n```\n\n\u30fbdropwizard.version\n\u3000\u4f7f\u7528\u3059\u308bdropwizard\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u66f8\u304f\u3002(2015.1.26\u73fe\u5728)\n\u30fbproject.build.sourceEncoding\n\u3000\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u66f8\u304f\u3002\n\n\nbuild\u6642\u306b\u4f7f\u7528\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8a18\u8ff0\u3002\n\u30fbmaven-shade-plugin\n\u3000\u4f9d\u5b58\u95a2\u4fc2\u3092\u8abf\u3079\u3066\u540c\u5305\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\n\u30fbmaven-jar-plugin\n\u3000jar\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\n\ndropwizard\u95a2\u9023\u306e\u8a2d\u5b9a\u306f\u3001dependencies\u306b\u8a18\u8ff0\u3059\u308b\u3002\nmysql\u306ejdbc\u30c9\u30e9\u30a4\u30d0\u306e\u8a2d\u5b9a\u3082dependencies\u306b\u8a18\u8ff0\u3059\u308b\u3002\n\npom.xml\u306e\u7de8\u96c6\u304c\u7d42\u308f\u3063\u305f\u3089\u4fdd\u5b58\u3059\u308b\u3002\n\u81ea\u52d5\u3067\u30d3\u30eb\u30c9\u304c\u958b\u59cb\u3055\u308c\u308b\u3002\n\n\u6b63\u5e38\u306b\u7d42\u4e86\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n![001_011.png](https://qiita-image-store.s3.amazonaws.com/0/67237/d01ad57a-37c3-22f5-1288-2d8dcfde169d.png)\n\n***\n\n###dropwizard\u306e\u304a\u4f5c\u6cd5\u306b\u5f93\u3063\u3066\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\ndropwizard\u306e<a href=\"http://dropwizard.io/getting-started.html\">Getting Started</a>\u306b\u3057\u305f\u304c\u3063\u3066\u5404\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n####Configuration\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u306e\u8a2d\u5b9a\u3092\u3053\u3053\u306b\u307e\u3068\u3081\u308b\u3002\nyaml\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u500b\u5225\u8a2d\u5b9a\u60c5\u5831\u3092\u8aad\u307f\u8fbc\u307f\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3002\n\n``` java:SampleAppConfiguration.java\n\npackage com.examples.sampleApp;\nimport io.dropwizard.Configuration;\nimport io.dropwizard.db.DataSourceFactory;\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class SampleAppConfiguration extends Configuration {\n\t@Valid\n\t@NotNull\n\tprivate DataSourceFactory database = new DataSourceFactory();\n\n\t@JsonProperty(\"database\")\n\tpublic DataSourceFactory getDataSourceFactory() {\n\t\treturn database;\n\t}\n\n\t@JsonProperty(\"database\")\n\tpublic void setDataSourceFactory(DataSourceFactory dataSourceFactory) {\n\t\tthis.database = dataSourceFactory;\n\t}\n}\n```\nApp.java\u3092SampleApp.java\u306b\u5909\u66f4\u3059\u308b\u3002\n\n``` java:SampleApp.java\npackage com.examples.sampleApp;\n\nimport io.dropwizard.Application;\nimport io.dropwizard.assets.AssetsBundle;\nimport io.dropwizard.db.DataSourceFactory;\nimport io.dropwizard.hibernate.HibernateBundle;\nimport io.dropwizard.migrations.MigrationsBundle;\nimport io.dropwizard.setup.Bootstrap;\nimport io.dropwizard.setup.Environment;\nimport io.dropwizard.views.ViewBundle;\n\nimport com.examples.sampleApp.Resource.PersonResource;\nimport com.examples.sampleApp.db.PersonDAO;\nimport com.examples.sampleApp.entity.Person;\n\npublic class SampleApp extends Application<SampleAppConfiguration>\n{\n  private final HibernateBundle<SampleAppConfiguration> hibernateBundle =\n    new HibernateBundle<SampleAppConfiguration>(Person.class) {\n      @Override\n      public DataSourceFactory \n        getDataSourceFactory(SampleAppConfiguration configuration) {\n        return configuration.getDataSourceFactory();\n    }\n  };\n\n  public static void main(String[] args) throws Exception {\n    new SampleApp().run(args);\n  }\n\n  @Override\n  public void initialize(Bootstrap<SampleAppConfiguration> bootstrap) {\n    bootstrap.addBundle(new AssetsBundle());\n    bootstrap.addBundle(new MigrationsBundle<SampleAppConfiguration>() {\n      @Override\n      public DataSourceFactory getDataSourceFactory\n        (SampleAppConfiguration configuration) {\n          return configuration.getDataSourceFactory();\n      }\n    });\n    bootstrap.addBundle(hibernateBundle);\n    bootstrap.addBundle(new ViewBundle());\n  }\n\n  @Override\n  public void run(SampleAppConfiguration configuration, Environment environment) {\n    final PersonDAO dao = new PersonDAO(hibernateBundle.getSessionFactory());\n\n    //\u4f7f\u7528\u3059\u308bAPI\u306f\u3053\u3053\u3067\u767b\u9332\u3059\u308b\u3002\n    environment.jersey().register(new PersonResource(dao));\n  }\n}\n```\n\n***\n####entity\u306e\u4f5c\u6210\n\u30c7\u30fc\u30bf\u53d7\u3051\u6e21\u3057\u7528entity\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n``` java:Person.java\npackage com.examples.sampleApp.entity;\n\nimport java.util.Objects;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.NamedQueries;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"person\")\n@NamedQueries(\n  { @NamedQuery(\n      name = \"com.examples.sampleApp.entity.Person.findAll\", \n      query = \"SELECT p FROM Person p\"\n    ) }\n)\npublic class Person {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private long id;\n\n  @Column(name = \"fullName\", nullable = false)\n  private String fullName;\n\n  @Column(name = \"jobTitle\", nullable = false)\n  private String jobTitle;\n\n  public long getId() {\n    return id;\n  }\n\n  public void setId(long id) {\n    this.id = id;\n  }\n\n  public String getFullName() {\n    return fullName;\n  }\n\n  public void setFullName(String fullName) {\n    this.fullName = fullName;\n  }\n\n  public String getJobTitle() {\n    return jobTitle;\n  }\n\n  public void setJobTitle(String jobTitle) {\n    this.jobTitle = jobTitle;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (!(o instanceof Person)) return false;\n\n    final Person that = (Person) o;\n\n    return \n      Objects.equals(this.id, that.id) && \n      Objects.equals(this.fullName, that.fullName) && \n      Objects.equals(this.jobTitle, that.jobTitle);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(id, fullName, jobTitle);\n  }\n}\n```\n***\n\n####\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30a2\u30af\u30bb\u30b9\u7528\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u30c7\u30fc\u30bf\u8ee2\u9001\u7528\u306bdao\u3092\u4f5c\u6210\u3002\n\n``` java:PersonDAO.java\npackage com.examples.sampleApp.db;\n\nimport io.dropwizard.hibernate.AbstractDAO;\nimport java.util.List;\nimport org.hibernate.SessionFactory;\nimport com.examples.sampleApp.entity.Person;\nimport com.google.common.base.Optional;\n\npublic class PersonDAO extends AbstractDAO<Person> {\n  public PersonDAO(SessionFactory factory) {\n    super(factory);\n  }\n\n  public Optional<Person> findById(Long id) {\n    return Optional.fromNullable(get(id));\n  }\n\n  public Person create(Person person) {\n    return persist(person);\n  }\n\n  public List<Person> findAll() {\n    return list(namedQuery(\"com.example.core.Person.findAll\"));\n  }\n}\n```\n***\n####URL\u306b\u5bfe\u5fdc\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\u30a2\u30af\u30bb\u30b9\u7528URL\u306b\u5bfe\u5fdc\u3057\u305f\u51e6\u7406\u3092\u8a18\u8ff0\u3059\u308b\u3002\n\u3053\u3053\u3067\u306f\u3001.../person/1 \u306eURL\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\n\u500b\u4eba\u306e\u30c7\u30fc\u30bf\u3092\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u3001\u8868\u793a\u3059\u308b\u3002\n\n``` java:PersonResource.java\npackage com.examples.sampleApp.Resource;\n\nimport io.dropwizard.hibernate.UnitOfWork;\nimport io.dropwizard.jersey.params.LongParam;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport com.examples.sampleApp.db.PersonDAO;\nimport com.examples.sampleApp.entity.Person;\nimport com.google.common.base.Optional;\n\n@Path(\"/person\")\n@Produces(MediaType.APPLICATION_JSON)\npublic class PersonResource {\n  private final PersonDAO personDao;\n\n  public PersonResource(PersonDAO personDao) {\n    this.personDao = personDao;\n  }\n\n  @GET\n  @UnitOfWork\n  @Path(\"/{personId}\")\n  public Person getPerson(@PathParam(\"personId\") LongParam personId) {\n    final Optional<Person> person = personDao.findById(personId.get());\n    return person.get();\n  }\n}\n\n```\n***\n###\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u500b\u5225\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u500b\u5225\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u3001YAML\u5f62\u5f0f\u306b\u3066\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u76f4\u4e0b\u306b\u4f5c\u6210\u3059\u308b\u3002\n\n``` yml:sample.yml\ndatabase:\n  driverClass: com.mysql.jdbc.Driver\n  user: root\n  password:\n  url: jdbc:mysql://localhost:3306/sample\n  properties:\n    charSet: UTF-8\n    hibernate.dialect: org.hibernate.dialect.MySQLDialect\n    hibernate.show_sql: true # \u2190\n  maxWaitForConnection: 1s\n  validationQuery: \"/* MyApplication Health Check */ SELECT 1\"\n  minSize: 8\n  maxSize: 32\n  checkConnectionWhileIdle: false\n```\n.java\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u306f\u4ee5\u4e0a\u3002\n\u4f5c\u6210\u5f8c\u306eTree\u306f\u4e0b\u56f3\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n![001_016.png](https://qiita-image-store.s3.amazonaws.com/0/67237/d47d2710-2cb2-fade-8c4d-f4b476dc9427.png)\n\n***\n\n###MySQL\u306e\u8a2d\u5b9a\n\u3042\u3089\u304b\u3058\u3081\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fMySQL\u306bPerson\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n![001_013.png](https://qiita-image-store.s3.amazonaws.com/0/67237/d7a434ef-d881-72db-a08f-29c16bc65b35.png)\n\n\u30c6\u30b9\u30c8\u7528\u306b2,3\u4ef6\u30c7\u30fc\u30bf\u3092\u5165\u529b\u3059\u308b\u3002\n\n| id| Full Name   | Job Title |\n|:-:|:------------|:-----:|\n| 1 | Test Taro   |     IT|\n| 2 | Test Jiro   |     SE|\n| 3 | Test Hanako |     PM|\n\n***\n\n####Build\u3068\u5b9f\u884c\nmaven clean\n\n```\n[INFO] Scanning for projects...\n[INFO] \n[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building sampleApp 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ sampleApp ---\n[INFO] Deleting D:\\IDE\\ws\\luna\\ws2\\test02\\sampleApp\\target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.666 s\n[INFO] Finished at: 2015-01-26T15:38:45+09:00\n[INFO] Final Memory: 5M/120M\n[INFO] ------------------------------------------------------------------------\n```\nmaven install\n\n```\n[INFO] Scanning for projects...\n[INFO] \n[INFO] Using the builder org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder with a thread count of 1\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building sampleApp 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ sampleApp ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory D:\\IDE\\ws\\luna\\ws2\\test02\\sampleApp\\src\\main\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ sampleApp ---\n[INFO] Compiling 5 source files to D:\\IDE\\ws\\luna\\ws2\\test02\\sampleApp\\target\\classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.836 s\n[INFO] Finished at: 2015-01-26T15:42:07+09:00\n[INFO] Final Memory: 9M/152M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (default-compile) on project sampleApp: Fatal error compiling: tools.jar not found: D:\\IDE\\pleiades\\java\\7\\..\\lib\\tools.jar -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n```\n\ntools.jar\u304c\u306a\u3044\u3068\u6012\u3089\u308c\u308b\u306e\u3067\u8ffd\u8a18\u3059\u308b\u3002\n\u30a6\u30a3\u30f3\u30c9\u30a6\u30e1\u30cb\u30e5\u30fc\u304b\u3089\u8a2d\u5b9a\u3092\u958b\u304d\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306eJRE\u3092\u9078\u629e\u3002\njava7\u3092\u9078\u629e\u3057\u3066\u7de8\u96c6\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3001\u5916\u90e8Jar\u8ffd\u52a0\u30dc\u30bf\u30f3\u3088\u308apleiades/java/7/lib/tools.jar\u3092\n\u8ffd\u52a0\u3059\u308b\u3002\n\n![001_014.png](https://qiita-image-store.s3.amazonaws.com/0/67237/98ebce1c-890f-f34f-9eaf-c0ddc3306522.png)\n\n\u518d\u5ea6 maven install \u3092\u884c\u3046\u3002\u4eca\u5ea6\u306f\u6210\u529f\u3057\u305f\u3002\n\n```\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 38.336 s\n[INFO] Finished at: 2015-01-26T16:19:21+09:00\n[INFO] Final Memory: 14M/205M\n[INFO] ------------------------------------------------------------------------\n```\n***\n###jar\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3002\njar\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3067\u304d\u305f\u3089\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u304b\u3089\u8d77\u52d5\u3059\u308b\u3002\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4e0a\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u9078\u629e\u3002\n\n![001_015.png](https://qiita-image-store.s3.amazonaws.com/0/67237/b997c2e1-9b68-7eea-6c30-2aecd3d50a23.png)\n\n\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u4e0a\u3067jar\u30d5\u30a1\u30a4\u30eb\u3092\u5b9f\u884c\u3059\u308b\u3002\njava -jar target/sampleApp-0.0.1-SNAPSHOT.jar server sampleApp.yml\n\n![001_017.png](https://qiita-image-store.s3.amazonaws.com/0/67237/45454174-bd57-c477-843d-def5357e8dd5.png)\n\n\u30b5\u30fc\u30d0\u304c\u7acb\u3061\u4e0a\u304c\u308b\u306e\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\nhttp://localhost:8080/person/1\n\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\n\nJSON\u5f62\u5f0f\u3067\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u5e30\u3063\u3066\u304f\u308b\u3002\n\n{\"id\":1,\"fullName\":\"Test Taro\",\"jobTitle\":\"IT\"}\n\n\n\u4ee5\u4e0a\u3002\n", "tags": ["dropwizard0.7.1", "Java"]}