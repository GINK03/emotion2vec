{"context": " More than 1 year has passed since last update.reify\u3067\u4f5c\u6210\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306fclojure.lang.IObj\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u306e\u3067with-meta\u3067\u30e1\u30bf\u60c5\u5831\u3092\u4ed8\u4e0e\u3067\u304d\u307e\u3059\u304c\u3001proxy\u3067\u4f5c\u6210\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u305d\u3046\u306f\u3044\u304d\u307e\u305b\u3093\u3002\n(def v (proxy [Object] []\n              (toString [] (str :abc))))\n(with-meta v {:A 111})\n\njava.lang.ClassCastException: user.proxy$java.lang.Object$ff19274a cannot be cast to clojure.lang.IObj\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306bclojure.lang.IObj\u306ewithMeta\u3068meta\u3092\u5b9f\u88c5\u3059\u308c\u3070with-meta\u3067proxy\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3082\u30e1\u30bf\u60c5\u5831\u3092\u4ed8\u4e0e\u3067\u304d\u307e\u3059\u3002\n(def v (proxy [Object clojure.lang.IObj] []\n              (toString [] (str :abc))\n              (withMeta [m] (update-proxy this {\"meta\" (fn [this] m)}))\n              (meta [] nil)))\n(with-meta v {:A 111})\n(meta v)\n\n\u305f\u3060\u3057\u3001\u901a\u5e38\u306ewith-meta\u3068\u306f\u9055\u3063\u3066\u30e1\u30bf\u60c5\u5831\u306fmutable\u306b\u5909\u66f4\u3055\u308c\u307e\u3059\u3002\nreify\u3067\u4f5c\u6210\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306fclojure.lang.IObj\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u306e\u3067with-meta\u3067\u30e1\u30bf\u60c5\u5831\u3092\u4ed8\u4e0e\u3067\u304d\u307e\u3059\u304c\u3001proxy\u3067\u4f5c\u6210\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u305d\u3046\u306f\u3044\u304d\u307e\u305b\u3093\u3002\n\n```clj\n(def v (proxy [Object] []\n              (toString [] (str :abc))))\n(with-meta v {:A 111})\n```\n\n```\njava.lang.ClassCastException: user.proxy$java.lang.Object$ff19274a cannot be cast to clojure.lang.IObj\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306bclojure.lang.IObj\u306ewithMeta\u3068meta\u3092\u5b9f\u88c5\u3059\u308c\u3070with-meta\u3067proxy\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3082\u30e1\u30bf\u60c5\u5831\u3092\u4ed8\u4e0e\u3067\u304d\u307e\u3059\u3002\n\n```clj\n(def v (proxy [Object clojure.lang.IObj] []\n              (toString [] (str :abc))\n              (withMeta [m] (update-proxy this {\"meta\" (fn [this] m)}))\n              (meta [] nil)))\n(with-meta v {:A 111})\n(meta v)\n```\n\n\u305f\u3060\u3057\u3001\u901a\u5e38\u306ewith-meta\u3068\u306f\u9055\u3063\u3066\u30e1\u30bf\u60c5\u5831\u306fmutable\u306b\u5909\u66f4\u3055\u308c\u307e\u3059\u3002\n\n\n", "tags": ["Clojure1.6.0"]}