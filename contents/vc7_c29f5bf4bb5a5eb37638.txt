{"context": "\u5728\u64b0\u5beb app \u7684\u6642\u5019\uff0c\u6703\u6709\u4e00\u4e9b manager \u4f86\u8655\u7406\u5546\u696d\u908f\u8f2f\u3002\u800c\u9019\u4e9b managers \u672c\u8eab\u6703\u88ab\u5176\u4ed6\u7684 class \u6216\u662f struct \u7684\u5be6\u9ad4 (instance) \u7528\u5230\u3002\u9019\u6642\u5019\u8003\u91cf\u5230 \u53ef\u6e2c\u8a66 \u548c \u6613\u62bd\u63db \uff0c\u5c31\u6703\u4f7f\u7528\u300c\u76f8\u4f9d\u6027\u6ce8\u5165\u300d (DI, Dependency Injection) \u9019\u500b\u624b\u6cd5\uff0c\u628a\u9019\u500b manager \u7684\u5be6\u9ad4\uff0c\u53ef\u4ee5\u8b93\u5176\u4ed6\u985e\u5225\u7684\u5be6\u9ad4\u4f7f\u7528\u3002\n\u6703\u8b1b\u5230\u4e09\u500b\u6771\u897f\uff1a Manageable, Manager \u548c ManagerControllable\n\u9019\u7bc7\u7528\u5230\u5beb\u6cd5\u548c\u547d\u540d\u7686\u63a1\u7528 Swift 3 / iOS 10 SDK \u7684\u547d\u540d\u6163\u4f8b\uff0c\u4e26\u4ee5\u300cToken \u7ba1\u7406\u300d\u4f5c\u70ba\u8f14\u52a9\u8aaa\u660e\u7684\u7bc4\u4f8b\u3002\n\n\u7ba1\u7406\u8005\u985e\u578b\u4ecb\u9762 - ~Manageable\n\n\n\u91dd\u5c0d\u4ecb\u9762\uff0c\u800c\u975e\u91dd\u5c0d\u5be6\u4f5c\u4f86\u64b0\u5beb\u7a0b\u5f0f\u78bc\n\n\u9019\u53e5\u8a71\u61c9\u8a72\u5f88\u719f\u6089\uff0c\u539f\u6587\u662f\u300cprogram to an interface not an implementation\u300d\u3002\n\u8aaa\u5230\u4ecb\u9762\uff0c\u5728 Swift \u5c31\u662f protocol \uff0cprotocol \u53ef\u4ee5\u8b93\u6211\u5011\u62ff\u4f86\u5b9a\u7fa9\u548c\u6574\u7406\u9810\u671f\u884c\u70ba\u7684\u4ecb\u9762\u3002\n\n\u547d\u540d\n\u5728 Swift protocol \u547d\u540d\u7684\u6163\u4f8b\u4e0a\uff0c\u53ea\u8981\u9019\u500b protocol \u7684\u76ee\u7684\uff0c\u662f\u8ddf \u53ef\u4ee5 \u9054\u6210\u4ec0\u9ebc\u4e8b\u60c5\u6709\u95dc\u4fc2\uff0c\u5b57\u5c3e\u5c31\u6703\u662f ~able \u3002\n\u56e0\u70ba\u5728\u9019\u88e1\u662f\u671f\u671b\u5be6\u4f5c\u9019\u4e00\u985e\u578b protocols \u7684 manager s \u662f\u8981 \u53ef\u4ee5 \u7ba1\u7406\u67d0\u500b\u6771\u897f\uff0c\u6240\u4ee5\u5728 manager \u985e\u578b\u7684 protocol \u7684\u547d\u540d\uff0c\u8907\u5408\u4e4b\u5f8c\uff0c\u5c31\u90fd\u6703\u6709 ~Manageable \u9019\u6a23\u7684\u5b57\u5c3e\u3002\n\u4f8b\u5982\uff1a\nprotocol TokenManageable {\n\n    /// \u53d6\u7528 token\n    var token: String? { get }\n\n    // ... \u5176\u4ed6\u5b9a\u7fa9\u7565\n}\n\n\u5b9a\u7fa9\u4e86\u4e00\u500b TokenManageable \u9019\u500b protocol \uff0c\u4e26\u5177\u6709\u53d6\u7528 token \u7684\u529f\u80fd\u3002\n\n\u5be6\u4f5c - ~Manager\n\n\u9019\u500b\u90e8\u5206\u5c31\u5f88\u7c21\u55ae\uff0c\u5be6\u4f5c\u7684 class \u5c31\u6703\u4ee5 ~Manager \u4f5c\u70ba\u5b57\u5c3e\u3002\n\nSingleton (\u55ae\u4f8b)\n\u5c31\u50cf iOS \u539f\u751f\u7684 NotificationCenter \u4e00\u6a23\uff0c\u6211\u5c0d manager \u985e\u578b\u7684\u5be6\u4f5c\n\n\u4f7f\u7528 class\n\u4ee5 singleton \u7684\u5f62\u5f0f\u5b58\u5728\n\n\u4e00\u65b9\u9762\u4e5f\u662f\u6709\u8003\u91cf\u5230\u6e2c\u8a66\u7684\u53ef mock \u6027\u3002\n\u6240\u4ee5\u5728\u5be6\u4f5c\u7684\u6642\u5019\uff0c\u901a\u5e38\u6703\u52a0\u4e0a\u985e\u4f3c\u9019\u6a23\u7684\u5be6\u4f5c\uff1a\nclass TokenManager: TokenManageable {\n\n    // \u4e3b\u8981\u7684 type variable \uff0c\u662f\u500b singleton \u7269\u4ef6\n    static let `default`: TokenManager = TokenManager()\n\n    // \u5982\u679c\u671f\u671b\u9019\u500b manager \u4e0d\u80fd\u6709\u7b2c\u4e8c\u7684\u5be6\u9ad4\uff0c\u5c31\u5fc5\u9808\u628a init method \u8a2d\u5b9a\u6210 private\n    private init() {\n    }\n\n    /// MARK: - TokenManageable\n\n    var token: String? {\n        // \u5be6\u52d9\u4e0a\u53ef\u80fd\u7531\u67d0\u8655\u53d6\u51fa\u9019\u500b token\n        return \"\"\n    }\n\n    // ... \u5176\u4ed6\u5be6\u4f5c\u7565\n}\n\n\n\n\u53ef\u4f7f\u7528 - ~ManagerControllable\n\n\u9019\u500b\u8a2d\u8a08\u60f3\u89e3\u6c7a\u7684\u554f\u984c\uff1a\n\n\u539f\u672c\u91cd\u69cb\u5230\u4f7f\u7528 DI \u7684\u65b9\u5f0f\u63d0\u4f9b\u5171\u7528\u7684 managers \uff0c\n\u4f46\u662f\u9019\u6642\u5019\u767c\u73fe\u6bcf\u500b\u4f7f\u7528\u7684 class/struct \u90fd\u8981\u5be6\u4f5c\u7684\u8a71\uff0c\u6703\u6709\u5f88\u591a\u91cd\u8907\u7a0b\u5f0f\u78bc\u3002\n\u56e0\u6b64\u6c7a\u5b9a\u518d\u5c01\u88dd\u9019\u4e00\u500b\u90e8\u5206\uff0c\n\u540c\u6642\u7d66\u9019\u500b\u8ce6\u4e88 \u66f4\u5bb9\u6613\u8b58\u5225 \u7684\u540d\u7a31\n\n===\n\u7576\u5efa\u7acb\u597d manager \u7684\u6642\u5019\uff0c\u5c31\u53ef\u4ee5\u7d66\u5176\u4ed6\u5be6\u9ad4\u4f7f\u7528\uff0c\u6982\u5ff5\u4e0a\u662f\uff1a\n\n\u53ef\u63a7\u5236\u67d0\u67d0 manager\n\n\u5148\u6311\u4e86\u5f88\u591a\u82f1\u6587\u55ae\u5b57\u7576\u5019\u9078\u4e4b\u5f8c\uff0c\n\u89ba\u5f97 Control \u6bd4\u8f03\u7b26\u5408\u6211\u671f\u671b\u4ed6\u7684\u76ee\u7684\uff0c\n\u56e0\u6b64\u5b57\u5c3e\u6700\u7d42\u4ee5 ~ManagerControllable \u7684\u6a23\u5b50\u5448\u73fe\u3002\n\n\u5b9a\u7fa9\u8207\u5be6\u4f5c\n\u9019\u4e00\u6bb5\u6709\u7528\u5230\u9019\u4e9b\u6982\u5ff5\n\nDependency Injection (\u76f8\u4f9d\u6027\u6ce8\u5165)\n\u70ba Protocol \u63d0\u4f9b\u9810\u8a2d\u5be6\u4f5c\n\n\u5148\u770b\u9019\u4e00\u6bb5\u7a0b\u5f0f\u78bc\uff0c\nprotocol TokenManagerControllable {\n    var tokenManager: TokenManageable { get }\n}\n\nextension TokenManagerControllable {\n    var tokenManager: TokenManageable {\n        return TokenManager.default\n    }\n}\n\n\u9996\u5148\uff0cTokenManagerControllable \u5b9a\u7fa9\u53ef\u4ee5\u53d6\u7528 tokenManager \u7684 protocol \u3002\n\u63a5\u8457\u5229\u7528\u300c extension \u53ef\u70ba protocol \u63d0\u4f9b\u9810\u8a2d\u5be6\u4f5c \u300d\u7684\u7279\u6027\uff0c\n\u8b93\u9019\u500b protocol \u5728\u4e0d\u9700\u8981\u53e6\u5916\u5be6\u4f5c\u7684\u60c5\u5f62\u4e4b\u4e0b\uff0c\n\u53ea\u8981\u67d0\u500b\u985e\u5225\u4f7f\u7528 (conforms) \u9019\u500b protocol \uff0c\n\u4ed6\u7684\u5be6\u9ad4\u53ea\u8981\u547c\u53eb tokenManager \u5c31\u53ef\u4ee5\u53d6\u7528\u5230\u4e0a\u4e00\u500b\u6bb5\u843d\u6642\u505a\u51fa\u4f86\u7684 singleton \u7269\u4ef6 - TokenManager.default\u3002\n\n\u5be6\u969b\u4f7f\u7528\n\u5047\u8a2d\u6709\u67d0\u500b UIViewController \u5b50\u985e\u5225 ViewController \u60f3\u8981\u4f7f\u7528 token manager \u7684\u8a71\uff0c\u53ea\u8981\u50cf\u9019\u6a23 conforming TokenManagerControllable \uff0c\u4e5f\u4e0d\u7528\u518d\u64b0\u5beb\u5176\u4ed6\u5be6\u4f5c\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\uff1a\nclass ViewController: UIViewController, TokenManagerControllable {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        if let token = self.tokenManager.token {\n            print(\"Token \u5b58\u5728: \\(token)\")\n        } else {\n            print(\"Token \u4e0d\u5b58\u5728\")\n        }\n    }\n\n    // ... \u5176\u4ed6\u5be6\u4f5c\u7565\n}\n\n\n\u7d50\u8a9e\n\u9019\u4e00\u9663\u5b50\u5728\u4e0a\u73ed\u6642\u9593\u548c\u4e0b\u73ed\u7684\u96f6\u788e\u6642\u9593\uff0c\u90fd\u82b1\u5f88\u591a\u6642\u9593\u5728\u601d\u8003\u9019\u4e00\u985e\u7684\u6771\u897f\n\nProtocol oriented programming / \u4ecb\u9762\u5c0e\u5411\u8a2d\u8a08\nClear and easy-understand behaviors / \u6e05\u6670\u6613\u61c2\u7684\u4ecb\u9762\u884c\u70ba\nTestable / \u53ef\u6e2c\u8a66\nEmbracing changing / \u64c1\u62b1\u6539\u8b8a\nEasy maintainable / \u6613\u53ef\u7dad\u8b77\n\n\u4e5f\u8d81\u8457 Swift 3 \u6539\u7248\u548c\u65b0\u5c08\u6848\u7684\u5951\u6a5f\uff0c\u628a\u5546\u696d\u908f\u8f2f manager \u9019\u500b\u90e8\u5206\u505a\u5f97\u66f4\u5b8c\u5584\uff1b\u4e26\u628a\u6982\u5ff5\u5b9a\u4e0b\u4f86\uff0c\u5e6b\u52a9\u5728\u5c08\u6848\u4e0a\u80fd\u5920\u66f4\u8fc5\u901f\u7684\u5be6\u4f5c\u548c\u6e2c\u8a66\uff0c\u8a9e\u610f\u4e0a\u540c\u6642\u4e5f\u66f4\u52a0\u7cbe\u78ba\u8868\u9054\u4ed6\u5011\u60f3\u9054\u6210\u7684\u76ee\u7684\u3002\n\u5728\u5be6\u52d9\u4e0a\uff0c\u719f\u7df4\u5f8c\u78ba\u5be6\u4e5f\u5e6b\u52a9\u6211\u66f4\u5feb\u66f4\u7cbe\u78ba\u5730\u52a0\u901f\u64b0\u5beb\u55ae\u5143\u6e2c\u8a66\u6848\u4f8b\u3001\u5728\u5546\u696d\u9700\u6c42\u4e0a\u8981\u8b8a\u66f4\u9700\u6c42\u7684\u6642\u5019\u6e1b\u5c11\u4e86\u975e\u5e38\u591a\u7684\u66ff\u63db\u6210\u672c\u3002\n\u9019\u4e00\u6bb5\u6642\u9593\u5728\u5546\u696d\u908f\u8f2f\u5c64\u67b6\u69cb\u82b1\u7684\u529f\u975e\u5e38\u591a\uff0c\u4e0b\u4e00\u500b\u968e\u6bb5\u61c9\u8a72\u5c31\u662f UI \u76f8\u95dc\u5be6\u4f5c\u7684\u8abf\u6574\u4e86\u5427\u3002\u96d6\u7136\u4e4b\u524d\u6709\u505a\u904e UI \u6a21\u7d44\u5316\u7684\u5617\u8a66\uff0c\u4f46\u662f\u9084\u662f\u6709\u4e0d\u6eff\u610f\u7684\u5730\u65b9\uff08\u4f8b\u5982\u96e3\u4ee5\u6e2c\u8a66\uff09\uff0c\u9019\u5c31\u662f\u4e0b\u4e00\u500b\u76ee\u6a19\u4e86\uff01\n\u5728\u64b0\u5beb app \u7684\u6642\u5019\uff0c\u6703\u6709\u4e00\u4e9b manager \u4f86\u8655\u7406\u5546\u696d\u908f\u8f2f\u3002\u800c\u9019\u4e9b managers \u672c\u8eab\u6703\u88ab\u5176\u4ed6\u7684 class \u6216\u662f struct \u7684\u5be6\u9ad4 (instance) \u7528\u5230\u3002\u9019\u6642\u5019\u8003\u91cf\u5230 **\u53ef\u6e2c\u8a66** \u548c **\u6613\u62bd\u63db** \uff0c\u5c31\u6703\u4f7f\u7528\u300c\u76f8\u4f9d\u6027\u6ce8\u5165\u300d (DI, Dependency Injection) \u9019\u500b\u624b\u6cd5\uff0c\u628a\u9019\u500b manager \u7684\u5be6\u9ad4\uff0c\u53ef\u4ee5\u8b93\u5176\u4ed6\u985e\u5225\u7684\u5be6\u9ad4\u4f7f\u7528\u3002\n\n\u6703\u8b1b\u5230\u4e09\u500b\u6771\u897f\uff1a **Manageable**, **Manager** \u548c **ManagerControllable**\n\n\u9019\u7bc7\u7528\u5230\u5beb\u6cd5\u548c\u547d\u540d\u7686\u63a1\u7528 Swift 3 / iOS 10 SDK \u7684\u547d\u540d\u6163\u4f8b\uff0c\u4e26\u4ee5\u300cToken \u7ba1\u7406\u300d\u4f5c\u70ba\u8f14\u52a9\u8aaa\u660e\u7684\u7bc4\u4f8b\u3002\n\n## \u7ba1\u7406\u8005\u985e\u578b\u4ecb\u9762 - `~Manageable`\n\n> \u91dd\u5c0d\u4ecb\u9762\uff0c\u800c\u975e\u91dd\u5c0d\u5be6\u4f5c\u4f86\u64b0\u5beb\u7a0b\u5f0f\u78bc\n\n\u9019\u53e5\u8a71\u61c9\u8a72\u5f88\u719f\u6089\uff0c\u539f\u6587\u662f\u300cprogram to an interface not an implementation\u300d\u3002\n\n\u8aaa\u5230\u4ecb\u9762\uff0c\u5728 Swift \u5c31\u662f protocol \uff0cprotocol \u53ef\u4ee5\u8b93\u6211\u5011\u62ff\u4f86\u5b9a\u7fa9\u548c\u6574\u7406\u9810\u671f\u884c\u70ba\u7684\u4ecb\u9762\u3002\n\n### \u547d\u540d\n\n\u5728 Swift protocol \u547d\u540d\u7684\u6163\u4f8b\u4e0a\uff0c\u53ea\u8981\u9019\u500b protocol \u7684\u76ee\u7684\uff0c\u662f\u8ddf *\u53ef\u4ee5* \u9054\u6210\u4ec0\u9ebc\u4e8b\u60c5\u6709\u95dc\u4fc2\uff0c\u5b57\u5c3e\u5c31\u6703\u662f `~able` \u3002\n\n\u56e0\u70ba\u5728\u9019\u88e1\u662f\u671f\u671b\u5be6\u4f5c\u9019\u4e00\u985e\u578b protocols \u7684 *manager* s \u662f\u8981 *\u53ef\u4ee5* \u7ba1\u7406\u67d0\u500b\u6771\u897f\uff0c\u6240\u4ee5\u5728 manager \u985e\u578b\u7684 protocol \u7684\u547d\u540d\uff0c\u8907\u5408\u4e4b\u5f8c\uff0c\u5c31\u90fd\u6703\u6709 `~Manageable` \u9019\u6a23\u7684\u5b57\u5c3e\u3002\n\n\u4f8b\u5982\uff1a\n\n``` swift\nprotocol TokenManageable {\n    \n    /// \u53d6\u7528 token\n    var token: String? { get }\n\n    // ... \u5176\u4ed6\u5b9a\u7fa9\u7565\n}\n```\n\n\u5b9a\u7fa9\u4e86\u4e00\u500b `TokenManageable` \u9019\u500b protocol \uff0c\u4e26\u5177\u6709\u53d6\u7528 `token` \u7684\u529f\u80fd\u3002\n\n## \u5be6\u4f5c - `~Manager`\n\n\u9019\u500b\u90e8\u5206\u5c31\u5f88\u7c21\u55ae\uff0c\u5be6\u4f5c\u7684 class \u5c31\u6703\u4ee5 `~Manager` \u4f5c\u70ba\u5b57\u5c3e\u3002\n\n### Singleton (\u55ae\u4f8b)\n\n\u5c31\u50cf iOS \u539f\u751f\u7684 `NotificationCenter` \u4e00\u6a23\uff0c\u6211\u5c0d manager \u985e\u578b\u7684\u5be6\u4f5c\n\n1. \u4f7f\u7528 class\n2. \u4ee5 singleton \u7684\u5f62\u5f0f\u5b58\u5728\n\n\u4e00\u65b9\u9762\u4e5f\u662f\u6709\u8003\u91cf\u5230\u6e2c\u8a66\u7684\u53ef mock \u6027\u3002\n\n\u6240\u4ee5\u5728\u5be6\u4f5c\u7684\u6642\u5019\uff0c\u901a\u5e38\u6703\u52a0\u4e0a\u985e\u4f3c\u9019\u6a23\u7684\u5be6\u4f5c\uff1a\n\n``` swift\nclass TokenManager: TokenManageable {\n\n    // \u4e3b\u8981\u7684 type variable \uff0c\u662f\u500b singleton \u7269\u4ef6\n    static let `default`: TokenManager = TokenManager()\n    \n    // \u5982\u679c\u671f\u671b\u9019\u500b manager \u4e0d\u80fd\u6709\u7b2c\u4e8c\u7684\u5be6\u9ad4\uff0c\u5c31\u5fc5\u9808\u628a init method \u8a2d\u5b9a\u6210 private\n    private init() {\n    }\n\n    /// MARK: - TokenManageable\n\n    var token: String? {\n        // \u5be6\u52d9\u4e0a\u53ef\u80fd\u7531\u67d0\u8655\u53d6\u51fa\u9019\u500b token\n        return \"\"\n    }\n\n    // ... \u5176\u4ed6\u5be6\u4f5c\u7565\n}\n\n``` \n\n## \u53ef\u4f7f\u7528 - `~ManagerControllable`\n\n**\u9019\u500b\u8a2d\u8a08\u60f3\u89e3\u6c7a\u7684\u554f\u984c\uff1a**\n\n> \u539f\u672c\u91cd\u69cb\u5230\u4f7f\u7528 DI \u7684\u65b9\u5f0f\u63d0\u4f9b\u5171\u7528\u7684 managers \uff0c\n> \u4f46\u662f\u9019\u6642\u5019\u767c\u73fe\u6bcf\u500b\u4f7f\u7528\u7684 class/struct \u90fd\u8981\u5be6\u4f5c\u7684\u8a71\uff0c\u6703\u6709\u5f88\u591a\u91cd\u8907\u7a0b\u5f0f\u78bc\u3002\n> \u56e0\u6b64\u6c7a\u5b9a\u518d\u5c01\u88dd\u9019\u4e00\u500b\u90e8\u5206\uff0c\n> \u540c\u6642\u7d66\u9019\u500b\u8ce6\u4e88 **\u66f4\u5bb9\u6613\u8b58\u5225** \u7684\u540d\u7a31\n\n===\n\n\u7576\u5efa\u7acb\u597d manager \u7684\u6642\u5019\uff0c\u5c31\u53ef\u4ee5\u7d66\u5176\u4ed6\u5be6\u9ad4\u4f7f\u7528\uff0c\u6982\u5ff5\u4e0a\u662f\uff1a\n\n> \u53ef\u63a7\u5236\u67d0\u67d0 manager\n\n\u5148\u6311\u4e86\u5f88\u591a\u82f1\u6587\u55ae\u5b57\u7576\u5019\u9078\u4e4b\u5f8c\uff0c\n\u89ba\u5f97 Control \u6bd4\u8f03\u7b26\u5408\u6211\u671f\u671b\u4ed6\u7684\u76ee\u7684\uff0c\n\u56e0\u6b64\u5b57\u5c3e\u6700\u7d42\u4ee5 `~ManagerControllable` \u7684\u6a23\u5b50\u5448\u73fe\u3002\n\n### \u5b9a\u7fa9\u8207\u5be6\u4f5c\n\n\u9019\u4e00\u6bb5\u6709\u7528\u5230\u9019\u4e9b\u6982\u5ff5\n\n- Dependency Injection (\u76f8\u4f9d\u6027\u6ce8\u5165)\n- \u70ba Protocol \u63d0\u4f9b\u9810\u8a2d\u5be6\u4f5c\n\n\u5148\u770b\u9019\u4e00\u6bb5\u7a0b\u5f0f\u78bc\uff0c\n\n``` swift\nprotocol TokenManagerControllable {\n    var tokenManager: TokenManageable { get }\n}\n\nextension TokenManagerControllable {\n    var tokenManager: TokenManageable {\n        return TokenManager.default\n    }\n}\n```\n\n\u9996\u5148\uff0c`TokenManagerControllable` \u5b9a\u7fa9\u53ef\u4ee5\u53d6\u7528 `tokenManager` \u7684 protocol \u3002\n\n\u63a5\u8457\u5229\u7528\u300c **extension \u53ef\u70ba protocol \u63d0\u4f9b\u9810\u8a2d\u5be6\u4f5c** \u300d\u7684\u7279\u6027\uff0c\n\u8b93\u9019\u500b protocol \u5728\u4e0d\u9700\u8981\u53e6\u5916\u5be6\u4f5c\u7684\u60c5\u5f62\u4e4b\u4e0b\uff0c\n\u53ea\u8981\u67d0\u500b\u985e\u5225\u4f7f\u7528 (conforms) \u9019\u500b protocol \uff0c\n\u4ed6\u7684\u5be6\u9ad4\u53ea\u8981\u547c\u53eb `tokenManager` \u5c31\u53ef\u4ee5\u53d6\u7528\u5230\u4e0a\u4e00\u500b\u6bb5\u843d\u6642\u505a\u51fa\u4f86\u7684 singleton \u7269\u4ef6 - `TokenManager.default`\u3002\n\n## \u5be6\u969b\u4f7f\u7528\n\n\u5047\u8a2d\u6709\u67d0\u500b UIViewController \u5b50\u985e\u5225 `ViewController` \u60f3\u8981\u4f7f\u7528 token manager \u7684\u8a71\uff0c\u53ea\u8981\u50cf\u9019\u6a23 conforming `TokenManagerControllable` \uff0c\u4e5f\u4e0d\u7528\u518d\u64b0\u5beb\u5176\u4ed6\u5be6\u4f5c\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\uff1a\n\n``` swift\nclass ViewController: UIViewController, TokenManagerControllable {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        if let token = self.tokenManager.token {\n            print(\"Token \u5b58\u5728: \\(token)\")\n        } else {\n            print(\"Token \u4e0d\u5b58\u5728\")\n        }\n    }\n\n    // ... \u5176\u4ed6\u5be6\u4f5c\u7565\n}\n```\n\n## \u7d50\u8a9e\n\n\u9019\u4e00\u9663\u5b50\u5728\u4e0a\u73ed\u6642\u9593\u548c\u4e0b\u73ed\u7684\u96f6\u788e\u6642\u9593\uff0c\u90fd\u82b1\u5f88\u591a\u6642\u9593\u5728\u601d\u8003\u9019\u4e00\u985e\u7684\u6771\u897f\n\n- Protocol oriented programming / \u4ecb\u9762\u5c0e\u5411\u8a2d\u8a08\n- Clear and easy-understand behaviors / \u6e05\u6670\u6613\u61c2\u7684\u4ecb\u9762\u884c\u70ba\n- Testable / \u53ef\u6e2c\u8a66\n- Embracing changing / \u64c1\u62b1\u6539\u8b8a\n- Easy maintainable / \u6613\u53ef\u7dad\u8b77\n\n\u4e5f\u8d81\u8457 Swift 3 \u6539\u7248\u548c\u65b0\u5c08\u6848\u7684\u5951\u6a5f\uff0c\u628a\u5546\u696d\u908f\u8f2f manager \u9019\u500b\u90e8\u5206\u505a\u5f97\u66f4\u5b8c\u5584\uff1b\u4e26\u628a\u6982\u5ff5\u5b9a\u4e0b\u4f86\uff0c\u5e6b\u52a9\u5728\u5c08\u6848\u4e0a\u80fd\u5920\u66f4\u8fc5\u901f\u7684\u5be6\u4f5c\u548c\u6e2c\u8a66\uff0c\u8a9e\u610f\u4e0a\u540c\u6642\u4e5f\u66f4\u52a0\u7cbe\u78ba\u8868\u9054\u4ed6\u5011\u60f3\u9054\u6210\u7684\u76ee\u7684\u3002\n\n\u5728\u5be6\u52d9\u4e0a\uff0c\u719f\u7df4\u5f8c\u78ba\u5be6\u4e5f\u5e6b\u52a9\u6211\u66f4\u5feb\u66f4\u7cbe\u78ba\u5730\u52a0\u901f\u64b0\u5beb\u55ae\u5143\u6e2c\u8a66\u6848\u4f8b\u3001\u5728\u5546\u696d\u9700\u6c42\u4e0a\u8981\u8b8a\u66f4\u9700\u6c42\u7684\u6642\u5019\u6e1b\u5c11\u4e86\u975e\u5e38\u591a\u7684\u66ff\u63db\u6210\u672c\u3002\n\n\u9019\u4e00\u6bb5\u6642\u9593\u5728\u5546\u696d\u908f\u8f2f\u5c64\u67b6\u69cb\u82b1\u7684\u529f\u975e\u5e38\u591a\uff0c\u4e0b\u4e00\u500b\u968e\u6bb5\u61c9\u8a72\u5c31\u662f UI \u76f8\u95dc\u5be6\u4f5c\u7684\u8abf\u6574\u4e86\u5427\u3002\u96d6\u7136\u4e4b\u524d\u6709\u505a\u904e UI \u6a21\u7d44\u5316\u7684\u5617\u8a66\uff0c\u4f46\u662f\u9084\u662f\u6709\u4e0d\u6eff\u610f\u7684\u5730\u65b9\uff08\u4f8b\u5982\u96e3\u4ee5\u6e2c\u8a66\uff09\uff0c\u9019\u5c31\u662f\u4e0b\u4e00\u500b\u76ee\u6a19\u4e86\uff01\n", "tags": ["Swift3", "DependencyInjection"]}