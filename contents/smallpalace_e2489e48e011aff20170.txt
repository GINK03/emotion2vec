{"context": "\u5099\u5fd8\u9332\u3067\u3059\u3002\n\n\u624b\u9806\n\u3068\u308a\u3042\u3048\u305a\u624b\u52d5\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u3002packer\u3068jenkins\u3067\u5b9a\u671f\u81ea\u52d5\u30d3\u30eb\u30c9\u3057\u3066\u3066yum update\u52dd\u624b\u306b\u3055\u308c\u308b\u304b\u3089BG\u30c7\u30d7\u30ed\u30a4\u3059\u308c\u3070\u30aa\u30c3\u30b1\u30fc\u307f\u305f\u3044\u306a\u3053\u3068\u3067\u306f\u6e08\u307e\u306a\u3044\u633f\u3052\u66ff\u3048\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u3002\n$ wget https://access.redhat.com/sites/default/files/rh-cve-2016-5195_2.sh\n$ bash rh-cve-2016-5195_2.sh\nYour kernel is 3.10.0-327.10.1.el7.x86_64 which IS vulnerable.\n\n$ sudo yum update kernel\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  kernel.x86_64 0:3.10.0-327.36.3.el7                                                                                                                                                         \n\u4f9d\u5b58\u6027\u95a2\u9023\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f:\n  linux-firmware.noarch 0:20150904-43.git6ebf5d5.el7                                                                                                                                          \n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n$ sudo awk -F\\' '$1==\"menuentry \" {print $2}' /etc/grub2.cfg\nCentOS Linux (3.10.0-327.36.3.el7.x86_64) 7 (Core)\nCentOS Linux (3.10.0-327.10.1.el7.x86_64) 7 (Core)\nCentOS Linux (0-rescue-f32e0af35637b5dfcbedcb0a1de8dca1) 7 (Core)\n$ uname -r\n3.10.0-327.10.1.el7.x86_64\n$ sudo grub2-set-default 0\n$ sudo grub2-mkconfig -o /boot/grub2/grub.cfg\nGenerating grub configuration file ...\nFound linux image: /boot/vmlinuz-3.10.0-327.36.3.el7.x86_64\nFound initrd image: /boot/initramfs-3.10.0-327.36.3.el7.x86_64.img\nFound linux image: /boot/vmlinuz-3.10.0-327.10.1.el7.x86_64\nFound initrd image: /boot/initramfs-3.10.0-327.10.1.el7.x86_64.img\nFound linux image: /boot/vmlinuz-0-rescue-f32e0af35637b5dfcbedcb0a1de8dca1\nFound initrd image: /boot/initramfs-0-rescue-f32e0af35637b5dfcbedcb0a1de8dca1.img\ndone\n$ uname -r\n3.10.0-327.10.1.el7.x86_64\n$ sudo reboot\n$ ssh -i .ssh/eshop-test.pem user@host\n$ uname -r\n3.10.0-327.36.3.el7.x86_64\n$ bash rh-cve-2016-5195_2.sh\nYour kernel is 3.10.0-327.36.3.el7.x86_64 which is NOT vulnerable.\n\n7\u306f/etc/grub.conf\u624b\u52d5\u7de8\u96c6\u3068\u304b\u8981\u3089\u306a\u3044\u3088\u3046\u3067\u697d\u3067\u3044\u3044\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\uff08centos6\u306f/etc/grub.conf\u304c\u3042\u308c\u3070\u305d\u306edefault\u306e\u756a\u53f7\u3092\u3001\u306a\u3044\u5834\u5408\u306f/boot/grub/menu.lst\u3092\u624b\u3067\u7de8\u96c6\u3060\u3063\u305f\uff09\n\u3042\u3068rpm\u30b3\u30de\u30f3\u30c9\u3067changelog\u307f\u3066\u3082\u3042\u3093\u307e\u308a\u4f55\u3082\u66f8\u3044\u3066\u7121\u304f\u3066openssl\u3068\u306f\u3061\u3087\u3063\u3068\u9055\u3046\u3093\u3060\u306a\u3042\u3068\u601d\u3063\u305f\u304b\u306a\u3002\nelrepo\u3068\u3044\u3046yum\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u3046\u3068\u6700\u65b0\u306ekernel\u3092\u4f7f\u3048\u308b\u3089\u3057\u3044\u3051\u3069OS\u306e\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3042\u304c\u308b\u3068\u304b\u306e\u5834\u5408\u306b\u3046\u3063\u3068\u304a\u3057\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3089\u3057\u3044\u3068\u5148\u8f29\u306b\u805e\u3044\u305f\u6c17\u304c\u3002\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3063\u3066\u30ec\u30d9\u30eb\u3060\u3068\u3069\u3061\u3089\u306b\u305b\u3088\u79fb\u884c\u306a\u6c17\u306f\u3059\u308b\u3051\u3069\u307e\u3042\u6700\u65b0\u3067\u3044\u308d\u3044\u308d\u3057\u305f\u3044\u3068\u3044\u3046\u8a71\u3067\u3082\u306a\u304f\u3066\u30d1\u30c3\u30c1\u304c\u51fa\u3066\u305f\u306e\u3067\u305d\u308c\u3067\u3044\u3044\u304b\u306a\u3068\u3044\u3046\u3002\nDirty\u306a\u3093\u3068\u304b\u7684\u306a\u5bfe\u5fdc\u3068\u3057\u3066\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u5165\u308c\u3066\u3044\u308b\u3088\u3046\u306a\u72b6\u614b\u3067\u306a\u3044\u3068\u30a2\u30ec\u3089\u3057\u3044\u306e\u3067\u5bfe\u5fdc\u306f\u3059\u308b\u3051\u3069\u9699\u3092\u307f\u3066\u3060\u3093\u3060\u3093\u3068\u3068\u3044\u3046\u3002\n\u4ee5\u4e0a\u3002\n\n\u53c2\u8003\u30b5\u30a4\u30c8\nhttp://soymsk.hatenablog.com/entry/2015/11/20/003401\nhttp://jvn.jp/vu/JVNVU91983575/\nhttps://nazx.jp/x/CentOS_TIPS_021\nhttp://blog.suz-lab.com/2013/06/centos6suz-lab-ami.html\nhttp://www.agilegroup.co.jp/technote/dirty-cow.html\n\u5099\u5fd8\u9332\u3067\u3059\u3002\n\n### \u624b\u9806\n\n\u3068\u308a\u3042\u3048\u305a\u624b\u52d5\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u3002packer\u3068jenkins\u3067\u5b9a\u671f\u81ea\u52d5\u30d3\u30eb\u30c9\u3057\u3066\u3066yum update\u52dd\u624b\u306b\u3055\u308c\u308b\u304b\u3089BG\u30c7\u30d7\u30ed\u30a4\u3059\u308c\u3070\u30aa\u30c3\u30b1\u30fc\u307f\u305f\u3044\u306a\u3053\u3068\u3067\u306f\u6e08\u307e\u306a\u3044\u633f\u3052\u66ff\u3048\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u3002\n\n```\n$ wget https://access.redhat.com/sites/default/files/rh-cve-2016-5195_2.sh\n$ bash rh-cve-2016-5195_2.sh\nYour kernel is 3.10.0-327.10.1.el7.x86_64 which IS vulnerable.\n\n$ sudo yum update kernel\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb:\n  kernel.x86_64 0:3.10.0-327.36.3.el7                                                                                                                                                         \n\u4f9d\u5b58\u6027\u95a2\u9023\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f:\n  linux-firmware.noarch 0:20150904-43.git6ebf5d5.el7                                                                                                                                          \n\u5b8c\u4e86\u3057\u307e\u3057\u305f!\n$ sudo awk -F\\' '$1==\"menuentry \" {print $2}' /etc/grub2.cfg\nCentOS Linux (3.10.0-327.36.3.el7.x86_64) 7 (Core)\nCentOS Linux (3.10.0-327.10.1.el7.x86_64) 7 (Core)\nCentOS Linux (0-rescue-f32e0af35637b5dfcbedcb0a1de8dca1) 7 (Core)\n$ uname -r\n3.10.0-327.10.1.el7.x86_64\n$ sudo grub2-set-default 0\n$ sudo grub2-mkconfig -o /boot/grub2/grub.cfg\nGenerating grub configuration file ...\nFound linux image: /boot/vmlinuz-3.10.0-327.36.3.el7.x86_64\nFound initrd image: /boot/initramfs-3.10.0-327.36.3.el7.x86_64.img\nFound linux image: /boot/vmlinuz-3.10.0-327.10.1.el7.x86_64\nFound initrd image: /boot/initramfs-3.10.0-327.10.1.el7.x86_64.img\nFound linux image: /boot/vmlinuz-0-rescue-f32e0af35637b5dfcbedcb0a1de8dca1\nFound initrd image: /boot/initramfs-0-rescue-f32e0af35637b5dfcbedcb0a1de8dca1.img\ndone\n$ uname -r\n3.10.0-327.10.1.el7.x86_64\n$ sudo reboot\n$ ssh -i .ssh/eshop-test.pem user@host\n$ uname -r\n3.10.0-327.36.3.el7.x86_64\n$ bash rh-cve-2016-5195_2.sh\nYour kernel is 3.10.0-327.36.3.el7.x86_64 which is NOT vulnerable.\n```\n\n7\u306f/etc/grub.conf\u624b\u52d5\u7de8\u96c6\u3068\u304b\u8981\u3089\u306a\u3044\u3088\u3046\u3067\u697d\u3067\u3044\u3044\u306a\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\uff08centos6\u306f/etc/grub.conf\u304c\u3042\u308c\u3070\u305d\u306edefault\u306e\u756a\u53f7\u3092\u3001\u306a\u3044\u5834\u5408\u306f/boot/grub/menu.lst\u3092\u624b\u3067\u7de8\u96c6\u3060\u3063\u305f\uff09\n\u3042\u3068rpm\u30b3\u30de\u30f3\u30c9\u3067changelog\u307f\u3066\u3082\u3042\u3093\u307e\u308a\u4f55\u3082\u66f8\u3044\u3066\u7121\u304f\u3066openssl\u3068\u306f\u3061\u3087\u3063\u3068\u9055\u3046\u3093\u3060\u306a\u3042\u3068\u601d\u3063\u305f\u304b\u306a\u3002\nelrepo\u3068\u3044\u3046yum\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u3046\u3068\u6700\u65b0\u306ekernel\u3092\u4f7f\u3048\u308b\u3089\u3057\u3044\u3051\u3069OS\u306e\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3042\u304c\u308b\u3068\u304b\u306e\u5834\u5408\u306b\u3046\u3063\u3068\u304a\u3057\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3089\u3057\u3044\u3068\u5148\u8f29\u306b\u805e\u3044\u305f\u6c17\u304c\u3002\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u3063\u3066\u30ec\u30d9\u30eb\u3060\u3068\u3069\u3061\u3089\u306b\u305b\u3088\u79fb\u884c\u306a\u6c17\u306f\u3059\u308b\u3051\u3069\u307e\u3042\u6700\u65b0\u3067\u3044\u308d\u3044\u308d\u3057\u305f\u3044\u3068\u3044\u3046\u8a71\u3067\u3082\u306a\u304f\u3066\u30d1\u30c3\u30c1\u304c\u51fa\u3066\u305f\u306e\u3067\u305d\u308c\u3067\u3044\u3044\u304b\u306a\u3068\u3044\u3046\u3002\nDirty\u306a\u3093\u3068\u304b\u7684\u306a\u5bfe\u5fdc\u3068\u3057\u3066\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u5165\u308c\u3066\u3044\u308b\u3088\u3046\u306a\u72b6\u614b\u3067\u306a\u3044\u3068\u30a2\u30ec\u3089\u3057\u3044\u306e\u3067\u5bfe\u5fdc\u306f\u3059\u308b\u3051\u3069\u9699\u3092\u307f\u3066\u3060\u3093\u3060\u3093\u3068\u3068\u3044\u3046\u3002\n\u4ee5\u4e0a\u3002\n\n### \u53c2\u8003\u30b5\u30a4\u30c8\nhttp://soymsk.hatenablog.com/entry/2015/11/20/003401\nhttp://jvn.jp/vu/JVNVU91983575/\nhttps://nazx.jp/x/CentOS_TIPS_021\nhttp://blog.suz-lab.com/2013/06/centos6suz-lab-ami.html\nhttp://www.agilegroup.co.jp/technote/dirty-cow.html\n", "tags": ["kernel", "centos7"]}