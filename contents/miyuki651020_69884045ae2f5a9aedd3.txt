{"context": "\n\n\u81ea\u5206\u306e\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u3002\nhtml\u3068css\u3092rails\u306b\u53cd\u6620\u3055\u305b\u3001\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u3092\u4f5c\u3063\u3066\u304a\u308a\u3001\u304a\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\u306e\u3001\u30e1\u30fc\u30eb\u9001\u4fe1\u6a5f\u80fd\u306e\u90e8\u5206\u3067\u8db3\u8e0f\u307f\u3057\u3066\u3044\u307e\u3059\u3002\n\u3069\u306a\u305f\u304b\u8a73\u3057\u3044\u65b9\u3001\u6559\u3048\u3066\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u304b\uff1f\n\napp/mailers/contact_mailer.rb\n\ncontact_mailer.rb\nclass ContactMailer < ApplicationMailer::Base\n  default from: \"from@gmail.com\", \n          reply_to: \"reply_to@example.com\",\n          charset: 'UTF-8'\n\n  def received_email(arg)\n    @arg = arg\n    @greeting = \"Hi\"\n\n    mail (to: \"to@example.org\", cc: \"\uff03\u3053\u3053\u306b\u81ea\u5206\u306eG\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u8a18\u5165\u3057\u3066\u3044\u307e\u3059\", subject: '\u3010MIYUKIm\u00e9moires\u3011\u3054\u9023\u7d61\u3001\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002')\n  end\nend\n\n\n\napp/controllers/contact_controller.rb\n\ncontact_controller.rb\nclass ContactController < ApplicationController\n\n  def index\n    @contact = Contact.new\n  end\n\n  def received_emailcon\n    arg = ContentModel.find(1)\n    @mail = ContentMailer.received_email(arg).deliver\n    render text: '\u30e1\u30fc\u30eb\u9001\u4fe1\u5b8c\u4e86'\n  end\n\nend\n\n\n\n\napp/views/contact_mailer/received_email.text.erb\n\nreceived_email.text.erb\n\n--------------------------\nName:<br>\n<%= @contacts.name %>\nEmail:<br>\n<%= @contacts.email %>\nText:<br>\n<%= @contacts.text %>\n--------------------------\n\n\n\napp/confing/environments/development.rb\n\ndevelopment.rb\nconfig.action_mailer.default_url_options = { host: 'localhost', port: 3000 }\n  config.action_mailer.raise_delivery_errors = true\n  config.action_mailer.delivery_method = :smtp\n  config.action_mailer.smtp_settings = {\n    :enable_starttls_auto => true,\n    :address => \"smtp.gmail.com\",\n    :port => 587,\n    :domain => 'gmail.com',\n    :user_name => \"#\u81ea\u5206\u306egmail\u30a2\u30c9\u30ec\u30b9\", \n    :password => \"#\u81ea\u5206\u306egmail\u30a2\u30c9\u30ec\u30b9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\", \n    :authentication => 'plain'\n  }\n\n\n\napp/views/contact_mailer/received_email.html.erb\n\nreceived_email.html.erb\nContactMailer#received_email\n\n<%= @greeting %>, find me in /app/views/contact_mailer/received_email.html.erb\n\n<h2>\u30c6\u30b9\u30c8</h2>\n<p>\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e</p>\n\n\n\napp/views/contact/index.html.erb\n\nindex.html.erb\n\n\n<%= form_for @contact, :url => contact_create_path do |f| %>\n    <% if @contact.errors.any? %>\n      <div class=\"alert alert-danger\" role=\"alert\">\n        <strong>\u5165\u529b\u5185\u5bb9\u306b\u30a8\u30e9\u30fc\u304c\u3042\u308a\u307e\u3059</strong>\n        <ul>\n          <% @contact.errors.each do |attr, msg| %>\n            <li><%= msg %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n  <h3>\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b</h3>\n  <table class=\"table\">\n    <tr>\n      <td><%= f.text_field :name, placeholder: '\u304a\u540d\u524d\uff08\u5fc5\u9808\uff09', class: 'name' %></td>\n    </tr>\n    <tr>\n      <td><%= f.text_field :email, placeholder: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08\u5fc5\u9808\uff09', class: 'email' %></td>\n    </tr>\n    <tr>\n      <td><%= f.text_area :text, placeholder: '\u3088\u304b\u3063\u305f\u3089\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u304a\u9858\u3044\u3057\u307e\u3059\uff01', rows: '10', class: 'text' %></td>\n    </tr>\n  </table>\n  <div class=\"submit\">\n  <%= f.submit 'SENT', class: 'submit-button' %>\n  </div>\n<% end %>\n\n\n\napp/views/contact/create.html.erb\n\ncreate.html.erb\n<div class=\"contents\">\n      <div class=\"success\">\n        <h3>\u6295\u7a3f\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002</h3>\n        <a class=\"btn\" href=\"/top\">\u4e00\u89a7\u3078\u623b\u308b</a>\n      </div>\n  </div>\n\n\n\napp/confing/routes.rb\n\nroutes.rb\nRails.application.routes.draw do\n  root \"top#index\"\n\n  get \"top\" => \"top#index\"\n  get \"top/profile\" => \"top#profile\"\n  get \"top/cost\" => \"top#cost\"\n\n  get \"contact\" => \"contact#index\"\n  post \"contact/create\" => \"contact#create\"\n\n\nend\n\n\n\napp/models/contact.rb\n\ncontact.rb\nclass Contact \n  include ActiveModel::Model\n\n  attr_accessor :name, :email, :text #\u3053\u308c\u5927\u4e8b\n\n  validates :name, :presence => {:message => '\u304a\u540d\u524d\uff08\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u3082\u53ef\uff09'}\n  validates :email, :presence => {:message => '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'}\n  validates :text, :presence => {:message => '\u3088\u304b\u3063\u305f\u3089\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u304a\u9858\u3044\u3057\u307e\u3059\uff01'}\nend\n\n\n\n\n\n\u753b\u50cf\u306e\u3088\u3046\u306b\u3001\u30d3\u30e5\u30fc\u306f\u52d5\u3044\u3066\u3044\u307e\u3059\u304c\u3001\u30e1\u30fc\u30eb\u81ea\u4f53\u306f\u3068\u3069\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u3069\u3046\u3084\u3063\u3066\u3001SENT\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u540c\u6642\u306b\u3001\u7ba1\u7406\u8005\u5074\u3068\u9001\u4fe1\u8005\u306b\u30e1\u30fc\u30eb\u3092\u9001\u308c\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\u8a66\u3057\u306b\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\u306e\u30b3\u30fc\u30c9\u3092\u30b3\u30d4\u30da\u3057\u305f\u308a\u3057\u307e\u3057\u305f\u3002\u7d50\u69cb\u30b4\u30c1\u30e3\u30b4\u30c1\u30e3\u3057\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n##\u81ea\u5206\u306e\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u3002\n\nhtml\u3068css\u3092rails\u306b\u53cd\u6620\u3055\u305b\u3001\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u3092\u4f5c\u3063\u3066\u304a\u308a\u3001\u304a\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\u306e\u3001\u30e1\u30fc\u30eb\u9001\u4fe1\u6a5f\u80fd\u306e\u90e8\u5206\u3067\u8db3\u8e0f\u307f\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3069\u306a\u305f\u304b\u8a73\u3057\u3044\u65b9\u3001\u6559\u3048\u3066\u3044\u305f\u3060\u3051\u307e\u305b\u3093\u304b\uff1f\n\n\n\n######app/mailers/contact_mailer.rb\n\n```rails:contact_mailer.rb\nclass ContactMailer < ApplicationMailer::Base\n  default from: \"from@gmail.com\", \n          reply_to: \"reply_to@example.com\",\n          charset: 'UTF-8'\n\n  def received_email(arg)\n    @arg = arg\n    @greeting = \"Hi\"\n\n    mail (to: \"to@example.org\", cc: \"\uff03\u3053\u3053\u306b\u81ea\u5206\u306eG\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u8a18\u5165\u3057\u3066\u3044\u307e\u3059\", subject: '\u3010MIYUKIm\u00e9moires\u3011\u3054\u9023\u7d61\u3001\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002')\n  end\nend\n```\n\n\n######app/controllers/contact_controller.rb\n\n```rails:contact_controller.rb\nclass ContactController < ApplicationController\n\n  def index\n    @contact = Contact.new\n  end\n\n  def received_emailcon\n    arg = ContentModel.find(1)\n    @mail = ContentMailer.received_email(arg).deliver\n    render text: '\u30e1\u30fc\u30eb\u9001\u4fe1\u5b8c\u4e86'\n  end\n\nend\n\n```\n\n######app/views/contact_mailer/received_email.text.erb\n\n```rails:received_email.text.erb\n\n--------------------------\nName:<br>\n<%= @contacts.name %>\nEmail:<br>\n<%= @contacts.email %>\nText:<br>\n<%= @contacts.text %>\n--------------------------\n\n```\n\napp/confing/environments/development.rb\n\n```rails:development.rb\nconfig.action_mailer.default_url_options = { host: 'localhost', port: 3000 }\n  config.action_mailer.raise_delivery_errors = true\n  config.action_mailer.delivery_method = :smtp\n  config.action_mailer.smtp_settings = {\n    :enable_starttls_auto => true,\n    :address => \"smtp.gmail.com\",\n    :port => 587,\n    :domain => 'gmail.com',\n    :user_name => \"#\u81ea\u5206\u306egmail\u30a2\u30c9\u30ec\u30b9\", \n    :password => \"#\u81ea\u5206\u306egmail\u30a2\u30c9\u30ec\u30b9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\", \n    :authentication => 'plain'\n  }\n```\n\n######app/views/contact_mailer/received_email.html.erb\n\n```rails:received_email.html.erb\nContactMailer#received_email\n\n<%= @greeting %>, find me in /app/views/contact_mailer/received_email.html.erb\n\n<h2>\u30c6\u30b9\u30c8</h2>\n<p>\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e</p>\n```\n\n######app/views/contact/index.html.erb\n```rails:index.html.erb\n\n\n<%= form_for @contact, :url => contact_create_path do |f| %>\n    <% if @contact.errors.any? %>\n      <div class=\"alert alert-danger\" role=\"alert\">\n        <strong>\u5165\u529b\u5185\u5bb9\u306b\u30a8\u30e9\u30fc\u304c\u3042\u308a\u307e\u3059</strong>\n        <ul>\n          <% @contact.errors.each do |attr, msg| %>\n            <li><%= msg %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n  <h3>\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b</h3>\n  <table class=\"table\">\n    <tr>\n      <td><%= f.text_field :name, placeholder: '\u304a\u540d\u524d\uff08\u5fc5\u9808\uff09', class: 'name' %></td>\n    </tr>\n    <tr>\n      <td><%= f.text_field :email, placeholder: '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff08\u5fc5\u9808\uff09', class: 'email' %></td>\n    </tr>\n    <tr>\n      <td><%= f.text_area :text, placeholder: '\u3088\u304b\u3063\u305f\u3089\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u304a\u9858\u3044\u3057\u307e\u3059\uff01', rows: '10', class: 'text' %></td>\n    </tr>\n  </table>\n  <div class=\"submit\">\n  <%= f.submit 'SENT', class: 'submit-button' %>\n  </div>\n<% end %>\n```\n\n\n######app/views/contact/create.html.erb\n\n```rails:create.html.erb\n<div class=\"contents\">\n      <div class=\"success\">\n        <h3>\u6295\u7a3f\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002</h3>\n        <a class=\"btn\" href=\"/top\">\u4e00\u89a7\u3078\u623b\u308b</a>\n      </div>\n  </div>\n```\n\n\n######app/confing/routes.rb\n\n```rails:routes.rb\nRails.application.routes.draw do\n  root \"top#index\"\n\n  get \"top\" => \"top#index\"\n  get \"top/profile\" => \"top#profile\"\n  get \"top/cost\" => \"top#cost\"\n  \n  get \"contact\" => \"contact#index\"\n  post \"contact/create\" => \"contact#create\"\n \n\nend\n```\n\n\n######app/models/contact.rb\n\n```rails:contact.rb\nclass Contact \n  include ActiveModel::Model\n\n  attr_accessor :name, :email, :text #\u3053\u308c\u5927\u4e8b\n\n  validates :name, :presence => {:message => '\u304a\u540d\u524d\uff08\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\u3082\u53ef\uff09'}\n  validates :email, :presence => {:message => '\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9'}\n  validates :text, :presence => {:message => '\u3088\u304b\u3063\u305f\u3089\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u304a\u9858\u3044\u3057\u307e\u3059\uff01'}\nend\n\n```\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-11 18.30.50.png](https://qiita-image-store.s3.amazonaws.com/0/167533/39f6b0d0-d0d6-1bd5-5ab2-8236ff1ed7ff.png)\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-11 18.31.11.png](https://qiita-image-store.s3.amazonaws.com/0/167533/a5d75418-b900-5aa9-1485-5f636270f7f9.png)\n\n\u753b\u50cf\u306e\u3088\u3046\u306b\u3001\u30d3\u30e5\u30fc\u306f\u52d5\u3044\u3066\u3044\u307e\u3059\u304c\u3001\u30e1\u30fc\u30eb\u81ea\u4f53\u306f\u3068\u3069\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u3069\u3046\u3084\u3063\u3066\u3001SENT\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u540c\u6642\u306b\u3001\u7ba1\u7406\u8005\u5074\u3068\u9001\u4fe1\u8005\u306b\u30e1\u30fc\u30eb\u3092\u9001\u308c\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u8a66\u3057\u306b\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\u306e\u30b3\u30fc\u30c9\u3092\u30b3\u30d4\u30da\u3057\u305f\u308a\u3057\u307e\u3057\u305f\u3002\u7d50\u69cb\u30b4\u30c1\u30e3\u30b4\u30c1\u30e3\u3057\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n", "tags": ["\u8cea\u554f", "RubyOnRails", "Rails", "HTML", "mail"]}