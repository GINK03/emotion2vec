{"tags": ["snmp"], "context": " More than 1 year has passed since last update.\n\n\u53c2\u8003\n\n\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\uff1a - \u7b2c6\u56de\uff1aSNMP\u306b\u3088\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nUbuntu\u306e\u5834\u5408\napt-get install -y snmpd\napt-get install -y snmp snmp-mibs-downloader\n\n\n\nCentOS\u306e\u5834\u5408\nsudo yum install net-snmp-utils\n\n\n\nSNMP\u5024\u53d6\u5f97\n\nsnmpwalk, snmpget\u306e\u5f15\u6570 - kiyotakak\u306e\u65e5\u8a18\n\n\n/etc/snmp/snmpd.conf\n- rocommunity public  default    -V systemonly\n+ rocommunity public  default\n\n\n\nSNMP\u5024\u5168\u53d6\u5f97\nsnmpwalk -v1 localhost -c public\n\n\n\n\u7d50\u679c\niso.3.6.1.2.1.1.1.0 = STRING: \"Linux debsrv1 4.2.3-2-pve #1 SMP Sun Nov 15 16:08:19 CET 2015 x86_64\"\niso.3.6.1.2.1.1.2.0 = OID: iso.3.6.1.4.1.8072.3.2.10\niso.3.6.1.2.1.1.3.0 = Timeticks: (48332) 0:08:03.32\niso.3.6.1.2.1.1.4.0 = STRING: \"Me <me@example.org>\"\niso.3.6.1.2.1.1.5.0 = STRING: \"debsrv1\"\niso.3.6.1.2.1.1.6.0 = STRING: \"Sitting on the Dock of the Bay\"\niso.3.6.1.2.1.1.7.0 = INTEGER: 72\niso.3.6.1.2.1.1.8.0 = Timeticks: (0) 0:00:00.00\n...(\u7565)\n\n\n\n\u7279\u5b9a\u306eMIB\u5024\u3060\u3051\u53d6\u5f97\n$ snmpwalk -v1 localhost -c public iso.3.6.1.2.1.25.1.1.0 \niso.3.6.1.2.1.25.1.1.0 = Timeticks: (51977649) 6 days, 0:22:56.49\n\n\n\nsnmpstatus\n$ snmpstatus -v 1 -c public localhost\n[UDP: [127.0.0.1]:161->[0.0.0.0]:40345]=>[Linux debsrv1 4.2.3-2-pve #1 SMP Sun Nov 15 16:08:19 CET 2015 x86_64] Up: 1:18:36.91\nInterfaces: 3, Recv/Trans packets: 14747404/9752459 | IP: 8961633/9364840\n1 interface is down!\n\n\n\n\u4ed6\u306e\u30b5\u30fc\u30d0\u304b\u3089\u53d6\u5f97\u53ef\u80fd\u306b\u3059\u308b\n\n/etc/snmp/snmpd.conf\n- agentAddress  udp:127.0.0.1:161\n+ agentAddress  udp:161\n\n\n\nnet-snmp\u306b\u3064\u3044\u3066\uff08\u6a5f\u5668\u76e3\u8996\uff09 (1/4)\uff1aCodeZine\uff08\u30b3\u30fc\u30c9\u30b8\u30f3\uff09\n\n\n\u4ed6\u306e\u30b5\u30fc\u30d0\u304b\u3089\u53d6\u5f97\nsnmpwalk -v1 debsrv1 -c public UCD-SNMP-MIB::laTable\nsnmpwalk -v1 debsrv1 -c public UCD-SNMP-MIB::memory\nsnmpwalk -v1 debsrv1 -c public UCD-SNMP-MIB::dskTable\n\n\n\n.\u3092\u3064\u3051\u308b\u3068\u5168\u53d6\u5f97\u3067\u304d\u308b\n\nsnmpwalk\u3067\u5168MIB\u53d6\u5f97\u3059\u308b\u65b9\u6cd5 - ike-dai\u306e\u65e5\u8a18\n\n$ snmpwalk -v1 windesk1 -c public | wc -l \n3320\n$ snmpwalk -v1 windesk1 -c public .| wc -l\n3673\n\n\nwindows\u306eSNMP\u5024\u3092\u53d6\u5f97\n\n\nUbuntu\u304b\u3089\u5b9f\u65bd\nsnmpwalk -v1 192.168.0.64 -c public\n\n\n\n\u7d50\u679c\niso.3.6.1.2.1.1.1.0 = STRING: \"Hardware: x86 Family 15 Model 6 Stepping 1 AT/AT COMPATIBLE \n- Software: Windows Version 6.1 (Build 7601 Multiprocessor Free)\"\niso.3.6.1.2.1.1.2.0 = OID: iso.3.6.1.4.1.311.1.1.3.1.1\niso.3.6.1.2.1.1.3.0 = Timeticks: (78696420) 9 days, 2:36:04.20\niso.3.6.1.2.1.1.4.0 = \"\"\niso.3.6.1.2.1.1.5.0 = STRING: \"windesk1\"\niso.3.6.1.2.1.1.6.0 = \"\"\niso.3.6.1.2.1.1.7.0 = INTEGER: 76\niso.3.6.1.2.1.2.1.0 = INTEGER: 21\n...(\u7565)\n\n\n\nDISK\u306e\u7a7a\u304d\u5bb9\u91cf\u3084\u3001uptime\u3082\u3053\u308c\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u306d\u3002\n\n\nYamaha\u30eb\u30fc\u30bf\u306eSNMP\n\nSNMP\u6a5f\u80fd\u3092\u8a2d\u5b9a\u3059\u308b \u00ab \u8a2d\u5b9a\u4f8b\n\n\nYamaha\u30eb\u30fc\u30bf\u3067\u5b9f\u65bd\nsnmp host 192.168.0.64 public\n\n\n\n192.168.0.64\u304b\u3089\u5b9f\u65bd\nsnmpwalk -v1 192.168.0.1 -c public\n\n\n\nconfig\u53d6\u5f97\nsnmpwalk -v1 192.168.0.1 -c public \\\n  iso.3.6.1.4.1.1182.2.2.10.1.2\n\n\n\nIP\u4e00\u89a7\u53d6\u5f97(OID\u3067\u53d6\u5f97)\nsnmpwalk -On \\\n  -v1 192.168.0.1 -c public \\\n  .1.3.6.1.2.1.4.22.1.3.1\n\n\n\nMib browser\n\nqtmib\n\n\n\nMib\n\n\u30b5\u30fc\u30d0\u76e3\u8996\u9805\u76ee\u3067\u3088\u304f\u4f7f\u3046 SNMP \u306e MIB \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 ID \u307e\u3068\u3081 - drk7jp\n\n\nload average\n\n1.3.6.1.4.1.2021.10.1.3\nsnmpwalk -v1 localhost -c public 1.3.6.1.4.1.2021.10.1.3\niso.3.6.1.4.1.2021.10.1.3.1 = STRING: \"0.07\" # 1\u5206\niso.3.6.1.4.1.2021.10.1.3.2 = STRING: \"0.21\" # 5\u5206\niso.3.6.1.4.1.2021.10.1.3.3 = STRING: \"0.22\" # 15\u5206\n\n\n\n\u30d7\u30ed\u30bb\u30b9\u6570\n\n\n.1.3.6.1.4.1.2021.2.1\u3092\u53c2\u7167\u3059\u308b\u3002\n\n\n/etc/snmp/snmpd.conf\n+ proc  apache2\n\n\n\n\u6210\u529f\u4f8b\n$ snmpwalk -v1 -c public localhost .1.3.6.1.4.1.2021.2.1 | grep 4\\ \n...\niso.3.6.1.4.1.2021.2.1.5.4 = INTEGER: 11\n...\n\n\n\n\u5931\u6557\u4f8b\n$ snmpwalk -v1 -c public localhost .1.3.6.1.4.1.2021.2.1 | grep 4\\ \n...\niso.3.6.1.4.1.2021.2.1.101.4 = STRING: \"No httpd process running\"\n...\n\n\n## \u53c2\u8003\n\n* [\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba\uff1a - \u7b2c6\u56de\uff1aSNMP\u306b\u3088\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0](http://www.itmedia.co.jp/help/howto/linux/0007master/06/05.html)\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash:Ubuntu\u306e\u5834\u5408\napt-get install -y snmpd\napt-get install -y snmp snmp-mibs-downloader\n```\n\n```bash:CentOS\u306e\u5834\u5408\nsudo yum install net-snmp-utils\n```\n\n## SNMP\u5024\u53d6\u5f97\n\n* [snmpwalk, snmpget\u306e\u5f15\u6570 - kiyotakak\u306e\u65e5\u8a18](http://d.hatena.ne.jp/kiyotakak/20081022/1224681470)\n\n```diff:/etc/snmp/snmpd.conf\n- rocommunity public  default    -V systemonly\n+ rocommunity public  default\n```\n\n```bash:SNMP\u5024\u5168\u53d6\u5f97\nsnmpwalk -v1 localhost -c public\n```\n\n```bash:\u7d50\u679c\niso.3.6.1.2.1.1.1.0 = STRING: \"Linux debsrv1 4.2.3-2-pve #1 SMP Sun Nov 15 16:08:19 CET 2015 x86_64\"\niso.3.6.1.2.1.1.2.0 = OID: iso.3.6.1.4.1.8072.3.2.10\niso.3.6.1.2.1.1.3.0 = Timeticks: (48332) 0:08:03.32\niso.3.6.1.2.1.1.4.0 = STRING: \"Me <me@example.org>\"\niso.3.6.1.2.1.1.5.0 = STRING: \"debsrv1\"\niso.3.6.1.2.1.1.6.0 = STRING: \"Sitting on the Dock of the Bay\"\niso.3.6.1.2.1.1.7.0 = INTEGER: 72\niso.3.6.1.2.1.1.8.0 = Timeticks: (0) 0:00:00.00\n...(\u7565)\n```\n\n```bash:\u7279\u5b9a\u306eMIB\u5024\u3060\u3051\u53d6\u5f97\n$ snmpwalk -v1 localhost -c public iso.3.6.1.2.1.25.1.1.0 \niso.3.6.1.2.1.25.1.1.0 = Timeticks: (51977649) 6 days, 0:22:56.49\n```\n\n```bash:snmpstatus\n$ snmpstatus -v 1 -c public localhost\n[UDP: [127.0.0.1]:161->[0.0.0.0]:40345]=>[Linux debsrv1 4.2.3-2-pve #1 SMP Sun Nov 15 16:08:19 CET 2015 x86_64] Up: 1:18:36.91\nInterfaces: 3, Recv/Trans packets: 14747404/9752459 | IP: 8961633/9364840\n1 interface is down!\n```\n\n\n## \u4ed6\u306e\u30b5\u30fc\u30d0\u304b\u3089\u53d6\u5f97\u53ef\u80fd\u306b\u3059\u308b\n\n```diff:/etc/snmp/snmpd.conf\n- agentAddress  udp:127.0.0.1:161\n+ agentAddress  udp:161\n```\n\n* [net-snmp\u306b\u3064\u3044\u3066\uff08\u6a5f\u5668\u76e3\u8996\uff09 (1/4)\uff1aCodeZine\uff08\u30b3\u30fc\u30c9\u30b8\u30f3\uff09](http://codezine.jp/article/detail/2865)\n\n```bash:\u4ed6\u306e\u30b5\u30fc\u30d0\u304b\u3089\u53d6\u5f97\nsnmpwalk -v1 debsrv1 -c public UCD-SNMP-MIB::laTable\nsnmpwalk -v1 debsrv1 -c public UCD-SNMP-MIB::memory\nsnmpwalk -v1 debsrv1 -c public UCD-SNMP-MIB::dskTable\n```\n\n## `.`\u3092\u3064\u3051\u308b\u3068\u5168\u53d6\u5f97\u3067\u304d\u308b\n\n* [snmpwalk\u3067\u5168MIB\u53d6\u5f97\u3059\u308b\u65b9\u6cd5 - ike-dai\u306e\u65e5\u8a18](http://d.hatena.ne.jp/ike-dai/20100913/1284385067)\n\n```bash:\n$ snmpwalk -v1 windesk1 -c public | wc -l \n3320\n$ snmpwalk -v1 windesk1 -c public .| wc -l\n3673\n```\n\n\n# windows\u306eSNMP\u5024\u3092\u53d6\u5f97\n\n![snmp1.png](https://qiita-image-store.s3.amazonaws.com/0/25728/24dd1166-161a-8d06-3414-065800c755d6.png)\n\n```bash:Ubuntu\u304b\u3089\u5b9f\u65bd\nsnmpwalk -v1 192.168.0.64 -c public\n```\n\n```bash:\u7d50\u679c\niso.3.6.1.2.1.1.1.0 = STRING: \"Hardware: x86 Family 15 Model 6 Stepping 1 AT/AT COMPATIBLE \n- Software: Windows Version 6.1 (Build 7601 Multiprocessor Free)\"\niso.3.6.1.2.1.1.2.0 = OID: iso.3.6.1.4.1.311.1.1.3.1.1\niso.3.6.1.2.1.1.3.0 = Timeticks: (78696420) 9 days, 2:36:04.20\niso.3.6.1.2.1.1.4.0 = \"\"\niso.3.6.1.2.1.1.5.0 = STRING: \"windesk1\"\niso.3.6.1.2.1.1.6.0 = \"\"\niso.3.6.1.2.1.1.7.0 = INTEGER: 76\niso.3.6.1.2.1.2.1.0 = INTEGER: 21\n...(\u7565)\n```\n\n* DISK\u306e\u7a7a\u304d\u5bb9\u91cf\u3084\u3001uptime\u3082\u3053\u308c\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u306d\u3002\n\n# Yamaha\u30eb\u30fc\u30bf\u306eSNMP\n\n* [SNMP\u6a5f\u80fd\u3092\u8a2d\u5b9a\u3059\u308b \u00ab \u8a2d\u5b9a\u4f8b](http://jp.yamaha.com/products/network/solution/switch_swx/switch_swx-command/switch-command-snmp/)\n\n```bash:Yamaha\u30eb\u30fc\u30bf\u3067\u5b9f\u65bd\nsnmp host 192.168.0.64 public\n```\n\n```bash:192.168.0.64\u304b\u3089\u5b9f\u65bd\nsnmpwalk -v1 192.168.0.1 -c public\n```\n\n```bash:config\u53d6\u5f97\nsnmpwalk -v1 192.168.0.1 -c public \\\n  iso.3.6.1.4.1.1182.2.2.10.1.2\n```\n\n```bash:IP\u4e00\u89a7\u53d6\u5f97(OID\u3067\u53d6\u5f97)\nsnmpwalk -On \\\n  -v1 192.168.0.1 -c public \\\n  .1.3.6.1.2.1.4.22.1.3.1\n```\n\n# Mib browser\n\n* [qtmib](http://qtmib.sourceforge.net/index.html#download)\n\n----\n\n# Mib\n\n* [\u30b5\u30fc\u30d0\u76e3\u8996\u9805\u76ee\u3067\u3088\u304f\u4f7f\u3046 SNMP \u306e MIB \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 ID \u307e\u3068\u3081 - drk7jp](http://www.drk7.jp/MT/archives/001604.html)\n\n## load average\n\n```bash:1.3.6.1.4.1.2021.10.1.3\nsnmpwalk -v1 localhost -c public 1.3.6.1.4.1.2021.10.1.3\niso.3.6.1.4.1.2021.10.1.3.1 = STRING: \"0.07\" # 1\u5206\niso.3.6.1.4.1.2021.10.1.3.2 = STRING: \"0.21\" # 5\u5206\niso.3.6.1.4.1.2021.10.1.3.3 = STRING: \"0.22\" # 15\u5206\n```\n\n## \u30d7\u30ed\u30bb\u30b9\u6570\n\n* `.1.3.6.1.4.1.2021.2.1`\u3092\u53c2\u7167\u3059\u308b\u3002\n\n```diff:/etc/snmp/snmpd.conf\n+ proc  apache2\n```\n\n```bash:\u6210\u529f\u4f8b\n$ snmpwalk -v1 -c public localhost .1.3.6.1.4.1.2021.2.1 | grep 4\\ \n...\niso.3.6.1.4.1.2021.2.1.5.4 = INTEGER: 11\n...\n```\n\n```bash:\u5931\u6557\u4f8b\n$ snmpwalk -v1 -c public localhost .1.3.6.1.4.1.2021.2.1 | grep 4\\ \n...\niso.3.6.1.4.1.2021.2.1.101.4 = STRING: \"No httpd process running\"\n...\n```\n"}