{"tags": ["FuelPHP", "PHP"], "context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\ncsv\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u5185\u5bb9\u3092\u914d\u5217\u306b\u5165\u308c\u308b\naaa,bbb,ccc\naaa,bbb,ccc\n\n\u3092\narray(\n   0 => array(\n       0 => \"aaa\",\n       1 => \"bbb\",\n       2 => \"ccc\"\n   ),\n   1 => array(\n       0 => \"aaa\",\n       1 => \"bbb\",\n       2 => \"ccc\"\n   )\n)\n\n\u306b\u3059\u308b\u3002\n\n\u3084\u3063\u305f\u3053\u3068\nFormat::forge(File::read('test.csv', true), 'csv')->to_array();\n\n\u307f\u305f\u3044\u306a\u611f\u3058\u3002\n\n\u30cf\u30de\u3063\u305f\u3053\u3068\n\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u6539\u884c\u304c\u6539\u884c\u3068\u5224\u65ad\u3055\u308c\u305f\u308a\u3055\u308c\u306a\u304b\u3063\u305f\u308a\u3059\u308b\n\u671f\u5f85\u901a\u308a\u306e\u914d\u5217\u304c\u3067\u304d\u305f\u4f8b\ntest11,test12,test13\ntest21,test22,test23\n\narray(\n   0 => array(\n       0 => \"test11\",\n       1 => \"test12\",\n       2 => \"test13\"\n   ),\n   1 => array(\n       0 => \"test21\",\n       1 => \"test22\",\n       2 => \"test23\"\n   )\n)\n\n\u671f\u5f85\u901a\u308a\u306e\u914d\u5217\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u4f8b\ntest11,test12,aaa\ntest21,test22,bbb\n\narray(\n    0 => array(\n        0 => \"test11\",\n        1 => \"test12\",\n        2 => \"aaa\ntest21\",\n        3 => \"test21\",\n        4 => \"test22\",\n        5 => \"bbb\"\n    )\n)\n\n\ncsv\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3092\u78ba\u8a8d\n\n\n\n\u9805\u76ee\n\u5024\n\n\n\n\n\u533a\u5207\u308a\u6587\u5b57\n,\n\n\n\u56f2\u3044\u8fbc\u307f\u6587\u5b57\n\"\n\n\n\u6539\u884c\n\\n\n\n\n\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57\n\\\n\n\n\nhttps://github.com/fuel/core/blob/1.7/master/config/format.php\n'csv' => array(\n        'import' => array(\n                'delimiter' => ',',\n                'enclosure' => '\"',\n                'newline'   => \"\\n\",\n                'escape'    => '\\\\',\n        ),\n        'export' => array(\n                'delimiter' => ',',\n                'enclosure' => '\"',\n                'newline'   => \"\\n\",\n                'escape'    => '\\\\',\n        ),\n        'regex_newline'   => \"\\n\",\n        'enclose_numbers' => true,\n),\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u3001csv\u306e\u5024\u3092\u300c\"\u300d\u3067\u56f2\u307e\u306a\u3044\u3068\u30c0\u30e1\uff1f\n\u3067\u3082\u60f3\u5b9a\u901a\u308a\u306e\u914d\u5217\u304c\u3067\u304d\u308b\u5834\u5408\u3082\u3042\u308b\u3002\u3002\n\n\u4ed5\u65b9\u306a\u304f\u30bd\u30fc\u30b9\u3092\u8aad\u3080\nhttps://github.com/fuel/core/blob/1.7/master/classes/format.php#L467-L474\nif (empty($enclosure))\n{\n    $rows = preg_split('/(['.$newline.'])/m', trim($string), -1,\u3000PREG_SPLIT_NO_EMPTY);\n}\nelse\n{\n    $rows = preg_split('/(?<=[0-9'.preg_quote($enclosure).'])'.$newline.'/', trim($string));\n}\n\n\u3069\u3046\u3084\u3089\u300c\" or 0-9\u306e\u6570\u5b57\u300d+\u300c\\n\u300d\u3092\u6539\u884c\u3059\u308b\u5834\u6240\u3068\u3057\u3066\u5224\u65ad\u3057\u3066\u308b\u307f\u305f\u3044\u3002\u3002\nenclosure\u3092\u7a7a\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u4ee5\u4e0b\u3082\u671f\u5f85\u901a\u308a\u306e\u914d\u5217\u306b\u3067\u304d\u305f\u3002\ntest11,test12,aaa\ntest21,test22,bbb\n\n\n\u307e\u3068\u3081\n\nenclosure\u3092\u7a7a\u6587\u5b57\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u89e3\u6c7a\u3057\u305f\n\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u52d5\u4f5c\u3092\u4e88\u60f3\u3057\u3066\u306f\u3044\u3051\u306a\u3044(\u4e88\u60f3\u901a\u308a\u306b\u306a\u308b\u3053\u3068\u3092\u30c6\u30b9\u30c8\u3059\u308b)\n\u4e88\u60f3\u901a\u308a\u306b\u306a\u3089\u306a\u304b\u3063\u305f\u3089\u30bd\u30fc\u30b9\u3092\u8aad\u3080\n\u6b63\u898f\u8868\u73fe\u306b0-9\u3092\u5165\u308c\u3066\u3044\u308b\u4e0d\u601d\u8b70\n\n\n## \u3084\u308a\u305f\u304b\u3063\u305f\u3053\u3068\ncsv\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3093\u3067\u5185\u5bb9\u3092\u914d\u5217\u306b\u5165\u308c\u308b\n\n```\naaa,bbb,ccc\naaa,bbb,ccc\n```\n\u3092\n\n```\narray(\n   0 => array(\n       0 => \"aaa\",\n       1 => \"bbb\",\n       2 => \"ccc\"\n   ),\n   1 => array(\n       0 => \"aaa\",\n       1 => \"bbb\",\n       2 => \"ccc\"\n   )\n)\n```\n\u306b\u3059\u308b\u3002\n\n## \u3084\u3063\u305f\u3053\u3068\n```\nFormat::forge(File::read('test.csv', true), 'csv')->to_array();\n```\n\u307f\u305f\u3044\u306a\u611f\u3058\u3002\n\n## \u30cf\u30de\u3063\u305f\u3053\u3068\n\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u6539\u884c\u304c\u6539\u884c\u3068\u5224\u65ad\u3055\u308c\u305f\u308a\u3055\u308c\u306a\u304b\u3063\u305f\u308a\u3059\u308b\n\n__\u671f\u5f85\u901a\u308a\u306e\u914d\u5217\u304c\u3067\u304d\u305f\u4f8b__\n\n```\ntest11,test12,test13\ntest21,test22,test23\n```\n\n\n```\narray(\n   0 => array(\n       0 => \"test11\",\n       1 => \"test12\",\n       2 => \"test13\"\n   ),\n   1 => array(\n       0 => \"test21\",\n       1 => \"test22\",\n       2 => \"test23\"\n   )\n)\n```\n__\u671f\u5f85\u901a\u308a\u306e\u914d\u5217\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u4f8b__\n\n```\ntest11,test12,aaa\ntest21,test22,bbb\n```\n```\narray(\n    0 => array(\n        0 => \"test11\",\n        1 => \"test12\",\n        2 => \"aaa\ntest21\",\n        3 => \"test21\",\n        4 => \"test22\",\n        5 => \"bbb\"\n    )\n)\n```\n\n## csv\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3092\u78ba\u8a8d\n|\u9805\u76ee|\u5024|\n|:--|:--|\n|\u533a\u5207\u308a\u6587\u5b57|,|\n|\u56f2\u3044\u8fbc\u307f\u6587\u5b57|\"|\n|\u6539\u884c|\\n|\n|\u30a8\u30b9\u30b1\u30fc\u30d7\u6587\u5b57|\\|\n\nhttps://github.com/fuel/core/blob/1.7/master/config/format.php\n\n```\n'csv' => array(\n        'import' => array(\n                'delimiter' => ',',\n                'enclosure' => '\"',\n                'newline'   => \"\\n\",\n                'escape'    => '\\\\',\n        ),\n        'export' => array(\n                'delimiter' => ',',\n                'enclosure' => '\"',\n                'newline'   => \"\\n\",\n                'escape'    => '\\\\',\n        ),\n        'regex_newline'   => \"\\n\",\n        'enclose_numbers' => true,\n),\n```\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u3001csv\u306e\u5024\u3092\u300c\"\u300d\u3067\u56f2\u307e\u306a\u3044\u3068\u30c0\u30e1\uff1f\n\u3067\u3082\u60f3\u5b9a\u901a\u308a\u306e\u914d\u5217\u304c\u3067\u304d\u308b\u5834\u5408\u3082\u3042\u308b\u3002\u3002\n\n\n## \u4ed5\u65b9\u306a\u304f\u30bd\u30fc\u30b9\u3092\u8aad\u3080\nhttps://github.com/fuel/core/blob/1.7/master/classes/format.php#L467-L474\n\n```\nif (empty($enclosure))\n{\n\t$rows = preg_split('/(['.$newline.'])/m', trim($string), -1,\u3000PREG_SPLIT_NO_EMPTY);\n}\nelse\n{\n\t$rows = preg_split('/(?<=[0-9'.preg_quote($enclosure).'])'.$newline.'/', trim($string));\n}\n```\n\n\u3069\u3046\u3084\u3089\u300c\" or 0-9\u306e\u6570\u5b57\u300d+\u300c\\n\u300d\u3092\u6539\u884c\u3059\u308b\u5834\u6240\u3068\u3057\u3066\u5224\u65ad\u3057\u3066\u308b\u307f\u305f\u3044\u3002\u3002\n\nenclosure\u3092\u7a7a\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u4ee5\u4e0b\u3082\u671f\u5f85\u901a\u308a\u306e\u914d\u5217\u306b\u3067\u304d\u305f\u3002\n\n```\ntest11,test12,aaa\ntest21,test22,bbb\n```\n\n## \u307e\u3068\u3081\n* enclosure\u3092\u7a7a\u6587\u5b57\u306b\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u89e3\u6c7a\u3057\u305f\n* \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u52d5\u4f5c\u3092\u4e88\u60f3\u3057\u3066\u306f\u3044\u3051\u306a\u3044(\u4e88\u60f3\u901a\u308a\u306b\u306a\u308b\u3053\u3068\u3092\u30c6\u30b9\u30c8\u3059\u308b)\n* \u4e88\u60f3\u901a\u308a\u306b\u306a\u3089\u306a\u304b\u3063\u305f\u3089\u30bd\u30fc\u30b9\u3092\u8aad\u3080\n* \u6b63\u898f\u8868\u73fe\u306b0-9\u3092\u5165\u308c\u3066\u3044\u308b\u4e0d\u601d\u8b70\n"}