{"context": "\n\nOCaml \u3067\u306f\u3001\u30af\u30e9\u30b9 \u304b\u3089\u306e \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u521d\u671f\u5316\u5f15\u6570 \u306b\u3001\u95a2\u6570 \u3092 \u6e21\u3059\u3053\u3068 \u304c \u3067\u304d\u308b\u3002\n\n\n\u3064\u307e\u308a\u3001\u5171\u901a\u306e\u30af\u30e9\u30b9 \u304b\u3089 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u3092 \u751f\u6210\u3059\u308b\u969b \u306b\u3001\u7570\u306a\u308b\u6a5f\u80fd \u3092 \u6301\u3063\u305f \u95a2\u6570 \u3092\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u521d\u671f\u5316\u5909\u6570 \u3068\u3057\u3066 \u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\u30af\u30e9\u30b9\u7d99\u627f \u306b\u3088\u3063\u3066\u3001\u30b5\u30d6\u30af\u30e9\u30b9\u3054\u3068\u306b\u7570\u306a\u308b\u6a5f\u80fd \u3092 \u4ed8\u4e0e\u3059\u308b \u306e\u3068 \u540c\u7b49\u306e\u3053\u3068 \u3092\u3001\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3054\u3068 \u306b \u4e0e\u3048\u308b\u3053\u3068 \u304c \u3067\u304d\u308b\u3002\n\n\n\n\uff08 \u53c2\u8003 \uff09\n\n\nOCaml-Nagoya\uff08\u8457\uff09\u300e\u5165\u9580OCaml \u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u57fa\u790e\u3068\u5b9f\u8df5\u7406\u89e3\u300f\u6bce\u65e5\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u30ba, p.141\n\n\n\n\uff08 \u4e8b\u4f8b \uff09\n\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u6642 \u306b\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u3068\u3057\u3066\u3001\uff12\u9805\u6f14\u7b97\u5b50\u95a2\u6570 \u3092 \u53d7\u3051\u53d6\u308b\u4ed5\u69d8\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u30a2\u30af\u30bb\u30b5\u95a2\u6570\uff1a get\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u5024\u66f4\u65b0\uff08\u6f14\u7b97\u9069\u7528\uff09\u95a2\u6570: calc \uff08 \u203b \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570 \u3067 \u53d7\u3051\u3068\u308b \uff12\u9805\u6f14\u7b97\u5b50\u95a2\u6570 \uff09 \n\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# class fCalc calc_function = object\n   val mutable value = 0\n   method get = value\n   method calc = value <- calc_function value\n  end;;\nclass fCalc :\n  (int -> int) ->\n  object val mutable value : int method calc : unit method get : int end\n\n\n\n\n\u6f14\u7b97\u5b50 \u95a2\u6570\u5b9a\u7fa9\n\n\nHirofumiYashima Qiita\u8a18\u4e8b \u300c\u3010 OCaml\u5165\u9580 \u3011 \u9ad8\u968e\u95a2\u6570 \u3068 \u95a2\u6570\u306e\u90e8\u5206\u9069\u7528\uff08\u30ab\u30ea\u30fc\u5316\uff09\u301c \u5f15\u6570 \u306b\u3088\u308a \u7570\u306a\u308b\uff12\u9805\u6f14\u7b97\u5b50 \u3092 \u8fd4\u3059 \u95a2\u6570\u300d\n\n\uff08 \u4ee5\u4e0b\u306e\u9ad8\u968e\u95a2\u6570 \u306b \u3064\u3044\u3066 \u306f\u3001\u4e0a\u8a18\u306e\u62d9\u8a18\u4e8b \u3092 \u53c2\u7167\u3002 \uff09\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# let calc x =\n    match x with\n      0 -> ( + )\n    | 1 -> ( - )\n    | 2 -> ( * )\n    | _ -> ( / )\n  ;;\nval calc : int -> int -> int -> int = <fun>\n# \n\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# calc;;\n- : int -> int -> int -> int = <fun>\n#\n\n\n\n\u30af\u30e9\u30b9 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u3092 \u751f\u6210\u3057\u3066 \u6319\u52d5 \u3092 \u78ba\u8a8d\n\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# let add_func_instance = new fCalc(calc 0 100);;\nval add_func_instance : fCalc = <obj>\n#\n\n\n\n\ncalc 0 \u306f\u3001(calc 0) \u304c \u5f15\u6570 x \u3068 \u3055\u3089\u306b\u306e\u3061\u306b\u53d7\u3051\u53d6\u308b int\u578b\u5f15\u6570 y \u3092  \u52a0\u7b97\u3057\u3066 \uff08\u52a0\u7b97\u7d50\u679c \u3092 \uff09 \u8fd4\u3059\u95a2\u6570 \u306b \u306a\u308b\uff08 \u95a2\u6570\u306e\u90e8\u5206\u9069\u7528 \uff09\u306e\u3067\u3001\ncalc 0 100 \u306f\u3001\u5f8c\u3067\u53d7\u3051\u53d6\u308b int\u578b\u5f15\u6570 y \u306b 100 \u3092 \u52a0\u7b97\u3057\u305f\u7d50\u679c \u3092 \u8fd4\u3059 \u95a2\u6570 \u306b \u306a\u308b\u3002\n\ny \u306b\u306f\u3001\u521d\u56de\u306b get \u95a2\u6570\u5b9f\u52b9\u6642 \u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u521d\u671f\u5024 0 \u304c\u5165\u308a\u3001\n\uff12\u56de\u76ee\u4ee5\u964d\u306eget \u95a2\u6570\u5b9f\u52b9\u6642 \u4ee5\u964d\u306f\u3001\u524d\u56de \u306e\u6f14\u7b97\u7d50\u679c \u304c \u5165\u308b\u3002\n\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# add_func_instance#get;;\n- : int = 0\n# add_func_instance#get;;\n- : int = 0\n#\n\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# add_func_instance#calc;;\n- : unit = ()\n# add_func_instance#get;;\n- : int = 100\n# add_func_instance#get;;\n- : int = 100\n#\n\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# add_func_instance#calc;;\n- : unit = ()\n# add_func_instance#calc;;\n- : unit = ()\n# add_func_instance#get;;\n- : int = 300\n# add_func_instance#get;;\n- : int = 300\n#\n\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# add_func_instance#calc;;\n- : unit = ()\n# add_func_instance#get;;             \n- : int = 400\n\n\n\n\u4eca\u5ea6\u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u6642 \u306b \u6e21\u3059 \u5f15\u6570 \u3068\u3057\u3066\u3001(calc 0 200) \u95a2\u6570 \u3092 \u6e21\u3059\u3002\n\n\n\ncalc 0 \u306f\u3001(calc 0) \u304c \u5f15\u6570 x \u3068 \u3055\u3089\u306b\u306e\u3061\u306b\u53d7\u3051\u53d6\u308b int\u578b\u5f15\u6570 y \u3092  \u52a0\u7b97\u3057\u3066 \uff08\u52a0\u7b97\u7d50\u679c \u3092 \uff09 \u8fd4\u3059\u95a2\u6570 \u306b \u306a\u308b\uff08 \u95a2\u6570\u306e\u90e8\u5206\u9069\u7528 \uff09\u306e\u3067\u3001\ncalc 0 200 \u306f\u3001\u5f8c\u3067\u53d7\u3051\u53d6\u308b int\u578b\u5f15\u6570 y \u306b 200 \u3092 \u52a0\u7b97\u3057\u305f\u7d50\u679c \u3092 \u8fd4\u3059 \u95a2\u6570 \u306b \u306a\u308b\u3002\n\ny \u306b\u306f\u3001\u521d\u56de\u306b get \u95a2\u6570\u5b9f\u52b9\u6642 \u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u521d\u671f\u5024 0 \u304c\u5165\u308a\u3001\n\uff12\u56de\u76ee\u4ee5\u964d\u306eget \u95a2\u6570\u5b9f\u52b9\u6642 \u4ee5\u964d\u306f\u3001\u524d\u56de \u306e\u6f14\u7b97\u7d50\u679c \u304c \u5165\u308b\u3002\n\n\n\n\uff08\u521d\u56de get \u95a2\u6570 \u5b9f\u52b9\u6642\uff09 0 + 200 \u3092 \u5f0f\u8a55\u4fa1 \u3059\u308b\n\uff08\uff12\u56de\u76ee\u4ee5\u964d get \u95a2\u6570 \u5b9f\u52b9\u6642\uff09 \u524d\u56de\u306e\u7d50\u679c\uff08value\uff09\u306b\u3001200 \u3092 \u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3059\u308b\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# let add_func_instance2 = new fCalc(calc 0 200);;\nval add_func_instance2 : fCalc = <obj>\n# add_func_instance2#get;;\n- : int = 0\n# add_func_instance2#calc;;\n- : unit = ()\n# add_func_instance2#calc;;\n- : unit = ()\n# add_func_instance2#get;;\n- : int = 400\n# add_func_instance2#calc;;\n- : unit = ()\n# add_func_instance2#get;;\n- : int = 600\n# add_func_instance2#get;;\n- : int = 600\n# add_func_instance2#calc;;\n- : unit = ()\n# add_func_instance2#get;;\n- : int = 800\n\n\n\n\u4eca\u5ea6\u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u6642 \u306b \u6e21\u3059 \u5f15\u6570 \u3068\u3057\u3066\u3001(calc 1 100) \u95a2\u6570 \u3092 \u6e21\u3059\u3002\n\n\n\ncalc 1 \u306f\u3001(calc 1) \u304c \u5f15\u6570 x \u304b\u3089\u3001\uff08\u306e\u3061\u306b\u53d7\u3051\u53d6\u308b\uff09 int\u578b\u5f15\u6570 y \u3092  \u5f15\u304d\u7b97\u3057\u305f\u7d50\u679c \u3092 \u8fd4\u3059\u95a2\u6570 \u306b \u306a\u308b\uff08 \u95a2\u6570\u306e\u90e8\u5206\u9069\u7528 \uff09\u306e\u3067\u3001\ncalc 1 100 \u306f\u3001100 \u304b\u3089\u3001\uff08\u5f8c\u3067\u53d7\u3051\u53d6\u308b\uff09 int\u578b\u5f15\u6570 y \u3092 \u5f15\u3044\u305f\u7d50\u679c \u3092 \u8fd4\u3059 \u95a2\u6570 \u306b \u306a\u308b\u3002\n\ny \u306b\u306f\u3001\u521d\u56de\u306b get \u95a2\u6570\u5b9f\u52b9\u6642 \u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u521d\u671f\u5024 0 \u304c\u5165\u308a\u3001\n\uff12\u56de\u76ee\u4ee5\u964d\u306eget \u95a2\u6570\u5b9f\u52b9\u6642 \u4ee5\u964d\u306f\u3001\u524d\u56de \u306e\u6f14\u7b97\u7d50\u679c \u304c \u5165\u308b\u3002\n\uff08\u521d\u56de get \u95a2\u6570 \u5b9f\u52b9\u6642\uff09 \u8a08\u7b97\u5f0f (100 - 0) \u3092 \u5f0f\u8a55\u4fa1 \u3059\u308b\n\uff08\uff12\u56de\u76ee\u4ee5\u964d get \u95a2\u6570 \u5b9f\u52b9\u6642\uff09 \u8a08\u7b97\u5f0f (100 - \u524d\u56de\u306e\u7d50\u679c\uff08value\uff09) \u3092 \u5f0f\u8a55\u4fa1 \u3059\u308b\n\u3064\u307e\u308a\u3001value \u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9 get \u3092\u3000\u5b9f\u52b9\u3059\u308b\u5ea6\u306b\u3001(100 -0  = ) 100 \u3068 (100 - 100 = ) 0 \u3092 \u7e70\u308a\u8fd4\u3059\u3002\n\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# let minus_func_instance = new fCalc(calc 1 100);;\nval minus_func_instance : fCalc = <obj>\n# minus_func_instance#get;;\n- : int = 0\n# minus_func_instance#calc;;\n- : unit = ()\n# minus_func_instance#get;;\n- : int = 100\n# minus_func = calc 1;;\nError: Unbound value minus_func\n# let minus_func = calc 1;;\nval minus_func : int -> int -> int = <fun>\n# minus_func;;\n- : int -> int -> int = <fun>\n# minus_func_instance#calc;;\n- : unit = ()\n# minus_func_instance#get;; \n- : int = 0\n# minus_func_instance#calc;;\n- : unit = ()\n# minus_func_instance#get;; \n- : int = 100\n# \n\n\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210 \u306e \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u6e21\u3059\u95a2\u6570\u306f\u3001\u675f\u7e1b\u5148\u306e\u5909\u6570\u540d \u3067 \u6e21\u3057\u3066 \u3082 \u826f\u3044\u3002\n\n\nInt\u578b\u306e\u5f15\u6570 \u3092 \uff11\u3064 \u53d7\u3051\u53d6\u308a\u300112\u306b\u52a0\u7b97\u3057\u305f\u7d50\u679c \u3092 \u8fd4\u3059\uff08\uff11\u5909\u6570\uff09\u95a2\u6570 \u3092 \u5909\u6570 add_to_12_func \u306b \u675f\u7e1b\u3059\u308b\u3002\n\u30af\u30e9\u30b9 fCalc \u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf \u306b\u3001\u5909\u6570\u540d *add_to_12_func \u3092 \u6e21\u3059\u3002\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# let add_to_12_func = calc 0 12;;\nval add_to_12_func : int -> int = <fun>\n# add_to_12_func;;\n- : int -> int = <fun>\n\n\n\nOCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\n# let add_to_12_func_instance = new fCalc(add_to_12_func);;\nval add_to_12_func_instance : fCalc = <obj>\n# add_to_12_func_instance#get;;\n- : int = 0\n# add_to_12_func_instance#calc;;\n- : unit = ()\n# add_to_12_func_instance#get;;\n- : int = 12\n# add_to_12_func_instance#calc;;\n- : unit = ()\n# add_to_12_func_instance#get;;\n- : int = 24\n# add_to_12_func_instance#get;;\n- : int = 24\n# add_to_12_func_instance#calc;;\n- : unit = ()\n# add_to_12_func_instance#get;;\n- : int = 36\n# \n\n\n\n\n\n\n\n\n###__OCaml \u3067\u306f\u3001\u30af\u30e9\u30b9 \u304b\u3089\u306e \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u521d\u671f\u5316\u5f15\u6570 \u306b\u3001\u95a2\u6570 \u3092 \u6e21\u3059\u3053\u3068 \u304c \u3067\u304d\u308b\u3002__\n\n* \u3064\u307e\u308a\u3001\u5171\u901a\u306e\u30af\u30e9\u30b9 \u304b\u3089 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u3092 \u751f\u6210\u3059\u308b\u969b \u306b\u3001\u7570\u306a\u308b\u6a5f\u80fd \u3092 \u6301\u3063\u305f \u95a2\u6570 \u3092\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u521d\u671f\u5316\u5909\u6570 \u3068\u3057\u3066 \u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n* \u30af\u30e9\u30b9\u7d99\u627f \u306b\u3088\u3063\u3066\u3001\u30b5\u30d6\u30af\u30e9\u30b9\u3054\u3068\u306b\u7570\u306a\u308b\u6a5f\u80fd \u3092 \u4ed8\u4e0e\u3059\u308b \u306e\u3068 \u540c\u7b49\u306e\u3053\u3068 \u3092\u3001\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3054\u3068 \u306b \u4e0e\u3048\u308b\u3053\u3068 \u304c \u3067\u304d\u308b\u3002\n\n___\n\n###__\uff08 \u53c2\u8003 \uff09__\n\n* OCaml-Nagoya\uff08\u8457\uff09\u300e\u5165\u9580OCaml \u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u57fa\u790e\u3068\u5b9f\u8df5\u7406\u89e3\u300f\u6bce\u65e5\u30b3\u30df\u30e5\u30cb\u30b1\u30fc\u30b7\u30e7\u30f3\u30ba, _p.141_\n\n\n##__\uff08 \u4e8b\u4f8b \uff09__\n\n___\n\n* \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u6642 \u306b\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u3068\u3057\u3066\u3001\uff12\u9805\u6f14\u7b97\u5b50\u95a2\u6570 \u3092 \u53d7\u3051\u53d6\u308b\u4ed5\u69d8\n* \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u30a2\u30af\u30bb\u30b5\u95a2\u6570\uff1a *get*\n* \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u5024\u66f4\u65b0\uff08\u6f14\u7b97\u9069\u7528\uff09\u95a2\u6570: *calc* \uff08 \u203b \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570 \u3067 \u53d7\u3051\u3068\u308b \uff12\u9805\u6f14\u7b97\u5b50\u95a2\u6570 \uff09 \n\n___\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# class fCalc calc_function = object\n   val mutable value = 0\n   method get = value\n   method calc = value <- calc_function value\n  end;;\nclass fCalc :\n  (int -> int) ->\n  object val mutable value : int method calc : unit method get : int end\n```\n\n___\n\n###__\u6f14\u7b97\u5b50 \u95a2\u6570\u5b9a\u7fa9__\n\n* [HirofumiYashima Qiita\u8a18\u4e8b \u300c\u3010 OCaml\u5165\u9580 \u3011 \u9ad8\u968e\u95a2\u6570 \u3068 \u95a2\u6570\u306e\u90e8\u5206\u9069\u7528\uff08\u30ab\u30ea\u30fc\u5316\uff09\u301c \u5f15\u6570 \u306b\u3088\u308a \u7570\u306a\u308b\uff12\u9805\u6f14\u7b97\u5b50 \u3092 \u8fd4\u3059 \u95a2\u6570\u300d](http://qiita.com/HirofumiYashima/items/d6bc023e6f9607f0d39a)\n\n\uff08 \u4ee5\u4e0b\u306e\u9ad8\u968e\u95a2\u6570 \u306b \u3064\u3044\u3066 \u306f\u3001\u4e0a\u8a18\u306e\u62d9\u8a18\u4e8b \u3092 \u53c2\u7167\u3002 \uff09\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# let calc x =\n    match x with\n      0 -> ( + )\n    | 1 -> ( - )\n    | 2 -> ( * )\n    | _ -> ( / )\n  ;;\nval calc : int -> int -> int -> int = <fun>\n# \n```\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# calc;;\n- : int -> int -> int -> int = <fun>\n#\n```\n\n\n###__\u30af\u30e9\u30b9 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u3092 \u751f\u6210\u3057\u3066 \u6319\u52d5 \u3092 \u78ba\u8a8d__\n\n___\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# let add_func_instance = new fCalc(calc 0 100);;\nval add_func_instance : fCalc = <obj>\n#\n```\n\n___\n\n* calc 0 \u306f\u3001(calc 0) \u304c \u5f15\u6570 *x* \u3068 \u3055\u3089\u306b\u306e\u3061\u306b\u53d7\u3051\u53d6\u308b int\u578b\u5f15\u6570 *y* \u3092  \u52a0\u7b97\u3057\u3066 \uff08\u52a0\u7b97\u7d50\u679c \u3092 \uff09 \u8fd4\u3059\u95a2\u6570 \u306b \u306a\u308b\uff08 \u95a2\u6570\u306e\u90e8\u5206\u9069\u7528 \uff09\u306e\u3067\u3001\n* calc 0 100 \u306f\u3001\u5f8c\u3067\u53d7\u3051\u53d6\u308b int\u578b\u5f15\u6570 *y* \u306b 100 \u3092 \u52a0\u7b97\u3057\u305f\u7d50\u679c \u3092 \u8fd4\u3059 \u95a2\u6570 \u306b \u306a\u308b\u3002\n* *y* \u306b\u306f\u3001\u521d\u56de\u306b *get* \u95a2\u6570\u5b9f\u52b9\u6642 \u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u521d\u671f\u5024 0 \u304c\u5165\u308a\u3001\n* \uff12\u56de\u76ee\u4ee5\u964d\u306e*get* \u95a2\u6570\u5b9f\u52b9\u6642 \u4ee5\u964d\u306f\u3001\u524d\u56de \u306e\u6f14\u7b97\u7d50\u679c \u304c \u5165\u308b\u3002\n\n___\n\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# add_func_instance#get;;\n- : int = 0\n# add_func_instance#get;;\n- : int = 0\n#\n```\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# add_func_instance#calc;;\n- : unit = ()\n# add_func_instance#get;;\n- : int = 100\n# add_func_instance#get;;\n- : int = 100\n#\n```\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# add_func_instance#calc;;\n- : unit = ()\n# add_func_instance#calc;;\n- : unit = ()\n# add_func_instance#get;;\n- : int = 300\n# add_func_instance#get;;\n- : int = 300\n#\n```\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# add_func_instance#calc;;\n- : unit = ()\n# add_func_instance#get;;             \n- : int = 400\n```\n\n###__\u4eca\u5ea6\u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u6642 \u306b \u6e21\u3059 \u5f15\u6570 \u3068\u3057\u3066\u3001(calc 0 200) \u95a2\u6570 \u3092 \u6e21\u3059\u3002__\n\n___\n\n* calc 0 \u306f\u3001(calc 0) \u304c \u5f15\u6570 *x* \u3068 \u3055\u3089\u306b\u306e\u3061\u306b\u53d7\u3051\u53d6\u308b int\u578b\u5f15\u6570 *y* \u3092  \u52a0\u7b97\u3057\u3066 \uff08\u52a0\u7b97\u7d50\u679c \u3092 \uff09 \u8fd4\u3059\u95a2\u6570 \u306b \u306a\u308b\uff08 \u95a2\u6570\u306e\u90e8\u5206\u9069\u7528 \uff09\u306e\u3067\u3001\n* calc 0 200 \u306f\u3001\u5f8c\u3067\u53d7\u3051\u53d6\u308b int\u578b\u5f15\u6570 *y* \u306b 200 \u3092 \u52a0\u7b97\u3057\u305f\u7d50\u679c \u3092 \u8fd4\u3059 \u95a2\u6570 \u306b \u306a\u308b\u3002\n* *y* \u306b\u306f\u3001\u521d\u56de\u306b *get* \u95a2\u6570\u5b9f\u52b9\u6642 \u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u521d\u671f\u5024 0 \u304c\u5165\u308a\u3001\n* \uff12\u56de\u76ee\u4ee5\u964d\u306e*get* \u95a2\u6570\u5b9f\u52b9\u6642 \u4ee5\u964d\u306f\u3001\u524d\u56de \u306e\u6f14\u7b97\u7d50\u679c \u304c \u5165\u308b\u3002\n\n___\n\n* \uff08\u521d\u56de *get* \u95a2\u6570 \u5b9f\u52b9\u6642\uff09 0 + 200 \u3092 \u5f0f\u8a55\u4fa1 \u3059\u308b\n* \uff08\uff12\u56de\u76ee\u4ee5\u964d *get* \u95a2\u6570 \u5b9f\u52b9\u6642\uff09 \u524d\u56de\u306e\u7d50\u679c\uff08*value*\uff09\u306b\u3001200 \u3092 \u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3059\u308b\n\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# let add_func_instance2 = new fCalc(calc 0 200);;\nval add_func_instance2 : fCalc = <obj>\n# add_func_instance2#get;;\n- : int = 0\n# add_func_instance2#calc;;\n- : unit = ()\n# add_func_instance2#calc;;\n- : unit = ()\n# add_func_instance2#get;;\n- : int = 400\n# add_func_instance2#calc;;\n- : unit = ()\n# add_func_instance2#get;;\n- : int = 600\n# add_func_instance2#get;;\n- : int = 600\n# add_func_instance2#calc;;\n- : unit = ()\n# add_func_instance2#get;;\n- : int = 800\n```\n\n###__\u4eca\u5ea6\u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210\u6642 \u306b \u6e21\u3059 \u5f15\u6570 \u3068\u3057\u3066\u3001(calc 1 100) \u95a2\u6570 \u3092 \u6e21\u3059\u3002__\n\n___\n\n* calc 1 \u306f\u3001(calc 1) \u304c \u5f15\u6570 *x* \u304b\u3089\u3001\uff08\u306e\u3061\u306b\u53d7\u3051\u53d6\u308b\uff09 int\u578b\u5f15\u6570 *y* \u3092  \u5f15\u304d\u7b97\u3057\u305f\u7d50\u679c \u3092 \u8fd4\u3059\u95a2\u6570 \u306b \u306a\u308b\uff08 \u95a2\u6570\u306e\u90e8\u5206\u9069\u7528 \uff09\u306e\u3067\u3001\n* calc 1 100 \u306f\u3001100 \u304b\u3089\u3001\uff08\u5f8c\u3067\u53d7\u3051\u53d6\u308b\uff09 int\u578b\u5f15\u6570 *y* \u3092 \u5f15\u3044\u305f\u7d50\u679c \u3092 \u8fd4\u3059 \u95a2\u6570 \u306b \u306a\u308b\u3002\n* *y* \u306b\u306f\u3001\u521d\u56de\u306b *get* \u95a2\u6570\u5b9f\u52b9\u6642 \u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5909\u6570\u306e\u521d\u671f\u5024 0 \u304c\u5165\u308a\u3001\n* \uff12\u56de\u76ee\u4ee5\u964d\u306e*get* \u95a2\u6570\u5b9f\u52b9\u6642 \u4ee5\u964d\u306f\u3001\u524d\u56de \u306e\u6f14\u7b97\u7d50\u679c \u304c \u5165\u308b\u3002\n\n* \uff08\u521d\u56de *get* \u95a2\u6570 \u5b9f\u52b9\u6642\uff09 \u8a08\u7b97\u5f0f (100 - 0) \u3092 \u5f0f\u8a55\u4fa1 \u3059\u308b\n* \uff08\uff12\u56de\u76ee\u4ee5\u964d *get* \u95a2\u6570 \u5b9f\u52b9\u6642\uff09 \u8a08\u7b97\u5f0f (100 - \u524d\u56de\u306e\u7d50\u679c\uff08*value*\uff09) \u3092 \u5f0f\u8a55\u4fa1 \u3059\u308b\n* \u3064\u307e\u308a\u3001*value* \u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9 *get* \u3092\u3000\u5b9f\u52b9\u3059\u308b\u5ea6\u306b\u3001(100 -0  = ) 100 \u3068 (100 - 100 = ) 0 \u3092 \u7e70\u308a\u8fd4\u3059\u3002\n\n___\n\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# let minus_func_instance = new fCalc(calc 1 100);;\nval minus_func_instance : fCalc = <obj>\n# minus_func_instance#get;;\n- : int = 0\n# minus_func_instance#calc;;\n- : unit = ()\n# minus_func_instance#get;;\n- : int = 100\n# minus_func = calc 1;;\nError: Unbound value minus_func\n# let minus_func = calc 1;;\nval minus_func : int -> int -> int = <fun>\n# minus_func;;\n- : int -> int -> int = <fun>\n# minus_func_instance#calc;;\n- : unit = ()\n# minus_func_instance#get;; \n- : int = 0\n# minus_func_instance#calc;;\n- : unit = ()\n# minus_func_instance#get;; \n- : int = 100\n# \n```\n\n___\n\n###__\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u751f\u6210 \u306e \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u6e21\u3059\u95a2\u6570\u306f\u3001\u675f\u7e1b\u5148\u306e\u5909\u6570\u540d \u3067 \u6e21\u3057\u3066 \u3082 \u826f\u3044\u3002__\n\n* Int\u578b\u306e\u5f15\u6570 \u3092 \uff11\u3064 \u53d7\u3051\u53d6\u308a\u300112\u306b\u52a0\u7b97\u3057\u305f\u7d50\u679c \u3092 \u8fd4\u3059\uff08\uff11\u5909\u6570\uff09\u95a2\u6570 \u3092 \u5909\u6570 *add_to_12_func* \u306b \u675f\u7e1b\u3059\u308b\u3002\n* \u30af\u30e9\u30b9 *fCalc* \u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf \u306b\u3001\u5909\u6570\u540d **add_to_12_func* \u3092 \u6e21\u3059\u3002\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# let add_to_12_func = calc 0 12;;\nval add_to_12_func : int -> int = <fun>\n# add_to_12_func;;\n- : int -> int = <fun>\n```\n\n```{ocaml:OCaml\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb}\n# let add_to_12_func_instance = new fCalc(add_to_12_func);;\nval add_to_12_func_instance : fCalc = <obj>\n# add_to_12_func_instance#get;;\n- : int = 0\n# add_to_12_func_instance#calc;;\n- : unit = ()\n# add_to_12_func_instance#get;;\n- : int = 12\n# add_to_12_func_instance#calc;;\n- : unit = ()\n# add_to_12_func_instance#get;;\n- : int = 24\n# add_to_12_func_instance#get;;\n- : int = 24\n# add_to_12_func_instance#calc;;\n- : unit = ()\n# add_to_12_func_instance#get;;\n- : int = 36\n# \n```\n\n<img width=\"931\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-09 16.46.08.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/43487/e1ae8a98-e53f-8abb-cc89-f83054f63cb7.png\">\n\n<img width=\"927\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-09 16.46.23.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/43487/a073edf5-84cb-e1c6-78e6-53f996b45586.png\">\n\n<img width=\"930\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-09 16.46.39.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/43487/b4520d12-6db9-4647-0f2c-6d8262174de2.png\">\n\n<img width=\"928\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-09 16.46.45.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/43487/5b415d82-24c6-4329-44eb-b03af66fffd1.png\">\n\n<img width=\"928\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-09 16.47.00.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/43487/912ee0d6-3033-4bbb-4ef9-7adde4e17883.png\">\n\n<img width=\"927\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-01-09 16.47.09.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/43487/41807f72-0a52-ccfa-c565-c54933d3f305.png\">\n\n\n\n", "tags": ["OCaml", "\u95a2\u6570\u578b\u8a00\u8a9e", "\u95a2\u6570\u578b\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0", "FunctionalProgramming", "\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6307\u5411"]}