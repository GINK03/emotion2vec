{"context": "\n\nkoajs\u6982\u8981\nNode.js\u7528Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\n\nhttps://github.com/koajs/koa\n\n\u4ee5\u4e0b\u3050\u3050\u3063\u3066\u3056\u3063\u304f\u308a\u628a\u63e1\n\nExpress\u958b\u767a\u9663\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u3001Express\u306e\u5f8c\u7d99\n\u3088\u308aminimalist,modular\u306a\u8a2d\u8a08\nkoa\u306fgenerator\u30d9\u30fc\u30b9\u3060\u3063\u305f\u304c\u3001koa@2\u306fasync/await\u30d9\u30fc\u30b9\n\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304b\u3059\n\nNode.js\u5c0e\u5165\n$ nvm install 6.9.1\n$ node -v\nv6.9.1\n\n\npackage.json\n\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u3066package.json\u3092\u751f\u6210\n$ mkdir APP_NAME\n$ cd APP_NAME\n$ npm init\n$ npm install --save koa@2\n$ npm install --save babel-cli babel-preset-es2015 babel-preset-stage-0 babel-polyfill\n\nscripts\u3068engines\u3092\u4fee\u6b63\n\npackage.json\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"build\": \"babel index.js -o app.js\",\n    \"heroku-postbuild\": \"npm run build\",\n    \"start\": \"node app.js\"\n  },\n  \"engines\" : {\n    \"node\" : \"6.9.1\"\n  },\n\n\n\nBabel\u30d7\u30ea\u30bb\u30c3\u30c8\u8a2d\u5b9a\n\n.babelrc\n{\n    \"presets\": [\"es2015\", \"stage-0\"]\n}\n\n\n\nkoa\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u5c0e\u5165\n\u8a55\u4fa1\u304c\u307e\u3060\u5fc3\u7d30\u3044\u304c\u3001\u9069\u5f53\u306b\u63a2\u3057\u3066\u9078\u3093\u3067\u307f\u308b\u3002\n\n\nkoa-router@next\n\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n\nhttps://github.com/alexmingoia/koa-router/tree/master/\n\n1,358 stars(10/31)\n\n\n\nkoa-pug\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3pug(\u4ee5\u524d\u306ejade)\nhttps://www.npmjs.com/package/koa-pug\n772 downloads/week(10/31)\n\n\n\n$ npm install --save koa-router@next\n$ npm install --save pug koa-pug\n\n\n\u30d3\u30e5\u30fc\u5b9f\u88c5\n$ mkdir views\n\n\nviews/index.pug\nhtml\n  body\n    p Hello #{name}!\n\n\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5b9f\u88c5\n\nindex.js\nimport 'babel-polyfill';\nimport Koa from 'koa';\n\nconst app = new Koa();\n\nconst Pug = require('koa-pug');\nconst pug = new Pug({\n    app: app,\n    viewPath: './views',\n    basedir: './views'\n});\n\nconst router = require('koa-router')();\napp.use(router.routes());\n\nrouter.get('/', async (ctx, next) => {\n  ctx.render('index', {name: 'koa@2'});\n})\n\napp.listen(process.env.PORT || 5000);\n\n\nkoa@2\u306b\u304a\u3051\u308b\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306e\u4f7f\u3044\u65b9\u306f\u500b\u5225\u306b\u8abf\u3079\u308b\u3002\n\n\nkoa-router\n\n7.x\u3067\u306fget\u306e\u5f15\u6570\u304cgenerator\u304b\u3089async/await\u306b\u306a\u3063\u3066\u3044\u308b(\u305f\u3060\u3057\u3053\u306e\u4f8b\u3067\u306fasync\u3064\u3051\u3066\u3082\u3064\u3051\u306a\u304f\u3066\u3082\u5909\u308f\u3089\u306a\u3044)\n\n\n\nkoa-pug\n\nhttps://www.npmjs.com/package/koa-pug#koa2\n\nrender\u306fthis\u3067\u306a\u304fctx\u306b\u5bfe\u3057\u3066\u547c\u3076\n\napp.use\u3092\u4f7f\u3063\u305f\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306e\u8ffd\u52a0\u306f\u3067\u304d\u306a\u3044\n\n\n\n\n\u30d3\u30eb\u30c9\n$ npm run build\n\napp.js\u304c\u51fa\u529b\u3055\u308c\u308b\n\n\u52d5\u4f5c\u78ba\u8a8d\n$ npm start\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u306flocalhost:5000\u3067\u52d5\u4f5c\u78ba\u8a8d\u3067\u304d\u308b\n\nHeroku\u3067\u52d5\u304b\u3059\n$ git init\n$ git add .babelrc index.js package.json views\n$ git commit -m'initial commit'\n\n$ heroku create\n$ git push https://git.heroku.com/......git master\n\n\n\u53c2\u8003\n\nhttps://dinosaurscode.xyz/nodejs/2016/06/28/nodejs-koa2-tutorial/\nhttps://www.tutorialspoint.com/koajs/koajs_templating.htm\n\n# koajs\u6982\u8981\n\nNode.js\u7528Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\n\n- https://github.com/koajs/koa\n\n\u4ee5\u4e0b\u3050\u3050\u3063\u3066\u3056\u3063\u304f\u308a\u628a\u63e1\n\n\n- Express\u958b\u767a\u9663\u306b\u3088\u3063\u3066\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u3001Express\u306e\u5f8c\u7d99\n- \u3088\u308aminimalist,modular\u306a\u8a2d\u8a08\n- koa\u306fgenerator\u30d9\u30fc\u30b9\u3060\u3063\u305f\u304c\u3001koa@2\u306fasync/await\u30d9\u30fc\u30b9\n\n# \u30ed\u30fc\u30ab\u30eb\u3067\u52d5\u304b\u3059\n\n## Node.js\u5c0e\u5165\n\n```\n$ nvm install 6.9.1\n$ node -v\nv6.9.1\n```\n\n\n## package.json\n\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u3066`package.json`\u3092\u751f\u6210\n\n```\n$ mkdir APP_NAME\n$ cd APP_NAME\n$ npm init\n$ npm install --save koa@2\n$ npm install --save babel-cli babel-preset-es2015 babel-preset-stage-0 babel-polyfill\n```\n\nscripts\u3068engines\u3092\u4fee\u6b63\n\n```package.json\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"build\": \"babel index.js -o app.js\",\n    \"heroku-postbuild\": \"npm run build\",\n    \"start\": \"node app.js\"\n  },\n  \"engines\" : {\n    \"node\" : \"6.9.1\"\n  },\n```\n\n\n## Babel\u30d7\u30ea\u30bb\u30c3\u30c8\u8a2d\u5b9a\n\n```json:.babelrc \n{\n    \"presets\": [\"es2015\", \"stage-0\"]\n}\n```\n\n## koa\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u5c0e\u5165\n\u8a55\u4fa1\u304c\u307e\u3060\u5fc3\u7d30\u3044\u304c\u3001\u9069\u5f53\u306b\u63a2\u3057\u3066\u9078\u3093\u3067\u307f\u308b\u3002\n\n- `koa-router@next`\n\t- \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n\t- https://github.com/alexmingoia/koa-router/tree/master/\t\n\t- 1,358 stars(10/31)\n\n\n- `koa-pug`\n\t- \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3pug(\u4ee5\u524d\u306ejade)\n\t- https://www.npmjs.com/package/koa-pug\n\t- 772 downloads/week(10/31)\n\t\n\n```\n$ npm install --save koa-router@next\n$ npm install --save pug koa-pug\n```\n\n## \u30d3\u30e5\u30fc\u5b9f\u88c5\n```\n$ mkdir views\n```\n\n```views/index.pug\nhtml\n  body\n    p Hello #{name}!\n```\n\n##\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5b9f\u88c5\n\n\n```javascript:index.js\nimport 'babel-polyfill';\nimport Koa from 'koa';\n\nconst app = new Koa();\n\nconst Pug = require('koa-pug');\nconst pug = new Pug({\n    app: app,\n    viewPath: './views',\n    basedir: './views'\n});\n\nconst router = require('koa-router')();\napp.use(router.routes());\n\nrouter.get('/', async (ctx, next) => {\n  ctx.render('index', {name: 'koa@2'});\n})\n\napp.listen(process.env.PORT || 5000);\n```\n\nkoa@2\u306b\u304a\u3051\u308b\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306e\u4f7f\u3044\u65b9\u306f\u500b\u5225\u306b\u8abf\u3079\u308b\u3002\n\n- `koa-router`\n\t- 7.x\u3067\u306f`get`\u306e\u5f15\u6570\u304cgenerator\u304b\u3089async/await\u306b\u306a\u3063\u3066\u3044\u308b(\u305f\u3060\u3057\u3053\u306e\u4f8b\u3067\u306fasync\u3064\u3051\u3066\u3082\u3064\u3051\u306a\u304f\u3066\u3082\u5909\u308f\u3089\u306a\u3044)\n- `koa-pug`\n\t- https://www.npmjs.com/package/koa-pug#koa2\n\t- `render`\u306f`this`\u3067\u306a\u304f`ctx`\u306b\u5bfe\u3057\u3066\u547c\u3076\n\t- `app.use`\u3092\u4f7f\u3063\u305f\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306e\u8ffd\u52a0\u306f\u3067\u304d\u306a\u3044\n\t\n\n\n\n\n## \u30d3\u30eb\u30c9\n```\n$ npm run build\n```\napp.js\u304c\u51fa\u529b\u3055\u308c\u308b\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\n```\n$ npm start\n```\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u306flocalhost:5000\u3067\u52d5\u4f5c\u78ba\u8a8d\u3067\u304d\u308b\n\n# Heroku\u3067\u52d5\u304b\u3059\n```\n$ git init\n$ git add .babelrc index.js package.json views\n$ git commit -m'initial commit'\n\n$ heroku create\n$ git push https://git.heroku.com/......git master\n```\n\n\n# \u53c2\u8003\n- https://dinosaurscode.xyz/nodejs/2016/06/28/nodejs-koa2-tutorial/\n- https://www.tutorialspoint.com/koajs/koajs_templating.htm\n", "tags": ["Koa", "Node.js", "Heroku"]}