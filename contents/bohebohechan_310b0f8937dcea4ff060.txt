{"tags": ["mroonga", "MySQL", "EC2", "AWS"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u76ee\u6b21\nRDS\u306f\u4fbf\u5229\u306a\u306e\u3067\u3059\u304c\u3001mroonga\u3067\u5168\u6587\u691c\u7d22\u3084\u308a\u305f\u3044\u5834\u5408\u306f\u3001EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30b9\u30ec\u30fc\u30d6\u30b5\u30fc\u30d0\u3092\u3064\u304f\u3063\u3066\u3001\u305d\u308c\u3067\u3084\u308b\u3057\u304b\u306a\u3044\u306a\u3068\u601d\u3063\u3066\u3001\u3059\u3050\u306b\u3067\u304d\u308b\u3060\u308d\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u305d\u3046\u306f\u884c\u304b\u306a\u304b\u3063\u305f\u3068\u3044\u3046\u30ed\u30b0\u306e\u8a18\u9332\u3067\u3059\u3002\n\nAmazonLinux\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3057\u305f\u304c\u5931\u6557\n\u306a\u3089\u3070\u3001\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092Linux7.1\u306b\u3057\u3066\u307f\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\n\n\n0.\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306f\u516c\u5f0f\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\nhttp://mroonga.org/ja/docs/install/centos.html#centos-6-with-the-official-mysql-package\n\n1. AmazonLinux\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3057\u305f\u304c\u5931\u6557\ngroonga\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6210\u529f\n#  sudo yum install -y http://packages.groonga.org/centos/groonga-release-1.1.0-1.noarch.rpm\n\n\u305d\u306e\u6b21\u304c\u5931\u6557\n#  sudo yum install -y http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm\n\nLoaded plugins: priorities, update-motd, upgrade-helper\nExisting lock /var/run/yum.pid: another copy is running as pid 2467.\nAnother app is currently holding the yum lock; waiting for it to exit...\n  The other application is: yum\n    Memory :  32 M RSS (242 MB VSZ)\n    Started: Thu Nov 19 01:06:07 2015 - 00:01 ago\n    State  : Running, pid: 2467\nmysql-community-release-el6-5.noarch.rpm                                                         | 5.7 kB     00:00\nExamining /var/tmp/yum-root-gHgQbE/mysql-community-release-el6-5.noarch.rpm: mysql-community-release-el6-5.noarch\nMarking /var/tmp/yum-root-gHgQbE/mysql-community-release-el6-5.noarch.rpm to be installed\nResolving Dependencies\nhttp://packages.groonga.org/centos/latest/x86_64/repodata/repomd.xml: [Errno 14] PYCURL ERROR 22 - \"The requested URL returned error: 404 Not Found\"\nTrying other mirror.\n\n\n One of the configured repositories failed (Groonga for CentOS latest - x86_64),\n and yum doesn't have enough cached data to continue. At this point the only\n safe thing yum can do is fail. There are a few ways to work \"fix\" this:\n\n     1. Contact the upstream for the repository and get them to fix the problem.\n\n     2. Reconfigure the baseurl/etc. for the repository, to point to a working\n        upstream. This is most often useful if you are using a newer\n        distribution release than is supported by the repository (and the\n        packages for the previous distribution release still work).\n\n     3. Disable the repository, so yum won't use it by default. Yum will then\n        just ignore the repository until you permanently enable it again or use\n        --enablerepo for temporary usage:\n\n            yum-config-manager --disable groonga\n\n     4. Configure the failing repository to be skipped, if it is unavailable.\n        Note that yum will try to contact the repo. when it runs most commands,\n        so will have to try and fail each time (and thus. yum will be be much\n        slower). If it is a very temporary problem though, this is often a nice\n        compromise:\n\n            yum-config-manager --save --setopt=groonga.skip_if_unavailable=true\n\nfailure: repodata/repomd.xml from groonga: [Errno 256] No more mirrors to try.\n\n\n2. \u306a\u3089\u3070\u3001\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092Linux7.1\u306b\u3057\u3066\u307f\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3089\u3061\u304c\u3042\u304b\u306a\u3055\u305d\u3046\u306a\u306e\u3067\u3001\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092\u5909\u66f4\u3057\u3066\u307f\u305f\u3002\n\u9806\u8abf\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u3066\u3044\u305f\u304b\u3068\u601d\u3063\u305f\u3089\u3001\nmysql-community-mroonga\n\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u30a8\u30e9\u30fc\u767a\u751f\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308bmysql-community-mroonga\u306b\u5bfe\u3057\u3066\nmysql-community-server\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5c11\u3057\u53e4\u3044\u3088\u3046\u3067\u3059\u3002\n#  yum install -y mysql-community-mroonga\nLoaded plugins: amazon-id, rhui-lb\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-mroonga.x86_64 0:5.09-1.el7.centos will be installed\n--> Processing Dependency: mysql-community-client = 5.6.27-2.el7 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: mysql-community-server = 5.6.27-2.el7 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: groonga-libs >= 5.0.2 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: groonga-normalizer-mysql for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: libgroonga.so.0()(64bit) for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Running transaction check\n---> Package groonga-libs.x86_64 0:5.0.9-1.el7.centos will be installed\n---> Package groonga-normalizer-mysql.x86_64 0:1.1.0-1.el7.centos will be installed\n---> Package mysql-community-mroonga.x86_64 0:5.09-1.el7.centos will be installed\n--> Processing Dependency: mysql-community-client = 5.6.27-2.el7 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: mysql-community-server = 5.6.27-2.el7 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Finished Dependency Resolution\nError: Package: mysql-community-mroonga-5.09-1.el7.centos.x86_64 (groonga)\n           Requires: mysql-community-server = 5.6.27-2.el7\n           Installed: mysql-community-server-5.6.27-2.el6.x86_64 (@mysql56-community)\n               mysql-community-server = 5.6.27-2.el6\n           Available: mysql-community-server-5.6.15-1.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.15-1.el6\n           Available: mysql-community-server-5.6.16-1.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.16-1.el6\n           Available: mysql-community-server-5.6.17-4.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.17-4.el6\n           Available: mysql-community-server-5.6.19-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.19-2.el6\n           Available: mysql-community-server-5.6.20-4.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.20-4.el6\n           Available: mysql-community-server-5.6.21-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.21-2.el6\n           Available: mysql-community-server-5.6.22-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.22-2.el6\n           Available: mysql-community-server-5.6.23-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.23-2.el6\n           Available: mysql-community-server-5.6.24-3.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.24-3.el6\n           Available: mysql-community-server-5.6.25-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.25-2.el6\n           Available: mysql-community-server-5.6.26-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.26-2.el6\n\n\n\u72b6\u6cc1\u78ba\u8a8d\n#  yum list installed | grep mysql\nmysql-community-client.x86_64\n                           5.6.27-2.el6        @mysql56-community\nmysql-community-common.x86_64\n                           5.6.27-2.el6        @mysql56-community\nmysql-community-libs.x86_64\n                           5.6.27-2.el6        @mysql56-community\nmysql-community-release.noarch\n                           el6-7               @/mysql-community-release-el6-7.noarch\nmysql-community-server.x86_64\n                           5.6.27-2.el6        @mysql56-community\n\n\u305d\u306e\u305f\u3081\u3001mysql-community\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u306a\u304a\u3057\u3066\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u304b\u3051\u306a\u304a\u3057\u307e\u3057\u305f\u3002\n#  sudo /sbin/service mysqld stop\n\nStopping mysqld (via systemctl):                           [  OK  ]\n\n#  yum install -y http://repo.mysql.com/mysql-community-release-el7-7.noarch.rpm\n\n\n3. \u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u3068\u3057\u3066\u306f\u3053\u3046\u3067\u3059\u306d\uff082015/11/19\u73fe\u5728\uff09\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u3001Red Hat Enterprise Linux 7.1 (HVM), SSD Volume Type - ami-12663b7a\nsudo yum install -y http://packages.groonga.org/centos/groonga-release-1.1.0-1.noarch.rpm\n\nyum install -y http://repo.mysql.com/mysql-community-release-el7-7.noarch.rpm\n\nsudo yum makecache\nsudo yum install -y mysql-community-server\nsudo /sbin/service mysqld start\nsudo yum install -y mysql-community-mroonga\n(% sudo mysqladmin -u root password 'new-password')\n\n\n# \u76ee\u6b21\n\nRDS\u306f\u4fbf\u5229\u306a\u306e\u3067\u3059\u304c\u3001mroonga\u3067\u5168\u6587\u691c\u7d22\u3084\u308a\u305f\u3044\u5834\u5408\u306f\u3001EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30b9\u30ec\u30fc\u30d6\u30b5\u30fc\u30d0\u3092\u3064\u304f\u3063\u3066\u3001\u305d\u308c\u3067\u3084\u308b\u3057\u304b\u306a\u3044\u306a\u3068\u601d\u3063\u3066\u3001\u3059\u3050\u306b\u3067\u304d\u308b\u3060\u308d\u3046\u3068\u601d\u3063\u305f\u3089\u3001\u305d\u3046\u306f\u884c\u304b\u306a\u304b\u3063\u305f\u3068\u3044\u3046\u30ed\u30b0\u306e\u8a18\u9332\u3067\u3059\u3002\n\n1. AmazonLinux\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3057\u305f\u304c\u5931\u6557\n2. \u306a\u3089\u3070\u3001\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092Linux7.1\u306b\u3057\u3066\u307f\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n3. \u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\n\n## 0.\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306f\u516c\u5f0f\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\nhttp://mroonga.org/ja/docs/install/centos.html#centos-6-with-the-official-mysql-package\n\n\n## 1. AmazonLinux\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3057\u305f\u304c\u5931\u6557\n\ngroonga\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6210\u529f\n\n```\n#  sudo yum install -y http://packages.groonga.org/centos/groonga-release-1.1.0-1.noarch.rpm\n```\n\u305d\u306e\u6b21\u304c\u5931\u6557\n\n```\n#  sudo yum install -y http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm\n\nLoaded plugins: priorities, update-motd, upgrade-helper\nExisting lock /var/run/yum.pid: another copy is running as pid 2467.\nAnother app is currently holding the yum lock; waiting for it to exit...\n  The other application is: yum\n    Memory :  32 M RSS (242 MB VSZ)\n    Started: Thu Nov 19 01:06:07 2015 - 00:01 ago\n    State  : Running, pid: 2467\nmysql-community-release-el6-5.noarch.rpm                                                         | 5.7 kB     00:00\nExamining /var/tmp/yum-root-gHgQbE/mysql-community-release-el6-5.noarch.rpm: mysql-community-release-el6-5.noarch\nMarking /var/tmp/yum-root-gHgQbE/mysql-community-release-el6-5.noarch.rpm to be installed\nResolving Dependencies\nhttp://packages.groonga.org/centos/latest/x86_64/repodata/repomd.xml: [Errno 14] PYCURL ERROR 22 - \"The requested URL returned error: 404 Not Found\"\nTrying other mirror.\n\n\n One of the configured repositories failed (Groonga for CentOS latest - x86_64),\n and yum doesn't have enough cached data to continue. At this point the only\n safe thing yum can do is fail. There are a few ways to work \"fix\" this:\n\n     1. Contact the upstream for the repository and get them to fix the problem.\n\n     2. Reconfigure the baseurl/etc. for the repository, to point to a working\n        upstream. This is most often useful if you are using a newer\n        distribution release than is supported by the repository (and the\n        packages for the previous distribution release still work).\n\n     3. Disable the repository, so yum won't use it by default. Yum will then\n        just ignore the repository until you permanently enable it again or use\n        --enablerepo for temporary usage:\n\n            yum-config-manager --disable groonga\n\n     4. Configure the failing repository to be skipped, if it is unavailable.\n        Note that yum will try to contact the repo. when it runs most commands,\n        so will have to try and fail each time (and thus. yum will be be much\n        slower). If it is a very temporary problem though, this is often a nice\n        compromise:\n\n            yum-config-manager --save --setopt=groonga.skip_if_unavailable=true\n\nfailure: repodata/repomd.xml from groonga: [Errno 256] No more mirrors to try.\n```\n\n## 2. \u306a\u3089\u3070\u3001\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092Linux7.1\u306b\u3057\u3066\u307f\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u3089\u3061\u304c\u3042\u304b\u306a\u3055\u305d\u3046\u306a\u306e\u3067\u3001\u30de\u30b7\u30f3\u30a4\u30e1\u30fc\u30b8\u3092\u5909\u66f4\u3057\u3066\u307f\u305f\u3002\n\u9806\u8abf\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u3066\u3044\u305f\u304b\u3068\u601d\u3063\u305f\u3089\u3001\n\nmysql-community-mroonga\n\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u30a8\u30e9\u30fc\u767a\u751f\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308bmysql-community-mroonga\u306b\u5bfe\u3057\u3066\nmysql-community-server\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5c11\u3057\u53e4\u3044\u3088\u3046\u3067\u3059\u3002\n\n```\n#  yum install -y mysql-community-mroonga\nLoaded plugins: amazon-id, rhui-lb\nResolving Dependencies\n--> Running transaction check\n---> Package mysql-community-mroonga.x86_64 0:5.09-1.el7.centos will be installed\n--> Processing Dependency: mysql-community-client = 5.6.27-2.el7 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: mysql-community-server = 5.6.27-2.el7 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: groonga-libs >= 5.0.2 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: groonga-normalizer-mysql for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: libgroonga.so.0()(64bit) for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Running transaction check\n---> Package groonga-libs.x86_64 0:5.0.9-1.el7.centos will be installed\n---> Package groonga-normalizer-mysql.x86_64 0:1.1.0-1.el7.centos will be installed\n---> Package mysql-community-mroonga.x86_64 0:5.09-1.el7.centos will be installed\n--> Processing Dependency: mysql-community-client = 5.6.27-2.el7 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Processing Dependency: mysql-community-server = 5.6.27-2.el7 for package: mysql-community-mroonga-5.09-1.el7.centos.x86_64\n--> Finished Dependency Resolution\nError: Package: mysql-community-mroonga-5.09-1.el7.centos.x86_64 (groonga)\n           Requires: mysql-community-server = 5.6.27-2.el7\n           Installed: mysql-community-server-5.6.27-2.el6.x86_64 (@mysql56-community)\n               mysql-community-server = 5.6.27-2.el6\n           Available: mysql-community-server-5.6.15-1.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.15-1.el6\n           Available: mysql-community-server-5.6.16-1.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.16-1.el6\n           Available: mysql-community-server-5.6.17-4.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.17-4.el6\n           Available: mysql-community-server-5.6.19-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.19-2.el6\n           Available: mysql-community-server-5.6.20-4.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.20-4.el6\n           Available: mysql-community-server-5.6.21-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.21-2.el6\n           Available: mysql-community-server-5.6.22-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.22-2.el6\n           Available: mysql-community-server-5.6.23-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.23-2.el6\n           Available: mysql-community-server-5.6.24-3.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.24-3.el6\n           Available: mysql-community-server-5.6.25-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.25-2.el6\n           Available: mysql-community-server-5.6.26-2.el6.x86_64 (mysql56-community)\n               mysql-community-server = 5.6.26-2.el6\n\n```\n\n\u72b6\u6cc1\u78ba\u8a8d\n\n```\n#  yum list installed | grep mysql\nmysql-community-client.x86_64\n                           5.6.27-2.el6        @mysql56-community\nmysql-community-common.x86_64\n                           5.6.27-2.el6        @mysql56-community\nmysql-community-libs.x86_64\n                           5.6.27-2.el6        @mysql56-community\nmysql-community-release.noarch\n                           el6-7               @/mysql-community-release-el6-7.noarch\nmysql-community-server.x86_64\n                           5.6.27-2.el6        @mysql56-community\n```\n\n\u305d\u306e\u305f\u3081\u3001mysql-community\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u306a\u304a\u3057\u3066\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u304b\u3051\u306a\u304a\u3057\u307e\u3057\u305f\u3002\n\n\n```                         \n#  sudo /sbin/service mysqld stop\n\nStopping mysqld (via systemctl):                           [  OK  ]\n\n#  yum install -y http://repo.mysql.com/mysql-community-release-el7-7.noarch.rpm\n```   \n\n## 3. \u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u3068\u3057\u3066\u306f\u3053\u3046\u3067\u3059\u306d\uff082015/11/19\u73fe\u5728\uff09\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306f\u3001Red Hat Enterprise Linux 7.1 (HVM), SSD Volume Type - ami-12663b7a\n\n```bash: \nsudo yum install -y http://packages.groonga.org/centos/groonga-release-1.1.0-1.noarch.rpm\n  \nyum install -y http://repo.mysql.com/mysql-community-release-el7-7.noarch.rpm\n \nsudo yum makecache\nsudo yum install -y mysql-community-server\nsudo /sbin/service mysqld start\nsudo yum install -y mysql-community-mroonga\n(% sudo mysqladmin -u root password 'new-password')\n```   \n"}