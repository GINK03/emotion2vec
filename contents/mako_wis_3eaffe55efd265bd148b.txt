{"context": "\u3042\u308b\u30c6\u30fc\u30d6\u30eb\u306e\u3042\u308b\u9805\u76ee\u3092\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u7d50\u5408\u3057\u305f\u3044\u5834\u5408\u306f\u3001 XML PATH\u3092\u4f7f\u3046\u4e8b\u3067SQL\u3067\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\u5358\u4e00\u9805\u76ee\u3092\u7d50\u5408\u3059\u308b\u5834\u5408\nSelect \n  Left(Main.UserNames,Len(Main.UserNames)-1) As \"UserNames\"\nFrom\n  (\n    SELECT \n      (\n        Select \n          UserName + ',' AS [text()]\n        From \n          dbo.UserMaster \n        For XML PATH ('')\n      ) AS UserNames\n  ) [Main]\n\n\n\u30b0\u30eb\u30fc\u30d7\u5316\u3057\u3066\u7d50\u5408\u3059\u308b\u5834\u5408\n\u203b\u3053\u3063\u3061\u306f\u53c2\u8003\u306e\u30ea\u30f3\u30af\u5148\u306eSQL\u3092\u307b\u307c\u305d\u306e\u307e\u307e\u304a\u501f\u308a\u3057\u3066\u307e\u3059\nSelect \n  Main.UserId,\n  Left(Main.Users,Len(Main.Users)-1) As \"Users\"\nFrom\n  (\n    Select \n      distinct U2.UserId, \n      (\n        Select \n          U1.UserName + ',' AS [text()]\n        From \n          dbo.Users U1\n        Where \n          U1.UserId = U2.UserId\n        ORDER BY U1.UserId\n        For XML PATH ('')\n       ) [Users]\n    From dbo.Users U2\n  ) [Main]\n\n\n\u53c2\u8003\nConcatenate many rows into a single text string?\n\u3042\u308b\u30c6\u30fc\u30d6\u30eb\u306e\u3042\u308b\u9805\u76ee\u3092\u30ab\u30f3\u30de\u533a\u5207\u308a\u3067\u7d50\u5408\u3057\u305f\u3044\u5834\u5408\u306f\u3001 XML PATH\u3092\u4f7f\u3046\u4e8b\u3067SQL\u3067\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\n# \u5358\u4e00\u9805\u76ee\u3092\u7d50\u5408\u3059\u308b\u5834\u5408\n```sql\nSelect \n  Left(Main.UserNames,Len(Main.UserNames)-1) As \"UserNames\"\nFrom\n  (\n    SELECT \n      (\n        Select \n          UserName + ',' AS [text()]\n        From \n          dbo.UserMaster \n        For XML PATH ('')\n      ) AS UserNames\n  ) [Main]\n```\n\n# \u30b0\u30eb\u30fc\u30d7\u5316\u3057\u3066\u7d50\u5408\u3059\u308b\u5834\u5408\n\u203b\u3053\u3063\u3061\u306f\u53c2\u8003\u306e\u30ea\u30f3\u30af\u5148\u306eSQL\u3092\u307b\u307c\u305d\u306e\u307e\u307e\u304a\u501f\u308a\u3057\u3066\u307e\u3059\n\n```sql\nSelect \n  Main.UserId,\n  Left(Main.Users,Len(Main.Users)-1) As \"Users\"\nFrom\n  (\n    Select \n      distinct U2.UserId, \n      (\n        Select \n          U1.UserName + ',' AS [text()]\n        From \n          dbo.Users U1\n        Where \n          U1.UserId = U2.UserId\n        ORDER BY U1.UserId\n        For XML PATH ('')\n       ) [Users]\n    From dbo.Users U2\n  ) [Main]\n```\n\n### \u53c2\u8003\n[Concatenate many rows into a single text string?](http://stackoverflow.com/questions/194852/concatenate-many-rows-into-a-single-text-string)\n", "tags": ["SQLServer"]}