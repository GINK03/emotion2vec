{"context": " More than 1 year has passed since last update.ALMinium\u3067\u8d85\u7c21\u5358\u3063\u3066\u304d\u3044\u3066\u305f\u3051\u3069\u3081\u3093\u3069\u304f\u3055\u304b\u3063\u305f\u306e\u3067\u30e1\u30e2\n\n\u69cb\u7bc9\u624b\u9806\n\n\u521d\u671f\u8a2d\u5b9a\n\nec2\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u308b\u3068\u3053\u308d\u306f\u7aef\u6298\u308b\u3002\n\u300cAmazon Linux AMI\u300d\u3067\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7\u3068\u304b\u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u304a\u597d\u304d\u306b\u3002\nec2-user\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066root\u306b\n# sudo su -\n\n\nyum\u3092\u6700\u65b0\u306b\n# yum update -y\n# yum upgrade -y\n\n\n\u6642\u523b\u8a2d\u5b9a\nLANG\u3092\"ja_JP.UTF-8\u306b\u5909\u66f4\n# cp /usr/share/zoneinfo/Japan /etc/localtime\n# vi /etc/sysconfig/i18n\n\n\nsshd\u306e\u8a2d\u5b9a\u4fee\u6b63\n\u300cPermitRootLogin no\u300d \u306b\u7de8\u96c6\u3057\u3066reload\u3002\n# vi /etc/ssh/sshd_config\n# /etc/init.d/sshd reload\n\n\ngit/redis\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# yum install -y git\n# yum install -y \\ gcc-c++ \\ git-core \\ libffi-devel \\ libicu-devel \\ libxml2-devel \\ libxslt-devel libyaml-devel \\ make \\ mysql \\ mysql-devel \\ patch \\ perl-Time-HiRes \\ postfix \\ readlineevel \\ zlib-devel \n# yum install -y libxml2 libxml2-devel libxslt libxslt-devel libicu libicu-devel\n# yum install -y redis --enablerepo=epel\n\n\nruby2.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff082\u3067\u306a\u3044\u3068\u5931\u6557\u3059\u308b\uff09\n# yum remove -y ruby\n# bash -s stable < <(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer)\n# rvm install ruby 2.0.0\n\n\n\u3053\u308c\u3067ruby-2.0.0-p247\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u3002\n# \u4e00\u5fdc\u4e0b\u8a18\u3082\u5165\u308c\u3066\u304a\u304f\u3002\n# gem install bundler --no-ri --no-rdoc\n# gem install charlock_holmes --version '0.6.9.4'\n\n\n\n\nALMinium\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n# cd /usr/local/src\n# git clone https://github.com/alminium/alminium.git\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b9f\u884c\n# cd alminium\n# source ./smelt\n\n\u3044\u308d\u3044\u308d\u805e\u304b\u308c\u308b\u3051\u3069\u304a\u597d\u307f\u3067\u3002\nHostName\u5165\u308c\u308b\u3068\u3053\u308d\u306fGIP\u3092\u3068\u308a\u3042\u3048\u305a\u5165\u308c\u3068\u304f\u4e8b\u3092\u63a8\u5968\u3002\nJenkins\u306f\u5225\u3067\u7acb\u3066\u305f\u65b9\u304c\u826f\u3044\u3057\u3001\u3042\u3068\u3067\u30e2\u30e1\u308b\u307d\u3044\u306e\u3067\u30b9\u30eb\u30fc\u63a8\u5968\u3002\n\u30b5\u30fc\u30d0\u30fc\u30ea\u30d6\u30fc\u30c8\n# reboot\n\n\n\n\nRedmine\u8a2d\u5b9a\n\n\u8a2d\u5b9a\u3092\u7de8\u96c6(\u4e0a3\u884c\u306e\u307f)\n# vi /etc/httpd/conf.d/redmine.conf\n\u3010\u7d30\u304b\u3044version\u3068\u304b\u5909\u308f\u308b\u53ef\u80fd\u6027\u5927\u3011\nLoadModule passenger_module /usr/local/rvm/gems/ruby-2.0.0-p451/gems/passenger-4.0.40/buildout/apache2/mod_passenger.so\nPassengerRoot /usr/local/rvm/gems/ruby-2.0.0-p451/gems/passenger-4.0.40\nPassengerRuby /usr/bin/ruby\n\n\nRuby\u8a2d\u5b9a\n/usr/bin/ruby \u304c\u3044\u306a\u3044\u306e\u3067\n# ln -s  /usr/local/rvm/rubies/ruby-2.0.0-p451/bin/ruby /usr/bin/ruby\n\n\nhttpd\u518d\u8d77\u52d5\n# service httpd restart\n\n\n\u30ea\u30d6\u30fc\u30c8\u6642\u306e\u81ea\u52d5\u8d77\u52d5\n# chkconfig httpd on\n\n\n\n\nMySQL\u8a2d\u5b9a\n\n/etc/my.cnf \u306e[mysqld]\u306b\u4ee5\u4e0b\u3092\u3064\u3044\u304b\nmax_allowed_packet=10M\n\n\nMySQL\u518d\u8d77\u52d5\n# service mysqld restart\n\n\n\n\n\u78ba\u8a8d\n\nurl\u306b\u30a2\u30af\u30bb\u30b9\nhttp://[IPADDRESS]/\n\n\n\n\u304a\u308f\u308a\n\u203b \u53c2\u8003\uff1a http://www.dosancole.com/environment/2013/10/27/alminium-ec2/\nALMinium\u3067\u8d85\u7c21\u5358\u3063\u3066\u304d\u3044\u3066\u305f\u3051\u3069\u3081\u3093\u3069\u304f\u3055\u304b\u3063\u305f\u306e\u3067\u30e1\u30e2\n\n# \u69cb\u7bc9\u624b\u9806\n## \u521d\u671f\u8a2d\u5b9a\n* ec2\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u308b\u3068\u3053\u308d\u306f\u7aef\u6298\u308b\u3002  \n\u300cAmazon Linux AMI\u300d\u3067\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002  \n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7\u3068\u304b\u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u304a\u597d\u304d\u306b\u3002\n* ec2-user\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066root\u306b\n<pre>\n# sudo su -\n</pre>\n* yum\u3092\u6700\u65b0\u306b\n<pre>\n# yum update -y\n# yum upgrade -y\n</pre>\n1. \u6642\u523b\u8a2d\u5b9a\nLANG\u3092\"ja_JP.UTF-8\u306b\u5909\u66f4\n<pre>\n# cp /usr/share/zoneinfo/Japan /etc/localtime\n# vi /etc/sysconfig/i18n\n</pre>\n2. sshd\u306e\u8a2d\u5b9a\u4fee\u6b63\n\u300cPermitRootLogin no\u300d \u306b\u7de8\u96c6\u3057\u3066reload\u3002\n<pre>\n# vi /etc/ssh/sshd_config\n# /etc/init.d/sshd reload\n</pre>\n* git/redis\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n<pre>\n# yum install -y git\n# yum install -y \\ gcc-c++ \\ git-core \\ libffi-devel \\ libicu-devel \\ libxml2-devel \\ libxslt-devel libyaml-devel \\ make \\ mysql \\ mysql-devel \\ patch \\ perl-Time-HiRes \\ postfix \\ readlineevel \\ zlib-devel \n# yum install -y libxml2 libxml2-devel libxslt libxslt-devel libicu libicu-devel\n# yum install -y redis --enablerepo=epel\n</pre>\n* ruby2.0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff082\u3067\u306a\u3044\u3068\u5931\u6557\u3059\u308b\uff09\n<pre>\n# yum remove -y ruby\n# bash -s stable < <(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer)\n# rvm install ruby 2.0.0\n</pre>\n* \u3053\u308c\u3067ruby-2.0.0-p247\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u3002\n# \u4e00\u5fdc\u4e0b\u8a18\u3082\u5165\u308c\u3066\u304a\u304f\u3002\n<pre>\n# gem install bundler --no-ri --no-rdoc\n# gem install charlock_holmes --version '0.6.9.4'\n</pre>\n\n## ALMinium\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n<pre>\n# cd /usr/local/src\n# git clone https://github.com/alminium/alminium.git\n</pre>\n* \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b9f\u884c\n<pre>\n# cd alminium\n# source ./smelt\n</pre>\n\u3044\u308d\u3044\u308d\u805e\u304b\u308c\u308b\u3051\u3069\u304a\u597d\u307f\u3067\u3002  \nHostName\u5165\u308c\u308b\u3068\u3053\u308d\u306fGIP\u3092\u3068\u308a\u3042\u3048\u305a\u5165\u308c\u3068\u304f\u4e8b\u3092\u63a8\u5968\u3002\nJenkins\u306f\u5225\u3067\u7acb\u3066\u305f\u65b9\u304c\u826f\u3044\u3057\u3001\u3042\u3068\u3067\u30e2\u30e1\u308b\u307d\u3044\u306e\u3067\u30b9\u30eb\u30fc\u63a8\u5968\u3002\n* \u30b5\u30fc\u30d0\u30fc\u30ea\u30d6\u30fc\u30c8\n<pre>\n# reboot\n</pre>\n\n## Redmine\u8a2d\u5b9a\n* \u8a2d\u5b9a\u3092\u7de8\u96c6(\u4e0a3\u884c\u306e\u307f)\n<pre>\n# vi /etc/httpd/conf.d/redmine.conf\n\u3010\u7d30\u304b\u3044version\u3068\u304b\u5909\u308f\u308b\u53ef\u80fd\u6027\u5927\u3011\nLoadModule passenger_module /usr/local/rvm/gems/ruby-2.0.0-p451/gems/passenger-4.0.40/buildout/apache2/mod_passenger.so\nPassengerRoot /usr/local/rvm/gems/ruby-2.0.0-p451/gems/passenger-4.0.40\nPassengerRuby /usr/bin/ruby\n</pre>\n* Ruby\u8a2d\u5b9a  \n/usr/bin/ruby \u304c\u3044\u306a\u3044\u306e\u3067\n<pre>\n# ln -s  /usr/local/rvm/rubies/ruby-2.0.0-p451/bin/ruby /usr/bin/ruby\n</pre>\n* httpd\u518d\u8d77\u52d5\n<pre>\n# service httpd restart\n</pre>\n* \u30ea\u30d6\u30fc\u30c8\u6642\u306e\u81ea\u52d5\u8d77\u52d5\n<pre>\n# chkconfig httpd on\n</pre>\n\n## MySQL\u8a2d\u5b9a\n* /etc/my.cnf \u306e[mysqld]\u306b\u4ee5\u4e0b\u3092\u3064\u3044\u304b\n<pre>\nmax_allowed_packet=10M\n</pre>\n* MySQL\u518d\u8d77\u52d5\n<pre>\n# service mysqld restart\n</pre>\n\n## \u78ba\u8a8d\n* url\u306b\u30a2\u30af\u30bb\u30b9\n<pre>\nhttp://[IPADDRESS]/\n</pre>\n\n\u304a\u308f\u308a\n\n\u203b \u53c2\u8003\uff1a http://www.dosancole.com/environment/2013/10/27/alminium-ec2/\n", "tags": ["AWS", "EC2", "Redmine", "ALMinium"]}