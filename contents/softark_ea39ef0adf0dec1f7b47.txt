{"tags": ["jquery-ui", "DatePicker", "GCalHolidays"], "context": " More than 1 year has passed since last update.GCallendar Holidays \u306f\u3001jQuery UI Datepicker \u306b\u5bfe\u5fdc\u3057\u305f\u975e\u5e38\u306b\u4fbf\u5229\u306a javascript \u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30fc\u3067\u3001Google\u30ab\u30ec\u30f3\u30c0\u30fc\u304b\u3089 JSONP \u3067\u65e5\u672c\u306e\u795d\u65e5\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u3066\u304f\u308c\u308b\u3082\u306e\u3067\u3059\u3002\n\njQuery UI Datepicker \u306b GCalendar Holidays \u3092\u4f7f\u3046\n\u4f8b\u3048\u3070\u3001\u7d20\u306e DatePicker \u3067\u306f\u3053\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u304c\u3001GCalendar Holidays \u3092\u4f7f\u3046\u3060\u3051\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3001\u65e5\u672c\u306e\u795d\u65e5\u30fb\u4f11\u65e5\u3092\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3064\u3044\u3067\u306b\u3001\u571f\u66dc\u65e5\u30fb\u65e5\u66dc\u65e5\u3082\u8272\u5206\u3051\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u30ab\u30ec\u30f3\u30c0\u30fc\u304c\u975e\u5e38\u306b\u898b\u6613\u304f\u306a\u3063\u3066\u3001\u81f3\u308c\u308a\u5c3d\u304f\u305b\u308a\u3067\u3059\u3002\n\n\u77e5\u3089\u306a\u3044\u4eba\u306e\u305f\u3081\u306b\u3001\u5ff5\u306e\u305f\u3081\u306b\u8a00\u3046\u3068\u3001\u4e94\u6708\u4e94\u65e5\u306e\u4e0a\u306b\u30ab\u30fc\u30bd\u30eb\u3092\u30db\u30d0\u30fc\u3059\u308b\u3068\u3001\u300c\u3053\u3069\u3082\u306e\u65e5\u300d\u3067\u3042\u308b\u3053\u3068\u3092\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u8868\u793a\u3067\u77e5\u3089\u305b\u308b\u3068\u3044\u3046\u3053\u3068\u307e\u3067\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\nGoogle Calendar API v3 \u3078\u306e\u5bfe\u5fdc - \u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u5fc5\u8981\nGoogle Calendar API \u304c v2 \u304b\u3089 v3 \u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3055\u308c\u3001v2 \u304c\u5ec3\u6b62\u3055\u308c\u305f\u3053\u3068\u306b\u5bfe\u5fdc\u3057\u3066\u3001GCallendar Holidays \u306f\u3001\u30b5\u30fc\u30d0\u5074\u3067\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5fc5\u8981\u3068\u3059\u308b\u3082\u306e\u306b\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002\n\u3053\u308c\u306f\u3001\u4e3b\u3068\u3057\u3066\u3001v3 \u304b\u3089\u5fc5\u8981\u306b\u306a\u3063\u305f API \u30ad\u30fc \u3092 javascript \u3067\u516c\u958b\u3059\u308b\u306e\u306f\u3088\u308d\u3057\u304f\u306a\u3044\u3060\u308d\u3046\u3001\u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e2d\u306b\u96a0\u3055\u306a\u3051\u308c\u3070\u306a\u308b\u307e\u3044\u3001\u3068\u3044\u3046\u5224\u65ad\u306b\u3088\u308b\u3082\u306e\u3068\u63a8\u6e2c\u3057\u307e\u3059\u3002\n\u3057\u304b\u3057\u3001\u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u3053\u3068\u3067\u3001GCalendar Holidays \u306e\u7f8e\u70b9\u3067\u3042\u3063\u305f \u624b\u8efd\u3055 \u304c\u5931\u308f\u308c\u305f\u3053\u3068\u306f\u4e8b\u5b9f\u3067\u3059\u3002\n\n\u5272\u308a\u5207\u3063\u3066\u3001jui Datepicker \u5c02\u7528\u306b\u6539\u9020\u3057\u305f\n\u5143\u6765\u3001GCalendar Holidays \u306f\u3001\u65e5\u672c\u306e\u795d\u65e5\u3092\u53d6\u5f97\u3059\u308b\u3060\u3051\u3067\u306a\u304f\u3001Google Calendar \u306e\u3055\u307e\u3056\u307e\u306a\u30ab\u30ec\u30f3\u30c0\u30fc\u30fb\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u62e1\u5f35\u6027\u3092\u76ee\u6307\u3057\u3066\u4f5c\u3089\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u307e\u305f\u3001jQuery UI Datepicker \u5c02\u7528\u3067\u3082\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u3057\u304b\u3057\u3001\u5c11\u306a\u304f\u3068\u3082\u79c1\u306f\u3001GCalendar Holidays \u3092 jQuery UI Datepicker \u3068\u306e\u7d44\u307f\u5408\u308f\u305b\u4ee5\u5916\u3067\u4f7f\u304a\u3046\u3068\u306f\u601d\u3044\u307e\u305b\u3093\u3002\n\u305d\u3053\u3067\u3001\u5272\u308a\u5207\u3063\u3066\u3001jQuery UI Datepicker \u5c02\u7528\u306e\u3001\u624b\u8efd\u306b\u4f7f\u3048\u308b GCalendar Holidays \u306b\u6539\u9020\u3057\u307e\u3057\u305f\u3002\u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u4e0d\u8981\u3067\u3059\u3002\u305f\u3060\u3057\u3001API \u30ad\u30fc\u306f\u3055\u3089\u3051\u51fa\u3057 \u306b\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\u4ee5\u4e0b\u306b\u305d\u306e\u30bd\u30fc\u30b9\u3092\u516c\u958b\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u826f\u3051\u308c\u3070\u3001\u81ea\u7531\u306b\u304a\u4f7f\u3044\u304f\u3060\u3055\u3044\u3002\n\njui-datepicker-jp-holidays.js\n/**\n *  GCalendar Holidays - Google\u30ab\u30ec\u30f3\u30c0\u30fc\u304b\u3089\u65e5\u672c\u306e\u795d\u65e5\u3092\u53d6\u5f97\n *  @see       http://0-oo.net/sbox/javascript/google-calendar-holidays\n *  @version   0.6.0\n *  @copyright 2008-2014 dgbadmin@gmail.com\n *  @license   http://0-oo.net/pryn/MIT_license.txt (The MIT license)\n */\nvar GCalHolidays = {\n    /** Google Calendar\u304b\u3089\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308bAPI\u306eURL */\n    apiUrl : \"https://www.googleapis.com/calendar/v3/calendars/\",\n    /** \u300c\u65e5\u672c\u306e\u4f11\u65e5\u300d\u30ab\u30ec\u30f3\u30c0\u30fc */\n    calendarId: \"japanese__ja@holiday.calendar.google.com\",\n    /** API key ... \u3042\u306a\u305f\u304c\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b API \u30ad\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068 */\n    apiKey: \"PUT_YOUR_GOOGLE_API_KEY_HERE\",\n    /** jQuery UI Datepicker\u7528\u306estyle\uff08Theme\u306b\u5408\u308f\u305b\u3066\u304a\u597d\u307f\u3067\uff09 */\n    datepickerStyles: {\n        sunday:   \"color: #f00\", //\u65e5\u66dc\u65e5\n        saturday: \"color: #0af\", //\u571f\u66dc\u65e5\n        holiday:  \"color: #f00\"  //\u795d\u65e5\n    }\n};\n\n/**\n *  \u795d\u65e5\u3092\u53d6\u5f97\u3059\u308b\n *  @param  Function    callback    \u30c7\u30fc\u30bf\u53d6\u5f97\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308bfunction\n *  @param  Number      year        \u5e74\n */\nGCalHolidays.get = function(callback, year, month) {\n    //\u65e5\u4ed8\u7bc4\u56f2\n    var start = [year, \"01\", \"01\"].join(\"-\");\n    var end = [year, \"12\", \"31\"].join(\"-\");\n\n    this._caches = (this._caches || {});\n    this._userCallback = callback;\n    this._month = month;\n\n    var cache = this._caches[year];\n\n    if (cache) {    //\u53d6\u5f97\u6e08\u307f\u306e\u5834\u5408\u306f\u305d\u308c\u3092\u4f7f\u3046\n        callback(cache, month);\n        return;\n    }\n\n    //URL\u4f5c\u6210\n    var url = GCalHolidays.apiUrl +\n            encodeURIComponent(GCalHolidays.calendarId) + \"/events\" +\n            \"?key=\" + GCalHolidays.apiKey +\n            \"&timeMin=\" + start + \"T00:00:00.000Z\" +\n            \"&timeMax=\" + end + \"T23:59:59.000Z\" +\n            \"&fields=items(start,summary)\" +\n            \"&callback=GCalHolidays.decode\";\n    // timeMin, timeMax \u306f\u3001\u3053\u306e\u5f62\u5f0f\u3067\u306a\u3044\u3068\u3001\u4f55\u6545\u304b bad request \u306b\u306a\u308b\n    // http://stackoverflow.com/questions/17133777/google-calendar-api-400-error\n\n    //script\u30bf\u30b0\u751f\u6210\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = url;\n    script.charset = \"UTF-8\";\n    document.body.appendChild(script);\n};\n\n/**\n *  JSONP\u306b\u3088\u308aGoogle Calendar API\u7d4c\u7531\u3067\u547c\u3073\u51fa\u3055\u308c\u308bfunction\n *  @param  Object  gdata   \u30ab\u30ec\u30f3\u30c0\u30fc\u30c7\u30fc\u30bf\n */\nGCalHolidays.decode = function(gdata) {\n    var days = GCalHolidays._entries2days(gdata.items);\n    if (days.length > 0) { // \u7a7a\u3063\u307d\u306e\u3068\u304d\u3082\u3042\u308b\u305e\n        var year = days[0].year;\n        //\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\n        this._caches[year] = days;\n        //\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\n        this._userCallback(days, this._month);\n    }\n};\n\n/**\n *  JSONP\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u304b\u3089\u65e5\u4ed8\u60c5\u5831\u3092\u53d6\u308a\u51fa\u3059\n *  @param  Array   entries \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\n *  @return Array   \u65e5\u4ed8\u60c5\u5831\uff08year, month, date, title\uff09\n */\nGCalHolidays._entries2days = function(entries) {\n    var days = [];\n    var cnt = 0;\n\n    if (!entries) {\n        return days;\n    }\n\n    //\u65e5\u4ed8\u9806\u306b\u30bd\u30fc\u30c8\n    entries.sort(function(a, b) {\n        return (a.start.date > b.start.date) ? 1 : -1;\n    });\n\n    //\u30b7\u30f3\u30d7\u30eb\u306a\u5668\u306b\u79fb\u3059\n    for (var i = 0, len = entries.length; i < len; i++) {\n        var entry = entries[i];\n        var ymd = entry.start.date.split(\"T\")[0].split(\"-\");\n\n        days[cnt] = { //\u5e74\u6708\u65e5\u306f\u4f7f\u3044\u3084\u3059\u3044\u3088\u3046\u306b\u6570\u5024\u306b\u3059\u308b\n            year: ymd[0] * 1,\n            month: ymd[1] * 1,\n            date: ymd[2] * 1,\n            title: entry.summary\n        };\n        cnt++;\n    }\n    return days;\n};\n\n/**\n *  jQuery UI Datepicker\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u795d\u65e5\u3092\u8868\u793a\u3059\u308b\n *  @param  Number  year    \u8868\u793a\u3059\u308b\u5e74\n *  @param  Number  month   \u8868\u793a\u3059\u308b\u6708\n *  @param  Object  inst    Datepicker\n *  @see http://jqueryui.com/demos/datepicker/\n */\nGCalHolidays.datepicker = function(year, month, inst) {\n    setTimeout(function() { //\u51e6\u7406\u5f8c\u306b\u5bfe\u8c61\u306ediv\u304c\u518d\u69cb\u7bc9\u3055\u308c\u308b\u30b1\u30fc\u30b9\u3092\u56de\u907f\n        for (var i = 0, len = (inst.settings.numberOfMonths || 1); i < len; i++) {\n            GCalHolidays.get(function(holidays, mon) {\n                for (var j = 0, len2 = holidays.length; j < len2; j++) {\n                    var h = holidays[j];\n                    if (h.month > mon + 1) {\n                        break; // \u76ee\u7684\u306e\u6708\uff08\u3068\u305d\u306e\u6b21\u306e\u6708\uff09\u304c\u65e2\u306b\u904e\u304e\u305f\n                    }\n                    if (h.month >= mon - 1) {\n                        var s = \"[data-year=\" + h.year + \"][data-month=\" + (h.month - 1) + \"] a\";\n                        inst.dpDiv.find(s).each(function() {\n                            if ($(this).text() == h.date) {\n                                $(this).addClass(\"gcal-holiday\").attr(\"title\", h.title);\n                                return false;\n                            }\n                        });\n                    }\n                    // \u524d\u5f8c\u306e\u6708\u306e\u795d\u65e5\u306b\u3082\u5bfe\u5fdc ... \u305f\u3060\u3057\u30011\u6708\u306812\u6708\u306f\u3001\u5e74\u304c\u5909\u308b\u306e\u3067\u3001\u5bfe\u5fdc\u3067\u304d\u306a\u3044\n                }\n            }, year, month);\n\n            month++;\n\n            if (month > 12) {\n                year++;\n                month = 1;\n            }\n        }\n    }, 1);\n};\n\n/**\n *  jQuery UI Datepicker\u304c\u6709\u52b9\u306a\u5834\u5408\u306f\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u3068style\u3092\u30bb\u30c3\u30c8\u3059\u308b\n */\nif (window.$ && $.datepicker && $.datepicker.setDefaults) {\n    $.datepicker.setDefaults({\n        beforeShow: function(input, inst) {\n            var date = $(input).datepicker(\"getDate\") || new Date();\n            GCalHolidays.datepicker(date.getFullYear(), date.getMonth() + 1, inst);\n        },\n        beforeShowDay: function(date) { //\u571f\u65e5\u306eclass\u5c5e\u6027\n            return [true, { 0: \"gcal-sunday\", 6: \"gcal-saturday\" }[date.getDay()] || \"\"];\n        },\n        onChangeMonthYear: GCalHolidays.datepicker\n    });\n\n    $(function() {  //\u30da\u30fc\u30b8\u8868\u793a\u5f8c\u306b\u571f\u65e5\u30fb\u795d\u65e5\u7528\u306estyle\u3092\u30bb\u30c3\u30c8\n        var styles = GCalHolidays.datepickerStyles;\n        var css = \"\";\n        css += \".gcal-sunday   .ui-state-default { \" + styles.sunday + \" } \";\n        css += \".gcal-saturday .ui-state-default { \" + styles.saturday + \" } \";\n        css += \".ui-widget-content .gcal-holiday { \" + styles.holiday + \" }\";\n        $(\"head\").append($('<style type=\"text/css\">' + css + \"</style>\"));\n    });\n}\n\n\nAPI \u30ad\u30fc\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u3067\u3001\u4e00\u500b\u6240\u3060\u3051\u3001\u4fee\u6b63\u304c\u5fc5\u8981\u306a\u3068\u3053\u308d\u304c\u3042\u308a\u307e\u3059\u3002\napiKey: \"PUT_YOUR_GOOGLE_API_KEY_HERE\" \u306e\u6240\u3060\u3051\u306f\u3001\u3042\u306a\u305f\u304c\u5229\u7528\u3067\u304d\u308b (\u304a\u305d\u3089\u304f\u306f\u3001\u3042\u306a\u305f\u81ea\u8eab\u304c\u53d6\u5f97\u3057\u305f) API \u30ad\u30fc \u306b\u7f6e\u304d\u63db\u3048\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\nGoogle Calendar (\u3042\u308b\u3044\u306f\u3001\u4e00\u822c\u306b Google \u306e\u30b5\u30fc\u30d3\u30b9) \u306e API \u30ad\u30fc\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u30a6\u30a7\u30d6\u4e0a\u306b\u3044\u304f\u3089\u3067\u3082\u60c5\u5831\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001Google API v3 \u3092\u5229\u7528\u3057\u3088\u3046\uff01\u301cAPI\u30ad\u30fc\u306e\u53d6\u5f97\u65b9\u6cd5\u301c \u306a\u3069\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u300c\u8a31\u53ef\u5bfe\u8c61\u30ea\u30d5\u30a1\u30e9\u30fc\u300d\u3092\u9069\u5207\u306b\u8a2d\u5b9a\u3059\u308c\u3070\u3001API \u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u3042\u306a\u305f\u304c\u7ba1\u7406\u3059\u308b\u30b5\u30a4\u30c8\u304b\u3089\u306e\u307f\u306b\u9650\u5b9a\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n[GCallendar Holidays](http://0-oo.net/sbox/javascript/google-calendar-holidays) \u306f\u3001jQuery UI Datepicker \u306b\u5bfe\u5fdc\u3057\u305f\u975e\u5e38\u306b\u4fbf\u5229\u306a javascript \u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30fc\u3067\u3001Google\u30ab\u30ec\u30f3\u30c0\u30fc\u304b\u3089 JSONP \u3067\u65e5\u672c\u306e\u795d\u65e5\u4e00\u89a7\u3092\u53d6\u5f97\u3057\u3066\u304f\u308c\u308b\u3082\u306e\u3067\u3059\u3002\n\n## jQuery UI Datepicker \u306b GCalendar Holidays \u3092\u4f7f\u3046\n\n\u4f8b\u3048\u3070\u3001\u7d20\u306e DatePicker \u3067\u306f\u3053\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002\n\n![datepicker-def.png](https://qiita-image-store.s3.amazonaws.com/0/12310/f01e9e3b-a3f3-202a-9237-318966f30ae1.png)\n\n\u3053\u308c\u304c\u3001GCalendar Holidays \u3092\u4f7f\u3046\u3060\u3051\u3067\u3001\u6b21\u306e\u3088\u3046\u306b\u3001\u65e5\u672c\u306e\u795d\u65e5\u30fb\u4f11\u65e5\u3092\u8868\u793a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3064\u3044\u3067\u306b\u3001\u571f\u66dc\u65e5\u30fb\u65e5\u66dc\u65e5\u3082\u8272\u5206\u3051\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u30ab\u30ec\u30f3\u30c0\u30fc\u304c\u975e\u5e38\u306b\u898b\u6613\u304f\u306a\u3063\u3066\u3001\u81f3\u308c\u308a\u5c3d\u304f\u305b\u308a\u3067\u3059\u3002\n\n![datepicker-gch.png](https://qiita-image-store.s3.amazonaws.com/0/12310/c4b1dd44-7c5a-ac6e-892e-d635b577c735.png)\n\n\u77e5\u3089\u306a\u3044\u4eba\u306e\u305f\u3081\u306b\u3001\u5ff5\u306e\u305f\u3081\u306b\u8a00\u3046\u3068\u3001\u4e94\u6708\u4e94\u65e5\u306e\u4e0a\u306b\u30ab\u30fc\u30bd\u30eb\u3092\u30db\u30d0\u30fc\u3059\u308b\u3068\u3001\u300c\u3053\u3069\u3082\u306e\u65e5\u300d\u3067\u3042\u308b\u3053\u3068\u3092\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u8868\u793a\u3067\u77e5\u3089\u305b\u308b\u3068\u3044\u3046\u3053\u3068\u307e\u3067\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\n## Google Calendar API v3 \u3078\u306e\u5bfe\u5fdc - \u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u5fc5\u8981\n\nGoogle Calendar API \u304c v2 \u304b\u3089 v3 \u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3055\u308c\u3001v2 \u304c\u5ec3\u6b62\u3055\u308c\u305f\u3053\u3068\u306b\u5bfe\u5fdc\u3057\u3066\u3001[GCallendar Holidays](http://0-oo.net/sbox/javascript/google-calendar-holidays) \u306f\u3001\u30b5\u30fc\u30d0\u5074\u3067\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5fc5\u8981\u3068\u3059\u308b\u3082\u306e\u306b\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u3053\u308c\u306f\u3001\u4e3b\u3068\u3057\u3066\u3001v3 \u304b\u3089\u5fc5\u8981\u306b\u306a\u3063\u305f **API \u30ad\u30fc** \u3092 javascript \u3067\u516c\u958b\u3059\u308b\u306e\u306f\u3088\u308d\u3057\u304f\u306a\u3044\u3060\u308d\u3046\u3001\u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4e2d\u306b\u96a0\u3055\u306a\u3051\u308c\u3070\u306a\u308b\u307e\u3044\u3001\u3068\u3044\u3046\u5224\u65ad\u306b\u3088\u308b\u3082\u306e\u3068\u63a8\u6e2c\u3057\u307e\u3059\u3002\n\n\u3057\u304b\u3057\u3001\u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u3053\u3068\u3067\u3001GCalendar Holidays \u306e\u7f8e\u70b9\u3067\u3042\u3063\u305f **\u624b\u8efd\u3055** \u304c\u5931\u308f\u308c\u305f\u3053\u3068\u306f\u4e8b\u5b9f\u3067\u3059\u3002\n\n## \u5272\u308a\u5207\u3063\u3066\u3001jui Datepicker \u5c02\u7528\u306b\u6539\u9020\u3057\u305f\n\n\u5143\u6765\u3001GCalendar Holidays \u306f\u3001\u65e5\u672c\u306e\u795d\u65e5\u3092\u53d6\u5f97\u3059\u308b\u3060\u3051\u3067\u306a\u304f\u3001Google Calendar \u306e\u3055\u307e\u3056\u307e\u306a\u30ab\u30ec\u30f3\u30c0\u30fc\u30fb\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u62e1\u5f35\u6027\u3092\u76ee\u6307\u3057\u3066\u4f5c\u3089\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u307e\u305f\u3001jQuery UI Datepicker \u5c02\u7528\u3067\u3082\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u3057\u304b\u3057\u3001\u5c11\u306a\u304f\u3068\u3082\u79c1\u306f\u3001GCalendar Holidays \u3092 jQuery UI Datepicker \u3068\u306e\u7d44\u307f\u5408\u308f\u305b\u4ee5\u5916\u3067\u4f7f\u304a\u3046\u3068\u306f\u601d\u3044\u307e\u305b\u3093\u3002\n\n\u305d\u3053\u3067\u3001\u5272\u308a\u5207\u3063\u3066\u3001jQuery UI Datepicker \u5c02\u7528\u306e\u3001\u624b\u8efd\u306b\u4f7f\u3048\u308b GCalendar Holidays \u306b\u6539\u9020\u3057\u307e\u3057\u305f\u3002**\u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u4e0d\u8981**\u3067\u3059\u3002\u305f\u3060\u3057\u3001**API \u30ad\u30fc\u306f\u3055\u3089\u3051\u51fa\u3057** \u306b\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\n\u4ee5\u4e0b\u306b\u305d\u306e\u30bd\u30fc\u30b9\u3092\u516c\u958b\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u826f\u3051\u308c\u3070\u3001\u81ea\u7531\u306b\u304a\u4f7f\u3044\u304f\u3060\u3055\u3044\u3002\n\n## jui-datepicker-jp-holidays.js\n\n```js\n/**\n *  GCalendar Holidays - Google\u30ab\u30ec\u30f3\u30c0\u30fc\u304b\u3089\u65e5\u672c\u306e\u795d\u65e5\u3092\u53d6\u5f97\n *  @see       http://0-oo.net/sbox/javascript/google-calendar-holidays\n *  @version   0.6.0\n *  @copyright 2008-2014 dgbadmin@gmail.com\n *  @license   http://0-oo.net/pryn/MIT_license.txt (The MIT license)\n */\nvar GCalHolidays = {\n    /** Google Calendar\u304b\u3089\u60c5\u5831\u3092\u53d6\u5f97\u3059\u308bAPI\u306eURL */\n    apiUrl : \"https://www.googleapis.com/calendar/v3/calendars/\",\n    /** \u300c\u65e5\u672c\u306e\u4f11\u65e5\u300d\u30ab\u30ec\u30f3\u30c0\u30fc */\n    calendarId: \"japanese__ja@holiday.calendar.google.com\",\n    /** API key ... \u3042\u306a\u305f\u304c\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b API \u30ad\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068 */\n    apiKey: \"PUT_YOUR_GOOGLE_API_KEY_HERE\",\n    /** jQuery UI Datepicker\u7528\u306estyle\uff08Theme\u306b\u5408\u308f\u305b\u3066\u304a\u597d\u307f\u3067\uff09 */\n    datepickerStyles: {\n        sunday:   \"color: #f00\", //\u65e5\u66dc\u65e5\n        saturday: \"color: #0af\", //\u571f\u66dc\u65e5\n        holiday:  \"color: #f00\"  //\u795d\u65e5\n    }\n};\n\n/**\n *  \u795d\u65e5\u3092\u53d6\u5f97\u3059\u308b\n *  @param  Function    callback    \u30c7\u30fc\u30bf\u53d6\u5f97\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308bfunction\n *  @param  Number      year        \u5e74\n */\nGCalHolidays.get = function(callback, year, month) {\n    //\u65e5\u4ed8\u7bc4\u56f2\n    var start = [year, \"01\", \"01\"].join(\"-\");\n    var end = [year, \"12\", \"31\"].join(\"-\");\n\n    this._caches = (this._caches || {});\n    this._userCallback = callback;\n    this._month = month;\n\n    var cache = this._caches[year];\n\n    if (cache) {    //\u53d6\u5f97\u6e08\u307f\u306e\u5834\u5408\u306f\u305d\u308c\u3092\u4f7f\u3046\n        callback(cache, month);\n        return;\n    }\n\n    //URL\u4f5c\u6210\n    var url = GCalHolidays.apiUrl +\n            encodeURIComponent(GCalHolidays.calendarId) + \"/events\" +\n            \"?key=\" + GCalHolidays.apiKey +\n            \"&timeMin=\" + start + \"T00:00:00.000Z\" +\n            \"&timeMax=\" + end + \"T23:59:59.000Z\" +\n            \"&fields=items(start,summary)\" +\n            \"&callback=GCalHolidays.decode\";\n    // timeMin, timeMax \u306f\u3001\u3053\u306e\u5f62\u5f0f\u3067\u306a\u3044\u3068\u3001\u4f55\u6545\u304b bad request \u306b\u306a\u308b\n    // http://stackoverflow.com/questions/17133777/google-calendar-api-400-error\n\n    //script\u30bf\u30b0\u751f\u6210\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = url;\n    script.charset = \"UTF-8\";\n    document.body.appendChild(script);\n};\n\n/**\n *  JSONP\u306b\u3088\u308aGoogle Calendar API\u7d4c\u7531\u3067\u547c\u3073\u51fa\u3055\u308c\u308bfunction\n *  @param  Object  gdata   \u30ab\u30ec\u30f3\u30c0\u30fc\u30c7\u30fc\u30bf\n */\nGCalHolidays.decode = function(gdata) {\n    var days = GCalHolidays._entries2days(gdata.items);\n    if (days.length > 0) { // \u7a7a\u3063\u307d\u306e\u3068\u304d\u3082\u3042\u308b\u305e\n        var year = days[0].year;\n        //\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\n        this._caches[year] = days;\n        //\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\n        this._userCallback(days, this._month);\n    }\n};\n\n/**\n *  JSONP\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u304b\u3089\u65e5\u4ed8\u60c5\u5831\u3092\u53d6\u308a\u51fa\u3059\n *  @param  Array   entries \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\n *  @return Array   \u65e5\u4ed8\u60c5\u5831\uff08year, month, date, title\uff09\n */\nGCalHolidays._entries2days = function(entries) {\n    var days = [];\n    var cnt = 0;\n\n    if (!entries) {\n        return days;\n    }\n\n    //\u65e5\u4ed8\u9806\u306b\u30bd\u30fc\u30c8\n    entries.sort(function(a, b) {\n        return (a.start.date > b.start.date) ? 1 : -1;\n    });\n\n    //\u30b7\u30f3\u30d7\u30eb\u306a\u5668\u306b\u79fb\u3059\n    for (var i = 0, len = entries.length; i < len; i++) {\n        var entry = entries[i];\n        var ymd = entry.start.date.split(\"T\")[0].split(\"-\");\n\n        days[cnt] = { //\u5e74\u6708\u65e5\u306f\u4f7f\u3044\u3084\u3059\u3044\u3088\u3046\u306b\u6570\u5024\u306b\u3059\u308b\n            year: ymd[0] * 1,\n            month: ymd[1] * 1,\n            date: ymd[2] * 1,\n            title: entry.summary\n        };\n        cnt++;\n    }\n    return days;\n};\n\n/**\n *  jQuery UI Datepicker\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u306b\u795d\u65e5\u3092\u8868\u793a\u3059\u308b\n *  @param  Number  year    \u8868\u793a\u3059\u308b\u5e74\n *  @param  Number  month   \u8868\u793a\u3059\u308b\u6708\n *  @param  Object  inst    Datepicker\n *  @see http://jqueryui.com/demos/datepicker/\n */\nGCalHolidays.datepicker = function(year, month, inst) {\n    setTimeout(function() { //\u51e6\u7406\u5f8c\u306b\u5bfe\u8c61\u306ediv\u304c\u518d\u69cb\u7bc9\u3055\u308c\u308b\u30b1\u30fc\u30b9\u3092\u56de\u907f\n        for (var i = 0, len = (inst.settings.numberOfMonths || 1); i < len; i++) {\n            GCalHolidays.get(function(holidays, mon) {\n                for (var j = 0, len2 = holidays.length; j < len2; j++) {\n                    var h = holidays[j];\n                    if (h.month > mon + 1) {\n                        break; // \u76ee\u7684\u306e\u6708\uff08\u3068\u305d\u306e\u6b21\u306e\u6708\uff09\u304c\u65e2\u306b\u904e\u304e\u305f\n                    }\n                    if (h.month >= mon - 1) {\n                        var s = \"[data-year=\" + h.year + \"][data-month=\" + (h.month - 1) + \"] a\";\n                        inst.dpDiv.find(s).each(function() {\n                            if ($(this).text() == h.date) {\n                                $(this).addClass(\"gcal-holiday\").attr(\"title\", h.title);\n                                return false;\n                            }\n                        });\n                    }\n                    // \u524d\u5f8c\u306e\u6708\u306e\u795d\u65e5\u306b\u3082\u5bfe\u5fdc ... \u305f\u3060\u3057\u30011\u6708\u306812\u6708\u306f\u3001\u5e74\u304c\u5909\u308b\u306e\u3067\u3001\u5bfe\u5fdc\u3067\u304d\u306a\u3044\n                }\n            }, year, month);\n            \n            month++;\n            \n            if (month > 12) {\n                year++;\n                month = 1;\n            }\n        }\n    }, 1);\n};\n\n/**\n *  jQuery UI Datepicker\u304c\u6709\u52b9\u306a\u5834\u5408\u306f\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u3068style\u3092\u30bb\u30c3\u30c8\u3059\u308b\n */\nif (window.$ && $.datepicker && $.datepicker.setDefaults) {\n    $.datepicker.setDefaults({\n        beforeShow: function(input, inst) {\n            var date = $(input).datepicker(\"getDate\") || new Date();\n            GCalHolidays.datepicker(date.getFullYear(), date.getMonth() + 1, inst);\n        },\n        beforeShowDay: function(date) { //\u571f\u65e5\u306eclass\u5c5e\u6027\n            return [true, { 0: \"gcal-sunday\", 6: \"gcal-saturday\" }[date.getDay()] || \"\"];\n        },\n        onChangeMonthYear: GCalHolidays.datepicker\n    });\n\n    $(function() {  //\u30da\u30fc\u30b8\u8868\u793a\u5f8c\u306b\u571f\u65e5\u30fb\u795d\u65e5\u7528\u306estyle\u3092\u30bb\u30c3\u30c8\n        var styles = GCalHolidays.datepickerStyles;\n        var css = \"\";\n        css += \".gcal-sunday   .ui-state-default { \" + styles.sunday + \" } \";\n        css += \".gcal-saturday .ui-state-default { \" + styles.saturday + \" } \";\n        css += \".ui-widget-content .gcal-holiday { \" + styles.holiday + \" }\";\n        $(\"head\").append($('<style type=\"text/css\">' + css + \"</style>\"));\n    });\n}\n```\n### API \u30ad\u30fc\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u3067\u3001\u4e00\u500b\u6240\u3060\u3051\u3001\u4fee\u6b63\u304c\u5fc5\u8981\u306a\u3068\u3053\u308d\u304c\u3042\u308a\u307e\u3059\u3002\n`apiKey: \"PUT_YOUR_GOOGLE_API_KEY_HERE\"` \u306e\u6240\u3060\u3051\u306f\u3001\u3042\u306a\u305f\u304c\u5229\u7528\u3067\u304d\u308b (\u304a\u305d\u3089\u304f\u306f\u3001\u3042\u306a\u305f\u81ea\u8eab\u304c\u53d6\u5f97\u3057\u305f) **API \u30ad\u30fc** \u306b\u7f6e\u304d\u63db\u3048\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\nGoogle Calendar (\u3042\u308b\u3044\u306f\u3001\u4e00\u822c\u306b Google \u306e\u30b5\u30fc\u30d3\u30b9) \u306e API \u30ad\u30fc\u3092\u53d6\u5f97\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u30a6\u30a7\u30d6\u4e0a\u306b\u3044\u304f\u3089\u3067\u3082\u60c5\u5831\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001[Google API v3 \u3092\u5229\u7528\u3057\u3088\u3046\uff01\u301cAPI\u30ad\u30fc\u306e\u53d6\u5f97\u65b9\u6cd5\u301c](http://hamatte-wataru.com/google_api_key/) \u306a\u3069\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u300c\u8a31\u53ef\u5bfe\u8c61\u30ea\u30d5\u30a1\u30e9\u30fc\u300d\u3092\u9069\u5207\u306b\u8a2d\u5b9a\u3059\u308c\u3070\u3001API \u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u3042\u306a\u305f\u304c\u7ba1\u7406\u3059\u308b\u30b5\u30a4\u30c8\u304b\u3089\u306e\u307f\u306b\u9650\u5b9a\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n"}