{"context": "\n\n\u3056\u3063\u304f\u308a\u8a00\u3046\u3068\n\nTensorFlow\u3067\u306ftensorflow.set_random_seed\u95a2\u6570\u3001\u307e\u305f\u306f\u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306eseed\u5f15\u6570\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nTensorFlow\u306b\u306f\u300c\u30b0\u30e9\u30d5\u30ec\u30d9\u30eb\u300d\u3001\u300c\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u30ec\u30d9\u30eb\u300d\u3068\u547c\u3070\u308c\u308b2\u7a2e\u985e\u306e\u4e71\u6570\u30b7\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u3002\n\u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u3001\u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u3092\u751f\u6210\u3059\u308b\u524d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\n\u80cc\u666f\nTensorFlow\u3067\u6a5f\u68b0\u5b66\u7fd2\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3059\u308b\u6642\u3001\u591a\u304f\u306e\u5834\u5408\u306f\u91cd\u307f\u306e\u521d\u671f\u5316\u306a\u3069\u306b\u7591\u4f3c\u4e71\u6570\uff08\u4ee5\u4e0b\u3001\u5358\u306b\u300c\u4e71\u6570\u300d\uff09\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u76f4\u3059\u5ea6\u306b\u7d50\u679c\u304c\u5909\u5316\u3057\u3066\u3057\u307e\u3044\u3001\u30c7\u30fc\u30bf\u3084\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5909\u66f4\u306b\u3088\u308b\u7d50\u679c\u306e\u5909\u5316\u306a\u306e\u304b\u3001\u4e71\u6570\u306b\u3088\u308b\u7d50\u679c\u306e\u5909\u5316\u306a\u306e\u304b\u533a\u5225\u3067\u304d\u307e\u305b\u3093\u3002\n\u4e71\u6570\u306f\u300c\u30b7\u30fc\u30c9\u300d\uff08seed\u3001\u7a2e\uff09\u3068\u547c\u3070\u308c\u308b\u5024\u306b\u57fa\u3065\u3044\u3066\u751f\u6210\u3055\u308c\u3001\u3053\u306e\u30b7\u30fc\u30c9\u306f\u7279\u306b\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u3042\u308b\u7a0b\u5ea6\u5909\u5316\u3059\u308b\u65e2\u5b9a\u5024\uff08\u591a\u304f\u306e\u5834\u5408\u306f\u6642\u523b\u3084\u30d7\u30ed\u30bb\u30b9ID\uff09\u304c\u4f7f\u308f\u308c\u307e\u3059\u3002\nTensorFlow\u306b\u3082\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u56fa\u5b9a\u3059\u308b\u65b9\u6cd5\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u6319\u52d5\u306b\u5c11\u3057\u60a9\u3093\u3060\u305f\u3081\u3001\u6574\u7406\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nTensorFlow\u4ee5\u5916\u306b\u3082\u3001random\u30e2\u30b8\u30e5\u30fc\u30eb\u3001NumPy\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u304a\u3051\u308b\u4e71\u6570\u30b7\u30fc\u30c9\u306e\u56fa\u5b9a\u306b\u3064\u3044\u3066\u3082\u8ff0\u3079\u307e\u3059\u3002\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\u672c\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u3001\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u57fa\u3065\u3044\u3066\u3044\u307e\u3059\u3002\n\nPython: v3.5.1\nNumPy: v1.11.0\nTensorFlow: v0.9.0rc0\n\n\nrandom\u30e2\u30b8\u30e5\u30fc\u30eb\nPython\u6a19\u6e96\u306erandom\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u306f\u3001random.seed\u95a2\u6570\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\nseed_random.py\nimport random\nrandom.seed(0)\nprint(\"1:\", random.random())\nprint(\"2:\", random.random())\nprint(\"3:\", random.random())\nrandom.seed(0)\nprint(\"4:\", random.random())\nprint(\"5:\", random.random())\nprint(\"6:\", random.random())\n\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5ea6\u3001\u5b9f\u884c\u3059\u308b\u5ea6\u306b\u540c\u3058\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n$ python3 seed_random.py\n1: 0.8444218515250481\n2: 0.7579544029403025\n3: 0.420571580830845\n4: 0.8444218515250481\n5: 0.7579544029403025\n6: 0.420571580830845\n$ python3 seed_random.py\n1: 0.8444218515250481\n2: 0.7579544029403025\n3: 0.420571580830845\n4: 0.8444218515250481\n5: 0.7579544029403025\n6: 0.420571580830845\n$ python3 seed_random.py\n1: 0.8444218515250481\n2: 0.7579544029403025\n3: 0.420571580830845\n4: 0.8444218515250481\n5: 0.7579544029403025\n6: 0.420571580830845\n\n\nNumPy\u30d1\u30c3\u30b1\u30fc\u30b8\nNumPy\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u3001numpy.random.seed\u95a2\u6570\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\nseed_numpy.py\nimport numpy as np\nnp.random.seed(0)\nprint(\"1:\", np.random.rand(3))\nprint(\"2:\", np.random.rand(3))\nprint(\"3:\", np.random.rand(3))\nnp.random.seed(0)\nprint(\"4:\", np.random.rand(3))\nprint(\"5:\", np.random.rand(3))\nprint(\"6:\", np.random.rand(3))\n\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5ea6\u3001\u5b9f\u884c\u3059\u308b\u5ea6\u306b\u540c\u3058\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n$ python3 seed_numpy.py\n1: [ 0.5488135   0.71518937  0.60276338]\n2: [ 0.54488318  0.4236548   0.64589411]\n3: [ 0.43758721  0.891773    0.96366276]\n4: [ 0.5488135   0.71518937  0.60276338]\n5: [ 0.54488318  0.4236548   0.64589411]\n6: [ 0.43758721  0.891773    0.96366276]\n$ python3 seed_numpy.py\n1: [ 0.5488135   0.71518937  0.60276338]\n2: [ 0.54488318  0.4236548   0.64589411]\n3: [ 0.43758721  0.891773    0.96366276]\n4: [ 0.5488135   0.71518937  0.60276338]\n5: [ 0.54488318  0.4236548   0.64589411]\n6: [ 0.43758721  0.891773    0.96366276]\n$ python3 seed_numpy.py\n1: [ 0.5488135   0.71518937  0.60276338]\n2: [ 0.54488318  0.4236548   0.64589411]\n3: [ 0.43758721  0.891773    0.96366276]\n4: [ 0.5488135   0.71518937  0.60276338]\n5: [ 0.54488318  0.4236548   0.64589411]\n6: [ 0.43758721  0.891773    0.96366276]\n\n\nTensorFlow\u30d1\u30c3\u30b1\u30fc\u30b8\nTensorFlow\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u3001tensorflow.set_random_seed\u95a2\u6570\u3001\u307e\u305f\u306f\u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306eseed\u5f15\u6570\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nTensorFlow\u306b\u306f\u300c\u30b0\u30e9\u30d5\u30ec\u30d9\u30eb\u300d\u3001\u300c\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u30ec\u30d9\u30eb\u300d\u3068\u547c\u3070\u308c\u308b2\u7a2e\u985e\u306e\u4e71\u6570\u30b7\u30fc\u30c9\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001\u8a2d\u5b9a\u306e\u9806\u5e8f\u3092\u6c17\u3092\u3064\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u300c\u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u300d\u3001\u300c\u30aa\u30da\u30ec\u30fc\u30bf\u3092\u751f\u6210\u3059\u308b\u524d\u300d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u53c2\u8003: Constants, Sequences, and Random Values - tf.set_random_seed(seed)\n\n\u60f3\u5b9a\u901a\u308a\u306b\u52d5\u4f5c\u3059\u308b\u4f8b\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\nseed_tensorflow1.py\nimport tensorflow as tf\nwith tf.Graph().as_default():\n    tf.set_random_seed(0)\n    rand_op1 = tf.random_normal([3])\n    rand_op2 = tf.random_normal([3], seed=1)\n    print(\"session1\")\n    with tf.Session() as sess1:\n        print(\"op1-1:\", sess1.run(rand_op1))\n        print(\"op1-2:\", sess1.run(rand_op1))\n        print(\"op2-1:\", sess1.run(rand_op2))\n        print(\"op2-2:\", sess1.run(rand_op2))\n    print(\"session2\")\n    with tf.Session() as sess2:\n        print(\"op1-1:\", sess2.run(rand_op1))\n        print(\"op1-2:\", sess2.run(rand_op1))\n        print(\"op2-1:\", sess2.run(rand_op2))\n        print(\"op2-2:\", sess2.run(rand_op2))\n\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n$ python3 seed_tensorflow1.py\nsession1\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\nsession2\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\n$ python3 seed_tensorflow1.py\nsession1\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\nsession2\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\n$ python3 seed_tensorflow1.py\nsession1\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\nsession2\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\n\n\n\n\u671f\u5f85\u901a\u308a\u306b\u52d5\u4f5c\u3057\u306a\u3044\u4f8b1: \u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3059\u308b\u524d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\n\u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3059\u308b\u524d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\nseed_tensorflow2.py\nimport tensorflow as tf\ntf.set_random_seed(0) # \u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3059\u308b\u524d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\nwith tf.Graph().as_default():\n    rand_op1 = tf.random_normal([3])\n    rand_op2 = tf.random_normal([3], seed=1)\n    with tf.Session() as sess1:\n        print(\"op1-1:\", sess1.run(rand_op1))\n        print(\"op1-2:\", sess1.run(rand_op1))\n        print(\"op2-1:\", sess1.run(rand_op2))\n        print(\"op2-2:\", sess1.run(rand_op2))\n\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u30ec\u30d9\u30eb\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308brand_op2\u306f3\u56de\u3068\u3082\u540c\u3058\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001rand_op1\u306f3\u56de\u3068\u3082\u7570\u306a\u308b\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n$ python3 seed_tensorflow2.py\nop1-1: [ 0.22292495  0.67142487  0.80927771]\nop1-2: [-1.11188841  0.57819426  0.19088539]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n$ python3 seed_tensorflow2.py\nop1-1: [-0.96930581  1.48854125  0.52752507]\nop1-2: [ 0.91646689  0.85830265 -0.18069462]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n$ python3 seed_tensorflow2.py\nop1-1: [ 0.79890805  1.35702407 -0.12329593]\nop1-2: [ 1.69212222  0.22590902 -0.73435217]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n\n\n\u671f\u5f85\u901a\u308a\u306b\u52d5\u4f5c\u3057\u306a\u3044\u4f8b2: \u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306e\u751f\u6210\u5f8c\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\n\u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306e\u751f\u6210\u5f8c\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\nseed_tensorflow3.py\nimport tensorflow as tf\nwith tf.Graph().as_default():\n    rand_op1 = tf.random_normal([3])\n    rand_op2 = tf.random_normal([3], seed=1)\n    tf.set_random_seed(0) # \u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306e\u751f\u6210\u5f8c\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\n    with tf.Session() as sess:\n        print(\"op1-1:\", sess.run(rand_op1))\n        print(\"op1-2:\", sess.run(rand_op1))\n        print(\"op2-1:\", sess.run(rand_op2))\n        print(\"op2-2:\", sess.run(rand_op2))\n\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u4e0a\u8a18\u306e\u4f8b\u3068\u540c\u69d8\u3001\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u30ec\u30d9\u30eb\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308brand_op2\u306f3\u56de\u3068\u3082\u540c\u3058\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001rand_op1\u306f3\u56de\u3068\u3082\u7570\u306a\u308b\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n$ python3 seed_tensorflow3.py\nop1-1: [ 0.03802272  1.69988739 -0.59952497]\nop1-2: [ 0.62614048  0.07537607 -1.19501412]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n$ python3 seed_tensorflow3.py\nop1-1: [ 1.02020776  1.70896292  0.45571503]\nop1-2: [-0.46230376 -1.22950804  0.51038951]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n$ python3 seed_tensorflow3.py\nop1-1: [ 1.31134415 -1.12688231  0.1805287 ]\nop1-2: [-0.57391566  0.94440365 -1.07441545]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n\n\n\u305d\u306e\u4ed6\n\u672a\u78ba\u8a8d\u60c5\u5831\u3067\u3059\u304c\u3001GPU\u4e0a\u3067\u52d5\u304b\u3059\u5834\u5408\u306f\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u3082\u540c\u3058\u5024\u306b\u306f\u306a\u3089\u306a\u3044\u3089\u3057\u3044\u3067\u3059\u3002\n\u53c2\u8003: Mention that GPU reductions are nondeterministic in docs \u00b7 Issue #2732 \u00b7 tensorflow/tensorflow\n\n\u8b1d\u8f9e\nTensorFlow\u306b\u95a2\u3059\u308b\u52c9\u5f37\u4f1a\u4ef2\u9593\u3067\u3042\u308b\u5e73\u4e95\u3055\u3093\u304b\u3089\u3068\u3066\u3082\u6709\u76ca\u306a\u60c5\u5831\u3092\u9802\u304d\u307e\u3057\u305f\u3002\n\u3053\u3053\u306b\u611f\u8b1d\u81f4\u3057\u307e\u3059\u3002\n## \u3056\u3063\u304f\u308a\u8a00\u3046\u3068\n\n* TensorFlow\u3067\u306f`tensorflow.set_random_seed`\u95a2\u6570\u3001\u307e\u305f\u306f\u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306e`seed`\u5f15\u6570\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n* TensorFlow\u306b\u306f\u300c\u30b0\u30e9\u30d5\u30ec\u30d9\u30eb\u300d\u3001\u300c\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u30ec\u30d9\u30eb\u300d\u3068\u547c\u3070\u308c\u308b2\u7a2e\u985e\u306e\u4e71\u6570\u30b7\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u3002\n* \u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u3001\u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u3092\u751f\u6210\u3059\u308b\u524d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n## \u80cc\u666f\n\nTensorFlow\u3067\u6a5f\u68b0\u5b66\u7fd2\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3059\u308b\u6642\u3001\u591a\u304f\u306e\u5834\u5408\u306f\u91cd\u307f\u306e\u521d\u671f\u5316\u306a\u3069\u306b\u7591\u4f3c\u4e71\u6570\uff08\u4ee5\u4e0b\u3001\u5358\u306b\u300c\u4e71\u6570\u300d\uff09\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u76f4\u3059\u5ea6\u306b\u7d50\u679c\u304c\u5909\u5316\u3057\u3066\u3057\u307e\u3044\u3001\u30c7\u30fc\u30bf\u3084\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5909\u66f4\u306b\u3088\u308b\u7d50\u679c\u306e\u5909\u5316\u306a\u306e\u304b\u3001\u4e71\u6570\u306b\u3088\u308b\u7d50\u679c\u306e\u5909\u5316\u306a\u306e\u304b\u533a\u5225\u3067\u304d\u307e\u305b\u3093\u3002\n\u4e71\u6570\u306f\u300c\u30b7\u30fc\u30c9\u300d\uff08seed\u3001\u7a2e\uff09\u3068\u547c\u3070\u308c\u308b\u5024\u306b\u57fa\u3065\u3044\u3066\u751f\u6210\u3055\u308c\u3001\u3053\u306e\u30b7\u30fc\u30c9\u306f\u7279\u306b\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u3042\u308b\u7a0b\u5ea6\u5909\u5316\u3059\u308b\u65e2\u5b9a\u5024\uff08\u591a\u304f\u306e\u5834\u5408\u306f\u6642\u523b\u3084\u30d7\u30ed\u30bb\u30b9ID\uff09\u304c\u4f7f\u308f\u308c\u307e\u3059\u3002\nTensorFlow\u306b\u3082\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u56fa\u5b9a\u3059\u308b\u65b9\u6cd5\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u305d\u306e\u6319\u52d5\u306b\u5c11\u3057\u60a9\u3093\u3060\u305f\u3081\u3001\u6574\u7406\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nTensorFlow\u4ee5\u5916\u306b\u3082\u3001random\u30e2\u30b8\u30e5\u30fc\u30eb\u3001NumPy\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u304a\u3051\u308b\u4e71\u6570\u30b7\u30fc\u30c9\u306e\u56fa\u5b9a\u306b\u3064\u3044\u3066\u3082\u8ff0\u3079\u307e\u3059\u3002\n\n## \u30d0\u30fc\u30b8\u30e7\u30f3\n\n\u672c\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u3001\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u57fa\u3065\u3044\u3066\u3044\u307e\u3059\u3002\n\n* Python: v3.5.1\n* NumPy: v1.11.0\n* TensorFlow: v0.9.0rc0\n\n## random\u30e2\u30b8\u30e5\u30fc\u30eb\n\nPython\u6a19\u6e96\u306e`random`\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u306f\u3001`random.seed`\u95a2\u6570\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n```seed_random.py\nimport random\nrandom.seed(0)\nprint(\"1:\", random.random())\nprint(\"2:\", random.random())\nprint(\"3:\", random.random())\nrandom.seed(0)\nprint(\"4:\", random.random())\nprint(\"5:\", random.random())\nprint(\"6:\", random.random())\n```\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5ea6\u3001\u5b9f\u884c\u3059\u308b\u5ea6\u306b\u540c\u3058\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n$ python3 seed_random.py\n1: 0.8444218515250481\n2: 0.7579544029403025\n3: 0.420571580830845\n4: 0.8444218515250481\n5: 0.7579544029403025\n6: 0.420571580830845\n$ python3 seed_random.py\n1: 0.8444218515250481\n2: 0.7579544029403025\n3: 0.420571580830845\n4: 0.8444218515250481\n5: 0.7579544029403025\n6: 0.420571580830845\n$ python3 seed_random.py\n1: 0.8444218515250481\n2: 0.7579544029403025\n3: 0.420571580830845\n4: 0.8444218515250481\n5: 0.7579544029403025\n6: 0.420571580830845\n```\n\n## NumPy\u30d1\u30c3\u30b1\u30fc\u30b8\n\nNumPy\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u3001`numpy.random.seed`\u95a2\u6570\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n```seed_numpy.py\nimport numpy as np\nnp.random.seed(0)\nprint(\"1:\", np.random.rand(3))\nprint(\"2:\", np.random.rand(3))\nprint(\"3:\", np.random.rand(3))\nnp.random.seed(0)\nprint(\"4:\", np.random.rand(3))\nprint(\"5:\", np.random.rand(3))\nprint(\"6:\", np.random.rand(3))\n```\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5ea6\u3001\u5b9f\u884c\u3059\u308b\u5ea6\u306b\u540c\u3058\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n$ python3 seed_numpy.py\n1: [ 0.5488135   0.71518937  0.60276338]\n2: [ 0.54488318  0.4236548   0.64589411]\n3: [ 0.43758721  0.891773    0.96366276]\n4: [ 0.5488135   0.71518937  0.60276338]\n5: [ 0.54488318  0.4236548   0.64589411]\n6: [ 0.43758721  0.891773    0.96366276]\n$ python3 seed_numpy.py\n1: [ 0.5488135   0.71518937  0.60276338]\n2: [ 0.54488318  0.4236548   0.64589411]\n3: [ 0.43758721  0.891773    0.96366276]\n4: [ 0.5488135   0.71518937  0.60276338]\n5: [ 0.54488318  0.4236548   0.64589411]\n6: [ 0.43758721  0.891773    0.96366276]\n$ python3 seed_numpy.py\n1: [ 0.5488135   0.71518937  0.60276338]\n2: [ 0.54488318  0.4236548   0.64589411]\n3: [ 0.43758721  0.891773    0.96366276]\n4: [ 0.5488135   0.71518937  0.60276338]\n5: [ 0.54488318  0.4236548   0.64589411]\n6: [ 0.43758721  0.891773    0.96366276]\n```\n\n## TensorFlow\u30d1\u30c3\u30b1\u30fc\u30b8\n\nTensorFlow\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u3001`tensorflow.set_random_seed`\u95a2\u6570\u3001\u307e\u305f\u306f\u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306e`seed`\u5f15\u6570\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nTensorFlow\u306b\u306f\u300c\u30b0\u30e9\u30d5\u30ec\u30d9\u30eb\u300d\u3001\u300c\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u30ec\u30d9\u30eb\u300d\u3068\u547c\u3070\u308c\u308b2\u7a2e\u985e\u306e\u4e71\u6570\u30b7\u30fc\u30c9\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001\u8a2d\u5b9a\u306e\u9806\u5e8f\u3092\u6c17\u3092\u3064\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u300c\u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u300d\u3001\u300c\u30aa\u30da\u30ec\u30fc\u30bf\u3092\u751f\u6210\u3059\u308b\u524d\u300d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u53c2\u8003: [Constants, Sequences, and Random Values - tf.set_random_seed(seed)](https://www.tensorflow.org/versions/r0.9/api_docs/python/constant_op.html#set_random_seed)\n\n### \u60f3\u5b9a\u901a\u308a\u306b\u52d5\u4f5c\u3059\u308b\u4f8b\n\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n```seed_tensorflow1.py\nimport tensorflow as tf\nwith tf.Graph().as_default():\n    tf.set_random_seed(0)\n    rand_op1 = tf.random_normal([3])\n    rand_op2 = tf.random_normal([3], seed=1)\n    print(\"session1\")\n    with tf.Session() as sess1:\n        print(\"op1-1:\", sess1.run(rand_op1))\n        print(\"op1-2:\", sess1.run(rand_op1))\n        print(\"op2-1:\", sess1.run(rand_op2))\n        print(\"op2-2:\", sess1.run(rand_op2))\n    print(\"session2\")\n    with tf.Session() as sess2:\n        print(\"op1-1:\", sess2.run(rand_op1))\n        print(\"op1-2:\", sess2.run(rand_op1))\n        print(\"op2-1:\", sess2.run(rand_op2))\n        print(\"op2-2:\", sess2.run(rand_op2))\n```\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n```\n$ python3 seed_tensorflow1.py\nsession1\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\nsession2\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\n$ python3 seed_tensorflow1.py\nsession1\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\nsession2\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\n$ python3 seed_tensorflow1.py\nsession1\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\nsession2\nop1-1: [-1.40955448 -0.53668278 -0.56523788]\nop1-2: [-1.07107699  0.4139019   2.29180121]\nop2-1: [ 0.68034536  0.8777824  -0.64773595]\nop2-2: [-1.21607268  0.95542693 -0.16866584]\n\n```\n\n### \u671f\u5f85\u901a\u308a\u306b\u52d5\u4f5c\u3057\u306a\u3044\u4f8b1: \u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3059\u308b\u524d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\n\n\u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3059\u308b\u524d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n```seed_tensorflow2.py\nimport tensorflow as tf\ntf.set_random_seed(0) # \u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3059\u308b\u524d\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\nwith tf.Graph().as_default():\n    rand_op1 = tf.random_normal([3])\n    rand_op2 = tf.random_normal([3], seed=1)\n    with tf.Session() as sess1:\n        print(\"op1-1:\", sess1.run(rand_op1))\n        print(\"op1-2:\", sess1.run(rand_op1))\n        print(\"op2-1:\", sess1.run(rand_op2))\n        print(\"op2-2:\", sess1.run(rand_op2))\n```\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u30ec\u30d9\u30eb\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b`rand_op2`\u306f3\u56de\u3068\u3082\u540c\u3058\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001`rand_op1`\u306f3\u56de\u3068\u3082\u7570\u306a\u308b\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n$ python3 seed_tensorflow2.py\nop1-1: [ 0.22292495  0.67142487  0.80927771]\nop1-2: [-1.11188841  0.57819426  0.19088539]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n$ python3 seed_tensorflow2.py\nop1-1: [-0.96930581  1.48854125  0.52752507]\nop1-2: [ 0.91646689  0.85830265 -0.18069462]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n$ python3 seed_tensorflow2.py\nop1-1: [ 0.79890805  1.35702407 -0.12329593]\nop1-2: [ 1.69212222  0.22590902 -0.73435217]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n```\n\n### \u671f\u5f85\u901a\u308a\u306b\u52d5\u4f5c\u3057\u306a\u3044\u4f8b2: \u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306e\u751f\u6210\u5f8c\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\n\n\u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306e\u751f\u6210\u5f8c\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\n\u5b9f\u9a13\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n```seed_tensorflow3.py\nimport tensorflow as tf\nwith tf.Graph().as_default():\n    rand_op1 = tf.random_normal([3])\n    rand_op2 = tf.random_normal([3], seed=1)\n    tf.set_random_seed(0) # \u4e71\u6570\u30aa\u30da\u30ec\u30fc\u30bf\u306e\u751f\u6210\u5f8c\u306b\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\n    with tf.Session() as sess:\n        print(\"op1-1:\", sess.run(rand_op1))\n        print(\"op1-2:\", sess.run(rand_op1))\n        print(\"op2-1:\", sess.run(rand_op2))\n        print(\"op2-2:\", sess.run(rand_op2))\n```\n\n3\u56de\u5b9f\u884c\u3057\u305f\u5834\u5408\u306e\u7d50\u679c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u4e0a\u8a18\u306e\u4f8b\u3068\u540c\u69d8\u3001\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u30ec\u30d9\u30eb\u3067\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b`rand_op2`\u306f3\u56de\u3068\u3082\u540c\u3058\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001`rand_op1`\u306f3\u56de\u3068\u3082\u7570\u306a\u308b\u5024\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n$ python3 seed_tensorflow3.py\nop1-1: [ 0.03802272  1.69988739 -0.59952497]\nop1-2: [ 0.62614048  0.07537607 -1.19501412]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n$ python3 seed_tensorflow3.py\nop1-1: [ 1.02020776  1.70896292  0.45571503]\nop1-2: [-0.46230376 -1.22950804  0.51038951]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n$ python3 seed_tensorflow3.py\nop1-1: [ 1.31134415 -1.12688231  0.1805287 ]\nop1-2: [-0.57391566  0.94440365 -1.07441545]\nop2-1: [-0.81131822  1.48459876  0.06532937]\nop2-2: [ 0.55171245 -0.13107552 -0.04481386]\n```\n\n### \u305d\u306e\u4ed6\n\n\u672a\u78ba\u8a8d\u60c5\u5831\u3067\u3059\u304c\u3001GPU\u4e0a\u3067\u52d5\u304b\u3059\u5834\u5408\u306f\u4e71\u6570\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u3066\u3082\u540c\u3058\u5024\u306b\u306f\u306a\u3089\u306a\u3044\u3089\u3057\u3044\u3067\u3059\u3002\n\n\u53c2\u8003: [Mention that GPU reductions are nondeterministic in docs \u00b7 Issue #2732 \u00b7 tensorflow/tensorflow](https://github.com/tensorflow/tensorflow/issues/2732)\n\n## \u8b1d\u8f9e\n\nTensorFlow\u306b\u95a2\u3059\u308b\u52c9\u5f37\u4f1a\u4ef2\u9593\u3067\u3042\u308b\u5e73\u4e95\u3055\u3093\u304b\u3089\u3068\u3066\u3082\u6709\u76ca\u306a\u60c5\u5831\u3092\u9802\u304d\u307e\u3057\u305f\u3002\n\u3053\u3053\u306b\u611f\u8b1d\u81f4\u3057\u307e\u3059\u3002\n", "tags": ["TensorFlow", "Python", "\u6a5f\u68b0\u5b66\u7fd2", "MachineLearning", "\u4e71\u6570"]}