{"context": "\n\nAirPrint\u3092\u3057\u305f\u3044\u3002\u3067\u3082\u7121\u7ddaLAN\u304b\u3089\u306f\u30d7\u30ea\u30f3\u30bf\u304c\u898b\u3064\u3051\u3089\u308c\u306a\u3044\n\u25cb\u25cbDC\u3068\u67d0\u6c0f\u304b\u3089\u547c\u3070\u308c\u3066\u3044\u308b\u304a\u5bb6LAN\u3067\u3059\u304c\u3001\n\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u3084\u5bb6\u5ead\u7528\u6a5f\u5668\u306e\u3044\u308b\u7121\u7ddaLAN\u30bb\u30b0\u30e1\u30f3\u30c8\u3068\u3001\n\u691c\u8a3c\u7528\u306e\u30b5\u30fc\u30d0\u3084NW\u6a5f\u5668\u304c\u3054\u308d\u3054\u308d\u3044\u308b\u304a\u4ed5\u4e8bLAN\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\uff12\u3064\u304c\u3042\u308a\u307e\u3059\u3002\nLAN\u30bb\u30b0\u30e1\u30f3\u30c8\u9593\u306b\u306fNetScreen\u304cFirewall\u3068\u3057\u3066\u93ae\u5ea7\u3057\u3066\u304a\u308a\u307e\u3059\u3002\u3002\n\uff08\u3053\u306e\u6642\u70b9\u3067\u7570\u5e38\u30c3\u3066\u8a00\u308f\u306a\u3044\u3067\uff57\uff09\n\u304a\u5bb6LAN: 192.168.11.0/24\n\u4ed5\u4e8bLAN: 192.168.50.0/24\n\u4ed5\u4e8bLAN\u306b\u306fAirPrint\u5bfe\u5fdc\u306e\u30d7\u30ea\u30f3\u30bf\u304c\u3044\u308b\u306e\u3067\u3059\u304c\u3001iPhone\u3084iPad\u304b\u3089\u306f\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u3002\nbonjour\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u306f\u3001\u30d6\u30ed\u30fc\u30c9\u30ad\u30e3\u30b9\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u6295\u3052\u3066\u6b32\u3057\u3044\u30b5\u30fc\u30d3\u30b9\u3092\u81ea\u5206\u304c\u6301\u3063\u3066\u3044\u308c\u3070\u8fd4\u4e8b\u3092\u3059\u308b\u3068\u3044\u3046\u3001\u4ed5\u7d44\u307f\u3067\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u3067bonjour\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3001\u30d7\u30ea\u30f3\u30bf\u306f\u57fa\u672c\u540c\u4e00\u30bb\u30b0\u30e1\u30f3\u30c8\u51fa\u306a\u3044\u3068\u3060\u3081\u306a\u3088\u3046\u3067\u3059\u3002\uff08\u30d7\u30ed\u30c8\u30b3\u30eb\u4f7f\u7528\u4e0a\uff09\n\navahi-daemon\u3092\u521d\u3081\u3066\u4f7f\u3046\u65e5\u304c\nCentOS\u4f7f\u3044\u3067\u9577\u5e74\u3044\u308d\u3044\u308d\u3084\u3063\u3066\u307e\u3059\u304c\u3001\u771f\u3063\u5148\u306b\u7121\u52b9\u306b\u3057\u3066\u3044\u305favahi-daemon\u3055\u3093\u3002\n\u4eca\u56de\u306f\u3058\u3081\u3066\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u304a\u8a66\u3057\u3057\u305f\u5185\u5bb9\u3092\u30e1\u30e2\u3068\u3057\u3066\u307e\u3068\u3081\u307e\u3059\u3002\n\n\u524d\u63d0\u6761\u4ef6\uff1a\n\u30fb\u304a\u5bb6LAN\u3068\u4ed5\u4e8bLAN\u305d\u308c\u305e\u308c\u306b\u8db3\u3092\u3060\u3059\n\u30fbbonjour\u4ee5\u5916\u306f\u4ed5\u4e8b\u3092\u3055\u305b\u306a\u3044(\u5fc5\u8981\u4ee5\u5916\u306fiptables\u3067\u9589\u3058\u308b\uff09\n\u30fbbonjour\u7528VM\u3068\u3057\u3066CentOS6.8\u3092\u5229\u7528\u3057\u305f\n\n1. avahi-daemon\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCentOS\u3092\u57fa\u672c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u5c0e\u5165\u3057\u3066\u3044\u308b\u969b\u306b\u306f\u3060\u3044\u305f\u3044\u6a19\u6e96\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306a\u306e\u3067\u3059\u304c\u3001\n\u81ea\u5206\u306fXenServer\u4e0a\u306bMinimal\u306aCentOS\u30a4\u30e1\u30fc\u30b8\u3092\u3088\u304f\u5229\u7528\u3059\u308b\u305f\u3081\u3001avahi-daemon\u304c\u5165\u3063\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u307e\u305a\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u3002\n# yum install avahi avahi-tools\n\n\n2. iptables\u306e\u8a2d\u5b9a\niptables \u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408 UDP \u30dd\u30fc\u30c8 5353 \u3092\u958b\u304f:\n# iptables -A INPUT -p udp -m udp --dport 5353 -j ACCEPT\n\n\u30b3\u30de\u30f3\u30c9\u884c\u3067\u4e0a\u8a18\u306b\u306a\u308b\u304c\u3001centos\u30c7\u30d5\u30a9\u30eb\u30c8\u306eiptables\u8a2d\u5b9a\u306b\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306f\n# vi /etc/sysconfig/iptables\n\n# Firewall configuration written by system-config-firewall\n# Manual customization of this file is not recommended.\n*filter\n:INPUT ACCEPT [0:0]\n:FORWARD ACCEPT [0:0]\n:OUTPUT ACCEPT [0:0]\n-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n-A INPUT -p icmp -j ACCEPT\n-A INPUT -i lo -j ACCEPT\n-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT\n-A INPUT -p udp -m udp --dport 5353 -j ACCEPT\n-A INPUT -j REJECT --reject-with icmp-host-prohibited\n-A FORWARD -j REJECT --reject-with icmp-host-prohibited\nCOMMIT\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306bREJECT\u306e\u624b\u524d\u306b\n-A INPUT -p udp -m udp --dport 5353 -j ACCEPT\n\n\u3092\u8ffd\u8a18\u3057\u3066\u30b5\u30fc\u30d3\u30b9\u518d\u8d77\u52d5\u3092\u884c\u3046\n# service iptables restart\n\n\n3. avahi-daemon\u3067\u30ea\u30ec\u30fc\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n# cd /etc/avahi\n# vi avahi-daemon.conf\n\n\u5909\u66f4\u524d\n[reflector]\n#enable-reflector=no\n#reflect-ipv=no\n\n\u5909\u66f4\u5f8c\n[reflector]\n#enable-reflector=no\nenable-reflector=yes\n#reflect-ipv=no\n\n\n4. avahi-daemon\u306e\u518d\u8d77\u52d5\n# service avahi-daemon start\n\n\n5. iPhone/iPad\u304b\u3089\u8a66\u3059\nsafari\u3092\u958b\u3044\u3066 iPhone\u304b\u3089\u8a66\u3057\u3066\u307f\u308b\n\nsafari\uff5e\u304b\u3089\u958b\u304f\u3092\u30af\u30ea\u30c3\u30af\n\n\n\u30d7\u30ea\u30f3\u30c8\u3092\u30af\u30ea\u30c3\u30af\n\u203b\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u306f\u4e0b\u6bb5\u3092\u53f3\u3078\u30b9\u30e9\u30a4\u30c9\u3059\u308b\u3068\u51fa\u3066\u304d\u307e\u3059\u3002\n\n\n\u30d7\u30ea\u30f3\u30bf\u3092\u30af\u30ea\u30c3\u30af\n\n\n\u4f7f\u7528\u3057\u305f\u3044\u30d7\u30ea\u30f3\u30bf\u3092\u30af\u30ea\u30c3\u30af\nEPSON \u30b9\u30de\u30fc\u30c8\u30c1\u30e3\u30fc\u30b8\u3067\u3059\u304c\u30fb\u30fb\u30fb\n\n\n\u30d7\u30ea\u30f3\u30c8\u3092\u30af\u30ea\u30c3\u30af\n\n\n\u5370\u5237\u3067\u304d\u307e\u3057\u305f\u304b\uff1f\u3000\u5b8c\u4e86\u3067\u3059\uff01\n# AirPrint\u3092\u3057\u305f\u3044\u3002\u3067\u3082\u7121\u7ddaLAN\u304b\u3089\u306f\u30d7\u30ea\u30f3\u30bf\u304c\u898b\u3064\u3051\u3089\u308c\u306a\u3044\n\n\u25cb\u25cbDC\u3068\u67d0\u6c0f\u304b\u3089\u547c\u3070\u308c\u3066\u3044\u308b\u304a\u5bb6LAN\u3067\u3059\u304c\u3001\n\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u3084\u5bb6\u5ead\u7528\u6a5f\u5668\u306e\u3044\u308b\u7121\u7ddaLAN\u30bb\u30b0\u30e1\u30f3\u30c8\u3068\u3001\n\u691c\u8a3c\u7528\u306e\u30b5\u30fc\u30d0\u3084NW\u6a5f\u5668\u304c\u3054\u308d\u3054\u308d\u3044\u308b\u304a\u4ed5\u4e8bLAN\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\uff12\u3064\u304c\u3042\u308a\u307e\u3059\u3002\n\nLAN\u30bb\u30b0\u30e1\u30f3\u30c8\u9593\u306b\u306fNetScreen\u304cFirewall\u3068\u3057\u3066\u93ae\u5ea7\u3057\u3066\u304a\u308a\u307e\u3059\u3002\u3002\n\uff08\u3053\u306e\u6642\u70b9\u3067\u7570\u5e38\u30c3\u3066\u8a00\u308f\u306a\u3044\u3067\uff57\uff09\n\n\u304a\u5bb6LAN: 192.168.11.0/24\n\u4ed5\u4e8bLAN: 192.168.50.0/24\n\n\u4ed5\u4e8bLAN\u306b\u306fAirPrint\u5bfe\u5fdc\u306e\u30d7\u30ea\u30f3\u30bf\u304c\u3044\u308b\u306e\u3067\u3059\u304c\u3001iPhone\u3084iPad\u304b\u3089\u306f\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u3002\n\nbonjour\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u306f\u3001\u30d6\u30ed\u30fc\u30c9\u30ad\u30e3\u30b9\u30c8\u30d1\u30b1\u30c3\u30c8\u3092\u6295\u3052\u3066\u6b32\u3057\u3044\u30b5\u30fc\u30d3\u30b9\u3092\u81ea\u5206\u304c\u6301\u3063\u3066\u3044\u308c\u3070\u8fd4\u4e8b\u3092\u3059\u308b\u3068\u3044\u3046\u3001\u4ed5\u7d44\u307f\u3067\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u3067bonjour\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3001\u30d7\u30ea\u30f3\u30bf\u306f\u57fa\u672c\u540c\u4e00\u30bb\u30b0\u30e1\u30f3\u30c8\u51fa\u306a\u3044\u3068\u3060\u3081\u306a\u3088\u3046\u3067\u3059\u3002\uff08\u30d7\u30ed\u30c8\u30b3\u30eb\u4f7f\u7528\u4e0a\uff09\n\n# avahi-daemon\u3092\u521d\u3081\u3066\u4f7f\u3046\u65e5\u304c\nCentOS\u4f7f\u3044\u3067\u9577\u5e74\u3044\u308d\u3044\u308d\u3084\u3063\u3066\u307e\u3059\u304c\u3001\u771f\u3063\u5148\u306b\u7121\u52b9\u306b\u3057\u3066\u3044\u305favahi-daemon\u3055\u3093\u3002\n\u4eca\u56de\u306f\u3058\u3081\u3066\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u304a\u8a66\u3057\u3057\u305f\u5185\u5bb9\u3092\u30e1\u30e2\u3068\u3057\u3066\u307e\u3068\u3081\u307e\u3059\u3002\n\n##\u524d\u63d0\u6761\u4ef6\uff1a\n\u30fb\u304a\u5bb6LAN\u3068\u4ed5\u4e8bLAN\u305d\u308c\u305e\u308c\u306b\u8db3\u3092\u3060\u3059\n\u30fbbonjour\u4ee5\u5916\u306f\u4ed5\u4e8b\u3092\u3055\u305b\u306a\u3044(\u5fc5\u8981\u4ee5\u5916\u306fiptables\u3067\u9589\u3058\u308b\uff09\n\u30fbbonjour\u7528VM\u3068\u3057\u3066CentOS6.8\u3092\u5229\u7528\u3057\u305f\n\n## 1. avahi-daemon\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCentOS\u3092\u57fa\u672c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u5c0e\u5165\u3057\u3066\u3044\u308b\u969b\u306b\u306f\u3060\u3044\u305f\u3044\u6a19\u6e96\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306a\u306e\u3067\u3059\u304c\u3001\n\u81ea\u5206\u306fXenServer\u4e0a\u306bMinimal\u306aCentOS\u30a4\u30e1\u30fc\u30b8\u3092\u3088\u304f\u5229\u7528\u3059\u308b\u305f\u3081\u3001avahi-daemon\u304c\u5165\u3063\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u307e\u305a\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304b\u3089\u3002\n\n```shell-session\n# yum install avahi avahi-tools\n```\n\n## 2. iptables\u306e\u8a2d\u5b9a\n\niptables \u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408 UDP \u30dd\u30fc\u30c8 5353 \u3092\u958b\u304f:\n\n```shell-session\n# iptables -A INPUT -p udp -m udp --dport 5353 -j ACCEPT\n```\n\u30b3\u30de\u30f3\u30c9\u884c\u3067\u4e0a\u8a18\u306b\u306a\u308b\u304c\u3001centos\u30c7\u30d5\u30a9\u30eb\u30c8\u306eiptables\u8a2d\u5b9a\u306b\u8ffd\u52a0\u3059\u308b\u5834\u5408\u306f\n\n```shell-session\n# vi /etc/sysconfig/iptables\n```\n\n```\n# Firewall configuration written by system-config-firewall\n# Manual customization of this file is not recommended.\n*filter\n:INPUT ACCEPT [0:0]\n:FORWARD ACCEPT [0:0]\n:OUTPUT ACCEPT [0:0]\n-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n-A INPUT -p icmp -j ACCEPT\n-A INPUT -i lo -j ACCEPT\n-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT\n-A INPUT -p udp -m udp --dport 5353 -j ACCEPT\n-A INPUT -j REJECT --reject-with icmp-host-prohibited\n-A FORWARD -j REJECT --reject-with icmp-host-prohibited\nCOMMIT\n```\n\u4e0a\u8a18\u306e\u3088\u3046\u306bREJECT\u306e\u624b\u524d\u306b\n\n```\n-A INPUT -p udp -m udp --dport 5353 -j ACCEPT\n```\n\u3092\u8ffd\u8a18\u3057\u3066\u30b5\u30fc\u30d3\u30b9\u518d\u8d77\u52d5\u3092\u884c\u3046\n\n```shell-session\n# service iptables restart\n```\n\n\n## 3. avahi-daemon\u3067\u30ea\u30ec\u30fc\u306e\u8a2d\u5b9a\u3092\u884c\u3046\n\n```shell-session\n# cd /etc/avahi\n# vi avahi-daemon.conf\n```\n\n\u5909\u66f4\u524d\n\n```\n[reflector]\n#enable-reflector=no\n#reflect-ipv=no\n```\n\n\u5909\u66f4\u5f8c\n\n```\n[reflector]\n#enable-reflector=no\nenable-reflector=yes\n#reflect-ipv=no\n```\n\n## 4. avahi-daemon\u306e\u518d\u8d77\u52d5\n```shell-session\n# service avahi-daemon start\n```\n\n## 5. iPhone/iPad\u304b\u3089\u8a66\u3059\nsafari\u3092\u958b\u3044\u3066 iPhone\u304b\u3089\u8a66\u3057\u3066\u307f\u308b\n###### safari\uff5e\u304b\u3089\u958b\u304f\u3092\u30af\u30ea\u30c3\u30af\n![1.fw.png](https://qiita-image-store.s3.amazonaws.com/0/126158/5695b92b-78b5-6e92-d89f-9ee940d9398a.png)\n\n###### \u30d7\u30ea\u30f3\u30c8\u3092\u30af\u30ea\u30c3\u30af\n\u203b\u8868\u793a\u3055\u308c\u306a\u3044\u5834\u5408\u306f\u4e0b\u6bb5\u3092\u53f3\u3078\u30b9\u30e9\u30a4\u30c9\u3059\u308b\u3068\u51fa\u3066\u304d\u307e\u3059\u3002\n![2.fw.png](https://qiita-image-store.s3.amazonaws.com/0/126158/f9bc536c-d551-91d0-0070-728e5403d1c2.png)\n\n###### \u30d7\u30ea\u30f3\u30bf\u3092\u30af\u30ea\u30c3\u30af\n![3.fw.png](https://qiita-image-store.s3.amazonaws.com/0/126158/d1d7b411-6a06-7972-e9dc-274dd819774b.png)\n\n###### \u4f7f\u7528\u3057\u305f\u3044\u30d7\u30ea\u30f3\u30bf\u3092\u30af\u30ea\u30c3\u30af\nEPSON \u30b9\u30de\u30fc\u30c8\u30c1\u30e3\u30fc\u30b8\u3067\u3059\u304c\u30fb\u30fb\u30fb\n![4.fw.png](https://qiita-image-store.s3.amazonaws.com/0/126158/01014176-b108-01a1-1c01-b1332f8609ba.png)\n\n\n###### \u30d7\u30ea\u30f3\u30c8\u3092\u30af\u30ea\u30c3\u30af\n![5.fw.png](https://qiita-image-store.s3.amazonaws.com/0/126158/8da8ca9d-f6e9-a5a1-f163-92752276dc44.png)\n\n####\u5370\u5237\u3067\u304d\u307e\u3057\u305f\u304b\uff1f\u3000\u5b8c\u4e86\u3067\u3059\uff01\n", "tags": ["CentOS", "Bonjour", "AirPrint", "iPhone", "iPad"]}