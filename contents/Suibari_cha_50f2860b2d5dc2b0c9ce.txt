{"context": "\n\n\u76ee\u7684\n\u3000\u524d\u56de\u8a18\u4e8b\u3067\u3001\u300cTwitter\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306a\u5f62\u614b\u7d20\u89e3\u6790\u7d50\u679c\u96c6\u8a08\u300d\u3092\u76ee\u6a19\u3068\u3057\u3066\u6319\u3052\u307e\u3057\u305f\u3002\u3053\u306e\u9014\u4e2d\u7d4c\u904e\u306b\u3064\u3044\u3066\u5831\u544a\u3057\u307e\u3059\u3002\n\n\u7d50\u8ad6\n\u3000Twitter\u91ce\u7403\u5b9f\u6cc1\u3092\u5f62\u614b\u7d20\u89e3\u6790(\u54c1\u8a5e\u6bce\u306b\u5206\u89e3)\u3057\u3001\u30c1\u30fc\u30e0\u6bce\u306b\u96c6\u8a08\u3067\u304d\u307e\u3057\u305f\u3002\n\u3000\u52d5\u4f5c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\n\u5f62\u614b\u7d20\u89e3\u6790\u3002 pic.twitter.com/H65mETOz0W\u2014 \u3059\u3044\u3070\u308a@'16\u5e74\u5ea69\u8a66\u54082\u52dd2\u6557 (@Suibari_cha) 2017\u5e742\u670819\u65e5\n\n\n\u5185\u5bb9\n\u3000\u51e6\u7406\u306f\u4ee5\u4e0b\u306e\u6d41\u308c\u3067\u3059\u3002\n\nTwitterStreamingAPI\u304b\u3089\u91ce\u7403\u95a2\u9023\u30c4\u30a4\u30fc\u30c8\u3092\u62fe\u3046\n\n\u30c4\u30a4\u30fc\u30c8\u306b\u3069\u306e\u30c1\u30fc\u30e0\u306e\u30ef\u30fc\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b\u5224\u5b9a\n\n\u5f62\u614b\u7d20\u89e3\u6790\u3092\u884c\u3044\u30012\u3067\u5224\u5b9a\u3057\u305f\u30c1\u30fc\u30e0(\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\u306b\u7d50\u679c\u3092\u52a0\u7b97\n\n\u4ee5\u964d\u30011\u306e\u5ea6\u306b2\uff5e3\u7e70\u308a\u8fd4\u3057\n\n\n\u30b3\u30fc\u30c9\n// \u5f62\u614b\u7d20\u89e3\u6790\u30af\u30ed\u30fc\u30b8\u30e3\nfunction analyzeString() {\n  const INDEX_WORD     = 0;\n  const INDEX_WORDTYPE = 1;\n  var result = {};\n  for (key in q_json) result[key] = {};\n\n  return function(text, cheer_teams) {\n    mcb.parse(text, function(err, arr_words){\n      if (err) throw err;\n      arr_words.forEach(function(val, idx, arr){\n        if (val[INDEX_WORDTYPE] == \"\u540d\u8a5e\" ||\n            val[INDEX_WORDTYPE] == \"\u56fa\u6709\u540d\u8a5e\") {\n          var word = val[INDEX_WORD];\n          if (checkJa(word)) {\n            for (var i = 0; i < cheer_teams.length; i++) {\n              // result\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u305d\u306e\u8a00\u8449\u304c\u3042\u308b\u304b\uff1f\n              if (result[cheer_teams[i]][word] != undefined) {\n                // \u8a00\u8449\u304c\u3042\u308b\u306e\u3067\u52a0\u7b97\u3059\u308b\n                result[cheer_teams[i]][word] += 1;\n              } else {\n                // \u8a00\u8449\u304c\u306a\u3044\u306e\u3067\u8ffd\u8a18\n                result[cheer_teams[i]][word]  = 1;\n              }\n            }\n          }\n        }\n      });\n      var arr = [];\n      arr_words.forEach( function(value, index, array){\n        arr.push(value[0]);\n      });\n      console.log(\"words: \" + arr);\n      console.log('elements: ' + arr_words.length + ' words');\n      console.log(result);\n    });\n  }\n\n  function checkJa(str) {\n    var isJapanese = false;\n\n    for(var i=0; i < str.length; i++){\n      if(str.charCodeAt(i) >= 256) {\n        return isJapanese = true;\n      }\n    }\n  }\n}\n\n\nMeCab\u306e\u9078\u5b9a\u7406\u7531\n\u3000\u5f53\u521d\u306f\u5f62\u614b\u7d20\u89e3\u6790\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u306fMeCab\u3067\u306a\u304fkuromoji\u3092\u4f7f\u3046\u3064\u3082\u308a\u3067\u3057\u305f\u3002\n\u3000\u3057\u304b\u3057\u3001\u4e00\u5ea6\u306e\u89e3\u6790\u306b0.5\u79d2\u5f37\u307b\u3069\u6642\u9593\u304c\u304b\u304b\u308a\u3001\u8981\u4ef6\u3067\u3042\u308bTwitter\u5b9f\u6cc1\u306b\u8ffd\u5f93\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f(\u30e1\u30e2\u30ea\u30ea\u30fc\u30af\u3057node\u304c\u5f37\u5236\u7d42\u4e86\u3057\u3066\u3057\u307e\u3046)\u3002\n\u3000\u3088\u3063\u3066MeCab\u306e\u975e\u540c\u671f\u89e3\u6790\u30e2\u30b8\u30e5\u30fc\u30eb(mecab-async)\u3092\u9078\u5b9a\u3057\u307e\u3057\u305f\u3002\n\u3000\u540c\u69d8\u306e\u73fe\u8c61\u306b\u3042\u308f\u308c\u305f\u65b9\u306e\u89e3\u6c7a\u306e\u305f\u3081\u306b\u3001\u30a8\u30e9\u30fc\u30ed\u30b0\u3092\u8a18\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002\nFeb 16 22:43:09 localhost kernel: Out of memory: Kill process 17191 (node) score 913 or sacrifice child\nFeb 16 22:43:09 localhost kernel: Killed process 17191, UID 500, (node) total-vm:2266088kB, anon-rss:381672kB, file-rss:76kBFeb 16 22:43:09 localhost kernel: node: page allocation failure. order:0, mode:0x280da\n\n\n\n\u5c55\u671b\n\nMeCab\u30c7\u30d5\u30a9\u30eb\u30c8\u306eIPA\u8f9e\u66f8\u3067\u306f\u3001\u5f53\u7136\u3001\u91ce\u7403\u9078\u624b\u540d\u3092\u9069\u5207\u306b\u89e3\u6790\u3067\u304d\u306a\u3044(\"\u5927\u8c37\u7fd4\u5e73\"\u2192[\"\u5927\u8c37\",\"\u7fd4\",\"\u5e73\"]\u3068\u306a\u308b\u3002[\"\u5927\u8c37\u7fd4\u5e73\"]\u3068\u89e3\u6790\u3057\u3066\u6b32\u3057\u3044)\u3002MeCab\u3067\u306f\u30e6\u30fc\u30b6\u8f9e\u66f8\u8ffd\u52a0\u3082\u53ef\u80fd\u306a\u306e\u3067\u3001\u91ce\u7403\u9078\u624b\u306e\u300c\u30d5\u30eb\u30cd\u30fc\u30e0+\u8aad\u307f\u300d\u300c\u82d7\u5b57+\u8aad\u307f\u300d\u306e\u8f9e\u66f8\u30d5\u30a1\u30a4\u30eb\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u7b49\u3057\u3066\u4f5c\u308d\u3046\u304b\u691c\u8a0e\u4e2d\u3002\u2192\u5c0e\u5165\u3057\u307e\u3057\u305f\n\n\n\u524d\u56de\u8a18\u4e8b\u540c\u69d8\u306b\u3001Socket.io\u3067\u96c6\u8a08\u7d50\u679c\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u8ee2\u9001\u3057\u3066\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u7d50\u679c\u3092\u56f3\u3067\u793a\u3059\u306e\u3082\u826f\u3055\u305d\u3046\u3002\u2192D3.js\u3092\u5c0e\u5165\u3057\u307e\u3057\u305f\n\n\n\n\u53c2\u8003\n\n\nQiita: \"\u7d9a\u30fbnode.js \u3067\u793e\u4f1a\u6027\u30d5\u30a3\u30eb\u30bf\u30fc\" @albno273 \u6c0f\n\nGitHub: \"node-mecab-async\" @hecomi \u6c0f\n\n# \u76ee\u7684\n\u3000[\u524d\u56de\u8a18\u4e8b](http://qiita.com/Suibari_cha/items/2589004e85999c6c5ed1)\u3067\u3001\u300cTwitter\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306a\u5f62\u614b\u7d20\u89e3\u6790\u7d50\u679c\u96c6\u8a08\u300d\u3092\u76ee\u6a19\u3068\u3057\u3066\u6319\u3052\u307e\u3057\u305f\u3002\u3053\u306e\u9014\u4e2d\u7d4c\u904e\u306b\u3064\u3044\u3066\u5831\u544a\u3057\u307e\u3059\u3002\n\n# \u7d50\u8ad6\n\u3000**Twitter\u91ce\u7403\u5b9f\u6cc1\u3092\u5f62\u614b\u7d20\u89e3\u6790(\u54c1\u8a5e\u6bce\u306b\u5206\u89e3)\u3057\u3001\u30c1\u30fc\u30e0\u6bce\u306b\u96c6\u8a08\u3067\u304d\u307e\u3057\u305f\u3002**\n\u3000\u52d5\u4f5c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\n\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">\u5f62\u614b\u7d20\u89e3\u6790\u3002 <a href=\"https://t.co/H65mETOz0W\">pic.twitter.com/H65mETOz0W</a></p>&mdash; \u3059\u3044\u3070\u308a@&#39;16\u5e74\u5ea69\u8a66\u54082\u52dd2\u6557 (@Suibari_cha) <a href=\"https://twitter.com/Suibari_cha/status/833282868017192960\">2017\u5e742\u670819\u65e5</a></blockquote>\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n\n# \u5185\u5bb9\n\u3000\u51e6\u7406\u306f\u4ee5\u4e0b\u306e\u6d41\u308c\u3067\u3059\u3002\n\n1. TwitterStreamingAPI\u304b\u3089**\u91ce\u7403\u95a2\u9023\u30c4\u30a4\u30fc\u30c8\u3092\u62fe\u3046**\n2. \u30c4\u30a4\u30fc\u30c8\u306b**\u3069\u306e\u30c1\u30fc\u30e0\u306e\u30ef\u30fc\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b**\u5224\u5b9a\n3. **\u5f62\u614b\u7d20\u89e3\u6790**\u3092\u884c\u3044\u30012\u3067\u5224\u5b9a\u3057\u305f\u30c1\u30fc\u30e0(\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\u306b**\u7d50\u679c\u3092\u52a0\u7b97**\n4. \u4ee5\u964d\u30011\u306e\u5ea6\u306b2\uff5e3\u7e70\u308a\u8fd4\u3057\n\n## \u30b3\u30fc\u30c9\n\n```js\n// \u5f62\u614b\u7d20\u89e3\u6790\u30af\u30ed\u30fc\u30b8\u30e3\nfunction analyzeString() {\n  const INDEX_WORD     = 0;\n  const INDEX_WORDTYPE = 1;\n  var result = {};\n  for (key in q_json) result[key] = {};\n  \n  return function(text, cheer_teams) {\n    mcb.parse(text, function(err, arr_words){\n      if (err) throw err;\n      arr_words.forEach(function(val, idx, arr){\n        if (val[INDEX_WORDTYPE] == \"\u540d\u8a5e\" ||\n            val[INDEX_WORDTYPE] == \"\u56fa\u6709\u540d\u8a5e\") {\n          var word = val[INDEX_WORD];\n          if (checkJa(word)) {\n            for (var i = 0; i < cheer_teams.length; i++) {\n              // result\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u305d\u306e\u8a00\u8449\u304c\u3042\u308b\u304b\uff1f\n              if (result[cheer_teams[i]][word] != undefined) {\n                // \u8a00\u8449\u304c\u3042\u308b\u306e\u3067\u52a0\u7b97\u3059\u308b\n                result[cheer_teams[i]][word] += 1;\n              } else {\n                // \u8a00\u8449\u304c\u306a\u3044\u306e\u3067\u8ffd\u8a18\n                result[cheer_teams[i]][word]  = 1;\n              }\n            }\n          }\n        }\n      });\n      var arr = [];\n      arr_words.forEach( function(value, index, array){\n        arr.push(value[0]);\n      });\n      console.log(\"words: \" + arr);\n      console.log('elements: ' + arr_words.length + ' words');\n      console.log(result);\n    });\n  }\n  \n  function checkJa(str) {\n    var isJapanese = false;\n    \n    for(var i=0; i < str.length; i++){\n      if(str.charCodeAt(i) >= 256) {\n        return isJapanese = true;\n      }\n    }\n  }\n}\n```\n\n## MeCab\u306e\u9078\u5b9a\u7406\u7531\n\u3000\u5f53\u521d\u306f\u5f62\u614b\u7d20\u89e3\u6790\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u306fMeCab\u3067\u306a\u304fkuromoji\u3092\u4f7f\u3046\u3064\u3082\u308a\u3067\u3057\u305f\u3002\n\u3000\u3057\u304b\u3057\u3001**\u4e00\u5ea6\u306e\u89e3\u6790\u306b0.5\u79d2\u5f37\u307b\u3069\u6642\u9593\u304c\u304b\u304b\u308a\u3001\u8981\u4ef6\u3067\u3042\u308bTwitter\u5b9f\u6cc1\u306b\u8ffd\u5f93\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f**(\u30e1\u30e2\u30ea\u30ea\u30fc\u30af\u3057node\u304c\u5f37\u5236\u7d42\u4e86\u3057\u3066\u3057\u307e\u3046)\u3002\n\u3000\u3088\u3063\u3066MeCab\u306e\u975e\u540c\u671f\u89e3\u6790\u30e2\u30b8\u30e5\u30fc\u30eb(mecab-async)\u3092\u9078\u5b9a\u3057\u307e\u3057\u305f\u3002\n\u3000\u540c\u69d8\u306e\u73fe\u8c61\u306b\u3042\u308f\u308c\u305f\u65b9\u306e\u89e3\u6c7a\u306e\u305f\u3081\u306b\u3001\u30a8\u30e9\u30fc\u30ed\u30b0\u3092\u8a18\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```vim\nFeb 16 22:43:09 localhost kernel: Out of memory: Kill process 17191 (node) score 913 or sacrifice child\nFeb 16 22:43:09 localhost kernel: Killed process 17191, UID 500, (node) total-vm:2266088kB, anon-rss:381672kB, file-rss:76kBFeb 16 22:43:09 localhost kernel: node: page allocation failure. order:0, mode:0x280da\n\n```\n\n# \u5c55\u671b\n1. MeCab\u30c7\u30d5\u30a9\u30eb\u30c8\u306eIPA\u8f9e\u66f8\u3067\u306f\u3001\u5f53\u7136\u3001\u91ce\u7403\u9078\u624b\u540d\u3092\u9069\u5207\u306b\u89e3\u6790\u3067\u304d\u306a\u3044(\"\u5927\u8c37\u7fd4\u5e73\"\u2192*[\"\u5927\u8c37\",\"\u7fd4\",\"\u5e73\"]*\u3068\u306a\u308b\u3002*[\"\u5927\u8c37\u7fd4\u5e73\"]*\u3068\u89e3\u6790\u3057\u3066\u6b32\u3057\u3044)\u3002MeCab\u3067\u306f\u30e6\u30fc\u30b6\u8f9e\u66f8\u8ffd\u52a0\u3082\u53ef\u80fd\u306a\u306e\u3067\u3001\u91ce\u7403\u9078\u624b\u306e\u300c\u30d5\u30eb\u30cd\u30fc\u30e0+\u8aad\u307f\u300d\u300c\u82d7\u5b57+\u8aad\u307f\u300d\u306e\u8f9e\u66f8\u30d5\u30a1\u30a4\u30eb\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u7b49\u3057\u3066\u4f5c\u308d\u3046\u304b\u691c\u8a0e\u4e2d\u3002\u2192[\u5c0e\u5165\u3057\u307e\u3057\u305f](http://qiita.com/Suibari_cha/items/aeeb3fb07b94207c1ff3)\n2. [\u524d\u56de\u8a18\u4e8b](http://qiita.com/Suibari_cha/items/2589004e85999c6c5ed1)\u540c\u69d8\u306b\u3001Socket.io\u3067\u96c6\u8a08\u7d50\u679c\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u8ee2\u9001\u3057\u3066\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u7d50\u679c\u3092\u56f3\u3067\u793a\u3059\u306e\u3082\u826f\u3055\u305d\u3046\u3002\u2192[D3.js\u3092\u5c0e\u5165\u3057\u307e\u3057\u305f](http://qiita.com/Suibari_cha/items/d30d7e5068775a591859)\n\n# \u53c2\u8003\n1. [Qiita: \"\u7d9a\u30fbnode.js \u3067\u793e\u4f1a\u6027\u30d5\u30a3\u30eb\u30bf\u30fc\"](http://qiita.com/albno273/items/bcaf836a213b0f8d3add) @albno273 \u6c0f\n2. [GitHub: \"node-mecab-async\"](https://github.com/hecomi/node-mecab-async) @hecomi \u6c0f\n", "tags": ["Node.js", "\u5f62\u614b\u7d20\u89e3\u6790", "mecab", "Twitter"]}