{"context": " More than 1 year has passed since last update.\n\nAngularJS\u3067\u4e0a\u624b\u306b\u8907\u6570\u306e$resource\u306e\u7d50\u679c\u3092\u53d7\u3051\u53d6\u308a\u305f\u3044\n\u753b\u9762\u306b\u8a73\u7d30\u60c5\u5831\u3068\u30d7\u30eb\u30c0\u30a6\u30f3\u9805\u76ee\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306a\u753b\u9762\u304c\u3042\u3063\u3066\u3001\u3053\u306e\u3088\u3046\u306a\u60c5\u5831\u3092\u53d6\u3063\u3066\u304f\u308b\u30b5\u30fc\u30d3\u30b9\u304c\u3042\u3063\u305f\u5834\u5408\u3001\nangular.module('app')\n  .factory('service', ['$resource', function ($resource) {\n    return {\n      /** DB\u304b\u3089\u30d7\u30eb\u30c0\u30a6\u30f3\u9805\u76ee\u306e\u5185\u5bb9\u3092\u53d6\u5f97 */\n      item: $resource('/api/item/:key', {key: '@key'}),\n      /** DB\u304b\u3089\u8a73\u7d30\u60c5\u5831\u3092\u53d6\u5f97 */\n      detail: $resource('/api/detail/:detailId', {key: '@detailId'})\n    };\n  }]);\n\n$q.all()\u3092\u4f7f\u3046\u3053\u3068\u3067\u8907\u6570\u306ePromise\u3092\u5f85\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n$q.all([service.detail.get({detailId: $routeParams.detailId}).$promise,\n        service.item.get({key: '00001'}).$promise,\n        service.item.get({key: '00002'}).$promise])\n  .then(function (result) {\n    // \u8a73\u7d30\u60c5\u5831\n    $scope.detail = result[0];\n    // \u7533\u8acb\u53ef\u5426\uff08\u30d7\u30eb\u30c0\u30a6\u30f3\uff09\n    $scope.okngList = result[1];\n    // \u53ef\u5426\u7406\u7531\uff08\u30d7\u30eb\u30c0\u30a6\u30f3\uff09\n    $scope.applyReasonList = result[2];\n\n    $scope.loading = false;\n  });\n\nthen\u306b\u6e21\u3059function\u306e\u5f15\u6570\u306b$q.all()\u306b\u6e21\u3057\u305fpromise\u306e\u7d50\u679c\u304c\u5165\u3063\u3066\u304f\u308b\u306e\u3067\u3001\u53d6\u308a\u51fa\u3059\u3060\u3051\u3067\u3059\u3002\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\n\n\n\u53c2\u8003\nhttps://docs.angularjs.org/api/ng/service/$q\nhttps://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Promise\n# AngularJS\u3067\u4e0a\u624b\u306b\u8907\u6570\u306e`$resource`\u306e\u7d50\u679c\u3092\u53d7\u3051\u53d6\u308a\u305f\u3044\n\n\u753b\u9762\u306b\u8a73\u7d30\u60c5\u5831\u3068\u30d7\u30eb\u30c0\u30a6\u30f3\u9805\u76ee\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306a\u753b\u9762\u304c\u3042\u3063\u3066\u3001\u3053\u306e\u3088\u3046\u306a\u60c5\u5831\u3092\u53d6\u3063\u3066\u304f\u308b\u30b5\u30fc\u30d3\u30b9\u304c\u3042\u3063\u305f\u5834\u5408\u3001\n\n```js\nangular.module('app')\n  .factory('service', ['$resource', function ($resource) {\n    return {\n      /** DB\u304b\u3089\u30d7\u30eb\u30c0\u30a6\u30f3\u9805\u76ee\u306e\u5185\u5bb9\u3092\u53d6\u5f97 */\n      item: $resource('/api/item/:key', {key: '@key'}),\n      /** DB\u304b\u3089\u8a73\u7d30\u60c5\u5831\u3092\u53d6\u5f97 */\n      detail: $resource('/api/detail/:detailId', {key: '@detailId'})\n    };\n  }]);\n```\n\n`$q.all()`\u3092\u4f7f\u3046\u3053\u3068\u3067\u8907\u6570\u306ePromise\u3092\u5f85\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```js\n$q.all([service.detail.get({detailId: $routeParams.detailId}).$promise,\n        service.item.get({key: '00001'}).$promise,\n        service.item.get({key: '00002'}).$promise])\n  .then(function (result) {\n    // \u8a73\u7d30\u60c5\u5831\n    $scope.detail = result[0];\n    // \u7533\u8acb\u53ef\u5426\uff08\u30d7\u30eb\u30c0\u30a6\u30f3\uff09\n    $scope.okngList = result[1];\n    // \u53ef\u5426\u7406\u7531\uff08\u30d7\u30eb\u30c0\u30a6\u30f3\uff09\n    $scope.applyReasonList = result[2];\n\n    $scope.loading = false;\n  });\n```\n\n`then`\u306b\u6e21\u3059`function`\u306e\u5f15\u6570\u306b`$q.all()`\u306b\u6e21\u3057\u305fpromise\u306e\u7d50\u679c\u304c\u5165\u3063\u3066\u304f\u308b\u306e\u3067\u3001\u53d6\u308a\u51fa\u3059\u3060\u3051\u3067\u3059\u3002\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\n\n\n---\n## \u53c2\u8003\nhttps://docs.angularjs.org/api/ng/service/$q\nhttps://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Promise\n", "tags": ["AngularJS", "promise"]}