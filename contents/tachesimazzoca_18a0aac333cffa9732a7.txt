{"context": " More than 1 year has passed since last update.\nDropwizard\nJersey 1.18 User Guide\n\n\nHello World\nJersey-1.x \u3067\u306e Hello World \u3067\u3059\u3002\n\nsrc/main/java/app/resources/AppResource.java\npackage app.resources;\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.*;\n\n@Path(\"/\")\npublic class AppResource {\n    private final String message;\n\n    public AppResource() {\n        message = \"Hello World!\";\n    }\n\n    public AppResource(String message) {\n        this.message = message;\n    }\n\n    @GET\n    @Path(\"hello\")\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response hello() {\n        return Response.ok(message).build();\n    }\n}\n\n\n\nsrc/main/java/app/AppResourceConfig.java\npackage app;\n\nimport com.sun.jersey.api.core.PackagesResourceConfig;\n\npublic class AppResourceConfig extends PackagesResourceConfig {\n    public AppResourceConfig() {\n        super(\"app.resources\");\n    }\n}\n\n\n\nweb.xml\n<web-app>\n  <filter>\n     <filter-name>Jersey Web Application</filter-name>\n     <filter-class>com.sun.jersey.spi.container.servlet.ServletContainer</filter-class>\n     <init-param>\n         <param-name>javax.ws.rs.Application</param-name>\n         <param-value>app.AppResourceConfig</param-value>\n     </init-param>\n   </filter>\n   <filter-mapping>\n     <filter-name>Jersey Web Application</filter-name>\n     <url-pattern>/*</url-pattern>\n   </filter-mapping>\n</web-app>\n\n\n\npom.xml\n...\n<properties>\n  <jersey.version>1.18.1</jersey.version>\n  ...\n</properties>\n<dependencies>\n  <dependency>\n    <groupId>com.sun.jersey</groupId>\n    <artifactId>jersey-server</artifactId>\n    <version>${jersey.version}</version>\n  </dependency>\n  <dependency>\n    <groupId>com.sun.jersey</groupId>\n    <artifactId>jersey-servlet</artifactId>\n    <version>${jersey.version}</version>\n  </dependency>\n  ...\n</dependencies>\n...\n\n\n\nResourceConfig\nPackagesResourceConfig \u3092\u4f7f\u3048\u3070\u3001\u6307\u5b9a\u30d1\u30c3\u30b1\u30fc\u30b8\u5185\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u307e\u3068\u3081\u3066\u8aad\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u5f15\u6570\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u4ee3\u308f\u308a\u306b ScanningResourceConfig \u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5185\u3067 getSingleton \u3067\u7ba1\u7406\u4e0b\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u30ea\u30bd\u30fc\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nAppResourceConfig.java\npackage app;\n\nimport com.sun.jersey.api.core.ScanningResourceConfig;\n\nimport app.resources.AppResource;\n\npublic class AppResourceConfig extends ScanningResourceConfig {\n    public AppResourceConfig() {\n        getSingleton().add(new AppResource(\"Hello! Created at \" + new java.util.Date()));\n    }\n}\n\n\nDropwizard \u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u65b9\u6cd5\u3067 JerseyEnvironment#register \u3067\u30ea\u30bd\u30fc\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u304c\u3001\u7d50\u679c\u7684\u306b\u306f ScanningResourceConfig \u3092\u7d99\u627f\u3057\u305f  DropwizardResourceConfig \u3092\u7d4c\u7531\u3057\u3066\u3001\u540c\u3058\u65b9\u6cd5\u3067\u8ffd\u52a0\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n@Override\npublic void run(HelloConfiguration config,\n                Environment environment) {\n    HelloService helloService = config.getHelloServiceFactory.build();\n    environment.jersey().register(new HelloResource(helloService));\n}\n\nDropwizard \u3067\u306f\u3001DI \u30b3\u30f3\u30c6\u30ca\u306b\u983c\u3089\u305a\u306b\u3001\u30b7\u30f3\u30d7\u30eb\u306b\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u3067\u4f9d\u5b58\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u6163\u7fd2\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u767b\u9332\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u304c\u591a\u304f\u306a\u308b\u3068\u4e00\u3064\u4e00\u3064\u66f8\u304f\u306e\u306f\u624b\u9593\u3067\u3059\u304c\u3001\u30ea\u30bd\u30fc\u30b9\u30af\u30e9\u30b9\u304b\u3089\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u95a2\u9023\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u6392\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u5c11\u306a\u304f\u3066\u3059\u307f\u307e\u3059\u3002\n* [Dropwizard](https://dropwizard.github.io/dropwizard/index.html)\n* [Jersey 1.18 User Guide](https://jersey.java.net/documentation/1.18/index.html)\n\n## Hello World\n\nJersey-1.x \u3067\u306e Hello World \u3067\u3059\u3002\n\n```java:src/main/java/app/resources/AppResource.java\npackage app.resources;\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.*;\n\n@Path(\"/\")\npublic class AppResource {\n    private final String message;\n\n    public AppResource() {\n        message = \"Hello World!\";\n    }\n\n    public AppResource(String message) {\n        this.message = message;\n    }\n\n    @GET\n    @Path(\"hello\")\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response hello() {\n        return Response.ok(message).build();\n    }\n}\n```\n```java:src/main/java/app/AppResourceConfig.java\npackage app;\n\nimport com.sun.jersey.api.core.PackagesResourceConfig;\n\npublic class AppResourceConfig extends PackagesResourceConfig {\n    public AppResourceConfig() {\n        super(\"app.resources\");\n    }\n}\n```\n```xml:web.xml\n<web-app>\n  <filter>\n     <filter-name>Jersey Web Application</filter-name>\n     <filter-class>com.sun.jersey.spi.container.servlet.ServletContainer</filter-class>\n     <init-param>\n         <param-name>javax.ws.rs.Application</param-name>\n         <param-value>app.AppResourceConfig</param-value>\n     </init-param>\n   </filter>\n   <filter-mapping>\n     <filter-name>Jersey Web Application</filter-name>\n     <url-pattern>/*</url-pattern>\n   </filter-mapping>\n</web-app>\n```\n```xml:pom.xml\n...\n<properties>\n  <jersey.version>1.18.1</jersey.version>\n  ...\n</properties>\n<dependencies>\n  <dependency>\n    <groupId>com.sun.jersey</groupId>\n    <artifactId>jersey-server</artifactId>\n    <version>${jersey.version}</version>\n  </dependency>\n  <dependency>\n    <groupId>com.sun.jersey</groupId>\n    <artifactId>jersey-servlet</artifactId>\n    <version>${jersey.version}</version>\n  </dependency>\n  ...\n</dependencies>\n...\n```\n\n## ResourceConfig\n\n`PackagesResourceConfig` \u3092\u4f7f\u3048\u3070\u3001\u6307\u5b9a\u30d1\u30c3\u30b1\u30fc\u30b8\u5185\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u307e\u3068\u3081\u3066\u8aad\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u5f15\u6570\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u4ee3\u308f\u308a\u306b `ScanningResourceConfig` \u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5185\u3067 `getSingleton` \u3067\u7ba1\u7406\u4e0b\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u308a\u51fa\u3057\u3066\u3001\u30ea\u30bd\u30fc\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```java:AppResourceConfig.java\npackage app;\n\nimport com.sun.jersey.api.core.ScanningResourceConfig;\n\nimport app.resources.AppResource;\n\npublic class AppResourceConfig extends ScanningResourceConfig {\n    public AppResourceConfig() {\n        getSingleton().add(new AppResource(\"Hello! Created at \" + new java.util.Date()));\n    }\n}\n```\n\nDropwizard \u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u65b9\u6cd5\u3067 `JerseyEnvironment#register` \u3067\u30ea\u30bd\u30fc\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u304c\u3001\u7d50\u679c\u7684\u306b\u306f `ScanningResourceConfig` \u3092\u7d99\u627f\u3057\u305f  `DropwizardResourceConfig` \u3092\u7d4c\u7531\u3057\u3066\u3001\u540c\u3058\u65b9\u6cd5\u3067\u8ffd\u52a0\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n```java\n@Override\npublic void run(HelloConfiguration config,\n                Environment environment) {\n    HelloService helloService = config.getHelloServiceFactory.build();\n    environment.jersey().register(new HelloResource(helloService));\n}\n```\n\nDropwizard \u3067\u306f\u3001DI \u30b3\u30f3\u30c6\u30ca\u306b\u983c\u3089\u305a\u306b\u3001\u30b7\u30f3\u30d7\u30eb\u306b\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u3067\u4f9d\u5b58\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u6163\u7fd2\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u767b\u9332\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u304c\u591a\u304f\u306a\u308b\u3068\u4e00\u3064\u4e00\u3064\u66f8\u304f\u306e\u306f\u624b\u9593\u3067\u3059\u304c\u3001\u30ea\u30bd\u30fc\u30b9\u30af\u30e9\u30b9\u304b\u3089\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u95a2\u9023\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u6392\u9664\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u5c11\u306a\u304f\u3066\u3059\u307f\u307e\u3059\u3002\n", "tags": ["dropwizard0.7", "jersey1.18", "Java"]}