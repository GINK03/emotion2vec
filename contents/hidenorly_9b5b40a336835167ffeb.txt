{"context": " More than 1 year has passed since last update.\n\nChrome OS \u3068 Brillo\u306e\u95a2\u4fc2\n\u3053\u3053 \u3067\u3001brillo\u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u306b\u306f\u3001Chrome OS\u304b\u3089\u6301\u3063\u3066\u304d\u305f\u3082\u306e\u304c\u3068\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\u305d\u308c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306acommit\u304b\u3089\u3082\u308f\u304b\u308a\u307e\u3059\u3002\nhttps://android.googlesource.com/platform/system/core/+/74dc62460b8cdd5bfeac47bfe8e759fc04b55ef8\n\ncommit.message\nsystem/core: Rename \"chromeos\" -> \"brillo\" in include paths and namespaces\n\nlibchromeos is transitioning to libbrillo and chromeos namespaces\nand include directory is changing to brillo.\n\nBug: 24872993\nChange-Id: I797613a38c7444a113f12e38366a424388477276\n\n\n\ncrash_reporter/crash_collector.cc\n #include <base/strings/string_split.h>\n #include <base/strings/string_util.h>\n #include <base/strings/stringprintf.h>\n-#include <chromeos/key_value_store.h>\n-#include <chromeos/process.h>\n+#include <brillo/key_value_store.h>\n+#include <brillo/process.h>\n\n namespace {\n\n@@ -340,7 +340,7 @@\n bool CrashCollector::GetLogContents(const FilePath &config_path,\n                                     const std::string &exec_name,\n                                     const FilePath &output_file) {\n-  chromeos::KeyValueStore store;\n+  brillo::KeyValueStore store;\n   if (!store.Load(config_path)) \n\n\nhttps://android.googlesource.com/platform/system/core/+/26aef373a66791e69dec8a1a589a3b2f7f971692\n\ncommit.message\ncore: Rename libchromeos into libbrillo\n\nBUG: 24872993\nChange-Id: Ia47ad51140f7e384822eea9d5de46c9f51ceda11\n\n\n\nmetricsd/Android.mk\n  -fvisibility=default\n metrics_includes := external/gtest/include \\\n   $(LOCAL_PATH)/include\n-libmetrics_shared_libraries := libchrome libchromeos\n+libmetrics_shared_libraries := libchrome libbrillo\n metrics_daemon_shared_libraries := $(libmetrics_shared_libraries) \\\n+  libbrillo-http \\\n+  libbrillo-dbus \\\n   libchrome-dbus \\\n-  libchromeos-http \\\n-  libchromeos-dbus \\\n   libdbus \\\n   libmetrics \\\n   libprotobuf-cpp-lite \\\n\n\n\u3053\u3046\u3044\u3046\u306e\u3092\u307f\u3066\u3044\u308b\u3068\u3001OS\u306e\u540d\u524d\u3068\u304b(\u7279\u5b9a\u7528\u9014\u306a\u3082\u306e\u306e\u540d\u524d)\u3092\u6c4e\u7528\u7684\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u3064\u3051\u308b\u3068\u3001\u6d41\u7528\u6027\u304c\u640d\u306a\u308f\u308c\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u306d\u3002\u3002\u3002\n\nbuild time\u5909\u6570\nhttps://android.googlesource.com/platform/system/extras/+/a659ce97b3ee5aac752c827e57dc036c65661ac9\n\nsystem/extras/brillo_config/Android.mk\nAdd an Android.mk to generate build time configuration.\n\nSome build time variables need to be installed on the image. Instead of\nadding those fields in some system services, create a new Android.mk for\nit.\n\n\n\nbrillo\u306ebt service \"bluetoothtbd\"\nhttps://android.googlesource.com/platform/system/bt/+/brillo-m7-dev/service/bluetoothtbd.rc\n\nbluetoothtbd.rc\nservice bluetoothtbd /system/bin/bluetoothtbd\n    class main\n    user bluetooth\n    group system net_bt_admin net_bt_stack\n\n\nhttps://android.googlesource.com/platform/system/bt/+/888f8856774e9628b670da6ba779a36dd6a19ab9/service/Android.mk\n\nAndroid.mk\n# Common variables\n# ========================================================\nbtserviceCommonSrc := \\\n    adapter.cpp \\\n    adapter_state.cpp \\\n    daemon.cpp \\\n    gatt_server.cpp \\\n    hal/bluetooth_interface.cpp \\\n    ipc/ipc_handler.cpp \\\n    ipc/ipc_handler_unix.cpp \\\n    ipc/ipc_manager.cpp \\\n    ipc/unix_ipc_host.cpp \\\n    logging_helpers.cpp \\\n    settings.cpp \\\n    util/atomic_string.cpp \\\n    uuid.cpp\nbtserviceBinderSrc := \\\n    ipc/binder/bluetooth_binder_server.cpp \\\n    ipc/binder/IBluetooth.cpp \\\n    ipc/binder/IBluetoothCallback.cpp \\\n    ipc/binder/ipc_handler_binder.cpp\nbtserviceCommonIncludes := $(LOCAL_PATH)/../\n# Native system service for target\n# ========================================================\ninclude $(CLEAR_VARS)\nLOCAL_SRC_FILES := \\\n    $(btserviceBinderSrc) \\\n    $(btserviceCommonSrc) \\\n    main.cpp\nLOCAL_C_INCLUDES += $(btserviceCommonIncludes)\nLOCAL_CFLAGS += -std=c++11\nLOCAL_MODULE_TAGS := optional\nLOCAL_MODULE := bluetoothtbd\nLOCAL_REQUIRED_MODULES = bluetooth.default\nLOCAL_STATIC_LIBRARIES += libbtcore\nLOCAL_SHARED_LIBRARIES += \\\n    libbinder \\\n    libchrome \\\n    libcutils \\\n    libhardware \\\n    liblog \\\n    libutils\nLOCAL_INIT_RC := bluetoothtbd.rc\ninclude $(BUILD_EXECUTABLE)\n\n\n\u3053\u306e\u3088\u3046\u306b\u3001\u5927\u5909\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u3002\u3057\u304b\u3057\u3001TBD\u3063\u3066\u306a\u3093\u3067\u3057\u3087\u3046\uff1f\uff1f\uff1f\n(\u3053\u3053\u3067\u3082\u3001libchrome\u304c\u30fb\u30fb\u30fb)\n\u3064\u3065\u304f\n# Chrome OS \u3068 Brillo\u306e\u95a2\u4fc2\n\n[\u3053\u3053](http://qiita.com/hidenorly/items/25f4ec043e3bbe9cf1a7#android%E3%81%AE%E3%81%A9%E3%81%93%E3%81%A7seccomp%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%8B) \u3067\u3001brillo\u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u306b\u306f\u3001Chrome OS\u304b\u3089\u6301\u3063\u3066\u304d\u305f\u3082\u306e\u304c\u3068\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\u305d\u308c\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306acommit\u304b\u3089\u3082\u308f\u304b\u308a\u307e\u3059\u3002\n\nhttps://android.googlesource.com/platform/system/core/+/74dc62460b8cdd5bfeac47bfe8e759fc04b55ef8\n\n```commit.message\nsystem/core: Rename \"chromeos\" -> \"brillo\" in include paths and namespaces\n\nlibchromeos is transitioning to libbrillo and chromeos namespaces\nand include directory is changing to brillo.\n\nBug: 24872993\nChange-Id: I797613a38c7444a113f12e38366a424388477276\n```\n\n```crash_reporter/crash_collector.cc\n #include <base/strings/string_split.h>\n #include <base/strings/string_util.h>\n #include <base/strings/stringprintf.h>\n-#include <chromeos/key_value_store.h>\n-#include <chromeos/process.h>\n+#include <brillo/key_value_store.h>\n+#include <brillo/process.h>\n \n namespace {\n \n@@ -340,7 +340,7 @@\n bool CrashCollector::GetLogContents(const FilePath &config_path,\n                                     const std::string &exec_name,\n                                     const FilePath &output_file) {\n-  chromeos::KeyValueStore store;\n+  brillo::KeyValueStore store;\n   if (!store.Load(config_path)) \n```\n\nhttps://android.googlesource.com/platform/system/core/+/26aef373a66791e69dec8a1a589a3b2f7f971692\n\n```commit.message\ncore: Rename libchromeos into libbrillo\n\nBUG: 24872993\nChange-Id: Ia47ad51140f7e384822eea9d5de46c9f51ceda11\n```\n\n```metricsd/Android.mk\n  -fvisibility=default\n metrics_includes := external/gtest/include \\\n   $(LOCAL_PATH)/include\n-libmetrics_shared_libraries := libchrome libchromeos\n+libmetrics_shared_libraries := libchrome libbrillo\n metrics_daemon_shared_libraries := $(libmetrics_shared_libraries) \\\n+  libbrillo-http \\\n+  libbrillo-dbus \\\n   libchrome-dbus \\\n-  libchromeos-http \\\n-  libchromeos-dbus \\\n   libdbus \\\n   libmetrics \\\n   libprotobuf-cpp-lite \\\n```\n\n\u3053\u3046\u3044\u3046\u306e\u3092\u307f\u3066\u3044\u308b\u3068\u3001OS\u306e\u540d\u524d\u3068\u304b(\u7279\u5b9a\u7528\u9014\u306a\u3082\u306e\u306e\u540d\u524d)\u3092\u6c4e\u7528\u7684\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u3064\u3051\u308b\u3068\u3001\u6d41\u7528\u6027\u304c\u640d\u306a\u308f\u308c\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u306d\u3002\u3002\u3002\n\n# build time\u5909\u6570\n\nhttps://android.googlesource.com/platform/system/extras/+/a659ce97b3ee5aac752c827e57dc036c65661ac9\n\n```system/extras/brillo_config/Android.mk\nAdd an Android.mk to generate build time configuration.\n\nSome build time variables need to be installed on the image. Instead of\nadding those fields in some system services, create a new Android.mk for\nit.\n```\n\n# brillo\u306ebt service \"bluetoothtbd\"\n\nhttps://android.googlesource.com/platform/system/bt/+/brillo-m7-dev/service/bluetoothtbd.rc\n\n```bluetoothtbd.rc\nservice bluetoothtbd /system/bin/bluetoothtbd\n    class main\n    user bluetooth\n    group system net_bt_admin net_bt_stack\n```\n\nhttps://android.googlesource.com/platform/system/bt/+/888f8856774e9628b670da6ba779a36dd6a19ab9/service/Android.mk\n\n```Android.mk\n# Common variables\n# ========================================================\nbtserviceCommonSrc := \\\n\tadapter.cpp \\\n\tadapter_state.cpp \\\n\tdaemon.cpp \\\n\tgatt_server.cpp \\\n\thal/bluetooth_interface.cpp \\\n\tipc/ipc_handler.cpp \\\n\tipc/ipc_handler_unix.cpp \\\n\tipc/ipc_manager.cpp \\\n\tipc/unix_ipc_host.cpp \\\n\tlogging_helpers.cpp \\\n\tsettings.cpp \\\n\tutil/atomic_string.cpp \\\n\tuuid.cpp\nbtserviceBinderSrc := \\\n\tipc/binder/bluetooth_binder_server.cpp \\\n\tipc/binder/IBluetooth.cpp \\\n\tipc/binder/IBluetoothCallback.cpp \\\n\tipc/binder/ipc_handler_binder.cpp\nbtserviceCommonIncludes := $(LOCAL_PATH)/../\n# Native system service for target\n# ========================================================\ninclude $(CLEAR_VARS)\nLOCAL_SRC_FILES := \\\n\t$(btserviceBinderSrc) \\\n\t$(btserviceCommonSrc) \\\n\tmain.cpp\nLOCAL_C_INCLUDES += $(btserviceCommonIncludes)\nLOCAL_CFLAGS += -std=c++11\nLOCAL_MODULE_TAGS := optional\nLOCAL_MODULE := bluetoothtbd\nLOCAL_REQUIRED_MODULES = bluetooth.default\nLOCAL_STATIC_LIBRARIES += libbtcore\nLOCAL_SHARED_LIBRARIES += \\\n\tlibbinder \\\n\tlibchrome \\\n\tlibcutils \\\n\tlibhardware \\\n\tliblog \\\n\tlibutils\nLOCAL_INIT_RC := bluetoothtbd.rc\ninclude $(BUILD_EXECUTABLE)\n```\n\n\u3053\u306e\u3088\u3046\u306b\u3001\u5927\u5909\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u3002\u3057\u304b\u3057\u3001TBD\u3063\u3066\u306a\u3093\u3067\u3057\u3087\u3046\uff1f\uff1f\uff1f\n\n(\u3053\u3053\u3067\u3082\u3001libchrome\u304c\u30fb\u30fb\u30fb)\n\n\u3064\u3065\u304f\n\n\n", "tags": ["brillo", "ChromeOS", "bluetooth"]}