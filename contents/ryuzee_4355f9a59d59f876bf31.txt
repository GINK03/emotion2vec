{"context": " More than 1 year has passed since last update.\u6b8b\u5ff5\u306a\u304c\u3089RHEL6.5\u306e\u5834\u5408\u306f\u3001\u6a19\u6e96\u306eyum\u30ec\u30dd\u30b8\u30c8\u30ea\u3067\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306b\u624b\u9806\u3092\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nepel\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u3063\u3066yum\u7d4c\u7531\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nwget http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\nsudo rpm -Uvh epel-release-6-8.noarch.rpm\n\n\u3053\u308c\u3067yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070OK\u3067\u3059\u3002\nyum install fio\n\n\nepel\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u6709\u52b9\u306b\u3057\u306a\u3044\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\n\u76f4\u63a5rpm\u3092\u53d6\u5f97\u3059\u308c\u3070\u826f\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\nrpm -Uvh http://ftp.riken.jp/Linux/fedora/epel/6/x86_64/fio-2.0.13-1.el6.x86_64.rpm\n\n\n\u6027\u80fd\u6e2c\u5b9a\u306e\u65b9\u6cd5\n\u306f\u3058\u3081\u306b\u9069\u5f53\u306aIOPS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306bAttach\u3057\u307e\u3059(\u3053\u3053\u3067\u306f3000iops\u306egp2\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f)\u3002\n\u305d\u306e\u5f8c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u9069\u5f53\u306a\u5834\u6240\u306b\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\nmkfs.ext4 /dev/xvdf\nmount /dev/xvdf /mnt\n\n\u6e2c\u5b9a\u3092\u884c\u3046\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u8907\u6570\u306e\u4f8b\u3092\u8f09\u305b\u3066\u3044\u308b\u306e\u3067\u597d\u304d\u306a\u3082\u306e\u3092\u8a66\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u306a\u304aEBS\u306e\u5834\u5408\u306f\u30e9\u30f3\u30c0\u30e0\u30a2\u30af\u30bb\u30b9\u306b\u6700\u9069\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n# \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u30ea\u30fc\u30c9\u6027\u80fd\u6e2c\u5b9a\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result1.txt --name=sequential-read --rw=read\n\n# \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u30e9\u30a4\u30c8\u6027\u80fd\u6e2c\u5b9a\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result2.txt --name=sequential-write --rw=write\n\n# \u30e9\u30f3\u30c0\u30e0I/O\u6027\u80fd\u6e2c\u5b9a(\u30ea\u30fc\u30c9\u6bd4\u738770%)\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result3.txt --name=random-r70w30 --rw=randrw --rwmixread=70\n\n# \u30e9\u30f3\u30c0\u30e0I/O\u6027\u80fd\u6e2c\u5b9a(\u30ea\u30fc\u30c9\u6bd4\u738730%)\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result4.txt --name=random-r30w70 --rw=randrw --rwmixread=30\n\n# \u30e9\u30f3\u30c0\u30e0I/O\u6027\u80fd\u6e2c\u5b9a(\u30ea\u30fc\u30c9\u6bd4\u73870%)\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result5.txt --name=random-r0w100 --rw=randrw --rwmixread=0\n\n\u5b9f\u884c\u7d50\u679c\u306f\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u3066\u3044\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u3001read\u306eiops\u304c934\u3001write\u306eiops\u304c2197\u3067\u5408\u8a08\u3059\u308b\u3068\u30013131iops\u3068\u306a\u308a\u3001\u30d7\u30ed\u30d3\u30b8\u30e7\u30f3\u3057\u305f3000iops\u3068\u307b\u307c\u540c\u7b49\u306e\u5024\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\nrandom-r30w70: (groupid=0, jobs=16): err= 0: pid=1807: Sat Dec 20 00:40:23 2014\n  read : io=488832KB, bw=14954KB/s, iops=934 , runt= 32689msec\n    slat (usec): min=2 , max=102759 , avg=2699.31, stdev=12009.31\n    clat (usec): min=102 , max=493087 , avg=75671.23, stdev=55478.45\n     lat (usec): min=851 , max=493092 , avg=78370.75, stdev=56711.53\n    clat percentiles (msec):\n     |  1.00th=[   12],  5.00th=[   15], 10.00th=[   16], 20.00th=[   19],\n     | 30.00th=[   43], 40.00th=[   60], 50.00th=[   71], 60.00th=[   81],\n     | 70.00th=[   93], 80.00th=[  112], 90.00th=[  151], 95.00th=[  178],\n     | 99.00th=[  255], 99.50th=[  306], 99.90th=[  379], 99.95th=[  424],\n     | 99.99th=[  482]\n    bw (KB/s)  : min=  179, max= 1912, per=6.27%, avg=937.88, stdev=276.78\n  write: io=1122.4MB, bw=35157KB/s, iops=2197 , runt= 32689msec\n    slat (usec): min=4 , max=103279 , avg=2593.33, stdev=11752.52\n    clat (msec): min=1 , max=493 , avg=79.32, stdev=55.37\n     lat (msec): min=1 , max=507 , avg=81.91, stdev=56.66\n    clat percentiles (msec):\n     |  1.00th=[   12],  5.00th=[   15], 10.00th=[   17], 20.00th=[   20],\n     | 30.00th=[   51], 40.00th=[   65], 50.00th=[   74], 60.00th=[   83],\n     | 70.00th=[   95], 80.00th=[  114], 90.00th=[  155], 95.00th=[  180],\n     | 99.00th=[  255], 99.50th=[  310], 99.90th=[  396], 99.95th=[  429],\n     | 99.99th=[  482]\n    bw (KB/s)  : min=  328, max= 4175, per=6.27%, avg=2204.55, stdev=571.14\n    lat (usec) : 250=0.01%, 500=0.01%, 750=0.01%, 1000=0.01%\n    lat (msec) : 2=0.01%, 4=0.01%, 10=0.39%, 20=22.83%, 50=7.40%\n    lat (msec) : 100=42.79%, 250=25.47%, 500=1.10%\n  cpu          : usr=0.13%, sys=0.17%, ctx=30414, majf=0, minf=388\n  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=99.8%, 32=0.0%, >=64=0.0%\n     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%\n     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.1%, 32=0.0%, 64=0.0%, >=64=0.0%\n     issued    : total=r=30552/w=71827/d=0, short=r=0/w=0/d=0\n\n\n\u6ce8\u610f\u4e8b\u9805\n\u521d\u56de\u306e\u6027\u80fd\u6e2c\u5b9a\u306f\u3001EBS\u304c\u30a6\u30a9\u30fc\u30df\u30f3\u30b0\u3055\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u306e\u3067\u3001\u4f55\u5ea6\u304b\u5b9f\u884c\u3057\u3066\u304b\u3089\u306e\u7d50\u679c\u3092\u63a1\u7528\u3057\u305f\u65b9\u304c\u826f\u3044\u3067\u3059\u3002\n\n\u6b8b\u5ff5\u306a\u304c\u3089RHEL6.5\u306e\u5834\u5408\u306f\u3001\u6a19\u6e96\u306eyum\u30ec\u30dd\u30b8\u30c8\u30ea\u3067\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306b\u624b\u9806\u3092\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n# epel\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u4f7f\u3063\u3066yum\u7d4c\u7531\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```\nwget http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm\nsudo rpm -Uvh epel-release-6-8.noarch.rpm\n```\n\n\u3053\u308c\u3067yum\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308c\u3070OK\u3067\u3059\u3002\n\n```\nyum install fio\n```\n\n# epel\u30ec\u30dd\u30b8\u30c8\u30ea\u3092\u6709\u52b9\u306b\u3057\u306a\u3044\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\n\n\u76f4\u63a5rpm\u3092\u53d6\u5f97\u3059\u308c\u3070\u826f\u3044\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n```\nrpm -Uvh http://ftp.riken.jp/Linux/fedora/epel/6/x86_64/fio-2.0.13-1.el6.x86_64.rpm\n```\n\n# \u6027\u80fd\u6e2c\u5b9a\u306e\u65b9\u6cd5\n\n\u306f\u3058\u3081\u306b\u9069\u5f53\u306aIOPS\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306bAttach\u3057\u307e\u3059(\u3053\u3053\u3067\u306f3000iops\u306egp2\u306e\u30dc\u30ea\u30e5\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f)\u3002\n\u305d\u306e\u5f8c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f5c\u6210\u3057\u9069\u5f53\u306a\u5834\u6240\u306b\u30de\u30a6\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n```\nmkfs.ext4 /dev/xvdf\nmount /dev/xvdf /mnt\n```\n\n\u6e2c\u5b9a\u3092\u884c\u3046\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u8907\u6570\u306e\u4f8b\u3092\u8f09\u305b\u3066\u3044\u308b\u306e\u3067\u597d\u304d\u306a\u3082\u306e\u3092\u8a66\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u306a\u304aEBS\u306e\u5834\u5408\u306f\u30e9\u30f3\u30c0\u30e0\u30a2\u30af\u30bb\u30b9\u306b\u6700\u9069\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n# \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u30ea\u30fc\u30c9\u6027\u80fd\u6e2c\u5b9a\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result1.txt --name=sequential-read --rw=read\n\n# \u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u30e9\u30a4\u30c8\u6027\u80fd\u6e2c\u5b9a\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result2.txt --name=sequential-write --rw=write\n\n# \u30e9\u30f3\u30c0\u30e0I/O\u6027\u80fd\u6e2c\u5b9a(\u30ea\u30fc\u30c9\u6bd4\u738770%)\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result3.txt --name=random-r70w30 --rw=randrw --rwmixread=70\n\n# \u30e9\u30f3\u30c0\u30e0I/O\u6027\u80fd\u6e2c\u5b9a(\u30ea\u30fc\u30c9\u6bd4\u738730%)\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result4.txt --name=random-r30w70 --rw=randrw --rwmixread=30\n\n# \u30e9\u30f3\u30c0\u30e0I/O\u6027\u80fd\u6e2c\u5b9a(\u30ea\u30fc\u30c9\u6bd4\u73870%)\u3002\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba16K\nsudo fio --ioengine=libaio --iodepth=16 --direct=1 --size=100m --numjobs=16 --group_reporting --directory=/mnt --bs=16k --output=/home/ec2-user/result5.txt --name=random-r0w100 --rw=randrw --rwmixread=0\n```\n\n\u5b9f\u884c\u7d50\u679c\u306f\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3057\u3066\u3044\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u3001read\u306eiops\u304c934\u3001write\u306eiops\u304c2197\u3067\u5408\u8a08\u3059\u308b\u3068\u30013131iops\u3068\u306a\u308a\u3001\u30d7\u30ed\u30d3\u30b8\u30e7\u30f3\u3057\u305f3000iops\u3068\u307b\u307c\u540c\u7b49\u306e\u5024\u304c\u51fa\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n```\nrandom-r30w70: (groupid=0, jobs=16): err= 0: pid=1807: Sat Dec 20 00:40:23 2014\n  read : io=488832KB, bw=14954KB/s, iops=934 , runt= 32689msec\n    slat (usec): min=2 , max=102759 , avg=2699.31, stdev=12009.31\n    clat (usec): min=102 , max=493087 , avg=75671.23, stdev=55478.45\n     lat (usec): min=851 , max=493092 , avg=78370.75, stdev=56711.53\n    clat percentiles (msec):\n     |  1.00th=[   12],  5.00th=[   15], 10.00th=[   16], 20.00th=[   19],\n     | 30.00th=[   43], 40.00th=[   60], 50.00th=[   71], 60.00th=[   81],\n     | 70.00th=[   93], 80.00th=[  112], 90.00th=[  151], 95.00th=[  178],\n     | 99.00th=[  255], 99.50th=[  306], 99.90th=[  379], 99.95th=[  424],\n     | 99.99th=[  482]\n    bw (KB/s)  : min=  179, max= 1912, per=6.27%, avg=937.88, stdev=276.78\n  write: io=1122.4MB, bw=35157KB/s, iops=2197 , runt= 32689msec\n    slat (usec): min=4 , max=103279 , avg=2593.33, stdev=11752.52\n    clat (msec): min=1 , max=493 , avg=79.32, stdev=55.37\n     lat (msec): min=1 , max=507 , avg=81.91, stdev=56.66\n    clat percentiles (msec):\n     |  1.00th=[   12],  5.00th=[   15], 10.00th=[   17], 20.00th=[   20],\n     | 30.00th=[   51], 40.00th=[   65], 50.00th=[   74], 60.00th=[   83],\n     | 70.00th=[   95], 80.00th=[  114], 90.00th=[  155], 95.00th=[  180],\n     | 99.00th=[  255], 99.50th=[  310], 99.90th=[  396], 99.95th=[  429],\n     | 99.99th=[  482]\n    bw (KB/s)  : min=  328, max= 4175, per=6.27%, avg=2204.55, stdev=571.14\n    lat (usec) : 250=0.01%, 500=0.01%, 750=0.01%, 1000=0.01%\n    lat (msec) : 2=0.01%, 4=0.01%, 10=0.39%, 20=22.83%, 50=7.40%\n    lat (msec) : 100=42.79%, 250=25.47%, 500=1.10%\n  cpu          : usr=0.13%, sys=0.17%, ctx=30414, majf=0, minf=388\n  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=99.8%, 32=0.0%, >=64=0.0%\n     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%\n     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.1%, 32=0.0%, 64=0.0%, >=64=0.0%\n     issued    : total=r=30552/w=71827/d=0, short=r=0/w=0/d=0\n```\n\n# \u6ce8\u610f\u4e8b\u9805\n\n\u521d\u56de\u306e\u6027\u80fd\u6e2c\u5b9a\u306f\u3001EBS\u304c\u30a6\u30a9\u30fc\u30df\u30f3\u30b0\u3055\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u306e\u3067\u3001\u4f55\u5ea6\u304b\u5b9f\u884c\u3057\u3066\u304b\u3089\u306e\u7d50\u679c\u3092\u63a1\u7528\u3057\u305f\u65b9\u304c\u826f\u3044\u3067\u3059\u3002\n\n", "tags": ["ebs", "fio", "AWS", "RHEL"]}