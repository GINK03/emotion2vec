{"context": "\u3053\u3093\u306b\u3061\u306f\u3002\njq \u30b3\u30de\u30f3\u30c9\u3067 gzip \u5727\u7e2e\u3055\u308c\u305f JSON \u30d5\u30a1\u30a4\u30eb\u3092\u5f15\u6570\u306b\u53d6\u3063\u3066\u8aad\u307f\u8fbc\u3081\u308b\u3068\u697d\u304b\u306a\u3068\u601d\u3063\u3066\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f1\u3002\n$ ./jq.sh -C '.' geojson.json.gz | less -R\n{\n  \"type\": \"Feature\",\n  \"geometry\": {\n    \"type\": \"Point\",\n    \"coordinates\": [125.6, 10.1]\n  },\n  \"properties\": {\n    \"name\": \"Dinagat Islands\"\n  }\n}\n$\n\n\njq.sh\n#!/bin/sh\nargarray=()\n\nfor ARG in \"$@\"\ndo\n  case \"$ARG\" in\n    *json.gz)\n      if [[ -z \"$tempdir\" ]]; then\n          tempdir=$(mktemp -d \"${TMPDIR:-/tmp}\"/foo.XXXXXXXXX)\n      fi\n      tempstr=$(env LC_CTYPE=C tr -dc \"a-zA-Z0-9\" < /dev/urandom | head -c 9)\n      a=$tempdir/$tempstr.json\n      gzip -dc \"$ARG\" > $a 2>/dev/null\n      ;;\n    * )  a=\"$ARG\" ;;\n  esac\n  argarray+=( \"$a\" )  \ndone\n\njq $(IFS=' '; echo \"${argarray[*]}\")\nif [[ -n \"$tempdir\" ]]; then\n  rm -rf $tempdir\nfi\n\nexit $?\n\n\n\n\n\n\n\u306a\u304a\u3001stedolan/jq \u5185\u306b\u540c\u69d8\u306a\u8b70\u8ad6\u3092\u898b\u3064\u3051\u307e\u3057\u305f\uff1a\"Accept gzip compressed files\" (issue #968)\u00a0\u21a9\n\n\n\n\u3053\u3093\u306b\u3061\u306f\u3002\njq \u30b3\u30de\u30f3\u30c9\u3067 gzip \u5727\u7e2e\u3055\u308c\u305f JSON \u30d5\u30a1\u30a4\u30eb\u3092\u5f15\u6570\u306b\u53d6\u3063\u3066\u8aad\u307f\u8fbc\u3081\u308b\u3068\u697d\u304b\u306a\u3068\u601d\u3063\u3066\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u66f8\u3044\u3066\u307f\u307e\u3057\u305f[^1]\u3002\n\n[^1]: \u306a\u304a\u3001[stedolan/jq](https://github.com/stedolan/jq) \u5185\u306b\u540c\u69d8\u306a\u8b70\u8ad6\u3092\u898b\u3064\u3051\u307e\u3057\u305f\uff1a\"[Accept gzip compressed files](https://github.com/stedolan/jq/issues/968)\" (issue #968)\n\n```console\n$ ./jq.sh -C '.' geojson.json.gz | less -R\n{\n  \"type\": \"Feature\",\n  \"geometry\": {\n    \"type\": \"Point\",\n    \"coordinates\": [125.6, 10.1]\n  },\n  \"properties\": {\n    \"name\": \"Dinagat Islands\"\n  }\n}\n$\n```\n\n```jq.sh\n#!/bin/sh\nargarray=()\n\nfor ARG in \"$@\"\ndo\n  case \"$ARG\" in\n    *json.gz)\n      if [[ -z \"$tempdir\" ]]; then\n          tempdir=$(mktemp -d \"${TMPDIR:-/tmp}\"/foo.XXXXXXXXX)\n      fi\n      tempstr=$(env LC_CTYPE=C tr -dc \"a-zA-Z0-9\" < /dev/urandom | head -c 9)\n      a=$tempdir/$tempstr.json\n      gzip -dc \"$ARG\" > $a 2>/dev/null\n      ;;\n    * )  a=\"$ARG\" ;;\n  esac\n  argarray+=( \"$a\" )  \ndone\n\njq $(IFS=' '; echo \"${argarray[*]}\")\nif [[ -n \"$tempdir\" ]]; then\n  rm -rf $tempdir\nfi\n\nexit $?\n```\n", "tags": ["jq", "ShellScript", "JSON", "gzip"]}