{"tags": ["openstack"], "context": " More than 1 year has passed since last update.\u304a\u305d\u307e\u304d\u306a\u304c\u3089 OpenStack \u3092\u89e6\u3063\u3066\u307f\u3088\u3046\u304b\u306a\u3068\u601d\u3063\u3066\u59cb\u3081\u3066\u307f\u305f\u306e\u3060\u304c\u3001\u6848\u5916\u6577\u5c45\u304c\u9ad8\u304b\u3063\u305f\u3002 \u2225 Home \u00bb OpenStack Open Source Cloud Computing Software\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u307e\u308f\u308a\u306e\u66f4\u65b0\u304c\u901f\u3044\u306e\u304b\u3001\u65e2\u5b58\u306e\u8a18\u4e8b\u3082\u30b3\u30fc\u30c9\u3082\u30a2\u30c6\u306b\u306a\u3089\u306a\u3044\u611f\u3058\u306a\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u306e\u8cde\u5473\u671f\u9650\u3082\u77ed\u3044\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\n\u306a\u304a\u3001\u79c1\u306e\u74b0\u5883\u306f Ubuntu 14.04 \u3067\u3059\u3002\n\n\u300cSingle System\u300d\u4e00\u53f0\u8a66\u884c\u306e\u304a\u624b\u8efd\u74b0\u5883\nOpenStack \u74b0\u5883\u306b\u306f\u3001\u672c\u6765\u306f 3\uff5e6 \u53f0\u304c\u5fc5\u8981\u3089\u3057\u3044\u3057\u3001\u5b9f\u904b\u7528\u3067\u306f\u4f55\u767e\u53f0\u3067\u306e\u69cb\u6210\u306b\u5bfe\u5fdc\u3059\u308b\u3002Ubuntu \u306e\u516c\u5f0f\u6587\u66f8\u3067\u3082 6 \u53f0\u3092\u8981\u6c42\u3057\u3066\u3044\u308b\u3002 \u2225 Installing Ubuntu OpenStack - The Canonical Distribution | Download | Ubuntu\nRed Hat \u7cfb\u3067\u306f\u300cPackStack\u300d\u306a\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u304c\u3042\u308a\u3001\u4e00\u53f0\u3067\u3082\u3001\u30c8\u30e9\u30a4\u30a2\u30eb\u7684\u306b\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3089\u3057\u3044\u3002\n\nQuickstart - RDO\nPackstack - OpenStack\n\n\u305d\u306e Ubuntu \u7248\u304c\u300cUbuntu Openstack installer\u300d\u3002 \u2225 cloud-installer in Launchpad\nUbuntu OpenStack Installer \u306b\u306f\u3001Canonical \u8a00\u3046\u3068\u3053\u308d\u306e MaaS\uff08Metal-as-a-Service\uff09\u30e2\u30fc\u30c9\uff08\u7269\u7406\u30de\u30b7\u30f3\uff08\u30d9\u30a2\u30e1\u30bf\u30eb\uff09\u306b\u8584\u3044\u30ec\u30a4\u30e4\u306e OS \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff09\u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3082\u3067\u304d\u308b\u3089\u3057\u3044\u3002\n\u3055\u3066\u3001\u30b7\u30f3\u30b0\u30eb\u30db\u30b9\u30c8\u3067\u306e\u8a66\u884c\u7528\u30de\u30b7\u30f3\u306e\u63a8\u5968\u74b0\u5883\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n12G RAM\n100G HDD (SSD for optimal performance)\n8 CPUS\n\n\u3051\u3063\u3053\u3046\u8d05\u6ca2\u306d\u3002\u30e1\u30e2\u30ea\u3092 16GB \u307b\u3069\u8cb7\u3063\u3066\u304f\u308c\u3070\u3001\u3046\u3061\u306e\u7269\u7406\u30e1\u30e2\u30ea\u306f\u3006\u3066 24GB \u304b\u3002\u4eee\u60f3\u5316\u306e\u8a66\u884c\u3092\u3059\u308b\u306b\u306f\u3001\u305d\u308c\u304f\u3089\u3044\u6b32\u3057\u3044\u304b\u306a\u2026\u3002\u305d\u308c\u3068\u30014TB HDD * 3 \u3067 RAID5 \u3060\u304b\u3089 8TB \u306a\u306e\u3067\u3001\u9332\u753b\u9818\u57df\u3092\u5225\u306b\u3057\u3066\u3082\u5bb9\u91cf\u306f\u305f\u3063\u3077\u308a\u78ba\u4fdd\u3067\u304d\u308b\u3002\n\u305d\u3093\u306a\u308f\u3051\u3067\u3001\u3061\u3087\u3063\u3068\u30a2\u30ad\u30d0\u3078\u884c\u3063\u3066\u304f\u308b\u3002\n\n\u3044\u3063\u305f\u3093\u5931\u6557\n16GB \u306e\u30e1\u30e2\u30ea\u3068 HDD \u3092\u8cb7\u3063\u3066\u304d\u305f\uff08\u3064\u3044\u3067\u306b Edison \u3082 2 \u3064\u8cb7\u3063\u3061\u3083\u3063\u305f\u3093\u3060\u304c\u3001\u3053\u3053\u3067\u306f\u95a2\u4fc2\u306a\u3044\uff09\u3002CPU \u306f i5 \u306a\u306e\u3067 4 cores \u3060\u304c\u3001\u307e\u3042\u3044\u3044\u3060\u308d\u3046\u3001\u30e1\u30e2\u30ea\u306f\u305f\u3063\u3077\u308a\u3060\u304b\u3089\u4f55\u304b\u3068\u306a\u308b\u3068\u601d\u308f\u308c\u308b\u3002\n\u4ee5\u4e0b\u306e\u5b9f\u884c\u4f8b\u306f\u53f3\u8a18\u306e\u8a18\u4e8b\u306b\u5f93\u3063\u305f\u306e\u3060\u304c\u3001\u3069\u3046\u3082\u8a71\u304c\u53e4\u3044\u306e\u304b\uff1f \u3046\u307e\u304f\u884c\u304b\u306a\u304b\u3063\u305f\u3002\u6210\u529f\u30d1\u30bf\u30fc\u30f3\u306f\u5f8c\u8ff0\uff08\u672c\u65e5\u30012014/11/15\u3002\u8a18\u4e8b\u306f 2014/09/17 \u3068\u3044\u3046\u3053\u3068\u3067\u3001\u65b0\u3057\u3044\u3068\u601d\u3046\u3093\u3060\u304c\uff09\u3002 \u2225 \u7b2c341\u56de\u3000OpenStack\u74b0\u5883\u309230\u5206\u3067\u69cb\u7bc9\u3059\u308b\uff1aUbuntu Weekly Recipe\uff5cgihyo.jp \u2026 \u6280\u8853\u8a55\u8ad6\u793e\n$ sudo apt-add-repository -y ppa:cloud-installer/ppa\nsudo] password for knaka:\n Ubuntu Openstack installer is a metal to cloud image that provides an extremely\nsimple way to install, deploy and scale an openstack cloud on top of\nUbuntu server. Initial configurations are available for single\nphysical system deployments as well as multiple physical system\ndeployments.\n\nThis is the official stable ppa using the git branch:\n\nhttps://github.com/Ubuntu-Solutions-Engineering/openstack-installer/tree/stable\n More info: https://launchpad.net/~cloud-installer/+archive/ubuntu/ppa\nPress [ENTER] to continue or ctrl-c to cancel adding it\n\ngpg: keyring `/tmp/tmpjbmyu7cn/secring.gpg' created\ngpg: keyring `/tmp/tmpjbmyu7cn/pubring.gpg' created\ngpg: requesting key D2FF09ED from hkp server keyserver.ubuntu.com\ngpg: /tmp/tmpjbmyu7cn/trustdb.gpg: trustdb created\ngpg: key D2FF09ED: public key \"Launchpad PPA for Ubuntu Cloud Installer\" imported\ngpg: Total number processed: 1\ngpg:               imported: 1  (RSA: 1)\nOK\n$ sudo apt update\n$ sudo apt install -y cloud-installer\n\n\u4e0a\u8a18\u306e\u8a18\u4e8b\u306b\u3042\u308b\u300c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u4e91\u3005\u300d\u306e\u7b87\u6240\u306f\u3001\u30b3\u30fc\u30c9\u4e0a\u306b\u8a72\u5f53\u3059\u308b\u7b87\u6240\u304c\u7121\u3044\u3002\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e0a\u304c\u3063\u305f\u304b\u3002\n\u4e0b\u8a18\u306e\u5b9f\u884c\u306f\u3001\u7279\u6a29\u304c\u5fc5\u8981\u3060\u304c\u4e00\u822c\u30e6\u30fc\u30b6\u3068\u3057\u3066 sudo \u3067\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n$ sudo cloud-install\n\n\u307e\u3042\u3001\u3044\u3088\u3044\u3088 $ cloud-install -u \u3067\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u52b9\u304d\u307e\u3059\u3002\u4e0a\u8a18\u3092\u5168\u90e8\u3084\u308a\u306a\u304a\u3057\u306b\u306f\u306a\u308a\u307e\u3059\u304c\u3002\n\u5931\u6557\u3057\u307e\u3057\u305f\u3002\n\n/var/log/cloud-install.log\n2014-11-15 18:05:37 + sudo -H -u root juju bootstrap\n2014-11-15 18:05:38 ERROR failed verification of local provider prerequisites: kvm-ok is not installed. Please install the cpu-checker package.\n2014-11-15 18:05:38     sudo apt-get install cpu-checker\n2014-11-15 18:05:38 ERROR kvm-ok is not installed. Please install the cpu-checker package.\n2014-11-15 18:05:38     sudo apt-get install cpu-checker\n\n\n\u30b3\u30de\u30f3\u30c9\u300ckvm-ok\u300d\u304c\u7121\u3044\u3060\u306e\u300ccpu-checker\u300d\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u3060\u306e\u8a00\u3044\u307e\u3059\u304c\u3001\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n$ sudo kvm-ok\nINFO: /dev/kvm does not exist\nHINT:   sudo modprobe kvm_intel\nINFO: Your CPU supports KVM extensions\nINFO: KVM (vmx) is disabled by your BIOS\nHINT: Enter your BIOS setup and enable Virtualization Technology (VT),\n      and then hard poweroff/poweron your system\nKVM acceleration can NOT be used\n\n\u4f55\u3066\u3053\u3068\u3060\u3001\u3046\u3061\u306e\u30a4\u30f3\u30c6\u30eb\u30de\u30b7\u30f3\u306e VT \u304c\u30aa\u30d5\u306b\u306a\u3063\u3066\u3044\u308b\u2026\u3002\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u4f5c\u696d\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u3053\u3053\u3067\u624b\u8a70\u307e\u308a\u3068\u306a\u3063\u305f\u306e\u3067\u3001\u5e30\u5b85\u3059\u308b\u3002\n\uff5e\n\u5e30\u5b85\u3057\u3001VT \u3092\u30aa\u30f3\u306b\u3057\u3066\u304b\u3089\u518d\u8a66\u884c\u3092\u3057\u305f\u306e\u3060\u304c\u3001\u3069\u3046\u3057\u3066\u3082\u30b9\u30c6\u30fc\u30bf\u30b9\u30b9\u30af\u30ea\u30fc\u30f3\u304c\u73fe\u308c\u306a\u3044\u3002\n\n\u3053\u3093\u3069\u306f\u6210\u529f\n\u3069\u3046\u3082\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\uff08Ubuntu \u7528\u306e OpenStack Single Installer\uff09\u306e\u30ac\u30a4\u30c9\u306f\u53f3\u8a18\u306e\u3088\u3046\u306a\u306e\u3060\u304c\u3001instruction \u304c\u4e0a\u8a18\u3068\u306f\u3068\u3053\u308d\u3069\u3053\u308d\u9055\u3046\u3057\u3001deb \u30ec\u30dd\u30b8\u30c8\u30ea\u3082\u7570\u306a\u308b\u3002\u4ee5\u4e0b\u3001\u53f3\u8a18\u306b\u5f93\u3046\u3002 \u2225 Single Installer Guide \u2014 Ubuntu Openstack Installer 0.21 documentation\n$ sudo apt-add-repository -y ppa:cloud-installer/testing\n$ sudo apt-get update\n$ sudo apt-get install -y openstack\n$ sudo openstack-install\n\n\u30b3\u30b1\u305f\u3002\u79d8\u5bc6\u9375 ~/.ssh/id_rsa \u306f\u3042\u3063\u305f\u304c\u3001~/.ssh/id_rsa.pub \u304c\u7121\u304b\u3063\u305f\u306e\u3067\u30b3\u30b1\u305f\u3002\u89aa\u74b0\u5883\u306e\u6301\u3063\u3066\u3044\u308b\u9375\u306e\u30da\u30a2\u3092\u3001\u305d\u306e\u307e\u307e\u30ce\u30fc\u30c9\u9593\u306e\u901a\u4fe1\u306b\u4f7f\u3046\u3064\u3082\u308a\u3089\u3057\u3044\u306e\u3067\u3001\u516c\u958b\u9375\u3082\u7f6e\u3044\u3066\u3084\u3063\u3066\u518d\u8a66\u884c\u3002\n\u307e\u305f\u30b3\u30b1\u305f\u3002\u3044\u3064\u79c1\u304c\u4ed5\u8fbc\u3093\u3060\u306e\u304b\u5fd8\u308c\u305f\u304c\u3001\u5909\u306a sudo \u3078\u306e\u5909\u306a alias \u306e\u305b\u3044\u3067\u5931\u6557\u3057\u3066\u3044\u305f\u3002unalias \u3059\u308b\u3002\n$ alias sudo\nalias sudo='sudo env PATH=$PATH' # \u4f55\u3060\u3053\u308c\uff1f\n$ unalias sudo\n\n\u306a\u304a\u3082\u30b3\u30b1\u305f\u3002/usr/share/openstack/cloudinstall/single_install.py \u304c\u5909\u3058\u3083\u306a\u304b\u308d\u3046\u304b\uff1f ssh \u306b \"~\" \u3092\u6e21\u3059\u969b\u306b\u30ed\u30fc\u30ab\u30eb\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5c55\u958b\u3055\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3063\u307d\u3044\u3002\u5165\u3063\u305f\u5f8c\u306b\u5c55\u958b\u3059\u3079\u304d\uff1f\n--- /usr/share/openstack/cloudinstall/single_install.py.orig    2014-11-16 17:22:22.515794849 +0900\n+++ /usr/share/openstack/cloudinstall/single_install.py 2014-11-15 21:14:48.455112818 +0900\n@@ -102,7 +102,7 @@\n                                 'charmconf.yaml'),\n                    charm_conf_modified)\n\n-        utils.container_run(self.container_name, 'mkdir -p ~/.cloud-install')\n+        utils.container_run(self.container_name, 'mkdir -p \"~/.cloud-install\"')\n         utils.container_run(\n             self.container_name, 'sudo mkdir -p /etc/openstack')\n\n\u3084\u3063\u3068\u5165\u3063\u305f\u3063\u307d\u3044\u300220 \u5206\u304f\u3089\u3044\u5f85\u3063\u305f\u304b\u306a\uff1f \u5f90\u3005\u306b\u30ce\u30fc\u30c9\u304c\u5897\u3048\u3066\u884c\u3063\u3066\u3001\u4e0b\u56f3\u306e\u3088\u3046\u306a\u72b6\u614b\u306b\u3002\n\nQuit \u5f8c\u306b\u518d\u5ea6\u3053\u306e\u753b\u9762\u3092\u898b\u308b\u306b\u306f\u3001uoi-bootstrap \u306e\u30db\u30b9\u30c8\u3078 ssh \u3057\u3066 openstack-status\u3002\n$ sudo lxc-ls -f uoi-bootstrap\nNAME           STATE    IPV4                       IPV6  AUTOSTART\n------------------------------------------------------------------\nuoi-bootstrap  RUNNING  10.0.1.181, 192.168.122.1  -     NO\n$ ssh -t ubuntu@10.0.1.181 openstack-status\n\n\u30db\u30b9\u30c8\u306e\u518d\u8d77\u52d5\u5f8c\u3084\u300c-k\u300d\u3067\u306e\u505c\u6b62\u5f8c\u306f\u3001\u518d\u5ea6\u5165\u308c\u306a\u304a\u3057\u304b\u306a\uff1f \u3057\u3093\u3069\u3044\u306a\u3002\n$ sudo openstack-install -k\n$ sudo openstack-install\n\n\u3055\u3066\u3001\u3068\u308a\u3042\u3048\u305a\u52d5\u3044\u305f\u306e\u3067\u3001OpenStack \u3063\u3066\u306e\u304c\u3069\u3093\u306a\u3082\u306e\u306a\u306e\u304b\u3001\u898b\u3066\u884c\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u304a\u305d\u307e\u304d\u306a\u304c\u3089 OpenStack \u3092\u89e6\u3063\u3066\u307f\u3088\u3046\u304b\u306a\u3068\u601d\u3063\u3066\u59cb\u3081\u3066\u307f\u305f\u306e\u3060\u304c\u3001\u6848\u5916\u6577\u5c45\u304c\u9ad8\u304b\u3063\u305f\u3002 \u2225 [Home \u00bb OpenStack Open Source Cloud Computing Software](http://www.openstack.org/)\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u307e\u308f\u308a\u306e\u66f4\u65b0\u304c\u901f\u3044\u306e\u304b\u3001\u65e2\u5b58\u306e\u8a18\u4e8b\u3082\u30b3\u30fc\u30c9\u3082\u30a2\u30c6\u306b\u306a\u3089\u306a\u3044\u611f\u3058\u306a\u306e\u3067\u3001\u3053\u306e\u8a18\u4e8b\u306e\u8cde\u5473\u671f\u9650\u3082\u77ed\u3044\u304b\u3082\u77e5\u308c\u307e\u305b\u3093\u3002\n\n\u306a\u304a\u3001\u79c1\u306e\u74b0\u5883\u306f Ubuntu 14.04 \u3067\u3059\u3002\n\n# \u300cSingle System\u300d\u4e00\u53f0\u8a66\u884c\u306e\u304a\u624b\u8efd\u74b0\u5883\n\nOpenStack \u74b0\u5883\u306b\u306f\u3001\u672c\u6765\u306f 3\uff5e6 \u53f0\u304c\u5fc5\u8981\u3089\u3057\u3044\u3057\u3001\u5b9f\u904b\u7528\u3067\u306f\u4f55\u767e\u53f0\u3067\u306e\u69cb\u6210\u306b\u5bfe\u5fdc\u3059\u308b\u3002Ubuntu \u306e\u516c\u5f0f\u6587\u66f8\u3067\u3082 6 \u53f0\u3092\u8981\u6c42\u3057\u3066\u3044\u308b\u3002 \u2225 [Installing Ubuntu OpenStack - The Canonical Distribution | Download | Ubuntu](http://www.ubuntu.com/download/cloud/install-ubuntu-openstack)\n\nRed Hat \u7cfb\u3067\u306f\u300cPackStack\u300d\u306a\u308b\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u304c\u3042\u308a\u3001\u4e00\u53f0\u3067\u3082\u3001\u30c8\u30e9\u30a4\u30a2\u30eb\u7684\u306b\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3089\u3057\u3044\u3002\n\n* [Quickstart - RDO](https://openstack.redhat.com/Quickstart)\n* [Packstack - OpenStack](https://wiki.openstack.org/wiki/Packstack)\n\n\u305d\u306e Ubuntu \u7248\u304c\u300cUbuntu Openstack installer\u300d\u3002 \u2225 [cloud-installer in Launchpad](https://launchpad.net/cloud-installer)\n\nUbuntu OpenStack Installer \u306b\u306f\u3001Canonical \u8a00\u3046\u3068\u3053\u308d\u306e MaaS\uff08Metal-as-a-Service\uff09\u30e2\u30fc\u30c9\uff08\u7269\u7406\u30de\u30b7\u30f3\uff08\u30d9\u30a2\u30e1\u30bf\u30eb\uff09\u306b\u8584\u3044\u30ec\u30a4\u30e4\u306e OS \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff09\u3067\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3082\u3067\u304d\u308b\u3089\u3057\u3044\u3002\n\n\u3055\u3066\u3001\u30b7\u30f3\u30b0\u30eb\u30db\u30b9\u30c8\u3067\u306e\u8a66\u884c\u7528\u30de\u30b7\u30f3\u306e\u63a8\u5968\u74b0\u5883\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n* 12G RAM\n* 100G HDD (SSD for optimal performance)\n* 8 CPUS\n\n\u3051\u3063\u3053\u3046\u8d05\u6ca2\u306d\u3002\u30e1\u30e2\u30ea\u3092 16GB \u307b\u3069\u8cb7\u3063\u3066\u304f\u308c\u3070\u3001\u3046\u3061\u306e\u7269\u7406\u30e1\u30e2\u30ea\u306f\u3006\u3066 24GB \u304b\u3002\u4eee\u60f3\u5316\u306e\u8a66\u884c\u3092\u3059\u308b\u306b\u306f\u3001\u305d\u308c\u304f\u3089\u3044\u6b32\u3057\u3044\u304b\u306a\u2026\u3002\u305d\u308c\u3068\u30014TB HDD * 3 \u3067 RAID5 \u3060\u304b\u3089 8TB \u306a\u306e\u3067\u3001\u9332\u753b\u9818\u57df\u3092\u5225\u306b\u3057\u3066\u3082\u5bb9\u91cf\u306f\u305f\u3063\u3077\u308a\u78ba\u4fdd\u3067\u304d\u308b\u3002\n\n\u305d\u3093\u306a\u308f\u3051\u3067\u3001\u3061\u3087\u3063\u3068\u30a2\u30ad\u30d0\u3078\u884c\u3063\u3066\u304f\u308b\u3002\n\n# \u3044\u3063\u305f\u3093\u5931\u6557\n\n16GB \u306e\u30e1\u30e2\u30ea\u3068 HDD \u3092\u8cb7\u3063\u3066\u304d\u305f\uff08\u3064\u3044\u3067\u306b Edison \u3082 2 \u3064\u8cb7\u3063\u3061\u3083\u3063\u305f\u3093\u3060\u304c\u3001\u3053\u3053\u3067\u306f\u95a2\u4fc2\u306a\u3044\uff09\u3002CPU \u306f i5 \u306a\u306e\u3067 4 cores \u3060\u304c\u3001\u307e\u3042\u3044\u3044\u3060\u308d\u3046\u3001\u30e1\u30e2\u30ea\u306f\u305f\u3063\u3077\u308a\u3060\u304b\u3089\u4f55\u304b\u3068\u306a\u308b\u3068\u601d\u308f\u308c\u308b\u3002\n\n\u4ee5\u4e0b\u306e\u5b9f\u884c\u4f8b\u306f\u53f3\u8a18\u306e\u8a18\u4e8b\u306b\u5f93\u3063\u305f\u306e\u3060\u304c\u3001\u3069\u3046\u3082\u8a71\u304c\u53e4\u3044\u306e\u304b\uff1f \u3046\u307e\u304f\u884c\u304b\u306a\u304b\u3063\u305f\u3002\u6210\u529f\u30d1\u30bf\u30fc\u30f3\u306f\u5f8c\u8ff0\uff08\u672c\u65e5\u30012014/11/15\u3002\u8a18\u4e8b\u306f 2014/09/17 \u3068\u3044\u3046\u3053\u3068\u3067\u3001\u65b0\u3057\u3044\u3068\u601d\u3046\u3093\u3060\u304c\uff09\u3002 \u2225 [\u7b2c341\u56de\u3000OpenStack\u74b0\u5883\u309230\u5206\u3067\u69cb\u7bc9\u3059\u308b\uff1aUbuntu Weekly Recipe\uff5cgihyo.jp \u2026 \u6280\u8853\u8a55\u8ad6\u793e](http://gihyo.jp/admin/serial/01/ubuntu-recipe/0341)\n\n~~~~\n$ sudo apt-add-repository -y ppa:cloud-installer/ppa\nsudo] password for knaka:\n Ubuntu Openstack installer is a metal to cloud image that provides an extremely\nsimple way to install, deploy and scale an openstack cloud on top of\nUbuntu server. Initial configurations are available for single\nphysical system deployments as well as multiple physical system\ndeployments.\n\nThis is the official stable ppa using the git branch:\n\nhttps://github.com/Ubuntu-Solutions-Engineering/openstack-installer/tree/stable\n More info: https://launchpad.net/~cloud-installer/+archive/ubuntu/ppa\nPress [ENTER] to continue or ctrl-c to cancel adding it\n\ngpg: keyring `/tmp/tmpjbmyu7cn/secring.gpg' created\ngpg: keyring `/tmp/tmpjbmyu7cn/pubring.gpg' created\ngpg: requesting key D2FF09ED from hkp server keyserver.ubuntu.com\ngpg: /tmp/tmpjbmyu7cn/trustdb.gpg: trustdb created\ngpg: key D2FF09ED: public key \"Launchpad PPA for Ubuntu Cloud Installer\" imported\ngpg: Total number processed: 1\ngpg:               imported: 1  (RSA: 1)\nOK\n$ sudo apt update\n$ sudo apt install -y cloud-installer\n~~~~\n\n\u4e0a\u8a18\u306e\u8a18\u4e8b\u306b\u3042\u308b\u300c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u4e91\u3005\u300d\u306e\u7b87\u6240\u306f\u3001\u30b3\u30fc\u30c9\u4e0a\u306b\u8a72\u5f53\u3059\u308b\u7b87\u6240\u304c\u7121\u3044\u3002\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e0a\u304c\u3063\u305f\u304b\u3002\n\n\u4e0b\u8a18\u306e\u5b9f\u884c\u306f\u3001\u7279\u6a29\u304c\u5fc5\u8981\u3060\u304c\u4e00\u822c\u30e6\u30fc\u30b6\u3068\u3057\u3066 sudo \u3067\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n~~~~\n$ sudo cloud-install\n~~~~\n\n\u307e\u3042\u3001\u3044\u3088\u3044\u3088 `$ cloud-install -u` \u3067\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u52b9\u304d\u307e\u3059\u3002\u4e0a\u8a18\u3092\u5168\u90e8\u3084\u308a\u306a\u304a\u3057\u306b\u306f\u306a\u308a\u307e\u3059\u304c\u3002\n\n\u5931\u6557\u3057\u307e\u3057\u305f\u3002\n\n~~~~/var/log/cloud-install.log\n2014-11-15 18:05:37 + sudo -H -u root juju bootstrap\n2014-11-15 18:05:38 ERROR failed verification of local provider prerequisites: kvm-ok is not installed. Please install the cpu-checker package.\n2014-11-15 18:05:38     sudo apt-get install cpu-checker\n2014-11-15 18:05:38 ERROR kvm-ok is not installed. Please install the cpu-checker package.\n2014-11-15 18:05:38     sudo apt-get install cpu-checker\n~~~~\n\n\u30b3\u30de\u30f3\u30c9\u300ckvm-ok\u300d\u304c\u7121\u3044\u3060\u306e\u300ccpu-checker\u300d\u304c\u5165\u3063\u3066\u3044\u306a\u3044\u3060\u306e\u8a00\u3044\u307e\u3059\u304c\u3001\u5165\u3063\u3066\u3044\u307e\u3059\u3002\n\n~~~~\n$ sudo kvm-ok\nINFO: /dev/kvm does not exist\nHINT:   sudo modprobe kvm_intel\nINFO: Your CPU supports KVM extensions\nINFO: KVM (vmx) is disabled by your BIOS\nHINT: Enter your BIOS setup and enable Virtualization Technology (VT),\n      and then hard poweroff/poweron your system\nKVM acceleration can NOT be used\n~~~~\n\n\u4f55\u3066\u3053\u3068\u3060\u3001\u3046\u3061\u306e\u30a4\u30f3\u30c6\u30eb\u30de\u30b7\u30f3\u306e VT \u304c\u30aa\u30d5\u306b\u306a\u3063\u3066\u3044\u308b\u2026\u3002\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u4f5c\u696d\u3057\u3066\u3044\u305f\u306e\u3067\u3001\u3053\u3053\u3067\u624b\u8a70\u307e\u308a\u3068\u306a\u3063\u305f\u306e\u3067\u3001\u5e30\u5b85\u3059\u308b\u3002\n\n\uff5e\n\n\u5e30\u5b85\u3057\u3001VT \u3092\u30aa\u30f3\u306b\u3057\u3066\u304b\u3089\u518d\u8a66\u884c\u3092\u3057\u305f\u306e\u3060\u304c\u3001\u3069\u3046\u3057\u3066\u3082\u30b9\u30c6\u30fc\u30bf\u30b9\u30b9\u30af\u30ea\u30fc\u30f3\u304c\u73fe\u308c\u306a\u3044\u3002\n\n# \u3053\u3093\u3069\u306f\u6210\u529f\n\n\u3069\u3046\u3082\u3053\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\uff08Ubuntu \u7528\u306e OpenStack Single Installer\uff09\u306e\u30ac\u30a4\u30c9\u306f\u53f3\u8a18\u306e\u3088\u3046\u306a\u306e\u3060\u304c\u3001instruction \u304c\u4e0a\u8a18\u3068\u306f\u3068\u3053\u308d\u3069\u3053\u308d\u9055\u3046\u3057\u3001deb \u30ec\u30dd\u30b8\u30c8\u30ea\u3082\u7570\u306a\u308b\u3002\u4ee5\u4e0b\u3001\u53f3\u8a18\u306b\u5f93\u3046\u3002 \u2225 [Single Installer Guide \u2014 Ubuntu Openstack Installer 0.21 documentation](http://ubuntu-cloud-installer.readthedocs.org/en/latest/single-installer.guide.html)\n\n~~~~\n$ sudo apt-add-repository -y ppa:cloud-installer/testing\n$ sudo apt-get update\n$ sudo apt-get install -y openstack\n$ sudo openstack-install\n~~~~\n\n\u30b3\u30b1\u305f\u3002\u79d8\u5bc6\u9375 ~/.ssh/id_rsa \u306f\u3042\u3063\u305f\u304c\u3001~/.ssh/id_rsa.pub \u304c\u7121\u304b\u3063\u305f\u306e\u3067\u30b3\u30b1\u305f\u3002\u89aa\u74b0\u5883\u306e\u6301\u3063\u3066\u3044\u308b\u9375\u306e\u30da\u30a2\u3092\u3001\u305d\u306e\u307e\u307e\u30ce\u30fc\u30c9\u9593\u306e\u901a\u4fe1\u306b\u4f7f\u3046\u3064\u3082\u308a\u3089\u3057\u3044\u306e\u3067\u3001\u516c\u958b\u9375\u3082\u7f6e\u3044\u3066\u3084\u3063\u3066\u518d\u8a66\u884c\u3002\n\n\u307e\u305f\u30b3\u30b1\u305f\u3002\u3044\u3064\u79c1\u304c\u4ed5\u8fbc\u3093\u3060\u306e\u304b\u5fd8\u308c\u305f\u304c\u3001\u5909\u306a sudo \u3078\u306e\u5909\u306a alias \u306e\u305b\u3044\u3067\u5931\u6557\u3057\u3066\u3044\u305f\u3002unalias \u3059\u308b\u3002\n\n~~~~\n$ alias sudo\nalias sudo='sudo env PATH=$PATH' # \u4f55\u3060\u3053\u308c\uff1f\n$ unalias sudo\n~~~~\n\n\u306a\u304a\u3082\u30b3\u30b1\u305f\u3002/usr/share/openstack/cloudinstall/single_install.py \u304c\u5909\u3058\u3083\u306a\u304b\u308d\u3046\u304b\uff1f ssh \u306b \"~\" \u3092\u6e21\u3059\u969b\u306b\u30ed\u30fc\u30ab\u30eb\u306e\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5c55\u958b\u3055\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3063\u307d\u3044\u3002\u5165\u3063\u305f\u5f8c\u306b\u5c55\u958b\u3059\u3079\u304d\uff1f\n\n~~~~\n--- /usr/share/openstack/cloudinstall/single_install.py.orig    2014-11-16 17:22:22.515794849 +0900\n+++ /usr/share/openstack/cloudinstall/single_install.py 2014-11-15 21:14:48.455112818 +0900\n@@ -102,7 +102,7 @@\n                                 'charmconf.yaml'),\n                    charm_conf_modified)\n\n-        utils.container_run(self.container_name, 'mkdir -p ~/.cloud-install')\n+        utils.container_run(self.container_name, 'mkdir -p \"~/.cloud-install\"')\n         utils.container_run(\n             self.container_name, 'sudo mkdir -p /etc/openstack')\n~~~~\n\n\u3084\u3063\u3068\u5165\u3063\u305f\u3063\u307d\u3044\u300220 \u5206\u304f\u3089\u3044\u5f85\u3063\u305f\u304b\u306a\uff1f \u5f90\u3005\u306b\u30ce\u30fc\u30c9\u304c\u5897\u3048\u3066\u884c\u3063\u3066\u3001\u4e0b\u56f3\u306e\u3088\u3046\u306a\u72b6\u614b\u306b\u3002\n\n![openstack-status.png](https://qiita-image-store.s3.amazonaws.com/0/30059/b342222c-2d93-cfa9-1490-394be739c885.png \"openstack-status.png\")\n\nQuit \u5f8c\u306b\u518d\u5ea6\u3053\u306e\u753b\u9762\u3092\u898b\u308b\u306b\u306f\u3001uoi-bootstrap \u306e\u30db\u30b9\u30c8\u3078 `ssh` \u3057\u3066 `openstack-status`\u3002\n\n~~~~\n$ sudo lxc-ls -f uoi-bootstrap\nNAME           STATE    IPV4                       IPV6  AUTOSTART\n------------------------------------------------------------------\nuoi-bootstrap  RUNNING  10.0.1.181, 192.168.122.1  -     NO\n$ ssh -t ubuntu@10.0.1.181 openstack-status\n~~~~\n\n\u30db\u30b9\u30c8\u306e\u518d\u8d77\u52d5\u5f8c\u3084\u300c-k\u300d\u3067\u306e\u505c\u6b62\u5f8c\u306f\u3001\u518d\u5ea6\u5165\u308c\u306a\u304a\u3057\u304b\u306a\uff1f \u3057\u3093\u3069\u3044\u306a\u3002\n\n~~~~\n$ sudo openstack-install -k\n$ sudo openstack-install\n~~~~\n\n\u3055\u3066\u3001\u3068\u308a\u3042\u3048\u305a\u52d5\u3044\u305f\u306e\u3067\u3001OpenStack \u3063\u3066\u306e\u304c\u3069\u3093\u306a\u3082\u306e\u306a\u306e\u304b\u3001\u898b\u3066\u884c\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n"}