{"tags": ["hadoop"], "context": " More than 1 year has passed since last update.\u3068\u308a\u3042\u3048\u305a Hadoop \u304c\u52d5\u304b\u305b\u305f\u306e\u3067\u3001\n\u672c\u984c\u306e\u6a5f\u68b0\u5b66\u7fd2\u3092\u3059\u308b\u305f\u3081\u306b Mahout 0.9 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\nMaven \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n # wget -P /usr/local/src/ http://ftp.kddilabs.jp/infosystems/apache/maven/maven-3/3.2.2/binaries/apache-maven-3.2.2-bin.tar.gz\n # tar zxvf /usr/local/src/apache-maven-3.2.2-bin.tar.gz\n # mv /usr/local/src/apache-maven-3.2.2-bin /usr/local/apache-maven\n # chown -R roor. /usr/local/apache-maven\n\n/etc/profile \u306b\u8ffd\u8a18\nvim\nexport M2_HOME=/usr/local/apache-maven                                                                                                                                                                                           \nexport M2=$M2_HOME/bin                                                                                                                                                                                                           \nexport PATH=$PATH:$M2\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u3066\u308b\u304b\u78ba\u8a8d\nshell-session\n # mvn --version\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u308c\u3070\u30aa\u30c3\u30b1\u30fc\n\nMahout \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n # wget -P /usr/local/src/ http://ftp.meisei-u.ac.jp/mirror/apache/dist/mahout/0.9/mahout-distribution-0.9.tar.gz\n # tar zxvf /usr/local/src/mahout-distribution-0.9.tar.gz\n # mv /usr/local/src/mahout-distribution-0.9 /usr/local/mahout\n # chown root. /usr/local/mahout\n\n/etc/profile \u306b\u8ffd\u8a18(Mahout \u5b9f\u884c\u6642\u306b HADOOP_CONF_DIR \u304c\u7121\u3044\u3068\u304b\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u305f\u3081\u3001\u3053\u3061\u3089\u3082\u5b9a\u7fa9)\nvim\nexport HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop\nexport MAHOUT_HOME=/usr/local/mahout                                                                                                                                                                                             \nexport PATH=$PATH:$MAHOUT_HOME/bin \n\n\nMahout \u3092\u52d5\u304b\u3057\u3066\u307f\u308b(hadoop \u30e6\u30fc\u30b6\u30fc\u3067\u5b9f\u884c)\nMahout \u306e\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001HDFS \u306b\u8a2d\u7f6e\nshell-session\n $ wget -P /usr/local/src/ http://archive.ics.uci.edu/ml/databases/synthetic_control/synthetic_control.data\n $ hadoop fs -mkdir testdata\n $ hadoop fs -put /usr/local/src/synthetic_control.data testdata\n $ mahout org.apache.mahout.clustering.syntheticcontrol.kmeans.Job\n\n\u304a\u30fc\u3001\u52d5\u3044\u305f\uff01\u4f55\u304b\u89e3\u6790\u3057\u3066\u308b\n\u7d50\u679c\u3092\u898b\u308b\u305f\u3081\u306b\u3001\u30c6\u30ad\u30b9\u30c8\u306b\u66f8\u304d\u51fa\u3057\u3066\u307f\u308b\nshell-session\n $ mahout clusterdump --output clusterdump.txt --input data/kmeans/clusters-*-final --pointsDir data/kmeans/clusteredPoints --dictionary data/vector/dictionary.file-* --dictionaryType sequencefile -dm org.apache.mahout.common.distance.CosineDistanceMeasure --numWords 30\n $ cat /home/hadoop/clusterdump.txt\n\n\u306a\u3093\u3060\u3053\u308c\u3001\u30c7\u30fc\u30bf\u306e\u610f\u5473\u304c\u30fb\u30fb\u30fb\ntext\nCL-310{n=58 c=[30.778, 29.351, 28.767, 28.754, 28.602, 28.055, 27.711, 25.413, 26.161, 26.456, \n\u30fb\u30fb\u30fb}\n\n\u305d\u3082\u305d\u3082 synthetic_control.data \u306e\u6570\u5024\u3082\u5206\u304b\u3089\u3093\u30fb\u30fb\u30fb\n\u3068\u308a\u3042\u3048\u305a\u3001\u52d5\u3044\u305f\u306e\u3067\u7406\u89e3\u3059\u308b\u306e\u306f\u4eca\u5ea6\u3067\n\u6b21\u306f\u3001HBase \u5165\u308c\u3088\u3046\n\u3068\u308a\u3042\u3048\u305a Hadoop \u304c\u52d5\u304b\u305b\u305f\u306e\u3067\u3001\n\u672c\u984c\u306e\u6a5f\u68b0\u5b66\u7fd2\u3092\u3059\u308b\u305f\u3081\u306b Mahout 0.9 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n### Maven \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```shell-session\n # wget -P /usr/local/src/ http://ftp.kddilabs.jp/infosystems/apache/maven/maven-3/3.2.2/binaries/apache-maven-3.2.2-bin.tar.gz\n # tar zxvf /usr/local/src/apache-maven-3.2.2-bin.tar.gz\n # mv /usr/local/src/apache-maven-3.2.2-bin /usr/local/apache-maven\n # chown -R roor. /usr/local/apache-maven\n```\n/etc/profile \u306b\u8ffd\u8a18\n```vim\nexport M2_HOME=/usr/local/apache-maven                                                                                                                                                                                           \nexport M2=$M2_HOME/bin                                                                                                                                                                                                           \nexport PATH=$PATH:$M2\n```\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u3066\u308b\u304b\u78ba\u8a8d\n```shell-session\n # mvn --version\n```\n\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u308c\u3070\u30aa\u30c3\u30b1\u30fc\n\n### Mahout \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```shell-session\n # wget -P /usr/local/src/ http://ftp.meisei-u.ac.jp/mirror/apache/dist/mahout/0.9/mahout-distribution-0.9.tar.gz\n # tar zxvf /usr/local/src/mahout-distribution-0.9.tar.gz\n # mv /usr/local/src/mahout-distribution-0.9 /usr/local/mahout\n # chown root. /usr/local/mahout\n```\n/etc/profile \u306b\u8ffd\u8a18(Mahout \u5b9f\u884c\u6642\u306b HADOOP_CONF_DIR \u304c\u7121\u3044\u3068\u304b\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u305f\u3081\u3001\u3053\u3061\u3089\u3082\u5b9a\u7fa9)\n```vim\nexport HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop\nexport MAHOUT_HOME=/usr/local/mahout                                                                                                                                                                                             \nexport PATH=$PATH:$MAHOUT_HOME/bin \n```\n\n### Mahout \u3092\u52d5\u304b\u3057\u3066\u307f\u308b(hadoop \u30e6\u30fc\u30b6\u30fc\u3067\u5b9f\u884c)\nMahout \u306e\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001HDFS \u306b\u8a2d\u7f6e\n```shell-session\n $ wget -P /usr/local/src/ http://archive.ics.uci.edu/ml/databases/synthetic_control/synthetic_control.data\n $ hadoop fs -mkdir testdata\n $ hadoop fs -put /usr/local/src/synthetic_control.data testdata\n $ mahout org.apache.mahout.clustering.syntheticcontrol.kmeans.Job\n```\n\u304a\u30fc\u3001\u52d5\u3044\u305f\uff01\u4f55\u304b\u89e3\u6790\u3057\u3066\u308b\n\u7d50\u679c\u3092\u898b\u308b\u305f\u3081\u306b\u3001\u30c6\u30ad\u30b9\u30c8\u306b\u66f8\u304d\u51fa\u3057\u3066\u307f\u308b\n```shell-session\n $ mahout clusterdump --output clusterdump.txt --input data/kmeans/clusters-*-final --pointsDir data/kmeans/clusteredPoints --dictionary data/vector/dictionary.file-* --dictionaryType sequencefile -dm org.apache.mahout.common.distance.CosineDistanceMeasure --numWords 30\n $ cat /home/hadoop/clusterdump.txt\n```\n\u306a\u3093\u3060\u3053\u308c\u3001\u30c7\u30fc\u30bf\u306e\u610f\u5473\u304c\u30fb\u30fb\u30fb\n```text\nCL-310{n=58 c=[30.778, 29.351, 28.767, 28.754, 28.602, 28.055, 27.711, 25.413, 26.161, 26.456, \n\u30fb\u30fb\u30fb}\n```\n\u305d\u3082\u305d\u3082 synthetic_control.data \u306e\u6570\u5024\u3082\u5206\u304b\u3089\u3093\u30fb\u30fb\u30fb\n\n\u3068\u308a\u3042\u3048\u305a\u3001\u52d5\u3044\u305f\u306e\u3067\u7406\u89e3\u3059\u308b\u306e\u306f\u4eca\u5ea6\u3067\n\u6b21\u306f\u3001HBase \u5165\u308c\u3088\u3046\n"}