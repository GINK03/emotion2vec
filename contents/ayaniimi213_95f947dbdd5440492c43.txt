{"context": " More than 1 year has passed since last update.AWS EC2\u4e0a\u306bmecab\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30e1\u30e2\u3002\n\u4ee5\u524d\u306e\u30e1\u30e2\u306a\u306e\u3067\u3001Ruby\u306e\u60c5\u5831\u306f\u53e4\u304f\u306a\u3063\u3066\u3044\u308b\u304b\u3082\u3002\n\n0. instance\u7acb\u3061\u4e0a\u3052\nEC2\u4e0a\u306binstance\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3002\n\u3068\u308a\u3042\u3048\u305a\u3001\u304a\u8a66\u3057\u306a\u3089t2.micro\u3067\u3082\u826f\u3044\u304b\u3082\u3002\nAWS t2.micro\nOS: Amzon Linux\n\u30c4\u30fc\u30eb\u3001\u30c7\u30fc\u30bf\u306fS3\u4e0a\u306b\u4e0a\u3052\u3066\u304a\u304f\u3068\u3001\u5916\u90e8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3088\u308a\u5c11\u3057\u65e9\u3044\u3057\u3001\u304a\u8ca1\u5e03\u306b\u3082\u5c11\u3057\u512a\u3057\u3044\u3002\n\n1. yum update\n$ sudo yum update\n\n\n2. swap\u8a2d\u5b9a\nEC2instance\u304ct2.micro\u306e\u3068\u304dswap\u9818\u57df\u3092\u8a2d\u5b9a\u3059\u308b\n$ sudo dd if=/dev/zero of=/swap.img bs=1M count=2048\n$ sudo chmod 600 /swap.img\n$ sudo mkswap /swap.img\n$ sudo bash -c 'echo \"/swap.img    swap    swap    defaults    0    0\" >> /etc/fstab'\n\nswap\u3092\u6709\u52b9\u306b\u3059\u308b\n$ sudo swapon -a\n\n\n3. \u65e5\u672c\u6642\u9593\u306b\u8a2d\u5b9a\n$ sudo vi /etc/sysconfig/clock\n\nZONE=\"Asia/Tokyo\"\n\u306b\u66f8\u304d\u63db\u3048\u308b\u3002\n$ sudo ln -sf /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n$ sudo reboot\n\n\n4 .  epel\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u6709\u52b9\u5316\nAmazon Linux AMI\u3067EPEL\u306e\u8a2d\u5b9a\u3060\u3051\u306f\u3059\u3067\u306b\u884c\u308f\u308c\u3066\u3044\u308b\u3002\nEPEL\u3092\u4f7f\u3044\u305f\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u3068\u3053\u308d\u3067yum --enablerepo=epel install -y xxxx\u3068\u5b9f\u884c\u3059\u308b\u3002\n\u3068\u3044\u3046\u306e\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3078\u3002\n\n5. S3\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (S3\u3092\u5229\u7528\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u4e0d\u8981)\n$ sudo yum -y --enablerepo epel install s3cmd\n$ s3cmd --configure\n\nAccess Key\u3068Secret Key\u3092\u8a2d\u5b9a\u3059\u308b\nhttps\u3092\u4f7f\u3046\u306byes\ns3cmd\u3067\u65e5\u672c\u8a9e\u3092\u6b63\u3057\u304f\u6271\u3046\u305f\u3081\u306e\u8a2d\u5b9a\n$ sudo vi /usr/lib/python2.6/site-packages/sitecustomize.py\n\n\n/usr/lib/python2.6/site-packages/sitecustomize.py\nimport sys\nsys.setdefaultencoding('utf-8')\n\n\n\n6. \u958b\u767a\u74b0\u5883\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum -y install gcc* make\n\n\n7.  mecab\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nmecab\u672c\u4f53\n\n$ wget https://mecab.googlecode.com/files/mecab-0.996.tar.gz\n$ tar zxvf mecab-0.996.tar.gz\n$ cd mecab-0.996\n$ ./configure --with-charset=utf-8\n$ make\n$ sudo make install\n$ sudo bash -c 'echo \"/usr/local/lib\" >> /etc/ld.so.conf.d/usr-local.conf'\n\nldconfig\u3067\u8a2d\u5b9a\u306e\u8aad\u307f\u8fbc\u307f\u76f4\u3057\u3002\n$ sudo ldconfig\n\n\nipadic\n\n$ wget https://mecab.googlecode.com/files/mecab-ipadic-2.7.0-20070801.tar.gz\n$ tar zxvf mecab-ipadic-2.7.0-20070801.tar.gz\n$ cd mecab-ipadic-2.7.0-20070801\n$ ./configure --with-charset=utf-8\n$ make\n$ sudo make install\n\n\nmeccab-ruby\u3092\u30b7\u30b9\u30c6\u30e0\u306eruby\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(Ruby\u3092\u4f7f\u308f\u306a\u3044\u306a\u3089\u4e0d\u8981)\n\n$ sudo yum -y install ruby-devel\n$ wget https://mecab.googlecode.com/files/mecab-ruby-0.996.tar.gz\n$ tar zxvf mecab-ruby-0.996.tar.gz\n$ cd mecab-ruby-0.996\n$ ruby extconf.rb\n$ make\n$ sudo make install\n$ ruby test.rb\n\n\nmecab-perl\u3092\u30b7\u30b9\u30c6\u30e0\u306eperl\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(Perl\u3092\u4f7f\u308f\u306a\u3044\u306a\u3089\u4e0d\u8981)\n\n$ wget https://mecab.googlecode.com/files/mecab-perl-0.996.tar.gz\n$ tar zxvf mecab-perl-0.996.tar.gz\n$ cd mecab-perl-0.996\n$ sudo yum -y install perl-ExtUtils-MakeMaker\n$ perl Makefile.PL\n$ make\n$ sudo make install\n$ perl test.pl\n\n\n8. ruby 2.1.2 (Ruby2.1.2\u3092\u4f7f\u308f\u306a\u3051\u308c\u3070\u4e0d\u8981)\n\nInstall Git\n\n$ sudo yum install -y git\n\n\nInstall RBEnv and the ruby-build plugin for it\n\n\n$ git clone git://github.com/sstephenson/rbenv.git .rbenv\n$ echo 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' >> ~/.bash_profile\n$ echo 'eval \"$(rbenv init -)\"' >> ~/.bash_profile\n$ mkdir -p ~/.rbenv/plugins\n$ cd ~/.rbenv/plugins\n$ git clone git://github.com/sstephenson/ruby-build.git\n$ source ~/.bash_profile\n\n\n\nrbenv install\u3068\u540c\u6642\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\n\n$ git clone https://github.com/sstephenson/rbenv-default-gems.git ~/.rbenv/plugins/rbenv-default-gems \n\n~/.rbenv/default-gems \u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5185\u5bb9\u3092\u66f8\u304f(\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u304a\u597d\u307f\u3067)\n\n~/.rbenv/default-gems\nrubygems-update\naws-sdk\npit\nec2ssh\nparallel\nelastic-mapreduce \n\n\n\nlibxml2 \u3068 libxslt \u306e\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb (nokogiri\u7528)\n\n$ sudo yum -y install libxml2-devel\n$ sudo yum -y install libxslt-devel\n\n\n\nInstall Ruby\n\n$ sudo yum -y install gcc make zlib zlib-devel openssl openssl-devel\n$ rbenv install 2.1.2\n$ rbenv rehash\n$ rbenv global 2.1.2\n\n$ gem update\n\n\nmecab-ruby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ wget https://mecab.googlecode.com/files/mecab-ruby-0.996.tar.gz\n$ tar zxvf mecab-ruby-0.996.tar.gz\n$ cd mecab-ruby-0.996\n$ gem build mecab-ruby.gemspec\n$ gem install mecab-ruby-0.99.gem\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u78ba\u8a8d\n$ ruby test.rb\n\nAWS EC2\u4e0a\u306bmecab\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30e1\u30e2\u3002\n\n\u4ee5\u524d\u306e\u30e1\u30e2\u306a\u306e\u3067\u3001Ruby\u306e\u60c5\u5831\u306f\u53e4\u304f\u306a\u3063\u3066\u3044\u308b\u304b\u3082\u3002\n\n# 0. instance\u7acb\u3061\u4e0a\u3052\n\nEC2\u4e0a\u306binstance\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3002\n\u3068\u308a\u3042\u3048\u305a\u3001\u304a\u8a66\u3057\u306a\u3089t2.micro\u3067\u3082\u826f\u3044\u304b\u3082\u3002\n\nAWS t2.micro\nOS: Amzon Linux\n\n\u30c4\u30fc\u30eb\u3001\u30c7\u30fc\u30bf\u306fS3\u4e0a\u306b\u4e0a\u3052\u3066\u304a\u304f\u3068\u3001\u5916\u90e8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3088\u308a\u5c11\u3057\u65e9\u3044\u3057\u3001\u304a\u8ca1\u5e03\u306b\u3082\u5c11\u3057\u512a\u3057\u3044\u3002\n\n\n# 1. yum update\n\n```bash\n$ sudo yum update\n```\n\n# 2. swap\u8a2d\u5b9a\n\nEC2instance\u304ct2.micro\u306e\u3068\u304dswap\u9818\u57df\u3092\u8a2d\u5b9a\u3059\u308b\n\n```bash\n$ sudo dd if=/dev/zero of=/swap.img bs=1M count=2048\n$ sudo chmod 600 /swap.img\n$ sudo mkswap /swap.img\n$ sudo bash -c 'echo \"/swap.img    swap    swap    defaults    0    0\" >> /etc/fstab'\n```\n\nswap\u3092\u6709\u52b9\u306b\u3059\u308b\n\n```bash\n$ sudo swapon -a\n```\n\n# 3. \u65e5\u672c\u6642\u9593\u306b\u8a2d\u5b9a\n\n```bash\n$ sudo vi /etc/sysconfig/clock\n```\nZONE=\"Asia/Tokyo\"\n\u306b\u66f8\u304d\u63db\u3048\u308b\u3002\n\n```bash\n$ sudo ln -sf /usr/share/zoneinfo/Asia/Tokyo /etc/localtime\n$ sudo reboot\n```\n\n# 4 .  epel\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u6709\u52b9\u5316\n\nAmazon Linux AMI\u3067EPEL\u306e\u8a2d\u5b9a\u3060\u3051\u306f\u3059\u3067\u306b\u884c\u308f\u308c\u3066\u3044\u308b\u3002\nEPEL\u3092\u4f7f\u3044\u305f\u3044\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u3068\u3053\u308d\u3067yum --enablerepo=epel install -y xxxx\u3068\u5b9f\u884c\u3059\u308b\u3002\n\u3068\u3044\u3046\u306e\u3092\u78ba\u8a8d\u3057\u305f\u3089\u3001\u6b21\u306e\u30b9\u30c6\u30c3\u30d7\u3078\u3002\n\n# 5. S3\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (S3\u3092\u5229\u7528\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u4e0d\u8981)\n\n```bash\n$ sudo yum -y --enablerepo epel install s3cmd\n$ s3cmd --configure\n```\n \nAccess Key\u3068Secret Key\u3092\u8a2d\u5b9a\u3059\u308b\nhttps\u3092\u4f7f\u3046\u306byes\n\ns3cmd\u3067\u65e5\u672c\u8a9e\u3092\u6b63\u3057\u304f\u6271\u3046\u305f\u3081\u306e\u8a2d\u5b9a\n\n```bash\n$ sudo vi /usr/lib/python2.6/site-packages/sitecustomize.py\n```\n\n```py:/usr/lib/python2.6/site-packages/sitecustomize.py\nimport sys\nsys.setdefaultencoding('utf-8')\n```\n\n# 6. \u958b\u767a\u74b0\u5883\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ sudo yum -y install gcc* make\n```\n\n# 7.  mecab\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n- mecab\u672c\u4f53\n\n```bash\n$ wget https://mecab.googlecode.com/files/mecab-0.996.tar.gz\n$ tar zxvf mecab-0.996.tar.gz\n$ cd mecab-0.996\n$ ./configure --with-charset=utf-8\n$ make\n$ sudo make install\n$ sudo bash -c 'echo \"/usr/local/lib\" >> /etc/ld.so.conf.d/usr-local.conf'\n```\n\nldconfig\u3067\u8a2d\u5b9a\u306e\u8aad\u307f\u8fbc\u307f\u76f4\u3057\u3002\n\n```bash\n$ sudo ldconfig\n```\n\n- ipadic\n\n```bash\n$ wget https://mecab.googlecode.com/files/mecab-ipadic-2.7.0-20070801.tar.gz\n$ tar zxvf mecab-ipadic-2.7.0-20070801.tar.gz\n$ cd mecab-ipadic-2.7.0-20070801\n$ ./configure --with-charset=utf-8\n$ make\n$ sudo make install\n```\n\n- meccab-ruby\u3092\u30b7\u30b9\u30c6\u30e0\u306eruby\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(Ruby\u3092\u4f7f\u308f\u306a\u3044\u306a\u3089\u4e0d\u8981)\n\n```bash\n$ sudo yum -y install ruby-devel\n$ wget https://mecab.googlecode.com/files/mecab-ruby-0.996.tar.gz\n$ tar zxvf mecab-ruby-0.996.tar.gz\n$ cd mecab-ruby-0.996\n$ ruby extconf.rb\n$ make\n$ sudo make install\n$ ruby test.rb\n```\n\n- mecab-perl\u3092\u30b7\u30b9\u30c6\u30e0\u306eperl\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(Perl\u3092\u4f7f\u308f\u306a\u3044\u306a\u3089\u4e0d\u8981)\n\n```bash\n$ wget https://mecab.googlecode.com/files/mecab-perl-0.996.tar.gz\n$ tar zxvf mecab-perl-0.996.tar.gz\n$ cd mecab-perl-0.996\n$ sudo yum -y install perl-ExtUtils-MakeMaker\n$ perl Makefile.PL\n$ make\n$ sudo make install\n$ perl test.pl\n```\n\n# 8. ruby 2.1.2 (Ruby2.1.2\u3092\u4f7f\u308f\u306a\u3051\u308c\u3070\u4e0d\u8981)\n\n- Install Git\n\n```bash\n$ sudo yum install -y git\n```\n\n- Install RBEnv and the ruby-build plugin for it\n\n```bash\n\n$ git clone git://github.com/sstephenson/rbenv.git .rbenv\n$ echo 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' >> ~/.bash_profile\n$ echo 'eval \"$(rbenv init -)\"' >> ~/.bash_profile\n$ mkdir -p ~/.rbenv/plugins\n$ cd ~/.rbenv/plugins\n$ git clone git://github.com/sstephenson/ruby-build.git\n$ source ~/.bash_profile\n\n```\n\n- rbenv install\u3068\u540c\u6642\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308bgem\u30d1\u30c3\u30b1\u30fc\u30b8\n\n```bash\n$ git clone https://github.com/sstephenson/rbenv-default-gems.git ~/.rbenv/plugins/rbenv-default-gems \n```\n\n\n~/.rbenv/default-gems \u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5185\u5bb9\u3092\u66f8\u304f(\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u304a\u597d\u307f\u3067)\n\n```rb:~/.rbenv/default-gems\nrubygems-update\naws-sdk\npit\nec2ssh\nparallel\nelastic-mapreduce \n```\n\n- libxml2 \u3068 libxslt \u306e\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb (nokogiri\u7528)\n\n\n```bash\n$ sudo yum -y install libxml2-devel\n$ sudo yum -y install libxslt-devel\n\n```\n\n- Install Ruby\n\n```bash\n$ sudo yum -y install gcc make zlib zlib-devel openssl openssl-devel\n$ rbenv install 2.1.2\n$ rbenv rehash\n$ rbenv global 2.1.2\n```\n\n```bash\n$ gem update\n```\n\n- mecab-ruby\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\n$ wget https://mecab.googlecode.com/files/mecab-ruby-0.996.tar.gz\n$ tar zxvf mecab-ruby-0.996.tar.gz\n$ cd mecab-ruby-0.996\n$ gem build mecab-ruby.gemspec\n$ gem install mecab-ruby-0.99.gem\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u78ba\u8a8d\n\n```bash\n$ ruby test.rb\n```\n", "tags": ["mecab", "AWS", "Ruby"]}