{"tags": ["oracle", "MySQL"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002Primary\u30ad\u30fc\u307e\u305f\u306fUnique\u30ad\u30fc\u3092\u6307\u5b9a\u3057\u3066\u3001\u30ec\u30b3\u30fc\u30c9\u304c\u306a\u3051\u308c\u3070INSERT\u3001\u3042\u308c\u3070UPDATE\u3057\u305f\u3044\u3002\n\nmysql\n\nINSERT \u2026\u3000ON DUPLICATE KEY UPDATE\u6587\u3092\u4f7f\u3046\nmysql> desc foo;\n+-------+--------------+------+-----+---------+-------+\n| Field | Type           | Null  | Key | Default | Extra |\n+-------+--------------+------+-----+---------+-------+\n| code  | varchar(32)    | NO   | PRI |               |       |\n| name  | varchar(256) | YES  |        | NULL    |       |\n+-------+--------------+------+-----+---------+-------+\nmysql> insert into foo (code, name ) values ('0001', 'abc') on duplicate key update code='0001', name='def';\ncode='0001'\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u306a\u3044\u306e\u3067\u3001insert\nmysql> select * from foo;\n+------+------+\n| code | name |\n+------+------+\n| 0001 | abc  |\n+------+------+\nmysql> insert into foo (code, name ) values ('0001', 'abc') on duplicate key update code='0001', name='def';\ncode='0001'\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u3042\u308b\u306e\u3067\u3001name='def'\u3067update\n+------+------+\n| code | name |\n+------+------+\n| 0001 | def  |\n+------+------+\n\noracle\n\nMERGE\u6587\u3092\u4f7f\u3046(9i\u4ee5\u964d\uff09\nEx.\nmerge into user_master a\nusing (select '0056ddgd456' as user_id, 700 as user_point from dual ) b\non (a.user_id = b.user_id)\nwhen matched then\n update set\n    user_point = user_point + 100\nwhen not matched then\n insert (user_id, user_point)\n values ('0056ddgd456', 100 );\ndual\u8868\u3092\u4f7f\u308f\u306a\u3044\u66f8\u304d\u65b9\u3082\u3042\u308b\u307f\u305f\u3044\u3002\nPrimary\u30ad\u30fc\u307e\u305f\u306fUnique\u30ad\u30fc\u3092\u6307\u5b9a\u3057\u3066\u3001\u30ec\u30b3\u30fc\u30c9\u304c\u306a\u3051\u308c\u3070INSERT\u3001\u3042\u308c\u3070UPDATE\u3057\u305f\u3044\u3002\n\n#mysql\n\n##INSERT \u2026\u3000ON DUPLICATE KEY UPDATE\u6587\u3092\u4f7f\u3046\n\nmysql> desc foo;\n+-------+--------------+------+-----+---------+-------+\n| Field | Type           | Null  | Key | Default | Extra |\n+-------+--------------+------+-----+---------+-------+\n| code  | varchar(32)    | NO   | PRI |               |       |\n| name  | varchar(256) | YES  |        | NULL    |       |\n+-------+--------------+------+-----+---------+-------+\n\n\nmysql> insert into foo (code, name ) values ('0001', 'abc') on duplicate key update code='0001', name='def';\n\ncode='0001'\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u306a\u3044\u306e\u3067\u3001insert\n\nmysql> select * from foo;\n+------+------+\n| code | name |\n+------+------+\n| 0001 | abc  |\n+------+------+\n\nmysql> insert into foo (code, name ) values ('0001', 'abc') on duplicate key update code='0001', name='def';\n\ncode='0001'\u306e\u30ec\u30b3\u30fc\u30c9\u304c\u3042\u308b\u306e\u3067\u3001name='def'\u3067update\n+------+------+\n| code | name |\n+------+------+\n| 0001 | def  |\n+------+------+\n\n\n#oracle\n\n##MERGE\u6587\u3092\u4f7f\u3046(9i\u4ee5\u964d\uff09\n\nEx.\nmerge into user_master a\nusing (select '0056ddgd456' as user_id, 700 as user_point from dual ) b\non (a.user_id = b.user_id)\nwhen matched then\n update set\n    user_point = user_point + 100\nwhen not matched then\n insert (user_id, user_point)\n values ('0056ddgd456', 100 );\n\ndual\u8868\u3092\u4f7f\u308f\u306a\u3044\u66f8\u304d\u65b9\u3082\u3042\u308b\u307f\u305f\u3044\u3002\n"}