{"context": " More than 1 year has passed since last update.\n\n\u6ce8\u610f\u66f8\u304d\n\u4f5c\u696d\u5f8c\u306b\u66f8\u304d\u76f4\u3057\u305f\u3081\u3001\u9593\u9055\u3044\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u5f8c\u3067\u78ba\u8a8d\u3057\u3066\u3001\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n\u306f\u3058\u3081\u306b\n\u8907\u6570\u306ePaaS\u3067Skinny Framework\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u65b9\u6cd5\u3092\u8a66\u3057\u305f\u306e\u3067\u3001\u307e\u305a\u306f\u3001OpenShift\u306e\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\uff08CloudBees\u3067\u306f\u3001DB\u30b5\u30fc\u30d3\u30b9\u304cMySQL\u306e\u307f\u306a\u306e\u3067\u518d\u691c\u8a0e\u4e2d\uff09\n\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30fc\u30f3\u3067\u306e\u5b9f\u884c\u306a\u3069\u3082\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\n\u4eca\u56de\u306f\u3001war\u30d5\u30a1\u30a4\u30eb\u3092Tomcat\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u65b9\u6cd5\u3092\u53d6\u308a\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001\u540c\u4e00\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u306ePostgreSQL\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\nOpenShift\u306b\u3064\u3044\u3066\nRedHat\u63d0\u4f9b\u306ePaaS\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3063\u3066\u30013\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u307e\u3067\u3001\u7121\u6599\u3067\u4f7f\u3048\u307e\u3059\u3002\n\u7279\u5fb4\u3068\u3057\u3066\u306f\u3001OpenStack\u6e96\u62e0\u3067\u3001\u6a19\u6e96\u306e\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8\u3092\u4f7f\u3048\u3070\u81ea\u52d5\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u30d1\u30c3\u30c1\u306e\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3092\u884c\u3063\u3066\u304f\u308c\u308b\u3053\u3068\u3067\u3057\u3087\u3046\u304b\u3002\n\u73fe\u6642\u70b9(2014/5/10)\u306b\u304a\u3044\u3066\u3001\u65e5\u672c\u5728\u4f4f\u306e\u8a2d\u5b9a\u3067\u306f\u6709\u6599\u767b\u9332\u304c\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\nOpenShift\u767b\u9332\u624b\u9806\nOpenShift\u306e\u30b5\u30a4\u30c8\u3092\u958b\u3044\u305f\u3042\u3068\u3001\n\n\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\n\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u78ba\u8a8d\n\u898f\u7d04\u540c\u610f\n\n\u306e\u9806\u306b\u304a\u3053\u306a\u3044\u307e\u3059\u3002\n\u30b5\u30a4\u30c8\u30c8\u30c3\u30d7\u753b\u9762\n\n\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u753b\u9762\n\n\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\u30e1\u30fc\u30eb\u9001\u4fe1\u5b8c\u4e86\u753b\u9762\n\n\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\u30e1\u30fc\u30eb\n\n\u898f\u7d04\u540c\u610f\u753b\u9762\n\n\nTips\n\n\u30a2\u30ab\u30a6\u30f3\u30c8\u3082\u30d1\u30b9\u30ef\u30fc\u30c9\u3082RedHat\u5168\u4f53\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u5171\u901a\u306b\u306a\u308a\u307e\u3059\u3002\n\u30b5\u30a4\u30f3\u30a4\u30f3\u5f8c\u306b\u30a8\u30e9\u30fc\u753b\u9762\u306b\u5165\u308b\u5834\u5408\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u306e\u30af\u30c3\u30ad\u30fc\u3092\u524a\u9664\u3057\u307e\u3059\u3002\u524a\u9664\u5bfe\u8c61\u306f\u3001\u300credhat.com\u300d\u3092\u542b\u3080\u3082\u306e\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nRHC\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306e\u5c0e\u5165\u624b\u9806\n\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\n\n\nOpenShift\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306f\u3001Ruby\u306eGEM\u3068\u3057\u3066\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067Ruby\u304c\u5fc5\u8981\u3067\u3059\u3002\nOSX\u306e\u5834\u5408\u306f\u3001\n$ sudo gem install rhc --no-rdoc --no-ri\n\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\n\u6b21\u306b\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7d10\u4ed8\u3051\u307e\u3059\u3002\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u4f5c\u696d\u4e2d\u306b\u3001\u81ea\u52d5\u3067ssh\u306e\u516c\u958b\u9375\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306a\u3069\u3082\u884c\u308f\u308c\u307e\u3059\u3002\n# \u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ rhc setup\n\nOpenShift Client Tools (RHC) Setup Wizard\n\nThis wizard will help you upload your SSH keys, set your application namespace,\nand check that other programs like Git are properly installed.\n\nLogin to openshift.redhat.com: <\u767b\u9332\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9>\nPassword: ************\n\nOpenShift can create and store a token on disk which allows to you to access the\nserver without using your password. The key is stored in your home directory and\nshould be kept secret.  You can delete the key at any time by running 'rhc\nlogout'.\nGenerate a token now? (yes|no) yes\nGenerating an authorization token for this client ... lasts about 1 month\n\nSaving configuration to /Users/foobar/.openshift/express.conf ... done\n\nChecking for git ... found git version 1.8.5.2 (Apple Git-48)\n\nChecking common problems .. done\n\nYour client tools are now configured.\n\n\n\u8db3\u308a\u306a\u3044\u6642\n\n\u30c9\u30e1\u30a4\u30f3\u306e\u8a2d\u5b9a\nssh\u306e\u516c\u958b\u9375\n\nssh\u306e\u8a2d\u5b9a\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001Web\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u8a2d\u5b9a\u753b\u9762\u304b\u3089\u516c\u958b\u9375\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n$ pbcopy < ~/.ssh/id_rsa.pub\n\n\u3067\u3001\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3057\u3066\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089OpenShift\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\nGUI\u304b\u3089\u8a2d\u5b9a\u3059\u308b\u65b9\u6cd5\u306f\u3001\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u306f\u3058\u3081\u3088\u3046 \u304b\u3089\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\nOpenShift\u30a2\u30d7\u30ea\u306e\u304a\u304a\u307e\u304b\u306a\u4f5c\u6210\u624b\u9806\u306f\u3001\n1. \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u9078\u629e\n2. DB\u306a\u3069\u306e\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8\u3092\u8ffd\u52a0\n3. \u30b3\u30fc\u30c9\u3092Git\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\u306b\u306a\u308a\u307e\u3059\u3002\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u304a\u3053\u306a\u3046\u3068\u30011,2,3\u304c\u30bb\u30c3\u30c8\u3067\u884c\u3048\u307e\u3059\u3002\n# tomcat7 + postgres9.2 \u306e\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8\u3092\u5229\u7528\n# rhc app-create <\u30a2\u30d7\u30ea\u540d> <\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8> [<\u8ffd\u52a0\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8>]\n$ rhc app-create skinnyapp jbossews-2.0 postgresql-9.2\n\nApplication Options\n-------------------\nDomain:     foobar\nCartridges: jbossews-2.0, postgresql-9.2\nGear Size:  default\nScaling:    no\n\nCreating application 'skinnyapp' ... done\n\n  PostgreSQL 9.2 database added.  Please make note of these credentials:\n\n   Root User: adminxxxxxx\n   Root Password: xxxxxxxxxxxx\n   Database Name: skinnyapp\n\nConnection URL: postgresql://$OPENSHIFT_POSTGRESQL_DB_HOST:$OPENSHIFT_POSTGRESQL_DB_PORT\n\nWaiting for your DNS name to be available ... done\n\nCloning into 'skinnyapp'...\nThe authenticity of host 'skinnyapp-foobar.rhcloud.com (255.255.255.255)' can't be established.\nRSA key fingerprint is xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'skinnyapp-foobar.rhcloud.com,255.255.255.255' (RSA) to the list of known hosts.\n\nYour application 'skinnyapp' is now available.\n\n  URL:        http://skinnyapp-foobar.rhcloud.com/\n  SSH to:     xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com\n  Git remote: ssh://xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com/~/git/skinnyapp.git/\n  Cloned to:  /Users/foobar/skinnyapp\n\nRun 'rhc show-app skinnyapp' for more details about your app.\n\n\nDB\u306e\u60c5\u5831\n\nRoot User: adminxxxxxx\n  Root Password: xxxxxxxxxxxx\n  Database Name: skinnyapp\n\n\u30b5\u30fc\u30d0\u306e\u60c5\u5831\n\nURL:        http://skinnyapp-foobar.rhcloud.com/\n SSH to:     xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com\n Git remote: ssh://xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com/~/git/skinnyapp.git/\n\nGit\u30af\u30ed\u30fc\u30f3\u5148\u306e\u60c5\u5831\n\nCloned to:  /Users/foobar/skinnyapp\n\n\u30b5\u30fc\u30d0\u30fc\u306bgit\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u3042\u308a\u3001\n\u307e\u305f\u3001ssh\u3067\u30ed\u30b0\u30a4\u30f3\u3082\u51fa\u6765\u307e\u3059\u3002\n\u4f5c\u6210\u3057\u305f\u3001\u30a2\u30d7\u30ea\u3092\u4e00\u5ea6\u958b\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n# \n$ open http://skinnyapp-foobar.rhcloud.com/\n\n\n\n\u3068\u3044\u3046\u753b\u9762\u304c\u3001\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\ngit\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u81ea\u524d\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u3044\u3068\u304d\u306f\u3001\n# \u30af\u30ed\u30fc\u30f3\n$ git clone ssh://xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com/~/git/skinnyapp.git skinnyapp \n$ cd skinnyapp\n\n\n\u3068\u3057\u307e\u3059\u3002\n\nskinny\u3092\u7528\u610f\n\u4eca\u56de\u306f\u516c\u5f0f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u5143\u306b\u3001\u3056\u3063\u304f\u308a\u3001\u4e0b\u8a18\u306e\u624b\u9806\u3067\u6e96\u5099\u3057\u307e\u3059\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u30e2\u30c7\u30eb\u4f5c\u6210\nDB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\n\u30b5\u30fc\u30d0\u8d77\u52d5\n\u30da\u30fc\u30b8\u78ba\u8a8d\n\nSkinny Framework\u306e\u30b5\u30a4\u30c8\u304b\u3089\u3001\u307e\u305a\u306f\u3001\u30b9\u30b1\u30eb\u30c8\u30f3\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u307e\u3059\u3002\n\u300cskinny-blank-app-with-deps.zip (80MB)\u300d\n\u306a\u3069\u66f8\u3044\u3066\u3042\u308b\u7269\u306b\u306a\u308a\u307e\u3059\u3002\nZIP\u30d5\u30a1\u30a4\u30eb\u3092\u5c55\u958b\u3057\u3066\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u304d\u3001\u30d5\u30a9\u30eb\u30c0\u5185\u306b\u79fb\u52d5\u3057\u3066\n\u307e\u305a\u306f\u3001development\u74b0\u5883\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n# Members\u3092\u7528\u610f\n$ ./skinny g scaffold members member name:String activated:Boolean luckyNumber:Option[Long] birthday:Option[LocalDate]\n# DB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8(SQLite)\n$ ./skinny db:migrate\n# \u30b5\u30fc\u30d0\u8d77\u52d5\n$ ./skinny run\n\n\u30b5\u30fc\u30d0\u304c\u8d77\u52d5\u3057\u305f\u3089\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u304d\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n```bash:\n\n\u30c8\u30c3\u30d7\u753b\u9762\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\n$ open http://127.0.0.1:8080/\n\nmember\u306e\u4e00\u89a7\u753b\u9762\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\n$ open http://127.0.0.1:8080/members\n```\n\nOpenShift\u30c7\u30d7\u30ed\u30a4\u7528\u306e\u8a2d\u5b9a\n\u3053\u3053\u304b\u3089\u306f\u3001OpenShift\u74b0\u5883\u306b\u5408\u308f\u305b\u305f\u8a2d\u5b9a\u5909\u66f4\u3092\u304a\u3053\u306a\u3044\u307e\u3059\u3002\nPostgreSQL\u7528\u306eJDBC\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n```scala:Build.scala\n      \"com.h2database\"          %  \"h2\"                  % \"1.4.177\",      // your own JDBC driver\n      \"org.postgresql\" % \"postgresql\" % \"9.2-1004-jdbc4\",      // your own JDBC driver\n\n\nOpenShift\u7528\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u5b9a\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n```bash:application.conf\ndevelopment {\n  db {\n    default {\n      driver=\"org.h2.Driver\"\n      url=\"jdbc:h2:file:./db/development;MODE=PostgreSQL;AUTO_SERVER=TRUE\"\n      user=\"sa\"\n      password=\"sa\"\n      poolInitialSize=2\n      poolMaxSize=10\n    }\n  }\n}\n\ntest {\n  db {\n    default {\n      driver=\"org.h2.Driver\"\n      url=\"jdbc:h2:file:./db/test;MODE=PostgreSQL;AUTO_SERVER=TRUE\"\n      user=\"sa\"\n      password=\"sa\"\n      poolInitialSize=2\n      poolMaxSize=10\n    }\n  }\n}\n\nstaging {\n  db {\n    default {\n      driver=\"org.postgresql.Driver\"\n      url=\"jdbc:postgresql://\"${?OPENSHIFT_POSTGRESQL_DB_HOST}\":\"${?OPENSHIFT_POSTGRESQL_DB_PORT}\"/\"${?PGDATABASE}\n      user=${?OPENSHIFT_POSTGRESQL_DB_USERNAME}\n      password=${?OPENSHIFT_POSTGRESQL_DB_PASSWORD}\n      poolInitialSize=5\n      poolMaxSize=20\n    }\n  }\n}\n\nproduction {\n  db {\n    default {\n      driver=\"org.postgresql.Driver\"\n      url=\"jdbc:postgresql://\"${?OPENSHIFT_POSTGRESQL_DB_HOST}\":\"${?OPENSHIFT_POSTGRESQL_DB_PORT}\"/\"${?PGDATABASE}\n      user=${?OPENSHIFT_POSTGRESQL_DB_USERNAME}\n      password=${?OPENSHIFT_POSTGRESQL_DB_PASSWORD}\n      poolInitialSize=5\n      poolMaxSize=20\n    }\n  }\n}\n\n\n\nwar\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3001OpenShift\u306eGit\u30d5\u30a9\u30eb\u30c0\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n#war\u4f5c\u6210\n$ ./skinny package production\n\n#\u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc\uff08Tomcat\u4e0a\u306bwar\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u5c55\u958b\u3055\u308c\u308b\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u5909\u66f4\uff09\n$ cp ./build/target/scala-2.10/skinny-blank-app_2.10-0.1.0-SNAPSHOT.war /User/foobar/skinnyapp/deployments/skinnyapp.war\n\n\n\nOpenShift\u74b0\u5883\u306bDB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\nOpenShift\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u306ePostgreSQL\u306bDB\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u306b\u306f\u3001\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u3064\u304b\u3044\u307e\u3059\u3002\n# \u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u4f5c\u6210\n$ rhc port-forward shinnyapp\nChecking available ports ... done\nForwarding ports ...\n\nTo connect to a service running on OpenShift, use the Local address\n\nService    Local               OpenShift\n---------- -------------- ---- ----------------\njava       127.0.0.1:8080  =>  127.4.227.1:8080\npostgresql 127.0.0.1:5432  =>  127.4.227.2:5432\n\nPress CTRL-C to terminate port forwarding\n\n\u6b21\u306b\u3001DB\u8a2d\u5b9a\u7528\u306e\u74b0\u5883\u5909\u6570\u3092\u63c3\u3048\u307e\u3059\u3002\n```bash:\n\n\u74b0\u5883\u5909\u6570\u3092\u53d6\u5f97\u3059\u308b\n[shinnyapp-foobar.rhcloud.com]> export|egrep \"OPENSHIFT_POSTGRESQL_DB_PORT|PGDATABASE|OPENSHIFT_POSTGRESQL_DB_PASSWORD\"\ndeclare -x OPENSHIFT_POSTGRESQL_DB_PASSWORD=\"xxxxxxxx\"\ndeclare -x OPENSHIFT_POSTGRESQL_DB_PORT=\"5432\"\ndeclare -x PGDATABASE=\"skinnyapp\"\n\n\u30ed\u30fc\u30ab\u30eb\u306b\u3082\u74b0\u5883\u5909\u6570\u3092\u53cd\u6620\u3057\u3066\u3001DB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```bash:\n#\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306b\u74b0\u5883\u5909\u6570\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\ndeclare -x OPENSHIFT_POSTGRESQL_DB_PASSWORD=\"mjIwfERH7B3s\"\ndeclare -x OPENSHIFT_POSTGRESQL_DB_PORT=\"5432\"\ndeclare -x PGDATABASE=\"jbossews\"\n\n#\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u305f\u3081\u3001\u3053\u3053\u3060\u3051\u9055\u3046\ndeclare -x OPENSHIFT_POSTGRESQL_DB_HOST=\"127.0.0.1\"\n\n#OpenShift\u306bDB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\n./skinny db:migrate production\n\n\n\nOpenShift\u74b0\u5883\u306bwar\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\u6700\u5f8c\u306b\u3001\u5148\u307b\u3069\u30b3\u30d4\u30fc\u3057\u305fwar\u30d5\u30a1\u30a4\u30eb\u3092Git\u7d4c\u7531\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n$ git add .\n$ git commit -m \"Inital commit.\"\n$ git push\n\n...\u518d\u8d77\u52d5\u306b\u95a2\u3059\u308b\u30ed\u30b0...\n\n\n\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u3001\u30ed\u30b0\u3092\u958b\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n# \u30ed\u30b0\u3092\u8868\u793a\n$ rhc log skinnyapp\n\n\u3057\u3070\u3089\u304f\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u3044\u3066\u3001\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n$ open http://shinnyapp-foobar.rhcloud.com/shinnyapp/members\n\n\n\u304a\u308f\u308a\u306b\n\u30bd\u30fc\u30b9\u306b\u4fee\u6b63\u304c\u3042\u308c\u3070\u3001\u518d\u3073war\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3001\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u4ee5\u4e0a\u3067\u7d42\u308f\u308a\u3067\u3059\u3002\n\n\n### \u6ce8\u610f\u66f8\u304d\n\n\u4f5c\u696d\u5f8c\u306b\u66f8\u304d\u76f4\u3057\u305f\u3081\u3001\u9593\u9055\u3044\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u5f8c\u3067\u78ba\u8a8d\u3057\u3066\u3001\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n## \u306f\u3058\u3081\u306b\n\u8907\u6570\u306ePaaS\u3067Skinny Framework\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u65b9\u6cd5\u3092\u8a66\u3057\u305f\u306e\u3067\u3001\u307e\u305a\u306f\u3001OpenShift\u306e\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\uff08CloudBees\u3067\u306f\u3001DB\u30b5\u30fc\u30d3\u30b9\u304cMySQL\u306e\u307f\u306a\u306e\u3067\u518d\u691c\u8a0e\u4e2d\uff09\n\n\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30fc\u30f3\u3067\u306e\u5b9f\u884c\u306a\u3069\u3082\u51fa\u6765\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\n\u4eca\u56de\u306f\u3001war\u30d5\u30a1\u30a4\u30eb\u3092Tomcat\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u65b9\u6cd5\u3092\u53d6\u308a\u307e\u3057\u305f\u3002\n\n\u307e\u305f\u3001\u540c\u4e00\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u306ePostgreSQL\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n## OpenShift\u306b\u3064\u3044\u3066\nRedHat\u63d0\u4f9b\u306ePaaS\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3063\u3066\u30013\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u307e\u3067\u3001\u7121\u6599\u3067\u4f7f\u3048\u307e\u3059\u3002\n\n\u7279\u5fb4\u3068\u3057\u3066\u306f\u3001OpenStack\u6e96\u62e0\u3067\u3001\u6a19\u6e96\u306e\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8\u3092\u4f7f\u3048\u3070\u81ea\u52d5\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u30d1\u30c3\u30c1\u306e\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3092\u884c\u3063\u3066\u304f\u308c\u308b\u3053\u3068\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u73fe\u6642\u70b9(2014/5/10)\u306b\u304a\u3044\u3066\u3001\u65e5\u672c\u5728\u4f4f\u306e\u8a2d\u5b9a\u3067\u306f\u6709\u6599\u767b\u9332\u304c\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n## OpenShift\u767b\u9332\u624b\u9806\n\n[OpenShift](https://www.openshift.com/)\u306e\u30b5\u30a4\u30c8\u3092\u958b\u3044\u305f\u3042\u3068\u3001\n\n* \u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\n* \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u78ba\u8a8d\n* \u898f\u7d04\u540c\u610f\n\n\u306e\u9806\u306b\u304a\u3053\u306a\u3044\u307e\u3059\u3002\n\n\n**\u30b5\u30a4\u30c8\u30c8\u30c3\u30d7\u753b\u9762**\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-05-10 21.33.11.png](https://qiita-image-store.s3.amazonaws.com/0/31371/ab63a756-84a0-3ec4-a8aa-5427e7f3ab81.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-05-10 21.33.11.png\")\n\n\n**\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u753b\u9762**\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-05-10 21.34.47.png](https://qiita-image-store.s3.amazonaws.com/0/31371/8921de30-f46f-b655-56c1-ffd06877fb83.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-05-10 21.34.47.png\")\n\n**\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\u30e1\u30fc\u30eb\u9001\u4fe1\u5b8c\u4e86\u753b\u9762**\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-05-10 21.38.26.png](https://qiita-image-store.s3.amazonaws.com/0/31371/5a75f668-754b-5842-a786-d4b26a79c213.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-05-10 21.38.26.png\")\n\n**\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\u30e1\u30fc\u30eb**\n![\u540d\u79f0\u672a\u8a2d\u5b9a.png](https://qiita-image-store.s3.amazonaws.com/0/31371/82f9c0f0-2298-7249-589a-376237cb2e16.png \"\u540d\u79f0\u672a\u8a2d\u5b9a.png\")\n\n\n**\u898f\u7d04\u540c\u610f\u753b\u9762**\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-05-10 21.39.03.png](https://qiita-image-store.s3.amazonaws.com/0/31371/9bca5144-5f4e-2d66-e7b6-9172a6b94e23.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-05-10 21.39.03.png\")\n\n\n### Tips\n\n* \u30a2\u30ab\u30a6\u30f3\u30c8\u3082\u30d1\u30b9\u30ef\u30fc\u30c9\u3082RedHat\u5168\u4f53\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u5171\u901a\u306b\u306a\u308a\u307e\u3059\u3002\n* \u30b5\u30a4\u30f3\u30a4\u30f3\u5f8c\u306b\u30a8\u30e9\u30fc\u753b\u9762\u306b\u5165\u308b\u5834\u5408\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u30fc\u306e\u30af\u30c3\u30ad\u30fc\u3092\u524a\u9664\u3057\u307e\u3059\u3002\u524a\u9664\u5bfe\u8c61\u306f\u3001\u300credhat.com\u300d\u3092\u542b\u3080\u3082\u306e\u306b\u306a\u308a\u307e\u3059\u3002\n\n## RHC\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306e\u5c0e\u5165\u624b\u9806\n\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u8aac\u660e\u3057\u307e\u3059\u3002\n\n* \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306e[\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5](https://www.openshift.com/developers/rhc-client-tools-install)\n\n\nOpenShift\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u306f\u3001Ruby\u306eGEM\u3068\u3057\u3066\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067Ruby\u304c\u5fc5\u8981\u3067\u3059\u3002\n\nOSX\u306e\u5834\u5408\u306f\u3001\n\n```bash:\n$ sudo gem install rhc --no-rdoc --no-ri\n```\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002\n\n\u6b21\u306b\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7d10\u4ed8\u3051\u307e\u3059\u3002\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u4f5c\u696d\u4e2d\u306b\u3001\u81ea\u52d5\u3067ssh\u306e\u516c\u958b\u9375\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306a\u3069\u3082\u884c\u308f\u308c\u307e\u3059\u3002\n\n```bash:\n# \u30a2\u30ab\u30a6\u30f3\u30c8\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ rhc setup\n\nOpenShift Client Tools (RHC) Setup Wizard\n\nThis wizard will help you upload your SSH keys, set your application namespace,\nand check that other programs like Git are properly installed.\n\nLogin to openshift.redhat.com: <\u767b\u9332\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9>\nPassword: ************\n\nOpenShift can create and store a token on disk which allows to you to access the\nserver without using your password. The key is stored in your home directory and\nshould be kept secret.  You can delete the key at any time by running 'rhc\nlogout'.\nGenerate a token now? (yes|no) yes\nGenerating an authorization token for this client ... lasts about 1 month\n\nSaving configuration to /Users/foobar/.openshift/express.conf ... done\n\nChecking for git ... found git version 1.8.5.2 (Apple Git-48)\n\nChecking common problems .. done\n\nYour client tools are now configured.\n```\n\n\n### \u8db3\u308a\u306a\u3044\u6642\n\n* \u30c9\u30e1\u30a4\u30f3\u306e\u8a2d\u5b9a\n* ssh\u306e\u516c\u958b\u9375\n\nssh\u306e\u8a2d\u5b9a\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001[Web\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u8a2d\u5b9a\u753b\u9762](https://openshift.redhat.com/app/console/settings)\u304b\u3089\u516c\u958b\u9375\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\n```bash:\n$ pbcopy < ~/.ssh/id_rsa.pub\n```\n\u3067\u3001\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3057\u3066\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\n\n\n## \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089OpenShift\u30a2\u30d7\u30ea\u3092\u4f5c\u6210\nGUI\u304b\u3089\u8a2d\u5b9a\u3059\u308b\u65b9\u6cd5\u306f\u3001\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e[\u306f\u3058\u3081\u3088\u3046](https://www.openshift.com/get-started) \u304b\u3089\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nOpenShift\u30a2\u30d7\u30ea\u306e\u304a\u304a\u307e\u304b\u306a\u4f5c\u6210\u624b\u9806\u306f\u3001\n1. \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u9078\u629e\n2. DB\u306a\u3069\u306e\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8\u3092\u8ffd\u52a0\n3. \u30b3\u30fc\u30c9\u3092Git\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u304a\u3053\u306a\u3046\u3068\u30011,2,3\u304c\u30bb\u30c3\u30c8\u3067\u884c\u3048\u307e\u3059\u3002\n\n```bash:\n# tomcat7 + postgres9.2 \u306e\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8\u3092\u5229\u7528\n# rhc app-create <\u30a2\u30d7\u30ea\u540d> <\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8> [<\u8ffd\u52a0\u30ab\u30fc\u30c8\u30ea\u30c3\u30b8>]\n$ rhc app-create skinnyapp jbossews-2.0 postgresql-9.2\n\nApplication Options\n-------------------\nDomain:     foobar\nCartridges: jbossews-2.0, postgresql-9.2\nGear Size:  default\nScaling:    no\n\nCreating application 'skinnyapp' ... done\n\n  PostgreSQL 9.2 database added.  Please make note of these credentials:\n\n   Root User: adminxxxxxx\n   Root Password: xxxxxxxxxxxx\n   Database Name: skinnyapp\n\nConnection URL: postgresql://$OPENSHIFT_POSTGRESQL_DB_HOST:$OPENSHIFT_POSTGRESQL_DB_PORT\n\nWaiting for your DNS name to be available ... done\n\nCloning into 'skinnyapp'...\nThe authenticity of host 'skinnyapp-foobar.rhcloud.com (255.255.255.255)' can't be established.\nRSA key fingerprint is xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added 'skinnyapp-foobar.rhcloud.com,255.255.255.255' (RSA) to the list of known hosts.\n\nYour application 'skinnyapp' is now available.\n\n  URL:        http://skinnyapp-foobar.rhcloud.com/\n  SSH to:     xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com\n  Git remote: ssh://xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com/~/git/skinnyapp.git/\n  Cloned to:  /Users/foobar/skinnyapp\n\nRun 'rhc show-app skinnyapp' for more details about your app.\n\n```\n\nDB\u306e\u60c5\u5831\n>   Root User: adminxxxxxx\n>   Root Password: xxxxxxxxxxxx\n>   Database Name: skinnyapp\n\n\u30b5\u30fc\u30d0\u306e\u60c5\u5831\n>  URL:        http://skinnyapp-foobar.rhcloud.com/\n>  SSH to:     xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com\n>  Git remote: ssh://xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com/~/git/skinnyapp.git/\n\nGit\u30af\u30ed\u30fc\u30f3\u5148\u306e\u60c5\u5831\n>  Cloned to:  /Users/foobar/skinnyapp\n\n\n\u30b5\u30fc\u30d0\u30fc\u306bgit\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u3042\u308a\u3001\n\u307e\u305f\u3001ssh\u3067\u30ed\u30b0\u30a4\u30f3\u3082\u51fa\u6765\u307e\u3059\u3002\n\n\n\u4f5c\u6210\u3057\u305f\u3001\u30a2\u30d7\u30ea\u3092\u4e00\u5ea6\u958b\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```bash:\n# \n$ open http://skinnyapp-foobar.rhcloud.com/\n\n```\n\n![\u540d\u79f0\u672a\u8a2d\u5b9a\uff12.png](https://qiita-image-store.s3.amazonaws.com/0/31371/b3cbd6c7-6709-2ffd-316e-8900e0f00d32.png \"\u540d\u79f0\u672a\u8a2d\u5b9a\uff12.png\")\n\u3068\u3044\u3046\u753b\u9762\u304c\u3001\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n\ngit\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u81ea\u524d\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u3044\u3068\u304d\u306f\u3001\n\n```bash:\n# \u30af\u30ed\u30fc\u30f3\n$ git clone ssh://xxxxxxxxxxxx@skinnyapp-foobar.rhcloud.com/~/git/skinnyapp.git skinnyapp \n$ cd skinnyapp\n\n```\n\u3068\u3057\u307e\u3059\u3002\n\n\n## skinny\u3092\u7528\u610f\n\n\u4eca\u56de\u306f\u516c\u5f0f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u5143\u306b\u3001\u3056\u3063\u304f\u308a\u3001\u4e0b\u8a18\u306e\u624b\u9806\u3067\u6e96\u5099\u3057\u307e\u3059\u3002\n\n* \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n* \u30e2\u30c7\u30eb\u4f5c\u6210\n* DB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\n* \u30b5\u30fc\u30d0\u8d77\u52d5\n* \u30da\u30fc\u30b8\u78ba\u8a8d\n\n[Skinny Framework\u306e\u30b5\u30a4\u30c8](http://skinny-framework.org/)\u304b\u3089\u3001\u307e\u305a\u306f\u3001\u30b9\u30b1\u30eb\u30c8\u30f3\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304d\u307e\u3059\u3002\n\n\u300cskinny-blank-app-with-deps.zip (80MB)\u300d\n\u306a\u3069\u66f8\u3044\u3066\u3042\u308b\u7269\u306b\u306a\u308a\u307e\u3059\u3002\n\nZIP\u30d5\u30a1\u30a4\u30eb\u3092\u5c55\u958b\u3057\u3066\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u304d\u3001\u30d5\u30a9\u30eb\u30c0\u5185\u306b\u79fb\u52d5\u3057\u3066\n\u307e\u305a\u306f\u3001development\u74b0\u5883\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```bash:\n# Members\u3092\u7528\u610f\n$ ./skinny g scaffold members member name:String activated:Boolean luckyNumber:Option[Long] birthday:Option[LocalDate]\n# DB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8(SQLite)\n$ ./skinny db:migrate\n# \u30b5\u30fc\u30d0\u8d77\u52d5\n$ ./skinny run\n```\n\n\n\u30b5\u30fc\u30d0\u304c\u8d77\u52d5\u3057\u305f\u3089\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u304d\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u30d6\u30e9\u30a6\u30b6\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n```bash:\n#\u30c8\u30c3\u30d7\u753b\u9762\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\n$ open http://127.0.0.1:8080/\n\n#member\u306e\u4e00\u89a7\u753b\u9762\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\n$ open http://127.0.0.1:8080/members\n```\n\n\n## OpenShift\u30c7\u30d7\u30ed\u30a4\u7528\u306e\u8a2d\u5b9a\n\u3053\u3053\u304b\u3089\u306f\u3001OpenShift\u74b0\u5883\u306b\u5408\u308f\u305b\u305f\u8a2d\u5b9a\u5909\u66f4\u3092\u304a\u3053\u306a\u3044\u307e\u3059\u3002\n\nPostgreSQL\u7528\u306eJDBC\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n```scala:Build.scala\n      \"com.h2database\"          %  \"h2\"                  % \"1.4.177\",      // your own JDBC driver\n      \"org.postgresql\" % \"postgresql\" % \"9.2-1004-jdbc4\",      // your own JDBC driver\n\n\n```\n\n\nOpenShift\u7528\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u5b9a\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n```bash:application.conf\ndevelopment {\n  db {\n    default {\n      driver=\"org.h2.Driver\"\n      url=\"jdbc:h2:file:./db/development;MODE=PostgreSQL;AUTO_SERVER=TRUE\"\n      user=\"sa\"\n      password=\"sa\"\n      poolInitialSize=2\n      poolMaxSize=10\n    }\n  }\n}\n\ntest {\n  db {\n    default {\n      driver=\"org.h2.Driver\"\n      url=\"jdbc:h2:file:./db/test;MODE=PostgreSQL;AUTO_SERVER=TRUE\"\n      user=\"sa\"\n      password=\"sa\"\n      poolInitialSize=2\n      poolMaxSize=10\n    }\n  }\n}\n\nstaging {\n  db {\n    default {\n      driver=\"org.postgresql.Driver\"\n      url=\"jdbc:postgresql://\"${?OPENSHIFT_POSTGRESQL_DB_HOST}\":\"${?OPENSHIFT_POSTGRESQL_DB_PORT}\"/\"${?PGDATABASE}\n      user=${?OPENSHIFT_POSTGRESQL_DB_USERNAME}\n      password=${?OPENSHIFT_POSTGRESQL_DB_PASSWORD}\n      poolInitialSize=5\n      poolMaxSize=20\n    }\n  }\n}\n\nproduction {\n  db {\n    default {\n      driver=\"org.postgresql.Driver\"\n      url=\"jdbc:postgresql://\"${?OPENSHIFT_POSTGRESQL_DB_HOST}\":\"${?OPENSHIFT_POSTGRESQL_DB_PORT}\"/\"${?PGDATABASE}\n      user=${?OPENSHIFT_POSTGRESQL_DB_USERNAME}\n      password=${?OPENSHIFT_POSTGRESQL_DB_PASSWORD}\n      poolInitialSize=5\n      poolMaxSize=20\n    }\n  }\n}\n\n\n```\n\nwar\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3001OpenShift\u306eGit\u30d5\u30a9\u30eb\u30c0\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```bash:\n#war\u4f5c\u6210\n$ ./skinny package production\n\n#\u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc\uff08Tomcat\u4e0a\u306bwar\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u5c55\u958b\u3055\u308c\u308b\u306e\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u5909\u66f4\uff09\n$ cp ./build/target/scala-2.10/skinny-blank-app_2.10-0.1.0-SNAPSHOT.war /User/foobar/skinnyapp/deployments/skinnyapp.war\n\n```\n\n## OpenShift\u74b0\u5883\u306bDB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\n\nOpenShift\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u306ePostgreSQL\u306bDB\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u306b\u306f\u3001\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3092\u3064\u304b\u3044\u307e\u3059\u3002\n\n```bash:\n# \u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u4f5c\u6210\n$ rhc port-forward shinnyapp\nChecking available ports ... done\nForwarding ports ...\n\nTo connect to a service running on OpenShift, use the Local address\n\nService    Local               OpenShift\n---------- -------------- ---- ----------------\njava       127.0.0.1:8080  =>  127.4.227.1:8080\npostgresql 127.0.0.1:5432  =>  127.4.227.2:5432\n\nPress CTRL-C to terminate port forwarding\n```\n\n\u6b21\u306b\u3001DB\u8a2d\u5b9a\u7528\u306e\u74b0\u5883\u5909\u6570\u3092\u63c3\u3048\u307e\u3059\u3002\n```bash:\n# \u74b0\u5883\u5909\u6570\u3092\u53d6\u5f97\u3059\u308b\n[shinnyapp-foobar.rhcloud.com]\\> export|egrep \"OPENSHIFT_POSTGRESQL_DB_PORT|PGDATABASE|OPENSHIFT_POSTGRESQL_DB_PASSWORD\"\n\ndeclare -x OPENSHIFT_POSTGRESQL_DB_PASSWORD=\"xxxxxxxx\"\ndeclare -x OPENSHIFT_POSTGRESQL_DB_PORT=\"5432\"\ndeclare -x PGDATABASE=\"skinnyapp\"\n\n```\n\n\u30ed\u30fc\u30ab\u30eb\u306b\u3082\u74b0\u5883\u5909\u6570\u3092\u53cd\u6620\u3057\u3066\u3001DB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```bash:\n#\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306b\u74b0\u5883\u5909\u6570\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\ndeclare -x OPENSHIFT_POSTGRESQL_DB_PASSWORD=\"mjIwfERH7B3s\"\ndeclare -x OPENSHIFT_POSTGRESQL_DB_PORT=\"5432\"\ndeclare -x PGDATABASE=\"jbossews\"\n\n#\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u306e\u305f\u3081\u3001\u3053\u3053\u3060\u3051\u9055\u3046\ndeclare -x OPENSHIFT_POSTGRESQL_DB_HOST=\"127.0.0.1\"\n\n#OpenShift\u306bDB\u30de\u30a4\u30b0\u30ec\u30fc\u30c8\n./skinny db:migrate production\n\n```\n\n## OpenShift\u74b0\u5883\u306bwar\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\n\u6700\u5f8c\u306b\u3001\u5148\u307b\u3069\u30b3\u30d4\u30fc\u3057\u305fwar\u30d5\u30a1\u30a4\u30eb\u3092Git\u7d4c\u7531\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```bash:\n$ git add .\n$ git commit -m \"Inital commit.\"\n$ git push\n\n...\u518d\u8d77\u52d5\u306b\u95a2\u3059\u308b\u30ed\u30b0...\n\n```\n\n\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u3001\u30ed\u30b0\u3092\u958b\u3044\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```bash:\n# \u30ed\u30b0\u3092\u8868\u793a\n$ rhc log skinnyapp\n```\n\n\n\u3057\u3070\u3089\u304f\u3057\u3066\u3001\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u3044\u3066\u3001\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\n\n```bash:\n$ open http://shinnyapp-foobar.rhcloud.com/shinnyapp/members\n```\n\n## \u304a\u308f\u308a\u306b\n\u30bd\u30fc\u30b9\u306b\u4fee\u6b63\u304c\u3042\u308c\u3070\u3001\u518d\u3073war\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3001\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u4ee5\u4e0a\u3067\u7d42\u308f\u308a\u3067\u3059\u3002\n", "tags": ["openshift", "SkinnyFramework"]}