{"context": " More than 1 year has passed since last update.esqlite \u306f Erlang \u306e sqlite \u30e9\u30a4\u30d6\u30e9\u30ea\u3002\nNIF\u3002\n\n\u57fa\u672c\u7684\u306a\u3082\u306e\n\nopen/1, 2:\nclose/1, 2:\nexec/2, 3: SQL \u3092\u5b9f\u884c\u3059\u308b\u3002\u6210\u529f\u3057\u305f\u5834\u5408\u306f ok \u3092\u8fd4\u3059\u3002\nchanges/1, 2: \u76f4\u524d\u306e statement \u3067\u306e affected rows \u6570\u3092\u8fd4\u3059\u3002\n\n\nPrepared Statement\nprepare -> bind -> step \u3068\u3044\u3046\u9806\u756a\u3067\u4f7f\u3046\u3002\n\nprepare/2, 3:\nbind/2, 3:\nstep/1, 2:\n\n    SQL = \"INSERT INTO user (name, email) VALUES (?1, ?2)\",\n    {ok, Conn} = esqlite3:open(\"your.db\"),\n    {ok, Statement} = esqlite3:prepare(SQL, Conn),\n    ok = esqlite3:bind(Statement, [Name, Email]),\n    esqlite3:step(Statement),\n    ok = esqlite3:close(Conn),\n\n\n\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\n\nq/2 q(sql(), connection()) -> list(tuple()): SQL \u3092\u5b9f\u884c\u3057\u3066\u7d50\u679c\u3092\u8fd4\u3059\nq/3 q(sql(), list(), connection()) -> list(tuple()): PS \u306b\u7b2c\u4e8c\u5f15\u6570\u3092 bind \u3057\u3066\u5b9f\u884c\u7d50\u679c\u3092\u8fd4\u3059\nmap/3:\nforeach/3\n\n\n\u4f7f\u7528\u983b\u5ea6\u4f4e\u3081\n\nfetchone/1:\nfetchall/1: q/2, 3 \u3092\u4f7f\u3048\u3070\u3044\u3044\u3002(\u5185\u90e8\u3067 fetchall \u304c\u4f7f\u308f\u308c\u3066\u3044\u308b)\ninsert/2, 3: exec \u304b\u3001prepare -> bind -> step \u3067\u3002\nreset/1: prepared statement \u3092\u521d\u671f\u72b6\u614b\u306b\u623b\u3059\n\n\n[esqlite](https://github.com/mmzeeman/esqlite) \u306f Erlang \u306e sqlite \u30e9\u30a4\u30d6\u30e9\u30ea\u3002\nNIF\u3002\n\n### \u57fa\u672c\u7684\u306a\u3082\u306e\n\n- open/1, 2:\n- close/1, 2:\n\n- exec/2, 3: SQL \u3092\u5b9f\u884c\u3059\u308b\u3002\u6210\u529f\u3057\u305f\u5834\u5408\u306f ok \u3092\u8fd4\u3059\u3002\n- changes/1, 2: \u76f4\u524d\u306e statement \u3067\u306e affected rows \u6570\u3092\u8fd4\u3059\u3002\n\n### Prepared Statement\n\nprepare -> bind -> step \u3068\u3044\u3046\u9806\u756a\u3067\u4f7f\u3046\u3002\n\n- prepare/2, 3:\n- bind/2, 3:\n- step/1, 2:\n\n```\n    SQL = \"INSERT INTO user (name, email) VALUES (?1, ?2)\",\n    {ok, Conn} = esqlite3:open(\"your.db\"),\n    {ok, Statement} = esqlite3:prepare(SQL, Conn),\n    ok = esqlite3:bind(Statement, [Name, Email]),\n    esqlite3:step(Statement),\n    ok = esqlite3:close(Conn),\n```\n\n### \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\n\n- q/2 q(sql(), connection()) -> list(tuple()): SQL \u3092\u5b9f\u884c\u3057\u3066\u7d50\u679c\u3092\u8fd4\u3059\n- q/3 q(sql(), list(), connection()) -> list(tuple()): PS \u306b\u7b2c\u4e8c\u5f15\u6570\u3092 bind \u3057\u3066\u5b9f\u884c\u7d50\u679c\u3092\u8fd4\u3059\n- map/3:\n- foreach/3\n\n### \u4f7f\u7528\u983b\u5ea6\u4f4e\u3081\n\n- fetchone/1:\n- fetchall/1: q/2, 3 \u3092\u4f7f\u3048\u3070\u3044\u3044\u3002(\u5185\u90e8\u3067 fetchall \u304c\u4f7f\u308f\u308c\u3066\u3044\u308b)\n- insert/2, 3: exec \u304b\u3001prepare -> bind -> step \u3067\u3002\n- reset/1: prepared statement \u3092\u521d\u671f\u72b6\u614b\u306b\u623b\u3059\n", "tags": ["Erlang", "sqlite"]}