{"tags": ["vuforia", "Unity"], "context": "\n\n\u624b\u9806\n\u5927\u4f53\u306e\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u30b9\u30ec\u30c3\u30c9\u306e\u901a\u308a\u3002\nhttps://developer.vuforia.com/forum/unity-extension-technical-discussion/camera-focus-mode-android-unity\n\nARCamera\u30b2\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u4e0a\u8a18\u306eCameraFocusController.cs\u3092\u30a2\u30bf\u30c3\u30c1\u3002\n\n\n\u305d\u308c\u3067\u3082\u5b9f\u884c\u3055\u308c\u306a\u3044\n\nAssets>Plugins>Android>AndroidManifest.xml\u306b \u3001android.hardware.camera.autofocus\u3092\u8ffd\u52a0\u3002\n\n    <uses-feature android:name=\"android.hardware.camera\" />\n    <uses-feature android:name=\"android.hardware.camera.autofocus\"/>\n\n\n\u305d\u308c\u3067\u3082\u5b9f\u884c\u3055\u308c\u306a\u3044\n\n\u554f\u984c\u767a\u751f\u72b6\u6cc1\n\nVuforia 6.2\nUnity 5.4.4f1 64bit (windows10)\nSumsung GalaxyS7\n\n\u4ee5\u4e0a\u3067Vuforia\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u30ab\u30e1\u30e9\u306e\u30aa\u30fc\u30c8\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044\u3002\n\u8abf\u3079\u308b\u306bGalaxyS\u30b7\u30ea\u30fc\u30ba\u3067\u767a\u751f\u3057\u3066\u3044\u308b\u69d8\u5b50\u3002\nhttps://developer.vuforia.com/forum/android/focus-problems-android\n\n\u5bfe\u5fdc\n\u4e0a\u8a18\u306eCameraFocusController.cs\u306b\u3001\u30bf\u30c3\u30d7\u6642\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u624b\u52d5\u5b9f\u884c\u3055\u305b\u308b\u8a18\u8ff0\u3092\u8ffd\u52a0\u3002\nusing UnityEngine;\nusing System.Collections;\nusing Vuforia;\n\npublic class CameraFocusController : MonoBehaviour {\n\n    private bool mVuforiaStarted = false;\n\n    void Start () \n    {\n        VuforiaARController vuforia = VuforiaARController.Instance;\n\n        if (vuforia != null)\n            vuforia.RegisterVuforiaStartedCallback(StartAfterVuforia);\n    }\n\n    private void StartAfterVuforia()\n    {\n        mVuforiaStarted = true;\n        SetAutofocus();\n    }\n\n    void OnApplicationPause(bool pause)\n    {\n        if (!pause)\n        {\n            // App resumed\n            if (mVuforiaStarted)\n            {\n                SetAutofocus();\n            }\n        }\n    }\n\n    private void SetAutofocus()\n    {\n        if (CameraDevice.Instance.SetFocusMode(CameraDevice.FocusMode.FOCUS_MODE_CONTINUOUSAUTO))\n        {\n            Debug.Log(\"Autofocus set\");\n        }\n        else\n        {\n            Debug.Log(\"this device doesn't support auto focus\");\n        }\n    }\n\n    void Update()\n    {\n        foreach (Touch touch in Input.touches)\n        {\n            if (touch.phase == TouchPhase.Began)\n            {\n                CameraDevice.Instance.SetFocusMode(CameraDevice.FocusMode.FOCUS_MODE_TRIGGERAUTO);\n                Debug.Log(\"focus\");\n            }\n        }\n    }\n}\n\n# \u624b\u9806\n\u5927\u4f53\u306e\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u30b9\u30ec\u30c3\u30c9\u306e\u901a\u308a\u3002\nhttps://developer.vuforia.com/forum/unity-extension-technical-discussion/camera-focus-mode-android-unity\n\n* ARCamera\u30b2\u30fc\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u4e0a\u8a18\u306eCameraFocusController.cs\u3092\u30a2\u30bf\u30c3\u30c1\u3002\n\n# \u305d\u308c\u3067\u3082\u5b9f\u884c\u3055\u308c\u306a\u3044\n* Assets>Plugins>Android>AndroidManifest.xml\u306b \u3001android.hardware.camera.autofocus\u3092\u8ffd\u52a0\u3002\n\n\n``` \n    <uses-feature android:name=\"android.hardware.camera\" />\n    <uses-feature android:name=\"android.hardware.camera.autofocus\"/>\n```\n\n# \u305d\u308c\u3067\u3082\u5b9f\u884c\u3055\u308c\u306a\u3044\n## \u554f\u984c\u767a\u751f\u72b6\u6cc1\n* Vuforia 6.2\n* Unity 5.4.4f1 64bit (windows10)\n* Sumsung GalaxyS7\n\n\u4ee5\u4e0a\u3067Vuforia\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u30ab\u30e1\u30e9\u306e\u30aa\u30fc\u30c8\u30d5\u30a9\u30fc\u30ab\u30b9\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044\u3002\n\u8abf\u3079\u308b\u306bGalaxyS\u30b7\u30ea\u30fc\u30ba\u3067\u767a\u751f\u3057\u3066\u3044\u308b\u69d8\u5b50\u3002\nhttps://developer.vuforia.com/forum/android/focus-problems-android\n\n## \u5bfe\u5fdc\n\u4e0a\u8a18\u306eCameraFocusController.cs\u306b\u3001\u30bf\u30c3\u30d7\u6642\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3092\u624b\u52d5\u5b9f\u884c\u3055\u305b\u308b\u8a18\u8ff0\u3092\u8ffd\u52a0\u3002\n\n```\nusing UnityEngine;\nusing System.Collections;\nusing Vuforia;\n\npublic class CameraFocusController : MonoBehaviour {\n\n    private bool mVuforiaStarted = false;\n\n    void Start () \n    {\n        VuforiaARController vuforia = VuforiaARController.Instance;\n\n        if (vuforia != null)\n            vuforia.RegisterVuforiaStartedCallback(StartAfterVuforia);\n    }\n\n    private void StartAfterVuforia()\n    {\n        mVuforiaStarted = true;\n        SetAutofocus();\n    }\n\n    void OnApplicationPause(bool pause)\n    {\n        if (!pause)\n        {\n            // App resumed\n            if (mVuforiaStarted)\n            {\n                SetAutofocus();\n            }\n        }\n    }\n\n    private void SetAutofocus()\n    {\n        if (CameraDevice.Instance.SetFocusMode(CameraDevice.FocusMode.FOCUS_MODE_CONTINUOUSAUTO))\n        {\n            Debug.Log(\"Autofocus set\");\n        }\n        else\n        {\n            Debug.Log(\"this device doesn't support auto focus\");\n        }\n    }\n\n    void Update()\n    {\n        foreach (Touch touch in Input.touches)\n        {\n            if (touch.phase == TouchPhase.Began)\n            {\n                CameraDevice.Instance.SetFocusMode(CameraDevice.FocusMode.FOCUS_MODE_TRIGGERAUTO);\n                Debug.Log(\"focus\");\n            }\n        }\n    }\n}\n```\n\n"}