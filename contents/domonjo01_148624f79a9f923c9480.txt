{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nZabbix\u306eWeb\u30da\u30fc\u30b8\u306b\u3001\u30a2\u30d7\u30ea\u62c5\u5f53\u8005\u3084\u30aa\u30da\u30ec\u30fc\u30bf\u306b\u3001\u4e00\u90e8\u306e\u60c5\u5831\u3057\u304b\u95b2\u89a7\u3055\u305b\u305f\u304f\u306a\u3044\u3088\u3046\u306a\u5834\u5408\u3001\u30bd\u30fc\u30b9\u306ePHP\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u3067\u3001\u7279\u5b9a\u30da\u30fc\u30b8\u306e\u307f\u3092\u95b2\u89a7\u3067\u304d\u308b\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n\u74b0\u5883\nCentOS 6.5\nzabbix2.2\n\n\u624b\u9806\n\n/usr/share/zabbix\u914d\u4e0b\u304c\u3001zabbix\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3068\u3059\u308b\u3002\n/usr/share/zabbix\u914d\u4e0b\u3092/usr/share/monitor\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\n# cd /usr/share\n# mkdir monitor\n# cp -pr zabbix/* monitor/\n\nPHP\u30d5\u30a1\u30a4\u30eb(/usr/share/monitor/include/menu.inc.php)\u3092\u7de8\u96c6\u3059\u308b\u3002\n\u96a0\u3057\u305f\u3044\u30da\u30fc\u30b8\u306e\u914d\u5217\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3002\n\n# vi /usr/share/monitor/include/menu.inc.php\n//                      array(\n//                              'url' => 'dashboard.php',\n//                              'label' => _('Dashboard'),\n//                              'sub_pages' => array('dashconf.php')\n//                      ),\n//                      array(\n//                              'url' => 'overview.php',\n//                              'label' => _('Overview')\n//                      ),\n//                      array(\n//                              'url' => 'httpmon.php',\n//                              'label' => _('Web'),\n//                              'sub_pages' => array('httpdetails.php')\n//                      ),\n                        array(\n                                'url' => 'latest.php',\n                                'label' => _('Latest data'),\n                                'sub_pages' => array('history.php', 'chart.php')\n                        ),\n//                      array(\n//                              'url' => 'tr_status.php',\n//                              'label' => _('Triggers'),\n//                              'sub_pages' => array('acknow.php', 'tr_comments.php', 'chart4.php', 'scripts_exec.php')\n//                      ),\n//                      array(\n//                              'url' => 'events.php',\n//                              'label' => _('Events'),\n//                              'sub_pages' => array('tr_events.php')\n//                      ),\n                        array(\n                                'url' => 'charts.php',\n                                'label' => _('Graphs'),\n                                'sub_pages' => array('chart2.php', 'chart3.php', 'chart6.php', 'chart7.php')\n                ),\n                        array(\n                                'url' => 'screens.php',\n                                'label' => _('Screens'),\n                                'sub_pages' => array('slides.php')\n                        ),\n//                      array(\n//                              'url' => 'maps.php',\n//                              'label' => _('Maps'),\n//                              'sub_pages' => array('map.php')\n//                      ),\n//                      array(\n//                              'url' => 'discovery.php',\n//                              'label' => _('Discovery'),\n//                              'user_type' => USER_TYPE_ZABBIX_ADMIN\n//                      ),\n//                      array(\n//                              'url' => 'srv_status.php',\n//                              'label' => _('IT services'),\n//                              'force_disable_all_nodes' => true,\n//                              'sub_pages' => array('report3.php', 'chart5.php')\n//                      ),\n                        array(\n                                'url' => 'chart3.php'\n                        ),\n                        array(\n                                'url' => 'imgstore.php'\n                        ),\n                        array(\n                                'url' => 'search.php'\n                        ),\n                        array(\n                                'url' => 'jsrpc.php'\n                        )\n                )\n        ),\n//      'cm' => array(\n//              'label'                         => _('Inventory'),\n//              'user_type'                     => USER_TYPE_ZABBIX_USER,\n//              'node_perm'                     => PERM_READ,\n//              'default_page_id'       => 0,\n//              'pages' => array(\n//                      array(\n//                              'url' => 'hostinventoriesoverview.php',\n//                              'label' => _('Overview')\n//                      ),\n//                      array(\n//                              'url' => 'hostinventories.php',\n//                              'label' => _('Hosts')\n//                      )\n//              )\n//      ),\n//      'reports' => array(\n//              'label'                         => _('Reports'),\n//              'user_type'                     => USER_TYPE_ZABBIX_USER,\n//              'node_perm'                     => PERM_READ,\n//              'default_page_id'       => 0,\n//              'pages' => array(\n//                      array(\n//                              'url' => 'report1.php',\n//                              'label' => _('Status of Zabbix'),\n//                              'user_type' => USER_TYPE_SUPER_ADMIN\n//                      ),\n//                      array(\n//                              'url' => 'report2.php',\n//                              'label' => _('Availability report')\n//                      ),\n//                      array(\n//                              'url' => 'report5.php',\n//                              'label' => _('Triggers top 100')\n//                      ),\n//                      array(\n//                              'url' => 'report6.php',\n//                              'label' => _('Bar reports'),\n//                              'sub_pages' => array('popup_period.php', 'popup_bitem.php', 'chart_bar.php')\n//                      ),\n//                      array(\n//                              'url\n\nmonitor\u7528\u306eZabbix\u30da\u30fc\u30b8\u306eApache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n# cp -p /etc/httpd/conf.d/zabbix.conf /etc/httpd/conf.d/zabbix-monitor.conf\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n# vi /etc/httpd/conf.d/zabbix-monitor.conf\n#\n# Zabbix monitoring system php web frontend\n#\n\n#Alias /zabbix /usr/share/zabbix\nAlias /monitor /usr/share/monitor\n\n<Directory \"/usr/share/monitor\">\n    Options FollowSymLinks\n    AllowOverride None\n    Order allow,deny\n    Allow from all\n\n    php_value max_execution_time 300\n    php_value memory_limit 128M\n    php_value post_max_size 16M\n    php_value upload_max_filesize 2M\n    php_value max_input_time 300\n    # php_value date.timezone Europe/Riga\n</Directory>\n\n<Directory \"/usr/share/monitor/conf\">\n    Order deny,allow\n    Deny from all\n    <files *.php>\n        Order deny,allow\n        Deny from all\n    </files>\n</Directory>\n\n<Directory \"/usr/share/monitor/api\">\n    Order deny,allow\n    Deny from all\n    <files *.php>\n        Order deny,allow\n        Deny from all\n    </files>\n</Directory>\n\n<Directory \"/usr/share/monitor/include\">\n    Order deny,allow\n    Deny from all\n    <files *.php>\n        Order deny,allow\n        Deny from all\n    </files>\n</Directory>\n\n<Directory \"/usr/share/monitor/include/classes\">\n    Order deny,allow\n    Deny from all\n    <files *.php>\n        Order deny,allow\n        Deny from all\n    </files>\n</Directory>\n\n\u7de8\u96c6\u5f8c\u3001Apache\u3092\u518d\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n# service httpd restart\n\n\n\u95b2\u89a7\u8005\u7528\u306e\u30e6\u30fc\u30b6\u3001\u30e6\u30fc\u30b6\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u304c\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\n\n\u3053\u3053\u3067\u6ce8\u610f\u3059\u3079\u304d\u306a\u306e\u306f\u3001\u30ed\u30b0\u30a4\u30f3\u5f8c\u306eURL\u306b\u300chttp://Zabbix\u30b5\u30fc\u30d0IP\u30a2\u30c9\u30ec\u30b9/monitor/latest.php\u300d\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3059\u3002\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u305f\u30da\u30fc\u30b8\u306b\u306f\u3001\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u5f8c\u306b\u30a8\u30e9\u30fc\u3067\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u5b8c\u6210\u3067\u3059\u3002\n\u95b2\u89a7\u8005\u306b\u306f\u3001Zabbix\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306f\u3001\u300chttp://Zabbix\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9/monitor\u300d\u3060\u3068\u4f1d\u3048\u307e\u3057\u3087\u3046\u3002\u4f5c\u6210\u3057\u305ftest\u30e6\u30fc\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3059\u3002\n\u203b\u77e5\u3063\u3066\u3044\u308b\u4eba\u306f\u3001\u300chttp://Zabbix\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9/zabbix\u300d\u304c\u3001\u672c\u6765\u306eZabbix\u306e\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u6240\u3060\u3068\u308f\u304b\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3061\u3089\u3082\u5834\u6240\u3092\u304b\u3048\u305f\u308a\u3001F/W(iptables)\u3084Apache\u306e\u8a2d\u5b9a\u3067\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3092\u3059\u308b\u306e\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u300c\u76e3\u8996\u30c7\u30fc\u30bf\u300d\u306e\u4e0b\u306b\u300c\u6700\u65b0\u30c7\u30fc\u30bf\u300d\u3001\u300c\u30b0\u30e9\u30d5\u300d\u3001\u300c\u30b9\u30af\u30ea\u30fc\u30f3\u300d\u3057\u304b\u306a\u3044\u306e\u304c\u3001\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n# \u6982\u8981\nZabbix\u306eWeb\u30da\u30fc\u30b8\u306b\u3001\u30a2\u30d7\u30ea\u62c5\u5f53\u8005\u3084\u30aa\u30da\u30ec\u30fc\u30bf\u306b\u3001\u4e00\u90e8\u306e\u60c5\u5831\u3057\u304b\u95b2\u89a7\u3055\u305b\u305f\u304f\u306a\u3044\u3088\u3046\u306a\u5834\u5408\u3001\u30bd\u30fc\u30b9\u306ePHP\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u3067\u3001\u7279\u5b9a\u30da\u30fc\u30b8\u306e\u307f\u3092\u95b2\u89a7\u3067\u304d\u308b\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n\n# \u74b0\u5883\nCentOS 6.5\nzabbix2.2\n\n# \u624b\u9806\n\n```\n\n/usr/share/zabbix\u914d\u4e0b\u304c\u3001zabbix\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3068\u3059\u308b\u3002\n/usr/share/zabbix\u914d\u4e0b\u3092/usr/share/monitor\u3078\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\n# cd /usr/share\n# mkdir monitor\n# cp -pr zabbix/* monitor/\n\nPHP\u30d5\u30a1\u30a4\u30eb(/usr/share/monitor/include/menu.inc.php)\u3092\u7de8\u96c6\u3059\u308b\u3002\n\u96a0\u3057\u305f\u3044\u30da\u30fc\u30b8\u306e\u914d\u5217\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3002\n\n# vi /usr/share/monitor/include/menu.inc.php\n//                      array(\n//                              'url' => 'dashboard.php',\n//                              'label' => _('Dashboard'),\n//                              'sub_pages' => array('dashconf.php')\n//                      ),\n//                      array(\n//                              'url' => 'overview.php',\n//                              'label' => _('Overview')\n//                      ),\n//                      array(\n//                              'url' => 'httpmon.php',\n//                              'label' => _('Web'),\n//                              'sub_pages' => array('httpdetails.php')\n//                      ),\n                        array(\n                                'url' => 'latest.php',\n                                'label' => _('Latest data'),\n                                'sub_pages' => array('history.php', 'chart.php')\n                        ),\n//                      array(\n//                              'url' => 'tr_status.php',\n//                              'label' => _('Triggers'),\n//                              'sub_pages' => array('acknow.php', 'tr_comments.php', 'chart4.php', 'scripts_exec.php')\n//                      ),\n//                      array(\n//                              'url' => 'events.php',\n//                              'label' => _('Events'),\n//                              'sub_pages' => array('tr_events.php')\n//                      ),\n                        array(\n                                'url' => 'charts.php',\n                                'label' => _('Graphs'),\n                                'sub_pages' => array('chart2.php', 'chart3.php', 'chart6.php', 'chart7.php')\n                ),\n                        array(\n                                'url' => 'screens.php',\n                                'label' => _('Screens'),\n                                'sub_pages' => array('slides.php')\n                        ),\n//                      array(\n//                              'url' => 'maps.php',\n//                              'label' => _('Maps'),\n//                              'sub_pages' => array('map.php')\n//                      ),\n//                      array(\n//                              'url' => 'discovery.php',\n//                              'label' => _('Discovery'),\n//                              'user_type' => USER_TYPE_ZABBIX_ADMIN\n//                      ),\n//                      array(\n//                              'url' => 'srv_status.php',\n//                              'label' => _('IT services'),\n//                              'force_disable_all_nodes' => true,\n//                              'sub_pages' => array('report3.php', 'chart5.php')\n//                      ),\n                        array(\n                                'url' => 'chart3.php'\n                        ),\n                        array(\n                                'url' => 'imgstore.php'\n                        ),\n                        array(\n                                'url' => 'search.php'\n                        ),\n                        array(\n                                'url' => 'jsrpc.php'\n                        )\n                )\n        ),\n//      'cm' => array(\n//              'label'                         => _('Inventory'),\n//              'user_type'                     => USER_TYPE_ZABBIX_USER,\n//              'node_perm'                     => PERM_READ,\n//              'default_page_id'       => 0,\n//              'pages' => array(\n//                      array(\n//                              'url' => 'hostinventoriesoverview.php',\n//                              'label' => _('Overview')\n//                      ),\n//                      array(\n//                              'url' => 'hostinventories.php',\n//                              'label' => _('Hosts')\n//                      )\n//              )\n//      ),\n//      'reports' => array(\n//              'label'                         => _('Reports'),\n//              'user_type'                     => USER_TYPE_ZABBIX_USER,\n//              'node_perm'                     => PERM_READ,\n//              'default_page_id'       => 0,\n//              'pages' => array(\n//                      array(\n//                              'url' => 'report1.php',\n//                              'label' => _('Status of Zabbix'),\n//                              'user_type' => USER_TYPE_SUPER_ADMIN\n//                      ),\n//                      array(\n//                              'url' => 'report2.php',\n//                              'label' => _('Availability report')\n//                      ),\n//                      array(\n//                              'url' => 'report5.php',\n//                              'label' => _('Triggers top 100')\n//                      ),\n//                      array(\n//                              'url' => 'report6.php',\n//                              'label' => _('Bar reports'),\n//                              'sub_pages' => array('popup_period.php', 'popup_bitem.php', 'chart_bar.php')\n//                      ),\n//                      array(\n//                              'url\n\nmonitor\u7528\u306eZabbix\u30da\u30fc\u30b8\u306eApache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n# cp -p /etc/httpd/conf.d/zabbix.conf /etc/httpd/conf.d/zabbix-monitor.conf\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n# vi /etc/httpd/conf.d/zabbix-monitor.conf\n#\n# Zabbix monitoring system php web frontend\n#\n\n#Alias /zabbix /usr/share/zabbix\nAlias /monitor /usr/share/monitor\n\n<Directory \"/usr/share/monitor\">\n    Options FollowSymLinks\n    AllowOverride None\n    Order allow,deny\n    Allow from all\n\n    php_value max_execution_time 300\n    php_value memory_limit 128M\n    php_value post_max_size 16M\n    php_value upload_max_filesize 2M\n    php_value max_input_time 300\n    # php_value date.timezone Europe/Riga\n</Directory>\n\n<Directory \"/usr/share/monitor/conf\">\n    Order deny,allow\n    Deny from all\n    <files *.php>\n        Order deny,allow\n        Deny from all\n    </files>\n</Directory>\n\n<Directory \"/usr/share/monitor/api\">\n    Order deny,allow\n    Deny from all\n    <files *.php>\n        Order deny,allow\n        Deny from all\n    </files>\n</Directory>\n\n<Directory \"/usr/share/monitor/include\">\n    Order deny,allow\n    Deny from all\n    <files *.php>\n        Order deny,allow\n        Deny from all\n    </files>\n</Directory>\n\n<Directory \"/usr/share/monitor/include/classes\">\n    Order deny,allow\n    Deny from all\n    <files *.php>\n        Order deny,allow\n        Deny from all\n    </files>\n</Directory>\n\n\u7de8\u96c6\u5f8c\u3001Apache\u3092\u518d\u8d77\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n# service httpd restart\n\n```\n\n\u95b2\u89a7\u8005\u7528\u306e\u30e6\u30fc\u30b6\u3001\u30e6\u30fc\u30b6\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u304c\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\n<img width=\"960\" alt=\"zab1.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/98996/2e8a64fd-cfea-742d-3e9a-02a2281bc675.png\">\n\n\n<img width=\"960\" alt=\"zab2.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/98996/fc160d21-1beb-1f4b-9c08-b1499a6d7214.png\">\n\n\u3053\u3053\u3067\u6ce8\u610f\u3059\u3079\u304d\u306a\u306e\u306f\u3001\u30ed\u30b0\u30a4\u30f3\u5f8c\u306eURL\u306b\u300chttp://Zabbix\u30b5\u30fc\u30d0IP\u30a2\u30c9\u30ec\u30b9/monitor/latest.php\u300d\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3059\u3002\n\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u305f\u30da\u30fc\u30b8\u306b\u306f\u3001\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u5f8c\u306b\u30a8\u30e9\u30fc\u3067\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n<img width=\"960\" alt=\"zab4.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/98996/d4fa8746-ffc1-3774-3981-dca78a62f1a3.png\">\n\n\n\u3053\u308c\u3067\u5b8c\u6210\u3067\u3059\u3002\n\u95b2\u89a7\u8005\u306b\u306f\u3001Zabbix\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306f\u3001\u300chttp://Zabbix\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9/monitor\u300d\u3060\u3068\u4f1d\u3048\u307e\u3057\u3087\u3046\u3002\u4f5c\u6210\u3057\u305ftest\u30e6\u30fc\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3059\u3002\n\u203b\u77e5\u3063\u3066\u3044\u308b\u4eba\u306f\u3001\u300chttp://Zabbix\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9/zabbix\u300d\u304c\u3001\u672c\u6765\u306eZabbix\u306e\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u6240\u3060\u3068\u308f\u304b\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3061\u3089\u3082\u5834\u6240\u3092\u304b\u3048\u305f\u308a\u3001F/W(iptables)\u3084Apache\u306e\u8a2d\u5b9a\u3067\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3092\u3059\u308b\u306e\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n\n\n<img width=\"746\" alt=\"zab5.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/98996/4789e5d5-fa3d-9b19-5076-43d21adece42.png\">\n\n\u300c\u76e3\u8996\u30c7\u30fc\u30bf\u300d\u306e\u4e0b\u306b\u300c\u6700\u65b0\u30c7\u30fc\u30bf\u300d\u3001\u300c\u30b0\u30e9\u30d5\u300d\u3001\u300c\u30b9\u30af\u30ea\u30fc\u30f3\u300d\u3057\u304b\u306a\u3044\u306e\u304c\u3001\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n<img width=\"954\" alt=\"zab6.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/98996/e729f9de-c4a8-92fe-19b2-00fd2b0789c2.png\">\n", "tags": ["zabbix", "PHP"]}