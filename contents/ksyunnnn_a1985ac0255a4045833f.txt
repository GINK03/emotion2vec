{"tags": ["EC-CUBE3", "vagrant", "Vagrantfile", "\u521d\u5fc3\u8005"], "context": "\n\n\u6982\u8981\nEC-CUBE\u3001\u3068\u308a\u3042\u3048\u305a\u8a66\u3057\u3066\u307f\u305f\u304f\u306a\u3044\uff1f\n\n\u524d\u63d0\n\nVagrant\u306f\u4f7f\u3048\u308b\n\n\n\u3067\u304d\u3042\u304c\u308b\u3082\u306e\n\nEC-CUBE\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u4f55\u304b\n\u30db\u30b9\u30c8\u5074\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(\u30b2\u30b9\u30c8\u3067\u3044\u3046/vagrant)\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u7f6e\u3044\u3066\u307e\u3059\u3002\u540c\u671f\u3057\u307e\u3059\u591a\u5206\u3002\n\nhttp://localhost:8080 \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u306f\u305a\n\n\u203b\u3042\u3001\u30ac\u30c1\u3081\u306b\u30a2\u30db\u306a\u306e\u3067\u3001\u304a\u304b\u3057\u3044\u3068\u3053\u3042\u308c\u3070\u3070\u3093\u3070\u3093\u6307\u6458\u307b\u3057\u3044\u3067\u3059\u3001\u3001\n\u203bChef\u3068\u304b\u3042\u3093\u3057\u3076\u308b\u3068\u304b\u306f\u3001\u52c9\u5f37\u3057\u305f\u3053\u3068\u306a\u304b\u3063\u305f\u306e\u3067\u30b7\u30a7\u30eb\u306b\u3057\u3066\u307f\u307e\u3057\u305f\n\n\u3055\u3042\u59cb\u3081\u3088\u3046\uff01\n\n\u3053\u3044\u3064\u3092\u4fdd\u5b58\u3057\u3066 vagrant up \n\n\n\nVagrantfile.\nVagrant.configure(\"2\") do |config|\n\n  config.vm.box = \"bento/centos-7.2\"\n  config.vm.network \"forwarded_port\", guest: 80, host: 8080\n  config.vm.provider :virtualbox do |vb|\n    vb.customize [\"modifyvm\", :id, \"--memory\", \"2048\"]\n  end\n\n  config.vm.provision \"shell\", inline: <<-SHELL\n    yum -y update\n\n    service iptables stop\n    chkconfig iptables off\n\n    # Apache\n    yum -y install httpd\n    service httpd start\n    chkconfig httpd on\n\n    # MySQL\n    yum -y install mysql mysql-server mysql-devel\n    service mysqld start\n    chkconfig mysqld on\n\n    # PHP\n    yum -y install php php-opcache php-devel php-mbstring php-mcrypt php-mysql php-phpunit-PHPUnit php-pecl-xdebug php-pecl-xhprof php-xml\n\n    cp /etc/php.ini /etc/php.ini_org\n    sed -i -e \"s|expose_php = On|expose_php = Off|\" /etc/php.ini\n    sed -i -e \"s|;date.timezone =|date.timezone = Asia/Tokyo|\" /etc/php.ini\n    sed -i -e \"s|display_errors = Off|display_errors = On|\" /etc/php.ini\n    sed -i -e \"s|;mbstring.language = Japanese|mbstring.language = Japanese|\" /etc/php.ini\n\n    service httpd restart\n\n    # Git\n    cd /usr/local/src/\n\n    yum -y install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-ExtUtils-MakeMaker\n    yum install gcc\n\n    wget https://www.kernel.org/pub/software/scm/git/git-2.4.0.tar.gz\n    tar zxvf git-2.4.0.tar.gz\n\n    cd git-2.4.0\n    make prefix=/usr/local all\n    make prefix=/usr/local install\n\n    # Git Update\n    cd /usr/local/src/\n    git clone git://git.kernel.org/pub/scm/git/git.git\n\n    cd git\n\n    git pull\n    make prefix=/usr/local all\n    make prefix=/usr/local install\n\n    # others\n    yum install wget vim unzip zip\n\n    # EC CUBE\n    cd /vagrant\n    wget http://downloads.ec-cube.net/src/eccube-3.0.13.zip\n    unzip eccube-3.0.13.zip\n\n  SHELL\n\n  # Sync folders\n  config.vm.synced_folder File.join(File.dirname(__FILE__),\"/eccube-3.0.13\"), \"/var/www\",\n  type: \"rsync\",\n  rsync_auto: true\n  # rsync__exclude: [\".git/\"]\n\nend\n\n\n\n\u304a\u308f\u308a\n\n\u5b9f\u969b\u306e\u3068\u3053\u308d\u3001\u4e0a\u8a18\u306e\u30b7\u30a7\u30eb\u3001\u304b\u306a\u308a\u5931\u6557\u3057\u307e\u3059\u3002\n\n\n\nunzip\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u306a\u3044\u3053\u3068\u304c\u3042\u308b\uff1f\u305d\u306e\u5834\u5408\u624b\u52d5\u3067\u89e3\u51cd\u304a\u9858\u3044\u3057\u307e\u3059\u3001\u3001\n\n\n\u306a\u305c\u306a\u306e\u304b\u308f\u304b\u3089\u306a\u3044(\u75b2\u308c\u305f)\n\u3067\u3082EC-CUBE\u306f\u52d5\u3044\u3066\u308b\u3057\u3001\u307e\u3042\u826f\u3044\u3088\u306d(\u8ab0\u304b\u52a9\u3051\u3066)\n\n# \u6982\u8981\nEC-CUBE\u3001\u3068\u308a\u3042\u3048\u305a\u8a66\u3057\u3066\u307f\u305f\u304f\u306a\u3044\uff1f\n\n\n# \u524d\u63d0\n* Vagrant\u306f\u4f7f\u3048\u308b\n\n# \u3067\u304d\u3042\u304c\u308b\u3082\u306e\n* EC-CUBE\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u4f55\u304b\n* \u30db\u30b9\u30c8\u5074\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(\u30b2\u30b9\u30c8\u3067\u3044\u3046`/vagrant`)\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u7f6e\u3044\u3066\u307e\u3059\u3002\u540c\u671f\u3057\u307e\u3059\u591a\u5206\u3002\n* http://localhost:8080 \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u306f\u305a\n\n\n\u203b\u3042\u3001\u30ac\u30c1\u3081\u306b\u30a2\u30db\u306a\u306e\u3067\u3001\u304a\u304b\u3057\u3044\u3068\u3053\u3042\u308c\u3070\u3070\u3093\u3070\u3093\u6307\u6458\u307b\u3057\u3044\u3067\u3059\u3001\u3001\n\u203bChef\u3068\u304b\u3042\u3093\u3057\u3076\u308b\u3068\u304b\u306f\u3001\u52c9\u5f37\u3057\u305f\u3053\u3068\u306a\u304b\u3063\u305f\u306e\u3067\u30b7\u30a7\u30eb\u306b\u3057\u3066\u307f\u307e\u3057\u305f\n\n\n# \u3055\u3042\u59cb\u3081\u3088\u3046\uff01\n* \u3053\u3044\u3064\u3092\u4fdd\u5b58\u3057\u3066 `vagrant up` :clap:\n\n```Vagrantfile.\nVagrant.configure(\"2\") do |config|\n\n  config.vm.box = \"bento/centos-7.2\"\n  config.vm.network \"forwarded_port\", guest: 80, host: 8080\n  config.vm.provider :virtualbox do |vb|\n    vb.customize [\"modifyvm\", :id, \"--memory\", \"2048\"]\n  end\n  \n  config.vm.provision \"shell\", inline: <<-SHELL\n    yum -y update\n\n    service iptables stop\n    chkconfig iptables off\n\n    # Apache\n    yum -y install httpd\n    service httpd start\n    chkconfig httpd on\n\n    # MySQL\n    yum -y install mysql mysql-server mysql-devel\n    service mysqld start\n    chkconfig mysqld on\n\n    # PHP\n    yum -y install php php-opcache php-devel php-mbstring php-mcrypt php-mysql php-phpunit-PHPUnit php-pecl-xdebug php-pecl-xhprof php-xml\n\n    cp /etc/php.ini /etc/php.ini_org\n    sed -i -e \"s|expose_php = On|expose_php = Off|\" /etc/php.ini\n    sed -i -e \"s|;date.timezone =|date.timezone = Asia/Tokyo|\" /etc/php.ini\n    sed -i -e \"s|display_errors = Off|display_errors = On|\" /etc/php.ini\n    sed -i -e \"s|;mbstring.language = Japanese|mbstring.language = Japanese|\" /etc/php.ini\n\n    service httpd restart\n\n    # Git\n    cd /usr/local/src/\n    \n    yum -y install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-ExtUtils-MakeMaker\n    yum install gcc\n    \n    wget https://www.kernel.org/pub/software/scm/git/git-2.4.0.tar.gz\n    tar zxvf git-2.4.0.tar.gz\n    \n    cd git-2.4.0\n    make prefix=/usr/local all\n    make prefix=/usr/local install\n    \n    # Git Update\n    cd /usr/local/src/\n    git clone git://git.kernel.org/pub/scm/git/git.git\n    \n    cd git\n    \n    git pull\n    make prefix=/usr/local all\n    make prefix=/usr/local install\n    \n    # others\n    yum install wget vim unzip zip\n    \n    # EC CUBE\n    cd /vagrant\n    wget http://downloads.ec-cube.net/src/eccube-3.0.13.zip\n    unzip eccube-3.0.13.zip\n\n  SHELL\n  \n  # Sync folders\n  config.vm.synced_folder File.join(File.dirname(__FILE__),\"/eccube-3.0.13\"), \"/var/www\",\n  type: \"rsync\",\n  rsync_auto: true\n  # rsync__exclude: [\".git/\"]\n\nend\n```\n\n# \u304a\u308f\u308a\n* \u5b9f\u969b\u306e\u3068\u3053\u308d\u3001\u4e0a\u8a18\u306e\u30b7\u30a7\u30eb\u3001\u304b\u306a\u308a\u5931\u6557\u3057\u307e\u3059\u3002\n    * `unzip`\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u306a\u3044\u3053\u3068\u304c\u3042\u308b\uff1f\u305d\u306e\u5834\u5408\u624b\u52d5\u3067\u89e3\u51cd\u304a\u9858\u3044\u3057\u307e\u3059\u3001\u3001\n* \u306a\u305c\u306a\u306e\u304b\u308f\u304b\u3089\u306a\u3044(\u75b2\u308c\u305f)\n* \u3067\u3082EC-CUBE\u306f\u52d5\u3044\u3066\u308b\u3057\u3001\u307e\u3042\u826f\u3044\u3088\u306d(\u8ab0\u304b\u52a9\u3051\u3066)\n"}