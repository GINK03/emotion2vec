{"context": "MacPorts\u3092\u4f7f\u3063\u3066\u3001Mac\u3067\u30ed\u30fc\u30ab\u30eb\u306bMAMP\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u304cMacPorts\u306eHowto\u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u809d\u5fc3\u306a\u3068\u3053\u308d\u3092\u65e5\u672c\u8a9e\u3067\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002Apache\u306e\u8a73\u7d30\u306a\u8a2d\u5b9a\u3001MySQL\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u5b9a\u3001phpMyAdmin\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\u306f\u7701\u7565\u3057\u305f\u306e\u3067\u82f1\u8a9e\u306e\u65b9\u3092\u3054\u89a7\u4e0b\u3055\u3044\u3002\nMacPorts\u306eWordPress\u306f\u53e4\u304f\u3001\u30e1\u30f3\u30c6\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002MacPorts\u306b\u306fwp-cli\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3046\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\nMacPorts\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u3061\u3089\u306b\u7d39\u4ecb\u3057\u307e\u3057\u305f\u306e\u3067\u3054\u89a7\u4e0b\u3055\u3044\u3002\n\n\u6982\u8981\n\nApache2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002howto/Apache2\n\nMySQL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002howto/MySQL\n\nPHP\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002howto/PHP\n\nMySQL\u3068PHP\u304c\u4f7f\u3048\u308b\u3088\u3046\u306bApache\u3092\u8a2d\u5b9a\u3059\u308b\u3002howto/MAMP\n\n\n\nApache2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\nMacPorts\u306b\u306fapache, apache2, apache24-devel\u304c\u3042\u308a\u3001\u305d\u308c\u305e\u308c\u30d0\u30fc\u30b8\u30e7\u30f31.3.x, 2.2x, 2.4.x\u306b\u5bfe\u5fdc\u3059\u308b\u3002\u3053\u3053\u3067\u306fapache2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\nWeb\u5171\u6709\u3092\u30aa\u30d5\u306b\u3059\u308b\u3002\n\nOS X 10.8 Mountain Lion\u4ee5\u524d\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\u3067\u30aa\u30d5\u306b\u3059\u308b\u3002\nOS X 10.9 Mavericks\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u30aa\u30d5\u306b\u3059\u308b\u3002\n\n$ sudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist\n\n\nOS X 10.10 Yosemite\u4ee5\u964d Apache\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304c\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u3044\u3002\u8d77\u52d5\u3055\u305b\u305f\u306e\u3067\u3042\u308c\u3070\u3001\u505c\u6b62\u3059\u308b\u65b9\u6cd5\u3082\u5206\u304b\u3063\u3066\u3044\u308b\u306f\u305a\u3002\n\n\nApache\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo port install apache2\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n\n\n/opt/local/apache2/conf/original/httpd.conf\u306f\u8a2d\u5b9a\u4f8b\u306a\u306e\u3067\u7de8\u96c6\u3057\u306a\u3044\u3002\n\u521d\u3081\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u4e0a\u8a18\u30d5\u30a1\u30a4\u30eb\u304c/opt/local/apache2/conf/httpd.conf\u306b\u30b3\u30d4\u30fc\u3055\u308c\u308b\u3002\u3053\u3061\u3089\u306f\u81ea\u7531\u306b\u7de8\u96c6\u3057\u3066\u3088\u3044\u3002\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u306e\u969b\u306f\u4e0a\u66f8\u304d\u3055\u308c\u306a\u3044\u304c\u3001\u5ff5\u306e\u305f\u3081\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u3063\u3066\u304a\u304f\u3068\u3088\u3044\u3002\n\n\n\u30e6\u30fc\u30b6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\n\u30b3\u30e1\u30f3\u30c8#\u3092\u5916\u3059\u3002\nInclude conf/extra/httpd-userdir.conf\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d\n$ /opt/local/apache2/bin/apachectl -t\n\n\n\u8d77\u52d5\u3068\u505c\u6b62\n$ sudo port load apache2\n\n\u30de\u30b7\u30f3\u3092\u518d\u8d77\u52d5\u3057\u3066\u3082\u81ea\u52d5\u7684\u306bApache\u304c\u7acb\u3061\u4e0a\u304c\u308b\u3002\n\u505c\u6b62\u3059\u308b\u306b\u306f\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3002\n$ sudo port unload apache2\n\n\u30ed\u30b0\u304c\u4fdd\u5b58\u3055\u308c\u308b\u65e2\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f/opt/local/apache2/logs/\u3067\u8d77\u52d5\u30e1\u30c3\u30bb\u30fc\u30b8\u306ferror_log\u306b\u8a18\u9332\u3055\u308c\u308b\u3002\n\nMySQL\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\nMySQL\n\n\nmysql56: MySQL 5.6.x\u3002\u6700\u65b0\u5b89\u5b9a\u7248\u3002\n\nmysql55: MySQL 5.5.x\u3002\n\nmysql51: MySQL 5.1.x\u30022013\u5e74\u306b\u30b5\u30dd\u30fc\u30c8\u304c\u7d42\u4e86\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u63a8\u5968\u3057\u306a\u3044\u3002\n\n\nMariaDB\nSun Microsystems\u304cMySQL AB\u3092\u53d6\u5f97\u3057\u305f\u5f8c\u3001MySQL\u306e\u958b\u767a\u8005\u304c\u4f5c\u3063\u305fMySQL\u306e\u30d5\u30a9\u30fc\u30af\u3002\n* mariadb-10.1: MariaDB 10.1.x\u3002\u958b\u767a\u7248\u306a\u306e\u3067\u904b\u7528\u306b\u306f\u63a8\u5968\u3057\u306a\u3044\u3002\n* mariadb-10.0: MariaDB 10.0.x\u3002\u6700\u65b0\u5b89\u5b9a\u7248\u3002\n* mariadb: MariaDB 5.5.x\u3002\n\nPersona\nMySQL\u306e\u5225\u306e\u30d5\u30a9\u30fc\u30af\u3002\n* percona: Percona Server 5.6.x\u3002\n\nMySQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001port select\u30b3\u30de\u30f3\u30c9\u3067mysql56\u3092\u65e2\u5b9a\u306eMySQL\u306b\u3057\u3001\u30d0\u30a4\u30ca\u30ea\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d1\u30b9\u3092\u901a\u3059\u3002\u5fc5\u8981\u306a\u3089~/.bash_profile\u306a\u3069\u306b\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3002\n$ sudo port install mysql56-server\n$ sudo port select mysql mysql56\n$ export PATH=$PATH:/opt/local/lib/mysql56/bin\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3066\u6240\u6709\u8005\u3092\u5909\u66f4\u3059\u308b\u3002\n$ sudo -u _mysql mysql_install_db \n$ sudo chown -R _mysql:_mysql /opt/local/var/db/mysql56/ \n$ sudo chown -R _mysql:_mysql /opt/local/var/run/mysql56/ \n$ sudo chown -R _mysql:_mysql /opt/local/var/log/mysql56/\n\n\n\u8d77\u52d5\u3068\u505c\u6b62\n\n\u8d77\u52d5\n$ sudo port load mysql56-server\n\n\n\u505c\u6b62\n$ sudo port load mysql56-server\n\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a\nmysqladmin -u root -p password\n\n\n\u30b5\u30fc\u30d0\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u3068\u30ed\u30b0\u30a2\u30a6\u30c8\n$ mysql -u root -p\n\n$ mysql> exit ;\n\n\nPHP\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\nphp71: PHP 7.1.x\u3002\u6700\u65b0\u958b\u767a\u7248\u3002\n\nphp70: PHP 7.0.x\u3002\u6700\u65b0\u5b89\u5b9a\u7248\u3002\n\nphp56: PHP 5.6.x\u3002\u4ee5\u524d\u306e\u5b89\u5b9a\u7248\u3002\n\nphp55: PHP v5.5.x\u3002\u4ee5\u524d\u306e\u5b89\u5b9a\u7248\u3002\n\nphp54, php53, php52: \u305d\u308c\u305e\u308cPHP 5.4.x, 5.3.x, 5.2.x\u3067\u30012015, 2014, 2011\u306b\u30b5\u30dd\u30fc\u30c8\u304c\u7d42\u4e86\u3057\u305f\u306e\u3067\u63a8\u5968\u3057\u306a\u3044\u3002\n\n\u3053\u3053\u3067\u306fphp70\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\nPHP SAPI\nServer API\u6bce\u306bport\u304c\u7570\u306a\u308b\u3002\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306fphp70\u3001Apache\u30e2\u30b8\u30e5\u30fc\u30eb\u306fphp70-apache2handler\u3001FastCGI\u306fphp70-cgi\u3001FastCGI Process Manager\u306fphp70-cgi\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\nApache\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u306f\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3002\nsudo port install php70-apache2handler\n\n\nApache\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u6709\u52b9\u5316\nphp70-apache2handler\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\n$ cd /opt/local/apache2/modules\n$ sudo /opt/local/apache2/bin/apxs -a -e -n php7 mod_php70.so\n\n\nApache\u306e\u8a2d\u5b9a\u306e\u5909\u66f4\u30fb\u78ba\u8a8d\nApache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb/opt/local/apache2/conf/httpd.conf\u3092\u78ba\u8a8d\u3002\nindex.php\u3092DirectoryIndex\u306b\u8ffd\u52a0\u3059\u308b\u3002\nDirectoryIndex index.php index.html\n\nPHP\u306e\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u3002httpd.conf\u306e\u6700\u5f8c\u306b\u3067\u3082\u8ffd\u8a18\u3059\u308b\u3002\nInclude conf/extra/mod_php70.conf\n\n\u52d5\u7684\u5171\u6709\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8aad\u307f\u8fbc\u307f\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3002\nLoadModule php5_module modules/mod_php70.so\n\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u5fdc\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u7528\u3044\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5408\u308f\u305b\u305fport\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002MySQL\u3092\u7528\u3044\u308b\u5834\u5408\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3002\nsudo port install php70-mysql\n\n\n\u521d\u671f\u8a2d\u5b9a\n\u958b\u767a\u7528php.ini-development\u3068\u672c\u756a\u7528\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30b3\u30d4\u30fc\u3057\u3066\u9069\u5b9c\u7de8\u96c6\u3002\n$ cd /opt/local/etc/php70\n$ sudo cp php.ini-development php.ini\n\n\nMySQL\u3092PHP\u304b\u3089\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a\nMySQL default\u306e\u65e2\u5b9a\u306e\u30bd\u30b1\u30c3\u30c8\u3092MacPorts\u306e\u8a2d\u5b9a configuration (/opt/local/var/run/mysql56/mysqld.sock)\u306b\u5408\u308f\u305b\u308b\u3002\n$ sudo -i\n# cd /opt/local/etc/php70\n# cp php.ini php.ini.bak\n# defSock=$(/opt/local/bin/mysql_config --socket)\n# cat php.ini | sed \\\n  -e \"s#pdo_mysql\\.default_socket.*#pdo_mysql\\.default_socket=${defSock}#\" \\\n  -e \"s#mysqli\\.default_socket.*#mysqli\\.default_socket=${defSock}#\" > tmp.ini\n# grep default_socket tmp.ini  # Check it!\n# mv tmp.ini php.ini\n# exit # OR rm php.ini.bak && exit\n\ngrep\u3067\u78ba\u8a8d\u3057\u305f\u969b\u306e\u51fa\u529b\u3002howto/MySQL\u306b\u3042\u308bmysql.default_socket\u306f\u30b5\u30f3\u30d7\u30eb\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u306a\u3044\u3002\npdo_mysql.default_socket=/opt/local/var/run/mysql56/mysqld.sock\nmysqli.default_socket=/opt/local/var/run/mysql56/mysqld.sock\n\nApache\u3092\u518d\u8d77\u52d5\u3057\u3066\u6709\u52b9\u5316\u3002\n$ sudo port unload apache2\n$ sudo port load apache2\n\n\nphpinfo\u3067\u78ba\u8a8d\n\nphpinfo.php\n<?php\nphpinfo();\n\n\n\nWordPress\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nwp-cli\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo port install wp-cli\n\n\u3092\u5b9f\u884c\u3059\u308b\u3068/opt/local/bin/wp\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002\n\n\n[MacPorts](https://www.macports.org)\u3092\u4f7f\u3063\u3066\u3001Mac\u3067\u30ed\u30fc\u30ab\u30eb\u306bMAMP\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u304cMacPorts\u306eHowto\u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u809d\u5fc3\u306a\u3068\u3053\u308d\u3092\u65e5\u672c\u8a9e\u3067\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002Apache\u306e\u8a73\u7d30\u306a\u8a2d\u5b9a\u3001MySQL\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u5b9a\u3001phpMyAdmin\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\u306f\u7701\u7565\u3057\u305f\u306e\u3067\u82f1\u8a9e\u306e\u65b9\u3092\u3054\u89a7\u4e0b\u3055\u3044\u3002\n\nMacPorts\u306eWordPress\u306f\u53e4\u304f\u3001\u30e1\u30f3\u30c6\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002MacPorts\u306b\u306f``wp-cli``\u304c\u3042\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u3046\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\nMacPorts\u306b\u3064\u3044\u3066\u306f\u3001[\u3053\u3061\u3089](http://qiita.com/tenomoto/items/66614f982de96641d662)\u306b\u7d39\u4ecb\u3057\u307e\u3057\u305f\u306e\u3067\u3054\u89a7\u4e0b\u3055\u3044\u3002\n\n# \u6982\u8981\n\n* Apache2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002[howto/Apache2](https://trac.macports.org/wiki/howto/Apache2)\n* MySQL\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002[howto/MySQL](https://trac.macports.org/wiki/howto/MySQL)\n* PHP\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002[howto/PHP](https://trac.macports.org/wiki/howto/PHP)\n* MySQL\u3068PHP\u304c\u4f7f\u3048\u308b\u3088\u3046\u306bApache\u3092\u8a2d\u5b9a\u3059\u308b\u3002[howto/MAMP](https://trac.macports.org/wiki/howto/MAMP)\n\n# Apache2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## \u30d0\u30fc\u30b8\u30e7\u30f3\n\nMacPorts\u306b\u306f``apache``, ``apache2``, ``apache24-devel``\u304c\u3042\u308a\u3001\u305d\u308c\u305e\u308c\u30d0\u30fc\u30b8\u30e7\u30f31.3.x, 2.2x, 2.4.x\u306b\u5bfe\u5fdc\u3059\u308b\u3002\u3053\u3053\u3067\u306f``apache2``\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n## Web\u5171\u6709\u3092\u30aa\u30d5\u306b\u3059\u308b\u3002\n\n* OS X 10.8 Mountain Lion\u4ee5\u524d\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\u3067\u30aa\u30d5\u306b\u3059\u308b\u3002\n* OS X 10.9 Mavericks\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u30aa\u30d5\u306b\u3059\u308b\u3002\n\n```\n$ sudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist\n```\n* OS X 10.10 Yosemite\u4ee5\u964d Apache\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304c\u8d77\u52d5\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u3044\u3002\u8d77\u52d5\u3055\u305b\u305f\u306e\u3067\u3042\u308c\u3070\u3001\u505c\u6b62\u3059\u308b\u65b9\u6cd5\u3082\u5206\u304b\u3063\u3066\u3044\u308b\u306f\u305a\u3002\n\n## Apache\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo port install apache2\n```\n\n## \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n\n* ``/opt/local/apache2/conf/original/httpd.conf``\u306f\u8a2d\u5b9a\u4f8b\u306a\u306e\u3067\u7de8\u96c6\u3057\u306a\u3044\u3002\n* \u521d\u3081\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u4e0a\u8a18\u30d5\u30a1\u30a4\u30eb\u304c``/opt/local/apache2/conf/httpd.conf``\u306b\u30b3\u30d4\u30fc\u3055\u308c\u308b\u3002\u3053\u3061\u3089\u306f\u81ea\u7531\u306b\u7de8\u96c6\u3057\u3066\u3088\u3044\u3002\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u306e\u969b\u306f\u4e0a\u66f8\u304d\u3055\u308c\u306a\u3044\u304c\u3001\u5ff5\u306e\u305f\u3081\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u3063\u3066\u304a\u304f\u3068\u3088\u3044\u3002\n\n### \u30e6\u30fc\u30b6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\n\n\u30b3\u30e1\u30f3\u30c8``#``\u3092\u5916\u3059\u3002\n\n```\nInclude conf/extra/httpd-userdir.conf\n```\n\n## \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d\n\n```\n$ /opt/local/apache2/bin/apachectl -t\n```\n\n## \u8d77\u52d5\u3068\u505c\u6b62\n\n```\n$ sudo port load apache2\n```\n\n\u30de\u30b7\u30f3\u3092\u518d\u8d77\u52d5\u3057\u3066\u3082\u81ea\u52d5\u7684\u306bApache\u304c\u7acb\u3061\u4e0a\u304c\u308b\u3002\n\n\u505c\u6b62\u3059\u308b\u306b\u306f\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3002\n\n```\n$ sudo port unload apache2\n```\n\n\u30ed\u30b0\u304c\u4fdd\u5b58\u3055\u308c\u308b\u65e2\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f``/opt/local/apache2/logs/``\u3067\u8d77\u52d5\u30e1\u30c3\u30bb\u30fc\u30b8\u306f``error_log``\u306b\u8a18\u9332\u3055\u308c\u308b\u3002\n\n# MySQL\n\n## \u30d0\u30fc\u30b8\u30e7\u30f3\n\n### MySQL\n* ``mysql56``: MySQL 5.6.x\u3002\u6700\u65b0\u5b89\u5b9a\u7248\u3002\n* ``mysql55``: MySQL 5.5.x\u3002\n* ``mysql51``: MySQL 5.1.x\u30022013\u5e74\u306b\u30b5\u30dd\u30fc\u30c8\u304c\u7d42\u4e86\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u63a8\u5968\u3057\u306a\u3044\u3002\n\n### MariaDB\nSun Microsystems\u304cMySQL AB\u3092\u53d6\u5f97\u3057\u305f\u5f8c\u3001MySQL\u306e\u958b\u767a\u8005\u304c\u4f5c\u3063\u305fMySQL\u306e\u30d5\u30a9\u30fc\u30af\u3002\n* ``mariadb-10.1``: MariaDB 10.1.x\u3002\u958b\u767a\u7248\u306a\u306e\u3067\u904b\u7528\u306b\u306f\u63a8\u5968\u3057\u306a\u3044\u3002\n* ``mariadb-10.0``: MariaDB 10.0.x\u3002\u6700\u65b0\u5b89\u5b9a\u7248\u3002\n* ``mariadb``: MariaDB 5.5.x\u3002\n\n### Persona\nMySQL\u306e\u5225\u306e\u30d5\u30a9\u30fc\u30af\u3002\n* ``percona``: Percona Server 5.6.x\u3002\n\n## MySQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001``port select``\u30b3\u30de\u30f3\u30c9\u3067``mysql56``\u3092\u65e2\u5b9a\u306eMySQL\u306b\u3057\u3001\u30d0\u30a4\u30ca\u30ea\u306e\u3042\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d1\u30b9\u3092\u901a\u3059\u3002\u5fc5\u8981\u306a\u3089``~/.bash_profile``\u306a\u3069\u306b\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3002\n\n```\n$ sudo port install mysql56-server\n$ sudo port select mysql mysql56\n$ export PATH=$PATH:/opt/local/lib/mysql56/bin\n```\n\n## \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u3057\u3066\u6240\u6709\u8005\u3092\u5909\u66f4\u3059\u308b\u3002\n\n```\n$ sudo -u _mysql mysql_install_db \n$ sudo chown -R _mysql:_mysql /opt/local/var/db/mysql56/ \n$ sudo chown -R _mysql:_mysql /opt/local/var/run/mysql56/ \n$ sudo chown -R _mysql:_mysql /opt/local/var/log/mysql56/\n```\n\n## \u8d77\u52d5\u3068\u505c\u6b62\n\n### \u8d77\u52d5\n\n```\n$ sudo port load mysql56-server\n```\n\n### \u505c\u6b62\n\n```\n$ sudo port load mysql56-server\n```\n## \u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a\n```\nmysqladmin -u root -p password\n```\n\n## \u30b5\u30fc\u30d0\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u3068\u30ed\u30b0\u30a2\u30a6\u30c8\n\n```\n$ mysql -u root -p\n\n$ mysql> exit ;\n```\n\n# PHP\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## \u30d0\u30fc\u30b8\u30e7\u30f3\n\n* ``php71``: PHP 7.1.x\u3002\u6700\u65b0\u958b\u767a\u7248\u3002\n* ``php70``: PHP 7.0.x\u3002\u6700\u65b0\u5b89\u5b9a\u7248\u3002\n* ``php56``: PHP 5.6.x\u3002\u4ee5\u524d\u306e\u5b89\u5b9a\u7248\u3002\n* ``php55``: PHP v5.5.x\u3002\u4ee5\u524d\u306e\u5b89\u5b9a\u7248\u3002\n* ``php54``, ``php53``, ``php52``: \u305d\u308c\u305e\u308cPHP 5.4.x, 5.3.x, 5.2.x\u3067\u30012015, 2014, 2011\u306b\u30b5\u30dd\u30fc\u30c8\u304c\u7d42\u4e86\u3057\u305f\u306e\u3067\u63a8\u5968\u3057\u306a\u3044\u3002\n\n\u3053\u3053\u3067\u306f``php70``\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n## PHP SAPI\n\nServer API\u6bce\u306bport\u304c\u7570\u306a\u308b\u3002\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306fphp70\u3001Apache\u30e2\u30b8\u30e5\u30fc\u30eb\u306f``php70-apache2handler``\u3001FastCGI\u306f``php70-cgi``\u3001FastCGI Process Manager\u306f``php70-cgi``\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\nApache\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5834\u5408\u306f\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n\n```\nsudo port install php70-apache2handler\n```\n\n### Apache\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u6709\u52b9\u5316\n\n``php70-apache2handler``\u3092\u6709\u52b9\u306b\u3059\u308b\u3002\n\n```\n$ cd /opt/local/apache2/modules\n$ sudo /opt/local/apache2/bin/apxs -a -e -n php7 mod_php70.so\n```\n\n## Apache\u306e\u8a2d\u5b9a\u306e\u5909\u66f4\u30fb\u78ba\u8a8d\nApache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb``/opt/local/apache2/conf/httpd.conf``\u3092\u78ba\u8a8d\u3002\n\n``index.php``\u3092DirectoryIndex\u306b\u8ffd\u52a0\u3059\u308b\u3002\n\n```\nDirectoryIndex index.php index.html\n```\n\nPHP\u306e\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u3080\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u3002``httpd.conf``\u306e\u6700\u5f8c\u306b\u3067\u3082\u8ffd\u8a18\u3059\u308b\u3002\n\n```\nInclude conf/extra/mod_php70.conf\n```\n\n\u52d5\u7684\u5171\u6709\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8aad\u307f\u8fbc\u307f\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3002\n\n```\nLoadModule php5_module modules/mod_php70.so\n```\n\n## \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5bfe\u5fdc\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u7528\u3044\u308b\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u5408\u308f\u305b\u305fport\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002MySQL\u3092\u7528\u3044\u308b\u5834\u5408\u3001\u6b21\u306e\u3088\u3046\u306b\u3059\u308b\u3002\n\n```\nsudo port install php70-mysql\n```\n\n## \u521d\u671f\u8a2d\u5b9a\n\u958b\u767a\u7528``php.ini-development``\u3068\u672c\u756a\u7528\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30b3\u30d4\u30fc\u3057\u3066\u9069\u5b9c\u7de8\u96c6\u3002\n\n```\n$ cd /opt/local/etc/php70\n$ sudo cp php.ini-development php.ini\n```\n\n## MySQL\u3092PHP\u304b\u3089\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a\n\nMySQL default\u306e\u65e2\u5b9a\u306e\u30bd\u30b1\u30c3\u30c8\u3092MacPorts\u306e\u8a2d\u5b9a configuration (``/opt/local/var/run/mysql56/mysqld.sock``)\u306b\u5408\u308f\u305b\u308b\u3002\n\n```\n$ sudo -i\n# cd /opt/local/etc/php70\n# cp php.ini php.ini.bak\n# defSock=$(/opt/local/bin/mysql_config --socket)\n# cat php.ini | sed \\\n  -e \"s#pdo_mysql\\.default_socket.*#pdo_mysql\\.default_socket=${defSock}#\" \\\n  -e \"s#mysqli\\.default_socket.*#mysqli\\.default_socket=${defSock}#\" > tmp.ini\n# grep default_socket tmp.ini  # Check it!\n# mv tmp.ini php.ini\n# exit # OR rm php.ini.bak && exit\n```\n\n``grep``\u3067\u78ba\u8a8d\u3057\u305f\u969b\u306e\u51fa\u529b\u3002[howto/MySQL](https://trac.macports.org/wiki/howto/MySQL)\u306b\u3042\u308b``mysql.default_socket``\u306f\u30b5\u30f3\u30d7\u30eb\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u306a\u3044\u3002\n\n```\npdo_mysql.default_socket=/opt/local/var/run/mysql56/mysqld.sock\nmysqli.default_socket=/opt/local/var/run/mysql56/mysqld.sock\n```\n\nApache\u3092\u518d\u8d77\u52d5\u3057\u3066\u6709\u52b9\u5316\u3002\n\n```\n$ sudo port unload apache2\n$ sudo port load apache2\n```\n\n## phpinfo\u3067\u78ba\u8a8d\n\n```php:phpinfo.php\n<?php\nphpinfo();\n```\n\n## WordPress\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n### wp-cli\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo port install wp-cli\n```\n\n\u3092\u5b9f\u884c\u3059\u308b\u3068``/opt/local/bin/wp``\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002\n", "tags": ["macports", "WordPress", "mamp"]}