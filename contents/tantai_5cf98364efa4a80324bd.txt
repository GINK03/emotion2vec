{"tags": ["HTML5", "JavaScript", "vue.js"], "context": "\u30a8\u30af\u30bb\u30eb\u306a\u3069\u3067\u4f7f\u308f\u308c\u308bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3057\u3066\u898b\u308b\u30c4\u30fc\u30eb\n\u30c7\u30e2\uff1ahttp://pie.karou.jp/zf.html\n\n\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u90f5\u4fbf\u756a\u53f7\u3068\u4f4f\u6240\u306e\u66f8\u3044\u3066\u3042\u308bcsv\u30d5\u30a1\u30a4\u30eb\u304c\n\u3061\u3087\u3046\u3069\u3088\u3044\u306e\u3067\u201d\u90f5\u4fbf\u756a\u53f7 csv\u201d\u3067\u691c\u7d22\u3057\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n\u5168\u56fd\u306e\u30c7\u30fc\u30bf  KEN_ALL_ROME.CSV 10.5MB\n\"0640941\",\"\u5317\u6d77\u9053\",\"\u672d\u5e4c\u5e02\u3000\u4e2d\u592e\u533a\",\"\u65ed\u30b1\u4e18\",\"HOKKAIDO\",\"SAPPORO SHI CHUO KU\",\"ASAHIGAOKA\"\n1\u884c\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u300012\u4e07\u884c\n\n\ncsv\u30d5\u30a1\u30a4\u30eb\u3092input file\u3067\u9078\u629e\u3059\u308b\ncsv\u30d5\u30a1\u30a4\u30eb\u306fshiftJIS\u304c\u591a\u304f\u3066\u6587\u5b57\u5316\u3051\u3059\u308b\u306e\u3067\u30e9\u30a4\u30d6\u30e9\u30eaencoding.js\u3092\u4f7f\u3063\u3066\u5bfe\u7b56\u3059\u308b\n12\u4e07\u884c\u3082\u8868\u793a\u3067\u304d\u306a\u3044\u306e\u306730\u884c\u3060\u3051\u8868\u793a\u3059\u308b\uff08\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u306e\u306b5\u79d2\u304f\u3089\u3044\uff09\n\nand\u691c\u7d22\u3092\u3059\u308b\u305f\u3081\u306b\nArray.filter(function(v){\nreturn v.join(\"\").indexOf(\"\u6771\u4eac\")>-1);\n}).filter(function(v){\nreturn v.join(\"\").indexOf(\"\u65b0\u5bbf\")>-1);\n});\n\n\u3053\u308c\u3067\u30c7\u30fc\u30bf\u62bd\u51fa\u3059\u308b\u30681\u79d2\u4ee5\u4e0b\u3067697\u4ef6\u898b\u3064\u3051\u3066\u8868\u793a\u3055\u308c\u308b\n\n\n\n<!doctype html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"utf-8\">\n<title>csv\u30d5\u30a1\u30a4\u30eb\u691c\u7d22\u30c4\u30fc\u30eb</title>\n<style>\nh1{font-size: 16px;display:inline;}\np{display:inline;}\ninput[type=number]{width:80px;}\n</style>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.7/vue.min.js\"></script>\n<script src=\"folder3/encoding.min.js\"></script>\n</head>\n<body>\n<div id=\"app\">\n   <h1>csv\u30d5\u30a1\u30a4\u30eb \u691c\u7d22\u30c4\u30fc\u30eb\uff08\u7c21\u6613\u30aa\u30fc\u30c8\u30d5\u30a3\u30eb\u30bf\uff09</h1>\n   <input type=\"file\" @change=\"fileChange\">\n   <p>\u5217\u5e45\u8abf\u6574\u306f\u30bb\u30eb\u5185\u3067Backspace,\u2190,\u2192\u30ad\u30fc</p>\n   <hr>\n   \u691c\u7d22\u6587\u5b57:<input type=\"text\" id=\"filter1\">and<input type=\"text\" id=\"filter2\">\n   \u884c:<input type=\"number\" id=\"maxGyou\" step=\"10\" min=\"10\" value=\"30\">\n   <input type=\"button\" @click=\"filterFn\" value=\"\u62bd\u51fa\">\n   \u30da\u30fc\u30b8:\n   <select v-model=\"index\">\n     <option v-for=\"n in pageLength\" v-bind:value=\"n\">{{n}} </option>\n   </select> /{{ (pageLength==100)?\"over\": pageLength}}\n   <input type=\"button\" value=\"\u2190\" @click=\"plus(-1)\">\n   <input type=\"button\" value=\"\u2192\" @click=\"plus(1)\">\n   \u4e00\u81f4\u6570\uff1a{{ matchNum }}\n   <hr>\n   <div v-for=\"n in gyouNum\" style=\"white-space: nowrap;\">\n      <input type=\"text\" v-for=\"(v,i) in csvData[(index-1)*gyouNum + (n-1)]\" :value=\"v\" \n      @keyup.left=\"css(i,-25)\" @keyup.right=\"css(i,50)\" @keyup.delete=\"css(i,-1000)\" \n      :style=\"{color : (colorArr[i] || 'black'), width: (widthArr[i] || 150) + 'px' }\" readonly=\"readonly\">\n   </div>\n</div>\n<script>\nvar vm = new Vue({\n   el: '#app',\n   data: {\n      index: 1,\n      gyouNum: 30,\n      fileData: [],\n      csvData: [],\n      widthArr: [],\n      colorArr: [],\n      matchNum: 0,\n   },\n   computed: {\n      pageLength: function() {\n         return Math.ceil(this.csvData.length / this.gyouNum);\n      },\n   },\n   methods: {\n      fileChange: function(e) {\n         $(\"#filter1,#filter2\").val(\"\");\n         var file = e.target.files[0];\n         var reader = new FileReader();\n         reader.onload = function(e) {\n            var codes = new Uint8Array(e.target.result);\n            var encoding = Encoding.detect(codes);\n            var unicodeString = Encoding.convert(codes, {\n               to: 'unicode',\n               from: encoding,\n               type: 'string'\n            });\n            var arr = unicodeString.trim().replace(/\\\"/g, \"\").split(\"\\n\");\n            vm.fileData = arr.map(v => v.split(\",\"));\n            vm.filterFn();\n         };\n         reader.readAsArrayBuffer(file);\n      },\n      plus: function(x) {\n         if (this.index + x <= 0 || this.index + x > this.pageLength) return;\n         this.index += x;\n      },\n      css: function(x, y) {\n         this.widthArr[x] = this.widthArr[x] || 150;\n         this.widthArr[x] += y;\n         if (this.widthArr[x] < 15) {\n            this.widthArr[x] = 10;\n            this.colorArr[x] = \"white\";\n         } else {\n            this.colorArr[x] = \"black\";\n         }\n         this.colorArr.push();\n         this.widthArr.push();\n      },\n      filterFn: function() {\n         this.index = 1;\n         this.gyouNum = $(\"#maxGyou\").val() - 0;\n         var filter1 = $(\"#filter1\").val().toLowerCase();\n         var filter2 = $(\"#filter2\").val().toLowerCase();\n         var arr = this.fileData.filter(function(v) {\n            return v.join(\"\").toLowerCase().indexOf(filter1) > -1;\n         }).filter(function(v, i) {\n            return v.join(\"\").toLowerCase().indexOf(filter2) > -1;\n         });\n         this.matchNum = arr.length;\n         this.csvData = arr.filter(function(v, i) {\n            return i < vm.gyouNum * 100;\n         });\n      },\n   },\n});\n</script>\n</body>\n</html>\n\n\n\nvue.js\u3067\u66f8\u3044\u305f\u30aa\u30bb\u30ed\nhttps://jsfiddle.net/af9b4bq3/\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.7/vue.min.js\"></script>\n<p>\u30aa\u30bb\u30ed</p>\n<div id=\"app\">\n  <p>\u767d:{{ w }}, \u9ed2:{{ b }}</p>\n  <p>{{ [\"\u767d\",\"\u9ed2\"][wb] }}\u306e\u624b\u756a</p>\n  <div v-for=\"i in 8\" class=\"container\">\n    <div v-for=\"j in 8\" class=\"waku\">\n      <div :class=\"{ 'white': xy[i][j]==0, 'black': xy[i][j]==1 }\" @click=\"oku(i, j)\"></div>\n    </div>\n  </div>\n  <p>\n    <button @click=\"pass\">pass</button>\n  </p>\n</div>\n\np {\n  text-align: center;\n}\ndiv {\n  min-width: 35px;\n  min-height: 35px;\n}\n.container {\n  display: flex;\n  justify-content: center;\n}\n.waku {\n  border: 1px solid black;\n  background-color: green;\n}\n.white {\n  border-radius: 35px;\n  background-color: white;\n}\n.black {\n  border-radius: 35px;\n  background-color: black;\n}\n\nvar vm = new Vue({\n  el: '#app',\n  data: {\n    wb: 1,\n    xy: [\n      [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 0, 1, 2, 2, 2, 3],\n      [3, 2, 2, 2, 1, 0, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],\n    ],\n  },\n  computed: {\n    w: function() {\n      return (this.xy.join('').match(/0/g) || []).length;\n    },\n    b: function() {\n      return (this.xy.join('').match(/1/g) || []).length;\n    },\n  },\n  methods: {\n    oku: function(x, y) {\n      if (this.xy[x][y] != 2) return;\n      var flag = false;\n      for (var dx = -1; dx <= 1; dx++) {\n        for (var dy = -1; dy <= 1; dy++) {\n          if (dx == 0 && dy == 0) continue;\n          var k = 1;\n          while (this.xy[x + k * dx][y + k * dy] <= 1) {\n            if (this.xy[x + k * dx][y + k * dy] == this.wb) {\n              k = 1;\n              while (this.xy[x + k * dx][y + k * dy] == 1 - this.wb) {\n                flag = true;\n                this.xy[x + k * dx][y + k * dy] = this.wb;\n                k++;\n              }\n              break;\n            }\n            k++;\n          }\n        }\n      }\n      if (flag == false) return;\n      this.xy[x][y] = this.wb;\n      this.wb = 1 - this.wb;\n      this.xy.push();\n    },\n    pass: function() {\n      this.wb = 1 - this.wb;\n    },\n  },\n});\n\n\u30a8\u30af\u30bb\u30eb\u306a\u3069\u3067\u4f7f\u308f\u308c\u308bCSV\u30d5\u30a1\u30a4\u30eb\u3092\u30d6\u30e9\u30a6\u30b6\u3067\u8868\u793a\u3057\u3066\u898b\u308b\u30c4\u30fc\u30eb\n\u30c7\u30e2\uff1ahttp://pie.karou.jp/zf.html\n\n![index.png](https://qiita-image-store.s3.amazonaws.com/0/54926/b6c2d791-581c-37c3-a931-f7bd54f52b1e.png)\n\n\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u90f5\u4fbf\u756a\u53f7\u3068\u4f4f\u6240\u306e\u66f8\u3044\u3066\u3042\u308bcsv\u30d5\u30a1\u30a4\u30eb\u304c\n\u3061\u3087\u3046\u3069\u3088\u3044\u306e\u3067\u201d\u90f5\u4fbf\u756a\u53f7 csv\u201d\u3067\u691c\u7d22\u3057\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\n\n\n\u5168\u56fd\u306e\u30c7\u30fc\u30bf  KEN_ALL_ROME.CSV 10.5MB\n\"0640941\",\"\u5317\u6d77\u9053\",\"\u672d\u5e4c\u5e02\u3000\u4e2d\u592e\u533a\",\"\u65ed\u30b1\u4e18\",\"HOKKAIDO\",\"SAPPORO SHI CHUO KU\",\"ASAHIGAOKA\"\n1\u884c\u304c\u3053\u3093\u306a\u611f\u3058\u3067\u300012\u4e07\u884c\n\n***\n1. csv\u30d5\u30a1\u30a4\u30eb\u3092input file\u3067\u9078\u629e\u3059\u308b\n2. csv\u30d5\u30a1\u30a4\u30eb\u306fshiftJIS\u304c\u591a\u304f\u3066\u6587\u5b57\u5316\u3051\u3059\u308b\u306e\u3067\u30e9\u30a4\u30d6\u30e9\u30eaencoding.js\u3092\u4f7f\u3063\u3066\u5bfe\u7b56\u3059\u308b\n3. 12\u4e07\u884c\u3082\u8868\u793a\u3067\u304d\u306a\u3044\u306e\u306730\u884c\u3060\u3051\u8868\u793a\u3059\u308b\uff08\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u306e\u306b5\u79d2\u304f\u3089\u3044\uff09\n4. and\u691c\u7d22\u3092\u3059\u308b\u305f\u3081\u306b\n\n    ```\n    Array.filter(function(v){\n    return v.join(\"\").indexOf(\"\u6771\u4eac\")>-1);\n    }).filter(function(v){\n    return v.join(\"\").indexOf(\"\u65b0\u5bbf\")>-1);\n    });\n    ```\n\u3053\u308c\u3067\u30c7\u30fc\u30bf\u62bd\u51fa\u3059\u308b\u30681\u79d2\u4ee5\u4e0b\u3067697\u4ef6\u898b\u3064\u3051\u3066\u8868\u793a\u3055\u308c\u308b\n***\n\n```\n<!doctype html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"utf-8\">\n<title>csv\u30d5\u30a1\u30a4\u30eb\u691c\u7d22\u30c4\u30fc\u30eb</title>\n<style>\nh1{font-size: 16px;display:inline;}\np{display:inline;}\ninput[type=number]{width:80px;}\n</style>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.7/vue.min.js\"></script>\n<script src=\"folder3/encoding.min.js\"></script>\n</head>\n<body>\n<div id=\"app\">\n   <h1>csv\u30d5\u30a1\u30a4\u30eb \u691c\u7d22\u30c4\u30fc\u30eb\uff08\u7c21\u6613\u30aa\u30fc\u30c8\u30d5\u30a3\u30eb\u30bf\uff09</h1>\n   <input type=\"file\" @change=\"fileChange\">\n   <p>\u5217\u5e45\u8abf\u6574\u306f\u30bb\u30eb\u5185\u3067Backspace,\u2190,\u2192\u30ad\u30fc</p>\n   <hr>\n   \u691c\u7d22\u6587\u5b57:<input type=\"text\" id=\"filter1\">and<input type=\"text\" id=\"filter2\">\n   \u884c:<input type=\"number\" id=\"maxGyou\" step=\"10\" min=\"10\" value=\"30\">\n   <input type=\"button\" @click=\"filterFn\" value=\"\u62bd\u51fa\">\n   \u30da\u30fc\u30b8:\n   <select v-model=\"index\">\n     <option v-for=\"n in pageLength\" v-bind:value=\"n\">{{n}} </option>\n   </select> /{{ (pageLength==100)?\"over\": pageLength}}\n   <input type=\"button\" value=\"\u2190\" @click=\"plus(-1)\">\n   <input type=\"button\" value=\"\u2192\" @click=\"plus(1)\">\n   \u4e00\u81f4\u6570\uff1a{{ matchNum }}\n   <hr>\n   <div v-for=\"n in gyouNum\" style=\"white-space: nowrap;\">\n      <input type=\"text\" v-for=\"(v,i) in csvData[(index-1)*gyouNum + (n-1)]\" :value=\"v\" \n      @keyup.left=\"css(i,-25)\" @keyup.right=\"css(i,50)\" @keyup.delete=\"css(i,-1000)\" \n      :style=\"{color : (colorArr[i] || 'black'), width: (widthArr[i] || 150) + 'px' }\" readonly=\"readonly\">\n   </div>\n</div>\n<script>\nvar vm = new Vue({\n   el: '#app',\n   data: {\n      index: 1,\n      gyouNum: 30,\n      fileData: [],\n      csvData: [],\n      widthArr: [],\n      colorArr: [],\n      matchNum: 0,\n   },\n   computed: {\n      pageLength: function() {\n         return Math.ceil(this.csvData.length / this.gyouNum);\n      },\n   },\n   methods: {\n      fileChange: function(e) {\n         $(\"#filter1,#filter2\").val(\"\");\n         var file = e.target.files[0];\n         var reader = new FileReader();\n         reader.onload = function(e) {\n            var codes = new Uint8Array(e.target.result);\n            var encoding = Encoding.detect(codes);\n            var unicodeString = Encoding.convert(codes, {\n               to: 'unicode',\n               from: encoding,\n               type: 'string'\n            });\n            var arr = unicodeString.trim().replace(/\\\"/g, \"\").split(\"\\n\");\n            vm.fileData = arr.map(v => v.split(\",\"));\n            vm.filterFn();\n         };\n         reader.readAsArrayBuffer(file);\n      },\n      plus: function(x) {\n         if (this.index + x <= 0 || this.index + x > this.pageLength) return;\n         this.index += x;\n      },\n      css: function(x, y) {\n         this.widthArr[x] = this.widthArr[x] || 150;\n         this.widthArr[x] += y;\n         if (this.widthArr[x] < 15) {\n            this.widthArr[x] = 10;\n            this.colorArr[x] = \"white\";\n         } else {\n            this.colorArr[x] = \"black\";\n         }\n         this.colorArr.push();\n         this.widthArr.push();\n      },\n      filterFn: function() {\n         this.index = 1;\n         this.gyouNum = $(\"#maxGyou\").val() - 0;\n         var filter1 = $(\"#filter1\").val().toLowerCase();\n         var filter2 = $(\"#filter2\").val().toLowerCase();\n         var arr = this.fileData.filter(function(v) {\n            return v.join(\"\").toLowerCase().indexOf(filter1) > -1;\n         }).filter(function(v, i) {\n            return v.join(\"\").toLowerCase().indexOf(filter2) > -1;\n         });\n         this.matchNum = arr.length;\n         this.csvData = arr.filter(function(v, i) {\n            return i < vm.gyouNum * 100;\n         });\n      },\n   },\n});\n</script>\n</body>\n</html>\n```\n\n***\n***\n\nvue.js\u3067\u66f8\u3044\u305f\u30aa\u30bb\u30ed\nhttps://jsfiddle.net/af9b4bq3/\n\n```\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.7/vue.min.js\"></script>\n<p>\u30aa\u30bb\u30ed</p>\n<div id=\"app\">\n  <p>\u767d:{{ w }}, \u9ed2:{{ b }}</p>\n  <p>{{ [\"\u767d\",\"\u9ed2\"][wb] }}\u306e\u624b\u756a</p>\n  <div v-for=\"i in 8\" class=\"container\">\n    <div v-for=\"j in 8\" class=\"waku\">\n      <div :class=\"{ 'white': xy[i][j]==0, 'black': xy[i][j]==1 }\" @click=\"oku(i, j)\"></div>\n    </div>\n  </div>\n  <p>\n    <button @click=\"pass\">pass</button>\n  </p>\n</div>\n```\n\n```\np {\n  text-align: center;\n}\ndiv {\n  min-width: 35px;\n  min-height: 35px;\n}\n.container {\n  display: flex;\n  justify-content: center;\n}\n.waku {\n  border: 1px solid black;\n  background-color: green;\n}\n.white {\n  border-radius: 35px;\n  background-color: white;\n}\n.black {\n  border-radius: 35px;\n  background-color: black;\n}\n```\n\n```\nvar vm = new Vue({\n  el: '#app',\n  data: {\n    wb: 1,\n    xy: [\n      [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 0, 1, 2, 2, 2, 3],\n      [3, 2, 2, 2, 1, 0, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 2, 2, 2, 2, 2, 2, 2, 2, 3],\n      [3, 3, 3, 3, 3, 3, 3, 3, 3, 3],\n    ],\n  },\n  computed: {\n    w: function() {\n      return (this.xy.join('').match(/0/g) || []).length;\n    },\n    b: function() {\n      return (this.xy.join('').match(/1/g) || []).length;\n    },\n  },\n  methods: {\n    oku: function(x, y) {\n      if (this.xy[x][y] != 2) return;\n      var flag = false;\n      for (var dx = -1; dx <= 1; dx++) {\n        for (var dy = -1; dy <= 1; dy++) {\n          if (dx == 0 && dy == 0) continue;\n          var k = 1;\n          while (this.xy[x + k * dx][y + k * dy] <= 1) {\n            if (this.xy[x + k * dx][y + k * dy] == this.wb) {\n              k = 1;\n              while (this.xy[x + k * dx][y + k * dy] == 1 - this.wb) {\n                flag = true;\n                this.xy[x + k * dx][y + k * dy] = this.wb;\n                k++;\n              }\n              break;\n            }\n            k++;\n          }\n        }\n      }\n      if (flag == false) return;\n      this.xy[x][y] = this.wb;\n      this.wb = 1 - this.wb;\n      this.xy.push();\n    },\n    pass: function() {\n      this.wb = 1 - this.wb;\n    },\n  },\n});\n```\n"}