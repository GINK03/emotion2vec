{"context": " More than 1 year has passed since last update.\n\n \u306f\u3058\u3081\u306b\n\u672c\u6295\u7a3f\u306f\u30012015/3/26\u306b\u884c\u308f\u308c\u305fAWS\u4e0a\u3067\u69cb\u7bc9\u3059\u308bRESTful\u30a2\u30d7\u30ea\u52c9\u5f37\u4f1a\uff5eWeb\u958b\u767a\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\uff5e\u3010\u7b2c3\u56de\u3011 - connpass\u306e\u5185\u5bb9\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u305f\u8cc7\u6599\u3067\u3059\u3002\n\u3054\u53c2\u52a0\u9802\u3044\u305f\u65b9\u3078\u3002\n\u6709\u96e3\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01\u6b21\u56de\u3082\u305c\u3072\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\u4eca\u5f8c\u306e\u4e88\u5b9a\u21e2AWS\u4e0a\u3067\u69cb\u7bc9\u3059\u308bRESTful\u30a2\u30d7\u30ea\u52c9\u5f37\u4f1a\uff5eWeb\u958b\u767a\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\uff5e - connpass\n\u4eca\u56de\u306f\u3001Marionette.js\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nBackbone\u3060\u3051\u3067\u306f\u9762\u5012\u306a\u90e8\u5206\u3001\u7169\u96d1\u306b\u306a\u308b\u90e8\u5206\u306a\u3069\u3092\u89e3\u6d88\u3057\u3066\u3044\u304f\u904e\u7a0b\u3092\u4f53\u9a13\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01\n\n Marionette\u306e\u6982\u8981\n\nMarionette.js\u3068\u306f\uff1f\nBackbone\u306f\u305d\u306e\u540d\u306e\u901a\u308a\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067MVC\u30e2\u30c7\u30eb\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306e\u300c\u80cc\u9aa8\u300d\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u307e\u3055\u306b\u80cc\u9aa8\u306e\u307f\u3067\u3042\u308a\u3001\u5b9f\u969b\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u69cb\u7bc9\u3067\u306f\u3055\u307e\u3056\u307e\u306a\u30b3\u30fc\u30c9\u3092\u30d7\u30ed\u30b0\u30e9\u30de\u304c\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u3001\u300c\u6bce\u56de\u540c\u3058\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u300d\u3068\u3044\u3046\u72b6\u6cc1\u304c\u5f80\u3005\u306b\u3057\u3066\u767a\u751f\u3057\u307e\u3059\u3002\n\u524d\u56de\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u8a00\u3046\u3068\u3001\n\nView\u306e\u5207\u308a\u66ff\u3048\u3092\u3057\u3066\u3044\u308b\u90e8\u5206\n\u30cd\u30b9\u30c8\u3057\u305fView\u306e\u7ba1\u7406\n\u30b5\u30fc\u30d0\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u304b\u3089View\u306eRender\u307e\u3067\u306e\u4e00\u9023\u306e\u30b3\u30fc\u30c9\n\n\u306a\u3069\u3067\u3059\u3002Marionette\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u304b\u306a\u308a\u306e\u90e8\u5206\u3092\u80a9\u4ee3\u308f\u308a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u307e\u305f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u898f\u6a21\u304c\u5927\u304d\u304f\u306a\u3063\u3066\u304f\u308b\u3068\u3001Backbone\u306e\u307f\u3067\u306fView\u306e\u7ba1\u7406\u304c\u5927\u5909\u306b\u306a\u3063\u3066\u304d\u307e\u3059\u3002\u5168\u4f53\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u30d3\u30e5\u30fc\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u30d3\u30e5\u30fc\u3001\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3001\u30e2\u30c7\u30eb\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3001etc....\u3002\n\u3053\u308c\u3089\u3082\u3001Marionette\u304c\u63d0\u4f9b\u3059\u308b\u3001\u5f79\u5272\u306b\u5fdc\u3058\u305f\u8907\u6570\u306eView\u3084Region\u3068\u3044\u3063\u305f\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067View\u306e\u69cb\u9020\u304c\u628a\u63e1\u3057\u3084\u3059\u304f\u306a\u308a\u3001\u53ef\u8aad\u6027\u3001\u4fdd\u5b88\u6027\u306e\u5411\u4e0a\u306b\u3064\u306a\u304c\u308a\u307e\u3059\u3002\n\u4ed6\u306b\u3082\u3001ui\u306a\u3069\u306e\u4fbf\u5229\u306a\u6a5f\u80fd\u3001\u4eca\u56de\u306f\u89e6\u308c\u307e\u305b\u3093\u304c\u3001triggers\u3084Behaviors\u306a\u3069\u3001\u6709\u76ca\u306a\u6a5f\u80fd\u304c\u76db\u308a\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\nBackbone\u306b\u306f\u3055\u307e\u3056\u307e\u306a\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u307e\u305a\u6700\u521d\u306b\u5c0e\u5165\u3092\u691c\u8a0e\u3059\u3079\u304d\u306a\u306e\u304c\u3053\u306eMarionette\u3068\u3044\u3048\u308b\u3067\u3057\u3087\u3046\u3002\n\nMarionette\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3056\u3063\u304f\u308a\u7d39\u4ecb\nMarionette\u306f\u3001MVC\u3067\u3044\u3046\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30d3\u30e5\u30fc\u306b\u5bfe\u3057\u3066\u306e\u6a5f\u80fd\u3092\u6301\u3061\u307e\u3059\u3002\nBackbone\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u62c5\u3063\u3066\u3044\u305f\u6a5f\u80fd\u3092Marionette\u304c\u63d0\u4f9b\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u7f6e\u304d\u63db\u3048\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u4eca\u56de\u4f7f\u7528\u3059\u308bMarionette\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u4e0b\u8a18\u306e\u3068\u304a\u308a\u3067\u3059\u3002\u5404\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u6a5f\u80fd\u8a73\u7d30\u306f\u5f8c\u307b\u3069\u8ff0\u3079\u307e\u3059\u3002\n\u307e\u305a\u306f\u3053\u308c\u3060\u3051\u3042\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3067\u3002\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u7cfb\n\n\n\nMarionette\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\u6982\u8981\n\n\n\n\nMarionette.Application\nMarionette\u3092\u4f7f\u7528\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b9\u30bf\u30fc\u30c8\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308a\u307e\u3059\n\n\nMarionette.AppRouter\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002\n\n\nMarionette.Controller\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3067\u3059\u3002\n\n\n\n\n\u30d3\u30e5\u30fc\u7cfb\n\n\n\nMarionette\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\u6982\u8981\n\n\n\n\nMarionette.Application\n\u30ea\u30fc\u30b8\u30e7\u30f3\u5b9a\u7fa9\u6a5f\u80fd\u3092\u6301\u3061\u307e\u3059\u3002\n\n\nMarionette.Region\n\u753b\u9762\u306b\u5b9a\u7fa9\u3059\u308b\u9818\u57df\u300c\u30ea\u30fc\u30b8\u30e7\u30f3\u300d\u3092\u8868\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002\n\n\nMarionette.LayoutView\n\u8907\u6570\u306e\u30d3\u30e5\u30fc\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306b\u9069\u3057\u305f\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\n\nMarionette.CollectionView\nCollection\u306e\u8868\u793a\u306b\u9069\u3057\u305f\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\n\nMarionette.CompositeView\nCollection\u306e\u8868\u793a\u306b\u9069\u3057\u305f\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\n\nMarionette.ItemView\nModel\u306e\u8868\u793a\u306b\u9069\u3057\u305f\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\n\n\n\u5404\u30d3\u30e5\u30fc\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u306e\u6709\u7121\u3002\n\n\n\nView\n\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\n\n\n\n\nMarionette.Application\n\u6709\u308a\n\u7121\u3057\n\n\nMarionette.LayoutView\n\u6709\u308a\n\u6709\u308a\n\n\nMarionette.CollectionView\n\u7121\u3057\n\u7121\u3057\n\n\nMarionette.CompositeView\n\u7121\u3057\n\u6709\u308a\n\n\nMarionette.ItemView\n\u7121\u3057\n\u6709\u308a\n\n\n\n\nBackbone\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306e\u95a2\u4fc2\nBackbone\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3001Marionette\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306e\u5bfe\u5fdc\u95a2\u4fc2\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\nBackbone\nMarionette\n\n\n\n\n-\nMarionette.Application\n\n\nBackbone.Router\nMarionette.AppRouterMarionette.Controller\n\n\nBackbone.View\nMarionette.RegionMarionette.LayoutViewMarionette.CollectionViewMarionette.CompositeViewMarionette.ItemView\n\n\n\n\n\n \u4eca\u56de\u306e\u5185\u5bb9\n\u524d\u56de\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u3001Marionette.js\u306e\u5404\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u7528\u3057\u3066\u66f8\u304d\u63db\u3048\u3066\u3044\u304d\u307e\u3059\u3002\n\u753b\u9762\u306f\u4f55\u3082\u5909\u308f\u308a\u307e\u305b\u3093\u3002\u5185\u90e8\u306e\u5b9f\u88c5\u3060\u3051\u304c\u5909\u308f\u308a\u307e\u3059\u3002\n\u3067\u306f\u307e\u305a\u3001\u6e96\u5099\u304b\u3089\uff01\n\n \u4e8b\u524d\u6e96\u5099\n\nSSH\u3067\u30ed\u30b0\u30a4\u30f3\nssh\u30ed\u30b0\u30a4\u30f3\u304b\u3089\u59cb\u3081\u307e\u3057\u3087\u3046\uff01\n\n\n ssh -i [\u79d8\u5bc6\u9375\u306e\u30d1\u30b9] study@[\u30b5\u30fc\u30d0\u306ePublicIP]\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n cd /var/www/study/rest-study \n\n\u3067\u306f\u3001\u306f\u3058\u3081\u307e\u3057\u3087\u3046!\n\ngit\u306e\u30d6\u30e9\u30f3\u30c1\u3092\u6574\u3048\u3066\u304a\u304f\n\u524d\u56de\u306f\u3001vol/02\u30d6\u30e9\u30f3\u30c1\u3067\u4f5c\u696d\u3092\u3057\u307e\u3057\u305f\u3002\u524d\u56de\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u306f\u3001vol/02\u30d6\u30e9\u30f3\u30c1\u3092push\u3057\u3066GitHub\u3067\u78ba\u8a8d\u307e\u3067\u3001\u3068\u3057\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u307e\u305a\u524d\u56de\u307e\u3067\u306e\u5185\u5bb9\u3092master\u30d6\u30e9\u30f3\u30c1\u306b\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002\n\u524d\u56de\u304c\u4f5c\u696d\u9014\u4e2d\u306e\u65b9\u3084\u3001\u4eca\u56de\u304b\u3089\u53c2\u52a0\u306e\u65b9\u306f\u3001\u65b0\u305f\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u4eca\u56de\u304b\u3089\u53c2\u52a0\u3055\u308c\u308b\u65b9\u3001\u7b2c1\u56de\u306e\u5185\u5bb9\u306f\u7d42\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u6761\u4ef6\u3067\u3059\u306e\u3067\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\u4eca\u56de\u5206\u304b\u3089\u59cb\u3081\u3089\u308c\u308b\u65b9\u3001\u524d\u56de\u304c\u9014\u4e2d\u306e\u65b9\u3001\u7d42\u308f\u3063\u3066\u3044\u308b\u304b\u305f\u3067\u3084\u308a\u65b9\u304c\u9055\u3046\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n\u3084\u308a\u305f\u3044\u3053\u3068\u306f\u3001\n\nmaster\u30d6\u30e9\u30f3\u30c1\u3092\u524d\u56de\u306e\u7d42\u4e86\u72b6\u614b\u306b\u3059\u308b\nmaster\u30d6\u30e9\u30f3\u30c1\u3092\u5143\u306b\u3001\u4eca\u56de\u306e\u4f5c\u696d\u7528\u3067\u3042\u308b\u3001\u300cvol/03\u300d\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\n\n\n\u524d\u56de\u304c\u4f5c\u696d\u9014\u4e2d\u306e\u65b9\n\u3068\u306b\u304b\u304f\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3057\u3087\u3046\uff01\n\u9014\u4e2d\u3067\u3082\u3068\u306b\u304b\u304f\uff01\n\n\u6b21\u306f\u5168\u54e1\u540c\u3058\u3002 fork\u5143\u3092\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\n\u7b2c\u4e00\u56de\u52c9\u5f37\u4f1a\u3067fork\u3057\u305f\u5143\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3068\u3057\u3066\u8ffd\u52a0\u3057\u307e\u3059\u3002\n git remote\n\u3068\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u3066\u3001\norigin\nupstream\n\n\u3068\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u306f\u3053\u306e\u4f5c\u696d\u306f\u7d42\u308f\u3063\u3066\u3044\u307e\u3059\u3002\u6b21\u3078\u884c\u304d\u307e\u3057\u3087\u3046\uff01\nupstream\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u4eba\u306f\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3002\n git remote add upstream https://github.com/suzukishouten-study/rest-study.git\n\u3053\u308c\u3067OK\u3067\u3059\uff01\n\n\u6b21\u3082\u5168\u54e1\u540c\u3058\u3002 upstream\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6700\u65b0\u3092\u53d6\u5f97\u3059\u308b\n git fetch upstream\n\u3053\u308c\u3067OK\uff01\n\u6b21\u306f\u3001\n\n\u524d\u56de\u306e\u5185\u5bb9\u3092\u5b8c\u4e86\u3057\u305f\u65b9\n\u524d\u56de\u306e\u5185\u5bb9\u3092\u9014\u4e2d\u307e\u3067\u3084\u3063\u305f\u65b9\u3068\u4eca\u56de\u304b\u3089\u53c2\u52a0\u306e\u65b9\n\n\u3067\u5c11\u3057\u9055\u3046\u306e\u3067\u3054\u6ce8\u610f\uff01\n\n\u524d\u56de\u306e\u5185\u5bb9\u3092\u5b8c\u4e86\u3057\u305f\u65b9\nmaster\u30d6\u30e9\u30f3\u30c1\u3092\u524d\u56de\u5206\u3092\u7d42\u4e86\u3057\u305f\u72b6\u614b\u306b\u3057\u307e\u3059\u3002\n\u524d\u56de\u3092\u5b8c\u4e86\u3057\u305f\u65b9\u306f\u3001vol/02\u30d6\u30e9\u30f3\u30c1\u3092\u30de\u30fc\u30b8\u3067\u3059\u3002\ngit checkout master\n\u3067master\u30d6\u30e9\u30f3\u30c1\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u5f8c\u3001\ngit merge vol/02\n\u3067\u30de\u30fc\u30b8\u3002\u3053\u308c\u3067OK\uff01\n\n\u524d\u56de\u306e\u5185\u5bb9\u3092\u9014\u4e2d\u307e\u3067\u3084\u3063\u305f\u65b9\u3068\u4eca\u56de\u304b\u3089\u53c2\u52a0\u306e\u65b9\nmaster\u30d6\u30e9\u30f3\u30c1\u3092\u524d\u56de\u5206\u3092\u7d42\u4e86\u3057\u305f\u72b6\u614b\u306b\u3057\u307e\u3059\u3002\n\u524d\u56de\u306e\u5185\u5bb9\u3092\u9014\u4e2d\u307e\u3067\u3084\u3063\u305f\u65b9\u3068\u4eca\u56de\u304b\u3089\u53c2\u52a0\u306e\u65b9\u306f\u3001upstream\u30ea\u30dd\u30b8\u30c8\u30ea\u306evol/02-finish\u30d6\u30e9\u30f3\u30c1\u3092\u30de\u30fc\u30b8\u3067\u3059\u3002\n git checkout master\n\u3067master\u30d6\u30e9\u30f3\u30c1\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u5f8c\u3001\n git reset --hard upstream/vol/02-finish\n\u3067\u5f37\u5236\u7684\u306b\u30de\u30fc\u30b8\u3002\u3053\u308c\u3067OK\uff01\n\n\u4eca\u56de\u306e\u4f5c\u696d\u7528\u306ebranch\u3092\u4f5c\u6210\n\u5168\u54e1\u540c\u3058\u624b\u9806\u3067\u3059\u3002\n\u4eca\u56de\u306e\u4f5c\u696d\u7528\u30d6\u30e9\u30f3\u30c1\u3068\u3057\u3066\u3001vol/03\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u308a\u3001\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u3057\u307e\u3059\u3002\nmaster\u30d6\u30e9\u30f3\u30c1\u304b\u3089\u5206\u5c90\u3057\u3066vol/03\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\u306e\u3067\u3001\u307e\u305amaster\u30d6\u30e9\u30f3\u30c1\u306b\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n\u3053\u308c\u307e\u3067\u306e\u4f5c\u696d\u3067\u3001\u65e2\u306bmaster\u30d6\u30e9\u30f3\u30c1\u306b\u3044\u308b\u306f\u305a\u3067\u3059\u304c\u3002\n\n\n git branch \u3067master\u306b\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n master\u306b\u3044\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001git checkout master \u3067master\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\n\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067vol/03\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n git branch vol/03 \u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u3063\u3066\n\n git checkout vol/03 \u3067\u305d\u306e\u30d6\u30e9\u30f3\u30c1\u306b\u5909\u66f4\n\n\n\u78ba\u8a8d\n\u5ff5\u306e\u305f\u3081\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n git log \u3067\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\u524d\u56de\u306e\u6700\u5f8c\u306e\u30b3\u30df\u30c3\u30c8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002\n\u3053\u308c\u3067\u30d6\u30e9\u30f3\u30c1\u306e\u6e96\u5099\u306f\u6574\u3044\u307e\u3057\u305f\u3002\n git branch -a \u3068\u3001\u5168\u30d6\u30e9\u30f3\u30c1\u3092\u8868\u793a\u3059\u308b\u3068\u3001vol/03-finish\u30d6\u30e9\u30f3\u30c1\u304c\u898b\u3048\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u4eca\u56de\u306e\u5185\u5bb9\u304c\u5168\u3066\u7d42\u3048\u305f\u72b6\u614b\u306e\u30bd\u30fc\u30b9\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30bd\u30fc\u30b9\u306f\u3001\u4e0b\u8a18URL\u304b\u3089\u5404Lesson\u6bce\u306e\u30b3\u30df\u30c3\u30c8\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nCommits \u00b7 suzukishouten-study/rest-study\n\n Marionette\u30e9\u30a4\u30d6\u30e9\u30ea\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nMarionette\u306e\u516c\u5f0f\u30b5\u30a4\u30c8Marionette.js \u2013 The Backbone Framework\u304b\u3089\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\u306f\u4e0b\u8a18\u3067\u3059\u3002\u30b5\u30fc\u30d0\u306bSSH\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001wget\u30b3\u30de\u30f3\u30c9\u3067\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u3053\u306e\u3042\u305f\u308a\u306e\u624b\u9806\u306f\u524d\u56de\u306e\u8cc7\u6599\u306b\u3082\u8a18\u8f09\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n/var/www/study/rest-study/app/webroot/js/lib\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\ncd /var/www/study/rest-study/app/webroot/js/lib\nwget http://marionettejs.com/downloads/backbone.marionette.min.js\n\n\u3053\u308c\u3067\u6e96\u5099\u5b8c\u4e86\u3067\u3059\uff01\n\u3067\u306f\u3001Marionette\u306e\u5404\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u3069\u306e\u3088\u3046\u306b\u6a5f\u80fd\u3059\u308b\u306e\u304b\u3001\u8a73\u3057\u304f\u898b\u3066\u884c\u304d\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u306fLesson1\u3001\u300c\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30fb\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u300d\u3068\u984c\u3057\u3001\u524d\u56de\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u3001\n\nMarionette.Application\nMarionette.AppRouter\nMarionette.Controller\n\n\u306e3\u3064\u3092\u9069\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n Lesson 1 \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30fb\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\nMarionette\u3092\u4f7f\u7528\u3057\u3066\u4e00\u756a\u6069\u6075\u3092\u53d7\u3051\u308b\u306e\u306f\u30d3\u30e5\u30fc\u90e8\u5206\u306a\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u524d\u306b\u307e\u305a\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30fb\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u3042\u305f\u308a\u306e\u5909\u66f4\u70b9\u3092\u6291\u3048\u3066\u304a\u304f\u306e\u304cLesson1\u3067\u3059\u3002\n\u307e\u3060Marionette\u304c\u672c\u9818\u3092\u767a\u63ee\u3059\u308b\u3068\u3053\u308d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u4e0b\u8a18\u306e\u3068\u304a\u308a\u3067\u3059\u3002\n\n\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306e\u5909\u66f4\n\u30eb\u30fc\u30bf\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u5206\u96e2\n\n\u4e0b\u8a18\u306eMarionette\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3063\u3066\u3001\u524d\u56de\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4fee\u6b63\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nMarionette.Application\nMarionette.AppRouter\nMarionette.Controller\n\n\n\u7de8\u96c6\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\n\n\n\n\u7de8\u96c6\nfile\n\u5f79\u5272\n\n\n\n\n\u4fee\u6b63\napp/View/Layouts/default.ctp\nHTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\n\n\u8ffd\u52a0\napp/webroot/js/main.js\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u30dd\u30a4\u30f3\u30c8\n\n\n\u4fee\u6b63\napp/webroot/js/app.js\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(Marionettte.Application)\n\n\n\u4fee\u6b63\napp/webroot/js/routers/router.js\n\u30eb\u30fc\u30bf(Marionette.AppRouter)\n\n\n\u8ffd\u52a0\napp/webroot/js/routers/controller.js\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\n\n\n\ndefault.ctp\n\u307e\u305a\u306f\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\ndefault.ctp\n        <script src=\"js/lib/jquery-2.1.3.min.js\" type=\"text/javascript\"></script>\n        <script src=\"js/lib/underscore-min.js\" type=\"text/javascript\"></script>\n        <script src=\"js/lib/backbone-min.js\" type=\"text/javascript\"></script>\n+       <script src=\"js/lib/backbone.marionette.min.js\" type=\"text/javascript\"></script>\n\n        <!-- js(application) -->\n\n\u301c\u4e2d\u7565\u301c\n\n        <script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n        <script src=\"js/views/todo-detail-view.js\" type=\"text/javascript\"></script>\n        <script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n+       <!--   controller   -->\n+       <script src=\"js/routers/controller.js\" type=\"text/javascript\"></script>\n        <!--   router   -->\n        <script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n-       <!--   entry point   -->\n+       <!--   application   -->\n        <script src=\"js/app.js\" type=\"text/javascript\"></script>\n+       <!--   entry point   -->\n+       <script src=\"js/main.js\" type=\"text/javascript\"></script>\n\n </body>\n </html>\n\n\n\n\u8ffd\u52a0\u3057\u305fjs\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u306e\u8ffd\u52a0\u3067\u3059\u3002\n\n\n\njs/lib/backbone.marionette.min.js - Marionette\u672c\u4f53\u3002\n\njs/routers/controller.js - Marionette\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u308b\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u5b9f\u88c5\u3002\u3042\u3068\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\njs/app.js - Marionette\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u308b\u3001Application\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u88c5\u3002\n\n\n\n\u4fee\u6b63\u524d\u306f\u3001\u3053\u308c\u304c\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3067\u3057\u305f\u304c\u3001\u4fee\u6b63\u5f8c\u306f\u6b21\u306emain.js\u304c\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308a\u307e\u3059\u3002\n\n\n\njs/main.js - \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u3042\u3068\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n\n\nmain.js\n\u524d\u56de\u306f\u3001app.js\u304c\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3067\u3057\u305f\u3002\u4eca\u56de\u306e\u4fee\u6b63\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30922\u3064\u306b\u308f\u3051\u307e\u3059\u3002\n\nmain.js - \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308a\u307e\u3059\u3002\napp.js - Marionette.Application\u3092\u7d99\u627f\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u88c5\u3068\u306a\u308a\u307e\u3059\u3002\n\n\nmain.js\nvar app = app || {};\n\n//\u958b\u59cb\n(function(app) {\n    app.application = new app.Application();\n    app.application.start();\n})(app);\n\n\napp.Application(app.js\u3067\u5b9a\u7fa9)\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u3001start\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u306e\u307f\u3067\u3059\u3002\n\napp.js\n\u524d\u56deapp.js\u3067\u3084\u3063\u3066\u3044\u305f\u3053\u3068\u306f\u4e0b\u8a18\u306e2\u3064\u3067\u3057\u305f\u3002\n\nrouter\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\n\nBackbone.history.start()\u3092\u5b9f\u884c\u3057\u3066\u300chashchange\u30a4\u30d9\u30f3\u30c8\u300d\u306e\u76e3\u8996\u3092\u958b\u59cb\n\n\n\u524d\u56de\u306eapp.js\u518d\u63b2\nvar app = app || {};\n\n//\u958b\u59cb\n(function(app) {\n    var todoRouter = new app.TodoRouter();\n    Backbone.history.start();\n})(app);\n\n\nMarionette\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u3053\u308c\u3089\u306e\u51e6\u7406\u306fMarionette.Application\u3092\u7d99\u627f\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5185\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u3067\u3059\u306e\u3067\u3001\u3053\u306eapp.js\u5185\u3067\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b9a\u7fa9\u306e\u307f\u884c\u3044\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u53ca\u3073\u5b9f\u884c\u306fmain.js\u304b\u3089\u3001\u3068\u306a\u308b\u308f\u3051\u3067\u3059\u3002\n\u524d\u8ff0\u306emain.js\uff08\u4eca\u56de\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308b\u30d5\u30a1\u30a4\u30eb\uff09\u5185\u3067\u5f53\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3055\u308c\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\napp.js\n //\u958b\u59cb\n (function(app) {\n-       var todoRouter = new app.TodoRouter();\n-       Backbone.history.start();\n+       app.Application = Backbone.Marionette.Application.extend({\n+               initialize : function(){\n+                       new app.TodoRouter();\n+               },\n+\n+               onStart : function(){\n+                       Backbone.history.start();\n+               },\n+       });\n })(app);\n\n\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u524d\u56de\u3068\u5909\u308f\u308a\u307e\u305b\u3093\u3002\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 - initialize\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\n\n\u3053\u3053\u3067router\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3002\n\n\nstart\u95a2\u6570\u5b9f\u884c - onStart\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\n\n\u3053\u3053\u3067hashchange\u30a4\u30d9\u30f3\u30c8\u306e\u76e3\u8996\u958b\u59cb\u3002\n\n\n\n\nrouter.js\nrouter\u306f\u3001\u7d99\u627f\u5143\u304cMarionette.AppRouter\u306b\u5909\u308f\u308a\u307e\u3059\u3002\nrouter\u5185\u3067\u306f\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\u306e\u307f\u3092\u66f8\u304d\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5f8c\u5b9f\u884c\u3055\u308c\u308b\u95a2\u6570\u306e\u5b9f\u88c5\u306fcontroller\u5185\u306b\u66f8\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nrouter.js\n //router\n (function(app) {\n-       app.TodoRouter = Backbone.Router.extend({\n-               routes : {\n+       app.TodoRouter = Backbone.Marionette.AppRouter.extend({\n+               //\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\n+               controller: new app.TodoController(),\n+               //\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8a2d\u5b9a\n+               appRoutes : {\n                        ''                      : 'todoLists',\n                        'todo-lists'            : 'todoLists',\n                        'todo-lists/:id'        : 'todoDetail'\n                },\n-\n-               currentView : false,\n-\n-               todoLists : function() {\n-                       //Todo\u4e00\u89a7\u8868\u793a\u7528\u30d3\u30e5\u30fc\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n-                       this.removeCurrentView();\n-                       this.nextView(app.TodoCollectionView);\n-               },\n-\n-               todoDetail : function(id) {\n-                       this.removeCurrentView();\n-                       this.nextView(app.TodoDetailView, id);\n-               },\n-\n-               nextView : function(View, option) {\n-                       if (document.getElementById('#content') === null) {\n-                               $('#main').append('<div id=\"content\"/>');\n-                       }\n-                       this.currentView = new View(option);\n-               },\n-               removeCurrentView : function() {\n-                       if (this.currentView) {\n-                               this.currentView.remove();\n-                       }\n-               }\n-\n        });\n })(app);\n\n\n\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b\u95a2\u6570\u306e\u5b9f\u88c5\u306f\u5168\u3066\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u79fb\u52d5\u3059\u308b\u305f\u3081\u3001router\u304b\u3089\u306f\u524a\u9664\u3002\n\ncontroller: new app.TodoController()\n\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u3053\u3053\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\ncontroller.js\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5f8c\u306e\u95a2\u6570\u306e\u5b9f\u88c5\u3092\u3053\u3053\u306b\u79fb\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n\u5185\u5bb9\u306f\u305d\u306e\u307e\u307e\u3067\u3059\u3002\n\ncontroller.js\nvar app = app || {};\n\n//controller\n(function(app) {\n    app.TodoController = Backbone.Marionette.Controller.extend({\n\n        currentView : false,\n\n        todoLists : function() {\n            //Todo\u4e00\u89a7\u8868\u793a\u7528\u30d3\u30e5\u30fc\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n            this.removeCurrentView();\n            this.nextView(app.TodoCollectionView);\n        },\n\n        todoDetail : function(id) {\n            this.removeCurrentView();\n            this.nextView(app.TodoDetailView, id);\n        },\n\n        nextView : function(View, option) {\n            if (document.getElementById('#content') === null) {\n                $('#main').append('<div id=\"content\"/>');\n            }\n            this.currentView = new View(option);\n        },\n        removeCurrentView : function() {\n            if (this.currentView) {\n                this.currentView.remove();\n            }\n        }\n    });\n})(app);\n\n\n\n\u5b9f\u88c5\n\u3067\u306f\u3001\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\uff01\n\n\n app/View/Layouts/default.ctp \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n\n app/webroot/js/main.js \u3092\u4e0a\u8a18\u306e\u901a\u308a\u8ffd\u52a0\u3002\n\n app/webroot/js/app.js \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n\n app/webroot/js/routers/router.js \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n\n app/webroot/js/routers/controller.js\u3092\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n\n \u52d5\u4f5c\u78ba\u8a8d!\n\n Git\u306b\u30b3\u30df\u30c3\u30c8\n\n\u5b8c\u6210\u30bd\u30fc\u30b9(GitHub)\u3078\u306e\u30ea\u30f3\u30af\n- default.ctp\n- main.js\n- app.js\n- router.js\n- controller.js\nLesson2\u3078\uff01\nMarionette\u304c\u672c\u9818\u3092\u767a\u63ee\u3059\u308bView\u306e\u90e8\u5206\u3092\u6271\u3044\u307e\u3059\uff01\n\n Lesson 2 TODO\u4e00\u89a7\u753b\u9762\u306bMarionette\u306e\u30d3\u30e5\u30fc\u3092\u9069\u7528\nMarionette\u304c\u672c\u9818\u767a\u63ee\u3059\u308b\u90e8\u5206\u3001View\u306e\u5b9f\u88c5\u3067\u3059\u3002\n\u307e\u305a\u306fTODO\u4e00\u89a7\u753b\u9762\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u524d\u8ff0\u306e\u3068\u304a\u308aMarionette\u304c\u63d0\u4f9b\u3059\u308bView\u306f4\u7a2e\u985e\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u305d\u308c\u3089\u306e\u3046\u3061\u4e0b\u8a18\u3092\u9069\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nLayoutView\nCompositeView\nItemView\n\n\u307e\u305f\u3001Marionette.Application\u3068LayoutView\u304c\u6301\u3064\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u3082\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u3055\u3066\u3001\u3053\u3053\u3067\u5404\u30d3\u30e5\u30fc\u306e\u5f79\u5272\u3092\u8a73\u3057\u304f\u898b\u3066\u884c\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u30d3\u30e5\u30fc\u306e\u95a2\u4fc2\n\n\u30d3\u30e5\u30fc\n\u300c\u30d3\u30e5\u30fc\u300d\u306f\u3001\u3042\u308b\u7279\u5b9a\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3059\u308b\u6700\u5c0f\u5358\u4f4d\u3001\u3068\u3044\u3046\u8a8d\u8b58\u3067\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\u524d\u56de\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3060\u3068\u3001\n\nTODO1\u4ef6\uff08Model1\u4ef6\uff09\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\nTODO\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\n\n\u304c\u305d\u3046\u3067\u3059\u3002\u305d\u308c\u305e\u308c\u3001Model1\u4ef6\u3001Collection\u4e00\u3064\u3092\u53f8\u308b\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\u56f3\u306b\u3059\u308b\u3068\u3053\u3046\u3067\u3059\u3002\n\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\n\u300c\u30ea\u30fc\u30b8\u30e7\u30f3\u300d\u3068\u306f\u3001\u30d3\u30e5\u30fc\u3092\u8868\u793a\u3059\u308b\u9818\u57df\u3067\u3059\u3002\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u5dee\u3057\u66ff\u3048\u308b\uff08\u753b\u9762\u9077\u79fb\uff09\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\u524d\u56de\u306fView\u306e\u7834\u68c4\u3092\u81ea\u524d\u3067\u3084\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6a5f\u80fd\u306b\u3088\u3063\u3066\u3001\u3053\u308c\u3092Marionette\u306b\u4efb\u305b\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001TODO\u4e00\u89a7\u30d3\u30e5\u30fc\u3068TODO\u8a73\u7d30\u30d3\u30e5\u30fc\u3092\u5207\u308a\u66ff\u3048\u308b\u969b\u306b\u3053\u306e\u6a5f\u80fd\u304c\u4f7f\u308f\u308c\u307e\u3059\u3002\n\u5207\u308a\u66ff\u3048\u306b\u3064\u3044\u3066\u306fLesson3\u3067\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\u5207\u308a\u66ff\u3048\u30a4\u30e1\u30fc\u30b8\n\n\u4eca\u56de\u306eTODO\u30ea\u30b9\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u307e\u3060\u3084\u308a\u307e\u305b\u3093\u304c\u3001\u8868\u793a\u3059\u308b\u5bfe\u8c61\u304c\u591a\u304f\u306a\u3063\u3066\u304f\u308b\u3068\u3001\u8907\u6570\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u7528\u610f\u3057\u3066\u3001\u5404\u5f79\u5272\u306e\u30d3\u30e5\u30fc\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u8907\u6570\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u5229\u7528\u30a4\u30e1\u30fc\u30b8\n\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u306f\u3001Marionette.Application\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304a\u3088\u3073Marionette.LayoutView\u5185\u306b\u751f\u6210\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u5178\u578b\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u3068\u3057\u3066\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nMarionette.Application\u304c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4e00\u756a\u5916\u5074\u306e\u571f\u53f0\u3068\u306a\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u751f\u6210\n\n\n\u305d\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u5185\u306bLayoutView\u3092\u914d\u7f6e\n\n\n\u305d\u306eLayoutView\u5185\u306b\u30c7\u30fc\u30bf\u3084\u30dc\u30bf\u30f3\u7b49\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u8868\u793a\n\u307e\u305f\u306fLayoutView\u5185\u306b\u3055\u3089\u306b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u751f\u6210\n\n\n\u305d\u306eLayoutView\u5185\u306b\u30c7\u30fc\u30bf\u3084\u30dc\u30bf\u30f3\u7b49\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u8868\u793a\n\u307e\u305f\u306fLayoutView\u5185\u306b\u3055\u3089\u306b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u751f\u6210\n\n\n\n\n\n\n\n\u3068\u3044\u3046\u5165\u308c\u5b50\u69cb\u9020\u306b\u306a\u308a\u307e\u3059\u3002\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u914d\u7f6e\u3059\u308bView\u306f\u5e38\u306bLayoutView\u3092\u4f7f\u3046\u3088\u3046\u306b\u66f8\u3044\u3066\u307e\u3059\u304c\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u306e\u306a\u3044\u30b7\u30f3\u30d7\u30eb\u306a\u753b\u9762\u3067\u3042\u308c\u3070\u3001LayoutView\u3067\u306f\u306a\u304fCompositeView\u3084ItemView\u3092\u76f4\u63a5\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u914d\u7f6e\u3059\u308b\u307b\u3046\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u3053\u306e\u8fba\u306f\u30b1\u30fc\u30b9\u30d0\u30a4\u30b1\u30fc\u30b9\u3067\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a4\u30e1\u30fc\u30b8\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nMarionette.Application\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3088\u308a\u3001\u4e0b\u8a18\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u7ba1\u7406\u3002\n\n\n\u30d8\u30c3\u30c0\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\n\n\u30d8\u30c3\u30c0\u30fc\u8868\u793a\u30d3\u30e5\u30fc\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\n\n\n\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\n\n\u5185\u5074\u306b\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u5207\u308a\u66ff\u3048\u308b\uff08X\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793aLayoutView\uff0fY\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793aLayoutView\uff09\n\n\n\u30d5\u30c3\u30bf\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\n\n\u30d5\u30c3\u30bf\u8868\u793a\u30d3\u30e5\u30fc\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\u3002\n\n\n\n\nX\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793aLayoutView\n\n\n\u30e1\u30cb\u30e5\u30fc\u30dc\u30bf\u30f3\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\n\n\u30e1\u30cb\u30e5\u30fc\u30dc\u30bf\u30f3\u8868\u793aLayoutView\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\n\n\n\u4e00\u89a7\u30c7\u30fc\u30bf\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\n\n\u4e00\u89a7\u30c7\u30fc\u30bf\u8868\u793aLayoutView\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\n\n\n\u30da\u30fc\u30b8\u5207\u308a\u66ff\u3048\u30dc\u30bf\u30f3\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\n\n\u30da\u30fc\u30b8\u5207\u308a\u66ff\u3048\u30dc\u30bf\u30f3\u8868\u793aLayoutView\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\n\n\n\n\n\n\u301c\u4ee5\u4e0b\u540c\u69d8\u301c\n\n\u30dd\u30a4\u30f3\u30c8\n\u4e0b\u8a18Marionette\u306e\u5404View\u306e\u5f79\u5272\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\n\nRegion\nLayoutView\nCompositeView\nItemView\n\n\u4e0b\u56f3\u306e\u901a\u308a\u3001\u4e0a\u8a18\u306e\u9806\u756a\u3067\u30cd\u30b9\u30c8\u3057\u305f\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4ee5\u4e0a\u8e0f\u307e\u3048\u3066\u3001\u4e0b\u8a18\u89e3\u8aac\u3092\u8aad\u307f\u3064\u3064\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4fee\u6b63\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01\n\n\u7de8\u96c6\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\n\n\n\n\u7de8\u96c6\nfile\n\u5f79\u5272\n\n\n\n\n\u4fee\u6b63\napp/View/Layouts/default.ctp\nHTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\n\n\u4fee\u6b63\napp/webroot/js/app.js\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(Marionettte.Application)\n\n\n\u4fee\u6b63\napp/webroot/js/routers/controller.js\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\n\n\u8ffd\u52a0\napp/webroot/js/views/todo-layout-view.js\n\u30d3\u30e5\u30fc(LayoutView:Todo\u30ea\u30b9\u30c8\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u7528)\n\n\n\u8ffd\u52a0\napp/webroot/js/views/todo-composite-view.js\n\u30d3\u30e5\u30fc(CompositeView:Todo\u30ea\u30b9\u30c8\u4e00\u89a7)\n\n\n\u4fee\u6b63\napp/webroot/js/views/todo-item-view.js\n\u30d3\u30e5\u30fc(ItemView:Todo\u30ea\u30b9\u30c8\u4e00\u89a7\u5185\u306e1\u4ef6\u8868\u793a\u7528)\n\n\n\u524a\u9664\napp/webroot/js/views/todo-collection-view.js\n\u30d3\u30e5\u30fc(Todo\u30ea\u30b9\u30c8\u4e00\u89a7)\n\n\n\n\ndefault.ctp\nLayoutView\u7528\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3072\u3068\u3064\u5897\u3048\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\n\ndefault.ctp\n <body>\n    <!-- \u30b3\u30f3\u30c6\u30f3\u30c4 -->\n    <div id=\"main\"></div>\n-   <!-- TODO\u4e00\u89a7\u8868\u793a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n-   <script type=\"text/template\" id=\"list-template\">\n+\n+   <!-- TODO\u4e00\u89a7\u8868\u793a\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n+   <script type=\"text/template\" id=\"todo-layout-template\">\n    <h1>TODO\u30ea\u30b9\u30c8</h1>\n+   <div id=\"todo-lists\"></div>\n+   </script>\n+\n+   <!-- TODO\u4e00\u89a7\u8868\u793a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n+   <script type=\"text/template\" id=\"todo-composite-template\">\n    <textarea style=\"width:300px;height:50px\"id=\"new-todo\" placeholder=\"Todo?\" autofocus></textarea>\n    <input type=\"button\" id=\"addTodo\" value=\"\u8ffd\u52a0\">\n    <hr>\n    <div>\n        <table border=\"1\" width=\"350px\">\n-           <tbody id=\"todo-lists\"></tbody>\n+           <tbody></tbody>\n        </table>\n    </div>\n    </script>\n\n    <!-- TODO\u4e00\u884c\u5206\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u306etbody\u90e8\u5206\u306b\u633f\u5165\u3055\u308c\u308b\uff09 -->\n-   <script type=\"text/template\" id=\"item-template\">\n+   <script type=\"text/template\" id=\"todo-item-template\">\n    <td><input type=\"checkbox\" class=\"toggle\" <%- status === '1' ? 'checked' : '' %>></td>\n    <td style=\"margin:0px\">\n        <span class=\"todo-edit\" style=\"margin:0px\"><%- todo %></span>\n\n\u301c\u4e2d\u7565\u301c\n\n        <a class=\"detail-link\" href=\"#todo-lists/<%- id %>\">\u8a73\u7d30</a>\n    </td>\n    </script>\n\n    <!-- \u8a73\u7d30\u753b\u9762 -->\n    <script type=\"text/template\" id=\"detail-template\">\n    <h2>Todo #<%- id %></h2>\n\n\u301c\u4e2d\u7565\u301c\n\n    <!--   view   -->\n    <script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n    <script src=\"js/views/todo-detail-view.js\" type=\"text/javascript\"></script>\n-   <script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n+   <script src=\"js/views/todo-composite-view.js\" type=\"text/javascript\"></script>\n+   <script src=\"js/views/todo-layout-view.js\" type=\"text/javascript\"></script>\n    <!--   controller   -->\n    <script src=\"js/routers/controller.js\" type=\"text/javascript\"></script>\n    <!--   router   -->\n\n\n\nTODO\u4e00\u89a7\u8868\u793a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u3001LayoutView\u3067\u4f7f\u7528\u3059\u308b\u90e8\u5206\u3068CompositeView\u3092\u4f7f\u7528\u3059\u308b\u90e8\u5206\u306b\u5206\u5272\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nTODO\u4e00\u89a7\u8868\u793a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u5168\u90e8\u3067\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u3001\u4e00\u89a7\u7528\u30011\u4ef6\u8868\u793a\u7528\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u308c\u305e\u308cID\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u7528 -> todo-layout-template\n\n\u4e00\u89a7\u7528 -> todo-composite-template\n\n1\u4ef6\u7528 -> todo-item-template\n\n\n\n\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u306e\u30d3\u30e5\u30fc\u306b\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3059\u308b\u90e8\u5206\u306e\u30bf\u30b0\u3092\u8ffd\u52a0\u3057\u3001id\u3092todo-lists\u3068\u3057\u3066\u3044\u307e\u3059\uff08\u3053\u3053\u306b\u4e00\u89a7\u8868\u793a\u7528\u306e\u30d3\u30e5\u30fc\u304c\u8aad\u307f\u8fbc\u307e\u308c\u307e\u3059\uff09\u3002\n\u4e00\u89a7\u8868\u793a\u7528\u306e\u30d3\u30e5\u30fc(todo-collection-view.js)\u306ftodo-composite-view.js\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u306e\u30d3\u30e5\u30fc\u3001js/views/todo-layout-view.js\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n\napp.js\n\napp.js\n        onStart : function(){\n            Backbone.history.start();\n        },\n+\n+       regions : {\n+           mainRegion : '#main'\n+       }\n+\n    });\n\n\n\n\nMarionette.Applicaton\u304c\u6301\u3064\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u6307\u5b9a\u3067\u3001default.ctp\u306e<div id=\"main\"></div>\u306e\u30bf\u30b0\u5185\u304c\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3057\u3066\u6271\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\ncontroller.js\nMarionette\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u30d3\u30e5\u30fc\u306e\u63cf\u753b\u3084\u7834\u68c4\u3092\u884c\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u3042\u305f\u308a\u3092\u81ea\u524d\u3067\u3084\u3063\u3066\u3044\u305f\u90e8\u5206\u306e\u30b3\u30fc\u30c9\u304c\u524a\u6e1b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\ncontroller.js\n (function(app) {\n    app.TodoController = Backbone.Marionette.Controller.extend({\n\n-       currentView : false,\n-\n        todoLists : function() {\n-           //Todo\u4e00\u89a7\u8868\u793a\u7528\u30d3\u30e5\u30fc\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n-           this.removeCurrentView();\n-           this.nextView(app.TodoCollectionView);\n+           //Todo\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u30d3\u30e5\u30fc\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+           this.nextView(app.TodoLayoutView);\n        },\n\n        todoDetail : function(id) {\n-           this.removeCurrentView();\n            this.nextView(app.TodoDetailView, id);\n        },\n\n        nextView : function(View, option) {\n-           if (document.getElementById('#content') === null) {\n-               $('#main').append('<div id=\"content\"/>');\n-           }\n-           this.currentView = new View(option);\n+           app.application.mainRegion.show(new View(option));\n        },\n-       removeCurrentView : function() {\n-           if (this.currentView) {\n-               this.currentView.remove();\n-           }\n-       }\n    });\n })(app);\n\n\n\n\nremoveCurrentView\u95a2\u6570\uff08\u524a\u9664\uff09\n\n\nMarionette\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001View\u306e\u751f\u6210\u3001\u7834\u68c4\u304c\u7ba1\u7406\u3055\u308c\u308b\u306e\u3067\u3001\u81ea\u524d\u3067\u3084\u3063\u3066\u3044\u305fremoveCurrentView\u95a2\u6570\u306e\u5b9a\u7fa9\u3068\u547c\u3073\u51fa\u3057\u90e8\u5206\u3092\u524a\u9664\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nnextView\u95a2\u6570\n\n\n\u5143\u3005\u306fView\u306e\u751f\u6210\u3092\u884c\u3063\u3066\u3044\u308b\u306e\u307f\u3067\u3057\u305f\u304c\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3001\u300cView\u3092\u751f\u6210\u3057\u3001\u305d\u306eView\u3092\u5f15\u6570\u3068\u3057\u3066\u30ea\u30fc\u30b8\u30e7\u30f3\u3092show\u3059\u308b\u300d\u3068\u3044\u3046\u51e6\u7406\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\ntodo-layout-view.js\n\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\u3053\u3053\u3067\u306e\u5f79\u5272\u306f\u4e0b\u8a18\u3067\u3059\u3002\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u5b9a\u7fa9\n\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u8aad\u307f\u8fbc\u307f\n\n\n\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u8aad\u307f\u8fbc\u307f\u306f\u3001\u5143\u3005todo-collection-view.js\u3067\u884c\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3067\u884c\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\ntodo-layout-view.js\nvar app = app || {};\n\n//Todo\u4e00\u89a7\u8868\u793a\u7528\u30ec\u30a4\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\n(function(app) {\n    app.TodoLayoutView = Backbone.Marionette.LayoutView.extend({\n        //\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n        template: '#todo-layout-template',\n\n        regions : {\n            listRegion : '#todo-lists',\n        },\n\n        onRender : function(){\n            var todoCollection = new app.TodoCollection();\n            this.listenTo(todoCollection , 'reset', this.showTodoList, this);\n            todoCollection.fetch({reset : true});\n        },\n\n        showTodoList : function(todoCollection){\n            this.listRegion.show( new app.TodoCompositeView({\n                collection : todoCollection\n            }));\n        },\n\n    });\n})(app);\n\n\n\ntemplate\u5909\u6570\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u3001template\u5909\u6570\u306bid\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3060\u3051\u3067\u3001Marionette\u304c\u63cf\u753b\u6642\u306b\u305d\u306eid\u3067\u793a\u3055\u308c\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u81ea\u52d5\u3067\u9069\u7528\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n\nregions\u5909\u6570\n\n\n\u3053\u3053\u3067\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u30bf\u30b0\u306eid\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4e00\u89a7\u8868\u793a\u9818\u57df\u3068\u306a\u308b#todo-lists\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nonRender\u95a2\u6570\n\n\nMarionette\u306e\u5168\u3066\u306e\u7a2e\u985e\u306e\u30d3\u30e5\u30fc\u3067\u5b9f\u88c5\u3055\u308c\u307e\u3059\u3002\u30d3\u30e5\u30fc\u751f\u6210\u6642\u306b\u81ea\u52d5\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u53d6\u5f97\u5b8c\u4e86\u6642\u306bshowTodoList\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nshowTodoList\u95a2\u6570\n\n\n\nonRender\u95a2\u6570\u5185\u3067\u6307\u5b9a\u3057\u305fthis.listenTo(todoCollection , 'reset', this.showTodoList, this);\u306b\u3088\u308a\u3001collection\u306ereset\u30a4\u30d9\u30f3\u30c8\uff08\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u4e2d\u8eab\u304c\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3055\u308c\u305f\uff09\u306e\u767a\u706b\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u30cf\u30f3\u30c9\u30e9\u3067\u3059\u3002\n\nregions\u5909\u6570\u3067\u8a2d\u5b9a\u3057\u305f\u3001listRegion\u3092\u3001show\u95a2\u6570\u306b\u3088\u3063\u3066\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002show\u95a2\u6570\u306e\u5f15\u6570\u306bapp.TodoCompositeView\u306e\u65b0\u3057\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u3001listRegion\u5185\u306e\u30d3\u30e5\u30fc\u3068\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\ntodo-composite-view.js\n\u4e0a\u8a18\u306etodo-layout-view.js\u306e\u4e2d\u306elistRegion\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u4e2d\u306b\u8868\u793a\u3055\u308c\u308b\u30d3\u30e5\u30fc\u3067\u3059\u3002\nCompositeView\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001childView\u3001childViewContainer\u3001ui\u3067\u3059\u3002\ntodo-collection-view.js\u306b\u8a18\u8f09\u3057\u3066\u3044\u305f\u8ffd\u52a0\u30dc\u30bf\u30f3\u3084\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u306f\u3053\u3053\u306b\u66f8\u304d\u307e\u3059\u3002\nvar app = app || {};\n\n//Todo\u4e00\u89a7\u8868\u793a\u7528\u30d3\u30e5\u30fc\n(function(app) {\n    app.TodoCompositeView = Backbone.Marionette.CompositeView.extend({\n        template: '#todo-composite-template',\n\n        childView : app.TodoItemView,\n\n        childViewContainer : 'tbody',\n\n        ui : {\n            addTodo : '#addTodo',\n            newTodo : '#new-todo'\n        },\n\n        events : {\n            'click @ui.addTodo' : 'onCreateTodo',\n        },\n\n        initialize: function(){\n            _.bindAll( this, 'onCreatedSuccess' );\n        },\n\n        onCreateTodo : function(e) {\n            this.collection.create(this.newAttributes(), {\n                  silent:  true ,\n                  success: this.onCreatedSuccess\n            });\n            this.ui.newTodo.val('');\n        },\n\n        newAttributes : function() {\n            return {\n                todo : this.ui.newTodo.val().trim(),\n                status : 0\n            };\n        },\n\n        onCreatedSuccess : function(){\n            this.collection.fetch({ reset : true });\n        },\n\n    });\n})(app);\n\n\nchildView\u5909\u6570\n\n\n\nCompositeView\u3067\u306f\u3001\u5b50\u30d3\u30e5\u30fc\u3068\u3057\u3066ItemView\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u7d20\u306eBackbone\u3067\u306f\u3001\u5b50\u30d3\u30e5\u30fc\u306e\u63cf\u753b\u3092\u89aa\u30d3\u30e5\u30fc\u3067\u884c\u3046\u30b3\u30fc\u30c9\u3092\u8a18\u8f09\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001CompositeView\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u5b50\u30d3\u30e5\u30fc\u3068\u306a\u308bItemView\u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\u3067\u305d\u306e\u8fba\u308a\u66f8\u304b\u306a\u304f\u3066\u3088\u304f\u306a\u308a\u307e\u3059\u3002\n\n\nchildViewContainer\u5909\u6570\n\n\n\u5b50\u30d3\u30e5\u30fc\u3068\u306a\u308bItemView\u3092\u63cf\u753b\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u3068\u306a\u308b\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e0a\u306eHTML\u30a8\u30ec\u30e1\u30f3\u30c8\u306eID\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001tbody\u30bf\u30b0\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\nui\u5909\u6570\n\n\nui\u5909\u6570\u306f\u3001Marionette\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u5909\u6570\u3067\u3059\u3002\u3053\u3053\u306b\u3001\"\u5909\u6570\u540d : \u30bb\u30ec\u30af\u30bf\"\u306e\u5f62\u5f0f\u3067\u6307\u5b9a\u3059\u308b\u3068\u3001\u3053\u306e\u30d3\u30e5\u30fc\u5185\u3067\u306f\u6307\u5b9a\u3057\u305f\u5909\u6570\u540d\u3067\u53c2\u7167\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nevents\u5909\u6570\u5185\u3067\u30bb\u30ec\u30af\u30bf\u6307\u5b9a\u3059\u308b\u5834\u5408\u3001@ui.\u5909\u6570\u540d\u3068\u3044\u3046\u5f62\u5f0f\u3067\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001'click @ui.addTodo' : 'onCreateTodo'\u3068\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\ntodo-collection-view.js\u306b\u8a18\u8f09\u3057\u3066\u3044\u305f\u3001onCreateTodo\u3001newAttributes\u3001onCreatedSuccess\u306f\u3053\u3053\u306b\u66f8\u304d\u307e\u3059\u3002\n\n\ntodo-item-view.js\nItemView\u3092\u9069\u7528\u3057\u3066\u3044\u307e\u3059\u3002\ntodo-composite-view.js\u540c\u69d8\u3001ui\u5909\u6570\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u63cf\u753b\u3092ItemView\u304c\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u306e\u3067\u3001\u63cf\u753b\u51e6\u7406\u304c\u524a\u9664\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\ntodo-item-view.js\n //Todo\u4e00\u89a7\u306e1\u4ef6\u8868\u793a\u7528\u30d3\u30e5\u30fc\n (function(app) {\n-   app.TodoItemView = Backbone.View.extend({\n+   app.TodoItemView = Backbone.Marionette.ItemView.extend({\n        //DOM\u306b\u8981\u7d20\u8ffd\u52a0\u306e\u30bf\u30b0\u540d\n        tagName : 'tr',\n\n        //\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n-       template : _.template($('#item-template').html()),\n+       template : '#todo-item-template',\n+\n+       ui : {\n+           checkBox : '.toggle',\n+           removeLink : '.remove-link'\n+       },\n\n        //DOM\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u8a2d\u5b9a\n        events : {\n            //\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u30af\u30ea\u30c3\u30af\u6642\n-           'click .toggle' : 'onStatusToggleClick',\n+           'click @ui.checkBox' : 'onStatusToggleClick',\n            //\u524a\u9664\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u6642\n-           'click .remove-link' : 'onRemoveClick',\n+           'click @ui.removeLink' : 'onRemoveClick',\n        },\n\n-       initialize : function() {\n-           this.listenTo(this.model, 'destroy', this.remove);\n-       },\n-       render : function() {\n-           this.$el.html(this.template(this.model.toJSON()));\n-           return this;\n-       },\n        onStatusToggleClick : function(e) {\n            this.model.toggle();\n        },\n\n        onRemoveClick : function(e) {\n            this.model.destroy({\n                wait : true\n            });\n        },\n\n    });\n})(app);\n\n\n\nui\u5909\u6570\u3001events\u5909\u6570\n\n\n\ntodo-composite-view.js\u3068\u540c\u69d8\u306b\u66f8\u304d\u63db\u3048\u3066\u3044\u307e\u3059\u3002\n\n\ninitialize\u95a2\u6570, render\u95a2\u6570\n\n\nItemView\u304c\u63cf\u753b\u51e6\u7406\u3092\u3084\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u81ea\u524d\u306e\u63cf\u753b\u51e6\u7406\u3084View\u306e\u7834\u68c4\u51e6\u7406\u7b49\u306f\u524a\u9664\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n\ntodo-collection-view.js\n\u4eca\u56de\u306e\u4fee\u6b63\u3067\u3001\u30d3\u30e5\u30fc\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306fMarionette\u306e\u30d3\u30e5\u30fc\u540d\u306b\u5408\u308f\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002CompositeView\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u306e\u3067\u3001\ntodo-collection-view.js \u306f\u524a\u9664\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5b9f\u88c5\n\u3067\u306f\u3001\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\uff01\n\n\n app/View/Layouts/default.ctp \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n\n app/webroot/js/app.js \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n\n app/webroot/js/routers/controller.js \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n\n app/webroot/js/views/todo-layout-view.js \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n\n app/webroot/js/views/todo-composite-view.js\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n\n app/webroot/js/views/todo-item-view.js\u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n\n app/webroot/js/views/todo-collection-view.js\u3092\u524a\u9664\u3002\n\n \u52d5\u4f5c\u78ba\u8a8d!\n\n Git\u306b\u30b3\u30df\u30c3\u30c8\n\n\u5b8c\u6210\u30bd\u30fc\u30b9(GitHub)\u3078\u306e\u30ea\u30f3\u30af\n- default.ctp\n- app.js\n- controller.js\n- todo-layout-view.js\n- todo-composite-view.js\n- todo-item-view.js\nLesson3\u3078!\n\n Lesson 3 TODO\u8a73\u7d30\u753b\u9762\u306bMarionette\u306e\u30d3\u30e5\u30fc\u3092\u9069\u7528\nTODO\u8a73\u7d30\u753b\u9762\u306b\u3001Marionette\u306e\u30d3\u30e5\u30fc\u3092\u9069\u7528\u3057\u3066\u4fee\u6b63\u3057\u307e\u3059\u3002\nLesson2\u307e\u3067\u306e\u5185\u5bb9\u3067\u307b\u307c\u4fee\u6b63\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u7de8\u96c6\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\n\n\n\n\u7de8\u96c6\nfile\n\u5f79\u5272\n\n\n\n\n\u4fee\u6b63\napp/View/Layouts/default.ctp\nHTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\n\n\u4fee\u6b63\napp/webroot/js/routers/controller.js\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\n\n\u8ffd\u52a0\napp/webroot/js/views/todo-detail-layout-view.js\n\u30d3\u30e5\u30fc(LayoutView:Todo1\u4ef6\u306e\u8a73\u7d30\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u7528)\n\n\n\u8ffd\u52a0\napp/webroot/js/views/todo-detail-item-view.js\n\u30d3\u30e5\u30fc(ItemView:Todo1\u4ef6\u8868\u793a\u7528)\n\n\n\u524a\u9664\napp/webroot/js/views/todo-detail-view.js\n\u30d3\u30e5\u30fc(Todo1\u4ef6\u306e\u8a73\u7d30\u753b\u9762\u8868\u793a\u7528)\n\n\n\n\ndefault.ctp\n\u8a73\u7d30\u753b\u9762\u306f\u5143\u3005View\u4e00\u3064\u3067\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001LayoutView\u3068ItemView\u306b\u5206\u3051\u307e\u3059\u3002\n\ndefault.ctp\n    </td>\n    </script>\n\n-   <!-- \u8a73\u7d30\u753b\u9762 -->\n-   <script type=\"text/template\" id=\"detail-template\">\n+   <!-- \u8a73\u7d30\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n+   <script type=\"text/template\" id=\"todo-detail-layout-template\">\n+   <div id=\"todo-item\"></div>\n+   </script>\n+\n+   <!-- \u8a73\u7d30\u753b\u9762\u306e\u8868\u793a\u5185\u5bb9\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n+   <script type=\"text/template\" id=\"todo-detail-item-template\">\n    <h2>Todo #<%- id %></h2>\n    <div>\n    <textarea style=\"width:300px;height:50px\" id=\"edit-todo\" autofocus placeholder=\"Todo?\"><%- todo %></textarea>\n\n\u301c\u4e2d\u7565\u301c\n\n    <script src=\"js/collections/todo-collection.js\" type=\"text/javascript\"></script>\n    <!--   view   -->\n    <script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n-   <script src=\"js/views/todo-detail-view.js\" type=\"text/javascript\"></script>\n+   <script src=\"js/views/todo-detail-item-view.js\" type=\"text/javascript\"></script>\n+   <script src=\"js/views/todo-detail-layout-view.js\" type=\"text/javascript\"></script>\n    <script src=\"js/views/todo-composite-view.js\" type=\"text/javascript\"></script>\n    <script src=\"js/views/todo-layout-view.js\" type=\"text/javascript\"></script>\n    <!--   controller   -->\n\n\n\n\u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u3001LayoutView\u3067\u4f7f\u7528\u3059\u308b\u90e8\u5206\u3068ItemView\u3092\u4f7f\u7528\u3059\u308b\u90e8\u5206\u306b\u5206\u5272\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nLayoutView\u7528 -> todo-detail-layout-template\n\nItemView\u7528 -> todo-detail-item-template\n\n\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u306e\u30d3\u30e5\u30fc\u306b\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3059\u308b\u90e8\u5206\u306e\u30bf\u30b0\u3092\u8ffd\u52a0\u3057\u3001id\u3092todo-item\u3068\u3057\u3066\u3044\u307e\u3059\uff08\u3053\u3053\u306b\u8a73\u7d30\u8868\u793a(ItemView)\u306e\u30d3\u30e5\u30fc\u304c\u8aad\u307f\u8fbc\u307e\u308c\u307e\u3059\uff09\u3002\n\u8a73\u7d30\u8868\u793a\u7528\u306e\u30d3\u30e5\u30fc(todo-detail-view.js)\u306ftodo-detail-item-view.js\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u306e\u30d3\u30e5\u30fc\u3001js/views/todo-detail-layout-view.js\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n\ncontroller.js\n\u30d3\u30e5\u30fc\u3078\u306eID\u306e\u6e21\u3057\u65b9\u3092\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\ncontroller.js\n        },\n\n        todoDetail : function(id) {\n-           this.nextView(app.TodoDetailView, id);\n+           this.nextView(app.TodoDetailLayoutView, {modelId : id});\n        },\n\n        nextView : function(View, option) {\n            app.application.mainRegion.show(new View(option));\n        },\n\n    });\n })(app);\n\n\n\n\ntodoDetail\u95a2\u6570\n\n\nnextView\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u5143\u3005\u306fid\u3092\u305d\u306e\u307e\u307e\u7b2c\u4e8c\u5f15\u6570\u306b\u6e21\u3057\u3066\u3044\u307e\u3057\u305f\u3002\u4fee\u6b63\u5f8c\u306f\u3001{modelId : id}\u3068\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3057\u3066\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001View\u5074\u3067\u306f\u5143\u3005Initialize\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066\u305d\u306e\u307e\u307e\u4f7f\u7528\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4ed6\u306e\u7b87\u6240\u3067\u4f7f\u7528\u3059\u308b\u305f\u3081\u306bView\u306eoptions\u5909\u6570\u306b\u6e21\u3059\u305f\u3081\u306e\u4fee\u6b63\u3067\u3059\u3002\n\n\n\n\ntodo-detail-layout-view.js\n\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\u3053\u3053\u3067\u306e\u5f79\u5272\u306f\u4e0b\u8a18\u3067\u3059\u3002\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u5b9a\u7fa9\n\u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\n\n\n\u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u306f\u3001\u5143\u3005todo-detail-view.js\u3067\u884c\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3067\u884c\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\ntodo-detail-layout-view.js\nvar app = app || {};\n\n//\u8a73\u7d30\u753b\u9762\u7528\u30ec\u30a4\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\n(function(app) {\n    app.TodoDetailLayoutView = Backbone.Marionette.LayoutView.extend({\n        //\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n        template : '#todo-detail-layout-template',\n\n        regions : {\n            itemRegion : '#todo-item',\n        },\n\n        onRender : function() {\n            var todoModel = new app.TodoModel({\n                id : this.options.modelId\n            });\n            //\u30e2\u30c7\u30eb\u306e\u30b5\u30fc\u30d0\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u5b8c\u4e86\u6642\u3001\u63cf\u753b\u3092\u884c\u3046\n            this.listenTo(todoModel, 'sync', this.showItem, this);\n            //\u30b5\u30fc\u30d0\u304b\u3089\u30c7\u30fc\u30bf\u53d6\u5f97\n            todoModel.fetch({\n                wait : true\n            });\n        },\n\n        showItem : function(todoModel) {\n            this.itemRegion.show( new app.TodoDetailItemView({\n                model : todoModel\n            }));\n        },\n\n    });\n})(app);\n\n\n\nregions\u5909\u6570\n\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3057\u3066#todo-item\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nonRender\u95a2\u6570\n\n\n\nthis.options.modelId\u3068\u6307\u5b9a\u3057\u3001controller.js\u5185\u3067\u6307\u5b9a\u3057\u305f\u30e2\u30c7\u30eb\u306eID\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nView\u306e\u751f\u6210\u6642\u306b\u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001View\u5185\u3067\u3001this.options\u3068\u3057\u3066\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n\n\n\n\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u304b\u3089\u5b50\u30d3\u30e5\u30fc\u306e\u547c\u3073\u51fa\u3057\u306e\u6d41\u308c\u306f\u3001collection\u3068model\u306e\u9055\u3044\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u540c\u69d8\u306b\u66f8\u304d\u307e\u3059\u3002\n\n\ntodo-detail-item-view.js\nItemView\u3092\u9069\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\ntodo-detail-item-view.js\nvar app = app || {};\n\n//\u8a73\u7d30\u30d3\u30e5\u30fc\n(function(app) {\n    app.TodoDetailItemView = Backbone.Marionette.ItemView.extend({\n\n        //\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n        template: \"#todo-detail-item-template\",\n\n        ui : {\n            todoStatus   : '#edit-todo',\n            updateButton : '#updateTodo',\n            cancelButton : '#updateCancel'\n        },\n\n        //DOM\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u8a2d\u5b9a\n        events : {\n            //\u66f4\u65b0\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u6642\n            'click @ui.updateButton' : 'onUpdateClick',\n            //\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u6642\n            'click @ui.cancelButton' : 'onCancelClick',\n        },\n\n        //\u521d\u671f\u5316\n        initialize: function(){\n            _.bindAll( this, 'onSaveSuccess' );\n        },\n\n        //\u66f4\u65b0\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\n        onUpdateClick : function() {\n            //\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u304b\u3089\u6587\u5b57\u3092\u53d6\u5f97\n            var todoString = this.ui.todoStatus.val();\n            this.model.save({\n                todo : todoString\n            }, {\n                silent : true,\n                success : this.onSaveSuccess,\n            });\n        },\n\n        //\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\n        onCancelClick : function() {\n            this.backTodoLists();\n        },\n\n        //\u66f4\u65b0\u6210\u529f\n        onSaveSuccess : function() {\n            this.backTodoLists();\n        },\n\n        //TODO\u30ea\u30b9\u30c8\u753b\u9762\u306b\u623b\u308b\n        backTodoLists : function() {\n            Backbone.history.navigate('#todo-lists', true);\n        }\n\n    });\n})(app);\n\n\n\u4fee\u6b63\u5185\u5bb9\u306fLesson2\u3068\u307b\u307c\u540c\u69d8\u306e\u5185\u5bb9\u3067\u3059\u306e\u3067\u89e3\u8aac\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\ntodo-collection-view.js\n\u30d3\u30e5\u30fc\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306fMarionette\u306e\u30d3\u30e5\u30fc\u540d\u306b\u5408\u308f\u305b\u307e\u3059\u306e\u3067\u3001todo-detail-view.js \u306f\u524a\u9664\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5b9f\u88c5\n\u3067\u306f\u3001\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\uff01\n\n\n app/View/Layouts/default.ctp \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n\n app/webroot/js/routers/controller.js \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n\n app/webroot/js/views/todo-detail-layout-view.js \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n\n app/webroot/js/views/todo-detail-item-view.js\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n\n app/webroot/js/views/todo-detail-view.js\u3092\u524a\u9664\u3002\n\n \u52d5\u4f5c\u78ba\u8a8d!\n\n Git\u306b\u30b3\u30df\u30c3\u30c8\n\n\u5b8c\u6210\u30bd\u30fc\u30b9(GitHub)\u3078\u306e\u30ea\u30f3\u30af\n- default.ctp\n- controller.js\n- todo-detail-layout-view.js\n- todo-detail-item-view.js\n\u3053\u308c\u3067\u5b8c\u6210\u3067\u3059\uff01\n\n \u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\n\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\u3002\u3046\u307e\u304f\u3044\u304d\u307e\u3057\u305f\u3067\u3057\u3087\u3046\u304b\u3002\n\u6700\u5f8c\u306b\u3001\u4eca\u56de\u4f7f\u7528\u3057\u305fMarionette\u306e\u4e3b\u306a\u6a5f\u80fd\u3092\u307e\u3068\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\u7406\u89e3\u3067\u304d\u3066\u3044\u308b\u304b\u3001\u30c1\u30a7\u30c3\u30af\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u4eca\u56de\u4f7f\u7528\u3057\u305fMarionette\u6a5f\u80fd\u307e\u3068\u3081\n\u6700\u5f8c\u306b\u3001\u4eca\u56de\u4f7f\u7528\u3057\u305fMarionette\u306e\u4e3b\u306a\u6a5f\u80fd\u3092\u307e\u3068\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\u7406\u89e3\u3067\u304d\u3066\u3044\u308b\u304b\u3001\u30c1\u30a7\u30c3\u30af\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\n\nMarionette.Application\n\n\n\u30b9\u30bf\u30fc\u30c8\u30dd\u30a4\u30f3\u30c8\u3002\u571f\u53f0\u3068\u306a\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\n\nMarionette.AppRouter\n\n\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u884c\u3046\n\n\nMarionette.Controller\n\n\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5f8c\u306b\u5b9f\u884c\u3059\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\n\n\nMarionette.Region\n\n\n\u30d3\u30e5\u30fc\u3092\u4e00\u3064\u7ba1\u7406\u3059\u308b\n\n\nMarionette.LayoutView\n\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u5185\u306e\u4e00\u756a\u5916\u5074\u306e\u30d3\u30e5\u30fc\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\u30ea\u30fc\u30b8\u30e7\u30f3\u3082\u5b9a\u7fa9\u3067\u304d\u308b\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3067\u304d\u308b\u3002\n\n\nMarionette.CollectionView\n\n\n\u203b\u4eca\u56de\u4f7f\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002CompositeView\u304b\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u3092\u9664\u3044\u305f\u3082\u306e\u3067\u3059\u3002\n\u5185\u90e8\u306b\u305f\u3060ItemView\u3092\u8868\u793a\u3059\u308b\u3060\u3051\uff08\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u7684\u306a\u8868\u793a\uff09\u306e\u5834\u5408\u7b49\u306b\u4f7f\u7528\u3059\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n\nMarionette.CompositeView\n\n\n\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u8868\u793a\u306b\u4f7f\u7528\u3059\u308b\u3002\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u5185\u306e1\u4ef6\u8868\u793a\u7528\u306bItemView\u3092\u5185\u5305\u3059\u308b\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3067\u304d\u308b\u3002\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u30dc\u30bf\u30f3\u7b49\uff08\u8ffd\u52a0\u30dc\u30bf\u30f3\u7b49\uff09\u3092\u914d\u7f6e\u3059\u308b\u306e\u304c\u30d1\u30bf\u30fc\u30f3\u3002\n\n\nMarionette.ItemView\n\n\n\u30e2\u30c7\u30eb\u306e\u8868\u793a\u306b\u4f7f\u7528\u3059\u308b\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u3092\u4f7f\u7528\u3067\u304d\u308b\u3002\u30e2\u30c7\u30eb1\u4ef6\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u30dc\u30bf\u30f3\uff08\u66f4\u65b0\u30dc\u30bf\u30f3\u7b49\uff09\u7b49\u3092\u914d\u7f6e\u3059\u308b\u306e\u304c\u30d1\u30bf\u30fc\u30f3\u3002\n\n\n\n\n\u30d3\u30e5\u30fc\u5185\u500b\u5225\u6a5f\u80fd\n\n\nui\u5909\u6570\n\n\n\u30d3\u30e5\u30fc\u5185\u306eHTML\u30a8\u30ec\u30e1\u30f3\u30c8\u306e\u30bb\u30ec\u30af\u30bf\u306e\u8a18\u8ff0\u3092\u4e00\u7b87\u6240\u306b\u96c6\u7d04\u3059\u308b\u3002\n\n@ui.\u301c\u306e\u5f62\u5f0f\u3067\u30d3\u30e5\u30fc\u5185\u304b\u3089\u53c2\u7167\u53ef\u80fd\u3068\u306a\u308b\u3002\n\n\nregions\u5909\u6570\n\n\n\u7ba1\u7406\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\n\ntemplate\u5909\u6570\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eID\u3092\u6307\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u81ea\u52d5\u7684\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u3066\u304f\u308c\u308b\u3002\n\n\noptions\u5909\u6570\n\n\n \u30d3\u30e5\u30fc\u306e\u521d\u671f\u5316\u6642\u306b\u6e21\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002\n\n\n\n\n\n\n\u4eca\u56de\u4f7f\u7528\u3057\u306a\u304b\u3063\u305f\u3082\u306e\ntriggers\u3001Behaviors\u3001etc...\n\u3044\u308d\u3044\u308d\u3067\u3059\u3002\u8abf\u3079\u3066\u307f\u307e\u3057\u3087\u3046\uff01\n\n\u98f2\u307fDev\n\n\u4eca\u56de\u304b\u3089\u3001\u52c9\u5f37\u4f1a\u7d42\u4e86\u5f8c\u306b\u304a\u9152\u3092\u98f2\u307f\u306a\u304c\u3089\u5c45\u6b8b\u308a\u958b\u767a\u3092\u3059\u308b\u3001\u540d\u3065\u3051\u3066\u300c\u98f2\u307fDev\u300d\u3092\u3084\u308a\u307e\u3059!\n\u30c6\u30fc\u30de\u3092\u6319\u3052\u3066\u304a\u304d\u307e\u3059\u3002\n\u4e0b\u8a18\u3001\u3044\u3051\u308b\u3068\u3053\u308d\u307e\u3067\u884c\u304d\u307e\u3057\u3087\u3046\uff01\n\u3082\u3061\u308d\u3093\u3001\u4ed6\u306e\u6a5f\u80fd\u3092\u3064\u3051\u305f\u308a\u3001\u306a\u3093\u3067\u3082\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\uff01\n\n\u30ea\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\u3092\u3064\u3051\u308b\n\"\u5b8c\u4e86\u5206\u3092\u8868\u793a\u3057\u306a\u3044\"\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092\u3064\u3051\u308b\n\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092\"Done\"\u30dc\u30bf\u30f3\u306b\u5909\u66f4\u3001\u5b8c\u4e86\u5206\u306f\u8272\u3092\u5909\u3048\u308b\u3002\u5b8c\u4e86\u5206\u306f\"Todo\"\u30dc\u30bf\u30f3\u8868\u793a\u3001\u62bc\u3059\u3068\u672a\u5b8c\u4e86\u306b\u623b\u308b\u3002\n\u306a\u306b\u304b\u304a\u3082\u3057\u308d\u6a5f\u80fd\uff01\n\n\u3044\u3044\u611f\u3058\u306b\u3067\u304d\u305f\u3089\u767a\u8868\u3057\u3066\u304f\u3060\u3055\u3044\uff01\n\u4ee5\u4e0a\u3067\u3059\uff01\n\n\u30b3\u30e1\u30f3\u30c8/\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\u53c2\u52a0\u8005\u306e\u65b9\u3082\u3001\u305d\u3046\u3067\u306a\u3044\u65b9\u3082\u304a\u6c17\u3065\u304d\u306e\u70b9\u304c\u3042\u308c\u3070\u304a\u9858\u3044\u81f4\u3057\u307e\u3059\u3002\n\n## :large_blue_circle: \u306f\u3058\u3081\u306b\n\n\u672c\u6295\u7a3f\u306f\u30012015/3/26\u306b\u884c\u308f\u308c\u305f[AWS\u4e0a\u3067\u69cb\u7bc9\u3059\u308bRESTful\u30a2\u30d7\u30ea\u52c9\u5f37\u4f1a\uff5eWeb\u958b\u767a\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\uff5e\u3010\u7b2c3\u56de\u3011 - connpass](http://aws-rest-todo.connpass.com/event/12566/)\u306e\u5185\u5bb9\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u305f\u8cc7\u6599\u3067\u3059\u3002\n\n:warning:\u3054\u53c2\u52a0\u9802\u3044\u305f\u65b9\u3078\u3002\n\u6709\u96e3\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01[\u6b21\u56de](http://aws-rest-todo.connpass.com/event/12667/)\u3082\u305c\u3072\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\u4eca\u5f8c\u306e\u4e88\u5b9a\u21e2[AWS\u4e0a\u3067\u69cb\u7bc9\u3059\u308bRESTful\u30a2\u30d7\u30ea\u52c9\u5f37\u4f1a\uff5eWeb\u958b\u767a\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\uff5e - connpass](http://aws-rest-todo.connpass.com/)\n\n\n\u4eca\u56de\u306f\u3001Marionette.js\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nBackbone\u3060\u3051\u3067\u306f\u9762\u5012\u306a\u90e8\u5206\u3001\u7169\u96d1\u306b\u306a\u308b\u90e8\u5206\u306a\u3069\u3092\u89e3\u6d88\u3057\u3066\u3044\u304f\u904e\u7a0b\u3092\u4f53\u9a13\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01\n\n\n## :large_blue_circle: Marionette\u306e\u6982\u8981\n\n### Marionette.js\u3068\u306f\uff1f\n\nBackbone\u306f\u305d\u306e\u540d\u306e\u901a\u308a\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067MVC\u30e2\u30c7\u30eb\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306e\u300c\u80cc\u9aa8\u300d\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u307e\u3055\u306b\u80cc\u9aa8\u306e\u307f\u3067\u3042\u308a\u3001\u5b9f\u969b\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u69cb\u7bc9\u3067\u306f\u3055\u307e\u3056\u307e\u306a\u30b3\u30fc\u30c9\u3092\u30d7\u30ed\u30b0\u30e9\u30de\u304c\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u3001\u300c\u6bce\u56de\u540c\u3058\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u300d\u3068\u3044\u3046\u72b6\u6cc1\u304c\u5f80\u3005\u306b\u3057\u3066\u767a\u751f\u3057\u307e\u3059\u3002\n\u524d\u56de\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u8a00\u3046\u3068\u3001\n\n- View\u306e\u5207\u308a\u66ff\u3048\u3092\u3057\u3066\u3044\u308b\u90e8\u5206\n- \u30cd\u30b9\u30c8\u3057\u305fView\u306e\u7ba1\u7406\n- \u30b5\u30fc\u30d0\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u304b\u3089View\u306eRender\u307e\u3067\u306e\u4e00\u9023\u306e\u30b3\u30fc\u30c9\n\n\u306a\u3069\u3067\u3059\u3002Marionette\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u304b\u306a\u308a\u306e\u90e8\u5206\u3092\u80a9\u4ee3\u308f\u308a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u898f\u6a21\u304c\u5927\u304d\u304f\u306a\u3063\u3066\u304f\u308b\u3068\u3001Backbone\u306e\u307f\u3067\u306fView\u306e\u7ba1\u7406\u304c\u5927\u5909\u306b\u306a\u3063\u3066\u304d\u307e\u3059\u3002\u5168\u4f53\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u30d3\u30e5\u30fc\u3001\u30a4\u30d9\u30f3\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u30d3\u30e5\u30fc\u3001\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3001\u30e2\u30c7\u30eb\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3001etc....\u3002\n\u3053\u308c\u3089\u3082\u3001Marionette\u304c\u63d0\u4f9b\u3059\u308b\u3001\u5f79\u5272\u306b\u5fdc\u3058\u305f\u8907\u6570\u306eView\u3084Region\u3068\u3044\u3063\u305f\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067View\u306e\u69cb\u9020\u304c\u628a\u63e1\u3057\u3084\u3059\u304f\u306a\u308a\u3001\u53ef\u8aad\u6027\u3001\u4fdd\u5b88\u6027\u306e\u5411\u4e0a\u306b\u3064\u306a\u304c\u308a\u307e\u3059\u3002\n\n\u4ed6\u306b\u3082\u3001`ui`\u306a\u3069\u306e\u4fbf\u5229\u306a\u6a5f\u80fd\u3001\u4eca\u56de\u306f\u89e6\u308c\u307e\u305b\u3093\u304c\u3001`triggers`\u3084`Behaviors`\u306a\u3069\u3001\u6709\u76ca\u306a\u6a5f\u80fd\u304c\u76db\u308a\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\n\nBackbone\u306b\u306f\u3055\u307e\u3056\u307e\u306a\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u307e\u305a\u6700\u521d\u306b\u5c0e\u5165\u3092\u691c\u8a0e\u3059\u3079\u304d\u306a\u306e\u304c\u3053\u306eMarionette\u3068\u3044\u3048\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n### Marionette\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3056\u3063\u304f\u308a\u7d39\u4ecb\n\nMarionette\u306f\u3001MVC\u3067\u3044\u3046\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u30d3\u30e5\u30fc\u306b\u5bfe\u3057\u3066\u306e\u6a5f\u80fd\u3092\u6301\u3061\u307e\u3059\u3002\nBackbone\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u62c5\u3063\u3066\u3044\u305f\u6a5f\u80fd\u3092Marionette\u304c\u63d0\u4f9b\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u7f6e\u304d\u63db\u3048\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u4eca\u56de\u4f7f\u7528\u3059\u308bMarionette\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u4e0b\u8a18\u306e\u3068\u304a\u308a\u3067\u3059\u3002\u5404\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u6a5f\u80fd\u8a73\u7d30\u306f\u5f8c\u307b\u3069\u8ff0\u3079\u307e\u3059\u3002\n\u307e\u305a\u306f\u3053\u308c\u3060\u3051\u3042\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3067\u3002\n\n#### \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u7cfb\n\nMarionette\u30aa\u30d6\u30b8\u30a7\u30af\u30c8       | \u6982\u8981\n---------------------------|:-----------------------------------------\nMarionette.Application     |Marionette\u3092\u4f7f\u7528\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b9\u30bf\u30fc\u30c8\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308a\u307e\u3059\nMarionette.AppRouter       |\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002\nMarionette.Controller      |\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3067\u3059\u3002\n\n#### \u30d3\u30e5\u30fc\u7cfb\n\nMarionette\u30aa\u30d6\u30b8\u30a7\u30af\u30c8       | \u6982\u8981\n---------------------------|:-----------------------------------------\nMarionette.Application     |\u30ea\u30fc\u30b8\u30e7\u30f3\u5b9a\u7fa9\u6a5f\u80fd\u3092\u6301\u3061\u307e\u3059\u3002\nMarionette.Region          |\u753b\u9762\u306b\u5b9a\u7fa9\u3059\u308b\u9818\u57df\u300c\u30ea\u30fc\u30b8\u30e7\u30f3\u300d\u3092\u8868\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002\nMarionette.LayoutView      |\u8907\u6570\u306e\u30d3\u30e5\u30fc\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306b\u9069\u3057\u305f\u30d3\u30e5\u30fc\u3067\u3059\u3002\nMarionette.CollectionView  |Collection\u306e\u8868\u793a\u306b\u9069\u3057\u305f\u30d3\u30e5\u30fc\u3067\u3059\u3002\nMarionette.CompositeView   |Collection\u306e\u8868\u793a\u306b\u9069\u3057\u305f\u30d3\u30e5\u30fc\u3067\u3059\u3002\nMarionette.ItemView        |Model\u306e\u8868\u793a\u306b\u9069\u3057\u305f\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\n\n\u5404\u30d3\u30e5\u30fc\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u306e\u6709\u7121\u3002\n\nView                       |\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd |\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\n---------------------------|:-----------|:--\nMarionette.Application     |\u6709\u308a         |\u7121\u3057\nMarionette.LayoutView      |\u6709\u308a         |\u6709\u308a\nMarionette.CollectionView  |\u7121\u3057         |\u7121\u3057\nMarionette.CompositeView   |\u7121\u3057         |\u6709\u308a\nMarionette.ItemView        |\u7121\u3057         |\u6709\u308a\n\n\n#### Backbone\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306e\u95a2\u4fc2\n\nBackbone\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3001Marionette\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u306e\u5bfe\u5fdc\u95a2\u4fc2\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nBackbone                  |Marionette|\n--------------------------|:-------------\n-                         |Marionette.Application|\nBackbone.Router           |Marionette.AppRouter<br/>Marionette.Controller|\nBackbone.View             |Marionette.Region<br/>Marionette.LayoutView<br/>Marionette.CollectionView<br/>Marionette.CompositeView<br/>Marionette.ItemView<br/>|\n\n\n## :large_blue_circle: \u4eca\u56de\u306e\u5185\u5bb9\n\n\u524d\u56de\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u3001Marionette.js\u306e\u5404\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u7528\u3057\u3066\u66f8\u304d\u63db\u3048\u3066\u3044\u304d\u307e\u3059\u3002\n:warning:\u753b\u9762\u306f\u4f55\u3082\u5909\u308f\u308a\u307e\u305b\u3093\u3002\u5185\u90e8\u306e\u5b9f\u88c5\u3060\u3051\u304c\u5909\u308f\u308a\u307e\u3059\u3002\n\n\u3067\u306f\u307e\u305a\u3001\u6e96\u5099\u304b\u3089\uff01\n\n## :large_blue_circle: \u4e8b\u524d\u6e96\u5099\n\n### SSH\u3067\u30ed\u30b0\u30a4\u30f3\n\nssh\u30ed\u30b0\u30a4\u30f3\u304b\u3089\u59cb\u3081\u307e\u3057\u3087\u3046\uff01\n\n- :white_check_mark: `ssh -i [\u79d8\u5bc6\u9375\u306e\u30d1\u30b9] study@[\u30b5\u30fc\u30d0\u306ePublicIP]`\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n- :white_check_mark: `cd /var/www/study/rest-study` \n\n\n\u3067\u306f\u3001\u306f\u3058\u3081\u307e\u3057\u3087\u3046!\n\n### git\u306e\u30d6\u30e9\u30f3\u30c1\u3092\u6574\u3048\u3066\u304a\u304f\n\n\u524d\u56de\u306f\u3001`vol/02`\u30d6\u30e9\u30f3\u30c1\u3067\u4f5c\u696d\u3092\u3057\u307e\u3057\u305f\u3002\u524d\u56de\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u3067\u306f\u3001`vol/02`\u30d6\u30e9\u30f3\u30c1\u3092push\u3057\u3066GitHub\u3067\u78ba\u8a8d\u307e\u3067\u3001\u3068\u3057\u3066\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u307e\u305a\u524d\u56de\u307e\u3067\u306e\u5185\u5bb9\u3092`master`\u30d6\u30e9\u30f3\u30c1\u306b\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002\n\u524d\u56de\u304c\u4f5c\u696d\u9014\u4e2d\u306e\u65b9\u3084\u3001\u4eca\u56de\u304b\u3089\u53c2\u52a0\u306e\u65b9\u306f\u3001\u65b0\u305f\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n:warning:\u4eca\u56de\u304b\u3089\u53c2\u52a0\u3055\u308c\u308b\u65b9\u3001\u7b2c1\u56de\u306e\u5185\u5bb9\u306f\u7d42\u3048\u3066\u3044\u308b\u3053\u3068\u304c\u6761\u4ef6\u3067\u3059\u306e\u3067\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\n\u4eca\u56de\u5206\u304b\u3089\u59cb\u3081\u3089\u308c\u308b\u65b9\u3001\u524d\u56de\u304c\u9014\u4e2d\u306e\u65b9\u3001\u7d42\u308f\u3063\u3066\u3044\u308b\u304b\u305f\u3067\u3084\u308a\u65b9\u304c\u9055\u3046\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n\u3084\u308a\u305f\u3044\u3053\u3068\u306f\u3001\n\n- master\u30d6\u30e9\u30f3\u30c1\u3092\u524d\u56de\u306e\u7d42\u4e86\u72b6\u614b\u306b\u3059\u308b\n- master\u30d6\u30e9\u30f3\u30c1\u3092\u5143\u306b\u3001\u4eca\u56de\u306e\u4f5c\u696d\u7528\u3067\u3042\u308b\u3001\u300cvol/03\u300d\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\n\n\n#### \u524d\u56de\u304c\u4f5c\u696d\u9014\u4e2d\u306e\u65b9\n\n\u3068\u306b\u304b\u304f\u30b3\u30df\u30c3\u30c8\u3057\u307e\u3057\u3087\u3046\uff01\n\u9014\u4e2d\u3067\u3082\u3068\u306b\u304b\u304f\uff01\n\n#### \u6b21\u306f\u5168\u54e1\u540c\u3058\u3002 fork\u5143\u3092\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\n\n\u7b2c\u4e00\u56de\u52c9\u5f37\u4f1a\u3067fork\u3057\u305f\u5143\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u3068\u3057\u3066\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n:white_check_mark: `git remote`\n\u3068\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3063\u3066\u3001\n\n```bash\norigin\nupstream\n```\n\n\u3068\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u306f\u3053\u306e\u4f5c\u696d\u306f\u7d42\u308f\u3063\u3066\u3044\u307e\u3059\u3002\u6b21\u3078\u884c\u304d\u307e\u3057\u3087\u3046\uff01\n`upstream`\u304c\u8868\u793a\u3055\u308c\u306a\u3044\u4eba\u306f\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3002\n\n:white_check_mark: `git remote add upstream https://github.com/suzukishouten-study/rest-study.git`\n\n\u3053\u308c\u3067OK\u3067\u3059\uff01\n\n#### \u6b21\u3082\u5168\u54e1\u540c\u3058\u3002 upstream\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u6700\u65b0\u3092\u53d6\u5f97\u3059\u308b\n\n:white_check_mark: `git fetch upstream`\n\n\u3053\u308c\u3067OK\uff01\n\n\u6b21\u306f\u3001\n\n- \u524d\u56de\u306e\u5185\u5bb9\u3092\u5b8c\u4e86\u3057\u305f\u65b9\n- \u524d\u56de\u306e\u5185\u5bb9\u3092\u9014\u4e2d\u307e\u3067\u3084\u3063\u305f\u65b9\u3068\u4eca\u56de\u304b\u3089\u53c2\u52a0\u306e\u65b9\n\n\u3067\u5c11\u3057\u9055\u3046\u306e\u3067\u3054\u6ce8\u610f\uff01\n\n#### \u524d\u56de\u306e\u5185\u5bb9\u3092\u5b8c\u4e86\u3057\u305f\u65b9\n\nmaster\u30d6\u30e9\u30f3\u30c1\u3092\u524d\u56de\u5206\u3092\u7d42\u4e86\u3057\u305f\u72b6\u614b\u306b\u3057\u307e\u3059\u3002\n\u524d\u56de\u3092\u5b8c\u4e86\u3057\u305f\u65b9\u306f\u3001`vol/02`\u30d6\u30e9\u30f3\u30c1\u3092\u30de\u30fc\u30b8\u3067\u3059\u3002\n\n:white_check_mark:`git checkout master`\n\n\u3067master\u30d6\u30e9\u30f3\u30c1\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u5f8c\u3001\n\n:white_check_mark:`git merge vol/02`\n\n\u3067\u30de\u30fc\u30b8\u3002\u3053\u308c\u3067OK\uff01\n\n#### \u524d\u56de\u306e\u5185\u5bb9\u3092\u9014\u4e2d\u307e\u3067\u3084\u3063\u305f\u65b9\u3068\u4eca\u56de\u304b\u3089\u53c2\u52a0\u306e\u65b9\n\nmaster\u30d6\u30e9\u30f3\u30c1\u3092\u524d\u56de\u5206\u3092\u7d42\u4e86\u3057\u305f\u72b6\u614b\u306b\u3057\u307e\u3059\u3002\n\u524d\u56de\u306e\u5185\u5bb9\u3092\u9014\u4e2d\u307e\u3067\u3084\u3063\u305f\u65b9\u3068\u4eca\u56de\u304b\u3089\u53c2\u52a0\u306e\u65b9\u306f\u3001upstream\u30ea\u30dd\u30b8\u30c8\u30ea\u306e`vol/02-finish`\u30d6\u30e9\u30f3\u30c1\u3092\u30de\u30fc\u30b8\u3067\u3059\u3002\n\n:white_check_mark: `git checkout master`\n\n\u3067master\u30d6\u30e9\u30f3\u30c1\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u5f8c\u3001\n\n:white_check_mark: `git reset --hard upstream/vol/02-finish`\n\n\u3067\u5f37\u5236\u7684\u306b\u30de\u30fc\u30b8\u3002\u3053\u308c\u3067OK\uff01\n\n#### \u4eca\u56de\u306e\u4f5c\u696d\u7528\u306ebranch\u3092\u4f5c\u6210 \n\n\u5168\u54e1\u540c\u3058\u624b\u9806\u3067\u3059\u3002\n\n\u4eca\u56de\u306e\u4f5c\u696d\u7528\u30d6\u30e9\u30f3\u30c1\u3068\u3057\u3066\u3001`vol/03`\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u308a\u3001\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\u3057\u307e\u3059\u3002\n:warning:`master`\u30d6\u30e9\u30f3\u30c1\u304b\u3089\u5206\u5c90\u3057\u3066`vol/03`\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3059\u308b\u306e\u3067\u3001\u307e\u305a`master`\u30d6\u30e9\u30f3\u30c1\u306b\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n\u3053\u308c\u307e\u3067\u306e\u4f5c\u696d\u3067\u3001\u65e2\u306bmaster\u30d6\u30e9\u30f3\u30c1\u306b\u3044\u308b\u306f\u305a\u3067\u3059\u304c\u3002\n\n- :white_check_mark: `git branch` \u3067`master`\u306b\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n- :white_check_mark: `master`\u306b\u3044\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001`git checkout master` \u3067`master`\u3092\u30c1\u30a7\u30c3\u30af\u30a2\u30a6\u30c8\n\n\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067`vol/03`\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n- :white_check_mark: `git branch vol/03` \u3067\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u3063\u3066\n- :white_check_mark: `git checkout vol/03` \u3067\u305d\u306e\u30d6\u30e9\u30f3\u30c1\u306b\u5909\u66f4\n\n\n#### \u78ba\u8a8d\n\n\u5ff5\u306e\u305f\u3081\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n- :white_check_mark: `git log` \u3067\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\n\u30b3\u30df\u30c3\u30c8\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\u524d\u56de\u306e\u6700\u5f8c\u306e\u30b3\u30df\u30c3\u30c8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070OK\u3067\u3059\u3002\n\n\n\u3053\u308c\u3067\u30d6\u30e9\u30f3\u30c1\u306e\u6e96\u5099\u306f\u6574\u3044\u307e\u3057\u305f\u3002\n\n:warning: `git branch -a` \u3068\u3001\u5168\u30d6\u30e9\u30f3\u30c1\u3092\u8868\u793a\u3059\u308b\u3068\u3001`vol/03-finish`\u30d6\u30e9\u30f3\u30c1\u304c\u898b\u3048\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u4eca\u56de\u306e\u5185\u5bb9\u304c\u5168\u3066\u7d42\u3048\u305f\u72b6\u614b\u306e\u30bd\u30fc\u30b9\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30bd\u30fc\u30b9\u306f\u3001\u4e0b\u8a18URL\u304b\u3089\u5404Lesson\u6bce\u306e\u30b3\u30df\u30c3\u30c8\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n[Commits \u00b7 suzukishouten-study/rest-study](https://github.com/suzukishouten-study/rest-study/commits/vol/03-finish)\n\n\n## :large_blue_circle: Marionette\u30e9\u30a4\u30d6\u30e9\u30ea\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\nMarionette\u306e\u516c\u5f0f\u30b5\u30a4\u30c8[Marionette.js \u2013 The Backbone Framework](http://marionettejs.com/)\u304b\u3089\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9URL\u306f\u4e0b\u8a18\u3067\u3059\u3002\u30b5\u30fc\u30d0\u306bSSH\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3001wget\u30b3\u30de\u30f3\u30c9\u3067\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u3053\u306e\u3042\u305f\u308a\u306e\u624b\u9806\u306f[\u524d\u56de\u306e\u8cc7\u6599](http://qiita.com/k_shimoji/items/0deaa414bf640b7536bb)\u306b\u3082\u8a18\u8f09\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n- :white_check_mark:/var/www/study/rest-study/app/webroot/js/lib\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```bash\ncd /var/www/study/rest-study/app/webroot/js/lib\nwget http://marionettejs.com/downloads/backbone.marionette.min.js\n```\n\n\n\u3053\u308c\u3067\u6e96\u5099\u5b8c\u4e86\u3067\u3059\uff01\n\u3067\u306f\u3001Marionette\u306e\u5404\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u3069\u306e\u3088\u3046\u306b\u6a5f\u80fd\u3059\u308b\u306e\u304b\u3001\u8a73\u3057\u304f\u898b\u3066\u884c\u304d\u307e\u3057\u3087\u3046\u3002\n\u307e\u305a\u306fLesson1\u3001\u300c\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30fb\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u300d\u3068\u984c\u3057\u3001\u524d\u56de\u4f5c\u6210\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u3001\n\n- Marionette.Application\n- Marionette.AppRouter\n- Marionette.Controller\n\n\u306e3\u3064\u3092\u9069\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\n## :large_blue_circle: Lesson 1 \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30fb\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\n\nMarionette\u3092\u4f7f\u7528\u3057\u3066\u4e00\u756a\u6069\u6075\u3092\u53d7\u3051\u308b\u306e\u306f\u30d3\u30e5\u30fc\u90e8\u5206\u306a\u306e\u3067\u3059\u304c\u3001\u305d\u306e\u524d\u306b\u307e\u305a\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30fb\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30fb\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u3042\u305f\u308a\u306e\u5909\u66f4\u70b9\u3092\u6291\u3048\u3066\u304a\u304f\u306e\u304cLesson1\u3067\u3059\u3002\n\u307e\u3060Marionette\u304c\u672c\u9818\u3092\u767a\u63ee\u3059\u308b\u3068\u3053\u308d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u4e0b\u8a18\u306e\u3068\u304a\u308a\u3067\u3059\u3002\n\n- \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306e\u5909\u66f4\n- \u30eb\u30fc\u30bf\u3068\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u5206\u96e2\n\n\u4e0b\u8a18\u306eMarionette\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u3063\u3066\u3001\u524d\u56de\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4fee\u6b63\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n- Marionette.Application\n- Marionette.AppRouter\n- Marionette.Controller\n\n\n\n### \u7de8\u96c6\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\n\n|\u7de8\u96c6|file|\u5f79\u5272|\n|---|:-------------------------------|:-------------|\n|\u4fee\u6b63|app/View/Layouts/default.ctp    |HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8|\n|\u8ffd\u52a0|app/webroot/js/main.js          |\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u958b\u59cb\u30dd\u30a4\u30f3\u30c8|\n|\u4fee\u6b63|app/webroot/js/app.js           |\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(Marionettte.Application)|\n|\u4fee\u6b63|app/webroot/js/routers/router.js|\u30eb\u30fc\u30bf(Marionette.AppRouter)|\n|\u8ffd\u52a0| app/webroot/js/routers/controller.js|\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9|\n\n\t\n#### default.ctp\n\n\u307e\u305a\u306f\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\n```diff:default.ctp\n        <script src=\"js/lib/jquery-2.1.3.min.js\" type=\"text/javascript\"></script>\n        <script src=\"js/lib/underscore-min.js\" type=\"text/javascript\"></script>\n        <script src=\"js/lib/backbone-min.js\" type=\"text/javascript\"></script>\n+       <script src=\"js/lib/backbone.marionette.min.js\" type=\"text/javascript\"></script>\n\n        <!-- js(application) -->\n\n\u301c\u4e2d\u7565\u301c\n \n        <script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n        <script src=\"js/views/todo-detail-view.js\" type=\"text/javascript\"></script>\n        <script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n+       <!--   controller   -->\n+       <script src=\"js/routers/controller.js\" type=\"text/javascript\"></script>\n        <!--   router   -->\n        <script src=\"js/routers/router.js\" type=\"text/javascript\"></script>\n-       <!--   entry point   -->\n+       <!--   application   -->\n        <script src=\"js/app.js\" type=\"text/javascript\"></script>\n+       <!--   entry point   -->\n+       <script src=\"js/main.js\" type=\"text/javascript\"></script>\n\n </body>\n </html>\n```\n\n- \u8ffd\u52a0\u3057\u305fjs\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u306e\u8ffd\u52a0\u3067\u3059\u3002\n\t- `js/lib/backbone.marionette.min.js` - Marionette\u672c\u4f53\u3002\n\t- `js/routers/controller.js` - Marionette\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u308b\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u5b9f\u88c5\u3002\u3042\u3068\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\t- `js/app.js` - Marionette\u306b\u3088\u308a\u63d0\u4f9b\u3055\u308c\u308b\u3001Application\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u88c5\u3002\n\t\t- :warning:\u4fee\u6b63\u524d\u306f\u3001\u3053\u308c\u304c\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3067\u3057\u305f\u304c\u3001\u4fee\u6b63\u5f8c\u306f\u6b21\u306emain.js\u304c\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308a\u307e\u3059\u3002\n\t- `js/main.js` - \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u3042\u3068\u3067\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\n#### main.js\n\n\u524d\u56de\u306f\u3001`app.js`\u304c\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3067\u3057\u305f\u3002\u4eca\u56de\u306e\u4fee\u6b63\u3067\u3001\u30d5\u30a1\u30a4\u30eb\u30922\u3064\u306b\u308f\u3051\u307e\u3059\u3002\n\n- main.js - \u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308a\u307e\u3059\u3002\n- app.js - `Marionette.Application`\u3092\u7d99\u627f\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b9f\u88c5\u3068\u306a\u308a\u307e\u3059\u3002\n\n```js:main.js\nvar app = app || {};\n\n//\u958b\u59cb\n(function(app) {\n\tapp.application = new app.Application();\n\tapp.application.start();\n})(app);\n```\n\napp.Application(app.js\u3067\u5b9a\u7fa9)\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u3001`start`\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u306e\u307f\u3067\u3059\u3002\n\n#### app.js\n\n\u524d\u56de`app.js`\u3067\u3084\u3063\u3066\u3044\u305f\u3053\u3068\u306f\u4e0b\u8a18\u306e2\u3064\u3067\u3057\u305f\u3002\n\n- router\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\n- `Backbone.history.start()`\u3092\u5b9f\u884c\u3057\u3066\u300chashchange\u30a4\u30d9\u30f3\u30c8\u300d\u306e\u76e3\u8996\u3092\u958b\u59cb\n\n\n```js:\u524d\u56de\u306eapp.js\u518d\u63b2\nvar app = app || {};\n\n//\u958b\u59cb\n(function(app) {\n\tvar todoRouter = new app.TodoRouter();\n\tBackbone.history.start();\n})(app);\n```\n\nMarionette\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u3053\u308c\u3089\u306e\u51e6\u7406\u306f`Marionette.Application`\u3092\u7d99\u627f\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u5185\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u3067\u3059\u306e\u3067\u3001\u3053\u306e`app.js`\u5185\u3067\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b9a\u7fa9\u306e\u307f\u884c\u3044\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u53ca\u3073\u5b9f\u884c\u306f`main.js`\u304b\u3089\u3001\u3068\u306a\u308b\u308f\u3051\u3067\u3059\u3002\n\u524d\u8ff0\u306e`main.js`\uff08\u4eca\u56de\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u3068\u306a\u308b\u30d5\u30a1\u30a4\u30eb\uff09\u5185\u3067\u5f53\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3055\u308c\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\n\n```diff:app.js\n //\u958b\u59cb\n (function(app) {\n-       var todoRouter = new app.TodoRouter();\n-       Backbone.history.start();\n+       app.Application = Backbone.Marionette.Application.extend({\n+               initialize : function(){\n+                       new app.TodoRouter();\n+               },\n+\n+               onStart : function(){\n+                       Backbone.history.start();\n+               },\n+       });\n })(app);\n```\n\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u524d\u56de\u3068\u5909\u308f\u308a\u307e\u305b\u3093\u3002\n\n- \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316 - `initialize`\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\t- \u3053\u3053\u3067router\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3002\n- start\u95a2\u6570\u5b9f\u884c - `onStart`\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\t- \u3053\u3053\u3067`hashchange`\u30a4\u30d9\u30f3\u30c8\u306e\u76e3\u8996\u958b\u59cb\u3002\n\n\n#### router.js\n\nrouter\u306f\u3001\u7d99\u627f\u5143\u304c`Marionette.AppRouter`\u306b\u5909\u308f\u308a\u307e\u3059\u3002\nrouter\u5185\u3067\u306f\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u306e\u8a2d\u5b9a\u306e\u307f\u3092\u66f8\u304d\u3001\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5f8c\u5b9f\u884c\u3055\u308c\u308b\u95a2\u6570\u306e\u5b9f\u88c5\u306fcontroller\u5185\u306b\u66f8\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n```diff:router.js\n //router\n (function(app) {\n-       app.TodoRouter = Backbone.Router.extend({\n-               routes : {\n+       app.TodoRouter = Backbone.Marionette.AppRouter.extend({\n+               //\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\n+               controller: new app.TodoController(),\n+               //\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u8a2d\u5b9a\n+               appRoutes : {\n                        ''                      : 'todoLists',\n                        'todo-lists'            : 'todoLists',\n                        'todo-lists/:id'        : 'todoDetail'\n                },\n-\n-               currentView : false,\n-\n-               todoLists : function() {\n-                       //Todo\u4e00\u89a7\u8868\u793a\u7528\u30d3\u30e5\u30fc\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n-                       this.removeCurrentView();\n-                       this.nextView(app.TodoCollectionView);\n-               },\n-\n-               todoDetail : function(id) {\n-                       this.removeCurrentView();\n-                       this.nextView(app.TodoDetailView, id);\n-               },\n-\n-               nextView : function(View, option) {\n-                       if (document.getElementById('#content') === null) {\n-                               $('#main').append('<div id=\"content\"/>');\n-                       }\n-                       this.currentView = new View(option);\n-               },\n-               removeCurrentView : function() {\n-                       if (this.currentView) {\n-                               this.currentView.remove();\n-                       }\n-               }\n-\n        });\n })(app);\n```\n\n\n- \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b\u95a2\u6570\u306e\u5b9f\u88c5\u306f\u5168\u3066\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u79fb\u52d5\u3059\u308b\u305f\u3081\u3001router\u304b\u3089\u306f\u524a\u9664\u3002\n- `controller: new app.TodoController()`\n\t- \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u3053\u3053\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n#### controller.js\n\n\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5f8c\u306e\u95a2\u6570\u306e\u5b9f\u88c5\u3092\u3053\u3053\u306b\u79fb\u52d5\u3057\u3066\u3044\u307e\u3059\u3002\n\u5185\u5bb9\u306f\u305d\u306e\u307e\u307e\u3067\u3059\u3002\n\n```js:controller.js\nvar app = app || {};\n\n//controller\n(function(app) {\n\tapp.TodoController = Backbone.Marionette.Controller.extend({\n\n\t\tcurrentView : false,\n\n\t\ttodoLists : function() {\n\t\t\t//Todo\u4e00\u89a7\u8868\u793a\u7528\u30d3\u30e5\u30fc\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n\t\t\tthis.removeCurrentView();\n\t\t\tthis.nextView(app.TodoCollectionView);\n\t\t},\n\n\t\ttodoDetail : function(id) {\n\t\t\tthis.removeCurrentView();\n\t\t\tthis.nextView(app.TodoDetailView, id);\n\t\t},\n\n\t\tnextView : function(View, option) {\n\t\t\tif (document.getElementById('#content') === null) {\n\t\t\t\t$('#main').append('<div id=\"content\"/>');\n\t\t\t}\n\t\t\tthis.currentView = new View(option);\n\t\t},\n\t\tremoveCurrentView : function() {\n\t\t\tif (this.currentView) {\n\t\t\t\tthis.currentView.remove();\n\t\t\t}\n\t\t}\n\t});\n})(app);\n```\n\n\n#### \u5b9f\u88c5\n\n\u3067\u306f\u3001\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\uff01\n\n- :white_check_mark: `app/View/Layouts/default.ctp` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n- :white_check_mark: `app/webroot/js/main.js` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u8ffd\u52a0\u3002\n- :white_check_mark: `app/webroot/js/app.js` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n- :white_check_mark: `app/webroot/js/routers/router.js` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n- :white_check_mark: `app/webroot/js/routers/controller.js`\u3092\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n- :white_check_mark: \u52d5\u4f5c\u78ba\u8a8d!\n- :white_check_mark: Git\u306b\u30b3\u30df\u30c3\u30c8\n\n**\u5b8c\u6210\u30bd\u30fc\u30b9(GitHub)\u3078\u306e\u30ea\u30f3\u30af**\n- [default.ctp](https://github.com/suzukishouten-study/rest-study/blob/41f6e5b08feb74352e527994141c40dfb247add8/app/View/Layouts/default.ctp)\n- [main.js](https://github.com/suzukishouten-study/rest-study/blob/41f6e5b08feb74352e527994141c40dfb247add8/app/webroot/js/main.js)\n- [app.js](https://github.com/suzukishouten-study/rest-study/blob/41f6e5b08feb74352e527994141c40dfb247add8/app/webroot/js/app.js)\n- [router.js](https://github.com/suzukishouten-study/rest-study/blob/41f6e5b08feb74352e527994141c40dfb247add8/app/webroot/js/routers/router.js)\n- [controller.js](https://github.com/suzukishouten-study/rest-study/blob/41f6e5b08feb74352e527994141c40dfb247add8/app/webroot/js/routers/controller.js)\n\nLesson2\u3078\uff01\nMarionette\u304c\u672c\u9818\u3092\u767a\u63ee\u3059\u308bView\u306e\u90e8\u5206\u3092\u6271\u3044\u307e\u3059\uff01\n\n\n## :large_blue_circle: Lesson 2 TODO\u4e00\u89a7\u753b\u9762\u306bMarionette\u306e\u30d3\u30e5\u30fc\u3092\u9069\u7528\n\nMarionette\u304c\u672c\u9818\u767a\u63ee\u3059\u308b\u90e8\u5206\u3001View\u306e\u5b9f\u88c5\u3067\u3059\u3002\n\u307e\u305a\u306fTODO\u4e00\u89a7\u753b\u9762\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u524d\u8ff0\u306e\u3068\u304a\u308aMarionette\u304c\u63d0\u4f9b\u3059\u308bView\u306f4\u7a2e\u985e\u3042\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u305d\u308c\u3089\u306e\u3046\u3061\u4e0b\u8a18\u3092\u9069\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n- LayoutView\n- CompositeView\n- ItemView\n\n\u307e\u305f\u3001`Marionette.Application`\u3068`LayoutView`\u304c\u6301\u3064\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u3082\u4f7f\u7528\u3057\u307e\u3059\u3002\n\u3055\u3066\u3001\u3053\u3053\u3067\u5404\u30d3\u30e5\u30fc\u306e\u5f79\u5272\u3092\u8a73\u3057\u304f\u898b\u3066\u884c\u304d\u307e\u3057\u3087\u3046\u3002\n\n\n### \u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u30d3\u30e5\u30fc\u306e\u95a2\u4fc2\n\n\n#### \u30d3\u30e5\u30fc\n\n\u300c\u30d3\u30e5\u30fc\u300d\u306f\u3001\u3042\u308b\u7279\u5b9a\u306e\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3059\u308b\u6700\u5c0f\u5358\u4f4d\u3001\u3068\u3044\u3046\u8a8d\u8b58\u3067\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\u524d\u56de\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3060\u3068\u3001\n\n- TODO1\u4ef6\uff08Model1\u4ef6\uff09\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\n- TODO\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\n\n\u304c\u305d\u3046\u3067\u3059\u3002\u305d\u308c\u305e\u308c\u3001Model1\u4ef6\u3001Collection\u4e00\u3064\u3092\u53f8\u308b\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\u56f3\u306b\u3059\u308b\u3068\u3053\u3046\u3067\u3059\u3002\n\n![view.png](https://qiita-image-store.s3.amazonaws.com/2006/65988/4732e3de-9fd1-f6a9-0bf4-371ea2a1d3a2.png \"view.png\")\n\n\n#### \u30ea\u30fc\u30b8\u30e7\u30f3\n\n\u300c\u30ea\u30fc\u30b8\u30e7\u30f3\u300d\u3068\u306f\u3001\u30d3\u30e5\u30fc\u3092\u8868\u793a\u3059\u308b\u9818\u57df\u3067\u3059\u3002\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u5dee\u3057\u66ff\u3048\u308b\uff08\u753b\u9762\u9077\u79fb\uff09\u3053\u3068\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\u524d\u56de\u306fView\u306e\u7834\u68c4\u3092\u81ea\u524d\u3067\u3084\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6a5f\u80fd\u306b\u3088\u3063\u3066\u3001\u3053\u308c\u3092Marionette\u306b\u4efb\u305b\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u4eca\u56de\u306f\u3001TODO\u4e00\u89a7\u30d3\u30e5\u30fc\u3068TODO\u8a73\u7d30\u30d3\u30e5\u30fc\u3092\u5207\u308a\u66ff\u3048\u308b\u969b\u306b\u3053\u306e\u6a5f\u80fd\u304c\u4f7f\u308f\u308c\u307e\u3059\u3002\n\u5207\u308a\u66ff\u3048\u306b\u3064\u3044\u3066\u306fLesson3\u3067\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\n**\u5207\u308a\u66ff\u3048\u30a4\u30e1\u30fc\u30b8**\n\n![region.png](https://qiita-image-store.s3.amazonaws.com/2006/65988/52216d42-d333-eeb0-2eba-014edb368c23.png \"region.png\")\n\n\u4eca\u56de\u306eTODO\u30ea\u30b9\u30c8\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u307e\u3060\u3084\u308a\u307e\u305b\u3093\u304c\u3001\u8868\u793a\u3059\u308b\u5bfe\u8c61\u304c\u591a\u304f\u306a\u3063\u3066\u304f\u308b\u3068\u3001\u8907\u6570\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u7528\u610f\u3057\u3066\u3001\u5404\u5f79\u5272\u306e\u30d3\u30e5\u30fc\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n**\u8907\u6570\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u5229\u7528\u30a4\u30e1\u30fc\u30b8**\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u306f\u3001Marionette.Application\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304a\u3088\u3073Marionette.LayoutView\u5185\u306b\u751f\u6210\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\u5178\u578b\u7684\u306a\u30d1\u30bf\u30fc\u30f3\u3068\u3057\u3066\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n- Marionette.Application\u304c\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4e00\u756a\u5916\u5074\u306e\u571f\u53f0\u3068\u306a\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u751f\u6210\n\t- \u305d\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u5185\u306bLayoutView\u3092\u914d\u7f6e\n\t\t- \u305d\u306eLayoutView\u5185\u306b\u30c7\u30fc\u30bf\u3084\u30dc\u30bf\u30f3\u7b49\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u8868\u793a\n\t\t- \u307e\u305f\u306fLayoutView\u5185\u306b\u3055\u3089\u306b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u751f\u6210\n\t\t\t- \u305d\u306eLayoutView\u5185\u306b\u30c7\u30fc\u30bf\u3084\u30dc\u30bf\u30f3\u7b49\u3092\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u8868\u793a\n\t\t\t- \u307e\u305f\u306fLayoutView\u5185\u306b\u3055\u3089\u306b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u751f\u6210\n\n\u3068\u3044\u3046\u5165\u308c\u5b50\u69cb\u9020\u306b\u306a\u308a\u307e\u3059\u3002\n\n:warning:\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u914d\u7f6e\u3059\u308bView\u306f\u5e38\u306bLayoutView\u3092\u4f7f\u3046\u3088\u3046\u306b\u66f8\u3044\u3066\u307e\u3059\u304c\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u306e\u306a\u3044\u30b7\u30f3\u30d7\u30eb\u306a\u753b\u9762\u3067\u3042\u308c\u3070\u3001LayoutView\u3067\u306f\u306a\u304fCompositeView\u3084ItemView\u3092\u76f4\u63a5\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u914d\u7f6e\u3059\u308b\u307b\u3046\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u3053\u306e\u8fba\u306f\u30b1\u30fc\u30b9\u30d0\u30a4\u30b1\u30fc\u30b9\u3067\u3059\u3002\n\n\u5177\u4f53\u7684\u306b\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30a4\u30e1\u30fc\u30b8\u306b\u306a\u308a\u307e\u3059\u3002\n\n![regions.png](https://qiita-image-store.s3.amazonaws.com/2006/65988/c30856ee-5fc5-e7ef-b975-b6de2863a3e5.png \"regions.png\")\n\n\n- Marionette.Application\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3088\u308a\u3001\u4e0b\u8a18\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u7ba1\u7406\u3002\n\t- \u30d8\u30c3\u30c0\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\t\t- \u30d8\u30c3\u30c0\u30fc\u8868\u793a\u30d3\u30e5\u30fc\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\n\t- \u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\t\t- \u5185\u5074\u306b\u8868\u793a\u3059\u308b\u30d3\u30e5\u30fc\u3092\u5207\u308a\u66ff\u3048\u308b\uff08X\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793aLayoutView\uff0fY\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793aLayoutView\uff09\n\t- \u30d5\u30c3\u30bf\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\t\t- \u30d5\u30c3\u30bf\u8868\u793a\u30d3\u30e5\u30fc\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\u3002\n- X\u30b3\u30f3\u30c6\u30f3\u30c4\u8868\u793aLayoutView\n\t- \u30e1\u30cb\u30e5\u30fc\u30dc\u30bf\u30f3\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\t\t- \u30e1\u30cb\u30e5\u30fc\u30dc\u30bf\u30f3\u8868\u793aLayoutView\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\n\t- \u4e00\u89a7\u30c7\u30fc\u30bf\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\t\t- \u4e00\u89a7\u30c7\u30fc\u30bf\u8868\u793aLayoutView\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\n\t- \u30da\u30fc\u30b8\u5207\u308a\u66ff\u3048\u30dc\u30bf\u30f3\u8868\u793a\u30ea\u30fc\u30b8\u30e7\u30f3\n\t\t- \u30da\u30fc\u30b8\u5207\u308a\u66ff\u3048\u30dc\u30bf\u30f3\u8868\u793aLayoutView\u3092\u306f\u3081\u8fbc\u3093\u3067\u8868\u793a\u3059\u308b\n\n\u301c\u4ee5\u4e0b\u540c\u69d8\u301c\n\n### \u30dd\u30a4\u30f3\u30c8\n\n\u4e0b\u8a18Marionette\u306e\u5404View\u306e\u5f79\u5272\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\n\n1. Region\n2. LayoutView\n3. CompositeView\n4. ItemView\n\n\u4e0b\u56f3\u306e\u901a\u308a\u3001\u4e0a\u8a18\u306e\u9806\u756a\u3067\u30cd\u30b9\u30c8\u3057\u305f\u69cb\u9020\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n![todo-list.png](https://qiita-image-store.s3.amazonaws.com/0/65988/733b4339-acf3-04ce-ca5f-42b6d8733356.png \"todo-list.png\")\n\n\n \n\u4ee5\u4e0a\u8e0f\u307e\u3048\u3066\u3001\u4e0b\u8a18\u89e3\u8aac\u3092\u8aad\u307f\u3064\u3064\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4fee\u6b63\u3057\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01\n\n### \u7de8\u96c6\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\n\n|\u7de8\u96c6|file|\u5f79\u5272|\n|---|:-------------------------------|:-------------|\n|\u4fee\u6b63|app/View/Layouts/default.ctp    |HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8|\n|\u4fee\u6b63|app/webroot/js/app.js           |\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3(Marionettte.Application)|\n|\u4fee\u6b63|app/webroot/js/routers/controller.js|\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9|\n|\u8ffd\u52a0|app/webroot/js/views/todo-layout-view.js|\u30d3\u30e5\u30fc(LayoutView:Todo\u30ea\u30b9\u30c8\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u7528)|\n|\u8ffd\u52a0|app/webroot/js/views/todo-composite-view.js|\u30d3\u30e5\u30fc(CompositeView:Todo\u30ea\u30b9\u30c8\u4e00\u89a7)|\n|\u4fee\u6b63|app/webroot/js/views/todo-item-view.js|\u30d3\u30e5\u30fc(ItemView:Todo\u30ea\u30b9\u30c8\u4e00\u89a7\u5185\u306e1\u4ef6\u8868\u793a\u7528)|\n|\u524a\u9664|app/webroot/js/views/todo-collection-view.js|\u30d3\u30e5\u30fc(Todo\u30ea\u30b9\u30c8\u4e00\u89a7)|\n\n\n#### default.ctp\n\n\nLayoutView\u7528\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3072\u3068\u3064\u5897\u3048\u3066\u3044\u308b\u3068\u3053\u308d\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\n\n```diff:default.ctp\n <body>\n \t<!-- \u30b3\u30f3\u30c6\u30f3\u30c4 -->\n \t<div id=\"main\"></div>\n-\t<!-- TODO\u4e00\u89a7\u8868\u793a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n-\t<script type=\"text/template\" id=\"list-template\">\n+\n+\t<!-- TODO\u4e00\u89a7\u8868\u793a\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n+\t<script type=\"text/template\" id=\"todo-layout-template\">\n \t<h1>TODO\u30ea\u30b9\u30c8</h1>\n+\t<div id=\"todo-lists\"></div>\n+\t</script>\n+\n+\t<!-- TODO\u4e00\u89a7\u8868\u793a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n+\t<script type=\"text/template\" id=\"todo-composite-template\">\n \t<textarea style=\"width:300px;height:50px\"id=\"new-todo\" placeholder=\"Todo?\" autofocus></textarea>\n \t<input type=\"button\" id=\"addTodo\" value=\"\u8ffd\u52a0\">\n \t<hr>\n \t<div>\n \t\t<table border=\"1\" width=\"350px\">\n-\t\t\t<tbody id=\"todo-lists\"></tbody>\n+\t\t\t<tbody></tbody>\n \t\t</table>\n \t</div>\n \t</script>\n \n \t<!-- TODO\u4e00\u884c\u5206\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\uff08\u4e0a\u306etbody\u90e8\u5206\u306b\u633f\u5165\u3055\u308c\u308b\uff09 -->\n-\t<script type=\"text/template\" id=\"item-template\">\n+\t<script type=\"text/template\" id=\"todo-item-template\">\n \t<td><input type=\"checkbox\" class=\"toggle\" <%- status === '1' ? 'checked' : '' %>></td>\n \t<td style=\"margin:0px\">\n \t\t<span class=\"todo-edit\" style=\"margin:0px\"><%- todo %></span>\n\n\u301c\u4e2d\u7565\u301c\n\n \t\t<a class=\"detail-link\" href=\"#todo-lists/<%- id %>\">\u8a73\u7d30</a>\n \t</td>\n \t</script>\n\n \t<!-- \u8a73\u7d30\u753b\u9762 -->\n \t<script type=\"text/template\" id=\"detail-template\">\n \t<h2>Todo #<%- id %></h2>\n\n\u301c\u4e2d\u7565\u301c\n\n \t<!--   view   -->\n \t<script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n \t<script src=\"js/views/todo-detail-view.js\" type=\"text/javascript\"></script>\n-\t<script src=\"js/views/todo-collection-view.js\" type=\"text/javascript\"></script>\n+\t<script src=\"js/views/todo-composite-view.js\" type=\"text/javascript\"></script>\n+\t<script src=\"js/views/todo-layout-view.js\" type=\"text/javascript\"></script>\n \t<!--   controller   -->\n \t<script src=\"js/routers/controller.js\" type=\"text/javascript\"></script>\n \t<!--   router   -->\n```\n\n- TODO\u4e00\u89a7\u8868\u793a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u3001LayoutView\u3067\u4f7f\u7528\u3059\u308b\u90e8\u5206\u3068CompositeView\u3092\u4f7f\u7528\u3059\u308b\u90e8\u5206\u306b\u5206\u5272\u3057\u3066\u3044\u307e\u3059\u3002\n\t- TODO\u4e00\u89a7\u8868\u793a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u5168\u90e8\u3067\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u3001\u4e00\u89a7\u7528\u30011\u4ef6\u8868\u793a\u7528\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u308c\u305e\u308cID\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\t\t- \u30ec\u30a4\u30a2\u30a6\u30c8\u7528 -> `todo-layout-template`\n\t\t- \u4e00\u89a7\u7528 -> `todo-composite-template`\n\t\t- 1\u4ef6\u7528 -> `todo-item-template `\n- \u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u306e\u30d3\u30e5\u30fc\u306b\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3059\u308b\u90e8\u5206\u306e\u30bf\u30b0\u3092\u8ffd\u52a0\u3057\u3001id\u3092`todo-lists`\u3068\u3057\u3066\u3044\u307e\u3059\uff08\u3053\u3053\u306b\u4e00\u89a7\u8868\u793a\u7528\u306e\u30d3\u30e5\u30fc\u304c\u8aad\u307f\u8fbc\u307e\u308c\u307e\u3059\uff09\u3002\n\n- \u4e00\u89a7\u8868\u793a\u7528\u306e\u30d3\u30e5\u30fc(`todo-collection-view.js`)\u306f`todo-composite-view.js`\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n- \u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u306e\u30d3\u30e5\u30fc\u3001`js/views/todo-layout-view.js`\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n#### app.js\n\n\n```diff:app.js\n \t\tonStart : function(){\n \t\t\tBackbone.history.start();\n \t\t},\n+\n+\t\tregions : {\n+\t\t\tmainRegion : '#main'\n+\t\t}\n+\n \t});\n```\n\n- `Marionette.Applicaton`\u304c\u6301\u3064\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u6307\u5b9a\u3067\u3001`default.ctp`\u306e`<div id=\"main\"></div>`\u306e\u30bf\u30b0\u5185\u304c\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3057\u3066\u6271\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n#### controller.js\n\nMarionette\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3066\u30d3\u30e5\u30fc\u306e\u63cf\u753b\u3084\u7834\u68c4\u3092\u884c\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u3042\u305f\u308a\u3092\u81ea\u524d\u3067\u3084\u3063\u3066\u3044\u305f\u90e8\u5206\u306e\u30b3\u30fc\u30c9\u304c\u524a\u6e1b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```diff:controller.js\n (function(app) {\n \tapp.TodoController = Backbone.Marionette.Controller.extend({\n \n-\t\tcurrentView : false,\n-\n \t\ttodoLists : function() {\n-\t\t\t//Todo\u4e00\u89a7\u8868\u793a\u7528\u30d3\u30e5\u30fc\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n-\t\t\tthis.removeCurrentView();\n-\t\t\tthis.nextView(app.TodoCollectionView);\n+\t\t\t//Todo\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u30d3\u30e5\u30fc\u306b\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n+\t\t\tthis.nextView(app.TodoLayoutView);\n \t\t},\n \n \t\ttodoDetail : function(id) {\n-\t\t\tthis.removeCurrentView();\n \t\t\tthis.nextView(app.TodoDetailView, id);\n \t\t},\n \n \t\tnextView : function(View, option) {\n-\t\t\tif (document.getElementById('#content') === null) {\n-\t\t\t\t$('#main').append('<div id=\"content\"/>');\n-\t\t\t}\n-\t\t\tthis.currentView = new View(option);\n+\t\t\tapp.application.mainRegion.show(new View(option));\n \t\t},\n-\t\tremoveCurrentView : function() {\n-\t\t\tif (this.currentView) {\n-\t\t\t\tthis.currentView.remove();\n-\t\t\t}\n-\t\t}\n \t});\n })(app);\n\n```\n\n- removeCurrentView\u95a2\u6570\uff08\u524a\u9664\uff09\n\t- Marionette\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6a5f\u80fd\u306b\u3088\u308a\u3001View\u306e\u751f\u6210\u3001\u7834\u68c4\u304c\u7ba1\u7406\u3055\u308c\u308b\u306e\u3067\u3001\u81ea\u524d\u3067\u3084\u3063\u3066\u3044\u305f`removeCurrentView`\u95a2\u6570\u306e\u5b9a\u7fa9\u3068\u547c\u3073\u51fa\u3057\u90e8\u5206\u3092\u524a\u9664\u3057\u3066\u3044\u307e\u3059\u3002\n- nextView\u95a2\u6570\n\t- \u5143\u3005\u306fView\u306e\u751f\u6210\u3092\u884c\u3063\u3066\u3044\u308b\u306e\u307f\u3067\u3057\u305f\u304c\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u6a5f\u80fd\u3092\u4f7f\u7528\u3057\u3001\u300cView\u3092\u751f\u6210\u3057\u3001\u305d\u306eView\u3092\u5f15\u6570\u3068\u3057\u3066\u30ea\u30fc\u30b8\u30e7\u30f3\u3092show\u3059\u308b\u300d\u3068\u3044\u3046\u51e6\u7406\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\n#### todo-layout-view.js\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\u3053\u3053\u3067\u306e\u5f79\u5272\u306f\u4e0b\u8a18\u3067\u3059\u3002\n\n- \u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u5b9a\u7fa9\n- \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u8aad\u307f\u8fbc\u307f\n\t- \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u8aad\u307f\u8fbc\u307f\u306f\u3001\u5143\u3005`todo-collection-view.js`\u3067\u884c\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3067\u884c\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```javascript:todo-layout-view.js\nvar app = app || {};\n\n//Todo\u4e00\u89a7\u8868\u793a\u7528\u30ec\u30a4\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\n(function(app) {\n\tapp.TodoLayoutView = Backbone.Marionette.LayoutView.extend({\n\t\t//\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\t\ttemplate: '#todo-layout-template',\n\n\t\tregions : {\n\t\t\tlistRegion : '#todo-lists',\n\t\t},\n\n\t\tonRender : function(){\n\t\t\tvar todoCollection = new app.TodoCollection();\n\t\t\tthis.listenTo(todoCollection , 'reset', this.showTodoList, this);\n\t\t\ttodoCollection.fetch({reset : true});\n\t\t},\n\n\t\tshowTodoList : function(todoCollection){\n\t\t\tthis.listRegion.show( new app.TodoCompositeView({\n\t\t\t\tcollection : todoCollection\n\t\t\t}));\n\t\t},\n\n\t});\n})(app);\n```\n\n- template\u5909\u6570\n\t- \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u3001`template`\u5909\u6570\u306bid\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3060\u3051\u3067\u3001Marionette\u304c\u63cf\u753b\u6642\u306b\u305d\u306eid\u3067\u793a\u3055\u308c\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u81ea\u52d5\u3067\u9069\u7528\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n- regions\u5909\u6570\n\t- \u3053\u3053\u3067\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u30bf\u30b0\u306eid\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4e00\u89a7\u8868\u793a\u9818\u57df\u3068\u306a\u308b`#todo-lists`\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n- onRender\u95a2\u6570\n\t- Marionette\u306e\u5168\u3066\u306e\u7a2e\u985e\u306e\u30d3\u30e5\u30fc\u3067\u5b9f\u88c5\u3055\u308c\u307e\u3059\u3002\u30d3\u30e5\u30fc\u751f\u6210\u6642\u306b\u81ea\u52d5\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n\t- \u3053\u3053\u3067\u306f\u3001\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u3001\u53d6\u5f97\u5b8c\u4e86\u6642\u306b`showTodoList`\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n- showTodoList\u95a2\u6570\n\t- `onRender`\u95a2\u6570\u5185\u3067\u6307\u5b9a\u3057\u305f`this.listenTo(todoCollection , 'reset', this.showTodoList, this);`\u306b\u3088\u308a\u3001collection\u306e`reset`\u30a4\u30d9\u30f3\u30c8\uff08\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u4e2d\u8eab\u304c\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3055\u308c\u305f\uff09\u306e\u767a\u706b\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u30cf\u30f3\u30c9\u30e9\u3067\u3059\u3002\n\t- `regions`\u5909\u6570\u3067\u8a2d\u5b9a\u3057\u305f\u3001`listRegion`\u3092\u3001`show`\u95a2\u6570\u306b\u3088\u3063\u3066\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002`show`\u95a2\u6570\u306e\u5f15\u6570\u306b`app.TodoCompositeView`\u306e\u65b0\u3057\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u3001`listRegion`\u5185\u306e\u30d3\u30e5\u30fc\u3068\u3057\u3066\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n#### todo-composite-view.js\n\n\n\u4e0a\u8a18\u306e`todo-layout-view.js`\u306e\u4e2d\u306e`listRegion`\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u4e2d\u306b\u8868\u793a\u3055\u308c\u308b\u30d3\u30e5\u30fc\u3067\u3059\u3002\nCompositeView\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30dd\u30a4\u30f3\u30c8\u306f\u3001`childView`\u3001`childViewContainer`\u3001`ui`\u3067\u3059\u3002\n\n`todo-collection-view.js`\u306b\u8a18\u8f09\u3057\u3066\u3044\u305f\u8ffd\u52a0\u30dc\u30bf\u30f3\u3084\u305d\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u306f\u3053\u3053\u306b\u66f8\u304d\u307e\u3059\u3002\n\n```\nvar app = app || {};\n\n//Todo\u4e00\u89a7\u8868\u793a\u7528\u30d3\u30e5\u30fc\n(function(app) {\n\tapp.TodoCompositeView = Backbone.Marionette.CompositeView.extend({\n\t\ttemplate: '#todo-composite-template',\n\n\t\tchildView : app.TodoItemView,\n\n\t\tchildViewContainer : 'tbody',\n\n\t\tui : {\n\t\t\taddTodo : '#addTodo',\n\t\t\tnewTodo : '#new-todo'\n\t\t},\n\n\t\tevents : {\n\t\t\t'click @ui.addTodo' : 'onCreateTodo',\n\t\t},\n\n\t\tinitialize: function(){\n\t\t\t_.bindAll( this, 'onCreatedSuccess' );\n\t\t},\n\n\t\tonCreateTodo : function(e) {\n\t\t\tthis.collection.create(this.newAttributes(), {\n\t\t          silent:  true ,\n\t\t          success: this.onCreatedSuccess\n\t\t\t});\n\t\t\tthis.ui.newTodo.val('');\n\t\t},\n\n\t\tnewAttributes : function() {\n\t\t\treturn {\n\t\t\t\ttodo : this.ui.newTodo.val().trim(),\n\t\t\t\tstatus : 0\n\t\t\t};\n\t\t},\n\n\t\tonCreatedSuccess : function(){\n\t\t\tthis.collection.fetch({ reset : true });\n\t\t},\n\n\t});\n})(app);\n```\n\n- childView\u5909\u6570\n\t- `CompositeView`\u3067\u306f\u3001\u5b50\u30d3\u30e5\u30fc\u3068\u3057\u3066`ItemView`\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u7d20\u306eBackbone\u3067\u306f\u3001\u5b50\u30d3\u30e5\u30fc\u306e\u63cf\u753b\u3092\u89aa\u30d3\u30e5\u30fc\u3067\u884c\u3046\u30b3\u30fc\u30c9\u3092\u8a18\u8f09\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001CompositeView\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u5b50\u30d3\u30e5\u30fc\u3068\u306a\u308bItemView\u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\u3067\u305d\u306e\u8fba\u308a\u66f8\u304b\u306a\u304f\u3066\u3088\u304f\u306a\u308a\u307e\u3059\u3002\n- childViewContainer\u5909\u6570\n\t- \u5b50\u30d3\u30e5\u30fc\u3068\u306a\u308bItemView\u3092\u63cf\u753b\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u3068\u306a\u308b\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4e0a\u306eHTML\u30a8\u30ec\u30e1\u30f3\u30c8\u306eID\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001`tbody`\u30bf\u30b0\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n- `ui`\u5909\u6570\n\t- `ui`\u5909\u6570\u306f\u3001Marionette\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u5909\u6570\u3067\u3059\u3002\u3053\u3053\u306b\u3001\"\u5909\u6570\u540d : \u30bb\u30ec\u30af\u30bf\"\u306e\u5f62\u5f0f\u3067\u6307\u5b9a\u3059\u308b\u3068\u3001\u3053\u306e\u30d3\u30e5\u30fc\u5185\u3067\u306f\u6307\u5b9a\u3057\u305f\u5909\u6570\u540d\u3067\u53c2\u7167\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\t\t- events\u5909\u6570\u5185\u3067\u30bb\u30ec\u30af\u30bf\u6307\u5b9a\u3059\u308b\u5834\u5408\u3001`@ui.\u5909\u6570\u540d`\u3068\u3044\u3046\u5f62\u5f0f\u3067\u6307\u5b9a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001`'click @ui.addTodo' : 'onCreateTodo'`\u3068\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n- `todo-collection-view.js`\u306b\u8a18\u8f09\u3057\u3066\u3044\u305f\u3001`onCreateTodo`\u3001`newAttributes`\u3001`onCreatedSuccess`\u306f\u3053\u3053\u306b\u66f8\u304d\u307e\u3059\u3002\n\n#### todo-item-view.js\n\nItemView\u3092\u9069\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n`todo-composite-view.js`\u540c\u69d8\u3001`ui`\u5909\u6570\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u63cf\u753b\u3092`ItemView`\u304c\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u306e\u3067\u3001\u63cf\u753b\u51e6\u7406\u304c\u524a\u9664\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n```diff:todo-item-view.js\n //Todo\u4e00\u89a7\u306e1\u4ef6\u8868\u793a\u7528\u30d3\u30e5\u30fc\n (function(app) {\n-\tapp.TodoItemView = Backbone.View.extend({\n+\tapp.TodoItemView = Backbone.Marionette.ItemView.extend({\n \t\t//DOM\u306b\u8981\u7d20\u8ffd\u52a0\u306e\u30bf\u30b0\u540d\n \t\ttagName : 'tr',\n \n \t\t//\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n-\t\ttemplate : _.template($('#item-template').html()),\n+\t\ttemplate : '#todo-item-template',\n+\n+\t\tui : {\n+\t\t\tcheckBox : '.toggle',\n+\t\t\tremoveLink : '.remove-link'\n+\t\t},\n \n \t\t//DOM\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u8a2d\u5b9a\n \t\tevents : {\n \t\t\t//\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u30af\u30ea\u30c3\u30af\u6642\n-\t\t\t'click .toggle' : 'onStatusToggleClick',\n+\t\t\t'click @ui.checkBox' : 'onStatusToggleClick',\n \t\t\t//\u524a\u9664\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u6642\n-\t\t\t'click .remove-link' : 'onRemoveClick',\n+\t\t\t'click @ui.removeLink' : 'onRemoveClick',\n \t\t},\n \n-\t\tinitialize : function() {\n-\t\t\tthis.listenTo(this.model, 'destroy', this.remove);\n-\t\t},\n-\t\trender : function() {\n-\t\t\tthis.$el.html(this.template(this.model.toJSON()));\n-\t\t\treturn this;\n-\t\t},\n \t\tonStatusToggleClick : function(e) {\n \t\t\tthis.model.toggle();\n \t\t},\n\n \t\tonRemoveClick : function(e) {\n \t\t\tthis.model.destroy({\n \t\t\t\twait : true\n \t\t\t});\n \t\t},\n\n \t});\n})(app);\n```\n\n- ui\u5909\u6570\u3001events\u5909\u6570\n\t- `todo-composite-view.js`\u3068\u540c\u69d8\u306b\u66f8\u304d\u63db\u3048\u3066\u3044\u307e\u3059\u3002\n- initialize\u95a2\u6570, render\u95a2\u6570\n\t- ItemView\u304c\u63cf\u753b\u51e6\u7406\u3092\u3084\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3001\u81ea\u524d\u306e\u63cf\u753b\u51e6\u7406\u3084View\u306e\u7834\u68c4\u51e6\u7406\u7b49\u306f\u524a\u9664\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n#### todo-collection-view.js\n\n\u4eca\u56de\u306e\u4fee\u6b63\u3067\u3001\u30d3\u30e5\u30fc\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306fMarionette\u306e\u30d3\u30e5\u30fc\u540d\u306b\u5408\u308f\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002`CompositeView`\u3092\u4f7f\u7528\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u306e\u3067\u3001\n`todo-collection-view.js` \u306f\u524a\u9664\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\n#### \u5b9f\u88c5\n\n\u3067\u306f\u3001\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\uff01\n\n- :white_check_mark: `app/View/Layouts/default.ctp` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n- :white_check_mark: `app/webroot/js/app.js` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n- :white_check_mark: `app/webroot/js/routers/controller.js` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n- :white_check_mark: `app/webroot/js/views/todo-layout-view.js` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n- :white_check_mark: `app/webroot/js/views/todo-composite-view.js`\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n- :white_check_mark: `app/webroot/js/views/todo-item-view.js`\u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n- :white_check_mark: `app/webroot/js/views/todo-collection-view.js`\u3092\u524a\u9664\u3002\n- :white_check_mark: \u52d5\u4f5c\u78ba\u8a8d!\n- :white_check_mark: Git\u306b\u30b3\u30df\u30c3\u30c8\n\n**\u5b8c\u6210\u30bd\u30fc\u30b9(GitHub)\u3078\u306e\u30ea\u30f3\u30af**\n- [default.ctp](https://github.com/suzukishouten-study/rest-study/blob/2d2f9bbb5c8414186e0b83e57772e1699c9b88d2/app/View/Layouts/default.ctp)\n- [app.js](https://github.com/suzukishouten-study/rest-study/blob/2d2f9bbb5c8414186e0b83e57772e1699c9b88d2/app/webroot/js/app.js)\n- [controller.js](https://github.com/suzukishouten-study/rest-study/blob/2d2f9bbb5c8414186e0b83e57772e1699c9b88d2/app/webroot/js/routers/controller.js)\n- [todo-layout-view.js](https://github.com/suzukishouten-study/rest-study/blob/2d2f9bbb5c8414186e0b83e57772e1699c9b88d2/app/webroot/js/views/todo-layout-view.js)\n- [todo-composite-view.js](https://github.com/suzukishouten-study/rest-study/blob/2d2f9bbb5c8414186e0b83e57772e1699c9b88d2/app/webroot/js/views/todo-composite-view.js)\n- [todo-item-view.js](https://github.com/suzukishouten-study/rest-study/blob/2d2f9bbb5c8414186e0b83e57772e1699c9b88d2/app/webroot/js/views/todo-item-view.js)\n\n\nLesson3\u3078!\n\n## :large_blue_circle: Lesson 3 TODO\u8a73\u7d30\u753b\u9762\u306bMarionette\u306e\u30d3\u30e5\u30fc\u3092\u9069\u7528\n\nTODO\u8a73\u7d30\u753b\u9762\u306b\u3001Marionette\u306e\u30d3\u30e5\u30fc\u3092\u9069\u7528\u3057\u3066\u4fee\u6b63\u3057\u307e\u3059\u3002\nLesson2\u307e\u3067\u306e\u5185\u5bb9\u3067\u307b\u307c\u4fee\u6b63\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n### \u7de8\u96c6\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\n\n|\u7de8\u96c6|file|\u5f79\u5272|\n|---|:-------------------------------|:-------------|\n|\u4fee\u6b63|app/View/Layouts/default.ctp    |HTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8|\n|\u4fee\u6b63|app/webroot/js/routers/controller.js|\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9|\n|\u8ffd\u52a0|app/webroot/js/views/todo-detail-layout-view.js|\u30d3\u30e5\u30fc(LayoutView:Todo1\u4ef6\u306e\u8a73\u7d30\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u7528)|\n|\u8ffd\u52a0|app/webroot/js/views/todo-detail-item-view.js |\u30d3\u30e5\u30fc(ItemView:Todo1\u4ef6\u8868\u793a\u7528)|\n|\u524a\u9664|app/webroot/js/views/todo-detail-view.js |\u30d3\u30e5\u30fc(Todo1\u4ef6\u306e\u8a73\u7d30\u753b\u9762\u8868\u793a\u7528)|\n\n\n\n#### default.ctp\n\n\n\u8a73\u7d30\u753b\u9762\u306f\u5143\u3005View\u4e00\u3064\u3067\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001LayoutView\u3068ItemView\u306b\u5206\u3051\u307e\u3059\u3002\n\n```diff:default.ctp\n \t</td>\n \t</script>\n \n-\t<!-- \u8a73\u7d30\u753b\u9762 -->\n-\t<script type=\"text/template\" id=\"detail-template\">\n+\t<!-- \u8a73\u7d30\u753b\u9762\u306e\u30ec\u30a4\u30a2\u30a6\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n+\t<script type=\"text/template\" id=\"todo-detail-layout-template\">\n+\t<div id=\"todo-item\"></div>\n+\t</script>\n+\n+\t<!-- \u8a73\u7d30\u753b\u9762\u306e\u8868\u793a\u5185\u5bb9\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 -->\n+\t<script type=\"text/template\" id=\"todo-detail-item-template\">\n \t<h2>Todo #<%- id %></h2>\n \t<div>\n \t<textarea style=\"width:300px;height:50px\" id=\"edit-todo\" autofocus placeholder=\"Todo?\"><%- todo %></textarea>\n\n\u301c\u4e2d\u7565\u301c\n\n \t<script src=\"js/collections/todo-collection.js\" type=\"text/javascript\"></script>\n \t<!--   view   -->\n \t<script src=\"js/views/todo-item-view.js\" type=\"text/javascript\"></script>\n-\t<script src=\"js/views/todo-detail-view.js\" type=\"text/javascript\"></script>\n+\t<script src=\"js/views/todo-detail-item-view.js\" type=\"text/javascript\"></script>\n+\t<script src=\"js/views/todo-detail-layout-view.js\" type=\"text/javascript\"></script>\n \t<script src=\"js/views/todo-composite-view.js\" type=\"text/javascript\"></script>\n \t<script src=\"js/views/todo-layout-view.js\" type=\"text/javascript\"></script>\n \t<!--   controller   -->\n```\n\n- \u8a73\u7d30\u753b\u9762\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u3001LayoutView\u3067\u4f7f\u7528\u3059\u308b\u90e8\u5206\u3068ItemView\u3092\u4f7f\u7528\u3059\u308b\u90e8\u5206\u306b\u5206\u5272\u3057\u3066\u3044\u307e\u3059\u3002\n\t- LayoutView\u7528 -> `todo-detail-layout-template`\n\t- ItemView\u7528 -> `todo-detail-item-template`\n- \u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u306e\u30d3\u30e5\u30fc\u306b\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3059\u308b\u90e8\u5206\u306e\u30bf\u30b0\u3092\u8ffd\u52a0\u3057\u3001id\u3092`todo-item`\u3068\u3057\u3066\u3044\u307e\u3059\uff08\u3053\u3053\u306b\u8a73\u7d30\u8868\u793a(ItemView)\u306e\u30d3\u30e5\u30fc\u304c\u8aad\u307f\u8fbc\u307e\u308c\u307e\u3059\uff09\u3002\n- \u8a73\u7d30\u8868\u793a\u7528\u306e\u30d3\u30e5\u30fc(`todo-detail-view.js`)\u306f`todo-detail-item-view.js`\u306b\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n- \u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u306e\u30d3\u30e5\u30fc\u3001`js/views/todo-detail-layout-view.js`\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n#### controller.js\n\n\u30d3\u30e5\u30fc\u3078\u306eID\u306e\u6e21\u3057\u65b9\u3092\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\n\n```diff:controller.js\n \t\t},\n \n \t\ttodoDetail : function(id) {\n-\t\t\tthis.nextView(app.TodoDetailView, id);\n+\t\t\tthis.nextView(app.TodoDetailLayoutView, {modelId : id});\n \t\t},\n \n \t\tnextView : function(View, option) {\n \t\t\tapp.application.mainRegion.show(new View(option));\n \t\t},\n \n \t});\n })(app);\n \n```\n\n- todoDetail\u95a2\u6570\n\t- nextView\u95a2\u6570\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u5143\u3005\u306fid\u3092\u305d\u306e\u307e\u307e\u7b2c\u4e8c\u5f15\u6570\u306b\u6e21\u3057\u3066\u3044\u307e\u3057\u305f\u3002\u4fee\u6b63\u5f8c\u306f\u3001`{modelId : id}`\u3068\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u3057\u3066\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001View\u5074\u3067\u306f\u5143\u3005Initialize\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066\u305d\u306e\u307e\u307e\u4f7f\u7528\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4ed6\u306e\u7b87\u6240\u3067\u4f7f\u7528\u3059\u308b\u305f\u3081\u306bView\u306e`options`\u5909\u6570\u306b\u6e21\u3059\u305f\u3081\u306e\u4fee\u6b63\u3067\u3059\u3002\n\n#### todo-detail-layout-view.js\n\n\u30ec\u30a4\u30a2\u30a6\u30c8\u7528\u30d3\u30e5\u30fc\u3067\u3059\u3002\n\u3053\u3053\u3067\u306e\u5f79\u5272\u306f\u4e0b\u8a18\u3067\u3059\u3002\n\n- \u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u5b9a\u7fa9\n- \u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\n\t- \u30e2\u30c7\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u306f\u3001\u5143\u3005`todo-detail-view.js`\u3067\u884c\u3063\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3067\u884c\u3046\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```javascript:todo-detail-layout-view.js\nvar app = app || {};\n\n//\u8a73\u7d30\u753b\u9762\u7528\u30ec\u30a4\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\n(function(app) {\n\tapp.TodoDetailLayoutView = Backbone.Marionette.LayoutView.extend({\n\t\t//\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\t\ttemplate : '#todo-detail-layout-template',\n\n\t\tregions : {\n\t\t\titemRegion : '#todo-item',\n\t\t},\n\n\t\tonRender : function() {\n\t\t\tvar todoModel = new app.TodoModel({\n\t\t\t\tid : this.options.modelId\n\t\t\t});\n\t\t\t//\u30e2\u30c7\u30eb\u306e\u30b5\u30fc\u30d0\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u5b8c\u4e86\u6642\u3001\u63cf\u753b\u3092\u884c\u3046\n\t\t\tthis.listenTo(todoModel, 'sync', this.showItem, this);\n\t\t\t//\u30b5\u30fc\u30d0\u304b\u3089\u30c7\u30fc\u30bf\u53d6\u5f97\n\t\t\ttodoModel.fetch({\n\t\t\t\twait : true\n\t\t\t});\n\t\t},\n\n\t\tshowItem : function(todoModel) {\n\t\t\tthis.itemRegion.show( new app.TodoDetailItemView({\n\t\t\t\tmodel : todoModel\n\t\t\t}));\n\t\t},\n\n\t});\n})(app);\n```\n\n- regions\u5909\u6570\n\t- \u30ea\u30fc\u30b8\u30e7\u30f3\u3068\u3057\u3066`#todo-item`\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n- onRender\u95a2\u6570\n\t- `this.options.modelId`\u3068\u6307\u5b9a\u3057\u3001`controller.js`\u5185\u3067\u6307\u5b9a\u3057\u305f\u30e2\u30c7\u30eb\u306eID\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\t\t- View\u306e\u751f\u6210\u6642\u306b\u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001View\u5185\u3067\u3001`this.options`\u3068\u3057\u3066\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n- \u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u304b\u3089\u5b50\u30d3\u30e5\u30fc\u306e\u547c\u3073\u51fa\u3057\u306e\u6d41\u308c\u306f\u3001`collection`\u3068`model`\u306e\u9055\u3044\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u540c\u69d8\u306b\u66f8\u304d\u307e\u3059\u3002\n\n\n#### todo-detail-item-view.js\n\nItemView\u3092\u9069\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n```diff:todo-detail-item-view.js\nvar app = app || {};\n\n//\u8a73\u7d30\u30d3\u30e5\u30fc\n(function(app) {\n\tapp.TodoDetailItemView = Backbone.Marionette.ItemView.extend({\n\n\t\t//\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\t\ttemplate: \"#todo-detail-item-template\",\n\n\t\tui : {\n\t\t\ttodoStatus   : '#edit-todo',\n\t\t\tupdateButton : '#updateTodo',\n\t\t\tcancelButton : '#updateCancel'\n\t\t},\n\n\t\t//DOM\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\u8a2d\u5b9a\n\t\tevents : {\n\t\t\t//\u66f4\u65b0\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u6642\n\t\t\t'click @ui.updateButton' : 'onUpdateClick',\n\t\t\t//\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u6642\n\t\t\t'click @ui.cancelButton' : 'onCancelClick',\n\t\t},\n\n\t\t//\u521d\u671f\u5316\n\t\tinitialize: function(){\n\t\t\t_.bindAll( this, 'onSaveSuccess' );\n\t\t},\n\n\t\t//\u66f4\u65b0\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\n\t\tonUpdateClick : function() {\n\t\t\t//\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u304b\u3089\u6587\u5b57\u3092\u53d6\u5f97\n\t\t\tvar todoString = this.ui.todoStatus.val();\n\t\t\tthis.model.save({\n\t\t\t\ttodo : todoString\n\t\t\t}, {\n\t\t\t\tsilent : true,\n\t\t\t\tsuccess : this.onSaveSuccess,\n\t\t\t});\n\t\t},\n\n\t\t//\u30ad\u30e3\u30f3\u30bb\u30eb\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u306e\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\n\t\tonCancelClick : function() {\n\t\t\tthis.backTodoLists();\n\t\t},\n\n\t\t//\u66f4\u65b0\u6210\u529f\n\t\tonSaveSuccess : function() {\n\t\t\tthis.backTodoLists();\n\t\t},\n\n\t\t//TODO\u30ea\u30b9\u30c8\u753b\u9762\u306b\u623b\u308b\n\t\tbackTodoLists : function() {\n\t\t\tBackbone.history.navigate('#todo-lists', true);\n\t\t}\n\n\t});\n})(app);\n```\n\n\u4fee\u6b63\u5185\u5bb9\u306fLesson2\u3068\u307b\u307c\u540c\u69d8\u306e\u5185\u5bb9\u3067\u3059\u306e\u3067\u89e3\u8aac\u306f\u5272\u611b\u3057\u307e\u3059\u3002\n\n\n#### todo-collection-view.js\n\n\u30d3\u30e5\u30fc\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u306fMarionette\u306e\u30d3\u30e5\u30fc\u540d\u306b\u5408\u308f\u305b\u307e\u3059\u306e\u3067\u3001`todo-detail-view.js` \u306f\u524a\u9664\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n#### \u5b9f\u88c5\n\n\u3067\u306f\u3001\u5b9f\u88c5\u3057\u307e\u3057\u3087\u3046\uff01\n\n- :white_check_mark: `app/View/Layouts/default.ctp` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n- :white_check_mark: `app/webroot/js/routers/controller.js` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4fee\u6b63\u3002\n- :white_check_mark: `app/webroot/js/views/todo-detail-layout-view.js` \u3092\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n- :white_check_mark: `app/webroot/js/views/todo-detail-item-view.js`\u4e0a\u8a18\u306e\u901a\u308a\u4f5c\u6210\u3002\n- :white_check_mark: `app/webroot/js/views/todo-detail-view.js`\u3092\u524a\u9664\u3002\n- :white_check_mark: \u52d5\u4f5c\u78ba\u8a8d!\n- :white_check_mark: Git\u306b\u30b3\u30df\u30c3\u30c8\n\n\n**\u5b8c\u6210\u30bd\u30fc\u30b9(GitHub)\u3078\u306e\u30ea\u30f3\u30af**\n- [default.ctp](https://github.com/suzukishouten-study/rest-study/blob/2ad38483a86f1c451abdd8b24d042566329d7631/app/View/Layouts/default.ctp)\n- [controller.js](https://github.com/suzukishouten-study/rest-study/blob/2ad38483a86f1c451abdd8b24d042566329d7631/app/webroot/js/routers/controller.js)\n- [todo-detail-layout-view.js](https://github.com/suzukishouten-study/rest-study/blob/2ad38483a86f1c451abdd8b24d042566329d7631/app/webroot/js/views/todo-detail-layout-view.js)\n- [todo-detail-item-view.js](https://github.com/suzukishouten-study/rest-study/blob/2ad38483a86f1c451abdd8b24d042566329d7631/app/webroot/js/views/todo-detail-item-view.js)\n\n\n\n\u3053\u308c\u3067\u5b8c\u6210\u3067\u3059\uff01\n\n\n## :large_blue_circle: \u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\n\n\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\u3002\u3046\u307e\u304f\u3044\u304d\u307e\u3057\u305f\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u6700\u5f8c\u306b\u3001\u4eca\u56de\u4f7f\u7528\u3057\u305fMarionette\u306e\u4e3b\u306a\u6a5f\u80fd\u3092\u307e\u3068\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\u7406\u89e3\u3067\u304d\u3066\u3044\u308b\u304b\u3001\u30c1\u30a7\u30c3\u30af\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n### \u4eca\u56de\u4f7f\u7528\u3057\u305fMarionette\u6a5f\u80fd\u307e\u3068\u3081\n\n\u6700\u5f8c\u306b\u3001\u4eca\u56de\u4f7f\u7528\u3057\u305fMarionette\u306e\u4e3b\u306a\u6a5f\u80fd\u3092\u307e\u3068\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\u7406\u89e3\u3067\u304d\u3066\u3044\u308b\u304b\u3001\u30c1\u30a7\u30c3\u30af\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n- \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\n\t- Marionette.Application\n\t\t- \u30b9\u30bf\u30fc\u30c8\u30dd\u30a4\u30f3\u30c8\u3002\u571f\u53f0\u3068\u306a\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\t- Marionette.AppRouter\n\t\t- \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u884c\u3046\n\t- Marionette.Controller\n\t\t- \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u5f8c\u306b\u5b9f\u884c\u3059\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\n\t- Marionette.Region\n\t\t- \u30d3\u30e5\u30fc\u3092\u4e00\u3064\u7ba1\u7406\u3059\u308b\n\t- Marionette.LayoutView\n\t\t- \u30ea\u30fc\u30b8\u30e7\u30f3\u5185\u306e\u4e00\u756a\u5916\u5074\u306e\u30d3\u30e5\u30fc\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\u30ea\u30fc\u30b8\u30e7\u30f3\u3082\u5b9a\u7fa9\u3067\u304d\u308b\n\t\t- \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3067\u304d\u308b\u3002\n\t- Marionette.CollectionView\n\t\t- \u203b\u4eca\u56de\u4f7f\u7528\u3057\u3066\u3044\u307e\u305b\u3093\u3002CompositeView\u304b\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u3092\u9664\u3044\u305f\u3082\u306e\u3067\u3059\u3002\n\t\t- \u5185\u90e8\u306b\u305f\u3060ItemView\u3092\u8868\u793a\u3059\u308b\u3060\u3051\uff08\u30ea\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u7684\u306a\u8868\u793a\uff09\u306e\u5834\u5408\u7b49\u306b\u4f7f\u7528\u3059\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\t- Marionette.CompositeView\n\t\t- \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u8868\u793a\u306b\u4f7f\u7528\u3059\u308b\u3002\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u5185\u306e1\u4ef6\u8868\u793a\u7528\u306bItemView\u3092\u5185\u5305\u3059\u308b\u3002\n\t\t- \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u7528\u3067\u304d\u308b\u3002\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u30dc\u30bf\u30f3\u7b49\uff08\u8ffd\u52a0\u30dc\u30bf\u30f3\u7b49\uff09\u3092\u914d\u7f6e\u3059\u308b\u306e\u304c\u30d1\u30bf\u30fc\u30f3\u3002\n\t- Marionette.ItemView\n\t\t- \u30e2\u30c7\u30eb\u306e\u8868\u793a\u306b\u4f7f\u7528\u3059\u308b\u3002\n\t\t- \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u3092\u4f7f\u7528\u3067\u304d\u308b\u3002\u30e2\u30c7\u30eb1\u4ef6\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u30dc\u30bf\u30f3\uff08\u66f4\u65b0\u30dc\u30bf\u30f3\u7b49\uff09\u7b49\u3092\u914d\u7f6e\u3059\u308b\u306e\u304c\u30d1\u30bf\u30fc\u30f3\u3002\n- \u30d3\u30e5\u30fc\u5185\u500b\u5225\u6a5f\u80fd\n\t- ui\u5909\u6570\n\t\t- \u30d3\u30e5\u30fc\u5185\u306eHTML\u30a8\u30ec\u30e1\u30f3\u30c8\u306e\u30bb\u30ec\u30af\u30bf\u306e\u8a18\u8ff0\u3092\u4e00\u7b87\u6240\u306b\u96c6\u7d04\u3059\u308b\u3002\n\t\t- `@ui.\u301c`\u306e\u5f62\u5f0f\u3067\u30d3\u30e5\u30fc\u5185\u304b\u3089\u53c2\u7167\u53ef\u80fd\u3068\u306a\u308b\u3002\n\t- regions\u5909\u6570\n\t\t- \u7ba1\u7406\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\t- template\u5909\u6570\n\t\t- \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eID\u3092\u6307\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u81ea\u52d5\u7684\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u3066\u304f\u308c\u308b\u3002\n\t- options\u5909\u6570\n\t\t-  \u30d3\u30e5\u30fc\u306e\u521d\u671f\u5316\u6642\u306b\u6e21\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002\n\n####  \u4eca\u56de\u4f7f\u7528\u3057\u306a\u304b\u3063\u305f\u3082\u306e\n\n`triggers`\u3001`Behaviors`\u3001etc...\n\n\u3044\u308d\u3044\u308d\u3067\u3059\u3002\u8abf\u3079\u3066\u307f\u307e\u3057\u3087\u3046\uff01\n\n\n## :beers:\u98f2\u307fDev:pizza:\n\n\u4eca\u56de\u304b\u3089\u3001\u52c9\u5f37\u4f1a\u7d42\u4e86\u5f8c\u306b\u304a\u9152\u3092\u98f2\u307f\u306a\u304c\u3089\u5c45\u6b8b\u308a\u958b\u767a\u3092\u3059\u308b\u3001\u540d\u3065\u3051\u3066\u300c\u98f2\u307fDev\u300d\u3092\u3084\u308a\u307e\u3059!\n\n\u30c6\u30fc\u30de\u3092\u6319\u3052\u3066\u304a\u304d\u307e\u3059\u3002\n\u4e0b\u8a18\u3001\u3044\u3051\u308b\u3068\u3053\u308d\u307e\u3067\u884c\u304d\u307e\u3057\u3087\u3046\uff01\n\u3082\u3061\u308d\u3093\u3001\u4ed6\u306e\u6a5f\u80fd\u3092\u3064\u3051\u305f\u308a\u3001\u306a\u3093\u3067\u3082\u3084\u3063\u3066\u307f\u307e\u3057\u3087\u3046\uff01\n\n1. \u30ea\u30ed\u30fc\u30c9\u30dc\u30bf\u30f3\u3092\u3064\u3051\u308b\n2. \"\u5b8c\u4e86\u5206\u3092\u8868\u793a\u3057\u306a\u3044\"\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092\u3064\u3051\u308b\n3. \u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3092\"Done\"\u30dc\u30bf\u30f3\u306b\u5909\u66f4\u3001\u5b8c\u4e86\u5206\u306f\u8272\u3092\u5909\u3048\u308b\u3002\u5b8c\u4e86\u5206\u306f\"Todo\"\u30dc\u30bf\u30f3\u8868\u793a\u3001\u62bc\u3059\u3068\u672a\u5b8c\u4e86\u306b\u623b\u308b\u3002\n4. \u306a\u306b\u304b\u304a\u3082\u3057\u308d\u6a5f\u80fd\uff01\n\n\u3044\u3044\u611f\u3058\u306b\u3067\u304d\u305f\u3089\u767a\u8868\u3057\u3066\u304f\u3060\u3055\u3044\uff01\n\n\u4ee5\u4e0a\u3067\u3059\uff01\n\n## \u30b3\u30e1\u30f3\u30c8/\u30d5\u30a3\u30fc\u30c9\u30d0\u30c3\u30af\u304a\u5f85\u3061\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\n\u53c2\u52a0\u8005\u306e\u65b9\u3082\u3001\u305d\u3046\u3067\u306a\u3044\u65b9\u3082\u304a\u6c17\u3065\u304d\u306e\u70b9\u304c\u3042\u308c\u3070\u304a\u9858\u3044\u81f4\u3057\u307e\u3059\u3002\n\n\n\n", "tags": ["\u52c9\u5f37\u4f1a", "AWS", "rest", "CakePHP", "JavaScript"]}