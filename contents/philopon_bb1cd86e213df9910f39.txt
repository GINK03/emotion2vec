{"tags": ["altjs", "purescript0.7"], "context": " More than 1 year has passed since last update.22\u65e5\u304f\u3089\u3044\u524d\u306bpurescript-0.7\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f1!\n\u79c1\u3082\u3088\u3046\u3084\u304f\u89e6\u3063\u305f\u306e\u3067(github\u306ereleases\u898b\u308c\u3070\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c)\u5909\u66f4\u70b9\u3068\u304b\u8272\u3005\u66f8\u3044\u3066\u304a\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\u69cb\u6210\u306e\u5909\u66f4\n\u5404\u30b3\u30de\u30f3\u30c9\u306e\u5f79\u5272\u304c\u5909\u66f4\u3055\u308c\u307e\u3057\u305f!!!!!\npsc\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u524d\u306epsc-make\u30b3\u30de\u30f3\u30c9\u76f8\u5f53\u306b\u306a\u308a\u3001purescript\u30d5\u30a1\u30a4\u30eb\u304b\u3089CommonJS module\u3092\u7d4c\u305a\u306b\u5358\u4e00\u306ejavascript\u3092\u751f\u6210\u3059\u308b\u6a5f\u80fd\u306f\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002\n\u304b\u308f\u308a\u306bCommonJS modules\u304b\u3089\u5358\u4e00\u306ejs\u3092\u751f\u6210\u3059\u308bpsc-bundle\u30b3\u30de\u30f3\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\u5b9f\u884c\u65b9\u6cd5\u306a\u3069\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002\n\nInt\u578b\n\u5f85\u671b\u306eInt\u578b\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f!\n\u5f93\u6765\u306eNumber\u578b\u306f\u578b\u540d\u306f\u305d\u306e\u307e\u307e\u6b8b\u3055\u308c\u307e\u3057\u305f\u304c\u3001\u30ea\u30c6\u30e9\u30eb\u306b\u306f\u5c0f\u6570\u3092\u8868\u308f\u3059\u69d8\u306b.0\u3092\u4ed8\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\ni :: Int\ni = 12\n\nn :: Number\nn = 12.0 -- .0\u306f\u5fc5\u9808\n\nInt/Number\u306e\u5909\u63db\u7b49\u306fpurescript-integers\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u81ea\u52d5Prelude import\u306e\u5ec3\u6b62\nimport Prelude\u3092\u660e\u793a\u3057\u307e\u3057\u3087\u3046\u3002\n\u305d\u308c\u4ee5\u524d\u306bPrelude\u306f\u6700\u65e9\u540c\u68b1\u3055\u308c\u3066\u3044\u307e\u305b\u3093(!!?)\n\nPrelude\u306fpurescript-prelude\n\nControl.Monad.Eff\u4ee5\u4e0b\u306fpurescript-eff\n\nControl.Monad.ST\u306fpurescript-st\n\nDebug.Trace\u306fpurescript-console\u306eControl.Monad.Eff.Console\n\nffi\u3067\u4f7f\u3046runFn?\u306a\u3069\u306fpurescript-functions\n\n\n\u306b\u305d\u308c\u305e\u308c\u79fb\u52d5\u3055\u308c\u307e\u3057\u305f\u3002\u9069\u5b9cbower install\u3057\u3066\u4f7f\u7528\u3057\u307e\u3057\u3087\u3046\u3002\n\nArray\u95a2\u4fc2\u306e\u6574\u7406\n\u4eca\u8fc4array\u3092\u8868\u308f\u3057\u3066\u3044\u305f[a]\u8a18\u6cd5\u304c\u524a\u9664\u3055\u308c\u3001Array a\u3068\u66f8\u304f\u69d8\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001Array\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3082\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002purescript-lists\u3092\u4f7f\u7528\u3057\u307e\u3057\u3087\u3046\u3002\n(\u5f0f\u4e2d\u3067\u306e[1,2,3]\u306e\u69d8\u306a)array literal\u306f\u6709\u52b9\u3067\u3059\u3002\na :: Array a -- [a]\u306f\u5ec3\u6b62\na = [1,2,3]\n\n-- \u5ec3\u6b62\u3002purescript-lists\u3092\u4f7f\u7528\u3059\u308b\n-- head (x:xs) = x\n\n\n\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3067\u306e\u6f14\u7b97\u5b50\u306e\u7981\u6b62\n\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u306b\u6f14\u7b97\u5b50\u3092\u4f7f\u7528\u3059\u308b\u3068\u8b66\u544a\u304c\u51fa\u308b\u69d8\u306b\u306a\u308a\u307e\u3057\u305f\u3002\npurescript-0.8\u3067\u7981\u6b62\u306b\u306a\u308b\u69d8\u3067\u3059\u3002\n\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3067\u306f\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3001\u5225\u9014\u305d\u306e\u5225\u540d\u3092\u5b9a\u7fa9\u3059\u308b\u69d8\u306b\u3057\u307e\u3057\u3087\u3046\u3002\nclass Functor f where\n  map :: forall a b. (a -> b) -> f a -> f b\n\n(<$>) :: forall f a b. (Functor f) => (a -> b) -> f a -> f b\n(<$>) = map\n\n\ninline ffi\u306e\u5ec3\u6b62\ninline ffi\u306f\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002\nffi\u306f\u72ec\u7acb\u3057\u305fjs\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\nffi\u30b3\u30fc\u30c9\u4e2d\u306b\u306f//module (\u30e2\u30b8\u30e5\u30fc\u30eb\u540d)\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u542b\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nTest.js\n'use strict';\n\n// module Test\n\n// \u95a2\u6570\u306fexports.hoge\u306e\u5f62\u3067\u5b9a\u7fa9\nexports.twice = function(i){\n    return i * 2\n}\n\n\n\nTest.purs\nmodule Test where\n\nimport qualified Control.Monad.Eff.Console as Console\n\nforeign import twice :: Int -> Int\n\nmain = Console.print (twice 12)\n\n\n# \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ bower install purescript-console\n\n# shell\u306eglob\u3067\u306f\u306a\u304f\u3001purescript\u5185\u90e8\u306eglob\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30aa\u30fc\u30c8\u3067\u56f2\u3080\u306e\u304c\u30dd\u30a4\u30f3\u30c8\n$ psc 'bower_components/purescript-*/src/**/*.purs' --ffi 'bower_components/purescript-*/src/**/*.js' --ffi Test.js Test.purs\n\n# 1\u30d5\u30a1\u30a4\u30eb\u306bbundle\u3002 \u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u3001node\u306b\u7e4b\u3052\u308b\u3060\u3051\u3067\u5b9f\u884c\u53ef\u80fd\n$ psc-bundle output/**/{foreign,index}.js --module Test --main Test | node\n24\n\n\n\u305d\u306e\u4ed6\n\n\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u518dexport\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u751f\u6210\u6a5f\u80fd\u306e\u6539\u5584\n\u30d3\u30eb\u30c9\u6642\u9593/\u751f\u6210\u30b3\u30fc\u30c9\u306e\u6539\u5584\nstack\u5bfe\u5fdc\nwarning\u3057\u3066\u304f\u308c\u308b\u7a2e\u985e\u306e\u5897\u52a0\n\n\n\u6240\u611f\nghcjs\u306b\u671f\u5f85\u3057\u3066\u307e\u3059!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\n\n\n\u3082\u30460.7.1\u304c\u51fa\u3066\u3044\u308b\u00a0\u21a9\n\n\n\n22\u65e5\u304f\u3089\u3044\u524d\u306bpurescript-0.7\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f[^0.7.1]!\n\u79c1\u3082\u3088\u3046\u3084\u304f\u89e6\u3063\u305f\u306e\u3067(github\u306e[releases](https://github.com/purescript/purescript/releases)\u898b\u308c\u3070\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u304c)\u5909\u66f4\u70b9\u3068\u304b\u8272\u3005\u66f8\u3044\u3066\u304a\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30b3\u30de\u30f3\u30c9\u69cb\u6210\u306e\u5909\u66f4\n==\n\u5404\u30b3\u30de\u30f3\u30c9\u306e\u5f79\u5272\u304c\u5909\u66f4\u3055\u308c\u307e\u3057\u305f!!!!!\n\n`psc`\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u524d\u306e`psc-make`\u30b3\u30de\u30f3\u30c9\u76f8\u5f53\u306b\u306a\u308a\u3001purescript\u30d5\u30a1\u30a4\u30eb\u304b\u3089CommonJS module\u3092\u7d4c\u305a\u306b\u5358\u4e00\u306ejavascript\u3092\u751f\u6210\u3059\u308b\u6a5f\u80fd\u306f\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u304b\u308f\u308a\u306bCommonJS modules\u304b\u3089\u5358\u4e00\u306ejs\u3092\u751f\u6210\u3059\u308b`psc-bundle`\u30b3\u30de\u30f3\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u5b9f\u884c\u65b9\u6cd5\u306a\u3069\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002\n\nInt\u578b\n==\n\u5f85\u671b\u306eInt\u578b\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f!\n\n\u5f93\u6765\u306eNumber\u578b\u306f\u578b\u540d\u306f\u305d\u306e\u307e\u307e\u6b8b\u3055\u308c\u307e\u3057\u305f\u304c\u3001\u30ea\u30c6\u30e9\u30eb\u306b\u306f\u5c0f\u6570\u3092\u8868\u308f\u3059\u69d8\u306b`.0`\u3092\u4ed8\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```.hs\ni :: Int\ni = 12\n\nn :: Number\nn = 12.0 -- .0\u306f\u5fc5\u9808\n```\n\nInt/Number\u306e\u5909\u63db\u7b49\u306f[purescript-integers](https://github.com/purescript/purescript-integers)\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u81ea\u52d5Prelude import\u306e\u5ec3\u6b62\n==\n`import Prelude`\u3092\u660e\u793a\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u305d\u308c\u4ee5\u524d\u306bPrelude\u306f\u6700\u65e9\u540c\u68b1\u3055\u308c\u3066\u3044\u307e\u305b\u3093(!!?)\n\n* Prelude\u306f[purescript-prelude](https://github.com/purescript/purescript-prelude)\n* Control.Monad.Eff\u4ee5\u4e0b\u306f[purescript-eff](https://github.com/purescript/purescript-eff)\n* Control.Monad.ST\u306f[purescript-st](https://github.com/purescript/purescript-st)\n* Debug.Trace\u306f[purescript-console](https://github.com/purescript/purescript-console)\u306e`Control.Monad.Eff.Console`\n* ffi\u3067\u4f7f\u3046runFn?\u306a\u3069\u306f[purescript-functions](https://github.com/purescript/purescript-functions)\n\n\u306b\u305d\u308c\u305e\u308c\u79fb\u52d5\u3055\u308c\u307e\u3057\u305f\u3002\u9069\u5b9c`bower install`\u3057\u3066\u4f7f\u7528\u3057\u307e\u3057\u3087\u3046\u3002\n\nArray\u95a2\u4fc2\u306e\u6574\u7406\n==\n\u4eca\u8fc4array\u3092\u8868\u308f\u3057\u3066\u3044\u305f`[a]`\u8a18\u6cd5\u304c\u524a\u9664\u3055\u308c\u3001`Array a`\u3068\u66f8\u304f\u69d8\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u307e\u305f\u3001Array\u306e\u30d1\u30bf\u30fc\u30f3\u30de\u30c3\u30c1\u3082\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002[purescript-lists](https://github.com/purescript/purescript-lists)\u3092\u4f7f\u7528\u3057\u307e\u3057\u3087\u3046\u3002\n\n(\u5f0f\u4e2d\u3067\u306e`[1,2,3]`\u306e\u69d8\u306a)array literal\u306f\u6709\u52b9\u3067\u3059\u3002\n\n```.hs\na :: Array a -- [a]\u306f\u5ec3\u6b62\na = [1,2,3]\n\n-- \u5ec3\u6b62\u3002purescript-lists\u3092\u4f7f\u7528\u3059\u308b\n-- head (x:xs) = x\n```\n\n\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3067\u306e\u6f14\u7b97\u5b50\u306e\u7981\u6b62\n==\n\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u306b\u6f14\u7b97\u5b50\u3092\u4f7f\u7528\u3059\u308b\u3068\u8b66\u544a\u304c\u51fa\u308b\u69d8\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\npurescript-0.8\u3067\u7981\u6b62\u306b\u306a\u308b\u69d8\u3067\u3059\u3002\n\n\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u3067\u306f\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3001\u5225\u9014\u305d\u306e\u5225\u540d\u3092\u5b9a\u7fa9\u3059\u308b\u69d8\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n```.hs\nclass Functor f where\n  map :: forall a b. (a -> b) -> f a -> f b\n\n(<$>) :: forall f a b. (Functor f) => (a -> b) -> f a -> f b\n(<$>) = map\n```\n\ninline ffi\u306e\u5ec3\u6b62\n==\ninline ffi\u306f\u5ec3\u6b62\u3055\u308c\u307e\u3057\u305f\u3002\n\nffi\u306f\u72ec\u7acb\u3057\u305fjs\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\nffi\u30b3\u30fc\u30c9\u4e2d\u306b\u306f`//module (\u30e2\u30b8\u30e5\u30fc\u30eb\u540d)`\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u542b\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```Test.js\n'use strict';\n\n// module Test\n\n// \u95a2\u6570\u306fexports.hoge\u306e\u5f62\u3067\u5b9a\u7fa9\nexports.twice = function(i){\n    return i * 2\n}\n```\n\n```Test.purs\nmodule Test where\n\nimport qualified Control.Monad.Eff.Console as Console\n\nforeign import twice :: Int -> Int\n\nmain = Console.print (twice 12)\n```\n\n```.sh\n# \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ bower install purescript-console\n\n# shell\u306eglob\u3067\u306f\u306a\u304f\u3001purescript\u5185\u90e8\u306eglob\u3092\u4f7f\u7528\u3059\u308b\u305f\u3081\u306b\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30aa\u30fc\u30c8\u3067\u56f2\u3080\u306e\u304c\u30dd\u30a4\u30f3\u30c8\n$ psc 'bower_components/purescript-*/src/**/*.purs' --ffi 'bower_components/purescript-*/src/**/*.js' --ffi Test.js Test.purs\n\n# 1\u30d5\u30a1\u30a4\u30eb\u306bbundle\u3002 \u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3055\u308c\u308b\u306e\u3067\u3001node\u306b\u7e4b\u3052\u308b\u3060\u3051\u3067\u5b9f\u884c\u53ef\u80fd\n$ psc-bundle output/**/{foreign,index}.js --module Test --main Test | node\n24\n```\n\n\u305d\u306e\u4ed6\n==\n* \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u518dexport\n* \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u751f\u6210\u6a5f\u80fd\u306e\u6539\u5584\n* \u30d3\u30eb\u30c9\u6642\u9593/\u751f\u6210\u30b3\u30fc\u30c9\u306e\u6539\u5584\n* stack\u5bfe\u5fdc\n* warning\u3057\u3066\u304f\u308c\u308b\u7a2e\u985e\u306e\u5897\u52a0\n\n\u6240\u611f\n==\nghcjs\u306b\u671f\u5f85\u3057\u3066\u307e\u3059!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n[^0.7.1]: \u3082\u30460.7.1\u304c\u51fa\u3066\u3044\u308b\n"}