{"tags": ["SDK", "JavaScript", "nginx", "TreasureData"], "context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nTreausureData\u306bTreasureData\u793e\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308bJavaScript SDK\u3092\u7528\u3044\u3066\u30c7\u30fc\u30bf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\u57fa\u672c\u7684\u306a\u90e8\u5206\u306f\u65e2\u306bTreasureData\u793e\u306eCTO\u306e\u592a\u7530\u3055\u3093\u304cQiita\u306b\u66f8\u3044\u3066\u304f\u308c\u3066\u3044\u308b\u306e\u3067\u3053\u3061\u3089\u3067\u306f\u5b9f\u969b\u306b\u52d5\u304b\u3057\u3066\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d\u307e\u3067\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n\u74b0\u5883\n\u4ee5\u4e0b\u74b0\u5883\u60c5\u5831\u306b\u306a\u308a\u307e\u3059\u3002\n\nHTTP Client OS: Mac OS X 10.9.5\nHTTP Client \u30d6\u30e9\u30a6\u30b6: Chrome 38.0.2125.101\nHTTP Server OS: Ubunt 12.04\nHTTP Server: nginx/1.1.19\nTreasureData JavaScript SDK: 1.2.0(2014/10/16\u6642\u70b9\u6700\u65b0)\n\n\n\u524d\u63d0\u6761\u4ef6\n\u4ee5\u4e0b\u524d\u63d0\u6761\u4ef6\u3068\u306a\u308a\u307e\u3059\u3002\n\nNginx\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3002\n\u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u4f55\u304b\u3057\u3089\u306e\u30da\u30fc\u30b8(HTML\u30d5\u30a1\u30a4\u30eb)\u304c\u3042\u308b\u3053\u3068\u3002\nTreasureData\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u3053\u3068\u3002\n\n\u6ce8\uff1a\u4eca\u56de\u306f\u30fb\u30fb\u30fb\u6539\u3081\u4eca\u56de\u3082\u30fb\u30fb\u30fb\u65e5\u672c\u7248TreasureData\u3067\u3042\u308bYahoo!\u30d3\u30c3\u30b0\u30c7\u30fc\u30bf\u30a4\u30f3\u30b5\u30a4\u30c8\u306b\u5bfe\u3057\u3066\u5b9f\u65bd\u3057\u307e\u3057\u305f\u3002AWS\u7248\u306eTreasureData\u3092\u5229\u7528\u306e\u65b9\u306fEndpoint\u3092\u8aad\u307f\u66ff\u3048\u3066\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nStep:1 \u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\u306e\u4f5c\u6210\nTreasureData JavaScript SDK\u3092\u57cb\u3081\u8fbc\u3080\u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\u3092\u6e96\u5099\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5358\u7d14\u306a\u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\u3092\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\ntd_sample.html\n<!doctype html>\n<!--[if lt IE 9]><html class=\"ie8\" lang=\"ja\"><![endif]-->\n<!--[if (gte IE 9)|!(IE)]><!--><html lang=\"ja\"><!--<![endif]-->\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"format-detection\" content=\"telephone=no\">\n  <meta name=\"description\" content=\"TD JS SDK Test\">\n  <title>TD Javascript Sample</title>\n</head>\n<body data-category=\"top\">\n  <div id=\"user_info\">\n    <div id=\"user_mail\">\n    hogehoge@example.com\n    </div>\n    <div id=\"user_name\">\n    hogehoge\n    </div>\n  </div>\n</body>\n</html>\n\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\nid=\"user_mail\", id=\"user_name\"\u306b\u305d\u308c\u305e\u308chogehoge@example.com, hogehoge\u304c\u7d10\u3065\u3044\u3066\u3044\u308b\u30da\u30fc\u30b8\u3060\u3051\u3068\u306a\u308a\u307e\u3059\u3002\n\nStep2: WriteOnly API-Key\u306e\u53d6\u5f97\n\u3053\u3061\u3089\u524d\u56de\u306e\u8a18\u4e8b\u306e\u307e\u308b\u30d1\u30af\u30ea\u3067\u3059\u3002\nTreasureData\u306b\u306f\u4ee5\u4e0b\u4e8c\u3064\u306eAPI Key\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\n\n\u30d5\u30eb\u30a2\u30af\u30bb\u30b9\u6a29\u9650API-Key: DB\u4f5c\u6210\u3001\u524a\u9664\u3001\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u3001\u524a\u9664\u3001\u30af\u30a8\u30ea\u3001\u30c7\u30fc\u30bf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308bAPI-Key\nWriteOnly API-Key: \u30c7\u30fc\u30bf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306e\u307f\u3092\u884c\u3046\u3053\u3068\u304c\u51fa\u6765\u308bAPI-Key\n\n\u3053\u3053\u3067\u306f\u30c7\u30fc\u30bf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306e\u307f\u53ef\u80fd\u306aWriteOnly API-Key\u306e\u53d6\u5f97\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\nStep2-1: WebConsole\u306b\u30ed\u30b0\u30a4\u30f3\nWebConsole\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066Log in\u3057\u307e\u3059\u3002\n\n\nStep2-2: My Profile\u753b\u9762\u306e\u8868\u793a\n\u30d8\u30c3\u30c0\u30e1\u30cb\u30e5 > Account\u540d > My Profile\n\u3067My Profile\u753b\u9762\u3092\u8868\u793a\u3055\u305b\u307e\u3059\u3002\n\n\nStep2-3: Show Keys\nAPI Keys\u30d1\u30cd\u30eb\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u5f8c\u306bShow Keys\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n\nStep2-4: WriteOnly API-Key\u306e\u53d6\u5f97\n\u3053\u308c\u3067WriteOnly API-Key\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\u307e\u3060\u53d6\u5f97\u3057\u3066\u3044\u3044\u306a\u3051\u308c\u3070\u3001Generate New\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u3066\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nStep3: \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148DB/TABLE\u4f5c\u6210\n\nStep3-1: WebConsole\u306b\u30ed\u30b0\u30a4\u30f3\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u3068\u306a\u308bDB/TABLE\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nWebConsole\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066Log in\u3057\u307e\u3059\u3002\n\n\nStep3-2: DB\u4f5c\u6210\n\u30b5\u30a4\u30c9\u30e1\u30cb\u30e5\u306eDatabase\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nDatabase\u540d\u3092\u5165\u529b\u3057\u3066Create\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001js_sdk_db\u3068\u5165\u529b\u3057\u307e\u3059\u3002\n\n\nStep3-3: Table\u4f5c\u6210\n\u7d9a\u3051\u3066js_sdk_dbDB\u753b\u9762\u3067Create Table\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u5165\u529b\u3057\u3066Create Table\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306fjs_sdk_table\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\n\nStep4: JavaScript SDK\u306e\u57cb\u3081\u8fbc\u307f\nStep1\u3067\u4f5c\u6210\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\u306bTreasureData JavaScript SDK\u3092\u57cb\u3081\u8fbc\u3093\u3067\u307f\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u4ee5\u4e0b3Case\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002\n\nCase-1: \u30e6\u30fc\u30b6\u5b9a\u7fa9\u306e\u60c5\u5831\u306e\u307f\u306e\u9001\u4ed8\nCase-2: SDK\u304c\u81ea\u52d5\u3067\u53d6\u5f97\u3059\u308b\u60c5\u5831\u306e\u307f\u9001\u4ed8\nCase-3: Case1 + Case2\u306e\u60c5\u5831\u306e\u9001\u4ed8\n\n\nStep4-Case-1: \u30e6\u30fc\u30b6\u5b9a\u7fa9\u306e\u60c5\u5831\u306e\u307f\u306e\u9001\u4ed8\n\u4ee5\u4e0b\u30bd\u30fc\u30b9\u3068\u306a\u308a\u307e\u3059\u3002\n\ntd_sample_case1.html\n<!doctype html>\n<!--[if lt IE 9]><html class=\"ie8\" lang=\"ja\"><![endif]-->\n<!--[if (gte IE 9)|!(IE)]><!--><html lang=\"ja\"><!--<![endif]-->\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"format-detection\" content=\"telephone=no\">\n  <meta name=\"description\" content=\"TD JS SDK Test\">\n  <title>TD Javascript Sample</title>\n  <script type=\"text/javascript\">\n    !function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=function(t){return function(){return this[\"_\"+t]=this[\"_\"+t]||[],this[\"_\"+t].push(Array.prototype.slice.call(arguments)),this}},s=[\"addRecord\",\"set\",\"trackEvent\",\"trackPageview\",\"ready\"],n=0;n<s.length;n++){var i=s[n];e[t].prototype[i]=r(i)}var a=document.createElement(\"script\");a.type=\"text/javascript\",a.async=!0,a.src=(\"https:\"===document.location.protocol?\"https:\":\"http:\")+\"//s3.amazonaws.com/td-cdn/sdk/td-1.2.0.js\";var c=document.getElementsByTagName(\"script\")[0];c.parentNode.insertBefore(a,c)}}(\"Treasure\",this); /* JavaScript SDK \u306e\u8aad\u307f\u8fbc\u307f*/\n  </script>\n</head>\n<body data-category=\"top\">\n  <div id=\"user_info\">\n    <div id=\"user_mail\">\n    hogehoge@example.com\n    </div>\n    <div id=\"user_name\">\n    hogehoge\n    </div>\n  </div>\n<!-- TD JS SDK Start -->\n<script type=\"text/javascript\">\n  /* TreasureData Instance \u4f5c\u6210 */\n  var td = new Treasure({\n    host: 'mobile-ybi.jp-east.idcfcloud.com', /* \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a */\n    database: 'js_sdk_db', /* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6307\u5b9a */\n    writeKey: 'xxxxxxx09d147de381c3fd23c47035132dxxxxxxx' /* WriteOnly API-Key\u306e\u6307\u5b9a */\n  });\n  /* Get Data */\n  var user_mail = document.getElementById('user_mail');\n  var user_name = document.getElementById('user_name');\n  var user = {\n    id: user_mail.innerText,\n    name: user_name.innerText,\n  } /* \u30c7\u30fc\u30bf\u306e\u8a2d\u5b9a */\n  td.addRecord('js_sdk_table', user); /* \u30c7\u30fc\u30bf\u306e\u9001\u4fe1 */\n  console.log(user)\n</script> \n<!-- TD JS SDK End -->\n</body>\n</html>\n\n\nJavaScript SDK \u306e\u8aad\u307f\u8fbc\u307f\u3067TreasureData JavaScript SDK\u3092\u30ed\u30fc\u30ab\u30eb\u306b\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\nGet Data\u90e8\u5206\u3067DOM\u3092\u8aad\u307f\u8fbc\u3093\u3067id=user_mail, id= user_name\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u30bf\u30b0\u306e\u5024\u3092\u305d\u308c\u305e\u308cuser_mail, user_name\u306b\u8a2d\u5b9a\u3057\u3066\u3001\u305d\u306e\u5f8cid, name\u3068\u3044\u3046key\u3092\u6301\u3064user\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u683c\u7d0d\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u5f8ctd.addRecord\u3067\u30c7\u30fc\u30bf\u3092TreasureData\u4e0a\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u4f8b\u3067\u306f\u30a4\u30d9\u30f3\u30c8\u306e\u8a2d\u5b9a\u3082\u3057\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u30da\u30fc\u30b8\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\u5ea6\u306b\u30c7\u30fc\u30bf\u304c\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\nStep4-Case-2: SDK\u304c\u81ea\u52d5\u3067\u53d6\u5f97\u3059\u308b\u60c5\u5831\u306e\u307f\u9001\u4ed8\n\u4ee5\u4e0b\u30bd\u30fc\u30b9\u3068\u306a\u308a\u307e\u3059\u3002\n\ntd_sample_case2.html\n<!doctype html>\n<!--[if lt IE 9]><html class=\"ie8\" lang=\"ja\"><![endif]-->\n<!--[if (gte IE 9)|!(IE)]><!--><html lang=\"ja\"><!--<![endif]-->\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"format-detection\" content=\"telephone=no\">\n  <meta name=\"description\" content=\"TD JS SDK Test\">\n  <title>TD Javascript Sample</title>\n  <script type=\"text/javascript\">\n    !function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=function(t){return function(){return this[\"_\"+t]=this[\"_\"+t]||[],this[\"_\"+t].push(Array.prototype.slice.call(arguments)),this}},s=[\"addRecord\",\"set\",\"trackEvent\",\"trackPageview\",\"ready\"],n=0;n<s.length;n++){var i=s[n];e[t].prototype[i]=r(i)}var a=document.createElement(\"script\");a.type=\"text/javascript\",a.async=!0,a.src=(\"https:\"===document.location.protocol?\"https:\":\"http:\")+\"//s3.amazonaws.com/td-cdn/sdk/td-1.2.0.js\";var c=document.getElementsByTagName(\"script\")[0];c.parentNode.insertBefore(a,c)}}(\"Treasure\",this); /* JavaScript SDK \u306e\u8aad\u307f\u8fbc\u307f*/\n  </script>\n</head>\n<body data-category=\"top\">\n  <div id=\"user_info\">\n    <div id=\"user_mail\">\n    hogehoge@example.com\n    </div>\n    <div id=\"user_name\">\n    hogehoge\n    </div>\n  </div>\n<!-- TD JS SDK Start -->\n<script type=\"text/javascript\">\n  /* TreasureData Instance \u4f5c\u6210 */\n  var td = new Treasure({\n    host: 'mobile-ybi.jp-east.idcfcloud.com', /* \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a */\n    database: 'js_sdk_db', /* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6307\u5b9a */\n    writeKey: 'xxxxxxx09d147de381c3fd23c47035132dxxxxxxx' /* WriteOnly API-Key\u306e\u6307\u5b9a */\n  });\n  td.trackPageview('js_sdk_table'); /* \u30c7\u30fc\u30bf\u306e\u9001\u4fe1 */\n  console.log(user)\n</script> \n<!-- TD JS SDK End -->\n</body>\n</html>\n\n\nCase-1\u304b\u3089\u306e\u5dee\u5206\u306e\u307f\u8aac\u660e\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u53d6\u5f97\u90e8\u5206\u3068\u30c7\u30fc\u30bf\u9001\u4fe1\u90e8\u5206\u304ctd.trackPageview('js_sdk_table')\u306e\u307f\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u308c\u304c\u79c0\u9038\u3067\u4ee5\u4e0b\u306e\u60c5\u5831\u3092\u81ea\u52d5\u3067\u53d6\u5f97\u3057\u3066\u9001\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\ntd_version - td-js-sdk's version\ntd_client_id - client's uuid\ntd_charset - character set\ntd_language - browser language\ntd_color - screen color depth\ntd_screen - screen resolution\ntd_viewport - viewport size\ntd_title - document title\ntd_url - document url\ntd_host - document host\ntd_path - document pathname\ntd_referrer - document referrer\ntd_ip - request IP (server)\ntd_browser - client browser (server)\ntd_browser_version - client browser version(server)\ntd_os - client operating system (server)\ntd_os_version - client operating system version(server)\n\ntd_client_id\u306fTreasureData JavaScript SDK\u304cCookie\u4e0a\u3067\u7ba1\u7406\u3059\u308bID\u3067Cookie\u304c\u6709\u52b9\u306a\u9650\u308a\u4e00\u610f\u306b\u30e6\u30fc\u30b6\u30fc\u304c\u4f7f\u7528\u3057\u3066\u3044\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3092\u8b58\u5225\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\nStep4-Case-3: Case1 + Case2\u306e\u60c5\u5831\u306e\u9001\u4ed8\n\u4ee5\u4e0b\u30bd\u30fc\u30b9\u3068\u306a\u308a\u307e\u3059\u3002\n\ntd_sample_case3.html\n<!doctype html>\n<!--[if lt IE 9]><html class=\"ie8\" lang=\"ja\"><![endif]-->\n<!--[if (gte IE 9)|!(IE)]><!--><html lang=\"ja\"><!--<![endif]-->\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"format-detection\" content=\"telephone=no\">\n  <meta name=\"description\" content=\"TD JS SDK Test\">\n  <title>TD Javascript Sample</title>\n  <script type=\"text/javascript\">\n    !function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=function(t){return function(){return this[\"_\"+t]=this[\"_\"+t]||[],this[\"_\"+t].push(Array.prototype.slice.call(arguments)),this}},s=[\"addRecord\",\"set\",\"trackEvent\",\"trackPageview\",\"ready\"],n=0;n<s.length;n++){var i=s[n];e[t].prototype[i]=r(i)}var a=document.createElement(\"script\");a.type=\"text/javascript\",a.async=!0,a.src=(\"https:\"===document.location.protocol?\"https:\":\"http:\")+\"//s3.amazonaws.com/td-cdn/sdk/td-1.2.0.js\";var c=document.getElementsByTagName(\"script\")[0];c.parentNode.insertBefore(a,c)}}(\"Treasure\",this); /* JavaScript SDK \u306e\u8aad\u307f\u8fbc\u307f*/\n  </script>\n</head>\n<body data-category=\"top\">\n  <div id=\"user_info\">\n    <div id=\"user_mail\">\n    hogehoge@example.com\n    </div>\n    <div id=\"user_name\">\n    hogehoge\n    </div>\n  </div>\n<!-- TD JS SDK Start -->\n<script type=\"text/javascript\">\n  /* TreasureData Instance \u4f5c\u6210 */\n  var td = new Treasure({\n    host: 'mobile-ybi.jp-east.idcfcloud.com', /* \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a */\n    database: 'js_sdk_db', /* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6307\u5b9a */\n    writeKey: 'xxxxxxx09d147de381c3fd23c47035132dxxxxxxx' /* WriteOnly API-Key\u306e\u6307\u5b9a */\n  });\n  /* Get Data */\n  var user_mail = document.getElementById('user_mail');\n  var user_name = document.getElementById('user_name');\n  var user = {\n    id: user_mail.innerText,\n    name: user_name.innerText,\n  } /* \u30c7\u30fc\u30bf\u306e\u8a2d\u5b9a */\n  td.trackEvent('js_sdk_table', user); /* \u30c7\u30fc\u30bf\u306e\u9001\u4fe1 */\n  console.log(user)\n</script> \n<!-- TD JS SDK End -->\n</body>\n</html>\n\n\n\nStep5: \u30da\u30fc\u30b8\u30ed\u30fc\u30c9\nStep4\u3067\u4f5c\u6210\u3057\u305fHTML\u30d5\u30a1\u30a4\u30eb\u306b\u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u3067\u305d\u308c\u305e\u308c\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3059\u3002\n\n\n\n\nStep6: \u30c7\u30fc\u30bf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306e\u78ba\u8a8d\n\u4ee5\u4e0b\u30da\u30fc\u30b8\u30ed\u30fc\u30c9\u5f8c\u306ejs_sdk_db.js_sdk_table\u306e\u5168\u4ef6\u691c\u7d22\u7d50\u679c\u3068\u306a\u308a\u307e\u3059\u3002\nTreasureData\u793e\u304c\u63d0\u4f9b\u3059\u308bCLI\u3067\u53d6\u5f97\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n3\u4ef6\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u3044\u3066\u3001addRecord\u306b\u3064\u3044\u3066\u306fid\u3068name\u30ab\u30e9\u30e0\u3057\u304b\u306a\u304ftrackPageview\u306b\u3064\u3044\u3066\u306f\u3001id\u3068name\u4ee5\u5916\u306e\u30ab\u30e9\u30e0\u304c\u3042\u308a\u3001trackEvent\u306f\u5168\u30ab\u30e9\u30e0\u306e\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\ntd_client_id\u306bUUID\u304c\u683c\u7d0d\u3055\u308c\u3066\u304a\u308a\u3001trackPageview\u3068trackEvent\u3067\u5024\u304c\u5909\u308f\u3089\u306a\u3044\u3053\u3068\u3001\u5404\u9805\u76ee\u3092\u81ea\u52d5\u3067\u30c7\u30fc\u30bf\u53d6\u5f97\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u305d\u3057\u30663Case\u3067\u30ab\u30e9\u30e0\u304c\u5168\u3066\u7570\u306a\u308b\u30c7\u30fc\u30bf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u305b\u305f\u306e\u3067\u3059\u304c\u3001\u540c\u3058\u30c6\u30fc\u30d6\u30eb\u306b\u81ea\u52d5\u7684\u306b\u5024\u304c\u88dc\u5b8c\u3055\u308c\u3066\u30c7\u30fc\u30bf\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u3082TreasureData\u306e\u7d20\u6674\u3089\u3057\u3044\u70b9\u3067\u3059\u3002\n\nquery_result\n$ td query -w -t presto -d js_sdk_db \"SELECT * FROM js_sdk_table\"\n...\u7701\u7565...\n+----------------------+------------+----------+-----------------------+----------------+------------+--------------------------------------+---------------+--------------------+-------------+------------+----------+-----------+-------------+----------------------------------------------+-----------------+-------------+----------------------+----------+------------+\n| td_title             | td_browser | td_color | td_path               | td_ip          | td_version | td_client_id                         | td_os_version | td_browser_version | td_viewport | td_charset | td_os    | td_screen | td_referrer | td_url                                       | td_host         | td_language | id                   | name     | time       |\n+----------------------+------------+----------+-----------------------+----------------+------------+--------------------------------------+---------------+--------------------+-------------+------------+----------+-----------+-------------+----------------------------------------------+-----------------+-------------+----------------------+----------+------------+\n| null                 | null       | null     | null                  | null           | null       | null                                 | null          | null               | null        | null       | null     | null      | null        | null                                         | null            | null        | hogehoge@example.com | hogehoge | 1413427101 |\n| TD Javascript Sample | Chrome     | 24-bit   | /td_sample_case3.html | xxx.xxx.xxx.xxx | null       | c19af39f-9823-4f4f-8ff9-58f1fd3d42b1 | 10.9.5        | 38.0.2125          | 1293x401    | utf-8      | Mac OS X | 1366x768  |             | https://xxxx:40443/td_sample_case3.html | xxxx:40443 | ja          | hogehoge@example.com | hogehoge | 1413427112 |\n| TD Javascript Sample | Chrome     | 24-bit   | /td_sample_case2.html | xxx.xxx.xxx.xxx | 1.2.0      | c19af39f-9823-4f4f-8ff9-58f1fd3d42b1 | 10.9.5        | 38.0.2125          | 1293x401    | utf-8      | Mac OS X | 1366x768  |             | https://xxxx:40443/td_sample_case2.html | xxxx:40443 | ja          | null                 | null     | 1413426996 |\n+----------------------+------------+----------+-----------------------+----------------+------------+--------------------------------------+---------------+--------------------+-------------+------------+----------+-----------+-------------+----------------------------------------------+-----------------+-------------+----------------------+----------+------------+\n3 rows in set\n$\n\n\n\n\u304a\u308f\u308a\u306b\n\u30bd\u30fc\u30b9\u81ea\u4f53\u306f\nGitHub\u306b\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u3088\u308a\u8a73\u7d30\u306a\u5185\u5bb9\u3092\u77e5\u308a\u305f\u3044\u5834\u5408\u306f\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n## \u306f\u3058\u3081\u306b\nTreausureData\u306bTreasureData\u793e\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b`JavaScript SDK`\u3092\u7528\u3044\u3066\u30c7\u30fc\u30bf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n\u57fa\u672c\u7684\u306a\u90e8\u5206\u306f\u65e2\u306bTreasureData\u793e\u306eCTO\u306e\u592a\u7530\u3055\u3093\u304c[Qiita](http://qiita.com/kzk9/items/15f4e01cafa30fb8e7a5 Qiita)\u306b\u66f8\u3044\u3066\u304f\u308c\u3066\u3044\u308b\u306e\u3067\u3053\u3061\u3089\u3067\u306f\u5b9f\u969b\u306b\u52d5\u304b\u3057\u3066\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d\u307e\u3067\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n## \u74b0\u5883\n\u4ee5\u4e0b\u74b0\u5883\u60c5\u5831\u306b\u306a\u308a\u307e\u3059\u3002\n\n* HTTP Client OS: Mac OS X 10.9.5\n* HTTP Client \u30d6\u30e9\u30a6\u30b6: Chrome 38.0.2125.101\n* HTTP Server OS: Ubunt 12.04\n* HTTP Server: nginx/1.1.19\n* TreasureData JavaScript SDK: 1.2.0(2014/10/16\u6642\u70b9\u6700\u65b0)\n\n## \u524d\u63d0\u6761\u4ef6\n\u4ee5\u4e0b\u524d\u63d0\u6761\u4ef6\u3068\u306a\u308a\u307e\u3059\u3002\n\n* Nginx\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3053\u3068\u3002\n* \u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u4f55\u304b\u3057\u3089\u306e\u30da\u30fc\u30b8(HTML\u30d5\u30a1\u30a4\u30eb)\u304c\u3042\u308b\u3053\u3068\u3002\n* TreasureData\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b\u3053\u3068\u3002\n\n\u6ce8\uff1a\u4eca\u56de\u306f\u30fb\u30fb\u30fb\u6539\u3081\u4eca\u56de\u3082\u30fb\u30fb\u30fb\u65e5\u672c\u7248TreasureData\u3067\u3042\u308b`Yahoo!\u30d3\u30c3\u30b0\u30c7\u30fc\u30bf\u30a4\u30f3\u30b5\u30a4\u30c8`\u306b\u5bfe\u3057\u3066\u5b9f\u65bd\u3057\u307e\u3057\u305f\u3002AWS\u7248\u306eTreasureData\u3092\u5229\u7528\u306e\u65b9\u306fEndpoint\u3092\u8aad\u307f\u66ff\u3048\u3066\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## Step:1 \u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\u306e\u4f5c\u6210\n`TreasureData JavaScript SDK`\u3092\u57cb\u3081\u8fbc\u3080\u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\u3092\u6e96\u5099\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5358\u7d14\u306a\u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\u3092\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\n```file:td_sample.html\n<!doctype html>\n<!--[if lt IE 9]><html class=\"ie8\" lang=\"ja\"><![endif]-->\n<!--[if (gte IE 9)|!(IE)]><!--><html lang=\"ja\"><!--<![endif]-->\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"format-detection\" content=\"telephone=no\">\n  <meta name=\"description\" content=\"TD JS SDK Test\">\n  <title>TD Javascript Sample</title>\n</head>\n<body data-category=\"top\">\n  <div id=\"user_info\">\n    <div id=\"user_mail\">\n    hogehoge@example.com\n    </div>\n    <div id=\"user_name\">\n    hogehoge\n    </div>\n  </div>\n</body>\n</html>\n```\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n![js_chrome_org_page.png](https://qiita-image-store.s3.amazonaws.com/0/46472/e70a3fa1-9748-80eb-f958-b0dbe2756a36.png \"js_chrome_org_page.png\")\n\nid=\"user_mail\", id=\"user_name\"\u306b\u305d\u308c\u305e\u308chogehoge@example.com, hogehoge\u304c\u7d10\u3065\u3044\u3066\u3044\u308b\u30da\u30fc\u30b8\u3060\u3051\u3068\u306a\u308a\u307e\u3059\u3002\n\n## Step2: WriteOnly API-Key\u306e\u53d6\u5f97\n\u3053\u3061\u3089[\u524d\u56de\u306e\u8a18\u4e8b](http://qiita.com/akito1986/items/6794b75c3b3825cf2c7e \u524d\u56de\u306e\u8a18\u4e8b)\u306e\u307e\u308b\u30d1\u30af\u30ea\u3067\u3059\u3002\n\nTreasureData\u306b\u306f\u4ee5\u4e0b\u4e8c\u3064\u306e`API Key`\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\n\n* \u30d5\u30eb\u30a2\u30af\u30bb\u30b9\u6a29\u9650API-Key: DB\u4f5c\u6210\u3001\u524a\u9664\u3001\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u3001\u524a\u9664\u3001\u30af\u30a8\u30ea\u3001\u30c7\u30fc\u30bf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308bAPI-Key\n* WriteOnly API-Key: \u30c7\u30fc\u30bf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306e\u307f\u3092\u884c\u3046\u3053\u3068\u304c\u51fa\u6765\u308bAPI-Key\n\n\u3053\u3053\u3067\u306f\u30c7\u30fc\u30bf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306e\u307f\u53ef\u80fd\u306aWriteOnly API-Key\u306e\u53d6\u5f97\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n### Step2-1: WebConsole\u306b\u30ed\u30b0\u30a4\u30f3\n[WebConsole](https://console-ybi.idcfcloud.com/users/sign_in WebConsole)\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066Log in\u3057\u307e\u3059\u3002\n\n![signin_1.png](https://qiita-image-store.s3.amazonaws.com/0/46472/37e7420e-2402-301d-77fc-8bf1c124c478.png \"signin_1.png\")\n\n### Step2-2: My Profile\u753b\u9762\u306e\u8868\u793a\n\u30d8\u30c3\u30c0\u30e1\u30cb\u30e5 > Account\u540d > My Profile\n\u3067My Profile\u753b\u9762\u3092\u8868\u793a\u3055\u305b\u307e\u3059\u3002\n![console_myprofile.png](https://qiita-image-store.s3.amazonaws.com/0/46472/f0650e34-4675-4325-cac5-d9e48d2c4c1c.png \"console_myprofile.png\")\n\n### Step2-3: Show Keys\n\n`API Keys`\u30d1\u30cd\u30eb\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u5f8c\u306b`Show Keys`\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n![console_getapi1.png](https://qiita-image-store.s3.amazonaws.com/0/46472/df64ea9a-2824-f999-9c2a-61780e1b84f7.png \"console_getapi1.png\")\n\n\n### Step2-4: WriteOnly API-Key\u306e\u53d6\u5f97\n\u3053\u308c\u3067WriteOnly API-Key\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n\u307e\u3060\u53d6\u5f97\u3057\u3066\u3044\u3044\u306a\u3051\u308c\u3070\u3001`Generate New`\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u3066\u53d6\u5f97\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![console_getapi2.png](https://qiita-image-store.s3.amazonaws.com/0/46472/38a4515a-c814-0343-dd73-56f2e5596596.png \"console_getapi2.png\")\n\n## Step3: \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148DB/TABLE\u4f5c\u6210\n### Step3-1: WebConsole\u306b\u30ed\u30b0\u30a4\u30f3\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u3068\u306a\u308bDB/TABLE\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n[WebConsole](https://console-ybi.idcfcloud.com/users/sign_in WebConsole)\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066Log in\u3057\u307e\u3059\u3002\n\n![signin_1.png](https://qiita-image-store.s3.amazonaws.com/0/46472/37e7420e-2402-301d-77fc-8bf1c124c478.png \"signin_1.png\")\n\n### Step3-2: DB\u4f5c\u6210\n\u30b5\u30a4\u30c9\u30e1\u30cb\u30e5\u306eDatabase\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n![console_db_create_1_no_name.png](https://qiita-image-store.s3.amazonaws.com/0/46472/0eac0b61-7bc8-c0eb-e1b5-ede67102108d.png \"console_db_create_1_no_name.png\")\n\nDatabase\u540d\u3092\u5165\u529b\u3057\u3066Create\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001`js_sdk_db`\u3068\u5165\u529b\u3057\u307e\u3059\u3002\n![console_db_create_2_no_name.png](https://qiita-image-store.s3.amazonaws.com/0/46472/f410c51c-8f45-6fba-607a-a1e4eda70f10.png \"console_db_create_2_no_name.png\")\n\n### Step3-3: Table\u4f5c\u6210\n\u7d9a\u3051\u3066`js_sdk_db`DB\u753b\u9762\u3067`Create Table`\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\n\n![js_console_table_create1.png](https://qiita-image-store.s3.amazonaws.com/0/46472/cb39f522-e449-5f87-b643-dfbcc3854b02.png \"js_console_table_create1.png\")\n\n\u305d\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u540d\u3092\u5165\u529b\u3057\u3066`Create Table`\u30dc\u30bf\u30f3\u3092\u62bc\u4e0b\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f`js_sdk_table`\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\n![js_console_table_create2.png](https://qiita-image-store.s3.amazonaws.com/0/46472/91b219b9-6ef1-2873-e481-5c26fec5bae4.png \"js_console_table_create2.png\")\n\n## Step4: JavaScript SDK\u306e\u57cb\u3081\u8fbc\u307f\nStep1\u3067\u4f5c\u6210\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u30da\u30fc\u30b8\u306b`TreasureData JavaScript SDK`\u3092\u57cb\u3081\u8fbc\u3093\u3067\u307f\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u4ee5\u4e0b3Case\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n* Case-1: \u30e6\u30fc\u30b6\u5b9a\u7fa9\u306e\u60c5\u5831\u306e\u307f\u306e\u9001\u4ed8\n* Case-2: SDK\u304c\u81ea\u52d5\u3067\u53d6\u5f97\u3059\u308b\u60c5\u5831\u306e\u307f\u9001\u4ed8\n* Case-3: Case1 + Case2\u306e\u60c5\u5831\u306e\u9001\u4ed8\n\n### Step4-Case-1: \u30e6\u30fc\u30b6\u5b9a\u7fa9\u306e\u60c5\u5831\u306e\u307f\u306e\u9001\u4ed8\n\n\u4ee5\u4e0b\u30bd\u30fc\u30b9\u3068\u306a\u308a\u307e\u3059\u3002\n\n```file:td_sample_case1.html\n<!doctype html>\n<!--[if lt IE 9]><html class=\"ie8\" lang=\"ja\"><![endif]-->\n<!--[if (gte IE 9)|!(IE)]><!--><html lang=\"ja\"><!--<![endif]-->\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"format-detection\" content=\"telephone=no\">\n  <meta name=\"description\" content=\"TD JS SDK Test\">\n  <title>TD Javascript Sample</title>\n  <script type=\"text/javascript\">\n    !function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=function(t){return function(){return this[\"_\"+t]=this[\"_\"+t]||[],this[\"_\"+t].push(Array.prototype.slice.call(arguments)),this}},s=[\"addRecord\",\"set\",\"trackEvent\",\"trackPageview\",\"ready\"],n=0;n<s.length;n++){var i=s[n];e[t].prototype[i]=r(i)}var a=document.createElement(\"script\");a.type=\"text/javascript\",a.async=!0,a.src=(\"https:\"===document.location.protocol?\"https:\":\"http:\")+\"//s3.amazonaws.com/td-cdn/sdk/td-1.2.0.js\";var c=document.getElementsByTagName(\"script\")[0];c.parentNode.insertBefore(a,c)}}(\"Treasure\",this); /* JavaScript SDK \u306e\u8aad\u307f\u8fbc\u307f*/\n  </script>\n</head>\n<body data-category=\"top\">\n  <div id=\"user_info\">\n    <div id=\"user_mail\">\n    hogehoge@example.com\n    </div>\n    <div id=\"user_name\">\n    hogehoge\n    </div>\n  </div>\n<!-- TD JS SDK Start -->\n<script type=\"text/javascript\">\n  /* TreasureData Instance \u4f5c\u6210 */\n  var td = new Treasure({\n    host: 'mobile-ybi.jp-east.idcfcloud.com', /* \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a */\n    database: 'js_sdk_db', /* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6307\u5b9a */\n    writeKey: 'xxxxxxx09d147de381c3fd23c47035132dxxxxxxx' /* WriteOnly API-Key\u306e\u6307\u5b9a */\n  });\n  /* Get Data */\n  var user_mail = document.getElementById('user_mail');\n  var user_name = document.getElementById('user_name');\n  var user = {\n    id: user_mail.innerText,\n    name: user_name.innerText,\n  } /* \u30c7\u30fc\u30bf\u306e\u8a2d\u5b9a */\n  td.addRecord('js_sdk_table', user); /* \u30c7\u30fc\u30bf\u306e\u9001\u4fe1 */\n  console.log(user)\n</script> \n<!-- TD JS SDK End -->\n</body>\n</html>\n```\n\n`JavaScript SDK \u306e\u8aad\u307f\u8fbc\u307f`\u3067`TreasureData JavaScript SDK`\u3092\u30ed\u30fc\u30ab\u30eb\u306b\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\n\n`Get Data`\u90e8\u5206\u3067DOM\u3092\u8aad\u307f\u8fbc\u3093\u3067id=user_mail, id= user_name\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u30bf\u30b0\u306e\u5024\u3092\u305d\u308c\u305e\u308cuser_mail, user_name\u306b\u8a2d\u5b9a\u3057\u3066\u3001\u305d\u306e\u5f8cid, name\u3068\u3044\u3046key\u3092\u6301\u3064user\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u683c\u7d0d\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u5f8ctd.addRecord\u3067\u30c7\u30fc\u30bf\u3092TreasureData\u4e0a\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u4f8b\u3067\u306f\u30a4\u30d9\u30f3\u30c8\u306e\u8a2d\u5b9a\u3082\u3057\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u30da\u30fc\u30b8\u304c\u30ed\u30fc\u30c9\u3055\u308c\u308b\u5ea6\u306b\u30c7\u30fc\u30bf\u304c\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\n### Step4-Case-2: SDK\u304c\u81ea\u52d5\u3067\u53d6\u5f97\u3059\u308b\u60c5\u5831\u306e\u307f\u9001\u4ed8\n\n\u4ee5\u4e0b\u30bd\u30fc\u30b9\u3068\u306a\u308a\u307e\u3059\u3002\n\n```file:td_sample_case2.html\n<!doctype html>\n<!--[if lt IE 9]><html class=\"ie8\" lang=\"ja\"><![endif]-->\n<!--[if (gte IE 9)|!(IE)]><!--><html lang=\"ja\"><!--<![endif]-->\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"format-detection\" content=\"telephone=no\">\n  <meta name=\"description\" content=\"TD JS SDK Test\">\n  <title>TD Javascript Sample</title>\n  <script type=\"text/javascript\">\n    !function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=function(t){return function(){return this[\"_\"+t]=this[\"_\"+t]||[],this[\"_\"+t].push(Array.prototype.slice.call(arguments)),this}},s=[\"addRecord\",\"set\",\"trackEvent\",\"trackPageview\",\"ready\"],n=0;n<s.length;n++){var i=s[n];e[t].prototype[i]=r(i)}var a=document.createElement(\"script\");a.type=\"text/javascript\",a.async=!0,a.src=(\"https:\"===document.location.protocol?\"https:\":\"http:\")+\"//s3.amazonaws.com/td-cdn/sdk/td-1.2.0.js\";var c=document.getElementsByTagName(\"script\")[0];c.parentNode.insertBefore(a,c)}}(\"Treasure\",this); /* JavaScript SDK \u306e\u8aad\u307f\u8fbc\u307f*/\n  </script>\n</head>\n<body data-category=\"top\">\n  <div id=\"user_info\">\n    <div id=\"user_mail\">\n    hogehoge@example.com\n    </div>\n    <div id=\"user_name\">\n    hogehoge\n    </div>\n  </div>\n<!-- TD JS SDK Start -->\n<script type=\"text/javascript\">\n  /* TreasureData Instance \u4f5c\u6210 */\n  var td = new Treasure({\n    host: 'mobile-ybi.jp-east.idcfcloud.com', /* \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a */\n    database: 'js_sdk_db', /* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6307\u5b9a */\n    writeKey: 'xxxxxxx09d147de381c3fd23c47035132dxxxxxxx' /* WriteOnly API-Key\u306e\u6307\u5b9a */\n  });\n  td.trackPageview('js_sdk_table'); /* \u30c7\u30fc\u30bf\u306e\u9001\u4fe1 */\n  console.log(user)\n</script> \n<!-- TD JS SDK End -->\n</body>\n</html>\n```\n\nCase-1\u304b\u3089\u306e\u5dee\u5206\u306e\u307f\u8aac\u660e\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u53d6\u5f97\u90e8\u5206\u3068\u30c7\u30fc\u30bf\u9001\u4fe1\u90e8\u5206\u304c`td.trackPageview('js_sdk_table')`\u306e\u307f\u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\u3053\u308c\u304c\u79c0\u9038\u3067\u4ee5\u4e0b\u306e\u60c5\u5831\u3092\u81ea\u52d5\u3067\u53d6\u5f97\u3057\u3066\u9001\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\n* td_version - td-js-sdk's version\n* td_client_id - client's uuid\n* td_charset - character set\n* td_language - browser language\n* td_color - screen color depth\n* td_screen - screen resolution\n* td_viewport - viewport size\n* td_title - document title\n* td_url - document url\n* td_host - document host\n* td_path - document pathname\n* td_referrer - document referrer\n* td_ip - request IP (server)\n* td_browser - client browser (server)\n* td_browser_version - client browser version(server)\n* td_os - client operating system (server)\n* td_os_version - client operating system version(server)\n\n`td_client_id`\u306f`TreasureData JavaScript SDK`\u304cCookie\u4e0a\u3067\u7ba1\u7406\u3059\u308bID\u3067Cookie\u304c\u6709\u52b9\u306a\u9650\u308a\u4e00\u610f\u306b\u30e6\u30fc\u30b6\u30fc\u304c\u4f7f\u7528\u3057\u3066\u3044\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3092\u8b58\u5225\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\n### Step4-Case-3: Case1 + Case2\u306e\u60c5\u5831\u306e\u9001\u4ed8\n\u4ee5\u4e0b\u30bd\u30fc\u30b9\u3068\u306a\u308a\u307e\u3059\u3002\n\n```file:td_sample_case3.html\n<!doctype html>\n<!--[if lt IE 9]><html class=\"ie8\" lang=\"ja\"><![endif]-->\n<!--[if (gte IE 9)|!(IE)]><!--><html lang=\"ja\"><!--<![endif]-->\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"format-detection\" content=\"telephone=no\">\n  <meta name=\"description\" content=\"TD JS SDK Test\">\n  <title>TD Javascript Sample</title>\n  <script type=\"text/javascript\">\n    !function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=function(t){return function(){return this[\"_\"+t]=this[\"_\"+t]||[],this[\"_\"+t].push(Array.prototype.slice.call(arguments)),this}},s=[\"addRecord\",\"set\",\"trackEvent\",\"trackPageview\",\"ready\"],n=0;n<s.length;n++){var i=s[n];e[t].prototype[i]=r(i)}var a=document.createElement(\"script\");a.type=\"text/javascript\",a.async=!0,a.src=(\"https:\"===document.location.protocol?\"https:\":\"http:\")+\"//s3.amazonaws.com/td-cdn/sdk/td-1.2.0.js\";var c=document.getElementsByTagName(\"script\")[0];c.parentNode.insertBefore(a,c)}}(\"Treasure\",this); /* JavaScript SDK \u306e\u8aad\u307f\u8fbc\u307f*/\n  </script>\n</head>\n<body data-category=\"top\">\n  <div id=\"user_info\">\n    <div id=\"user_mail\">\n    hogehoge@example.com\n    </div>\n    <div id=\"user_name\">\n    hogehoge\n    </div>\n  </div>\n<!-- TD JS SDK Start -->\n<script type=\"text/javascript\">\n  /* TreasureData Instance \u4f5c\u6210 */\n  var td = new Treasure({\n    host: 'mobile-ybi.jp-east.idcfcloud.com', /* \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u6307\u5b9a */\n    database: 'js_sdk_db', /* \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6307\u5b9a */\n    writeKey: 'xxxxxxx09d147de381c3fd23c47035132dxxxxxxx' /* WriteOnly API-Key\u306e\u6307\u5b9a */\n  });\n  /* Get Data */\n  var user_mail = document.getElementById('user_mail');\n  var user_name = document.getElementById('user_name');\n  var user = {\n    id: user_mail.innerText,\n    name: user_name.innerText,\n  } /* \u30c7\u30fc\u30bf\u306e\u8a2d\u5b9a */\n  td.trackEvent('js_sdk_table', user); /* \u30c7\u30fc\u30bf\u306e\u9001\u4fe1 */\n  console.log(user)\n</script> \n<!-- TD JS SDK End -->\n</body>\n</html>\n```\n\n## Step5: \u30da\u30fc\u30b8\u30ed\u30fc\u30c9\nStep4\u3067\u4f5c\u6210\u3057\u305fHTML\u30d5\u30a1\u30a4\u30eb\u306b\u30d6\u30e9\u30a6\u30b6\u7d4c\u7531\u3067\u305d\u308c\u305e\u308c\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3059\u3002\n\n![js_td_sample_case1.png](https://qiita-image-store.s3.amazonaws.com/0/46472/15d8d052-c474-054c-edd7-4d5e8fab1fc7.png \"js_td_sample_case1.png\")\n\n![js_td_sample_case2.png](https://qiita-image-store.s3.amazonaws.com/0/46472/cca532ee-080d-95d2-9772-8575c9c7d198.png \"js_td_sample_case2.png\")\n\n![js_td_sample_case3.png](https://qiita-image-store.s3.amazonaws.com/0/46472/3306c40d-9895-651f-11ae-830a7060eac3.png \"js_td_sample_case3.png\")\n\n\n## Step6: \u30c7\u30fc\u30bf\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306e\u78ba\u8a8d\n\u4ee5\u4e0b\u30da\u30fc\u30b8\u30ed\u30fc\u30c9\u5f8c\u306ejs_sdk_db.js_sdk_table\u306e\u5168\u4ef6\u691c\u7d22\u7d50\u679c\u3068\u306a\u308a\u307e\u3059\u3002\nTreasureData\u793e\u304c\u63d0\u4f9b\u3059\u308bCLI\u3067\u53d6\u5f97\u3057\u3066\u304a\u308a\u307e\u3059\u3002\n\n3\u4ef6\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u3044\u3066\u3001addRecord\u306b\u3064\u3044\u3066\u306fid\u3068name\u30ab\u30e9\u30e0\u3057\u304b\u306a\u304ftrackPageview\u306b\u3064\u3044\u3066\u306f\u3001id\u3068name\u4ee5\u5916\u306e\u30ab\u30e9\u30e0\u304c\u3042\u308a\u3001trackEvent\u306f\u5168\u30ab\u30e9\u30e0\u306e\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\ntd_client_id\u306bUUID\u304c\u683c\u7d0d\u3055\u308c\u3066\u304a\u308a\u3001trackPageview\u3068trackEvent\u3067\u5024\u304c\u5909\u308f\u3089\u306a\u3044\u3053\u3068\u3001\u5404\u9805\u76ee\u3092\u81ea\u52d5\u3067\u30c7\u30fc\u30bf\u53d6\u5f97\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u305d\u3057\u30663Case\u3067\u30ab\u30e9\u30e0\u304c\u5168\u3066\u7570\u306a\u308b\u30c7\u30fc\u30bf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u305b\u305f\u306e\u3067\u3059\u304c\u3001\u540c\u3058\u30c6\u30fc\u30d6\u30eb\u306b\u81ea\u52d5\u7684\u306b\u5024\u304c\u88dc\u5b8c\u3055\u308c\u3066\u30c7\u30fc\u30bf\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u3082TreasureData\u306e\u7d20\u6674\u3089\u3057\u3044\u70b9\u3067\u3059\u3002\n\n```output:query_result\n$ td query -w -t presto -d js_sdk_db \"SELECT * FROM js_sdk_table\"\n...\u7701\u7565...\n+----------------------+------------+----------+-----------------------+----------------+------------+--------------------------------------+---------------+--------------------+-------------+------------+----------+-----------+-------------+----------------------------------------------+-----------------+-------------+----------------------+----------+------------+\n| td_title             | td_browser | td_color | td_path               | td_ip          | td_version | td_client_id                         | td_os_version | td_browser_version | td_viewport | td_charset | td_os    | td_screen | td_referrer | td_url                                       | td_host         | td_language | id                   | name     | time       |\n+----------------------+------------+----------+-----------------------+----------------+------------+--------------------------------------+---------------+--------------------+-------------+------------+----------+-----------+-------------+----------------------------------------------+-----------------+-------------+----------------------+----------+------------+\n| null                 | null       | null     | null                  | null           | null       | null                                 | null          | null               | null        | null       | null     | null      | null        | null                                         | null            | null        | hogehoge@example.com | hogehoge | 1413427101 |\n| TD Javascript Sample | Chrome     | 24-bit   | /td_sample_case3.html | xxx.xxx.xxx.xxx | null       | c19af39f-9823-4f4f-8ff9-58f1fd3d42b1 | 10.9.5        | 38.0.2125          | 1293x401    | utf-8      | Mac OS X | 1366x768  |             | https://xxxx:40443/td_sample_case3.html | xxxx:40443 | ja          | hogehoge@example.com | hogehoge | 1413427112 |\n| TD Javascript Sample | Chrome     | 24-bit   | /td_sample_case2.html | xxx.xxx.xxx.xxx | 1.2.0      | c19af39f-9823-4f4f-8ff9-58f1fd3d42b1 | 10.9.5        | 38.0.2125          | 1293x401    | utf-8      | Mac OS X | 1366x768  |             | https://xxxx:40443/td_sample_case2.html | xxxx:40443 | ja          | null                 | null     | 1413426996 |\n+----------------------+------------+----------+-----------------------+----------------+------------+--------------------------------------+---------------+--------------------+-------------+------------+----------+-----------+-------------+----------------------------------------------+-----------------+-------------+----------------------+----------+------------+\n3 rows in set\n$\n```\n\n\n## \u304a\u308f\u308a\u306b\n\u30bd\u30fc\u30b9\u81ea\u4f53\u306f\n[GitHub](https://github.com/treasure-data/td-js-sdk GitHub)\u306b\u3042\u308a\u307e\u3059\u306e\u3067\u3001\u3088\u308a\u8a73\u7d30\u306a\u5185\u5bb9\u3092\u77e5\u308a\u305f\u3044\u5834\u5408\u306f\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n"}