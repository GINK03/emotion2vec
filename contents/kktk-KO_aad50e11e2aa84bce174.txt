{"tags": ["C++", "C++14"], "context": " More than 1 year has passed since last update.\n\ninitializer list\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u63a8\u5b9a\u3055\u308c\u306a\u3044\ninitializer list\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4eee\u5f15\u6570\u304cstd::initializer_list<T>\u3067\u306a\u3044\u9650\u308a\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u63a8\u5b9a\u3067\u3001std::initializer_list\u3092\u5c0e\u304b\u306a\u3044\u3002\n\n14.8.2.5/5  Deducing template arguments from a type\nA function parameter for which the associated argument is an initializer list (8.5.4) but the parameter does not have std::initializer_list or reference to possibly cv-qualified std::initializer_list type.\n\n\u306a\u306e\u3067\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u306e\u63a8\u5b9a\u306b\u5931\u6557\u3057\u3001\u4ed6\u306b\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3055\u308c\u305f\u95a2\u6570\u304c\u306a\u3051\u308c\u3070\u3001\u95a2\u6570\u547c\u3073\u51fa\u3057\u306b\u5931\u6557\u3059\u308b\u3002\ntemplate <typename T>\nvoid f (T) {}\n\nint main () {\n    f({1, 2, 3}); // f<std::initializer_list<int>>\u304c\u547c\u3070\u308c\u3066\u6b32\u3057\u3044\u304c\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3002\n}\n\n\u3061\u306a\u307f\u306b\u3001\u95a2\u6570\u306e\u623b\u308a\u5024\u578b\u306e\u63a8\u5b9a\u3067\u3082std::initializer_list\u306f\u5c0e\u51fa\u3067\u304d\u306a\u3044\u3002\n\u5909\u6570\u5ba3\u8a00\u3067\u306eauto\u6307\u5b9a\u5b50\u3092\u4f7f\u3063\u305f\u578b\u63a8\u5b9a\u3067\u306f\u3001std::initializer_list\u3092\u5c0e\u51fa\u3067\u304d\u308b\u3002\n\n\u5bfe\u7b56\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u63a8\u5b9a\u306b\u983c\u3089\u306a\u3051\u308c\u3070\u826f\u3044\u3002\ntemplate <typename T = std::initializer_list<int>>\nvoid f (T) {}\n\nint main () {\n    f({1, 2, 3}); // \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u306e\u63a8\u5b9a\u306b\u5931\u6557\u3059\u308b\u304c\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30bf\u304c\u4ee3\u5165\u3055\u308c\u308b\u3002\n}\n\n\u305f\u3060\u3057\u3001\u3053\u306e\u65b9\u6cd5\u3067\u306f\u3001std::initializer_list\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30bf\u3092\u56fa\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\n\u6b21\u306e\u69d8\u306b\u3059\u308c\u3070\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30bf\u3092\u56fa\u5b9a\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u95a2\u6570\u547c\u3073\u51fa\u3057\u6642\u306b\u307e\u3067\u9045\u3089\u305b\u308b\u4e8b\u304c\u3067\u304d\u308b\u3002\ntemplate <typename S, typename T = std::initializer_list<S>>\nvoid f (T) {}\n\nint main () {\n    f<int>({1, 2, 3}); // std::initializr_list\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30bf\u3092\u6307\u5b9a\u3059\u308b\u3002\n}\n\n\u305f\u3060\u3057\u3001\u3044\u305a\u308c\u306b\u3057\u3066\u3082\u30e6\u30fc\u30b6\u30fc\u304c\u624b\u3067\u578b\u3092\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u4f7f\u3044\u8f9b\u3044\u3002\n\u4e0a\u624b\u3044\u65b9\u6cd5\u304c\u3042\u308c\u3070\u6559\u3048\u3066\u6b32\u3057\u3044\u3002\ninitializer list\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u63a8\u5b9a\u3055\u308c\u306a\u3044\n============================================\ninitializer list\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4eee\u5f15\u6570\u304c`std::initializer_list<T>`\u3067\u306a\u3044\u9650\u308a\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u63a8\u5b9a\u3067\u3001`std::initializer_list`\u3092\u5c0e\u304b\u306a\u3044\u3002\n>14.8.2.5/5  *Deducing template arguments from a type*\n>A function parameter for which the associated argument is an initializer list (8.5.4) but the parameter does not have std::initializer_list or reference to possibly cv-qualified std::initializer_list type.\n\n\u306a\u306e\u3067\u6b21\u306e\u30b3\u30fc\u30c9\u3067\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u306e\u63a8\u5b9a\u306b\u5931\u6557\u3057\u3001\u4ed6\u306b\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3055\u308c\u305f\u95a2\u6570\u304c\u306a\u3051\u308c\u3070\u3001\u95a2\u6570\u547c\u3073\u51fa\u3057\u306b\u5931\u6557\u3059\u308b\u3002\n\n```cpp\ntemplate <typename T>\nvoid f (T) {}\n\nint main () {\n    f({1, 2, 3}); // f<std::initializer_list<int>>\u304c\u547c\u3070\u308c\u3066\u6b32\u3057\u3044\u304c\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3002\n}\n```\n\n\u3061\u306a\u307f\u306b\u3001\u95a2\u6570\u306e\u623b\u308a\u5024\u578b\u306e\u63a8\u5b9a\u3067\u3082`std::initializer_list`\u306f\u5c0e\u51fa\u3067\u304d\u306a\u3044\u3002\n\u5909\u6570\u5ba3\u8a00\u3067\u306e`auto`\u6307\u5b9a\u5b50\u3092\u4f7f\u3063\u305f\u578b\u63a8\u5b9a\u3067\u306f\u3001`std::initializer_list`\u3092\u5c0e\u51fa\u3067\u304d\u308b\u3002\n\n\u5bfe\u7b56\n====\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u63a8\u5b9a\u306b\u983c\u3089\u306a\u3051\u308c\u3070\u826f\u3044\u3002\n\n```cpp\ntemplate <typename T = std::initializer_list<int>>\nvoid f (T) {}\n\nint main () {\n    f({1, 2, 3}); // \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5b9f\u5f15\u6570\u306e\u63a8\u5b9a\u306b\u5931\u6557\u3059\u308b\u304c\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30bf\u304c\u4ee3\u5165\u3055\u308c\u308b\u3002\n}\n```\n\n\u305f\u3060\u3057\u3001\u3053\u306e\u65b9\u6cd5\u3067\u306f\u3001`std::initializer_list`\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30bf\u3092\u56fa\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\n\u6b21\u306e\u69d8\u306b\u3059\u308c\u3070\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30bf\u3092\u56fa\u5b9a\u3059\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u95a2\u6570\u547c\u3073\u51fa\u3057\u6642\u306b\u307e\u3067\u9045\u3089\u305b\u308b\u4e8b\u304c\u3067\u304d\u308b\u3002\n\n```cpp\ntemplate <typename S, typename T = std::initializer_list<S>>\nvoid f (T) {}\n\nint main () {\n    f<int>({1, 2, 3}); // std::initializr_list\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30bf\u3092\u6307\u5b9a\u3059\u308b\u3002\n}\n```\n\n\u305f\u3060\u3057\u3001\u3044\u305a\u308c\u306b\u3057\u3066\u3082\u30e6\u30fc\u30b6\u30fc\u304c\u624b\u3067\u578b\u3092\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u3067\u3001\u4f7f\u3044\u8f9b\u3044\u3002\n\u4e0a\u624b\u3044\u65b9\u6cd5\u304c\u3042\u308c\u3070\u6559\u3048\u3066\u6b32\u3057\u3044\u3002\n"}