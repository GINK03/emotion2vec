{"context": "vagrant\u3067virtualbox\u3092\u4f7f\u3063\u3066CentOS\u3092setup\u3059\u308b\u4f8b\u306f\u591a\u3044\u304c\u3001provider\u306bparallels\u3092\u4f7f\u3063\u305f\u60c5\u5831\uff08\u3068\u3044\u3046\u3088\u308aVagrantfile\u306e\u4f8b\uff09\u304c\u5c11\u306a\u304b\u3063\u305f\u306e\u3067\u30e1\u30e2.\n\u307e\u3041\u7121\u6599\u3058\u3083\u306a\u3044\u3067\u3059\u3057\u306d\u2026\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\n\nvagrant 1.7.4\nParallels 10.2.1\nCentOS 7.1\n\n\n\u53c2\u8003URL\n\n\u516c\u5f0f Vagrant Parallels Provider\n\nprovider\u3068\u3057\u3066\u306eparallels\u306b\u95a2\u3059\u308b\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 Parallles Desktop Command Line Reference Guide\nVagrantfile\u306ecustomize\u3067\u4f7f\u3048\u308b\u30b3\u30de\u30f3\u30c9\u306f\u3001\u3053\u3053\u306eprtctl\u3092\u5185\u90e8\u3067\u547c\u3093\u3067\u3044\u308b\u306e\u3067\u8aad\u3093\u3067\u304a\u304f\u3068\u3067\u304d\u308b\u4e8b\u304c\u308f\u304b\u308b.\n\nOfficial Vagrant boxes\n\u5229\u7528\u3059\u308bimage\u306f\u3053\u3061\u3089\u3092\u53c2\u7167. parallels tools\u5165\u308a\u304c\u3042\u308b\u306e\u3067\u305d\u3061\u3089\u304c\u5409\n\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nvagrant-paralles\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVagrant\u3067parallels\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u3001vagrant-paralles\u3092\u8ffd\u52a0\u3059\u308b\n$ vagrant plugin install vagrant-parallels\n\n\nVagrantfile\u3092\u6e96\u5099\u3059\u308b\n$ mkdir -p $HOME/vagrant/centos7.1\n$ cd $HOME/vagrant/centos7.1\n$ vi Vagrantfile\n\n\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u8a2d\u5b9a\u3059\u308b.\n# -*- mode: ruby -*-\n# vi: set ft=ruby :\n\nVagrant.configure(2) do |config|\n  config.vm.box = \"parallels/centos-7.1\"\n  config.vm.network \"forwarded_port\", guest: 80, host: 8080\n  config.vm.network \"private_network\", ip: \"192.168.33.11\"\n  config.vm.synced_folder \".\", \"/data\"\n\n  config.vm.provider \"parallels\" do |v|\n    v.name = \"canvas\"\n    v.update_guest_tools = true # parallels tools\u306e\u81ea\u52d5update\u3092\u8a31\u53ef\u3059\u308b\u304b\n    v.optimize_power_consumption = false # \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304b\u30d0\u30c3\u30c6\u30ea\u30fc\u512a\u5148\u304b(\u30c7\u30d5\u30a9\u30eb\u30c8\u306ffalse)\n    v.customize [ \"set\", :id,\n                  \"--cpus\", 4,\n                  \"--memsize\", 1536,\n                  \"--autostart\", \"off\",   # parallels\u3092\u8d77\u52d5\u3055\u305b\u305f\u6642\u306e\u6319\u52d5(\u30c7\u30d5\u30a9\u30eb\u30c8\u306foff)\n                  \"--autostop\", \"suspend\" # parallels\u3092\u505c\u6b62\u3055\u305b\u305f\u6642\u306e\u6319\u52d5\u3092\u6307\u5b9a\n                ]\n  end\nend\n\nhttps://github.com/kegamin/dotfiles/blob/master/etc/vagrant/Vagrantfile.centos71.parallels\n\n\u8d77\u52d5\nvagrant up\u3067\u8d77\u52d5\u3055\u305b\u3066\u5b8c\u4e86\n\u203b Vagrantfile\u3067\u6307\u5b9a\u3057\u3066\u308b\u306e\u3067--provider=paralles\u306f\u7121\u304f\u3066\u3082OK\n$ vagrant up\nBringing machine 'default' up with 'parallels' provider...\n==> default: Checking if box 'parallels/centos-7.1' is up to date...\n==> default: Setting the name of the VM: canvas\n==> default: Preparing network interfaces based on configuration...\n    default: Adapter 0: shared\n    default: Adapter 1: hostonly\n==> default: Clearing any previously set network interfaces...\n==> default: Forwarding ports...\n    default: 80 => 8080\n==> default: Running 'pre-boot' VM customizations...\n==> default: Booting VM...\n==> default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 10.211.55.6:22\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n    default: Warning: Connection refused. Retrying...\n    default:\n    default: Vagrant insecure key detected. Vagrant will automatically replace\n    default: this with a newly generated keypair for better security.\n    default:\n    default: Inserting generated public key within guest...\n    default: Removing insecure key from the guest if it's present...\n    default: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> default: Machine booted and ready!\n==> default: Checking for Parallels Tools installed on the VM...\n==> default: Configuring and enabling network interfaces...\n==> default: Mounting shared folders...\n    default: /data => /Users/user/vagrant/centos7.1\n\n\n\nVagrant\u3067\u3067\u304d\u306a\u304b\u3063\u305f\u8a2d\u5b9a\nmac\u306e\u512a\u5148\u5ea6\u3092\u3042\u3052\u305f\u304b\u3063\u305f\u3051\u3069\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u306b\u8a72\u5f53\u3059\u308b\u90e8\u5206\u304cprtctl\u306b\u306a\u304b\u3063\u305f\u306e\u3067Vagrantfile\u3067\u5f04\u308c\u306a\u304b\u3063\u305f\u2026\u3002\u624b\u3067\u5f04\u3063\u3066\u6700\u7d42\u7684\u306b\u5909\u66f4\u3057\u305f\u3051\u3069\u3053\u3053\u306f\u3067\u304d\u306a\u3044\u306e\u304b\u306a\uff1f\n\nvagrant\u3067virtualbox\u3092\u4f7f\u3063\u3066CentOS\u3092setup\u3059\u308b\u4f8b\u306f\u591a\u3044\u304c\u3001provider\u306bparallels\u3092\u4f7f\u3063\u305f\u60c5\u5831\uff08\u3068\u3044\u3046\u3088\u308aVagrantfile\u306e\u4f8b\uff09\u304c\u5c11\u306a\u304b\u3063\u305f\u306e\u3067\u30e1\u30e2.\n\u307e\u3041\u7121\u6599\u3058\u3083\u306a\u3044\u3067\u3059\u3057\u306d\u2026\n\n# \u30d0\u30fc\u30b8\u30e7\u30f3\u60c5\u5831\n\n* vagrant 1.7.4\n* Parallels 10.2.1\n* CentOS 7.1\n\n# \u53c2\u8003URL\n\n* \u516c\u5f0f [Vagrant Parallels Provider\n](http://parallels.github.io/vagrant-parallels/)  \n  provider\u3068\u3057\u3066\u306eparallels\u306b\u95a2\u3059\u308b\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n* \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 [Parallles Desktop Command Line Reference Guide](http://download.parallels.com/desktop/v9/ga/docs/en_US/Parallels%20Command%20Line%20Reference%20Guide.pdf)  \nVagrantfile\u306ecustomize\u3067\u4f7f\u3048\u308b\u30b3\u30de\u30f3\u30c9\u306f\u3001\u3053\u3053\u306e`prtctl`\u3092\u5185\u90e8\u3067\u547c\u3093\u3067\u3044\u308b\u306e\u3067\u8aad\u3093\u3067\u304a\u304f\u3068\u3067\u304d\u308b\u4e8b\u304c\u308f\u304b\u308b.\n* [Official Vagrant boxes](https://atlas.hashicorp.com/parallels)  \n  \u5229\u7528\u3059\u308bimage\u306f\u3053\u3061\u3089\u3092\u53c2\u7167. parallels tools\u5165\u308a\u304c\u3042\u308b\u306e\u3067\u305d\u3061\u3089\u304c\u5409\n\n# \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n## vagrant-paralles\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nVagrant\u3067parallels\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u3001vagrant-paralles\u3092\u8ffd\u52a0\u3059\u308b\n\n```bash\n$ vagrant plugin install vagrant-parallels\n```\n\n## Vagrantfile\u3092\u6e96\u5099\u3059\u308b\n\n```bash\n$ mkdir -p $HOME/vagrant/centos7.1\n$ cd $HOME/vagrant/centos7.1\n$ vi Vagrantfile\n```\n\n\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u8a2d\u5b9a\u3059\u308b.\n\n```ruby\n# -*- mode: ruby -*-\n# vi: set ft=ruby :\n\nVagrant.configure(2) do |config|\n  config.vm.box = \"parallels/centos-7.1\"\n  config.vm.network \"forwarded_port\", guest: 80, host: 8080\n  config.vm.network \"private_network\", ip: \"192.168.33.11\"\n  config.vm.synced_folder \".\", \"/data\"\n\n  config.vm.provider \"parallels\" do |v|\n    v.name = \"canvas\"\n    v.update_guest_tools = true # parallels tools\u306e\u81ea\u52d5update\u3092\u8a31\u53ef\u3059\u308b\u304b\n    v.optimize_power_consumption = false # \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304b\u30d0\u30c3\u30c6\u30ea\u30fc\u512a\u5148\u304b(\u30c7\u30d5\u30a9\u30eb\u30c8\u306ffalse)\n    v.customize [ \"set\", :id,\n                  \"--cpus\", 4,\n                  \"--memsize\", 1536,\n                  \"--autostart\", \"off\",   # parallels\u3092\u8d77\u52d5\u3055\u305b\u305f\u6642\u306e\u6319\u52d5(\u30c7\u30d5\u30a9\u30eb\u30c8\u306foff)\n                  \"--autostop\", \"suspend\" # parallels\u3092\u505c\u6b62\u3055\u305b\u305f\u6642\u306e\u6319\u52d5\u3092\u6307\u5b9a\n                ]\n  end\nend\n```\n\nhttps://github.com/kegamin/dotfiles/blob/master/etc/vagrant/Vagrantfile.centos71.parallels\n\n## \u8d77\u52d5\n\n`vagrant up`\u3067\u8d77\u52d5\u3055\u305b\u3066\u5b8c\u4e86\n\u203b Vagrantfile\u3067\u6307\u5b9a\u3057\u3066\u308b\u306e\u3067`--provider=paralles`\u306f\u7121\u304f\u3066\u3082OK\n\n```bash\n$ vagrant up\nBringing machine 'default' up with 'parallels' provider...\n==> default: Checking if box 'parallels/centos-7.1' is up to date...\n==> default: Setting the name of the VM: canvas\n==> default: Preparing network interfaces based on configuration...\n    default: Adapter 0: shared\n    default: Adapter 1: hostonly\n==> default: Clearing any previously set network interfaces...\n==> default: Forwarding ports...\n    default: 80 => 8080\n==> default: Running 'pre-boot' VM customizations...\n==> default: Booting VM...\n==> default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 10.211.55.6:22\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n    default: Warning: Connection refused. Retrying...\n    default:\n    default: Vagrant insecure key detected. Vagrant will automatically replace\n    default: this with a newly generated keypair for better security.\n    default:\n    default: Inserting generated public key within guest...\n    default: Removing insecure key from the guest if it's present...\n    default: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> default: Machine booted and ready!\n==> default: Checking for Parallels Tools installed on the VM...\n==> default: Configuring and enabling network interfaces...\n==> default: Mounting shared folders...\n    default: /data => /Users/user/vagrant/centos7.1\n\n```\n\n# Vagrant\u3067\u3067\u304d\u306a\u304b\u3063\u305f\u8a2d\u5b9a\n\nmac\u306e\u512a\u5148\u5ea6\u3092\u3042\u3052\u305f\u304b\u3063\u305f\u3051\u3069\u3001\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u306b\u8a72\u5f53\u3059\u308b\u90e8\u5206\u304c`prtctl`\u306b\u306a\u304b\u3063\u305f\u306e\u3067Vagrantfile\u3067\u5f04\u308c\u306a\u304b\u3063\u305f\u2026\u3002\u624b\u3067\u5f04\u3063\u3066\u6700\u7d42\u7684\u306b\u5909\u66f4\u3057\u305f\u3051\u3069\u3053\u3053\u306f\u3067\u304d\u306a\u3044\u306e\u304b\u306a\uff1f\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-07 12.21.37.png](https://qiita-image-store.s3.amazonaws.com/0/31824/57720555-7208-f1d1-fd88-d20b8dcbd730.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2015-08-07 12.21.37.png\")\n\n", "tags": ["Parallels", "CentOS", "vagrant"]}