{"context": " More than 1 year has passed since last update.\n\n\u8ab2\u984c\n\u6700\u8fd1\u826f\u304f\u540d\u524d\u3092\u805e\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u304c\u901f\u5ea6\u304c\u65e9\u304f\u3066\u826f\u3044\u7684\u306a\u8a71\u3092\u3057\u3066\u305f\u3082\u306e\u306e\u3001\u30bd\u30b1\u30c3\u30c8\u3063\u3066\u305d\u3093\u306a\u306b\u6700\u8fd1\u51fa\u3066\u304d\u305f\u3088\u3046\u306a\u3053\u3068\u3060\u3063\u3051\u304b\uff1f\u3068\u66d6\u6627\u306b\u306a\u3063\u305f\u306e\u3067\u8abf\u3079\u306a\u304d\u3083\u5bdd\u308c\u306a\u3044\uff01\u3068\u3044\u3046\u3053\u3068\u3067\u8abf\u3079\u3066\u307f\u305f\n\n\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u7a2e\u985e\n\u901a\u4fe1\u3068\u3044\u3048\u3070TCP/UDP\u3060\u308d\u3046\u3068\u518d\u5ea6\u78ba\u8a8d\n\n\n\n\u30d7\u30ed\u30c8\u30b3\u30eb\n\u6982\u8981\n\u5099\u8003\n\n\n\n\nTCP/IP\n\u4fe1\u983c\u6027\u304c\u9ad8\u3044\n\u30c7\u30fc\u30bf\u30b0\u30e9\u30e0(\u96fb\u6587)\u304c\u5c4a\u3044\u305f\u304b\u3069\u3046\u304b\u3092\u8aa4\u308a\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u3066\u3001\u5c4a\u3044\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u518d\u9001\u8981\u6c42\u3092\u3059\u308b\u3002\u5230\u7740\u9806\u5e8f\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u3066\u3001\u5230\u7740\u3057\u305f\u30c7\u30fc\u30bf\u306f\u4e26\u3079\u66ff\u3048\u3089\u308c\u308b\u3002\u305d\u308c\u3089\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u306f\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\n\n\nUDP/IP\n\u57fa\u672c\u7684\u306a\u901a\u4fe1\n\u30c7\u30fc\u30bf\u30b0\u30e9\u30e0(\u96fb\u6587)\u306f\u4e00\u65b9\u7684\u306b\u9001\u4fe1\u3055\u308c\u3001\u76f8\u624b\u306b\u5c4a\u3044\u305f\u304b\u3069\u3046\u304b\u306e\u30c1\u30a7\u30c3\u30af\u7b49\u306f\u3057\u306a\u3044\u3002\u30a8\u30e9\u30fc\u306e\u691c\u77e5\u306f\u3057\u306a\u3044\u3002\u5909\u306a\u53d7\u4fe1\u30c7\u30fc\u30bf\u3082\u305f\u3060\u7834\u68c4\u3055\u308c\u308b\u306e\u307f\u306e\u305f\u3081\u3001\u305d\u306e\u5206\u5358\u7d14\u3067\u9ad8\u901f\u3002\n\n\n\n\u305f\u3060\u3001\u30bd\u30b1\u30c3\u30c8\u306e\u8a71\u306f\u3053\u3053\u3067\u306f\u51fa\u3066\u3053\u306a\u3044\n\n\u30bd\u30b1\u30c3\u30c8\u306f\u3069\u3053\u306e\u8a71\u304b\uff1f\n\u30bd\u30b1\u30c3\u30c8\u306e\u30bf\u30a4\u30d7\n\nOSI\u53c2\u7167\u30e2\u30c7\u30eb\u3067\u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u5c64\u90e8\u5206\u3002TCP/UDP\u3088\u308a\u4e0a\u306e\u30ec\u30a4\u30e4\u30fc\u3060\u3063\u305f\u3002\n\n\u3042\u308c\uff1f\u30bd\u30b1\u30c3\u30c8\u3063\u3066\u666e\u901a\u306e\u901a\u4fe1\u3058\u3083\u306d\uff1f\n\u30bd\u30b1\u30c3\u30c8\u306b\u3082\u7a2e\u985e\u304c\u3042\u308b\u306e\u304b\u8abf\u3079\u3066\u307f\u305f\u3002\n\n\n\n\u30bd\u30b1\u30c3\u30c8\n\u6982\u8981\n\u7279\u5b9a\u65b9\u6cd5\n\u901a\u4fe1\u7b87\u6240\n\n\n\n\nINET\u30c9\u30e1\u30a4\u30f3\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u30de\u30b7\u30f3\u3092\u8d8a\u3048\u3066\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\nIP\u30a2\u30c9\u30ec\u30b9+\u30dd\u30fc\u30c8\u756a\u53f7\n\u4ed6\u30de\u30b7\u30f3\u3068\u901a\u4fe1\u53ef\n\n\nUNIX\u30c9\u30e1\u30a4\u30f3\n\u540c\u3058\u30de\u30b7\u30f3\u4e0a\u3067\u52d5\u3044\u3066\u3044\u308b\u30d7\u30ed\u30bb\u30b9\u304c\u901a\u4fe1\u3092\u884c\u3046\u305f\u3081\u306e\u30bd\u30b1\u30c3\u30c8\u3002\u30a2\u30c9\u30ec\u30b9\u30fb\u540d\u524d\u7a7a\u9593\u3068\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u5185\u306einode\u3068\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u53c2\u7167\u3055\u308c\u308b\u3002\n\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u4e00\u81f4\n\u81ea\u30de\u30b7\u30f3\u306e\u307f\n\n\n\n\u306a\u308b\u307b\u3069\u3001\u6700\u8fd1\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3001\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3068\u8a00\u3063\u3066\u308b\u306e\u306fUNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306e\u4e8b\u304b\uff01\n\nUNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u3063\u3066\u4f55\u304c\u3044\u3044\u306e\uff1f\nPerformance Analysis of Various Mechanisms for Inter-process Communication\u306b\u7d20\u6674\u3089\u3057\u3044\u691c\u8a3c\u304c\u3042\u3063\u305f\u3002\n\nIt was hypothesized that pipes would have the highest throughtput due to its limited functionality, since it is half-duplex, but this was not true. For almost all of the data sizes transferred, Unix domain sockets performed better than both TCP sockets and pipes, as can be seen in Figure 1 below.\nOn some machines, Unix domain sockets reached transfer rates as high as 1500 MB/s. \n\n\nUNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306f\u3001TCP\u30bd\u30b1\u30c3\u30c8(INET\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8)\u3088\u308a\u3082\u9065\u304b\u306b\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u304c\u512a\u308c\u3066\u308b\u3089\u3057\u3044\u3002Solaris(UltraSPARC processor)\u3067\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u9055\u3044\u304b\u3089UNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306e\u307b\u3046\u304c\u9045\u3044\u3089\u3057\u3044\u3002\n\u3088\u3057\u3001\u3053\u308c\u3067\u5bdd\u308c\u308b\nRedis \u30b3\u30a2\u958b\u767a\u8005 @pnoordhuis \u306e\u30c4\u30a4\u30fc\u30c8\n\nTIL that \"an abstract socket address is distinguished by the fact that sun_path[0] is a null byte ('\\0')\". Anybody knows why this exists?\n\n\u3048\u30fc\u3068\u3001\u62bd\u8c61\u540d\u524d\u7a7a\u9593\u30bd\u30b1\u30c3\u30c8\uff1f\uff1f\u307e\u3060\u3001UNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306b\u3082\u7a2e\u985e\u304c\u3042\u308b\u306e\u304b\uff1f\n\nUNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306e\u7a2e\u985e\nunix - sockets for local interprocess communication\n\n\n\n\u7a2e\u985e\n\u6982\u8981\n\n\n\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30d1\u30b9\u540d(pathname)\n\u304d\u3063\u3068\u4e00\u756a\u77e5\u3089\u308c\u3066\u3044\u308b\u4e00\u822c\u7684\u306a\u624b\u6cd5\u3002bind(2)\u3092\u4f7f\u7528\u3057\u3066\u3001NULL\u7d42\u7aef(\\0)\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u30d1\u30b9\u306b\u7d50\u3073\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8abf\u6574\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3059\u308b\u3068\u304d\u306b\u306f\u3001unlink(2)\u3067\u540d\u524d\u3092\u524a\u9664\u3057\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u305d\u308c\u304c\u53c2\u7167\u3057\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3082\u524a\u9664\u3059\u308b\u306e\u304c\u304a\u4f5c\u6cd5\u3002\n\n\n\u7121\u540d(unnamed)\n\nbind(2)\u3092\u4f7f\u3063\u3066\u30d1\u30b9\u540d\u306b\u7d50\u3073\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u30b9\u30c8\u30ea\u30fc\u30e0\u578b\u306e\u30bd\u30b1\u30c3\u30c8\u306f\u540d\u524d\u3092\u6301\u305f\u306a\u3044\u3002socketpair(2)\u3092\u4f7f\u3046\u3068\u3001\u540d\u524d\u306e\u3064\u3044\u3066\u3044\u306a\u3044 CONNECTED \u306a\u30bd\u30b1\u30c3\u30c8\u306e\u30da\u30a2\u304c\u751f\u6210\u3055\u308c\u308b\u3002fork \u3057\u3066\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u30fc\u3092\u7e4b\u304e\u76f4\u3057\u3066\u3042\u3052\u308c\u3070\u3001pipe \u3067\u5b9f\u73fe\u3059\u308b\u306e\u3068\u540c\u3058\u3088\u3046\u306a\u53cc\u65b9\u5411\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u304c\u3067\u304d\u308b\u3002\n\n\n\u62bd\u8c61\u540d\u524d\u7a7a\u9593(abstract)\nsun_path\u306b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u3067\u306f\u306a\u304f\u3001NULL\u30d0\u30a4\u30c8(\\0)\u3067\u3042\u308b\u3053\u3068\u3067\u533a\u5225\u3055\u308c\u308b\u3002NULL\u30d0\u30a4\u30c8\u4ee5\u964d\u306b\u540d\u524d(\u6587\u5b57\u5217)\u3092\u6e21\u3059\u304c\u3001\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u540d\u3068\u306f\u95a2\u4fc2\u306a\u3044\u3002\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3068\u7d10\u4ed8\u3044\u3066\u3044\u306a\u3044\u306e\u3067\u3001 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306a\u3069\u306b\u95a2\u4fc2\u306a\u304f\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3067\u304d\u3066\u3057\u307e\u3046\u3002Linux\u3067\u306e\u307f\u5229\u7528\u53ef\u80fd\u3002unlink(2)\u3067\u7d42\u4e86\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u3002\n\n\n\n\n\u3069\u306eUNIX\u30c9\u30e1\u30a4\u30f3\u304b\u3092\u898b\u6975\u3081\u308b\u306b\u306f\n$netstat -al --protocol=unix \u3067\u78ba\u8a8d\u3059\u308b\n\n\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30d1\u30b9\u540d\nI-Node path\u90e8\u5206\u306b\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u540d\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\nActive UNIX domain sockets (only servers)\nProto RefCnt Flags       Type       State         I-Node Path\nunix  2      [ ACC ]     STREAM     LISTENING     154823 /var/lib/mysql/mysql.sock\n\n\n\u7121\u540d\nI-Node\u306f\u5272\u308a\u632f\u3089\u308c\u308b\u304c\u3001path\u306f\u8868\u793a\u3055\u308c\u306a\u3044\nActive UNIX domain sockets (only servers)\nProto RefCnt Flags       Type       State         I-Node Path\nunix  3      [ ]         STREAM     CONNECTED     175322\n\n\n\u62bd\u8c61\u540d\u524d\u7a7a\u9593\nI-Node path\u90e8\u5206\u306b@\u304c\u3064\u3044\u305f\u540d\u524d\u304c\u8868\u793a\u3055\u308c\u308b\nActive UNIX domain sockets (only servers)\nProto RefCnt Flags       Type       State         I-Node Path\nunix  2      [ ACC ]     STREAM     LISTENING     6653   @/com/ubuntu/upstart\n\n\nUNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9\n\n\n\n\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\n\u6982\u8981\n\u7a2e\u985e\n\u4f7f\u7528\u65b9\u6cd5\n\u9023\u643a\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\n\n\n\n\nNginx\nweb server\npathname\nserver divective\nunicorn, gunicorn, php-fpm, etc...\n\n\nUnicorn\nap server\npathname\nPublic Instance Methods\n\n\n\nMysql\ndb server\npathname\n\n\n\n\nRedis\nKVS\npathname\nHow fast is Redis?\n\n\n\nMemcached\nKVS\npathname\nUsing memcached\n\n\n\nupstart\ndeamon\nabstract\n\n\n\n\nsytemd\ndeamon\nabstract\n\n\n\n\nOS?\nkernel\u30d7\u30ed\u30bb\u30b9?\nunnamed\n\n\n\n\n\n\n\u307e\u3068\u3081\n\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u306f\u4eca\u5ea6\u304b\u3089UNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3068\u8a00\u3046\u3053\u3068(\u3069\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u3082\u3061\u3083\u3093\u3068\u66f8\u3044\u3066\u3042\u3063\u305f\u3051\u3069\u7b11)\u3002TCP\u3067\u63a5\u7d9a\u3059\u308b\u3053\u3068\u3070\u3063\u304b\u308a\u3084\u3063\u3066\u304d\u305f\u306e\u3067\u3001\u6c17\u306b\u3082\u3057\u3066\u306a\u304b\u3063\u305f\u304cKVS\u3068\u304b\u306e\u63a5\u7d9a\u306fUNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u306b\u3057\u305f\u3089\u3082\u3046\u5c11\u3057\u52b9\u7387\u3088\u304f\u4f7f\u3048\u308b\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u3002\u307e\u3060\u307e\u3060\u3001\u8abf\u3079\u305f\u3089\u3044\u308d\u3044\u308d\u3042\u308a\u305d\u3046\u306a\u306e\u3067\u7d99\u7d9a\u8abf\u67fb\u3002\n\u3082\u3046\u5bdd\u307e\u3059\u7b11\n\n#\u8ab2\u984c\n\n\u6700\u8fd1\u826f\u304f\u540d\u524d\u3092\u805e\u304f\u3088\u3046\u306b\u306a\u3063\u305f\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u304c\u901f\u5ea6\u304c\u65e9\u304f\u3066\u826f\u3044\u7684\u306a\u8a71\u3092\u3057\u3066\u305f\u3082\u306e\u306e\u3001\u30bd\u30b1\u30c3\u30c8\u3063\u3066\u305d\u3093\u306a\u306b\u6700\u8fd1\u51fa\u3066\u304d\u305f\u3088\u3046\u306a\u3053\u3068\u3060\u3063\u3051\u304b\uff1f\u3068\u66d6\u6627\u306b\u306a\u3063\u305f\u306e\u3067\u8abf\u3079\u306a\u304d\u3083\u5bdd\u308c\u306a\u3044\uff01\u3068\u3044\u3046\u3053\u3068\u3067\u8abf\u3079\u3066\u307f\u305f\n\n#\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u7a2e\u985e\n\n\u901a\u4fe1\u3068\u3044\u3048\u3070TCP/UDP\u3060\u308d\u3046\u3068\u518d\u5ea6\u78ba\u8a8d\n\n|\u30d7\u30ed\u30c8\u30b3\u30eb|\u6982\u8981|\u5099\u8003|\n|----|-------------------|----------------|\n|TCP/IP|\u4fe1\u983c\u6027\u304c\u9ad8\u3044|\u30c7\u30fc\u30bf\u30b0\u30e9\u30e0(\u96fb\u6587)\u304c\u5c4a\u3044\u305f\u304b\u3069\u3046\u304b\u3092\u8aa4\u308a\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u3066\u3001\u5c4a\u3044\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u518d\u9001\u8981\u6c42\u3092\u3059\u308b\u3002<br>\u5230\u7740\u9806\u5e8f\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u3066\u3001\u5230\u7740\u3057\u305f\u30c7\u30fc\u30bf\u306f\u4e26\u3079\u66ff\u3048\u3089\u308c\u308b\u3002<br>\u305d\u308c\u3089\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u306f\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b|\n|UDP/IP|\u57fa\u672c\u7684\u306a\u901a\u4fe1|\u30c7\u30fc\u30bf\u30b0\u30e9\u30e0(\u96fb\u6587)\u306f\u4e00\u65b9\u7684\u306b\u9001\u4fe1\u3055\u308c\u3001\u76f8\u624b\u306b\u5c4a\u3044\u305f\u304b\u3069\u3046\u304b\u306e\u30c1\u30a7\u30c3\u30af\u7b49\u306f\u3057\u306a\u3044\u3002<br>\u30a8\u30e9\u30fc\u306e\u691c\u77e5\u306f\u3057\u306a\u3044\u3002\u5909\u306a\u53d7\u4fe1\u30c7\u30fc\u30bf\u3082\u305f\u3060\u7834\u68c4\u3055\u308c\u308b\u306e\u307f\u306e\u305f\u3081\u3001\u305d\u306e\u5206\u5358\u7d14\u3067\u9ad8\u901f\u3002|\n\n\u305f\u3060\u3001\u30bd\u30b1\u30c3\u30c8\u306e\u8a71\u306f\u3053\u3053\u3067\u306f\u51fa\u3066\u3053\u306a\u3044\n\n#\u30bd\u30b1\u30c3\u30c8\u306f\u3069\u3053\u306e\u8a71\u304b\uff1f\n\n\u30bd\u30b1\u30c3\u30c8\u306e\u30bf\u30a4\u30d7\n![osi.png](https://qiita-image-store.s3.amazonaws.com/0/8726/f0a56f73-b1f5-95bb-8dba-59d889e76e62.png \"osi.png\")\n\nOSI\u53c2\u7167\u30e2\u30c7\u30eb\u3067\u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u5c64\u90e8\u5206\u3002TCP/UDP\u3088\u308a\u4e0a\u306e\u30ec\u30a4\u30e4\u30fc\u3060\u3063\u305f\u3002\n\n#\u3042\u308c\uff1f\u30bd\u30b1\u30c3\u30c8\u3063\u3066\u666e\u901a\u306e\u901a\u4fe1\u3058\u3083\u306d\uff1f\n\n\u30bd\u30b1\u30c3\u30c8\u306b\u3082\u7a2e\u985e\u304c\u3042\u308b\u306e\u304b\u8abf\u3079\u3066\u307f\u305f\u3002\n\n|\u30bd\u30b1\u30c3\u30c8|\u6982\u8981|\u7279\u5b9a\u65b9\u6cd5|\u901a\u4fe1\u7b87\u6240|\n|---|---|---|---|\n|INET\u30c9\u30e1\u30a4\u30f3|\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u30de\u30b7\u30f3\u3092\u8d8a\u3048\u3066\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1|IP\u30a2\u30c9\u30ec\u30b9+\u30dd\u30fc\u30c8\u756a\u53f7|\u4ed6\u30de\u30b7\u30f3\u3068\u901a\u4fe1\u53ef|\n|UNIX\u30c9\u30e1\u30a4\u30f3|\u540c\u3058\u30de\u30b7\u30f3\u4e0a\u3067\u52d5\u3044\u3066\u3044\u308b\u30d7\u30ed\u30bb\u30b9\u304c\u901a\u4fe1\u3092\u884c\u3046\u305f\u3081\u306e\u30bd\u30b1\u30c3\u30c8\u3002<br>\u30a2\u30c9\u30ec\u30b9\u30fb\u540d\u524d\u7a7a\u9593\u3068\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3002<br>\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u5185\u306einode\u3068\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u53c2\u7167\u3055\u308c\u308b\u3002|\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u4e00\u81f4|\u81ea\u30de\u30b7\u30f3\u306e\u307f|\n\n\u306a\u308b\u307b\u3069\u3001\u6700\u8fd1\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3001\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3068\u8a00\u3063\u3066\u308b\u306e\u306fUNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306e\u4e8b\u304b\uff01\n\n#UNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u3063\u3066\u4f55\u304c\u3044\u3044\u306e\uff1f\n\n[Performance Analysis of Various Mechanisms for Inter-process Communication](http://osnet.cs.binghamton.edu/publications/TR-20070820.pdf)\u306b\u7d20\u6674\u3089\u3057\u3044\u691c\u8a3c\u304c\u3042\u3063\u305f\u3002\n\n> It was hypothesized that pipes would have the highest throughtput due to its limited functionality, since it is half-duplex, but this was not true. For almost all of the data sizes transferred, Unix domain sockets performed better than both TCP sockets and pipes, as can be seen in Figure 1 below.\n\n> On some machines, Unix domain sockets reached transfer rates as high as 1500 MB/s. \n\n![osnet_cs_binghamton_edu_publications_TR-20070820_pdf-2.png](https://qiita-image-store.s3.amazonaws.com/0/8726/a8ab6c05-5b5a-d951-c89a-5104846c19c8.png \"osnet_cs_binghamton_edu_publications_TR-20070820_pdf-2.png\")\n\nUNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306f\u3001TCP\u30bd\u30b1\u30c3\u30c8(INET\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8)\u3088\u308a\u3082\u9065\u304b\u306b\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u304c\u512a\u308c\u3066\u308b\u3089\u3057\u3044\u3002Solaris(UltraSPARC processor)\u3067\u306f\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u9055\u3044\u304b\u3089UNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306e\u307b\u3046\u304c\u9045\u3044\u3089\u3057\u3044\u3002\n\n\u3088\u3057\u3001\u3053\u308c\u3067\u5bdd\u308c\u308b\n\n[Redis \u30b3\u30a2\u958b\u767a\u8005 @pnoordhuis \u306e\u30c4\u30a4\u30fc\u30c8](https://twitter.com/pnoordhuis/status/195614999283109888)\n\n> TIL that \"an abstract socket address is distinguished by the fact that sun_path[0] is a null byte ('\\0')\". Anybody knows why this exists?\n\n\u3048\u30fc\u3068\u3001\u62bd\u8c61\u540d\u524d\u7a7a\u9593\u30bd\u30b1\u30c3\u30c8\uff1f\uff1f\u307e\u3060\u3001UNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306b\u3082\u7a2e\u985e\u304c\u3042\u308b\u306e\u304b\uff1f\n\n#UNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306e\u7a2e\u985e\n\n[unix - sockets for local interprocess communication](http://man7.org/linux/man-pages/man7/unix.7.html)\n\n|\u7a2e\u985e|\u6982\u8981|\n|---|---|\n|\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30d1\u30b9\u540d(pathname)|\u304d\u3063\u3068\u4e00\u756a\u77e5\u3089\u308c\u3066\u3044\u308b\u4e00\u822c\u7684\u306a\u624b\u6cd5\u3002[bind(2)](http://linuxjm.sourceforge.jp/html/LDP_man-pages/man2/bind.2.html)\u3092\u4f7f\u7528\u3057\u3066\u3001NULL\u7d42\u7aef(\\0)\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u306e\u30d1\u30b9\u306b\u7d50\u3073\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8abf\u6574\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3059\u308b\u3068\u304d\u306b\u306f\u3001[unlink(2)](http://linuxjm.sourceforge.jp/html/LDP_man-pages/man2/unlink.2.html)\u3067\u540d\u524d\u3092\u524a\u9664\u3057\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u305d\u308c\u304c\u53c2\u7167\u3057\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3082\u524a\u9664\u3059\u308b\u306e\u304c\u304a\u4f5c\u6cd5\u3002\n|\u7121\u540d(unnamed)|[bind(2)](http://linuxjm.sourceforge.jp/html/LDP_man-pages/man2/bind.2.html)\u3092\u4f7f\u3063\u3066\u30d1\u30b9\u540d\u306b\u7d50\u3073\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u30b9\u30c8\u30ea\u30fc\u30e0\u578b\u306e\u30bd\u30b1\u30c3\u30c8\u306f\u540d\u524d\u3092\u6301\u305f\u306a\u3044\u3002[socketpair(2)](http://linuxjm.sourceforge.jp/html/LDP_man-pages/man2/socketpair.2.html)\u3092\u4f7f\u3046\u3068\u3001\u540d\u524d\u306e\u3064\u3044\u3066\u3044\u306a\u3044 CONNECTED \u306a\u30bd\u30b1\u30c3\u30c8\u306e\u30da\u30a2\u304c\u751f\u6210\u3055\u308c\u308b\u3002fork \u3057\u3066\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\u30fc\u3092\u7e4b\u304e\u76f4\u3057\u3066\u3042\u3052\u308c\u3070\u3001pipe \u3067\u5b9f\u73fe\u3059\u308b\u306e\u3068\u540c\u3058\u3088\u3046\u306a\u53cc\u65b9\u5411\u306e\u30d7\u30ed\u30bb\u30b9\u9593\u901a\u4fe1\u304c\u3067\u304d\u308b\u3002|\n|\u62bd\u8c61\u540d\u524d\u7a7a\u9593(abstract)|sun_path\u306b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u3067\u306f\u306a\u304f\u3001NULL\u30d0\u30a4\u30c8(\\0)\u3067\u3042\u308b\u3053\u3068\u3067\u533a\u5225\u3055\u308c\u308b\u3002NULL\u30d0\u30a4\u30c8\u4ee5\u964d\u306b\u540d\u524d(\u6587\u5b57\u5217)\u3092\u6e21\u3059\u304c\u3001\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u540d\u3068\u306f\u95a2\u4fc2\u306a\u3044\u3002\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3068\u7d10\u4ed8\u3044\u3066\u3044\u306a\u3044\u306e\u3067\u3001 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306a\u3069\u306b\u95a2\u4fc2\u306a\u304f\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3067\u304d\u3066\u3057\u307e\u3046\u3002Linux\u3067\u306e\u307f\u5229\u7528\u53ef\u80fd\u3002[unlink(2)](http://linuxjm.sourceforge.jp/html/LDP_man-pages/man2/unlink.2.html)\u3067\u7d42\u4e86\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u3002|\n\n#\u3069\u306eUNIX\u30c9\u30e1\u30a4\u30f3\u304b\u3092\u898b\u6975\u3081\u308b\u306b\u306f\n\n`$netstat -al --protocol=unix` \u3067\u78ba\u8a8d\u3059\u308b\n\n###\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u30d1\u30b9\u540d\n\nI-Node path\u90e8\u5206\u306b\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u540d\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\n```\nActive UNIX domain sockets (only servers)\nProto RefCnt Flags       Type       State         I-Node Path\nunix  2      [ ACC ]     STREAM     LISTENING     154823 /var/lib/mysql/mysql.sock\n```\n\n###\u7121\u540d\n\nI-Node\u306f\u5272\u308a\u632f\u3089\u308c\u308b\u304c\u3001path\u306f\u8868\u793a\u3055\u308c\u306a\u3044\n\n```\nActive UNIX domain sockets (only servers)\nProto RefCnt Flags       Type       State         I-Node Path\nunix  3      [ ]         STREAM     CONNECTED     175322\n```\n\n###\u62bd\u8c61\u540d\u524d\u7a7a\u9593\n\nI-Node path\u90e8\u5206\u306b@\u304c\u3064\u3044\u305f\u540d\u524d\u304c\u8868\u793a\u3055\u308c\u308b\n\n```\nActive UNIX domain sockets (only servers)\nProto RefCnt Flags       Type       State         I-Node Path\nunix  2      [ ACC ]     STREAM     LISTENING     6653   @/com/ubuntu/upstart\n```\n\n#UNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9\n\n|\u30df\u30c9\u30eb\u30a6\u30a7\u30a2|\u6982\u8981|\u7a2e\u985e|\u4f7f\u7528\u65b9\u6cd5|\u9023\u643a\u30df\u30c9\u30eb\u30a6\u30a7\u30a2|\n|---|---|---|---|---|\n|Nginx|web server|pathname|[server divective](http://wiki.nginx.org/HttpUpstreamModule)|unicorn, gunicorn, php-fpm, etc... |\n|Unicorn|ap server|pathname|[Public Instance Methods](http://unicorn.bogomips.org/Unicorn/Configurator.html)\n|Mysql|db server|pathname||||\n|Redis|KVS|pathname|[How fast is Redis?](http://redis.io/topics/benchmarks)|||\n|Memcached|KVS|pathname|[Using memcached](http://docs.oracle.com/cd/E17952_01/refman-5.6-en/ha-memcached-using.html)\n|upstart|deamon|abstract|||\n|sytemd|deamon|abstract|||\n|OS?|kernel\u30d7\u30ed\u30bb\u30b9?|unnamed|||\n\n#\u307e\u3068\u3081\n\n\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u306f\u4eca\u5ea6\u304b\u3089UNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3068\u8a00\u3046\u3053\u3068(\u3069\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u3082\u3061\u3083\u3093\u3068\u66f8\u3044\u3066\u3042\u3063\u305f\u3051\u3069\u7b11)\u3002TCP\u3067\u63a5\u7d9a\u3059\u308b\u3053\u3068\u3070\u3063\u304b\u308a\u3084\u3063\u3066\u304d\u305f\u306e\u3067\u3001\u6c17\u306b\u3082\u3057\u3066\u306a\u304b\u3063\u305f\u304cKVS\u3068\u304b\u306e\u63a5\u7d9a\u306fUNIX\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u306b\u3057\u305f\u3089\u3082\u3046\u5c11\u3057\u52b9\u7387\u3088\u304f\u4f7f\u3048\u308b\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u3002\u307e\u3060\u307e\u3060\u3001\u8abf\u3079\u305f\u3089\u3044\u308d\u3044\u308d\u3042\u308a\u305d\u3046\u306a\u306e\u3067\u7d99\u7d9a\u8abf\u67fb\u3002\n\n\u3082\u3046\u5bdd\u307e\u3059\u7b11", "tags": ["nginx", "Linux", "CentOS", "MySQL", "Memcached"]}