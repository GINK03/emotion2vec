{"context": " More than 1 year has passed since last update.zabbix_java_gateway\u3092\u4f7f\u3063\u3066\u3001zabbix\u3067tomcat7\u306e\u76e3\u8996\u3092\u884c\u3044\u307e\u3059\u3002\nzabbix-server\u3068tomcat7\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3068\u3057\u3001\nzabbix-java-gateway\u30fbzabbix-server\u30fbtomcat\u306f\u5168\u3066\u540c\u3058EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nhostname\u306e\u78ba\u8a8d\nhostname -i\n10.0.10.39\n\n127.0.0.1\u3067\u306a\u304f\u3001\u8907\u6570IP\u3067\u306f\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nzabbix_java_gateway\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\nyum install zabbix-java-gateway\nzabbix_java_gateway\u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\n/etc/init.d/zabbix-java-gateway start\nzabbix_java_gateway\u3092Daemon\u306b\u767b\u9332\u3057\u307e\u3059\u3002\nchkconfig zabbix-java-gateway on\nzabbix-server\u5074\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n/etc/zabbix/zabbix_server.conf\nJavaGateway=10.0.10.39[zabbix java gateway ip]\nJavaGatewayPort=10052[zabbix java gateway default port]\nStartJavaPollers=1\n\n\n\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u306b\u3001zabbix-server\u306e\u518d\u8d77\u52d5\u3092\u884c\u3044\u307e\u3059\u3002\n/etc/init.d/zabbix-server restart\n\ntomcat\u5074\u8a2d\u5b9a\n\u8d77\u52d5\u30d5\u30a1\u30a4\u30eb\u306bJVM\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n/etc/init.d/tomcat\nCATALINA_OPTS=\"-Dcom.sun.management.jmxremote.port=12345  -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false\"\n\n\n\u8a2d\u5b9a\u53cd\u6620\u306e\u305f\u3081\u306b\u3001tomcat\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n/etc/init.d/tomcat restart\n\nzabbix\u306e\u7ba1\u7406\u753b\u9762\u306eJMX\u8a2d\u5b9a\n\nzabbix\u306e\u7ba1\u7406\u753b\u9762\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u300c\u8a2d\u5b9a> \u30db\u30b9\u30c8 > Zabbix server\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\n\nJMX\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\u3000tomcat7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u30fc\u306eip\u30a2\u30c9\u30ec\u30b9\u3068\u3001\n\u3000CATALINA_OPTS\u3067\u6307\u5b9a\u3057\u305f\u30dd\u30fc\u30c8(jmxremote.port=12345)\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u8ffd\u52a0\u3092\u884c\u3044\u307e\u3059\n\u3000zabbix\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067JMX tomcat\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068JMX Generic\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308b\u306e\u3067\u3001\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n\u300c\u66f4\u65b0\u30dc\u30bf\u30f3\u300d\u3092\u62bc\u305b\u3070\u3001\u767b\u9332\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u66f8\u304d\u63db\u3048\ntomcat7\u3067\u306fmanager\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u308bxml\u304c\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3042\u308bname=http-8080\u3067\u306f\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u53d6\u308c\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306ename=http-8080\u3092\u300cname=\"http-bio-8080\"\"\u300d\u306b\n\u66f8\u304d\u63db\u3048\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nhttp-8080-threads-max\njmx[\"Catalina:type=ThreadPool,name=\\\"http-bio-8080\\\"\",maxThreads]\n\n\n\u3042\u3068\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3054\u3068\u306b\u5fc5\u8981\u306a\u30c8\u30ea\u30ac\u30fc\u3084\u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3059\u308c\u3070\u3001\u8a2d\u5b9a\u5b8c\u4e86\u3067\u3059\uff01\nzabbix_java_gateway\u3092\u4f7f\u3063\u3066\u3001zabbix\u3067tomcat7\u306e\u76e3\u8996\u3092\u884c\u3044\u307e\u3059\u3002\nzabbix-server\u3068tomcat7\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3068\u3057\u3001\nzabbix-java-gateway\u30fbzabbix-server\u30fbtomcat\u306f\u5168\u3066\u540c\u3058EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n#hostname\u306e\u78ba\u8a8d\n```\nhostname -i\n10.0.10.39\n```\n127.0.0.1\u3067\u306a\u304f\u3001\u8907\u6570IP\u3067\u306f\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n#zabbix_java_gateway\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n`yum install zabbix-java-gateway`\nzabbix_java_gateway\u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\n`/etc/init.d/zabbix-java-gateway start`\nzabbix_java_gateway\u3092Daemon\u306b\u767b\u9332\u3057\u307e\u3059\u3002\n`chkconfig zabbix-java-gateway on`\n\nzabbix-server\u5074\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\n```lang:/etc/zabbix/zabbix_server.conf\nJavaGateway=10.0.10.39[zabbix java gateway ip]\nJavaGatewayPort=10052[zabbix java gateway default port]\nStartJavaPollers=1\n```\n\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u308b\u305f\u3081\u306b\u3001zabbix-server\u306e\u518d\u8d77\u52d5\u3092\u884c\u3044\u307e\u3059\u3002\n`/etc/init.d/zabbix-server restart`\n\n#tomcat\u5074\u8a2d\u5b9a\n\u8d77\u52d5\u30d5\u30a1\u30a4\u30eb\u306bJVM\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n```lang:/etc/init.d/tomcat\nCATALINA_OPTS=\"-Dcom.sun.management.jmxremote.port=12345  -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false\"\n```\n\u8a2d\u5b9a\u53cd\u6620\u306e\u305f\u3081\u306b\u3001tomcat\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n`/etc/init.d/tomcat restart`\n\n#zabbix\u306e\u7ba1\u7406\u753b\u9762\u306eJMX\u8a2d\u5b9a\n* zabbix\u306e\u7ba1\u7406\u753b\u9762\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001\u300c\u8a2d\u5b9a> \u30db\u30b9\u30c8 > Zabbix server\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-17 13.09.06.png](https://qiita-image-store.s3.amazonaws.com/0/63175/72af6968-dc97-cdb3-4a6b-86b75ce2586d.png)\n\n* JMX\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\u3000tomcat7\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u30fc\u306eip\u30a2\u30c9\u30ec\u30b9\u3068\u3001\n\u3000CATALINA_OPTS\u3067\u6307\u5b9a\u3057\u305f\u30dd\u30fc\u30c8(jmxremote.port=12345)\u3092\u5165\u529b\u3057\u3066\u4e0b\u3055\u3044\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-17 13.30.58.png](https://qiita-image-store.s3.amazonaws.com/0/63175/71ab0baf-90e1-ce25-f94a-a15ae4aeeb31.png)\n\n* \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u8ffd\u52a0\u3092\u884c\u3044\u307e\u3059\n\u3000zabbix\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067JMX tomcat\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068JMX Generic\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308b\u306e\u3067\u3001\u8ffd\u52a0\u3057\u307e\u3059\u3002\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-12-17 13.14.19.png](https://qiita-image-store.s3.amazonaws.com/0/63175/8a068e54-f60c-9fe1-5369-5cd8da080077.png)\n\u300c\u66f4\u65b0\u30dc\u30bf\u30f3\u300d\u3092\u62bc\u305b\u3070\u3001\u767b\u9332\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n#\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u66f8\u304d\u63db\u3048\ntomcat7\u3067\u306fmanager\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u53d6\u308bxml\u304c\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3042\u308bname=http-8080\u3067\u306f\u3001\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u53d6\u308c\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306ename=http-8080\u3092\u300cname=\"http-bio-8080\"\"\u300d\u306b\n\u66f8\u304d\u63db\u3048\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```lang:http-8080-threads-max\njmx[\"Catalina:type=ThreadPool,name=\\\"http-bio-8080\\\"\",maxThreads]\n```\n\n\u3042\u3068\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3054\u3068\u306b\u5fc5\u8981\u306a\u30c8\u30ea\u30ac\u30fc\u3084\u30b0\u30e9\u30d5\u3092\u4f5c\u6210\u3059\u308c\u3070\u3001\u8a2d\u5b9a\u5b8c\u4e86\u3067\u3059\uff01\n\n", "tags": ["zabbix", "zabbix-java-gateway"]}