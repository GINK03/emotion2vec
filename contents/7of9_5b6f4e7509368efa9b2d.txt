{"context": " More than 1 year has passed since last update.\u3010C\u8a00\u8a9e\u3067\u6570\u5024\u8a08\u7b97\u3011 \u5b9a\u7a4d\u5206\u306e\u8fd1\u4f3c\u8a08\u7b97\uff08\u30b7\u30f3\u30d7\u30bd\u30f3\u6cd5\uff09\n\u3092\u3082\u3068\u306b\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30c7\u30fc\u30bf\u3092\u7a4d\u5206\u3059\u308b\u30b3\u30fc\u30c9\u306b\u5909\u66f4\u3057\u305f\u3002\n\u5b9f\u969b\u306b\u30b7\u30f3\u30d7\u30bd\u30f3\u7a4d\u5206\u3092\u3057\u305f\u3044\u3082\u306e\u3068\u3057\u3066\u3001\u6642\u9593\u306e\u304b\u304b\u308b\u8a08\u7b97\u7d50\u679c\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u3042\u308b\u3002\u305d\u306e\u969b\u306b\u5148\u306b\u7d50\u679c\u3092\u30c6\u30fc\u30d6\u30eb\u3068\u3057\u3066\u51fa\u529b\u3057\u3066\u304a\u304d\u3001\u305d\u308c\u3092\u5f8c\u3067\u7a4d\u5206\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u4f7f\u3046\u3002\n\nsimpson_integ_table.c\n#include <stdio.h>\n\n// \u7a4d\u5206\u5bfe\u8c61\u95a2\u6570.\nfloat function (float x) \n{\n    float result;\n    result = x; // \u4e00\u6b21\u76f4\u7dda\n    return result;\n}\n\nstatic double simpson_integ_table(double *xs, double *ys, int lastIdx)\n{\n    double integral; // \u7a4d\u5206\u7d50\u679c\n    double h; // \u7a4d\u5206\u7bc4\u56f2\u3092 n \u500b\u306b\u5206\u5272\u3057\u305f\u3068\u304d\u306e\u5e45\n    double dA;\n    int idx;\n\n    h = (xs[lastIdx] - xs[0]) / lastIdx; // \u5206\u5272\u5e45\n\n    integral = ys[0]; // \u7a4d\u5206\u7d50\u679c\u306e\u5909\u6570\u306e\u521d\u671f\u5024\n\n    for (idx=1; idx<lastIdx-2; idx+=2) {\n        dA = 4.0*ys[idx] + 2.0*ys[idx+1];\n        integral += dA; // \u03a3\n    }\n\n    integral += ( 4.0*ys[idx] + ys[idx+1] );\n\n    integral *= h/3.0; \n\n    return integral;\n}\n\n#define BUF_SIZ (500)\n\nint main()\n{\n    double integral;\n    double xs[BUF_SIZ]; // x\n    double ys[BUF_SIZ]; // y\n    double h;\n    int count;\n    int idx;\n    double dval;\n\n    // configuration\n    double xmin = 0.0;\n    double xmax = 100.0;\n    int divnum = 120;\n    int lastIdx = 2*divnum;\n\n    // 1. preparation of tables\n    h = (xmax - xmin) / (2.0*(double)divnum); // \u5206\u5272\u5e45\n    for(idx=0; idx<=lastIdx; idx++){\n        dval = xmin + (double)(idx) * h;\n        xs[idx] = dval;\n        ys[idx] = function(dval);\n    }\n\n    // 2. integration\n    integral = simpson_integ_table(xs, ys, lastIdx);\n\n    // === Simpson \u6cd5\u306b\u3088\u308b\u7a4d\u5206 (\u7d42\u4e86\uff09 ===\n    printf (\"\u7a4d\u5206\u7d50\u679c= %lf\\n\", integral);\n    printf (\"\u89e3\u6790\u7684\u306b\u6c42\u3081\u305f\u7d50\u679c (\u5e95\u8fba 100\uff0c\u9ad8\u3055 100 \u306e\u76f4\u89d2\u4e09\u89d2\u5f62)=%lf\\n\",\n        (xmax - xmin)*function(xmax) / 2.0 );\n\n    return(0);\n}\n\n\n[\u3010C\u8a00\u8a9e\u3067\u6570\u5024\u8a08\u7b97\u3011 \u5b9a\u7a4d\u5206\u306e\u8fd1\u4f3c\u8a08\u7b97\uff08\u30b7\u30f3\u30d7\u30bd\u30f3\u6cd5\uff09](http://qiita.com/HirofumiYashima/items/6636bd3a8ce0460e5a4f)\n\u3092\u3082\u3068\u306b\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u30c7\u30fc\u30bf\u3092\u7a4d\u5206\u3059\u308b\u30b3\u30fc\u30c9\u306b\u5909\u66f4\u3057\u305f\u3002\n\n\u5b9f\u969b\u306b\u30b7\u30f3\u30d7\u30bd\u30f3\u7a4d\u5206\u3092\u3057\u305f\u3044\u3082\u306e\u3068\u3057\u3066\u3001\u6642\u9593\u306e\u304b\u304b\u308b\u8a08\u7b97\u7d50\u679c\u3092\u7528\u3044\u308b\u3053\u3068\u304c\u3042\u308b\u3002\u305d\u306e\u969b\u306b\u5148\u306b\u7d50\u679c\u3092\u30c6\u30fc\u30d6\u30eb\u3068\u3057\u3066\u51fa\u529b\u3057\u3066\u304a\u304d\u3001\u305d\u308c\u3092\u5f8c\u3067\u7a4d\u5206\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u306b\u4f7f\u3046\u3002\n\n```c:simpson_integ_table.c\n#include <stdio.h>\n\n// \u7a4d\u5206\u5bfe\u8c61\u95a2\u6570.\nfloat function (float x) \n{\n\tfloat result;\n\tresult = x; // \u4e00\u6b21\u76f4\u7dda\n\treturn result;\n}\n\nstatic double simpson_integ_table(double *xs, double *ys, int lastIdx)\n{\n\tdouble integral; // \u7a4d\u5206\u7d50\u679c\n\tdouble h; // \u7a4d\u5206\u7bc4\u56f2\u3092 n \u500b\u306b\u5206\u5272\u3057\u305f\u3068\u304d\u306e\u5e45\n\tdouble dA;\n\tint idx;\n\n\th = (xs[lastIdx] - xs[0]) / lastIdx; // \u5206\u5272\u5e45\n\n\tintegral = ys[0]; // \u7a4d\u5206\u7d50\u679c\u306e\u5909\u6570\u306e\u521d\u671f\u5024\n\n\tfor (idx=1; idx<lastIdx-2; idx+=2) {\n\t\tdA = 4.0*ys[idx] + 2.0*ys[idx+1];\n\t\tintegral += dA; // \u03a3\n\t}\n\n\tintegral += ( 4.0*ys[idx] + ys[idx+1] );\n\n\tintegral *= h/3.0; \n\n\treturn integral;\n}\n\n#define BUF_SIZ (500)\n\nint main()\n{\n\tdouble integral;\n\tdouble xs[BUF_SIZ]; // x\n\tdouble ys[BUF_SIZ]; // y\n\tdouble h;\n\tint count;\n\tint idx;\n\tdouble dval;\n\n\t// configuration\n\tdouble xmin = 0.0;\n\tdouble xmax = 100.0;\n\tint divnum = 120;\n\tint lastIdx = 2*divnum;\n\n\t// 1. preparation of tables\n\th = (xmax - xmin) / (2.0*(double)divnum); // \u5206\u5272\u5e45\n\tfor(idx=0; idx<=lastIdx; idx++){\n\t\tdval = xmin + (double)(idx) * h;\n\t\txs[idx] = dval;\n\t\tys[idx] = function(dval);\n\t}\n\n\t// 2. integration\n\tintegral = simpson_integ_table(xs, ys, lastIdx);\n\n\t// === Simpson \u6cd5\u306b\u3088\u308b\u7a4d\u5206 (\u7d42\u4e86\uff09 ===\n\tprintf (\"\u7a4d\u5206\u7d50\u679c= %lf\\n\", integral);\n\tprintf (\"\u89e3\u6790\u7684\u306b\u6c42\u3081\u305f\u7d50\u679c (\u5e95\u8fba 100\uff0c\u9ad8\u3055 100 \u306e\u76f4\u89d2\u4e09\u89d2\u5f62)=%lf\\n\",\n\t\t(xmax - xmin)*function(xmax) / 2.0 );\n\n\treturn(0);\n}\n```\n", "tags": ["C", "\u30b7\u30f3\u30d7\u30bd\u30f3\u6cd5", "\u6570\u5024\u8a08\u7b97"]}