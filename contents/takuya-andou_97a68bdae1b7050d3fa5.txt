{"context": " More than 1 year has passed since last update.\u306f\u3066\u306a\u30d6\u30c3\u30af\u30de\u30fc\u30af\u306e\u4eba\u6c17\u30a8\u30f3\u30c8\u30ea\u30fcRSS\u3092\u8868\u793a\u3059\u308bAPI\u3092\u4f7f\u3063\u3066\u4f55\u304b\u4f5c\u308a\u305f\u3044\n\u4e0b\u8a18\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306b\u52d5\u304b\u3057\u3066\u307f\u305f\u306e\u3067\u3059\u304c\u4e0a\u624b\u304f\u52d5\u304b\u306a\u304b\u3063\u305f\uff01\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u539f\u56e0\u3068\u5bfe\u7b56\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\nhttps://syncer.jp/hatebu-api-matome#sec-2\n\u3053\u3061\u3089\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306bPHP\u3067RSS\u306e\u53d6\u5f97\u3092\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\n<?php\n\n    // \u53d6\u5f97\u3059\u308b\u30d5\u30a3\u30fc\u30c9URL\u3092\u6307\u5b9a\n    $feed = 'http://b.hatena.ne.jp/hotentry?mode=rss' ;\n\n    // \u30d5\u30a3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5909\u63db\n    $obj = simplexml_load_string( @file_get_contents( $feed ) ) ;\n\n    // \u30a8\u30e9\u30fc\u5224\u5b9a\n    if( !$obj || !isset( $obj->item ) || empty( $obj->item ) )\n    {\n        echo '<p><a href=\"' . $feed . '\" target=\"_blank\">\u30d5\u30a3\u30fc\u30c9</a>\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u2026\u3002</p>' ;\n    }\n    else\n    {\n        // HTML\n        $html = '' ;\n\n        // \u500b\u3005\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u304f\n        foreach( $obj->item as $item )\n        {\n            // \u5404\u5024\u306e\u6574\u7406\n            $url = (string)$item->link ;                                    // URL\n            $date = $item->children( 'dc' , true )->date ;                  // \u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u65e5\u4ed8\n            $title = (string)$item->title ;                                 // \u30bf\u30a4\u30c8\u30eb\n            $category = $item->children( 'dc' , true )->subject ;           // \u30ab\u30c6\u30b4\u30ea\n            $count = $item->children( 'hatena' , true )->bookmarkcount ;    // \u30d6\u30af\u30de\u6570\n\n            // \u65e5\u4ed8\u306e\u6574\u5f62\n            $date = date( 'Y/m/d H:i:s' , strtotime( $date ) ) ;\n\n            // HTML\n            $html .= '<dd>' ;\n            $html .=    '[' . $category . '] - ' . $title . ' (' . $date . ') ' . $count . 'users' ;\n            $html .=    '<br><a href=\"' . $url . '\" target=\"_blank\" rel=\"nofollow\">' . $url . '</a>' ;\n            $html .= '</dd>' ;\n        }\n\n        // \u51fa\u529b\n        echo '<h2>\u5b9f\u884c\u7d50\u679c</h2>' ;\n        echo '<dl>' ;\n        echo    '<dt>\u53d6\u5f97\u3057\u305f\u30d5\u30a3\u30fc\u30c9</dt>' ;\n        echo        '<dd><a href=\"' . $feed . '\" target=\"_blank\">' . $feed . '</a></dd>' ;\n        echo    '<dt>\u53d6\u5f97\u7d50\u679c</dt>' ;\n        echo        $html ;\n        echo '</dl>' ;\n    }\n\n?>\n\n\n\u30a8\u30e9\u30fc\u304c\u767a\u751f\n\n\n\u3057\u304b\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u76f4\u63a5API\u306eURL\u3092\u53e9\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3068\u3001\u554f\u984c\u306a\u304f\u8868\u793a\u3055\u308c\u308b\n\n\n\u539f\u56e0\u3092\u8abf\u3079\u305f\u3068\u3053\u308d\nhttp://q.hatena.ne.jp/1451205850\n\u30e6\u30fc\u30b6\u30fc\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u306e\u304c\u539f\u56e0\u306e\u3088\u3046\n\n\u5bfe\u7b56\n\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d8\u30c3\u30c0\u30fc\u306b\u30e6\u30fc\u30b6\u30fc\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u3068\u6b63\u3057\u304f\u53d6\u5f97\u3067\u304d\u307e\u3057\u305f\u3002\n$options = array(\n      'http' => array(\n        'header' => 'from_rss_application',\n      ),\n    );\n    $context = stream_context_create($options);\n\n    // \u30d5\u30a3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5909\u63db\n    $obj = simplexml_load_string( @file_get_contents( $feed ,false,$context) ) ;\n\n\u306f\u3066\u306a\u30d6\u30c3\u30af\u30de\u30fc\u30af\u306e\u4eba\u6c17\u30a8\u30f3\u30c8\u30ea\u30fcRSS\u3092\u8868\u793a\u3059\u308bAPI\u3092\u4f7f\u3063\u3066\u4f55\u304b\u4f5c\u308a\u305f\u3044\n\u4e0b\u8a18\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306b\u52d5\u304b\u3057\u3066\u307f\u305f\u306e\u3067\u3059\u304c\u4e0a\u624b\u304f\u52d5\u304b\u306a\u304b\u3063\u305f\uff01\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u539f\u56e0\u3068\u5bfe\u7b56\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\n#\u53c2\u8003\u306b\u3057\u305f\u30b5\u30a4\u30c8\nhttps://syncer.jp/hatebu-api-matome#sec-2\n\u3053\u3061\u3089\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306bPHP\u3067RSS\u306e\u53d6\u5f97\u3092\u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\n\n```\n<?php\n\n\t// \u53d6\u5f97\u3059\u308b\u30d5\u30a3\u30fc\u30c9URL\u3092\u6307\u5b9a\n\t$feed = 'http://b.hatena.ne.jp/hotentry?mode=rss' ;\n\n\t// \u30d5\u30a3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5909\u63db\n\t$obj = simplexml_load_string( @file_get_contents( $feed ) ) ;\n \n\t// \u30a8\u30e9\u30fc\u5224\u5b9a\n\tif( !$obj || !isset( $obj->item ) || empty( $obj->item ) )\n\t{\n\t\techo '<p><a href=\"' . $feed . '\" target=\"_blank\">\u30d5\u30a3\u30fc\u30c9</a>\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u2026\u3002</p>' ;\n\t}\n\telse\n\t{\n\t\t// HTML\n\t\t$html = '' ;\n\n\t\t// \u500b\u3005\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u304f\n\t\tforeach( $obj->item as $item )\n\t\t{\n\t\t\t// \u5404\u5024\u306e\u6574\u7406\n\t\t\t$url = (string)$item->link ;\t\t\t\t\t\t\t\t\t// URL\n\t\t\t$date = $item->children( 'dc' , true )->date ;\t\t\t\t\t// \u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u65e5\u4ed8\n\t\t\t$title = (string)$item->title ;\t\t\t\t\t\t\t\t\t// \u30bf\u30a4\u30c8\u30eb\n\t\t\t$category = $item->children( 'dc' , true )->subject ;\t\t\t// \u30ab\u30c6\u30b4\u30ea\n\t\t\t$count = $item->children( 'hatena' , true )->bookmarkcount ;\t// \u30d6\u30af\u30de\u6570\n\n\t\t\t// \u65e5\u4ed8\u306e\u6574\u5f62\n\t\t\t$date = date( 'Y/m/d H:i:s' , strtotime( $date ) ) ;\n\n\t\t\t// HTML\n\t\t\t$html .= '<dd>' ;\n\t\t\t$html .= \t'[' . $category . '] - ' . $title . ' (' . $date . ') ' . $count . 'users' ;\n\t\t\t$html .= \t'<br><a href=\"' . $url . '\" target=\"_blank\" rel=\"nofollow\">' . $url . '</a>' ;\n\t\t\t$html .= '</dd>' ;\n\t\t}\n\n\t\t// \u51fa\u529b\n\t\techo '<h2>\u5b9f\u884c\u7d50\u679c</h2>' ;\n\t\techo '<dl>' ;\n\t\techo \t'<dt>\u53d6\u5f97\u3057\u305f\u30d5\u30a3\u30fc\u30c9</dt>' ;\n\t\techo \t\t'<dd><a href=\"' . $feed . '\" target=\"_blank\">' . $feed . '</a></dd>' ;\n\t\techo \t'<dt>\u53d6\u5f97\u7d50\u679c</dt>' ;\n\t\techo \t\t$html ;\n\t\techo '</dl>' ;\n\t}\n\n?>\n```\n\n##\u30a8\u30e9\u30fc\u304c\u767a\u751f\n![kako-BjrC88bNOEN6Rtf5.png](https://qiita-image-store.s3.amazonaws.com/0/58437/71d5151c-cc0c-4462-256d-65cf1e0beffc.png)\n\n\n##\u3057\u304b\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u76f4\u63a5API\u306eURL\u3092\u53e9\u3044\u3066\u78ba\u8a8d\u3059\u308b\u3068\u3001\u554f\u984c\u306a\u304f\u8868\u793a\u3055\u308c\u308b\n\n<img width=\"908\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-03-10 8.13.07.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/58437/3e8dc371-f0cb-61b5-a1c7-0d209ba36980.png\">\n\n#\u539f\u56e0\u3092\u8abf\u3079\u305f\u3068\u3053\u308d\nhttp://q.hatena.ne.jp/1451205850\n**\u30e6\u30fc\u30b6\u30fc\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u306e\u304c\u539f\u56e0\u306e\u3088\u3046**\n\n##\u5bfe\u7b56\n\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30d8\u30c3\u30c0\u30fc\u306b\u30e6\u30fc\u30b6\u30fc\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u3068\u6b63\u3057\u304f\u53d6\u5f97\u3067\u304d\u307e\u3057\u305f\u3002\n\n```\n$options = array(\n\t  'http' => array(\n\t    'header' => 'from_rss_application',\n\t  ),\n\t);\n\t$context = stream_context_create($options);\n\n\t// \u30d5\u30a3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5909\u63db\n\t$obj = simplexml_load_string( @file_get_contents( $feed ,false,$context) ) ;\n```\n", "tags": ["\u306f\u3066\u306a\u30d6\u30c3\u30af\u30de\u30fc\u30af", "\u306f\u3066\u306aAPI", "api", "PHP", "userAgent"]}