{"context": " More than 1 year has passed since last update.\u306a\u3093\u304b ES + kuromoji \u306e\u4f7f\u3044\u65b9\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u53e4\u304b\u3063\u305f\u308a\u3057\u305f\u306e\u3067\u9632\u5099\u9332\u3002ES 0.90.Beta1 + kuromoji 1.2.0 \u306e\u8a71\u3057\u3067\u3059\u3002\u306a\u304a\u3053\u306e\u60c5\u5831\u3082\u3059\u3050\u53e4\u304f\u306a\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u6ce8\u610f\u306a\uff01\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u9069\u5f53\u306b\nbrew install https://gist.github.com/hotchpotch/5133549/raw/bdeea58fa72c33f74131f27ec78758556182d7ba/elasticsearch.rb\n/usr/local/opt/elasticsearch/bin/plugin -install elasticsearch/elasticsearch-analysis-kuromoji/1.2.0\n\n\nkuromoji\n\u5404\u7a2e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c4\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f analyzer \u3084 tokenizer \u3092 analysis \u3067\u6307\u5b9a\u3057\u3066\u307e\u3059\u304c\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3068\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\nhttps://github.com/elasticsearch/elasticsearch-analysis-kuromoji/blob/master/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java#L51\n\nmodule.addAnalyzer(\"kuromoji\", KuromojiAnalyzerProvider.class);\nmodule.addTokenizer(\"kuromoji_tokenizer\", KuromojiTokenizerFactory.class);\nmodule.addTokenFilter(\"kuromoji_baseform\", KuromojiBaseFormFilterFactory.class);\nmodule.addTokenFilter(\"kuromoji_part_of_speech\", KuromojiPartOfSpeechFilterFactory.class);\nmodule.addTokenFilter(\"kuromoji_readingform\", KuromojiReadingFormFilterFactory.class);\nmodule.addTokenFilter(\"kuromoji_stemmer\", KuromojiKatakanaStemmerFactory.class);\n\n\u3068 plugin \u3067\u3059\u3067\u306b kuromoji \u3068\u3044\u3046 analyzer, kuromoji_tokenizer \u3068\u3044\u3046 tokenizer \u304c\u6307\u5b9a\u3057\u3066\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u5225\u9014 analysis \u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n$ curl -XPUT 'localhost:9200/kuromoji_checker/' -d '{}'\n{\"ok\":true,\"acknowledged\":true}\n$ curl -XGET 'localhost:9200/kuromoji_checker/_analyze?analyzer=kuromoji&pretty' -d '\u95a2\u897f\u56fd\u969b\u7a7a\u6e2f'\n{\n  \"tokens\" : [ {\n    \"token\" : \"\u95a2\u897f\",\n    \"start_offset\" : 0,\n    \"end_offset\" : 2,\n    \"type\" : \"word\",\n    \"position\" : 1\n  }, {\n    \"token\" : \"\u95a2\u897f\u56fd\u969b\u7a7a\u6e2f\",\n\n\n\u30cf\u30de\u3063\u305f\u3068\u3053\u308d\nindex \u306e mapping \u3067 analyzer \u3092\u6307\u5b9a\u3059\u308b\u3068\u304d\u3001\u3059\u3079\u3066\u306e analyzer \u306b kuromoji \u6307\u5b9a\u3057\u3066\u306a\u3044\u5834\u5408\u3001\u691c\u7d22\u30af\u30a8\u30ea\u3067 match:_all \u7684\u306a\u30af\u30a8\u30ea\u3092\u767a\u884c\u3059\u308b\u3068\u304d\u306b\u3001\u65e5\u672c\u8a9e\u3060\u3051\u5f15\u3063\u304b\u304b\u3089\u306a\u3044\u73fe\u8c61\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\u4f8b\n- body \u306f analyzer: 'kuromoji'\n- created_at \u306f analyzer \u6307\u5b9a\u7121\u3057\n\u3053\u306e\u5834\u5408\u3001match:_all \u306a\u30af\u30a8\u30ea\u3067 'hello' \u306e\u3088\u3046\u306a\u5834\u5408\u306f\u5f15\u3063\u304b\u304b\u308a\u307e\u3059\u304c\u3001'\u3053\u3093\u306b\u3061\u306f' \u3067\u306f\u5f15\u3063\u304b\u304b\u308a\u307e\u305b\u3093\u3002\u5bfe\u51e6\u6cd5\u3068\u3057\u3066\u306f\u3001default \u306e analyzer \u3092 kuromoji \u306b\u6307\u5b9a\u3059\u308b\u304b\u3001match \u3067\u9069\u5207\u306b match: body \u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u306a\u3093\u304b ES + kuromoji \u306e\u4f7f\u3044\u65b9\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u53e4\u304b\u3063\u305f\u308a\u3057\u305f\u306e\u3067\u9632\u5099\u9332\u3002ES 0.90.Beta1 + kuromoji 1.2.0 \u306e\u8a71\u3057\u3067\u3059\u3002\u306a\u304a\u3053\u306e\u60c5\u5831\u3082\u3059\u3050\u53e4\u304f\u306a\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u3067\u6ce8\u610f\u306a\uff01\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u9069\u5f53\u306b\n\n```\nbrew install https://gist.github.com/hotchpotch/5133549/raw/bdeea58fa72c33f74131f27ec78758556182d7ba/elasticsearch.rb\n/usr/local/opt/elasticsearch/bin/plugin -install elasticsearch/elasticsearch-analysis-kuromoji/1.2.0\n```\n\n# kuromoji\n\u5404\u7a2e\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c4\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f analyzer \u3084 tokenizer \u3092 analysis \u3067\u6307\u5b9a\u3057\u3066\u307e\u3059\u304c\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3068\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n- https://github.com/elasticsearch/elasticsearch-analysis-kuromoji/blob/master/src/main/java/org/elasticsearch/plugin/analysis/kuromoji/AnalysisKuromojiPlugin.java#L51\n\n```java\nmodule.addAnalyzer(\"kuromoji\", KuromojiAnalyzerProvider.class);\nmodule.addTokenizer(\"kuromoji_tokenizer\", KuromojiTokenizerFactory.class);\nmodule.addTokenFilter(\"kuromoji_baseform\", KuromojiBaseFormFilterFactory.class);\nmodule.addTokenFilter(\"kuromoji_part_of_speech\", KuromojiPartOfSpeechFilterFactory.class);\nmodule.addTokenFilter(\"kuromoji_readingform\", KuromojiReadingFormFilterFactory.class);\nmodule.addTokenFilter(\"kuromoji_stemmer\", KuromojiKatakanaStemmerFactory.class);\n```\n\n\u3068 plugin \u3067\u3059\u3067\u306b kuromoji \u3068\u3044\u3046 analyzer, kuromoji_tokenizer \u3068\u3044\u3046 tokenizer \u304c\u6307\u5b9a\u3057\u3066\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u5225\u9014 analysis \u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n```\n$ curl -XPUT 'localhost:9200/kuromoji_checker/' -d '{}'\n{\"ok\":true,\"acknowledged\":true}\n$ curl -XGET 'localhost:9200/kuromoji_checker/_analyze?analyzer=kuromoji&pretty' -d '\u95a2\u897f\u56fd\u969b\u7a7a\u6e2f'\n{\n  \"tokens\" : [ {\n    \"token\" : \"\u95a2\u897f\",\n    \"start_offset\" : 0,\n    \"end_offset\" : 2,\n    \"type\" : \"word\",\n    \"position\" : 1\n  }, {\n    \"token\" : \"\u95a2\u897f\u56fd\u969b\u7a7a\u6e2f\",\n```\n\n# \u30cf\u30de\u3063\u305f\u3068\u3053\u308d\nindex \u306e mapping \u3067 analyzer \u3092\u6307\u5b9a\u3059\u308b\u3068\u304d\u3001\u3059\u3079\u3066\u306e analyzer \u306b kuromoji \u6307\u5b9a\u3057\u3066\u306a\u3044\u5834\u5408\u3001\u691c\u7d22\u30af\u30a8\u30ea\u3067 match:_all \u7684\u306a\u30af\u30a8\u30ea\u3092\u767a\u884c\u3059\u308b\u3068\u304d\u306b\u3001\u65e5\u672c\u8a9e\u3060\u3051\u5f15\u3063\u304b\u304b\u3089\u306a\u3044\u73fe\u8c61\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\n\u4f8b\n- body \u306f analyzer: 'kuromoji'\n- created_at \u306f analyzer \u6307\u5b9a\u7121\u3057\n\n\u3053\u306e\u5834\u5408\u3001match:_all \u306a\u30af\u30a8\u30ea\u3067 'hello' \u306e\u3088\u3046\u306a\u5834\u5408\u306f\u5f15\u3063\u304b\u304b\u308a\u307e\u3059\u304c\u3001'\u3053\u3093\u306b\u3061\u306f' \u3067\u306f\u5f15\u3063\u304b\u304b\u308a\u307e\u305b\u3093\u3002\u5bfe\u51e6\u6cd5\u3068\u3057\u3066\u306f\u3001default \u306e analyzer \u3092 kuromoji \u306b\u6307\u5b9a\u3059\u308b\u304b\u3001match \u3067\u9069\u5207\u306b match: body \u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n\n\n\n\n\n", "tags": ["kuromoji", "Elasticsearch"]}