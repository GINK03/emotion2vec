{"context": "BI\u30c4\u30fc\u30eb\u3068\u8a00\u3048\u3070\u5b9a\u8a55\u306e\u3042\u308bTableau\u3084Qlik View\u3001Power BI\u306a\u3069\u304c\u3042\u308a\u3001Google\u304b\u3089\u3082Data Studio\u3068\u3044\u3046\u30d9\u30fc\u30bf\u7248\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u3042\u308a\u307e\u3059\u3002(\u73fe\u5730\u3067\u306f\u65e5\u672c\u3067\u5229\u7528\u3067\u304d\u306a\u3044)\n\u305d\u3093\u306a\u4e2d\u3067\u3001\u5148\u65e5QuickSight\u304c\u30d7\u30ec\u30d3\u30e5\u30fc\u7248\u304b\u3089GA\u306b\u306a\u308a\u3001\u307e\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u516c\u958b\u3055\u308c\u307e\u3057\u305f\u3002\nhttp://docs.aws.amazon.com/ja_jp/quicksight/latest/user/welcome.html\n\nQuickSight\u306f\u975e\u5e38\u306b\u30b7\u30f3\u30d7\u30eb\u3067\u76f4\u611f\u7684\u306a\u64cd\u4f5c\u3067\u4f5c\u696d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u307e\u305f\u4ed6\u306eAWS\u30b5\u30fc\u30d3\u30b9\u3068\u306e\u9023\u643a\u3082\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u73fe\u5728\u3001\u4ee5\u4e0b\u306e3\u3064\u306e\u307f\u3067\u6771\u4eac\u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002\n\nUS East(N. Virginia)\nUS West(Oregon)\nEU(Ireland)\n\n\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3068\u3057\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u304c\u5229\u7528\u3067\u304d\u308b\u3002\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\n\n\n.csv\n.tsv\n.clf\n.xlsx\n\n\nSalesforce\nS3\nRDS\nRedshift\n\n\nAuto-discoverd\nManual connect\n\n\nMySQL\nPosgreSQL\nSQL Server\nAurora\nMariaDB\n\n\u307e\u305f\u3001\u30b0\u30e9\u30d5\u306e\u7a2e\u985e\u306f\u73fe\u5728\u4ee5\u4e0b\u306e8\u7a2e\u985e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002\n\nAutoGraph\nBar Charts\nLine Charts\nPivot Table\nScatter Plot\nTree Map\nPie Chart\nHeat Map\n\n\u6599\u91d1\u306f\u3001Tableau\u304c\u30e9\u30a4\u30bb\u30f3\u30b9\u6599\u304c12\u4e07\u5186\u308424\u4e07\u5186\u3060\u3068\u8003\u3048\u308b\u3068\u30011000\u5186\u7a0b\u5ea6\u304b\u3089\u4f7f\u7528\u53ef\u80fd\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u5024\u6bb5\u306f\u5b89\u3081\u3060\u3068\u8a00\u3048\u307e\u3059\u3002\n\n\n\n\nStandard Edition\n\nEnterprise Edition\n\n\n\n\n\n\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3\n1\u5e74\n1\u304b\u6708\n1\u5e74\n1\u304b\u6708\n\n\n1\u30e6\u30fc\u30b6\u30fc\u3042\u305f\u308a1\u304b\u6708\u3054\u3068\u306e\u6599\u91d1\n9.00USD\n12.00USD\n18.00USD\n24.00USD\n\n\n\u30d0\u30f3\u30c9\u30eb SPICE (GB)*\n10\n10\n10\n10\n\n\n\u8ffd\u52a0\u306eSPICEGB/\u6708\u306e\u6599\u91d1\n0.25USD\n0.25USD\n0.38USD\n0.38USD\n\n\n\n\u5b9f\u969b\u306b\u64cd\u4f5c\u3059\u308b\u6ce8\u610f\u70b9\u3068\u3057\u3066\u306f\u3001\u5f8c\u307b\u3069\u8a18\u8ff0\u3057\u307e\u3059\u304c\u3001QuickSight\u304c\u4ed6\u306eAWS\u30ea\u30bd\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u969b\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u8a2d\u5b9a\u3067\u3059\u304c\u3001\u5229\u7528\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u3063\u3066\u6307\u5b9a\u3059\u308b\u9001\u4fe1\u5143\u306eIP\u30a2\u30c9\u30ec\u30b9\u306e\u30ec\u30f3\u30b8\u304c\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\u3002\nQuickSight\u306e\u307f\u306b\u8208\u5473\u304c\u3042\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306eURL\u3088\u308a\u524d\u534a\u306f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttp://qiita.com/hayashier/items/61af17b4bccb274598fc#quicksight\u306e\u8a2d\u5b9a\n\nRedshift\u306e\u8a2d\u5b9a\n\n\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u306e\u8a2d\u5b9a\n\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089Redshift\u3092\u9078\u629e\u3002\n[Launch Cluster]\u3092\u9078\u629e\u3002\n\nCluster Details\nCluster Identifier: sample-cluster\nDatabase Name: sampledb\nDatabase Port: 5439\nMaster User Name: test-user\nMaster User Password: Passw0rd\nConfirm Password: Passw0rd\n[Contunue]\u3092\u9078\u629e\u3002\n\nNode Configuration\nNode Type: dc1.large\nCPU: 7 EC2 Compute Units (2 virtual cores) per node\nMemory: 15 GiB per node\nStorage : 160GB SSD storage per node\nI/O Performance: Moderate\nCluster Type: Single Node\nNumber of Compute Nodes*: 1\nMaximum : 1\nMinimum : 1\n[Continue]\u3092\u9078\u629e\u3002\n\nAdditional Configuration\nCluster Parameter Group: A default parameter group will be associated with this cluster.\nEncrypt Database: None\nChoose a VPC: Default VPC\nCluster Subnet Group: default\nPublicly Accesible: Yes\nChoose a Public IP Address: No\nEnhanced VPC Routing: No\nAvailability Zone: No Preference\nVPC Security Groups: default\nCreate CloudWatch Alarm: No\nAvailableRoles: Choose a Role\n[Continue]\u3092\u9078\u629e\u3002\n\u8acb\u6c42\u306b\u95a2\u3057\u3066\u306e\u8b66\u544a\u304c\u51fa\u308b\u304c\u3001[Launch Cluster]\u3092\u9078\u629e\u3002\n[Close]\u3092\u9078\u629e\u3002\n\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30b9\u30bf\u30fc\u306eCluster Status\u304ccreating\u304b\u3089available\u306b\u306a\u308b\u307e\u3067\u5f85\u3064\u3002\n\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u8a2d\u5b9a\n\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6a29\u9650\u3092\u4ed8\u4e0e\u3059\u308b\u3002\n1.\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306eCluster\u3092\u9078\u629e\u3002\n2.VPC ID\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002(Ex. vpc-xxxxxxxx)\n3.\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089VPC\u3092\u9078\u629e\u3002\n4.[\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7]\u3092\u9078\u629e\u3002\n5.[\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210]\u3092\u9078\u629e\u3002\n6.\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\u30cd\u30fc\u30e0\u30bf\u30b0: redshift-sg\n\u30b0\u30eb\u30fc\u30d7\u540d: redshift-sg\n\u8aac\u660e: redshift-sg\nVPC: vpc-xxxxxxxx(\u5148\u307b\u3069\u30e1\u30e2\u3057\u305f\u3082\u306e)\n[\u4f5c\u6210]\u3092\u9078\u629e\u3002\n7.\u4f5c\u6210\u3057\u305f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u9078\u629e\u3057\u305f\u72b6\u614b\u3067\u3001[\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u30eb\u30fc\u30eb]\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001[\u7de8\u96c6]\u3092\u9078\u629e\u3002\n\u30bf\u30a4\u30d7: \u30ab\u30b9\u30bf\u30e0TCP\u30eb\u30fc\u30eb\n\u30d7\u30ed\u30c8\u30b3\u30eb: TCP(6)\n\u30dd\u30fc\u30c8\u7bc4\u56f2: 5439\n\u9001\u4fe1\u5143: \u4efb\u610f\u306e\u5834\u6240\n8.\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306eCluster\u3092\u9078\u629e\u3057\u3066\u3001[Cluster]\u306e\u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9\u304b\u3089[Modify]\u3092\u9078\u629e\u3057\u3001VPC Security Groups\u304b\u3089\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fredshift-sg\u3092\u9078\u629e\u3002\n\nPosgreSQL\u306e\u8a2d\u5b9a\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u7acb\u3066\u3066\u30ed\u30b0\u30a4\u30f3\u3002\nssh -i ~/.ssh/id_rsa_aws_test.pem ec2-user@XX.XXX.XXX.XXX\n\nPostgreSQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nyum update -y\nyum install -y postgresql\n\nPosgreSQL\u3078\u63a5\u7d9a\u3002\npsql -h sample-cluster.xxxxxxxxxxxx.us-east-1.redshift.amazonaws.com -U test-user -d sampledb -p 5439\n\nsampledb=#\u3000create table sample_table (\ntime double precision,\nscore double precision\n);\n\nsampledb=# \\db\n     \u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u4e00\u89a7\n    \u540d\u524d    | owner | location \n------------+-------+----------\n pg_default | rdsdb | \n pg_global  | rdsdb | \n(2 \u884c)\n\nsampledb=# \\d\n             \u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u4e00\u89a7\n schema |      \u540d\u524d      |   type   | owner \n--------+----------------+----------+-------\n public | sample_table | \u30c6\u30fc\u30d6\u30eb | test-user\n(1 \u884c)\n\n\nS3\u306e\u8a2d\u5b9a\n1.\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089S3\u3092\u9078\u629e\u3002\n2.[\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210]\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\u305f\u3060\u3057\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u306f\u6ce8\u610f\u3002\u5f8c\u307b\u3069\u4f5c\u6210\u3059\u308bRedshift\u3068\u4e00\u81f4\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u30d0\u30b1\u30c3\u30c8\u540d: sample-bucket\n\u30ea\u30fc\u30b8\u30e7\u30f3: US Standard\n\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u304b\u3089\u30d0\u30b1\u30c3\u30c8\u3092\u7de8\u96c6\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30a2\u30af\u30bb\u30b9\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"GetObject\",\n            \"Effect\": \"Allow\",\n            \"Principal\": \"*\",\n            \"Action\": \"s3:GetObject\",\n            \"Resource\": \"arn:aws:s3:::sample-bucket/*\"\n        },\n        {\n            \"Sid\": \"ListBucket\",\n            \"Effect\": \"Allow\",\n            \"Principal\": \"*\",\n            \"Action\": \"s3:ListBucket\",\n            \"Resource\": \"arn:aws:s3:::sample-bucket\"\n        }\n    ]\n}\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306aCSV\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001sample.csv\u3068\u3059\u308b\u3002\n0.0,0.11556159877972202\n0.15000000000000002,0.26651804459164957\n0.35000000000000003,0.45004960788354187\n0.4,0.4923782722288377\n0.55,0.6100166047975116\n0.8,0.7723353907234323\n0.8500000000000001,0.7994047693651011\n1.0,0.8692916937732581\n1.1500000000000001,0.9217305049137822\n1.25,0.94677401743939\n1.3,0.9562876445562403\n1.55,0.9735993414622379\n1.6500000000000001,0.9664373548374785\n1.7000000000000002,0.9598669917759179\n1.9500000000000002,0.8977331296873741\n2.6,0.5286810798099599\n2.7,0.449411570846044\n2.8000000000000003,0.36538242946650334\n2.95,0.23158559205148774\n3.2,-0.007130730394672186\n3.5,-0.30657398913335876\n3.6,-0.4062783020741787\n3.9000000000000004,-0.6932281106174598\n3.95,-0.7380731498775843\n4.0,-0.7817440682615289\n4.2,-0.9421186636318482\n4.3,-1.0118541610162926\n4.5,-1.1248186551055641\n4.55,-1.1466810590474197\n5.0,-1.1957252477107565\n\n\nData Pipeline\u306e\u8a2d\u5b9a\nName: SamplePipeline\nDescription (optional): (\u7a7a\u6b04)\nSource: Build using a template\n        Load data from S3 into Redshift\nRedshift password : \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\nRedshift security group(s): default\nRedshift database name: sampledb\nRedshift username: test-user\nCreate table SQL query (optional): (\u7a7a\u6b04) \nTable insert mode: TRUNCATE\nRedshift table name: sample_table\nInput S3 folder: s3://sample-bucket/sample.csv\nRedshift JDBC connection string: jdbc:redshift://sample-cluster.xxxxxxxxxxxx.us-east-1.redshift.amazonaws.com:5439/sampledb\nCopy options (optional): CSV\nPrimary keys (optional): (\u7a7a\u6b04)\nRun: on a schedule\nRun every: 15 minute(s)\nStarting: on pipeline activation\nEnding: never\nLogging: Enabled\nS3 location for logs: s3://sample-bucket/logs/\nIAM roles: Default\nTags\nKey: name\nValue: SamplePipeline\n[Activate]\u3092\u9078\u629e\u3002\n\u203bTable insert mode\u3067TRUNCATE\u306b\u3059\u308b\u3053\u3068\u304c\u5927\u4e8b\u3002\nsampledb=# select * from sample_table;\n time |        score         \n------+----------------------\n 0.15 |     0.26651804459165\n  0.8 |    0.772335390723432\n 1.25 |     0.94677401743939\n  1.7 |    0.959866991775918\n  2.8 |    0.365382429466503\n  3.6 |   -0.406278302074179\n  4.2 |   -0.942118663631848\n    5 |    -1.19572524771076\n 0.35 |    0.450049607883542\n 0.85 |    0.799404769365101\n  1.3 |     0.95628764455624\n 1.95 |    0.897733129687374\n 2.95 |    0.231585592051488\n  3.9 |    -0.69322811061746\n  4.3 |    -1.01185416101629\n  0.4 |    0.492378272228838\n    1 |    0.869291693773258\n 1.55 |    0.973599341462238\n  2.6 |     0.52868107980996\n  3.2 | -0.00713073039467219\n 3.95 |   -0.738073149877584\n\n\u3053\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308c\u3070OK\nhttp://docs.aws.amazon.com/ja_jp/datapipeline/latest/DeveloperGuide/dp-copydata-redshift.html\n\nQuickSight\u306e\u8a2d\u5b9a\n\nQuickSight\u304cAWS\u30ea\u30bd\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6a29\u9650\u306e\u4ed8\u4e0e\nQuickSight\u304c\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u6a29\u9650\u306e\u4ed8\u4e0e\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3002\u9001\u4fe1\u5143\u304c\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u3088\u3046\u306b\u6307\u5b9a\u3059\u308b\u3002\n\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306bQuickSight\u304c\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6a29\u9650\u3092\u4ed8\u4e0e\u3059\u308b\u3002\n1.\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306eCluster\u3092\u9078\u629e\u3002\n2.VPC ID\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002(Ex. vpc-xxxxxxxx)\n3.\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089VPC\u3092\u9078\u629e\u3002\n4.[\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7]\u3092\u9078\u629e\u3002\n5.[\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210]\u3092\u9078\u629e\u3002\n6.\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\u30cd\u30fc\u30e0\u30bf\u30b0: Amazon-QuickSight-access\n\u30b0\u30eb\u30fc\u30d7\u540d: Amazon-QuickSight-access\n\u8aac\u660e: Amazon-QuickSight-access\nVPC: vpc-xxxxxxxx(\u5148\u307b\u3069\u30e1\u30e2\u3057\u305f\u3082\u306e)\n[\u4f5c\u6210]\u3092\u9078\u629e\u3002\n7.\u4f5c\u6210\u3057\u305f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u9078\u629e\u3057\u305f\u72b6\u614b\u3067\u3001[\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u30eb\u30fc\u30eb]\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001[\u7de8\u96c6]\u3092\u9078\u629e\u3002\n\u30bf\u30a4\u30d7: \u30ab\u30b9\u30bf\u30e0TCP\u30eb\u30fc\u30eb\n\u30d7\u30ed\u30c8\u30b3\u30eb: TCP(6)\n\u30dd\u30fc\u30c8\u7bc4\u56f2: 5439(Redshift\u3067\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u30eb\u30fc\u30eb\u3067\u8a31\u53ef\u3057\u305fTCP\u30dd\u30fc\u30c8\u756a\u53f7)\n\u9001\u4fe1\u5143: 52.23.63.224/27(\u5317\u30d0\u30fc\u30b8\u30cb\u30a2\u306e\u5834\u5408)\n\u9001\u4fe1\u5143\u306eIP\u30a2\u30c9\u30ec\u30b9\u306e\u30ec\u30f3\u30b8\u306b\u3064\u3044\u3066\u306f\u3001QuickSight\u3092\u4f7f\u7528\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7570\u306a\u308b\u306e\u3067\u9069\u5207\u306a\u3082\u306e\u3092\u9078\u629e\u3059\u308b\u3002\n\n\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\nIP\u30a2\u30c9\u30ec\u30b9\u30ec\u30f3\u30b8\n\n\n\n\n\u5317\u30d0\u30fc\u30b8\u30cb\u30a2(us-east-1)\n52.23.63.224/27\n\n\n\u30aa\u30ec\u30b4\u30f3(us-east-2)\n54.70.204.128/27\n\n\n\u30a2\u30a4\u30eb\u30e9\u30f3\u30c9(eu-west-1)\n52.210.255.224/27\n\n\n\n8.\u4f5c\u6210\u3057\u305fRedshift\u306eCluster\u3092\u4f5c\u6210\u3057\u305f\u72b6\u614b\u306b\u623b\u308a\u3001[Cluster]\u306e\u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9\u304b\u3089[Modify]\u3092\u9078\u629e\u3002\n9.VPC Security Groups\u306e\u9805\u76ee\u3067\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fAmazon-QuickSight-access\u3068redshift-sg\u3092Command(Ctrl)\u3092\u62bc\u3057\u306a\u304c\u3089\u4e21\u65b9\u9078\u629e\u3057\u3001[Modify]\u3092\u9078\u629e\u3002\nhttp://docs.aws.amazon.com/ja_jp/quicksight/latest/user/enabling-access-redshift.html\n\nQuickSight\u306e\u64cd\u4f5c\n\u73fe\u5728\u3001QuickSight\u306f\u4ee5\u4e0b\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3067\u304d\u308b\u306e\u3067\u3044\u305a\u308c\u304b\u3092\u9078\u629e\u3059\u308b\u3002\nUS East(N. Virginia)\nUS West(Oregon)\nEU(Ireland)\n1.\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u3001QuickSight\u3092\u9078\u629e\u3002\n2.[Sign up]\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\nQuicksight home region: US East(N. Virginia)\nQuickSight account name: test-user\nNotification email address: *************@******\n\n[Continue]\u3092\u9078\u629e\u3002\n4.Sign up\u304c\u5b8c\u4e86\u3057\u3001[Next]\u3092\u9078\u629e\u3002\n\n5.[Go To Amazon QuickSight]\u3092\u9078\u629e\u3002\n\n6.\u6700\u521d\u306bQuickSight\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u304c\u51fa\u308b\u304c\u3001\u5168\u3066[Next]\u3092\u9078\u629e\u3002\n\n7.[Manage data]\u3092\u9078\u629e\u3002\n\n8.[New data set]\u3092\u9078\u629e\u3002\n9.[Redshift(Auto discovered)]\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\nData source name: SampleSource\nInstance ID: sample-cluster\nDatabase name: sampledb\nUsername: test-user\nPassword: Passw0rd\n[Create data source]\u3092\u9078\u629e\u3002\n\u3053\u306e\u6642\u3001Instance ID\u304c\u304b\u3089\u306e\u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9\u304c\u51fa\u3066\u304f\u308b\u6642\u306f\u3001QuickSight\u304cRedshift\u3078\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u304c\u6b63\u5e38\u306b\u4ed8\u4e0e\u3067\u304d\u3066\u3044\u306a\u3044\u3068\u8003\u3048\u3089\u308c\u308b\u3002\nSSL\u3092\u6709\u52b9\u5316\u3057\u305f\u3044\u5834\u5408\u306f[Validate connection]\u3092\u9078\u629e\u3002\nSchema: public\nTables: sample_table\n[Select]\u3092\u9078\u629e\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u78ba\u8a8d\u4e8b\u9805\u304c\u8868\u793a\u3055\u308c\u308b\u3002\nTable:  sample_table\nEstimated table size:   20MBSPICE\nData source:    SampleSource\nSchema: public\n\u4ee5\u4e0b\u306e2\u3064\u306e\u3069\u3061\u3089\u304b\u3092\u9078\u629e\u3059\u308b\u3002\u3053\u3053\u3067\u306fSPICE\u306b\u53d6\u308a\u8fbc\u3080\u65b9\u3092\u9078\u629e\u3002\n- Import to SPICE for quicker analytics\n- Directly query your data\n[Visualize]\u3092\u9078\u629e\u3002\n\n\u30b0\u30e9\u30d5\u306e\u4f5c\u6210\n\u73fe\u5728\u3001QuickSight\u306b\u306f\u4ee5\u4e0b\u306e8\u7a2e\u985e\u306e\u30b0\u30e9\u30d5\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002\u3053\u3053\u3067\u306f\u3001Line Charts\u3092\u9078\u629e\u3002\n\u753b\u9762\u5de6\u306eVisualize\u3092\u9078\u629e\u3057\u3001Fields list\u9805\u76ee\u304b\u3089X\u8ef8,Value(Y\u8ef8)\u306b\u5bfe\u5fdc\u3055\u305b\u305f\u3044Redshift\u3067\u4f5c\u6210\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306e\u30ab\u30e9\u30e0\u3092\u9078\u629e\u3002\nX axis: time\nValue: score\n\u4ee5\u4e0a\u3067\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n\n\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u4ed6\u306e\u30e6\u30fc\u30b6\u3068\u5171\u6709\n\u753b\u9762\u4e0a\u90e8\u306e[Share]\u3092\u9078\u629e\u3002\n[Create dashboard]\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\nCreate new dashboard as: SampleDashboard\n[Create Dashboard]\u3092\u9078\u629e\u3002\nUser email address or username: (Share\u3057\u305f\u3044\u30e6\u30fc\u30b6\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u3082\u3057\u304f\u306f\u30e6\u30fc\u30b6\u540d)\n[Share]\u3092\u9078\u629e\u3002\n\n\u6ce8\u610f\u70b9\n\n\nRedshift\n\nMySQL\u306eAuto Increment\u306b\u76f8\u5f53\u3059\u308bPostgreSQL\u306eserial\u306fRedshift\u3067\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u3002\n\n\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_unsupported-postgresql-datatypes.html\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_TABLE_NEW.html\n\n\nPostgreSQL\u306eserial\u306e\u4ee3\u308f\u308a\u306bIdentity\u304c\u4f7f\u3048\u308b\u3002\n\n\nhttp://dev.classmethod.jp/cloud/aws/amazon-redshift-auto-increment-by-identity-option/\n\n\nRedshift\u3067\u306f\u3001\u30ab\u30e9\u30e0\u306e\u8ffd\u52a0\u3001\u524a\u9664\u306f\u3067\u304d\u307e\u3059\u304c\u3001\u30ab\u30e9\u30e0\u306e\u5909\u66f4\u306f\u3067\u304d\u306a\u3044\u3002\n\n\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_TABLE.html\nhttps://support.flydata.com/hc/ja/articles/206782883-Redshift%E3%81%AE%E3%82%AB%E3%83%A9%E3%83%A0%E5%A4%89%E6%9B%B4-%E3%82%AB%E3%83%A9%E3%83%A0%E5%90%8D-%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B%E3%81%AA%E3%81%A9-%E3%81%AF%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E6%89%8B%E9%A0%86%E3%81%AB%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%81%8B-\n\n\n\n\n\nDataPipeline\n\nCSV\u306e\u5148\u982d\u306e\u30ab\u30e9\u30e0\u540d\u306f\u3044\u3089\u306a\u3044\u3002\nS3\u3068Redshift\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u4e00\u81f4\u3055\u305b\u308b(\u7279\u306bS3\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u306f\u6ce8\u610f\u3001\u307e\u305f\u5909\u66f4\u3067\u304d\u306a\u3044\u3002)\nRedshift\u3078\u306e\u30c7\u30fc\u30bf\u306e\u6d41\u3057\u8fbc\u307f\u306eCron\u306e\u9593\u9694\u309215\u5206\u672a\u6e80\u306b\u306f\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3002\nmyRedshiftCopyOpts (optional)\u306bCSV\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3002\n\n\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_loading_default_values.html\nmyInsertMode: Truncate\u3092\u6307\u5b9a\u3059\u308b\u3002 \u2028\n\n\n\u5b9f\u884c\u3057\u307e\u304f\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6ce8\u544a\u304c\u51fa\u308b\u3002\n\n\n\nWARNING: Your pipeline is scheduled to start in the past, which could create many concurrent pipeline instances (backfilling). To avoid this, set the start date on or near the current date and time.\n\n\nQuickSight\n\n\nDataset\u3068\u3057\u3066Redshift\u3092\u9078\u629e\u3057\u305f\u6642\u306b\u3001Instance ID\u304c\u7a7a\u306e\u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9\u304c\u51fa\u3066\u304f\u308b\u6642\u306f\u3001QuickSight\u304cRedshift\u3078\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u304c\u6b63\u5e38\u306b\u4ed8\u4e0e\u3067\u304d\u3066\u3044\u306a\u3044\u3068\u8003\u3048\u3089\u308c\u308b\u3002\n\n\n\n\n(\u53c2\u8003)Pipeline Definition\u306e\u5185\u5bb9\n{\n  \"objects\": [\n    {\n      \"connectionString\": \"#{myRedshiftJdbcConnectStr}\",\n      \"databaseName\": \"#{myRedshiftDbName}\",\n      \"*password\": \"#{*myRedshiftPassword}\",\n      \"name\": \"RedshiftCluster\",\n      \"id\": \"RedshiftCluster\",\n      \"type\": \"RedshiftDatabase\",\n      \"username\": \"#{myRedshiftUsername}\"\n    },\n    {\n      \"failureAndRerunMode\": \"CASCADE\",\n      \"schedule\": {\n        \"ref\": \"DefaultSchedule\"\n      },\n      \"resourceRole\": \"DataPipelineDefaultResourceRole\",\n      \"role\": \"DataPipelineDefaultRole\",\n      \"pipelineLogUri\": \"s3://sample-bucket/logs/\",\n      \"scheduleType\": \"cron\",\n      \"name\": \"Default\",\n      \"id\": \"Default\"\n    },\n    {\n      \"period\": \"15 Minutes\",\n      \"name\": \"Every 1 minute\",\n      \"id\": \"DefaultSchedule\",\n      \"type\": \"Schedule\",\n      \"startAt\": \"FIRST_ACTIVATION_DATE_TIME\"\n    },\n    {\n      \"instanceType\": \"t1.micro\",\n      \"name\": \"Ec2Instance\",\n      \"securityGroups\": \"#{myRedshiftSecurityGrps}\",\n      \"id\": \"Ec2Instance\",\n      \"type\": \"Ec2Resource\",\n      \"terminateAfter\": \"2 Hours\"\n    },\n    {\n      \"output\": {\n        \"ref\": \"DestRedshiftTable\"\n      },\n      \"input\": {\n        \"ref\": \"S3InputDataNode\"\n      },\n      \"name\": \"RedshiftLoadActivity\",\n      \"commandOptions\": \"#{myRedshiftCopyOpts}\",\n      \"runsOn\": {\n        \"ref\": \"Ec2Instance\"\n      },\n      \"id\": \"RedshiftLoadActivity\",\n      \"type\": \"RedshiftCopyActivity\",\n      \"insertMode\": \"#{myInsertMode}\"\n    },\n    {\n      \"database\": {\n        \"ref\": \"RedshiftCluster\"\n      },\n      \"createTableSql\": \"#{myRedshiftCreateTableSql}\",\n      \"primaryKeys\": \"#{myPrimaryKeys}\",\n      \"name\": \"DestRedshiftTable\",\n      \"id\": \"DestRedshiftTable\",\n      \"type\": \"RedshiftDataNode\",\n      \"tableName\": \"#{myRedshiftTableName}\"\n    },\n    {\n      \"directoryPath\": \"#{myInputS3Loc}\",\n      \"name\": \"S3InputDataNode\",\n      \"id\": \"S3InputDataNode\",\n      \"type\": \"S3DataNode\"\n    }\n  ],\n  \"parameters\": [\n    {\n      \"description\": \"Redshift password\",\n      \"id\": \"*myRedshiftPassword\",\n      \"type\": \"String\"\n    },\n    {\n      \"description\": \"Redshift database name\",\n      \"id\": \"myRedshiftDbName\",\n      \"type\": \"String\"\n    },\n    {\n      \"default\": \"default\",\n      \"watermark\": \"security group name\",\n      \"helpText\": \"The names of one or more security groups that are assigned to the Redshift cluster.\",\n      \"description\": \"Redshift security group(s)\",\n      \"isArray\": \"true\",\n      \"id\": \"myRedshiftSecurityGrps\",\n      \"type\": \"String\"\n    },\n    {\n      \"description\": \"Redshift username\",\n      \"id\": \"myRedshiftUsername\",\n      \"type\": \"String\"\n    },\n    {\n      \"watermark\": \"CREATE TABLE IF NOT EXISTS #{tableName} (id varchar(255), name varchar(255), address varchar(255), primary key(id)) distkey(id) sortkey(id);\",\n      \"helpText\": \"The SQL statement to create the Redshift table if it does not already exist.\",\n      \"description\": \"Create table SQL query\",\n      \"optional\": \"true\",\n      \"id\": \"myRedshiftCreateTableSql\",\n      \"type\": \"String\"\n    },\n    {\n      \"helpText\": \"The name of an existing table or a new table that will be created based on the create table SQL query parameter below.\",\n      \"description\": \"Redshift table name\",\n      \"id\": \"myRedshiftTableName\",\n      \"type\": \"String\"\n    },\n    {\n      \"default\": \"OVERWRITE_EXISTING\",\n      \"helpLink\": \"https://docs.aws.amazon.com/console/datapipeline/redshiftcopyactivity\",\n      \"helpText\": \"Determines how to handle pre-existing data in the target table that overlaps with rows in the data to be loaded.\",\n      \"description\": \"Table insert mode\",\n      \"id\": \"myInsertMode\",\n      \"type\": \"String\"\n    },\n    {\n      \"helpText\": \"The S3 folder where one or more input files are located.\",\n      \"description\": \"Input S3 folder\",\n      \"id\": \"myInputS3Loc\",\n      \"type\": \"AWS::S3::ObjectKey\"\n    },\n    {\n      \"watermark\": \"jdbc:postgresql://endpoint:port/database?tcpKeepAlive=true\",\n      \"description\": \"Redshift JDBC connection string\",\n      \"id\": \"myRedshiftJdbcConnectStr\",\n      \"type\": \"String\"\n    },\n    {\n      \"helpLink\": \"https://docs.aws.amazon.com/console/datapipeline/redshiftcopyactivity\",\n      \"watermark\": \"IGNOREHEADER AS 1\",\n      \"helpText\": \"COPY parameters to pass to Redshift\",\n      \"description\": \"Copy options\",\n      \"isArray\": \"true\",\n      \"optional\": \"true\",\n      \"id\": \"myRedshiftCopyOpts\",\n      \"type\": \"String\"\n    },\n    {\n      \"helpLink\": \"https://docs.aws.amazon.com/console/datapipeline/dp_object_redshiftdatanode\",\n      \"helpText\": \"The names of all primary key columns in the Redshift table used to merge existing data with new data.\",\n      \"description\": \"Primary keys\",\n      \"isArray\": \"true\",\n      \"optional\": \"true\",\n      \"id\": \"myPrimaryKeys\",\n      \"type\": \"String\"\n    }\n  ],\n  \"values\": {\n    \"myRedshiftUsername\": \"test-user\",\n    \"myRedshiftDbName\": \"sampledb\",\n    \"myRedshiftJdbcConnectStr\": \"jdbc:redshift://sample-cluster.xxxxxxxxxxxx.us-east-1.redshift.amazonaws.com:5439/sampledb\",\n    \"*myRedshiftPassword\": \"Passw0rd\",\n    \"myInsertMode\": \"TRUNCATE\",\n    \"myRedshiftSecurityGrps\": \"default\",\n    \"myRedshiftTableName\": \"sample_table\",\n    \"myInputS3Loc\": \"s3://sample-bucket/sample-emr/output/output.csv/part-r-00000-7fb2a847-faf7-43c1-b888-ad839e2af89e.csv\",\n    \"myRedshiftCopyOpts\": \"CSV\"\n  }\n}\n\n\n\u53c2\u8003\nQuickSight \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://docs.aws.amazon.com/ja_jp/quicksight/latest/user/welcome.html\nDataPipeline \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://docs.aws.amazon.com/ja_jp/datapipeline/latest/DeveloperGuide/what-is-datapipeline.html\nRedshift \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/gsg/getting-started.html\nQuickSight \u6599\u91d1\nhttps://aws.amazon.com/jp/quicksight/pricing/\nTableau \u6599\u91d1\nhttp://sios.jp/bigdata/tableau/price.html\nBI\u30c4\u30fc\u30eb\u3068\u8a00\u3048\u3070\u5b9a\u8a55\u306e\u3042\u308bTableau\u3084Qlik View\u3001Power BI\u306a\u3069\u304c\u3042\u308a\u3001Google\u304b\u3089\u3082Data Studio\u3068\u3044\u3046\u30d9\u30fc\u30bf\u7248\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u3042\u308a\u307e\u3059\u3002(\u73fe\u5730\u3067\u306f\u65e5\u672c\u3067\u5229\u7528\u3067\u304d\u306a\u3044)\n\n\u305d\u3093\u306a\u4e2d\u3067\u3001\u5148\u65e5QuickSight\u304c\u30d7\u30ec\u30d3\u30e5\u30fc\u7248\u304b\u3089GA\u306b\u306a\u308a\u3001\u307e\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3082\u516c\u958b\u3055\u308c\u307e\u3057\u305f\u3002\nhttp://docs.aws.amazon.com/ja_jp/quicksight/latest/user/welcome.html\n\n<img width=\"1280\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-23 21.50.47.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/81083/10fbba52-b859-4559-6943-b52f838920af.png\">\n\nQuickSight\u306f\u975e\u5e38\u306b\u30b7\u30f3\u30d7\u30eb\u3067\u76f4\u611f\u7684\u306a\u64cd\u4f5c\u3067\u4f5c\u696d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u307e\u305f\u4ed6\u306eAWS\u30b5\u30fc\u30d3\u30b9\u3068\u306e\u9023\u643a\u3082\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306f\u73fe\u5728\u3001\u4ee5\u4e0b\u306e3\u3064\u306e\u307f\u3067\u6771\u4eac\u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002\n\n- US East(N. Virginia)\n- US West(Oregon)\n- EU(Ireland)\n\n\u30c7\u30fc\u30bf\u30bd\u30fc\u30b9\u3068\u3057\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u3082\u306e\u304c\u5229\u7528\u3067\u304d\u308b\u3002\n\n- \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\n    - .csv\n    - .tsv\n    - .clf\n    - .xlsx\n- Salesforce\n- S3\n- RDS\n- Redshift\n    - Auto-discoverd\n    - Manual connect\n- MySQL\n- PosgreSQL\n- SQL Server\n- Aurora\n- MariaDB\n\n\u307e\u305f\u3001\u30b0\u30e9\u30d5\u306e\u7a2e\u985e\u306f\u73fe\u5728\u4ee5\u4e0b\u306e8\u7a2e\u985e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002\n\n- AutoGraph\n- Bar Charts\n- Line Charts\n- Pivot Table\n- Scatter Plot\n- Tree Map\n- Pie Chart\n- Heat Map\n\n\u6599\u91d1\u306f\u3001Tableau\u304c\u30e9\u30a4\u30bb\u30f3\u30b9\u6599\u304c12\u4e07\u5186\u308424\u4e07\u5186\u3060\u3068\u8003\u3048\u308b\u3068\u30011000\u5186\u7a0b\u5ea6\u304b\u3089\u4f7f\u7528\u53ef\u80fd\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u5024\u6bb5\u306f\u5b89\u3081\u3060\u3068\u8a00\u3048\u307e\u3059\u3002\n\n||Standard Edition||Enterprise Edition||\n|:--|:--|:--|:--|:--|\n|\u30b5\u30d6\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3|1\u5e74|1\u304b\u6708\t|1\u5e74|1\u304b\u6708|\n|1\u30e6\u30fc\u30b6\u30fc\u3042\u305f\u308a1\u304b\u6708\u3054\u3068\u306e\u6599\u91d1|9.00USD|12.00USD|18.00USD|24.00USD|\n|\u30d0\u30f3\u30c9\u30eb SPICE (GB)*|10|10|10\t|10|\n|\u8ffd\u52a0\u306eSPICEGB/\u6708\u306e\u6599\u91d1|0.25USD|0.25USD|0.38USD|0.38USD|\n\n\n\u5b9f\u969b\u306b\u64cd\u4f5c\u3059\u308b\u6ce8\u610f\u70b9\u3068\u3057\u3066\u306f\u3001\u5f8c\u307b\u3069\u8a18\u8ff0\u3057\u307e\u3059\u304c\u3001QuickSight\u304c\u4ed6\u306eAWS\u30ea\u30bd\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u969b\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u8a2d\u5b9a\u3067\u3059\u304c\u3001\u5229\u7528\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u3063\u3066\u6307\u5b9a\u3059\u308b\u9001\u4fe1\u5143\u306eIP\u30a2\u30c9\u30ec\u30b9\u306e\u30ec\u30f3\u30b8\u304c\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\u3002\nQuickSight\u306e\u307f\u306b\u8208\u5473\u304c\u3042\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306eURL\u3088\u308a\u524d\u534a\u306f\u98db\u3070\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttp://qiita.com/hayashier/items/61af17b4bccb274598fc#quicksight\u306e\u8a2d\u5b9a\n\n#Redshift\u306e\u8a2d\u5b9a\n##\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u306e\u8a2d\u5b9a\n\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089Redshift\u3092\u9078\u629e\u3002\n[Launch Cluster]\u3092\u9078\u629e\u3002\n\n\n###Cluster Details\nCluster Identifier: sample-cluster\n\nDatabase Name: sampledb\nDatabase Port: 5439\nMaster User Name: test-user\nMaster User Password: Passw0rd\nConfirm Password: Passw0rd\n\n[Contunue]\u3092\u9078\u629e\u3002\n\n###Node Configuration\nNode Type: dc1.large\n\nCPU: 7 EC2 Compute Units (2 virtual cores) per node\nMemory: 15 GiB per node\nStorage\t: 160GB SSD storage per node\nI/O Performance: Moderate\n \n \nCluster Type: Single Node\t\nNumber of Compute Nodes*: 1\nMaximum\t: 1\nMinimum\t: 1\n\n[Continue]\u3092\u9078\u629e\u3002\n\n###Additional Configuration\nCluster Parameter Group: A default parameter group will be associated with this cluster.\nEncrypt Database: None\n\nChoose a VPC: Default VPC\nCluster Subnet Group: default\nPublicly Accesible: Yes\n\nChoose a Public IP Address: No\nEnhanced VPC Routing: No\nAvailability Zone: No Preference\n\nVPC Security Groups: default\nCreate CloudWatch Alarm: No\n\nAvailableRoles: Choose a Role\n\n[Continue]\u3092\u9078\u629e\u3002\n\n\u8acb\u6c42\u306b\u95a2\u3057\u3066\u306e\u8b66\u544a\u304c\u51fa\u308b\u304c\u3001[Launch Cluster]\u3092\u9078\u629e\u3002\n\n[Close]\u3092\u9078\u629e\u3002\n\n\u4f5c\u6210\u3057\u305f\u30af\u30e9\u30b9\u30bf\u30fc\u306eCluster Status\u304ccreating\u304b\u3089available\u306b\u306a\u308b\u307e\u3067\u5f85\u3064\u3002\n\n###\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u8a2d\u5b9a\n\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6a29\u9650\u3092\u4ed8\u4e0e\u3059\u308b\u3002\n1.\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306eCluster\u3092\u9078\u629e\u3002\n2.VPC ID\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002(Ex. vpc-xxxxxxxx)\n3.\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089VPC\u3092\u9078\u629e\u3002\n4.[\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7]\u3092\u9078\u629e\u3002\n5.[\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210]\u3092\u9078\u629e\u3002\n6.\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\n\u30cd\u30fc\u30e0\u30bf\u30b0: redshift-sg\n\u30b0\u30eb\u30fc\u30d7\u540d: redshift-sg\n\u8aac\u660e: redshift-sg\nVPC: vpc-xxxxxxxx(\u5148\u307b\u3069\u30e1\u30e2\u3057\u305f\u3082\u306e)\n\n[\u4f5c\u6210]\u3092\u9078\u629e\u3002\n\n7.\u4f5c\u6210\u3057\u305f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u9078\u629e\u3057\u305f\u72b6\u614b\u3067\u3001[\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u30eb\u30fc\u30eb]\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001[\u7de8\u96c6]\u3092\u9078\u629e\u3002\n\n\u30bf\u30a4\u30d7: \u30ab\u30b9\u30bf\u30e0TCP\u30eb\u30fc\u30eb\n\u30d7\u30ed\u30c8\u30b3\u30eb: TCP(6)\n\u30dd\u30fc\u30c8\u7bc4\u56f2: 5439\n\u9001\u4fe1\u5143: \u4efb\u610f\u306e\u5834\u6240\n\n8.\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306eCluster\u3092\u9078\u629e\u3057\u3066\u3001[Cluster]\u306e\u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9\u304b\u3089[Modify]\u3092\u9078\u629e\u3057\u3001VPC Security Groups\u304b\u3089\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fredshift-sg\u3092\u9078\u629e\u3002\n\n###PosgreSQL\u306e\u8a2d\u5b9a\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u7acb\u3066\u3066\u30ed\u30b0\u30a4\u30f3\u3002\n\n```\nssh -i ~/.ssh/id_rsa_aws_test.pem ec2-user@XX.XXX.XXX.XXX\n```\n\nPostgreSQL\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n```\nyum update -y\nyum install -y postgresql\n```\n\nPosgreSQL\u3078\u63a5\u7d9a\u3002\n\n```\npsql -h sample-cluster.xxxxxxxxxxxx.us-east-1.redshift.amazonaws.com -U test-user -d sampledb -p 5439\n```\n\n\n```\nsampledb=#\u3000create table sample_table (\ntime double precision,\nscore double precision\n);\n```\n\n```\nsampledb=# \\db\n     \u30c6\u30fc\u30d6\u30eb\u30b9\u30da\u30fc\u30b9\u4e00\u89a7\n    \u540d\u524d    | owner | location \n------------+-------+----------\n pg_default | rdsdb | \n pg_global  | rdsdb | \n(2 \u884c)\n\nsampledb=# \\d\n             \u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u4e00\u89a7\n schema |      \u540d\u524d      |   type   | owner \n--------+----------------+----------+-------\n public | sample_table | \u30c6\u30fc\u30d6\u30eb | test-user\n(1 \u884c)\n```\n\n#S3\u306e\u8a2d\u5b9a\n1.\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089S3\u3092\u9078\u629e\u3002\n2.[\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210]\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\u305f\u3060\u3057\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u306f\u6ce8\u610f\u3002\u5f8c\u307b\u3069\u4f5c\u6210\u3059\u308bRedshift\u3068\u4e00\u81f4\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\u30d0\u30b1\u30c3\u30c8\u540d: sample-bucket\n\u30ea\u30fc\u30b8\u30e7\u30f3: US Standard\n\n\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u304b\u3089\u30d0\u30b1\u30c3\u30c8\u3092\u7de8\u96c6\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30a2\u30af\u30bb\u30b9\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3002\n\n```\n{\n\t\"Version\": \"2012-10-17\",\n\t\"Statement\": [\n\t\t{\n\t\t\t\"Sid\": \"GetObject\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Principal\": \"*\",\n\t\t\t\"Action\": \"s3:GetObject\",\n\t\t\t\"Resource\": \"arn:aws:s3:::sample-bucket/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"ListBucket\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Principal\": \"*\",\n\t\t\t\"Action\": \"s3:ListBucket\",\n\t\t\t\"Resource\": \"arn:aws:s3:::sample-bucket\"\n\t\t}\n\t]\n}\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306aCSV\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3001sample.csv\u3068\u3059\u308b\u3002\n\n```\n0.0,0.11556159877972202\n0.15000000000000002,0.26651804459164957\n0.35000000000000003,0.45004960788354187\n0.4,0.4923782722288377\n0.55,0.6100166047975116\n0.8,0.7723353907234323\n0.8500000000000001,0.7994047693651011\n1.0,0.8692916937732581\n1.1500000000000001,0.9217305049137822\n1.25,0.94677401743939\n1.3,0.9562876445562403\n1.55,0.9735993414622379\n1.6500000000000001,0.9664373548374785\n1.7000000000000002,0.9598669917759179\n1.9500000000000002,0.8977331296873741\n2.6,0.5286810798099599\n2.7,0.449411570846044\n2.8000000000000003,0.36538242946650334\n2.95,0.23158559205148774\n3.2,-0.007130730394672186\n3.5,-0.30657398913335876\n3.6,-0.4062783020741787\n3.9000000000000004,-0.6932281106174598\n3.95,-0.7380731498775843\n4.0,-0.7817440682615289\n4.2,-0.9421186636318482\n4.3,-1.0118541610162926\n4.5,-1.1248186551055641\n4.55,-1.1466810590474197\n5.0,-1.1957252477107565\n```\n\n\n\n#Data Pipeline\u306e\u8a2d\u5b9a\n\nName: SamplePipeline\nDescription (optional): (\u7a7a\u6b04)\nSource: Build using a template\n        Load data from S3 into Redshift\n\nRedshift password : \u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\nRedshift security group(s): default\nRedshift database name: sampledb\nRedshift username: test-user\nCreate table SQL query (optional): (\u7a7a\u6b04) \nTable insert mode: TRUNCATE\nRedshift table name: sample_table\nInput S3 folder: s3://sample-bucket/sample.csv\nRedshift JDBC connection string: jdbc:redshift://sample-cluster.xxxxxxxxxxxx.us-east-1.redshift.amazonaws.com:5439/sampledb\nCopy options (optional): CSV\nPrimary keys (optional): (\u7a7a\u6b04)\n\nRun: on a schedule\nRun every: 15 minute(s)\nStarting: on pipeline activation\nEnding: never\n\nLogging: Enabled\nS3 location for logs: s3://sample-bucket/logs/\n\nIAM roles: Default\n\nTags\nKey: name\nValue: SamplePipeline\n\n[Activate]\u3092\u9078\u629e\u3002\n\n\u203bTable insert mode\u3067TRUNCATE\u306b\u3059\u308b\u3053\u3068\u304c\u5927\u4e8b\u3002\n\n```\nsampledb=# select * from sample_table;\n time |        score         \n------+----------------------\n 0.15 |     0.26651804459165\n  0.8 |    0.772335390723432\n 1.25 |     0.94677401743939\n  1.7 |    0.959866991775918\n  2.8 |    0.365382429466503\n  3.6 |   -0.406278302074179\n  4.2 |   -0.942118663631848\n    5 |    -1.19572524771076\n 0.35 |    0.450049607883542\n 0.85 |    0.799404769365101\n  1.3 |     0.95628764455624\n 1.95 |    0.897733129687374\n 2.95 |    0.231585592051488\n  3.9 |    -0.69322811061746\n  4.3 |    -1.01185416101629\n  0.4 |    0.492378272228838\n    1 |    0.869291693773258\n 1.55 |    0.973599341462238\n  2.6 |     0.52868107980996\n  3.2 | -0.00713073039467219\n 3.95 |   -0.738073149877584\n```\n\n\u3053\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308c\u3070OK\n\nhttp://docs.aws.amazon.com/ja_jp/datapipeline/latest/DeveloperGuide/dp-copydata-redshift.html\n\n#QuickSight\u306e\u8a2d\u5b9a\n##QuickSight\u304cAWS\u30ea\u30bd\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6a29\u9650\u306e\u4ed8\u4e0e\nQuickSight\u304c\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u6a29\u9650\u306e\u4ed8\u4e0e\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3002\u9001\u4fe1\u5143\u304c\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u3088\u3046\u306b\u6307\u5b9a\u3059\u308b\u3002\n\n\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306bQuickSight\u304c\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6a29\u9650\u3092\u4ed8\u4e0e\u3059\u308b\u3002\n1.\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fRedshift\u306eCluster\u3092\u9078\u629e\u3002\n2.VPC ID\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002(Ex. vpc-xxxxxxxx)\n3.\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089VPC\u3092\u9078\u629e\u3002\n4.[\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7]\u3092\u9078\u629e\u3002\n5.[\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210]\u3092\u9078\u629e\u3002\n6.\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\n\u30cd\u30fc\u30e0\u30bf\u30b0: Amazon-QuickSight-access\n\u30b0\u30eb\u30fc\u30d7\u540d: Amazon-QuickSight-access\n\u8aac\u660e: Amazon-QuickSight-access\nVPC: vpc-xxxxxxxx(\u5148\u307b\u3069\u30e1\u30e2\u3057\u305f\u3082\u306e)\n\n[\u4f5c\u6210]\u3092\u9078\u629e\u3002\n\n7.\u4f5c\u6210\u3057\u305f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u9078\u629e\u3057\u305f\u72b6\u614b\u3067\u3001[\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u30eb\u30fc\u30eb]\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001[\u7de8\u96c6]\u3092\u9078\u629e\u3002\n\n\u30bf\u30a4\u30d7: \u30ab\u30b9\u30bf\u30e0TCP\u30eb\u30fc\u30eb\n\u30d7\u30ed\u30c8\u30b3\u30eb: TCP(6)\n\u30dd\u30fc\u30c8\u7bc4\u56f2: 5439(Redshift\u3067\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u30eb\u30fc\u30eb\u3067\u8a31\u53ef\u3057\u305fTCP\u30dd\u30fc\u30c8\u756a\u53f7)\n\u9001\u4fe1\u5143: 52.23.63.224/27(\u5317\u30d0\u30fc\u30b8\u30cb\u30a2\u306e\u5834\u5408)\n\n\u9001\u4fe1\u5143\u306eIP\u30a2\u30c9\u30ec\u30b9\u306e\u30ec\u30f3\u30b8\u306b\u3064\u3044\u3066\u306f\u3001QuickSight\u3092\u4f7f\u7528\u3059\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3088\u3063\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7570\u306a\u308b\u306e\u3067\u9069\u5207\u306a\u3082\u306e\u3092\u9078\u629e\u3059\u308b\u3002\n\n|\u30ea\u30fc\u30b8\u30e7\u30f3|IP\u30a2\u30c9\u30ec\u30b9\u30ec\u30f3\u30b8|\n|:--|:--|:--|\n|\u5317\u30d0\u30fc\u30b8\u30cb\u30a2(us-east-1)|52.23.63.224/27|\n|\u30aa\u30ec\u30b4\u30f3(us-east-2)|54.70.204.128/27|\n|\u30a2\u30a4\u30eb\u30e9\u30f3\u30c9(eu-west-1)|52.210.255.224/27|\n\n8.\u4f5c\u6210\u3057\u305fRedshift\u306eCluster\u3092\u4f5c\u6210\u3057\u305f\u72b6\u614b\u306b\u623b\u308a\u3001[Cluster]\u306e\u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9\u304b\u3089[Modify]\u3092\u9078\u629e\u3002\n9.VPC Security Groups\u306e\u9805\u76ee\u3067\u5148\u307b\u3069\u4f5c\u6210\u3057\u305fAmazon-QuickSight-access\u3068redshift-sg\u3092Command(Ctrl)\u3092\u62bc\u3057\u306a\u304c\u3089\u4e21\u65b9\u9078\u629e\u3057\u3001[Modify]\u3092\u9078\u629e\u3002\n\n\nhttp://docs.aws.amazon.com/ja_jp/quicksight/latest/user/enabling-access-redshift.html\n\n\n##QuickSight\u306e\u64cd\u4f5c\n\u73fe\u5728\u3001QuickSight\u306f\u4ee5\u4e0b\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3067\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3067\u304d\u308b\u306e\u3067\u3044\u305a\u308c\u304b\u3092\u9078\u629e\u3059\u308b\u3002\n\nUS East(N. Virginia)\nUS West(Oregon)\nEU(Ireland)\n\n\n1.\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u3001QuickSight\u3092\u9078\u629e\u3002\n\n\n\n2.[Sign up]\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\n<img width=\"1256\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-20 1.26.41.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/81083/4bbdb451-b99f-ba56-d12e-5b6f4d812b84.png\">\n\n\nQuicksight home region: US East(N. Virginia)\nQuickSight account name: test-user\nNotification email address: ****************@*********\n\n<img width=\"1257\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-20 1.26.56.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/81083/8385d243-dd44-718a-b700-b94c78b62f11.png\">\n\n[Continue]\u3092\u9078\u629e\u3002\n \n4.Sign up\u304c\u5b8c\u4e86\u3057\u3001[Next]\u3092\u9078\u629e\u3002\n\n<img width=\"1255\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-20 1.29.17.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/81083/44fd36a1-faff-4f4b-9ad7-32670d5e1c4d.png\">\n\n\n5.[Go To Amazon QuickSight]\u3092\u9078\u629e\u3002\n\n<img width=\"1252\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-20 1.30.16.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/81083/31fcd5c3-f7fd-10ab-b2e2-bb92d89be097.png\">\n\n\n6.\u6700\u521d\u306bQuickSight\u306e\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u304c\u51fa\u308b\u304c\u3001\u5168\u3066[Next]\u3092\u9078\u629e\u3002\n\n<img width=\"1258\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-20 1.31.07.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/81083/2a828a52-43d2-f704-337b-eb78a4a3b0b2.png\">\n\n\n7.[Manage data]\u3092\u9078\u629e\u3002\n\n<img width=\"1255\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-20 1.32.05.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/81083/f4f8f815-ec03-4dbc-ca39-3311d956d183.png\">\n\n8.[New data set]\u3092\u9078\u629e\u3002\n9.[Redshift(Auto discovered)]\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\n<img width=\"1195\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-23 21.56.27.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/81083/2bef3029-c9f0-43c9-371b-b319d64a6e94.png\">\n\n\nData source name: SampleSource\nInstance ID: sample-cluster\nDatabase name: sampledb\nUsername: test-user\nPassword: Passw0rd\n\n[Create data source]\u3092\u9078\u629e\u3002\n\n\u3053\u306e\u6642\u3001Instance ID\u304c\u304b\u3089\u306e\u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9\u304c\u51fa\u3066\u304f\u308b\u6642\u306f\u3001QuickSight\u304cRedshift\u3078\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u304c\u6b63\u5e38\u306b\u4ed8\u4e0e\u3067\u304d\u3066\u3044\u306a\u3044\u3068\u8003\u3048\u3089\u308c\u308b\u3002\n\nSSL\u3092\u6709\u52b9\u5316\u3057\u305f\u3044\u5834\u5408\u306f[Validate connection]\u3092\u9078\u629e\u3002\n\nSchema: public\nTables: sample_table\n\n[Select]\u3092\u9078\u629e\u3002\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u78ba\u8a8d\u4e8b\u9805\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\nTable:\tsample_table\nEstimated table size:\t20MBSPICE\nData source:\tSampleSource\nSchema:\tpublic\n\n\n\u4ee5\u4e0b\u306e2\u3064\u306e\u3069\u3061\u3089\u304b\u3092\u9078\u629e\u3059\u308b\u3002\u3053\u3053\u3067\u306fSPICE\u306b\u53d6\u308a\u8fbc\u3080\u65b9\u3092\u9078\u629e\u3002\n- Import to SPICE for quicker analytics\n- Directly query your data\n\n[Visualize]\u3092\u9078\u629e\u3002\n\n##\u30b0\u30e9\u30d5\u306e\u4f5c\u6210\n\n\u73fe\u5728\u3001QuickSight\u306b\u306f\u4ee5\u4e0b\u306e8\u7a2e\u985e\u306e\u30b0\u30e9\u30d5\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002\u3053\u3053\u3067\u306f\u3001Line Charts\u3092\u9078\u629e\u3002\n\n\u753b\u9762\u5de6\u306eVisualize\u3092\u9078\u629e\u3057\u3001Fields list\u9805\u76ee\u304b\u3089X\u8ef8,Value(Y\u8ef8)\u306b\u5bfe\u5fdc\u3055\u305b\u305f\u3044Redshift\u3067\u4f5c\u6210\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u306e\u30ab\u30e9\u30e0\u3092\u9078\u629e\u3002\n\nX axis: time\nValue: score\n\n\u4ee5\u4e0a\u3067\u30b0\u30e9\u30d5\u304c\u8868\u793a\u3055\u308c\u308b\u3002\n\n<img width=\"1198\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-23 19.23.04.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/81083/c4d3ceda-108b-fdd6-6a1c-3cfca3160c84.png\">\n\n\n##\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3067\u4ed6\u306e\u30e6\u30fc\u30b6\u3068\u5171\u6709\n\u753b\u9762\u4e0a\u90e8\u306e[Share]\u3092\u9078\u629e\u3002\n[Create dashboard]\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3059\u308b\u3002\n\nCreate new dashboard as: SampleDashboard\n\n[Create Dashboard]\u3092\u9078\u629e\u3002\n\nUser email address or username: (Share\u3057\u305f\u3044\u30e6\u30fc\u30b6\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u3082\u3057\u304f\u306f\u30e6\u30fc\u30b6\u540d)\n\n[Share]\u3092\u9078\u629e\u3002\n\n\n\n#\u6ce8\u610f\u70b9\n- Redshift\n\t- MySQL\u306eAuto Increment\u306b\u76f8\u5f53\u3059\u308bPostgreSQL\u306eserial\u306fRedshift\u3067\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u3002\n\t\t- http://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_unsupported-postgresql-datatypes.html\n\t\t- http://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_TABLE_NEW.html\n\n\n\t- PostgreSQL\u306eserial\u306e\u4ee3\u308f\u308a\u306bIdentity\u304c\u4f7f\u3048\u308b\u3002\n\t\t- http://dev.classmethod.jp/cloud/aws/amazon-redshift-auto-increment-by-identity-option/\n\t- Redshift\u3067\u306f\u3001\u30ab\u30e9\u30e0\u306e\u8ffd\u52a0\u3001\u524a\u9664\u306f\u3067\u304d\u307e\u3059\u304c\u3001\u30ab\u30e9\u30e0\u306e\u5909\u66f4\u306f\u3067\u304d\u306a\u3044\u3002\n\t\t- http://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_TABLE.html\n\t\t- https://support.flydata.com/hc/ja/articles/206782883-Redshift%E3%81%AE%E3%82%AB%E3%83%A9%E3%83%A0%E5%A4%89%E6%9B%B4-%E3%82%AB%E3%83%A9%E3%83%A0%E5%90%8D-%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B%E3%81%AA%E3%81%A9-%E3%81%AF%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E6%89%8B%E9%A0%86%E3%81%AB%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%81%8B-\n- DataPipeline\n\t- CSV\u306e\u5148\u982d\u306e\u30ab\u30e9\u30e0\u540d\u306f\u3044\u3089\u306a\u3044\u3002\n\t- S3\u3068Redshift\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u4e00\u81f4\u3055\u305b\u308b(\u7279\u306bS3\u306e\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u306f\u6ce8\u610f\u3001\u307e\u305f\u5909\u66f4\u3067\u304d\u306a\u3044\u3002)\n\t- Redshift\u3078\u306e\u30c7\u30fc\u30bf\u306e\u6d41\u3057\u8fbc\u307f\u306eCron\u306e\u9593\u9694\u309215\u5206\u672a\u6e80\u306b\u306f\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3002\n\t- myRedshiftCopyOpts (optional)\u306bCSV\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3002\n\t\t- http://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_loading_default_values.html\n        - myInsertMode: Truncate\u3092\u6307\u5b9a\u3059\u308b\u3002 \u2028\n\n\t- \u5b9f\u884c\u3057\u307e\u304f\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6ce8\u544a\u304c\u51fa\u308b\u3002\n\n```\nWARNING: Your pipeline is scheduled to start in the past, which could create many concurrent pipeline instances (backfilling). To avoid this, set the start date on or near the current date and time.\n```\n\n<!--\nRedshift\u3067series\u5c5e\u6027\u3092\u4ed8\u3051\u305f\u3082\u306e\u3092\u542b\u3080\u6642\u306f EXPLICIT_IDS\u30aa\u30d7\u30b7\u30e7\u30f3\n-->\n\n- QuickSight\n    - Dataset\u3068\u3057\u3066Redshift\u3092\u9078\u629e\u3057\u305f\u6642\u306b\u3001Instance ID\u304c\u7a7a\u306e\u30bb\u30ec\u30af\u30c8\u30dc\u30c3\u30af\u30b9\u304c\u51fa\u3066\u304f\u308b\u6642\u306f\u3001QuickSight\u304cRedshift\u3078\u306e\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u304c\u6b63\u5e38\u306b\u4ed8\u4e0e\u3067\u304d\u3066\u3044\u306a\u3044\u3068\u8003\u3048\u3089\u308c\u308b\u3002\n\n<!--\n- S3\u304b\u3089Redshift\u3078\u306e\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u8fbc\u307f\n- \u30a8\u30e9\u30fc0\n\u30ab\u30e9\u30e0\u540d\u306f\u3044\u3089\u306a\u3044\u3002\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u306a\u3093\u3068\u304b\u306a\u3089\u306a\u3044?\n\n- \u30a8\u30e9\u30fc1\n```\nERROR:  S3ServiceException:The bucket you are attempting to access must be addressed using the specified endpoint. Please send all future requests to this endpoint.,Status 301,Error PermanentRedirect,Rid 856B5DA6C4C0818A,ExtRid SdwEdMk+z9I1xT702F6eX2AEL4hkz2Xn8lS3\n```\n\n\n```\nsampledb=# copy sample_table from 's3://sample-bucket/sample-emr/output/output.csv/part-r-00000-7fb2a847-faf7-43c1-b888-ad839e2af89e.csv' \ncredentials 'aws_access_key_id=AKIA***************;aws_secret_access_key=****************************************'\ncsv;\nERROR:  S3ServiceException:The bucket you are attempting to access must be addressed using the specified endpoint. Please send all future requests to this endpoint.,Status 301,Error PermanentRedirect,Rid 856B5DA6C4C0818A,ExtRid SdwEdMk+z9I1xT702F6eX2AEL4hkz2Xn8lS3\nDETAIL:  \n  -----------------------------------------------\n  error:  S3ServiceException:The bucket you are attempting to access must be addressed using the specified endpoint. Please send all future requests to this endpoint.,Status 301,Error PermanentRedirect,Rid 856B5DA6C4C0818A,ExtRid SdwEdMk+z9I1xT702F6eX2AEL4hkz2Xn8lS3\n  code:      8001\n  context:   Listing bucket=sample-bucket prefix=sample-emr/output/output.csv/part-r-00000-7fb2a847-faf7-43c1-b888-ad839e2af89e.csv\n  query:     1169\n  location:  s3_utility.cpp:552\n  process:   padbmaster [pid=10260]\n  -----------------------------------------------\n```\n\n\u30d0\u30b1\u30c3\u30c8\u304c\u7570\u306a\u308b\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3042\u308b\u3002\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/s3serviceexception-error.html\n\n- \u30a8\u30e9\u30fc2\n\n```\nERROR:  Load into table 'sample_table' failed.  Check 'stl_load_errors' system table for details.\n```\n\n```\n\\d stl_load_errors;\n          \u30c6\u30fc\u30d6\u30eb \"pg_catalog.stl_load_errors\"\n       \u5217        |             \u578b              |  \u4fee\u98fe\u8a9e  \n-----------------+-----------------------------+----------\n userid          | integer                     | not null\n slice           | integer                     | not null\n tbl             | integer                     | not null\n starttime       | timestamp without time zone | not null\n session         | integer                     | not null\n query           | integer                     | not null\n filename        | character(256)              | not null\n line_number     | bigint                      | not null\n colname         | character(127)              | not null\n type            | character(10)               | not null\n col_length      | character(10)               | not null\n position        | integer                     | not null\n raw_line        | character(1024)             | not null\n raw_field_value | character(1024)             | not null\n err_code        | integer                     | not null\n err_reason      | character(100)              | not null\n```\n\n\n```\nselect distinct tbl, trim(name) as table_name, query, starttime,\ntrim(filename) as input, line_number, colname, err_code,\ntrim(err_reason) as reason, type\nfrom stl_load_errors sl, stv_tbl_perm sp\nwhere sl.tbl = sp.id;\n  tbl   |   table_name   | query |         starttime          |                                                 input                                                  | line_number |      \n                                                       colname                                                             | err_code |                   reason                    |    typ\ne    \n--------+----------------+-------+----------------------------+--------------------------------------------------------------------------------------------------------+-------------+------\n---------------------------------------------------------------------------------------------------------------------------+----------+---------------------------------------------+-------\n-----\n 100083 | sample_table |  1204 | 2016-11-19 10:15:55.580969 | s3://sample-bucket/sample-emr/output/output.csv/part-r-00000-7fb2a847-faf7-43c1-b888-ad839e2af89e.csv |           1 | time \n                                                                                                                           |     1207 | Invalid digit, Value '.', Pos 1, Type: Long | int8  \n    \n(1 \u884c)\n\n```\n\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STL_LOAD_ERRORS.html\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_Load_Error_Reference.html\nhttp://recipe.kc-cloud.jp/archives/1787\n\n- \u30a8\u30e9\u30fc3\n>ERROR:  ALTER COLUMN TYPE is not supported\n\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_TABLE.html\n\n>Redshift\u3067\u306f\u3001\u30ab\u30e9\u30e0\u306e\u8ffd\u52a0\u3001\u524a\u9664\u306f\u3067\u304d\u307e\u3059\u304c\u3001\u30ab\u30e9\u30e0\u306e\u5909\u66f4\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\nhttps://support.flydata.com/hc/ja/articles/206782883-Redshift%E3%81%AE%E3%82%AB%E3%83%A9%E3%83%A0%E5%A4%89%E6%9B%B4-%E3%82%AB%E3%83%A9%E3%83%A0%E5%90%8D-%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B%E3%81%AA%E3%81%A9-%E3%81%AF%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E6%89%8B%E9%A0%86%E3%81%AB%E3%81%AA%E3%82%8A%E3%81%BE%E3%81%99%E3%81%8B-\n\n```\nsampledb=# drop table sample_table;\nDROP TABLE\nsampledb=# create table sample_table (\nid integer identity(1,1),\ntime double precision,\nscore double precision\n);\nCREATE TABLE\nsampledb=# \\d sample_table\n                   \u30c6\u30fc\u30d6\u30eb \"public.sample_table\"\n  \u5217   |        \u578b        |                   \u4fee\u98fe\u8a9e                   \n-------+------------------+--------------------------------------------\n id    | integer          | default \"identity\"(100236, 0, '1,1'::text)\n time  | double precision | \n score | double precision | \n\n```\n\n\u30c7\u30fc\u30bf\u304c\u3059\u3067\u306b\u3042\u308b\u6642\u306fUNLOAD\u3067S3\u306b\u9003\u304c\u3057\u3066\u3042\u3052\u3066\u3001LOAD\u3059\u308b\u3002\nhttps://librabuch.jp/blog/2013/10/redshift_refactoring_table/\n\n```\nsampledb=# copy sample_table from 's3://sample-bucket/sample-emr/output/output.csv/part-r-00000-7fb2a847-faf7-43c1-b888-ad839e2af89e.csv' \ncredentials 'aws_access_key_id=AKIA****************;aws_secret_access_key=****************************************' csv;\nINFO:  Load into table 'sample_table' completed, 30 record(s) loaded successfully.\nCOPY\nsampledb=# select * from sample_table;\n id  | time |        score         \n-----+------+----------------------\n  61 |    0 |    0.115561598779722\n  65 | 0.35 |    0.450049607883542\n  69 | 0.55 |    0.610016604797512\n  73 | 0.85 |    0.799404769365101\n  77 | 1.15 |    0.921730504913782\n  81 |  1.3 |     0.95628764455624\n  85 | 1.65 |    0.966437354837479\n  89 | 1.95 |    0.897733129687374\n  93 |  2.7 |    0.449411570846044\n  97 | 2.95 |    0.231585592051488\n 101 |  3.5 |   -0.306573989133359\n 105 |  3.9 |    -0.69322811061746\n 109 |    4 |   -0.781744068261529\n 113 |  4.3 |    -1.01185416101629\n 117 | 4.55 |    -1.14668105904742\n  63 | 0.15 |     0.26651804459165\n  67 |  0.4 |    0.492378272228838\n  71 |  0.8 |    0.772335390723432\n  75 |    1 |    0.869291693773258\n  79 | 1.25 |     0.94677401743939\n  83 | 1.55 |    0.973599341462238\n  87 |  1.7 |    0.959866991775918\n  91 |  2.6 |     0.52868107980996\n  95 |  2.8 |    0.365382429466503\n  99 |  3.2 | -0.00713073039467219\n 103 |  3.6 |   -0.406278302074179\n 107 | 3.95 |   -0.738073149877584\n 111 |  4.2 |   -0.942118663631848\n 115 |  4.5 |    -1.12481865510556\n 119 |    5 |    -1.19572524771076\n(30 \u884c)\n```\n\n\n- \u30a8\u30e9\u30fc4\nDataPipeline\u3092\u5b9f\u884c\u3057\u305f\u6642\u306e\u30a8\u30e9\u30fc\u3002auto increment\u306e\u30ab\u30e9\u30e0\u306f\u8a8d\u8b58\u3057\u3066\u3088\u3057\u306a\u306b\u3084\u3063\u3066\u304f\u308c\u306a\u3044\u3002\n\n```\nThe table public.sample_table has no primary key but a primary key is required to overwrite existing records\n```\n\n```\ncreate table sample_table (\nid integer identity(1,1) primary key,\ntime double precision,\nscore double precision\n);\n```\n\n\n- \u30a8\u30e9\u30fc5\n\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\n\n```\nERROR: cannot set an identity column to a value\n```\n\n```\ncreate table sample_table (\ntime double precision,\nscore double precision\n);\n```\n\n- \u30a8\u30e9\u30fc6\nCSV\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u306a\u3044\u3068\u30a8\u30e9\u30fc\n\n```\nsampledb=# copy sample_table from 's3://sample-bucket/sample-emr/output/output.csv/part-r-00000-7fb2a847-faf7-43c1-b888-ad839e2af89e.csv' \ncredentials 'aws_access_key_id=AKIA****************;aws_secret_access_key=***************************************';\nERROR:  Load into table 'sample_table' failed.  Check 'stl_load_errors' system table for details.\n```\n\n- \u30a8\u30e9\u30fc7\n\n```\ncreate table sample_table (\nid integer identity(1,1) primary key,\ntime double precision,\nscore double precision\n);\n```\n\nDataPipeline\u3067myRedshiftCopyOpts (optional)\u306bCSV EXPLICIT_IDS\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3002\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_loading_default_values.html\n\n- \u30a8\u30e9\u30fc8\nmyInsertMode: Truncate\n\n- KEEP_EXISTING\n- OVERWRITE_EXISTING\n- TRUNCATE\n- APPEND\n\nhttps://docs.aws.amazon.com/ja_jp/datapipeline/latest/DeveloperGuide/dp-object-redshiftcopyactivity.html\n\n-->\n\n#(\u53c2\u8003)Pipeline Definition\u306e\u5185\u5bb9\n\n```\n{\n  \"objects\": [\n    {\n      \"connectionString\": \"#{myRedshiftJdbcConnectStr}\",\n      \"databaseName\": \"#{myRedshiftDbName}\",\n      \"*password\": \"#{*myRedshiftPassword}\",\n      \"name\": \"RedshiftCluster\",\n      \"id\": \"RedshiftCluster\",\n      \"type\": \"RedshiftDatabase\",\n      \"username\": \"#{myRedshiftUsername}\"\n    },\n    {\n      \"failureAndRerunMode\": \"CASCADE\",\n      \"schedule\": {\n        \"ref\": \"DefaultSchedule\"\n      },\n      \"resourceRole\": \"DataPipelineDefaultResourceRole\",\n      \"role\": \"DataPipelineDefaultRole\",\n      \"pipelineLogUri\": \"s3://sample-bucket/logs/\",\n      \"scheduleType\": \"cron\",\n      \"name\": \"Default\",\n      \"id\": \"Default\"\n    },\n    {\n      \"period\": \"15 Minutes\",\n      \"name\": \"Every 1 minute\",\n      \"id\": \"DefaultSchedule\",\n      \"type\": \"Schedule\",\n      \"startAt\": \"FIRST_ACTIVATION_DATE_TIME\"\n    },\n    {\n      \"instanceType\": \"t1.micro\",\n      \"name\": \"Ec2Instance\",\n      \"securityGroups\": \"#{myRedshiftSecurityGrps}\",\n      \"id\": \"Ec2Instance\",\n      \"type\": \"Ec2Resource\",\n      \"terminateAfter\": \"2 Hours\"\n    },\n    {\n      \"output\": {\n        \"ref\": \"DestRedshiftTable\"\n      },\n      \"input\": {\n        \"ref\": \"S3InputDataNode\"\n      },\n      \"name\": \"RedshiftLoadActivity\",\n      \"commandOptions\": \"#{myRedshiftCopyOpts}\",\n      \"runsOn\": {\n        \"ref\": \"Ec2Instance\"\n      },\n      \"id\": \"RedshiftLoadActivity\",\n      \"type\": \"RedshiftCopyActivity\",\n      \"insertMode\": \"#{myInsertMode}\"\n    },\n    {\n      \"database\": {\n        \"ref\": \"RedshiftCluster\"\n      },\n      \"createTableSql\": \"#{myRedshiftCreateTableSql}\",\n      \"primaryKeys\": \"#{myPrimaryKeys}\",\n      \"name\": \"DestRedshiftTable\",\n      \"id\": \"DestRedshiftTable\",\n      \"type\": \"RedshiftDataNode\",\n      \"tableName\": \"#{myRedshiftTableName}\"\n    },\n    {\n      \"directoryPath\": \"#{myInputS3Loc}\",\n      \"name\": \"S3InputDataNode\",\n      \"id\": \"S3InputDataNode\",\n      \"type\": \"S3DataNode\"\n    }\n  ],\n  \"parameters\": [\n    {\n      \"description\": \"Redshift password\",\n      \"id\": \"*myRedshiftPassword\",\n      \"type\": \"String\"\n    },\n    {\n      \"description\": \"Redshift database name\",\n      \"id\": \"myRedshiftDbName\",\n      \"type\": \"String\"\n    },\n    {\n      \"default\": \"default\",\n      \"watermark\": \"security group name\",\n      \"helpText\": \"The names of one or more security groups that are assigned to the Redshift cluster.\",\n      \"description\": \"Redshift security group(s)\",\n      \"isArray\": \"true\",\n      \"id\": \"myRedshiftSecurityGrps\",\n      \"type\": \"String\"\n    },\n    {\n      \"description\": \"Redshift username\",\n      \"id\": \"myRedshiftUsername\",\n      \"type\": \"String\"\n    },\n    {\n      \"watermark\": \"CREATE TABLE IF NOT EXISTS #{tableName} (id varchar(255), name varchar(255), address varchar(255), primary key(id)) distkey(id) sortkey(id);\",\n      \"helpText\": \"The SQL statement to create the Redshift table if it does not already exist.\",\n      \"description\": \"Create table SQL query\",\n      \"optional\": \"true\",\n      \"id\": \"myRedshiftCreateTableSql\",\n      \"type\": \"String\"\n    },\n    {\n      \"helpText\": \"The name of an existing table or a new table that will be created based on the create table SQL query parameter below.\",\n      \"description\": \"Redshift table name\",\n      \"id\": \"myRedshiftTableName\",\n      \"type\": \"String\"\n    },\n    {\n      \"default\": \"OVERWRITE_EXISTING\",\n      \"helpLink\": \"https://docs.aws.amazon.com/console/datapipeline/redshiftcopyactivity\",\n      \"helpText\": \"Determines how to handle pre-existing data in the target table that overlaps with rows in the data to be loaded.\",\n      \"description\": \"Table insert mode\",\n      \"id\": \"myInsertMode\",\n      \"type\": \"String\"\n    },\n    {\n      \"helpText\": \"The S3 folder where one or more input files are located.\",\n      \"description\": \"Input S3 folder\",\n      \"id\": \"myInputS3Loc\",\n      \"type\": \"AWS::S3::ObjectKey\"\n    },\n    {\n      \"watermark\": \"jdbc:postgresql://endpoint:port/database?tcpKeepAlive=true\",\n      \"description\": \"Redshift JDBC connection string\",\n      \"id\": \"myRedshiftJdbcConnectStr\",\n      \"type\": \"String\"\n    },\n    {\n      \"helpLink\": \"https://docs.aws.amazon.com/console/datapipeline/redshiftcopyactivity\",\n      \"watermark\": \"IGNOREHEADER AS 1\",\n      \"helpText\": \"COPY parameters to pass to Redshift\",\n      \"description\": \"Copy options\",\n      \"isArray\": \"true\",\n      \"optional\": \"true\",\n      \"id\": \"myRedshiftCopyOpts\",\n      \"type\": \"String\"\n    },\n    {\n      \"helpLink\": \"https://docs.aws.amazon.com/console/datapipeline/dp_object_redshiftdatanode\",\n      \"helpText\": \"The names of all primary key columns in the Redshift table used to merge existing data with new data.\",\n      \"description\": \"Primary keys\",\n      \"isArray\": \"true\",\n      \"optional\": \"true\",\n      \"id\": \"myPrimaryKeys\",\n      \"type\": \"String\"\n    }\n  ],\n  \"values\": {\n    \"myRedshiftUsername\": \"test-user\",\n    \"myRedshiftDbName\": \"sampledb\",\n    \"myRedshiftJdbcConnectStr\": \"jdbc:redshift://sample-cluster.xxxxxxxxxxxx.us-east-1.redshift.amazonaws.com:5439/sampledb\",\n    \"*myRedshiftPassword\": \"Passw0rd\",\n    \"myInsertMode\": \"TRUNCATE\",\n    \"myRedshiftSecurityGrps\": \"default\",\n    \"myRedshiftTableName\": \"sample_table\",\n    \"myInputS3Loc\": \"s3://sample-bucket/sample-emr/output/output.csv/part-r-00000-7fb2a847-faf7-43c1-b888-ad839e2af89e.csv\",\n    \"myRedshiftCopyOpts\": \"CSV\"\n  }\n}\n```\n\n#\u53c2\u8003\nQuickSight \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://docs.aws.amazon.com/ja_jp/quicksight/latest/user/welcome.html\nDataPipeline \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://docs.aws.amazon.com/ja_jp/datapipeline/latest/DeveloperGuide/what-is-datapipeline.html\nRedshift \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://docs.aws.amazon.com/ja_jp/redshift/latest/gsg/getting-started.html\n\nQuickSight \u6599\u91d1\nhttps://aws.amazon.com/jp/quicksight/pricing/\nTableau \u6599\u91d1\nhttp://sios.jp/bigdata/tableau/price.html\n", "tags": ["AWS", "QuickSight", "DataPipeline", "redshift", "S3"]}