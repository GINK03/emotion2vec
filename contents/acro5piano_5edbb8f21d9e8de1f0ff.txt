{"context": "\u3064\u3044\u306b\u3067\u304d\u305f\u3002\u8ab0\u304c\u5f97\u3092\u3059\u308b\u306e\u304b\u3068\u3044\u3046\u74b0\u5883\u3067\u3059\u304c\u3001\n\nArch Linux\nSystemd-nspawn\u306b\u3088\u308b\u4eee\u60f3\u74b0\u5883\nHost\u5074\u3067\u8d77\u52d5\u3057\u3066\u3044\u308bXserver\u306b\u753b\u9762\u3092\u6620\u3059\n\n\n\u52d5\u6a5f\nArch Linux\u3067\u306ffcitx-mozc\u3068emacs-mozc\u304c\u7af6\u5408\u3057\u3066\u304a\u308a\u3001\u53cc\u65b9\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u306a\u3044\n\u305d\u3053\u3067\u3001Systemd-nspawn\u306b\u3088\u308a\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u308a\u3001\u305d\u3053\u3067\u6700\u4f4e\u9650\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001emacs-mozc\u3092\u5229\u7528\u3059\u308b\u3002\n\u3064\u3044\u3067\u306b\u3001\u8a71\u984c\u306e\u30a8\u30c7\u30a3\u30bfSpacemacs\u3082\u5229\u7528\u3059\u308b\u3002\n\n\u624b\u9806\n\u307e\u305a\u306fSpacemacs\u3092\u30db\u30b9\u30c8\u5074\u306b\u6301\u3063\u3066\u304f\u308b\nmkdir -p $HOME/etc/spacemacs\ngit clone https://github.com/syl20bnr/spacemacs $HOME/etc/spacemacs/.emacs.d\n\nmozc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\n\ninstall_mozc.sh\n#!/bin/bash\n# This script is for install emacs-mozc to arch\n\nUID=1000\n\ncat << 'EOF' >> /etc/pacman.conf\n[pnsft-pur]\nSigLevel = Optional TrustAll\nServer = http://downloads.sourceforge.net/project/pnsft-aur/pur/$arch\nEOF\n\npacman -Syy\npacman -S --needed git emacs emacs-mozc adobe-source-code-pro-fonts\n\nuseradd --create-home --uid $UID arch\n\n\nArch Linux\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u3001mozc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30db\u30b9\u30c8\u304b\u3089\u30b2\u30b9\u30c8\u3078\u30b3\u30d4\u30fc\n\ncreate_container\n#!/bin/bash\n\nmkdir -p $HOME/var/container/arch\nsudo pacstrap -i -c -d $HOME/container/arch base\u3000base-devel\nsudo cp install_mozc.sh $HOME/var/container/arch/tmp/\n\n\n\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u308a\u3001\u2191\u3067\u30b3\u30d4\u30fc\u3057\u305fmozc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\nsudo systemd-nspawn -D $HOME/container/arch\nchmod +x /tmp/install_mozc.sh\n/tmp/install_mozc.sh\n\n\u6700\u5f8c\u306b\u3001\u30b3\u30f3\u30c6\u30ca\u304b\u3089X\u306b\u753b\u9762\u3092\u6620\u305b\u308b\u3088\u3046\u306b\u8a2d\u5b9a\nxhost +local:\n\nSPACEMACS\u3092\u8d77\u52d5\u3059\u308b\u306b\u306f\u3001\u4e0b\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308c\u3070OK\u3002\u30d1\u30b9\u306e\u901a\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u306b\u7f6e\u3053\u3046\u3002\n\nspacemacs\n#!/bin/bash\n\nCONTAINER_USER=arch\nCONTAINER_HOME=/home/$CONTAINER_USER\n\nsudo systemd-nspawn \\\n     --setenv=DISPLAY=$DISPLAY \\\n     --setenv=SHELL=/bin/bash \\\n     --setenv=HOME=$CONTAINER_HOME/etc/spacemacs \\\n     --bind=$HOME/etc/spacemacs:$CONTAINER_HOME/etc/spacemacs \\\n     --bind=$HOME:$CONTAINER_HOME/host_home \\\n     --bind=/tmp/.X11-unix \\\n     -D ~/var/container/arch \\\n     -u $CONTAINER_USER \\\n     emacs\n\n\n\u3044\u3084\u3042\u75b2\u308c\u305f\u3002\u52d5\u4f5c\u306f\u3061\u3087\u3063\u3068\u3082\u3063\u3055\u308a\u3057\u3066\u3044\u308b\u3002\n\n\u53c2\u8003\n\nhttp://qiita.com/syui/items/8dcbee22bc49970de4bd\nhttps://wiki.archlinuxjp.org/index.php/Change_Root\nhttps://wiki.archlinuxjp.org/index.php/Systemd-nspawn\n\n\u3064\u3044\u306b\u3067\u304d\u305f\u3002\u8ab0\u304c\u5f97\u3092\u3059\u308b\u306e\u304b\u3068\u3044\u3046\u74b0\u5883\u3067\u3059\u304c\u3001\n\n- Arch Linux\n- Systemd-nspawn\u306b\u3088\u308b\u4eee\u60f3\u74b0\u5883\n- Host\u5074\u3067\u8d77\u52d5\u3057\u3066\u3044\u308bXserver\u306b\u753b\u9762\u3092\u6620\u3059\n\n# \u52d5\u6a5f\n\nArch Linux\u3067\u306ffcitx-mozc\u3068emacs-mozc\u304c\u7af6\u5408\u3057\u3066\u304a\u308a\u3001\u53cc\u65b9\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u306a\u3044\n\n\u305d\u3053\u3067\u3001Systemd-nspawn\u306b\u3088\u308a\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u308a\u3001\u305d\u3053\u3067\u6700\u4f4e\u9650\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001emacs-mozc\u3092\u5229\u7528\u3059\u308b\u3002\n\n\u3064\u3044\u3067\u306b\u3001\u8a71\u984c\u306e\u30a8\u30c7\u30a3\u30bfSpacemacs\u3082\u5229\u7528\u3059\u308b\u3002\n\n# \u624b\u9806\n\n\n\u307e\u305a\u306fSpacemacs\u3092\u30db\u30b9\u30c8\u5074\u306b\u6301\u3063\u3066\u304f\u308b\n\n```bash\nmkdir -p $HOME/etc/spacemacs\ngit clone https://github.com/syl20bnr/spacemacs $HOME/etc/spacemacs/.emacs.d\n```\n\n\nmozc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\n\n```bash:install_mozc.sh\n#!/bin/bash\n# This script is for install emacs-mozc to arch\n\nUID=1000\n\ncat << 'EOF' >> /etc/pacman.conf\n[pnsft-pur]\nSigLevel = Optional TrustAll\nServer = http://downloads.sourceforge.net/project/pnsft-aur/pur/$arch\nEOF\n\npacman -Syy\npacman -S --needed git emacs emacs-mozc adobe-source-code-pro-fonts\n\nuseradd --create-home --uid $UID arch\n```\n\nArch Linux\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3057\u3001mozc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30db\u30b9\u30c8\u304b\u3089\u30b2\u30b9\u30c8\u3078\u30b3\u30d4\u30fc\n\n```bash:create_container\n#!/bin/bash\n\nmkdir -p $HOME/var/container/arch\nsudo pacstrap -i -c -d $HOME/container/arch base\u3000base-devel\nsudo cp install_mozc.sh $HOME/var/container/arch/tmp/\n```\n\n\u30b3\u30f3\u30c6\u30ca\u306b\u5165\u308a\u3001\u2191\u3067\u30b3\u30d4\u30fc\u3057\u305fmozc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\n\n```bash\nsudo systemd-nspawn -D $HOME/container/arch\nchmod +x /tmp/install_mozc.sh\n/tmp/install_mozc.sh\n```\n\n\u6700\u5f8c\u306b\u3001\u30b3\u30f3\u30c6\u30ca\u304b\u3089X\u306b\u753b\u9762\u3092\u6620\u305b\u308b\u3088\u3046\u306b\u8a2d\u5b9a\n\n```bash\nxhost +local:\n```\n\nSPACEMACS\u3092\u8d77\u52d5\u3059\u308b\u306b\u306f\u3001\u4e0b\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308c\u3070OK\u3002\u30d1\u30b9\u306e\u901a\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u306b\u7f6e\u3053\u3046\u3002\n\n```bash:spacemacs\n#!/bin/bash\n\nCONTAINER_USER=arch\nCONTAINER_HOME=/home/$CONTAINER_USER\n\nsudo systemd-nspawn \\\n     --setenv=DISPLAY=$DISPLAY \\\n     --setenv=SHELL=/bin/bash \\\n     --setenv=HOME=$CONTAINER_HOME/etc/spacemacs \\\n     --bind=$HOME/etc/spacemacs:$CONTAINER_HOME/etc/spacemacs \\\n     --bind=$HOME:$CONTAINER_HOME/host_home \\\n     --bind=/tmp/.X11-unix \\\n     -D ~/var/container/arch \\\n     -u $CONTAINER_USER \\\n     emacs\n```\n\n\u3044\u3084\u3042\u75b2\u308c\u305f\u3002\u52d5\u4f5c\u306f\u3061\u3087\u3063\u3068\u3082\u3063\u3055\u308a\u3057\u3066\u3044\u308b\u3002\n\n# \u53c2\u8003\n\n- http://qiita.com/syui/items/8dcbee22bc49970de4bd\n- https://wiki.archlinuxjp.org/index.php/Change_Root\n- https://wiki.archlinuxjp.org/index.php/Systemd-nspawn\n", "tags": ["archLinux", "systemd", "systemd-nspawn", "lxc", "Emacs"]}