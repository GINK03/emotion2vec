{"context": "\u3052\u3093\u3054:ruby(rails)\n\u5272\u3068\u56f0\u3063\u305f\u306e\u3067\u3081\u3082\u3063\u3066\u304a\u3053\u3046\u3002\n      s3_cli = Aws::S3::Client.new(region: '\u308c\u304e\u304a\uff4e', endpoint: '\u3048\u3093\u3069\u307d\u3044\u3093\uff54')\n      bucket = '\u3070\u3051\u3063\uff54'\n\n      obj = s3_cli.list_objects(bucket: bucket, delimiter: '/', max_keys: 1)\n      marker = obj.contents.first.key\n      (0..200).each do |num|\n        break if marker.nil?\n        obj = s3_cli.list_objects(bucket: bucket, delimiter: '/', marker: marker)\n        obj.contents.each do |object|\n          s3_cli.get_object(bucket: bucket, key: object.key) do |chunk|\n            pp chunk\n          end\n        end\n        marker = obj.instance_variable_get(:@data).next_marker\n      end\n\nrange\u90e8\u5206\u306f\u6c17\u306b\u3057\u306a\u3044\u3088\u3046\u306b\n\u3063\u3066\u3044\u3046\u304b\u4e2d\u8eab\u53d6\u308a\u51fa\u3059\u306e\u3001contents\u306e\u8981\u7d20\u304b\u3089\u76f4\u63a5\u3067\u304d\u306d\u3048\u306e\u304b\u306a\uff1f\n\u3052\u3093\u3054:ruby(rails)\n\n\u5272\u3068\u56f0\u3063\u305f\u306e\u3067\u3081\u3082\u3063\u3066\u304a\u3053\u3046\u3002\n\n```\n      s3_cli = Aws::S3::Client.new(region: '\u308c\u304e\u304a\uff4e', endpoint: '\u3048\u3093\u3069\u307d\u3044\u3093\uff54')\n      bucket = '\u3070\u3051\u3063\uff54'\n\n      obj = s3_cli.list_objects(bucket: bucket, delimiter: '/', max_keys: 1)\n      marker = obj.contents.first.key\n      (0..200).each do |num|\n        break if marker.nil?\n        obj = s3_cli.list_objects(bucket: bucket, delimiter: '/', marker: marker)\n        obj.contents.each do |object|\n          s3_cli.get_object(bucket: bucket, key: object.key) do |chunk|\n            pp chunk\n          end\n        end\n        marker = obj.instance_variable_get(:@data).next_marker\n      end\n```\n\nrange\u90e8\u5206\u306f\u6c17\u306b\u3057\u306a\u3044\u3088\u3046\u306b\n\n\u3063\u3066\u3044\u3046\u304b\u4e2d\u8eab\u53d6\u308a\u51fa\u3059\u306e\u3001contents\u306e\u8981\u7d20\u304b\u3089\u76f4\u63a5\u3067\u304d\u306d\u3048\u306e\u304b\u306a\uff1f\n", "tags": ["Ruby", "AWS", "S3"]}