{"tags": ["unity5", "Unity3D", "Oculus"], "context": " More than 1 year has passed since last update.\n\nVR Support\u3055\u308c\u3066\u308bUnity 5.x\u3067Oculus\u306e\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3001\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\n\u4f7f\u7528\u74b0\u5883 : Unity 5.3.2f1\n\u8da3\u5473\u3067Unity\u3067VR\u3057\u3066\u307e\u3059\u3002\nOculus\u3067\u30b7\u30fc\u30f3\u306e\u79fb\u52d5\u3067\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3001\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u3057\u305f\u3044\u306e\u3067\u3059\u304c\u3001\u8abf\u3079\u3066\u3082OVR\u306a\u3093\u3068\u304b\u3092\u4f7f\u3063\u305f\u53e4\u3044\u3082\u306e\u3070\u304b\u308a\u3067\u3001VR Support\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u304a\u624b\u8efd\u306b\u904a\u3093\u3067\u308b\u79c1\u306b\u3068\u3063\u3066\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3067\u3059\u3002\n\u306a\u306e\u3067\u3001\u5fd8\u5099\u9332\u3082\u304b\u306d\u3066\u30b7\u30fc\u30f3\u3092\u30d5\u30a7\u30fc\u30c9\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\n\n1. \u4f7f\u3044\u65b9\nMain Camera\u306b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5165\u308c\u307e\u3059\u3002\n\u30b7\u30fc\u30f3\u304c\u547c\u3070\u308c\u305f\u6642\uff08Main Camera\u304cenable\u306b\u306a\u3063\u305f\u3068\u304d\uff09\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3057\u307e\u3059\u3002\n\u9055\u3046\u30b7\u30fc\u30f3\u306b\u79fb\u52d5\u3059\u308b\u6642\u306f\nCamera.main.GetComponent<SceenFade>().LoadSceenWithFade(\"Sceen1\");\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u30b7\u30fc\u30f3\u3092\u547c\u3073\u51fa\u3059\u3068\u3001\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u5f8c\u3001\u30b7\u30fc\u30f3\u3092\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\uff08\u306a\u306e\u3067\u3001\u547c\u3073\u51fa\u3059\u30b7\u30fc\u30f3\u306eMain Camera\u306b\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5165\u308c\u308b\u3068\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u5f8c\u3001\u30b7\u30fc\u30f3\u3092\u30ed\u30fc\u30c9\u3057\u3066\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3057\u307e\u3059\uff09\n\u3046\u3093\u3001\u30e1\u30a4\u30f3\u30ab\u30e1\u30e9\u306b\u5165\u308c\u308b\u306e\u3067\u3001Find\u3057\u306a\u304f\u3066\u826f\u3044\u306e\u3067\u3089\u304f\u3061\u3093\n\n2. \u30b9\u30af\u30ea\u30d7\u30c8\nusing UnityEngine;\nusing System.Collections;\nusing UnityEngine.SceneManagement;\n\npublic class SceenFade : MonoBehaviour {\n\n    public float fadeTime = 2.0f;\n    public Color fadeColor = new Color(0.01f, 0.01f, 0.01f, 1.0f);\n    public Shader fadeShader = null;\n\n    private Material fadeMaterial = null;\n    private bool isFading = false;\n\n    void Awake()\n    {\n        fadeMaterial = (fadeShader != null) ? new Material(fadeShader) : new Material(Shader.Find(\"Transparent/Diffuse\"));\n    }\n\n    void OnEnable()\n    {\n        StartCoroutine(FadeIn());\n    }\n\n    public void LoadSceenWithFade(string sceenname)\n    {\n        StartCoroutine(FadeOut(sceenname));\n    }\n\n    void OnDestroy()\n    {\n        if (fadeMaterial != null)\n        {\n            Destroy(fadeMaterial);\n        }\n    }\n\n    IEnumerator FadeIn()\n    {\n        float elapsedTime = 0.0f;\n        Color color = fadeMaterial.color = fadeColor;\n        isFading = true;\n        while (elapsedTime < fadeTime)\n        {\n            yield return new WaitForEndOfFrame();\n            elapsedTime += Time.deltaTime;\n            color.a = 1.0f - Mathf.Clamp01(elapsedTime / fadeTime);\n            fadeMaterial.color = color;\n        }\n        isFading = false;\n    }\n\n    IEnumerator FadeOut(string sceen)\n    {\n        float elapsedTime = 0.0f;\n        fadeColor.a = 0f;\n        Color color = fadeMaterial.color = fadeColor;\n        isFading = true;\n        while (elapsedTime < fadeTime)\n        {\n            yield return new WaitForEndOfFrame();\n            elapsedTime += Time.deltaTime;\n            color.a = 0.0f + Mathf.Clamp01(elapsedTime / fadeTime);\n            fadeMaterial.color = color;\n        }\n        SceneManager.LoadScene(sceen);\n        isFading = false;\n    }\n\n    void OnPostRender()\n    {\n        if (isFading)\n        {\n            fadeMaterial.SetPass(0);\n            GL.PushMatrix();\n            GL.LoadOrtho();\n            GL.Color(fadeMaterial.color);\n            GL.Begin(GL.QUADS);\n            GL.Vertex3(0f, 0f, -12f);\n            GL.Vertex3(0f, 1f, -12f);\n            GL.Vertex3(1f, 1f, -12f);\n            GL.Vertex3(1f, 0f, -12f);\n            GL.End();\n            GL.PopMatrix();\n        }\n    }\n}\n\n\n3. Shader.Find\u306e\u6ce8\u610f\u70b9\n\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067Shader.Find\u3092\u4f7f\u3063\u3066\u307e\u3059\u304c\u3001Unity Editor\u3068\u30d3\u30eb\u30c9\u5f8c\u3067\u306f\u52d5\u4f5c\u304c\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nUnity Editor \u2192\u3000Build-in Shader\u3082\u554f\u984c\u306a\u304f\u691c\u7d22\u3057\u3066\u304f\u308c\u308b\n\u30d3\u30eb\u30c9\u5f8c\u306e\u74b0\u5883\u3000\u2192 Hierarchy\u306b\u3042\u308bShader\u306e\u307f\u6aa2\u7d22\n\u306a\u306e\u3067\u3001Editor\u4e0a\u3067\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u304c\u30d3\u30eb\u30c9\u74b0\u5883\u3067\u306fHierarchy\u5185\u306b\u3010Transparent/Diffuse\u3011\u306e\u30b7\u30a7\u30fc\u30c0\u3092\u4f7f\u3063\u305f\u30de\u30c6\u30ea\u30a2\u30eb\u304c\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u3066\u308bObuject\u304c\u306a\u3044\u3068\u52d5\u304d\u307e\u305b\u3093\u306e\u3067\u6ce8\u610f\u3067\u3059\u3002\n# VR Support\u3055\u308c\u3066\u308bUnity 5.x\u3067Oculus\u306e\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3001\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\n\n\u4f7f\u7528\u74b0\u5883 : Unity 5.3.2f1\n\n\u8da3\u5473\u3067Unity\u3067VR\u3057\u3066\u307e\u3059\u3002\nOculus\u3067\u30b7\u30fc\u30f3\u306e\u79fb\u52d5\u3067\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3001\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u3057\u305f\u3044\u306e\u3067\u3059\u304c\u3001\u8abf\u3079\u3066\u3082OVR\u306a\u3093\u3068\u304b\u3092\u4f7f\u3063\u305f\u53e4\u3044\u3082\u306e\u3070\u304b\u308a\u3067\u3001VR Support\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u304a\u624b\u8efd\u306b\u904a\u3093\u3067\u308b\u79c1\u306b\u3068\u3063\u3066\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3067\u3059\u3002\n\n\u306a\u306e\u3067\u3001\u5fd8\u5099\u9332\u3082\u304b\u306d\u3066\u30b7\u30fc\u30f3\u3092\u30d5\u30a7\u30fc\u30c9\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\n\n### 1. \u4f7f\u3044\u65b9\nMain Camera\u306b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5165\u308c\u307e\u3059\u3002\n\u30b7\u30fc\u30f3\u304c\u547c\u3070\u308c\u305f\u6642\uff08Main Camera\u304cenable\u306b\u306a\u3063\u305f\u3068\u304d\uff09\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3057\u307e\u3059\u3002\n\n\u9055\u3046\u30b7\u30fc\u30f3\u306b\u79fb\u52d5\u3059\u308b\u6642\u306f\n\n```csharp\nCamera.main.GetComponent<SceenFade>().LoadSceenWithFade(\"Sceen1\");\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u30b7\u30fc\u30f3\u3092\u547c\u3073\u51fa\u3059\u3068\u3001\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u5f8c\u3001\u30b7\u30fc\u30f3\u3092\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\uff08\u306a\u306e\u3067\u3001\u547c\u3073\u51fa\u3059\u30b7\u30fc\u30f3\u306eMain Camera\u306b\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5165\u308c\u308b\u3068\u30d5\u30a7\u30fc\u30c9\u30a2\u30a6\u30c8\u5f8c\u3001\u30b7\u30fc\u30f3\u3092\u30ed\u30fc\u30c9\u3057\u3066\u30d5\u30a7\u30fc\u30c9\u30a4\u30f3\u3057\u307e\u3059\uff09\n\n\u3046\u3093\u3001\u30e1\u30a4\u30f3\u30ab\u30e1\u30e9\u306b\u5165\u308c\u308b\u306e\u3067\u3001Find\u3057\u306a\u304f\u3066\u826f\u3044\u306e\u3067\u3089\u304f\u3061\u3093\n\n### 2. \u30b9\u30af\u30ea\u30d7\u30c8\n\n```csharp\nusing UnityEngine;\nusing System.Collections;\nusing UnityEngine.SceneManagement;\n\npublic class SceenFade : MonoBehaviour {\n\n    public float fadeTime = 2.0f;\n    public Color fadeColor = new Color(0.01f, 0.01f, 0.01f, 1.0f);\n    public Shader fadeShader = null;\n\n    private Material fadeMaterial = null;\n    private bool isFading = false;\n\n    void Awake()\n    {\n        fadeMaterial = (fadeShader != null) ? new Material(fadeShader) : new Material(Shader.Find(\"Transparent/Diffuse\"));\n    }\n\n    void OnEnable()\n    {\n        StartCoroutine(FadeIn());\n    }\n\n    public void LoadSceenWithFade(string sceenname)\n    {\n        StartCoroutine(FadeOut(sceenname));\n    }\n\n    void OnDestroy()\n    {\n        if (fadeMaterial != null)\n        {\n            Destroy(fadeMaterial);\n        }\n    }\n\n    IEnumerator FadeIn()\n    {\n        float elapsedTime = 0.0f;\n        Color color = fadeMaterial.color = fadeColor;\n        isFading = true;\n        while (elapsedTime < fadeTime)\n        {\n            yield return new WaitForEndOfFrame();\n            elapsedTime += Time.deltaTime;\n            color.a = 1.0f - Mathf.Clamp01(elapsedTime / fadeTime);\n            fadeMaterial.color = color;\n        }\n        isFading = false;\n    }\n\n    IEnumerator FadeOut(string sceen)\n    {\n        float elapsedTime = 0.0f;\n        fadeColor.a = 0f;\n        Color color = fadeMaterial.color = fadeColor;\n        isFading = true;\n        while (elapsedTime < fadeTime)\n        {\n            yield return new WaitForEndOfFrame();\n            elapsedTime += Time.deltaTime;\n            color.a = 0.0f + Mathf.Clamp01(elapsedTime / fadeTime);\n            fadeMaterial.color = color;\n        }\n        SceneManager.LoadScene(sceen);\n        isFading = false;\n    }\n\n    void OnPostRender()\n    {\n        if (isFading)\n        {\n            fadeMaterial.SetPass(0);\n            GL.PushMatrix();\n            GL.LoadOrtho();\n            GL.Color(fadeMaterial.color);\n            GL.Begin(GL.QUADS);\n            GL.Vertex3(0f, 0f, -12f);\n            GL.Vertex3(0f, 1f, -12f);\n            GL.Vertex3(1f, 1f, -12f);\n            GL.Vertex3(1f, 0f, -12f);\n            GL.End();\n            GL.PopMatrix();\n        }\n    }\n}\n```\n\n### 3. Shader.Find\u306e\u6ce8\u610f\u70b9\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067Shader.Find\u3092\u4f7f\u3063\u3066\u307e\u3059\u304c\u3001Unity Editor\u3068\u30d3\u30eb\u30c9\u5f8c\u3067\u306f\u52d5\u4f5c\u304c\u7570\u306a\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nUnity Editor \u2192\u3000Build-in Shader\u3082\u554f\u984c\u306a\u304f\u691c\u7d22\u3057\u3066\u304f\u308c\u308b\n\u30d3\u30eb\u30c9\u5f8c\u306e\u74b0\u5883\u3000\u2192 Hierarchy\u306b\u3042\u308bShader\u306e\u307f\u6aa2\u7d22\n\n\u306a\u306e\u3067\u3001Editor\u4e0a\u3067\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u304c\u30d3\u30eb\u30c9\u74b0\u5883\u3067\u306fHierarchy\u5185\u306b\u3010Transparent/Diffuse\u3011\u306e\u30b7\u30a7\u30fc\u30c0\u3092\u4f7f\u3063\u305f\u30de\u30c6\u30ea\u30a2\u30eb\u304c\u30a2\u30bf\u30c3\u30c1\u3055\u308c\u3066\u308bObuject\u304c\u306a\u3044\u3068\u52d5\u304d\u307e\u305b\u3093\u306e\u3067\u6ce8\u610f\u3067\u3059\u3002\n\n\n\n\n\n\n"}