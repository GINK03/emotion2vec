{"context": "\n\n\u306f\u3058\u3081\u306b\n\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u8a71\u3092\u3059\u308b\u524d\u306b\u30a2\u30d7\u30ea\u306e\u72b6\u614b\u306b\u3064\u3044\u3066\n\n\n\n\u72b6\u614b\n\u6982\u8981\n\n\n\n\nActive\n\u30a2\u30d7\u30ea\u304c\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u3042\u308a\u64cd\u4f5c\u304c\u53ef\u80fd\u306a\u72b6\u614b\n\n\nInactive\n\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u5fa9\u5e30\u3057\u305f\u76f4\u5f8c\u3084\u3001\u901a\u77e5\u30bb\u30f3\u30bf\u30fc\u3001CC\u30bb\u30f3\u30bf\u30fc\u306b\u30a2\u30d7\u30ea\u304c\u8986\u308f\u308c\u3066\u3044\u308b\u72b6\u614b\n\n\nBackground\n\u30a2\u30d7\u30ea\u304c\u80cc\u9762\u306b\u3042\u308a\u30db\u30fc\u30e0\u753b\u9762\u3084\u4ed6\u306e\u30a2\u30d7\u30ea\u304c\u5168\u9762\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\n\n\n\n\n\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u53d7\u3051\u53d6\u308a\u5f8c\u306b\u4f55\u3089\u304b\u306e\u52d5\u4f5c\u3092\u3055\u305b\u308b\n\n\u30a2\u30d7\u30ea\u304c\u751f\u304d\u3066\u3044\u308b\u72b6\u614b\n\nAppDelegate.m\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo {\n    switch (application.applicationState) {\n        case UIApplicatoinStateActive:\n            NSLog(@\"\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u3054\u98ef\u304c\u708a\u3051\u307e\u3057\u305f\u266a\");\n            break;\n        case UIApplicationStateInActive:\n            NSLog(@\"\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u72b6\u614b\u3067\u3054\u98ef\u304c\u708a\u3051\u307e\u3057\u305f\u266a\");\n            break;\n        case UIApplicationStateBackground:\n            NSLog(@\"\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u3054\u98ef\u304c\u708a\u3051\u307e\u3057\u305f\u266a\");\n            break;\n        default:\n            NSLog(@\"\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3051\u3069\u3054\u98ef\u304c\u708a\u3051\u307e\u3057\u305f\u266a\");\n    }\n}\n\n\n\u307e\u305f\u3001 userInfo \u306b\u8a2d\u5b9a\u3057\u305fJSON\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3044\u3044\u611f\u3058\u306b\u30d1\u30fc\u30b9\u3057\u307e\u3057\u3087\u3046\uff01\n\n\u30b5\u30f3\u30d7\u30ebJSON\u30c7\u30fc\u30bf\n{\n    \"aps\": {\n        \"alert\": {\n            \"subject\": \"\u5c0f\u6cc9\u82b1\u967d\u3061\u3083\u3093\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\",\n            \"message\": \"\u3054\u98ef\u708a\u3051\u305f\u3088\uff6b\uff6b\uff01\uff01\uff01\",\n            \"sound\": \"default\",\n            \"badge\": 1\n        },\n        \"uri\": \"app-callback://messages/hanayo\"\n    }\n}\n\n\n\n\u30a2\u30d7\u30ea\u304c\u30ad\u30eb\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\n\nAppDelegate.m\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    _userInfo = launchOptions[UIApplicationLaunchOptionsRemoteNotificationKey];\n    if (_userInfo) {\n        NSLog(@\"\u3054\u98ef\u3092\u3088\u305d\u3048\u307e\u3057\u305f\uff01\uff01\");\n    }\n    return YES;\n}\n\n\n\u307e\u305f\u3001\u3053\u3053\u3067\u306f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u304b\u3089\u306e\u8d77\u52d5\u3067\u30e2\u30fc\u30c0\u30eb\u3084\u753b\u9762\u9077\u79fb\u3092\u3055\u305b\u308b\u306a\u3069\u306e\u52d5\u4f5c\u3092\u5fc5\u8981\u3068\u3059\u308b\u305f\u3081\u30d7\u30ed\u30d1\u30c6\u30a3\u3067\u5225\u9014 userInfo \u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u3002\n\nViewController.m\n// \u753b\u9762\u9077\u79fb\u30b5\u30f3\u30d7\u30eb\nAppDelegate *delegate = (AppDelegate *) [UIApplication sharedApplication].delegate;\nif (delegate.userInfo) {\n    // URL\u30b9\u30ad\u30fc\u30de\u3067\u9077\u79fb\u5148\u3092\u6c7a\u5b9a\u3059\u308b\u306a\u3069\u306ehogehoge\u52d5\u4f5c\n    NSString *scheme = userInfo[@\"uri\"];\n    // hogehoge\u3057\u305f\n    MessageViewController *controller = [self.storyboard instantiateViewControllerWithIdentifier:@\"MessageViewController\"];\n    controller.message = userInfo[@\"alert\"][@\"message\"];\n    [self.navigationController pushViewController:controller animated:YES];\n}\n\n\n\n\u304a\u307e\u3051\nPython\u3067iOS\u30a2\u30d7\u30ea\u306b\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u9001\u308d\u3046\n\u3053\u306e\u8a18\u4e8b\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u30c6\u30b9\u30c8\u3068\u304b\u3057\u3066\u307f\u3066\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\uff01\uff01\n\u5c0f\u6cc9\u82b1\u967d\u3061\u3083\u3093\u53ef\u611b\u3044\u3067\u3059\u3088\u306d\uff01\n\n## \u306f\u3058\u3081\u306b\n\n\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u306e\u8a71\u3092\u3059\u308b\u524d\u306b\u30a2\u30d7\u30ea\u306e\u72b6\u614b\u306b\u3064\u3044\u3066\n\n| \u72b6\u614b | \u6982\u8981 |\n| :--: | :--: |\n|Active|\u30a2\u30d7\u30ea\u304c\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u3042\u308a\u64cd\u4f5c\u304c\u53ef\u80fd\u306a\u72b6\u614b|\n|Inactive|\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u304b\u3089\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u5fa9\u5e30\u3057\u305f\u76f4\u5f8c\u3084\u3001\u901a\u77e5\u30bb\u30f3\u30bf\u30fc\u3001CC\u30bb\u30f3\u30bf\u30fc\u306b\u30a2\u30d7\u30ea\u304c\u8986\u308f\u308c\u3066\u3044\u308b\u72b6\u614b|\n|Background|\u30a2\u30d7\u30ea\u304c\u80cc\u9762\u306b\u3042\u308a\u30db\u30fc\u30e0\u753b\u9762\u3084\u4ed6\u306e\u30a2\u30d7\u30ea\u304c\u5168\u9762\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u72b6\u614b|\n\n## \u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u53d7\u3051\u53d6\u308a\u5f8c\u306b\u4f55\u3089\u304b\u306e\u52d5\u4f5c\u3092\u3055\u305b\u308b\n\n### \u30a2\u30d7\u30ea\u304c\u751f\u304d\u3066\u3044\u308b\u72b6\u614b\n\n```obj-c:AppDelegate.m\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo {\n    switch (application.applicationState) {\n        case UIApplicatoinStateActive:\n            NSLog(@\"\u30d5\u30a9\u30a2\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u3054\u98ef\u304c\u708a\u3051\u307e\u3057\u305f\u266a\");\n            break;\n        case UIApplicationStateInActive:\n            NSLog(@\"\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u72b6\u614b\u3067\u3054\u98ef\u304c\u708a\u3051\u307e\u3057\u305f\u266a\");\n            break;\n        case UIApplicationStateBackground:\n            NSLog(@\"\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u3054\u98ef\u304c\u708a\u3051\u307e\u3057\u305f\u266a\");\n            break;\n        default:\n            NSLog(@\"\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3051\u3069\u3054\u98ef\u304c\u708a\u3051\u307e\u3057\u305f\u266a\");\n    }\n}\n```\n\n\u307e\u305f\u3001 `userInfo` \u306b\u8a2d\u5b9a\u3057\u305fJSON\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3044\u3044\u611f\u3058\u306b\u30d1\u30fc\u30b9\u3057\u307e\u3057\u3087\u3046\uff01\n\n```json:\u30b5\u30f3\u30d7\u30ebJSON\u30c7\u30fc\u30bf\n{\n    \"aps\": {\n        \"alert\": {\n            \"subject\": \"\u5c0f\u6cc9\u82b1\u967d\u3061\u3083\u3093\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\",\n            \"message\": \"\u3054\u98ef\u708a\u3051\u305f\u3088\uff6b\uff6b\uff01\uff01\uff01\",\n            \"sound\": \"default\",\n            \"badge\": 1\n        },\n        \"uri\": \"app-callback://messages/hanayo\"\n    }\n}\n```\n\n### \u30a2\u30d7\u30ea\u304c\u30ad\u30eb\u3055\u308c\u3066\u3044\u308b\u72b6\u614b\n\n```obj-c:AppDelegate.m\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    _userInfo = launchOptions[UIApplicationLaunchOptionsRemoteNotificationKey];\n    if (_userInfo) {\n        NSLog(@\"\u3054\u98ef\u3092\u3088\u305d\u3048\u307e\u3057\u305f\uff01\uff01\");\n    }\n    return YES;\n}\n```\n\n\u307e\u305f\u3001\u3053\u3053\u3067\u306f\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u304b\u3089\u306e\u8d77\u52d5\u3067\u30e2\u30fc\u30c0\u30eb\u3084\u753b\u9762\u9077\u79fb\u3092\u3055\u305b\u308b\u306a\u3069\u306e\u52d5\u4f5c\u3092\u5fc5\u8981\u3068\u3059\u308b\u305f\u3081\u30d7\u30ed\u30d1\u30c6\u30a3\u3067\u5225\u9014 `userInfo` \u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u3002\n\n```obj-c:ViewController.m\n// \u753b\u9762\u9077\u79fb\u30b5\u30f3\u30d7\u30eb\nAppDelegate *delegate = (AppDelegate *) [UIApplication sharedApplication].delegate;\nif (delegate.userInfo) {\n    // URL\u30b9\u30ad\u30fc\u30de\u3067\u9077\u79fb\u5148\u3092\u6c7a\u5b9a\u3059\u308b\u306a\u3069\u306ehogehoge\u52d5\u4f5c\n    NSString *scheme = userInfo[@\"uri\"];\n    // hogehoge\u3057\u305f\n    MessageViewController *controller = [self.storyboard instantiateViewControllerWithIdentifier:@\"MessageViewController\"];\n    controller.message = userInfo[@\"alert\"][@\"message\"];\n    [self.navigationController pushViewController:controller animated:YES];\n}\n```\n\n## \u304a\u307e\u3051\n\n[Python\u3067iOS\u30a2\u30d7\u30ea\u306b\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u3092\u9001\u308d\u3046](http://qiita.com/nnsnodnb/items/ba415c2a56a037cce526)\n\u3053\u306e\u8a18\u4e8b\u3067\u30d7\u30c3\u30b7\u30e5\u901a\u77e5\u30c6\u30b9\u30c8\u3068\u304b\u3057\u3066\u307f\u3066\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\uff01\uff01\n\n\u5c0f\u6cc9\u82b1\u967d\u3061\u3083\u3093\u53ef\u611b\u3044\u3067\u3059\u3088\u306d\uff01\n", "tags": ["Xcode", "iOS", "Push\u901a\u77e5", "Objective-C"]}