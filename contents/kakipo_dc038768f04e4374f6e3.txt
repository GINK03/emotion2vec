{"context": " More than 1 year has passed since last update.\n\n\u80cc\u666f\n\u7d20\u76f4\u306b AMI \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f sudo yum -y update bash \u3067 bash \u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304c\u3067\u304d\u307e\u3059\u3002\n\u304c\u30012014-09-27 \u73fe\u5728\u3001Elastic Beanstalk \u4e0a\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u53c2\u7167\u3057\u3066\u3044\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u306f\u307e\u3060 Shellshock \u306b\u5bfe\u5fdc\u3057\u305f\u6700\u65b0\u7248\u306e bash \u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\u5bfe\u5fdc\n\u624b\u52d5\u3067\u5bfe\u5fdc\u3057\u307e\u3059\u3002\n\nAmazon Linux 2013.09\nsudo yum install -y http://packages.us-east-1.amazonaws.com/2013.09/updates/556c442ced2f/x86_64/Packages/bash-4.1.2-15.18.20.amzn1.x86_64.rpm\n\n\nAmazon Linux 2014.03\nsudo yum install -y http://packages.us-east-1.amazonaws.com/2014.03/updates/e10f5b547e18/x86_64/Packages/bash-4.1.2-15.19.amzn1.x86_64.rpm\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u308c\u3070 OK\u3002vulnerable \u304c\u8868\u793a\u3055\u308c\u305f\u3089 NG\u3002\n$ env x='() { :;}; echo vulnerable' bash -c \"echo this is a test\"\nbash: warning: x: ignoring function definition attempt\nbash: error importing function definition for `x'\nthis is a test\n\n\n\u53c2\u8003\n\nAWS Developer Forums: Update to Amazon AMI for CVE-2014-6271 ...\nbash \u306e\u8106\u5f31\u6027 \"Shell Shock\" \u306e\u3081\u3063\u3061\u3083\u7d30\u304b\u3044\u8a71 (CVE-2014-6721) - \u3082\u308d\u305a blog\n\n# \u80cc\u666f\n\n\u7d20\u76f4\u306b AMI \u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f `sudo yum -y update bash` \u3067 bash \u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u304c\u3001**2014-09-27 \u73fe\u5728**\u3001Elastic Beanstalk \u4e0a\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u53c2\u7167\u3057\u3066\u3044\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u306f\u307e\u3060 Shellshock \u306b\u5bfe\u5fdc\u3057\u305f\u6700\u65b0\u7248\u306e bash \u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n# \u5bfe\u5fdc\n\n\u624b\u52d5\u3067\u5bfe\u5fdc\u3057\u307e\u3059\u3002\n\n## Amazon Linux 2013.09\n\n```\nsudo yum install -y http://packages.us-east-1.amazonaws.com/2013.09/updates/556c442ced2f/x86_64/Packages/bash-4.1.2-15.18.20.amzn1.x86_64.rpm\n```\n\n## Amazon Linux 2014.03\n\n```\nsudo yum install -y http://packages.us-east-1.amazonaws.com/2014.03/updates/e10f5b547e18/x86_64/Packages/bash-4.1.2-15.19.amzn1.x86_64.rpm\n```\n\n# \u52d5\u4f5c\u78ba\u8a8d\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51fa\u529b\u3055\u308c\u308c\u3070 OK\u3002vulnerable \u304c\u8868\u793a\u3055\u308c\u305f\u3089 NG\u3002\n\n```bash\n$ env x='() { :;}; echo vulnerable' bash -c \"echo this is a test\"\nbash: warning: x: ignoring function definition attempt\nbash: error importing function definition for `x'\nthis is a test\n```\n\n\n\n# \u53c2\u8003\n\n- [AWS Developer Forums: Update to Amazon AMI for CVE-2014-6271 ...](https://forums.aws.amazon.com/thread.jspa?threadID=161489)\n- [bash \u306e\u8106\u5f31\u6027 \"Shell Shock\" \u306e\u3081\u3063\u3061\u3083\u7d30\u304b\u3044\u8a71 (CVE-2014-6721) - \u3082\u308d\u305a blog](http://moro-archive.hatenablog.com/entry/2014/09/27/200553)\n", "tags": ["ElasticBeanstalk", "ShellShock", "CVE-2014-6271"]}