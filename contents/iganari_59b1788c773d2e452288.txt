{"tags": ["VirtualBox", "alpinelinux", "CoreOS", "docker"], "context": "\n\n\u69cb\u6210\n\npart 1\n\nMac\u4e0a\u306eVB\u306bCoreOS\u3092\u5165\u308c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\nprat 2\n\nCoreOS\u306e\u57fa\u672c\u8a2d\u5b9a\u3068docker\u306e\u57fa\u672c\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\npart 3\n\nalpine\u30d9\u30fc\u30b9\u306edocker\u3092\u697d\u3057\u3080\u3002\n\nMac\u4e0a\u306eVB\u306bCoreOS\u3092\u3001\u5165\u308c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\nMac \nOS X El Capitan\nVirtualBox\n4.3.30\n\n\nCoreOS\u3092\u5165\u624b\n\u4e0b\u8a18\u306eURL\u3088\u308a\u3001CoreOS\u306eISO\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b(stable\u63a8\u5968)\nBooting CoreOS from an ISO\n\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\nVB\u4e0a\u3067\u4ee5\u4e0b\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306ehost-only Networks\u306b\u3066\u4ee5\u4e0b\u3092\u4f5c\u6210\n\n\n\nCoreOS\u3092\u7acb\u3061\u4e0a\u3052\u308b\n\u4e0a\u8a18\u306e\u8a2d\u5b9a\u3092\u5f53\u3066\u305fVB\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3002\n\u5f53\u3066\u305f\u8a2d\u5b9a\u304c\u53cd\u6620\u3055\u308c\u3066\u3044\u308c\u3070\u3001DHCP\u3067IP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u3002\n\n\nCoreOS\u306bSSH\u51fa\u6765\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\nVB\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306f\u4f7f\u3044\u3065\u3089\u3044\u306e\u3067\u3001Mac\u4e0a\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089ssh\u51fa\u6765\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3002\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fCoreOS\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067Core\u3068\u3044\u3046\u30e6\u30fc\u30b6\u304c\u3042\u308b\u304c\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u8a2d\u5b9a\u3059\u308b\u3002\n\ncmd\n$ sudo passwd core\n\n\n\u3053\u3053\u307e\u3067\u306e\u8a2d\u5b9a\u3067\u3001IP\u306e\u8a2d\u5b9a\u3068\u30e6\u30fc\u30b6\u30fb\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u306e\u3067\u5916\u304b\u3089SSH\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\n\nMac\u304b\u3089SSH\n$  ssh core@192.168.59.100 -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null\nWarning: Permanently added '192.168.59.100' (ED25519) to the list of known hosts.\ncore@192.168.59.100's password: \nLast login: Mon May  9 08:37:54 2016\nCoreOS stable (835.13.0)\nUpdate Strategy: No Reboots\ncore@localhost ~ $ \n\n\n\n\u9375\u306e\u8a2d\u5b9a\u3092\u3059\u308b\n\nMac\u306b\u3066\n\n\u79d8\u5bc6\u30fb\u516c\u958b\u9375\u306e\u4f5c\u6210\n\n$ ssh-keygen -t rsa -C 'for coreos' -f id_rsa-coreos\n$\n$\n$ ls -1\nid_rsa-coreos\nid_rsa-coreos.pub\n\n\ncoreos\u4e0a\u306b\u3066\n\n\u9375\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\n$ sudo su -\n# vim config\n\n\n/root/config\n#cloud-config\n\nssh_authorized_keys:\n  - ssh-rsa AAAAB3NzaC1yc2EAAA....(id_rsa-coreos.pub\u306e\u4e2d\u8eab)\n\n\n\ncloud-config\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30c1\u30a7\u30c3\u30af\n\n\ncmd\n$ sudo coreos-cloudinit -validate=true -from-file=./config\n\n\n\n\u8a2d\u5b9a\u306e\u53cd\u6620\n\n### \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3(Stable | Beta | Alpha)\u3067stable\u306e\u3068\u3053\u308d\u3092\u66f8\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n# coreos-install -d /dev/sda -C stable -c config\n# shutdown -h now\n\n\nMac\u4e0a\u306b\u3066\u3002\n\nVB\u4e0a\u306e\u64cd\u4f5c\u3067storage\u304b\u3089coreos\u3092\u30a2\u30f3\u30de\u30a6\u30f3\u30c8\u3059\u308b\n\u8d77\u52d5 \n\u9375\u3092\u4f7f\u3063\u3066\u3001ssh\u3059\u308b\n\n$ ssh -i id_rsa-coreos core@192.169.59.100 -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null\nWarning: Permanently added '192.169.59.100' (ED25519) to the list of known hosts.\nCoreOS stable (835.13.0)\ncore@localhost ~ $ \ncore@localhost ~ $ \ncore@localhost ~ $ \ncore@localhost ~ $ \ncore@localhost ~ $ \ncore@localhost ~ $ \n\n\n\u7121\u4e8b\u3001\u9375\u306b\u3088\u308bssh\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\u305f\u3060\u3001\u4eca\u56de\u306e\u8a2d\u5b9a\u3060\u3068\u9375\u4ee5\u5916\u306e\u5168\u3066\u306e\u8a2d\u5b9a\u304c\u5439\u3063\u98db\u3093\u3067\u3057\u307e\u3046\u306e\u3067\u6b21\u56de\u306f\u3061\u3083\u3093\u3068\u8a2d\u5b9a\u3057\u3066\u3044\u304f\u3002\n### \u69cb\u6210\n+ part 1\n\nMac\u4e0a\u306eVB\u306bCoreOS\u3092\u5165\u308c\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n+ prat 2\n\nCoreOS\u306e\u57fa\u672c\u8a2d\u5b9a\u3068docker\u306e\u57fa\u672c\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\n+ part 3\n\nalpine\u30d9\u30fc\u30b9\u306edocker\u3092\u697d\u3057\u3080\u3002\n \n# Mac\u4e0a\u306eVB\u306bCoreOS\u3092\u3001\u5165\u308c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n+ Mac \nOS X El Capitan\n\n+ VirtualBox\n4.3.30\n\n### CoreOS\u3092\u5165\u624b\n\n\u4e0b\u8a18\u306eURL\u3088\u308a\u3001CoreOS\u306eISO\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b(stable\u63a8\u5968)\n\n[Booting CoreOS from an ISO](https://coreos.com/os/docs/latest/booting-with-iso.html)\n\n### \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\n\nVB\u4e0a\u3067\u4ee5\u4e0b\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306ehost-only Networks\u306b\u3066\u4ee5\u4e0b\u3092\u4f5c\u6210\n\n\n![011.png](https://qiita-image-store.s3.amazonaws.com/0/25582/e21f758b-a0f0-62b7-44f4-435d7e229602.png)\n\n![012.png](https://qiita-image-store.s3.amazonaws.com/0/25582/e4de7aeb-d8b1-37de-388f-35f8ed463ac4.png)\n\n\n### CoreOS\u3092\u7acb\u3061\u4e0a\u3052\u308b\n\n\u4e0a\u8a18\u306e\u8a2d\u5b9a\u3092\u5f53\u3066\u305fVB\u3092\u7acb\u3061\u4e0a\u3052\u308b\u3002\n\u5f53\u3066\u305f\u8a2d\u5b9a\u304c\u53cd\u6620\u3055\u308c\u3066\u3044\u308c\u3070\u3001DHCP\u3067IP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u3002\n\n\n![013.png](https://qiita-image-store.s3.amazonaws.com/0/25582/ed2c2b5d-e3c8-f589-9c90-f2095c63c94f.png)\n\n\n### CoreOS\u306bSSH\u51fa\u6765\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n\nVB\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306f\u4f7f\u3044\u3065\u3089\u3044\u306e\u3067\u3001Mac\u4e0a\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089ssh\u51fa\u6765\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fCoreOS\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067Core\u3068\u3044\u3046\u30e6\u30fc\u30b6\u304c\u3042\u308b\u304c\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u8a2d\u5b9a\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u8a2d\u5b9a\u3059\u308b\u3002\n\n```text:cmd\n$ sudo passwd core\n```\n\n\n\u3053\u3053\u307e\u3067\u306e\u8a2d\u5b9a\u3067\u3001IP\u306e\u8a2d\u5b9a\u3068\u30e6\u30fc\u30b6\u30fb\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u306e\u3067\u5916\u304b\u3089SSH\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\n\n```text:Mac\u304b\u3089SSH\n$  ssh core@192.168.59.100 -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null\nWarning: Permanently added '192.168.59.100' (ED25519) to the list of known hosts.\ncore@192.168.59.100's password: \nLast login: Mon May  9 08:37:54 2016\nCoreOS stable (835.13.0)\nUpdate Strategy: No Reboots\ncore@localhost ~ $ \n```\n\n# \u9375\u306e\u8a2d\u5b9a\u3092\u3059\u308b\n\n### Mac\u306b\u3066\n\n+ \u79d8\u5bc6\u30fb\u516c\u958b\u9375\u306e\u4f5c\u6210\n\n```\n$ ssh-keygen -t rsa -C 'for coreos' -f id_rsa-coreos\n$\n$\n$ ls -1\nid_rsa-coreos\nid_rsa-coreos.pub\n```\n\n### coreos\u4e0a\u306b\u3066\n\n+ \u9375\u306e\u8a2d\u5b9a\u3092\u3059\u308b\u3002\n\n```\n$ sudo su -\n# vim config\n```\n\n```text:/root/config\n#cloud-config\n\nssh_authorized_keys:\n  - ssh-rsa AAAAB3NzaC1yc2EAAA....(id_rsa-coreos.pub\u306e\u4e2d\u8eab)\n```\n\n+ cloud-config\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30c1\u30a7\u30c3\u30af\n\n```text:cmd\n$ sudo coreos-cloudinit -validate=true -from-file=./config\n```\n\n+ \u8a2d\u5b9a\u306e\u53cd\u6620\n\n```\n### \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3(Stable | Beta | Alpha)\u3067stable\u306e\u3068\u3053\u308d\u3092\u66f8\u304d\u63db\u3048\u3066\u4e0b\u3055\u3044\u3002\n# coreos-install -d /dev/sda -C stable -c config\n# shutdown -h now\n```\n\n### Mac\u4e0a\u306b\u3066\u3002\n\n+ VB\u4e0a\u306e\u64cd\u4f5c\u3067storage\u304b\u3089coreos\u3092\u30a2\u30f3\u30de\u30a6\u30f3\u30c8\u3059\u308b\n+ \u8d77\u52d5 \n+ \u9375\u3092\u4f7f\u3063\u3066\u3001ssh\u3059\u308b\n\n```\n$ ssh -i id_rsa-coreos core@192.169.59.100 -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null\nWarning: Permanently added '192.169.59.100' (ED25519) to the list of known hosts.\nCoreOS stable (835.13.0)\ncore@localhost ~ $ \ncore@localhost ~ $ \ncore@localhost ~ $ \ncore@localhost ~ $ \ncore@localhost ~ $ \ncore@localhost ~ $ \n\n```\n\n\u7121\u4e8b\u3001\u9375\u306b\u3088\u308bssh\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n\u305f\u3060\u3001\u4eca\u56de\u306e\u8a2d\u5b9a\u3060\u3068\u9375\u4ee5\u5916\u306e\u5168\u3066\u306e\u8a2d\u5b9a\u304c\u5439\u3063\u98db\u3093\u3067\u3057\u307e\u3046\u306e\u3067\u6b21\u56de\u306f\u3061\u3083\u3093\u3068\u8a2d\u5b9a\u3057\u3066\u3044\u304f\u3002\n\n\n"}