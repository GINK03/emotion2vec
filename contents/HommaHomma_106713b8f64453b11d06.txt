{"context": " More than 1 year has passed since last update.\n\n\u53c2\u7167\u30da\u30fc\u30b8\n\nvSphere Integrated Containers \u30c6\u30af\u30ce\u30ed\u30b8\u30fc \u30a6\u30a9\u30fc\u30af\u30b9\u30eb\u30fc\nPhoton Controlller Getting Started Guide\n\n\u57fa\u672c\u7684\u306b\u306f\u3001Photon Controlller Getting Started Guide\u306b\u5f93\u3063\u3066\u64cd\u4f5c\u3057\u305f\u624b\u9806\u8a18\u9332\u3067\u3059\u3002\u53c2\u8003\u306b\u3057\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u8a2d\u5b9a\n\nVMWare Player\u3067\u57fa\u76e4\u74b0\u5883\u4f5c\u308a\nPhoton Controlller Getting Started Guide\u3067\u306f\u3001VMWare Fusion 8 or VMware Workstation 12\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308b\u304c\u3001\u3059\u3067\u306bVMWare Player\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3053\u3061\u3089\u306e\u74b0\u5883\u3092\u5229\u7528\u3059\u308b\u3002\n\u3053\u308c\u3092\u8a66\u3059\u305f\u3081\u306b\u306f\u3001NAT\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092192.168.209.0/24\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u308f\u304b\u308b\u4eba\u306f\u3001vmnetnat.conf\u3084vmnetdhcp.conf\u3092\u7de8\u96c6\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nESXi\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u767b\u9332\u3068\u30e9\u30a4\u30bb\u30f3\u30b9\u7533\u8acb\u304c\u5fc5\u8981\u3067\u3059\u3002\u7c21\u5358\u306a\u64cd\u4f5c\u3067\u3059\u3002\nDownload  VMware vSphere Hypervisor (ESXi)\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\nVMWare Player\u3067ESXi\u306e\u8d77\u52d5\n\u4ee5\u4e0b\u306e\u74b0\u5883\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n- \u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u306f\u3001100G\n- \u30d7\u30ed\u30bb\u30c3\u30b5\u6570\u306f\u30014\n- \u30e1\u30e2\u30ea\u306f\u300112G\n- \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306f\u3001NAT\n- \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fESXi\u3092\u9078\u629e\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u81ea\u52d5\u7684\u306b\u9032\u3093\u3067\u3044\u304f\u306e\u3067\u5c11\u3057\u5f85\u3061\u307e\u3059\u3002\nF11\u306a\u3069\u62bc\u3057\u306a\u304c\u3089\u9032\u3081\u3066\u304f\u3060\u3055\u3044\u3002\u518d\u8d77\u52d5\u3057\u305f\u3089\u3001\u7d42\u4e86\u3067\u3059\u3002\nIP\u30a2\u30c9\u30ec\u30b9\u306f192.168.209.31\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nSSH\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\nESXi Embedded Host Client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nESXi Embedded Host Client\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306f\u3001ESXi\u306b\u5bfe\u3057\u3066\u3001SCP\u3001SSH\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u79c1\u306f\u3001WinSCP\u3092\u4f7f\u3063\u3066/tmp\u4ee5\u4e0b\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u3057\u3001WinSCP\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\nesxcli software vib install -v /tmp/esxui-signed.vib --force\n\nhttps://192.168.209.31/ui/\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\n\nPhoton.exe\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u8a2d\u5b9a\nPhoton.exe\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nPhoton.exe\u3092\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u3001Windows\u306e\u74b0\u5883\u8a2d\u5b9a\u3067\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092PATH\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nPhoton Controller Control Plane OVA\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u8a2d\u5b9a\nPhoton Controller Control Plane OVA\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u30022.5G\u304f\u3089\u3044\u3067\u3059\u3002\nVMWare Player\u3067\u8d77\u52d5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u305f\u3044\u3068\u304d\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nBasic Commands for VMware Photon and Docker\nhttps://192.168.209.29/api/\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nphoton\u306e\u8a2d\u5b9a\n\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u3067\u3059\u3002\nC:>photon target set https://192.168.209.29:443\nAPI target set to 'https://192.168.209.29:443'\n\nC:>photon host create --username root --password <\u30d1\u30b9\u30ef\u30fc\u30c9> --tag\nCLOUD --address 192.168.209.31\n\n1\u5206\u8fd1\u3044\u304f\u3089\u3044\u51e6\u7406\u304c\u884c\u308f\u308c\u307e\u3059\u3002\n\nC:>photon host list\nUsing target 'https://192.168.209.29:443'\nID                                    State  IP              Tags\n84031e89-dd9c-4c4d-a262-65a4b160d63d  READY  192.168.209.31  CLOUD\n\nTotal: 1\n\nREADY\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u6210\u529f\u306e\u3088\u3046\u3067\u3059\u3002\n\nphoton\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8a2d\u5b9a\nC:\\>photon tenant set demo\nUsing target 'https://192.168.209.29:443'\nTenant set to 'demo'\n\nC:\\>photon project set dev-project\nUsing target 'https://192.168.209.29:443'\nProject set to 'dev-project'\n\nc:\\>photon project list\nUsing target 'https://192.168.209.29:443'\nID                                    Name         Limit             Usage\n77fa7e6a-5b67-4909-b589-015d8761a7ee  dev-project  vm.memory 100 GB  vm.memory 0 GB\n                                                   vm 5000 COUNT     vm 0 COUNT\n\nTotal projects: 1\n\nc:\\>photon tenant list\nUsing target 'https://192.168.209.29:443'\nID                                    Name\nea4af1ba-ba0a-4bba-b720-2f2c6ef6c8cf  demo\n\nTotal: 1\n\n\nphoton\u306b\u30af\u30e9\u30b9\u30bf\u30a4\u30e1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\u3069\u308c\u3067\u3082\u4e00\u3064\u3067\u3088\u3044\u3088\u3046\u3067\u3059\u3002\u4f7f\u3044\u306a\u308c\u305f\u3082\u306e\u3092\u5229\u7528\u3059\u308c\u3070\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nkubernetes\u3001swarm\u3001Mesos\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nc:\\>photon image create photon-kubernetes-vm-disk1.vmdk -n photon-kubernetes-vm.vmdk -i EAGER\nUsing target 'https://192.168.209.29:443'\nCreated image 'photon-kubernetes-vm.vmdk' ID: 17896ae7-3972-4ee9-8536-bcd723039534\n\nc:\\>photon image create photon-swarm-vm-disk1.vmdk -n photon-swarm-vm.vmdk -i EAGER\nUsing target 'https://192.168.209.29:443'\nCreated image 'photon-swarm-vm.vmdk' ID: 530eda74-a22f-46b0-b0c6-a29b8e56bdde\n\nc:\\>photon image create photon-mesos-vm-disk1.vmdk -n photon-mesos-vm.vmdk -i EAGER\nUsing target 'https://192.168.209.29:443'\nCreated image 'photon-mesos-vm.vmdk' ID: 8ed791ec-83f4-4044-a645-945cf7a3a8f9\nc:\\>photon image list\nUsing target 'https://192.168.209.29:443'\nID                                    Name                       State  Size(Byte)   Replication_type\n530eda74-a22f-46b0-b0c6-a29b8e56bdde  photon-swarm-vm.vmdk       READY  85899345968  EAGER\n8ed791ec-83f4-4044-a645-945cf7a3a8f9  photon-mesos-vm.vmdk       READY  85899345968  EAGER\n17896ae7-3972-4ee9-8536-bcd723039534  photon-kubernetes-vm.vmdk  READY  85899345968  EAGER\n\nTotal: 3\n\n\nkubernetes\u30af\u30e9\u30b9\u30bf\u306e\u8a2d\u5b9a\nc:\\>photon cluster create -n Kube2 -k KUBERNETES --dns 192.168.209.2 --gateway 192.168.209.2 --netmask 255.255.255.0 --master-ip 192.168.209.35 --cont\nainer-network 10.20.0.0/16 --etcd1 192.168.209.36 -s 2\nUsing target 'https://192.168.209.29:443'\netcd server 2 static IP address (leave blank for none):\n\nCreating cluster: Kube2 (KUBERNETES)\n  Slave count: 2\n\nAre you sure [y/n]? y\nCluster created: ID = 0569bf82-8f93-4c09-8ba4-146bc238c3e8\nNote: the cluster has been created with minimal resources. You can use the cluster now.\nA background task is running to gradually expand the cluster to its target capacity.\nYou can run 'cluster show 0569bf82-8f93-4c09-8ba4-146bc238c3e8' to see the state of the cluster.\n\nc:\\>photon cluster list\nUsing target 'https://192.168.209.29:443'\nID                                    Name   Type        State     Slave Count\n0569bf82-8f93-4c09-8ba4-146bc238c3e8  Kube2  KUBERNETES  CREATING  2\n\nTotal: 1\nCREATING: 1\n\n1\u5206\u304f\u3089\u3044\u3057\u3066\u304b\u3089\u3082\u3046\u4e00\u5ea6\u3084\u308b\u3068\u3001\nc:\\>photon cluster list\nUsing target 'https://192.168.209.29:443'\nID                                    Name   Type        State  Slave Count\n0569bf82-8f93-4c09-8ba4-146bc238c3e8  Kube2  KUBERNETES  READY  2\n\nTotal: 1\nREADY: 1\n\n\n5\u5206\u304f\u3089\u3044\u3067\u7d42\u308f\u308a\u307e\u3059\u3002\nhttps://192.168.209.31/ui/\u3067\u898b\u3066\u3044\u308b\u3068\u3001\u3069\u306e\u3088\u3046\u306bVM\u304c\u4f5c\u6210\u3055\u308c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u308f\u304b\u308a\u307e\u3059\u3002\n\u30b3\u30de\u30f3\u30c9\u3067\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u3001master-ip\u3001etcd-ip\u306f\u3001\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30b9\u30ec\u30fc\u30d6\u306e\u30b5\u30fc\u30d0\u306f\u6307\u5b9a\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u306fDHCP\u3067\u81ea\u52d5\u7684\u306bIP\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u306e\u3067\u3001DHCP\u304c\u7a3c\u50cd\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\netcd2\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001etc\u30b5\u30fc\u30d0\u304c2\u53f0\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\u72b6\u6cc1\u78ba\u8a8d\n\u3053\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nslave\u306eIP\u306f\u3001192.168.209.129\u3068\u3001192.168.209.130\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002DHCP\u3067IP\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u308c\u305e\u308c\u3001\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u9762\u767d\u3044\u3067\u3059\u3088\u3002\ndocker\u3067\u30b5\u30fc\u30d3\u30b9\u304c\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u306d\u3002\n\u25a0master\nroot@master-b94bdd6a-4bfc-462b-b9f7-4469080992cf [ ~ ]# docker ps\nCONTAINER ID        IMAGE                                       COMMAND                  CREATED             STATUS              PORTS               NAMES\neb9fa8f88277        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube scheduler\"   7 minutes ago       Up 7 minutes                            k8s_scheduler.2744e742_k8s-master-master-b94bdd6a-4bfc-462b-b9f7-4469080992cf_default_e4b00cc799dcf1b4b38d135ec92c50d5_7af2c055\nc5cfd41f4788        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube apiserver\"   7 minutes ago       Up 7 minutes                            k8s_apiserver.22190309_k8s-master-master-b94bdd6a-4bfc-462b-b9f7-4469080992cf_default_e4b00cc799dcf1b4b38d135ec92c50d5_c6f08db7\n7b8cc1eb3749        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube controlle\"   7 minutes ago       Up 7 minutes                            k8s_controller-manager.1598ee5c_k8s-master-master-b94bdd6a-4bfc-462b-b9f7-4469080992cf_default_e4b00cc799dcf1b4b38d135ec92c50d5_1e563e1a\n8156c51cf848        gcr.io/google_containers/pause:0.8.0        \"/pause\"                 7 minutes ago       Up 7 minutes                            k8s_POD.e4cc795_k8s-master-master-b94bdd6a-4bfc-462b-b9f7-4469080992cf_default_e4b00cc799dcf1b4b38d135ec92c50d5_6f19d4e8\n92be7e681954        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube proxy --m\"   7 minutes ago       Up 7 minutes                            furious_turing\nab87a67d27c6        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube kubelet -\"   7 minutes ago       Up 7 minutes                            elated_bell\n\n\u25a0etcd\nroot@etcd-525a0b9a-f857-4732-a856-aaaf7eb127cf [ ~ ]# docker ps\nCONTAINER ID        IMAGE                        COMMAND                  CREATED             STATUS              PORTS                                                                NAMES\n7655cc2c9bb1        quay.io/coreos/etcd:v2.0.8   \"/etcd -name etcd0 -a\"   8 minutes ago       Up 8 minutes        0.0.0.0:2379-2380->2379-2380/tcp, 7001/tcp, 0.0.0.0:4001->4001/tcp   etcd\n\n\u25a0slave\nroot@slave-62b68844-ab24-48b0-bf99-cbae83a5bbd0 [ ~ ]# docker ps -a\nCONTAINER ID        IMAGE                                       COMMAND                  CREATED             STATUS              PORTS               NAMES\n2b1d37b02f8c        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube proxy --m\"   7 minutes ago       Up 7 minutes                            hopeful_euclid\n3f107cd9bd09        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube kubelet -\"   7 minutes ago       Up 7 minutes                            backstabbing_curie\n\n\u25a0slave\nroot@slave-1cfb19e7-5de1-4463-854b-b8ed911faaab [ ~ ]# docker ps -a\nCONTAINER ID        IMAGE                                       COMMAND                  CREATED             STATUS              PORTS               NAMES\n3569eb49a584        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube proxy --m\"   6 minutes ago       Up 6 minutes                            suspicious_almeida\n3030e2bcd4f3        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube kubelet -\"   6 minutes ago       Up 6 minutes                            stoic_visvesvaraya\n\n\u203bflannel\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u6301\u3063\u3066\u3044\u308b\u306e\u306f\u3001master\u3068slave\u3067\u3059\u3002\n\nkubectl.exe \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nkubernetes\u304b\u3089kubernetes.tar.gz\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u89e3\u51cd\u3059\u308b\u3068\u3001\nkubernetes\\platforms\\windows\\amd64\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001photon.exe\u3068\u540c\u69d8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\nPATH\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u306e\u3067\u3001kubectl\u304c\u4f7f\u7528\u53ef\u80fd\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u8d77\u52d5\u78ba\u8a8d\n\u4ee5\u4e0b\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nApache Tomcat Replication Controller yml\nApache Tomcat Service yml\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3063\u3066\u8d77\u52d5\u306e\u78ba\u8a8d\u3092\u3057\u307e\u3059\u3002\nkubectl -s 192.168.209.35:8080 create -f photon-Controller-Tomcat-rc.yml\nkubectl -s 192.168.209.35:8080 create -f photon-Controller-Tomcat-service.yml\nkubectl -s 192.168.209.35:8080 get pods\n\n\nswarm\u3001mesos\n\u307e\u305f\u8a66\u3057\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u304c\n\u4eca\u65e5\u306f\u3001\u3053\u3053\u307e\u3067\u3067\u3059\u3002\n# \u53c2\u7167\u30da\u30fc\u30b8\n\n- [vSphere Integrated Containers \u30c6\u30af\u30ce\u30ed\u30b8\u30fc \u30a6\u30a9\u30fc\u30af\u30b9\u30eb\u30fc](http://blogs.vmware.com/jp-cim/2015/10/vsphere-integrated-containers-tech.html)\n- [Photon Controlller Getting Started Guide](http://blogs.vmware.com/cloudnative/files/2015/11/Photon-Controller-Getting-Started-Guide-20151116.pdf)\n \n\u57fa\u672c\u7684\u306b\u306f\u3001Photon Controlller Getting Started Guide\u306b\u5f93\u3063\u3066\u64cd\u4f5c\u3057\u305f\u624b\u9806\u8a18\u9332\u3067\u3059\u3002\u53c2\u8003\u306b\u3057\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u8a2d\u5b9a\n## VMWare Player\u3067\u57fa\u76e4\u74b0\u5883\u4f5c\u308a\nPhoton Controlller Getting Started Guide\u3067\u306f\u3001VMWare Fusion 8 or VMware Workstation 12\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u66f8\u3044\u3066\u3042\u308b\u304c\u3001\u3059\u3067\u306bVMWare Player\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3053\u3061\u3089\u306e\u74b0\u5883\u3092\u5229\u7528\u3059\u308b\u3002\n\n\u3053\u308c\u3092\u8a66\u3059\u305f\u3081\u306b\u306f\u3001NAT\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092192.168.209.0/24\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u308f\u304b\u308b\u4eba\u306f\u3001vmnetnat.conf\u3084vmnetdhcp.conf\u3092\u7de8\u96c6\u3057\u3066\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nESXi\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u767b\u9332\u3068\u30e9\u30a4\u30bb\u30f3\u30b9\u7533\u8acb\u304c\u5fc5\u8981\u3067\u3059\u3002\u7c21\u5358\u306a\u64cd\u4f5c\u3067\u3059\u3002\n[Download  VMware vSphere Hypervisor (ESXi)\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9](https://my.vmware.com/group/vmware/info?slug=datacenter_cloud_infrastructure/vmware_vsphere_hypervisor_esxi/6_0)\n\n## VMWare Player\u3067ESXi\u306e\u8d77\u52d5\n\u4ee5\u4e0b\u306e\u74b0\u5883\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n- \u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u306f\u3001100G\n- \u30d7\u30ed\u30bb\u30c3\u30b5\u6570\u306f\u30014\n- \u30e1\u30e2\u30ea\u306f\u300112G\n- \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306f\u3001NAT\n- \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fESXi\u3092\u9078\u629e\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u81ea\u52d5\u7684\u306b\u9032\u3093\u3067\u3044\u304f\u306e\u3067\u5c11\u3057\u5f85\u3061\u307e\u3059\u3002\nF11\u306a\u3069\u62bc\u3057\u306a\u304c\u3089\u9032\u3081\u3066\u304f\u3060\u3055\u3044\u3002\u518d\u8d77\u52d5\u3057\u305f\u3089\u3001\u7d42\u4e86\u3067\u3059\u3002\n\nIP\u30a2\u30c9\u30ec\u30b9\u306f192.168.209.31\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nSSH\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\n## ESXi Embedded Host Client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[ESXi Embedded Host Client\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9](https://labs.vmware.com/flings/esxi-embedded-host-client)\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306f\u3001ESXi\u306b\u5bfe\u3057\u3066\u3001SCP\u3001SSH\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u79c1\u306f\u3001WinSCP\u3092\u4f7f\u3063\u3066/tmp\u4ee5\u4e0b\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u3057\u3001WinSCP\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\n```\nesxcli software vib install -v /tmp/esxui-signed.vib --force\n```\n\n[https://192.168.209.31/ui/](https://192.168.209.31/ui/)\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\n\n## Photon.exe\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u8a2d\u5b9a\n\n[Photon.exe](https://bintray.com/artifact/download/photon-controller/public/UserWorkflow/photon.exe)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\nPhoton.exe\u3092\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3057\u3001Windows\u306e\u74b0\u5883\u8a2d\u5b9a\u3067\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092PATH\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n## Photon Controller Control Plane OVA\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u8a2d\u5b9a\n\n[Photon Controller Control Plane OVA](https://bintray.com/artifact/download/photon-controller/public/UserWorkflow/PhotonControllerDevbox-11-12-15.ova)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u30022.5G\u304f\u3089\u3044\u3067\u3059\u3002\nVMWare Player\u3067\u8d77\u52d5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002\n\n\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u305f\u3044\u3068\u304d\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n[\t\nBasic Commands for VMware Photon and Docker](http://www.virten.net/2015/04/basic-commands-for-vmware-photon-and-docker/)\n\n[https://192.168.209.29/api/](https://192.168.209.29/api/)\u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## photon\u306e\u8a2d\u5b9a\n\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\n```\nC:>photon target set https://192.168.209.29:443\nAPI target set to 'https://192.168.209.29:443'\n\nC:>photon host create --username root --password <\u30d1\u30b9\u30ef\u30fc\u30c9> --tag\nCLOUD --address 192.168.209.31\n\n1\u5206\u8fd1\u3044\u304f\u3089\u3044\u51e6\u7406\u304c\u884c\u308f\u308c\u307e\u3059\u3002\n\nC:>photon host list\nUsing target 'https://192.168.209.29:443'\nID                                    State  IP              Tags\n84031e89-dd9c-4c4d-a262-65a4b160d63d  READY  192.168.209.31  CLOUD\n\nTotal: 1\n```\n\nREADY\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u6210\u529f\u306e\u3088\u3046\u3067\u3059\u3002\n\n## photon\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8a2d\u5b9a\n\n```\nC:\\>photon tenant set demo\nUsing target 'https://192.168.209.29:443'\nTenant set to 'demo'\n\nC:\\>photon project set dev-project\nUsing target 'https://192.168.209.29:443'\nProject set to 'dev-project'\n\nc:\\>photon project list\nUsing target 'https://192.168.209.29:443'\nID                                    Name         Limit             Usage\n77fa7e6a-5b67-4909-b589-015d8761a7ee  dev-project  vm.memory 100 GB  vm.memory 0 GB\n                                                   vm 5000 COUNT     vm 0 COUNT\n\nTotal projects: 1\n\nc:\\>photon tenant list\nUsing target 'https://192.168.209.29:443'\nID                                    Name\nea4af1ba-ba0a-4bba-b720-2f2c6ef6c8cf  demo\n\nTotal: 1\n```\n\n## photon\u306b\u30af\u30e9\u30b9\u30bf\u30a4\u30e1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\n\u3069\u308c\u3067\u3082\u4e00\u3064\u3067\u3088\u3044\u3088\u3046\u3067\u3059\u3002\u4f7f\u3044\u306a\u308c\u305f\u3082\u306e\u3092\u5229\u7528\u3059\u308c\u3070\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n[kubernetes](https://bintray.com/artifact/download/photon-controller/public/UserWorkflow/photon-kubernetes-vm-disk1.vmdk)\u3001[swarm](https://bintray.com/artifact/download/photon-controller/public/UserWorkflow/photon-swarm-vm-disk1.vmdk)\u3001[Mesos](https://bintray.com/artifact/download/photon-controller/public/UserWorkflow/photon-mesos-vm-disk1.vmdk)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```\nc:\\>photon image create photon-kubernetes-vm-disk1.vmdk -n photon-kubernetes-vm.vmdk -i EAGER\nUsing target 'https://192.168.209.29:443'\nCreated image 'photon-kubernetes-vm.vmdk' ID: 17896ae7-3972-4ee9-8536-bcd723039534\n\nc:\\>photon image create photon-swarm-vm-disk1.vmdk -n photon-swarm-vm.vmdk -i EAGER\nUsing target 'https://192.168.209.29:443'\nCreated image 'photon-swarm-vm.vmdk' ID: 530eda74-a22f-46b0-b0c6-a29b8e56bdde\n\nc:\\>photon image create photon-mesos-vm-disk1.vmdk -n photon-mesos-vm.vmdk -i EAGER\nUsing target 'https://192.168.209.29:443'\nCreated image 'photon-mesos-vm.vmdk' ID: 8ed791ec-83f4-4044-a645-945cf7a3a8f9\nc:\\>photon image list\nUsing target 'https://192.168.209.29:443'\nID                                    Name                       State  Size(Byte)   Replication_type\n530eda74-a22f-46b0-b0c6-a29b8e56bdde  photon-swarm-vm.vmdk       READY  85899345968  EAGER\n8ed791ec-83f4-4044-a645-945cf7a3a8f9  photon-mesos-vm.vmdk       READY  85899345968  EAGER\n17896ae7-3972-4ee9-8536-bcd723039534  photon-kubernetes-vm.vmdk  READY  85899345968  EAGER\n\nTotal: 3\n```\n\n## kubernetes\u30af\u30e9\u30b9\u30bf\u306e\u8a2d\u5b9a\n\n\n```\nc:\\>photon cluster create -n Kube2 -k KUBERNETES --dns 192.168.209.2 --gateway 192.168.209.2 --netmask 255.255.255.0 --master-ip 192.168.209.35 --cont\nainer-network 10.20.0.0/16 --etcd1 192.168.209.36 -s 2\nUsing target 'https://192.168.209.29:443'\netcd server 2 static IP address (leave blank for none):\n\nCreating cluster: Kube2 (KUBERNETES)\n  Slave count: 2\n\nAre you sure [y/n]? y\nCluster created: ID = 0569bf82-8f93-4c09-8ba4-146bc238c3e8\nNote: the cluster has been created with minimal resources. You can use the cluster now.\nA background task is running to gradually expand the cluster to its target capacity.\nYou can run 'cluster show 0569bf82-8f93-4c09-8ba4-146bc238c3e8' to see the state of the cluster.\n\nc:\\>photon cluster list\nUsing target 'https://192.168.209.29:443'\nID                                    Name   Type        State     Slave Count\n0569bf82-8f93-4c09-8ba4-146bc238c3e8  Kube2  KUBERNETES  CREATING  2\n\nTotal: 1\nCREATING: 1\n\n1\u5206\u304f\u3089\u3044\u3057\u3066\u304b\u3089\u3082\u3046\u4e00\u5ea6\u3084\u308b\u3068\u3001\nc:\\>photon cluster list\nUsing target 'https://192.168.209.29:443'\nID                                    Name   Type        State  Slave Count\n0569bf82-8f93-4c09-8ba4-146bc238c3e8  Kube2  KUBERNETES  READY  2\n\nTotal: 1\nREADY: 1\n\n```\n\n5\u5206\u304f\u3089\u3044\u3067\u7d42\u308f\u308a\u307e\u3059\u3002\n[https://192.168.209.31/ui/](https://192.168.209.31/ui/)\u3067\u898b\u3066\u3044\u308b\u3068\u3001\u3069\u306e\u3088\u3046\u306bVM\u304c\u4f5c\u6210\u3055\u308c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u308f\u304b\u308a\u307e\u3059\u3002\n\u30b3\u30de\u30f3\u30c9\u3067\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u3001master-ip\u3001etcd-ip\u306f\u3001\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30b9\u30ec\u30fc\u30d6\u306e\u30b5\u30fc\u30d0\u306f\u6307\u5b9a\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u3053\u308c\u306fDHCP\u3067\u81ea\u52d5\u7684\u306bIP\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u306e\u3067\u3001DHCP\u304c\u7a3c\u50cd\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\netcd2\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001etc\u30b5\u30fc\u30d0\u304c2\u53f0\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n## \u72b6\u6cc1\u78ba\u8a8d\n\u3053\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n![vmware_shot.PNG](https://qiita-image-store.s3.amazonaws.com/0/60484/d8d5c5ca-5b04-5cf5-7dd0-5ff47178ef52.png)\n\nslave\u306eIP\u306f\u3001192.168.209.129\u3068\u3001192.168.209.130\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002DHCP\u3067IP\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u308c\u305e\u308c\u3001\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u9762\u767d\u3044\u3067\u3059\u3088\u3002\ndocker\u3067\u30b5\u30fc\u30d3\u30b9\u304c\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u306d\u3002\n\n\u25a0master\n\n```\nroot@master-b94bdd6a-4bfc-462b-b9f7-4469080992cf [ ~ ]# docker ps\nCONTAINER ID        IMAGE                                       COMMAND                  CREATED             STATUS              PORTS               NAMES\neb9fa8f88277        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube scheduler\"   7 minutes ago       Up 7 minutes                            k8s_scheduler.2744e742_k8s-master-master-b94bdd6a-4bfc-462b-b9f7-4469080992cf_default_e4b00cc799dcf1b4b38d135ec92c50d5_7af2c055\nc5cfd41f4788        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube apiserver\"   7 minutes ago       Up 7 minutes                            k8s_apiserver.22190309_k8s-master-master-b94bdd6a-4bfc-462b-b9f7-4469080992cf_default_e4b00cc799dcf1b4b38d135ec92c50d5_c6f08db7\n7b8cc1eb3749        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube controlle\"   7 minutes ago       Up 7 minutes                            k8s_controller-manager.1598ee5c_k8s-master-master-b94bdd6a-4bfc-462b-b9f7-4469080992cf_default_e4b00cc799dcf1b4b38d135ec92c50d5_1e563e1a\n8156c51cf848        gcr.io/google_containers/pause:0.8.0        \"/pause\"                 7 minutes ago       Up 7 minutes                            k8s_POD.e4cc795_k8s-master-master-b94bdd6a-4bfc-462b-b9f7-4469080992cf_default_e4b00cc799dcf1b4b38d135ec92c50d5_6f19d4e8\n92be7e681954        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube proxy --m\"   7 minutes ago       Up 7 minutes                            furious_turing\nab87a67d27c6        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube kubelet -\"   7 minutes ago       Up 7 minutes                            elated_bell\n```\n\n\u25a0etcd\n\n```\nroot@etcd-525a0b9a-f857-4732-a856-aaaf7eb127cf [ ~ ]# docker ps\nCONTAINER ID        IMAGE                        COMMAND                  CREATED             STATUS              PORTS                                                                NAMES\n7655cc2c9bb1        quay.io/coreos/etcd:v2.0.8   \"/etcd -name etcd0 -a\"   8 minutes ago       Up 8 minutes        0.0.0.0:2379-2380->2379-2380/tcp, 7001/tcp, 0.0.0.0:4001->4001/tcp   etcd\n```\n\u25a0slave\n\n```\nroot@slave-62b68844-ab24-48b0-bf99-cbae83a5bbd0 [ ~ ]# docker ps -a\nCONTAINER ID        IMAGE                                       COMMAND                  CREATED             STATUS              PORTS               NAMES\n2b1d37b02f8c        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube proxy --m\"   7 minutes ago       Up 7 minutes                            hopeful_euclid\n3f107cd9bd09        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube kubelet -\"   7 minutes ago       Up 7 minutes                            backstabbing_curie\n```\n\u25a0slave\n\n```\nroot@slave-1cfb19e7-5de1-4463-854b-b8ed911faaab [ ~ ]# docker ps -a\nCONTAINER ID        IMAGE                                       COMMAND                  CREATED             STATUS              PORTS               NAMES\n3569eb49a584        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube proxy --m\"   6 minutes ago       Up 6 minutes                            suspicious_almeida\n3030e2bcd4f3        gcr.io/google_containers/hyperkube:v1.0.1   \"/hyperkube kubelet -\"   6 minutes ago       Up 6 minutes                            stoic_visvesvaraya\n```\n\n\u203bflannel\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u6301\u3063\u3066\u3044\u308b\u306e\u306f\u3001master\u3068slave\u3067\u3059\u3002\n\n\n## kubectl.exe \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n[kubernetes](https://github.com/kubernetes/kubernetes/releases/tag/v1.0.1)\u304b\u3089[kubernetes.tar.gz](https://github.com/kubernetes/kubernetes/releases/download/v1.0.1/kubernetes.tar.gz)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u89e3\u51cd\u3059\u308b\u3068\u3001\nkubernetes\\platforms\\windows\\amd64\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001photon.exe\u3068\u540c\u69d8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\nPATH\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306a\u306e\u3067\u3001kubectl\u304c\u4f7f\u7528\u53ef\u80fd\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n## \u8d77\u52d5\u78ba\u8a8d\n\n\u4ee5\u4e0b\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n[Apache Tomcat Replication Controller yml](https://bintray.com/artifact/download/photon-controller/public/UserWorkflow/photon-Controller-Tomcat-rc.yml)\n[Apache Tomcat Service yml](https://bintray.com/artifact/download/photon-controller/public/UserWorkflow/photon-Controller-Tomcat-service.yml)\n\n\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3063\u3066\u8d77\u52d5\u306e\u78ba\u8a8d\u3092\u3057\u307e\u3059\u3002\n\n```\nkubectl -s 192.168.209.35:8080 create -f photon-Controller-Tomcat-rc.yml\nkubectl -s 192.168.209.35:8080 create -f photon-Controller-Tomcat-service.yml\nkubectl -s 192.168.209.35:8080 get pods\n```\n\n\n## swarm\u3001mesos\n\n\u307e\u305f\u8a66\u3057\u305f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u304c\n\n\u4eca\u65e5\u306f\u3001\u3053\u3053\u307e\u3067\u3067\u3059\u3002\n\n\n\n", "tags": ["docker", "Photon"]}