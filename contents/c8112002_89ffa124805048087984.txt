{"tags": ["Linux", "\u3055\u304f\u3089VPS"], "context": " More than 1 year has passed since last update.\n\nSSH\u30ad\u30fc\u306e\u4f5c\u6210\n% cd ~/.ssh\n% mkdir sakura_vps\n% cd sakura_vps\n% ssh-keygen -t rsa -C \"\u4efb\u610f\u306e\u30b3\u30e1\u30f3\u30c8\" //\u30b3\u30e1\u30f3\u30c8\u306f\u306a\u3093\u3067\u3082\u3044\u3044\u3089\u3057\u3044\u3067\u3059\n\n//\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5f37\u5316\n% chmod 600 \u4f5c\u6210\u3057\u305f\u79d8\u5bc6\u9375\n\n\nRoot\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u306e\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\u3059\u308b\uff08VPS\u5074\uff09\n/etc/ssh/sshd_config\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\n// \u30d1\u30b9\u30ef\u30fc\u30c9\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\nPasswordAuthentication yes\n\n// root\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\nPermitRootLogin yes\n\n// sshd\u30ea\u30b9\u30bf\u30fc\u30c8\n% service sshd restart\n\n\n\u516c\u958b\u9375\u3092\u3055\u304f\u3089VPS\u306b\u9001\u4fe1\uff08Mac\u5074\uff09\nscp\u3067\u516c\u958b\u9375\u3092\u9001\u4fe1\n% sudo scp -P ssh\u306e\u30dd\u30fc\u30c8\u756a\u53f7 ~/.ssh/sakura_vps/\u516c\u958b\u9375 root@xxx.xxx.xxx.xxx:/home/USERNAME\n\n\nsshd\u306e\u518d\u8a2d\u5b9a\u3068\u516c\u958b\u9375\u306e\u8ffd\u52a0\uff08VPS\u5074\uff09\n\u5148\u307b\u3069\u7de8\u96c6\u3057\u305f/etc/ssh/sshd_config\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u518d\u7de8\u96c6\n// \u30d1\u30b9\u30ef\u30fc\u30c9\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\nPasswordAuthentication no\n\n// root\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\nPermitRootLogin no\n\n// sshd\u30ea\u30b9\u30bf\u30fc\u30c8\n% service sshd restart\n\n\u5148\u307b\u3069\u9001\u4fe1\u3057\u305f\u516c\u958b\u9375\u3092~/.ssh/authorized_keys\u306b\u8ffd\u8a18\ncat \u9001\u4fe1\u3057\u305f\u516c\u958b\u9375 >> .ssh/authorized_keys \n\n\n\u30db\u30b9\u30c8\u540d\u3092\u8a2d\u5b9a\n~/.ssh/config\u306b\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\n\n~/.ssh/config\nHOST sakura_vps\n    HostName      xxx.xxx.xxx.xxx\n    Port          SSH\u306e\u30dd\u30fc\u30c8\u756a\u53f7\n    User          \u30e6\u30fc\u30b6\u540d\n    identityfile  ~/.ssh/sakura_vps/\u79d8\u5bc6\u9375\n\n\n\u4ee5\u4e0a\u306e\u8a2d\u5b9a\u3067\n% ssh sakura_vps\n\n\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\n\n\u53c2\u7167\n\u30fb03.\u3055\u304f\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8VPS\u3092\u4f7f\u3063\u3066\u307f\u308b\u3002\u301c\u8907\u6570\u306eMac\u304b\u3089ssh\u63a5\u7d9a\u301c\n\n\n###SSH\u30ad\u30fc\u306e\u4f5c\u6210\n\n```\n% cd ~/.ssh\n% mkdir sakura_vps\n% cd sakura_vps\n% ssh-keygen -t rsa -C \"\u4efb\u610f\u306e\u30b3\u30e1\u30f3\u30c8\" //\u30b3\u30e1\u30f3\u30c8\u306f\u306a\u3093\u3067\u3082\u3044\u3044\u3089\u3057\u3044\u3067\u3059\n\n//\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5f37\u5316\n% chmod 600 \u4f5c\u6210\u3057\u305f\u79d8\u5bc6\u9375\n```\n\n###Root\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u306e\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\u3059\u308b\uff08VPS\u5074\uff09\n\n`/etc/ssh/sshd_config`\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7de8\u96c6\n\n```/etc/ssh/sshd_config\n// \u30d1\u30b9\u30ef\u30fc\u30c9\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\nPasswordAuthentication yes\n\n// root\u30ed\u30b0\u30a4\u30f3\u3092\u8a31\u53ef\nPermitRootLogin yes\n```\n```\n// sshd\u30ea\u30b9\u30bf\u30fc\u30c8\n% service sshd restart\n```\n\n###\u516c\u958b\u9375\u3092\u3055\u304f\u3089VPS\u306b\u9001\u4fe1\uff08Mac\u5074\uff09\nscp\u3067\u516c\u958b\u9375\u3092\u9001\u4fe1\n\n```\n% sudo scp -P ssh\u306e\u30dd\u30fc\u30c8\u756a\u53f7 ~/.ssh/sakura_vps/\u516c\u958b\u9375 root@xxx.xxx.xxx.xxx:/home/USERNAME\n```\n\n###sshd\u306e\u518d\u8a2d\u5b9a\u3068\u516c\u958b\u9375\u306e\u8ffd\u52a0\uff08VPS\u5074\uff09\n\n\u5148\u307b\u3069\u7de8\u96c6\u3057\u305f`/etc/ssh/sshd_config`\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u518d\u7de8\u96c6\n\n```/etc/ssh/sshd_config\n// \u30d1\u30b9\u30ef\u30fc\u30c9\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\nPasswordAuthentication no\n\n// root\u30ed\u30b0\u30a4\u30f3\u3092\u7981\u6b62\nPermitRootLogin no\n```\n```\n// sshd\u30ea\u30b9\u30bf\u30fc\u30c8\n% service sshd restart\n```\n\n\u5148\u307b\u3069\u9001\u4fe1\u3057\u305f\u516c\u958b\u9375\u3092`~/.ssh/authorized_keys`\u306b\u8ffd\u8a18\n\n```\ncat \u9001\u4fe1\u3057\u305f\u516c\u958b\u9375 >> .ssh/authorized_keys \n```\n\n### \u30db\u30b9\u30c8\u540d\u3092\u8a2d\u5b9a\n\n`~/.ssh/config`\u306b\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\n\n```~/.ssh/config\nHOST sakura_vps\n    HostName      xxx.xxx.xxx.xxx\n    Port          SSH\u306e\u30dd\u30fc\u30c8\u756a\u53f7\n    User          \u30e6\u30fc\u30b6\u540d\n    identityfile  ~/.ssh/sakura_vps/\u79d8\u5bc6\u9375\n```\n\n\u4ee5\u4e0a\u306e\u8a2d\u5b9a\u3067\n\n```\n% ssh sakura_vps\n```\n\u3067\u3001\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\n\n##\u53c2\u7167\n\u30fb[03.\u3055\u304f\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8VPS\u3092\u4f7f\u3063\u3066\u307f\u308b\u3002\u301c\u8907\u6570\u306eMac\u304b\u3089ssh\u63a5\u7d9a\u301c](http://www.aguuu.com/archives/2010/09/sakura_internet_vps_03/ \"03.\u3055\u304f\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8VPS\u3092\u4f7f\u3063\u3066\u307f\u308b\u3002\u301c\u8907\u6570\u306eMac\u304b\u3089ssh\u63a5\u7d9a\u301c\")"}