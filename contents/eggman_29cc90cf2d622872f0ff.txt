{"tags": ["bluetooth"], "context": "BLE\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306e\u898f\u683c\u4e0a\u306e\u6700\u5927\u5024\u306b\u3064\u3044\u3066\u8abf\u3079\u307e\u3057\u305f\u3002\n4.0/4.1\u30014.2\u30014.3\u306b\u304a\u3051\u308bBLE\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306e\u898f\u683c\u4e0a\u306e\u6700\u5927\u5024\n\n\n\nversion\nthurouput\n\n\n\n\n4.0/4.1\n0.305 Mbps\n\n\n4.2\n0.803 Mbps\n\n\n5\n1.43 Mbps\n\n\n\n\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306e\u6700\u5927\u5024\u306f\u3001\u898f\u683c\u66f8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b PHY\u30ec\u30fc\u30c8\u3068\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577\u3068\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593\u304b\u3089\u6c42\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306e\u6700\u5927\u5024 = \u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577\u3000/ \u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593\n\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593\u306f\u3001\u30c7\u30fc\u30bf\u306e\u8ee2\u9001\u304b\u3089\u3001ACK\u3092\u53d7\u4fe1\u3057\u3066\u3001\u6b21\u306e\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3067\u304d\u308b\u307e\u3067\u306e\u6642\u9593\u3067\u3059\u3002\u4e0b\u8a18\u3067\u8a08\u7b97\u3057\u307e\u3059\u3002\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593 = \u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 + IFS\u306e\u6642\u9593(150us) + ACK(10octets)\u306e\u53d7\u4fe1\u6642\u9593 + IFS\u306e\u6642\u9593(150us)\n\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 \u306f\u30da\u30a4\u30ed\u30fc\u30c9\u306b\u30d7\u30ea\u30a2\u30f3\u30d6\u30eb 1octet\u3001\u30a2\u30af\u30bb\u30b9\u30a2\u30c9\u30ec\u30b9 4octets\u3001\u30d8\u30c3\u30c0 2octets\u3001MIC 4octes\u3001CRC 3 octets\u3092\u8db3\u3057\u3066\u3001bits\u306b\u63db\u7b97\u3057\u3066\uff4b\u3089\u3001PHY\u30ec\u30fc\u30c8\u3067\u5272\u308b\u3068\u7b97\u51fa\u3067\u304d\u307e\u3059\u3002\n\nBluetooth\u5404\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306e\u5b9f\u52b9\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u5c0e\u51fa\n\nBluetooth 4.0 / 4.1\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577 27 Octets\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 (1 + 4 + 2 + 27 + 4 + 3) * 8 / 1 Mbps = 328 us\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593 (328 + 150 + 80 + 150) us\n27 * 8 bits                  216 bits  \n-----------------------  = ----------- = 0.305 bit/us = 0.305 Mbit / sec\n328 + 150 + 80 + 150 us      708 us\n\n\nBluetooth 4.2\nBluetooth 4.2\u3067\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577\u304c27\u304b\u3089251\u306b\u62e1\u5f35\u3055\u308c\u307e\u3057\u305f\u3002\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577 251 Octets\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 (1 + 4 + 2 + 251 + 4 + 3) * 8 / 1 Mbps = 2120 us\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593 (2120 + 150 + 80 + 150) us\n251 * 8 bits                  2008 bits  \n------------------------  = ------------ = 0.803 bit/us = 0.803 Mbit / sec\n2120 + 150 + 80 + 150 us      2500 us\n\n\nBluetooth 5\nBluetooth 5\u30672Mbps\u306ePHY\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n2Mbps\u306e\u5834\u5408\u306f\u30d7\u30ea\u30a2\u30f3\u30d6\u30eb\u304c2octets\u306b\u306a\u308a\u307e\u3059\u3002\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577 251 Octets\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 (2 + 4 + 2 + 251 + 4 + 3) * 8 / 2 Mbps = 1064 us\nACK\u306e\u8ee2\u9001\u6642\u9593 11*8/2 Mbps = 44 us\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593 (1060 + 150 + 40 + 150) us\n251 * 8 bits                  2008 bits  \n------------------------  = ------------ = 1.43 bit/us = 1.43 Mbit / sec\n1064 + 150 + 44 + 150 us      1408 us\n\n\n\u53c2\u8003\n\nhttp://www.konure.com/it/2014/12/bluetooth-42.html\nhttps://blog.bluetooth.com/exploring-bluetooth-5-how-fast-can-it-be\n\nBLE\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306e\u898f\u683c\u4e0a\u306e\u6700\u5927\u5024\u306b\u3064\u3044\u3066\u8abf\u3079\u307e\u3057\u305f\u3002\n\n4.0/4.1\u30014.2\u30014.3\u306b\u304a\u3051\u308bBLE\u306e\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306e\u898f\u683c\u4e0a\u306e\u6700\u5927\u5024\n\n| version | thurouput |\n|:-:|:-:|\n| 4.0/4.1  | 0.305 Mbps |\n| 4.2  | 0.803 Mbps  |\n| 5    | 1.43 Mbps  |\n\n\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306e\u6700\u5927\u5024\u306f\u3001\u898f\u683c\u66f8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b PHY\u30ec\u30fc\u30c8\u3068\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577\u3068\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593\u304b\u3089\u6c42\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```\n\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u306e\u6700\u5927\u5024 = \u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577\u3000/ \u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593\n```\n\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593\u306f\u3001\u30c7\u30fc\u30bf\u306e\u8ee2\u9001\u304b\u3089\u3001ACK\u3092\u53d7\u4fe1\u3057\u3066\u3001\u6b21\u306e\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3067\u304d\u308b\u307e\u3067\u306e\u6642\u9593\u3067\u3059\u3002\u4e0b\u8a18\u3067\u8a08\u7b97\u3057\u307e\u3059\u3002\n\n```\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593 = \u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 + IFS\u306e\u6642\u9593(150us) + ACK(10octets)\u306e\u53d7\u4fe1\u6642\u9593 + IFS\u306e\u6642\u9593(150us)\n```\n\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 \u306f\u30da\u30a4\u30ed\u30fc\u30c9\u306b\u30d7\u30ea\u30a2\u30f3\u30d6\u30eb 1octet\u3001\u30a2\u30af\u30bb\u30b9\u30a2\u30c9\u30ec\u30b9 4octets\u3001\u30d8\u30c3\u30c0 2octets\u3001MIC 4octes\u3001CRC 3 octets\u3092\u8db3\u3057\u3066\u3001bits\u306b\u63db\u7b97\u3057\u3066\uff4b\u3089\u3001PHY\u30ec\u30fc\u30c8\u3067\u5272\u308b\u3068\u7b97\u51fa\u3067\u304d\u307e\u3059\u3002\n\n\n# Bluetooth\u5404\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306e\u5b9f\u52b9\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\u5c0e\u51fa\n\n## Bluetooth 4.0 / 4.1\n\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577 27 Octets\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 (1 + 4 + 2 + 27 + 4 + 3) * 8 / 1 Mbps = 328 us\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593 (328 + 150 + 80 + 150) us\n\n```\n27 * 8 bits                  216 bits  \n-----------------------  = ----------- = 0.305 bit/us = 0.305 Mbit / sec\n328 + 150 + 80 + 150 us      708 us\n```\n\n## Bluetooth 4.2\n\nBluetooth 4.2\u3067\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577\u304c27\u304b\u3089251\u306b\u62e1\u5f35\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577 251 Octets\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 (1 + 4 + 2 + 251 + 4 + 3) * 8 / 1 Mbps = 2120 us\n\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593 (2120 + 150 + 80 + 150) us\n\n```\n251 * 8 bits                  2008 bits  \n------------------------  = ------------ = 0.803 bit/us = 0.803 Mbit / sec\n2120 + 150 + 80 + 150 us      2500 us\n```\n\n## Bluetooth 5\n\nBluetooth 5\u30672Mbps\u306ePHY\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n2Mbps\u306e\u5834\u5408\u306f\u30d7\u30ea\u30a2\u30f3\u30d6\u30eb\u304c2octets\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u9577 251 Octets\n\u6700\u5927\u30da\u30a4\u30ed\u30fc\u30c9\u8ee2\u9001\u6642\u9593 (2 + 4 + 2 + 251 + 4 + 3) * 8 / 2 Mbps = 1064 us\nACK\u306e\u8ee2\u9001\u6642\u9593 11*8/2 Mbps = 44 us\n\u6700\u5c0f\u8ee2\u9001\u5358\u4f4d\u6642\u9593 (1060 + 150 + 40 + 150) us\n\n```\n251 * 8 bits                  2008 bits  \n------------------------  = ------------ = 1.43 bit/us = 1.43 Mbit / sec\n1064 + 150 + 44 + 150 us      1408 us\n```\n\n# \u53c2\u8003\n* http://www.konure.com/it/2014/12/bluetooth-42.html\n* https://blog.bluetooth.com/exploring-bluetooth-5-how-fast-can-it-be\n"}