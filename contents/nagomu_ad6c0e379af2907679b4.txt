{"context": " More than 1 year has passed since last update.\u203b\u98db\u3070\u3057\u3066\u3044\u308b\u90e8\u5206\u304c\u3042\u308a\u307e\u3059\u3002 Node.js \u3001 Middleman\u3001 Hologram \u306a\u3069\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u203bMac \u524d\u63d0\u3067\u3059\u3002Windows \u3067\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\nMiddleman \u306e\u6e96\u5099\n\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067 Middleman \u306e\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u3002\ncd ~/Project\nmiddleman init\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n.gitignore\nconfig.rb\nGemfile\nGemfile.lock\nsource\n\u00a6 index.html.erb\n\u00a6\n+---layouts\n\u00a6   - layout.erb\n\u00a6\n+---images\n\u00a6   - background.png\n\u00a6   - middleman.png\n\u00a6\n+---javascripts\n\u00a6   - all.js\n\u00a6\n+---stylesheets\n    - all.css\n    - normalize.css\n\n\u3053\u306e\u72b6\u614b\u3067\u3001 bundle exec middleman \u3082\u3057\u304f\u306f bundle exec middleman server \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001 http://localhost:4567/ \u3067\u3001Middleman \u306e\u521d\u671f\u753b\u9762\u3002  http://localhost:4567/__middleman/ \u3067\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\u30fb\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3\u306a\u3069\u304c\u8868\u793a\u3055\u308c\u307e\u3059\uff08 CTRL-C \u3067\u30d7\u30ec\u30d3\u30e5\u30fc\u30b5\u30fc\u30d0\u30fc\u3092\u7d42\u4e86\uff09\u3002\n\nMiddleman \u306e\u8a2d\u5b9a\nJavaScript\u3001CSS \u306e\u5236\u4f5c\u306b\u306f gulp \u3092\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306a\u3069\u3092\u30ac\u30c3\u30c4\u30ea\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n\u307e\u305a\u3001 source \u4ee5\u4e0b\u306f\u6c17\u524d\u3088\u304f\u6368\u3066\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\u2026\u2026\u7565\uff08\u5909\u66f4\u306a\u3057\uff09\u2026\u2026\n\u00a6\n+---_gulp ... gulp \u30bf\u30b9\u30af\u306a\u3069\n\u00a6   - .gitkeep\n+---assets ... gulp \u3067\u4f55\u304b\u3059\u308b\u3082\u306e\uff08Sass, CoffeeScript \u306a\u3069\uff09\n\u00a6   - .gitkeep\n+---views ... \u30da\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30d5\u30a1\u30a4\u30eb\uff08erb, Slim, Haml \u306a\u3069\uff09\n    +---_layouts ... \u30ec\u30a4\u30a2\u30a6\u30c8\n    \u00a6   - .gitkeep\n    +---_partials ... \u30d1\u30fc\u30b7\u30e3\u30eb\n        - .gitkeep\n\n\u6b21\u306b\u3001 config.rb \u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n# Compass\n#\n# * gulp-ruby-sass \u306e\u305f\u3081\u306b\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\n# * Compass \u3092\u4f7f\u308f\u306a\u3044\u5834\u5408\u306f\u3082\u3061\u308d\u3093\u4e0d\u8981\u3002\n# * \u300cRuby on Rails \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u3001\u6700\u7d42\u7684\u306b `image-url` \u3084 `font-url` \n#   \u306a\u3069\u3092\u6b8b\u3057\u305f\u307e\u307e\u3001 Sass \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u66f8\u304d\u51fa\u3057\u305f\u3044\u300d\u306e\u3088\u3046\u306a\u6642\u306b\u3002\nhttp_images_path = '/assets/images'\nhttp_fonts_path = '/assets/fonts'\n\n# Configurations\nif defined? Middleman\n  set :source, 'views'\n  set :layouts_dir, '_layouts'\n  set :partials_dir, '_partials'\nend\n\n\nMiddleman \u3067 Slim \u3092\u4f7f\u3044\u305f\u3044\nSlim \u4f7f\u3063\u3066\u3044\u304d\u305f\u3044\u3067\u3059\u3002\n\u307e\u305a\u306f\u3001 Gemfile \u306b\u8ffd\u52a0\u3057\u3066 bundle install\u3000\u3002\n\nGemfile\n# Templating engine\ngem \"slim\"\n\n\nconfig.rb \u306b\u8a2d\u5b9a\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n# Compass\n#\n# * gulp-ruby-sass \u306e\u305f\u3081\u306b\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\n# * Compass \u3092\u4f7f\u308f\u306a\u3044\u5834\u5408\u306f\u3082\u3061\u308d\u3093\u4e0d\u8981\u3002\n# * \u300cRuby on Rails \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u3001\u6700\u7d42\u7684\u306b `image-url` \u3084 `font-url` \n#   \u306a\u3069\u3092\u6b8b\u3057\u305f\u307e\u307e\u3001 Sass \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u66f8\u304d\u51fa\u3057\u305f\u3044\u300d\u306e\u3088\u3046\u306a\u6642\u306b\u3002\nhttp_images_path = '/assets/images'\nhttp_fonts_path = '/assets/fonts'\n\n# Configurations\nif defined? Middleman\n  set :source, 'views'\n  set :layouts_dir, 'layouts'\n  set :partials_dir, '_partials'\n  # \u2193\u3053\u308c\u3092\u8ffd\u8a18\uff08Jun 6, 2015: format \u304c html5 \u3060\u3068\u975e\u5968\u52b1\u3068\u8a00\u308f\u308c\u308b\u306e\u3067\u4fee\u6b63\uff09\n  set :slim, { :pretty => true, :sort_attrs => false, :format => :html }\nend\n\n\n\u52d5\u304f\u304b\u3069\u3046\u304b\u8a66\u3059\n\u4ee5\u4e0b\u306e\u69d8\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u3001\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002\n\u2026\u2026\u7565\uff08\u5909\u66f4\u306a\u3057\uff09\u2026\u2026\n\u00a6\n+---views\n\u00a6  - index.slim\n+---+---_layouts\n    \u00a6   - layout.slim\n    +---_partials\n        - _header.slim\n        - _footer.slim\n\nbundle exec middleman \u3057\u3066\u3001 http://localhost:4567/ \u3067\u78ba\u8a8d\u304c\u53d6\u308c\u308c\u3070OK\u3002\n\u3053\u3053\u3067\u3001 Slim::Engine: Option :locals is invalid \u3068\u8a00\u308f\u308c\u305f\u306e\u3067\u3001 config.rb \u306b Slim::Engine.disable_option_validator! \u3092\u8ffd\u8a18\u3057\u305f\uff08\u4eee\u306e\u51e6\u7f6e\uff09\u3002\nhttp_images_path = '/assets/images'\nhttp_fonts_path = '/assets/fonts'\n\nif defined? Middleman\n  Slim::Engine.disable_option_validator!\n\n  set :source, 'views'\n  set :layouts_dir, '_layouts'\n  set :partials_dir, '_partials'\n  set :slim, { :pretty => true, :sort_attrs => false, :format => :html }\nend\n\n\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\n\ngulp \u306e\u6e96\u5099\n\u3053\u3053\u3067\u306f\u3001\u4ee5\u4e0b\u307e\u3067\u6e96\u5099\u3057\u307e\u3059\u3002\n\ngulp \u304b\u3089 Middleman \u3092\u8d77\u52d5\n\nHologram \u3067\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u3092\u4f5c\u308b\nSass\uff08\u958b\u767a\u7528\uff09\nSass\uff08\u66f8\u304d\u51fa\u3057\u7528\uff09\n\n\n\u3082\u308d\u3082\u308d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\u9069\u5f53\u306b package.json \u3092\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n{\n  \"name\": \"ProjectName\",\n  \"version\": \"0.0.0\",\n  \"devDependencies\": {\n  }\n}\n\n\u4f7f\u3046\u3082\u306e\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff08\u9577\u3044\u306e\u3067\u6539\u884c\u5165\u3063\u3066\u307e\u3059\uff09\u3002\nnpm install --save-dev \nautoprefixer-core \ncsswring \ngulp \ngulp-combine-media-queries \ngulp-hologram \ngulp-load-plugins \ngulp-notify \ngulp-plumber \ngulp-rename \ngulp-postcss \ngulp-ruby-sass \ngulp-sourcemaps\n\n\ngulp \u304b\u3089 Middleman \u3092\u8d77\u52d5\u3059\u308b\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\n\u3061\u3087\u3063\u3068\u307e\u3060\u7d0d\u5f97\u3044\u3063\u3066\u306a\u3044\u306e\u3067\u3001\u826f\u3044\u6848\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u3001\u305c\u3072\u6559\u3048\u3066\u6b32\u3057\u3044\u3067\u3059\uff01\ngulpfile.js \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n'use static';\n\nvar gulp = require('gulp');\nvar $    = require('gulp-load-plugins')({\n             pattern: ['gulp-*', 'gulp.*'],\n             replaceString: /\\bgulp[\\-.]/\n           });\n\n// Require tasks\nvar tasks = './_gulp/tasks';\n\nrequire(tasks+'/server.js')(gulp, $);\n\n// Run\ngulp.task('default', ['server']);\n\nMiddleman \u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u2026\u2026\u7565\u2026\u2026\n\u00a6\ngulpfile.js\npackage.json\n\u00a6\n+---_gulp\n\u00a6   \u00a6 \n\u00a6   +---tasks\n\u00a6      - server.js\n\u2026\u2026\u7565\u2026\u2026\n\nMiddleman \u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n'use static';\n\nmodule.exports = function(gulp, $)\n{\n  var spawn = require('child_process').spawn;\n\n  gulp.task('server', function() {\n    child = spawn('bundle', ['exec', 'middleman']);\n    child.stdout.pipe(process.stdout);\n    child.stderr.pipe(process.stderr);\n\n    return;\n  });\n};\n\n\u3053\u306e\u72b6\u614b\u3067\u3001 gulp \u3092\u5b9f\u884c\u3057\u3066\u3001 http://localhost:4567/ \u306b\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u4e8b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\u307e\u305f\u3001 CTRL+C \u3067 gulp \u3092\u7d42\u4e86\u3057\u305f\u6642\u306b\u3001 http://localhost:4567/ \u306b\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u306a\u3044\u4e8b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\nMiddleman \u306e\u30d7\u30ec\u30d3\u30e5\u30fc\u30b5\u30fc\u30d0\u30fc\u304c\u6b62\u307e\u3089\u306a\u3044\u6642\n\u52d5\u3044\u3066\u3044\u308b\u69d8\u306b\u898b\u3048\u308b\u306e\u3060\u304c\u3001 gulp \u304c\u5225\u306e\u30bf\u30b9\u30af\u3067\u30b3\u30b1\u305f\u308a\u3057\u305f\u6642\u306b\u3001 Middleman \u306e\u30d7\u30ec\u30d3\u30e5\u30fc\u30b5\u30fc\u30d0\u30fc\u304c\u304c\u6b63\u3057\u304f\u505c\u6b62\u3057\u306a\u3044\u2026\u2026\n\u3082\u3061\u308d\u3093\u3001\u89e3\u6c7a\u3057\u305f\u3044\u304c\u3001\u5f37\u5236\u7684\u306b\u6b62\u3081\u308b\u624b\u6bb5\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\nps aux | grep middleman \u3067\u3001\u30d7\u30ed\u30bb\u30b9\u3092\u30c1\u30a7\u30c3\u30af\u3002\n\u305d\u306e\u5f8c\u3001 kill -9 \u30c1\u30a7\u30c3\u30af\u3057\u305f\u30d7\u30ed\u30bb\u30b9 \u3059\u308b\u3002\n\nshotgun \u3092\u4f7f\u3046\u3068\u3001shotgun -p 4567 \u3068\u304b\u51fa\u6765\u308b\u3089\u3057\u3044\u306e\u3067\u3059\u304c\u3001\u8a66\u3057\u3066\u306a\u3044\u3067\u3059\u3002\n\nHologram \u3067\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u3092\u66f8\u304d\u51fa\u305b\u308b\u3088\u3046\u306b\u3059\u308b\nHologram \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6e08\u3093\u3067\u3044\u308b\u524d\u63d0\u3067\u9032\u3081\u307e\u3059\u3002\n\nHologram \u306e\u6e96\u5099\n\u7279\u306b\u30c6\u30fc\u30de\u306a\u3069\u3092\u89e6\u308b\u3064\u3082\u308a\u304c\u7121\u3044\u5834\u5408\u306f\u3001 hologram init \u3057\u307e\u3059\u3002\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u66f8\u304d\u51fa\u3055\u308c\u307e\u3059\u3002\n\u2026\u2026\u7565\u2026\u2026\n\u00a6\n+---code_example_templates\n\u00a6     -js_example_template.html.erb\n\u00a6     -jsx_example_template.html.erb\n\u00a6     -markup_example_template.html.erb\n\u00a6     -markup_table_template.html.erb\n\u00a6\n+---doc_assets\n\u00a6     -_footer.html\n\u00a6     -_header.html\n\u2026\u2026\u7565\u2026\u2026\nhologram_config.yml\n\u2026\u2026\u7565\u2026\u2026\n\n2\u30ab\u30e9\u30e0\u3060\u3063\u305f\u308a\u3001\u5e45\u304c\u56fa\u5b9a\u3060\u3063\u305f\u308a\u3059\u308b\u3068\u3001RWD \u306e\u6642\u306b\u56f0\u3063\u305f\u308a\u3059\u308b\u306a\u3069\u3042\u308b\u306e\u3067\u3001\u500b\u4eba\u7684\u306b\u306f\u30ab\u30b9\u30bf\u30e0\u30c6\u30fc\u30de\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306e\u5f8c\u306e gulp \u30bf\u30b9\u30af\u306b\u306f\u5f71\u97ff\u304c\u51fa\u306a\u3044\u306e\u3067\u3001\u3053\u306e\u307e\u307e\u9032\u3081\u307e\u3059\u3002\nhologram_config.yml \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n##### \u4ee5\u4e0b\u3092 #####\n\n# The directory containing the source files to parse recursively\nsource: ./sass\n\n# The directory that hologram will build to\ndestination: ./docs\n\n##### \u3053\u306e\u3088\u3046\u306b #####\n\n# The directory containing the source files to parse recursively\nsource: ./assets/stylesheets\n\n# The directory that hologram will build to\ndestination: ./views/styleguide\n\n\u305d\u306e\u5f8c\u3001\u8a2d\u5b9a\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u3066\u304b\u3089\u3001 hologram -c \u3057\u307e\u3059\u3002\n\u203b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\u3092\u5909\u3048\u305f\u5834\u5408\u306f\u3001 hologram -c path/to/config.yml \u3068\u304b\u3067\u51fa\u6765\u307e\u3059\u3002\n\u203b\u6307\u5b9a\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u7121\u3044\u3068\u30a8\u30e9\u30fc\u51fa\u307e\u3059\u3002\n\n\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\n\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u2026\u2026\u7565\u2026\u2026\n\u00a6\ngulpfile.js\npackage.json\n\u00a6\n+---_gulp\n\u00a6   \u00a6 \n\u00a6   +---tasks\n\u00a6      - styleguide.js\n\u2026\u2026\u7565\u2026\u2026\n\n\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n'use static';\n\nmodule.exports = function(gulp, $)\n{\n  var hologram = './hologram_config.yml'\n\n  gulp.task('styleguide', function()\n  {\n    gulp.src(hologram)\n        .pipe($.plumber({\n          errorHandler: $.notify.onError(\"Error: <%= error.message %>\")\n        }))\n        .pipe($.hologram());\n\n    return;\n  });\n};\n\ngulpfile.js \u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\nrequire(tasks+'/styleguide.js')(gulp, $);\n\ngulp styleguide \u3067\u5b9f\u884c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\nSass \uff08\u958b\u767a\u7528\uff09\u306e\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\n\u3084\u308b\u3053\u3068\n* image-url \u3068\u304b\u4f7f\u3044\u305f\u3044\u306e\u3067 Compass \u3092\u6709\u52b9\u306b\u3059\u308b\n* sourcemap \u4f7f\u3044\u305f\u3044\n* autoprefixer \u4f7f\u3044\u305f\u3044\n* @media \u3092\u307e\u3068\u3081\u305f\u3044\n\u3084\u3089\u306a\u3044\u3053\u3068\n* CSS Lint \u3068\u304b\u4f7f\u3046\u3068\u601d\u3046\u3051\u3069\u3001\u4eca\u56de\u306f\u66f8\u304b\u306a\u3044\n* sprite \u3068\u304b icon font \u3068\u304b\u306e\u5468\u8fba\u30bf\u30b9\u30af\u306f\u4eca\u56de\u66f8\u304b\u306a\u3044\nSass \uff08\u958b\u767a\u7528\uff09\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u2026\u2026\u7565\u2026\u2026\n+---_gulp\n\u00a6   \u00a6 \n\u00a6   +---tasks\n\u00a6      - sass.js\n\u2026\u2026\u7565\u2026\u2026\n\nSass \uff08\u958b\u767a\u7528\uff09\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n'use static';\n\nmodule.exports = function(gulp, $)\n{\n  var autoprefixer  = require('autoprefixer-core');\n\n  gulp.task('sass:dev', function() {\n    var processors = [\n        autoprefixer({browsers: ['last 3 versions', 'Android >= 4']})\n    ];\n    var sass = {compass: true, style: 'expanded'};\n    var src  = './assets/stylesheets';\n    var dist = './views/assets';\n\n    return $.rubySass(src, sass)\n            .pipe($.sourcemaps.init({loadMaps: true}))\n            .pipe($.combineMediaQueries())\n            .pipe($.postcss(processors))\n            .pipe($.sourcemaps.write())\n            .pipe(gulp.dest(dist));\n  });\n};\n\n\u203b gulp-ruby-sass \u306e\u66f8\u304d\u65b9\u304c\u5909\u308f\u3063\u3066\u3044\u3066\u3001 gulp.src(xxx) \u304b\u3089\u59cb\u3081\u308b\u3068\u52d5\u4f5c\u3057\u306a\u3044\u306e\u304c\u7f60\u3002\ngulpfile.js \u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\nrequire(tasks+'/sass.js')(gulp, $);\n\ngulp sass:dev \u3067\u5b9f\u884c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\nwatch \u3092\u8ffd\u52a0\u3059\u308b\nwatch \u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\u2026\u2026\u7565\u2026\u2026\n+---_gulp\n\u00a6   \u00a6 \n\u00a6   +---tasks\n\u00a6      - watch.js\n\u2026\u2026\u7565\u2026\u2026\n\nwatch \u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n'use strict'\n\nmodule.exports = function(gulp, $)\n{\n  gulp.task('watch', function()\n  {\n    var sass = [\n      './assets/stylesheets/**/*.sass',\n      './assets/stylesheets/**/*.scss'\n    ];\n\n    gulp.watch(sass, ['sass:dev', 'styleguide']);\n\n    return;\n  });\n};\n\ngulpfile.js \u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\nrequire(tasks+'/watch.js')(gulp, $);\n\n// Run\ngulp.task('default', ['server', 'watch']);\n\n\u3053\u308c\u3067\u3001 gulp \u306e\u307f\u5b9f\u884c\u3059\u308c\u3070\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u6642\u306b Sass \u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u3068\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u306e\u751f\u6210\u304c\u884c\u308f\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nSass \uff08\u66f8\u304d\u51fa\u3057\u7528\uff09\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n'use static';\n\nmodule.exports = function(gulp, $)\n{\n  var autoprefixer  = require('autoprefixer-core');\n  var csswring      = require('csswring');\n  var browsers      = {browsers: ['last 3 versions', 'Android >= 4']};\n  var src           = './assets/stylesheets';\n  var cacheLocation = './.sass-cache';\n\n  gulp.task('sass:dev', function() {\n    var processors = [autoprefixer(browsers)];\n    var sass = {compass: true, style: 'expanded', cacheLocation: cacheLocation};\n    var dist = './views/assets';\n\n    return $.rubySass(src, sass)\n            .pipe($.sourcemaps.init({loadMaps: true}))\n            .pipe($.combineMediaQueries())\n            .pipe($.postcss(processors))\n            .pipe($.sourcemaps.write())\n            .pipe(gulp.dest(dist));\n  });\n\n  gulp.task('sass', function() {\n    var processors = [autoprefixer(browsers), csswring];\n    var sass = {compass: false, cacheLocation: cacheLocation};\n    var dist = './build/assets';\n\n    return $.rubySass(src, sass)\n            .pipe($.combineMediaQueries())\n            .pipe($.postcss(processors))\n            .pipe($.rename(function (path) {\n              path.extname = \".scss\"\n            }))\n            .pipe(gulp.dest(dist));\n  });\n};\n\n\n\u5171\u901a\u306e\u5909\u6570\u306f\u307e\u3068\u3081\u305f\nCSS \u3092\u5727\u7e2e\u3059\u308b\u306e\u3067\u3001 postcss \u306b csswring \u3092\u8ffd\u52a0\nSourceMap \u306f\u4e0d\u8981\nCompass \u7121\u52b9\uff08 image-url \u306a\u3069\u304c\u305d\u306e\u307e\u307e\u66f8\u304d\u51fa\u3055\u308c\u308b\uff09\n\n.css \u3092 .scss \u306b\u30ea\u30cd\u30fc\u30e0\n\u5b9f\u969b\u306b\u306f del \u306a\u3069\u3082\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3046\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u4ed6\u306e\u66f8\u304d\u51fa\u3057\u7528\u30bf\u30b9\u30af\u3068\u5408\u308f\u305b\u3066\u4f7f\u3046\u3068\u601d\u308f\u308c\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u89e6\u308c\u307e\u305b\u3093\n\n\nPhantomCSS\n\u8272\u3005\u306a\u30c4\u30fc\u30eb\u304c\u3042\u308b\u4e2d\u3067\u3001\u300c\u3059\u3054\u304f\u51dd\u3063\u305f\u30c6\u30b9\u30c8\u306f\u66f8\u304b\u306a\u3044\u3051\u3069\u3001\u8868\u793a\uff0f\u975e\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u3068\u304b\u306f\u66f8\u304f\u300d\u3068\u3044\u3046\u5834\u5408\u306b\u3001 CasperJS \u4f7f\u3048\u308b\u3068\u4fbf\u5229\u305d\u3046\u3067\u3001\u307e\u305f\u3001\u5358\u306b\u4f7f\u3063\u3066\u307f\u305f\u304b\u3063\u305f\uff08\u3053\u3063\u3061\u304c\u30e1\u30a4\u30f3\u304b\u3082\uff09\u3068\u3044\u3046\u306e\u3082\u3042\u3063\u3066\u3001PhantomCSS \u3092\u9078\u3093\u3060\u6b21\u7b2c\u3002 BackstopJS \u3082\u30b7\u30f3\u30d7\u30eb\u3067\u7c21\u5358\u305d\u3046\u306a\u306e\u3067\u3001\u3068\u3066\u3082\u826f\u3055\u305d\u3046\u3002\n\n\u6e96\u5099\n\u307e\u305a\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nsudo npm install -g phantomjs\nsudo npm install -g casperjs\n\n\u305d\u3057\u3066\u3001\u672c\u5bb6\u304b\u3089 clone \u3057\u3066\u304d\u3066\u3001\u30c7\u30e2\u3092\u8a66\u3057\u307e\u3059\u3002\ngit clone git://github.com/Huddle/PhantomCSS.git\n\n\u52d5\u304f\u3068\u3044\u3044\u306a\u3002\ncd PhantomCSS\ncasperjs test demo/testsuite.js\n\n\u3053\u308c\u3067\u52d5\u4f5c\u3057\u3066\u3044\u308c\u3070\u3001\u4e00\u65e6\u3001OK\u3002\n\u8ffd\u8a18\uff08Jun 6, 2015\uff09\uff1a SlimerJS \u4f7f\u3063\u3066 Gecko \u306b\u3082\u5bfe\u5fdc\u51fa\u6765\u305d\u3046\u306a\u306e\u3067\u8a66\u3057\u3066\u307f\u305f\u3044\n\u203b\u98db\u3070\u3057\u3066\u3044\u308b\u90e8\u5206\u304c\u3042\u308a\u307e\u3059\u3002 Node.js \u3001 Middleman\u3001 Hologram \u306a\u3069\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u203bMac \u524d\u63d0\u3067\u3059\u3002Windows \u3067\u8a66\u3057\u3066\u3044\u307e\u305b\u3093\u3002\n\n## Middleman \u306e\u6e96\u5099\n\n\u9069\u5f53\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067 [Middleman](https://middlemanapp.com/) \u306e\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\u3002\n\n```zsh\ncd ~/Project\nmiddleman init\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n```\n.gitignore\nconfig.rb\nGemfile\nGemfile.lock\nsource\n\u00a6 index.html.erb\n\u00a6\n+---layouts\n\u00a6   - layout.erb\n\u00a6\n+---images\n\u00a6   - background.png\n\u00a6   - middleman.png\n\u00a6\n+---javascripts\n\u00a6   - all.js\n\u00a6\n+---stylesheets\n    - all.css\n    - normalize.css\n```\n\n\u3053\u306e\u72b6\u614b\u3067\u3001 `bundle exec middleman` \u3082\u3057\u304f\u306f `bundle exec middleman server` \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001 `http://localhost:4567/` \u3067\u3001Middleman \u306e\u521d\u671f\u753b\u9762\u3002  `http://localhost:4567/__middleman/` \u3067\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\u30fb\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3\u306a\u3069\u304c\u8868\u793a\u3055\u308c\u307e\u3059\uff08 `CTRL-C` \u3067\u30d7\u30ec\u30d3\u30e5\u30fc\u30b5\u30fc\u30d0\u30fc\u3092\u7d42\u4e86\uff09\u3002\n\n### Middleman \u306e\u8a2d\u5b9a\n\nJavaScript\u3001CSS \u306e\u5236\u4f5c\u306b\u306f [gulp](http://gulpjs.com/) \u3092\u4f7f\u3044\u305f\u3044\u306e\u3067\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u306a\u3069\u3092\u30ac\u30c3\u30c4\u30ea\u66f8\u304d\u76f4\u3057\u307e\u3059\u3002\n\n\u307e\u305a\u3001 `source` \u4ee5\u4e0b\u306f\u6c17\u524d\u3088\u304f\u6368\u3066\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```\n\u2026\u2026\u7565\uff08\u5909\u66f4\u306a\u3057\uff09\u2026\u2026\n\u00a6\n+---_gulp ... gulp \u30bf\u30b9\u30af\u306a\u3069\n\u00a6   - .gitkeep\n+---assets ... gulp \u3067\u4f55\u304b\u3059\u308b\u3082\u306e\uff08Sass, CoffeeScript \u306a\u3069\uff09\n\u00a6   - .gitkeep\n+---views ... \u30da\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30d5\u30a1\u30a4\u30eb\uff08erb, Slim, Haml \u306a\u3069\uff09\n    +---_layouts ... \u30ec\u30a4\u30a2\u30a6\u30c8\n    \u00a6   - .gitkeep\n    +---_partials ... \u30d1\u30fc\u30b7\u30e3\u30eb\n        - .gitkeep\n```\n\n\u6b21\u306b\u3001 `config.rb` \u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```rb\n# Compass\n#\n# * gulp-ruby-sass \u306e\u305f\u3081\u306b\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\n# * Compass \u3092\u4f7f\u308f\u306a\u3044\u5834\u5408\u306f\u3082\u3061\u308d\u3093\u4e0d\u8981\u3002\n# * \u300cRuby on Rails \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u3001\u6700\u7d42\u7684\u306b `image-url` \u3084 `font-url` \n#   \u306a\u3069\u3092\u6b8b\u3057\u305f\u307e\u307e\u3001 Sass \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u66f8\u304d\u51fa\u3057\u305f\u3044\u300d\u306e\u3088\u3046\u306a\u6642\u306b\u3002\nhttp_images_path = '/assets/images'\nhttp_fonts_path = '/assets/fonts'\n\n# Configurations\nif defined? Middleman\n  set :source, 'views'\n  set :layouts_dir, '_layouts'\n  set :partials_dir, '_partials'\nend\n```\n\n### Middleman \u3067 Slim \u3092\u4f7f\u3044\u305f\u3044\n\nSlim \u4f7f\u3063\u3066\u3044\u304d\u305f\u3044\u3067\u3059\u3002\n\u307e\u305a\u306f\u3001 `Gemfile` \u306b\u8ffd\u52a0\u3057\u3066 `bundle install`\u3000\u3002\n\n```lang:Gemfile\n# Templating engine\ngem \"slim\"\n```\n\nconfig.rb \u306b\u8a2d\u5b9a\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```rb\n# Compass\n#\n# * gulp-ruby-sass \u306e\u305f\u3081\u306b\u8a2d\u5b9a\u3092\u66f8\u304d\u307e\u3059\u3002\n# * Compass \u3092\u4f7f\u308f\u306a\u3044\u5834\u5408\u306f\u3082\u3061\u308d\u3093\u4e0d\u8981\u3002\n# * \u300cRuby on Rails \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306a\u306e\u3067\u3001\u6700\u7d42\u7684\u306b `image-url` \u3084 `font-url` \n#   \u306a\u3069\u3092\u6b8b\u3057\u305f\u307e\u307e\u3001 Sass \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u66f8\u304d\u51fa\u3057\u305f\u3044\u300d\u306e\u3088\u3046\u306a\u6642\u306b\u3002\nhttp_images_path = '/assets/images'\nhttp_fonts_path = '/assets/fonts'\n\n# Configurations\nif defined? Middleman\n  set :source, 'views'\n  set :layouts_dir, 'layouts'\n  set :partials_dir, '_partials'\n  # \u2193\u3053\u308c\u3092\u8ffd\u8a18\uff08Jun 6, 2015: format \u304c html5 \u3060\u3068\u975e\u5968\u52b1\u3068\u8a00\u308f\u308c\u308b\u306e\u3067\u4fee\u6b63\uff09\n  set :slim, { :pretty => true, :sort_attrs => false, :format => :html }\nend\n```\n\n### \u52d5\u304f\u304b\u3069\u3046\u304b\u8a66\u3059\n\n\u4ee5\u4e0b\u306e\u69d8\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u3001\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3044\u307e\u3059\u3002\n\n```\n\u2026\u2026\u7565\uff08\u5909\u66f4\u306a\u3057\uff09\u2026\u2026\n\u00a6\n+---views\n\u00a6  - index.slim\n+---+---_layouts\n    \u00a6   - layout.slim\n    +---_partials\n        - _header.slim\n        - _footer.slim\n```\n\n`bundle exec middleman` \u3057\u3066\u3001 `http://localhost:4567/` \u3067\u78ba\u8a8d\u304c\u53d6\u308c\u308c\u3070OK\u3002\n\n\u3053\u3053\u3067\u3001 `Slim::Engine: Option :locals is invalid` \u3068\u8a00\u308f\u308c\u305f\u306e\u3067\u3001 `config.rb` \u306b `Slim::Engine.disable_option_validator!` \u3092\u8ffd\u8a18\u3057\u305f\uff08\u4eee\u306e\u51e6\u7f6e\uff09\u3002\n\n```rb\nhttp_images_path = '/assets/images'\nhttp_fonts_path = '/assets/fonts'\n\nif defined? Middleman\n  Slim::Engine.disable_option_validator!\n\n  set :source, 'views'\n  set :layouts_dir, '_layouts'\n  set :partials_dir, '_partials'\n  set :slim, { :pretty => true, :sort_attrs => false, :format => :html }\nend\n```\n\n\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\n\n## gulp \u306e\u6e96\u5099\n\n\u3053\u3053\u3067\u306f\u3001\u4ee5\u4e0b\u307e\u3067\u6e96\u5099\u3057\u307e\u3059\u3002\n\n* gulp \u304b\u3089 Middleman \u3092\u8d77\u52d5\n* [Hologram](http://trulia.github.io/hologram/) \u3067\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u3092\u4f5c\u308b\n* Sass\uff08\u958b\u767a\u7528\uff09\n* Sass\uff08\u66f8\u304d\u51fa\u3057\u7528\uff09\n\n### \u3082\u308d\u3082\u308d\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n\u9069\u5f53\u306b `package.json` \u3092\u4f5c\u3063\u3066\u304a\u304d\u307e\u3059\u3002\n\n```json\n{\n  \"name\": \"ProjectName\",\n  \"version\": \"0.0.0\",\n  \"devDependencies\": {\n  }\n}\n```\n\n\u4f7f\u3046\u3082\u306e\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff08\u9577\u3044\u306e\u3067\u6539\u884c\u5165\u3063\u3066\u307e\u3059\uff09\u3002\n\n```zsh\nnpm install --save-dev \nautoprefixer-core \ncsswring \ngulp \ngulp-combine-media-queries \ngulp-hologram \ngulp-load-plugins \ngulp-notify \ngulp-plumber \ngulp-rename \ngulp-postcss \ngulp-ruby-sass \ngulp-sourcemaps\n```\n\n### gulp \u304b\u3089 Middleman \u3092\u8d77\u52d5\u3059\u308b\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\n\n\u3061\u3087\u3063\u3068\u307e\u3060\u7d0d\u5f97\u3044\u3063\u3066\u306a\u3044\u306e\u3067\u3001\u826f\u3044\u6848\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u3001\u305c\u3072\u6559\u3048\u3066\u6b32\u3057\u3044\u3067\u3059\uff01\n\n`gulpfile.js` \u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```js\n'use static';\n\nvar gulp = require('gulp');\nvar $    = require('gulp-load-plugins')({\n             pattern: ['gulp-*', 'gulp.*'],\n             replaceString: /\\bgulp[\\-.]/\n           });\n\n// Require tasks\nvar tasks = './_gulp/tasks';\n\nrequire(tasks+'/server.js')(gulp, $);\n\n// Run\ngulp.task('default', ['server']);\n```\n\nMiddleman \u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\n\u2026\u2026\u7565\u2026\u2026\n\u00a6\ngulpfile.js\npackage.json\n\u00a6\n+---_gulp\n\u00a6   \u00a6 \n\u00a6   +---tasks\n\u00a6      - server.js\n\u2026\u2026\u7565\u2026\u2026\n```\n\nMiddleman \u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n\n```js\n'use static';\n\nmodule.exports = function(gulp, $)\n{\n  var spawn = require('child_process').spawn;\n\n  gulp.task('server', function() {\n    child = spawn('bundle', ['exec', 'middleman']);\n    child.stdout.pipe(process.stdout);\n    child.stderr.pipe(process.stderr);\n\n    return;\n  });\n};\n```\n\n\u3053\u306e\u72b6\u614b\u3067\u3001 `gulp` \u3092\u5b9f\u884c\u3057\u3066\u3001 `http://localhost:4567/` \u306b\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u308b\u4e8b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n\u307e\u305f\u3001 `CTRL+C` \u3067 gulp \u3092\u7d42\u4e86\u3057\u305f\u6642\u306b\u3001 `http://localhost:4567/` \u306b\u30a2\u30af\u30bb\u30b9**\u51fa\u6765\u306a\u3044**\u4e8b\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n#### Middleman \u306e\u30d7\u30ec\u30d3\u30e5\u30fc\u30b5\u30fc\u30d0\u30fc\u304c\u6b62\u307e\u3089\u306a\u3044\u6642\n\n\u52d5\u3044\u3066\u3044\u308b\u69d8\u306b\u898b\u3048\u308b\u306e\u3060\u304c\u3001 gulp \u304c\u5225\u306e\u30bf\u30b9\u30af\u3067\u30b3\u30b1\u305f\u308a\u3057\u305f\u6642\u306b\u3001 Middleman \u306e\u30d7\u30ec\u30d3\u30e5\u30fc\u30b5\u30fc\u30d0\u30fc\u304c\u304c\u6b63\u3057\u304f\u505c\u6b62\u3057\u306a\u3044\u2026\u2026\n\n\u3082\u3061\u308d\u3093\u3001\u89e3\u6c7a\u3057\u305f\u3044\u304c\u3001\u5f37\u5236\u7684\u306b\u6b62\u3081\u308b\u624b\u6bb5\u3092\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002\n\n`ps aux | grep middleman` \u3067\u3001\u30d7\u30ed\u30bb\u30b9\u3092\u30c1\u30a7\u30c3\u30af\u3002\n\u305d\u306e\u5f8c\u3001 `kill -9 \u30c1\u30a7\u30c3\u30af\u3057\u305f\u30d7\u30ed\u30bb\u30b9` \u3059\u308b\u3002\n\n---\n\n[shotgun](https://github.com/rtomayko/shotgun) \u3092\u4f7f\u3046\u3068\u3001`shotgun -p 4567` \u3068\u304b\u51fa\u6765\u308b\u3089\u3057\u3044\u306e\u3067\u3059\u304c\u3001\u8a66\u3057\u3066\u306a\u3044\u3067\u3059\u3002\n\n### Hologram \u3067\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u3092\u66f8\u304d\u51fa\u305b\u308b\u3088\u3046\u306b\u3059\u308b\n\nHologram \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u6e08\u3093\u3067\u3044\u308b\u524d\u63d0\u3067\u9032\u3081\u307e\u3059\u3002\n\n#### Hologram \u306e\u6e96\u5099\n\n\u7279\u306b\u30c6\u30fc\u30de\u306a\u3069\u3092\u89e6\u308b\u3064\u3082\u308a\u304c\u7121\u3044\u5834\u5408\u306f\u3001 `hologram init` \u3057\u307e\u3059\u3002\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u304c\u66f8\u304d\u51fa\u3055\u308c\u307e\u3059\u3002\n\n```\n\u2026\u2026\u7565\u2026\u2026\n\u00a6\n+---code_example_templates\n\u00a6     -js_example_template.html.erb\n\u00a6     -jsx_example_template.html.erb\n\u00a6     -markup_example_template.html.erb\n\u00a6     -markup_table_template.html.erb\n\u00a6\n+---doc_assets\n\u00a6     -_footer.html\n\u00a6     -_header.html\n\u2026\u2026\u7565\u2026\u2026\nhologram_config.yml\n\u2026\u2026\u7565\u2026\u2026\n```\n\n2\u30ab\u30e9\u30e0\u3060\u3063\u305f\u308a\u3001\u5e45\u304c\u56fa\u5b9a\u3060\u3063\u305f\u308a\u3059\u308b\u3068\u3001RWD \u306e\u6642\u306b\u56f0\u3063\u305f\u308a\u3059\u308b\u306a\u3069\u3042\u308b\u306e\u3067\u3001\u500b\u4eba\u7684\u306b\u306f\u30ab\u30b9\u30bf\u30e0\u30c6\u30fc\u30de\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u306e\u5f8c\u306e gulp \u30bf\u30b9\u30af\u306b\u306f\u5f71\u97ff\u304c\u51fa\u306a\u3044\u306e\u3067\u3001\u3053\u306e\u307e\u307e\u9032\u3081\u307e\u3059\u3002\n\n`hologram_config.yml` \u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```yaml\n##### \u4ee5\u4e0b\u3092 #####\n\n# The directory containing the source files to parse recursively\nsource: ./sass\n\n# The directory that hologram will build to\ndestination: ./docs\n\n##### \u3053\u306e\u3088\u3046\u306b #####\n\n# The directory containing the source files to parse recursively\nsource: ./assets/stylesheets\n\n# The directory that hologram will build to\ndestination: ./views/styleguide\n```\n\n\u305d\u306e\u5f8c\u3001\u8a2d\u5b9a\u3067\u6307\u5b9a\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u3063\u3066\u304b\u3089\u3001 `hologram -c` \u3057\u307e\u3059\u3002\n\u203b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u5834\u6240\u3092\u5909\u3048\u305f\u5834\u5408\u306f\u3001 `hologram -c path/to/config.yml` \u3068\u304b\u3067\u51fa\u6765\u307e\u3059\u3002\n\u203b\u6307\u5b9a\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u7121\u3044\u3068\u30a8\u30e9\u30fc\u51fa\u307e\u3059\u3002\n\n#### \u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\n\n\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\n\u2026\u2026\u7565\u2026\u2026\n\u00a6\ngulpfile.js\npackage.json\n\u00a6\n+---_gulp\n\u00a6   \u00a6 \n\u00a6   +---tasks\n\u00a6      - styleguide.js\n\u2026\u2026\u7565\u2026\u2026\n```\n\n\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n\n```js\n'use static';\n\nmodule.exports = function(gulp, $)\n{\n  var hologram = './hologram_config.yml'\n\n  gulp.task('styleguide', function()\n  {\n    gulp.src(hologram)\n        .pipe($.plumber({\n          errorHandler: $.notify.onError(\"Error: <%= error.message %>\")\n        }))\n        .pipe($.hologram());\n\n    return;\n  });\n};\n```\n\n`gulpfile.js` \u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```js\nrequire(tasks+'/styleguide.js')(gulp, $);\n```\n\n`gulp styleguide` \u3067\u5b9f\u884c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n### Sass \uff08\u958b\u767a\u7528\uff09\u306e\u30bf\u30b9\u30af\u3092\u8ffd\u52a0\u3059\u308b\n\n**\u3084\u308b\u3053\u3068**\n* `image-url` \u3068\u304b\u4f7f\u3044\u305f\u3044\u306e\u3067 Compass \u3092\u6709\u52b9\u306b\u3059\u308b\n* sourcemap \u4f7f\u3044\u305f\u3044\n* autoprefixer \u4f7f\u3044\u305f\u3044\n* `@media` \u3092\u307e\u3068\u3081\u305f\u3044\n\n**\u3084\u3089\u306a\u3044\u3053\u3068**\n* CSS Lint \u3068\u304b\u4f7f\u3046\u3068\u601d\u3046\u3051\u3069\u3001\u4eca\u56de\u306f\u66f8\u304b\u306a\u3044\n* sprite \u3068\u304b icon font \u3068\u304b\u306e\u5468\u8fba\u30bf\u30b9\u30af\u306f\u4eca\u56de\u66f8\u304b\u306a\u3044\n\nSass \uff08\u958b\u767a\u7528\uff09\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\n\u2026\u2026\u7565\u2026\u2026\n+---_gulp\n\u00a6   \u00a6 \n\u00a6   +---tasks\n\u00a6      - sass.js\n\u2026\u2026\u7565\u2026\u2026\n```\n\nSass \uff08\u958b\u767a\u7528\uff09\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n\n```js\n'use static';\n\nmodule.exports = function(gulp, $)\n{\n  var autoprefixer  = require('autoprefixer-core');\n\n  gulp.task('sass:dev', function() {\n    var processors = [\n        autoprefixer({browsers: ['last 3 versions', 'Android >= 4']})\n    ];\n    var sass = {compass: true, style: 'expanded'};\n    var src  = './assets/stylesheets';\n    var dist = './views/assets';\n\n    return $.rubySass(src, sass)\n            .pipe($.sourcemaps.init({loadMaps: true}))\n            .pipe($.combineMediaQueries())\n            .pipe($.postcss(processors))\n            .pipe($.sourcemaps.write())\n            .pipe(gulp.dest(dist));\n  });\n};\n```\n\n\u203b `gulp-ruby-sass` \u306e\u66f8\u304d\u65b9\u304c\u5909\u308f\u3063\u3066\u3044\u3066\u3001 `gulp.src(xxx)` \u304b\u3089\u59cb\u3081\u308b\u3068\u52d5\u4f5c\u3057\u306a\u3044\u306e\u304c\u7f60\u3002\n\n`gulpfile.js` \u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```js\nrequire(tasks+'/sass.js')(gulp, $);\n```\n\n`gulp sass:dev` \u3067\u5b9f\u884c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n### watch \u3092\u8ffd\u52a0\u3059\u308b\n\n`watch` \u306e\u30bf\u30b9\u30af\u3092\u66f8\u304f\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\n\u2026\u2026\u7565\u2026\u2026\n+---_gulp\n\u00a6   \u00a6 \n\u00a6   +---tasks\n\u00a6      - watch.js\n\u2026\u2026\u7565\u2026\u2026\n```\n\n`watch` \u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n\n```js\n'use strict'\n\nmodule.exports = function(gulp, $)\n{\n  gulp.task('watch', function()\n  {\n    var sass = [\n      './assets/stylesheets/**/*.sass',\n      './assets/stylesheets/**/*.scss'\n    ];\n\n    gulp.watch(sass, ['sass:dev', 'styleguide']);\n\n    return;\n  });\n};\n```\n\ngulpfile.js \u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```js\nrequire(tasks+'/watch.js')(gulp, $);\n\n// Run\ngulp.task('default', ['server', 'watch']);\n```\n\n\u3053\u308c\u3067\u3001 `gulp` \u306e\u307f\u5b9f\u884c\u3059\u308c\u3070\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u6642\u306b Sass \u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u3068\u30b9\u30bf\u30a4\u30eb\u30ac\u30a4\u30c9\u306e\u751f\u6210\u304c\u884c\u308f\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\nSass \uff08\u66f8\u304d\u51fa\u3057\u7528\uff09\u306e\u30bf\u30b9\u30af\u3092\u66f8\u304d\u307e\u3059\u3002\n\n```js\n'use static';\n\nmodule.exports = function(gulp, $)\n{\n  var autoprefixer  = require('autoprefixer-core');\n  var csswring      = require('csswring');\n  var browsers      = {browsers: ['last 3 versions', 'Android >= 4']};\n  var src           = './assets/stylesheets';\n  var cacheLocation = './.sass-cache';\n\n  gulp.task('sass:dev', function() {\n    var processors = [autoprefixer(browsers)];\n    var sass = {compass: true, style: 'expanded', cacheLocation: cacheLocation};\n    var dist = './views/assets';\n\n    return $.rubySass(src, sass)\n            .pipe($.sourcemaps.init({loadMaps: true}))\n            .pipe($.combineMediaQueries())\n            .pipe($.postcss(processors))\n            .pipe($.sourcemaps.write())\n            .pipe(gulp.dest(dist));\n  });\n\n  gulp.task('sass', function() {\n    var processors = [autoprefixer(browsers), csswring];\n    var sass = {compass: false, cacheLocation: cacheLocation};\n    var dist = './build/assets';\n\n    return $.rubySass(src, sass)\n            .pipe($.combineMediaQueries())\n            .pipe($.postcss(processors))\n            .pipe($.rename(function (path) {\n              path.extname = \".scss\"\n            }))\n            .pipe(gulp.dest(dist));\n  });\n};\n```\n\n* \u5171\u901a\u306e\u5909\u6570\u306f\u307e\u3068\u3081\u305f\n* CSS \u3092\u5727\u7e2e\u3059\u308b\u306e\u3067\u3001 `postcss` \u306b `csswring` \u3092\u8ffd\u52a0\n* SourceMap \u306f\u4e0d\u8981\n* Compass \u7121\u52b9\uff08 `image-url` \u306a\u3069\u304c\u305d\u306e\u307e\u307e\u66f8\u304d\u51fa\u3055\u308c\u308b\uff09\n* `.css` \u3092 `.scss` \u306b\u30ea\u30cd\u30fc\u30e0\n* \u5b9f\u969b\u306b\u306f `del` \u306a\u3069\u3082\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3046\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u4ed6\u306e\u66f8\u304d\u51fa\u3057\u7528\u30bf\u30b9\u30af\u3068\u5408\u308f\u305b\u3066\u4f7f\u3046\u3068\u601d\u308f\u308c\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u89e6\u308c\u307e\u305b\u3093\n\n## PhantomCSS\n\n\u8272\u3005\u306a\u30c4\u30fc\u30eb\u304c\u3042\u308b\u4e2d\u3067\u3001\u300c\u3059\u3054\u304f\u51dd\u3063\u305f\u30c6\u30b9\u30c8\u306f\u66f8\u304b\u306a\u3044\u3051\u3069\u3001\u8868\u793a\uff0f\u975e\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u3068\u304b\u306f\u66f8\u304f\u300d\u3068\u3044\u3046\u5834\u5408\u306b\u3001 CasperJS \u4f7f\u3048\u308b\u3068\u4fbf\u5229\u305d\u3046\u3067\u3001\u307e\u305f\u3001\u5358\u306b\u4f7f\u3063\u3066\u307f\u305f\u304b\u3063\u305f\uff08\u3053\u3063\u3061\u304c\u30e1\u30a4\u30f3\u304b\u3082\uff09\u3068\u3044\u3046\u306e\u3082\u3042\u3063\u3066\u3001PhantomCSS \u3092\u9078\u3093\u3060\u6b21\u7b2c\u3002 BackstopJS \u3082\u30b7\u30f3\u30d7\u30eb\u3067\u7c21\u5358\u305d\u3046\u306a\u306e\u3067\u3001\u3068\u3066\u3082\u826f\u3055\u305d\u3046\u3002\n\n### \u6e96\u5099\n\n\u307e\u305a\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```zsh\nsudo npm install -g phantomjs\nsudo npm install -g casperjs\n```\n\n\u305d\u3057\u3066\u3001\u672c\u5bb6\u304b\u3089 clone \u3057\u3066\u304d\u3066\u3001\u30c7\u30e2\u3092\u8a66\u3057\u307e\u3059\u3002\n\n```zsh\ngit clone git://github.com/Huddle/PhantomCSS.git\n```\n\n\u52d5\u304f\u3068\u3044\u3044\u306a\u3002\n\n```zsh\ncd PhantomCSS\ncasperjs test demo/testsuite.js\n```\n\n\u3053\u308c\u3067\u52d5\u4f5c\u3057\u3066\u3044\u308c\u3070\u3001\u4e00\u65e6\u3001OK\u3002\n\n\u8ffd\u8a18\uff08Jun 6, 2015\uff09\uff1a SlimerJS \u4f7f\u3063\u3066 Gecko \u306b\u3082\u5bfe\u5fdc\u51fa\u6765\u305d\u3046\u306a\u306e\u3067\u8a66\u3057\u3066\u307f\u305f\u3044\n", "tags": ["gulp", "PhantomJS", "phantomCss", "hologram", "middleman"]}