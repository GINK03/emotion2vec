{"context": " More than 1 year has passed since last update.\u6628\u65e5\u306f\u591a\u91cd\u56de\u5e30\u5206\u6790\u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3057\u305f\u3002\u6570\u5b66\u7684\u8aac\u660e\u306b\u3064\u3044\u3066\u306f\u6628\u65e5\u306e\u8aac\u660e\u304c\u8a73\u3057\u3044\u306e\u3067\u305d\u3061\u3089\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u4eca\u65e5\u306f\u305d\u306e\u88dc\u8db3\u7684\u306a\u5185\u5bb9\u3068\u3057\u3066\u4e0d\u81ea\u7531\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u3042\u308b Excel \u306e\u4ee3\u308f\u308a\u306b R \u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nR \u306b\u3088\u308b\u56de\u5e30\u5206\u6790\u306e\u65b9\u6cd5\u306f\u3053\u3053\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\u3084\u308a\u304b\u305f\u306b\u3064\u3044\u3066\u306f\u30ea\u30f3\u30af\u5148\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u6628\u65e5\u4f7f\u3063\u305f\u30c7\u30fc\u30bf\u3092\u5b9f\u969b\u306b\u5229\u7528\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u30c7\u30fc\u30bf\u306f\u3053\u3061\u3089\u306b\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\nR \u306b\u3088\u308b\u56de\u5e30\u5206\u6790\n# \u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\ndf <- read.csv(\"macbook_price.csv\", sep=\"\\t\")\n\n# \u56de\u5e30\nresult <- lm(df$PRICE ~ df$DISPLAY + df$RETINA + df$CPU + df$CORE + df$MEM + df$SSD)\n\n# \u56de\u5e30\u5206\u6790\u306e\u8981\u7d04\u3092\u8868\u793a\nsummary(result)\n#=>\n# Call:\n# lm(formula = df$PRICE ~ df$DISPLAY + df$RETINA + df$CPU + df$CORE +\n#     df$MEM + df$SSD)\n\n# Residuals:\n#     Min      1Q  Median      3Q     Max\n# -8525.4 -6416.6  -413.8  4082.0 13507.4\n\n# Coefficients: \n#               Estimate Std. Error t value Pr(>|t|)\n# (Intercept) -1.603e+05  6.784e+04  -2.362  0.04578 *\n# df$DISPLAY   4.783e+03  5.187e+03   0.922  0.38349\n# df$RETINA   -6.295e+04  2.883e+04  -2.184  0.06052 .\n# df$CPU       7.973e+01  2.708e+01   2.944  0.01859 *\n# df$CORE      3.812e+04  1.136e+04   3.357  0.00998 **\n# df$MEM      -5.335e-01  1.676e+00  -0.318  0.75839\n# df$SSD       5.744e+01  2.229e+01   2.577  0.03276 *\n# ---  \n# Signif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n\n# Residual standard error: 9582 on 8 degrees of freedom\n# Multiple R-squared:  0.9712,    Adjusted R-squared:  0.9496\n# F-statistic: 44.99 on 6 and 8 DF,  p-value: 9.829e-06\n\nR2 \u304c 0.9712 \u3001\u88dc\u6b63 R2 \u304c 0.94 \u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\u5207\u7247\u3092\u5f37\u5236\u7684\u306b 0 \u306b\u3057\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u6628\u65e5\u306e Excel \u306e\u7d50\u679c\u3068\u306f\u7570\u306a\u308a\u307e\u3059\u3002\u3084\u306f\u308a\u6628\u65e5\u3068\u540c\u69d8\u3001\u5909\u6570\u306e\u9078\u629e\u304c\u3042\u307e\u308a\u826f\u304f\u306a\u3044\u307f\u305f\u3044\u3067\u3059\u306d\u3002\n\n\u5909\u6570\u306e\u9078\u629e\n\u6628\u65e5\u3084\u3063\u305f\u3088\u3046\u306b\u5909\u6570\u3092\u6e1b\u3089\u3057\u3066\u307f\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nresult = lm(df$PRICE ~ df$CPU + df$CORE + df$MEM + df$SSD)\nsummary(result)\n#=>\n# Call:\n# lm(formula = df$PRICE ~ df$CPU + df$CORE + df$MEM + df$SSD)\n\n# Residuals:\n#    Min     1Q Median     3Q    Max \n# -13059  -7035  -1122   1931  23699 \n\n# Coefficients:\n#               Estimate Std. Error t value Pr(>|t|)   \n# (Intercept) -19840.669  19092.861  -1.039  0.32320   \n# df$CPU          27.307      7.697   3.548  0.00529 **\n# df$CORE      28389.394   6898.341   4.115  0.00209 **\n# df$MEM           1.206      1.656   0.728  0.48315   \n# df$SSD          66.256     25.037   2.646  0.02447 * \n# ---\n# Signif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n\n# Residual standard error: 11070 on 10 degrees of freedom\n# Multiple R-squared:  0.9519,    Adjusted R-squared:  0.9327 \n# F-statistic: 49.52 on 4 and 10 DF,  p-value: 1.477e-06\n\n\u826f\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u9069\u5207\u306a\u30e2\u30c7\u30eb\u306e\u63a2\u7d22\nR \u306e\u4fbf\u5229\u306a\u3068\u3053\u308d\u306f\u3001\u968e\u5c64\u3092\u4fdd\u3061\u306a\u304c\u3089\u9805\u3092\u5897\u3084\u3057\u305f\u308a\u6e1b\u3089\u3057\u305f\u308a\u3057\u3066\u9069\u5207\u306a\u30e2\u30c7\u30eb\u3092\u63a2\u7d22\u3059\u308b\u95a2\u6570\u304c\u7c21\u5358\u306b\u4f7f\u3048\u308b\u3068\u3053\u308d\u3067\u3059\u3002 step() \u95a2\u6570\u3092\u4f7f\u3046\u3068 AIC (\u8d64\u6c60\u60c5\u5831\u91cf\u57fa\u6e96) \u3092\u53c2\u7167\u3057\u3066\u3075\u3055\u308f\u3057\u3044\u30e2\u30c7\u30eb\u304c\u8fd4\u5374\u3055\u308c\u307e\u3059\u3002\nstep(result)\n#=>\n# Start:  AIC=283.29\n# df$PRICE ~ df$CPU + df$CORE + df$MEM + df$SSD\n\n#           Df  Sum of Sq        RSS    AIC\n# - df$MEM   1   65042361 1291341482 282.06\n# <none>                  1226299122 283.29\n# - df$SSD   1  858753814 2085052935 289.25\n# - df$CPU   1 1543683270 2769982392 293.51\n# - df$CORE  1 2076917909 3303217031 296.15\n\n# Step:  AIC=282.06\n# df$PRICE ~ df$CPU + df$CORE + df$SSD\n\n#           Df  Sum of Sq        RSS    AIC\n# <none>                  1.2913e+09 282.06\n# - df$SSD   1 1.0326e+09 2.3239e+09 288.88\n# - df$CPU   1 3.2852e+09 4.5765e+09 299.04\n# - df$CORE  1 1.1890e+10 1.3181e+10 314.91\n\n# Call:\n# lm(formula = df$PRICE ~ df$CPU + df$CORE + df$SSD)\n\n# Coefficients:\n# (Intercept)       df$CPU      df$CORE       df$SSD  \n#   -29919.53        30.85     32789.22        70.58  \n\n\u3053\u308c\u306f\u4fbf\u5229\u3067\u3059\u3002\n\n\u30e2\u30c7\u30eb\u306e\u6bd4\u8f03\n\u305d\u308c\u3067\u306f\u305d\u308c\u305e\u308c\u306e\u56de\u5e30\u5f0f\u3067\u5143\u306e\u4fa1\u683c\u306b\u5bfe\u3057\u3069\u308c\u3060\u3051\u5f53\u3066\u306f\u307e\u308a\u304c\u3042\u308b\u306e\u304b\u53ef\u8996\u5316\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nsummary() \u3001 step() \u3001\u307e\u305f\u6628\u65e5\u306e Excel \u3067\u306e\u56de\u5e30\u5f0f\u304b\u3089\u7b97\u51fa\u3057\u305f\u5024\u6bb5\u3068\u5b9f\u969b\u306e\u5024\u6bb5\u3092\u8868\u5f62\u5f0f\u306b\u3053\u3061\u3089\u306e\u30c7\u30fc\u30bf\u306b\u307e\u3068\u3081\u307e\u3057\u305f\u3002\ndf = pd.read_csv('macbook_price_check.tsv', index_col=0, sep=\"\\t\")\ndf.index = np.arange(0, len(df.index))\n\nplt.figure()\ndf.plot()\n\n\n\u88dc\u6b63 R2 \u304c\u9ad8\u3044\u306e\u3067\u3069\u308c\u3082\u5f53\u3066\u306f\u307e\u3063\u3066\u3044\u308b\u611f\u3058\u304c\u3057\u307e\u3059\u306d\u3002\n\n\u307e\u3068\u3081\n\u591a\u91cd\u56de\u5e30\u5206\u6790\u306e\u7406\u8ad6\u3068\u5b9f\u8df5\u306b\u3064\u3044\u3066\u89e6\u308c\u307e\u3057\u305f\u3002\n\n[\u6628\u65e5](http://qiita.com/ynakayama/items/36b7c1640e6a02ce2e00)\u306f\u591a\u91cd\u56de\u5e30\u5206\u6790\u306b\u3064\u3044\u3066\u66f8\u304d\u307e\u3057\u305f\u3002\u6570\u5b66\u7684\u8aac\u660e\u306b\u3064\u3044\u3066\u306f\u6628\u65e5\u306e\u8aac\u660e\u304c\u8a73\u3057\u3044\u306e\u3067\u305d\u3061\u3089\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u4eca\u65e5\u306f\u305d\u306e\u88dc\u8db3\u7684\u306a\u5185\u5bb9\u3068\u3057\u3066\u4e0d\u81ea\u7531\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u3042\u308b Excel \u306e\u4ee3\u308f\u308a\u306b R \u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nR \u306b\u3088\u308b\u56de\u5e30\u5206\u6790\u306e\u65b9\u6cd5\u306f[\u3053\u3053](http://cse.naro.affrc.go.jp/takezawa/r-tips/r/71.html)\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\u3084\u308a\u304b\u305f\u306b\u3064\u3044\u3066\u306f\u30ea\u30f3\u30af\u5148\u3092\u898b\u3066\u3044\u305f\u3060\u304f\u3068\u3057\u3066\u3001\u6628\u65e5\u4f7f\u3063\u305f\u30c7\u30fc\u30bf\u3092\u5b9f\u969b\u306b\u5229\u7528\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u30c7\u30fc\u30bf\u306f[\u3053\u3061\u3089](https://github.com/ynakayama/sandbox/blob/master/r/stats/macbook_price.tsv)\u306b\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\n## R \u306b\u3088\u308b\u56de\u5e30\u5206\u6790\n\n```r\n# \u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\ndf <- read.csv(\"macbook_price.csv\", sep=\"\\t\")\n\n# \u56de\u5e30\nresult <- lm(df$PRICE ~ df$DISPLAY + df$RETINA + df$CPU + df$CORE + df$MEM + df$SSD)\n\n# \u56de\u5e30\u5206\u6790\u306e\u8981\u7d04\u3092\u8868\u793a\nsummary(result)\n#=>\n# Call:\n# lm(formula = df$PRICE ~ df$DISPLAY + df$RETINA + df$CPU + df$CORE +\n#     df$MEM + df$SSD)\n\n# Residuals:\n#     Min      1Q  Median      3Q     Max\n# -8525.4 -6416.6  -413.8  4082.0 13507.4\n\n# Coefficients: \n#               Estimate Std. Error t value Pr(>|t|)\n# (Intercept) -1.603e+05  6.784e+04  -2.362  0.04578 *\n# df$DISPLAY   4.783e+03  5.187e+03   0.922  0.38349\n# df$RETINA   -6.295e+04  2.883e+04  -2.184  0.06052 .\n# df$CPU       7.973e+01  2.708e+01   2.944  0.01859 *\n# df$CORE      3.812e+04  1.136e+04   3.357  0.00998 **\n# df$MEM      -5.335e-01  1.676e+00  -0.318  0.75839\n# df$SSD       5.744e+01  2.229e+01   2.577  0.03276 *\n# ---  \n# Signif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n\n# Residual standard error: 9582 on 8 degrees of freedom\n# Multiple R-squared:  0.9712,    Adjusted R-squared:  0.9496\n# F-statistic: 44.99 on 6 and 8 DF,  p-value: 9.829e-06\n```\n\nR2 \u304c 0.9712 \u3001\u88dc\u6b63 R2 \u304c 0.94 \u3068\u306a\u308a\u307e\u3057\u305f\u3002\n\u5207\u7247\u3092\u5f37\u5236\u7684\u306b 0 \u306b\u3057\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u6628\u65e5\u306e Excel \u306e\u7d50\u679c\u3068\u306f\u7570\u306a\u308a\u307e\u3059\u3002\u3084\u306f\u308a\u6628\u65e5\u3068\u540c\u69d8\u3001\u5909\u6570\u306e\u9078\u629e\u304c\u3042\u307e\u308a\u826f\u304f\u306a\u3044\u307f\u305f\u3044\u3067\u3059\u306d\u3002\n\n### \u5909\u6570\u306e\u9078\u629e\n\n\u6628\u65e5\u3084\u3063\u305f\u3088\u3046\u306b\u5909\u6570\u3092\u6e1b\u3089\u3057\u3066\u307f\u308b\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```r\nresult = lm(df$PRICE ~ df$CPU + df$CORE + df$MEM + df$SSD)\nsummary(result)\n#=>\n# Call:\n# lm(formula = df$PRICE ~ df$CPU + df$CORE + df$MEM + df$SSD)\n\n# Residuals:\n#    Min     1Q Median     3Q    Max \n# -13059  -7035  -1122   1931  23699 \n\n# Coefficients:\n#               Estimate Std. Error t value Pr(>|t|)   \n# (Intercept) -19840.669  19092.861  -1.039  0.32320   \n# df$CPU          27.307      7.697   3.548  0.00529 **\n# df$CORE      28389.394   6898.341   4.115  0.00209 **\n# df$MEM           1.206      1.656   0.728  0.48315   \n# df$SSD          66.256     25.037   2.646  0.02447 * \n# ---\n# Signif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n\n# Residual standard error: 11070 on 10 degrees of freedom\n# Multiple R-squared:  0.9519,    Adjusted R-squared:  0.9327 \n# F-statistic: 49.52 on 4 and 10 DF,  p-value: 1.477e-06\n```\n\n\u826f\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n### \u9069\u5207\u306a\u30e2\u30c7\u30eb\u306e\u63a2\u7d22\n\nR \u306e\u4fbf\u5229\u306a\u3068\u3053\u308d\u306f\u3001\u968e\u5c64\u3092\u4fdd\u3061\u306a\u304c\u3089\u9805\u3092\u5897\u3084\u3057\u305f\u308a\u6e1b\u3089\u3057\u305f\u308a\u3057\u3066\u9069\u5207\u306a\u30e2\u30c7\u30eb\u3092\u63a2\u7d22\u3059\u308b\u95a2\u6570\u304c\u7c21\u5358\u306b\u4f7f\u3048\u308b\u3068\u3053\u308d\u3067\u3059\u3002 step() \u95a2\u6570\u3092\u4f7f\u3046\u3068 AIC (\u8d64\u6c60\u60c5\u5831\u91cf\u57fa\u6e96) \u3092\u53c2\u7167\u3057\u3066\u3075\u3055\u308f\u3057\u3044\u30e2\u30c7\u30eb\u304c\u8fd4\u5374\u3055\u308c\u307e\u3059\u3002\n\n```r\nstep(result)\n#=>\n# Start:  AIC=283.29\n# df$PRICE ~ df$CPU + df$CORE + df$MEM + df$SSD\n\n#           Df  Sum of Sq        RSS    AIC\n# - df$MEM   1   65042361 1291341482 282.06\n# <none>                  1226299122 283.29\n# - df$SSD   1  858753814 2085052935 289.25\n# - df$CPU   1 1543683270 2769982392 293.51\n# - df$CORE  1 2076917909 3303217031 296.15\n\n# Step:  AIC=282.06\n# df$PRICE ~ df$CPU + df$CORE + df$SSD\n\n#           Df  Sum of Sq        RSS    AIC\n# <none>                  1.2913e+09 282.06\n# - df$SSD   1 1.0326e+09 2.3239e+09 288.88\n# - df$CPU   1 3.2852e+09 4.5765e+09 299.04\n# - df$CORE  1 1.1890e+10 1.3181e+10 314.91\n\n# Call:\n# lm(formula = df$PRICE ~ df$CPU + df$CORE + df$SSD)\n\n# Coefficients:\n# (Intercept)       df$CPU      df$CORE       df$SSD  \n#   -29919.53        30.85     32789.22        70.58  \n```\n\n\u3053\u308c\u306f\u4fbf\u5229\u3067\u3059\u3002\n\n### \u30e2\u30c7\u30eb\u306e\u6bd4\u8f03\n\n\u305d\u308c\u3067\u306f\u305d\u308c\u305e\u308c\u306e\u56de\u5e30\u5f0f\u3067\u5143\u306e\u4fa1\u683c\u306b\u5bfe\u3057\u3069\u308c\u3060\u3051\u5f53\u3066\u306f\u307e\u308a\u304c\u3042\u308b\u306e\u304b\u53ef\u8996\u5316\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nsummary() \u3001 step() \u3001\u307e\u305f\u6628\u65e5\u306e Excel \u3067\u306e\u56de\u5e30\u5f0f\u304b\u3089\u7b97\u51fa\u3057\u305f\u5024\u6bb5\u3068\u5b9f\u969b\u306e\u5024\u6bb5\u3092\u8868\u5f62\u5f0f\u306b[\u3053\u3061\u3089](https://github.com/ynakayama/sandbox/blob/master/r/stats/macbook_price_check.tsv)\u306e\u30c7\u30fc\u30bf\u306b\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n```py3\ndf = pd.read_csv('macbook_price_check.tsv', index_col=0, sep=\"\\t\")\ndf.index = np.arange(0, len(df.index))\n\nplt.figure()\ndf.plot()\n```\n\n![image.png](https://qiita-image-store.s3.amazonaws.com/0/38501/994a8a2d-a2e9-91d1-bc41-100c38ed2317.png)\n\n\u88dc\u6b63 R2 \u304c\u9ad8\u3044\u306e\u3067\u3069\u308c\u3082\u5f53\u3066\u306f\u307e\u3063\u3066\u3044\u308b\u611f\u3058\u304c\u3057\u307e\u3059\u306d\u3002\n\n## \u307e\u3068\u3081\n\n\u591a\u91cd\u56de\u5e30\u5206\u6790\u306e\u7406\u8ad6\u3068\u5b9f\u8df5\u306b\u3064\u3044\u3066\u89e6\u308c\u307e\u3057\u305f\u3002\n", "tags": ["R", "statistics"]}