{"context": "pandas\u306eGroupBy\u306e\u62e1\u5f35\u306e\u3088\u3046\u306aTimeGrouper\u306b\u3064\u3044\u3066\u60c5\u5831\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u5099\u5fd8\u9332\u3068\u3057\u3066\u3002\n\u3082\u3063\u3068\u30c7\u30d5\u30a1\u30af\u30c8\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u306a\u65b9\u6cd5\u304c\u3042\u308c\u3070\u6559\u3048\u3066\u304f\u3060\u3055\u3044\uff01\n\n\u7528\u4f8b:\u7279\u5b9a\u306e\u671f\u9593\u5185\u3067\u306e\u96c6\u8a08\u3092\u3057\u305f\u3044\u5834\u5408\u306b\u6709\u7528\n\u4f8b\n\n\u6bce\u6708\u306e\u5024\u3092\u6301\u3064\u30c7\u30fc\u30bf\u304b\u30896\u304b\u6708\u3054\u3068\u306b\u96c6\u8a08\u3059\u308b\n\u6bce\u65e5\u306e\u5024\u3092\u3082\u3064\u30c7\u30fc\u30bf\u304b\u30891\u304b\u6708\u6bce\u306e\u96c6\u8a08\u3092\u3059\u308b\n\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3067\u53d6\u5f15\u8a18\u9332\u3092\u6301\u3064\u3088\u3046\u306a\u30c7\u30fc\u30bf\u304b\u3089\u65e5\u6bce\u306e\u96c6\u8a08\u3092\u3059\u308b\n\n\n\u95a2\u9023\u3059\u308bstackoverflow\n\nHow to groupby time series by 10 minutes using pandas? [1]\ntimegrouper-pandas\n\n\n\u7528\u4f8b1:\u6bce\u6708\u306e\u5024\u3092\u6301\u3064\u30c7\u30fc\u30bf\u304b\u30896\u304b\u6708\u3054\u3068\u306b\u96c6\u8a08\u3059\u308b ([1]\u3088\u308a)\nts = pd.date_range('7/1/2008', periods=30, freq='MS') \ndf = pd.DataFrame(pd.Series(range(len(ts)), index=ts))\ndf[0] += 1\ndf # 2008/7/1\u304b\u3089\u59cb\u307e\u308b\u6708\u3054\u3068\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u304c\u3067\u304d\u308b\n\n\ndf2 = pd.DataFrame([0], index = [df.index.shift(-1, freq='MS')[0]])\ndf2\n\n\ndf2\u306b\u306f6\u304b\u6708\u3054\u3068\u306e\u96c6\u8a08\u304c\u3067\u304d\u308b\npython\ndf2.append(df).groupby(pd.TimeGrouper(freq='6M')).aggregate(np.sum)[1:] \n\n\n\n\u7528\u4f8b2:\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3067\u53d6\u5f15\u8a18\u9332\u3092\u6301\u3064\u3088\u3046\u306a\u30c7\u30fc\u30bf\u304b\u3089\u65e5\u6bce\u306e\u96c6\u8a08\u3092\u3059\u308b\nrng = pd.date_range(start = '2014-01-01',periods = 100, freq='H')\ndf_original = pd.DataFrame({'Volume' : np.random.randint(100,2000,len(rng))}, index=rng)\ndf_original\n\nOut[148]: \n    Volume\n2014-01-01 00:00:00 1484\n2014-01-01 01:00:00 1635\n2014-01-01 02:00:00 984\n2014-01-01 03:00:00 1239\n2014-01-01 04:00:00 785\n2014-01-01 05:00:00 871\n2014-01-01 06:00:00 614\n2014-01-01 07:00:00 119\n2014-01-01 08:00:00 933\n2014-01-01 09:00:00 624\n... ...\n2014-01-04 19:00:00 1832\n2014-01-04 20:00:00 1996\n2014-01-04 21:00:00 1040\n2014-01-04 22:00:00 1867\n2014-01-04 23:00:00 1098\n2014-01-05 00:00:00 1397\n2014-01-05 01:00:00 1996\n2014-01-05 02:00:00 610\n2014-01-05 03:00:00 1242\n100 rows \u00d7 1 columns\n\ndf_tmp = pd.DataFrame({'Volume':[0]}, index = [df_original.index.shift(-1, freq='D')[0]])\ndf_daily=df_tmp.append(df_original).groupby(pd.TimeGrouper(freq='D')).aggregate(np.sum)[1:] \ndf_daily\n\n\n\nP.S\nQiita\u3067jupyter\u306e\u57cb\u3081\u8fbc\u307f\u3057\u305f\u3044\npandas\u306eGroupBy\u306e\u62e1\u5f35\u306e\u3088\u3046\u306aTimeGrouper\u306b\u3064\u3044\u3066\u60c5\u5831\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u5099\u5fd8\u9332\u3068\u3057\u3066\u3002\n\u3082\u3063\u3068\u30c7\u30d5\u30a1\u30af\u30c8\u30b9\u30bf\u30f3\u30c0\u30fc\u30c9\u306a\u65b9\u6cd5\u304c\u3042\u308c\u3070\u6559\u3048\u3066\u304f\u3060\u3055\u3044\uff01\n\n## \u7528\u4f8b:\u7279\u5b9a\u306e\u671f\u9593\u5185\u3067\u306e\u96c6\u8a08\u3092\u3057\u305f\u3044\u5834\u5408\u306b\u6709\u7528\n\u4f8b\n\n* \u6bce\u6708\u306e\u5024\u3092\u6301\u3064\u30c7\u30fc\u30bf\u304b\u30896\u304b\u6708\u3054\u3068\u306b\u96c6\u8a08\u3059\u308b\n* \u6bce\u65e5\u306e\u5024\u3092\u3082\u3064\u30c7\u30fc\u30bf\u304b\u30891\u304b\u6708\u6bce\u306e\u96c6\u8a08\u3092\u3059\u308b\n* \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3067\u53d6\u5f15\u8a18\u9332\u3092\u6301\u3064\u3088\u3046\u306a\u30c7\u30fc\u30bf\u304b\u3089\u65e5\u6bce\u306e\u96c6\u8a08\u3092\u3059\u308b\n\n\n## \u95a2\u9023\u3059\u308bstackoverflow\n* [How to groupby time series by 10 minutes using pandas?](http://stackoverflow.com/questions/32147224/how-to-groupby-time-series-by-10-minutes-using-pandas) [1]\n\n* [timegrouper-pandas](http://stackoverflow.com/questions/14569223/timegrouper-pandas)\n\n## \u7528\u4f8b1:\u6bce\u6708\u306e\u5024\u3092\u6301\u3064\u30c7\u30fc\u30bf\u304b\u30896\u304b\u6708\u3054\u3068\u306b\u96c6\u8a08\u3059\u308b ([1]\u3088\u308a)\n\n```python\nts = pd.date_range('7/1/2008', periods=30, freq='MS') \ndf = pd.DataFrame(pd.Series(range(len(ts)), index=ts))\ndf[0] += 1\ndf # 2008/7/1\u304b\u3089\u59cb\u307e\u308b\u6708\u3054\u3068\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u304c\u3067\u304d\u308b\n```\n![Screen Shot 2017-01-04 at 23.18.06.png](https://qiita-image-store.s3.amazonaws.com/0/99549/4d0c0ca2-a805-e1b9-1a37-a5dac3bf1a83.png)\n\n```python\ndf2 = pd.DataFrame([0], index = [df.index.shift(-1, freq='MS')[0]])\ndf2\n```\n![Screen Shot 2017-01-04 at 23.21.24.png](https://qiita-image-store.s3.amazonaws.com/0/99549/09fa24f3-e198-cc0d-5ba3-c7b978e415f3.png)\n\ndf2\u306b\u306f6\u304b\u6708\u3054\u3068\u306e\u96c6\u8a08\u304c\u3067\u304d\u308b\n```python\ndf2.append(df).groupby(pd.TimeGrouper(freq='6M')).aggregate(np.sum)[1:] \n```\n\n![Screen Shot 2017-01-04 at 23.21.32.png](https://qiita-image-store.s3.amazonaws.com/0/99549/2473b294-9d95-ae65-10bd-e1fcdf0e882b.png)\n\n\n## \u7528\u4f8b2:\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3067\u53d6\u5f15\u8a18\u9332\u3092\u6301\u3064\u3088\u3046\u306a\u30c7\u30fc\u30bf\u304b\u3089\u65e5\u6bce\u306e\u96c6\u8a08\u3092\u3059\u308b\n\n```python\nrng = pd.date_range(start = '2014-01-01',periods = 100, freq='H')\ndf_original = pd.DataFrame({'Volume' : np.random.randint(100,2000,len(rng))}, index=rng)\ndf_original\n```\n\n```\nOut[148]: \n\tVolume\n2014-01-01 00:00:00\t1484\n2014-01-01 01:00:00\t1635\n2014-01-01 02:00:00\t984\n2014-01-01 03:00:00\t1239\n2014-01-01 04:00:00\t785\n2014-01-01 05:00:00\t871\n2014-01-01 06:00:00\t614\n2014-01-01 07:00:00\t119\n2014-01-01 08:00:00\t933\n2014-01-01 09:00:00\t624\n...\t...\n2014-01-04 19:00:00\t1832\n2014-01-04 20:00:00\t1996\n2014-01-04 21:00:00\t1040\n2014-01-04 22:00:00\t1867\n2014-01-04 23:00:00\t1098\n2014-01-05 00:00:00\t1397\n2014-01-05 01:00:00\t1996\n2014-01-05 02:00:00\t610\n2014-01-05 03:00:00\t1242\n100 rows \u00d7 1 columns\n```\n\n```python\ndf_tmp = pd.DataFrame({'Volume':[0]}, index = [df_original.index.shift(-1, freq='D')[0]])\ndf_daily=df_tmp.append(df_original).groupby(pd.TimeGrouper(freq='D')).aggregate(np.sum)[1:] \ndf_daily\n```\n\n![Screen Shot 2017-01-05 at 00.07.58.png](https://qiita-image-store.s3.amazonaws.com/0/99549/befa7a03-e4a3-961c-7ec6-b02f20e9c643.png)\n\n\n### P.S\nQiita\u3067jupyter\u306e\u57cb\u3081\u8fbc\u307f\u3057\u305f\u3044\n\n", "tags": ["Python", "pandas", "\u6642\u7cfb\u5217\u89e3\u6790"]}