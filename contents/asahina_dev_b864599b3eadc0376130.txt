{"tags": ["CentOS", "Ruby", "Rails", "Redmine"], "context": " More than 1 year has passed since last update.\u30e1\u30e2\n\n## \u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum -y install httpd httpd-devel\nyum -y install openssl openssl-devel\nyum -y install mysql mysql-devel mysql-server mysql-libs\nyum -y install ruby ruby-devel rubygems\nyum -y install git git-svn\nyum -y install libxml2 libxml2-devel\nyum -y install libxslt libxslt-devel\nyum -y install ImageMagick-devel\nyum -y install gcc gcc-c++\nyum -y install curlpp curlpp-devel\nyum -y install curl libcurl libcurl-devel\nyum -y install libyaml libyaml-devel\n\n# ruby version up ( ruby -v < 1.9.3 )\n# wget ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p429.tar.bz2\n# tar -jxf ruby-1.9.3-p429.tar.bz2\n# cd ruby-1.9.3-p429\n# ./configure --prefix=/usr\n# make\n## get git repos \"http://checkinstall.izto.org/checkinstall.git\"\n# checkinstall --fstrans=no\n# \n\n# \u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u8a2d\u5b9a\n/sbin/chkconfig mysqld on\n/sbin/chkconfig httpd on\n\n# \u8d77\u52d5\n/etc/init.d/mysqld start\n/etc/init.d/httpd start\n\n# \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\ngit svn clone http://svn.redmine.org/redmine/branches/2.4-stable/\ncd 2.4-stable/\n\n# DB\u4f5c\u6210\ndbuser=redmine\ndbpassword=redmine\nsql=\"CREATE DATABASE $dbuser CHARACTER SET utf8\"\necho  $sql | mysql -u root -p -t\nsql=\"GRANT ALL ON $dbuser.* TO $dbuser@localhost IDENTIFIED BY '$dbpassword'\"\necho  $sql | mysql -u root -p -t\necho  FLUSH PRIVILEGES | mysql -u root -p -t\n\n# \u521d\u671f\u8a2d\u5b9a\nvi config/database.yml\n\n#########################\n#  config/database.yml  #\n#########################\n#\n# production:\n#   adapter: mysql2\n#   database: redmine\n#   host: localhost\n#   username: redmine\n#   password: redmine\n#   encoding: utf8\n#   socket: /var/lib/mysql/mysql.sock\n#\n\n\n# GEM install\ngem install bundler\ngem install passenger\ngem install rails\ngem install ruby-mysql\ngem install mysql2\ngem install nokogiri -v '1.5.10'\ngem install rmagick -v '2.13.2'\n\n# ruby httpd chain\npassenger-install-apache2-module\nvi /etc/httpd/conf.d/ruby.conf\n\n#########################\n#  /etc/httpd/conf.d/ruby.conf\n#########################\n#\n## 1.9.1  ( ruby-gems version ) \n## 4.0.23 ( ruby-passenger version )\n#\n# LoadModule passenger_module /usr/lib/ruby/gems/1.9.1/gems/passenger-4.0.23/buildout/apache2/mod_passenger.so\n# PassengerRoot /usr/lib/ruby/gems/1.9.1/gems/passenger-4.0.23\n# PassengerDefaultRuby /usr/bin/ruby\n#\n\n /etc/init.d/httpd configtest\n\n# bundle\nbundle install\nbundle exec rake generate_secret_token\nRAILS_ENV=production bundle exec rake db:migrate\n\nmv public public_html \nln -snf public_html public\n\n\nvi /etc/sysconfig/selinux\n#########################\n# /etc/sysconfig/selinux\n#########################\n#\n# SELINUX=disabled\n# SELINUXTYPE=targeted\n\n\n\n\n\u30e1\u30e2\n\n```bash:\n\n## \u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum -y install httpd httpd-devel\nyum -y install openssl openssl-devel\nyum -y install mysql mysql-devel mysql-server mysql-libs\nyum -y install ruby ruby-devel rubygems\nyum -y install git git-svn\nyum -y install libxml2 libxml2-devel\nyum -y install libxslt libxslt-devel\nyum -y install ImageMagick-devel\nyum -y install gcc gcc-c++\nyum -y install curlpp curlpp-devel\nyum -y install curl libcurl libcurl-devel\nyum -y install libyaml libyaml-devel\n\n# ruby version up ( ruby -v < 1.9.3 )\n# wget ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p429.tar.bz2\n# tar -jxf ruby-1.9.3-p429.tar.bz2\n# cd ruby-1.9.3-p429\n# ./configure --prefix=/usr\n# make\n## get git repos \"http://checkinstall.izto.org/checkinstall.git\"\n# checkinstall --fstrans=no\n# \n\n# \u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u8a2d\u5b9a\n/sbin/chkconfig mysqld on\n/sbin/chkconfig httpd on\n\n# \u8d77\u52d5\n/etc/init.d/mysqld start\n/etc/init.d/httpd start\n\n# \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\ngit svn clone http://svn.redmine.org/redmine/branches/2.4-stable/\ncd 2.4-stable/\n\n# DB\u4f5c\u6210\ndbuser=redmine\ndbpassword=redmine\nsql=\"CREATE DATABASE $dbuser CHARACTER SET utf8\"\necho  $sql | mysql -u root -p -t\nsql=\"GRANT ALL ON $dbuser.* TO $dbuser@localhost IDENTIFIED BY '$dbpassword'\"\necho  $sql | mysql -u root -p -t\necho  FLUSH PRIVILEGES | mysql -u root -p -t\n\n# \u521d\u671f\u8a2d\u5b9a\nvi config/database.yml\n\n#########################\n#  config/database.yml  #\n#########################\n#\n# production:\n#   adapter: mysql2\n#   database: redmine\n#   host: localhost\n#   username: redmine\n#   password: redmine\n#   encoding: utf8\n#   socket: /var/lib/mysql/mysql.sock\n#\n\n\n# GEM install\ngem install bundler\ngem install passenger\ngem install rails\ngem install ruby-mysql\ngem install mysql2\ngem install nokogiri -v '1.5.10'\ngem install rmagick -v '2.13.2'\n\n# ruby httpd chain\npassenger-install-apache2-module\nvi /etc/httpd/conf.d/ruby.conf\n\n#########################\n#  /etc/httpd/conf.d/ruby.conf\n#########################\n#\n## 1.9.1  ( ruby-gems version ) \n## 4.0.23 ( ruby-passenger version )\n#\n# LoadModule passenger_module /usr/lib/ruby/gems/1.9.1/gems/passenger-4.0.23/buildout/apache2/mod_passenger.so\n# PassengerRoot /usr/lib/ruby/gems/1.9.1/gems/passenger-4.0.23\n# PassengerDefaultRuby /usr/bin/ruby\n#\n\n /etc/init.d/httpd configtest\n\n# bundle\nbundle install\nbundle exec rake generate_secret_token\nRAILS_ENV=production bundle exec rake db:migrate\n\nmv public public_html \nln -snf public_html public\n\n\nvi /etc/sysconfig/selinux\n#########################\n# /etc/sysconfig/selinux\n#########################\n#\n# SELINUX=disabled\n# SELINUXTYPE=targeted\n\n\n```\n"}