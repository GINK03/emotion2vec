{"context": "\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u6e08\u307f\u30bd\u30fc\u30b9\n\nhttps://github.com/imasami/rails-setup/releases/tag/v1.0.0\n\n\n\u3057\u305f\u3044\u3053\u3068\n\nrails\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nrspec_rails\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nfactory_girl_rails\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ndatabase_cleaner\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\u81ea\u52d5\u3067rspec\u5b9f\u884c\n\n\nguard\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\nconfig\u3092\u74b0\u5883\u6bce\u306b\u5206\u3051\u305f\u3044\n\n\nconfig\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\n\n01. rails new\n\n\u524d\u51e6\u7406\n~/.gemrc\u3078\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53d6\u5f97\u3092\u6291\u5236\u3059\u308b\u30b9\u30a4\u30c3\u30c1\u3092\u66f8\u304f\n\n~/.gemrc\ninstall: --no-document\nupdate: --no-document\n\n\n\nsee also: gem environment\n\n\n\nrails\u74b0\u5883\u3092\u4f5c\u6210\n\uff08\u524d\u8aac\u306f\u4f59\u5206\u306a\u306e\u3067\u7701\u304f\uff09\n$ bundle install --path=vendor/bundle\n$ bundle exec rails new -Tf .\n\n\n.gitignore\n$ brew install gibo\n$ gibo Rails > .gitignore\n$ gibo OSX >> .gitignore\n\n\n02. append gems\n\nGemfile\ngroup :development do\n  gem 'spring-commands-rspec'\n  gem 'guard-rspec'\nend\n\ngroup :test do\n  gem 'rspec-rails'\n  gem 'factory_girl_rails'\n  gem 'database_cleaner'\nend\n\ngem 'config'\n\n\nrails g scaffold\u306a\u3069\u306fRAILS_ENV\u7121\u6307\u5b9a\u306e\u6642\u306fdevelopment\u3060\u308d\u3046\u304b\u3089\u3001group :development\u306b\u5ba3\u8a00\u3059\u308c\u3070\u3044\u3044\u3060\u308d\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u304c\u3001group :test\u3067\u5ba3\u8a00\u3057\u306a\u3051\u308c\u3070rails g scaffold\u306a\u3069\u3067spec/HOGE_spec.rb\u306f\u81ea\u52d5\u751f\u6210\u3057\u3066\u304f\u308c\u306a\u304b\u3063\u305f\u3002\u5206\u3051\u3066\u5ba3\u8a00\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u3089\u3001group :development, :test\u306b\u66f8\u3044\u3066\u3082\u826f\u3044\u3068\u601d\u3046\u3002\nrspec-rails\u4ee5\u5916\u306f\u53b3\u5bc6\u306b\u3069\u3061\u3089\u306eRAILS_ENV\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u304b\u306e\u691c\u8a3c\u306f\u884c\u3063\u3066\u3044\u306a\u3044\u3002\n\ndevelopment\n\nspring-command-rspec\n\n\nbundle exec spring rspec\nspring\u3092\u30b3\u30de\u30f3\u30c9\u3067rspec\u3092\u7206\u901f\u306b\u4f7f\u3044\u305f\u3044\n\n\nguard-rspec\n\n\n*_spec.rb\u3092\u5909\u66f4\u3057\u306a\u304c\u3089\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u305f\u3044\n\u4ee3\u308f\u308a\u306bRubymine\u306b\u4efb\u305b\u3066\u3082\u826f\u3044\n\n\n\n\ntest\n\nrspec-rails\n\n\nrails\u30b3\u30de\u30f3\u30c9\u7cfb\u3067rspec\u3092\u751f\u6210\u3057\u305f\u3044\n\n\nfactory_girl_rails\n\n\nrails\u30b3\u30de\u30f3\u30c9\u7cfb\u3067factory_girl\u3092\u751f\u6210\u3057\u305f\u3044\n\n\ndatabase_cleaner\n\n\nrspec\u5358\u4f4d\u3067test\u7528\u30c7\u30fc\u30bf\u3092\u521d\u671f\u5316\u3057\u305f\u3044\n\n\n\n\nglobal\n\nconfig\n\n\nbundle exec rails g config:install\nsee also: config\u3092\u5229\u7528\u3059\u308b\n\n\n\n\n\n03. rspec-rails\n\nrspec\u306e\u8a2d\u5b9a\u306a\u306e\u3067spec_helper.rb\u3078\u8a18\u8ff0\nsee also : http://www.atmarkit.co.jp/ait/articles/1409/30/news037.html\n\nspec\u306f\u4ed6\u306espec\u306e\u5b9f\u884c\u7d50\u679c\u306b\u4f9d\u5b58\u3057\u306a\u3044\u4f5c\u308a\u306b\u3059\u308b\u306e\u3067\u3001\u5b9f\u884c\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u3059\u308b\u3002\n\n$ bundle exec rails g rspec:install\n\n      create  .rspec\n      create  spec\n      create  spec/spec_helper.rb\n      create  spec/rails_helper.rb\n\n\nspec/spec_helper.rb\nRSpec.configure do |config|\n\n  # rspec configuration\n  config.order = :random\n\nend\n\n\n\n04. factory_girl\n\nrspec\u306e\u8a2d\u5b9a\u3067\u306f\u306a\u3044\u306e\u3067rails_helper.rb\u3078\u8a18\u8ff0\nsee also : http://qiita.com/muran001/items/436fd07eba1db18ed622\n\n\n\nspec/rails_helper.rb\nRSpec.configure do |config|\n\n  config.use_transactional_fixtures = false\n\n  config.include FactoryGirl::Syntax::Methods\n\n  config.before(:all) do\n    FactoryGirl.reload\n  end\n\nend\n\n\n\n05. database_cleaner\n\nrspec\u306e\u8a2d\u5b9a\u3067\u306f\u306a\u3044\u306e\u3067rails_helper.rb\u3078\u8a18\u8ff0\nsee also : http://dev.classmethod.jp/server-side/ruby-on-rails/ruby-on-rails_database-cleaner_data_erase/\n\nsee also : http://qiita.com/yoshitsugu/items/3470dbcadfdd677be543\n\nspec\u306f\u4ed6\u306espec\u306e\u5b9f\u884c\u7d50\u679c\u306b\u4f9d\u5b58\u3057\u305f\u304f\u306a\u3044\u306e\u3067\u3001\u5b9f\u884c\u524d\u5f8c\u3067truncation\u3092\u884c\u3046\u3002\n\n\nspec/rails_helper.rb\nRSpec.configure do |config|\n\n  config.before(:suite) do\n    DatabaseCleaner.strategy = :truncation\n  end\n\n  config.before(:each) do\n    DatabaseCleaner.start\n  end\n\n  config.after(:each) do\n    DatabaseCleaner.clean\n  end\n\nend\n\n\n\n06. confirmation\n$ bundle exec rails g model borrowing user:references book:references due_back:date\n\n      invoke  active_record\n      create    db/migrate/20150318135741_create_borrowings.rb\n      create    app/models/borrowing.rb\n      invoke    rspec\n      create      spec/models/borrowing_spec.rb\n      invoke      factory_girl\n      create        spec/factories/borrowings.rb\n\nfactory_girl_rails\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u304b\u3001http://www.atmarkit.co.jp/ait/articles/1409/30/news037.html \u3067\u306f\u751f\u6210\u3055\u308c\u3066\u3044\u306a\u3044factory_girl\u95a2\u9023\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u751f\u6210\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\u3082\u3061\u308d\u3093\u3001rspec\u95a2\u9023\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\n07. config\n\nsee also : http://qiita.com/yumiyon/items/32c6afb5e2e5b7ff369e\n\n\n$ bundle exec rails g config:install\n\n      create  config/initializers/config.rb\n      create  config/settings.yml\n      create  config/settings.local.yml\n      create  config/settings\n      create  config/settings/development.yml\n      create  config/settings/production.yml\n      create  config/settings/test.yml\n      append  .gitignore\n\n\n99-A. guard-rspec\n\nsee also : http://ruby-rails.hatenadiary.com/entry/20141021/1413819783\n\nguard\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\u3092\u76e3\u8996\u3057\u3066\u3082\u3089\u3044\u3001\u30d5\u30a1\u30a4\u30eb\u5909\u66f4\u3092\u30c8\u30ea\u30ac\u306b\u5168rspec\u3092\u5b9f\u884c\u3057\u3066\u3082\u3089\u3044\u305f\u3044\n\n$ bundle exec guard init rspec\n\n15:46:42 - INFO - Writing new Guardfile to /Users/ito/src/ghe.apctdl.com/inspector-gadget/rails-swagger-mockserver/Guardfile\n15:46:42 - INFO - rspec guard added to Guardfile, feel free to edit it\n\n$ bundle exec spring binstub --all\n\n* bin/rake: spring inserted\n* bin/rspec: generated with spring\n* bin/rails: spring inserted\n\n\nGuardfile\nguard :rspec, cmd: 'bundle exec spring rspec --color --format documentation' do\n  # ..\nend\n\n\n$ bundle exec guard\n\n15:52:24 - INFO - Guard::RSpec is running\n15:52:25 - INFO - Guard is now watching at '/path/to/root'\n[1] guard(main)>\n[1] guard(main)> exit\n\n15:52:51 - INFO - Bye bye...\n\n\nCould not find 'bundler' \u30a8\u30e9\u30fc\u306e\u5834\u5408\n\n/Users/hoge/.rbenv/versions/2.1.5/lib/ruby/2.1.0/rubygems/dependency.rb:298:in `to_specs': Could not find 'bundler' (>= 0) among 93 total gem(s) (Gem::LoadError)\n\n$ bundle update\n\n\nrails5\u3067ENCODING_FLAG\u306e\u30a8\u30e9\u30fc\u306e\u5834\u5408\n\nbundler: failed to load command: rspec (/path/to/root/vendor/bundle/ruby/2.3.0/bin/rspec)\nNameError: uninitialized constant ActionView::Template::Handlers::ERB::ENCODING_FLAG\n\n\n\u53c2\u8003\uff1aGetting an unitialized constant error with RSpec. Have no idea what's causing it\n\n\n\nspec/spec_helper.rb\nrequire 'rails/all' # \u5148\u982d\u306b\u8ffd\u52a0\nrequire 'rspec/rails'\nrequire 'factory_girl'\nrequire 'database_cleaner'\n\n\n## \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u6e08\u307f\u30bd\u30fc\u30b9\n\n- https://github.com/imasami/rails-setup/releases/tag/v1.0.0\n\n## \u3057\u305f\u3044\u3053\u3068\n\n- rails\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - rspec_rails\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - factory_girl_rails\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - database_cleaner\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n- \u81ea\u52d5\u3067rspec\u5b9f\u884c\n    - guard\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n- config\u3092\u74b0\u5883\u6bce\u306b\u5206\u3051\u305f\u3044\n    - config\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## 01. rails new\n\n### \u524d\u51e6\u7406\n\n`~/.gemrc`\u3078\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53d6\u5f97\u3092\u6291\u5236\u3059\u308b\u30b9\u30a4\u30c3\u30c1\u3092\u66f8\u304f\n\n```~/.gemrc\ninstall: --no-document\nupdate: --no-document\n```\n- see also: [gem environment](http://guides.rubygems.org/command-reference/#gem-environment)\n\n### rails\u74b0\u5883\u3092\u4f5c\u6210\n\n\uff08\u524d\u8aac\u306f\u4f59\u5206\u306a\u306e\u3067\u7701\u304f\uff09\n\n```\n$ bundle install --path=vendor/bundle\n$ bundle exec rails new -Tf .\n```\n\n### .gitignore\n\n```\n$ brew install gibo\n$ gibo Rails > .gitignore\n$ gibo OSX >> .gitignore\n```\n\n## 02. append gems\n\n```ruby:Gemfile\ngroup :development do\n  gem 'spring-commands-rspec'\n  gem 'guard-rspec'\nend\n\ngroup :test do\n  gem 'rspec-rails'\n  gem 'factory_girl_rails'\n  gem 'database_cleaner'\nend\n\ngem 'config'\n```\n\n`rails g scaffold`\u306a\u3069\u306fRAILS_ENV\u7121\u6307\u5b9a\u306e\u6642\u306fdevelopment\u3060\u308d\u3046\u304b\u3089\u3001`group :development`\u306b\u5ba3\u8a00\u3059\u308c\u3070\u3044\u3044\u3060\u308d\u3046\u3068\u601d\u3063\u3066\u3044\u305f\u304c\u3001`group :test`\u3067\u5ba3\u8a00\u3057\u306a\u3051\u308c\u3070`rails g scaffold`\u306a\u3069\u3067`spec/HOGE_spec.rb`\u306f\u81ea\u52d5\u751f\u6210\u3057\u3066\u304f\u308c\u306a\u304b\u3063\u305f\u3002\u5206\u3051\u3066\u5ba3\u8a00\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u3089\u3001`group :development, :test`\u306b\u66f8\u3044\u3066\u3082\u826f\u3044\u3068\u601d\u3046\u3002\n\n`rspec-rails`\u4ee5\u5916\u306f\u53b3\u5bc6\u306b\u3069\u3061\u3089\u306eRAILS_ENV\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u304b\u306e\u691c\u8a3c\u306f\u884c\u3063\u3066\u3044\u306a\u3044\u3002\n\n### development\n\n- spring-command-rspec\n  - `bundle exec spring rspec`\n  - spring\u3092\u30b3\u30de\u30f3\u30c9\u3067rspec\u3092\u7206\u901f\u306b\u4f7f\u3044\u305f\u3044\n- guard-rspec\n  - *_spec.rb\u3092\u5909\u66f4\u3057\u306a\u304c\u3089\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u305f\u3044\n  - \u4ee3\u308f\u308a\u306bRubymine\u306b\u4efb\u305b\u3066\u3082\u826f\u3044\n\n### test\n\n- rspec-rails\n  - rails\u30b3\u30de\u30f3\u30c9\u7cfb\u3067rspec\u3092\u751f\u6210\u3057\u305f\u3044\n- factory_girl_rails\n  - rails\u30b3\u30de\u30f3\u30c9\u7cfb\u3067factory_girl\u3092\u751f\u6210\u3057\u305f\u3044\n- database_cleaner\n  - rspec\u5358\u4f4d\u3067test\u7528\u30c7\u30fc\u30bf\u3092\u521d\u671f\u5316\u3057\u305f\u3044\n\n### global\n\n- config\n  - `bundle exec rails g config:install`\n  - see also: [config\u3092\u5229\u7528\u3059\u308b](http://qiita.com/yumiyon/items/32c6afb5e2e5b7ff369e)\n\n\n## 03. rspec-rails\n\n- rspec\u306e\u8a2d\u5b9a\u306a\u306e\u3067`spec_helper.rb`\u3078\u8a18\u8ff0\n- see also : http://www.atmarkit.co.jp/ait/articles/1409/30/news037.html\n- spec\u306f\u4ed6\u306espec\u306e\u5b9f\u884c\u7d50\u679c\u306b\u4f9d\u5b58\u3057\u306a\u3044\u4f5c\u308a\u306b\u3059\u308b\u306e\u3067\u3001\u5b9f\u884c\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u3059\u308b\u3002\n\n```\n$ bundle exec rails g rspec:install\n\n      create  .rspec\n      create  spec\n      create  spec/spec_helper.rb\n      create  spec/rails_helper.rb\n```\n\n```ruby:spec/spec_helper.rb\nRSpec.configure do |config|\n\n  # rspec configuration\n  config.order = :random\n\nend\n```\n\n## 04. factory_girl\n\n- rspec\u306e\u8a2d\u5b9a\u3067\u306f\u306a\u3044\u306e\u3067`rails_helper.rb`\u3078\u8a18\u8ff0\n- see also : http://qiita.com/muran001/items/436fd07eba1db18ed622\n\n```ruby:spec/rails_helper.rb\nRSpec.configure do |config|\n  \n  config.use_transactional_fixtures = false\n  \n  config.include FactoryGirl::Syntax::Methods\n  \n  config.before(:all) do\n    FactoryGirl.reload\n  end\n\nend\n```\n\n## 05. database_cleaner\n\n- rspec\u306e\u8a2d\u5b9a\u3067\u306f\u306a\u3044\u306e\u3067`rails_helper.rb`\u3078\u8a18\u8ff0\n- see also : http://dev.classmethod.jp/server-side/ruby-on-rails/ruby-on-rails_database-cleaner_data_erase/\n- see also : http://qiita.com/yoshitsugu/items/3470dbcadfdd677be543\n- spec\u306f\u4ed6\u306espec\u306e\u5b9f\u884c\u7d50\u679c\u306b\u4f9d\u5b58\u3057\u305f\u304f\u306a\u3044\u306e\u3067\u3001\u5b9f\u884c\u524d\u5f8c\u3067truncation\u3092\u884c\u3046\u3002\n\n```ruby:spec/rails_helper.rb\nRSpec.configure do |config|\n\n  config.before(:suite) do\n    DatabaseCleaner.strategy = :truncation\n  end\n\n  config.before(:each) do\n    DatabaseCleaner.start\n  end\n\n  config.after(:each) do\n    DatabaseCleaner.clean\n  end\n\nend\n```\n\n## 06. confirmation\n\n```\n$ bundle exec rails g model borrowing user:references book:references due_back:date\n\n      invoke  active_record\n      create    db/migrate/20150318135741_create_borrowings.rb\n      create    app/models/borrowing.rb\n      invoke    rspec\n      create      spec/models/borrowing_spec.rb\n      invoke      factory_girl\n      create        spec/factories/borrowings.rb\n```\n\nfactory_girl_rails\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u304b\u3001http://www.atmarkit.co.jp/ait/articles/1409/30/news037.html \u3067\u306f\u751f\u6210\u3055\u308c\u3066\u3044\u306a\u3044factory_girl\u95a2\u9023\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u751f\u6210\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\n\u3082\u3061\u308d\u3093\u3001rspec\u95a2\u9023\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\n## 07. config\n\n- see also : http://qiita.com/yumiyon/items/32c6afb5e2e5b7ff369e\n\n```\n$ bundle exec rails g config:install\n\n      create  config/initializers/config.rb\n      create  config/settings.yml\n      create  config/settings.local.yml\n      create  config/settings\n      create  config/settings/development.yml\n      create  config/settings/production.yml\n      create  config/settings/test.yml\n      append  .gitignore\n```\n\n## 99-A. guard-rspec\n\n- see also : http://ruby-rails.hatenadiary.com/entry/20141021/1413819783\n- guard\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\u3092\u76e3\u8996\u3057\u3066\u3082\u3089\u3044\u3001\u30d5\u30a1\u30a4\u30eb\u5909\u66f4\u3092\u30c8\u30ea\u30ac\u306b\u5168rspec\u3092\u5b9f\u884c\u3057\u3066\u3082\u3089\u3044\u305f\u3044\n\n\n```shell\n$ bundle exec guard init rspec\n\n15:46:42 - INFO - Writing new Guardfile to /Users/ito/src/ghe.apctdl.com/inspector-gadget/rails-swagger-mockserver/Guardfile\n15:46:42 - INFO - rspec guard added to Guardfile, feel free to edit it\n```\n\n```shell\n$ bundle exec spring binstub --all\n\n* bin/rake: spring inserted\n* bin/rspec: generated with spring\n* bin/rails: spring inserted\n```\n\n```ruby:Guardfile\nguard :rspec, cmd: 'bundle exec spring rspec --color --format documentation' do\n  # ..\nend\n```\n\n```\n$ bundle exec guard\n\n15:52:24 - INFO - Guard::RSpec is running\n15:52:25 - INFO - Guard is now watching at '/path/to/root'\n[1] guard(main)>\n[1] guard(main)> exit\n\n15:52:51 - INFO - Bye bye...\n```\n\n### Could not find 'bundler' \u30a8\u30e9\u30fc\u306e\u5834\u5408\n\n> /Users/hoge/.rbenv/versions/2.1.5/lib/ruby/2.1.0/rubygems/dependency.rb:298:in `to_specs': Could not find 'bundler' (>= 0) among 93 total gem(s) (Gem::LoadError)\n\n```\n$ bundle update\n```\n\n### rails5\u3067ENCODING_FLAG\u306e\u30a8\u30e9\u30fc\u306e\u5834\u5408\n\n> bundler: failed to load command: rspec (/path/to/root/vendor/bundle/ruby/2.3.0/bin/rspec)\nNameError: uninitialized constant ActionView::Template::Handlers::ERB::ENCODING_FLAG\n\n- \u53c2\u8003\uff1a[Getting an unitialized constant error with RSpec. Have no idea what's causing it](http://stackoverflow.com/questions/4429068/getting-an-unitialized-constant-error-with-rspec-have-no-idea-whats-causing-it)\n\n```ruby:spec/spec_helper.rb\nrequire 'rails/all' # \u5148\u982d\u306b\u8ffd\u52a0\nrequire 'rspec/rails'\nrequire 'factory_girl'\nrequire 'database_cleaner'\n```\n", "tags": ["\u958b\u767a\u74b0\u5883", "Rails"]}