{"context": " More than 1 year has passed since last update.\n\nC++\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\nSampleInterface.h\n// Fill out your copyright notice in the Description page of Project Settings.\n\n#pragma once\n\n#include \"SampleInterface.generated.h\"\n\n\nUINTERFACE(Blueprintable)\nclass USampleInterface : public UInterface\n{\n    GENERATED_UINTERFACE_BODY()\n};\n\n\n/**\n * \u30b5\u30f3\u30d7\u30eb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n */\nclass ISampleInterface {\n\n    GENERATED_IINTERFACE_BODY()\n\npublic: // \u975econst\u7248\n\n    UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n    void Sample();\n    UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n    void SampleArg(int32 Value);\n    UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n    int32 SampleResult();\n    UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n    int32 SampleArgResult(int32 Value);\n\npublic: // const\u7248\n    UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n    void SampleConst() const;\n    UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n    void SampleArgConst(int32 Value) const;\n    UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n    int32 SampleConstResult() const;\n    UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n    int32 SampleArgConstResult(int32 Value) const;\n\n};\n\n\n\n\u30d6\u30eb\u30fc\u30d7\u30ea\u30f3\u30c8\u5074\u306b\u5b9f\u88c5\n\u30af\u30e9\u30b9\u306e\u8a73\u7d30->\u8a73\u7d30\u30d1\u30cd\u30eb->\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002\n\n\n\u3069\u3053\u306b\u5b9f\u88c5\u3059\u308b\u304b\n\n\n\n\u623b\u308a\u5024\\const\n\u975econst\u7248\nconst\u7248\n\n\n\n\n\u623b\u308a\u5024\u7121\u3057\n\u30a4\u30d9\u30f3\u30c8\u30b0\u30e9\u30d5\u306b\u5b9f\u88c5\n\u95a2\u6570\u5074\u306b\u5b9f\u88c5\n\n\n\u623b\u308a\u5024\u6709\u308a\n\u95a2\u6570\u5074\u306b\u5b9f\u88c5\n\u95a2\u6570\u5074\u306b\u5b9f\u88c5\n\n\n\n\n\u5b9f\u88c5\u65b9\u6cd5\n\n\u30a4\u30d9\u30f3\u30c8\u30b0\u30e9\u30d5\n\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0->C++\u3067\u66f8\u3044\u305f\u30a4\u30d9\u30f3\u30c8\u540d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u95a2\u6570\u5074\n\u81ea\u52d5\u7684\u306b\u30de\u30a4\u30d6\u30eb\u30fc\u30d7\u30ea\u30f3\u30c8\u306e\u6b04\u306b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304c\u8ffd\u52a0\u3055\u308c\u308b\u306e\u3067\u305d\u3061\u3089\u306b\u5b9f\u88c5\u3092\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\n\n\n\nC++\u3067\u306e\u4f7f\u3044\u65b9\n\n\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u884c\n\nUObject* Object;\n\nif (Object->GetClass()->ImplementsInterface(USampleCppInterface::StaticClass()))\n{\n    ISampleCppInterface::Execute_Sample(Object);\n}\n\n\n\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308bActor\u3059\u3079\u3066\u306b\u95a2\u6570\u3092\u5b9f\u884c\n\n\nTArray<AActor*> OutActors;\n\n// \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u53d6\u5f97\nUGameplayStatics::GetAllActorsWithInterface(this->GetWorld(), USampleCppInterface::StaticClass(), OutActors);\n\n// \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6301\u3063\u3066\u3044\u308b\u5bfe\u8c61\u3059\u3079\u3066\u306e\u5b9f\u884c\u3092\u884c\u3046\nfor (AActor* Actor : OutActors)\n{\n    ISampleCppInterface::Execute_Sample(Actor);\n}\n\n# C++\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n\n```cpp:SampleInterface.h\n// Fill out your copyright notice in the Description page of Project Settings.\n\n#pragma once\n\n#include \"SampleInterface.generated.h\"\n\n\nUINTERFACE(Blueprintable)\nclass USampleInterface : public UInterface\n{\n\tGENERATED_UINTERFACE_BODY()\n};\n\n\n/**\n * \u30b5\u30f3\u30d7\u30eb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\n */\nclass ISampleInterface {\n\n\tGENERATED_IINTERFACE_BODY()\n\npublic: // \u975econst\u7248\n\n\tUFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n\tvoid Sample();\n\tUFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n\tvoid SampleArg(int32 Value);\n\tUFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n\tint32 SampleResult();\n\tUFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n\tint32 SampleArgResult(int32 Value);\n\npublic: // const\u7248\n\tUFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n\tvoid SampleConst() const;\n\tUFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n\tvoid SampleArgConst(int32 Value) const;\n\tUFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n\tint32 SampleConstResult() const;\n\tUFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = \"Sample\")\n\tint32 SampleArgConstResult(int32 Value) const;\n\n};\n```\n\n# \u30d6\u30eb\u30fc\u30d7\u30ea\u30f3\u30c8\u5074\u306b\u5b9f\u88c5\n\n**\u30af\u30e9\u30b9\u306e\u8a73\u7d30**->**\u8a73\u7d30\u30d1\u30cd\u30eb**->\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/66029/fad3dfab-d6d5-731d-e2a0-de28a4384bf4.png)\n\n\n## \u3069\u3053\u306b\u5b9f\u88c5\u3059\u308b\u304b  \n\n| \u623b\u308a\u5024\\const |     \u975econst\u7248     |  const\u7248  |\n|:------------|:------------------|:----------|\n|  \u623b\u308a\u5024\u7121\u3057  | \u30a4\u30d9\u30f3\u30c8\u30b0\u30e9\u30d5\u306b\u5b9f\u88c5| \u95a2\u6570\u5074\u306b\u5b9f\u88c5 |\n|  \u623b\u308a\u5024\u6709\u308a  | \u95a2\u6570\u5074\u306b\u5b9f\u88c5 | \u95a2\u6570\u5074\u306b\u5b9f\u88c5 |\n\n## \u5b9f\u88c5\u65b9\u6cd5  \n\n* \u30a4\u30d9\u30f3\u30c8\u30b0\u30e9\u30d5  \n**\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0**->_**C++\u3067\u66f8\u3044\u305f\u30a4\u30d9\u30f3\u30c8\u540d**_\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/66029/8aa06f98-5238-0bde-685e-043dc9c7347a.png)\n\n* \u95a2\u6570\u5074\n\u81ea\u52d5\u7684\u306b\u30de\u30a4\u30d6\u30eb\u30fc\u30d7\u30ea\u30f3\u30c8\u306e\u6b04\u306b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304c\u8ffd\u52a0\u3055\u308c\u308b\u306e\u3067\u305d\u3061\u3089\u306b\u5b9f\u88c5\u3092\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\n![image](https://qiita-image-store.s3.amazonaws.com/0/66029/7c0bd8c4-dcc3-8614-e997-67b4a640cd00.png)\n\n## C++\u3067\u306e\u4f7f\u3044\u65b9\n\n* \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u884c\n\n```cpp\nUObject* Object;\n\nif (Object->GetClass()->ImplementsInterface(USampleCppInterface::StaticClass()))\n{\n\tISampleCppInterface::Execute_Sample(Object);\n}\n```\n\n* \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308bActor\u3059\u3079\u3066\u306b\u95a2\u6570\u3092\u5b9f\u884c  \n\n```cpp\nTArray<AActor*> OutActors;\n\n// \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u53d6\u5f97\nUGameplayStatics::GetAllActorsWithInterface(this->GetWorld(), USampleCppInterface::StaticClass(), OutActors);\n\n// \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6301\u3063\u3066\u3044\u308b\u5bfe\u8c61\u3059\u3079\u3066\u306e\u5b9f\u884c\u3092\u884c\u3046\nfor (AActor* Actor : OutActors)\n{\n\tISampleCppInterface::Execute_Sample(Actor);\n}\n```\n", "tags": ["UE4"]}