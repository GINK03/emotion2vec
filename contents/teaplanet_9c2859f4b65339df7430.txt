{"context": " More than 1 year has passed since last update.\u30b5\u30fc\u30d0\u30fc\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3068\u5bfe\u8a71\u578b\u306b\u306a\u308b\u3068\u3053\u308d\u304c\u3042\u308b\u3051\u3069\u3001\u305d\u308c\u3092\u6587\u7ae0\u5316\u3059\u308b\u306e\u3082\u9762\u5012\u3060\u3057\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b\u306e\u3082\u9762\u5012\u3060\u3057\u3001\u4f55\u3088\u308a\u3082\u81ea\u52d5\u5316\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u53ef\u80fd\u306a\u9650\u308a\u30b3\u30de\u30f3\u30c9\u3060\u3051\u3067\u8a2d\u5b9a\u3092\u5b8c\u4e86\u3057\u3066\u304a\u304d\u305f\u3044\u3002\n\n\u30b3\u30de\u30f3\u30c9\u3067\u5404\u7a2e\u8a2d\u5b9a\u3092\u3059\u308b\n\u74b0\u5883\u306f Ubuntu 14.04 \u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30a2\u30d7\u30ea\u306e\u90fd\u5408\u3067\u4eca\u56de\u306f\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u3044\u308b\u3002\n\n\u30db\u30b9\u30c8\u540d\n\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\u3068 hosts \u306e\u66f8\u304d\u63db\u3048\u3002\nexport HOSTNAME=example.jp\nhostname $HOSTNAME\nsed -i \"s/^\\(127\\.0\\.0\\.1.\\+localhost\\)/\\1 $HOSTNAME/\" /etc/hosts\n\n\n\u30a8\u30c7\u30a3\u30bf\n\u30c7\u30d5\u30a9\u30eb\u30c8\u30a8\u30c7\u30a3\u30bf\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3002\n\u30a8\u30c7\u30a3\u30bf\u306f nano \u3088\u308a\u3082 vim \u306e\u65b9\u304c\u597d\u307f\u3002\nsudo update-alternatives --set editor /usr/bin/vim.basic\n\n\u5bfe\u8a71\u5f62\u5f0f\u3067\u30a8\u30c7\u30a3\u30bf\u3092\u9078\u629e\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3046\u3059\u308b\u3002\nsudo update-alternatives --config editor\n\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\nsudo sh -c 'echo \"Asia/Tokyo\" > /etc/timezone'\nsudo dpkg-reconfigure -f noninteractive tzdata\n\n\u5bfe\u8a71\u5f62\u5f0f\u3067\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u9078\u629e\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3046\u3059\u308b\u3002\nsudo dpkg-reconfigure tzdata\n\n\nNTP\nsudo cp /etc/ntp.conf /etc/ntp.conf.org\nsudo sed -i \"s/^\\(server\\) \\(.*\\)/\\1 ntp.nict.jp/\" /etc/ntp.conf\n\n\nserver 1.time.constant.com\nserver 2.time.constant.com\nserver 3.time.constant.com\n\n\u4e0a\u8a18\u304c\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\nserver ntp.nict.jp\nserver ntp.nict.jp\nserver ntp.nict.jp\n\n\nMySQL\nexport MYSQLPW=INPUT_PASSWORD\necho \"mysql-server mysql-server/root_password password $MYSQLPW\" | sudo debconf-set-selections\necho \"mysql-server mysql-server/root_password_again password $MYSQLPW\" | sudo debconf-set-selections\nsudo apt-get -y install mysql-server\n\nsudo cp /etc/mysql/my.cnf /etc/mysql/my.cnf.org\nsudo sed -i \"/\\[mysqld\\]/i default-character-set=utf8\\n\" /etc/mysql/my.cnf\nsudo sed -i \"/\\[mysqldump\\]/i character-set-server=utf8\\n\" /etc/mysql/my.cnf\nsudo sed -i \"/\\[mysql\\]/i default-character-set=utf8\\n\" /etc/mysql/my.cnf\n\ndebconf-set-selections \u3092\u8a2d\u5b9a\u305b\u305a\u306b mysql \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u805e\u304b\u308c\u308b\u3002\n\nSupervisor\nSupervisor\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3082\u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3002\nSupervisor\u306b\u304b\u304e\u3089\u305a\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306b\u4f7f\u3048\u308b\u3002\nsudo\u306b\u30b3\u30de\u30f3\u30c9\u3092\u6e21\u3057\u305f\u3044\u3068\u304d\u306f sudo sh -c \"command\" \u3068\u3059\u308b\u3068\u30d1\u30a4\u30d7\u306a\u3069\u3082\u671f\u5f85\u901a\u308a\u306b\u4f7f\u3048\u308b\u3002\nsudo sh -c \"cat <<EOF > /etc/supervisor/conf.d/xvfb.conf\n[program:xvfb]\npriority=1\nuser=MYAPP\ncommand=Xvfb :1 -screen 0 800x600x24\nautostart=true\nautorestart=true\ndirectory=/opt/visionect\nstdout_logfile=/var/log/xvfb-stdout.log\nstderr_logfile=/var/log/xvfb-stderr.log\nEOF\"\n\nsudo supervisorctl reread\nsudo supervisorctl add xvfb\nsudo supervisorctl status\n\nSupervisor\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u8aad\u307f\u8fbc\u307e\u305b\u308b\u3053\u3068\u3092\u5fd8\u308c\u305a\u306b\u3002\n\u30b5\u30fc\u30d0\u30fc\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3068\u5bfe\u8a71\u578b\u306b\u306a\u308b\u3068\u3053\u308d\u304c\u3042\u308b\u3051\u3069\u3001\u305d\u308c\u3092\u6587\u7ae0\u5316\u3059\u308b\u306e\u3082\u9762\u5012\u3060\u3057\u3001\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3092\u64ae\u308b\u306e\u3082\u9762\u5012\u3060\u3057\u3001\u4f55\u3088\u308a\u3082\u81ea\u52d5\u5316\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u53ef\u80fd\u306a\u9650\u308a\u30b3\u30de\u30f3\u30c9\u3060\u3051\u3067\u8a2d\u5b9a\u3092\u5b8c\u4e86\u3057\u3066\u304a\u304d\u305f\u3044\u3002\n\n# \u30b3\u30de\u30f3\u30c9\u3067\u5404\u7a2e\u8a2d\u5b9a\u3092\u3059\u308b\n\u74b0\u5883\u306f `Ubuntu 14.04` \u3002  \n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u30a2\u30d7\u30ea\u306e\u90fd\u5408\u3067\u4eca\u56de\u306f\u3053\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u3044\u308b\u3002\n\n## \u30db\u30b9\u30c8\u540d\n\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\u3068 `hosts` \u306e\u66f8\u304d\u63db\u3048\u3002\n\n```bash\nexport HOSTNAME=example.jp\nhostname $HOSTNAME\nsed -i \"s/^\\(127\\.0\\.0\\.1.\\+localhost\\)/\\1 $HOSTNAME/\" /etc/hosts\n```\n\n## \u30a8\u30c7\u30a3\u30bf\n\u30c7\u30d5\u30a9\u30eb\u30c8\u30a8\u30c7\u30a3\u30bf\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3002  \n\u30a8\u30c7\u30a3\u30bf\u306f `nano` \u3088\u308a\u3082 `vim` \u306e\u65b9\u304c\u597d\u307f\u3002\n\n```bash\nsudo update-alternatives --set editor /usr/bin/vim.basic\n```\n\n\u5bfe\u8a71\u5f62\u5f0f\u3067\u30a8\u30c7\u30a3\u30bf\u3092\u9078\u629e\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3046\u3059\u308b\u3002\n\n```bash\nsudo update-alternatives --config editor\n```\n\n## \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\n\n```bash\nsudo sh -c 'echo \"Asia/Tokyo\" > /etc/timezone'\nsudo dpkg-reconfigure -f noninteractive tzdata\n```\n\n\u5bfe\u8a71\u5f62\u5f0f\u3067\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u9078\u629e\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3046\u3059\u308b\u3002\n\n```bash\nsudo dpkg-reconfigure tzdata\n```\n\n\n## NTP\n```bash\nsudo cp /etc/ntp.conf /etc/ntp.conf.org\nsudo sed -i \"s/^\\(server\\) \\(.*\\)/\\1 ntp.nict.jp/\" /etc/ntp.conf\n```\n\n> server 1.time.constant.com\n> server 2.time.constant.com\n> server 3.time.constant.com\n\n\u4e0a\u8a18\u304c\u6b21\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n> server ntp.nict.jp\n> server ntp.nict.jp\n> server ntp.nict.jp\n\n\n## MySQL\n```bash\nexport MYSQLPW=INPUT_PASSWORD\necho \"mysql-server mysql-server/root_password password $MYSQLPW\" | sudo debconf-set-selections\necho \"mysql-server mysql-server/root_password_again password $MYSQLPW\" | sudo debconf-set-selections\nsudo apt-get -y install mysql-server\n\nsudo cp /etc/mysql/my.cnf /etc/mysql/my.cnf.org\nsudo sed -i \"/\\[mysqld\\]/i default-character-set=utf8\\n\" /etc/mysql/my.cnf\nsudo sed -i \"/\\[mysqldump\\]/i character-set-server=utf8\\n\" /etc/mysql/my.cnf\nsudo sed -i \"/\\[mysql\\]/i default-character-set=utf8\\n\" /etc/mysql/my.cnf\n```\n\n`debconf-set-selections` \u3092\u8a2d\u5b9a\u305b\u305a\u306b `mysql` \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068root\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u805e\u304b\u308c\u308b\u3002\n\n## Supervisor\nSupervisor\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3082\u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3002  \nSupervisor\u306b\u304b\u304e\u3089\u305a\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u306b\u4f7f\u3048\u308b\u3002  \nsudo\u306b\u30b3\u30de\u30f3\u30c9\u3092\u6e21\u3057\u305f\u3044\u3068\u304d\u306f `sudo sh -c \"command\"` \u3068\u3059\u308b\u3068\u30d1\u30a4\u30d7\u306a\u3069\u3082\u671f\u5f85\u901a\u308a\u306b\u4f7f\u3048\u308b\u3002\n\n```bash\nsudo sh -c \"cat <<EOF > /etc/supervisor/conf.d/xvfb.conf\n[program:xvfb]\npriority=1\nuser=MYAPP\ncommand=Xvfb :1 -screen 0 800x600x24\nautostart=true\nautorestart=true\ndirectory=/opt/visionect\nstdout_logfile=/var/log/xvfb-stdout.log\nstderr_logfile=/var/log/xvfb-stderr.log\nEOF\"\n\nsudo supervisorctl reread\nsudo supervisorctl add xvfb\nsudo supervisorctl status\n```\n\nSupervisor\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u8aad\u307f\u8fbc\u307e\u305b\u308b\u3053\u3068\u3092\u5fd8\u308c\u305a\u306b\u3002\n", "tags": ["Ubuntu", "Ubuntu14.04", "shell"]}