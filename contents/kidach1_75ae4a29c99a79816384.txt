{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0Ruby\u52c9\u5f37\u9332\u3002\n\u524d\u56de\u306f\n[Ruby] \u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u5165\u308a\u53e3\u3001\u30aa\u30fc\u30d7\u30f3\u30af\u30e9\u30b9\u3092\u7406\u89e3\u3059\u308b\nhttp://qiita.com/kidachi_/items/b1672f1c16e2d15f2d9c\n\u4eca\u56de\u306e\u30c8\u30d4\u30c3\u30af\u306f\u300cRuby\u3089\u3057\u3044\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u300d\u306b\u6b20\u304b\u305b\u306a\u3044\u3001method_missing()\u3067\u3059\u3002\n\nmethod_missing()\u3068\u306f\n\u4f55\u306b\u5f79\u7acb\u3064\u304b\n\u5371\u967a\u6027\u3068\u5bfe\u7b56\n\n\nmethod_missing()\u3068\u306f\n\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u969b\u3001\u7d99\u627f\u30c1\u30a7\u30fc\u30f3\uff08\u203b\uff09\u3092\u8fbf\u3063\u305f\u672b\u306b\u547c\u3073\u51fa\u3057\u30e1\u30bd\u30c3\u30c9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u6642\u3001\n\u6700\u7d42\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u3002\n\u203b\u7d99\u627f\u30c1\u30a7\u30fc\u30f3\u306fModule#ancestors\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nhttp://ref.xaio.jp/ruby/classes/module/ancestors\nclass Ruby\nend\n\nr = Ruby.new\nr.hello\n=> NoMethodError: undefined method `hello' for #<Ruby:0x007fe4bb9ac7a0>\n\n\u5168\u3066\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7d99\u627f\u5143\u3067\u3042\u308bBasicObject\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\n\u3042\u3089\u3086\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u306e\u547c\u3073\u51fa\u3057\u306b\u5bfe\u5fdc\u3067\u304d\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001\u3042\u304f\u307e\u3067\u3053\u3044\u3064\u3082\u30e1\u30bd\u30c3\u30c9\u306a\u306e\u3067\u3001\u660e\u793a\u7684\u306b\u547c\u3073\u51fa\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\nr.send :method_missing, :hello\n=> NoMethodError: undefined method `hello' for #<Ruby:0x007fe4bb9ac7a0>\n\n\u203bObject#send\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3002\nRuby send \u30e1\u30bd\u30c3\u30c9\nhttp://blog.livedoor.jp/badrequest400/archives/2350825.html\nmethod_missing()\u81ea\u4f53\u306f\u3053\u308c\u3060\u3051\u3067\u3059\u304c\u3001\n\u3053\u3053\u3067\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30de\u306f\u8003\u3048\u307e\u3059\u3002\n\u300c\u9006\u306b\u8a00\u3048\u3070\u3001method_missing()\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3046\u307e\u304f\u62fe\u3044\u4e0a\u3052\u308b\u3053\u3068\u3067\u3001\n\u672a\u5b9a\u7fa9\u30e1\u30bd\u30c3\u30c9\u306b\u5bfe\u3057\u3066\u3082\u597d\u304d\u306a\u51e6\u7406\u3092\u52a0\u3048\u3089\u308c\u308b\u3063\u3066\u3053\u3068\u3060\u3088\u306d\u3002\u300d\nclass Ruby\n  def method_missing(method, *args)\n    # \u597d\u304d\u306a\u51e6\u7406\n    puts \"#{method}\u304c\u547c\u3070\u308c\u307e\u3057\u305f\u3002\"\n  end\nend\nr = Ruby.new\nr.hello\n=> 'hello\u304c\u547c\u3070\u308c\u307e\u3057\u305f\u3002'\n\n\u3053\u3046\u3044\u3046\u3053\u3068\u3067\u3059\u306d\u3002\n'NoMethodError'\u3068\u3044\u3046\u3001\uff08\u666e\u901a\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u3044\u308b\u9650\u308a\uff09\u7d76\u5bfe\u306e\u6cd5\u5247\u3092\n\u306d\u3058\u66f2\u3052\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\n\u4f55\u306b\u5f79\u7acb\u3064\u304b\n\u4f8b\u3048\u3070\u3001\u5916\u90e8API\u306b\u4f9d\u5b58\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\n\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u3001\u4eee\u306bqiita\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u53d6\u5f97\u3067\u304d\u308bAPI\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3057\u3087\u3046\u3002\n\uff08\u9069\u5f53\u3067\u3059&\u5b9f\u5728\u3057\u307e\u305b\u3093\u306e\u3067\u3042\u3057\u304b\u3089\u305a\uff09\nhttps://qiita_api.example.com/services/rest/?method=qiita.user.findByName&user_name=kidachi_&api_key=API_KEY\n=> \n{\n    \"result\": {\n        \"user\": {\n            \"id\": 8790,\n            \"name\": \"kidachi_\",\n            \"profile_image_url\": \"http://img.example.com/kidachi_.png\"\n        }\n    }\n}\n\n\u305d\u3057\u3066\u3001\u3053\u308c\u3092Ruby\u3067\u624b\u8efd\u306b\u6271\u3048\u308b\u3088\u3046\u306b\u30b5\u30dd\u30fc\u30c8\u3059\u308bgem\uff08\u30e9\u30a4\u30d6\u30e9\u30ea\uff09\u304c\u3042\u308b\u3068\u3057\u307e\u3059\u3002\n\u305d\u306e\u540d\u3082rubiita\uff08\u540c\u3058\u304f\u5b9f\u5728\u3057\u307e\u305b\u3093\u3002\u30cd\u30fc\u30df\u30f3\u30b0x\uff09\u3002\nrequire 'rubiita'\n\nqiita = Rubiita.new(API_KEY)\nkidachi_ = qiita.user_findByName(user_name: \"kidachi_\")\nkidachi_.result.user.profile_image_url\n=> \"http://img.example.com/kidachi_.png\"\n\nqiita_users = qiita.user_findAll\nqiita_users.result.users\n=>\n[\n    {\n      \"id\": 1,\n      \"name\": \"foo\",\n      \"profile_image_url\": \"http://img.example.com/foo.png\"\n    },\n    {\n      \"id\": 2,\n      \"name\": \"bar\",\n      \"profile_image_url\": \"http://img.example.com/bar.png\"\n    }   \n]\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u306d\u3002\nAPI\u4e0a\u3067\u306e\n?method=qiita.user.findByName&user_name=kidachi_\u300d\n\n\u3068\u3044\u3046\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\nqiita.user_findByName(user_name: \"kidachi_\")\n\n\u3068Ruby\u30e9\u30a4\u30af\u306a\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u6271\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3055\u3066\u3001\u3082\u3057\u304b\u3059\u308b\u3068\u3053\u3053\u3067\u7591\u554f\u304c\u51fa\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u300c\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3001qiita\u306eAPI\u304c\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u3066\n\u4f7f\u3048\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u8ffd\u52a0\u30fb\u4fee\u6b63\u3055\u308c\u308b\u5ea6\u306b\u3042\u308f\u305b\u3066\u66f4\u65b0\u3057\u306a\u3044\u3068\n\u3044\u3051\u306a\u3044\u3088\u306d\uff1f\u3081\u3093\u3069\u304f\u3055\u3044\u306d\u300d\u3068\u3002\n\n\u5b9f\u306f\u3001\u305d\u306e\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\nrubiita\u306e\u5b9f\u88c5\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nclass Rubiita\n  require 'net/http'\n  require 'uri'\n  require 'json'\n\n  END_POINT = 'https://qiita_api.example.com/services/rest/'\n  API_KEY = 'hoge'\n\n  def request(method, params)\n    json = Net::HTTP.get(get_uri(method, params))\n    result = JSON.parse(json)\n    puts result\n  end\n\n  def method_missing(method, *params)\n    request(method.gsub(/_/, '.'), params)\n  end\n\n  private\n  def get_uri(method, params)\n    formatted_params = params.map do |arg|\n      param.map do |key, val|\n        key.to_s+\"=\"+val.to_s\n      end\n    end\n    formatted_params = formatted_params.join(\"&\")\n    method = \"?method=\"+method+\"&\"\n    request_uri = END_POINT+method+formatted_params+API_KEY\n  end\n\nend\n\nrequest()\u306fAPI\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u98db\u3070\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3042\u307e\u308a\u5927\u4e8b\u3067\u306f\u306a\u3044\u3067\u3059\u3002\n\u30dd\u30a4\u30f3\u30c8\u306fmethod_missing()\u3068get_uri()\u3067\u3059\u306d\u3002\nmethod_missing()\u306b\u3088\u308a\u3001\nrubiita\u304b\u3089\u53d7\u3051\u53d6\u3063\u305f\u30e1\u30bd\u30c3\u30c9\u540d\u306e\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\u3092\u30c9\u30c3\u30c8\u306b\u7f6e\u63db\u3057\u3001\n\u30d1\u30e9\u30e1\u30fc\u30bf\u7fa4\u306fget_uri()\u306b\u9001\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066get_uri()\u3067GET\u5f62\u5f0f\u306eAPI\u306b\u9069\u3057\u305fURI\u3092\u52d5\u7684\u306b\u751f\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306b\u3088\u308a\u3001qiitaAPI\u306e\u30e1\u30bd\u30c3\u30c9\u304c\n?method=qiita.user.findByName&user_name=kidachi_\n?method=qiita.user.findAll\n?method=qiita.user.newMethodFugaFuga&foo=bar\n\n\u3053\u3046\u3044\u3063\u305f\u3069\u306e\u3088\u3046\u306a\u30d1\u30bf\u30fc\u30f3\u3067\u3042\u3063\u3066\u3082\u3001\nrubiita\u30e6\u30fc\u30b6\u306b\nqiita.SEGMENT.METHOD_NAME(PARAMS)\n\n\u3068\u3044\u3046\u30eb\u30fc\u30eb\u306b\u5247\u3063\u3066\u3082\u3089\u3044\u3055\u3048\u3059\u308c\u3070\u3001\nqiita.user_findByName(user_name: \"kidachi_\")\nqiita.user_findAll\nqiita.new_methodFugaFuga(foo: bar)\n\n\u5168\u3066\u304c\u9069\u5207\u306a\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002\n\u5c06\u6765\u3001\u4eca\u306f\u5b58\u5728\u3057\u306a\u3044\u65b0\u3057\u3044\u30e1\u30bd\u30c3\u30c9\u304c\u63d0\u4f9b\u3055\u308c\u3088\u3046\u3068\u3001\n\u5168\u3066\u5438\u53ce\u3067\u304d\u3066\u3057\u307e\u3046\u306e\u3067\u3059\u3002\n\u4fbf\u5229\u3067\u3059\u306d\uff01\n\n\u30b4\u30fc\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\n\u4e0a\u8a18\u4f8b\u306e\u3088\u3046\u306a\u3001\u672a\u5b9a\u7fa9\u3060\u304cmethod_missing()\u3067\u62fe\u3046\u3053\u3068\u3092\u524d\u63d0\n\u3068\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u30b4\u30fc\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\u3068\u547c\u3073\u307e\u3059\u3002\n\nmethod_missing()\u3067\u9665\u308a\u3084\u3059\u3044\u30d0\u30b0\n\u6700\u5f8c\u306b\u3001method_missing()\u306e\u5371\u967a\u6027\u3082\u898b\u3066\u304a\u304d\u307e\u3059\u3002\n\u203b\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0Ruby\u306e\u4f8b\u305d\u306e\u307e\u307e\u3067\u3059\u304c\u3002\n\u305c\u3072\u4e00\u5ea6\u3069\u3053\u306b\u554f\u984c\u304c\u6f5c\u3093\u3067\u3044\u308b\u304b\u8003\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\nclass Roulette\n  def method_missing(name, *args)\n    person = name.to_s.capitalize\n    3.times do\n      number = rand(10) + 1\n      puts \"#{number}...\"\n    end\n    \"#{person} got a #{number}\"\n  end\nend\n\nnumber_of = Roulette.new\nputs number_of.bob\nputs number_of.frank\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3001Roulette\u306e\u540d\u524d\u901a\u308a\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\n\u4eba\u7269\u3054\u3068\u306b\u30e9\u30f3\u30c0\u30e0\u5024\u304c\u5f97\u3089\u308c\u308b\u7d50\u679c\u3092\u671f\u5f85\u3057\u3066\u3044\u307e\u3059\u3002\n5\u2026\n6\u2026\n10\u2026\nBob got a 10\n7\u2026\n4\u2026\n3\u2026\nFrank got a 3\n\n\u3067\u3059\u304c\u3001\u5b9f\u969b\u306b\u306f\n9...\n3...\n5...\n7...\n\u2026\n\u2026\nSystemStackError: stack level too deep from..\n\n\u3053\u306e\u3088\u3046\u306b\u7121\u9650\u30eb\u30fc\u30d7\u306e\u5f8cStackOverFlow\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3059\u3002\n\u539f\u56e0\u306f\u3001\u30d6\u30ed\u30c3\u30af\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u3067\u3042\u308bnumber\u3067\u3059\u3002\n\n\u30d6\u30ed\u30c3\u30af\u5185\u3067\u5b9a\u7fa9\u3057\u305f\u30d6\u30ed\u30c3\u30af\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u306f\u5916\u90e8\u304b\u3089\u53c2\u7167\u3067\u304d\u306a\u3044\n\u305d\u306e\u305f\u3081\u3001\u300c\"#{person} got a #{number}\"\u300d\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\nRuby\u306f\u305d\u308c\uff08number\uff09\u3092\u300c\u30e1\u30bd\u30c3\u30c9\u300d\u3060\u3068\u8a8d\u8b58\u3057\u3001\u63a2\u3057\u306b\u3044\u304f\n\u3057\u304b\u3057\u7d99\u627f\u30c1\u30a7\u30fc\u30f3\u5185\u306b\u898b\u3064\u304b\u3089\u306a\u3044\u305f\u3081method_missing()\u304c\u547c\u3070\u308c\u308b\n\u3060\u304c\u3001\u305d\u3082\u305d\u3082\u4eca\u56de\u306e\u554f\u984c\u306f\uff08\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u305f\uff09method_missing()\u81ea\u4f53\u3067\u8d77\u304d\u3066\u3044\u308b\n\u3088\u3063\u3066\u30d0\u30b0\u306f\u7121\u9650\u30eb\u30fc\u30d7\u3057\u7d9a\u3051\u308b\n\n\u3053\u306e\u554f\u984c\u3001\u4e88\u671f\u3067\u304d\u307e\u3057\u305f\u3067\u3057\u3087\u3046\u304b\uff1f\n\nmethod_missing\u306b\u30d0\u30b0\u304c\u6f5c\u3093\u3067\u3044\u308b\u3068\u3001\u7279\u5b9a\u3057\u3065\u3089\u3044\uff08\u554f\u984c\u306b\u767a\u5c55\u3057\u3084\u3059\u3044\uff09\n\u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5bfe\u7b56\n\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u304c\u3001\n\n\u5fc5\u8981\u306e\u306a\u3044\u30b4\u30fc\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\u306f\u5c0e\u5165\u3057\u306a\u3044\n\u3053\u3068\u3002\n\u3064\u307e\u308a\u3001\u4e8b\u524d\u306b\u4e88\u671f\u3055\u308c\u308b\u30b4\u30fc\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\uff08\u306e\u540d\u524d\uff09\u4ee5\u5916\u306f\u53d7\u3051\u4ed8\u3051\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u306d\u3002\n\n\u5bfe\u7b56\u4f8b\nclass Roulette\n  def method_missing(name, *args)\n    person = name.to_s.capitalize\n    # \u60f3\u5b9a\u3055\u308c\u308b3\u540d\u4ee5\u5916\u306f\u901a\u5e38\u901a\u308a\u306emethod_missing\uff08super\uff09\u3092\u547c\u3073\u51fa\u3059\n    super unless %w[Bob Frank Bill].include? person    \n    # number\u3092\u30d6\u30ed\u30c3\u30af\u5916\u304b\u3089\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u4e8b\u524d\u306b\u30bb\u30c3\u30c8\u3002\n    number = 0\n    3.times do\n      number = rand(10) + 1\n      puts \"#{number}...\"\n    end\n    \"#{person} got a #{number}\"\n  end\nend\n\nnumber_of = Roulette.new\n\n# \u53d7\u3051\u4ed8\u3051\u3089\u308c\u306a\u3044\nputs number_of.hogehoge\n=> NoMethodError: undefined method `hogehoge' for #<Roulette:0x007fe4bb9ac7a0>\n\nputs number_of.bob\n=> 3...\n   5...\n   5...\n   Bob got a 5\n\n\n\u7d50\u8ad6\n\u30aa\u30fc\u30d7\u30f3\u30af\u30e9\u30b9\u306e\u30a8\u30f3\u30c8\u30ea\u306e\u7d50\u8ad6\u3068\u4e00\u7dd2\u3067\u3059\uff01\nhttp://qiita.com/kidachi_/items/b1672f1c16e2d15f2d9c#ps1\n\n\n## \u6982\u8981\n\n[\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0Ruby](http://www.amazon.co.jp/gp/product/4048687158/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4048687158&linkCode=as2&tag=kidachi-22)\u52c9\u5f37\u9332\u3002\n\n\u524d\u56de\u306f\n[Ruby] \u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u5165\u308a\u53e3\u3001\u30aa\u30fc\u30d7\u30f3\u30af\u30e9\u30b9\u3092\u7406\u89e3\u3059\u308b\nhttp://qiita.com/kidachi_/items/b1672f1c16e2d15f2d9c\n\n\n\u4eca\u56de\u306e\u30c8\u30d4\u30c3\u30af\u306f\u300cRuby\u3089\u3057\u3044\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u300d\u306b\u6b20\u304b\u305b\u306a\u3044\u3001method_missing()\u3067\u3059\u3002\n\n- method_missing()\u3068\u306f\n- \u4f55\u306b\u5f79\u7acb\u3064\u304b\n- \u5371\u967a\u6027\u3068\u5bfe\u7b56\n\n\n## method_missing()\u3068\u306f\n\n\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u969b\u3001\u7d99\u627f\u30c1\u30a7\u30fc\u30f3\uff08\u203b\uff09\u3092\u8fbf\u3063\u305f\u672b\u306b\u547c\u3073\u51fa\u3057\u30e1\u30bd\u30c3\u30c9\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u6642\u3001\n\u6700\u7d42\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u3002\n\n\u203b\u7d99\u627f\u30c1\u30a7\u30fc\u30f3\u306fModule#ancestors\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nhttp://ref.xaio.jp/ruby/classes/module/ancestors\n\n\n```ruby\nclass Ruby\nend\n\nr = Ruby.new\nr.hello\n=> NoMethodError: undefined method `hello' for #<Ruby:0x007fe4bb9ac7a0>\n```\n\n\u5168\u3066\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u7d99\u627f\u5143\u3067\u3042\u308bBasicObject\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\n\u3042\u3089\u3086\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u306e\u547c\u3073\u51fa\u3057\u306b\u5bfe\u5fdc\u3067\u304d\u307e\u3059\u3002\n\n\n\u305d\u3057\u3066\u3001\u3042\u304f\u307e\u3067\u3053\u3044\u3064\u3082<strong>\u30e1\u30bd\u30c3\u30c9</strong>\u306a\u306e\u3067\u3001\u660e\u793a\u7684\u306b\u547c\u3073\u51fa\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n```ruby\nr.send :method_missing, :hello\n=> NoMethodError: undefined method `hello' for #<Ruby:0x007fe4bb9ac7a0>\n```\n\n\u203bObject#send\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3002\nRuby send \u30e1\u30bd\u30c3\u30c9\nhttp://blog.livedoor.jp/badrequest400/archives/2350825.html\n\nmethod_missing()\u81ea\u4f53\u306f\u3053\u308c\u3060\u3051\u3067\u3059\u304c\u3001\n\u3053\u3053\u3067\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30de\u306f\u8003\u3048\u307e\u3059\u3002\n\n\u300c\u9006\u306b\u8a00\u3048\u3070\u3001method_missing()\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u3046\u307e\u304f\u62fe\u3044\u4e0a\u3052\u308b\u3053\u3068\u3067\u3001\n<strong>\u672a\u5b9a\u7fa9\u30e1\u30bd\u30c3\u30c9\u306b\u5bfe\u3057\u3066\u3082\u597d\u304d\u306a\u51e6\u7406\u3092\u52a0\u3048\u3089\u308c\u308b</strong>\u3063\u3066\u3053\u3068\u3060\u3088\u306d\u3002\u300d\n\n```ruby\nclass Ruby\n  def method_missing(method, *args)\n    # \u597d\u304d\u306a\u51e6\u7406\n    puts \"#{method}\u304c\u547c\u3070\u308c\u307e\u3057\u305f\u3002\"\n  end\nend\nr = Ruby.new\nr.hello\n=> 'hello\u304c\u547c\u3070\u308c\u307e\u3057\u305f\u3002'\n```\n\n\u3053\u3046\u3044\u3046\u3053\u3068\u3067\u3059\u306d\u3002\n'NoMethodError'\u3068\u3044\u3046\u3001\uff08\u666e\u901a\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u3044\u308b\u9650\u308a\uff09\u7d76\u5bfe\u306e\u6cd5\u5247\u3092\n\u306d\u3058\u66f2\u3052\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\n\n## \u4f55\u306b\u5f79\u7acb\u3064\u304b\n\n\u4f8b\u3048\u3070\u3001\u5916\u90e8API\u306b\u4f9d\u5b58\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u3001\u4eee\u306bqiita\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u53d6\u5f97\u3067\u304d\u308bAPI\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3057\u3087\u3046\u3002\n\uff08\u9069\u5f53\u3067\u3059&\u5b9f\u5728\u3057\u307e\u305b\u3093\u306e\u3067\u3042\u3057\u304b\u3089\u305a\uff09\n\n```ruby\nhttps://qiita_api.example.com/services/rest/?method=qiita.user.findByName&user_name=kidachi_&api_key=API_KEY\n=> \n{\n\t\"result\": {\n\t\t\"user\": {\n\t\t\t\"id\": 8790,\n\t\t\t\"name\": \"kidachi_\",\n\t\t\t\"profile_image_url\": \"http://img.example.com/kidachi_.png\"\n\t\t}\n\t}\n}\n```\n\n\n\u305d\u3057\u3066\u3001\u3053\u308c\u3092Ruby\u3067\u624b\u8efd\u306b\u6271\u3048\u308b\u3088\u3046\u306b\u30b5\u30dd\u30fc\u30c8\u3059\u308bgem\uff08\u30e9\u30a4\u30d6\u30e9\u30ea\uff09\u304c\u3042\u308b\u3068\u3057\u307e\u3059\u3002\n\u305d\u306e\u540d\u3082rubiita\uff08\u540c\u3058\u304f\u5b9f\u5728\u3057\u307e\u305b\u3093\u3002\u30cd\u30fc\u30df\u30f3\u30b0x\uff09\u3002\n\n```ruby\nrequire 'rubiita'\n\nqiita = Rubiita.new(API_KEY)\nkidachi_ = qiita.user_findByName(user_name: \"kidachi_\")\nkidachi_.result.user.profile_image_url\n=> \"http://img.example.com/kidachi_.png\"\n\nqiita_users = qiita.user_findAll\nqiita_users.result.users\n=>\n[\n    {\n      \"id\": 1,\n      \"name\": \"foo\",\n      \"profile_image_url\": \"http://img.example.com/foo.png\"\n    },\n    {\n      \"id\": 2,\n      \"name\": \"bar\",\n      \"profile_image_url\": \"http://img.example.com/bar.png\"\n    }\t\n]\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u306d\u3002\nAPI\u4e0a\u3067\u306e\n\n```sh\n?method=qiita.user.findByName&user_name=kidachi_\u300d\n```\n\n\u3068\u3044\u3046\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\n\n```ruby\nqiita.user_findByName(user_name: \"kidachi_\")\n```\n\n\u3068Ruby\u30e9\u30a4\u30af\u306a\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u6271\u3048\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3055\u3066\u3001\u3082\u3057\u304b\u3059\u308b\u3068\u3053\u3053\u3067\u7591\u554f\u304c\u51fa\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n\n\u300c\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3001qiita\u306eAPI\u304c\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u3066\n\u4f7f\u3048\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u8ffd\u52a0\u30fb\u4fee\u6b63\u3055\u308c\u308b\u5ea6\u306b\u3042\u308f\u305b\u3066\u66f4\u65b0\u3057\u306a\u3044\u3068\n\u3044\u3051\u306a\u3044\u3088\u306d\uff1f\u3081\u3093\u3069\u304f\u3055\u3044\u306d\u300d\u3068\u3002\n\n##### \u5b9f\u306f\u3001\u305d\u306e\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\nrubiita\u306e\u5b9f\u88c5\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```ruby\nclass Rubiita\n  require 'net/http'\n  require 'uri'\n  require 'json'\n\n  END_POINT = 'https://qiita_api.example.com/services/rest/'\n  API_KEY = 'hoge'\n\n  def request(method, params)\n    json = Net::HTTP.get(get_uri(method, params))\n    result = JSON.parse(json)\n    puts result\n  end\n\n  def method_missing(method, *params)\n    request(method.gsub(/_/, '.'), params)\n  end\n\n  private\n  def get_uri(method, params)\n    formatted_params = params.map do |arg|\n      param.map do |key, val|\n        key.to_s+\"=\"+val.to_s\n      end\n    end\n    formatted_params = formatted_params.join(\"&\")\n    method = \"?method=\"+method+\"&\"\n    request_uri = END_POINT+method+formatted_params+API_KEY\n  end\n\nend\n```\n\nrequest()\u306fAPI\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u98db\u3070\u3057\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3042\u307e\u308a\u5927\u4e8b\u3067\u306f\u306a\u3044\u3067\u3059\u3002\n\u30dd\u30a4\u30f3\u30c8\u306fmethod_missing()\u3068get_uri()\u3067\u3059\u306d\u3002\n\nmethod_missing()\u306b\u3088\u308a\u3001\nrubiita\u304b\u3089\u53d7\u3051\u53d6\u3063\u305f\u30e1\u30bd\u30c3\u30c9\u540d\u306e\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\u3092\u30c9\u30c3\u30c8\u306b\u7f6e\u63db\u3057\u3001\n\u30d1\u30e9\u30e1\u30fc\u30bf\u7fa4\u306fget_uri()\u306b\u9001\u308a\u307e\u3059\u3002\n\u305d\u3057\u3066get_uri()\u3067GET\u5f62\u5f0f\u306eAPI\u306b\u9069\u3057\u305fURI\u3092\u52d5\u7684\u306b\u751f\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u308c\u306b\u3088\u308a\u3001qiitaAPI\u306e\u30e1\u30bd\u30c3\u30c9\u304c\n\n```sh\n?method=qiita.user.findByName&user_name=kidachi_\n?method=qiita.user.findAll\n?method=qiita.user.newMethodFugaFuga&foo=bar\n```\n\n\u3053\u3046\u3044\u3063\u305f\u3069\u306e\u3088\u3046\u306a\u30d1\u30bf\u30fc\u30f3\u3067\u3042\u3063\u3066\u3082\u3001\nrubiita\u30e6\u30fc\u30b6\u306b\n\n```ruby\nqiita.SEGMENT.METHOD_NAME(PARAMS)\n```\n\n\u3068\u3044\u3046\u30eb\u30fc\u30eb\u306b\u5247\u3063\u3066\u3082\u3089\u3044\u3055\u3048\u3059\u308c\u3070\u3001\n\n```ruby\nqiita.user_findByName(user_name: \"kidachi_\")\nqiita.user_findAll\nqiita.new_methodFugaFuga(foo: bar)\n```\n\n\u5168\u3066\u304c\u9069\u5207\u306a\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002\n\n\u5c06\u6765\u3001\u4eca\u306f\u5b58\u5728\u3057\u306a\u3044\u65b0\u3057\u3044\u30e1\u30bd\u30c3\u30c9\u304c\u63d0\u4f9b\u3055\u308c\u3088\u3046\u3068\u3001\n\u5168\u3066\u5438\u53ce\u3067\u304d\u3066\u3057\u307e\u3046\u306e\u3067\u3059\u3002\n\n\u4fbf\u5229\u3067\u3059\u306d\uff01\n\n\n### \u30b4\u30fc\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\n\n\u4e0a\u8a18\u4f8b\u306e\u3088\u3046\u306a\u3001<strong>\u672a\u5b9a\u7fa9\u3060\u304cmethod_missing()\u3067\u62fe\u3046\u3053\u3068\u3092\u524d\u63d0</strong>\n\u3068\u3057\u305f\u30e1\u30bd\u30c3\u30c9\u3092<strong>\u30b4\u30fc\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9</strong>\u3068\u547c\u3073\u307e\u3059\u3002\n\n\n## method_missing()\u3067\u9665\u308a\u3084\u3059\u3044\u30d0\u30b0\n\n\u6700\u5f8c\u306b\u3001method_missing()\u306e\u5371\u967a\u6027\u3082\u898b\u3066\u304a\u304d\u307e\u3059\u3002\n\u203b\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0Ruby\u306e\u4f8b\u305d\u306e\u307e\u307e\u3067\u3059\u304c\u3002\n\n\u305c\u3072\u4e00\u5ea6\u3069\u3053\u306b\u554f\u984c\u304c\u6f5c\u3093\u3067\u3044\u308b\u304b\u8003\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n```ruby\nclass Roulette\n  def method_missing(name, *args)\n    person = name.to_s.capitalize\n    3.times do\n      number = rand(10) + 1\n      puts \"#{number}...\"\n    end\n    \"#{person} got a #{number}\"\n  end\nend\n\nnumber_of = Roulette.new\nputs number_of.bob\nputs number_of.frank\n```\n\n\u3053\u306e\u30b3\u30fc\u30c9\u3001Roulette\u306e\u540d\u524d\u901a\u308a\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\n\u4eba\u7269\u3054\u3068\u306b\u30e9\u30f3\u30c0\u30e0\u5024\u304c\u5f97\u3089\u308c\u308b\u7d50\u679c\u3092\u671f\u5f85\u3057\u3066\u3044\u307e\u3059\u3002\n\n```ruby\n5\u2026\n6\u2026\n10\u2026\nBob got a 10\n7\u2026\n4\u2026\n3\u2026\nFrank got a 3\n```\n\n\u3067\u3059\u304c\u3001\u5b9f\u969b\u306b\u306f\n\n```ruby\n9...\n3...\n5...\n7...\n\u2026\n\u2026\nSystemStackError: stack level too deep from..\n```\n\n\u3053\u306e\u3088\u3046\u306b\u7121\u9650\u30eb\u30fc\u30d7\u306e\u5f8cStackOverFlow\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3059\u3002\n\n\u539f\u56e0\u306f\u3001\u30d6\u30ed\u30c3\u30af\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u3067\u3042\u308bnumber\u3067\u3059\u3002\n\n- \u30d6\u30ed\u30c3\u30af\u5185\u3067\u5b9a\u7fa9\u3057\u305f\u30d6\u30ed\u30c3\u30af\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u306f\u5916\u90e8\u304b\u3089\u53c2\u7167\u3067\u304d\u306a\u3044\n- \u305d\u306e\u305f\u3081\u3001\u300c\"#{person} got a #{number}\"\u300d\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\nRuby\u306f\u305d\u308c\uff08number\uff09\u3092\u300c\u30e1\u30bd\u30c3\u30c9\u300d\u3060\u3068\u8a8d\u8b58\u3057\u3001\u63a2\u3057\u306b\u3044\u304f\n- \u3057\u304b\u3057\u7d99\u627f\u30c1\u30a7\u30fc\u30f3\u5185\u306b\u898b\u3064\u304b\u3089\u306a\u3044\u305f\u3081method_missing()\u304c\u547c\u3070\u308c\u308b\n- \u3060\u304c\u3001\u305d\u3082\u305d\u3082\u4eca\u56de\u306e\u554f\u984c\u306f\uff08\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u305f\uff09method_missing()\u81ea\u4f53\u3067\u8d77\u304d\u3066\u3044\u308b\n- \u3088\u3063\u3066\u30d0\u30b0\u306f\u7121\u9650\u30eb\u30fc\u30d7\u3057\u7d9a\u3051\u308b\n\n\n\u3053\u306e\u554f\u984c\u3001\u4e88\u671f\u3067\u304d\u307e\u3057\u305f\u3067\u3057\u3087\u3046\u304b\uff1f\n\n#### method_missing\u306b\u30d0\u30b0\u304c\u6f5c\u3093\u3067\u3044\u308b\u3068\u3001\u7279\u5b9a\u3057\u3065\u3089\u3044\uff08\u554f\u984c\u306b\u767a\u5c55\u3057\u3084\u3059\u3044\uff09\n\n\u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n### \u5bfe\u7b56\n\n\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u304c\u3001\n##### \u5fc5\u8981\u306e\u306a\u3044\u30b4\u30fc\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\u306f\u5c0e\u5165\u3057\u306a\u3044\n\n\u3053\u3068\u3002\n\n\u3064\u307e\u308a\u3001\u4e8b\u524d\u306b\u4e88\u671f\u3055\u308c\u308b\u30b4\u30fc\u30b9\u30c8\u30e1\u30bd\u30c3\u30c9\uff08\u306e\u540d\u524d\uff09\u4ee5\u5916\u306f\u53d7\u3051\u4ed8\u3051\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3001\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u306d\u3002\n\n##### \u5bfe\u7b56\u4f8b\n\n```ruby\nclass Roulette\n  def method_missing(name, *args)\n    person = name.to_s.capitalize\n    # \u60f3\u5b9a\u3055\u308c\u308b3\u540d\u4ee5\u5916\u306f\u901a\u5e38\u901a\u308a\u306emethod_missing\uff08super\uff09\u3092\u547c\u3073\u51fa\u3059\n    super unless %w[Bob Frank Bill].include? person    \n    # number\u3092\u30d6\u30ed\u30c3\u30af\u5916\u304b\u3089\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u4e8b\u524d\u306b\u30bb\u30c3\u30c8\u3002\n    number = 0\n    3.times do\n      number = rand(10) + 1\n      puts \"#{number}...\"\n    end\n    \"#{person} got a #{number}\"\n  end\nend\n\nnumber_of = Roulette.new\n\n# \u53d7\u3051\u4ed8\u3051\u3089\u308c\u306a\u3044\nputs number_of.hogehoge\n=> NoMethodError: undefined method `hogehoge' for #<Roulette:0x007fe4bb9ac7a0>\n\nputs number_of.bob\n=> 3...\n   5...\n   5...\n   Bob got a 5\n```\n\n## \u7d50\u8ad6\n\n\u30aa\u30fc\u30d7\u30f3\u30af\u30e9\u30b9\u306e\u30a8\u30f3\u30c8\u30ea\u306e\u7d50\u8ad6\u3068\u4e00\u7dd2\u3067\u3059\uff01\nhttp://qiita.com/kidachi_/items/b1672f1c16e2d15f2d9c#ps1", "tags": ["Ruby", "\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0"]}