{"context": "\n\n\u3053\u306e\u8a18\u4e8b\u306f Turbolinks v2.2.0 \u6642\u70b9\u306e\u3082\u306e\u3067\u3059\nhttps://github.com/rails/turbolinks\n\nTurbolinks Classic is now deprecated\nRails4\u7cfb\u3067\u4f7f\u308f\u308c\u3066\u3044\u305fTurbolinks\u306fturbolinks-classic\u3068\u547d\u540d\u304c\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002\nRails5\u3067\u306fVersion 5 \u3068\u3057\u3066 turbolinks \u306eversion ~> 5.0 \u304c\u4f7f\u308f\u308c\u307e\u3059\u3002\u52d5\u4f5c\u3068\u3057\u3066\u306f\u4f3c\u3066\u307e\u3059\u304c\u5185\u90e8\u306e\u5b9f\u88c5\u304c\u5927\u304d\u304f\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nTurbolinks\u3068\u306f\n\nTurbolinks\u306fRails4.0\u304b\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5c0e\u5165\u3055\u308c\u305fgem\n\nrails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092 \u7c21\u5358\u306b pjax\u3063\u307d\u304f\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002\najax\u3068historyAPI(popState, pushState)\u3092\u5229\u7528\u3057\u3066\u753b\u9762\u9077\u79fb\nTurbolinks\u3067\u9077\u79fb\u3059\u308b\u5834\u5408\u306f\u3001title\u3068body\u3068csrf\u30c8\u30fc\u30af\u30f3\u3092\u5909\u66f4\u3059\u308b\n\n\ncsrf\u30c8\u30fc\u30af\u30f3\u306f\u5909\u66f4\u3055\u308c\u305f\u5834\u5408\u306e\u307f\n\n\njs, css\u306e\u8aad\u307f\u8fbc\u307f\u3092\u521d\u56de\u6642\u306b\u884c\u3044\u6b21\u56de\u4ee5\u964d\u306e\u8aad\u307f\u8fbc\u307f\u51e6\u7406\u3092\u7701\u7565\u3059\u308b\u3053\u3068\u3067\u9ad8\u901f\u5316\u3059\u308b\u3002\n\n\n\u3088\u304f\u8a00\u308f\u308c\u308bTurbolinks\u306e\u554f\u984c\n\n\n$(document).ready()\u304c\u767a\u706b\u3057\u306a\u3044\n\n$(window).load()\u304c\u767a\u706b\u3057\u306a\u3044\nmeta\u30bf\u30b0\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\n\n\n\u4e3b\u306aTurbolinks\u306e\u52d5\u4f5c\u306f2\u3064\n\nfetchReplacement\n\n\n<a>\u30bf\u30b0\u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u6642\u306e\u9077\u79fb\u3092ajax\u5316\u3057\u3066\u753b\u9762\u9077\u79fb\u306a\u3057\u306b\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b\u3002\nclick\u30a4\u30d9\u30f3\u30c8\u306e\u6319\u52d5\u3092\u5909\u3048\u3066\u3044\u308b\n\n\nfetchHistory\n\n\u623b\u308b\u30dc\u30bf\u30f3\u306a\u3069\u3092\u62bc\u3057\u305f\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u66f8\u304d\u63db\u3048\u3066\u3044\u308b\nfetchReplacement\u6642\u306bpushState\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u305f\u30da\u30fc\u30b8\u3092popState\u3067\u5fa9\u5143\u3059\u308b\u3002\n\n\nTurbolinks\u5bfe\u5fdc\u30d6\u30e9\u30a6\u30b6\n\u516c\u5f0f\u3067\u306f\n\nThis includes Safari 6.0+ (but not Safari 5.1.x!), IE10, and latest Chromes and Firefoxes.\n\n\u3068\u7d39\u4ecb\u3055\u308c\u3066\u3044\u308b\u3002\n\n\u4e3b\u306a\u5224\u5b9a\u306fhistoryAPI(pushState, replaceState)\u3092\u30d6\u30e9\u30a6\u30b6\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\n\u305d\u306e\u4ed6\u306f\u30bd\u30fc\u30b9\u3092\u53c2\u7167\n\u5f8c\u8ff0\u3059\u308b\u304c\u3001page:change\u306e\u5224\u5b9a\u306f\u5225\u306a\u306e\u3067Turbolinks\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3051\u3069page:change\u304c\u767a\u706b\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u3048\u308b\u3002\n\n\n\u5b9f\u306fTurbolinks\u306e\u30bd\u30fc\u30b9\u306f\n\njs   \u7d04330\u884c\nruby \u7d0480\u884c\n\n\n1\u6642\u9593\u3082\u3042\u308c\u3070\u3060\u3044\u305f\u3044\u4ed5\u69d8\u304c\u3064\u304b\u3081\u308b\u3002\n\nTurbolinks\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308btrigger\n\n'page:before-change'\n'page:receive'\n'page:change'\n'page:update'\n'page:load'\n'page:restore'\n'page:expire'\n\n\nfetchReplacement\n\n<a>\u30bf\u30b0\u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u306e\u6319\u52d5\u3092ajax\u5316\u3059\u308b\n\n\n<a>\u30bf\u30b0\u3092\u30af\u30ea\u30c3\u30af\n\n'page:before-change'\u3002'page:before-change'\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308bevent\u304cfalse\u3092\u8fd4\u3059\u5834\u5408\u3001\u901a\u5e38\u306e\u753b\u9762\u9077\u79fb\u3092\u884c\u3046\u3002\nfetchReplacement \u304ccall\u3055\u308c\u308b\npushState\u3067\u73fe\u5728\u306e\u30da\u30fc\u30b8\u3092pageCash\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\n'page:fetch'\n GET\u306eajax request \u3092\u9001\u4fe1 \nresponce\u304c\u8fd4\u3063\u3066\u304f\u308b\n'page:receive'\nresponce\u3092\u30c1\u30a7\u30c3\u30af\u3002status\u304c400~599\u3067\u306a\u3044, content-type\u304c\u6b63\u3057\u3044\u304b, \u30d8\u30c3\u30c0\u304c\u5909\u308f\u3063\u3066\u306a\u3044\u304b \n9\u304c\u6b63\u3057\u304f\u306a\u3051\u308c\u3070 document.location.href = url \u3067\u9077\u79fb\nbody, title \u3092\u3054\u3063\u305d\u308a\u5909\u3048\u308b\n'page:change'\n'page:update'\n'page:load'\n\n\nfetchReplacement tips\n\nfetchReplacement\u304c\u6210\u529f\u3057\u305f\u5834\u5408\u3001\u65e2\u306b\u524d\u306e\u30da\u30fc\u30b8\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u308bjs, css\u3092\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u306a\u3044\u306e\u3067\u305d\u306e\u5206\u9ad8\u901f\u3002\najax\u3067\u753b\u9762\u9077\u79fb\u304c\u884c\u308f\u308c\u308b\u306e\u3067$(document).ready()\u3084$(window).load()\u304c\u767a\u706b\u3057\u306a\u3044\u3002\nhead\u304c\u5909\u5316\u3057\u3066\u308b\u304b\u306e\u30c1\u30a7\u30c3\u30af\u306fdata-turbolinks-track\u304c\u4ed8\u4e0e\u3055\u308c\u305fnode\u304c\u524d\u306e\u30da\u30fc\u30b8\u3068\u5185\u5bb9\u304c\u540c\u3058\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\n\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u6b63\u3057\u304f\u306a\u3044\u5834\u5408\u306f\u3001\u30b5\u30fc\u30d0\u306b2\u5ea6\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3002redirect\u3092\u631f\u3080\u5834\u5408\u306f4\u56de\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u98db\u3076\u3002\n\u30b5\u30fc\u30d0\u30fc\u304c\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u3078\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u8fd4\u3059\u5834\u5408\u3001403\u3092\u8fd4\u3059 \u203b\u3053\u3053\u91cd\u8981\n\nconsole\u3067Turbolinks.visit('/hoge')\u3068\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067fetchReplacement\u3092\u5b9f\u884c\u3067\u304d\u308b\u3002\n\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u6642\u306e\u8996\u899a\u7684\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u306a\u3044\u305f\u3081\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u306f\u4e0d\u89aa\u5207\u3002page:fetch, page:recieve\u9593\u3067\u8996\u899a\u7684\u306b\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u3066\u3044\u308b\u4e8b\u3092\u4f1d\u3048\u305f\u65b9\u304c\u30e6\u30fc\u30b6\u30fc\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u3002\n\n\nfetchReplacement\u304c\u884c\u308f\u308c\u306a\u3044\u30d1\u30bf\u30fc\u30f3\n\n\u521d\u3081\u3066\u305d\u306e\u30b5\u30a4\u30c8\u306b\u8a2a\u308c\u305f\u6642\n\u30da\u30fc\u30b8\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u305f\u6642\nignoreClick\u306e\u6761\u4ef6\u306b\u4e00\u81f4\u3059\u308b\u6642\nsubmit\u6642\u306f\u305d\u3082\u305d\u3082<a>\u30bf\u30b0\u3067\u306f\u306a\u3044\u306e\u3067\u52d5\u4f5c\u3057\u306a\u3044\n\u305d\u306e\u5834\u5408\u3001\u5f93\u6765\u306e\u753b\u9762\u9077\u79fb\u304c\u884c\u308f\u308c\u308b\u3002\n\n\nignore Click\nTurbolinks\u304c\u52d5\u4f5c\u3057\u306a\u3044\u30ea\u30f3\u30af\n\ncrossOriginLink\nanchoredLink\nnonHtmlLink\nnoTurbolink\ntargetLink\nnonStandardClick\n\n\n\u4e3b\u306aignore Click\n\n\ncrossOriginLink\n\nlocation.protocol\u3068location.host\u304c\u73fe\u5728\u306e\u30da\u30fc\u30b8\u3068\u7570\u306a\u308b\u30da\u30fc\u30b8\u3078\u306e\u30ea\u30f3\u30af\n\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u304c\u7570\u306a\u308b\u5834\u5408\u3001fetchReplacement\u306f\u52d5\u4f5c\u3057\u306a\u3044\n\n\n\nnonHtmlLink\n\nhtml\u3067\u7121\u3044\u30ea\u30f3\u30af\n\u753b\u50cf\u306a\u3069\u3078\u306e\u30ea\u30f3\u30af\u306e\u5834\u5408\u3001fetchReplacement\u306f\u52d5\u4f5c\u3057\u306a\u3044\n\n\n\nnoTurbolink\n\n\u552f\u4e00\u660e\u793a\u7684\u306b\u958b\u767a\u8005\u304c\u8a2d\u5b9a\u3067\u304d\u308b\n\u30ea\u30f3\u30af\u304b\u3089\u89aa\u3092\u9006\u4e0a\u3063\u3066data-no-turbolink \u5b58\u5728\u3059\u308b\u30ea\u30f3\u30af\u306f\u3001fetchReplacement\u306f\u52d5\u4f5c\u3057\u306a\u3044\n\n\n\nnonStandardClick\n\n\nshift, command, alt, control\u30ad\u30fc\u306a\u3069\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u52d5\u4f5c\u3057\u306a\u3044\n\u5225\u30a6\u30a3\u30f3\u30c9\u3092\u958b\u304f\u6642\u306a\u3069\n\n\n\n\nfetchHistory\n\n\u623b\u308b\u306a\u3069\u306e\u9077\u79fb\u3092pageCash\u304b\u3089popState\u3067\u5fa9\u5143\u3059\u308b\n\npageCash\u306b\u76ee\u7684\u306e\u30da\u30fc\u30b8\u304c\u3042\u308b\u5834\u5408\u3001popState\u3067\u5fa9\u5143\u3059\u308b\n1\u3067\u5fa9\u5143\u51fa\u6765\u306a\u3044\u5834\u5408\u3001document.location.href = url\n\n'page:change'\n'page:update'\n'page:restore'\n\n\nfetchHistory tips\n\n\u30d6\u30e9\u30a6\u30b6\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u5fa9\u5143\u3059\u308b\u306e\u3067\u9ad8\u901f\n\u30d6\u30e9\u30a6\u30b6\u306e\u66f4\u65b0\u304c\u306a\u3044\u305f\u3081\u3001ready\u306a\u3069\u304c\u767a\u706b\u3057\u306a\u3044\n\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u8a72\u5f53\u306e\u30da\u30fc\u30b8\u304c\u306a\u3044\u5834\u5408\u306f\u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308a\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f10\u30da\u30fc\u30b8\u5206\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\nconsole\u3067Turbolinks.pageCached();\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u53d6\u5f97\u51fa\u6765\u308b\u3002\n\n\n\u4e3b\u306atrigger\u3068$(document).ready()\n\n\n$(document).ready()\n\n\njQuery\u304c\u63d0\u4f9b\n\u3069\u3093\u306a\u30d6\u30e9\u30a6\u30b6\u3067\u3082\u767a\u706b\nDOM\u304c\u69cb\u6210\u3055\u308c\u305f\u5f8c\u306b\u767a\u706b\n\n\n'page:load'\n\n\nfetchReplacement\u304c\u5b8c\u4e86\u3057\u305f\u6642\u306b\u767a\u706b\n\n\n'page:restore'\n\n\nfetchHistory\u304c\u5b8c\u4e86\u306b\u767a\u706b\n\n\n'page:change'\n\n\n\u3069\u3093\u306a\u5834\u5408\u3067\u3082\u30da\u30fc\u30b8\u3092\u8868\u793a\u3057\u305f\u5f8c\u306b\u767a\u706b\n\n$(document).ready() \u76f8\u5f53\n\nDOMContentLoaded \u30ea\u30b9\u30ca\u30fc\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\n\u767a\u706b\u30bf\u30a4\u30df\u30f3\u30b0\u306f DOMContentLoaded + fetchReplacement + fetchHistory\n\n\u3057\u304b\u3057\u3001DOMContentLoaded\u306fIE6,7\u306a\u3069\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u3082\u52d5\u4f5c\u3055\u305b\u305f\u3044\u51e6\u7406\u3092\u66f8\u304f\u3068\u304d\u306f\u4f7f\u7528\u3057\u306a\u3044\u4e8b\u3002\n\n\ntrigger\u306e\u767a\u706b\u30bf\u30a4\u30df\u30f3\u30b0\n\n\n\n\nlanding, reload\nfetchReplacement\nfetchHistory\n\n\n\n\nready\n\u25cb\n\u00d7\n\u00d7\n\n\npage:load\n\u00d7\n\u25cb\n\u00d7\n\n\npage:restore\n\u00d7\n\u00d7\n\u25cb\n\n\npage:change\n\u25cb\n\u25cb\n\u25cb\n\n\n\n\nfetchReplacement\u5931\u6557\u6642\u306f\u518d\u5ea6\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c, landing\u306e\u72b6\u614b\u306b\u306a\u308b\u3002\n\n\n\u3088\u304f\u51fa\u3066\u304f\u308b\u304a\u307e\u3058\u306a\u3044\n\n$(document).on 'ready page:load', ->\n\n\u3053\u308c\u306fjquery\u304c\u63d0\u4f9b\u3059\u308b'ready'\u3068Turbolinks\u304c\u63d0\u4f9b\u3059\u308b'page:load'\u306e\u4e21\u65b9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3002  \n\n\u975eTurbolinks\u9077\u79fb\u6642\u306f'ready'\u3067\u767a\u706b\u3002\nTurbolinks\u9077\u79fb\u6642\u306f'page:load'\u3067\u767a\u706b\u306e\u4e21\u65b9\u3092\u30ab\u30d0\u30fc\u3059\u308b\u3068\u3044\u3046\u610f\u5473\u3002\nTurbolinks\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u3082'ready'\u304c\u767a\u706b\u3059\u308b\u306e\u3067\u5b89\u5fc3\u3002\n\n\njquery-turbolinks gem\n\n\n'ready'trigger\u306bpage:load\u3092\u8ffd\u52a0\u3057\u3066\u304f\u308c\u308b\u6a5f\u80fd\u3092\u63d0\u4f9b\u3002\n\n\nTrigger tips\n\n\u901a\u5e38\u3001page:change\u3067addEventListener\u3057\u3066\u306f\u3044\u3051\u306a\u3044\u3002\n\n\nfetchHistory\u306e\u969b\u306b\u3082\u30a4\u30d9\u30f3\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u308b\u306e\u3067\u30da\u30fc\u30b8\u3092\u623b\u3063\u305f\u6642\u306b\u591a\u91cd\u306bEvent\u3092\u8ffd\u52a0\u3057\u3066\u3057\u307e\u3046\u4e8b\u304c\u3042\u308b\u305f\u3081\u3002\n'ready page:load'\u3092\u4f7f\u7528\u3059\u308b\u3002\n\n\n\npage:change\u306fTurbolinks\u306e\u30b5\u30dd\u30fc\u30c8\u5224\u5b9a\u3068\u306f\u7570\u306a\u308a\u3001document.addEventListener \u3068document.createEvent\u304c\u30d6\u30e9\u30a6\u30b6\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u5224\u5b9a\u57fa\u6e96\u3002\n\n\n\u306a\u306e\u3067Turbolinks\u306f\u52d5\u304b\u306a\u3044\u3051\u3069page:change\u306f\u767a\u706b\u3059\u308b\u4e8b\u304c\u3042\u308a\u3048\u308b\u3002\n\n\n\npage:change\u306f\u52d5\u304f\u30d6\u30e9\u30a6\u30b6\u3068\u305d\u3046\u3067\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u304c\u3042\u308b\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u3002\n\n\n\u7279\u306bGoogleAnalytics\u306fpage:change\u3092\u4f7f\u3046\u3068\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u306e\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u306a\u3044\u3002\n\n\n\n\nTurbolinks\u3068\u4ef2\u826f\u304f\u3059\u308b\u305f\u3081\u306b\u6ce8\u610f\u3059\u308b\u3053\u3068\n\n<body>\u30bf\u30b0\u306bjs\u3092\u66f8\u304b\u306a\u3044\u3002\n\n\n<body>\u30bf\u30b0\u5185\u306bevent\u3092\u8a2d\u5b9a\u3059\u308b\u51e6\u7406(click\u306a\u3069)\u3092js\u3067\u66f8\u304f\u3068Turbolinks\u3067\u9077\u79fb\u3059\u308b\u5ea6\u306b\u8a2d\u5b9a\u3055\u308c\u3001\u4f55\u5ea6\u3082\u547c\u3070\u308c\u308b\u3002\n\n\u3069\u3046\u3057\u3066\u3082\u66f8\u304d\u305f\u3044\u6642\u306f<script> \u306b data-turbolinks-eval=\"false\"\u3068\u66f8\u3051\u30701\u5ea6\u3057\u304b\u5b9f\u884c\u3055\u308c\u306a\u3044\n\n\njs, css, <meta>\u30bf\u30b0\u306a\u3069<head>\u3092\u30da\u30fc\u30b8\u3054\u3068\u306b\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306fdata-turbolinks-track\u3092\u8a18\u8ff0\u3059\u308b\n\n\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308bjs\u3084css\u306a\u3069\u304c\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\u3053\u3068\u3092\u9632\u3050\u305f\u3081\n\n\nRails\u5074\u3067\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u30ea\u30f3\u30af\u306b\u306fdata-no-turbolink\u3092\u6307\u5b9a\u3059\u308b\n\n\u7121\u99c4\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u672a\u7136\u306b\u9632\u3050\n\n\n\u3067\u304d\u308b\u3060\u3051application.js, application.css\u306b\u307e\u3068\u3081\u308b\n\ncss\u3084js\u304c\u5909\u308f\u308b\u3068Turbolinks\u3067\u9077\u79fb\u3067\u304d\u305a\u3001\u518d\u63cf\u753b\u3055\u308c\u308b\u306e\u3067\u305b\u3063\u304b\u304f\u306e\u65e8\u5473\u304c\u6e1b\u308b\u3002\n\u7121\u99c4\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u304c2\u5ea6\u98db\u3076\u306e\u3067Turbolinks\u4f7f\u308f\u306a\u3044\u5834\u5408\u3088\u308a\u9045\u304f\u306a\u308b\u3053\u3068\u3082\u3002\n\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u304c\u7570\u306a\u308b\u3068Turbolinks\u306f\u305d\u3082\u305d\u3082\u52d5\u4f5c\u3057\u306a\u3044\u305f\u3081\u3001\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u3054\u3068\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u308b\u306e\u306f\u3042\u308a\u3002\n\n\nTurbolinks\u306b\u5411\u3044\u3066\u3044\u308b\u30b5\u30a4\u30c8\n\njavascript\u306e\u8a18\u8ff0\u91cf\u304c\u5c11\u306a\u3044\nRails\u304c\u751f\u6210\u3057\u305f\u30d3\u30e5\u30fc\u3092\u8fd4\u3059\u4e8b\u304c\u30e1\u30a4\u30f3\u3067\u3042\u308b\u30b5\u30a4\u30c8\n\u958b\u767a\u30b3\u30b9\u30c8\u4e0a\u3052\u3066\u3067\u3082\u30da\u30fc\u30b8\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u9ad8\u901f\u5316\u3057\u305f\u3044\u7528\u9014\u304c\u3042\u308b\n\n\nTurbolinks\u306b\u5411\u304b\u306a\u3044\u30b5\u30a4\u30c8\n\n\u3059\u3067\u306bJavascript\u3092\u591a\u304f\u8a18\u8ff0\u3057\u3066\u308b\nJavascript\u306eclientside framework\u3092\u30b5\u30a4\u30c8\u3067\u591a\u304f\u4f7f\u7528\u3057\u3066\u3044\u308b(Backbone, Angular\u7b49)\n\u30da\u30fc\u30b8\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u9ad8\u901f\u5316\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u898f\u6a21\u306e\u30b5\u30a4\u30c8\nsubdomain\u3092\u30b5\u30a4\u30c8\u3067\u591a\u7528\u3057\u3066\u3044\u308b\n\u30da\u30fc\u30b8\u3054\u3068\u306bcss, js\u3092\u5206\u3051\u3066\u8a18\u8ff0\u3057\u3066\u3044\u308b\n\n\nTurbolinks\u306e\u826f\u3044\u70b9\u30fb\u60aa\u3044\u70b9\n\n\u826f\u3044\u70b9\n\nTurbolinks\u3092\u4f7f\u3046\u3068\u30da\u30fc\u30b8\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u901f\u304f\u306a\u308b (turbolinks_test)\n\u623b\u308b\u30dc\u30bf\u30f3\u3067\u753b\u9762\u9077\u79fb\u3059\u308b\u5834\u5408\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u5fa9\u5143\u3057\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3057\u306a\u3044\u305f\u3081\u8d85\u9ad8\u901f\u3002\n\u3046\u307e\u304f\u4f7f\u3044\u3053\u306a\u3059\u4e8b\u304c\u51fa\u6765\u308c\u3070\u30ea\u30af\u30a8\u30b9\u30c8\u6570\u3092\u6e1b\u3089\u3059\u4e8b\u304c\u51fa\u6765\u308b\u3002\nRails4.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u7d041\u5e74\u3061\u3087\u3063\u3068\u3002\u305d\u308d\u305d\u308d\u60c5\u5831\u3092\u8abf\u3079\u308b\u4e8b\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304d\u305f\u3002\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u8aad\u3080\u3068\u305d\u3093\u306a\u306b\u96e3\u3057\u304f\u306a\u3044\n\n\n\u60aa\u3044\u70b9\n\njs\u3084\u30d6\u30e9\u30a6\u30b6\u306e\u524d\u63d0\u3092\u8986\u3059\u3002\n\n\nready\u304c\u547c\u3070\u308c\u306a\u3044\nheader\u304c\u5909\u5316\u3057\u306a\u3044\u7b49\n\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u30c7\u30b6\u30a4\u30ca\u30fc\u306b\u8ca0\u62c5\u3092\u66f8\u3051\u3066\u3057\u307e\u3046\u5834\u5408\u304c\u591a\u3044\njs\u3092Turbolinks\u4f9d\u5b58\u3057\u305f\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308b\nTurboliks\u3067\u9077\u79fb\u51fa\u6765\u306a\u3044\u5834\u5408\u3001\u4e0d\u8981\u306a\u30a2\u30af\u30bb\u30b9\u304c\u5897\u3048\u308b\n\u672c\u6765Turbolinks\u3067\u9077\u79fb\u51fa\u6765\u308b\u306f\u305a\u306e\u30ea\u30f3\u30af(ignoreClick\u3067\u306a\u3044)\u304ccss, js\u304c\u7570\u306a\u308b\u7406\u7531\u3067\u5931\u6557\u3059\u308b\u5834\u5408,2\u56de\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u98db\u3076\u306e\u3067\u9006\u306b\u9045\u304f\u306a\u308b\u3002\n\n\n\u307e\u3068\u3081\n\nTurbolinks\u3067\u3046\u307e\u304f\u9077\u79fb\u3067\u304d\u308b\u3088\u3046\u306b\u69cb\u7bc9\u3057\u3066\u3044\u308b\u3068\u30da\u30fc\u30b8\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u65e9\u304f\u306a\u308b\u3002\n\u9006\u306bTurbolinks\u3067\u3046\u307e\u304f\u9077\u79fb\u3067\u304d\u308b\u3088\u3046\u306b\u69cb\u7bc9\u3057\u3066\u3044\u306a\u3044\u3068\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u591a\u304f\u767a\u751f\u3057\u9006\u306b\u9045\u304f\u306a\u308b\u5834\u5408\u304c\u3042\u308b\u3002\n'page:change'\u306f\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u52d5\u304b\u306a\u3044\u306e\u3067\u4f7f\u7528\u3059\u308b\u306e\u306b\u306f\u6ce8\u610f\u3059\u308b\u3002\njs\u3092\u66f8\u304f\u5834\u5408\u306fTurbolinks\u306e\u6319\u52d5\u3092\u7406\u89e3\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u305f\u3076\u3093\u307b\u3068\u3093\u3069\u306eweb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3002\n\n\n\u958b\u767a\u30b3\u30b9\u30c8\u304c\u3042\u304c\u308a\u82e6\u52b4\u3092\u3059\u308b\u9762\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u9069\u5207\u306b\u4f7f\u3046\u3068\u305d\u308c\u306a\u308a\u306b\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308b\u306e\u3067\u3001\u4f7f\u7528\u7528\u9014\u3092\u3057\u3063\u304b\u308a\u8003\u3048\u904b\u7528\u3059\u308b\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n\n\u8ffd\u8a18\nTurbolinks\u3068\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u3092\u3042\u308f\u305b\u308b\u3068\u958b\u767a\u304c\u304b\u306a\u308a\u6357\u308b nprogress-rails\nTurbolinks 3\u3053\u305dRails\u306e\u672a\u6765\n\u3092\u66f8\u3044\u305f\u306e\u3067\u3053\u3061\u3089\u3082\u3069\u3046\u305e\u3002\n## \u3053\u306e\u8a18\u4e8b\u306f Turbolinks v2.2.0 \u6642\u70b9\u306e\u3082\u306e\u3067\u3059\nhttps://github.com/rails/turbolinks\n\n## Turbolinks Classic is now deprecated\n\nRails4\u7cfb\u3067\u4f7f\u308f\u308c\u3066\u3044\u305fTurbolinks\u306f[turbolinks-classic](https://github.com/turbolinks/turbolinks-classic)\u3068\u547d\u540d\u304c\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002\nRails5\u3067\u306fVersion 5 \u3068\u3057\u3066 [turbolinks](https://github.com/turbolinks/turbolinks) \u306eversion ~> 5.0 \u304c\u4f7f\u308f\u308c\u307e\u3059\u3002\u52d5\u4f5c\u3068\u3057\u3066\u306f\u4f3c\u3066\u307e\u3059\u304c\u5185\u90e8\u306e\u5b9f\u88c5\u304c\u5927\u304d\u304f\u5909\u308f\u3063\u3066\u3044\u308b\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n## Turbolinks\u3068\u306f\n* Turbolinks\u306fRails4.0\u304b\u3089\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5c0e\u5165\u3055\u308c\u305fgem  \n* rails\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092 **\u7c21\u5358\u306b** pjax\u3063\u307d\u304f\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u308b\u3002\n* ajax\u3068historyAPI(popState, pushState)\u3092\u5229\u7528\u3057\u3066\u753b\u9762\u9077\u79fb\n* Turbolinks\u3067\u9077\u79fb\u3059\u308b\u5834\u5408\u306f\u3001title\u3068body\u3068csrf\u30c8\u30fc\u30af\u30f3\u3092\u5909\u66f4\u3059\u308b\n  * csrf\u30c8\u30fc\u30af\u30f3\u306f\u5909\u66f4\u3055\u308c\u305f\u5834\u5408\u306e\u307f\n* js, css\u306e\u8aad\u307f\u8fbc\u307f\u3092\u521d\u56de\u6642\u306b\u884c\u3044\u6b21\u56de\u4ee5\u964d\u306e\u8aad\u307f\u8fbc\u307f\u51e6\u7406\u3092\u7701\u7565\u3059\u308b\u3053\u3068\u3067\u9ad8\u901f\u5316\u3059\u308b\u3002\n\n\n## \u3088\u304f\u8a00\u308f\u308c\u308bTurbolinks\u306e\u554f\u984c\n* `$(document).ready()`\u304c\u767a\u706b\u3057\u306a\u3044\n* `$(window).load()`\u304c\u767a\u706b\u3057\u306a\u3044\n* meta\u30bf\u30b0\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\n\n\n## \u4e3b\u306aTurbolinks\u306e\u52d5\u4f5c\u306f2\u3064\n\n#### fetchReplacement\n* `<a>`\u30bf\u30b0\u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u6642\u306e\u9077\u79fb\u3092ajax\u5316\u3057\u3066\u753b\u9762\u9077\u79fb\u306a\u3057\u306b\u30da\u30fc\u30b8\u9077\u79fb\u3059\u308b\u3002\n* click\u30a4\u30d9\u30f3\u30c8\u306e\u6319\u52d5\u3092\u5909\u3048\u3066\u3044\u308b\n\n#### fetchHistory\n* \u623b\u308b\u30dc\u30bf\u30f3\u306a\u3069\u3092\u62bc\u3057\u305f\u6642\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u66f8\u304d\u63db\u3048\u3066\u3044\u308b\n* fetchReplacement\u6642\u306bpushState\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u305f\u30da\u30fc\u30b8\u3092popState\u3067\u5fa9\u5143\u3059\u308b\u3002\n\n## Turbolinks\u5bfe\u5fdc\u30d6\u30e9\u30a6\u30b6\n\u516c\u5f0f\u3067\u306f\n> This includes Safari 6.0+ (but not Safari 5.1.x!), IE10, and latest Chromes and Firefoxes.\n\n\u3068\u7d39\u4ecb\u3055\u308c\u3066\u3044\u308b\u3002\n\n* **\u4e3b\u306a\u5224\u5b9a\u306fhistoryAPI(`pushState`, `replaceState`)\u3092\u30d6\u30e9\u30a6\u30b6\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b**\n* \u305d\u306e\u4ed6\u306f\u30bd\u30fc\u30b9\u3092\u53c2\u7167\n* \u5f8c\u8ff0\u3059\u308b\u304c\u3001`page:change`\u306e\u5224\u5b9a\u306f\u5225\u306a\u306e\u3067Turbolinks\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3051\u3069`page:change`\u304c\u767a\u706b\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u3048\u308b\u3002\n\n\n## \u5b9f\u306fTurbolinks\u306e\u30bd\u30fc\u30b9\u306f\n\n* js   \u7d04330\u884c\n* ruby \u7d0480\u884c\n\n#### 1\u6642\u9593\u3082\u3042\u308c\u3070\u3060\u3044\u305f\u3044\u4ed5\u69d8\u304c\u3064\u304b\u3081\u308b\u3002\n\n## Turbolinks\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308btrigger \n\n* 'page:before-change'\n* 'page:receive'\n* 'page:change'\n* 'page:update'\n* 'page:load'\n* 'page:restore'\n* 'page:expire'\n\n\n## fetchReplacement\n### `<a>`\u30bf\u30b0\u306e\u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u306e\u6319\u52d5\u3092ajax\u5316\u3059\u308b\n\n1. `<a>`\u30bf\u30b0\u3092\u30af\u30ea\u30c3\u30af\n2. `'page:before-change'`\u3002`'page:before-change'`\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308bevent\u304cfalse\u3092\u8fd4\u3059\u5834\u5408\u3001\u901a\u5e38\u306e\u753b\u9762\u9077\u79fb\u3092\u884c\u3046\u3002\n3. fetchReplacement \u304ccall\u3055\u308c\u308b\n4. pushState\u3067\u73fe\u5728\u306e\u30da\u30fc\u30b8\u3092pageCash\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\n5. `'page:fetch'`\n6.  GET\u306eajax request \u3092\u9001\u4fe1 \n7. responce\u304c\u8fd4\u3063\u3066\u304f\u308b\n8. `'page:receive'`\n9. responce\u3092\u30c1\u30a7\u30c3\u30af\u3002status\u304c400~599\u3067\u306a\u3044, content-type\u304c\u6b63\u3057\u3044\u304b, \u30d8\u30c3\u30c0\u304c\u5909\u308f\u3063\u3066\u306a\u3044\u304b \n10. 9\u304c\u6b63\u3057\u304f\u306a\u3051\u308c\u3070 `document.location.href = url` \u3067\u9077\u79fb\n11. body, title \u3092\u3054\u3063\u305d\u308a\u5909\u3048\u308b\n12. `'page:change'`\n13. `'page:update'`\n14. `'page:load'`\n\n## fetchReplacement tips\n* fetchReplacement\u304c\u6210\u529f\u3057\u305f\u5834\u5408\u3001\u65e2\u306b\u524d\u306e\u30da\u30fc\u30b8\u304b\u3089\u8aad\u307f\u8fbc\u307e\u308c\u3066\u3044\u308bjs, css\u3092\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u306a\u3044\u306e\u3067\u305d\u306e\u5206\u9ad8\u901f\u3002\n* ajax\u3067\u753b\u9762\u9077\u79fb\u304c\u884c\u308f\u308c\u308b\u306e\u3067`$(document).ready()`\u3084`$(window).load()`\u304c\u767a\u706b\u3057\u306a\u3044\u3002\n* head\u304c\u5909\u5316\u3057\u3066\u308b\u304b\u306e\u30c1\u30a7\u30c3\u30af\u306f`data-turbolinks-track`\u304c\u4ed8\u4e0e\u3055\u308c\u305fnode\u304c\u524d\u306e\u30da\u30fc\u30b8\u3068\u5185\u5bb9\u304c\u540c\u3058\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\n* \u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u6b63\u3057\u304f\u306a\u3044\u5834\u5408\u306f\u3001\u30b5\u30fc\u30d0\u306b2\u5ea6\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3002redirect\u3092\u631f\u3080\u5834\u5408\u306f4\u56de\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u98db\u3076\u3002\n* \u30b5\u30fc\u30d0\u30fc\u304c\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u3078\u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u8fd4\u3059\u5834\u5408\u3001403\u3092\u8fd4\u3059 **\u203b\u3053\u3053\u91cd\u8981**\n* console\u3067`Turbolinks.visit('/hoge')`\u3068\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067fetchReplacement\u3092\u5b9f\u884c\u3067\u304d\u308b\u3002\n* \u30ea\u30f3\u30af\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u6642\u306e\u8996\u899a\u7684\u30ec\u30b9\u30dd\u30f3\u30b9\u304c\u306a\u3044\u305f\u3081\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u306f\u4e0d\u89aa\u5207\u3002`page:fetch`, `page:recieve`\u9593\u3067\u8996\u899a\u7684\u306b\u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u3057\u3066\u3044\u308b\u4e8b\u3092\u4f1d\u3048\u305f\u65b9\u304c\u30e6\u30fc\u30b6\u30fc\u30d5\u30ec\u30f3\u30c9\u30ea\u30fc\u3002\n\n\n## fetchReplacement\u304c\u884c\u308f\u308c\u306a\u3044\u30d1\u30bf\u30fc\u30f3\n* \u521d\u3081\u3066\u305d\u306e\u30b5\u30a4\u30c8\u306b\u8a2a\u308c\u305f\u6642\n* \u30da\u30fc\u30b8\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u305f\u6642\n* ignoreClick\u306e\u6761\u4ef6\u306b\u4e00\u81f4\u3059\u308b\u6642\n* submit\u6642\u306f\u305d\u3082\u305d\u3082`<a>`\u30bf\u30b0\u3067\u306f\u306a\u3044\u306e\u3067\u52d5\u4f5c\u3057\u306a\u3044\n* \u305d\u306e\u5834\u5408\u3001\u5f93\u6765\u306e\u753b\u9762\u9077\u79fb\u304c\u884c\u308f\u308c\u308b\u3002\n\n\n## ignore Click\nTurbolinks\u304c\u52d5\u4f5c\u3057\u306a\u3044\u30ea\u30f3\u30af\n\n* crossOriginLink\n* anchoredLink\n* nonHtmlLink\n* noTurbolink\n* targetLink\n* nonStandardClick\n\n## \u4e3b\u306aignore Click\n* crossOriginLink\n  * location.protocol\u3068location.host\u304c\u73fe\u5728\u306e\u30da\u30fc\u30b8\u3068\u7570\u306a\u308b\u30da\u30fc\u30b8\u3078\u306e\u30ea\u30f3\u30af\n  * \u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u304c\u7570\u306a\u308b\u5834\u5408\u3001fetchReplacement\u306f\u52d5\u4f5c\u3057\u306a\u3044\n\n* nonHtmlLink\n  * html\u3067\u7121\u3044\u30ea\u30f3\u30af\n  * \u753b\u50cf\u306a\u3069\u3078\u306e\u30ea\u30f3\u30af\u306e\u5834\u5408\u3001fetchReplacement\u306f\u52d5\u4f5c\u3057\u306a\u3044\n\n* noTurbolink\n  * \u552f\u4e00\u660e\u793a\u7684\u306b\u958b\u767a\u8005\u304c\u8a2d\u5b9a\u3067\u304d\u308b\n  * \u30ea\u30f3\u30af\u304b\u3089\u89aa\u3092\u9006\u4e0a\u3063\u3066`data-no-turbolink` \u5b58\u5728\u3059\u308b\u30ea\u30f3\u30af\u306f\u3001fetchReplacement\u306f\u52d5\u4f5c\u3057\u306a\u3044\n\n* nonStandardClick\n  * `shift`, `command`, `alt`, `control`\u30ad\u30fc\u306a\u3069\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u52d5\u4f5c\u3057\u306a\u3044\n  * \u5225\u30a6\u30a3\u30f3\u30c9\u3092\u958b\u304f\u6642\u306a\u3069\n\n## fetchHistory\n### \u623b\u308b\u306a\u3069\u306e\u9077\u79fb\u3092pageCash\u304b\u3089popState\u3067\u5fa9\u5143\u3059\u308b\n\n1. pageCash\u306b\u76ee\u7684\u306e\u30da\u30fc\u30b8\u304c\u3042\u308b\u5834\u5408\u3001popState\u3067\u5fa9\u5143\u3059\u308b\n2. 1\u3067\u5fa9\u5143\u51fa\u6765\u306a\u3044\u5834\u5408\u3001`document.location.href = url`\n3. `'page:change'`\n4. `'page:update'`\n5. `'page:restore'`\n\n## fetchHistory tips\n* \u30d6\u30e9\u30a6\u30b6\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u5fa9\u5143\u3059\u308b\u306e\u3067\u9ad8\u901f\n* \u30d6\u30e9\u30a6\u30b6\u306e\u66f4\u65b0\u304c\u306a\u3044\u305f\u3081\u3001ready\u306a\u3069\u304c\u767a\u706b\u3057\u306a\u3044\n* \u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u8a72\u5f53\u306e\u30da\u30fc\u30b8\u304c\u306a\u3044\u5834\u5408\u306f\u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308a\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\n* \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f10\u30da\u30fc\u30b8\u5206\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\n* console\u3067`Turbolinks.pageCached();`\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u30da\u30fc\u30b8\u6570\u3092\u53d6\u5f97\u51fa\u6765\u308b\u3002\n\n## \u4e3b\u306atrigger\u3068`$(document).ready()`\n\n#### ``$(document).ready()``\n* jQuery\u304c\u63d0\u4f9b\n* \u3069\u3093\u306a\u30d6\u30e9\u30a6\u30b6\u3067\u3082\u767a\u706b\n* DOM\u304c\u69cb\u6210\u3055\u308c\u305f\u5f8c\u306b\u767a\u706b\n\n#### `'page:load'`\n* fetchReplacement\u304c\u5b8c\u4e86\u3057\u305f\u6642\u306b\u767a\u706b\n\n#### `'page:restore'`\n* fetchHistory\u304c\u5b8c\u4e86\u306b\u767a\u706b\n\n#### `'page:change'`\n* \u3069\u3093\u306a\u5834\u5408\u3067\u3082\u30da\u30fc\u30b8\u3092\u8868\u793a\u3057\u305f\u5f8c\u306b\u767a\u706b\n* `$(document).ready()` \u76f8\u5f53\n* `DOMContentLoaded` \u30ea\u30b9\u30ca\u30fc\u306b\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\n* \u767a\u706b\u30bf\u30a4\u30df\u30f3\u30b0\u306f `DOMContentLoaded` + `fetchReplacement` + `fetchHistory`\n* **\u3057\u304b\u3057\u3001`DOMContentLoaded`\u306fIE6,7\u306a\u3069\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u3082\u52d5\u4f5c\u3055\u305b\u305f\u3044\u51e6\u7406\u3092\u66f8\u304f\u3068\u304d\u306f\u4f7f\u7528\u3057\u306a\u3044\u4e8b\u3002**\n\n\n## trigger\u306e\u767a\u706b\u30bf\u30a4\u30df\u30f3\u30b0\n\n|             \t| landing, reload | fetchReplacement \t| fetchHistory \t|\n|--------------\t|----------\t  |------------------\t|--------------\t|\n| ready        \t| \u25cb        \t  | \u00d7                \t| \u00d7            \t|\n| page:load    \t| \u00d7        \t  | \u25cb                \t| \u00d7            \t|\n| page:restore \t| \u00d7        \t  | \u00d7                \t| \u25cb            \t|\n| page:change  \t| \u25cb               | \u25cb                \t| \u25cb            \t|  \n\n* fetchReplacement\u5931\u6557\u6642\u306f\u518d\u5ea6\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c, landing\u306e\u72b6\u614b\u306b\u306a\u308b\u3002\n\n## \u3088\u304f\u51fa\u3066\u304f\u308b\u304a\u307e\u3058\u306a\u3044\n\n#### `$(document).on 'ready page:load', ->`\n\n\u3053\u308c\u306fjquery\u304c\u63d0\u4f9b\u3059\u308b`'ready'`\u3068Turbolinks\u304c\u63d0\u4f9b\u3059\u308b`'page:load'`\u306e\u4e21\u65b9\u3067\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3002  \n\n* \u975eTurbolinks\u9077\u79fb\u6642\u306f`'ready'`\u3067\u767a\u706b\u3002\n* Turbolinks\u9077\u79fb\u6642\u306f`'page:load'`\u3067\u767a\u706b\u306e\u4e21\u65b9\u3092\u30ab\u30d0\u30fc\u3059\u308b\u3068\u3044\u3046\u610f\u5473\u3002\n* Turbolinks\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u3082`'ready'`\u304c\u767a\u706b\u3059\u308b\u306e\u3067\u5b89\u5fc3\u3002\n\n#### jquery-turbolinks gem\n* `'ready'`trigger\u306b`page:load`\u3092\u8ffd\u52a0\u3057\u3066\u304f\u308c\u308b\u6a5f\u80fd\u3092\u63d0\u4f9b\u3002\n\n\n## Trigger tips\n* \u901a\u5e38\u3001`page:change`\u3067addEventListener\u3057\u3066\u306f\u3044\u3051\u306a\u3044\u3002\n  * fetchHistory\u306e\u969b\u306b\u3082\u30a4\u30d9\u30f3\u30c8\u304c\u8ffd\u52a0\u3055\u308c\u308b\u306e\u3067\u30da\u30fc\u30b8\u3092\u623b\u3063\u305f\u6642\u306b\u591a\u91cd\u306bEvent\u3092\u8ffd\u52a0\u3057\u3066\u3057\u307e\u3046\u4e8b\u304c\u3042\u308b\u305f\u3081\u3002\n  * 'ready page:load'\u3092\u4f7f\u7528\u3059\u308b\u3002\n* `page:change`\u306fTurbolinks\u306e\u30b5\u30dd\u30fc\u30c8\u5224\u5b9a\u3068\u306f\u7570\u306a\u308a\u3001`document.addEventListener` \u3068`document.createEvent`\u304c\u30d6\u30e9\u30a6\u30b6\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u5224\u5b9a\u57fa\u6e96\u3002\n  * \u306a\u306e\u3067Turbolinks\u306f\u52d5\u304b\u306a\u3044\u3051\u3069`page:change`\u306f\u767a\u706b\u3059\u308b\u4e8b\u304c\u3042\u308a\u3048\u308b\u3002\n* `page:change`\u306f\u52d5\u304f\u30d6\u30e9\u30a6\u30b6\u3068\u305d\u3046\u3067\u306a\u3044\u30d6\u30e9\u30a6\u30b6\u304c\u3042\u308b\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u3002\n  * \u7279\u306bGoogleAnalytics\u306f`page:change`\u3092\u4f7f\u3046\u3068\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u306e\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u306a\u3044\u3002\n\n\n## Turbolinks\u3068\u4ef2\u826f\u304f\u3059\u308b\u305f\u3081\u306b\u6ce8\u610f\u3059\u308b\u3053\u3068\n\n#### `<body>`\u30bf\u30b0\u306bjs\u3092\u66f8\u304b\u306a\u3044\u3002  \n\n* `<body>`\u30bf\u30b0\u5185\u306bevent\u3092\u8a2d\u5b9a\u3059\u308b\u51e6\u7406(click\u306a\u3069)\u3092js\u3067\u66f8\u304f\u3068Turbolinks\u3067\u9077\u79fb\u3059\u308b\u5ea6\u306b\u8a2d\u5b9a\u3055\u308c\u3001\u4f55\u5ea6\u3082\u547c\u3070\u308c\u308b\u3002  \n* \u3069\u3046\u3057\u3066\u3082\u66f8\u304d\u305f\u3044\u6642\u306f`<script>` \u306b `data-turbolinks-eval=\"false\"`\u3068\u66f8\u3051\u30701\u5ea6\u3057\u304b\u5b9f\u884c\u3055\u308c\u306a\u3044\n\n#### js, css, `<meta>`\u30bf\u30b0\u306a\u3069`<head>`\u3092\u30da\u30fc\u30b8\u3054\u3068\u306b\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f`data-turbolinks-track`\u3092\u8a18\u8ff0\u3059\u308b\n\n* \u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308bjs\u3084css\u306a\u3069\u304c\u8aad\u307f\u8fbc\u307e\u308c\u306a\u3044\u3053\u3068\u3092\u9632\u3050\u305f\u3081\n\n#### Rails\u5074\u3067\u30af\u30ed\u30b9\u30c9\u30e1\u30a4\u30f3\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3059\u308b\u30ea\u30f3\u30af\u306b\u306f`data-no-turbolink`\u3092\u6307\u5b9a\u3059\u308b\n\n* \u7121\u99c4\u306a\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u672a\u7136\u306b\u9632\u3050\n\n#### \u3067\u304d\u308b\u3060\u3051application.js, application.css\u306b\u307e\u3068\u3081\u308b\n\n* css\u3084js\u304c\u5909\u308f\u308b\u3068Turbolinks\u3067\u9077\u79fb\u3067\u304d\u305a\u3001\u518d\u63cf\u753b\u3055\u308c\u308b\u306e\u3067\u305b\u3063\u304b\u304f\u306e\u65e8\u5473\u304c\u6e1b\u308b\u3002\n* \u7121\u99c4\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u304c2\u5ea6\u98db\u3076\u306e\u3067Turbolinks\u4f7f\u308f\u306a\u3044\u5834\u5408\u3088\u308a\u9045\u304f\u306a\u308b\u3053\u3068\u3082\u3002\n* \u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u304c\u7570\u306a\u308b\u3068Turbolinks\u306f\u305d\u3082\u305d\u3082\u52d5\u4f5c\u3057\u306a\u3044\u305f\u3081\u3001\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u3054\u3068\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u308b\u306e\u306f\u3042\u308a\u3002\n\n\n## Turbolinks\u306b\u5411\u3044\u3066\u3044\u308b\u30b5\u30a4\u30c8\n* javascript\u306e\u8a18\u8ff0\u91cf\u304c\u5c11\u306a\u3044\n* Rails\u304c\u751f\u6210\u3057\u305f\u30d3\u30e5\u30fc\u3092\u8fd4\u3059\u4e8b\u304c\u30e1\u30a4\u30f3\u3067\u3042\u308b\u30b5\u30a4\u30c8\n* \u958b\u767a\u30b3\u30b9\u30c8\u4e0a\u3052\u3066\u3067\u3082\u30da\u30fc\u30b8\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u9ad8\u901f\u5316\u3057\u305f\u3044\u7528\u9014\u304c\u3042\u308b\n\n## Turbolinks\u306b\u5411\u304b\u306a\u3044\u30b5\u30a4\u30c8\n* \u3059\u3067\u306bJavascript\u3092\u591a\u304f\u8a18\u8ff0\u3057\u3066\u308b\n* Javascript\u306eclientside framework\u3092\u30b5\u30a4\u30c8\u3067\u591a\u304f\u4f7f\u7528\u3057\u3066\u3044\u308b(Backbone, Angular\u7b49)\n* \u30da\u30fc\u30b8\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3092\u9ad8\u901f\u5316\u3059\u308b\u5fc5\u8981\u304c\u306a\u3044\u898f\u6a21\u306e\u30b5\u30a4\u30c8\n* subdomain\u3092\u30b5\u30a4\u30c8\u3067\u591a\u7528\u3057\u3066\u3044\u308b\n* \u30da\u30fc\u30b8\u3054\u3068\u306bcss, js\u3092\u5206\u3051\u3066\u8a18\u8ff0\u3057\u3066\u3044\u308b\n\n## Turbolinks\u306e\u826f\u3044\u70b9\u30fb\u60aa\u3044\u70b9\n\n### \u826f\u3044\u70b9\n* Turbolinks\u3092\u4f7f\u3046\u3068\u30da\u30fc\u30b8\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u901f\u304f\u306a\u308b ([turbolinks_test](https://github.com/steveklabnik/turbolinks_test/tree/all_the_assets))\n* \u623b\u308b\u30dc\u30bf\u30f3\u3067\u753b\u9762\u9077\u79fb\u3059\u308b\u5834\u5408\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u5fa9\u5143\u3057\u30b5\u30fc\u30d0\u30fc\u306b\u30a2\u30af\u30bb\u30b9\u3057\u306a\u3044\u305f\u3081\u8d85\u9ad8\u901f\u3002\n* \u3046\u307e\u304f\u4f7f\u3044\u3053\u306a\u3059\u4e8b\u304c\u51fa\u6765\u308c\u3070\u30ea\u30af\u30a8\u30b9\u30c8\u6570\u3092\u6e1b\u3089\u3059\u4e8b\u304c\u51fa\u6765\u308b\u3002\n* Rails4.0\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u7d041\u5e74\u3061\u3087\u3063\u3068\u3002\u305d\u308d\u305d\u308d\u60c5\u5831\u3092\u8abf\u3079\u308b\u4e8b\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u304d\u305f\u3002\n* \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u8aad\u3080\u3068\u305d\u3093\u306a\u306b\u96e3\u3057\u304f\u306a\u3044\n\n### \u60aa\u3044\u70b9\n* js\u3084\u30d6\u30e9\u30a6\u30b6\u306e\u524d\u63d0\u3092\u8986\u3059\u3002\n  * ready\u304c\u547c\u3070\u308c\u306a\u3044\n  * header\u304c\u5909\u5316\u3057\u306a\u3044\u7b49\n* \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u30c7\u30b6\u30a4\u30ca\u30fc\u306b\u8ca0\u62c5\u3092\u66f8\u3051\u3066\u3057\u307e\u3046\u5834\u5408\u304c\u591a\u3044\n* js\u3092Turbolinks\u4f9d\u5b58\u3057\u305f\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308b\n* Turboliks\u3067\u9077\u79fb\u51fa\u6765\u306a\u3044\u5834\u5408\u3001\u4e0d\u8981\u306a\u30a2\u30af\u30bb\u30b9\u304c\u5897\u3048\u308b\n* \u672c\u6765Turbolinks\u3067\u9077\u79fb\u51fa\u6765\u308b\u306f\u305a\u306e\u30ea\u30f3\u30af(ignoreClick\u3067\u306a\u3044)\u304ccss, js\u304c\u7570\u306a\u308b\u7406\u7531\u3067\u5931\u6557\u3059\u308b\u5834\u5408,2\u56de\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u98db\u3076\u306e\u3067\u9006\u306b\u9045\u304f\u306a\u308b\u3002\n\n## \u307e\u3068\u3081\n* Turbolinks\u3067\u3046\u307e\u304f\u9077\u79fb\u3067\u304d\u308b\u3088\u3046\u306b\u69cb\u7bc9\u3057\u3066\u3044\u308b\u3068\u30da\u30fc\u30b8\u306e\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u65e9\u304f\u306a\u308b\u3002\n* \u9006\u306bTurbolinks\u3067\u3046\u307e\u304f\u9077\u79fb\u3067\u304d\u308b\u3088\u3046\u306b\u69cb\u7bc9\u3057\u3066\u3044\u306a\u3044\u3068\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u591a\u304f\u767a\u751f\u3057\u9006\u306b\u9045\u304f\u306a\u308b\u5834\u5408\u304c\u3042\u308b\u3002\n* 'page:change'\u306f\u53e4\u3044\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u52d5\u304b\u306a\u3044\u306e\u3067\u4f7f\u7528\u3059\u308b\u306e\u306b\u306f\u6ce8\u610f\u3059\u308b\u3002\n* js\u3092\u66f8\u304f\u5834\u5408\u306fTurbolinks\u306e\u6319\u52d5\u3092\u7406\u89e3\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\u3002\n* \u305f\u3076\u3093\u307b\u3068\u3093\u3069\u306eweb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3002\n\n### \u958b\u767a\u30b3\u30b9\u30c8\u304c\u3042\u304c\u308a\u82e6\u52b4\u3092\u3059\u308b\u9762\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u9069\u5207\u306b\u4f7f\u3046\u3068\u305d\u308c\u306a\u308a\u306b\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308b\u306e\u3067\u3001\u4f7f\u7528\u7528\u9014\u3092\u3057\u3063\u304b\u308a\u8003\u3048\u904b\u7528\u3059\u308b\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n\n\n## \u8ffd\u8a18\n[Turbolinks\u3068\u30d7\u30ed\u30b0\u30ec\u30b9\u30d0\u30fc\u3092\u3042\u308f\u305b\u308b\u3068\u958b\u767a\u304c\u304b\u306a\u308a\u6357\u308b nprogress-rails](http://qiita.com/saboyutaka/items/34d65201600ba00ea930)\n\n[Turbolinks 3\u3053\u305dRails\u306e\u672a\u6765](http://qiita.com/saboyutaka/items/2cd40f7942f8463dcfde)\n\n\u3092\u66f8\u3044\u305f\u306e\u3067\u3053\u3061\u3089\u3082\u3069\u3046\u305e\u3002\n", "tags": ["turbolinks", "JavaScript", "Ruby", "Rails4"]}