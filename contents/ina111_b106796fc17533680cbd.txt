{"context": " More than 1 year has passed since last update.\u2028scipy0.16\u304b\u3089\u306e\u6a5f\u80fd\u3067\u3001\u53d6\u5f97\u3057\u305f\u4fe1\u53f7\u306bFFT\u304b\u3051\u305f\u3082\u306e\u306e\u6642\u9593\u5909\u5316\u306e\u53ef\u8996\u5316\u3092\u5bb9\u6613\u306b\u66f8\u304f\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u305f\u3002\u4efb\u610f\u306e\u30c7\u30fc\u30bf\u3067\u58f0\u97f3\u5206\u6790\u307f\u305f\u3044\u306a\u3053\u3068\u304c\u53ef\u80fd\u3002\n\u81ea\u5206\u306eMac\u74b0\u5883\u3067\u306fanaconda\u3067python\u3092\u5165\u308c\u3066\u3044\u3066\u3001scipy\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304b\u3063\u305f\u306e\u3067\u3001\nconda update scipy\n\n\u3092\u3057\u3066\u3001Scipy\u3092\u65b0\u3057\u3044\u306e\u306b\u3057\u305f\u3002\n\u6642\u9593\u5909\u5316\u3092\u8ffd\u3046\u306e\u3067\u306f\u306a\u3044\u5834\u5408\u306fscipy\u306efftpack\u3092\u4f7f\u3046\u3002\n\npython\u4f7f\u7528\u74b0\u5883\n\u79c1\u306fanaconda\u306b\u3066\u69cb\u7bc9\u3001python2.7,scipy0.16,Mac OSX\n\n\u975e\u5b9a\u5e38\u306e\u5468\u6ce2\u6570\u89e3\u6790\nscipy.fftpack\u306e\u95a2\u6570\u306eFFT\u3067\u306f\u5b9a\u5e38\u306e\u4fe1\u53f7\u306e\u4fe1\u53f7\u306e\u53ef\u8996\u5316\u306f\u3067\u304d\u308b\u304c\u3001\u975e\u5b9a\u5e38\u306a\u4fe1\u53f7\u306e\u6642\u9593\u65b9\u5411\u306e\u5468\u6ce2\u6570\u5909\u5316\u3092\u53ef\u8996\u5316\u3057\u3065\u3089\u3044\u3002scipy.signal\u306espectrogram\u3092\u4f7f\u3046\u3068FFT\u3057\u305f\u7d50\u679c\u306e\u6642\u9593\u5909\u5316\u304c\u53ef\u8996\u5316\u51fa\u6765\u308b\u3002\n\u4f8b\u3048\u3070\u3001\u81ea\u5206\u306e\u624b\u5143\u30c7\u30fc\u30bf\u3067\u3084\u3063\u3066\u307f\u308b\u3002\n\u3053\u3053\u3067\u306ffft.py\u3068\u3044\u3046\u30b9\u30af\u30ea\u30d7\u30c8\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bdata.CSV\u3068\u3044\u30461\u5217\u76ee\u6642\u9593\u30012\u5217\u76ee\u30c7\u30fc\u30bf\u3092\u7f6e\u3044\u305fCSV\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u3044\u305f\u3002\n\u30c7\u30fc\u30bf\u306f10kHz\u3067\u53d6\u5f97\u3057\u305f\u3082\u306e\u3002\n\n\u30b3\u30fc\u30c9\n\nfft.py\n# -*- coding: utf-8 -*\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy import fftpack\nfrom scipy import signal\n\nplt.close('all')\n\ninput_file = u\"data.CSV\"\n(time, data) = np.loadtxt(input_file,unpack=True, delimiter=\",\",usecols = (0,1))\n\nfs = 10000.0 # \u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u5468\u6ce2\u6570\nf,t,Sxx = signal.spectrogram(data, fs, nperseg=512)\n\nplt.figure()\nplt.pcolormesh(t,f,Sxx,vmax=1e-6)\nplt.xlim([0,18])\nplt.xlabel(u\"\u6642\u9593 [sec]\")\nplt.ylabel(u\"\u5468\u6ce2\u6570 [Hz]\")\n# plt.colorbar()\nplt.show()\n\n\nsignal.spectrogram\u306enperseg\u306f\u5468\u6ce2\u6570\u306e\u5206\u5272\u6570\u3053\u3053\u3092\u5909\u3048\u308b\u3068\u5206\u5272\u6570\u304c\u5909\u308f\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8256\u3002\n\u5468\u6ce2\u6570\u306e\u7acb\u3061\u65b9\u306b\u3088\u3063\u3066\u306f\u30ab\u30e9\u30fc\u30de\u30c3\u30d7\u304c\u898b\u3065\u3089\u304f\u306a\u308b\u306e\u3067\u3001matplolib\u306epcolormesh\u306evmax/vmin\u306e\u5024\u3092\u6307\u5b9a\u3057\u3066\u3084\u308b\u3068\u826f\u3044\u3002\n\n\n\u53c2\u8003\nhttp://docs.scipy.org/doc/scipy-dev/reference/generated/scipy.signal.spectrogram.html#scipy.signal.spectrogram\nhttp://docs.scipy.org/doc/scipy/reference/fftpack.html\n\u2028scipy0.16\u304b\u3089\u306e\u6a5f\u80fd\u3067\u3001\u53d6\u5f97\u3057\u305f\u4fe1\u53f7\u306bFFT\u304b\u3051\u305f\u3082\u306e\u306e\u6642\u9593\u5909\u5316\u306e\u53ef\u8996\u5316\u3092\u5bb9\u6613\u306b\u66f8\u304f\u3053\u3068\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u305f\u3002\u4efb\u610f\u306e\u30c7\u30fc\u30bf\u3067\u58f0\u97f3\u5206\u6790\u307f\u305f\u3044\u306a\u3053\u3068\u304c\u53ef\u80fd\u3002\n\u81ea\u5206\u306eMac\u74b0\u5883\u3067\u306fanaconda\u3067python\u3092\u5165\u308c\u3066\u3044\u3066\u3001scipy\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304b\u3063\u305f\u306e\u3067\u3001\n\n`conda update scipy\n`\n\n\u3092\u3057\u3066\u3001Scipy\u3092\u65b0\u3057\u3044\u306e\u306b\u3057\u305f\u3002\n\u6642\u9593\u5909\u5316\u3092\u8ffd\u3046\u306e\u3067\u306f\u306a\u3044\u5834\u5408\u306fscipy\u306efftpack\u3092\u4f7f\u3046\u3002\n\n## python\u4f7f\u7528\u74b0\u5883\n\u79c1\u306fanaconda\u306b\u3066\u69cb\u7bc9\u3001python2.7,scipy0.16,Mac OSX\n\n## \u975e\u5b9a\u5e38\u306e\u5468\u6ce2\u6570\u89e3\u6790\nscipy.fftpack\u306e\u95a2\u6570\u306eFFT\u3067\u306f\u5b9a\u5e38\u306e\u4fe1\u53f7\u306e\u4fe1\u53f7\u306e\u53ef\u8996\u5316\u306f\u3067\u304d\u308b\u304c\u3001\u975e\u5b9a\u5e38\u306a\u4fe1\u53f7\u306e\u6642\u9593\u65b9\u5411\u306e\u5468\u6ce2\u6570\u5909\u5316\u3092\u53ef\u8996\u5316\u3057\u3065\u3089\u3044\u3002scipy.signal\u306espectrogram\u3092\u4f7f\u3046\u3068FFT\u3057\u305f\u7d50\u679c\u306e\u6642\u9593\u5909\u5316\u304c\u53ef\u8996\u5316\u51fa\u6765\u308b\u3002\n\n\u4f8b\u3048\u3070\u3001\u81ea\u5206\u306e\u624b\u5143\u30c7\u30fc\u30bf\u3067\u3084\u3063\u3066\u307f\u308b\u3002\n\u3053\u3053\u3067\u306ffft.py\u3068\u3044\u3046\u30b9\u30af\u30ea\u30d7\u30c8\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bdata.CSV\u3068\u3044\u30461\u5217\u76ee\u6642\u9593\u30012\u5217\u76ee\u30c7\u30fc\u30bf\u3092\u7f6e\u3044\u305fCSV\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u3044\u305f\u3002\n\u30c7\u30fc\u30bf\u306f10kHz\u3067\u53d6\u5f97\u3057\u305f\u3082\u306e\u3002\n\n\n## \u30b3\u30fc\u30c9\n```python:fft.py\n# -*- coding: utf-8 -*\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy import fftpack\nfrom scipy import signal\n\nplt.close('all')\n\ninput_file = u\"data.CSV\"\n(time, data) = np.loadtxt(input_file,unpack=True, delimiter=\",\",usecols = (0,1))\n\nfs = 10000.0 # \u30b5\u30f3\u30d7\u30ea\u30f3\u30b0\u5468\u6ce2\u6570\nf,t,Sxx = signal.spectrogram(data, fs, nperseg=512)\n\nplt.figure()\nplt.pcolormesh(t,f,Sxx,vmax=1e-6)\nplt.xlim([0,18])\nplt.xlabel(u\"\u6642\u9593 [sec]\")\nplt.ylabel(u\"\u5468\u6ce2\u6570 [Hz]\")\n# plt.colorbar()\nplt.show()\n```\n\nsignal.spectrogram\u306enperseg\u306f\u5468\u6ce2\u6570\u306e\u5206\u5272\u6570\u3053\u3053\u3092\u5909\u3048\u308b\u3068\u5206\u5272\u6570\u304c\u5909\u308f\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8256\u3002\n\u5468\u6ce2\u6570\u306e\u7acb\u3061\u65b9\u306b\u3088\u3063\u3066\u306f\u30ab\u30e9\u30fc\u30de\u30c3\u30d7\u304c\u898b\u3065\u3089\u304f\u306a\u308b\u306e\u3067\u3001matplolib\u306epcolormesh\u306evmax/vmin\u306e\u5024\u3092\u6307\u5b9a\u3057\u3066\u3084\u308b\u3068\u826f\u3044\u3002\n\n![spectram.png](https://qiita-image-store.s3.amazonaws.com/0/40132/34784eb0-2ed3-ca16-5bbd-920ac80f3549.png \"spectram.png\")\n\n\n\n## \u53c2\u8003\nhttp://docs.scipy.org/doc/scipy-dev/reference/generated/scipy.signal.spectrogram.html#scipy.signal.spectrogram\n\nhttp://docs.scipy.org/doc/scipy/reference/fftpack.html\n", "tags": ["Python", "scipy", "FFT"]}