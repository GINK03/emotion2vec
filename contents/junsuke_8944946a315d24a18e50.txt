{"context": " More than 1 year has passed since last update.sh(22), http(80)\u306e\u307f\u958b\u3051\u308b\u3002\n\n\u8a2d\u5b9a\u78ba\u8a8d\n# iptables -L\n\n\n\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8\n\n/root/bin/iptables.sh\n#!/bin/bash\n\n#iptables\niptables -F INPUT\niptables -F OUTPUT\niptables -F FORWARD\niptables -F\niptables -X\niptables -Z\n\niptables -P INPUT DROP\niptables -P OUTPUT ACCEPT\niptables -P FORWARD DROP\n\niptables -A INPUT -p icmp -j ACCEPT\niptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT\niptables -A INPUT -i lo -j ACCEPT\n\niptables -A INPUT -p tcp --dport 22 -j ACCEPT\niptables -A INPUT -p tcp --dport 80 -j ACCEPT\n\nservice iptables save\nservice iptables restart\n\n#ip6tables\nip6tables -F INPUT\nip6tables -F OUTPUT\nip6tables -F FORWARD\nip6tables -F\nip6tables -X\nip6tables -Z\n\nip6tables -P INPUT DROP\nip6tables -P OUTPUT ACCEPT\nip6tables -P FORWARD DROP\n\nip6tables -A INPUT -p icmp -j ACCEPT\nip6tables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT\nip6tables -A INPUT -i lo -j ACCEPT\n\nip6tables -A INPUT -p tcp --dport 22 -j ACCEPT\nip6tables -A INPUT -p tcp --dport 80 -j ACCEPT\n\nservice ip6tables save\nservice ip6tables restart\n\n\n# chmod 755 /root/bin/iptables.sh\n# /root/bin/iptables.sh\n\n\nTips\n\n\u76f4\u63a5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\n# vi /etc/sysconfig/iptables\n\n\n\u73fe\u5728\u306eiptables\u306e\u8a2d\u5b9a\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\n# /sbin/iptables-save > /etc/sysconfig/iptables\n\n\n\u53c2\u8003\nhttp://www3.big.or.jp/~sian/linux/tips/iptables.html\nhttp://saoshi.gooside.com/\nhttp://gatyaex.wordpress.com/2011/03/05/serversmanvps%E3%81%AE%E3%83%A1%E3%83%A2%E3%80%80%EF%BD%9E-ip6tables-%EF%BD%9E/#more-254\nhttp://www.t-pad.net/archives/554\nhttp://naokuni.fc2web.com/study/router/iptables/\nhttp://shibayu36.hatenablog.com/entry/20111229/1325152248\n\n\u74b0\u5883\nCentOS6.4 (\u3055\u304f\u3089\u306eVPS)\nsh(22), http(80)\u306e\u307f\u958b\u3051\u308b\u3002\n\n##\u8a2d\u5b9a\u78ba\u8a8d\n```\n# iptables -L\n```\n\n\n##\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8\n```sh:/root/bin/iptables.sh\n#!/bin/bash\n\n#iptables\niptables -F INPUT\niptables -F OUTPUT\niptables -F FORWARD\niptables -F\niptables -X\niptables -Z\n\niptables -P INPUT DROP\niptables -P OUTPUT ACCEPT\niptables -P FORWARD DROP\n\niptables -A INPUT -p icmp -j ACCEPT\niptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT\niptables -A INPUT -i lo -j ACCEPT\n\niptables -A INPUT -p tcp --dport 22 -j ACCEPT\niptables -A INPUT -p tcp --dport 80 -j ACCEPT\n\nservice iptables save\nservice iptables restart\n\n#ip6tables\nip6tables -F INPUT\nip6tables -F OUTPUT\nip6tables -F FORWARD\nip6tables -F\nip6tables -X\nip6tables -Z\n\nip6tables -P INPUT DROP\nip6tables -P OUTPUT ACCEPT\nip6tables -P FORWARD DROP\n\nip6tables -A INPUT -p icmp -j ACCEPT\nip6tables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT\nip6tables -A INPUT -i lo -j ACCEPT\n\nip6tables -A INPUT -p tcp --dport 22 -j ACCEPT\nip6tables -A INPUT -p tcp --dport 80 -j ACCEPT\n\nservice ip6tables save\nservice ip6tables restart\n```\n```\n# chmod 755 /root/bin/iptables.sh\n# /root/bin/iptables.sh\n```\n\n\n##Tips\n\n###\u76f4\u63a5\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\n```\n# vi /etc/sysconfig/iptables\n```\n\n###\u73fe\u5728\u306eiptables\u306e\u8a2d\u5b9a\u3092\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u8fbc\u3080\n```\n# /sbin/iptables-save > /etc/sysconfig/iptables\n```\n\n\n####\u53c2\u8003\nhttp://www3.big.or.jp/~sian/linux/tips/iptables.html\nhttp://saoshi.gooside.com/\nhttp://gatyaex.wordpress.com/2011/03/05/serversmanvps%E3%81%AE%E3%83%A1%E3%83%A2%E3%80%80%EF%BD%9E-ip6tables-%EF%BD%9E/#more-254\nhttp://www.t-pad.net/archives/554\nhttp://naokuni.fc2web.com/study/router/iptables/\nhttp://shibayu36.hatenablog.com/entry/20111229/1325152248\n\n\n####\u74b0\u5883\nCentOS6.4 (\u3055\u304f\u3089\u306eVPS)", "tags": ["CentOS6.x", "Linux", "iptables"]}