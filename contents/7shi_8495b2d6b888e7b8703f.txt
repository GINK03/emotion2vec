{"context": "\u516b\u5143\u6570\u306f\u9805\u304c\u591a\u304f\u3066\u7a4d\u306e\u8a08\u7b97\u304c\u5927\u5909\u3067\u3059\u3002\u305d\u3053\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u3063\u3066\u7a4d\u30fb\u4e8c\u4e57\u30fb\u30ce\u30eb\u30e0\u306e\u4e8c\u4e57\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u516b\u5143\u6570\u306e\u865a\u90e8\u30927\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u3067\u3001\u7a4d\u304b\u3089\u5185\u7a4d\u3068\u5916\u7a4d\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\n\\vec{v}\\vec{w}=-\\underbrace{\\vec{v}\\cdot\\vec{w}}_{\u5185\u7a4d}+\\underbrace{\\vec{v}\u00d7\\vec{w}}_{\u5916\u7a4d}\n\n\u30b7\u30ea\u30fc\u30ba\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u591a\u9805\u5f0f\u306e\u7a4d\u3092\u8a08\u7b97\n\u5916\u7a4d\u3068\u6109\u5feb\u306a\u4ef2\u9593\u305f\u3061\n\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u7a7a\u9593\u306e\u30db\u30c3\u30b8\u53cc\u5bfe\u3068\u30d0\u30d6\u30eb\u30bd\u30fc\u30c8\n\u56db\u5143\u6570\u3092\u4f5c\u308d\u3046\n\u56db\u5143\u6570\u3068\u884c\u5217\u3067\u898b\u308b\u5185\u7a4d\u3068\u5916\u7a4d\u306e\u300c\u5185\u300d\u3068\u300c\u5916\u300d\n\u516b\u5143\u6570\u3092\u4f5c\u308d\u3046\n\u516b\u5143\u6570\u306e\u7a4d\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u78ba\u8a8d \u2190 \u3053\u306e\u8a18\u4e8b\n\u5916\u7a4d\u306e\u6210\u5206\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u78ba\u8a8d\n\u591a\u5143\u6570\u306e\u7a4d\u306e\u69cb\u6210\n\u5341\u516d\u5143\u6570\u3092\u4f5c\u308d\u3046\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\n\u516b\u5143\u6570\u306b\u95a2\u9023\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5f15\u7528\u3057\u307e\u3059\u3002Math7.fsx \u3068 Math7.Term.fsx \u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u5168\u4f53\u306f\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nMath7 \u306b\u516b\u5143\u6570\u306e\u8a08\u7b97\u65b9\u6cd5\u3092\u6559\u3048\u3066\u8a08\u7b97\u3055\u305b\u307e\u3059\u3002\n\nMath7.Octonion.fsx\nnamespace Math7\n\n#load \"Math7.Term.fsx\"\n\ntype octonion =\n    E | I | J | K | H of octonion\n\n    override x.ToString() =\n        match x with\n        |   E -> \"1\" | I -> \"i\" | J -> \"j\" | K -> \"k\"\n        | H E -> \"h\"\n        | H x -> string x + \"_h\"\n\n    member x.N =\n        match x with\n        | E -> 0 | I -> 1 | J -> 2 | K -> 3\n        | H x -> x.N + 4\n\n    member x.Next =\n        match x with\n        |   I -> J\n        |   J -> K\n        |   K -> I\n        | H x -> H x.Next\n        |   x -> x\n\n    static member (*)(a:octonion, b:octonion) =\n        match a, b with\n        |   x,   E            ->  1,   x  // i1 = i\n        |   E,   y            ->  1,   y  // 1i = i\n        |   x,   y when x = y -> -1,   E  // ii = -1\n        | H x, H E            -> -1,   x  // i_hh = -i\n        | H x, H y            -> y * x    // i_hj_h = ji\n        |   x, H E            ->  1, H x  // ih = i_h\n        |   x, H y when x = y -> -1, H E  // ii_h = -h\n        |   x, H y -> let c, z = y * x    // ij_h = (ji)h\n                      c, H z\n        |   x,   y when x.Next = y        // ij = k\n                   -> 1, y.Next\n        |   x,   y -> let c, z = y * x    // ji = -ij\n                      -c, z\n\nmodule Octonion =\n    let tests = testList()\n\n    let octs = [| E; I; J; K; H E; H I; H J; H K |]\n    let oct x = octs.[x]\n    let ijkh = function\n    | 0 -> \"\"\n    | x -> string (oct x)\n\n    let str es = es |> Seq.map ijkh |> Seq.filter ((<>) \"\") |> Term.strPower\n\n    let prod es =\n        let n, e = es |> Seq.fold (fun (n, x) y ->\n            let m, z = oct x * oct y\n            n * m, z.N) (1, E.N)\n        term(n, [], if e = E.N then [] else [e])\n\n    let conj = List.map <| fun (t:term) ->\n        if t.E.IsEmpty then t else -1 * t\n\n    let showProd title =\n        Term.showProd title \"\" str prod id Term.byIndexSign\n\n\n\nOctonionProduct.fsx\n#load \"Math7.Octonion.fsx\"\nopen Math7\n\nlet a = [for i in [1..7] -> term(1, [sprintf \"a_%d\" i], [i])]\nlet b = [for i in [1..7] -> term(1, [sprintf \"b_%d\" i], [i])]\nlet aa = term(1, [\"a_0\"], [])::a\nlet bb = term(1, [\"b_0\"], [])::b\nOctonion.showProd \"## \u7a4d\uff08\u865a\u90e8\uff09\" (fun _ -> true) a b\nOctonion.showProd \"## \u7a4d\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\" (fun _ -> true) aa bb\nOctonion.showProd \"## \u4e8c\u4e57\uff08\u865a\u90e8\uff09\" (fun _ -> true) a a\nOctonion.showProd \"## \u4e8c\u4e57\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\" ((=) 1) aa aa\nOctonion.showProd \"## \u30ce\u30eb\u30e0\u306e\u4e8c\u4e57\" (fun _ -> true) (Octonion.conj aa) aa\n\n\n\u51fa\u529b\u7d50\u679c\u306b\u30b3\u30e1\u30f3\u30c8\u3092\u4ed8\u3051\u3066\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u7a4d\uff08\u865a\u90e8\uff09\n\u5192\u982d\u3067\u8ff0\u3079\u305f\u3088\u3046\u306b\u3001\u5185\u7a4d\u3068\u5916\u7a4d\u3092\u8a08\u7b97\u3059\u308b\u3053\u3068\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\n\\begin{align}\n&(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h)(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&=a_1i(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_2j(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_3k(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_4h(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_5i_h(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_6j_h(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_7k_h(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&=a_1b_1\\underbrace{i^2}_{-1}+a_1b_2\\underbrace{ij}_{k}+a_1b_3\\underbrace{ik}_{-j}+a_1b_4\\underbrace{ih}_{i_h}+a_1b_5\\underbrace{ii_h}_{-h}+a_1b_6\\underbrace{ij_h}_{-k_h}+a_1b_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad +a_2b_1\\underbrace{ji}_{-k}+a_2b_2\\underbrace{j^2}_{-1}+a_2b_3\\underbrace{jk}_{i}+a_2b_4\\underbrace{jh}_{j_h}+a_2b_5\\underbrace{ji_h}_{k_h}+a_2b_6\\underbrace{jj_h}_{-h}+a_2b_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad +a_3b_1\\underbrace{ki}_{j}+a_3b_2\\underbrace{kj}_{-i}+a_3b_3\\underbrace{k^2}_{-1}+a_3b_4\\underbrace{kh}_{k_h}+a_3b_5\\underbrace{ki_h}_{-j_h}+a_3b_6\\underbrace{kj_h}_{i_h}+a_3b_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad +a_4b_1\\underbrace{hi}_{-i_h}+a_4b_2\\underbrace{hj}_{-j_h}+a_4b_3\\underbrace{hk}_{-k_h}+a_4b_4\\underbrace{h^2}_{-1}+a_4b_5\\underbrace{hi_h}_{i}+a_4b_6\\underbrace{hj_h}_{j}+a_4b_7\\underbrace{hk_h}_{k} \\\\\n&\\quad +a_5b_1\\underbrace{i_hi}_{h}+a_5b_2\\underbrace{i_hj}_{-k_h}+a_5b_3\\underbrace{i_hk}_{j_h}+a_5b_4\\underbrace{i_hh}_{-i}+a_5b_5\\underbrace{i_h^2}_{-1}+a_5b_6\\underbrace{i_hj_h}_{-k}+a_5b_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad +a_6b_1\\underbrace{j_hi}_{k_h}+a_6b_2\\underbrace{j_hj}_{h}+a_6b_3\\underbrace{j_hk}_{-i_h}+a_6b_4\\underbrace{j_hh}_{-j}+a_6b_5\\underbrace{j_hi_h}_{k}+a_6b_6\\underbrace{j_h^2}_{-1}+a_6b_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad +a_7b_1\\underbrace{k_hi}_{-j_h}+a_7b_2\\underbrace{k_hj}_{i_h}+a_7b_3\\underbrace{k_hk}_{h}+a_7b_4\\underbrace{k_hh}_{-k}+a_7b_5\\underbrace{k_hi_h}_{-j}+a_7b_6\\underbrace{k_hj_h}_{i}+a_7b_7\\underbrace{k_h^2}_{-1} \\\\\n&=-(a_1b_1+a_2b_2+a_3b_3+a_4b_4+a_5b_5+a_6b_6+a_7b_7) \\\\\n&\\quad +(a_2b_3-a_3b_2+a_4b_5-a_5b_4+a_7b_6-a_6b_7)i \\\\\n&\\quad +(a_3b_1-a_1b_3+a_4b_6-a_6b_4+a_5b_7-a_7b_5)j \\\\\n&\\quad +(a_1b_2-a_2b_1+a_4b_7-a_7b_4+a_6b_5-a_5b_6)k \\\\\n&\\quad +(a_5b_1-a_1b_5+a_6b_2-a_2b_6+a_7b_3-a_3b_7)h \\\\\n&\\quad +(a_1b_4-a_4b_1+a_7b_2-a_2b_7+a_3b_6-a_6b_3)i_h \\\\\n&\\quad +(a_1b_7-a_7b_1+a_2b_4-a_4b_2+a_5b_3-a_3b_5)j_h \\\\\n&\\quad +(a_6b_1-a_1b_6+a_2b_5-a_5b_2+a_3b_4-a_4b_3)k_h \\\\\n\\end{align}\n\n$i$ \u306e\u4fc2\u6570\u3092 $(a_2b_3-a_3b_2)+(a_4b_5-a_5b_4)+(a_7b_6-a_6b_7)$ \u306e\u3088\u3046\u306b\u4e09\u5206\u5272\u3057\u3066\u898b\u308c\u3070\u30013\u6b21\u5143\u306e\u5916\u7a4d\u304c\u4e09\u91cd\u306b\u5165\u3063\u305f\u3088\u3046\u306a\u5f62\u3092\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6c17\u4ed8\u304d\u307e\u3059\u30023\u6b21\u5143\u3067\u306f1\u3064\u306e\u4fc2\u6570\u306b $3-1=2$ \u500b\u306e\u9805\u304c\u5165\u308a\u307e\u3059\u304c\u30017\u6b21\u5143\u3067\u306f $7-1=6$ \u500b\u306e\u9805\u304c\u5165\u308a\u307e\u3059\u3002\u3053\u308c\u304c\u4e09\u91cd\u306b\u898b\u3048\u308b\u7406\u7531\u3067\u3059\u3002\n\u203b \u516b\u5143\u6570\u306e\u865a\u90e8\u3067\u8868\u3055\u308c\u308b7\u6b21\u5143\u7a7a\u9593\u306f\u30d5\u30e9\u30c3\u30c8\u306a\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u7a7a\u9593\u3067\u306f\u306a\u304f\u3001\u30d5\u30a1\u30ce\u5e73\u9762\u3067\u8868\u3055\u308c\u308b3\u6b21\u5143\u306e\u90e8\u5206\u7a7a\u9593\u304c\u91cd\u306a\u3063\u305f\u5f62\u3092\u3057\u3066\u304a\u308a\u3001\u500b\u5225\u306b\u898b\u308c\u30703\u6b21\u5143\u7a7a\u9593\u306e\u305f\u3081\u30d9\u30af\u30c8\u30eb\u7a4d\u304c\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\u8a73\u7d30\u306f\u6a5f\u4f1a\u304c\u3042\u308c\u3070\u307e\u3068\u3081\u308b\u4e88\u5b9a\u3067\u3059\u3002\n\u307e\u305f\u3001\u4fc2\u6570\u306f\u57fa\u5e95\uff08$i$ \u306f1\u756a\u76ee\uff09\u3092\u9664\u3044\u305f\u6dfb\u5b57\uff082,3,4,5,6,7\uff09\u304c\u4f7f\u308f\u308c\u3066\u304a\u308a\u3001\u76f8\u88dc\u7684\u306a\u95a2\u4fc2\u306b\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\u4ed6\u306e\u9805\u3082\u540c\u69d8\u3067\u3059\u3002\u3053\u308c\u306f3\u6b21\u5143\u306e\u5916\u7a4d\u3068\u5171\u901a\u3059\u308b\u7279\u5fb4\u3067\u3059\u3002\n\u6bd4\u8f03\u3068\u3057\u3066\u56db\u5143\u6570\u306e\u7a4d\uff083\u6b21\u5143\u306e\u5185\u7a4d\u3068\u5916\u7a4d\u3092\u542b\u3080\uff09\u3092\u793a\u3057\u307e\u3059\u3002\u6210\u5206\u3092\u898b\u308c\u3070\u3001\u56db\u5143\u6570\u304c\u516b\u5143\u6570\u306e\u30b5\u30d6\u30bb\u30c3\u30c8\u3067\u3042\u308b\u3053\u3068\u304c\u898b\u3066\u53d6\u308c\u307e\u3059\u3002\n\\begin{align}\n&(a_1i+a_2j+a_3k)(b_1i+b_2j+b_3k) \\\\\n&=-(a_1b_1+a_2b_2+a_3b_3) \\\\\n&\\quad +(a_2b_3-a_3b_2)i+(a_3b_1-a_1b_3)j+(a_1b_2-a_2b_1)k \\\\\n\\end{align}\n\n\u8907\u7d20\u6570\u306b\u307e\u3067\u843d\u3068\u305b\u3070\u30011\u6b21\u5143\u3067\u306f\u5185\u7a4d\u3057\u304b\u73fe\u308c\u306a\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\u5916\u7a4d\u306f\u5e38\u306b0\u3060\u3068\u3082\u89e3\u91c8\u3067\u304d\u307e\u3059\u3002\n(a_1i)(b_1i)=-(a_1b_1)\n\n\n\u7a4d\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\n\u865a\u90e8\u3060\u3051\u306e\u8a08\u7b97\u3068\u6bd4\u3079\u308c\u3070\u3001\u5b9f\u90e8\u304c\u5404\u9805\u306b\u7d61\u307f\u3064\u3044\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\n\\begin{align}\n&(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h)(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&=a_0(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_1i(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_2j(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_3k(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_4h(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_5i_h(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_6j_h(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_7k_h(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&=a_0b_0+a_0b_1i+a_0b_2j+a_0b_3k+a_0b_4h+a_0b_5i_h+a_0b_6j_h+a_0b_7k_h \\\\\n&\\quad +a_1b_0i+a_1b_1\\underbrace{i^2}_{-1}+a_1b_2\\underbrace{ij}_{k}+a_1b_3\\underbrace{ik}_{-j}+a_1b_4\\underbrace{ih}_{i_h}+a_1b_5\\underbrace{ii_h}_{-h}+a_1b_6\\underbrace{ij_h}_{-k_h}+a_1b_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad +a_2b_0j+a_2b_1\\underbrace{ji}_{-k}+a_2b_2\\underbrace{j^2}_{-1}+a_2b_3\\underbrace{jk}_{i}+a_2b_4\\underbrace{jh}_{j_h}+a_2b_5\\underbrace{ji_h}_{k_h}+a_2b_6\\underbrace{jj_h}_{-h}+a_2b_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad +a_3b_0k+a_3b_1\\underbrace{ki}_{j}+a_3b_2\\underbrace{kj}_{-i}+a_3b_3\\underbrace{k^2}_{-1}+a_3b_4\\underbrace{kh}_{k_h}+a_3b_5\\underbrace{ki_h}_{-j_h}+a_3b_6\\underbrace{kj_h}_{i_h}+a_3b_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad +a_4b_0h+a_4b_1\\underbrace{hi}_{-i_h}+a_4b_2\\underbrace{hj}_{-j_h}+a_4b_3\\underbrace{hk}_{-k_h}+a_4b_4\\underbrace{h^2}_{-1}+a_4b_5\\underbrace{hi_h}_{i}+a_4b_6\\underbrace{hj_h}_{j}+a_4b_7\\underbrace{hk_h}_{k} \\\\\n&\\quad +a_5b_0i_h+a_5b_1\\underbrace{i_hi}_{h}+a_5b_2\\underbrace{i_hj}_{-k_h}+a_5b_3\\underbrace{i_hk}_{j_h}+a_5b_4\\underbrace{i_hh}_{-i}+a_5b_5\\underbrace{i_h^2}_{-1}+a_5b_6\\underbrace{i_hj_h}_{-k}+a_5b_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad +a_6b_0j_h+a_6b_1\\underbrace{j_hi}_{k_h}+a_6b_2\\underbrace{j_hj}_{h}+a_6b_3\\underbrace{j_hk}_{-i_h}+a_6b_4\\underbrace{j_hh}_{-j}+a_6b_5\\underbrace{j_hi_h}_{k}+a_6b_6\\underbrace{j_h^2}_{-1}+a_6b_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad +a_7b_0k_h+a_7b_1\\underbrace{k_hi}_{-j_h}+a_7b_2\\underbrace{k_hj}_{i_h}+a_7b_3\\underbrace{k_hk}_{h}+a_7b_4\\underbrace{k_hh}_{-k}+a_7b_5\\underbrace{k_hi_h}_{-j}+a_7b_6\\underbrace{k_hj_h}_{i}+a_7b_7\\underbrace{k_h^2}_{-1} \\\\\n&=(a_0b_0-a_1b_1-a_2b_2-a_3b_3-a_4b_4-a_5b_5-a_6b_6-a_7b_7) \\\\\n&\\quad +(a_0b_1+a_1b_0+a_2b_3-a_3b_2+a_4b_5-a_5b_4+a_7b_6-a_6b_7)i \\\\\n&\\quad +(a_0b_2+a_2b_0+a_3b_1-a_1b_3+a_4b_6-a_6b_4+a_5b_7-a_7b_5)j \\\\\n&\\quad +(a_0b_3+a_3b_0+a_1b_2-a_2b_1+a_4b_7-a_7b_4+a_6b_5-a_5b_6)k \\\\\n&\\quad +(a_0b_4+a_4b_0+a_5b_1-a_1b_5+a_6b_2-a_2b_6+a_7b_3-a_3b_7)h \\\\\n&\\quad +(a_0b_5+a_5b_0+a_1b_4-a_4b_1+a_7b_2-a_2b_7+a_3b_6-a_6b_3)i_h \\\\\n&\\quad +(a_0b_6+a_6b_0+a_1b_7-a_7b_1+a_2b_4-a_4b_2+a_5b_3-a_3b_5)j_h \\\\\n&\\quad +(a_0b_7+a_7b_0+a_6b_1-a_1b_6+a_2b_5-a_5b_2+a_3b_4-a_4b_3)k_h \\\\\n\\end{align}\n\n\u3053\u306e\u8a08\u7b97\u3092\u30b9\u30ab\u30e9\u30fc\u3068\u30d9\u30af\u30c8\u30eb\u306e\u548c\u306e\u7a4d\u3068\u898b\u306a\u305b\u3070\u3001\u3054\u304f\u666e\u901a\u306e\u639b\u3051\u7b97\u3068\u3057\u3066\u69cb\u9020\u304c\u898b\u3048\u3066\u6765\u307e\u3059\u3002\n\\begin{align}\n&(a_0+\\vec{a})(b_0+\\vec{b}) \\\\\n&=a_0b_0+a_0\\vec{b}+\\vec{a}b_0+\\vec{a}\\vec{b} \\\\\n&=\\underbrace{a_0b_0}_{\u30b9\u30ab\u30e9\u30fc\u7a4d}+\\underbrace{a_0\\vec{b}+b_0\\vec{a}}_{\u30b9\u30ab\u30e9\u30fc\u500d}-\\underbrace{\\vec{a}\\cdot\\vec{b}}_{\u5185\u7a4d}+\\underbrace{\\vec{a}\u00d7\\vec{b}}_{\u5916\u7a4d}\n\\end{align}\n\n$i$ \u306e\u9805\u3092 $a_0(b_1)i+b_0(a_1)i+(a_2b_3-a_3b_2+a_4b_5-a_5b_4+a_7b_6-a_6b_7)i$ \u3068\u5206\u96e2\u3059\u308c\u3070\u3001\u30d9\u30af\u30c8\u30eb\u306e\u30b9\u30ab\u30e9\u30fc\u500d\u3068\u5916\u7a4d\u304c\u91cd\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\u3053\u306e\u89e3\u91c8\u3067\u306f\u5b9f\u90e8\u306f\u30d9\u30af\u30c8\u30eb\u306e\u6210\u5206\u3067\u306f\u306a\u304f\u3001\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u306e\u306f\u865a\u90e8\u306e7\u6b21\u5143\u3067\u3059\u3002\u5b9f\u90e8\u307e\u3067\u542b\u3081\u305f8\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u3046\u307e\u304f\u89e3\u91c8\u3067\u304d\u308b\u304b\u306f\u4e0d\u660e\u3067\u3059\u3002\n\n\u4e8c\u4e57\uff08\u865a\u90e8\uff09\n\u81ea\u5206\u81ea\u8eab\u3068\u306e\u5916\u7a4d\u306f\u30bc\u30ed\u306e\u305f\u3081\u3001\u8a08\u7b97\u7d50\u679c\u306f\u5b9f\u90e8\uff08\u5185\u7a4d\uff09\u306e\u307f\u3067\u3059\u3002\n\\begin{align}\n&(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h)^2 \\\\\n&=a_1i(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_2j(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_3k(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_4h(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_5i_h(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_6j_h(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_7k_h(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&=a_1^2\\underbrace{i^2}_{-1}+a_1a_2\\underbrace{ij}_{k}+a_1a_3\\underbrace{ik}_{-j}+a_1a_4\\underbrace{ih}_{i_h}+a_1a_5\\underbrace{ii_h}_{-h}+a_1a_6\\underbrace{ij_h}_{-k_h}+a_1a_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad +a_2a_1\\underbrace{ji}_{-k}+a_2^2\\underbrace{j^2}_{-1}+a_2a_3\\underbrace{jk}_{i}+a_2a_4\\underbrace{jh}_{j_h}+a_2a_5\\underbrace{ji_h}_{k_h}+a_2a_6\\underbrace{jj_h}_{-h}+a_2a_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad +a_3a_1\\underbrace{ki}_{j}+a_3a_2\\underbrace{kj}_{-i}+a_3^2\\underbrace{k^2}_{-1}+a_3a_4\\underbrace{kh}_{k_h}+a_3a_5\\underbrace{ki_h}_{-j_h}+a_3a_6\\underbrace{kj_h}_{i_h}+a_3a_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad +a_4a_1\\underbrace{hi}_{-i_h}+a_4a_2\\underbrace{hj}_{-j_h}+a_4a_3\\underbrace{hk}_{-k_h}+a_4^2\\underbrace{h^2}_{-1}+a_4a_5\\underbrace{hi_h}_{i}+a_4a_6\\underbrace{hj_h}_{j}+a_4a_7\\underbrace{hk_h}_{k} \\\\\n&\\quad +a_5a_1\\underbrace{i_hi}_{h}+a_5a_2\\underbrace{i_hj}_{-k_h}+a_5a_3\\underbrace{i_hk}_{j_h}+a_5a_4\\underbrace{i_hh}_{-i}+a_5^2\\underbrace{i_h^2}_{-1}+a_5a_6\\underbrace{i_hj_h}_{-k}+a_5a_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad +a_6a_1\\underbrace{j_hi}_{k_h}+a_6a_2\\underbrace{j_hj}_{h}+a_6a_3\\underbrace{j_hk}_{-i_h}+a_6a_4\\underbrace{j_hh}_{-j}+a_6a_5\\underbrace{j_hi_h}_{k}+a_6^2\\underbrace{j_h^2}_{-1}+a_6a_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad +a_7a_1\\underbrace{k_hi}_{-j_h}+a_7a_2\\underbrace{k_hj}_{i_h}+a_7a_3\\underbrace{k_hk}_{h}+a_7a_4\\underbrace{k_hh}_{-k}+a_7a_5\\underbrace{k_hi_h}_{-j}+a_7a_6\\underbrace{k_hj_h}_{i}+a_7^2\\underbrace{k_h^2}_{-1} \\\\\n&=-(a_1^2+a_2^2+a_3^2+a_4^2+a_5^2+a_6^2+a_7^2) \\\\\n\\end{align}\n\n\n\u4e8c\u4e57\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\n\u7a4d\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\u3068\u306e\u6bd4\u8f03\u3067\u898b\u308c\u3070\u3001\u865a\u90e8\u306b\u306f\u30d9\u30af\u30c8\u30eb\u306e\u30b9\u30ab\u30e9\u30fc\u500d\u304c\u8868\u308c\u3066\u3044\u308b\u3068\u89e3\u91c8\u3067\u304d\u307e\u3059\u3002\n\\begin{align}\n&(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h)^2 \\\\\n&=a_0(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_1i(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_2j(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_3k(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_4h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_5i_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_6j_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_7k_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&=a_0^2+a_0a_1i+a_0a_2j+a_0a_3k+a_0a_4h+a_0a_5i_h+a_0a_6j_h+a_0a_7k_h \\\\\n&\\quad +a_1a_0i+a_1^2\\underbrace{i^2}_{-1}+a_1a_2\\underbrace{ij}_{k}+a_1a_3\\underbrace{ik}_{-j}+a_1a_4\\underbrace{ih}_{i_h}+a_1a_5\\underbrace{ii_h}_{-h}+a_1a_6\\underbrace{ij_h}_{-k_h}+a_1a_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad +a_2a_0j+a_2a_1\\underbrace{ji}_{-k}+a_2^2\\underbrace{j^2}_{-1}+a_2a_3\\underbrace{jk}_{i}+a_2a_4\\underbrace{jh}_{j_h}+a_2a_5\\underbrace{ji_h}_{k_h}+a_2a_6\\underbrace{jj_h}_{-h}+a_2a_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad +a_3a_0k+a_3a_1\\underbrace{ki}_{j}+a_3a_2\\underbrace{kj}_{-i}+a_3^2\\underbrace{k^2}_{-1}+a_3a_4\\underbrace{kh}_{k_h}+a_3a_5\\underbrace{ki_h}_{-j_h}+a_3a_6\\underbrace{kj_h}_{i_h}+a_3a_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad +a_4a_0h+a_4a_1\\underbrace{hi}_{-i_h}+a_4a_2\\underbrace{hj}_{-j_h}+a_4a_3\\underbrace{hk}_{-k_h}+a_4^2\\underbrace{h^2}_{-1}+a_4a_5\\underbrace{hi_h}_{i}+a_4a_6\\underbrace{hj_h}_{j}+a_4a_7\\underbrace{hk_h}_{k} \\\\\n&\\quad +a_5a_0i_h+a_5a_1\\underbrace{i_hi}_{h}+a_5a_2\\underbrace{i_hj}_{-k_h}+a_5a_3\\underbrace{i_hk}_{j_h}+a_5a_4\\underbrace{i_hh}_{-i}+a_5^2\\underbrace{i_h^2}_{-1}+a_5a_6\\underbrace{i_hj_h}_{-k}+a_5a_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad +a_6a_0j_h+a_6a_1\\underbrace{j_hi}_{k_h}+a_6a_2\\underbrace{j_hj}_{h}+a_6a_3\\underbrace{j_hk}_{-i_h}+a_6a_4\\underbrace{j_hh}_{-j}+a_6a_5\\underbrace{j_hi_h}_{k}+a_6^2\\underbrace{j_h^2}_{-1}+a_6a_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad +a_7a_0k_h+a_7a_1\\underbrace{k_hi}_{-j_h}+a_7a_2\\underbrace{k_hj}_{i_h}+a_7a_3\\underbrace{k_hk}_{h}+a_7a_4\\underbrace{k_hh}_{-k}+a_7a_5\\underbrace{k_hi_h}_{-j}+a_7a_6\\underbrace{k_hj_h}_{i}+a_7^2\\underbrace{k_h^2}_{-1} \\\\\n&=(a_0^2-a_1^2-a_2^2-a_3^2-a_4^2-a_5^2-a_6^2-a_7^2) \\\\\n&\\quad +2a_0a_1i+2a_0a_2j+2a_0a_3k+2a_0a_4h+2a_0a_5i_h+2a_0a_6j_h+2a_0a_7k_h \\\\\n\\end{align}\n\n\n\u30ce\u30eb\u30e0\u306e\u4e8c\u4e57\n\u30ce\u30eb\u30e0\u3060\u3051\u898b\u308c\u3070\u3001\u5b9f\u90e8\u3092\u542b\u3081\u3066\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u7a7a\u9593\u306e8\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u6271\u3048\u307e\u3059\u3002\n\\begin{align}\n&(a_0-a_1i-a_2j-a_3k-a_4h-a_5i_h-a_6j_h-a_7k_h)(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&=a_0(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_1i(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_2j(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_3k(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_4h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_5i_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_6j_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_7k_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&=a_0^2+a_0a_1i+a_0a_2j+a_0a_3k+a_0a_4h+a_0a_5i_h+a_0a_6j_h+a_0a_7k_h \\\\\n&\\quad -a_1a_0i-a_1^2\\underbrace{i^2}_{-1}-a_1a_2\\underbrace{ij}_{k}-a_1a_3\\underbrace{ik}_{-j}-a_1a_4\\underbrace{ih}_{i_h}-a_1a_5\\underbrace{ii_h}_{-h}-a_1a_6\\underbrace{ij_h}_{-k_h}-a_1a_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad -a_2a_0j-a_2a_1\\underbrace{ji}_{-k}-a_2^2\\underbrace{j^2}_{-1}-a_2a_3\\underbrace{jk}_{i}-a_2a_4\\underbrace{jh}_{j_h}-a_2a_5\\underbrace{ji_h}_{k_h}-a_2a_6\\underbrace{jj_h}_{-h}-a_2a_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad -a_3a_0k-a_3a_1\\underbrace{ki}_{j}-a_3a_2\\underbrace{kj}_{-i}-a_3^2\\underbrace{k^2}_{-1}-a_3a_4\\underbrace{kh}_{k_h}-a_3a_5\\underbrace{ki_h}_{-j_h}-a_3a_6\\underbrace{kj_h}_{i_h}-a_3a_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad -a_4a_0h-a_4a_1\\underbrace{hi}_{-i_h}-a_4a_2\\underbrace{hj}_{-j_h}-a_4a_3\\underbrace{hk}_{-k_h}-a_4^2\\underbrace{h^2}_{-1}-a_4a_5\\underbrace{hi_h}_{i}-a_4a_6\\underbrace{hj_h}_{j}-a_4a_7\\underbrace{hk_h}_{k} \\\\\n&\\quad -a_5a_0i_h-a_5a_1\\underbrace{i_hi}_{h}-a_5a_2\\underbrace{i_hj}_{-k_h}-a_5a_3\\underbrace{i_hk}_{j_h}-a_5a_4\\underbrace{i_hh}_{-i}-a_5^2\\underbrace{i_h^2}_{-1}-a_5a_6\\underbrace{i_hj_h}_{-k}-a_5a_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad -a_6a_0j_h-a_6a_1\\underbrace{j_hi}_{k_h}-a_6a_2\\underbrace{j_hj}_{h}-a_6a_3\\underbrace{j_hk}_{-i_h}-a_6a_4\\underbrace{j_hh}_{-j}-a_6a_5\\underbrace{j_hi_h}_{k}-a_6^2\\underbrace{j_h^2}_{-1}-a_6a_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad -a_7a_0k_h-a_7a_1\\underbrace{k_hi}_{-j_h}-a_7a_2\\underbrace{k_hj}_{i_h}-a_7a_3\\underbrace{k_hk}_{h}-a_7a_4\\underbrace{k_hh}_{-k}-a_7a_5\\underbrace{k_hi_h}_{-j}-a_7a_6\\underbrace{k_hj_h}_{i}-a_7^2\\underbrace{k_h^2}_{-1} \\\\\n&=a_0^2+a_1^2+a_2^2+a_3^2+a_4^2+a_5^2+a_6^2+a_7^2 \\\\\n\\end{align}\n\n\u516b\u5143\u6570\u306f\u9805\u304c\u591a\u304f\u3066\u7a4d\u306e\u8a08\u7b97\u304c\u5927\u5909\u3067\u3059\u3002\u305d\u3053\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u3063\u3066\u7a4d\u30fb\u4e8c\u4e57\u30fb\u30ce\u30eb\u30e0\u306e\u4e8c\u4e57\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u516b\u5143\u6570\u306e\u865a\u90e8\u30927\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u3067\u3001\u7a4d\u304b\u3089\u5185\u7a4d\u3068\u5916\u7a4d\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\n\n```math\n\\vec{v}\\vec{w}=-\\underbrace{\\vec{v}\\cdot\\vec{w}}_{\u5185\u7a4d}+\\underbrace{\\vec{v}\u00d7\\vec{w}}_{\u5916\u7a4d}\n```\n\n\u30b7\u30ea\u30fc\u30ba\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n1. [\u591a\u9805\u5f0f\u306e\u7a4d\u3092\u8a08\u7b97](http://qiita.com/7shi/items/4fb60dacad46cb8e63b3)\n1. [\u5916\u7a4d\u3068\u6109\u5feb\u306a\u4ef2\u9593\u305f\u3061](http://qiita.com/7shi/items/017d2d2c758f76071f23)\n1. [\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u7a7a\u9593\u306e\u30db\u30c3\u30b8\u53cc\u5bfe\u3068\u30d0\u30d6\u30eb\u30bd\u30fc\u30c8](http://qiita.com/7shi/items/f54302058149d07da592)\n1. [\u56db\u5143\u6570\u3092\u4f5c\u308d\u3046](http://qiita.com/7shi/items/2036e7a739c2a9e04025)\n1. [\u56db\u5143\u6570\u3068\u884c\u5217\u3067\u898b\u308b\u5185\u7a4d\u3068\u5916\u7a4d\u306e\u300c\u5185\u300d\u3068\u300c\u5916\u300d](http://qiita.com/7shi/items/a80988a32a0d706e9378)\n1. [\u516b\u5143\u6570\u3092\u4f5c\u308d\u3046](http://qiita.com/7shi/items/b34fe724d36fb7d96456)\n1. \u516b\u5143\u6570\u306e\u7a4d\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u78ba\u8a8d \u2190 \u3053\u306e\u8a18\u4e8b\n1. [\u5916\u7a4d\u306e\u6210\u5206\u3092\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u78ba\u8a8d](http://qiita.com/7shi/items/02c758c03d2fd7038912)\n1. [\u591a\u5143\u6570\u306e\u7a4d\u306e\u69cb\u6210](http://qiita.com/7shi/items/88be5203769e629df243)\n1. [\u5341\u516d\u5143\u6570\u3092\u4f5c\u308d\u3046](http://qiita.com/7shi/items/989d59d74a505a92c419)\n\n# \u30d7\u30ed\u30b0\u30e9\u30e0\n\n\u516b\u5143\u6570\u306b\u95a2\u9023\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5f15\u7528\u3057\u307e\u3059\u3002[Math7.fsx](https://bitbucket.org/7shi/math7/src/tip/Math7.fsx) \u3068 [Math7.Term.fsx](https://bitbucket.org/7shi/math7/src/tip/Math7.Term.fsx) \u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u5168\u4f53\u306f[\u30ea\u30dd\u30b8\u30c8\u30ea](https://bitbucket.org/7shi/math7)\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nMath7 \u306b\u516b\u5143\u6570\u306e\u8a08\u7b97\u65b9\u6cd5\u3092\u6559\u3048\u3066\u8a08\u7b97\u3055\u305b\u307e\u3059\u3002\n\n```fsharp:Math7.Octonion.fsx\nnamespace Math7\n\n#load \"Math7.Term.fsx\"\n\ntype octonion =\n    E | I | J | K | H of octonion\n\n    override x.ToString() =\n        match x with\n        |   E -> \"1\" | I -> \"i\" | J -> \"j\" | K -> \"k\"\n        | H E -> \"h\"\n        | H x -> string x + \"_h\"\n\n    member x.N =\n        match x with\n        | E -> 0 | I -> 1 | J -> 2 | K -> 3\n        | H x -> x.N + 4\n\n    member x.Next =\n        match x with\n        |   I -> J\n        |   J -> K\n        |   K -> I\n        | H x -> H x.Next\n        |   x -> x\n\n    static member (*)(a:octonion, b:octonion) =\n        match a, b with\n        |   x,   E            ->  1,   x  // i1 = i\n        |   E,   y            ->  1,   y  // 1i = i\n        |   x,   y when x = y -> -1,   E  // ii = -1\n        | H x, H E            -> -1,   x  // i_hh = -i\n        | H x, H y            -> y * x    // i_hj_h = ji\n        |   x, H E            ->  1, H x  // ih = i_h\n        |   x, H y when x = y -> -1, H E  // ii_h = -h\n        |   x, H y -> let c, z = y * x    // ij_h = (ji)h\n                      c, H z\n        |   x,   y when x.Next = y        // ij = k\n                   -> 1, y.Next\n        |   x,   y -> let c, z = y * x    // ji = -ij\n                      -c, z\n\nmodule Octonion =\n    let tests = testList()\n    \n    let octs = [| E; I; J; K; H E; H I; H J; H K |]\n    let oct x = octs.[x]\n    let ijkh = function\n    | 0 -> \"\"\n    | x -> string (oct x)\n\n    let str es = es |> Seq.map ijkh |> Seq.filter ((<>) \"\") |> Term.strPower\n\n    let prod es =\n        let n, e = es |> Seq.fold (fun (n, x) y ->\n            let m, z = oct x * oct y\n            n * m, z.N) (1, E.N)\n        term(n, [], if e = E.N then [] else [e])\n\n    let conj = List.map <| fun (t:term) ->\n        if t.E.IsEmpty then t else -1 * t\n\n    let showProd title =\n        Term.showProd title \"\" str prod id Term.byIndexSign\n```\n```fsharp:OctonionProduct.fsx\n#load \"Math7.Octonion.fsx\"\nopen Math7\n\nlet a = [for i in [1..7] -> term(1, [sprintf \"a_%d\" i], [i])]\nlet b = [for i in [1..7] -> term(1, [sprintf \"b_%d\" i], [i])]\nlet aa = term(1, [\"a_0\"], [])::a\nlet bb = term(1, [\"b_0\"], [])::b\nOctonion.showProd \"## \u7a4d\uff08\u865a\u90e8\uff09\" (fun _ -> true) a b\nOctonion.showProd \"## \u7a4d\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\" (fun _ -> true) aa bb\nOctonion.showProd \"## \u4e8c\u4e57\uff08\u865a\u90e8\uff09\" (fun _ -> true) a a\nOctonion.showProd \"## \u4e8c\u4e57\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\" ((=) 1) aa aa\nOctonion.showProd \"## \u30ce\u30eb\u30e0\u306e\u4e8c\u4e57\" (fun _ -> true) (Octonion.conj aa) aa\n```\n\n\u51fa\u529b\u7d50\u679c\u306b\u30b3\u30e1\u30f3\u30c8\u3092\u4ed8\u3051\u3066\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n## \u7a4d\uff08\u865a\u90e8\uff09\n\n\u5192\u982d\u3067\u8ff0\u3079\u305f\u3088\u3046\u306b\u3001\u5185\u7a4d\u3068\u5916\u7a4d\u3092\u8a08\u7b97\u3059\u308b\u3053\u3068\u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\n\n```math\n\\begin{align}\n&(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h)(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&=a_1i(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_2j(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_3k(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_4h(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_5i_h(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_6j_h(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_7k_h(b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&=a_1b_1\\underbrace{i^2}_{-1}+a_1b_2\\underbrace{ij}_{k}+a_1b_3\\underbrace{ik}_{-j}+a_1b_4\\underbrace{ih}_{i_h}+a_1b_5\\underbrace{ii_h}_{-h}+a_1b_6\\underbrace{ij_h}_{-k_h}+a_1b_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad +a_2b_1\\underbrace{ji}_{-k}+a_2b_2\\underbrace{j^2}_{-1}+a_2b_3\\underbrace{jk}_{i}+a_2b_4\\underbrace{jh}_{j_h}+a_2b_5\\underbrace{ji_h}_{k_h}+a_2b_6\\underbrace{jj_h}_{-h}+a_2b_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad +a_3b_1\\underbrace{ki}_{j}+a_3b_2\\underbrace{kj}_{-i}+a_3b_3\\underbrace{k^2}_{-1}+a_3b_4\\underbrace{kh}_{k_h}+a_3b_5\\underbrace{ki_h}_{-j_h}+a_3b_6\\underbrace{kj_h}_{i_h}+a_3b_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad +a_4b_1\\underbrace{hi}_{-i_h}+a_4b_2\\underbrace{hj}_{-j_h}+a_4b_3\\underbrace{hk}_{-k_h}+a_4b_4\\underbrace{h^2}_{-1}+a_4b_5\\underbrace{hi_h}_{i}+a_4b_6\\underbrace{hj_h}_{j}+a_4b_7\\underbrace{hk_h}_{k} \\\\\n&\\quad +a_5b_1\\underbrace{i_hi}_{h}+a_5b_2\\underbrace{i_hj}_{-k_h}+a_5b_3\\underbrace{i_hk}_{j_h}+a_5b_4\\underbrace{i_hh}_{-i}+a_5b_5\\underbrace{i_h^2}_{-1}+a_5b_6\\underbrace{i_hj_h}_{-k}+a_5b_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad +a_6b_1\\underbrace{j_hi}_{k_h}+a_6b_2\\underbrace{j_hj}_{h}+a_6b_3\\underbrace{j_hk}_{-i_h}+a_6b_4\\underbrace{j_hh}_{-j}+a_6b_5\\underbrace{j_hi_h}_{k}+a_6b_6\\underbrace{j_h^2}_{-1}+a_6b_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad +a_7b_1\\underbrace{k_hi}_{-j_h}+a_7b_2\\underbrace{k_hj}_{i_h}+a_7b_3\\underbrace{k_hk}_{h}+a_7b_4\\underbrace{k_hh}_{-k}+a_7b_5\\underbrace{k_hi_h}_{-j}+a_7b_6\\underbrace{k_hj_h}_{i}+a_7b_7\\underbrace{k_h^2}_{-1} \\\\\n&=-(a_1b_1+a_2b_2+a_3b_3+a_4b_4+a_5b_5+a_6b_6+a_7b_7) \\\\\n&\\quad +(a_2b_3-a_3b_2+a_4b_5-a_5b_4+a_7b_6-a_6b_7)i \\\\\n&\\quad +(a_3b_1-a_1b_3+a_4b_6-a_6b_4+a_5b_7-a_7b_5)j \\\\\n&\\quad +(a_1b_2-a_2b_1+a_4b_7-a_7b_4+a_6b_5-a_5b_6)k \\\\\n&\\quad +(a_5b_1-a_1b_5+a_6b_2-a_2b_6+a_7b_3-a_3b_7)h \\\\\n&\\quad +(a_1b_4-a_4b_1+a_7b_2-a_2b_7+a_3b_6-a_6b_3)i_h \\\\\n&\\quad +(a_1b_7-a_7b_1+a_2b_4-a_4b_2+a_5b_3-a_3b_5)j_h \\\\\n&\\quad +(a_6b_1-a_1b_6+a_2b_5-a_5b_2+a_3b_4-a_4b_3)k_h \\\\\n\\end{align}\n```\n\n$i$ \u306e\u4fc2\u6570\u3092 $(a_2b_3-a_3b_2)+(a_4b_5-a_5b_4)+(a_7b_6-a_6b_7)$ \u306e\u3088\u3046\u306b\u4e09\u5206\u5272\u3057\u3066\u898b\u308c\u3070\u30013\u6b21\u5143\u306e\u5916\u7a4d\u304c\u4e09\u91cd\u306b\u5165\u3063\u305f\u3088\u3046\u306a\u5f62\u3092\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6c17\u4ed8\u304d\u307e\u3059\u30023\u6b21\u5143\u3067\u306f1\u3064\u306e\u4fc2\u6570\u306b $3-1=2$ \u500b\u306e\u9805\u304c\u5165\u308a\u307e\u3059\u304c\u30017\u6b21\u5143\u3067\u306f $7-1=6$ \u500b\u306e\u9805\u304c\u5165\u308a\u307e\u3059\u3002\u3053\u308c\u304c\u4e09\u91cd\u306b\u898b\u3048\u308b\u7406\u7531\u3067\u3059\u3002\n\n\u203b \u516b\u5143\u6570\u306e\u865a\u90e8\u3067\u8868\u3055\u308c\u308b7\u6b21\u5143\u7a7a\u9593\u306f\u30d5\u30e9\u30c3\u30c8\u306a\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u7a7a\u9593\u3067\u306f\u306a\u304f\u3001\u30d5\u30a1\u30ce\u5e73\u9762\u3067\u8868\u3055\u308c\u308b3\u6b21\u5143\u306e\u90e8\u5206\u7a7a\u9593\u304c\u91cd\u306a\u3063\u305f\u5f62\u3092\u3057\u3066\u304a\u308a\u3001\u500b\u5225\u306b\u898b\u308c\u30703\u6b21\u5143\u7a7a\u9593\u306e\u305f\u3081\u30d9\u30af\u30c8\u30eb\u7a4d\u304c\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\u8a73\u7d30\u306f\u6a5f\u4f1a\u304c\u3042\u308c\u3070\u307e\u3068\u3081\u308b\u4e88\u5b9a\u3067\u3059\u3002\n\n\u307e\u305f\u3001\u4fc2\u6570\u306f\u57fa\u5e95\uff08$i$ \u306f1\u756a\u76ee\uff09\u3092\u9664\u3044\u305f\u6dfb\u5b57\uff082,3,4,5,6,7\uff09\u304c\u4f7f\u308f\u308c\u3066\u304a\u308a\u3001\u76f8\u88dc\u7684\u306a\u95a2\u4fc2\u306b\u3042\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\u4ed6\u306e\u9805\u3082\u540c\u69d8\u3067\u3059\u3002\u3053\u308c\u306f3\u6b21\u5143\u306e\u5916\u7a4d\u3068\u5171\u901a\u3059\u308b\u7279\u5fb4\u3067\u3059\u3002\n\n\u6bd4\u8f03\u3068\u3057\u3066\u56db\u5143\u6570\u306e\u7a4d\uff083\u6b21\u5143\u306e\u5185\u7a4d\u3068\u5916\u7a4d\u3092\u542b\u3080\uff09\u3092\u793a\u3057\u307e\u3059\u3002\u6210\u5206\u3092\u898b\u308c\u3070\u3001\u56db\u5143\u6570\u304c\u516b\u5143\u6570\u306e\u30b5\u30d6\u30bb\u30c3\u30c8\u3067\u3042\u308b\u3053\u3068\u304c\u898b\u3066\u53d6\u308c\u307e\u3059\u3002\n\n```math\n\\begin{align}\n&(a_1i+a_2j+a_3k)(b_1i+b_2j+b_3k) \\\\\n&=-(a_1b_1+a_2b_2+a_3b_3) \\\\\n&\\quad +(a_2b_3-a_3b_2)i+(a_3b_1-a_1b_3)j+(a_1b_2-a_2b_1)k \\\\\n\\end{align}\n```\n\n\u8907\u7d20\u6570\u306b\u307e\u3067\u843d\u3068\u305b\u3070\u30011\u6b21\u5143\u3067\u306f\u5185\u7a4d\u3057\u304b\u73fe\u308c\u306a\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\u5916\u7a4d\u306f\u5e38\u306b0\u3060\u3068\u3082\u89e3\u91c8\u3067\u304d\u307e\u3059\u3002\n\n```math\n(a_1i)(b_1i)=-(a_1b_1)\n```\n\n## \u7a4d\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\n\n\u865a\u90e8\u3060\u3051\u306e\u8a08\u7b97\u3068\u6bd4\u3079\u308c\u3070\u3001\u5b9f\u90e8\u304c\u5404\u9805\u306b\u7d61\u307f\u3064\u3044\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\n\n```math\n\\begin{align}\n&(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h)(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&=a_0(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_1i(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_2j(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_3k(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_4h(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_5i_h(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_6j_h(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&\\quad +a_7k_h(b_0+b_1i+b_2j+b_3k+b_4h+b_5i_h+b_6j_h+b_7k_h) \\\\\n&=a_0b_0+a_0b_1i+a_0b_2j+a_0b_3k+a_0b_4h+a_0b_5i_h+a_0b_6j_h+a_0b_7k_h \\\\\n&\\quad +a_1b_0i+a_1b_1\\underbrace{i^2}_{-1}+a_1b_2\\underbrace{ij}_{k}+a_1b_3\\underbrace{ik}_{-j}+a_1b_4\\underbrace{ih}_{i_h}+a_1b_5\\underbrace{ii_h}_{-h}+a_1b_6\\underbrace{ij_h}_{-k_h}+a_1b_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad +a_2b_0j+a_2b_1\\underbrace{ji}_{-k}+a_2b_2\\underbrace{j^2}_{-1}+a_2b_3\\underbrace{jk}_{i}+a_2b_4\\underbrace{jh}_{j_h}+a_2b_5\\underbrace{ji_h}_{k_h}+a_2b_6\\underbrace{jj_h}_{-h}+a_2b_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad +a_3b_0k+a_3b_1\\underbrace{ki}_{j}+a_3b_2\\underbrace{kj}_{-i}+a_3b_3\\underbrace{k^2}_{-1}+a_3b_4\\underbrace{kh}_{k_h}+a_3b_5\\underbrace{ki_h}_{-j_h}+a_3b_6\\underbrace{kj_h}_{i_h}+a_3b_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad +a_4b_0h+a_4b_1\\underbrace{hi}_{-i_h}+a_4b_2\\underbrace{hj}_{-j_h}+a_4b_3\\underbrace{hk}_{-k_h}+a_4b_4\\underbrace{h^2}_{-1}+a_4b_5\\underbrace{hi_h}_{i}+a_4b_6\\underbrace{hj_h}_{j}+a_4b_7\\underbrace{hk_h}_{k} \\\\\n&\\quad +a_5b_0i_h+a_5b_1\\underbrace{i_hi}_{h}+a_5b_2\\underbrace{i_hj}_{-k_h}+a_5b_3\\underbrace{i_hk}_{j_h}+a_5b_4\\underbrace{i_hh}_{-i}+a_5b_5\\underbrace{i_h^2}_{-1}+a_5b_6\\underbrace{i_hj_h}_{-k}+a_5b_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad +a_6b_0j_h+a_6b_1\\underbrace{j_hi}_{k_h}+a_6b_2\\underbrace{j_hj}_{h}+a_6b_3\\underbrace{j_hk}_{-i_h}+a_6b_4\\underbrace{j_hh}_{-j}+a_6b_5\\underbrace{j_hi_h}_{k}+a_6b_6\\underbrace{j_h^2}_{-1}+a_6b_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad +a_7b_0k_h+a_7b_1\\underbrace{k_hi}_{-j_h}+a_7b_2\\underbrace{k_hj}_{i_h}+a_7b_3\\underbrace{k_hk}_{h}+a_7b_4\\underbrace{k_hh}_{-k}+a_7b_5\\underbrace{k_hi_h}_{-j}+a_7b_6\\underbrace{k_hj_h}_{i}+a_7b_7\\underbrace{k_h^2}_{-1} \\\\\n&=(a_0b_0-a_1b_1-a_2b_2-a_3b_3-a_4b_4-a_5b_5-a_6b_6-a_7b_7) \\\\\n&\\quad +(a_0b_1+a_1b_0+a_2b_3-a_3b_2+a_4b_5-a_5b_4+a_7b_6-a_6b_7)i \\\\\n&\\quad +(a_0b_2+a_2b_0+a_3b_1-a_1b_3+a_4b_6-a_6b_4+a_5b_7-a_7b_5)j \\\\\n&\\quad +(a_0b_3+a_3b_0+a_1b_2-a_2b_1+a_4b_7-a_7b_4+a_6b_5-a_5b_6)k \\\\\n&\\quad +(a_0b_4+a_4b_0+a_5b_1-a_1b_5+a_6b_2-a_2b_6+a_7b_3-a_3b_7)h \\\\\n&\\quad +(a_0b_5+a_5b_0+a_1b_4-a_4b_1+a_7b_2-a_2b_7+a_3b_6-a_6b_3)i_h \\\\\n&\\quad +(a_0b_6+a_6b_0+a_1b_7-a_7b_1+a_2b_4-a_4b_2+a_5b_3-a_3b_5)j_h \\\\\n&\\quad +(a_0b_7+a_7b_0+a_6b_1-a_1b_6+a_2b_5-a_5b_2+a_3b_4-a_4b_3)k_h \\\\\n\\end{align}\n```\n\n\u3053\u306e\u8a08\u7b97\u3092\u30b9\u30ab\u30e9\u30fc\u3068\u30d9\u30af\u30c8\u30eb\u306e\u548c\u306e\u7a4d\u3068\u898b\u306a\u305b\u3070\u3001\u3054\u304f\u666e\u901a\u306e\u639b\u3051\u7b97\u3068\u3057\u3066\u69cb\u9020\u304c\u898b\u3048\u3066\u6765\u307e\u3059\u3002\n\n```math\n\\begin{align}\n&(a_0+\\vec{a})(b_0+\\vec{b}) \\\\\n&=a_0b_0+a_0\\vec{b}+\\vec{a}b_0+\\vec{a}\\vec{b} \\\\\n&=\\underbrace{a_0b_0}_{\u30b9\u30ab\u30e9\u30fc\u7a4d}+\\underbrace{a_0\\vec{b}+b_0\\vec{a}}_{\u30b9\u30ab\u30e9\u30fc\u500d}-\\underbrace{\\vec{a}\\cdot\\vec{b}}_{\u5185\u7a4d}+\\underbrace{\\vec{a}\u00d7\\vec{b}}_{\u5916\u7a4d}\n\\end{align}\n```\n\n$i$ \u306e\u9805\u3092 $a_0(b_1)i+b_0(a_1)i+(a_2b_3-a_3b_2+a_4b_5-a_5b_4+a_7b_6-a_6b_7)i$ \u3068\u5206\u96e2\u3059\u308c\u3070\u3001\u30d9\u30af\u30c8\u30eb\u306e\u30b9\u30ab\u30e9\u30fc\u500d\u3068\u5916\u7a4d\u304c\u91cd\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\u3053\u306e\u89e3\u91c8\u3067\u306f\u5b9f\u90e8\u306f\u30d9\u30af\u30c8\u30eb\u306e\u6210\u5206\u3067\u306f\u306a\u304f\u3001\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u306e\u306f\u865a\u90e8\u306e7\u6b21\u5143\u3067\u3059\u3002\u5b9f\u90e8\u307e\u3067\u542b\u3081\u305f8\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u3046\u307e\u304f\u89e3\u91c8\u3067\u304d\u308b\u304b\u306f\u4e0d\u660e\u3067\u3059\u3002\n\n## \u4e8c\u4e57\uff08\u865a\u90e8\uff09\n\n\u81ea\u5206\u81ea\u8eab\u3068\u306e\u5916\u7a4d\u306f\u30bc\u30ed\u306e\u305f\u3081\u3001\u8a08\u7b97\u7d50\u679c\u306f\u5b9f\u90e8\uff08\u5185\u7a4d\uff09\u306e\u307f\u3067\u3059\u3002\n\n```math\n\\begin{align}\n&(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h)^2 \\\\\n&=a_1i(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_2j(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_3k(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_4h(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_5i_h(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_6j_h(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_7k_h(a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&=a_1^2\\underbrace{i^2}_{-1}+a_1a_2\\underbrace{ij}_{k}+a_1a_3\\underbrace{ik}_{-j}+a_1a_4\\underbrace{ih}_{i_h}+a_1a_5\\underbrace{ii_h}_{-h}+a_1a_6\\underbrace{ij_h}_{-k_h}+a_1a_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad +a_2a_1\\underbrace{ji}_{-k}+a_2^2\\underbrace{j^2}_{-1}+a_2a_3\\underbrace{jk}_{i}+a_2a_4\\underbrace{jh}_{j_h}+a_2a_5\\underbrace{ji_h}_{k_h}+a_2a_6\\underbrace{jj_h}_{-h}+a_2a_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad +a_3a_1\\underbrace{ki}_{j}+a_3a_2\\underbrace{kj}_{-i}+a_3^2\\underbrace{k^2}_{-1}+a_3a_4\\underbrace{kh}_{k_h}+a_3a_5\\underbrace{ki_h}_{-j_h}+a_3a_6\\underbrace{kj_h}_{i_h}+a_3a_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad +a_4a_1\\underbrace{hi}_{-i_h}+a_4a_2\\underbrace{hj}_{-j_h}+a_4a_3\\underbrace{hk}_{-k_h}+a_4^2\\underbrace{h^2}_{-1}+a_4a_5\\underbrace{hi_h}_{i}+a_4a_6\\underbrace{hj_h}_{j}+a_4a_7\\underbrace{hk_h}_{k} \\\\\n&\\quad +a_5a_1\\underbrace{i_hi}_{h}+a_5a_2\\underbrace{i_hj}_{-k_h}+a_5a_3\\underbrace{i_hk}_{j_h}+a_5a_4\\underbrace{i_hh}_{-i}+a_5^2\\underbrace{i_h^2}_{-1}+a_5a_6\\underbrace{i_hj_h}_{-k}+a_5a_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad +a_6a_1\\underbrace{j_hi}_{k_h}+a_6a_2\\underbrace{j_hj}_{h}+a_6a_3\\underbrace{j_hk}_{-i_h}+a_6a_4\\underbrace{j_hh}_{-j}+a_6a_5\\underbrace{j_hi_h}_{k}+a_6^2\\underbrace{j_h^2}_{-1}+a_6a_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad +a_7a_1\\underbrace{k_hi}_{-j_h}+a_7a_2\\underbrace{k_hj}_{i_h}+a_7a_3\\underbrace{k_hk}_{h}+a_7a_4\\underbrace{k_hh}_{-k}+a_7a_5\\underbrace{k_hi_h}_{-j}+a_7a_6\\underbrace{k_hj_h}_{i}+a_7^2\\underbrace{k_h^2}_{-1} \\\\\n&=-(a_1^2+a_2^2+a_3^2+a_4^2+a_5^2+a_6^2+a_7^2) \\\\\n\\end{align}\n```\n\n## \u4e8c\u4e57\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\n\n\u7a4d\uff08\u5b9f\u90e8\uff0b\u865a\u90e8\uff09\u3068\u306e\u6bd4\u8f03\u3067\u898b\u308c\u3070\u3001\u865a\u90e8\u306b\u306f\u30d9\u30af\u30c8\u30eb\u306e\u30b9\u30ab\u30e9\u30fc\u500d\u304c\u8868\u308c\u3066\u3044\u308b\u3068\u89e3\u91c8\u3067\u304d\u307e\u3059\u3002\n\n```math\n\\begin{align}\n&(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h)^2 \\\\\n&=a_0(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_1i(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_2j(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_3k(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_4h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_5i_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_6j_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad +a_7k_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&=a_0^2+a_0a_1i+a_0a_2j+a_0a_3k+a_0a_4h+a_0a_5i_h+a_0a_6j_h+a_0a_7k_h \\\\\n&\\quad +a_1a_0i+a_1^2\\underbrace{i^2}_{-1}+a_1a_2\\underbrace{ij}_{k}+a_1a_3\\underbrace{ik}_{-j}+a_1a_4\\underbrace{ih}_{i_h}+a_1a_5\\underbrace{ii_h}_{-h}+a_1a_6\\underbrace{ij_h}_{-k_h}+a_1a_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad +a_2a_0j+a_2a_1\\underbrace{ji}_{-k}+a_2^2\\underbrace{j^2}_{-1}+a_2a_3\\underbrace{jk}_{i}+a_2a_4\\underbrace{jh}_{j_h}+a_2a_5\\underbrace{ji_h}_{k_h}+a_2a_6\\underbrace{jj_h}_{-h}+a_2a_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad +a_3a_0k+a_3a_1\\underbrace{ki}_{j}+a_3a_2\\underbrace{kj}_{-i}+a_3^2\\underbrace{k^2}_{-1}+a_3a_4\\underbrace{kh}_{k_h}+a_3a_5\\underbrace{ki_h}_{-j_h}+a_3a_6\\underbrace{kj_h}_{i_h}+a_3a_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad +a_4a_0h+a_4a_1\\underbrace{hi}_{-i_h}+a_4a_2\\underbrace{hj}_{-j_h}+a_4a_3\\underbrace{hk}_{-k_h}+a_4^2\\underbrace{h^2}_{-1}+a_4a_5\\underbrace{hi_h}_{i}+a_4a_6\\underbrace{hj_h}_{j}+a_4a_7\\underbrace{hk_h}_{k} \\\\\n&\\quad +a_5a_0i_h+a_5a_1\\underbrace{i_hi}_{h}+a_5a_2\\underbrace{i_hj}_{-k_h}+a_5a_3\\underbrace{i_hk}_{j_h}+a_5a_4\\underbrace{i_hh}_{-i}+a_5^2\\underbrace{i_h^2}_{-1}+a_5a_6\\underbrace{i_hj_h}_{-k}+a_5a_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad +a_6a_0j_h+a_6a_1\\underbrace{j_hi}_{k_h}+a_6a_2\\underbrace{j_hj}_{h}+a_6a_3\\underbrace{j_hk}_{-i_h}+a_6a_4\\underbrace{j_hh}_{-j}+a_6a_5\\underbrace{j_hi_h}_{k}+a_6^2\\underbrace{j_h^2}_{-1}+a_6a_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad +a_7a_0k_h+a_7a_1\\underbrace{k_hi}_{-j_h}+a_7a_2\\underbrace{k_hj}_{i_h}+a_7a_3\\underbrace{k_hk}_{h}+a_7a_4\\underbrace{k_hh}_{-k}+a_7a_5\\underbrace{k_hi_h}_{-j}+a_7a_6\\underbrace{k_hj_h}_{i}+a_7^2\\underbrace{k_h^2}_{-1} \\\\\n&=(a_0^2-a_1^2-a_2^2-a_3^2-a_4^2-a_5^2-a_6^2-a_7^2) \\\\\n&\\quad +2a_0a_1i+2a_0a_2j+2a_0a_3k+2a_0a_4h+2a_0a_5i_h+2a_0a_6j_h+2a_0a_7k_h \\\\\n\\end{align}\n```\n\n## \u30ce\u30eb\u30e0\u306e\u4e8c\u4e57\n\n\u30ce\u30eb\u30e0\u3060\u3051\u898b\u308c\u3070\u3001\u5b9f\u90e8\u3092\u542b\u3081\u3066\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u7a7a\u9593\u306e8\u6b21\u5143\u30d9\u30af\u30c8\u30eb\u3068\u3057\u3066\u6271\u3048\u307e\u3059\u3002\n\n```math\n\\begin{align}\n&(a_0-a_1i-a_2j-a_3k-a_4h-a_5i_h-a_6j_h-a_7k_h)(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&=a_0(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_1i(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_2j(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_3k(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_4h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_5i_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_6j_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&\\quad -a_7k_h(a_0+a_1i+a_2j+a_3k+a_4h+a_5i_h+a_6j_h+a_7k_h) \\\\\n&=a_0^2+a_0a_1i+a_0a_2j+a_0a_3k+a_0a_4h+a_0a_5i_h+a_0a_6j_h+a_0a_7k_h \\\\\n&\\quad -a_1a_0i-a_1^2\\underbrace{i^2}_{-1}-a_1a_2\\underbrace{ij}_{k}-a_1a_3\\underbrace{ik}_{-j}-a_1a_4\\underbrace{ih}_{i_h}-a_1a_5\\underbrace{ii_h}_{-h}-a_1a_6\\underbrace{ij_h}_{-k_h}-a_1a_7\\underbrace{ik_h}_{j_h} \\\\\n&\\quad -a_2a_0j-a_2a_1\\underbrace{ji}_{-k}-a_2^2\\underbrace{j^2}_{-1}-a_2a_3\\underbrace{jk}_{i}-a_2a_4\\underbrace{jh}_{j_h}-a_2a_5\\underbrace{ji_h}_{k_h}-a_2a_6\\underbrace{jj_h}_{-h}-a_2a_7\\underbrace{jk_h}_{-i_h} \\\\\n&\\quad -a_3a_0k-a_3a_1\\underbrace{ki}_{j}-a_3a_2\\underbrace{kj}_{-i}-a_3^2\\underbrace{k^2}_{-1}-a_3a_4\\underbrace{kh}_{k_h}-a_3a_5\\underbrace{ki_h}_{-j_h}-a_3a_6\\underbrace{kj_h}_{i_h}-a_3a_7\\underbrace{kk_h}_{-h} \\\\\n&\\quad -a_4a_0h-a_4a_1\\underbrace{hi}_{-i_h}-a_4a_2\\underbrace{hj}_{-j_h}-a_4a_3\\underbrace{hk}_{-k_h}-a_4^2\\underbrace{h^2}_{-1}-a_4a_5\\underbrace{hi_h}_{i}-a_4a_6\\underbrace{hj_h}_{j}-a_4a_7\\underbrace{hk_h}_{k} \\\\\n&\\quad -a_5a_0i_h-a_5a_1\\underbrace{i_hi}_{h}-a_5a_2\\underbrace{i_hj}_{-k_h}-a_5a_3\\underbrace{i_hk}_{j_h}-a_5a_4\\underbrace{i_hh}_{-i}-a_5^2\\underbrace{i_h^2}_{-1}-a_5a_6\\underbrace{i_hj_h}_{-k}-a_5a_7\\underbrace{i_hk_h}_{j} \\\\\n&\\quad -a_6a_0j_h-a_6a_1\\underbrace{j_hi}_{k_h}-a_6a_2\\underbrace{j_hj}_{h}-a_6a_3\\underbrace{j_hk}_{-i_h}-a_6a_4\\underbrace{j_hh}_{-j}-a_6a_5\\underbrace{j_hi_h}_{k}-a_6^2\\underbrace{j_h^2}_{-1}-a_6a_7\\underbrace{j_hk_h}_{-i} \\\\\n&\\quad -a_7a_0k_h-a_7a_1\\underbrace{k_hi}_{-j_h}-a_7a_2\\underbrace{k_hj}_{i_h}-a_7a_3\\underbrace{k_hk}_{h}-a_7a_4\\underbrace{k_hh}_{-k}-a_7a_5\\underbrace{k_hi_h}_{-j}-a_7a_6\\underbrace{k_hj_h}_{i}-a_7^2\\underbrace{k_h^2}_{-1} \\\\\n&=a_0^2+a_1^2+a_2^2+a_3^2+a_4^2+a_5^2+a_6^2+a_7^2 \\\\\n\\end{align}\n```\n", "tags": ["\u6570\u5b66", "\u56db\u5143\u6570", "\u516b\u5143\u6570", "F#"]}