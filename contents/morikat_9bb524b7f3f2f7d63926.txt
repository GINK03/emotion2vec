{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u300e\u683c\u5b89\u306aScaleway C2\u30b5\u30fc\u30d0\u3067microPCF\uff08\u81ea\u5206\u5c02\u7528Cloud Foundry)\u3092\u69cb\u7bc9\u300f\u306e\u8a18\u4e8b\u306b\u3066\u683c\u5b89\u306eScaleway C2\u30b5\u30fc\u30d0\u3092\u4f7f\u3063\u3066\u81ea\u5206\u7528\u306eCloud Foundry\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\u4e0a\u8a18\u306e\u69cb\u7bc9\u306e\u624b\u9806\u3067\u3059\u3068\u5225\u306e\u30de\u30b7\u30f3\u3084\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7d4c\u7531\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u306e\u3067\n\u5916\u90e8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3092\u53ef\u80fd\u306b\u3057\u305f\u3044\u3068\u601d\u3044\u59cb\u3081\u305f\u306e\u3067\u3001\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4e8b\u524d\u6e96\u5099\u306b\u3064\u3044\u3066\n\u300e\u683c\u5b89\u306aScaleway C2\u30b5\u30fc\u30d0\u3067microPCF\uff08\u81ea\u5206\u5c02\u7528Cloud Foundry)\u3092\u69cb\u7bc9\u300f\u3092\u5408\u308f\u305b\u3066\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nScaleway\u306esecurity groups\u306b\u3064\u3044\u3066\nsecurity groups\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306f\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30dd\u30fc\u30c8\u3092\u5236\u9650\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n\n\n\u5909\u66f4\u624b\u9806\n\nVagrantfile\u306e\u5909\u66f4\nVagrant\u306eport forward\u3059\u308b\u70ba\u306b\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\n\u203b60,61\u3092\u8ffd\u52a0\n# vi Vagrantfile\n 58   if !vagrant_up_aws\n 59     config.vm.network \"private_network\", ip: local_public_ip\n 60     config.vm.network :forwarded_port, guest: 80, host: 80\n 61     config.vm.network :forwarded_port, guest: 443, host: 443\n 62   end\n\n\nMICROPCF_DOMAIN\u3092\u8a2d\u5b9a\u3059\u308b\nCloud Foundry\u306eAPI\u7528\u306b\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u30fb\u30c9\u30e1\u30a4\u30f3\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306f\u4fbf\u5229\u306axip.io\u3092\u4f7f\u3063\u3066\u5bfe\u5fdc\u3057\u307e\u3059\u3002\nMICROPCF_DOMAIN\u306bScaleway \u306edashboard\u304b\u3089\u78ba\u8a8d\u3067\u304d\u308b\u30de\u30b7\u30f3\u306ePublic_IP\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u203b\u4eca\u56de\u306f\u4eee\u306e\u5024\u3068\u3057\u3066public_ip\u304c163.1.2.3\u306e\u5834\u5408\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n# export MICROPCF_DOMAIN=163.1.2.3.xip.io\n\n\nVagrant up\u3059\u308b\n# vagrant up --provider=virtualbox\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\ncurl\u3067\u8a66\u3059\n$ curl  https://api.163.1.2.3.xip.io/v2/info -k\n{\"name\":\"micropcf-cc\",\"build\":\"\",\"support\":\"micropcf@pivotal.io\",\"version\":0,\"description\":\"\",\"authorization_endpoint\":\"http://login.163.1.2.3.xip.io\",\"token_endpoint\":\"http://uaa.163.1.2.3.xip.io\",\"min_cli_version\":null,\"min_recommended_cli_version\":null,\"api_version\":\"2.48.0\",\"app_ssh_endpoint\":\"ssh.163.1.2.3.xip.io:2222\",\"app_ssh_host_key_fingerprint\":\"a6:d1:08:0b:b0:cb:9b:5f:c4:ba:44:2a:97:26:19:8a\",\"app_ssh_oauth_client\":\"ssh-proxy\",\"routing_endpoint\":\"https://api.163.1.2.3.xip.io/routing\",\"logging_endpoint\":\"wss://loggregator.163.1.2.3.xip.io:443\",\"doppler_logging_endpoint\":\"wss://doppler.163.1.2.3.xip.io:443\"}\n\n\ncf\u30b3\u30de\u30f3\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\n$ cf login -a https://api.163.1.2.3.xip.io --skip-ssl-validation        API endpoint: https://api.163.1.2.3.xip.io\n\nEmail> admin\n\nPassword>\nAuthenticating...\nOK\n\nTargeted org micropcf-org\n\nTargeted space micropcf-space\n\n\n\nAPI endpoint:   https://api.163.1.2.3.xip.io (API version: 2.48.0)\nUser:           admin\nOrg:            micropcf-org\nSpace:          micropcf-space\n\n\ncf passwd\u3067admin\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u72b6\u614b\u3060\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u3042\u307e\u308a\u306b\u5358\u7d14\u306a\u306e\u3067\u5909\u66f4\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u203b\u30c7\u30d5\u30a9\u30eb\u30c8\u306fadmin/admin\u3067\u3059\u3002\n$ cf passwd\n\nCurrent Password>\n\nNew Password>\n\nVerify Password>\nChanging password...\nOK\nPlease log in again\n\n\n\ndora\u3092push\u3057\u3066\u307f\u308b\nhttps://github.com/cloudfoundry/cf-acceptance-tests/tree/master/assets/dora\n$ git clone https://github.com/cloudfoundry/cf-acceptance-tests.git\n$ cd cf-acceptance-tests/assets/dora\n$ cf push dora\nCreating app dora in org micropcf-org / space micropcf-space as admin...\nOK\n\nCreating route dora.163.1.2.3.xip.io...\nOK\n\nBinding dora.163.1.2.3.xip.io to dora...\nOK\n\nUploading dora...\nUploading app files from: /home/morika-t/cf-acceptance-tests/assets/dora\nUploading 1.2M, 43 files\nDone uploading\nOK\n\nStarting app dora in org micropcf-org / space micropcf-space as admin...\nDownloading java_buildpack...\nDownloading ruby_buildpack...\nDownloading nodejs_buildpack...\nDownloading go_buildpack...\nDownloading python_buildpack...\nDownloading php_buildpack...\nDownloading staticfile_buildpack.\nDownloaded binary_buildpack (8.3K)\nDownloaded staticfile_buildpack (2.4M)\nDownloaded nodejs_buildpack (44.3M)\nDownloaded ruby_buildpack (269.1M)\nDownloaded java_buildpack (239.9M)\nDownloaded go_buildpack (344.8M)\nDownloaded python_buildpack (254M)\nDownloaded php_buildpack (327.7M)\nCreating container\nSuccessfully created container\nDownloading app package...\nDownloaded app package (1.1M)\nStaging...\n-------> Buildpack version 1.6.12\n       Downloaded [file:///tmp/buildpacks/b63e4fc8b7f44b192e4165e7a069bc5f/dependencies/https___pivotal\n-buildpacks.s3.amazonaws.com_ruby_binaries_shared_bundler-1.9.7.tgz]\n-----> Compiling Ruby/Rack\n       Downloaded [file:///tmp/buildpacks/b63e4fc8b7f44b192e4165e7a069bc5f/dependencies/https___pivotal\n-buildpacks.s3.amazonaws.com_concourse-binaries_ruby_ruby-2.2.3-linux-x64.tgz]\n-----> Using Ruby version: ruby-2.2.3\n-----> Installing dependencies using bundler 1.9.7\n       Downloaded [file:///tmp/buildpacks/b63e4fc8b7f44b192e4165e7a069bc5f/dependencies/https___pivotal\n-buildpacks.s3.amazonaws.com_ruby_binaries_cflinuxfs2_libyaml-0.1.6.tgz]\n       Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin -j4 --deployment\n\n       Using json 1.8.1\n       Using bundler 1.9.7\n       Installing rack 1.5.1\n       Installing tilt 1.3.3\n       Installing rack-protection 1.3.2\n       Installing sinatra 1.3.4\n       Bundle complete! 4 Gemfile dependencies, 6 gems now installed.\n       Gems in the groups development and test were not installed.\n       Bundled gems are installed into ./vendor/bundle.\n       Bundle completed (2.80s)\n       Cleaning up the bundler cache.\n###### WARNING:\n       You have not declared a Ruby version in your Gemfile.\n       To set your Ruby version add this line to your Gemfile:\n       ruby '2.2.3'\n       # See https://devcenter.heroku.com/articles/ruby-versions for more information.\n###### WARNING:\n       No Procfile detected, using the default web server (webrick)\n       https://devcenter.heroku.com/articles/ruby-default-web-server\nExit status 0\nStaging complete\nUploading droplet, build artifacts cache...\nUploading droplet...\nUploading build artifacts cache...\nUploaded build artifacts cache (1.3M)\nUploaded droplet (17.8M)\nUploading complete\n\n1 of 1 instances running\n\nApp started\n\n\nOK\n\nApp dora was started using this command `bundle exec rackup config.ru -p $PORT`\n\nShowing health and status for app dora in org micropcf-org / space micropcf-space as admin...\nOK\n\nrequested state: started\ninstances: 1/1\nusage: 1G x 1 instances\nurls: dora.163.1.2.3.xip.io\npackage uploaded: Sun Mar 13 06:24:38 UTC 2016\n\n     state     since                    cpu    memory    disk      details\n#0   running   2016-03-13 03:27:20 PM   0.0%   0 of 1G   0 of 1G\n\n\ncurl\u3067\u78ba\u8a8d\n$ curl dora.163.1.2.3.xip.io\nHi, I'm Dora!\n\n\u7121\u4e8b\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3057\u305f\u3002\n\nmicroPCF\u306b\u5185\u5305\u3055\u308c\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3046\n\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u306b\u3088\u308b\u3068redis\u3068mysql\u304cv0.6.0\u306e\u5834\u5408\u306f\u5229\u7528\u53ef\u80fd\u306a\u3088\u3046\u3067\u3059\u3002\n\nv0.6.0\nv0.5.0\n\n\u901a\u5e38\u306e\u5834\u5408cf marketplace\u3092\u53e9\u304f\u3068\u5229\u7528\u53ef\u80fd\u306a\u30b5\u30fc\u30d3\u30b9\u304c\u51fa\u3066\u304f\u308b\u306f\u305a\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u56deC2\u30b5\u30fc\u30d0\u3067\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306b\u3057\u305f\u74b0\u5883\u3067\u306f\u305d\u306e\u307e\u307e\u3067\u306f\u4e00\u89a7\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nvagrant\u306eVM\u306e\u4e2d\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u307f\u308b\u3068\u3001\u30b5\u30fc\u30d3\u30b9\u81ea\u4f53\u306f\u52d5\u4f5c\u3057\u3066\u308b\u3088\u3046\u3060\u3063\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u203b\u304a\u305d\u3089\u304f\u539f\u56e0\u306fAWS\u4ee5\u5916\u3067\u306f\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306aMICROPCF_DOMAIN\u306e\u8a2d\u5b9a\u5909\u66f4\u3092\u3059\u308b\u3068\u30b5\u30fc\u30d3\u30b9\u304c\u3046\u307e\u304f\u767b\u9332\u3055\u308c\u306a\u3044\uff1f\n\n\u624b\u52d5\u3067service-broker\u3092\u767b\u9332\u3059\u308b\n\u203bcf login\u306e\u6642\u306eAPI\u304capi.163.1.2.3.xip.io\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\n\nredis\u306e\u767b\u9332\n\u203bservice-brokers\u306eID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fadmin\u306a\u306e\u3067\u3001\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u74b0\u5883\u306e\u5834\u5408\u306fvagrant ssh\u3067vm\u306b\u5165\u3063\u3066/var/vcap/jobs/cf-redis-broker/config/broker.yml\u306eauth\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u305f\u5f8c\u3067/var/vcap/bosh/bin/monit restart cf-redis-broker\u3067\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002\n$ cf create-service-broker p-redis admin admin http://redis-broker.163.1.2.3.xip.io\nCreating service broker p-redis as admin...\nOK\n\n\nmysql\u306e\u767b\u9332\n\u203bservice-brokers\u306eID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fadmin\u306a\u306e\u3067\u3001\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u74b0\u5883\u306e\u5834\u5408\u306fvagrant ssh\u3067vm\u306b\u5165\u3063\u3066/var/vcap/jobs/cf-mysql-broker/config/settings.yml\u306eauth\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u305f\u5f8c\u3067/var/vcap/bosh/bin/monit restart cf-mysql-broker\u3067\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002\n$ cf create-service-broker p-mysql admin admin http://mysql.163.1.2.3.xip.io\nCreating service broker p-mysql as admin...\nOK\n\n\nenable-service-access\n\u307e\u305a\u306f\u767b\u9332\u3057\u305fbroker\u306e\u4e00\u89a7\u78ba\u8a8d\n$ cf service-brokers\nGetting service brokers as admin...\n\nname      url\np-mysql   http://mysql.163.1.2.3.xip.io\np-redis   http://redis-broker.163.1.2.3.xip.io\n\n\u30b5\u30fc\u30d3\u30b9\u306e\u6709\u52b9\u5316\n$ cf enable-service-access p-mysql\nEnabling access to all plans of service p-mysql for all orgs as admin...\nOK\n\n$ cf enable-service-access p-redis\nEnabling access to all plans of service p-redis for all orgs as admin...\nOK\n\n\u767b\u9332\u78ba\u8a8d\n$ cf marketplace\nGetting services from marketplace in org micropcf-org / space micropcf-space as admin...\nOK\n\nservice   plans        description\np-mysql   512mb, 1gb   MySQL databases on demand\np-redis   shared-vm    Redis service to provide a key-value store\n\nTIP:  Use 'cf marketplace -s SERVICE' to view descriptions of individual plans of a given service.\n\n\n## \u306f\u3058\u3081\u306b\n\n\u300e[\u683c\u5b89\u306aScaleway C2\u30b5\u30fc\u30d0\u3067microPCF\uff08\u81ea\u5206\u5c02\u7528Cloud Foundry)\u3092\u69cb\u7bc9](http://qiita.com/morikat/items/9351d669281ba7fbca39)\u300f\u306e\u8a18\u4e8b\u306b\u3066\u683c\u5b89\u306eScaleway C2\u30b5\u30fc\u30d0\u3092\u4f7f\u3063\u3066\u81ea\u5206\u7528\u306eCloud Foundry\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3057\u305f\u3002\n\n\u4e0a\u8a18\u306e\u69cb\u7bc9\u306e\u624b\u9806\u3067\u3059\u3068\u5225\u306e\u30de\u30b7\u30f3\u3084\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u7d4c\u7531\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u306e\u3067\n\u5916\u90e8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3092\u53ef\u80fd\u306b\u3057\u305f\u3044\u3068\u601d\u3044\u59cb\u3081\u305f\u306e\u3067\u3001\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n* \u4e8b\u524d\u6e96\u5099\u306b\u3064\u3044\u3066\n\u300e[\u683c\u5b89\u306aScaleway C2\u30b5\u30fc\u30d0\u3067microPCF\uff08\u81ea\u5206\u5c02\u7528Cloud Foundry)\u3092\u69cb\u7bc9](http://qiita.com/morikat/items/9351d669281ba7fbca39)\u300f\u3092\u5408\u308f\u305b\u3066\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n* Scaleway\u306esecurity groups\u306b\u3064\u3044\u3066\nsecurity groups\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306f\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30dd\u30fc\u30c8\u3092\u5236\u9650\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\n\n\n## \u5909\u66f4\u624b\u9806\n\n### Vagrantfile\u306e\u5909\u66f4\n\nVagrant\u306eport forward\u3059\u308b\u70ba\u306b\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\n\u203b60,61\u3092\u8ffd\u52a0\n\n```bash\n# vi Vagrantfile\n 58   if !vagrant_up_aws\n 59     config.vm.network \"private_network\", ip: local_public_ip\n 60     config.vm.network :forwarded_port, guest: 80, host: 80\n 61     config.vm.network :forwarded_port, guest: 443, host: 443\n 62   end\n```\n\n### MICROPCF_DOMAIN\u3092\u8a2d\u5b9a\u3059\u308b\n\nCloud Foundry\u306eAPI\u7528\u306b\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u30fb\u30c9\u30e1\u30a4\u30f3\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u4eca\u56de\u306f\u4fbf\u5229\u306a[xip.io](http://xip.io/)\u3092\u4f7f\u3063\u3066\u5bfe\u5fdc\u3057\u307e\u3059\u3002\n\nMICROPCF_DOMAIN\u306bScaleway \u306edashboard\u304b\u3089\u78ba\u8a8d\u3067\u304d\u308b\u30de\u30b7\u30f3\u306ePublic_IP\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u203b\u4eca\u56de\u306f\u4eee\u306e\u5024\u3068\u3057\u3066public_ip\u304c`163.1.2.3`\u306e\u5834\u5408\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```bash\n# export MICROPCF_DOMAIN=163.1.2.3.xip.io\n```\n\n### Vagrant up\u3059\u308b\n\n```bash\n# vagrant up --provider=virtualbox\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\n### curl\u3067\u8a66\u3059\n\n\n```bash\n$ curl  https://api.163.1.2.3.xip.io/v2/info -k\n{\"name\":\"micropcf-cc\",\"build\":\"\",\"support\":\"micropcf@pivotal.io\",\"version\":0,\"description\":\"\",\"authorization_endpoint\":\"http://login.163.1.2.3.xip.io\",\"token_endpoint\":\"http://uaa.163.1.2.3.xip.io\",\"min_cli_version\":null,\"min_recommended_cli_version\":null,\"api_version\":\"2.48.0\",\"app_ssh_endpoint\":\"ssh.163.1.2.3.xip.io:2222\",\"app_ssh_host_key_fingerprint\":\"a6:d1:08:0b:b0:cb:9b:5f:c4:ba:44:2a:97:26:19:8a\",\"app_ssh_oauth_client\":\"ssh-proxy\",\"routing_endpoint\":\"https://api.163.1.2.3.xip.io/routing\",\"logging_endpoint\":\"wss://loggregator.163.1.2.3.xip.io:443\",\"doppler_logging_endpoint\":\"wss://doppler.163.1.2.3.xip.io:443\"}\n```\n\n### cf\u30b3\u30de\u30f3\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\n\n```bash\n$ cf login -a https://api.163.1.2.3.xip.io --skip-ssl-validation        API endpoint: https://api.163.1.2.3.xip.io\n\nEmail> admin\n\nPassword>\nAuthenticating...\nOK\n\nTargeted org micropcf-org\n\nTargeted space micropcf-space\n\n\n\nAPI endpoint:   https://api.163.1.2.3.xip.io (API version: 2.48.0)\nUser:           admin\nOrg:            micropcf-org\nSpace:          micropcf-space\n```\n\n\n### cf passwd\u3067admin\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u72b6\u614b\u3060\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u3042\u307e\u308a\u306b\u5358\u7d14\u306a\u306e\u3067\u5909\u66f4\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u203b\u30c7\u30d5\u30a9\u30eb\u30c8\u306f`admin/admin`\u3067\u3059\u3002\n\n```bash\n$ cf passwd\n\nCurrent Password>\n\nNew Password>\n\nVerify Password>\nChanging password...\nOK\nPlease log in again\n\n```\n\n### dora\u3092push\u3057\u3066\u307f\u308b\n\nhttps://github.com/cloudfoundry/cf-acceptance-tests/tree/master/assets/dora\n\n```bash\n$ git clone https://github.com/cloudfoundry/cf-acceptance-tests.git\n$ cd cf-acceptance-tests/assets/dora\n$ cf push dora\nCreating app dora in org micropcf-org / space micropcf-space as admin...\nOK\n\nCreating route dora.163.1.2.3.xip.io...\nOK\n\nBinding dora.163.1.2.3.xip.io to dora...\nOK\n\nUploading dora...\nUploading app files from: /home/morika-t/cf-acceptance-tests/assets/dora\nUploading 1.2M, 43 files\nDone uploading\nOK\n\nStarting app dora in org micropcf-org / space micropcf-space as admin...\nDownloading java_buildpack...\nDownloading ruby_buildpack...\nDownloading nodejs_buildpack...\nDownloading go_buildpack...\nDownloading python_buildpack...\nDownloading php_buildpack...\nDownloading staticfile_buildpack.\nDownloaded binary_buildpack (8.3K)\nDownloaded staticfile_buildpack (2.4M)\nDownloaded nodejs_buildpack (44.3M)\nDownloaded ruby_buildpack (269.1M)\nDownloaded java_buildpack (239.9M)\nDownloaded go_buildpack (344.8M)\nDownloaded python_buildpack (254M)\nDownloaded php_buildpack (327.7M)\nCreating container\nSuccessfully created container\nDownloading app package...\nDownloaded app package (1.1M)\nStaging...\n-------> Buildpack version 1.6.12\n       Downloaded [file:///tmp/buildpacks/b63e4fc8b7f44b192e4165e7a069bc5f/dependencies/https___pivotal\n-buildpacks.s3.amazonaws.com_ruby_binaries_shared_bundler-1.9.7.tgz]\n-----> Compiling Ruby/Rack\n       Downloaded [file:///tmp/buildpacks/b63e4fc8b7f44b192e4165e7a069bc5f/dependencies/https___pivotal\n-buildpacks.s3.amazonaws.com_concourse-binaries_ruby_ruby-2.2.3-linux-x64.tgz]\n-----> Using Ruby version: ruby-2.2.3\n-----> Installing dependencies using bundler 1.9.7\n       Downloaded [file:///tmp/buildpacks/b63e4fc8b7f44b192e4165e7a069bc5f/dependencies/https___pivotal\n-buildpacks.s3.amazonaws.com_ruby_binaries_cflinuxfs2_libyaml-0.1.6.tgz]\n       Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin -j4 --deployment\n\n       Using json 1.8.1\n       Using bundler 1.9.7\n       Installing rack 1.5.1\n       Installing tilt 1.3.3\n       Installing rack-protection 1.3.2\n       Installing sinatra 1.3.4\n       Bundle complete! 4 Gemfile dependencies, 6 gems now installed.\n       Gems in the groups development and test were not installed.\n       Bundled gems are installed into ./vendor/bundle.\n       Bundle completed (2.80s)\n       Cleaning up the bundler cache.\n###### WARNING:\n       You have not declared a Ruby version in your Gemfile.\n       To set your Ruby version add this line to your Gemfile:\n       ruby '2.2.3'\n       # See https://devcenter.heroku.com/articles/ruby-versions for more information.\n###### WARNING:\n       No Procfile detected, using the default web server (webrick)\n       https://devcenter.heroku.com/articles/ruby-default-web-server\nExit status 0\nStaging complete\nUploading droplet, build artifacts cache...\nUploading droplet...\nUploading build artifacts cache...\nUploaded build artifacts cache (1.3M)\nUploaded droplet (17.8M)\nUploading complete\n\n1 of 1 instances running\n\nApp started\n\n\nOK\n\nApp dora was started using this command `bundle exec rackup config.ru -p $PORT`\n\nShowing health and status for app dora in org micropcf-org / space micropcf-space as admin...\nOK\n\nrequested state: started\ninstances: 1/1\nusage: 1G x 1 instances\nurls: dora.163.1.2.3.xip.io\npackage uploaded: Sun Mar 13 06:24:38 UTC 2016\n\n     state     since                    cpu    memory    disk      details\n#0   running   2016-03-13 03:27:20 PM   0.0%   0 of 1G   0 of 1G\n```\n\n## curl\u3067\u78ba\u8a8d\n\n```bash\n$ curl dora.163.1.2.3.xip.io\nHi, I'm Dora!\n```\n\n\u7121\u4e8b\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3057\u305f\u3002\n\n## microPCF\u306b\u5185\u5305\u3055\u308c\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3046\n\n\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u306b\u3088\u308b\u3068`redis`\u3068`mysql`\u304cv0.6.0\u306e\u5834\u5408\u306f\u5229\u7528\u53ef\u80fd\u306a\u3088\u3046\u3067\u3059\u3002\n\n* [v0.6.0](https://github.com/pivotal-cf/micropcf/releases/tag/v0.6.0)\n* [v0.5.0](https://github.com/pivotal-cf/micropcf/releases/tag/v0.5.0)\n\n\u901a\u5e38\u306e\u5834\u5408`cf marketplace`\u3092\u53e9\u304f\u3068\u5229\u7528\u53ef\u80fd\u306a\u30b5\u30fc\u30d3\u30b9\u304c\u51fa\u3066\u304f\u308b\u306f\u305a\u306a\u306e\u3067\u3059\u304c\u3001\u4eca\u56deC2\u30b5\u30fc\u30d0\u3067\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306b\u3057\u305f\u74b0\u5883\u3067\u306f\u305d\u306e\u307e\u307e\u3067\u306f\u4e00\u89a7\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\nvagrant\u306eVM\u306e\u4e2d\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u307f\u308b\u3068\u3001\u30b5\u30fc\u30d3\u30b9\u81ea\u4f53\u306f\u52d5\u4f5c\u3057\u3066\u308b\u3088\u3046\u3060\u3063\u305f\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u203b\u304a\u305d\u3089\u304f\u539f\u56e0\u306fAWS\u4ee5\u5916\u3067\u306f\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a`MICROPCF_DOMAIN`\u306e\u8a2d\u5b9a\u5909\u66f4\u3092\u3059\u308b\u3068\u30b5\u30fc\u30d3\u30b9\u304c\u3046\u307e\u304f\u767b\u9332\u3055\u308c\u306a\u3044\uff1f\n\n### \u624b\u52d5\u3067service-broker\u3092\u767b\u9332\u3059\u308b\n\n\u203b`cf login`\u306e\u6642\u306eAPI\u304c`api.163.1.2.3.xip.io`\u306e\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\n\n#### redis\u306e\u767b\u9332\n\n\u203bservice-brokers\u306eID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fadmin\u306a\u306e\u3067\u3001\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u74b0\u5883\u306e\u5834\u5408\u306f`vagrant ssh`\u3067vm\u306b\u5165\u3063\u3066`/var/vcap/jobs/cf-redis-broker/config/broker.yml`\u306e`auth`\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u305f\u5f8c\u3067`/var/vcap/bosh/bin/monit restart cf-redis-broker`\u3067\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002\n\n```bash\n$ cf create-service-broker p-redis admin admin http://redis-broker.163.1.2.3.xip.io\nCreating service broker p-redis as admin...\nOK\n```\n\n#### mysql\u306e\u767b\u9332\n\n\u203bservice-brokers\u306eID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fadmin\u306a\u306e\u3067\u3001\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u74b0\u5883\u306e\u5834\u5408\u306f`vagrant ssh`\u3067vm\u306b\u5165\u3063\u3066`/var/vcap/jobs/cf-mysql-broker/config/settings.yml`\u306e`auth`\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u305f\u5f8c\u3067`/var/vcap/bosh/bin/monit restart cf-mysql-broker`\u3067\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002\n\n```bash\n$ cf create-service-broker p-mysql admin admin http://mysql.163.1.2.3.xip.io\nCreating service broker p-mysql as admin...\nOK\n```\n#### enable-service-access\n\n\u307e\u305a\u306f\u767b\u9332\u3057\u305fbroker\u306e\u4e00\u89a7\u78ba\u8a8d\n\n```bash\n$ cf service-brokers\nGetting service brokers as admin...\n\nname      url\np-mysql   http://mysql.163.1.2.3.xip.io\np-redis   http://redis-broker.163.1.2.3.xip.io\n```\n\n\u30b5\u30fc\u30d3\u30b9\u306e\u6709\u52b9\u5316\n\n```bash\n$ cf enable-service-access p-mysql\nEnabling access to all plans of service p-mysql for all orgs as admin...\nOK\n\n$ cf enable-service-access p-redis\nEnabling access to all plans of service p-redis for all orgs as admin...\nOK\n```\n\n\u767b\u9332\u78ba\u8a8d\n\n```bash\n$ cf marketplace\nGetting services from marketplace in org micropcf-org / space micropcf-space as admin...\nOK\n\nservice   plans        description\np-mysql   512mb, 1gb   MySQL databases on demand\np-redis   shared-vm    Redis service to provide a key-value store\n\nTIP:  Use 'cf marketplace -s SERVICE' to view descriptions of individual plans of a given service.\n```\n", "tags": ["scaleway", "cloudfoundry"]}