{"tags": ["CoffeeScript", "gulp", "browserify", "stylus", "Jade"], "context": " More than 1 year has passed since last update.\u3061\u3087\u3044\u3061\u3087\u3044\u30da\u30fc\u30b8\u3092\u4f5c\u3089\u306a\u304d\u3083\u3044\u3051\u306a\u3044\u3068\u304d\u306b\u3044\u3061\u3044\u3061\u66f8\u304f\u306e\u306f\u9762\u5012\u304f\u3055\u3044\u306e\u3067\n\u4ee5\u4e0b\u306e\u30c6\u30f3\u30d7\u30ec\u3092Folk\u3057\u3066\u304d\u3066\u4f5c\u3063\u3066\u308b\u3002\u90fd\u5ea6\u66f4\u65b0\n\u4eca\u306e\u3068\u3053\u308d\u306f\u57fa\u672c\u7684\u306bjQuery\u306f\u4f7f\u3063\u3066\u306a\u3044\u3002\n\u57fa\u672c\u5171\u540c\u4f5c\u696d\u3082\u306a\u3044\u3088\u3046\u306a\u5c0f\u3055\u3044\u7269\u304c\u591a\u3044\u306e\u3067\u81ea\u5206\u3067\u4f7f\u3044\u3084\u3059\u3044\u3001\u30e1\u30f3\u30c6\u3057\u3084\u3059\u3044\u3001\u4f7f\u3063\u3066\u3066\u30c6\u30f3\u30b7\u30e7\u30f3\u4e0a\u304c\u308b\u3002\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3057\u3066\u308b\u3002\n\nDirectory Tree\n\napp/\n\n\npublic/\n\n\nsource/\n\n\ncoffee/\n\n\nmain.coffee\nhelper.coffee\n\n\njade/\n\n\nindex.jade\n\n\njavascript/\n\n\ngoogleanalytics.js\n\n\nresources/\nstylus/\n\n\nmain.styus\n\n\n\n\n.gitignore\nbower.json\ngulp.coffee\ngulp.js\npackage.json\n\n\n.gitignore\n\u6642\u3005\u66f4\u65b0\u3059\u308b\u3002\u306a\u3093\u3067public\u4ee5\u4e0b\u3092\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3058\u3083\u306a\u304f\u3066\u4e00\u500b\u3065\u3064\u6307\u5b9a\u3057\u3066\u3044\u308b\u306e\u304b\u306f\u7406\u7531\u306f\u3042\u3063\u305f\u3068\u601d\u3046\u3051\u3069\u5fd8\u308c\u305f\u3002\n\u591a\u5206\u6642\u3005\u624b\u3067\u3076\u3061\u8fbc\u3080Ruby\u306e\u30d5\u30a1\u30a4\u30eb\u3068\u304b\u304c\u3042\u308b\u304b\u3089\u3060\u3063\u305f\u3068\u601d\u3046\u3002api/\u3068\u304b\n\n.gitignore\n/node_modules\n/dev\n.DS_Store\n/bower_components\nIcon\\r\nIcon\n*.log\n/source/.tmp\n/app/public/resources\n/app/public/scripts\n/app/public/styles\n/app/public/*.html\n/app/public/vendors\n\n\n\nbower.json\n\u624b\u66f4\u65b0\u306f\u306a\u3057\u3002\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u3002\nbower init\nbower install --save normalize.css\n\n\npackage.json\n\u3082\u3046\u4e2d\u8eab\u3044\u3063\u3071\u3044\u306a\u306e\u3067\u305d\u306e\u307e\u307e\u30b3\u30d4\u30da\n\u5272\u308a\u3068\u4f7f\u3063\u3066\u306a\u3044\u306e\u3082\u6b8b\u3063\u3066\u308b\u304b\u3089\u6642\u3005\u6574\u7406\u3057\u3066\u308b\n\u3053\u308c\u3082\u624b\u66f4\u65b0\u306f\u306a\u304f\u3001\u66f4\u65b0\u3059\u308b\u969b\u306f npm install --save-dev\n\u3067\u66f4\u65b0\u3057\u3066\u308b\u3002\uff08\u57fa\u672c\u958b\u767a\u7528\u306eNPM\u3057\u304b\u8aad\u307f\u8fbc\u307e\u306a\u3044\u306e\u3067\u3044\u3064\u3082-dev\uff09\n\npackage.json\n{\n  \"name\": \"\u90fd\u5ea6\u66f8\u304d\u63db\u3048\",\n  \"version\": \"0.0.0\",\n  \"description\": \"\u90fd\u5ea6\u66f8\u304d\u63db\u3048\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"postinstall\": \"node node_modules/.bin/gulp compile\"\n  },\n  \"author\": \"\u90fd\u5ea6\u66f8\u304d\u63db\u3048\",\n  \"license\": \"ISC\",\n  \"homepage\": \"\u90fd\u5ea6\u66f8\u304d\u63db\u3048\",\n  \"devDependencies\": {\n    \"browserify\": \"^8.0.3\",\n    \"coffee-script\": \"^1.8.0\",\n    \"coffeeify\": \"^1.0.0\",\n    \"gulp\": \"^3.8.10\",\n    \"gulp-coffee\": \"^2.2.0\",\n    \"gulp-concat\": \"^2.4.3\",\n    \"gulp-filter\": \"^3.0.1\",\n    \"gulp-imagemin\": \"^2.1.0\",\n    \"gulp-jade\": \"^0.10.0\",\n    \"gulp-livereload\": \"^3.8.0\",\n    \"gulp-minify-css\": \"^0.3.11\",\n    \"gulp-notify\": \"^2.1.0\",\n    \"gulp-pleeease\": \"^1.2.0\",\n    \"gulp-plumber\": \"^0.6.6\",\n    \"gulp-rename\": \"^1.2.0\",\n    \"gulp-sourcemaps\": \"^1.5.2\",\n    \"gulp-streamify\": \"0.0.5\",\n    \"gulp-stylus\": \"^1.3.4\",\n    \"gulp-uglify\": \"^1.0.2\",\n    \"gulp-watch\": \"^3.0.0\",\n    \"gulp-webserver\": \"^0.9.1\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.0.0\"\n  }\n}\n\n\n\ngulp.js\ngulp.coffee\u3092\u547c\u3073\u51fa\u3059\u3060\u3051\u3002\u8a2d\u5b9a\u306fgulp.coffee\u306b\u66f8\u304f\n\ngulp.js\nrequire('coffee-script/register');\nrequire('./gulpfile.coffee');\n\n\n\ngulp.coffee\n\u305d\u3053\u305d\u3053\u9577\u3044\u3051\u3069\u30d5\u30a1\u30a4\u30eb\u5206\u5272\u306f\u3057\u3066\u306a\u3044\u3002\u4e00\u56de\u3084\u3063\u305f\u3051\u3069\u9006\u306b\u9762\u5012\u30af\u30bb\u30a7\u306a\u3001\u3068\u601d\u3063\u3066\u3002\n\u305d\u308d\u305d\u308d\u6574\u7406\u3057\u306a\u3044\u3068\u4ed8\u3051\u8db3\u3057\u4ed8\u3051\u8db3\u3057\u3067\u3084\u3063\u3066\u3066\u3001\u4f7f\u3063\u3066\u306a\u3044\u306e\u306b\u8aad\u307f\u8fbc\u3093\u3067\u308b\u306e\u3068\u304b\u3042\u308a\u305d\u3046\u3002\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u304c\u5fc5\u8981\u306a\u3068\u304d\u306fRuby+Sinatra\u3067\u66f8\u304f\u3002\u305d\u306e\u6642\u306fWebserver/Livereload\u3092\u6d88\u3059\u3002\n$ gulp\n\n\u3067\u30d5\u30a1\u30a4\u30eb\u76e3\u8996\u3001\u30d3\u30eb\u30c9\u3001\u30b5\u30fc\u30d0\u8d77\u52d5\n\ngulp.coffee\ngulp       = require 'gulp'\njade       = require 'gulp-jade'\ncoffee     = require 'gulp-coffee'\nuglify     = require 'gulp-uglify'\nstylus     = require 'gulp-stylus'\nminify     = require 'gulp-minify-css'\nconcat     = require 'gulp-concat'\nwatch      = require 'gulp-watch'\nserver     = require 'gulp-webserver'\nlivereload = require 'gulp-livereload'\nplumber    = require 'gulp-plumber'\nnotify     = require 'gulp-notify'\nimagemin   = require 'gulp-imagemin'\nrename     = require 'gulp-rename'\nbuffer     = require 'vinyl-buffer'\nfilter     = require 'gulp-filter'\n\nbrowserify = require 'browserify'\ncoffeeify  = require 'coffeeify'\nsource     = require 'vinyl-source-stream'\nstreamify  = require 'gulp-streamify'\nsourcemaps = require 'gulp-sourcemaps'\npleeease   = require 'gulp-pleeease'\n\npub_dir    = 'app/public'\n\nsrcdata = {\n  'coffee'   : 'source/coffee/**/*.coffee'\n  'stylus'   : 'source/stylus/**/*.stylus'\n  'jade'     : 'source/jade/**/*.jade'\n  'image'    : 'source/resources/**/*'\n  'bower'    : ['dev/vendors/**/*','bower_components/**/*']\n  'vendorjs' : 'source/javascript/**/*'\n}\n\ngulp.task 'compile-js', () ->\n  compileFileName = 'application.min.js'\n  browserify(\n    entries: ['./source/coffee/main.coffee']\n    extensions: ['.coffee']\n    )\n    .transform 'coffeeify'\n    .bundle()\n    .pipe plumber(errorHandler: notify.onError '<%= error.message %>')\n    .pipe source 'application.min.js'\n    .pipe buffer()\n    .pipe sourcemaps.init\n      loadMaps: true\n    .pipe streamify uglify({mangle: false})\n    .pipe sourcemaps.write(pub_dir+'/scripts')\n    .pipe gulp.dest pub_dir+'/scripts'\n\ngulp.task 'compile-css', () ->\n  compileFileName = 'application.min.css'\n  gulp.src srcdata.stylus\n    .pipe plumber(errorHandler: notify.onError '<%= error.message %>')\n    .pipe sourcemaps.init()\n    .pipe stylus()\n    .pipe concat(compileFileName)\n    .pipe pleeease\n      fallbacks:\n        autoprefixer: ['last 4 versions']\n      optimizers:\n        minifier: false\n#    .pipe minify()\n    .pipe sourcemaps.write(pub_dir+'/styles')\n    .pipe gulp.dest(pub_dir+'/styles')\n\ngulp.task 'compile-html', () ->\n  gulp.src srcdata.jade\n    .pipe plumber(errorHandler: notify.onError '<%= error.message %>')\n    .pipe jade\n      pretty: true\n    .pipe rename extname: '.html'\n    .pipe gulp.dest(pub_dir)\n\ngulp.task 'compile-image', () ->\n  gulp.src srcdata.image\n    .pipe imagemin()\n    .pipe gulp.dest(pub_dir+'/resources')\n\ngulp.task 'move-vendors', () ->\n  cssFilter = filter '**/*.css'\n  gulp.src srcdata.bower\n    #.pipe cssFilter\n    .pipe gulp.dest(pub_dir+'/vendors')\n\ngulp.task 'move-vendorjs', () ->\n  gulp.src srcdata.vendorjs\n    .pipe gulp.dest(pub_dir+'/scripts/vendors')\n\ngulp.task 'webserver', () ->\n  gulp.src \"app/public\"\n    .pipe server(livereload:true)\n\ngulp.task 'compile', [\n  'compile-js'\n  'compile-css'\n  'compile-html'\n  'move-vendors'\n  'move-vendorjs'\n  'compile-image'\n]\ngulp.task 'watch', () ->\n  gulp.watch srcdata.stylus, ['compile-css']\n  gulp.watch srcdata.coffee, ['compile-js']\n  gulp.watch srcdata.jade, ['compile-html']\n  gulp.watch srcdata.image, ['compile-image']\n  gulp.watch srcdata.bower, ['move-vendors']\n  gulp.watch srcdata.vendorjs, ['move-vendorjs']\n\ngulp.task 'default', [\n  'compile'\n  'watch'\n  'webserver'\n]\n\n\n\nsource/coffee/main.coffee\nCoffee\u306e\u89aa\u7389\u3053\u3044\u3064\u3067\u3044\u308d\u3093\u306a\u306e\u547c\u3073\u51fa\u3059\uff08\u6700\u7d42\u7684\u306bbrowserify\u3067\u7d50\u5408\u3059\u308b\uff09\n\u8ffd\u52a0\u3059\u308b\u969b\u306f\u57fa\u672c1\u30af\u30e9\u30b9\u305a\u30641coffee\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066main.coffee\u4e0a\u3067\u547c\u3073\u51fa\u3057\u3066\u5c55\u958b\u3059\u308b\u3002\n\u6700\u7d42\u7684\u306b\u306f\u3059\u3079\u3066\u306eCofee\u306f\u4e00\u3064\u306b\u307e\u3068\u3081\u3089\u308c\u3066minify\u3055\u308c /app/public/scripts/appplication.min.js \u304c\u7206\u8a95\u3059\u308b\u3002\n\nmain.coffee\n# helper class\nHelper = require './helper'\nwindow.helper = new Helper()\n\n\n\nsource/coffee/helper.coffee\n\u5927\u4f53\u4f7f\u3046\u4fbf\u5229\u306a\u3084\u3064\u3089\u3092\u5165\u308c\u3066\u304a\u304f\u96d1\u591a\u30af\u30e9\u30b9\u30d5\u30a1\u30a4\u30eb\n\u30af\u30e9\u30b9\u30d5\u30a1\u30a4\u30eb\u4f5c\u308b\u3068\u304d\u306f\u3060\u3044\u305f\u3044\u3053\u308c\u3092\u30b3\u30d4\u30da\u3057\u3066\u4e0b\u5730\u306b\u3057\u3066\u308b\n\nhelper.coffee\nclass Helper\n\n  constructor: (args)->\n\n  $id: (id) ->\n    return document.getElementById id\n\n  xhr: (url,cb, opt) ->\n    xhr = new XMLHttpRequest()\n    xhr.open 'GET', url\n\n    xhr.onreadystatechange = () ->\n      if xhr.readyState == 4 && xhr.status == 200\n        cb xhr.responseText,opt\n      else if xhr.readyState == 4 && xhr.status != 200\n        error xhr.status,opt\n      return this\n\n    xhr.send()\n    return this\n\n  htmlize: (str) ->\n    str = str.replace /(https?:\\/\\/[\\x21-\\x7e]+)/gi, \"<a href=$1>$1</a>\"\n    str = str.replace /&/gi,'&amp;'\n    str = str.replace /\\\"/gi, '&quote'\n    str = str.replace /\\n/gi,'<br>'\n    return str\n\n  formatDate: (date, format) ->\n    if format is no\n      format = 'YYYY-MM-DD hh:mm:ss.SSS'\n\n    format = format.replace /YYYY/g, date.getFullYear()\n    format = format.replace /MM/g, ('0' + (date.getMonth() + 1)).slice(-2)\n    format = format.replace /DD/g, ('0' + date.getDate()).slice(-2)\n    format = format.replace /hh/g, ('0' + date.getHours()).slice(-2)\n    format = format.replace /mm/g, ('0' + date.getMinutes()).slice(-2)\n    format = format.replace /ss/g, ('0' + date.getSeconds()).slice(-2)\n\n    if format.match(/S/g) is yes\n      milliSeconds = ('00' + date.getMilliseconds()).slice(-3)\n      length = format.match(/S/g).length\n      for i in length\n        format = format.replace /S/, milliSeconds.substring(i, i + 1)\n\n    return format\n\n  setLoading: ($target) ->\n    $loading = document.createElement \"div\"\n    $loading.classList.add \"spinner\"\n    bounce1 = '<div class=\"bounce1\"></div>'\n    bounce2 = '<div class=\"bounce2\"></div>'\n    bounce3 = '<div class=\"bounce3\"></div>'\n    $loading.innerHTML = bounce1+bounce2+bounce3\n    $target.appendChild $loading\n    return $loading\n\n  removeLoading: ($target) ->\n    $parent = $target.parentNode\n    $parent.removeChild $target\n\nmodule.exports = Helper\n\n\n\nsource/stylus/main.stylus\nCSS\u7684\u306a\u5974\u306f\u57fa\u672cStylus\u3092\u63a1\u7528\u3002\u7406\u7531\u306f\u597d\u307f\u3060\u304b\u3089\u3002\nJS\u3068\u30bb\u30c3\u30c8\u3067\u4f7f\u3046\u3088\u3046\u306a\u30b9\u30bf\u30a4\u30eb\u306f\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u3066\u4f8b\u3048\u3070\"slider.stylus\"\u3068\u304b\u306b\u6c17\u5206\u3067\u3059\u308b\n\u6700\u7d42\u7684\u306b\u3059\u3079\u3066\u7d50\u5408\u3055\u308c\u3066minify\u3055\u308c /app/public/styles/application.min.css \u304c\u7206\u8a95\u3059\u308b\u3002\n\u57fa\u672c\u8868\u8a18\u30eb\u30fc\u30eb\u306f\u666e\u901a\u3002\n- \u30b3\u30ed\u30f3\u5f8c\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u4e00\u3064\n- \u884c\u9589\u3058\u30bb\u30df\u30b3\u30ed\u30f3\u306a\u3057\n- pleeease\u306b\u3088\u3063\u3066\u30d9\u30f3\u30c0\u30fc\u30d7\u30ea\u30d5\u30a3\u30af\u30b9\u306f\u81ea\u52d5\u3067\u3064\u304f\u306e\u3067\u3064\u3051\u306a\u3044\nselecta\n  property: value\n  property: value\n\n\nmain.stylus\n\n// ------------------------------\n// Vars\n// ------------------------------\nColorMainText = #333\nColorSubText  = #555\nColorAntiText = #fefefe\nColorMainBackground = #fefefe\nColorWeekText = #aaa\nColorMainShadow = #aaa\nColorActiveShadow = #ccc\n\nSizeMainFont = 92%\n\n// ------------------------------\n// Basics\n// ------------------------------\n\nbody\n  background: ColorMainBackground\n  color: ColorMainText\n  font-size: SizeMainFont\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif\n\nh1\n  font-size: 2rem\n  margin: 0\n  padding: 1.2rem 0\n\nh2\n  font-size: 1.6rem\n  margin: 0 0 6px\n\nh3\n  font-size: 1.2rem\n\n\n\n// ------------------------------\n// Layouts\n// ------------------------------\n#container\n  margin: 0 10px\n  padding: 0\n\n\n@media(max-width: 720px)\n  #container\n    margin: 0\n\n@media print\n  form.searchbox, .sharedaddy, #navigation\n    display: none\n\n/*\nutility\n*/\n.spinner\n  width: 54px\n  height: 18px\n  margin: 20px auto\n  div\n    width: 18px\n    height: 18px\n    background-color: rgba(124,124,124,0.4)\n    filter: blur(1px)\n\n    border-radius: 100%\n    display: inline-block\n    animation: bouncedelay 1.4s infinite ease-in-out\n    animation-fill-mode: both\n  .bounce1\n    animation-delay: -0.32s\n  .bounce2\n    animation-delay: -0.16s\n  .bounce3\n    animation-delay: -0.08s\n\n.clearbox\n  &:after\n    content: \"\"\n    display: block\n    clear: both\n\n/* animation */\n@keyframes bouncedelay\n  0%, 80%, 100%\n    transform: scale(0.0)\n   40%\n    transform: scale(1.0)\n\n\n\n\nsource/jade/index.jade\nHTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3001\u3053\u308c\u304c\u4e00\u756a\u6bce\u56de\u30bc\u30ed\u304b\u3089\u66f8\u304f\u306e\u3060\u308b\u3044\n\u57fa\u672c\u7684\u306b\u306fJADE\u3092\u63a1\u7528\u3001\u306a\u305c\u306a\u3089HTML\u66f8\u304f\u3088\u308a\u697d\u3060\u3057Coffee\u3084Stylus\u3068\u307b\u307c\u540c\u3058\u611f\u3058\u3067\u304b\u3051\u308b\u304b\u3089\uff08\u30a4\u30f3\u30c7\u30f3\u30c8\u5224\u5225\u3001\u30bb\u30df\u30b3\u30ed\u30f3\u4e0d\u8981 \u7b49\uff09\nfont-awesome\u8aad\u307f\u8fbc\u3093\u3067\u308b\u3051\u3069\u307b\u3068\u3093\u3069\u4f7f\u3063\u3066\u306a\u3044\u306a\u3001\u3001\u3001\u73fe\u72b6\u3001\u3001\u3001\n\nindex.jade\n- meta_title = '\u90fd\u5ea6\u66f8\u304d\u63db\u3048'\n- meta_description = '\u90fd\u5ea6\u66f8\u304d\u63db\u3048'\n- author = '\u90fd\u5ea6\u66f8\u304d\u63db\u3048'\n\ndoctype html\nhtml\n  head\n    meta(charset='UTF-8')\n    title #{meta_title}\n    meta(name='description', content=meta_description)\n    meta(name=\"viewport\", content=\"width=device-width, initial-scale=1\")\n    link(rel=\"stylesheet\",href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\")\n    link(href=\"/vendors/normalize.css/normalize.css\",rel=\"stylesheet\",type=\"text/css\")\n    link(rel=\"stylesheet\", href='http://fonts.googleapis.com/css?family=Roboto:900,400',type='text/css')\n    link(href=\"/styles/application.min.css\",rel=\"stylesheet\",type=\"text/css\")\n    link(rel=\"shortcut icon\", href=\"/resources/favicon.ico\")\n\n  body\n    div#container\n\n\n\n    p.copyrights copyrights&copy;#{author}\n\n    script(type=\"text/javascript\",src=\"/scripts/application.min.js\",charset='UTF-8')\n    script(type=\"text/javascript\",src=\"/scripts/vendors/googleanalytics.js\",charset='UTF-8')\n\n\n\n\nsource/javascript/googleanalytics.js\n\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306eJavascript\u3068\u304b\u306f\u305d\u306e\u307e\u307e\u7d50\u5408\u3068\u304b\u3082\u305b\u305a\u79fb\u3059\u306e\u3067 source/javascript/ \u306b\u5165\u308c\u308b\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fGoogleAnalytics\u306e\u30b3\u30fc\u30c9\u3060\u3051\u5165\u3063\u3066\u308b\n\ngoogleanalytics.js\n(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', '\u90fd\u5ea6\u66f8\u304d\u63db\u3048', 'auto');\nga('send', 'pageview');\n\n\n\n\nsource/resources/\n\u753b\u50cf\u306f\u57fa\u672c\u7684\u306b\u6700\u9069\u5316\u3055\u308c\u3066 /app/public/resources/** \u4ee5\u4e0b\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u3092\u4fdd\u3063\u3066\u79fb\u52d5\u3055\u308c\u308b\n\u3061\u3087\u3044\u3061\u3087\u3044\u30da\u30fc\u30b8\u3092\u4f5c\u3089\u306a\u304d\u3083\u3044\u3051\u306a\u3044\u3068\u304d\u306b\u3044\u3061\u3044\u3061\u66f8\u304f\u306e\u306f\u9762\u5012\u304f\u3055\u3044\u306e\u3067\n\u4ee5\u4e0b\u306e\u30c6\u30f3\u30d7\u30ec\u3092Folk\u3057\u3066\u304d\u3066\u4f5c\u3063\u3066\u308b\u3002\u90fd\u5ea6\u66f4\u65b0\n\u4eca\u306e\u3068\u3053\u308d\u306f\u57fa\u672c\u7684\u306bjQuery\u306f\u4f7f\u3063\u3066\u306a\u3044\u3002\n\u57fa\u672c\u5171\u540c\u4f5c\u696d\u3082\u306a\u3044\u3088\u3046\u306a\u5c0f\u3055\u3044\u7269\u304c\u591a\u3044\u306e\u3067\u81ea\u5206\u3067\u4f7f\u3044\u3084\u3059\u3044\u3001\u30e1\u30f3\u30c6\u3057\u3084\u3059\u3044\u3001\u4f7f\u3063\u3066\u3066\u30c6\u30f3\u30b7\u30e7\u30f3\u4e0a\u304c\u308b\u3002\u306b\u30d5\u30a9\u30fc\u30ab\u30b9\u3057\u3066\u308b\u3002\n\n## Directory Tree\n- app/\n    - public/\n- source/\n    - coffee/\n        - main.coffee\n        - helper.coffee\n    - jade/\n        - index.jade\n    - javascript/\n        - googleanalytics.js\n    - resources/\n    - stylus/\n        - main.styus\n- .gitignore\n- bower.json\n- gulp.coffee\n- gulp.js\n- package.json\n\n## .gitignore\n\u6642\u3005\u66f4\u65b0\u3059\u308b\u3002\u306a\u3093\u3067public\u4ee5\u4e0b\u3092\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3058\u3083\u306a\u304f\u3066\u4e00\u500b\u3065\u3064\u6307\u5b9a\u3057\u3066\u3044\u308b\u306e\u304b\u306f\u7406\u7531\u306f\u3042\u3063\u305f\u3068\u601d\u3046\u3051\u3069\u5fd8\u308c\u305f\u3002\n\u591a\u5206\u6642\u3005\u624b\u3067\u3076\u3061\u8fbc\u3080Ruby\u306e\u30d5\u30a1\u30a4\u30eb\u3068\u304b\u304c\u3042\u308b\u304b\u3089\u3060\u3063\u305f\u3068\u601d\u3046\u3002api/\u3068\u304b\n\n```lang:.gitignore\n/node_modules\n/dev\n.DS_Store\n/bower_components\nIcon\\r\nIcon\n*.log\n/source/.tmp\n/app/public/resources\n/app/public/scripts\n/app/public/styles\n/app/public/*.html\n/app/public/vendors\n```\n\n## bower.json\n\u624b\u66f4\u65b0\u306f\u306a\u3057\u3002\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3067\u3002\n\n```\nbower init\nbower install --save normalize.css\n```\n\n## package.json\n\u3082\u3046\u4e2d\u8eab\u3044\u3063\u3071\u3044\u306a\u306e\u3067\u305d\u306e\u307e\u307e\u30b3\u30d4\u30da\n\u5272\u308a\u3068\u4f7f\u3063\u3066\u306a\u3044\u306e\u3082\u6b8b\u3063\u3066\u308b\u304b\u3089\u6642\u3005\u6574\u7406\u3057\u3066\u308b\n\u3053\u308c\u3082\u624b\u66f4\u65b0\u306f\u306a\u304f\u3001\u66f4\u65b0\u3059\u308b\u969b\u306f npm install --save-dev\n\u3067\u66f4\u65b0\u3057\u3066\u308b\u3002\uff08\u57fa\u672c\u958b\u767a\u7528\u306eNPM\u3057\u304b\u8aad\u307f\u8fbc\u307e\u306a\u3044\u306e\u3067\u3044\u3064\u3082-dev\uff09\n\n```json:package.json\n{\n  \"name\": \"\u90fd\u5ea6\u66f8\u304d\u63db\u3048\",\n  \"version\": \"0.0.0\",\n  \"description\": \"\u90fd\u5ea6\u66f8\u304d\u63db\u3048\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"postinstall\": \"node node_modules/.bin/gulp compile\"\n  },\n  \"author\": \"\u90fd\u5ea6\u66f8\u304d\u63db\u3048\",\n  \"license\": \"ISC\",\n  \"homepage\": \"\u90fd\u5ea6\u66f8\u304d\u63db\u3048\",\n  \"devDependencies\": {\n    \"browserify\": \"^8.0.3\",\n    \"coffee-script\": \"^1.8.0\",\n    \"coffeeify\": \"^1.0.0\",\n    \"gulp\": \"^3.8.10\",\n    \"gulp-coffee\": \"^2.2.0\",\n    \"gulp-concat\": \"^2.4.3\",\n    \"gulp-filter\": \"^3.0.1\",\n    \"gulp-imagemin\": \"^2.1.0\",\n    \"gulp-jade\": \"^0.10.0\",\n    \"gulp-livereload\": \"^3.8.0\",\n    \"gulp-minify-css\": \"^0.3.11\",\n    \"gulp-notify\": \"^2.1.0\",\n    \"gulp-pleeease\": \"^1.2.0\",\n    \"gulp-plumber\": \"^0.6.6\",\n    \"gulp-rename\": \"^1.2.0\",\n    \"gulp-sourcemaps\": \"^1.5.2\",\n    \"gulp-streamify\": \"0.0.5\",\n    \"gulp-stylus\": \"^1.3.4\",\n    \"gulp-uglify\": \"^1.0.2\",\n    \"gulp-watch\": \"^3.0.0\",\n    \"gulp-webserver\": \"^0.9.1\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"^1.0.0\"\n  }\n}\n```\n\n## gulp.js\ngulp.coffee\u3092\u547c\u3073\u51fa\u3059\u3060\u3051\u3002\u8a2d\u5b9a\u306fgulp.coffee\u306b\u66f8\u304f\n\n```js:gulp.js\nrequire('coffee-script/register');\nrequire('./gulpfile.coffee');\n```\n\n## gulp.coffee\n\u305d\u3053\u305d\u3053\u9577\u3044\u3051\u3069\u30d5\u30a1\u30a4\u30eb\u5206\u5272\u306f\u3057\u3066\u306a\u3044\u3002\u4e00\u56de\u3084\u3063\u305f\u3051\u3069\u9006\u306b\u9762\u5012\u30af\u30bb\u30a7\u306a\u3001\u3068\u601d\u3063\u3066\u3002\n\u305d\u308d\u305d\u308d\u6574\u7406\u3057\u306a\u3044\u3068\u4ed8\u3051\u8db3\u3057\u4ed8\u3051\u8db3\u3057\u3067\u3084\u3063\u3066\u3066\u3001\u4f7f\u3063\u3066\u306a\u3044\u306e\u306b\u8aad\u307f\u8fbc\u3093\u3067\u308b\u306e\u3068\u304b\u3042\u308a\u305d\u3046\u3002\n\u30b5\u30fc\u30d0\u30b5\u30a4\u30c9\u304c\u5fc5\u8981\u306a\u3068\u304d\u306fRuby+Sinatra\u3067\u66f8\u304f\u3002\u305d\u306e\u6642\u306fWebserver/Livereload\u3092\u6d88\u3059\u3002\n\n```\n$ gulp\n```\n\u3067\u30d5\u30a1\u30a4\u30eb\u76e3\u8996\u3001\u30d3\u30eb\u30c9\u3001\u30b5\u30fc\u30d0\u8d77\u52d5\n\n```coffeescript:gulp.coffee\ngulp       = require 'gulp'\njade       = require 'gulp-jade'\ncoffee     = require 'gulp-coffee'\nuglify     = require 'gulp-uglify'\nstylus     = require 'gulp-stylus'\nminify     = require 'gulp-minify-css'\nconcat     = require 'gulp-concat'\nwatch      = require 'gulp-watch'\nserver     = require 'gulp-webserver'\nlivereload = require 'gulp-livereload'\nplumber    = require 'gulp-plumber'\nnotify     = require 'gulp-notify'\nimagemin   = require 'gulp-imagemin'\nrename     = require 'gulp-rename'\nbuffer     = require 'vinyl-buffer'\nfilter     = require 'gulp-filter'\n\nbrowserify = require 'browserify'\ncoffeeify  = require 'coffeeify'\nsource     = require 'vinyl-source-stream'\nstreamify  = require 'gulp-streamify'\nsourcemaps = require 'gulp-sourcemaps'\npleeease   = require 'gulp-pleeease'\n\npub_dir    = 'app/public'\n\nsrcdata = {\n  'coffee'   : 'source/coffee/**/*.coffee'\n  'stylus'   : 'source/stylus/**/*.stylus'\n  'jade'     : 'source/jade/**/*.jade'\n  'image'    : 'source/resources/**/*'\n  'bower'    : ['dev/vendors/**/*','bower_components/**/*']\n  'vendorjs' : 'source/javascript/**/*'\n}\n\ngulp.task 'compile-js', () ->\n  compileFileName = 'application.min.js'\n  browserify(\n    entries: ['./source/coffee/main.coffee']\n    extensions: ['.coffee']\n    )\n    .transform 'coffeeify'\n    .bundle()\n    .pipe plumber(errorHandler: notify.onError '<%= error.message %>')\n    .pipe source 'application.min.js'\n    .pipe buffer()\n    .pipe sourcemaps.init\n      loadMaps: true\n    .pipe streamify uglify({mangle: false})\n    .pipe sourcemaps.write(pub_dir+'/scripts')\n    .pipe gulp.dest pub_dir+'/scripts'\n\ngulp.task 'compile-css', () ->\n  compileFileName = 'application.min.css'\n  gulp.src srcdata.stylus\n    .pipe plumber(errorHandler: notify.onError '<%= error.message %>')\n    .pipe sourcemaps.init()\n    .pipe stylus()\n    .pipe concat(compileFileName)\n    .pipe pleeease\n      fallbacks:\n        autoprefixer: ['last 4 versions']\n      optimizers:\n        minifier: false\n#    .pipe minify()\n    .pipe sourcemaps.write(pub_dir+'/styles')\n    .pipe gulp.dest(pub_dir+'/styles')\n\ngulp.task 'compile-html', () ->\n  gulp.src srcdata.jade\n    .pipe plumber(errorHandler: notify.onError '<%= error.message %>')\n    .pipe jade\n      pretty: true\n    .pipe rename extname: '.html'\n    .pipe gulp.dest(pub_dir)\n\ngulp.task 'compile-image', () ->\n  gulp.src srcdata.image\n    .pipe imagemin()\n    .pipe gulp.dest(pub_dir+'/resources')\n\ngulp.task 'move-vendors', () ->\n  cssFilter = filter '**/*.css'\n  gulp.src srcdata.bower\n    #.pipe cssFilter\n    .pipe gulp.dest(pub_dir+'/vendors')\n\ngulp.task 'move-vendorjs', () ->\n  gulp.src srcdata.vendorjs\n    .pipe gulp.dest(pub_dir+'/scripts/vendors')\n\ngulp.task 'webserver', () ->\n  gulp.src \"app/public\"\n    .pipe server(livereload:true)\n\ngulp.task 'compile', [\n  'compile-js'\n  'compile-css'\n  'compile-html'\n  'move-vendors'\n  'move-vendorjs'\n  'compile-image'\n]\ngulp.task 'watch', () ->\n  gulp.watch srcdata.stylus, ['compile-css']\n  gulp.watch srcdata.coffee, ['compile-js']\n  gulp.watch srcdata.jade, ['compile-html']\n  gulp.watch srcdata.image, ['compile-image']\n  gulp.watch srcdata.bower, ['move-vendors']\n  gulp.watch srcdata.vendorjs, ['move-vendorjs']\n\ngulp.task 'default', [\n  'compile'\n  'watch'\n  'webserver'\n]\n```\n\n## source/coffee/main.coffee\n\nCoffee\u306e\u89aa\u7389\u3053\u3044\u3064\u3067\u3044\u308d\u3093\u306a\u306e\u547c\u3073\u51fa\u3059\uff08\u6700\u7d42\u7684\u306bbrowserify\u3067\u7d50\u5408\u3059\u308b\uff09\n\u8ffd\u52a0\u3059\u308b\u969b\u306f\u57fa\u672c1\u30af\u30e9\u30b9\u305a\u30641coffee\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066main.coffee\u4e0a\u3067\u547c\u3073\u51fa\u3057\u3066\u5c55\u958b\u3059\u308b\u3002\n\u6700\u7d42\u7684\u306b\u306f\u3059\u3079\u3066\u306eCofee\u306f\u4e00\u3064\u306b\u307e\u3068\u3081\u3089\u308c\u3066minify\u3055\u308c /app/public/scripts/appplication.min.js \u304c\u7206\u8a95\u3059\u308b\u3002\n\n```coffeescript:main.coffee\n# helper class\nHelper = require './helper'\nwindow.helper = new Helper()\n```\n\n## source/coffee/helper.coffee\n\u5927\u4f53\u4f7f\u3046\u4fbf\u5229\u306a\u3084\u3064\u3089\u3092\u5165\u308c\u3066\u304a\u304f\u96d1\u591a\u30af\u30e9\u30b9\u30d5\u30a1\u30a4\u30eb\n\u30af\u30e9\u30b9\u30d5\u30a1\u30a4\u30eb\u4f5c\u308b\u3068\u304d\u306f\u3060\u3044\u305f\u3044\u3053\u308c\u3092\u30b3\u30d4\u30da\u3057\u3066\u4e0b\u5730\u306b\u3057\u3066\u308b\n\n```coffeescript:helper.coffee\nclass Helper\n\n  constructor: (args)->\n\n  $id: (id) ->\n    return document.getElementById id\n\n  xhr: (url,cb, opt) ->\n    xhr = new XMLHttpRequest()\n    xhr.open 'GET', url\n\n    xhr.onreadystatechange = () ->\n      if xhr.readyState == 4 && xhr.status == 200\n        cb xhr.responseText,opt\n      else if xhr.readyState == 4 && xhr.status != 200\n        error xhr.status,opt\n      return this\n\n    xhr.send()\n    return this\n\n  htmlize: (str) ->\n    str = str.replace /(https?:\\/\\/[\\x21-\\x7e]+)/gi, \"<a href=$1>$1</a>\"\n    str = str.replace /&/gi,'&amp;'\n    str = str.replace /\\\"/gi, '&quote'\n    str = str.replace /\\n/gi,'<br>'\n    return str\n\n  formatDate: (date, format) ->\n    if format is no\n      format = 'YYYY-MM-DD hh:mm:ss.SSS'\n\n    format = format.replace /YYYY/g, date.getFullYear()\n    format = format.replace /MM/g, ('0' + (date.getMonth() + 1)).slice(-2)\n    format = format.replace /DD/g, ('0' + date.getDate()).slice(-2)\n    format = format.replace /hh/g, ('0' + date.getHours()).slice(-2)\n    format = format.replace /mm/g, ('0' + date.getMinutes()).slice(-2)\n    format = format.replace /ss/g, ('0' + date.getSeconds()).slice(-2)\n\n    if format.match(/S/g) is yes\n      milliSeconds = ('00' + date.getMilliseconds()).slice(-3)\n      length = format.match(/S/g).length\n      for i in length\n        format = format.replace /S/, milliSeconds.substring(i, i + 1)\n\n    return format\n\n  setLoading: ($target) ->\n    $loading = document.createElement \"div\"\n    $loading.classList.add \"spinner\"\n    bounce1 = '<div class=\"bounce1\"></div>'\n    bounce2 = '<div class=\"bounce2\"></div>'\n    bounce3 = '<div class=\"bounce3\"></div>'\n    $loading.innerHTML = bounce1+bounce2+bounce3\n    $target.appendChild $loading\n    return $loading\n\n  removeLoading: ($target) ->\n    $parent = $target.parentNode\n    $parent.removeChild $target\n\nmodule.exports = Helper\n```\n\n## source/stylus/main.stylus\nCSS\u7684\u306a\u5974\u306f\u57fa\u672cStylus\u3092\u63a1\u7528\u3002\u7406\u7531\u306f\u597d\u307f\u3060\u304b\u3089\u3002\nJS\u3068\u30bb\u30c3\u30c8\u3067\u4f7f\u3046\u3088\u3046\u306a\u30b9\u30bf\u30a4\u30eb\u306f\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u3066\u4f8b\u3048\u3070\"slider.stylus\"\u3068\u304b\u306b\u6c17\u5206\u3067\u3059\u308b\n\u6700\u7d42\u7684\u306b\u3059\u3079\u3066\u7d50\u5408\u3055\u308c\u3066minify\u3055\u308c /app/public/styles/application.min.css \u304c\u7206\u8a95\u3059\u308b\u3002\n\n\u57fa\u672c\u8868\u8a18\u30eb\u30fc\u30eb\u306f\u666e\u901a\u3002\n- \u30b3\u30ed\u30f3\u5f8c\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u4e00\u3064\n- \u884c\u9589\u3058\u30bb\u30df\u30b3\u30ed\u30f3\u306a\u3057\n- pleeease\u306b\u3088\u3063\u3066\u30d9\u30f3\u30c0\u30fc\u30d7\u30ea\u30d5\u30a3\u30af\u30b9\u306f\u81ea\u52d5\u3067\u3064\u304f\u306e\u3067\u3064\u3051\u306a\u3044\n\n```\nselecta\n  property: value\n  property: value\n```\n\n```sass:main.stylus\n\n// ------------------------------\n// Vars\n// ------------------------------\nColorMainText = #333\nColorSubText  = #555\nColorAntiText = #fefefe\nColorMainBackground = #fefefe\nColorWeekText = #aaa\nColorMainShadow = #aaa\nColorActiveShadow = #ccc\n\nSizeMainFont = 92%\n\n// ------------------------------\n// Basics\n// ------------------------------\n\nbody\n  background: ColorMainBackground\n  color: ColorMainText\n  font-size: SizeMainFont\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif\n\nh1\n  font-size: 2rem\n  margin: 0\n  padding: 1.2rem 0\n\nh2\n  font-size: 1.6rem\n  margin: 0 0 6px\n\nh3\n  font-size: 1.2rem\n\n\n\n// ------------------------------\n// Layouts\n// ------------------------------\n#container\n  margin: 0 10px\n  padding: 0\n\n\n@media(max-width: 720px)\n  #container\n    margin: 0\n\n@media print\n  form.searchbox, .sharedaddy, #navigation\n    display: none\n\n/*\nutility\n*/\n.spinner\n  width: 54px\n  height: 18px\n  margin: 20px auto\n  div\n    width: 18px\n    height: 18px\n    background-color: rgba(124,124,124,0.4)\n    filter: blur(1px)\n\n    border-radius: 100%\n    display: inline-block\n    animation: bouncedelay 1.4s infinite ease-in-out\n    animation-fill-mode: both\n  .bounce1\n    animation-delay: -0.32s\n  .bounce2\n    animation-delay: -0.16s\n  .bounce3\n    animation-delay: -0.08s\n\n.clearbox\n  &:after\n    content: \"\"\n    display: block\n    clear: both\n\n/* animation */\n@keyframes bouncedelay\n  0%, 80%, 100%\n    transform: scale(0.0)\n   40%\n    transform: scale(1.0)\n\n```\n\n## source/jade/index.jade\nHTML\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3001\u3053\u308c\u304c\u4e00\u756a\u6bce\u56de\u30bc\u30ed\u304b\u3089\u66f8\u304f\u306e\u3060\u308b\u3044\n\u57fa\u672c\u7684\u306b\u306fJADE\u3092\u63a1\u7528\u3001\u306a\u305c\u306a\u3089HTML\u66f8\u304f\u3088\u308a\u697d\u3060\u3057Coffee\u3084Stylus\u3068\u307b\u307c\u540c\u3058\u611f\u3058\u3067\u304b\u3051\u308b\u304b\u3089\uff08\u30a4\u30f3\u30c7\u30f3\u30c8\u5224\u5225\u3001\u30bb\u30df\u30b3\u30ed\u30f3\u4e0d\u8981 \u7b49\uff09\nfont-awesome\u8aad\u307f\u8fbc\u3093\u3067\u308b\u3051\u3069\u307b\u3068\u3093\u3069\u4f7f\u3063\u3066\u306a\u3044\u306a\u3001\u3001\u3001\u73fe\u72b6\u3001\u3001\u3001\n\n```jade:index.jade\n- meta_title = '\u90fd\u5ea6\u66f8\u304d\u63db\u3048'\n- meta_description = '\u90fd\u5ea6\u66f8\u304d\u63db\u3048'\n- author = '\u90fd\u5ea6\u66f8\u304d\u63db\u3048'\n\ndoctype html\nhtml\n  head\n    meta(charset='UTF-8')\n    title #{meta_title}\n    meta(name='description', content=meta_description)\n    meta(name=\"viewport\", content=\"width=device-width, initial-scale=1\")\n    link(rel=\"stylesheet\",href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\")\n    link(href=\"/vendors/normalize.css/normalize.css\",rel=\"stylesheet\",type=\"text/css\")\n    link(rel=\"stylesheet\", href='http://fonts.googleapis.com/css?family=Roboto:900,400',type='text/css')\n    link(href=\"/styles/application.min.css\",rel=\"stylesheet\",type=\"text/css\")\n    link(rel=\"shortcut icon\", href=\"/resources/favicon.ico\")\n\n  body\n    div#container\n\n\n\n    p.copyrights copyrights&copy;#{author}\n\n    script(type=\"text/javascript\",src=\"/scripts/application.min.js\",charset='UTF-8')\n    script(type=\"text/javascript\",src=\"/scripts/vendors/googleanalytics.js\",charset='UTF-8')\n\n```\n\n## source/javascript/googleanalytics.js\n\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306eJavascript\u3068\u304b\u306f\u305d\u306e\u307e\u307e\u7d50\u5408\u3068\u304b\u3082\u305b\u305a\u79fb\u3059\u306e\u3067 source/javascript/ \u306b\u5165\u308c\u308b\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fGoogleAnalytics\u306e\u30b3\u30fc\u30c9\u3060\u3051\u5165\u3063\u3066\u308b\n\n```js:googleanalytics.js\n(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\nga('create', '\u90fd\u5ea6\u66f8\u304d\u63db\u3048', 'auto');\nga('send', 'pageview');\n\n```\n\n## source/resources/\n\n\u753b\u50cf\u306f\u57fa\u672c\u7684\u306b\u6700\u9069\u5316\u3055\u308c\u3066 /app/public/resources/** \u4ee5\u4e0b\u306b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u9020\u3092\u4fdd\u3063\u3066\u79fb\u52d5\u3055\u308c\u308b\n"}