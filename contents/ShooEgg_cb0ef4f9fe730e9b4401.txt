{"context": "\n\nSony Camera Remote API\u304c\u3081\u3063\u3061\u3083\u4f7f\u3044\u3084\u3059\u304f\u306a\u308b\u30e9\u30c3\u30d1\u30fc\u30e9\u30a4\u30d6\u30e9\u30ea\u4f5c\u308a\u307e\u3057\u305f\u3002\nhttp://qiita.com/kota65535\n\u3055\u3093\u306e\nhttp://qiita.com/kota65535/items/d51cac913e6b538c0eca\n\u306e\u8a18\u4e8b\u3092\u898b\u3064\u3051\u3066\u3002\n\nSony Camera Remote API\u3092\u8a66\u3057\u3066\u307f\u305f\u3002\n\n\u611f\u8b1d\u3001\u611f\u8b1d\uff01\u3000\u5727\u5012\u7684\u611f\u8b1d!!\n\u3000\n\u3053\u308c\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u30ab\u30e0\u3092\u3001\u5916\u90e8\u304b\u3089\u30b7\u30e3\u30c3\u30bf\u30fc\u5207\u308c\u308b\u305c\uff01\u30e9\u30a4\u30d6\u30d3\u30e5\u30fc\u3082\u3042\u308b\uff01\uff1f\u3000\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u6700\u65b0\u306eFDR-X3000\uff08http://www.sony.jp/actioncam/products/FDR-X3000/\uff09\n\u3092\u8cb7\u3063\u3066\u304d\u305f\u3002\n\u3053\u308c\u3067\u52dd\u3066\u308b\uff01 \u3053\u308c\u3067PC\u304b\u3089\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3057\u3066\u601d\u3044\u306e\u307e\u307e\u3060\uff01\n\u3068\u304b\u601d\u3063\u3066\u3001Ruby\u3082\u3001Ubuntu \u3082\u521d\u5fc3\u8005\u304c\u304c\u3093\u3070\u3063\u305f\u8a18\u9332\u3067\u3059\u3002\n\n\u307e\u305aUbuntu 16.04 LTS\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nPC\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002ubuntu\u306f\u3001LTS\u3058\u3083\u306a\u3044\u3068\u3001\u3084\u3063\u3071\u4e0d\u5b89\u304c\u3042\u308b\u3088\u306d\u3002\n\nRuby\u3067\u52d5\u304f\u3089\u3057\u3044\u306e\u3067\n\u30fbRuby2.3.1 + rbenv\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\n\n\u3053\u3053\u304b\u3089\u304c\u5d4c\u3063\u3066\u3057\u307e\u3063\u305f\u30dd\u30a4\u30f3\u30c8\u3002\nUbuntu \u306eWifi\u30a2\u30c0\u30d7\u30bf\u30b5\u30dd\u30fc\u30c8\u306e\u554f\u984c\u3067\u3042\u308b\u3002\n\u306f\u3058\u3081\u3001\u30a4\u30f3\u30c6\u30eb\u00ae Dual Band Wireless-N 7260\u3092\u4f7f\u7528\u3057\u3066\u3044\u305f\u306e\u3060\u304c\n\u3069\u3046\u306b\u3082\u901a\u4fe1\u304c\u3076\u3061\u30d6\u30c1\u5207\u308c\u308b\u3002\u30d5\u30a1\u30fc\u30e0\u3084\u3089\u3001\u30c9\u30e9\u30a4\u30d0\u3084\u3089\u3084\u3063\u3066\u307f\u305f\u304c\u5b89\u5b9a\u3057\u306a\u3044\u3002\n\u305d\u3053\u3067BUFFALO\u306eWLI-UC-G301N\u3092\u8cfc\u5165\u3057\u3066\u307f\u305f\u3002\n\u3053\u306e\u30a2\u30c0\u30d7\u30bf\u3001Ubuntu 16.04\u3067\u306f\u6a19\u6e96\u3067\u8aad\u307f\u8fbc\u3080\u306e\u3067\u523a\u3059\u3060\u3051\u3067OK\u3002\n\u305d\u308c\u3067\u3082\u6016\u3044\u306e\u3067sonycam shelf connect\u3067\u63a5\u7d9a\u3059\u308b\u524d\u306b\u3001\u624b\u52d5\u3067\u63a5\u7d9a\u3057\u3066\u308b\u3002\n\u3067\u306f\u3001\u6c17\u3092\u53d6\u308a\u76f4\u3057\u3066\u3001\n\nSony Camera Remote CLI \u3092\u8a66\u3059\u3002\n\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u7acb\u3061\u4e0a\u3052\u3066\u3001\n\u2460\u3000sonycam shelf add\u3000//\u307e\u305a\u30ab\u30e1\u30e9\u3092\u8ffd\u52a0\u3002\n$ sonycam shelf add DIRECT-2HX0:FDR-X3000 Bp8F8WHC wlxcce1d51ab723\nDo you want set this camera as default? |y| y\n=> 0: SSID      : DIRECT-2HX0:FDR-X3000 \n      Password  : Bp8F8WHC \n      Interface : wlxcce1d51ab723 \n\n\u2461\u3000sonycam shelf connect\u3000//\u63a5\u7d9a\u3002\n\uff08\u3053\u306e\u6642\u306f\u3001\u624b\u52d5\u3067\u63a5\u7d9a\u3057\u3066\u305f\u304c\u3001\u660e\u793a\u7684\u306b\u5fc5\u8981\u304b\u3068\u601d\u3063\u3066\u5b9f\u884c\u3057\u305f\u3002\n$ sonycam shelf connect\nCamera to connect:\n  - SSID     : DIRECT-2HX0:FDR-X3000\n  - pass     : Bp8F8WHC\n  - inteface : wlxcce1d51ab723\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-2HX0:FDR-X3000 Bp8F8WHC wlxcce1d51ab723\nAlready connected.\nRoute added successfully.\n\n\n\u2462\u3055\u3041\u3001\u30b7\u30e3\u30c3\u30bf\u30fc\u3092\u5207\u308b\u305e\u5207\u308b\u305e\uff01\u3000\u3068\u601d\u3044\u306a\u304c\u3089\u3001\n  sonycam still\u3000\u3092\u5b9f\u884c\u3002\n\u3000\u3057\u304b\u3057\u75db\u6068\u306e\u3001(SonyCameraRemoteAPI::APIExecutionError)\n$ sonycam still\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-2HX0:FDR-X3000 Bp8F8WHC wlxcce1d51ab723\nAlready connected.\nRoute already configured.\nInitializing camera...\nI, [2017-02-09T10:52:49.688595 #8246]  INFO -- Camera: Trying SSDP discover...\nW, [2017-02-09T10:52:54.694354 #8246]  WARN -- Camera: SSDP discover failed, retrying... (2/4)\nI, [2017-02-09T10:53:04.695965 #8246]  INFO -- Camera: SSDP discover succeeded.\nI, [2017-02-09T10:53:04.737597 #8246]  INFO -- Camera: model-name: FDR-X3000\n/home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:95:in `call_api': Request:{\"method\"=>\"getMethodTypes\", \"params\"=>[\"1.2\"], \"id\"=>1, \"version\"=>\"1.0\"}, Response:{\"error\"=>[14, \"\"], \"id\"=>1} (SonyCameraRemoteAPI::APIExecutionError)\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:51:in `block (2 levels) in make_api_list'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:50:in `each'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:50:in `block in make_api_list'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:48:in `each'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:48:in `make_api_list'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:40:in `initialize'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:34:in `new'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:34:in `block in initialize'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/retrying.rb:52:in `reconnect_and_retry_inner'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/retrying.rb:21:in `reconnect_and_retry'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:33:in `initialize'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api.rb:60:in `new'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api.rb:60:in `initialize'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/client/main.rb:54:in `new'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/client/main.rb:54:in `init_camera'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/client/main.rb:288:in `still'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/thor-0.19.4/lib/thor/command.rb:27:in `run'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/thor-0.19.4/lib/thor/invocation.rb:126:in `invoke_command'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/thor-0.19.4/lib/thor.rb:369:in `dispatch'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/thor-0.19.4/lib/thor/base.rb:444:in `start'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/exe/sonycam:6:in `<top (required)>'\n    from /home/admin/.rbenv/versions/2.3.1/bin/sonycam:23:in `load'\n    from /home/admin/.rbenv/versions/2.3.1/bin/sonycam:23:in `<main>'\n\n\u3093\u30fc\u3001\u4f55\u304b\u624b\u9806\u304c\u8db3\u308a\u3066\u306a\u3044\u306e\u304b\u30fc\uff1f\n\u3093\u30fc\u3001\u3093\u30fc\u3001\u3093\u30fc\u3002\n\u30fb\u30fb\u30fb\n\n\u305d\u3001\u305d\u3046\u3060\u3001Ruby\u306e\u30c6\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\n\u304c\u3042\u3063\u305f\u306f\u305a\u3060\u3002\u65e9\u901f\u57f7\u884c\u3057\u3066\u307f\u3088\u3046\u3002\ngedit\u3000test.rb\n\u306b\u4ee5\u4e0b\u3092\u30b3\u30d4\u30da\u3057\u3066\u3001\u30ab\u30e1\u30e9\u306eSSID\u3001\u30d1\u30b9\u3001Wifi\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u540d\u3092\u5165\u529b\u3057\u3066\u3068\u3002\n\ntest.rb\nrequire 'sony_camera_remote_api'\n\n# \u304a\u624b\u6301\u3061\u306e\u30ab\u30e1\u30e9\u306eWi-Fi\u8a2d\u5b9a\nssid = \"DIRECT-2HX0:FDR-X3000\"   # SSID\npass = \"Bp8F8WHC\"               # Passphrase\ninterface = \"wlxcce1d51ab723\"             # \u63a5\u7d9a\u306b\u4f7f\u3046\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u540d\n\n# (1) Shelf\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\nshelf = SonyCameraRemoteAPI::Shelf.new \".sonycam.shelf\"\n# (2) \u30ab\u30e1\u30e9\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3001\u63a5\u7d9a\nshelf.add_and_select ssid, pass, interface\nshelf.connect\n\n# (3) Camera\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\ncam = SonyCameraRemoteAPI::Camera.new shelf\n# \u9759\u6b62\u753b\uff08\u4e00\u679a\uff09\u64ae\u5f71\u30e2\u30fc\u30c9\u306b\u5909\u66f4\ncam.change_function_to_shoot 'still', 'Single'\n# \u64ae\u5f71\uff06\u753b\u50cf\u8ee2\u9001\u3002\u8fd4\u308a\u5024\u306f\u4fdd\u5b58\u3057\u305f\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306e\u76f8\u5bfe\u30d1\u30b9\nfilename = cam.capture_still\nputs filename            #=> 'DSC_xxxxx.JPG'\n\n\n\u3055\u3066\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u7acb\u3061\u4e0a\u3052\u3002\nruby test.rb\n$ ruby test.rb\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-2HX0:FDR-X3000 Bp8F8WHC wlxcce1d51ab723\nAlready connected.\nRoute already configured.\n/home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:37:in `initialize': undefined method `result' for {\"id\"=>1, \"result\"=>[\"Smart Remote Control __SAK__\", \"2.1.5\"]}:Hash (NoMethodError)\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:34:in `new'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:34:in `block in initialize'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/retrying.rb:52:in `reconnect_and_retry_inner'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/retrying.rb:21:in `reconnect_and_retry'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:33:in `initialize'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api.rb:60:in `new'\n    from /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api.rb:60:in `initialize'\n    from test.rb:15:in `new'\n    from test.rb:15:in `<main>'\n\n\u30af\u30c3\u30bd\u3002\n \"Smart Remote Control SAK\", \"2.1.5\"  \uff1f   \u306b\u3001 NoMethodError\uff1f\n\u3064\u307e\u308a\u547d\u4ee4\u304c\u306a\u3044\u3063\u3066\u3053\u3068\uff1f\u3000\u308f\u3051\u304c\u308f\u304b\u3089\u306a\u3044\u3088\u3002\n\u843d\u3061\u7740\u3051\u3001\u843d\u3061\u7740\u304f\u3093\u3060\u3002\u3053\u3053\u307e\u3067\u4f55\u3092\u3084\u3063\u3066\u304d\u305f\u304b\u3001\u843d\u3061\u7740\u3044\u3066\u6574\u7406\u3059\u308b\u3093\u3060\u3002\n\n\nubuntu 16.04 LTS\n\nryby 2.3.1\n\nrbenv\n\ngem install sony_camera_remote_api \n\nsonycam shelf add\n\nsonycam shelf connect\n\nsonycam shelf still\n\n\u30af\u30c3\u3001\u5927\u4e08\u592b\u3001\u3000\u3053\u308c\u307e\u3067\u6f0f\u308c\u306f\u306a\u3044\u306f\u305a\u30fb\u30fb\u30fb\u3002\n\n\nInitializing camera...\n\u3053\u3053\u3067\u6b62\u307e\u308a\u3001\nCamera initialization finished.\n\u306b\u5165\u3089\u306a\u3044\u306e\u304c\u554f\u984c\u306a\u306e\u3060\u3002\n\u3053\u3053\u3067API\u304c\u3001\u4f55\u3092\u3057\u3066\u3044\u308b\u306e\u3060\u308d\u3046\u304b\u30fb\u30fb\u30fb\u3002\n\n\u843d\u3061\u7740\u3053\u3046\u3002\u3000\u4ed6\u306e\u30ab\u30e1\u30e9\u304c\u3042\u308b\u3058\u3083\u306a\u3044\u304b\u30fb\u30fb\u30fb\u3002\u3000\n\u03b17S\u304c\u3042\u3063\u305f\u3053\u308c\u3067\u305f\u3081\u305d\u3046\u3002\u3000\u3053\u308c\u3067\u81ea\u4fe1\u3092\u53d6\u308a\u623b\u305d\u3046\u3002\n[\u57fa\u672c\u7684\u306a\u624b\u9806\u306f\u3002]\n\u2460sonycam shelf add\n\u2461sonycam shelf select 1\n\u2462sonycam shelf connect\n\u2463sonycam still\n\u3000\n\u3060\u306a\u3001\u3060\u3093\u3060\u3093\u6163\u308c\u3066\u304d\u305f\u305e\u3002\n\u2460\u30ab\u30e1\u30e9\u8ffd\u52a0\nadmin@admin-ubuntu:~$ sonycam shelf add DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nDo you want set this camera as default? |y| n\n=> 0: SSID      : DIRECT-2HX0:FDR-X3000 \n      Password  : Bp8F8WHC \n      Interface : wlxcce1d51ab723 \n   1: SSID      : DIRECT-4oE0:ILCE-7S \n      Password  : nvSjVzvk \n      Interface : wlxcce1d51ab723 \n\n\u2461\u30ab\u30e1\u30e9\u9078\u629e\nadmin@admin-ubuntu:~$ sonycam shelf select 1\n   0: SSID      : DIRECT-2HX0:FDR-X3000 \n      Password  : Bp8F8WHC \n      Interface : wlxcce1d51ab723 \n=> 1: SSID      : DIRECT-4oE0:ILCE-7S \n      Password  : nvSjVzvk \n      Interface : wlxcce1d51ab723 \n\n\u2462\u30ab\u30e1\u30e9\u63a5\u7d9a\nadmin@admin-ubuntu:~$ sonycam shelf connect\nCamera to connect:\n  - SSID     : DIRECT-4oE0:ILCE-7S\n  - pass     : nvSjVzvk\n  - inteface : wlxcce1d51ab723\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nAlready connected.\nRoute added successfully.\n\n\u2463\u30ab\u30e1\u30e9\u64ae\u5f71\uff06\u8ee2\u9001\nadmin@admin-ubuntu:~$ sonycam still\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nAlready connected.\nRoute already configured.\nInitializing camera...\nI, [2017-02-10T16:12:56.205674 #3020]  INFO -- Camera: Trying SSDP discover...\nI, [2017-02-10T16:13:01.208957 #3020]  INFO -- Camera: SSDP discover succeeded.\nI, [2017-02-10T16:13:01.341778 #3020]  INFO -- Camera: model-name: ILCE-7S\nCamera initialization finished.\nE, [2017-02-10T16:13:04.312696 #3020] ERROR -- CameraAPIGroupManager: Parameter 'CameraFunction' is not supported!\nE, [2017-02-10T16:13:08.002768 #3020] ERROR -- CameraAPIGroupManager: Parameter 'ContShootingMode' is not supported!\nI, [2017-02-10T16:13:08.317396 #3020]  INFO -- Camera: Capturing...\nI, [2017-02-10T16:13:15.073353 #3020]  INFO -- Camera: Capture finished. (6.76 sec)\nE, [2017-02-10T16:13:15.073630 #3020] ERROR -- CameraAPIGroupManager: Parameter 'ContShootingMode' is not supported!\nI, [2017-02-10T16:13:15.073851 #3020]  INFO -- Camera: Transferring pict20170210_161039_0.JPG...\nI, [2017-02-10T16:13:16.211437 #3020]  INFO -- Camera: Transferred pict20170210_161039_0.JPG. (1.14 sec)\nadmin@admin-ubuntu:~$ sonycam still\n\n\n\u30cf\u30c3\u30cf\u30cf\u30fc\uff01\u3000\u3064\u3044\u306b\u3084\u3063\u305f\u305e\uff6f\uff01\uff01\n\u3064\u3044\u306bSONY CAMERA API\u304c\u52d5\u3044\u305f\u3002\n\u52d5\u3044\u305f\u305e\u30fc\n\u3061\u306a\u307f\u306b\u96fb\u6ce2\u72b6\u6cc1\u304c\u308f\u308b\u3044\u3068\u3059\u3050\u3053\u3046\u306a\u308b\u3063\u307d\u3044\u3002\nScan failed, retrying... (2/4)\nError for wireless request \"Set ESSID\" (8B1A) :\n    SET failed on device wlxcce1d51ab723 ; Operation already in progress.\n  Successfully initialized wpa_supplicant\n  ioctl[SIOCSIWAP]: Operation already in progress\n  ioctl[SIOCSIWENCODEEXT]: Invalid argument\n  ioctl[SIOCSIWENCODEEXT]: Invalid argument\n  wlxcce1d51ab723: Trying to associate with fe:c2:de:f7:6a:72 (SSID='DIRECT-4oE0:ILCE-7S' freq=2412 MHz)\n  ioctl[SIOCSIWFREQ]: Device or resource busy\n  ioctl[SIOCSIWESSID]: Operation already in progress\n  wlxcce1d51ab723: Association request to the driver failed\n  wlxcce1d51ab723: Authentication with fe:c2:de:f7:6a:72 timed out.\n  wlxcce1d51ab723: CTRL-EVENT-DISCONNECTED bssid=fe:c2:de:f7:6a:72 reason=3 locally_generated=1\n  wlxcce1d51ab723: Trying to associate with fe:c2:de:f7:6a:72 (SSID='DIRECT-4oE0:ILCE-7S' freq=2412 MHz)\n  ioctl[SIOCSIWFREQ]: Device or resource busy\n  wlxcce1d51ab723: Association request to the driver failed\n  wlxcce1d51ab723: Associated with fe:c2:de:f7:6a:72\n  wlxcce1d51ab723: WPA: Invalid EAPOL-Key MIC when using TPTK - ignoring TPTK\n  wlxcce1d51ab723: WPA: Could not verify EAPOL-Key MIC - dropping packet\n  wlxcce1d51ab723: Authentication with fe:c2:de:f7:6a:72 timed out.\n  wlxcce1d51ab723: CTRL-EVENT-DISCONNECTED bssid=fe:c2:de:f7:6a:72 reason=3 locally_generated=1\n  wlxcce1d51ab723: WPA: 4-Way Handshake failed - pre-shared key may be incorrect\n  wlxcce1d51ab723: CTRL-EVENT-SSID-TEMP-DISABLED id=0 ssid=\"DIRECT-4oE0:ILCE-7S\" auth_failures=1 duration=10 reason=WRONG_KEY\n  wlxcce1d51ab723: CTRL-EVENT-SSID-TEMP-DISABLED id=0 ssid=\"DIRECT-4oE0:ILCE-7S\" auth_failures=2 duration=23 reason=CONN_FAILED\n  ioctl[SIOCSIWSCAN]: Device or resource busy\n  wlxcce1d51ab723: CTRL-EVENT-SCAN-FAILED ret=-1 retry=1\n  ioctl[SIOCSIWSCAN]: Device or resource busy\n  wlxcce1d51ab723: CTRL-EVENT-SCAN-FAILED ret=-1 retry=1\n  wlxcce1d51ab723: CTRL-EVENT-DISCONNECTED bssid=fe:c2:de:f7:6a:72 reason=3 locally_generated=1\n  wlxcce1d51ab723: CTRL-EVENT-DISCONNECTED bssid=fe:c2:de:f7:6a:72 reason=3 locally_generated=1\n  wlxcce1d51ab723: CTRL-EVENT-SSID-REENABLED id=0 ssid=\"DIRECT-4oE0:ILCE-7S\"\nTimeout.\nWPA authentication failed.\nE, [2017-02-10T16:32:19.034222 #9209] ERROR -- Retrying: Failed to reconnect! Retrying... (1/forever)\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh -r DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nwlxcce1d51ab723  Interface doesn't support scanning : Device or resource busy\n\n\u3093\u30fc\u3053\u308c\u306f\u7121\u7ddaLAN\u306e\u30a2\u30c0\u30d7\u30bf\u306b\u3088\u308b\u3082\u306e\u306a\u306e\u304b\u306a\u30fc\u3002\n\n\u30e9\u30a4\u30d6\u30d3\u30e5\u30fc\u3082\u8a66\u3057\u3066\u307f\u3088\u3046\u3002\n\u96fb\u6ce2\u72b6\u6cc1\u304c\u60aa\u3044\u3068\u3001FPS\u304c\u51fa\u306a\u3044\u30fb\u30fb\u30fb\u3002\n$ sonycam liveview\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nAlready connected.\nRoute already configured.\nInitializing camera...\nE, [2017-02-10T16:20:25.610210 #6515] ERROR -- CameraAPIManager: Method 'startRecMode' is not available now! waiting...\nCamera initialization finished.\nLiveview download started. Type C-c (SIGINT) to quit.\nWrote: 1.jpg.\nWrote: 2.jpg.\nWrote: 3.jpg.\nWrote: 4.jpg.\nWrote: 5.jpg.\nWrote: 6.jpg.\nE, [2017-02-10T16:20:50.968619 #6515] ERROR -- Retrying: HTTPClient::ReceiveTimeoutError: execution expired\nE, [2017-02-10T16:20:50.968691 #6515] ERROR -- Retrying: The camera seems to be disconnected, starting retry sequence.\nE, [2017-02-10T16:20:50.968728 #6515] ERROR -- Retrying: Reconnecting...\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh -r DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nwlxcce1d51ab723  Interface doesn't support scanning : Device or resource busy\n\nWifi\u30a2\u30c0\u30d7\u30bf\u3068\u3001\u5bc6\u7740\u3055\u305b\u3066\u307f\u308b\u3002\nsonycam liveview\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nAlready connected.\nRoute already configured.\nInitializing camera...\nCamera initialization finished.\nLiveview download started. Type C-c (SIGINT) to quit.\nWrote: 1.jpg.\nWrote: 2.jpg.\nWrote: 3.jpg.\nWrote: 4.jpg.\nWrote: 5.jpg.\nWrote: 6.jpg.\nWrote: 7.jpg.\nWrote: 8.jpg.\nWrote: 9.jpg.\nWrote: 10.jpg.\nWrote: 11.jpg.\nWrote: 12.jpg.\nWrote: 13.jpg.\nWrote: 14.jpg.\nWrote: 15.jpg.\nWrote: 16.jpg.\nWrote: 17.jpg.\nWrote: 18.jpg.\nWrote: 19.jpg.\nWrote: 20.jpg.\nWrote: 21.jpg.\nWrote: 22.jpg.\nWrote: 23.jpg.\nWrote: 24.jpg.\nWrote: 25.jpg.\nWrote: 26.jpg.\nWrote: 27.jpg.\nWrote: 28.jpg.\nWrote: 29.jpg.\nWrote: 30.jpg.\nWrote: 31.jpg.\nWrote: 32.jpg.\nWrote: 33.jpg.\nWrote: 34.jpg.\nWrote: 35.jpg.\nWrote: 36.jpg.\nWrote: 37.jpg.\nWrote: 38.jpg.\nWrote: 39.jpg.\nWrote: 40.jpg.\nWrote: 41.jpg.\nWrote: 42.jpg.\nWrote: 43.jpg.\nWrote: 44.jpg.\nWrote: 45.jpg.\nWrote: 46.jpg.\nWrote: 47.jpg.\nWrote: 48.jpg.\nWrote: 49.jpg.\nWrote: 50.jpg.\nWrote: 51.jpg.\nWrote: 52.jpg.\nWrote: 53.jpg.\nWrote: 54.jpg.\nWrote: 55.jpg.\nWrote: 56.jpg.\nWrote: 57.jpg.\nWrote: 58.jpg.\nWrote: 59.jpg.\nWrote: 60.jpg.\nWrote: 61.jpg.\nWrote: 62.jpg.\nWrote: 63.jpg.\nWrote: 64.jpg.\nWrote: 65.jpg.\nWrote: 66.jpg.\nWrote: 67.jpg.\nWrote: 68.jpg.\nWrote: 69.jpg.\nWrote: 70.jpg.\nWrote: 71.jpg.\nWrote: 72.jpg.\nWrote: 73.jpg.\nWrote: 74.jpg.\nWrote: 75.jpg.\nWrote: 76.jpg.\nWrote: 77.jpg.\nWrote: 78.jpg.\nWrote: 79.jpg.\nWrote: 80.jpg.\nWrote: 81.jpg.\nWrote: 82.jpg.\nWrote: 83.jpg.\nWrote: 84.jpg.\nWrote: 85.jpg.\nWrote: 86.jpg.\nWrote: 87.jpg.\nWrote: 88.jpg.\nWrote: 89.jpg.\nWrote: 90.jpg.\nWrote: 91.jpg.\nWrote: 92.jpg.\nWrote: 93.jpg.\nWrote: 94.jpg.\nWrote: 95.jpg.\nWrote: 96.jpg.\nWrote: 97.jpg.\nWrote: 98.jpg.\nWrote: 99.jpg.\nWrote: 100.jpg.\n\n\n\u51fa\u3066\u308b\u51fa\u3066\u308b\u3002\n\u3069\u3046\u3084\u3089\u3001\u03b17S\u306f\u3001still\u3068LiveView\u3057\u304b\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3088\u3046\u3060\u3002\uff08\u3053\u308c\u306f\u4ed5\u65b9\u306a\u3044\u306a\u3002\n\u3057\u304b\u3057\u809d\u5fc3\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u30ab\u30e0\u306f\u3001\u307e\u3060\u30fb\u30fb\u30fb\u3042\u306e\u30a8\u30e9\u30fc\u306e\u307e\u307e\u3060\u3002\n\uff1e\uff1e\u3064\u3065\u304f\uff13\n#Sony Camera Remote API\u304c\u3081\u3063\u3061\u3083\u4f7f\u3044\u3084\u3059\u304f\u306a\u308b\u30e9\u30c3\u30d1\u30fc\u30e9\u30a4\u30d6\u30e9\u30ea\u4f5c\u308a\u307e\u3057\u305f\u3002\nhttp://qiita.com/kota65535\n\u3055\u3093\u306e\nhttp://qiita.com/kota65535/items/d51cac913e6b538c0eca\n\u306e\u8a18\u4e8b\u3092\u898b\u3064\u3051\u3066\u3002\n#Sony Camera Remote API\u3092\u8a66\u3057\u3066\u307f\u305f\u3002\n###\u611f\u8b1d\u3001\u611f\u8b1d\uff01\u3000\u5727\u5012\u7684\u611f\u8b1d!!\n\u3000\n\u3053\u308c\u3067\u30a2\u30af\u30b7\u30e7\u30f3\u30ab\u30e0\u3092\u3001\u5916\u90e8\u304b\u3089\u30b7\u30e3\u30c3\u30bf\u30fc\u5207\u308c\u308b\u305c\uff01\u30e9\u30a4\u30d6\u30d3\u30e5\u30fc\u3082\u3042\u308b\uff01\uff1f\u3000\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u6700\u65b0\u306eFDR-X3000\uff08http://www.sony.jp/actioncam/products/FDR-X3000/\uff09\n\u3092\u8cb7\u3063\u3066\u304d\u305f\u3002\n\n\u3053\u308c\u3067\u52dd\u3066\u308b\uff01 \u3053\u308c\u3067PC\u304b\u3089\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3057\u3066\u601d\u3044\u306e\u307e\u307e\u3060\uff01\n\u3068\u304b\u601d\u3063\u3066\u3001Ruby\u3082\u3001Ubuntu \u3082\u521d\u5fc3\u8005\u304c\u304c\u3093\u3070\u3063\u305f\u8a18\u9332\u3067\u3059\u3002\n\n###\u307e\u305aUbuntu 16.04 LTS\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nPC\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002ubuntu\u306f\u3001LTS\u3058\u3083\u306a\u3044\u3068\u3001\u3084\u3063\u3071\u4e0d\u5b89\u304c\u3042\u308b\u3088\u306d\u3002\n\n###Ruby\u3067\u52d5\u304f\u3089\u3057\u3044\u306e\u3067\n\u30fbRuby2.3.1 + rbenv\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\n\n\n#\u3053\u3053\u304b\u3089\u304c\u5d4c\u3063\u3066\u3057\u307e\u3063\u305f\u30dd\u30a4\u30f3\u30c8\u3002\nUbuntu \u306eWifi\u30a2\u30c0\u30d7\u30bf\u30b5\u30dd\u30fc\u30c8\u306e\u554f\u984c\u3067\u3042\u308b\u3002\n\u306f\u3058\u3081\u3001\u30a4\u30f3\u30c6\u30eb\u00ae Dual Band Wireless-N 7260\u3092\u4f7f\u7528\u3057\u3066\u3044\u305f\u306e\u3060\u304c\n\u3069\u3046\u306b\u3082\u901a\u4fe1\u304c\u3076\u3061\u30d6\u30c1\u5207\u308c\u308b\u3002\u30d5\u30a1\u30fc\u30e0\u3084\u3089\u3001\u30c9\u30e9\u30a4\u30d0\u3084\u3089\u3084\u3063\u3066\u307f\u305f\u304c\u5b89\u5b9a\u3057\u306a\u3044\u3002\n\n\u305d\u3053\u3067BUFFALO\u306eWLI-UC-G301N\u3092\u8cfc\u5165\u3057\u3066\u307f\u305f\u3002\n\u3053\u306e\u30a2\u30c0\u30d7\u30bf\u3001Ubuntu 16.04\u3067\u306f\u6a19\u6e96\u3067\u8aad\u307f\u8fbc\u3080\u306e\u3067\u523a\u3059\u3060\u3051\u3067OK\u3002\n\u305d\u308c\u3067\u3082\u6016\u3044\u306e\u3067sonycam shelf connect\u3067\u63a5\u7d9a\u3059\u308b\u524d\u306b\u3001\u624b\u52d5\u3067\u63a5\u7d9a\u3057\u3066\u308b\u3002\n\n\u3067\u306f\u3001\u6c17\u3092\u53d6\u308a\u76f4\u3057\u3066\u3001\n##Sony Camera Remote CLI \u3092\u8a66\u3059\u3002\n\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u7acb\u3061\u4e0a\u3052\u3066\u3001\n\n\u2460\u3000sonycam shelf add\u3000//\u307e\u305a\u30ab\u30e1\u30e9\u3092\u8ffd\u52a0\u3002\n\n\n```\n$ sonycam shelf add DIRECT-2HX0:FDR-X3000 Bp8F8WHC wlxcce1d51ab723\nDo you want set this camera as default? |y| y\n=> 0: SSID      : DIRECT-2HX0:FDR-X3000 \n      Password  : Bp8F8WHC \n      Interface : wlxcce1d51ab723 \n```\n\n\n\u2461\u3000sonycam shelf connect\u3000//\u63a5\u7d9a\u3002\n\uff08\u3053\u306e\u6642\u306f\u3001\u624b\u52d5\u3067\u63a5\u7d9a\u3057\u3066\u305f\u304c\u3001\u660e\u793a\u7684\u306b\u5fc5\u8981\u304b\u3068\u601d\u3063\u3066\u5b9f\u884c\u3057\u305f\u3002\n\n```\n$ sonycam shelf connect\nCamera to connect:\n  - SSID     : DIRECT-2HX0:FDR-X3000\n  - pass     : Bp8F8WHC\n  - inteface : wlxcce1d51ab723\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-2HX0:FDR-X3000 Bp8F8WHC wlxcce1d51ab723\nAlready connected.\nRoute added successfully.\n\n```\n\n\u2462\u3055\u3041\u3001\u30b7\u30e3\u30c3\u30bf\u30fc\u3092\u5207\u308b\u305e\u5207\u308b\u305e\uff01\u3000\u3068\u601d\u3044\u306a\u304c\u3089\u3001\n  sonycam still\u3000\u3092\u5b9f\u884c\u3002\n\u3000\u3057\u304b\u3057\u75db\u6068\u306e\u3001(SonyCameraRemoteAPI::APIExecutionError)\n\n```\n$ sonycam still\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-2HX0:FDR-X3000 Bp8F8WHC wlxcce1d51ab723\nAlready connected.\nRoute already configured.\nInitializing camera...\nI, [2017-02-09T10:52:49.688595 #8246]  INFO -- Camera: Trying SSDP discover...\nW, [2017-02-09T10:52:54.694354 #8246]  WARN -- Camera: SSDP discover failed, retrying... (2/4)\nI, [2017-02-09T10:53:04.695965 #8246]  INFO -- Camera: SSDP discover succeeded.\nI, [2017-02-09T10:53:04.737597 #8246]  INFO -- Camera: model-name: FDR-X3000\n/home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:95:in `call_api': Request:{\"method\"=>\"getMethodTypes\", \"params\"=>[\"1.2\"], \"id\"=>1, \"version\"=>\"1.0\"}, Response:{\"error\"=>[14, \"\"], \"id\"=>1} (SonyCameraRemoteAPI::APIExecutionError)\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:51:in `block (2 levels) in make_api_list'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:50:in `each'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:50:in `block in make_api_list'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:48:in `each'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:48:in `make_api_list'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:40:in `initialize'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:34:in `new'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:34:in `block in initialize'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/retrying.rb:52:in `reconnect_and_retry_inner'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/retrying.rb:21:in `reconnect_and_retry'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:33:in `initialize'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api.rb:60:in `new'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api.rb:60:in `initialize'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/client/main.rb:54:in `new'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/client/main.rb:54:in `init_camera'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/client/main.rb:288:in `still'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/thor-0.19.4/lib/thor/command.rb:27:in `run'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/thor-0.19.4/lib/thor/invocation.rb:126:in `invoke_command'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/thor-0.19.4/lib/thor.rb:369:in `dispatch'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/thor-0.19.4/lib/thor/base.rb:444:in `start'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/exe/sonycam:6:in `<top (required)>'\n\tfrom /home/admin/.rbenv/versions/2.3.1/bin/sonycam:23:in `load'\n\tfrom /home/admin/.rbenv/versions/2.3.1/bin/sonycam:23:in `<main>'\n```\n\n\n\u3093\u30fc\u3001\u4f55\u304b\u624b\u9806\u304c\u8db3\u308a\u3066\u306a\u3044\u306e\u304b\u30fc\uff1f\n\n\u3093\u30fc\u3001\u3093\u30fc\u3001\u3093\u30fc\u3002\n\u30fb\u30fb\u30fb\n#\u305d\u3001\u305d\u3046\u3060\u3001Ruby\u306e\u30c6\u30b9\u30c8\u30b9\u30af\u30ea\u30d7\u30c8\n\u304c\u3042\u3063\u305f\u306f\u305a\u3060\u3002\u65e9\u901f\u57f7\u884c\u3057\u3066\u307f\u3088\u3046\u3002\ngedit\u3000test.rb\n\u306b\u4ee5\u4e0b\u3092\u30b3\u30d4\u30da\u3057\u3066\u3001\u30ab\u30e1\u30e9\u306eSSID\u3001\u30d1\u30b9\u3001Wifi\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u540d\u3092\u5165\u529b\u3057\u3066\u3068\u3002\n\n``` ruby:test.rb\nrequire 'sony_camera_remote_api'\n\n# \u304a\u624b\u6301\u3061\u306e\u30ab\u30e1\u30e9\u306eWi-Fi\u8a2d\u5b9a\nssid = \"DIRECT-2HX0:FDR-X3000\"   # SSID\npass = \"Bp8F8WHC\"               # Passphrase\ninterface = \"wlxcce1d51ab723\"             # \u63a5\u7d9a\u306b\u4f7f\u3046\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u540d\n\n# (1) Shelf\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\nshelf = SonyCameraRemoteAPI::Shelf.new \".sonycam.shelf\"\n# (2) \u30ab\u30e1\u30e9\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3001\u63a5\u7d9a\nshelf.add_and_select ssid, pass, interface\nshelf.connect\n\n# (3) Camera\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\ncam = SonyCameraRemoteAPI::Camera.new shelf\n# \u9759\u6b62\u753b\uff08\u4e00\u679a\uff09\u64ae\u5f71\u30e2\u30fc\u30c9\u306b\u5909\u66f4\ncam.change_function_to_shoot 'still', 'Single'\n# \u64ae\u5f71\uff06\u753b\u50cf\u8ee2\u9001\u3002\u8fd4\u308a\u5024\u306f\u4fdd\u5b58\u3057\u305f\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u306e\u76f8\u5bfe\u30d1\u30b9\nfilename = cam.capture_still\nputs filename            #=> 'DSC_xxxxx.JPG'\n```\n\n\u3055\u3066\u3001\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u7acb\u3061\u4e0a\u3052\u3002\nruby test.rb\n\n```\n$ ruby test.rb\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-2HX0:FDR-X3000 Bp8F8WHC wlxcce1d51ab723\nAlready connected.\nRoute already configured.\n/home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/raw_api.rb:37:in `initialize': undefined method `result' for {\"id\"=>1, \"result\"=>[\"Smart Remote Control __SAK__\", \"2.1.5\"]}:Hash (NoMethodError)\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:34:in `new'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:34:in `block in initialize'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/retrying.rb:52:in `reconnect_and_retry_inner'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/retrying.rb:21:in `reconnect_and_retry'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api/camera_api.rb:33:in `initialize'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api.rb:60:in `new'\n\tfrom /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/lib/sony_camera_remote_api.rb:60:in `initialize'\n\tfrom test.rb:15:in `new'\n\tfrom test.rb:15:in `<main>'\n```\n\n\u30af\u30c3\u30bd\u3002\n \"Smart Remote Control __SAK__\", \"2.1.5\"  \uff1f   \u306b\u3001 NoMethodError\uff1f\n\n\u3064\u307e\u308a\u547d\u4ee4\u304c\u306a\u3044\u3063\u3066\u3053\u3068\uff1f\u3000\u308f\u3051\u304c\u308f\u304b\u3089\u306a\u3044\u3088\u3002\n\n\u843d\u3061\u7740\u3051\u3001\u843d\u3061\u7740\u304f\u3093\u3060\u3002\u3053\u3053\u307e\u3067\u4f55\u3092\u3084\u3063\u3066\u304d\u305f\u304b\u3001\u843d\u3061\u7740\u3044\u3066\u6574\u7406\u3059\u308b\u3093\u3060\u3002\n\n- [x] ubuntu 16.04 LTS\n- [x] ryby 2.3.1\n- [x] rbenv\n- [x] gem install sony_camera_remote_api \n- [x] sonycam shelf add\n- [x] sonycam shelf connect\n- [x] sonycam shelf still\n- [ ] \u30af\u30c3\u3001\u5927\u4e08\u592b\u3001\u3000\u3053\u308c\u307e\u3067\u6f0f\u308c\u306f\u306a\u3044\u306f\u305a\u30fb\u30fb\u30fb\u3002\n\n\n#Initializing camera...\n\n\u3053\u3053\u3067\u6b62\u307e\u308a\u3001\n**Camera initialization finished.**\n\u306b\u5165\u3089\u306a\u3044\u306e\u304c\u554f\u984c\u306a\u306e\u3060\u3002\n\n\u3053\u3053\u3067API\u304c\u3001\u4f55\u3092\u3057\u3066\u3044\u308b\u306e\u3060\u308d\u3046\u304b\u30fb\u30fb\u30fb\u3002\n\n\n###\u843d\u3061\u7740\u3053\u3046\u3002\u3000\u4ed6\u306e\u30ab\u30e1\u30e9\u304c\u3042\u308b\u3058\u3083\u306a\u3044\u304b\u30fb\u30fb\u30fb\u3002\u3000\n\u03b17S\u304c\u3042\u3063\u305f\u3053\u308c\u3067\u305f\u3081\u305d\u3046\u3002\u3000\u3053\u308c\u3067**\u81ea\u4fe1**\u3092\u53d6\u308a\u623b\u305d\u3046\u3002\n\n[\u57fa\u672c\u7684\u306a\u624b\u9806\u306f\u3002]\n\n\u2460sonycam shelf add\n\u2461sonycam shelf select 1\n\u2462sonycam shelf connect\n\u2463sonycam still\n\u3000\n\u3060\u306a\u3001\u3060\u3093\u3060\u3093\u6163\u308c\u3066\u304d\u305f\u305e\u3002\n\n```\n\u2460\u30ab\u30e1\u30e9\u8ffd\u52a0\nadmin@admin-ubuntu:~$ sonycam shelf add DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nDo you want set this camera as default? |y| n\n=> 0: SSID      : DIRECT-2HX0:FDR-X3000 \n      Password  : Bp8F8WHC \n      Interface : wlxcce1d51ab723 \n   1: SSID      : DIRECT-4oE0:ILCE-7S \n      Password  : nvSjVzvk \n      Interface : wlxcce1d51ab723 \n\n\u2461\u30ab\u30e1\u30e9\u9078\u629e\nadmin@admin-ubuntu:~$ sonycam shelf select 1\n   0: SSID      : DIRECT-2HX0:FDR-X3000 \n      Password  : Bp8F8WHC \n      Interface : wlxcce1d51ab723 \n=> 1: SSID      : DIRECT-4oE0:ILCE-7S \n      Password  : nvSjVzvk \n      Interface : wlxcce1d51ab723 \n\n\u2462\u30ab\u30e1\u30e9\u63a5\u7d9a\nadmin@admin-ubuntu:~$ sonycam shelf connect\nCamera to connect:\n  - SSID     : DIRECT-4oE0:ILCE-7S\n  - pass     : nvSjVzvk\n  - inteface : wlxcce1d51ab723\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nAlready connected.\nRoute added successfully.\n\n\u2463\u30ab\u30e1\u30e9\u64ae\u5f71\uff06\u8ee2\u9001\nadmin@admin-ubuntu:~$ sonycam still\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nAlready connected.\nRoute already configured.\nInitializing camera...\nI, [2017-02-10T16:12:56.205674 #3020]  INFO -- Camera: Trying SSDP discover...\nI, [2017-02-10T16:13:01.208957 #3020]  INFO -- Camera: SSDP discover succeeded.\nI, [2017-02-10T16:13:01.341778 #3020]  INFO -- Camera: model-name: ILCE-7S\nCamera initialization finished.\nE, [2017-02-10T16:13:04.312696 #3020] ERROR -- CameraAPIGroupManager: Parameter 'CameraFunction' is not supported!\nE, [2017-02-10T16:13:08.002768 #3020] ERROR -- CameraAPIGroupManager: Parameter 'ContShootingMode' is not supported!\nI, [2017-02-10T16:13:08.317396 #3020]  INFO -- Camera: Capturing...\nI, [2017-02-10T16:13:15.073353 #3020]  INFO -- Camera: Capture finished. (6.76 sec)\nE, [2017-02-10T16:13:15.073630 #3020] ERROR -- CameraAPIGroupManager: Parameter 'ContShootingMode' is not supported!\nI, [2017-02-10T16:13:15.073851 #3020]  INFO -- Camera: Transferring pict20170210_161039_0.JPG...\nI, [2017-02-10T16:13:16.211437 #3020]  INFO -- Camera: Transferred pict20170210_161039_0.JPG. (1.14 sec)\nadmin@admin-ubuntu:~$ sonycam still\n```\n\n#\u30cf\u30c3\u30cf\u30cf\u30fc\uff01\u3000\u3064\u3044\u306b\u3084\u3063\u305f\u305e\uff6f\uff01\uff01\n\u3064\u3044\u306bSONY CAMERA API\u304c\u52d5\u3044\u305f\u3002\n\n\u52d5\u3044\u305f\u305e\u30fc\n\n\u3061\u306a\u307f\u306b\u96fb\u6ce2\u72b6\u6cc1\u304c\u308f\u308b\u3044\u3068\u3059\u3050\u3053\u3046\u306a\u308b\u3063\u307d\u3044\u3002\n\n```\nScan failed, retrying... (2/4)\nError for wireless request \"Set ESSID\" (8B1A) :\n    SET failed on device wlxcce1d51ab723 ; Operation already in progress.\n  Successfully initialized wpa_supplicant\n  ioctl[SIOCSIWAP]: Operation already in progress\n  ioctl[SIOCSIWENCODEEXT]: Invalid argument\n  ioctl[SIOCSIWENCODEEXT]: Invalid argument\n  wlxcce1d51ab723: Trying to associate with fe:c2:de:f7:6a:72 (SSID='DIRECT-4oE0:ILCE-7S' freq=2412 MHz)\n  ioctl[SIOCSIWFREQ]: Device or resource busy\n  ioctl[SIOCSIWESSID]: Operation already in progress\n  wlxcce1d51ab723: Association request to the driver failed\n  wlxcce1d51ab723: Authentication with fe:c2:de:f7:6a:72 timed out.\n  wlxcce1d51ab723: CTRL-EVENT-DISCONNECTED bssid=fe:c2:de:f7:6a:72 reason=3 locally_generated=1\n  wlxcce1d51ab723: Trying to associate with fe:c2:de:f7:6a:72 (SSID='DIRECT-4oE0:ILCE-7S' freq=2412 MHz)\n  ioctl[SIOCSIWFREQ]: Device or resource busy\n  wlxcce1d51ab723: Association request to the driver failed\n  wlxcce1d51ab723: Associated with fe:c2:de:f7:6a:72\n  wlxcce1d51ab723: WPA: Invalid EAPOL-Key MIC when using TPTK - ignoring TPTK\n  wlxcce1d51ab723: WPA: Could not verify EAPOL-Key MIC - dropping packet\n  wlxcce1d51ab723: Authentication with fe:c2:de:f7:6a:72 timed out.\n  wlxcce1d51ab723: CTRL-EVENT-DISCONNECTED bssid=fe:c2:de:f7:6a:72 reason=3 locally_generated=1\n  wlxcce1d51ab723: WPA: 4-Way Handshake failed - pre-shared key may be incorrect\n  wlxcce1d51ab723: CTRL-EVENT-SSID-TEMP-DISABLED id=0 ssid=\"DIRECT-4oE0:ILCE-7S\" auth_failures=1 duration=10 reason=WRONG_KEY\n  wlxcce1d51ab723: CTRL-EVENT-SSID-TEMP-DISABLED id=0 ssid=\"DIRECT-4oE0:ILCE-7S\" auth_failures=2 duration=23 reason=CONN_FAILED\n  ioctl[SIOCSIWSCAN]: Device or resource busy\n  wlxcce1d51ab723: CTRL-EVENT-SCAN-FAILED ret=-1 retry=1\n  ioctl[SIOCSIWSCAN]: Device or resource busy\n  wlxcce1d51ab723: CTRL-EVENT-SCAN-FAILED ret=-1 retry=1\n  wlxcce1d51ab723: CTRL-EVENT-DISCONNECTED bssid=fe:c2:de:f7:6a:72 reason=3 locally_generated=1\n  wlxcce1d51ab723: CTRL-EVENT-DISCONNECTED bssid=fe:c2:de:f7:6a:72 reason=3 locally_generated=1\n  wlxcce1d51ab723: CTRL-EVENT-SSID-REENABLED id=0 ssid=\"DIRECT-4oE0:ILCE-7S\"\nTimeout.\nWPA authentication failed.\nE, [2017-02-10T16:32:19.034222 #9209] ERROR -- Retrying: Failed to reconnect! Retrying... (1/forever)\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh -r DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nwlxcce1d51ab723  Interface doesn't support scanning : Device or resource busy\n```\n\n\u3093\u30fc\u3053\u308c\u306f\u7121\u7ddaLAN\u306e\u30a2\u30c0\u30d7\u30bf\u306b\u3088\u308b\u3082\u306e\u306a\u306e\u304b\u306a\u30fc\u3002\n\n#\u30e9\u30a4\u30d6\u30d3\u30e5\u30fc\u3082\u8a66\u3057\u3066\u307f\u3088\u3046\u3002\n\u96fb\u6ce2\u72b6\u6cc1\u304c\u60aa\u3044\u3068\u3001FPS\u304c\u51fa\u306a\u3044\u30fb\u30fb\u30fb\u3002\n\n```\n$ sonycam liveview\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nAlready connected.\nRoute already configured.\nInitializing camera...\nE, [2017-02-10T16:20:25.610210 #6515] ERROR -- CameraAPIManager: Method 'startRecMode' is not available now! waiting...\nCamera initialization finished.\nLiveview download started. Type C-c (SIGINT) to quit.\nWrote: 1.jpg.\nWrote: 2.jpg.\nWrote: 3.jpg.\nWrote: 4.jpg.\nWrote: 5.jpg.\nWrote: 6.jpg.\nE, [2017-02-10T16:20:50.968619 #6515] ERROR -- Retrying: HTTPClient::ReceiveTimeoutError: execution expired\nE, [2017-02-10T16:20:50.968691 #6515] ERROR -- Retrying: The camera seems to be disconnected, starting retry sequence.\nE, [2017-02-10T16:20:50.968728 #6515] ERROR -- Retrying: Reconnecting...\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh -r DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nwlxcce1d51ab723  Interface doesn't support scanning : Device or resource busy\n```\n\nWifi\u30a2\u30c0\u30d7\u30bf\u3068\u3001\u5bc6\u7740\u3055\u305b\u3066\u307f\u308b\u3002\n\n```\nsonycam liveview\nsudo bash /home/admin/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/sony_camera_remote_api-0.3.1/scripts/connect.sh DIRECT-4oE0:ILCE-7S nvSjVzvk wlxcce1d51ab723\nAlready connected.\nRoute already configured.\nInitializing camera...\nCamera initialization finished.\nLiveview download started. Type C-c (SIGINT) to quit.\nWrote: 1.jpg.\nWrote: 2.jpg.\nWrote: 3.jpg.\nWrote: 4.jpg.\nWrote: 5.jpg.\nWrote: 6.jpg.\nWrote: 7.jpg.\nWrote: 8.jpg.\nWrote: 9.jpg.\nWrote: 10.jpg.\nWrote: 11.jpg.\nWrote: 12.jpg.\nWrote: 13.jpg.\nWrote: 14.jpg.\nWrote: 15.jpg.\nWrote: 16.jpg.\nWrote: 17.jpg.\nWrote: 18.jpg.\nWrote: 19.jpg.\nWrote: 20.jpg.\nWrote: 21.jpg.\nWrote: 22.jpg.\nWrote: 23.jpg.\nWrote: 24.jpg.\nWrote: 25.jpg.\nWrote: 26.jpg.\nWrote: 27.jpg.\nWrote: 28.jpg.\nWrote: 29.jpg.\nWrote: 30.jpg.\nWrote: 31.jpg.\nWrote: 32.jpg.\nWrote: 33.jpg.\nWrote: 34.jpg.\nWrote: 35.jpg.\nWrote: 36.jpg.\nWrote: 37.jpg.\nWrote: 38.jpg.\nWrote: 39.jpg.\nWrote: 40.jpg.\nWrote: 41.jpg.\nWrote: 42.jpg.\nWrote: 43.jpg.\nWrote: 44.jpg.\nWrote: 45.jpg.\nWrote: 46.jpg.\nWrote: 47.jpg.\nWrote: 48.jpg.\nWrote: 49.jpg.\nWrote: 50.jpg.\nWrote: 51.jpg.\nWrote: 52.jpg.\nWrote: 53.jpg.\nWrote: 54.jpg.\nWrote: 55.jpg.\nWrote: 56.jpg.\nWrote: 57.jpg.\nWrote: 58.jpg.\nWrote: 59.jpg.\nWrote: 60.jpg.\nWrote: 61.jpg.\nWrote: 62.jpg.\nWrote: 63.jpg.\nWrote: 64.jpg.\nWrote: 65.jpg.\nWrote: 66.jpg.\nWrote: 67.jpg.\nWrote: 68.jpg.\nWrote: 69.jpg.\nWrote: 70.jpg.\nWrote: 71.jpg.\nWrote: 72.jpg.\nWrote: 73.jpg.\nWrote: 74.jpg.\nWrote: 75.jpg.\nWrote: 76.jpg.\nWrote: 77.jpg.\nWrote: 78.jpg.\nWrote: 79.jpg.\nWrote: 80.jpg.\nWrote: 81.jpg.\nWrote: 82.jpg.\nWrote: 83.jpg.\nWrote: 84.jpg.\nWrote: 85.jpg.\nWrote: 86.jpg.\nWrote: 87.jpg.\nWrote: 88.jpg.\nWrote: 89.jpg.\nWrote: 90.jpg.\nWrote: 91.jpg.\nWrote: 92.jpg.\nWrote: 93.jpg.\nWrote: 94.jpg.\nWrote: 95.jpg.\nWrote: 96.jpg.\nWrote: 97.jpg.\nWrote: 98.jpg.\nWrote: 99.jpg.\nWrote: 100.jpg.\n```\n\n![Screenshot from 2017-02-10 17-07-30_a.png](https://qiita-image-store.s3.amazonaws.com/0/164180/55fd61b3-f0e3-1755-0634-53b1df38350a.png)\n\u51fa\u3066\u308b\u51fa\u3066\u308b\u3002\n\n\u3069\u3046\u3084\u3089\u3001\u03b17S\u306f\u3001still\u3068LiveView\u3057\u304b\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u3088\u3046\u3060\u3002\uff08\u3053\u308c\u306f\u4ed5\u65b9\u306a\u3044\u306a\u3002\n\n\u3057\u304b\u3057\u809d\u5fc3\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u30ab\u30e0\u306f\u3001\u307e\u3060\u30fb\u30fb\u30fb\u3042\u306e\u30a8\u30e9\u30fc\u306e\u307e\u307e\u3060\u3002\n\n\uff1e\uff1e\u3064\u3065\u304f\uff13\n", "tags": ["Sony", "camera", "Remote", "api"]}