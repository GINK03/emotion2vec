{"tags": ["JavaScript", "ServiceWorker"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002Chrome V41\u4ee5\u4e0a\n\n/index.html\n<script type=\"text/javascript\">\nif ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('/sw.js', {scope: '/'}).then(function(registration) {\n        // \u767b\u9332\u6210\u529f\n        console.log('ServiceWorker registration successful with scope: ', registration.scope);\n    }).catch(function(err) {\n        // \u767b\u9332\u5931\u6557 :(\n        console.log('ServiceWorker registration failed: ', err);\n    });\n}\n</script>\n\n\n\n/sw.js\nself.addEventListener('fetch', function(event) {\n    event.respondWith(\n        caches.match(event.request).then(function(response) {\n            // \u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u3042\u3063\u305f\u306e\u3067\u305d\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\n            if (response) {\n              return response;\n            }\n\n            return fetch(event.request);\n        })\n    );\n});\n\n\nChrome V41\u4ee5\u4e0a\n\n``` /index.html\n<script type=\"text/javascript\">\nif ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('/sw.js', {scope: '/'}).then(function(registration) {\n        // \u767b\u9332\u6210\u529f\n        console.log('ServiceWorker registration successful with scope: ', registration.scope);\n    }).catch(function(err) {\n        // \u767b\u9332\u5931\u6557 :(\n        console.log('ServiceWorker registration failed: ', err);\n    });\n}\n</script>\n```\n\n``` /sw.js\nself.addEventListener('fetch', function(event) {\n\tevent.respondWith(\n\t\tcaches.match(event.request).then(function(response) {\n\t\t\t// \u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u3042\u3063\u305f\u306e\u3067\u305d\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\n\t\t\tif (response) {\n\t\t\t  return response;\n\t\t\t}\n\n\t\t\treturn fetch(event.request);\n\t\t})\n\t);\n});\n```\n"}