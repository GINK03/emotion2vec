{"context": "PHP7\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u306f\u3084\u534a\u5e74\u3001\u305d\u308d\u305d\u308d\u9803\u5408\u3044\u3068\u601d\u3044\u5c0e\u5165\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u5168\u4f53\u7684\u306b\u51e6\u7406\u901f\u5ea6\u304c\u6539\u5584\u3055\u308c\u305f\u4e0a\u306b\u3001\u4e0b\u4f4d\u4e92\u63db\u3092\u306a\u308b\u3079\u304f\u4fdd\u3064\u3088\u3046\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\u3069\u3093\u3050\u3089\u3044\u901f\u304f\u306a\u3063\u305f\u306e\u304b\u8a66\u3057\u3066\u307f\u305f\u304f\u306a\u308b\u306e\u304c\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u3057\u3066\u306e\u6027\u3002\nPHP5.6\u304b\u3089PHP7\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u3001ApacheBench\u3067\u6e2c\u5b9a\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u3042\u3068\u3053\u3053\u3067\u306f\u3042\u3048\u3066\u89e6\u308c\u307e\u305b\u3093\u304c\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u4f7f\u3048\u306a\u304f\u306a\u308b\u30a2\u30d7\u30ea\u3082\u3042\u308b\u306e\u3067\u3001\u3054\u81ea\u5206\u306e\u74b0\u5883\u306b\u5c0e\u5165\u3055\u308c\u308b\u969b\u306f\u5341\u5206\u691c\u8a3c\u3057\u3066\u304b\u3089\u5c0e\u5165\u3059\u308b\u3088\u3046\u306b\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\uff03\u81ea\u5206\u306e\u78ba\u8a8d\u3067\u304d\u305f\u7bc4\u56f2\u3067\u306fPEAR\u306efactory\u30e1\u30bd\u30c3\u30c9(\u53c2\u7167new\u304cPHP7\u3067NG)\u3001owncloud8\u304c\u52d5\u4f5c\u3057\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u691c\u8a3c\u74b0\u5883\nOS: FreeBSD10.1\nhttpd: nginx1.8 (php-fpm\u306bUNIX domain socket\u3067\u63a5\u7d9a)\nDB: MySQL5.6\nPHP: 5.6 -> 7.0\n\u30b3\u30a2\u65703\u3001\u30e1\u30e2\u30ea2GB\u306eVPS\u3067\u691c\u8a3c\nphp-fpm\u306emax_children\u306f3\u306b\u8a2d\u5b9a\nPHP\u53ca\u3073extensions\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306fpkg\u3067\u5b9f\u65bd\n\n\u691c\u8a3c\u5bfe\u8c61\n\n\u30d7\u30ec\u30fc\u30f3\u306aPHP (DB\u30a2\u30af\u30bb\u30b9\u306a\u3057)\nWordpress4.4\nCakePHP3 (DB\u30a2\u30af\u30bb\u30b9\u8efd\u3081)\nCakePHP3 (DB\u30a2\u30af\u30bb\u30b9\u91cd\u3081)\n\n\u203bWordpress\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u7cfb\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306a\u3069\u4e00\u5207\u5165\u3063\u3066\u304a\u3089\u305a\u307b\u307c\u30d7\u30ec\u30fc\u30f3\u3067\u3059\u3002\n\n\u691c\u8a3cPHP\u30d0\u30fc\u30b8\u30e7\u30f3\n\nPHP5.6 (OPcache\u3042\u308a/\u306a\u3057)\nPHP7.0 (OPcache\u3042\u308a/\u306a\u3057)\n\n\n\u691c\u8a3c\u65b9\u6cd5\nApacheBench\u3067\u540c\u6642\u63a5\u7d9a\u657050,\u30ea\u30af\u30a8\u30b9\u30c8\u6570500\u56de\u30673\u56de\u6e2c\u5b9a\u3057\u30011\u79d2\u5f53\u305f\u308a\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\u6570(Requests per second)\u306e\u5e73\u5747\u5024\u3092\u7b97\u51fa\n\u3061\u306a\u307f\u306b\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u5185\u3067\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3059\u3002\nab -c 50 -n 500 http://localhost/hogehoge/\n\n\u691c\u8a3c\u5bfe\u8c61\u3068\u306a\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u306f\u4e00\u5207\u624b\u3092\u5165\u308c\u3066\u304a\u308a\u307e\u305b\u3093\u3002\n\n\u691c\u8a3c\u7d50\u679c\n\n\n\n\nPHP5.6(with OPcache)\nPHP5.6(non OPcache)\nPHP7(with OPcache)\nPHP7(non OPcache)\n\n\n\n\n\u30d7\u30ec\u30fc\u30f3PHP\n5973.07\n5020.65\n6047.06\n4398.00\n\n\nWordpress\n22.82\n11.38\n62.51\n21.23\n\n\nCakePHP(\u8efd)\n20.22\n14.15\n54.73\n29.73\n\n\nCakePHP(\u91cd)\n3.81\n3.46\n7.94\n7.23\n\n\n\n\u5358\u4f4d\uff1a [req/sec]\n\u3010\u53c2\u8003\u3011html\u3067\u306e\u6e2c\u5b9a\u5024\uff1a 12892.25 [req/sec]\n\n\u691c\u8a3c\u8003\u5bdf\nab\u306e\u7d50\u679c\u306f\u305d\u308c\u305e\u308c\u306e\u6e2c\u5b9a\u7d50\u679c\u3067\u4e00\u756a\u826f\u304b\u3063\u305f\u6642\u306e\u3082\u306e\u3067\u3059\u3002\n\n\u30d7\u30ec\u30fc\u30f3PHP\n\u7279\u306b\u8907\u96d1\u306a\u51e6\u7406\u3092\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u3082\u306a\u3044\u306e\u3067PHP5.6\u3082PHP7\u3082\u307b\u307c\u5927\u5dee\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u305d\u308c\u3067\u3082OPcache\u3042\u308a\u3068\u306a\u3057\u3067\u306f\u304b\u306a\u308a\u5dee\u304c\u958b\u304f\u306e\u3067\u3001OPcache\u52b9\u679c\u306f\u5049\u5927\u3002\n\nPHP5.6\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking localhost (be patient)\n\n\nServer Software:        nginx\nServer Hostname:        localhost\nServer Port:            80\n\nDocument Path:          /index.php\nDocument Length:        1266 bytes\n\nConcurrency Level:      50\nTime taken for tests:   0.084 seconds\nComplete requests:      500\nFailed requests:        0\nTotal transferred:      711000 bytes\nHTML transferred:       633000 bytes\nRequests per second:    5973.07 [#/sec] (mean)\nTime per request:       8.371 [ms] (mean)\nTime per request:       0.167 [ms] (mean, across all concurrent requests)\nTransfer rate:          8294.64 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    1   0.6      0       2\nProcessing:     2    7   1.2      8       9\nWaiting:        2    7   1.2      7       9\nTotal:          4    8   1.0      8      11\nWARNING: The median and mean for the initial connection time are not within a normal deviation\n        These results are probably not that reliable.\n\nPercentage of the requests served within a certain time (ms)\n  50%      8\n  66%      8\n  75%      9\n  80%      9\n  90%      9\n  95%      9\n  98%      9\n  99%     10\n 100%     11 (longest request)\n\n\n\nPHP7\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking localhost (be patient)\n\n\nServer Software:        nginx\nServer Hostname:        localhost\nServer Port:            80\n\nDocument Path:          /index.php\nDocument Length:        1266 bytes\n\nConcurrency Level:      50\nTime taken for tests:   0.077 seconds\nComplete requests:      500\nFailed requests:        0\nTotal transferred:      710500 bytes\nHTML transferred:       633000 bytes\nRequests per second:    6463.12 [#/sec] (mean)\nTime per request:       7.736 [ms] (mean)\nTime per request:       0.155 [ms] (mean, across all concurrent requests)\nTransfer rate:          8968.84 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    1   0.7      0       2\nProcessing:     2    7   1.2      7       9\nWaiting:        2    6   1.1      6       9\nTotal:          4    7   1.0      8      10\nWARNING: The median and mean for the initial connection time are not within a normal deviation\n        These results are probably not that reliable.\nWARNING: The median and mean for the total time are not within a normal deviation\n        These results are probably not that reliable.\n\nPercentage of the requests served within a certain time (ms)\n  50%      8\n  66%      8\n  75%      8\n  80%      8\n  90%      8\n  95%      9\n  98%      9\n  99%     10\n 100%     10 (longest request)\n\n\n\nWordpress\n\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3067\u306e\u6e2c\u5b9a\u3067\u3059\u3002\nPHP7\u306e\u65b9\u304c\u7d043\u500d\u901f\u3044\u3068\u3044\u3046\u901f\u5ea6\u3092\u53e9\u304d\u3060\u3057\u307e\u3057\u305f\uff01\n\u4f53\u611f\u7684\u306b\u3001\u3059\u3054\u3044\u30b5\u30af\u30b5\u30af\uff01\u3063\u3066\u307b\u3069\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u6c17\u6301\u3061\u901f\u304f\u306a\u3063\u305f\u306a\uff5e\u3050\u3089\u3044\u306b\u306f\u306a\u3063\u3066\u307e\u3059\u3002\n\nPHP5.6\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking wp.localhost (be patient)\n\n\nServer Software:        nginx\nServer Hostname:        wp.localhost\nServer Port:            80\n\nDocument Path:          /\nDocument Length:        63074 bytes\n\nConcurrency Level:      50\nTime taken for tests:   21.606 seconds\nComplete requests:      500\nFailed requests:        0\nTotal transferred:      31646500 bytes\nHTML transferred:       31537000 bytes\nRequests per second:    23.14 [#/sec] (mean)\nTime per request:       2160.562 [ms] (mean)\nTime per request:       43.211 [ms] (mean, across all concurrent requests)\nTransfer rate:          1430.41 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    0   0.8      0       3\nProcessing:   954 2058 230.9   2027    3352\nWaiting:      887 2000 231.3   1968    3295\nTotal:        957 2058 231.3   2027    3355\n\nPercentage of the requests served within a certain time (ms)\n  50%   2027\n  66%   2056\n  75%   2073\n  80%   2078\n  90%   2115\n  95%   2427\n  98%   2999\n  99%   3235\n 100%   3355 (longest request)\n\n\n\nPHP7\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking wp.localhost (be patient)\n\n\nServer Software:        nginx\nServer Hostname:        wp.localhost\nServer Port:            80\n\nDocument Path:          /\nDocument Length:        63074 bytes\n\nConcurrency Level:      50\nTime taken for tests:   6.939 seconds\nComplete requests:      500\nFailed requests:        0\nTotal transferred:      31646000 bytes\nHTML transferred:       31537000 bytes\nRequests per second:    72.06 [#/sec] (mean)\nTime per request:       693.910 [ms] (mean)\nTime per request:       13.878 [ms] (mean, across all concurrent requests)\nTransfer rate:          4453.64 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    0   0.8      0      11\nProcessing:    69  661 110.1    700     729\nWaiting:       54  644 109.6    682     711\nTotal:         71  661 109.7    700     731\n\nPercentage of the requests served within a certain time (ms)\n  50%    700\n  66%    702\n  75%    704\n  80%    705\n  90%    707\n  95%    709\n  98%    710\n  99%    711\n 100%    731 (longest request)\n\n\n\nCakePHP (DB\u30a2\u30af\u30bb\u30b9\u8efd\u3081)\n\u30c7\u30fc\u30bf\u53d6\u5f97\u6761\u4ef6\uff1a \u62bd\u51fa\u6761\u4ef6\u306a\u3057\u3001\u53d6\u5f97\u4ef6\u6570\u7d041000\u30ec\u30b3\u30fc\u30c9\u3001\u30c6\u30fc\u30d6\u30eb\u7d50\u5408\u306a\u3057\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30bd\u30fc\u30c8\u306e\u307f\nDB\u51e6\u7406\u6642\u9593\uff1a\u7d040.0005\u79d2\nWordpress\u3068\u3055\u307b\u3069\u5909\u308f\u3089\u306a\u3044\u3050\u3089\u3044\u306e\u901f\u5ea6\u6539\u5584\u3067\u3057\u305f\u3002\n\u8efd\u3081\u306e\u30af\u30a8\u30ea\u3092\u6295\u3052\u308b\u51e6\u7406\u3060\u3068\u304b\u306a\u308a\u6539\u5584\u3055\u308c\u307e\u3059\u306d\u3002\n\nCakePHP (DB\u30a2\u30af\u30bb\u30b9\u91cd\u3081)\n\u30c7\u30fc\u30bf\u53d6\u5f97\u6761\u4ef6\uff1a range\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067300\u4e07\u30ec\u30b3\u30fc\u30c9\u304b\u3089\u7d042000\u30ec\u30b3\u30fc\u30c9\u62bd\u51fa\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u308b\u30c6\u30fc\u30d6\u30eb\u7d50\u5408\u3042\u308a\u3001\u30bd\u30fc\u30c8\nDB\u51e6\u7406\u6642\u9593\uff1a\u7d040.04\u79d2\n\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u304cPHP\u3067\u306f\u306a\u304fDB\u30a2\u30af\u30bb\u30b9\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u30012\u500d\u7a0b\u5ea6\u306e\u6539\u5584\u3067\u6b69\u7559\u307e\u308a\u3067\u3059\u3002\nI/O\u304c\u30cd\u30c3\u30af\u306b\u306a\u308b\u30a2\u30d7\u30ea\u3060\u3068PHP\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u5c11\u306a\u305d\u3046\u3067\u3059\u3002\n\uff03\u3061\u306a\u307f\u306bHTTP\u306b\u6bd4\u3079\u7d0410\u500d\u9045\u304f\u306a\u308b\u3068\u3044\u308f\u308c\u3066\u3044\u308bHTTPS\u3067AB\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3055\u307b\u3069\u5909\u308f\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u7dcf\u8a55\n\u5358\u7d14\u306b\u901f\u304f\u306a\u308b\u304b\u3089\u3001\u3068\u3044\u3046\u7406\u7531\u3067\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u3053\u3068\u306f\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u305b\u3093\u304c\u3001\u691c\u8a0e\u3059\u308b\u4fa1\u5024\u306f\u5341\u5206\u30a2\u30ea\u3002\nPHP5.6\u306b\u6bd4\u30791\u30d7\u30ed\u30bb\u30b9\u5f53\u305f\u308a\u306ephp-fpm\u306e\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u3082\u82e5\u5e72\u6e1b\u3063\u3066\u3044\u308b\u6c17\u304c\u3059\u308b\u306e\u3067\u3001\u975e\u529b\u306aVPS\u3067\u306e\u5229\u7528\u3082\u554f\u984c\u306a\u304f\u3044\u3051\u305d\u3046\u3067\u3059\u3002\nPHP7\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u306f\u3084\u534a\u5e74\u3001\u305d\u308d\u305d\u308d\u9803\u5408\u3044\u3068\u601d\u3044\u5c0e\u5165\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u5168\u4f53\u7684\u306b\u51e6\u7406\u901f\u5ea6\u304c\u6539\u5584\u3055\u308c\u305f\u4e0a\u306b\u3001\u4e0b\u4f4d\u4e92\u63db\u3092\u306a\u308b\u3079\u304f\u4fdd\u3064\u3088\u3046\u306b\u958b\u767a\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u3069\u3093\u3050\u3089\u3044\u901f\u304f\u306a\u3063\u305f\u306e\u304b\u8a66\u3057\u3066\u307f\u305f\u304f\u306a\u308b\u306e\u304c\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u3057\u3066\u306e\u6027\u3002\nPHP5.6\u304b\u3089PHP7\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u3001ApacheBench\u3067\u6e2c\u5b9a\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u3042\u3068\u3053\u3053\u3067\u306f\u3042\u3048\u3066\u89e6\u308c\u307e\u305b\u3093\u304c\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u4f7f\u3048\u306a\u304f\u306a\u308b\u30a2\u30d7\u30ea\u3082\u3042\u308b\u306e\u3067\u3001\u3054\u81ea\u5206\u306e\u74b0\u5883\u306b\u5c0e\u5165\u3055\u308c\u308b\u969b\u306f\u5341\u5206\u691c\u8a3c\u3057\u3066\u304b\u3089\u5c0e\u5165\u3059\u308b\u3088\u3046\u306b\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\uff03\u81ea\u5206\u306e\u78ba\u8a8d\u3067\u304d\u305f\u7bc4\u56f2\u3067\u306fPEAR\u306efactory\u30e1\u30bd\u30c3\u30c9(\u53c2\u7167new\u304cPHP7\u3067NG)\u3001owncloud8\u304c\u52d5\u4f5c\u3057\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\n\n## \u691c\u8a3c\u74b0\u5883\n\nOS: FreeBSD10.1\nhttpd: nginx1.8 (php-fpm\u306bUNIX domain socket\u3067\u63a5\u7d9a)\nDB: MySQL5.6\nPHP: 5.6 -> 7.0\n\n\u30b3\u30a2\u65703\u3001\u30e1\u30e2\u30ea2GB\u306eVPS\u3067\u691c\u8a3c\nphp-fpm\u306emax_children\u306f3\u306b\u8a2d\u5b9a\n\nPHP\u53ca\u3073extensions\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306fpkg\u3067\u5b9f\u65bd\n\n## \u691c\u8a3c\u5bfe\u8c61\n\n* \u30d7\u30ec\u30fc\u30f3\u306aPHP (DB\u30a2\u30af\u30bb\u30b9\u306a\u3057)\n* Wordpress4.4\n* CakePHP3 (DB\u30a2\u30af\u30bb\u30b9\u8efd\u3081)\n* CakePHP3 (DB\u30a2\u30af\u30bb\u30b9\u91cd\u3081)\n\n\u203bWordpress\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u7cfb\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306a\u3069\u4e00\u5207\u5165\u3063\u3066\u304a\u3089\u305a\u307b\u307c\u30d7\u30ec\u30fc\u30f3\u3067\u3059\u3002\n\n## \u691c\u8a3cPHP\u30d0\u30fc\u30b8\u30e7\u30f3\n\n* PHP5.6 (OPcache\u3042\u308a/\u306a\u3057)\n* PHP7.0 (OPcache\u3042\u308a/\u306a\u3057)\n\n## \u691c\u8a3c\u65b9\u6cd5\n\nApacheBench\u3067\u540c\u6642\u63a5\u7d9a\u657050,\u30ea\u30af\u30a8\u30b9\u30c8\u6570500\u56de\u30673\u56de\u6e2c\u5b9a\u3057\u30011\u79d2\u5f53\u305f\u308a\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u51e6\u7406\u6570(Requests per second)\u306e\u5e73\u5747\u5024\u3092\u7b97\u51fa\n\u3061\u306a\u307f\u306b\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u5185\u3067\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3059\u3002\n\n```shell-session\nab -c 50 -n 500 http://localhost/hogehoge/\n```\n\n\u691c\u8a3c\u5bfe\u8c61\u3068\u306a\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306b\u306f\u4e00\u5207\u624b\u3092\u5165\u308c\u3066\u304a\u308a\u307e\u305b\u3093\u3002\n\n## \u691c\u8a3c\u7d50\u679c\n\n| | PHP5.6(with OPcache) | PHP5.6(non OPcache) | PHP7(with OPcache) | PHP7(non OPcache) |\n|:------------|---------------:|-------------:|-------------:|-------------:|\n| \u30d7\u30ec\u30fc\u30f3PHP | 5973.07 | 5020.65 | 6047.06 | 4398.00 |\n| Wordpress | 22.82 | 11.38 | 62.51 | 21.23 |\n| CakePHP(\u8efd) | 20.22 | 14.15 | 54.73 | 29.73 |\n| CakePHP(\u91cd) | 3.81 | 3.46 | 7.94 | 7.23 |\n\u5358\u4f4d\uff1a [req/sec]\n\n\u3010\u53c2\u8003\u3011html\u3067\u306e\u6e2c\u5b9a\u5024\uff1a 12892.25 [req/sec]\n\n## \u691c\u8a3c\u8003\u5bdf\n\nab\u306e\u7d50\u679c\u306f\u305d\u308c\u305e\u308c\u306e\u6e2c\u5b9a\u7d50\u679c\u3067\u4e00\u756a\u826f\u304b\u3063\u305f\u6642\u306e\u3082\u306e\u3067\u3059\u3002\n\n### \u30d7\u30ec\u30fc\u30f3PHP\n\n\u7279\u306b\u8907\u96d1\u306a\u51e6\u7406\u3092\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u3082\u306a\u3044\u306e\u3067PHP5.6\u3082PHP7\u3082\u307b\u307c\u5927\u5dee\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u305d\u308c\u3067\u3082OPcache\u3042\u308a\u3068\u306a\u3057\u3067\u306f\u304b\u306a\u308a\u5dee\u304c\u958b\u304f\u306e\u3067\u3001OPcache\u52b9\u679c\u306f\u5049\u5927\u3002\n\n```shell-session:PHP5.6\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking localhost (be patient)\n\n\nServer Software:        nginx\nServer Hostname:        localhost\nServer Port:            80\n\nDocument Path:          /index.php\nDocument Length:        1266 bytes\n\nConcurrency Level:      50\nTime taken for tests:   0.084 seconds\nComplete requests:      500\nFailed requests:        0\nTotal transferred:      711000 bytes\nHTML transferred:       633000 bytes\nRequests per second:    5973.07 [#/sec] (mean)\nTime per request:       8.371 [ms] (mean)\nTime per request:       0.167 [ms] (mean, across all concurrent requests)\nTransfer rate:          8294.64 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    1   0.6      0       2\nProcessing:     2    7   1.2      8       9\nWaiting:        2    7   1.2      7       9\nTotal:          4    8   1.0      8      11\nWARNING: The median and mean for the initial connection time are not within a normal deviation\n        These results are probably not that reliable.\n\nPercentage of the requests served within a certain time (ms)\n  50%      8\n  66%      8\n  75%      9\n  80%      9\n  90%      9\n  95%      9\n  98%      9\n  99%     10\n 100%     11 (longest request)\n```\n\n```shell-session:PHP7\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking localhost (be patient)\n\n\nServer Software:        nginx\nServer Hostname:        localhost\nServer Port:            80\n\nDocument Path:          /index.php\nDocument Length:        1266 bytes\n\nConcurrency Level:      50\nTime taken for tests:   0.077 seconds\nComplete requests:      500\nFailed requests:        0\nTotal transferred:      710500 bytes\nHTML transferred:       633000 bytes\nRequests per second:    6463.12 [#/sec] (mean)\nTime per request:       7.736 [ms] (mean)\nTime per request:       0.155 [ms] (mean, across all concurrent requests)\nTransfer rate:          8968.84 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    1   0.7      0       2\nProcessing:     2    7   1.2      7       9\nWaiting:        2    6   1.1      6       9\nTotal:          4    7   1.0      8      10\nWARNING: The median and mean for the initial connection time are not within a normal deviation\n        These results are probably not that reliable.\nWARNING: The median and mean for the total time are not within a normal deviation\n        These results are probably not that reliable.\n\nPercentage of the requests served within a certain time (ms)\n  50%      8\n  66%      8\n  75%      8\n  80%      8\n  90%      8\n  95%      9\n  98%      9\n  99%     10\n 100%     10 (longest request)\n```\n\n### Wordpress\n\n\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3067\u306e\u6e2c\u5b9a\u3067\u3059\u3002\nPHP7\u306e\u65b9\u304c\u7d043\u500d\u901f\u3044\u3068\u3044\u3046\u901f\u5ea6\u3092\u53e9\u304d\u3060\u3057\u307e\u3057\u305f\uff01\n\u4f53\u611f\u7684\u306b\u3001\u3059\u3054\u3044\u30b5\u30af\u30b5\u30af\uff01\u3063\u3066\u307b\u3069\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u6c17\u6301\u3061\u901f\u304f\u306a\u3063\u305f\u306a\uff5e\u3050\u3089\u3044\u306b\u306f\u306a\u3063\u3066\u307e\u3059\u3002\n\n```shell-session:PHP5.6\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking wp.localhost (be patient)\n\n\nServer Software:        nginx\nServer Hostname:        wp.localhost\nServer Port:            80\n\nDocument Path:          /\nDocument Length:        63074 bytes\n\nConcurrency Level:      50\nTime taken for tests:   21.606 seconds\nComplete requests:      500\nFailed requests:        0\nTotal transferred:      31646500 bytes\nHTML transferred:       31537000 bytes\nRequests per second:    23.14 [#/sec] (mean)\nTime per request:       2160.562 [ms] (mean)\nTime per request:       43.211 [ms] (mean, across all concurrent requests)\nTransfer rate:          1430.41 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    0   0.8      0       3\nProcessing:   954 2058 230.9   2027    3352\nWaiting:      887 2000 231.3   1968    3295\nTotal:        957 2058 231.3   2027    3355\n\nPercentage of the requests served within a certain time (ms)\n  50%   2027\n  66%   2056\n  75%   2073\n  80%   2078\n  90%   2115\n  95%   2427\n  98%   2999\n  99%   3235\n 100%   3355 (longest request)\n```\n\n```shell-session:PHP7\nThis is ApacheBench, Version 2.3 <$Revision: 1706008 $>\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking wp.localhost (be patient)\n\n\nServer Software:        nginx\nServer Hostname:        wp.localhost\nServer Port:            80\n\nDocument Path:          /\nDocument Length:        63074 bytes\n\nConcurrency Level:      50\nTime taken for tests:   6.939 seconds\nComplete requests:      500\nFailed requests:        0\nTotal transferred:      31646000 bytes\nHTML transferred:       31537000 bytes\nRequests per second:    72.06 [#/sec] (mean)\nTime per request:       693.910 [ms] (mean)\nTime per request:       13.878 [ms] (mean, across all concurrent requests)\nTransfer rate:          4453.64 [Kbytes/sec] received\n\nConnection Times (ms)\n              min  mean[+/-sd] median   max\nConnect:        0    0   0.8      0      11\nProcessing:    69  661 110.1    700     729\nWaiting:       54  644 109.6    682     711\nTotal:         71  661 109.7    700     731\n\nPercentage of the requests served within a certain time (ms)\n  50%    700\n  66%    702\n  75%    704\n  80%    705\n  90%    707\n  95%    709\n  98%    710\n  99%    711\n 100%    731 (longest request)\n```\n\n### CakePHP (DB\u30a2\u30af\u30bb\u30b9\u8efd\u3081)\n\n\u30c7\u30fc\u30bf\u53d6\u5f97\u6761\u4ef6\uff1a \u62bd\u51fa\u6761\u4ef6\u306a\u3057\u3001\u53d6\u5f97\u4ef6\u6570\u7d041000\u30ec\u30b3\u30fc\u30c9\u3001\u30c6\u30fc\u30d6\u30eb\u7d50\u5408\u306a\u3057\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30bd\u30fc\u30c8\u306e\u307f\nDB\u51e6\u7406\u6642\u9593\uff1a\u7d040.0005\u79d2\n\nWordpress\u3068\u3055\u307b\u3069\u5909\u308f\u3089\u306a\u3044\u3050\u3089\u3044\u306e\u901f\u5ea6\u6539\u5584\u3067\u3057\u305f\u3002\n\u8efd\u3081\u306e\u30af\u30a8\u30ea\u3092\u6295\u3052\u308b\u51e6\u7406\u3060\u3068\u304b\u306a\u308a\u6539\u5584\u3055\u308c\u307e\u3059\u306d\u3002\n\n### CakePHP (DB\u30a2\u30af\u30bb\u30b9\u91cd\u3081)\n\n\u30c7\u30fc\u30bf\u53d6\u5f97\u6761\u4ef6\uff1a range\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067300\u4e07\u30ec\u30b3\u30fc\u30c9\u304b\u3089\u7d042000\u30ec\u30b3\u30fc\u30c9\u62bd\u51fa\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u3088\u308b\u30c6\u30fc\u30d6\u30eb\u7d50\u5408\u3042\u308a\u3001\u30bd\u30fc\u30c8\nDB\u51e6\u7406\u6642\u9593\uff1a\u7d040.04\u79d2\n\n\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u304cPHP\u3067\u306f\u306a\u304fDB\u30a2\u30af\u30bb\u30b9\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u30012\u500d\u7a0b\u5ea6\u306e\u6539\u5584\u3067\u6b69\u7559\u307e\u308a\u3067\u3059\u3002\nI/O\u304c\u30cd\u30c3\u30af\u306b\u306a\u308b\u30a2\u30d7\u30ea\u3060\u3068PHP\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u5c11\u306a\u305d\u3046\u3067\u3059\u3002\n\uff03\u3061\u306a\u307f\u306bHTTP\u306b\u6bd4\u3079\u7d0410\u500d\u9045\u304f\u306a\u308b\u3068\u3044\u308f\u308c\u3066\u3044\u308bHTTPS\u3067AB\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3055\u307b\u3069\u5909\u308f\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n## \u7dcf\u8a55\n\n\u5358\u7d14\u306b\u901f\u304f\u306a\u308b\u304b\u3089\u3001\u3068\u3044\u3046\u7406\u7531\u3067\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3059\u308b\u3053\u3068\u306f\u30aa\u30b9\u30b9\u30e1\u3057\u307e\u305b\u3093\u304c\u3001\u691c\u8a0e\u3059\u308b\u4fa1\u5024\u306f\u5341\u5206\u30a2\u30ea\u3002\nPHP5.6\u306b\u6bd4\u30791\u30d7\u30ed\u30bb\u30b9\u5f53\u305f\u308a\u306ephp-fpm\u306e\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u3082\u82e5\u5e72\u6e1b\u3063\u3066\u3044\u308b\u6c17\u304c\u3059\u308b\u306e\u3067\u3001\u975e\u529b\u306aVPS\u3067\u306e\u5229\u7528\u3082\u554f\u984c\u306a\u304f\u3044\u3051\u305d\u3046\u3067\u3059\u3002\n", "tags": ["PHP", "PHP7", "php-fpm", "WordPress", "CakePHP"]}