{"context": "\n\nmysql-ruby \u3092rpm\u5316\u3057\u3066\u307f\u308b\n\nhttps://github.com/tmtm/ruby-mysql\n\nIndex of /downloads/mysql/ruby\n\nhttp://tmtm.org/downloads/mysql/ruby/mysql-ruby-2.8.2.tar.gz\n\n\n\n\u5bfe\u8c61\u306f /usr/lib64/ruby/site_ruby/1.8/x86_64-linux/mysql.so 1\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3002\n\nspec\u30d5\u30a1\u30a4\u30eb\n\n\ncp --parents\u304c\u4fbf\u5229\u3002\n\n\n/root/rpmbuild/SPECS/mysql-ruby.spec\n%define name mysql-ruby\n%define version 2.8.2\n%define unmangled_version 2.8.2\n%define release 1\n%define _binaries_in_noarch_packages_terminate_build 0\n\nSummary: mysql-ruby\nName: %{name}\nVersion: %{version}\nRelease: %{release}\nLicense: Ruby's\nSource0: %{name}-%{unmangled_version}.tar.gz\nGroup: Applications/File\nBuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-buildroot\nPrefix: %{_prefix}\nBuildArch: x86_64\n\n%define INSTALLDIR %{buildroot}\n\n%description\nhttp://tmtm.org/downloads/mysql/ruby/\n\n%prep\n\n%build\n\n%install\nrm -rf %{INSTALLDIR}\nmkdir -p %{INSTALLDIR}\ncp --parents /usr/lib64/ruby/site_ruby/1.8/x86_64-linux/mysql.so %{INSTALLDIR}\n\n%clean\nrm -rf %{buildroot}\n\n%files\n/usr/lib64/ruby/site_ruby/1.8/x86_64-linux/mysql.so\n%defattr(-,root,root)\n\n\n\nbuild\n\nDockerfile\nFROM centos:6\n\nENV BUILDROOT=\"/root/rpmbuild\"\nWORKDIR $BUILDROOT/SOURCES/ruby/\nRUN yum install -y ruby ruby-devel\n\n# mysql-ruby\nRUN tar xzf mysql-ruby-2.8.2.tar.gz \\\n && cd mysql-ruby-2.8.2 \\\n && ruby extconf.rb --with-mysql-dir=/opt/mysql \\\n && make -s \\\n && make install\n\n# rpmbuild\nWORKDIR $BUILDROOT/\nCOPY files.ruby/mysql-ruby.spec $BUILDROOT/SPECS/\nRUN tar czf $BUILDROOT/SOURCES/mysql-ruby-2.8.2.tar.gz /usr/lib64/ruby/site_ruby/1.8/x86_64-linux/mysql.so \\\n && rpmbuild -ba SPECS/mysql-ruby.spec\n\n\n\n\n/root/rpmbuild/RPMS/x86_64/mysql-ruby-2.8.2-1.x86_64.rpm \u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n\n\nruby-dbi 0.4.3 \u3092rpm\u5316\u3057\u3066\u307f\u308b\n\nhttps://github.com/erikh/ruby-dbi/tags\n\n\nspec\n\nfiles.ruby/ruby-dbi.spec\n%define name ruby-dbi\n%define version 0.4.3\n%define unmangled_version 0.4.3\n%define release 1\n%define _binaries_in_noarch_packages_terminate_build 0\n\nSummary: ruby-dbi\nName: %{name}\nVersion: %{version}\nRelease: %{release}\nLicense: GPL\nSource0: %{name}-%{unmangled_version}.tar.gz\nGroup: Applications/File\nBuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-buildroot\nPrefix: %{_prefix}\nBuildArch: x86_64\n\n%define INSTALLDIR %{buildroot}\n\n%description\nhttps://github.com/erikh/ruby-dbi/\n\n%prep\n\n%build\n\n%install\nrm -rf %{INSTALLDIR}\nmkdir -p %{INSTALLDIR}\ncp --parents -a /usr/lib/ruby/site_ruby/1.8 %{INSTALLDIR}\ncp --parents /usr/bin/dbi %{INSTALLDIR}\ncp --parents /usr/bin/test_broken_dbi %{INSTALLDIR}\n\n%clean\nrm -rf %{buildroot}\n\n%files\n/usr/bin/dbi\n/usr/bin/test_broken_dbi\n/usr/lib/ruby/site_ruby/1.8\n%defattr(-,root,root)\n\n\n\nbuild\n\nDockerfile\n# mysql-dbi\nWORKDIR $BUILDROOT/SOURCES/ruby/\nCOPY files.ruby/0.4.3_real.tar.gz .\nRUN tar xzf 0.4.3_real.tar.gz \\\n && cd ruby-dbi-0.4.3_real \\\n && ruby setup.rb config \\\n && ruby setup.rb setup \\\n && ruby setup.rb install\n# rpmbuild\nWORKDIR $BUILDROOT/\nCOPY files.ruby/ruby-dbi.spec $BUILDROOT/SPECS/\nRUN tar czf $BUILDROOT/SOURCES/ruby-dbi-0.4.3.tar.gz /usr/bin/dbi /usr/bin/test_broken_dbi /usr/lib/ruby/site_ruby/1.8 \\\n && rpmbuild -ba SPECS/ruby-dbi.spec\n\n\n\n\nruby-dbi 0.1.1 \u3092rpm\u5316\u3057\u3066\u307f\u308b\n\nfiles.ruby/ruby-dbi-0.1.1.spec\n%define name ruby-dbi\n%define version 0.1.1\n%define unmangled_version 0.1.1\n%define release 1\n%define _binaries_in_noarch_packages_terminate_build 0\n\nSummary: ruby-dbi\nName: %{name}\nVersion: %{version}\nRelease: %{release}\nLicense: GPL\nSource0: %{name}-%{unmangled_version}.tar.gz\nGroup: Applications/File\nBuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-buildroot\nPrefix: %{_prefix}\nBuildArch: x86_64\n\n%define INSTALLDIR %{buildroot}\n\n%description\nhttps://github.com/erikh/ruby-dbi/\n\n%prep\n\n%build\n\n%install\nrm -rf %{INSTALLDIR}\nmkdir -p %{INSTALLDIR}\ncp --parents -a /usr/lib/ruby/site_ruby/1.8 %{INSTALLDIR}\ncp --parents /usr/bin/sqlsh.rb %{INSTALLDIR}\n\n%clean\nrm -rf %{buildroot}\n\n%files\n/usr/bin/sqlsh.rb\n/usr/lib/ruby/site_ruby/1.8\n%defattr(-,root,root)\n\n\n\nDockerfile\n# ruby-dbi 0.1.1\nWORKDIR $BUILDROOT/SOURCES/ruby/\nCOPY files.ruby/rel-0-1-1.tar.gz .\nRUN tar xzf rel-0-1-1.tar.gz \\\n && cd ruby-dbi-rel-0-1-1 \\\n && ruby setup.rb config --with=dbi,dbd_mysql \\\n && ruby setup.rb setup \\\n && ruby setup.rb install\n# rpmbuild\nWORKDIR $BUILDROOT/\nCOPY files.ruby/ruby-dbi-0.1.1.spec $BUILDROOT/SPECS/\nRUN tar czf $BUILDROOT/SOURCES/ruby-dbi-0.1.1.tar.gz /usr/lib/ruby/site_ruby/1.8 /usr/bin/sqlsh.rb \\\n && rpmbuild -ba SPECS/ruby-dbi-0.1.1.spec\n\n\n## mysql-ruby \u3092rpm\u5316\u3057\u3066\u307f\u308b\n\n* https://github.com/tmtm/ruby-mysql\n* [Index of /downloads/mysql/ruby](http://tmtm.org/downloads/mysql/ruby/?C=M;O=D)\n    * http://tmtm.org/downloads/mysql/ruby/mysql-ruby-2.8.2.tar.gz\n\n\u5bfe\u8c61\u306f `/usr/lib64/ruby/site_ruby/1.8/x86_64-linux/mysql.so` 1\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u3002\n\n\n### spec\u30d5\u30a1\u30a4\u30eb\n\n* `cp --parents`\u304c\u4fbf\u5229\u3002\n\n```spec:/root/rpmbuild/SPECS/mysql-ruby.spec\n%define name mysql-ruby\n%define version 2.8.2\n%define unmangled_version 2.8.2\n%define release 1\n%define _binaries_in_noarch_packages_terminate_build 0\n\nSummary: mysql-ruby\nName: %{name}\nVersion: %{version}\nRelease: %{release}\nLicense: Ruby's\nSource0: %{name}-%{unmangled_version}.tar.gz\nGroup: Applications/File\nBuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-buildroot\nPrefix: %{_prefix}\nBuildArch: x86_64\n\n%define INSTALLDIR %{buildroot}\n\n%description\nhttp://tmtm.org/downloads/mysql/ruby/\n\n%prep\n\n%build\n\n%install\nrm -rf %{INSTALLDIR}\nmkdir -p %{INSTALLDIR}\ncp --parents /usr/lib64/ruby/site_ruby/1.8/x86_64-linux/mysql.so %{INSTALLDIR}\n\n%clean\nrm -rf %{buildroot}\n\n%files\n/usr/lib64/ruby/site_ruby/1.8/x86_64-linux/mysql.so\n%defattr(-,root,root)\n```\n\n### build\n\n```rb:Dockerfile\nFROM centos:6\n\nENV BUILDROOT=\"/root/rpmbuild\"\nWORKDIR $BUILDROOT/SOURCES/ruby/\nRUN yum install -y ruby ruby-devel\n\n# mysql-ruby\nRUN tar xzf mysql-ruby-2.8.2.tar.gz \\\n && cd mysql-ruby-2.8.2 \\\n && ruby extconf.rb --with-mysql-dir=/opt/mysql \\\n && make -s \\\n && make install\n\n# rpmbuild\nWORKDIR $BUILDROOT/\nCOPY files.ruby/mysql-ruby.spec $BUILDROOT/SPECS/\nRUN tar czf $BUILDROOT/SOURCES/mysql-ruby-2.8.2.tar.gz /usr/lib64/ruby/site_ruby/1.8/x86_64-linux/mysql.so \\\n && rpmbuild -ba SPECS/mysql-ruby.spec\n```\n\n* `/root/rpmbuild/RPMS/x86_64/mysql-ruby-2.8.2-1.x86_64.rpm` \u304c\u751f\u6210\u3055\u308c\u308b\u3002\n\n\n----\n\n## ruby-dbi 0.4.3 \u3092rpm\u5316\u3057\u3066\u307f\u308b\n\n* https://github.com/erikh/ruby-dbi/tags\n\n### spec\n\n```spec:files.ruby/ruby-dbi.spec \n%define name ruby-dbi\n%define version 0.4.3\n%define unmangled_version 0.4.3\n%define release 1\n%define _binaries_in_noarch_packages_terminate_build 0\n\nSummary: ruby-dbi\nName: %{name}\nVersion: %{version}\nRelease: %{release}\nLicense: GPL\nSource0: %{name}-%{unmangled_version}.tar.gz\nGroup: Applications/File\nBuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-buildroot\nPrefix: %{_prefix}\nBuildArch: x86_64\n\n%define INSTALLDIR %{buildroot}\n\n%description\nhttps://github.com/erikh/ruby-dbi/\n\n%prep\n\n%build\n\n%install\nrm -rf %{INSTALLDIR}\nmkdir -p %{INSTALLDIR}\ncp --parents -a /usr/lib/ruby/site_ruby/1.8 %{INSTALLDIR}\ncp --parents /usr/bin/dbi %{INSTALLDIR}\ncp --parents /usr/bin/test_broken_dbi %{INSTALLDIR}\n\n%clean\nrm -rf %{buildroot}\n\n%files\n/usr/bin/dbi\n/usr/bin/test_broken_dbi\n/usr/lib/ruby/site_ruby/1.8\n%defattr(-,root,root)\n```\n\n### build\n\n```bash:Dockerfile\n# mysql-dbi\nWORKDIR $BUILDROOT/SOURCES/ruby/\nCOPY files.ruby/0.4.3_real.tar.gz .\nRUN tar xzf 0.4.3_real.tar.gz \\\n && cd ruby-dbi-0.4.3_real \\\n && ruby setup.rb config \\\n && ruby setup.rb setup \\\n && ruby setup.rb install\n# rpmbuild\nWORKDIR $BUILDROOT/\nCOPY files.ruby/ruby-dbi.spec $BUILDROOT/SPECS/\nRUN tar czf $BUILDROOT/SOURCES/ruby-dbi-0.4.3.tar.gz /usr/bin/dbi /usr/bin/test_broken_dbi /usr/lib/ruby/site_ruby/1.8 \\\n && rpmbuild -ba SPECS/ruby-dbi.spec\n```\n\n----\n\n## ruby-dbi 0.1.1 \u3092rpm\u5316\u3057\u3066\u307f\u308b\n\n```spec:files.ruby/ruby-dbi-0.1.1.spec\n%define name ruby-dbi\n%define version 0.1.1\n%define unmangled_version 0.1.1\n%define release 1\n%define _binaries_in_noarch_packages_terminate_build 0\n\nSummary: ruby-dbi\nName: %{name}\nVersion: %{version}\nRelease: %{release}\nLicense: GPL\nSource0: %{name}-%{unmangled_version}.tar.gz\nGroup: Applications/File\nBuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-buildroot\nPrefix: %{_prefix}\nBuildArch: x86_64\n\n%define INSTALLDIR %{buildroot}\n\n%description\nhttps://github.com/erikh/ruby-dbi/\n\n%prep\n\n%build\n\n%install\nrm -rf %{INSTALLDIR}\nmkdir -p %{INSTALLDIR}\ncp --parents -a /usr/lib/ruby/site_ruby/1.8 %{INSTALLDIR}\ncp --parents /usr/bin/sqlsh.rb %{INSTALLDIR}\n\n%clean\nrm -rf %{buildroot}\n\n%files\n/usr/bin/sqlsh.rb\n/usr/lib/ruby/site_ruby/1.8\n%defattr(-,root,root)\n```\n\n```bash:Dockerfile\n# ruby-dbi 0.1.1\nWORKDIR $BUILDROOT/SOURCES/ruby/\nCOPY files.ruby/rel-0-1-1.tar.gz .\nRUN tar xzf rel-0-1-1.tar.gz \\\n && cd ruby-dbi-rel-0-1-1 \\\n && ruby setup.rb config --with=dbi,dbd_mysql \\\n && ruby setup.rb setup \\\n && ruby setup.rb install\n# rpmbuild\nWORKDIR $BUILDROOT/\nCOPY files.ruby/ruby-dbi-0.1.1.spec $BUILDROOT/SPECS/\nRUN tar czf $BUILDROOT/SOURCES/ruby-dbi-0.1.1.tar.gz /usr/lib/ruby/site_ruby/1.8 /usr/bin/sqlsh.rb \\\n && rpmbuild -ba SPECS/ruby-dbi-0.1.1.spec\n```\n", "tags": ["rpmbuild", "CentOS6"]}