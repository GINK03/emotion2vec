{"context": " More than 1 year has passed since last update.\n\n\u5229\u7528\u60f3\u5b9a\u30b7\u30fc\u30f3\n\nA\u30b5\u30fc\u30d0\u3067\u306f\u8868\u793a\u3057\u305f\u3044\u3051\u3069\u3001\u30c6\u30b9\u30c8\u7528\u306eB\u30b5\u30fc\u30d0\u3067\u306f\u8868\u793a\u3057\u305f\u304f\u306a\u3044\nA\u30b5\u30fc\u30d0\u3067\u306f\u8868\u793a\u3057\u305f\u3044\u3051\u3069\u3001\u304b\u3064\u3001\u30a2\u30af\u30bb\u30b9\u5143IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308a\u8868\u793a\u5206\u3051\u3092\u884c\u3044\u305f\u3044\n\n\u30b3\u30fc\u30c9\u306f\u540c\u4e00\u306b\u4fdd\u3063\u3066\u304a\u304d\u305f\u3044\u3051\u3069\u3001\u307e\u3060\u30c6\u30b9\u30c8\u74b0\u5883\u3060\u3051\u3067\u6709\u52b9\u306a\u8868\u793a\u306b\u3057\u3066\u304a\u304d\u305f\u3044\u306a\u3041\u3001\u305d\u308c\u306b\u307e\u3060\u4f5c\u6210\u4e2d\u3060\u3057\u3001\u8ab0\u3067\u3082\u306b\u306f\u898b\u305b\u305f\u304f\u306a\u3044\u306a\u3041\u3002\u3002\u3002\u305d\u3093\u306a\u5834\u9762\u3067\u4f7f\u3048\u307e\u3059\u3002\n\n\u74b0\u5883\n\nbaserCMS 3.0.6.1\nPHP 5.4.19\n\n\n\u30c6\u30fc\u30de\u30d8\u30eb\u30d1\u4f7f\u3063\u3066\u8868\u793a\u5224\u5b9a\u3055\u305b\u3068\u3051\u3070\u30e9\u30af\nbaserCMS\u306b\u306f\u30c6\u30fc\u30de\u30d8\u30eb\u30d1\u3068\u3044\u3063\u3066\u3001\u30d8\u30eb\u30d1\u3092\u7c21\u5358\u306b\u8ffd\u52a0\u3057\u3066\u5229\u7528\u3067\u304d\u308b\u4ed5\u7d44\u307f\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u30d8\u30eb\u30d1\u306b\u5165\u308c\u3066\u304a\u3051\u3070\u3001\u7c21\u5358\u306b\u4f7f\u3044\u56de\u3057\u304c\u3067\u304d\u307e\u3059\u306d\u3002\n\u30c6\u30fc\u30de\u30d8\u30eb\u30d1\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u3068\u3066\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\nhttp://basercms.net/functions/theme_helper\nhttp://pops-web.com/main/pops/archives/106\nhttp://www.lancard.com/blog/2012/06/27/basercms-2%E7%B3%BB%E3%81%A7%E8%BF%BD%E5%8A%A0%E3%81%95%E3%82%8C%E3%81%9F%E3%83%86%E3%83%BC%E3%83%9E%E3%83%98%E3%83%AB%E3%83%91%E3%83%BC%E3%81%8C%E4%BE%BF%E5%88%A9%EF%BC%88%E3%81%A0%E3%81%91%E3%81%A9/\n\n\n\u30c6\u30fc\u30de\u30d8\u30eb\u30d1\u4f5c\u3063\u3066\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u5165\u308c\u3066\u304a\u304f\n\u5224\u5b9a\u7528\u306e\u30e1\u30bd\u30c3\u30c9\u30b5\u30f3\u30d7\u30eb\u306f\u4ee5\u4e0b\u3002\n<?php\n/**\n * \u30b5\u30fc\u30d0\u74b0\u5883\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u5224\u5225\u3059\u308b\n * \n * @return boolean\n */\n    public function eachIpShow () {\n        $clientIpAddr = $this->request->clientIp();\n\n        // \u8868\u793a\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\n        $allowIpAddress = array(\n            '127.0.0.1',\n        );\n        // \u52d5\u4f5c\u3092\u9069\u7528\u3059\u308b\u30b5\u30fc\u30d0\u30cd\u30fc\u30e0\n        $remoteServerName = array(\n            'example.com',\n        );\n\n        // \u52d5\u4f5c\u3092\u9069\u7528\u3055\u305b\u305f\u3044\u30b5\u30fc\u30d0\u306e\u5834\u5408\u3001IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u8868\u793a\u51fa\u3057\u5206\u3051\u3092\u5b9f\u65bd\u3059\u308b\n        if (in_array($_SERVER['SERVER_NAME'], $remoteServerName)) {\n            // \u8a31\u53efIP\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306e\u5834\u5408\u306f\u8868\u793a\n            if (in_array($clientIpAddr, $allowIpAddress)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n\n\u4f7f\u3044\u65b9\n\u30d3\u30e5\u30fc\u5074\u3067\u4ee5\u4e0b\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u3088\u3046\u306b\u5224\u5b9a\u3055\u305b\u308b\u3068\u826f\u3044\u3067\u3059\u3002\n<?php if ($this->ThemeHelperName->eachIpShow()): ?>\n\u9069\u5408\u3059\u308b\u5834\u5408\u306b\u8868\u793a\u3057\u305f\u3044\u5185\u5bb9\u3092\u66f8\u304f\n<?php endif ?>\n\n\n## \u5229\u7528\u60f3\u5b9a\u30b7\u30fc\u30f3\n- A\u30b5\u30fc\u30d0\u3067\u306f\u8868\u793a\u3057\u305f\u3044\u3051\u3069\u3001\u30c6\u30b9\u30c8\u7528\u306eB\u30b5\u30fc\u30d0\u3067\u306f\u8868\u793a\u3057\u305f\u304f\u306a\u3044\n- A\u30b5\u30fc\u30d0\u3067\u306f\u8868\u793a\u3057\u305f\u3044\u3051\u3069\u3001\u304b\u3064\u3001\u30a2\u30af\u30bb\u30b9\u5143IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308a\u8868\u793a\u5206\u3051\u3092\u884c\u3044\u305f\u3044\n\n\u30b3\u30fc\u30c9\u306f\u540c\u4e00\u306b\u4fdd\u3063\u3066\u304a\u304d\u305f\u3044\u3051\u3069\u3001\u307e\u3060\u30c6\u30b9\u30c8\u74b0\u5883\u3060\u3051\u3067\u6709\u52b9\u306a\u8868\u793a\u306b\u3057\u3066\u304a\u304d\u305f\u3044\u306a\u3041\u3001\u305d\u308c\u306b\u307e\u3060\u4f5c\u6210\u4e2d\u3060\u3057\u3001\u8ab0\u3067\u3082\u306b\u306f\u898b\u305b\u305f\u304f\u306a\u3044\u306a\u3041\u3002\u3002\u3002\u305d\u3093\u306a\u5834\u9762\u3067\u4f7f\u3048\u307e\u3059\u3002\n\n\n## \u74b0\u5883\n\n- baserCMS 3.0.6.1\n- PHP 5.4.19\n\n\n## \u30c6\u30fc\u30de\u30d8\u30eb\u30d1\u4f7f\u3063\u3066\u8868\u793a\u5224\u5b9a\u3055\u305b\u3068\u3051\u3070\u30e9\u30af\nbaserCMS\u306b\u306f\u30c6\u30fc\u30de\u30d8\u30eb\u30d1\u3068\u3044\u3063\u3066\u3001\u30d8\u30eb\u30d1\u3092\u7c21\u5358\u306b\u8ffd\u52a0\u3057\u3066\u5229\u7528\u3067\u304d\u308b\u4ed5\u7d44\u307f\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u30d8\u30eb\u30d1\u306b\u5165\u308c\u3066\u304a\u3051\u3070\u3001\u7c21\u5358\u306b\u4f7f\u3044\u56de\u3057\u304c\u3067\u304d\u307e\u3059\u306d\u3002\n\n\u30c6\u30fc\u30de\u30d8\u30eb\u30d1\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u3068\u3066\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\n- http://basercms.net/functions/theme_helper\n- http://pops-web.com/main/pops/archives/106\n- http://www.lancard.com/blog/2012/06/27/basercms-2%E7%B3%BB%E3%81%A7%E8%BF%BD%E5%8A%A0%E3%81%95%E3%82%8C%E3%81%9F%E3%83%86%E3%83%BC%E3%83%9E%E3%83%98%E3%83%AB%E3%83%91%E3%83%BC%E3%81%8C%E4%BE%BF%E5%88%A9%EF%BC%88%E3%81%A0%E3%81%91%E3%81%A9/\n\n\n## \u30c6\u30fc\u30de\u30d8\u30eb\u30d1\u4f5c\u3063\u3066\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u5165\u308c\u3066\u304a\u304f\n\u5224\u5b9a\u7528\u306e\u30e1\u30bd\u30c3\u30c9\u30b5\u30f3\u30d7\u30eb\u306f\u4ee5\u4e0b\u3002\n\n```php\n<?php\n/**\n * \u30b5\u30fc\u30d0\u74b0\u5883\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u5224\u5225\u3059\u308b\n * \n * @return boolean\n */\n\tpublic function eachIpShow () {\n\t\t$clientIpAddr = $this->request->clientIp();\n\t\t\n\t\t// \u8868\u793a\u8a31\u53efIP\u30a2\u30c9\u30ec\u30b9\n\t\t$allowIpAddress = array(\n\t\t\t'127.0.0.1',\n\t\t);\n\t\t// \u52d5\u4f5c\u3092\u9069\u7528\u3059\u308b\u30b5\u30fc\u30d0\u30cd\u30fc\u30e0\n\t\t$remoteServerName = array(\n\t\t\t'example.com',\n\t\t);\n\t\t\n\t\t// \u52d5\u4f5c\u3092\u9069\u7528\u3055\u305b\u305f\u3044\u30b5\u30fc\u30d0\u306e\u5834\u5408\u3001IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u8868\u793a\u51fa\u3057\u5206\u3051\u3092\u5b9f\u65bd\u3059\u308b\n\t\tif (in_array($_SERVER['SERVER_NAME'], $remoteServerName)) {\n\t\t\t// \u8a31\u53efIP\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306e\u5834\u5408\u306f\u8868\u793a\n\t\t\tif (in_array($clientIpAddr, $allowIpAddress)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n```\n\n### \u4f7f\u3044\u65b9\n\u30d3\u30e5\u30fc\u5074\u3067\u4ee5\u4e0b\u306e\u30b5\u30f3\u30d7\u30eb\u306e\u3088\u3046\u306b\u5224\u5b9a\u3055\u305b\u308b\u3068\u826f\u3044\u3067\u3059\u3002\n\n```php\n<?php if ($this->ThemeHelperName->eachIpShow()): ?>\n\u9069\u5408\u3059\u308b\u5834\u5408\u306b\u8868\u793a\u3057\u305f\u3044\u5185\u5bb9\u3092\u66f8\u304f\n<?php endif ?>\n```\n", "tags": ["baserCMS"]}