{"context": " More than 1 year has passed since last update.TopoJSON\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u5730\u56f3\u3092canvas\u306b\u63cf\u753b\u3057\u307e\u3059\u3002\n//topojson\uff08\u5730\u7406\uff09\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f\nd3.json(\"ken.topojson\", function(json) {\n    draw(json);\n});\n\n\nfunction draw(json){\n    //geo\u30c7\u30fc\u30bf\n    var topo = json.objects.ken;\n\n\n    //\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u8a2d\u5b9a\n    var projection = d3.geo\n        .mercator()     //\u6295\u5f71\u6cd5\u306e\u6307\u5b9a\n        .scale(2000)    //\u30b9\u30b1\u30fc\u30eb\uff08\u30ba\u30fc\u30e0\uff09\u306e\u6307\u5b9a\n        .translate([500,450]) //\u8868\u793a\u4f4d\u7f6e\u8abf\u6574\n        .center([139.0032936, 36.3219088]); //\u4e2d\u5fc3\u306e\u5ea7\u6a19\u3092\u6307\u5b9a\n\n\n    //\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\n    var context = d3.select(\"canvas\")\n        .attr({\n            width:\"900px\",\n            height:\"900px\",\n        })\n        .node().getContext(\"2d\");\n\n    //\u30d1\u30b9\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u306e\u751f\u6210  \n    var path = d3.geo.path()\n        .projection(projection)\n        .context(context) //\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a\n\n\n    //canvas\u306b\u5730\u56f3\u3092\u63cf\u753b\u3059\u308b\n    path(topojson.feature(json, topo));\n    context.stroke();\n\n\n}\n\nexample\n\nTopoJSON\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001\u5730\u56f3\u3092canvas\u306b\u63cf\u753b\u3057\u307e\u3059\u3002\n\n```js\n//topojson\uff08\u5730\u7406\uff09\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f\nd3.json(\"ken.topojson\", function(json) {\n\tdraw(json);\n});\n\n\nfunction draw(json){\n\t//geo\u30c7\u30fc\u30bf\n\tvar topo = json.objects.ken;\n\n\n\t//\u30d7\u30ed\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u8a2d\u5b9a\n\tvar projection = d3.geo\n\t\t.mercator()\t\t//\u6295\u5f71\u6cd5\u306e\u6307\u5b9a\n\t\t.scale(2000)\t//\u30b9\u30b1\u30fc\u30eb\uff08\u30ba\u30fc\u30e0\uff09\u306e\u6307\u5b9a\n\t\t.translate([500,450]) //\u8868\u793a\u4f4d\u7f6e\u8abf\u6574\n\t\t.center([139.0032936, 36.3219088]); //\u4e2d\u5fc3\u306e\u5ea7\u6a19\u3092\u6307\u5b9a\n\n\t\n\t//\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\n\tvar context = d3.select(\"canvas\")\n\t\t.attr({\n\t\t\twidth:\"900px\",\n\t\t\theight:\"900px\",\n\t\t})\n\t\t.node().getContext(\"2d\");\n\t\n\t//\u30d1\u30b9\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u306e\u751f\u6210\t\n\tvar path = d3.geo.path()\n\t\t.projection(projection)\n\t\t.context(context) //\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u6307\u5b9a\n\t\t\n\t\t\n\t//canvas\u306b\u5730\u56f3\u3092\u63cf\u753b\u3059\u308b\n\tpath(topojson.feature(json, topo));\n\tcontext.stroke();\n\t\t\n\t\t\n}\n```\n\n\n[example](http://shimz.me/example/d3js/geo_template/canvas/)\n\n", "tags": ["d3.js"]}