{"context": "\n\n\u306f\u3058\u3081\u306b\n\u524d\u56de\u3001Bottle\u306730\u5206\u3067\u30c7\u30d7\u30ed\u30a4\u51fa\u6765\u308b\u3068\u3053\u308d\u307e\u3067\u66f8\u304d\u3001Bottle\u306f\u975e\u5e38\u306b\u6271\u3044\u3084\u3059\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001SSL\u901a\u4fe1\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u306b\u306f cherrypy \u3092\u4f7f\u3063\u305f\u308a\u3068\u4f55\u304b\u3068\u9762\u5012\u306b\u306a\u3063\u3066\u304d\u305f\u306e\u3067\u3001\u4eca\u5ea6\u306f Bottle \u3068\u4e26\u3093\u3067\u8efd\u91cf\u306aPython\u306eWeb\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308b Flask \u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u958b\u767a\u74b0\u5883\n\nOS\uff1aCentOS release 6.8\nApache\uff1a2.2.15 (Unix)\nPython 3.5.2\nmod_wsgi 4.5.6\n\n\n\u74b0\u5883\u69cb\u7bc9\u304b\u3089Hello Flask!\u307e\u3067\uff085\u5206\uff09\n\u3053\u3061\u3089\u306f\u30ed\u30fc\u30ab\u30eb\uff08\u624b\u5143\u306eMac\uff09\u3067\u4f5c\u696d\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n$ pip3 install flask\n\n\napp.py\n# coding: utf-8\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef hello():\n    return \"Hello, Flask!\"\n\nif __name__ == \"__main__\":\n    app.run()\n\n\n\n\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\n$ python3 app.py\n\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u306e\u300chttp://127.0.0.1:5000\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\nBottle\u3068\u540c\u69d8\u3001\u8d85\u304a\u624b\u8efd\u3067\u3059\u306d\u3002\n\u4eca\u56de\u306f\u3001DB\u306e\u64cd\u4f5c\u3084\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3064\u3044\u3066\u306f\u89e6\u308c\u307e\u305b\u3093\u304c\u3001\u3082\u3061\u308d\u3093\u305d\u308c\u3089\u3082\u5168\u3066\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u672c\u756a\u74b0\u5883\u3067https\u901a\u4fe1\u307e\u3067\n\u3053\u3053\u304b\u3089\u306f\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u74b0\u5883\u69cb\u7bc9\uff0810\u5206\uff09\n\u306f\u3058\u3081\u306b\u3001CentOS\u3067\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ sudo yum groupinstall \"development tools\"\n$ sudo yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel\n$ sudo yum install  httpd-devel python-devel\n\n\u305d\u3057\u3066\u3001python3.5\u7cfb\u3068\u3068\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u306epip\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\npython3.5\u3068pip3.5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo su # root\u3067\u64cd\u4f5c\u3057\u3066\u3044\u304d\u307e\u3059\n$ cd /usr/local/src\n$ wget https://www.python.org/ftp/python/3.5.2/Python-3.5.2.tgz\n$ tar zxvf Python-3.5.2.tgz\n$ cd Python-3.5.2\n$ ./configure --enable-shared\n$ make && make altinstall\n$ ln -s /usr/local/bin/python3.5 /usr/bin/python3\n$ ln -s /usr/local/lib/libpython3.5m.so.1.0 /lib64/\n$ python3.5 --version  # \u6700\u5f8c\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\u304c\u3067\u304d\u308c\u3070python\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\nPython 3.5.2\n# \u540c\u6642\u306bpip3.5\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u306e\u3067\u3001\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u8cbc\u308b\n$ ln -s /usr/local/bin/pip3.5 /usr/bin/pip3.5\n$ pip3.5 --version\npip 8.1.1 from /usr/local/lib/python3.5/site-packages (python 3.5)\n\n\n\u672c\u756a\u74b0\u5883\u306b\u3066\u3001Apache\u3068\u9023\u643a\u3055\u305b\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a mod_wsgi \u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nmod_wsgi\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ cd /usr/local/src\n$ wget https://github.com/GrahamDumpleton/mod_wsgi/archive/4.5.6.tar.gz\n$ tar zxvf 4.5.6.tar.gz\n$ cd mod_wsgi-4.5.6\n$ ./configure --with-apxs=/usr/sbin/apxs --with-python=/usr/local/bin/python3\n$ make && make install\n$ chmod 755 /etc/httpd/modules/mod_wsgi.so \n\n\n\n\u7d44\u307f\u8fbc\u307f\u30b5\u30fc\u30d0\u30fc\u3067Flask\u306e\u52d5\u4f5c\u78ba\u8a8d\uff085\u5206\uff09\n\u74b0\u5883\u304c\u63c3\u3063\u305f\u306e\u3067\u3001\u307e\u305a\u306fFlask\u306e\u7d44\u307f\u8fbc\u307f\u30b5\u30fc\u30d0\u30fc\u3067\u52d5\u4f5c\u78ba\u8a8d\u51fa\u6765\u308b\u3068\u3053\u308d\u307e\u3067\u3092\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nFlask\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ pip3.5 install flask\n\n\n\n/var/www/html/app.py\n# coding: utf-8\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef hello():\n    return \"Hello, Flask!\"\n\nif __name__ == \"__main__\":\n    app.run(host=\"example.com\", port=8000)\n\n\n\n\u7d44\u307f\u8fbc\u307f\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\n$ python3.5 app.py \n\n\n\u3053\u308c\u3067 http://example.com:8000 \u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n\u3053\u3053\u307e\u3067\u306fOK\u3067\u3059\u3002\n\nApache\u3068mod_wsgi\u3067\u672c\u756a\u7528\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\uff0810\u5206\uff09\nApache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n/etc/httpd/conf.d/flask.conf\n# http\u901a\u4fe1\u306fhttps\u901a\u4fe1\u3078\u5f37\u5236\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n<VirtualHost *:80>\n  ServerName example.com:80\n  RewriteEngine on\n  RewriteCond %{HTTP_HOST} ^example\\.com\n  RewriteRule ^/(.*)$ https://example.com/$1 [R=301,L]\n</VirtualHost>\n# https\u901a\u4fe1\u306e\u8a2d\u5b9a\u306f\u3053\u3061\u3089\n<VirtualHost *:443>\n  SSLEngine on\n  SSLProtocol all -SSLv2\n  SSLCertificateKeyFile   /etc/httpd/conf/ssl.key/server.key\n  SSLCertificateChainFile /etc/httpd/conf/ssl.crt/internal.crt\n  SSLCertificateFile      /etc/httpd/conf/ssl.crt/server.crt\n  DocumentRoot /var/www/html/api\n  ServerName example.com:443\n  CustomLog /var/www/html/access.log common\n  ErrorLog  /var/www/html/error.log\n  AddDefaultCharset UTF-8\n  WSGIScriptAlias / /var/www/html/adapter.wsgi\n  <Directory \"/var/www/html/\">\n    options Indexes FollowSymLinks +ExecCGI\n  </Directory>\n</VirtualHost>\n\n\n\nApache\u306e\u518d\u8d77\u52d5\n$ sudo service httpd restart\n\n\nSSL\u901a\u4fe1\u306e\u9375\u3084\u8a2d\u5b9a\u306b\u95a2\u3057\u3066\u4e0d\u660e\u306a\u70b9\u304c\u3042\u308b\u65b9\u306f\u3001\u300c\u3055\u304f\u3089VPS\u306bSSL\u8a3c\u660e\u66f8\u3092\u5c0e\u5165\u3057HTTPS\u901a\u4fe1\u306e\u69cb\u7bc9\u300d\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u3061\u3089\u3092\u3054\u89a7\u4e0b\u3055\u3044\u3002\nwsgi\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n/var/www/html/adapter.wsgi\n# coding: utf-8\nimport sys\nsys.path.insert(0, '/var/www/html')\n\nfrom app import app as application\n\n\n\u3064\u304e\u306b\u3001\u3055\u304d\u307b\u3069\u306e app.py \u3082\u672c\u756a\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u591a\u5c11\u5909\u66f4\u3057\u307e\u3059\u3002\n\n/var/www/html/app.py\n# coding: utf-8\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef hello():\n    return \"Hello, Flask!\"\n\nif __name__ == \"__main__\":\n    app.run()\n\n\n\u5909\u66f4\u70b9\u306f\u4ee5\u4e0a\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u308c\u3067\u3001https://example.com \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u898b\u305f\u76ee\u306f\u540c\u3058\u3067\u3059\u304c\u3001https://... \u3067\u52d5\u4f5c\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n\u307e\u3068\u3081\nFlask\u306fBottle\u540c\u69d8\u306b\u8efd\u91cf\u3067\u3042\u308a\u306a\u304c\u3089\u3001SSL\u901a\u4fe1\u307e\u3067\u975e\u5e38\u306b\u7c21\u5358\u306b\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001Bottle\u3068\u6bd4\u8f03\u3059\u308b\u3068\u3001\u89e3\u8aac\u8a18\u4e8b\u306e\u6570\u304c\u96f2\u6ce5\u306e\u5dee\u3068\u3044\u3046\u307b\u3069\u591a\u3044\u3067\u3059\u3002\n\n\u304a\u307e\u3051\n\u30d5\u30a9\u30ed\u30fc\u304a\u5f85\u3061\u3057\u3066\u3044\u307e\u3059\uff01\n\nQiita: Carat \u5409\u5d0e\n\ntwitter\uff1a@carat_yoshizaki\n\n\u306f\u3066\u306a\u30d6\u30ed\u30b0\uff1aCarat COO\u306e\u30d6\u30ed\u30b0\n\n\u30db\u30fc\u30e0\u30da\u30fc\u30b8\uff1aCarat\n\n\n\u30b5\u30fc\u30d3\u30b9\u7d39\u4ecb\n\u300c\u6570\u5b66\u2192\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u2192Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u300d\u307e\u3067\u4e00\u6c17\u306b\u5b66\u3079\u308b\u6a5f\u68b0\u5b66\u7fd2\u306e\u30de\u30f3\u30c4\u30fc\u30de\u30f3\u5bb6\u5ead\u6559\u5e2b\u30b5\u30fc\u30d3\u30b9\u300c\u30ad\u30ab\u30ac\u30af\u300d\u306b\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u304a\u6c17\u8efd\u306b\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u3002\n# \u306f\u3058\u3081\u306b\n\n\u524d\u56de\u3001Bottle\u306730\u5206\u3067\u30c7\u30d7\u30ed\u30a4\u51fa\u6765\u308b\u3068\u3053\u308d\u307e\u3067\u66f8\u304d\u3001Bottle\u306f\u975e\u5e38\u306b\u6271\u3044\u3084\u3059\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001SSL\u901a\u4fe1\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u306b\u306f `cherrypy` \u3092\u4f7f\u3063\u305f\u308a\u3068\u4f55\u304b\u3068\u9762\u5012\u306b\u306a\u3063\u3066\u304d\u305f\u306e\u3067\u3001\u4eca\u5ea6\u306f Bottle \u3068\u4e26\u3093\u3067\u8efd\u91cf\u306aPython\u306eWeb\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308b Flask \u3092\u4f7f\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n## \u958b\u767a\u74b0\u5883\n\n* OS\uff1aCentOS release 6.8\n* Apache\uff1a2.2.15 (Unix)\n* Python 3.5.2\n* mod_wsgi 4.5.6\n\n# \u74b0\u5883\u69cb\u7bc9\u304b\u3089Hello Flask!\u307e\u3067\uff085\u5206\uff09\n\n\u3053\u3061\u3089\u306f\u30ed\u30fc\u30ab\u30eb\uff08\u624b\u5143\u306eMac\uff09\u3067\u4f5c\u696d\u3092\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```bash\n$ pip3 install flask\n```\n\n```py:app.py\n# coding: utf-8\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef hello():\n    return \"Hello, Flask!\"\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n```bash:\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\n$ python3 app.py\n```\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u306e\u300chttp://127.0.0.1:5000\u300d\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n<img width=\"125\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-14 1.30.03.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/130181/b89a7f33-0648-c6da-c55b-260a7d51ecfd.png\">\n\nBottle\u3068\u540c\u69d8\u3001\u8d85\u304a\u624b\u8efd\u3067\u3059\u306d\u3002\n\u4eca\u56de\u306f\u3001DB\u306e\u64cd\u4f5c\u3084\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3064\u3044\u3066\u306f\u89e6\u308c\u307e\u305b\u3093\u304c\u3001\u3082\u3061\u308d\u3093\u305d\u308c\u3089\u3082\u5168\u3066\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n# \u672c\u756a\u74b0\u5883\u3067https\u901a\u4fe1\u307e\u3067\n\n\u3053\u3053\u304b\u3089\u306f\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u4f5c\u696d\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n## \u74b0\u5883\u69cb\u7bc9\uff0810\u5206\uff09\n\n\u306f\u3058\u3081\u306b\u3001CentOS\u3067\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash\n$ sudo yum groupinstall \"development tools\"\n$ sudo yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel\n$ sudo yum install  httpd-devel python-devel\n```\n\n\u305d\u3057\u3066\u3001python3.5\u7cfb\u3068\u3068\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u306epip\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash:python3.5\u3068pip3.5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo su # root\u3067\u64cd\u4f5c\u3057\u3066\u3044\u304d\u307e\u3059\n$ cd /usr/local/src\n$ wget https://www.python.org/ftp/python/3.5.2/Python-3.5.2.tgz\n$ tar zxvf Python-3.5.2.tgz\n$ cd Python-3.5.2\n$ ./configure --enable-shared\n$ make && make altinstall\n$ ln -s /usr/local/bin/python3.5 /usr/bin/python3\n$ ln -s /usr/local/lib/libpython3.5m.so.1.0 /lib64/\n$ python3.5 --version  # \u6700\u5f8c\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\u304c\u3067\u304d\u308c\u3070python\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\nPython 3.5.2\n# \u540c\u6642\u306bpip3.5\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u306e\u3067\u3001\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u8cbc\u308b\n$ ln -s /usr/local/bin/pip3.5 /usr/bin/pip3.5\n$ pip3.5 --version\npip 8.1.1 from /usr/local/lib/python3.5/site-packages (python 3.5)\n```\n\n\u672c\u756a\u74b0\u5883\u306b\u3066\u3001Apache\u3068\u9023\u643a\u3055\u305b\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a mod_wsgi \u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```bash:mod_wsgi\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ cd /usr/local/src\n$ wget https://github.com/GrahamDumpleton/mod_wsgi/archive/4.5.6.tar.gz\n$ tar zxvf 4.5.6.tar.gz\n$ cd mod_wsgi-4.5.6\n$ ./configure --with-apxs=/usr/sbin/apxs --with-python=/usr/local/bin/python3\n$ make && make install\n$ chmod 755 /etc/httpd/modules/mod_wsgi.so \n```\n\n## \u7d44\u307f\u8fbc\u307f\u30b5\u30fc\u30d0\u30fc\u3067Flask\u306e\u52d5\u4f5c\u78ba\u8a8d\uff085\u5206\uff09\n\n\u74b0\u5883\u304c\u63c3\u3063\u305f\u306e\u3067\u3001\u307e\u305a\u306fFlask\u306e\u7d44\u307f\u8fbc\u307f\u30b5\u30fc\u30d0\u30fc\u3067\u52d5\u4f5c\u78ba\u8a8d\u51fa\u6765\u308b\u3068\u3053\u308d\u307e\u3067\u3092\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```bash:Flask\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ pip3.5 install flask\n```\n\n```py:/var/www/html/app.py\n# coding: utf-8\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef hello():\n    return \"Hello, Flask!\"\n\nif __name__ == \"__main__\":\n    app.run(host=\"example.com\", port=8000)\n```\n\n```bash:\u7d44\u307f\u8fbc\u307f\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\n$ python3.5 app.py \n```\n\n\u3053\u308c\u3067 http://example.com:8000 \u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-14 1.39.17.png](https://qiita-image-store.s3.amazonaws.com/0/130181/13a2c102-5864-99db-f18e-cc567374943f.png)\n\n\u3053\u3053\u307e\u3067\u306fOK\u3067\u3059\u3002\n\n## Apache\u3068mod_wsgi\u3067\u672c\u756a\u7528\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\uff0810\u5206\uff09\n\nApache\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```bash:/etc/httpd/conf.d/flask.conf\n# http\u901a\u4fe1\u306fhttps\u901a\u4fe1\u3078\u5f37\u5236\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n<VirtualHost *:80>\n  ServerName example.com:80\n  RewriteEngine on\n  RewriteCond %{HTTP_HOST} ^example\\.com\n  RewriteRule ^/(.*)$ https://example.com/$1 [R=301,L]\n</VirtualHost>\n# https\u901a\u4fe1\u306e\u8a2d\u5b9a\u306f\u3053\u3061\u3089\n<VirtualHost *:443>\n  SSLEngine on\n  SSLProtocol all -SSLv2\n  SSLCertificateKeyFile   /etc/httpd/conf/ssl.key/server.key\n  SSLCertificateChainFile /etc/httpd/conf/ssl.crt/internal.crt\n  SSLCertificateFile      /etc/httpd/conf/ssl.crt/server.crt\n  DocumentRoot /var/www/html/api\n  ServerName example.com:443\n  CustomLog /var/www/html/access.log common\n  ErrorLog  /var/www/html/error.log\n  AddDefaultCharset UTF-8\n  WSGIScriptAlias / /var/www/html/adapter.wsgi\n  <Directory \"/var/www/html/\">\n    options Indexes FollowSymLinks +ExecCGI\n  </Directory>\n</VirtualHost>\n```\n\n```bash:Apache\u306e\u518d\u8d77\u52d5\n$ sudo service httpd restart\n```\n\nSSL\u901a\u4fe1\u306e\u9375\u3084\u8a2d\u5b9a\u306b\u95a2\u3057\u3066\u4e0d\u660e\u306a\u70b9\u304c\u3042\u308b\u65b9\u306f\u3001\u300c[\u3055\u304f\u3089VPS\u306bSSL\u8a3c\u660e\u66f8\u3092\u5c0e\u5165\u3057HTTPS\u901a\u4fe1\u306e\u69cb\u7bc9](http://qiita.com/carat_yoshizaki/items/e6f39a5bfb99900b44b2)\u300d\u3067\u66f8\u3044\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u3061\u3089\u3092\u3054\u89a7\u4e0b\u3055\u3044\u3002\n\nwsgi\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002\n\n```py:/var/www/html/adapter.wsgi\n# coding: utf-8\nimport sys\nsys.path.insert(0, '/var/www/html')\n\nfrom app import app as application\n```\n\n\u3064\u304e\u306b\u3001\u3055\u304d\u307b\u3069\u306e `app.py` \u3082\u672c\u756a\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u591a\u5c11\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```py:/var/www/html/app.py\n# coding: utf-8\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef hello():\n    return \"Hello, Flask!\"\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n\u5909\u66f4\u70b9\u306f\u4ee5\u4e0a\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u308c\u3067\u3001https://example.com \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-11-14 2.13.32.png](https://qiita-image-store.s3.amazonaws.com/0/130181/8aacf60f-1283-419d-d2e8-95c99c1fd604.png)\n\n\u898b\u305f\u76ee\u306f\u540c\u3058\u3067\u3059\u304c\u3001https://... \u3067\u52d5\u4f5c\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\n# \u307e\u3068\u3081\nFlask\u306fBottle\u540c\u69d8\u306b\u8efd\u91cf\u3067\u3042\u308a\u306a\u304c\u3089\u3001SSL\u901a\u4fe1\u307e\u3067\u975e\u5e38\u306b\u7c21\u5358\u306b\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u307e\u305f\u3001Bottle\u3068\u6bd4\u8f03\u3059\u308b\u3068\u3001\u89e3\u8aac\u8a18\u4e8b\u306e\u6570\u304c\u96f2\u6ce5\u306e\u5dee\u3068\u3044\u3046\u307b\u3069\u591a\u3044\u3067\u3059\u3002\n\n\n# \u304a\u307e\u3051\n\n\u30d5\u30a9\u30ed\u30fc\u304a\u5f85\u3061\u3057\u3066\u3044\u307e\u3059\uff01\n\n* Qiita: [Carat \u5409\u5d0e](http://qiita.com/carat_yoshizaki)\n* twitter\uff1a[@carat_yoshizaki](https://twitter.com/carat_yoshizaki)\n* \u306f\u3066\u306a\u30d6\u30ed\u30b0\uff1a[Carat COO\u306e\u30d6\u30ed\u30b0](http://carat-tech.hatenablog.com/)\n* \u30db\u30fc\u30e0\u30da\u30fc\u30b8\uff1a[Carat](http://caratinc.jp)\n\n\u30b5\u30fc\u30d3\u30b9\u7d39\u4ecb\n\u300c\u6570\u5b66\u2192\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u2192Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u300d\u307e\u3067\u4e00\u6c17\u306b\u5b66\u3079\u308b\u6a5f\u68b0\u5b66\u7fd2\u306e\u30de\u30f3\u30c4\u30fc\u30de\u30f3\u5bb6\u5ead\u6559\u5e2b\u30b5\u30fc\u30d3\u30b9\u300c[\u30ad\u30ab\u30ac\u30af](https://kikagaku.net)\u300d\u306b\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u304a\u6c17\u8efd\u306b\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u3002\n", "tags": ["python3", "Flask", "WebAPI", "Apache", "wsgi"]}