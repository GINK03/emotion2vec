{"context": " More than 1 year has passed since last update.\n\npostgresql\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install postgresql postgresql-devel\n\n\nactiverecord-redshift-adapter\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nGemfile\ngem \"activerecord-redshift-adapter\"\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nbundle install\n\n\ndatabase.yml\u306b\u63a5\u7d9a\u60c5\u5831\u3092\u8a18\u8f09\n\ndatabase.yml\nredshift:\n  adapter: redshift\n  database: applog\n  host: *****.**********.ap-northeast-1.redshift.amazonaws.com\n  port: 5439\n  username: app\n  password: \n  encoding: utf8\n  pool: 5\n  timeout: 30000 # \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306f\u9577\u3081\u306b\n\n\n\nSQL\u5b9f\u884c\nActiveRecord::Base.establish_connection(:redshift)\nresult = ActiveRecord::Base.connection.execute \"select * from table_name where log_date='#{d.strftime(\"%Y-%m-%d\")}'\"\nresult.each{|record|\n    p record # hash\n}\n\n\n\u305d\u306e\u4ed6\n\nActiveRecord\u3067\u3082\u4f7f\u3048\u308b\u3088\u3046\u3067\u3059\u304c\u8a66\u3057\u3066\u307e\u305b\u3093\n\u57fa\u672c\u7684\u306b\u306frake\u3084rails runner\u3067\u4f7f\u3046\u3082\u306e\u304b\u3068\u601d\u3044\u307e\u3059\u3002\nrails4\u3067\u52d5\u4f5c\u3057\u307e\u3057\u305f\u3002\n\n\n# postgresql\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nsudo yum install postgresql postgresql-devel\n```\n\n# activerecord-redshift-adapter\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```rb:Gemfile\ngem \"activerecord-redshift-adapter\"\n```\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n```\nbundle install\n```\n\n# database.yml\u306b\u63a5\u7d9a\u60c5\u5831\u3092\u8a18\u8f09\n```yaml:database.yml\nredshift:\n  adapter: redshift\n  database: applog\n  host: *****.**********.ap-northeast-1.redshift.amazonaws.com\n  port: 5439\n  username: app\n  password: \n  encoding: utf8\n  pool: 5\n  timeout: 30000 # \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306f\u9577\u3081\u306b\n```\n\n\n# SQL\u5b9f\u884c\n```rb\nActiveRecord::Base.establish_connection(:redshift)\nresult = ActiveRecord::Base.connection.execute \"select * from table_name where log_date='#{d.strftime(\"%Y-%m-%d\")}'\"\nresult.each{|record|\n\tp record # hash\n}\n```\n\n# \u305d\u306e\u4ed6\n- ActiveRecord\u3067\u3082\u4f7f\u3048\u308b\u3088\u3046\u3067\u3059\u304c\u8a66\u3057\u3066\u307e\u305b\u3093\n- \u57fa\u672c\u7684\u306b\u306frake\u3084rails runner\u3067\u4f7f\u3046\u3082\u306e\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n- rails4\u3067\u52d5\u4f5c\u3057\u307e\u3057\u305f\u3002\n", "tags": ["Rails", "Ruby", "redshift"]}