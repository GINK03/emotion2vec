{"tags": ["Redmine3.1.2"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u73fe\u72b6\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30e1\u30cb\u30e5\u30fc\u306f\u4e0b\u8a18\u753b\u50cf\u306e\u3088\u3046\u306b Overview (\u6982\u8981) \u3084 Activity (\u6d3b\u52d5) \u306a\u3069\u306e\u3053\u3068\u3002\n\n\u901a\u5e38\u306f\u300c\u65b0\u3057\u3044\u30c1\u30b1\u30c3\u30c8\u300d (New issue) \u306e\u30da\u30fc\u30b8\u3092\u958b\u3044\u3066\u3001\u305d\u3053\u3067\u76ee\u7684\u306e\u30c8\u30e9\u30c3\u30ab\u30fc\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u3002\n\n\u8abf\u67fb\n\u30c8\u30e9\u30c3\u30ab\u30fc\u3092\u6307\u5b9a\u3057\u3066\u300c\u65b0\u3057\u3044\u30c1\u30b1\u30c3\u30c8\u300d\u306e\u30da\u30fc\u30b8\u3092\u958b\u304f\u65b9\u6cd5 (URL) \u306f\u3001\u4e0b\u8a18\u30ea\u30f3\u30af\u5148\u3092\u53c2\u8003\u306b\u3057\u305f\u3002\n\"URL to new issue with a specific tracker??\"\nhttps://www.redmine.org/boards/2/topics/14264\n\u305f\u3060\u3057 Redmine 3.1.2 \u3067\u306f\u4e0b\u8a18\nhttp://www.mysite.org/projects/{project}/issues/new?tracker_id={trackerid}\n\n\u3067\u306f\u30c0\u30e1\u3067\u3001\u4e0b\u8a18\nhttp://www.mysite.org/projects/{project}/issues/new?issue[tracker_id]={trackerid}\n\n\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u3002\n\n\u6539\u9020\u306e\u5185\u5bb9\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30e1\u30cb\u30e5\u30fc\u306f\u4e0b\u8a18\u3067\u4f5c\u6210\u3055\u308c\u308b\u3002\n\nhttp://www.redmine.org/projects/redmine/repository/entry/tags/3.1.2/app/views/layouts/base.html.erb#L49\nhttp://www.redmine.org/projects/redmine/repository/entry/tags/3.1.2/lib/redmine/menu_manager.rb\nhttp://www.redmine.org/projects/redmine/repository/entry/tags/3.1.2/lib/redmine.rb#L224\n\n\u30e1\u30cb\u30e5\u30fc\u30a2\u30a4\u30c6\u30e0\u3092\u8ffd\u52a0\u3059\u308b\u3002\u304a\u4f5c\u6cd5\u306b\u5f93\u3063\u3066\u3044\u308b\u306e\u304b\u81ea\u4fe1\u304c\u306a\u3044\u3002\nhttps://gist.github.com/ayweak/ebbecc2a4d047743fd57#file-redmine-rb-diff\n--- a/redmine-3.1.2/lib/redmine.rb  2015-11-14 18:03:27.000000000 +0900\n+++ b/redmine-3.1.2/lib/redmine.rb  2016-01-16 01:32:21.541000000 +0900\n@@ -230,7 +230,19 @@\n   menu.push :new_issue, { :controller => 'issues', :action => 'new', :copy_from => nil }, :param => :project_id, :caption => :label_issue_new,\n               :html => { :accesskey => Redmine::AccessKeys.key_for(:new_issue) },\n               :if => Proc.new { |p| p.trackers.any? },\n-              :permission => :add_issues\n+              :permission => :add_issues,\n+              :children => Proc.new { |p|\n+                p.trackers.map do |t|\n+                  Redmine::MenuManager::MenuItem.new(\n+                    :new_issue_with_specific_tracker,\n+                    {\n+                      :controller => 'issues', :action => 'new', :project_id => p,\n+                      :copy_from => nil, :issue => { :tracker_id => t.id }\n+                    },\n+                    :caption => t.name\n+                  )\n+                end\n+              }\n   menu.push :gantt, { :controller => 'gantts', :action => 'show' }, :param => :project_id, :caption => :label_gantt\n   menu.push :calendar, { :controller => 'calendars', :action => 'show' }, :param => :project_id, :caption => :label_calendar\n   menu.push :news, { :controller => 'news', :action => 'index' }, :param => :project_id, :caption => :label_news_plural\n\n\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\u305f\u3081\u306b CSS \u3092\u4fee\u6b63\u3059\u308b\u3002\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3067\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3002CSS \u306f\u3088\u304f\u5206\u304b\u3063\u3066\u3044\u306a\u304f\u3066\u304a\u304b\u3057\u306a\u66f8\u304d\u65b9\u304b\u3082\u3057\u308c\u306a\u3044\u3002\nhttps://gist.github.com/ayweak/ebbecc2a4d047743fd57#file-application-css-diff\n--- a/redmine-3.1.2/public/stylesheets/application.css  2015-11-14 18:03:29.000000000 +0900\n+++ b/redmine-3.1.2/public/stylesheets/application.css  2016-01-16 01:32:37.221000000 +0900\n@@ -39,6 +39,7 @@\n   margin: 0px 2px 0px 0px;\n   padding: 0px 0px 0px 0px;\n   white-space:nowrap;\n+  position: relative;\n }\n #main-menu li a {\n   display: block;\n@@ -51,6 +52,15 @@\n #main-menu li a:hover {background:#759FCF; color:#fff;}\n #main-menu li a.selected, #main-menu li a.selected:hover {background:#fff; color:#555;}\n\n+#main-menu ul.menu-children {\n+  position: absolute;\n+  background-color: #628DB6; /* equals #header bg color */\n+  min-width: 100%;\n+  display: none;\n+}\n+#main-menu ul.menu-children li {float: none; margin: 0px;}\n+#main-menu li a:hover + ul.menu-children, #main-menu ul.menu-children:hover {display: block; z-index: 1;}\n+\n #admin-menu ul {margin: 0;  padding: 0;}\n #admin-menu li {margin: 0;  padding: 0 0 6px 0; list-style-type:none;}\n\n\n\n\u6539\u9020\u5f8c\u306e\u898b\u305f\u76ee\n\u4e0b\u8a18\u306f\u8ffd\u52a0\u3057\u305f\u5f8c\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3002\n\n\u4e0b\u8a18\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u306e\u3088\u3046\u306b\u3001\u540d\u79f0\u306e\u9577\u3044\u30c8\u30e9\u30c3\u30ab\u30fc\u3067\u3082\u5e45\u304c\u5e83\u304c\u3063\u3066\u8868\u793a\u3067\u304d\u3066\u3044\u308b\u3002\n\n# \u73fe\u72b6\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30e1\u30cb\u30e5\u30fc\u306f\u4e0b\u8a18\u753b\u50cf\u306e\u3088\u3046\u306b Overview (\u6982\u8981) \u3084 Activity (\u6d3b\u52d5) \u306a\u3069\u306e\u3053\u3068\u3002\n\n![Redmine \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30e1\u30cb\u30e5\u30fc](https://qiita-image-store.s3.amazonaws.com/0/38075/8da16b3b-450f-103c-1380-9f278af769ab.png)\n\n\u901a\u5e38\u306f\u300c\u65b0\u3057\u3044\u30c1\u30b1\u30c3\u30c8\u300d (New issue) \u306e\u30da\u30fc\u30b8\u3092\u958b\u3044\u3066\u3001\u305d\u3053\u3067\u76ee\u7684\u306e\u30c8\u30e9\u30c3\u30ab\u30fc\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u3002\n\n# \u8abf\u67fb\n\n\u30c8\u30e9\u30c3\u30ab\u30fc\u3092\u6307\u5b9a\u3057\u3066\u300c\u65b0\u3057\u3044\u30c1\u30b1\u30c3\u30c8\u300d\u306e\u30da\u30fc\u30b8\u3092\u958b\u304f\u65b9\u6cd5 (URL) \u306f\u3001\u4e0b\u8a18\u30ea\u30f3\u30af\u5148\u3092\u53c2\u8003\u306b\u3057\u305f\u3002\n\n\"URL to new issue with a specific tracker??\"\nhttps://www.redmine.org/boards/2/topics/14264\n\n\u305f\u3060\u3057 Redmine 3.1.2 \u3067\u306f\u4e0b\u8a18\n\n```\nhttp://www.mysite.org/projects/{project}/issues/new?tracker_id={trackerid}\n```\n\n\u3067\u306f\u30c0\u30e1\u3067\u3001\u4e0b\u8a18\n\n```\nhttp://www.mysite.org/projects/{project}/issues/new?issue[tracker_id]={trackerid}\n```\n\n\u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u3063\u305f\u3002\n\n# \u6539\u9020\u306e\u5185\u5bb9\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30e1\u30cb\u30e5\u30fc\u306f\u4e0b\u8a18\u3067\u4f5c\u6210\u3055\u308c\u308b\u3002\n\n* http://www.redmine.org/projects/redmine/repository/entry/tags/3.1.2/app/views/layouts/base.html.erb#L49\n* http://www.redmine.org/projects/redmine/repository/entry/tags/3.1.2/lib/redmine/menu_manager.rb\n* http://www.redmine.org/projects/redmine/repository/entry/tags/3.1.2/lib/redmine.rb#L224\n\n\u30e1\u30cb\u30e5\u30fc\u30a2\u30a4\u30c6\u30e0\u3092\u8ffd\u52a0\u3059\u308b\u3002\u304a\u4f5c\u6cd5\u306b\u5f93\u3063\u3066\u3044\u308b\u306e\u304b\u81ea\u4fe1\u304c\u306a\u3044\u3002\n\nhttps://gist.github.com/ayweak/ebbecc2a4d047743fd57#file-redmine-rb-diff\n\n```diff\n--- a/redmine-3.1.2/lib/redmine.rb\t2015-11-14 18:03:27.000000000 +0900\n+++ b/redmine-3.1.2/lib/redmine.rb\t2016-01-16 01:32:21.541000000 +0900\n@@ -230,7 +230,19 @@\n   menu.push :new_issue, { :controller => 'issues', :action => 'new', :copy_from => nil }, :param => :project_id, :caption => :label_issue_new,\n               :html => { :accesskey => Redmine::AccessKeys.key_for(:new_issue) },\n               :if => Proc.new { |p| p.trackers.any? },\n-              :permission => :add_issues\n+              :permission => :add_issues,\n+              :children => Proc.new { |p|\n+                p.trackers.map do |t|\n+                  Redmine::MenuManager::MenuItem.new(\n+                    :new_issue_with_specific_tracker,\n+                    {\n+                      :controller => 'issues', :action => 'new', :project_id => p,\n+                      :copy_from => nil, :issue => { :tracker_id => t.id }\n+                    },\n+                    :caption => t.name\n+                  )\n+                end\n+              }\n   menu.push :gantt, { :controller => 'gantts', :action => 'show' }, :param => :project_id, :caption => :label_gantt\n   menu.push :calendar, { :controller => 'calendars', :action => 'show' }, :param => :project_id, :caption => :label_calendar\n   menu.push :news, { :controller => 'news', :action => 'index' }, :param => :project_id, :caption => :label_news_plural\n```\n\n\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\u305f\u3081\u306b CSS \u3092\u4fee\u6b63\u3059\u308b\u3002\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3067\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3002CSS \u306f\u3088\u304f\u5206\u304b\u3063\u3066\u3044\u306a\u304f\u3066\u304a\u304b\u3057\u306a\u66f8\u304d\u65b9\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\nhttps://gist.github.com/ayweak/ebbecc2a4d047743fd57#file-application-css-diff\n\n```diff\n--- a/redmine-3.1.2/public/stylesheets/application.css\t2015-11-14 18:03:29.000000000 +0900\n+++ b/redmine-3.1.2/public/stylesheets/application.css\t2016-01-16 01:32:37.221000000 +0900\n@@ -39,6 +39,7 @@\n   margin: 0px 2px 0px 0px;\n   padding: 0px 0px 0px 0px;\n   white-space:nowrap;\n+  position: relative;\n }\n #main-menu li a {\n   display: block;\n@@ -51,6 +52,15 @@\n #main-menu li a:hover {background:#759FCF; color:#fff;}\n #main-menu li a.selected, #main-menu li a.selected:hover {background:#fff; color:#555;}\n \n+#main-menu ul.menu-children {\n+  position: absolute;\n+  background-color: #628DB6; /* equals #header bg color */\n+  min-width: 100%;\n+  display: none;\n+}\n+#main-menu ul.menu-children li {float: none; margin: 0px;}\n+#main-menu li a:hover + ul.menu-children, #main-menu ul.menu-children:hover {display: block; z-index: 1;}\n+\n #admin-menu ul {margin: 0;  padding: 0;}\n #admin-menu li {margin: 0;  padding: 0 0 6px 0; list-style-type:none;}\n \n```\n\n# \u6539\u9020\u5f8c\u306e\u898b\u305f\u76ee\n\n\u4e0b\u8a18\u306f\u8ffd\u52a0\u3057\u305f\u5f8c\u306e\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u3002\n\n![\u300c\u30c8\u30e9\u30c3\u30ab\u30fc\u3092\u6307\u5b9a\u3057\u3066\u300e\u65b0\u3057\u3044\u30c1\u30b1\u30c3\u30c8\u300f\u30da\u30fc\u30b8\u3092\u958b\u304f\u300d\u30e1\u30cb\u30e5\u30fc\u30a2\u30a4\u30c6\u30e0\u3092\u8ffd\u52a0](https://qiita-image-store.s3.amazonaws.com/0/38075/0330a0c6-0be7-fa35-b73b-5402c861a889.png)\n\n\u4e0b\u8a18\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8\u306e\u3088\u3046\u306b\u3001\u540d\u79f0\u306e\u9577\u3044\u30c8\u30e9\u30c3\u30ab\u30fc\u3067\u3082\u5e45\u304c\u5e83\u304c\u3063\u3066\u8868\u793a\u3067\u304d\u3066\u3044\u308b\u3002\n\n![\u540d\u79f0\u306e\u9577\u3044\u30c8\u30e9\u30c3\u30ab\u30fc\u304c\u3042\u308b\u5834\u5408](https://qiita-image-store.s3.amazonaws.com/0/38075/4a7202a0-457a-e9c1-ef2a-9e19a7037dbf.png)\n"}