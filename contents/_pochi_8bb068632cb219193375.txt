{"context": " More than 1 year has passed since last update.\u3053\u306e\u8a18\u4e8b\u306f\u300cXamarin Advent Calendar 2015 - Qiita\u300d\u306e10\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u5185\u5bb9\nAndroid/iOS\u3060\u3051\u3067\u306f\u306a\u304f\u3001Windows Desktop\uff0fOSX\u307e\u3067\u542b\u3093\u3060\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u958b\u767a\u3092\u3053\u3093\u306a\u98a8\u306b\u3084\u3063\u3066\u307e\u3059\uff01\n\u3068\u3044\u3046\u8a71\u3092\u3001\u5358\u7d14\u306a\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\u3092\u4f8b\u306b\u3057\u3066\u304a\u5c4a\u3051\u3057\u307e\u3059\u3002\n\n\u5fc5\u8981\u306a\u3082\u306e\n\nVisula Studio 2015\nXamarin Studio\n\nXamarin.Mac/Android/iOS\u306eBusiness License\n\n\n\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\n\u5fc5\u9808\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001\n\u4ee5\u4e0b\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\n\nReactiveProperty\n\nViewModel\uff08\u306b\u9650\u3089\u306a\u3044\u3067\u3059\u304c\uff09\u3092Reactive\u306b\u3044\u308d\u3044\u308d\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\nXamarin.Mac\u3067\u3082\u52d5\u304d\u307e\u3059\uff01\n\nMVVMLight\n\nMessenger\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u3046\u305f\u3081\u3060\u3051\u306b\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u6bd4\u8f03\u7684ViewModel\u306b\u5bfe\u3059\u308b\u8981\u6c42\u304c\u5927\u304d\u3044\uff08ViewModelBase\u3092\u7d99\u627f\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\uff09\u306e\u3067\u3001\n\u307b\u304b\u306e\u8efd\u91cf\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u304c\u3042\u308c\u3070\u305d\u308c\u306b\u4e57\u308a\u63db\u3048\u3066\u3082\u3044\u3044\u304b\u306a\u3001\u3068\u3082\u601d\u3044\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001\u672c\u8a18\u4e8b\u306e\u7bc4\u56f2\u3067\u306f\u4e00\u5207\u51fa\u3066\u304d\u307e\u305b\u3093\u3002\nXamarin.Mac\u3067\u3082\u52d5\u304d\u307e\u3059\uff01\n\nPropertyListener\n\n\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\nXamarin.Mac\u306b\u304a\u3051\u308b\u30aa\u30ec\u30aa\u30ec\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u51e6\u7406\u306b\u5229\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u3066\u307e\u3059\u3002\n\u901f\u5ea6\u306b\u3064\u3044\u3066\u306f\u73fe\u72b6\u6c17\u306b\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\n\u3064\u304f\u3063\u305f\u3082\u306e\n\u300c\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u300d\u3092\u516c\u6b63\u306a\u7acb\u5834\u304b\u3089\u30b8\u30e3\u30c3\u30b8\u3057\u3066\u304f\u308c\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\nWindows(WPF)\n\n\nOSX\n\n\nAndroid/iOS\nXamarin.Forms\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\nAndroid\u7248\u306e\u307f\u4eca\u56de\u30d3\u30eb\u30c9\u3057\u307e\u3057\u305f\u304c\u3001iOS\u3067\u3082\u304d\u3063\u3068\u52d5\u304f\u306f\u305a\u3067\u30591\u3002\n\n\u3067\u306f\u3001\u4ee5\u4e0b\u306b\u4f5c\u696d\u624b\u9806\u3092\u793a\u3057\u307e\u3059\u3002\n\n\u958b\u767a\u3057\u307e\u3059\n\n0.\u307e\u305a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\nModel\u3084ViewModel\u3092\u5b9f\u88c5\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\uff08\u5168\u74b0\u5883\u3080\u3051\u3002PCL\u3067\u3082Shared\u3067\u3082\u304a\u597d\u304d\u306a\u3082\u306e\u3092\uff09\nWPF\u30d7\u30ed\u30b8\u30a7\u30af\u30c8(Windows\u3080\u3051)\nXamarin.Mac\u30d7\u30ed\u30b8\u30a7\u30af\u30c8(OSX\u3080\u3051)\nXamarin.Forms\u30d7\u30ed\u30b8\u30a7\u30af\u30c8(Android/iOS\u3080\u3051)\n\u8a00\u8a9e\u30ea\u30bd\u30fc\u30b9\u3092\u683c\u7d0d\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\uff08\u5168\u74b0\u5883\u3080\u3051\u3002PCL\u3067\u3088\u3044\u3067\u3057\u3087\u3046\uff09\n\n\u90fd\u5408\u306b\u5408\u308f\u305b\u3066\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n1\uff0eModel\u306e\u5b9f\u88c5\n\u30eb\u30fc\u30ec\u30c3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u30e2\u30c7\u30eb\u3067\u3059\u3002Dispose\u51e6\u7406\u7b49\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059\u3002\n\u975e\u5e38\u306b\u516c\u5e73\u306b\u30b8\u30e3\u30c3\u30b8\u3057\u3066\u304f\u308c\u308b\u3053\u3068\u304c\u304a\u5206\u304b\u308a\u3044\u305f\u3060\u3051\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n    class Roulette : IRoulette, IDisposable\n    {\n        private Subject<bool> IsProcessing { get; }\n        private CompositeDisposable Disposables { get; } = new CompositeDisposable();\n        private IReadOnlyCollection<string> Items { get; } = new[] \n        {\n            \"C\",\n            \"C++\",\n            \"Java\",\n            \"Scala\",\n            \"Go\",\n            \"J#\",\n            \"F#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n        };\n\n        public Roulette()\n        {\n            this.IsProcessing = new Subject<bool>().AddTo(this.Disposables);\n            this.StartEvent = new Subject<Unit>().AddTo(this.Disposables);\n            this.StopEvent = new Subject<Unit>().AddTo(this.Disposables);\n            var random = new Random();\n            this.ObservableValue = Observable.Timer(DateTimeOffset.Now, TimeSpan.FromMilliseconds(100))\n                .SkipUntil(StartEvent.Do(_ => IsProcessing.OnNext(true)))\n                .TakeUntil(StopEvent.Do(_ => IsProcessing.OnNext(false)))\n                .Select(value => Items.ElementAt(random.Next(0, Items.Count)))\n                .Repeat();\n        }\n\n        public IObservable<string> ObservableValue { get; }\n\n        IObservable<bool> IRoulette.IsProcessing => this.IsProcessing;\n\n        public void Start()\n        {\n            this.StartEvent.OnNext(Unit.Default);\n        }\n\n        public void Stop()\n        {\n            this.StopEvent.OnNext(Unit.Default);\n        }\n        // \u7565\n    }\n\nStart\u30e1\u30bd\u30c3\u30c9\u30b3\u30fc\u30eb\u5f8c\u3001Stop\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u307e\u3067ObservableValue\u306b\u6587\u5b57\u5217\u3092\u767a\u884c\u3057\u7d9a\u3051\u308b\u3060\u3051\u306e\u5358\u7d14\u306a\u30af\u30e9\u30b9\u3067\u3059\u3002\n\u72b6\u614b\u3092\u793a\u3059IObservable\u3068\u3001Start/Stop\u30e1\u30bd\u30c3\u30c9\u306e\u307f\u3092\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\n2\uff0eViewModel\u306e\u5b9f\u88c5\n1\u753b\u9762\u3057\u304b\u306a\u3044\u30a2\u30d7\u30ea\u306a\u306e\u3067\u3001ViewModel\u30821\u3064\u3060\u3051\u3002\n    public class MainViewModel : ViewModelBase, IDisposable\n    {\n        private CompositeDisposable Disposables { get; } = new CompositeDisposable();\n        private ReactiveCommand _StartCommand { get; }\n        private ReactiveCommand _StopCommand { get; }\n        public MainViewModel(IRoulette roulette)\n        {\n            roulette.AddTo(this.Disposables);\n\n            this.Roulette = roulette.ObservableValue.ToReadOnlyReactiveProperty().AddTo(this.Disposables);\n            this._StopCommand = roulette.IsProcessing.ToReactiveCommand(false).AddTo(this.Disposables);\n            this._StartCommand = roulette.IsProcessing.Select(processing => !processing).ToReactiveCommand(true).AddTo(this.Disposables);\n            this._StartCommand.Subscribe(_ => roulette.Start()).AddTo(this.Disposables);\n            this._StopCommand.Subscribe(_ => roulette.Stop()).AddTo(this.Disposables);\n        }\n\n        public ReadOnlyReactiveProperty<string> Roulette { get; }\n        public ICommand StartCommand => _StartCommand;\n        public ICommand StopCommand => _StopCommand;\n    }\n\n\n\u30e6\u30fc\u30b6\u64cd\u4f5c\u3092ICommand\u3067\u53d7\u3051\u4ed8\u3051\u3001\u305d\u308c\u306b\u57fa\u3065\u3044\u305fRoulette\u30af\u30e9\u30b9\u306b\u5bfe\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306e\u547c\u3073\u51fa\u3057\u3068\u3001\n\u72b6\u614b\u306e\u8868\u793a\u3092\u884c\u3046\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u63d0\u4f9b\u306e\u307f\u3092\u884c\u3044\u307e\u3059\u3002\n\n3\uff0eView\u306e\u5b9f\u88c5\n\u3053\u3053\u3067\u306f\u3058\u3081\u3066\u3001\u5404\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u56fa\u6709\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3059\u3002\n\u3084\u308b\u3053\u3068\u306f\u3001UI\u306e\u5b9a\u7fa9\u3068\u3001ViewModel\u306b\u5bfe\u3059\u308b\u5404\u7a2e\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u306e\u307f\u3067\u3059\u3002\n\nWPF\n\u306a\u3093\u306e\u5909\u54f2\u3082\u306a\u3044MainWindow.xaml\u3067\u3059\u3002Roulette\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u3001\u5404\u30b3\u30de\u30f3\u30c9\u3092\u30dc\u30bf\u30f3\u306b\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u8a00\u8a9e\u30ea\u30bd\u30fc\u30b9\uff08Resources\uff09\u306f\u5225\u30a2\u30bb\u30f3\u30d6\u30ea\u304b\u3089\u5f15\u3063\u5f35\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3002\n<Window x:Class=\"SampleApp.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:SampleApp\"\n        xmlns:Resources=\"clr-namespace:SampleApp.Resources.Properties;assembly=SampleApp.Resources\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"350\" Width=\"325\">\n    <Grid>\n        <StackPanel>\n            <Label Content=\"{x:Static Resources:Resources.Roulette_Title}\" HorizontalAlignment=\"Center\" Margin=\"5\"/>\n            <TextBlock Text=\"{Binding Roulette.Value}\" Margin=\"10\" FontSize=\"20\" FontWeight=\"Bold\" HorizontalAlignment=\"Center\"/>\n            <Button Content=\"Start\" Command=\"{Binding StartCommand}\" Margin=\"5\" Width=\"100\"/>\n            <Button Content=\"Stop\" Command=\"{Binding StopCommand}\" Margin=\"5\" Width=\"100\"/>\n        </StackPanel>\n    </Grid>\n</Window>\n\n\nOSX\n\u6b21\u306bOSX\u5411\u3051\u306bView\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\u4e00\u756a\u6c17\u304c\u91cd\u3044\u4f5c\u696d\u3067\u3059\u3002\n\n\u307e\u305aXCode\u3067\u30d3\u30e5\u30fc\u4f5c\u6210\n\nStoryboard\uff1f\u77e5\u3089\u306a\u3044\u5b50\u3067\u3059\u306d\u2026\u3002\n\nControl\u3092Outlet\u306b\u63a5\u7d9a\n\n\u8a73\u3057\u304f\u306fOSX\u5411\u3051\u958b\u767a\u306e\u8a18\u4e8b\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\uff01\n\n\u30d0\u30a4\u30f3\u30c9\u5b9a\u7fa9\u3092\u8a18\u8ff0\n\u3053\u3053\u307e\u3067\u3067\u3001WindowController\u304b\u3089\u3001Window\u5185\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3084View\u3092\u89e6\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u6b21\u306f\u3001WindowController\u306e\u521d\u671f\u5316\u51e6\u7406\u5185\u3067\u3001View\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3092ViewModel\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u30d0\u30a4\u30f3\u30c9\u3057\u307e\u3059\u3002\n\nAwakeFromNib\nAwakeFromNib\u30e1\u30bd\u30c3\u30c9\u5185\u3067\u30d0\u30a4\u30f3\u30c9\u3092\u884c\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u3001\u306a\u3093\u3068\u306a\u304f\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u308b\u611f\u3092\u611f\u3058\u3066\u3044\u305f\u3060\u3051\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\npublic override void AwakeFromNib()\n{\n    base.AwakeFromNib();\n\n    this.TitleLabel.StringValue = Resources.Properties.Resources.Roulette_Title;\n    BindingUtils.BindTextField(this, this.ViewModel, vm => vm.Roulette.Value, v => v.RouletteLabel).AddTo(this.Disposables);\n    BindingUtils.BindCommand(this, this.ViewModel, vm => vm.StartCommand, v => v.StartButton).AddTo(this.Disposables);\n    BindingUtils.BindCommand(this, this.ViewModel, vm => vm.StopCommand, v => v.StopButton).AddTo(this.Disposables);\n}\n\n\n\n\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u51e6\u7406\u306e\u4e2d\u8eab\n\nNSTextField\u306b\u5bfe\u3059\u308b\u5024\u306e\u30d0\u30a4\u30f3\u30c9\npublic static IDisposable BindTextField<TController, TViewModel>(\n    TController controller,\n    TViewModel viewModel,\n    Expression<Func<TViewModel, object>> displayMemberProperty,\n    Expression<Func<TController, NSTextField>> textFieldProperty,\n    ICommonValueConverter valueConverter = null\n)\n{\n    var disposables = new CompositeDisposable();\n    var textField = textFieldProperty.Compile().Invoke(controller);\n    var listener = new PropertyListener<TViewModel>(viewModel).AddTo(disposables);\n    var displayMemberPropertyCompiled = displayMemberProperty.Compile();\n    textField.StringValue = GetPropertyValueConverted(displayMemberPropertyCompiled, viewModel, valueConverter);\n\n    listener.RegisterHandler(displayMemberProperty, () =>\n    {\n        textField.StringValue = GetPropertyValueConverted(displayMemberPropertyCompiled, viewModel, valueConverter);\n    });\n\n    textField.ChangedAsObservable().Subscribe(_ =>\n    {\n        displayMemberProperty.SetPropertyValue(viewModel, valueConverter != null ? valueConverter.ConvertBack(textField.StringValue, typeof(object), null, CultureInfo.CurrentCulture) : textField.StringValue);\n    }).AddTo(disposables);\n\n    return disposables;\n}\n\nViewModel\u5074\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5909\u66f4\u304c\u3042\u3063\u305f\u5834\u5408\u306b\u306f\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u306b\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\n\u53cd\u5bfe\u306b\u3001NSTextField\u306e\u5185\u5bb9\u304c\u5909\u66f4\u3055\u308c\u305f\u5834\u5408\u3082\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5024\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5909\u66f4\u691c\u77e5\u306fPropertyListener\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\nNSButton\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306e\u30d0\u30a4\u30f3\u30c9\n\npublic static IDisposable BindCommand<TController, TViewModel>(\n    TController controller,\n    TViewModel viewModel,\n    Expression<Func<TViewModel, ICommand>> commandProperty,\n    Expression<Func<TController, NSControl>> buttonProperty)\n{\n    var disposables = new CompositeDisposable();\n    var target = buttonProperty.Compile ().Invoke (controller);\n    var command = commandProperty.Compile ().Invoke (viewModel);\n\n    target.ActivatedAsObservable().Subscribe(_ => command.Execute(null)).AddTo(disposables);\n    Observable.FromEventPattern(command, \"CanExecuteChanged\").Subscribe(x => target.Enabled = command.CanExecute(null)).AddTo(disposables);\n    return disposables;\n} \n\nICommand\u306eCanExecuteChanged\u30a4\u30d9\u30f3\u30c8\u3092\u691c\u77e5\u3057\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u306e\u72b6\u614b(Enable/Disable)\u306b\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30af\u30ea\u30c3\u30af\u6642\uff08Activated\u30a4\u30d9\u30f3\u30c8\u767a\u706b\u6642\uff09\u306b\u3001ICommand\u3092execute\u3057\u307e\u3059\u3002\n\u4ee5\u4e0a\u3067OSX\u5411\u3051\u306e\u5b9f\u88c5\u306f\u7d42\u4e86\u3067\u3059\u3002\n\nAndroid/iOS\n\u6700\u5f8c\u306b\u3001\u30e2\u30d0\u30a4\u30eb\u5411\u3051\u306eView\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\u3068\u3063\u3066\u3082\u4fbf\u5229\u306a\u306e\u3067Xamarin.Forms\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nWPF\u306eXAML\u3068\u307b\u307c\u540c\u3058\u611f\u899a\u3067\u66f8\u3051\u3066\u5e78\u305b\u3002\u5916\u90e8\u30a2\u30bb\u30f3\u30d6\u30ea\u304b\u3089\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u8aad\u307f\u8fbc\u307f\u3082\u3067\u304d\u3061\u3083\u3044\u307e\u3059\u3002\n<?xml version=\"1.0\" encoding=\"utf-8\" ?>\n<ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n             x:Class=\"SampleApp.Mobile.MainPage\"\n             xmlns:Resources=\"clr-namespace:SampleApp.Resources.Properties;assembly=SampleApp.Resources\"\n             >\n  <Grid Padding=\"10\">\n    <Grid.RowDefinitions>\n      <RowDefinition Height=\"auto\"/>\n      <RowDefinition Height=\"auto\"/>\n      <RowDefinition Height=\"auto\"/>\n      <RowDefinition Height=\"auto\"/>\n    </Grid.RowDefinitions>\n    <Label Text=\"{x:Static Resources:Resources.Roulette_Title}\" VerticalOptions=\"Center\" HorizontalOptions=\"Center\" />\n    <Label Text=\"{Binding Roulette.Value}\" VerticalOptions=\"Center\" HorizontalOptions=\"Center\" Grid.Row=\"1\"/>\n    <Button Text=\"Start\" Command=\"{Binding StartCommand}\" Grid.Row=\"2\" HorizontalOptions=\"Center\"/>\n    <Button Text=\"Stop\" Command=\"{Binding StopCommand}\" Grid.Row=\"3\" HorizontalOptions=\"Center\"/>\n  </Grid>\n</ContentPage>\n\n\u307b\u3068\u3093\u3069Windows\u5411\u3051\u306eXAML\u3068\u540c\u69d8\u306e\u8a18\u8ff0\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u306d\u3002\n\u3053\u308c\u3060\u3051\u3067\u3059\u3002\n\n4\uff0e\u5b8c\u6210\uff01\uff01\n\u3084\u3063\u305f\u306d\uff01\n\n\u6240\u611f\nModel\uff5eViewModel\u306e\u30ec\u30a4\u30e4\u30fc\u307e\u3067\u306f\u3001\u6700\u5f37\u306eIDE\u3067\u3042\u308bVisualStudio2\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3092\u8a70\u3081\u3089\u308c\u307e\u3059\u3002\n\u305d\u308c\u304c\u4f55\u3088\u308a\u7d20\u6674\u3089\u3057\u3044\u3067\u3059\u306d\u3002\n\u307e\u305fView\u3082\u3001WPF/Xamarin.Forms\u306b\u3064\u3044\u3066\u306fXAML\u3067\u30ac\u30b7\u30ac\u30b7\u304b\u3051\u308b\u306e\u3067\u975e\u5e38\u306b\u30b9\u30e0\u30fc\u30ba\u306b\u958b\u767a\u304c\u53ef\u80fd\u3067\u3059\u3002\nXamarin.Forms\u306eXAML\u3082\u3060\u3044\u3076\u66f8\u304d\u3084\u3059\u304f\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\u3068\u3053\u308d\u304c\u3001OSX\u306b\u3064\u3044\u3066\u306f\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u306e\u5185\u90e8\u51e6\u7406\uff08BindingUtils.BindXXX\u7cfb\uff09\u3092\u81ea\u8eab\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u30593\u306e\u3067\u3001\u6700\u521d\u306e\u307b\u3046\u306f\u8f9b\u304b\u3063\u305f\u3067\u3059\u3002\n\u305f\u3060\u3057\u3001\u4e00\u901a\u308a\u5fc5\u8981\u306a\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u5185\u90e8\u51e6\u7406\u3092\u66f8\u3044\u3066\u3057\u307e\u3048\u3070\u3001\u975e\u5e38\u306b\u5c11\u306a\u3044\u5de5\u6570\u3067OSX\u5411\u3051\u306eView\u3082\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff01\n\u3042\u30fc\u5e78\u305b\uff01\n\n\u66f8\u3051\u306a\u304b\u3063\u305f\u3053\u3068\n\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\uff0f\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u306e\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u958b\u767a\u306b\u304a\u3044\u3066\u306f\u3001\n\u30c0\u30a4\u30a2\u30ed\u30b0\u306a\u3069\u306b\u3088\u308b\u30e6\u30fc\u30b6\u3078\u306e\u901a\u77e5\u3084\u3001\n\u753b\u9762\u9077\u79fb\u51e6\u7406\u306e\u62bd\u8c61\u5316\u304cViewModel\u306b\u304a\u3044\u3066\u4e0d\u53ef\u6b20\u3067\u3059\u3002\n\u307e\u305f\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u306b\u642d\u8f09\u3057\u3066\u3044\u308b\u5168\u6a5f\u80fd\u304c\n\u30e2\u30d0\u30a4\u30eb\u306b\u304a\u3044\u3066\u5fc5\u8981\u306b\u306a\u308b\u3053\u3068\u3082\u8003\u3048\u306b\u304f\u3044\u3067\u3059\u3057\u3001\n\u305d\u3082\u305d\u3082\u753b\u9762\u306e\u52d5\u7dda\u3084\u8868\u793a\u5185\u5bb9\u304c\u7570\u306a\u308b\u3053\u3068\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u3002\n\u305d\u306e\u3042\u305f\u308a\u3092\u3069\u3046\u6298\u308a\u5408\u3044\u3092\u3064\u3051\u3066\u3044\u308b\u304b\u306f\u3001\n\u8ffd\u3005\u8a18\u4e8b\u306b\u3067\u304d\u308c\u3070\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u30024\n\u307b\u304b\u306b\u3082\u3001VisualStudio/C#\u306f\u3001\u30cd\u30a4\u30c6\u30a3\u30d6\u30e9\u30a4\u30d6\u30e9\u30ea\u547c\u3073\u51fa\u3057\u3092\u4f34\u3046\u958b\u767a\u304c\n\u30c7\u30d0\u30c3\u30b0\u9762\u3067\u3082\u975e\u5e38\u306b\u5feb\u9069\u306a\u306e\u3067\u3001\u305d\u306e\u70b9\u306b\u3064\u3044\u3066\u3082\u305d\u306e\u3046\u3061\u66f8\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u307e\u3068\u3081\n\u4ee5\u4e0a\u3001\u975e\u5e38\u306b\u3056\u3063\u304f\u308a\u3068\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\n\u79c1\u81ea\u8eab\u304c\u884c\u3063\u3066\u3044\u308b\u3001Xamarin\u3092\u4f7f\u3063\u305f\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u958b\u767a\u306e\u6d41\u308c\u3092\u7d39\u4ecb\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\u5404\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u56fa\u6709\u306e\u5b9f\u88c5\u306f\u3042\u307e\u308a\u591a\u304f\u306a\u3044\uff01\u5e78\u305b\u305d\u3046\uff01\n\u3068\u3044\u3046\u3053\u3068\u304c\u308f\u304b\u3063\u3066\u3044\u305f\u3060\u3051\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\u3042\u3001\u3042\u3068\u3067\u914d\u7f6e\u3057\u3066\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n\n\n\niOS\u306e\u30d3\u30eb\u30c9\u3057\u3088\u3046\u3068\u3057\u305f\u3089Xamarin.iOS\u304c\u4e0d\u6a5f\u5acc\u3067\u56fa\u307e\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3042\u304d\u3089\u3081\u307e\u3057\u305f\u00a0\u21a9\n\n\n\u500b\u4eba\u306e\u898b\u89e3\u3067\u3059\u3002\u00a0\u21a9\n\n\nMvvmCross/ReactiveUI\u7b49\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u3042\u308b\u306b\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u5c0e\u5165\u304c\u56f0\u96e3\u3067\u3042\u3063\u305f\u308a\u304b\u3086\u3044\u3068\u3053\u308d\u306b\u624b\u304c\u5c4a\u304b\u306a\u304b\u3063\u305f\u308a\u3067\u3001\u79c1\u306f\u65ad\u5ff5\u3057\u307e\u3057\u305f\u3002\u3002\u00a0\u21a9\n\n\n\u76ee\u4e0b\u8a66\u884c\u932f\u8aa4\u4e2d\u2026\u3002\u00a0\u21a9\n\n\n\n\n\u3053\u306e\u8a18\u4e8b\u306f[\u300cXamarin Advent Calendar 2015 - Qiita\u300d](http://qiita.com/advent-calendar/2015/xamarin)\u306e10\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n# \u5185\u5bb9\nAndroid/iOS\u3060\u3051\u3067\u306f\u306a\u304f\u3001Windows Desktop\uff0fOSX\u307e\u3067\u542b\u3093\u3060\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u958b\u767a\u3092\u3053\u3093\u306a\u98a8\u306b\u3084\u3063\u3066\u307e\u3059\uff01\n\u3068\u3044\u3046\u8a71\u3092\u3001\u5358\u7d14\u306a\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\u3092\u4f8b\u306b\u3057\u3066\u304a\u5c4a\u3051\u3057\u307e\u3059\u3002\n\n# \u5fc5\u8981\u306a\u3082\u306e\n* Visula Studio 2015\n* Xamarin Studio\n* **Xamarin.Mac**/Android/iOS\u306eBusiness License\n\n# \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\n\u5fc5\u9808\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001\n\u4ee5\u4e0b\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\n\n# [ReactiveProperty](https://github.com/runceel/ReactiveProperty)\nViewModel\uff08\u306b\u9650\u3089\u306a\u3044\u3067\u3059\u304c\uff09\u3092Reactive\u306b\u3044\u308d\u3044\u308d\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n**Xamarin.Mac\u3067\u3082\u52d5\u304d\u307e\u3059\uff01**\n\n# [MVVMLight](https://mvvmlight.codeplex.com/)\nMessenger\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u3046\u305f\u3081\u3060\u3051\u306b\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\u6bd4\u8f03\u7684ViewModel\u306b\u5bfe\u3059\u308b\u8981\u6c42\u304c\u5927\u304d\u3044\uff08ViewModelBase\u3092\u7d99\u627f\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\uff09\u306e\u3067\u3001\n\u307b\u304b\u306e\u8efd\u91cf\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u304c\u3042\u308c\u3070\u305d\u308c\u306b\u4e57\u308a\u63db\u3048\u3066\u3082\u3044\u3044\u304b\u306a\u3001\u3068\u3082\u601d\u3044\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001\u672c\u8a18\u4e8b\u306e\u7bc4\u56f2\u3067\u306f\u4e00\u5207\u51fa\u3066\u304d\u307e\u305b\u3093\u3002\n**Xamarin.Mac\u3067\u3082\u52d5\u304d\u307e\u3059\uff01**\n## [PropertyListener](http://qiita.com/gaya_K/items/d1f80a295281375adc4c)\n\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u975e\u5e38\u306b\u4fbf\u5229\u3067\u3059\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002\nXamarin.Mac\u306b\u304a\u3051\u308b\u30aa\u30ec\u30aa\u30ec\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u51e6\u7406\u306b\u5229\u7528\u3055\u305b\u3066\u3044\u305f\u3060\u3044\u3066\u307e\u3059\u3002\n\n\u901f\u5ea6\u306b\u3064\u3044\u3066\u306f\u73fe\u72b6\u6c17\u306b\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\n\n# \u3064\u304f\u3063\u305f\u3082\u306e\n\n\u300c\u3042\u306a\u305f\u306b\u304a\u3059\u3059\u3081\u306e\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u300d\u3092\u516c\u6b63\u306a\u7acb\u5834\u304b\u3089\u30b8\u30e3\u30c3\u30b8\u3057\u3066\u304f\u308c\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n## Windows(WPF)\n![win.gif](https://qiita-image-store.s3.amazonaws.com/0/46184/b460a243-2c0b-ea44-af69-7ebbcab863c2.gif)\n\n## OSX\n![osx.gif](https://qiita-image-store.s3.amazonaws.com/0/46184/66021d0f-1373-131f-bec6-248802b97b27.gif)\n\n## Android/iOS\nXamarin.Forms\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\nAndroid\u7248\u306e\u307f\u4eca\u56de\u30d3\u30eb\u30c9\u3057\u307e\u3057\u305f\u304c\u3001iOS\u3067\u3082\u304d\u3063\u3068\u52d5\u304f\u306f\u305a\u3067\u3059[^1]\u3002\n\n![android.gif](https://qiita-image-store.s3.amazonaws.com/0/46184/aaf31836-4959-5803-0196-de2dc5fd20b7.gif)\n\n\u3067\u306f\u3001\u4ee5\u4e0b\u306b\u4f5c\u696d\u624b\u9806\u3092\u793a\u3057\u307e\u3059\u3002\n\n# \u958b\u767a\u3057\u307e\u3059\n## 0.\u307e\u305a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u69cb\u6210\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n* Model\u3084ViewModel\u3092\u5b9f\u88c5\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\uff08\u5168\u74b0\u5883\u3080\u3051\u3002PCL\u3067\u3082Shared\u3067\u3082\u304a\u597d\u304d\u306a\u3082\u306e\u3092\uff09\n* WPF\u30d7\u30ed\u30b8\u30a7\u30af\u30c8(Windows\u3080\u3051)\n* Xamarin.Mac\u30d7\u30ed\u30b8\u30a7\u30af\u30c8(OSX\u3080\u3051)\n* Xamarin.Forms\u30d7\u30ed\u30b8\u30a7\u30af\u30c8(Android/iOS\u3080\u3051)\n* \u8a00\u8a9e\u30ea\u30bd\u30fc\u30b9\u3092\u683c\u7d0d\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\uff08\u5168\u74b0\u5883\u3080\u3051\u3002PCL\u3067\u3088\u3044\u3067\u3057\u3087\u3046\uff09\n\n\u90fd\u5408\u306b\u5408\u308f\u305b\u3066\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## 1\uff0eModel\u306e\u5b9f\u88c5\n\u30eb\u30fc\u30ec\u30c3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u30e2\u30c7\u30eb\u3067\u3059\u3002Dispose\u51e6\u7406\u7b49\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059\u3002\n\u975e\u5e38\u306b\u516c\u5e73\u306b\u30b8\u30e3\u30c3\u30b8\u3057\u3066\u304f\u308c\u308b\u3053\u3068\u304c\u304a\u5206\u304b\u308a\u3044\u305f\u3060\u3051\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```csharp\n    class Roulette : IRoulette, IDisposable\n    {\n        private Subject<bool> IsProcessing { get; }\n        private CompositeDisposable Disposables { get; } = new CompositeDisposable();\n        private IReadOnlyCollection<string> Items { get; } = new[] \n        {\n            \"C\",\n            \"C++\",\n            \"Java\",\n            \"Scala\",\n            \"Go\",\n            \"J#\",\n            \"F#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n            \"C#\",\n        };\n\n        public Roulette()\n        {\n            this.IsProcessing = new Subject<bool>().AddTo(this.Disposables);\n            this.StartEvent = new Subject<Unit>().AddTo(this.Disposables);\n            this.StopEvent = new Subject<Unit>().AddTo(this.Disposables);\n            var random = new Random();\n            this.ObservableValue = Observable.Timer(DateTimeOffset.Now, TimeSpan.FromMilliseconds(100))\n                .SkipUntil(StartEvent.Do(_ => IsProcessing.OnNext(true)))\n                .TakeUntil(StopEvent.Do(_ => IsProcessing.OnNext(false)))\n                .Select(value => Items.ElementAt(random.Next(0, Items.Count)))\n                .Repeat();\n        }\n\n        public IObservable<string> ObservableValue { get; }\n\n        IObservable<bool> IRoulette.IsProcessing => this.IsProcessing;\n\n        public void Start()\n        {\n            this.StartEvent.OnNext(Unit.Default);\n        }\n\n        public void Stop()\n        {\n            this.StopEvent.OnNext(Unit.Default);\n        }\n        // \u7565\n    }\n```\n\nStart\u30e1\u30bd\u30c3\u30c9\u30b3\u30fc\u30eb\u5f8c\u3001Stop\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u308b\u307e\u3067ObservableValue\u306b\u6587\u5b57\u5217\u3092\u767a\u884c\u3057\u7d9a\u3051\u308b\u3060\u3051\u306e\u5358\u7d14\u306a\u30af\u30e9\u30b9\u3067\u3059\u3002\n\u72b6\u614b\u3092\u793a\u3059IObservable\u3068\u3001Start/Stop\u30e1\u30bd\u30c3\u30c9\u306e\u307f\u3092\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\n\n## 2\uff0eViewModel\u306e\u5b9f\u88c5\n\n1\u753b\u9762\u3057\u304b\u306a\u3044\u30a2\u30d7\u30ea\u306a\u306e\u3067\u3001ViewModel\u30821\u3064\u3060\u3051\u3002\n\n```csharp\n    public class MainViewModel : ViewModelBase, IDisposable\n    {\n        private CompositeDisposable Disposables { get; } = new CompositeDisposable();\n        private ReactiveCommand _StartCommand { get; }\n        private ReactiveCommand _StopCommand { get; }\n        public MainViewModel(IRoulette roulette)\n        {\n            roulette.AddTo(this.Disposables);\n\n            this.Roulette = roulette.ObservableValue.ToReadOnlyReactiveProperty().AddTo(this.Disposables);\n            this._StopCommand = roulette.IsProcessing.ToReactiveCommand(false).AddTo(this.Disposables);\n            this._StartCommand = roulette.IsProcessing.Select(processing => !processing).ToReactiveCommand(true).AddTo(this.Disposables);\n            this._StartCommand.Subscribe(_ => roulette.Start()).AddTo(this.Disposables);\n            this._StopCommand.Subscribe(_ => roulette.Stop()).AddTo(this.Disposables);\n        }\n\n        public ReadOnlyReactiveProperty<string> Roulette { get; }\n        public ICommand StartCommand => _StartCommand;\n        public ICommand StopCommand => _StopCommand;\n    }\n\n```\n\u30e6\u30fc\u30b6\u64cd\u4f5c\u3092ICommand\u3067\u53d7\u3051\u4ed8\u3051\u3001\u305d\u308c\u306b\u57fa\u3065\u3044\u305fRoulette\u30af\u30e9\u30b9\u306b\u5bfe\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306e\u547c\u3073\u51fa\u3057\u3068\u3001\n\u72b6\u614b\u306e\u8868\u793a\u3092\u884c\u3046\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u63d0\u4f9b\u306e\u307f\u3092\u884c\u3044\u307e\u3059\u3002\n\n## 3\uff0eView\u306e\u5b9f\u88c5\n\u3053\u3053\u3067\u306f\u3058\u3081\u3066\u3001\u5404\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u56fa\u6709\u306e\u5b9f\u88c5\u3092\u884c\u3044\u307e\u3059\u3002\n\u3084\u308b\u3053\u3068\u306f\u3001UI\u306e\u5b9a\u7fa9\u3068\u3001ViewModel\u306b\u5bfe\u3059\u308b\u5404\u7a2e\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u306e\u307f\u3067\u3059\u3002\n\n### WPF\n\n\u306a\u3093\u306e\u5909\u54f2\u3082\u306a\u3044MainWindow.xaml\u3067\u3059\u3002Roulette\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30c6\u30ad\u30b9\u30c8\u30dc\u30c3\u30af\u30b9\u306b\u3001\u5404\u30b3\u30de\u30f3\u30c9\u3092\u30dc\u30bf\u30f3\u306b\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b\u8a00\u8a9e\u30ea\u30bd\u30fc\u30b9\uff08Resources\uff09\u306f\u5225\u30a2\u30bb\u30f3\u30d6\u30ea\u304b\u3089\u5f15\u3063\u5f35\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3002\n\n```xml\n<Window x:Class=\"SampleApp.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:SampleApp\"\n        xmlns:Resources=\"clr-namespace:SampleApp.Resources.Properties;assembly=SampleApp.Resources\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"350\" Width=\"325\">\n    <Grid>\n        <StackPanel>\n            <Label Content=\"{x:Static Resources:Resources.Roulette_Title}\" HorizontalAlignment=\"Center\" Margin=\"5\"/>\n            <TextBlock Text=\"{Binding Roulette.Value}\" Margin=\"10\" FontSize=\"20\" FontWeight=\"Bold\" HorizontalAlignment=\"Center\"/>\n            <Button Content=\"Start\" Command=\"{Binding StartCommand}\" Margin=\"5\" Width=\"100\"/>\n            <Button Content=\"Stop\" Command=\"{Binding StopCommand}\" Margin=\"5\" Width=\"100\"/>\n        </StackPanel>\n    </Grid>\n</Window>\n```\n\n\n### OSX\n\n\u6b21\u306bOSX\u5411\u3051\u306bView\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\u4e00\u756a\u6c17\u304c\u91cd\u3044\u4f5c\u696d\u3067\u3059\u3002\n\n#### \u307e\u305aXCode\u3067\u30d3\u30e5\u30fc\u4f5c\u6210\n![xib](https://qiita-image-store.s3.amazonaws.com/0/46184/4e03fc17-6416-4b25-8266-8e967fe5cd98.png)\nStoryboard\uff1f\u77e5\u3089\u306a\u3044\u5b50\u3067\u3059\u306d\u2026\u3002\n\n#### Control\u3092Outlet\u306b\u63a5\u7d9a\n![outlet.png](https://qiita-image-store.s3.amazonaws.com/0/46184/f417e300-5f6d-1d13-1983-1f24394222f8.png)\n\u8a73\u3057\u304f\u306fOSX\u5411\u3051\u958b\u767a\u306e\u8a18\u4e8b\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\uff01\n\n#### \u30d0\u30a4\u30f3\u30c9\u5b9a\u7fa9\u3092\u8a18\u8ff0\n\n\u3053\u3053\u307e\u3067\u3067\u3001WindowController\u304b\u3089\u3001Window\u5185\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3084View\u3092\u89e6\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u6b21\u306f\u3001WindowController\u306e\u521d\u671f\u5316\u51e6\u7406\u5185\u3067\u3001View\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3092ViewModel\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u30d0\u30a4\u30f3\u30c9\u3057\u307e\u3059\u3002\n\n#### AwakeFromNib\nAwakeFromNib\u30e1\u30bd\u30c3\u30c9\u5185\u3067\u30d0\u30a4\u30f3\u30c9\u3092\u884c\u3044\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u3001\u306a\u3093\u3068\u306a\u304f**\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u308b\u611f**\u3092\u611f\u3058\u3066\u3044\u305f\u3060\u3051\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n```csharp\npublic override void AwakeFromNib()\n{\n    base.AwakeFromNib();\n\n    this.TitleLabel.StringValue = Resources.Properties.Resources.Roulette_Title;\n    BindingUtils.BindTextField(this, this.ViewModel, vm => vm.Roulette.Value, v => v.RouletteLabel).AddTo(this.Disposables);\n    BindingUtils.BindCommand(this, this.ViewModel, vm => vm.StartCommand, v => v.StartButton).AddTo(this.Disposables);\n    BindingUtils.BindCommand(this, this.ViewModel, vm => vm.StopCommand, v => v.StopButton).AddTo(this.Disposables);\n}\n\n```\n\n#### \u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u51e6\u7406\u306e\u4e2d\u8eab\n##### NSTextField\u306b\u5bfe\u3059\u308b\u5024\u306e\u30d0\u30a4\u30f3\u30c9\n```csharp\npublic static IDisposable BindTextField<TController, TViewModel>(\n    TController controller,\n    TViewModel viewModel,\n    Expression<Func<TViewModel, object>> displayMemberProperty,\n    Expression<Func<TController, NSTextField>> textFieldProperty,\n    ICommonValueConverter valueConverter = null\n)\n{\n    var disposables = new CompositeDisposable();\n    var textField = textFieldProperty.Compile().Invoke(controller);\n    var listener = new PropertyListener<TViewModel>(viewModel).AddTo(disposables);\n    var displayMemberPropertyCompiled = displayMemberProperty.Compile();\n    textField.StringValue = GetPropertyValueConverted(displayMemberPropertyCompiled, viewModel, valueConverter);\n\n    listener.RegisterHandler(displayMemberProperty, () =>\n    {\n        textField.StringValue = GetPropertyValueConverted(displayMemberPropertyCompiled, viewModel, valueConverter);\n    });\n\n    textField.ChangedAsObservable().Subscribe(_ =>\n    {\n        displayMemberProperty.SetPropertyValue(viewModel, valueConverter != null ? valueConverter.ConvertBack(textField.StringValue, typeof(object), null, CultureInfo.CurrentCulture) : textField.StringValue);\n    }).AddTo(disposables);\n\n    return disposables;\n}\n```\nViewModel\u5074\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5909\u66f4\u304c\u3042\u3063\u305f\u5834\u5408\u306b\u306f\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u306b\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\n\u53cd\u5bfe\u306b\u3001NSTextField\u306e\u5185\u5bb9\u304c\u5909\u66f4\u3055\u308c\u305f\u5834\u5408\u3082\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5024\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5909\u66f4\u691c\u77e5\u306fPropertyListener\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n##### NSButton\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306e\u30d0\u30a4\u30f3\u30c9\n```csharp\n\npublic static IDisposable BindCommand<TController, TViewModel>(\n    TController controller,\n    TViewModel viewModel,\n    Expression<Func<TViewModel, ICommand>> commandProperty,\n    Expression<Func<TController, NSControl>> buttonProperty)\n{\n    var disposables = new CompositeDisposable();\n    var target = buttonProperty.Compile ().Invoke (controller);\n    var command = commandProperty.Compile ().Invoke (viewModel);\n\n    target.ActivatedAsObservable().Subscribe(_ => command.Execute(null)).AddTo(disposables);\n    Observable.FromEventPattern(command, \"CanExecuteChanged\").Subscribe(x => target.Enabled = command.CanExecute(null)).AddTo(disposables);\n    return disposables;\n} \n```\n\nICommand\u306eCanExecuteChanged\u30a4\u30d9\u30f3\u30c8\u3092\u691c\u77e5\u3057\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u306e\u72b6\u614b(Enable/Disable)\u306b\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\n\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30af\u30ea\u30c3\u30af\u6642\uff08Activated\u30a4\u30d9\u30f3\u30c8\u767a\u706b\u6642\uff09\u306b\u3001ICommand\u3092execute\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0a\u3067OSX\u5411\u3051\u306e\u5b9f\u88c5\u306f\u7d42\u4e86\u3067\u3059\u3002\n\n\n### Android/iOS\n\u6700\u5f8c\u306b\u3001\u30e2\u30d0\u30a4\u30eb\u5411\u3051\u306eView\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\u3068\u3063\u3066\u3082\u4fbf\u5229\u306a\u306e\u3067Xamarin.Forms\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\nWPF\u306eXAML\u3068\u307b\u307c\u540c\u3058\u611f\u899a\u3067\u66f8\u3051\u3066\u5e78\u305b\u3002\u5916\u90e8\u30a2\u30bb\u30f3\u30d6\u30ea\u304b\u3089\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u8aad\u307f\u8fbc\u307f\u3082\u3067\u304d\u3061\u3083\u3044\u307e\u3059\u3002\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\" ?>\n<ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n             x:Class=\"SampleApp.Mobile.MainPage\"\n             xmlns:Resources=\"clr-namespace:SampleApp.Resources.Properties;assembly=SampleApp.Resources\"\n             >\n  <Grid Padding=\"10\">\n    <Grid.RowDefinitions>\n      <RowDefinition Height=\"auto\"/>\n      <RowDefinition Height=\"auto\"/>\n      <RowDefinition Height=\"auto\"/>\n      <RowDefinition Height=\"auto\"/>\n    </Grid.RowDefinitions>\n  \t<Label Text=\"{x:Static Resources:Resources.Roulette_Title}\" VerticalOptions=\"Center\" HorizontalOptions=\"Center\" />\n  \t<Label Text=\"{Binding Roulette.Value}\" VerticalOptions=\"Center\" HorizontalOptions=\"Center\" Grid.Row=\"1\"/>\n    <Button Text=\"Start\" Command=\"{Binding StartCommand}\" Grid.Row=\"2\" HorizontalOptions=\"Center\"/>\n    <Button Text=\"Stop\" Command=\"{Binding StopCommand}\" Grid.Row=\"3\" HorizontalOptions=\"Center\"/>\n  </Grid>\n</ContentPage>\n```\n\u307b\u3068\u3093\u3069Windows\u5411\u3051\u306eXAML\u3068\u540c\u69d8\u306e\u8a18\u8ff0\u304c\u3067\u304d\u3066\u3044\u307e\u3059\u306d\u3002\n\u3053\u308c\u3060\u3051\u3067\u3059\u3002\n\n## 4\uff0e\u5b8c\u6210\uff01\uff01\n\u3084\u3063\u305f\u306d\uff01\n\n# \u6240\u611f\nModel\uff5eViewModel\u306e\u30ec\u30a4\u30e4\u30fc\u307e\u3067\u306f\u3001**\u6700\u5f37\u306eIDE\u3067\u3042\u308bVisualStudio**[^2]\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3092\u8a70\u3081\u3089\u308c\u307e\u3059\u3002\n\u305d\u308c\u304c\u4f55\u3088\u308a\u7d20\u6674\u3089\u3057\u3044\u3067\u3059\u306d\u3002\n\n\u307e\u305fView\u3082\u3001WPF/Xamarin.Forms\u306b\u3064\u3044\u3066\u306fXAML\u3067\u30ac\u30b7\u30ac\u30b7\u304b\u3051\u308b\u306e\u3067\u975e\u5e38\u306b\u30b9\u30e0\u30fc\u30ba\u306b\u958b\u767a\u304c\u53ef\u80fd\u3067\u3059\u3002\nXamarin.Forms\u306eXAML\u3082\u3060\u3044\u3076\u66f8\u304d\u3084\u3059\u304f\u306a\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n\n\u3068\u3053\u308d\u304c\u3001OSX\u306b\u3064\u3044\u3066\u306f\u30c7\u30fc\u30bf\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u306e\u5185\u90e8\u51e6\u7406\uff08BindingUtils.BindXXX\u7cfb\uff09\u3092\u81ea\u8eab\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059[^3]\u306e\u3067\u3001\u6700\u521d\u306e\u307b\u3046\u306f\u8f9b\u304b\u3063\u305f\u3067\u3059\u3002\n\u305f\u3060\u3057\u3001\u4e00\u901a\u308a\u5fc5\u8981\u306a\u30d0\u30a4\u30f3\u30c7\u30a3\u30f3\u30b0\u5185\u90e8\u51e6\u7406\u3092\u66f8\u3044\u3066\u3057\u307e\u3048\u3070\u3001\u975e\u5e38\u306b\u5c11\u306a\u3044\u5de5\u6570\u3067OSX\u5411\u3051\u306eView\u3082\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff01\n\n\u3042\u30fc\u5e78\u305b\uff01\n\n# \u66f8\u3051\u306a\u304b\u3063\u305f\u3053\u3068\n\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\uff0f\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u306e\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u958b\u767a\u306b\u304a\u3044\u3066\u306f\u3001\n\u30c0\u30a4\u30a2\u30ed\u30b0\u306a\u3069\u306b\u3088\u308b\u30e6\u30fc\u30b6\u3078\u306e\u901a\u77e5\u3084\u3001\n\u753b\u9762\u9077\u79fb\u51e6\u7406\u306e\u62bd\u8c61\u5316\u304cViewModel\u306b\u304a\u3044\u3066\u4e0d\u53ef\u6b20\u3067\u3059\u3002\n\n\u307e\u305f\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u306b\u642d\u8f09\u3057\u3066\u3044\u308b\u5168\u6a5f\u80fd\u304c\n\u30e2\u30d0\u30a4\u30eb\u306b\u304a\u3044\u3066\u5fc5\u8981\u306b\u306a\u308b\u3053\u3068\u3082\u8003\u3048\u306b\u304f\u3044\u3067\u3059\u3057\u3001\n\u305d\u3082\u305d\u3082\u753b\u9762\u306e\u52d5\u7dda\u3084\u8868\u793a\u5185\u5bb9\u304c\u7570\u306a\u308b\u3053\u3068\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u3002\n\n\u305d\u306e\u3042\u305f\u308a\u3092\u3069\u3046\u6298\u308a\u5408\u3044\u3092\u3064\u3051\u3066\u3044\u308b\u304b\u306f\u3001\n\u8ffd\u3005\u8a18\u4e8b\u306b\u3067\u304d\u308c\u3070\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002[^4]\n\n\u307b\u304b\u306b\u3082\u3001VisualStudio/C#\u306f\u3001\u30cd\u30a4\u30c6\u30a3\u30d6\u30e9\u30a4\u30d6\u30e9\u30ea\u547c\u3073\u51fa\u3057\u3092\u4f34\u3046\u958b\u767a\u304c\n\u30c7\u30d0\u30c3\u30b0\u9762\u3067\u3082\u975e\u5e38\u306b\u5feb\u9069\u306a\u306e\u3067\u3001\u305d\u306e\u70b9\u306b\u3064\u3044\u3066\u3082\u305d\u306e\u3046\u3061\u66f8\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u307e\u3068\u3081\n\u4ee5\u4e0a\u3001\u975e\u5e38\u306b\u3056\u3063\u304f\u308a\u3068\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001\n\u79c1\u81ea\u8eab\u304c\u884c\u3063\u3066\u3044\u308b\u3001Xamarin\u3092\u4f7f\u3063\u305f\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u958b\u767a\u306e\u6d41\u308c\u3092\u7d39\u4ecb\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\n\u5404\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u56fa\u6709\u306e\u5b9f\u88c5\u306f\u3042\u307e\u308a\u591a\u304f\u306a\u3044\uff01\u5e78\u305b\u305d\u3046\uff01\n\u3068\u3044\u3046\u3053\u3068\u304c\u308f\u304b\u3063\u3066\u3044\u305f\u3060\u3051\u305f\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n#\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\u3042\u3001\u3042\u3068\u3067\u914d\u7f6e\u3057\u3066\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n[^1]: iOS\u306e\u30d3\u30eb\u30c9\u3057\u3088\u3046\u3068\u3057\u305f\u3089Xamarin.iOS\u304c\u4e0d\u6a5f\u5acc\u3067\u56fa\u307e\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u3067\u3042\u304d\u3089\u3081\u307e\u3057\u305f\n\n[^2]: \u500b\u4eba\u306e\u898b\u89e3\u3067\u3059\u3002\n[^3]: MvvmCross/ReactiveUI\u7b49\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u3042\u308b\u306b\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u3082\u305d\u3082\u5c0e\u5165\u304c\u56f0\u96e3\u3067\u3042\u3063\u305f\u308a\u304b\u3086\u3044\u3068\u3053\u308d\u306b\u624b\u304c\u5c4a\u304b\u306a\u304b\u3063\u305f\u308a\u3067\u3001\u79c1\u306f\u65ad\u5ff5\u3057\u307e\u3057\u305f\u3002\u3002\n\n[^4]: \u76ee\u4e0b\u8a66\u884c\u932f\u8aa4\u4e2d\u2026\u3002\n", "tags": ["Xamarin", "Xamarin.Forms", "WPF", "C#", "OSX"]}