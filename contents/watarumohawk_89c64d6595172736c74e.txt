{"context": " More than 1 year has passed since last update.\n\n\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\n\u904b\u52d5\u65b9\u7a0b\u5f0f\nm\\frac{d \\mathbf{v} }{dt} = q \\mathbf{v} \u00d7 \\mathbf{B}\n\n$\\mathbf{B}$\u306f\u4e00\u69d8\u3067$z$\u65b9\u5411\u3001q>0\u3068\u3059\u308b\u3002\n\u521d\u671f\u6761\u4ef6\uff1a$t = 0 \u3067 x = y = 0, v_x = v_0, v_y = 0$\n$x$\u6210\u5206\n\\frac{dv_x}{dt} = \\frac{qB}{m}v_y\n\n$y\u6210\u5206$\n\\frac{dv_y}{dt} = -\\frac{qB}{m}v_x\n\n\u8a08\u7b97\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7f6e\u304d\u63db\u3048\u308b\u3002\nu_x = \\frac{v_x}{v_0}\n\\\\\nu_y = \\frac{v_y}{v_0}\n\\\\\n\u03c4 = \\frac{qBt}{m}\n\\\\\nX = \\frac{qBx}{mv_0}\n\\\\\nY = \\frac{qBy}{mv_0}\n\n\u3053\u308c\u3089\u3092\u4f7f\u3063\u3066\u3001\u8a08\u7b97\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\\frac{du_x}{d\u03c4} = u_y \\ \u30fb\u30fb\u30fb\u2460\n\\\\\n\\frac{du_y}{d\u03c4} = -u_x \\ \u30fb\u30fb\u30fb\u2461\n\\\\\n\\frac{dX}{d\u03c4} = u_x\n\\\\\n\\frac{dY}{d\u03c4} = u_y\n\n\u521d\u671f\u6761\u4ef6\uff1a$\u03c4 = 0 \u3067 X = Y = 0, u_x =1, u_y = 0$\n\n\u30b5\u30f3\u30d7\u30eb\n\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u539f\u70b9\u304b\u3089$x$\u65b9\u5411\u3078\u901f\u5ea6$v_0$\u3067\u653e\u305f\u308c\u305f\u6b63\u306e\u96fb\u8377\u3092\u6301\u3064\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97\u3057\u3001\u56f3\u793a\u3059\u308b\u3002\n\nsample.c\n#include <stdio.h>\n#include <math.h>\n\nint main(void) {\n\n    FILE *data;\n\n    double x1, x2, y1, y2, vx1, vx2, vy1, vy2, t, dt, x, y, kx1, kx2, kx3, kx4, kx;\n    double ky1, ky2, ky3, ky4, ky, hx1, hx2, hx3, hx4, hx, hy1, hy2, hy3, hy4, hy, x0, y0;\n\n    data = fopen(\"data-sample.csv\", \"w\");\n\n    x1 = 0;\n    y1 = 0;\n    vx1 = 1;\n    vy1 = 0;\n    dt = 0.01;\n\n    for (int i=0; i<=1000; i++) {\n        t = i*dt;\n\n        kx1 = dt*vx1;\n        ky1 = dt*vy1;\n        hx1 = dt*vy1;\n        hy1 = -dt*vx1;\n\n        kx2 = dt*(vx1 + hx1/2.);\n        ky2 = dt*(vy1 + hy1/2.);\n        hx2 = dt*(vy1 + hy1/2.);\n        hy2 = dt*( -(vx1 + hx1/2.) );\n\n        kx3 = dt*(vx1 + hx2/2.);\n        ky3 = dt*(vy1 + hy2/2.);\n        hx3 = dt*(vy1 + hy2/2.);\n        hy3 = dt*( -(vx1 + hx2/2.) );\n\n        kx4 = dt*(vx1 + hx3);\n        ky4 = dt*(vy1 + hy3);\n        hx4 = dt*(vy1 + hy3);\n        hy4 = dt*( -(vx1 + hx3) );\n\n        kx = (kx1 + 2*kx2 + 2*kx3 + kx4)/6.;\n        ky = (ky1 + 2*ky2 + 2*ky3 + ky4)/6.;\n\n        x2 = x1 + kx;\n        y2 = y1 + ky;\n\n        hx = (hx1 + 2*hx2 + 2*hx3 + hx4)/6.;\n        hy = (hy1 + 2*hy2 + 2*hy3 + hy4)/6.;\n        vx2 = vx1 + hx;\n        vy2 = vy1 + hy;\n\n        x0 = sin(t);\n        y0 = cos(t) - 1;\n\n        if (fmod(i, 10)<0.01) {\n            printf(\"t = %5.1f, \u8a08\u7b97\u5024 -> x=%f, y=%f, \u7406\u8ad6\u5024 -> x0=%f, y0=%f\\n\", t, x1, y1, x0, y0);\n            fprintf(data,\"%f, %f, %f, %f\\n\", x1, y1, x0, y0);\n        }\n\n        x1 = x2;\n        y1 = y2;\n        vx1 = vx2;\n        vy1 = vy2;\n\n    }\n    fclose(data);\n\n    return 0;\n}\n\n\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\n\u554f\u984c\n\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u539f\u70b9\u304b\u3089$y$\u65b9\u5411\u3078\u901f\u5ea6$v_0$\u3067\u653e\u305f\u308c\u305f\u8ca0\u306e\u96fb\u8377\u3092\u6301\u3064\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97\u3057\u3001\u56f3\u793a\u3059\u308b\u3002\n\n\u8ca0\u306e\u96fb\u8377\u306a\u306e\u3067\u3001\u5f0f\u2460\u3068\u2461\u306e\u7b26\u53f7\u304c\u5165\u308c\u66ff\u308f\u3063\u3066\u3044\u308b\u3002\n\nproblem.c\n#include <stdio.h>\n#include <math.h>\n\nint main(void) {\n\n    FILE *data;\n\n    double x1, x2, y1, y2, vx1, vx2, vy1, vy2, t, dt, x, y, kx1, kx2, kx3, kx4, kx;\n    double ky1, ky2, ky3, ky4, ky, hx1, hx2, hx3, hx4, hx, hy1, hy2, hy3, hy4, hy, x0, y0;\n\n    data = fopen(\"data-problem.csv\", \"w\");\n\n    x1 = 0;\n    y1 = 0;\n    vx1 = 0;\n    vy1 = 1;\n    dt = 0.01;\n\n    for (int i=0; i<=1000; i++) {\n        t = i*dt;\n\n        kx1 = dt*vx1;\n        ky1 = dt*vy1;\n        hx1 = -dt*vy1;\n        hy1 = dt*vx1;\n\n        kx2 = dt*(vx1 + hx1/2.);\n        ky2 = dt*(vy1 + hy1/2.);\n        hx2 = dt*( -(vy1 + hy1/2.) );\n        hy2 = dt*(vx1 + hx1/2.);\n\n        kx3 = dt*(vx1 + hx2/2.);\n        ky3 = dt*(vy1 + hy2/2.);\n        hx3 = dt*(-(vy1 + hy2/2.) );\n        hy3 = dt*(vx1 + hx2/2.);\n\n        kx4 = dt*(vx1 + hx3);\n        ky4 = dt*(vy1 + hy3);\n        hx4 = dt*( -(vy1 + hy3) );\n        hy4 = dt*(vx1 + hx3);\n\n        kx = (kx1 + 2*kx2 + 2*kx3 + kx4)/6.;\n        ky = (ky1 + 2*ky2 + 2*ky3 + ky4)/6.;\n        x2 = x1 + kx;\n        y2 = y1 + ky;\n\n        hx = (hx1 + 2*hx2 + 2*hx3 + hx4)/6.;\n        hy = (hy1 + 2*hy2 + 2*hy3 + hy4)/6.;\n        vx2 = vx1 + hx;\n        vy2 = vy1 + hy;\n\n        x0 = sin(t) - 1;\n        y0 = cos(t);\n\n        if (fmod(i, 10)<0.01) {\n            printf(\"t = %5.1f, \u8a08\u7b97\u5024 -> x=%f, y=%f, \u7406\u8ad6\u5024 -> x0=%f, y0=%f\\n\", t, x1, y1, x0, y0);\n            fprintf(data,\"%f, %f, %f, %f\\n\", x1, y1, x0, y0);\n        }\n\n        x1 = x2;\n        y1 = y2;\n        vx1 = vx2;\n        vy1 = vy2;\n\n    }\n    fclose(data);\n\n    return 0;\n}\n\n\n\n\u5b9f\u884c\u7d50\u679c\n\n\n#\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\n\n\u904b\u52d5\u65b9\u7a0b\u5f0f\n\n```math\nm\\frac{d \\mathbf{v} }{dt} = q \\mathbf{v} \u00d7 \\mathbf{B}\n```\n$\\mathbf{B}$\u306f\u4e00\u69d8\u3067$z$\u65b9\u5411\u3001q>0\u3068\u3059\u308b\u3002\n\u521d\u671f\u6761\u4ef6\uff1a$t = 0 \u3067 x = y = 0, v_x = v_0, v_y = 0$\n\n$x$\u6210\u5206\n\n```math\n\\frac{dv_x}{dt} = \\frac{qB}{m}v_y\n```\n\n$y\u6210\u5206$\n\n```math\n\\frac{dv_y}{dt} = -\\frac{qB}{m}v_x\n```\n\n\u8a08\u7b97\u3057\u3084\u3059\u3044\u3088\u3046\u306b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7f6e\u304d\u63db\u3048\u308b\u3002\n\n```math\nu_x = \\frac{v_x}{v_0}\n\\\\\nu_y = \\frac{v_y}{v_0}\n\\\\\n\u03c4 = \\frac{qBt}{m}\n\\\\\nX = \\frac{qBx}{mv_0}\n\\\\\nY = \\frac{qBy}{mv_0}\n```\n\n\u3053\u308c\u3089\u3092\u4f7f\u3063\u3066\u3001\u8a08\u7b97\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n```math\n\\frac{du_x}{d\u03c4} = u_y \\ \u30fb\u30fb\u30fb\u2460\n\\\\\n\\frac{du_y}{d\u03c4} = -u_x \\ \u30fb\u30fb\u30fb\u2461\n\\\\\n\\frac{dX}{d\u03c4} = u_x\n\\\\\n\\frac{dY}{d\u03c4} = u_y\n```\n\n\u521d\u671f\u6761\u4ef6\uff1a$\u03c4 = 0 \u3067 X = Y = 0, u_x =1, u_y = 0$\n\n#\u30b5\u30f3\u30d7\u30eb\n\n\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u539f\u70b9\u304b\u3089$x$\u65b9\u5411\u3078\u901f\u5ea6$v_0$\u3067\u653e\u305f\u308c\u305f\u6b63\u306e\u96fb\u8377\u3092\u6301\u3064\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97\u3057\u3001\u56f3\u793a\u3059\u308b\u3002\n\n```C:sample.c\n#include <stdio.h>\n#include <math.h>\n\nint main(void) {\n\n\tFILE *data;\n\n\tdouble x1, x2, y1, y2, vx1, vx2, vy1, vy2, t, dt, x, y, kx1, kx2, kx3, kx4, kx;\n\tdouble ky1, ky2, ky3, ky4, ky, hx1, hx2, hx3, hx4, hx, hy1, hy2, hy3, hy4, hy, x0, y0;\n\n\tdata = fopen(\"data-sample.csv\", \"w\");\n\n\tx1 = 0;\n\ty1 = 0;\n\tvx1 = 1;\n\tvy1 = 0;\n\tdt = 0.01;\n\n\tfor (int i=0; i<=1000; i++) {\n        t = i*dt;\n\n        kx1 = dt*vx1;\n        ky1 = dt*vy1;\n        hx1 = dt*vy1;\n        hy1 = -dt*vx1;\n\n        kx2 = dt*(vx1 + hx1/2.);\n        ky2 = dt*(vy1 + hy1/2.);\n        hx2 = dt*(vy1 + hy1/2.);\n        hy2 = dt*( -(vx1 + hx1/2.) );\n\n        kx3 = dt*(vx1 + hx2/2.);\n        ky3 = dt*(vy1 + hy2/2.);\n        hx3 = dt*(vy1 + hy2/2.);\n        hy3 = dt*( -(vx1 + hx2/2.) );\n\n        kx4 = dt*(vx1 + hx3);\n        ky4 = dt*(vy1 + hy3);\n        hx4 = dt*(vy1 + hy3);\n        hy4 = dt*( -(vx1 + hx3) );\n\n        kx = (kx1 + 2*kx2 + 2*kx3 + kx4)/6.;\n        ky = (ky1 + 2*ky2 + 2*ky3 + ky4)/6.;\n\n        x2 = x1 + kx;\n        y2 = y1 + ky;\n\n        hx = (hx1 + 2*hx2 + 2*hx3 + hx4)/6.;\n        hy = (hy1 + 2*hy2 + 2*hy3 + hy4)/6.;\n        vx2 = vx1 + hx;\n        vy2 = vy1 + hy;\n\n        x0 = sin(t);\n        y0 = cos(t) - 1;\n\n        if (fmod(i, 10)<0.01) {\n            printf(\"t = %5.1f, \u8a08\u7b97\u5024 -> x=%f, y=%f, \u7406\u8ad6\u5024 -> x0=%f, y0=%f\\n\", t, x1, y1, x0, y0);\n            fprintf(data,\"%f, %f, %f, %f\\n\", x1, y1, x0, y0);\n        }\n\n        x1 = x2;\n        y1 = y2;\n        vx1 = vx2;\n        vy1 = vy2;\n\n    }\n    fclose(data);\n\n    return 0;\n}\n```\n\n##\u5b9f\u884c\u7d50\u679c\n\n![sample-result.png](https://qiita-image-store.s3.amazonaws.com/0/44742/0a637c04-7ede-02e2-d020-c04f3cee9ed5.png)\n\n![sample-graph.png](https://qiita-image-store.s3.amazonaws.com/0/44742/761053c2-8b93-ddb0-1b34-9d9efa59fef4.png)\n\n\n#\u554f\u984c\n\n\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u539f\u70b9\u304b\u3089$y$\u65b9\u5411\u3078\u901f\u5ea6$v_0$\u3067\u653e\u305f\u308c\u305f\u8ca0\u306e\u96fb\u8377\u3092\u6301\u3064\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97\u3057\u3001\u56f3\u793a\u3059\u308b\u3002\n\n---\n\n\u8ca0\u306e\u96fb\u8377\u306a\u306e\u3067\u3001\u5f0f\u2460\u3068\u2461\u306e\u7b26\u53f7\u304c\u5165\u308c\u66ff\u308f\u3063\u3066\u3044\u308b\u3002\n\n```C:problem.c\n#include <stdio.h>\n#include <math.h>\n\nint main(void) {\n\n\tFILE *data;\n\n\tdouble x1, x2, y1, y2, vx1, vx2, vy1, vy2, t, dt, x, y, kx1, kx2, kx3, kx4, kx;\n\tdouble ky1, ky2, ky3, ky4, ky, hx1, hx2, hx3, hx4, hx, hy1, hy2, hy3, hy4, hy, x0, y0;\n\n\tdata = fopen(\"data-problem.csv\", \"w\");\n\n\tx1 = 0;\n\ty1 = 0;\n\tvx1 = 0;\n\tvy1 = 1;\n\tdt = 0.01;\n\n\tfor (int i=0; i<=1000; i++) {\n        t = i*dt;\n\n        kx1 = dt*vx1;\n        ky1 = dt*vy1;\n        hx1 = -dt*vy1;\n        hy1 = dt*vx1;\n\n        kx2 = dt*(vx1 + hx1/2.);\n        ky2 = dt*(vy1 + hy1/2.);\n        hx2 = dt*( -(vy1 + hy1/2.) );\n        hy2 = dt*(vx1 + hx1/2.);\n\n        kx3 = dt*(vx1 + hx2/2.);\n        ky3 = dt*(vy1 + hy2/2.);\n        hx3 = dt*(-(vy1 + hy2/2.) );\n        hy3 = dt*(vx1 + hx2/2.);\n\n        kx4 = dt*(vx1 + hx3);\n        ky4 = dt*(vy1 + hy3);\n        hx4 = dt*( -(vy1 + hy3) );\n        hy4 = dt*(vx1 + hx3);\n\n        kx = (kx1 + 2*kx2 + 2*kx3 + kx4)/6.;\n        ky = (ky1 + 2*ky2 + 2*ky3 + ky4)/6.;\n        x2 = x1 + kx;\n        y2 = y1 + ky;\n\n        hx = (hx1 + 2*hx2 + 2*hx3 + hx4)/6.;\n        hy = (hy1 + 2*hy2 + 2*hy3 + hy4)/6.;\n        vx2 = vx1 + hx;\n        vy2 = vy1 + hy;\n\n        x0 = sin(t) - 1;\n        y0 = cos(t);\n\n        if (fmod(i, 10)<0.01) {\n            printf(\"t = %5.1f, \u8a08\u7b97\u5024 -> x=%f, y=%f, \u7406\u8ad6\u5024 -> x0=%f, y0=%f\\n\", t, x1, y1, x0, y0);\n            fprintf(data,\"%f, %f, %f, %f\\n\", x1, y1, x0, y0);\n        }\n\n        x1 = x2;\n        y1 = y2;\n        vx1 = vx2;\n        vy1 = vy2;\n\n    }\n    fclose(data);\n\n    return 0;\n}\n```\n\n##\u5b9f\u884c\u7d50\u679c\n\n![problem-result.png](https://qiita-image-store.s3.amazonaws.com/0/44742/4ea98d50-4dda-6d8f-e877-f7302067b175.png)\n\n![problem-graph.png](https://qiita-image-store.s3.amazonaws.com/0/44742/5574104d-053f-6fde-6810-7aa3275734f5.png)\n", "tags": ["C", "\u6570\u5024\u8a08\u7b97", "\u96fb\u78c1\u6c17", "\u7269\u7406", "\u30d7\u30e9\u30ba\u30de\u7269\u7406"]}