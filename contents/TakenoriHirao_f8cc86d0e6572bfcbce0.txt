{"context": "\n\n\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\n\nhas_many / belongs_to / has_one\n\u81ea\u52d5\u7684\u306b\u3001\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u7528\u306e\u30ab\u30e9\u30e0\u3092\u4f5c\u3063\u3066\u304f\u308c\u308b\nclass BattleShip\n    has_many :mobile_suites\nend\n\nclass MobileSuite\n    #battle_ship_id\u30ab\u30e9\u30e0\u304c\u751f\u6210\u3055\u308c\u308b\n    belongs_to :battle_ship\nend\n\n\nbson\u5185\u90e8\u306b\u5b50\u3092\u5185\u8535\u3059\u308b\nembed\u3059\u308b\u3068\u3001bson\u5185\u306b\u5185\u8535\u3067\u304d\u308b\nclass BattleShip\n    embeds_many :mobile_suites\nend\n\nclass MobileSuite\n    #battle_ship_id\u30ab\u30e9\u30e0\u304c\u751f\u6210\u3055\u308c\u308b\n    embeded_in :battle_ship\n    field :name, type:String\nend\n\n{\n    _id:BSON(\"123455\"),\n    mobile_suites[\n        {\n            _id:BSON(\"123456\"),\n            name:\"\u767d\u3044\u3084\u3064\"\n        }\n    ]\n}\n\n\n\u5185\u8535\u3057\u305f\u4e0a\u3067\u30c4\u30ea\u30fc\u72b6\u306b\u3059\u308b\nembed\u3057\u3066:cyclic => true\u3059\u308b\nclass BattleShip\n    embeds_many :battle_ships ,:cyclic => true\n    embeded_in :battle_ship ,:cyclic => true\nend\n\n\n```bson\n{\n    _id:BSON(\"123455\"),\n    battle_ships[\n        {\n            _id:BSON(\"123456\"),\n            battle_ships[\n                {\n                    _id:BSON(\"123457\")\n                }\n            ]\n        }\n    ]\n}\n\n\n# \u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\n## has_many / belongs_to / has_one\n\n\u81ea\u52d5\u7684\u306b\u3001\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u7528\u306e\u30ab\u30e9\u30e0\u3092\u4f5c\u3063\u3066\u304f\u308c\u308b\n\n```ruby\nclass BattleShip\n\thas_many :mobile_suites\nend\n\nclass MobileSuite\n\t#battle_ship_id\u30ab\u30e9\u30e0\u304c\u751f\u6210\u3055\u308c\u308b\n\tbelongs_to :battle_ship\nend\n```\n\n## bson\u5185\u90e8\u306b\u5b50\u3092\u5185\u8535\u3059\u308b\nembed\u3059\u308b\u3068\u3001bson\u5185\u306b\u5185\u8535\u3067\u304d\u308b\n\n```ruby\nclass BattleShip\n\tembeds_many :mobile_suites\nend\n\nclass MobileSuite\n\t#battle_ship_id\u30ab\u30e9\u30e0\u304c\u751f\u6210\u3055\u308c\u308b\n\tembeded_in :battle_ship\n\tfield :name, type:String\nend\n```\n\n```bson\n{\n\t_id:BSON(\"123455\"),\n\tmobile_suites[\n\t\t{\n\t\t\t_id:BSON(\"123456\"),\n\t\t\tname:\"\u767d\u3044\u3084\u3064\"\n\t\t}\n\t]\n}\n```\n\n## \u5185\u8535\u3057\u305f\u4e0a\u3067\u30c4\u30ea\u30fc\u72b6\u306b\u3059\u308b\nembed\u3057\u3066:cyclic => true\u3059\u308b\n\n```ruby\nclass BattleShip\n\tembeds_many :battle_ships ,:cyclic => true\n\tembeded_in :battle_ship ,:cyclic => true\nend\n\n\n```bson\n{\n\t_id:BSON(\"123455\"),\n\tbattle_ships[\n\t\t{\n\t\t\t_id:BSON(\"123456\"),\n\t\t\tbattle_ships[\n\t\t\t\t{\n\t\t\t\t\t_id:BSON(\"123457\")\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}\n```\n", "tags": ["Rails", "mongoid", "MongoDB"]}