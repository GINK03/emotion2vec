{"context": "\n\nCentOS 7\u306bgem\u3067fluentd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nRuby2.1\u4ee5\u4e0a\u304c\u5fc5\u8981\u3068\u3044\u308f\u308c\u308b\u4ef6\n\u3069\u3046\u3084\u3089\u3001Ruby2.1\u4ee5\u4e0a\u304c\u5fc5\u8981\u3089\u3057\u3044\u3002\n[root@logreader system]# gem install fluentd\nERROR:  Error installing fluentd:\n        fluentd requires Ruby version >= 2.1.\n\nRuby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u898b\u3066\u307f\u308b\u3068\u3002\n[root@logreader system]# ruby -v\nruby 2.0.0p598 (2014-11-13) [x86_64-linux]\n\n\u3075\u3080\u3002\n\nRuby2.2\u3092\u5165\u308c\u3066\u307f\u308b\n\u57fa\u672c\u7684\u306b\u306f\u3053\u306e\u30b5\u30a4\u30c8\u3067\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u884c\u3046\u3002\n\u305f\u3060\u3057\u3001epel\u3058\u3083\u306a\u304f\u3001\u305d\u306e\u307e\u307e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\u4ee5\u4e0b\u3092\u9806\u306b\u5b9f\u884c\u3057\u3066\u3044\u304f\u3002\n[root@logreader ~]# yum -y groups install \"Development Tools\"\n\n[root@logreader ~]# yum install install gdbm-devel libdb4-devel libffi-devel libyaml libyaml-devel ncurses-devel openssl-devel readline-devel tcl-devel\n\n[root@logreader ~]# cd rpmbuild/SOURCES ; curl -O http://cache.ruby-lang.org/pub/ruby/2.2/ruby-2.2.3.tar.gz ; cd\n\n[root@logreader ~]# cd rpmbuild/SPECS ; curl -O https://raw.githubusercontent.com/tjinjin/automate-ruby-rpm/master/ruby22x.spec ; cd\n\n[root@logreader ~]# rpmbuild -bb rpmbuild/SPECS/ruby22x.spec\n\n[root@logreader ~]# rpm -Uvh rpmbuild/RPMS/x86_64/ruby-2.2.3-1.el7.centos.x86_64.rpm\n\n\nRuby2.0\u3078\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3082\u306e\u304c\n\u307e\u3042\u3001\u3053\u308c\u4ee5\u524d\u306bgem\u3092\u5358\u4f53\u3067\u5165\u308c\u3066\u3044\u3066\u30016\u884c\u76ee\u3092\u5b9f\u884c\u3057\u3088\u3046\u3068\u3057\u305f\u969b\u306b\u3001\n[root@logreader ~]# rpm -Uvh rpmbuild/RPMS/x86_64/ruby-2.2.3-1.el7.centos.x86_64.rpm\n\u30a8\u30e9\u30fc: \u4f9d\u5b58\u6027\u306e\u6b20\u5982:\n        libruby.so.2.0()(64bit) \u306f (\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f)rubygem-bigdecimal-1.2.0-25.el7_1.x86_64 \u306b\u5fc5\u8981\u3068\u3055\u308c\u3066\u3044\u307e\u3059\n        libruby.so.2.0()(64bit) \u306f (\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f)rubygem-io-console-0.4.2-25.el7_1.x86_64 \u306b\u5fc5\u8981\u3068\u3055\u308c\u3066\u3044\u307e\u3059\n\uff08\u7701\u7565\uff09\n\n\u3068\u304b\u51fa\u3066\u304d\u305f\u306e\u3067\u3001\u614c\u3066\u3066\n[root@logreader ~]# yum erase rubygems\n\n\u3068\u304b\u3084\u3063\u305f\u308f\u3051\u306a\u3093\u3067\u3059\u304c\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51fa\u6765\uff01\n\u3093\u3067\u3001\u7121\u4e8b\n[root@logreader ~]# ruby -v\nruby 2.2.3p173 (2015-08-18 revision 51636) [x86_64-linux]\n[root@logreader system]# gem install fluentd\nFetching: cool.io-1.4.4.gem (100%)\nBuilding native extensions.  This could take a while...\n\uff08\u7701\u7565\uff09\nParsing documentation for yajl-ruby-1.2.1\nInstalling ri documentation for yajl-ruby-1.2.1\nParsing documentation for fluentd-0.14.0\nInstalling ri documentation for fluentd-0.14.0\nDone installing documentation for cool.io, http_parser.rb, msgpack, sigdump, serverengine, strptime, thread_safe, tzinfo, tzinfo-data, yajl-ruby, fluentd after 14 seconds\n11 gems installed\n\n\u3068\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3057\u305f\u3002\n# CentOS 7\u306bgem\u3067fluentd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## Ruby2.1\u4ee5\u4e0a\u304c\u5fc5\u8981\u3068\u3044\u308f\u308c\u308b\u4ef6\n\n\u3069\u3046\u3084\u3089\u3001Ruby2.1\u4ee5\u4e0a\u304c\u5fc5\u8981\u3089\u3057\u3044\u3002\n\n```shell-session\n[root@logreader system]# gem install fluentd\nERROR:  Error installing fluentd:\n        fluentd requires Ruby version >= 2.1.\n```\n\nRuby\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u898b\u3066\u307f\u308b\u3068\u3002\n\n```shell-session\n[root@logreader system]# ruby -v\nruby 2.0.0p598 (2014-11-13) [x86_64-linux]\n```\n\n\u3075\u3080\u3002\n\n## Ruby2.2\u3092\u5165\u308c\u3066\u307f\u308b\n\n\u57fa\u672c\u7684\u306b\u306f[\u3053\u306e\u30b5\u30a4\u30c8](http://www.server-world.info/en/note?os=CentOS_7&p=ruby22)\u3067\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u884c\u3046\u3002\n\u305f\u3060\u3057\u3001epel\u3058\u3083\u306a\u304f\u3001\u305d\u306e\u307e\u307e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\u4ee5\u4e0b\u3092\u9806\u306b\u5b9f\u884c\u3057\u3066\u3044\u304f\u3002\n\n```shell-session\n[root@logreader ~]# yum -y groups install \"Development Tools\"\n\n[root@logreader ~]# yum install install gdbm-devel libdb4-devel libffi-devel libyaml libyaml-devel ncurses-devel openssl-devel readline-devel tcl-devel\n\n[root@logreader ~]# cd rpmbuild/SOURCES ; curl -O http://cache.ruby-lang.org/pub/ruby/2.2/ruby-2.2.3.tar.gz ; cd\n\n[root@logreader ~]# cd rpmbuild/SPECS ; curl -O https://raw.githubusercontent.com/tjinjin/automate-ruby-rpm/master/ruby22x.spec ; cd\n\n[root@logreader ~]# rpmbuild -bb rpmbuild/SPECS/ruby22x.spec\n\n[root@logreader ~]# rpm -Uvh rpmbuild/RPMS/x86_64/ruby-2.2.3-1.el7.centos.x86_64.rpm\n```\n\n## Ruby2.0\u3078\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3082\u306e\u304c\n\n\u307e\u3042\u3001\u3053\u308c\u4ee5\u524d\u306bgem\u3092\u5358\u4f53\u3067\u5165\u308c\u3066\u3044\u3066\u30016\u884c\u76ee\u3092\u5b9f\u884c\u3057\u3088\u3046\u3068\u3057\u305f\u969b\u306b\u3001\n\n```shell-session\n[root@logreader ~]# rpm -Uvh rpmbuild/RPMS/x86_64/ruby-2.2.3-1.el7.centos.x86_64.rpm\n\u30a8\u30e9\u30fc: \u4f9d\u5b58\u6027\u306e\u6b20\u5982:\n        libruby.so.2.0()(64bit) \u306f (\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f)rubygem-bigdecimal-1.2.0-25.el7_1.x86_64 \u306b\u5fc5\u8981\u3068\u3055\u308c\u3066\u3044\u307e\u3059\n        libruby.so.2.0()(64bit) \u306f (\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f)rubygem-io-console-0.4.2-25.el7_1.x86_64 \u306b\u5fc5\u8981\u3068\u3055\u308c\u3066\u3044\u307e\u3059\n\uff08\u7701\u7565\uff09\n```\n\n\u3068\u304b\u51fa\u3066\u304d\u305f\u306e\u3067\u3001\u614c\u3066\u3066\n\n```shell-session\n[root@logreader ~]# yum erase rubygems\n```\n\n\u3068\u304b\u3084\u3063\u305f\u308f\u3051\u306a\u3093\u3067\u3059\u304c\u3002\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u51fa\u6765\uff01\n\n\u3093\u3067\u3001\u7121\u4e8b\n\n```shell-session\n[root@logreader ~]# ruby -v\nruby 2.2.3p173 (2015-08-18 revision 51636) [x86_64-linux]\n[root@logreader system]# gem install fluentd\nFetching: cool.io-1.4.4.gem (100%)\nBuilding native extensions.  This could take a while...\n\uff08\u7701\u7565\uff09\nParsing documentation for yajl-ruby-1.2.1\nInstalling ri documentation for yajl-ruby-1.2.1\nParsing documentation for fluentd-0.14.0\nInstalling ri documentation for fluentd-0.14.0\nDone installing documentation for cool.io, http_parser.rb, msgpack, sigdump, serverengine, strptime, thread_safe, tzinfo, tzinfo-data, yajl-ruby, fluentd after 14 seconds\n11 gems installed\n```\n\n\u3068\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3057\u305f\u3002\n", "tags": ["centos7", "fluentd", "Ruby"]}