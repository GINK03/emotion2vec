{"context": " More than 1 year has passed since last update.\n\n\u6e96\u5099\n\u5fc5\u8981\u306anpm\u306f\u4ee5\u4e0b\n\nmocha\nchai\nsinon (\u203b sinon-chai\u5165\u308c\u3066\u3082sinon\u306f\u5225\u306b\u5fc5\u8981?)\nsinon-chai\n\nvar chai      = require('chai'),\n    should    = chai.should(),\n    sinon     = require('sinon'),\n    sinonChai = require('sinon-chai');\n\nchai.use(sinonChai);\n\n\n\u975e\u540c\u671f\u30c6\u30b9\u30c8\nbefore\u3084it\u306e\u5f15\u6570\u306efunction\u306fdone\u304c\u5f15\u6570\u3068\u3057\u3066\u3068\u308c\u308b\u306e\u3067\u3001\u30c6\u30b9\u30c8\u3092\u6b21\u306b\u9032\u3081\u3066\u3044\u3044\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u547c\u3073\u51fa\u3059\u3002done\u3092\u5f15\u6570\u3068\u3057\u3066\u3068\u3089\u306a\u3051\u308c\u3070\u3001\u305d\u306e\u307e\u307e\u9032\u3080\u3002\n\nasyncronize.js\nit(\"should not raise an error\", function(done) {\n  fs.readFile(\"/path/to/text.text\", function(err, data) {\n    should.not.exist(err);\n    done();\n  });\n})\n\n\n\nhooks\n\nbefore\n\u30c6\u30b9\u30c8\u5b9f\u884c\u524d\u306b'\u4e00\u5ea6\u3060\u3051'\u8d70\u308b\ndescribe('test', function() {\n  before(function(done) {\n    console.log('before');\n    done();\n  });\n\n  it('should be done successfull', function() {\n    console.log('it1');\n  });\n\n  it('should be done successfull', function() {\n    console.log('it2');\n  });\n});\n\nbefore\nit1\nit2\n\n\nbeforeEach\n\u30c6\u30b9\u30c8\u5b9f\u884c\u524d\u306b'\u6bceit'\u8d70\u308b\ndescribe('test', function() {\n  beforeEach(function(done) {\n    console.log('before');\n    done();\n  });\n\n  it('should be done successfull', function() {\n    console.log('it1');\n  });\n\n  it('should be done successfull', function() {\n    console.log('it2');\n  });\n});\n\nbefore\nit1\nbefore\nit2\n\n\nafter\n\u30c6\u30b9\u30c8\u5b9f\u884c\u5f8c\u306b'\u4e00\u5ea6\u3060\u3051'\u306f\u3057\u308b\nbefore \u306e\u5bfe\u5fdc\n\nafterEahc\n\u30c6\u30b9\u30c8\u5b9f\u884c\u5f8c\u306b'\u6bceit'\u306f\u3057\u308b\nbeforeEach \u306e\u5bfe\u5fdc\u2028\n\n\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3(chai)\nshould\u4f7f\u3046\u5834\u5408\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u4e00\u89a7\nhttp://chaijs.com/api/bdd/\n\u5c11\u3057\u3060\u3051\u30d4\u30c3\u30af\u30a2\u30c3\u30d7\n\ndeep\nObject\u540c\u58eb\u3092\u6bd4\u3079\u308b\u5834\u5408\u306fequal\u3067\u306f\u7121\u304f\u3053\u3061\u3089\u3092\u4f7f\u3046\nvar obj = {a: \"b\"};\nobj.should.deep.equal({a: \"b\"});\n\n\nstub, mock\nsinon\u3092\u4f7f\u3063\u3066stub(mock)\u3059\u308b\u3002\ndescribe('Send data', function() {\n  var spy, target;\n\n  before(function() {\n    spy = sinon.spy();\n    target = new TestTargetModule();\n    target._sendData = spy;\n  });\n\n  it(\"should sends data over private _sendData method\", function() {\n    target.send('data');\n    spy.should.have.been.calledWith('data');\n  });\n\n  it(\"should not sends data over private _sendData method\", function() {\n    target.send('data', {direct: true});\n    spy.should.not.have.been.calledWith('data');\n  });\n});\n\n\n## \u6e96\u5099\n\u5fc5\u8981\u306anpm\u306f\u4ee5\u4e0b\n\n* mocha\n* chai\n* sinon (\u203b sinon-chai\u5165\u308c\u3066\u3082sinon\u306f\u5225\u306b\u5fc5\u8981?)\n* sinon-chai\n\n```javascript:\nvar chai      = require('chai'),\n    should    = chai.should(),\n    sinon     = require('sinon'),\n    sinonChai = require('sinon-chai');\n\nchai.use(sinonChai);\n```\n\n## \u975e\u540c\u671f\u30c6\u30b9\u30c8\nbefore\u3084it\u306e\u5f15\u6570\u306efunction\u306fdone\u304c\u5f15\u6570\u3068\u3057\u3066\u3068\u308c\u308b\u306e\u3067\u3001\u30c6\u30b9\u30c8\u3092\u6b21\u306b\u9032\u3081\u3066\u3044\u3044\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u547c\u3073\u51fa\u3059\u3002done\u3092\u5f15\u6570\u3068\u3057\u3066\u3068\u3089\u306a\u3051\u308c\u3070\u3001\u305d\u306e\u307e\u307e\u9032\u3080\u3002\n\n```javascript:asyncronize.js\nit(\"should not raise an error\", function(done) {\n  fs.readFile(\"/path/to/text.text\", function(err, data) {\n    should.not.exist(err);\n    done();\n  });\n})\n```\n\n## hooks\n\n### before\n\u30c6\u30b9\u30c8\u5b9f\u884c\u524d\u306b'\u4e00\u5ea6\u3060\u3051'\u8d70\u308b\n\n```javascript:\ndescribe('test', function() {\n  before(function(done) {\n    console.log('before');\n    done();\n  });\n\n  it('should be done successfull', function() {\n    console.log('it1');\n  });\n\n  it('should be done successfull', function() {\n    console.log('it2');\n  });\n});\n```\n\n```bash:\nbefore\nit1\nit2\n```\n\n### beforeEach\n\u30c6\u30b9\u30c8\u5b9f\u884c\u524d\u306b'\u6bceit'\u8d70\u308b\n\n```javascript:\ndescribe('test', function() {\n  beforeEach(function(done) {\n    console.log('before');\n    done();\n  });\n\n  it('should be done successfull', function() {\n    console.log('it1');\n  });\n\n  it('should be done successfull', function() {\n    console.log('it2');\n  });\n});\n```\n\n```bash:\nbefore\nit1\nbefore\nit2\n```\n\n### after\n\u30c6\u30b9\u30c8\u5b9f\u884c\u5f8c\u306b'\u4e00\u5ea6\u3060\u3051'\u306f\u3057\u308b\nbefore \u306e\u5bfe\u5fdc\n\n### afterEahc\n\u30c6\u30b9\u30c8\u5b9f\u884c\u5f8c\u306b'\u6bceit'\u306f\u3057\u308b\nbeforeEach \u306e\u5bfe\u5fdc\u2028\n## \u30a2\u30b5\u30fc\u30b7\u30e7\u30f3(chai)\nshould\u4f7f\u3046\u5834\u5408\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u4e00\u89a7\nhttp://chaijs.com/api/bdd/\n\n\u5c11\u3057\u3060\u3051\u30d4\u30c3\u30af\u30a2\u30c3\u30d7\n\n### deep\nObject\u540c\u58eb\u3092\u6bd4\u3079\u308b\u5834\u5408\u306fequal\u3067\u306f\u7121\u304f\u3053\u3061\u3089\u3092\u4f7f\u3046\n\n```javascript:\nvar obj = {a: \"b\"};\nobj.should.deep.equal({a: \"b\"});\n```\n\n## stub, mock\nsinon\u3092\u4f7f\u3063\u3066stub(mock)\u3059\u308b\u3002\n\n```javascript:\ndescribe('Send data', function() {\n  var spy, target;\n\n  before(function() {\n    spy = sinon.spy();\n    target = new TestTargetModule();\n    target._sendData = spy;\n  });\n\n  it(\"should sends data over private _sendData method\", function() {\n    target.send('data');\n    spy.should.have.been.calledWith('data');\n  });\n\n  it(\"should not sends data over private _sendData method\", function() {\n    target.send('data', {direct: true});\n    spy.should.not.have.been.calledWith('data');\n  });\n});\n```", "tags": ["JavaScript", "test"]}