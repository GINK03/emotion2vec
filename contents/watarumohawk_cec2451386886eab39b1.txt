{"context": " More than 1 year has passed since last update.\u57fa\u672c\u7684\u306b\u306f\u524d\u56de\u306e\u6295\u7a3f\u3068\u307b\u3068\u3093\u3069\u540c\u3058\u3002\n\u524d\u56de\u306e\u6295\u7a3f\uff1a[C\u8a00\u8a9e] \u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97\n\n\u96fb\u5834\u304c\u3042\u308b\u5834\u5408\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\\frac{du_x}{d\u03c4} = \\frac{E_x}{Bv_0} + u_y\n\n\n\u30b3\u30fc\u30c9\u4e2d\u3067\u306f\u96fb\u5834\u306f\u9069\u5f53\u306b$a=1$\u3068\u3057\u3066\u3044\u308b\u3002\n\n\u30b5\u30f3\u30d7\u30eb\n\u96fb\u5834\u304c\u3042\u308b\u5834\u5408\u306e\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u539f\u70b9\u304b\u3089x\u65b9\u5411\u3078\u901f\u5ea6v0\u3067\u653e\u305f\u308c\u305f\u6b63\u306e\u96fb\u8377\u3092\u6301\u3064\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97\u3057\u3001\u56f3\u793a\u3059\u308b\u3002\n\nsample.c\n#include <stdio.h>\n#include <math.h>\n\nint main(void) {\n\n    FILE *data;\n\n    double x1, x2, y1, y2, vx1, vx2, vy1, vy2, t, dt, x, y, kx1, kx2, kx3, kx4, kx;\n    double ky1, ky2, ky3, ky4, ky, hx1, hx2, hx3, hx4, hx, hy1, hy2, hy3, hy4, hy, x0, y0;\n\n    data = fopen(\"data-sample.csv\", \"w\");\n\n    x1 = 0;\n    y1 = 0;\n    vx1 = 1;\n    vy1 = 0;\n    dt = 0.01;\n    int a = 1;\n\n    for (int i=0; i<=5000; i++) {\n        t = i*dt;\n\n        kx1 = dt*vx1;\n        ky1 = dt*vy1;\n        hx1 = dt*(vy1 + a);\n        hy1 = -dt*vx1;\n\n        kx2 = dt*(vx1 + hx1/2.);\n        ky2 = dt*(vy1 + hy1/2.);\n        hx2 = dt*(vy1 + hy1/2. + a);\n        hy2 = dt*( -(vx1 + hx1/2.) );\n\n        kx3 = dt*(vx1 + hx2/2.);\n        ky3 = dt*(vy1 + hy2/2.);\n        hx3 = dt*(vy1 + hy2/2. + a);\n        hy3 = dt*( -(vx1 + hx2/2.) );\n\n        kx4 = dt*(vx1 + hx3);\n        ky4 = dt*(vy1 + hy3);\n        hx4 = dt*(vy1 + hy3 + a);\n        hy4 = dt*( -(vx1 + hx3) );\n\n        kx = (kx1 + 2*kx2 + 2*kx3 + kx4)/6.;\n        ky = (ky1 + 2*ky2 + 2*ky3 + ky4)/6.;\n\n        x2 = x1 + kx;\n        y2 = y1 + ky;\n\n        hx = (hx1 + 2*hx2 + 2*hx3 + hx4)/6.;\n        hy = (hy1 + 2*hy2 + 2*hy3 + hy4)/6.;\n        vx2 = vx1 + hx;\n        vy2 = vy1 + hy;\n\n        if (fmod(i, 10)<0.01) {\n            printf(\"t = %5.1f, \u8a08\u7b97\u5024 -> x=%f, y=%f\\n\", t, x1, y1);\n            fprintf(data,\"%f, %f\\n\", x1, y1);\n        }\n\n        x1 = x2;\n        y1 = y2;\n        vx1 = vx2;\n        vy1 = vy2;\n\n    }\n    fclose(data);\n\n    return 0;\n}\n\n\n\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\n\u554f\u984c\n\u96fb\u5834\u304c\u3042\u308b\u5834\u5408\u306e\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u539f\u70b9\u304b\u3089y\u65b9\u5411\u3078\u901f\u5ea6v0\u3067\u653e\u305f\u308c\u305f\u8ca0\u306e\u96fb\u8377\u3092\u6301\u3064\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97\u3057\u3001\u56f3\u793a\u3059\u308b\u3002\n\nproblem.c\n#include <stdio.h>\n#include <math.h>\n\nint main(void) {\n\n    FILE *data;\n\n    double x1, x2, y1, y2, vx1, vx2, vy1, vy2, t, dt, x, y, kx1, kx2, kx3, kx4, kx;\n    double ky1, ky2, ky3, ky4, ky, hx1, hx2, hx3, hx4, hx, hy1, hy2, hy3, hy4, hy, x0, y0;\n\n    data = fopen(\"data-problem.csv\", \"w\");\n\n    x1 = 0;\n    y1 = 0;\n    vx1 = 0;\n    vy1 = 1;\n    dt = 0.01;\n    int a = 1;\n\n    for (int i=0; i<=5000; i++) {\n        t = i*dt;\n\n        kx1 = dt*vx1;\n        ky1 = dt*vy1;\n        hx1 = -dt*vy1;\n        hy1 = dt*(vx1 + a);\n\n        kx2 = dt*(vx1 + hx1/2.);\n        ky2 = dt*(vy1 + hy1/2.);\n        hx2 = dt*( -(vy1 + hy1/2.) );\n        hy2 = dt*(vx1 + hx1/2. + a);\n\n        kx3 = dt*(vx1 + hx2/2.);\n        ky3 = dt*(vy1 + hy2/2.);\n        hx3 = dt*(-(vy1 + hy2/2.) );\n        hy3 = dt*(vx1 + hx2/2. + a);\n\n        kx4 = dt*(vx1 + hx3);\n        ky4 = dt*(vy1 + hy3);\n        hx4 = dt*( -(vy1 + hy3) );\n        hy4 = dt*(vx1 + hx3 + a);\n\n        kx = (kx1 + 2*kx2 + 2*kx3 + kx4)/6.;\n        ky = (ky1 + 2*ky2 + 2*ky3 + ky4)/6.;\n        x2 = x1 + kx;\n        y2 = y1 + ky;\n\n        hx = (hx1 + 2*hx2 + 2*hx3 + hx4)/6.;\n        hy = (hy1 + 2*hy2 + 2*hy3 + hy4)/6.;\n        vx2 = vx1 + hx;\n        vy2 = vy1 + hy;\n\n        if (fmod(i, 10)<0.01) {\n            printf(\"t = %5.1f, \u8a08\u7b97\u5024 -> x=%f, y=%f\\n\", t, x1, y1);\n            fprintf(data,\"%f, %f\\n\", x1, y1);\n        }\n\n        x1 = x2;\n        y1 = y2;\n        vx1 = vx2;\n        vy1 = vy2;\n\n    }\n    fclose(data);\n\n    return 0;\n}\n\n\n\n\u5b9f\u884c\u7d50\u679c\n\n\n\n\u57fa\u672c\u7684\u306b\u306f\u524d\u56de\u306e\u6295\u7a3f\u3068\u307b\u3068\u3093\u3069\u540c\u3058\u3002\n\n\u524d\u56de\u306e\u6295\u7a3f\uff1a[[C\u8a00\u8a9e] \u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97](http://qiita.com/watarumohawk/items/89c64d6595172736c74e)\n\n#\u96fb\u5834\u304c\u3042\u308b\u5834\u5408\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n```math\n\\frac{du_x}{d\u03c4} = \\frac{E_x}{Bv_0} + u_y\n```\n\n---\n\n\u30b3\u30fc\u30c9\u4e2d\u3067\u306f\u96fb\u5834\u306f\u9069\u5f53\u306b$a=1$\u3068\u3057\u3066\u3044\u308b\u3002\n\n#\u30b5\u30f3\u30d7\u30eb\n\n\u96fb\u5834\u304c\u3042\u308b\u5834\u5408\u306e\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u539f\u70b9\u304b\u3089x\u65b9\u5411\u3078\u901f\u5ea6v0\u3067\u653e\u305f\u308c\u305f\u6b63\u306e\u96fb\u8377\u3092\u6301\u3064\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97\u3057\u3001\u56f3\u793a\u3059\u308b\u3002\n\n```C:sample.c\n#include <stdio.h>\n#include <math.h>\n\nint main(void) {\n\n\tFILE *data;\n\n\tdouble x1, x2, y1, y2, vx1, vx2, vy1, vy2, t, dt, x, y, kx1, kx2, kx3, kx4, kx;\n\tdouble ky1, ky2, ky3, ky4, ky, hx1, hx2, hx3, hx4, hx, hy1, hy2, hy3, hy4, hy, x0, y0;\n\n\tdata = fopen(\"data-sample.csv\", \"w\");\n\n\tx1 = 0;\n\ty1 = 0;\n\tvx1 = 1;\n\tvy1 = 0;\n\tdt = 0.01;\n    int a = 1;\n\n\tfor (int i=0; i<=5000; i++) {\n        t = i*dt;\n\n        kx1 = dt*vx1;\n        ky1 = dt*vy1;\n        hx1 = dt*(vy1 + a);\n        hy1 = -dt*vx1;\n\n        kx2 = dt*(vx1 + hx1/2.);\n        ky2 = dt*(vy1 + hy1/2.);\n        hx2 = dt*(vy1 + hy1/2. + a);\n        hy2 = dt*( -(vx1 + hx1/2.) );\n\n        kx3 = dt*(vx1 + hx2/2.);\n        ky3 = dt*(vy1 + hy2/2.);\n        hx3 = dt*(vy1 + hy2/2. + a);\n        hy3 = dt*( -(vx1 + hx2/2.) );\n\n        kx4 = dt*(vx1 + hx3);\n        ky4 = dt*(vy1 + hy3);\n        hx4 = dt*(vy1 + hy3 + a);\n        hy4 = dt*( -(vx1 + hx3) );\n\n        kx = (kx1 + 2*kx2 + 2*kx3 + kx4)/6.;\n        ky = (ky1 + 2*ky2 + 2*ky3 + ky4)/6.;\n\n        x2 = x1 + kx;\n        y2 = y1 + ky;\n\n        hx = (hx1 + 2*hx2 + 2*hx3 + hx4)/6.;\n        hy = (hy1 + 2*hy2 + 2*hy3 + hy4)/6.;\n        vx2 = vx1 + hx;\n        vy2 = vy1 + hy;\n\n        if (fmod(i, 10)<0.01) {\n            printf(\"t = %5.1f, \u8a08\u7b97\u5024 -> x=%f, y=%f\\n\", t, x1, y1);\n            fprintf(data,\"%f, %f\\n\", x1, y1);\n        }\n\n        x1 = x2;\n        y1 = y2;\n        vx1 = vx2;\n        vy1 = vy2;\n\n    }\n    fclose(data);\n\n    return 0;\n}\n\n```\n\n##\u5b9f\u884c\u7d50\u679c\n\n![sample-result.png](https://qiita-image-store.s3.amazonaws.com/0/44742/5e238afa-5a17-a709-1bc9-3947736b468c.png)\n\n\n![sample-graph.png](https://qiita-image-store.s3.amazonaws.com/0/44742/d6a78443-7704-5d18-b3b1-2d553188d08c.png)\n\n\n#\u554f\u984c\n\n\u96fb\u5834\u304c\u3042\u308b\u5834\u5408\u306e\u4e00\u69d8\u78c1\u5834\u4e2d\u306e\u539f\u70b9\u304b\u3089y\u65b9\u5411\u3078\u901f\u5ea6v0\u3067\u653e\u305f\u308c\u305f\u8ca0\u306e\u96fb\u8377\u3092\u6301\u3064\u8377\u96fb\u7c92\u5b50\u306e\u904b\u52d5\u3092\u30eb\u30f3\u30b2\u30af\u30c3\u30bf\u6cd5\u3067\u8a08\u7b97\u3057\u3001\u56f3\u793a\u3059\u308b\u3002\n\n```C:problem.c\n#include <stdio.h>\n#include <math.h>\n\nint main(void) {\n\n    FILE *data;\n\n    double x1, x2, y1, y2, vx1, vx2, vy1, vy2, t, dt, x, y, kx1, kx2, kx3, kx4, kx;\n    double ky1, ky2, ky3, ky4, ky, hx1, hx2, hx3, hx4, hx, hy1, hy2, hy3, hy4, hy, x0, y0;\n\n    data = fopen(\"data-problem.csv\", \"w\");\n\n    x1 = 0;\n    y1 = 0;\n    vx1 = 0;\n    vy1 = 1;\n    dt = 0.01;\n    int a = 1;\n\n    for (int i=0; i<=5000; i++) {\n        t = i*dt;\n\n        kx1 = dt*vx1;\n        ky1 = dt*vy1;\n        hx1 = -dt*vy1;\n        hy1 = dt*(vx1 + a);\n\n        kx2 = dt*(vx1 + hx1/2.);\n        ky2 = dt*(vy1 + hy1/2.);\n        hx2 = dt*( -(vy1 + hy1/2.) );\n        hy2 = dt*(vx1 + hx1/2. + a);\n\n        kx3 = dt*(vx1 + hx2/2.);\n        ky3 = dt*(vy1 + hy2/2.);\n        hx3 = dt*(-(vy1 + hy2/2.) );\n        hy3 = dt*(vx1 + hx2/2. + a);\n\n        kx4 = dt*(vx1 + hx3);\n        ky4 = dt*(vy1 + hy3);\n        hx4 = dt*( -(vy1 + hy3) );\n        hy4 = dt*(vx1 + hx3 + a);\n\n        kx = (kx1 + 2*kx2 + 2*kx3 + kx4)/6.;\n        ky = (ky1 + 2*ky2 + 2*ky3 + ky4)/6.;\n        x2 = x1 + kx;\n        y2 = y1 + ky;\n\n        hx = (hx1 + 2*hx2 + 2*hx3 + hx4)/6.;\n        hy = (hy1 + 2*hy2 + 2*hy3 + hy4)/6.;\n        vx2 = vx1 + hx;\n        vy2 = vy1 + hy;\n\n        if (fmod(i, 10)<0.01) {\n            printf(\"t = %5.1f, \u8a08\u7b97\u5024 -> x=%f, y=%f\\n\", t, x1, y1);\n            fprintf(data,\"%f, %f\\n\", x1, y1);\n        }\n\n        x1 = x2;\n        y1 = y2;\n        vx1 = vx2;\n        vy1 = vy2;\n\n    }\n    fclose(data);\n\n    return 0;\n}\n```\n\n##\u5b9f\u884c\u7d50\u679c\n\n![problem-result.png](https://qiita-image-store.s3.amazonaws.com/0/44742/e918a8f8-dd20-ed3c-8939-f7db7ecac02d.png)\n\n![problem-graph.png](https://qiita-image-store.s3.amazonaws.com/0/44742/40c5e9ce-9df5-4e3b-4488-7211adaefaf2.png)\n", "tags": ["C", "\u6570\u5024\u8a08\u7b97", "\u7269\u7406", "\u96fb\u78c1\u6c17", "\u30d7\u30e9\u30ba\u30de\u7269\u7406"]}