{"context": " More than 1 year has passed since last update.\ncontents_controller.rb\nrequire 'RMagick'\n\ndef create\n  # ...\n  picture = Magick::Image.from_blob(params[:picture].read).shift\n  @content.thumbnail = create_square_thumbnail(picture, 300).to_blob\n  # ...\nend\n\nprivate\ndef create_square_thumbnail(picture, size)\n  picture.resize_to_fit!(size, size)\n  img = Magick::Image.new(size, size)\n  img.background_color = '#ffffff'\n  img.composite!(picture, Magick::CenterGravity, Magick::OverCompositeOp)\n  img.format = 'PNG'\n  return img \nend\n\n\n\n```ruby:contents_controller.rb\nrequire 'RMagick'\n\ndef create\n  # ...\n  picture = Magick::Image.from_blob(params[:picture].read).shift\n  @content.thumbnail = create_square_thumbnail(picture, 300).to_blob\n  # ...\nend\n\nprivate\ndef create_square_thumbnail(picture, size)\n  picture.resize_to_fit!(size, size)\n  img = Magick::Image.new(size, size)\n  img.background_color = '#ffffff'\n  img.composite!(picture, Magick::CenterGravity, Magick::OverCompositeOp)\n  img.format = 'PNG'\n  return img \nend\n```", "tags": ["Ruby", "Rails", "RMagick"]}