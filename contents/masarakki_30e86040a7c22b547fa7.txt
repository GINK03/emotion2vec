{"tags": ["Rails", "Gem"], "context": " More than 1 year has passed since last update.\n\nrails plugin \u3063\u3066\u306a\u3093\u3088\nrails plugin new hoge \n\n\u3068\u304b\nrails plugin new hoge --mountable\n\n\u3068\u304b\u3067\u4f5c\u308b\u30a2\u30ec\n\u5b9f\u884c\u3059\u308b\u3068\u901a\u5e38\u306egem\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u5f0f\u306b\u52a0\u3048 test/dummy \u306b\u30c0\u30df\u30fc\u306erails\u30a2\u30d7\u30ea\u304c\u4f5c\u3089\u308c\u308b\n\u4ee5\u4e0b\u3067\u306f\u30b3\u30fc\u30c9\u4e00\u5f0f\u304c ~/hoge \u306b\u4f5c\u3089\u308c\u305f\u3053\u3068\u306b\u3059\u308b \nrspec \u3092\u4f7f\u3046\u5834\u5408\u306b\u306f test/dummy \u3092 spec/dummy \u306b\u3057\u3066\u5f8c\u8ff0\u306e\u30d1\u30b9\u3092\u66f8\u304d\u63db\u3048\u308b\n\nRakefile \u306e\u9055\u3044\nAPP_RAKEFILE = FILE.expand_path('../test/dummy/Rakefile' __FILE__)\nload 'rails/tasks/engine.rake'\n\n\u3053\u306e2\u884c\u3067\u30c0\u30df\u30fc\u30a2\u30d7\u30ea\u306erake\u30bf\u30b9\u30af\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\n\ntest/test_helper.rb \u306e\u9055\u3044\nrequire File.expand_path('../dummy/config/environment.rb', __FILE__)\n\n\u3067\u30c0\u30df\u30fc\u30a2\u30d7\u30ea\u306eenvironment\u3092\u8aad\u3093\u3067\u3044\u308b\n\nActiveRecord \u3092\u4f7f\u3044\u305f\u3044\n\n\u30c6\u30b9\u30c8\u3067\u4f7f\u3044\u305f\u3044\u30e2\u30c7\u30eb\ntest/dummy \u3067\nrails g model foo \n\n\u3068\u3084\u308c\u3070\u3044\u3064\u3082\u3069\u304a\u308amodel\u3068migration\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u3089\u308c\u308b\n~/hoge \u3067\nrake db:migrate\n\n\u3059\u308c\u3070\u30c0\u30df\u30fc\u30a2\u30d7\u30ea\u5185\u306emigration\u3082\u5b9f\u884c\u3055\u308c\u308b\n\nrails\u30a2\u30d7\u30ea\u3067\u4f7f\u3044\u305f\u3044\u30e2\u30c7\u30eb\n--mountable \u3067\u4f5c\u3063\u305f\u6642\u306e\u307f (Railtie\u3058\u3083\u306a\u304fEngine\u4f7f\u3063\u3066\u308b\u5834\u5408)\n~/hoge/app/models \u306b\u30e2\u30c7\u30eb\u3092\u914d\u7f6e\u3059\u308b\u3068rails\u30a2\u30d7\u30ea\u304b\u3089\u81ea\u52d5\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\n~/hoge/db/migrate \u306bmigration\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3068\nrake hoge:install:migrations\n\n\u3067\u305d\u306emigration\u30d5\u30a1\u30a4\u30eb\u3092rails\u30a2\u30d7\u30ea\u306e db/migrate \u306b\u30b3\u30d4\u30fc\u3067\u304d\u308b\n\n\u30c6\u30b9\u30c8db\u306e\u6b63\u3057\u3044\u4f5c\u308a\u65b9\n\u6614\u3067\u3044\u3046 rake db:test:prepare \u304c\u3084\u3063\u3066\u3044\u305f\u30c6\u30b9\u30c8db\u306e\u4f5c\u6210\u306f\u4eca\u306f\u81ea\u52d5\u5316\u3055\u308c \ntest/unit \u306e\u5834\u5408\u306f test/test_helper.rb \u5185\u306e require 'rails/test_help'\nrspec \u306e\u5834\u5408\u306f spec/rails_helper.rb \u5185\u306e ActiveRecord::Migration.maintain_test_schema!\n \u3067\u884c\u308f\u308c\u308b\n\u3053\u306e\u3068\u304d\u672a\u5b9f\u884c\u306emigration\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f db/migrate \u306e\u30d5\u30a1\u30a4\u30eb\u3057\u304b\u898b\u306a\u3044\ntest/dummy/db/migrate \u3082\u898b\u3066\u3084\u308b\u306b\u306f\nActiveRecord::Migrator.migrations_paths = %w(db/migrate test/dummy/db/migrate)\n\u3092\u8ffd\u52a0\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n### rails plugin \u3063\u3066\u306a\u3093\u3088\n\n    rails plugin new hoge \n\n\u3068\u304b\n\n    rails plugin new hoge --mountable\n\n\u3068\u304b\u3067\u4f5c\u308b\u30a2\u30ec\n\n\u5b9f\u884c\u3059\u308b\u3068\u901a\u5e38\u306egem\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u5f0f\u306b\u52a0\u3048 `test/dummy` \u306b\u30c0\u30df\u30fc\u306erails\u30a2\u30d7\u30ea\u304c\u4f5c\u3089\u308c\u308b\n\u4ee5\u4e0b\u3067\u306f\u30b3\u30fc\u30c9\u4e00\u5f0f\u304c `~/hoge` \u306b\u4f5c\u3089\u308c\u305f\u3053\u3068\u306b\u3059\u308b \n\n`rspec` \u3092\u4f7f\u3046\u5834\u5408\u306b\u306f `test/dummy` \u3092 `spec/dummy` \u306b\u3057\u3066\u5f8c\u8ff0\u306e\u30d1\u30b9\u3092\u66f8\u304d\u63db\u3048\u308b\n\n### `Rakefile` \u306e\u9055\u3044\n\n```rb\nAPP_RAKEFILE = FILE.expand_path('../test/dummy/Rakefile' __FILE__)\nload 'rails/tasks/engine.rake'\n```\n\n\u3053\u306e2\u884c\u3067\u30c0\u30df\u30fc\u30a2\u30d7\u30ea\u306erake\u30bf\u30b9\u30af\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\n\n### `test/test_helper.rb` \u306e\u9055\u3044\n\n```rb\nrequire File.expand_path('../dummy/config/environment.rb', __FILE__)\n```\n\n\u3067\u30c0\u30df\u30fc\u30a2\u30d7\u30ea\u306eenvironment\u3092\u8aad\u3093\u3067\u3044\u308b\n\n### ActiveRecord \u3092\u4f7f\u3044\u305f\u3044\n\n#### \u30c6\u30b9\u30c8\u3067\u4f7f\u3044\u305f\u3044\u30e2\u30c7\u30eb\n\n`test/dummy` \u3067\n\n    rails g model foo \n\n\u3068\u3084\u308c\u3070\u3044\u3064\u3082\u3069\u304a\u308amodel\u3068migration\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u3089\u308c\u308b\n\n`~/hoge` \u3067\n\n    rake db:migrate\n\n\u3059\u308c\u3070\u30c0\u30df\u30fc\u30a2\u30d7\u30ea\u5185\u306emigration\u3082\u5b9f\u884c\u3055\u308c\u308b\n\n#### rails\u30a2\u30d7\u30ea\u3067\u4f7f\u3044\u305f\u3044\u30e2\u30c7\u30eb\n\n--mountable \u3067\u4f5c\u3063\u305f\u6642\u306e\u307f (Railtie\u3058\u3083\u306a\u304fEngine\u4f7f\u3063\u3066\u308b\u5834\u5408)\n`~/hoge/app/models` \u306b\u30e2\u30c7\u30eb\u3092\u914d\u7f6e\u3059\u308b\u3068rails\u30a2\u30d7\u30ea\u304b\u3089\u81ea\u52d5\u3067\u8aad\u307f\u8fbc\u307e\u308c\u308b\n`~/hoge/db/migrate` \u306bmigration\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304f\u3068\n\n    rake hoge:install:migrations\n\n\u3067\u305d\u306emigration\u30d5\u30a1\u30a4\u30eb\u3092rails\u30a2\u30d7\u30ea\u306e `db/migrate` \u306b\u30b3\u30d4\u30fc\u3067\u304d\u308b\n\n#### \u30c6\u30b9\u30c8db\u306e\u6b63\u3057\u3044\u4f5c\u308a\u65b9\n\n\u6614\u3067\u3044\u3046 `rake db:test:prepare` \u304c\u3084\u3063\u3066\u3044\u305f\u30c6\u30b9\u30c8db\u306e\u4f5c\u6210\u306f\u4eca\u306f\u81ea\u52d5\u5316\u3055\u308c \n`test/unit` \u306e\u5834\u5408\u306f `test/test_helper.rb` \u5185\u306e `require 'rails/test_help'`\n`rspec` \u306e\u5834\u5408\u306f `spec/rails_helper.rb` \u5185\u306e `ActiveRecord::Migration.maintain_test_schema!`\n \u3067\u884c\u308f\u308c\u308b\n\n\u3053\u306e\u3068\u304d\u672a\u5b9f\u884c\u306emigration\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f `db/migrate` \u306e\u30d5\u30a1\u30a4\u30eb\u3057\u304b\u898b\u306a\u3044\n`test/dummy/db/migrate` \u3082\u898b\u3066\u3084\u308b\u306b\u306f\n\n`ActiveRecord::Migrator.migrations_paths = %w(db/migrate test/dummy/db/migrate)`\n\n\u3092\u8ffd\u52a0\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\n"}