{"tags": ["Arduino", "ESP8266", "ds3231"], "context": "\n\n\u6982\u8981\nDS3231\u306b\u306f\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u304c\u3064\u3044\u3066\u308b\u3002\n\u3053\u306e\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u3092\u4f7f\u3063\u3066DeepSleep\u30e2\u30fc\u30c9\u4e2d\u306eESP8266\u3092\u30aa\u30f3\u306b\u3057\u305f\u3044\u3002\n\u305f\u3060\u3001DS3231\u306b\u306f\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u304c\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u307e\u3068\u3081\u3066\u898b\u308b\u3002\n\u9055\u3063\u3066\u305f\u3089\u3054\u6307\u6458\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\n\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u306falarm1,alarm2\u304c\u3042\u308b\u3088\u3046\u3067\u3059\n\nalarm1\n1-1.1\u79d2\u306b1\u56de\u306e\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n1-2.\u5206\u3068\u79d2\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n1-3.\u6642\u3001\u5206\u3001\u79d2\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n1-4.\u65e5\u3001\u6642\u3001\u5206\u3001\u79d2\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n1-5.\u66dc\u65e5\u3001\u6642\u3001\u5206\u3001\u79d2\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n\nalarm2\n2-1.1\u5206\u9593\u306b1\u56de\u30a2\u30e9\u30fc\u30e0\uff08\u6bce\u520600\u79d2\uff09\u304c\u767a\u751f\u3059\u308b\n2-2.\u5206\u304c\u4e00\u81f4\u3057\u305f\u3068\u304d\u306e\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n2-3.\u6642\u3001\u5206\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n2-4.\u65e5\u3001\u6642\u3001\u5206\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n2-5.\u66dc\u65e5\u3001\u6642\u3001\u5206\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n\u96e3\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f\u3051\u3069\u3001alarm1\u306f\u79d2\u5358\u4f4d\u3067\u6307\u5b9a\u3001alarm2\u306f\u5206\u5358\u4f4d\u3067\u30a2\u30e9\u30fc\u30e0\u3092\n\u6307\u5b9a\u3067\u304d\u308b\u3063\u3066\u3053\u3068\u306e\u3088\u3046\u3067\u3059\u3002\n\u3053\u3061\u3089\u306e\u30b5\u30a4\u30c8\u306b\u3082\u95a2\u9023\u8a18\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\nhttp://blogs.yahoo.co.jp/dascomp21/68145713.html\n\u30c7\u30fc\u30bf\u30fc\u30b7\u30fc\u30c8\nhttps://datasheets.maximintegrated.com/en/ds/DS3231.pdf\n\n\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u3092\u4f7f\u3046\nhttps://github.com/jarzebski/Arduino-DS3231\nDS3231_alarm.ino\u3092\u66f8\u304d\u8fbc\u3093\u3067\u304a\u8a66\u3057\u3057\u305f\u3002\n\u4f8b\n30\u79d2\u6bce\u306b\u30bf\u30a4\u30de\u30fc\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3057\u305f\u3002\n#include <Wire.h>\n#include <DS3231.h>\n\nDS3231 clock;\nRTCDateTime dt;\n\nvoid setup()\n{\n  Serial.begin(115200);\n\n  Serial.println(\"Initialize DS3231\");;\n  clock.begin();\n\n  clock.armAlarm1(false);\n  clock.armAlarm2(false);\n  clock.clearAlarm1();\n  clock.clearAlarm2();\n\n  clock.setAlarm1(0, 0, 0, 30, DS3231_MATCH_S);\n  clock.setAlarm2(0, 0, 0,     DS3231_EVERY_MINUTE);\n\n}\n\n\nvoid loop()\n{\n  dt = clock.getDateTime();\n\n  Serial.println(clock.dateFormat(\"d-m-Y H:i:s - l\", dt));\n\n  // Call isAlarm1(false) if you want clear alarm1 flag manualy by clearAlarm1();\n  if (clock.isAlarm1())\n  {\n    Serial.println(\"ALARM 1 TRIGGERED!\");\n  }\n\n  // Call isAlarm2(false) if you want clear alarm1 flag manualy by clearAlarm2();\n  if (clock.isAlarm2())\n  {\n    Serial.println(\"ALARM 2 TRIGGERED!\");\n  }\n\n  delay(1000);\n}\n\nsetAlarm1(\u66dc\u65e5 or \u65e5, \u6642, \u5206, \u79d2, mode)\nsetAlarm2(\u66dc\u65e5 or \u65e5, \u6642, \u5206, \u3000  mode)\n\u4f8b\nAlarm1\u306730\u79d2\u306b\u306a\u3063\u305f\u3089\u3001Alarm2\u3067\u6bce\u5206\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\n  clock.setAlarm1(0, 0, 0, 30, DS3231_MATCH_S);\n  clock.setAlarm2(0, 0, 0,     DS3231_EVERY_MINUTE);\n\n\u307e\u3068\u3081\n\u4f55\u65e5\u3001\u4f55\u6642\u3001\u4f55\u5206\u3001\u4f55\u79d2\u3068\u8a00\u3046\u306e\u306f\u8a2d\u5b9a\u3067\u3067\u304d\u308b\u3051\u3069\u300115\u79d2\u6bce\u3068\u304b10\u5206\u6bce\u3068\u8a00\u3046\u306e\u306f\n\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u306b\u4ed5\u639b\u3051\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u306a\u3093\u304b\u3001\u304a\u3082\u3063\u3066\u305f\u3093\u3068\u9055\u3046\u611f\u3058\u3067\u3059\u3002\n#\u6982\u8981\nDS3231\u306b\u306f\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u304c\u3064\u3044\u3066\u308b\u3002\n\u3053\u306e\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u3092\u4f7f\u3063\u3066DeepSleep\u30e2\u30fc\u30c9\u4e2d\u306eESP8266\u3092\u30aa\u30f3\u306b\u3057\u305f\u3044\u3002\n\u305f\u3060\u3001DS3231\u306b\u306f\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u304c\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u306e\u3067\u307e\u3068\u3081\u3066\u898b\u308b\u3002\n\u9055\u3063\u3066\u305f\u3089\u3054\u6307\u6458\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\n#\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\n\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u306falarm1,alarm2\u304c\u3042\u308b\u3088\u3046\u3067\u3059\n###alarm1\n1-1.1\u79d2\u306b1\u56de\u306e\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n1-2.\u5206\u3068\u79d2\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n1-3.\u6642\u3001\u5206\u3001\u79d2\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n1-4.\u65e5\u3001\u6642\u3001\u5206\u3001\u79d2\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n1-5.\u66dc\u65e5\u3001\u6642\u3001\u5206\u3001\u79d2\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n###alarm2\n2-1.1\u5206\u9593\u306b1\u56de\u30a2\u30e9\u30fc\u30e0\uff08\u6bce\u520600\u79d2\uff09\u304c\u767a\u751f\u3059\u308b\n2-2.\u5206\u304c\u4e00\u81f4\u3057\u305f\u3068\u304d\u306e\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n2-3.\u6642\u3001\u5206\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n2-4.\u65e5\u3001\u6642\u3001\u5206\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n2-5.\u66dc\u65e5\u3001\u6642\u3001\u5206\u304c\u4e00\u81f4\u3059\u308b\u3068\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\n\n\u96e3\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f\u3051\u3069\u3001alarm1\u306f\u79d2\u5358\u4f4d\u3067\u6307\u5b9a\u3001alarm2\u306f\u5206\u5358\u4f4d\u3067\u30a2\u30e9\u30fc\u30e0\u3092\n\u6307\u5b9a\u3067\u304d\u308b\u3063\u3066\u3053\u3068\u306e\u3088\u3046\u3067\u3059\u3002\n\n\u3053\u3061\u3089\u306e\u30b5\u30a4\u30c8\u306b\u3082\u95a2\u9023\u8a18\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\nhttp://blogs.yahoo.co.jp/dascomp21/68145713.html\n\u30c7\u30fc\u30bf\u30fc\u30b7\u30fc\u30c8\nhttps://datasheets.maximintegrated.com/en/ds/DS3231.pdf\n\n#\u30a2\u30e9\u30fc\u30e0\u6a5f\u80fd\u3092\u4f7f\u3046\nhttps://github.com/jarzebski/Arduino-DS3231\nDS3231_alarm.ino\u3092\u66f8\u304d\u8fbc\u3093\u3067\u304a\u8a66\u3057\u3057\u305f\u3002\n\n\u4f8b\n30\u79d2\u6bce\u306b\u30bf\u30a4\u30de\u30fc\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3057\u305f\u3002\n\n```\n#include <Wire.h>\n#include <DS3231.h>\n\nDS3231 clock;\nRTCDateTime dt;\n\nvoid setup()\n{\n  Serial.begin(115200);\n  \n  Serial.println(\"Initialize DS3231\");;\n  clock.begin();\n\n  clock.armAlarm1(false);\n  clock.armAlarm2(false);\n  clock.clearAlarm1();\n  clock.clearAlarm2();\n \n  clock.setAlarm1(0, 0, 0, 30, DS3231_MATCH_S);\n  clock.setAlarm2(0, 0, 0,     DS3231_EVERY_MINUTE);\n\n}\n\n\nvoid loop()\n{\n  dt = clock.getDateTime();\n\n  Serial.println(clock.dateFormat(\"d-m-Y H:i:s - l\", dt));\n\n  // Call isAlarm1(false) if you want clear alarm1 flag manualy by clearAlarm1();\n  if (clock.isAlarm1())\n  {\n    Serial.println(\"ALARM 1 TRIGGERED!\");\n  }\n\n  // Call isAlarm2(false) if you want clear alarm1 flag manualy by clearAlarm2();\n  if (clock.isAlarm2())\n  {\n    Serial.println(\"ALARM 2 TRIGGERED!\");\n  }\n \n  delay(1000);\n}\n```\n\nsetAlarm1(\u66dc\u65e5 or \u65e5, \u6642, \u5206, \u79d2, mode)\nsetAlarm2(\u66dc\u65e5 or \u65e5, \u6642, \u5206, \u3000  mode)\n\n\u4f8b\nAlarm1\u306730\u79d2\u306b\u306a\u3063\u305f\u3089\u3001Alarm2\u3067\u6bce\u5206\u30a2\u30e9\u30fc\u30e0\u304c\u767a\u751f\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\n  clock.setAlarm1(0, 0, 0, 30, DS3231_MATCH_S);\n  clock.setAlarm2(0, 0, 0,     DS3231_EVERY_MINUTE);\n\n#\u307e\u3068\u3081\n\u4f55\u65e5\u3001\u4f55\u6642\u3001\u4f55\u5206\u3001\u4f55\u79d2\u3068\u8a00\u3046\u306e\u306f\u8a2d\u5b9a\u3067\u3067\u304d\u308b\u3051\u3069\u300115\u79d2\u6bce\u3068\u304b10\u5206\u6bce\u3068\u8a00\u3046\u306e\u306f\n\u30d7\u30ed\u30b0\u30e9\u30e0\u4e0a\u306b\u4ed5\u639b\u3051\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u306a\u3093\u304b\u3001\u304a\u3082\u3063\u3066\u305f\u3093\u3068\u9055\u3046\u611f\u3058\u3067\u3059\u3002\n\n"}