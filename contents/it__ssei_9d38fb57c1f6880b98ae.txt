{"context": "\u3059\u3044\u307e\u305b\u3093\u3061\u3087\u3044\u9045\u308c\u307e\u3057\u305f\u304c12/21\u306eG* Advent Calendar\u3067\u3059\u3002\nFFT(\u9ad8\u901f\u30d5\u30fc\u30ea\u30a8\u5909\u63db)\u3068\u3044\u3046\u304bDFT(\u96e2\u6563\u30d5\u30fc\u30ea\u30a8\u5909\u63db)\u3084\u308a\u307e\u3059\u3002\n\n\u4f7f\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\nJTransforms https://github.com/wendykierp/JTransforms\n\n\u5165\u529b\u6ce2\u5f62\n\ninput\n[0.0, 0.049067674327418015, 0.0980171403295606, 0.14673047445536175, 0.19509032201612825, 0.24298017990326387, 0.29028467725446233, 0.33688985339222005, 0.3826834323650898, 0.4275550934302821, 0.47139673682599764, 0.5141027441932217, 0.5555702330196022, 0.5956993044924334, 0.6343932841636455, 0.6715589548470183, 0.7071067811865475, 0.7409511253549591, 0.7730104533627369, 0.8032075314806448, 0.8314696123025452, 0.8577286100002721, 0.8819212643483549, 0.9039892931234433, 0.9238795325112867, 0.9415440651830208, 0.9569403357322089, 0.970031253194544, 0.9807852804032304, 0.989176509964781, 0.9951847266721968, 0.9987954562051724, 1.0, 0.9987954562051724, 0.9951847266721969, 0.989176509964781, 0.9807852804032304, 0.970031253194544, 0.9569403357322089, 0.9415440651830208, 0.9238795325112867, 0.9039892931234434, 0.881921264348355, 0.8577286100002721, 0.8314696123025453, 0.8032075314806449, 0.7730104533627371, 0.740951125354959, 0.7071067811865476, 0.6715589548470186, 0.6343932841636455, 0.5956993044924335, 0.5555702330196022, 0.5141027441932218, 0.47139673682599786, 0.42755509343028203, 0.3826834323650899, 0.33688985339222033, 0.2902846772544624, 0.24298017990326407, 0.1950903220161286, 0.1467304744553618, 0.09801714032956083, 0.049067674327417966, 1.2246467991473532E-16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\n\n\n\nFFT\u30b3\u30fc\u30c9\n\ndft_sample.groovy\n@Grab(\"com.github.wendykierp:JTransforms:3.1\")\n\nimport org.jtransforms.fft.DoubleFFT_1D\n\ndef numPoints = 64\n\n// numPoints + 1\u500b\u306e\u30c7\u30fc\u30bf\ndef x = []\n0.step(1 + 1.0 / numPoints, 1.0 / numPoints) { x << it }\n\n// FFT\u306b\u7528\u3044\u308bsin\u6ce2\ndef f = x.collect { Math.sin( it * Math.PI) }\n\n// FFT\u7528\u306b\u30b5\u30a4\u30ba\u30922\u500d\u306b\u3057\u30010\u3067\u57cb\u3081\u308b\nf << [0] * (numPoints - 1)\nf = f.flatten()\nprintln f\n\n// FFT\u7528\u306bdouble\u306b\u8a70\u3081\u306a\u304a\u3059\ndouble[] fDouble = new double[numPoints * 2]\nf.eachWithIndex { it, i ->\n  fDouble[i] = it\n}\n\ndef fft = new DoubleFFT_1D(numPoints)\nfft.realForward(fDouble)\nprintln fDouble\n\n\n\n\u51fa\u529b(\u30d1\u30ef\u30fc\u30b9\u30da\u30af\u30c8\u30eb)\n\u6b63\u898f\u5316\u3068\u304b\u7279\u306b\u306a\u306b\u3082\u3057\u308c\u3044\u306a\u306e\u3067\u3042\u308c\u3067\u3059\u304c\n\noutput\n[40.73548387208331, -0.024548622108927276, -13.589407314865438, 8.881784197001252E-16, -2.7244417193377584, 4.440892098500626E-16, -1.172321899279049, 5.551115123125783E-16, -0.6549698903522008, 5.551115123125783E-17, -0.41983327155349126, 6.38378239159465E-16, -0.29324623849482734, 1.6653345369377348E-16, -0.21732034328985128, 4.718447854656915E-16, -0.1682193329044574, -1.2559397966072083E-15, -0.1346525297928969, 9.020562075079397E-17, -0.11070596112458637, -6.626643678231403E-16, -0.09303715106699177, -3.382710778154774E-16, -0.07964083223305846, -9.922618282587337E-16, -0.06925466172876894, -1.734723475976807E-17, -0.06105183635156024, 2.252972114424878E-16, -0.05447253054678732, -1.4181364416110398E-16, -0.04912684976946835, -0.0, -0.04473660722209264, -1.4181364416110398E-16, -0.04109913630139779, 5.583641188300348E-16, -0.03806409939444906, 1.491862189340054E-16, -0.035518222343737055, -9.922618282587337E-16, -0.03337500672361353, 9.107298248878237E-16, -0.03156765146552513, 5.030698080332741E-16, -0.030044092954215715, -5.620504062164855E-16, -0.028763473809871924, -1.2559397966072083E-15, -0.02769359446339291, -6.245004513516506E-16, -0.02680905360195942, 1.1102230246251565E-16, -0.026089880411642563, -5.551115123125783E-16, -0.025520524589636717, 5.551115123125783E-17, -0.025089112000558356, -7.771561172376096E-16, -0.024786902307144976, -4.440892098500626E-16, -0.024607904706760664, 0.0, 1.2246467991473532E-16, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\n\n\n\u30b0\u30e9\u30d5\u306b\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3002\u6ce2\u6570\u304c\u5c0f\u3055\u3044\u3068\u3053\u308d\u306b\u5168\u90e8\u96c6\u307e\u3063\u3066\u308b\u306e\u3067\u3001FFT\u81ea\u4f53\u306f\u3067\u304d\u3066\u3044\u305d\u3046\u3002\n\n\n\u88dc\u8db3\n\n\u30b9\u30ec\u30c3\u30c9\u6570\u6307\u5b9a\u306a\u3069\u3092\u7701\u7565\u3057\u305f\u306e\u3067\u3001\u6027\u80fd\u3092\u51fa\u3057\u305f\u3044\u5834\u5408\u306f\u305d\u306e\u3042\u305f\u308a\u3092\u8ffd\u52a0\u3057\u305f\u307b\u3046\u304c\u826f\u3055\u305d\u3046\u3002\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u53c2\u8003\u306b\u306a\u308b\u306f\u305a https://github.com/wendykierp/JTransforms/blob/master/src/test/java/org/jtransforms/fft/DoubleFFT_1DTest.java\n\ndouble[] \u3078\u306e\u5909\u63db\u306f\u3001Java8\u306elambda\u306bGroovy\u304c\u5bfe\u5fdc\u3057\u305f\u3089\u3082\u3063\u3068\u7c21\u5358\u306b\u306a\u308a\u305d\u3046 http://stackoverflow.com/questions/6018267/how-to-cast-from-listdouble-to-double-in-java \u306e\u56de\u7b54\u4e8c\u3064\u76ee\u3068\u304b\u3002\n\n\nGroovy\u3067FFT\u3057\u3066\u307f\u305f\u611f\u60f3\n\u6700\u521d\u306fFFTW\u4f7f\u304a\u3046\u3068\u3057\u3066\u3044\u305f\u306e\u3067\u7d50\u69cb\u82e6\u6226\u3057\u307e\u3057\u305f\u304c\u3001\u4f7f\u3044\u3084\u3059\u3044\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5206\u304b\u3063\u3066\u307f\u308b\u3068\u7c21\u5358\uff01\n\u3059\u3044\u307e\u305b\u3093\u3061\u3087\u3044\u9045\u308c\u307e\u3057\u305f\u304c12/21\u306eG* Advent Calendar\u3067\u3059\u3002\nFFT(\u9ad8\u901f\u30d5\u30fc\u30ea\u30a8\u5909\u63db)\u3068\u3044\u3046\u304bDFT(\u96e2\u6563\u30d5\u30fc\u30ea\u30a8\u5909\u63db)\u3084\u308a\u307e\u3059\u3002\n\n# \u4f7f\u3046\u30e9\u30a4\u30d6\u30e9\u30ea\nJTransforms https://github.com/wendykierp/JTransforms\n\n# \u5165\u529b\u6ce2\u5f62\n\n```shell-session:input\n[0.0, 0.049067674327418015, 0.0980171403295606, 0.14673047445536175, 0.19509032201612825, 0.24298017990326387, 0.29028467725446233, 0.33688985339222005, 0.3826834323650898, 0.4275550934302821, 0.47139673682599764, 0.5141027441932217, 0.5555702330196022, 0.5956993044924334, 0.6343932841636455, 0.6715589548470183, 0.7071067811865475, 0.7409511253549591, 0.7730104533627369, 0.8032075314806448, 0.8314696123025452, 0.8577286100002721, 0.8819212643483549, 0.9039892931234433, 0.9238795325112867, 0.9415440651830208, 0.9569403357322089, 0.970031253194544, 0.9807852804032304, 0.989176509964781, 0.9951847266721968, 0.9987954562051724, 1.0, 0.9987954562051724, 0.9951847266721969, 0.989176509964781, 0.9807852804032304, 0.970031253194544, 0.9569403357322089, 0.9415440651830208, 0.9238795325112867, 0.9039892931234434, 0.881921264348355, 0.8577286100002721, 0.8314696123025453, 0.8032075314806449, 0.7730104533627371, 0.740951125354959, 0.7071067811865476, 0.6715589548470186, 0.6343932841636455, 0.5956993044924335, 0.5555702330196022, 0.5141027441932218, 0.47139673682599786, 0.42755509343028203, 0.3826834323650899, 0.33688985339222033, 0.2902846772544624, 0.24298017990326407, 0.1950903220161286, 0.1467304744553618, 0.09801714032956083, 0.049067674327417966, 1.2246467991473532E-16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n```\n\n![image (1).png](https://qiita-image-store.s3.amazonaws.com/0/31245/7e8ca389-a16f-ca3c-6446-af21dbf3f144.png)\n\n# FFT\u30b3\u30fc\u30c9\n\n```groovy:dft_sample.groovy\n@Grab(\"com.github.wendykierp:JTransforms:3.1\")\n\nimport org.jtransforms.fft.DoubleFFT_1D\n\ndef numPoints = 64\n\n// numPoints + 1\u500b\u306e\u30c7\u30fc\u30bf\ndef x = []\n0.step(1 + 1.0 / numPoints, 1.0 / numPoints) { x << it }\n\n// FFT\u306b\u7528\u3044\u308bsin\u6ce2\ndef f = x.collect { Math.sin( it * Math.PI) }\n\n// FFT\u7528\u306b\u30b5\u30a4\u30ba\u30922\u500d\u306b\u3057\u30010\u3067\u57cb\u3081\u308b\nf << [0] * (numPoints - 1)\nf = f.flatten()\nprintln f\n\n// FFT\u7528\u306bdouble\u306b\u8a70\u3081\u306a\u304a\u3059\ndouble[] fDouble = new double[numPoints * 2]\nf.eachWithIndex { it, i ->\n  fDouble[i] = it\n}\n\ndef fft = new DoubleFFT_1D(numPoints)\nfft.realForward(fDouble)\nprintln fDouble\n```\n\n# \u51fa\u529b(\u30d1\u30ef\u30fc\u30b9\u30da\u30af\u30c8\u30eb)\n\n\u6b63\u898f\u5316\u3068\u304b\u7279\u306b\u306a\u306b\u3082\u3057\u308c\u3044\u306a\u306e\u3067\u3042\u308c\u3067\u3059\u304c\n\n```shell-session:output\n[40.73548387208331, -0.024548622108927276, -13.589407314865438, 8.881784197001252E-16, -2.7244417193377584, 4.440892098500626E-16, -1.172321899279049, 5.551115123125783E-16, -0.6549698903522008, 5.551115123125783E-17, -0.41983327155349126, 6.38378239159465E-16, -0.29324623849482734, 1.6653345369377348E-16, -0.21732034328985128, 4.718447854656915E-16, -0.1682193329044574, -1.2559397966072083E-15, -0.1346525297928969, 9.020562075079397E-17, -0.11070596112458637, -6.626643678231403E-16, -0.09303715106699177, -3.382710778154774E-16, -0.07964083223305846, -9.922618282587337E-16, -0.06925466172876894, -1.734723475976807E-17, -0.06105183635156024, 2.252972114424878E-16, -0.05447253054678732, -1.4181364416110398E-16, -0.04912684976946835, -0.0, -0.04473660722209264, -1.4181364416110398E-16, -0.04109913630139779, 5.583641188300348E-16, -0.03806409939444906, 1.491862189340054E-16, -0.035518222343737055, -9.922618282587337E-16, -0.03337500672361353, 9.107298248878237E-16, -0.03156765146552513, 5.030698080332741E-16, -0.030044092954215715, -5.620504062164855E-16, -0.028763473809871924, -1.2559397966072083E-15, -0.02769359446339291, -6.245004513516506E-16, -0.02680905360195942, 1.1102230246251565E-16, -0.026089880411642563, -5.551115123125783E-16, -0.025520524589636717, 5.551115123125783E-17, -0.025089112000558356, -7.771561172376096E-16, -0.024786902307144976, -4.440892098500626E-16, -0.024607904706760664, 0.0, 1.2246467991473532E-16, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\n```\n\n\u30b0\u30e9\u30d5\u306b\u3059\u308b\u3068\u3053\u3093\u306a\u611f\u3058\u3002\u6ce2\u6570\u304c\u5c0f\u3055\u3044\u3068\u3053\u308d\u306b\u5168\u90e8\u96c6\u307e\u3063\u3066\u308b\u306e\u3067\u3001FFT\u81ea\u4f53\u306f\u3067\u304d\u3066\u3044\u305d\u3046\u3002\n\n![image.png](https://qiita-image-store.s3.amazonaws.com/0/31245/5777f699-73f6-d2a1-6abd-6c96bfc67a99.png)\n\n# \u88dc\u8db3\n\n* \u30b9\u30ec\u30c3\u30c9\u6570\u6307\u5b9a\u306a\u3069\u3092\u7701\u7565\u3057\u305f\u306e\u3067\u3001\u6027\u80fd\u3092\u51fa\u3057\u305f\u3044\u5834\u5408\u306f\u305d\u306e\u3042\u305f\u308a\u3092\u8ffd\u52a0\u3057\u305f\u307b\u3046\u304c\u826f\u3055\u305d\u3046\u3002\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u304c\u53c2\u8003\u306b\u306a\u308b\u306f\u305a https://github.com/wendykierp/JTransforms/blob/master/src/test/java/org/jtransforms/fft/DoubleFFT_1DTest.java\n* double[] \u3078\u306e\u5909\u63db\u306f\u3001Java8\u306elambda\u306bGroovy\u304c\u5bfe\u5fdc\u3057\u305f\u3089\u3082\u3063\u3068\u7c21\u5358\u306b\u306a\u308a\u305d\u3046 http://stackoverflow.com/questions/6018267/how-to-cast-from-listdouble-to-double-in-java \u306e\u56de\u7b54\u4e8c\u3064\u76ee\u3068\u304b\u3002\n\n# Groovy\u3067FFT\u3057\u3066\u307f\u305f\u611f\u60f3\n\n\u6700\u521d\u306fFFTW\u4f7f\u304a\u3046\u3068\u3057\u3066\u3044\u305f\u306e\u3067\u7d50\u69cb\u82e6\u6226\u3057\u307e\u3057\u305f\u304c\u3001\u4f7f\u3044\u3084\u3059\u3044\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5206\u304b\u3063\u3066\u307f\u308b\u3068\u7c21\u5358\uff01\n", "tags": ["Groovy", "FFT"]}