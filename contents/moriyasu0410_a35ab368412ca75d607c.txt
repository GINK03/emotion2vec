{"tags": ["windows7Service Pack 1", "vagrant1.6.5", "ChefDK0.3.0", "VirtualBox4.3.16"], "context": " More than 1 year has passed since last update.\n\n\u524d\u63d0\u6761\u4ef6\n\nWindows7 Service Pack 1\nVirtualbox 4.3.16\nVagrant 1.6.5\nChefDK 0.3.0\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4e0b\u8a18\u306eGEM\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\nc:\\opscode\\chefdk\\bin\\chef gem install knife-solo\n\n\n\n\nVagrantfile\u4f5c\u6210\n\nVagrantfile\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3001\u7de8\u96c6\u3059\u308b\u3002\nBox\u30d5\u30a1\u30a4\u30eb\u306fvagrant cloud\u306echef/centos-6.5\u3092\u4f7f\u7528\u3059\u308b\u3002\nvagrant login\nvagrant init chef/centos-6.5\n\n\n\n\nVagrantfile\nconfig.vm.network \"private_network\", ip: \"192.168.33.10\"\nconfig.vm.provision \"chef_solo\" do |chef|\n  chef.cookbooks_path = [\"./chef-repo/site-cookbooks\", \"./chef-repo/cookbooks\"]\n  chef.roles_path = \"./chef-repo/roles\"\n  chef.add_role \"local\"\n  end\n\n\n\nVagrant\u8d77\u52d5\nvagrant up\n\n\nGuestOS\u3078SSH\nHost:127.0.0.1\nPort:2222\nUser:vagrant\nKey:~/.vagrant.d\\insecure_private_key\n\n\nGuestOS\u306bCHefDK\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo rpm -ivh https://opscode-omnibus-packages.s3.amazonaws.com/el/6/x86_64/chefdk-0.3.0-1.x86_64.rpm\n\n\nChef\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210\nc:\\opscode\\chefdk\\bin\\knife solo init chef-repo\n\n\nChef Cookbook\u4f5c\u6210\ncd chef-repo\nc:\\opscode\\chefdk\\bin\\knife solo create httpd -o sitecookbooks\n\n\nroles/local.json\n{\n  \"name\": \"local\",\n  \"default_attributes\": { },\n  \"override_attributes\": { },\n  \"json_class\": \"Chef::Role\",\n  \"description\": \"local\",\n  \"chef_type\": \"role\",\n  \"run_list\": [\n    \"recipe[httpd]\"\n  ]\n}\n\n\n\nApache Recipe\u4f5c\u6210\n\nsite-cookbooks\\httpd\\recipes\npackage \"httpd\" do\n  action :install\nend\n\nservice \"httpd\" do\n  supports :status => true,:restart => true,:reload => true\n  action [:enable,:start]\nend\n\n\n\n\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\nvagrant provision\n\n# \u524d\u63d0\u6761\u4ef6\n* Windows7 Service Pack 1\n* Virtualbox 4.3.16\n* Vagrant 1.6.5\n* ChefDK 0.3.0\n\n# \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n* \u4e0b\u8a18\u306eGEM\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n<pre>\nc:\\opscode\\chefdk\\bin\\chef gem install knife-solo\n</pre>\n\n# Vagrantfile\u4f5c\u6210\n* Vagrantfile\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3001\u7de8\u96c6\u3059\u308b\u3002\n* Box\u30d5\u30a1\u30a4\u30eb\u306fvagrant cloud\u306echef/centos-6.5\u3092\u4f7f\u7528\u3059\u308b\u3002\n<pre>\nvagrant login\nvagrant init chef/centos-6.5\n</pre>\n\n```rb:Vagrantfile\nconfig.vm.network \"private_network\", ip: \"192.168.33.10\"\nconfig.vm.provision \"chef_solo\" do |chef|\n  chef.cookbooks_path = [\"./chef-repo/site-cookbooks\", \"./chef-repo/cookbooks\"]\n  chef.roles_path = \"./chef-repo/roles\"\n  chef.add_role \"local\"\n  end\n```\n\n# Vagrant\u8d77\u52d5\n<pre>\nvagrant up\n</pre>\n\n# GuestOS\u3078SSH\n<pre>\nHost:127.0.0.1\nPort:2222\nUser:vagrant\nKey:~/.vagrant.d\\insecure_private_key\n</pre>\n\n# GuestOS\u306bCHefDK\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n<pre>\n$ sudo rpm -ivh https://opscode-omnibus-packages.s3.amazonaws.com/el/6/x86_64/chefdk-0.3.0-1.x86_64.rpm\n</pre>\n\n# Chef\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210\n<pre>\nc:\\opscode\\chefdk\\bin\\knife solo init chef-repo\n</pre>\n\n# Chef Cookbook\u4f5c\u6210\n<pre>\ncd chef-repo\nc:\\opscode\\chefdk\\bin\\knife solo create httpd -o sitecookbooks\n</pre>\n\n```rb:roles/local.json\n{\n  \"name\": \"local\",\n  \"default_attributes\": { },\n  \"override_attributes\": { },\n  \"json_class\": \"Chef::Role\",\n  \"description\": \"local\",\n  \"chef_type\": \"role\",\n  \"run_list\": [\n    \"recipe[httpd]\"\n  ]\n}\n```\n\n# Apache Recipe\u4f5c\u6210\n```rb:site-cookbooks\\httpd\\recipes\npackage \"httpd\" do\n  action :install\nend\n\nservice \"httpd\" do\n  supports :status => true,:restart => true,:reload => true\n  action [:enable,:start]\nend\n```\n\n# \u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\n<pre>\nvagrant provision\n</pre>\n\n\n"}