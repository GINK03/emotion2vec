{"context": " More than 1 year has passed since last update.\u547c\u3073\u51fa\u3057\u65b9\nruby rds.rb RDS\u540d\u79f0 \u53d6\u5f97\u9805\u76ee \u5024\u306e\u7a2e\u985e\n\u53d6\u5f97\u9805\u76ee\nCPUUtilization\u3000\u3000\u3000\u3000:CPU\u4f7f\u7528\u7387\nFreeStorageSpace\u3000\u3000:\u7a7a\u304d\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\nFreeableMemory\u3000\u3000\u3000:\u7a7a\u304d\u30e1\u30e2\u30ea\u5bb9\u91cf\nSwapUsage\u3000\u3000\u3000\u3000\u3000\u3000:SWAP\u4f7f\u7528\u91cf\nReadIOPS\u3000\u3000\u3000\u3000\u3000\u3000:\u8aad\u307f\u8fbc\u307fIOPS\nReadLatency\u3000\u3000\u3000\u3000\u3000:\u8aad\u307f\u8fbc\u307f\u30ec\u30a4\u30c6\u30f3\u30b7\nReadThroughput\u3000\u3000\u3000:\u8aad\u307f\u8fbc\u307f\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\nWriteIOPS\u3000\u3000\u3000\u3000\u3000\u3000:\u66f8\u304d\u8fbc\u307fIOPS\nWriteLatency\u3000\u3000\u3000\u3000\u3000:\u66f8\u304d\u8fbc\u307f\u30ec\u30a4\u30c6\u30f3\u30b7\nWriteThroughput\u3000\u3000\u3000:\u66f8\u304d\u8fbc\u307f\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\n\u5024\u306e\u7a2e\u985e\nAverage\u3000\u3000\u3000\u3000\u3000\u3000\u3000:\u5e73\u5747\nMinimum\u3000\u3000\u3000\u3000\u3000\u3000\u3000:\u6700\u5c0f\nMaximum\u3000\u3000\u3000\u3000\u3000\u3000\u3000:\u6700\u5927\nSum\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000:\u5408\u8a08\nData Samples\u3000\u3000\u3000\u3000\u3000:\u30b5\u30f3\u30d7\u30eb\n\nrds.rb\n#!/bin/env ruby\n\n##\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30ed\u30fc\u30c9\nrequire 'rubygems'\nrequire 'aws-sdk'\nrequire 'time'\nrequire 'yaml'\n\n#\u5f15\u6570\u3092\u5909\u6570\u306b\u8a70\u3081\u8fbc\u307f\nstrRDS = ARGV[0]                # RDS\u540d\u79f0\nstrMetric = ARGV[1]             # \u53d6\u5f97\u3059\u308b\u9805\u76ee\nstrStatistics = ARGV[2]         # \u53d6\u5f97\u3059\u308b\u5024\u306e\u7a2e\u985e\uff08\u6700\u5c0f\u3001\u6700\u5927\u3001\u5e73\u5747\u7b49\uff09\n\n\n#\u6642\u9593\u8a2d\u5b9a 5\u5206\u9593\nStartTime = (Time.now - 300).iso8601\nEndTime = (Time.now).iso8601\n\n#AWS\u306e\u63a5\u7d9a\u5b9a\u7fa9\nAWS.config(YAML.load(File.read(test.yml)))\n\n#################################################################\n###       CloudWatch\n#################################################################\n#CloudWatch\u3092NEW\u3059\u308b\ncw = AWS::CloudWatch.new.client\n\n## \u30e1\u30c8\u30ea\u30af\u30b9\nvalue = cw.get_metric_statistics\n(\n        :namespace   => 'AWS/RDS',\n        :metric_name => strMetric,\n        :statistics  => [strStatistics],\n        :dimensions  => [{ :name => \"DBInstanceIdentifier\", :value => st            rRDS }],\n        :period      => 60,\n        :start_time  => StartTime,\n        :end_time    => EndTime,\n)[:datapoints][0][:\"#{strStatistics.downcase}\"]\n\n#\u7d50\u679c\u306e\u8868\u793a\np value\n\n\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u4e00\u89a7\u306f\u4e0b\u8a18URL\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\nhttp://docs.aws.amazon.com/general/latest/gr/rande.html\n\ntest.yml\naccess_key_id: \u30a2\u30af\u30bb\u30b9Key\nsecret_access_key: \u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9Key\nauto_scaling_endpoint: autoscaling.ap-northeast-1.amazonaws.com\ncloud_front_endpoint: cloudfront.amazonaws.com\ncloud_watch_endpoint: monitoring.ap-northeast-1.amazonaws.com\nemr_endpoint: elasticmapreduce.ap-northeast-1.amazonaws.com\nelasticache_endpoint: ec2.ap-northeast-1.amazonaws.com\nelastic_beanstalk_endpoint: elasticbeanstalk.ap-northeast-1.amazonaws.com\nelastic_load_balancing_endpoint: elasticloadbalancing.ap-northeast-1.amazonaws.com\nelastic_transcoder_endpoint: elastictranscoder.ap-northeast-1.amazonaws.com\nec2_endpoint: ec2.ap-northeast-1.amazonaws.com\niam_endpoint: iam.amazonaws.com\ns3_endpoint: s3-ap-northeast-1.amazonaws.com\nrds_endpoint: rds.ap-northeast-1.amazonaws.com\n\n\n\n\u547c\u3073\u51fa\u3057\u65b9\n`ruby rds.rb RDS\u540d\u79f0 \u53d6\u5f97\u9805\u76ee \u5024\u306e\u7a2e\u985e`\n\n**\u53d6\u5f97\u9805\u76ee**\nCPUUtilization\u3000\u3000\u3000\u3000:CPU\u4f7f\u7528\u7387\nFreeStorageSpace\u3000\u3000:\u7a7a\u304d\u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\nFreeableMemory\u3000\u3000\u3000:\u7a7a\u304d\u30e1\u30e2\u30ea\u5bb9\u91cf\nSwapUsage\u3000\u3000\u3000\u3000\u3000\u3000:SWAP\u4f7f\u7528\u91cf\nReadIOPS\u3000\u3000\u3000\u3000\u3000\u3000:\u8aad\u307f\u8fbc\u307fIOPS\nReadLatency\u3000\u3000\u3000\u3000\u3000:\u8aad\u307f\u8fbc\u307f\u30ec\u30a4\u30c6\u30f3\u30b7\nReadThroughput\u3000\u3000\u3000:\u8aad\u307f\u8fbc\u307f\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\nWriteIOPS\u3000\u3000\u3000\u3000\u3000\u3000:\u66f8\u304d\u8fbc\u307fIOPS\nWriteLatency\u3000\u3000\u3000\u3000\u3000:\u66f8\u304d\u8fbc\u307f\u30ec\u30a4\u30c6\u30f3\u30b7\nWriteThroughput\u3000\u3000\u3000:\u66f8\u304d\u8fbc\u307f\u30b9\u30eb\u30fc\u30d7\u30c3\u30c8\n\n***\u5024\u306e\u7a2e\u985e***\nAverage\u3000\u3000\u3000\u3000\u3000\u3000\u3000:\u5e73\u5747\nMinimum\u3000\u3000\u3000\u3000\u3000\u3000\u3000:\u6700\u5c0f\nMaximum\u3000\u3000\u3000\u3000\u3000\u3000\u3000:\u6700\u5927\nSum\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000:\u5408\u8a08\nData Samples\u3000\u3000\u3000\u3000\u3000:\u30b5\u30f3\u30d7\u30eb\n\n```lang:rds.rb\n#!/bin/env ruby\n\n##\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30ed\u30fc\u30c9\nrequire 'rubygems'\nrequire 'aws-sdk'\nrequire 'time'\nrequire 'yaml'\n\n#\u5f15\u6570\u3092\u5909\u6570\u306b\u8a70\u3081\u8fbc\u307f\nstrRDS = ARGV[0]                # RDS\u540d\u79f0\nstrMetric = ARGV[1]             # \u53d6\u5f97\u3059\u308b\u9805\u76ee\nstrStatistics = ARGV[2]         # \u53d6\u5f97\u3059\u308b\u5024\u306e\u7a2e\u985e\uff08\u6700\u5c0f\u3001\u6700\u5927\u3001\u5e73\u5747\u7b49\uff09\n\n\n#\u6642\u9593\u8a2d\u5b9a 5\u5206\u9593\nStartTime = (Time.now - 300).iso8601\nEndTime = (Time.now).iso8601\n\n#AWS\u306e\u63a5\u7d9a\u5b9a\u7fa9\nAWS.config(YAML.load(File.read(test.yml)))\n\n#################################################################\n###       CloudWatch\n#################################################################\n#CloudWatch\u3092NEW\u3059\u308b\ncw = AWS::CloudWatch.new.client\n\n## \u30e1\u30c8\u30ea\u30af\u30b9\nvalue = cw.get_metric_statistics\n(\n        :namespace   => 'AWS/RDS',\n        :metric_name => strMetric,\n        :statistics  => [strStatistics],\n        :dimensions  => [{ :name => \"DBInstanceIdentifier\", :value => st            rRDS }],\n        :period      => 60,\n        :start_time  => StartTime,\n        :end_time    => EndTime,\n)[:datapoints][0][:\"#{strStatistics.downcase}\"]\n\n#\u7d50\u679c\u306e\u8868\u793a\np value\n\n```\n\n\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u4e00\u89a7\u306f\u4e0b\u8a18URL\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\nhttp://docs.aws.amazon.com/general/latest/gr/rande.html\n\n```lang:test.yml\naccess_key_id: \u30a2\u30af\u30bb\u30b9Key\nsecret_access_key: \u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9Key\nauto_scaling_endpoint: autoscaling.ap-northeast-1.amazonaws.com\ncloud_front_endpoint: cloudfront.amazonaws.com\ncloud_watch_endpoint: monitoring.ap-northeast-1.amazonaws.com\nemr_endpoint: elasticmapreduce.ap-northeast-1.amazonaws.com\nelasticache_endpoint: ec2.ap-northeast-1.amazonaws.com\nelastic_beanstalk_endpoint: elasticbeanstalk.ap-northeast-1.amazonaws.com\nelastic_load_balancing_endpoint: elasticloadbalancing.ap-northeast-1.amazonaws.com\nelastic_transcoder_endpoint: elastictranscoder.ap-northeast-1.amazonaws.com\nec2_endpoint: ec2.ap-northeast-1.amazonaws.com\niam_endpoint: iam.amazonaws.com\ns3_endpoint: s3-ap-northeast-1.amazonaws.com\nrds_endpoint: rds.ap-northeast-1.amazonaws.com\n```\n", "tags": ["AWS_SDK"]}