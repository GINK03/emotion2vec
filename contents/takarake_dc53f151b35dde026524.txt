{"tags": ["EC2", "vpc", "newrelic", "nginx", "squid"], "context": " More than 1 year has passed since last update.\n\n\u53c2\u8003\u8a18\u4e8b\n\nS3 \u3092\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u30fc\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b | cloudpack\u6280\u8853\u60c5\u5831\u30b5\u30a4\u30c8\npip\u3092\u30d7\u30ed\u30ad\u30b7\u74b0\u5883\u4e0b\u3067\u4f7f\u3063\u3066\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5 - \u308d\u3080\u3081\u3082\n[linux] proxy\u306e\u305b\u3044\u3067curl\u304c\u300ccurl: (7) couldn\u2019t connect to host\u300d\u3067\u3064\u306a\u304c\u3089\u306a\u3044\u6642\u306e\u89e3\u6c7a\u65b9\u6cd5 | \u8ff7\u8d70\u7537\u5b50\uff01\uff01\nUsing New Relic to Monitor Your Servers - Envato Tuts+ Code Tutorial\n\n\nEIP\u3092\u6301\u3064\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306bsquid(\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install squid\n$ sudo vim /etc/squid/squid.conf\n# \u63a5\u7d9a\u5143\u306eIP\u3092\u8a2d\u5b9a\nacl localnet src zzz.zzz.zzz.zz1/32\n# \u63a5\u7d9a\u8a31\u53ef\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\nhttp_access allow localnet\n\n$ sudo service squid start\n$ sudo chkconfig squid on\n\n\nyum\u306e\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\n\n/etc/yum.conf\n$ sudo vim /etc/yum.conf\n# \u4e0b\u8a18\u3092\u8ffd\u52a0\nproxy=http://10.0.0.XX:3128\n\n\n\ncurl,pip\u306e\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\n$ sudo vim /etc/basrc\n# \u4e0b\u8a18\u3092\u8ffd\u52a0\nalias pip=\"pip --proxy=http://10.0.0.XX:3128\"\nalias curl=\"curl -x http://10.0.0.XX:3128/\"\n\n\nnewrelic-sysmond\u52d5\u304b\u3057\u305f\u3044\u3002\n\n/etc/newrelic/nrsysmond.cfg\n$ sudo vim /etc/newrelic/nrsysmond.cfg\n# \u4e0b\u8a18\u3092\u8ffd\u52a0\nproxy=http://10.0.0.XX:3128\n\n\n\nnewrelic-plugin-agent\u52d5\u304b\u3057\u305f\u3044\u3002\n\n/etc/newrelic/newrelic-plugin-agent.cfg\n$ sudo vim /etc/newrelic/newrelic-plugin-agent.cfg\n# \u4e0b\u8a18\u3092\u8ffd\u52a0\nproxy: http://10.0.0.XX:3128\n\n\n\n\u30d7\u30ed\u30ad\u30b7\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3078WEB\u30a2\u30af\u30bb\u30b9\u3059\u308bEC2\u304b\u3089\u306e80\u756a\u30dd\u30fc\u30c8\u3078\u306eINBOUND\u3092\u8a31\u53ef\n\n\nNewRelic\u306b\u3066\u3001\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u3066\u308b\u304b\u78ba\u8a8d\u3002\n\n# \u53c2\u8003\u8a18\u4e8b\n- [S3 \u3092\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u30fc\u7d4c\u7531\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b | cloudpack\u6280\u8853\u60c5\u5831\u30b5\u30a4\u30c8](http://blog.cloudpack.jp/2014/07/10/s3-proxy-server/)\n- [pip\u3092\u30d7\u30ed\u30ad\u30b7\u74b0\u5883\u4e0b\u3067\u4f7f\u3063\u3066\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5 - \u308d\u3080\u3081\u3082](http://romth.hatenablog.com/entry/2014/09/17/075937)\n- [\\[linux\\] proxy\u306e\u305b\u3044\u3067curl\u304c\u300ccurl: (7) couldn\u2019t connect to host\u300d\u3067\u3064\u306a\u304c\u3089\u306a\u3044\u6642\u306e\u89e3\u6c7a\u65b9\u6cd5 | \u8ff7\u8d70\u7537\u5b50\uff01\uff01](http://tazakazushi.net/curl_proxy.html)\n- [Using New Relic to Monitor Your Servers - Envato Tuts+ Code Tutorial](http://code.tutsplus.com/tutorials/using-new-relic-to-monitor-your-servers--cms-21303)\n\n\n# EIP\u3092\u6301\u3064\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306bsquid(\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```bash\n$ sudo yum install squid\n$ sudo vim /etc/squid/squid.conf\n# \u63a5\u7d9a\u5143\u306eIP\u3092\u8a2d\u5b9a\nacl localnet src zzz.zzz.zzz.zz1/32\n# \u63a5\u7d9a\u8a31\u53ef\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\nhttp_access allow localnet\n\n$ sudo service squid start\n$ sudo chkconfig squid on\n```\n\n# yum\u306e\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\n\n```/etc/yum.conf\n$ sudo vim /etc/yum.conf\n# \u4e0b\u8a18\u3092\u8ffd\u52a0\nproxy=http://10.0.0.XX:3128\n```\n\n# curl,pip\u306e\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\n\n```/etc/basrc\n$ sudo vim /etc/basrc\n# \u4e0b\u8a18\u3092\u8ffd\u52a0\nalias pip=\"pip --proxy=http://10.0.0.XX:3128\"\nalias curl=\"curl -x http://10.0.0.XX:3128/\"\n```\n\n# newrelic-sysmond\u52d5\u304b\u3057\u305f\u3044\u3002\n\n```/etc/newrelic/nrsysmond.cfg\n$ sudo vim /etc/newrelic/nrsysmond.cfg\n# \u4e0b\u8a18\u3092\u8ffd\u52a0\nproxy=http://10.0.0.XX:3128\n```\n\n# newrelic-plugin-agent\u52d5\u304b\u3057\u305f\u3044\u3002\n\n```/etc/newrelic/newrelic-plugin-agent.cfg\n$ sudo vim /etc/newrelic/newrelic-plugin-agent.cfg\n# \u4e0b\u8a18\u3092\u8ffd\u52a0\nproxy: http://10.0.0.XX:3128\n```\n\n# \u30d7\u30ed\u30ad\u30b7\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3078WEB\u30a2\u30af\u30bb\u30b9\u3059\u308bEC2\u304b\u3089\u306e80\u756a\u30dd\u30fc\u30c8\u3078\u306eINBOUND\u3092\u8a31\u53ef\n![EC2 Management Console (2).jpg](https://qiita-image-store.s3.amazonaws.com/0/14268/79b17230-a148-76a4-f0a1-f5f7d5080a1e.jpeg)\n\n# NewRelic\u306b\u3066\u3001\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u3066\u308b\u304b\u78ba\u8a8d\u3002\n![ip-10-0-0-XXX - New Relic.jpg](https://qiita-image-store.s3.amazonaws.com/0/14268/09d15e46-7512-89d8-2541-1d44cd34724d.jpeg)\n\n"}