{"context": "\n\n\u81ea\u5df1\u7d39\u4ecb\n\n\u30d5\u30ea\u30fc\u30e9\u30f3\u30b9iOS\u30a8\u30f3\u30b8\u30cb\u30a2\niOS / watchOS Sampler \u30b7\u30ea\u30fc\u30ba\u3092\u3064\u304f\u3063\u3066\u3044\u307e\u3059\n\nhttps://github.com/shu223\n\n\n\n2015\u5e74\u306b\u304a\u624b\u4f1d\u3044\u3057\u305fwatchOS\u6848\u4ef6\n\nwatchOS 1 app \u00d7 3\nwatchOS 2 app \u00d7 2\n\n\uff08\u4e00\u90e8\u3060\u3051\u304a\u624b\u4f1d\u3044\u3001\u975e\u516c\u958b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3082\u542b\u3080\uff09\n\n\n\u300c\u305d\u308c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u3067\u304d\u306a\u3044\u3093\u3067\u3059\u30fb\u30fb\u30fb\u300d\n\uff08\u4f01\u753b\u306e\u8a73\u7d30\u306f\u66f8\u3051\u307e\u305b\u3093\u304c\u30fb\u30fb\u30fb\uff09\n\n\u30b8\u30e3\u30a4\u30ed\u304c\u5fc5\u8981\u306a\u6a5f\u80fd \u00d7 2\n\u30a2\u30d7\u30ea\u304c\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u3066\u3082\u30bb\u30f3\u30b5\u306e\u5024\u3092\u53d6\u308a\u7d9a\u3051\u308b\u5fc5\u8981\u304c\u3042\u308b\u6a5f\u80fd \u00d7 2\n\u30bf\u30c3\u30d7\u4f4d\u7f6e\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3 \u00d7 ?\n\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u7684\u306a\u5f15\u3063\u5f35\u308b\u7cfb\u306eUI \u00d7 2\n\u30a6\u30a9\u30c3\u30c1\u672c\u4f53\u304b\u3089\u97f3\u3092\u9cf4\u3089\u3059 \u00d7 ?\n\n\n\nwatchOS 3 \u3067\u306f\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff01\n\n\u30b8\u30e3\u30a4\u30ed\u304c\u5fc5\u8981\u306a\u6a5f\u80fd - Gyroscope access\n\u30a2\u30d7\u30ea\u304c\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u3066\u3082\u30bb\u30f3\u30b5\u306e\u5024\u3092\u53d6\u308a\u7d9a\u3051\u308b\u5fc5\u8981\u304c\u3042\u308b\u6a5f\u80fd - Background support\n\u30bf\u30c3\u30d7\u4f4d\u7f6e\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3 - UITapGestureRecognizer\n\u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u7684\u306a\u5f15\u3063\u5f35\u308b\u7cfb\u306eUI - UIPanGestureRecognizer\n\u30a6\u30a9\u30c3\u30c1\u672c\u4f53\u304b\u3089\u97f3\u3092\u9cf4\u3089\u3059 - Speaker Audio\n\n\uff08\u53c2\u8003\uff1aAPI Diffs\u304b\u3089\u898b\u308b watchOS 3 \u306e\u65b0\u6a5f\u80fd - Qiita\uff09\n\n\n\u672c\u5f53\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u304b\uff1f\n\n\u30ad\u30fc\u30ce\u30fc\u30c8\u3001\u3042\u308b\u3044\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u898b\u304b\u3051\u305f\u3060\u3051\n\u5b9f\u969b\u306b\u8a66\u3057\u3066\u307f\u306a\u3044\u3068\u601d\u308f\u306c\u5236\u9650\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044\n\n\n\nwatchOS 3 \u3092\u5165\u308c\u305f Apple Watch \u5b9f\u6a5f\u3067\u300c\u672c\u5f53\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u304b\u300d\u8a66\u3057\u3066\u307f\u308b\n\n\n\u691c\u8a3c1: Gyroscope access\n\n\nAPI\u81ea\u4f53\u306f\u524d\u304b\u3089\u3042\u3063\u305f\n\nwatchOS-2-Sampler\u306e\u30b3\u30fc\u30c9\nlet motionManager = CMMotionManager()\n\noverride func willActivate() {\n    super.willActivate()\n\n    let handler:CMGyroHandler = {(data: CMGyroData?, error: NSError?) -> Void in\n        // \u30c7\u30fc\u30bf\u53d6\u5f97\u6642\u306e\u51e6\u7406\n    }\n\n    if motionManager.isGyroAvailable {\n        motionManager.startGyroUpdates(to: OperationQueue.current()!, withHandler: handler)\n    } else {\n        // \u5229\u7528\u4e0d\u53ef\u306e\u5834\u5408\u306e\u51e6\u7406\n    }\n}\n\n\n\n\n\u304c\u3001\nmotionManager.isGyroAvailable \u306e\u623b\u308a\u5024\u304c\u5e38\u306b false \u3060\u3063\u305f\u3002\n\u2192 \u4e8b\u5b9f\u4e0a\u306e\u975e\u30b5\u30dd\u30fc\u30c8 \u3060\u3063\u305f\n\n\nWWDC16\u306e\u30ad\u30fc\u30ce\u30fc\u30c8\n\n\u306f\u3063\u304d\u308a \"Gyroscope Access\" \u3068\u66f8\u304b\u308c\u3066\u3044\u308b\n\n\nwatchOS 3 \u5b9f\u6a5f\u3067\u8a66\u3057\u3066\u307f\u305f\nprint(\"\\(CMMotionManager().isGyroAvailable)\")\n\n\n\u5b9f\u884c\u7d50\u679c\n\n\nfalse\n\n\n\n\u2192 watchOS 3 \u3067\u3082 CMGyroData \u306f Not Available!!!!\n\n\n\uff1f\uff1f\uff1f\uff1f\n\n\u305d\u3093\u306a\u306f\u305a\u306f\u30fb\u30fb\u30fb\n\n\nWWDC16\u306ewatchOS\u95a2\u9023\u30bb\u30c3\u30b7\u30e7\u30f3\u30b9\u30e9\u30a4\u30c9\u3092\"gyro\"\u3067\u691c\u7d22\n\nWhat's New in watchOS 3\nArchitecting for Performance on watchOS 3\nBuilding Great Workout Apps\nKeeping Your Watch App Up to Date\nQuick Interaction Techniques for watchOS\nDesigning Great Apple Watch Experiences\nGame Technologies for Apple Watch\n\n\n\n\u51fa\u3066\u3053\u306a\u3044\u30fb\u30fb\u30fb\n\n\n\u601d\u308f\u306c\u4f0f\u5175\n\n\nHealth and Fitness with Core Motion (713)\n\n\n\u30b9\u30e9\u30a4\u30c9p49\u3001\u52d5\u753b\u3067\u306f13\u5206\u3050\u3089\u3044\u304b\u3089\u3002\n\n\nCMDeviceMotion \u304c Apple Watch \u3067\u5229\u7528\u53ef\u80fd\uff01\n\n\n\u3053\u308c\u304c\u53d6\u308c\u308b\u306a\u3089\u3080\u3057\u308d CMGyroData \u306f\u3044\u3089\u306a\u3044\n\n\nCMDeviceMotion \u304b\u3089\u5f97\u3089\u308c\u308b\u30c7\u30fc\u30bf\n\n\n\u30c7\u30d0\u30a4\u30b9\u306e\u89d2\u52a0\u901f\u5ea6\npublic var rotationRate: CMRotationRate { get }\n\n\n\n\u56de\u8ee2\u306e\u52a0\u901f\u5ea6\n\u30b8\u30e3\u30a4\u30ed\u30bb\u30f3\u30b5\u3088\u308a\u5f97\u3089\u308c\u308b\n\n\u5927\u6614\u306b\u8a66\u3057\u305f\u3053\u3068\u304c\u3042\u308b\u304c\u3001CMGyroData\u3068\u307b\u307c\u540c\u3058\u5024 \uff08\u5c0f\u6570\u70b9\u7b2c\uff12\u4f4d\u3050\u3089\u3044\u307e\u3067\u4e00\u81f4\uff09\u304c\u5f97\u3089\u308c\u305f\n\n\n\n\u5229\u7528\u4f8b\uff1a\u30e2\u30fc\u30b7\u30e7\u30f3\u691c\u51fa\nCMDeviceMotion\u304b\u3089\u5f97\u3089\u308c\u308b \u59ff\u52e2\u60c5\u5831/\u30aa\u30a4\u30e9\u30fc\u89d2\uff08\u52a0\u901f\u5ea6\u30bb\u30f3\u30b5\u3068\u30b8\u30e3\u30a4\u30ed\u304b\u3089\u6c42\u3081\u3089\u308c\u308b\uff09 \u3092\u5229\u7528\u3057\u3066\u3001\u30c6\u30cb\u30b9\u306e\u30d5\u30a9\u30a2\u30cf\u30f3\u30c9\u3068\u30d0\u30c3\u30af\u30cf\u30f3\u30c9\u306e\u30b9\u30a6\u30a3\u30f3\u30b0\u3092\u81ea\u52d5\u691c\u51fa\n\n\n\u540c\u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u30b5\u30f3\u30d7\u30eb\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u308b\n\u3069\u3053\u304b\u3067\u8a71\u3059\u304b\u89e3\u8aac\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3059\n\n\n\nAPI\u81ea\u4f53\u306f\u524d\u304b\u3089\u3042\u3063\u305f\n\nwatchOS-2-Sampler\u306e\u30b3\u30fc\u30c9\nlet motionManager = CMMotionManager()\n\noverride func willActivate() {\n    super.willActivate()\n\n    let handler: CMDeviceMotionHandler = {(motion: CMDeviceMotion?, error: NSError?) -> Void in\n        // \u30c7\u30fc\u30bf\u53d6\u5f97\u6642\u306e\u51e6\u7406\n    }\n\n    if motionManager.isDeviceMotionAvailable {\n        motionManager.startDeviceMotionUpdates(to: OperationQueue.current()!, withHandler: handler)\n    } else {\n        // \u5229\u7528\u4e0d\u53ef\u306e\u5834\u5408\u306e\u51e6\u7406\n    }\n}\n\n\nmotionManager.isDeviceMotionAvailable \u304c\u5fc5\u305a false \u3092\u8fd4\u3057\u3066\u304d\u3066\u3044\u305f\n\n\nwatchOS 3 \u5b9f\u6a5f\u3067\u8a66\u3057\u3066\u307f\u305f\n\n\n\uff08\u30c7\u30e2\uff09\n\n\n\u691c\u8a3c1: Gyroscope access \u2192 watchOS 3 \u3067\u306f\u53ef\u80fd\uff01\n\n\n\u691c\u8a3c2: \u30a6\u30a9\u30c3\u30c1\u672c\u4f53\u304b\u3089\u97f3\u3092\u9cf4\u3089\u3059\n\n\nwatchOS 2 \u304b\u3089\u3042\u308b WKAudioFilePlayer\n\n\u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u751f\u3059\u308b\u30af\u30e9\u30b9\n\u8981Bluetooth\u30d8\u30c3\u30c9\u30bb\u30c3\u30c8\n\n\n\nBluetooth \u30d8\u30c3\u30c9\u30bb\u30c3\u30c8\u3092\u300cApple Watch\u306b\u300d\u30da\u30a2\u30ea\u30f3\u30b0\u3057\u3066\u97f3\u3092\u8074\u304f\uff01\uff1f\n\n\nWWDC16\u306e\u30ad\u30fc\u30ce\u30fc\u30c8\n\nApple Watch \u306e\u30b9\u30d4\u30fc\u30ab\u30fc\u304b\u3089\u97f3\u3092\u51fa\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff1f\n\n\nAV Foundation on watchOS\n\n\nwatchOS 3 \u304b\u3089 AVFoudation \u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\uff01\n\u5168\u90e8\u306e\u30af\u30e9\u30b9\u304c\u79fb\u884c\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u304c\u3001\u8272\u3005\u5165\u3063\u3066\u3044\u308b\n\n\nAVAudioPlayerNode\uff08\u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb\u518d\u751f\uff09\nAVAudioEngine\uff08\u30aa\u30fc\u30c7\u30a3\u30aa\u51e6\u7406\u8af8\u3005\uff09\nAVSpeechSynthesizer\uff08\u97f3\u58f0\u5408\u6210\uff09 \u7b49\u3005\n\n\n\n\uff08\u53c2\u8003\uff1aAPI Diffs\u304b\u3089\u898b\u308b watchOS 3 \u306e\u65b0\u6a5f\u80fd - Qiita\uff09\n\n\nwatchOS 3 \u5b9f\u6a5f\u3067\u8a66\u3057\u3066\u307f\u305f\n\n\niOS-9-Sampler\u306e\u30b3\u30fc\u30c9\u3092\u6d41\u7528\nimport Foundation\nimport AVFoundation\n\nstruct AudioEngine {\n    private let engine = AVAudioEngine()\n    private let player = AVAudioPlayerNode()\n    private var file: AVAudioFile?\n\n    init() {\n        setup()\n    }\n\n    private mutating func setup() {\n        // setup engine and player\n        engine.attach(player)\n        guard let fileURL = Bundle.main().urlForResource(\"drumLoop\", withExtension: \"caf\") else {\n            fatalError(\"\\\"drumLoop.caf\\\" file not found.\")\n        }\n        do {\n            let file = try AVAudioFile(forReading: fileURL)\n            self.file = file\n            engine.connect(player, to: engine.mainMixerNode, format: file.processingFormat)\n        }\n        catch {\n            fatalError(\"Could not create AVAudioFile instance. error: \\(error).\")\n        }\n    }\n\n    private func scheduleLoop() {\n        guard let file = file else {\n            fatalError(\"`file` must not be nil in \\(#function).\")\n        }\n\n        player.scheduleFile(file, at: nil) {\n            self.scheduleLoop()\n        }\n    }\n\n    // MARK: - Public\n\n    func start() {\n        // Schedule buffers on the player.\n        scheduleLoop()\n\n        // Start the engine.\n        do {\n            try engine.start()\n        }\n        catch {\n            fatalError(\"Could not start engine. error: \\(error).\")\n        }\n        player.play()\n    }\n\n    // Stop the engine\n    func stop() {\n        player.stop()\n        engine.stop()        \n    }\n\n    func isPlaying() -> Bool {\n        return player.isPlaying\n    }\n}\n\n\n\n\n\uff08\u30c7\u30e2\uff09\n\n\n\u691c\u8a3c2: \u30a6\u30a9\u30c3\u30c1\u672c\u4f53\u304b\u3089\u97f3\u3092\u9cf4\u3089\u3059 \u2192 watchOS 3 \u3067\u306f\u53ef\u80fd\uff01\n\n\n\u3053\u3053\u307e\u3067\u306e\u307e\u3068\u3081\n\n\nwatchOS 3 \u3067\u306f\nCMDeviceMotion\u3067\u30b8\u30e3\u30a4\u30ed\u30bb\u30f3\u30b5\u306e\u5024\u3001\u304a\u3088\u3073\u305d\u308c\u3092\u5229\u7528\u3057\u305f\u59ff\u52e2\u60c5\u5831\u3092\u53d6\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff01\n\u2192 \u231a\ufe0f\u3092\u5229\u7528\u3057\u305f\u30e2\u30fc\u30b7\u30e7\u30f3\u8a8d\u8b58\u304c\u53ef\u80fd\u306b\uff01\n\n\nwatchOS 3 \u3067\u306f\nAVAudioEngine\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff01\n\u2192 \u231a\ufe0f\u304b\u3089\u300c\u76f4\u63a5\u300d\u97f3\u3092\u51fa\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff01\n\n\u6b21\u56de\u4e88\u5b9a\uff1a\n\n\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u6a5f\u80fd\u306e\u691c\u8a3c\n\n\nCPU\u8ca0\u8377\u3068\u304b\u3001\u3044\u308d\u3044\u308d\u5236\u7d04\u306f\u3042\u308b\u3063\u307d\u3044\n\n\n\n\n\n\u3054\u6e05\u8074\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01\n\n\u672c\u8a18\u4e8b\u306f\u30012016.7.1\u306b\u958b\u50ac\u3055\u308c\u305f WWDC.next \u3067\u306eLT\u8cc7\u6599\u3067\u3059\u3002\n\u203bApple\u306b\u3088\u308b\u516c\u958b\u30ea\u30bd\u30fc\u30b9\u3092\u3082\u3068\u306b\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n##\u81ea\u5df1\u7d39\u4ecb\n\n- \u30d5\u30ea\u30fc\u30e9\u30f3\u30b9iOS\u30a8\u30f3\u30b8\u30cb\u30a2\n- iOS / watchOS Sampler \u30b7\u30ea\u30fc\u30ba\u3092\u3064\u304f\u3063\u3066\u3044\u307e\u3059\n\nhttps://github.com/shu223\n\n<img width=\"640\" alt=\"Screen Shot 2016-06-04 at 16.41.53.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3180/31f2bb0e-b332-bfe4-4bc4-ed83a0c40bcb.png\">\n\n---\n\n##2015\u5e74\u306b\u304a\u624b\u4f1d\u3044\u3057\u305fwatchOS\u6848\u4ef6\n\n- [watchOS 1 app \u00d7 3](http://d.hatena.ne.jp/shu223/20150424/1429831590)\n- [watchOS 2 app \u00d7 2](http://d.hatena.ne.jp/shu223/20150815/1439611420)\n\n\uff08\u4e00\u90e8\u3060\u3051\u304a\u624b\u4f1d\u3044\u3001\u975e\u516c\u958b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3082\u542b\u3080\uff09\n\n\n---\n\n##\u300c\u305d\u308c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u3067\u304d\u306a\u3044\u3093\u3067\u3059\u30fb\u30fb\u30fb\u300d\n\n\uff08\u4f01\u753b\u306e\u8a73\u7d30\u306f\u66f8\u3051\u307e\u305b\u3093\u304c\u30fb\u30fb\u30fb\uff09\n\n- \u30b8\u30e3\u30a4\u30ed\u304c\u5fc5\u8981\u306a\u6a5f\u80fd \u00d7 2\n- \u30a2\u30d7\u30ea\u304c\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u3066\u3082\u30bb\u30f3\u30b5\u306e\u5024\u3092\u53d6\u308a\u7d9a\u3051\u308b\u5fc5\u8981\u304c\u3042\u308b\u6a5f\u80fd \u00d7 2\n- \u30bf\u30c3\u30d7\u4f4d\u7f6e\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3 \u00d7 ?\n- \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u7684\u306a\u5f15\u3063\u5f35\u308b\u7cfb\u306eUI \u00d7 2\n- \u30a6\u30a9\u30c3\u30c1\u672c\u4f53\u304b\u3089\u97f3\u3092\u9cf4\u3089\u3059 \u00d7 ?\n\n---\n\n##watchOS 3 \u3067\u306f\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff01\n\n- \u30b8\u30e3\u30a4\u30ed\u304c\u5fc5\u8981\u306a\u6a5f\u80fd - Gyroscope access\n- \u30a2\u30d7\u30ea\u304c\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u306a\u3063\u3066\u3082\u30bb\u30f3\u30b5\u306e\u5024\u3092\u53d6\u308a\u7d9a\u3051\u308b\u5fc5\u8981\u304c\u3042\u308b\u6a5f\u80fd - Background support\n- \u30bf\u30c3\u30d7\u4f4d\u7f6e\u3092\u77e5\u308b\u5fc5\u8981\u304c\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3 - UITapGestureRecognizer\n- \u30b8\u30e7\u30a4\u30b9\u30c6\u30a3\u30c3\u30af\u7684\u306a\u5f15\u3063\u5f35\u308b\u7cfb\u306eUI - UIPanGestureRecognizer\n- \u30a6\u30a9\u30c3\u30c1\u672c\u4f53\u304b\u3089\u97f3\u3092\u9cf4\u3089\u3059 - Speaker Audio\n\n\uff08\u53c2\u8003\uff1a[API Diffs\u304b\u3089\u898b\u308b watchOS 3 \u306e\u65b0\u6a5f\u80fd - Qiita](http://qiita.com/shu223/items/c3a0e28c7b4a3085966a)\uff09\n\n---\n\n##\u672c\u5f53\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u304b\uff1f\n\n- \u30ad\u30fc\u30ce\u30fc\u30c8\u3001\u3042\u308b\u3044\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u898b\u304b\u3051\u305f\u3060\u3051\n- \u5b9f\u969b\u306b\u8a66\u3057\u3066\u307f\u306a\u3044\u3068\u601d\u308f\u306c\u5236\u9650\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044\n\n---\n\n##watchOS 3 \u3092\u5165\u308c\u305f Apple Watch \u5b9f\u6a5f\u3067\u300c\u672c\u5f53\u306b\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u304b\u300d\u8a66\u3057\u3066\u307f\u308b\n\n---\n\n##\u691c\u8a3c1: Gyroscope access\n\n---\n\n##API\u81ea\u4f53\u306f\u524d\u304b\u3089\u3042\u3063\u305f\n\n```swift:watchOS-2-Sampler\u306e\u30b3\u30fc\u30c9\nlet motionManager = CMMotionManager()\n\noverride func willActivate() {\n    super.willActivate()\n\n    let handler:CMGyroHandler = {(data: CMGyroData?, error: NSError?) -> Void in\n        // \u30c7\u30fc\u30bf\u53d6\u5f97\u6642\u306e\u51e6\u7406\n    }\n    \n    if motionManager.isGyroAvailable {\n        motionManager.startGyroUpdates(to: OperationQueue.current()!, withHandler: handler)\n    } else {\n        // \u5229\u7528\u4e0d\u53ef\u306e\u5834\u5408\u306e\u51e6\u7406\n    }\n}\n```\n\n---\n\n##\u304c\u3001\n\n`motionManager.isGyroAvailable` \u306e\u623b\u308a\u5024\u304c\u5e38\u306b `false` \u3060\u3063\u305f\u3002\n\n\u2192 **\u4e8b\u5b9f\u4e0a\u306e\u975e\u30b5\u30dd\u30fc\u30c8** \u3060\u3063\u305f\n\n---\n\n##WWDC16\u306e\u30ad\u30fc\u30ce\u30fc\u30c8\n\n<img width=\"487\" alt=\"Screen_Shot_2016-07-01_at_01_21_46.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3180/51476d18-0ee4-0310-e5a6-d8ea8520a2fd.png\">\n\n\u306f\u3063\u304d\u308a \"Gyroscope Access\" \u3068\u66f8\u304b\u308c\u3066\u3044\u308b\n\n---\n\n##watchOS 3 \u5b9f\u6a5f\u3067\u8a66\u3057\u3066\u307f\u305f\n\n`print(\"\\(CMMotionManager().isGyroAvailable)\")`\n\n---\n\n##\u5b9f\u884c\u7d50\u679c\n\n---\n\n##`false`\n\n---\n\n##\u2192 watchOS 3 \u3067\u3082 CMGyroData \u306f Not Available!!!!\n\n---\n##\uff1f\uff1f\uff1f\uff1f\n\n<img width=\"487\" alt=\"Screen_Shot_2016-07-01_at_01_21_46.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3180/51476d18-0ee4-0310-e5a6-d8ea8520a2fd.png\">\n\n\u305d\u3093\u306a\u306f\u305a\u306f\u30fb\u30fb\u30fb\n\n---\n\n##WWDC16\u306ewatchOS\u95a2\u9023\u30bb\u30c3\u30b7\u30e7\u30f3\u30b9\u30e9\u30a4\u30c9\u3092\"gyro\"\u3067\u691c\u7d22\n\n- What's New in watchOS 3\n- Architecting for Performance on watchOS 3\n- Building Great Workout Apps\n- Keeping Your Watch App Up to Date\n- Quick Interaction Techniques for watchOS\n- Designing Great Apple Watch Experiences\n- Game Technologies for Apple Watch\n\n---\n\n##\u51fa\u3066\u3053\u306a\u3044\u30fb\u30fb\u30fb\n\n---\n\n##\u601d\u308f\u306c\u4f0f\u5175\n\n---\n\n##Health and Fitness with Core Motion (713)\n\n---\n\n<img width=\"1059\" alt=\"Screen Shot 2016-07-01 at 02.24.46.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3180/32d7ed43-6e08-57b7-6d57-c88cfbbcc916.png\">\n\n\u30b9\u30e9\u30a4\u30c9p49\u3001\u52d5\u753b\u3067\u306f13\u5206\u3050\u3089\u3044\u304b\u3089\u3002\n\n---\n\n<img width=\"1059\" alt=\"Screen_Shot_2016-07-01_at_02_24_46.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3180/d2cc33fc-b312-32da-6ff4-46aff9fbc87a.png\">\n\nCMDeviceMotion \u304c Apple Watch \u3067\u5229\u7528\u53ef\u80fd\uff01\n\n---\n\n##\u3053\u308c\u304c\u53d6\u308c\u308b\u306a\u3089\u3080\u3057\u308d CMGyroData \u306f\u3044\u3089\u306a\u3044\n\n---\n\n##CMDeviceMotion \u304b\u3089\u5f97\u3089\u308c\u308b\u30c7\u30fc\u30bf\n\n---\n\n##\u30c7\u30d0\u30a4\u30b9\u306e\u89d2\u52a0\u901f\u5ea6\n\n```\npublic var rotationRate: CMRotationRate { get }\n```\n\n<img width=\"300\" alt=\"Screen Shot 2016-07-01 at 11.07.20.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3180/f8edf1bb-34ce-0766-86b5-a7c2b579936d.png\">\n\n- \u56de\u8ee2\u306e\u52a0\u901f\u5ea6\n- **\u30b8\u30e3\u30a4\u30ed\u30bb\u30f3\u30b5\u3088\u308a\u5f97\u3089\u308c\u308b**\n- [\u5927\u6614\u306b\u8a66\u3057\u305f\u3053\u3068\u304c\u3042\u308b](http://d.hatena.ne.jp/shu223/20110130/1296314294)\u304c\u3001**CMGyroData\u3068\u307b\u307c\u540c\u3058\u5024** \uff08\u5c0f\u6570\u70b9\u7b2c\uff12\u4f4d\u3050\u3089\u3044\u307e\u3067\u4e00\u81f4\uff09\u304c\u5f97\u3089\u308c\u305f\n\n---\n\n##\u5229\u7528\u4f8b\uff1a\u30e2\u30fc\u30b7\u30e7\u30f3\u691c\u51fa\n\nCMDeviceMotion\u304b\u3089\u5f97\u3089\u308c\u308b **\u59ff\u52e2\u60c5\u5831/\u30aa\u30a4\u30e9\u30fc\u89d2\uff08\u52a0\u901f\u5ea6\u30bb\u30f3\u30b5\u3068\u30b8\u30e3\u30a4\u30ed\u304b\u3089\u6c42\u3081\u3089\u308c\u308b\uff09** \u3092\u5229\u7528\u3057\u3066\u3001**\u30c6\u30cb\u30b9\u306e\u30d5\u30a9\u30a2\u30cf\u30f3\u30c9\u3068\u30d0\u30c3\u30af\u30cf\u30f3\u30c9\u306e\u30b9\u30a6\u30a3\u30f3\u30b0\u3092\u81ea\u52d5\u691c\u51fa**\n\n<img width=\"369\" alt=\"Screen Shot 2016-07-01 at 11.10.45.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3180/98205a5b-f589-e03c-961c-9f84bee843fc.png\">\n\n- \u540c\u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u30b5\u30f3\u30d7\u30eb\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u308b\n- \u3069\u3053\u304b\u3067\u8a71\u3059\u304b\u89e3\u8aac\u8a18\u4e8b\u3092\u66f8\u304d\u307e\u3059\n\n---\n\n##API\u81ea\u4f53\u306f\u524d\u304b\u3089\u3042\u3063\u305f\n\n```swift:watchOS-2-Sampler\u306e\u30b3\u30fc\u30c9\nlet motionManager = CMMotionManager()\n\noverride func willActivate() {\n    super.willActivate()\n    \n    let handler: CMDeviceMotionHandler = {(motion: CMDeviceMotion?, error: NSError?) -> Void in\n        // \u30c7\u30fc\u30bf\u53d6\u5f97\u6642\u306e\u51e6\u7406\n    }\n    \n    if motionManager.isDeviceMotionAvailable {\n        motionManager.startDeviceMotionUpdates(to: OperationQueue.current()!, withHandler: handler)\n    } else {\n        // \u5229\u7528\u4e0d\u53ef\u306e\u5834\u5408\u306e\u51e6\u7406\n    }\n}\n```\n\n`motionManager.isDeviceMotionAvailable` \u304c\u5fc5\u305a `false` \u3092\u8fd4\u3057\u3066\u304d\u3066\u3044\u305f\n\n---\n\n##watchOS 3 \u5b9f\u6a5f\u3067\u8a66\u3057\u3066\u307f\u305f\n\n---\n\n##\uff08\u30c7\u30e2\uff09\n\n---\n\n##\u691c\u8a3c1: Gyroscope access \u2192 watchOS 3 \u3067\u306f\u53ef\u80fd\uff01\n\n---\n\n##\u691c\u8a3c2: \u30a6\u30a9\u30c3\u30c1\u672c\u4f53\u304b\u3089\u97f3\u3092\u9cf4\u3089\u3059\n\n---\n\n##watchOS 2 \u304b\u3089\u3042\u308b WKAudioFilePlayer\n\n- \u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb\u3092\u518d\u751f\u3059\u308b\u30af\u30e9\u30b9\n- **\u8981Bluetooth\u30d8\u30c3\u30c9\u30bb\u30c3\u30c8**\n\n---\n\n##Bluetooth \u30d8\u30c3\u30c9\u30bb\u30c3\u30c8\u3092\u300cApple Watch\u306b\u300d\u30da\u30a2\u30ea\u30f3\u30b0\u3057\u3066\u97f3\u3092\u8074\u304f\uff01\uff1f\n\n---\n\n##WWDC16\u306e\u30ad\u30fc\u30ce\u30fc\u30c8\n\n<img width=\"627\" alt=\"Screen_Shot_2016-07-01_at_10_28_46.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/3180/4cd37813-c554-3acc-7ed4-2c892a8a0b40.png\">\n\nApple Watch \u306e\u30b9\u30d4\u30fc\u30ab\u30fc\u304b\u3089\u97f3\u3092\u51fa\u305b\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff1f\n\n---\n\n##AV Foundation on watchOS\n\n---\n\n- watchOS 3 \u304b\u3089 AVFoudation \u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\uff01\n- \u5168\u90e8\u306e\u30af\u30e9\u30b9\u304c\u79fb\u884c\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u304c\u3001\u8272\u3005\u5165\u3063\u3066\u3044\u308b\n  - AVAudioPlayerNode\uff08\u30aa\u30fc\u30c7\u30a3\u30aa\u30d5\u30a1\u30a4\u30eb\u518d\u751f\uff09\n  - AVAudioEngine\uff08\u30aa\u30fc\u30c7\u30a3\u30aa\u51e6\u7406\u8af8\u3005\uff09\n  - AVSpeechSynthesizer\uff08\u97f3\u58f0\u5408\u6210\uff09 \u7b49\u3005\n\n\uff08\u53c2\u8003\uff1a[API Diffs\u304b\u3089\u898b\u308b watchOS 3 \u306e\u65b0\u6a5f\u80fd - Qiita](http://qiita.com/shu223/items/c3a0e28c7b4a3085966a)\uff09\n\n---\n\n##watchOS 3 \u5b9f\u6a5f\u3067\u8a66\u3057\u3066\u307f\u305f\n\n---\n\n```swifT:iOS-9-Sampler\u306e\u30b3\u30fc\u30c9\u3092\u6d41\u7528\nimport Foundation\nimport AVFoundation\n\nstruct AudioEngine {\n    private let engine = AVAudioEngine()\n    private let player = AVAudioPlayerNode()\n    private var file: AVAudioFile?\n\n    init() {\n        setup()\n    }\n    \n    private mutating func setup() {\n        // setup engine and player\n        engine.attach(player)\n        guard let fileURL = Bundle.main().urlForResource(\"drumLoop\", withExtension: \"caf\") else {\n            fatalError(\"\\\"drumLoop.caf\\\" file not found.\")\n        }\n        do {\n            let file = try AVAudioFile(forReading: fileURL)\n            self.file = file\n            engine.connect(player, to: engine.mainMixerNode, format: file.processingFormat)\n        }\n        catch {\n            fatalError(\"Could not create AVAudioFile instance. error: \\(error).\")\n        }\n    }\n    \n    private func scheduleLoop() {\n        guard let file = file else {\n            fatalError(\"`file` must not be nil in \\(#function).\")\n        }\n        \n        player.scheduleFile(file, at: nil) {\n            self.scheduleLoop()\n        }\n    }\n\n    // MARK: - Public\n    \n    func start() {\n        // Schedule buffers on the player.\n        scheduleLoop()\n        \n        // Start the engine.\n        do {\n            try engine.start()\n        }\n        catch {\n            fatalError(\"Could not start engine. error: \\(error).\")\n        }\n        player.play()\n    }\n    \n    // Stop the engine\n    func stop() {\n        player.stop()\n        engine.stop()        \n    }\n    \n    func isPlaying() -> Bool {\n        return player.isPlaying\n    }\n}\n```\n\n---\n\n##\uff08\u30c7\u30e2\uff09\n\n---\n\n##\u691c\u8a3c2: \u30a6\u30a9\u30c3\u30c1\u672c\u4f53\u304b\u3089\u97f3\u3092\u9cf4\u3089\u3059 \u2192 watchOS 3 \u3067\u306f\u53ef\u80fd\uff01\n\n---\n\n##\u3053\u3053\u307e\u3067\u306e\u307e\u3068\u3081\n\n---\n\n##watchOS 3 \u3067\u306f\n\nCMDeviceMotion\u3067\u30b8\u30e3\u30a4\u30ed\u30bb\u30f3\u30b5\u306e\u5024\u3001\u304a\u3088\u3073\u305d\u308c\u3092\u5229\u7528\u3057\u305f\u59ff\u52e2\u60c5\u5831\u3092\u53d6\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff01\n\n\u2192 \u231a\ufe0f\u3092\u5229\u7528\u3057\u305f**\u30e2\u30fc\u30b7\u30e7\u30f3\u8a8d\u8b58**\u304c\u53ef\u80fd\u306b\uff01\n\n---\n\n##watchOS 3 \u3067\u306f\n\nAVAudioEngine\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff01\n\n\u2192 \u231a\ufe0f\u304b\u3089**\u300c\u76f4\u63a5\u300d\u97f3\u3092\u51fa\u305b\u308b**\u3088\u3046\u306b\u306a\u3063\u305f\uff01\n\n---\n\n\u6b21\u56de\u4e88\u5b9a\uff1a\n\n- \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u6a5f\u80fd\u306e\u691c\u8a3c\n  - CPU\u8ca0\u8377\u3068\u304b\u3001\u3044\u308d\u3044\u308d\u5236\u7d04\u306f\u3042\u308b\u3063\u307d\u3044\n\n---\n\n##\u3054\u6e05\u8074\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\uff01\n\n---\n\n\u672c\u8a18\u4e8b\u306f\u30012016.7.1\u306b\u958b\u50ac\u3055\u308c\u305f [WWDC.next](http://connpass.com/event/32130/) \u3067\u306eLT\u8cc7\u6599\u3067\u3059\u3002\n\n\u203bApple\u306b\u3088\u308b\u516c\u958b\u30ea\u30bd\u30fc\u30b9\u3092\u3082\u3068\u306b\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\n", "tags": ["watchOS", "iOS", "Swift", "IoT", "WWDC"]}