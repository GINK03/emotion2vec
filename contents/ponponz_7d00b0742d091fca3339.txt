{"context": "\n\n\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u3068\u3044\u3046\u304b\u305d\u306e\u307e\u307e\u306b\u5b9f\u65bd\u3057\u307e\u3057\u305f\n\nhttp://qiita.com/bounscale/items/24cfee84ae1d4135ee43\nhttp://qiita.com/sudahiroshi/items/bae1912b2f0e18148748\n\n\u4e8b\u524d\u6e96\u5099\n\n*\u3000git\n*\u3000VirtualBox\n*\u3000vagrant\n\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\ngit\u306fGitBash\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u3068Windows\u3067\u3082ssh\u3067\u304d\u308b\u306e\u3067\u4fbf\u5229\n\nCoreOS\u306e\u6e96\u5099\n\n\n\u30a4\u30e1\u30fc\u30b8\u306e\u53d6\u5f97\n\nGitBash\ngit clone https://github.com/coreos/coreos-vagrant/\n\n\n\nVagrantfile\u306e\u7de8\u96c6\nCoreOS\u3092HostOS\u3068\u540c\u4e00\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306b\u914d\u7f6e\n80\u30dd\u30fc\u30c8\u306e\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3082\u8a2d\u5b9a\n\nVagrantfile\n#line:121 config.vm.network :private_network, ip: ip\nline:122 config.vm.network :public_network, bridge: \\'en0: Ethernet\\', type: \"dhcp\"\n#line:123 config.vm.network :forwarded_port, guest: 80, host: 3000\n\n\n\nCoreOS\u306e\u8d77\u52d5\n\n\nGitBash\ncd coreos-vagrant\nvagrant up\n\n\nBringing machine 'core-01' up with 'virtualbox' provider...\n==> core-01: Importing base box 'coreos-alpha'...\n==> core-01: Matching MAC address for NAT networking...\n==> core-01: Checking if box 'coreos-alpha' is up to date...\n==> core-01: Setting the name of the VM: coreos-vagrant_core-01_1434551514011_27\n186\n==> core-01: Clearing any previously set network interfaces...\n==> core-01: Specific bridge 'en0: Ethernet' not found. You may be asked to spec\nify\n==> core-01: which network to bridge to.\n==> core-01: Preparing network interfaces based on configuration...\n    core-01: Adapter 1: nat\n    core-01: Adapter 2: bridged\n==> core-01: Forwarding ports...\n    core-01: 80 => 3000 (adapter 1)\n    core-01: 22 => 2222 (adapter 1)\n==> core-01: Running 'pre-boot' VM customizations...\n==> core-01: Booting VM...\n==> core-01: Waiting for machine to boot. This may take a few minutes...\n    core-01: SSH address: 127.0.0.1:2222\n    core-01: SSH username: core\n    core-01: SSH auth method: private key\n    core-01: Warning: Connection timeout. Retrying...\n==> core-01: Machine booted and ready!\n==> core-01: Setting hostname...\nThe following SSH command responded with a non-zero exit status.\nVagrant assumes that this means the command failed!\n\nsystemctl start system-cloudinit@-var-tmp-hostname.yml.service\n\nStdout from the command:\n\n\n\nStderr from the command:\n\nJob for system-cloudinit@-var-tmp-hostname.yml.service failed because a configur\ned resource limit was exceeded. See \"systemctl status system-cloudinit@-var-tmp-\nhostname.yml.service\" and \"journalctl -xe\" for details.\n\n\n\u8d77\u52d5\u78ba\u8a8d\n\nGitBash\nvagrant status\n\n\nCurrent machine states:\ncore-01                   running (virtualbox)\n\n\ndocker-compose\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n\nCoreOS\u306bssh\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\n\nGitBash\nvagrant ssh\n\n\n\u307e\u305f\u306f\u3001Rlogon\u306a\u3069\u3067ssh\u3059\u308b\u3002address\u3084username\u306fCoreOS\u8d77\u52d5\u6642\u306b\u51fa\u529b\u3055\u308c\u305f\u3082\u306e\u3092\u5229\u7528\u3059\u308b\nprivate-key\u306f~/.vagrant.d/insecure_private_key\n\ndocker-compose\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\ndocker-compose\u306e\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u306b\u3042\u308b\u30b3\u30de\u30f3\u30c9\u3092\u53c2\u8003\u306b\n\nRlogon\ncurl -L https://github.com/docker/compose/releases/download/1.3.0rc3/docker-compose-`uname -s`-`uname -m` > ~/docker-compose\nchmod +x docker-compose\n./docker-compose --version\n\n\ndocker-compose version: 1.3.0rc3\nCPython version: 2.7.9\nOpenSSL version: OpenSSL 1.0.1e 11 Feb 2013\n\n\ndocker-compose\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n\nRlogon\nvi docker-compose.yml\n\n\n\ndocker-compose.yml\npostgresql:\n  image: sameersbn/postgresql:9.4\n  volumes:\n    - /home/core/postgresql/data:/var/lib/postgresql\n  environment:\n    - DB_USER=redmine\n    - DB_PASS=admin123\n    - DB_NAME=redmine\nmemcached:\n  image: sameersbn/memcached:latest\nredmine:\n  image: sameersbn/redmine:3.0.3-1\n  links:\n    - postgresql:postgresql\n    - memcached:memcached\n  volumes:\n    - /var/run/docker.sock:/run/docker.sock\n    - /usr/bin/docker:/bin/docker\n    - /home/core/redmine/data:/home/redmine/data\n  environment:\n    - DB_USER=redmine\n    - DB_PASS=admin123\n    - DB_NAME=redmine\n    - SMTP_HOST=smtp_server_fqdn\n    - SMTP_PORT=25\n  ports:\n    - \"80:80\"\n\n\n\nDocker\u8d77\u52d5\n\n\nRlogon\n./docker-compose up -d\n\n\n\n\u8d77\u52d5\u78ba\u8a8d\nCoreOS\u4e0a\u304b\u3089\u8d77\u52d5\u78ba\u8a8d\n\nwget http://127.0.0.1/ --no-proxy\n\n\u3042\u3068\u306f\u30d6\u30e9\u30a6\u30b6\u3067\u8d77\u52d5\u78ba\u8a8d\nhttp://127.0.0.1:3000/\n#**\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u3068\u3044\u3046\u304b\u305d\u306e\u307e\u307e\u306b\u5b9f\u65bd\u3057\u307e\u3057\u305f**\nhttp://qiita.com/bounscale/items/24cfee84ae1d4135ee43\nhttp://qiita.com/sudahiroshi/items/bae1912b2f0e18148748\n\n\n#**\u4e8b\u524d\u6e96\u5099**\n*\u3000git\n*\u3000VirtualBox\n*\u3000vagrant\n\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304f\ngit\u306fGitBash\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u3068Windows\u3067\u3082ssh\u3067\u304d\u308b\u306e\u3067\u4fbf\u5229\n\n#**CoreOS\u306e\u6e96\u5099**\n##\u30a4\u30e1\u30fc\u30b8\u306e\u53d6\u5f97\n```lang:GitBash\ngit clone https://github.com/coreos/coreos-vagrant/\n```\n##Vagrantfile\u306e\u7de8\u96c6\nCoreOS\u3092HostOS\u3068\u540c\u4e00\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306b\u914d\u7f6e\n80\u30dd\u30fc\u30c8\u306e\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u3082\u8a2d\u5b9a\n\n```lang:Vagrantfile\n#line:121 config.vm.network :private_network, ip: ip\nline:122 config.vm.network :public_network, bridge: \\'en0: Ethernet\\', type: \"dhcp\"\n#line:123 config.vm.network :forwarded_port, guest: 80, host: 3000\n```\n#**CoreOS\u306e\u8d77\u52d5**\n```lang:GitBash\ncd coreos-vagrant\nvagrant up\n```\n```\nBringing machine 'core-01' up with 'virtualbox' provider...\n==> core-01: Importing base box 'coreos-alpha'...\n==> core-01: Matching MAC address for NAT networking...\n==> core-01: Checking if box 'coreos-alpha' is up to date...\n==> core-01: Setting the name of the VM: coreos-vagrant_core-01_1434551514011_27\n186\n==> core-01: Clearing any previously set network interfaces...\n==> core-01: Specific bridge 'en0: Ethernet' not found. You may be asked to spec\nify\n==> core-01: which network to bridge to.\n==> core-01: Preparing network interfaces based on configuration...\n    core-01: Adapter 1: nat\n    core-01: Adapter 2: bridged\n==> core-01: Forwarding ports...\n    core-01: 80 => 3000 (adapter 1)\n    core-01: 22 => 2222 (adapter 1)\n==> core-01: Running 'pre-boot' VM customizations...\n==> core-01: Booting VM...\n==> core-01: Waiting for machine to boot. This may take a few minutes...\n    core-01: SSH address: 127.0.0.1:2222\n    core-01: SSH username: core\n    core-01: SSH auth method: private key\n    core-01: Warning: Connection timeout. Retrying...\n==> core-01: Machine booted and ready!\n==> core-01: Setting hostname...\nThe following SSH command responded with a non-zero exit status.\nVagrant assumes that this means the command failed!\n\nsystemctl start system-cloudinit@-var-tmp-hostname.yml.service\n\nStdout from the command:\n\n\n\nStderr from the command:\n\nJob for system-cloudinit@-var-tmp-hostname.yml.service failed because a configur\ned resource limit was exceeded. See \"systemctl status system-cloudinit@-var-tmp-\nhostname.yml.service\" and \"journalctl -xe\" for details.\n```\n##\u8d77\u52d5\u78ba\u8a8d\n```lang:GitBash\nvagrant status\n```\n```\nCurrent machine states:\ncore-01                   running (virtualbox)\n```\n#**docker-compose\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b**\n##CoreOS\u306bssh\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\n```lang:GitBash\nvagrant ssh\n```\n\u307e\u305f\u306f\u3001Rlogon\u306a\u3069\u3067ssh\u3059\u308b\u3002address\u3084username\u306fCoreOS\u8d77\u52d5\u6642\u306b\u51fa\u529b\u3055\u308c\u305f\u3082\u306e\u3092\u5229\u7528\u3059\u308b\nprivate-key\u306f~/.vagrant.d/insecure_private_key\n##docker-compose\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n[docker-compose\u306e\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8](https://github.com/docker/compose/releases)\u306b\u3042\u308b\u30b3\u30de\u30f3\u30c9\u3092\u53c2\u8003\u306b\n\n```lang:Rlogon\ncurl -L https://github.com/docker/compose/releases/download/1.3.0rc3/docker-compose-`uname -s`-`uname -m` > ~/docker-compose\nchmod +x docker-compose\n./docker-compose --version\n```\n```\ndocker-compose version: 1.3.0rc3\nCPython version: 2.7.9\nOpenSSL version: OpenSSL 1.0.1e 11 Feb 2013\n```\n#**docker-compose\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210**\n```lang:Rlogon\nvi docker-compose.yml\n```\n```docker-compose.yml\npostgresql:\n  image: sameersbn/postgresql:9.4\n  volumes:\n    - /home/core/postgresql/data:/var/lib/postgresql\n  environment:\n    - DB_USER=redmine\n    - DB_PASS=admin123\n    - DB_NAME=redmine\nmemcached:\n  image: sameersbn/memcached:latest\nredmine:\n  image: sameersbn/redmine:3.0.3-1\n  links:\n    - postgresql:postgresql\n    - memcached:memcached\n  volumes:\n    - /var/run/docker.sock:/run/docker.sock\n    - /usr/bin/docker:/bin/docker\n    - /home/core/redmine/data:/home/redmine/data\n  environment:\n    - DB_USER=redmine\n    - DB_PASS=admin123\n    - DB_NAME=redmine\n    - SMTP_HOST=smtp_server_fqdn\n    - SMTP_PORT=25\n  ports:\n    - \"80:80\"\n```\n#**Docker\u8d77\u52d5**\n```lang:Rlogon\n./docker-compose up -d\n```\n##\u8d77\u52d5\u78ba\u8a8d\n\nCoreOS\u4e0a\u304b\u3089\u8d77\u52d5\u78ba\u8a8d\n```\nwget http://127.0.0.1/ --no-proxy\n```\n\u3042\u3068\u306f\u30d6\u30e9\u30a6\u30b6\u3067\u8d77\u52d5\u78ba\u8a8d\n[http://127.0.0.1:3000/](http://127.0.0.1:3000/)\n", "tags": ["vagrant", "docker", "Redmine"]}