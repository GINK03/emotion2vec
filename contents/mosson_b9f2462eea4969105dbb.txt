{"context": " More than 1 year has passed since last update.\u3088\u304f\u898b\u308b\u8a8d\u8a3c\u306e\u69cb\u9020\u3067\u3001\uff08\u3053\u3046\u3044\u3046\u3084\u3064\uff09\n\napp/controllers/ApplicationController.rb\n# encoding: utf-8\n\nclass ApplicationController < ActionController::Base\n    before_filter :authenticate\n    helper_method :current_user\n\n    def authenticate\n        # \u8a8d\u8a3c\n    end\n\n    def current_user\n        # \u30e6\u30fc\u30b6\u30fc\u306e\u53d6\u5f97\n    end\nend\n\n\n\n\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u547c\u3073\u51fa\u3059\u3068\u601d\u3044\u307e\u3059\u304c\u3001\ncapybara\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u3046\u307e\u304f\u6271\u3048\u306a\u304b\u3063\u305f\u306e\u3067\uff08\u77e5\u3063\u3066\u3044\u308b\u65b9\u6295\u7a3f\u3057\u3066\u307b\u3057\u3044\u3067\u3059\uff09\u30b9\u30bf\u30d6\u3067\u56de\u907f\u3057\u307e\u3057\u305f\u3002\n\nspec/integration/authenticate_spec.rb\n# ~\n\nit \"\u30e6\u30fc\u30b6\u30fc\u304c\u53d6\u5f97\u3067\u304d\u306a\u3051\u308c\u3070\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u308b\u3079\u304d\" do\n    visit \"/foo/bar\"\n    current_path.should == \"/\" \nend\n\ndescribe \"\u30e6\u30fc\u30b6\u30fc\u304c\u53d6\u5f97\u3067\u304d\u308b\u3068\u304d\" do\n    before (:each) do\n        @user = User.create({:name => \"foo\", :email => \"bar@example.com\" })\n\n        # ApplicationController\u3092\u7d99\u627f\u3059\u308b\u5168\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e:current_user\u3092\u30b9\u30bf\u30d6\n        ApplicationController.any_instance.stub(:current_user).and_return(@user)\n    end\n\n    it \"\u8a8d\u8a3c\u3092\u30d1\u30b9\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u901a\u308a\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\u3079\u304d\" do\n        visit \"/foo/bar\"\n        current_path.should == \"/foo/bar\"\n    end\nend\n\n\n\nrack_session_access\u3068\u3044\u3046gem\u3067\u3044\u3051\u308b\u3088\u3046\u306a\u306e\u3067\u3059\u304c\u3001\nREADME\u3069\u304a\u308a\u306b\u3084\u3063\u3066\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f(GET /rack_session/edit \u3057\u3088\u3046\u3068\u3057\u305f)\u306e\u3067\u30e1\u30e2\u3002\n\n\u3088\u304f\u898b\u308b\u8a8d\u8a3c\u306e\u69cb\u9020\u3067\u3001\uff08\u3053\u3046\u3044\u3046\u3084\u3064\uff09\n\n```ruby:app/controllers/ApplicationController.rb\n# encoding: utf-8\n\nclass ApplicationController < ActionController::Base\n\tbefore_filter :authenticate\n\thelper_method :current_user\n\n\tdef authenticate\n\t\t# \u8a8d\u8a3c\n\tend\n\n\tdef current_user\n\t\t# \u30e6\u30fc\u30b6\u30fc\u306e\u53d6\u5f97\n\tend\nend\n\n```\n\n\u30bb\u30c3\u30b7\u30e7\u30f3\u304b\u3089\u30ec\u30b3\u30fc\u30c9\u3092\u547c\u3073\u51fa\u3059\u3068\u601d\u3044\u307e\u3059\u304c\u3001\ncapybara\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u3046\u307e\u304f\u6271\u3048\u306a\u304b\u3063\u305f\u306e\u3067\uff08\u77e5\u3063\u3066\u3044\u308b\u65b9\u6295\u7a3f\u3057\u3066\u307b\u3057\u3044\u3067\u3059\uff09\u30b9\u30bf\u30d6\u3067\u56de\u907f\u3057\u307e\u3057\u305f\u3002\n\n```ruby:spec/integration/authenticate_spec.rb\n# ~\n\nit \"\u30e6\u30fc\u30b6\u30fc\u304c\u53d6\u5f97\u3067\u304d\u306a\u3051\u308c\u3070\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3055\u308c\u308b\u3079\u304d\" do\n\tvisit \"/foo/bar\"\n\tcurrent_path.should == \"/\" \nend\n\ndescribe \"\u30e6\u30fc\u30b6\u30fc\u304c\u53d6\u5f97\u3067\u304d\u308b\u3068\u304d\" do\n\tbefore (:each) do\n\t\t@user = User.create({:name => \"foo\", :email => \"bar@example.com\" })\n\t\t\n\t\t# ApplicationController\u3092\u7d99\u627f\u3059\u308b\u5168\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e:current_user\u3092\u30b9\u30bf\u30d6\n\t\tApplicationController.any_instance.stub(:current_user).and_return(@user)\n\tend\n\n\tit \"\u8a8d\u8a3c\u3092\u30d1\u30b9\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u901a\u308a\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u8fd4\u3059\u3079\u304d\" do\n\t\tvisit \"/foo/bar\"\n\t\tcurrent_path.should == \"/foo/bar\"\n\tend\nend\n \n```\n\n[rack_session_access](https://github.com/railsware/rack_session_access)\u3068\u3044\u3046gem\u3067\u3044\u3051\u308b\u3088\u3046\u306a\u306e\u3067\u3059\u304c\u3001\nREADME\u3069\u304a\u308a\u306b\u3084\u3063\u3066\u3046\u307e\u304f\u3044\u304b\u306a\u304b\u3063\u305f(GET /rack_session/edit \u3057\u3088\u3046\u3068\u3057\u305f)\u306e\u3067\u30e1\u30e2\u3002\n\n", "tags": ["Rails", "RSpec", "Capybara"]}