{"context": " More than 1 year has passed since last update.\n\n\u76ee\u6a19\n\u4e0d\u7279\u5b9a\u6570\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30c1\u30e7\u30a4\u30b9\u3092\u6301\u3064Form\u3092\u4f5c\u308b\u3068\u304d\u306b\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u7d50\u679c\u3092\u51fa\u3059\u30d0\u30ea\u30c7\u30fc\u30bf\u3092\u4f5c\u308a\u305f\u304b\u3063\u305f\u3002\n\n\n\n\n\n\n\n\u30a8\u30e9\u30fc\u304c\u306a\u3044\u5834\u5408\n\n\n\n\nCustomValidator\u306e\u4f5c\u6210\n\nAbstractFormValidator\u3092\u7d99\u627f\u3057\u305fCustomValidator\u30af\u30e9\u30b9\u3092\u4f5c\u308b\nCustomValidator\u5185\u306b\u306f\u691c\u67fb\u5bfe\u8c61\u306einputField\u3092\u4fdd\u6301\u3059\u308bList\u3092\u4f5c\u308b\nCustomValidator\u5185\u306eValidator\u30e1\u30bd\u30c3\u30c9\u4e2d\u3067\u3001inputField\u306eList\u304b\u3089\u3001\u5165\u529b\u3055\u308c\u305f\u5024\u3092\u53d6\u5f97\u3057\u5024\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n\n\n\u4f7f\u3044\u65b9\n\nListView\u3067Form\u306binputFiled\u3092Add\u3059\u308b\u3068\u304d\u306b\u3001CustomValidator\u306eList\u306b\u3082Add\u3059\u308b\u3088\u3046\u306b\u3059\u308b\nForm\u306bCustomValidtor\u3092\u30bb\u30c3\u30c8\u3059\u308b\n\n\n\u30b3\u30fc\u30c9\n\nPage.html\n<body>\n\n    <p>\u5165\u529b\u30da\u30fc\u30b8</p>\n        <div wicket:id=\"feedback\"></div>\n\n        <form wicket:id=\"form\">\n            <ul style=\"list-style-type: none;\" wicket:id=\"listView\" >\n\n                <li><span wicket:id=\"order\">Number:</span> : <select wicket:id=\"selector\"></select></li>\n            </ul>\n\n            <p><input type=\"submit\" value=\"\u6c7a\u5b9a\" wicket:id=\"upload\" class=\"btn\" /></p>\n\n        </form>\n\n</body>\n\n\n\nPage.java\n//\u4e00\u90e8\u629c\u7c8b\n\nfinal Form<?> form = new Form<Void>(\"form\");\n\n//\u9078\u3070\u308c\u305f\u5185\u5bb9\u304c\u6b63\u3057\u3044\u304b\u5224\u5b9a\u3059\u308bValidator\nfinal SelectionValidator selectionValidator = new SelectionValidator();\nform.add(selectionValidator);\n\n//\u9078\u629e\u80a2\u30ea\u30b9\u30c8\nfinal List<String> options = Arrays.asList(\"\",\"A\",\"B\",\"C\");\n//\u9078\u629e\u3057\u305fobject\u304c\u5165\u308b\u30ea\u30b9\u30c8\nfinal List<String> selection = Arrays.asList(\"\",\"\",\"\");\n\n//ListView\u3067Form\u306bDropDownChoice\u3092Add\u3059\u308b\nListView<String> listView = new ListView<String>(\"listView\",selection){\n\n    private static final long serialVersionUID = 6483489885119506981L;\n\n    @Override\n    protected void populateItem(ListItem<String> item) {\n        DropDownChoice<String> dropDownChoice = new DropDownChoice<String>(\"selector\", item.getModel(),options);\n        item.add(dropDownChoice);\n        //SelectionValidator\u306bComponent\u3092\u9810\u3051\u308b\n        selectionValidator.addComponents(dropDownChoice);\n    }\n};\n\nlistView.setReuseItems(true);\n\nform.add(listView);\n\nAjaxButton upload = new AjaxButton(\"upload\") {\n\n    private static final long serialVersionUID = 606832891534714518L;\n\n    @Override\n    protected void onSubmit(AjaxRequestTarget arg0, Form<?> arg1) {\n        //button\u3092\u62bc\u3055\u308c\u305f\u6642\u306b\u9078\u3070\u308c\u305f\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b\n        info(selection.toString());\n        arg0.add(feedbackPanel);\n    }\n    @Override\n    protected void onError(AjaxRequestTarget target, Form<?> form) {\n        //\u30a8\u30e9\u30fc\u6642\u306e\u51e6\u7406\n        target.add(feedbackPanel);\n    }\n};\n\nform.add(upload);\n\n\n\n\nSelectionValidatio.java\n/** \u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30c1\u30e7\u30a4\u30b9\u304c\u6b63\u3057\u304f\u9078\u3070\u308c\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308bValidator\n    \u30c1\u30a7\u30c3\u30af\u9805\u76ee\u306f2\u70b9\uff1a\n    1. \u9078\u629e\u6f0f\u308c\u306f\u306a\u3044\u304b\n    2. \u9078\u629e\u306e\u91cd\u8907\u306f\u306a\u3044\u304b\n */\npublic class SelectionValidator extends AbstractFormValidator {\n\n    private static final long serialVersionUID = -5475763159946590330L;\n\n    //Validate\u5bfe\u8c61\u3092\u4fdd\u6301\u3059\u308b\u30ea\u30b9\u30c8\n    private final List<DropDownChoice<String>> components = new ArrayList<DropDownChoice<String>>();\n\n    public void addComponents(final DropDownChoice<String> component) {\n        components.add(component);\n    }\n\n    @Override\n    public FormComponent<?>[] getDependentFormComponents() {\n        return components.toArray(new FormComponent[components.size()]);\n    }\n\n    @Override\n    public void validate(final Form<?> form) {\n        //\u691c\u8a3c\u306b\u7528\u3044\u308b\u30c7\u30fc\u30bf\u3092inpuFields\u304b\u3089\u53d6\u308a\u51fa\u3059\n        List<String> inputs = new ArrayList<String>();\n        for(DropDownChoice<String> component : components){\n            inputs.add(component.getConvertedInput());\n        }\n\n        //1.\u9078\u629e\u6f0f\u308c\u306f\u306a\u3044\u304b\n        for(String string : inputs){\n            if(string.isEmpty()){\n                form.error(\"\u9078\u629e\u6f0f\u308c\u304c\u3042\u308a\u307e\u3059\");\n                return;\n            }\n        }\n\n        // 2.\u9078\u629e\u306e\u91cd\u8907\u306f\u306a\u3044\u304b\n        for(int i = 0; i < inputs.size(); i++){\n            for(int j = i+1;j < inputs.size(); j++){\n                if (inputs.get(i).equals(inputs.get(j))) {\n                    form.error(\"\u9078\u629e\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059\");\n                    return;\n                }\n            }\n        }\n    }       \n}\n\n\n\n\u53c2\u8003\u30b5\u30a4\u30c8\nSubject: Adding Custom validator for Listview having multiple checkboxes - msg#00320\nListView\u3067\u751f\u6210\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u5bfe\u3057\u3066\u30d0\u30ea\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3059\u308bWicketJava\n\n##\u76ee\u6a19\n\u4e0d\u7279\u5b9a\u6570\u306e\u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30c1\u30e7\u30a4\u30b9\u3092\u6301\u3064Form\u3092\u4f5c\u308b\u3068\u304d\u306b\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306a\u7d50\u679c\u3092\u51fa\u3059\u30d0\u30ea\u30c7\u30fc\u30bf\u3092\u4f5c\u308a\u305f\u304b\u3063\u305f\u3002\n\n------\n![\u91cd\u8907.jpg](https://qiita-image-store.s3.amazonaws.com/0/57201/f49bf787-4c51-dcd4-3c47-26eca6fab33d.jpeg)\n------\n![\u9078\u629e\u6f0f\u308c.jpg](https://qiita-image-store.s3.amazonaws.com/0/57201/1ec0dee6-d500-9d95-83a8-c6711026c956.jpeg)\n------\n\u30a8\u30e9\u30fc\u304c\u306a\u3044\u5834\u5408\n![\u30a8\u30e9\u30fc\u306a\u3057.jpg](https://qiita-image-store.s3.amazonaws.com/0/57201/9090482c-e2dd-db94-c759-b3f625294efb.jpeg)\n------\n\n##CustomValidator\u306e\u4f5c\u6210\n1. AbstractFormValidator\u3092\u7d99\u627f\u3057\u305fCustomValidator\u30af\u30e9\u30b9\u3092\u4f5c\u308b\n2. CustomValidator\u5185\u306b\u306f\u691c\u67fb\u5bfe\u8c61\u306einputField\u3092\u4fdd\u6301\u3059\u308bList\u3092\u4f5c\u308b\n3. CustomValidator\u5185\u306eValidator\u30e1\u30bd\u30c3\u30c9\u4e2d\u3067\u3001inputField\u306eList\u304b\u3089\u3001\u5165\u529b\u3055\u308c\u305f\u5024\u3092\u53d6\u5f97\u3057\u5024\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n\n##\u4f7f\u3044\u65b9\n1. ListView\u3067Form\u306binputFiled\u3092Add\u3059\u308b\u3068\u304d\u306b\u3001CustomValidator\u306eList\u306b\u3082Add\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n2. Form\u306bCustomValidtor\u3092\u30bb\u30c3\u30c8\u3059\u308b\n\n##\u30b3\u30fc\u30c9\n```html:Page.html\n<body>\n\t\n\t<p>\u5165\u529b\u30da\u30fc\u30b8</p>\n\t\t<div wicket:id=\"feedback\"></div>\n\t\t\n\t\t<form wicket:id=\"form\">\n\t\t\t<ul style=\"list-style-type: none;\" wicket:id=\"listView\" >\n\t\t\t\t\n\t\t\t\t<li><span wicket:id=\"order\">Number:</span> : <select wicket:id=\"selector\"></select></li>\n\t\t\t</ul>\n\n\t\t\t<p><input type=\"submit\" value=\"\u6c7a\u5b9a\" wicket:id=\"upload\" class=\"btn\" /></p>\n\n\t\t</form>\n\t\n</body>\n```\n\n```java:Page.java\n//\u4e00\u90e8\u629c\u7c8b\n\nfinal Form<?> form = new Form<Void>(\"form\");\n\n//\u9078\u3070\u308c\u305f\u5185\u5bb9\u304c\u6b63\u3057\u3044\u304b\u5224\u5b9a\u3059\u308bValidator\nfinal SelectionValidator selectionValidator = new SelectionValidator();\nform.add(selectionValidator);\n\n//\u9078\u629e\u80a2\u30ea\u30b9\u30c8\nfinal List<String> options = Arrays.asList(\"\",\"A\",\"B\",\"C\");\n//\u9078\u629e\u3057\u305fobject\u304c\u5165\u308b\u30ea\u30b9\u30c8\nfinal List<String> selection = Arrays.asList(\"\",\"\",\"\");\n\n//ListView\u3067Form\u306bDropDownChoice\u3092Add\u3059\u308b\nListView<String> listView = new ListView<String>(\"listView\",selection){\n\n\tprivate static final long serialVersionUID = 6483489885119506981L;\n\n\t@Override\n\tprotected void populateItem(ListItem<String> item) {\n\t\tDropDownChoice<String> dropDownChoice = new DropDownChoice<String>(\"selector\", item.getModel(),options);\n\t\titem.add(dropDownChoice);\n\t\t//SelectionValidator\u306bComponent\u3092\u9810\u3051\u308b\n\t\tselectionValidator.addComponents(dropDownChoice);\n\t}\n};\n\nlistView.setReuseItems(true);\n\n\bform.add(listView);\n\t\t\nAjaxButton upload = new AjaxButton(\"upload\") {\n\n\tprivate static final long serialVersionUID = 606832891534714518L;\n\n\t@Override\n\tprotected void onSubmit(AjaxRequestTarget arg0, Form<?> arg1) {\n\t\t//button\u3092\u62bc\u3055\u308c\u305f\u6642\u306b\u9078\u3070\u308c\u305f\u5185\u5bb9\u3092\u8868\u793a\u3059\u308b\n\t\tinfo(selection.toString());\n\t\targ0.add(feedbackPanel);\n\t}\n\t@Override\n\tprotected void onError(AjaxRequestTarget target, Form<?> form) {\n\t\t//\u30a8\u30e9\u30fc\u6642\u306e\u51e6\u7406\n\t\ttarget.add(feedbackPanel);\n\t}\n};\n\t\nform.add(upload);\n\n```\n\n``` java:SelectionValidatio.java\n/** \u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3\u30c1\u30e7\u30a4\u30b9\u304c\u6b63\u3057\u304f\u9078\u3070\u308c\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308bValidator\n\t\u30c1\u30a7\u30c3\u30af\u9805\u76ee\u306f2\u70b9\uff1a\n\t1. \u9078\u629e\u6f0f\u308c\u306f\u306a\u3044\u304b\n\t2. \u9078\u629e\u306e\u91cd\u8907\u306f\u306a\u3044\u304b\n */\npublic class SelectionValidator extends AbstractFormValidator {\n\n\tprivate static final long serialVersionUID = -5475763159946590330L;\n\n\t//Validate\u5bfe\u8c61\u3092\u4fdd\u6301\u3059\u308b\u30ea\u30b9\u30c8\n\tprivate final List<DropDownChoice<String>> components = new ArrayList<DropDownChoice<String>>();\n\t\n\tpublic void addComponents(final DropDownChoice<String> component) {\n\t\tcomponents.add(component);\n\t}\n\n\t@Override\n\tpublic FormComponent<?>[] getDependentFormComponents() {\n\t\treturn components.toArray(new FormComponent[components.size()]);\n\t}\n\n\t@Override\n\tpublic void validate(final Form<?> form) {\n\t\t//\u691c\u8a3c\u306b\u7528\u3044\u308b\u30c7\u30fc\u30bf\u3092inpuFields\u304b\u3089\u53d6\u308a\u51fa\u3059\n\t\tList<String> inputs = new ArrayList<String>();\n\t\tfor(DropDownChoice<String> component : components){\n\t\t\tinputs.add(component.getConvertedInput());\n\t\t}\n\t\t\n\t\t//1.\u9078\u629e\u6f0f\u308c\u306f\u306a\u3044\u304b\n\t\tfor(String string : inputs){\n\t\t\tif(string.isEmpty()){\n\t\t\t\tform.error(\"\u9078\u629e\u6f0f\u308c\u304c\u3042\u308a\u307e\u3059\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t\t\n\t\t// 2.\u9078\u629e\u306e\u91cd\u8907\u306f\u306a\u3044\u304b\n\t\tfor(int i = 0; i < inputs.size(); i++){\n\t\t\tfor(int j = i+1;j < inputs.size(); j++){\n\t\t\t\tif (inputs.get(i).equals(inputs.get(j))) {\n\t\t\t\t\tform.error(\"\u9078\u629e\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\t\n}\n```\n\n##\u53c2\u8003\u30b5\u30a4\u30c8\n[Subject: Adding Custom validator for Listview having multiple checkboxes - msg#00320](http://osdir.com/ml/users-wicket.apache.org/2013-05/msg00320.html)\n[ListView\u3067\u751f\u6210\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306b\u5bfe\u3057\u3066\u30d0\u30ea\u30c7\u30fc\u30bf\u3092\u6307\u5b9a\u3059\u308bWicketJava](http://d.hatena.ne.jp/TaRO/20100530/1275219672)\n", "tags": ["Wicket6.15"]}