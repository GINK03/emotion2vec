{"context": " More than 1 year has passed since last update.'application/x-www-form-urlencoded'\u3067Resource\u306bPOST\u3059\u308b\u3068\u3001dispath\u304b\u3089\u3001post_detail \u304c\u547c\u3070\u308c\u307e\u3059\u3002\n\n    def post_detail(self, request, **kwargs):\n        return http.HttpNotImplemented()\n\n\n\u306e\u3067\u3001\u3053\u308c\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002 dispatch\u306f\u6700\u7d42\u7684\u306bHttpResponse\u3092\u304b\u3048\u3059\u306e\u3067\u3059\u304c\u3001\n\n    def dispatch(self, request_type, request, **kwargs):\n\n        #.....\n\n        response = method(request, **kwargs)        # method = post_detail\n        #....\n        if not isinstance(response, HttpResponse):\n            return http.HttpNoContent()\n\n        return response\n\n\n\u306a\u306e\u3067\u3001post_detail \u304b\u3089HttpResponse\u3092\u8fd4\u3055\u306a\u3044\u3068\u3001 HttpNoContent(204) \u3092\u8fd4\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\nlocation\u3092\u6e21\u3057\u3066\u3001 get\u3057\u3066\u3082\u3089\u3046\u306e\u304c\u57fa\u672c\u7684\u306a\u8003\u3048\u65b9\u3067\u3059\u3002\n\u3057\u304b\u3057POST\u3067\u3059\u3050\u8fd4\u3057\u305f\u3044\u306e\u3067\u3001\u305d\u308c\u306b\u306fget_detail()\u3067\u3084\u3063\u3066\u3044\u308b\u3088\u3046\u306bbundle\u3092\u4f5c\u3063\u3066create_response()\u3092\u547c\u3093\u3067\u3084\u308c\u3070\u3044\u3044\u3088\u3046\u3067\u3059\u3002\n\n    class TokenResource(Resource):\n\n        class Meta:\n            allowed_methods = ['post',]\n            resource_name = 'token'\n            object_class = TokenRes\n            authentication = ClientFormAuth()\n            serializer = ObjectSerializer(formats=['json'])\n\n        def post_detail(self, request, **kwargs):\n\n            obj = TokenRes(access_token=\"__here_is_a_new_token_\")\n\n            bundle = self.build_bundle(obj=obj, request=request)\n            bundle = self.full_dehydrate(bundle)\n            bundle = self.alter_detail_data_to_serialize(request, bundle)\n            return self.create_response(request, bundle)\n\n\nalways_return_data = True \u306fResource#post_detail \u3067\u306f\u5168\u304f\u95a2\u4fc2\u306a\u3044\u3067\u3059\u3002\n\n\n'application/x-www-form-urlencoded'\u3067Resource\u306bPOST\u3059\u308b\u3068\u3001dispath\u304b\u3089\u3001post_detail \u304c\u547c\u3070\u308c\u307e\u3059\u3002\n\n```py\n\n    def post_detail(self, request, **kwargs):\n        return http.HttpNotImplemented()\n\n```\n\n\n\u306e\u3067\u3001\u3053\u308c\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002 dispatch\u306f\u6700\u7d42\u7684\u306bHttpResponse\u3092\u304b\u3048\u3059\u306e\u3067\u3059\u304c\u3001\n\n```py\n\n    def dispatch(self, request_type, request, **kwargs):\n\n        #.....\n\n        response = method(request, **kwargs)        # method = post_detail\n        #....\n        if not isinstance(response, HttpResponse):\n            return http.HttpNoContent()\n\n        return response\n\n```\n\n\u306a\u306e\u3067\u3001post_detail \u304b\u3089HttpResponse\u3092\u8fd4\u3055\u306a\u3044\u3068\u3001 HttpNoContent(204) \u3092\u8fd4\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\nlocation\u3092\u6e21\u3057\u3066\u3001 get\u3057\u3066\u3082\u3089\u3046\u306e\u304c\u57fa\u672c\u7684\u306a\u8003\u3048\u65b9\u3067\u3059\u3002\n\n\u3057\u304b\u3057POST\u3067\u3059\u3050\u8fd4\u3057\u305f\u3044\u306e\u3067\u3001\u305d\u308c\u306b\u306fget_detail()\u3067\u3084\u3063\u3066\u3044\u308b\u3088\u3046\u306bbundle\u3092\u4f5c\u3063\u3066create_response()\u3092\u547c\u3093\u3067\u3084\u308c\u3070\u3044\u3044\u3088\u3046\u3067\u3059\u3002\n\n\n```py\n\n    class TokenResource(Resource):\n    \n        class Meta:\n            allowed_methods = ['post',]\n            resource_name = 'token'\n            object_class = TokenRes\n            authentication = ClientFormAuth()\n            serializer = ObjectSerializer(formats=['json'])\n    \n        def post_detail(self, request, **kwargs):\n        \n            obj = TokenRes(access_token=\"__here_is_a_new_token_\")\n            \n            bundle = self.build_bundle(obj=obj, request=request)\n            bundle = self.full_dehydrate(bundle)\n            bundle = self.alter_detail_data_to_serialize(request, bundle)\n            return self.create_response(request, bundle)\n        \n```\n        \nalways_return_data = True \u306fResource#post_detail \u3067\u306f\u5168\u304f\u95a2\u4fc2\u306a\u3044\u3067\u3059\u3002\n        \n", "tags": ["Tastypie", "Django", "rest"]}