{"context": "\n\nSolrCloud\u3068\u306f\n\u516c\u5f0f wiki\nhttps://wiki.apache.org/solr/SolrCloud\napache\u3055\u3093\u304c\u4f5c\u3063\u3066\u3044\u308b\u306e\u3067\u5b89\u5fc3 ?\n\n\u69cb\u6210\n\u5168\u90e8\u30673\u90e8\u69cb\u6210\u306b\u3059\u308b\u4e88\u5b9a\n\n\nPart.1\n\nCentOS\u4e0a\u306bzookeeper\u3092\u69cb\u7bc9\u3059\u308b [\u524d\u56de]\n\n\n\nPort.2\n\nCentOS\u4e0a\u306bSolr\u3092\u69cb\u7bc9\u3059\u308b [\u4eca\u56de]\n\n\n\nPort.3\n\nCentOS\u4e0a\u306bSolrCloud\u3092\u69cb\u7bc9\u3059\u308b [\u6b21\u56de]\n\n\n\n\nPart.2 Apache Solr\u3092\u69cb\u7bc9\u3059\u308b\n\n\u74b0\u5883\n\narch\n\n# cat /etc/redhat-release \nCentOS release 6.7 (Final)\n# arch\nx86_64\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nOracle Jave\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# cd /var/tmp/\n# wget --no-check-certificate --no-cookies - --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u45-b14/jdk-8u45-linux-x64.rpm\n# rpm -Uhv jdk-8u45-linux-x64.rpm\n\n\nSolr\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nhttp://www.apache.org/dyn/closer.lua/lucene/solr/5.5.0\n\u4e0a\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u89e3\u51cd\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u4e00\u6c17\u306b\u884c\u3046\u3002\n\ncmd\n# cd /var/tmp\n# wget http://ftp.riken.jp/net/apache/lucene/solr/5.5.0/solr-5.5.0.tgz\n# tar zxvf /var/tmp/solr-5.5.0.tgz\n# sh /var/tmp/solr-5.5.0/bin/install_solr_service.sh solr-5.5.0.tgz\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u3066\u300chttp://${IP}:8983\u300d\u3067\u3001apache solr\u304c\u78ba\u8a8d\u51fa\u6765\u308c\u3070\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u3002\n\u307e\u305f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306f/opt\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3002\n$ cd /opt/solr\n$ ls\nbin          licenses\nCHANGES.txt  LICENSE.txt\ncontrib      LUCENE_CHANGES.txt\ndist         NOTICE.txt\ndocs         README.txt\nexample      server\n\n\u3053\u308c\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u4f7f\u7528\u3057\u305finstall_solr_service.sh\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u3042\u308a\u3001\u660e\u793a\u7684\u306b\u66f8\u304f\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n# sh /var/tmp/solr-5.5.0/bin/install_solr_service.sh solr-5.5.0.tgz -d /var/solr -i /opt/ -p 8983 -s solr -u solr\n\n\n\u30b3\u30a2\u306e\u4f5c\u6210\u3068\u30b5\u30f3\u30d7\u30eb\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n\ncore\u306e\u4f5c\u6210\n\n\n\u203b solr\u30e6\u30fc\u30b6\u3067\u3084\u3089\u306a\u3044\u3068\u30b3\u30b1\u308b\u3002\n\n\n\n# su solr\n$ cd /opt/solr/\n$ bin/solr create -c iganari\n\nCopying configuration to new core instance directory:\n/var/solr/data/iganari\n\nCreating new core 'iganari' using command:\nhttp://localhost:8983/solr/admin/cores?action=CREATE&name=iganari&instanceDir=iganari\n\n{\n  \"responseHeader\":{\n    \"status\":0,\n    \"QTime\":3944},\n  \"core\":\"iganari\"}\n\n\n\n\u7d30\u304b\u3044\u8aac\u660e\n\u69cb\u7bc9\u3057\u305f\u969b\u306e\u3082\u3063\u3068\u7d30\u304b\u3044\u5185\u5bb9\u306fblog\u3067\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\nhttp://iganari.hatenablog.com/\n# SolrCloud\u3068\u306f\n\n\u516c\u5f0f wiki\nhttps://wiki.apache.org/solr/SolrCloud\n\napache\u3055\u3093\u304c\u4f5c\u3063\u3066\u3044\u308b\u306e\u3067\u5b89\u5fc3 ?\n\n# \u69cb\u6210\n\n\u5168\u90e8\u30673\u90e8\u69cb\u6210\u306b\u3059\u308b\u4e88\u5b9a\n\n+ Part.1\n    + CentOS\u4e0a\u306bzookeeper\u3092\u69cb\u7bc9\u3059\u308b [[\u524d\u56de](http://qiita.com/iganari/items/c31d5a253e38184f23e6)]\n\n+ Port.2\n    + CentOS\u4e0a\u306bSolr\u3092\u69cb\u7bc9\u3059\u308b [\u4eca\u56de]\n\n+ Port.3\n    + CentOS\u4e0a\u306bSolrCloud\u3092\u69cb\u7bc9\u3059\u308b [\u6b21\u56de]\n\n\n# Part.2 Apache Solr\u3092\u69cb\u7bc9\u3059\u308b\n\n### \u74b0\u5883\n\n+ arch\n\n```\n# cat /etc/redhat-release \nCentOS release 6.7 (Final)\n# arch\nx86_64\n```\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n+ Oracle Jave\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n# cd /var/tmp/\n# wget --no-check-certificate --no-cookies - --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/8u45-b14/jdk-8u45-linux-x64.rpm\n# rpm -Uhv jdk-8u45-linux-x64.rpm\n```\n\n+ Solr\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nhttp://www.apache.org/dyn/closer.lua/lucene/solr/5.5.0\n\n\u4e0a\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u89e3\u51cd\u30fb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u4e00\u6c17\u306b\u884c\u3046\u3002\n\n```text:cmd\n# cd /var/tmp\n# wget http://ftp.riken.jp/net/apache/lucene/solr/5.5.0/solr-5.5.0.tgz\n# tar zxvf /var/tmp/solr-5.5.0.tgz\n# sh /var/tmp/solr-5.5.0/bin/install_solr_service.sh solr-5.5.0.tgz\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u3066\u300chttp://${IP}:8983\u300d\u3067\u3001apache solr\u304c\u78ba\u8a8d\u51fa\u6765\u308c\u3070\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u3002\n\n\u307e\u305f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306f`/opt`\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3002\n\n```\n$ cd /opt/solr\n$ ls\nbin          licenses\nCHANGES.txt  LICENSE.txt\ncontrib      LUCENE_CHANGES.txt\ndist         NOTICE.txt\ndocs         README.txt\nexample      server\n```\n\n\u3053\u308c\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u4f7f\u7528\u3057\u305f`install_solr_service.sh`\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u3042\u308a\u3001\u660e\u793a\u7684\u306b\u66f8\u304f\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n```\n# sh /var/tmp/solr-5.5.0/bin/install_solr_service.sh solr-5.5.0.tgz -d /var/solr -i /opt/ -p 8983 -s solr -u solr\n```\n\n\n### \u30b3\u30a2\u306e\u4f5c\u6210\u3068\u30b5\u30f3\u30d7\u30eb\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b\n\n+ core\u306e\u4f5c\u6210\n    + \u203b solr\u30e6\u30fc\u30b6\u3067\u3084\u3089\u306a\u3044\u3068\u30b3\u30b1\u308b\u3002\n\n```\n# su solr\n$ cd /opt/solr/\n$ bin/solr create -c iganari\n\nCopying configuration to new core instance directory:\n/var/solr/data/iganari\n\nCreating new core 'iganari' using command:\nhttp://localhost:8983/solr/admin/cores?action=CREATE&name=iganari&instanceDir=iganari\n\n{\n  \"responseHeader\":{\n    \"status\":0,\n    \"QTime\":3944},\n  \"core\":\"iganari\"}\n```\n\n![core_iganari.png](https://qiita-image-store.s3.amazonaws.com/0/25582/131ad43a-936a-9b01-3446-849939f38a3b.png)\n\n\n# \u7d30\u304b\u3044\u8aac\u660e\n\n\u69cb\u7bc9\u3057\u305f\u969b\u306e\u3082\u3063\u3068\u7d30\u304b\u3044\u5185\u5bb9\u306fblog\u3067\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\nhttp://iganari.hatenablog.com/\n", "tags": ["Apache", "solr"]}