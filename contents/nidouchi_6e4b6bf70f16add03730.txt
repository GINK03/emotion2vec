{"tags": ["yhpg", "Ruby", "\u3069\u3046\u66f8\u304f"], "context": " More than 1 year has passed since last update.\u554f\u984c\u306f\nhttp://nabetani.sakura.ne.jp/hena/ord28spirwa/\ndef solve(q)\n  ds,days = q.split(':')\n  n,e,s,w = ds.split(',').map(&:to_i)\n  done = [[0,0]]\n  n.times{|i| done << [0,i+1]}\n  e.times{|i| done << [i+1,0]}\n  s.times{|i| done << [0,-i-1]}\n  w.times{|i| done << [-i-1,0]}\n  x,y = 1,1\n  done << [1,1]\n  d = :E\n  days.to_i.times{\n    case d\n    when :E\n      x += 1\n      d = :S unless done.include?([x,y-1])\n      d = :N if done.include?([x+1,y])\n    when :S\n      y -= 1\n      d = :W unless done.include?([x-1,y])\n      d = :E if done.include?([x,y-1])\n    when :W\n      x -= 1\n      d = :N unless done.include?([x,y+1])\n      d = :S if done.include?([x-1,y])\n    when :N\n      y += 1\n      d = :E unless done.include?([x+1,y])\n      d = :W if done.include?([x,y+1])\n    end  \n    done << [x, y]\n  }\n  d.to_s\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.strip.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0   2,3,5,4:85  S    \n1   1,2,3,4:1   E    \n2   1,2,3,4:2   S    \n3   1,2,3,4:3   S    \n4   1,2,3,4:4   W    \n5   1,2,3,4:27  E    \n6   1,2,3,4:63  E    \n7   1,2,3,4:40  W    \n8   1,4,3,2:40  S    \n9   3,3,3,3:30  S    \n10  3,3,3,3:31  E    \n11  3,3,3,3:32  E    \n12  3,3,3,3:70  S    \n13  3,3,3,3:71  E    \n14  3,3,3,3:72  E    \n15  1,1,1,1:7   N    \n16  1,2,1,1:7   W    \n17  1,6,1,1:7   S    \n18  1,8,1,1:7   E    \n19  1,1,1,1:30  N    \n20  1,2,1,1:30  W    \n21  1,5,1,1:30  S    \n22  1,8,1,1:30  E    \n23  9,9,9,9:99  W    \n24  5,6,3,8:3   E    \n25  5,8,1,1:11  W    \n26  2,8,1,2:18  S    \n27  3,2,3,1:20  N    \n28  3,3,8,1:28  N    \n29  2,5,1,2:32  E    \n30  2,5,1,6:33  E    \n31  1,2,5,7:34  N    \n32  3,6,5,6:36  E    \n33  6,2,8,1:39  S    \n34  3,1,2,3:41  W    \n35  1,1,3,4:45  W    \n36  1,3,1,2:46  N    \n37  4,4,4,4:49  W    \n38  3,1,4,4:55  N    \n39  6,6,2,1:56  W    \n40  3,2,1,2:59  S    \n41  2,7,7,1:60  S    \n42  3,1,1,1:63  N    \n43  4,6,4,1:78  E    \n44  7,5,3,6:79  W    \n45  7,8,3,1:81  E    \n46  3,2,5,2:82  S    \n47  1,1,3,4:84  N    \n48  7,4,1,5:88  S    \n49  3,6,5,3:89  S    \n50  1,4,2,3:92  N    \n51  1,3,4,5:93  W    \n52  2,4,8,1:94  W    \n53  3,6,1,7:99  S    \n\n\u554f\u984c\u306f\nhttp://nabetani.sakura.ne.jp/hena/ord28spirwa/\n\n```rb\ndef solve(q)\n  ds,days = q.split(':')\n  n,e,s,w = ds.split(',').map(&:to_i)\n  done = [[0,0]]\n  n.times{|i| done << [0,i+1]}\n  e.times{|i| done << [i+1,0]}\n  s.times{|i| done << [0,-i-1]}\n  w.times{|i| done << [-i-1,0]}\n  x,y = 1,1\n  done << [1,1]\n  d = :E\n  days.to_i.times{\n    case d\n    when :E\n      x += 1\n      d = :S unless done.include?([x,y-1])\n      d = :N if done.include?([x+1,y])\n    when :S\n      y -= 1\n      d = :W unless done.include?([x-1,y])\n      d = :E if done.include?([x,y-1])\n    when :W\n      x -= 1\n      d = :N unless done.include?([x,y+1])\n      d = :S if done.include?([x-1,y])\n    when :N\n      y += 1\n      d = :E unless done.include?([x+1,y])\n      d = :W if done.include?([x,y+1])\n    end  \n    done << [x, y]\n  }\n  d.to_s\nend\n\nDATA.readlines.each do |line|\n  no,q,a = line.strip.split(/\\s+/)\n  ans = solve(q)\n  print no + \"\\t\" + ans\n  puts ans == a ? ' o' : ' x'\nend\n__END__\n0\t2,3,5,4:85\tS\t \n1\t1,2,3,4:1\tE\t \n2\t1,2,3,4:2\tS\t \n3\t1,2,3,4:3\tS\t \n4\t1,2,3,4:4\tW\t \n5\t1,2,3,4:27\tE\t \n6\t1,2,3,4:63\tE\t \n7\t1,2,3,4:40\tW\t \n8\t1,4,3,2:40\tS\t \n9\t3,3,3,3:30\tS\t \n10\t3,3,3,3:31\tE\t \n11\t3,3,3,3:32\tE\t \n12\t3,3,3,3:70\tS\t \n13\t3,3,3,3:71\tE\t \n14\t3,3,3,3:72\tE\t \n15\t1,1,1,1:7\tN\t \n16\t1,2,1,1:7\tW\t \n17\t1,6,1,1:7\tS\t \n18\t1,8,1,1:7\tE\t \n19\t1,1,1,1:30\tN\t \n20\t1,2,1,1:30\tW\t \n21\t1,5,1,1:30\tS\t \n22\t1,8,1,1:30\tE\t \n23\t9,9,9,9:99\tW\t \n24\t5,6,3,8:3\tE\t \n25\t5,8,1,1:11\tW\t \n26\t2,8,1,2:18\tS\t \n27\t3,2,3,1:20\tN\t \n28\t3,3,8,1:28\tN\t \n29\t2,5,1,2:32\tE\t \n30\t2,5,1,6:33\tE\t \n31\t1,2,5,7:34\tN\t \n32\t3,6,5,6:36\tE\t \n33\t6,2,8,1:39\tS\t \n34\t3,1,2,3:41\tW\t \n35\t1,1,3,4:45\tW\t \n36\t1,3,1,2:46\tN\t \n37\t4,4,4,4:49\tW\t \n38\t3,1,4,4:55\tN\t \n39\t6,6,2,1:56\tW\t \n40\t3,2,1,2:59\tS\t \n41\t2,7,7,1:60\tS\t \n42\t3,1,1,1:63\tN\t \n43\t4,6,4,1:78\tE\t \n44\t7,5,3,6:79\tW\t \n45\t7,8,3,1:81\tE\t \n46\t3,2,5,2:82\tS\t \n47\t1,1,3,4:84\tN\t \n48\t7,4,1,5:88\tS\t \n49\t3,6,5,3:89\tS\t \n50\t1,4,2,3:92\tN\t \n51\t1,3,4,5:93\tW\t \n52\t2,4,8,1:94\tW\t \n53\t3,6,1,7:99\tS\t \n```\n"}