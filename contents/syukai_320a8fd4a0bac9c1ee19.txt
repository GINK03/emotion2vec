{"tags": ["spring-boot1.2.7, 1.4"], "context": "Spring Boot\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30fc\u30ea\u30f3\u30b0\u3059\u308b\u306e\u306b\u30cf\u30de\u3063\u3066\n\u300c\u306f\u3058\u3081\u3066\u306eSpring Boot\u300d\u306e\u69d9\u3055\u3093\u306bTwitter\u3067\u52a9\u3051\u3066\u9802\u3044\u305f\u306e\u3067\u304a\u793c\u4ee3\u308f\u308a\u306b\u66f8\u304d\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u30d7\u30fc\u30ea\u30f3\u30b0\u306e\u8a2d\u5b9a\u306fapplication.yml\u306b\u66f8\u304d\u307e\u3059\u3002\n\napplication.yml\nspring:\n  datasource:\n    url=jdbc:oracle:thin:@localhost:1521/orcl\n    driverClassName=oracle.jdbc.driver.OracleDriver\n    username: scott\n    password:tiger\n    maxActive: 15\n    maxIdle: 10\n    minIdle: 5\n    initialSize: 0\n\n\n\u3068\u3053\u3053\u307e\u3067\u306f\u3059\u3050\u308f\u304b\u3063\u305f\u3093\u3067\u3059\u304c\u3001Config\u30af\u30e9\u30b9\u3067datasource\u3092\u751f\u6210\u3059\u308b\u969b\u306b@ConfigurationProperties\u3067\u8a2d\u5b9a\u3092\u62e1\u5f35\u3057\u306a\u3044\u3068\u6709\u52b9\u306b\u306a\u308a\u307e\u305b\u3093\uff01\n\nConfig.java\n@ConfigurationProperties(prefix = \"spring.datasource\")\n@Bean\npublic DataSource dataSource() {\n    DataSourceBuilder factory = DataSourceBuilder\n            .create(this.properties.getClassLoader())\n            .driverClassName(this.properties.getDriverClassName())\n            .url(this.properties.getUrl())\n            .username(this.properties.getUsername())\n            .password(this.properties.getPassword());\n    return factory.build();\n}\n\n\n\u3053\u308c\u3060\u3051\u3060\u3068\u300cConfigurationProperties\u52dd\u624b\u306b\u4f7f\u3046\u3093\u3058\u3083\u306d\u3048\uff01\u300d\u3063\u3066\u8b66\u544a\u304c\u51fa\u308b\u306e\u3067pom.xml\u306b\u3082\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3066\u3084\u308a\u307e\u3059\u3002\n\npom.xml\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-configuration-processor</artifactId>\n    <optional>true</optional>\n</dependency>\n\n\n\u3053\u3061\u3089\u3067\u8a73\u3057\u304f\u8aac\u660e\u3057\u3066\u304f\u3060\u3055\u3063\u3066\u3044\u307e\u3057\u305f\u3002\nstackoverflow - Spring-Boot: How do I set JDBC pool properties like maximum number of connections?\n\u304c\u3001DataSourceAutoConfiguration.CONFIGURATION_PREFIX\u306e\u66f8\u304d\u65b9\u306f\u4eca\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u304b\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nConfigurationProperties\u306e\u66f8\u304d\u65b9\u306f\u3053\u3061\u3089\u3082\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\nrororo1989\u306e\u30d6\u30ed\u30b0 - Spring Boot\u305d\u306e\uff16 db\u5468\u308a\u306d\uff01\nprefix\u3063\u3066\u305d\u3046\u3044\u3046\u3053\u3068\u306a\u306e\u306d\u3002\n\n2016/10/29\u8ffd\u8a18 SpringBoot1.4\u306e\u5834\u5408\napplication.yml\u306b\u66f8\u304f\u3060\u3051\u3067\u3061\u3083\u3093\u3068\u52d5\u304d\u307e\u3057\u305f\u3002\n\napplication.yml\nspring:\n  datasource:\n    driverClassName: oracle.jdbc.driver.OracleDriver\n    url: jdbc:oracle:thin:@localhost:1521/orcl\n    username: scott\n    password: tiger\n    sqlScriptEncoding: UTF-8\n#pooling setting\nspring.datasource.tomcat:\n    maxActive: 15\n    maxIdle: 10\n    minIdle: 5\n    initialSize: 2\n\n\nTomcat\u3058\u3083\u306a\u3044\u4eba\u306f\u5225\u9014\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#datasource-binding\nSpring Boot\u3067\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30d7\u30fc\u30ea\u30f3\u30b0\u3059\u308b\u306e\u306b\u30cf\u30de\u3063\u3066\n\u300c\u306f\u3058\u3081\u3066\u306eSpring Boot\u300d\u306e\u69d9\u3055\u3093\u306bTwitter\u3067\u52a9\u3051\u3066\u9802\u3044\u305f\u306e\u3067\u304a\u793c\u4ee3\u308f\u308a\u306b\u66f8\u304d\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n\u30d7\u30fc\u30ea\u30f3\u30b0\u306e\u8a2d\u5b9a\u306fapplication.yml\u306b\u66f8\u304d\u307e\u3059\u3002\n\n```lang:application.yml\nspring:\n  datasource:\n    url=jdbc:oracle:thin:@localhost:1521/orcl\n    driverClassName=oracle.jdbc.driver.OracleDriver\n    username: scott\n    password:tiger\n    maxActive: 15\n    maxIdle: 10\n    minIdle: 5\n    initialSize: 0\n```\n\n\u3068\u3053\u3053\u307e\u3067\u306f\u3059\u3050\u308f\u304b\u3063\u305f\u3093\u3067\u3059\u304c\u3001Config\u30af\u30e9\u30b9\u3067datasource\u3092\u751f\u6210\u3059\u308b\u969b\u306b`@ConfigurationProperties`\u3067\u8a2d\u5b9a\u3092\u62e1\u5f35\u3057\u306a\u3044\u3068\u6709\u52b9\u306b\u306a\u308a\u307e\u305b\u3093\uff01\n\n```lang:Config.java\n@ConfigurationProperties(prefix = \"spring.datasource\")\n@Bean\npublic DataSource dataSource() {\n    DataSourceBuilder factory = DataSourceBuilder\n            .create(this.properties.getClassLoader())\n            .driverClassName(this.properties.getDriverClassName())\n            .url(this.properties.getUrl())\n            .username(this.properties.getUsername())\n            .password(this.properties.getPassword());\n    return factory.build();\n}\n```\n\n\u3053\u308c\u3060\u3051\u3060\u3068\u300cConfigurationProperties\u52dd\u624b\u306b\u4f7f\u3046\u3093\u3058\u3083\u306d\u3048\uff01\u300d\u3063\u3066\u8b66\u544a\u304c\u51fa\u308b\u306e\u3067pom.xml\u306b\u3082\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3066\u3084\u308a\u307e\u3059\u3002\n\n```lang:pom.xml\n<dependency>\n\t<groupId>org.springframework.boot</groupId>\n\t<artifactId>spring-boot-configuration-processor</artifactId>\n\t<optional>true</optional>\n</dependency>\n```\n\n\u3053\u3061\u3089\u3067\u8a73\u3057\u304f\u8aac\u660e\u3057\u3066\u304f\u3060\u3055\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n[stackoverflow - Spring-Boot: How do I set JDBC pool properties like maximum number of connections?](http://stackoverflow.com/questions/25573034/spring-boot-how-do-i-set-jdbc-pool-properties-like-maximum-number-of-connection)\n\u304c\u3001`DataSourceAutoConfiguration.CONFIGURATION_PREFIX`\u306e\u66f8\u304d\u65b9\u306f\u4eca\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u306e\u304b\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\nConfigurationProperties\u306e\u66f8\u304d\u65b9\u306f\u3053\u3061\u3089\u3082\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n[rororo1989\u306e\u30d6\u30ed\u30b0 - Spring Boot\u305d\u306e\uff16 db\u5468\u308a\u306d\uff01](http://hkanai.hatenablog.com/entry/2015/07/18/031600)\nprefix\u3063\u3066\u305d\u3046\u3044\u3046\u3053\u3068\u306a\u306e\u306d\u3002\n\n# 2016/10/29\u8ffd\u8a18 SpringBoot1.4\u306e\u5834\u5408\napplication.yml\u306b\u66f8\u304f\u3060\u3051\u3067\u3061\u3083\u3093\u3068\u52d5\u304d\u307e\u3057\u305f\u3002\n\n```lang:application.yml\nspring:\n  datasource:\n    driverClassName: oracle.jdbc.driver.OracleDriver\n    url: jdbc:oracle:thin:@localhost:1521/orcl\n    username: scott\n    password: tiger\n    sqlScriptEncoding: UTF-8\n#pooling setting\nspring.datasource.tomcat:\n    maxActive: 15\n    maxIdle: 10\n    minIdle: 5\n    initialSize: 2\n```\n\nTomcat\u3058\u3083\u306a\u3044\u4eba\u306f\u5225\u9014\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#datasource-binding\n"}