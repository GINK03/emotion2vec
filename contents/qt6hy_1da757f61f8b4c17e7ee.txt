{"context": "\n\nffmpeg + Intel QSV\nffmpeg \u3067\u306f\u3001\u30d3\u30c7\u30aa\u30b3\u30fc\u30c7\u30c3\u30af\u306b h264_qsv \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067 QSV \u304c\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\nffmpeg -i INPUT -c:v h264_qsv -b:v 2000k -r 30 -s 1280x720 qsv.mp4\n\n\n\n\u3067\u3082\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\n\u304a\u305d\u3089\u304f\u53e4\u3081\u306ePC\u306a\u3069\u74b0\u5883\u8981\u56e0\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\"Selected ratecontrol mode is not supported by the QSV runtime. ....\"\n\n\n\u30a8\u30e9\u30fc\u306e\u56de\u907f\u65b9\u6cd5\n\u524d\u8ff0\u306e\u30a8\u30e9\u30fc\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u3001-look_ahead 0 \u3092\u4ed8\u3051\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\nffmpeg -i INPUT -c:v h264_qsv -b:v 2000k -r 30 -s 1280x720 -look_ahead 0 qsv.mp4\n\n\n\n\u5909\u63db\u901f\u5ea6\n\u4e0a\u8ff0\u306e\u8a2d\u5b9a\u3067\u3001Ivy Bridge \u306e\u30ce\u30fc\u30c8PC\u3067\u3001H.264 -> H.264 \u3067\u518d\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u305f\u3068\u3053\u308d\u3001\u5909\u63db\u901f\u5ea6\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u3061\u306a\u307f\u306b\u30bd\u30fc\u30b9\u89e3\u50cf\u5ea6\u306f\u30d5\u30ebHD\u30012\u520615\u79d2\u306e\u97f3\u58f0\u4ed8\u52d5\u753b\u3067\u3059\u3002\n\n\n\n\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\n\u5909\u63db\u901f\u5ea6\n\n\n\n\nlibx264\nx1.17\n\n\nh264_qsv\nx4.04\n\n\n\n\n\u53c2\u8003\u30ea\u30f3\u30af\nIntel QSV Codecs\n\n# ffmpeg + Intel QSV\n\nffmpeg \u3067\u306f\u3001\u30d3\u30c7\u30aa\u30b3\u30fc\u30c7\u30c3\u30af\u306b h264_qsv \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067 QSV \u304c\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```bash\nffmpeg -i INPUT -c:v h264_qsv -b:v 2000k -r 30 -s 1280x720 qsv.mp4\n\n```\n\n# \u3067\u3082\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\n\n\u304a\u305d\u3089\u304f\u53e4\u3081\u306ePC\u306a\u3069\u74b0\u5883\u8981\u56e0\u304b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n\"Selected ratecontrol mode is not supported by the QSV runtime. ....\"\n\n![h264_qsv_error.png](https://qiita-image-store.s3.amazonaws.com/0/30578/7487a4d3-8c3c-9c6f-d4f1-c4f5a6aec8d6.png)\n\n# \u30a8\u30e9\u30fc\u306e\u56de\u907f\u65b9\u6cd5\n\n\u524d\u8ff0\u306e\u30a8\u30e9\u30fc\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u3001-look_ahead 0 \u3092\u4ed8\u3051\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```bash\nffmpeg -i INPUT -c:v h264_qsv -b:v 2000k -r 30 -s 1280x720 -look_ahead 0 qsv.mp4\n\n```\n\n# \u5909\u63db\u901f\u5ea6\n\n\u4e0a\u8ff0\u306e\u8a2d\u5b9a\u3067\u3001Ivy Bridge \u306e\u30ce\u30fc\u30c8PC\u3067\u3001H.264 -> H.264 \u3067\u518d\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u305f\u3068\u3053\u308d\u3001\u5909\u63db\u901f\u5ea6\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u3061\u306a\u307f\u306b\u30bd\u30fc\u30b9\u89e3\u50cf\u5ea6\u306f\u30d5\u30ebHD\u30012\u520615\u79d2\u306e\u97f3\u58f0\u4ed8\u52d5\u753b\u3067\u3059\u3002\n\n|  \u30a8\u30f3\u30b3\u30fc\u30c0\u30fc |\u5909\u63db\u901f\u5ea6   |\n|:-:|:-:|\n| libx264  |  x1.17 | \n| h264_qsv  | x4.04  |\n\n\n# \u53c2\u8003\u30ea\u30f3\u30af\n\n[Intel QSV Codecs](https://ffmpeg.zeranoe.com/forum/viewtopic.php?t=2562&start=20#p9389)\n", "tags": ["ffmpeg"]}