{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n\u3053\u306e\u8a18\u4e8b\u3067\u306fNode.js\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u3067\u3042\u308bwebpack\u3092\u4f7f\u7528\u3057\u3066\u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u5168\u4f53\u306e\u6d41\u308c\n\u5168\u4f53\u306e\u6d41\u308c\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u4f5c\u6210\npackage.json\u306e\u4f5c\u6210 | npm init\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb | npm install\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u307e\u305a\u306fwebpack\u3092\u52d5\u304b\u3059\nHTML5 Boilerplate\u3067\u4eee\u7d44\u307f\u3059\u308b\nJade\u3067\u69cb\u9020\u3092\u8a18\u8ff0\u3059\u308b\nLess\u3067\u5916\u89b3\u3092\u8a18\u8ff0\u3059\u308b\nJavaScript\u3067\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\nGulp\u3067\u30d3\u30eb\u30c9\u624b\u9806\u3092\u8a18\u8ff0\u3059\u308b\nConnect\u3067\u6210\u679c\u7269\u3092\u78ba\u8a8d\u3059\u308b\n\n\n\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u4f5c\u6210\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u3057\u793a\u3057\u307e\u3059\u3002\nmkdir -p ~/workspace/js/practice/static-site-generator\ncd ~/workspace/js/practice/static-site-generator\n\n\npackage.json\u306e\u4f5c\u6210 | npm init\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\nnpm init -f\n\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb | npm install\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\nnpm install --save-dev connect css-loader gulp gulp-jade jade jade-loader less-loader rimraf serve-static style-loader webpack webpack-dev-server\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\nmkdir bin\nmkdir public\nmkdir src\nmkdir src/style\nmkdir src/templates\nmkdir src/templates/about\nmkdir src/templates/layouts\ntouch bin/www\ntouch src/style/main.less\ntouch src/style/sub.less\ntouch src/templates/about/index.jade\ntouch src/templates/layouts/default.jade\ntouch src/templates/index.jade\ntouch src/entry-dev.js\ntouch src/entry.js\ntouch gulpfile.js\ntouch webpack.config.js\n\n\n\u307e\u305a\u306fwebpack\u3092\u52d5\u304b\u3059\n\nwebpack.config.js\u306e\u7de8\u96c6\nwebpack.config.js\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\nwebpack.config.js\n'use strict';\n\nvar path = require('path')\n\nmodule.exports = {\n  entry: './src/entry-dev.js',\n  output: {\n    path: path.join(__dirname, 'dist'),\n    filename: 'js/bundle.js',\n  },\n  module: {\n    loaders: [\n      { test: /\\.jade$/, loader: 'jade' },\n      { test: /\\.less$/, loader: 'style!css!less' },\n    ],\n  },\n}\n\n\n\npackage.json\u306e\u7de8\u96c6\npackage.json\u3092\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\npackage.json\n{\n  \"name\": \"static-site-generator\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"start\": \"node_modules/.bin/webpack-dev-server --inline --history-api-fallback --content-base public --port 8080\",\n    \"build\": \"node_modules/.bin/gulp build\",\n    \"serve\": \"node bin/www\",\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"connect\": \"^3.4.0\",\n    \"css-loader\": \"^0.23.1\",\n    \"gulp\": \"^3.9.0\",\n    \"gulp-jade\": \"^1.1.0\",\n    \"gulp-less\": \"^3.0.5\",\n    \"jade\": \"^1.11.0\",\n    \"jade-loader\": \"^0.8.0\",\n    \"less-loader\": \"^2.2.2\",\n    \"rimraf\": \"^2.4.5\",\n    \"serve-static\": \"^1.10.0\",\n    \"style-loader\": \"^0.13.0\",\n    \"webpack\": \"^1.12.9\",\n    \"webpack-dev-server\": \"^1.14.0\"\n  }\n}\n\n\n\nwebpack-dev-server\u306e\u8d77\u52d5\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\nnpm start\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:8080/ \u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\u73fe\u5728\u306fpublic\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f55\u3082\u306a\u3044\u306e\u3067404 Not Found\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\nHTML5 Boilerplate\u3067\u4eee\u7d44\u307f\u3059\u308b\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\nhttp://www.initializr.com/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n1 - Pre Configuration\u3067Bootstrap\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\n2 - Fine Configuration\u3067\u4e0b\u8a18\u3092\u9078\u3073\u307e\u3059\n\n\nHTML/CSS Template: Twitter Bootstrap\nHTML5 Polyfils: Modernizr (Respond\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3057\u307e\u3059)\njQuery: Minified\nH5BP Optional: \u3059\u3079\u3066\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3057\u307e\u3059\u3002\n\n\nDownload it! \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\nZIP\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u958b\u59cb\u3057\u307e\u3059\n\n\n\u5c55\u958b\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fZIP\u3092public\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:8080/ \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068Bootstrap\u306e\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\nJade\u3067\u69cb\u9020\u3092\u8a18\u8ff0\u3059\u308b\n\nindex.html\u306e\u7de8\u96c6\npublic/index.html\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\npublic/index.html\n<!doctype html>\n<html class=\"no-js\" lang=\"\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n    <title></title>\n    <meta name=\"description\" content=\"\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n    <link rel=\"stylesheet\" href=\"/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"/css/bootstrap-theme.min.css\">\n    <link rel=\"stylesheet\" href=\"/css/main.css\">\n\n    <!-- separator -->\n\n    <script src=\"/js/vendor/modernizr-2.8.3.min.js\"></script>\n  </head>\n  <body>\n\n    <!-- separator -->\n\n    <main></main>\n\n    <script src=\"/js/vendor/jquery-1.11.2.min.js\"></script>\n    <script src=\"/js/vendor/bootstrap.min.js\"></script>\n    <script src=\"/js/bundle.js\"></script>\n\n    <!-- separator -->\n\n  </body>\n</html>\n\n\n\nentry-dev.js\u306e\u7de8\u96c6\nentry-dev.js\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\nsrc/entry-dev.js\n'use strict';\n\nrequire('./entry')\nrequire('./style/main.less')\n\nvar context = require.context('./templates/', true, /\\.jade$/)\n\nvar path = './' + window.location.pathname.slice(1) + 'index.jade'\nvar template = context(path)\n\nvar context = {\n  baseUrl: '',\n  parts: [],\n}\n\n$('main').html(template(context))\n\n\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u7de8\u96c6\nsrc/templates/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306eabout/index.jade\u3001layouts/default.jade\u3001index.jade\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\nsrc/templates/about/index.jade\nextends ../layouts/default\n\nblock content\n  .container\n    p This is about page.\n\n    .row\n      .col-md-offset-3.col-md-6\n        a.btn.btn-default.btn-block(href='../') Back\n\n\n\nsrc/templates/layouts/default.jade\n!= parts[0]\n\nblock style\n\n!= parts[1]\n\nnav.navbar.navbar-default.navbar-static-top\n  .container\n    .navbar-header\n      a.navbar-brand(href='#') Project name\n\nblock content\n\n.container\n  hr\n  footer\n    p &copy; Company 2015\n\n!= parts[2]\n\nblock script\n\n!= parts[3]\n\n\n\nsrc/templates/index.jade\nextends ./layouts/default\n\nblock content\n  .jumbotron\n    .container\n      h1 Hello, world!\n      p\n        | This is a template for a simple marketing or informational website. It includes a large callout called a jumbotron and three supporting pieces of content. Use it as a starting point to create something more unique.\n      p\n        a.btn.btn-primary.btn-lg(href='#{baseUrl}/about/', role='button') Learn more \u00bb\n  .container\n    .row\n      .col-md-4\n        h2 Heading\n        p\n          | Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui.\n        p\n          a.btn.btn-default(href='#', role='button') View details \u00bb\n      .col-md-4\n        h2 Heading\n        p\n          | Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui.\n        p\n          a.btn.btn-default(href='#', role='button') View details \u00bb\n      .col-md-4\n        h2 Heading\n        p\n          | Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.\n        p\n          a.btn.btn-default(href='#', role='button') View details \u00bb\n\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:8080/ \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068Index\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u30b8\u30e3\u30f3\u30dc\u30c8\u30ed\u30f3\u5185\u306eLearn More\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068About\u30da\u30fc\u30b8\u3078\u79fb\u52d5\u3057\u307e\u3059\u3002About\u30da\u30fc\u30b8\u306eBack\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068Index\u30da\u30fc\u30b8\u3078\u79fb\u52d5\u3057\u307e\u3059\u3002\n\nLess\u3067\u5916\u89b3\u3092\u8a18\u8ff0\u3059\u308b\n\nmain.less\u306e\u7de8\u96c6\nmain.less\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\nsrc/style/main.less\n@import \"./sub.less\";\n\n\n\nsub.less\u306e\u7de8\u96c6\nsub.less\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\nsrc/style/sub.less\nbody {\n  background: gray;\n}\n\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:8080/ \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u7070\u8272\u80cc\u666f\u306eIndex\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\nJavaScript\u3067\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\nJavaScript\u3067\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\u65b9\u6cd5\u306f2\u3064\u3042\u308a\u307e\u3059\u3002\n\n\nentry.js\u306b\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\nJade\u30d5\u30a1\u30a4\u30eb\u306escript\u30d6\u30ed\u30c3\u30af\u306b\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\n\n\u500b\u4eba\u7684\u306b\u306fentry.js\u306b\u95a2\u6570\u3084\u30af\u30e9\u30b9\u3092\u8a18\u8ff0\u3057\u3066Jade\u30d5\u30a1\u30a4\u30eb\u306escript\u30d6\u30ed\u30c3\u30af\u304b\u3089\u305d\u308c\u3089\u3092\u547c\u3073\u51fa\u3059\u66f8\u304d\u65b9\u304c\u597d\u307f\u3067\u3059\u3002\n\nsrc/entry.js\n'use strict';\n\nwindow.printHelloWorld = function () {\n  console.log('Hello, world!')\n}\n\n\n\nsrc/templates/about/index.jade\n'use strict';\n\nextends ../layouts/default\n\nblock content\n  .container\n    p This is about page.\n\n    .row\n      .col-md-offset-3.col-md-6\n        a.btn.btn-default.btn-block(href='../') Back\n\nblock script\n  script.\n    (function () {\n      'use strict';\n\n      printHelloWorld()\n    })();\n\n\n\nGulp\u3067\u30d3\u30eb\u30c9\u624b\u9806\u3092\u8a18\u8ff0\u3059\u308b\n\ngulpfile.js\u306e\u7de8\u96c6\ngulpfile.js\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\ngulpfile.js\n'use strict';\n\nvar fs = require('fs')\nvar path = require('path')\nvar gulp = require('gulp')\nvar rimraf  = require('rimraf')\nvar webpack = require('webpack')\nvar gulpJade = require('gulp-jade')\nvar gulpLess = require('gulp-less')\nvar webpackConfig = require('./webpack.config')\n\ngulp.task('clean', function (cb) {\n  rimraf('./dist/', cb)\n})\n\ngulp.task('copy', ['clean'], function () {\n  return gulp.src([\n    './public/**',\n    '!./public/index.html',\n    '!./public/css/main.css',\n  ])\n    .pipe(gulp.dest('./dist/'))\n})\n\ngulp.task('jade', ['clean'], function () {\n  var root = fs.readFileSync(path.join(__dirname, './public/index.html')).toString()\n  var parts = root.replace('<main></main>', '').split('<!-- separator -->')\n\n  return gulp.src([\n    './src/templates/**/*.jade',\n    '!./src/templates/layouts/**/*.jade',\n  ])\n    .pipe(gulpJade({\n      locals: {\n        baseUrl: '',\n        parts: parts,\n      },\n    }))\n    .pipe(gulp.dest('./dist/'))\n})\n\ngulp.task('less', ['clean'], function () {\n  return gulp.src('./src/style/main.less')\n    .pipe(gulpLess())\n    .pipe(gulp.dest('./dist/css/'))\n})\n\ngulp.task('webpack', ['clean'], function (cb) {\n  webpackConfig.entry = './src/entry.js',\n  webpackConfig.plugins = (webpackConfig.plugins || []).concat([\n    new webpack.optimize.UglifyJsPlugin(),\n  ])\n\n  webpack(webpackConfig, cb)\n})\n\ngulp.task('build', [\n  'clean',\n  'copy',\n  'jade',\n  'less',\n  'webpack',\n])\n\ngulp.task('default', ['build'])\n\n\n\n\u30d3\u30eb\u30c9\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\nnpm run build\n\n\u30d3\u30eb\u30c9\u304c\u6210\u529f\u3059\u308b\u3068dist/\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\nConnect\u3067\u6210\u679c\u7269\u3092\u78ba\u8a8d\u3059\u308b\n\nbin/www\u306e\u7de8\u96c6\nbin/www\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\nbin/www\n#!/usr/bin/env node\n\n'use strict';\n\nvar port = Number.parseInt(process.env.PORT || '3000', 10)\n\nvar http = require('http')\nvar path = require('path')\nvar connect = require('connect')\nvar serveStatic = require('serve-static')\n\nvar app = connect()\napp.use(serveStatic(path.join(__dirname, '../dist')))\n\nvar server = http.createServer(app)\nserver.listen(port)\n\nserver.on('listening', function () {\n  console.log('Listening on ' + port)\n})\n\n\n\n\u30b5\u30fc\u30d0\u8d77\u52d5\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\nnpm run serve\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:3000/ \u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002http://127.0.0.1:8080/ \u3068\u540c\u3058\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n\n\u304a\u308f\u308a\u306b\nwebpack\u306e\u8c4a\u5bcc\u306a\u30ed\u30fc\u30c0\u30fc\u3092\u4f7f\u7528\u3059\u308c\u3070\u3001Less\u306e\u4ee3\u308f\u308a\u306bSass/Scss\u3067\u5916\u89b3\u3092\u8a18\u8ff0\u3057\u305f\u308a\u3001JavaScript\u306e\u4ee3\u308f\u308a\u306bCoffeeScript\u3067\u5916\u89b3\u3092\u8a18\u8ff0\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u6bd4\u8f03\u7684\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\u3054\u81ea\u8eab\u306e\u72b6\u6cc1\u306b\u5408\u308f\u305b\u3066\u305c\u3072\u3068\u3082\u8272\u3005\u3068\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u5f79\u7acb\u3066\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\u6b21\u56de\u306fElectron.js\u3092\u4f7f\u7528\u3057\u3066Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\n# \u306f\u3058\u3081\u306b\n\u3053\u306e\u8a18\u4e8b\u3067\u306fNode.js\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u30d0\u30f3\u30c9\u30e9\u3067\u3042\u308bwebpack\u3092\u4f7f\u7528\u3057\u3066\u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u69cb\u7bc9\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n# \u5168\u4f53\u306e\u6d41\u308c\n\u5168\u4f53\u306e\u6d41\u308c\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n- \u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u4f5c\u6210\n- package.json\u306e\u4f5c\u6210 | npm init\n- \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb | npm install\n- \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n- \u307e\u305a\u306fwebpack\u3092\u52d5\u304b\u3059\n- HTML5 Boilerplate\u3067\u4eee\u7d44\u307f\u3059\u308b\n- Jade\u3067\u69cb\u9020\u3092\u8a18\u8ff0\u3059\u308b\n- Less\u3067\u5916\u89b3\u3092\u8a18\u8ff0\u3059\u308b\n- JavaScript\u3067\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\n- Gulp\u3067\u30d3\u30eb\u30c9\u624b\u9806\u3092\u8a18\u8ff0\u3059\u308b\n- Connect\u3067\u6210\u679c\u7269\u3092\u78ba\u8a8d\u3059\u308b\n\n# \u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u306e\u4f5c\u6210\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u3057\u793a\u3057\u307e\u3059\u3002\n\n```\nmkdir -p ~/workspace/js/practice/static-site-generator\ncd ~/workspace/js/practice/static-site-generator\n```\n\n# package.json\u306e\u4f5c\u6210 | npm init\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```\nnpm init -f\n```\n\n# \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb | npm install\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```\nnpm install --save-dev connect css-loader gulp gulp-jade jade jade-loader less-loader rimraf serve-static style-loader webpack webpack-dev-server\n```\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```\nmkdir bin\nmkdir public\nmkdir src\nmkdir src/style\nmkdir src/templates\nmkdir src/templates/about\nmkdir src/templates/layouts\ntouch bin/www\ntouch src/style/main.less\ntouch src/style/sub.less\ntouch src/templates/about/index.jade\ntouch src/templates/layouts/default.jade\ntouch src/templates/index.jade\ntouch src/entry-dev.js\ntouch src/entry.js\ntouch gulpfile.js\ntouch webpack.config.js\n```\n\n# \u307e\u305a\u306fwebpack\u3092\u52d5\u304b\u3059\n\n## webpack.config.js\u306e\u7de8\u96c6\n`webpack.config.js`\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```js:webpack.config.js\n'use strict';\n\nvar path = require('path')\n\nmodule.exports = {\n  entry: './src/entry-dev.js',\n  output: {\n    path: path.join(__dirname, 'dist'),\n    filename: 'js/bundle.js',\n  },\n  module: {\n    loaders: [\n      { test: /\\.jade$/, loader: 'jade' },\n      { test: /\\.less$/, loader: 'style!css!less' },\n    ],\n  },\n}\n```\n\n## package.json\u306e\u7de8\u96c6\n`package.json`\u3092\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```json:package.json\n{\n  \"name\": \"static-site-generator\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"start\": \"node_modules/.bin/webpack-dev-server --inline --history-api-fallback --content-base public --port 8080\",\n    \"build\": \"node_modules/.bin/gulp build\",\n    \"serve\": \"node bin/www\",\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"devDependencies\": {\n    \"connect\": \"^3.4.0\",\n    \"css-loader\": \"^0.23.1\",\n    \"gulp\": \"^3.9.0\",\n    \"gulp-jade\": \"^1.1.0\",\n    \"gulp-less\": \"^3.0.5\",\n    \"jade\": \"^1.11.0\",\n    \"jade-loader\": \"^0.8.0\",\n    \"less-loader\": \"^2.2.2\",\n    \"rimraf\": \"^2.4.5\",\n    \"serve-static\": \"^1.10.0\",\n    \"style-loader\": \"^0.13.0\",\n    \"webpack\": \"^1.12.9\",\n    \"webpack-dev-server\": \"^1.14.0\"\n  }\n}\n```\n\n## webpack-dev-server\u306e\u8d77\u52d5\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```\nnpm start\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:8080/ \u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\u73fe\u5728\u306f`public`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f55\u3082\u306a\u3044\u306e\u3067404 Not Found\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n# HTML5 Boilerplate\u3067\u4eee\u7d44\u307f\u3059\u308b\n\n## \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n1. http://www.initializr.com/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n2. 1 - Pre Configuration\u3067Bootstrap\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\n3. 2 - Fine Configuration\u3067\u4e0b\u8a18\u3092\u9078\u3073\u307e\u3059\n  - HTML/CSS Template: Twitter Bootstrap\n  - HTML5 Polyfils: Modernizr (Respond\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3057\u307e\u3059)\n  - jQuery: Minified\n  - H5BP Optional: \u3059\u3079\u3066\u306e\u30c1\u30a7\u30c3\u30af\u3092\u5916\u3057\u307e\u3059\u3002\n4. Download it! \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\n5. ZIP\u30d5\u30a1\u30a4\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304c\u958b\u59cb\u3057\u307e\u3059\n\n## \u5c55\u958b\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fZIP\u3092`public`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:8080/ \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068Bootstrap\u306e\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n# Jade\u3067\u69cb\u9020\u3092\u8a18\u8ff0\u3059\u308b\n\n## index.html\u306e\u7de8\u96c6\n`public/index.html`\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```html:public/index.html\n<!doctype html>\n<html class=\"no-js\" lang=\"\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n    <title></title>\n    <meta name=\"description\" content=\"\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n    <link rel=\"stylesheet\" href=\"/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\" href=\"/css/bootstrap-theme.min.css\">\n    <link rel=\"stylesheet\" href=\"/css/main.css\">\n\n    <!-- separator -->\n\n    <script src=\"/js/vendor/modernizr-2.8.3.min.js\"></script>\n  </head>\n  <body>\n\n    <!-- separator -->\n\n    <main></main>\n\n    <script src=\"/js/vendor/jquery-1.11.2.min.js\"></script>\n    <script src=\"/js/vendor/bootstrap.min.js\"></script>\n    <script src=\"/js/bundle.js\"></script>\n\n    <!-- separator -->\n\n  </body>\n</html>\n```\n\n## entry-dev.js\u306e\u7de8\u96c6\n`entry-dev.js`\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```js:src/entry-dev.js\n'use strict';\n\nrequire('./entry')\nrequire('./style/main.less')\n\nvar context = require.context('./templates/', true, /\\.jade$/)\n\nvar path = './' + window.location.pathname.slice(1) + 'index.jade'\nvar template = context(path)\n\nvar context = {\n  baseUrl: '',\n  parts: [],\n}\n\n$('main').html(template(context))\n```\n\n## \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u7de8\u96c6\n`src/templates/`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e`about/index.jade`\u3001`layouts/default.jade`\u3001`index.jade`\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```jade:src/templates/about/index.jade\nextends ../layouts/default\n\nblock content\n  .container\n    p This is about page.\n\n    .row\n      .col-md-offset-3.col-md-6\n        a.btn.btn-default.btn-block(href='../') Back\n```\n\n```jade:src/templates/layouts/default.jade\n!= parts[0]\n\nblock style\n\n!= parts[1]\n\nnav.navbar.navbar-default.navbar-static-top\n  .container\n    .navbar-header\n      a.navbar-brand(href='#') Project name\n\nblock content\n\n.container\n  hr\n  footer\n    p &copy; Company 2015\n\n!= parts[2]\n\nblock script\n\n!= parts[3]\n```\n\n```jade:src/templates/index.jade\nextends ./layouts/default\n\nblock content\n  .jumbotron\n    .container\n      h1 Hello, world!\n      p\n        | This is a template for a simple marketing or informational website. It includes a large callout called a jumbotron and three supporting pieces of content. Use it as a starting point to create something more unique.\n      p\n        a.btn.btn-primary.btn-lg(href='#{baseUrl}/about/', role='button') Learn more \u00bb\n  .container\n    .row\n      .col-md-4\n        h2 Heading\n        p\n          | Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui.\n        p\n          a.btn.btn-default(href='#', role='button') View details \u00bb\n      .col-md-4\n        h2 Heading\n        p\n          | Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui.\n        p\n          a.btn.btn-default(href='#', role='button') View details \u00bb\n      .col-md-4\n        h2 Heading\n        p\n          | Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.\n        p\n          a.btn.btn-default(href='#', role='button') View details \u00bb\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:8080/ \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068Index\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u30b8\u30e3\u30f3\u30dc\u30c8\u30ed\u30f3\u5185\u306eLearn More\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068About\u30da\u30fc\u30b8\u3078\u79fb\u52d5\u3057\u307e\u3059\u3002About\u30da\u30fc\u30b8\u306eBack\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068Index\u30da\u30fc\u30b8\u3078\u79fb\u52d5\u3057\u307e\u3059\u3002\n\n# Less\u3067\u5916\u89b3\u3092\u8a18\u8ff0\u3059\u308b\n\n## main.less\u306e\u7de8\u96c6\n`main.less`\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```less:src/style/main.less\n@import \"./sub.less\";\n```\n\n## sub.less\u306e\u7de8\u96c6\n`sub.less`\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```less:src/style/sub.less\nbody {\n  background: gray;\n}\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:8080/ \u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u7070\u8272\u80cc\u666f\u306eIndex\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n# JavaScript\u3067\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\nJavaScript\u3067\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\u65b9\u6cd5\u306f2\u3064\u3042\u308a\u307e\u3059\u3002\n\n- `entry.js`\u306b\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\n- Jade\u30d5\u30a1\u30a4\u30eb\u306escript\u30d6\u30ed\u30c3\u30af\u306b\u632f\u308b\u821e\u3044\u3092\u8a18\u8ff0\u3059\u308b\n\n\u500b\u4eba\u7684\u306b\u306f`entry.js`\u306b\u95a2\u6570\u3084\u30af\u30e9\u30b9\u3092\u8a18\u8ff0\u3057\u3066Jade\u30d5\u30a1\u30a4\u30eb\u306escript\u30d6\u30ed\u30c3\u30af\u304b\u3089\u305d\u308c\u3089\u3092\u547c\u3073\u51fa\u3059\u66f8\u304d\u65b9\u304c\u597d\u307f\u3067\u3059\u3002\n\n```js:src/entry.js\n'use strict';\n\nwindow.printHelloWorld = function () {\n  console.log('Hello, world!')\n}\n```\n\n```jade:src/templates/about/index.jade\n'use strict';\n\nextends ../layouts/default\n\nblock content\n  .container\n    p This is about page.\n\n    .row\n      .col-md-offset-3.col-md-6\n        a.btn.btn-default.btn-block(href='../') Back\n\nblock script\n  script.\n    (function () {\n      'use strict';\n\n      printHelloWorld()\n    })();\n```\n\n# Gulp\u3067\u30d3\u30eb\u30c9\u624b\u9806\u3092\u8a18\u8ff0\u3059\u308b\n\n## gulpfile.js\u306e\u7de8\u96c6\n`gulpfile.js`\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```js:gulpfile.js\n'use strict';\n\nvar fs = require('fs')\nvar path = require('path')\nvar gulp = require('gulp')\nvar rimraf  = require('rimraf')\nvar webpack = require('webpack')\nvar gulpJade = require('gulp-jade')\nvar gulpLess = require('gulp-less')\nvar webpackConfig = require('./webpack.config')\n\ngulp.task('clean', function (cb) {\n  rimraf('./dist/', cb)\n})\n\ngulp.task('copy', ['clean'], function () {\n  return gulp.src([\n    './public/**',\n    '!./public/index.html',\n    '!./public/css/main.css',\n  ])\n    .pipe(gulp.dest('./dist/'))\n})\n\ngulp.task('jade', ['clean'], function () {\n  var root = fs.readFileSync(path.join(__dirname, './public/index.html')).toString()\n  var parts = root.replace('<main></main>', '').split('<!-- separator -->')\n\n  return gulp.src([\n    './src/templates/**/*.jade',\n    '!./src/templates/layouts/**/*.jade',\n  ])\n    .pipe(gulpJade({\n      locals: {\n        baseUrl: '',\n        parts: parts,\n      },\n    }))\n    .pipe(gulp.dest('./dist/'))\n})\n\ngulp.task('less', ['clean'], function () {\n  return gulp.src('./src/style/main.less')\n    .pipe(gulpLess())\n    .pipe(gulp.dest('./dist/css/'))\n})\n\ngulp.task('webpack', ['clean'], function (cb) {\n  webpackConfig.entry = './src/entry.js',\n  webpackConfig.plugins = (webpackConfig.plugins || []).concat([\n    new webpack.optimize.UglifyJsPlugin(),\n  ])\n\n  webpack(webpackConfig, cb)\n})\n\ngulp.task('build', [\n  'clean',\n  'copy',\n  'jade',\n  'less',\n  'webpack',\n])\n\ngulp.task('default', ['build'])\n```\n\n## \u30d3\u30eb\u30c9\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```\nnpm run build\n```\n\n\u30d3\u30eb\u30c9\u304c\u6210\u529f\u3059\u308b\u3068`dist/`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n# Connect\u3067\u6210\u679c\u7269\u3092\u78ba\u8a8d\u3059\u308b\n\n## bin/www\u306e\u7de8\u96c6\n`bin/www`\u306e\u5185\u5bb9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```js:bin/www\n#!/usr/bin/env node\n\n'use strict';\n\nvar port = Number.parseInt(process.env.PORT || '3000', 10)\n\nvar http = require('http')\nvar path = require('path')\nvar connect = require('connect')\nvar serveStatic = require('serve-static')\n\nvar app = connect()\napp.use(serveStatic(path.join(__dirname, '../dist')))\n\nvar server = http.createServer(app)\nserver.listen(port)\n\nserver.on('listening', function () {\n  console.log('Listening on ' + port)\n})\n```\n\n## \u30b5\u30fc\u30d0\u8d77\u52d5\n\u30b3\u30de\u30f3\u30c9\u3092\u4e0b\u8a18\u306b\u793a\u3057\u307e\u3059\u3002\n\n```\nnpm run serve\n```\n\n## \u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3067 http://127.0.0.1:3000/ \u3078\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002http://127.0.0.1:8080/ \u3068\u540c\u3058\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u305f\u3089\u6210\u529f\u3067\u3059\u3002\n\n# \u304a\u308f\u308a\u306b\nwebpack\u306e\u8c4a\u5bcc\u306a\u30ed\u30fc\u30c0\u30fc\u3092\u4f7f\u7528\u3059\u308c\u3070\u3001Less\u306e\u4ee3\u308f\u308a\u306bSass/Scss\u3067\u5916\u89b3\u3092\u8a18\u8ff0\u3057\u305f\u308a\u3001JavaScript\u306e\u4ee3\u308f\u308a\u306bCoffeeScript\u3067\u5916\u89b3\u3092\u8a18\u8ff0\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u6bd4\u8f03\u7684\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\u3054\u81ea\u8eab\u306e\u72b6\u6cc1\u306b\u5408\u308f\u305b\u3066\u305c\u3072\u3068\u3082\u8272\u3005\u3068\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u5f79\u7acb\u3066\u3066\u3044\u305f\u3060\u3051\u308c\u3070\u5e78\u3044\u3067\u3059\u3002\n\n\u6b21\u56de\u306fElectron.js\u3092\u4f7f\u7528\u3057\u3066Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u3059\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\n", "tags": ["webpack"]}