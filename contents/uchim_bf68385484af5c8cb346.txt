{"context": "\n\n\u306f\u3058\u3081\u306b\n\u3000\u69d8\u3005\u306a\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u3092\u6df7\u5408\u3057\u3066\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u3092\u69cb\u7bc9\u3067\u304d\u305f\u3089\u3001\u8272\u3005\u306a\u767a\u898b\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u3059\u3002\n\n\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u306e\u4f8b\n\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30fb\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u30c7\u30fc\u30bf\u306e\u4f8b\n\u3000\u305f\u3068\u3048\u3070\u3001\u3068\u3042\u308b\u4f1a\u793e\u304c\u58f2\u308a\u4e0a\u3052\u306e\u6700\u9069\u5316\u3092\u76ee\u6a19\u3068\u3059\u308b\u4e2d\u3067\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u3057\u3066\u3044\u305f\u3089\u6b21\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n\n\u30c7\u30fc\u30bf\u306e\u540d\u79f0\n\u30c7\u30fc\u30bf\u306e\u7a2e\u985e\n\n\n\n\n\u30ea\u30f3\u30af\u306e\u30af\u30ea\u30c3\u30af\n\u5206\u985e\u7684(categorical)\n\n\n\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8\u306e\u6ede\u5728\u6642\u9593\n\u9023\u7d9a\u7684(continuous)\n\n\n\u5c65\u6b74\u306e\u30d6\u30e9\u30a6\u30b8\u30f3\u30b0\n\u5206\u985e\u7684(categorical)\n\n\n\u30bd\u30fc\u30b7\u30e3\u30eb\u30e1\u30c7\u30a3\u30a2\u306e\u30dd\u30b9\u30c8\n\u4ef6\u6570(count)\n\n\n\u30bd\u30fc\u30b7\u30e3\u30eb\u30cd\u30c3\u30c8\u306e\u53cb\u4eba\u6570\n\u4ef6\u6570(count)\n\n\n\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u30b5\u30fc\u30d3\u30b9\u306e\u6d88\u8cbb\n\u5206\u985e\u7684(categorical)\n\n\n\n\n\u4eba\u306e\u884c\u52d5\u7279\u6027\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f8b\n\u3000\u305f\u3068\u3048\u3070\u3001\u4eba\u306e\u884c\u52d5\u7279\u6027\u9593\u306e\u76f8\u95a2\u306b\u8208\u5473\u3092\u5411\u3051\u308b\u4e2d\u3067\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u3057\u3066\u3044\u305f\u3089\u6b21\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n\n\u30c7\u30fc\u30bf\u306e\u540d\u79f0\n\u30c7\u30fc\u30bf\u306e\u7a2e\u985e\n\n\n\n\n\u30b8\u30a7\u30f3\u30c0\u30fc\n\u5206\u985e\u7684(categorical)\n\n\n\u5e74\u9f62\n\u9023\u7d9a\u7684(continuous)\n\n\n\u632f\u308b\u821e\u3044\u306e\u983b\u7e41\u3055\n\u4ef6\u6570(count)\n\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u767a\u751f\n\u5206\u985e\u7684(categorical)\n\n\n\u85ac\u5264\u306e\u6295\u4e0e\u91cf\n\u9023\u7d9a\u7684(continuous)\n\n\n\n\u3000R\u74b0\u5883\u3067\u306f\u3001\u3053\u308c\u3089\u306e\u69d8\u3005\u306a\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u306e\u76f8\u95a2\u3092 \"mgm\" \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308a\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e Tips \u3067\u306f\u3001\"mgm\" \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u305f\u5206\u6790\u4f8b\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002  \u5229\u7528\u3057\u305f\u30c7\u30fc\u30bf\u306f\u3001\u7dcf\u52d9\u7701\u7d71\u8a08\u5c40\u306e\u5bb6\u8a08\u8abf\u67fb\uff08\u5bb6\u8a08\u53ce\u652f\u7de8\uff09\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\uff08\u4e8c\u4eba\u4ee5\u4e0a\u306e\u4e16\u5e2f\uff09\u3092 csv \u5f62\u5f0f\u306b\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\n\u30c7\u30fc\u30bf\u3092\u6e96\u5099\u3059\u308b\n\u5bb6\u8a08\u8abf\u67fb\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u300cn1602000.csv\u300d\u3067\u4fdd\u5b58\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067 csv \u5f62\u5f0f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\u25bc\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n\nR\n# \u74b0\u5883\u60c5\u5831\n# R version 3.2.5 (2016-04-14) - Very, Very Secure Dishes\n# \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6307\u5b9a\nsetwd( \"working_dir\" )\n\n# \u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\ndata <- read.csv('n1602000.csv', header=T)  \n\n#\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u306e\u6307\u5b9a\n#\"g\" Gaussian(\u6b63\u898f\u5206\u5e03), \"p\" Poisson(\u4ef6\u6570), \"c\" Categorical(\u5206\u985e))\ntype <- c(\"c\",\"p\",\"p\",\"g\",\"g\",\"g\",\"g\",\"g\",\"c\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\n          \"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\n          \"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\n          \"g\")\n#number of categories for each varibale (categorical\u4ee5\u5916\u306f1\u306b\u306a\u308b)\nlev <- c(16,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n         1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)\n\n# \u30ab\u30e9\u30e0\u306e\u540d\u524d\ndata_colnames <- c(\"Year\",\"Num. of persons per household (persons)\",\n                   \"Num. of earners per household (persons)\",\n                   \"Age of household heads(years old)\",\"Household heads\",\n                   \"Spouse of household heads\",\"Other household members\",\n                   \"Yearly income\",\"Class of yearly income\",\n                   \"Disposable income\",\"Rice\",\"Bread\",\"Noodles\",\n                   \"Other cereals\",\"Raw fish & shellfish\",\n                   \"Salted & dried fish\",\"Fish-paste products\",\n                   \"Other processed fish\",\"Raw meat\",\"Processed meat\",\n                   \"Fresh milk\",\"Dairy products\",\"Eggs\",\"Fresh vegetables\",\n                   \"Dried vegetables & seaweeds\",\"Soybean products\",\n                   \"Other processed vegetables & seaweeds\",\"Fresh fruits\",\n                   \"Processed fruits\",\"Oil & fats\",\"Seasonings\",\n                   \"Cakes & candies\",\"Tea\",\"Coffee & cocoa\",\n                   \"Alcoholic beverages\",\"Eating out\",\"Housing\",\n                   \"Fuel light & water charges\",\"Men's clothing\",\n                   \"Women's clothing\",\"Children's clothing\",\"Medical care\",\n                   \"Public transpor-tation\",\"Private transpor-tation\",\n                   \"Communi-cation\",\"Culture & recreation\",\"Tobacco\",\n                   \"Pocket money (of which detailed uses unknown)\",\n                   \"Social expenses\",\n                   \"Ratio of surplus to disposable income (%)\",\n                   \"average savings rate(%)\",\"Engel's coefficient (%)\")\n\n\n\n\u6df7\u5408\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u3092\u69cb\u7bc9\u3059\u308b\n\u3000\u6df7\u5408\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u306f\u3001mgmfit \u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3067\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\u25bc\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n\nR\n# \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# \u3053\u306e Tips \u3067\u306f\u3001mgm \u30d1\u30c3\u30b1\u30fc\u30b8\u306f1.1-6 \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\ninstall.packages(\"devtools\")\ninstall_github('jmbh/mgm')\n\n# \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\nlibrary(devtools)\nlibrary(mgm)\n\n# \u6df7\u5408\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u306e\u69cb\u7bc9\nfit <- mgmfit( data, type, lev, d = 4 )\n\n\n\n\u3053\u306e\u30e2\u30c7\u30eb\u3067\u69cb\u7bc9\u3055\u308c\u305f\u5909\u6570\u306e\u4e00\u90e8\u306f\u3001\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\n\n\n\u5909\u6570\u540d\n\u8aac\u660e\n\n\n\n\nfit$signs\n\u5909\u6570\u9593\u306e\u76f8\u95a2\n\n\nfit$wadj\n\u91cd\u307f\u4ed8\u3051\u96a3\u63a5\u884c\u5217\n\n\nfit$adj\n\u91cd\u307f\u7121\u3057\u96a3\u63a5\u884c\u5217\n\n\nfit$edgecolor\n\u30dd\u30b8\u30c6\u30a3\u30d6(\u7dd1\u8272)\u3001\u30cd\u30ac\u30c6\u30a3\u30d6(\u8d64)\u3001\u672a\u5b9a\u7fa9(\u7070\u8272)\n\n\n\n\n\u6df7\u5408\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u3092\u53ef\u8996\u5316\u3059\u308b\n\u25bc\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n\nR\n# \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# \u3053\u306e Tips \u3067\u306f\u3001mgm \u30d1\u30c3\u30b1\u30fc\u30b8\u306f1.3.3 \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\ninstall_github('SachaEpskamp/qgraph')\n\n# \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\nlibrary(qgraph)\n\n# \u5909\u6570\u306e\u5b9a\u7fa9\ngroups_typeV <- list(\"\u6b63\u898f\u5206\u5e03\u3059\u308b\u5909\u6570\"=which(type=='g'), \n                     \"\u30ab\u30a6\u30f3\u30c8\u3059\u308b\u5909\u6570\"=which(type=='p'),\n                     \"\u5206\u985e\u306b\u95a2\u3059\u308b\u5909\u6570\"=which(type=='c'))\ngroup_col <- c(\"#72CF53\", \"#53B0CF\", \"#ED3939\")\n\n# \u30b0\u30e9\u30d5\u306e JPEG \u3078\u306e\u4fdd\u5b58\njpeg(\"\u5bb6\u8a08\u8abf\u67fb.jpg\", height=2*1300, width=2*1300, unit='px')\nQ0 <- qgraph(fit$wadj, \n       vsize=3.5, \n       esize=2, \n       layout=\"spring\", \n        edge.color = fit$edgecolor, \n       color=group_col,\n       border.width=1.5,\n       border.color=\"black\",\n       groups=groups_typeV,\n       nodeNames=data_colnames,\n       legend=TRUE, \n       legend.mode=\"style2\",\n       legend.cex=1.5)\ndev.off()\n\n\n\n\u5b9f\u884c\u7d50\u679c\u4f8b\n\n\u53ce\u5165(No.9)\u304c\u591a\u3044\u4eba\u306f\u3001\u5bb6\u65cf\u30e1\u30f3\u30d0(No.7)\u304c\u591a\u3044\u50be\u5411\u306b\u3042\u308a\u307e\u3059\u3002(\u5bb6\u65cf\u304c\u591a\u3044\u3068\u3001\u9811\u5f35\u3063\u3066\u50cd\u304f\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u304b\u306d\uff1f)\u9762\u767d\u3044\u306e\u306f\u3001\u4f7f\u9014\u4e0d\u660e\u91d1(No.48)\u307e\u308f\u308a\u3067\u3059\u3002\u4f7f\u9014\u4e0d\u660e\u91d1(No.48)\u304c\u591a\u3044\u4eba\u306f\u3001\u5f53\u7136\u306a\u304c\u3089\u30a8\u30f3\u30b2\u30eb\u4fc2\u6570(no.52)\u304c\u9ad8\u3044\u3053\u3068\u3068\u76f8\u95a2\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u4f7f\u9014\u4e0d\u660e\u91d1(No.48)\u304c\u591a\u3044\u4eba\u306f\u3001\u5bb6\u65cf\u30e1\u30f3\u30d0(No.7)\u304c\u591a\u304f\u3001\u305d\u308c\u306f\u5b50\u4f9b\u670d(No.41)\u3068\u76f8\u95a2\u304c\u3042\u308b\u3053\u3068\u3082\u5206\u304b\u308a\u307e\u3059\u3002(\u610f\u5916\u3068\u5b50\u7169\u60a9\u306a\u65e5\u672c\u4eba\u50cf\u304c\u6d6e\u304b\u3073\u4e0a\u304c\u308a\u307e\u3059\u306d)\n\n\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\nmgm \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30de\u30cb\u30e5\u30a2\u30eb\nJonas Haslbeck \u306e Blog\nJonas M. B. Haslbeck, Lourens J. Waldorp \u306e\u8ad6\u6587\n\u7dcf\u52d9\u7701\u7d71\u8a08\u5c40 \u5bb6\u8a08\u8abf\u67fb\uff08\u5bb6\u8a08\u53ce\u652f\u7de8\uff09\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\uff08\u4e8c\u4eba\u4ee5\u4e0a\u306e\u4e16\u5e2f\uff09\n# \u306f\u3058\u3081\u306b\n\u3000\u69d8\u3005\u306a\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u3092\u6df7\u5408\u3057\u3066\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u3092\u69cb\u7bc9\u3067\u304d\u305f\u3089\u3001\u8272\u3005\u306a\u767a\u898b\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u3059\u3002\n\n#### \u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u306e\u4f8b\n###### \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30fb\u30de\u30fc\u30b1\u30c6\u30a3\u30f3\u30b0\u30c7\u30fc\u30bf\u306e\u4f8b\n\u3000\u305f\u3068\u3048\u3070\u3001\u3068\u3042\u308b\u4f1a\u793e\u304c\u58f2\u308a\u4e0a\u3052\u306e\u6700\u9069\u5316\u3092\u76ee\u6a19\u3068\u3059\u308b\u4e2d\u3067\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u3057\u3066\u3044\u305f\u3089\u6b21\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n| \u30c7\u30fc\u30bf\u306e\u540d\u79f0 | \u30c7\u30fc\u30bf\u306e\u7a2e\u985e |\n|:-:|:-:|\n| \u30ea\u30f3\u30af\u306e\u30af\u30ea\u30c3\u30af           | \u5206\u985e\u7684(categorical)|\n| \u30a6\u30a7\u30d6\u30b5\u30a4\u30c8\u306e\u6ede\u5728\u6642\u9593      |\u9023\u7d9a\u7684(continuous)|\n| \u5c65\u6b74\u306e\u30d6\u30e9\u30a6\u30b8\u30f3\u30b0         | \u5206\u985e\u7684(categorical)|\n| \u30bd\u30fc\u30b7\u30e3\u30eb\u30e1\u30c7\u30a3\u30a2\u306e\u30dd\u30b9\u30c8  |\u4ef6\u6570(count)|\n| \u30bd\u30fc\u30b7\u30e3\u30eb\u30cd\u30c3\u30c8\u306e\u53cb\u4eba\u6570    |\u4ef6\u6570(count)|\n| \u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u30b5\u30fc\u30d3\u30b9\u306e\u6d88\u8cbb|\u5206\u985e\u7684(categorical)|\n\n###### \u4eba\u306e\u884c\u52d5\u7279\u6027\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4f8b\n\u3000\u305f\u3068\u3048\u3070\u3001\u4eba\u306e\u884c\u52d5\u7279\u6027\u9593\u306e\u76f8\u95a2\u306b\u8208\u5473\u3092\u5411\u3051\u308b\u4e2d\u3067\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u3057\u3066\u3044\u305f\u3089\u6b21\u306e\u3088\u3046\u306a\u30c7\u30fc\u30bf\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\n| \u30c7\u30fc\u30bf\u306e\u540d\u79f0 | \u30c7\u30fc\u30bf\u306e\u7a2e\u985e |\n|:-:|:-:|\n| \u30b8\u30a7\u30f3\u30c0\u30fc       |      \u5206\u985e\u7684(categorical)|\n| \u5e74\u9f62             |     \u9023\u7d9a\u7684(continuous)|\n| \u632f\u308b\u821e\u3044\u306e\u983b\u7e41\u3055  |      \u4ef6\u6570(count)|\n| \u30a4\u30d9\u30f3\u30c8\u306e\u767a\u751f    |     \u5206\u985e\u7684(categorical)|\n| \u85ac\u5264\u306e\u6295\u4e0e\u91cf      |     \u9023\u7d9a\u7684(continuous)|\n\n\u3000R\u74b0\u5883\u3067\u306f\u3001\u3053\u308c\u3089\u306e\u69d8\u3005\u306a\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u306e\u76f8\u95a2\u3092 \"mgm\" \u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u3088\u308a\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306e Tips \u3067\u306f\u3001\"mgm\" \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5229\u7528\u3057\u305f\u5206\u6790\u4f8b\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002  \u5229\u7528\u3057\u305f\u30c7\u30fc\u30bf\u306f\u3001\u7dcf\u52d9\u7701\u7d71\u8a08\u5c40\u306e[\u5bb6\u8a08\u8abf\u67fb\uff08\u5bb6\u8a08\u53ce\u652f\u7de8\uff09\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\uff08\u4e8c\u4eba\u4ee5\u4e0a\u306e\u4e16\u5e2f\uff09](http://www.stat.go.jp/data/kakei/longtime/zuhyou/n1602000.xls)\u3092 csv \u5f62\u5f0f\u306b\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\n# \u30c7\u30fc\u30bf\u3092\u6e96\u5099\u3059\u308b\n\u5bb6\u8a08\u8abf\u67fb\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u300cn1602000.csv\u300d\u3067\u4fdd\u5b58\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067 csv \u5f62\u5f0f\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\u25bc\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n\n```R:R\n# \u74b0\u5883\u60c5\u5831\n# R version 3.2.5 (2016-04-14) - Very, Very Secure Dishes\n# \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6307\u5b9a\nsetwd( \"working_dir\" )\n\n# \u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\ndata <- read.csv('n1602000.csv', header=T)  \n\n#\u30c7\u30fc\u30bf\u30bf\u30a4\u30d7\u306e\u6307\u5b9a\n#\"g\" Gaussian(\u6b63\u898f\u5206\u5e03), \"p\" Poisson(\u4ef6\u6570), \"c\" Categorical(\u5206\u985e))\ntype <- c(\"c\",\"p\",\"p\",\"g\",\"g\",\"g\",\"g\",\"g\",\"c\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\n          \"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\n          \"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\"g\",\n          \"g\")\n#number of categories for each varibale (categorical\u4ee5\u5916\u306f1\u306b\u306a\u308b)\nlev <- c(16,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n         1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1)\n\n# \u30ab\u30e9\u30e0\u306e\u540d\u524d\ndata_colnames <- c(\"Year\",\"Num. of persons per household (persons)\",\n                   \"Num. of earners per household (persons)\",\n                   \"Age of household heads(years old)\",\"Household heads\",\n                   \"Spouse of household heads\",\"Other household members\",\n                   \"Yearly income\",\"Class of yearly income\",\n                   \"Disposable income\",\"Rice\",\"Bread\",\"Noodles\",\n                   \"Other cereals\",\"Raw fish & shellfish\",\n                   \"Salted & dried fish\",\"Fish-paste products\",\n                   \"Other processed fish\",\"Raw meat\",\"Processed meat\",\n                   \"Fresh milk\",\"Dairy products\",\"Eggs\",\"Fresh vegetables\",\n                   \"Dried vegetables & seaweeds\",\"Soybean products\",\n                   \"Other processed vegetables & seaweeds\",\"Fresh fruits\",\n                   \"Processed fruits\",\"Oil & fats\",\"Seasonings\",\n                   \"Cakes & candies\",\"Tea\",\"Coffee & cocoa\",\n                   \"Alcoholic beverages\",\"Eating out\",\"Housing\",\n                   \"Fuel light & water charges\",\"Men's clothing\",\n                   \"Women's clothing\",\"Children's clothing\",\"Medical care\",\n                   \"Public transpor-tation\",\"Private transpor-tation\",\n                   \"Communi-cation\",\"Culture & recreation\",\"Tobacco\",\n                   \"Pocket money (of which detailed uses unknown)\",\n                   \"Social expenses\",\n                   \"Ratio of surplus to disposable income (%)\",\n                   \"average savings rate(%)\",\"Engel's coefficient (%)\")\n```\n\n# \u6df7\u5408\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u3092\u69cb\u7bc9\u3059\u308b\n\u3000\u6df7\u5408\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u306f\u3001mgmfit \u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3067\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\u25bc\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n\n```R:R\n# \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# \u3053\u306e Tips \u3067\u306f\u3001mgm \u30d1\u30c3\u30b1\u30fc\u30b8\u306f1.1-6 \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\ninstall.packages(\"devtools\")\ninstall_github('jmbh/mgm')\n\n# \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\nlibrary(devtools)\nlibrary(mgm)\n\n# \u6df7\u5408\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u306e\u69cb\u7bc9\nfit <- mgmfit( data, type, lev, d = 4 )\n\n```\n\u3053\u306e\u30e2\u30c7\u30eb\u3067\u69cb\u7bc9\u3055\u308c\u305f\u5909\u6570\u306e\u4e00\u90e8\u306f\u3001\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\n|\u5909\u6570\u540d        |\u8aac\u660e                 |\n|:-----|:-------|\n|fit$signs     | \u5909\u6570\u9593\u306e\u76f8\u95a2        |\n|fit$wadj      | \u91cd\u307f\u4ed8\u3051\u96a3\u63a5\u884c\u5217    |\n|fit$adj       | \u91cd\u307f\u7121\u3057\u96a3\u63a5\u884c\u5217    |\n|fit$edgecolor | \u30dd\u30b8\u30c6\u30a3\u30d6(\u7dd1\u8272)\u3001\u30cd\u30ac\u30c6\u30a3\u30d6(\u8d64)\u3001\u672a\u5b9a\u7fa9(\u7070\u8272)|\n\n\n# \u6df7\u5408\u30b0\u30e9\u30d5\u30e2\u30c7\u30eb\u3092\u53ef\u8996\u5316\u3059\u308b\n\u25bc\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\n\n```R:R\n# \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# \u3053\u306e Tips \u3067\u306f\u3001mgm \u30d1\u30c3\u30b1\u30fc\u30b8\u306f1.3.3 \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\ninstall_github('SachaEpskamp/qgraph')\n\n# \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u8aad\u307f\u8fbc\u307f\nlibrary(qgraph)\n\n# \u5909\u6570\u306e\u5b9a\u7fa9\ngroups_typeV <- list(\"\u6b63\u898f\u5206\u5e03\u3059\u308b\u5909\u6570\"=which(type=='g'), \n                     \"\u30ab\u30a6\u30f3\u30c8\u3059\u308b\u5909\u6570\"=which(type=='p'),\n                     \"\u5206\u985e\u306b\u95a2\u3059\u308b\u5909\u6570\"=which(type=='c'))\ngroup_col <- c(\"#72CF53\", \"#53B0CF\", \"#ED3939\")\n\n# \u30b0\u30e9\u30d5\u306e JPEG \u3078\u306e\u4fdd\u5b58\njpeg(\"\u5bb6\u8a08\u8abf\u67fb.jpg\", height=2*1300, width=2*1300, unit='px')\nQ0 <- qgraph(fit$wadj, \n       vsize=3.5, \n       esize=2, \n       layout=\"spring\", \n        edge.color = fit$edgecolor, \n       color=group_col,\n       border.width=1.5,\n       border.color=\"black\",\n       groups=groups_typeV,\n       nodeNames=data_colnames,\n       legend=TRUE, \n       legend.mode=\"style2\",\n       legend.cex=1.5)\ndev.off()\n```\n\n# \u5b9f\u884c\u7d50\u679c\u4f8b\n![image](https://qiita-image-store.s3.amazonaws.com/0/106773/f80a5b2b-f0ce-5049-23e4-5b5c6503a50f.png)\n\n\u53ce\u5165(No.9)\u304c\u591a\u3044\u4eba\u306f\u3001\u5bb6\u65cf\u30e1\u30f3\u30d0(No.7)\u304c\u591a\u3044\u50be\u5411\u306b\u3042\u308a\u307e\u3059\u3002(*\u5bb6\u65cf\u304c\u591a\u3044\u3068\u3001\u9811\u5f35\u3063\u3066\u50cd\u304f\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u304b\u306d\uff1f*)\u9762\u767d\u3044\u306e\u306f\u3001\u4f7f\u9014\u4e0d\u660e\u91d1(No.48)\u307e\u308f\u308a\u3067\u3059\u3002\u4f7f\u9014\u4e0d\u660e\u91d1(No.48)\u304c\u591a\u3044\u4eba\u306f\u3001\u5f53\u7136\u306a\u304c\u3089\u30a8\u30f3\u30b2\u30eb\u4fc2\u6570(no.52)\u304c\u9ad8\u3044\u3053\u3068\u3068\u76f8\u95a2\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u4f7f\u9014\u4e0d\u660e\u91d1(No.48)\u304c\u591a\u3044\u4eba\u306f\u3001\u5bb6\u65cf\u30e1\u30f3\u30d0(No.7)\u304c\u591a\u304f\u3001\u305d\u308c\u306f\u5b50\u4f9b\u670d(No.41)\u3068\u76f8\u95a2\u304c\u3042\u308b\u3053\u3068\u3082\u5206\u304b\u308a\u307e\u3059\u3002(*\u610f\u5916\u3068\u5b50\u7169\u60a9\u306a\u65e5\u672c\u4eba\u50cf\u304c\u6d6e\u304b\u3073\u4e0a\u304c\u308a\u307e\u3059\u306d*)\n\n\n# \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n[mgm \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30de\u30cb\u30e5\u30a2\u30eb](http://arxiv.org/pdf/1510.06871v2.pdf)\n[Jonas Haslbeck \u306e Blog](http://jmbh.github.io//Interactions-between-categorical-Variables-in-mixed-graphical-models/)\n[Jonas M. B. Haslbeck, Lourens J. Waldorp \u306e\u8ad6\u6587](http://arxiv.org/pdf/1510.06871v2.pdf)\n[\u7dcf\u52d9\u7701\u7d71\u8a08\u5c40 \u5bb6\u8a08\u8abf\u67fb\uff08\u5bb6\u8a08\u53ce\u652f\u7de8\uff09\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\uff08\u4e8c\u4eba\u4ee5\u4e0a\u306e\u4e16\u5e2f\uff09](http://www.stat.go.jp/data/kakei/longtime/zuhyou/n1602000.xls)\n", "tags": ["R", "analytics", "statistics", "bigdata"]}