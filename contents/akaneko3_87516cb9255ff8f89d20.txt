{"context": " More than 1 year has passed since last update.Maven \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b AspectJ \u3092\u7d44\u307f\u8fbc\u3093\u3067\u4f7f\u3046\u3068\u304d\u306e pom.xml \u306e\u66f8\u304d\u65b9\u3067\u5d4c\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n\u5171\u901a\u8a2d\u5b9a\n<properties>\n  <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n  <maven.compiler.source>1.8</maven.compiler.source>\n  <maven.compiler.target>1.8</maven.compiler.target>\n  <org.aspectj.version>1.8.7</org.aspectj.version>\n</properties>\n\n\nCompile-time weaving\n\u5272\u3068\u5d4c\u308b\u30dd\u30a4\u30f3\u30c8 1 \u3002AspectJ Maven Plugin \u306e dependencies \u3067 aspectjtools \u3092\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\u3002\u3053\u308c\u3092\u3057\u306a\u3044\u3068 aspectjrt \u3068 aspectjtools \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u98df\u3044\u9055\u3044\u304c\u8d77\u304d\u3066\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\u306a\u304a\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 1.8 \u3067\u3053\u308c\u306f\u3072\u3068\u307e\u305a\u6539\u5584\u3055\u308c\u305f\u6a21\u69d8\u3002\u305f\u3060\u3057 aspectjrt \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 1.8.7 \u304b\u3089\u4e0a\u304c\u3063\u305f\u3089\u307e\u305f\u540c\u3058\u73fe\u8c61\u304c\u8d77\u304d\u308b\u3002\n<plugin>\n  <groupId>org.codehaus.mojo</groupId>\n  <artifactId>aspectj-maven-plugin</artifactId>\n  <version>1.7</version>\n  <!-- \u3053\u3053\u304b\u3089\u30c6\u30b9\u30c8\u306b\u51fa\u307e\uff5e\u3059 -->\n  <dependencies>\n    <dependency>\n      <groupId>org.aspectj</groupId>\n      <artifactId>aspectjtools</artifactId>\n      <version>${org.aspectj.version}</version>\n    </dependency>\n  </dependencies>\n  <!-- \u3053\u3053\u307e\u3067 -->\n  <executions>\n    <execution>\n      <goals>\n        <goal>compile</goal>\n        <goal>test-compile</goal>\n      </goals>\n    </execution>\n  </executions>\n  <configuration>\n    <complianceLevel>1.8</complianceLevel>\n    <encoding>${project.build.sourceEncoding}</encoding>\n  </configuration>\n</plugin>\n\n\u5272\u3068\u5d4c\u308b\u30dd\u30a4\u30f3\u30c8 2 \u3002*.aj \u30d5\u30a1\u30a4\u30eb\u3092\u5225\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u307e\u3068\u3081\u308b\u5834\u5408\u306f Build Helper Maven Plugin \u3092\u4f7f\u7528\u3057\u3066\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u3042\u308b\u30d5\u30a9\u30eb\u30c0\u3092\u6307\u5b9a\u3059\u308b\u3002AspectJ Maven Plugin \u306e configuration \u3067 sources \u3092\u6307\u5b9a\u3059\u308b\u3084\u308a\u65b9\u306f\u4e0a\u624b\u304f\u884c\u304d\u307e\u305b\u3093\u3002\n<plugin>\n  <groupId>org.codehaus.mojo</groupId>\n  <artifactId>build-helper-maven-plugin</artifactId>\n  <version>1.9.1</version>\n  <executions>\n    <execution>\n      <id>add-source</id>\n      <phase>generate-sources</phase>\n      <goals>\n        <goal>add-source</goal>\n      </goals>\n      <configuration>\n        <sources>\n          <source>src/main/aspectj</source>\n        </sources>\n      </configuration>\n    </execution>\n  </executions>\n</plugin>\n\n\u3082\u3061\u308d\u3093 dependencies \u3067 aspectjrt \u3092\u8aad\u307f\u8fbc\u3080\u306e\u3082\u5fd8\u308c\u306a\u3044\u3053\u3068\u3002\n<dependency>\n  <groupId>org.aspectj</groupId>\n  <artifactId>aspectjrt</artifactId>\n  <version>${org.aspectj.version}</version>\n</dependency>\n\n\nLoad-time weaving\nAspectJ Maven Plugin \u306f\u5fc5\u8981\u306a\u3044\u3002\n<plugin>\n  <groupId>org.apache.maven.plugins</groupId>\n  <artifactId>maven-dependency-plugin</artifactId>\n  <version>2.10</version>\n  <executions>\n    <execution>\n      <goals>\n        <goal>properties</goal>\n      </goals>\n    </execution>\n  </executions>\n</plugin>\n\n<plugin>\n  <groupId>org.codehaus.mojo</groupId>\n  <artifactId>exec-maven-plugin</artifactId>\n  <version>1.4.0</version>\n  <configuration>\n    <executable>java</executable>\n    <arguments>\n      <argument>-classpath</argument>\n      <classpath />\n      <argument>-javaagent:${org.aspectj:aspectjweaver:jar}</argument>\n      <argument>${mainClass}</argument>\n    </arguments>\n  </configuration>\n  <executions>\n    <execution>\n      <phase>test</phase>\n      <goals>\n        <goal>exec</goal>\n      </goals>\n    </execution>\n  </executions>\n</plugin>\n\n${mainClass} \u306f\u5b9f\u884c\u3059\u308b\u30af\u30e9\u30b9\u540d(\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3092\u542b\u3081\u305f\u30d5\u30eb\u30cd\u30fc\u30e0)\u306b\u7f6e\u304d\u63db\u3048\u308b\u3002\naspectjrt \u306e\u4ee3\u308f\u308a\u306b aspectjweaver \u3092\u8aad\u307f\u8fbc\u3080\u3002\n<dependency>\n  <groupId>org.aspectj</groupId>\n  <artifactId>aspectjweaver</artifactId>\n  <version>${org.aspectj.version}</version>\n</dependency>\n\n\n\u30b5\u30f3\u30d7\u30eb\nakaneko3/AspectJ_sample - GitHub\nMaven \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b AspectJ \u3092\u7d44\u307f\u8fbc\u3093\u3067\u4f7f\u3046\u3068\u304d\u306e ```pom.xml``` \u306e\u66f8\u304d\u65b9\u3067\u5d4c\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n# \u5171\u901a\u8a2d\u5b9a\n\n```xml\n<properties>\n  <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n  <maven.compiler.source>1.8</maven.compiler.source>\n  <maven.compiler.target>1.8</maven.compiler.target>\n  <org.aspectj.version>1.8.7</org.aspectj.version>\n</properties>\n```\n\n# Compile-time weaving\n\n\u5272\u3068\u5d4c\u308b\u30dd\u30a4\u30f3\u30c8 1 \u3002AspectJ Maven Plugin \u306e ```dependencies``` \u3067 ```aspectjtools``` \u3092\u8aad\u307f\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\u3002\u3053\u308c\u3092\u3057\u306a\u3044\u3068 ```aspectjrt``` \u3068 ```aspectjtools``` \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u98df\u3044\u9055\u3044\u304c\u8d77\u304d\u3066\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\u306a\u304a\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 1.8 \u3067\u3053\u308c\u306f\u3072\u3068\u307e\u305a\u6539\u5584\u3055\u308c\u305f\u6a21\u69d8\u3002\u305f\u3060\u3057 ```aspectjrt``` \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 1.8.7 \u304b\u3089\u4e0a\u304c\u3063\u305f\u3089\u307e\u305f\u540c\u3058\u73fe\u8c61\u304c\u8d77\u304d\u308b\u3002\n\n```xml\n<plugin>\n  <groupId>org.codehaus.mojo</groupId>\n  <artifactId>aspectj-maven-plugin</artifactId>\n  <version>1.7</version>\n  <!-- \u3053\u3053\u304b\u3089\u30c6\u30b9\u30c8\u306b\u51fa\u307e\uff5e\u3059 -->\n  <dependencies>\n    <dependency>\n      <groupId>org.aspectj</groupId>\n      <artifactId>aspectjtools</artifactId>\n      <version>${org.aspectj.version}</version>\n    </dependency>\n  </dependencies>\n  <!-- \u3053\u3053\u307e\u3067 -->\n  <executions>\n    <execution>\n      <goals>\n        <goal>compile</goal>\n        <goal>test-compile</goal>\n      </goals>\n    </execution>\n  </executions>\n  <configuration>\n    <complianceLevel>1.8</complianceLevel>\n    <encoding>${project.build.sourceEncoding}</encoding>\n  </configuration>\n</plugin>\n```\n\n\u5272\u3068\u5d4c\u308b\u30dd\u30a4\u30f3\u30c8 2 \u3002```*.aj``` \u30d5\u30a1\u30a4\u30eb\u3092\u5225\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u307e\u3068\u3081\u308b\u5834\u5408\u306f Build Helper Maven Plugin \u3092\u4f7f\u7528\u3057\u3066\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306e\u3042\u308b\u30d5\u30a9\u30eb\u30c0\u3092\u6307\u5b9a\u3059\u308b\u3002AspectJ Maven Plugin \u306e ```configuration``` \u3067 ```sources``` \u3092\u6307\u5b9a\u3059\u308b\u3084\u308a\u65b9\u306f\u4e0a\u624b\u304f\u884c\u304d\u307e\u305b\u3093\u3002\n\n```xml\n<plugin>\n  <groupId>org.codehaus.mojo</groupId>\n  <artifactId>build-helper-maven-plugin</artifactId>\n  <version>1.9.1</version>\n  <executions>\n    <execution>\n      <id>add-source</id>\n      <phase>generate-sources</phase>\n      <goals>\n        <goal>add-source</goal>\n      </goals>\n      <configuration>\n        <sources>\n          <source>src/main/aspectj</source>\n        </sources>\n      </configuration>\n    </execution>\n  </executions>\n</plugin>\n```\n\n\u3082\u3061\u308d\u3093 ```dependencies``` \u3067 ```aspectjrt``` \u3092\u8aad\u307f\u8fbc\u3080\u306e\u3082\u5fd8\u308c\u306a\u3044\u3053\u3068\u3002\n\n```xml\n<dependency>\n  <groupId>org.aspectj</groupId>\n  <artifactId>aspectjrt</artifactId>\n  <version>${org.aspectj.version}</version>\n</dependency>\n```\n\n# Load-time weaving\n\nAspectJ Maven Plugin \u306f\u5fc5\u8981\u306a\u3044\u3002\n\n```xml\n<plugin>\n  <groupId>org.apache.maven.plugins</groupId>\n  <artifactId>maven-dependency-plugin</artifactId>\n  <version>2.10</version>\n  <executions>\n    <execution>\n      <goals>\n        <goal>properties</goal>\n      </goals>\n    </execution>\n  </executions>\n</plugin>\n\n<plugin>\n  <groupId>org.codehaus.mojo</groupId>\n  <artifactId>exec-maven-plugin</artifactId>\n  <version>1.4.0</version>\n  <configuration>\n    <executable>java</executable>\n    <arguments>\n      <argument>-classpath</argument>\n      <classpath />\n      <argument>-javaagent:${org.aspectj:aspectjweaver:jar}</argument>\n      <argument>${mainClass}</argument>\n    </arguments>\n  </configuration>\n  <executions>\n    <execution>\n      <phase>test</phase>\n      <goals>\n        <goal>exec</goal>\n      </goals>\n    </execution>\n  </executions>\n</plugin>\n```\n\n```${mainClass}``` \u306f\u5b9f\u884c\u3059\u308b\u30af\u30e9\u30b9\u540d(\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\u3092\u542b\u3081\u305f\u30d5\u30eb\u30cd\u30fc\u30e0)\u306b\u7f6e\u304d\u63db\u3048\u308b\u3002\n\n```aspectjrt``` \u306e\u4ee3\u308f\u308a\u306b ```aspectjweaver``` \u3092\u8aad\u307f\u8fbc\u3080\u3002\n\n```xml\n<dependency>\n  <groupId>org.aspectj</groupId>\n  <artifactId>aspectjweaver</artifactId>\n  <version>${org.aspectj.version}</version>\n</dependency>\n```\n\n# \u30b5\u30f3\u30d7\u30eb\n\n[akaneko3/AspectJ_sample - GitHub](https://github.com/akaneko3/AspectJ_sample)\n", "tags": ["Maven", "AspectJ"]}