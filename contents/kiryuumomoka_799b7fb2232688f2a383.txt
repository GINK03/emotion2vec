{"tags": ["Linux", "Debian", "firewalld"], "context": "\n\ndebian\u3092\u5229\u7528\u3057\u3066\u4e0b\u306e\u69cb\u6210\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3057\u305f\u3044\u3067\u3059\n\ndebian...debian-8.5.0-amd64-netinst.iso\n\u73fe\u5728\u3001\u4e0a\u306e\u56f3\u306e\u3088\u3046\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u6210\u306e\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u7df4\u7fd2\u3092Virtualbox\u3092\u5229\u7528\u3057\u3066\u304a\u3053\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305f\u3060\u3001firewalld\u306e\u8a2d\u5b9a\u304c\u4e0a\u624b\u304f\u3044\u304b\u306a\u3044\u305f\u3081\u3001\u8cea\u554f\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\n\u73fe\u5728\u3001GSV\u3068\u66f8\u304b\u308c\u305f\u30b5\u30fc\u30d0\u30fc\u306e/etc/netwark/interfaces\u306f\u4e0b\u8a18\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\n This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\nallow-hotplug eth0\nauto eth0\niface eth0 inet static\n        address 172.22.1.100\n        netmask 255.255.252.0\n        network 172.22.1.0\n        broadcast 172.22.3.255\n        gateway 172.22.0.1\n        # dns-* options are implemented by the resolvconf package, if installed\n        dns-nameservers 172.22.255.1\n\nauto eth1\niface eth1 inet static\n        address 192.168.1.1\n        netmask 255.255.255.0\n        network 192.168.1.0\n        broadcast 192.168.1.255\n\nauto eth2\niface eth2 inet static\n        address 192.168.2.1\n        netmask 255.255.255.0\n        network 192.168.2.0\n        broadcast 192.168.2.255\n\n\n\n\u307e\u305f\u3001firewalld\u306e\u8a2d\u5b9a\u306ffirewall-cmd --list-all-zones\u3088\u308a\u4e0b\u8a18\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\nblock\n  interfaces: \n  sources: \n  services: \n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\ndmz (active)\n  interfaces: eth1\n  sources: \n  services: http smtp\n  ports: \n  masquerade: yes\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\ndrop\n  interfaces: \n  sources: \n  services: \n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\nexternal (active)\n  interfaces: eth0\n  sources: \n  services: ssh\n  ports: \n  masquerade: yes\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\nhome\n  interfaces: \n  sources: \n  services: dhcpv6-client mdns samba-client ssh\n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\ninternal (active)\n  interfaces: eth2\n  sources: 192.168.1.0/24\n  services: mysql\n  ports: \n  masquerade: yes\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\npublic (default)\n  interfaces: \n  sources: \n  services: dhcpv6-client http ssh\n  ports: \n  masquerade: yes\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\ntrusted\n  interfaces: \n  sources: \n  services: \n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\nwork\n  interfaces: \n  sources: \n  services: dhcpv6-client ssh\n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\n\n\u56f0\u3063\u3066\u3044\u308b\u70b9\u306feth2\u306emysql\u3078\u306e\u9001\u4fe1\u5143\u3092192.168.1.0/24\u306b\u7d5e\u3063\u305f\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001localhost\u304b\u3089mysql\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u3067\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306fmamp\u3092\u4f7f\u3063\u3066\u3001php\u304b\u3089mysql\u306b\u3064\u306a\u3052\u3066\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001firewalld\u306e\u8a2d\u5b9a\u30df\u30b9\u3067\u3059\u3088\u306d\uff1f\n\u4e00\u4f53\u3001\u3069\u3046\u3059\u308c\u3070\u826f\u3044\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\n\u30a2\u30c9\u30d0\u30a4\u30b9\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002\n# debian\u3092\u5229\u7528\u3057\u3066\u4e0b\u306e\u69cb\u6210\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3057\u305f\u3044\u3067\u3059\n\n![\u30b9\u30e9\u30a4\u30c8\u30992.png](https://qiita-image-store.s3.amazonaws.com/0/148796/73bc2181-0572-ce36-dcf2-39d457c62618.png)\n\ndebian...debian-8.5.0-amd64-netinst.iso\n\n\u73fe\u5728\u3001\u4e0a\u306e\u56f3\u306e\u3088\u3046\u306a\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u6210\u306e\u30b5\u30fc\u30d0\u30fc\u3092\u69cb\u7bc9\u3059\u308b\u7df4\u7fd2\u3092Virtualbox\u3092\u5229\u7528\u3057\u3066\u304a\u3053\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u305f\u3060\u3001firewalld\u306e\u8a2d\u5b9a\u304c\u4e0a\u624b\u304f\u3044\u304b\u306a\u3044\u305f\u3081\u3001\u8cea\u554f\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u73fe\u5728\u3001GSV\u3068\u66f8\u304b\u308c\u305f\u30b5\u30fc\u30d0\u30fc\u306e/etc/netwark/interfaces\u306f\u4e0b\u8a18\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\n\n```\n This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\nallow-hotplug eth0\nauto eth0\niface eth0 inet static\n        address 172.22.1.100\n        netmask 255.255.252.0\n        network 172.22.1.0\n        broadcast 172.22.3.255\n        gateway 172.22.0.1\n        # dns-* options are implemented by the resolvconf package, if installed\n        dns-nameservers 172.22.255.1\n\nauto eth1\niface eth1 inet static\n        address 192.168.1.1\n        netmask 255.255.255.0\n        network 192.168.1.0\n        broadcast 192.168.1.255\n\nauto eth2\niface eth2 inet static\n        address 192.168.2.1\n        netmask 255.255.255.0\n        network 192.168.2.0\n        broadcast 192.168.2.255\n\n\n```\n\n\u307e\u305f\u3001firewalld\u306e\u8a2d\u5b9a\u306ffirewall-cmd --list-all-zones\u3088\u308a\u4e0b\u8a18\u3068\u306a\u3063\u3066\u304a\u308a\u307e\u3059\u3002\n\n```\nblock\n  interfaces: \n  sources: \n  services: \n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\t\ndmz (active)\n  interfaces: eth1\n  sources: \n  services: http smtp\n  ports: \n  masquerade: yes\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\t\ndrop\n  interfaces: \n  sources: \n  services: \n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\t\nexternal (active)\n  interfaces: eth0\n  sources: \n  services: ssh\n  ports: \n  masquerade: yes\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\t\nhome\n  interfaces: \n  sources: \n  services: dhcpv6-client mdns samba-client ssh\n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\t\ninternal (active)\n  interfaces: eth2\n  sources: 192.168.1.0/24\n  services: mysql\n  ports: \n  masquerade: yes\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\t\npublic (default)\n  interfaces: \n  sources: \n  services: dhcpv6-client http ssh\n  ports: \n  masquerade: yes\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\t\ntrusted\n  interfaces: \n  sources: \n  services: \n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\t\nwork\n  interfaces: \n  sources: \n  services: dhcpv6-client ssh\n  ports: \n  masquerade: no\n  forward-ports: \n  icmp-blocks: \n  rich rules: \n\n```\n\n\n\u56f0\u3063\u3066\u3044\u308b\u70b9\u306feth2\u306emysql\u3078\u306e\u9001\u4fe1\u5143\u3092192.168.1.0/24\u306b\u7d5e\u3063\u305f\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001localhost\u304b\u3089mysql\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u3067\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306fmamp\u3092\u4f7f\u3063\u3066\u3001php\u304b\u3089mysql\u306b\u3064\u306a\u3052\u3066\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3067\u304d\u3066\u3057\u307e\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001firewalld\u306e\u8a2d\u5b9a\u30df\u30b9\u3067\u3059\u3088\u306d\uff1f\n\u4e00\u4f53\u3001\u3069\u3046\u3059\u308c\u3070\u826f\u3044\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\n\u30a2\u30c9\u30d0\u30a4\u30b9\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002\n"}