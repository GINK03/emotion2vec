{"context": " More than 1 year has passed since last update.\u51fa\u6765\u4e0a\u304c\u3063\u305f\u30a2\u30d7\u30ea\u3001\u30c4\u30fc\u30eb\u306a\u3069\u306f\u3001\nspark-submit\u3067\u4f7f\u3048\u3070\u3088\u3044\u304c\u3001spark-shell\u3067\u5bfe\u8a71\u7684\u306b\n\u30c7\u30d0\u30c3\u30b0\u3001\u78ba\u8a8d\u3057\u305f\u3044\u304c\u3001\u3044\u3061\u3044\u3061\u3001import\u3068\u304b\u5909\u6570\u8a2d\u5b9a\u3068\u304b\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u5834\u5408\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u3066\u3001\u8aad\u307f\u8fbc\u3080\n\nprepare.scala\nimport org.apache.spark._\nimport org.apache.spark.rdd._\n\nimport com.rikima.ml.Query\n\nval input = \"/opt/hoge/data.tsv\"\nval model = \"/opt/hoge/model.json\"\n\ndef process(queries: RDD[Query]) : RDD[Int] = {\n ....\n}\n\n\n\nspark-shell\u306e\u8d77\u52d5\n\nshell.sh\n#!/bin/sh\n\njars=\"hoge.jar\"\nfor jar in $(ls ./extjars/*.jar)  ; do\n   jars=$jars,$jar\ndone\nspark-shell --jars $jars -i ./prepare.scala \n\n\n\n\u3053\u308c\u3067\u3001spark-shell\u8d77\u52d5\u5f8c\u306b\u3001input, model\u5909\u6570\u304c\u4f7f\u3048\u305f\u308a\u3001process function\u3092\u4f7f\u3048\u308b\u3002\n\u51fa\u6765\u4e0a\u304c\u3063\u305f\u30a2\u30d7\u30ea\u3001\u30c4\u30fc\u30eb\u306a\u3069\u306f\u3001\nspark-submit\u3067\u4f7f\u3048\u3070\u3088\u3044\u304c\u3001spark-shell\u3067\u5bfe\u8a71\u7684\u306b\n\u30c7\u30d0\u30c3\u30b0\u3001\u78ba\u8a8d\u3057\u305f\u3044\u304c\u3001\u3044\u3061\u3044\u3061\u3001import\u3068\u304b\u5909\u6570\u8a2d\u5b9a\u3068\u304b\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u5834\u5408\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u3066\u3001\u8aad\u307f\u8fbc\u3080\n\n\n```prepare.scala\nimport org.apache.spark._\nimport org.apache.spark.rdd._\n\nimport com.rikima.ml.Query\n\nval input = \"/opt/hoge/data.tsv\"\nval model = \"/opt/hoge/model.json\"\n\ndef process(queries: RDD[Query]) : RDD[Int] = {\n ....\n}\n\n```\n\nspark-shell\u306e\u8d77\u52d5\n\n```shell.sh\n#!/bin/sh\n\njars=\"hoge.jar\"\nfor jar in $(ls ./extjars/*.jar)  ; do\n   jars=$jars,$jar\ndone\nspark-shell --jars $jars -i ./prepare.scala \n\n```\n\n\u3053\u308c\u3067\u3001spark-shell\u8d77\u52d5\u5f8c\u306b\u3001input, model\u5909\u6570\u304c\u4f7f\u3048\u305f\u308a\u3001process function\u3092\u4f7f\u3048\u308b\u3002\n\n\n\n", "tags": ["Spark"]}