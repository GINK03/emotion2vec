{"context": " More than 1 year has passed since last update.Jeysey \u306e JSON \u5909\u63db\u306b Jackson \u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u3067\u3001\u65e5\u4ed8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u4efb\u610f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u3002\n\u3061\u306a\u307f\u306b\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u65e5\u4ed8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u4ee5\u4e0b\u3002\n\nyyyy-MM-dd'T'HH:mm:ss.SSSZ\nyyyy-MM-dd'T'HH:mm:ss.SSS'Z'\nEEE, dd MMM yyyy HH:mm:ss zzz\nyyyy-MM-dd\n\n\n\u74b0\u5883\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u30fc\nTomcat 7.0.50\n\nJersey\n2.10.1\n\n\u5b9f\u88c5\n\nbuild.gradle\ndependencies {\n    providedCompile 'javax.servlet:javax.servlet-api:3.1.0'\n    compile'org.glassfish.jersey.containers:jersey-container-servlet:2.10.1'\n    compile 'org.glassfish.jersey.media:jersey-media-json-jackson:2.10.1'\n}\n\n\n\nMyConfig.java\npackage sample.jersey;\n\nimport javax.ws.rs.ApplicationPath;\n\nimport org.glassfish.jersey.server.ResourceConfig;\n\n@ApplicationPath(\"rest\")\npublic class MyConfig extends ResourceConfig {\n\n    public MyConfig() {\n        packages(this.getClass().getPackage().getName());\n    }\n}\n\n\n\nJacksonConfigurator.java\npackage sample.jersey;\n\nimport java.text.SimpleDateFormat;\n\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.ext.ContextResolver;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class JacksonConfigurator implements ContextResolver<ObjectMapper> {\n\n    private ObjectMapper mapper = new ObjectMapper();\n\n    public JacksonConfigurator() {\n        mapper.setDateFormat(new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\"));\n    }\n\n    @Override\n    public ObjectMapper getContext(Class<?> arg0) {\n        return mapper;\n    }\n}\n\n\nContextResolver \u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9\u3092\u7528\u610f\u3057\u3001 getContext() \u3067\u65e5\u4ed8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u8a2d\u5b9a\u3057\u305f ObjectMapper \u3092\u8fd4\u5374\u3059\u308b\u3002\n\nSampleResource.java\npackage sample.jersey.resource;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.MediaType;\n\n@Path(\"sample\")\npublic class SampleResource {\n\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void post(Form form) {\n        System.out.println(form);\n    }\n}\n\n\n\nForm.java\npackage sample.jersey.resource;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Form {\n\n    private Date date;\n\n    public Date getDate() {\n        return date;\n    }\n\n    public void setDate(Date date) {\n        this.date = date;\n    }\n\n    @Override\n    public String toString() {\n        return new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\").format(this.date);\n    }\n}\n\n\n\nindex.html\n<html>\n  <head>\n    <script src=\"http://code.jquery.com/jquery-2.1.1.min.js\"></script>\n    <script>\n      $(function() {\n        $.ajax({\n          type: 'POST',\n          contentType: 'application/json',\n          url: 'rest/sample',\n          data: '{\"date\": \"2014/01/01 11:12:13\"}',\n          complete: function(xhr) {\n            $('body').empty().html(xhr.responseText);\n          }\n        });\n      });\n    </script>\n  </head>\n  <body>\n  </body>\n</html>\n\n\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u3044\u3066 index.html \u3092\u958b\u304f\u3002\n\n\u30b5\u30fc\u30d0\u30fc\u5074\u30b3\u30f3\u30bd\u30fc\u30eb\u51fa\u529b\n2014/01/01 11:12:13\n\n\n\n\u53c2\u8003\n\n8.1.4. Jackson | Chapter 8. Support for Common Media Type Representations\nJackson - JSON Processor | GitHub Gist\njava - Jersey + Jackson JSON date serialization format problem - how to change the format or use custom JacksonJsonProvider - Stack Overflow\n\nJeysey \u306e JSON \u5909\u63db\u306b Jackson \u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u3067\u3001\u65e5\u4ed8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u4efb\u610f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u66f4\u3059\u308b\u65b9\u6cd5\u3002\n\n\u3061\u306a\u307f\u306b\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u65e5\u4ed8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u4ee5\u4e0b\u3002\n\n- `yyyy-MM-dd'T'HH:mm:ss.SSSZ`\n- `yyyy-MM-dd'T'HH:mm:ss.SSS'Z'`\n- `EEE, dd MMM yyyy HH:mm:ss zzz`\n- `yyyy-MM-dd`\n\n#\u74b0\u5883\n##\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d0\u30fc\nTomcat 7.0.50\n\n##Jersey\n2.10.1\n\n#\u5b9f\u88c5\n```groovy:build.gradle\ndependencies {\n    providedCompile 'javax.servlet:javax.servlet-api:3.1.0'\n    compile'org.glassfish.jersey.containers:jersey-container-servlet:2.10.1'\n    compile 'org.glassfish.jersey.media:jersey-media-json-jackson:2.10.1'\n}\n```\n\n```java:MyConfig.java\npackage sample.jersey;\n\nimport javax.ws.rs.ApplicationPath;\n\nimport org.glassfish.jersey.server.ResourceConfig;\n\n@ApplicationPath(\"rest\")\npublic class MyConfig extends ResourceConfig {\n    \n    public MyConfig() {\n        packages(this.getClass().getPackage().getName());\n    }\n}\n```\n\n```java:JacksonConfigurator.java\npackage sample.jersey;\n\nimport java.text.SimpleDateFormat;\n\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.ext.ContextResolver;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class JacksonConfigurator implements ContextResolver<ObjectMapper> {\n\n    private ObjectMapper mapper = new ObjectMapper();\n\n    public JacksonConfigurator() {\n        mapper.setDateFormat(new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\"));\n    }\n\n    @Override\n    public ObjectMapper getContext(Class<?> arg0) {\n        return mapper;\n    }\n}\n```\n\n`ContextResolver` \u3092\u5b9f\u88c5\u3057\u305f\u30af\u30e9\u30b9\u3092\u7528\u610f\u3057\u3001 `getContext()` \u3067\u65e5\u4ed8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u8a2d\u5b9a\u3057\u305f `ObjectMapper` \u3092\u8fd4\u5374\u3059\u308b\u3002\n\n```java:SampleResource.java\npackage sample.jersey.resource;\n\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.MediaType;\n\n@Path(\"sample\")\npublic class SampleResource {\n    \n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void post(Form form) {\n        System.out.println(form);\n    }\n}\n```\n\n```java:Form.java\npackage sample.jersey.resource;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Form {\n\n    private Date date;\n    \n    public Date getDate() {\n        return date;\n    }\n\n    public void setDate(Date date) {\n        this.date = date;\n    }\n\n    @Override\n    public String toString() {\n        return new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\").format(this.date);\n    }\n}\n```\n\n```html:index.html\n<html>\n  <head>\n    <script src=\"http://code.jquery.com/jquery-2.1.1.min.js\"></script>\n    <script>\n      $(function() {\n        $.ajax({\n          type: 'POST',\n          contentType: 'application/json',\n          url: 'rest/sample',\n          data: '{\"date\": \"2014/01/01 11:12:13\"}',\n          complete: function(xhr) {\n            $('body').empty().html(xhr.responseText);\n          }\n        });\n      });\n    </script>\n  </head>\n  <body>\n  </body>\n</html>\n```\n\n#\u52d5\u4f5c\u78ba\u8a8d\n\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u3044\u3066 `index.html` \u3092\u958b\u304f\u3002\n\n```text:\u30b5\u30fc\u30d0\u30fc\u5074\u30b3\u30f3\u30bd\u30fc\u30eb\u51fa\u529b\n2014/01/01 11:12:13\n```\n\n#\u53c2\u8003\n- [8.1.4. Jackson | Chapter 8. Support for Common Media Type Representations](https://jersey.java.net/documentation/latest/media.html#json.jackson)\n- [Jackson - JSON Processor | GitHub Gist](https://gist.github.com/wtokuno/1996260)\n- [java - Jersey + Jackson JSON date serialization format problem - how to change the format or use custom JacksonJsonProvider - Stack Overflow](http://stackoverflow.com/questions/4428109/jersey-jackson-json-date-serialization-format-problem-how-to-change-the-form)\n", "tags": ["Java", "jersey", "Jackson"]}