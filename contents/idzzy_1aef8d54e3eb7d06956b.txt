{"tags": ["MongoDB", "openstack"], "context": " More than 1 year has passed since last update.\n\nWhat's this?\nmongo-express \u3067 MongoDB \u306b Web \u30a2\u30af\u30bb\u30b9\u3001\u3064\u3044\u3067\u306b Openstack Ceilometer \u306e MongoDB \u3092\u8997\u304f\u3002\n\nProcedure\n\nInstall node.js\n$ wget https://nodejs.org/dist/v4.1.2/node-v4.1.2.tar.gz\n$ tar -zxvf node-v4.1.2.tar.gz\n$ cd node-v4.1.2/\n$ ./configure --prefix=/usr/local\n$ make\n$ sudo make install\n\n$ /usr/local/bin/node -v\nv4.1.2\n\n$ /usr/local/bin/npm -v\n2.14.4\n\n\nnpm init\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u305f\u3081\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\u3001\u79fb\u52d5\n# mkdir mongo-express\n# cd mongo-express/\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306f npm\u304c\u7ba1\u7406\u3059\u308b\u5ba3\u8a00\n# npm init\nThis utility will walk you through creating a package.json file.\nIt only covers the most common items, and tries to guess sane defaults.\n\nSee `npm help json` for definitive documentation on these fields\nand exactly what they do.\n\nUse `npm install <pkg> --save` afterwards to install a package and\nsave it as a dependency in the package.json file.\n\nPress ^C at any time to quit.\nname: (mongo-express)                   <== INPUT\nversion: (0.0.0)                        <\ndescription: MongoDB-Express            <\nentry point: (index.js)                 <\ntest command:                           <\ngit repository:                         <\nkeywords:                               <\nauthor:                                 <\nlicense: (BSD)                          <\nAbout to write to /root/mongo-express/package.json:\n\n{\n  \"name\": \"mongo-express\",\n  \"version\": \"0.0.0\",\n  \"description\": \"MongoDB-Express\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"BSD\"\n}\n\n\nIs this ok? (yes)\n\njson file \u304c\u4f5c\u6210\u3055\u308c\u308b\n# cat package.json\n{\n  \"name\": \"mongodb-express\",\n  \"version\": \"1.0.0\",\n  \"description\": \"MongoDB-Express\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\"\n}\n\n\nInstall mongo-express\n# npm install mongo-express --save\n~~ \u7701\u7565 ~~\nmongo-express@0.23.2 node_modules/mongo-express\n\u251c\u2500\u2500 async@1.4.2\n\u251c\u2500\u2500 basic-auth-connect@1.0.0\n\u251c\u2500\u2500 consolidate@0.12.1\n\u251c\u2500\u2500 underscore@1.8.3\n\u251c\u2500\u2500 cookie-parser@1.4.0 (cookie-signature@1.0.6, cookie@0.2.2)\n\u251c\u2500\u2500 serve-favicon@2.3.0 (etag@1.7.0, fresh@0.3.0, ms@0.7.1, parseurl@1.3.0)\n\u251c\u2500\u2500 morgan@1.6.1 (on-headers@1.0.1, basic-auth@1.0.3, depd@1.0.1, on-finished@2.3.0, debug@2.2.0)\n\u251c\u2500\u2500 method-override@2.3.5 (vary@1.0.1, methods@1.1.1, parseurl@1.3.0, debug@2.2.0)\n\u251c\u2500\u2500 express-session@1.11.3 (cookie@0.1.3, cookie-signature@1.0.6, utils-merge@1.0.0, on-headers@1.0.1, parseurl@1.3.0, depd@1.0.1, crc@3.3.0, uid-safe@2.0.0, debug@2.2.0)\n\u251c\u2500\u2500 errorhandler@1.4.2 (escape-html@1.0.2, accepts@1.2.13)\n\u251c\u2500\u2500 express@4.13.3 (escape-html@1.0.2, cookie@0.1.3, cookie-signature@1.0.6, utils-merge@1.0.0, content-type@1.0.1, methods@1.1.1, vary@1.0.1, etag@1.7.0, fresh@0.3.0, merge-descriptors@1.0.0, array-flatten@1.1.1, parseurl@1.3.0, serve-static@1.10.0, range-parser@1.0.2, content-disposition@0.5.0, path-to-regexp@0.1.7, depd@1.0.1, qs@4.0.0, on-finished@2.3.0, finalhandler@0.4.0, debug@2.2.0, proxy-addr@1.0.8, type-is@1.6.9, accepts@1.2.13, send@0.13.0)\n\u251c\u2500\u2500 body-parser@1.14.0 (bytes@2.1.0, content-type@1.0.1, depd@1.1.0, qs@5.1.0, on-finished@2.3.0, debug@2.2.0, http-errors@1.3.1, iconv-lite@0.4.11, type-is@1.6.9, raw-body@2.1.4)\n\u251c\u2500\u2500 swig@1.4.2 (optimist@0.6.1, uglify-js@2.4.24)\n\u2514\u2500\u2500 mongodb@2.0.43 (es6-promise@2.1.1, readable-stream@1.0.31, mongodb-core@1.2.12)\n\n\n# ll node_modules/mongo-express/\ntotal 72K\n-rw-r--r--  1 root root  449 Sep 28 23:29 app.js\n-rw-r--r--  1 root root 2578 Sep 28 23:01 bson.js\n-rw-r--r--  1 root root 3275 Sep 28 23:17 config.default.js\n-rw-r--r--  1 root root 4421 Oct  2 07:53 db.js\n-rw-r--r--  1 root root  144 Sep 28 12:50 Dockerfile\n-rw-r--r--  1 root root 1020 Sep 28 23:17 filters.js\n-rw-r--r--  1 root root 2093 Sep 26 01:26 HISTORY.md\n-rw-r--r--  1 root root 7785 Sep 28 23:12 json.js\n-rw-r--r--  1 root root  621 Sep 28 23:12 middleware.js\ndrwxr-xr-x 17 root root 4096 Oct  8 17:36 node_modules/\n-rw-r--r--  1 root root 1808 Oct  8 17:36 package.json\ndrwxr-xr-x  5 root root   55 Oct  8 17:36 public/\n-rw-r--r--  1 root root 7179 Sep 29 08:17 README.md\n-rw-r--r--  1 root root 5738 Sep 29 12:36 router.js\ndrwxr-xr-x  2 root root   77 Oct  8 17:36 routes/\ndrwxr-xr-x  2 root root   37 Oct  8 17:36 test/\n-rw-r--r--  1 root root  449 Sep 28 22:58 utils.js\ndrwxr-xr-x  2 root root  103 Oct  8 17:36 views/\n\n\nConfigure\n# pwd\n/root/mongo-express/node_modules/mongo-express\n# cp config.default.js config.js\n# vi config.js\n\n# diff config.default.js config.js\n11c11\n<     server: process.env.ME_CONFIG_MONGODB_SERVER || 'localhost',\n---\n>     server: process.env.ME_CONFIG_MONGODB_SERVER || 'xxx.xxx.xxx.xxx',  <== MongoDB Server IP\n31,33c31,33\n<         database: 'test',                                               <== DELETE\n<         username: 'user',                                               <\n<         password: 'pass'                                                <\n---                                                                       <\n>         database: '',                                                   <\n>         username: '',                                                   <\n>         password: ''                                                    <\n43,44c43,44\n<     adminUsername: '',                                                  <== ADD: MongoDB ID/PW\n<     adminPassword: '',                                                  <\n---                                                                       <\n>     adminUsername: 'admin',                                             <\n>     adminPassword: '*****',                                             <\n65c65\n<     password: process.env.ME_CONFIG_BASICAUTH_PASSWORD || 'pass'        <== UPDATE: Basic Auth PW\n---                                                                       <\n>     password: process.env.ME_CONFIG_BASICAUTH_PASSWORD || '*****'       <\n\n\nRun\n# pwd\n/root/mongo-express/node_modules/mongo-express\n\n# node app.js\nMongo Express server listening on port 8081 at 0.0.0.0\nDatabase connected!\nAdmin Database connected\nGET / 200 104.510 ms - 4622\nGET /stylesheets/bootstrap.css 200 7.646 ms - 98983\nGET /stylesheets/bootstrap-responsive.min.css 200 9.788 ms - 10518\nGET /stylesheets/style.css 200 9.769 ms - 117\nGET /javascripts/bootstrap.min.js 200 3.192 ms - 22323\nGET /javascripts/jquery-1.7.2.min.js 200 3.032 ms - 94840\nGET /images/glyphicons-halflings.png 200 1.519 ms - 13826\nGET /db/admin 200 49.691 ms - 4554\n~~ \u7701\u7565 ~~\n# ^C\n\nShell \u306b\u3057\u3066\u5e38\u6642\u8d77\u52d5\n# cat mongo-express.sh\n#!/bin/sh\n\nNODE=\"/usr/local/bin/node\"\nAPP_JS=\"/root/mongo-express/node_modules/mongo-express/app.js\"\n\nnohup ${NODE} ${APP_JS} &\n\nexit\n\n\nGUI\nhttp://xxx.xxx.xxx.xxx:8081\n\n\n\n\nReference\nhttps://github.com/andzdroid/mongo-express\n## What's this?\n\nmongo-express \u3067 MongoDB \u306b Web \u30a2\u30af\u30bb\u30b9\u3001\u3064\u3044\u3067\u306b Openstack Ceilometer \u306e MongoDB \u3092\u8997\u304f\u3002\n\n## Procedure\n### Install node.js\n\n    $ wget https://nodejs.org/dist/v4.1.2/node-v4.1.2.tar.gz\n    $ tar -zxvf node-v4.1.2.tar.gz\n    $ cd node-v4.1.2/\n    $ ./configure --prefix=/usr/local\n    $ make\n    $ sudo make install\n\n    $ /usr/local/bin/node -v\n    v4.1.2\n\n    $ /usr/local/bin/npm -v\n    2.14.4\n\n\n### npm init\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u305f\u3081\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4f5c\u6210\u3001\u79fb\u52d5\n\n    # mkdir mongo-express\n    # cd mongo-express/\n\n\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306f npm\u304c\u7ba1\u7406\u3059\u308b\u5ba3\u8a00\n\n    # npm init\n    This utility will walk you through creating a package.json file.\n    It only covers the most common items, and tries to guess sane defaults.\n\n    See `npm help json` for definitive documentation on these fields\n    and exactly what they do.\n\n    Use `npm install <pkg> --save` afterwards to install a package and\n    save it as a dependency in the package.json file.\n\n    Press ^C at any time to quit.\n    name: (mongo-express)                   <== INPUT\n    version: (0.0.0)                        <\n    description: MongoDB-Express            <\n    entry point: (index.js)                 <\n    test command:                           <\n    git repository:                         <\n    keywords:                               <\n    author:                                 <\n    license: (BSD)                          <\n    About to write to /root/mongo-express/package.json:\n\n    {\n      \"name\": \"mongo-express\",\n      \"version\": \"0.0.0\",\n      \"description\": \"MongoDB-Express\",\n      \"main\": \"index.js\",\n      \"scripts\": {\n        \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n      },\n      \"author\": \"\",\n      \"license\": \"BSD\"\n    }\n\n\n    Is this ok? (yes)\n\njson file \u304c\u4f5c\u6210\u3055\u308c\u308b\n\n    # cat package.json\n    {\n      \"name\": \"mongodb-express\",\n      \"version\": \"1.0.0\",\n      \"description\": \"MongoDB-Express\",\n      \"main\": \"index.js\",\n      \"scripts\": {\n        \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n      },\n      \"author\": \"\",\n      \"license\": \"ISC\"\n    }\n\n\n### Install mongo-express\n\n    # npm install mongo-express --save\n    ~~ \u7701\u7565 ~~\n    mongo-express@0.23.2 node_modules/mongo-express\n    \u251c\u2500\u2500 async@1.4.2\n    \u251c\u2500\u2500 basic-auth-connect@1.0.0\n    \u251c\u2500\u2500 consolidate@0.12.1\n    \u251c\u2500\u2500 underscore@1.8.3\n    \u251c\u2500\u2500 cookie-parser@1.4.0 (cookie-signature@1.0.6, cookie@0.2.2)\n    \u251c\u2500\u2500 serve-favicon@2.3.0 (etag@1.7.0, fresh@0.3.0, ms@0.7.1, parseurl@1.3.0)\n    \u251c\u2500\u2500 morgan@1.6.1 (on-headers@1.0.1, basic-auth@1.0.3, depd@1.0.1, on-finished@2.3.0, debug@2.2.0)\n    \u251c\u2500\u2500 method-override@2.3.5 (vary@1.0.1, methods@1.1.1, parseurl@1.3.0, debug@2.2.0)\n    \u251c\u2500\u2500 express-session@1.11.3 (cookie@0.1.3, cookie-signature@1.0.6, utils-merge@1.0.0, on-headers@1.0.1, parseurl@1.3.0, depd@1.0.1, crc@3.3.0, uid-safe@2.0.0, debug@2.2.0)\n    \u251c\u2500\u2500 errorhandler@1.4.2 (escape-html@1.0.2, accepts@1.2.13)\n    \u251c\u2500\u2500 express@4.13.3 (escape-html@1.0.2, cookie@0.1.3, cookie-signature@1.0.6, utils-merge@1.0.0, content-type@1.0.1, methods@1.1.1, vary@1.0.1, etag@1.7.0, fresh@0.3.0, merge-descriptors@1.0.0, array-flatten@1.1.1, parseurl@1.3.0, serve-static@1.10.0, range-parser@1.0.2, content-disposition@0.5.0, path-to-regexp@0.1.7, depd@1.0.1, qs@4.0.0, on-finished@2.3.0, finalhandler@0.4.0, debug@2.2.0, proxy-addr@1.0.8, type-is@1.6.9, accepts@1.2.13, send@0.13.0)\n    \u251c\u2500\u2500 body-parser@1.14.0 (bytes@2.1.0, content-type@1.0.1, depd@1.1.0, qs@5.1.0, on-finished@2.3.0, debug@2.2.0, http-errors@1.3.1, iconv-lite@0.4.11, type-is@1.6.9, raw-body@2.1.4)\n    \u251c\u2500\u2500 swig@1.4.2 (optimist@0.6.1, uglify-js@2.4.24)\n    \u2514\u2500\u2500 mongodb@2.0.43 (es6-promise@2.1.1, readable-stream@1.0.31, mongodb-core@1.2.12)\n\n\n    # ll node_modules/mongo-express/\n    total 72K\n    -rw-r--r--  1 root root  449 Sep 28 23:29 app.js\n    -rw-r--r--  1 root root 2578 Sep 28 23:01 bson.js\n    -rw-r--r--  1 root root 3275 Sep 28 23:17 config.default.js\n    -rw-r--r--  1 root root 4421 Oct  2 07:53 db.js\n    -rw-r--r--  1 root root  144 Sep 28 12:50 Dockerfile\n    -rw-r--r--  1 root root 1020 Sep 28 23:17 filters.js\n    -rw-r--r--  1 root root 2093 Sep 26 01:26 HISTORY.md\n    -rw-r--r--  1 root root 7785 Sep 28 23:12 json.js\n    -rw-r--r--  1 root root  621 Sep 28 23:12 middleware.js\n    drwxr-xr-x 17 root root 4096 Oct  8 17:36 node_modules/\n    -rw-r--r--  1 root root 1808 Oct  8 17:36 package.json\n    drwxr-xr-x  5 root root   55 Oct  8 17:36 public/\n    -rw-r--r--  1 root root 7179 Sep 29 08:17 README.md\n    -rw-r--r--  1 root root 5738 Sep 29 12:36 router.js\n    drwxr-xr-x  2 root root   77 Oct  8 17:36 routes/\n    drwxr-xr-x  2 root root   37 Oct  8 17:36 test/\n    -rw-r--r--  1 root root  449 Sep 28 22:58 utils.js\n    drwxr-xr-x  2 root root  103 Oct  8 17:36 views/\n\n\n\n### Configure\n\n    # pwd\n    /root/mongo-express/node_modules/mongo-express\n    # cp config.default.js config.js\n    # vi config.js\n\n    # diff config.default.js config.js\n    11c11\n    <     server: process.env.ME_CONFIG_MONGODB_SERVER || 'localhost',\n    ---\n    >     server: process.env.ME_CONFIG_MONGODB_SERVER || 'xxx.xxx.xxx.xxx',  <== MongoDB Server IP\n    31,33c31,33\n    <         database: 'test',                                               <== DELETE\n    <         username: 'user',                                               <\n    <         password: 'pass'                                                <\n    ---                                                                       <\n    >         database: '',                                                   <\n    >         username: '',                                                   <\n    >         password: ''                                                    <\n    43,44c43,44\n    <     adminUsername: '',                                                  <== ADD: MongoDB ID/PW\n    <     adminPassword: '',                                                  <\n    ---                                                                       <\n    >     adminUsername: 'admin',                                             <\n    >     adminPassword: '*****',                                             <\n    65c65\n    <     password: process.env.ME_CONFIG_BASICAUTH_PASSWORD || 'pass'        <== UPDATE: Basic Auth PW\n    ---                                                                       <\n    >     password: process.env.ME_CONFIG_BASICAUTH_PASSWORD || '*****'       <\n\n\n### Run\n\n    # pwd\n    /root/mongo-express/node_modules/mongo-express\n\n    # node app.js\n    Mongo Express server listening on port 8081 at 0.0.0.0\n    Database connected!\n    Admin Database connected\n    GET / 200 104.510 ms - 4622\n    GET /stylesheets/bootstrap.css 200 7.646 ms - 98983\n    GET /stylesheets/bootstrap-responsive.min.css 200 9.788 ms - 10518\n    GET /stylesheets/style.css 200 9.769 ms - 117\n    GET /javascripts/bootstrap.min.js 200 3.192 ms - 22323\n    GET /javascripts/jquery-1.7.2.min.js 200 3.032 ms - 94840\n    GET /images/glyphicons-halflings.png 200 1.519 ms - 13826\n    GET /db/admin 200 49.691 ms - 4554\n    ~~ \u7701\u7565 ~~\n    # ^C\n\nShell \u306b\u3057\u3066\u5e38\u6642\u8d77\u52d5\n\n    # cat mongo-express.sh\n    #!/bin/sh\n\n    NODE=\"/usr/local/bin/node\"\n    APP_JS=\"/root/mongo-express/node_modules/mongo-express/app.js\"\n\n    nohup ${NODE} ${APP_JS} &\n\n    exit\n\n\n## GUI\n\nhttp://xxx.xxx.xxx.xxx:8081\n\n![mongo_express01.png](https://qiita-image-store.s3.amazonaws.com/0/39751/eda87d22-4b81-2862-055e-02b7f68028dc.png)\n\n![mongo_express02.png](https://qiita-image-store.s3.amazonaws.com/0/39751/4eaf148f-5d37-f4f0-d421-2886bdc49c39.png)\n\n![mongo_express03.png](https://qiita-image-store.s3.amazonaws.com/0/39751/88d46011-49e9-8cee-7ed0-c69ad40473ea.png)\n\n## Reference\n\nhttps://github.com/andzdroid/mongo-express\n"}