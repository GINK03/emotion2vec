{"context": " More than 1 year has passed since last update.AngularJS \u3067 HTML5 \u306e Cache manifest \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u3066\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u3092 Application Cache \u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u3001\u3068\u3044\u3046\u306e\u3092\u8a66\u3057\u3066\u307f\u305f\u306e\u3067\u3001\u30e1\u30e2\u304c\u3066\u3089\u624b\u9806\u3092\u3053\u3053\u306b\u6b8b\u3057\u307e\u3059\u3002\n\u3061\u306a\u307f\u306b Application Cache \u306b\u3064\u3044\u3066\u306f\u3001\u3053\u306e\u30b5\u30a4\u30c8\u304c\u5206\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059\u3002\n\u21d2\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u521d\u3081\u3066\u4f7f\u3046\n\n\u524d\u63d0\n\n\u958b\u767a\u74b0\u5883 \u306f Mac OS X (Mavericks)\u3068\u3057\u307e\u3059\u3002\n\nYeoman \u3068 Yeoman \u306e generator-angular \u3092\u4f7f\u3044\u307e\u3059\u3002\n\n\n\u3082\u3057\u307e\u3060\u5165\u3063\u3066\u306a\u3051\u308c\u3070\u3001\u6b21\u306e\u3088\u3046\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n# npm install -g yo grunt-cli bower\n# npm install -g generator-angular\n\n\n\n\n\n\n\u624b\u9806\n\n\u2460 AngularJS\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u5b9f\u884c\n\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306b\u3066\u3001\n$ yo anguler --minsafe\n\n\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u805e\u304b\u308c\u308b\u306e\u3067\u3059\u304c\u3001\u4f55\u3067\u3082\u3044\u3044\u306e\u3067\u9069\u5f53\u306b\u9078\u629e\u3057\u307e\u3059\u3002\n\n\n\n\u96db\u578b\u306e\u751f\u6210\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u3068\u308a\u3042\u3048\u305a\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306b\u3066\u3001\n$ grunt serve\n\n\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u305f\u3089OK\u3002\n\n\n\n\n\u2461 Application Cache \u306e\u5c0e\u5165\n\n\nindex.html \u3068\u540c\u3058\u968e\u5c64\u306b\uff08\u3069\u3053\u3067\u3082\u3044\u3044\u306e\u3067\u3059\u304c\uff09\u3001\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u4eca\u56de\u306f\u3001AngularJS\u306e\u672c\u4f53\u30d5\u30a1\u30a4\u30eb\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u307f\u307e\u3059\u3002\n\u3010\u6ce8\u610f\u3011\u672c\u756a\u7a3c\u50cd\u6642\u306b\u306f\u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u5f8c\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u8a18\u8f09\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nsample.appcache\nCACHE MANIFEST\n# TODO: \u3053\u3053\u306b\u30b3\u30e1\u30f3\u30c8\u3084\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3092\u66f8\u304f\n\nCACHE:\n\nbower_components/angular/angular.js\n\nNETWORK:\n*\n\nFALLBACK:\n\n\n\n\u203b CACHE: \u30a8\u30ea\u30a2\u306f\u6b63\u898f\u8868\u73fe\u3092\u4f7f\u3048\u306a\u3044\u306e\u3067\u3001\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u3092\u5168\u3066\u8a18\u8f09\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u203b NETWORK: \u30a8\u30ea\u30a2\u306f\u9006\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u5168\u3066\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306f CACHE \u304b NETWORK \u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001* \u3092\u6307\u5b9a\u3057\u3066\u304a\u304f\u306e\u304c\u30bb\u30aa\u30ea\u30fc\u3089\u3057\u3044\u3067\u3059\u3002\n\n\n.htaccess \u306b\u3066\u3001\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306eHTTP\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u30b3\u30f3\u30c6\u30f3\u30c4\u30bf\u30a4\u30d7 text/cache-manifest \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n.htaccess\uff08\u5ff5\u306e\u305f\u3081\u78ba\u8a8d\uff09\nAddType text/cache-manifest      appcache manifest\n\n\n\n\nindex.html \u306e html \u30bf\u30b0\u90e8\u5206\u3067\u3001\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nindex.html\n<!--[if gt IE 8]><!--> <html class=\"no-js\"  manifest=\"sample.appcache\"> <!--<![endif]-->\n\n\n\u203b\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\uff08\u4eca\u56de\u3067\u3044\u3046\u3068\u3053\u306e index.html\uff09\u3082\u30ad\u30e3\u30c3\u30b7\u30e5\u5bfe\u8c61\u306b\u306a\u308b\u3001\u3068\u3044\u3046\u4ed5\u69d8\u306e\u3088\u3046\u3067\u3059\u3002\n\n\niOS \u306e Safari\uff1f\u3067\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304c\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u3092\u691c\u77e5\u3057\u306a\u3044\u4ed5\u69d8\u3089\u3057\u3044\u306e\u3067\u3001head \u30bf\u30b0\u306b\u6b21\u306e\u3088\u3046\u306b JavaScript \u3092\u4ed5\u8fbc\u3093\u3067\u66f4\u65b0\u3092\u691c\u77e5\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\u3067\u306a\u3044\u3068\u3001\u6c38\u9060\u306b\u7aef\u672b\u5074\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3067\u3082\u3001\u79c1\u306e\u7aef\u672b\uff08iOS 7.1.1\uff09\u306e Safari \u3067\u306f\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7d44\u307e\u306a\u304f\u3066\u3082\u3001\u8d77\u52d5\u6bce\u306b\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u3092\u78ba\u8a8d\u3057\u3066\u307e\u3057\u305f\u3002\n\n\nindex.html\n<script>\n  window.addEventListener('load', function(e) {\n    window.applicationCache.addEventListener('updateready', function(e) {\n      if (window.applicationCache.status == window.applicationCache.UPDATEREADY) {\n        window.applicationCache.swapCache();\n        window.location.reload();\n      }\n    }, false);\n    if (navigator.onLine) {\n      window.applicationCache.update();\n    }\n    window.addEventListener(\"online\", function() {\n      window.applicationCache.update();\n    }, false);\n  }, false);\n</script>\n\n\n\n\n\u5fc5\u9808\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001Grunt\u306e\u30bf\u30b9\u30af\u3082\u4fee\u6b63\u3057\u3066\u3001\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u305f\u3089\u30d6\u30e9\u30a6\u30b6\u3092\u30ea\u30ed\u30fc\u30c9\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nGruntfile.js\n  grunt.initConfig({\n\n    \u301c\n\n    watch: {\n      js: {\n        files: ['<%= yeoman.app %>/scripts/{,*/}*.js'],\n        tasks: ['newer:jshint:all'],\n        options: {\n          livereload: true\n        }\n      },\n      jsTest: {\n        files: ['test/spec/{,*/}*.js'],\n        tasks: ['newer:jshint:test', 'karma']\n      },\n      styles: {\n        files: ['<%= yeoman.app %>/styles/{,*/}*.css'],\n        tasks: ['newer:copy:styles', 'autoprefixer']\n      },\n      gruntfile: {\n        files: ['Gruntfile.js']\n      },\n      livereload: {\n        options: {\n          livereload: '<%= connect.options.livereload %>'\n        },\n        files: [\n          '<%= yeoman.app %>/{,*/}*.html',\n          '.tmp/styles/{,*/}*.css',\n          '<%= yeoman.app %>/images/{,*/}*.{png,jpg,jpeg,gif,webp,svg}',\n+          \"<%= yeoman.app %>/sample.appcache\"\n        ]\n      }\n    },\n\n\n\n\n\u307e\u305f\u3001\u30ea\u30ea\u30fc\u30b9\u5411\u3051\u306b\u30d3\u30eb\u30c9\u3057\u305f\u969b\u3001\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3082\u30ea\u30ea\u30fc\u30b9\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nGruntfile.js\n  grunt.initConfig({\n\n    \u301c\n\n    copy: {\n      dist: {\n        files: [{\n          expand: true,\n          dot: true,\n          cwd: '<%= yeoman.app %>',\n          dest: '<%= yeoman.dist %>',\n          src: [\n            '*.{ico,png,txt}',\n            '.htaccess',\n            '*.html',\n            'views/{,*/}*.html',\n            'bower_components/**/*',\n            'images/{,*/}*.{webp}',\n            'fonts/*',\n+            'sample.appcache'\n          ]\n        }, {\n          expand: true,\n          cwd: '.tmp/images',\n          dest: '<%= yeoman.dist %>/images',\n          src: ['generated/*']\n        }]\n      },\n      styles: {\n        expand: true,\n        cwd: '<%= yeoman.app %>/styles',\n        dest: '.tmp/styles/',\n        src: '{,*/}*.css'\n      }\n    },\n\n\n\n\n\n\u2462 \u52d5\u4f5c\u78ba\u8a8d\n\n\n$grunt serve \u3057\u3066\u30ed\u30fc\u30ab\u30eb\u306eWEB\u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u3001Chrome \u306e Developer Tools \u3067\u5404\u30d5\u30a1\u30a4\u30eb\u306e HTTP \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u53c2\u8003\u307e\u3067\u306b\u3001\u4e0b\u8a18\u306f Application Cache \u3092\u5c0e\u5165\u3059\u308b\u524d\u306e\u72b6\u614b\u3067\u3059\u3002\n\n\n\n\u4e0b\u8a18\u306f\u5c0e\u5165\u5f8c\u3067\u3059\u3002\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3067\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u3001\u6b21\u306e\u3088\u3046\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\n\n\u307e\u305f Chrome \u3067\u306f\u3001\u6b21\u306eURL\u3092\u30d6\u30e9\u30a6\u30b6\u306b\u5165\u529b\u3059\u308b\u3053\u3068\u3067\u3001Application Cache \u306e\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\nchrome://appcache-internals/\n\n\n\n\n\u307b\u304b\n\n\u79c1\u306eAndorid\u7aef\u672b\uff08GALAXY S II WiMAX\uff1aISW11SC\uff09\u306e\u6a19\u6e96\u30d6\u30e9\u30a6\u30b6\uff08Android 4.0.4\uff09\u3067\u306f\u3001window.applicationCache.\u7cfb\u3084 window.location.reload()\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f.. \u30d6\u30e9\u30a6\u30b6\u4f9d\u5b58\u304c\u3042\u308b\u306e\u304b\u306a\u3042\u3002\n\u4eca\u56de\u306e\u30bd\u30fc\u30b9\u306fGitHub\u306b\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\n\nhttps://github.com/hkusu/AngularJS_appcache_demo\n\n\n\n\nAngularJS \u3067 HTML5 \u306e Cache manifest \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u3066\u9759\u7684\u30ea\u30bd\u30fc\u30b9\u3092 Application Cache \u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3059\u308b\u3001\u3068\u3044\u3046\u306e\u3092\u8a66\u3057\u3066\u307f\u305f\u306e\u3067\u3001\u30e1\u30e2\u304c\u3066\u3089\u624b\u9806\u3092\u3053\u3053\u306b\u6b8b\u3057\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306b Application Cache \u306b\u3064\u3044\u3066\u306f\u3001\u3053\u306e\u30b5\u30a4\u30c8\u304c\u5206\u304b\u308a\u3084\u3059\u304b\u3063\u305f\u3067\u3059\u3002\n\u21d2[\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u521d\u3081\u3066\u4f7f\u3046](http://www.html5rocks.com/ja/tutorials/appcache/beginner/)\n\n# \u524d\u63d0\n\n- \u958b\u767a\u74b0\u5883 \u306f Mac OS X (Mavericks)\u3068\u3057\u307e\u3059\u3002\n- Yeoman \u3068 Yeoman \u306e generator-angular \u3092\u4f7f\u3044\u307e\u3059\u3002\n\t- \u3082\u3057\u307e\u3060\u5165\u3063\u3066\u306a\u3051\u308c\u3070\u3001\u6b21\u306e\u3088\u3046\u306b\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\t\t```\n\t\t# npm install -g yo grunt-cli bower\n\t\t# npm install -g generator-angular\n\t\t```\n\n# \u624b\u9806\n\n## \u2460 AngularJS\u306e\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u5b9f\u884c\n\n- \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306b\u3066\u3001\n\n\t```shell\n\t$ yo anguler --minsafe\n\t```\n\n- \u4e0b\u8a18\u306e\u3088\u3046\u306b\u805e\u304b\u308c\u308b\u306e\u3067\u3059\u304c\u3001\u4f55\u3067\u3082\u3044\u3044\u306e\u3067\u9069\u5f53\u306b\u9078\u629e\u3057\u307e\u3059\u3002\n\n\t![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-06-13 11.53.31.png](https://qiita-image-store.s3.amazonaws.com/0/35733/c797261d-8f19-2000-c6d3-b9438735dfba.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-06-13 11.53.31.png\")\n\n- \u96db\u578b\u306e\u751f\u6210\u304c\u7d42\u308f\u3063\u305f\u3089\u3001\u3068\u308a\u3042\u3048\u305a\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306b\u3066\u3001\n\n\t```shell\n\t$ grunt serve\n\t```\n\n- \u4e0b\u8a18\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u305f\u3089OK\u3002\n\n\t![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-06-13 11.57.51.png](https://qiita-image-store.s3.amazonaws.com/0/35733/abee4e05-22d3-4d6e-d7d8-e17622ea5f45.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-06-13 11.57.51.png\")\n\n## \u2461 Application Cache \u306e\u5c0e\u5165\n\n- `index.html` \u3068\u540c\u3058\u968e\u5c64\u306b\uff08\u3069\u3053\u3067\u3082\u3044\u3044\u306e\u3067\u3059\u304c\uff09\u3001\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u65b0\u898f\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\t- \u4eca\u56de\u306f\u3001AngularJS\u306e\u672c\u4f53\u30d5\u30a1\u30a4\u30eb\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u307f\u307e\u3059\u3002\n\t- \u3010\u6ce8\u610f\u3011\u672c\u756a\u7a3c\u50cd\u6642\u306b\u306f\u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u5f8c\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u8a18\u8f09\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\t```sample.appcache\n\tCACHE MANIFEST\n\t# TODO: \u3053\u3053\u306b\u30b3\u30e1\u30f3\u30c8\u3084\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u3092\u66f8\u304f\n\t\n\tCACHE:\n\t\n\tbower_components/angular/angular.js\n\t\n\tNETWORK:\n\t*\n\t\n\tFALLBACK:\n\t\n\t```\n\n\t\u203b `CACHE:` \u30a8\u30ea\u30a2\u306f\u6b63\u898f\u8868\u73fe\u3092\u4f7f\u3048\u306a\u3044\u306e\u3067\u3001\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u3092\u5168\u3066\u8a18\u8f09\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\t\u203b `NETWORK:` \u30a8\u30ea\u30a2\u306f\u9006\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u5168\u3066\u306eHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u306f `CACHE` \u304b `NETWORK` \u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001`*` \u3092\u6307\u5b9a\u3057\u3066\u304a\u304f\u306e\u304c\u30bb\u30aa\u30ea\u30fc\u3089\u3057\u3044\u3067\u3059\u3002\n\n- `.htaccess` \u306b\u3066\u3001\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306eHTTP\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u30b3\u30f3\u30c6\u30f3\u30c4\u30bf\u30a4\u30d7 `text/cache-manifest` \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\t```apache:.htaccess\uff08\u5ff5\u306e\u305f\u3081\u78ba\u8a8d\uff09\n\tAddType text/cache-manifest      appcache manifest\n\t```\n\n- `index.html` \u306e `html` \u30bf\u30b0\u90e8\u5206\u3067\u3001\u5148\u307b\u3069\u4f5c\u6210\u3057\u305f\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\t```html:index.html\n\t<!--[if gt IE 8]><!--> <html class=\"no-js\" \tmanifest=\"sample.appcache\"> <!--<![endif]-->\n\t```\n\n\t\u203b\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\uff08\u4eca\u56de\u3067\u3044\u3046\u3068\u3053\u306e `index.html`\uff09\u3082\u30ad\u30e3\u30c3\u30b7\u30e5\u5bfe\u8c61\u306b\u306a\u308b\u3001\u3068\u3044\u3046\u4ed5\u69d8\u306e\u3088\u3046\u3067\u3059\u3002\n\n- iOS \u306e Safari\uff1f\u3067\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u304c\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u3092\u691c\u77e5\u3057\u306a\u3044\u4ed5\u69d8\u3089\u3057\u3044\u306e\u3067\u3001`head` \u30bf\u30b0\u306b\u6b21\u306e\u3088\u3046\u306b JavaScript \u3092\u4ed5\u8fbc\u3093\u3067\u66f4\u65b0\u3092\u691c\u77e5\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\t- \u3067\u306a\u3044\u3068\u3001\u6c38\u9060\u306b\u7aef\u672b\u5074\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u66f4\u65b0\u3055\u308c\u306a\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\t- \u3067\u3082\u3001\u79c1\u306e\u7aef\u672b\uff08iOS 7.1.1\uff09\u306e Safari \u3067\u306f\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7d44\u307e\u306a\u304f\u3066\u3082\u3001\u8d77\u52d5\u6bce\u306b\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u3092\u78ba\u8a8d\u3057\u3066\u307e\u3057\u305f\u3002\n\n\t```javascript:index.html\n\t<script>\n\t  window.addEventListener('load', function(e) {\n\t    window.applicationCache.addEventListener('updateready', function(e) {\n\t      if (window.applicationCache.status == window.applicationCache.UPDATEREADY) {\n\t        window.applicationCache.swapCache();\n\t        window.location.reload();\n\t      }\n\t    }, false);\n\t    if (navigator.onLine) {\n\t      window.applicationCache.update();\n\t    }\n\t    window.addEventListener(\"online\", function() {\n\t      window.applicationCache.update();\n\t    }, false);\n\t  }, false);\n\t</script>\n\t```\n\n- \u5fc5\u9808\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001Grunt\u306e\u30bf\u30b9\u30af\u3082\u4fee\u6b63\u3057\u3066\u3001\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u305f\u3089\u30d6\u30e9\u30a6\u30b6\u3092\u30ea\u30ed\u30fc\u30c9\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\t```diff:Gruntfile.js\n\t  grunt.initConfig({\n\t\n\t    \u301c\n\t\n\t    watch: {\n\t      js: {\n\t        files: ['<%= yeoman.app %>/scripts/{,*/}*.js'],\n\t        tasks: ['newer:jshint:all'],\n\t        options: {\n\t          livereload: true\n\t        }\n\t      },\n\t      jsTest: {\n\t        files: ['test/spec/{,*/}*.js'],\n\t        tasks: ['newer:jshint:test', 'karma']\n\t      },\n\t      styles: {\n\t        files: ['<%= yeoman.app %>/styles/{,*/}*.css'],\n\t        tasks: ['newer:copy:styles', 'autoprefixer']\n\t      },\n\t      gruntfile: {\n\t        files: ['Gruntfile.js']\n\t      },\n\t      livereload: {\n\t        options: {\n\t          livereload: '<%= connect.options.livereload %>'\n\t        },\n\t        files: [\n\t          '<%= yeoman.app %>/{,*/}*.html',\n\t          '.tmp/styles/{,*/}*.css',\n\t          '<%= yeoman.app %>/images/{,*/}*.{png,jpg,jpeg,gif,webp,svg}',\n\t+          \"<%= yeoman.app %>/sample.appcache\"\n\t        ]\n\t      }\n\t    },\n\t```\n\n- \u307e\u305f\u3001\u30ea\u30ea\u30fc\u30b9\u5411\u3051\u306b\u30d3\u30eb\u30c9\u3057\u305f\u969b\u3001\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3082\u30ea\u30ea\u30fc\u30b9\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30b3\u30d4\u30fc\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\t```diff:Gruntfile.js\n\t  grunt.initConfig({\n\t\n\t    \u301c\n\t\n\t    copy: {\n\t      dist: {\n\t        files: [{\n\t          expand: true,\n\t          dot: true,\n\t          cwd: '<%= yeoman.app %>',\n\t          dest: '<%= yeoman.dist %>',\n\t          src: [\n\t            '*.{ico,png,txt}',\n\t            '.htaccess',\n\t            '*.html',\n\t            'views/{,*/}*.html',\n\t            'bower_components/**/*',\n\t            'images/{,*/}*.{webp}',\n\t            'fonts/*',\n\t+            'sample.appcache'\n\t          ]\n\t        }, {\n\t          expand: true,\n\t          cwd: '.tmp/images',\n\t          dest: '<%= yeoman.dist %>/images',\n\t          src: ['generated/*']\n\t        }]\n\t      },\n\t      styles: {\n\t        expand: true,\n\t        cwd: '<%= yeoman.app %>/styles',\n\t        dest: '.tmp/styles/',\n\t        src: '{,*/}*.css'\n\t      }\n\t    },\n\t```\n\n## \u2462 \u52d5\u4f5c\u78ba\u8a8d\n\n- `$grunt serve` \u3057\u3066\u30ed\u30fc\u30ab\u30eb\u306eWEB\u30b5\u30fc\u30d0\u3092\u7acb\u3061\u4e0a\u3052\u3001Chrome \u306e Developer Tools \u3067\u5404\u30d5\u30a1\u30a4\u30eb\u306e HTTP \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u53c2\u8003\u307e\u3067\u306b\u3001\u4e0b\u8a18\u306f Application Cache \u3092\u5c0e\u5165\u3059\u308b\u524d\u306e\u72b6\u614b\u3067\u3059\u3002\n\n\t![a84fad72-b4ca-3f0f-8fbe-38c6dd3ac08d.png](https://qiita-image-store.s3.amazonaws.com/0/35733/38a42766-895a-97c6-01b1-2d7e0ababbaa.png \"a84fad72-b4ca-3f0f-8fbe-38c6dd3ac08d.png\")\n\n- \u4e0b\u8a18\u306f\u5c0e\u5165\u5f8c\u3067\u3059\u3002\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3067\u6307\u5b9a\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u304c\u3001\u6b21\u306e\u3088\u3046\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u304b\u3089\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\t![96e54ed4-8018-07c3-0d15-443df948b252.png](https://qiita-image-store.s3.amazonaws.com/0/35733/ebbb08ac-e6dd-f6d4-392f-61a575021869.png \"96e54ed4-8018-07c3-0d15-443df948b252.png\")\n\n- \u307e\u305f Chrome \u3067\u306f\u3001\u6b21\u306eURL\u3092\u30d6\u30e9\u30a6\u30b6\u306b\u5165\u529b\u3059\u308b\u3053\u3068\u3067\u3001Application Cache \u306e\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\n\t`chrome://appcache-internals/`\n\n\t![\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-06-13 18.18.57.png](https://qiita-image-store.s3.amazonaws.com/0/35733/4633bcca-15b1-d7ff-e38e-336bb899523b.png \"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2014-06-13 18.18.57.png\")\n\n# \u307b\u304b\n\n- \u79c1\u306eAndorid\u7aef\u672b\uff08GALAXY S II WiMAX\uff1aISW11SC\uff09\u306e\u6a19\u6e96\u30d6\u30e9\u30a6\u30b6\uff08Android 4.0.4\uff09\u3067\u306f\u3001`window.applicationCache.`\u7cfb\u3084 `window.location.reload()`\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3067\u3057\u305f.. \u30d6\u30e9\u30a6\u30b6\u4f9d\u5b58\u304c\u3042\u308b\u306e\u304b\u306a\u3042\u3002\n- \u4eca\u56de\u306e\u30bd\u30fc\u30b9\u306fGitHub\u306b\u7f6e\u3044\u3066\u304a\u304d\u307e\u3059\u3002\n\t- https://github.com/hkusu/AngularJS_appcache_demo\n\n", "tags": ["AngularJS", "JavaScript", "yeoman"]}