{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\n[Django] Generic editing views\u306b\u3064\u3044\u3066 [1]\u306e\u7d9a\u304d\u3067\u3059\u3002\n\nUpdateView\n\u66f4\u65b0\u3067\u3059\u3002\n\npolls/view.py\nfrom django.views.generic.edit import UpdateView\n\nclass UpdateQuestionView(UpdateView):\n\n    model = Question\n    fields = ['question_text', 'pub_date']\n\n\ntemplate\u306f\u65b0\u898f\u8ffd\u52a0\u3068\u540c\u3058question_form.html\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nurls.py\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\u66f4\u65b0\u306e\u5834\u5408\u306fpk\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\npolls/urls.py\nurlpatterns = [\n    url(r'^(?P<pk>[0-9]+)/update/$', views.UpdateQuestionView.as_view(), name='update'),\n]\n\n\nhttp://127.0.0.1:8000/polls/1/update/\u3000\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002pk=1\u306e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u66f4\u65b0\u3057\u3066\u3001Create\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\nDetail\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\nDeleteView\n\u6700\u5f8c\u306b\u524a\u9664\u3067\u3059\u3002\n\u307e\u305a\u306fview.py\u3067\u3059\u3002\u524a\u9664\u304c\u6210\u529f\u3057\u305f\u5834\u5408\u306b\u79fb\u52d5\u3059\u308bview\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\npolls/view.py\nfrom django.core.urlresolvers import reverse_lazy\nfrom django.views.generic.edit import DeleteView\n\nclass DeleteQuestionView(DeleteView):\n\n    model = Question\n    success_url = reverse_lazy('polls:index')\n\n\n\u524a\u9664\u3092\u3057\u3066\u3088\u3044\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306etemplate\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u3053\u308c\u3082\u540d\u524d\u3092\u6307\u5b9a\u3057\u306a\u3044\u306a\u3089\u3001[model\u540d]__confirm_delete.html\u3068\u3044\u3046\u540d\u524d\u306b\u3057\u307e\u3059\u3002\n\ntemplates/polls/question_confirm_delete.html\n<form action=\"\" method=\"post\">{% csrf_token %}\n    <p>Are you sure you want to delete \"{{ object }}\"?</p>\n    <input type=\"submit\" value=\"Confirm\" />\n</form>\n\n\nurls.py\u306b\u3082\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\npolls/urls.py\nfrom django.conf.urls import url\n\nfrom . import views\n\napp_name = 'polls'\nurlpatterns = [\n    url(r'^$', views.IndexView.as_view(), name='index'),\n    url(r'^(?P<pk>[0-9]+)/$', views.DetailView.as_view(), name='detail'),\n    url(r'^add$', views.CreateQuestionView.as_view(), name='add'),\n    url(r'^(?P<pk>[0-9]+)/update/$', views.UpdateQuestionView.as_view(), name='update'),\n    url(r'^(?P<pk>[0-9]+)/delete/$', views.DeleteQuestionView.as_view(), name='delete'),\n]\n\n\nhttp://127.0.0.1:8000/polls/3/delete/\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\u78ba\u8a8d\u7528\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u306e\u3067\u3001Confirm\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\nview.py\u3067\u6307\u5b9a\u3057\u305f\u4e00\u89a7\u753b\u9762\u306bpk=3\u306e\u30c7\u30fc\u30bf\u304c\u6d88\u3048\u305f\u72b6\u614b\u3067\u9077\u79fb\u3057\u307e\u3059\u3002\n\n\n\u307e\u3068\u3081\nmodel\u306e\u6307\u5b9a\u3060\u3051\u3067SQL\u3084ORM\u306e\u8a18\u8ff0\u7b49\u306f\u5fc5\u8981\u306a\u304f\u7c21\u5358\u306b\u66f4\u65b0\u7cfb\u306e\u51e6\u7406\u3082\u4f5c\u308c\u307e\u3057\u305f\u3002\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306a\u3069\u3092\u7d20\u65e9\u304f\u4f5c\u308a\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u3068\u3066\u3082\u5f79\u306b\u7acb\u3064\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u6700\u5f8c\u306b\n\u3053\u308c\u306f2015 tech-yuruyuru \u30a2\u30c9\u30d9\u30f3\u30c8\u30ab\u30ec\u30f3\u30c0\u30fc\u306e11\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n# \u306f\u3058\u3081\u306b\n[\\[Django\\] Generic editing views\u306b\u3064\u3044\u3066 \\[1\\]](http://qiita.com/KamekoKameKame/items/dbc4168581341897ec78)\u306e\u7d9a\u304d\u3067\u3059\u3002\n\n## UpdateView\n\n\u66f4\u65b0\u3067\u3059\u3002\n\n```django:polls/view.py\nfrom django.views.generic.edit import UpdateView\n\nclass UpdateQuestionView(UpdateView):\n\n    model = Question\n    fields = ['question_text', 'pub_date']\n```\n\ntemplate\u306f\u65b0\u898f\u8ffd\u52a0\u3068\u540c\u3058question_form.html\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\nurls.py\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\u66f4\u65b0\u306e\u5834\u5408\u306fpk\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```django:polls/urls.py\nurlpatterns = [\n    url(r'^(?P<pk>[0-9]+)/update/$', views.UpdateQuestionView.as_view(), name='update'),\n]\n```\n\n[http://127.0.0.1:8000/polls/1/update/](1)\u3000\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002pk=1\u306e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u66f4\u65b0\u3057\u3066\u3001Create\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n![update2.png](https://qiita-image-store.s3.amazonaws.com/0/21492/01884a29-7f0a-8c88-082f-4a53bc8c4e2d.png)\n\nDetail\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n![update3.png](https://qiita-image-store.s3.amazonaws.com/0/21492/8f29952c-61c3-60cb-93df-b3c8c6653503.png)\n\n## DeleteView\n\n\u6700\u5f8c\u306b\u524a\u9664\u3067\u3059\u3002\n\n\u307e\u305a\u306fview.py\u3067\u3059\u3002\u524a\u9664\u304c\u6210\u529f\u3057\u305f\u5834\u5408\u306b\u79fb\u52d5\u3059\u308bview\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```django:polls/view.py\nfrom django.core.urlresolvers import reverse_lazy\nfrom django.views.generic.edit import DeleteView\n\nclass DeleteQuestionView(DeleteView):\n\n    model = Question\n    success_url = reverse_lazy('polls:index')\n```\n\n\u524a\u9664\u3092\u3057\u3066\u3088\u3044\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306etemplate\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u3053\u308c\u3082\u540d\u524d\u3092\u6307\u5b9a\u3057\u306a\u3044\u306a\u3089\u3001[model\u540d]__confirm_delete.html\u3068\u3044\u3046\u540d\u524d\u306b\u3057\u307e\u3059\u3002\n\n```django:templates/polls/question_confirm_delete.html\n<form action=\"\" method=\"post\">{% csrf_token %}\n    <p>Are you sure you want to delete \"{{ object }}\"?</p>\n    <input type=\"submit\" value=\"Confirm\" />\n</form>\n```\n\nurls.py\u306b\u3082\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```django:polls/urls.py\nfrom django.conf.urls import url\n\nfrom . import views\n\napp_name = 'polls'\nurlpatterns = [\n    url(r'^$', views.IndexView.as_view(), name='index'),\n    url(r'^(?P<pk>[0-9]+)/$', views.DetailView.as_view(), name='detail'),\n    url(r'^add$', views.CreateQuestionView.as_view(), name='add'),\n    url(r'^(?P<pk>[0-9]+)/update/$', views.UpdateQuestionView.as_view(), name='update'),\n    url(r'^(?P<pk>[0-9]+)/delete/$', views.DeleteQuestionView.as_view(), name='delete'),\n]\n```\n\n[http://127.0.0.1:8000/polls/3/delete/](http://127.0.0.1:8000/polls/3/delete/)\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\u78ba\u8a8d\u7528\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u306e\u3067\u3001Confirm\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u307e\u3059\u3002\n\n![delete1.png](https://qiita-image-store.s3.amazonaws.com/0/21492/f5e2d772-36c7-4fad-e91f-9ab1de62d44c.png)\n\nview.py\u3067\u6307\u5b9a\u3057\u305f\u4e00\u89a7\u753b\u9762\u306bpk=3\u306e\u30c7\u30fc\u30bf\u304c\u6d88\u3048\u305f\u72b6\u614b\u3067\u9077\u79fb\u3057\u307e\u3059\u3002\n\n![delete2.png](https://qiita-image-store.s3.amazonaws.com/0/21492/cc23a661-ddd4-d33b-542d-9ea22995ceaf.png)\n\n# \u307e\u3068\u3081\nmodel\u306e\u6307\u5b9a\u3060\u3051\u3067SQL\u3084ORM\u306e\u8a18\u8ff0\u7b49\u306f\u5fc5\u8981\u306a\u304f\u7c21\u5358\u306b\u66f4\u65b0\u7cfb\u306e\u51e6\u7406\u3082\u4f5c\u308c\u307e\u3057\u305f\u3002\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u306a\u3069\u3092\u7d20\u65e9\u304f\u4f5c\u308a\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u3068\u3066\u3082\u5f79\u306b\u7acb\u3064\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n## \u6700\u5f8c\u306b\n\u3053\u308c\u306f[2015 tech-yuruyuru \u30a2\u30c9\u30d9\u30f3\u30c8\u30ab\u30ec\u30f3\u30c0\u30fc](http://connpass.com/event/22759/)\u306e11\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\u3002\n", "tags": ["Django"]}