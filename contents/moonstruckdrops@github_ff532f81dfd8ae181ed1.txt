{"context": "\u3053\u3093\u306b\u3061\u306f\u3002Livesense Advent Calendar 2016\u306e3\u65e5\u76ee\u3092\u62c5\u5f53\u3057\u307e\u3059\u30a8\u30f3\u30b8\u30cb\u30a2\u306ekurobara\u3067\u3059\u3002\n\u30ea\u30d6\u30bb\u30f3\u30b9\u3067\u306f\u3001\u4f1a\u793e\u306e\u53e3\u30b3\u30df\u30b5\u30a4\u30c8\u3067\u3042\u308b\u8ee2\u8077\u4f1a\u8b70\u306e\u30e1\u30c7\u30a3\u30a2\u30c1\u30fc\u30e0\u306b\u6240\u5c5e\u3057\u3066\u3044\u307e\u3059\u3002\n\u8ee2\u8077\u4f1a\u8b70\u30e1\u30c7\u30a3\u30a2\u3092\u958b\u767a\u3059\u308b\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u95a2\u9023\u30d7\u30ed\u30c0\u30af\u30c8\u3092\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u3002\n\u6700\u8fd1\u3001\u5bd2\u3044\u3067\u3059\u3088\u306d\u3002\u7686\u69d8\u3001\u3054\u81ea\u611b\u4e0b\u3055\u3044mm\n\n\u3054\u5b58\u77e5\u3067\u3057\u305f\u304b\uff1f\n\n\u4eca\u66f4\u3001Raspberry Pi\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u8a18\u4e8b\uff1f\u3068\u8a00\u308f\u308c\u308b\u3068\u5fc3\u82e6\u3057\u3044\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u30fb\u30fb\u30fb\n\u4e00\u6614\u524d\u306b\u306fPidora\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u304c\u30012014\u5e74\u6642\u70b9\u3067\u66f4\u65b0\u304c\u6b62\u307e\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u3002\u3002\u3002\n\u3057\u304b\u3057\u306a\u304c\u3089\u3001Fedora\u306e\u30b5\u30a4\u30c8\u306b\u76ee\u3092\u5411\u3051\u308b\u3068arm\u5411\u3051\u306eimage\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6c17\u3065\u304d\u307e\u3059\n\u3064\u307e\u308a\u3001\u3084\u308a\u65b9\u6b21\u7b2c\u3067\u306f\u3001Raspberry Pi\u3067\u52d5\u4f5c\u3055\u305b\u3089\u308c\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\n\n#\u3000\u7d44\u307f\u8fbc\u307f\u3084\u3089Fedora\u754c\u9688\u306e\u4eba\u305f\u3061\u306f\u3054\u5b58\u77e5\u3067\u3057\u3087\u3046\u304c\u30fb\u30fb\u30fb\n\n\u4f55\u6545\u3059\u308b\u306e\u304b?\n\n\nRedHat\u7cfbLinux\u306b\u5bfe\u3059\u308b\u611b(\u3042\u308b\u306e\u304b\u306a\uff1f)\n\u4eba\u3068\u306f\u9055\u3046Raspberry Pi\u7528OS\u3092\u4f7f\u3063\u3066\u308b\u306e\u3067\u30c9\u30e4\u308c\u308b(\u91cd\u8981)\n\u5358\u7d14\u306b\u4ed6\u3068\u9055\u3046\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3067\u3001\u6280\u8853\u7684\u306b\u9762\u767d\u3044(\u304b\u3082...)\n\nRaspberry Pi\u3067\u52d5\u304b\u3059\u306a\u3089ArchLinux\u3067\u3082\u5168\u7136\u30a4\u30b1\u3066\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3088\n\n\u4ee5\u964d\u306e\u5185\u5bb9\u306f\u3001\u81ea\u5df1\u8cac\u4efb\u3067\u304a\u9858\u3044\u3057\u307e\u3059mm\n\u8a66\u3057\u3066\u307f\u3066\u751f\u3058\u305f\u3042\u3089\u3086\u308b\u640d\u5bb3\u7b49\u306b\u3064\u3044\u3066\u3082\u3001\u7406\u7531\u306e\u5982\u4f55\u306b\u95a2\u308f\u3089\u305a\u3001\n\u4e00\u5207\u8cac\u4efb\u3092\u8ca0\u3048\u307e\u305b\u3093\u306e\u3067\u3042\u3057\u304b\u3089\u305a\u3054\u4e86\u627f\u4e0b\u3055\u3044mm\nRaspberry Pi\u306e\u56fa\u6709\u6a5f\u80fd(\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u304b)\u307f\u305f\u3044\u306a\u306e\u306f\u4e00\u5207\u4f7f\u3048\u306a\u3044\u306e\u3067\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\n\u5fc5\u8981\u306a\u3082\u306e\n\n\n\u4f5c\u696d\u7528Linux(\u4eca\u56de\u306fCentOS7\u3067\u5b9f\u65bd)\nRaspberry Pi2ModelB(\u624b\u5143\u306e\u3082\u306e)\u3068SD\u30ab\u30fc\u30c9\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3001\u96fb\u6e90\u3001\u30e2\u30cb\u30bf\u30fc\nFedora\u306eimage\nRaspberry Pi\u306efirmware\n\n\n# \u5076\u3005\u3001\u624b\u5143\u306b\u3042\u3063\u305fLinux\u304cCentOS7\u3060\u3063\u305f\u3060\u3051\u3067\u3059> <\n\n\u5fc5\u8981\u306a\u3053\u3068\u3092\u6574\u7406\n\n\nRaspberry Pi\u306efirmware\u3068Raspberry Pi\u306e\u6a5f\u80fd\u8a2d\u5b9a(config.txt)\u5165\u308a\u306eboot\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u4f5c\u6210\nFedora\u306eimage\u3092\u5c55\u958b\u3057\u3001\u5c55\u958b\u3057\u305f\u4e2d\u306bfirmware\u3068\u6a5f\u80fd\u5b9f\u88c5\u3092\u8ffd\u52a0\u3001\u305d\u306e\u5f8cimage\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\n\u8d77\u52d5\u8a2d\u5b9a\u306b\u5fc5\u8981\u306afstab\u3068\u304b\u3001root\u306essh\u3068\u304b\u306e\u8a2d\u5b9a\n\n# \u3042\u307e\u308a\u826f\u304f\u306a\u3044\u304c\u3001\u30b4\u30ea\u62bc\u3057\u3059\u308b\u306a\u3089raspbian\u304c\u5165\u3063\u305f\u9818\u57df\u306b\u9069\u5f53\u306bfedora\u306eimage\u66f8\u304d\u8fbc\u3093\u3067\u3001\u5143\u306efstab\u3084\u3089\u8d77\u52d5\u306b\u5fc5\u8981\u306a\u3082\u306e\u3068\u304b\u3001firmware\u3092\u5165\u308c\u8fbc\u3081\u3070\u6848\u5916\u3067\u304d\u308b\u306e\u304b\u3082\u30fb\u30fb\u30fb\n\n\u5fc5\u8981\u306a\u3082\u306e\u6e96\u5099\n\nFedora\u306eimage\u53d6\u5f97\nimage\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u9069\u5b9c\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\n$ wget https://download.fedoraproject.org/pub/fedora/linux/releases/25/Spins/armhfp/images/Fedora-Minimal-armhfp-25-1.3-sda.raw.xz\n\nRaspberry Pi\u306efirmware\u306e\u53d6\u5f97\n\u7d50\u69cb\u30c7\u30ab\u30a4\u306e\u3067\u3001\u6700\u65b0\u306e\u3082\u306e\u304c\u3042\u308c\u3070\u3044\u3044\u3084\u7406\u8ad6\n$ git clone https://github.com/raspberrypi/firmware.git  --depth 1\n\n\nboot\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n\nimage\u9818\u57df\u4f5c\u6210\n\u9818\u57df\u30b5\u30a4\u30ba\u306f\u597d\u304d\u306b\u6c7a\u3081\u3066\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f59\u88d5\u3092\u898b\u3066200MB\u306b\u3057\u307e\u3057\u305f\n$ truncate -s 200MB boot.img\n\n\u30ea\u30e0\u30fc\u30d0\u30d6\u30eb\u30e1\u30c7\u30a3\u30a2\u7528\u306bFAT/FAT32\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n$ mkfs.fat boot.img\nmkfs.fat 3.0.20 (12 Jun 2013)\n\nboot.img\u306b\u8ffd\u52a0\n\u4f5c\u6210\u3057\u305fboot.img\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3001raspberry pi\u7528\u306eboot\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\nconfig.txt\u306f\u3053\u3061\u3089\u306b\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u9069\u5b9c\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\n# raspibian\u304c\u3042\u308b\u306a\u3089\u3070\u305d\u3053\u304b\u3089\u6301\u3063\u3066\u304f\u308b\u306e\u304c\u5b89\u724c\u304b\u3082\n$ mkdir work\n$ sudo mount -o loop boot.img work\n$ sudo cp -Rf firmware/boot/* work/.\n$ sudo cp -f config.txt work/.\n\n\u56e0\u307f\u306b\u3001NOOBS\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305fraspbian\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u6b86\u3069\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3055\u308c\u3066\u304a\u308a\u3001\u4e0b\u8a18\u306e\u307f\u6709\u52b9\u3067\u3057\u305f\n# Enable audio (loads snd_bcm2835)\ndtparam=audio=on\n\n# NOOBS Auto-generated Settings:\nhdmi_force_hotplug=1\nstart_x=0\n\n\u3053\u308c\u3067boot\u7528\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3068\u4e2d\u8eab\u306e\u30d5\u30a1\u30a4\u30eb\u914d\u5099\u8a2d\u5b9a\u306f\u7d42\u308f\u308a\n\nOS\u7528\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n\nimage\u306e\u4e2d\u8eab\u3092\u5c55\u958b\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\nboot\u3084\u3089swap\u3084\u3089\u306f\u4e0d\u8981\u306a\u306e\u3067\u3001\u4eca\u56de\u306f\u629c\u3044\u3066\u3057\u307e\u3044\u7d14\u7c8b\u306aOS\u306e\u95a2\u9023\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u306b\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u306a\u306e\u3067\u3001\u305d\u308c\u4ee5\u5916\u306e\u9818\u57df\u3092\u8aad\u307f\u98db\u3070\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3image\u3092\u4f5c\u6210\u3057\u307e\u3059\n$ fdisk Fedora-Minimal-armhfp-25-1.3-sda.raw\nWelcome to fdisk (util-linux 2.23.2).\n\nChanges will remain in memory only, until you decide to write them.\nBe careful before using the write command.\n\n\n\u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): p\n\nDisk Fedora-Minimal-armhfp-25-1.3-sda.raw: 2177 MB, 2177892352 bytes, 4253696 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8\nDisk label type: dos\n\u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50: 0x0fbf13bf\n\n                         \u30c7\u30d0\u30a4\u30b9 \u30d6\u30fc\u30c8      \u59cb\u70b9        \u7d42\u70b9     \u30d6\u30ed\u30c3\u30af   Id  \u30b7\u30b9\u30c6\u30e0\nFedora-Minimal-armhfp-25-1.3-sda.raw1            2048       61439       29696    c  W95 FAT32 (LBA)\nFedora-Minimal-armhfp-25-1.3-sda.raw2   *       61440     1060863      499712   83  Linux\nFedora-Minimal-armhfp-25-1.3-sda.raw3         1060864     1560575      249856   82  Linux swap / Solaris\nFedora-Minimal-armhfp-25-1.3-sda.raw4         1560576     4059135     1249280   83  Linux\n$ dd if=Fedora-Minimal-armhfp-25-1.3-sda.raw bs=512 skip=1560576 of=fedora.img\n2693120+0 \u30ec\u30b3\u30fc\u30c9\u5165\u529b\n2693120+0 \u30ec\u30b3\u30fc\u30c9\u51fa\u529b\n1378877440 \u30d0\u30a4\u30c8 (1.4 GB) \u30b3\u30d4\u30fc\u3055\u308c\u307e\u3057\u305f\u3001 2.29156 \u79d2\u3001 602 MB/\u79d2\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u62e1\u5f35\n1.4GB\u3057\u304b\u7121\u3044\u305f\u3081\u3001\u62e1\u5f35\u3092\u884c\u3044\u307e\u3059\n32GB\u306eSD\u30ab\u30fc\u30c9\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u5206\u3092\u8a2d\u5b9a\u3057\u307e\u3059\n$ resize2fs fedora.img 29500M\nresize2fs 1.42.9 (28-Dec-2013)\nResizing the filesystem on fedora.img to 7552000 (4k) blocks.\nThe filesystem on fedora.img is now 7552000 blocks long.\n$ truncate -s 29500M fedora.img\n\n\u30de\u30a6\u30f3\u30c8\nfstab\u5909\u66f4\u3084root\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u3084firmware\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30de\u30a6\u30f3\u30c8\u3059\u308b\n$ sudo mount -o loop fedora.img work\n\n\u30e2\u30b8\u30e5\u30fc\u30eb\u8ffd\u52a0\n\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u308b\u304c\u3001fedora\u304carm\u7528\u3067\u540c\u68b1\u3057\u3066\u3044\u308b\u3082\u306e\u306a\u306e\u3067\u6c17\u306b\u3057\u306a\u3044\u3002\n$ sudo cp -Rf firmware/modules/4.4.35-v7+ work/lib/modules\n$ ls -al work/lib/modules\n\u5408\u8a08 32\ndrwxr-xr-x.  4 root root  4096 12\u6708  2 15:51 .\ndr-xr-xr-x. 59 root root 20480 11\u6708 16 05:13 ..\ndrwxr-xr-x.  3 root root  4096 12\u6708  2 15:51 4.4.35-v7+\ndrwxr-xr-x.  5 root root  4096 11\u6708 16 05:13 4.8.6-300.fc25.armv7hl\n\nfstab\u8a2d\u5b9a\n\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\u3001Fedora\u306b\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u65e2\u5b58\u306efstab\u3067\u306f\u8d77\u52d5\u4e0d\u53ef\u80fd\u306a\u306e\u3067\u3001\u66f8\u304d\u63db\u3048\u307e\u3059\n$ blkid -o  export fedora.img\nDEVNAME=fedora.img\nLABEL=_/\nUUID=c19816a7-cbb8-4cbb-8608-7fec6d4994d0\nTYPE=ext4\n$ sudo vi work/etc/fstab\n\nfstab\u306b\u8a18\u8f09\u3059\u308b\u5185\u5bb9\n\nUUID\u30d9\u30fc\u30b9\u3067\u5236\u5fa1\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u4e88\u3081\u53d6\u5f97\u3057\u305fUUID\u3092\u8a18\u8f09\n\n/boot\u306e\u5185\u5bb9\u304c\u7570\u306a\u308b\u306e\u3067\u5909\u66f4\n\nUUID=c19816a7-cbb8-4cbb-8608-7fec6d4994d0  / ext4    defaults,noatime 0 0\n/dev/mmcblk0p1   /boot vfat    defaults 0 0\n\n\u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30b5\u30fc\u30d3\u30b9\u306e\u524a\u9664\n\u5c11\u3057\u30b4\u30ea\u62bc\u3057\u3067\u3059\u304c\u30fb\u30fb\u30fb\n$ sudo rm work/etc/systemd/system/multi-user.target.wants/initial-setup.service\n\nssh\u30ed\u30b0\u30a4\u30f3\u306e\u8a2d\u5b9a\n\u3053\u3053\u306f\u3001\u30e6\u30fc\u30b6\u500b\u4eba\u8a2d\u5b9a\u306a\u306e\u3067\u30fb\u30fb\u30fb\n$ sudo mkdir work/root/.ssh\n$ sudo touch work/root/.ssh/authorized_keys\n$ sudo vi work/root/.ssh/authorized_keys\n$ sudo chmod 700 work/root/.ssh\n$ sudo chmod 600 work/root/.ssh/authorized_keys\n\nroot\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a\n\u3053\u3053\u306f\u3001\u30e6\u30fc\u30b6\u500b\u4eba\u8a2d\u5b9a\u306a\u306e\u3067\u30fb\u30fb\u30fb\n$ sudo chmod +w work/etc/shadow\n$ openssl passwd -1 'your_password'\nyour_password\n$ sudo vi work/etc/shadow\n$ sudo chmod -w work/etc/shadow\n\n\u3000etc/shadow\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u306b\u5909\u66f4\u3059\u308b\nroot:*:17004:0:99999:7:::\n\u2192\nroot:your_password:17004:0:99999:7:::\n\n\u30de\u30a6\u30f3\u30c8\u89e3\u9664\n\u5fc5\u8981\u6700\u4f4e\u9650\u306e\u3053\u3068\u306f\u3067\u304d\u305f\u306e\u3067\u3001\u30de\u30a6\u30f3\u30c8\u89e3\u9664\u3092\u3059\u308b\n$ sudo umount work\n\n\nRaspberry Pi\u66f8\u304d\u8fbc\u307f\u7528\u306eimage\u306e\u4f5c\u6210\n\n\u3053\u3053\u304b\u3089\u306e\u4f5c\u696d\u304c\u3076\u3063\u3061\u3083\u3051\u91cd\u8981\u30fb\u30fb\u30fb\n\u66f8\u304d\u8fbc\u307f\u7528image\u306e\u4f5c\u6210\n29500M + 200M = 29700M\u4ee5\u4e0a\u304b\u306432GB\u306b\u53ce\u307e\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n$ truncate -s 29800M rasp_fedora.img\n$ sudo parted rasp_fedora.img  mklabel msdos\n\u8b66\u544a: \u3044\u307e\u5b58\u5728\u3057\u3066\u3044\u308b rasp_fedora.img \u306e\u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306f\u7834\u58ca\u3055\u308c\u3001\u3053\u306e\u30c7\u30a3\u30b9\u30af\u306e\u5168\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u307e\u3059\u3002\u7d9a\u884c\u3057\u307e\u3059\u304b\uff1f\n\u306f\u3044(Y)/Yes/\u3044\u3044\u3048(N)/No? Y\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n\u5148\u7a0b\u4f5c\u6210\u3057\u305fboot\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3068OS\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u4e21\u65b9\u304c\u66f8\u304d\u8fbc\u3081\u308b\u9818\u57df\u3092\u7528\u610f\u3057\u307e\u3059\n\u5c11\u3057\u3060\u3051\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5185\u306b\u7121\u99c4\u304c\u51fa\u307e\u3059\u304c\u3001\u5b89\u5168\u5074\u306b\u5012\u3057\u3066\u4f5c\u6210\u3057\u307e\u3059\n$ sudo parted rasp_fedora.img mkpart primary fat16 1MiB 210MiB\n$ sudo parted rasp_fedora.img mkpart primary 210MiB 100%\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3078\u306e\u66f8\u304d\u8fbc\u307f\n$ dd if=boot.img of=rasp_fedora.img obs=1M seek=1\n$ dd if=fedora.img of=rasp_fedora.img obs=1M seek=210\n\n\u3053\u308c\u3067Raspberry Pi\u5bfe\u5fdc\u7248Fedora\u306e\u4f5c\u6210\u5b8c\u4e86\u3067\u3059\n\n\u66f8\u304d\u8fbc\u307f\u3068\u8d77\u52d5\u7d50\u679c\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001SD\u30ab\u30fc\u30c9\u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\n$ sudo dd if=rasp_fedora.img of=/dev/sda bs=1m\n\nSD\u30ab\u30fc\u30c9\u3092\u629c\u3044\u3066Raspberry Pi\u3092\u8d77\u52d5\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30ed\u30b0\u30a4\u30f3\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u73fe\u308c\u307e\u3059\n(\u5149\u304c\u53cd\u5c04\u3057\u3066\u898b\u3065\u3089\u3044\u3067\u3059\u304c\u3001\u30e2\u30cb\u30bf\u30fc\u306e\u305b\u3044\u3067\u3059> <;)\n\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u7121\u4e8b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8d77\u52d5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\n\n\u304a\u307e\u3051\n\n\u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u304a\u3044\u3066\u3001\u4eca\u66f4\u3067\u3059\u304c\u5fd9\u3057\u3044\u4eba\u5411\u3051\u306b3\u884c\u30e1\u30e2\u6b8b\u3057\u307e\u3059\n\nDebian\u7cfb\u306eOS\u3092\u4f7f\u3048\u3070\u3001xzdec,git,kpartx\u3042\u308c\u3070\u697d\u306bimg\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u308bInstaller\u304c\u3042\u308b\u306e\u3067\u697d\u306bimage\u304c\u4f5c\u6210\u3067\u304d\u307e\u3059\n\u524d\u8ff0\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u4f7f\u3046\u5834\u5408\u306f\u3001settins.conf\u306eROOTSIZE,BOOTSIZE\u3092\u9593\u9055\u3048\u308b\u3068\u3067\u5f8c\u304b\u3089\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5207\u308b\u7fbd\u76ee\u306b\u306a\u308a\u307e\u3059\n\n\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u3060\u3068dnf\u304b\u3089\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3088\u3046\u3067\u3059(\u672a\u691c\u8a3c)\n\n# \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306e\u4e2d\u8eab\u3092\u898b\u307e\u3057\u305f\u304c\u3001Debian\u7cfb\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3042\u308b\u4ee5\u5916\u3084\u3063\u3066\u308b\u3053\u3068\u306f\u6b86\u3069\u540c\u3058\u3067\u3057\u305fw\n\n\u304a\u307e\u3051(\u305d\u306e\uff12)\n\n\u3064\u3044\u3067\u306bwifi\u3067\u5916\u90e8\u3068\u758e\u901a\u3067\u304d\u308b\u3068\u3053\u308d\u307e\u3067\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\n\u4f7f\u7528\u3057\u3066\u3044\u308bwifi\u30c9\u30f3\u30b0\u30eb\u306f\u3001GW-USNano2\u3068\u3044\u3046\u3082\u306e\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\u4eca\u3060\u3068\u5f8c\u7d99\u6a5f\u3068\u601d\u308f\u308c\u308bGW-USNANO2A\u304c\u5165\u624b\u3067\u304d\u308b\u3082\u306e\u306e\u3088\u3046\u3067\u3059\n# \u591a\u5206\u3001\u3053\u306e\u30b7\u30ea\u30fc\u30ba\u3067\u3042\u308c\u3070\u78ba\u5b9f\u306bwifi\u63a5\u7d9a\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002\n\u3067\u3001\u809d\u5fc3\u306e\u8a2d\u5b9a\u306e\u4ed5\u65b9\u3067\u3059\u304c\u3001DHCP\u3067\u3064\u306a\u3050\u3068\u4eee\u5b9a\u3057\u305f\u72b6\u614b\u3067\u9032\u3081\u307e\u3059\n\u8a2d\u5b9a\u306e\u4f5c\u6210\n\u96d1\u3067\u3059\u304c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306bSSID\u3068\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a18\u8f09\n$ vi /etc/wpa_supplicant/wpa_supplicant.conf\nctrl_interface=/run/wpa_supplicant\nupdate_config=1\nnetwork={\n    ssid=\"MYSSID\"\n    psk=\"passphrase\"\n}\n\n\u3064\u3044\u3067\u306bsystemd\u3067\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\n$ /etc/sysconfig/wpa_supplicant\nINTERFACES=\"-iwlan0\"\nDRIVERS=\"-Dwext\" #<= deprecated\u3060\u304c\u3064\u306a\u3050\u76ee\u7684\u306a\u306e\u3067\u6c17\u306b\u3057\u306a\u3044\nOTHER_ARGS=\"-s\"\n\nAP\u306b\u3064\u306a\u304c\u308b\u304b\u78ba\u8a8d\u3059\u308b\n\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u554f\u984c\u306a\u304f\u3001\u8a2d\u5b9a\u3057\u305fSSID\u304c\u898b\u3048\u3066\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304f\n$ wpa_supplicant -B -i interface -c /etc/wpa_supplicant/wpa_supplicant.conf\n$ wpa_cli\n> scan\nOK\n<3>CTRL-EVENT-SCAN-RESULTS\n> scan_results\n...\n\nping\u3067\u5916\u90e8\u3068\u758e\u901a\u3067\u304d\u308b\u304b\u78ba\u8a8d\n$ dhcpclient wlan0\n$ ping www.google.com\n\ndhcpcd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ dnf install dhcpcd\n\nsystemd\u3092\u6709\u52b9\u5316\n\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u4ed5\u639b\u3051\u3066\u304a\u304d\u307e\u3059\n$ systemctl enable wpa_supplicant\n$ systemctl enable dhcpcd@wlan0\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u306f\u30fb\u30fb\u30fb\n\n\u3044\u3064\u3082\u3069\u304a\u308a(?)\u3001\u30e6\u30fc\u30b6\u30fc\u3084\u3089\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u3001\u5404\u7a2e\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\u3092\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\n# \u56e0\u307f\u306b\u4e0d\u7528\u610f\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u3084\u308a\u3059\u304e\u308b\u3068\u30ab\u30fc\u30cd\u30eb\u30d1\u30cb\u30c3\u30af\u306b\u306a\u308b\u306e\u3067\u307b\u3069\u307b\u3069\u3067\u30fb\u30fb\u30fb\n\u3053\u3093\u306b\u3061\u306f\u3002Livesense Advent Calendar 2016\u306e3\u65e5\u76ee\u3092\u62c5\u5f53\u3057\u307e\u3059\u30a8\u30f3\u30b8\u30cb\u30a2\u306ekurobara\u3067\u3059\u3002\n\u30ea\u30d6\u30bb\u30f3\u30b9\u3067\u306f\u3001\u4f1a\u793e\u306e\u53e3\u30b3\u30df\u30b5\u30a4\u30c8\u3067\u3042\u308b\u8ee2\u8077\u4f1a\u8b70\u306e\u30e1\u30c7\u30a3\u30a2\u30c1\u30fc\u30e0\u306b\u6240\u5c5e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u8ee2\u8077\u4f1a\u8b70\u30e1\u30c7\u30a3\u30a2\u3092\u958b\u767a\u3059\u308b\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u95a2\u9023\u30d7\u30ed\u30c0\u30af\u30c8\u3092\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u6700\u8fd1\u3001\u5bd2\u3044\u3067\u3059\u3088\u306d\u3002\u7686\u69d8\u3001\u3054\u81ea\u611b\u4e0b\u3055\u3044mm\n\n### \u3054\u5b58\u77e5\u3067\u3057\u305f\u304b\uff1f\n---\n\u4eca\u66f4\u3001Raspberry Pi\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u8a18\u4e8b\uff1f\u3068\u8a00\u308f\u308c\u308b\u3068\u5fc3\u82e6\u3057\u3044\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u30fb\u30fb\u30fb\n\n\u4e00\u6614\u524d\u306b\u306f[Pidora](http://pidora.ca/)\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\u304c\u30012014\u5e74\u6642\u70b9\u3067\u66f4\u65b0\u304c\u6b62\u307e\u3063\u3066\u3044\u308b\u3068\u3044\u3046\u3002\u3002\u3002\n\u3057\u304b\u3057\u306a\u304c\u3089\u3001Fedora\u306e\u30b5\u30a4\u30c8\u306b\u76ee\u3092\u5411\u3051\u308b\u3068[arm\u5411\u3051\u306eimage](https://arm.fedoraproject.org/)\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u6c17\u3065\u304d\u307e\u3059\n\n\u3064\u307e\u308a\u3001\u3084\u308a\u65b9\u6b21\u7b2c\u3067\u306f\u3001Raspberry Pi\u3067\u52d5\u4f5c\u3055\u305b\u3089\u308c\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\n\n<img width=\"1249\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2016-12-02 18.32.02.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/17495/8ab5b967-23a3-57d4-859d-b115c74e0174.png\">\n\n\n\\#\u3000\u7d44\u307f\u8fbc\u307f\u3084\u3089Fedora\u754c\u9688\u306e\u4eba\u305f\u3061\u306f\u3054\u5b58\u77e5\u3067\u3057\u3087\u3046\u304c\u30fb\u30fb\u30fb\n\n### \u4f55\u6545\u3059\u308b\u306e\u304b?\n---\n\n* RedHat\u7cfbLinux\u306b\u5bfe\u3059\u308b**\u611b**(\u3042\u308b\u306e\u304b\u306a\uff1f)\n* \u4eba\u3068\u306f\u9055\u3046Raspberry Pi\u7528OS\u3092\u4f7f\u3063\u3066\u308b\u306e\u3067**\u30c9\u30e4\u308c\u308b**(\u91cd\u8981)\n* \u5358\u7d14\u306b\u4ed6\u3068\u9055\u3046\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3067\u3001\u6280\u8853\u7684\u306b**\u9762\u767d\u3044**(\u304b\u3082...)\n\nRaspberry Pi\u3067\u52d5\u304b\u3059\u306a\u3089ArchLinux\u3067\u3082\u5168\u7136\u30a4\u30b1\u3066\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3088\n---\n\n\u4ee5\u964d\u306e\u5185\u5bb9\u306f\u3001\u81ea\u5df1\u8cac\u4efb\u3067\u304a\u9858\u3044\u3057\u307e\u3059mm\n\u8a66\u3057\u3066\u307f\u3066\u751f\u3058\u305f\u3042\u3089\u3086\u308b\u640d\u5bb3\u7b49\u306b\u3064\u3044\u3066\u3082\u3001\u7406\u7531\u306e\u5982\u4f55\u306b\u95a2\u308f\u3089\u305a\u3001\n\u4e00\u5207\u8cac\u4efb\u3092\u8ca0\u3048\u307e\u305b\u3093\u306e\u3067\u3042\u3057\u304b\u3089\u305a\u3054\u4e86\u627f\u4e0b\u3055\u3044mm\n\n**Raspberry Pi\u306e\u56fa\u6709\u6a5f\u80fd**(\u30ab\u30e1\u30e9\u30e2\u30b8\u30e5\u30fc\u30eb\u3068\u304b)\u307f\u305f\u3044\u306a\u306e\u306f\u4e00\u5207\u4f7f\u3048\u306a\u3044\u306e\u3067\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002\n\n### \u5fc5\u8981\u306a\u3082\u306e\n---\n\n* \u4f5c\u696d\u7528Linux(\u4eca\u56de\u306fCentOS7\u3067\u5b9f\u65bd)\n* Raspberry Pi2ModelB(\u624b\u5143\u306e\u3082\u306e)\u3068SD\u30ab\u30fc\u30c9\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3001\u96fb\u6e90\u3001\u30e2\u30cb\u30bf\u30fc\n* Fedora\u306eimage\n* Raspberry Pi\u306e[firmware](https://github.com/raspberrypi/firmware)\n\n\\# \u5076\u3005\u3001\u624b\u5143\u306b\u3042\u3063\u305fLinux\u304cCentOS7\u3060\u3063\u305f\u3060\u3051\u3067\u3059> <\n\n### \u5fc5\u8981\u306a\u3053\u3068\u3092\u6574\u7406\n---\n* Raspberry Pi\u306efirmware\u3068Raspberry Pi\u306e\u6a5f\u80fd\u8a2d\u5b9a(``config.txt``)\u5165\u308a\u306eboot\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u4f5c\u6210\n* Fedora\u306eimage\u3092\u5c55\u958b\u3057\u3001\u5c55\u958b\u3057\u305f\u4e2d\u306bfirmware\u3068\u6a5f\u80fd\u5b9f\u88c5\u3092\u8ffd\u52a0\u3001\u305d\u306e\u5f8cimage\u3068\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\n* \u8d77\u52d5\u8a2d\u5b9a\u306b\u5fc5\u8981\u306afstab\u3068\u304b\u3001root\u306essh\u3068\u304b\u306e\u8a2d\u5b9a\n\n\\# \u3042\u307e\u308a\u826f\u304f\u306a\u3044\u304c\u3001\u30b4\u30ea\u62bc\u3057\u3059\u308b\u306a\u3089raspbian\u304c\u5165\u3063\u305f\u9818\u57df\u306b\u9069\u5f53\u306bfedora\u306eimage\u66f8\u304d\u8fbc\u3093\u3067\u3001\u5143\u306efstab\u3084\u3089\u8d77\u52d5\u306b\u5fc5\u8981\u306a\u3082\u306e\u3068\u304b\u3001firmware\u3092\u5165\u308c\u8fbc\u3081\u3070\u6848\u5916\u3067\u304d\u308b\u306e\u304b\u3082\u30fb\u30fb\u30fb\n\n### \u5fc5\u8981\u306a\u3082\u306e\u6e96\u5099\n---\n\n**Fedora\u306eimage\u53d6\u5f97**\n\nimage\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u9069\u5b9c\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\n\n```\n$ wget https://download.fedoraproject.org/pub/fedora/linux/releases/25/Spins/armhfp/images/Fedora-Minimal-armhfp-25-1.3-sda.raw.xz\n```\n\n**Raspberry Pi\u306efirmware\u306e\u53d6\u5f97**\n\n\u7d50\u69cb\u30c7\u30ab\u30a4\u306e\u3067\u3001\u6700\u65b0\u306e\u3082\u306e\u304c\u3042\u308c\u3070\u3044\u3044\u3084\u7406\u8ad6\n\n```\n$ git clone https://github.com/raspberrypi/firmware.git  --depth 1\n```\n\n### boot\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n---\n**image\u9818\u57df\u4f5c\u6210**\n\n\u9818\u57df\u30b5\u30a4\u30ba\u306f\u597d\u304d\u306b\u6c7a\u3081\u3066\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f59\u88d5\u3092\u898b\u3066200MB\u306b\u3057\u307e\u3057\u305f\n\n```\n$ truncate -s 200MB boot.img\n```\n\n**\u30ea\u30e0\u30fc\u30d0\u30d6\u30eb\u30e1\u30c7\u30a3\u30a2\u7528\u306bFAT/FAT32\u306b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8**\n\n```\n$ mkfs.fat boot.img\nmkfs.fat 3.0.20 (12 Jun 2013)\n```\n\n**boot.img\u306b\u8ffd\u52a0**\n\n\u4f5c\u6210\u3057\u305fboot.img\u3092\u30de\u30a6\u30f3\u30c8\u3057\u3001raspberry pi\u7528\u306eboot\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\n\n``config.txt``\u306f[\u3053\u3061\u3089](https://www.raspberrypi.org/documentation/configuration/config-txt.md)\u306b\u306a\u308a\u307e\u3059\u306e\u3067\u3001\u9069\u5b9c\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\n\n\\# ``raspibian``\u304c\u3042\u308b\u306a\u3089\u3070\u305d\u3053\u304b\u3089\u6301\u3063\u3066\u304f\u308b\u306e\u304c\u5b89\u724c\u304b\u3082\n\n```\n$ mkdir work\n$ sudo mount -o loop boot.img work\n$ sudo cp -Rf firmware/boot/* work/.\n$ sudo cp -f config.txt work/.\n```\n\n\u56e0\u307f\u306b\u3001NOOBS\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f``raspbian``\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u6b86\u3069\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3055\u308c\u3066\u304a\u308a\u3001\u4e0b\u8a18\u306e\u307f\u6709\u52b9\u3067\u3057\u305f\n\n```\n# Enable audio (loads snd_bcm2835)\ndtparam=audio=on\n\n# NOOBS Auto-generated Settings:\nhdmi_force_hotplug=1\nstart_x=0\n```\n\n\u3053\u308c\u3067boot\u7528\u306e\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3068\u4e2d\u8eab\u306e\u30d5\u30a1\u30a4\u30eb\u914d\u5099\u8a2d\u5b9a\u306f\u7d42\u308f\u308a\n\n### OS\u7528\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210\n---\n**image\u306e\u4e2d\u8eab\u3092\u5c55\u958b\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210**\n\nboot\u3084\u3089swap\u3084\u3089\u306f\u4e0d\u8981\u306a\u306e\u3067\u3001\u4eca\u56de\u306f\u629c\u3044\u3066\u3057\u307e\u3044\u7d14\u7c8b\u306aOS\u306e\u95a2\u9023\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u306b\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u3068\u3044\u3046\u3053\u3068\u306a\u306e\u3067\u3001\u305d\u308c\u4ee5\u5916\u306e\u9818\u57df\u3092\u8aad\u307f\u98db\u3070\u3057\u305f\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3image\u3092\u4f5c\u6210\u3057\u307e\u3059\n\n```\n$ fdisk Fedora-Minimal-armhfp-25-1.3-sda.raw\nWelcome to fdisk (util-linux 2.23.2).\n\nChanges will remain in memory only, until you decide to write them.\nBe careful before using the write command.\n\n\n\u30b3\u30de\u30f3\u30c9 (m \u3067\u30d8\u30eb\u30d7): p\n\nDisk Fedora-Minimal-armhfp-25-1.3-sda.raw: 2177 MB, 2177892352 bytes, 4253696 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O \u30b5\u30a4\u30ba (\u6700\u5c0f / \u63a8\u5968): 512 \u30d0\u30a4\u30c8 / 512 \u30d0\u30a4\u30c8\nDisk label type: dos\n\u30c7\u30a3\u30b9\u30af\u8b58\u5225\u5b50: 0x0fbf13bf\n\n                         \u30c7\u30d0\u30a4\u30b9 \u30d6\u30fc\u30c8      \u59cb\u70b9        \u7d42\u70b9     \u30d6\u30ed\u30c3\u30af   Id  \u30b7\u30b9\u30c6\u30e0\nFedora-Minimal-armhfp-25-1.3-sda.raw1            2048       61439       29696    c  W95 FAT32 (LBA)\nFedora-Minimal-armhfp-25-1.3-sda.raw2   *       61440     1060863      499712   83  Linux\nFedora-Minimal-armhfp-25-1.3-sda.raw3         1060864     1560575      249856   82  Linux swap / Solaris\nFedora-Minimal-armhfp-25-1.3-sda.raw4         1560576     4059135     1249280   83  Linux\n$ dd if=Fedora-Minimal-armhfp-25-1.3-sda.raw bs=512 skip=1560576 of=fedora.img\n2693120+0 \u30ec\u30b3\u30fc\u30c9\u5165\u529b\n2693120+0 \u30ec\u30b3\u30fc\u30c9\u51fa\u529b\n1378877440 \u30d0\u30a4\u30c8 (1.4 GB) \u30b3\u30d4\u30fc\u3055\u308c\u307e\u3057\u305f\u3001 2.29156 \u79d2\u3001 602 MB/\u79d2\n```\n\n**\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u62e1\u5f35**\n\n1.4GB\u3057\u304b\u7121\u3044\u305f\u3081\u3001\u62e1\u5f35\u3092\u884c\u3044\u307e\u3059\n32GB\u306eSD\u30ab\u30fc\u30c9\u3092\u60f3\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u306e\u5206\u3092\u8a2d\u5b9a\u3057\u307e\u3059\n\n```\n$ resize2fs fedora.img 29500M\nresize2fs 1.42.9 (28-Dec-2013)\nResizing the filesystem on fedora.img to 7552000 (4k) blocks.\nThe filesystem on fedora.img is now 7552000 blocks long.\n$ truncate -s 29500M fedora.img\n```\n\n**\u30de\u30a6\u30f3\u30c8**\n\nfstab\u5909\u66f4\u3084root\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u3001\u30e2\u30b8\u30e5\u30fc\u30eb\u3084firmware\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u306b\u30de\u30a6\u30f3\u30c8\u3059\u308b\n\n```\n$ sudo mount -o loop fedora.img work\n```\n\n**\u30e2\u30b8\u30e5\u30fc\u30eb\u8ffd\u52a0**\n\n\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u308b\u304c\u3001fedora\u304carm\u7528\u3067\u540c\u68b1\u3057\u3066\u3044\u308b\u3082\u306e\u306a\u306e\u3067\u6c17\u306b\u3057\u306a\u3044\u3002\n\n```\n$ sudo cp -Rf firmware/modules/4.4.35-v7+ work/lib/modules\n$ ls -al work/lib/modules\n\u5408\u8a08 32\ndrwxr-xr-x.  4 root root  4096 12\u6708  2 15:51 .\ndr-xr-xr-x. 59 root root 20480 11\u6708 16 05:13 ..\ndrwxr-xr-x.  3 root root  4096 12\u6708  2 15:51 4.4.35-v7+\ndrwxr-xr-x.  5 root root  4096 11\u6708 16 05:13 4.8.6-300.fc25.armv7hl\n```\n\n**fstab\u8a2d\u5b9a**\n\n\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\u3001Fedora\u306b\u540c\u68b1\u3055\u308c\u3066\u3044\u308b\u65e2\u5b58\u306efstab\u3067\u306f\u8d77\u52d5\u4e0d\u53ef\u80fd\u306a\u306e\u3067\u3001\u66f8\u304d\u63db\u3048\u307e\u3059\n\n```\n$ blkid -o  export fedora.img\nDEVNAME=fedora.img\nLABEL=_/\nUUID=c19816a7-cbb8-4cbb-8608-7fec6d4994d0\nTYPE=ext4\n$ sudo vi work/etc/fstab\n```\n\nfstab\u306b\u8a18\u8f09\u3059\u308b\u5185\u5bb9\n\n* UUID\u30d9\u30fc\u30b9\u3067\u5236\u5fa1\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u4e88\u3081\u53d6\u5f97\u3057\u305fUUID\u3092\u8a18\u8f09\n* ``/boot``\u306e\u5185\u5bb9\u304c\u7570\u306a\u308b\u306e\u3067\u5909\u66f4\n\n```\nUUID=c19816a7-cbb8-4cbb-8608-7fec6d4994d0  / ext4    defaults,noatime 0 0\n/dev/mmcblk0p1   /boot vfat    defaults 0 0\n```\n\n**\u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30b5\u30fc\u30d3\u30b9\u306e\u524a\u9664**\n\n\u5c11\u3057\u30b4\u30ea\u62bc\u3057\u3067\u3059\u304c\u30fb\u30fb\u30fb\n\n```\n$ sudo rm work/etc/systemd/system/multi-user.target.wants/initial-setup.service\n```\n\n**ssh\u30ed\u30b0\u30a4\u30f3\u306e\u8a2d\u5b9a**\n\n\u3053\u3053\u306f\u3001\u30e6\u30fc\u30b6\u500b\u4eba\u8a2d\u5b9a\u306a\u306e\u3067\u30fb\u30fb\u30fb\n\n```\n$ sudo mkdir work/root/.ssh\n$ sudo touch work/root/.ssh/authorized_keys\n$ sudo vi work/root/.ssh/authorized_keys\n$ sudo chmod 700 work/root/.ssh\n$ sudo chmod 600 work/root/.ssh/authorized_keys\n```\n\n\n**root\u30d1\u30b9\u30ef\u30fc\u30c9\u8a2d\u5b9a**\n\n\u3053\u3053\u306f\u3001\u30e6\u30fc\u30b6\u500b\u4eba\u8a2d\u5b9a\u306a\u306e\u3067\u30fb\u30fb\u30fb\n\n```\n$ sudo chmod +w work/etc/shadow\n$ openssl passwd -1 'your_password'\nyour_password\n$ sudo vi work/etc/shadow\n$ sudo chmod -w work/etc/shadow\n```\n\n``\u3000etc/shadow``\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u306b\u5909\u66f4\u3059\u308b\n\n```\nroot:*:17004:0:99999:7:::\n\u2192\nroot:your_password:17004:0:99999:7:::\n```\n\n**\u30de\u30a6\u30f3\u30c8\u89e3\u9664**\n\n\u5fc5\u8981\u6700\u4f4e\u9650\u306e\u3053\u3068\u306f\u3067\u304d\u305f\u306e\u3067\u3001\u30de\u30a6\u30f3\u30c8\u89e3\u9664\u3092\u3059\u308b\n\n```\n$ sudo umount work\n```\n\n### Raspberry Pi\u66f8\u304d\u8fbc\u307f\u7528\u306eimage\u306e\u4f5c\u6210\n---\n\n\u3053\u3053\u304b\u3089\u306e\u4f5c\u696d\u304c\u3076\u3063\u3061\u3083\u3051\u91cd\u8981\u30fb\u30fb\u30fb\n\n**\u66f8\u304d\u8fbc\u307f\u7528image\u306e\u4f5c\u6210**\n\n``29500M + 200M = 29700M``\u4ee5\u4e0a\u304b\u306432GB\u306b\u53ce\u307e\u308b\u3088\u3046\u306b\u3057\u307e\u3059\n\n```\n$ truncate -s 29800M rasp_fedora.img\n$ sudo parted rasp_fedora.img  mklabel msdos\n\u8b66\u544a: \u3044\u307e\u5b58\u5728\u3057\u3066\u3044\u308b rasp_fedora.img \u306e\u30c7\u30a3\u30b9\u30af\u30e9\u30d9\u30eb\u306f\u7834\u58ca\u3055\u308c\u3001\u3053\u306e\u30c7\u30a3\u30b9\u30af\u306e\u5168\u30c7\u30fc\u30bf\u304c\u5931\u308f\u308c\u307e\u3059\u3002\u7d9a\u884c\u3057\u307e\u3059\u304b\uff1f\n\u306f\u3044(Y)/Yes/\u3044\u3044\u3048(N)/No? Y\n```\n\n**\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u4f5c\u6210**\n\n\u5148\u7a0b\u4f5c\u6210\u3057\u305f``boot\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3``\u3068``OS\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3``\u306e\u4e21\u65b9\u304c\u66f8\u304d\u8fbc\u3081\u308b\u9818\u57df\u3092\u7528\u610f\u3057\u307e\u3059\n\n\u5c11\u3057\u3060\u3051\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5185\u306b\u7121\u99c4\u304c\u51fa\u307e\u3059\u304c\u3001\u5b89\u5168\u5074\u306b\u5012\u3057\u3066\u4f5c\u6210\u3057\u307e\u3059\n\n```\n$ sudo parted rasp_fedora.img mkpart primary fat16 1MiB 210MiB\n$ sudo parted rasp_fedora.img mkpart primary 210MiB 100%\n```\n\n**\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3078\u306e\u66f8\u304d\u8fbc\u307f**\n\n```\n$ dd if=boot.img of=rasp_fedora.img obs=1M seek=1\n$ dd if=fedora.img of=rasp_fedora.img obs=1M seek=210\n```\n\n\u3053\u308c\u3067Raspberry Pi\u5bfe\u5fdc\u7248Fedora\u306e\u4f5c\u6210\u5b8c\u4e86\u3067\u3059\n\n###  \u66f8\u304d\u8fbc\u307f\u3068\u8d77\u52d5\u7d50\u679c\n---\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001SD\u30ab\u30fc\u30c9\u306b\u66f8\u304d\u8fbc\u307f\u307e\u3059\n\n```\n$ sudo dd if=rasp_fedora.img of=/dev/sda bs=1m\n```\n\nSD\u30ab\u30fc\u30c9\u3092\u629c\u3044\u3066Raspberry Pi\u3092\u8d77\u52d5\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30ed\u30b0\u30a4\u30f3\u30b3\u30f3\u30bd\u30fc\u30eb\u304c\u73fe\u308c\u307e\u3059\n(\u5149\u304c\u53cd\u5c04\u3057\u3066\u898b\u3065\u3089\u3044\u3067\u3059\u304c\u3001\u30e2\u30cb\u30bf\u30fc\u306e\u305b\u3044\u3067\u3059> <;)\n\n![DSC_0232.JPG](https://qiita-image-store.s3.amazonaws.com/0/17495/47075819-794f-fa35-3ac9-d77d23ccf475.jpeg)\n\n![DSC_0233.JPG](https://qiita-image-store.s3.amazonaws.com/0/17495/ab463c88-9116-72ca-cb0a-412971366d1c.jpeg)\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u7121\u4e8b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8d77\u52d5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\n\n### \u304a\u307e\u3051\n---\n\u3053\u3053\u307e\u3067\u66f8\u3044\u3066\u304a\u3044\u3066\u3001\u4eca\u66f4\u3067\u3059\u304c\u5fd9\u3057\u3044\u4eba\u5411\u3051\u306b3\u884c\u30e1\u30e2\u6b8b\u3057\u307e\u3059\n\n* Debian\u7cfb\u306eOS\u3092\u4f7f\u3048\u3070\u3001``xzdec``,``git``,``kpartx``\u3042\u308c\u3070\u697d\u306bimg\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u308b[Installer](https://github.com/sjenning/rpi2-fedora-image-builder)\u304c\u3042\u308b\u306e\u3067\u697d\u306bimage\u304c\u4f5c\u6210\u3067\u304d\u307e\u3059\n* \u524d\u8ff0\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u4f7f\u3046\u5834\u5408\u306f\u3001settins.conf\u306e``ROOTSIZE``,``BOOTSIZE``\u3092\u9593\u9055\u3048\u308b\u3068\u3067\u5f8c\u304b\u3089\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u5207\u308b\u7fbd\u76ee\u306b\u306a\u308a\u307e\u3059\n* [\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb](https://fedoraproject.org/wiki/Raspberry_Pi)\u3060\u3068``dnf``\u304b\u3089\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7528\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3088\u3046\u3067\u3059(\u672a\u691c\u8a3c)\n\n\\# \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306e\u4e2d\u8eab\u3092\u898b\u307e\u3057\u305f\u304c\u3001Debian\u7cfb\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3042\u308b\u4ee5\u5916\u3084\u3063\u3066\u308b\u3053\u3068\u306f\u6b86\u3069\u540c\u3058\u3067\u3057\u305fw\n\n\n### \u304a\u307e\u3051(\u305d\u306e\uff12)\n---\n\u3064\u3044\u3067\u306bwifi\u3067\u5916\u90e8\u3068\u758e\u901a\u3067\u304d\u308b\u3068\u3053\u308d\u307e\u3067\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\n\n\u4f7f\u7528\u3057\u3066\u3044\u308bwifi\u30c9\u30f3\u30b0\u30eb\u306f\u3001[GW-USNano2](https://www.planex.co.jp/product/wireless/gw-usnano2/)\u3068\u3044\u3046\u3082\u306e\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\u4eca\u3060\u3068\u5f8c\u7d99\u6a5f\u3068\u601d\u308f\u308c\u308b[GW-USNANO2A](https://www.planex.co.jp/products/gw-usnano2a/)\u304c\u5165\u624b\u3067\u304d\u308b\u3082\u306e\u306e\u3088\u3046\u3067\u3059\n\n\\# \u591a\u5206\u3001\u3053\u306e\u30b7\u30ea\u30fc\u30ba\u3067\u3042\u308c\u3070\u78ba\u5b9f\u306bwifi\u63a5\u7d9a\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002\n\n\n\u3067\u3001\u809d\u5fc3\u306e\u8a2d\u5b9a\u306e\u4ed5\u65b9\u3067\u3059\u304c\u3001DHCP\u3067\u3064\u306a\u3050\u3068\u4eee\u5b9a\u3057\u305f\u72b6\u614b\u3067\u9032\u3081\u307e\u3059\n\n**\u8a2d\u5b9a\u306e\u4f5c\u6210**\n\n\u96d1\u3067\u3059\u304c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306bSSID\u3068\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u8a18\u8f09\n\n```\n$ vi /etc/wpa_supplicant/wpa_supplicant.conf\nctrl_interface=/run/wpa_supplicant\nupdate_config=1\nnetwork={\n    ssid=\"MYSSID\"\n    psk=\"passphrase\"\n}\n```\n\n\u3064\u3044\u3067\u306bsystemd\u3067\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\n\n```\n$ /etc/sysconfig/wpa_supplicant\nINTERFACES=\"-iwlan0\"\nDRIVERS=\"-Dwext\" #<= deprecated\u3060\u304c\u3064\u306a\u3050\u76ee\u7684\u306a\u306e\u3067\u6c17\u306b\u3057\u306a\u3044\nOTHER_ARGS=\"-s\"\n```\n\n**AP\u306b\u3064\u306a\u304c\u308b\u304b\u78ba\u8a8d\u3059\u308b**\n\n\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u554f\u984c\u306a\u304f\u3001\u8a2d\u5b9a\u3057\u305fSSID\u304c\u898b\u3048\u3066\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304a\u304f\n\n```\n$ wpa_supplicant -B -i interface -c /etc/wpa_supplicant/wpa_supplicant.conf\n$ wpa_cli\n> scan\nOK\n<3>CTRL-EVENT-SCAN-RESULTS\n> scan_results\n...\n```\n\n**ping\u3067\u5916\u90e8\u3068\u758e\u901a\u3067\u304d\u308b\u304b\u78ba\u8a8d**\n\n```\n$ dhcpclient wlan0\n$ ping www.google.com\n```\n\n**dhcpcd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb**\n\n```\n$ dnf install dhcpcd\n```\n\n**systemd\u3092\u6709\u52b9\u5316**\n\n\u8d77\u52d5\u6642\u306b\u81ea\u52d5\u63a5\u7d9a\u3059\u308b\u3088\u3046\u306b\u4ed5\u639b\u3051\u3066\u304a\u304d\u307e\u3059\n\n```\n$ systemctl enable wpa_supplicant\n$ systemctl enable dhcpcd@wlan0\n```\n\n### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\u5f8c\u306f\u30fb\u30fb\u30fb\n---\n\n\u3044\u3064\u3082\u3069\u304a\u308a(?)\u3001\u30e6\u30fc\u30b6\u30fc\u3084\u3089\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u3001\u5404\u7a2e\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u66f4\u65b0\u3092\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\n\n\\# \u56e0\u307f\u306b\u4e0d\u7528\u610f\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u3084\u308a\u3059\u304e\u308b\u3068\u30ab\u30fc\u30cd\u30eb\u30d1\u30cb\u30c3\u30af\u306b\u306a\u308b\u306e\u3067\u307b\u3069\u307b\u3069\u3067\u30fb\u30fb\u30fb\n", "tags": ["RaspberryPi", "fedora", "Linux"]}