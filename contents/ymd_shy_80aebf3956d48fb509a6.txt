{"context": "\n\n\u300ccross join unnest\u300d\u3068\u3044\u3046\u95a2\u6570\u3068\u300csplit\u300d\u95a2\u6570\u3092\u4f7f\u3048\u3070\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\nselect\n  split_record\nfrom\n  tbl_test t1\ncross join unnest( --\u30fb\u30fb\u30fb(1)\n  split(t1.csv_column, ',') --\u30fb\u30fb\u30fb(2)\n) as t (split_records)\n\n\n\u51e6\u7406\u6982\u8981\n\u3056\u3063\u304f\u308a\u8aac\u660e\u3059\u308b\u3068\n\u2460\u306esplit\u95a2\u6570\u3067\u6587\u5b57\u5217(t1.csv_column)\u3092\u30ab\u30f3\u30de\u3067\u5206\u5272\u3057\u3066\u3001\u914d\u5217\u306b\u3057\u3001\n\u305d\u306e\u914d\u5217\u3092\u2461\u306ecross join unnest\u95a2\u6570\u3067\u3001\u5358\u4e00\u306e\u5217\u306e\u30ec\u30b3\u30fc\u30c9\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n\n\u30a4\u30e1\u30fc\u30b8\n\n\n\u25a0split\u95a2\u6570\nsplit(\u6587\u5b57\u5217, \u533a\u5207\u308a\u6587\u5b57)\u30fb\u30fb\u30fb\n\u7b2c1\u5f15\u6570\u306e\u6587\u5b57\u5217\u3092\u7b2c2\u5f15\u6570\u306e\u533a\u5207\u308a\u6587\u5b57\u3067\u5206\u5272\u3057\u3001\u914d\u5217\u306b\u3057\u307e\u3059\u3002\n\n\u25a0cross join unnest\u95a2\u6570\ncross join unnest(\u914d\u5217) AS t (\u5c55\u958b\u5f8c\u306e\u30ab\u30e9\u30e0\u540d)\u30fb\u30fb\u30fb\n\u7b2c1\u5f15\u6570\u306e\u914d\u5217\u3092\u5358\u4e00\u306e\u5217\u306e\u30ec\u30b3\u30fc\u30c9\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n\u30ab\u30e9\u30e0\u540d\u306f\u7b2c2\u5f15\u6570\u306e\u5c55\u958b\u5f8c\u306e\u30ab\u30e9\u30e0\u540d\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u307e\u3068\u3081\ntreasure\u30c7\u30fc\u30bf\u306a\u3069\u30d3\u30c3\u30af\u30c7\u30fc\u30bf\u57fa\u76e4\u306b\u306f\u3001\u5206\u6790\u6642\u306b\u6271\u3044\u6613\u3044\u3088\u3046\u306b\u52a0\u5de5\u3057\u305f\u4e0a\u3067\n\u30c7\u30fc\u30bf\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30b1\u30fc\u30b9\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u5fc5\u305a\u3057\u3082\u305d\u3046\u3067\u306f\u306a\u304f\n\u305d\u306e\u307e\u307e\u3067\u306f\u5206\u6790\u306b\u4f7f\u3044\u8f9b\u3044\u3088\u3046\u306a\u30c7\u30fc\u30bf\u3082\u3001\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4eca\u56de\u3054\u7d39\u4ecb\u306f\u3001csv\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u304c\n\u305d\u306ecsv\u306e1\u533a\u5207\u308a\u30921\u30ec\u30b3\u30fc\u30c9\u3068\u3057\u3066\u6271\u3044\u305f\u3044\u5834\u5408\u3092\u4f8b\u306b\u7d39\u4ecb\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\u3053\u306e\u8a18\u4e8b\u304c\u5206\u6790\u306a\u3069\u306e\u696d\u52d9\u306e\u304a\u5f79\u306b\u7acb\u3066\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n# \u300ccross join unnest\u300d\u3068\u3044\u3046\u95a2\u6570\u3068\u300csplit\u300d\u95a2\u6570\u3092\u4f7f\u3048\u3070\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\n\n## \u30b5\u30f3\u30d7\u30eb\n\n```sql\nselect\n  split_record\nfrom\n  tbl_test t1\ncross join unnest( --\u30fb\u30fb\u30fb(1)\n  split(t1.csv_column, ',') --\u30fb\u30fb\u30fb(2)\n) as t (split_records)\n```\n\n## \u51e6\u7406\u6982\u8981\n\n\u3056\u3063\u304f\u308a\u8aac\u660e\u3059\u308b\u3068\n\u2460\u306esplit\u95a2\u6570\u3067\u6587\u5b57\u5217(t1.csv_column)\u3092\u30ab\u30f3\u30de\u3067\u5206\u5272\u3057\u3066\u3001\u914d\u5217\u306b\u3057\u3001\n\u305d\u306e\u914d\u5217\u3092\u2461\u306ecross join unnest\u95a2\u6570\u3067\u3001\u5358\u4e00\u306e\u5217\u306e\u30ec\u30b3\u30fc\u30c9\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n\n## \u30a4\u30e1\u30fc\u30b8\n![cross join unnest-1.png](https://qiita-image-store.s3.amazonaws.com/0/19858/8fa4c33c-e2e9-cafd-282f-c9a19b3bbf81.png)\n\n\n## \u25a0split\u95a2\u6570\n\nsplit(\u6587\u5b57\u5217, \u533a\u5207\u308a\u6587\u5b57)\u30fb\u30fb\u30fb\n\u7b2c1\u5f15\u6570\u306e\u6587\u5b57\u5217\u3092\u7b2c2\u5f15\u6570\u306e\u533a\u5207\u308a\u6587\u5b57\u3067\u5206\u5272\u3057\u3001\u914d\u5217\u306b\u3057\u307e\u3059\u3002\n\n## \u25a0cross join unnest\u95a2\u6570\n\ncross join unnest(\u914d\u5217) AS t (\u5c55\u958b\u5f8c\u306e\u30ab\u30e9\u30e0\u540d)\u30fb\u30fb\u30fb\n\u7b2c1\u5f15\u6570\u306e\u914d\u5217\u3092\u5358\u4e00\u306e\u5217\u306e\u30ec\u30b3\u30fc\u30c9\u306b\u5c55\u958b\u3057\u307e\u3059\u3002\n\u30ab\u30e9\u30e0\u540d\u306f\u7b2c2\u5f15\u6570\u306e\u5c55\u958b\u5f8c\u306e\u30ab\u30e9\u30e0\u540d\u306b\u306a\u308a\u307e\u3059\u3002\n\n## \u307e\u3068\u3081\n\ntreasure\u30c7\u30fc\u30bf\u306a\u3069\u30d3\u30c3\u30af\u30c7\u30fc\u30bf\u57fa\u76e4\u306b\u306f\u3001\u5206\u6790\u6642\u306b\u6271\u3044\u6613\u3044\u3088\u3046\u306b\u52a0\u5de5\u3057\u305f\u4e0a\u3067\n\u30c7\u30fc\u30bf\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30b1\u30fc\u30b9\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u5fc5\u305a\u3057\u3082\u305d\u3046\u3067\u306f\u306a\u304f\n\u305d\u306e\u307e\u307e\u3067\u306f\u5206\u6790\u306b\u4f7f\u3044\u8f9b\u3044\u3088\u3046\u306a\u30c7\u30fc\u30bf\u3082\u3001\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u4eca\u56de\u3054\u7d39\u4ecb\u306f\u3001csv\u5f62\u5f0f\u3067\u30c7\u30fc\u30bf\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u304c\n\u305d\u306ecsv\u306e1\u533a\u5207\u308a\u30921\u30ec\u30b3\u30fc\u30c9\u3068\u3057\u3066\u6271\u3044\u305f\u3044\u5834\u5408\u3092\u4f8b\u306b\u7d39\u4ecb\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\u3053\u306e\u8a18\u4e8b\u304c\u5206\u6790\u306a\u3069\u306e\u696d\u52d9\u306e\u304a\u5f79\u306b\u7acb\u3066\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["Presto", "TreasureData"]}