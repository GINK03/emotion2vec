{"context": "curl \u3067 SPARQL Endpoint \u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\u30d1\u30bf\u30fc\u30f3\u306e\u304a\u307c\u3048\u304c\u304d\u3002 SPARQL \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f7f\u3048\u306a\u3044\u5834\u5408\u3084\u30d0\u30c3\u30c1\u51e6\u7406\u306e\u5b9f\u884c\u306a\u3069\u306b\u3002\n\n1. \u57fa\u672c\n\u5b9f\u884c\u3057\u305f\u3044 SPARQL Query \u3092\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3057\u3066\n\nsparql.rq\nselect * where {?s ?p ?o.} limit 10\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u3066 JSON Results \u3092\u5f97\u308b\u3002\n$ curl -H 'Accept: application/sparql-results+json' --data-urlencode 'query@-' http://dbpedia.org/sparql < sparql.rq\n{\n  \"head\": { \"link\": [], \"vars\": [\"s\", \"p\", \"o\"] },\n  \"results\": { \"distinct\": false, \"ordered\": true, \"bindings\": \n    [{ \"s\": {...}, \"p\": {...}, \"o\": {...} }] \n  }\n}\n\n\u3053\u306e\u65b9\u6cd5\u306f query via POST with URL-encoded parameters (SPARQL 1.1 Protocol) \u306b\u6e96\u62e0\u3057\u305f\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u60f3\u5b9a\u3057\u3066 POST \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b\u3082\u306e\u3067\u3059\u304c\u3001query via GET \u306e\u5834\u5408\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b -G \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3053\u3068\u3067 GET \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n$ curl -G -H 'Accept: application/sparql-results+json' --data-urlencode 'query@-' http://dbpedia.org/sparql < sparql.rq\n\n\n2. \u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u5909\u66f4\n\n\n-H 'Accept: xxxxxxxxxxxxx' \u306e xxxxxx \u306e\u90e8\u5206\u3092\u4e0b\u306e\u8868\u306e Content-Type \u3067\u9069\u5b9c\u7f6e\u304d\u63db\u3048\u308b\nAccept \u30d8\u30c3\u30c0\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u306f Endpoint \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u8fd4\u3063\u3066\u304f\u308b\u306f\u305a\nEndpoint \u306f\u5fc5\u305a\u3057\u3082\u3059\u3079\u3066\u306e\u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u6ce8\u610f\ncsv / tsv \u306e\u5834\u5408\u306f charset=UTF-8 \u306e\u3088\u3046\u306b\u51fa\u529b\u30a8\u30f3\u30b3\u30fc\u30c9\u6307\u5b9a\u3082\u53ef\u80fd\u3060\u304c\u3001Endpoint \u304c\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u3082\n\n\n\n\ntype\nContent-Type\n\n\n\n\njson\napplication/sparql-results+json\n\n\nxml\napplication/sparql-results+xml\n\n\ncsv\ntext/csv\n\n\ntsv\ntext/tab-separated-values\n\n\n\n\n3. \u30af\u30a8\u30ea\u30fc\u306e\u6307\u5b9a\n\n\u30a4\u30f3\u30e9\u30a4\u30f3\n\n\u77ed\u3044\u30af\u30a8\u30ea\u30fc\u306a\u3089 query=... \u306e\u3088\u3046\u306b\u76f4\u63a5 SPARQL \u3092\u66f8\u3044\u3066\u3082 OK\n\n$ curl -H 'Accept: application/sparql-results+json' --data-urlencode 'query=select * where {?s ?p ?o.} limit 10' http://dbpedia.org/sparql\n\n\n\u30d5\u30a1\u30a4\u30eb\n\n\n--data-urlencode \u30aa\u30d7\u30b7\u30e7\u30f3\u306b query@{filename} \u3068\u6307\u5b9a\u3059\u308b\u3068 query \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5024\u3068\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u304c\u5c55\u958b\u3055\u308c\u308b\n\u5192\u982d\u306e query@- \u306f\u6a19\u6e96\u5165\u529b\u3092\u5c55\u958b\u3059\u308b\u3001\u306e\u610f\u5473\n\n$ curl -H 'Accept: application/sparql-results+json' --data-urlencode 'query@sparql.rq' http://dbpedia.org/sparql\n\n\n4. \u53c2\u8003\n\ncurl --data-urlencode option\nSPARQL 1.1 Protocol\nSPARQL 1.1 Query Results JSON Format\nSPARQL Query Results XML Format (Second Edition)\nSPARQL 1.1 Query Results CSV and TSV Formats\n\ncurl \u3067 SPARQL Endpoint \u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\u30d1\u30bf\u30fc\u30f3\u306e\u304a\u307c\u3048\u304c\u304d\u3002 SPARQL \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f7f\u3048\u306a\u3044\u5834\u5408\u3084\u30d0\u30c3\u30c1\u51e6\u7406\u306e\u5b9f\u884c\u306a\u3069\u306b\u3002\n\n# 1. \u57fa\u672c\n\n\u5b9f\u884c\u3057\u305f\u3044 SPARQL Query \u3092\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u4fdd\u5b58\u3057\u3066\n\n```sparql.rq\nselect * where {?s ?p ?o.} limit 10\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u3066 JSON Results \u3092\u5f97\u308b\u3002\n\n```bash\n$ curl -H 'Accept: application/sparql-results+json' --data-urlencode 'query@-' http://dbpedia.org/sparql < sparql.rq\n{\n  \"head\": { \"link\": [], \"vars\": [\"s\", \"p\", \"o\"] },\n  \"results\": { \"distinct\": false, \"ordered\": true, \"bindings\": \n    [{ \"s\": {...}, \"p\": {...}, \"o\": {...} }] \n  }\n}\n```\n\n\u3053\u306e\u65b9\u6cd5\u306f [query via POST with URL-encoded parameters (SPARQL 1.1 Protocol)] (https://www.w3.org/TR/2013/REC-sparql11-protocol-20130321/#query-via-post-urlencoded) \u306b\u6e96\u62e0\u3057\u305f\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u60f3\u5b9a\u3057\u3066 POST \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b\u3082\u306e\u3067\u3059\u304c\u3001[query via GET](https://www.w3.org/TR/2013/REC-sparql11-protocol-20130321/#query-via-get) \u306e\u5834\u5408\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b `-G` \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3053\u3068\u3067 GET \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n```bash\n$ curl -G -H 'Accept: application/sparql-results+json' --data-urlencode 'query@-' http://dbpedia.org/sparql < sparql.rq\n```\n\n# 2. \u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u5909\u66f4\n\n* `-H 'Accept: xxxxxxxxxxxxx' ` \u306e xxxxxx \u306e\u90e8\u5206\u3092\u4e0b\u306e\u8868\u306e Content-Type \u3067\u9069\u5b9c\u7f6e\u304d\u63db\u3048\u308b\n* Accept \u30d8\u30c3\u30c0\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u306f Endpoint \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u8fd4\u3063\u3066\u304f\u308b\u306f\u305a\n* Endpoint \u306f\u5fc5\u305a\u3057\u3082\u3059\u3079\u3066\u306e\u51fa\u529b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u6ce8\u610f\n* csv / tsv \u306e\u5834\u5408\u306f `charset=UTF-8` \u306e\u3088\u3046\u306b\u51fa\u529b\u30a8\u30f3\u30b3\u30fc\u30c9\u6307\u5b9a\u3082\u53ef\u80fd\u3060\u304c\u3001Endpoint \u304c\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3053\u3068\u3082\n\ntype|Content-Type\n-------|-------\njson|application/sparql-results+json\nxml |application/sparql-results+xml\ncsv |text/csv\ntsv |text/tab-separated-values\n\n\n# 3. \u30af\u30a8\u30ea\u30fc\u306e\u6307\u5b9a\n\n## \u30a4\u30f3\u30e9\u30a4\u30f3\n\n* \u77ed\u3044\u30af\u30a8\u30ea\u30fc\u306a\u3089 `query=...` \u306e\u3088\u3046\u306b\u76f4\u63a5 SPARQL \u3092\u66f8\u3044\u3066\u3082 OK\n\n```bash\n$ curl -H 'Accept: application/sparql-results+json' --data-urlencode 'query=select * where {?s ?p ?o.} limit 10' http://dbpedia.org/sparql\n```\n\n## \u30d5\u30a1\u30a4\u30eb\n\n* `--data-urlencode` \u30aa\u30d7\u30b7\u30e7\u30f3\u306b `query@{filename}` \u3068\u6307\u5b9a\u3059\u308b\u3068 query \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5024\u3068\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u304c\u5c55\u958b\u3055\u308c\u308b\n* \u5192\u982d\u306e `query@-` \u306f\u6a19\u6e96\u5165\u529b\u3092\u5c55\u958b\u3059\u308b\u3001\u306e\u610f\u5473\n\n```bash\n$ curl -H 'Accept: application/sparql-results+json' --data-urlencode 'query@sparql.rq' http://dbpedia.org/sparql\n```\n\n# 4. \u53c2\u8003\n* [curl --data-urlencode option](https://curl.haxx.se/docs/manpage.html#--data-urlencode)\n* [SPARQL 1.1 Protocol](https://www.w3.org/TR/sparql11-protocol/)\n* [SPARQL 1.1 Query Results JSON Format](https://www.w3.org/TR/sparql11-results-json/)\n* [SPARQL Query Results XML Format (Second Edition)](https://www.w3.org/TR/rdf-sparql-XMLres/)\n* [SPARQL 1.1 Query Results CSV and TSV Formats](https://www.w3.org/TR/sparql11-results-csv-tsv/)\n", "tags": ["curl", "SPARQL"]}