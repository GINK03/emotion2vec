{"context": " More than 1 year has passed since last update.\n\nGem\u3067\u30e6\u30cb\u30b3\u30fc\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308d\ngem install unicorn-rails\n\ngem install unicorn\n\n\n\n\u30e6\u30cb\u30b3\u30fc\u30f3\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\nvim RAILS_ROOT/config/unicorn.rb\n\n\nRAILS_ROOT/config/unicorn.rb\nAPP_PATH = \"/var/www/ruby/rss\"\n\nworker_processes 2\n\nworking_directory \"/var/www/ruby/rss\"\n\nlisten 3000\n\npid APP_PATH + \"/tmp/pids/unicorn.pid\"\nstderr_path APP_PATH + \"/log/unicorn.log\"\nstdout_path APP_PATH + \"/log/unicorn.log\"\n\n\npreload_app true\n\n\n\n\u30e6\u30cb\u30b3\u30fc\u30f3\u3067Rails\u3092\u8d77\u52d5\nbundle exec unicorn_rails -E development -c config/unicorn.rb\n\n\nNginx\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\nvim /etc/nginx/nginx.conf\n\n\n/etc/nginx/nginx.conf\nupstream abgata.org {\n    #server 127.0.0.1:3000;\n    server unix:/var/tmp/rss.sock;\n}\n\nserver {\n    listen 80;\n    server_name abgata.org;\n\n    root /var/www/ruby/rss/public;\n\n    access_log /var/log/rss_access.log;\n    error_log  /var/log/rss_error.log;\n\n    location / {\n      if (-f $request_filename) {\n        break;\n      }\n\n      proxy_set_header X-Real-IP  $remote_addr;\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n      proxy_set_header Host $http_host;\n      proxy_pass http://abgata.org;\n    }\n\n    location ~* \\.(ico|css|js|gif|jpe?g|png)(\\?[0-9]+)?$ {\n      # expires 1y;\n    }\n}\n\n\n\n\u30f4\u30a1\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u306e\u8a2d\u5b9a\nsudo vim /etc/nginx/sites-avalable/default\n\n\n/etc/nginx/sites-avalable/default\nserver {\n        listen 80 default_server;\n        server_name _;\n        deny all;\n}\n\n\n\n\u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4f5c\u6210\nsudo ln -s /etc/nginx/sites-avalable/default /etc/nginx/sites-enabled/\n\n\n\nNginx\u3092\u518d\u8d77\u52d5\u3057\u3066\u8a2d\u5b9a\u3092\u53cd\u6620\nchkconfig nginx on\n\nservice nginx start\n\nservice nginx reload\n\n##Gem\u3067\u30e6\u30cb\u30b3\u30fc\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308d\n\n```\ngem install unicorn-rails\n\ngem install unicorn\n\n```\n\n##\u30e6\u30cb\u30b3\u30fc\u30f3\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n```\nvim RAILS_ROOT/config/unicorn.rb\n```\n\n#####RAILS_ROOT/config/unicorn.rb\n\n```\nAPP_PATH = \"/var/www/ruby/rss\"\n\nworker_processes 2\n\nworking_directory \"/var/www/ruby/rss\"\n\nlisten 3000\n\npid APP_PATH + \"/tmp/pids/unicorn.pid\"\nstderr_path APP_PATH + \"/log/unicorn.log\"\nstdout_path APP_PATH + \"/log/unicorn.log\"\n\n\npreload_app true\n\n```\n\n##\u30e6\u30cb\u30b3\u30fc\u30f3\u3067Rails\u3092\u8d77\u52d5\n```\nbundle exec unicorn_rails -E development -c config/unicorn.rb\n```\n\n##Nginx\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n```\nvim /etc/nginx/nginx.conf\n```\n\n#####/etc/nginx/nginx.conf\n```\nupstream abgata.org {\n    #server 127.0.0.1:3000;\n\tserver unix:/var/tmp/rss.sock;\n}\n\nserver {\n    listen 80;\n    server_name abgata.org;\n\n    root /var/www/ruby/rss/public;\n\n    access_log /var/log/rss_access.log;\n    error_log  /var/log/rss_error.log;\n\n    location / {\n      if (-f $request_filename) {\n        break;\n      }\n\n      proxy_set_header X-Real-IP  $remote_addr;\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n      proxy_set_header Host $http_host;\n      proxy_pass http://abgata.org;\n    }\n\n    location ~* \\.(ico|css|js|gif|jpe?g|png)(\\?[0-9]+)?$ {\n      # expires 1y;\n    }\n}\n\n```\n\n##\u30f4\u30a1\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u306e\u8a2d\u5b9a\n```\nsudo vim /etc/nginx/sites-avalable/default\n```\n\n\n#####/etc/nginx/sites-avalable/default\n```\nserver {\n        listen 80 default_server;\n        server_name _;\n        deny all;\n}\n\n```\n\n\n## \u8a2d\u5b9a\u3092\u53cd\u6620\u3055\u305b\u308b\u30d5\u30a1\u30a4\u30eb\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4f5c\u6210\n```\nsudo ln -s /etc/nginx/sites-avalable/default /etc/nginx/sites-enabled/\n\n```\n\n## Nginx\u3092\u518d\u8d77\u52d5\u3057\u3066\u8a2d\u5b9a\u3092\u53cd\u6620\n```\nchkconfig nginx on\n\nservice nginx start\n\nservice nginx reload\n```\n", "tags": ["unicorn", "Gem", "nginx", "Rails"]}