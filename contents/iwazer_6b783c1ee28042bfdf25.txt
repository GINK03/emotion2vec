{"context": " More than 1 year has passed since last update.\nthumbnail_on_s3.rb\nrequire 'rmagick'\nrequire 'aws/s3'\n\nAWS::S3::Base.establish_connection!(:access_key_id=>'<YOUR_ID>', :secret_access_key=>'<YOUR_SECRET>')\nAWS::S3::DEFAULT_HOST.replace 's3-ap-northeast-1.amazonaws.com' # if use Tokyo Region\nimg = Magick::ImageList.new('path/to/file.jpg')\nAWS::S3::S3Object.store('filename_thumb_m.jpg', img.thumbnail(640,480).to_blob {self.quality=92}, '<bucket-name>')\nAWS::S3::S3Object.store('filename_thumb_s.jpg', img.thumbnail(160,120).to_blob {self.quality=92}, '<bucket-name>')\n# \uff11\u6642\u9593\u3057\u305f\u3089\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u306a\u3044URL\u3092\u30b2\u30c3\u30c8\nputs AWS::S3::S3Object.url_for('filename_thumb_m.jpg', '<bucket-name>', :expires_in=>3600)\nputs AWS::S3::S3Object.url_for('filename_thumb_s.jpg', '<bucket-name>', :expires_in=>3600)\n\n\n\n```ruby:thumbnail_on_s3.rb\nrequire 'rmagick'\nrequire 'aws/s3'\n\nAWS::S3::Base.establish_connection!(:access_key_id=>'<YOUR_ID>', :secret_access_key=>'<YOUR_SECRET>')\nAWS::S3::DEFAULT_HOST.replace 's3-ap-northeast-1.amazonaws.com' # if use Tokyo Region\nimg = Magick::ImageList.new('path/to/file.jpg')\nAWS::S3::S3Object.store('filename_thumb_m.jpg', img.thumbnail(640,480).to_blob {self.quality=92}, '<bucket-name>')\nAWS::S3::S3Object.store('filename_thumb_s.jpg', img.thumbnail(160,120).to_blob {self.quality=92}, '<bucket-name>')\n# \uff11\u6642\u9593\u3057\u305f\u3089\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u306a\u3044URL\u3092\u30b2\u30c3\u30c8\nputs AWS::S3::S3Object.url_for('filename_thumb_m.jpg', '<bucket-name>', :expires_in=>3600)\nputs AWS::S3::S3Object.url_for('filename_thumb_s.jpg', '<bucket-name>', :expires_in=>3600)\n```", "tags": ["S3", "AWS", "Ruby", "ImageMagick"]}