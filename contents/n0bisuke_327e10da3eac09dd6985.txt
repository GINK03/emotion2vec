{"context": " More than 1 year has passed since last update.\u5148\u65e5\u306b\u66f8\u3044\u305fTwitter Streaming API + Node.js (ntwitter)\u3067\u6307\u5b9a\u30ad\u30fc\u30ef\u30fc\u30c9\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u53d6\u5f97\u3059\u308b\u3092Web\u30b5\u30a4\u30c8\u5074\u306b\u8868\u793a\u3055\u305b\u3066\u307f\u307e\u3059\u3002\n\n\u6e96\u5099\nsocket.io\u3092\u4f7f\u3044\u307e\u3059\u3002\n$ npm i socket.io\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306fNode.js + Socket.IO + jQuery \u3067\u6700\u5c0f\u69cb\u6210\u30c1\u30e3\u30c3\u30c8\u3092\u3082\u3068\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d0\u30fc\u5074\n\ntwstream.js\nvar util = require('util');\nvar twitter = require('twitter');\n\nvar twit = new twitter({\n  consumer_key: 'xx',\n  consumer_secret: 'xx',\n  access_token_key: 'xx',\n  access_token_secret: 'xx'\n});\n\nvar keyword = process.argv[2]; //\u7b2c\u4e00\u5f15\u6570\nvar option = {'track': keyword};\nconsole.log(keyword+'\u3092\u542b\u3080\u30c4\u30a4\u30fc\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002');\n\nvar fs = require('fs');\nvar app = require('http').createServer(function(req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  res.end(fs.readFileSync('index.html'));\n}).listen(3000);\n\nvar io = require('socket.io').listen(app);\nio.sockets.on('connection', function(socket) {\n  socket.on('msg', function(data) {\n    io.sockets.emit('msg', data);\n  });\n});\n\ntwit.stream('statuses/filter', option, function(stream) {\n  stream.on('data', function (data) {\n    io.sockets.emit('msg', data.text);\n    console.log(data);\n  });\n});\n\n\n\n\u30d5\u30ed\u30f3\u30c8\u5074\n\nindex.html\n<!DOCTYPE html>\n<meta charset=\"UTF-8\">\n<title>chat</title>\n<script src=\"/socket.io/socket.io.js\"></script>\n<script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"></script>\n<script>\n$(function() {\n  var socket = io.connect();\n  $('form').submit(function() {\n    socket.emit('msg', $('input').val());\n    $('input').val('');\n    return false;\n  });\n\n  socket.on('msg', function(data) {\n        console.log(data);\n    $('div').prepend(data + '<br>');\n\n  });\n});\n</script>\n<form><input></form><div></div>\n\n\n\n\u4f7f\u3044\u65b9\n\u8d77\u52d5\u3059\u308b\u969b\u306b\u5f15\u6570\u306b\u691c\u7d22\u30ef\u30fc\u30c9\u3092\u5165\u308c\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ node twstream \u691c\u7d22\u3059\u308b\u30ef\u30fc\u30c9\n\n$ node twstream twitter\nliginc\u3092\u542b\u3080\u30c4\u30a4\u30fc\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n/*\u3057\u3070\u3089\u304f\u5f85\u3061\u307e\u3059...*/\n\n{ created_at: 'Wed Nov 26 03:37:50 +0000 2014',\n  id: 537450127229997060,\n  id_str: '537450127229997056',\n  text: 'RT @BestYahooAnswer: What are the symptoms of homosexuality http://t.co/FRRQySyx7c',\n  source: '<a href=\"http://twitter.com/download/iphone\" rel=\"nofollow\">Twitter for iPhone</a>',\n  truncated: false,\n  in_reply_to_status_id: null,\n  in_reply_to_status_id_str: null,\n  in_reply_to_user_id: null,\n  in_reply_to_user_id_str: null,\n  in_reply_to_screen_name: null,\n  user: \n   { id: 1906062012,\n     id_str: '1906062012',\n     name: 'master debator',\n     screen_name: 'patrickstump420',\n     location: 'ig: bitchtml',\n     url: 'http://kamisthebomb.com',\n     description: 'hi im lulu & im scared of straight people',\n     protected: false,\n\n\nhttp://localhost:3000\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u3053\u3093\u306a\u611f\u3058\u3067[\u30b5\u30fc\u30d0\u30fc]Streaming\u3067\u53d6\u5f97 -> [\u30b5\u30fc\u30d0\u30fc]Socket.io\u3067emit! -> [\u30af\u30e9\u30a4\u30a2\u30f3\u30c8]Socket\u30a4\u30d9\u30f3\u30c8\u3068\u30c7\u30fc\u30bf\u53d6\u5f97 -> [\u30af\u30e9\u30a4\u30a2\u30f3\u30c8]\u63cf\u753b\u3068\u3044\u3046\u6d41\u308c\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c4\u30a4\u30fc\u30c8\u3092\u6271\u3046\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\n\u5148\u65e5\u306b\u66f8\u3044\u305f[Twitter Streaming API + Node.js (ntwitter)\u3067\u6307\u5b9a\u30ad\u30fc\u30ef\u30fc\u30c9\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u53d6\u5f97\u3059\u308b](http://qiita.com/n0bisuke/items/09126e6e2cd111841a2e)\u3092Web\u30b5\u30a4\u30c8\u5074\u306b\u8868\u793a\u3055\u305b\u3066\u307f\u307e\u3059\u3002\n\n##\u6e96\u5099\nsocket.io\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```\n$ npm i socket.io\n```\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f[Node.js + Socket.IO + jQuery \u3067\u6700\u5c0f\u69cb\u6210\u30c1\u30e3\u30c3\u30c8](http://qiita.com/naga3/items/bdf6176537a5ac77a9b5)\u3092\u3082\u3068\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n###\u30b5\u30fc\u30d0\u30fc\u5074\n\n```twstream.js\nvar util = require('util');\nvar twitter = require('twitter');\n\nvar twit = new twitter({\n  consumer_key: 'xx',\n  consumer_secret: 'xx',\n  access_token_key: 'xx',\n  access_token_secret: 'xx'\n});\n\nvar keyword = process.argv[2]; //\u7b2c\u4e00\u5f15\u6570\nvar option = {'track': keyword};\nconsole.log(keyword+'\u3092\u542b\u3080\u30c4\u30a4\u30fc\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002');\n\nvar fs = require('fs');\nvar app = require('http').createServer(function(req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  res.end(fs.readFileSync('index.html'));\n}).listen(3000);\n\nvar io = require('socket.io').listen(app);\nio.sockets.on('connection', function(socket) {\n  socket.on('msg', function(data) {\n    io.sockets.emit('msg', data);\n  });\n});\n\ntwit.stream('statuses/filter', option, function(stream) {\n  stream.on('data', function (data) {\n    io.sockets.emit('msg', data.text);\n    console.log(data);\n  });\n});\n```\n\n###\u30d5\u30ed\u30f3\u30c8\u5074\n```index.html\n<!DOCTYPE html>\n<meta charset=\"UTF-8\">\n<title>chat</title>\n<script src=\"/socket.io/socket.io.js\"></script>\n<script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"></script>\n<script>\n$(function() {\n  var socket = io.connect();\n  $('form').submit(function() {\n    socket.emit('msg', $('input').val());\n    $('input').val('');\n    return false;\n  });\n\n  socket.on('msg', function(data) {\n        console.log(data);\n    $('div').prepend(data + '<br>');\n\n  });\n});\n</script>\n<form><input></form><div></div>\n```\n\n##\u4f7f\u3044\u65b9\n\n\u8d77\u52d5\u3059\u308b\u969b\u306b\u5f15\u6570\u306b\u691c\u7d22\u30ef\u30fc\u30c9\u3092\u5165\u308c\u3066\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\n$ node twstream \u691c\u7d22\u3059\u308b\u30ef\u30fc\u30c9\n```\n\n```\n$ node twstream twitter\nliginc\u3092\u542b\u3080\u30c4\u30a4\u30fc\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n/*\u3057\u3070\u3089\u304f\u5f85\u3061\u307e\u3059...*/\n\n{ created_at: 'Wed Nov 26 03:37:50 +0000 2014',\n  id: 537450127229997060,\n  id_str: '537450127229997056',\n  text: 'RT @BestYahooAnswer: What are the symptoms of homosexuality http://t.co/FRRQySyx7c',\n  source: '<a href=\"http://twitter.com/download/iphone\" rel=\"nofollow\">Twitter for iPhone</a>',\n  truncated: false,\n  in_reply_to_status_id: null,\n  in_reply_to_status_id_str: null,\n  in_reply_to_user_id: null,\n  in_reply_to_user_id_str: null,\n  in_reply_to_screen_name: null,\n  user: \n   { id: 1906062012,\n     id_str: '1906062012',\n     name: 'master debator',\n     screen_name: 'patrickstump420',\n     location: 'ig: bitchtml',\n     url: 'http://kamisthebomb.com',\n     description: 'hi im lulu & im scared of straight people',\n     protected: false,\n\n```\n\n`http://localhost:3000`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n![](http://i.gyazo.com/cef29aaf662211472c94aef8fca1c885.gif)\n\n\u3053\u3093\u306a\u611f\u3058\u3067`[\u30b5\u30fc\u30d0\u30fc]Streaming\u3067\u53d6\u5f97 -> [\u30b5\u30fc\u30d0\u30fc]Socket.io\u3067emit! -> [\u30af\u30e9\u30a4\u30a2\u30f3\u30c8]Socket\u30a4\u30d9\u30f3\u30c8\u3068\u30c7\u30fc\u30bf\u53d6\u5f97 -> [\u30af\u30e9\u30a4\u30a2\u30f3\u30c8]\u63cf\u753b`\u3068\u3044\u3046\u6d41\u308c\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c4\u30a4\u30fc\u30c8\u3092\u6271\u3046\u3053\u3068\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n", "tags": ["Twitter", "Socket.io", "JavaScript", "Node.js"]}