{"context": " More than 1 year has passed since last update.HttpClient\u7d4c\u7531\u3060\u3068\u65e5\u672c\u8a9e\u30d5\u30a1\u30a4\u30eb\u540d\u304c\u5316\u3051\u3066\u3057\u307e\u3046\u306e\u306f\u307e\u3060\u672a\u89e3\u6c7a\u3002\n@Grab('org.codehaus.groovy.modules.http-builder:http-builder:0.7')\nimport groovyx.net.http.HTTPBuilder\nimport groovyx.net.http.ContentType\nimport static groovyx.net.http.ContentType.TEXT\nimport static groovyx.net.http.Method.POST\n\n@Grab('org.apache.httpcomponents:httpmime:4.3.2')\nimport org.apache.http.entity.mime.MultipartEntityBuilder\nimport org.apache.http.util.EntityUtils\nimport static org.apache.http.entity.ContentType.TEXT_PLAIN\n\ndef URL_ROOT = 'http://...'\ndef http = new HTTPBuilder(URL_ROOT)\n\nhttp.request( POST, TEXT ) { req ->\n    uri.path = '/path/to/upload'\n    req.entity = MultipartEntityBuilder\n        .create()\n        .setCharset(Charset.forName('UTF-8')) // Java7 \u4ee5\u964d\u306a\u3089 StandardCharsets.UTF_8\n        .addTextBody('hoge', '\u307b\u3052\u307b\u3052', TEXT_PLAIN.withCharset('UTF-8'))\n        .addBinaryBody('importFile', file) // java.io.File\n        .build()\n\n    response.success = { res, reader ->\n        def responseBytes = EntityUtils.toByteArray(res.getEntity())\n        def bis = new ByteArrayInputStream(responseBytes)\n        // ... \u7528\u9014\u306b\u5408\u308f\u305b\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u51e6\u7406\n    }\n\n    response.failure = { res, reader ->\n        // \u5931\u6557\u6642\n    }\n}\n\n\nHttpClient\u7d4c\u7531\u3060\u3068\u65e5\u672c\u8a9e\u30d5\u30a1\u30a4\u30eb\u540d\u304c\u5316\u3051\u3066\u3057\u307e\u3046\u306e\u306f\u307e\u3060\u672a\u89e3\u6c7a\u3002\n\n```groovy\n@Grab('org.codehaus.groovy.modules.http-builder:http-builder:0.7')\nimport groovyx.net.http.HTTPBuilder\nimport groovyx.net.http.ContentType\nimport static groovyx.net.http.ContentType.TEXT\nimport static groovyx.net.http.Method.POST\n\n@Grab('org.apache.httpcomponents:httpmime:4.3.2')\nimport org.apache.http.entity.mime.MultipartEntityBuilder\nimport org.apache.http.util.EntityUtils\nimport static org.apache.http.entity.ContentType.TEXT_PLAIN\n\ndef URL_ROOT = 'http://...'\ndef http = new HTTPBuilder(URL_ROOT)\n\nhttp.request( POST, TEXT ) { req ->\n    uri.path = '/path/to/upload'\n    req.entity = MultipartEntityBuilder\n        .create()\n        .setCharset(Charset.forName('UTF-8')) // Java7 \u4ee5\u964d\u306a\u3089 StandardCharsets.UTF_8\n        .addTextBody('hoge', '\u307b\u3052\u307b\u3052', TEXT_PLAIN.withCharset('UTF-8'))\n        .addBinaryBody('importFile', file) // java.io.File\n        .build()\n\n    response.success = { res, reader ->\n    \tdef responseBytes = EntityUtils.toByteArray(res.getEntity())\n    \tdef bis = new ByteArrayInputStream(responseBytes)\n        // ... \u7528\u9014\u306b\u5408\u308f\u305b\u3066\u30ec\u30b9\u30dd\u30f3\u30b9\u51e6\u7406\n    }\n\n    response.failure = { res, reader ->\n        // \u5931\u6557\u6642\n    }\n}\n\n```", "tags": ["Groovy2.2.2"]}