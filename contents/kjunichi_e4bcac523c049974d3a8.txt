{"context": " More than 1 year has passed since last update.\n\n\u80cc\u666f\nmruby\u3092\u81ea\u524d\u306ePython\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u7d44\u307f\u8fbc\u307f\u305f\u3044\u3002\uff08Python\u3068\u3044\u3063\u3066\u3082\u6700\u7d42\u7684\u306b\u306fBlender\uff09\n\u3044\u304d\u306a\u308a\u306fPython\u521d\u5fc3\u8005\u306b\u306f\u96e3\u3057\u305d\u3046\u3060\u304b\u3089\u3001\u307e\u305a\u306f\nC\u306e\u30b3\u30fc\u30c9\u304b\u3089libmruby.a\u3092\u4f7f\u3046\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u8a66\u3057\u3066\u3044\u305f\u3002\n\nmrb_str_ptr\u5468\u308a\u306e\u30a8\u30e9\u30fc\nstruct RString *err_str;\n\nerr_str = mrb_str_ptr(mrb_funcall(mrb, mrb_obj_value(mrb->exc), \"inspect\", 0));\n        printf(\"mrb_run failed:%s\\n\", err_str->ptr);\n\n\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u3092\u524a\u6e1b\u3059\u308b\u305f\u3081\u306e\u5b9f\u88c5\u304c\u3042\u308b\u6642\u304b\u3089\n\u5c0e\u5165\u3055\u308c\u3001\u305d\u308c\u4ee5\u524d\u306emruby\u3092\u6271\u3063\u3066\u3044\u308b\u30b3\u30fc\u30c9\u3060\u3068\u3001\n\u4f55\u3089\u304b\u306e\u5bfe\u5fdc\u304c\u5fc5\u8981\u306b\u306a\u308b\u3002\n\u81ea\u5206\u306f\u6bce\u5ea6\u3053\u308c\u306b\u5f15\u3063\u304b\u304b\u308b\uff57\u3002\nstruct RString *err_str;\n\n// err_str = mrb_str_ptr(mrb_funcall(mrb, mrb_obj_value(mrb->exc), \"inspect\", 0));\n// printf(\"mrb_run failed:%s\\n\", err_str->ptr);\nprintf(\"mrb_run failed:%s\\n\", RSTRING_PTR(mrb_funcall(mrb, mrb_obj_value(mrb->exc), \"inspect\", 0)));\n\nRString\u69cb\u9020\u4f53\u306eptr\u30e1\u30f3\u30d0\u30fc\u3092\u53c2\u7167\u3059\u308b\u969b\u306f\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306b\nRSTRING_PTR\u30de\u30af\u30ed\u3092\u5b9a\u7fa9\u3059\u308c\u3070\u5bfe\u5fdc\u53ef\u80fd\u3060\u3063\u305f\u3002\n\n\u305d\u308c\u3067\u3082ld\u3067\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\n\u524d\u56dewebruby\u3092\u5f53\u6642\u6700\u65b0\u306emruby\u3067\u52d5\u304f\u3088\u3046\u306b\u3057\u305f\u969b\u306b\u306f\u3001\n\u4e0d\u8981\u3060\u3063\u305f\u304c\u3001\u4eca\u56de\u306f\nUndefined symbols for architecture x86_64:\n  \"_RSTRING_PTR\", referenced from:\n      _main in hoge-639d02.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\n\u306a\u3093\u3066\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3001\u3059\u3063\u304b\u308aC\u8a00\u8a9e\u5fd8\u308c\u3066\u3066\u3001strings\u3057\u3066libmruby.a\u3092\n\u8840\u773c\u306b\u306a\u3063\u3066\u63a2\u3057\u305f\u304c\u3001\u898b\u3064\u304b\u3089\u305a\u3001\u307e\u3041\u3001\u78ba\u304b\u306b\u30b7\u30f3\u30dc\u30eb\u89e3\u6c7a\u3067\u304d\u306a\u3044\u306a\u3041\u3002\u4ed5\u65b9\u306a\u3044\u304b\u3089\u5272\u3068\u8fd1\u3044\u3053\u3068\u3092\u3084\u3063\u3066\u305d\u3046\u306amirb.c\u306e\u89e3\u6790\u3092\u3059\u308b\u304b\u3068\u3001\u601d\u3044\u304d\u3084\u3001\n\u30de\u30af\u30ed\u5b9a\u7fa9\u306a\u306e\u3092\u4e00\u6669\u5bdd\u305f\u3089\u9583\u3044\u305f\u3002\n#include <mruby/string.h>\n\n\u3053\u308c\u3092\u8ffd\u52a0\u3057\u3066\u7121\u4e8b\u30d3\u30eb\u30c9\u51fa\u6765\u305f\u3002\n\nLink\n\nmruby\u3068C\u306e\u9023\u643a - Qiita\n\n# \u80cc\u666f\n\nmruby\u3092\u81ea\u524d\u306ePython\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u7d44\u307f\u8fbc\u307f\u305f\u3044\u3002\uff08Python\u3068\u3044\u3063\u3066\u3082\u6700\u7d42\u7684\u306b\u306fBlender\uff09\n\n\u3044\u304d\u306a\u308a\u306fPython\u521d\u5fc3\u8005\u306b\u306f\u96e3\u3057\u305d\u3046\u3060\u304b\u3089\u3001\u307e\u305a\u306f\nC\u306e\u30b3\u30fc\u30c9\u304b\u3089libmruby.a\u3092\u4f7f\u3046\u306b\u306f\u3069\u3046\u3059\u308c\u3070\u3044\u3044\u306e\u304b\u8a66\u3057\u3066\u3044\u305f\u3002\n\n# mrb_str_ptr\u5468\u308a\u306e\u30a8\u30e9\u30fc\n\n```c\nstruct RString *err_str;\n\nerr_str = mrb_str_ptr(mrb_funcall(mrb, mrb_obj_value(mrb->exc), \"inspect\", 0));\n        printf(\"mrb_run failed:%s\\n\", err_str->ptr);\n```\n\n[\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u3092\u524a\u6e1b\u3059\u308b\u305f\u3081\u306e\u5b9f\u88c5\u304c\u3042\u308b\u6642\u304b\u3089\n\u5c0e\u5165](http://ksss9.hatenablog.com/entry/2014/03/15/134603)\u3055\u308c\u3001\u305d\u308c\u4ee5\u524d\u306emruby\u3092\u6271\u3063\u3066\u3044\u308b\u30b3\u30fc\u30c9\u3060\u3068\u3001\n\u4f55\u3089\u304b\u306e\u5bfe\u5fdc\u304c\u5fc5\u8981\u306b\u306a\u308b\u3002\n\u81ea\u5206\u306f\u6bce\u5ea6\u3053\u308c\u306b\u5f15\u3063\u304b\u304b\u308b\uff57\u3002\n\n```c\nstruct RString *err_str;\n\n// err_str = mrb_str_ptr(mrb_funcall(mrb, mrb_obj_value(mrb->exc), \"inspect\", 0));\n// printf(\"mrb_run failed:%s\\n\", err_str->ptr);\nprintf(\"mrb_run failed:%s\\n\", RSTRING_PTR(mrb_funcall(mrb, mrb_obj_value(mrb->exc), \"inspect\", 0)));\n```\n\nRString\u69cb\u9020\u4f53\u306eptr\u30e1\u30f3\u30d0\u30fc\u3092\u53c2\u7167\u3059\u308b\u969b\u306f\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306b\nRSTRING_PTR\u30de\u30af\u30ed\u3092\u5b9a\u7fa9\u3059\u308c\u3070\u5bfe\u5fdc\u53ef\u80fd\u3060\u3063\u305f\u3002\n\n# \u305d\u308c\u3067\u3082ld\u3067\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\n\n\u524d\u56de[webruby\u3092\u5f53\u6642\u6700\u65b0\u306emruby\u3067\u52d5\u304f\u3088\u3046\u306b\u3057\u305f](http://kjunichi.cocolog-nifty.com/misc/2014/12/webrubyarraysam.html)\u969b\u306b\u306f\u3001\n\u4e0d\u8981\u3060\u3063\u305f\u304c\u3001\u4eca\u56de\u306f\n\n```shell-session\nUndefined symbols for architecture x86_64:\n  \"_RSTRING_PTR\", referenced from:\n      _main in hoge-639d02.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n```\n\n\u306a\u3093\u3066\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3001\u3059\u3063\u304b\u308aC\u8a00\u8a9e\u5fd8\u308c\u3066\u3066\u3001strings\u3057\u3066libmruby.a\u3092\n\u8840\u773c\u306b\u306a\u3063\u3066\u63a2\u3057\u305f\u304c\u3001\u898b\u3064\u304b\u3089\u305a\u3001\u307e\u3041\u3001\u78ba\u304b\u306b\u30b7\u30f3\u30dc\u30eb\u89e3\u6c7a\u3067\u304d\u306a\u3044\u306a\u3041\u3002\u4ed5\u65b9\u306a\u3044\u304b\u3089\u5272\u3068\u8fd1\u3044\u3053\u3068\u3092\u3084\u3063\u3066\u305d\u3046\u306amirb.c\u306e\u89e3\u6790\u3092\u3059\u308b\u304b\u3068\u3001\u601d\u3044\u304d\u3084\u3001\n\n\u30de\u30af\u30ed\u5b9a\u7fa9\u306a\u306e\u3092\u4e00\u6669\u5bdd\u305f\u3089\u9583\u3044\u305f\u3002\n\n```c\n#include <mruby/string.h>\n```\n\n\u3053\u308c\u3092\u8ffd\u52a0\u3057\u3066\u7121\u4e8b\u30d3\u30eb\u30c9\u51fa\u6765\u305f\u3002\n \n# Link\n\n- [mruby\u3068C\u306e\u9023\u643a - Qiita](http://qiita.com/cubicdaiya/items/fc0620c7b9629bb85d6f)\n", "tags": ["mruby", "C\u8a00\u8a9e"]}