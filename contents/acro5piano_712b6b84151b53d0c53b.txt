{"context": "\u81ea\u5206\u306e\u66f8\u3044\u305fLaravel 5.4 + Vue 2.1 \u3067SPA\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u304c\u9577\u3059\u304e\u308b\u306e\u3067\u8981\u70b9\u3092\u307e\u3068\u3081\u305f\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\u95a2\u4fc2\u3042\u308b\u90e8\u5206\u3060\u3051\u3002\nJS\u304c\u6df1\u3044\u3001\u306a\u3093\u3068\u304b\u306a\u3089\u306a\u3044\u304b\u3002\n.\n|-- app\n|   `-- Models\n|       `-- Article.php\n|-- package.json\n|-- resources\n|   |-- views\n|   |   `-- app.blade.php\n|   `-- assets\n|       `-- js\n|           |-- app.js\n|           |-- bootstrap.js\n|           `-- components\n|               |-- Articles\n|               |   `-- Index.vue\n|               `-- Layouts\n|                   `-- Navbar.vue\n|-- routes\n    |-- api.php\n    `-- web.php\n\n\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9 Routing\n\nroutes/web.php\n<?php\n\nRoute::get('/{any}', function () {\n    return view('app');\n})->where('any', '.*');\n\n\n\nroutes/api.php\nRoute::group(['middleware' => 'api'], function() {\n    Route::get('articles',  function() {\n        $articles = Article::all()->take(5);\n        return $articles;\n    });\n});\n\n\nGET /api/articles \u3068\u3044\u3046\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u304c\u5b9a\u7fa9\u3055\u308c\u308b\n\u4e0a\u8a18\u4ee5\u5916\u306f\u5168\u3066\u3001SPA\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8 app.blade.php \u304c\u8fd4\u3055\u308c\u308b\n\nView\nSPA\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3067\u3042\u308b\n\nresouces/views/app.blade.php\n<!DOCTYPE html>\n<html lang=\"{{ config('app.locale') }}\">\n    <head>\n        <script>\n            window.Laravel = {};\n            window.Laravel.csrfToken = \"{{ csrf_token() }}\";\n        </script>\n    </head>\n    <body>\n        <div id=\"app\">\n            <navbar></navbar>\n            <div class=\"container\">\n                <router-view></router-view>\n            </div>\n        </div>\n    </body>\n    <script src=\"{{ mix('js/app.js') }}\"></script>\n</html>\n\n\n<router-view></router-view> \u304c vue-router \u306b\u3088\u3063\u3066\u52d5\u7684\u306b\u5909\u308f\u308b\n\nJS\n\napp.js\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3068Component\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\nresources/assets/js/app.js\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nrequire('./bootstrap')\n\nVue.use(VueRouter)\n\nVue.component('navbar', require('./components/Layouts/Navbar.vue'))\n\nconst router = new VueRouter({\n    mode: 'history',\n    routes: [\n        { path: '/', \n          component: require('./components/Articles/Index.vue') \n        }\n    ]\n})\n\nconst app = new Vue({\n    router\n}).$mount('#app')\n\n\n\nbootstrap.js\n\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u7684\u306a\u30d5\u30a1\u30a4\u30eb\n\nresources/assets/js/bootstrap.js\n// ...\n\nwindow.axios = require('axios')\n\nwindow.axios.defaults.headers.common = {\n    'X-CSRF-TOKEN': window.Laravel.csrfToken,\n    'X-Requested-With': 'XMLHttpRequest'\n}\n\nVue.prototype.$http = axios\n\n// ...\n\n\n\nVue Component\nMVC\u306eV\u306b\u5f53\u305f\u308b\u90e8\u5206\u3002\n\nresources/assets/js/components/Layouts/Navbar.vue\n<template>\n    <nav class=\"navbar navbar-default\">\n        <li>\n            <router-link  to=\"/about\">About</router-link>\n        </li>\n    </nav>\n</template>\n\n\n\nresources/assets/js/components/Articles/Index.vue\n<template>\n    <div v-for=\"article in articles\">\n        <h1>\n            <router-link :to=\"'/articles/' + article.id\">{{ article.title }}</router-link>\n        </h1>\n        <p>\n            {{ article.content }}\n        </p>\n    </div>\n</template>\n\n<script>\n    export default {\n        created() {\n            this.fetchArticles()\n        },\n        data() {\n            return {\n                articles: []\n            }\n        },\n        methods: {\n            fetchArticles() {\n                this.$http({\n                    url: '/api/articles',\n                    method: 'GET'\n                }).then(res =>  {\n                    this.articles =  res.data\n                })\n            }\n        }\n    }\n</script>\n\n\n\u8d70\u308a\u66f8\u304d\u3060\u306a\u3042\u30fb\u30fb\u30fb\n\u3067\u3082\u3053\u308c\u3067\u6982\u5ff5\u306f\u7406\u89e3\u3067\u304d\u305f\u3002\n\u81ea\u5206\u306e\u66f8\u3044\u305f[Laravel 5.4 + Vue 2.1 \u3067SPA\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb](http://qiita.com/acro5piano/items/f33381fc60408abe9865)\u304c\u9577\u3059\u304e\u308b\u306e\u3067\u8981\u70b9\u3092\u307e\u3068\u3081\u305f\u3002\n\n# \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210 \n\n\u95a2\u4fc2\u3042\u308b\u90e8\u5206\u3060\u3051\u3002\nJS\u304c\u6df1\u3044\u3001\u306a\u3093\u3068\u304b\u306a\u3089\u306a\u3044\u304b\u3002\n\n```\n.\n|-- app\n|   `-- Models\n|       `-- Article.php\n|-- package.json\n|-- resources\n|   |-- views\n|   |   `-- app.blade.php\n|   `-- assets\n|       `-- js\n|           |-- app.js\n|           |-- bootstrap.js\n|           `-- components\n|               |-- Articles\n|               |   `-- Index.vue\n|               `-- Layouts\n|                   `-- Navbar.vue\n|-- routes\n    |-- api.php\n    `-- web.php\n```\n\n\n# \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9 Routing\n\n```php:routes/web.php\n<?php\n\nRoute::get('/{any}', function () {\n    return view('app');\n})->where('any', '.*');\n```\n\n```php:routes/api.php\nRoute::group(['middleware' => 'api'], function() {\n    Route::get('articles',  function() {\n        $articles = Article::all()->take(5);\n        return $articles;\n    });\n});\n```\n\n`GET /api/articles` \u3068\u3044\u3046\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u304c\u5b9a\u7fa9\u3055\u308c\u308b\n\u4e0a\u8a18\u4ee5\u5916\u306f\u5168\u3066\u3001SPA\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8 `app.blade.php` \u304c\u8fd4\u3055\u308c\u308b\n\n# View\n\nSPA\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\u3067\u3042\u308b\n\n```php:resouces/views/app.blade.php\n<!DOCTYPE html>\n<html lang=\"{{ config('app.locale') }}\">\n    <head>\n        <script>\n            window.Laravel = {};\n            window.Laravel.csrfToken = \"{{ csrf_token() }}\";\n        </script>\n    </head>\n    <body>\n        <div id=\"app\">\n            <navbar></navbar>\n            <div class=\"container\">\n                <router-view></router-view>\n            </div>\n        </div>\n    </body>\n    <script src=\"{{ mix('js/app.js') }}\"></script>\n</html>\n```\n\n`<router-view></router-view>` \u304c `vue-router` \u306b\u3088\u3063\u3066\u52d5\u7684\u306b\u5909\u308f\u308b\n\n# JS\n\n### app.js\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3068Component\u3092\u5b9a\u7fa9\u3059\u308b\u3002\n\n```js:resources/assets/js/app.js\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nrequire('./bootstrap')\n\nVue.use(VueRouter)\n\nVue.component('navbar', require('./components/Layouts/Navbar.vue'))\n\nconst router = new VueRouter({\n    mode: 'history',\n    routes: [\n        { path: '/', \n          component: require('./components/Articles/Index.vue') \n        }\n    ]\n})\n\nconst app = new Vue({\n    router\n}).$mount('#app')\n```\n\n### bootstrap.js\n\n\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u7684\u306a\u30d5\u30a1\u30a4\u30eb\n\n```js:resources/assets/js/bootstrap.js\n// ...\n\nwindow.axios = require('axios')\n\nwindow.axios.defaults.headers.common = {\n    'X-CSRF-TOKEN': window.Laravel.csrfToken,\n    'X-Requested-With': 'XMLHttpRequest'\n}\n\nVue.prototype.$http = axios\n\n// ...\n```\n\n# Vue Component\n\nMVC\u306eV\u306b\u5f53\u305f\u308b\u90e8\u5206\u3002\n\n```html:resources/assets/js/components/Layouts/Navbar.vue\n<template>\n    <nav class=\"navbar navbar-default\">\n        <li>\n            <router-link  to=\"/about\">About</router-link>\n        </li>\n    </nav>\n</template>\n```\n\n```html:resources/assets/js/components/Articles/Index.vue\n<template>\n    <div v-for=\"article in articles\">\n        <h1>\n            <router-link :to=\"'/articles/' + article.id\">{{ article.title }}</router-link>\n        </h1>\n        <p>\n            {{ article.content }}\n        </p>\n    </div>\n</template>\n\n<script>\n    export default {\n        created() {\n            this.fetchArticles()\n        },\n        data() {\n            return {\n                articles: []\n            }\n        },\n        methods: {\n            fetchArticles() {\n                this.$http({\n                    url: '/api/articles',\n                    method: 'GET'\n                }).then(res =>  {\n                    this.articles =  res.data\n                })\n            }\n        }\n    }\n</script>\n```\n\n\u8d70\u308a\u66f8\u304d\u3060\u306a\u3042\u30fb\u30fb\u30fb\n\u3067\u3082\u3053\u308c\u3067\u6982\u5ff5\u306f\u7406\u89e3\u3067\u304d\u305f\u3002\n", "tags": ["laravel", "vue.js"]}