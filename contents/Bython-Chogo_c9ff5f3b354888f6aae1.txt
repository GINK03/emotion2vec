{"context": " More than 1 year has passed since last update.\n\n\n\nHi, it's Sunday but little tired - :(\nSo this is next step for my project - \"Learning from tagged web site\". I already have bookmarked date on social bookmark service. Learning tags from the data for suggesting tag for another web site. \nSo actually today's script is only for specific site to getting necessary data. However I think it's good exercise for using BeautifulSoup. Let's start.\nWhat data I have to collect for learning? - Web sites I checked and its tags. So I scrape web link data and tags on Hatena bookmark which is social bookmark service site Here is my bookmark page.. Check HTML source code, it's using JavaScript and I can't see date from ordinal HTML source. however there is JS off site. I confirmed there are necessary data I want. Below is html tag for one bookmark. I's long but please check but take it easy. \n<li class=\"entrylist-unit\"\ndata-eid=\"272036974\"\ndata-bookmark-count=\"1\"\n>\n<h3 class=\"entry entry-title\" id=\"bookmark-272036974\" style=\"background-image:url(http://cdn-ak.favicon.st-hatena.com/?url=http%3A%2F%2Fqiita.com%2F)\">\n<a href=\"http://qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a\" target=\"_blank\" class=\"entry-link\" data-track-click-target=\"direct\">MachineLearning - [\u6a5f\u68b0\u5b66\u7fd2\u3067\u63a8\u5968\u30bf\u30b0\u4ed8\u3051 #2]\u3000\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u62e1\u5f35 - Qiita</a> <img src=\"/images/camera.gif\" alt=\"\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306b\u306f\u5199\u771f\u304c\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\" title=\"\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306b\u306f\u5199\u771f\u304c\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\" />\n<a class=\"domain\" href=\"/bython-chogo/?url=http%3A%2F%2Fqiita.com%2F\" rel=\"nofollow\">qiita.com</a>\n</h3>\n<ul>\n\n<li class=\"category\"><a href=\"/hotentry/it\" class=\"category group2\">\u30c6\u30af\u30ce\u30ed\u30b8\u30fc</a></li>\n\n<li class=\"users\"><a href=\"/entry/qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a\" data-track-click-target=\"entry\" title=\"\u306f\u3066\u306a\u30d6\u30c3\u30af\u30de\u30fc\u30af - MachineLearning - [\u6a5f\u68b0\u5b66\u7fd2\u3067\u63a8\u5968\u30bf\u30b0\u4ed8\u3051 #2]\u3000\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u62e1\u5f35 - Qiita (1\u30d6\u30c3\u30af\u30de\u30fc\u30af)\"><span>1</span> user</a></li>\n\n<img src=\"http://cdn-ak.b.st-hatena.com/images/keyword.gif?7c8c9ecc9d409bd521163fab85c5da611beba276\" alt=\"\u30ad\u30fc\u30ef\u30fc\u30c9\" title=\"\u3053\u306e\u30da\u30fc\u30b8\u306b\u542b\u307e\u308c\u308b\u30ad\u30fc\u30ef\u30fc\u30c9\" />\n<ul class=\"keywords\">\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/scraper\">scraper</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/tag\">tag</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/Qiita\">Qiita</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/SCRIPT\">SCRIPT</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/blog\">blog</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/Hatena%20Blog\">Hatena Blog</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/encode\">encode</a></li>\n\n</ul>\n\n</ul>\n\n<div class=\"curvebox-header\"><div></div></div>\n<div class=\"curvebox-body comment\">\n<ul class=\"comment \">\n\n<li data-user=\"bython-chogo\" onmouseover=\"Hatena.Bookmark.CommentEditor.Hover.create(this, 'http://qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a');\" class=\"mine\">    <a href=\"/bython-chogo/\"><img src=\"http://cdn1.www.st-hatena.com/users/by/bython-chogo/profile_s.gif\" class=\"profile-image\" alt=\"bython-chogo\" title=\"bython-chogo\" width=\"16\" height=\"16\" /></a>\n<a class=\"username\" href=\"/bython-chogo/20151126#bookmark-272036974\">bython-chogo</a>    <img style='display:none' id=\"delete-272036974\" src=\"http://cdn-ak.b.st-hatena.com/images/delete.gif\" alt=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" title=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" class=\"inplace-delete-icon\" />\n<img src=\"http://cdn-ak.b.st-hatena.com/images/edit.gif\" alt=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" title=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" style=\"display:none\" class=\"inplace-edit-icon\" />\n<span class=\"tags\"><a rel=\"tag\" class=\"user-tag\" href=\"/bython-chogo/%E3%82%BB%E3%83%AB%E3%82%AF%E3%83%9E/\">\u30bb\u30eb\u30af\u30de</a></span>\n<span class=\"comment\"></span><span class=\"timestamp\">2015/11/26 </span>\n<span class=\"twitter\"><a href=\"http://twitter.com/BythonChogo/status/669541778823901185\" class=\"with-short-url\" target=\"_blank\"><img src=\"http://cdn-ak.b.st-hatena.com/images/icon-twitter.png\" width=\"16\" height=\"16\" alt=\"Twitter\u3067\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u95b2\u89a7\" title=\"Twitter\u3067\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u95b2\u89a7\" /></a><span class=\"retweet-count require-retweet-count no-retweet-tree\" style=\"display: none\"></span></span>    <noscript>\n  <a href=\"/bython-chogo/add.delete?url=http%3A%2F%2Fqiita.com%2FBython-Chogo%2Fitems%2F28475b95e48f76dbc00a&amp;eid=272036974\"><img src=\"http://cdn-ak.b.st-hatena.com/images/delete.gif\" alt=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" title=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" class=\"inplace-delete-icon\" /></a><a\n  href=\"/bython-chogo/add.confirm?url=http%3A%2F%2Fqiita.com%2FBython-Chogo%2Fitems%2F28475b95e48f76dbc00a\"><img src=\"http://cdn-ak.b.st-hatena.com/images/edit.gif\" alt=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" title=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" class=\"inplace-edit-icon\" /></a>\n</noscript>\n\n</li>\n\nOk, I'd have to get tags and url. Let's use find_all function. \n    soup = BeautifulSoup( html, \"lxml\" )\n    soup.originalEnodings\n    hatebu_data = []\n    for tag in soup.find_all( 'li', { 'class' : 'entrylist-unit'}): # (1) \n        elements = []\n        text = \"\".join([str.encode('utf8') for str in tag.contents])\n        soup2 = BeautifulSoup( text, \"lxml\")\n        elements.append( soup2.a['href'] ) # (2)URL\n        elements.append( [unicode(str.string) for str in soup2.find_all( 'a', { 'class': 'user-tag'})] ) #(3) Tags\n        elements.append( soup2.find( 'span', { 'class': 'timestamp'}).string)\n        hatebu_data.append(elements)\n    return hatebu_data\n\n(1) Use find_all to get one book mark HTML source. \n(2) in the tag scraped, get url with <a href> tag. \n(3) in the tag scraped, get tags with <a class='user-tag'>\nthen Hatebu_data has list['http://qiita.com/Bython-Chogo/items/2e2e508b91928e5cd9d5',[\u30bb\u30eb\u30af\u30de]]. BeautifulSoup is super cool. \nNext will be Machine Learning phase with scraped data (finally...). See you again. \n\n<\u65e5\u672c\u8a9e>\n\u3053\u3093\u306b\u3061\u306f\u3001\u65e5\u66dc\u65e5\u306e\u5915\u65b9\u3067\u3059\u306d\u3002\u306a\u3093\u304b\u3060\u308b\u3044\u3063\u3059\u3002\u307e\u305f\u660e\u65e5\u304b\u3089\u4ed5\u4e8b\u3067\u3059\u306d\u3047\u3002\u3002\u3002\n\u4eca\u65e5\u306f\u307e\u305f\u307e\u305f\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306e\u304a\u8a71\u3067\u3059\u3002\u6b21\u306f\u5b66\u7fd2\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306f\u3044\u3064\u3082\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u3066\u306a\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3067\u3044\u305c\u3093\u3088\u308a\u53d6\u5f97\u3057\u3066\u3044\u305f\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u304d\u3087\u3046\u306f\u305d\u306e\u30c7\u30fc\u30bf\u304b\u3089URL\u3068\u30bf\u30b0\u306e\u30c7\u30fc\u30bf\u3092\u629c\u304d\u51fa\u3057\u307e\u3059\u3002\u3053\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u3066\u30bf\u30b0\u3068URL\u306e\u6587\u7ae0\u3092\u5b66\u7fd2\u3055\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u306a\u306e\u3067\u672c\u65e5\u306e\u5185\u5bb9\u306f\u307e\u305f\u307e\u305fBeautifulSoup\u306e\u4f7f\u3044\u65b9\u306b\u306a\u308a\u307e\u3059\u3002\u30cf\u30c6\u30d6\u306e\u307f\u306e\u5bfe\u5fdc\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306a\u308a\u307e\u3059\u304c\u3001BeautifulSoup\u306e\u304a\u52c9\u5f37\u306b\u306f\u3061\u3087\u3046\u3069\u3088\u3044\u3067\u3059\u306d\u3002\n\u3061\u306a\u307f\u306bURL\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u629c\u304d\u51fa\u3057\u3066\u3044\u3063\u305f\u308a\u3059\u308b\u306e\u306f\u8457\u4f5c\u6a29\u7684\u306a\u914d\u616e\u306f\u5fc5\u8981\u3067\u3059\u3002\u307e\u305f\u306f\u3066\u306a\u306b\u3082\u7121\u65ad\u3067\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u3067\u3001\u308f\u3051\u306e\u308f\u304b\u3089\u306a\u3044\u30a2\u30af\u30bb\u30b9\u304c\u305f\u304f\u3055\u3093\u6d41\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3001\u5f7c\u3089\u306b\u30a2\u30af\u7981\u3055\u308c\u3066\u3082\u306a\u306b\u3082\u6587\u53e5\u306f\u3044\u308f\u308c\u307e\u305b\u3093\u3002\u305d\u3053\u307e\u3067\u904e\u6fc0\u3067\u306a\u304f\u3066\u3082\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30c1\u30a7\u30f3\u30b8\u306b\u3088\u308a\u6628\u65e5\u307e\u3067\u4f7f\u3048\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u4f7f\u3048\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u3060\u3063\u3066\u3082\u3061\u308d\u3093\u3042\u308b\u308f\u3051\u3067\u3059\u3002\u611f\u8b1d\u3068\u8b19\u865a\u3055\u306f\u5fd8\u308c\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\n\u611f\u8b1d\u3092\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u4eca\u56de\u629c\u304d\u51fa\u3059\u5143\u30c7\u30fc\u30bf\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u3044\u304b\u306b\u30cf\u30c6\u30d6\u306e\uff11\u30d6\u30af\u30de\u5206\u306eHTML\u30bd\u30fc\u30b9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\u3053\u308c\u306f\u6885\u6751\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30bb\u30eb\u30af\u30de\uff08\u30bb\u30eb\u30d5\u30fb\u30d6\u30c3\u30af\u30de\u30fc\u30af\uff09\u3057\u3066\u3044\u308b\u3082\u306e\u306b\u306a\u308a\u307e\u3059\u3002\u306f\u3066\u3076\u3055\u3093\u306f\u666e\u901a\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068JavaScript\u3092\u5229\u7528\u3057\u3066\u3044\u3066\u3001\u4eca\u56de\u629c\u304d\u51fa\u3057\u305f\u3044\u30c7\u30fc\u30bf\u306f\u30bd\u30fc\u30b9\u3092\u898b\u305f\u3060\u3051\u3067\u306f\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u304c\u3001JavaScript\u3092\u30aa\u30d5\u306b\u3057\u305f\u30da\u30fc\u30b8\u3082\u3042\u308b\u306e\u3067\u4eca\u56de\u305d\u3061\u3089\u304b\u3089\u629c\u304d\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u3001\u9577\u3044\u3067\u3059\u304c\u4eca\u56de\u306e\u8aad\u307f\u53d6\u308bHTML\u306e\u30bf\u30b0\u306b\u306a\u308a\u307e\u3059\u3002\n<li class=\"entrylist-unit\"\ndata-eid=\"272036974\"\ndata-bookmark-count=\"1\"\n>\n<h3 class=\"entry entry-title\" id=\"bookmark-272036974\" style=\"background-image:url(http://cdn-ak.favicon.st-hatena.com/?url=http%3A%2F%2Fqiita.com%2F)\">\n<a href=\"http://qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a\" target=\"_blank\" class=\"entry-link\" data-track-click-target=\"direct\">MachineLearning - [\u6a5f\u68b0\u5b66\u7fd2\u3067\u63a8\u5968\u30bf\u30b0\u4ed8\u3051 #2]\u3000\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u62e1\u5f35 - Qiita</a> <img src=\"/images/camera.gif\" alt=\"\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306b\u306f\u5199\u771f\u304c\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\" title=\"\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306b\u306f\u5199\u771f\u304c\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\" />\n<a class=\"domain\" href=\"/bython-chogo/?url=http%3A%2F%2Fqiita.com%2F\" rel=\"nofollow\">qiita.com</a>\n</h3>\n<ul>\n\n<li class=\"category\"><a href=\"/hotentry/it\" class=\"category group2\">\u30c6\u30af\u30ce\u30ed\u30b8\u30fc</a></li>\n\n<li class=\"users\"><a href=\"/entry/qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a\" data-track-click-target=\"entry\" title=\"\u306f\u3066\u306a\u30d6\u30c3\u30af\u30de\u30fc\u30af - MachineLearning - [\u6a5f\u68b0\u5b66\u7fd2\u3067\u63a8\u5968\u30bf\u30b0\u4ed8\u3051 #2]\u3000\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u62e1\u5f35 - Qiita (1\u30d6\u30c3\u30af\u30de\u30fc\u30af)\"><span>1</span> user</a></li>\n\n<img src=\"http://cdn-ak.b.st-hatena.com/images/keyword.gif?7c8c9ecc9d409bd521163fab85c5da611beba276\" alt=\"\u30ad\u30fc\u30ef\u30fc\u30c9\" title=\"\u3053\u306e\u30da\u30fc\u30b8\u306b\u542b\u307e\u308c\u308b\u30ad\u30fc\u30ef\u30fc\u30c9\" />\n<ul class=\"keywords\">\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/scraper\">scraper</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/tag\">tag</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/Qiita\">Qiita</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/SCRIPT\">SCRIPT</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/blog\">blog</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/Hatena%20Blog\">Hatena Blog</a></li>\n\n<li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/encode\">encode</a></li>\n\n</ul>\n\n</ul>\n\n<div class=\"curvebox-header\"><div></div></div>\n<div class=\"curvebox-body comment\">\n<ul class=\"comment \">\n\n<li data-user=\"bython-chogo\" onmouseover=\"Hatena.Bookmark.CommentEditor.Hover.create(this, 'http://qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a');\" class=\"mine\">    <a href=\"/bython-chogo/\"><img src=\"http://cdn1.www.st-hatena.com/users/by/bython-chogo/profile_s.gif\" class=\"profile-image\" alt=\"bython-chogo\" title=\"bython-chogo\" width=\"16\" height=\"16\" /></a>\n<a class=\"username\" href=\"/bython-chogo/20151126#bookmark-272036974\">bython-chogo</a>    <img style='display:none' id=\"delete-272036974\" src=\"http://cdn-ak.b.st-hatena.com/images/delete.gif\" alt=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" title=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" class=\"inplace-delete-icon\" />\n<img src=\"http://cdn-ak.b.st-hatena.com/images/edit.gif\" alt=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" title=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" style=\"display:none\" class=\"inplace-edit-icon\" />\n<span class=\"tags\"><a rel=\"tag\" class=\"user-tag\" href=\"/bython-chogo/%E3%82%BB%E3%83%AB%E3%82%AF%E3%83%9E/\">\u30bb\u30eb\u30af\u30de</a></span>\n<span class=\"comment\"></span><span class=\"timestamp\">2015/11/26 </span>\n<span class=\"twitter\"><a href=\"http://twitter.com/BythonChogo/status/669541778823901185\" class=\"with-short-url\" target=\"_blank\"><img src=\"http://cdn-ak.b.st-hatena.com/images/icon-twitter.png\" width=\"16\" height=\"16\" alt=\"Twitter\u3067\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u95b2\u89a7\" title=\"Twitter\u3067\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u95b2\u89a7\" /></a><span class=\"retweet-count require-retweet-count no-retweet-tree\" style=\"display: none\"></span></span>    <noscript>\n  <a href=\"/bython-chogo/add.delete?url=http%3A%2F%2Fqiita.com%2FBython-Chogo%2Fitems%2F28475b95e48f76dbc00a&amp;eid=272036974\"><img src=\"http://cdn-ak.b.st-hatena.com/images/delete.gif\" alt=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" title=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" class=\"inplace-delete-icon\" /></a><a\n  href=\"/bython-chogo/add.confirm?url=http%3A%2F%2Fqiita.com%2FBython-Chogo%2Fitems%2F28475b95e48f76dbc00a\"><img src=\"http://cdn-ak.b.st-hatena.com/images/edit.gif\" alt=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" title=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" class=\"inplace-edit-icon\" /></a>\n</noscript>\n\n</li>\n\n\u3067\u306f\u3001\u3053\u306e\u4e2d\u304b\u3089URL\u3068\u30bf\u30b0\u3092\u629c\u304d\u51fa\u3059\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\n    soup = BeautifulSoup( html, \"lxml\" )\n    soup.originalEnodings\n    hatebu_data = []\n    for tag in soup.find_all( 'li', { 'class' : 'entrylist-unit'}): # (1) \n        elements = []\n        text = \"\".join([str.encode('utf8') for str in tag.contents])\n        soup2 = BeautifulSoup( text, \"lxml\")\n        elements.append( soup2.a['href'] ) # (2)URL\n        elements.append( [unicode(str.string) for str in soup2.find_all( 'a', { 'class': 'user-tag'})] ) #(3) Tags\n        elements.append( soup2.find( 'span', { 'class': 'timestamp'}).string)\n        hatebu_data.append(elements)\n    return hatebu_data\n\n(1) find_all\u95a2\u6570\u3067\u5148\u306e<li>\u30bf\u30b0\u306b\u56f2\u307e\u308c\u305fHTML\u30d5\u30a1\u30a4\u30eb\u3092\u629c\u304d\u53d6\u308a\u307e\u3059\u3002\n(2) \uff11\u3067\u629c\u3044\u305fHTML\u30bf\u30b0\u5185\u3067<a href>\u304b\u3089URL\u3092\u3068\u308b\n(3) \uff11\u3067\u629c\u3044\u305fHTML\u30bf\u30b0\u5185\u3067<a class='user-tag'>\u304b\u3089Tag\u60c5\u5831\u3092\u3068\u308b\n\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u4ee5\u4e0b\u306e\u30ea\u30b9\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\nlist['http://qiita.com/Bython-Chogo/items/2e2e508b91928e5cd9d5',[\u30bb\u30eb\u30af\u30de]]. BeautifulSoup is super cool. \n\n\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\uff01\u6b21\u56de\u304b\u3089\u306f\u3068\u3046\u3068\u3046\u6a5f\u68b0\u5b66\u7fd2\u306e\u3068\u3053\u308d\u306b\u306f\u3044\u3063\u3066\u304d\u307e\u3059\u3002\u4eca\u56de\u307e\u3067\u629c\u304d\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u3092\u3044\u308c\u3053\u307f\u307e\u3059\u3002\u305d\u308c\u3067\u306f\uff01\n#<ENGLISH>\n\nHi, it's Sunday but little tired - :(\n\nSo this is next step for my project - \"Learning from tagged web site\". I already have bookmarked date on social bookmark service. Learning tags from the data for suggesting tag for another web site. \n\nSo actually today's script is only for specific site to getting necessary data. However I think it's good exercise for using BeautifulSoup. Let's start.\n\nWhat data I have to collect for learning? - Web sites I checked and its tags. So I scrape web link data and tags on Hatena bookmark which is social bookmark service site [Here is my bookmark page.](http://b.hatena.ne.jp/bython-chogo/). Check HTML source code, it's using JavaScript and I can't see date from ordinal HTML source. however there is JS off site. I confirmed there are necessary data I want. Below is html tag for one bookmark. I's long but please check but take it easy. \n\n    <li class=\"entrylist-unit\"\n    data-eid=\"272036974\"\n    data-bookmark-count=\"1\"\n    >\n    <h3 class=\"entry entry-title\" id=\"bookmark-272036974\" style=\"background-image:url(http://cdn-ak.favicon.st-hatena.com/?url=http%3A%2F%2Fqiita.com%2F)\">\n    <a href=\"http://qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a\" target=\"_blank\" class=\"entry-link\" data-track-click-target=\"direct\">MachineLearning - [\u6a5f\u68b0\u5b66\u7fd2\u3067\u63a8\u5968\u30bf\u30b0\u4ed8\u3051 #2]\u3000\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u62e1\u5f35 - Qiita</a> <img src=\"/images/camera.gif\" alt=\"\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306b\u306f\u5199\u771f\u304c\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\" title=\"\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306b\u306f\u5199\u771f\u304c\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\" />\n    <a class=\"domain\" href=\"/bython-chogo/?url=http%3A%2F%2Fqiita.com%2F\" rel=\"nofollow\">qiita.com</a>\n    </h3>\n    <ul>\n  \n    <li class=\"category\"><a href=\"/hotentry/it\" class=\"category group2\">\u30c6\u30af\u30ce\u30ed\u30b8\u30fc</a></li>\n  \n    <li class=\"users\"><a href=\"/entry/qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a\" data-track-click-target=\"entry\" title=\"\u306f\u3066\u306a\u30d6\u30c3\u30af\u30de\u30fc\u30af - MachineLearning - [\u6a5f\u68b0\u5b66\u7fd2\u3067\u63a8\u5968\u30bf\u30b0\u4ed8\u3051 #2]\u3000\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u62e1\u5f35 - Qiita (1\u30d6\u30c3\u30af\u30de\u30fc\u30af)\"><span>1</span> user</a></li>\n  \n    <img src=\"http://cdn-ak.b.st-hatena.com/images/keyword.gif?7c8c9ecc9d409bd521163fab85c5da611beba276\" alt=\"\u30ad\u30fc\u30ef\u30fc\u30c9\" title=\"\u3053\u306e\u30da\u30fc\u30b8\u306b\u542b\u307e\u308c\u308b\u30ad\u30fc\u30ef\u30fc\u30c9\" />\n    <ul class=\"keywords\">\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/scraper\">scraper</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/tag\">tag</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/Qiita\">Qiita</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/SCRIPT\">SCRIPT</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/blog\">blog</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/Hatena%20Blog\">Hatena Blog</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/encode\">encode</a></li>\n    \n    </ul>\n  \n    </ul>\n\n    <div class=\"curvebox-header\"><div></div></div>\n    <div class=\"curvebox-body comment\">\n    <ul class=\"comment \">\n    \n    <li data-user=\"bython-chogo\" onmouseover=\"Hatena.Bookmark.CommentEditor.Hover.create(this, 'http://qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a');\" class=\"mine\">    <a href=\"/bython-chogo/\"><img src=\"http://cdn1.www.st-hatena.com/users/by/bython-chogo/profile_s.gif\" class=\"profile-image\" alt=\"bython-chogo\" title=\"bython-chogo\" width=\"16\" height=\"16\" /></a>\n    <a class=\"username\" href=\"/bython-chogo/20151126#bookmark-272036974\">bython-chogo</a>    <img style='display:none' id=\"delete-272036974\" src=\"http://cdn-ak.b.st-hatena.com/images/delete.gif\" alt=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" title=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" class=\"inplace-delete-icon\" />\n    <img src=\"http://cdn-ak.b.st-hatena.com/images/edit.gif\" alt=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" title=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" style=\"display:none\" class=\"inplace-edit-icon\" />\n    <span class=\"tags\"><a rel=\"tag\" class=\"user-tag\" href=\"/bython-chogo/%E3%82%BB%E3%83%AB%E3%82%AF%E3%83%9E/\">\u30bb\u30eb\u30af\u30de</a></span>\n    <span class=\"comment\"></span><span class=\"timestamp\">2015/11/26 </span>\n    <span class=\"twitter\"><a href=\"http://twitter.com/BythonChogo/status/669541778823901185\" class=\"with-short-url\" target=\"_blank\"><img src=\"http://cdn-ak.b.st-hatena.com/images/icon-twitter.png\" width=\"16\" height=\"16\" alt=\"Twitter\u3067\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u95b2\u89a7\" title=\"Twitter\u3067\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u95b2\u89a7\" /></a><span class=\"retweet-count require-retweet-count no-retweet-tree\" style=\"display: none\"></span></span>    <noscript>\n      <a href=\"/bython-chogo/add.delete?url=http%3A%2F%2Fqiita.com%2FBython-Chogo%2Fitems%2F28475b95e48f76dbc00a&amp;eid=272036974\"><img src=\"http://cdn-ak.b.st-hatena.com/images/delete.gif\" alt=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" title=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" class=\"inplace-delete-icon\" /></a><a\n      href=\"/bython-chogo/add.confirm?url=http%3A%2F%2Fqiita.com%2FBython-Chogo%2Fitems%2F28475b95e48f76dbc00a\"><img src=\"http://cdn-ak.b.st-hatena.com/images/edit.gif\" alt=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" title=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" class=\"inplace-edit-icon\" /></a>\n    </noscript>\n\n    </li>\n \n\nOk, I'd have to get tags and url. Let's use find_all function. \n\n        soup = BeautifulSoup( html, \"lxml\" )\n        soup.originalEnodings\n        hatebu_data = []\n        for tag in soup.find_all( 'li', { 'class' : 'entrylist-unit'}): # (1) \n            elements = []\n            text = \"\".join([str.encode('utf8') for str in tag.contents])\n            soup2 = BeautifulSoup( text, \"lxml\")\n            elements.append( soup2.a['href'] ) # (2)URL\n            elements.append( [unicode(str.string) for str in soup2.find_all( 'a', { 'class': 'user-tag'})] ) #(3) Tags\n            elements.append( soup2.find( 'span', { 'class': 'timestamp'}).string)\n            hatebu_data.append(elements)\n        return hatebu_data\n\n(1) Use find_all to get one book mark HTML source. \n(2) in the tag scraped, get url with \\<a href> tag. \n(3) in the tag scraped, get tags with \\<a class='user-tag'>\n\nthen Hatebu_data has list['http://qiita.com/Bython-Chogo/items/2e2e508b91928e5cd9d5',[\u30bb\u30eb\u30af\u30de]]. BeautifulSoup is super cool. \n\nNext will be Machine Learning phase with scraped data (finally...). See you again. \n\n\n#<\u65e5\u672c\u8a9e>\n\n\u3053\u3093\u306b\u3061\u306f\u3001\u65e5\u66dc\u65e5\u306e\u5915\u65b9\u3067\u3059\u306d\u3002\u306a\u3093\u304b\u3060\u308b\u3044\u3063\u3059\u3002\u307e\u305f\u660e\u65e5\u304b\u3089\u4ed5\u4e8b\u3067\u3059\u306d\u3047\u3002\u3002\u3002\n\n\u4eca\u65e5\u306f\u307e\u305f\u307e\u305f\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u306e\u304a\u8a71\u3067\u3059\u3002\u6b21\u306f\u5b66\u7fd2\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3057\u3087\u3046\u3002\u3053\u308c\u306f\u3044\u3064\u3082\u304a\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b[\u306f\u3066\u306a\u30d6\u30c3\u30af\u30de\u30fc\u30af](http://b.hatena.ne.jp/)\u3067\u3044\u305c\u3093\u3088\u308a\u53d6\u5f97\u3057\u3066\u3044\u305f\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u304d\u3087\u3046\u306f\u305d\u306e\u30c7\u30fc\u30bf\u304b\u3089URL\u3068\u30bf\u30b0\u306e\u30c7\u30fc\u30bf\u3092\u629c\u304d\u51fa\u3057\u307e\u3059\u3002\u3053\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3057\u3066\u30bf\u30b0\u3068URL\u306e\u6587\u7ae0\u3092\u5b66\u7fd2\u3055\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\u306a\u306e\u3067\u672c\u65e5\u306e\u5185\u5bb9\u306f\u307e\u305f\u307e\u305fBeautifulSoup\u306e\u4f7f\u3044\u65b9\u306b\u306a\u308a\u307e\u3059\u3002\u30cf\u30c6\u30d6\u306e\u307f\u306e\u5bfe\u5fdc\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306a\u308a\u307e\u3059\u304c\u3001BeautifulSoup\u306e\u304a\u52c9\u5f37\u306b\u306f\u3061\u3087\u3046\u3069\u3088\u3044\u3067\u3059\u306d\u3002\n\n\u3061\u306a\u307f\u306bURL\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u629c\u304d\u51fa\u3057\u3066\u3044\u3063\u305f\u308a\u3059\u308b\u306e\u306f\u8457\u4f5c\u6a29\u7684\u306a\u914d\u616e\u306f\u5fc5\u8981\u3067\u3059\u3002\u307e\u305f\u306f\u3066\u306a\u306b\u3082\u7121\u65ad\u3067\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u3067\u3001\u308f\u3051\u306e\u308f\u304b\u3089\u306a\u3044\u30a2\u30af\u30bb\u30b9\u304c\u305f\u304f\u3055\u3093\u6d41\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u3001\u5f7c\u3089\u306b\u30a2\u30af\u7981\u3055\u308c\u3066\u3082\u306a\u306b\u3082\u6587\u53e5\u306f\u3044\u308f\u308c\u307e\u305b\u3093\u3002\u305d\u3053\u307e\u3067\u904e\u6fc0\u3067\u306a\u304f\u3066\u3082\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u30c1\u30a7\u30f3\u30b8\u306b\u3088\u308a\u6628\u65e5\u307e\u3067\u4f7f\u3048\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u4f7f\u3048\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u3060\u3063\u3066\u3082\u3061\u308d\u3093\u3042\u308b\u308f\u3051\u3067\u3059\u3002\u611f\u8b1d\u3068\u8b19\u865a\u3055\u306f\u5fd8\u308c\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\n\n\u611f\u8b1d\u3092\u3057\u305f\u3068\u3053\u308d\u3067\u3001\u4eca\u56de\u629c\u304d\u51fa\u3059\u5143\u30c7\u30fc\u30bf\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u3044\u304b\u306b\u30cf\u30c6\u30d6\u306e\uff11\u30d6\u30af\u30de\u5206\u306eHTML\u30bd\u30fc\u30b9\u3092\u898b\u3066\u307f\u307e\u3059\u3002\u3053\u308c\u306f\u6885\u6751\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30bb\u30eb\u30af\u30de\uff08\u30bb\u30eb\u30d5\u30fb\u30d6\u30c3\u30af\u30de\u30fc\u30af\uff09\u3057\u3066\u3044\u308b\u3082\u306e\u306b\u306a\u308a\u307e\u3059\u3002\u306f\u3066\u3076\u3055\u3093\u306f\u666e\u901a\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068JavaScript\u3092\u5229\u7528\u3057\u3066\u3044\u3066\u3001\u4eca\u56de\u629c\u304d\u51fa\u3057\u305f\u3044\u30c7\u30fc\u30bf\u306f\u30bd\u30fc\u30b9\u3092\u898b\u305f\u3060\u3051\u3067\u306f\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u304c\u3001JavaScript\u3092\u30aa\u30d5\u306b\u3057\u305f\u30da\u30fc\u30b8\u3082\u3042\u308b\u306e\u3067\u4eca\u56de\u305d\u3061\u3089\u304b\u3089\u629c\u304d\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u3001\u9577\u3044\u3067\u3059\u304c\u4eca\u56de\u306e\u8aad\u307f\u53d6\u308bHTML\u306e\u30bf\u30b0\u306b\u306a\u308a\u307e\u3059\u3002\n\n    <li class=\"entrylist-unit\"\n    data-eid=\"272036974\"\n    data-bookmark-count=\"1\"\n    >\n    <h3 class=\"entry entry-title\" id=\"bookmark-272036974\" style=\"background-image:url(http://cdn-ak.favicon.st-hatena.com/?url=http%3A%2F%2Fqiita.com%2F)\">\n    <a href=\"http://qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a\" target=\"_blank\" class=\"entry-link\" data-track-click-target=\"direct\">MachineLearning - [\u6a5f\u68b0\u5b66\u7fd2\u3067\u63a8\u5968\u30bf\u30b0\u4ed8\u3051 #2]\u3000\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u62e1\u5f35 - Qiita</a> <img src=\"/images/camera.gif\" alt=\"\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306b\u306f\u5199\u771f\u304c\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\" title=\"\u3053\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306b\u306f\u5199\u771f\u304c\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\" />\n    <a class=\"domain\" href=\"/bython-chogo/?url=http%3A%2F%2Fqiita.com%2F\" rel=\"nofollow\">qiita.com</a>\n    </h3>\n    <ul>\n  \n    <li class=\"category\"><a href=\"/hotentry/it\" class=\"category group2\">\u30c6\u30af\u30ce\u30ed\u30b8\u30fc</a></li>\n  \n    <li class=\"users\"><a href=\"/entry/qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a\" data-track-click-target=\"entry\" title=\"\u306f\u3066\u306a\u30d6\u30c3\u30af\u30de\u30fc\u30af - MachineLearning - [\u6a5f\u68b0\u5b66\u7fd2\u3067\u63a8\u5968\u30bf\u30b0\u4ed8\u3051 #2]\u3000\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u62e1\u5f35 - Qiita (1\u30d6\u30c3\u30af\u30de\u30fc\u30af)\"><span>1</span> user</a></li>\n  \n    <img src=\"http://cdn-ak.b.st-hatena.com/images/keyword.gif?7c8c9ecc9d409bd521163fab85c5da611beba276\" alt=\"\u30ad\u30fc\u30ef\u30fc\u30c9\" title=\"\u3053\u306e\u30da\u30fc\u30b8\u306b\u542b\u307e\u308c\u308b\u30ad\u30fc\u30ef\u30fc\u30c9\" />\n    <ul class=\"keywords\">\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/scraper\">scraper</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/tag\">tag</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/Qiita\">Qiita</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/SCRIPT\">SCRIPT</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/blog\">blog</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/Hatena%20Blog\">Hatena Blog</a></li>\n    \n    <li class=\"keyword\"><a href=\"http://d.hatena.ne.jp/keyword/encode\">encode</a></li>\n    \n    </ul>\n  \n    </ul>\n\n    <div class=\"curvebox-header\"><div></div></div>\n    <div class=\"curvebox-body comment\">\n    <ul class=\"comment \">\n    \n    <li data-user=\"bython-chogo\" onmouseover=\"Hatena.Bookmark.CommentEditor.Hover.create(this, 'http://qiita.com/Bython-Chogo/items/28475b95e48f76dbc00a');\" class=\"mine\">    <a href=\"/bython-chogo/\"><img src=\"http://cdn1.www.st-hatena.com/users/by/bython-chogo/profile_s.gif\" class=\"profile-image\" alt=\"bython-chogo\" title=\"bython-chogo\" width=\"16\" height=\"16\" /></a>\n    <a class=\"username\" href=\"/bython-chogo/20151126#bookmark-272036974\">bython-chogo</a>    <img style='display:none' id=\"delete-272036974\" src=\"http://cdn-ak.b.st-hatena.com/images/delete.gif\" alt=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" title=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" class=\"inplace-delete-icon\" />\n    <img src=\"http://cdn-ak.b.st-hatena.com/images/edit.gif\" alt=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" title=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" style=\"display:none\" class=\"inplace-edit-icon\" />\n    <span class=\"tags\"><a rel=\"tag\" class=\"user-tag\" href=\"/bython-chogo/%E3%82%BB%E3%83%AB%E3%82%AF%E3%83%9E/\">\u30bb\u30eb\u30af\u30de</a></span>\n    <span class=\"comment\"></span><span class=\"timestamp\">2015/11/26 </span>\n    <span class=\"twitter\"><a href=\"http://twitter.com/BythonChogo/status/669541778823901185\" class=\"with-short-url\" target=\"_blank\"><img src=\"http://cdn-ak.b.st-hatena.com/images/icon-twitter.png\" width=\"16\" height=\"16\" alt=\"Twitter\u3067\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u95b2\u89a7\" title=\"Twitter\u3067\u306e\u30c4\u30a4\u30fc\u30c8\u3092\u95b2\u89a7\" /></a><span class=\"retweet-count require-retweet-count no-retweet-tree\" style=\"display: none\"></span></span>    <noscript>\n      <a href=\"/bython-chogo/add.delete?url=http%3A%2F%2Fqiita.com%2FBython-Chogo%2Fitems%2F28475b95e48f76dbc00a&amp;eid=272036974\"><img src=\"http://cdn-ak.b.st-hatena.com/images/delete.gif\" alt=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" title=\"\u30d6\u30c3\u30af\u30de\u30fc\u30af\u3092\u524a\u9664\u3059\u308b\" class=\"inplace-delete-icon\" /></a><a\n      href=\"/bython-chogo/add.confirm?url=http%3A%2F%2Fqiita.com%2FBython-Chogo%2Fitems%2F28475b95e48f76dbc00a\"><img src=\"http://cdn-ak.b.st-hatena.com/images/edit.gif\" alt=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" title=\"\u30b3\u30e1\u30f3\u30c8\u3092\u7de8\u96c6\u3059\u308b\" class=\"inplace-edit-icon\" /></a>\n    </noscript>\n\n    </li>\n \n\n\u3067\u306f\u3001\u3053\u306e\u4e2d\u304b\u3089URL\u3068\u30bf\u30b0\u3092\u629c\u304d\u51fa\u3059\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059\u3002\n\n        soup = BeautifulSoup( html, \"lxml\" )\n        soup.originalEnodings\n        hatebu_data = []\n        for tag in soup.find_all( 'li', { 'class' : 'entrylist-unit'}): # (1) \n            elements = []\n            text = \"\".join([str.encode('utf8') for str in tag.contents])\n            soup2 = BeautifulSoup( text, \"lxml\")\n            elements.append( soup2.a['href'] ) # (2)URL\n            elements.append( [unicode(str.string) for str in soup2.find_all( 'a', { 'class': 'user-tag'})] ) #(3) Tags\n            elements.append( soup2.find( 'span', { 'class': 'timestamp'}).string)\n            hatebu_data.append(elements)\n        return hatebu_data\n\n(1) find_all\u95a2\u6570\u3067\u5148\u306e\\<li>\u30bf\u30b0\u306b\u56f2\u307e\u308c\u305fHTML\u30d5\u30a1\u30a4\u30eb\u3092\u629c\u304d\u53d6\u308a\u307e\u3059\u3002\n(2) \uff11\u3067\u629c\u3044\u305fHTML\u30bf\u30b0\u5185\u3067\\<a href>\u304b\u3089URL\u3092\u3068\u308b\n(3) \uff11\u3067\u629c\u3044\u305fHTML\u30bf\u30b0\u5185\u3067\\<a class='user-tag'>\u304b\u3089Tag\u60c5\u5831\u3092\u3068\u308b\n\n\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u4ee5\u4e0b\u306e\u30ea\u30b9\u30c8\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\n\n    list['http://qiita.com/Bython-Chogo/items/2e2e508b91928e5cd9d5',[\u30bb\u30eb\u30af\u30de]]. BeautifulSoup is super cool. \n\n\u4eca\u65e5\u306f\u3053\u3053\u307e\u3067\uff01\u6b21\u56de\u304b\u3089\u306f\u3068\u3046\u3068\u3046\u6a5f\u68b0\u5b66\u7fd2\u306e\u3068\u3053\u308d\u306b\u306f\u3044\u3063\u3066\u304d\u307e\u3059\u3002\u4eca\u56de\u307e\u3067\u629c\u304d\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u3092\u3044\u308c\u3053\u307f\u307e\u3059\u3002\u305d\u308c\u3067\u306f\uff01\n\n\n", "tags": ["MachineLearning", "Python", "scraping"]}