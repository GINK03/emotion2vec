{"context": "\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u767b\u9332\u3057\u3068\u3051\u3070\u5b9a\u671f\u7684\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u306e\u3067\u516c\u5f0f\u3092\u898b\u306a\u304c\u3089\u8a2d\u5b9a\u3057\u305f\n\nseed.yml \u3092\u7528\u610f\nin:\n  type: s3\n  access_key_id: XXXXXXXXXX\n  secret_access_key: YYYYYYYYYY\n  bucket: sample_bucket\n  # path to the *.json or *.csv or *.tsv file on your s3 bucket\n  path_prefix: path/to/sample_file\nout:\n  mode: append    \n\n\nload.yml \u3092\u7528\u610f\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\ntd connector:guess seed.yml -o load.yml\nload.yml\u304c\u51fa\u529b\u3055\u308c\u308b\nin:\n  type: s3\n  access_key_id: XXXXXXXXXX\n  secret_access_key: YYYYYYYYYY\n  bucket: sample_bucket\n  path_prefix: path/to/sample_file\n  parser:\n    charset: UTF-8\n    newline: CRLF\n    type: csv\n    delimiter: ','\n    quote: '\"'\n    escape: ''\n    skip_header_lines: 1\n    columns:\n    - name: id\n      type: long\n    - name: company\n      type: string\n    - name: customer\n      type: string\n    - name: created_at\n      type: timestamp\n      format: '%Y-%m-%d %H:%M:%S'\nout:\n  mode: append\n\n\u30d7\u30ec\u30d3\u30e5\u30fc\ntd connector:preview load.yml\n\n\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30b8\u30e7\u30d6\u3092\u767b\u9332\ntd connector:create schedule_import \"*/10 * * * *\" \\\n  tsuru_analyzer data_connector_test load.yml \\\n  --time-column time\n\n\n\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u78ba\u8a8d\ntd connector:list\n+-----------------+--------------+----------+-------+----------------+---------------------+\n| Name            | Cron         | Timezone | Delay | Database       | Table               |\n+-----------------+--------------+----------+-------+----------------+---------------------+\n| schedule_import | */10 * * * * | UTC      | 0     | tsuru_analyzer | data_connector_test |\n+-----------------+--------------+----------+-------+----------------+---------------------+\n\n\n\u5b9f\u884c\u30ed\u30b0\u78ba\u8a8d\ntd connector:history schedule_import\n+-----------+---------+---------+----------------+---------------------+----------+-----------------------+----------+\n| JobID     | Status  | Records | Database       | Table               | Priority | Started               | Duration |\n+-----------+---------+---------+----------------+---------------------+----------+-----------------------+----------+\n| 108792166 | success | 0       | tsuru_analyzer | data_connector_test | 0        | 2016-12-14 11:49:1... | 9        |\n| 108791473 | success | 23      | tsuru_analyzer | data_connector_test | 0        | 2016-12-14 11:42:3... | 9        |\n| 108789810 | success | 2225228 | tsuru_analyzer | data_connector_test | 0        | 2016-12-14 11:29:2... | 792      |\n+-----------+---------+---------+----------------+---------------------+----------+-----------------------+----------+\n\n\u6700\u5f8c\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u78ba\u8a8d\u3057\u3001\u5b9f\u969b\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u7d42\u4e86\n\u8ffd\u8a18\uff1a\nJson\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u884c\u3046\u5834\u5408\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\nhttps://docs.treasuredata.com/articles/data-connector-expand-json-filter\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u767b\u9332\u3057\u3068\u3051\u3070\u5b9a\u671f\u7684\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u306e\u3067\u516c\u5f0f\u3092\u898b\u306a\u304c\u3089\u8a2d\u5b9a\u3057\u305f\n\n### seed.yml \u3092\u7528\u610f\n\n```\nin:\n  type: s3\n  access_key_id: XXXXXXXXXX\n  secret_access_key: YYYYYYYYYY\n  bucket: sample_bucket\n  # path to the *.json or *.csv or *.tsv file on your s3 bucket\n  path_prefix: path/to/sample_file\nout:\n  mode: append    \n```\n\n### load.yml \u3092\u7528\u610f\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\n\n`td connector:guess seed.yml -o load.yml`\n\nload.yml\u304c\u51fa\u529b\u3055\u308c\u308b\n\n```\nin:\n  type: s3\n  access_key_id: XXXXXXXXXX\n  secret_access_key: YYYYYYYYYY\n  bucket: sample_bucket\n  path_prefix: path/to/sample_file\n  parser:\n    charset: UTF-8\n    newline: CRLF\n    type: csv\n    delimiter: ','\n    quote: '\"'\n    escape: ''\n    skip_header_lines: 1\n    columns:\n    - name: id\n      type: long\n    - name: company\n      type: string\n    - name: customer\n      type: string\n    - name: created_at\n      type: timestamp\n      format: '%Y-%m-%d %H:%M:%S'\nout:\n  mode: append\n```\n\n\u30d7\u30ec\u30d3\u30e5\u30fc\n\n`td connector:preview load.yml`\n\n### \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30b8\u30e7\u30d6\u3092\u767b\u9332\n\n```\ntd connector:create schedule_import \"*/10 * * * *\" \\\n  tsuru_analyzer data_connector_test load.yml \\\n  --time-column time\n```\n\n### \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u78ba\u8a8d\n`td connector:list`\n\n```\n+-----------------+--------------+----------+-------+----------------+---------------------+\n| Name            | Cron         | Timezone | Delay | Database       | Table               |\n+-----------------+--------------+----------+-------+----------------+---------------------+\n| schedule_import | */10 * * * * | UTC      | 0     | tsuru_analyzer | data_connector_test |\n+-----------------+--------------+----------+-------+----------------+---------------------+\n```\n\n### \u5b9f\u884c\u30ed\u30b0\u78ba\u8a8d\n\n`td connector:history schedule_import`\n\n```\n+-----------+---------+---------+----------------+---------------------+----------+-----------------------+----------+\n| JobID     | Status  | Records | Database       | Table               | Priority | Started               | Duration |\n+-----------+---------+---------+----------------+---------------------+----------+-----------------------+----------+\n| 108792166 | success | 0       | tsuru_analyzer | data_connector_test | 0        | 2016-12-14 11:49:1... | 9        |\n| 108791473 | success | 23      | tsuru_analyzer | data_connector_test | 0        | 2016-12-14 11:42:3... | 9        |\n| 108789810 | success | 2225228 | tsuru_analyzer | data_connector_test | 0        | 2016-12-14 11:29:2... | 792      |\n+-----------+---------+---------+----------------+---------------------+----------+-----------------------+----------+\n```\n\n\n\u6700\u5f8c\u306b\u30c6\u30fc\u30d6\u30eb\u3092\u78ba\u8a8d\u3057\u3001\u5b9f\u969b\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u306e\u3067\u7d42\u4e86\n\n\n\u8ffd\u8a18\uff1a\nJson\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u884c\u3046\u5834\u5408\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\n\nhttps://docs.treasuredata.com/articles/data-connector-expand-json-filter\n", "tags": ["TreasureData"]}