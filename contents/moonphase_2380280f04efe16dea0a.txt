{"context": " More than 1 year has passed since last update.\nredis-2.8.13\u306erpm\u3092\u4f5c\u6210\u3059\u308b\nrpmdev-setuptree\n#make test\u3067tcl\u304c\u5fc5\u8981\u306a\u70ba\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum -y install tcl\n\n#\u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089SPEC\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3057\u3066\u30b3\u30d4\u30fc\u3059\u308b\nrpm -ivh http://dl.fedoraproject.org/pub/epel/6/SRPMS/redis-2.4.10-1.el6.src.rpm\nrm ~/rpmbuild/SOURCES/redis-2.4.10.tar.gz\ncp ~/rpmbuild/SPECS/redis.spec ~/rpmbuild/SPECS/redis2813.spec\n\n#\u30b3\u30d4\u30fc\u3057\u305fSPEC\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\nsed -i -e 's/^Version:          2.4.10$/Version:          2.8.13/' ~/rpmbuild/SPECS/redis2813.spec\nsed -i -e 's/^Patch0:           %{name}-2.4.8-redis.conf.patch$/Patch0:           %{name}-%{version}-redis.conf.patch/' ~/rpmbuild/SPECS/redis2813.spec\nsed -i -e 's/^%doc 00-RELEASENOTES BUGS CONTRIBUTING COPYING README TODO$/%doc 00-RELEASENOTES BUGS CONTRIBUTING COPYING README/' ~/rpmbuild/SPECS/redis2813.spec\n\n#\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306eredis\u3092\u53d6\u5f97\u3057\u3001redis.conf\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3066\u30d1\u30c3\u30c1\u3092\u4f5c\u6210\ncurl -L -O http://download.redis.io/releases/redis-2.8.13.tar.gz\ntar zxf redis-2.8.13.tar.gz\ncp -p redis-2.8.13/redis.conf redis-2.8.13/redis.conf.orig\nsed -i -e 's/^daemonize no$/daemonize yes/' redis-2.8.13/redis.conf\nsed -i -e 's/^pidfile \\/var\\/run\\/redis.pid$/pidfile \\/var\\/run\\/redis\\/redis.pid/' redis-2.8.13/redis.conf\nsed -i -e 's/^logfile \"\"$/logfile \\/var\\/log\\/redis\\/redis.log/' redis-2.8.13/redis.conf\nsed -i -e 's/^dir \\.\\/$/dir \\/var\\/lib\\/redis\\//' redis-2.8.13/redis.conf\ndiff -up redis-2.8.13/redis.conf.orig redis-2.8.13/redis.conf > rpmbuild/SOURCES/redis-2.8.13-redis.conf.patch\n\n#\u30d3\u30eb\u30c9\nmv redis-2.8.13.tar.gz ~/rpmbuild/SOURCES/\nrpmbuild -ba ~/rpmbuild/SPECS/redis2813.spec\n\n\n\nredis\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm -ivh /home/rpmdevel/rpmbuild/RPMS/x86_64/redis-2.8.13-1.el6.x86_64.rpm\n\n\n\n```bash:redis-2.8.13\u306erpm\u3092\u4f5c\u6210\u3059\u308b\nrpmdev-setuptree\n#make test\u3067tcl\u304c\u5fc5\u8981\u306a\u70ba\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum -y install tcl\n\n#\u65e7\u30d0\u30fc\u30b8\u30e7\u30f3\u304b\u3089SPEC\u30d5\u30a1\u30a4\u30eb\u3092\u53d6\u5f97\u3057\u3066\u30b3\u30d4\u30fc\u3059\u308b\nrpm -ivh http://dl.fedoraproject.org/pub/epel/6/SRPMS/redis-2.4.10-1.el6.src.rpm\nrm ~/rpmbuild/SOURCES/redis-2.4.10.tar.gz\ncp ~/rpmbuild/SPECS/redis.spec ~/rpmbuild/SPECS/redis2813.spec\n\n#\u30b3\u30d4\u30fc\u3057\u305fSPEC\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\nsed -i -e 's/^Version:          2.4.10$/Version:          2.8.13/' ~/rpmbuild/SPECS/redis2813.spec\nsed -i -e 's/^Patch0:           %{name}-2.4.8-redis.conf.patch$/Patch0:           %{name}-%{version}-redis.conf.patch/' ~/rpmbuild/SPECS/redis2813.spec\nsed -i -e 's/^%doc 00-RELEASENOTES BUGS CONTRIBUTING COPYING README TODO$/%doc 00-RELEASENOTES BUGS CONTRIBUTING COPYING README/' ~/rpmbuild/SPECS/redis2813.spec\n\n#\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306eredis\u3092\u53d6\u5f97\u3057\u3001redis.conf\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3066\u30d1\u30c3\u30c1\u3092\u4f5c\u6210\ncurl -L -O http://download.redis.io/releases/redis-2.8.13.tar.gz\ntar zxf redis-2.8.13.tar.gz\ncp -p redis-2.8.13/redis.conf redis-2.8.13/redis.conf.orig\nsed -i -e 's/^daemonize no$/daemonize yes/' redis-2.8.13/redis.conf\nsed -i -e 's/^pidfile \\/var\\/run\\/redis.pid$/pidfile \\/var\\/run\\/redis\\/redis.pid/' redis-2.8.13/redis.conf\nsed -i -e 's/^logfile \"\"$/logfile \\/var\\/log\\/redis\\/redis.log/' redis-2.8.13/redis.conf\nsed -i -e 's/^dir \\.\\/$/dir \\/var\\/lib\\/redis\\//' redis-2.8.13/redis.conf\ndiff -up redis-2.8.13/redis.conf.orig redis-2.8.13/redis.conf > rpmbuild/SOURCES/redis-2.8.13-redis.conf.patch\n\n#\u30d3\u30eb\u30c9\nmv redis-2.8.13.tar.gz ~/rpmbuild/SOURCES/\nrpmbuild -ba ~/rpmbuild/SPECS/redis2813.spec\n```\n\n```bash:redis\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo rpm -ivh /home/rpmdevel/rpmbuild/RPMS/x86_64/redis-2.8.13-1.el6.x86_64.rpm\n```\n", "tags": ["CentOS", "CentOS6", "Redis"]}