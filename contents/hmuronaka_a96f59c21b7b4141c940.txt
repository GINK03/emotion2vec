{"context": " More than 1 year has passed since last update.(Rails 4.0 \u306bturnip\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30e1\u30e2\u306e\u7d9a\u304d)\n\n\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n#Gemfile\ngroup :test, :development do\n  gem 'capybara'\nend\n\n# spec_helper.rb\nrequire 'turnip/capybara' # turnip\u3067\u5229\u7528\u3059\u308b\u5834\u5408\n\n\n\u57fa\u672c\u7cfb\nstep 'GET\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b' do\n  visit '/login' # GET\u306e\u307f\n\n  expect(page).to have_content(\"\u307b\u306b\u3083\u3089\u3089\")\n\nend\n\nstep 'POST\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b' do\n  page.driver.post('/login', {\n    username: \"\u307b\u306b\u3083\u3089\u3089\",\n    password: \"\u307b\u306b\u3083\u3089\u3089\"\n    })\n\n  expect(page).to have_content(\"\u307b\u306b\u3083\u3089\u3089\")\nend\n\n\n\u4f8b\u5916\u3092\u8a66\u9a13\u3059\u308b\nstep \":url \u3078\u306e\u30eb\u30fc\u30c8\u304c\u306a\u3044 \" do |url|\n  expect{ visit(url) }.to raise_error(ActionController::RoutingError, \"No route matches \u307b\u306b\u3083\u3089\u3089\")\nend\n\n\nresponse\u304cJSON\u306e\u5834\u5408\nvisit(url)\njson = JSON.parse(page.body)\n\n\u304bjson\u5bfe\u5fdc\u306egem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n\u30e1\u30bd\u30c3\u30c9\u3092\u78ba\u8a8d\u3059\u308b\nsession.rb\u53c2\u7167\nhttps://github.com/jnicklas/capybara/blob/master/lib/capybara/session.rb\n\nrspec\u306ematcher\u3092\u78ba\u8a8d\u3059\u308b\nmatchers.rb\u53c2\u7167\nhttps://github.com/jnicklas/capybara/blob/master/lib/capybara/rspec/matchers.rb\n\n\u53c2\u8003\nhttps://github.com/jnicklas/capybara/tree/master/lib/capybara\n\n([Rails 4.0 \u306bturnip\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u30e1\u30e2](http://qiita.com/hmu29/items/df00c0c16aaac4c24e21)\u306e\u7d9a\u304d)\n\n# \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n```rb\n#Gemfile\ngroup :test, :development do\n  gem 'capybara'\nend\n```\n\n```rb\n# spec_helper.rb\nrequire 'turnip/capybara' # turnip\u3067\u5229\u7528\u3059\u308b\u5834\u5408\n```\n\n# \u57fa\u672c\u7cfb\n\n```rb\nstep 'GET\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b' do\n  visit '/login' # GET\u306e\u307f\n\n  expect(page).to have_content(\"\u307b\u306b\u3083\u3089\u3089\")\n\nend\n```\n\n```rb\nstep 'POST\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b' do\n  page.driver.post('/login', {\n\tusername: \"\u307b\u306b\u3083\u3089\u3089\",\n    password: \"\u307b\u306b\u3083\u3089\u3089\"\n    })\n\n  expect(page).to have_content(\"\u307b\u306b\u3083\u3089\u3089\")\nend\n```\n\n### \u4f8b\u5916\u3092\u8a66\u9a13\u3059\u308b\n\n```rb\nstep \":url \u3078\u306e\u30eb\u30fc\u30c8\u304c\u306a\u3044 \" do |url|\n  expect{ visit(url) }.to raise_error(ActionController::RoutingError, \"No route matches \u307b\u306b\u3083\u3089\u3089\")\nend\n```\n\n### response\u304cJSON\u306e\u5834\u5408\n\n```rb\nvisit(url)\njson = JSON.parse(page.body)\n```\n\n\u304bjson\u5bfe\u5fdc\u306egem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n# \u30e1\u30bd\u30c3\u30c9\u3092\u78ba\u8a8d\u3059\u308b\n\n session.rb\u53c2\u7167\n\nhttps://github.com/jnicklas/capybara/blob/master/lib/capybara/session.rb\n\n# rspec\u306ematcher\u3092\u78ba\u8a8d\u3059\u308b\n\n matchers.rb\u53c2\u7167\n\nhttps://github.com/jnicklas/capybara/blob/master/lib/capybara/rspec/matchers.rb\n\n# \u53c2\u8003\n\nhttps://github.com/jnicklas/capybara/tree/master/lib/capybara\n", "tags": ["Rails", "Capybara"]}