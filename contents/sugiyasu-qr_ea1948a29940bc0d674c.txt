{"context": "\n\n\u6982\u8981\namazon ec2 ubuntu \u30de\u30b7\u30f3\uff08Ubuntu Server 14.04 LTS\uff09\u306b windows7 \u304b\u3089\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3067\u63a5\u7d9a\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3057\u305f\u3002\u57fa\u672c\u624b\u9806\u306f AWS \u516c\u5f0f\u306b\u8f09\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c RDP 8.0 \u4ee5\u4e0a\u3060\u3068\u3001\u624b\u9806\u901a\u308a\u3067\u306f\u3046\u307e\u304f\u3044\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u305d\u306e\u305f\u3081\u3001\u624b\u9806\u3092\u307e\u3068\u3081\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u30b5\u30fc\u30d0\u5074\u8a2d\u5b9a\u624b\u9806\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b\nsudo apt-get update\nsudo apt-get -y upgrade\n\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\nPasswordAuthentication yes \u21d2 no \u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\nsudo vim /etc/ssh/sshd_config\n\nsshd \u3092 \u30ea\u30b9\u30bf\u30fc\u30c8\u3057\u307e\u3059\u3002\nsudo /etc/init.d/ssh restart\n\n\nubuntu \u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\nroot \u306b\u306a\u3063\u3066\u5909\u66f4\u3057\u307e\u3059\u3002\nsudo su - \npasswd ubuntu\n\nubutu \u30e6\u30fc\u30b6\u306b\u623b\u3057\u307e\u3059\u3002\nsu ubuntu\ncd\n\n\nubuntu desktop \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nexport DEBIAN_FRONTEND=noninteractive\nsudo -E apt-get update\nsudo -E apt-get install -y ubuntu-desktop\n\n\nxfce4 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nsudo apt-get install -y xfce4 xfce4-goodies\n\n\nxrdp \u3092\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\napt \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u30010.6.0 \u304c\u5165\u308a\u307e\u3059\u304c\u3001RDP8 \u4ee5\u964d\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u306a\u306e\u3067\u3001\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n2016/03 \u6642\u70b9\u3067\u306e\u6700\u65b0\u306f 0.9.0 \u3067\u3057\u305f\u3002\ncd\nmkdir src\ncd src\nwget https://github.com/neutrinolabs/xrdp/archive/devel.zip\nunzip devel.zip\ncd xrdp-devel\nsudo apt-get install -y autoconf libtool libssl-dev libpam0g-dev libx11-dev libxfixes-dev libxrandr-dev\n./bootstrap\n./configure\nmake\nsudo make install\n\n\nxfce4 \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u8a2d\u5b9a\u3059\u308b\necho xfce4-session > ~/.xsession\nsudo cp /home/ubuntu/.xsession /etc/skel\n\n\nallow changing of the host port you will connect to\nsudo vim /etc/xrdp/xrdp.ini\n\n\n[xrdp1] \u30bb\u30af\u30b7\u30e7\u30f3\u306e port \u5024\u3092 -1 \u304b\u3089 ask-1 \u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n[xrdp1]\nname=sesman-X11rdp\nlib=libxup.so\nusername=ask\npassword=ask\nip=127.0.0.1\nport=ask-1\nxserverbpp=24\ncode=10\n\n\nvnc4server \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nsudo apt-get install -y vnc4server\n\n\nxrdp \u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\nsudo service xrdp restart\n\n\n\u30b7\u30b9\u30c6\u30e0\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\nsudo update-rc.d xrdp defaults\n\n\nwindows \u304b\u3089\u63a5\u7d9a\n\n\u63a5\u7d9a\n\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u63a5\u7d9a\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\u300c\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u8868\u793a\u300d\u21d2\u300c\u753b\u9762\u300d\u30bf\u30d6\u3067\u3001\u753b\u9762\u306e\u8272\u3092 16\u30d3\u30c3\u30c8\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n\u5bfe\u8c61\u30de\u30b7\u30f3\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\n\u30ed\u30b0\u30a4\u30f3\u753b\u9762\nSession \u3092 \u300csesman-Xvnc\u300d\u306b\u3057\u307e\u3059\u3002\nusername(ubuntu), password(\u4e0a\u3067\u5909\u66f4\u3057\u307e\u3057\u305f\u306d) \u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\n\n\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u8868\u793a\n\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\uff01\n\n\n\u53c2\u8003\u30b5\u30a4\u30c8\nhttps://aws.amazon.com/jp/premiumsupport/knowledge-center/connect-to-linux-desktop-from-windows/\n# \u6982\u8981\n\namazon ec2 ubuntu \u30de\u30b7\u30f3\uff08Ubuntu Server 14.04 LTS\uff09\u306b windows7 \u304b\u3089\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3067\u63a5\u7d9a\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3057\u305f\u3002\u57fa\u672c\u624b\u9806\u306f AWS \u516c\u5f0f\u306b\u8f09\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c RDP 8.0 \u4ee5\u4e0a\u3060\u3068\u3001\u624b\u9806\u901a\u308a\u3067\u306f\u3046\u307e\u304f\u3044\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u305d\u306e\u305f\u3081\u3001\u624b\u9806\u3092\u307e\u3068\u3081\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n# \u30b5\u30fc\u30d0\u5074\u8a2d\u5b9a\u624b\u9806\n\n## \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b\n```\nsudo apt-get update\nsudo apt-get -y upgrade\n```\n\n## \u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\nPasswordAuthentication yes \u21d2 no \u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```\nsudo vim /etc/ssh/sshd_config\n```\n\nsshd \u3092 \u30ea\u30b9\u30bf\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n```\nsudo /etc/init.d/ssh restart\n```\n\n## ubuntu \u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\nroot \u306b\u306a\u3063\u3066\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```\nsudo su - \npasswd ubuntu\n```\nubutu \u30e6\u30fc\u30b6\u306b\u623b\u3057\u307e\u3059\u3002\n\n```\nsu ubuntu\ncd\n```\n\n## ubuntu desktop \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```\nexport DEBIAN_FRONTEND=noninteractive\nsudo -E apt-get update\nsudo -E apt-get install -y ubuntu-desktop\n```\n\n## xfce4 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```\nsudo apt-get install -y xfce4 xfce4-goodies\n```\n\n## xrdp \u3092\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\napt \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u30010.6.0 \u304c\u5165\u308a\u307e\u3059\u304c\u3001RDP8 \u4ee5\u964d\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\u306a\u306e\u3067\u3001\u30bd\u30fc\u30b9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n2016/03 \u6642\u70b9\u3067\u306e\u6700\u65b0\u306f 0.9.0 \u3067\u3057\u305f\u3002\n\n```\ncd\nmkdir src\ncd src\nwget https://github.com/neutrinolabs/xrdp/archive/devel.zip\nunzip devel.zip\ncd xrdp-devel\nsudo apt-get install -y autoconf libtool libssl-dev libpam0g-dev libx11-dev libxfixes-dev libxrandr-dev\n./bootstrap\n./configure\nmake\nsudo make install\n```\n\n## xfce4 \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u8a2d\u5b9a\u3059\u308b\n\n```\necho xfce4-session > ~/.xsession\nsudo cp /home/ubuntu/.xsession /etc/skel\n```\n\n## allow changing of the host port you will connect to\n\n```\nsudo vim /etc/xrdp/xrdp.ini\n\n```\n[xrdp1] \u30bb\u30af\u30b7\u30e7\u30f3\u306e port \u5024\u3092 -1 \u304b\u3089 ask-1 \u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```\n[xrdp1]\nname=sesman-X11rdp\nlib=libxup.so\nusername=ask\npassword=ask\nip=127.0.0.1\nport=ask-1\nxserverbpp=24\ncode=10\n```\n\n## vnc4server \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n```\nsudo apt-get install -y vnc4server\n```\n\n## xrdp \u3092\u30ea\u30b9\u30bf\u30fc\u30c8\u3059\u308b\n\n```\nsudo service xrdp restart\n```\n\n## \u30b7\u30b9\u30c6\u30e0\u8d77\u52d5\u6642\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u3059\u308b\n\n```\nsudo update-rc.d xrdp defaults\n```\n\n# windows \u304b\u3089\u63a5\u7d9a\n\n## \u63a5\u7d9a\n\n\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u63a5\u7d9a\u30a2\u30d7\u30ea\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\u300c\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u8868\u793a\u300d\u21d2\u300c\u753b\u9762\u300d\u30bf\u30d6\u3067\u3001\u753b\u9762\u306e\u8272\u3092 16\u30d3\u30c3\u30c8\u306b\u5909\u66f4\u3057\u307e\u3059\u3002\n![RDP.png](https://qiita-image-store.s3.amazonaws.com/0/108071/4e8ba24f-2ba8-8801-a4a5-621524897e4f.png)\n\n\u5bfe\u8c61\u30de\u30b7\u30f3\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\n## \u30ed\u30b0\u30a4\u30f3\u753b\u9762\n\nSession \u3092 \u300csesman-Xvnc\u300d\u306b\u3057\u307e\u3059\u3002\nusername(ubuntu), password(\u4e0a\u3067\u5909\u66f4\u3057\u307e\u3057\u305f\u306d) \u3092\u5165\u529b\u3057\u307e\u3059\u3002\n![VNC.png](https://qiita-image-store.s3.amazonaws.com/0/108071/44c71720-12ee-601c-5dd2-fea4dc5b102b.png)\n\n## \u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u8868\u793a\n\n\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u304c\u8868\u793a\u3055\u308c\u307e\u3057\u305f\uff01\n![DESKTOP.png](https://qiita-image-store.s3.amazonaws.com/0/108071/39152fad-54c5-7c64-de08-49e03fba05c8.png)\n\n\n# \u53c2\u8003\u30b5\u30a4\u30c8\n\nhttps://aws.amazon.com/jp/premiumsupport/knowledge-center/connect-to-linux-desktop-from-windows/\n", "tags": ["AWS", "Ubuntu14.04"]}