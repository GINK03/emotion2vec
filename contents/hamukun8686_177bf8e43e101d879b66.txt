{"context": " More than 1 year has passed since last update.\n\nMain.cpp\n\n//\u304a\u7d75\u304b\u304d\u30bd\u30d5\u30c8\n\n# include <Siv3D.hpp>\n\nvoid Main()\n{\n    Window::Resize({ 640, 640 });\n\n    Graphics::SetBackground(Palette::Gray);\n\n    Image image{ 640, 480, Palette::White };\n\n    DynamicTexture texture{ image };\n\n    const std::array<Color, 16> colors =\n    {\n        Palette::Black,\n        Palette::Gray,\n        Palette::Silver,\n        Palette::White,\n        Palette::Maroon,\n        Palette::Red,\n        Palette::Olive,\n        Palette::Yellow,\n        Palette::Green,\n        Palette::Lime,\n        Palette::Teal,\n        Palette::Aqua,\n        Palette::Navy,\n        Palette::Blue,\n        Palette::Purple,\n        Palette::Fuchsia\n    };\n\n    std::array<Rect, 16> buttons;\n\n    const Point areaSize{ 80, 80 };\n\n    const Point margin{ 5, 5 };\n\n    const Point buttonSize = areaSize - margin * 2;\n\n    const Point firstPos = Point(0, 480) + areaSize / 2;\n\n    for (int i = 0; i < buttons.size(); ++i)\n    {\n        buttons[i].setSize(buttonSize);\n\n        buttons[i].setCenter(firstPos + Point((i % 8) * areaSize.x, (i / 8) * areaSize.y));\n    }\n\n    Color penColor;\n\n\n    while (System::Update())\n    {\n        for (int i = 0; i < buttons.size(); ++i)\n        {\n            if (buttons[i].leftClicked)\n            {\n                penColor = colors[i];\n            }\n        }\n\n        if (Input::MouseL.pressed)\n        {\n            const Point pos = Input::MouseL.clicked ? Mouse::Pos() : Mouse::PreviousPos();\n\n            Line{ pos, Mouse::Pos() }.write(image, 8, penColor);\n\n            texture.fill(image);\n        }\n\n        texture.draw();\n\n        for (int i = 0; i < buttons.size(); ++i)\n        {\n            buttons[i].draw(colors[i]);\n\n            buttons[i].drawFrame(1.0, 1.0, Palette::White);\n        }\n    }\n}\n\n\n\n![20140607-153244-866.png](https://qiita-image-store.s3.amazonaws.com/0/34295/c834503f-7ca7-0474-6e16-a470e724a432.png)\n\n\n```Siv3D:Main.cpp\n\n//\u304a\u7d75\u304b\u304d\u30bd\u30d5\u30c8\n\n# include <Siv3D.hpp>\n\nvoid Main()\n{\n\tWindow::Resize({ 640, 640 });\n\n\tGraphics::SetBackground(Palette::Gray);\n\n\tImage image{ 640, 480, Palette::White };\n\n\tDynamicTexture texture{ image };\n\n\tconst std::array<Color, 16> colors =\n\t{\n\t\tPalette::Black,\n\t\tPalette::Gray,\n\t\tPalette::Silver,\n\t\tPalette::White,\n\t\tPalette::Maroon,\n\t\tPalette::Red,\n\t\tPalette::Olive,\n\t\tPalette::Yellow,\n\t\tPalette::Green,\n\t\tPalette::Lime,\n\t\tPalette::Teal,\n\t\tPalette::Aqua,\n\t\tPalette::Navy,\n\t\tPalette::Blue,\n\t\tPalette::Purple,\n\t\tPalette::Fuchsia\n\t};\n\n\tstd::array<Rect, 16> buttons;\n\n\tconst Point areaSize{ 80, 80 };\n\n\tconst Point margin{ 5, 5 };\n\n\tconst Point buttonSize = areaSize - margin * 2;\n\n\tconst Point firstPos = Point(0, 480) + areaSize / 2;\n\n\tfor (int i = 0; i < buttons.size(); ++i)\n\t{\n\t\tbuttons[i].setSize(buttonSize);\n\n\t\tbuttons[i].setCenter(firstPos + Point((i % 8) * areaSize.x, (i / 8) * areaSize.y));\n\t}\n\n\tColor penColor;\n\n\n\twhile (System::Update())\n\t{\n\t\tfor (int i = 0; i < buttons.size(); ++i)\n\t\t{\n\t\t\tif (buttons[i].leftClicked)\n\t\t\t{\n\t\t\t\tpenColor = colors[i];\n\t\t\t}\n\t\t}\n\n\t\tif (Input::MouseL.pressed)\n\t\t{\n\t\t\tconst Point pos = Input::MouseL.clicked ? Mouse::Pos() : Mouse::PreviousPos();\n\n\t\t\tLine{ pos, Mouse::Pos() }.write(image, 8, penColor);\n\n\t\t\ttexture.fill(image);\n\t\t}\n\n\t\ttexture.draw();\n\n\t\tfor (int i = 0; i < buttons.size(); ++i)\n\t\t{\n\t\t\tbuttons[i].draw(colors[i]);\n\n\t\t\tbuttons[i].drawFrame(1.0, 1.0, Palette::White);\n\t\t}\n\t}\n}\n\n```\n", "tags": ["Siv3Dmay2014"]}