{"context": " More than 1 year has passed since last update.(\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u3001\u30e1\u30e2\u30ea\u304c4G\u4f4d\u306a\u3044\u3068PC\u304c\u30d5\u30ea\u30fc\u30ba\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u2026)\n(defmacro defdart (name mesg)\n  (flet ((compile-string (str)\n           (mapcar #'char-name (coerce str 'list)))\n         (make-charname (str)\n           `(coerce (mapcar #'name-char\n                            (list ,@(mapcar (lambda (x)\n                                              (let* ((out (gensym))\n                                                     (name (coerce x 'list))\n                                                     (gs (mapcar (lambda (x)\n                                                                   (declare (ignore x)) (gensym)) name)))\n                                                `(with-output-to-string (,out)\n                                            (flet (,@(mapcar (lambda (x g)\n                                                               `(,g () (princ ,x ,out) ))\n                                                       (coerce x 'list)\n                                                       gs))\n                                              ,@(mapcar #'list gs)))))\n                                     (compile-string str) )))\n                    'string )))\n    `(progn\n       (defun ,name ()\n         (write-line\n          (coerce\n           (mapcar #'name-char\n                   (list ,@(mapcar #'make-charname (compile-string mesg))) )\n           'string ))))))\n\n;;; \u5b9f\u884c\n(defdart hello-world \"Hello, World!\")\n;; \u5c55\u958b =>\n;;;\n(PROGN\n (DEFUN HELLO-WORLD ()\n   (WRITE-LINE\n    (COERCE\n     (MAPCAR #'NAME-CHAR\n             (LIST\n              (COERCE\n               (MAPCAR #'NAME-CHAR\n                       (LIST\n                        (WITH-OUTPUT-TO-STRING (#:G95808)\n                          (FLET ((#:G95809 ()\n                                   (PRINC #\\L #:G95808))\n                                 (#:G95810 ()\n                                   (PRINC #\\A #:G95808))\n                                 (#:G95811 ()\n                                   (PRINC #\\T #:G95808))\n                                 (#:G95812 ()\n                                   (PRINC #\\I #:G95808))\n                                 (#:G95813 ()\n                                   (PRINC #\\N #:G95808))\n                                 (#:G95814 ()\n                                   (PRINC #\\_ #:G95808))\n                                 (#:G95815 ()\n                                   (PRINC #\\C #:G95808))\n                                 (#:G95816 ()\n                                   (PRINC #\\A #:G95808))\n                                 (#:G95817 ()\n                                   (PRINC #\\P #:G95808))\n                                 (#:G95818 ()\n                                   (PRINC #\\I #:G95808))\n                                 (#:G95819 ()\n                                   (PRINC #\\T #:G95808))\n                                 (#:G95820 ()\n                                   (PRINC #\\A #:G95808))\n                                 (#:G95821 ()\n                                   (PRINC #\\L #:G95808))\n                                 (#:G95822 ()\n                                   (PRINC #\\_ #:G95808))\n                                 (#:G95823 ()\n                                   (PRINC #\\L #:G95808))\n                                 (#:G95824 ()\n                                   (PRINC #\\E #:G95808))\n                                 (#:G95825 ()\n                                   (PRINC #\\T #:G95808))\n                                 (#:G95826 ()\n                                   (PRINC #\\T #:G95808))\n                                 (#:G95827 ()\n                                   (PRINC #\\E #:G95808))\n                                 (#:G95828 ()\n                                   (PRINC #\\R #:G95808))\n                                 (#:G95829 ()\n                                   (PRINC #\\_ #:G95808))\n                                 (#:G95830 ()\n                                   (PRINC #\\L #:G95808)))\n                            (#:G95809)\n                            (#:G95810)\n                            (#:G95811)\n                            (#:G95812)\n                            (#:G95813)\n                            (#:G95814)\n                            (#:G95815)\n                            (#:G95816)\n                            (#:G95817)\n                            (#:G95818)\n                            (#:G95819)\n                            (#:G95820)\n                            (#:G95821)\n                            (#:G95822)\n                            (#:G95823)\n                            (#:G95824)\n                            (#:G95825)\n                            (#:G95826)\n                            (#:G95827)\n                            (#:G95828)\n                            (#:G95829)\n                            (#:G95830)))\n                        (WITH-OUTPUT-TO-STRING (#:G95831)\n                          (FLET ((#:G95832 ()\n                                   (PRINC #\\L #:G95831))\n                                 (#:G95833 ()\n                                   (PRINC #\\A #:G95831))\n                                 (#:G95834 ()\n                                   (PRINC #\\T #:G95831))\n                                 (#:G95835 ()\n                                   (PRINC #\\I #:G95831))\n                                 (#:G95836 ()\n                                   (PRINC #\\N #:G95831))\n                                 (#:G95837 ()\n                                   (PRINC #\\_ #:G95831))\n                                 (#:G95838 ()\n                                   (PRINC #\\C #:G95831))\n                                 (#:G95839 ()\n                                   (PRINC #\\A #:G95831))\n                                 (#:G95840 ()\n                                   (PRINC #\\P #:G95831))\n                                 (#:G95841 ()\n                                   (PRINC #\\I #:G95831))\n                                 (#:G95842 ()\n                                   (PRINC #\\T #:G95831))\n                                 (#:G95843 ()\n....\n;;; SBCL\u3060\u306814143\n\n(hello-world)\n;>>  Hello, World!\n;>>\n;=>  \"Hello, World!\"\n\n(\u30b3\u30f3\u30d1\u30a4\u30eb\u306f\u3001\u30e1\u30e2\u30ea\u304c4G\u4f4d\u306a\u3044\u3068PC\u304c\u30d5\u30ea\u30fc\u30ba\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u2026)\n\n```cl\n(defmacro defdart (name mesg)\n  (flet ((compile-string (str)\n           (mapcar #'char-name (coerce str 'list)))\n         (make-charname (str)\n           `(coerce (mapcar #'name-char\n                            (list ,@(mapcar (lambda (x)\n                                              (let* ((out (gensym))\n                                                     (name (coerce x 'list))\n                                                     (gs (mapcar (lambda (x)\n                                                                   (declare (ignore x)) (gensym)) name)))\n                                                `(with-output-to-string (,out)\n                                            (flet (,@(mapcar (lambda (x g)\n                                                               `(,g () (princ ,x ,out) ))\n                                                       (coerce x 'list)\n                                                       gs))\n                                              ,@(mapcar #'list gs)))))\n                                     (compile-string str) )))\n                    'string )))\n    `(progn\n       (defun ,name ()\n         (write-line\n          (coerce\n           (mapcar #'name-char\n                   (list ,@(mapcar #'make-charname (compile-string mesg))) )\n           'string ))))))\n\n;;; \u5b9f\u884c\n(defdart hello-world \"Hello, World!\")\n;; \u5c55\u958b =>\n;;;\n(PROGN\n (DEFUN HELLO-WORLD ()\n   (WRITE-LINE\n    (COERCE\n     (MAPCAR #'NAME-CHAR\n             (LIST\n              (COERCE\n               (MAPCAR #'NAME-CHAR\n                       (LIST\n                        (WITH-OUTPUT-TO-STRING (#:G95808)\n                          (FLET ((#:G95809 ()\n                                   (PRINC #\\L #:G95808))\n                                 (#:G95810 ()\n                                   (PRINC #\\A #:G95808))\n                                 (#:G95811 ()\n                                   (PRINC #\\T #:G95808))\n                                 (#:G95812 ()\n                                   (PRINC #\\I #:G95808))\n                                 (#:G95813 ()\n                                   (PRINC #\\N #:G95808))\n                                 (#:G95814 ()\n                                   (PRINC #\\_ #:G95808))\n                                 (#:G95815 ()\n                                   (PRINC #\\C #:G95808))\n                                 (#:G95816 ()\n                                   (PRINC #\\A #:G95808))\n                                 (#:G95817 ()\n                                   (PRINC #\\P #:G95808))\n                                 (#:G95818 ()\n                                   (PRINC #\\I #:G95808))\n                                 (#:G95819 ()\n                                   (PRINC #\\T #:G95808))\n                                 (#:G95820 ()\n                                   (PRINC #\\A #:G95808))\n                                 (#:G95821 ()\n                                   (PRINC #\\L #:G95808))\n                                 (#:G95822 ()\n                                   (PRINC #\\_ #:G95808))\n                                 (#:G95823 ()\n                                   (PRINC #\\L #:G95808))\n                                 (#:G95824 ()\n                                   (PRINC #\\E #:G95808))\n                                 (#:G95825 ()\n                                   (PRINC #\\T #:G95808))\n                                 (#:G95826 ()\n                                   (PRINC #\\T #:G95808))\n                                 (#:G95827 ()\n                                   (PRINC #\\E #:G95808))\n                                 (#:G95828 ()\n                                   (PRINC #\\R #:G95808))\n                                 (#:G95829 ()\n                                   (PRINC #\\_ #:G95808))\n                                 (#:G95830 ()\n                                   (PRINC #\\L #:G95808)))\n                            (#:G95809)\n                            (#:G95810)\n                            (#:G95811)\n                            (#:G95812)\n                            (#:G95813)\n                            (#:G95814)\n                            (#:G95815)\n                            (#:G95816)\n                            (#:G95817)\n                            (#:G95818)\n                            (#:G95819)\n                            (#:G95820)\n                            (#:G95821)\n                            (#:G95822)\n                            (#:G95823)\n                            (#:G95824)\n                            (#:G95825)\n                            (#:G95826)\n                            (#:G95827)\n                            (#:G95828)\n                            (#:G95829)\n                            (#:G95830)))\n                        (WITH-OUTPUT-TO-STRING (#:G95831)\n                          (FLET ((#:G95832 ()\n                                   (PRINC #\\L #:G95831))\n                                 (#:G95833 ()\n                                   (PRINC #\\A #:G95831))\n                                 (#:G95834 ()\n                                   (PRINC #\\T #:G95831))\n                                 (#:G95835 ()\n                                   (PRINC #\\I #:G95831))\n                                 (#:G95836 ()\n                                   (PRINC #\\N #:G95831))\n                                 (#:G95837 ()\n                                   (PRINC #\\_ #:G95831))\n                                 (#:G95838 ()\n                                   (PRINC #\\C #:G95831))\n                                 (#:G95839 ()\n                                   (PRINC #\\A #:G95831))\n                                 (#:G95840 ()\n                                   (PRINC #\\P #:G95831))\n                                 (#:G95841 ()\n                                   (PRINC #\\I #:G95831))\n                                 (#:G95842 ()\n                                   (PRINC #\\T #:G95831))\n                                 (#:G95843 ()\n....\n;;; SBCL\u3060\u306814143\n\n(hello-world)\n;>>  Hello, World!\n;>>\n;=>  \"Hello, World!\"\n```", "tags": ["common-lisp"]}