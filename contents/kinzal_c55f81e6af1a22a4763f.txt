{"context": "flowtype\u306ev0.38.0\u304c\u3067\u307e\u3057\u305f\u306d\uff01\nCHANGELOG\u3092\u8aad\u3093\u3067\u307f\u308b\u3068\n\n$ReadOnlyArray is the common supertype of arrays and tuples. It's basically an array without stuff like push(), pop(), etc\n\n$ReadOnlyArray<T>\u306a\u3093\u3066\u4fbf\u5229\u305d\u3046\u306aUtility Type\uff08\u65e7Magic Type\uff09\u304c\u8ffd\u52a0\u3055\u308c\u3066\u308b\u3058\u3083\u306a\u3044\u3067\u3059\u304b\uff01\uff01\n\u3053\u308c\u306f\u697d\u3057\u305d\u3046\u3060\u3068\n\nhttps://github.com/facebook/flow/blob/master/src/typing/type_annotation.ml\n\n\u3092\u898b\u3066\u307f\u308b\u3068\u306a\u3093\u304b$\u304b\u3089\u59cb\u307e\u308b\u898b\u77e5\u3089\u306c\u578b\u304c\u5897\u3048\u3066\u308b\u30fb\u30fb\u30fb\u3002\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306a\u3044\u306e\u306f\u307e\u3060\u8a31\u305b\u308b\u3051\u3069\u3001CHANGELOG\u306b\u3059\u3089\u306a\u3044\u3063\u3066\u3069\u3046\u3044\u3046\u3053\u3068\u306a\u306e\u30fb\u30fb\u30fb\uff01\uff01\uff01\n\u5606\u3044\u3066\u3082\u4ed5\u65b9\u306a\u3044\u306e\u3067\u3001\u6c17\u5408\u3092\u65b0\u305f\u306b\u8abf\u3079\u76f4\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u3061\u306a\u307f\u306b\u3001\u904e\u53bb\u306b\u8abf\u3079\u305fUtility Type\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nflowtype\u306eUtility Type\u306b\u3064\u3044\u3066 \u305d\u306e1\n\n\u307e\u305f\u3001Utility Type\u306e\u8abf\u3079\u65b9\u304c\u308f\u304b\u3063\u305f\u306e\u3067$Type\u3084$Abstract\u306a\u3069\u3088\u304f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u578b\u306b\u3064\u3044\u3066\u3082\u305d\u306e1\u306b\u3066\u66f4\u65b0\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\nUtility Type\u306e\u8abf\u3079\u65b9\nflowtype\u3067\u898b\u77e5\u3089\u306c\u578b\u3084\u69cb\u6587\u3092\u898b\u3064\u3051\u305f\u3068\u304d\u306b\u7686\u3055\u3093\u306f\u3069\u3053\u3092\u8abf\u3079\u3066\u3044\u307e\u3059\u304b\uff1f\n\u81ea\u5206\u306f\u6700\u521d\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3084issue\u3001PR\u3001\u679c\u3066\u306fstackoverflow\u306a\u3093\u304b\u3092\u8abf\u3079\u3066\u3044\u307e\u3057\u305f\u3002\n\u3057\u304b\u3057\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u66f4\u65b0\u9045\u308c\u3066\u308b\u3057\u3001issue\u3084PR\u306a\u3093\u304b\u306f\u91cf\u304c\u591a\u304f\u3066\u57cb\u3082\u308c\u308b\u3057\u3001Utility Type\u306e\u540d\u524d\u306b\u3088\u3063\u3066\u306f\u30ce\u30a4\u30b8\u30fc\u306a\u60c5\u5831\u306b\u57cb\u3081\u5c3d\u304f\u3055\u308c\u3066\u63a2\u305b\u305f\u3082\u306e\u3058\u3083\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u305d\u3046\u3044\u3063\u305f\u3068\u304d\u306f\n\nhttps://github.com/facebook/flow/tree/master/tests\n\n\u306etests\u4ee5\u4e0b\u3092\u898b\u308b\u3068\u5b9f\u969b\u306bJS\u3067Utility Type\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u30b3\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u898b\u308b\u3068\u5229\u7528\u30a4\u30e1\u30fc\u30b8\u304c\u6e67\u304d\u3084\u3059\u304f\u3001\u3069\u3093\u306a\u578b\u306a\u306e\u304b\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\uff08$Abstract\u3068\u304b\u306f\u306a\u304f\u3066\u6ce3\u304d\u305d\u3046\u306b\u306a\u3063\u305f\u3051\u3069\uff09\n\u5168\u304f\u3082\u3063\u3066\u521d\u5fc3\u8005\u306b\u512a\u3057\u304f\u306a\u3044\u3067\u3059\u304c\u3001\u3053\u308c\u306a\u306b\uff1f\u3068\u306a\u3063\u305f\u3068\u304d\u306f\u30c6\u30b9\u30c8\u3092\u8aad\u3081\u306e\u7cbe\u795e\u3067\u3059\u306d\uff01\uff01\uff01\n\n$ReadOnlyArray\n$ReadOnlyArray\u306fT\u578b\u306e\u8aad\u307f\u8fbc\u307f\u306e\u307f\u53ef\u80fd\u306a\u914d\u5217\u3092\u8868\u3059\u578b\u3067\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u8981\u7d20\u3078\u306e\u66f8\u304d\u8fbc\u307f\u3084\u3001push\u3084pop\u306a\u3069\u306e\u914d\u5217\u3092\u5909\u66f4\u3059\u308b\u51e6\u7406\u304c\u884c\u3048\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n# Try Flow\nvar arr: $ReadOnlyArray<number> = [1, 2, 3];\narr[0] = 4; // Error !\narr.push(4); // Error !\narr.pop(); // Error !\n\n\u5909\u66f4\u304c\u5fc5\u8981\u306a\u3044\u3068\u3053\u308d\u306f\u591a\u3044\u306e\u3067\u3001\u3053\u308c\u306f\u4fbf\u5229\u3067\u3059\u306d\u3002\n\u4f59\u8ac7\u3067\u3059\u304c\u3001Object\u3067\u3082\u3053\u3046\u3044\u3063\u305f\u6a5f\u80fd\u304c\u6b32\u3057\u3044\u306a\u3068\u601d\u3063\u305f\u3068\u304d\u306bsetter/getter\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067ReadOnlyObject\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n# Try Flow\ntype ReadOnlyObject = {\n  get a(): number;\n  get b(): string;\n  get c(): boolean;\n};\n\nvar obj: ReadOnlyObject = {a: 1, b: 'abc', c: true};\nobj.a.toFixed();\nobj.a.replace('', ''); // Error !\nobj.a = 2; // Error !\n\n\u3068\u306f\u3044\u3048\u3001\u3061\u3087\u3063\u3068\u30a4\u30b1\u3066\u306a\u3044\u611f\u306f\u3042\u308b\u306e\u3067\u3001flowtype\u306b\u3066ReadOnlyObject\u3092\u5bfe\u5fdc\u3057\u3066\u6b32\u3057\u3044\u3082\u306e\u3067\u3059\u306d\u3002\n\n$TupleMap\n$TupleMap\u306fT\u306b\u6307\u5b9a\u3057\u305fTuple\u306e\u5024\u3092F\u306b\u6307\u5b9a\u3057\u305f\u95a2\u6570\u306e\u578b\u306e\u901a\u308a\u5909\u63db\u3059\u308b\u578b\u3067\u3059\u3002\n# Try Flow\ndeclare var _: [Array<number>, Array<string>, Array<boolean>];\n\ntype A = $TupleMap<typeof(_), <K>(k:Array<K>) => K>;\n\ndeclare var a: A;\na[0].toFixed();\na[0].replace('', ''); // Error !!\na[1].toFixed(); // Error !!\na[1].replace('', '');\na[2].toFixed(); // Error !!\na[2].replace('', ''); // Error !!\n\n\u4e0a\u8a18\u3001\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u5404\u8981\u7d20\u306eArray<*>\u306a\u578b\u3092\u5265\u3044\u3066\u5185\u90e8\u306e\u578b\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u4e00\u62ec\u3067\u578b\u3092\u5265\u3044\u305f\u308a\u3001\u88ab\u305b\u305f\u308a\u3082\u3057\u307e\u3059\u304cIntersection Type\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u500b\u5225\u306b\u4e00\u81f4\u3057\u305f\u578b\u3092\u5909\u63db\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n# Try Flow\ndeclare var _: [number, string, boolean];\n\ntype A = $TupleMap<typeof(_), ((k:number)=>string)&((k:string)=>boolean)>;\n\ndeclare var a: A;\na[0].toFixed(); // Error !!\na[0].replace('', '');\na[1].toFixed(); // Error !!\na[1].replace('', ''); // Error !!\na[2].toFixed(); // Error !!\na[2].replace('', ''); // Error !!\n\n\u3053\u306e\u3068\u304d\u3001a[2]\u3067\u306f\u5bfe\u5fdc\u3059\u308b\u578b\u5909\u63db\u306e\u95a2\u6570\u304cIntersection Type\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001$TupleMap\u3092\u4f7f\u3046\u3068\u304d\u306f\u5168\u3066\u306e\u8981\u7d20\u3092\u51e6\u7406\u3067\u304d\u308b\u95a2\u6570\u3092\u578b\u5909\u63db\u306e\u95a2\u6570\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u306f\u3001\u5f8c\u8ff0\u306e$ObjMap\u3001$ObjMapi\u3067\u3082\u540c\u69d8\u306e\u6319\u52d5\u306b\u306a\u308a\u307e\u3059\u3002\n\n$ObjMap\n$ObjeMap\u306fT\u306b\u6307\u5b9a\u3057\u305fObject\u306e\u5024\u3092F\u306b\u6307\u5b9a\u3057\u305f\u95a2\u6570\u306e\u578b\u306e\u901a\u308a\u5909\u63db\u3059\u308b\u578b\u3067\u3059\u3002\n# Try Flow\ndeclare var _: {a: Array<number>, b: Array<string>, c: Array<boolean>};\n\ntype A = $ObjMap<typeof(_), <K>(k:Array<K>) => K>;\n\ndeclare var a: A;\na.a.toFixed();\na.a.replace('', ''); // Error !\na.b.toFixed(); // Error !\na.b.replace('', '');\na.c.toFixed(); // Error !\na.c.replace('', ''); // Error !\n\n$TupleMap\u306eObject\u7248\u3068\u3044\u3046\u5f62\u3067\u540c\u69d8\u306e\u66f8\u304d\u65b9\u3067\u5909\u63db\u3092\u884c\u3044\u307e\u3059\u3002\n\n$ObjMapi\n$ObjMapi\u306fT\u306b\u6307\u5b9a\u3057\u305fObject\u306e\u30ad\u30fc\u306b\u4e00\u81f4\u3057\u305f\u5024\u3092F\u306b\u6307\u5b9a\u3057\u305f\u95a2\u6570\u306e\u578b\u306e\u901a\u308a\u5909\u63db\u3059\u308b\u578b\u3067\u3059\u3002\n# Try Flow\ndeclare var _: {FOO: number, BAR: number};\n\ntype A = $ObjMapi<typeof(_), (<K>(k:'FOO') => string)&(<K>(k:'BAR') => Array<*>)>;\n\ndeclare var a: A;\na.FOO.toFixed(); // Error !\na.FOO.replace('', '');\na.BAR.toFixed(); // Error !\na.BAR.join('');\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306bFOO\u306b\u4e00\u81f4\u3057\u305f\u30ad\u30fc\u306e\u578b\u3092string\u306b\u3001BAR\u306b\u4e00\u81f4\u3057\u305f\u30ad\u30fc\u306e\u578b\u3092Array<*>\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002\n$ObjMapi\u3082$TupleType\u3084$ObjMap\u3068\u540c\u69d8\u306bIntersection Type\u3092\u4f7f\u308f\u305a\u306b\u5168\u3066\u306e\u30ad\u30fc\u306b\u4e00\u81f4\u3059\u308b\uff08\u3064\u307e\u308astring\u306b\u4e00\u81f4\u3059\u308b\u30ad\u30fc\uff09\u5024\u3092\u5909\u63db\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n$Tainted\n\u524d\u56de\u3001\u66f8\u304d\u5fd8\u308c\u3066\u3044\u305fUtility Type\u3067\u3059\u3002\n$Tainted\u306fT\u306b\u53d6\u3063\u305f\u578b\u3092\u53d7\u3051\u53d6\u308c\u308b\u4ee3\u308f\u308a\u306b\u3001\u5229\u7528\u3092\u3067\u304d\u306a\u304f\u3059\u308b\u305f\u3081\u306e\u578b\u3067\u3059\u3002\n# Try Flow\nvar t1: $Tainted<number> = 1;\nvar t2: any = t1; // Error !\nvar t3: mixed = t1; // Error !\nvar t4: $Tainted<number> = t1;\n\nconsole.log(t1); // Error !\nt1.toFixed(); // Error !\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001\u4f55\u3067\u3082\u53d6\u308c\u308b\u306f\u305a\u306eany\u3084mixed\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u3001\u53d7\u3051\u53d6\u3063\u305fT\u306e\u578b\u3068\u3057\u3066\u3082\u5229\u7528\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n$Pred\n\u524d\u56de\u3001\u66f8\u304d\u5fd8\u308c\u3066\u3044\u305fUtility Type\u305d\u306e2\u3067\u3059\u3002\n$Pred\u306f\u8ff0\u8a9e\u3092\u53d6\u308b\u95a2\u6570\u3067NumberLiteral\u306b\u5f15\u6570\u306e\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u8ff0\u8a9e\u3092\u53d6\u308b\u95a2\u6570\u3068\u3044\u3046\u306f\n# Try Flow\ndeclare function isString1(x: mixed): boolean %checks(typeof x === 'string');\nfunction isString2(x: mixed): boolean %checks {\n  return typeof x === 'string';\n}\n\ndeclare var a: mixed;\nif (isString1(a)) {\n  a.replace('', '');\n}\nif (isString2(a)) {\n  a.replace('', '');\n}\n\n\u306e\u3088\u3046\u306b\u623b\u308a\u5024\u306b%checks\u3068\u3044\u3046\u69cb\u6587\u3092\u53d6\u308a\u3001\u95a2\u6570\u3067\u884c\u3063\u305fDynamic Type Testing\u306e\u7d50\u679c\u3092\u547c\u3073\u51fa\u3057\u5143\u306e\u30b9\u30b3\u30fc\u30d7\u306b\u53cd\u6620\u3059\u308b\u95a2\u6570\u3067\u3059\u3002\n# Try Flow\ndeclare function isString1(x: mixed): boolean %checks(typeof x === 'string');\nfunction isString2(x: mixed): boolean %checks {\n  return typeof x === 'string';\n}\n\nvar fn1: $Pred<1> = isString1;\nvar fn2: $Pred<1> = isString2;\nvar fn3: $Pred<2> = isString2; // Error !\nvar fn4: $Pred<2> = (a: number, b: number) => a + b; // Error !\n\n$Pred\u306f\u305d\u3046\u3044\u3063\u305f\u8ff0\u8a9e\u306e\u3042\u308b\u95a2\u6570\u3092\u53d6\u308b\u305f\u3081\u306e\u5c02\u7528\u306e\u578b\u306b\u306a\u308a\u307e\u3059\u3002\n\n$Refine\n\u524d\u56de\u3001\u66f8\u304d\u5fd8\u308c\u3066\u3044\u305fUtility Type\u305d\u306e3\u3067\u3059\u3002\n$Refine\u306fT\u306b\u30d9\u30fc\u30b9\u3068\u306a\u308b\u578b\u3092\u53d6\u308a\u3001\u305d\u308c\u3092\u5909\u63db\u3059\u308b$Pred\u306e\u95a2\u6570\u3092P\u306b\u3001NumberLiteral\u306bT\u306e\u6570\uff08\u203b \u3053\u3053\u306e\u7406\u89e3\u304c\u3061\u3087\u3063\u3068\u602a\u3057\u3044\uff09\u3092\u53d6\u3063\u3066\u578b\u3092\u5909\u63db\u3059\u308b\uff08\u6d17\u7df4\u3055\u305b\u308b\uff09\u578b\u306b\u306a\u308a\u307e\u3059\u3002\n# Try Flow\ndeclare function refine<T, P: $Pred<1>>(v: T, cb: P): $Refine<T,P,1>;\ndeclare function isString(x: mixed): boolean %checks(typeof x === \"string\");\n\ndeclare var a: mixed;\nvar b = refine(a, isString);\nb.replace('', '')\n\n\u3061\u306a\u307f\u306b\u3001$Refine\u306f\u5f37\u5236\u7684\u306b\u578b\u3092\u5909\u63db\u3059\u308b\u305f\u3081\u3001\n# Try Flow\ndeclare function refine<T, P: $Pred<1>>(v: T, cb: P): $Refine<T,P,1>;\ndeclare function isString(x: mixed): boolean %checks(typeof x === \"string\");\n\nvar a: mixed = 1;\nvar b = refine(a, isString);\nb.replace('', '')\nb.toFixed(); // Error !\n\n\u306e\u3088\u3046\u306b\u5909\u6570a\u306bstring\u4ee5\u5916\u306e\u578b\u3092\u5165\u308c\u3066\u3082\u3001\u5909\u6570b\u3067\u306fstring\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\n\u4f55\u304b\u306b\u4f7f\u3048\u305d\u3046\u306a\u611f\u3058\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3002\u3069\u3046\u3044\u3063\u305f\u3068\u304d\u306b\u4f7f\u3048\u3070\u826f\u3044\u306e\u304b\u306a\u304b\u306a\u304b\u60a9\u307e\u3057\u3044\u3067\u3059\u3002\n\n\u304a\u308f\u308a\u306b\n\u3044\u304b\u304c\u3067\u3057\u305f\u3067\u3057\u3087\u3046\u304b\u3002\u3053\u308c\u3067v0.38.0\u6642\u70b9\u3067\u5b58\u5728\u3059\u308b$\u304b\u3089\u59cb\u307e\u308b\u7279\u6b8a\u306a\u578b\u306f\u7db2\u7f85\u3067\u304d\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\u3082\u306e\u306b\u3088\u3063\u3066\u306f\u8aac\u660e\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u53ef\u80fd\u6027\u3082\u3042\u308b\u306e\u3067\u3001\u3053\u3053\u306e\u7406\u89e3\u304c\u304a\u304b\u3057\u3044\u3088\u306a\u3069\u3042\u308c\u3070\u304a\u6c17\u8efd\u306b\u30c4\u30c3\u30b3\u30df\u304f\u3060\u3055\u3044\u3002\nflowtype\u306e[v0.38.0](https://github.com/facebook/flow/releases/tag/v0.38.0)\u304c\u3067\u307e\u3057\u305f\u306d\uff01\nCHANGELOG\u3092\u8aad\u3093\u3067\u307f\u308b\u3068\n\n> $ReadOnlyArray<T> is the common supertype of arrays and tuples. It's basically an array without stuff like push(), pop(), etc\n\n`$ReadOnlyArray<T>`\u306a\u3093\u3066\u4fbf\u5229\u305d\u3046\u306aUtility Type\uff08\u65e7Magic Type\uff09\u304c\u8ffd\u52a0\u3055\u308c\u3066\u308b\u3058\u3083\u306a\u3044\u3067\u3059\u304b\uff01\uff01\n\u3053\u308c\u306f\u697d\u3057\u305d\u3046\u3060\u3068\n\n* https://github.com/facebook/flow/blob/master/src/typing/type_annotation.ml\n\n\u3092\u898b\u3066\u307f\u308b\u3068\u306a\u3093\u304b`$`\u304b\u3089\u59cb\u307e\u308b\u898b\u77e5\u3089\u306c\u578b\u304c\u5897\u3048\u3066\u308b\u30fb\u30fb\u30fb\u3002\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306a\u3044\u306e\u306f\u307e\u3060\u8a31\u305b\u308b\u3051\u3069\u3001CHANGELOG\u306b\u3059\u3089\u306a\u3044\u3063\u3066\u3069\u3046\u3044\u3046\u3053\u3068\u306a\u306e\u30fb\u30fb\u30fb\uff01\uff01\uff01\n\n\u5606\u3044\u3066\u3082\u4ed5\u65b9\u306a\u3044\u306e\u3067\u3001\u6c17\u5408\u3092\u65b0\u305f\u306b\u8abf\u3079\u76f4\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\n\u3061\u306a\u307f\u306b\u3001\u904e\u53bb\u306b\u8abf\u3079\u305fUtility Type\u306b\u3064\u3044\u3066\u306f\u4e0b\u8a18\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n* [flowtype\u306eUtility Type\u306b\u3064\u3044\u3066 \u305d\u306e1](http://qiita.com/kinzal/items/e1898c89af5618e18334)\n\n\u307e\u305f\u3001Utility Type\u306e\u8abf\u3079\u65b9\u304c\u308f\u304b\u3063\u305f\u306e\u3067`$Type`\u3084`$Abstract`\u306a\u3069\u3088\u304f\u308f\u304b\u3089\u306a\u304b\u3063\u305f\u578b\u306b\u3064\u3044\u3066\u3082\u305d\u306e1\u306b\u3066\u66f4\u65b0\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\n## Utility Type\u306e\u8abf\u3079\u65b9\n\nflowtype\u3067\u898b\u77e5\u3089\u306c\u578b\u3084\u69cb\u6587\u3092\u898b\u3064\u3051\u305f\u3068\u304d\u306b\u7686\u3055\u3093\u306f\u3069\u3053\u3092\u8abf\u3079\u3066\u3044\u307e\u3059\u304b\uff1f\n\u81ea\u5206\u306f\u6700\u521d\u306f[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://flowtype.org/docs/getting-started.html#_)\u3084[issue](https://github.com/facebook/flow/issues)\u3001[PR](https://github.com/facebook/flow/pulls)\u3001\u679c\u3066\u306f[stackoverflow](http://stackoverflow.com/questions/tagged/flowtype)\u306a\u3093\u304b\u3092\u8abf\u3079\u3066\u3044\u307e\u3057\u305f\u3002\n\u3057\u304b\u3057\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u66f4\u65b0\u9045\u308c\u3066\u308b\u3057\u3001issue\u3084PR\u306a\u3093\u304b\u306f\u91cf\u304c\u591a\u304f\u3066\u57cb\u3082\u308c\u308b\u3057\u3001Utility Type\u306e\u540d\u524d\u306b\u3088\u3063\u3066\u306f\u30ce\u30a4\u30b8\u30fc\u306a\u60c5\u5831\u306b\u57cb\u3081\u5c3d\u304f\u3055\u308c\u3066\u63a2\u305b\u305f\u3082\u306e\u3058\u3083\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\u305d\u3046\u3044\u3063\u305f\u3068\u304d\u306f\n\n* https://github.com/facebook/flow/tree/master/tests\n\n\u306e`tests`\u4ee5\u4e0b\u3092\u898b\u308b\u3068\u5b9f\u969b\u306bJS\u3067Utility Type\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u30b3\u30fc\u30c9\u304c\u5b58\u5728\u3059\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3092\u898b\u308b\u3068\u5229\u7528\u30a4\u30e1\u30fc\u30b8\u304c\u6e67\u304d\u3084\u3059\u304f\u3001\u3069\u3093\u306a\u578b\u306a\u306e\u304b\u5206\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\uff08`$Abstract`\u3068\u304b\u306f\u306a\u304f\u3066\u6ce3\u304d\u305d\u3046\u306b\u306a\u3063\u305f\u3051\u3069\uff09\n\n\u5168\u304f\u3082\u3063\u3066\u521d\u5fc3\u8005\u306b\u512a\u3057\u304f\u306a\u3044\u3067\u3059\u304c\u3001\u3053\u308c\u306a\u306b\uff1f\u3068\u306a\u3063\u305f\u3068\u304d\u306f\u30c6\u30b9\u30c8\u3092\u8aad\u3081\u306e\u7cbe\u795e\u3067\u3059\u306d\uff01\uff01\uff01\n\n\n# $ReadOnlyArray<T>\n\n`$ReadOnlyArray`\u306f`T`\u578b\u306e\u8aad\u307f\u8fbc\u307f\u306e\u307f\u53ef\u80fd\u306a\u914d\u5217\u3092\u8868\u3059\u578b\u3067\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001\u8981\u7d20\u3078\u306e\u66f8\u304d\u8fbc\u307f\u3084\u3001`push`\u3084`pop`\u306a\u3069\u306e\u914d\u5217\u3092\u5909\u66f4\u3059\u308b\u51e6\u7406\u304c\u884c\u3048\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVA3AhgJzLnALjABIAlAUywBMB5AOxgE8BBHHLJgHnoFcBbAEYUcAPjABeMAG0AjABowAJkUBmALoBuVAWkAGdZLAAWTWGDAwAUXZw8AQh3sAdAAdeAZwAWACmMBKMwtrWwcnHDc4Vx9A80sbHDsweyA)\n\n```js\nvar arr: $ReadOnlyArray<number> = [1, 2, 3];\narr[0] = 4; // Error !\narr.push(4); // Error !\narr.pop(); // Error !\n```\n\n\u5909\u66f4\u304c\u5fc5\u8981\u306a\u3044\u3068\u3053\u308d\u306f\u591a\u3044\u306e\u3067\u3001\u3053\u308c\u306f\u4fbf\u5229\u3067\u3059\u306d\u3002\n\u4f59\u8ac7\u3067\u3059\u304c\u3001`Object`\u3067\u3082\u3053\u3046\u3044\u3063\u305f\u6a5f\u80fd\u304c\u6b32\u3057\u3044\u306a\u3068\u601d\u3063\u305f\u3068\u304d\u306bsetter/getter\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067ReadOnlyObject\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVAXAngBwKZgBKeAhgCYDyAdjFhQEYBWeAxhmALxgDeqYYAczzsSACgCUALjBUArgFt6eAE4BuPoOFh6E6QGcMygJZUB6-kPYtd2uHBikq6gL7rUANxLKwcJtOLk1LQMzGycPCTSAIwANNrSAOQk9CwJcSzShrJ4rqi+jAB0JAUYcABiRgAeeGQS6vlFBcp4ODAkLHiiCWlg3eKqYMDAYACiyspw3gCEeUxF4QBMA0Oj45NgU0A)\n\n```js\ntype ReadOnlyObject = {\n  get a(): number;\n  get b(): string;\n  get c(): boolean;\n};\n\nvar obj: ReadOnlyObject = {a: 1, b: 'abc', c: true};\nobj.a.toFixed();\nobj.a.replace('', ''); // Error !\nobj.a = 2; // Error !\n```\n\n\u3068\u306f\u3044\u3048\u3001\u3061\u3087\u3063\u3068\u30a4\u30b1\u3066\u306a\u3044\u611f\u306f\u3042\u308b\u306e\u3067\u3001flowtype\u306b\u3066ReadOnlyObject\u3092\u5bfe\u5fdc\u3057\u3066\u6b32\u3057\u3044\u3082\u306e\u3067\u3059\u306d\u3002\n\n# $TupleMap<T, F>\n\n`$TupleMap`\u306f`T`\u306b\u6307\u5b9a\u3057\u305fTuple\u306e\u5024\u3092`F`\u306b\u6307\u5b9a\u3057\u305f\u95a2\u6570\u306e\u578b\u306e\u901a\u308a\u5909\u63db\u3059\u308b\u578b\u3067\u3059\u3002\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVATApgYxgQwCcswA3IsAfQC4wBtAQUMPwE8AeAOwFcBbAIyyEAfABowTFhwDOAF0IBLTgHMxE5m3b84cGFnydhAXQDc6WawAOJBmAC8YACQAVbpb0BZfJfYXrcKAAKSgBKcXYAaWFAgGtqSU0okPthMCizMEys7MzMXAJiMgp8WgYzfDoABiMAOlk4ADEFAA8sDECQ8qra4nd8HCxAgHIh8RHOsGBgMABRZjhCMABCJdQKgEZa+qbW9omp2fnFlbW6TZreggHh0bBxroAmLcaWto6TSem5wgXl1YqnhcsH1riMxkN9l8jn8gA)\n\n```js\ndeclare var _: [Array<number>, Array<string>, Array<boolean>];\n\ntype A = $TupleMap<typeof(_), <K>(k:Array<K>) => K>;\n            \ndeclare var a: A;\na[0].toFixed();\na[0].replace('', ''); // Error !!\na[1].toFixed(); // Error !!\na[1].replace('', '');\na[2].toFixed(); // Error !!\na[2].replace('', ''); // Error !!\n```\n\n\u4e0a\u8a18\u3001\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u5404\u8981\u7d20\u306e`Array<*>`\u306a\u578b\u3092\u5265\u3044\u3066\u5185\u90e8\u306e\u578b\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306b\u4e00\u62ec\u3067\u578b\u3092\u5265\u3044\u305f\u308a\u3001\u88ab\u305b\u305f\u308a\u3082\u3057\u307e\u3059\u304c[Intersection Type](http://qiita.com/kinzal/items/e1898c89af5618e18334#allt)\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u500b\u5225\u306b\u4e00\u81f4\u3057\u305f\u578b\u3092\u5909\u63db\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVATApgYxgQwCcswA3IsAfQC4wBtAOwFcBbAIy0IBowBnAF0IBLBgHMebOHBhZ8DALoBudPwCeABxIBBMAF4wAEgAqTdTICy+dQB41muFAAUlAJQ9HjgNbVm7Ti90APgFhMRcAMg9vEJFRAMDJaVkGF0DlMAzMrIzMXAJiMgp8Wi1lfDoABnkAOn44ADEhAA8sDEcXRTBgYDAAUUJCOEIwAEIR1HKq6uIzfBwsRwByRZ5ljom6AEYausaWto6unv7B4bGN7emsWfmllbA1zu6+gaHR8fKAJh2G5tb2p7HV5nD50b5XG4LZarRaHZ4nN5jIA)\n\n```js\ndeclare var _: [number, string, boolean];\n\ntype A = $TupleMap<typeof(_), ((k:number)=>string)&((k:string)=>boolean)>;\n            \ndeclare var a: A;\na[0].toFixed(); // Error !!\na[0].replace('', '');\na[1].toFixed(); // Error !!\na[1].replace('', ''); // Error !!\na[2].toFixed(); // Error !!\na[2].replace('', ''); // Error !!\n```\n\n\u3053\u306e\u3068\u304d\u3001`a[2]`\u3067\u306f\u5bfe\u5fdc\u3059\u308b\u578b\u5909\u63db\u306e\u95a2\u6570\u304cIntersection Type\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u3001`$TupleMap`\u3092\u4f7f\u3046\u3068\u304d\u306f\u5168\u3066\u306e\u8981\u7d20\u3092\u51e6\u7406\u3067\u304d\u308b\u95a2\u6570\u3092\u578b\u5909\u63db\u306e\u95a2\u6570\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u306f\u3001\u5f8c\u8ff0\u306e`$ObjMap`\u3001`$ObjMapi`\u3067\u3082\u540c\u69d8\u306e\u6319\u52d5\u306b\u306a\u308a\u307e\u3059\u3002\n\n# $ObjMap<T, F>\n\n`$ObjeMap`\u306f`T`\u306b\u6307\u5b9a\u3057\u305fObject\u306e\u5024\u3092`F`\u306b\u6307\u5b9a\u3057\u305f\u95a2\u6570\u306e\u578b\u306e\u901a\u308a\u5909\u63db\u3059\u308b\u578b\u3067\u3059\u3002\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVATApgYxgQwCcswA3IsAfQC4wBvfWgQUMPwE8AeAOwFcBbAEZZCAPgA0YQc1YdOAZwAuhAJbcA5hLA4ZbLoLhwYWfN1EBfANzpF7AA4kmYALxgAJAHlBAKwCy+O05bBzgoAApKAEpJTgBpUTCAa2oWPTjRSJdRMHjrMHyCwvzMXAJiMgpGMCZrfAA6esU4ADEVAA8sDDDI2oa64jsCHCwwgHJRyXGesGBgMABRVjhCMABCVHrBOqbWjq7p2YWllfXN-qxB-GGxibAp3pxtlvbO7ssZucXCZbWNuseBkMRuNJqMDp9jmsgA)\n\n```js\ndeclare var _: {a: Array<number>, b: Array<string>, c: Array<boolean>};\n\ntype A = $ObjMap<typeof(_), <K>(k:Array<K>) => K>;\n            \ndeclare var a: A;\na.a.toFixed();\na.a.replace('', ''); // Error !\na.b.toFixed(); // Error !\na.b.replace('', '');\na.c.toFixed(); // Error !\na.c.replace('', ''); // Error !\n```\n\n`$TupleMap`\u306eObject\u7248\u3068\u3044\u3046\u5f62\u3067\u540c\u69d8\u306e\u66f8\u304d\u65b9\u3067\u5909\u63db\u3092\u884c\u3044\u307e\u3059\u3002\n\n# $ObjMapi<T, F>\n\n`$ObjMapi`\u306f`T`\u306b\u6307\u5b9a\u3057\u305fObject\u306e\u30ad\u30fc\u306b\u4e00\u81f4\u3057\u305f\u5024\u3092`F`\u306b\u6307\u5b9a\u3057\u305f\u95a2\u6570\u306e\u578b\u306e\u901a\u308a\u5909\u63db\u3059\u308b\u578b\u3067\u3059\u3002\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVATApgYxgQwCcswA3IsAfQC4wBvAMQHknaA7AVwFsAjLQgDRgAQgEEASu259CAXwDc6AC4BPAA4lRYALxgAJEx4ArALL41ASwA8qjXCgAKSgEohDqwGkAfA4DW1AHJmJgDnHS8wAGclQgs2AHNnADJ3bz9AsXFQ8LBRQkJ8FSsQL2cvRTBKqurKzFwCYjIKfFpRRXwAOmCOpTgGCwAPLAwHZ3kwYGAwAFF8uEIwAEJUTu7iNQIcLAcAgKFdsZWOzJ6+weHR8cmZuYXlzpOjODid0PkgA)\n\n```js\ndeclare var _: {FOO: number, BAR: number};\n\ntype A = $ObjMapi<typeof(_), (<K>(k:'FOO') => string)&(<K>(k:'BAR') => Array<*>)>;\n            \ndeclare var a: A;\na.FOO.toFixed(); // Error !\na.FOO.replace('', '');\na.BAR.toFixed(); // Error !\na.BAR.join('');\n```\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b`FOO`\u306b\u4e00\u81f4\u3057\u305f\u30ad\u30fc\u306e\u578b\u3092string\u306b\u3001`BAR`\u306b\u4e00\u81f4\u3057\u305f\u30ad\u30fc\u306e\u578b\u3092Array<*>\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002\n`$ObjMapi`\u3082`$TupleType`\u3084`$ObjMap`\u3068\u540c\u69d8\u306bIntersection Type\u3092\u4f7f\u308f\u305a\u306b\u5168\u3066\u306e\u30ad\u30fc\u306b\u4e00\u81f4\u3059\u308b\uff08\u3064\u307e\u308astring\u306b\u4e00\u81f4\u3059\u308b\u30ad\u30fc\uff09\u5024\u3092\u5909\u63db\u3059\u308b\u3068\u3044\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n# $Tainted<T>\n\n\u524d\u56de\u3001\u66f8\u304d\u5fd8\u308c\u3066\u3044\u305f\bUtility Type\u3067\u3059\u3002\n`$Tainted`\u306f`T`\u306b\u53d6\u3063\u305f\u578b\u3092\u53d7\u3051\u53d6\u308c\u308b\u4ee3\u308f\u308a\u306b\u3001\u5229\u7528\u3092\u3067\u304d\u306a\u304f\u3059\u308b\u305f\u3081\u306e\u578b\u3067\u3059\u3002\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVA3AhgJzAFwEYAuMAEgBUsBLAO3wFMATAHloFcBbAIwZwD4wAXjCEA3JlwEATKSy0AnsILiwwYGACiOHHDwBCSXnwBmUp2oAPZsqJi1G7boNGCAFlKUa9Zmy68BW3F0AGM4WgBnOBgGADp4AHMACiIASnt1LR09MEMiWPw4ADErZiT0hyznXKA)\n\n```js\nvar t1: $Tainted<number> = 1;\nvar t2: any = t1; // Error !\nvar t3: mixed = t1; // Error !\nvar t4: $Tainted<number> = t1;\n\nconsole.log(t1); // Error !\nt1.toFixed(); // Error !\n```\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001\u4f55\u3067\u3082\u53d6\u308c\u308b\u306f\u305a\u306e`any`\u3084`mixed`\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u3001\u53d7\u3051\u53d6\u3063\u305f`T`\u306e\u578b\u3068\u3057\u3066\u3082\u5229\u7528\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n# $Pred<NumberLiteral>\n\n\u524d\u56de\u3001\u66f8\u304d\u5fd8\u308c\u3066\u3044\u305fUtility Type\u305d\u306e2\u3067\u3059\u3002\n`$Pred`\u306f\u8ff0\u8a9e\u3092\u53d6\u308b\u95a2\u6570\u3067`NumberLiteral`\u306b\u5f15\u6570\u306e\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u8ff0\u8a9e\u3092\u53d6\u308b\u95a2\u6570\u3068\u3044\u3046\u306f\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVATApgYxgQwCcswoBXAOxwBcBLOCsWgZwGVrDaKBzARgAoAHgC4wAW1qCsGAJSiARnDgws+RgFIcAC1wBrZv2oBPAA5Y4UMILABeO2ADkzDl24OZAblTkqdBkzYXHgAmIVEJKVkFJRU1ME0dHH0wAG9UMDBiajJCRmMzCytbeycgty8AX3RsPCISADciMHxwyWkvWkt+FnZOHgF8GRlU9OaAOmITAhwsfgcHABpHd0rUTrBuwL7uUMHhtIz8Cawp-Bm5xeXPVAqgA)\n\n```js\ndeclare function isString1(x: mixed): boolean %checks(typeof x === 'string');\nfunction isString2(x: mixed): boolean %checks {\n  return typeof x === 'string';\n}\n\ndeclare var a: mixed;\nif (isString1(a)) {\n  a.replace('', '');\n}\nif (isString2(a)) {\n  a.replace('', '');\n}\n```\n\n\u306e\u3088\u3046\u306b\u623b\u308a\u5024\u306b`%checks`\u3068\u3044\u3046\u69cb\u6587\u3092\u53d6\u308a\u3001\u95a2\u6570\u3067\u884c\u3063\u305fDynamic Type Testing\u306e\u7d50\u679c\u3092\u547c\u3073\u51fa\u3057\u5143\u306e\u30b9\u30b3\u30fc\u30d7\u306b\u53cd\u6620\u3059\u308b\u95a2\u6570\u3067\u3059\u3002\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVATApgYxgQwCcswoBXAOxwBcBLOCsWgZwGVrDaKBzARgAoAHgC4wAW1qCsGAJSiARnDgws+RgFIcAC1wBrZv2oBPAA5Y4UMILABeO2ADkzDl24OZAblTkqdBkzYXHgAmIVEJKVkFJRU1ME0dHH0wAG9UMDBiajJCRmMzCytbeycgty8AX3QANyJSCl5RABIABWIMAB5eAD5bAPZOHl4vWsJ64Oa26S7em36y4JG6qAoAZkn2juDZ+cHuRbBgYDAAUUJCODGAQlRR+oAWDentvv58UQoyMXksQgAaMDyD5fH6EGS2Xr4MAAakBHkOxzOF2uQA)\n\n```js\ndeclare function isString1(x: mixed): boolean %checks(typeof x === 'string');\nfunction isString2(x: mixed): boolean %checks {\n  return typeof x === 'string';\n}\n\nvar fn1: $Pred<1> = isString1;\nvar fn2: $Pred<1> = isString2;\nvar fn3: $Pred<2> = isString2; // Error !\nvar fn4: $Pred<2> = (a: number, b: number) => a + b; // Error !\n```\n\n`$Pred`\u306f\u305d\u3046\u3044\u3063\u305f\u8ff0\u8a9e\u306e\u3042\u308b\u95a2\u6570\u3092\u53d6\u308b\u305f\u3081\u306e\u5c02\u7528\u306e\u578b\u306b\u306a\u308a\u307e\u3059\u3002\n\n# $Refine<T, P, NumberLiteral>\n\n\u524d\u56de\u3001\u66f8\u304d\u5fd8\u308c\u3066\u3044\u305fUtility Type\u305d\u306e3\u3067\u3059\u3002\n`$Refine`\u306f`T`\u306b\u30d9\u30fc\u30b9\u3068\u306a\u308b\u578b\u3092\u53d6\u308a\u3001\u305d\u308c\u3092\u5909\u63db\u3059\u308b`$Pred`\u306e\u95a2\u6570\u3092`P`\u306b\u3001`NumberLiteral`\u306b`T`\u306e\u6570\uff08\u203b \u3053\u3053\u306e\u7406\u89e3\u304c\u3061\u3087\u3063\u3068\u602a\u3057\u3044\uff09\u3092\u53d6\u3063\u3066\u578b\u3092\u5909\u63db\u3059\u308b\uff08\u6d17\u7df4\u3055\u305b\u308b\uff09\u578b\u306b\u306a\u308a\u307e\u3059\u3002\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVATApgYxgQwCcswoBXAOxwBcBLOCsYqWirAHgBUAaMABQBcYACR9iGdgEYAfNIAUANyE8wOAEZC+ASiHCASlhZsu3PtxkBuTLgLFSlGvUa0AzgGVqhVgHM5ADyEAW1o-LAwdMDU4OBgsfEYAUhwAC1wAaxc5agBPAAcsOCgwPzAAXnKwACIXTx9KrStrPCISBSIwfCCQsKs2wkiypkNWLDl8XlcPLwpvBtQ1ADpiXIIcUYBydd5NrSA)\n\n```JS\ndeclare function refine<T, P: $Pred<1>>(v: T, cb: P): $Refine<T,P,1>;\ndeclare function isString(x: mixed): boolean %checks(typeof x === \"string\");\n\ndeclare var a: mixed;\nvar b = refine(a, isString);\nb.replace('', '')\n```\n\n\u3061\u306a\u307f\u306b\u3001`$Refine`\u306f\u5f37\u5236\u7684\u306b\u578b\u3092\u5909\u63db\u3059\u308b\u305f\u3081\u3001\n\n[# Try Flow](https://flowtype.org/try/#0PQKgBAAgZgNg9gdzCYAoVATApgYxgQwCcswoBXAOxwBcBLOCsYqWirAHgBUAaMABQBcYACR9iGdgEYAfNIAUANyE8wOAEZC+ASiHCASlhZsu3PtxkBuTLgLFSlGvUa0AzgGVqhVgHM5ADyEAW1o-LAwdMDU4OBgsfEYAUhwAC1wAaxc5agBPAAcsOCgwPzAAXnKwACIXTx9KrStUBSIwfCCQsLKwSStmwkiu5lYsOXxeVw8vCm8G1DUAOmJcghwRgHI13g2tOfnqOAAxDow5BrBgYDAAUUJCOH6AQiA)\n\n```js\ndeclare function refine<T, P: $Pred<1>>(v: T, cb: P): $Refine<T,P,1>;\ndeclare function isString(x: mixed): boolean %checks(typeof x === \"string\");\n\nvar a: mixed = 1;\nvar b = refine(a, isString);\nb.replace('', '')\nb.toFixed(); // Error !\n```\n\n\u306e\u3088\u3046\u306b\u5909\u6570`a`\u306bstring\u4ee5\u5916\u306e\u578b\u3092\u5165\u308c\u3066\u3082\u3001\u5909\u6570`b`\u3067\u306fstring\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\n\u4f55\u304b\u306b\u4f7f\u3048\u305d\u3046\u306a\u611f\u3058\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3002\u3069\u3046\u3044\u3063\u305f\u3068\u304d\u306b\u4f7f\u3048\u3070\u826f\u3044\u306e\u304b\u306a\u304b\u306a\u304b\u60a9\u307e\u3057\u3044\u3067\u3059\u3002\n\n# \u304a\u308f\u308a\u306b\n\n\u3044\u304b\u304c\u3067\u3057\u305f\u3067\u3057\u3087\u3046\u304b\u3002\u3053\u308c\u3067v0.38.0\u6642\u70b9\u3067\u5b58\u5728\u3059\u308b`$`\u304b\u3089\u59cb\u307e\u308b\u7279\u6b8a\u306a\u578b\u306f\u7db2\u7f85\u3067\u304d\u305f\u3068\u601d\u3044\u307e\u3059\u3002\n\u3082\u306e\u306b\u3088\u3063\u3066\u306f\u8aac\u660e\u304c\u9593\u9055\u3063\u3066\u3044\u308b\u53ef\u80fd\u6027\u3082\u3042\u308b\u306e\u3067\u3001\u3053\u3053\u306e\u7406\u89e3\u304c\u304a\u304b\u3057\u3044\u3088\u306a\u3069\u3042\u308c\u3070\u304a\u6c17\u8efd\u306b\u30c4\u30c3\u30b3\u30df\u304f\u3060\u3055\u3044\u3002\n\n", "tags": ["flow", "flowtype", "JavaScript"]}