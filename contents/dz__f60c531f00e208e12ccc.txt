{"context": " More than 1 year has passed since last update.\u3053\u3093\u306b\u3061\u306f\u3001cloudpack \u306e @dz_ \u3053\u3068\u5927\u5e73\u304b\u3065\u307f\u3067\u3059\u3002\n\nPrologue - \u306f\u3058\u3081\u306b\n\u3061\u3087\u3063\u3068 Ansible \u306b\u6163\u308c\u3088\u3046\u3068 Amazon Linux \u3067\u30c8\u30e9\u30a4\u3057\u3066\u307f\u305f\u3068\u3053\u308d\u3001\u4ee5\u4e0b\u3067\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\u5099\u5fd8\u9332\u306b\u30e1\u30e2\u3092\u6b8b\u3057\u307e\u3059\u3002\n\n\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\n\nansible \u5b9f\u884c\u3067 ansible.runner \u304c\u307f\u3064\u304b\u3089\u306a\u3044\u30a8\u30e9\u30fc\n# Ansible \u306e\u30c6\u30b9\u30c8\u3067\u81ea\u8eab\u306b ping \u3092\u6253\u3063\u3066\u307f\u308b\u3082\u2026 (hosts \u8a2d\u5b9a\u6e08\u307f)\nansible localhost -m ping\n\nTraceback (most recent call last):\n  File \"/usr/bin/ansible\", line 36, in <module>\n    from ansible.runner import Runner\nImportError: No module named ansible.runner\n\npython \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c 2.7 \u3067\u3042\u308b\u3053\u3068\u304c\u539f\u56e0\u306a\u306e\u3067\u3001 2.6 \u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3067 Ansible \u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\uff08Amazon Linux 2015.09 \u3067 yum update \u3092\u3057\u305f\u5f8c\u306a\u3069\u306f python2.7 \u306b\u66f4\u65b0\u3055\u308c\u308b\u305d\u3046\u3067\u3059\u3002\uff09\n# python \u3092 2.6 \u306b\u5207\u308a\u66ff\u3048\u308b\nsudo alternatives --config python\n\n2 \u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u3042\u308a 'python' \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\n\n  \u9078\u629e       \u30b3\u30de\u30f3\u30c9\n-----------------------------------------------\n*+ 1           /usr/bin/python2.7\n   2           /usr/bin/python2.6\n\nEnter \u3092\u62bc\u3057\u3066\u73fe\u5728\u306e\u9078\u629e [+] \u3092\u4fdd\u6301\u3059\u308b\u304b\u3001\u9078\u629e\u756a\u53f7\u3092\u5165\u529b\u3057\u307e\u3059:2\n\n\nplaybook \u306e yum \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u4f7f\u3048\u306a\u3044\u30a8\u30e9\u30fc\nansible-playbook \u3067 yum: \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u304a\u3046\u3068\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\nTASK: [Install Git] *********************************************************** \nfailed: [localhost] => {\"failed\": true, \"parsed\": false}\nTraceback (most recent call last):\n  File \"/home/user/.ansible/tmp/ansible-tmp-XXX/yum\", line 27, in <module>\n    import yum\nImportError: No module named yum\n\n\u3069\u3046\u3084\u3089 yum-python26 \u304c\u306a\u3044\u3068\u306e\u3053\u3068\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\u3002\n# yum-python26 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nsudo yum install yum-python26\n\n\nEpilogue - \u304a\u308f\u308a\u306b\n\u4ee5\u4e0a\u3067\u3059\uff01\n\u3053\u3093\u306b\u3061\u306f\u3001[cloudpack][] \u306e @dz_ \u3053\u3068[\u5927\u5e73\u304b\u3065\u307f][]\u3067\u3059\u3002\n\nPrologue - \u306f\u3058\u3081\u306b\n====\n\u3061\u3087\u3063\u3068 Ansible \u306b\u6163\u308c\u3088\u3046\u3068 Amazon Linux \u3067\u30c8\u30e9\u30a4\u3057\u3066\u307f\u305f\u3068\u3053\u308d\u3001\u4ee5\u4e0b\u3067\u30cf\u30de\u308a\u307e\u3057\u305f\u3002\u5099\u5fd8\u9332\u306b\u30e1\u30e2\u3092\u6b8b\u3057\u307e\u3059\u3002\n\n\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\n====\n\n`ansible` \u5b9f\u884c\u3067 `ansible.runner` \u304c\u307f\u3064\u304b\u3089\u306a\u3044\u30a8\u30e9\u30fc\n----\n\n```bash\n# Ansible \u306e\u30c6\u30b9\u30c8\u3067\u81ea\u8eab\u306b ping \u3092\u6253\u3063\u3066\u307f\u308b\u3082\u2026 (hosts \u8a2d\u5b9a\u6e08\u307f)\nansible localhost -m ping\n```\n\n```bash\nTraceback (most recent call last):\n  File \"/usr/bin/ansible\", line 36, in <module>\n    from ansible.runner import Runner\nImportError: No module named ansible.runner\n```\n\npython \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c `2.7` \u3067\u3042\u308b\u3053\u3068\u304c\u539f\u56e0\u306a\u306e\u3067\u3001 `2.6` \u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3067 Ansible \u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\uff08Amazon Linux 2015.09 \u3067 `yum update` \u3092\u3057\u305f\u5f8c\u306a\u3069\u306f `python2.7` \u306b\u66f4\u65b0\u3055\u308c\u308b\u305d\u3046\u3067\u3059\u3002\uff09\n\n```bash\n# python \u3092 2.6 \u306b\u5207\u308a\u66ff\u3048\u308b\nsudo alternatives --config python\n\n2 \u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u3042\u308a 'python' \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\n\n  \u9078\u629e       \u30b3\u30de\u30f3\u30c9\n-----------------------------------------------\n*+ 1           /usr/bin/python2.7\n   2           /usr/bin/python2.6\n\nEnter \u3092\u62bc\u3057\u3066\u73fe\u5728\u306e\u9078\u629e [+] \u3092\u4fdd\u6301\u3059\u308b\u304b\u3001\u9078\u629e\u756a\u53f7\u3092\u5165\u529b\u3057\u307e\u3059:2\n```\n\nplaybook \u306e yum \u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u4f7f\u3048\u306a\u3044\u30a8\u30e9\u30fc\n----\n\n`ansible-playbook` \u3067 `yum:` \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u304a\u3046\u3068\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\n```bash\nTASK: [Install Git] *********************************************************** \nfailed: [localhost] => {\"failed\": true, \"parsed\": false}\nTraceback (most recent call last):\n  File \"/home/user/.ansible/tmp/ansible-tmp-XXX/yum\", line 27, in <module>\n    import yum\nImportError: No module named yum\n```\n\n\u3069\u3046\u3084\u3089 `yum-python26` \u304c\u306a\u3044\u3068\u306e\u3053\u3068\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u3087\u3046\u3002\n\n```bash\n# yum-python26 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nsudo yum install yum-python26\n```\n\nEpilogue - \u304a\u308f\u308a\u306b\n====\n\u4ee5\u4e0a\u3067\u3059\uff01\n\n[cloudpack]:https://cloudpack.jp/ \"cloudpack\uff08\u30af\u30e9\u30a6\u30c9\u30d1\u30c3\u30af\uff09 400\u793e\u3092\u8d85\u3048\u308b\u5c0e\u5165\u5b9f\u7e3e! EC2\u306a\u3069AWS\u30af\u30e9\u30a6\u30c9\u306e\u5c0e\u5165\u8a2d\u8a08\u3001\u69cb\u7bc9\u3001\u904b\u7528\u4fdd\u5b88\u30b5\u30fc\u30d3\u30b9\"\n[cloudpack-blog]:http://blog.cloudpack.jp/ \"cloudpack\u6280\u8853\u60c5\u5831\u30b5\u30a4\u30c8\"\n[\u5927\u5e73\u304b\u3065\u307f]:http://blog.cloudpack.jp/author/oohira/ \"\u5927\u5e73\u304b\u3065\u307f\u306e\u8a18\u4e8b\u4e00\u89a7\"\n", "tags": ["AWS", "AmazonLinux", "python2.6", "Ansible"]}