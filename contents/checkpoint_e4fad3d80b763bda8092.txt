{"context": " More than 1 year has passed since last update.\n\n\u74b0\u5883\n\nMacOS10.8.5\n\u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30e2\u30fc\u30c9\n\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nwget http://ftp.riken.jp/net/apache/hbase/hbase-0.94.18/hbase-0.94.18.tar.gz\n\n\n\u5c55\u958b\ntar -zvzf hbase-0.94.18.tar.gz\ncd hbase-0.94.18/\n\n\nJAVA_HOME\u306e\u8a2d\u5b9a\nexport JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home\nexport PATH=\"$JAVA_HOME/bin:$PATH\"\n\n\n\u8d77\u52d5\nbin/start-hbase.sh\n\n\n\u78ba\u8a8d\n\u4e0b\u8a18\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070OK\n\nhttp://localhost:60010/master-status\n\n\nHBase\u306b\u30a2\u30af\u30bb\u30b9\n\nHBase shell\u3092\u8d77\u52d5\nHBase Shell; enter 'help<RETURN>' for list of supported commands.\nType \"exit<RETURN>\" to leave the HBase Shell\nVersion 0.94.18, r1577788, Sat Mar 15 04:46:47 UTC 2014\n\nhbase(main):001:0> \n\n\n\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\ncreate \"table\", \"column_family\"\n\n\n\u30c7\u30fc\u30bf\u306e\u633f\u5165\nput \"table\", \"row_1\", \"column_family:column_1\", \"val_1\"\nput \"table\", \"row_1\", \"column_family:column_2\", \"val_2\"\nput \"table\", \"row_2\", \"column_family:column_1\", \"val_1\"\nput \"table\", \"row_2\", \"column_family:column_2\", \"val_2\"\nput \"table\", \"row_2\", \"column_family:column_3\", \"val_3\"\n\n\u307e\u3068\u3081\u3066\u633f\u5165\u3059\u308b\u5834\u5408\uff08JRuby\u306eIRB\u306a\u306e\u3067Ruby\u306e\u6587\u6cd5\u304c\u4f7f\u3048\u308b\uff09\n1000.times { |i| put 'table', \"row_#{i}\", \"column_family:column_1\", \"val_#{i}\"}\n1000.times { |i| put 'table', \"row_#{i}\", \"column_family:column_2\", \"val_#{i}\"}\n1000.times { |i| put 'table', \"row_#{i}\", \"column_family:column_3\", \"val_#{i}\"}\n\n\n\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\nget \"table\", \"row_1\"\n\n\n\u30c7\u30fc\u30bf\u306e\u524a\u9664\ndelete \"table\", \"row_1\", \"column_family:column_1\"\n\n\n\u30c7\u30fc\u30bf\u306e\u30b9\u30ad\u30e3\u30f3\n\n\u5168\u90e8\nscan \"table\"\n\n\n\u7bc4\u56f2\u3092\u6307\u5b9a\nscan \"table\", {STARTROW => \"row_998\"}\nscan \"table\", {STARTROW => \"row_960\", STOPROW => \"row_980\"}\n\n\n\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u6307\u5b9a\nscan \"table\", {FILTER => \"TimestampsFilter(1398219062910)\"}\n\n\n\u7d42\u4e86\nbin/stop-hbase.sh\n\n\nJava\u304b\u3089\u53d6\u5f97\u3057\u3066\u307f\u308b\n\npom.xml\n\u4e0b\u8a18\u3092\u8ffd\u52a0\n<dependency>\n    <groupId>org.apache.hadoop</groupId>\n    <artifactId>hadoop-core</artifactId>\n    <version>1.2.1</version>\n    <scope>provided</scope>\n</dependency>\n<dependency>\n    <groupId>org.apache.hbase</groupId>\n    <artifactId>hbase</artifactId>\n    <version>0.94.18</version>\n    <scope>provided</scope>\n</dependency>\n\n\nApp.java\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.client.Get;\nimport org.apache.hadoop.hbase.client.HTable;\nimport org.apache.hadoop.hbase.client.Result;\nimport org.apache.hadoop.hbase.util.Bytes;\n\nimport java.io.IOException;\n\npublic class App {\n\n    public static void main(String[] args) {\n\n        try {\n\n            Configuration conf = HBaseConfiguration.create();\n            conf.set(\"hbase.zookeeper.quorum\", \"localhost\");\n\n            HTable table = new HTable(conf, \"table\");\n\n            byte[] column_family = Bytes.toBytes(\"column_family\");\n            byte[] column_1 = Bytes.toBytes(\"column_1\");\n            byte[] row_1 = Bytes.toBytes(\"row_1\");\n\n            Get get = new Get(row_1);\n\n            Result result = table.get(get);\n\n            System.out.println(Bytes.toString(result.getValue(column_family, column_1)));\n\n            table.close();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n\n\n\n\u53c2\u8003URL\n\nhttp://codezine.jp/article/detail/6940\n\n\n## \u74b0\u5883\n\n* MacOS10.8.5\n* \u30b9\u30bf\u30f3\u30c9\u30a2\u30ed\u30f3\u30e2\u30fc\u30c9\n\n\n## \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n```\nwget http://ftp.riken.jp/net/apache/hbase/hbase-0.94.18/hbase-0.94.18.tar.gz\n```\n\n## \u5c55\u958b\n\n```\ntar -zvzf hbase-0.94.18.tar.gz\ncd hbase-0.94.18/\n```\n\n## JAVA_HOME\u306e\u8a2d\u5b9a\n\n```\nexport JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home\nexport PATH=\"$JAVA_HOME/bin:$PATH\"\n```\n\n## \u8d77\u52d5\n\n```\nbin/start-hbase.sh\n```\n\n## \u78ba\u8a8d\n\n\u4e0b\u8a18\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308c\u3070OK\n\n* http://localhost:60010/master-status\n\n## HBase\u306b\u30a2\u30af\u30bb\u30b9\n\n### HBase shell\u3092\u8d77\u52d5\n\n```\nHBase Shell; enter 'help<RETURN>' for list of supported commands.\nType \"exit<RETURN>\" to leave the HBase Shell\nVersion 0.94.18, r1577788, Sat Mar 15 04:46:47 UTC 2014\n\nhbase(main):001:0> \n```\n\n### \u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\n\n```\ncreate \"table\", \"column_family\"\n```\n\n### \u30c7\u30fc\u30bf\u306e\u633f\u5165\n\n```\nput \"table\", \"row_1\", \"column_family:column_1\", \"val_1\"\nput \"table\", \"row_1\", \"column_family:column_2\", \"val_2\"\nput \"table\", \"row_2\", \"column_family:column_1\", \"val_1\"\nput \"table\", \"row_2\", \"column_family:column_2\", \"val_2\"\nput \"table\", \"row_2\", \"column_family:column_3\", \"val_3\"\n```\n\n\n\u307e\u3068\u3081\u3066\u633f\u5165\u3059\u308b\u5834\u5408\uff08JRuby\u306eIRB\u306a\u306e\u3067Ruby\u306e\u6587\u6cd5\u304c\u4f7f\u3048\u308b\uff09\n\n```\n1000.times { |i| put 'table', \"row_#{i}\", \"column_family:column_1\", \"val_#{i}\"}\n1000.times { |i| put 'table', \"row_#{i}\", \"column_family:column_2\", \"val_#{i}\"}\n1000.times { |i| put 'table', \"row_#{i}\", \"column_family:column_3\", \"val_#{i}\"}\n```\n\n\n### \u30c7\u30fc\u30bf\u306e\u53d6\u5f97\n\n```\nget \"table\", \"row_1\"\n```\n\n### \u30c7\u30fc\u30bf\u306e\u524a\u9664\n\n```\ndelete \"table\", \"row_1\", \"column_family:column_1\"\n```\n\n### \u30c7\u30fc\u30bf\u306e\u30b9\u30ad\u30e3\u30f3\n\n#### \u5168\u90e8\n\n```\nscan \"table\"\n```\n\n#### \u7bc4\u56f2\u3092\u6307\u5b9a\n\n```\nscan \"table\", {STARTROW => \"row_998\"}\nscan \"table\", {STARTROW => \"row_960\", STOPROW => \"row_980\"}\n```\n\n#### \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u3092\u6307\u5b9a\n\n```\nscan \"table\", {FILTER => \"TimestampsFilter(1398219062910)\"}\n```\n\n## \u7d42\u4e86\n\n```\nbin/stop-hbase.sh\n```\n\n## Java\u304b\u3089\u53d6\u5f97\u3057\u3066\u307f\u308b\n\n### pom.xml\n\n\u4e0b\u8a18\u3092\u8ffd\u52a0\n\n```\n<dependency>\n    <groupId>org.apache.hadoop</groupId>\n    <artifactId>hadoop-core</artifactId>\n    <version>1.2.1</version>\n    <scope>provided</scope>\n</dependency>\n<dependency>\n    <groupId>org.apache.hbase</groupId>\n    <artifactId>hbase</artifactId>\n    <version>0.94.18</version>\n    <scope>provided</scope>\n</dependency>\n```\n\n### App.java\n\n```\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.client.Get;\nimport org.apache.hadoop.hbase.client.HTable;\nimport org.apache.hadoop.hbase.client.Result;\nimport org.apache.hadoop.hbase.util.Bytes;\n\nimport java.io.IOException;\n\npublic class App {\n\n    public static void main(String[] args) {\n\n        try {\n\n            Configuration conf = HBaseConfiguration.create();\n            conf.set(\"hbase.zookeeper.quorum\", \"localhost\");\n\n            HTable table = new HTable(conf, \"table\");\n\n            byte[] column_family = Bytes.toBytes(\"column_family\");\n            byte[] column_1 = Bytes.toBytes(\"column_1\");\n            byte[] row_1 = Bytes.toBytes(\"row_1\");\n\n            Get get = new Get(row_1);\n\n            Result result = table.get(get);\n\n            System.out.println(Bytes.toString(result.getValue(column_family, column_1)));\n\n            table.close();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n\n```\n\n## \u53c2\u8003URL\n\n* http://codezine.jp/article/detail/6940\n\n", "tags": ["HBase"]}