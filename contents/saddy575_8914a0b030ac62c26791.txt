{"context": " More than 1 year has passed since last update.facebook\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u3042\u3063\u305f\u306e\u3067\u6652\u3057\u3066\u304a\u304d\u307e\u3059\u3002\ntable\u306e\u5024\u3092dump\u51fa\u529b\u3057\u305f\u308a\u3001\u305d\u308c\u3092\u5b9f\u6a5f\u3067\u30b3\u30d4\u30da\u53ef\u80fd\u72b6\u614b\u306a\u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30c8\u30ec\u30fc\u30b9\u3057\u305f\u308a\u3059\u308b\u30af\u30e9\u30b9\u3067\u3059\u3002\n\u30bd\u30fc\u30b9\u304c\u9577\u3044\u306e\u3067\u30b3\u30b3\u306bzip\u3067\u56fa\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\nlog.lua\n\nmodule(..., package.seeall)\n\nlocal DEBUG = 1;\nlocal INFO  = 2;\nlocal WARN  = 4;\nlocal ERROR = 8;\nlocal RELEASE = 16;\n\n--\u3057\u304d\u3044\u5024\u8a2d\u5b9a\nlocal logLevel = DEBUG;     \n\n--\u30c7\u30d0\u30c3\u30b0\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u30dc\u30bf\u30f3\u30b5\u30a4\u30ba\nlocal buttonsize = 30;\n\n\n--Debug Display------------------------------------------------------------------------\n\n--\u5b9f\u6a5f\u691c\u8a3c\u7528\n\nlocal displayObject = display.newGroup();\nlocal disp;\nlocal dispButton;\nlocal delButton;\nlocal displayEnable = false;\n\n\nlocal function visibleDisplay( event )\n    disp.isVisible = not( disp.isVisible );\nend;\n\nlocal function deleteDisplay( event )\n    disp.text = \"\";\nend;\n\n\n-- \u5b9f\u6a5f\u691c\u8a3c\u7528\u306e\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3092\u8868\u793a\n-- colorObj     { r ,g ,b ,a }  \u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u6587\u5b57\u8272\u8a2d\u5b9a\uff08\u54040\u301c255\uff09\u3001\u8a2d\u5b9a\u304c\u3042\u308c\u3070\u80cc\u666f\u306f\u900f\u660e/nil\u6642\u306f\u80cc\u666f\u767d\u3001\u6587\u5b57\u9ed2\n\nfunction showDisplay( colorObj )\n    print( \"showDisplay!!!!!\" );\n    displayEnable = true;\n\n    dispButton = display.newRect(display.screenOriginX,display.screenOriginY,buttonsize,buttonsize);\n    dispButton.strokeWidth = 3;\n    dispButton:setFillColor(255, 0, 0);\n    dispButton:addEventListener( \"tap\" , visibleDisplay );\n\n    delButton = display.newRect(display.screenOriginX,display.screenOriginY+buttonsize+10,buttonsize,buttonsize);\n    delButton.strokeWidth = 3;\n    delButton:setFillColor(0, 0, 255);\n    delButton:addEventListener( \"tap\" , deleteDisplay );\n\n    disp = native.newTextBox( buttonsize, 0, display.contentWidth-buttonsize, display.contentHeight );\n    disp.font = native.newFont( native.systemFont , 12 );\n    disp.isVisible = false;\n    if colorObj and #colorObj==4 then\n        disp:setTextColor( colorObj[1], colorObj[2], colorObj[3], colorObj[4] );\n        disp.hasBackground = false;\n    end;\n\n    displayObject:insert( dispButton );\n    displayObject:insert( delButton );\n    displayObject:insert( disp );\nend;\n\n\n\n-- \u30c7\u30fc\u30bf\u306e\u30c0\u30f3\u30d7\u3001\u30c0\u30f3\u30d7\u3057\u305f\u6587\u5b57\u5217\u3092\u8fd4\u3059------------------------------------------------------------------------\n-- (UserData\u3068\u5faa\u74b0\u53c2\u7167\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5165\u308c\u3066\u306f\u3044\u3051\u307e\u305b\u3093)\n-- data             \u30c0\u30f3\u30d7\u3059\u308b\u30c7\u30fc\u30bf\n-- return           \u30c0\u30f3\u30d7\u3057\u305f\u6587\u5b57\u5217\nlocal function dump_data( data )\n\n    if type( data ) ~= \"table\" then\n        return tostring(data);\n    end;\n\n    dump_table = function( t, indent )\n        local str = \"{\\n\";\n        for k, v in pairs( t ) do\n            if type( v ) == \"table\" then\n                str = string.format(\"%s%s%s%s = %s,\\n\", str, indent, \"\\t\", tostring( k ),dump_table( v, indent .. \"\\t\" ) );\n            elseif type( v ) == \"string\" then\n                str = string.format(\"%s%s%s%s = %q,\\n\", str, indent, \"\\t\", tostring( k ), v );\n            else\n                str = string.format(\"%s%s%s%s = %s,\\n\", str, indent, \"\\t\", tostring( k ), tostring( v ) );\n            end;\n        end;\n        str = str .. indent .. \"}\";\n        return str;\n    end;\n\n    return dump_table( data, \"\" );\nend\n\n\n\n-- NEW------------------------------------------------------------------------\n-- _path            \u63a5\u982d\u3067print\u3055\u308c\u308b\u6587\u5b57\u5217\u3001\u30af\u30e9\u30b9\u30d1\u30b9\u3092\u5165\u308c\u3066\u304a\u304f\u3068\u4fbf\u5229\n\nfunction new( _path )\n    local this = {};\n\n    if logLevel == RELEASE then\n        this = {\n                debug = function( value ) end;\n                info  = function( value ) end;\n                warn  = function( value ) end;\n                error = function( value ) end;\n                showDisplay = function( value ) end;\n                log_display = display.newGroup();\n        };      \n    else\n        this = {\n            path = _path;\n            debug = function( value )\n                if  logLevel <= DEBUG then\n                    local debug_text = ( \"[debug][\".. _path ..\"] \" .. dump_data( value ) );\n                    if displayEnable then disp.text = disp.text .. \"\\n\" .. debug_text; end;\n                    print( debug_text );\n                end\n            end;\n            info = function( value )\n                if  logLevel <= INFO then\n                    local debug_text = ( \"\\t[info][\".. _path ..\"] \" .. dump_data( value ) );\n                    if displayEnable then disp.text = disp.text .. \"\\n\" .. debug_text; end;\n                    print( debug_text );\n                end\n            end;\n            warn = function( value )\n                if  logLevel <= WARN then\n                    local debug_text = ( \"\\t\\t[warn][\".. _path ..\"] \" .. dump_data( value ) );\n                    if displayEnable then disp.text = disp.text .. \"\\n\" .. debug_text; end;\n                    print( debug_text );\n                end\n            end;\n            error = function( value )\n                if  logLevel <= ERROR then\n                    local debug_text = ( \"\\t\\t\\t[error][\".. _path ..\"] \" .. dump_data( value ) );\n                    if displayEnable then disp.text = disp.text .. \"\\n\" .. debug_text; end;\n                    print( debug_text );\n                end\n            end;\n            showDisplay = function( colorObj ) showDisplay( colorObj ); end;\n            log_display = displayObject;\n        };\n    end;\n\n    return this;\nend;\n\n\n\n-- \u521d\u56de\u30c8\u30ec\u30fc\u30b9 ------------------------------------------------------------------------\n\nlocal startLog = new( \"log\" );\nstartLog.error  (\"\\n\\n\\n\\n\\n\\n\\n\\n------------------------------ DEBUG START at \" .. os.date( \"%c\" ) ..\" ------------------------------\\n\\n\");\nstartLog.debug  ( \"this is debug.\" );\nstartLog.info   ( \"this is info.\" );\nstartLog.warn   ( \"this is warn.\" );\nstartLog.error  ( \"this is error.\\n\\n\" );\n\n\n\n\n\u4f7f\u7528\u30b5\u30f3\u30d7\u30eb\n\u3067\u3001\u4ee5\u4e0b\u304c\u4f7f\u7528\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\nmain.lua\nlocal log = ( require \"log\" ).new( \"main\" );\n\n--\u5b9f\u6a5f\u691c\u8a3c\u7528\u306b\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3092\u8868\u793a\u3059\u308b\u5834\u5408\u306b\u4e00\u56de\u3060\u3051\u5b9f\u884c\nlog.showDisplay();\n--displayList\u6700\u524d\u9762\u3068\u304b\u306b\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306a\u611f\u3058\u3067\n--container:insert( log.log_display );\n\n--\u30c8\u30ec\u30fc\u30b9\u30b5\u30f3\u30d7\u30eb\nlocal dump_reference = { hoge=\"hoge\" };\nlocal obj = {\n    dump_string = \"STRING\";\n    dump_number = 65536;\n    dump_boolean = true;\n    dump_array = { 50 , 80+2.56 , \"THREE\" , false , dump_reference };\n    dump_function = function() end;\n    dump_nan = 0/0;\n    --dump_ng = display.newGroup(); --\u3053\u308c\u306f\u99c4\u76ee\u3088\n};\n\nlog.debug( obj.dump_string );\nlog.info ( obj.dump_number );\nlog.warn ( obj.dump_boolean );\nlog.error( obj.dump_array );\nlog.debug( obj );\n\n\n\u51fa\u529b\u7d50\u679c\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n[debug][main] STRING\n\u3000\u3000\u3000\u3000[info][main] 65536\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000[warn][main] true\n\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000[error][main] {\n\u3000\u30001 = 50,\n\u3000\u30002 = 82.56,\n\u3000\u30003 = \"THREE\",\n\u3000\u30004 = false,\n\u3000\u30005 = {\n\u3000\u3000\u3000\u3000hoge = \"hoge\",\n\u3000\u3000},\n}\n[debug][main] {\n\u3000\u3000dump_string = \"STRING\",\n\u3000\u3000dump_array = {\n\u3000\u3000\u3000\u30001 = 50,\n\u3000\u3000\u3000\u30002 = 82.56,\n\u3000\u3000\u3000\u30003 = \"THREE\",\n\u3000\u3000\u3000\u30004 = false,\n\u3000\u3000\u3000\u30005 = {\n\u3000\u3000\u3000\u3000\u3000\u3000hoge = \"hoge\",\n\u3000\u3000\u3000\u3000},\n\u3000\u3000},\n\u3000\u3000dump_nan = nan,\n\u3000\u3000dump_number = 65536,\n\u3000\u3000dump_function = function: 0x115f4d7a0,\n\u3000\u3000dump_boolean = true,\n}\n\n\n\u3064\u304b\u3044\u304b\u305f\n\n\u8aad\u307f\u8fbc\u307f\n\n\u3053\u3093\u306a\u611f\u3058\u3067require\u3057\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u307e\u3059\u3002new\u306e\u5f15\u6570\u306f\u30ed\u30b0\u306b\u63a5\u982d\u3067\u4ed8\u304f\u306e\u3067\u3001\u30af\u30e9\u30b9\u540d\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u30d5\u30eb\u30d1\u30b9\u3067\u5165\u308c\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\u3002\nlocal log = ( require \"log\" ).new( \"main\" );\n\n\n\u30ed\u30b0\u306e\u51fa\u529b\n\n\u30ed\u30b0\u306e\u51fa\u529b\u306f\u30ec\u30d9\u30eb\u306b\u5fdc\u3058\u30664\u7a2e\u8a2d\u5b9a\u3055\u308c\u3001\u305d\u308c\u305e\u308c1\u3064\u305a\u3064\u30bf\u30d6\u30a4\u30f3\u30c7\u30f3\u30c8\u304c\u4ed8\u3044\u3066\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\u5faa\u74b0\u53c2\u7167\u3084userdata\u306f\u30aa\u30fc\u30d0\u30fc\u30d5\u30ed\u30fc\u3059\u308b\u306e\u3067\u5165\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nlog.debug( value ); --\u306a\u3093\u3068\u306a\u304f\u898b\u305f\u3044\u5024\u3068\u304b\nlog.info( value );  --\u30d5\u30ed\u30fc\u8ffd\u3044\u304b\u3051\u7528\u3068\u304b\nlog.warn( value );  --\u3061\u3087\u3063\u3068\u304a\u3063\u304b\u306a\u3044\u7b87\u6240\u306e\u51fa\u529b\nlog.error( value ); --\u30a8\u30e9\u30fc\u6642\u7528\u306e\u51fa\u529b\n\n\n\u30ed\u30b0\u30ec\u30d9\u30eb\u306e\u632f\u308a\u5206\u3051\n\n\u30ed\u30b0\u306e\u51fa\u529b\u30ec\u30d9\u30eb\u306f\u3001log.lua\u306elogLevel\u3067\u5909\u66f4\u51fa\u6765\u307e\u3059\u3002DEBUG/INFO/WARN/ERROR/RELEASE\u306e5\u6bb5\u968e\u3042\u308a\u3001\u3057\u304d\u3044\u5024\u4ee5\u4e0b\u306e\u30ec\u30d9\u30eb\u306f\u51fa\u529b\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\nRELEASE\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u4e00\u5207\u51fa\u529b\u3055\u308c\u307e\u305b\u3093\u3002\uff08\u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u5411\u3051\uff09\n\nlog.lua11\u884c\u76ee\n--\u3057\u304d\u3044\u5024\u8a2d\u5b9a\nlocal logLevel = DEBUG;\n\n\n\n\u30ed\u30b0\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u8868\u793a\n\n\u5b9f\u6a5f\u3067\u3057\u304b\u78ba\u8a8d\u51fa\u6765\u306a\u3044\u4e8b\u9805\u7528\uff08GameCenter\u3068\u304bStore\u95a2\u9023\u7b49\uff09\u5411\u3051\u306b\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30ed\u30b0\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\nlog.showDisplay()\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u753b\u9762\u306e\u5de6\u4e0a\u306b\u8d64\u3068\u9752\u306e\u30dc\u30bf\u30f3\u304c\u4e26\u3073\u307e\u3059\u3002\n\u30fb\u8d64\u30dc\u30bf\u30f3 - \u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8868\u793aON/OFF\n\u30fb\u9752\u30dc\u30bf\u30f3 - \u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5185\u5bb9\u3092\u6d88\u53bb\uff08\u30ed\u30b0\u304c\u6e9c\u307e\u3063\u3066\u304f\u308b\u3068\u91cd\u304f\u306a\u308b\u306e\u3067\u3001\u305d\u3093\u306a\u6642\u306b\uff09\nlog.showDisplay();  --\u5f15\u6570\u8a2d\u5b9a\u3067\u30ab\u30e9\u30fc\u5909\u5316\u3002\u8a73\u3057\u304f\u306f\u30b3\u30fc\u30c9\u898b\u3066\n\n--displayList\u6700\u524d\u9762\u3068\u304b\u306b\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306a\u611f\u3058\u3067\n--group:insert( log.log_display );\n\nCorona\u59cb\u3081\u3066\u4e00\u756a\u6700\u521d\u306b\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306a\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u6c5a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3067\u3059\u3002\nfacebook\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u3042\u3063\u305f\u306e\u3067\u6652\u3057\u3066\u304a\u304d\u307e\u3059\u3002\ntable\u306e\u5024\u3092dump\u51fa\u529b\u3057\u305f\u308a\u3001\u305d\u308c\u3092\u5b9f\u6a5f\u3067\u30b3\u30d4\u30da\u53ef\u80fd\u72b6\u614b\u306a\u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30c8\u30ec\u30fc\u30b9\u3057\u305f\u308a\u3059\u308b\u30af\u30e9\u30b9\u3067\u3059\u3002\n\u30bd\u30fc\u30b9\u304c\u9577\u3044\u306e\u3067[\u30b3\u30b3]\n(https://dl.dropbox.com/u/67505768/qiita/corona/log.zip)\u306bzip\u3067\u56fa\u3081\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n```lua:log.lua\n\nmodule(..., package.seeall)\n\nlocal DEBUG = 1;\nlocal INFO  = 2;\nlocal WARN  = 4;\nlocal ERROR = 8;\nlocal RELEASE = 16;\n\n--\u3057\u304d\u3044\u5024\u8a2d\u5b9a\nlocal logLevel = DEBUG;\t\t\n\n--\u30c7\u30d0\u30c3\u30b0\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u30dc\u30bf\u30f3\u30b5\u30a4\u30ba\nlocal buttonsize = 30;\n\n\n--Debug Display------------------------------------------------------------------------\n\n--\u5b9f\u6a5f\u691c\u8a3c\u7528\n\nlocal displayObject = display.newGroup();\nlocal disp;\nlocal dispButton;\nlocal delButton;\nlocal displayEnable = false;\n\n\nlocal function visibleDisplay( event )\n\tdisp.isVisible = not( disp.isVisible );\nend;\n\nlocal function deleteDisplay( event )\n\tdisp.text = \"\";\nend;\n\n\n-- \u5b9f\u6a5f\u691c\u8a3c\u7528\u306e\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3092\u8868\u793a\n-- colorObj\t\t{ r ,g ,b ,a }\t\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u6587\u5b57\u8272\u8a2d\u5b9a\uff08\u54040\u301c255\uff09\u3001\u8a2d\u5b9a\u304c\u3042\u308c\u3070\u80cc\u666f\u306f\u900f\u660e/nil\u6642\u306f\u80cc\u666f\u767d\u3001\u6587\u5b57\u9ed2\n\nfunction showDisplay( colorObj )\n\tprint( \"showDisplay!!!!!\" );\n\tdisplayEnable = true;\n\n\tdispButton = display.newRect(display.screenOriginX,display.screenOriginY,buttonsize,buttonsize);\n\tdispButton.strokeWidth = 3;\n\tdispButton:setFillColor(255, 0, 0);\n\tdispButton:addEventListener( \"tap\" , visibleDisplay );\n\t\n\tdelButton = display.newRect(display.screenOriginX,display.screenOriginY+buttonsize+10,buttonsize,buttonsize);\n\tdelButton.strokeWidth = 3;\n\tdelButton:setFillColor(0, 0, 255);\n\tdelButton:addEventListener( \"tap\" , deleteDisplay );\n\t\n\tdisp = native.newTextBox( buttonsize, 0, display.contentWidth-buttonsize, display.contentHeight );\n\tdisp.font = native.newFont( native.systemFont , 12 );\n\tdisp.isVisible = false;\n\tif colorObj and #colorObj==4 then\n\t\tdisp:setTextColor( colorObj[1], colorObj[2], colorObj[3], colorObj[4] );\n\t\tdisp.hasBackground = false;\n\tend;\n\t\n\tdisplayObject:insert( dispButton );\n\tdisplayObject:insert( delButton );\n\tdisplayObject:insert( disp );\nend;\n\n\n\n-- \u30c7\u30fc\u30bf\u306e\u30c0\u30f3\u30d7\u3001\u30c0\u30f3\u30d7\u3057\u305f\u6587\u5b57\u5217\u3092\u8fd4\u3059------------------------------------------------------------------------\n-- (UserData\u3068\u5faa\u74b0\u53c2\u7167\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u5165\u308c\u3066\u306f\u3044\u3051\u307e\u305b\u3093)\n-- data\t\t\t\t\u30c0\u30f3\u30d7\u3059\u308b\u30c7\u30fc\u30bf\n-- return\t\t\t\u30c0\u30f3\u30d7\u3057\u305f\u6587\u5b57\u5217\nlocal function dump_data( data )\n\n\tif type( data ) ~= \"table\" then\n\t\treturn tostring(data);\n\tend;\n\n\tdump_table = function( t, indent )\n\t\tlocal str = \"{\\n\";\n\t\tfor k, v in pairs( t ) do\n\t\t\tif type( v ) == \"table\" then\n\t\t\t\tstr = string.format(\"%s%s%s%s = %s,\\n\", str, indent, \"\\t\", tostring( k ),dump_table( v, indent .. \"\\t\" ) );\n\t\t\telseif type( v ) == \"string\" then\n\t\t\t\tstr = string.format(\"%s%s%s%s = %q,\\n\", str, indent, \"\\t\", tostring( k ), v );\n\t\t\telse\n\t\t\t\tstr = string.format(\"%s%s%s%s = %s,\\n\", str, indent, \"\\t\", tostring( k ), tostring( v ) );\n\t\t\tend;\n\t\tend;\n\t\tstr = str .. indent .. \"}\";\n\t\treturn str;\n\tend;\n\t\n\treturn dump_table( data, \"\" );\nend\n\n\n\n-- NEW------------------------------------------------------------------------\n-- _path\t\t\t\u63a5\u982d\u3067print\u3055\u308c\u308b\u6587\u5b57\u5217\u3001\u30af\u30e9\u30b9\u30d1\u30b9\u3092\u5165\u308c\u3066\u304a\u304f\u3068\u4fbf\u5229\n\nfunction new( _path )\n\tlocal this = {};\n\t\n\tif logLevel == RELEASE then\n\t\tthis = {\n\t\t\t\tdebug = function( value ) end;\n\t\t\t\tinfo  = function( value ) end;\n\t\t\t\twarn  = function( value ) end;\n\t\t\t\terror = function( value ) end;\n\t\t\t\tshowDisplay = function( value ) end;\n\t\t\t\tlog_display = display.newGroup();\n\t\t};\t\t\n\telse\n\t\tthis = {\n\t\t\tpath = _path;\n\t\t\tdebug = function( value )\n\t\t\t\tif  logLevel <= DEBUG then\n\t\t\t\t\tlocal debug_text = ( \"[debug][\".. _path ..\"] \" .. dump_data( value ) );\n\t\t\t\t\tif displayEnable then disp.text = disp.text .. \"\\n\" .. debug_text; end;\n\t\t\t\t\tprint( debug_text );\n\t\t\t\tend\n\t\t\tend;\n\t\t\tinfo = function( value )\n\t\t\t\tif  logLevel <= INFO then\n\t\t\t\t\tlocal debug_text = ( \"\\t[info][\".. _path ..\"] \" .. dump_data( value ) );\n\t\t\t\t\tif displayEnable then disp.text = disp.text .. \"\\n\" .. debug_text; end;\n\t\t\t\t\tprint( debug_text );\n\t\t\t\tend\n\t\t\tend;\n\t\t\twarn = function( value )\n\t\t\t\tif  logLevel <= WARN then\n\t\t\t\t\tlocal debug_text = ( \"\\t\\t[warn][\".. _path ..\"] \" .. dump_data( value ) );\n\t\t\t\t\tif displayEnable then disp.text = disp.text .. \"\\n\" .. debug_text; end;\n\t\t\t\t\tprint( debug_text );\n\t\t\t\tend\n\t\t\tend;\n\t\t\terror = function( value )\n\t\t\t\tif  logLevel <= ERROR then\n\t\t\t\t\tlocal debug_text = ( \"\\t\\t\\t[error][\".. _path ..\"] \" .. dump_data( value ) );\n\t\t\t\t\tif displayEnable then disp.text = disp.text .. \"\\n\" .. debug_text; end;\n\t\t\t\t\tprint( debug_text );\n\t\t\t\tend\n\t\t\tend;\n\t\t\tshowDisplay = function( colorObj ) showDisplay( colorObj ); end;\n\t\t\tlog_display = displayObject;\n\t\t};\n\tend;\n\n\treturn this;\nend;\n\n\n\n-- \u521d\u56de\u30c8\u30ec\u30fc\u30b9 ------------------------------------------------------------------------\n\nlocal startLog = new( \"log\" );\nstartLog.error\t(\"\\n\\n\\n\\n\\n\\n\\n\\n------------------------------ DEBUG START at \" .. os.date( \"%c\" ) ..\" ------------------------------\\n\\n\");\nstartLog.debug\t( \"this is debug.\" );\nstartLog.info\t( \"this is info.\" );\nstartLog.warn\t( \"this is warn.\" );\nstartLog.error\t( \"this is error.\\n\\n\" );\n\n```\n\n\n## \u4f7f\u7528\u30b5\u30f3\u30d7\u30eb\n\u3067\u3001\u4ee5\u4e0b\u304c\u4f7f\u7528\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\n\n\n\n\n```lua:main.lua\nlocal log = ( require \"log\" ).new( \"main\" );\n\n--\u5b9f\u6a5f\u691c\u8a3c\u7528\u306b\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3092\u8868\u793a\u3059\u308b\u5834\u5408\u306b\u4e00\u56de\u3060\u3051\u5b9f\u884c\nlog.showDisplay();\n--displayList\u6700\u524d\u9762\u3068\u304b\u306b\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306a\u611f\u3058\u3067\n--container:insert( log.log_display );\n\n--\u30c8\u30ec\u30fc\u30b9\u30b5\u30f3\u30d7\u30eb\nlocal dump_reference = { hoge=\"hoge\" };\nlocal obj = {\n\tdump_string = \"STRING\";\n\tdump_number = 65536;\n\tdump_boolean = true;\n\tdump_array = { 50 , 80+2.56 , \"THREE\" , false , dump_reference };\n\tdump_function = function() end;\n\tdump_nan = 0/0;\n\t--dump_ng = display.newGroup(); --\u3053\u308c\u306f\u99c4\u76ee\u3088\n};\n\nlog.debug( obj.dump_string );\nlog.info ( obj.dump_number );\nlog.warn ( obj.dump_boolean );\nlog.error( obj.dump_array );\nlog.debug( obj );\n```\n\n\u51fa\u529b\u7d50\u679c\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n> [debug][main] STRING\n> \u3000\u3000\u3000\u3000[info][main] 65536\n> \u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000[warn][main] true\n> \u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000[error][main] {\n> \u3000\u30001 = 50,\n> \u3000\u30002 = 82.56,\n> \u3000\u30003 = \"THREE\",\n> \u3000\u30004 = false,\n> \u3000\u30005 = {\n> \u3000\u3000\u3000\u3000hoge = \"hoge\",\n> \u3000\u3000},\n> }\n> [debug][main] {\n> \u3000\u3000dump_string = \"STRING\",\n> \u3000\u3000dump_array = {\n> \u3000\u3000\u3000\u30001 = 50,\n> \u3000\u3000\u3000\u30002 = 82.56,\n> \u3000\u3000\u3000\u30003 = \"THREE\",\n> \u3000\u3000\u3000\u30004 = false,\n> \u3000\u3000\u3000\u30005 = {\n> \u3000\u3000\u3000\u3000\u3000\u3000hoge = \"hoge\",\n> \u3000\u3000\u3000\u3000},\n> \u3000\u3000},\n> \u3000\u3000dump_nan = nan,\n> \u3000\u3000dump_number = 65536,\n> \u3000\u3000dump_function = function: 0x115f4d7a0,\n> \u3000\u3000dump_boolean = true,\n> }\n\n## \u3064\u304b\u3044\u304b\u305f\n\n* \u8aad\u307f\u8fbc\u307f\n\n\u3053\u3093\u306a\u611f\u3058\u3067require\u3057\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u307e\u3059\u3002new\u306e\u5f15\u6570\u306f\u30ed\u30b0\u306b\u63a5\u982d\u3067\u4ed8\u304f\u306e\u3067\u3001\u30af\u30e9\u30b9\u540d\u3092\u30d1\u30c3\u30b1\u30fc\u30b8\u30d5\u30eb\u30d1\u30b9\u3067\u5165\u308c\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\u3002\n\n```lua:\nlocal log = ( require \"log\" ).new( \"main\" );\n```\n\n* \u30ed\u30b0\u306e\u51fa\u529b\n\n\u30ed\u30b0\u306e\u51fa\u529b\u306f\u30ec\u30d9\u30eb\u306b\u5fdc\u3058\u30664\u7a2e\u8a2d\u5b9a\u3055\u308c\u3001\u305d\u308c\u305e\u308c1\u3064\u305a\u3064\u30bf\u30d6\u30a4\u30f3\u30c7\u30f3\u30c8\u304c\u4ed8\u3044\u3066\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\u5faa\u74b0\u53c2\u7167\u3084userdata\u306f\u30aa\u30fc\u30d0\u30fc\u30d5\u30ed\u30fc\u3059\u308b\u306e\u3067\u5165\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```lua:\nlog.debug( value );\t--\u306a\u3093\u3068\u306a\u304f\u898b\u305f\u3044\u5024\u3068\u304b\nlog.info( value );\t--\u30d5\u30ed\u30fc\u8ffd\u3044\u304b\u3051\u7528\u3068\u304b\nlog.warn( value );\t--\u3061\u3087\u3063\u3068\u304a\u3063\u304b\u306a\u3044\u7b87\u6240\u306e\u51fa\u529b\nlog.error( value );\t--\u30a8\u30e9\u30fc\u6642\u7528\u306e\u51fa\u529b\n```\n\n* \u30ed\u30b0\u30ec\u30d9\u30eb\u306e\u632f\u308a\u5206\u3051\n\n\u30ed\u30b0\u306e\u51fa\u529b\u30ec\u30d9\u30eb\u306f\u3001log.lua\u306elogLevel\u3067\u5909\u66f4\u51fa\u6765\u307e\u3059\u3002DEBUG/INFO/WARN/ERROR/RELEASE\u306e5\u6bb5\u968e\u3042\u308a\u3001\u3057\u304d\u3044\u5024\u4ee5\u4e0b\u306e\u30ec\u30d9\u30eb\u306f\u51fa\u529b\u3055\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\nRELEASE\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u4e00\u5207\u51fa\u529b\u3055\u308c\u307e\u305b\u3093\u3002\uff08\u30ea\u30ea\u30fc\u30b9\u30d3\u30eb\u30c9\u5411\u3051\uff09\n\n```lua:log.lua11\u884c\u76ee\n--\u3057\u304d\u3044\u5024\u8a2d\u5b9a\nlocal logLevel = DEBUG;\n```\n\n* \u30ed\u30b0\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u8868\u793a\n\n\u5b9f\u6a5f\u3067\u3057\u304b\u78ba\u8a8d\u51fa\u6765\u306a\u3044\u4e8b\u9805\u7528\uff08GameCenter\u3068\u304bStore\u95a2\u9023\u7b49\uff09\u5411\u3051\u306b\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u30ed\u30b0\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\nlog.showDisplay()\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u753b\u9762\u306e\u5de6\u4e0a\u306b\u8d64\u3068\u9752\u306e\u30dc\u30bf\u30f3\u304c\u4e26\u3073\u307e\u3059\u3002\n\u30fb\u8d64\u30dc\u30bf\u30f3 - \u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8868\u793aON/OFF\n\u30fb\u9752\u30dc\u30bf\u30f3 - \u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5185\u5bb9\u3092\u6d88\u53bb\uff08\u30ed\u30b0\u304c\u6e9c\u307e\u3063\u3066\u304f\u308b\u3068\u91cd\u304f\u306a\u308b\u306e\u3067\u3001\u305d\u3093\u306a\u6642\u306b\uff09\n\n```lua:\nlog.showDisplay();\t--\u5f15\u6570\u8a2d\u5b9a\u3067\u30ab\u30e9\u30fc\u5909\u5316\u3002\u8a73\u3057\u304f\u306f\u30b3\u30fc\u30c9\u898b\u3066\n\n--displayList\u6700\u524d\u9762\u3068\u304b\u306b\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306a\u611f\u3058\u3067\n--group:insert( log.log_display );\n```\n\n\nCorona\u59cb\u3081\u3066\u4e00\u756a\u6700\u521d\u306b\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306a\u306e\u3067\u3001\u3061\u3087\u3063\u3068\u6c5a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3067\u3059\u3002\n\n\n\n", "tags": ["Lua", "Corona"]}