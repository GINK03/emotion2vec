{"context": "\n\n1.Git LFS\u3068\u306f\nGit LFS\u306f\u3001\u6628\u5e7410\u67081\u306bGitHub\u304b\u3089Git LFS\u306e\u6b63\u5f0f\u7248\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u3001git\u306e\u62e1\u5f35\u6a5f\u80fd\u3067\u3059\u3002\n\u5177\u4f53\u7684\u306a\u5229\u7528\u7528\u9014\u3068\u3057\u3066\u306f\u3001\u5927\u304d\u306a\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3092\u60f3\u5b9a\u3057\u305f\u6a5f\u80fd\u3067\u3059\u3002\ngit\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u904b\u7528\u3059\u308b\u969b\u3001\u5927\u304d\u306a\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u306e\u7ba1\u7406\u306f\u3001\n\u4e00\u756a\u982d\u3092\u60a9\u307e\u305b\u308b\u90e8\u5206\u3060\u3063\u305f\u3060\u3051\u306b\u3001\u591a\u304f\u306egit\u7ba1\u7406\u8005\u304a\u3088\u3073\u5229\u7528\u8005\u306b\u5b09\u3057\u3044\u6a5f\u80fd\u8ffd\u52a0\u3067\u3057\u305f\u3002\n\u306a\u304a\u3001\u73fe\u5728\u3067\u306f\u3001SourceTree\u3068\u3044\u3063\u305fgit\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3067\u3082git lfs\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\n\u3010\u516c\u5f0f\u3011\nGit LFS\u516c\u5f0f\u30b5\u30a4\u30c8\n\u3010\u53c2\u8003\u3011\n\u30b5\u30a4\u30ba\u306e\u5927\u304d\u3044\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046\u305f\u3081\u306e Git LFS \u5c0e\u5165\n\u201cGit LFS\u201d\u3092\u30b5\u30dd\u30fc\u30c8\u3002UI\u30c7\u30b6\u30a4\u30f3\u3092\u4e00\u65b0\u3057\u305f\u300cSourceTree\u300dv1.8\u304c\u516c\u958b\n\n2.Bitbucket Server\u3067git lfs\u3092\u8a2d\u5b9a\u3059\u308b\nBitbucket Server\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f34.3\u304b\u3089git lfs\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\nBitbucket Server 4.3 release notes\ngit lfs\u306e\u6709\u52b9\u5316\u306f\u3001\u5404\u30ea\u30dd\u30b8\u30c8\u30ea\u3054\u3068\u306b\u8a2d\u5b9a\u304c\u53ef\u80fd\u3067\u3001\n\u4e0b\u56f3\u306e\u3088\u3046\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u7ba1\u7406\u753b\u9762\u304b\u3089git lfs\u6a5f\u80fd\u3092\u6709\u52b9\u5316\u3067\u304d\u307e\u3059\u3002\n\n\n3.\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067git lfs\u3092\u8a2d\u5b9a\u3059\u308b\n\n3-1.git lfs\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngit lfs\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001\u4ed6\u30b5\u30a4\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001\ntar.gz\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\u3057\u3066\u3001install.sh\u3092\u53e9\u304f\u306e\u307f\u3067\u3059\u3002\ntar xfz git-lfs-darwin-amd64-1.2.0.tar.gz\ncd git-lfs-1.2.0\nsudo bash install.sh\n\n\n3-2.\u521d\u671f\u8a2d\u5b9a\ngit lfs install\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001~/.gitconfg\u306b\u3001\u4e0b\u8a18\u306e\u30a8\u30f3\u30c8\u30ea\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n[filter \"lfs\"]\n    clean = git-lfs clean -- %f\n    smudge = git-lfs smudge -- %f\n    required = true\n\n\n3-3.track\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\ngit lfs track\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u73fe\u5728\u306egit lfs\u306etrack\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n$ git lfs track\nListing tracked paths\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u5f8c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b.git\u914d\u4e0b\u306blfs\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n.git\n\u251c\u2500\u2500 HEAD\n\u251c\u2500\u2500 config\n\u251c\u2500\u2500 description\n\u251c\u2500\u2500 hooks\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 applypatch-msg.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 commit-msg.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 post-update.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-applypatch.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-commit.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-push\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-push.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-rebase.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 prepare-commit-msg.sample\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 update.sample\n\u251c\u2500\u2500 info\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 exclude\n\u251c\u2500\u2500 lfs #\u3053\u306e\u914d\u4e0b\u304c\u8ffd\u52a0\u3055\u308c\u308b\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 objects\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 logs\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 tmp\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 objects\n\u251c\u2500\u2500 objects\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 info\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 pack\n\u2514\u2500\u2500 refs\n    \u251c\u2500\u2500 heads\n    \u2514\u2500\u2500 tags\n\n\u4eca\u56de\u306f\u3001*.jpg\u30d5\u30a1\u30a4\u30eb\u3092git lfs\u306e\u5bfe\u8c61\u306b\u5165\u308c\u307e\u3057\u305f\u3002\n$ git lfs track \"*.jpg\"\nTracking *.jpg\n$ git lfs track\nListing tracked paths\n    *.jpg (.gitattributes)\n\n\n4.\u5b9f\u884c\u7d50\u679c\n\n4-1.\u521d\u56depush\ngit lfs\u306e\u6e96\u5099\u304c\u3067\u304d\u305f\u3089\u3001\u5b9f\u969b\u306b1.8M\u7a0b\u5ea6\u306ejpg\u30d5\u30a1\u30a4\u30eb\u3092push\u3057\u3066\u307f\u307e\u3059\u3002\n$ git add dinner.jpg\n$ git commit -m '\u5915\u98df\u306e\u753b\u50cf'\n[master (root-commit) 0427398] \u5915\u98df\u306e\u753b\u50cf\n 1 file changed, 3 insertions(+)\n create mode 100644 dinner.jpg\n$ git push\nGit LFS: (1 of 1 files) 1.85 MB / 1.85 MB\nCounting objects: 3, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (2/2), done.\nWriting objects: 100% (3/3), 340 bytes | 0 bytes/s, done.\nTotal 3 (delta 0), reused 0 (delta 0)\nTo ssh://git@****/****/gitlfs-sample.git\n * [new branch]      master -> master\n\npush\u3057\u7d42\u308f\u3063\u305f\u3089\u3001\u5225\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067clone\u3057\u3066\u307f\u307e\u3059\u3002\n$ git clone ssh://git@****/****/gitlfs-sample.git\n$ du -sh ./gitlfs-sample\n104K    ./gitlfs-sample\n$ cat gitlfs-sample/dinner.jpg\nversion https://git-lfs.github.com/spec/v1\noid sha256:7621a0126e06e74c5876d4b32ed83068bcad9c918952439dd14969dd0e71f15d\nsize 1938859\n\n.jpg\u304c\u30dd\u30a4\u30f3\u30bf\u306b\u306a\u3063\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066clone\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u5f8c\u30012\u306e\u3088\u3046\u306b\u3001git lfs pull\u3092\u5b9f\u884c\u3057\u3066\u3042\u3052\u308c\u3070\u3001\u6700\u65b0\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u304cpull\u3055\u308c\u3066\u304d\u307e\u3059\u3002\n\n4-2.\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\npush\u3057\u305f\u5199\u771f\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n$ git commit dinner.jpg -m '\u5915\u98df\u306e\u5199\u771f\u3092\u9593\u9055\u3048\u305f'\n[master fceea3b] \u5915\u98df\u306e\u5199\u771f\u3092\u9593\u9055\u3048\u305f\n 1 file changed, 2 insertions(+), 2 deletions(-)\n$ git push\nGit LFS: (1 of 1 files) 1.31 MB / 1.31 MB\nCounting objects: 3, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (2/2), done.\nWriting objects: 100% (3/3), 396 bytes | 0 bytes/s, done.\nTotal 3 (delta 0), reused 0 (delta 0)\nTo ssh://git@****/****/gitlfs-sample.git\n   0427398..fceea3b  master -> master\n\n\u3053\u3061\u3089\u3082\u5225\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089pull\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ cat dinner.jpg\nversion https://git-lfs.github.com/spec/v1\noid sha256:1a02144f8c960f0aa6a6cb24fc9e5709584fe0eb212d9bf79578693af31bfdae\nsize 1371436\n\n\u30cf\u30c3\u30b7\u30e5\u30ad\u30fc\u304c\u5909\u66f4\u3055\u308c\u3066\u307e\u3059\u306d\u3002\n\u5f53\u7136\u3067\u3059\u304c\u3001\u3053\u308c\u3082git lfs pull\u3067pull\u3057\u3066\u5b9f\u30d5\u30a1\u30a4\u30eb\u3092\u843d\u3068\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001Bitbucket Server\u3067\u306e\u753b\u50cf\u6bd4\u8f03\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\n\n5.git lfs\u95a2\u9023\u306e\u5b9f\u884c\u30e1\u30e2\n\n5-1.\u30b5\u30fc\u30d0\u5074\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\n*.*.*.* - - [17/Apr/2016:22:17:14 +0900] \"POST /scm/****/****.git/info/lfs/objects/batch HTTP/1.1\" 200 771 \"-\" \"git-lfs/1.1.2 (GitHub; darwin amd64; go 1.6; git bf6a6c9)\" \"-\" 0.078\n*.*.*.* - - [17/Apr/2016:22:17:15 +0900] \"PUT /rest/git-lfs/storage/****/****/7621a0126e06e74c5876d4b32ed83068bcad9c918952439dd14969dd0e71f15d HTTP/1.1\" 200 5 \"-\" \"git-lfs/1.1.2 (GitHub; darwin amd64; go 1.6; git bf6a6c9)\" \"-\" 0.905\n\ngit push\u3057\u305f\u969b\u3001\u3053\u306e\u3088\u3046\u306bPOST\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u304c\u8a18\u9332\u3055\u308c\u307e\u3059\u3002\n\u307e\u305f\u3001git lfs pull\u3057\u305f\u3068\u304d\u306f\u3001\u4ee5\u4e0b\u306e\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n*.*.*.* - - [24/Apr/2016:23:54:32 +0900] \"POST /scm/****/****.git/info/lfs/objects/batch HTTP/1.1\" 200 782 \"-\" \"git-lfs/1.2.0 (GitHub; darwin amd64; go 1.6.1; git 9bd3b8e)\" \"-\" 0.076\n*.*.*.* - - [24/Apr/2016:23:54:36 +0900] \"GET /rest/git-lfs/storage/****/****/f7f3a2d4b9d38cbf0466ad555e049b5603ce21896dc2f5f6db5b794680756054 HTTP/1.1\" 200 1190697 \"-\" \"git-lfs/1.2.0 (GitHub; darwin amd64; go 1.6.1; git 9bd3b8e)\" \"-\" 4.198\n\n\u4e21\u30ed\u30b0\u3068\u3082\u3001UserAgent\u306bgit lfs\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u306e\u3082\u308f\u304b\u308b\u304b\u306a\u3068\u3002\n\n5-2.\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306egit\u30a8\u30e9\u30fc\nGit LFS: (2 of 1 files) 266.44 KB / 1.85 MB\nClient error: https://****/rest/git-lfs/storage/****/****/7621a0126e06e74c5876d4b32ed83068bcad9c918952439dd14969dd0e71f15d from HTTP 413\n\nBitbucket Server\u306e\u524d\u6bb5\u306bnginx\u306a\u3069\u306eweb\u30b5\u30fc\u30d0\u3092\u914d\u7f6e\u3057\u3066\u3044\u308b\u3068\u3001\n\u3053\u306e\u3088\u3046\u306bHTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u304c413\u3067\u8fd4\u3063\u3066\u304f\u308b\u3068\u304d\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u3068\u304d\u306f\u3001POST\u30b5\u30a4\u30ba\u306e\u5bb9\u91cf\u5236\u9650\u306b\u5f15\u3063\u304b\u304b\u3063\u3066\u3044\u308b\u305f\u3081\u3001\nnginx\u306eclient_max_body_size\u3092\u5909\u66f4\u3059\u308b\u306a\u3069\u3057\u3066\u3001POST\u306e\u30b5\u30a4\u30ba\u5236\u9650\u3092\u7de9\u548c\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nclient_max_body_size 1024M; #\u5229\u7528\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u306b\u5fdc\u3058\u3066\u5909\u66f4\n\n\n6.TL;DR\n\u307e\u3068\u3081\u3068\u3057\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u901a\u308a\n\nBitbuclet Server\u304c\u30d0\u30fc\u30b8\u30e7\u30f34.3\u304b\u3089git lfs\u306b\u5bfe\u5fdc\u3057\u3001\u8ffd\u52a0\u8cbb\u7528\u306a\u3057\u3067\u5229\u7528\u53ef\u80fd\nnginx\u306a\u3069\u3067\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u3092\u884c\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001POST\u30b5\u30a4\u30ba\u5236\u9650\u306b\u6ce8\u610f\u304c\u5fc5\u8981\nSourceTree\u306a\u3069\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3067\u3082\u3001git lfs\u304c\u4f7f\u3048\u308b\n\ngit lfs pull\u3067\u3001\u5fc5\u8981\u306a\u3068\u304d\u306b\u5b9f\u4f53\u30d5\u30a1\u30a4\u30eb\u3092\u843d\u3068\u3057\u3066\u304f\u308b\u3053\u3068\u304c\u53ef\u80fd\n\n\u4f55\u304b\u306e\u3054\u53c2\u8003\u306b\u306a\u308c\u3070\u3002\n\n\n\n\nGitHub\u3001Git\u3067\u753b\u50cf\u3084\u52d5\u753b\u306a\u3069\u5927\u5bb9\u91cf\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3048\u308b\u300cGit LFS\u300d\uff08Git Large File Storage\uff09\u6b63\u5f0f\u30ea\u30ea\u30fc\u30b9\u00a0\u21a9\n\n\nGit LFS\u304c1.0\u306b\u306a\u3063\u3066GitHub\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u8a66\u3057\u3066\u307f\u305f\u00a0\u21a9\n\n\n\n\n#1.Git LFS\u3068\u306f\nGit LFS\u306f\u3001\u6628\u5e7410\u6708[^1]\u306bGitHub\u304b\u3089Git LFS\u306e\u6b63\u5f0f\u7248\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u3001git\u306e\u62e1\u5f35\u6a5f\u80fd\u3067\u3059\u3002\n\u5177\u4f53\u7684\u306a\u5229\u7528\u7528\u9014\u3068\u3057\u3066\u306f\u3001\u5927\u304d\u306a\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3092\u60f3\u5b9a\u3057\u305f\u6a5f\u80fd\u3067\u3059\u3002\n\ngit\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u904b\u7528\u3059\u308b\u969b\u3001\u5927\u304d\u306a\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u306e\u7ba1\u7406\u306f\u3001\n\u4e00\u756a\u982d\u3092\u60a9\u307e\u305b\u308b\u90e8\u5206\u3060\u3063\u305f\u3060\u3051\u306b\u3001\u591a\u304f\u306egit\u7ba1\u7406\u8005\u304a\u3088\u3073\u5229\u7528\u8005\u306b\u5b09\u3057\u3044\u6a5f\u80fd\u8ffd\u52a0\u3067\u3057\u305f\u3002\n\u306a\u304a\u3001\u73fe\u5728\u3067\u306f\u3001SourceTree\u3068\u3044\u3063\u305fgit\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3067\u3082git lfs\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\n\n\u3010\u516c\u5f0f\u3011\n[Git LFS\u516c\u5f0f\u30b5\u30a4\u30c8](https://git-lfs.github.com/)\n\n\u3010\u53c2\u8003\u3011\n[\u30b5\u30a4\u30ba\u306e\u5927\u304d\u3044\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3046\u305f\u3081\u306e Git LFS \u5c0e\u5165](http://wp.graphact.com/2015/10/04/setup-git-lfs)\n[\u201cGit LFS\u201d\u3092\u30b5\u30dd\u30fc\u30c8\u3002UI\u30c7\u30b6\u30a4\u30f3\u3092\u4e00\u65b0\u3057\u305f\u300cSourceTree\u300dv1.8\u304c\u516c\u958b](http://www.forest.impress.co.jp/docs/news/20160223_744948.html)\n\n#2.Bitbucket Server\u3067git lfs\u3092\u8a2d\u5b9a\u3059\u308b\nBitbucket Server\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f34.3\u304b\u3089git lfs\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\n\n[Bitbucket Server 4.3 release notes](https://confluence.atlassian.com/bitbucketserver/bitbucket-server-4-3-release-notes-794211212.html)\n\ngit lfs\u306e\u6709\u52b9\u5316\u306f\u3001\u5404\u30ea\u30dd\u30b8\u30c8\u30ea\u3054\u3068\u306b\u8a2d\u5b9a\u304c\u53ef\u80fd\u3067\u3001\n\u4e0b\u56f3\u306e\u3088\u3046\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u7ba1\u7406\u753b\u9762\u304b\u3089git lfs\u6a5f\u80fd\u3092\u6709\u52b9\u5316\u3067\u304d\u307e\u3059\u3002\n![gitlfs_enable.png](https://qiita-image-store.s3.amazonaws.com/0/14190/98f982a5-2e18-919c-73ee-bbf03a6f9f67.png \"gitlfs_enable.png\")\n\n\n#3.\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067git lfs\u3092\u8a2d\u5b9a\u3059\u308b\n\n##3-1.git lfs\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ngit lfs\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u3001\u4ed6\u30b5\u30a4\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001\ntar.gz\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\u3057\u3066\u3001install.sh\u3092\u53e9\u304f\u306e\u307f\u3067\u3059\u3002\n\n```\ntar xfz git-lfs-darwin-amd64-1.2.0.tar.gz\ncd git-lfs-1.2.0\nsudo bash install.sh\n```\n\n##3-2.\u521d\u671f\u8a2d\u5b9a\n`git lfs install`\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001~/.gitconfg\u306b\u3001\u4e0b\u8a18\u306e\u30a8\u30f3\u30c8\u30ea\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n```\n[filter \"lfs\"]\n\tclean = git-lfs clean -- %f\n\tsmudge = git-lfs smudge -- %f\n\trequired = true\n```\n\n##3-3.track\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\n`git lfs track`\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u73fe\u5728\u306egit lfs\u306etrack\u5bfe\u8c61\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n```\n$ git lfs track\nListing tracked paths\n```\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u5f8c\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b.git\u914d\u4e0b\u306blfs\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n\n```\n.git\n\u251c\u2500\u2500 HEAD\n\u251c\u2500\u2500 config\n\u251c\u2500\u2500 description\n\u251c\u2500\u2500 hooks\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 applypatch-msg.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 commit-msg.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 post-update.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-applypatch.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-commit.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-push\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-push.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-rebase.sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 prepare-commit-msg.sample\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 update.sample\n\u251c\u2500\u2500 info\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 exclude\n\u251c\u2500\u2500 lfs #\u3053\u306e\u914d\u4e0b\u304c\u8ffd\u52a0\u3055\u308c\u308b\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 objects\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 logs\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 tmp\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 objects\n\u251c\u2500\u2500 objects\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 info\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 pack\n\u2514\u2500\u2500 refs\n    \u251c\u2500\u2500 heads\n    \u2514\u2500\u2500 tags\n```\n\n\u4eca\u56de\u306f\u3001*.jpg\u30d5\u30a1\u30a4\u30eb\u3092git lfs\u306e\u5bfe\u8c61\u306b\u5165\u308c\u307e\u3057\u305f\u3002\n\n```\n$ git lfs track \"*.jpg\"\nTracking *.jpg\n$ git lfs track\nListing tracked paths\n    *.jpg (.gitattributes)\n```\n\n#4.\u5b9f\u884c\u7d50\u679c\n##4-1.\u521d\u56depush\ngit lfs\u306e\u6e96\u5099\u304c\u3067\u304d\u305f\u3089\u3001\u5b9f\u969b\u306b1.8M\u7a0b\u5ea6\u306ejpg\u30d5\u30a1\u30a4\u30eb\u3092push\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\n$ git add dinner.jpg\n$ git commit -m '\u5915\u98df\u306e\u753b\u50cf'\n[master (root-commit) 0427398] \u5915\u98df\u306e\u753b\u50cf\n 1 file changed, 3 insertions(+)\n create mode 100644 dinner.jpg\n$ git push\nGit LFS: (1 of 1 files) 1.85 MB / 1.85 MB\nCounting objects: 3, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (2/2), done.\nWriting objects: 100% (3/3), 340 bytes | 0 bytes/s, done.\nTotal 3 (delta 0), reused 0 (delta 0)\nTo ssh://git@****/****/gitlfs-sample.git\n * [new branch]      master -> master\n```\n\npush\u3057\u7d42\u308f\u3063\u305f\u3089\u3001\u5225\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067clone\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\n$ git clone ssh://git@****/****/gitlfs-sample.git\n$ du -sh ./gitlfs-sample\n104K\t./gitlfs-sample\n$ cat gitlfs-sample/dinner.jpg\nversion https://git-lfs.github.com/spec/v1\noid sha256:7621a0126e06e74c5876d4b32ed83068bcad9c918952439dd14969dd0e71f15d\nsize 1938859\n```\n\n.jpg\u304c\u30dd\u30a4\u30f3\u30bf\u306b\u306a\u3063\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u30c6\u30ad\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066clone\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u5f8c\u3001[^2]\u306e\u3088\u3046\u306b\u3001`git lfs pull`\u3092\u5b9f\u884c\u3057\u3066\u3042\u3052\u308c\u3070\u3001\u6700\u65b0\u306e\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u304cpull\u3055\u308c\u3066\u304d\u307e\u3059\u3002\n\n##4-2.\u30d0\u30a4\u30ca\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\npush\u3057\u305f\u5199\u771f\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n\n```\n$ git commit dinner.jpg -m '\u5915\u98df\u306e\u5199\u771f\u3092\u9593\u9055\u3048\u305f'\n[master fceea3b] \u5915\u98df\u306e\u5199\u771f\u3092\u9593\u9055\u3048\u305f\n 1 file changed, 2 insertions(+), 2 deletions(-)\n$ git push\nGit LFS: (1 of 1 files) 1.31 MB / 1.31 MB\nCounting objects: 3, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (2/2), done.\nWriting objects: 100% (3/3), 396 bytes | 0 bytes/s, done.\nTotal 3 (delta 0), reused 0 (delta 0)\nTo ssh://git@****/****/gitlfs-sample.git\n   0427398..fceea3b  master -> master\n```\n\n\u3053\u3061\u3089\u3082\u5225\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089pull\u3057\u3066\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u66f4\u65b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ cat dinner.jpg\nversion https://git-lfs.github.com/spec/v1\noid sha256:1a02144f8c960f0aa6a6cb24fc9e5709584fe0eb212d9bf79578693af31bfdae\nsize 1371436\n```\n\n\u30cf\u30c3\u30b7\u30e5\u30ad\u30fc\u304c\u5909\u66f4\u3055\u308c\u3066\u307e\u3059\u306d\u3002\n\u5f53\u7136\u3067\u3059\u304c\u3001\u3053\u308c\u3082`git lfs pull`\u3067pull\u3057\u3066\u5b9f\u30d5\u30a1\u30a4\u30eb\u3092\u843d\u3068\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3001Bitbucket Server\u3067\u306e\u753b\u50cf\u6bd4\u8f03\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n![hikaku1.png](https://qiita-image-store.s3.amazonaws.com/0/14190/e6525a92-bc42-75df-622e-8627b1ec41c5.png \"hikaku1.png\")\n![hikaku_2.png](https://qiita-image-store.s3.amazonaws.com/0/14190/45df1d35-13d9-c863-bb01-e17fa31c1643.png \"hikaku_2.png\")\n![hikaku_3.png](https://qiita-image-store.s3.amazonaws.com/0/14190/e99ed423-23b7-b983-cacc-cb3ed35ef603.png \"hikaku_3.png\")\n![hikaku_4.png](https://qiita-image-store.s3.amazonaws.com/0/14190/0d06e0a5-8f15-6f05-2697-e67d0c7dc3c8.png \"hikaku_4.png\")\n\n\n\n#5.git lfs\u95a2\u9023\u306e\u5b9f\u884c\u30e1\u30e2\n## 5-1.\u30b5\u30fc\u30d0\u5074\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\n\n```\n*.*.*.* - - [17/Apr/2016:22:17:14 +0900] \"POST /scm/****/****.git/info/lfs/objects/batch HTTP/1.1\" 200 771 \"-\" \"git-lfs/1.1.2 (GitHub; darwin amd64; go 1.6; git bf6a6c9)\" \"-\" 0.078\n*.*.*.* - - [17/Apr/2016:22:17:15 +0900] \"PUT /rest/git-lfs/storage/****/****/7621a0126e06e74c5876d4b32ed83068bcad9c918952439dd14969dd0e71f15d HTTP/1.1\" 200 5 \"-\" \"git-lfs/1.1.2 (GitHub; darwin amd64; go 1.6; git bf6a6c9)\" \"-\" 0.905\n```\n\n`git push`\u3057\u305f\u969b\u3001\u3053\u306e\u3088\u3046\u306bPOST\u306e\u30a2\u30af\u30bb\u30b9\u30ed\u30b0\u304c\u8a18\u9332\u3055\u308c\u307e\u3059\u3002\n\u307e\u305f\u3001`git lfs pull`\u3057\u305f\u3068\u304d\u306f\u3001\u4ee5\u4e0b\u306e\u30ed\u30b0\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\n```\n*.*.*.* - - [24/Apr/2016:23:54:32 +0900] \"POST /scm/****/****.git/info/lfs/objects/batch HTTP/1.1\" 200 782 \"-\" \"git-lfs/1.2.0 (GitHub; darwin amd64; go 1.6.1; git 9bd3b8e)\" \"-\" 0.076\n*.*.*.* - - [24/Apr/2016:23:54:36 +0900] \"GET /rest/git-lfs/storage/****/****/f7f3a2d4b9d38cbf0466ad555e049b5603ce21896dc2f5f6db5b794680756054 HTTP/1.1\" 200 1190697 \"-\" \"git-lfs/1.2.0 (GitHub; darwin amd64; go 1.6.1; git 9bd3b8e)\" \"-\" 4.198\n```\n\n\u4e21\u30ed\u30b0\u3068\u3082\u3001UserAgent\u306bgit lfs\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308b\u306e\u3082\u308f\u304b\u308b\u304b\u306a\u3068\u3002\n\n## 5-2.\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306egit\u30a8\u30e9\u30fc\n\n```\nGit LFS: (2 of 1 files) 266.44 KB / 1.85 MB\nClient error: https://****/rest/git-lfs/storage/****/****/7621a0126e06e74c5876d4b32ed83068bcad9c918952439dd14969dd0e71f15d from HTTP 413\n```\nBitbucket Server\u306e\u524d\u6bb5\u306bnginx\u306a\u3069\u306eweb\u30b5\u30fc\u30d0\u3092\u914d\u7f6e\u3057\u3066\u3044\u308b\u3068\u3001\n\u3053\u306e\u3088\u3046\u306bHTTP\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u304c413\u3067\u8fd4\u3063\u3066\u304f\u308b\u3068\u304d\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u3068\u304d\u306f\u3001POST\u30b5\u30a4\u30ba\u306e\u5bb9\u91cf\u5236\u9650\u306b\u5f15\u3063\u304b\u304b\u3063\u3066\u3044\u308b\u305f\u3081\u3001\nnginx\u306e`client_max_body_size`\u3092\u5909\u66f4\u3059\u308b\u306a\u3069\u3057\u3066\u3001POST\u306e\u30b5\u30a4\u30ba\u5236\u9650\u3092\u7de9\u548c\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```\nclient_max_body_size 1024M; #\u5229\u7528\u30d5\u30a1\u30a4\u30eb\u306e\u30b5\u30a4\u30ba\u306b\u5fdc\u3058\u3066\u5909\u66f4\n```\n\n\n#6.TL;DR\n\u307e\u3068\u3081\u3068\u3057\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u901a\u308a\n\n- Bitbuclet Server\u304c\u30d0\u30fc\u30b8\u30e7\u30f34.3\u304b\u3089git lfs\u306b\u5bfe\u5fdc\u3057\u3001\u8ffd\u52a0\u8cbb\u7528\u306a\u3057\u3067\u5229\u7528\u53ef\u80fd\n- nginx\u306a\u3069\u3067\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u3092\u884c\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001POST\u30b5\u30a4\u30ba\u5236\u9650\u306b\u6ce8\u610f\u304c\u5fc5\u8981\n- SourceTree\u306a\u3069\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3067\u3082\u3001git lfs\u304c\u4f7f\u3048\u308b\n- `git lfs pull`\u3067\u3001\u5fc5\u8981\u306a\u3068\u304d\u306b\u5b9f\u4f53\u30d5\u30a1\u30a4\u30eb\u3092\u843d\u3068\u3057\u3066\u304f\u308b\u3053\u3068\u304c\u53ef\u80fd\n\n\u4f55\u304b\u306e\u3054\u53c2\u8003\u306b\u306a\u308c\u3070\u3002\n\n[^1]: [GitHub\u3001Git\u3067\u753b\u50cf\u3084\u52d5\u753b\u306a\u3069\u5927\u5bb9\u91cf\u30d5\u30a1\u30a4\u30eb\u3092\u6271\u3048\u308b\u300cGit LFS\u300d\uff08Git Large File Storage\uff09\u6b63\u5f0f\u30ea\u30ea\u30fc\u30b9](http://www.publickey1.jp/blog/15/git_lfs.html)\n[^2]: [Git LFS\u304c1.0\u306b\u306a\u3063\u3066GitHub\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u8a66\u3057\u3066\u307f\u305f](http://qiita.com/kiida/items/0d51c43ac73f14f09f5a)\n", "tags": ["bitbucket", "git-lfs"]}