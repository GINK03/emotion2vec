{"context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n\n\u7a3c\u50cd\u3057\u7d9a\u3051\u308b\u7570\u306a\u308b\u69cb\u6210\u306eLinux\u74b0\u5883\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30bd\u30d5\u30c8(apt/yum)\u7d4c\u7531\u3067\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u6570\u3092\u78ba\u8a8d\u3057\u305f\u3044\n\n\n\u4f8b\u3048\u3070Debian/Ubuntu 12.04LTS/Ubuntu 14.04LTS/CentOS6/Fedora 20\u3092\u5168\u90e8\u300c\u98fc\u3063\u3066\u308b\u300d\u3068\u3059\u308b\n\n\n\u3044\u3063\u305d\u4e00\u62ec\u3067\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3082\u3057\u305f\u3044\nZabbix\u3067\u76e3\u8996\u3057\u305f\u3044\n\n\u300c\u3069\u3044\u3064\u3082\u3053\u3044\u3064\u3082\u8a2d\u5b9a\u304c\u5fae\u5999\u306b\u9055\u3046\u300d\u3068\u3044\u3046\u524d\u63d0\u304c\u3042\u308a\u307e\u3059\u3002\n\u4f8b\u3048\u30701000\u53f0\u3067\u3042\u3063\u3066\u3082\u3001\u540c\u3058\u69cb\u6210\u3060\u3063\u305f\u3089\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u6570\u306f\u540c\u3058\u3060\u3057\u914d\u5e03\u30b5\u30fc\u30d0\u3082\u7acb\u3066\u308b\u306f\u305a\u3067\u3059\u306e\u3067\u3001\u3053\u3046\u3044\u3046\u30c4\u30fc\u30eb\u306f\u8981\u3089\u306a\u3044\u306f\u305a\u3067\u3059\u3002\u8a71\u984c\u306eDocker\u306a\u30a4\u30f3\u30d5\u30e9\u3068\u3082\u3042\u307e\u308a\u305d\u308a\u304c\u3042\u308a\u307e\u305b\u3093\u3057\u3001vagrant\u3067\u4e00\u6642\u7684\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3082\u306e\u3068\u3082\u95a2\u4fc2\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\u81ea\u5206\u30675\u53f0\u304f\u3089\u3044\u74b0\u5883\u3092\u6301\u3063\u3066\u308b\u3051\u3069\u3001Debian/Ubuntu/CentOS\u3067\u30d0\u30e9\u30d0\u30e9\u3060\u306a\u3041\u3001\u3068\u3044\u3046\u6642\u306b\u4f7f\u3044\u307e\u3059\u3002\n\u5358\u306b\u305d\u3046\u3044\u3046\u30c1\u30a7\u30c3\u30af\u3092OS\u8de8\u3044\u3067\u7ba1\u7406\u3059\u308b\u30bd\u30d5\u30c8\u304c\u601d\u3044\u3064\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u3002\n\n\u3084\u3063\u305f\u3053\u3068\nhttps://github.com/dmiyakawa/check_linux_updates\n\ncheck_updates.py : \u81ea\u5206\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u5411\u3053\u3046\u5074\u3092\u89b3\u6e2c\n\u3053\u308c\u306fFabric(ssh)\u7d4c\u7531\u3067\u5404\u30db\u30b9\u30c8\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u898b\u306b\u884c\u304f\u5b9f\u88c5\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4e26\u5217\u3067\u30c1\u30a7\u30c3\u30af\u3057\u306b\u884c\u304d\u307e\u3059\u3002\n\u4f8b (snip\u90e8\u5206\u306f\u672c\u5f53\u306fFQDN\u76f8\u5f53\u3060\u3063\u305f\u3082\u306e):\n$ check_updates.py\nhansode.(snip)     :   0(0) (REBOOT-REQUIRED)\ngobusode.(snip)    :  40(0)\nshichibusode.(snip):   1(0)\nmowa-net.jp        :   3(2)\ncentos64.(snip)    :   2(?) (REBOOT_REQUIRED)\n\ngobusode\u306fDebian sid\u3067\u3059\u3002\u653e\u7f6e\u3057\u3068\u304f\u3068\u3059\u3050\u3053\u3046\u306a\u308a\u307e\u3059\u3002\n\u305f\u3060\u3082\u3046\u3061\u3087\u3063\u3068\u91cd\u8981\u306a\u306e\u306fmowa-net.jp\u3067\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8(\u62ec\u5f27\u306e\u4e2d)\u304c2\u3042\u308b\u306e\u3067\u3053\u308c\u306f\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3067\u3059\u3002\n\u3082\u3061\u308d\u3093Debian\u306b\u306f\u81ea\u52d5\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u5f53\u3066\u308b\u4ed5\u7d44\u307f\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u308c\u306f\u305d\u308c\u3092\u4f7f\u3063\u3066\u3044\u306a\u3044\u7f70\u3067\u3059\u3002\n$ check_updates.py --upgrade mowa-net\n\n\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u5834\u54081\u30db\u30b9\u30c8\u3067\u30b7\u30ea\u30a2\u30eb\u306b\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u805e\u304b\u308c\u3066\u3082\u5927\u4e08\u592b\u3067\u3059\u3002\n\u30db\u30b9\u30c8\u540d\u306f\u3044\u308d\u3044\u308d\u5909\u3048\u3066\u307e\u3059\u304c\u3001\u5927\u4f53\u305d\u3046\u3044\u3046\u611f\u3058\u3067\u52d5\u304d\u307e\u3059\u3002\nCentOS\u6df7\u3056\u3063\u3066\u3082\u3044\u3051\u307e\u3059(\u4e0a\u306ecentos64\u304c\u4f8b)\u304c\u3001\u5b9f\u88c5\u3092\u30b5\u30dc\u3063\u3066\u3066CentOS\u4e0a\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u898b\u3066\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\"?\"\u3067\u3059\u3002(\u5f8c\u8ff0\u3059\u308b\u30c4\u30fc\u30eb\u3067\u306f\u898b\u3066\u305f\u308a\u3057\u307e\u3059\u3002\u3042\u308c\u30fc)\nParamiko(ssh\u63a5\u7d9a)\u5468\u308a\u306e\u81ea\u5206\u5074\u5b9f\u88c5\u304c\u9069\u5f53\u3059\u304e\u3067\u3001\u30d1\u30e9\u30ec\u30eb\u3067\u8d70\u308b\u3068\u304d\u306b\u306f\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u5165\u308c\u306a\u3044\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u6642\u306b\u843d\u3061\u307e\u3059\u3002\nsudo\u5fc5\u8981\u306a\u3068\u304d\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u3066\u3082\u3084\u3063\u3071\u308a\u6b7b\u306b\u307e\u3059\u3002\n\u300c\u81ea\u5206\u6240\u6709\u306e\u30b5\u30fc\u30d0\u7fa4\u300d\u7b49\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f mine \u30b0\u30eb\u30fc\u30d7\u306e\u30db\u30b9\u30c8\u3092\u9806\u756a\u306b\u305f\u3069\u3063\u3066\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3068\u30ea\u30d6\u30fc\u30c8\u306e\u6c7a\u65ad\u3092\u884c\u306a\u3044\u307e\u3059\u3002\n(\u30d1\u30e9\u30ec\u30eb\u5b9f\u884c\u3059\u308b\u3068Fabric\u304c\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306aYes/No\u3092\u8a31\u3057\u3066\u304f\u308c\u306a\u3044)\n$ check_updates.py --serial --ask-upgrade mine\n\n\u5b9f\u884c\u3059\u308b\u5074\u304cPython2.7\u3067\u3042\u308b\u3053\u3068\u3092\u4eee\u5b9a\u3057\u3066\u307e\u3059\u3002\n$ check_updates.py -h\nusage: check_updates.py [-h] [-s] [-q] [-n] [-v] [--ask-upgrade]\n                        [--auto-upgrade] [--dist-upgrade]\n                        [--auto-upgrade-restart] [--refresh] [--show-packages]\n                        [--sanity-check]\n                        [HOST [HOST ...]]\n\nChecks if remote hosts need update or not.\n\npositional arguments:\n  HOST                  Host names or host groups. If not specified, default\n                        hosts configuration will be used. This may allow\n                        special command \"all\" \"list\", \"groups\" (=\n                        \"list_groups\").\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -s, --serial          Executes check in serial manner\n  -q, --quiet           Suppress unnecessary output.\n  -n, --nonregistered   Allow host names that are not registered\n  -v, --verbose         Show verbose outputs, including Fabric ones.\n  --ask-upgrade         Asks if upgrade should be done when appropriate. Only\n                        effective when --serial (-s) option is set\n  --auto-upgrade        Requests hosts to upgrade itself when necessary.\n  --dist-upgrade        Use \"dist-upgrade\" instead of \"upgrade\". Only\n                        effective with debian-like systems. Meaningless on\n                        redhat-like systems.\n  --auto-upgrade-restart\n                        Requests hosts to upgrade itself and restart when\n                        upgrade is finished. With this option restart will be\n                        executed regardless of necessity (with/without\n                        \"Reboot-Required\" status). This will execute \"dist-\n                        upgrade\" on debian(-like) OSes, not \"upgrade.\n  --refresh             Run \"apt-get update\" on debian-like systems.\n  --show-packages       This will show names of packages to be upgraded.\n  --sanity-check        First executes sanity check toward each host serially\n                        (not in parallel). If some hosts show prompt in the\n                        check phase, this command will abort itself\n                        immediately. Might be useful for \"debugging\" new\n                        hosts. If you are considering --serial option, This\n                        \"check\" would be meaningless.\n\n\ncheck_update_local.py : \u5411\u3053\u3046\u5074\u3067\u5b9f\u884c\n\u4e0a\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3068\u3001ssh\u63a5\u7d9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3057\u8a8d\u8a3c\u8a8d\u53ef\u306e\u51e6\u7406\u304c\u5fae\u5999\u306a\u4e0a\u306b\nZabbix\u3067\u76e3\u8996\u3059\u308b\u4e0a\u3067\u306f\u4e0d\u90fd\u5408\u3042\u308a\u307e\u304f\u308a\u3067\u3059\u3002\n\u5404\u30db\u30b9\u30c8\u306b\u30b9\u30af\u30ea\u30d7\u30c8(Python)\u3092\u914d\u7f6e\u3057\u3066\u3067\u3082Zabbix Agent\u304b\u3089\u76e3\u8996\u3067\u304d\u308b\u3082\u306e\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n$ check_update_local.py -h\nusage: check_update_local.py [-h] [--log LOG] [-d] [-s] [-r] [-q]\n\nCheck if update is available. Returns num of updates\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --log LOG             Set Python log level. e.g. DEBUG, INFO, WARN\n  -d, --debug           Shortcut for --log DEBUG\n  -s, --security-updates\n                        Instead of showing num of updates, show num of\n                        security updates.\n  -r, --reboot_required\n                        Instead of showing num of updates, return 1 if reboot\n                        is required\n  -q, --quiet           Logging will be disabled entirely.\n$ check_update_local.py \n0\n$ check_update_local.py -s\n0\n$ check_update_local.py -r\n1\n\nDebian\u3067\u306fapt-check\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u305f\u3081update-notifier-common\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u78ba\u304b\u3067\u3059\u304cUbuntu\u7cfb\u3060\u3068\u6700\u521d\u304b\u3089\u5165\u3063\u3066\u3044\u308b\u611f\u3058\u3067\u3059\u304c\u3001\u8a73\u7d30\u4e0d\u660e\u3067\u3059\u3002\n\u3053\u3053\u307e\u3067\u306f\u6bd4\u8f03\u7684\u697d\u3060\u3063\u305f\u3093\u3067\u3059\u304c\u3001\n\u6cb9\u65ad\u3057\u3066CentOS 6\u306b\u3082\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5bfe\u5fdc\u3055\u305b\u3088\u3046\u3068\u3057\u305f\u3089\nCentOS 6\u306e\u30c7\u30d5\u30a9\u30eb\u30c8Python\u304c2.6 (2.7\u3058\u3083\u306a\u304f)\u3067\u3073\u3073\u308a\u307e\u3057\u305f\u3002\n\u3044\u308d\u3044\u308d\u5909\u306a\u30cf\u30c3\u30af\u3044\u308c\u307e\u3057\u3066\u3001pip\u3067argparse\u5165\u3063\u3066\u308c\u3070\u52d5\u304f\u30ec\u30d9\u30eb\u307e\u3067\u306b\u306f\u3057\u307e\u3057\u305f\u304c\u3001\n\u3082\u3063\u3068\u30af\u30ea\u30fc\u30f3\u306a\u65b9\u6cd5\u3092\u671f\u5f85\u3057\u305f\u3044\u3067\u3059\u3002\n\u6b8b\u5ff5\u3067\u3059\u304cPython3\u5bfe\u5fdc\u306f\u5165\u3063\u3066\u307e\u305b\u3093\u300214.04LTS\u7684\u3067\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\nZabbix\u3067\u4f7f\u3046\u65b9\u6cd5\u306fREADME.md\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\napt-check\u3082yum\u3082\u672c\u5f53\u306fAgent\u304b\u3089\u53e9\u304f\u306e\u306f\u4e0d\u5b89\u306a\u7a0b\u5ea6\u306b\u306f\u91cd\u3044\u306e\u3067\u3001\n\u591a\u304f\u306e\u76e3\u8996\u5bfe\u8c61\u3067\u4f7f\u3046\u3068\u3001Agent\u3092\u53e9\u304f\u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30bb\u30b9\u304c\u3044\u3063\u3071\u3044\u3044\u3063\u3071\u3044\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u3055\u3063\u304d\u4f5c\u3063\u305f\u306e\u3067\u691c\u8a3c\u3067\u304d\u3066\u307e\u305b\u3093\u3002\n\n\u6b32\u3057\u3044\u3082\u306e\n\u3053\u308c\u3088\u308a\u307e\u3057\u306a\u30c4\u30fc\u30eb\n\n\u8ffd\u8a18\n\nlocal\u306e\u65b9\u3067\u3059\u304c\u3001Zabbix\u3067\u76e3\u8996\u3059\u308b\u969b\u306b\u306f\u30a2\u30af\u30c6\u30a3\u30d6\u76e3\u8996\u3092\u7528\u3044\u305f\u3057\u305f\u307b\u3046\u304c\u826f\u3044\u3088\u3046\u3067\u3059\u3002\n\n# \u3084\u308a\u305f\u3044\u3053\u3068\n\n* \u7a3c\u50cd\u3057\u7d9a\u3051\u308b\u7570\u306a\u308b\u69cb\u6210\u306eLinux\u74b0\u5883\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30bd\u30d5\u30c8(apt/yum)\u7d4c\u7531\u3067\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3055\u308c\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u6570\u3092\u78ba\u8a8d\u3057\u305f\u3044\n    * \u4f8b\u3048\u3070Debian/Ubuntu 12.04LTS/Ubuntu 14.04LTS/CentOS6/Fedora 20\u3092\u5168\u90e8\u300c\u98fc\u3063\u3066\u308b\u300d\u3068\u3059\u308b\n* \u3044\u3063\u305d\u4e00\u62ec\u3067\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3082\u3057\u305f\u3044\n* Zabbix\u3067\u76e3\u8996\u3057\u305f\u3044\n\n\u300c\u3069\u3044\u3064\u3082\u3053\u3044\u3064\u3082\u8a2d\u5b9a\u304c\u5fae\u5999\u306b\u9055\u3046\u300d\u3068\u3044\u3046\u524d\u63d0\u304c\u3042\u308a\u307e\u3059\u3002\n\u4f8b\u3048\u30701000\u53f0\u3067\u3042\u3063\u3066\u3082\u3001\u540c\u3058\u69cb\u6210\u3060\u3063\u305f\u3089\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u6570\u306f\u540c\u3058\u3060\u3057\u914d\u5e03\u30b5\u30fc\u30d0\u3082\u7acb\u3066\u308b\u306f\u305a\u3067\u3059\u306e\u3067\u3001\u3053\u3046\u3044\u3046\u30c4\u30fc\u30eb\u306f\u8981\u3089\u306a\u3044\u306f\u305a\u3067\u3059\u3002\u8a71\u984c\u306eDocker\u306a\u30a4\u30f3\u30d5\u30e9\u3068\u3082\u3042\u307e\u308a\u305d\u308a\u304c\u3042\u308a\u307e\u305b\u3093\u3057\u3001vagrant\u3067\u4e00\u6642\u7684\u306b\u7acb\u3061\u4e0a\u3052\u308b\u3082\u306e\u3068\u3082\u95a2\u4fc2\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u81ea\u5206\u30675\u53f0\u304f\u3089\u3044\u74b0\u5883\u3092\u6301\u3063\u3066\u308b\u3051\u3069\u3001Debian/Ubuntu/CentOS\u3067\u30d0\u30e9\u30d0\u30e9\u3060\u306a\u3041\u3001\u3068\u3044\u3046\u6642\u306b\u4f7f\u3044\u307e\u3059\u3002\n\n\u5358\u306b\u305d\u3046\u3044\u3046\u30c1\u30a7\u30c3\u30af\u3092OS\u8de8\u3044\u3067\u7ba1\u7406\u3059\u308b\u30bd\u30d5\u30c8\u304c\u601d\u3044\u3064\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u3002\n\n# \u3084\u3063\u305f\u3053\u3068\n\nhttps://github.com/dmiyakawa/check_linux_updates\n\n## check_updates.py : \u81ea\u5206\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u5411\u3053\u3046\u5074\u3092\u89b3\u6e2c\n\n\u3053\u308c\u306fFabric(ssh)\u7d4c\u7531\u3067\u5404\u30db\u30b9\u30c8\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u898b\u306b\u884c\u304f\u5b9f\u88c5\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4e26\u5217\u3067\u30c1\u30a7\u30c3\u30af\u3057\u306b\u884c\u304d\u307e\u3059\u3002\n\n```\n\u4f8b (snip\u90e8\u5206\u306f\u672c\u5f53\u306fFQDN\u76f8\u5f53\u3060\u3063\u305f\u3082\u306e):\n$ check_updates.py\nhansode.(snip)     :   0(0) (REBOOT-REQUIRED)\ngobusode.(snip)    :  40(0)\nshichibusode.(snip):   1(0)\nmowa-net.jp        :   3(2)\ncentos64.(snip)    :   2(?) (REBOOT_REQUIRED)\n```\n\ngobusode\u306fDebian sid\u3067\u3059\u3002\u653e\u7f6e\u3057\u3068\u304f\u3068\u3059\u3050\u3053\u3046\u306a\u308a\u307e\u3059\u3002\n\u305f\u3060\u3082\u3046\u3061\u3087\u3063\u3068\u91cd\u8981\u306a\u306e\u306fmowa-net.jp\u3067\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8(\u62ec\u5f27\u306e\u4e2d)\u304c2\u3042\u308b\u306e\u3067\u3053\u308c\u306f\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3067\u3059\u3002\n\u3082\u3061\u308d\u3093Debian\u306b\u306f\u81ea\u52d5\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u5f53\u3066\u308b\u4ed5\u7d44\u307f\u304c\u3042\u308b\u306e\u3067\u3001\u3053\u308c\u306f\u305d\u308c\u3092\u4f7f\u3063\u3066\u3044\u306a\u3044\u7f70\u3067\u3059\u3002\n\n```\n$ check_updates.py --upgrade mowa-net\n```\n\n\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u5834\u54081\u30db\u30b9\u30c8\u3067\u30b7\u30ea\u30a2\u30eb\u306b\u5b9f\u884c\u3055\u308c\u308b\u306e\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u805e\u304b\u308c\u3066\u3082\u5927\u4e08\u592b\u3067\u3059\u3002\n\n\u30db\u30b9\u30c8\u540d\u306f\u3044\u308d\u3044\u308d\u5909\u3048\u3066\u307e\u3059\u304c\u3001\u5927\u4f53\u305d\u3046\u3044\u3046\u611f\u3058\u3067\u52d5\u304d\u307e\u3059\u3002\nCentOS\u6df7\u3056\u3063\u3066\u3082\u3044\u3051\u307e\u3059(\u4e0a\u306ecentos64\u304c\u4f8b)\u304c\u3001\u5b9f\u88c5\u3092\u30b5\u30dc\u3063\u3066\u3066CentOS\u4e0a\u3067\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u898b\u3066\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\"?\"\u3067\u3059\u3002(\u5f8c\u8ff0\u3059\u308b\u30c4\u30fc\u30eb\u3067\u306f\u898b\u3066\u305f\u308a\u3057\u307e\u3059\u3002\u3042\u308c\u30fc)\n\nParamiko(ssh\u63a5\u7d9a)\u5468\u308a\u306e\u81ea\u5206\u5074\u5b9f\u88c5\u304c\u9069\u5f53\u3059\u304e\u3067\u3001\u30d1\u30e9\u30ec\u30eb\u3067\u8d70\u308b\u3068\u304d\u306b\u306f\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u5165\u308c\u306a\u3044\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u6642\u306b\u843d\u3061\u307e\u3059\u3002\nsudo\u5fc5\u8981\u306a\u3068\u304d\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3067\u3066\u3082\u3084\u3063\u3071\u308a\u6b7b\u306b\u307e\u3059\u3002\n\n\u300c\u81ea\u5206\u6240\u6709\u306e\u30b5\u30fc\u30d0\u7fa4\u300d\u7b49\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f mine \u30b0\u30eb\u30fc\u30d7\u306e\u30db\u30b9\u30c8\u3092\u9806\u756a\u306b\u305f\u3069\u3063\u3066\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3068\u30ea\u30d6\u30fc\u30c8\u306e\u6c7a\u65ad\u3092\u884c\u306a\u3044\u307e\u3059\u3002\n(\u30d1\u30e9\u30ec\u30eb\u5b9f\u884c\u3059\u308b\u3068Fabric\u304c\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306aYes/No\u3092\u8a31\u3057\u3066\u304f\u308c\u306a\u3044)\n\n```\n$ check_updates.py --serial --ask-upgrade mine\n```\n\n\u5b9f\u884c\u3059\u308b\u5074\u304cPython2.7\u3067\u3042\u308b\u3053\u3068\u3092\u4eee\u5b9a\u3057\u3066\u307e\u3059\u3002\n\n```\n$ check_updates.py -h\nusage: check_updates.py [-h] [-s] [-q] [-n] [-v] [--ask-upgrade]\n                        [--auto-upgrade] [--dist-upgrade]\n                        [--auto-upgrade-restart] [--refresh] [--show-packages]\n                        [--sanity-check]\n                        [HOST [HOST ...]]\n\nChecks if remote hosts need update or not.\n\npositional arguments:\n  HOST                  Host names or host groups. If not specified, default\n                        hosts configuration will be used. This may allow\n                        special command \"all\" \"list\", \"groups\" (=\n                        \"list_groups\").\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -s, --serial          Executes check in serial manner\n  -q, --quiet           Suppress unnecessary output.\n  -n, --nonregistered   Allow host names that are not registered\n  -v, --verbose         Show verbose outputs, including Fabric ones.\n  --ask-upgrade         Asks if upgrade should be done when appropriate. Only\n                        effective when --serial (-s) option is set\n  --auto-upgrade        Requests hosts to upgrade itself when necessary.\n  --dist-upgrade        Use \"dist-upgrade\" instead of \"upgrade\". Only\n                        effective with debian-like systems. Meaningless on\n                        redhat-like systems.\n  --auto-upgrade-restart\n                        Requests hosts to upgrade itself and restart when\n                        upgrade is finished. With this option restart will be\n                        executed regardless of necessity (with/without\n                        \"Reboot-Required\" status). This will execute \"dist-\n                        upgrade\" on debian(-like) OSes, not \"upgrade.\n  --refresh             Run \"apt-get update\" on debian-like systems.\n  --show-packages       This will show names of packages to be upgraded.\n  --sanity-check        First executes sanity check toward each host serially\n                        (not in parallel). If some hosts show prompt in the\n                        check phase, this command will abort itself\n                        immediately. Might be useful for \"debugging\" new\n                        hosts. If you are considering --serial option, This\n                        \"check\" would be meaningless.\n```\n\n## check_update_local.py : \u5411\u3053\u3046\u5074\u3067\u5b9f\u884c\n\n\u4e0a\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3060\u3068\u3001ssh\u63a5\u7d9a\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3057\u8a8d\u8a3c\u8a8d\u53ef\u306e\u51e6\u7406\u304c\u5fae\u5999\u306a\u4e0a\u306b\nZabbix\u3067\u76e3\u8996\u3059\u308b\u4e0a\u3067\u306f\u4e0d\u90fd\u5408\u3042\u308a\u307e\u304f\u308a\u3067\u3059\u3002\n\n\n\u5404\u30db\u30b9\u30c8\u306b\u30b9\u30af\u30ea\u30d7\u30c8(Python)\u3092\u914d\u7f6e\u3057\u3066\u3067\u3082Zabbix Agent\u304b\u3089\u76e3\u8996\u3067\u304d\u308b\u3082\u306e\u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002\n\n```\n$ check_update_local.py -h\nusage: check_update_local.py [-h] [--log LOG] [-d] [-s] [-r] [-q]\n\nCheck if update is available. Returns num of updates\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --log LOG             Set Python log level. e.g. DEBUG, INFO, WARN\n  -d, --debug           Shortcut for --log DEBUG\n  -s, --security-updates\n                        Instead of showing num of updates, show num of\n                        security updates.\n  -r, --reboot_required\n                        Instead of showing num of updates, return 1 if reboot\n                        is required\n  -q, --quiet           Logging will be disabled entirely.\n$ check_update_local.py \n0\n$ check_update_local.py -s\n0\n$ check_update_local.py -r\n1\n```\n\nDebian\u3067\u306f```apt-check```\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u305f\u3081update-notifier-common\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u78ba\u304b\u3067\u3059\u304cUbuntu\u7cfb\u3060\u3068\u6700\u521d\u304b\u3089\u5165\u3063\u3066\u3044\u308b\u611f\u3058\u3067\u3059\u304c\u3001\u8a73\u7d30\u4e0d\u660e\u3067\u3059\u3002\n\n\u3053\u3053\u307e\u3067\u306f\u6bd4\u8f03\u7684\u697d\u3060\u3063\u305f\u3093\u3067\u3059\u304c\u3001\n\u6cb9\u65ad\u3057\u3066CentOS 6\u306b\u3082\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5bfe\u5fdc\u3055\u305b\u3088\u3046\u3068\u3057\u305f\u3089\nCentOS 6\u306e\u30c7\u30d5\u30a9\u30eb\u30c8Python\u304c2.6 (2.7\u3058\u3083\u306a\u304f)\u3067\u3073\u3073\u308a\u307e\u3057\u305f\u3002\n\u3044\u308d\u3044\u308d\u5909\u306a\u30cf\u30c3\u30af\u3044\u308c\u307e\u3057\u3066\u3001pip\u3067argparse\u5165\u3063\u3066\u308c\u3070\u52d5\u304f\u30ec\u30d9\u30eb\u307e\u3067\u306b\u306f\u3057\u307e\u3057\u305f\u304c\u3001\n\u3082\u3063\u3068\u30af\u30ea\u30fc\u30f3\u306a\u65b9\u6cd5\u3092\u671f\u5f85\u3057\u305f\u3044\u3067\u3059\u3002\n\n\u6b8b\u5ff5\u3067\u3059\u304cPython3\u5bfe\u5fdc\u306f\u5165\u3063\u3066\u307e\u305b\u3093\u300214.04LTS\u7684\u3067\u306f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\nZabbix\u3067\u4f7f\u3046\u65b9\u6cd5\u306fREADME.md\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002\napt-check\u3082yum\u3082\u672c\u5f53\u306fAgent\u304b\u3089\u53e9\u304f\u306e\u306f\u4e0d\u5b89\u306a\u7a0b\u5ea6\u306b\u306f\u91cd\u3044\u306e\u3067\u3001\n\u591a\u304f\u306e\u76e3\u8996\u5bfe\u8c61\u3067\u4f7f\u3046\u3068\u3001Agent\u3092\u53e9\u304f\u30b5\u30fc\u30d0\u5074\u30d7\u30ed\u30bb\u30b9\u304c\u3044\u3063\u3071\u3044\u3044\u3063\u3071\u3044\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u3055\u3063\u304d\u4f5c\u3063\u305f\u306e\u3067\u691c\u8a3c\u3067\u304d\u3066\u307e\u305b\u3093\u3002\n\n# \u6b32\u3057\u3044\u3082\u306e\n\n\u3053\u308c\u3088\u308a\u307e\u3057\u306a\u30c4\u30fc\u30eb\n\n# \u8ffd\u8a18\n\n * local\u306e\u65b9\u3067\u3059\u304c\u3001Zabbix\u3067\u76e3\u8996\u3059\u308b\u969b\u306b\u306f\u30a2\u30af\u30c6\u30a3\u30d6\u76e3\u8996\u3092\u7528\u3044\u305f\u3057\u305f\u307b\u3046\u304c\u826f\u3044\u3088\u3046\u3067\u3059\u3002\n", "tags": ["Debian7.5", "CentOS6", "Python2.7"]}