{"context": " More than 1 year has passed since last update.\n\nNode\u306e\u95a2\u6570\u3092bash\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u4f7f\u3044\u305f\u3044\n\u3044\u3061\u3044\u3061\u3001node\u306e\u5bfe\u8a71\u74b0\u5883\u3092\u4f7f\u3046\u306e\u3082\u9762\u5012\u306a\u8a71\u306a\u306e\u3067\u3001\u76f4\u63a5\u547c\u3079\u308b\u3068\u4fbf\u5229\nnode \u306e\u95a2\u6570\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5e78\u30442\u968e\u5c64\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u30d1\u30a4\u30d7\u7d4c\u7531\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n\u524d\u6e96\u5099\nnode\u95a2\u6570\u3092\u30b3\u30de\u30f3\u30c9\u3057\u3066\u4f7f\u3046\n\nsample1\nbash> git clone https://gist.github.com/f5a6fb560dc357835122.git\nbash> chmod +x node2bash.js\nbash>  ln -s node2bash.js /usr/local/bin/encodeURIComponent\nbash>  ln -s node2bash.js /usr/local/bin/decodeURIComponent\nbash>  ln -s node2bash.js /usr/local/bin/querystring.parse\n\n\n\n\u4f7f\u7528\u4f8b\nbash \u304b\u3089 uri \u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\n\nsample2\nbash>  encodeURIComponent 'aaa=1&bb=\u3042\u3042\u3042'\naaa%3D1%26bb%3D%E3%81%82%E3%81%82%E3%81%82\n\n\n\n\u30d1\u30a4\u30d7\u7d4c\u7531\u3067\u3082\n\nsample3\nbash > encodeURIComponent 'aaa=1&bb=\u3042\u3042\u3042' | decodeURIComponent\naaa=1&bb=\u3042\u3042\u3042\n\n\n\n\u6a19\u6e96\u5165\u51fa\u529b\u3092\u4f7f\u3063\u3066\u30d1\u30a4\u30d7\u30d1\u30a4\u30d7\nbash \u304b\u3089 uri \u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u305f\u306e\u3092\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u306e\u3092QueryString\u5206\u5272\u3057\u3066\u3001JSON\u306b\u3059\u308b\u3002\nbash> echo  'aaa=1&bb=\u3042\u3042\u3042'  | encodeURIComponent| decodeURIComponent | querystring.parse\n{ aaa: '1', bb: '\u3042\u3042\u3042' } \n\n\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u30d9\u30fc\u30b9\u306b\u4f7f\u3044\u307e\u3059\u3002\n\nnode2bash.js\n#!/usr/bin/env node\n/***\n * author takuya_1st\n * Released under  GPL Licenses.\n * Date: 2013-11-21 2:06\n */\nvar fs   = require('fs')\nvar path = require('path');\nvar name = process.argv[1];\nvar str  = process.argv[2];\n\n//\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u51e6\u7406\nif( name.match(/\\./) ){\n    module_name = path.basename( name.split(/\\./).shift()) ;\n    name = name.split(/\\./).pop();\n    if( global[module_name] ){\n      module = global[module_name];\n    }else{\n      module = require(module_name);\n    }\n}else {\n    name =  path.basename(name);\n    module = global;\n}\n//\u30b3\u30de\u30f3\u30c9\u30b7\u30a7\u30eb\u3067\u5b9f\u884c\u3057\u305f\u3044\u95a2\u6570\nvar func = module[name];\n\n\n\nif(str) {\n    if(fs.existsSync(str)){\n        str = fs.readFileSync(str);\n    }\n    str  = func(str);\n    console.log(str);\n}else{\n    process.stdin.resume();\n    process.stdin.setEncoding('utf8');\n\n    var lines = []\n        // \u6a19\u6e96\u5165\u529b\u304c\u304f\u308b\u3068\u767a\u751f\u3059\u308b\u30a4\u30d9\u30f3\u30c8\n        process.stdin.on('data', function (chunk) {\n\n                lines.push(chunk.trim())\n                });\n    // EOF\u304c\u304f\u308b\u3068\u767a\u751f\u3059\u308b\u30a4\u30d9\u30f3\u30c8\n    process.stdin.on('end', function () {\n            lines = lines.join(\"\\n\")\n            console.log( func(lines)  )\n            });\n\n}\n\n\n\u3076\u3063\u3061\u3083\u3051\u305f\u8a71\u3001node\u30b3\u30de\u30f3\u30c9\u306e\u5bfe\u8a71\u30b7\u30a7\u30eb\u3084node\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u66f8\u304f\u3088\u308abash\u3067\u30b3\u30de\u30f3\u30c9\u3067\u7d44\u307f\u5408\u308f\u305b\u305f\u307b\u3046\u304c\u3059\u3054\u304f\u4fbf\u5229\n\n\u4ee5\u524d\u66f8\u3044\u305f\u4ee5\u4e0b\u306e\u6539\u826f\u7248\nhttp://takuya-1st.hatenablog.jp/entry/2013/05/28/033545\n# Node\u306e\u95a2\u6570\u3092bash\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u4f7f\u3044\u305f\u3044\n\n\u3044\u3061\u3044\u3061\u3001node\u306e\u5bfe\u8a71\u74b0\u5883\u3092\u4f7f\u3046\u306e\u3082\u9762\u5012\u306a\u8a71\u306a\u306e\u3067\u3001\u76f4\u63a5\u547c\u3079\u308b\u3068\u4fbf\u5229\nnode \u306e\u95a2\u6570\u3068\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u5e78\u30442\u968e\u5c64\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u30d1\u30a4\u30d7\u7d4c\u7531\u3067\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n##\u524d\u6e96\u5099\nnode\u95a2\u6570\u3092\u30b3\u30de\u30f3\u30c9\u3057\u3066\u4f7f\u3046\n\n```bash:sample1\nbash> git clone https://gist.github.com/f5a6fb560dc357835122.git\nbash> chmod +x node2bash.js\nbash>  ln -s node2bash.js /usr/local/bin/encodeURIComponent\nbash>  ln -s node2bash.js /usr/local/bin/decodeURIComponent\nbash>  ln -s node2bash.js /usr/local/bin/querystring.parse\n```\n\n## \u4f7f\u7528\u4f8b\nbash \u304b\u3089 uri \u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\n\n```bash:sample2\nbash>  encodeURIComponent 'aaa=1&bb=\u3042\u3042\u3042'\naaa%3D1%26bb%3D%E3%81%82%E3%81%82%E3%81%82\n```\n\n###\u30d1\u30a4\u30d7\u7d4c\u7531\u3067\u3082\n\n```bash:sample3\nbash > encodeURIComponent 'aaa=1&bb=\u3042\u3042\u3042' | decodeURIComponent\naaa=1&bb=\u3042\u3042\u3042\n```\n\n### \u6a19\u6e96\u5165\u51fa\u529b\u3092\u4f7f\u3063\u3066\u30d1\u30a4\u30d7\u30d1\u30a4\u30d7\nbash \u304b\u3089 uri \u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u305f\u306e\u3092\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u306e\u3092QueryString\u5206\u5272\u3057\u3066\u3001JSON\u306b\u3059\u308b\u3002\n\n```bash\nbash> echo  'aaa=1&bb=\u3042\u3042\u3042'  | encodeURIComponent| decodeURIComponent | querystring.parse\n{ aaa: '1', bb: '\u3042\u3042\u3042' } \n```\n\n##\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u30d9\u30fc\u30b9\u306b\u4f7f\u3044\u307e\u3059\u3002\n```js:node2bash.js\n#!/usr/bin/env node\n/***\n * author takuya_1st\n * Released under  GPL Licenses.\n * Date: 2013-11-21 2:06\n */\nvar fs   = require('fs')\nvar path = require('path');\nvar name = process.argv[1];\nvar str  = process.argv[2];\n\n//\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u51e6\u7406\nif( name.match(/\\./) ){\n\tmodule_name = path.basename( name.split(/\\./).shift()) ;\n\tname = name.split(/\\./).pop();\n\tif( global[module_name] ){\n\t  module = global[module_name];\n\t}else{\n\t  module = require(module_name);\n\t}\n}else {\n\tname =  path.basename(name);\n\tmodule = global;\n}\n//\u30b3\u30de\u30f3\u30c9\u30b7\u30a7\u30eb\u3067\u5b9f\u884c\u3057\u305f\u3044\u95a2\u6570\nvar func = module[name];\n\n\n\nif(str) {\n    if(fs.existsSync(str)){\n\t\tstr = fs.readFileSync(str);\n\t}\n\tstr  = func(str);\n\tconsole.log(str);\n}else{\n\tprocess.stdin.resume();\n\tprocess.stdin.setEncoding('utf8');\n\n\tvar lines = []\n\t\t// \u6a19\u6e96\u5165\u529b\u304c\u304f\u308b\u3068\u767a\u751f\u3059\u308b\u30a4\u30d9\u30f3\u30c8\n\t\tprocess.stdin.on('data', function (chunk) {\n\n\t\t\t\tlines.push(chunk.trim())\n\t\t\t\t});\n\t// EOF\u304c\u304f\u308b\u3068\u767a\u751f\u3059\u308b\u30a4\u30d9\u30f3\u30c8\n\tprocess.stdin.on('end', function () {\n\t\t\tlines = lines.join(\"\\n\")\n\t\t\tconsole.log( func(lines)  )\n\t\t\t});\n\n}\n```\n\n\u3076\u3063\u3061\u3083\u3051\u305f\u8a71\u3001node\u30b3\u30de\u30f3\u30c9\u306e\u5bfe\u8a71\u30b7\u30a7\u30eb\u3084node\u3067\u30b9\u30af\u30ea\u30d7\u30c8\u66f8\u304f\u3088\u308abash\u3067\u30b3\u30de\u30f3\u30c9\u3067\u7d44\u307f\u5408\u308f\u305b\u305f\u307b\u3046\u304c\u3059\u3054\u304f\u4fbf\u5229\n\n## \u4ee5\u524d\u66f8\u3044\u305f\u4ee5\u4e0b\u306e\u6539\u826f\u7248\nhttp://takuya-1st.hatenablog.jp/entry/2013/05/28/033545\n", "tags": ["Node", "Bash"]}