{"context": " More than 1 year has passed since last update.cabocha\u3092\u4f7f\u3063\u3066\u65e5\u672c\u8a9e\u306e\u4fc2\u308a\u53d7\u3051\u3092\u8abf\u3079\u308b\u30b3\u30fc\u30c9\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u3068\u308a\u3042\u3048\u305a\u540d\u8a5e\u3068\u5f62\u5bb9\u8a5e\u306e\u95a2\u4fc2\u306e\u62bd\u51fa\u3092\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u53c2\u8003\u6587\u732e\nCaboCha\u306ewindows\u74b0\u5883\u3078\u306einstall\u306a\u3069\u306fmima_ita\u3055\u3093\u306e\u30d6\u30ed\u30b0\u3092\u53c2\u8003\u306b\u3057\u3066\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\nWindows\u306bCabocha\u3092\u3044\u308c\u3066Python\u3067\u4fc2\u308a\u53d7\u3051\u3092\u89e3\u6790\u3057\u3066\u307f\u308b\n\n\u54c1\u8a5e\u3068\u8a9e\u306e\u9806\u3092\u7c21\u5358\u306b\u307e\u3068\u3081\u3066\u307f\u308b\n\u81ea\u7136\u8a00\u8a9e\u306b\u3064\u3044\u3066\u5c02\u9580\u7684\u306b\u52c9\u5f37\u3057\u305f\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u3057\u3001\u8ad6\u6587\u7b49\u3067\u8abf\u67fb\u3057\u305f\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u305f\u3093\u306a\u308b\u7d20\u4eba\u306e\u767a\u60f3\u3092\u4ee5\u4e0b\u306b\u8a18\u8f09\u81f4\u3057\u307e\u3059\u3002\n\u540d\u8a5e\u3001\u52d5\u8a5e\u3001\u5f62\u5bb9\u8a5e\u306b\u7d5e\u3063\u3066\u3001\u5358\u7d14\u306b\u76f4\u524d\u306e\u8a9e\u306e\u54c1\u8a5e\u3068\u306e\u95a2\u4fc2\u3092\u8003\u3048\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d1\u30bf\u30fc\u30f3\u306b\u308f\u3051\u3089\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u540d\u8a5e \u2192 \u540d\u8a5e\uff1a\u300c\u25cb\u25cb\u304c\u25a1\u25a1\u3092\u898b\u305f\u300d\u306e\u3088\u3046\u306b\u3001\u5f8c\u308d\u306e\u540d\u8a5e\u304c\u5bfe\u8c61\u3092\u8868\u3059\n\u540d\u8a5e \u2192 \u52d5\u8a5e\uff08\u2192 \u540d\u8a5e\uff09\uff1a\u300c\u25cb\u25cb\u304c\u898b\u305f\u25a1\u25a1\u306f\u300d\u306e\u3088\u3046\u306b\u3001\u4e3b\u8a9e\u306e\u52d5\u4f5c\u307e\u305f\u306f\u5bfe\u8c61\u3068\u306a\u308b\u5f8c\u308d\u306e\u540d\u8a5e\u306b\u5bfe\u3059\u308b\u52d5\u4f5c\u3092\u8868\u3059\n\u540d\u8a5e \u2192 \u5f62\u5bb9\u8a5e\uff1a\u300c\u25cb\u25cb\u306f\u7f8e\u3057\u3044\u300d\u306e\u3088\u3046\u306b\u3001\u5bfe\u8c61\u3068\u306a\u308b\u8a9e\u3092\u4fee\u98fe\u3059\u308b\n\u5f62\u5bb9\u8a5e \u2192 \u540d\u8a5e\uff1a\u300c\u7f8e\u3057\u3044\u25cb\u25cb\u300d\u306e\u3088\u3046\u306b\u3001\u5bfe\u8c61\u3068\u306a\u308b\u8a9e\u3092\u524d\u304b\u3089\u4fee\u98fe\u3059\u308b\n\n\u3053\u308c\u3092\u5143\u306b\u540d\u8a5e\u3068\u5f62\u5bb9\u8a5e\u306e\u95a2\u4fc2\u6027\u3092\u53d6\u5f97\u3059\u308b\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u3001\u30b3\u30fc\u30c9\u3092\u8a18\u8f09\u81f4\u3057\u307e\u3059\u3002\n\n\u53c2\u8003\u30b3\u30fc\u30c9\n# coding: utf-8\n\nimport CaboCha\nimport xml.etree.ElementTree as ET\nfrom collections import defaultdict\n\ndef get_reputation(ET_tree):\n    flag = None\n    reputation = defaultdict(str)\n\n    for el in ET_tree.findall(\".//chunk\"):        \n        tok = el.find(\"tok\")\n        feature = tok.attrib[\"feature\"].strip().split(',')\n        part = feature[0]\n        typ = feature[1]\n\n        if part=='\u540d\u8a5e' and \\\n            (typ=='\u4e00\u822c' or typ=='\u56fa\u6709\u540d\u8a5e'): \n                reputation[\"object\"]=tok.text\n        if part=='\u5f62\u5bb9\u8a5e': reputation['adjective']=feature[6]\n        link = el.attrib[\"link\"]\n        if link=='-1': break\n        while 1:\n            res = get_next_chunk(link,part)\n            if res==None: break\n            part, typ, word, link = res\n\n            if part=='\u540d\u8a5e' and \\\n                (typ=='\u4e00\u822c' or typ=='\u56fa\u6709\u540d\u8a5e'): \n                reputation[\"object\"]=word\n            if part=='\u5f62\u5bb9\u8a5e':\n                reputation['adjective'] = word\n                if reputation[\"object\"]!=None:\n                    flag=1\n                    break\n        if flag==1: break\n\n    print reputation[\"object\"]\n    print reputation[\"adjective\"]\n\ndef get_next_chunk(linkid, ex_part):\n    if linkid=='-1': return None\n    this_chunk =  ET_tree.find(\".//chunk[@id='%s']\" % linkid)\n    #print this_chunk.attrib\n    link = this_chunk.attrib[\"link\"]\n\n    tok = this_chunk.find('tok')\n    feature = tok.attrib[\"feature\"].strip().split(',')\n    if ex_part=='\u540d\u8a5e':\n        if feature[0]=='\u540d\u8a5e':\n            return feature[0], feature[1], tok.text, link\n        elif feature[0]=='\u52d5\u8a5e' or feature[0]=='\u5f62\u5bb9\u8a5e':\n            return feature[0], feature[1],  feature[6], link\n    elif ex_part=='\u52d5\u8a5e':\n        if feature[0]=='\u540d\u8a5e':\n            return feature[0], feature[1],  tok.text, link\n    elif ex_part=='\u5f62\u5bb9\u8a5e':\n        if feature[0]=='\u540d\u8a5e':\n            return feature[0], feature[1],  tok.text, link\n\nif __name__=='__main__':\n    c = CaboCha.Parser('--charset=UTF8')\n\n    sentence = \"\u30af\u30fc\u30ea\u30a8\u306e\uff16\u6708\u53f7\u300c\u697d\u3057\u304f\u5b66\u3076\u300e\u6559\u990a\u300f\u5165\u9580\u300d\u3067\u4e00\u756a\u304a\u3082\u3057\u308d\u304b\u3063\u305f\u306e\u306f\u3001\u6c60\u4e0a\u82f1\u6d0b\u3055\u3093\u306e\u8a18\u4e8b\u3002\u300c\u7d75\u753b\u306e\u898b\u304b\u305f\u300d\u3063\u3066\u8d85\u7d76\u5927\u4e8b\u3060\u3088\u306d\u3002\"\n\n    tree =  c.parse(sentence)\n    #print tree.toString(CaboCha.FORMAT_TREE)\n    #print tree.toString(CaboCha.FORMAT_LATTICE)\n    print tree.toString(CaboCha.FORMAT_XML)\n    ET_tree = ET.fromstring(tree.toString(CaboCha.FORMAT_XML))\n\n    get_reputation(ET_tree)\n\n\u5404\u30c1\u30e3\u30f3\u30af\u6bce\u306b\u5148\u982d\u306etok\u3057\u304b\u53d6\u5f97\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u3053\u308c\u306f\u3001\u4e0a\u624b\u304f\u30c1\u30e3\u30f3\u30af\u306b\u5206\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u308c\u3070\u5148\u982d\u306etok\u306b\u610f\u5473\u306e\u3042\u308b\u8a9e\u304c\u6765\u308b\u306f\u305a\u3060\u304b\u3089\u3067\u3059\u3002\n\n\u51fa\u529b\u7d50\u679c\n\u300e\u30af\u30fc\u30ea\u30a8\u306e\uff16\u6708\u53f7\u300c\u697d\u3057\u304f\u5b66\u3076\u300e\u6559\u990a\u300f\u5165\u9580\u300d\u3067\u4e00\u756a\u304a\u3082\u3057\u308d\u304b\u3063\u305f\u306e\u306f\u3001\u6c60\u4e0a\u82f1\u6d0b\u3055\u3093\u306e\u8a18\u4e8b\u3002\u300c\u7d75\u753b\u306e\u898b\u304b\u305f\u300d\u3063\u3066\u8d85\u7d76\u5927\u4e8b\u3060\u3088\u306d\u3002\u300f\n\n\u3063\u3066\u6587\u3092CaboCha\u3067\u89e3\u6790\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nCaboCha\u306e\u89e3\u6790\u7d50\u679c\u3092XML\u51fa\u529b\u3057\u305f\u30e2\u30ce\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n<sentence>\n <chunk id=\"0\" link=\"1\" rel=\"D\" score=\"0.328005\" head=\"0\" func=\"1\">\n  <tok id=\"0\" feature=\"\u540d\u8a5e,\u4e00\u822c,*,*,*,*,*,*,*,Wikipedia\">\u30af\u30fc\u30ea\u30a8</tok>\n  <tok id=\"1\" feature=\"\u52a9\u8a5e,\u9023\u4f53\u5316,*,*,*,*,\u306e,\u30ce,\u30ce\">\u306e</tok>\n </chunk>\n <chunk id=\"1\" link=\"4\" rel=\"D\" score=\"0.018011\" head=\"3\" func=\"3\">\n  <tok id=\"2\" feature=\"\u540d\u8a5e,\u526f\u8a5e\u53ef\u80fd,*,*,*,*,\uff16\u6708,\u30ed\u30af\u30ac\u30c4,\u30ed\u30af\u30ac\u30c4\">\uff16\u6708</tok>\n  <tok id=\"3\" feature=\"\u540d\u8a5e,\u63a5\u5c3e,\u4e00\u822c,*,*,*,\u53f7,\u30b4\u30a6,\u30b4\u30fc\">\u53f7</tok>\n </chunk>\n <chunk id=\"2\" link=\"3\" rel=\"D\" score=\"1.140087\" head=\"5\" func=\"5\">\n  <tok id=\"4\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u958b,*,*,*,*,\u300c,\u300c,\u300c\">\u300c</tok>\n  <tok id=\"5\" feature=\"\u5f62\u5bb9\u8a5e,\u81ea\u7acb,*,*,\u5f62\u5bb9\u8a5e\u30fb\u30a4\u6bb5,\u9023\u7528\u30c6\u63a5\u7d9a,\u697d\u3057\u3044,\u30bf\u30ce\u30b7\u30af,\u30bf\u30ce\u30b7\u30af\">\u697d\u3057\u304f</tok>\n </chunk>\n <chunk id=\"3\" link=\"4\" rel=\"D\" score=\"2.891449\" head=\"6\" func=\"6\">\n  <tok id=\"6\" feature=\"\u52d5\u8a5e,\u81ea\u7acb,*,*,\u4e94\u6bb5\u30fb\u30d0\u884c,\u57fa\u672c\u5f62,\u5b66\u3076,\u30de\u30ca\u30d6,\u30de\u30ca\u30d6\">\u5b66\u3076</tok>\n </chunk>\n <chunk id=\"4\" link=\"6\" rel=\"D\" score=\"1.654218\" head=\"10\" func=\"12\">\n  <tok id=\"7\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u958b,*,*,*,*,\u300e,\u300e,\u300e\">\u300e</tok>\n  <tok id=\"8\" feature=\"\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u6559\u990a,\u30ad\u30e7\u30a6\u30e8\u30a6,\u30ad\u30e7\u30fc\u30e8\u30fc\">\u6559\u990a</tok>\n  <tok id=\"9\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u9589,*,*,*,*,\u300f,\u300f,\u300f\">\u300f</tok>\n  <tok id=\"10\" feature=\"\u540d\u8a5e,\u30b5\u5909\u63a5\u7d9a,*,*,*,*,\u5165\u9580,\u30cb\u30e5\u30a6\u30e2\u30f3,\u30cb\u30e5\u30fc\u30e2\u30f3\">\u5165\u9580</tok>\n  <tok id=\"11\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u9589,*,*,*,*,\u300d,\u300d,\u300d\">\u300d</tok>\n  <tok id=\"12\" feature=\"\u52a9\u8a5e,\u683c\u52a9\u8a5e,\u4e00\u822c,*,*,*,\u3067,\u30c7,\u30c7\">\u3067</tok>\n </chunk>\n <chunk id=\"5\" link=\"6\" rel=\"D\" score=\"2.796273\" head=\"13\" func=\"13\">\n  <tok id=\"13\" feature=\"\u540d\u8a5e,\u526f\u8a5e\u53ef\u80fd,*,*,*,*,\u4e00\u756a,\u30a4\u30c1\u30d0\u30f3,\u30a4\u30c1\u30d0\u30f3\">\u4e00\u756a</tok>\n </chunk>\n <chunk id=\"6\" link=\"8\" rel=\"D\" score=\"1.346988\" head=\"16\" func=\"17\">\n  <tok id=\"14\" feature=\"\u5f62\u5bb9\u8a5e,\u81ea\u7acb,*,*,\u5f62\u5bb9\u8a5e\u30fb\u30a2\u30a6\u30aa\u6bb5,\u9023\u7528\u30bf\u63a5\u7d9a,\u304a\u3082\u3057\u308d\u3044,\u30aa\u30e2\u30b7\u30ed\u30ab\u30c3,\u30aa\u30e2\u30b7\u30ed\u30ab\u30c3\">\u304a\u3082\u3057\u308d\u304b\u3063</tok>\n  <tok id=\"15\" feature=\"\u52a9\u52d5\u8a5e,*,*,*,\u7279\u6b8a\u30fb\u30bf,\u57fa\u672c\u5f62,\u305f,\u30bf,\u30bf\">\u305f</tok>\n  <tok id=\"16\" feature=\"\u540d\u8a5e,\u975e\u81ea\u7acb,\u4e00\u822c,*,*,*,\u306e,\u30ce,\u30ce\">\u306e</tok>\n  <tok id=\"17\" feature=\"\u52a9\u8a5e,\u4fc2\u52a9\u8a5e,*,*,*,*,\u306f,\u30cf,\u30ef\">\u306f</tok>\n  <tok id=\"18\" feature=\"\u8a18\u53f7,\u8aad\u70b9,*,*,*,*,\u3001,\u3001,\u3001\">\u3001</tok>\n </chunk>\n <chunk id=\"7\" link=\"8\" rel=\"D\" score=\"3.189624\" head=\"21\" func=\"22\">\n  <tok id=\"19\" feature=\"\u540d\u8a5e,\u56fa\u6709\u540d\u8a5e,\u4eba\u540d,\u59d3,*,*,\u6c60\u4e0a,\u30a4\u30b1\u30ac\u30df,\u30a4\u30b1\u30ac\u30df\">\u6c60\u4e0a</tok>\n  <tok id=\"20\" feature=\"\u540d\u8a5e,\u56fa\u6709\u540d\u8a5e,\u4eba\u540d,\u540d,*,*,\u82f1\u6d0b,\u30d2\u30c7\u30d2\u30ed,\u30d2\u30c7\u30d2\u30ed\">\u82f1\u6d0b</tok>\n  <tok id=\"21\" feature=\"\u540d\u8a5e,\u63a5\u5c3e,\u4eba\u540d,*,*,*,\u3055\u3093,\u30b5\u30f3,\u30b5\u30f3\">\u3055\u3093</tok>\n  <tok id=\"22\" feature=\"\u52a9\u8a5e,\u9023\u4f53\u5316,*,*,*,*,\u306e,\u30ce,\u30ce\">\u306e</tok>\n </chunk>\n <chunk id=\"8\" link=\"11\" rel=\"D\" score=\"-0.885691\" head=\"23\" func=\"23\">\n  <tok id=\"23\" feature=\"\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u8a18\u4e8b,\u30ad\u30b8,\u30ad\u30b8\">\u8a18\u4e8b</tok>\n  <tok id=\"24\" feature=\"\u8a18\u53f7,\u53e5\u70b9,*,*,*,*,\u3002,\u3002,\u3002\">\u3002</tok>\n </chunk>\n <chunk id=\"9\" link=\"10\" rel=\"D\" score=\"4.381583\" head=\"26\" func=\"27\">\n  <tok id=\"25\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u958b,*,*,*,*,\u300c,\u300c,\u300c\">\u300c</tok>\n  <tok id=\"26\" feature=\"\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u7d75\u753b,\u30ab\u30a4\u30ac,\u30ab\u30a4\u30ac\">\u7d75\u753b</tok>\n  <tok id=\"27\" feature=\"\u52a9\u8a5e,\u9023\u4f53\u5316,*,*,*,*,\u306e,\u30ce,\u30ce\">\u306e</tok>\n </chunk>\n <chunk id=\"10\" link=\"11\" rel=\"D\" score=\"-0.885691\" head=\"29\" func=\"31\">\n  <tok id=\"28\" feature=\"\u52d5\u8a5e,\u81ea\u7acb,*,*,\u4e00\u6bb5,\u9023\u7528\u5f62,\u898b\u308b,\u30df,\u30df\">\u898b</tok>\n  <tok id=\"29\" feature=\"\u540d\u8a5e,\u63a5\u5c3e,\u4e00\u822c,*,*,*,\u304b\u305f,\u30ab\u30bf,\u30ab\u30bf\">\u304b\u305f</tok>\n  <tok id=\"30\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u9589,*,*,*,*,\u300d,\u300d,\u300d\">\u300d</tok>\n  <tok id=\"31\" feature=\"\u52a9\u8a5e,\u683c\u52a9\u8a5e,\u9023\u8a9e,*,*,*,\u3063\u3066,\u30c3\u30c6,\u30c3\u30c6\">\u3063\u3066</tok>\n </chunk>\n <chunk id=\"11\" link=\"-1\" rel=\"D\" score=\"0.000000\" head=\"33\" func=\"36\">\n  <tok id=\"32\" feature=\"\u540d\u8a5e,\u30b5\u5909\u63a5\u7d9a,*,*,*,*,\u8d85\u7d76,\u30c1\u30e7\u30a6\u30bc\u30c4,\u30c1\u30e7\u30fc\u30bc\u30c4\">\u8d85\u7d76</tok>\n  <tok id=\"33\" feature=\"\u540d\u8a5e,\u5f62\u5bb9\u52d5\u8a5e\u8a9e\u5e79,*,*,*,*,\u5927\u4e8b,\u30c0\u30a4\u30b8,\u30c0\u30a4\u30b8\">\u5927\u4e8b</tok>\n  <tok id=\"34\" feature=\"\u52a9\u52d5\u8a5e,*,*,*,\u7279\u6b8a\u30fb\u30c0,\u57fa\u672c\u5f62,\u3060,\u30c0,\u30c0\">\u3060</tok>\n  <tok id=\"35\" feature=\"\u52a9\u8a5e,\u7d42\u52a9\u8a5e,*,*,*,*,\u3088,\u30e8,\u30e8\">\u3088</tok>\n  <tok id=\"36\" feature=\"\u52a9\u8a5e,\u7d42\u52a9\u8a5e,*,*,*,*,\u306d,\u30cd,\u30cd\">\u306d</tok>\n  <tok id=\"37\" feature=\"\u8a18\u53f7,\u53e5\u70b9,*,*,*,*,\u3002,\u3002,\u3002\">\u3002</tok>\n </chunk>\n</sentence>\n\n\u5404chunk\u306b\u542b\u307e\u308c\u308blink\u304c\u4e0b\u306b\u7d9a\u304fchunk id\u3068\u306e\u95a2\u9023\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u5b9f\u9a13\u7d50\u679c\n\u300c\u30af\u30fc\u30ea\u30a8\u300d<-\u300c\u304a\u3082\u3057\u308d\u3044\u300d\u3068\u3044\u3046\u95a2\u4fc2\u304c\u53d6\u5f97\u51fa\u6765\u307e\u3057\u305f\u3002\n\u305f\u3060\u3001\u4e0a\u306e\u30b3\u30fc\u30c9\u3060\u30681\u3064\u306e\u95a2\u4fc2\u6027\u3057\u304b\u53d6\u5f97\u51fa\u6765\u306a\u3044\u305f\u3081\u3001\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u66f4\u306b\u5de5\u592b\u304c\u5fc5\u8981\u3067\u3059\u306d\u3002\u3002\n\u304a\u624b\u6570\u3067\u3059\u304c\u9593\u9055\u3044\u3042\u308a\u307e\u3057\u305f\u3089\u3001\u3054\u6307\u6458\u3044\u305f\u3060\u3051\u307e\u3059\u3068\u52a9\u304b\u308a\u307e\u3059\u3002\ncabocha\u3092\u4f7f\u3063\u3066\u65e5\u672c\u8a9e\u306e\u4fc2\u308a\u53d7\u3051\u3092\u8abf\u3079\u308b\u30b3\u30fc\u30c9\u3092\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\u3068\u308a\u3042\u3048\u305a\u540d\u8a5e\u3068\u5f62\u5bb9\u8a5e\u306e\u95a2\u4fc2\u306e\u62bd\u51fa\u3092\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n# \u53c2\u8003\u6587\u732e\nCaboCha\u306ewindows\u74b0\u5883\u3078\u306einstall\u306a\u3069\u306fmima_ita\u3055\u3093\u306e\u30d6\u30ed\u30b0\u3092\u53c2\u8003\u306b\u3057\u3066\u9802\u3051\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n[Windows\u306bCabocha\u3092\u3044\u308c\u3066Python\u3067\u4fc2\u308a\u53d7\u3051\u3092\u89e3\u6790\u3057\u3066\u307f\u308b](http://needtec.exblog.jp/20555221/)\n\n# \u54c1\u8a5e\u3068\u8a9e\u306e\u9806\u3092\u7c21\u5358\u306b\u307e\u3068\u3081\u3066\u307f\u308b\n\u81ea\u7136\u8a00\u8a9e\u306b\u3064\u3044\u3066\u5c02\u9580\u7684\u306b\u52c9\u5f37\u3057\u305f\u4e8b\u306f\u3042\u308a\u307e\u305b\u3093\u3057\u3001\u8ad6\u6587\u7b49\u3067\u8abf\u67fb\u3057\u305f\u308f\u3051\u3067\u306f\u306a\u304f\u3001\u305f\u3093\u306a\u308b\u7d20\u4eba\u306e\u767a\u60f3\u3092\u4ee5\u4e0b\u306b\u8a18\u8f09\u81f4\u3057\u307e\u3059\u3002\n\n\u540d\u8a5e\u3001\u52d5\u8a5e\u3001\u5f62\u5bb9\u8a5e\u306b\u7d5e\u3063\u3066\u3001\u5358\u7d14\u306b\u76f4\u524d\u306e\u8a9e\u306e\u54c1\u8a5e\u3068\u306e\u95a2\u4fc2\u3092\u8003\u3048\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d1\u30bf\u30fc\u30f3\u306b\u308f\u3051\u3089\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n* \u540d\u8a5e \u2192 \u540d\u8a5e\uff1a\u300c\u25cb\u25cb\u304c\u25a1\u25a1\u3092\u898b\u305f\u300d\u306e\u3088\u3046\u306b\u3001\u5f8c\u308d\u306e\u540d\u8a5e\u304c\u5bfe\u8c61\u3092\u8868\u3059\n* \u540d\u8a5e \u2192 \u52d5\u8a5e\uff08\u2192 \u540d\u8a5e\uff09\uff1a\u300c\u25cb\u25cb\u304c\u898b\u305f\u25a1\u25a1\u306f\u300d\u306e\u3088\u3046\u306b\u3001\u4e3b\u8a9e\u306e\u52d5\u4f5c\u307e\u305f\u306f\u5bfe\u8c61\u3068\u306a\u308b\u5f8c\u308d\u306e\u540d\u8a5e\u306b\u5bfe\u3059\u308b\u52d5\u4f5c\u3092\u8868\u3059\n* \u540d\u8a5e \u2192 \u5f62\u5bb9\u8a5e\uff1a\u300c\u25cb\u25cb\u306f\u7f8e\u3057\u3044\u300d\u306e\u3088\u3046\u306b\u3001\u5bfe\u8c61\u3068\u306a\u308b\u8a9e\u3092\u4fee\u98fe\u3059\u308b\n* \u5f62\u5bb9\u8a5e \u2192 \u540d\u8a5e\uff1a\u300c\u7f8e\u3057\u3044\u25cb\u25cb\u300d\u306e\u3088\u3046\u306b\u3001\u5bfe\u8c61\u3068\u306a\u308b\u8a9e\u3092\u524d\u304b\u3089\u4fee\u98fe\u3059\u308b\n\n\u3053\u308c\u3092\u5143\u306b\u540d\u8a5e\u3068\u5f62\u5bb9\u8a5e\u306e\u95a2\u4fc2\u6027\u3092\u53d6\u5f97\u3059\u308b\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u4e0b\u3001\u30b3\u30fc\u30c9\u3092\u8a18\u8f09\u81f4\u3057\u307e\u3059\u3002\n\n# \u53c2\u8003\u30b3\u30fc\u30c9\n\n```py:\n# coding: utf-8\n\nimport CaboCha\nimport xml.etree.ElementTree as ET\nfrom collections import defaultdict\n\ndef get_reputation(ET_tree):\n    flag = None\n    reputation = defaultdict(str)\n\n    for el in ET_tree.findall(\".//chunk\"):        \n        tok = el.find(\"tok\")\n        feature = tok.attrib[\"feature\"].strip().split(',')\n        part = feature[0]\n        typ = feature[1]\n\n        if part=='\u540d\u8a5e' and \\\n            (typ=='\u4e00\u822c' or typ=='\u56fa\u6709\u540d\u8a5e'): \n                reputation[\"object\"]=tok.text\n        if part=='\u5f62\u5bb9\u8a5e': reputation['adjective']=feature[6]\n        link = el.attrib[\"link\"]\n        if link=='-1': break\n        while 1:\n            res = get_next_chunk(link,part)\n            if res==None: break\n            part, typ, word, link = res\n\n            if part=='\u540d\u8a5e' and \\\n                (typ=='\u4e00\u822c' or typ=='\u56fa\u6709\u540d\u8a5e'): \n                reputation[\"object\"]=word\n            if part=='\u5f62\u5bb9\u8a5e':\n                reputation['adjective'] = word\n                if reputation[\"object\"]!=None:\n                    flag=1\n                    break\n        if flag==1: break\n        \n    print reputation[\"object\"]\n    print reputation[\"adjective\"]\n\ndef get_next_chunk(linkid, ex_part):\n    if linkid=='-1': return None\n    this_chunk =  ET_tree.find(\".//chunk[@id='%s']\" % linkid)\n    #print this_chunk.attrib\n    link = this_chunk.attrib[\"link\"]\n        \n    tok = this_chunk.find('tok')\n    feature = tok.attrib[\"feature\"].strip().split(',')\n    if ex_part=='\u540d\u8a5e':\n        if feature[0]=='\u540d\u8a5e':\n            return feature[0], feature[1], tok.text, link\n        elif feature[0]=='\u52d5\u8a5e' or feature[0]=='\u5f62\u5bb9\u8a5e':\n            return feature[0], feature[1],  feature[6], link\n    elif ex_part=='\u52d5\u8a5e':\n        if feature[0]=='\u540d\u8a5e':\n            return feature[0], feature[1],  tok.text, link\n    elif ex_part=='\u5f62\u5bb9\u8a5e':\n        if feature[0]=='\u540d\u8a5e':\n            return feature[0], feature[1],  tok.text, link\n        \nif __name__=='__main__':\n    c = CaboCha.Parser('--charset=UTF8')\n    \n    sentence = \"\u30af\u30fc\u30ea\u30a8\u306e\uff16\u6708\u53f7\u300c\u697d\u3057\u304f\u5b66\u3076\u300e\u6559\u990a\u300f\u5165\u9580\u300d\u3067\u4e00\u756a\u304a\u3082\u3057\u308d\u304b\u3063\u305f\u306e\u306f\u3001\u6c60\u4e0a\u82f1\u6d0b\u3055\u3093\u306e\u8a18\u4e8b\u3002\u300c\u7d75\u753b\u306e\u898b\u304b\u305f\u300d\u3063\u3066\u8d85\u7d76\u5927\u4e8b\u3060\u3088\u306d\u3002\"\n    \n    tree =  c.parse(sentence)\n    #print tree.toString(CaboCha.FORMAT_TREE)\n    #print tree.toString(CaboCha.FORMAT_LATTICE)\n    print tree.toString(CaboCha.FORMAT_XML)\n    ET_tree = ET.fromstring(tree.toString(CaboCha.FORMAT_XML))\n    \n    get_reputation(ET_tree)\n```\n\u5404\u30c1\u30e3\u30f3\u30af\u6bce\u306b\u5148\u982d\u306etok\u3057\u304b\u53d6\u5f97\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u3053\u308c\u306f\u3001\u4e0a\u624b\u304f\u30c1\u30e3\u30f3\u30af\u306b\u5206\u3051\u308b\u3053\u3068\u304c\u51fa\u6765\u308c\u3070\u5148\u982d\u306etok\u306b\u610f\u5473\u306e\u3042\u308b\u8a9e\u304c\u6765\u308b\u306f\u305a\u3060\u304b\u3089\u3067\u3059\u3002\n\n# \u51fa\u529b\u7d50\u679c\n```\n\u300e\u30af\u30fc\u30ea\u30a8\u306e\uff16\u6708\u53f7\u300c\u697d\u3057\u304f\u5b66\u3076\u300e\u6559\u990a\u300f\u5165\u9580\u300d\u3067\u4e00\u756a\u304a\u3082\u3057\u308d\u304b\u3063\u305f\u306e\u306f\u3001\u6c60\u4e0a\u82f1\u6d0b\u3055\u3093\u306e\u8a18\u4e8b\u3002\u300c\u7d75\u753b\u306e\u898b\u304b\u305f\u300d\u3063\u3066\u8d85\u7d76\u5927\u4e8b\u3060\u3088\u306d\u3002\u300f\n```\n\u3063\u3066\u6587\u3092CaboCha\u3067\u89e3\u6790\u3057\u3066\u307f\u307e\u3057\u305f\u3002\nCaboCha\u306e\u89e3\u6790\u7d50\u679c\u3092XML\u51fa\u529b\u3057\u305f\u30e2\u30ce\u306f\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n```\n<sentence>\n <chunk id=\"0\" link=\"1\" rel=\"D\" score=\"0.328005\" head=\"0\" func=\"1\">\n  <tok id=\"0\" feature=\"\u540d\u8a5e,\u4e00\u822c,*,*,*,*,*,*,*,Wikipedia\">\u30af\u30fc\u30ea\u30a8</tok>\n  <tok id=\"1\" feature=\"\u52a9\u8a5e,\u9023\u4f53\u5316,*,*,*,*,\u306e,\u30ce,\u30ce\">\u306e</tok>\n </chunk>\n <chunk id=\"1\" link=\"4\" rel=\"D\" score=\"0.018011\" head=\"3\" func=\"3\">\n  <tok id=\"2\" feature=\"\u540d\u8a5e,\u526f\u8a5e\u53ef\u80fd,*,*,*,*,\uff16\u6708,\u30ed\u30af\u30ac\u30c4,\u30ed\u30af\u30ac\u30c4\">\uff16\u6708</tok>\n  <tok id=\"3\" feature=\"\u540d\u8a5e,\u63a5\u5c3e,\u4e00\u822c,*,*,*,\u53f7,\u30b4\u30a6,\u30b4\u30fc\">\u53f7</tok>\n </chunk>\n <chunk id=\"2\" link=\"3\" rel=\"D\" score=\"1.140087\" head=\"5\" func=\"5\">\n  <tok id=\"4\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u958b,*,*,*,*,\u300c,\u300c,\u300c\">\u300c</tok>\n  <tok id=\"5\" feature=\"\u5f62\u5bb9\u8a5e,\u81ea\u7acb,*,*,\u5f62\u5bb9\u8a5e\u30fb\u30a4\u6bb5,\u9023\u7528\u30c6\u63a5\u7d9a,\u697d\u3057\u3044,\u30bf\u30ce\u30b7\u30af,\u30bf\u30ce\u30b7\u30af\">\u697d\u3057\u304f</tok>\n </chunk>\n <chunk id=\"3\" link=\"4\" rel=\"D\" score=\"2.891449\" head=\"6\" func=\"6\">\n  <tok id=\"6\" feature=\"\u52d5\u8a5e,\u81ea\u7acb,*,*,\u4e94\u6bb5\u30fb\u30d0\u884c,\u57fa\u672c\u5f62,\u5b66\u3076,\u30de\u30ca\u30d6,\u30de\u30ca\u30d6\">\u5b66\u3076</tok>\n </chunk>\n <chunk id=\"4\" link=\"6\" rel=\"D\" score=\"1.654218\" head=\"10\" func=\"12\">\n  <tok id=\"7\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u958b,*,*,*,*,\u300e,\u300e,\u300e\">\u300e</tok>\n  <tok id=\"8\" feature=\"\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u6559\u990a,\u30ad\u30e7\u30a6\u30e8\u30a6,\u30ad\u30e7\u30fc\u30e8\u30fc\">\u6559\u990a</tok>\n  <tok id=\"9\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u9589,*,*,*,*,\u300f,\u300f,\u300f\">\u300f</tok>\n  <tok id=\"10\" feature=\"\u540d\u8a5e,\u30b5\u5909\u63a5\u7d9a,*,*,*,*,\u5165\u9580,\u30cb\u30e5\u30a6\u30e2\u30f3,\u30cb\u30e5\u30fc\u30e2\u30f3\">\u5165\u9580</tok>\n  <tok id=\"11\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u9589,*,*,*,*,\u300d,\u300d,\u300d\">\u300d</tok>\n  <tok id=\"12\" feature=\"\u52a9\u8a5e,\u683c\u52a9\u8a5e,\u4e00\u822c,*,*,*,\u3067,\u30c7,\u30c7\">\u3067</tok>\n </chunk>\n <chunk id=\"5\" link=\"6\" rel=\"D\" score=\"2.796273\" head=\"13\" func=\"13\">\n  <tok id=\"13\" feature=\"\u540d\u8a5e,\u526f\u8a5e\u53ef\u80fd,*,*,*,*,\u4e00\u756a,\u30a4\u30c1\u30d0\u30f3,\u30a4\u30c1\u30d0\u30f3\">\u4e00\u756a</tok>\n </chunk>\n <chunk id=\"6\" link=\"8\" rel=\"D\" score=\"1.346988\" head=\"16\" func=\"17\">\n  <tok id=\"14\" feature=\"\u5f62\u5bb9\u8a5e,\u81ea\u7acb,*,*,\u5f62\u5bb9\u8a5e\u30fb\u30a2\u30a6\u30aa\u6bb5,\u9023\u7528\u30bf\u63a5\u7d9a,\u304a\u3082\u3057\u308d\u3044,\u30aa\u30e2\u30b7\u30ed\u30ab\u30c3,\u30aa\u30e2\u30b7\u30ed\u30ab\u30c3\">\u304a\u3082\u3057\u308d\u304b\u3063</tok>\n  <tok id=\"15\" feature=\"\u52a9\u52d5\u8a5e,*,*,*,\u7279\u6b8a\u30fb\u30bf,\u57fa\u672c\u5f62,\u305f,\u30bf,\u30bf\">\u305f</tok>\n  <tok id=\"16\" feature=\"\u540d\u8a5e,\u975e\u81ea\u7acb,\u4e00\u822c,*,*,*,\u306e,\u30ce,\u30ce\">\u306e</tok>\n  <tok id=\"17\" feature=\"\u52a9\u8a5e,\u4fc2\u52a9\u8a5e,*,*,*,*,\u306f,\u30cf,\u30ef\">\u306f</tok>\n  <tok id=\"18\" feature=\"\u8a18\u53f7,\u8aad\u70b9,*,*,*,*,\u3001,\u3001,\u3001\">\u3001</tok>\n </chunk>\n <chunk id=\"7\" link=\"8\" rel=\"D\" score=\"3.189624\" head=\"21\" func=\"22\">\n  <tok id=\"19\" feature=\"\u540d\u8a5e,\u56fa\u6709\u540d\u8a5e,\u4eba\u540d,\u59d3,*,*,\u6c60\u4e0a,\u30a4\u30b1\u30ac\u30df,\u30a4\u30b1\u30ac\u30df\">\u6c60\u4e0a</tok>\n  <tok id=\"20\" feature=\"\u540d\u8a5e,\u56fa\u6709\u540d\u8a5e,\u4eba\u540d,\u540d,*,*,\u82f1\u6d0b,\u30d2\u30c7\u30d2\u30ed,\u30d2\u30c7\u30d2\u30ed\">\u82f1\u6d0b</tok>\n  <tok id=\"21\" feature=\"\u540d\u8a5e,\u63a5\u5c3e,\u4eba\u540d,*,*,*,\u3055\u3093,\u30b5\u30f3,\u30b5\u30f3\">\u3055\u3093</tok>\n  <tok id=\"22\" feature=\"\u52a9\u8a5e,\u9023\u4f53\u5316,*,*,*,*,\u306e,\u30ce,\u30ce\">\u306e</tok>\n </chunk>\n <chunk id=\"8\" link=\"11\" rel=\"D\" score=\"-0.885691\" head=\"23\" func=\"23\">\n  <tok id=\"23\" feature=\"\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u8a18\u4e8b,\u30ad\u30b8,\u30ad\u30b8\">\u8a18\u4e8b</tok>\n  <tok id=\"24\" feature=\"\u8a18\u53f7,\u53e5\u70b9,*,*,*,*,\u3002,\u3002,\u3002\">\u3002</tok>\n </chunk>\n <chunk id=\"9\" link=\"10\" rel=\"D\" score=\"4.381583\" head=\"26\" func=\"27\">\n  <tok id=\"25\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u958b,*,*,*,*,\u300c,\u300c,\u300c\">\u300c</tok>\n  <tok id=\"26\" feature=\"\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u7d75\u753b,\u30ab\u30a4\u30ac,\u30ab\u30a4\u30ac\">\u7d75\u753b</tok>\n  <tok id=\"27\" feature=\"\u52a9\u8a5e,\u9023\u4f53\u5316,*,*,*,*,\u306e,\u30ce,\u30ce\">\u306e</tok>\n </chunk>\n <chunk id=\"10\" link=\"11\" rel=\"D\" score=\"-0.885691\" head=\"29\" func=\"31\">\n  <tok id=\"28\" feature=\"\u52d5\u8a5e,\u81ea\u7acb,*,*,\u4e00\u6bb5,\u9023\u7528\u5f62,\u898b\u308b,\u30df,\u30df\">\u898b</tok>\n  <tok id=\"29\" feature=\"\u540d\u8a5e,\u63a5\u5c3e,\u4e00\u822c,*,*,*,\u304b\u305f,\u30ab\u30bf,\u30ab\u30bf\">\u304b\u305f</tok>\n  <tok id=\"30\" feature=\"\u8a18\u53f7,\u62ec\u5f27\u9589,*,*,*,*,\u300d,\u300d,\u300d\">\u300d</tok>\n  <tok id=\"31\" feature=\"\u52a9\u8a5e,\u683c\u52a9\u8a5e,\u9023\u8a9e,*,*,*,\u3063\u3066,\u30c3\u30c6,\u30c3\u30c6\">\u3063\u3066</tok>\n </chunk>\n <chunk id=\"11\" link=\"-1\" rel=\"D\" score=\"0.000000\" head=\"33\" func=\"36\">\n  <tok id=\"32\" feature=\"\u540d\u8a5e,\u30b5\u5909\u63a5\u7d9a,*,*,*,*,\u8d85\u7d76,\u30c1\u30e7\u30a6\u30bc\u30c4,\u30c1\u30e7\u30fc\u30bc\u30c4\">\u8d85\u7d76</tok>\n  <tok id=\"33\" feature=\"\u540d\u8a5e,\u5f62\u5bb9\u52d5\u8a5e\u8a9e\u5e79,*,*,*,*,\u5927\u4e8b,\u30c0\u30a4\u30b8,\u30c0\u30a4\u30b8\">\u5927\u4e8b</tok>\n  <tok id=\"34\" feature=\"\u52a9\u52d5\u8a5e,*,*,*,\u7279\u6b8a\u30fb\u30c0,\u57fa\u672c\u5f62,\u3060,\u30c0,\u30c0\">\u3060</tok>\n  <tok id=\"35\" feature=\"\u52a9\u8a5e,\u7d42\u52a9\u8a5e,*,*,*,*,\u3088,\u30e8,\u30e8\">\u3088</tok>\n  <tok id=\"36\" feature=\"\u52a9\u8a5e,\u7d42\u52a9\u8a5e,*,*,*,*,\u306d,\u30cd,\u30cd\">\u306d</tok>\n  <tok id=\"37\" feature=\"\u8a18\u53f7,\u53e5\u70b9,*,*,*,*,\u3002,\u3002,\u3002\">\u3002</tok>\n </chunk>\n</sentence>\n```\n\u5404chunk\u306b\u542b\u307e\u308c\u308blink\u304c\u4e0b\u306b\u7d9a\u304fchunk id\u3068\u306e\u95a2\u9023\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n# \u5b9f\u9a13\u7d50\u679c\n\u300c\u30af\u30fc\u30ea\u30a8\u300d<-\u300c\u304a\u3082\u3057\u308d\u3044\u300d\u3068\u3044\u3046\u95a2\u4fc2\u304c\u53d6\u5f97\u51fa\u6765\u307e\u3057\u305f\u3002\n\u305f\u3060\u3001\u4e0a\u306e\u30b3\u30fc\u30c9\u3060\u30681\u3064\u306e\u95a2\u4fc2\u6027\u3057\u304b\u53d6\u5f97\u51fa\u6765\u306a\u3044\u305f\u3081\u3001\u8907\u6570\u3042\u308b\u5834\u5408\u306f\u66f4\u306b\u5de5\u592b\u304c\u5fc5\u8981\u3067\u3059\u306d\u3002\u3002\n\n\u304a\u624b\u6570\u3067\u3059\u304c\u9593\u9055\u3044\u3042\u308a\u307e\u3057\u305f\u3089\u3001\u3054\u6307\u6458\u3044\u305f\u3060\u3051\u307e\u3059\u3068\u52a9\u304b\u308a\u307e\u3059\u3002\n", "tags": ["Python2.7", "NLP", "\u6a5f\u68b0\u5b66\u7fd2"]}