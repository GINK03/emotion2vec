{"context": " More than 1 year has passed since last update.\n\n\u30a2\u30d7\u30ea\u767b\u9332\nYouTube Data API\u3092on\u306b\u3059\u308b\u3002\nhttps://console.developers.google.com/project\n\ngoogle-api-python-client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\npip install --upgrade google-api-python-client\nhttps://github.com/google/google-api-python-client\n\ndoc\nhttps://developers.google.com/youtube/v3/docs/channels/list\n\n\u516c\u5f0f\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3000\nsample: https://developers.google.com/youtube/v3/code_samples/python?hl=ja\n\n\u5b8c\u6210\u30b3\u30fc\u30c9\nDjango\u306eviews.py\u304b\u3089\u629c\u304d\u51fa\u3057\nfrom django.shortcuts import render\nfrom django.http import HttpResponseRedirect, HttpResponse\n\n\nfrom oauth2client.client import OAuth2WebServerFlow\nimport httplib2\nfrom apiclient.discovery import build\n\nCLIENT_ID = 'xxxxx'\nCLIENT_SECRET = 'xxxxx'\nFLOW = OAuth2WebServerFlow(\n    client_id=CLIENT_ID,\n    client_secret=CLIENT_SECRET,\n    scope='https://www.googleapis.com/auth/youtube',\n    redirect_uri='http://localhost:8000/account/fetch_channel/on_auth/'\n)\n\n\ndef index_view(request):\n    return render(request, 'index.html', {})\n\n\ndef fetch_channel(request):\n    auth_uri = FLOW.step1_get_authorize_url()\n    return HttpResponseRedirect(auth_uri)\n\n\ndef fetch_channel_on_auth(request):\n    code = request.GET.get('code', None)\n    credentials = FLOW.step2_exchange(code)\n    http = httplib2.Http()\n    http = credentials.authorize(http)\n    service = build('youtube', 'v3', http=http)\n    r = service.channels().list(\n        mine=True,\n        part=\"snippet\"\n    ).execute()\n    username = r['items'][0]['snippet']['title']\n    return HttpResponse(username)\n\n\n\n## \u30a2\u30d7\u30ea\u767b\u9332\n\nYouTube Data API\u3092on\u306b\u3059\u308b\u3002\n\n\n\n\n\nhttps://console.developers.google.com/project\n\n\n## google-api-python-client\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n\n`pip install --upgrade google-api-python-client`\n\nhttps://github.com/google/google-api-python-client\n\n\n\n## doc\n\nhttps://developers.google.com/youtube/v3/docs/channels/list\n\n\n\n## \u516c\u5f0f\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3000\nsample: https://developers.google.com/youtube/v3/code_samples/python?hl=ja\n\n\n\n## \u5b8c\u6210\u30b3\u30fc\u30c9\n\nDjango\u306eviews.py\u304b\u3089\u629c\u304d\u51fa\u3057\n\n```python\nfrom django.shortcuts import render\nfrom django.http import HttpResponseRedirect, HttpResponse\n \n\nfrom oauth2client.client import OAuth2WebServerFlow\nimport httplib2\nfrom apiclient.discovery import build\n \nCLIENT_ID = 'xxxxx'\nCLIENT_SECRET = 'xxxxx'\nFLOW = OAuth2WebServerFlow(\n    client_id=CLIENT_ID,\n    client_secret=CLIENT_SECRET,\n    scope='https://www.googleapis.com/auth/youtube',\n    redirect_uri='http://localhost:8000/account/fetch_channel/on_auth/'\n)\n \n \ndef index_view(request):\n    return render(request, 'index.html', {})\n \n \ndef fetch_channel(request):\n    auth_uri = FLOW.step1_get_authorize_url()\n    return HttpResponseRedirect(auth_uri)\n \n \ndef fetch_channel_on_auth(request):\n    code = request.GET.get('code', None)\n    credentials = FLOW.step2_exchange(code)\n    http = httplib2.Http()\n    http = credentials.authorize(http)\n    service = build('youtube', 'v3', http=http)\n    r = service.channels().list(\n        mine=True,\n        part=\"snippet\"\n    ).execute()\n    username = r['items'][0]['snippet']['title']\n    return HttpResponse(username)\n```\n", "tags": ["Python", "YouTube"]}