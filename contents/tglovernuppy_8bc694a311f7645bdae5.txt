{"context": "\n\nAbstract\nUbuntu 16.04 LTS (Xenial) \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u305f Conjure-up 2.0.1 \u304c\u5148\u65e5\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002\u65b0\u3057\u3044 Conjure-up \u3092\u4f7f\u3063\u3066Ubuntu\u30de\u30b7\u30f3\u4e00\u53f0\u3067 OpenStack Mitaka \u3092\u69cb\u7bc9\u3057\u3066\u307f\u305f\u306e\u3067\u305d\u306e\u624b\u9806\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nConjure-up \u3068\u306f\nConjure-up \u306f\u3001Kubernates\u3084DeepLearning\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3068\u3044\u3063\u305f\u3001\u5c0e\u5165\u306b\u624b\u9593\u306e\u304b\u304b\u308b\u5927\u898f\u6a21\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u3001 Juju \u3084 LXD \u3092\u4f7f\u3063\u3066\u3067\u304d\u308b\u3060\u3051\u7c21\u5358\u306b\u5c0e\u5165\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002GitHub\u4e0a\u306b\u30ea\u30dd\u30b8\u30c8\u30ea\u304c\u3042\u308a\u3001\u30d0\u30fc\u30b8\u30e7\u30f32.0\u306e\u30d9\u30fc\u30bf\u7248\u516c\u958b\u304b\u3089\u9577\u3089\u304f\u958b\u767a\u304c\u9032\u3081\u3089\u308c\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u5148\u65e5\u3088\u3046\u3084\u304f2.0.1\u30ea\u30ea\u30fc\u30b9\u7248\u304c\u516c\u958b\u3055\u308c\u307e\u3057\u305f\u3002\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u5c0e\u5165\u3092\u3069\u306e\u3088\u3046\u306b\u7c21\u5358\u5316\u3059\u308b\u304b\u3001\u5168\u4f53\u50cf\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3082\u3001Conjure-up \u304c\u7528\u3044\u3066\u3044\u308b Juju \u3068 LXD \u306b\u3064\u3044\u3066\u8aac\u660e\u3092\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nJuju: \u30c7\u30d7\u30ed\u30a4\u30c4\u30fc\u30eb\nJuju \u306f Apache \u3084 MySQL \u3068\u3044\u3063\u305f\u30af\u30e9\u30a6\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u3001\u8a2d\u5b9a\u3001\u7ba1\u7406\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b Ubuntu \u7528\u306e\u30c4\u30fc\u30eb\u3067\u3059\u3002\u30c7\u30d7\u30ed\u30a4\u30c4\u30fc\u30eb\u3068\u3044\u3046\u3068 Chef \u3084 Puppet \u304c\u3042\u308a\u307e\u3059\u304c\u3001 Juju \u306f\u305d\u308c\u3089\u306e Ubuntu \u306b\u7279\u5316\u3057\u305f\u3082\u306e\u3068\u3044\u3046\u4f4d\u7f6e\u3065\u3051\u3067\u3057\u3087\u3046\u304b[2]\u3002\u8a73\u3057\u3044\u8aac\u660e\u306f\u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u304c\u3001 Juju \u3067\u306f\u5404\u30af\u30e9\u30a6\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092 Charm \u3068\u3044\u3046\u5358\u4f4d\u3067\u6271\u3044\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b Charm \u306b\u66f8\u304b\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067 Docker \u3084 LXD \u3067\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u308a\u3001\u305d\u306e\u4e0a\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u3092\u884c\u3044\u307e\u3059\u3002\n\u8907\u96dc\u306a\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306e\u8a2d\u5b9a\u3084\u7ba1\u7406\u3092\u884c\u3046\u3053\u306e\u3088\u3046\u306a\u30c4\u30fc\u30eb\u306f\u30b5\u30fc\u30d3\u30b9\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3068\u547c\u3070\u308c\u3066\u3044\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\nLXD: \u30b3\u30f3\u30c6\u30ca\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\nLXD (Linux Container Daemon) \u306f LXC (Linux Container) \u3092\u4f7f\u3063\u3066\u4e00\u3064\u306e\u30de\u30b7\u30f3\u4e0a\u3067\u8907\u6570\u306eLinux\u30b7\u30b9\u30c6\u30e0\u3092\u8d70\u3089\u305b\u308b\u30b3\u30f3\u30c6\u30ca\u4eee\u60f3\u5316\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\u4f3c\u305f\u3088\u3046\u306a\u30c4\u30fc\u30eb\u3068\u3057\u3066 Docker \u304c\u3042\u308a\u307e\u3059\u304c\u3001 Docker \u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5358\u4f4d\u3067\u306e\u9694\u96e2\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u308b\u306e\u306b\u5bfe\u3057\u3001 LXD \u3067\u306f\u30b7\u30b9\u30c6\u30e0\u5358\u4f4d\u3067\u306e\u9694\u96e2\u3092\u76ee\u7684\u3068\u3057\u3066\u304a\u308a REST API \u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u306a\u3069\u306e\u9055\u3044\u304c\u3042\u308a\u307e\u3059[1]\u3002\n\nConjure-up \u306f\u4f55\u3092\u3059\u308b\u304b\n\u3067\u306f Conjure-up \u306f Juju \u3084 LXD \u3092\u4f7f\u3063\u3066\u3069\u306e\u3088\u3046\u306b\u5927\u898f\u6a21\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u5c0e\u5165\u3092\u652f\u63f4\u3059\u308b\u304b\u3001\u3068\u8a00\u3046\u8a71\u3067\u3059\u304c\u3001 OpenStack \u3092\u4f8b\u306b\u3068\u3063\u3066\u8aac\u660e\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nOpenStack \u306f\u30af\u30e9\u30a6\u30c9\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3059\u304c\u3001\u5358\u4f53\u3067\u306f\u306a\u304f\u4ee5\u4e0b\u306b\u4e0a\u3052\u305f\u3088\u3046\u306a\u8907\u6570\u306e\u69cb\u6210\u8981\u7d20\u304b\u3089\u6210\u3063\u3066\u3044\u307e\u3059\u3002\n\n\nNova: \u4eee\u60f3\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u52d5\u4f5c\u3055\u305b\u308b\n\nNeutron: \u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u69cb\u6210\u3068\u7ba1\u7406\u3092\u62c5\u3046\n\nCinder: \u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u63d0\u4f9b\u3059\u308b\n\nKeystone: \u8a8d\u8a3c\u60c5\u5831\u3092\u7ba1\u7406\u3059\u308b\n\nGlance: \u4eee\u60f3\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8d77\u52d5\u30a4\u30e1\u30fc\u30b8\u3092\u7ba1\u7406\u3059\u308b\n\nSwift: \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u63d0\u4f9b\u3059\u308b\n\nHorizon: \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9(Web UI)\u3092\u63d0\u4f9b\u3059\u308b\n...\n\n\u7406\u60f3\u7684\u306b\u306f\u3053\u308c\u3089\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u5225\u3005\u306e\u7269\u7406\u30de\u30b7\u30f3\u3067\u7acb\u3061\u4e0a\u3052\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3001\u672c\u683c\u7684\u306b\u904b\u7528\u3059\u308b\u308f\u3051\u3067\u306a\u3051\u308c\u30701\u53f0\u306e\u30de\u30b7\u30f3\u3060\u3051\u3067\u5b8c\u7d50\u3057\u305f\u3044\u8a33\u3067\u3059\u3002\n\u305d\u3053\u3067\u8003\u3048\u3089\u308c\u305f\u306e\u304c LXD \u3092\u4f7f\u3063\u3066\u5404\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u305d\u308c\u305e\u308c\u306e\u30b3\u30f3\u30c6\u30ca\u3067\u52d5\u304b\u3057\u30011\u53f0\u306e\u7269\u7406\u30de\u30b7\u30f3\u4e0a\u3067\u52d5\u304f\u8907\u6570\u53f0\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3067 OpenStack \u3092\u69cb\u6210\u3059\u308b\u65b9\u6cd5\u3002\n\u3055\u3089\u306b\u3001\u5404\u30b3\u30f3\u30c6\u30ca\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092 Juju \u3067\u81ea\u52d5\u5316\u3057\u3066\u3057\u307e\u3048\u3070\u3001\u30b3\u30de\u30f3\u30c9\u4e00\u767a\u3067LXD \u30b3\u30f3\u30c6\u30ca\u306e\u4f5c\u6210\u304b\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u3001\u8a2d\u5b9a\u307e\u3067\u3092\u884c\u3048\u308b\u306e\u3067\u306f\u3068\u3002\u3053\u308c\u3092\u3084\u3063\u305f\u306e\u304c conjure-up \u3067\u3059\u3002\n\u540c\u69d8\u306b\u3001conjure-up \u3092\u4f7f\u3048\u3070\u8907\u6570\u306e\u69cb\u6210\u8981\u7d20\u304b\u3089\u306a\u308b\u5927\u898f\u6a21\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3084\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092 Juju \u3084\u3089 LXD \u3084\u3089\u3092\u4f7f\u3063\u3066\u7c21\u5358\u306b\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u308b\u308f\u3051\u3067\u3059\u306d\u3002\n\n\u4f5c\u696d\u74b0\u5883\n\u524d\u7f6e\u304d\u304c\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u304b\u3089\u306f\u5b9f\u969b\u306b conjure-up \u3092\u4f7f\u3063\u3066 OpenStack Mitaka \u3092\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f Ubuntu Server \u3092\u30af\u30ea\u30fc\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u7269\u7406\u30de\u30b7\u30f31\u53f0\u3092\u4f7f\u3063\u3066\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n\n\n\u9805\u76ee\n\u5024\n\n\n\n\n\u30db\u30b9\u30c8\u540d\ncuriosity\n\n\nOS\nUbuntu 16.04 LTS\n\n\nCPU\nIntel Core i7-3820\n\n\n\u30e1\u30e2\u30ea\n64GB\n\n\n\u30b9\u30c8\u30ec\u30fc\u30b8\n/dev/sda: 512 GB SSD x 1  /dev/sdb: 3TB HDD x 1\n\n\nNIC\n1000-base ethernet x 1\n\n\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u3001OpenStack \u3092\u69cb\u6210\u3059\u308b LXD \u30b3\u30f3\u30c6\u30ca\u81ea\u4f53\u3001\u304a\u3088\u3073 OpenStack \u4e0a\u3067\u52d5\u304f nova \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4e21\u65b9\u306e\u30c7\u30fc\u30bf\u3092 \u30db\u30b9\u30c8\u5074OS\u3068\u306f\u9694\u96e2\u3057\u3066 /dev/sdb \u4e0a\u306b\u914d\u7f6e\u3057\u307e\u3059\u3002\u306a\u304a\u3001\u3053\u306e\u69cb\u6210\u306f\u30de\u30b9\u30c8\u3067\u306f\u7121\u304f\u3001\u30db\u30b9\u30c8\u5074OS\u3068\u540c\u3058\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u3082\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u300c01. \u4e8b\u524d\u6e96\u5099: ZFS \u3068 LXD \u306e\u69cb\u7bc9\u300d\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001\u57f7\u7b46\u6642\u70b9\u3067\u306e\u5404\u7a2e\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\nlxd: 2.0.4-0ubuntu1~ubuntu16.04.1\n\njuju-2.0: 2.0-rc3-0ubuntu1~16.04.1~juju1\n\nconjure-up: 2.0.1-0~201610061938~ubuntu16.04.1\n\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u9055\u3044\u306b\u3088\u3063\u3066 conjure-up \u306e\u904e\u7a0b\u3067\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u305f\u308a\u4e0a\u624b\u304f\u884c\u304b\u306a\u304b\u3063\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n01. \u4e8b\u524d\u6e96\u50991: ZFS \u3068 LXD \u306e\u69cb\u7bc9\nLXD 2.0 \u3067\u306f\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u5148\u3068\u3057\u3066 Linux \u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u52a0\u3048 Ubuntu 16.04 \u304b\u3089\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f ZFS \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u9078\u629e\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u6b21\u4e16\u4ee3\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3068\u3055\u308c\u3066\u3044\u308b ZFS \u3092\u4f7f\u3046\u30e1\u30ea\u30c3\u30c8\u306f\u6ca2\u5c71\u3042\u308b\u307f\u305f\u3044[4]\u306a\u306e\u3067\u3001\u4eca\u56de\u306f ZFS \u3092\u4f7f\u3044\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nZFS \u3068 LXD \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo apt install lxd zfs\n\n\nLXD \u521d\u671f\u5316\n\u203b [\u6ce8\u610f] \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306f SSH \u7d4c\u7531\u3067\u7121\u304f\u30de\u30b7\u30f3\u4e0a\u3067\u76f4\u63a5\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3067\u306a\u3044\u3068\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30d6\u30ea\u30c3\u30b8\u306e\u8a2d\u5b9a\u306e\u9805\u76ee\u3067 SSH \u304c\u5207\u65ad\u3055\u308c\u64cd\u4f5c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n$ sudo lxd init\nName of the storage backend to use (dir or zfs): zfs\nCreate a new ZFS pool (yes/no)? yes\nName of the new ZFS pool: openstack\nWould you like to use an existing block device (yes/no)? yes\nPath to the existing block device: /dev/sdb\nWould you like LXD to be available over the network (yes/no)? no\nDo you want to configure the LXD bridge (yes/no)? yes\nLXD has been successfully configured.\n\n\u203b ZFS \u3092\u5225\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u4f5c\u3089\u306a\u3044\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\n$ sudo lxd init\nName of the storage backend to use (dir or zfs): zfs\nCreate a new ZFS pool (yes/no)? yes\nName of the new ZFS pool: openstack\nWould you like to use an existing block device (yes/no)? no\nSize in GB of the new loop device (1GB minimum): 100\nWould you like LXD to be available over the network (yes/no)? no\nDo you want to configure the LXD bridge (yes/no)? yes\nLXD has been successfully configured.\n\n\n02. \u4e8b\u524d\u6e96\u50992: Nested VT-x \u306e\u6709\u52b9\u5316\nLXD\u4e0a\u3067\u306eLXD\u306e\u5b9f\u884c\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u306b Nested VT-x \u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\nNested VT-x \u304c\u6709\u52b9\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ cat /sys/module/kvm_intel/parameters/nested\nN\n\nN \u306a\u3089\u7121\u52b9\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\n$ sudo rmmod kvm-intel\n$ sudo sh -c \"echo 'options kvm-intel nested=y' >> /etc/modprobe.d/dist.conf\"\n$ sudo modprobe kvm-intel\n$ cat /sys/module/kvm_intel/parameters/nested\nY\n\n\n03. Conjure-up \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\napt \u3078\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\u3092\u3057\u307e\u3059\u3002\n$ sudo apt-add-repository ppa:conjure-up/next\n$ sudo apt-add-repository ppa:juju/devel\n$ sudo apt update\n\n\u305d\u306e\u5f8c conjure-up \u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n$ sudo apt install conjure-up\n\n\n04. OpenStack \u69cb\u7bc9\n\n1. conjure-up\nconjure-up \u30b3\u30de\u30f3\u30c9\u3067 OpenStack \u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n$ conjure-up openstack\n\n\n2. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\n\u30b9\u30af\u30ea\u30fc\u30f3\u304c\u7acb\u3061\u4e0a\u304c\u308b\u306e\u3067 OpenStack with NovaLXD \u3092\u9078\u629e.\n\n\u305d\u306e\u5f8c\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4e00\u89a7\u3068\u8a2d\u5b9a\u9805\u76ee\u306e\u753b\u9762\u304c\u51fa\u308b\u306e\u3067\u3001\u305d\u306e\u307e\u307e Deploy all 15 Remaining Applications \u3092\u62bc\u3057\u307e\u3059\u3002\n\u3068\u3044\u304d\u305f\u3044\u3068\u3053\u308d\u306a\u306e\u3067\u3059\u304c\u3001\u7b46\u8005\u306e\u74b0\u5883\u3067\u306f15\u500b\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3059\u3079\u3066\u3092\u540c\u6642\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u3068\u3053\u308d\u3001 rabbitmq-server \u306e\u30c7\u30d7\u30ed\u30a4\u306b\u5931\u6557\u3057\u3066\u9014\u4e2d\u3067\u30b3\u30b1\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\u89e3\u6c7a\u7b56\u3068\u3057\u3066 rabbitmq-server \u3060\u3051\u3092\u6700\u521d\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u3001\u5f8c\u8ff0\u3059\u308b Troubleshooting \u306b\u3042\u308b\u901a\u308a rabbitmq-server \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u3068\u53cd\u6620\u3092\u884c\u3063\u305f\u5f8c\u306b\u6b8b\u308a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3059\u3079\u3066\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3068\u4e0a\u624b\u304f\u3044\u304d\u307e\u3057\u305f\u3002 \uff08\u8a73\u3057\u304f\u306fGithub \u306e issue #489\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\uff09\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002\n\n\u9032\u6357\u304c\u6c17\u306b\u306a\u308b\u4eba\u306f\u3001\u5225\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u3044\u3066\n$ watch juju status\n\n\u3084\n$ juju debug-log\n\n\u3068\u3057\u3066\u307f\u308b\u3068\u72b6\u6cc1\u304c\u308f\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n3. \u6307\u793a\u306b\u5f93\u3063\u3066\u5f8c\u51e6\u7406\n\u3059\u3079\u3066\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u304c\u7d42\u308f\u308b\u3068\u3001 \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u753b\u9762\u306b\u9077\u79fb\u3057\u307e\u3059\u3002\n\u30a8\u30f3\u30bf\u30fc\u3092\u62bc\u3057\u3066\u30b9\u30c6\u30c3\u30d7\u3092\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\nStep 1. Glance \u3078\u306e Ubuntu Trusty (14.04) \u3068 Ubuntu Xenial (16.04) \u8d77\u52d5\u30a4\u30e1\u30fc\u30b8\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n\nStep 2. SSH \u30ad\u30fc\u30da\u30a2\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n\nStep 3. Neutron \u306e\u8a2d\u5b9a\n\nStep 4. Horizon \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306e\u8a2d\u5b9a\n\n\u30c7\u30d7\u30ed\u30a4\u5b8c\u4e86\n\n\u30b5\u30de\u30ea\u30fc\n\n\u4ee5\u4e0a\u3067\u69cb\u7bc9\u5b8c\u4e86\u3067\u3059\u3002\n\n05. \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3078\u306e\u30a2\u30af\u30bb\u30b9\nopenstack-dashboard/0 \u30e6\u30cb\u30c3\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ juju status\n...\nopenstack-dashboard/0    active    idle   14       10.19.198.23    80/tcp,443/tcp  Unit is ready\n...\n\n\u30db\u30b9\u30c8\u5074\u304b\u3089 openstack-dashboard/0 \u3078\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u3092\u4f5c\u308b\u305f\u3081\u3001 apache2 \u3092\u5165\u308c\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n$ sudo apt install apache2\n$ sudo a2enmod proxy\n$ sudo vim /etc/apache2/sites-enabled/000-default.conf\n--> \u4ee5\u4e0b\u3001<VirtualHost />\u5185\u306b\u8ffd\u8a18\n---\n        <IfModule mod_proxy.c>\n        ProxyPass / http://10.19.198.23/\n        ProxyPassReverse / http://10.19.198.23/\n        </IfModule>\n---\n\n\u4ee5\u4e0a\u3067\u5b8c\u4e86\u3002\nhttp://\u30db\u30b9\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9/horizon \u3092\u30d6\u30e9\u30a6\u30b6\u3067\u958b\u304d\u3001\u30e6\u30fc\u30b6\u540d admin, \u30d1\u30b9\u30ef\u30fc\u30c9 openstack \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\n\n\nTroubleshooting\n\n1. rabbitmq-server \u306e\u7acb\u3061\u4e0a\u3052\u306b\u5931\u6557\u3059\u308b\nconjure-up openstack \u3068\u3057\u3066\u3082\u4e00\u767a\u3067\u30c7\u30d7\u30ed\u30a4\u51fa\u6765\u306a\u3044\u3053\u3068\u304c\u591a\u3005\u3042\u308a\u307e\u3059\u3002\u7b46\u8005\u306e\u5834\u5408\u306f\u3001\u6b21\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066 rabbitmq-server/0 \u30e6\u30cb\u30c3\u30c8\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\nhook failed: \"amqp-relation-changed\" for nova-compute:amqp\n\n\u30e6\u30cb\u30c3\u30c8\u306e\u7acb\u3061\u4e0a\u3052\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u3001juju ssh \u30e6\u30cb\u30c3\u30c8\u540d \u3068\u3057\u3066\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u304d\u3001\u30ed\u30b0\u3092\u53c2\u7167\u3059\u308b\u3068\u539f\u56e0\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n$ juju ssh rabbitmq-server/0\n--- (\u4ee5\u4e0b\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u306e\u64cd\u4f5c) ---\nubuntu@juju-84f95a-15$ sudo less +F /var/log/juju/unit-rabbitmq-server-0.log\n...\n2016-10-11 01:29:59 DEBUG juju-log amqp:27: Hardening function 'install'\n2016-10-11 01:29:59 DEBUG juju-log amqp:27: Hardening function 'upgrade_charm'\n2016-10-11 01:29:59 DEBUG juju-log amqp:27: Hardening function 'config_changed'\n2016-10-11 01:29:59 DEBUG juju-log amqp:27: Hardening function 'update_status'\n2016-10-11 01:30:00 INFO amqp-relation-changed Error: unable to connect to node rabbit@ubuntu: nodedown\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed DIAGNOSTICS\n2016-10-11 01:30:00 INFO amqp-relation-changed ===========\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed attempted to contact: [rabbit@ubuntu]\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed rabbit@ubuntu:\n2016-10-11 01:30:00 INFO amqp-relation-changed   * unable to connect to epmd (port 4369) on ubuntu: nxdomain (non-existing domain)\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed current node details:\n2016-10-11 01:30:00 INFO amqp-relation-changed - node name: 'rabbitmq-cli-20529@juju-84f95a-15'\n2016-10-11 01:30:00 INFO amqp-relation-changed - home dir: /var/lib/rabbitmq\n2016-10-11 01:30:00 INFO amqp-relation-changed - cookie hash: Grmb/HfpexA0abUh5/acVQ==\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 DEBUG juju-log amqp:27: Command '['/usr/sbin/rabbitmqctl', 'list_vhosts']' returned non-zero exit status 2\n2016-10-11 01:30:00 DEBUG juju-log amqp:27: Running ['/usr/sbin/rabbitmqctl', 'add_vhost', u'openstack']\n2016-10-11 01:30:00 INFO amqp-relation-changed Error: unable to connect to node rabbit@ubuntu: nodedown\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed DIAGNOSTICS\n2016-10-11 01:30:00 INFO amqp-relation-changed ===========\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed attempted to contact: [rabbit@ubuntu]\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed rabbit@ubuntu:\n2016-10-11 01:30:00 INFO amqp-relation-changed   * unable to connect to epmd (port 4369) on ubuntu: nxdomain (non-existing domain)\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed current node details:\n2016-10-11 01:30:00 INFO amqp-relation-changed - node name: 'rabbitmq-cli-20656@juju-84f95a-15'\n2016-10-11 01:30:00 INFO amqp-relation-changed - home dir: /var/lib/rabbitmq\n2016-10-11 01:30:00 INFO amqp-relation-changed - cookie hash: Grmb/HfpexA0abUh5/acVQ==\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:01 INFO amqp-relation-changed Segmentation fault (core dumped)\n2016-10-11 01:30:01 INFO amqp-relation-changed Traceback (most recent call last):\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/amqp-relation-changed\", line 765, in <module>\n2016-10-11 01:30:01 INFO amqp-relation-changed     hooks.execute(sys.argv)\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/charmhelpers/core/hookenv.py\", line 715, in execute\n2016-10-11 01:30:01 INFO amqp-relation-changed     self._hooks[hook_name]()\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/amqp-relation-changed\", line 212, in amqp_changed\n2016-10-11 01:30:01 INFO amqp-relation-changed     admin=settings.get('admin', False))\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/amqp-relation-changed\", line 153, in configure_amqp\n2016-10-11 01:30:01 INFO amqp-relation-changed     rabbit.create_vhost(vhost)\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/rabbit_utils.py\", line 177, in create_vhost\n2016-10-11 01:30:01 INFO amqp-relation-changed     rabbitmqctl('add_vhost', vhost)\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/rabbit_utils.py\", line 321, in rabbitmqctl\n2016-10-11 01:30:01 INFO amqp-relation-changed     subprocess.check_call(cmd)\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/usr/lib/python2.7/subprocess.py\", line 541, in check_call\n2016-10-11 01:30:01 INFO amqp-relation-changed     raise CalledProcessError(retcode, cmd)\n2016-10-11 01:30:01 INFO amqp-relation-changed subprocess.CalledProcessError: Command '['/usr/sbin/rabbitmqctl', 'add_vhost', u'openstack']' returned non-zero exit sta\ntus 139\n2016-10-11 01:30:01 ERROR juju.worker.uniter.operation runhook.go:107 hook \"amqp-relation-changed\" failed: exit status 1\n\n\u4eca\u56de\u306e\u30a8\u30e9\u30fc\u3067\u306f\u3001 rabbitmq \u306e\u7ba1\u7406\u30b3\u30de\u30f3\u30c9 rabbitmqctl \u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u4f7f\u308f\u308c\u308b\u3001\u63a5\u7d9a\u5148\u30db\u30b9\u30c8\u540d\u306e\u89e3\u6c7a\u306b\u5931\u6557\u3057\u3066\u3044\u307e\u3057\u305f\u3002 rabbit@ubuntu \u3067\u306f\u306a\u304f rabbit@juju-84f95a-15 \u306b\u63a5\u7d9a\u3057\u3066\u307b\u3057\u3044\u8a33\u3067\u3059\u3002\n\u8abf\u3079\u305f\u3068\u3053\u308d RabbitMQ \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u5909\u3048\u308c\u3070\u89e3\u6c7a\u3067\u304d\u307e\u3057\u305f\u3002\n$ juju ssh rabbitmq-server/0\n--- (\u4ee5\u4e0b\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u306e\u64cd\u4f5c) ---\nubuntu@juju-84f95a-15$ hostname\njuju-84f95a-15\nubuntu@juju-84f95a-15$ sudo vim /etc/rabbitmq/rabbitmq-env.conf\n\u2014-> \u6700\u7d42\u884c\u3092\u66f8\u304d\u63db\u3048\n---\n#RABBITMQ_NODENAME=rabbit@ubuntu\nRABBITMQ_NODENAME=rabbit@juju-84f95a-15\n---\nubuntu@juju-84f95a-15$ sudo service rabbitmq-server restart\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u53cd\u6620\u5f8c\u30015\u5206\u6bce\u306b juju \u304b\u3089\u30b3\u30de\u30f3\u30c9\u304c\u547c\u3070\u308c\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002\n\u30db\u30b9\u30c8\u5074\u3067\n$ watch juju status\n\n\u306a\u3069\u3068\u3057\u3066\u304a\u3051\u3070\u72b6\u6cc1\u304c\u63b4\u307f\u3084\u3059\u3044\u3067\u3057\u3087\u3046\u3002\n\u203b \u306a\u304a\u3001 /etc/hosts \u306b\u30db\u30b9\u30c8\u540d ubuntu \u3092\u8ffd\u52a0\u3057\u305f\u3060\u3051\u3067\u306f\u3001\u4e0a\u8a18\u554f\u984c\u306f\u89e3\u6c7a\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n2. conjure-up \u304c\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u7d42\u4e86\u3057\u305f\u3068\u304d\nrabbitmq-server \u306e\u7acb\u3061\u4e0a\u3052\u306b\u5931\u6557\u3059\u308b\u306a\u3069\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046\u3068 conjure-up \u306f\u7d42\u4e86\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u672c\u5f53\u306f\u5168\u30e6\u30cb\u30c3\u30c8\u304c\u7acb\u3061\u4e0a\u304c\u3063\u305f\u5f8c\u306bSSH\u30ad\u30fc\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u305f\u308a dashboard \u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u53ef\u80fd\u306b\u3057\u305f\u308a\u3068\u3001\u8907\u6570\u306e\u30b9\u30c6\u30c3\u30d7\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u305d\u3053\u306b\u884c\u304d\u7740\u304f\u524d\u306b\u7d42\u4e86\u3059\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\u305d\u3093\u306a\u3068\u304d\u306f\u4ed5\u65b9\u304c\u7121\u3044\u306e\u3067\u624b\u52d5\u3067\u5404\u30b9\u30c6\u30c3\u30d7\u3092\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n$ cd ~/.cache/conjure-up/openstack-novalxd/steps\n$ ./step-03_keypair\nConnection to 10.19.198.100 closed.\n{\"message\": \"SSH Keypair is now imported and accessible when creating compute nodes.\", \"returnCode\": 0, \"isComplete\": true}Connection to 10.19.198.100 closed.\n$ ./step-04_neutron\n{\"message\": \"Neutron networking is now configured and is available to you during instance creation.\", \"returnCode\": 0, \"isComplete\": true}Connection to 10.19.198.100 closed.\n$ ./step-05_horizon\n{\"message\": \"Login to Horizon: http://10.19.198.23/horizon l: admin p: openstack\", \"returnCode\": 0, \"isComplete\": true}\n\n\n3. OpenStack \u3092\u6700\u521d\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u3057\u76f4\u3057\u305f\u3044\u3068\u304d\nconjure-up \u306f\u4e00\u5ea6\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3068 ~/.cache/conjure-up \u4e0b\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u30ed\u30b0\u3092\u4fdd\u7ba1\u3057\u307e\u3059\u3002\n2\u5ea6\u76ee\u306e\u5b9f\u884c\u304b\u3089\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u76f4\u305b\u307e\u3059\u304c\u3001\u30c7\u30d7\u30ed\u30a4\u306e\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u3066\u4e2d\u65ad\u3057\u3066\u3082\u3001\u306f\u3058\u3081\u304b\u3089\u3084\u308a\u76f4\u3057\u306b\u306a\u308a\u307e\u3059\u3002(\u3053\u306e\u8fba\u306a\u3093\u3068\u304b\u3057\u3066\u6b32\u3057\u3044\u3067\u3059\u304c)\n\u771f\u3063\u3055\u3089\u306a\u72b6\u614b\u306b\u623b\u3059\u306a\u3089\u3001 Juju \u3092\u30e2\u30c7\u30eb\u3054\u3068\u6d88\u305b\u3070\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\u30e2\u30c7\u30eb\u4e00\u89a7\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n$ juju models\nCONTROLLER: bobcat\n\nMODEL       OWNER        STATUS      MACHINES  CORES  ACCESS  LAST CONNECTION\ncontroller  admin@local  available          1      -  admin   just now\nmite*       admin@local  available         16      -  admin   2 minutes ago\n\n\u9078\u629e\u3055\u308c\u3066\u3044\u308b mite \u30e2\u30c7\u30eb\u3092\u6d88\u3057\u307e\u3059\u3002\n$ juju destroy-model mite\nWARNING! This command will destroy the \"mite\" model.\nThis includes all machines, applications, data and other resources.\n\nContinue [y/N]? y\n$ juju models\nCONTROLLER: bobcat\n\nMODEL       OWNER        STATUS      MACHINES  CORES  ACCESS  LAST CONNECTION\ncontroller  admin@local  available          1      -  admin   just now\nmite        admin@local  destroying        16      -  admin   1 minute ago\n\nconjure-up \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u3057\u307e\u3059\u3002\n$ rm -rf ~/.cache/conjure-up\n\n\u3053\u308c\u3067\u3044\u3044\u306f\u305a\u3002\n\n4. \u4e00\u5ea6\u4f5c\u6210\u3057\u305f ZFS \u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u524a\u9664\u3057\u305f\u3044\u3068\u304d\nopenstack \u3068\u3044\u3046\u540d\u524d\u306e zfs \u30d7\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u524a\u9664\u3067\u304d\u307e\u3059\u3002\n$ sudo zfs destroy -r openstack\n$ sudo zpool destroy openstack\n\n\n\u53c2\u8003\u6587\u732e\n\nLXD 2.0: LXD\u306b\u3064\u3044\u3066 [1/12] - Qiita\nDocker\u3060\u3051\u3058\u3083\u306a\u3044Containers\u306e\u4e16\u754c - Qiita\n\u7b2c288\u56de \u30c7\u30d7\u30ed\u30a4\u30c4\u30fc\u30eb\u300cJuju\u300d\u3092\u4f7f\u3063\u3066\u5927\u9b54\u8853\u5e2b\u3092\u76ee\u6307\u305d\u3046 : Ubuntu Weekly Recipe\nZFS on Linux\u3067\u9ad8\u4fe1\u983c\u306a\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u4f5c\u308b\uff08Ubuntu 14.04\uff09 - Qiita\nRemoving services, units and environments | Documentation | Juju\nopenstack lxd | Juju\nOpenstack on LXD - OpenStack Charms Guide 0.0.1.dev11 documentation\n\n## Abstract\nUbuntu 16.04 LTS (Xenial) \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u305f Conjure-up 2.0.1 \u304c\u5148\u65e5\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002\u65b0\u3057\u3044 Conjure-up \u3092\u4f7f\u3063\u3066Ubuntu\u30de\u30b7\u30f3\u4e00\u53f0\u3067 OpenStack Mitaka \u3092\u69cb\u7bc9\u3057\u3066\u307f\u305f\u306e\u3067\u305d\u306e\u624b\u9806\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n## Conjure-up \u3068\u306f\nConjure-up \u306f\u3001Kubernates\u3084DeepLearning\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3068\u3044\u3063\u305f\u3001\u5c0e\u5165\u306b\u624b\u9593\u306e\u304b\u304b\u308b\u5927\u898f\u6a21\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u3001 Juju \u3084 LXD \u3092\u4f7f\u3063\u3066\u3067\u304d\u308b\u3060\u3051\u7c21\u5358\u306b\u5c0e\u5165\u3059\u308b\u30c4\u30fc\u30eb\u3067\u3059\u3002[GitHub\u4e0a\u306b\u30ea\u30dd\u30b8\u30c8\u30ea](https://github.com/conjure-up/conjure-up)\u304c\u3042\u308a\u3001\u30d0\u30fc\u30b8\u30e7\u30f32.0\u306e\u30d9\u30fc\u30bf\u7248\u516c\u958b\u304b\u3089\u9577\u3089\u304f\u958b\u767a\u304c\u9032\u3081\u3089\u308c\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u5148\u65e5\u3088\u3046\u3084\u304f2.0.1\u30ea\u30ea\u30fc\u30b9\u7248\u304c\u516c\u958b\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u5c0e\u5165\u3092\u3069\u306e\u3088\u3046\u306b\u7c21\u5358\u5316\u3059\u308b\u304b\u3001\u5168\u4f53\u50cf\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u3082\u3001Conjure-up \u304c\u7528\u3044\u3066\u3044\u308b Juju \u3068 LXD \u306b\u3064\u3044\u3066\u8aac\u660e\u3092\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n### Juju: \u30c7\u30d7\u30ed\u30a4\u30c4\u30fc\u30eb\nJuju \u306f Apache \u3084 MySQL \u3068\u3044\u3063\u305f\u30af\u30e9\u30a6\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u3001\u8a2d\u5b9a\u3001\u7ba1\u7406\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u308b Ubuntu \u7528\u306e\u30c4\u30fc\u30eb\u3067\u3059\u3002\u30c7\u30d7\u30ed\u30a4\u30c4\u30fc\u30eb\u3068\u3044\u3046\u3068 Chef \u3084 Puppet \u304c\u3042\u308a\u307e\u3059\u304c\u3001 Juju \u306f\u305d\u308c\u3089\u306e Ubuntu \u306b\u7279\u5316\u3057\u305f\u3082\u306e\u3068\u3044\u3046\u4f4d\u7f6e\u3065\u3051\u3067\u3057\u3087\u3046\u304b[2]\u3002\u8a73\u3057\u3044\u8aac\u660e\u306f[\u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://jujucharms.com/docs/2.0/about-juju)\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u304c\u3001 Juju \u3067\u306f\u5404\u30af\u30e9\u30a6\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092 Charm \u3068\u3044\u3046\u5358\u4f4d\u3067\u6271\u3044\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b Charm \u306b\u66f8\u304b\u308c\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067 Docker \u3084 LXD \u3067\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u308a\u3001\u305d\u306e\u4e0a\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u8907\u96dc\u306a\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306e\u8a2d\u5b9a\u3084\u7ba1\u7406\u3092\u884c\u3046\u3053\u306e\u3088\u3046\u306a\u30c4\u30fc\u30eb\u306f\u30b5\u30fc\u30d3\u30b9\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3\u30c4\u30fc\u30eb\u3068\u547c\u3070\u308c\u3066\u3044\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\n### LXD: \u30b3\u30f3\u30c6\u30ca\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\nLXD (Linux Container Daemon) \u306f LXC (Linux Container) \u3092\u4f7f\u3063\u3066\u4e00\u3064\u306e\u30de\u30b7\u30f3\u4e0a\u3067\u8907\u6570\u306eLinux\u30b7\u30b9\u30c6\u30e0\u3092\u8d70\u3089\u305b\u308b\u30b3\u30f3\u30c6\u30ca\u4eee\u60f3\u5316\u30c4\u30fc\u30eb\u3067\u3059\u3002\n\u4f3c\u305f\u3088\u3046\u306a\u30c4\u30fc\u30eb\u3068\u3057\u3066 Docker \u304c\u3042\u308a\u307e\u3059\u304c\u3001 Docker \u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5358\u4f4d\u3067\u306e\u9694\u96e2\u3092\u76ee\u7684\u3068\u3057\u3066\u3044\u308b\u306e\u306b\u5bfe\u3057\u3001 LXD \u3067\u306f\u30b7\u30b9\u30c6\u30e0\u5358\u4f4d\u3067\u306e\u9694\u96e2\u3092\u76ee\u7684\u3068\u3057\u3066\u304a\u308a REST API \u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u306a\u3069\u306e\u9055\u3044\u304c\u3042\u308a\u307e\u3059[1]\u3002\n\n### Conjure-up \u306f\u4f55\u3092\u3059\u308b\u304b\n\u3067\u306f Conjure-up \u306f Juju \u3084 LXD \u3092\u4f7f\u3063\u3066\u3069\u306e\u3088\u3046\u306b\u5927\u898f\u6a21\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u5c0e\u5165\u3092\u652f\u63f4\u3059\u308b\u304b\u3001\u3068\u8a00\u3046\u8a71\u3067\u3059\u304c\u3001 OpenStack \u3092\u4f8b\u306b\u3068\u3063\u3066\u8aac\u660e\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nOpenStack \u306f\u30af\u30e9\u30a6\u30c9\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3059\u304c\u3001\u5358\u4f53\u3067\u306f\u306a\u304f\u4ee5\u4e0b\u306b\u4e0a\u3052\u305f\u3088\u3046\u306a\u8907\u6570\u306e\u69cb\u6210\u8981\u7d20\u304b\u3089\u6210\u3063\u3066\u3044\u307e\u3059\u3002\n\n* **Nova**: \u4eee\u60f3\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u52d5\u4f5c\u3055\u305b\u308b\n* **Neutron**: \u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u69cb\u6210\u3068\u7ba1\u7406\u3092\u62c5\u3046\n* **Cinder**: \u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u63d0\u4f9b\u3059\u308b\n* **Keystone**: \u8a8d\u8a3c\u60c5\u5831\u3092\u7ba1\u7406\u3059\u308b\n* **Glance**: \u4eee\u60f3\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8d77\u52d5\u30a4\u30e1\u30fc\u30b8\u3092\u7ba1\u7406\u3059\u308b\n* **Swift**: \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u63d0\u4f9b\u3059\u308b\n* **Horizon**: \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9(Web UI)\u3092\u63d0\u4f9b\u3059\u308b\n* ...\n\n\u7406\u60f3\u7684\u306b\u306f\u3053\u308c\u3089\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u5225\u3005\u306e\u7269\u7406\u30de\u30b7\u30f3\u3067\u7acb\u3061\u4e0a\u3052\u305f\u3044\u3068\u3053\u308d\u3067\u3059\u304c\u3001\u672c\u683c\u7684\u306b\u904b\u7528\u3059\u308b\u308f\u3051\u3067\u306a\u3051\u308c\u30701\u53f0\u306e\u30de\u30b7\u30f3\u3060\u3051\u3067\u5b8c\u7d50\u3057\u305f\u3044\u8a33\u3067\u3059\u3002\n\n\u305d\u3053\u3067\u8003\u3048\u3089\u308c\u305f\u306e\u304c LXD \u3092\u4f7f\u3063\u3066\u5404\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u305d\u308c\u305e\u308c\u306e\u30b3\u30f3\u30c6\u30ca\u3067\u52d5\u304b\u3057\u30011\u53f0\u306e\u7269\u7406\u30de\u30b7\u30f3\u4e0a\u3067\u52d5\u304f\u8907\u6570\u53f0\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3067 OpenStack \u3092\u69cb\u6210\u3059\u308b\u65b9\u6cd5\u3002\n\n\u3055\u3089\u306b\u3001\u5404\u30b3\u30f3\u30c6\u30ca\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3092 Juju \u3067\u81ea\u52d5\u5316\u3057\u3066\u3057\u307e\u3048\u3070\u3001**\u30b3\u30de\u30f3\u30c9\u4e00\u767a\u3067LXD \u30b3\u30f3\u30c6\u30ca\u306e\u4f5c\u6210\u304b\u3089\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u3001\u8a2d\u5b9a\u307e\u3067**\u3092\u884c\u3048\u308b\u306e\u3067\u306f\u3068\u3002\u3053\u308c\u3092\u3084\u3063\u305f\u306e\u304c **conjure-up** \u3067\u3059\u3002\n\n\u540c\u69d8\u306b\u3001conjure-up \u3092\u4f7f\u3048\u3070\u8907\u6570\u306e\u69cb\u6210\u8981\u7d20\u304b\u3089\u306a\u308b\u5927\u898f\u6a21\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3084\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092 Juju \u3084\u3089 LXD \u3084\u3089\u3092\u4f7f\u3063\u3066\u7c21\u5358\u306b\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u308b\u308f\u3051\u3067\u3059\u306d\u3002\n\n## \u4f5c\u696d\u74b0\u5883\n\u524d\u7f6e\u304d\u304c\u9577\u304f\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u304b\u3089\u306f\u5b9f\u969b\u306b conjure-up \u3092\u4f7f\u3063\u3066 OpenStack Mitaka \u3092\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f Ubuntu Server \u3092\u30af\u30ea\u30fc\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u7269\u7406\u30de\u30b7\u30f31\u53f0\u3092\u4f7f\u3063\u3066\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n|\u9805\u76ee|\u5024|\n|---|---|\n|\u30db\u30b9\u30c8\u540d|curiosity |\n|OS|Ubuntu 16.04 LTS|\n|CPU|Intel Core i7-3820|\n|\u30e1\u30e2\u30ea|64GB|\n|\u30b9\u30c8\u30ec\u30fc\u30b8| /dev/sda: 512 GB SSD x 1 <br /> /dev/sdb: 3TB HDD x 1 |\n|NIC|1000-base ethernet x 1|\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u3001OpenStack \u3092\u69cb\u6210\u3059\u308b LXD \u30b3\u30f3\u30c6\u30ca\u81ea\u4f53\u3001\u304a\u3088\u3073 OpenStack \u4e0a\u3067\u52d5\u304f nova \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4e21\u65b9\u306e\u30c7\u30fc\u30bf\u3092 \u30db\u30b9\u30c8\u5074OS\u3068\u306f\u9694\u96e2\u3057\u3066 **/dev/sdb** \u4e0a\u306b\u914d\u7f6e\u3057\u307e\u3059\u3002\u306a\u304a\u3001\u3053\u306e\u69cb\u6210\u306f\u30de\u30b9\u30c8\u3067\u306f\u7121\u304f\u3001\u30db\u30b9\u30c8\u5074OS\u3068\u540c\u3058\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u4f7f\u3063\u3066\u3082\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u300c01. \u4e8b\u524d\u6e96\u5099: ZFS \u3068 LXD \u306e\u69cb\u7bc9\u300d\u3067\u8aac\u660e\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u57f7\u7b46\u6642\u70b9\u3067\u306e\u5404\u7a2e\u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\n* lxd: **2.0.4-0ubuntu1~ubuntu16.04.1**\n* juju-2.0: **2.0-rc3-0ubuntu1~16.04.1~juju1**\n* conjure-up: **2.0.1-0~201610061938~ubuntu16.04.1**\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u9055\u3044\u306b\u3088\u3063\u3066 conjure-up \u306e\u904e\u7a0b\u3067\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u305f\u308a\u4e0a\u624b\u304f\u884c\u304b\u306a\u304b\u3063\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n## 01. \u4e8b\u524d\u6e96\u50991: ZFS \u3068 LXD \u306e\u69cb\u7bc9\nLXD 2.0 \u3067\u306f\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u5148\u3068\u3057\u3066 Linux \u4e0a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u52a0\u3048 Ubuntu 16.04 \u304b\u3089\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u305f **ZFS** \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u9078\u629e\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u6b21\u4e16\u4ee3\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3068\u3055\u308c\u3066\u3044\u308b ZFS \u3092\u4f7f\u3046\u30e1\u30ea\u30c3\u30c8\u306f\u6ca2\u5c71\u3042\u308b\u307f\u305f\u3044[4]\u306a\u306e\u3067\u3001\u4eca\u56de\u306f ZFS \u3092\u4f7f\u3044\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n### ZFS \u3068 LXD \u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\n$ sudo apt install lxd zfs\n```\n\n### LXD \u521d\u671f\u5316\n\u203b **[\u6ce8\u610f]** **\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306f SSH \u7d4c\u7531\u3067\u7121\u304f\u30de\u30b7\u30f3\u4e0a\u3067\u76f4\u63a5\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002**\u3067\u306a\u3044\u3068\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30d6\u30ea\u30c3\u30b8\u306e\u8a2d\u5b9a\u306e\u9805\u76ee\u3067 SSH \u304c\u5207\u65ad\u3055\u308c\u64cd\u4f5c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n```\n$ sudo lxd init\nName of the storage backend to use (dir or zfs): zfs\nCreate a new ZFS pool (yes/no)? yes\nName of the new ZFS pool: openstack\nWould you like to use an existing block device (yes/no)? yes\nPath to the existing block device: /dev/sdb\nWould you like LXD to be available over the network (yes/no)? no\nDo you want to configure the LXD bridge (yes/no)? yes\nLXD has been successfully configured.\n```\n\n\u203b ZFS \u3092\u5225\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u4f5c\u3089\u306a\u3044\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\n\n```\n$ sudo lxd init\nName of the storage backend to use (dir or zfs): zfs\nCreate a new ZFS pool (yes/no)? yes\nName of the new ZFS pool: openstack\nWould you like to use an existing block device (yes/no)? no\nSize in GB of the new loop device (1GB minimum): 100\nWould you like LXD to be available over the network (yes/no)? no\nDo you want to configure the LXD bridge (yes/no)? yes\nLXD has been successfully configured.\n```\n\n## 02. \u4e8b\u524d\u6e96\u50992: Nested VT-x \u306e\u6709\u52b9\u5316\nLXD\u4e0a\u3067\u306eLXD\u306e\u5b9f\u884c\u3092\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u305f\u3081\u306b Nested VT-x \u3092\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\n\nNested VT-x \u304c\u6709\u52b9\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ cat /sys/module/kvm_intel/parameters/nested\nN\n```\nN \u306a\u3089\u7121\u52b9\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\n\n```\n$ sudo rmmod kvm-intel\n$ sudo sh -c \"echo 'options kvm-intel nested=y' >> /etc/modprobe.d/dist.conf\"\n$ sudo modprobe kvm-intel\n$ cat /sys/module/kvm_intel/parameters/nested\nY\n```\n\n## 03. Conjure-up \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\napt \u3078\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\u3092\u3057\u307e\u3059\u3002\n\n```\n$ sudo apt-add-repository ppa:conjure-up/next\n$ sudo apt-add-repository ppa:juju/devel\n$ sudo apt update\n```\n\n\u305d\u306e\u5f8c conjure-up \u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n```\n$ sudo apt install conjure-up\n```\n\n## 04. OpenStack \u69cb\u7bc9\n\n### 1. conjure-up\nconjure-up \u30b3\u30de\u30f3\u30c9\u3067 OpenStack \u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n```\n$ conjure-up openstack\n```\n\n### 2. \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\n\u30b9\u30af\u30ea\u30fc\u30f3\u304c\u7acb\u3061\u4e0a\u304c\u308b\u306e\u3067 **OpenStack with NovaLXD** \u3092\u9078\u629e.\n![conjureup-1.png](https://qiita-image-store.s3.amazonaws.com/0/38708/af23c8df-f3b8-06da-a6cc-87501f49813b.png)\n\n\u305d\u306e\u5f8c\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u4e00\u89a7\u3068\u8a2d\u5b9a\u9805\u76ee\u306e\u753b\u9762\u304c\u51fa\u308b\u306e\u3067\u3001~~\u305d\u306e\u307e\u307e **Deploy all 15 Remaining Applications** \u3092\u62bc\u3057\u307e\u3059\u3002~~\n\n\u3068\u3044\u304d\u305f\u3044\u3068\u3053\u308d\u306a\u306e\u3067\u3059\u304c\u3001<font color=\"red\">**\u7b46\u8005\u306e\u74b0\u5883\u3067\u306f15\u500b\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3059\u3079\u3066\u3092\u540c\u6642\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u3068\u3053\u308d\u3001 rabbitmq-server \u306e\u30c7\u30d7\u30ed\u30a4\u306b\u5931\u6557\u3057\u3066\u9014\u4e2d\u3067\u30b3\u30b1\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002**</font>\n\u89e3\u6c7a\u7b56\u3068\u3057\u3066 **rabbitmq-server \u3060\u3051\u3092\u6700\u521d\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u3001\u5f8c\u8ff0\u3059\u308b Troubleshooting \u306b\u3042\u308b\u901a\u308a rabbitmq-server \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u3068\u53cd\u6620\u3092\u884c\u3063\u305f\u5f8c\u306b\u6b8b\u308a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3059\u3079\u3066\u30c7\u30d7\u30ed\u30a4\u3059\u308b**\u3068\u4e0a\u624b\u304f\u3044\u304d\u307e\u3057\u305f\u3002 \uff08\u8a73\u3057\u304f\u306f[Github \u306e issue #489](https://github.com/conjure-up/conjure-up/issues/489#issuecomment-253112250)\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\uff09\n![conjureup-3.png](https://qiita-image-store.s3.amazonaws.com/0/38708/06df35e1-491c-8f04-fcac-6b85a32e4d96.png)\n\n\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c\u30c7\u30d7\u30ed\u30a4\u3055\u308c\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002\n![conjureup-4.png](https://qiita-image-store.s3.amazonaws.com/0/38708/fe27a42b-6e03-3823-0a84-40820314235c.png)\n\n\u9032\u6357\u304c\u6c17\u306b\u306a\u308b\u4eba\u306f\u3001\u5225\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u3044\u3066\n\n```\n$ watch juju status\n```\n\n\u3084\n\n```\n$ juju debug-log\n```\n\n\u3068\u3057\u3066\u307f\u308b\u3068\u72b6\u6cc1\u304c\u308f\u304b\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n### 3. \u6307\u793a\u306b\u5f93\u3063\u3066\u5f8c\u51e6\u7406\n\u3059\u3079\u3066\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\u304c\u7d42\u308f\u308b\u3068\u3001 \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u753b\u9762\u306b\u9077\u79fb\u3057\u307e\u3059\u3002\n\u30a8\u30f3\u30bf\u30fc\u3092\u62bc\u3057\u3066\u30b9\u30c6\u30c3\u30d7\u3092\u9032\u3081\u3066\u3044\u304d\u307e\u3059\u3002\n\n**Step 1.** Glance \u3078\u306e Ubuntu Trusty (14.04) \u3068 Ubuntu Xenial (16.04) \u8d77\u52d5\u30a4\u30e1\u30fc\u30b8\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n![Screen Shot 2016-10-12 at 6.44.35 PM.png](https://qiita-image-store.s3.amazonaws.com/0/38708/d909a0b7-4d3d-c403-b152-f7726a9f9a29.png)\n\n**Step 2.** SSH \u30ad\u30fc\u30da\u30a2\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\n![Screen Shot 2016-10-12 at 6.47.01 PM.png](https://qiita-image-store.s3.amazonaws.com/0/38708/c934120f-38d5-fed7-3a0f-1d2419ce2d5c.png)\n\n**Step 3.** Neutron \u306e\u8a2d\u5b9a\n![Screen Shot 2016-10-12 at 6.49.35 PM.png](https://qiita-image-store.s3.amazonaws.com/0/38708/1930b805-a786-0c30-52d6-89a3da1877f8.png)\n\n**Step 4.** Horizon \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306e\u8a2d\u5b9a\n![Screen Shot 2016-10-12 at 6.51.54 PM.png](https://qiita-image-store.s3.amazonaws.com/0/38708/932b6c21-b14f-e89b-cd8e-8e5249d7d9aa.png)\n\n**\u30c7\u30d7\u30ed\u30a4\u5b8c\u4e86**\n![Screen Shot 2016-10-12 at 6.53.12 PM.png](https://qiita-image-store.s3.amazonaws.com/0/38708/e471d57f-3579-589d-a40f-2294e5f0d409.png)\n\n**\u30b5\u30de\u30ea\u30fc**\n![Screen Shot 2016-10-12 at 6.54.57 PM.png](https://qiita-image-store.s3.amazonaws.com/0/38708/cea5cfdd-680e-5cf8-266d-9e28b7a508fc.png)\n\n\u4ee5\u4e0a\u3067\u69cb\u7bc9\u5b8c\u4e86\u3067\u3059\u3002\n\n## 05. \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3078\u306e\u30a2\u30af\u30bb\u30b9\n\n`openstack-dashboard/0` \u30e6\u30cb\u30c3\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u30e1\u30e2\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n$ juju status\n...\nopenstack-dashboard/0    active    idle   14       10.19.198.23    80/tcp,443/tcp  Unit is ready\n...\n```\n\n\u30db\u30b9\u30c8\u5074\u304b\u3089 `openstack-dashboard/0` \u3078\u306e\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u3092\u4f5c\u308b\u305f\u3081\u3001 apache2 \u3092\u5165\u308c\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\n$ sudo apt install apache2\n$ sudo a2enmod proxy\n$ sudo vim /etc/apache2/sites-enabled/000-default.conf\n--> \u4ee5\u4e0b\u3001<VirtualHost />\u5185\u306b\u8ffd\u8a18\n---\n        <IfModule mod_proxy.c>\n        ProxyPass / http://10.19.198.23/\n        ProxyPassReverse / http://10.19.198.23/\n        </IfModule>\n---\n```\n\n\u4ee5\u4e0a\u3067\u5b8c\u4e86\u3002\n`http://\u30db\u30b9\u30c8\u306eIP\u30a2\u30c9\u30ec\u30b9/horizon` \u3092\u30d6\u30e9\u30a6\u30b6\u3067\u958b\u304d\u3001\u30e6\u30fc\u30b6\u540d `admin`, \u30d1\u30b9\u30ef\u30fc\u30c9 `openstack` \u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\n\n![Screen Shot 2016-10-11 at 3.01.30 PM.png](https://qiita-image-store.s3.amazonaws.com/0/38708/5c2c58e9-5c49-cd81-ca09-67328ef84063.png)\n\n\n## Troubleshooting\n\n### 1. rabbitmq-server \u306e\u7acb\u3061\u4e0a\u3052\u306b\u5931\u6557\u3059\u308b\n`conjure-up openstack` \u3068\u3057\u3066\u3082\u4e00\u767a\u3067\u30c7\u30d7\u30ed\u30a4\u51fa\u6765\u306a\u3044\u3053\u3068\u304c\u591a\u3005\u3042\u308a\u307e\u3059\u3002\u7b46\u8005\u306e\u5834\u5408\u306f\u3001\u6b21\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u3066 `rabbitmq-server/0` \u30e6\u30cb\u30c3\u30c8\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n```\nhook failed: \"amqp-relation-changed\" for nova-compute:amqp\n```\n\n\u30e6\u30cb\u30c3\u30c8\u306e\u7acb\u3061\u4e0a\u3052\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u3001`juju ssh \u30e6\u30cb\u30c3\u30c8\u540d` \u3068\u3057\u3066\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u304d\u3001\u30ed\u30b0\u3092\u53c2\u7167\u3059\u308b\u3068\u539f\u56e0\u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\n```\n$ juju ssh rabbitmq-server/0\n--- (\u4ee5\u4e0b\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u306e\u64cd\u4f5c) ---\nubuntu@juju-84f95a-15$ sudo less +F /var/log/juju/unit-rabbitmq-server-0.log\n...\n2016-10-11 01:29:59 DEBUG juju-log amqp:27: Hardening function 'install'\n2016-10-11 01:29:59 DEBUG juju-log amqp:27: Hardening function 'upgrade_charm'\n2016-10-11 01:29:59 DEBUG juju-log amqp:27: Hardening function 'config_changed'\n2016-10-11 01:29:59 DEBUG juju-log amqp:27: Hardening function 'update_status'\n2016-10-11 01:30:00 INFO amqp-relation-changed Error: unable to connect to node rabbit@ubuntu: nodedown\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed DIAGNOSTICS\n2016-10-11 01:30:00 INFO amqp-relation-changed ===========\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed attempted to contact: [rabbit@ubuntu]\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed rabbit@ubuntu:\n2016-10-11 01:30:00 INFO amqp-relation-changed   * unable to connect to epmd (port 4369) on ubuntu: nxdomain (non-existing domain)\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed current node details:\n2016-10-11 01:30:00 INFO amqp-relation-changed - node name: 'rabbitmq-cli-20529@juju-84f95a-15'\n2016-10-11 01:30:00 INFO amqp-relation-changed - home dir: /var/lib/rabbitmq\n2016-10-11 01:30:00 INFO amqp-relation-changed - cookie hash: Grmb/HfpexA0abUh5/acVQ==\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 DEBUG juju-log amqp:27: Command '['/usr/sbin/rabbitmqctl', 'list_vhosts']' returned non-zero exit status 2\n2016-10-11 01:30:00 DEBUG juju-log amqp:27: Running ['/usr/sbin/rabbitmqctl', 'add_vhost', u'openstack']\n2016-10-11 01:30:00 INFO amqp-relation-changed Error: unable to connect to node rabbit@ubuntu: nodedown\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed DIAGNOSTICS\n2016-10-11 01:30:00 INFO amqp-relation-changed ===========\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed attempted to contact: [rabbit@ubuntu]\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed rabbit@ubuntu:\n2016-10-11 01:30:00 INFO amqp-relation-changed   * unable to connect to epmd (port 4369) on ubuntu: nxdomain (non-existing domain)\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:00 INFO amqp-relation-changed current node details:\n2016-10-11 01:30:00 INFO amqp-relation-changed - node name: 'rabbitmq-cli-20656@juju-84f95a-15'\n2016-10-11 01:30:00 INFO amqp-relation-changed - home dir: /var/lib/rabbitmq\n2016-10-11 01:30:00 INFO amqp-relation-changed - cookie hash: Grmb/HfpexA0abUh5/acVQ==\n2016-10-11 01:30:00 INFO amqp-relation-changed\n2016-10-11 01:30:01 INFO amqp-relation-changed Segmentation fault (core dumped)\n2016-10-11 01:30:01 INFO amqp-relation-changed Traceback (most recent call last):\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/amqp-relation-changed\", line 765, in <module>\n2016-10-11 01:30:01 INFO amqp-relation-changed     hooks.execute(sys.argv)\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/charmhelpers/core/hookenv.py\", line 715, in execute\n2016-10-11 01:30:01 INFO amqp-relation-changed     self._hooks[hook_name]()\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/amqp-relation-changed\", line 212, in amqp_changed\n2016-10-11 01:30:01 INFO amqp-relation-changed     admin=settings.get('admin', False))\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/amqp-relation-changed\", line 153, in configure_amqp\n2016-10-11 01:30:01 INFO amqp-relation-changed     rabbit.create_vhost(vhost)\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/rabbit_utils.py\", line 177, in create_vhost\n2016-10-11 01:30:01 INFO amqp-relation-changed     rabbitmqctl('add_vhost', vhost)\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/var/lib/juju/agents/unit-rabbitmq-server-0/charm/hooks/rabbit_utils.py\", line 321, in rabbitmqctl\n2016-10-11 01:30:01 INFO amqp-relation-changed     subprocess.check_call(cmd)\n2016-10-11 01:30:01 INFO amqp-relation-changed   File \"/usr/lib/python2.7/subprocess.py\", line 541, in check_call\n2016-10-11 01:30:01 INFO amqp-relation-changed     raise CalledProcessError(retcode, cmd)\n2016-10-11 01:30:01 INFO amqp-relation-changed subprocess.CalledProcessError: Command '['/usr/sbin/rabbitmqctl', 'add_vhost', u'openstack']' returned non-zero exit sta\ntus 139\n2016-10-11 01:30:01 ERROR juju.worker.uniter.operation runhook.go:107 hook \"amqp-relation-changed\" failed: exit status 1\n```\n\n\u4eca\u56de\u306e\u30a8\u30e9\u30fc\u3067\u306f\u3001 rabbitmq \u306e\u7ba1\u7406\u30b3\u30de\u30f3\u30c9 `rabbitmqctl` \u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\u4f7f\u308f\u308c\u308b\u3001\u63a5\u7d9a\u5148\u30db\u30b9\u30c8\u540d\u306e\u89e3\u6c7a\u306b\u5931\u6557\u3057\u3066\u3044\u307e\u3057\u305f\u3002 `rabbit@ubuntu` \u3067\u306f\u306a\u304f `rabbit@juju-84f95a-15` \u306b\u63a5\u7d9a\u3057\u3066\u307b\u3057\u3044\u8a33\u3067\u3059\u3002\n\u8abf\u3079\u305f\u3068\u3053\u308d **RabbitMQ \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u5909\u3048\u308c\u3070\u89e3\u6c7a**\u3067\u304d\u307e\u3057\u305f\u3002\n\n```\n$ juju ssh rabbitmq-server/0\n--- (\u4ee5\u4e0b\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u306e\u64cd\u4f5c) ---\nubuntu@juju-84f95a-15$ hostname\njuju-84f95a-15\nubuntu@juju-84f95a-15$ sudo vim /etc/rabbitmq/rabbitmq-env.conf\n\u2014-> \u6700\u7d42\u884c\u3092\u66f8\u304d\u63db\u3048\n---\n#RABBITMQ_NODENAME=rabbit@ubuntu\nRABBITMQ_NODENAME=rabbit@juju-84f95a-15\n---\nubuntu@juju-84f95a-15$ sudo service rabbitmq-server restart\n```\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u53cd\u6620\u5f8c\u30015\u5206\u6bce\u306b juju \u304b\u3089\u30b3\u30de\u30f3\u30c9\u304c\u547c\u3070\u308c\u308b\u306e\u3092\u5f85\u3061\u307e\u3059\u3002\n\u30db\u30b9\u30c8\u5074\u3067\n\n```\n$ watch juju status\n```\n\n\u306a\u3069\u3068\u3057\u3066\u304a\u3051\u3070\u72b6\u6cc1\u304c\u63b4\u307f\u3084\u3059\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u203b \u306a\u304a\u3001 `/etc/hosts` \u306b\u30db\u30b9\u30c8\u540d `ubuntu` \u3092\u8ffd\u52a0\u3057\u305f\u3060\u3051\u3067\u306f\u3001\u4e0a\u8a18\u554f\u984c\u306f\u89e3\u6c7a\u3057\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\n### 2. conjure-up \u304c\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u7d42\u4e86\u3057\u305f\u3068\u304d\n\nrabbitmq-server \u306e\u7acb\u3061\u4e0a\u3052\u306b\u5931\u6557\u3059\u308b\u306a\u3069\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046\u3068 conjure-up \u306f\u7d42\u4e86\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u672c\u5f53\u306f\u5168\u30e6\u30cb\u30c3\u30c8\u304c\u7acb\u3061\u4e0a\u304c\u3063\u305f\u5f8c\u306bSSH\u30ad\u30fc\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u305f\u308a dashboard \u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u53ef\u80fd\u306b\u3057\u305f\u308a\u3068\u3001\u8907\u6570\u306e\u30b9\u30c6\u30c3\u30d7\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u305d\u3053\u306b\u884c\u304d\u7740\u304f\u524d\u306b\u7d42\u4e86\u3059\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u305d\u3093\u306a\u3068\u304d\u306f\u4ed5\u65b9\u304c\u7121\u3044\u306e\u3067\u624b\u52d5\u3067\u5404\u30b9\u30c6\u30c3\u30d7\u3092\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\n$ cd ~/.cache/conjure-up/openstack-novalxd/steps\n$ ./step-03_keypair\nConnection to 10.19.198.100 closed.\n{\"message\": \"SSH Keypair is now imported and accessible when creating compute nodes.\", \"returnCode\": 0, \"isComplete\": true}Connection to 10.19.198.100 closed.\n$ ./step-04_neutron\n{\"message\": \"Neutron networking is now configured and is available to you during instance creation.\", \"returnCode\": 0, \"isComplete\": true}Connection to 10.19.198.100 closed.\n$ ./step-05_horizon\n{\"message\": \"Login to Horizon: http://10.19.198.23/horizon l: admin p: openstack\", \"returnCode\": 0, \"isComplete\": true}\n```\n\n### 3. OpenStack \u3092\u6700\u521d\u304b\u3089\u30c7\u30d7\u30ed\u30a4\u3057\u76f4\u3057\u305f\u3044\u3068\u304d\nconjure-up \u306f\u4e00\u5ea6\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3068 `~/.cache/conjure-up` \u4e0b\u306b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3068\u30ed\u30b0\u3092\u4fdd\u7ba1\u3057\u307e\u3059\u3002\n2\u5ea6\u76ee\u306e\u5b9f\u884c\u304b\u3089\u306f\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u5143\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u76f4\u305b\u307e\u3059\u304c\u3001\u30c7\u30d7\u30ed\u30a4\u306e\u9014\u4e2d\u3067\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u3066\u4e2d\u65ad\u3057\u3066\u3082\u3001\u306f\u3058\u3081\u304b\u3089\u3084\u308a\u76f4\u3057\u306b\u306a\u308a\u307e\u3059\u3002(\u3053\u306e\u8fba\u306a\u3093\u3068\u304b\u3057\u3066\u6b32\u3057\u3044\u3067\u3059\u304c)\n\n\u771f\u3063\u3055\u3089\u306a\u72b6\u614b\u306b\u623b\u3059\u306a\u3089\u3001 Juju \u3092\u30e2\u30c7\u30eb\u3054\u3068\u6d88\u305b\u3070\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\n\u30e2\u30c7\u30eb\u4e00\u89a7\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n$ juju models\nCONTROLLER: bobcat\n\nMODEL       OWNER        STATUS      MACHINES  CORES  ACCESS  LAST CONNECTION\ncontroller  admin@local  available          1      -  admin   just now\nmite*       admin@local  available         16      -  admin   2 minutes ago\n```\n\n\u9078\u629e\u3055\u308c\u3066\u3044\u308b mite \u30e2\u30c7\u30eb\u3092\u6d88\u3057\u307e\u3059\u3002\n\n```\n$ juju destroy-model mite\nWARNING! This command will destroy the \"mite\" model.\nThis includes all machines, applications, data and other resources.\n\nContinue [y/N]? y\n$ juju models\nCONTROLLER: bobcat\n\nMODEL       OWNER        STATUS      MACHINES  CORES  ACCESS  LAST CONNECTION\ncontroller  admin@local  available          1      -  admin   just now\nmite        admin@local  destroying        16      -  admin   1 minute ago\n```\n\nconjure-up \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u3057\u307e\u3059\u3002\n\n```\n$ rm -rf ~/.cache/conjure-up\n```\n\n\u3053\u308c\u3067\u3044\u3044\u306f\u305a\u3002\n\n### 4. \u4e00\u5ea6\u4f5c\u6210\u3057\u305f ZFS \u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u524a\u9664\u3057\u305f\u3044\u3068\u304d\n`openstack` \u3068\u3044\u3046\u540d\u524d\u306e zfs \u30d7\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u524a\u9664\u3067\u304d\u307e\u3059\u3002\n\n```\n$ sudo zfs destroy -r openstack\n$ sudo zpool destroy openstack\n```\n\n## \u53c2\u8003\u6587\u732e\n1. [LXD 2.0: LXD\u306b\u3064\u3044\u3066 [1/12] - Qiita](http://qiita.com/m-shibata/items/a818859c3c7bcccae742)\n2. [Docker\u3060\u3051\u3058\u3083\u306a\u3044Containers\u306e\u4e16\u754c - Qiita](http://qiita.com/kentarosasaki/items/b44b5ffb57a69085027e)\n3. [\u7b2c288\u56de \u30c7\u30d7\u30ed\u30a4\u30c4\u30fc\u30eb\u300cJuju\u300d\u3092\u4f7f\u3063\u3066\u5927\u9b54\u8853\u5e2b\u3092\u76ee\u6307\u305d\u3046 : Ubuntu Weekly Recipe](http://gihyo.jp/admin/serial/01/ubuntu-recipe/0288)\n4. [ZFS on Linux\u3067\u9ad8\u4fe1\u983c\u306a\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u4f5c\u308b\uff08Ubuntu 14.04\uff09 - Qiita](http://qiita.com/plainbanana/items/eaf44a27e1e24085a57e)\n5. [Removing services, units and environments | Documentation | Juju](https://jujucharms.com/docs/2.0/charms-destroy)\n6. [openstack lxd | Juju](https://jujucharms.com/u/openstack-charmers-next/openstack-lxd)\n7. [Openstack on LXD - OpenStack Charms Guide 0.0.1.dev11 documentation](http://docs.openstack.org/developer/charm-guide/openstack-on-lxd.html)\n", "tags": ["openstack", "conjure-up", "Juju", "ubuntu16.04", "Ubuntu"]}