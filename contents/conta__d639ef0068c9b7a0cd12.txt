{"tags": ["Ubuntu", "NVIDIA", "CUDA"], "context": "2016/08/10\u6642\u70b9\u3067\u3001GTX1080\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u4e2d\u3005\u5927\u5909\u3060\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n1. \u4e8b\u524d\u6e96\u5099\n\u65e2\u306b\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\ndpkg -l | grep nvidia\ndpkg -l | grep cuda\n\n\n2. \u53e4\u3044\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u524a\u9664(Optional)\n\u3082\u3057 1.\u3067\u53e4\u3044\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u305f\u3089\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u306b\u3066\u524a\u9664\n# remove previous cuda and graphic driver\nsudo apt-get --purge remove nvidia-*\nsudo apt-get --purge remove cuda-*\n\n\n3. \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\nUbuntu\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\n(https://launchpad.net/~graphics-drivers/+archive/ubuntu/ppa)\nsudo add-apt-repository ppa:graphics-drivers/ppa\nsudo apt-get update\n\n\n4. \u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get install nvidia-367\n\n\n5. \u518d\u8d77\u52d5\nsudo reboot\n\n\n6. \u78ba\u8a8d\n\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u306b\u3066GPU\u304c\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\nnvidia-smi\n\n\u4ee5\u4e0b\u306e\u69d8\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308bGPU\u304c\u78ba\u8a8d\u3055\u308c\u308c\u3070OK\nWed Aug 10 00:17:55 2016\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 367.35                 Driver Version: 367.35                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  GeForce GTX 1080    Off  | 0000:03:00.0     Off |                  N/A |\n|  0%   40C    P0    48W / 230W |      0MiB /  8113MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  GeForce GTX 1080    Off  | 0000:04:00.0     Off |                  N/A |\n|  0%   42C    P0    47W / 230W |      0MiB /  8112MiB |      1%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|  No running processes found                                                 |\n+-----------------------------------------------------------------------------+\n\n\n\n7. cuda\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nCUDA Toolkit 8.0(RC\u7248, 2016/08/10\u6642\u70b9)\u3092\u4e0b\u8a18URL\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nhttps://developer.nvidia.com/cuda-release-candidate-download\nWeb\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u3057\u305f\u304c\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo dpkg -i cuda-repo-ubuntu1404-8-0-rc_8.0.27-1_amd64.deb\nsudo apt-get update\nsudo apt-get install cuda\n\n\uff0a\u3053\u308c\u3092\u884c\u3046\u3068\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3001nvidia-361\u306b\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u3082\u3046\u4e00\u5ea6\u6700\u65b0\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u6b63\u3057\u3044\u306e\u304b\u306f\u4e0d\u660e\u3002\u3002\u3002)\n\uff0a\u3061\u306a\u307f\u306b\u73fe\u6642\u70b9\u3067nvidia-361\u3060\u3068GTX1080\u306f\u8a8d\u8b58\u3055\u308c\u306a\u304b\u3063\u305f\uff08\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3068\u66f8\u3044\u3066\u3042\u308b\u304c\u3002\u3002\u3002)\nsudo apt-get install nvidia-367\n\n\n8. \u518d\u5ea6\u78ba\u8a8d\n\n\u3068\u540c\u69d8\u306e\u51fa\u529b\u3067\u3042\u308c\u3070OK\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u306f\u4e0b\u8a18\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\n(361\u3068367\u304c\u6df7\u5728\u3057\u3066\u6c17\u6301\u3061\u60aa\u3044\u3002\u3002\u3002)\nubuntu@dev-004:~$ dpkg -l | grep nvidia\nrc  nvidia-361                                361.77-0ubuntu1                                     amd64        NVIDIA binary driver - version 361.77\nii  nvidia-367                                367.35-0ubuntu0~gpu14.04.1                          amd64        NVIDIA binary driver - version 367.35\nii  nvidia-modprobe                           361.77-0ubuntu1                                     amd64        Load the NVIDIA kernel driver and create device files\nrc  nvidia-opencl-icd-361                     361.77-0ubuntu1                                     amd64        NVIDIA OpenCL ICD\nii  nvidia-opencl-icd-367                     367.35-0ubuntu0~gpu14.04.1                          amd64        NVIDIA OpenCL ICD\nii  nvidia-prime                              0.6.2                                               amd64        Tools to enable NVIDIA's Prime\nii  nvidia-settings                           367.35-0ubuntu0~gpu14.04.1                          amd64        Tool for configuring the NVIDIA graphics driver\nubuntu@dev-004:~$ dpkg -l | grep cuda\nii  cuda-command-line-tools-8-0               8.0.27-1                                            amd64        CUDA command-line tools\nii  cuda-core-8-0                             8.0.27-1                                            amd64        CUDA core tools\nii  cuda-cublas-8-0                           8.0.27-1                                            amd64        CUBLAS native runtime libraries\nii  cuda-cublas-dev-8-0                       8.0.27-1                                            amd64        CUBLAS native dev links, headers\nii  cuda-cudart-8-0                           8.0.27-1                                            amd64        CUDA Runtime native Libraries\nii  cuda-cudart-dev-8-0                       8.0.27-1                                            amd64        CUDA Runtime native dev links, headers\nii  cuda-cufft-8-0                            8.0.27-1                                            amd64        CUFFT native runtime libraries\nii  cuda-cufft-dev-8-0                        8.0.27-1                                            amd64        CUFFT native dev links, headers\nii  cuda-curand-8-0                           8.0.27-1                                            amd64        CURAND native runtime libraries\nii  cuda-curand-dev-8-0                       8.0.27-1                                            amd64        CURAND native dev links, headers\nii  cuda-cusolver-8-0                         8.0.27-1                                            amd64        CUDA solver native runtime libraries\nii  cuda-cusolver-dev-8-0                     8.0.27-1                                            amd64        CUDA solver native dev links, headers\nii  cuda-cusparse-8-0                         8.0.27-1                                            amd64        CUSPARSE native runtime libraries\nii  cuda-cusparse-dev-8-0                     8.0.27-1                                            amd64        CUSPARSE native dev links, headers\nii  cuda-documentation-8-0                    8.0.27-1                                            amd64        CUDA documentation\nii  cuda-driver-dev-8-0                       8.0.27-1                                            amd64        CUDA Driver native dev stub library\nii  cuda-license-8-0                          8.0.27-1                                            amd64        CUDA licenses\nii  cuda-misc-headers-8-0                     8.0.27-1                                            amd64        CUDA miscellaneous headers\nii  cuda-npp-8-0                              8.0.27-1                                            amd64        NPP native runtime libraries\nii  cuda-npp-dev-8-0                          8.0.27-1                                            amd64        NPP native dev links, headers\nii  cuda-nvgraph-8-0                          8.0.27-1                                            amd64        NVGRAPH native runtime libraries\nii  cuda-nvgraph-dev-8-0                      8.0.27-1                                            amd64        NVGRAPH native dev links, headers\nii  cuda-nvml-dev-8-0                         8.0.27-1                                            amd64        NVML native dev links, headers\nii  cuda-nvrtc-8-0                            8.0.27-1                                            amd64        NVRTC native runtime libraries\nii  cuda-nvrtc-dev-8-0                        8.0.27-1                                            amd64        NVRTC native dev links, headers\nii  cuda-repo-ubuntu1404-8-0-rc               8.0.27-1                                            amd64        cuda repository configuration files\nii  cuda-samples-8-0                          8.0.27-1                                            amd64        CUDA example applications\nii  cuda-toolkit-8-0                          8.0.27-1                                            amd64        CUDA Toolkit 8.0 meta-package\nii  cuda-visual-tools-8-0                     8.0.27-1                                            amd64        CUDA visual tools\nrc  libcuda1-361                              361.77-0ubuntu1                                     amd64        NVIDIA CUDA runtime library\nii  libcuda1-367                              367.35-0ubuntu0~gpu14.04.1                          amd64        NVIDIA CUDA runtime library\n\n\n\u65e9\u304fCUDA 8.0\u306e\u6b63\u5f0f\u7248\u3092\u51fa\u3057\u3066\u6b32\u3057\u3044\n2016/08/10\u6642\u70b9\u3067\u3001GTX1080\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u4e2d\u3005\u5927\u5909\u3060\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\n\n# 1. \u4e8b\u524d\u6e96\u5099\n\n\u65e2\u306b\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\n\n```\ndpkg -l | grep nvidia\ndpkg -l | grep cuda\n```\n\n# 2. \u53e4\u3044\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u524a\u9664(Optional)\n\n\u3082\u3057 1.\u3067\u53e4\u3044\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u305f\u3089\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u306b\u3066\u524a\u9664\n\n```\n# remove previous cuda and graphic driver\nsudo apt-get --purge remove nvidia-*\nsudo apt-get --purge remove cuda-*\n```\n\n# 3. \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u767b\u9332\n\nUbuntu\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u767b\u9332\n(https://launchpad.net/~graphics-drivers/+archive/ubuntu/ppa)\n\n```\nsudo add-apt-repository ppa:graphics-drivers/ppa\nsudo apt-get update\n```\n\n# 4. \u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nsudo apt-get install nvidia-367\n```\n\n# 5. \u518d\u8d77\u52d5\n\n```\nsudo reboot\n```\n\n# 6. \u78ba\u8a8d\n\n\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u306b\u3066GPU\u304c\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\n\n```\nnvidia-smi\n```\n\n\u4ee5\u4e0b\u306e\u69d8\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308bGPU\u304c\u78ba\u8a8d\u3055\u308c\u308c\u3070OK\n\n```\nWed Aug 10 00:17:55 2016\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 367.35                 Driver Version: 367.35                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  GeForce GTX 1080    Off  | 0000:03:00.0     Off |                  N/A |\n|  0%   40C    P0    48W / 230W |      0MiB /  8113MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n|   1  GeForce GTX 1080    Off  | 0000:04:00.0     Off |                  N/A |\n|  0%   42C    P0    47W / 230W |      0MiB /  8112MiB |      1%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID  Type  Process name                               Usage      |\n|=============================================================================|\n|  No running processes found                                                 |\n+-----------------------------------------------------------------------------+\n\n```\n\n# 7. cuda\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nCUDA Toolkit 8.0(RC\u7248, 2016/08/10\u6642\u70b9)\u3092\u4e0b\u8a18URL\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nhttps://developer.nvidia.com/cuda-release-candidate-download\n\nWeb\u306e\u30de\u30cb\u30e5\u30a2\u30eb\u306b\u3057\u305f\u304c\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nsudo dpkg -i cuda-repo-ubuntu1404-8-0-rc_8.0.27-1_amd64.deb\nsudo apt-get update\nsudo apt-get install cuda\n```\n\n\uff0a\u3053\u308c\u3092\u884c\u3046\u3068\u30c9\u30e9\u30a4\u30d0\u30fc\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3001nvidia-361\u306b\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u3082\u3046\u4e00\u5ea6\u6700\u65b0\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb(\u6b63\u3057\u3044\u306e\u304b\u306f\u4e0d\u660e\u3002\u3002\u3002)\n\uff0a\u3061\u306a\u307f\u306b\u73fe\u6642\u70b9\u3067nvidia-361\u3060\u3068GTX1080\u306f\u8a8d\u8b58\u3055\u308c\u306a\u304b\u3063\u305f\uff08\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3068\u66f8\u3044\u3066\u3042\u308b\u304c\u3002\u3002\u3002)\n\n```\nsudo apt-get install nvidia-367\n```\n\n# 8. \u518d\u5ea6\u78ba\u8a8d\n\n6. \u3068\u540c\u69d8\u306e\u51fa\u529b\u3067\u3042\u308c\u3070OK\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u306e\u306f\u4e0b\u8a18\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\n(361\u3068367\u304c\u6df7\u5728\u3057\u3066\u6c17\u6301\u3061\u60aa\u3044\u3002\u3002\u3002)\n\n```\nubuntu@dev-004:~$ dpkg -l | grep nvidia\nrc  nvidia-361                                361.77-0ubuntu1                                     amd64        NVIDIA binary driver - version 361.77\nii  nvidia-367                                367.35-0ubuntu0~gpu14.04.1                          amd64        NVIDIA binary driver - version 367.35\nii  nvidia-modprobe                           361.77-0ubuntu1                                     amd64        Load the NVIDIA kernel driver and create device files\nrc  nvidia-opencl-icd-361                     361.77-0ubuntu1                                     amd64        NVIDIA OpenCL ICD\nii  nvidia-opencl-icd-367                     367.35-0ubuntu0~gpu14.04.1                          amd64        NVIDIA OpenCL ICD\nii  nvidia-prime                              0.6.2                                               amd64        Tools to enable NVIDIA's Prime\nii  nvidia-settings                           367.35-0ubuntu0~gpu14.04.1                          amd64        Tool for configuring the NVIDIA graphics driver\nubuntu@dev-004:~$ dpkg -l | grep cuda\nii  cuda-command-line-tools-8-0               8.0.27-1                                            amd64        CUDA command-line tools\nii  cuda-core-8-0                             8.0.27-1                                            amd64        CUDA core tools\nii  cuda-cublas-8-0                           8.0.27-1                                            amd64        CUBLAS native runtime libraries\nii  cuda-cublas-dev-8-0                       8.0.27-1                                            amd64        CUBLAS native dev links, headers\nii  cuda-cudart-8-0                           8.0.27-1                                            amd64        CUDA Runtime native Libraries\nii  cuda-cudart-dev-8-0                       8.0.27-1                                            amd64        CUDA Runtime native dev links, headers\nii  cuda-cufft-8-0                            8.0.27-1                                            amd64        CUFFT native runtime libraries\nii  cuda-cufft-dev-8-0                        8.0.27-1                                            amd64        CUFFT native dev links, headers\nii  cuda-curand-8-0                           8.0.27-1                                            amd64        CURAND native runtime libraries\nii  cuda-curand-dev-8-0                       8.0.27-1                                            amd64        CURAND native dev links, headers\nii  cuda-cusolver-8-0                         8.0.27-1                                            amd64        CUDA solver native runtime libraries\nii  cuda-cusolver-dev-8-0                     8.0.27-1                                            amd64        CUDA solver native dev links, headers\nii  cuda-cusparse-8-0                         8.0.27-1                                            amd64        CUSPARSE native runtime libraries\nii  cuda-cusparse-dev-8-0                     8.0.27-1                                            amd64        CUSPARSE native dev links, headers\nii  cuda-documentation-8-0                    8.0.27-1                                            amd64        CUDA documentation\nii  cuda-driver-dev-8-0                       8.0.27-1                                            amd64        CUDA Driver native dev stub library\nii  cuda-license-8-0                          8.0.27-1                                            amd64        CUDA licenses\nii  cuda-misc-headers-8-0                     8.0.27-1                                            amd64        CUDA miscellaneous headers\nii  cuda-npp-8-0                              8.0.27-1                                            amd64        NPP native runtime libraries\nii  cuda-npp-dev-8-0                          8.0.27-1                                            amd64        NPP native dev links, headers\nii  cuda-nvgraph-8-0                          8.0.27-1                                            amd64        NVGRAPH native runtime libraries\nii  cuda-nvgraph-dev-8-0                      8.0.27-1                                            amd64        NVGRAPH native dev links, headers\nii  cuda-nvml-dev-8-0                         8.0.27-1                                            amd64        NVML native dev links, headers\nii  cuda-nvrtc-8-0                            8.0.27-1                                            amd64        NVRTC native runtime libraries\nii  cuda-nvrtc-dev-8-0                        8.0.27-1                                            amd64        NVRTC native dev links, headers\nii  cuda-repo-ubuntu1404-8-0-rc               8.0.27-1                                            amd64        cuda repository configuration files\nii  cuda-samples-8-0                          8.0.27-1                                            amd64        CUDA example applications\nii  cuda-toolkit-8-0                          8.0.27-1                                            amd64        CUDA Toolkit 8.0 meta-package\nii  cuda-visual-tools-8-0                     8.0.27-1                                            amd64        CUDA visual tools\nrc  libcuda1-361                              361.77-0ubuntu1                                     amd64        NVIDIA CUDA runtime library\nii  libcuda1-367                              367.35-0ubuntu0~gpu14.04.1                          amd64        NVIDIA CUDA runtime library\n\n```\n\n\u65e9\u304fCUDA 8.0\u306e\u6b63\u5f0f\u7248\u3092\u51fa\u3057\u3066\u6b32\u3057\u3044\n\n"}