{"tags": ["jubatus>=0.7"], "context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u3069\u3053\u3082\u304b\u3057\u3053\u3082A/B\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u3044\u308b\u3068\u8a00\u3063\u3066\u307e\u3059\u304c\u3001\u305d\u308c\u3063\u3066A\u30c6\u30b9\u30c8B\u30c6\u30b9\u30c8\u3058\u3083\u306a\u3044\u3067\u3059\u304b\uff1f\nA\u30d1\u30bf\u30fc\u30f3\u3092\u6e2c\u5b9a\u3057\u305f\u5f8c\u306bB\u30d1\u30bf\u30fc\u30f3\u3092\u6e2c\u5b9a\u3059\u308b\u306e\u306fA/B\u30c6\u30b9\u30c8\u3068\u306f\u8a00\u3044\u96e3\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u540c\u6642\u671f\u306b\u884c\u3063\u3066\u3044\u306a\u3044\u3068\u3044\u3046\u306e\u304c\u5927\u304d\u306a\u8981\u56e0\u3067\u3059\u3002\nA\u30d1\u30bf\u30fc\u30f3B\u30d1\u30bf\u30fc\u30f3\u3092\u540c\u6642\u671f\u306b\u6e2c\u5b9a\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u306f\u7a00\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u30d0\u30f3\u30c7\u30a3\u30c3\u30c8\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u4f7f\u3048\u3070A/B\u30c6\u30b9\u30c8\u306f\u304a\u308d\u304b\u3001A/B/C\u3060\u308d\u3046\u304c\u3001A/B\u3067\u958b\u59cb\u3057\u3066\u9014\u4e2d\u304b\u3089C/D\u30d1\u30bf\u30fc\u30f3\u3092\u8ffd\u52a0\u3060\u308d\u3046\u304c\u7c21\u5358\u306b\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n1.\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u767b\u9332\n\u307e\u305a\u59cb\u3081\u306bA\u30d1\u30bf\u30fc\u30f3\u3001B\u30d1\u30bf\u30fc\u30f3\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3044\u3046\u3082\u306e\u306fMVC\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306eV\u90e8\u5206\u3060\u3068\u601d\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u3092Jubatus\u306e\u30d0\u30f3\u30c7\u30a3\u30c3\u30c8\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u767b\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002\npython set_template.py [\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u540d(index_a.php\u3068\u304b)]\n\nset_template.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef register_arm(client, arm):\n    client.register_arm(arm)\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n    if (argc != 2):\n        print 'Usage: # python %s templateName ' % argvs[0]\n        quit()\n    template_name = argvs[1]\n\n    client = jubatus.Bandit(host, port, name)\n    register_arm(client, template_name)\n\n\n\n2.\u8a66\u3057\u305f\u3044\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u9078\u629e\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e\u3059\u308b\u76f4\u524d\u3067Jubatus\u306b\u554f\u3044\u5408\u308f\u305b\u307e\u3059\u3002\nCodeigniter\u306e\u5834\u5408\u306f\n\nsample.php\n$this->load->view('index.php');\n\n\n\u306e\u76f4\u524d\u306b\u306a\u308a\u307e\u3059\u3002\n\nsample.php\nexec(\"python ./select_template.py\" , $ret1); #index_a.php\u3068\u304b\u3092\u8fd4\u3057\u3066\u304f\u308c\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\n$this->load->view(trim(implode('', $ret1)); #index_a.php\u3092\u547c\u3076\u3053\u3068\u3092\u60f3\u5b9a\n\n\n\u3068\u3059\u308b\u3068\u3001Jubatus\u304c\u8fd4\u3057\u3066\u304f\u308c\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8aad\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u304c\u6b63\u3057\u304fPHP\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u8868\u793a\u3055\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\nPython\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u8ca0\u8377\u306b\u306f\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002Exception\u3092\u6b63\u3057\u304f\u8a2d\u5b9a\u3057\u305f\u65b9\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nselect_template.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef get_template(client, player):\n    reward_point = 0.0 #\u8868\u793a\u30dd\u30a4\u30f3\u30c8 \u8868\u793a\u6642\u306f0\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u305f\u5834\u5408\n    arm = client.select_arm(player)\n    client.register_reward(player, arm, reward_point ) #\u53d6\u5f97\u3057\u305f\u6642\u306b\u30dd\u30a4\u30f3\u30c8\u3092\u4ed8\u4e0e\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u540c\u3058arm\u3070\u304b\u308a\u5f15\u304f\u305f\u3081\n    return arm\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n    user_id = u'none'\n    if (argc == 2):\n        user_id = argvs[1]\n\n    client = jubatus.Bandit(host, port, name)\n    print get_template(client, user_id )\n\n\n\n3.\u65bd\u7b56\u9054\u6210\u6642\u306e\u30dd\u30a4\u30f3\u30c8\u3092\u767b\u9332\n\u65bd\u7b56\u9054\u6210\u6642\u306f\u69d8\u3005\u306a\u30d1\u30bf\u30fc\u30f3\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u6307\u5b9a\u30da\u30fc\u30b8\u3078\u306e\u9077\u79fb\u3084\u7d4c\u904e\u6642\u9593\u3084\u30e6\u30fc\u30b6\u767b\u9332\u306a\u3069\u3067\u3059\u3002\n\u305d\u306e\u5834\u5408\u306b\u306f\u5831\u916c\u3092\u8a2d\u5b9a\u3057\u3066\u3042\u3052\u307e\u3057\u3087\u3046\u3002\n\nsample.php\nexec(\"python ./set_reward.py index_a.php\"); #index_a.php\u3092\u8868\u793a\u3057\u305f\u6642\u306b\u65bd\u7b56\u9054\u6210\n\n\n\nset_reward.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef set_reward(client, player, arm):\n    reward_point = 1.0 #\u65bd\u7b56\u9054\u6210\u6642\u306e\u30dd\u30a4\u30f3\u30c8 \u65bd\u7b56\u9054\u6210\u6642\u306f1\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u305f\u5834\u5408\n    client.register_reward(player, arm, reward_point )\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n\n    if (argc != 2):\n        print 'Usage: # python %s templateName [userId]' % argvs[0]\n        quit()\n    template_name = argvs[1]\n\n    user_id = u'none'\n    if (argc == 3):\n        user_id = argvs[2]\n\n    client = jubatus.Bandit(host, port, name)\n    set_reward(client, user_id, template_name)\n\n\n\n\u6d41\u308c\n\n1.\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u767b\u9332\n\u30b5\u30fc\u30d0\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u5b9f\u884c\u3057\u307e\u3059\u3002\npython set_template.py index_a.php\npython set_template.py index_b.php\n\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\u6700\u4f4e2\u3064\u306f\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n2.\u8868\u793a\uff08Codeigniter\u306e\u5834\u5408\uff09\n\u8868\u793a\u30da\u30fc\u30b8\u5185\u3067Jubatus\u304b\u3089\u30da\u30fc\u30b8\u540d\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\nsample.php\nexec(\"python ./select_template.py\" , $ret1); #index_a.php\u3068\u304b\u3092\u8fd4\u3057\u3066\u304f\u308c\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\n$this->load->view(trim(implode('', $ret1)); #index_a.php\u3092\u547c\u3076\u3053\u3068\u3092\u60f3\u5b9a\n\n\n\n3.\u9054\u6210\u6642\n\u9054\u6210\u30da\u30fc\u30b8\u306e\u8868\u793a\u6642\u306b\u5831\u916c\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nindex_a.php \u306f\u5f15\u6570\u306a\u3069\u3067\u6301\u3061\u6b69\u3044\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nsample.php\nexec(\"python ./set_reward.py index_a.php\"); #index_a.php\u3092\u8868\u793a\u3057\u305f\u6642\u306b\u65bd\u7b56\u9054\u6210\n\n\n\n4.\u9014\u4e2d\u3067\u30d1\u30bf\u30fc\u30f3\u3092\u8ffd\u52a0\nA/B\u30c6\u30b9\u30c8\u304c\u843d\u3061\u7740\u3044\u3066\u304d\u305f\u3089\u6b21\u306e\u65bd\u7b56\u3092\u6253\u3061\u305f\u3044\u3053\u3068\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u306b\u305d\u306e\u30da\u30fc\u30b8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u3092Jubatus\u306b\u767b\u9332\u3059\u308b\u3060\u3051\u3067\u914d\u4fe1\u3055\u308c\u59cb\u3081\u307e\u3059\u3002\npython set_template.py index_c.php\npython set_template.py index_d.php\npython set_template.py index_e.php\nA\u3068B\u3067\u3069\u3061\u3089\u304c\u52b9\u679c\u304c\u9ad8\u304b\u3063\u305f\u304b\u306fJubatus\u304c\u52dd\u624b\u306b\u5224\u5b9a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u305d\u306e\u5f8c\u306fA/B/C/D/E\u306e\u4e2d\u3067\u52b9\u679c\u304c\u9ad8\u3044\u3082\u306e\u3092\u8868\u793a\u3057\u59cb\u3081\u307e\u3059\u3002\n\n5.\u524a\u9664\u3057\u305f\u3044\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u51fa\u3066\u304d\u305f\u5834\u5408\nJubatus\u304b\u3089\u524a\u9664\u3057\u307e\u3059\u3002\n\u8a08\u6e2c\u3092\u3084\u308a\u76f4\u3057\u305f\u3044\u5834\u5408\u3082\u3001Jubatus\u304b\u3089\u524a\u9664\u5f8c\u767b\u9332\u3059\u308b\u3068\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\npython delete_template.py\n\ndelete_template.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef delete_arm(client, arm):\n    client.delete_arm(arm)\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n    if (argc != 2):\n        print 'Usage: # python %s templateName' % argvs[0]\n        quit()\n    template_name = argvs[1]\n\n    client = jubatus.Bandit(host, port, name)\n    delete_arm(client, template_name)\n\n\n\n6.\u5404\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u70b9\u6570\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\n\u5404\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u8868\u793a\u56de\u6570\u3068\u5831\u916c\u306e\u5408\u8a08\u5024\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nget_info.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef get_arm_info(client, player):\n    return client.get_arm_info(player)\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n    user_id = u'none'\n\n    client = jubatus.Bandit(host, port, name)\n    print get_arm_info(client, user_id)\n\n\n# \u6982\u8981\n\u3069\u3053\u3082\u304b\u3057\u3053\u3082A/B\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u3044\u308b\u3068\u8a00\u3063\u3066\u307e\u3059\u304c\u3001\u305d\u308c\u3063\u3066A\u30c6\u30b9\u30c8B\u30c6\u30b9\u30c8\u3058\u3083\u306a\u3044\u3067\u3059\u304b\uff1f\nA\u30d1\u30bf\u30fc\u30f3\u3092\u6e2c\u5b9a\u3057\u305f\u5f8c\u306bB\u30d1\u30bf\u30fc\u30f3\u3092\u6e2c\u5b9a\u3059\u308b\u306e\u306fA/B\u30c6\u30b9\u30c8\u3068\u306f\u8a00\u3044\u96e3\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u540c\u6642\u671f\u306b\u884c\u3063\u3066\u3044\u306a\u3044\u3068\u3044\u3046\u306e\u304c\u5927\u304d\u306a\u8981\u56e0\u3067\u3059\u3002\nA\u30d1\u30bf\u30fc\u30f3B\u30d1\u30bf\u30fc\u30f3\u3092\u540c\u6642\u671f\u306b\u6e2c\u5b9a\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u306f\u7a00\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u30d0\u30f3\u30c7\u30a3\u30c3\u30c8\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u4f7f\u3048\u3070A/B\u30c6\u30b9\u30c8\u306f\u304a\u308d\u304b\u3001A/B/C\u3060\u308d\u3046\u304c\u3001A/B\u3067\u958b\u59cb\u3057\u3066\u9014\u4e2d\u304b\u3089C/D\u30d1\u30bf\u30fc\u30f3\u3092\u8ffd\u52a0\u3060\u308d\u3046\u304c\u7c21\u5358\u306b\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n# 1.\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u767b\u9332\n\u307e\u305a\u59cb\u3081\u306bA\u30d1\u30bf\u30fc\u30f3\u3001B\u30d1\u30bf\u30fc\u30f3\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3044\u3046\u3082\u306e\u306fMVC\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306eV\u90e8\u5206\u3060\u3068\u601d\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u3092Jubatus\u306e\u30d0\u30f3\u30c7\u30a3\u30c3\u30c8\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u767b\u9332\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\npython set_template.py [\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u540d(index_a.php\u3068\u304b)]\n\n```py:set_template.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef register_arm(client, arm):\n    client.register_arm(arm)\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n    if (argc != 2):\n        print 'Usage: # python %s templateName ' % argvs[0]\n        quit()\n    template_name = argvs[1]\n\n    client = jubatus.Bandit(host, port, name)\n    register_arm(client, template_name)\n```\n\n# 2.\u8a66\u3057\u305f\u3044\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u9078\u629e\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u9078\u629e\u3059\u308b\u76f4\u524d\u3067Jubatus\u306b\u554f\u3044\u5408\u308f\u305b\u307e\u3059\u3002\nCodeigniter\u306e\u5834\u5408\u306f\n\n```php:sample.php\n$this->load->view('index.php');\n```\n\u306e\u76f4\u524d\u306b\u306a\u308a\u307e\u3059\u3002\n\n```php:sample.php\nexec(\"python ./select_template.py\" , $ret1); #index_a.php\u3068\u304b\u3092\u8fd4\u3057\u3066\u304f\u308c\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\n$this->load->view(trim(implode('', $ret1)); #index_a.php\u3092\u547c\u3076\u3053\u3068\u3092\u60f3\u5b9a\n```\n\u3068\u3059\u308b\u3068\u3001Jubatus\u304c\u8fd4\u3057\u3066\u304f\u308c\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8aad\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u304c\u6b63\u3057\u304fPHP\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u8868\u793a\u3055\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\nPython\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u8ca0\u8377\u306b\u306f\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002Exception\u3092\u6b63\u3057\u304f\u8a2d\u5b9a\u3057\u305f\u65b9\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n```py:select_template.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef get_template(client, player):\n    reward_point = 0.0 #\u8868\u793a\u30dd\u30a4\u30f3\u30c8 \u8868\u793a\u6642\u306f0\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u305f\u5834\u5408\n    arm = client.select_arm(player)\n    client.register_reward(player, arm, reward_point ) #\u53d6\u5f97\u3057\u305f\u6642\u306b\u30dd\u30a4\u30f3\u30c8\u3092\u4ed8\u4e0e\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u540c\u3058arm\u3070\u304b\u308a\u5f15\u304f\u305f\u3081\n    return arm\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n    user_id = u'none'\n    if (argc == 2):\n        user_id = argvs[1]\n\n    client = jubatus.Bandit(host, port, name)\n    print get_template(client, user_id )\n```\n\n# 3.\u65bd\u7b56\u9054\u6210\u6642\u306e\u30dd\u30a4\u30f3\u30c8\u3092\u767b\u9332\n\u65bd\u7b56\u9054\u6210\u6642\u306f\u69d8\u3005\u306a\u30d1\u30bf\u30fc\u30f3\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u6307\u5b9a\u30da\u30fc\u30b8\u3078\u306e\u9077\u79fb\u3084\u7d4c\u904e\u6642\u9593\u3084\u30e6\u30fc\u30b6\u767b\u9332\u306a\u3069\u3067\u3059\u3002\n\u305d\u306e\u5834\u5408\u306b\u306f\u5831\u916c\u3092\u8a2d\u5b9a\u3057\u3066\u3042\u3052\u307e\u3057\u3087\u3046\u3002\n\n```php:sample.php\nexec(\"python ./set_reward.py index_a.php\"); #index_a.php\u3092\u8868\u793a\u3057\u305f\u6642\u306b\u65bd\u7b56\u9054\u6210\n```\n\n```py:set_reward.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef set_reward(client, player, arm):\n    reward_point = 1.0 #\u65bd\u7b56\u9054\u6210\u6642\u306e\u30dd\u30a4\u30f3\u30c8 \u65bd\u7b56\u9054\u6210\u6642\u306f1\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u305f\u5834\u5408\n    client.register_reward(player, arm, reward_point )\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n\n    if (argc != 2):\n        print 'Usage: # python %s templateName [userId]' % argvs[0]\n        quit()\n    template_name = argvs[1]\n\n    user_id = u'none'\n    if (argc == 3):\n        user_id = argvs[2]\n\n    client = jubatus.Bandit(host, port, name)\n    set_reward(client, user_id, template_name)\n```\n\n# \u6d41\u308c\n## 1.\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u767b\u9332\n\u30b5\u30fc\u30d0\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u5b9f\u884c\u3057\u307e\u3059\u3002\npython set_template.py index_a.php\npython set_template.py index_b.php\n\n\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\u6700\u4f4e2\u3064\u306f\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## 2.\u8868\u793a\uff08Codeigniter\u306e\u5834\u5408\uff09\n\u8868\u793a\u30da\u30fc\u30b8\u5185\u3067Jubatus\u304b\u3089\u30da\u30fc\u30b8\u540d\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n```php:sample.php\nexec(\"python ./select_template.py\" , $ret1); #index_a.php\u3068\u304b\u3092\u8fd4\u3057\u3066\u304f\u308c\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\n$this->load->view(trim(implode('', $ret1)); #index_a.php\u3092\u547c\u3076\u3053\u3068\u3092\u60f3\u5b9a\n```\n\n## 3.\u9054\u6210\u6642\n\u9054\u6210\u30da\u30fc\u30b8\u306e\u8868\u793a\u6642\u306b\u5831\u916c\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nindex_a.php \u306f\u5f15\u6570\u306a\u3069\u3067\u6301\u3061\u6b69\u3044\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n```php:sample.php\nexec(\"python ./set_reward.py index_a.php\"); #index_a.php\u3092\u8868\u793a\u3057\u305f\u6642\u306b\u65bd\u7b56\u9054\u6210\n```\n\n## 4.\u9014\u4e2d\u3067\u30d1\u30bf\u30fc\u30f3\u3092\u8ffd\u52a0\nA/B\u30c6\u30b9\u30c8\u304c\u843d\u3061\u7740\u3044\u3066\u304d\u305f\u3089\u6b21\u306e\u65bd\u7b56\u3092\u6253\u3061\u305f\u3044\u3053\u3068\u3060\u3068\u601d\u3044\u307e\u3059\u3002\n\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u305f\u5f8c\u306b\u305d\u306e\u30da\u30fc\u30b8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u3092Jubatus\u306b\u767b\u9332\u3059\u308b\u3060\u3051\u3067\u914d\u4fe1\u3055\u308c\u59cb\u3081\u307e\u3059\u3002\npython set_template.py index_c.php\npython set_template.py index_d.php\npython set_template.py index_e.php\nA\u3068B\u3067\u3069\u3061\u3089\u304c\u52b9\u679c\u304c\u9ad8\u304b\u3063\u305f\u304b\u306fJubatus\u304c\u52dd\u624b\u306b\u5224\u5b9a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\u305d\u306e\u5f8c\u306fA/B/C/D/E\u306e\u4e2d\u3067\u52b9\u679c\u304c\u9ad8\u3044\u3082\u306e\u3092\u8868\u793a\u3057\u59cb\u3081\u307e\u3059\u3002\n\n## 5.\u524a\u9664\u3057\u305f\u3044\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u51fa\u3066\u304d\u305f\u5834\u5408\nJubatus\u304b\u3089\u524a\u9664\u3057\u307e\u3059\u3002\n\u8a08\u6e2c\u3092\u3084\u308a\u76f4\u3057\u305f\u3044\u5834\u5408\u3082\u3001Jubatus\u304b\u3089\u524a\u9664\u5f8c\u767b\u9332\u3059\u308b\u3068\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3059\u3002\n\npython delete_template.py\n\n```py:delete_template.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef delete_arm(client, arm):\n    client.delete_arm(arm)\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n    if (argc != 2):\n        print 'Usage: # python %s templateName' % argvs[0]\n        quit()\n    template_name = argvs[1]\n\n    client = jubatus.Bandit(host, port, name)\n    delete_arm(client, template_name)\n```\n\n## 6.\u5404\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u70b9\u6570\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\n\u5404\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u8868\u793a\u56de\u6570\u3068\u5831\u916c\u306e\u5408\u8a08\u5024\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```py:get_info.py\n#!/usr/bin/env python\n# coding: utf-8\n\nhost = '127.0.0.1'\nport = 9199\nname = 'A/B TEST'\n\nimport sys\n\nimport jubatus\nfrom jubatus.common import Datum\n\ndef get_arm_info(client, player):\n    return client.get_arm_info(player)\n\nif __name__ == '__main__':\n    argvs = sys.argv\n    argc = len(argvs)\n    user_id = u'none'\n\n    client = jubatus.Bandit(host, port, name)\n    print get_arm_info(client, user_id)\n```\n"}