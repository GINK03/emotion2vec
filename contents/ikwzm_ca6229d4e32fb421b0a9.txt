{"tags": ["FPGA", "Linux", "Atlas-SoC"], "context": "\n\n\u306f\u3058\u3081\u306b\n\u300cFPGA+SoC+Linux+Device Tree Overlay+FPGA Manager(\u30d6\u30fc\u30c8\u30a4\u30e1\u30fc\u30b8\u306e\u63d0\u4f9b) @Qiita\u300d\u3067\u3001DE0-Nano-SoC \u7528\u306e Device Tree Overay \u3068 FPGA Manager \u306b\u5bfe\u5fdc\u3057\u305f Linux Kernel \u3068 Debian8 RootFS \u3092\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002\n\u3053\u3053\u3067\u306f\u3001\u305d\u306e\u30b7\u30b9\u30c6\u30e0\u4e0a\u3067\u52d5\u4f5c\u3059\u308b\u5b9f\u4f8b\u3092\u3044\u304f\u3064\u304b\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u3044\u305a\u308c\u306e\u5b9f\u4f8b\u3082\u304b\u3064\u3066 Qiita \u306b\u6295\u7a3f\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u5b9f\u4f8b\u306e\u8a73\u7d30\u306f\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttps://github.com/ikwzm/FPGA-SoC-Linux\ntarget/de0-nano-soc/examples-001.tgz \u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u30b7\u30b9\u30c6\u30e0\u306e\u3069\u3053\u304b\u306b\u5c55\u958b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3053\u3053\u3067\u306f\u3001/home/fpga/examples \u306b\u5c55\u958b\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001\u3053\u3061\u3089\u306e\u8a18\u4e8b\u300cFPGA+SoC+Linux+Device Tree Overlay+FPGA Manager(ZYBO-Examples)\u300d\u3092\u6295\u7a3f\u3057\u305f\u6642\u306b\u6bd4\u3079\u3066\u3001FPGA Device Drives \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e0a\u304c\u3063\u3066\u3044\u307e\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001Altera-SoC \u7528\u306e HPS-FPGA Bridge \u306e\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nfpga-soc-linux-drivers-4.4.7-armv7-fpga_0.0.2-1_armhf.deb \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3059\u3067\u306b fpga-soc-linux-drivers-4.4.7-armv7-fpga_0.0.1-1_armhf.deb \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~$ sudo dpkg -r fpga-soc-linux-drivers-4.4.7-armv7-fpga\n(Reading database ... 17846 files and directories currently installed.)\nRemoving fpga-soc-linux-drivers-4.4.7-armv7-fpga (0.0.1-1) ...\n[  157.092376] fpgacfg soc:fpgacfg0: driver unloaded\nRemoved symlink /etc/systemd/system/multi-user.target.wants/zptty.service.\nRemoved symlink /etc/systemd/system/multi-user.target.wants/udmabuf.service.\nRemoved symlink /etc/systemd/system/multi-user.target.wants/fpga-manager.service.\nRemoved symlink /etc/systemd/system/multi-user.target.wants/device-tree-overlay.service.\nfpga@debian-fpga:~$ sudo dpkg -i fpga-soc-linux-drivers-4.4.7-armv7-fpga_0.0.2-1_armhf.deb\nSelecting previously unselected package fpga-soc-linux-drivers-4.4.7-armv7-fpga.\n(Reading database ... 17830 files and directories currently installed.)\nPreparing to unpack fpga-soc-linux-drivers-4.4.7-armv7-fpga_0.0.2-1_armhf.deb ...\nUnpacking fpga-soc-linux-drivers-4.4.7-armv7-fpga (0.0.2-1) ...\nSetting up fpga-soc-linux-drivers-4.4.7-armv7-fpga (0.0.2-1) ...\nCreated symlink from /etc/systemd/system/multi-user.target.wants/device-tree-overlay.service to /etc/systemd/system/device-tree-overlay.service.\nCreated symlink from /etc/systemd/system/multi-user.target.wants/fpga-manager.service to /etc/systemd/system/fpga-manager.service.\nCreated symlink from /etc/systemd/system/multi-user.target.wants/udmabuf.service to /etc/systemd/system/udmabuf.service.\nCreated symlink from /etc/systemd/system/multi-user.target.wants/zptty.service to /etc/systemd/system/zptty.service.\n[  196.891617] fpgacfg soc:fpgacfg0: driver probe start.\n[  196.896907] fpgacfg soc:fpgacfg0: driver installed.\n[  196.901849] fpgacfg soc:fpgacfg0: device name  : fpgacfg0\n[  196.907234] fpgacfg soc:fpgacfg0: fpga manager : Altera SOCFPGA FPGA Manager\n\n\nudmabuf_test\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n\u300cLinux\u3067\u30e6\u30fc\u30b6\u30fc\u7a7a\u9593\u3067\u52d5\u4f5c\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u304c\u30e1\u30e2\u30ea\u3092\u5171\u6709\u3059\u308b\u305f\u3081\u306e\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u300d@Qiita\n\nudmabuf_test \u306f FPGA \u90e8\u306f\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001FPGA Manager \u306f\u4f7f\u3044\u307e\u305b\u3093\u3002\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/udmabuf_test$ rake -T\nrake test[buffer_size]             # udmabuf test\nrake test_all                      # udmabuf test all (buffer_size_list = [...\nrake udmabuf:install[buffer_size]  # Install udmabuf\nrake udmabuf:uninstall             # Uninstall udmabuf\n\ndevice tree overlay \u3092\u4f7f\u3046\u305f\u3081\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/udmabuf_test$ sudo rake test_all\n[  294.295987] udmabuf soc:udmabuf0: driver probe start.\n[  294.304637] udmabuf udmabuf0: driver installed\n[  294.310349] udmabuf udmabuf0: major number   = 241\n[  294.315127] udmabuf udmabuf0: minor number   = 0\n[  294.320748] udmabuf udmabuf0: phys address   = 0x3f100000\n[  294.326131] udmabuf udmabuf0: buffer size    = 1048576\n[  294.332211] udmabuf soc:udmabuf0: driver installed.\n./udmabuf_test\nphys_addr=0x3f100000\nsize=1048576\ncheck_buf()\nsync_mode=0, O_SYNC=0, time = 0.346007 sec\nsync_mode=0, O_SYNC=1, time = 0.345906 sec\nsync_mode=1, O_SYNC=0, time = 0.346029 sec\nsync_mode=1, O_SYNC=1, time = 1.961720 sec\nsync_mode=2, O_SYNC=0, time = 0.345875 sec\nsync_mode=2, O_SYNC=1, time = 1.385162 sec\nsync_mode=3, O_SYNC=0, time = 0.345877 sec\nsync_mode=3, O_SYNC=1, time = 1.384824 sec\nsync_mode=4, O_SYNC=0, time = 0.346086 sec\nsync_mode=4, O_SYNC=1, time = 0.345775 sec\nsync_mode=5, O_SYNC=0, time = 1.961395 sec\nsync_mode=5, O_SYNC=1, time = 1.961555 sec\nsync_mode=6, O_SYNC=0, time = 1.384710 sec\nsync_mode=6, O_SYNC=1, time = 1.384663 sec\nsync_mode=7, O_SYNC=0, time = 1.384574 sec\nsync_mode=7, O_SYNC=1, time = 1.384642 sec\nclear_buf()\nsync_mode=0, O_SYNC=0, time = 0.050501 sec\nsync_mode=0, O_SYNC=1, time = 0.050018 sec\nsync_mode=1, O_SYNC=0, time = 0.050040 sec\nsync_mode=1, O_SYNC=1, time = 0.813359 sec\nsync_mode=2, O_SYNC=0, time = 0.049870 sec\nsync_mode=2, O_SYNC=1, time = 0.058018 sec\nsync_mode=3, O_SYNC=0, time = 0.049918 sec\nsync_mode=3, O_SYNC=1, time = 0.057873 sec\nsync_mode=4, O_SYNC=0, time = 0.050252 sec\nsync_mode=4, O_SYNC=1, time = 0.050203 sec\nsync_mode=5, O_SYNC=0, time = 0.813939 sec\nsync_mode=5, O_SYNC=1, time = 0.814002 sec\nsync_mode=6, O_SYNC=0, time = 0.057765 sec\nsync_mode=6, O_SYNC=1, time = 0.057842 sec\nsync_mode=7, O_SYNC=0, time = 0.057779 sec\nsync_mode=7, O_SYNC=1, time = 0.057747 sec\ndtbocfg.rb --remove udmabuf0\n[  314.400197] udmabuf udmabuf0: driver uninstalled\n[  314.405171] udmabuf soc:udmabuf0: driver unloaded\n[  314.707901] udmabuf soc:udmabuf0: driver probe start.\n[  314.719421] udmabuf udmabuf0: driver installed\n[  314.723855] udmabuf udmabuf0: major number   = 241\n[  314.729663] udmabuf udmabuf0: minor number   = 0\n[  314.734266] udmabuf udmabuf0: phys address   = 0x3f100000\n[  314.740563] udmabuf udmabuf0: buffer size    = 2097152\n[  314.745686] udmabuf soc:udmabuf0: driver installed.\n./udmabuf_test\nphys_addr=0x3f100000\nsize=2097152\ncheck_buf()\nsync_mode=0, O_SYNC=0, time = 0.693020 sec\nsync_mode=0, O_SYNC=1, time = 0.693056 sec\nsync_mode=1, O_SYNC=0, time = 0.692592 sec\nsync_mode=1, O_SYNC=1, time = 3.925222 sec\nsync_mode=2, O_SYNC=0, time = 0.692521 sec\nsync_mode=2, O_SYNC=1, time = 2.769838 sec\nsync_mode=3, O_SYNC=0, time = 0.692142 sec\nsync_mode=3, O_SYNC=1, time = 2.769865 sec\nsync_mode=4, O_SYNC=0, time = 0.692700 sec\nsync_mode=4, O_SYNC=1, time = 0.692532 sec\nsync_mode=5, O_SYNC=0, time = 3.923159 sec\nsync_mode=5, O_SYNC=1, time = 3.923061 sec\nsync_mode=6, O_SYNC=0, time = 2.769504 sec\nsync_mode=6, O_SYNC=1, time = 2.769548 sec\nsync_mode=7, O_SYNC=0, time = 2.769462 sec\nsync_mode=7, O_SYNC=1, time = 2.769446 sec\nclear_buf()\nsync_mode=0, O_SYNC=0, time = 0.111365 sec\nsync_mode=0, O_SYNC=1, time = 0.111643 sec\nsync_mode=1, O_SYNC=0, time = 0.112314 sec\nsync_mode=1, O_SYNC=1, time = 1.627081 sec\nsync_mode=2, O_SYNC=0, time = 0.112390 sec\nsync_mode=2, O_SYNC=1, time = 0.116042 sec\nsync_mode=3, O_SYNC=0, time = 0.112048 sec\nsync_mode=3, O_SYNC=1, time = 0.116031 sec\nsync_mode=4, O_SYNC=0, time = 0.111098 sec\nsync_mode=4, O_SYNC=1, time = 0.111397 sec\nsync_mode=5, O_SYNC=0, time = 1.627157 sec\nsync_mode=5, O_SYNC=1, time = 1.626896 sec\nsync_mode=6, O_SYNC=0, time = 0.116049 sec\nsync_mode=6, O_SYNC=1, time = 0.115929 sec\nsync_mode=7, O_SYNC=0, time = 0.115969 sec\nsync_mode=7, O_SYNC=1, time = 0.115942 sec\ndtbocfg.rb --remove udmabuf0\n[  354.657740] udmabuf udmabuf0: driver uninstalled\n[  354.662957] udmabuf soc:udmabuf0: driver unloaded\n[  354.965090] udmabuf soc:udmabuf0: driver probe start.\n[  354.981039] udmabuf udmabuf0: driver installed\n[  354.985474] udmabuf udmabuf0: major number   = 241\n[  354.990302] udmabuf udmabuf0: minor number   = 0\n[  354.994912] udmabuf udmabuf0: phys address   = 0x3f100000\n[  355.000326] udmabuf udmabuf0: buffer size    = 4194304\n[  355.005447] udmabuf soc:udmabuf0: driver installed.\n./udmabuf_test\nphys_addr=0x3f100000\nsize=4194304\ncheck_buf()\nsync_mode=0, O_SYNC=0, time = 1.385041 sec\nsync_mode=0, O_SYNC=1, time = 1.383999 sec\nsync_mode=1, O_SYNC=0, time = 1.384259 sec\nsync_mode=1, O_SYNC=1, time = 7.845203 sec\nsync_mode=2, O_SYNC=0, time = 1.383909 sec\nsync_mode=2, O_SYNC=1, time = 5.538720 sec\nsync_mode=3, O_SYNC=0, time = 1.384139 sec\nsync_mode=3, O_SYNC=1, time = 5.538637 sec\nsync_mode=4, O_SYNC=0, time = 1.383614 sec\nsync_mode=4, O_SYNC=1, time = 1.383825 sec\nsync_mode=5, O_SYNC=0, time = 7.845041 sec\nsync_mode=5, O_SYNC=1, time = 7.844723 sec\nsync_mode=6, O_SYNC=0, time = 5.538549 sec\nsync_mode=6, O_SYNC=1, time = 5.538392 sec\nsync_mode=7, O_SYNC=0, time = 5.538395 sec\nsync_mode=7, O_SYNC=1, time = 5.538444 sec\nclear_buf()\nsync_mode=0, O_SYNC=0, time = 0.229383 sec\nsync_mode=0, O_SYNC=1, time = 0.228743 sec\nsync_mode=1, O_SYNC=0, time = 0.228579 sec\nsync_mode=1, O_SYNC=1, time = 3.253492 sec\nsync_mode=2, O_SYNC=0, time = 0.228052 sec\nsync_mode=2, O_SYNC=1, time = 0.230986 sec\nsync_mode=3, O_SYNC=0, time = 0.227550 sec\nsync_mode=3, O_SYNC=1, time = 0.231026 sec\nsync_mode=4, O_SYNC=0, time = 0.228220 sec\nsync_mode=4, O_SYNC=1, time = 0.229280 sec\nsync_mode=5, O_SYNC=0, time = 3.253519 sec\nsync_mode=5, O_SYNC=1, time = 3.253310 sec\nsync_mode=6, O_SYNC=0, time = 0.230866 sec\nsync_mode=6, O_SYNC=1, time = 0.230875 sec\nsync_mode=7, O_SYNC=0, time = 0.230993 sec\nsync_mode=7, O_SYNC=1, time = 0.230881 sec\ndtbocfg.rb --remove udmabuf0\n[  434.526596] udmabuf udmabuf0: driver uninstalled\n[  434.532111] udmabuf soc:udmabuf0: driver unloaded\n\n\nuio_irq_sample\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n\u300cUIO(User space IO)\u306e\u5272\u308a\u8fbc\u307f\u306e\u4f7f\u3044\u65b9\u306e\u4f8b\u300d@Qiita\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/uio_irq_sample$ rake -T\nrake devicetree:install    # Install device tree\nrake devicetree:uninstall  # Uninstall device tree\nrake fpga:install          # Install fpga\nrake install               # Install fpga and devicetrees\nrake uninstall             # Uninstall fpga and devicetrees\n\nrake install \u3067\u3001FPGA \u3068 Device Tree \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/uio_irq_sample$ sudo rake install\ndd if=DE0_NANO_SOC.rbf of=/dev/fpgacfg0 bs=1M\n1+1 records in\n1+1 records out\n1365784 bytes (1.4 MB) copied, 0.202703 s, 6.7 MB/s\ndtbocfg.rb --install uio_irq_sample --dts devicetree.dts\n[  561.659154] udmabuf soc:amba:pump-udmabuf4: driver probe start.\n[  561.676785] udmabuf udmabuf4: driver installed\n[  561.681221] udmabuf udmabuf4: major number   = 241\n[  561.687117] udmabuf udmabuf4: minor number   = 0\n[  561.691721] udmabuf udmabuf4: phys address   = 0x3f100000\n[  561.698038] udmabuf udmabuf4: buffer size    = 4194304\n[  561.703728] udmabuf soc:amba:pump-udmabuf4: driver installed.\n[  561.709867] udmabuf soc:amba:pump-udmabuf5: driver probe start.\n[  561.727397] udmabuf udmabuf5: driver installed\n[  561.731833] udmabuf udmabuf5: major number   = 241\n[  561.737816] udmabuf udmabuf5: minor number   = 1\n[  561.742420] udmabuf udmabuf5: phys address   = 0x3f500000\n[  561.748747] udmabuf udmabuf5: buffer size    = 4194304\n[  561.754385] udmabuf soc:amba:pump-udmabuf5: driver installed.\n\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0(sample1,sample2)\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\nfpga@debian-fpga:~/examples/uio_irq_sample$ rake\ngcc  -o sample1 sample1.c\ngcc  -o sample2 sample2.c\n\nfpga@debian-fpga:~/examples/uio_irq_sample$ ./sample1\ntime = 0.014849 sec\ntime = 0.014748 sec\ntime = 0.014697 sec\ntime = 0.014699 sec\ntime = 0.014741 sec\ntime = 0.014745 sec\ntime = 0.014711 sec\ntime = 0.014774 sec\ntime = 0.014673 sec\ntime = 0.014717 sec\n\nfpga@debian-fpga:~/examples/uio_irq_sample$ ./sample2\ntime = 0.014825 sec\ntime = 0.014743 sec\ntime = 0.014746 sec\ntime = 0.014738 sec\ntime = 0.014708 sec\ntime = 0.014785 sec\ntime = 0.014748 sec\ntime = 0.014720 sec\ntime = 0.014769 sec\ntime = 0.014893 sec\n\n\u7d42\u308f\u3063\u305f\u3089 \u5fc5\u305a uninstall \u3057\u3066 device tree \u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/uio_irq_sample$ sudo rake uninstall\ndtbocfg.rb --remove uio_irq_sample\n[  725.058330] udmabuf udmabuf5: driver uninstalled\n[  725.063857] udmabuf soc:amba:pump-udmabuf5: driver unloaded\n[  725.069677] udmabuf udmabuf4: driver uninstalled\n[  725.076421] udmabuf soc:amba:pump-udmabuf4: driver unloaded\n\n\naccumulator\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n\u300cMessagePack-RPC\u3092\u4f7f\u3063\u3066FPGA\u3092\u5236\u5fa1\u300d@Qiita\n\u300cSynthesijer\u3067\u4f5c\u3063\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092MessagePack-RPC\u3067\u5236\u5fa1\u3059\u308b(\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u7de8)\u300d@Qiita\n\u300cSynthesijer\u3067\u4f5c\u3063\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092MessagePack-RPC\u3067\u5236\u5fa1\u3059\u308b(Altera SoC\u8ad6\u7406\u5408\u6210\u7de8)\u300d\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/accumulator$ rake -T\nrake fpga:install     # Install fpga\nrake install          # Install fpga and devicetrees\nrake run              # run\nrake uninstall        # Uninstall fpga and devicetrees\nrake zptty:install    # Install zptty device driver\nrake zptty:uninstall  # Unnstall zptty device driver\n\nrake install \u3067\u3001FPGA \u3068 Device Tree \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples-de0-nano-soc/accumulator$ sudo rake install\ndd if=DE0_NANO_SOC.rbf of=/dev/fpgacfg0 bs=1M\n1+1 records in\n1+1 records out\n1312432 bytes (1.3 MB) copied, 0.185027 s, 7.1 MB/s\ndtbocfg.rb --install zptty0 --dts zptty0-de0-nano-soc.dts\n[  896.483534] zptty ff202000.zptty: ZPTTY Driver probe start\n[  896.489281] zptty ff202000.zptty: driver installed\n[  896.494062] zptty ff202000.zptty: device name    = zptty0\n[  896.499496] zptty ff202000.zptty: private record = eebbc400 (332bytes)\n[  896.506001] zptty ff202000.zptty: major number   = 240\n[  896.511161] zptty ff202000.zptty: minor number   = 0\n[  896.516112] zptty ff202000.zptty: regs resource  = [mem 0xff202000-0xff202fff flags 0x200]\n[  896.524390] zptty ff202000.zptty: regs address   = f203a000\n[  896.529985] zptty ff202000.zptty: irq resource   = [irq 67 flags 0x404]\n[  896.536574] zptty ff202000.zptty: tx buf size    = 128\n[  896.541718] zptty ff202000.zptty: rx buf size    = 128\n\nfpga@debian-fpga:~/examples/accumulator$ ruby test.rb\nOK : reg = 1; add(6625) => 6626; reg = 6626\nOK : reg = 6626; add(9833) => 16459; reg = 16459\nOK : reg = 16459; add(7280) => 23739; reg = 23739\nOK : reg = 23739; add(3535) => 27274; reg = 27274\nOK : reg = 27274; add(5848) => 33122; reg = 33122\nOK : reg = 33122; add(9770) => 42892; reg = 42892\nOK : reg = 42892; add(2771) => 45663; reg = 45663\n      :\n    (\u4e2d\u7565)\n      :\nOK : reg = -4997637; add(-9940) => -5007577; reg = -5007577\nOK : reg = -5007577; add(-3887) => -5011464; reg = -5011464\nNoMethodError\nArgumentError\nArgumentError\n\n\u6700\u5f8c\u306e\uff13\u884c\u306e\u30a8\u30e9\u30fc\u306f\u3001\u30e1\u30bd\u30c3\u30c9\u540d\u3084\u5f15\u6570\u3092\u9593\u9055\u3048\u305f\u3068\u304d\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3053\u3068\u3092\u691c\u67fb\u3057\u3066\u3044\u308b\u306e\u3067\u6c17\u306b\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\n\u7d42\u308f\u3063\u305f\u3089 \u5fc5\u305a uninstall \u3057\u3066 device tree \u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/accumulator$ sudo rake uninstall\ndtbocfg.rb --remove zptty0\n[  997.960336] zptty ff202000.zptty: driver removed\n\n\nfibonacci\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n\u300c\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u3092\u6c42\u3081\u308b\u56de\u8def\u3092VHDL\u3068MessagePack-RPC\u3067FPGA\u306b\u5b9f\u88c5\u3057\u3066\u307f\u305f(ZYNQ\u7de8)\u300d@Qiita\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/fibonacci$ rake -T\nrake fpga:install     # Install fpga\nrake install          # Install fpga and devicetrees\nrake run              # run\nrake uninstall        # Uninstall fpga and devicetrees\nrake zptty:install    # Install zptty device driver\nrake zptty:uninstall  # Unnstall zptty device driver\n\nrake install \u3067\u3001FPGA \u3068 Device Tree \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/fibonacci$ sudo rake install\ndd if=DE0_NANO_SOC.rbf of=/dev/fpgacfg0 bs=1M\n1+1 records in\n1+1 records out\n1290712 bytes (1.3 MB) copied, 0.186531 s, 6.9 MB/s\ndtbocfg.rb --install zptty0 --dts zptty0-de0-nano-soc.dts\n[ 1124.141145] zptty ff202000.zptty: ZPTTY Driver probe start\n[ 1124.146987] zptty ff202000.zptty: driver installed\n[ 1124.151768] zptty ff202000.zptty: device name    = zptty0\n[ 1124.158807] zptty ff202000.zptty: private record = ee9e3200 (332bytes)\n[ 1124.165893] zptty ff202000.zptty: major number   = 240\n[ 1124.171015] zptty ff202000.zptty: minor number   = 0\n[ 1124.177007] zptty ff202000.zptty: regs resource  = [mem 0xff202000-0xff202fff flags 0x200]\n[ 1124.185780] zptty ff202000.zptty: regs address   = f217e000\n[ 1124.191336] zptty ff202000.zptty: irq resource   = [irq 67 flags 0x404]\n[ 1124.198906] zptty ff202000.zptty: tx buf size    = 128\n[ 1124.204554] zptty ff202000.zptty: rx buf size    = 128\n\nfpga@debian-fpga:~/examples/fibonacci$ ruby test.rb\n0 => 0\n1 => 1\n2 => 1\n3 => 2\n4 => 3\n5 => 5\n6 => 8\n7 => 13\n8 => 21\n9 => 34\n10 => 55\n11 => 89\n12 => 144\n13 => 233\n14 => 377\n15 => 610\n16 => 987\n17 => 1597\n18 => 2584\n19 => 4181\n20 => 6765\n21 => 10946\n22 => 17711\n23 => 28657\n24 => 46368\n25 => 75025\n26 => 121393\n27 => 196418\n28 => 317811\n29 => 514229\n30 => 832040\n31 => 1346269\n32 => 2178309\n33 => 3524578\n34 => 5702887\n35 => 9227465\n36 => 14930352\n37 => 24157817\n38 => 39088169\n39 => 63245986\n40 => 102334155\n41 => 165580141\n42 => 267914296\n43 => 433494437\n44 => 701408733\n45 => 1134903170\n46 => 1836311903\n47 => 2971215073\n48 => 4807526976\n49 => 7778742049\n50 => 12586269025\n51 => 20365011074\n52 => 32951280099\n53 => 53316291173\n54 => 86267571272\n55 => 139583862445\n56 => 225851433717\n57 => 365435296162\n58 => 591286729879\n59 => 956722026041\n60 => 1548008755920\n61 => 2504730781961\n62 => 4052739537881\n63 => 6557470319842\n64 => 10610209857723\n65 => 17167680177565\n66 => 27777890035288\n67 => 44945570212853\n68 => 72723460248141\n69 => 117669030460994\n70 => 190392490709135\n71 => 308061521170129\n72 => 498454011879264\n73 => 806515533049393\n74 => 1304969544928657\n75 => 2111485077978050\n76 => 3416454622906707\n77 => 5527939700884757\n78 => 8944394323791464\n79 => 14472334024676221\n80 => 23416728348467685\n81 => 37889062373143906\n82 => 61305790721611591\n83 => 99194853094755497\n84 => 160500643816367088\n85 => 259695496911122585\n86 => 420196140727489673\n87 => 679891637638612258\n88 => 1100087778366101931\n89 => 1779979416004714189\n90 => 2880067194370816120\n\n\u7d42\u308f\u3063\u305f\u3089 \u5fc5\u305a uninstall \u3057\u3066 device tree \u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/fibonacci$ sudo rake uninstall\ndtbocfg.rb --remove zptty0\n[ 1254.109991] zptty ff202000.zptty: driver removed\n\n\nzundoko\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n\u300c\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7 with VHDL on FPGA\u300d@Qiita\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/zundoko$ rake -T\nrake fpga:install     # Install fpga\nrake install          # Install fpga and devicetrees\nrake run              # run\nrake uninstall        # Uninstall fpga and devicetrees\nrake zptty:install    # Install zptty device driver\nrake zptty:uninstall  # Unnstall zptty device driver\n\nrake install \u3067\u3001FPGA \u3068 Device Tree \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/zundoko$ ruby zundoko.rb\n[\"ZUN\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"KI.YO.SHI!\"]\nfpga@debian-fpga:~/examples/zundoko$ ruby zundoko.rb\n[\"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"KI.YO.SHI!\"]\nfpga@debian-fpga:~/examples/zundoko$ ruby zundoko.rb\n[\"ZUN\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"DOKO\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"KI.YO.SHI!\"]\nfpga@debian-fpga:~/examples/zundoko$ ruby zundoko.rb\n[\"DOKO\", \"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"DOKO\", \"DOKO\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"KI.YO.SHI!\"]\n\n\u7d42\u308f\u3063\u305f\u3089 \u5fc5\u305a uninstall \u3057\u3066 device tree \u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nfpga@debian-fpga:~/examples/zundoko$ sudo rake uninstall\ndtbocfg.rb --remove zptty0\n[ 1369.786291] zptty ff202000.zptty: driver removed\n\n## \u306f\u3058\u3081\u306b\n\n[\u300cFPGA+SoC+Linux+Device Tree Overlay+FPGA Manager(\u30d6\u30fc\u30c8\u30a4\u30e1\u30fc\u30b8\u306e\u63d0\u4f9b) @Qiita\u300d](http://qiita.com/ikwzm/items/cdeb3c9c352776eac683)\u3067\u3001DE0-Nano-SoC \u7528\u306e Device Tree Overay \u3068 FPGA Manager \u306b\u5bfe\u5fdc\u3057\u305f Linux Kernel \u3068 Debian8 RootFS \u3092\u7d39\u4ecb\u3057\u307e\u3057\u305f\u3002\n\n\u3053\u3053\u3067\u306f\u3001\u305d\u306e\u30b7\u30b9\u30c6\u30e0\u4e0a\u3067\u52d5\u4f5c\u3059\u308b\u5b9f\u4f8b\u3092\u3044\u304f\u3064\u304b\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u3044\u305a\u308c\u306e\u5b9f\u4f8b\u3082\u304b\u3064\u3066 Qiita \u306b\u6295\u7a3f\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u5b9f\u4f8b\u306e\u8a73\u7d30\u306f\u8a18\u4e8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n[https://github.com/ikwzm/FPGA-SoC-Linux](https://github.com/ikwzm/FPGA-SoC-Linux)\n\ntarget/de0-nano-soc/examples-001.tgz \u306b\u30a2\u30fc\u30ab\u30a4\u30d6\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u30b7\u30b9\u30c6\u30e0\u306e\u3069\u3053\u304b\u306b\u5c55\u958b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3053\u3053\u3067\u306f\u3001/home/fpga/examples \u306b\u5c55\u958b\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001\u3053\u3061\u3089\u306e\u8a18\u4e8b[\u300cFPGA+SoC+Linux+Device Tree Overlay+FPGA Manager(ZYBO-Examples)\u300d](http://qiita.com/ikwzm/items/61ea3c5a037b83006f17)\u3092\u6295\u7a3f\u3057\u305f\u6642\u306b\u6bd4\u3079\u3066\u3001FPGA Device Drives \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e0a\u304c\u3063\u3066\u3044\u307e\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u3001Altera-SoC \u7528\u306e HPS-FPGA Bridge \u306e\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nfpga-soc-linux-drivers-4.4.7-armv7-fpga_0.0.**2**-1_armhf.deb \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u3059\u3067\u306b fpga-soc-linux-drivers-4.4.7-armv7-fpga_0.0.**1**-1_armhf.deb \u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~$ sudo dpkg -r fpga-soc-linux-drivers-4.4.7-armv7-fpga\n(Reading database ... 17846 files and directories currently installed.)\nRemoving fpga-soc-linux-drivers-4.4.7-armv7-fpga (0.0.1-1) ...\n[  157.092376] fpgacfg soc:fpgacfg0: driver unloaded\nRemoved symlink /etc/systemd/system/multi-user.target.wants/zptty.service.\nRemoved symlink /etc/systemd/system/multi-user.target.wants/udmabuf.service.\nRemoved symlink /etc/systemd/system/multi-user.target.wants/fpga-manager.service.\nRemoved symlink /etc/systemd/system/multi-user.target.wants/device-tree-overlay.service.\nfpga@debian-fpga:~$ sudo dpkg -i fpga-soc-linux-drivers-4.4.7-armv7-fpga_0.0.2-1_armhf.deb\nSelecting previously unselected package fpga-soc-linux-drivers-4.4.7-armv7-fpga.\n(Reading database ... 17830 files and directories currently installed.)\nPreparing to unpack fpga-soc-linux-drivers-4.4.7-armv7-fpga_0.0.2-1_armhf.deb ...\nUnpacking fpga-soc-linux-drivers-4.4.7-armv7-fpga (0.0.2-1) ...\nSetting up fpga-soc-linux-drivers-4.4.7-armv7-fpga (0.0.2-1) ...\nCreated symlink from /etc/systemd/system/multi-user.target.wants/device-tree-overlay.service to /etc/systemd/system/device-tree-overlay.service.\nCreated symlink from /etc/systemd/system/multi-user.target.wants/fpga-manager.service to /etc/systemd/system/fpga-manager.service.\nCreated symlink from /etc/systemd/system/multi-user.target.wants/udmabuf.service to /etc/systemd/system/udmabuf.service.\nCreated symlink from /etc/systemd/system/multi-user.target.wants/zptty.service to /etc/systemd/system/zptty.service.\n[  196.891617] fpgacfg soc:fpgacfg0: driver probe start.\n[  196.896907] fpgacfg soc:fpgacfg0: driver installed.\n[  196.901849] fpgacfg soc:fpgacfg0: device name  : fpgacfg0\n[  196.907234] fpgacfg soc:fpgacfg0: fpga manager : Altera SOCFPGA FPGA Manager\n```\n\n## udmabuf_test\n\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n- [\u300cLinux\u3067\u30e6\u30fc\u30b6\u30fc\u7a7a\u9593\u3067\u52d5\u4f5c\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u304c\u30e1\u30e2\u30ea\u3092\u5171\u6709\u3059\u308b\u305f\u3081\u306e\u30c7\u30d0\u30a4\u30b9\u30c9\u30e9\u30a4\u30d0\u300d@Qiita](http://qiita.com/ikwzm/items/cc1bb33ff43a491440ea)\n\nudmabuf_test \u306f FPGA \u90e8\u306f\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001FPGA Manager \u306f\u4f7f\u3044\u307e\u305b\u3093\u3002\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/udmabuf_test$ rake -T\nrake test[buffer_size]             # udmabuf test\nrake test_all                      # udmabuf test all (buffer_size_list = [...\nrake udmabuf:install[buffer_size]  # Install udmabuf\nrake udmabuf:uninstall             # Uninstall udmabuf\n```\n\ndevice tree overlay \u3092\u4f7f\u3046\u305f\u3081\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/udmabuf_test$ sudo rake test_all\n[  294.295987] udmabuf soc:udmabuf0: driver probe start.\n[  294.304637] udmabuf udmabuf0: driver installed\n[  294.310349] udmabuf udmabuf0: major number   = 241\n[  294.315127] udmabuf udmabuf0: minor number   = 0\n[  294.320748] udmabuf udmabuf0: phys address   = 0x3f100000\n[  294.326131] udmabuf udmabuf0: buffer size    = 1048576\n[  294.332211] udmabuf soc:udmabuf0: driver installed.\n./udmabuf_test\nphys_addr=0x3f100000\nsize=1048576\ncheck_buf()\nsync_mode=0, O_SYNC=0, time = 0.346007 sec\nsync_mode=0, O_SYNC=1, time = 0.345906 sec\nsync_mode=1, O_SYNC=0, time = 0.346029 sec\nsync_mode=1, O_SYNC=1, time = 1.961720 sec\nsync_mode=2, O_SYNC=0, time = 0.345875 sec\nsync_mode=2, O_SYNC=1, time = 1.385162 sec\nsync_mode=3, O_SYNC=0, time = 0.345877 sec\nsync_mode=3, O_SYNC=1, time = 1.384824 sec\nsync_mode=4, O_SYNC=0, time = 0.346086 sec\nsync_mode=4, O_SYNC=1, time = 0.345775 sec\nsync_mode=5, O_SYNC=0, time = 1.961395 sec\nsync_mode=5, O_SYNC=1, time = 1.961555 sec\nsync_mode=6, O_SYNC=0, time = 1.384710 sec\nsync_mode=6, O_SYNC=1, time = 1.384663 sec\nsync_mode=7, O_SYNC=0, time = 1.384574 sec\nsync_mode=7, O_SYNC=1, time = 1.384642 sec\nclear_buf()\nsync_mode=0, O_SYNC=0, time = 0.050501 sec\nsync_mode=0, O_SYNC=1, time = 0.050018 sec\nsync_mode=1, O_SYNC=0, time = 0.050040 sec\nsync_mode=1, O_SYNC=1, time = 0.813359 sec\nsync_mode=2, O_SYNC=0, time = 0.049870 sec\nsync_mode=2, O_SYNC=1, time = 0.058018 sec\nsync_mode=3, O_SYNC=0, time = 0.049918 sec\nsync_mode=3, O_SYNC=1, time = 0.057873 sec\nsync_mode=4, O_SYNC=0, time = 0.050252 sec\nsync_mode=4, O_SYNC=1, time = 0.050203 sec\nsync_mode=5, O_SYNC=0, time = 0.813939 sec\nsync_mode=5, O_SYNC=1, time = 0.814002 sec\nsync_mode=6, O_SYNC=0, time = 0.057765 sec\nsync_mode=6, O_SYNC=1, time = 0.057842 sec\nsync_mode=7, O_SYNC=0, time = 0.057779 sec\nsync_mode=7, O_SYNC=1, time = 0.057747 sec\ndtbocfg.rb --remove udmabuf0\n[  314.400197] udmabuf udmabuf0: driver uninstalled\n[  314.405171] udmabuf soc:udmabuf0: driver unloaded\n[  314.707901] udmabuf soc:udmabuf0: driver probe start.\n[  314.719421] udmabuf udmabuf0: driver installed\n[  314.723855] udmabuf udmabuf0: major number   = 241\n[  314.729663] udmabuf udmabuf0: minor number   = 0\n[  314.734266] udmabuf udmabuf0: phys address   = 0x3f100000\n[  314.740563] udmabuf udmabuf0: buffer size    = 2097152\n[  314.745686] udmabuf soc:udmabuf0: driver installed.\n./udmabuf_test\nphys_addr=0x3f100000\nsize=2097152\ncheck_buf()\nsync_mode=0, O_SYNC=0, time = 0.693020 sec\nsync_mode=0, O_SYNC=1, time = 0.693056 sec\nsync_mode=1, O_SYNC=0, time = 0.692592 sec\nsync_mode=1, O_SYNC=1, time = 3.925222 sec\nsync_mode=2, O_SYNC=0, time = 0.692521 sec\nsync_mode=2, O_SYNC=1, time = 2.769838 sec\nsync_mode=3, O_SYNC=0, time = 0.692142 sec\nsync_mode=3, O_SYNC=1, time = 2.769865 sec\nsync_mode=4, O_SYNC=0, time = 0.692700 sec\nsync_mode=4, O_SYNC=1, time = 0.692532 sec\nsync_mode=5, O_SYNC=0, time = 3.923159 sec\nsync_mode=5, O_SYNC=1, time = 3.923061 sec\nsync_mode=6, O_SYNC=0, time = 2.769504 sec\nsync_mode=6, O_SYNC=1, time = 2.769548 sec\nsync_mode=7, O_SYNC=0, time = 2.769462 sec\nsync_mode=7, O_SYNC=1, time = 2.769446 sec\nclear_buf()\nsync_mode=0, O_SYNC=0, time = 0.111365 sec\nsync_mode=0, O_SYNC=1, time = 0.111643 sec\nsync_mode=1, O_SYNC=0, time = 0.112314 sec\nsync_mode=1, O_SYNC=1, time = 1.627081 sec\nsync_mode=2, O_SYNC=0, time = 0.112390 sec\nsync_mode=2, O_SYNC=1, time = 0.116042 sec\nsync_mode=3, O_SYNC=0, time = 0.112048 sec\nsync_mode=3, O_SYNC=1, time = 0.116031 sec\nsync_mode=4, O_SYNC=0, time = 0.111098 sec\nsync_mode=4, O_SYNC=1, time = 0.111397 sec\nsync_mode=5, O_SYNC=0, time = 1.627157 sec\nsync_mode=5, O_SYNC=1, time = 1.626896 sec\nsync_mode=6, O_SYNC=0, time = 0.116049 sec\nsync_mode=6, O_SYNC=1, time = 0.115929 sec\nsync_mode=7, O_SYNC=0, time = 0.115969 sec\nsync_mode=7, O_SYNC=1, time = 0.115942 sec\ndtbocfg.rb --remove udmabuf0\n[  354.657740] udmabuf udmabuf0: driver uninstalled\n[  354.662957] udmabuf soc:udmabuf0: driver unloaded\n[  354.965090] udmabuf soc:udmabuf0: driver probe start.\n[  354.981039] udmabuf udmabuf0: driver installed\n[  354.985474] udmabuf udmabuf0: major number   = 241\n[  354.990302] udmabuf udmabuf0: minor number   = 0\n[  354.994912] udmabuf udmabuf0: phys address   = 0x3f100000\n[  355.000326] udmabuf udmabuf0: buffer size    = 4194304\n[  355.005447] udmabuf soc:udmabuf0: driver installed.\n./udmabuf_test\nphys_addr=0x3f100000\nsize=4194304\ncheck_buf()\nsync_mode=0, O_SYNC=0, time = 1.385041 sec\nsync_mode=0, O_SYNC=1, time = 1.383999 sec\nsync_mode=1, O_SYNC=0, time = 1.384259 sec\nsync_mode=1, O_SYNC=1, time = 7.845203 sec\nsync_mode=2, O_SYNC=0, time = 1.383909 sec\nsync_mode=2, O_SYNC=1, time = 5.538720 sec\nsync_mode=3, O_SYNC=0, time = 1.384139 sec\nsync_mode=3, O_SYNC=1, time = 5.538637 sec\nsync_mode=4, O_SYNC=0, time = 1.383614 sec\nsync_mode=4, O_SYNC=1, time = 1.383825 sec\nsync_mode=5, O_SYNC=0, time = 7.845041 sec\nsync_mode=5, O_SYNC=1, time = 7.844723 sec\nsync_mode=6, O_SYNC=0, time = 5.538549 sec\nsync_mode=6, O_SYNC=1, time = 5.538392 sec\nsync_mode=7, O_SYNC=0, time = 5.538395 sec\nsync_mode=7, O_SYNC=1, time = 5.538444 sec\nclear_buf()\nsync_mode=0, O_SYNC=0, time = 0.229383 sec\nsync_mode=0, O_SYNC=1, time = 0.228743 sec\nsync_mode=1, O_SYNC=0, time = 0.228579 sec\nsync_mode=1, O_SYNC=1, time = 3.253492 sec\nsync_mode=2, O_SYNC=0, time = 0.228052 sec\nsync_mode=2, O_SYNC=1, time = 0.230986 sec\nsync_mode=3, O_SYNC=0, time = 0.227550 sec\nsync_mode=3, O_SYNC=1, time = 0.231026 sec\nsync_mode=4, O_SYNC=0, time = 0.228220 sec\nsync_mode=4, O_SYNC=1, time = 0.229280 sec\nsync_mode=5, O_SYNC=0, time = 3.253519 sec\nsync_mode=5, O_SYNC=1, time = 3.253310 sec\nsync_mode=6, O_SYNC=0, time = 0.230866 sec\nsync_mode=6, O_SYNC=1, time = 0.230875 sec\nsync_mode=7, O_SYNC=0, time = 0.230993 sec\nsync_mode=7, O_SYNC=1, time = 0.230881 sec\ndtbocfg.rb --remove udmabuf0\n[  434.526596] udmabuf udmabuf0: driver uninstalled\n[  434.532111] udmabuf soc:udmabuf0: driver unloaded\n```\n\n## uio_irq_sample\n\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n- [\u300cUIO(User space IO)\u306e\u5272\u308a\u8fbc\u307f\u306e\u4f7f\u3044\u65b9\u306e\u4f8b\u300d@Qiita](http://qiita.com/ikwzm/items/b22592c31cdbb9ab6cf7)\n\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/uio_irq_sample$ rake -T\nrake devicetree:install    # Install device tree\nrake devicetree:uninstall  # Uninstall device tree\nrake fpga:install          # Install fpga\nrake install               # Install fpga and devicetrees\nrake uninstall             # Uninstall fpga and devicetrees\n```\n\nrake install \u3067\u3001FPGA \u3068 Device Tree \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/uio_irq_sample$ sudo rake install\ndd if=DE0_NANO_SOC.rbf of=/dev/fpgacfg0 bs=1M\n1+1 records in\n1+1 records out\n1365784 bytes (1.4 MB) copied, 0.202703 s, 6.7 MB/s\ndtbocfg.rb --install uio_irq_sample --dts devicetree.dts\n[  561.659154] udmabuf soc:amba:pump-udmabuf4: driver probe start.\n[  561.676785] udmabuf udmabuf4: driver installed\n[  561.681221] udmabuf udmabuf4: major number   = 241\n[  561.687117] udmabuf udmabuf4: minor number   = 0\n[  561.691721] udmabuf udmabuf4: phys address   = 0x3f100000\n[  561.698038] udmabuf udmabuf4: buffer size    = 4194304\n[  561.703728] udmabuf soc:amba:pump-udmabuf4: driver installed.\n[  561.709867] udmabuf soc:amba:pump-udmabuf5: driver probe start.\n[  561.727397] udmabuf udmabuf5: driver installed\n[  561.731833] udmabuf udmabuf5: major number   = 241\n[  561.737816] udmabuf udmabuf5: minor number   = 1\n[  561.742420] udmabuf udmabuf5: phys address   = 0x3f500000\n[  561.748747] udmabuf udmabuf5: buffer size    = 4194304\n[  561.754385] udmabuf soc:amba:pump-udmabuf5: driver installed.\n```\n\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0(sample1,sample2)\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\n\n```\nfpga@debian-fpga:~/examples/uio_irq_sample$ rake\ngcc  -o sample1 sample1.c\ngcc  -o sample2 sample2.c\n```\n\n```\nfpga@debian-fpga:~/examples/uio_irq_sample$ ./sample1\ntime = 0.014849 sec\ntime = 0.014748 sec\ntime = 0.014697 sec\ntime = 0.014699 sec\ntime = 0.014741 sec\ntime = 0.014745 sec\ntime = 0.014711 sec\ntime = 0.014774 sec\ntime = 0.014673 sec\ntime = 0.014717 sec\n```\n\n```\nfpga@debian-fpga:~/examples/uio_irq_sample$ ./sample2\ntime = 0.014825 sec\ntime = 0.014743 sec\ntime = 0.014746 sec\ntime = 0.014738 sec\ntime = 0.014708 sec\ntime = 0.014785 sec\ntime = 0.014748 sec\ntime = 0.014720 sec\ntime = 0.014769 sec\ntime = 0.014893 sec\n```\n\n\u7d42\u308f\u3063\u305f\u3089 **\u5fc5\u305a** uninstall \u3057\u3066 device tree \u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/uio_irq_sample$ sudo rake uninstall\ndtbocfg.rb --remove uio_irq_sample\n[  725.058330] udmabuf udmabuf5: driver uninstalled\n[  725.063857] udmabuf soc:amba:pump-udmabuf5: driver unloaded\n[  725.069677] udmabuf udmabuf4: driver uninstalled\n[  725.076421] udmabuf soc:amba:pump-udmabuf4: driver unloaded\n```\n\n## accumulator\n\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n- [\u300cMessagePack-RPC\u3092\u4f7f\u3063\u3066FPGA\u3092\u5236\u5fa1\u300d@Qiita](http://qiita.com/ikwzm/items/2644c6e50a7049c75d49)\n- [\u300cSynthesijer\u3067\u4f5c\u3063\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092MessagePack-RPC\u3067\u5236\u5fa1\u3059\u308b(\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u7de8)\u300d@Qiita](http://qiita.com/ikwzm/items/6cb623b057a687ff4a8e)\n- [\u300cSynthesijer\u3067\u4f5c\u3063\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092MessagePack-RPC\u3067\u5236\u5fa1\u3059\u308b(Altera SoC\u8ad6\u7406\u5408\u6210\u7de8)\u300d](http://qiita.com/ikwzm/items/1e65fe447df72f6fbb5a)\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/accumulator$ rake -T\nrake fpga:install     # Install fpga\nrake install          # Install fpga and devicetrees\nrake run              # run\nrake uninstall        # Uninstall fpga and devicetrees\nrake zptty:install    # Install zptty device driver\nrake zptty:uninstall  # Unnstall zptty device driver\n```\n\nrake install \u3067\u3001FPGA \u3068 Device Tree \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples-de0-nano-soc/accumulator$ sudo rake install\ndd if=DE0_NANO_SOC.rbf of=/dev/fpgacfg0 bs=1M\n1+1 records in\n1+1 records out\n1312432 bytes (1.3 MB) copied, 0.185027 s, 7.1 MB/s\ndtbocfg.rb --install zptty0 --dts zptty0-de0-nano-soc.dts\n[  896.483534] zptty ff202000.zptty: ZPTTY Driver probe start\n[  896.489281] zptty ff202000.zptty: driver installed\n[  896.494062] zptty ff202000.zptty: device name    = zptty0\n[  896.499496] zptty ff202000.zptty: private record = eebbc400 (332bytes)\n[  896.506001] zptty ff202000.zptty: major number   = 240\n[  896.511161] zptty ff202000.zptty: minor number   = 0\n[  896.516112] zptty ff202000.zptty: regs resource  = [mem 0xff202000-0xff202fff flags 0x200]\n[  896.524390] zptty ff202000.zptty: regs address   = f203a000\n[  896.529985] zptty ff202000.zptty: irq resource   = [irq 67 flags 0x404]\n[  896.536574] zptty ff202000.zptty: tx buf size    = 128\n[  896.541718] zptty ff202000.zptty: rx buf size    = 128\n```\n\n```\nfpga@debian-fpga:~/examples/accumulator$ ruby test.rb\nOK : reg = 1; add(6625) => 6626; reg = 6626\nOK : reg = 6626; add(9833) => 16459; reg = 16459\nOK : reg = 16459; add(7280) => 23739; reg = 23739\nOK : reg = 23739; add(3535) => 27274; reg = 27274\nOK : reg = 27274; add(5848) => 33122; reg = 33122\nOK : reg = 33122; add(9770) => 42892; reg = 42892\nOK : reg = 42892; add(2771) => 45663; reg = 45663\n      :\n    (\u4e2d\u7565)\n      :\nOK : reg = -4997637; add(-9940) => -5007577; reg = -5007577\nOK : reg = -5007577; add(-3887) => -5011464; reg = -5011464\nNoMethodError\nArgumentError\nArgumentError\n```\n\n\u6700\u5f8c\u306e\uff13\u884c\u306e\u30a8\u30e9\u30fc\u306f\u3001\u30e1\u30bd\u30c3\u30c9\u540d\u3084\u5f15\u6570\u3092\u9593\u9055\u3048\u305f\u3068\u304d\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3053\u3068\u3092\u691c\u67fb\u3057\u3066\u3044\u308b\u306e\u3067\u6c17\u306b\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\n\n\u7d42\u308f\u3063\u305f\u3089 **\u5fc5\u305a** uninstall \u3057\u3066 device tree \u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/accumulator$ sudo rake uninstall\ndtbocfg.rb --remove zptty0\n[  997.960336] zptty ff202000.zptty: driver removed\n```\n\n## fibonacci\n\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n- [\u300c\u30d5\u30a3\u30dc\u30ca\u30c3\u30c1\u3092\u6c42\u3081\u308b\u56de\u8def\u3092VHDL\u3068MessagePack-RPC\u3067FPGA\u306b\u5b9f\u88c5\u3057\u3066\u307f\u305f(ZYNQ\u7de8)\u300d@Qiita](http://qiita.com/ikwzm/items/0d608ace0e9a9a872a0b)\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/fibonacci$ rake -T\nrake fpga:install     # Install fpga\nrake install          # Install fpga and devicetrees\nrake run              # run\nrake uninstall        # Uninstall fpga and devicetrees\nrake zptty:install    # Install zptty device driver\nrake zptty:uninstall  # Unnstall zptty device driver\n```\n\nrake install \u3067\u3001FPGA \u3068 Device Tree \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/fibonacci$ sudo rake install\ndd if=DE0_NANO_SOC.rbf of=/dev/fpgacfg0 bs=1M\n1+1 records in\n1+1 records out\n1290712 bytes (1.3 MB) copied, 0.186531 s, 6.9 MB/s\ndtbocfg.rb --install zptty0 --dts zptty0-de0-nano-soc.dts\n[ 1124.141145] zptty ff202000.zptty: ZPTTY Driver probe start\n[ 1124.146987] zptty ff202000.zptty: driver installed\n[ 1124.151768] zptty ff202000.zptty: device name    = zptty0\n[ 1124.158807] zptty ff202000.zptty: private record = ee9e3200 (332bytes)\n[ 1124.165893] zptty ff202000.zptty: major number   = 240\n[ 1124.171015] zptty ff202000.zptty: minor number   = 0\n[ 1124.177007] zptty ff202000.zptty: regs resource  = [mem 0xff202000-0xff202fff flags 0x200]\n[ 1124.185780] zptty ff202000.zptty: regs address   = f217e000\n[ 1124.191336] zptty ff202000.zptty: irq resource   = [irq 67 flags 0x404]\n[ 1124.198906] zptty ff202000.zptty: tx buf size    = 128\n[ 1124.204554] zptty ff202000.zptty: rx buf size    = 128\n```\n\n```\nfpga@debian-fpga:~/examples/fibonacci$ ruby test.rb\n0 => 0\n1 => 1\n2 => 1\n3 => 2\n4 => 3\n5 => 5\n6 => 8\n7 => 13\n8 => 21\n9 => 34\n10 => 55\n11 => 89\n12 => 144\n13 => 233\n14 => 377\n15 => 610\n16 => 987\n17 => 1597\n18 => 2584\n19 => 4181\n20 => 6765\n21 => 10946\n22 => 17711\n23 => 28657\n24 => 46368\n25 => 75025\n26 => 121393\n27 => 196418\n28 => 317811\n29 => 514229\n30 => 832040\n31 => 1346269\n32 => 2178309\n33 => 3524578\n34 => 5702887\n35 => 9227465\n36 => 14930352\n37 => 24157817\n38 => 39088169\n39 => 63245986\n40 => 102334155\n41 => 165580141\n42 => 267914296\n43 => 433494437\n44 => 701408733\n45 => 1134903170\n46 => 1836311903\n47 => 2971215073\n48 => 4807526976\n49 => 7778742049\n50 => 12586269025\n51 => 20365011074\n52 => 32951280099\n53 => 53316291173\n54 => 86267571272\n55 => 139583862445\n56 => 225851433717\n57 => 365435296162\n58 => 591286729879\n59 => 956722026041\n60 => 1548008755920\n61 => 2504730781961\n62 => 4052739537881\n63 => 6557470319842\n64 => 10610209857723\n65 => 17167680177565\n66 => 27777890035288\n67 => 44945570212853\n68 => 72723460248141\n69 => 117669030460994\n70 => 190392490709135\n71 => 308061521170129\n72 => 498454011879264\n73 => 806515533049393\n74 => 1304969544928657\n75 => 2111485077978050\n76 => 3416454622906707\n77 => 5527939700884757\n78 => 8944394323791464\n79 => 14472334024676221\n80 => 23416728348467685\n81 => 37889062373143906\n82 => 61305790721611591\n83 => 99194853094755497\n84 => 160500643816367088\n85 => 259695496911122585\n86 => 420196140727489673\n87 => 679891637638612258\n88 => 1100087778366101931\n89 => 1779979416004714189\n90 => 2880067194370816120\n```\n\n\u7d42\u308f\u3063\u305f\u3089 **\u5fc5\u305a** uninstall \u3057\u3066 device tree \u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/fibonacci$ sudo rake uninstall\ndtbocfg.rb --remove zptty0\n[ 1254.109991] zptty ff202000.zptty: driver removed\n```\n\n## zundoko\n\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u3067\u7d39\u4ecb\u3057\u305f\u5b9f\u4f8b\u3067\u3059\u3002\n\n- [\u300c\u30ba\u30f3\u30c9\u30b3\u30ad\u30e8\u30b7 with VHDL on FPGA\u300d@Qiita](http://qiita.com/ikwzm/items/fb68798172fe980b77b2)\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f ruby \u306e rake \u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f Rakefile \u306e\u8aac\u660e\u306f\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u8a73\u7d30\u3092\u77e5\u308a\u305f\u3044\u65b9\u306f Rakefile \u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/zundoko$ rake -T\nrake fpga:install     # Install fpga\nrake install          # Install fpga and devicetrees\nrake run              # run\nrake uninstall        # Uninstall fpga and devicetrees\nrake zptty:install    # Install zptty device driver\nrake zptty:uninstall  # Unnstall zptty device driver\n```\n\nrake install \u3067\u3001FPGA \u3068 Device Tree \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u306f super user \u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002sudo \u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/zundoko$ ruby zundoko.rb\n[\"ZUN\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"KI.YO.SHI!\"]\nfpga@debian-fpga:~/examples/zundoko$ ruby zundoko.rb\n[\"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"KI.YO.SHI!\"]\nfpga@debian-fpga:~/examples/zundoko$ ruby zundoko.rb\n[\"ZUN\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"DOKO\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"KI.YO.SHI!\"]\nfpga@debian-fpga:~/examples/zundoko$ ruby zundoko.rb\n[\"DOKO\", \"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"DOKO\", \"DOKO\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"DOKO\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"ZUN\", \"DOKO\", \"ZUN\", \"ZUN\", \"ZUN\", \"ZUN\", \"DOKO\", \"KI.YO.SHI!\"]\n```\n\n\u7d42\u308f\u3063\u305f\u3089 **\u5fc5\u305a** uninstall \u3057\u3066 device tree \u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\nfpga@debian-fpga:~/examples/zundoko$ sudo rake uninstall\ndtbocfg.rb --remove zptty0\n[ 1369.786291] zptty ff202000.zptty: driver removed\n```\n\n\n\n"}