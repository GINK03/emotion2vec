{"context": "\n\n\u524d\u7f6e\u304d\n\u3000\u4eca\u9031\u306e\u6708\u66dc\u65e5\u306b\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092Qitta\u306b\u6295\u7a3f\u3057\u3066\u3001\u7686\u3055\u3093\u3068\u5171\u6709\u3057\u307e\u3057\u305f\u3002\n\n[ AWS\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u62c5\u5f53\u8005\u5fc5\u898b] Config Rules \u3001Lambda\u3001SNS\u306b\u3088\u308b\u4e2d\u592e\u96c6\u6a29\u578b\u306e\u7ba1\u7406\u7d71\u5236\u306b\u3064\u3044\u3066\n\n\u3000\u5272\u308a\u3068\u305f\u304f\u3055\u3093\u306e\u65b9\u3005\u306b\u4e0a\u8a18\u306e\u6295\u7a3f\u3092\u898b\u3066\u3044\u305f\u3060\u3044\u3066\u3001\u975e\u5e38\u306b\u5b09\u3057\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u4eca\u5f8c\u3082\u3001\u81ea\u5206\u306a\u308a\u306bDeepDive\u3057\u3066\u3001\u5f97\u3089\u308c\u305f\u60c5\u5831\u3092\u7686\u3055\u3093\u306b\u5171\u6709\u3057\u307e\u3059\u306e\u3067\u3001\u5c11\u3057\u3067\u3082\u304a\u5f79\u306b\u7acb\u3066\u308c\u3070\u5b09\u3057\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u6982\u8981\n\u3000\u524d\u56de\u306e\u6295\u7a3f\u3067\u306f\u3001\u4e0b\u8a18\u306e\u56f3\u306b\u793a\u3059\u901a\u308a\u306b\u3001\u7ba1\u7406\u3055\u308c\u308b\u5074\u306eConfig Rules\u304c\u7ba1\u7406\u3059\u308b\u5074\u306eLambda\u3092\u547c\u3073\u51fa\u3057\u3066\u3001\u7ba1\u7406\u3055\u308c\u308b\u5074\u306eCloudTrail\u306e\u8a2d\u5b9a\u3092\u76e3\u67fb\u3067\u304d\u308b\u3053\u3068\u3092\u691c\u8a3c\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u3000\u4eca\u56de\u306f\u3001\u2460 ~ \u2464\u306e\u9593\u306b\u3001\u3069\u3093\u306a\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u7686\u3055\u3093\u306b\u5171\u6709\u3057\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u7de8\n\nConfig \u2192 Lambda ( \u2460 )\n\nConfig\u304b\u3089 Lambda\u306b\u6e21\u3055\u308c\u308b\u60c5\u5831\u3000\u2192\u3000event\n\n{\n    \"version\": \"1.0\",\n    \"invokingEvent\": \"{\n      \\\"configurationItemDiff\\\":{},\n      \\\"configurationItem\\\":{\n        \\\"configurationItemVersion\\\":\\\"1.2\\\",\n        \\\"relatedEvents\\\":[\\\"a46a2a05-b61d-4e01-903c-c396001b6150\\\"],\n        \\\"relationships\\\":[],\n        \\\"configuration\\\":{},\n        \\\"supplementaryConfiguration\\\":{},\n        \\\"tags\\\":{},\n        \\\"configurationItemCaptureTime\\\":\\\"2016-07-14T14:12:56.439Z\\\",\n        \\\"configurationStateId\\\":43,\n        \\\"awsAccountId\\\":\\\"**********\\\",\n        \\\"configurationItemStatus\\\":\\\"OK\\\",\n        \\\"resourceType\\\":\\\"AWS::CloudTrail::Trail\\\",\n        \\\"resourceId\\\":\\\"Cloud-Trail\\\",\n        \\\"resourceName\\\":null,\n        \\\"ARN\\\":\\\"arn:aws:cloudtrail:us-east-1:**********:trail/Cloud-Trail\\\",\n        \\\"awsRegion\\\":\\\"us-east-1\\\",\n        \\\"availabilityZone\\\":\\\"Regional\\\",\n        \\\"configurationStateMd5Hash\\\":\\\"86e1f7bf6caa764267a918a160086d79\\\",\n        \\\"resourceCreationTime\\\":null\n      },\n      \\\"notificationCreationTime\\\":\\\"2016-07-14T14:12:56.553Z\\\",\n      \\\"messageType\\\":\\\"ConfigurationItemChangeNotification\\\",\n      \\\"recordVersion\\\":\\\"1.2\\\"\n    }\",\n    \"ruleParameters\": \"{\\\"executionRole\\\":\\\"arn:aws:iam::**********:role/config-rules-admin\\\"}\",\n    \"resultToken\": \"**********\",\n    \"eventLeftScope\": false,\n    \"executionRoleArn\": \"arn:aws:iam::**********:role/config-role\",\n    \"configRuleArn\": \"arn:aws:config:us-east-1:**********:config-rule/config-rule-asdspc\",\n    \"configRuleName\": \"CloudTrail-LogValidation-Enabled\",\n    \"configRuleId\": \"config-rule-asdspc\",\n    \"accountId\": \"**********\"\n}\n\n\nLambda \u2192 Config ( \u2461 )\n\nLambda\u304cAssumeRole\u6642\u306e\u4e00\u6642\u7684\u306a\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u60c5\u5831\n{\n    \"expired\": true,\n    \"expireTime\": null,\n    \"masterCredentials\": {\n        \"expired\": false,\n        \"expireTime\": null,\n        \"accessKeyId\": \"ASI*****HVNBBA\",\n        \"sessionToken\": \"***************\"\n        \"envPrefix\": \"AWS\"\n    },\n    \"params\": {\n        \"RoleArn\": \"arn:aws:iam::********:role/config-rules-admin\",\n        \"RoleSessionName\": \"temporary-credentials\"\n    }\n}\n\n\nLambda\u304b\u3089 Config\u306b\u6e21\u3055\u308c\u308b\u8a55\u4fa1\u7d50\u679c \u2192 putEvaluationsRequest\n\n{\n    \"Evaluations\": [\n        {\n            \"ComplianceResourceType\": \"AWS::CloudTrail::Trail\",\n            \"ComplianceResourceId\": \"Cloud-Trail\",\n            \"ComplianceType\": \"NON_COMPLIANT / COMPLIANT\",\n            \"OrderingTimestamp\": \"2016-07-14T14:12:56.439Z\"\n        }\n    ],\n    \"ResultToken\": \"**********\"\n}\n\n\nSNS ( \u2463\u3068\u2464 )\n\nCloudTrail\u306b\u5bfe\u3059\u308b\u76e3\u67fb\u30ec\u30dd\u30fc\u30c8\u60c5\u5831\n\n[AWS Config:Region] AWS::CloudTrail::Trail Name is NON_COMPLIANT with Config Rule Name\n\n[AWS Config:Region] AWS::CloudTrail::Trail Name is COMPLIANT with Config Rule Name\n\n\n\u4e0a\u8a18\uff12\u7a2e\u985e\u306e\u60c5\u5831\u3092\u307e\u3068\u3081\u308b\u3068\u3001\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n{\n  \"awsAccountId\": \"\",\n  \"configRuleName\": \"\",\n  \"configRuleARN\": \"arn:aws:config:*********:config-rule/config-rule-asdspc\",\n  \"resourceType\": \"AWS::CloudTrail::Trail\",\n  \"resourceId\": \"Cloud-Trail\",\n  \"awsRegion\": \"us-east-1\",\n  \"newEvaluationResult\": {\n    \"evaluationResultIdentifier\": {\n      \"evaluationResultQualifier\": {\n        \"configRuleName\": \"CloudTrail-LogValidation-Enabled\",\n        \"resourceType\": \"AWS::CloudTrail::Trail\",\n        \"resourceId\": \"Cloud-Trail\"\n      },\n      \"orderingTimestamp\": \"\"\n    },\n    \"complianceType\": \"COMPLIANT / NON_COMPLIANT\",\n    \"resultRecordedTime\": \"2016-07-10T14:36:46.619Z\",\n    \"configRuleInvokedTime\": \"2016-07-10T14:36:44.212Z\",\n    \"annotation\": null,\n    \"resultToken\": null\n  },\n  \"oldEvaluationResult\": {},\n  \"notificationCreationTime\": \"2016-07-10T13:32:30.059Z\",\n  \"messageType\": \"ComplianceChangeNotification\",\n  \"recordVersion\": \"1.0\"\n}\n\n\n[AWS Config:Region] AWS::CloudTrail::Trail Name is Updated in Account Account-ID\n\n\n{\n  \"configurationItemDiff\": {\n    \"changedProperties\": {\n      \"Configuration.LogFileValidationEnabled\": {\n        \"previousValue\": false,\n        \"updatedValue\": true,\n        \"changeType\": \"UPDATE\"\n      }\n    },\n    \"changeType\": \"UPDATE\"\n  },\n  \"configurationItem\": {\n    \"configurationItemVersion\": \"1.2\",\n    \"relatedEvents\": [\n      \"0dfe96fa-3fdd-493d-a558-1247d3bc6495\"\n    ],\n    \"relationships\": [],\n    \"configuration\": {\n      \"name\": \"Cloud-Trail\",\n      \"s3BucketName\": \"******\",\n      \"s3KeyPrefix\": null,\n      \"snsTopicName\": null,\n      \"includeGlobalServiceEvents\": true,\n      \"isMultiRegionTrail\": true,\n      \"homeRegion\": \"us-east-1\",\n      \"trailARN\": \"arn:aws:cloudtrail:us-east-1:*********:trail/Cloud-Trail\",\n      \"logFileValidationEnabled\": true,\n      \"cloudWatchLogsLogGroupArn\": null,\n      \"cloudWatchLogsRoleArn\": null,\n      \"kmsKeyId\": null\n    },\n    \"supplementaryConfiguration\": {},\n    \"tags\": {},\n    \"configurationItemCaptureTime\": \"2016-07-10T10:36:46.701Z\",\n    \"configurationStateId\": 20,\n    \"awsAccountId\": \"*********\",\n    \"configurationItemStatus\": \"OK\",\n    \"resourceType\": \"AWS::CloudTrail::Trail\",\n    \"resourceId\": \"Cloud-Trail\",\n    \"resourceName\": null,\n    \"ARN\": \"arn:aws:cloudtrail:us-east-1:*********:trail/Cloud-Trail\",\n    \"awsRegion\": \"us-east-1\",\n    \"availabilityZone\": \"Regional\",\n    \"configurationStateMd5Hash\": \"fe86053064517dc0c824e900db241935\",\n    \"resourceCreationTime\": null\n  },\n  \"notificationCreationTime\": \"2016-07-10T10:36:46.799Z\",\n  \"messageType\": \"ConfigurationItemChangeNotification\",\n  \"recordVersion\": \"1.2\"\n}\n\n\nConfig Configuration(\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528)\u307e\u308f\u308a\n\n[AWS Config:Region] Configuration Snapshot Delivery Started for Account Account-ID\n\n\n{\n  \"configSnapshotId\": \"\",\n  \"notificationCreationTime\": \"\",\n  \"messageType\": \"ConfigurationSnapshotDeliveryStarted\",\n  \"recordVersion\": \"\"\n}\n\n\n\n[AWS Config:Region] Configuration Snapshot Delivery Completed for Account Account-ID\n\n\n{\n  \"configSnapshotId\": \"\",\n  \"s3ObjectKey\": \"\",\n  \"s3Bucket\": \"\",\n  \"notificationCreationTime\": \"\",\n  \"messageType\": \"ConfigurationSnapshotDeliveryCompleted\",\n  \"recordVersion\": \"\"\n}\n\n\n[AWS Config:Region] Configuration History Delivery Completed for Account Account-ID\n\n\n{\n  \"s3ObjectKey\": \"\",\n  \"s3Bucket\": \"\",\n  \"notificationCreationTime\": \"\",\n  \"messageType\": \"ConfigurationHistoryDeliveryCompleted\",\n  \"recordVersion\": \"\"\n}\n\n\n\u307e\u3068\u3081\n\u3000\u2460 ~ \u2464\u306e\u9593\u306b\u4f7f\u308f\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u3092\u7c21\u5358\u306b\u6574\u7406\u3057\u3066\u3001\u30c7\u30fc\u30bf\u306e\u7a2e\u985e\u30fb\u69cb\u9020\u306a\u3069\u3092\u7686\u3055\u3093\u306b\u5171\u6709\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u306e\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001\u4e0b\u8a18\u306e\u6295\u7a3f\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u691c\u8a3c\u306e\u4ed5\u7d44\u307f\u3068\u6d41\u308c\u3092\u7406\u89e3\u3059\u308b\u306b\u304a\u5f79\u306b\u7acb\u3066\u308c\u3070\u5b09\u3057\u3044\u3067\u3059\u3002\n[ AWS\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u62c5\u5f53\u8005\u5fc5\u898b] Config Rules \u3001Lambda\u3001SNS\u306b\u3088\u308b\u4e2d\u592e\u96c6\u6a29\u578b\u306e\u7ba1\u7406\u7d71\u5236\u306b\u3064\u3044\u3066\n#\u524d\u7f6e\u304d\n\n\u3000\u4eca\u9031\u306e\u6708\u66dc\u65e5\u306b\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092Qitta\u306b\u6295\u7a3f\u3057\u3066\u3001\u7686\u3055\u3093\u3068\u5171\u6709\u3057\u307e\u3057\u305f\u3002\n \n- [[ AWS\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u62c5\u5f53\u8005\u5fc5\u898b] Config Rules \u3001Lambda\u3001SNS\u306b\u3088\u308b\u4e2d\u592e\u96c6\u6a29\u578b\u306e\u7ba1\u7406\u7d71\u5236\u306b\u3064\u3044\u3066](http://qiita.com/jobbin/items/e2b9e2f69f0f846a8ffb)\n\n\u3000\u5272\u308a\u3068\u305f\u304f\u3055\u3093\u306e\u65b9\u3005\u306b\u4e0a\u8a18\u306e\u6295\u7a3f\u3092\u898b\u3066\u3044\u305f\u3060\u3044\u3066\u3001\u975e\u5e38\u306b\u5b09\u3057\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u4eca\u5f8c\u3082\u3001\u81ea\u5206\u306a\u308a\u306bDeepDive\u3057\u3066\u3001\u5f97\u3089\u308c\u305f\u60c5\u5831\u3092\u7686\u3055\u3093\u306b\u5171\u6709\u3057\u307e\u3059\u306e\u3067\u3001\u5c11\u3057\u3067\u3082\u304a\u5f79\u306b\u7acb\u3066\u308c\u3070\u5b09\u3057\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n#\u6982\u8981\n\n\u3000\u524d\u56de\u306e\u6295\u7a3f\u3067\u306f\u3001\u4e0b\u8a18\u306e\u56f3\u306b\u793a\u3059\u901a\u308a\u306b\u3001<Font color=\"blue\">\u7ba1\u7406\u3055\u308c\u308b\u5074\u306eConfig Rules</font>\u304c<Font color=\"red\">\u7ba1\u7406\u3059\u308b\u5074\u306eLambda</font>\u3092\u547c\u3073\u51fa\u3057\u3066\u3001<Font color=\"blue\">\u7ba1\u7406\u3055\u308c\u308b\u5074\u306eCloudTrail</font>\u306e\u8a2d\u5b9a\u3092\u76e3\u67fb\u3067\u304d\u308b\u3053\u3068\u3092\u691c\u8a3c\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n![alt](https://qiita-image-store.s3.amazonaws.com/0/117156/3b010ca3-606c-eee2-215d-320ec4ed16fe.png)\n\n\u3000\u4eca\u56de\u306f\u3001\u2460 ~ \u2464\u306e\u9593\u306b\u3001\u3069\u3093\u306a\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u7686\u3055\u3093\u306b\u5171\u6709\u3057\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n#\u30c7\u30fc\u30bf\u7de8\n## Config \u2192 Lambda ( \u2460 )\n\n### Config\u304b\u3089 Lambda\u306b\u6e21\u3055\u308c\u308b\u60c5\u5831\u3000\u2192\u3000**event**\n\n```\n{\n    \"version\": \"1.0\",\n    \"invokingEvent\": \"{\n      \\\"configurationItemDiff\\\":{},\n      \\\"configurationItem\\\":{\n        \\\"configurationItemVersion\\\":\\\"1.2\\\",\n        \\\"relatedEvents\\\":[\\\"a46a2a05-b61d-4e01-903c-c396001b6150\\\"],\n        \\\"relationships\\\":[],\n        \\\"configuration\\\":{},\n        \\\"supplementaryConfiguration\\\":{},\n        \\\"tags\\\":{},\n        \\\"configurationItemCaptureTime\\\":\\\"2016-07-14T14:12:56.439Z\\\",\n        \\\"configurationStateId\\\":43,\n        \\\"awsAccountId\\\":\\\"**********\\\",\n        \\\"configurationItemStatus\\\":\\\"OK\\\",\n        \\\"resourceType\\\":\\\"AWS::CloudTrail::Trail\\\",\n        \\\"resourceId\\\":\\\"Cloud-Trail\\\",\n        \\\"resourceName\\\":null,\n        \\\"ARN\\\":\\\"arn:aws:cloudtrail:us-east-1:**********:trail/Cloud-Trail\\\",\n        \\\"awsRegion\\\":\\\"us-east-1\\\",\n        \\\"availabilityZone\\\":\\\"Regional\\\",\n        \\\"configurationStateMd5Hash\\\":\\\"86e1f7bf6caa764267a918a160086d79\\\",\n        \\\"resourceCreationTime\\\":null\n      },\n      \\\"notificationCreationTime\\\":\\\"2016-07-14T14:12:56.553Z\\\",\n      \\\"messageType\\\":\\\"ConfigurationItemChangeNotification\\\",\n      \\\"recordVersion\\\":\\\"1.2\\\"\n    }\",\n    \"ruleParameters\": \"{\\\"executionRole\\\":\\\"arn:aws:iam::**********:role/config-rules-admin\\\"}\",\n    \"resultToken\": \"**********\",\n    \"eventLeftScope\": false,\n    \"executionRoleArn\": \"arn:aws:iam::**********:role/config-role\",\n    \"configRuleArn\": \"arn:aws:config:us-east-1:**********:config-rule/config-rule-asdspc\",\n    \"configRuleName\": \"CloudTrail-LogValidation-Enabled\",\n    \"configRuleId\": \"config-rule-asdspc\",\n    \"accountId\": \"**********\"\n}\n```\n\n##Lambda \u2192 Config ( \u2461 )\n\n### Lambda\u304cAssumeRole\u6642\u306e\u4e00\u6642\u7684\u306a\u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u60c5\u5831\n\n```\n{\n    \"expired\": true,\n    \"expireTime\": null,\n    \"masterCredentials\": {\n        \"expired\": false,\n        \"expireTime\": null,\n        \"accessKeyId\": \"ASI*****HVNBBA\",\n        \"sessionToken\": \"***************\"\n        \"envPrefix\": \"AWS\"\n    },\n    \"params\": {\n        \"RoleArn\": \"arn:aws:iam::********:role/config-rules-admin\",\n        \"RoleSessionName\": \"temporary-credentials\"\n    }\n}\n```\n\n### Lambda\u304b\u3089 Config\u306b\u6e21\u3055\u308c\u308b\u8a55\u4fa1\u7d50\u679c \u2192 **putEvaluationsRequest**\n\n```\n{\n    \"Evaluations\": [\n        {\n            \"ComplianceResourceType\": \"AWS::CloudTrail::Trail\",\n            \"ComplianceResourceId\": \"Cloud-Trail\",\n            \"ComplianceType\": \"NON_COMPLIANT / COMPLIANT\",\n            \"OrderingTimestamp\": \"2016-07-14T14:12:56.439Z\"\n        }\n    ],\n    \"ResultToken\": \"**********\"\n}\n```\n\n## SNS ( \u2463\u3068\u2464 )\n\n###CloudTrail\u306b\u5bfe\u3059\u308b\u76e3\u67fb\u30ec\u30dd\u30fc\u30c8\u60c5\u5831\n\n- [AWS Config:<Font color=\"red\">Region</font>] AWS::CloudTrail::Trail <Font color=\"red\">Name</font> is <Font color=\"red\">NON_COMPLIANT</font> with <Font color=\"red\">Config Rule Name</font>\n- [AWS Config:<Font color=\"red\">Region</font>] AWS::CloudTrail::Trail <Font color=\"red\">Name</font> is <Font color=\"red\">COMPLIANT</font> with <Font color=\"red\">Config Rule Name</font>\n\n\u4e0a\u8a18\uff12\u7a2e\u985e\u306e\u60c5\u5831\u3092\u307e\u3068\u3081\u308b\u3068\u3001\u4ee5\u4e0b\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n{\n  \"awsAccountId\": \"\",\n  \"configRuleName\": \"\",\n  \"configRuleARN\": \"arn:aws:config:*********:config-rule/config-rule-asdspc\",\n  \"resourceType\": \"AWS::CloudTrail::Trail\",\n  \"resourceId\": \"Cloud-Trail\",\n  \"awsRegion\": \"us-east-1\",\n  \"newEvaluationResult\": {\n    \"evaluationResultIdentifier\": {\n      \"evaluationResultQualifier\": {\n        \"configRuleName\": \"CloudTrail-LogValidation-Enabled\",\n        \"resourceType\": \"AWS::CloudTrail::Trail\",\n        \"resourceId\": \"Cloud-Trail\"\n      },\n      \"orderingTimestamp\": \"\"\n    },\n    \"complianceType\": \"COMPLIANT / NON_COMPLIANT\",\n    \"resultRecordedTime\": \"2016-07-10T14:36:46.619Z\",\n    \"configRuleInvokedTime\": \"2016-07-10T14:36:44.212Z\",\n    \"annotation\": null,\n    \"resultToken\": null\n  },\n  \"oldEvaluationResult\": {},\n  \"notificationCreationTime\": \"2016-07-10T13:32:30.059Z\",\n  \"messageType\": \"ComplianceChangeNotification\",\n  \"recordVersion\": \"1.0\"\n}\n```\n- [AWS Config:<Font color=\"red\">Region</font>] AWS::CloudTrail::Trail <Font color=\"red\">Name</font> is <Font color=\"red\">Updated</font> in Account <Font color=\"red\">Account-ID</font>\n\n```\n{\n  \"configurationItemDiff\": {\n    \"changedProperties\": {\n      \"Configuration.LogFileValidationEnabled\": {\n        \"previousValue\": false,\n        \"updatedValue\": true,\n        \"changeType\": \"UPDATE\"\n      }\n    },\n    \"changeType\": \"UPDATE\"\n  },\n  \"configurationItem\": {\n    \"configurationItemVersion\": \"1.2\",\n    \"relatedEvents\": [\n      \"0dfe96fa-3fdd-493d-a558-1247d3bc6495\"\n    ],\n    \"relationships\": [],\n    \"configuration\": {\n      \"name\": \"Cloud-Trail\",\n      \"s3BucketName\": \"******\",\n      \"s3KeyPrefix\": null,\n      \"snsTopicName\": null,\n      \"includeGlobalServiceEvents\": true,\n      \"isMultiRegionTrail\": true,\n      \"homeRegion\": \"us-east-1\",\n      \"trailARN\": \"arn:aws:cloudtrail:us-east-1:*********:trail/Cloud-Trail\",\n      \"logFileValidationEnabled\": true,\n      \"cloudWatchLogsLogGroupArn\": null,\n      \"cloudWatchLogsRoleArn\": null,\n      \"kmsKeyId\": null\n    },\n    \"supplementaryConfiguration\": {},\n    \"tags\": {},\n    \"configurationItemCaptureTime\": \"2016-07-10T10:36:46.701Z\",\n    \"configurationStateId\": 20,\n    \"awsAccountId\": \"*********\",\n    \"configurationItemStatus\": \"OK\",\n    \"resourceType\": \"AWS::CloudTrail::Trail\",\n    \"resourceId\": \"Cloud-Trail\",\n    \"resourceName\": null,\n    \"ARN\": \"arn:aws:cloudtrail:us-east-1:*********:trail/Cloud-Trail\",\n    \"awsRegion\": \"us-east-1\",\n    \"availabilityZone\": \"Regional\",\n    \"configurationStateMd5Hash\": \"fe86053064517dc0c824e900db241935\",\n    \"resourceCreationTime\": null\n  },\n  \"notificationCreationTime\": \"2016-07-10T10:36:46.799Z\",\n  \"messageType\": \"ConfigurationItemChangeNotification\",\n  \"recordVersion\": \"1.2\"\n}\n```\n\n\n###Config Configuration(\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u7528)\u307e\u308f\u308a\n\n- [AWS Config:<Font color=\"red\">Region</font>] Configuration <Font color=\"red\">Snapshot</font> Delivery <Font color=\"red\">Started</font> for Account <Font color=\"red\">Account-ID</font>\n\n```\n{\n  \"configSnapshotId\": \"\",\n  \"notificationCreationTime\": \"\",\n  \"messageType\": \"ConfigurationSnapshotDeliveryStarted\",\n  \"recordVersion\": \"\"\n}\n\n```\n- [AWS Config:<Font color=\"red\">Region</font>] Configuration <Font color=\"red\">Snapshot</font> Delivery <Font color=\"red\">Completed</font> for Account <Font color=\"red\">Account-ID</font>\n\n```\n{\n  \"configSnapshotId\": \"\",\n  \"s3ObjectKey\": \"\",\n  \"s3Bucket\": \"\",\n  \"notificationCreationTime\": \"\",\n  \"messageType\": \"ConfigurationSnapshotDeliveryCompleted\",\n  \"recordVersion\": \"\"\n}\n```\n- [AWS Config:<Font color=\"red\">Region</font>] Configuration <Font color=\"red\">History</font> Delivery <Font color=\"red\">Completed </font>for Account <Font color=\"red\">Account-ID</font>\n\n```\n{\n  \"s3ObjectKey\": \"\",\n  \"s3Bucket\": \"\",\n  \"notificationCreationTime\": \"\",\n  \"messageType\": \"ConfigurationHistoryDeliveryCompleted\",\n  \"recordVersion\": \"\"\n}\n```\n\n#\u307e\u3068\u3081\n\u3000\u2460 ~ \u2464\u306e\u9593\u306b\u4f7f\u308f\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u3092\u7c21\u5358\u306b\u6574\u7406\u3057\u3066\u3001\u30c7\u30fc\u30bf\u306e\u7a2e\u985e\u30fb\u69cb\u9020\u306a\u3069\u3092\u7686\u3055\u3093\u306b\u5171\u6709\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3089\u306e\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u3001\u4e0b\u8a18\u306e\u6295\u7a3f\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u691c\u8a3c\u306e\u4ed5\u7d44\u307f\u3068\u6d41\u308c\u3092\u7406\u89e3\u3059\u308b\u306b\u304a\u5f79\u306b\u7acb\u3066\u308c\u3070\u5b09\u3057\u3044\u3067\u3059\u3002\n[[ AWS\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u62c5\u5f53\u8005\u5fc5\u898b] Config Rules \u3001Lambda\u3001SNS\u306b\u3088\u308b\u4e2d\u592e\u96c6\u6a29\u578b\u306e\u7ba1\u7406\u7d71\u5236\u306b\u3064\u3044\u3066](http://qiita.com/jobbin/items/e2b9e2f69f0f846a8ffb)\n\n", "tags": ["AWS", "Config", "lambda", "SNS", "AWS\u7ba1\u7406\u7d71\u5236"]}