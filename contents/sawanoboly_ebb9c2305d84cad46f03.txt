{"tags": ["Mandrill", "mail", "Ruby"], "context": " More than 1 year has passed since last update.\u5b9a\u578b\u30e1\u30fc\u30eb\u306e\u9001\u4fe1\u306b\u3001MailChimp\u3055\u3093\u3068\u3053\u306eMandrill\u3092\u4f7f\u304a\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u30a2\u30d7\u30ea\u3067\u305d\u308c\u305e\u308c\u30e1\u30fc\u30eb\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u6301\u305f\u306a\u3044\u3067\u6e08\u3080\u304b\u306a\u3068\u3002\n\u3067\u3001Mandrill\u4e0a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u306b\u4e57\u305b\u308b\u305f\u3081\u3001\u30c4\u30fc\u30eb\u3092\u4e00\u500b\u66f8\u304d\u307e\u3057\u305f\u3002\nhttps://github.com/higanworks/mandrill-template-manager\nRubygems\u914d\u5e03\u3082\u3057\u3066\u307e\u3059\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u57fa\u672c\u306f\u5358\u54c1\u3067\u52d5\u304d\u307e\u3059\u304c\u3001\u3064\u3044\u3067\u306b\u5165\u308c\u3066\u304a\u304f\u3068\u826f\u3044Ge\uff4ds\u3068\u4e00\u7dd2\u306b\u4f7f\u3046\u3068\u826f\u3044\u3067\u3059\u3002\ngem 'mandrill-template-manager'\n\n## \u5165\u308c\u3066\u304a\u304f\u3068\u4f7f\u308f\u308c\u308b\u3001\u8868\u793a\u6210\u5f62\u7528\u306eGem\u9054\ngem 'formatador', github: 'geemus/formatador' # \u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u88dc\u6b63\u30a2\u30ea\u30d0\u30fc\u30b8\u30e7\u30f3\ngem 'unicode'\n\n## \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306bHandlebars\u3092\u4f7f\u3046\u5834\u5408\u3001\u30ed\u30fc\u30ab\u30eb\u30d7\u30ec\u30d3\u30e5\u30fc\u3082\u3057\u305f\u3044\u3068\u304d\u306b\u8ffd\u52a0\u3002\n# gem 'handlebars'\n\nbundle install --binstubs --path vendor/bundle\u306a\u3069\u3068\u3057\u3066\u3001../bin/mandrilltemplate\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u697d\u3067\u3059\u3002\nAPI\u30ad\u30fc\u306f\u74b0\u5883\u5909\u6570\u3078\u3002 export MANDRILL_APIKEY='your api key' \u306a\u611f\u3058\u3067\u3002\n\n\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\n\n\u65b0\u898f(generate)\u304b\u3001\u65e2\u5b58(export)\u3092\u7528\u3044\u3066\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u7ba1\u7406\u958b\u59cb\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5909\u66f4\u3057\u305f\u3089\u30b3\u30df\u30c3\u30c8\n\u672c\u6587\u30d7\u30ec\u30d3\u30e5\u30fc\nMandrill\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3001\u73fe\u72b6Publish\u6e08\u307f\u306e\u3082\u306e\u3068\u5dee\u5206\u304c\u3042\u308c\u3070\u308f\u304b\u308b\u3088\u3046\u306b\u8868\u793a\n\u30b9\u30c6\u30fc\u30bf\u30b9\u3092Publish\u3078\n\n\u3053\u306e\u3078\u3093\u306fcodenize.tools\u306e\u5f71\u97ff\u3092\u591a\u5206\u306b\u53d7\u3051\u3066\u3044\u307e\u3059\u3002\nMandrill\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u5358\u306b\u5909\u66f4\u3059\u308b\u3060\u3051\u306a\u3089Draft\u6271\u3044\u306a\u306e\u3067\u3001--dry-run\u306e\u5909\u308f\u308a\u3068\u3057\u3066\u30d7\u30ec\u30d3\u30e5\u30fc(render)\u3092\u3064\u3051\u307e\u3057\u305f\u3002\nWeb\u306eUI\u304b\u3089\u306a\u3089\u30c9\u30e9\u30d5\u30c8\u3092\u5143\u306b\u3057\u305f\u30c6\u30b9\u30c8\u9001\u4fe1\u3082\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001API\u306b\u306f\u7121\u3044\u306e\u304b\u306a\uff1f\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3002\n\n\u3084\u3063\u3066\u307f\u3088\u3046\n\u3067\u306f\u4eca\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u306b\u79fb\u884c\u3057\u3066\u3001\u66f4\u65b0\u3057\u3066\u307f\u308b\u3002\n\nMandrill\u4e0a\u306b\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\n\u307e\u305a\u306fmandrilltemplate list\u3067Mandrill\u4e0a\u306b\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3001\u30ed\u30fc\u30ab\u30eb(\u30ea\u30dd\u30b8\u30c8\u30ea)\u306b\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b\u3002\n $ mandrilltemplate list\nRemote Templates\n----------------------\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n  | has_diff | name              | slug                | from_email        | from_name  | subject            | labels |\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n  |          | example           | example             | test@example.com  | Boss       | \u3088\u3046\u3053\u305d           | []     |\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\nLocal Templates\n----------------------\n  +------+------+------------+-----------+---------+--------+\n  | name | slug | from_email | from_name | subject | labels |\n  +------+------+------------+-----------+---------+--------+\n  +------+------+------------+-----------+---------+--------+\n\n\nmandrilltemplate list\u306f-v\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30ea\u30e2\u30fc\u30c8\u3092\u8a73\u7d30\u8868\u793a\u306b\u3067\u304d\u307e\u3059\u3002\n\n\u30ea\u30e2\u30fc\u30c8\u306bexample\u3068\u3044\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308b\u306d\u3002\u30ed\u30fc\u30ab\u30eb\u306b\u306f\u307e\u3060\u4f55\u3082\u306a\u3044\u3067\u3059\u3002\n\u3053\u308c\u3092mandrilltemplate export\u3059\u308b\u3002\n$ mandrilltemplate export example\n      create  templates/example\n      create  templates/example/metadata.yml\n      create  templates/example/code\n      create  templates/example/text\n\n\u305d\u308c\u305e\u308c\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u7ba1\u7406\u753b\u9762\u3067\u5165\u529b\u3059\u308b\u5185\u5bb9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\nmetadata.yml\n---\nslug: example\nlabels: []\nsubject: \"\u3088\u3046\u3053\u305d\"\nfrom_email: test@example.com\nfrom_name: Boss\n\n\ncode\u306e\u4e2d\u8eab\u306fHandlebars\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\n<div>\n\u304a\u306f\u3088\u3046 {{UserName}} \u304f\u3093\u3002<br/>\n\u4eca\u65e5\u306e\u6307\u4ee4\u306f...<br/>\n{{#each ImpossibleMissions}}\n  <ul>\n    <li>{{this}}</li>\n  </ul>\n{{/each}}\n\n\u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n\n\u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n</div>\n\ntext\u306f\u4eca\u56de\u306f\u30ab\u30e9\u30c3\u30dd\u306a\u306e\u3067\u7701\u7565\u3002\n\u305d\u3046\u3059\u308b\u3068\u3053\u308c\u304c\u30ed\u30fc\u30ab\u30eb\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u691c\u51fa\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002name=\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306a\u306e\u3067\u3001\u5909\u66f4\u306b\u6ce8\u610f\u3002\n$ mandrilltemplate list\n\n...\n\nLocal Templates\n----------------------\n  +---------+---------+------------------+-----------+----------+--------+\n  | name    | slug    | from_email       | from_name | subject  | labels |\n  +---------+---------+------------------+-----------+----------+--------+\n  | example | example | test@example.com | Boss      | \u3088\u3046\u3053\u305d   | []     |\n  +---------+---------+------------------+-----------+----------+--------+\n\n\n\u30e1\u30fc\u30eb\u3092\u5909\u66f4\u3057\u3066upload\n\u3067\u306f\u672c\u6587\u3092\u66f4\u65b0\u3057\u3066\u307f\u307e\u3059\u3002\n$ git diff\ndiff --git a/templates/example/code b/templates/example/code\nindex fa21456..a365622 100644\n--- a/templates/example/code\n+++ b/templates/example/code\n@@ -10,4 +10,6 @@\n \u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n\n \u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n-</div>\n\\ No newline at end of file\n+\n+\u3042\u3068\u3001\u5e30\u308a\u306b\u5927\u6839\u8cb7\u3063\u3066\u304d\u3066\u3002\n+</div>\n\nmandrilltemplate upload\u3067\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002\nAPI\u306e\u623b\u308a\u3092\u4e38\u3005\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\u304c\u307e\u3042\u6c17\u306b\u3057\u306a\u3044\u3067\u3002\n$ mandrilltemplate upload example\n---\nslug: example\nname: example\ncode: |-\n  <div>\n  \u304a\u306f\u3088\u3046 {{UserName}} \u304f\u3093\u3002<br/>\n  \u4eca\u65e5\u306e\u6307\u4ee4\u306f...<br/>\n  {{#each ImpossibleMissions}}\n    <ul>\n      <li>{{this}}</li>\n    </ul>\n  {{/each}}\n\n  \u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n\n  \u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n\n  \u3042\u3068\u3001\u5e30\u308a\u306b\u5927\u6839\u8cb7\u3063\u3066\u304d\u3066\u3002\n  </div>\npublish_code: |-\n  <div>\n  \u304a\u306f\u3088\u3046 {{UserName}} \u304f\u3093\u3002<br/>\n  \u4eca\u65e5\u306e\u6307\u4ee4\u306f...<br/>\n  {{#each ImpossibleMissions}}\n    <ul>\n      <li>{{this}}</li>\n    </ul>\n  {{/each}}\n\n  \u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n\n  \u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n  </div>\npublished_at: '2015-09-10 05:50:37'\ncreated_at: '2015-09-09 03:34:47.89299'\nupdated_at: '2015-09-10 06:06:27.13888'\ndraft_updated_at: '2015-09-10 05:50:37'\npublish_name: example\nlabels: []\ntext: \npublish_text: \nsubject: \"\u3088\u3046\u3053\u305d\"\npublish_subject: \"\u3088\u3046\u3053\u305d\"\nfrom_email: test@example.com\npublish_from_email: test@example.com\nfrom_name: Boss\npublish_from_name: Boss\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3089\u3001has_diff\u30d1\u30e9\u30e1\u30fc\u30bf\u304ctrue\u3092\u6301\u3061\u307e\u3057\u305f\u3002\nDraft\u3068Publishd\u306b\u9055\u3044\u304c\u3042\u3063\u305f\u3089\u3053\u3053\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n$ mandrilltemplate list -v\nRemote Templates\n----------------------\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n  | has_diff | name              | slug                | from_email        | from_name  | subject            | labels |\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n  | true     | example           | example             | test@example.com  | Boss       | \u3088\u3046\u3053\u305d           | []     |\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n\n...\n\n\n\u30d7\u30ec\u30d3\u30e5\u30fc\u3057\u3066\u307f\u308b\nDraft\u306fWebUI\u304b\u3089\u30c6\u30b9\u30c8\u9001\u4fe1\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u540c\u3058\u5185\u5bb9\u3092\u6301\u3063\u3066\u3044\u308b\u306e\u3067CLI\u3067\u672c\u6587\u304f\u3089\u3044\u306f\u30d7\u30ec\u30d3\u30e5\u30fc\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\u307e\u305a\u306f\u5148\u307b\u3069\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u9069\u7528\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3057\u3087\u3046\u3001merge_vars.json\u3068\u3057\u307e\u3059\u3002\n\nmerge_vars.json\n[\n  {\n    \"name\": \"UserName\",\n    \"content\": \"ExampleUser\"\n  },\n  {\n    \"name\": \"ImpossibleMissions\",\n    \"content\": [\n      \"Mission A\",\n      \"Mission B\",\n      \"Mission C\"\n    ]\n  }\n]\n\n\n\u4eca\u56de\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30d7\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u306b\u306fmandrilltemplate render --handlebars\u3067\u3002\n$ mandrilltemplate render --handlebars example templates/example/merge_vars.json \n<div>\n\u304a\u306f\u3088\u3046 ExampleUser \u304f\u3093\u3002<br/>\n\u4eca\u65e5\u306e\u6307\u4ee4\u306f...<br/>\n  <ul>\n    <li>Mission A</li>\n  </ul>\n  <ul>\n    <li>Mission B</li>\n  </ul>\n  <ul>\n    <li>Mission C</li>\n  </ul>\n\n\u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n\n\u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n\n\u3042\u3068\u3001\u5e30\u308a\u306b\u5927\u6839\u8cb7\u3063\u3066\u304d\u3066\u3002\n</div>\n\n\u30d7\u30ec\u30d3\u30e5\u30fc\u826f\u597d\u3067\u3059\u306d\u3002\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306fAPI\u306erender\u30e1\u30bd\u30c3\u30c9(mailchimp\u30d5\u30a9\u30fc\u30de\u30c3\u30c8)\u3092\u4f7f\u3063\u3066\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\n\u3057\u304b\u3057Handlebars\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306fAPI\u306erender\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u30ed\u30fc\u30ab\u30eb\u306eRuby\u3067\u51e6\u7406\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n--handlebars\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6e21\u3057\u3066\u52d5\u4f5c\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\n\nPublish\u3057\u3066\u672c\u756a\u9069\u7528\n\u8272\u3005\u3068\u6c17\u304c\u6e08\u3093\u3060\u3089mandrilltemplate publish\u3057\u3066\u672c\u756a\u9069\u7528\u3067\u3059\u3002\n$ mandrilltemplate publish example\n\n\u3053\u308c\u3067draft\u72b6\u614b\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304cpublished\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u304a\u308f\u308a\u306b\n\u30b3\u30fc\u30c9\u306a\u306e\u3067\u4f55\u304b\u3057\u3089CI\u3068\u9023\u643a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u305f\u3068\u3048\u3070CircleCI\u306a\u3089\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u3068\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u3060\u3059\u306a\u308a\u3001\u30d1\u30a4\u30d7\u3067\u30e1\u30fc\u30eb\u3092\u5b9f\u969b\u306b\u9001\u4fe1\u3057\u305f\u3089\u3088\u3055\u305d\u3046\u3002Publish\u3078\u306e\u5909\u66f4\u3092\u81ea\u52d5\u3067\u3084\u308b\u304b\u306f\u304a\u597d\u307f\u3067\u3002\n\u306a\u304a\u3001Mandrill\u4e0a\u306b\u5b9f\u969b\u306b\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3044\u3064\u306e\u3082\u306e\u304b\u306f\u65e5\u4ed8\u304b\u3089\u5224\u65ad\u3059\u308b\u3057\u304b\u7121\u3044\u306e\u3067\u3001\u3082\u3046\u3061\u3087\u3044\u53b3\u5bc6\u306b\u898b\u308b\u306a\u3089\u3070label\u306bgit\u306esha1\u3067\u3082\u3064\u3051\u3066\u304a\u304f\u306e\u3082\u826f\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n\n\u5b9a\u578b\u30e1\u30fc\u30eb\u306e\u9001\u4fe1\u306b\u3001MailChimp\u3055\u3093\u3068\u3053\u306e[Mandrill](http://mandrill.com/)\u3092\u4f7f\u304a\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u30a2\u30d7\u30ea\u3067\u305d\u308c\u305e\u308c\u30e1\u30fc\u30eb\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u6301\u305f\u306a\u3044\u3067\u6e08\u3080\u304b\u306a\u3068\u3002\n\u3067\u3001Mandrill\u4e0a\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u306b\u4e57\u305b\u308b\u305f\u3081\u3001\u30c4\u30fc\u30eb\u3092\u4e00\u500b\u66f8\u304d\u307e\u3057\u305f\u3002\n\nhttps://github.com/higanworks/mandrill-template-manager\n\nRubygems\u914d\u5e03\u3082\u3057\u3066\u307e\u3059\u3002\n\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u57fa\u672c\u306f\u5358\u54c1\u3067\u52d5\u304d\u307e\u3059\u304c\u3001\u3064\u3044\u3067\u306b\u5165\u308c\u3066\u304a\u304f\u3068\u826f\u3044Ge\uff4ds\u3068\u4e00\u7dd2\u306b\u4f7f\u3046\u3068\u826f\u3044\u3067\u3059\u3002\n\n```Gemfile\ngem 'mandrill-template-manager'\n\n## \u5165\u308c\u3066\u304a\u304f\u3068\u4f7f\u308f\u308c\u308b\u3001\u8868\u793a\u6210\u5f62\u7528\u306eGem\u9054\ngem 'formatador', github: 'geemus/formatador' # \u30de\u30eb\u30c1\u30d0\u30a4\u30c8\u88dc\u6b63\u30a2\u30ea\u30d0\u30fc\u30b8\u30e7\u30f3\ngem 'unicode'\n\n## \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306bHandlebars\u3092\u4f7f\u3046\u5834\u5408\u3001\u30ed\u30fc\u30ab\u30eb\u30d7\u30ec\u30d3\u30e5\u30fc\u3082\u3057\u305f\u3044\u3068\u304d\u306b\u8ffd\u52a0\u3002\n# gem 'handlebars'\n```\n\n`bundle install --binstubs --path vendor/bundle`\u306a\u3069\u3068\u3057\u3066\u3001`../bin/mandrilltemplate`\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304f\u3068\u697d\u3067\u3059\u3002\n\nAPI\u30ad\u30fc\u306f\u74b0\u5883\u5909\u6570\u3078\u3002 `export MANDRILL_APIKEY='your api key'` \u306a\u611f\u3058\u3067\u3002\n\n## \u30ef\u30fc\u30af\u30d5\u30ed\u30fc\n\n1. \u65b0\u898f(generate)\u304b\u3001\u65e2\u5b58(export)\u3092\u7528\u3044\u3066\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u7ba1\u7406\u958b\u59cb\n2. \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5909\u66f4\u3057\u305f\u3089\u30b3\u30df\u30c3\u30c8\n4. \u672c\u6587\u30d7\u30ec\u30d3\u30e5\u30fc\n3. Mandrill\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3001\u73fe\u72b6Publish\u6e08\u307f\u306e\u3082\u306e\u3068\u5dee\u5206\u304c\u3042\u308c\u3070\u308f\u304b\u308b\u3088\u3046\u306b\u8868\u793a\n5. \u30b9\u30c6\u30fc\u30bf\u30b9\u3092Publish\u3078\n\n\n\u3053\u306e\u3078\u3093\u306f[codenize.tools](http://codenize.tools/)\u306e\u5f71\u97ff\u3092\u591a\u5206\u306b\u53d7\u3051\u3066\u3044\u307e\u3059\u3002\n\nMandrill\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u5358\u306b\u5909\u66f4\u3059\u308b\u3060\u3051\u306a\u3089Draft\u6271\u3044\u306a\u306e\u3067\u3001`--dry-run`\u306e\u5909\u308f\u308a\u3068\u3057\u3066\u30d7\u30ec\u30d3\u30e5\u30fc(render)\u3092\u3064\u3051\u307e\u3057\u305f\u3002\nWeb\u306eUI\u304b\u3089\u306a\u3089\u30c9\u30e9\u30d5\u30c8\u3092\u5143\u306b\u3057\u305f\u30c6\u30b9\u30c8\u9001\u4fe1\u3082\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001API\u306b\u306f\u7121\u3044\u306e\u304b\u306a\uff1f\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3002\n\n## \u3084\u3063\u3066\u307f\u3088\u3046\n\n\u3067\u306f\u4eca\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u306b\u79fb\u884c\u3057\u3066\u3001\u66f4\u65b0\u3057\u3066\u307f\u308b\u3002\n\n### Mandrill\u4e0a\u306b\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\n\n\u307e\u305a\u306f`mandrilltemplate list`\u3067Mandrill\u4e0a\u306b\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3001\u30ed\u30fc\u30ab\u30eb(\u30ea\u30dd\u30b8\u30c8\u30ea)\u306b\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\u3059\u308b\u3002\n\n```\n $ mandrilltemplate list\nRemote Templates\n----------------------\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n  | has_diff | name              | slug                | from_email        | from_name  | subject            | labels |\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n  |          | example           | example             | test@example.com  | Boss       | \u3088\u3046\u3053\u305d           | []     |\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\nLocal Templates\n----------------------\n  +------+------+------------+-----------+---------+--------+\n  | name | slug | from_email | from_name | subject | labels |\n  +------+------+------------+-----------+---------+--------+\n  +------+------+------------+-----------+---------+--------+\n```\n\n> `mandrilltemplate list`\u306f`-v`\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30ea\u30e2\u30fc\u30c8\u3092\u8a73\u7d30\u8868\u793a\u306b\u3067\u304d\u307e\u3059\u3002\n\n\n\u30ea\u30e2\u30fc\u30c8\u306b`example`\u3068\u3044\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308b\u306d\u3002\u30ed\u30fc\u30ab\u30eb\u306b\u306f\u307e\u3060\u4f55\u3082\u306a\u3044\u3067\u3059\u3002\n\u3053\u308c\u3092`mandrilltemplate export`\u3059\u308b\u3002\n\n```\n$ mandrilltemplate export example\n      create  templates/example\n      create  templates/example/metadata.yml\n      create  templates/example/code\n      create  templates/example/text\n```\n\n\u305d\u308c\u305e\u308c\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u7ba1\u7406\u753b\u9762\u3067\u5165\u529b\u3059\u308b\u5185\u5bb9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n```metadata.yml\n---\nslug: example\nlabels: []\nsubject: \"\u3088\u3046\u3053\u305d\"\nfrom_email: test@example.com\nfrom_name: Boss\n```\n\ncode\u306e\u4e2d\u8eab\u306fHandlebars\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u3044\u307e\u3057\u305f\u3002\n\n```code\n<div>\n\u304a\u306f\u3088\u3046 {{UserName}} \u304f\u3093\u3002<br/>\n\u4eca\u65e5\u306e\u6307\u4ee4\u306f...<br/>\n{{#each ImpossibleMissions}}\n  <ul>\n    <li>{{this}}</li>\n  </ul>\n{{/each}}\n\n\u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n\n\u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n</div>\n```\n\n`text`\u306f\u4eca\u56de\u306f\u30ab\u30e9\u30c3\u30dd\u306a\u306e\u3067\u7701\u7565\u3002\n\n\u305d\u3046\u3059\u308b\u3068\u3053\u308c\u304c\u30ed\u30fc\u30ab\u30eb\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u691c\u51fa\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002name=\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\u306a\u306e\u3067\u3001\u5909\u66f4\u306b\u6ce8\u610f\u3002\n\n```\n$ mandrilltemplate list\n\n...\n\nLocal Templates\n----------------------\n  +---------+---------+------------------+-----------+----------+--------+\n  | name    | slug    | from_email       | from_name | subject  | labels |\n  +---------+---------+------------------+-----------+----------+--------+\n  | example | example | test@example.com | Boss      | \u3088\u3046\u3053\u305d   | []     |\n  +---------+---------+------------------+-----------+----------+--------+\n```\n\n## \u30e1\u30fc\u30eb\u3092\u5909\u66f4\u3057\u3066upload\n\n\u3067\u306f\u672c\u6587\u3092\u66f4\u65b0\u3057\u3066\u307f\u307e\u3059\u3002\n\n```git:\n$ git diff\ndiff --git a/templates/example/code b/templates/example/code\nindex fa21456..a365622 100644\n--- a/templates/example/code\n+++ b/templates/example/code\n@@ -10,4 +10,6 @@\n \u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n \n \u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n-</div>\n\\ No newline at end of file\n+\n+\u3042\u3068\u3001\u5e30\u308a\u306b\u5927\u6839\u8cb7\u3063\u3066\u304d\u3066\u3002\n+</div>\n```\n\n`mandrilltemplate upload`\u3067\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002\nAPI\u306e\u623b\u308a\u3092\u4e38\u3005\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\u304c\u307e\u3042\u6c17\u306b\u3057\u306a\u3044\u3067\u3002\n\n```\n$ mandrilltemplate upload example\n---\nslug: example\nname: example\ncode: |-\n  <div>\n  \u304a\u306f\u3088\u3046 {{UserName}} \u304f\u3093\u3002<br/>\n  \u4eca\u65e5\u306e\u6307\u4ee4\u306f...<br/>\n  {{#each ImpossibleMissions}}\n    <ul>\n      <li>{{this}}</li>\n    </ul>\n  {{/each}}\n\n  \u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n\n  \u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n\n  \u3042\u3068\u3001\u5e30\u308a\u306b\u5927\u6839\u8cb7\u3063\u3066\u304d\u3066\u3002\n  </div>\npublish_code: |-\n  <div>\n  \u304a\u306f\u3088\u3046 {{UserName}} \u304f\u3093\u3002<br/>\n  \u4eca\u65e5\u306e\u6307\u4ee4\u306f...<br/>\n  {{#each ImpossibleMissions}}\n    <ul>\n      <li>{{this}}</li>\n    </ul>\n  {{/each}}\n\n  \u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n\n  \u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n  </div>\npublished_at: '2015-09-10 05:50:37'\ncreated_at: '2015-09-09 03:34:47.89299'\nupdated_at: '2015-09-10 06:06:27.13888'\ndraft_updated_at: '2015-09-10 05:50:37'\npublish_name: example\nlabels: []\ntext: \npublish_text: \nsubject: \"\u3088\u3046\u3053\u305d\"\npublish_subject: \"\u3088\u3046\u3053\u305d\"\nfrom_email: test@example.com\npublish_from_email: test@example.com\nfrom_name: Boss\npublish_from_name: Boss\n```\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3089\u3001`has_diff`\u30d1\u30e9\u30e1\u30fc\u30bf\u304ctrue\u3092\u6301\u3061\u307e\u3057\u305f\u3002\nDraft\u3068Publishd\u306b\u9055\u3044\u304c\u3042\u3063\u305f\u3089\u3053\u3053\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n```\n$ mandrilltemplate list -v\nRemote Templates\n----------------------\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n  | has_diff | name              | slug                | from_email        | from_name  | subject            | labels |\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n  | true     | example           | example             | test@example.com  | Boss       | \u3088\u3046\u3053\u305d           | []     |\n  +----------+-------------------+---------------------+-------------------+------------+--------------------+--------+\n\n...\n```\n\n\n## \u30d7\u30ec\u30d3\u30e5\u30fc\u3057\u3066\u307f\u308b\n\nDraft\u306fWebUI\u304b\u3089\u30c6\u30b9\u30c8\u9001\u4fe1\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3001\u30ed\u30fc\u30ab\u30eb\u306b\u540c\u3058\u5185\u5bb9\u3092\u6301\u3063\u3066\u3044\u308b\u306e\u3067CLI\u3067\u672c\u6587\u304f\u3089\u3044\u306f\u30d7\u30ec\u30d3\u30e5\u30fc\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3057\u305f\u3002\n\n\u307e\u305a\u306f`\u5148\u307b\u3069\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u9069\u7528\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u307e\u3057\u3087\u3046\u3001merge_vars.json`\u3068\u3057\u307e\u3059\u3002\n\n```merge_vars.json\n[\n  {\n    \"name\": \"UserName\",\n    \"content\": \"ExampleUser\"\n  },\n  {\n    \"name\": \"ImpossibleMissions\",\n    \"content\": [\n      \"Mission A\",\n      \"Mission B\",\n      \"Mission C\"\n    ]\n  }\n]\n```\n\n\u4eca\u56de\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30d7\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u306b\u306f`mandrilltemplate render --handlebars`\u3067\u3002\n\n```\n$ mandrilltemplate render --handlebars example templates/example/merge_vars.json \n<div>\n\u304a\u306f\u3088\u3046 ExampleUser \u304f\u3093\u3002<br/>\n\u4eca\u65e5\u306e\u6307\u4ee4\u306f...<br/>\n  <ul>\n    <li>Mission A</li>\n  </ul>\n  <ul>\n    <li>Mission B</li>\n  </ul>\n  <ul>\n    <li>Mission C</li>\n  </ul>\n\n\u3068\u3044\u3046\u308f\u3051\u3060\u3001\u3088\u308d\u3057\u304f\u3084\u3063\u3066\u304f\u308c\u305f\u307e\u3048\u3002<br/>\n\n\u306a\u304a\u3001\u3053\u306e\u30e1\u30fc\u30eb\u306f\u81ea\u52d5\u7684\u306b\u6d88\u6ec5\u3059\u308b\u3002\u691c\u8a0e\u3092\u7948\u308b\u3002\n\n\u3042\u3068\u3001\u5e30\u308a\u306b\u5927\u6839\u8cb7\u3063\u3066\u304d\u3066\u3002\n</div>\n```\n\n\u30d7\u30ec\u30d3\u30e5\u30fc\u826f\u597d\u3067\u3059\u306d\u3002\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306fAPI\u306erender\u30e1\u30bd\u30c3\u30c9(mailchimp\u30d5\u30a9\u30fc\u30de\u30c3\u30c8)\u3092\u4f7f\u3063\u3066\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u307e\u3059\u3002\n\u3057\u304b\u3057Handlebars\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u306fAPI\u306erender\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305a\u30ed\u30fc\u30ab\u30eb\u306eRuby\u3067\u51e6\u7406\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n`--handlebars`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6e21\u3057\u3066\u52d5\u4f5c\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\n\n## Publish\u3057\u3066\u672c\u756a\u9069\u7528\n\n\u8272\u3005\u3068\u6c17\u304c\u6e08\u3093\u3060\u3089`mandrilltemplate publish`\u3057\u3066\u672c\u756a\u9069\u7528\u3067\u3059\u3002\n\n```\n$ mandrilltemplate publish example\n```\n\n\u3053\u308c\u3067draft\u72b6\u614b\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304cpublished\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n## \u304a\u308f\u308a\u306b\n\n\u30b3\u30fc\u30c9\u306a\u306e\u3067\u4f55\u304b\u3057\u3089CI\u3068\u9023\u643a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u305f\u3068\u3048\u3070CircleCI\u306a\u3089\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u3068\u3057\u3066\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u3060\u3059\u306a\u308a\u3001\u30d1\u30a4\u30d7\u3067\u30e1\u30fc\u30eb\u3092\u5b9f\u969b\u306b\u9001\u4fe1\u3057\u305f\u3089\u3088\u3055\u305d\u3046\u3002Publish\u3078\u306e\u5909\u66f4\u3092\u81ea\u52d5\u3067\u3084\u308b\u304b\u306f\u304a\u597d\u307f\u3067\u3002\n\n\u306a\u304a\u3001Mandrill\u4e0a\u306b\u5b9f\u969b\u306b\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3044\u3064\u306e\u3082\u306e\u304b\u306f\u65e5\u4ed8\u304b\u3089\u5224\u65ad\u3059\u308b\u3057\u304b\u7121\u3044\u306e\u3067\u3001\u3082\u3046\u3061\u3087\u3044\u53b3\u5bc6\u306b\u898b\u308b\u306a\u3089\u3070label\u306bgit\u306esha1\u3067\u3082\u3064\u3051\u3066\u304a\u304f\u306e\u3082\u826f\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u3002\n"}