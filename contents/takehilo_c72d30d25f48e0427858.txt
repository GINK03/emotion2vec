{"context": "Socket.io\u30b5\u30fc\u30d0\u3092\u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u3059\u308b\uff08Redis\u3092\u4f7f\u3063\u305f\u8907\u6570\u30d7\u30ed\u30bb\u30b9\u9593\u3067\u306e\u30d6\u30ed\u30fc\u30c9\u30ad\u30e3\u30b9\u30c8\uff09\u3068\u3044\u3046\u8a18\u4e8b\u3067\u3001Redis\u3092\u4f7f\u3063\u3066Socket.io\u30b5\u30fc\u30d0\u3092\u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u3059\u308b\u65b9\u6cd5\u3092\u66f8\u3044\u305f\u304c\u3001Redis\u3092\u4f7f\u3046\u3068Non-Socket.io\u306a\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\u30b5\u30fc\u30d0\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5b9f\u88c5\u3092\u518d\u63b2\u3002\n\u30b5\u30fc\u30d0\n\nindex.js\nconst cluster = require('cluster');\nconst io = require('socket.io')();\nconst sticky = require('sticky-session');\nconst http = require('http');\nconst redis = require('socket.io-redis');\n\nconst server = http.createServer((req, res) => {\n  res.end('worker: ' + cluster.worker.id);\n});\n\nio.adapter(redis({host: '192.168.99.100', port: 6379}));\nio.attach(server);\nisWorker = sticky.listen(server, 3000);\n\nif (isWorker) {\n  io.on('connection', (socket) => {\n    console.log(`worker: ${cluster.worker.id}, connected, id: ${socket.id}`);\n\n    socket.on('chat message', (user, message) => {\n      data = `${message} from ${user}`;\n      console.log(data);\n      socket.broadcast.emit('chat message', data);\n    });\n\n    socket.on('disconnect', () => {\n      console.log(`disconnected, id: ${socket.id}`);\n    });\n  });\n}\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n\nclient.js\nconst readline = require('readline');\nconst socket = require('socket.io-client')('http://localhost:3000');\n\nconst user = process.argv[2];\n\nrl = readline.createInterface(process.stdin, process.stdout);\nrl.setPrompt('');\n\nrl.on('line', (line) => {\n  socket.emit('chat message', user, line);\n})\n.on('close', () => {\n  process.exit(0);\n});\n\nsocket.on('connect', () => {\n  console.log(`connected, id: ${socket.id}`);\n});\n\nsocket.on('chat message', (data) => {\n  console.log(data);\n});\n\nsocket.on('error', (err) => {\n  console.log('Error:', err);\n});\n\nsocket.on('disconnect', () => {\n  console.log('disconnected');\n});\n\n\n\u305d\u308c\u305e\u308c\u5b9f\u884c\u3059\u308b\u3002\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\n$ node client.js A\nconnected, id: S1H5pJcm8Kun5lOoAAAA\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\n$ node client.js B\nconnected, id: 7HLiEmHioqbLuINtAAAA\n\n# \u30b5\u30fc\u30d0\n$ node index.js\nworker: 2, connected, id: S1H5pJcm8Kun5lOoAAAA\nworker: 4, connected, id: 7HLiEmHioqbLuINtAAAA\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u3067\u30c1\u30e3\u30c3\u30c8\u304c\u3067\u304d\u308b\u3002\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\n$ node client.js A\nconnected, id: S1H5pJcm8Kun5lOoAAAA\n\nHello  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi from B  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\n$ node client.js B\nconnected, id: 7HLiEmHioqbLuINtAAAA\n\nHello from A  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\n\u3053\u3053\u3067\u3001\u7b2c\u4e09\u8005P\u304b\u3089\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308a\u305f\u3044\u3002\n\u3053\u306eP\u306f\u30b5\u30fc\u30d0\u3068\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306f\u5f35\u3089\u305a\u3001\u4e00\u65b9\u7684\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b\u3002\nsocket.io-emitter\u3092\u4f7f\u3046\u3068\u3001\u3053\u306e\u5b9f\u88c5\u304c\u53ef\u80fd\u306b\u306a\u308b\u3002\n\nemitter.js\nconst io = require('socket.io-emitter')({ host: 'localhost', port: 6379 });\nconst socketId = process.argv[2];\n\nif (socketId) {\n  io.to(socketId).emit('chat message', 'Hi guys from Emitter');\n} else {\n  io.emit('chat message', 'message from outside');\n}\n\n\n\u5b9f\u884c\u3059\u308b\u3002\n$ node emitter.js\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u306e\u30bd\u30b1\u30c3\u30c8\u306bemitter.js\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u3055\u308c\u308b\u3002\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\n$ node client.js A\nconnected, id: S1H5pJcm8Kun5lOoAAAA\n\nHello  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi from B  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi guys from Emitter  # emitter.js\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\n$ node client.js B\nconnected, id: 7HLiEmHioqbLuINtAAAA\n\nHello from A  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi guys from Emitter  # emitter.js\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3060\u3051\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002\n$ node emitter.js S1H5pJcm8Kun5lOoAAAA  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u63a5\u7d9a\u3057\u3066\u3044\u308b\u30bd\u30b1\u30c3\u30c8\u306eID\n\n\n\u88cf\u5074\u3067\u4f55\u304c\u8d77\u304d\u3066\u3044\u308b\u304b\nSocket.io\u30b5\u30fc\u30d0\u3092\u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u3059\u308b\uff08Redis\u3092\u4f7f\u3063\u305f\u8907\u6570\u30d7\u30ed\u30bb\u30b9\u9593\u3067\u306e\u30d6\u30ed\u30fc\u30c9\u30ad\u30e3\u30b9\u30c8\uff09\u306e\u3068\u304d\u3068\u540c\u3058\u3067\u3001\u3053\u3061\u3089\u3082Redis\u306ePUB/SUB\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u3002\n\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u304c\u63a5\u7d9a\u3059\u308b\u3068\u3001\u30b5\u30fc\u30d0\u306f\u4ee5\u4e0b\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u3092SUBSCRIBE\u3057\u305f\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\u4ee5\u4e0b\u306fredis-cli monitor\u306e\u51fa\u529b\u3002\n# \u30b5\u30fc\u30d0\u8d77\u52d5\u6642\n\"subscribe\" \"socket.io#/#\" \"socket.io-request#/#\" \"socket.io-response#/#\"\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u63a5\u7d9a\u6642\n\"subscribe\" \"socket.io#/#S1H5pJcm8Kun5lOoAAAA#\"\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u63a5\u7d9a\u6642\n\"subscribe\" \"socket.io#/#7HLiEmHioqbLuINtAAAA#\"\n\nemitter.js\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001Redis\u306b\u5bfe\u3057\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\"publish\" \"socket.io#/#\" \"\\x93\\xa7emitter\\x83\\xa4type\\x02\\xa4data\\x92\\xacchat message\\xb4Hi guys from Emitter\\xa3nsp\\xa1/\\x82\\xa5rooms\\x90\\xa5flags\\x80\"\n\n\u30b5\u30fc\u30d0\u306fsocket.io#/#\u30c1\u30e3\u30f3\u30cd\u30eb\u3092SUBSCRIBE\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3057\u3001\u305d\u308c\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u9001\u4fe1\u3059\u308b\u3002\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3060\u3051\u306b\u9001\u4fe1\u3059\u308b\u3068\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\"publish\" \"socket.io#/#S1H5pJcm8Kun5lOoAAAA#\" \"\\x93\\xa7emitter\\x83\\xa4type\\x02\\xa4data\\x92\\xacchat message\\xb4message from outside\\xa3nsp\\xa1/\\x82\\xa5rooms\\x91\\xb4S1H5pJcm8Kun5lOoAAAA\\xa5flags\\x80\"\n\n\u30b5\u30fc\u30d0\u306fsocket.io#/#S1H5pJcm8Kun5lOoAAAA#\u30c1\u30e3\u30f3\u30cd\u30eb\u3082SUBSCRIBE\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3057\u3001\u305d\u308c\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u306b\u9001\u4fe1\u3059\u308b\u3002\n\u306a\u304a\u3001emitter.js\u304b\u3089\u306fchat message\u3068\u3044\u3046\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3057\u3066\u3044\u308b\u304c\u3001\u30b5\u30fc\u30d0\u306f\u3053\u306e\u30a4\u30d9\u30f3\u30c8\u306b\u53cd\u5fdc\u3057\u306a\u3044\u3088\u3046\u3067\u3042\u308b\u3002\n[Socket.io\u30b5\u30fc\u30d0\u3092\u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u3059\u308b\uff08Redis\u3092\u4f7f\u3063\u305f\u8907\u6570\u30d7\u30ed\u30bb\u30b9\u9593\u3067\u306e\u30d6\u30ed\u30fc\u30c9\u30ad\u30e3\u30b9\u30c8\uff09](http://qiita.com/takehilo/items/8c773d18ec6cfccd6679)\u3068\u3044\u3046\u8a18\u4e8b\u3067\u3001Redis\u3092\u4f7f\u3063\u3066Socket.io\u30b5\u30fc\u30d0\u3092\u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u3059\u308b\u65b9\u6cd5\u3092\u66f8\u3044\u305f\u304c\u3001Redis\u3092\u4f7f\u3046\u3068Non-Socket.io\u306a\u30d7\u30ed\u30bb\u30b9\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\n\n\u30b5\u30fc\u30d0\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5b9f\u88c5\u3092\u518d\u63b2\u3002\n\n\u30b5\u30fc\u30d0\n\n```index.js\nconst cluster = require('cluster');\nconst io = require('socket.io')();\nconst sticky = require('sticky-session');\nconst http = require('http');\nconst redis = require('socket.io-redis');\n\nconst server = http.createServer((req, res) => {\n  res.end('worker: ' + cluster.worker.id);\n});\n\nio.adapter(redis({host: '192.168.99.100', port: 6379}));\nio.attach(server);\nisWorker = sticky.listen(server, 3000);\n\nif (isWorker) {\n  io.on('connection', (socket) => {\n    console.log(`worker: ${cluster.worker.id}, connected, id: ${socket.id}`);\n\n    socket.on('chat message', (user, message) => {\n      data = `${message} from ${user}`;\n      console.log(data);\n      socket.broadcast.emit('chat message', data);\n    });\n\n    socket.on('disconnect', () => {\n      console.log(`disconnected, id: ${socket.id}`);\n    });\n  });\n}\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n\n```client.js\nconst readline = require('readline');\nconst socket = require('socket.io-client')('http://localhost:3000');\n\nconst user = process.argv[2];\n\nrl = readline.createInterface(process.stdin, process.stdout);\nrl.setPrompt('');\n\nrl.on('line', (line) => {\n  socket.emit('chat message', user, line);\n})\n.on('close', () => {\n  process.exit(0);\n});\n\nsocket.on('connect', () => {\n  console.log(`connected, id: ${socket.id}`);\n});\n\nsocket.on('chat message', (data) => {\n  console.log(data);\n});\n\nsocket.on('error', (err) => {\n  console.log('Error:', err);\n});\n\nsocket.on('disconnect', () => {\n  console.log('disconnected');\n});\n```\n\n\u305d\u308c\u305e\u308c\u5b9f\u884c\u3059\u308b\u3002\n\n```\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\n$ node client.js A\nconnected, id: S1H5pJcm8Kun5lOoAAAA\n```\n\n```\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\n$ node client.js B\nconnected, id: 7HLiEmHioqbLuINtAAAA\n```\n\n```\n# \u30b5\u30fc\u30d0\n$ node index.js\nworker: 2, connected, id: S1H5pJcm8Kun5lOoAAAA\nworker: 4, connected, id: 7HLiEmHioqbLuINtAAAA\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u3067\u30c1\u30e3\u30c3\u30c8\u304c\u3067\u304d\u308b\u3002\n\n```\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\n$ node client.js A\nconnected, id: S1H5pJcm8Kun5lOoAAAA\n\nHello  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi from B  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n```\n\n```\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\n$ node client.js B\nconnected, id: 7HLiEmHioqbLuINtAAAA\n\nHello from A  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n```\n\n\u3053\u3053\u3067\u3001\u7b2c\u4e09\u8005P\u304b\u3089\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308a\u305f\u3044\u3002\n\u3053\u306eP\u306f\u30b5\u30fc\u30d0\u3068\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306f\u5f35\u3089\u305a\u3001\u4e00\u65b9\u7684\u306b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b\u3002\n\n[socket.io-emitter](https://github.com/socketio/socket.io-emitter)\u3092\u4f7f\u3046\u3068\u3001\u3053\u306e\u5b9f\u88c5\u304c\u53ef\u80fd\u306b\u306a\u308b\u3002\n\n```emitter.js\nconst io = require('socket.io-emitter')({ host: 'localhost', port: 6379 });\nconst socketId = process.argv[2];\n\nif (socketId) {\n  io.to(socketId).emit('chat message', 'Hi guys from Emitter');\n} else {\n  io.emit('chat message', 'message from outside');\n}\n```\n\n\u5b9f\u884c\u3059\u308b\u3002\n\n```\n$ node emitter.js\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u306e\u30bd\u30b1\u30c3\u30c8\u306b`emitter.js`\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9001\u4fe1\u3055\u308c\u308b\u3002\n\n```\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\n$ node client.js A\nconnected, id: S1H5pJcm8Kun5lOoAAAA\n\nHello  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi from B  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi guys from Emitter  # emitter.js\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n```\n\n```\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\n$ node client.js B\nconnected, id: 7HLiEmHioqbLuINtAAAA\n\nHello from A  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n\nHi guys from Emitter  # emitter.js\u304c\u9001\u4fe1\u3057\u305f\u30e1\u30c3\u30bb\u30fc\u30b8\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3060\u3051\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\u3002\n\n```\n$ node emitter.js S1H5pJcm8Kun5lOoAAAA  # \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u304c\u63a5\u7d9a\u3057\u3066\u3044\u308b\u30bd\u30b1\u30c3\u30c8\u306eID\n```\n\n## \u88cf\u5074\u3067\u4f55\u304c\u8d77\u304d\u3066\u3044\u308b\u304b\n[Socket.io\u30b5\u30fc\u30d0\u3092\u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u3059\u308b\uff08Redis\u3092\u4f7f\u3063\u305f\u8907\u6570\u30d7\u30ed\u30bb\u30b9\u9593\u3067\u306e\u30d6\u30ed\u30fc\u30c9\u30ad\u30e3\u30b9\u30c8\uff09](http://qiita.com/takehilo/items/8c773d18ec6cfccd6679)\u306e\u3068\u304d\u3068\u540c\u3058\u3067\u3001\u3053\u3061\u3089\u3082Redis\u306ePUB/SUB\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u3002\n\n\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3068B\u304c\u63a5\u7d9a\u3059\u308b\u3068\u3001\u30b5\u30fc\u30d0\u306f\u4ee5\u4e0b\u306e\u30c1\u30e3\u30f3\u30cd\u30eb\u3092SUBSCRIBE\u3057\u305f\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\u4ee5\u4e0b\u306f`redis-cli monitor`\u306e\u51fa\u529b\u3002\n\n```\n# \u30b5\u30fc\u30d0\u8d77\u52d5\u6642\n\"subscribe\" \"socket.io#/#\" \"socket.io-request#/#\" \"socket.io-response#/#\"\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u63a5\u7d9a\u6642\n\"subscribe\" \"socket.io#/#S1H5pJcm8Kun5lOoAAAA#\"\n\n# \u30af\u30e9\u30a4\u30a2\u30f3\u30c8B\u63a5\u7d9a\u6642\n\"subscribe\" \"socket.io#/#7HLiEmHioqbLuINtAAAA#\"\n```\n\n`emitter.js`\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001Redis\u306b\u5bfe\u3057\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\n```\n\"publish\" \"socket.io#/#\" \"\\x93\\xa7emitter\\x83\\xa4type\\x02\\xa4data\\x92\\xacchat message\\xb4Hi guys from Emitter\\xa3nsp\\xa1/\\x82\\xa5rooms\\x90\\xa5flags\\x80\"\n```\n\n\u30b5\u30fc\u30d0\u306f`socket.io#/#`\u30c1\u30e3\u30f3\u30cd\u30eb\u3092SUBSCRIBE\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3057\u3001\u305d\u308c\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u9001\u4fe1\u3059\u308b\u3002\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u3060\u3051\u306b\u9001\u4fe1\u3059\u308b\u3068\u3057\u305f\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\n```\n\"publish\" \"socket.io#/#S1H5pJcm8Kun5lOoAAAA#\" \"\\x93\\xa7emitter\\x83\\xa4type\\x02\\xa4data\\x92\\xacchat message\\xb4message from outside\\xa3nsp\\xa1/\\x82\\xa5rooms\\x91\\xb4S1H5pJcm8Kun5lOoAAAA\\xa5flags\\x80\"\n```\n\n\u30b5\u30fc\u30d0\u306f`socket.io#/#S1H5pJcm8Kun5lOoAAAA#`\u30c1\u30e3\u30f3\u30cd\u30eb\u3082SUBSCRIBE\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u4fe1\u3057\u3001\u305d\u308c\u3092\u30af\u30e9\u30a4\u30a2\u30f3\u30c8A\u306b\u9001\u4fe1\u3059\u308b\u3002\n\n\u306a\u304a\u3001`emitter.js`\u304b\u3089\u306f`chat message`\u3068\u3044\u3046\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3057\u3066\u3044\u308b\u304c\u3001\u30b5\u30fc\u30d0\u306f\u3053\u306e\u30a4\u30d9\u30f3\u30c8\u306b\u53cd\u5fdc\u3057\u306a\u3044\u3088\u3046\u3067\u3042\u308b\u3002\n\n", "tags": ["Socket.io", "Redis"]}