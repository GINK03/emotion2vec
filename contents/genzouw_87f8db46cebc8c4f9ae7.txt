{"tags": ["Bash", "Linux", "\u4e26\u5217\u51e6\u7406", "ShellScript", "\u30a2\u30c9\u30a8\u30d3\u30b9"], "context": "\n\n\u306f\u3058\u3081\u306b\n\u4eca\u65e5\u3001\u30b5\u30fc\u30d0OS\u3068\u3057\u3066Linux\u304c\u5360\u3081\u308b\u5272\u5408\u306f\u975e\u5e38\u306b\u591a\u3044\u3067\u3059\u3002\nLinux\u30b5\u30fc\u30d0\u3078\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u4f5c\u696d\u3092\u3059\u3059\u3081\u308b\u306b\u3042\u305f\u308a\u3001 Bash \u306b\u4e0a\u624b\u306b\u4ed5\u4e8b\u3092\u4f9d\u983c\u3067\u304d\u308b\u304b\u3067\u751f\u7523\u6027\u306b\u5927\u304d\u306a\u9055\u3044\u304c\u51fa\u3066\u304d\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u591a\u304f\u306eLinux\u30b5\u30fc\u30d0\u306b\u6a19\u6e96\u642d\u8f09\u3055\u308c\u3066\u3044\u308bUI\u306f\u3001Bash\u3060\u304b\u3089\u3067\u3059\u3002\n\u73fe\u5728\u643a\u308f\u3063\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3042\u308b \u30a2\u30c9\u30a8\u30d3\u30b9 \u306e\u30b5\u30fc\u30d0\u3082\u4f8b\u306b\u6f0f\u308c\u305aLinux\u304c\u5229\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\"\u3092\u7406\u89e3\u3059\u308c\u3070\"Bash\"\u304c\u7406\u89e3\u3067\u304d\u308b\n\"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\"\u3092\u7406\u89e3\u3059\u308c\u3070\"Bash\"\u304c\u3001\u305d\u3057\u3066\"Bash\"\u306e \u4fbf\u5229\u3055 \u304c\u7406\u89e3\u3067\u304d\u307e\u3059\u3002\n\u3067\u3059\u304c\u3001\"Bash\" \u306e\u30b3\u30de\u30f3\u30c9\u306f\u51e6\u7406\u306e\u8907\u96d1\u3055\u306e\u5272\u306b\u77ed\u304f\u3001\u7406\u89e3\u304c\u9032\u3080\u307e\u3067\u306f\u975e\u5e38\u306b\u6577\u5c45\u306e\u9ad8\u3044\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u3053\u3067\u3001 \"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\u82b8\" \u9054\u3092\u8996\u899a\u5316\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\u4ee5\u964d\u3001 \"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\u82b8\" \u305f\u3061\u3092\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3068\u3068\u3082\u306b\u63b2\u8f09\u3057\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u610f\u5473\u306f\u8aac\u660e\u3092\u6700\u5c0f\u9650\u306b\u3057\u307e\u3059\u304c\u3001\u66ff\u308f\u308a\u306b\u8996\u899a\u5316\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u5f53\u30a8\u30f3\u30c8\u30ea\u306e\u6700\u5f8c\u306b\"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\u82b8\"\u3092\u5927\u5909\u308f\u304b\u308a\u3084\u3059\u304f\u7d39\u4ecb\u3057\u3066\u3044\u308b\u30da\u30fc\u30b8\u306eURL\u3092\u7d39\u4ecb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u56f3\u306e\u898b\u65b9\n\u767b\u5834\u4eba\u7269 \u306f\u4ee5\u4e0b\u306e\u3082\u306e\u305f\u3061\u3067\u3059\u3002\n\n\n\"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\" \u30d1\u30bf\u30fc\u30f3\u7d39\u4ecb\n\n1.\u5358\u7d14\u306b\u5b9f\u884c\uff08\u975e\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\uff09\n\u307e\u305a\u306f\u3058\u3081\u306b \u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\u3092\u5229\u7528\u3057\u3066\u3044\u306a\u3044\u4f8b \u304b\u3089\u3002\n\u51fa\u529b\u7d50\u679c\u3092\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u306b\u6e21\u3059\u305f\u3081\u306b\u306f\u3001\u4e00\u6642\u7684\u306b\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n$ C1 > S12.txt\n$ C2 < S12.txt > S23.txt\n$ C3 < S23.txt\n\n\n\u5177\u4f53\u4f8b\n$ seq 1 100             > S12.txt\n$ sort -rn  < S12.txt   > S13.txt\n$ cat -n    < S13.txt\n\n\n\u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n\n2.\u5358\u7d14\u306a\u30d1\u30a4\u30d7\n\u6bd4\u8f03\u7684\u3088\u304f\u5b9f\u884c\u3059\u308b\u30bf\u30a4\u30d7\u3067\u3059\u3002\n\u30c7\u30fc\u30bf\u3082\u5de6\u304b\u3089\u53f3\u3078\u3068\u6d41\u308c\u308b\u305f\u3081\u3001\u76f4\u611f\u7684\u306b\u7406\u89e3\u3057\u6613\u3044\u3067\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n$ C1 | C2 | C3\n\n\n\u5177\u4f53\u4f8b\n$ seq 1 100| sort -rn| cat -n\n\n\n\u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n\n3.T\u5b57\u578b\u51fa\u529b\u30d1\u30a4\u30d7\n\u30b3\u30de\u30f3\u30c9\u3092\u30d1\u30a4\u30d7\u3067\u3064\u306a\u304e\u3001\u6bb5\u968e\u7684\u306b\u51fa\u529b\u7d50\u679c\u3092\u52a0\u5de5\u3057\u3066\u3044\u304d\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u5834\u5408\u3001\u52a0\u5de5\u9014\u4e2d\u306e\u5185\u5bb9\u3092\u6b8b\u3057\u3066\u3044\u304d\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\uff08ex: \u4e2d\u9593\u30c7\u30fc\u30bf\u3092\u5225\u306e\u76ee\u7684\u3067\u5229\u7528\u3059\u308b / \u4e2d\u9593\u30c7\u30fc\u30bf\u306b\u554f\u984c\u304c\u306a\u3044\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u51fa\u529b\u3057\u3066\u304a\u304d\u305f\u3044\uff09\ntee\u30b3\u30de\u30f3\u30c9\u306f\u4e0a\u8a18\u306e\u3088\u3046\u306a\u5834\u5408\u306b\u3057\u3070\u3057\u3070\u5229\u7528\u3055\u308c\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n$ C1| tee S12.txt| C2| tee S23.txt| C3\n\n\n\u5177\u4f53\u4f8b\n$ seq 1 100| tee S12.txt | sort -rn| tee S23.txt| cat -n\n\n\n\u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n\n4.\u540d\u524d\u4ed8\u304d\u30d1\u30a4\u30d7\nmkfifo \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001FIFO(First In First Out)\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\u30c7\u30fc\u30bf\u306e\u9001\u4fe1\u5143\u3068\u53d7\u4fe1\u5143\u3067\u5b9f\u884c\u30bf\u30a4\u30df\u30f3\u30b0\u306b\u540c\u671f\u304c\u53d6\u308c\u306a\u3044\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n$ mkfifo S12.txt\n$ mkfifo S23.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S12\"\u3078\u51fa\u529b\n$ C1 > S12.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S12\"\u304b\u3089\u5165\u529b\u3057\u3001 \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S23\"\u3078\u51fa\u529b\n$ C2 < S12.txt > S23.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S23\"\u304b\u3089\u5165\u529b\n$ C3 < S23.txt\n\n\n\u5177\u4f53\u4f8b\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n$ mkfifo S12.txt\n$ mkfifo S23.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S12\"\u3078\u51fa\u529b\n$ seq 1 100 > S12.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S12\"\u304b\u3089\u5165\u529b\u3057\u3001 \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S23\"\u3078\u51fa\u529b\n$ sort -rn < S12.txt > S23.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S23\"\u304b\u3089\u5165\u529b\n$ cat -n < S23.txt\n\n\n\u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n\n5.\u30d7\u30ed\u30bb\u30b9\u7f6e\u63db\nBash\u3067\u306f\u3001\u5165\u529b\u60c5\u5831\u3092\uff13\u3064\u4ee5\u4e0a\u306e\u51fa\u529b\u5148\u306b\u6d41\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n$ C1| tee >(C2 > S2.txt) >(C3 > S3.txt)\n\n\n\u5177\u4f53\u4f8b\n$ seq 1 100| tee >(sort -rn > S2.txt) >(sort -rn| cat -n > S3.txt)\n\n\n\u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n\n6. \u8907\u6570\u306e\u5165\u529b\u60c5\u5831\u3092\u51e6\u7406\u3059\u308b\n\u4eca\u307e\u3067\u306f1\u3064\u306e\u5165\u529b\u60c5\u5831\u3092\u51e6\u7406\u3059\u308b\u4f8b\u3067\u3057\u305f\u304c\u3001\uff12\u3064\u4ee5\u4e0a\u306e\u5165\u529b\u60c5\u5831\u3092\u51e6\u7406\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u524d\u56de\u540c\u69d8\u30d7\u30ed\u30bb\u30b9\u7f6e\u63db\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n$ C1 <(C2) <(C3)| C4\n\n\n\u5177\u4f53\u4f8b\n$ sort -nr <(seq 1 100) <(seq 101 200)| cat -n\n\n\n\u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n\n7.\u3042\u308bDB\u30b5\u30fc\u30d0\u304b\u3089\u5225\u306eDB\u30b5\u30fc\u30d0\u3078\u30c7\u30fc\u30bf\u3092\u30b3\u30d4\u30fc\n\u5b9f\u696d\u52d9\u3067\u3082\u305f\u307e\u306b\u884c\u3046\u3053\u3068\u304c\u3042\u308b\u4f5c\u696d\u3067\u3059\u3002\nssh\u3067\u63a5\u7d9a\u53ef\u80fd\u306a\u30b5\u30fc\u30d0A/B\u9593\u3067\u30c7\u30fc\u30bf\u306e\u3084\u308a\u53d6\u308a\u3092\u884c\u3046\u4f8b\u3067\u3059\u3002\n\u3053\u306e\u3042\u305f\u308a\u306e\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u3068\u3001\u306e\u3093\u3073\u308a\u30c8\u30a4\u30ec\u306b\u3044\u3063\u3066\u3044\u308b\u9593\u306b\u4e00\u4ed5\u4e8b\u7d42\u308f\u3089\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n$ ssh anyone@server_a \"pg_dump ... |C1 |C2\"| \\\n        ssh anyone@server_b \"C3| C4| psql ...\"\n\n\n\u5177\u4f53\u4f8b\n\u5404DB\u306e\u63a5\u7d9a\u60c5\u5831\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\n\n\n\u6587\u5b57\u5217\n\u8aac\u660e\n\n\n\n\nfrom_user\nfrom\u30b5\u30fc\u30d0\u30fc\u30e6\u30fc\u30b6\n\n\nfrom_server\nfrom\u30b5\u30fc\u30d0\u30fc\u30db\u30b9\u30c8\n\n\nfrom_dbuser\nfromDB\u30e6\u30fc\u30b6\n\n\nfrom_dbname\nfromDB\u540d\n\n\n-------------\n--------------------\n\n\nto_user\nto\u30b5\u30fc\u30d0\u30fc\u30e6\u30fc\u30b6\n\n\nto_server\nto\u30b5\u30fc\u30d0\u30fc\u30db\u30b9\u30c8\n\n\nto_dbuser\ntoDB\u30e6\u30fc\u30b6\n\n\nto_dbname\ntoDB\u540d\n\n\n\n$ ssh from_user@from_server \"pg_dump -c -U from_dbuser from_dbname | gzip -c\" | \\\n  ssh to_user@to_server \"gunzip -c | psql -U to_dbuser to_dbname\"\n\n\n\u4e8b\u524d\u306bssh\u3059\u308b\u4e21\u30b5\u30fc\u30d0\u30fc\u306b\u3001ssh-keygen\u3067\u79d8\u5bc6\u9375\u3092\u4f5c\u3063\u3066\u304a\u304f\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u306b\u60a9\u307e\u3055\u308c\u307e\u305b\u3093\u3002\nssh\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u89e3\u6d88\u3055\u308c\u305f\u3068\u3057\u3066\u3082\u3001pg_dump\u30b3\u30de\u30f3\u30c9\u3084psql\u30b3\u30de\u30f3\u30c9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5165\u529b\u554f\u984c\u3082\u6b8b\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u89e6\u308c\u307e\u305b\u3093\u3002\n\n\n\u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n\n\n\u53c2\u8003\u8cc7\u6599\n\nbash\u3067\u30b9\u30c8\u30ea\u30fc\u30e0\u30c7\u30fc\u30bf\u51e6\u7406 - Qiita\n\u6a19\u6e96\u5165\u529b\u30922\u7b87\u6240\u4ee5\u4e0a\u306b\u540c\u6642\u51fa\u529b\u3057\u305f\u3044 - Qiita\n\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u306e\u541b\uff01 \u9a19\u3055\u308c\u308b\u306a\uff01 \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u305d\u3046\u66f8\u3044\u3061\u3083\u99c4\u76ee\u3060\uff01\uff01 \u3068\u3044\u3046\u8a71 - Qiita\n\u30d1\u30a4\u30d7\u51fa\u529b\u3092\u73fe\u5728\u306e\u30b7\u30a7\u30eb\u4e0a\u306ewhile\u306b\u55b0\u308f\u305b\u308b\u4e0a\u624b\u3044\u3084\u308a\u65b9 - Qiita\nbash\u306e\u30d7\u30ed\u30bb\u30b9\u7f6e\u63db\u6a5f\u80fd\u3092\u6d3b\u7528\u3057\u3066\u3001\u30b7\u30a7\u30eb\u4f5c\u696d\u3084\u30b9\u30af\u30ea\u30d7\u30c8\u66f8\u304d\u3092\u52b9\u7387\u5316\u3059\u308b - \u53cc\u516d\u5de5\u5834\u65e5\u8a8c\n\n# \u306f\u3058\u3081\u306b\n\n\u4eca\u65e5\u3001\u30b5\u30fc\u30d0OS\u3068\u3057\u3066Linux\u304c\u5360\u3081\u308b\u5272\u5408\u306f\u975e\u5e38\u306b\u591a\u3044\u3067\u3059\u3002\nLinux\u30b5\u30fc\u30d0\u3078\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u4f5c\u696d\u3092\u3059\u3059\u3081\u308b\u306b\u3042\u305f\u308a\u3001 **Bash** \u306b\u4e0a\u624b\u306b\u4ed5\u4e8b\u3092\u4f9d\u983c\u3067\u304d\u308b\u304b\u3067\u751f\u7523\u6027\u306b\u5927\u304d\u306a\u9055\u3044\u304c\u51fa\u3066\u304d\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u591a\u304f\u306eLinux\u30b5\u30fc\u30d0\u306b\u6a19\u6e96\u642d\u8f09\u3055\u308c\u3066\u3044\u308bUI\u306f\u3001**Bash**\u3060\u304b\u3089\u3067\u3059\u3002\n\n\u73fe\u5728\u643a\u308f\u3063\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3042\u308b **[\u30a2\u30c9\u30a8\u30d3\u30b9](http://www.ebis.ne.jp/)** \u306e\u30b5\u30fc\u30d0\u3082\u4f8b\u306b\u6f0f\u308c\u305aLinux\u304c\u5229\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n# \"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\"\u3092\u7406\u89e3\u3059\u308c\u3070\"Bash\"\u304c\u7406\u89e3\u3067\u304d\u308b\n\n\"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\"\u3092\u7406\u89e3\u3059\u308c\u3070\"Bash\"\u304c\u3001\u305d\u3057\u3066\"Bash\"\u306e **\u4fbf\u5229\u3055** \u304c\u7406\u89e3\u3067\u304d\u307e\u3059\u3002\n\n\u3067\u3059\u304c\u3001\"Bash\" \u306e\u30b3\u30de\u30f3\u30c9\u306f\u51e6\u7406\u306e\u8907\u96d1\u3055\u306e\u5272\u306b\u77ed\u304f\u3001\u7406\u89e3\u304c\u9032\u3080\u307e\u3067\u306f\u975e\u5e38\u306b\u6577\u5c45\u306e\u9ad8\u3044\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u3053\u3067\u3001 **\"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\u82b8\"** \u9054\u3092\u8996\u899a\u5316\u3057\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u4ee5\u964d\u3001 **\"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\u82b8\"** \u305f\u3061\u3092\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3068\u3068\u3082\u306b\u63b2\u8f09\u3057\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u610f\u5473\u306f\u8aac\u660e\u3092\u6700\u5c0f\u9650\u306b\u3057\u307e\u3059\u304c\u3001\u66ff\u308f\u308a\u306b\u8996\u899a\u5316\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n*\u5f53\u30a8\u30f3\u30c8\u30ea\u306e\u6700\u5f8c\u306b\"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\u82b8\"\u3092\u5927\u5909\u308f\u304b\u308a\u3084\u3059\u304f\u7d39\u4ecb\u3057\u3066\u3044\u308b\u30da\u30fc\u30b8\u306eURL\u3092\u7d39\u4ecb\u3057\u3066\u304a\u304d\u307e\u3059\u3002*\n\n\n# \u56f3\u306e\u898b\u65b9\n\n**\u767b\u5834\u4eba\u7269** \u306f\u4ee5\u4e0b\u306e\u3082\u306e\u305f\u3061\u3067\u3059\u3002\n\n![blog.png](https://qiita-image-store.s3.amazonaws.com/0/15523/80f4d52f-ec4b-2a5e-789e-af46949c41e4.png)\n\n\n\n# **\"\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\"** \u30d1\u30bf\u30fc\u30f3\u7d39\u4ecb\n\n## 1.\u5358\u7d14\u306b\u5b9f\u884c\uff08\u975e\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\uff09\n\n\u307e\u305a\u306f\u3058\u3081\u306b **\u30b9\u30c8\u30ea\u30fc\u30e0/\u30d1\u30a4\u30d7\u3092\u5229\u7528\u3057\u3066\u3044\u306a\u3044\u4f8b** \u304b\u3089\u3002\n\u51fa\u529b\u7d50\u679c\u3092\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u306b\u6e21\u3059\u305f\u3081\u306b\u306f\u3001\u4e00\u6642\u7684\u306b\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n### \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n```bash\n$ C1 > S12.txt\n$ C2 < S12.txt > S23.txt\n$ C3 < S23.txt\n```\n\n### \u5177\u4f53\u4f8b\n\n```bash\n$ seq 1 100             > S12.txt\n$ sort -rn  < S12.txt   > S13.txt\n$ cat -n    < S13.txt\n```\n\n### \u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n![blog-001.png](https://qiita-image-store.s3.amazonaws.com/0/15523/e966bed6-0a0d-e851-b490-3d15e7c4ab4a.png)\n\n\n\n## 2.\u5358\u7d14\u306a\u30d1\u30a4\u30d7\n\n\u6bd4\u8f03\u7684\u3088\u304f\u5b9f\u884c\u3059\u308b\u30bf\u30a4\u30d7\u3067\u3059\u3002\n\u30c7\u30fc\u30bf\u3082\u5de6\u304b\u3089\u53f3\u3078\u3068\u6d41\u308c\u308b\u305f\u3081\u3001\u76f4\u611f\u7684\u306b\u7406\u89e3\u3057\u6613\u3044\u3067\u3059\u3002\n\n\n### \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n```bash\n$ C1 | C2 | C3\n```\n\n### \u5177\u4f53\u4f8b\n\n```bash\n$ seq 1 100| sort -rn| cat -n\n```\n\n### \u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n![blog-002.png](https://qiita-image-store.s3.amazonaws.com/0/15523/ada2e467-e733-0fbc-6d90-9e60c5ad172c.png)\n\n\n## 3.T\u5b57\u578b\u51fa\u529b\u30d1\u30a4\u30d7\n\n\u30b3\u30de\u30f3\u30c9\u3092\u30d1\u30a4\u30d7\u3067\u3064\u306a\u304e\u3001\u6bb5\u968e\u7684\u306b\u51fa\u529b\u7d50\u679c\u3092\u52a0\u5de5\u3057\u3066\u3044\u304d\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u5834\u5408\u3001\u52a0\u5de5\u9014\u4e2d\u306e\u5185\u5bb9\u3092\u6b8b\u3057\u3066\u3044\u304d\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\uff08ex: \u4e2d\u9593\u30c7\u30fc\u30bf\u3092\u5225\u306e\u76ee\u7684\u3067\u5229\u7528\u3059\u308b / \u4e2d\u9593\u30c7\u30fc\u30bf\u306b\u554f\u984c\u304c\u306a\u3044\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u51fa\u529b\u3057\u3066\u304a\u304d\u305f\u3044\uff09\n\ntee\u30b3\u30de\u30f3\u30c9\u306f\u4e0a\u8a18\u306e\u3088\u3046\u306a\u5834\u5408\u306b\u3057\u3070\u3057\u3070\u5229\u7528\u3055\u308c\u307e\u3059\u3002\n\n\n### \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n```bash\n$ C1| tee S12.txt| C2| tee S23.txt| C3\n```\n\n### \u5177\u4f53\u4f8b\n\n```bash\n$ seq 1 100| tee S12.txt | sort -rn| tee S23.txt| cat -n\n```\n\n### \u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n![blog-003.png](https://qiita-image-store.s3.amazonaws.com/0/15523/6f35aafa-2777-8d1e-72bf-60cba36adfa8.png)\n\n\n\n## 4.\u540d\u524d\u4ed8\u304d\u30d1\u30a4\u30d7\n\n**mkfifo** \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3001FIFO(First In First Out)\u5f62\u5f0f\u306e\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\u30c7\u30fc\u30bf\u306e\u9001\u4fe1\u5143\u3068\u53d7\u4fe1\u5143\u3067\u5b9f\u884c\u30bf\u30a4\u30df\u30f3\u30b0\u306b\u540c\u671f\u304c\u53d6\u308c\u306a\u3044\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002\n\n### \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n```bash\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n$ mkfifo S12.txt\n$ mkfifo S23.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S12\"\u3078\u51fa\u529b\n$ C1 > S12.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S12\"\u304b\u3089\u5165\u529b\u3057\u3001 \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S23\"\u3078\u51fa\u529b\n$ C2 < S12.txt > S23.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S23\"\u304b\u3089\u5165\u529b\n$ C3 < S23.txt\n```\n\n### \u5177\u4f53\u4f8b\n\n```bash\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n$ mkfifo S12.txt\n$ mkfifo S23.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S12\"\u3078\u51fa\u529b\n$ seq 1 100 > S12.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S12\"\u304b\u3089\u5165\u529b\u3057\u3001 \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S23\"\u3078\u51fa\u529b\n$ sort -rn < S12.txt > S23.txt\n\n# \u30d1\u30a4\u30d7\u30d5\u30a1\u30a4\u30eb\"S23\"\u304b\u3089\u5165\u529b\n$ cat -n < S23.txt\n```\n\n\n### \u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n![blog-004.png](https://qiita-image-store.s3.amazonaws.com/0/15523/30817c16-2285-f8da-c168-81fa66e21666.png)\n\n\n\n## 5.\u30d7\u30ed\u30bb\u30b9\u7f6e\u63db\n\nBash\u3067\u306f\u3001\u5165\u529b\u60c5\u5831\u3092\uff13\u3064\u4ee5\u4e0a\u306e\u51fa\u529b\u5148\u306b\u6d41\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n### \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n```bash\n$ C1| tee >(C2 > S2.txt) >(C3 > S3.txt)\n```\n\n### \u5177\u4f53\u4f8b\n\n```bash\n$ seq 1 100| tee >(sort -rn > S2.txt) >(sort -rn| cat -n > S3.txt)\n```\n\n\n### \u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n![blog-005.png](https://qiita-image-store.s3.amazonaws.com/0/15523/d02f0e50-3b4e-6f74-e05f-cd922c2f73f5.png)\n\n\n## 6. \u8907\u6570\u306e\u5165\u529b\u60c5\u5831\u3092\u51e6\u7406\u3059\u308b\n\n\u4eca\u307e\u3067\u306f1\u3064\u306e\u5165\u529b\u60c5\u5831\u3092\u51e6\u7406\u3059\u308b\u4f8b\u3067\u3057\u305f\u304c\u3001\uff12\u3064\u4ee5\u4e0a\u306e\u5165\u529b\u60c5\u5831\u3092\u51e6\u7406\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\n\u524d\u56de\u540c\u69d8\u30d7\u30ed\u30bb\u30b9\u7f6e\u63db\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n### \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n```bash\n$ C1 <(C2) <(C3)| C4\n```\n\n### \u5177\u4f53\u4f8b\n\n```bash\n$ sort -nr <(seq 1 100) <(seq 101 200)| cat -n\n```\n\n\n### \u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n![blog-006.png](https://qiita-image-store.s3.amazonaws.com/0/15523/1381fddc-6488-8ed8-bb6f-20096b315474.png)\n\n\n\n## 7.\u3042\u308bDB\u30b5\u30fc\u30d0\u304b\u3089\u5225\u306eDB\u30b5\u30fc\u30d0\u3078\u30c7\u30fc\u30bf\u3092\u30b3\u30d4\u30fc\n\n\u5b9f\u696d\u52d9\u3067\u3082\u305f\u307e\u306b\u884c\u3046\u3053\u3068\u304c\u3042\u308b\u4f5c\u696d\u3067\u3059\u3002\nssh\u3067\u63a5\u7d9a\u53ef\u80fd\u306a\u30b5\u30fc\u30d0A/B\u9593\u3067\u30c7\u30fc\u30bf\u306e\u3084\u308a\u53d6\u308a\u3092\u884c\u3046\u4f8b\u3067\u3059\u3002\n\n\u3053\u306e\u3042\u305f\u308a\u306e\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u3068\u3001\u306e\u3093\u3073\u308a\u30c8\u30a4\u30ec\u306b\u3044\u3063\u3066\u3044\u308b\u9593\u306b\u4e00\u4ed5\u4e8b\u7d42\u308f\u3089\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n### \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\n\n```bash\n$ ssh anyone@server_a \"pg_dump ... |C1 |C2\"| \\\n        ssh anyone@server_b \"C3| C4| psql ...\"\n```\n\n### \u5177\u4f53\u4f8b\n\n\u5404DB\u306e\u63a5\u7d9a\u60c5\u5831\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\n| **\u6587\u5b57\u5217**  | **\u8aac\u660e**           |\n|-------------|--------------------|\n| from_user   | from\u30b5\u30fc\u30d0\u30fc\u30e6\u30fc\u30b6 |\n| from_server | from\u30b5\u30fc\u30d0\u30fc\u30db\u30b9\u30c8 |\n| from_dbuser | fromDB\u30e6\u30fc\u30b6       |\n| from_dbname | fromDB\u540d           |\n|-------------|--------------------|\n| to_user     | to\u30b5\u30fc\u30d0\u30fc\u30e6\u30fc\u30b6   |\n| to_server   | to\u30b5\u30fc\u30d0\u30fc\u30db\u30b9\u30c8   |\n| to_dbuser   | toDB\u30e6\u30fc\u30b6         |\n| to_dbname   | toDB\u540d             |\n\n```bash\n$ ssh from_user@from_server \"pg_dump -c -U from_dbuser from_dbname | gzip -c\" | \\\n  ssh to_user@to_server \"gunzip -c | psql -U to_dbuser to_dbname\"\n```\n\n* *\u4e8b\u524d\u306bssh\u3059\u308b\u4e21\u30b5\u30fc\u30d0\u30fc\u306b\u3001ssh-keygen\u3067\u79d8\u5bc6\u9375\u3092\u4f5c\u3063\u3066\u304a\u304f\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u306b\u60a9\u307e\u3055\u308c\u307e\u305b\u3093\u3002*\n* *ssh\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u89e3\u6d88\u3055\u308c\u305f\u3068\u3057\u3066\u3082\u3001pg_dump\u30b3\u30de\u30f3\u30c9\u3084psql\u30b3\u30de\u30f3\u30c9\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5165\u529b\u554f\u984c\u3082\u6b8b\u308a\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u89e6\u308c\u307e\u305b\u3093\u3002*\n\n\n### \u8996\u899a\u5316\u3057\u3066\u307f\u307e\u3057\u305f\n\n![blog-007.png](https://qiita-image-store.s3.amazonaws.com/0/15523/efdd94f9-4933-b75c-7f13-7478e524562b.png)\n\n\n\n---\n\n## \u53c2\u8003\u8cc7\u6599\n\n* [bash\u3067\u30b9\u30c8\u30ea\u30fc\u30e0\u30c7\u30fc\u30bf\u51e6\u7406 - Qiita](http://qiita.com/debug-ito/items/1bc877d62ec04dfa938a)\n* [\u6a19\u6e96\u5165\u529b\u30922\u7b87\u6240\u4ee5\u4e0a\u306b\u540c\u6642\u51fa\u529b\u3057\u305f\u3044 - Qiita](http://qiita.com/ronin_gw/items/bacef57a53411bbc7406)\n* [\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u306e\u541b\uff01 \u9a19\u3055\u308c\u308b\u306a\uff01 \u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u305d\u3046\u66f8\u3044\u3061\u3083\u99c4\u76ee\u3060\uff01\uff01 \u3068\u3044\u3046\u8a71 - Qiita](http://qiita.com/piroor/items/77233173707a0baa6360)\n* [\u30d1\u30a4\u30d7\u51fa\u529b\u3092\u73fe\u5728\u306e\u30b7\u30a7\u30eb\u4e0a\u306ewhile\u306b\u55b0\u308f\u305b\u308b\u4e0a\u624b\u3044\u3084\u308a\u65b9 - Qiita](http://qiita.com/kawaz/items/6fd4cd86ca98af644a05)\n* [bash\u306e\u30d7\u30ed\u30bb\u30b9\u7f6e\u63db\u6a5f\u80fd\u3092\u6d3b\u7528\u3057\u3066\u3001\u30b7\u30a7\u30eb\u4f5c\u696d\u3084\u30b9\u30af\u30ea\u30d7\u30c8\u66f8\u304d\u3092\u52b9\u7387\u5316\u3059\u308b - \u53cc\u516d\u5de5\u5834\u65e5\u8a8c](http://sechiro.hatenablog.com/entry/2013/08/15/bash%E3%81%AE%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E7%BD%AE%E6%8F%9B%E6%A9%9F%E8%83%BD%E3%82%92%E6%B4%BB%E7%94%A8%E3%81%97%E3%81%A6%E3%80%81%E3%82%B7%E3%82%A7%E3%83%AB%E4%BD%9C%E6%A5%AD%E3%82%84%E3%82%B9)\n"}