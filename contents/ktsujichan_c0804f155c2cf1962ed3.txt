{"context": "AWS\u306eLambda\u3092cron\u3067\u5b9a\u671f\u7684\u306b\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001CloudWatch\u306eScheduled Event\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u305d\u308c\u3092Terraform\u3092\u4f7f\u3063\u3066\u5b9f\u73fe\u3059\u308b\u5834\u5408\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\nresource \"aws_lambda_function\" \"output_report\" {\n    filename      = \"output_report.zip\"\n    function_name = \"outputReport\"\n    role          = \"arn:aws:iam::XXXXXXXXXXXX:role/YYYYY\"\n    handler       = \"index.handler\"\n}\n\nresource \"aws_cloudwatch_event_rule\" \"every_month\" {\n    name                = \"every_month\"\n    description         = \"Fires every month\"\n    schedule_expression = \"cron(0 0 1 * ? *)\"\n}\n\nresource \"aws_cloudwatch_event_target\" \"output_report_every_month\" {\n    rule      = \"${aws_cloudwatch_event_rule.every_month.name}\"\n    target_id = \"output_report\"\n    arn       = \"${aws_lambda_function.output_report.arn}\"\n}\n\nresource \"aws_lambda_permission\" \"allow_cloudwatch_to_call_output_report\" {\n    statement_id  = \"AllowExecutionFromCloudWatch\"\n    action        = \"lambda:InvokeFunction\"\n    function_name = \"${aws_lambda_function.output_report.function_name}\"\n    principal     = \"events.amazonaws.com\"\n    source_arn    = \"${aws_cloudwatch_event_rule.every_month.arn}\"\n}\n\n\u3053\u308c\u3067\u6bce\u67081\u65e50\u6642(GMT)\u306b\u3001outputReport\u306eLambda\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\nAWS\u306eLambda\u3092cron\u3067\u5b9a\u671f\u7684\u306b\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001CloudWatch\u306eScheduled Event\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u305d\u308c\u3092Terraform\u3092\u4f7f\u3063\u3066\u5b9f\u73fe\u3059\u308b\u5834\u5408\u306f\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```zsh\nresource \"aws_lambda_function\" \"output_report\" {\n    filename      = \"output_report.zip\"\n    function_name = \"outputReport\"\n    role          = \"arn:aws:iam::XXXXXXXXXXXX:role/YYYYY\"\n    handler       = \"index.handler\"\n}\n\nresource \"aws_cloudwatch_event_rule\" \"every_month\" {\n    name                = \"every_month\"\n    description         = \"Fires every month\"\n    schedule_expression = \"cron(0 0 1 * ? *)\"\n}\n\nresource \"aws_cloudwatch_event_target\" \"output_report_every_month\" {\n    rule      = \"${aws_cloudwatch_event_rule.every_month.name}\"\n    target_id = \"output_report\"\n    arn       = \"${aws_lambda_function.output_report.arn}\"\n}\n\nresource \"aws_lambda_permission\" \"allow_cloudwatch_to_call_output_report\" {\n    statement_id  = \"AllowExecutionFromCloudWatch\"\n    action        = \"lambda:InvokeFunction\"\n    function_name = \"${aws_lambda_function.output_report.function_name}\"\n    principal     = \"events.amazonaws.com\"\n    source_arn    = \"${aws_cloudwatch_event_rule.every_month.arn}\"\n}\n```\n\n\u3053\u308c\u3067\u6bce\u67081\u65e50\u6642(GMT)\u306b\u3001`outputReport`\u306eLambda\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002\n", "tags": ["AWS", "Terraform", "lambda"]}