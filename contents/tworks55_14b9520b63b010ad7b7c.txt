{"context": "\n\n\u306f\u3058\u3081\u306b\nMicrosoft\u306eBot Framework\u306eSDK\u3068\u3057\u3066\u306f.NET(\u73fe\u6642\u70b9\u3067\u306fC#\u306e\u307f)\u3068Node.js\u7528\u304c\u3042\u308a\u3001\u4ee5\u4e0b\u306e\u540d\u524d\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nBot Builder for .NET\nBot Builder for Node.js\n\n\u4eca\u56de\u306fNode.js\u7248\u3092\u5229\u7528\u3057\u3001Web Chat\u3092\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u305fBot\u306eHello World\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\u74b0\u5883\u306fAzure WebApps + GitHub\u3068\u3057\u3001Bot Framework Channel Emulator\u3092\u4f7f\u3063\u3066\u30c6\u30b9\u30c8\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002\n\u203b\u8ffd\u8a18\uff1a\nAzure\u3067SSL\u304c\u4f7f\u3048\u308b\u30d7\u30e9\u30f3\u3092\u4f7f\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001Part-2\u3067\u5b9f\u65bd\u3057\u3066\u3044\u308b\u3088\u3046\u306bHeroku\u74b0\u5883\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002Heroku\u306f\u7121\u6599\u30d7\u30e9\u30f3\u3067\u3082SSL\u304c\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\n2016/9/5:Azure\u7121\u6599\u30d7\u30e9\u30f3\u3067\u3082SSL\u306f\u4f7f\u7528\u3067\u304d\u307e\u3057\u305f\u306e\u3067\u8a02\u6b63\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001Part-2\u3067\u306fWeb Chat\u306e\u52d5\u4f5c\u78ba\u8a8d\u307e\u3067\u5b9f\u65bd\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u524d\u63d0\nNode.js, git\u306a\u3069\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\nAzure\u306bNode.js\u304c\u7a3c\u50cd\u3059\u308bWebApps\u3092\u4f5c\u6210\u6e08 \u203b\u7121\u6599\u74b0\u5883\u4f5c\u6210\u65b9\u6cd5\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\nBot Framework Channel Emulator\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\n\n1.Local\u74b0\u5883\u3067\u30c6\u30b9\u30c8\n\n1-1.Bot\u767b\u9332\u3068Microsoft AppId\u3068Password\u3092\u53d6\u5f97\nMicrosoft Bot Framework portal\u306b\u30a2\u30af\u30bb\u30b9\u3057BOT\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\u5fc5\u9808\u5165\u529b\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u5165\u529b\u3057\u307e\u3059\u3002\n\n\n\n\u5c5e\u6027\n\u8a2d\u5b9a\u5024\n\u88dc\u8db3\u8aac\u660e\n\n\n\n\nName\n\u4f8b\uff1atworks55-bot\n\u81ea\u5206\u306e\u30dc\u30c3\u30c8\u306e\u540d\u524d\n\n\nBot handle\n\u4f8b\uff1atworks55-bot\n\u81ea\u5206\u306e\u30dc\u30c3\u30c8\u306e\u30cf\u30f3\u30c9\u30eb\u540d\u3000\u203b\u767b\u9332\u5f8c\u306f\u5909\u66f4\u3067\u304d\u307e\u305b\u3093\n\n\nDescription\n\u4f8b\uff1atworks55-bot\n\u81ea\u5206\u306e\u30dc\u30c3\u30c8\u306e\u8aac\u660e\u3092\u8a18\u8f09\n\n\nMessaging endpoint\nhttps://example.com/api/messages\n\u30c6\u30b9\u30c8\u306e\u6bb5\u968e\u3067\u306f\u3053\u306eURL\u3067OK\n\n\nMicrosoft App ID\n\u4f8b\uff1a85724a49-xxxx-xxxx-xxxx-xxxxxxxxxxxx\n\u81ea\u5206\u306e\u30dc\u30c3\u30c8\u306e\u60c5\u5831\u3000\u203b1\n\n\nPublisher name\n\u4f8b\uff1atworks55\n\u81ea\u5206\u306e\u540d\u524d\u306a\u3069\n\n\nPublisher Email\n\u4f8b\uff1amyemail@example.com\n\n\u81ea\u5206\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\n\n\nPrivacy statement\nhttps://example.com/api/privacy\n\u30c6\u30b9\u30c8\u306e\u6bb5\u968e\u3067\u306f\u3053\u306eURL\u3067OK\n\n\nTerms of Use\nhttps://example.com/api/terms\n\u30c6\u30b9\u30c8\u306e\u6bb5\u968e\u3067\u306f\u3053\u306eURL\u3067OK\n\n\n\n\u203b\uff11\nCreate Microsoft App ID and password\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001MicrosoftAppId\u3068MicrosoftAppPassword\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u751f\u6210\u3055\u308c\u305f\u60c5\u5831\u306f\u5f8c\u3067\u4f7f\u7528\u3059\u308b\u306e\u3067\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\u767b\u9332\u5f8c\u306f\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n1-2.Hello world\u306e\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\nBot\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7528\u306e\u30d5\u30a9\u30eb\u30c0(\u4f8b\uff1ac:\\tworks55-bot)\u3067npm init\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u203b\u3044\u308d\u3044\u308d\u805e\u304b\u308c\u307e\u3059\u304c\u3001\u57fa\u672c\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067OK\u3067\u3059\u304c\u3001entry point\u3067\u306fapp.js\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nnpm init\n\n\u540c\u30d5\u30a9\u30eb\u30c0\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nnpm install --save botbuilder\nnpm install --save restify\n\napp.js\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u4ee5\u4e0b\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\napp.js\nvar restify = require('restify');\nvar builder = require('botbuilder');\n\n//=========================================================\n// Bot Setup\n//=========================================================\n\n// Setup Restify Server\nvar server = restify.createServer();\nvar botenv = process.env.BOT_ENV;\nserver.listen(process.env.port || process.env.PORT || 3978, function () {\n   console.log('%s listening to %s (%s)', server.name, server.url, botenv);\n});\n\n// Create chat bot\nvar connector = new builder.ChatConnector({\n    appId: process.env.MICROSOFT_APP_ID,\n    appPassword: process.env.MICROSOFT_APP_PASSWORD\n});\nvar bot = new builder.UniversalBot(connector);\nserver.post('/api/messages', connector.listen());\n\n//=========================================================\n// Bots Dialogs\n//=========================================================\n\nbot.dialog('/', function (session) {\n\n    session.send(\"Hello World from \" + botenv );\n});\n\n\n\u74b0\u5883\u5909\u6570\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nSET MICROSOFT_APP_ID=85724a49-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nSET MICROSOFT_APP_PASSWORD=QVXTHxxxxxxxxxxxxxxxxxx\nSET BOT_ENV=MYPC\n\n\u203bAPP_ID\u3068PASSWORD\u306f\u3001BOT\u767b\u9332\u6642\u306b\u751f\u6210\u3055\u308c\u305f\u3082\u306e\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n1-3.\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u30c6\u30b9\u30c8\nBOT\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\nnode app.js\n\nBot Framework Channel Emulator\u3092\u8d77\u52d5\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\n\n\u5c5e\u6027\n\u8a2d\u5b9a\u5024\n\u88dc\u8db3\u8aac\u660e\n\n\n\n\nLocal port\n9000\n\n\n\nEmulator URL\nhttp://localhost:9000/\n\n\n\nBot URL\nhttp://localhost:3978/api/messages\n\n\n\nMicrosoft App ID and password\n85724a49-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nBOT\u767b\u9332\u6642\u306b\u751f\u6210\u3055\u308c\u305f\u30b3\u30fc\u30c9\u4f53\u7cfb\u3067\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\n\n\nMicrosoft App Password\nQVXTHxxxxxxxxxxxxxxxxxx\n\n\n\n\nBOT\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3068Hello World from MYPC\u3068\u8fd4\u4fe1\u304c\u304d\u307e\u3059\u3002MYPC\u306e\u90e8\u5206\u306f\u74b0\u5883\u5909\u6570BOT_ENV\u306b\u8a2d\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u3067Local\u74b0\u5883\u3067\u306e\u30c6\u30b9\u30c8\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n2.GitHub\u3078\u30bd\u30fc\u30b9\u306e\u767b\u9332\n\n2-1 GitHub\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210\nNode.js\u5411\u3051\u30ea\u30dd\u30b8\u30c8\u30ea\u3068\u3057\u3066\u4f5c\u6210\u3002\n\n\n2-2.\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3068GitHub\u306e\u9023\u643a\n\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4e00\u65e6\u4f5c\u6210\u3057\u3001\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306bGitHub\u3067\u4f5c\u6210\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u203b\u3042\u304f\u307e\u3067\u3082\u7c21\u6613\u306a\u8a2d\u5b9a\u65b9\u6cd5\u306a\u306e\u3067\u3001\u672c\u683c\u7684\u306b\u4f7f\u3046\u5834\u5408\u306f\u5225\u9014\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30d5\u30a9\u30eb\u30c0(\u4f8b\uff1ac:\\tworks55-bot)\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\ngit init\ngit remote add origin https://github.com/tworks55/tworks55-bot.git\ngit pull origin master\ngit add .\ngit commit -m \"add bot source\"\ngit push\n\n\n3.Azure\u74b0\u5883\u8a2d\u5b9a\u3068\u30c6\u30b9\u30c8\n\n3-1.\u74b0\u5883\u5909\u6570\u8a2d\u5b9a\n\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u8a2d\u5b9a\u3057\u305f\u74b0\u5883\u5909\u6570\u3068\u540c\u69d8\u306b\u3001Azure\u306eWebApps\u306b\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u4eca\u56de\u306fGUI\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\u203bBOT_ENV\u306f\u3001AZURE\u3068\u3057\u307e\u3059\u3002 \n\n3-2.\u5c55\u958b\u5143\u8a2d\u5b9a\n\u5c55\u958b\u5143\u306fGitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\n3-3.Azure\u74b0\u5883\u3067\u30c6\u30b9\u30c8\nngrok\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u4ee5\u4e0b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\nngrok http -host-header=rewrite 9000\n\n\u5b9f\u884c\u3059\u308b\u3068\u52d5\u7684\u306aURL\u3092\u751f\u6210\u3057\u3001\u305d\u306eURL\u3067\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u304c\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u516c\u958b\u3055\u308c\u307e\u3059\u3002\n\nBot Framework Channel Emulator\u3092\u8d77\u52d5\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\n\n\u5c5e\u6027\n\u8a2d\u5b9a\u5024\n\u88dc\u8db3\u8aac\u660e\n\n\n\n\nLocal port\n9000\n\n\n\nEmulator URL\n\u4f8b\uff1ahttp://86b46ad3.ngrok.io/\n\nngrok\u3067\u751f\u6210\u3055\u308c\u305f\u52d5\u7684URL\u3092\u8a2d\u5b9a\u3057\u307e\u3059 \u203b2\n\n\nBot URL\n\u4f8b\uff1ahttp://tworks55-bot.azurewebsites.net/api/messages\n\nAzure\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u305fBOT\u306eURL\n\n\nMicrosoft App ID and password\n85724a49-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nBOT\u767b\u9332\u6642\u306b\u751f\u6210\u3055\u308c\u305f\u30b3\u30fc\u30c9\u4f53\u7cfb\u3067\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\n\n\nMicrosoft App Password\nQVXTHxxxxxxxxxxxxxxxxxx\n\n\n\n\n\u203b2 Bot Framework Emulator\u306e\u8aac\u660e\u306b\u3082\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001Bot Framework V3\u304b\u3089\u306f\u3001\u8a8d\u8a3c\u65b9\u6cd5\u304c\u5909\u308f\u308aCallback\u304c\u767a\u751f\u3059\u308b\u305f\u3081\u3001\u3053\u306e\u3088\u3046\u306a\u3053\u3068\u3092\u5b9f\u65bd\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\u3061\u306a\u307f\u306bngrok\u306f\u30de\u30a4\u30af\u30ed\u30bd\u30d5\u30c8\u306e\u30d7\u30ed\u30c0\u30af\u30c8\u3067\u306f\u306a\u3044\u65e8\u3001Bot Framework Emulator\u306e\u8aac\u660e\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\nBOT\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3068Hello World from AZURE\u3068\u8fd4\u4fe1\u304c\u304d\u307e\u3059\u3002AZURE\u306e\u90e8\u5206\u306f\u74b0\u5883\u5909\u6570BOT_ENV\u306b\u8a2d\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u3067Azure\u74b0\u5883\u3067\u306e\u30c6\u30b9\u30c8\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\u53c2\u8003\nMicrosoft Bot Framework\u3067\u30dc\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u307f\u3088\u3046 \n#\u306f\u3058\u3081\u306b\nMicrosoft\u306e[Bot Framework](https://docs.botframework.com/en-us/)\u306eSDK\u3068\u3057\u3066\u306f.NET(\u73fe\u6642\u70b9\u3067\u306fC#\u306e\u307f)\u3068Node.js\u7528\u304c\u3042\u308a\u3001\u4ee5\u4e0b\u306e\u540d\u524d\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n- [Bot Builder for .NET](https://docs.botframework.com/en-us/csharp/builder/sdkreference/)\n- [Bot Builder for Node.js](https://docs.botframework.com/en-us/node/builder/overview/)\n\n\u4eca\u56de\u306fNode.js\u7248\u3092\u5229\u7528\u3057\u3001Web Chat\u3092\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u305fBot\u306eHello World\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\u74b0\u5883\u306fAzure WebApps + GitHub\u3068\u3057\u3001Bot Framework Channel Emulator\u3092\u4f7f\u3063\u3066\u30c6\u30b9\u30c8\u3059\u308b\u3068\u3053\u308d\u307e\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002\n\n\u203b\u8ffd\u8a18\uff1a\n~~Azure\u3067SSL\u304c\u4f7f\u3048\u308b\u30d7\u30e9\u30f3\u3092\u4f7f\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001[Part-2](http://qiita.com/tworks55/items/6e77c8187f0ff69ea06b)\u3067\u5b9f\u65bd\u3057\u3066\u3044\u308b\u3088\u3046\u306bHeroku\u74b0\u5883\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002Heroku\u306f\u7121\u6599\u30d7\u30e9\u30f3\u3067\u3082SSL\u304c\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002~~\n2016/9/5:Azure\u7121\u6599\u30d7\u30e9\u30f3\u3067\u3082SSL\u306f\u4f7f\u7528\u3067\u304d\u307e\u3057\u305f\u306e\u3067\u8a02\u6b63\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001[Part-2](http://qiita.com/tworks55/items/6e77c8187f0ff69ea06b)\u3067\u306fWeb Chat\u306e\u52d5\u4f5c\u78ba\u8a8d\u307e\u3067\u5b9f\u65bd\u3057\u3066\u3044\u307e\u3059\u3002\n\n#\u524d\u63d0\nNode.js, git\u306a\u3069\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\nAzure\u306bNode.js\u304c\u7a3c\u50cd\u3059\u308bWebApps\u3092\u4f5c\u6210\u6e08 \u203b\u7121\u6599\u74b0\u5883\u4f5c\u6210\u65b9\u6cd5\u306f**[\u3053\u3061\u3089](http://qiita.com/tworks55/items/6bd477b2295813a9d12f)**\u3092\u53c2\u7167\n[Bot Framework Channel Emulator](https://download.botframework.com/bf-v3/tools/emulator/publish.htm)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\n\n#1.Local\u74b0\u5883\u3067\u30c6\u30b9\u30c8\n##1-1.Bot\u767b\u9332\u3068Microsoft AppId\u3068Password\u3092\u53d6\u5f97\n[Microsoft Bot Framework portal](https://dev.botframework.com/bots/new)\u306b\u30a2\u30af\u30bb\u30b9\u3057BOT\u3092\u767b\u9332\u3057\u307e\u3059\u3002\n\n\u5fc5\u9808\u5165\u529b\u306e\u60c5\u5831\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u5165\u529b\u3057\u307e\u3059\u3002\n\n|\u5c5e\u6027|\u8a2d\u5b9a\u5024|\u88dc\u8db3\u8aac\u660e|\n|:--|:--|:--|\n|Name|\u4f8b\uff1atworks55-bot|\u81ea\u5206\u306e\u30dc\u30c3\u30c8\u306e\u540d\u524d|\n|Bot handle|\u4f8b\uff1atworks55-bot|\u81ea\u5206\u306e\u30dc\u30c3\u30c8\u306e\u30cf\u30f3\u30c9\u30eb\u540d\u3000\u203b\u767b\u9332\u5f8c\u306f\u5909\u66f4\u3067\u304d\u307e\u305b\u3093|\n|Description|\u4f8b\uff1atworks55-bot|\u81ea\u5206\u306e\u30dc\u30c3\u30c8\u306e\u8aac\u660e\u3092\u8a18\u8f09|\n|Messaging endpoint|https://example.com/api/messages|\u30c6\u30b9\u30c8\u306e\u6bb5\u968e\u3067\u306f\u3053\u306eURL\u3067OK|\n|Microsoft App ID|\u4f8b\uff1a85724a49-xxxx-xxxx-xxxx-xxxxxxxxxxxx|\u81ea\u5206\u306e\u30dc\u30c3\u30c8\u306e\u60c5\u5831\u3000\u203b1|\n|Publisher name|\u4f8b\uff1atworks55|\u81ea\u5206\u306e\u540d\u524d\u306a\u3069|\n|Publisher Email|\u4f8b\uff1amyemail@example.com|\u81ea\u5206\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9|\n|Privacy statement|https://example.com/api/privacy|\u30c6\u30b9\u30c8\u306e\u6bb5\u968e\u3067\u306f\u3053\u306eURL\u3067OK|\n|Terms of Use|https://example.com/api/terms|\u30c6\u30b9\u30c8\u306e\u6bb5\u968e\u3067\u306f\u3053\u306eURL\u3067OK|\n\n\u203b\uff11\nCreate Microsoft App ID and password\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001MicrosoftAppId\u3068MicrosoftAppPassword\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u751f\u6210\u3055\u308c\u305f\u60c5\u5831\u306f\u5f8c\u3067\u4f7f\u7528\u3059\u308b\u306e\u3067\u63a7\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u767b\u9332\u5f8c\u306f\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/131481/8330edde-a120-9864-a7a3-8166d2072033.png)\n\n\n##1-2.Hello world\u306e\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\nBot\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7528\u306e\u30d5\u30a9\u30eb\u30c0(\u4f8b\uff1ac:\\tworks55-bot)\u3067npm init\u5b9f\u884c\u3057\u307e\u3059\u3002\n\u203b\u3044\u308d\u3044\u308d\u805e\u304b\u308c\u307e\u3059\u304c\u3001\u57fa\u672c\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067OK\u3067\u3059\u304c\u3001entry point\u3067\u306fapp.js\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\nnpm init\n```\n\n\u540c\u30d5\u30a9\u30eb\u30c0\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\nnpm install --save botbuilder\nnpm install --save restify\n```\n\napp.js\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u4ee5\u4e0b\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\n```app.js\nvar restify = require('restify');\nvar builder = require('botbuilder');\n\n//=========================================================\n// Bot Setup\n//=========================================================\n\n// Setup Restify Server\nvar server = restify.createServer();\nvar botenv = process.env.BOT_ENV;\nserver.listen(process.env.port || process.env.PORT || 3978, function () {\n   console.log('%s listening to %s (%s)', server.name, server.url, botenv);\n});\n\n// Create chat bot\nvar connector = new builder.ChatConnector({\n    appId: process.env.MICROSOFT_APP_ID,\n    appPassword: process.env.MICROSOFT_APP_PASSWORD\n});\nvar bot = new builder.UniversalBot(connector);\nserver.post('/api/messages', connector.listen());\n\n//=========================================================\n// Bots Dialogs\n//=========================================================\n\nbot.dialog('/', function (session) {\n\n    session.send(\"Hello World from \" + botenv );\n});\n```\n\n\u74b0\u5883\u5909\u6570\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n```\nSET MICROSOFT_APP_ID=85724a49-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nSET MICROSOFT_APP_PASSWORD=QVXTHxxxxxxxxxxxxxxxxxx\nSET BOT_ENV=MYPC\n```\n\u203bAPP_ID\u3068PASSWORD\u306f\u3001BOT\u767b\u9332\u6642\u306b\u751f\u6210\u3055\u308c\u305f\u3082\u306e\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n##1-3.\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u30c6\u30b9\u30c8\nBOT\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n```\nnode app.js\n```\n\nBot Framework Channel Emulator\u3092\u8d77\u52d5\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n|\u5c5e\u6027|\u8a2d\u5b9a\u5024|\u88dc\u8db3\u8aac\u660e|\n|:--|:--|:--|\n|Local port|9000||\n|Emulator URL|http://localhost:9000/||\n|Bot URL|http://localhost:3978/api/messages||\n|Microsoft App ID and password|85724a49-xxxx-xxxx-xxxx-xxxxxxxxxxxx|BOT\u767b\u9332\u6642\u306b\u751f\u6210\u3055\u308c\u305f\u30b3\u30fc\u30c9\u4f53\u7cfb\u3067\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059|\n|Microsoft App Password|QVXTHxxxxxxxxxxxxxxxxxx||\n\nBOT\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3068Hello World from MYPC\u3068\u8fd4\u4fe1\u304c\u304d\u307e\u3059\u3002MYPC\u306e\u90e8\u5206\u306f\u74b0\u5883\u5909\u6570BOT_ENV\u306b\u8a2d\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3068\u306a\u308a\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/131481/9dfb7eb8-3578-8bc1-0b96-dfaf072042d2.png)\n\n\u3053\u308c\u3067Local\u74b0\u5883\u3067\u306e\u30c6\u30b9\u30c8\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\n#2.GitHub\u3078\u30bd\u30fc\u30b9\u306e\u767b\u9332\n##2-1 GitHub\u30ea\u30dd\u30b8\u30c8\u30ea\u4f5c\u6210\nNode.js\u5411\u3051\u30ea\u30dd\u30b8\u30c8\u30ea\u3068\u3057\u3066\u4f5c\u6210\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/131481/51134f00-b069-2975-f115-90ae47addd32.png)\n\n##2-2.\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3068GitHub\u306e\u9023\u643a\n\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u4e00\u65e6\u4f5c\u6210\u3057\u3001\u30ea\u30e2\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306bGitHub\u3067\u4f5c\u6210\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u203b\u3042\u304f\u307e\u3067\u3082\u7c21\u6613\u306a\u8a2d\u5b9a\u65b9\u6cd5\u306a\u306e\u3067\u3001\u672c\u683c\u7684\u306b\u4f7f\u3046\u5834\u5408\u306f\u5225\u9014\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30d5\u30a9\u30eb\u30c0(\u4f8b\uff1ac:\\tworks55-bot)\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\ngit init\ngit remote add origin https://github.com/tworks55/tworks55-bot.git\ngit pull origin master\ngit add .\ngit commit -m \"add bot source\"\ngit push\n```\n\n#3.Azure\u74b0\u5883\u8a2d\u5b9a\u3068\u30c6\u30b9\u30c8\n##3-1.\u74b0\u5883\u5909\u6570\u8a2d\u5b9a\n\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u8a2d\u5b9a\u3057\u305f\u74b0\u5883\u5909\u6570\u3068\u540c\u69d8\u306b\u3001Azure\u306eWebApps\u306b\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u4eca\u56de\u306fGUI\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/131481/7521e59c-9812-f66c-9c0a-67821a2f82f7.png)\n\n\u203bBOT_ENV\u306f\u3001**AZURE**\u3068\u3057\u307e\u3059\u3002 \n\n##3-2.\u5c55\u958b\u5143\u8a2d\u5b9a\n\u5c55\u958b\u5143\u306fGitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/131481/99321026-0d97-b64a-105a-25563c596e1b.png)\n\n##3-3.Azure\u74b0\u5883\u3067\u30c6\u30b9\u30c8\n[ngrok](https://ngrok.com/)\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3001\u4ee5\u4e0b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\nngrok http -host-header=rewrite 9000\n```\n\n\u5b9f\u884c\u3059\u308b\u3068\u52d5\u7684\u306aURL\u3092\u751f\u6210\u3057\u3001\u305d\u306eURL\u3067\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u306e\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u30fc\u304c\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u516c\u958b\u3055\u308c\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/131481/3ad6d26e-3718-7284-8d94-fc1a310e01d5.png)\n\n\nBot Framework Channel Emulator\u3092\u8d77\u52d5\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n|\u5c5e\u6027|\u8a2d\u5b9a\u5024|\u88dc\u8db3\u8aac\u660e|\n|:--|:--|:--|\n|Local port|9000||\n|Emulator URL|\u4f8b\uff1ahttp://86b46ad3.ngrok.io/|ngrok\u3067\u751f\u6210\u3055\u308c\u305f\u52d5\u7684URL\u3092\u8a2d\u5b9a\u3057\u307e\u3059 \u203b2|\n|Bot URL|\u4f8b\uff1ahttp://tworks55-bot.azurewebsites.net/api/messages|Azure\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u305fBOT\u306eURL|\n|Microsoft App ID and password|85724a49-xxxx-xxxx-xxxx-xxxxxxxxxxxx|BOT\u767b\u9332\u6642\u306b\u751f\u6210\u3055\u308c\u305f\u30b3\u30fc\u30c9\u4f53\u7cfb\u3067\u306a\u3044\u3068\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059|\n|Microsoft App Password|QVXTHxxxxxxxxxxxxxxxxxx||\n\n\u203b2 [Bot Framework Emulator](https://docs.botframework.com/en-us/tools/bot-framework-emulator/)\u306e\u8aac\u660e\u306b\u3082\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001Bot Framework V3\u304b\u3089\u306f\u3001\u8a8d\u8a3c\u65b9\u6cd5\u304c\u5909\u308f\u308aCallback\u304c\u767a\u751f\u3059\u308b\u305f\u3081\u3001\u3053\u306e\u3088\u3046\u306a\u3053\u3068\u3092\u5b9f\u65bd\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\u3061\u306a\u307f\u306bngrok\u306f\u30de\u30a4\u30af\u30ed\u30bd\u30d5\u30c8\u306e\u30d7\u30ed\u30c0\u30af\u30c8\u3067\u306f\u306a\u3044\u65e8\u3001[Bot Framework Emulator](https://docs.botframework.com/en-us/tools/bot-framework-emulator/)\u306e\u8aac\u660e\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\nBOT\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3068Hello World from AZURE\u3068\u8fd4\u4fe1\u304c\u304d\u307e\u3059\u3002AZURE\u306e\u90e8\u5206\u306f\u74b0\u5883\u5909\u6570BOT_ENV\u306b\u8a2d\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3068\u306a\u308a\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/131481/b8ed605f-173c-78c3-c1e0-9721d4c57f27.png)\n\n\u3053\u308c\u3067Azure\u74b0\u5883\u3067\u306e\u30c6\u30b9\u30c8\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\n#\u53c2\u8003\n[Microsoft Bot Framework\u3067\u30dc\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u307f\u3088\u3046 ](http://www.atmarkit.co.jp/ait/articles/1604/15/news032.html)\n", "tags": ["BotFramework", "bot", "Azure", "Node.js"]}