{"context": " More than 1 year has passed since last update.\u4ee5\u4e0b\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u306e\u7ffb\u8a33\u3067\u30591\u3002\nDependency Injection Framework for Swift - Simple Weather App Example with Swinject Part 2/2\n\n\u524d\u56de\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u3067\u306f\u3001\u30b7\u30f3\u30d7\u30eb\u306a\u5929\u6c17\u30a2\u30d7\u30ea\u306e\u30e2\u30c7\u30eb\u90e8\u5206\u3092\u5b9f\u88c5\u3057\u3001dependency injection (\u4f9d\u5b58\u6027\u306e\u6ce8\u5165) \u3068Swinject\u3092\u5229\u7528\u3057\u3066\u3001\u5bc6\u7d50\u5408\u306b\u306a\u3063\u305f\u4f9d\u5b58\u6027\u3092\u6392\u9664\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3057\u305f\u3002\u5bc6\u7d50\u5408\u3060\u3063\u305f\u90e8\u5206\u3092\u758e\u7d50\u5408\u306b\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u304c\u66f8\u304d\u3084\u3059\u304f\u306a\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u4eca\u56de\u306e\u8a18\u4e8b\u3067\u306f\u30a2\u30d7\u30ea\u306eUI\u90e8\u5206\u3092\u5b9f\u88c5\u3057\u3001\u758e\u7d50\u5408\u306b\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092Swinject\u3067\u3069\u306e\u3088\u3046\u306b\u63a5\u7d9a\u3057\u3066\u3044\u304f\u304b\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u3067\u4f7f\u7528\u3059\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306fGitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\n\nUI\u306e\u57fa\u672c\u69cb\u6210\n\u6700\u521d\u306b\u3001\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u3067\u5929\u6c17\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u57fa\u672c\u7684\u306aUI\u69cb\u6210\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002UI\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u307e\u3059\u304c\u3001\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u81ea\u4f53\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u306f\u624b\u3067\u66f8\u3044\u3066\u3001UIStoryboard\u3092\u7d99\u627f\u3057\u305fSwinjectStoryboard\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\nInfo.plist\u3092\u958b\u3044\u3066\"Main storyboard file base name\"\u30ad\u30fc\u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u751f\u306e\u30ad\u30fc\u3092\u8868\u793a\u3057\u3066\u3044\u308b\u72b6\u614b\u3067\u3042\u308c\u3070\u3001\"UIMainStoryboardFile\"\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\nViewController.swift\u3092\u524a\u9664\u3057\u3066WeatherTableViewController.swift\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u306e\u4e2d\u8eab\u306f\u7a7a\u306eWeatherTableViewController\u306e\u5b9a\u7fa9\u304c\u3042\u308b\u3060\u3051\u3068\u3057\u307e\u3059\u3002\u5f8c\u3067dependency injection\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u3044\u3066\u3053\u306e\u30af\u30e9\u30b9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\nWeatherTableViewController.swift\nimport UIKit\n\nclass WeatherTableViewController: UITableViewController {\n}\n\nMain.storyboard\u3092\u958b\u3044\u3066\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u306e\u5f8c\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u65b0\u3057\u304f\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u305d\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u9078\u629e\u3057\u3001\u30a2\u30c8\u30ea\u30d3\u30e5\u30fc\u30c8\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u3067\"Is Initial View Controller\"\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30eb\u30fc\u30c8\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u306a\u3063\u3066\u3044\u308b\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u9078\u629e\u3057\u3001\u305d\u306e\u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\u3092WeatherTableViewController\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u306e\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30bb\u30eb\u3092\u9078\u629e\u3057\u3001\u305d\u306e\u30b9\u30bf\u30a4\u30eb\u3092Right Detail\u306b\u5909\u66f4\u3057\u3001Identifier\u3092\"Cell\"\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30a2\u30a4\u30c6\u30e0\u3092\u9078\u629e\u3057\u3001\u305d\u306e\u30bf\u30a4\u30c8\u30eb\u3092\"Weather Now\"\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nAppDelegate.swift\u3092\u4fee\u6b63\u3057\u3001\u30a4\u30cb\u30b7\u30e3\u30eb\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u304b\u3089\u624b\u52d5\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\u3053\u3053\u3067\u3001UIStoryboard\u306e\u4ee3\u308f\u308a\u306bSwinjectStoryboard\u3092\u4f7f\u7528\u3057\u3001\u5f8c\u3067dependency injection\u3092\u8ffd\u52a0\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002SwinjectStoryboard\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u306b\u306f\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u3092\u4f7f\u308f\u305a\u3001create\u95a2\u6570\u3092\u4f7f\u7528\u3057\u307e\u30592\u3002\nAppDelegate.swift\nimport UIKit\nimport Swinject\n\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate {\n    var window: UIWindow?\n\n    func application(\n        application: UIApplication,\n        didFinishLaunchingWithOptions\n        launchOptions: [NSObject: AnyObject]?) -> Bool\n    {\n        let window = UIWindow(frame: UIScreen.mainScreen().bounds)\n        window.backgroundColor = UIColor.whiteColor()\n        window.makeKeyAndVisible()\n        self.window = window\n\n        let storyboard = SwinjectStoryboard.create(name: \"Main\", bundle: nil)\n        window.rootViewController = storyboard.instantiateInitialViewController()\n\n        return true\n    }\n\n    ...\n}\n\n\u3053\u308c\u3067\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3059\u308b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u3002Command-R\u3092\u5165\u529b\u3057\u3066\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\u4e0b\u306e\u753b\u50cf\u306e\u3088\u3046\u306a\u7a7a\u306e\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3078\u306eDependency Injection\n\u305d\u308c\u3067\u306f\u3001\u7a7a\u3063\u307d\u3060\u3063\u305f\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u5b9f\u88c5\u3057\u3001dependency injection\u3092\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\nWeatherTableViewController\u306bweatherFetcher\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nWeatherTableViewController.swift\nclass WeatherTableViewController: UITableViewController {\n    var weatherFetcher: WeatherFetcher?\n}\n\nAppDelegate\u3092\u4fee\u6b63\u3057\u3001\u8a2d\u5b9a\u3092\u6e08\u307e\u305b\u305fContainer\u3092SwinjectStoryboard\u306b\u6e21\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\nAppDelegate.swift\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate {\n    var window: UIWindow?\n\n    func application(\n        application: UIApplication,\n        didFinishLaunchingWithOptions\n        launchOptions: [NSObject: AnyObject]?) -> Bool\n    {\n        let window = UIWindow(frame: UIScreen.mainScreen().bounds)\n        window.backgroundColor = UIColor.whiteColor()\n        window.makeKeyAndVisible()\n        self.window = window\n\n        let container = createContainer()\n        let storyboard = SwinjectStoryboard.create(\n            name: \"Main\",\n            bundle: nil,\n            container: container)\n        window.rootViewController = storyboard.instantiateInitialViewController()\n\n        return true\n    }\n\n    private func createContainer() -> Container {\n        let container = Container()\n        container.registerForStoryboard(WeatherTableViewController.self) { r, c in\n            c.weatherFetcher = r.resolve(WeatherFetcher.self)\n        }\n        container.register(Networking.self) { _ in Network() }\n        container.register(WeatherFetcher.self) { r in\n            WeatherFetcher(networking: r.resolve(Networking.self)!)\n        }\n        return container\n    }\n\n    ...\n}\n\ncreateContainer\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u3067\u3001\u6700\u521d\u306bContainer\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u3001\u6b21\u306b\u305d\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u4f9d\u5b58\u95a2\u4fc2\u306e\u8a2d\u5b9a\u306e\u305f\u3081\u3001registerForStoryboard\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u304c\u89e3\u6c7a\u3055\u308c\u305fWeatherFetcher\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067weatherFetcher\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65b9\u6cd5\u306f\u30d7\u30ed\u30d1\u30c6\u30a3\u6ce8\u5165 (property injection) \u3068\u547c\u3070\u308c\u307e\u3059\u3002\u524d\u56de\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u3067\u5b9a\u7fa9\u3057\u305fNetworking\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u3001Alamofire\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u3066\u3044\u308bNetwork\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u306a\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002WeatherFetcher\u306f\u3001Networking\u306e\u8a72\u5f53\u3059\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30ba\u6642\u306b\u53d7\u3051\u53d6\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u6ce8\u5165 (initializer injection) \u3068\u547c\u3070\u308c\u307e\u3059\u3002\u6700\u5f8c\u306b\u3001createContainer\u30e1\u30bd\u30c3\u30c9\u306f\u8a2d\u5b9a\u3092\u6e08\u307e\u305b\u305fcontainer\u3092\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\napplication:didFinishLaunchingWithOptions:\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u3067\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305fcontainer\u3092SwinjectStoryboard\u306e\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0a\u3067\u3059\u3002\u30b7\u30f3\u30d7\u30eb\u306a\u4f7f\u3044\u65b9\u3067\u3059\u306d\u3002Container\u3092\u8a2d\u5b9a\u3057\u3066\u6e21\u3059\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u3002\n\u305d\u308c\u3067\u306f\u6b21\u306b\u3001WeatherTableViewController\u306e\u5b9f\u88c5\u306b\u53d6\u308a\u639b\u304b\u308a\u307e\u3057\u3087\u3046\u3002\nWeatherTableViewController.swift\nclass WeatherTableViewController: UITableViewController {\n    var weatherFetcher: WeatherFetcher?\n\n    private var cities = [City]() {\n        didSet {\n            tableView.reloadData()\n        }\n    }\n\n    override func viewWillAppear(animated: Bool) {\n        super.viewWillAppear(animated)\n\n        weatherFetcher?.fetch {\n            if let cities = $0 {\n                self.cities = cities\n            }\n            else {\n                // Show an error message.\n            }\n        }\n    }\n\n    // MARK: UITableViewDataSource\n    override func tableView(\n        tableView: UITableView,\n        numberOfRowsInSection section: Int) -> Int\n    {\n        return cities.count\n    }\n\n    override func tableView(\n        tableView: UITableView,\n        cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell\n    {\n        let cell = tableView.dequeueReusableCellWithIdentifier(\n            \"Cell\", forIndexPath: indexPath)\n        let city = cities[indexPath.row]\n        cell.textLabel?.text = city.name\n        cell.detailTextLabel?.text = city.weather\n        return cell\n    }\n}\n\n\u6700\u521d\u306b\u3001cities\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3057\u3001City\u306e\u7a7a\u914d\u5217\u3067\u521d\u671f\u5316\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30bb\u30c3\u30c8\u3057\u305f\u6642\u306b\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u304c\u66f4\u65b0\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\u6b21\u306b\u3001viewWillAppear\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u3001fetch\u30e1\u30bd\u30c3\u30c9\u3067\u5929\u6c17\u60c5\u5831\u306e\u53d6\u5f97\u3092\u958b\u59cb\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u30593\u3002fetch\u306f\u5f15\u6570\u3068\u3057\u3066\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u3068\u308a\u3001\u5929\u6c17\u60c5\u5831\u3092\u53d6\u5f97\u3067\u304d\u305f\u6642\u306bCity\u306e\u914d\u5217\u3092\u6e21\u3057\u3066\u305d\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u4e2d\u3067\u306f\u3001self.cities\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3001\u305d\u306e\u7d50\u679c\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u304c\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002fetch\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u306b\u306f\u3001nil\u3092\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u6e21\u3057\u307e\u3059\u3002\u3053\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u3067\u306f\u30a8\u30e9\u30fc\u51e6\u7406\u306f\u7701\u7565\u3057\u3066\u3042\u308a\u307e\u3059\u304c\u3001GitHub\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u306b\u3042\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067\u306f\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3057\u3066\u3042\u308a\u307e\u3059\u306e\u3067\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002\n\u6700\u5f8c\u306b\u3001tableView:numberOfRowsInSection:\u3092\u5b9f\u88c5\u3057\u3066\u884c\u6570\u3092\u8fd4\u3057\u3001tableView:cellForRowAtIndexPath:\u3092\u5b9f\u88c5\u3057\u3066\u30bb\u30eb\u306b\u90fd\u5e02\u540d\u3068\u5929\u6c17\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3067UI\u306e\u5b9f\u88c5\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u73fe\u5728\u306e\u5929\u6c17\u60c5\u5831\u304c\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u306b\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u306d\u3002\n\n\n\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\n\u3053\u3053\u307e\u3067\u3067\u30a2\u30d7\u30ea\u304c\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u898b\u307e\u3057\u305f\u304c\u3001WeatherTableViewController\u306e\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3092\u8ffd\u52a0\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u5929\u6c17\u60c5\u5831\u3092\u53d6\u5f97\u3057\u59cb\u3081\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\u3053\u306e\u30c6\u30b9\u30c8\u3067\u30e2\u30c3\u30af\u306e\u30b3\u30f3\u30bb\u30d7\u30c8\u304c\u5206\u304b\u308a\u307e\u3059\u3002\nSwinjectSimpleExampleTests\u306b\u4ee5\u4e0b\u306e\u5185\u5bb9\u306eWeatherTableViewControllerSpec.swift\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nWeatherTableViewControllerSpec.swift\nimport Quick\nimport Nimble\nimport Swinject\n@testable import SwinjectSimpleExample\n\nclass WeatherTableViewControllerSpec: QuickSpec {\n    class MockNetwork: Networking {\n        var requestCount = 0\n\n        func request(response: NSData? -> ()) {\n            requestCount++\n        }\n    }\n\n    override func spec() {\n        var container: Container!\n        beforeEach {\n            container = Container()\n            container.register(Networking.self) { _ in MockNetwork() }\n                .inObjectScope(.Container)\n            container.register(WeatherFetcher.self) { r in\n                WeatherFetcher(networking: r.resolve(Networking.self)!)\n            }\n            container.register(WeatherTableViewController.self) { r in\n                let controller = WeatherTableViewController()\n                controller.weatherFetcher = r.resolve(WeatherFetcher.self)\n                return controller\n            }\n        }\n\n        it(\"starts fetching weather information when the view is about appearing.\") {\n            let network = container.resolve(Networking.self) as! MockNetwork\n            let controller = container.resolve(WeatherTableViewController.self)!\n\n            expect(network.requestCount) == 0\n            controller.viewWillAppear(true)\n            expect(network.requestCount).toEventually(equal(1))\n        }\n    }\n}\n\n\u6700\u521d\u306b\u3001Networking\u306e\u30e2\u30c3\u30af\u3068\u3057\u3066MockNetwork\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002request\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306f\u8fd4\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u3001requestCount\u3068\u3044\u3046\u540d\u524d\u306e\u30ab\u30a6\u30f3\u30bf\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u30e2\u30c3\u30af\u306f\u3001\u3042\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u3084\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u6b63\u3057\u304f\u547c\u3070\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002\u30b9\u30bf\u30d6\u306e\u3088\u3046\u306b\u30c0\u30df\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001\u30e1\u30bd\u30c3\u30c9\u3084\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u547c\u3073\u51fa\u3057\u3092\u30c1\u30a7\u30c3\u30af\u3067\u304d\u308b\u3068\u3053\u308d\u304c\u30b9\u30bf\u30d6\u3068\u7570\u306a\u308a\u307e\u3059\u3002\nspec\u306b\u3064\u3044\u3066\u306f\u3001\u307e\u305a\u5148\u306bit\u306e\u4e2d\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002MockNetwork\u3068WeatherTableViewController\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8a2d\u5b9a\u6e08\u307f\u306econtainer\u304b\u3089\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002Networking\u306fMockNetwork\u306b\u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u30d7\u30ed\u30b0\u30e9\u30de\u306e\u79c1\u9054\u306f\u77e5\u3063\u3066\u3044\u308b\u306e\u3067\u3001container\u304b\u3089\u8fd4\u3063\u3066\u304d\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092MockNetwork\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306eviewWillAppear\u304c\u547c\u3070\u308c\u305f\u5f8c\u3067\u3001\u30e2\u30c3\u30af\u306erequest\u30e1\u30bd\u30c3\u30c9\u304c1\u56de\u3060\u3051\u547c\u3073\u51fa\u3055\u308c\u308b\u3053\u3068\u3092requestCount\u30ab\u30a6\u30f3\u30bf\u306b\u3088\u3063\u3066\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\u3002WeatherTableViewController\u306fNetworking\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u76f4\u63a5\u4fdd\u6301\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30e2\u30c3\u30af\u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u95a2\u9023\u3059\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u6b63\u3057\u304f\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u3001container\u306e\u8a2d\u5b9a\u90e8\u5206\u306b\u623b\u308a\u307e\u3057\u3087\u3046\u30021\u756a\u76ee\u306b\u3001Networking\u304cMockNetwork\u306b\u6c7a\u5b9a\u3055\u308c\u308b\u3088\u3046\u8a2d\u5b9a\u3057\u3001container\u306e\u4e2d\u3067\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5171\u6709\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30b3\u30fc\u30d7\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u30ab\u30a6\u30f3\u30bf\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u305f\u3081\u306eMockNetwork\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3001WeatherTableViewController\u306b\u3088\u3063\u3066\u9593\u63a5\u7684\u306b\u4fdd\u6301\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u540c\u4e00\u306b\u306a\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3067\u304d\u307e\u3059\u30022\u756a\u76ee\u306b\u3001WeatherFetcher\u306e\u4f9d\u5b58\u6027\u3092\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u6ce8\u5165\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u30023\u756a\u76ee\u306b\u3001WeatherTableViewController\u306e\u4f9d\u5b58\u6027\u3092\u30d7\u30ed\u30d1\u30c6\u30a3\u6ce8\u5165\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u305d\u308c\u3067\u306f\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u30d1\u30b9\u3057\u307e\u3057\u305f\u306d\u3002\u305f\u3068\u3048\u3070\u306e\u8a71\u3067\u3059\u304c\u3001\u3053\u306e\u5929\u6c17\u30a2\u30d7\u30ea\u306e\u958b\u767a\u3092\u7d9a\u3051\u3001\u6a5f\u80fd\u3092\u3069\u3093\u3069\u3093\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3068\u8003\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u304c\u3042\u308c\u3070\u3001UI\u3068\u30e2\u30c7\u30eb\u306e\u63a5\u7d9a\u3092\u8aa4\u3063\u3066\u58ca\u3057\u3066\u3057\u307e\u3046\u5fc3\u914d\u304c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u307e\u3068\u3081\n\u30b7\u30f3\u30d7\u30eb\u306a\u5929\u6c17\u30a2\u30d7\u30ea\u306eUI\u90e8\u5206\u3092\u5b9f\u88c5\u3057\u3001dependency injection\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f7f\u3063\u3066\u3069\u306e\u3088\u3046\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u7d50\u3073\u3064\u3051\u3066\u3044\u304f\u304b\u5b66\u3073\u307e\u3057\u305f\u3002SwinjectStoryboard\u304c\u3042\u308b\u3068\u3001\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u4f9d\u5b58\u6027\u3092\u7c21\u5358\u306b\u6ce8\u5165\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u6700\u5f8c\u306b\u3001\u30e2\u30c3\u30af\u3092\u5229\u7528\u3057\u3066\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u672b\u7aef\u306b\u3042\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u610f\u56f3\u3057\u305f\u3068\u304a\u308a\u306b\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3068\u78ba\u8a8d\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\u6b21\u56de\u306e\u8a18\u4e8b\u3067\u306f\u3001MVVM\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7528\u3044\u3066\u3088\u308a\u5927\u304d\u306a\u4f8b\u984c\u30a2\u30d7\u30ea\u3092\u958b\u767a\u3057\u307e\u3059\u3002\u73fe\u5728\u4eba\u6c17\u3067\u30a8\u30ec\u30ac\u30f3\u30c8\u306aSwift\u306e\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308bReactiveCococa\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3082\u3061\u308d\u3093\u3001dependency injection\u3068Swinject\u3092\u6d3b\u7528\u3057\u3066MVVM\u306e\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u758e\u7d50\u5408\u306a\u307e\u307e\u7d50\u3073\u3064\u3051\u3066\u3044\u304d\u307e\u3059\u3002\n\n\n\n\n\u8a33\u6ce8: \u82f1\u8a9e\u7248\u306e\u8457\u8005\u672c\u4eba\u306b\u3088\u308b\u7ffb\u8a33\u306e\u305f\u3081\u3001\u7ffb\u8a33\u306b\u95a2\u308f\u308b\u8457\u4f5c\u6a29\u4e0a\u306e\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u00a0\u21a9\n\n\nSwinjectStoryboard\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u306f\u5c11\u3057\u7656\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001UIStoryboard\u304c\u901a\u5e38\u306e\u6307\u5b9a\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u3092\u6301\u3063\u3066\u304a\u3089\u305a\u3001\u5b50\u30af\u30e9\u30b9\u304c\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3067\u304d\u306a\u3044\u305f\u3081\u3067\u3059\u3002\u00a0\u21a9\n\n\n\u3053\u306e\u4f8b\u984c\u306e\u30a2\u30d7\u30ea\u3067\u306f\u3001viewWillAppear\u306e\u4e2d\u3067\u3057\u304bfetch\u3092\u5b9f\u884c\u3057\u3066\u3044\u306a\u3044\u3067\u3059\u304c\u3001\u5b9f\u969b\u306e\u30a2\u30d7\u30ea\u3067\u306f\u3001\u5929\u6c17\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u305f\u3081\u306e\u30dc\u30bf\u30f3\u306a\u3069\u304c\u3042\u308b\u3068\u3044\u3044\u3067\u3057\u3087\u3046\u3002\u00a0\u21a9\n\n\n\n\u4ee5\u4e0b\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u306e\u7ffb\u8a33\u3067\u3059[^\u8a33\u6ce81]\u3002\n[Dependency Injection Framework for Swift - Simple Weather App Example with Swinject Part 2/2](http://yoichitgy.github.io/post/dependency-injection-framework-for-swift-simple-weather-app-example-with-swinject-part-2/)\n\n---\n\n[\u524d\u56de\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b](http://qiita.com/yoichitgy/items/75b09e6ff06199d7cf80)\u3067\u306f\u3001\u30b7\u30f3\u30d7\u30eb\u306a\u5929\u6c17\u30a2\u30d7\u30ea\u306e\u30e2\u30c7\u30eb\u90e8\u5206\u3092\u5b9f\u88c5\u3057\u3001dependency injection (\u4f9d\u5b58\u6027\u306e\u6ce8\u5165) \u3068[Swinject](https://github.com/Swinject/Swinject)\u3092\u5229\u7528\u3057\u3066\u3001\u5bc6\u7d50\u5408\u306b\u306a\u3063\u305f\u4f9d\u5b58\u6027\u3092\u6392\u9664\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u5b66\u3073\u307e\u3057\u305f\u3002\u5bc6\u7d50\u5408\u3060\u3063\u305f\u90e8\u5206\u3092\u758e\u7d50\u5408\u306b\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u304c\u66f8\u304d\u3084\u3059\u304f\u306a\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u4eca\u56de\u306e\u8a18\u4e8b\u3067\u306f\u30a2\u30d7\u30ea\u306eUI\u90e8\u5206\u3092\u5b9f\u88c5\u3057\u3001\u758e\u7d50\u5408\u306b\u3057\u305f\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092Swinject\u3067\u3069\u306e\u3088\u3046\u306b\u63a5\u7d9a\u3057\u3066\u3044\u304f\u304b\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u3053\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u3067\u4f7f\u7528\u3059\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306f[GitHub\u306e\u30ea\u30dd\u30b8\u30c8\u30ea](https://github.com/Swinject/SwinjectSimpleExample)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\n\n## UI\u306e\u57fa\u672c\u69cb\u6210\n\n\u6700\u521d\u306b\u3001\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u3067\u5929\u6c17\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u57fa\u672c\u7684\u306aUI\u69cb\u6210\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002UI\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u307e\u3059\u304c\u3001\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u81ea\u4f53\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u306f\u624b\u3067\u66f8\u3044\u3066\u3001`UIStoryboard`\u3092\u7d99\u627f\u3057\u305f`SwinjectStoryboard`\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n`Info.plist`\u3092\u958b\u3044\u3066`\"Main storyboard file base name\"`\u30ad\u30fc\u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u751f\u306e\u30ad\u30fc\u3092\u8868\u793a\u3057\u3066\u3044\u308b\u72b6\u614b\u3067\u3042\u308c\u3070\u3001`\"UIMainStoryboardFile\"`\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n`ViewController.swift`\u3092\u524a\u9664\u3057\u3066`WeatherTableViewController.swift`\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u306e\u4e2d\u8eab\u306f\u7a7a\u306e`WeatherTableViewController`\u306e\u5b9a\u7fa9\u304c\u3042\u308b\u3060\u3051\u3068\u3057\u307e\u3059\u3002\u5f8c\u3067dependency injection\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u3044\u3066\u3053\u306e\u30af\u30e9\u30b9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n**WeatherTableViewController.swift**\n\n    import UIKit\n\n    class WeatherTableViewController: UITableViewController {\n    }\n\n`Main.storyboard`\u3092\u958b\u3044\u3066\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u306e\u5f8c\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u65b0\u3057\u304f\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u305d\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u9078\u629e\u3057\u3001\u30a2\u30c8\u30ea\u30d3\u30e5\u30fc\u30c8\u30a4\u30f3\u30b9\u30da\u30af\u30bf\u3067`\"Is Initial View Controller\"`\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30eb\u30fc\u30c8\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3068\u306a\u3063\u3066\u3044\u308b\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u9078\u629e\u3057\u3001\u305d\u306e\u30ab\u30b9\u30bf\u30e0\u30af\u30e9\u30b9\u3092`WeatherTableViewController`\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u306e\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7\u30bb\u30eb\u3092\u9078\u629e\u3057\u3001\u305d\u306e\u30b9\u30bf\u30a4\u30eb\u3092`Right Detail`\u306b\u5909\u66f4\u3057\u3001Identifier\u3092`\"Cell\"`\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30a2\u30a4\u30c6\u30e0\u3092\u9078\u629e\u3057\u3001\u305d\u306e\u30bf\u30a4\u30c8\u30eb\u3092`\"Weather Now\"`\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![SwinjectSimpleExample Storyboard Screenshot](https://qiita-image-store.s3.amazonaws.com/0/86677/c74ead45-5208-b473-632a-582c4785f693.png \"SwinjectSimpleExampleStoryboardScreenshot.png\")\n\n`AppDelegate.swift`\u3092\u4fee\u6b63\u3057\u3001\u30a4\u30cb\u30b7\u30e3\u30eb\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u304b\u3089\u624b\u52d5\u3067\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u3088\u3046\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\u3053\u3053\u3067\u3001`UIStoryboard`\u306e\u4ee3\u308f\u308a\u306b`SwinjectStoryboard`\u3092\u4f7f\u7528\u3057\u3001\u5f8c\u3067dependency injection\u3092\u8ffd\u52a0\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002`SwinjectStoryboard`\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u306b\u306f\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u3092\u4f7f\u308f\u305a\u3001`create`\u95a2\u6570\u3092\u4f7f\u7528\u3057\u307e\u3059[^1]\u3002\n\n**AppDelegate.swift**\n\n    import UIKit\n    import Swinject\n\n    @UIApplicationMain\n    class AppDelegate: UIResponder, UIApplicationDelegate {\n        var window: UIWindow?\n\n        func application(\n            application: UIApplication,\n            didFinishLaunchingWithOptions\n            launchOptions: [NSObject: AnyObject]?) -> Bool\n        {\n            let window = UIWindow(frame: UIScreen.mainScreen().bounds)\n            window.backgroundColor = UIColor.whiteColor()\n            window.makeKeyAndVisible()\n            self.window = window\n\n            let storyboard = SwinjectStoryboard.create(name: \"Main\", bundle: nil)\n            window.rootViewController = storyboard.instantiateInitialViewController()\n\n            return true\n        }\n\n        ...\n    }\n\n\u3053\u308c\u3067\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3059\u308b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u3002`Command-R`\u3092\u5165\u529b\u3057\u3066\u5b9f\u884c\u3057\u307e\u3057\u3087\u3046\u3002\u4e0b\u306e\u753b\u50cf\u306e\u3088\u3046\u306a\u7a7a\u306e\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n![SwinjectSimpleExampleEmptyScreenshot.png](https://qiita-image-store.s3.amazonaws.com/0/86677/0f5d3d92-5dfb-f672-ac2d-a78e343a8e8d.png \"SwinjectSimpleExampleEmptyScreenshot.png\")\n\n## \u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3078\u306eDependency Injection\n\n\u305d\u308c\u3067\u306f\u3001\u7a7a\u3063\u307d\u3060\u3063\u305f\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u3092\u5b9f\u88c5\u3057\u3001dependency injection\u3092\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\u3002\n\n`WeatherTableViewController`\u306b`weatherFetcher`\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n**WeatherTableViewController.swift**\n\n    class WeatherTableViewController: UITableViewController {\n        var weatherFetcher: WeatherFetcher?\n    }\n\n`AppDelegate`\u3092\u4fee\u6b63\u3057\u3001\u8a2d\u5b9a\u3092\u6e08\u307e\u305b\u305f`Container`\u3092`SwinjectStoryboard`\u306b\u6e21\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n**AppDelegate.swift**\n\n    @UIApplicationMain\n    class AppDelegate: UIResponder, UIApplicationDelegate {\n        var window: UIWindow?\n\n        func application(\n            application: UIApplication,\n            didFinishLaunchingWithOptions\n            launchOptions: [NSObject: AnyObject]?) -> Bool\n        {\n            let window = UIWindow(frame: UIScreen.mainScreen().bounds)\n            window.backgroundColor = UIColor.whiteColor()\n            window.makeKeyAndVisible()\n            self.window = window\n\n            let container = createContainer()\n            let storyboard = SwinjectStoryboard.create(\n                name: \"Main\",\n                bundle: nil,\n                container: container)\n            window.rootViewController = storyboard.instantiateInitialViewController()\n\n            return true\n        }\n\n        private func createContainer() -> Container {\n            let container = Container()\n            container.registerForStoryboard(WeatherTableViewController.self) { r, c in\n                c.weatherFetcher = r.resolve(WeatherFetcher.self)\n            }\n            container.register(Networking.self) { _ in Network() }\n            container.register(WeatherFetcher.self) { r in\n                WeatherFetcher(networking: r.resolve(Networking.self)!)\n            }\n            return container\n        }\n\n        ...\n    }\n\n`createContainer`\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u3067\u3001\u6700\u521d\u306b`Container`\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3057\u3001\u6b21\u306b\u305d\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u4f9d\u5b58\u95a2\u4fc2\u306e\u8a2d\u5b9a\u306e\u305f\u3081\u3001`registerForStoryboard`\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4f9d\u5b58\u95a2\u4fc2\u304c\u89e3\u6c7a\u3055\u308c\u305f`WeatherFetcher`\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067`weatherFetcher`\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u30bb\u30c3\u30c8\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u65b9\u6cd5\u306f\u30d7\u30ed\u30d1\u30c6\u30a3\u6ce8\u5165 (property injection) \u3068\u547c\u3070\u308c\u307e\u3059\u3002[\u524d\u56de\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b](/post/dependency-injection-framework-for-swift-simple-weather-app-example-with-swinject-part-1/)\u3067\u5b9a\u7fa9\u3057\u305f`Networking`\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u3001Alamofire\u3092\u30ab\u30d7\u30bb\u30eb\u5316\u3057\u3066\u3044\u308b`Network`\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u306a\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002`WeatherFetcher`\u306f\u3001`Networking`\u306e\u8a72\u5f53\u3059\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30ba\u6642\u306b\u53d7\u3051\u53d6\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u6ce8\u5165 (initializer injection) \u3068\u547c\u3070\u308c\u307e\u3059\u3002\u6700\u5f8c\u306b\u3001`createContainer`\u30e1\u30bd\u30c3\u30c9\u306f\u8a2d\u5b9a\u3092\u6e08\u307e\u305b\u305f`container`\u3092\u8fd4\u3057\u3066\u3044\u307e\u3059\u3002\n\n`application:didFinishLaunchingWithOptions:`\u30e1\u30bd\u30c3\u30c9\u306e\u4e2d\u3067\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305f`container`\u3092`SwinjectStoryboard`\u306e\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0a\u3067\u3059\u3002\u30b7\u30f3\u30d7\u30eb\u306a\u4f7f\u3044\u65b9\u3067\u3059\u306d\u3002`Container`\u3092\u8a2d\u5b9a\u3057\u3066\u6e21\u3059\u3060\u3051\u3067\u3044\u3044\u306e\u3067\u3059\u3002\n\n\u305d\u308c\u3067\u306f\u6b21\u306b\u3001`WeatherTableViewController`\u306e\u5b9f\u88c5\u306b\u53d6\u308a\u639b\u304b\u308a\u307e\u3057\u3087\u3046\u3002\n\n**WeatherTableViewController.swift**\n\n    class WeatherTableViewController: UITableViewController {\n        var weatherFetcher: WeatherFetcher?\n\n        private var cities = [City]() {\n            didSet {\n                tableView.reloadData()\n            }\n        }\n\n        override func viewWillAppear(animated: Bool) {\n            super.viewWillAppear(animated)\n\n            weatherFetcher?.fetch {\n                if let cities = $0 {\n                    self.cities = cities\n                }\n                else {\n                    // Show an error message.\n                }\n            }\n        }\n\n        // MARK: UITableViewDataSource\n        override func tableView(\n            tableView: UITableView,\n            numberOfRowsInSection section: Int) -> Int\n        {\n            return cities.count\n        }\n\n        override func tableView(\n            tableView: UITableView,\n            cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell\n        {\n            let cell = tableView.dequeueReusableCellWithIdentifier(\n                \"Cell\", forIndexPath: indexPath)\n            let city = cities[indexPath.row]\n            cell.textLabel?.text = city.name\n            cell.detailTextLabel?.text = city.weather\n            return cell\n        }\n    }\n\n\u6700\u521d\u306b\u3001`cities`\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3057\u3001`City`\u306e\u7a7a\u914d\u5217\u3067\u521d\u671f\u5316\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30bb\u30c3\u30c8\u3057\u305f\u6642\u306b\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u304c\u66f4\u65b0\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\n\u6b21\u306b\u3001`viewWillAppear`\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u3001`fetch`\u30e1\u30bd\u30c3\u30c9\u3067\u5929\u6c17\u60c5\u5831\u306e\u53d6\u5f97\u3092\u958b\u59cb\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059[^2]\u3002`fetch`\u306f\u5f15\u6570\u3068\u3057\u3066\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u3068\u308a\u3001\u5929\u6c17\u60c5\u5831\u3092\u53d6\u5f97\u3067\u304d\u305f\u6642\u306b`City`\u306e\u914d\u5217\u3092\u6e21\u3057\u3066\u305d\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u306e\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u4e2d\u3067\u306f\u3001`self.cities`\u304c\u30bb\u30c3\u30c8\u3055\u308c\u3001\u305d\u306e\u7d50\u679c\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u304c\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002`fetch`\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u306b\u306f\u3001`nil`\u3092\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u6e21\u3057\u307e\u3059\u3002\u3053\u306e\u30d6\u30ed\u30b0\u8a18\u4e8b\u3067\u306f\u30a8\u30e9\u30fc\u51e6\u7406\u306f\u7701\u7565\u3057\u3066\u3042\u308a\u307e\u3059\u304c\u3001[GitHub\u306e\u30ec\u30dd\u30b8\u30c8\u30ea](https://github.com/Swinject/SwinjectSimpleExample)\u306b\u3042\u308b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067\u306f\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u5b9f\u88c5\u3057\u3066\u3042\u308a\u307e\u3059\u306e\u3067\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002\n\n\u6700\u5f8c\u306b\u3001`tableView:numberOfRowsInSection:`\u3092\u5b9f\u88c5\u3057\u3066\u884c\u6570\u3092\u8fd4\u3057\u3001`tableView:cellForRowAtIndexPath:`\u3092\u5b9f\u88c5\u3057\u3066\u30bb\u30eb\u306b\u90fd\u5e02\u540d\u3068\u5929\u6c17\u3092\u30bb\u30c3\u30c8\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u308c\u3067UI\u306e\u5b9f\u88c5\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u73fe\u5728\u306e\u5929\u6c17\u60c5\u5831\u304c\u30c6\u30fc\u30d6\u30eb\u30d3\u30e5\u30fc\u306b\u8868\u793a\u3055\u308c\u307e\u3057\u305f\u306d\u3002\n\n![SwinjectSimpleExampleScreenshot.png](https://qiita-image-store.s3.amazonaws.com/0/86677/9a107f82-122f-5e6e-8e89-96d20495d608.png)\n\n## \u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e\u30c6\u30b9\u30c8\n\n\u3053\u3053\u307e\u3067\u3067\u30a2\u30d7\u30ea\u304c\u52d5\u4f5c\u3059\u308b\u3053\u3068\u3092\u898b\u307e\u3057\u305f\u304c\u3001`WeatherTableViewController`\u306e\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3092\u8ffd\u52a0\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\u30d3\u30e5\u30fc\u304c\u8868\u793a\u3055\u308c\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u304c\u5929\u6c17\u60c5\u5831\u3092\u53d6\u5f97\u3057\u59cb\u3081\u308b\u304b\u78ba\u8a8d\u3057\u307e\u3059\u3002\u3053\u306e\u30c6\u30b9\u30c8\u3067[\u30e2\u30c3\u30af](https://ja.wikipedia.org/wiki/\u30e2\u30c3\u30af\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\u306e\u30b3\u30f3\u30bb\u30d7\u30c8\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n`SwinjectSimpleExampleTests`\u306b\u4ee5\u4e0b\u306e\u5185\u5bb9\u306e`WeatherTableViewControllerSpec.swift`\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n**WeatherTableViewControllerSpec.swift**\n\n    import Quick\n    import Nimble\n    import Swinject\n    @testable import SwinjectSimpleExample\n\n    class WeatherTableViewControllerSpec: QuickSpec {\n        class MockNetwork: Networking {\n            var requestCount = 0\n\n            func request(response: NSData? -> ()) {\n                requestCount++\n            }\n        }\n\n        override func spec() {\n            var container: Container!\n            beforeEach {\n                container = Container()\n                container.register(Networking.self) { _ in MockNetwork() }\n                    .inObjectScope(.Container)\n                container.register(WeatherFetcher.self) { r in\n                    WeatherFetcher(networking: r.resolve(Networking.self)!)\n                }\n                container.register(WeatherTableViewController.self) { r in\n                    let controller = WeatherTableViewController()\n                    controller.weatherFetcher = r.resolve(WeatherFetcher.self)\n                    return controller\n                }\n            }\n\n            it(\"starts fetching weather information when the view is about appearing.\") {\n                let network = container.resolve(Networking.self) as! MockNetwork\n                let controller = container.resolve(WeatherTableViewController.self)!\n\n                expect(network.requestCount) == 0\n                controller.viewWillAppear(true)\n                expect(network.requestCount).toEventually(equal(1))\n            }\n        }\n    }\n\n\u6700\u521d\u306b\u3001`Networking`\u306e\u30e2\u30c3\u30af\u3068\u3057\u3066`MockNetwork`\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002`request`\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306f\u8fd4\u3057\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u3001`requestCount`\u3068\u3044\u3046\u540d\u524d\u306e\u30ab\u30a6\u30f3\u30bf\u3092\u30a4\u30f3\u30af\u30ea\u30e1\u30f3\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u30e2\u30c3\u30af\u306f\u3001\u3042\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u3084\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u6b63\u3057\u304f\u547c\u3070\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002\u30b9\u30bf\u30d6\u306e\u3088\u3046\u306b\u30c0\u30df\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u8fd4\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u304c\u3001\u30e1\u30bd\u30c3\u30c9\u3084\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u547c\u3073\u51fa\u3057\u3092\u30c1\u30a7\u30c3\u30af\u3067\u304d\u308b\u3068\u3053\u308d\u304c\u30b9\u30bf\u30d6\u3068\u7570\u306a\u308a\u307e\u3059\u3002\n\n`spec`\u306b\u3064\u3044\u3066\u306f\u3001\u307e\u305a\u5148\u306b`it`\u306e\u4e2d\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002`MockNetwork`\u3068`WeatherTableViewController`\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8a2d\u5b9a\u6e08\u307f\u306e`container`\u304b\u3089\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\u3002`Networking`\u306f`MockNetwork`\u306b\u7d50\u3073\u4ed8\u3051\u3089\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u30d7\u30ed\u30b0\u30e9\u30de\u306e\u79c1\u9054\u306f\u77e5\u3063\u3066\u3044\u308b\u306e\u3067\u3001`container`\u304b\u3089\u8fd4\u3063\u3066\u304d\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092`MockNetwork`\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u6b21\u306b\u3001\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306e`viewWillAppear`\u304c\u547c\u3070\u308c\u305f\u5f8c\u3067\u3001\u30e2\u30c3\u30af\u306e`request`\u30e1\u30bd\u30c3\u30c9\u304c1\u56de\u3060\u3051\u547c\u3073\u51fa\u3055\u308c\u308b\u3053\u3068\u3092`requestCount`\u30ab\u30a6\u30f3\u30bf\u306b\u3088\u3063\u3066\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\u3002`WeatherTableViewController`\u306f`Networking`\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u76f4\u63a5\u4fdd\u6301\u3057\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30e2\u30c3\u30af\u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u95a2\u9023\u3059\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u6b63\u3057\u304f\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\u305d\u308c\u3067\u306f\u3001`container`\u306e\u8a2d\u5b9a\u90e8\u5206\u306b\u623b\u308a\u307e\u3057\u3087\u3046\u30021\u756a\u76ee\u306b\u3001`Networking`\u304c`MockNetwork`\u306b\u6c7a\u5b9a\u3055\u308c\u308b\u3088\u3046\u8a2d\u5b9a\u3057\u3001`container`\u306e\u4e2d\u3067\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5171\u6709\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30b3\u30fc\u30d7\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u30ab\u30a6\u30f3\u30bf\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u305f\u3081\u306e`MockNetwork`\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3001`WeatherTableViewController`\u306b\u3088\u3063\u3066\u9593\u63a5\u7684\u306b\u4fdd\u6301\u3055\u308c\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u540c\u4e00\u306b\u306a\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3067\u304d\u307e\u3059\u30022\u756a\u76ee\u306b\u3001`WeatherFetcher`\u306e\u4f9d\u5b58\u6027\u3092\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u6ce8\u5165\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u30023\u756a\u76ee\u306b\u3001`WeatherTableViewController`\u306e\u4f9d\u5b58\u6027\u3092\u30d7\u30ed\u30d1\u30c6\u30a3\u6ce8\u5165\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u308c\u3067\u306f\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u30d1\u30b9\u3057\u307e\u3057\u305f\u306d\u3002\u305f\u3068\u3048\u3070\u306e\u8a71\u3067\u3059\u304c\u3001\u3053\u306e\u5929\u6c17\u30a2\u30d7\u30ea\u306e\u958b\u767a\u3092\u7d9a\u3051\u3001\u6a5f\u80fd\u3092\u3069\u3093\u3069\u3093\u8ffd\u52a0\u3057\u3066\u3044\u304f\u3068\u8003\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u304c\u3042\u308c\u3070\u3001UI\u3068\u30e2\u30c7\u30eb\u306e\u63a5\u7d9a\u3092\u8aa4\u3063\u3066\u58ca\u3057\u3066\u3057\u307e\u3046\u5fc3\u914d\u304c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n## \u307e\u3068\u3081\n\n\u30b7\u30f3\u30d7\u30eb\u306a\u5929\u6c17\u30a2\u30d7\u30ea\u306eUI\u90e8\u5206\u3092\u5b9f\u88c5\u3057\u3001dependency injection\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f7f\u3063\u3066\u3069\u306e\u3088\u3046\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u7d50\u3073\u3064\u3051\u3066\u3044\u304f\u304b\u5b66\u3073\u307e\u3057\u305f\u3002`SwinjectStoryboard`\u304c\u3042\u308b\u3068\u3001\u30b9\u30c8\u30fc\u30ea\u30fc\u30dc\u30fc\u30c9\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u30d3\u30e5\u30fc\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306b\u4f9d\u5b58\u6027\u3092\u7c21\u5358\u306b\u6ce8\u5165\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\u6700\u5f8c\u306b\u3001\u30e2\u30c3\u30af\u3092\u5229\u7528\u3057\u3066\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u672b\u7aef\u306b\u3042\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u610f\u56f3\u3057\u305f\u3068\u304a\u308a\u306b\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u63a5\u7d9a\u3055\u308c\u3066\u3044\u308b\u3068\u78ba\u8a8d\u3067\u304d\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3057\u305f\u3002\n\n[\u6b21\u56de\u306e\u8a18\u4e8b](http://qiita.com/yoichitgy/items/db878c0a60258c9f1a1b)\u3067\u306f\u3001[MVVM](https://ja.wikipedia.org/wiki/Model_View_ViewModel)\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7528\u3044\u3066\u3088\u308a\u5927\u304d\u306a\u4f8b\u984c\u30a2\u30d7\u30ea\u3092\u958b\u767a\u3057\u307e\u3059\u3002\u73fe\u5728\u4eba\u6c17\u3067\u30a8\u30ec\u30ac\u30f3\u30c8\u306aSwift\u306e[\u30ea\u30a2\u30af\u30c6\u30a3\u30d6\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0](http://qiita.com/hirokidaichi/items/9c1d862099c2e12f5b0f)\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308b[ReactiveCococa](https://github.com/ReactiveCocoa/ReactiveCocoa)\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u3082\u3061\u308d\u3093\u3001dependency injection\u3068Swinject\u3092\u6d3b\u7528\u3057\u3066MVVM\u306e\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u758e\u7d50\u5408\u306a\u307e\u307e\u7d50\u3073\u3064\u3051\u3066\u3044\u304d\u307e\u3059\u3002\n\n[^1]: `SwinjectStoryboard`\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u306f\u5c11\u3057\u7656\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001`UIStoryboard`\u304c\u901a\u5e38\u306e\u6307\u5b9a\u30a4\u30cb\u30b7\u30e3\u30e9\u30a4\u30b6\u3092\u6301\u3063\u3066\u304a\u3089\u305a\u3001\u5b50\u30af\u30e9\u30b9\u304c\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3067\u304d\u306a\u3044\u305f\u3081\u3067\u3059\u3002\n[^2]: \u3053\u306e\u4f8b\u984c\u306e\u30a2\u30d7\u30ea\u3067\u306f\u3001`viewWillAppear`\u306e\u4e2d\u3067\u3057\u304b`fetch`\u3092\u5b9f\u884c\u3057\u3066\u3044\u306a\u3044\u3067\u3059\u304c\u3001\u5b9f\u969b\u306e\u30a2\u30d7\u30ea\u3067\u306f\u3001\u5929\u6c17\u60c5\u5831\u3092\u66f4\u65b0\u3059\u308b\u305f\u3081\u306e\u30dc\u30bf\u30f3\u306a\u3069\u304c\u3042\u308b\u3068\u3044\u3044\u3067\u3057\u3087\u3046\u3002\n[^\u8a33\u6ce81]: \u8a33\u6ce8: \u82f1\u8a9e\u7248\u306e\u8457\u8005\u672c\u4eba\u306b\u3088\u308b\u7ffb\u8a33\u306e\u305f\u3081\u3001\u7ffb\u8a33\u306b\u95a2\u308f\u308b\u8457\u4f5c\u6a29\u4e0a\u306e\u554f\u984c\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n", "tags": ["iOS", "DependencyInjection", "Swift", "Swinject"]}