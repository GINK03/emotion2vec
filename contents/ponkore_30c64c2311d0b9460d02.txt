{"context": " More than 1 year has passed since last update.\n\nleiningen \u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u3063\u3066\u307f\u308b\n\u3053\u306e\u8a18\u4e8b\u306f\u3001Clojure Adven Calendar 2013 12/07\u65e5\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\u4eca\u65e5\u306f\u3001leiningen (github) \u3092\u4f7f\u3063\u3066\u3001\u81ea\u5206\u306e\u72ec\u81ea\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8(\u3044\u308f\u3086\u308b \u30aa\u30ec\u30aa\u30ec\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 )\u3092\u4f5c\u308b\u8a71\u3092\u3057\u307e\u3059\n\uff08leiningen \u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f5c\u6210\u306b\u95a2\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8(\u3053\u3053) \u3092\u898b\u308c\u3070\u7d42\u308f\u308a\u3001\u3068\u3044\u3046\u8a71\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u81ea\u7fd2\u30e1\u30e2\u306e\u610f\u5473\u3067\u3082\u307e\u3068\u3081\u3066\u304a\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059)\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3064\u3044\u3066\nleiningen \u3067\u65b0\u898f\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u3001\n$ lein new my-project\n\n\u3068\u3044\u3046\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\u5b9f\u884c\u3059\u308b\u3068\u3001my-project\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u3001\u305d\u306e\u914d\u4e0b\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5404\u7a2e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u3001lein new \u30b3\u30de\u30f3\u30c9\u306b\u306f\u3001 \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n$ lein new $TEMPLATE_NAME my-project\n\n\u4e0a\u8a18 $TEMPLATE_NAME \u306e\u3068\u3053\u308d\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u5f93\u3063\u305f\u5f62\u3067 project.clj \u3084\u521d\u671f\u8a2d\u5b9a\u6e08\u307f\u306e\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u7b49\u304c\u3072\u306a\u5f62\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3001default\u3001plugin\u3001template\u3001app\u3001\u306e\uff14\u3064\u304c\u5229\u7528\u3067\u304d\u307e\u3059\u304c\u3001\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3082\u3057\u304f\u306f maven\u3001clojars \u3068\u3044\u3063\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u3042\u308c\u3070\u3001\u305d\u308c\u3089\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u6709\u540d\u306a\u3068\u3053\u308d\u3067\u306f\u3001heroku \u5411\u3051\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308a\u307e\u3059(\u8a66\u3057\u306b lein new heroku heroku-proj \u3068\u3084\u3063\u3066\u307f\u308c\u3070\u3001heroku \u3078\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u308b\u69d8\u306b\u6e96\u5099\u3055\u308c\u305f heroku-proj \u3068\u3044\u3046\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059)\u3002\n\n\u72ec\u81ea\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\n\u4eca\u56de\u306f\u30aa\u30ec\u30aa\u30ec\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u308b\u306e\u304c\u76ee\u7684\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n$ lein new template oreore\nGenerating fresh 'lein new' template project.\n$ \n\n\u4f5c\u6210\u3055\u308c\u305f\u3082\u306e\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u69cb\u9020\n\noreore/\n  | .gitignore\n  | LICENSE\n  | README.md\n  | project.clj\n  +- src/\n      +- leiningen/\n          + new/\n             | oreore.clj\n             +- oreore/\n                 | foo.clj\n\n\nproject.clj\n\n(defproject oreore/lein-template \"0.1.0-SNAPSHOT\"\n  :description \"FIXME: write description\"\n  :url \"http://example.com/FIXME\"\n  :license {:name \"Eclipse Public License\"\n            :url \"http://www.eclipse.org/legal/epl-v10.html\"}\n  :eval-in-leiningen true)\n\n\u3053\u306eproject.clj\u306f\u3001 \u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c leiningen \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u3042\u308b\u3053\u3068\u3092\u5ba3\u8a00\u3059\u308b\u305f\u3081\u306e\u3082\u306e \u3001\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 oreore \u3068\u3044\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u4f5c\u6210\u3055\u308c\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e project.clj \u306e\u3072\u306a\u5f62\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u306f\u3001defproject \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u8a18\u8ff0\u306b\u6c17\u3092\u3064\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002-SNAPSHOT \u3092\u4ed8\u3051\u308b\u3068\u3001\u5f8c\u3067\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u304d\u306b\u53c2\u7167\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u306e\u3067\u3001\u4eca\u56de\u306f-SNAPSHOT\u3092\u6d88\u3059\u3001\u3068\u3044\u3046\u65b9\u91dd\u3067\u884c\u304d\u307e\u3059\u3002\n\nsrc/leiningen/new/oreore.clj\n\n(ns leiningen.new.oreore\n  (:require [leiningen.new.templates :refer [renderer name-to-path ->files]]\n            [leiningen.core.main :as main]))\n\n(def render (renderer \"oreore\"))\n\n(defn oreore\n  \"FIXME: write documentation\"\n  [name]\n  (let [data {:name name\n              :sanitized (name-to-path name)}]\n    (main/info \"Generating fresh 'lein new' oreore project.\")\n    (->files data\n             [\"src/{{sanitized}}/foo.clj\" (render \"foo.clj\" data)])))\n\n\u3053\u308c\u304c lein new oreore \u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u884c\u3055\u308c\u308b\u51e6\u7406\u306e\u672c\u4f53\u306b\u306a\u308a\u307e\u3059\u3002(defn oreore [name] ...) \u304c\u5b9f\u969b\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5c55\u958b\u306b\u4f7f\u308f\u308c\u308b\u95a2\u6570\u306b\u306a\u308a\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bfname \u306b\u306f\u3001lein new oreore \u306b\u7d9a\u304f\u5f15\u6570\u3001\u3059\u306a\u308f\u3061\u65b0\u898f\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\n\u3053\u306e\u30bd\u30fc\u30b9\u306ffoo.clj\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\uff11\u3064\u306e\u307f\u3092\u751f\u6210\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u4f8b\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u51e6\u7406\u306e\u8981\u306f->files \u95a2\u6570\u3067\u3059\u3002\u3053\u306e\u95a2\u6570\u306e\u7b2c\uff11\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306f\u3001mustache\u5f62\u5f0f\u3067\u6307\u5b9a\u3055\u308c\u305f\u6587\u5b57\u5217\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30ad\u30fc\u3068\u5024\u306e\u5bfe\u5fdc\u4ed8\u3051\u3092\u884c\u3046 map \u3092\u6307\u5b9a\u3057\u3001\u7b2c\uff12\u30d1\u30e9\u30e1\u30fc\u30bf\u4ee5\u964d\u3067\u5177\u4f53\u7684\u306b\u751f\u6210\u3059\u308b\u30d5\u30a1\u30a4\u30eb(\u7fa4)\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3064\u3044\u3066\u306f\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\nClojure \u3067\u306f\u3001\u540d\u524d\u7a7a\u9593\u306b - \u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3068\u3001\u5b9f\u969b\u306b\u914d\u7f6e\u3055\u308c\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u3057\u304f\u306f\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u540d\u306f _ \u306b\u7f6e\u304d\u63db\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001name-to-path \u95a2\u6570\u304c\u305d\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\u4e0a\u8a18\u306f\u30b7\u30f3\u30d7\u30eb\u3059\u304e\u308b\u4f8b\u3067\u3059\u304c\u3001\u3088\u308a\u5177\u4f53\u7684\u306a\u30b5\u30f3\u30d7\u30eb\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8(\u3053\u3053) \u3092\u898b\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\nsrc/leiningen/new/oreore/foo.clj\n\n\u3053\u308c\u306f\u3001oreore.clj\u30d5\u30a1\u30a4\u30eb\u304b\u3089->files\u95a2\u6570\u3067\u5c55\u958b\u3055\u308c\u308b\u5143\u3068\u306a\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n(def {{name}} :foo)\n\nnamespace \u3084 require \u306e\u6307\u5b9a\u3068\u304b\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u7528\u610f\u3057\u3066\u304a\u304f\u3079\u304d\u95a2\u6570(\u5358\u72ec\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306a\u3089-main\u3068\u304b\u3001Compojure \u3092\u3064\u304b\u3063\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306a\u3089defroute \u3068\u304b)\u3092\u8a18\u8ff0\u3057\u3066\u304a\u304f\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\u6700\u7d42\u7684\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u69cb\u9020\n\noreore/\n  | .gitignore\n  | LICENSE\n  | README.md\n  | project.clj\n  +- src/\n      +- leiningen/\n          + new/\n             | oreore.clj      (1)\n             +- oreore/\n                 | .gitignore\n                 | README.md\n                 | core.clj    (2)  <-- \u5143\u3005\u3042\u3063\u305f foo.clj \u306e\u4ee3\u308f\u308a\u306b\u4f5c\u6210\n                 | project.clj (3)\n\n\n(1) src/leiningen/new/oreore.clj\n\n(ns leiningen.new.oreore\n  (:require [leiningen.new.templates :refer [renderer name-to-path ->files]]\n            [leiningen.core.main :as main]))\n\n(defn oreore\n  \"\u304a\u308c\u304a\u308c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\"\n  [name]\n  (let [render (renderer \"oreore\")\n        data {:name name\n              :sanitized (name-to-path name)}]\n    (main/info \"Generating fresh 'lein new' \u4ffa\u4ffa project.\")\n    (->files data\n             [\"src/{{sanitized}}/core.clj\" (render \"core.clj\" data)]\n             [\"project.clj\" (render \"project.clj\" data)]\n             [\"README.md\" (render \"README.md\" data)]\n             [\".gitignore\" (render \".gitignore\" data)])))\n\n\n(2) src/leiningen/new/oreore/core.clj\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3068\u3057\u3066\u4f5c\u308b\u76ee\u7684\u3067\u3001tools.cli \u3092\u4f7f\u3046\u30b3\u30fc\u30c9\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u5f8c\u306b STANDALONE jar \u3092\u4f5c\u308b\u3064\u3082\u308a\u3067 :gen-class \u3082\u5165\u308c\u3066\u3044\u307e\u3059\u3002\n(ns {{name}}.core\n  (:gen-class)\n  (:require [clojure.string :as str]\n            [clojure.tools.cli :refer [cli]]))\n\n(defn -main\n  [& args]\n  \"{{name}} \u306e\u30e1\u30a4\u30f3\u51e6\u7406\"\n  (let [[opts args banner]\n        (cli args\n             \"FIXME: help banner message\"\n             [\"-h\" \"--help\" \"Show Help\" :default false :flag true]\n             ;; additional options\n             )]\n    (when (:help opts)\n      (println banner)\n      (System/exit 0))\n    (println \"Hello, {{name}}\")))\n\n\n(3) src/leiningen/new/oreore/project.clj\n\n(defproject {{name}} \"0.1.0-SNAPSHOT\"\n  :description \"\u30aa\u30ec\u30aa\u30ec\u30d7\u30ed\u30b8\u30a7\u30af\u30c8({{name}})\"\n  :license \"Eclipse Public License 1.0\"\n  :url \"http://example.com/FIXME\"\n  :dependencies [[org.clojure/clojure \"1.5.1\"]\n                 [org.clojure/tools.cli \"0.2.4\"]]\n  :aot :all\n  :main {{name}}.core)\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u306e\u8d77\u52d5\u3092\u8003\u3048\u3066\u3001:main\u306e\u6307\u5b9a\u3068 :aot :all \u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u72ec\u81ea\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30d5\u30a1\u30a4\u30eb\u306e\u6e96\u5099\u304c\u3067\u304d\u305f\u3089\u3001oreore \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u3068\u3053\u308d\u3067\u3001lein install \u3068\u3059\u308b\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306b oreore \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n$ lein install\nCreated /Users/masao/oreore/target/lein-template-0.1.0.jar\nWrote /Users/masao/oreore/pom.xml\n$ \n\n\n\u52d5\u304b\u3057\u3066\u307f\u308b\n$ lein new oreore fuga\nGenerating fresh 'lein new' \u4ffa\u4ffa project.\n$ cd fuga\n$ lein run\nRetrieving org/clojure/tools.cli/0.2.4/tools.cli-0.2.4.pom from central\nRetrieving org/clojure/tools.cli/0.2.4/tools.cli-0.2.4.jar from central\nCompiling fuga.core\nHello, fuga\n$ lein uberjar\nCreated /Users/masao/fuga/target/fuga-0.1.0-SNAPSHOT.jar\nCreated /Users/masao/fuga/target/fuga-0.1.0-SNAPSHOT-standalone.jar\n$ java -jar target/fuga-0.1.0-SNAPSHOT-standalone.jar\nHello, fuga\n$\n\n\u4e0a\u624b\u304f\u884c\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\n\u6240\u611f\u306a\u3069\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3059\u308b\u3068\u3001\u57fa\u672c\u7684\u306b\u30b3\u30d4\u30da\u958b\u767a\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3088\u308d\u3057\u304f\u306a\u3044\u9762\u3082\u591a\u3005\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u300c\u3061\u3087\u3063\u3068\u3057\u305f\u65e5\u5e38\u306e\u696d\u52d9\u300d\u3067 Clojure \u3092\u4f7f\u3044\u305f\u3044\u3001\u3068\u3044\u3046\u3068\u304d\u306b\u306f\u3001\u305d\u308c\u306a\u308a\u306e\u4ffa\u4ffa\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u3063\u3066\u304a\u304f\u3068\u3001\u5f79\u7acb\u3064\u5834\u9762\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u672c\u65e5\u306e\u8a18\u4e8b\u306f\u3053\u3093\u306a\u3068\u3053\u308d\u3067\u3002\n\u660e\u65e5\u306f\u3001puriketu99 \u3055\u3093\u306e\u8a18\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\nleiningen \u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u3063\u3066\u307f\u308b\n============================================\n\n\u3053\u306e\u8a18\u4e8b\u306f\u3001[Clojure Adven Calendar 2013](http://qiita.com/advent-calendar/2013/clojure) 12/07\u65e5\u306e\u8a18\u4e8b\u3067\u3059\u3002\n\n\u4eca\u65e5\u306f\u3001[leiningen](http://leiningen.org/) ([github](https://github.com/technomancy/leiningen)) \u3092\u4f7f\u3063\u3066\u3001\u81ea\u5206\u306e\u72ec\u81ea\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8(\u3044\u308f\u3086\u308b **\u30aa\u30ec\u30aa\u30ec\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8** )\u3092\u4f5c\u308b\u8a71\u3092\u3057\u307e\u3059\n\uff08leiningen \u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f5c\u6210\u306b\u95a2\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8([\u3053\u3053](https://github.com/technomancy/leiningen/blob/stable/doc/TEMPLATES.md)) \u3092\u898b\u308c\u3070\u7d42\u308f\u308a\u3001\u3068\u3044\u3046\u8a71\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u81ea\u7fd2\u30e1\u30e2\u306e\u610f\u5473\u3067\u3082\u307e\u3068\u3081\u3066\u304a\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059)\u3002\n\n### \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3064\u3044\u3066\n\n`leiningen` \u3067\u65b0\u898f\u306b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u5834\u5408\u3001\n\n```shell\n$ lein new my-project\n```\n\u3068\u3044\u3046\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002\u5b9f\u884c\u3059\u308b\u3068\u3001`my-project`\u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4f5c\u6210\u3055\u308c\u3001\u305d\u306e\u914d\u4e0b\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5404\u7a2e\u30d5\u30a1\u30a4\u30eb\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u307e\u305f\u3001`lein new` \u30b3\u30de\u30f3\u30c9\u306b\u306f\u3001 **\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8** \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```shell\n$ lein new $TEMPLATE_NAME my-project\n```\n\u4e0a\u8a18 `$TEMPLATE_NAME` \u306e\u3068\u3053\u308d\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u5f93\u3063\u305f\u5f62\u3067 `project.clj` \u3084\u521d\u671f\u8a2d\u5b9a\u6e08\u307f\u306e\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u7b49\u304c\u3072\u306a\u5f62\u3068\u3057\u3066\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3001`default`\u3001`plugin`\u3001`template`\u3001`app`\u3001\u306e\uff14\u3064\u304c\u5229\u7528\u3067\u304d\u307e\u3059\u304c\u3001\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u3082\u3057\u304f\u306f maven\u3001clojars \u3068\u3044\u3063\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u3042\u308c\u3070\u3001\u305d\u308c\u3089\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u6709\u540d\u306a\u3068\u3053\u308d\u3067\u306f\u3001`heroku` \u5411\u3051\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308a\u307e\u3059(\u8a66\u3057\u306b `lein new heroku heroku-proj` \u3068\u3084\u3063\u3066\u307f\u308c\u3070\u3001heroku \u3078\u30c7\u30d7\u30ed\u30a4\u3067\u304d\u308b\u69d8\u306b\u6e96\u5099\u3055\u308c\u305f heroku-proj \u3068\u3044\u3046\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059)\u3002\n\n### \u72ec\u81ea\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4f5c\u6210\n\n\u4eca\u56de\u306f**\u30aa\u30ec\u30aa\u30ec\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8**\u3092\u4f5c\u308b\u306e\u304c\u76ee\u7684\u306a\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n```shell\n$ lein new template oreore\nGenerating fresh 'lein new' template project.\n$ \n```\n\n\u4f5c\u6210\u3055\u308c\u305f\u3082\u306e\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n* \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u69cb\u9020\n\n```\noreore/\n  | .gitignore\n  | LICENSE\n  | README.md\n  | project.clj\n  +- src/\n      +- leiningen/\n          + new/\n             | oreore.clj\n             +- oreore/\n                 | foo.clj\n```\n\n* project.clj\n\n```clojure\n(defproject oreore/lein-template \"0.1.0-SNAPSHOT\"\n  :description \"FIXME: write description\"\n  :url \"http://example.com/FIXME\"\n  :license {:name \"Eclipse Public License\"\n            :url \"http://www.eclipse.org/legal/epl-v10.html\"}\n  :eval-in-leiningen true)\n```\n\n\u3053\u306e`project.clj`\u306f\u3001 **\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c leiningen \u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u3042\u308b\u3053\u3068\u3092\u5ba3\u8a00\u3059\u308b\u305f\u3081\u306e\u3082\u306e** \u3001\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 **oreore** \u3068\u3044\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u4f5c\u6210\u3055\u308c\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e `project.clj` \u306e\u3072\u306a\u5f62\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u306f\u3001`defproject` \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u8a18\u8ff0\u306b\u6c17\u3092\u3064\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002`-SNAPSHOT` \u3092\u4ed8\u3051\u308b\u3068\u3001\u5f8c\u3067\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u304d\u306b\u53c2\u7167\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u306e\u3067\u3001\u4eca\u56de\u306f`-SNAPSHOT`\u3092\u6d88\u3059\u3001\u3068\u3044\u3046\u65b9\u91dd\u3067\u884c\u304d\u307e\u3059\u3002\n\n* src/leiningen/new/oreore.clj\n\n```clojure\n(ns leiningen.new.oreore\n  (:require [leiningen.new.templates :refer [renderer name-to-path ->files]]\n            [leiningen.core.main :as main]))\n\n(def render (renderer \"oreore\"))\n\n(defn oreore\n  \"FIXME: write documentation\"\n  [name]\n  (let [data {:name name\n              :sanitized (name-to-path name)}]\n    (main/info \"Generating fresh 'lein new' oreore project.\")\n    (->files data\n             [\"src/{{sanitized}}/foo.clj\" (render \"foo.clj\" data)])))\n```\n\n\u3053\u308c\u304c `lein new oreore` \u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u884c\u3055\u308c\u308b\u51e6\u7406\u306e\u672c\u4f53\u306b\u306a\u308a\u307e\u3059\u3002`(defn oreore [name] ...)` \u304c\u5b9f\u969b\u306b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5c55\u958b\u306b\u4f7f\u308f\u308c\u308b\u95a2\u6570\u306b\u306a\u308a\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf`name` \u306b\u306f\u3001`lein new oreore` \u306b\u7d9a\u304f\u5f15\u6570\u3001\u3059\u306a\u308f\u3061\u65b0\u898f\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u306e\u30bd\u30fc\u30b9\u306f`foo.clj`\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\uff11\u3064\u306e\u307f\u3092\u751f\u6210\u3059\u308b\u30b7\u30f3\u30d7\u30eb\u306a\u4f8b\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u51e6\u7406\u306e\u8981\u306f`->files` \u95a2\u6570\u3067\u3059\u3002\u3053\u306e\u95a2\u6570\u306e\u7b2c\uff11\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u306f\u3001`mustache`\u5f62\u5f0f\u3067\u6307\u5b9a\u3055\u308c\u305f\u6587\u5b57\u5217\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30ad\u30fc\u3068\u5024\u306e\u5bfe\u5fdc\u4ed8\u3051\u3092\u884c\u3046 map \u3092\u6307\u5b9a\u3057\u3001\u7b2c\uff12\u30d1\u30e9\u30e1\u30fc\u30bf\u4ee5\u964d\u3067\u5177\u4f53\u7684\u306b\u751f\u6210\u3059\u308b\u30d5\u30a1\u30a4\u30eb(\u7fa4)\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3064\u3044\u3066\u306f\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\nClojure \u3067\u306f\u3001\u540d\u524d\u7a7a\u9593\u306b `-` \u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3068\u3001\u5b9f\u969b\u306b\u914d\u7f6e\u3055\u308c\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u3057\u304f\u306f\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u540d\u306f `_` \u306b\u7f6e\u304d\u63db\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001`name-to-path` \u95a2\u6570\u304c\u305d\u306e\u51e6\u7406\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4e0a\u8a18\u306f\u30b7\u30f3\u30d7\u30eb\u3059\u304e\u308b\u4f8b\u3067\u3059\u304c\u3001\u3088\u308a\u5177\u4f53\u7684\u306a\u30b5\u30f3\u30d7\u30eb\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8([\u3053\u3053](https://github.com/technomancy/leiningen/blob/master/src/leiningen/new/default.clj)) \u3092\u898b\u308b\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n* src/leiningen/new/oreore/foo.clj\n\n\u3053\u308c\u306f\u3001`oreore.clj`\u30d5\u30a1\u30a4\u30eb\u304b\u3089`->files`\u95a2\u6570\u3067\u5c55\u958b\u3055\u308c\u308b\u5143\u3068\u306a\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002\n\n```clojure\n(def {{name}} :foo)\n```\n\n`namespace` \u3084 `require` \u306e\u6307\u5b9a\u3068\u304b\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u7528\u610f\u3057\u3066\u304a\u304f\u3079\u304d\u95a2\u6570(\u5358\u72ec\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306a\u3089`-main`\u3068\u304b\u3001Compojure \u3092\u3064\u304b\u3063\u305fWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306a\u3089`defroute` \u3068\u304b)\u3092\u8a18\u8ff0\u3057\u3066\u304a\u304f\u3068\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u6700\u7d42\u7684\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u306b\u3057\u307e\u3057\u305f\u3002\n\n* \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u69cb\u9020\n\n```\noreore/\n  | .gitignore\n  | LICENSE\n  | README.md\n  | project.clj\n  +- src/\n      +- leiningen/\n          + new/\n             | oreore.clj      (1)\n             +- oreore/\n                 | .gitignore\n                 | README.md\n                 | core.clj    (2)  <-- \u5143\u3005\u3042\u3063\u305f foo.clj \u306e\u4ee3\u308f\u308a\u306b\u4f5c\u6210\n                 | project.clj (3)\n```\n\n* (1) src/leiningen/new/oreore.clj\n\n```clojure\n(ns leiningen.new.oreore\n  (:require [leiningen.new.templates :refer [renderer name-to-path ->files]]\n            [leiningen.core.main :as main]))\n\n(defn oreore\n  \"\u304a\u308c\u304a\u308c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\"\n  [name]\n  (let [render (renderer \"oreore\")\n        data {:name name\n              :sanitized (name-to-path name)}]\n    (main/info \"Generating fresh 'lein new' \u4ffa\u4ffa project.\")\n    (->files data\n             [\"src/{{sanitized}}/core.clj\" (render \"core.clj\" data)]\n             [\"project.clj\" (render \"project.clj\" data)]\n             [\"README.md\" (render \"README.md\" data)]\n             [\".gitignore\" (render \".gitignore\" data)])))\n```\n\n* (2) src/leiningen/new/oreore/core.clj\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30c4\u30fc\u30eb\u3068\u3057\u3066\u4f5c\u308b\u76ee\u7684\u3067\u3001tools.cli \u3092\u4f7f\u3046\u30b3\u30fc\u30c9\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u5f8c\u306b STANDALONE jar \u3092\u4f5c\u308b\u3064\u3082\u308a\u3067 `:gen-class` \u3082\u5165\u308c\u3066\u3044\u307e\u3059\u3002\n\n```clojure\n(ns {{name}}.core\n  (:gen-class)\n  (:require [clojure.string :as str]\n            [clojure.tools.cli :refer [cli]]))\n\n(defn -main\n  [& args]\n  \"{{name}} \u306e\u30e1\u30a4\u30f3\u51e6\u7406\"\n  (let [[opts args banner]\n        (cli args\n             \"FIXME: help banner message\"\n             [\"-h\" \"--help\" \"Show Help\" :default false :flag true]\n             ;; additional options\n             )]\n    (when (:help opts)\n      (println banner)\n      (System/exit 0))\n    (println \"Hello, {{name}}\")))\n```\n\n* (3) src/leiningen/new/oreore/project.clj\n\n```clojure\n(defproject {{name}} \"0.1.0-SNAPSHOT\"\n  :description \"\u30aa\u30ec\u30aa\u30ec\u30d7\u30ed\u30b8\u30a7\u30af\u30c8({{name}})\"\n  :license \"Eclipse Public License 1.0\"\n  :url \"http://example.com/FIXME\"\n  :dependencies [[org.clojure/clojure \"1.5.1\"]\n                 [org.clojure/tools.cli \"0.2.4\"]]\n  :aot :all\n  :main {{name}}.core)\n```\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u306e\u8d77\u52d5\u3092\u8003\u3048\u3066\u3001`:main`\u306e\u6307\u5b9a\u3068 `:aot :all` \u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002\n\n### \u72ec\u81ea\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u6e96\u5099\u304c\u3067\u304d\u305f\u3089\u3001`oreore` \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u3068\u3053\u308d\u3067\u3001`lein install` \u3068\u3059\u308b\u3068\u3001\u30ed\u30fc\u30ab\u30eb\u30ea\u30dd\u30b8\u30c8\u30ea\u306b `oreore` \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u3002\n\n```shell\n$ lein install\nCreated /Users/masao/oreore/target/lein-template-0.1.0.jar\nWrote /Users/masao/oreore/pom.xml\n$ \n```\n\n### \u52d5\u304b\u3057\u3066\u307f\u308b\n\n```\n$ lein new oreore fuga\nGenerating fresh 'lein new' \u4ffa\u4ffa project.\n$ cd fuga\n$ lein run\nRetrieving org/clojure/tools.cli/0.2.4/tools.cli-0.2.4.pom from central\nRetrieving org/clojure/tools.cli/0.2.4/tools.cli-0.2.4.jar from central\nCompiling fuga.core\nHello, fuga\n$ lein uberjar\nCreated /Users/masao/fuga/target/fuga-0.1.0-SNAPSHOT.jar\nCreated /Users/masao/fuga/target/fuga-0.1.0-SNAPSHOT-standalone.jar\n$ java -jar target/fuga-0.1.0-SNAPSHOT-standalone.jar\nHello, fuga\n$\n```\n\n\u4e0a\u624b\u304f\u884c\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\n## \u6240\u611f\u306a\u3069\n\n\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3059\u308b\u3068\u3001\u57fa\u672c\u7684\u306b\u30b3\u30d4\u30da\u958b\u767a\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3088\u308d\u3057\u304f\u306a\u3044\u9762\u3082\u591a\u3005\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u300c\u3061\u3087\u3063\u3068\u3057\u305f\u65e5\u5e38\u306e\u696d\u52d9\u300d\u3067 Clojure \u3092\u4f7f\u3044\u305f\u3044\u3001\u3068\u3044\u3046\u3068\u304d\u306b\u306f\u3001\u305d\u308c\u306a\u308a\u306e\u4ffa\u4ffa\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u3063\u3066\u304a\u304f\u3068\u3001\u5f79\u7acb\u3064\u5834\u9762\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u672c\u65e5\u306e\u8a18\u4e8b\u306f\u3053\u3093\u306a\u3068\u3053\u308d\u3067\u3002\n\n\u660e\u65e5\u306f\u3001puriketu99 \u3055\u3093\u306e\u8a18\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002", "tags": ["Clojure1.5.1"]}