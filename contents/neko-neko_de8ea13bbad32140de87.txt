{"context": "\n\nDocker\u516c\u5f0f\u306eMySQL\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\nDocker Compose\u3092\u4f7f\u3063\u3066Docker\u516c\u5f0f\u306eMySQL\u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3057\u305f\u3089\u6587\u5b57\u30b3\u30fc\u30c9\u3067\u30cf\u30de\u3063\u305f\u3002\n\u4e0b\u8a18\u69cb\u6210\u3067Docker Compose\u5229\u7528\u6642\u3001\u30a2\u30d7\u30ea\u30b5\u30fc\u30d0\u3068MySQL\u30b5\u30fc\u30d0\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u304c\u76f8\u9055\u3057\u305f\u3002\n\ndocker-compose.yml\nversion: '2'\nservices:\n  db:\n    image: mysql:5.5\n    volumes:\n      - data:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: 'password'\n    ports:\n      - 3306\n  cache:\n    image: memcached:1.4\n    ports:\n      - 11211\n  rails:\n    build: .\n    command: bundle exec rails s -p 3000 -b '0.0.0.0'\n    volumes:\n      - .:/opt/rails\n    ports:\n      - \"3000:3000\"\n    environment:\n      RAILS_ENV: local\n      DATABASE_URL: mysql2://root:password@db:3306\n      CACHE_SERVER: cache:11211\n    links:\n      - db\n      - cache\nvolumes:\n  data:\n    driver: local\n\n\n\n\u767a\u751f\u3057\u305f\u6587\u5b57\u30b3\u30fc\u30c9\u76f8\u9055\u554f\u984c\n\u3053\u3093\u306a\u611f\u3058\u3067\u76f8\u9055\u3057\u3066\u3044\u305f\u3002\n* Rails: utf8\n* MySQL: latin1\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u767a\u751f\u3057\u3066Rails\u304c\u8d77\u52d5\u3057\u306a\u3044\uff01\ncharset: utf8, collation: utf8_general_ci (if you set the charset manually, make sure you have a matching collation)\n\nmy.cnf\u7de8\u96c6\u3055\u305b\u306a\u304f\u3066\u3082\u30a4\u30b1\u308b\u3093\u3058\u3083\u306d\n\u8272\u3005\u3068\u30b0\u30b0\u30c3\u3066\u307f\u305f\u3089my.cnf\u3092\u7de8\u96c6\u3057\u306a\u304f\u3066\u306f\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u8a18\u8f09\u3092\u3088\u304f\u898b\u305f\u3002\n\u305d\u3093\u306a\u9762\u5012\u306a\u3053\u3068\u3042\u308b\u304b\uff01\uff1f\n\u3068\u308a\u3042\u3048\u305aDocker\u516c\u5f0f\u306eMySQL\u30ec\u30dd\u30b8\u30c8\u30ea\u3078\u98db\u3093\u3060\u3002\nDocker\u516c\u5f0fMySQL\u30ec\u30dd\u30b8\u30c8\u30ea\n\u305d\u3057\u305f\u3089\u3053\u3093\u306a\u8a18\u8f09\u304c\u30fb\u30fb\u30fb\uff01\n\nConfiguration without a cnf file\nMany configuration options can be passed as flags to mysqld. This will give you the flexibility to customize the container without needing a cnf file. For example, if you want to change the default encoding and collation for all tables to use UTF-8 (utf8mb4) just run the following:\n\n\u305d\u3093\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u4f8b\u3082\u3061\u3083\u3093\u3068\u66f8\u3044\u3066\u3042\u308b\uff01\n\n$ docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci\n\n\n\u89e3\u6c7a\u65b9\u6cd5\ndocker-compose.yml\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u305f\u3002\n\ndocker-compose.yml\nversion: '2'\nservices:\n  db:\n    image: mysql:5.5\n    command: mysqld --character-set-server=utf8 --collation-server=utf8_unicode_ci\n    volumes:\n      - data:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: 'password'\n    ports:\n      - 3306\n  cache:\n    image: memcached:1.4\n    ports:\n      - 11211\n  rails:\n    build: .\n    command: bundle exec rails s -p 3000 -b '0.0.0.0'\n    volumes:\n      - .:/opt/rails\n    ports:\n      - \"3000:3000\"\n    environment:\n      RAILS_ENV: local\n      DATABASE_URL: mysql2://root:password@db:3306\n      CACHE_SERVER: cache:11211\n    links:\n      - db\n      - cache\nvolumes:\n  data:\n    driver: local\n\n\n\u5177\u4f53\u7684\u306b\u306fdb\u306bcommand\u3092\u8ffd\u52a0\u3057\u3066\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u6587\u5b57\u30b3\u30fc\u30c9\u306e\u8a2d\u5b9a\u3092\u6e21\u3059\u3088\u3046\u306b\u3057\u305f\u3002\n# Docker\u516c\u5f0f\u306eMySQL\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\nDocker Compose\u3092\u4f7f\u3063\u3066Docker\u516c\u5f0f\u306eMySQL\u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3057\u305f\u3089\u6587\u5b57\u30b3\u30fc\u30c9\u3067\u30cf\u30de\u3063\u305f\u3002\n\u4e0b\u8a18\u69cb\u6210\u3067Docker Compose\u5229\u7528\u6642\u3001\u30a2\u30d7\u30ea\u30b5\u30fc\u30d0\u3068MySQL\u30b5\u30fc\u30d0\u306e\u6587\u5b57\u30b3\u30fc\u30c9\u304c\u76f8\u9055\u3057\u305f\u3002\n\n```yaml:docker-compose.yml\nversion: '2'\nservices:\n  db:\n    image: mysql:5.5\n    volumes:\n      - data:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: 'password'\n    ports:\n      - 3306\n  cache:\n    image: memcached:1.4\n    ports:\n      - 11211\n  rails:\n    build: .\n    command: bundle exec rails s -p 3000 -b '0.0.0.0'\n    volumes:\n      - .:/opt/rails\n    ports:\n      - \"3000:3000\"\n    environment:\n      RAILS_ENV: local\n      DATABASE_URL: mysql2://root:password@db:3306\n      CACHE_SERVER: cache:11211\n    links:\n      - db\n      - cache\nvolumes:\n  data:\n    driver: local\n```\n\n# \u767a\u751f\u3057\u305f\u6587\u5b57\u30b3\u30fc\u30c9\u76f8\u9055\u554f\u984c\n\u3053\u3093\u306a\u611f\u3058\u3067\u76f8\u9055\u3057\u3066\u3044\u305f\u3002\n* Rails: utf8\n* MySQL: latin1\n\n\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u767a\u751f\u3057\u3066Rails\u304c\u8d77\u52d5\u3057\u306a\u3044\uff01\n`charset: utf8, collation: utf8_general_ci (if you set the charset manually, make sure you have a matching collation)`\n\n# my.cnf\u7de8\u96c6\u3055\u305b\u306a\u304f\u3066\u3082\u30a4\u30b1\u308b\u3093\u3058\u3083\u306d\n\u8272\u3005\u3068\u30b0\u30b0\u30c3\u3066\u307f\u305f\u3089my.cnf\u3092\u7de8\u96c6\u3057\u306a\u304f\u3066\u306f\u3044\u3051\u306a\u3044\u3068\u3044\u3046\u8a18\u8f09\u3092\u3088\u304f\u898b\u305f\u3002\n\u305d\u3093\u306a\u9762\u5012\u306a\u3053\u3068\u3042\u308b\u304b\uff01\uff1f\n\u3068\u308a\u3042\u3048\u305aDocker\u516c\u5f0f\u306eMySQL\u30ec\u30dd\u30b8\u30c8\u30ea\u3078\u98db\u3093\u3060\u3002\n[Docker\u516c\u5f0fMySQL\u30ec\u30dd\u30b8\u30c8\u30ea](https://hub.docker.com/_/mysql/)\n\n\u305d\u3057\u305f\u3089\u3053\u3093\u306a\u8a18\u8f09\u304c\u30fb\u30fb\u30fb\uff01\n```\nConfiguration without a cnf file\nMany configuration options can be passed as flags to mysqld. This will give you the flexibility to customize the container without needing a cnf file. For example, if you want to change the default encoding and collation for all tables to use UTF-8 (utf8mb4) just run the following:\n```\n\n\u305d\u3093\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u4f8b\u3082\u3061\u3083\u3093\u3068\u66f8\u3044\u3066\u3042\u308b\uff01\n```\n$ docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci\n```\n\n# \u89e3\u6c7a\u65b9\u6cd5\ndocker-compose.yml\u3092\u4e0b\u8a18\u306e\u3088\u3046\u306b\u7de8\u96c6\u3057\u305f\u3002\n\n```yaml:docker-compose.yml\nversion: '2'\nservices:\n  db:\n    image: mysql:5.5\n    command: mysqld --character-set-server=utf8 --collation-server=utf8_unicode_ci\n    volumes:\n      - data:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: 'password'\n    ports:\n      - 3306\n  cache:\n    image: memcached:1.4\n    ports:\n      - 11211\n  rails:\n    build: .\n    command: bundle exec rails s -p 3000 -b '0.0.0.0'\n    volumes:\n      - .:/opt/rails\n    ports:\n      - \"3000:3000\"\n    environment:\n      RAILS_ENV: local\n      DATABASE_URL: mysql2://root:password@db:3306\n      CACHE_SERVER: cache:11211\n    links:\n      - db\n      - cache\nvolumes:\n  data:\n    driver: local\n```\n\n\u5177\u4f53\u7684\u306b\u306fdb\u306bcommand\u3092\u8ffd\u52a0\u3057\u3066\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u6587\u5b57\u30b3\u30fc\u30c9\u306e\u8a2d\u5b9a\u3092\u6e21\u3059\u3088\u3046\u306b\u3057\u305f\u3002\n", "tags": ["docker", "docker-compose", "MySQL", "Rails"]}