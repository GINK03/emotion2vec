{"context": "\u524d\u65e5\u306e\u8a18\u4e8b\u3067\u306f\u3001Groonga\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u69cb\u9020\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u305f\u691c\u7d22\u306e\u4ed5\u65b9\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u8ff0\u3079\u307e\u3057\u305f\u3002Groonga Advent Calendar 2016 16\u65e5\u76ee\u306e\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u305d\u306e\u7d9a\u304d\u3068\u3057\u3066\u3001select\u30b3\u30de\u30f3\u30c9\u306e--match_columns\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3088\u308b\u691c\u7d22\u306e\u52d5\u4f5c\u306e\u9055\u3044\u3092\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n\u540c\u3058\u30ab\u30e9\u30e0\u5bfe\u3057\u3066\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3084\u3001\u540c\u3058\u30c6\u30fc\u30d6\u30eb\u306e\u8907\u6570\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u691c\u7d22\u3092\u884c\u3046\u5834\u5408\u3001--match_columns\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3088\u3063\u3066\u884c\u308f\u308c\u308b\u691c\u7d22\u51e6\u7406\u306e\u5b9f\u614b\u304c\u5927\u304d\u304f\u5909\u308f\u308a\u307e\u3059\u3002\u9069\u5207\u306b\u6307\u5b9a\u3057\u306a\u3044\u3068\u3001\u305b\u3063\u304b\u304f\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6d3b\u304b\u305b\u305a\u7121\u99c4\u306b\u6642\u9593\u3084\u30ea\u30bd\u30fc\u30b9\u3092\u6d88\u8cbb\u3057\u3066\u3057\u307e\u3046\u3053\u3068\u306b\u3082\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u89e3\u8aac\u3092\u898b\u3066\u3001\u76ee\u7684\u306b\u5fdc\u3058\u305f\u3088\u308a\u9069\u5207\u306a--match_columns\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u3092\u628a\u63e1\u3057\u307e\u3057\u3087\u3046\u3002\n\u306a\u304a\u3001\u4ee5\u4e0b\u306e\u8aac\u660e\u306f--filter\u3067\u4f7f\u7528\u3067\u304d\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u69cb\u6587\u306equery()\u95a2\u6570\u306e\u7b2c1\u5f15\u6570\u306e\u6307\u5b9a\u306b\u3082\u5f53\u3066\u306f\u307e\u308a\u307e\u3059\u3002--filter\u306e\u65b9\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u3001\u9069\u5b9c\u8aac\u660e\u3092\u8aad\u307f\u66ff\u3048\u3066\u4e0b\u3055\u3044\u3002\n\n\u6e96\u5099\n\u5b9f\u9a13\u7528\u306b\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8907\u6570\u6301\u3064\u30c6\u30fc\u30d6\u30eb\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n$ cat dump.grn\ntable_create Entries TABLE_HASH_KEY ShortText\ncolumn_create Entries title COLUMN_SCALAR ShortText\ncolumn_create Entries body COLUMN_SCALAR ShortText\nload --table Entries\n[\n[\"_key\",\"title\",\"body\"],\n[\"http://example.com/entry1\",\"Hello Groonga.\", \"This is my first entry.\"],\n[\"http://example.com/entry2\",\"Hello world.\",\"I love Groonga!\"],\n[\"http://example.com/entry3\",\"Hello Mroonga, bye Groonga.\",\"I use Mroonga.\"],\n[\"http://example.com/entry4\",\"Say, Hello Groonga!\",\"I'm back.\"]\n]\ntable_create Terms TABLE_PAT_KEY ShortText --default_tokenizer TokenBigram --normalizer NormalizerAuto\ncolumn_create Terms entries_title COLUMN_INDEX|WITH_POSITION Entries title\ncolumn_create Terms entries_body COLUMN_INDEX|WITH_POSITION Entries body\ncolumn_create Terms entries_whole COLUMN_INDEX|WITH_POSITION|WITH_SECTION Entries title,body\n$ rm -rf /tmp/groonga-databases\n$ mkdir -p /tmp/groonga-databases\n$ groonga -n /tmp/groonga-databases/database.db quit\n$ cat dump.grn | groonga /tmp/groonga-databases/database.db\n\n\u3053\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5185\u5bb9\u3092\u6301\u3064Entries\u3068\u3044\u3046\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n\n_id\n_key\ntitle (sid=1)\nbody (sid=2)\n\n\n\n\n1\nhttp://example.com/entry1\nHello Groonga.\nThis is my first entry.\n\n\n2\nhttp://example.com/entry2\nHello world.\nI love Groonga!\n\n\n3\nhttp://example.com/entry3\nHello Mroonga, bye Groonga.\nI use Mroonga.\n\n\n4\nhttp://example.com/entry4\nSay, Hello Groonga!\nI'm back.\n\n\n\n\u307e\u305f\u3001\u3053\u306eEntries\u30c6\u30fc\u30d6\u30eb\u306etitle\u3068body\u306e\u5404\u30ab\u30e9\u30e0\u306b\u5bfe\u3057\u3066\u3001\u8a9e\u5f59\u8868\u306eTerms\u30c6\u30fc\u30d6\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a3\u3064\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n_key\nentries_title\nentries_body\nentries_whole\n\n\n\n\nHello\n[id=1,pos=1], [id=2,pos=1], [id=3,pos=1], [id=4,pos=2]\n\n[id=1,pos=1,sid=1], [id=2,pos=1,sid=1], [id=3,pos=1,sid=1], [id=4,pos=2,sid=1]\n\n\nGroonga\n[id=1,pos=2], [id=3,pos=4], [id=4,pos=3]\n[id=2,pos=3]\n[id=1,pos=2,sid=1], [id=3,pos=4,sid=1], [id=4,pos=3,sid=1], [id=2,pos=3,sid=2]\n\n\nworld\n[id=2,pos=2]\n\n[id=2,pos=2,sid=1]\n\n\nbye\n[id=3,pos=3]\n\n[id=3,pos=3,sid=1]\n\n\nMroonga\n[id=3,pos=2]\n[id=3,pos=3]\n[id=3,pos=2,sid=1], [id=3,pos=3,sid=2]\n\n\nSay\n[id=4,pos=1]\n\n[id=4,pos=1,sid=1]\n\n\n\n\u3053\u3053\u3067\u306f\u7c21\u5358\u306e\u305f\u3081\u3001title\u30ab\u30e9\u30e0\u7531\u6765\u306e\u30c8\u30fc\u30af\u30f3\u306b\u57fa\u3065\u304f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u60c5\u5831\u3060\u3051\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u8907\u6570\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3063\u3066\u4f55\uff1f\u3068\u3044\u3046\u65b9\u306f\u3001\u5148\u306b\u524d\u65e5\u306e\u8a18\u4e8b\u306e\u65b9\u3092\u3054\u89a7\u4e0b\u3055\u3044\u3002\n\u4ee5\u4e0b\u3001\u3053\u308c\u3092\u6750\u6599\u306b\u3057\u3066--match_columns\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3088\u308b\u691c\u7d22\u306e\u52d5\u4f5c\u306e\u9055\u3044\u3092\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nCASE1\uff1a\u5358\u72ec\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\n--match_columns\u306e\u4f7f\u3044\u65b9\u3067\u6700\u3082\u4e00\u822c\u7684\u306a\u306e\u306f\u3001select --table Entries --match_columns title --query \"Hello Groonga\"\u3068\u3044\u3046\u3088\u3046\u306a\u3001\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306e\u540d\u524d\u30921\u3064\u3060\u3051\u6307\u5b9a\u3059\u308b\u66f8\u304d\u65b9\u3067\u3057\u3087\u3046\u3002\n\u3053\u306e\u6642Groonga\u306f\u3001\u305d\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306b\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u81ea\u52d5\u7684\u306b\u63a2\u3057\u51fa\u3057\u3066\u3001\u305d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u3066\u524d\u65e5\u306e\u8a18\u4e8b\u3067\u8ff0\u3079\u305f\u3088\u3046\u306a\u691c\u7d22\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\u3053\u3053\u30671\u3064\u7591\u554f\u304c\u6d6e\u304b\u3073\u307e\u3059\u3002\u300c\u81ea\u52d5\u7684\u306b\u300d\u3068\u8a00\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u306e\u8a18\u4e8b\u306e\u4f8b\u306e\u3088\u3046\u306b1\u3064\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306b\u5bfe\u3057\u3066\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u3042\u308b\u5834\u5408\u306b\u306f\u3001\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\n\u7d50\u8ad6\u304b\u3089\u8a00\u3046\u3068\u3001\u305d\u306e\u5834\u5408\u306e\u52d5\u4f5c\u306f\u4e0d\u5b9a\u3067\u3059\u3002\n\u5b9f\u969b\u306e\u6240\u3001Groonga 6.1.1\u306e\u5834\u5408\u306f\u300c\u6700\u5f8c\u306b\u4f5c\u3089\u308c\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u81ea\u52d5\u9078\u629e\u3055\u308c\u308b\u300d\u3068\u3044\u3046\u7d50\u679c\u306b\u306a\u308a\u307e\u3059\u3002\u304c\u3001\u3053\u308c\u306f\u305f\u307e\u305f\u307e\u305d\u306e\u3088\u3046\u306a\u7d50\u679c\u306b\u306a\u308b\u5b9f\u88c5\u304c\u306a\u3055\u308c\u3066\u3044\u308b\u3068\u3044\u3046\u3060\u3051\u3067\u3001\u7279\u306b\u4ed5\u69d8\u3068\u3057\u3066\u305d\u306e\u3088\u3046\u306a\u52d5\u4f5c\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u306a\u306e\u3067\u3001\u5c06\u6765\u7684\u306b\u306f\u52d5\u4f5c\u304c\u5909\u308f\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\u4ee5\u4e0a\u3092\u8e0f\u307e\u3048\u308b\u3068\u3001\u5b89\u5b9a\u3057\u305f\u691c\u7d22\u7d50\u679c\u3092\u8fd4\u3059\u305f\u3081\u306b\u306f\u30011\u3064\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306b\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f--match_columns\u3067\u305d\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u540d\u3092\u6307\u5b9a\u3059\u308b\u306e\u306f\u907f\u3051\u305f\u65b9\u304c\u3088\u3044\u3068\u3044\u3046\u3053\u3068\u304c\u8a00\u3048\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3067\u306f\u3001\u5f8c\u8ff0\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3092\u6307\u5b9a\u3059\u308b\u65b9\u6cd5\u3092\u53d6\u308b\u306e\u304c\u304a\u52e7\u3081\u3067\u3059\u3002\n\nCASE2\uff1a\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\n--match_columns\u306b\u306f\u3001select --table Entries --match_columns title||body --query \"Hello Groonga\"\u306e\u3088\u3046\u306b\u3001||\u3067\u533a\u5207\u3063\u3066\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u540d\u3092\u5217\u6319\u3059\u308b\u66f8\u304d\u65b9\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u306e\u6642Groonga\u306f\u3001\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306b\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u81ea\u52d5\u7684\u306b\u63a2\u3057\u51fa\u3057\u3066\u3001\u305d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u3066\u500b\u5225\u306b\u691c\u7d22\u3092\u884c\u3044\u3001\u305d\u308c\u3089\u306e\u7d50\u679c\u306e\u8ad6\u7406\u548c\u3092\u6700\u7d42\u7684\u306a\u691c\u7d22\u7d50\u679c\u3068\u3057\u3066\u8fd4\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u8907\u6570\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u3063\u305f\u691c\u7d22\u3092\u884c\u3044\u307e\u3059\u3002\n\u3053\u306e\u6642\u3082\u3001\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306e\u540d\u524d\u304b\u3089\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4e00\u610f\u306b\u7279\u5b9a\u3067\u304d\u306a\u3044\u5834\u5408\u306b\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u308b\u304b\u306f\u4e0d\u5b9a\u3067\u3059\u3002\u5b89\u5b9a\u3057\u305f\u691c\u7d22\u7d50\u679c\u3092\u8fd4\u3059\u305f\u3081\u306b\u306f\u3001\u3053\u3061\u3089\u3082\u5f8c\u8ff0\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3092\u6307\u5b9a\u3059\u308b\u65b9\u6cd5\u3092\u53d6\u308b\u4e8b\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\n\nCASE3\uff1a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\n\nCASE3-1\uff1a\u5358\u72ec\u30ab\u30e9\u30e0\u306e\u6307\u5b9a\n\u4eca\u306e\u6240\u307e\u3060\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u7b49\u306b\u8a73\u3057\u3044\u8aac\u660e\u3092\u7528\u610f\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u5b9f\u306f--match_columns\u306b\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3082\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u3067\u3042\u308c\u3070\u3001\u540c\u3058\u30ab\u30e9\u30e0\u306b\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u3042\u308b\u5834\u5408\u3067\u3082\u3001\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3046\u304b\u660e\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u7279\u5b9a\u306e\u30ab\u30e9\u30e0\u306b\u7d50\u3073\u4ed8\u3044\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6307\u5b9a\u3059\u308c\u3070\u3001\u305d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u3066\u3001\u6697\u9ed9\u7684\u306b\u305d\u306e\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\nselect --table Entries --match_columns Terms.entries_title --query \"Hello Groonga\"\n\u2192Terms.entries_title\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u4f7f\u3044\u3001\u6697\u9ed9\u7684\u306btitle\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3002\n\nselect --table Entries --match_columns Terms.entries_body --query \"Hello Groonga\"\n\u2192Terms.entries_body\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u4f7f\u3044\u3001\u6697\u9ed9\u7684\u306bbody\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3002\n\n\u8907\u6570\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u306f\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u306e\u5f8c\u306b\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u540d\u3092\u6307\u5b9a\u3057\u3066\u300c\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3044\u3001\u3069\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u304b\u300d\u3092\u660e\u793a\u3067\u304d\u307e\u3059\u3002\n\n\nselect --table Entries --match_columns Terms.entries_whole.title --query \"Hello Groonga\"\n\u2192Terms.entries_whole\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u4f7f\u3044\u3001\u660e\u793a\u7684\u306btitle\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3002\n\nselect --table Entries --match_columns Terms.entries_whole.body --query \"Hello Groonga\"\n\u2192Terms.entries_whole\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u4f7f\u3044\u3001\u660e\u793a\u7684\u306bbody\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3002\n\n\u3053\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306f\u3001Bigram\u3084MeCab\u3084JMAT\u3068\u3044\u3046\u98a8\u306b\u8907\u6570\u306e\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u3092\u4f7f\u3044\u5206\u3051\u305f\u3044\u5834\u5408\u306b\u6709\u7528\u3067\u3059\u3002select\u306e\u6642\u70b9\u3067\u306e\u30ab\u30e9\u30e0\u6307\u5b9a\u3067\u7c21\u5358\u306b\u4f7f\u7528\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5207\u308a\u66ff\u3048\u3089\u308c\u308b\u305f\u3081\u3001\u305d\u308c\u305e\u308c\u306e\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u306e\u6027\u80fd\u8a55\u4fa1\u306a\u3069\u304c\u5bb9\u6613\u306b\u306a\u308a\u307e\u3059\u3002\n\nCASE3-2\uff1a\u8907\u6570\u30ab\u30e9\u30e0\u306e\u6307\u5b9a\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u3082\u3001CASE2\u3068\u540c\u69d8\u306b||\u3067\u30ab\u30e9\u30e0\u540d\u3092\u5217\u6319\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070select --table Entries --match_columns Terms.entries_title||Terms.entries_body --query \"Hello Groonga\"\u3068\u3059\u308c\u3070\u3001\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u4f7f\u3063\u305f\u691c\u7d22\u7d50\u679c\u306e\u8ad6\u7406\u548c\u304c\u691c\u7d22\u7d50\u679c\u3068\u3057\u3066\u8fd4\u3055\u308c\u307e\u3059\u3002\n\u3053\u306e\u5834\u5408\u3082\u3001CASE2\u306b\u6bd4\u3079\u3066\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3046\u304b\u3092\u306f\u3063\u304d\u308a\u3068\u660e\u793a\u3067\u304d\u308b\u306e\u304c\u5229\u70b9\u3068\u306a\u308a\u307e\u3059\u3002\n\nCASE3-3\uff1a\u8907\u6570\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u691c\u7d22\n\u8907\u6570\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u5bfe\u3057\u3066\u3001select --table Entries --match_columns Terms.entries_whole --query \"Hello Groonga\"\u306e\u3088\u3046\u306b\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u540d\u3092\u660e\u793a\u305b\u305a\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3060\u3051\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u305d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5171\u6709\u3057\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u3063\u305f\u691c\u7d22\u304c\u884c\u308f\u308c\u307e\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u306e\u4f8b\u3060\u3068\u3001\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092||\u3067\u5217\u6319\u3057\u3066select --table Entries --match_columns Terms.entries_title||Terms.entries_body --query \"Hello Groonga\"\u3068\u6307\u5b9a\u3057\u305f\u5834\u5408\u3068\u691c\u7d22\u7d50\u679c\u3068\u3057\u3066\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u691c\u7d22\u51e6\u7406\u306e\u52b9\u7387\u306e\u70b9\u3067\u306f\u9055\u3044\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n--match_columns Terms.entries_title||Terms.entries_body\n\u2192\u305d\u308c\u305e\u308c\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u500b\u5225\u306b\u691c\u7d22\u3092\u884c\u3044\u3001\u305d\u306e\u8ad6\u7406\u548c\u3092\u8fd4\u3059\u30022\u56de\u691c\u7d22\u3059\u308b\u306e\u3067\u6642\u9593\u304c\u304b\u304b\u308b\u3002\n\n--match_columns Terms.entries_whole\n\u2192\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30bb\u30af\u30b7\u30e7\u30f3ID\u3092\u7121\u8996\u3057\u3066\u30de\u30c3\u30c1\u30f3\u30b0\u3092\u884c\u3044\u3001\u691c\u7d22\u7d50\u679c\u3092\u8fd4\u3059\u3002\u691c\u7d22\u304c1\u56de\u3067\u6e08\u3080\u306e\u3067\u9ad8\u901f\u3002\n\n\u305f\u3060\u3001\u8907\u6570\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3092\u5358\u72ec\u3067\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3054\u3068\u306e\u91cd\u307f\u4ed8\u3051\u306f\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u91cd\u307f\u4ed8\u3051\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u306f\u3053\u3061\u3089\u306e\u6307\u5b9a\u3067\u306f\u306a\u304f\u3001CASE2\u3084CASE3-2\u306e\u3088\u3046\u306b\u5404\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3084\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3092\u5217\u6319\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u307e\u3068\u3081\n--match_columns\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3064\u3044\u3066\u3001\u3044\u304f\u3064\u304b\u306e\u30d1\u30bf\u30fc\u30f3\u306e\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\u3092\u305d\u308c\u305e\u308c\u89e3\u8aac\u3057\u307e\u3057\u305f\u3002\n\u3061\u306a\u307f\u306b\u3001--match_columns\u306b\u306f\u3053\u306e\u4ed6\u306b\u3001\u540c\u4e00\u30c6\u30fc\u30d6\u30eb\u306e\u8907\u6570\u30ab\u30e9\u30e0\u3067\u306f\u7121\u304f\u3001\u8907\u6570\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u30ab\u30e9\u30e0\u3092\u307e\u305f\u3044\u3060\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6307\u5b9a\u3059\u308b\u4f7f\u3044\u65b9\u3082\u3042\u308a\u307e\u3059\u3002\u9577\u304f\u306a\u308b\u306e\u3067\u8aac\u660e\u306f\u7701\u7565\u3057\u307e\u3059\u304c\u3001\u3053\u3061\u3089\u306e\u65b9\u6cd5\u3067\u306f\u300c\u30d6\u30ed\u30b0\u306e\u30b3\u30e1\u30f3\u30c8\u6b04\u306e\u5185\u5bb9\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3057\u3066\u3001\u305d\u306e\u89aa\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u691c\u7d22\u7d50\u679c\u3068\u3057\u3066\u5f97\u308b\u300d\u3068\u3044\u3046\u3088\u3046\u306a\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u3001\u30ea\u30f3\u30af\u5148\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3082\u3054\u89a7\u4e0b\u3055\u3044\u3002\n--match_columns\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u3092\u5de5\u592b\u3059\u308b\u3068\u3001Groonga\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u3088\u308a\u52b9\u679c\u7684\u306b\u6d3b\u7528\u3067\u304d\u307e\u3059\u3002Groonga\u306f\u3053\u306e\u3088\u3046\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u8a73\u7d30\u3092\u7406\u89e3\u3057\u305f\u4e0a\u3067\u306e\u304d\u3081\u7d30\u3084\u304b\u306a\u6307\u5b9a\u306b\u3088\u3063\u3066\u3001\u30a8\u30f3\u30b8\u30f3\u306e\u6027\u80fd\u3092\u9650\u754c\u307e\u3067\u5f15\u304d\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u304c\u7279\u9577\u3067\u3059\u3002\u300c\u306a\u3093\u304b\u3060\u304b\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3051\u3069\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3046\u3068\u691c\u7d22\u304c\u65e9\u304f\u306a\u308b\u300d\u3068\u3044\u3046\u30ec\u30d9\u30eb\u306e\u7406\u89e3\u304b\u3089\u4e00\u6b69\u8e0f\u307f\u8fbc\u3093\u3067\u3001\u7686\u3055\u3093\u3082\u305c\u3072\u8a08\u7b97\u6a5f\u8cc7\u6e90\u3092\u6709\u52b9\u306b\u5229\u7528\u3057\u3066\u4e0b\u3055\u3044\u3002\n\u4ee5\u4e0a\u3001Groonga Advent Calendar 2016 16\u65e5\u76ee\u3068\u3057\u3066--match_columns\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3088\u308b\u691c\u7d22\u52d5\u4f5c\u306e\u5909\u5316\u3092\u89e3\u8aac\u3057\u307e\u3057\u305f\u3002\u5f15\u304d\u7d9a\u304dGroonga Advent Calendar\u3092\u304a\u697d\u3057\u307f\u4e0b\u3055\u3044\uff01\n[\u524d\u65e5\u306e\u8a18\u4e8b](http://qiita.com/groonga/items/dfc1e170a9cb53de53cc)\u3067\u306f\u3001Groonga\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u69cb\u9020\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u305f\u691c\u7d22\u306e\u4ed5\u65b9\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u8ff0\u3079\u307e\u3057\u305f\u3002[Groonga Advent Calendar 2016](http://qiita.com/advent-calendar/2016/groonga) 16\u65e5\u76ee\u306e\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u305d\u306e\u7d9a\u304d\u3068\u3057\u3066\u3001`select`\u30b3\u30de\u30f3\u30c9\u306e`--match_columns`\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3088\u308b\u691c\u7d22\u306e\u52d5\u4f5c\u306e\u9055\u3044\u3092\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\n\n\u540c\u3058\u30ab\u30e9\u30e0\u5bfe\u3057\u3066\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u3084\u3001\u540c\u3058\u30c6\u30fc\u30d6\u30eb\u306e\u8907\u6570\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u691c\u7d22\u3092\u884c\u3046\u5834\u5408\u3001`--match_columns`\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3088\u3063\u3066\u884c\u308f\u308c\u308b\u691c\u7d22\u51e6\u7406\u306e\u5b9f\u614b\u304c\u5927\u304d\u304f\u5909\u308f\u308a\u307e\u3059\u3002\u9069\u5207\u306b\u6307\u5b9a\u3057\u306a\u3044\u3068\u3001\u305b\u3063\u304b\u304f\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6d3b\u304b\u305b\u305a\u7121\u99c4\u306b\u6642\u9593\u3084\u30ea\u30bd\u30fc\u30b9\u3092\u6d88\u8cbb\u3057\u3066\u3057\u307e\u3046\u3053\u3068\u306b\u3082\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u89e3\u8aac\u3092\u898b\u3066\u3001\u76ee\u7684\u306b\u5fdc\u3058\u305f\u3088\u308a\u9069\u5207\u306a`--match_columns`\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u3092\u628a\u63e1\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u306a\u304a\u3001\u4ee5\u4e0b\u306e\u8aac\u660e\u306f`--filter`\u3067\u4f7f\u7528\u3067\u304d\u308b[\u30b9\u30af\u30ea\u30d7\u30c8\u69cb\u6587\u306e`query()`\u95a2\u6570](http://groonga.org/ja/docs/reference/functions/query.html)\u306e\u7b2c1\u5f15\u6570\u306e\u6307\u5b9a\u306b\u3082\u5f53\u3066\u306f\u307e\u308a\u307e\u3059\u3002`--filter`\u306e\u65b9\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u3001\u9069\u5b9c\u8aac\u660e\u3092\u8aad\u307f\u66ff\u3048\u3066\u4e0b\u3055\u3044\u3002\n\n## \u6e96\u5099\n\n\u5b9f\u9a13\u7528\u306b\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8907\u6570\u6301\u3064\u30c6\u30fc\u30d6\u30eb\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\n~~~bash:\n$ cat dump.grn\ntable_create Entries TABLE_HASH_KEY ShortText\ncolumn_create Entries title COLUMN_SCALAR ShortText\ncolumn_create Entries body COLUMN_SCALAR ShortText\nload --table Entries\n[\n[\"_key\",\"title\",\"body\"],\n[\"http://example.com/entry1\",\"Hello Groonga.\", \"This is my first entry.\"],\n[\"http://example.com/entry2\",\"Hello world.\",\"I love Groonga!\"],\n[\"http://example.com/entry3\",\"Hello Mroonga, bye Groonga.\",\"I use Mroonga.\"],\n[\"http://example.com/entry4\",\"Say, Hello Groonga!\",\"I'm back.\"]\n]\ntable_create Terms TABLE_PAT_KEY ShortText --default_tokenizer TokenBigram --normalizer NormalizerAuto\ncolumn_create Terms entries_title COLUMN_INDEX|WITH_POSITION Entries title\ncolumn_create Terms entries_body COLUMN_INDEX|WITH_POSITION Entries body\ncolumn_create Terms entries_whole COLUMN_INDEX|WITH_POSITION|WITH_SECTION Entries title,body\n$ rm -rf /tmp/groonga-databases\n$ mkdir -p /tmp/groonga-databases\n$ groonga -n /tmp/groonga-databases/database.db quit\n$ cat dump.grn | groonga /tmp/groonga-databases/database.db\n~~~\n\n\u3053\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u5185\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5185\u5bb9\u3092\u6301\u3064`Entries`\u3068\u3044\u3046\u30c6\u30fc\u30d6\u30eb\u304c\u3042\u308a\u307e\u3059\u3002\n\n| _id | _key | title (sid=1) | body (sid=2) |\n|:-:|:-:|:-:|:-:|\n| 1 | http://example.com/entry1 | Hello Groonga. | This is my first entry. |\n| 2 | http://example.com/entry2 | Hello world. | I love Groonga! |\n| 3 | http://example.com/entry3 | Hello Mroonga, bye Groonga. | I use Mroonga. |\n| 4 | http://example.com/entry4 | Say, Hello Groonga! | I'm back. |\n\n\u307e\u305f\u3001\u3053\u306e`Entries`\u30c6\u30fc\u30d6\u30eb\u306e`title`\u3068`body`\u306e\u5404\u30ab\u30e9\u30e0\u306b\u5bfe\u3057\u3066\u3001\u8a9e\u5f59\u8868\u306e`Terms`\u30c6\u30fc\u30d6\u30eb\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a3\u3064\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n| _key | entries_title | entries_body | entries_whole |\n|:-:|:-:|:-:|:-:|\n| Hello | [id=1,pos=1], [id=2,pos=1], [id=3,pos=1], [id=4,pos=2] |  | [id=1,pos=1,sid=1], [id=2,pos=1,sid=1], [id=3,pos=1,sid=1], [id=4,pos=2,sid=1] |\n| Groonga | [id=1,pos=2], [id=3,pos=4], [id=4,pos=3] | [id=2,pos=3] | [id=1,pos=2,sid=1], [id=3,pos=4,sid=1], [id=4,pos=3,sid=1], [id=2,pos=3,sid=2] |\n| world | [id=2,pos=2] |  | [id=2,pos=2,sid=1] |\n| bye | [id=3,pos=3] |  | [id=3,pos=3,sid=1] |\n| Mroonga | [id=3,pos=2] | [id=3,pos=3] | [id=3,pos=2,sid=1], [id=3,pos=3,sid=2] |\n| Say | [id=4,pos=1] | | [id=4,pos=1,sid=1] |\n\n\u3053\u3053\u3067\u306f\u7c21\u5358\u306e\u305f\u3081\u3001`title`\u30ab\u30e9\u30e0\u7531\u6765\u306e\u30c8\u30fc\u30af\u30f3\u306b\u57fa\u3065\u304f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u60c5\u5831\u3060\u3051\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u8907\u6570\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3063\u3066\u4f55\uff1f\u3068\u3044\u3046\u65b9\u306f\u3001\u5148\u306b[\u524d\u65e5\u306e\u8a18\u4e8b](http://qiita.com/groonga/items/dfc1e170a9cb53de53cc)\u306e\u65b9\u3092\u3054\u89a7\u4e0b\u3055\u3044\u3002\n\n\u4ee5\u4e0b\u3001\u3053\u308c\u3092\u6750\u6599\u306b\u3057\u3066`--match_columns`\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3088\u308b\u691c\u7d22\u306e\u52d5\u4f5c\u306e\u9055\u3044\u3092\u89e3\u8aac\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n## CASE1\uff1a\u5358\u72ec\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\n\n`--match_columns`\u306e\u4f7f\u3044\u65b9\u3067\u6700\u3082\u4e00\u822c\u7684\u306a\u306e\u306f\u3001`select --table Entries --match_columns title --query \"Hello Groonga\"`\u3068\u3044\u3046\u3088\u3046\u306a\u3001*\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306e\u540d\u524d\u30921\u3064\u3060\u3051\u6307\u5b9a\u3059\u308b*\u66f8\u304d\u65b9\u3067\u3057\u3087\u3046\u3002\n\n\u3053\u306e\u6642Groonga\u306f\u3001*\u305d\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306b\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u81ea\u52d5\u7684\u306b\u63a2\u3057\u51fa\u3057\u3066*\u3001\u305d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u3066[\u524d\u65e5\u306e\u8a18\u4e8b](http://qiita.com/groonga/items/dfc1e170a9cb53de53cc)\u3067\u8ff0\u3079\u305f\u3088\u3046\u306a\u691c\u7d22\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u3053\u3053\u30671\u3064\u7591\u554f\u304c\u6d6e\u304b\u3073\u307e\u3059\u3002\u300c\u81ea\u52d5\u7684\u306b\u300d\u3068\u8a00\u3044\u307e\u3057\u305f\u304c\u3001\u3053\u306e\u8a18\u4e8b\u306e\u4f8b\u306e\u3088\u3046\u306b*1\u3064\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306b\u5bfe\u3057\u3066\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u3042\u308b\u5834\u5408*\u306b\u306f\u3001\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u308b\u306e\u3067\u3057\u3087\u3046\u304b\uff1f\n\n\u7d50\u8ad6\u304b\u3089\u8a00\u3046\u3068\u3001*\u305d\u306e\u5834\u5408\u306e\u52d5\u4f5c\u306f\u4e0d\u5b9a\u3067\u3059*\u3002\n\n\u5b9f\u969b\u306e\u6240\u3001Groonga 6.1.1\u306e\u5834\u5408\u306f\u300c\u6700\u5f8c\u306b\u4f5c\u3089\u308c\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u81ea\u52d5\u9078\u629e\u3055\u308c\u308b\u300d\u3068\u3044\u3046\u7d50\u679c\u306b\u306a\u308a\u307e\u3059\u3002\u304c\u3001\u3053\u308c\u306f\u305f\u307e\u305f\u307e\u305d\u306e\u3088\u3046\u306a\u7d50\u679c\u306b\u306a\u308b\u5b9f\u88c5\u304c\u306a\u3055\u308c\u3066\u3044\u308b\u3068\u3044\u3046\u3060\u3051\u3067\u3001*\u7279\u306b\u4ed5\u69d8\u3068\u3057\u3066\u305d\u306e\u3088\u3046\u306a\u52d5\u4f5c\u304c\u4fdd\u8a3c\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093*\u3002\u306a\u306e\u3067\u3001\u5c06\u6765\u7684\u306b\u306f\u52d5\u4f5c\u304c\u5909\u308f\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u4ee5\u4e0a\u3092\u8e0f\u307e\u3048\u308b\u3068\u3001\u5b89\u5b9a\u3057\u305f\u691c\u7d22\u7d50\u679c\u3092\u8fd4\u3059\u305f\u3081\u306b\u306f\u3001*1\u3064\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306b\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u8907\u6570\u3042\u308b\u5834\u5408\u306f`--match_columns`\u3067\u305d\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u540d\u3092\u6307\u5b9a\u3059\u308b\u306e\u306f\u907f\u3051\u305f\u65b9\u304c\u3088\u3044*\u3068\u3044\u3046\u3053\u3068\u304c\u8a00\u3048\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3067\u306f\u3001\u5f8c\u8ff0\u3059\u308b*\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3092\u6307\u5b9a\u3059\u308b\u65b9\u6cd5*\u3092\u53d6\u308b\u306e\u304c\u304a\u52e7\u3081\u3067\u3059\u3002\n\n\n## CASE2\uff1a\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\n\n`--match_columns`\u306b\u306f\u3001`select --table Entries --match_columns title||body --query \"Hello Groonga\"`\u306e\u3088\u3046\u306b\u3001*`||`\u3067\u533a\u5207\u3063\u3066\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u540d\u3092\u5217\u6319\u3059\u308b\u66f8\u304d\u65b9*\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3053\u306e\u6642Groonga\u306f\u3001*\u305d\u308c\u305e\u308c\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306b\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u81ea\u52d5\u7684\u306b\u63a2\u3057\u51fa\u3057\u3066*\u3001\u305d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u3066\u500b\u5225\u306b\u691c\u7d22\u3092\u884c\u3044\u3001\u305d\u308c\u3089\u306e\u7d50\u679c\u306e\u8ad6\u7406\u548c\u3092\u6700\u7d42\u7684\u306a\u691c\u7d22\u7d50\u679c\u3068\u3057\u3066\u8fd4\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001*\u8907\u6570\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u3063\u305f\u691c\u7d22\u3092\u884c\u3044\u307e\u3059*\u3002\n\n\u3053\u306e\u6642\u3082\u3001\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u306e\u540d\u524d\u304b\u3089\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4e00\u610f\u306b\u7279\u5b9a\u3067\u304d\u306a\u3044\u5834\u5408\u306b\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u4f7f\u308f\u308c\u308b\u304b\u306f*\u4e0d\u5b9a*\u3067\u3059\u3002\u5b89\u5b9a\u3057\u305f\u691c\u7d22\u7d50\u679c\u3092\u8fd4\u3059\u305f\u3081\u306b\u306f\u3001\u3053\u3061\u3089\u3082\u5f8c\u8ff0\u3059\u308b*\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3092\u6307\u5b9a\u3059\u308b\u65b9\u6cd5*\u3092\u53d6\u308b\u4e8b\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\n\n\n## CASE3\uff1a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\n\n### CASE3-1\uff1a\u5358\u72ec\u30ab\u30e9\u30e0\u306e\u6307\u5b9a\n\n\u4eca\u306e\u6240\u307e\u3060\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u7b49\u306b\u8a73\u3057\u3044\u8aac\u660e\u3092\u7528\u610f\u3067\u304d\u3066\u3044\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u5b9f\u306f`--match_columns`\u306b\u306f*\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3082\u6307\u5b9a\u3067\u304d\u307e\u3059*\u3002\u3053\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u3067\u3042\u308c\u3070\u3001\u540c\u3058\u30ab\u30e9\u30e0\u306b\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u3042\u308b\u5834\u5408\u3067\u3082\u3001\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3046\u304b\u660e\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u7279\u5b9a\u306e\u30ab\u30e9\u30e0\u306b\u7d50\u3073\u4ed8\u3044\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6307\u5b9a\u3059\u308c\u3070\u3001\u305d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3063\u3066\u3001\u6697\u9ed9\u7684\u306b\u305d\u306e\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n * `select --table Entries --match_columns Terms.entries_title --query \"Hello Groonga\"`\n   \u2192`Terms.entries_title`\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u4f7f\u3044\u3001\u6697\u9ed9\u7684\u306b`title`\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3002\n * `select --table Entries --match_columns Terms.entries_body --query \"Hello Groonga\"`\n   \u2192`Terms.entries_body`\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u4f7f\u3044\u3001\u6697\u9ed9\u7684\u306b`body`\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3002\n\n\u8907\u6570\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u306f\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u306e\u5f8c\u306b\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u540d\u3092\u6307\u5b9a\u3057\u3066\u300c\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3044\u3001\u3069\u306e\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u304b\u300d\u3092\u660e\u793a\u3067\u304d\u307e\u3059\u3002\n\n * `select --table Entries --match_columns Terms.entries_whole.title --query \"Hello Groonga\"`\n   \u2192`Terms.entries_whole`\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u4f7f\u3044\u3001\u660e\u793a\u7684\u306b`title`\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3002\n * `select --table Entries --match_columns Terms.entries_whole.body --query \"Hello Groonga\"`\n   \u2192`Terms.entries_whole`\u3092\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u4f7f\u3044\u3001\u660e\u793a\u7684\u306b`body`\u30ab\u30e9\u30e0\u3060\u3051\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3059\u308b\u3002\n\n\u3053\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306f\u3001Bigram\u3084MeCab\u3084[JMAT](https://github.com/groonga/groonga-jmat \"groonga/groonga-jmat: Groonga plugins to integrate with JMAT\")\u3068\u3044\u3046\u98a8\u306b\u8907\u6570\u306e\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u3092\u4f7f\u3044\u5206\u3051\u305f\u3044\u5834\u5408\u306b\u6709\u7528\u3067\u3059\u3002`select`\u306e\u6642\u70b9\u3067\u306e\u30ab\u30e9\u30e0\u6307\u5b9a\u3067\u7c21\u5358\u306b\u4f7f\u7528\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5207\u308a\u66ff\u3048\u3089\u308c\u308b\u305f\u3081\u3001\u305d\u308c\u305e\u308c\u306e\u30c8\u30fc\u30af\u30ca\u30a4\u30b6\u30fc\u306e\u6027\u80fd\u8a55\u4fa1\u306a\u3069\u304c\u5bb9\u6613\u306b\u306a\u308a\u307e\u3059\u3002\n\n### CASE3-2\uff1a\u8907\u6570\u30ab\u30e9\u30e0\u306e\u6307\u5b9a\n\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u3082\u3001CASE2\u3068\u540c\u69d8\u306b`||`\u3067\u30ab\u30e9\u30e0\u540d\u3092\u5217\u6319\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070`select --table Entries --match_columns Terms.entries_title||Terms.entries_body --query \"Hello Groonga\"`\u3068\u3059\u308c\u3070\u3001\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u3092\u4f7f\u3063\u305f\u691c\u7d22\u7d50\u679c\u306e\u8ad6\u7406\u548c\u304c\u691c\u7d22\u7d50\u679c\u3068\u3057\u3066\u8fd4\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u306e\u5834\u5408\u3082\u3001CASE2\u306b\u6bd4\u3079\u3066\u3069\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3046\u304b\u3092\u306f\u3063\u304d\u308a\u3068\u660e\u793a\u3067\u304d\u308b\u306e\u304c\u5229\u70b9\u3068\u306a\u308a\u307e\u3059\u3002\n\n### CASE3-3\uff1a\u8907\u6570\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u691c\u7d22\n\n\u8907\u6570\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u5bfe\u3057\u3066\u3001`select --table Entries --match_columns Terms.entries_whole --query \"Hello Groonga\"`\u306e\u3088\u3046\u306b*\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u540d\u3092\u660e\u793a\u305b\u305a\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3060\u3051\u3092\u6307\u5b9a*\u3057\u305f\u5834\u5408\u3001*\u305d\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5171\u6709\u3057\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u3063\u305f\u691c\u7d22*\u304c\u884c\u308f\u308c\u307e\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u306e\u4f8b\u3060\u3068\u3001\u8907\u6570\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092`||`\u3067\u5217\u6319\u3057\u3066`select --table Entries --match_columns Terms.entries_title||Terms.entries_body --query \"Hello Groonga\"`\u3068\u6307\u5b9a\u3057\u305f\u5834\u5408\u3068\u691c\u7d22\u7d50\u679c\u3068\u3057\u3066\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001*\u691c\u7d22\u51e6\u7406\u306e\u52b9\u7387*\u306e\u70b9\u3067\u306f\u9055\u3044\u304c\u3042\u308a\u307e\u3059\u3002\n\n * `--match_columns Terms.entries_title||Terms.entries_body`\n   \u2192\u305d\u308c\u305e\u308c\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3067\u500b\u5225\u306b\u691c\u7d22\u3092\u884c\u3044\u3001\u305d\u306e\u8ad6\u7406\u548c\u3092\u8fd4\u3059\u30022\u56de\u691c\u7d22\u3059\u308b\u306e\u3067\u6642\u9593\u304c\u304b\u304b\u308b\u3002\n * `--match_columns Terms.entries_whole`\n   \u2192\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u30bb\u30af\u30b7\u30e7\u30f3ID\u3092\u7121\u8996\u3057\u3066\u30de\u30c3\u30c1\u30f3\u30b0\u3092\u884c\u3044\u3001\u691c\u7d22\u7d50\u679c\u3092\u8fd4\u3059\u3002\u691c\u7d22\u304c1\u56de\u3067\u6e08\u3080\u306e\u3067\u9ad8\u901f\u3002\n\n\u305f\u3060\u3001\u8907\u6570\u30ab\u30e9\u30e0\u306b\u307e\u305f\u304c\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3092\u5358\u72ec\u3067\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001[\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3054\u3068\u306e\u91cd\u307f\u4ed8\u3051](http://groonga.org/ja/docs/reference/commands/select.html#select-match-columns)\u306f\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u91cd\u307f\u4ed8\u3051\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u306f\u3053\u3061\u3089\u306e\u6307\u5b9a\u3067\u306f\u306a\u304f\u3001CASE2\u3084CASE3-2\u306e\u3088\u3046\u306b\u5404\u30c7\u30fc\u30bf\u30ab\u30e9\u30e0\u3084\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30ab\u30e9\u30e0\u540d\u3092\u5217\u6319\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n## \u307e\u3068\u3081\n\n`--match_columns`\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3064\u3044\u3066\u3001\u3044\u304f\u3064\u304b\u306e\u30d1\u30bf\u30fc\u30f3\u306e\u30e1\u30ea\u30c3\u30c8\u30fb\u30c7\u30e1\u30ea\u30c3\u30c8\u3092\u305d\u308c\u305e\u308c\u89e3\u8aac\u3057\u307e\u3057\u305f\u3002\n\n\u3061\u306a\u307f\u306b\u3001`--match_columns`\u306b\u306f\u3053\u306e\u4ed6\u306b\u3001[\u540c\u4e00\u30c6\u30fc\u30d6\u30eb\u306e\u8907\u6570\u30ab\u30e9\u30e0\u3067\u306f\u7121\u304f\u3001\u8907\u6570\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u30ab\u30e9\u30e0\u3092\u307e\u305f\u3044\u3060\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6307\u5b9a\u3059\u308b\u4f7f\u3044\u65b9](http://groonga.org/ja/docs/tutorial/match_columns.html#nested-index-search-among-related-table-by-column-index)\u3082\u3042\u308a\u307e\u3059\u3002\u9577\u304f\u306a\u308b\u306e\u3067\u8aac\u660e\u306f\u7701\u7565\u3057\u307e\u3059\u304c\u3001\u3053\u3061\u3089\u306e\u65b9\u6cd5\u3067\u306f\u300c\u30d6\u30ed\u30b0\u306e\u30b3\u30e1\u30f3\u30c8\u6b04\u306e\u5185\u5bb9\u3092\u5bfe\u8c61\u306b\u691c\u7d22\u3057\u3066\u3001\u305d\u306e\u89aa\u30a8\u30f3\u30c8\u30ea\u30fc\u3092\u691c\u7d22\u7d50\u679c\u3068\u3057\u3066\u5f97\u308b\u300d\u3068\u3044\u3046\u3088\u3046\u306a\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u8208\u5473\u306e\u3042\u308b\u65b9\u306f\u3001\u30ea\u30f3\u30af\u5148\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3082\u3054\u89a7\u4e0b\u3055\u3044\u3002\n\n`--match_columns`\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u3092\u5de5\u592b\u3059\u308b\u3068\u3001Groonga\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u3088\u308a\u52b9\u679c\u7684\u306b\u6d3b\u7528\u3067\u304d\u307e\u3059\u3002Groonga\u306f\u3053\u306e\u3088\u3046\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u8a73\u7d30\u3092\u7406\u89e3\u3057\u305f\u4e0a\u3067\u306e\u304d\u3081\u7d30\u3084\u304b\u306a\u6307\u5b9a\u306b\u3088\u3063\u3066\u3001\u30a8\u30f3\u30b8\u30f3\u306e\u6027\u80fd\u3092\u9650\u754c\u307e\u3067\u5f15\u304d\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u304c\u7279\u9577\u3067\u3059\u3002\u300c\u306a\u3093\u304b\u3060\u304b\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3051\u3069\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f7f\u3046\u3068\u691c\u7d22\u304c\u65e9\u304f\u306a\u308b\u300d\u3068\u3044\u3046\u30ec\u30d9\u30eb\u306e\u7406\u89e3\u304b\u3089\u4e00\u6b69\u8e0f\u307f\u8fbc\u3093\u3067\u3001\u7686\u3055\u3093\u3082\u305c\u3072\u8a08\u7b97\u6a5f\u8cc7\u6e90\u3092\u6709\u52b9\u306b\u5229\u7528\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n\u4ee5\u4e0a\u3001[Groonga Advent Calendar 2016](http://qiita.com/advent-calendar/2016/groonga) 16\u65e5\u76ee\u3068\u3057\u3066`--match_columns`\u306e\u6307\u5b9a\u306e\u4ed5\u65b9\u306b\u3088\u308b\u691c\u7d22\u52d5\u4f5c\u306e\u5909\u5316\u3092\u89e3\u8aac\u3057\u307e\u3057\u305f\u3002\u5f15\u304d\u7d9a\u304dGroonga Advent Calendar\u3092\u304a\u697d\u3057\u307f\u4e0b\u3055\u3044\uff01\n", "tags": ["groonga"]}