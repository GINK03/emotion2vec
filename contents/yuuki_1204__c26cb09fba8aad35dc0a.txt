{"context": "\n\n \u306f\u3058\u3081\u306b\nPyCon JP 2016\u306b\u53c2\u52a0\u3057\u3066\u304d\u307e\u3057\u305f\uff01\u5927\u5909\u30e2\u30c1\u30d9\u30fc\u30b7\u30e7\u30f3\u304c\u4e0a\u304c\u3063\u305f\uff01\u306e\u3067\u66f4\u65b0\u3057\u307e\u3059\u2190\n\u3061\u306a\u307f\u306bPyCon\u3067\u52c9\u5f37\u3057\u3066\u304d\u305f\u3053\u3068\u3082\u3001\u8ffd\u3005\u6574\u7406&\u52d5\u304b\u3057\u3066\u307f\u3066\u3001\u8a18\u4e8b\u306b\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4eca\u56de\u306f\u300c\u30c7\u30fc\u30bf\u6e96\u5099\u7de8\u300d\u306e\u7d9a\u304d\u3067\u3001Twitter\u306e\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u2026\u3059\u308b\u524d\u306b\u3001\u30c7\u30fc\u30bf\u524d\u51e6\u7406\u3068\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u540c\u58eb\u306e\u7c21\u5358\u306a\u985e\u4f3c\u5ea6\u7b97\u51fa\u3092\u3057\u3066\u307f\u307e\u3059\u3002\n\n \u3054\u6ce8\u610f\uff01(\u524d\u56de\u3068\u540c\u3058)\n\n\u7406\u8ad6\u3088\u308a\u3082\u3001\u3068\u308a\u3042\u3048\u305a\u89e6\u3063\u3066\u7406\u89e3\u3059\u308b\u3084\u308a\u65b9\u304c\u597d\u304d\u306a\u306e\u3067\u3001\u8272\u3005\u3068\u96d1\u3067\u3059\u3002\n\u3055\u3089\u306b\u6587\u76f2\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u5206\u304b\u308a\u3065\u3089\u3044\u6587\u7ae0\u306b\u306a\u308b\u3068\u601d\u3063\u3066\u307e\u3059\u3002\n\u305d\u3093\u306a\u8a33\u3067\u8aad\u3093\u3067\u3066\u30c4\u30c3\u30b3\u30df\u305f\u304f\u306a\u308b\u5185\u5bb9\u306f\u591a\u3005\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3054\u4e86\u627f\u9802\u304d\u305f\u304f\uff01\n\u203b\u512a\u3057\u3044\u30c4\u30c3\u30b3\u30df\u306f\u5927\u6b53\u8fce\u3067\u3059\n\n\n 3\u884c\u3067\u307e\u3068\u3081\n\n\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u524d\u51e6\u7406\u3068\u3057\u3066\u3001\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u6570\u5024(\u30d9\u30af\u30c8\u30eb)\u5316\u3057\u305f\u3002\n\u6570\u5024\u5316\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u540c\u58eb\u3067\u3001\u985e\u4f3c\u5ea6\u3092\u8a08\u7b97\u3057\u3066\u307f\u305f\u3002\n\u6b21\u56de\u304b\u3089\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3067\u304d\u308b\uff01(\u306f\u305a)\n\n\n \u306a\u305c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306b\u3057\u305f\u304b\uff1f\u624b\u6cd5\u306f\uff1f\n\u307e\u305a\u3001\u306a\u305c\u6a5f\u68b0\u5b66\u7fd2\u306e\u4e2d\u304b\u3089\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u3088\u3046\u3068\u3057\u305f\u304b\u3001\u80cc\u666f\u3092\u7c21\u5358\u306b\u3002\n\u3068\u308a\u3042\u3048\u305a\u30c7\u30fc\u30bf\u3092\u6e96\u5099\u3057\u305f\u306f\u826f\u3044\u3082\u306e\u306e\u3001\u6a5f\u68b0\u5b66\u7fd2\u3092\u4f7f\u3046\u3068\u4f55\u304c\u51fa\u6765\u308b\u306e\u304b\u3001\u3069\u3093\u306a\u624b\u6cd5\u304c\u3042\u308b\u306e\u304b\u5168\u7136\u77e5\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u8272\u3005\u8abf\u3079\u305f\u6240\u3001scikit-learn\u306e\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8\u3092\u5143\u306b\u5206\u304b\u308a\u3084\u3059\u304f\u7e8f\u3081\u3089\u308c\u3066\u3044\u305f\u300cscikit-learn \u304b\u3089\u5b66\u3076\u6a5f\u68b0\u5b66\u7fd2\u306e\u624b\u6cd5\u306e\u6982\u8981\u300d\u306b\u884c\u304d\u7740\u304d\u307e\u3057\u305f\u3002\n\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8\u306b\u3088\u308b\u3068scikit-learn\u3067\u51fa\u6765\u308b\u3053\u3068\u3068\u3057\u3066\u300c\u5206\u985e\u300d\u300c\u56de\u5e30\u300d\u300c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u300d\u300c\u6b21\u5143\u524a\u6e1b\u300d\u304c\u3042\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n\n\n\u5206\u985e (Classification) - \u30e9\u30d9\u30eb\u3068\u30c7\u30fc\u30bf\u3092\u5b66\u7fd2\u3057\u3001\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u306e\u30e9\u30d9\u30eb\u3092\u4e88\u6e2c\u3059\u308b\u3002\n\u56de\u5e30 (Regression) - \u5b9f\u6570\u5024\u3092\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2\u3057\u3066\u3001\u5b9f\u6570\u5024\u3092\u4e88\u6e2c\u3059\u308b\u3002\n\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0 (Clustering) - \u30c7\u30fc\u30bf\u306e\u4f3c\u3066\u3044\u308b\u3082\u306e\u540c\u58eb\u3092\u307e\u3068\u3081\u3066\u3001\u30c7\u30fc\u30bf\u306e\u69cb\u9020\u3092\u767a\u898b\u3059\u308b\u3002\n\u6b21\u5143\u524a\u6e1b (Dimensionality reduction) - \u30c7\u30fc\u30bf\u306e\u6b21\u5143\u3092\u524a\u6e1b\u3057\u3066\u3001\u8981\u56e0\u3092\u767a\u898b (\u4e3b\u6210\u5206\u5206\u6790\u306a\u3069) \u3057\u305f\u308a\u3001\u4ed6\u306e\u624b\u6cd5\u306e\u5165\u529b\u306b\u4f7f\u3046 (\u6b21\u5143\u306e\u546a\u3044\u56de\u907f)\u3002\n\n\n\u3053\u306e\u4e2d\u3067 \u300c\u56de\u5e30\u300d\u300c\u6b21\u5143\u524a\u6e1b\u300d\u306f\u5b57\u9762\u304b\u3089\u3057\u3066\u96e3\u3057\u305d\u3046\u306a\u306e\u3067\u5374\u4e0b\u3067\u3001 \u76f4\u611f\u7684\u306b\u4e00\u756a\u5206\u304b\u308a\u3084\u3059\u305d\u3046\u306a\u300c\u5206\u985e\u300d\u300c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u300d\u3069\u3061\u3089\u304b\u306b\u3057\u3088\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u3002(\u3068\u308a\u3042\u3048\u305a\u52d5\u304b\u3057\u3066\u307f\u305f\u3044\uff01\u3068\u3044\u3046\u306e\u304c\u5f53\u9762\u306e\u76ee\u7684\u306a\u306e\u3067\u2026\u7b11)\n\u6700\u521d\u300c\u5206\u985e\u300d\u3068\u300c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u300d\u306e\u9055\u3044\u3059\u3089\u3042\u307e\u308a\u5206\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8\u306b\u3088\u308b\u3068\u6559\u5e2b\u30c7\u30fc\u30bf\u6709\u308a\u306e\u5834\u5408\u306f\u300c\u5206\u985e\u300d\u3001\u7121\u3057\u306e\u5834\u5408\u306f\u300c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u300d\u3092\u4f7f\u3046\u3068\u826f\u3044\u3088\u3046\u3067\u3059\u3002\n\u30c4\u30a4\u30fc\u30c8\u306e\u5206\u985e\u306b\u4f7f\u3048\u305d\u3046\u306a\u6559\u5e2b\u30c7\u30fc\u30bf\u306f \u63a2\u3059\u306e\u9762\u5012 \u6b8b\u5ff5\u306a\u304c\u3089\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306b\u6c7a\u5b9a\u3057\u305f\u8a33\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u6982\u5ff5\u7684\u306a\u9055\u3044\u306f\u300c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3068\u30af\u30e9\u30b9\u5206\u985e\u300d\u306b\u8a73\u3057\u304f\u66f8\u304b\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\u6b21\u306b\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u624b\u6cd5\u3067\u3059\u304c\u3001Twitter\u306e\u30c7\u30fc\u30bf\u3092\u3044\u304f\u3064\u306b\u5206\u3051\u3089\u308c\u308b\u304b(\u30af\u30e9\u30b9\u30bf\u304c\u3044\u304f\u3064\u306b\u306a\u308b\u304b)\u306f\u4e8b\u524d\u306b\u5206\u304b\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u672c\u6765\u306f\u300cMean shift\u300d\u7b49\u3092\u4f7f\u3046\u3079\u304d\u306a\u306e\u3067\u3057\u3087\u3046\u304c\u3001\u307e\u305a\u306f\u53c2\u8003\u60c5\u5831\u304c\u591a\u3044\u300cKMeans\u300d\u3067\u3084\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n \u30c6\u30ad\u30b9\u30c8\u306e\u307e\u307e\u3058\u3083\u99c4\u76ee\u306a\u3093\u3060\u2026\n\u304a\u52c9\u5f37\u958b\u59cb\u6642\u3001\n\u300c\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3067\u3082\u4f55\u3067\u3082\u3001\u305d\u306e\u307e\u307e\u6a5f\u68b0\u5b66\u7fd2\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u3076\u3061\u3053\u3081\u3070\u3001\u826f\u3044\u611f\u3058\u3067\u7d50\u679c\u3092\u51fa\u3057\u3066\u304f\u308c\u308b\u3002\u300d\n\u3068\u52dd\u624b\u306b\u601d\u3063\u3066\u3001\u30b3\u30d4\u30da\u3067\u30b9\u30d1\u30c3\u3068\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u7d50\u679c\u306f\u3001\n>> from sklearn.cluster import KMeans\n>> km = KMeans(n_clusters=3)\n>> km.fit([\"\u3042\u30fc\u3061\u3083\u3093\", \"\u304b\u3057\u3086\u304b\", \"\u306e\u3063\u3061\"])\nValueError: could not convert string to float: \u3042\u30fc\u3061\u3083\u3093\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3042\u30fc\u3061\u3083\u3093\u3092float\u578b\u306b\u5909\u66f4\u3067\u304d\u306a\u3044\u3068\u3044\u3046ValueError\u306b\u306a\u308a\u307e\u3057\u305f\u2190\n\u53c2\u8003\u66f8\u300c\u5b9f\u8df5\u6a5f\u68b0\u5b66\u7fd2\u30b7\u30b9\u30c6\u30e0\u300d\u306e\u5f15\u7528\u306b\u306a\u308a\u307e\u3059\u304c\u3001\n\n\n\u300c\u6a5f\u68b0\u5b66\u7fd2\u306e\u89b3\u70b9\u3067\u306f\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u306f\u5f79\u306b\u7acb\u305f\u306a\u3044\u3001\u610f\u5473\u306e\u3042\u308b\u6570\u5024\u306b\u5909\u63db\u3067\u304d\u3066\u521d\u3081\u3066\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u7b49\u306e\u6a5f\u68b0\u5b66\u7fd2\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u5165\u529b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u300d\n\u300cbag-ob-words\u3068\u3044\u3046\u624b\u6cd5\u3067\u306f\u3001\u5358\u8a9e\u306e\u51fa\u73fe\u56de\u6570\u3092\u7279\u5fb4\u91cf\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u51fa\u73fe\u56de\u6570\u306f\u30d9\u30af\u30c8\u30eb\u3067\u8868\u73fe\u3055\u308c\u308b\u3002\u300d\n\n\n\u3060\u305d\u3046\u3067\u3059\u3002\u751f\u30c7\u30fc\u30bf\u304b\u3089\u305d\u306e\u7279\u5fb4\u3092\u6570\u5024\u3067\u8868\u3057\u305f\u300c\u7279\u5fb4\u91cf\u300d\u306b\u3057\u306a\u3044\u3068\u99c4\u76ee\u306a\u3093\u3067\u3059\u306d\u3002\u306a\u308b\u307b\u3069\u306a\u308b\u307b\u3069\u2026\u7518\u304b\u3063\u305f\u2026\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u307e\u305a\u306f\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3092bag-ob-words\u624b\u6cd5\u3092\u7528\u3044\u3066\u6570\u5024(\u30d9\u30af\u30c8\u30eb)\u5316\u3092\u3057\u3066\u307f\u307e\u3059\u3002\n\u306a\u305c\u30d9\u30af\u30c8\u30eb\u306a\u3093\u304b\u4f7f\u308f\u306a\u304d\u3083\u306a\u3089\u3093\u306e\u304b\uff1f\uff1f\u300c[\u521d\u5fc3\u8005\u5411\u3051]\u6a5f\u68b0\u5b66\u7fd2\u306b\u304a\u3051\u308b\u30d9\u30af\u30c8\u30eb\u5316 \u5165\u9580\u300d\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u2026\uff01(\u57fa\u672c\u3001\u4ed6\u529b\u672c\u9858)\n\n \u30d9\u30af\u30c8\u30e9\u30a4\u30ba\nscikit-learn\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3088\u308b\u3068\u30d9\u30af\u30c8\u30eb\u306b\u5909\u63db\u3059\u308b(\u30d9\u30af\u30c8\u30e9\u30a4\u30ba)\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u8e0f\u3080\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\n\ntokenizing(\u3044\u308f\u3086\u308b\u5206\u304b\u3061\u66f8\u304d\u3001\u30c8\u30fc\u30af\u30f3\u5316)\ncounting(\u5358\u8a9e\u306e\u6570\u3092\u6570\u3048\u308b)\nnormalizing(\u6b63\u898f\u5316\u3002tf-idf\u7b49\u3067\u5358\u8a9e\u6bce\u306b\u91cd\u307f\u4ed8\u3051\u3092\u3059\u308b)\n\n\n\u82f1\u8a9e\u7b49\u306e\u7a7a\u767d\u3067\u533a\u5207\u3089\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u3067\u3042\u308c\u3070scikit-learn\u306eTfidfVectorizer\u30af\u30e9\u30b9\u304c\u5168\u3066\u3084\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3059\u304c\u3001\u65e5\u672c\u8a9e\u306etokenizing\u306f\u51fa\u6765\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u305d\u3053\u3067\u3001\u4ee5\u4e0b\u306e\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066\u30d9\u30af\u30c8\u30e9\u30a4\u30ba\u3059\u308b\u70ba\u306e\u5b9f\u88c5\u3092\u3001\u30b9\u30c6\u30c3\u30d7\u5225\u306b\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\n\u30c6\u30ad\u30b9\u30c8A:\u300c\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\u300d\n\u30c6\u30ad\u30b9\u30c8B:\u300cPerfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\u300d\n\u30c6\u30ad\u30b9\u30c8C:\u300c\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx\u300d\n\u30c6\u30ad\u30b9\u30c8D:\u300cPerfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx\u300d\n\u30c6\u30ad\u30b9\u30c8E:\u300c\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx\u300d\n\n\n\n tokenizing\n\u524d\u56de\u306e\u8a18\u4e8b\u306e\u901a\u308atokenizing\u306b\u306fMecab\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u3068\u306f\u8a00\u3063\u3066\u3082\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30c8\u30fc\u30af\u30f3\u5316\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3001TfidfVectorizer\u521d\u671f\u5316\u6642\u306b\u6e21\u3057\u3066\u3042\u3052\u308b\u3060\u3051\u3067\u826f\u3044\u3088\u3046\u3067\u3059\u3002\ndef mecab_tokenizer(text):\n    \"\"\"Mecab\u3092\u4f7f\u3063\u305f\u30c8\u30fc\u30af\u30f3\u5316\u51e6\u7406(\u7701\u7565)\"\"\"\n    return word_list\n\nvectorizer = TfidfVectorizer(tokenizer=mecab_tokenizer)\n\n\u3061\u306a\u307f\u306b\u985e\u4f3c\u3059\u308btoken\u3092\u57fa\u672c\u5f62\u306b\u3057\u3066\u5171\u901a\u5316\u3059\u308b\u51e6\u7406\u300c\u30b9\u30c6\u30df\u30f3\u30b0\u51e6\u7406\u300d\u306f\u5f8c\u307b\u3069\u30b3\u30fc\u30c9\u3067\u793a\u3057\u307e\u3059\u304ctokenize\u95a2\u6570\u5185\u3067\u3057\u308c\u3063\u3068\u3084\u3063\u3066\u307e\u3059\u3002\nMecab\u3067\u5f62\u614b\u7d20\u89e3\u6790\u3059\u308b\u3068\u5358\u8a9e\u6bce\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u60c5\u5831\u304c\u5f97\u3089\u308c\u3001\u57fa\u672c\u5f62\u3082\u5206\u304b\u308b(6\u3064\u76ee\u306e\u8981\u7d20)\u306e\u3067\u3001\n\u3053\u308c\u3092token\u3068\u3057\u3066\u4f7f\u3046\u3053\u3068\u3067\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002(\u3053\u306e\u6642\u70b9\u3067\u306e\u3063\u3061\u306f\u7247\u4eee\u540d\u3067\u30ce\u30c3\u30c1\u2026)\n\n\u30c6\u30ad\u30b9\u30c8A\u306e\u5f62\u614b\u7d20\u89e3\u6790\u7d50\u679c\n\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u30ce\u30c3\u30c1,\u30ce\u30c3\u30c1,\u30ce\u30c3\u30c1\n\u5f62\u5bb9\u8a5e,\u81ea\u7acb,*,*,\u5f62\u5bb9\u8a5e\u30fb\u30a4\u6bb5,\u57fa\u672c\u5f62,\u53ef\u611b\u3044,\u30ab\u30ef\u30a4\u30a4,\u30ab\u30ef\u30a4\u30a4\n\u540d\u8a5e,\u56fa\u6709\u540d\u8a5e,\u4e00\u822c,*,*,*,Perfume,\u30d1\u30d5\u30e5\u30fc\u30e0,\u30d1\u30d5\u30e5\u30fc\u30e0\n\u540d\u8a5e,\u56fa\u6709\u540d\u8a5e,\u4e00\u822c,*,*,*,HTTPS,\u30a8\u30a4\u30c1\u30c6\u30a3\u30fc\u30c6\u30a3\u30fc\u30d4\u30fc\u30a8\u30b9,\u30a8\u30a4\u30c1\u30c6\u30a3\u30fc\u30c6\u30a3\u30fc\u30d4\u30fc\u30a8\u30b9\n\n\nMecab\u306b\u3088\u308b\u5f62\u614b\u7d20\u89e3\u6790\u306b\u3064\u3044\u3066\u306f\u30b9\u30bf\u30d0\u306eTwitter\u30c7\u30fc\u30bf\u3092python\u3067\u5927\u91cf\u306b\u53d6\u5f97\u3057\u3001\u30c7\u30fc\u30bf\u5206\u6790\u3092\u8a66\u307f\u308b \u305d\u306e\uff13\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\n counting/normalizing\n\u3053\u308c\u3089\u306fTfidfVectorizer\u304c\u826f\u3044\u611f\u3058\u3067\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u3002\ntf-idf\u306e\u6982\u5ff5\u306b\u3064\u3044\u3066\u306f\u300cscikit-learn \u3067 TF-IDF \u3092\u8a08\u7b97\u3059\u308b\u300d\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\u3055\u3089\u306b\u51fa\u73fe\u56de\u6570\u304c\u591a\u3059\u304e\u3066\u91cd\u8981\u5ea6\u304c\u4f4e\u3044\u5358\u8a9e\u3092\u53d6\u308a\u9664\u304f\u51e6\u7406\u300c\u30b9\u30c8\u30c3\u30d7\u30ef\u30fc\u30c9\u9664\u53bb\u300d\u3082\u3001TfidfVectorizer\u306b\u6559\u3048\u3066\u3042\u3052\u308c\u3070\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u3002\u4fbf\u5229\u3002\u3053\u3053\u3067\u306f\u5168\u3066\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u542b\u307e\u308c\u308b\u300cPerfume\u300d\u3068\u300cHTTPS\u300d\u3092\u9664\u5916\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\u9006\u306b\u51fa\u73fe\u56de\u6570\u304c\u5c11\u306a\u3044\u5358\u8a9e\u3092\u7121\u8996\u3057\u305f\u3044\u6642\u306fmin_df\u3092\u6307\u5b9a\u3057\u3066\u9664\u5916\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306a\u3093\u3068\u306a\u304f\u300c1\u300d\u3092\u6307\u5b9a\u3057\u307e\u3057\u305f\u304c\u3001\u8a08\u7b97\u65b9\u6cd5\u306f\u5206\u304b\u3063\u3066\u304a\u3089\u305a\u3001\n\u307e\u305f\u5024\u3092\u5909\u3048\u3066\u3082\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3067\u306f\u30c7\u30fc\u30bf\u91cf\u304c\u5c11\u306a\u904e\u304e\u308b\u306e\u304b\u52b9\u679c\u306f\u5206\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u2026\u4eca\u5f8c\u8981\u691c\u8a3c\u3067\u3059\u3002\n vectorizer = TfidfVectorizer(\n        min_df=1, stop_words=[u\"Perfume\", u\"HTTPS\"], tokenizer=mecab_tokenizer)\n\n\n \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\u3055\u3066\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3057\u305f\u3002(mecab_tokenizer\u3082\u6587\u5b57\u30b3\u30fc\u30c9\u3067\u5730\u5473\u306b\u30cf\u30de\u308a\u307e\u3057\u305f\u3002)\n\ntw_ml.py(\u629c\u7c8b)\n# !/usr/bin/env python\n# -*- coding:utf-8 -*-\nimport codecs\nimport ast\nimport MeCab as mc\nimport numpy as np\nfrom sklearn.feature_extraction.text import TfidfVectorizer\n\nMECAB_OPT = \"-Ochasen -d C:\\\\tmp\\\\mecab-ipadic-neologd\\\\\"\n\nSAMPLE_DATA = [\n    u\"\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\",\n    u\"Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\",\n    u\"\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx\",\n    u\"Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx\",\n    u\"\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx\"\n]\n\n\ndef mecab_tokenizer(text):\n    t = mc.Tagger(MECAB_OPT)\n    node = t.parseToNode(text.encode(\"utf-8\"))\n    word_list = list()\n\n    while node:\n\n        if node.surface != \"\":  # \u30d8\u30c3\u30c0\u3068\u30d5\u30c3\u30bf\u3092\u9664\u5916\n            res = node.feature.split(\",\")\n            word_type = res[0]\n            if word_type in [\"\u540d\u8a5e\", \"\u52d5\u8a5e\", \"\u5f62\u5bb9\u8a5e\", \"\u526f\u8a5e\"]:\n                basic_word = res[6]\n                if basic_word != \"*\":\n                    word_list.append(basic_word.decode(\"utf-8\"))\n\n        node = node.next\n        if node is None:\n            break\n    return word_list\n\n\ndef main():\n    vectorizer = TfidfVectorizer(\n        min_df=1, stop_words=[u\"Perfume\", u\"HTTPS\"], tokenizer=mecab_tokenizer)\n\n    # \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3092\u4f7f\u3046\u306e\u3067\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u8aad\u307f\u8fbc\u307f\u51e6\u7406\u306f\u4e00\u65e6\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3002\n    # with codecs.open(\"es.log\", \"r\", \"utf-8\") as f:\n    #    es_dict = ast.literal_eval(f.read())\n    # print \"doc:%d\" % len(es_dict)  # doc:265\n    # text_list = [es_doc[\"_source\"][\"text\"] for es_doc in es_dict]\n\n    # \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3067\u4ee3\u5165\n    text_list = SAMPLE_DATA\n\n    # \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u306e\u30d9\u30af\u30c8\u30eb\u5316\n    tfidf_weighted_matrix = vectorizer.fit_transform(text_list)\n\n    # \u30d9\u30af\u30c8\u30eb\u60c5\u5831\u3092\u78ba\u8a8d\n    print u\"\u30c6\u30ad\u30b9\u30c8\u6570:%d,\u5358\u8a9e\u306e\u7a2e\u985e\u6570:%d\" % tfidf_weighted_matrix.shape\n    print u\"\u5358\u8a9e\u306e\u7a2e\u985e:%s\\n\" % \",\".join(vectorizer.get_feature_names())\n    for n, text in enumerate(text_list):\n        print \"[%s]\" % text\n        print u\"\u91cd\u307f: %s\\n\" % \",\".join([\"%s:%.2f\" % (token, weight) for token, weight in\n                                      zip(vectorizer.get_feature_names(),\n                                          tfidf_weighted_matrix.getrow(n).toarray()[0]\n                                          )])\n\nif __name__ == '__main__':\n    main()\n\n\n\n \u5b9f\u884c\u7d50\u679c\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u91cd\u307f\u4ed8\u3051\u3057\u305f\u30d9\u30af\u30c8\u30eb\u5316\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002\n\n\u5b9f\u884c\u7d50\u679c\n\u30c6\u30ad\u30b9\u30c8\u6570:5,\u5358\u8a9e\u306e\u7a2e\u985e\u6570:14\n\u5358\u8a9e\u306e\u7a2e\u985e:London,NowPlaying,a,in,\u3044\u3044,\u304f\u308b,\u3059\u3054\u3044,\u30ab\u30c3\u30b3,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3,\u30ce\u30c3\u30c1,\u30e9\u30a4\u30d6,\u53ef\u611b\u3044,\u6f14\u51fa,\u884c\u304f\n\n[\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.71,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.71,\u6f14\u51fa:0.00,\u884c\u304f:0.00\n\n[Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.78,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.63,\u884c\u304f:0.00\n\n[\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.78,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.63,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.00,\u884c\u304f:0.00\n\n[Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.46,NowPlaying:0.00,a:0.46,in:0.46,\u3044\u3044:0.00,\u304f\u308b:0.46,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.00,\u884c\u304f:0.37\n\n[\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.45,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.45,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.36,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.45,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.36,\u884c\u304f:0.36\n\n\n\u3061\u3087\u3063\u3068\u898b\u3065\u3089\u3044\u306e\u3067\u7d50\u679c\u3092\u8868\u306b\u3057\u307e\u3059\u3002\n1\u30c6\u30ad\u30b9\u30c8\u4e2d\u306e\u5358\u8a9e\u306e\u91cd\u307f\u4ed8\u3051\u3092\u773a\u3081\u3066\u307f\u308b\u3068\u300c\u5f53\u8a72\u5358\u8a9e\u4ee5\u5916\u306b\u767b\u5834\u3059\u308b\u5358\u8a9e\u304c\u5c11\u306a\u3044\u300d\u300c\u5f53\u8a72\u5358\u8a9e\u304c\u4ed6\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u542b\u307e\u308c\u306a\u3044\u300d\u5834\u5408\u306b\u5024\u304c\u9ad8\u304f\u306a\u3063\u3066\u304a\u308a\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u7279\u5fb4\u3092\u8868\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\n\n\u5358\u8a9e\n\u30c6\u30ad\u30b9\u30c8A\n\u30c6\u30ad\u30b9\u30c8B\n\u30c6\u30ad\u30b9\u30c8C\n\u30c6\u30ad\u30b9\u30c8D\n\u30c6\u30ad\u30b9\u30c8E\n\n\n\n\nLondon\n0\n0\n0\n0.46\n0\n\n\nNowPlaying\n0\n0\n0.78\n0\n0\n\n\na\n0\n0\n0\n0.46\n0\n\n\nin\n0\n0\n0\n0.46\n0\n\n\n\u3044\u3044\n0\n0\n0\n0\n0.45\n\n\n\u304f\u308b\n0\n0\n0\n0.46\n0\n\n\n\u3059\u3054\u3044\n0\n0.78\n0\n0\n0\n\n\n\u30ab\u30c3\u30b3\n0\n0\n0\n0\n0.45\n\n\n\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3\n0\n0\n0.63\n0\n0.36\n\n\n\u30ce\u30c3\u30c1\n0.71\n0\n0\n0\n0\n\n\n\u30e9\u30a4\u30d6\n0\n0\n0\n0\n0.45\n\n\n\u53ef\u611b\u3044\n0.71\n0\n0\n0\n0\n\n\n\u6f14\u51fa\n0\n0.63\n0\n0\n0.36\n\n\n\u884c\u304f\n0\n0\n0\n0.37\n0.36\n\n\n\n\u306a\u304aTfidfVectorizer\u3067\u306f\u306a\u304f\u3001CountVectorizer\u3092\u4f7f\u3063\u305f\u5834\u5408\u3001\n\u5358\u8a9e\u767b\u5834\u983b\u5ea6\u304c\u8003\u616e\u3055\u308c\u3066\u7121\u3044\u305f\u3081\u3001\u91cd\u307f\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c(0 or 1)\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u3064\u307e\u308a\u3001\u7279\u5fb4\u306e\u8868\u73fe\u304c\u7c97\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\u5b9f\u884c\u7d50\u679c(CountVectorizer\u306e\u5834\u5408)\n[\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:1.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:1.00,\u6f14\u51fa:0.00,\u884c\u304f:0.00\n\n[Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:1.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:1.00,\u884c\u304f:0.00\n\n[\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:1.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:1.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.00,\u884c\u304f:0.00\n\n[Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:1.00,NowPlaying:0.00,a:1.00,in:1.00,\u3044\u3044:0.00,\u304f\u308b:1.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.00,\u884c\u304f:1.00\n\n[\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:1.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:1.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:1.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:1.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:1.00,\u884c\u304f:1.00\n\n\n\n \u985e\u4f3c\u5ea6\u3092\u7b97\u51fa\u3057\u3066\u307f\u308b\n\u3053\u3053\u307e\u3067\u3067\u3001KMeans\u306b\u306f\u30d9\u30af\u30c8\u30eb\u5316\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u3042\u308c\u3070\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3067\u304d\u308b\u306e\u3067\u3001\u6e96\u5099\u306f\u6574\u3044\u307e\u3057\u305f(\u591a\u5206)\u3002\n\u5ff5\u306e\u305f\u3081\u3053\u3053\u3067\u3001\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u524d\u306b\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u30ce\u30eb\u30e0(\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u8ddd\u96e2)\u306b\u3088\u308b\u30c6\u30ad\u30b9\u30c8\u540c\u58eb\u306e\u985e\u4f3c\u5ea6\u3092\u7b97\u51fa\u3057\u3066\u307f\u3066\u3001\u30d9\u30af\u30c8\u30eb\u5316\u304c\u9069\u5207\u304b\u3056\u3063\u304f\u308a\u898b\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\u305d\u3046\u3001\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u8ddd\u96e2\u3068\u306f\u2026\uff01\u2026\u300c\u30c7\u30fc\u30bf\u30de\u30a4\u30cb\u30f3\u30b0 \u30af\u30e9\u30b9\u30bf\u30fc\u5206\u6790\u300d\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\uff01(\u6700\u5f8c\u307e\u3067\u4ed6\u529b\u672c\u9858)\n\u8a66\u3057\u306b\u3001\u4ee5\u4e0b\u306e\u985e\u4f3c\u5ea6\u78ba\u8a8d\u7528\u306e\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\u540c\u3058\u304f\u30d9\u30af\u30c8\u30eb\u5316\u3057\u3001\n\u4e0a\u8a18\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3068\u4e00\u756a\u985e\u4f3c\u3057\u3066\u3044\u308b\u3082\u306e\u3092\u898b\u3064\u3051\u3066\u307f\u307e\u3059\u3002\n\n\u985e\u4f3c\u5ea6\u8a66\u9a13\u7528\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\n\u300cPerfume\u306e\u6f14\u51fa\u306a\u3069\u3067\u6d3b\u8e8d\u3059\u308b\u771f\u934b\u5927\u5ea6\u3055\u3093\u7387\u3044\u308b\u30e9\u30a4\u30be\u30de\u30c6\u30a3\u30af\u30b9 https://t.co/xxxxxxxxxxxx\u300d\n\u300c\u30ce\u30c3\u30c1\u53ef\u611b\u3044 #\u30c7\u30f3\u30b8\u30e3\u30e9\u30b9 #Perfume\u3067\u306f\u306a\u3044 https://t.co/xxxxxxxxxxxx\u300d\n\n\n\u30b3\u30fc\u30c9\u306f\u3001\u3055\u3063\u304d\u306e\u30b3\u30fc\u30c9\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3059\u308b\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\ntw_ml.py(\u629c\u7c8b)\n\n    # \u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u8ddd\u96e2\u8a08\u7b97\n    def dist_raw(v1, v2):\n        delta = v1 - v2\n        return np.linalg.norm(delta.toarray())\n\n    # \u985e\u4f3c\u5ea6\u8a66\u9a13\u7528\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u30d9\u30af\u30c8\u30eb\u5316\u3002\n    test_text_list = [\n        u\"Perfume\u306e\u6f14\u51fa\u306a\u3069\u3067\u6d3b\u8e8d\u3059\u308b\u771f\u934b\u5927\u5ea6\u3055\u3093\u7387\u3044\u308b\u30e9\u30a4\u30be\u30de\u30c6\u30a3\u30af\u30b9 https://t.co/xxxxxxxxxxxx\",\n        u\"\u30ce\u30c3\u30c1\u53ef\u611b\u3044 #\u30c7\u30f3\u30b8\u30e3\u30e9\u30b9 #Perfume\u3067\u306f\u306a\u3044 https://t.co/xxxxxxxxxxxx\"\n    ]\n    test_tfidf_weighted_matrix = vectorizer.transform(test_text_list)\n\n    # \u30c6\u30ad\u30b9\u30c8\u6bce\u306b\u985e\u4f3c\u5ea6\u3092\u51fa\u3057\u3066\u307f\u308b\u3002\n    for testn, test_vec in enumerate(test_tfidf_weighted_matrix):\n        print \"Test No%i text:%s\" % (testn, test_text_list[testn])\n        dest_list = list()\n        for n, text in enumerate(text_list):\n            text_vec = tfidf_weighted_matrix.getrow(n)\n            d = dist_raw(text_vec, test_vec)\n            print \"- No%i dist:%.2f, text:%s\" % (n, d, text)\n            dest_list.append(d)\n\n        min_dest = min(dest_list)\n        min_text_num = dest_list.index(min_dest)\n        min_text = text_list[min_text_num]\n        # \u6700\u3082\u985e\u4f3c\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u3092\u8868\u793a\n        print \"Best Match:No%i, dist:%.2f, text:%s\" % (min_text_num, min_dest, min_text)\n        print\n\n\n\u7d50\u679c\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u5b9f\u884c\u7d50\u679c\nTest No0 text:Perfume\u306e\u6f14\u51fa\u306a\u3069\u3067\u6d3b\u8e8d\u3059\u308b\u771f\u934b\u5927\u5ea6\u3055\u3093\u7387\u3044\u308b\u30e9\u30a4\u30be\u30de\u30c6\u30a3\u30af\u30b9 https://t.co/xxxxxxxxxxxx\n- No0 dist:1.41, text:\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\n- No1 dist:0.86, text:Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\n- No2 dist:1.41, text:\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx\n- No3 dist:1.41, text:Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx\n- No4 dist:1.13, text:\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx\nBest Match:No1, dist:0.86, text:Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\n\nTest No1 text:\u30ce\u30c3\u30c1\u53ef\u611b\u3044 #\u30c7\u30f3\u30b8\u30e3\u30e9\u30b9 #Perfume\u3067\u306f\u306a\u3044 https://t.co/xxxxxxxxxxxx\n- No0 dist:0.00, text:\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\n- No1 dist:1.41, text:Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\n- No2 dist:1.41, text:\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx\n- No3 dist:1.41, text:Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx\n- No4 dist:1.41, text:\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx\nBest Match:No0, dist:0.00, text:\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\n\n\n\u4eba\u9593\u3067\u898b\u305f\u76ee\u3067\u6bd4\u3079\u305f\u611f\u3058\u3068\u3001\u6570\u5024\u304c\u8868\u3059\u30d9\u30af\u30c8\u30eb\u306e\u8ddd\u96e2\u304c\u8fd1\u3055(=\u985e\u4f3c\u5ea6\u304c\u9ad8\u3055)\u304c\u3001\u3042\u308b\u7a0b\u5ea6\u4e00\u81f4\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u601d\u3044\u307e\u3059\u3002\u30d9\u30af\u30c8\u30eb\u5316\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3001\u985e\u4f3c\u5ea6\u304c\u6b63\u3057\u304f\u8a08\u7b97\u3067\u304d\u3066\u3044\u307e\u3059\u306d\u3001\u304d\u3063\u3068\uff01\uff01\u2190\n\u3057\u304b\u3057\u30c7\u30f3\u30b8\u30e3\u30e9\u30b9\u306e\u30ce\u30c3\u30c1\u3092\u9664\u5916\u3059\u308b\u65b9\u6cd5\u304c\u6d6e\u304b\u3070\u306a\u3044\u2026Mecab\u306e\u8f9e\u66f8\u3092\u5f04\u308b\u3057\u304b\u306a\u3044\u306e\u304b\u306a\u2026\u3002\n\n \u3084\u3063\u3068\n\u30d9\u30af\u30c8\u30eb\u5316\u3001\u985e\u4f3c\u5ea6\u306e\u7b97\u51fa\u304b\u51fa\u6765\u305f\u306e\u3067\u3001\u6b21\u56de\u306fKMeans\u306b\u30d9\u30af\u30c8\u30eb\u3092\u98df\u308f\u305b\u3066\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u307f\u307e\u3059\uff01(\u9577\u304b\u3063\u305f\u2026)\n\n \u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\uff01\n\n\u4eba\u5de5\u77e5\u80fd\u306b\u304a\u3051\u308b\u300c\u6a5f\u68b0\u5b66\u7fd2\u300d\u306e\u4f4d\u7f6e\u4ed8\u3051\nscikit-learn \u304b\u3089\u5b66\u3076\u6a5f\u68b0\u5b66\u7fd2\u306e\u624b\u6cd5\u306e\u6982\u8981\n[\u521d\u5fc3\u8005\u5411\u3051]\u6a5f\u68b0\u5b66\u7fd2\u306b\u304a\u3051\u308b\u30d9\u30af\u30c8\u30eb\u5316 \u5165\u9580\n4.2. Feature extraction\n\u30af\u30e9\u30b9\u5206\u985e\u3068\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u9055\u3044\n\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3068\u30af\u30e9\u30b9\u5206\u985e\n\u30b9\u30bf\u30d0\u306eTwitter\u30c7\u30fc\u30bf\u3092python\u3067\u5927\u91cf\u306b\u53d6\u5f97\u3057\u3001\u30c7\u30fc\u30bf\u5206\u6790\u3092\u8a66\u307f\u308b \u305d\u306e\uff13\nTF-IDF \u3067\u6587\u66f8\u3092\u30d9\u30af\u30c8\u30eb\u5316\u3002python \u306e TfidfVectorizer \u3092\u4f7f\u3063\u3066\u307f\u308b\nscikit-learn\u3067tf-idf\u3092\u8a08\u7b97\u3059\u308b\nscikit-learn \u3067 TF-IDF \u3092\u8a08\u7b97\u3059\u308b\n\u30c7\u30fc\u30bf\u30de\u30a4\u30cb\u30f3\u30b0\u3000\u30af\u30e9\u30b9\u30bf\u30fc\u5206\u6790\n\n# <i class=\"fa fa-forward\" style=\"font-size:1em;\"></i> \u306f\u3058\u3081\u306b\n[PyCon JP 2016](https://pycon.jp/2016/ja/)\u306b\u53c2\u52a0\u3057\u3066\u304d\u307e\u3057\u305f\uff01\u5927\u5909\u30e2\u30c1\u30d9\u30fc\u30b7\u30e7\u30f3\u304c\u4e0a\u304c\u3063\u305f\uff01\u306e\u3067\u66f4\u65b0\u3057\u307e\u3059\u2190\n\u3061\u306a\u307f\u306bPyCon\u3067\u52c9\u5f37\u3057\u3066\u304d\u305f\u3053\u3068\u3082\u3001\u8ffd\u3005\u6574\u7406&\u52d5\u304b\u3057\u3066\u307f\u3066\u3001\u8a18\u4e8b\u306b\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u4eca\u56de\u306f[\u300c\u30c7\u30fc\u30bf\u6e96\u5099\u7de8\u300d](http://qiita.com/yuuki_1204_/items/e94c486be1745b763c2a)\u306e\u7d9a\u304d\u3067\u3001Twitter\u306e\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u2026**\u3059\u308b\u524d\u306b\u3001\u30c7\u30fc\u30bf\u524d\u51e6\u7406\u3068\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u540c\u58eb\u306e\u7c21\u5358\u306a\u985e\u4f3c\u5ea6\u7b97\u51fa**\u3092\u3057\u3066\u307f\u307e\u3059\u3002\n\n# <i class=\"fa fa-check-square-o\" style=\"font-size:1em;\"></i> \u3054\u6ce8\u610f\uff01(\u524d\u56de\u3068\u540c\u3058)\n- \u7406\u8ad6\u3088\u308a\u3082\u3001\u3068\u308a\u3042\u3048\u305a\u89e6\u3063\u3066\u7406\u89e3\u3059\u308b\u3084\u308a\u65b9\u304c\u597d\u304d\u306a\u306e\u3067\u3001\u8272\u3005\u3068\u96d1\u3067\u3059\u3002\n- \u3055\u3089\u306b\u6587\u76f2\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u5206\u304b\u308a\u3065\u3089\u3044\u6587\u7ae0\u306b\u306a\u308b\u3068\u601d\u3063\u3066\u307e\u3059\u3002\n- \u305d\u3093\u306a\u8a33\u3067\u8aad\u3093\u3067\u3066\u30c4\u30c3\u30b3\u30df\u305f\u304f\u306a\u308b\u5185\u5bb9\u306f\u591a\u3005\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3054\u4e86\u627f\u9802\u304d\u305f\u304f\uff01\n  \u203b\u512a\u3057\u3044\u30c4\u30c3\u30b3\u30df\u306f\u5927\u6b53\u8fce\u3067\u3059\n\n# <i class=\"fa fa-bolt\" style=\"font-size:1em;\"></i> 3\u884c\u3067\u307e\u3068\u3081\n- \u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u524d\u51e6\u7406\u3068\u3057\u3066\u3001\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3092\u6570\u5024(\u30d9\u30af\u30c8\u30eb)\u5316\u3057\u305f\u3002\n- \u6570\u5024\u5316\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u540c\u58eb\u3067\u3001\u985e\u4f3c\u5ea6\u3092\u8a08\u7b97\u3057\u3066\u307f\u305f\u3002\n- \u6b21\u56de\u304b\u3089\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3067\u304d\u308b\uff01(\u306f\u305a)\n\n# <i class=\"fa fa-graduation-cap\" style=\"font-size:1em;\"></i> \u306a\u305c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306b\u3057\u305f\u304b\uff1f\u624b\u6cd5\u306f\uff1f\n\u307e\u305a\u3001\u306a\u305c\u6a5f\u68b0\u5b66\u7fd2\u306e\u4e2d\u304b\u3089\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3092\u3057\u3088\u3046\u3068\u3057\u305f\u304b\u3001\u80cc\u666f\u3092\u7c21\u5358\u306b\u3002\n\u3068\u308a\u3042\u3048\u305a\u30c7\u30fc\u30bf\u3092\u6e96\u5099\u3057\u305f\u306f\u826f\u3044\u3082\u306e\u306e\u3001\u6a5f\u68b0\u5b66\u7fd2\u3092\u4f7f\u3046\u3068\u4f55\u304c\u51fa\u6765\u308b\u306e\u304b\u3001\u3069\u3093\u306a\u624b\u6cd5\u304c\u3042\u308b\u306e\u304b\u5168\u7136\u77e5\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u8272\u3005\u8abf\u3079\u305f\u6240\u3001scikit-learn\u306e\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8\u3092\u5143\u306b\u5206\u304b\u308a\u3084\u3059\u304f\u7e8f\u3081\u3089\u308c\u3066\u3044\u305f\u300c[scikit-learn \u304b\u3089\u5b66\u3076\u6a5f\u68b0\u5b66\u7fd2\u306e\u624b\u6cd5\u306e\u6982\u8981](http://qiita.com/ynakayama/items/9c5867b6947aa41e9229#%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92%E3%81%AE%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E6%89%8B%E9%A0%86)\u300d\u306b\u884c\u304d\u7740\u304d\u307e\u3057\u305f\u3002\n\n\n\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8\u306b\u3088\u308b\u3068scikit-learn\u3067\u51fa\u6765\u308b\u3053\u3068\u3068\u3057\u3066\u300c\u5206\u985e\u300d\u300c\u56de\u5e30\u300d\u300c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u300d\u300c\u6b21\u5143\u524a\u6e1b\u300d\u304c\u3042\u308b\u307f\u305f\u3044\u3067\u3059\u3002\n>\n- \u5206\u985e (Classification) - \u30e9\u30d9\u30eb\u3068\u30c7\u30fc\u30bf\u3092\u5b66\u7fd2\u3057\u3001\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u306e\u30e9\u30d9\u30eb\u3092\u4e88\u6e2c\u3059\u308b\u3002\n- \u56de\u5e30 (Regression) - \u5b9f\u6570\u5024\u3092\u30c7\u30fc\u30bf\u3067\u5b66\u7fd2\u3057\u3066\u3001\u5b9f\u6570\u5024\u3092\u4e88\u6e2c\u3059\u308b\u3002\n- \u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0 (Clustering) - \u30c7\u30fc\u30bf\u306e\u4f3c\u3066\u3044\u308b\u3082\u306e\u540c\u58eb\u3092\u307e\u3068\u3081\u3066\u3001\u30c7\u30fc\u30bf\u306e\u69cb\u9020\u3092\u767a\u898b\u3059\u308b\u3002\n- \u6b21\u5143\u524a\u6e1b (Dimensionality reduction) - \u30c7\u30fc\u30bf\u306e\u6b21\u5143\u3092\u524a\u6e1b\u3057\u3066\u3001\u8981\u56e0\u3092\u767a\u898b (\u4e3b\u6210\u5206\u5206\u6790\u306a\u3069) \u3057\u305f\u308a\u3001\u4ed6\u306e\u624b\u6cd5\u306e\u5165\u529b\u306b\u4f7f\u3046 (\u6b21\u5143\u306e\u546a\u3044\u56de\u907f)\u3002\n\n\u3053\u306e\u4e2d\u3067 ~~\u300c\u56de\u5e30\u300d\u300c\u6b21\u5143\u524a\u6e1b\u300d\u306f\u5b57\u9762\u304b\u3089\u3057\u3066\u96e3\u3057\u305d\u3046\u306a\u306e\u3067\u5374\u4e0b\u3067\u3001~~ \u76f4\u611f\u7684\u306b\u4e00\u756a\u5206\u304b\u308a\u3084\u3059\u305d\u3046\u306a\u300c\u5206\u985e\u300d\u300c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u300d\u3069\u3061\u3089\u304b\u306b\u3057\u3088\u3046\u3068\u601d\u3044\u307e\u3057\u305f\u3002(\u3068\u308a\u3042\u3048\u305a\u52d5\u304b\u3057\u3066\u307f\u305f\u3044\uff01\u3068\u3044\u3046\u306e\u304c\u5f53\u9762\u306e\u76ee\u7684\u306a\u306e\u3067\u2026\u7b11)\n\n\u6700\u521d\u300c\u5206\u985e\u300d\u3068\u300c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u300d\u306e\u9055\u3044\u3059\u3089\u3042\u307e\u308a\u5206\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8\u306b\u3088\u308b\u3068\u6559\u5e2b\u30c7\u30fc\u30bf\u6709\u308a\u306e\u5834\u5408\u306f\u300c\u5206\u985e\u300d\u3001\u7121\u3057\u306e\u5834\u5408\u306f\u300c\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u300d\u3092\u4f7f\u3046\u3068\u826f\u3044\u3088\u3046\u3067\u3059\u3002\n\u30c4\u30a4\u30fc\u30c8\u306e\u5206\u985e\u306b\u4f7f\u3048\u305d\u3046\u306a\u6559\u5e2b\u30c7\u30fc\u30bf\u306f ~~\u63a2\u3059\u306e\u9762\u5012~~ \u6b8b\u5ff5\u306a\u304c\u3089\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306b\u6c7a\u5b9a\u3057\u305f\u8a33\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u6982\u5ff5\u7684\u306a\u9055\u3044\u306f\u300c[\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3068\u30af\u30e9\u30b9\u5206\u985e](http://www.mindware-jp.com/basic/group.html)\u300d\u306b\u8a73\u3057\u304f\u66f8\u304b\u308c\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u6b21\u306b\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u624b\u6cd5\u3067\u3059\u304c\u3001Twitter\u306e\u30c7\u30fc\u30bf\u3092\u3044\u304f\u3064\u306b\u5206\u3051\u3089\u308c\u308b\u304b(\u30af\u30e9\u30b9\u30bf\u304c\u3044\u304f\u3064\u306b\u306a\u308b\u304b)\u306f\u4e8b\u524d\u306b\u5206\u304b\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u672c\u6765\u306f**\u300cMean shift\u300d**\u7b49\u3092\u4f7f\u3046\u3079\u304d\u306a\u306e\u3067\u3057\u3087\u3046\u304c\u3001\u307e\u305a\u306f\u53c2\u8003\u60c5\u5831\u304c\u591a\u3044**\u300cKMeans\u300d**\u3067\u3084\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n# <i class=\"fa fa-user-times\" style=\"font-size:1em;\"></i> \u30c6\u30ad\u30b9\u30c8\u306e\u307e\u307e\u3058\u3083\u99c4\u76ee\u306a\u3093\u3060\u2026\n\u304a\u52c9\u5f37\u958b\u59cb\u6642\u3001\n**\u300c\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3067\u3082\u4f55\u3067\u3082\u3001\u305d\u306e\u307e\u307e\u6a5f\u68b0\u5b66\u7fd2\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u3076\u3061\u3053\u3081\u3070\u3001\u826f\u3044\u611f\u3058\u3067\u7d50\u679c\u3092\u51fa\u3057\u3066\u304f\u308c\u308b\u3002\u300d**\n\u3068\u52dd\u624b\u306b\u601d\u3063\u3066\u3001\u30b3\u30d4\u30da\u3067\u30b9\u30d1\u30c3\u3068\u8a66\u3057\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u7d50\u679c\u306f\u3001\n\n```py\n>> from sklearn.cluster import KMeans\n>> km = KMeans(n_clusters=3)\n>> km.fit([\"\u3042\u30fc\u3061\u3083\u3093\", \"\u304b\u3057\u3086\u304b\", \"\u306e\u3063\u3061\"])\nValueError: could not convert string to float: \u3042\u30fc\u3061\u3083\u3093\n```\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3042\u30fc\u3061\u3083\u3093\u3092float\u578b\u306b\u5909\u66f4\u3067\u304d\u306a\u3044\u3068\u3044\u3046**ValueError**\u306b\u306a\u308a\u307e\u3057\u305f\u2190\n\n\u53c2\u8003\u66f8\u300c\u5b9f\u8df5\u6a5f\u68b0\u5b66\u7fd2\u30b7\u30b9\u30c6\u30e0\u300d\u306e\u5f15\u7528\u306b\u306a\u308a\u307e\u3059\u304c\u3001\n\n>\n- \u300c\u6a5f\u68b0\u5b66\u7fd2\u306e\u89b3\u70b9\u3067\u306f\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u306f\u5f79\u306b\u7acb\u305f\u306a\u3044\u3001\u610f\u5473\u306e\u3042\u308b\u6570\u5024\u306b\u5909\u63db\u3067\u304d\u3066\u521d\u3081\u3066\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u7b49\u306e\u6a5f\u68b0\u5b66\u7fd2\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u5165\u529b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u300d\n- \u300cbag-ob-words\u3068\u3044\u3046\u624b\u6cd5\u3067\u306f\u3001\u5358\u8a9e\u306e\u51fa\u73fe\u56de\u6570\u3092\u7279\u5fb4\u91cf\u3068\u3057\u3066\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u51fa\u73fe\u56de\u6570\u306f\u30d9\u30af\u30c8\u30eb\u3067\u8868\u73fe\u3055\u308c\u308b\u3002\u300d\n\n\u3060\u305d\u3046\u3067\u3059\u3002\u751f\u30c7\u30fc\u30bf\u304b\u3089\u305d\u306e\u7279\u5fb4\u3092\u6570\u5024\u3067\u8868\u3057\u305f\u300c\u7279\u5fb4\u91cf\u300d\u306b\u3057\u306a\u3044\u3068\u99c4\u76ee\u306a\u3093\u3067\u3059\u306d\u3002\u306a\u308b\u307b\u3069\u306a\u308b\u307b\u3069\u2026\u7518\u304b\u3063\u305f\u2026\u3002\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u307e\u305a\u306f\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u3092bag-ob-words\u624b\u6cd5\u3092\u7528\u3044\u3066\u6570\u5024(\u30d9\u30af\u30c8\u30eb)\u5316\u3092\u3057\u3066\u307f\u307e\u3059\u3002\n\u306a\u305c\u30d9\u30af\u30c8\u30eb\u306a\u3093\u304b\u4f7f\u308f\u306a\u304d\u3083\u306a\u3089\u3093\u306e\u304b\uff1f\uff1f\u300c[[\u521d\u5fc3\u8005\u5411\u3051]\u6a5f\u68b0\u5b66\u7fd2\u306b\u304a\u3051\u308b\u30d9\u30af\u30c8\u30eb\u5316 \u5165\u9580](http://qiita.com/ken5scal/items/f1c949a089f3ca233af5)\u300d\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u2026\uff01(\u57fa\u672c\u3001\u4ed6\u529b\u672c\u9858)\n\n\n# <i class=\"fa fa-line-chart\" style=\"font-size:1em;\"></i> \u30d9\u30af\u30c8\u30e9\u30a4\u30ba\n[scikit-learn\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://scikit-learn.org/stable/modules/feature_extraction.html#text-feature-extraction)\u306b\u3088\u308b\u3068\u30d9\u30af\u30c8\u30eb\u306b\u5909\u63db\u3059\u308b(\u30d9\u30af\u30c8\u30e9\u30a4\u30ba)\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u8e0f\u3080\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\n>\n- tokenizing(\u3044\u308f\u3086\u308b\u5206\u304b\u3061\u66f8\u304d\u3001\u30c8\u30fc\u30af\u30f3\u5316)\n- counting(\u5358\u8a9e\u306e\u6570\u3092\u6570\u3048\u308b)\n- normalizing(\u6b63\u898f\u5316\u3002tf-idf\u7b49\u3067\u5358\u8a9e\u6bce\u306b\u91cd\u307f\u4ed8\u3051\u3092\u3059\u308b)\n\n\u82f1\u8a9e\u7b49\u306e\u7a7a\u767d\u3067\u533a\u5207\u3089\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u3067\u3042\u308c\u3070scikit-learn\u306e**TfidfVectorizer**\u30af\u30e9\u30b9\u304c\u5168\u3066\u3084\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u3059\u304c\u3001\u65e5\u672c\u8a9e\u306etokenizing\u306f\u51fa\u6765\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\u305d\u3053\u3067\u3001\u4ee5\u4e0b\u306e\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066\u30d9\u30af\u30c8\u30e9\u30a4\u30ba\u3059\u308b\u70ba\u306e\u5b9f\u88c5\u3092\u3001\u30b9\u30c6\u30c3\u30d7\u5225\u306b\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\n```text:\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf:\n\u30c6\u30ad\u30b9\u30c8A:\u300c\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\u300d\n\u30c6\u30ad\u30b9\u30c8B:\u300cPerfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\u300d\n\u30c6\u30ad\u30b9\u30c8C:\u300c\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx\u300d\n\u30c6\u30ad\u30b9\u30c8D:\u300cPerfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx\u300d\n\u30c6\u30ad\u30b9\u30c8E:\u300c\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx\u300d\n```\n\n### <i class=\"fa fa-scissors\" style=\"font-size:1em;\"></i> tokenizing\n\n\u524d\u56de\u306e\u8a18\u4e8b\u306e\u901a\u308atokenizing\u306b\u306f**Mecab**\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u3068\u306f\u8a00\u3063\u3066\u3082\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30c8\u30fc\u30af\u30f3\u5316\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3001**TfidfVectorizer**\u521d\u671f\u5316\u6642\u306b\u6e21\u3057\u3066\u3042\u3052\u308b\u3060\u3051\u3067\u826f\u3044\u3088\u3046\u3067\u3059\u3002\n\n```py\ndef mecab_tokenizer(text):\n    \"\"\"Mecab\u3092\u4f7f\u3063\u305f\u30c8\u30fc\u30af\u30f3\u5316\u51e6\u7406(\u7701\u7565)\"\"\"\n    return word_list\n\nvectorizer = TfidfVectorizer(tokenizer=mecab_tokenizer)\n```\n\n\u3061\u306a\u307f\u306b\u985e\u4f3c\u3059\u308btoken\u3092\u57fa\u672c\u5f62\u306b\u3057\u3066\u5171\u901a\u5316\u3059\u308b\u51e6\u7406**\u300c\u30b9\u30c6\u30df\u30f3\u30b0\u51e6\u7406\u300d**\u306f\u5f8c\u307b\u3069\u30b3\u30fc\u30c9\u3067\u793a\u3057\u307e\u3059\u304ctokenize\u95a2\u6570\u5185\u3067\u3057\u308c\u3063\u3068\u3084\u3063\u3066\u307e\u3059\u3002\nMecab\u3067\u5f62\u614b\u7d20\u89e3\u6790\u3059\u308b\u3068\u5358\u8a9e\u6bce\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u60c5\u5831\u304c\u5f97\u3089\u308c\u3001\u57fa\u672c\u5f62\u3082\u5206\u304b\u308b(6\u3064\u76ee\u306e\u8981\u7d20)\u306e\u3067\u3001\n\u3053\u308c\u3092token\u3068\u3057\u3066\u4f7f\u3046\u3053\u3068\u3067\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002(\u3053\u306e\u6642\u70b9\u3067\u306e\u3063\u3061\u306f\u7247\u4eee\u540d\u3067\u30ce\u30c3\u30c1\u2026)\n\n```text:\u30c6\u30ad\u30b9\u30c8A\u306e\u5f62\u614b\u7d20\u89e3\u6790\u7d50\u679c:\n\u540d\u8a5e,\u4e00\u822c,*,*,*,*,\u30ce\u30c3\u30c1,\u30ce\u30c3\u30c1,\u30ce\u30c3\u30c1\n\u5f62\u5bb9\u8a5e,\u81ea\u7acb,*,*,\u5f62\u5bb9\u8a5e\u30fb\u30a4\u6bb5,\u57fa\u672c\u5f62,\u53ef\u611b\u3044,\u30ab\u30ef\u30a4\u30a4,\u30ab\u30ef\u30a4\u30a4\n\u540d\u8a5e,\u56fa\u6709\u540d\u8a5e,\u4e00\u822c,*,*,*,Perfume,\u30d1\u30d5\u30e5\u30fc\u30e0,\u30d1\u30d5\u30e5\u30fc\u30e0\n\u540d\u8a5e,\u56fa\u6709\u540d\u8a5e,\u4e00\u822c,*,*,*,HTTPS,\u30a8\u30a4\u30c1\u30c6\u30a3\u30fc\u30c6\u30a3\u30fc\u30d4\u30fc\u30a8\u30b9,\u30a8\u30a4\u30c1\u30c6\u30a3\u30fc\u30c6\u30a3\u30fc\u30d4\u30fc\u30a8\u30b9\n```\n\nMecab\u306b\u3088\u308b\u5f62\u614b\u7d20\u89e3\u6790\u306b\u3064\u3044\u3066\u306f[\u30b9\u30bf\u30d0\u306eTwitter\u30c7\u30fc\u30bf\u3092python\u3067\u5927\u91cf\u306b\u53d6\u5f97\u3057\u3001\u30c7\u30fc\u30bf\u5206\u6790\u3092\u8a66\u307f\u308b \u305d\u306e\uff13](http://qiita.com/kenmatsu4/items/02034e5688cc186f224b)\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\n### <i class=\"fa fa-calculator\" style=\"font-size:1em;\"></i> counting/normalizing\n\n\u3053\u308c\u3089\u306f**TfidfVectorizer**\u304c\u826f\u3044\u611f\u3058\u3067\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u3002\ntf-idf\u306e\u6982\u5ff5\u306b\u3064\u3044\u3066\u306f\u300c[scikit-learn \u3067 TF-IDF \u3092\u8a08\u7b97\u3059\u308b](http://qiita.com/ynakayama/items/05ab9ab9b7c579894bd7)\u300d\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f\u3002\n\n\u3055\u3089\u306b\u51fa\u73fe\u56de\u6570\u304c\u591a\u3059\u304e\u3066\u91cd\u8981\u5ea6\u304c\u4f4e\u3044\u5358\u8a9e\u3092\u53d6\u308a\u9664\u304f\u51e6\u7406**\u300c\u30b9\u30c8\u30c3\u30d7\u30ef\u30fc\u30c9\u9664\u53bb\u300d**\u3082\u3001**TfidfVectorizer**\u306b\u6559\u3048\u3066\u3042\u3052\u308c\u3070\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u3002\u4fbf\u5229\u3002\u3053\u3053\u3067\u306f\u5168\u3066\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u542b\u307e\u308c\u308b**\u300cPerfume\u300d**\u3068**\u300cHTTPS\u300d**\u3092\u9664\u5916\u3059\u308b\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\n\u9006\u306b\u51fa\u73fe\u56de\u6570\u304c\u5c11\u306a\u3044\u5358\u8a9e\u3092\u7121\u8996\u3057\u305f\u3044\u6642\u306fmin_df\u3092\u6307\u5b9a\u3057\u3066\u9664\u5916\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306a\u3093\u3068\u306a\u304f**\u300c1\u300d**\u3092\u6307\u5b9a\u3057\u307e\u3057\u305f\u304c\u3001\u8a08\u7b97\u65b9\u6cd5\u306f\u5206\u304b\u3063\u3066\u304a\u3089\u305a\u3001\n\u307e\u305f\u5024\u3092\u5909\u3048\u3066\u3082\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3067\u306f\u30c7\u30fc\u30bf\u91cf\u304c\u5c11\u306a\u904e\u304e\u308b\u306e\u304b\u52b9\u679c\u306f\u5206\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u2026\u4eca\u5f8c\u8981\u691c\u8a3c\u3067\u3059\u3002\n\n```py:\n vectorizer = TfidfVectorizer(\n        min_df=1, stop_words=[u\"Perfume\", u\"HTTPS\"], tokenizer=mecab_tokenizer)\n```\n\n### <i class=\"fa fa-file-code-o\" style=\"font-size:1em;\"></i> \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\n\u3055\u3066\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3057\u305f\u3002(mecab_tokenizer\u3082\u6587\u5b57\u30b3\u30fc\u30c9\u3067\u5730\u5473\u306b\u30cf\u30de\u308a\u307e\u3057\u305f\u3002)\n\n```py:tw_ml.py(\u629c\u7c8b)\n# !/usr/bin/env python\n# -*- coding:utf-8 -*-\nimport codecs\nimport ast\nimport MeCab as mc\nimport numpy as np\nfrom sklearn.feature_extraction.text import TfidfVectorizer\n\nMECAB_OPT = \"-Ochasen -d C:\\\\tmp\\\\mecab-ipadic-neologd\\\\\"\n\nSAMPLE_DATA = [\n    u\"\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\",\n    u\"Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\",\n    u\"\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx\",\n    u\"Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx\",\n    u\"\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx\"\n]\n\n\ndef mecab_tokenizer(text):\n    t = mc.Tagger(MECAB_OPT)\n    node = t.parseToNode(text.encode(\"utf-8\"))\n    word_list = list()\n\n    while node:\n\n        if node.surface != \"\":  # \u30d8\u30c3\u30c0\u3068\u30d5\u30c3\u30bf\u3092\u9664\u5916\n            res = node.feature.split(\",\")\n            word_type = res[0]\n            if word_type in [\"\u540d\u8a5e\", \"\u52d5\u8a5e\", \"\u5f62\u5bb9\u8a5e\", \"\u526f\u8a5e\"]:\n                basic_word = res[6]\n                if basic_word != \"*\":\n                    word_list.append(basic_word.decode(\"utf-8\"))\n\n        node = node.next\n        if node is None:\n            break\n    return word_list\n\n\ndef main():\n    vectorizer = TfidfVectorizer(\n        min_df=1, stop_words=[u\"Perfume\", u\"HTTPS\"], tokenizer=mecab_tokenizer)\n\n    # \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3092\u4f7f\u3046\u306e\u3067\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u306e\u8aad\u307f\u8fbc\u307f\u51e6\u7406\u306f\u4e00\u65e6\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3002\n    # with codecs.open(\"es.log\", \"r\", \"utf-8\") as f:\n    #    es_dict = ast.literal_eval(f.read())\n    # print \"doc:%d\" % len(es_dict)  # doc:265\n    # text_list = [es_doc[\"_source\"][\"text\"] for es_doc in es_dict]\n\n    # \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3067\u4ee3\u5165\n    text_list = SAMPLE_DATA\n\n    # \u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u306e\u30d9\u30af\u30c8\u30eb\u5316\n    tfidf_weighted_matrix = vectorizer.fit_transform(text_list)\n\n    # \u30d9\u30af\u30c8\u30eb\u60c5\u5831\u3092\u78ba\u8a8d\n    print u\"\u30c6\u30ad\u30b9\u30c8\u6570:%d,\u5358\u8a9e\u306e\u7a2e\u985e\u6570:%d\" % tfidf_weighted_matrix.shape\n    print u\"\u5358\u8a9e\u306e\u7a2e\u985e:%s\\n\" % \",\".join(vectorizer.get_feature_names())\n    for n, text in enumerate(text_list):\n        print \"[%s]\" % text\n        print u\"\u91cd\u307f: %s\\n\" % \",\".join([\"%s:%.2f\" % (token, weight) for token, weight in\n                                      zip(vectorizer.get_feature_names(),\n                                          tfidf_weighted_matrix.getrow(n).toarray()[0]\n                                          )])\n\nif __name__ == '__main__':\n    main()\n```\n\n### <i class=\"fa fa-play\" style=\"font-size:1em;\"></i> \u5b9f\u884c\u7d50\u679c\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u91cd\u307f\u4ed8\u3051\u3057\u305f\u30d9\u30af\u30c8\u30eb\u5316\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002\n\n```text:\u5b9f\u884c\u7d50\u679c:\n\u30c6\u30ad\u30b9\u30c8\u6570:5,\u5358\u8a9e\u306e\u7a2e\u985e\u6570:14\n\u5358\u8a9e\u306e\u7a2e\u985e:London,NowPlaying,a,in,\u3044\u3044,\u304f\u308b,\u3059\u3054\u3044,\u30ab\u30c3\u30b3,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3,\u30ce\u30c3\u30c1,\u30e9\u30a4\u30d6,\u53ef\u611b\u3044,\u6f14\u51fa,\u884c\u304f\n\n[\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.71,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.71,\u6f14\u51fa:0.00,\u884c\u304f:0.00\n\n[Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.78,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.63,\u884c\u304f:0.00\n\n[\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.78,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.63,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.00,\u884c\u304f:0.00\n\n[Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.46,NowPlaying:0.00,a:0.46,in:0.46,\u3044\u3044:0.00,\u304f\u308b:0.46,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.00,\u884c\u304f:0.37\n\n[\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.45,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.45,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.36,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.45,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.36,\u884c\u304f:0.36\n```\n\n\u3061\u3087\u3063\u3068\u898b\u3065\u3089\u3044\u306e\u3067\u7d50\u679c\u3092\u8868\u306b\u3057\u307e\u3059\u3002\n1\u30c6\u30ad\u30b9\u30c8\u4e2d\u306e\u5358\u8a9e\u306e\u91cd\u307f\u4ed8\u3051\u3092\u773a\u3081\u3066\u307f\u308b\u3068**\u300c\u5f53\u8a72\u5358\u8a9e\u4ee5\u5916\u306b\u767b\u5834\u3059\u308b\u5358\u8a9e\u304c\u5c11\u306a\u3044\u300d\u300c\u5f53\u8a72\u5358\u8a9e\u304c\u4ed6\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u542b\u307e\u308c\u306a\u3044\u300d**\u5834\u5408\u306b\u5024\u304c\u9ad8\u304f\u306a\u3063\u3066\u304a\u308a\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u7279\u5fb4\u3092\u8868\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n|\u5358\u8a9e|\u30c6\u30ad\u30b9\u30c8A|\u30c6\u30ad\u30b9\u30c8B|\u30c6\u30ad\u30b9\u30c8C|\u30c6\u30ad\u30b9\u30c8D|\u30c6\u30ad\u30b9\u30c8E|\n|:-----------|:-----------|:-----------|:-----------|:-----------|:-----------|\n|London|0|0|0|0.46|0|\n|NowPlaying|0|0|0.78|0|0|\n|a|0|0|0|0.46|0|\n|in|0|0|0|0.46|0|\n|\u3044\u3044|0|0|0|0|0.45|\n|\u304f\u308b|0|0|0|0.46|0|\n|\u3059\u3054\u3044|0|0.78|0|0|0|\n|\u30ab\u30c3\u30b3|0|0|0|0|0.45|\n|\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3|0|0|0.63|0|0.36|\n|\u30ce\u30c3\u30c1|0.71|0|0|0|0|\n|\u30e9\u30a4\u30d6|0|0|0|0|0.45|\n|\u53ef\u611b\u3044|0.71|0|0|0|0|\n|\u6f14\u51fa|0|0.63|0|0|0.36|\n|\u884c\u304f|0|0|0|0.37|0.36|\n\n\u306a\u304aTfidfVectorizer\u3067\u306f\u306a\u304f\u3001CountVectorizer\u3092\u4f7f\u3063\u305f\u5834\u5408\u3001\n\u5358\u8a9e\u767b\u5834\u983b\u5ea6\u304c\u8003\u616e\u3055\u308c\u3066\u7121\u3044\u305f\u3081\u3001\u91cd\u307f\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7d50\u679c(0 or 1)\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u3064\u307e\u308a\u3001\u7279\u5fb4\u306e\u8868\u73fe\u304c\u7c97\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n```text:\u5b9f\u884c\u7d50\u679c(CountVectorizer\u306e\u5834\u5408):\n[\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:1.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:1.00,\u6f14\u51fa:0.00,\u884c\u304f:0.00\n\n[Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:1.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:1.00,\u884c\u304f:0.00\n\n[\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:1.00,a:0.00,in:0.00,\u3044\u3044:0.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:1.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.00,\u884c\u304f:0.00\n\n[Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:1.00,NowPlaying:0.00,a:1.00,in:1.00,\u3044\u3044:0.00,\u304f\u308b:1.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:0.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:0.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:0.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:0.00,\u884c\u304f:1.00\n\n[\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx]\n\u91cd\u307f: London:0.00,NowPlaying:0.00,a:0.00,in:0.00,\u3044\u3044:1.00,\u304f\u308b:0.00,\u3059\u3054\u3044:0.00,\u30ab\u30c3\u30b3:1.00,\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3:1.00,\u30ce\u30c3\u30c1:0.00,\u30e9\u30a4\u30d6:1.00,\u53ef\u611b\u3044:0.00,\u6f14\u51fa:1.00,\u884c\u304f:1.00\n```\n# <i class=\"fa fa-superscript\" style=\"font-size:1em;\"></i> \u985e\u4f3c\u5ea6\u3092\u7b97\u51fa\u3057\u3066\u307f\u308b\n\n\u3053\u3053\u307e\u3067\u3067\u3001KMeans\u306b\u306f\u30d9\u30af\u30c8\u30eb\u5316\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u3042\u308c\u3070\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3067\u304d\u308b\u306e\u3067\u3001\u6e96\u5099\u306f\u6574\u3044\u307e\u3057\u305f(\u591a\u5206)\u3002\n\u5ff5\u306e\u305f\u3081\u3053\u3053\u3067\u3001\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u524d\u306b\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u30ce\u30eb\u30e0(\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u8ddd\u96e2)\u306b\u3088\u308b\u30c6\u30ad\u30b9\u30c8\u540c\u58eb\u306e\u985e\u4f3c\u5ea6\u3092\u7b97\u51fa\u3057\u3066\u307f\u3066\u3001\u30d9\u30af\u30c8\u30eb\u5316\u304c\u9069\u5207\u304b\u3056\u3063\u304f\u308a\u898b\u3066\u304a\u304f\u3053\u3068\u306b\u3057\u307e\u3059\u3002\n\n\u305d\u3046\u3001\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u8ddd\u96e2\u3068\u306f\u2026\uff01\u2026\u300c[\u30c7\u30fc\u30bf\u30de\u30a4\u30cb\u30f3\u30b0 \u30af\u30e9\u30b9\u30bf\u30fc\u5206\u6790](http://www.albert2005.co.jp/technology/mining/cluster1.html)\u300d\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\uff01(\u6700\u5f8c\u307e\u3067\u4ed6\u529b\u672c\u9858)\n\n\u8a66\u3057\u306b\u3001\u4ee5\u4e0b\u306e\u985e\u4f3c\u5ea6\u78ba\u8a8d\u7528\u306e\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf\u306b\u3064\u3044\u3066\u540c\u3058\u304f\u30d9\u30af\u30c8\u30eb\u5316\u3057\u3001\n\u4e0a\u8a18\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u3068\u4e00\u756a\u985e\u4f3c\u3057\u3066\u3044\u308b\u3082\u306e\u3092\u898b\u3064\u3051\u3066\u307f\u307e\u3059\u3002\n\n```text:\u985e\u4f3c\u5ea6\u8a66\u9a13\u7528\u30c6\u30ad\u30b9\u30c8\u30c7\u30fc\u30bf:\n\u300cPerfume\u306e\u6f14\u51fa\u306a\u3069\u3067\u6d3b\u8e8d\u3059\u308b\u771f\u934b\u5927\u5ea6\u3055\u3093\u7387\u3044\u308b\u30e9\u30a4\u30be\u30de\u30c6\u30a3\u30af\u30b9 https://t.co/xxxxxxxxxxxx\u300d\n\u300c\u30ce\u30c3\u30c1\u53ef\u611b\u3044 #\u30c7\u30f3\u30b8\u30e3\u30e9\u30b9 #Perfume\u3067\u306f\u306a\u3044 https://t.co/xxxxxxxxxxxx\u300d\n```\n\n\u30b3\u30fc\u30c9\u306f\u3001\u3055\u3063\u304d\u306e\u30b3\u30fc\u30c9\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3059\u308b\u3088\u3046\u306a\u611f\u3058\u3067\u3059\u3002\n\n```py:tw_ml.py(\u629c\u7c8b)\n\n    # \u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u8ddd\u96e2\u8a08\u7b97\n    def dist_raw(v1, v2):\n        delta = v1 - v2\n        return np.linalg.norm(delta.toarray())\n\n    # \u985e\u4f3c\u5ea6\u8a66\u9a13\u7528\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u30d9\u30af\u30c8\u30eb\u5316\u3002\n    test_text_list = [\n        u\"Perfume\u306e\u6f14\u51fa\u306a\u3069\u3067\u6d3b\u8e8d\u3059\u308b\u771f\u934b\u5927\u5ea6\u3055\u3093\u7387\u3044\u308b\u30e9\u30a4\u30be\u30de\u30c6\u30a3\u30af\u30b9 https://t.co/xxxxxxxxxxxx\",\n        u\"\u30ce\u30c3\u30c1\u53ef\u611b\u3044 #\u30c7\u30f3\u30b8\u30e3\u30e9\u30b9 #Perfume\u3067\u306f\u306a\u3044 https://t.co/xxxxxxxxxxxx\"\n    ]\n    test_tfidf_weighted_matrix = vectorizer.transform(test_text_list)\n\n    # \u30c6\u30ad\u30b9\u30c8\u6bce\u306b\u985e\u4f3c\u5ea6\u3092\u51fa\u3057\u3066\u307f\u308b\u3002\n    for testn, test_vec in enumerate(test_tfidf_weighted_matrix):\n        print \"Test No%i text:%s\" % (testn, test_text_list[testn])\n        dest_list = list()\n        for n, text in enumerate(text_list):\n            text_vec = tfidf_weighted_matrix.getrow(n)\n            d = dist_raw(text_vec, test_vec)\n            print \"- No%i dist:%.2f, text:%s\" % (n, d, text)\n            dest_list.append(d)\n\n        min_dest = min(dest_list)\n        min_text_num = dest_list.index(min_dest)\n        min_text = text_list[min_text_num]\n        # \u6700\u3082\u985e\u4f3c\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u3092\u8868\u793a\n        print \"Best Match:No%i, dist:%.2f, text:%s\" % (min_text_num, min_dest, min_text)\n        print\n```\n\n\u7d50\u679c\u3001\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n```text:\u5b9f\u884c\u7d50\u679c:\nTest No0 text:Perfume\u306e\u6f14\u51fa\u306a\u3069\u3067\u6d3b\u8e8d\u3059\u308b\u771f\u934b\u5927\u5ea6\u3055\u3093\u7387\u3044\u308b\u30e9\u30a4\u30be\u30de\u30c6\u30a3\u30af\u30b9 https://t.co/xxxxxxxxxxxx\n- No0 dist:1.41, text:\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\n- No1 dist:0.86, text:Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\n- No2 dist:1.41, text:\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx\n- No3 dist:1.41, text:Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx\n- No4 dist:1.13, text:\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx\nBest Match:No1, dist:0.86, text:Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\n\nTest No1 text:\u30ce\u30c3\u30c1\u53ef\u611b\u3044 #\u30c7\u30f3\u30b8\u30e3\u30e9\u30b9 #Perfume\u3067\u306f\u306a\u3044 https://t.co/xxxxxxxxxxxx\n- No0 dist:0.00, text:\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\n- No1 dist:1.41, text:Perfume\u306e\u6f14\u51fa\u30b9\u30b4\u30a4 #prfm #Perfume_um https://t.co/xxxxxxxxxxxx\n- No2 dist:1.41, text:\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30fb\u30c7\u30a3\u30b9\u30b3 / Perfume #NowPlaying https://t.co/xxxxxxxxxxxx\n- No3 dist:1.41, text:Perfume A Gallery Experience in London\u306b\u884c\u3063\u3066\u304d\u307e\u3057\u305f https://t.co/xxxxxxxxxxxx\n- No4 dist:1.41, text:\u30c1\u30e7\u30b3\u30ec\u30a4\u30c8\u30c7\u30a3\u30b9\u30b3\u306e\u6f14\u51fa\u30ab\u30c3\u30b3\u3044\u3044\u3002\u30e9\u30a4\u30d6\u884c\u304d\u305f\u3044\u3002#Perfume https://t.co/xxxxxxxxxxxx\nBest Match:No0, dist:0.00, text:\u306e\u3063\u3061\u53ef\u611b\u3044 #Perfume https://t.co/xxxxxxxxxxxx\n```\n\n\u4eba\u9593\u3067\u898b\u305f\u76ee\u3067\u6bd4\u3079\u305f\u611f\u3058\u3068\u3001\u6570\u5024\u304c\u8868\u3059\u30d9\u30af\u30c8\u30eb\u306e\u8ddd\u96e2\u304c\u8fd1\u3055(=\u985e\u4f3c\u5ea6\u304c\u9ad8\u3055)\u304c\u3001\u3042\u308b\u7a0b\u5ea6\u4e00\u81f4\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u601d\u3044\u307e\u3059\u3002\u30d9\u30af\u30c8\u30eb\u5316\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3001\u985e\u4f3c\u5ea6\u304c\u6b63\u3057\u304f\u8a08\u7b97\u3067\u304d\u3066\u3044\u307e\u3059\u306d\u3001\u304d\u3063\u3068\uff01\uff01\u2190\n\n\u3057\u304b\u3057\u30c7\u30f3\u30b8\u30e3\u30e9\u30b9\u306e\u30ce\u30c3\u30c1\u3092\u9664\u5916\u3059\u308b\u65b9\u6cd5\u304c\u6d6e\u304b\u3070\u306a\u3044\u2026Mecab\u306e\u8f9e\u66f8\u3092\u5f04\u308b\u3057\u304b\u306a\u3044\u306e\u304b\u306a\u2026\u3002\n\n# <i class=\"fa fa-hand-rock-o\" style=\"font-size:1em;\"></i> \u3084\u3063\u3068\n\u30d9\u30af\u30c8\u30eb\u5316\u3001\u985e\u4f3c\u5ea6\u306e\u7b97\u51fa\u304b\u51fa\u6765\u305f\u306e\u3067\u3001\u6b21\u56de\u306fKMeans\u306b\u30d9\u30af\u30c8\u30eb\u3092\u98df\u308f\u305b\u3066\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u307f\u307e\u3059\uff01(\u9577\u304b\u3063\u305f\u2026)\n\n# <i class=\"fa fa-pencil-square-o\" style=\"font-size:1em;\"></i> \u53c2\u8003\u306b\u306a\u308a\u307e\u3057\u305f\uff01\n- [\u4eba\u5de5\u77e5\u80fd\u306b\u304a\u3051\u308b\u300c\u6a5f\u68b0\u5b66\u7fd2\u300d\u306e\u4f4d\u7f6e\u4ed8\u3051](http://itpro.nikkeibp.co.jp/atclact/active/16/030800006/030800002/)\n- [scikit-learn \u304b\u3089\u5b66\u3076\u6a5f\u68b0\u5b66\u7fd2\u306e\u624b\u6cd5\u306e\u6982\u8981](http://qiita.com/ynakayama/items/9c5867b6947aa41e9229)\n- [[\u521d\u5fc3\u8005\u5411\u3051]\u6a5f\u68b0\u5b66\u7fd2\u306b\u304a\u3051\u308b\u30d9\u30af\u30c8\u30eb\u5316 \u5165\u9580](http://qiita.com/ken5scal/items/f1c949a089f3ca233af5)\n- [4.2. Feature extraction](http://scikit-learn.org/stable/modules/feature_extraction.html#text-feature-extraction)\n- [\u30af\u30e9\u30b9\u5206\u985e\u3068\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u306e\u9055\u3044](http://blogs.itmedia.co.jp/takafumi/2015/09/post_3.html)\n- [\u30af\u30e9\u30b9\u30bf\u30ea\u30f3\u30b0\u3068\u30af\u30e9\u30b9\u5206\u985e](http://www.mindware-jp.com/basic/group.html)\n- [\u30b9\u30bf\u30d0\u306eTwitter\u30c7\u30fc\u30bf\u3092python\u3067\u5927\u91cf\u306b\u53d6\u5f97\u3057\u3001\u30c7\u30fc\u30bf\u5206\u6790\u3092\u8a66\u307f\u308b \u305d\u306e\uff13](http://qiita.com/kenmatsu4/items/02034e5688cc186f224b)\n- [TF-IDF \u3067\u6587\u66f8\u3092\u30d9\u30af\u30c8\u30eb\u5316\u3002python \u306e TfidfVectorizer \u3092\u4f7f\u3063\u3066\u307f\u308b](http://ailaby.com/tfidf/)\n- [scikit-learn\u3067tf-idf\u3092\u8a08\u7b97\u3059\u308b](http://qiita.com/katryo/items/f86971afcb65ce1e7d40)\n- [scikit-learn \u3067 TF-IDF \u3092\u8a08\u7b97\u3059\u308b](http://qiita.com/ynakayama/items/05ab9ab9b7c579894bd7)\n- [\u30c7\u30fc\u30bf\u30de\u30a4\u30cb\u30f3\u30b0\u3000\u30af\u30e9\u30b9\u30bf\u30fc\u5206\u6790](http://www.albert2005.co.jp/technology/mining/cluster1.html)\n", "tags": ["Python", "\u6a5f\u68b0\u5b66\u7fd2", "Twitter", "\u65e5\u672c\u8a9e", "scikit-learn"]}