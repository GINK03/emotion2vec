{"context": "2017\u5e741\u67082\u65e5\u306e\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f1.2\u306e\u5909\u66f4\u70b9\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\u306a\u304a\u3001\n\nmybatis-spring-boot-starter\u306e\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u3061\u3089\uff08\u30d0\u30fc\u30b8\u30e7\u30f31.2\u5bfe\u5fdc\u6e08\u307f\uff09\nmybatis-spring-boot-starter 1.0\u304b\u30891.1\u306e\u5909\u66f4\u70b9\u306b\u3064\u3044\u3066\u306f\u3001\u3053\u3061\u3089\n\n\n\u3092\u3054\u89a7\u4e0b\u3055\u3044\u3002\n\n\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5fc5\u9808\u30d0\u30fc\u30b8\u30e7\u30f3\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5fc5\u9808\u306b\u306a\u308a\u307e\u3059\u3002\n\nMyBatis 3.4+\nMybatis-Spring 1.3+\nSpring 4.3+\n\n\nSpring 4.3+(Spring Boot 1.4+)\u304c\u5fc5\u9808\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u306f\u3001Spring 4.3\u304b\u3089\u8ffd\u52a0\u3055\u308c\u305fObjectProvider\u3092\u5229\u7528\u3057\u3066\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u3046\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001Spring 4.3\u30d9\u30fc\u30b9\u306eSpring Boot 1.4+\u304c\u5fc5\u9808\u306b\u306a\u308a\u307e\u3059\u3002\n\u306a\u304a\u3001Mapper\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u6642\u306b\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9(\u4f8b\uff1amybatis.mapper-locations=classpath*:**/mapper/*.xml)\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001Spring Boot 1.4.3+(Spring 4.3.5+)\u3092\u4f7f\u308f\u306a\u3044\u3068Mapper\u30d5\u30a1\u30a4\u30eb\u304c\u91cd\u8907\u3057\u3066\u8aad\u307f\u8fbc\u3080\u4e0d\u5177\u5408\u306b\u906d\u9047\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059(gh-108)\u3002\n\nNote:\nSpring 4.2(Spring Boot 1.3)\u4e0a\u3067\u4f7f\u3046\u5834\u5408\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.1.1\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u30d0\u30fc\u30b8\u30e7\u30f3\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u66f4\u65b0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u540d\n1.1.1\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n1.2.0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\n\n\nMyBatis\n3.4.0\n3.4.2\n\n\nMyBatis Spring\n1.3.0\n1.3.1\n\n\nSpring Boot\n1.3.3.RELEASE\n1.4.3.RELEASE\n\n\n\n\n\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u306e\u4f9d\u5b58\u69cb\u9020\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u306f\u3001mybatis-spring-boot-starter\u53ca\u3073mybatis-spring-boot-autoconfigure\u306e\u4f9d\u5b58\u69cb\u9020\u306e\u898b\u76f4\u3057\u304c\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001Spring Boot\u306e\u30b3\u30a2\u30b3\u30df\u30c3\u30bf\u30fc\u306e\u4e00\u4eba\u3067\u3042\u308bSt\u00e9phane Nicoll\u6c0f\u304b\u3089\u306e\u6307\u6458\u3092\u53d7\u3051\u3066\u306e\u5bfe\u5fdc\u306b\u306a\u308a\u307e\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u30fb\u30fb\u30fb\u30d0\u30fc\u30b8\u30e7\u30f31.1\u3067\u306f\u3001\n[INFO] +- org.mybatis.spring.boot:mybatis-spring-boot-starter:jar:1.1.1:compile\n[INFO] |  \\- org.mybatis.spring.boot:mybatis-spring-boot-autoconfigure:jar:1.1.1:compile\n[INFO] |     +- org.mybatis:mybatis:jar:3.4.0:compile\n[INFO] |     +- org.mybatis:mybatis-spring:jar:1.3.0:compile\n[INFO] |     +- org.springframework.boot:spring-boot:jar:1.4.3.RELEASE:compile\n[INFO] |     |  \\- org.springframework:spring-context:jar:4.3.5.RELEASE:compile\n[INFO] |     |     +- org.springframework:spring-aop:jar:4.3.5.RELEASE:compile\n[INFO] |     |     +- org.springframework:spring-beans:jar:4.3.5.RELEASE:compile\n[INFO] |     |     \\- org.springframework:spring-expression:jar:4.3.5.RELEASE:compile\n[INFO] |     +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.3.RELEASE:compile\n[INFO] |     \\- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.3.RELEASE:compile\n[INFO] |        +- org.springframework.boot:spring-boot-starter:jar:1.4.3.RELEASE:compile\n[INFO] |        |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.4.3.RELEASE:compile\n[INFO] |        |  |  +- ch.qos.logback:logback-classic:jar:1.1.8:compile\n[INFO] |        |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.8:compile\n[INFO] |        |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.22:compile\n[INFO] |        |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.22:compile\n[INFO] |        |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.22:compile\n[INFO] |        |  \\- org.yaml:snakeyaml:jar:1.17:runtime\n[INFO] |        +- org.apache.tomcat:tomcat-jdbc:jar:8.5.6:compile\n[INFO] |        |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.6:compile\n[INFO] |        \\- org.springframework:spring-jdbc:jar:4.3.5.RELEASE:compile\n[INFO] |           \\- org.springframework:spring-tx:jar:4.3.5.RELEASE:compile\n\n\u3068\u306a\u3063\u3066\u3044\u305f\u3068\u3053\u308d\u304c\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u306f\u3001\n[INFO] +- org.mybatis.spring.boot:mybatis-spring-boot-starter:jar:1.2.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.4.3.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework:spring-context:jar:4.3.5.RELEASE:compile\n[INFO] |  |  |     +- org.springframework:spring-aop:jar:4.3.5.RELEASE:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:4.3.5.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.4.3.RELEASE:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.1.8:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.8:compile\n[INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.22:compile\n[INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.22:compile\n[INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.22:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.17:runtime\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.6:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.6:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.5.RELEASE:compile\n[INFO] |  |     +- org.springframework:spring-beans:jar:4.3.5.RELEASE:compile\n[INFO] |  |     \\- org.springframework:spring-tx:jar:4.3.5.RELEASE:compile\n[INFO] |  +- org.mybatis.spring.boot:mybatis-spring-boot-autoconfigure:jar:1.2.0:compile\n[INFO] |  +- org.mybatis:mybatis:jar:3.4.2:compile\n[INFO] |  \\- org.mybatis:mybatis-spring:jar:1.3.1:compile\n\n\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4f55\u304c\u5909\u308f\u3063\u305f\u304b\u3068\u3044\u3046\u3068\u30fb\u30fb\u30fb\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.1\u3067\u306f\u3001mybatis-spring-boot-starter\u306fmybatis-spring-boot-autoconfigure\u3060\u3051\u306b\u4f9d\u5b58\u3057\u3001mybatis-spring-boot-autoconfigure\u304cMyBatis, MyBatis-Spring, Spring Boot\u3068\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u3082\u3063\u3066\u3044\u307e\u3057\u305f\u3002\u4e00\u898b\u3059\u308b\u3068\u554f\u984c\u306a\u3044\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u5b9f\u8cea\u7684\u306bmybatis-spring-boot-autoconfigure\u304cStarter\u306e\u5f79\u5272\u3082\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u3053\u306e\u90e8\u5206\u304cSpring Boot\u304c\u63d0\u4f9b\u3059\u308bStarter\u3068AutoConfigure\u306e\u8003\u3048\u65b9\u3068\u7570\u306a\u308b\u3088!!\u3063\u3066\u3053\u3068\u3067\u3057\u305f\u3002\n\u3053\u308c\u306f\u30fb\u30fb\u30fbAutoConfigure\u306e\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u3060\u3051\u3092\u8ffd\u52a0\u3057\u305f\u5834\u5408\u306b\u3001Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u526f\u4f5c\u7528\u304c\u51fa\u306a\u3044\u3088\u3046\u306b\u3059\u308b\uff08\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u50cd\u304b\u306a\u3044\u72b6\u614b\u306b\u3059\u308b\uff09\u3079\u304d\u3067\u3001\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u3068\u306a\u308b\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u7fa4\u3092\u4e00\u767a\u3067\u89e3\u6c7a\u3059\u308b\u5f79\u5272\u304cStarter\u3060\u3088\u306d\uff01\uff01\u3063\u3066\u3053\u3068\u307f\u305f\u3044\u3067\u3059\u3002\n\nWarning:\n\u4f9d\u5b58\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u3068\u3057\u3066mybatis-spring-boot-starter\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3053\u306e\u5909\u66f4\u306e\u5f71\u97ff\u3092\u3046\u3051\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u3082\u3057mybatis-spring-boot-autoconfigure\u306e\u65b9\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3092\u4f7f\u3046\u969b\u306bmybatis-spring-boot-starter\u3092\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nmybatis.configuration-properties\u306e\u8ffd\u52a0\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3088\u308a\u3001\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0(${\u30ad\u30fc\u540d})\u306b\u7f6e\u304d\u63db\u3048\u308b\u5024\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306e\u65b0\u3057\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\uff08mybatis.configuration-properties\uff09\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u306f\u3001MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3001Mapper XML\u30d5\u30a1\u30a4\u30eb\u3001SQL\u5b9a\u7fa9\u306e\u7f6e\u63db\u5909\u6570\u3001\u4e00\u90e8\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u5024\u306e\u4e2d\u3067\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u30d7\u30ed\u30d1\u30c6\u30a3\u3067\u6307\u5b9a\u53ef\u80fd\u306a\u5f62\u5f0f\u306f\u3001\nmybatis.configuration-properties.\u30ad\u30fc\u540d=\u30ad\u30fc\u5024\n\n\u3067\u30fb\u30fb\u30fb\u4f8b\u3048\u3070\u3001\n\nsrc/main/resources/application.properties\nmybatis.configuration-properties.db.schema=prod\n\n\n\u3068\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067${db.schema}\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3053\u308c\u306f\u30fb\u30fb\u30fbMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u8868\u73fe\u3059\u308b\u3068\u3001\n\nmybatis-config.xml\n<properties>\n    <property name=\"db.schema\" value=\"prod\" />\n</properties>\n\n\nMyBatis Spring\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308borg.mybatis.spring.SqlSessionFactoryBean\u3092\u4f7f\u3063\u3066\u8868\u73fe\u3059\u308b\u3068\u3001\n@Bean\nSqlSessionFactoryBean sqlSessionFactory(DataSource dataSource) {\n    SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\n    factoryBean.setDataSource(dataSource);\n    Properties props = new Properties();\n    props.setProperty(\"db.schema\", \"prod\");\n    factoryBean.setConfigurationProperties(props);\n    return factoryBean;\n}\n\nor\n<bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n    <property name=\"dataSource\" ref=\"dataSource\" />\n    <property name=\"configurationProperties\">\n        <props>\n            <prop key=\"db.schema\">prod</prop> \n        </props>\n    </property>\n</bean>\n\n\u306b\u306a\u308a\u307e\u3059\u3002\n\nNote:\n\u5b9f\u306f\u30fb\u30fb\u30fb\u30d0\u30fc\u30b8\u30e7\u30f31.1.1\u3067\u3082\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u540c\u3058\u3053\u3068\u304c\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u65b9\u6cd5\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u3082\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u3001\u540c\u3058\u30ad\u30fc\u540d\u304c\u3042\u308b\u5834\u5408\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u8ffd\u52a0\u3055\u308c\u305fmybatis.configuration-properties\u3067\u6307\u5b9a\u3057\u305f\u5024\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002\n\nsrc/main/resources/application.properties\nmybatis.configuration.variables.db.schema=prod\n\n\n\u305f\u3068\u3048\u3070\u30fb\u30fb\u30fbmybatis.configuration.variables\u306b\u306f\u74b0\u5883\u4f9d\u5b58\u3057\u306a\u3044\u5024\uff08or \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff09\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u6bce\uff08\u74b0\u5883\u6bce\uff09\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u3067mybatis.configuration-properties\u3092\u4f7f\u7528\u3057\u3066\u74b0\u5883\u4f9d\u5b58\u5024\u306b\u4e0a\u66f8\u304d\u3059\u308b\u3068\u3044\u3063\u305f\u4f7f\u3044\u65b9\u3082\u3067\u304d\u307e\u3059\u3002\n\n\nmybatis.configuration\u914d\u4e0b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u3068IDE\u306e\u9023\u643a\n\u30d0\u30fc\u30b8\u30e7\u30f31.1\u304b\u3089org.apache.ibatis.session.Configuration\u3092\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30d1\u30c6\u30a3(mybatis.configuration.*)\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3057\u305f\u304c\u3001STS\u3084IntelliJ IDEA\u306a\u3069\u306eIDE\u4e0a\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u304c\u88dc\u5b8c\u5bfe\u8c61\u306b\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u3053\u306e\u4e0d\u5177\u5408\u304c\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u89e3\u6d88\u3055\u308c\u307e\u3059\u3002\n\nNote:\n\u305f\u3060\u3057\u30fb\u30fb\u30fb\u4eca\u5ea6\u306f\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u304c\u91cd\u8907\u3059\u308b\u3068\u3044\u3046\u5225\u306e\u554f\u984c(gh-127)\u304c\u30fb\u30fb\u30fb\n\u3053\u308c\u306f\u3001\u30d3\u30eb\u30c9\u6642\u306b\u4f7f\u7528\u3057\u3066\u3044\u308bmaven-bundle-plugin\u306e\u4e0d\u5177\u5408\u306e\u3088\u3046\u3067\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2.1\u3067\u89e3\u6c7a\u3055\u308c\u308b\u4e88\u5b9a\u3067\u3059\u3002\n\n2017\u5e741\u67082\u65e5\u306e\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f1.2\u306e\u5909\u66f4\u70b9\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n\u306a\u304a\u3001\n\n* mybatis-spring-boot-starter\u306e\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u306f\u3001[\u3053\u3061\u3089](http://qiita.com/kazuki43zoo/items/ea79e206d7c2e990e478)\uff08\u30d0\u30fc\u30b8\u30e7\u30f31.2\u5bfe\u5fdc\u6e08\u307f\uff09\n* mybatis-spring-boot-starter 1.0\u304b\u30891.1\u306e\u5909\u66f4\u70b9\u306b\u3064\u3044\u3066\u306f\u3001[\u3053\u3061\u3089](http://qiita.com/kazuki43zoo/items/5c46ac2f539d365aa53b)\n\n\u3092\u3054\u89a7\u4e0b\u3055\u3044\u3002\n\n# \u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5fc5\u9808\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3092\u4f7f\u3046\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5fc5\u9808\u306b\u306a\u308a\u307e\u3059\u3002\n\n* MyBatis 3.4+\n* Mybatis-Spring 1.3+\n* Spring 4.3+\n\n# Spring 4.3+(Spring Boot 1.4+)\u304c\u5fc5\u9808\n\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u306f\u3001Spring 4.3\u304b\u3089\u8ffd\u52a0\u3055\u308c\u305f`ObjectProvider`\u3092\u5229\u7528\u3057\u3066\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u3046\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001Spring 4.3\u30d9\u30fc\u30b9\u306eSpring Boot 1.4+\u304c\u5fc5\u9808\u306b\u306a\u308a\u307e\u3059\u3002\n\u306a\u304a\u3001Mapper\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u6642\u306b\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9(\u4f8b\uff1a`mybatis.mapper-locations=classpath*:**/mapper/*.xml`)\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001Spring Boot 1.4.3+(Spring 4.3.5+)\u3092\u4f7f\u308f\u306a\u3044\u3068Mapper\u30d5\u30a1\u30a4\u30eb\u304c\u91cd\u8907\u3057\u3066\u8aad\u307f\u8fbc\u3080\u4e0d\u5177\u5408\u306b\u906d\u9047\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059([gh-108](https://github.com/mybatis/spring-boot-starter/issues/108))\u3002\n\n> **Note:**\n> Spring 4.2(Spring Boot 1.3)\u4e0a\u3067\u4f7f\u3046\u5834\u5408\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.1.1\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n# \u30e9\u30a4\u30d6\u30e9\u30ea\u30d0\u30fc\u30b8\u30e7\u30f3\n\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u66f4\u65b0\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n| \u30e9\u30a4\u30d6\u30e9\u30ea\u540d | 1.1.1\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 | 1.2.0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 |\n| --------- | --------------- | -------------- |\n| MyBatis | 3.4.0 | 3.4.2 |\n| MyBatis Spring | 1.3.0 | 1.3.1 |\n| Spring Boot | 1.3.3.RELEASE | 1.4.3.RELEASE |\n\n# \u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u306e\u4f9d\u5b58\u69cb\u9020\n\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u306f\u3001`mybatis-spring-boot-starter`\u53ca\u3073`mybatis-spring-boot-autoconfigure`\u306e\u4f9d\u5b58\u69cb\u9020\u306e\u898b\u76f4\u3057\u304c\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001Spring Boot\u306e\u30b3\u30a2\u30b3\u30df\u30c3\u30bf\u30fc\u306e\u4e00\u4eba\u3067\u3042\u308b[St\u00e9phane Nicoll](https://github.com/snicoll)\u6c0f\u304b\u3089\u306e\u6307\u6458\u3092\u53d7\u3051\u3066\u306e\u5bfe\u5fdc\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u5177\u4f53\u7684\u306b\u306f\u30fb\u30fb\u30fb\u30d0\u30fc\u30b8\u30e7\u30f31.1\u3067\u306f\u3001\n\n```\n[INFO] +- org.mybatis.spring.boot:mybatis-spring-boot-starter:jar:1.1.1:compile\n[INFO] |  \\- org.mybatis.spring.boot:mybatis-spring-boot-autoconfigure:jar:1.1.1:compile\n[INFO] |     +- org.mybatis:mybatis:jar:3.4.0:compile\n[INFO] |     +- org.mybatis:mybatis-spring:jar:1.3.0:compile\n[INFO] |     +- org.springframework.boot:spring-boot:jar:1.4.3.RELEASE:compile\n[INFO] |     |  \\- org.springframework:spring-context:jar:4.3.5.RELEASE:compile\n[INFO] |     |     +- org.springframework:spring-aop:jar:4.3.5.RELEASE:compile\n[INFO] |     |     +- org.springframework:spring-beans:jar:4.3.5.RELEASE:compile\n[INFO] |     |     \\- org.springframework:spring-expression:jar:4.3.5.RELEASE:compile\n[INFO] |     +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.3.RELEASE:compile\n[INFO] |     \\- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.3.RELEASE:compile\n[INFO] |        +- org.springframework.boot:spring-boot-starter:jar:1.4.3.RELEASE:compile\n[INFO] |        |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.4.3.RELEASE:compile\n[INFO] |        |  |  +- ch.qos.logback:logback-classic:jar:1.1.8:compile\n[INFO] |        |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.8:compile\n[INFO] |        |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.22:compile\n[INFO] |        |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.22:compile\n[INFO] |        |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.22:compile\n[INFO] |        |  \\- org.yaml:snakeyaml:jar:1.17:runtime\n[INFO] |        +- org.apache.tomcat:tomcat-jdbc:jar:8.5.6:compile\n[INFO] |        |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.6:compile\n[INFO] |        \\- org.springframework:spring-jdbc:jar:4.3.5.RELEASE:compile\n[INFO] |           \\- org.springframework:spring-tx:jar:4.3.5.RELEASE:compile\n```\n\n\u3068\u306a\u3063\u3066\u3044\u305f\u3068\u3053\u308d\u304c\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u306f\u3001\n\n```\n[INFO] +- org.mybatis.spring.boot:mybatis-spring-boot-starter:jar:1.2.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.4.3.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework:spring-context:jar:4.3.5.RELEASE:compile\n[INFO] |  |  |     +- org.springframework:spring-aop:jar:4.3.5.RELEASE:compile\n[INFO] |  |  |     \\- org.springframework:spring-expression:jar:4.3.5.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.4.3.RELEASE:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.1.8:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.8:compile\n[INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.22:compile\n[INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.22:compile\n[INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.22:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.17:runtime\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.3.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.6:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.6:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.5.RELEASE:compile\n[INFO] |  |     +- org.springframework:spring-beans:jar:4.3.5.RELEASE:compile\n[INFO] |  |     \\- org.springframework:spring-tx:jar:4.3.5.RELEASE:compile\n[INFO] |  +- org.mybatis.spring.boot:mybatis-spring-boot-autoconfigure:jar:1.2.0:compile\n[INFO] |  +- org.mybatis:mybatis:jar:3.4.2:compile\n[INFO] |  \\- org.mybatis:mybatis-spring:jar:1.3.1:compile\n```\n\n\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4f55\u304c\u5909\u308f\u3063\u305f\u304b\u3068\u3044\u3046\u3068\u30fb\u30fb\u30fb\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.1\u3067\u306f\u3001`mybatis-spring-boot-starter`\u306f`mybatis-spring-boot-autoconfigure`\u3060\u3051\u306b\u4f9d\u5b58\u3057\u3001`mybatis-spring-boot-autoconfigure`\u304cMyBatis, MyBatis-Spring, Spring Boot\u3068\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u3082\u3063\u3066\u3044\u307e\u3057\u305f\u3002\u4e00\u898b\u3059\u308b\u3068\u554f\u984c\u306a\u3044\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u5b9f\u8cea\u7684\u306b`mybatis-spring-boot-autoconfigure`\u304cStarter\u306e\u5f79\u5272\u3082\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u3053\u306e\u90e8\u5206\u304cSpring Boot\u304c\u63d0\u4f9b\u3059\u308bStarter\u3068AutoConfigure\u306e\u8003\u3048\u65b9\u3068\u7570\u306a\u308b\u3088!!\u3063\u3066\u3053\u3068\u3067\u3057\u305f\u3002\n\n\u3053\u308c\u306f\u30fb\u30fb\u30fbAutoConfigure\u306e\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8**\u3060\u3051**\u3092\u8ffd\u52a0\u3057\u305f\u5834\u5408\u306b\u3001Spring Boot\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u526f\u4f5c\u7528\u304c\u51fa\u306a\u3044\u3088\u3046\u306b\u3059\u308b\uff08\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u50cd\u304b\u306a\u3044\u72b6\u614b\u306b\u3059\u308b\uff09\u3079\u304d\u3067\u3001\u81ea\u52d5\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u3068\u306a\u308b\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u7fa4\u3092\u4e00\u767a\u3067\u89e3\u6c7a\u3059\u308b\u5f79\u5272\u304cStarter\u3060\u3088\u306d\uff01\uff01\u3063\u3066\u3053\u3068\u307f\u305f\u3044\u3067\u3059\u3002\n\n> **Warning:**\n> \u4f9d\u5b58\u30a2\u30fc\u30c6\u30a3\u30d5\u30a1\u30af\u30c8\u3068\u3057\u3066`mybatis-spring-boot-starter`\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3053\u306e\u5909\u66f4\u306e\u5f71\u97ff\u3092\u3046\u3051\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u3082\u3057`mybatis-spring-boot-autoconfigure`\u306e\u65b9\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3092\u4f7f\u3046\u969b\u306b`mybatis-spring-boot-starter`\u3092\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n# `mybatis.configuration-properties`\u306e\u8ffd\u52a0\n\n\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3088\u308a\u3001\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0(`${\u30ad\u30fc\u540d}`)\u306b\u7f6e\u304d\u63db\u3048\u308b\u5024\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306e\u65b0\u3057\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\uff08`mybatis.configuration-properties`\uff09\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u306f\u3001MyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3001Mapper XML\u30d5\u30a1\u30a4\u30eb\u3001SQL\u5b9a\u7fa9\u306e\u7f6e\u63db\u5909\u6570\u3001\u4e00\u90e8\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u5024\u306e\u4e2d\u3067\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u30d7\u30ed\u30d1\u30c6\u30a3\u3067\u6307\u5b9a\u53ef\u80fd\u306a\u5f62\u5f0f\u306f\u3001\n\n```properties\nmybatis.configuration-properties.\u30ad\u30fc\u540d=\u30ad\u30fc\u5024\n````\n\n\u3067\u30fb\u30fb\u30fb\u4f8b\u3048\u3070\u3001\n\n```properties:src/main/resources/application.properties\nmybatis.configuration-properties.db.schema=prod\n```\n\n\u3068\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067`${db.schema}`\u3068\u3044\u3063\u305f\u611f\u3058\u3067\u53c2\u7167\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u3053\u308c\u306f\u30fb\u30fb\u30fbMyBatis\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u8868\u73fe\u3059\u308b\u3068\u3001\n\n```xml:mybatis-config.xml\n<properties>\n    <property name=\"db.schema\" value=\"prod\" />\n</properties>\n```\n\nMyBatis Spring\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b`org.mybatis.spring.SqlSessionFactoryBean`\u3092\u4f7f\u3063\u3066\u8868\u73fe\u3059\u308b\u3068\u3001\n\n```java\n@Bean\nSqlSessionFactoryBean sqlSessionFactory(DataSource dataSource) {\n    SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\n    factoryBean.setDataSource(dataSource);\n    Properties props = new Properties();\n    props.setProperty(\"db.schema\", \"prod\");\n    factoryBean.setConfigurationProperties(props);\n    return factoryBean;\n}\n```\n\nor\n\n```xml\n<bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n    <property name=\"dataSource\" ref=\"dataSource\" />\n    <property name=\"configurationProperties\">\n        <props>\n            <prop key=\"db.schema\">prod</prop> \n        </props>\n    </property>\n</bean>\n```\n\n\u306b\u306a\u308a\u307e\u3059\u3002\n\n> **Note:**\n> \u5b9f\u306f\u30fb\u30fb\u30fb\u30d0\u30fc\u30b8\u30e7\u30f31.1.1\u3067\u3082\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u540c\u3058\u3053\u3068\u304c\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u65b9\u6cd5\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u3082\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u3001\u540c\u3058\u30ad\u30fc\u540d\u304c\u3042\u308b\u5834\u5408\u306f\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u8ffd\u52a0\u3055\u308c\u305f`mybatis.configuration-properties`\u3067\u6307\u5b9a\u3057\u305f\u5024\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002\n>\n> ```properties:src/main/resources/application.properties\n> mybatis.configuration.variables.db.schema=prod\n> ```\n>\n> \u305f\u3068\u3048\u3070\u30fb\u30fb\u30fb`mybatis.configuration.variables`\u306b\u306f\u74b0\u5883\u4f9d\u5b58\u3057\u306a\u3044\u5024\uff08or \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff09\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304d\u3001\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u6bce\uff08\u74b0\u5883\u6bce\uff09\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a1\u30a4\u30eb\u3067`mybatis.configuration-properties`\u3092\u4f7f\u7528\u3057\u3066\u74b0\u5883\u4f9d\u5b58\u5024\u306b\u4e0a\u66f8\u304d\u3059\u308b\u3068\u3044\u3063\u305f\u4f7f\u3044\u65b9\u3082\u3067\u304d\u307e\u3059\u3002\n\n\n# `mybatis.configuration`\u914d\u4e0b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u3068IDE\u306e\u9023\u643a\n\n\u30d0\u30fc\u30b8\u30e7\u30f31.1\u304b\u3089`org.apache.ibatis.session.Configuration`\u3092\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30d1\u30c6\u30a3(`mybatis.configuration.*`)\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3057\u305f\u304c\u3001STS\u3084IntelliJ IDEA\u306a\u3069\u306eIDE\u4e0a\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u304c\u88dc\u5b8c\u5bfe\u8c61\u306b\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u3053\u306e\u4e0d\u5177\u5408\u304c\u30d0\u30fc\u30b8\u30e7\u30f31.2\u3067\u89e3\u6d88\u3055\u308c\u307e\u3059\u3002\n\n> **Note:**\n> \u305f\u3060\u3057\u30fb\u30fb\u30fb\u4eca\u5ea6\u306f\u30d7\u30ed\u30d1\u30c6\u30a3\u30ad\u30fc\u304c\u91cd\u8907\u3059\u308b\u3068\u3044\u3046\u5225\u306e\u554f\u984c([gh-127](https://github.com/mybatis/spring-boot-starter/issues/127))\u304c\u30fb\u30fb\u30fb\n> \u3053\u308c\u306f\u3001\u30d3\u30eb\u30c9\u6642\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b`maven-bundle-plugin`\u306e\u4e0d\u5177\u5408\u306e\u3088\u3046\u3067\u3001\u30d0\u30fc\u30b8\u30e7\u30f31.2.1\u3067\u89e3\u6c7a\u3055\u308c\u308b\u4e88\u5b9a\u3067\u3059\u3002\n\n", "tags": ["MyBatis", "spring-boot", "spring", "Java"]}