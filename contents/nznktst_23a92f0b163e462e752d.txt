{"context": "\n\n\u306f\u3058\u3081\u306b\napt\u3067\u5165\u308bxmonad-0.12\u306fstack\u306b\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u306e\u3067\u8272\u3005\u3068\u9762\u5012\u306a\u3053\u3068\u304c\u8d77\u3053\u308b\u3002stack\u3067\u5165\u308b\u65b0\u3057\u3081\u306exmonad(2016\u5e7412\u670814\u65e5\u306e\u30b3\u30df\u30c3\u30c8\u4ee5\u964d\u306e\u3082\u306e)\u304b\u3089\u306frecompile\u3059\u308b\u305f\u3081\u306e\u30d3\u30eb\u30c9\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8aad\u3080\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u6357\u308b\u3002\u3057\u304b\u3057\u3001apt\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u8a2d\u5b9a\u3092\u3088\u3057\u306a\u306b\u3084\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u5b09\u3057\u3044\u3002\u305d\u3046\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u3053\u3067\u306f\u307e\u305aapt\u3067xmonad\u3092\u5165\u308c\u3001\u305d\u306e\u5f8cstack\u3067\u5165\u308c\u305fxmonad\u3092\u4f7f\u3046\u3068\u3044\u3046\u6d41\u308c\u3067\u4f5c\u696d\u3092\u884c\u3063\u3066\u3044\u304f\u3002\n\napt\u3067xmonad \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n$ sudo apt install xmonad\n\n\u3053\u308c\u3067\u30ed\u30b0\u30a4\u30f3\u6642\u306bXMonad\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u3002\n\n/usr/bin/xmonad-session\n#!/bin/bash\n\nif [ -r \".xmonad/xmonad-session-rc\" ]\nthen\n  . .xmonad/xmonad-session-rc\nfi\n\nexec xmonad \"$@\"\n\n\n\u3088\u3063\u3066\u3001xmonad-session-rc\u306bxmonad\u306e\u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3057\u3066\u6b32\u3057\u3044\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304f\u3002\n\n$HOME/.xmonad/xmonad-session-rc\n\nxcompmgr -c &\nxrandr --output LVDS-1-1 --below HDMI-1-1 --auto\nsetxkbmap -option ctrl:nocaps\nsynclient TouchpadOff=1\ntrayer --edge top --align right --SetDockType true --SetPartialStrut true --expand true --widthtype percent --width 10 --height 20 --transparent true --tint 0x000000 &\nudiskie -t &\nnm-applet &\nfeh --bg-scale ~/Pictures/Wallpapers/hoge.jpg\n\n\n\nstack\u3067xmonad\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\u3053\u3053\u3067\u306f\u78ba\u5b9f\u306b\u5909\u66f4\u304c\u5165\u3063\u3066\u3044\u308blts-8.5\u3092resolver\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002\u3064\u3044\u3067\u306bxmobar\u3082\u5165\u308c\u308b\u3002\n\n$HOME/.stack/global-project/stack.yaml\nflags: {}\nextra-package-dbs: []\npackages: []\nextra-deps:\n- alsa-core-0.5.0.1\n- alsa-mixer-0.2.0.3\n- dbus-0.10.12\n- libxml-sax-0.7.5\nresolver: lts-8.5\n\n\n$ stack install xmonad xmonad-contrib xmobar --flag xmobar:all_extensions\n\nstack\u3067\u5165\u308c\u305fxmonad\u304c\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\n\n/usr/bin/xmonad-session\n#!/bin/bash\n\nif [ -r \".xmonad/xmonad-session-rc\" ]\nthen\n  . .xmonad/xmonad-session-rc\nfi\n\nexec $HOME/.local/bin/xmonad \"$@\"\n\n\n\nxmonad\u306e\u8a2d\u5b9a\u3092\u3059\u308b\nxmonad\u3001xmobar\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304f\u3002ubuntu\u306f\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u306blightdm\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067dm-tool\u304c\u753b\u9762\u306e\u30ed\u30c3\u30af\u306b\u4f7f\u3048\u308b\u3002\n\n$HOME/.xmonad/xmonad.hs\nimport qualified Data.Map                         as M\nimport           Graphics.X11.ExtraTypes.XF86     (xF86XK_AudioLowerVolume,\n                                                   xF86XK_AudioMute,\n                                                   xF86XK_AudioRaiseVolume)\nimport           System.IO                        (hPutStrLn)\nimport           XMonad\nimport           XMonad.Actions.WindowGo          (doShift)\nimport           XMonad.Hooks.DynamicLog          (dynamicLogWithPP, ppOutput,\n                                                   ppTitle, shorten,\n                                                   xmobarColor, xmobarPP)\nimport           XMonad.Hooks.EwmhDesktops        (ewmh, fullscreenEventHook)\nimport           XMonad.Hooks.ManageDocks         (avoidStruts, docks)\nimport           XMonad.Hooks.ManageHelpers       (composeOne, doCenterFloat,\n                                                   doFullFloat, isDialog,\n                                                   isFullscreen, transience,\n                                                   (-?>))\nimport           XMonad.Hooks.SetWMName           (setWMName)\nimport           XMonad.Layout.NoBorders          (noBorders)\nimport           XMonad.Layout.ResizableTile      (MirrorResize (..),\n                                                   ResizableTall (..))\nimport qualified XMonad.StackSet                  as W\nimport           XMonad.Util.Run                  (spawnPipe)\n\n\nmain :: IO ()\nmain = do\n  xmproc <- spawnPipe \"xmobar\"\n  xmonad $ ewmh $ docks $ def {\n    borderWidth     = 3\n  , handleEventHook = handleEventHook def <+> fullscreenEventHook\n  , keys            = myKeys\n  , layoutHook      = avoidStruts $\n                      ResizableTall 1 (3/100) (1/2) [] ||| noBorders Full\n  , logHook         = dynamicLogWithPP $ xmobarPP {\n                        ppOutput = hPutStrLn xmproc\n                      , ppTitle  = xmobarColor \"green\" \"\" . shorten 50\n                      }\n  , manageHook      = composeOne [ className =? \"slack\" -?> doShift \"2:chat\"\n                                 , className =? \"trayer\"-?> doIgnore  \n                                 , isFullscreen         -?> doFullFloat\n                                 , isDialog             -?> doCenterFloat\n                                 , transience\n                                 ]\n  , modMask         = mod4Mask\n  , startupHook     = setWMName \"LG3D\"\n  , terminal        = myTerminal\n  , workspaces      = [\"1:code\", \"2:chat\", \"3:media\", \"4:misc\"] ++ [show n | n <- [5..9]]\n  }\n\nmyTerminal = \"gnome-terminal\"\n\nmyKeys :: XConfig Layout -> M.Map (KeyMask, KeySym) (X ())\nmyKeys conf@(XConfig { XMonad.modMask = modMask }) = M.fromList $\n  [ ((modMask .|. shiftMask,   xK_Return), spawn $ terminal conf)\n  , ((modMask,                 xK_semicolon), spawn $ \"rofi -combi-modi window,drun,run -show combi -modi combi\")\n  , ((modMask .|. shiftMask,   xK_c), kill)\n  , ((modMask,                 xK_space), sendMessage NextLayout)\n  , ((modMask .|. shiftMask,   xK_space), setLayout $ layoutHook conf)\n  , ((modMask,                 xK_r), refresh)\n  , ((modMask,                 xK_j), windows W.focusDown)\n  , ((modMask,                 xK_k), windows W.focusUp)\n  , ((modMask,                 xK_m), windows W.focusMaster)\n  , ((modMask,                 xK_Return), windows W.swapMaster)\n  , ((modMask .|. shiftMask,   xK_j), windows W.swapDown)\n  , ((modMask .|. shiftMask,   xK_k), windows W.swapUp)\n  , ((modMask,                 xK_h), sendMessage Shrink)\n  , ((modMask,                 xK_l), sendMessage Expand)\n  , ((modMask,                 xK_n), sendMessage MirrorShrink)\n  , ((modMask,                 xK_p), sendMessage MirrorExpand)\n  , ((modMask,                 xK_t), withFocused $ windows . W.sink)\n  , ((modMask,                 xK_comma), sendMessage (IncMasterN 1))\n  , ((modMask,                 xK_period), sendMessage (IncMasterN (-1)))\n  , ((0,                       xF86XK_AudioLowerVolume), spawn \"amixer set Master 2dB-\")\n  , ((0,                       xF86XK_AudioRaiseVolume), spawn \"amixer set Master 2dB+\")\n  , ((0,                       xF86XK_AudioMute),        spawn \"amixer -D pulse set Master toggle\")\n  , ((0,                       xK_Print), spawn \"gnome-screenshot -i\")\n  , ((modMask .|. controlMask, xK_l), spawn \"dm-tool lock\")\n  , ((modMask,                 xK_q), spawn \"if type xmonad; then xmonad --recompile && xmonad --restart; else xmessage xmonad not in \\\\$PATH: \\\"$PATH\\\"; fi\")\n  , ((modMask .|. shiftMask,   xK_slash), spawn (\"echo \\\"\" ++ help ++ \"\\\" | xmessage -file -\"))\n  ]\n  ++\n  [((m .|. modMask, k), windows $ f i)\n    | (i, k) <- zip (workspaces conf) [xK_1 .. xK_9]\n    , (f, m) <- [(W.greedyView, 0), (W.shift , shiftMask)]]\n  ++\n  [((m .|. modMask, key), screenWorkspace sc >>= flip whenJust (windows . f))\n    | (key, sc) <- zip [xK_w, xK_e, xK_r] [0..]\n    , (f, m) <- [(W.view, 0), (W.shift, shiftMask)]]\n\nhelp :: String\nhelp = unlines [\"The default modifier key is 'alt'. Default keybindings:\",\n                \"\",\n                \"-- launching and killing programs\",\n                \"mod-Shift-Return  Launch terminal\",\n                \"mod-;             Launch rofi\",\n                \"mod-Shift-c       Close/kill the focused window\",\n                \"mod-Space         Rotate through the available layout algorithms\",\n                \"mod-Shift-Space   Reset the layouts on the current workSpace to default\",\n                \"mod-r             Resize/refresh viewed windows to the correct size\",\n                \"\",\n                \"-- move focus up or down the window stack\",\n                \"mod-j          Move focus to the next window\",\n                \"mod-k          Move focus to the previous window\",\n                \"mod-m          Move focus to the master window\",\n                \"\",\n                \"-- modifying the window order\",\n                \"mod-Return   Swap the focused window and the master window\",\n                \"mod-Shift-j  Swap the focused window with the next window\",\n                \"mod-Shift-k  Swap the focused window with the previous window\",\n                \"\",\n                \"-- resizing the master/slave ratio\",\n                \"mod-h  Shrink the master area\",\n                \"mod-l  Expand the master area\",\n                \"\",\n                \"-- floating layer support\",\n                \"mod-t  Push window back into tiling; unfloat and re-tile it\",\n                \"\",\n                \"-- increase or decrease number of windows in the master area\",\n                \"mod-comma  (mod-,)   Increment the number of windows in the master area\",\n                \"mod-period (mod-.)   Deincrement the number of windows in the master area\",\n                \"\",\n                \"-- restart xmonad\",\n                \"mod-q        Restart xmonad\",\n                \"\",\n                \"-- screeen lock\",\n                \"mod-Ctrl-l   Lock screen\",\n\n                \"-- Workspaces & screens\",\n                \"mod-[1..9]         Switch to workSpace N\",\n                \"mod-Shift-[1..9]   Move client to workspace N\",\n                \"mod-{w,e,r}        Switch to physical/Xinerama screens 1, 2, or 3\",\n                \"mod-Shift-{w,e,r}  Move client to screen 1, 2, or 3\",\n                \"\",\n                \"-- Mouse bindings: default actions bound to mouse events\",\n                \"mod-button1  Set the window to floating mode and move by dragging\",\n                \"mod-button2  Raise the window to the top of the stack\",\n                \"mod-button3  Set the window to floating mode and resize by dragging\"]\n\n\n\n$HOME/.xmobarrc\nConfig { font = \"xft:Noto Sans Mono CJK JP:bold:size=9:antialias=true\"\n       , bgColor = \"black\"\n       , fgColor = \"grey\"\n       , position = Top\n       , allDesktops = True\n       , commands = [ Run MultiCpu [ \"--template\", \"Cpu: <total0>% <total1>% <total2>% <total3>% <total4>% <total5>% <total6>% <total7>%\"\n                                   , \"--low\", \"50\"\n                                   , \"--High\", \"85\"\n                                   , \"--low\", \"darkgreen\"\n                                   , \"--normal\", \"darkorange\"\n                                   , \"--high\", \"darkred\"\n                                   ] 50\n                    , Run Memory [ \"--template\" ,\"Mem: <usedratio>%\"\n                                 , \"--Low\", \"20\"\n                                 , \"--High\", \"90\"\n                                 , \"--low\", \"darkgreen\"\n                                 , \"--normal\", \"darkorange\"\n                                 , \"--high\", \"darkred\"\n                                 ] 10\n                    , Run DynNetwork [ \"--template\", \"<dev>: <tx>kB/s / <rx>kB/s\"\n                                     , \"--Low\", \"1000\"\n                                     , \"--High\", \"5000\"\n                                     , \"--low\", \"darkgreen\"\n                                     , \"--normal\", \"darkorange\"\n                                     , \"--high\", \"darkred\"\n                                     ] 10\n                    , Run Volume \"default\" \"Master\" [] 10\n                    , Run Battery [ \"--template\" , \"Batt: <acstatus>\"\n                                  , \"--Low\", \"10\"\n                                  , \"--High\", \"80\"\n                                  , \"--low\", \"darkred\"\n                                  , \"--normal\", \"darkorange\"\n                                  , \"--high\", \"darkgreen\"\n                                  , \"--\" -- battery specific options\n                                         -- discharging status\n                                         , \"-o\" , \"<left>% (<timeleft>)\"\n                                         -- AC \"on\" status\n                                         , \"-O\" , \"<fc=#dAA520>Charging</fc>\"\n                                         -- charged status\n                                         , \"-i\" , \"<fc=#006000>Charged</fc>\"\n                                  ] 50\n                    , Run Date \"%a %m/%d %H:%M\" \"date\" 10\n                    , Run StdinReader\n                    ]\n       , sepChar = \"%\"\n       , alignSep = \"}{\"\n       , template = \" %StdinReader% }{ %multicpu% | %memory% | %dynnetwork% | %default:Master% | %battery% | <fc=#ee9a00>%date%</fc> |                                \"\n       }\n\n\n\nStack\u7d4c\u7531\u3067XMonad\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\n\n$HOME/.xmonad/build\n#!/bin/sh\n# Recompile XMonad using Stack\nstack ghc -- $(dirname $0)/xmonad.hs -o $1\n\n\n$ chmod +x $HOME/.xmonad/build\n$ xmonad --recompile\n\n\n\u518d\u8d77\u52d5\u3057\u3066XMonad\u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\n\n# \u306f\u3058\u3081\u306b\napt\u3067\u5165\u308bxmonad-0.12\u306fstack\u306b\u5bfe\u5fdc\u3057\u3066\u306a\u3044\u306e\u3067\u8272\u3005\u3068\u9762\u5012\u306a\u3053\u3068\u304c\u8d77\u3053\u308b\u3002stack\u3067\u5165\u308b\u65b0\u3057\u3081\u306exmonad([2016\u5e7412\u670814\u65e5\u306e\u30b3\u30df\u30c3\u30c8\u4ee5\u964d\u306e\u3082\u306e](https://github.com/xmonad/xmonad/commit/e159ec36fe407d21c5c706dfba71f1438c0f9d1e))\u304b\u3089\u306frecompile\u3059\u308b\u305f\u3081\u306e\u30d3\u30eb\u30c9\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8aad\u3080\u3088\u3046\u306b\u306a\u3063\u305f\u306e\u3067\u6357\u308b\u3002\u3057\u304b\u3057\u3001apt\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u306e\u8a2d\u5b9a\u3092\u3088\u3057\u306a\u306b\u3084\u3063\u3066\u304f\u308c\u308b\u306e\u3067\u5b09\u3057\u3044\u3002\u305d\u3046\u3044\u3046\u3053\u3068\u3067\u3001\u3053\u3053\u3067\u306f\u307e\u305aapt\u3067xmonad\u3092\u5165\u308c\u3001\u305d\u306e\u5f8cstack\u3067\u5165\u308c\u305fxmonad\u3092\u4f7f\u3046\u3068\u3044\u3046\u6d41\u308c\u3067\u4f5c\u696d\u3092\u884c\u3063\u3066\u3044\u304f\u3002\n\n# apt\u3067xmonad \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n```\n$ sudo apt install xmonad\n```\n\u3053\u308c\u3067\u30ed\u30b0\u30a4\u30f3\u6642\u306bXMonad\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u9078\u629e\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u3002\n\n```bash:/usr/bin/xmonad-session\n#!/bin/bash\n\nif [ -r \".xmonad/xmonad-session-rc\" ]\nthen\n  . .xmonad/xmonad-session-rc\nfi\n\nexec xmonad \"$@\"\n```\n\u3088\u3063\u3066\u3001`xmonad-session-rc`\u306bxmonad\u306e\u8d77\u52d5\u6642\u306b\u5b9f\u884c\u3057\u3066\u6b32\u3057\u3044\u30b3\u30de\u30f3\u30c9\u304c\u3042\u308c\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304f\u3002\n\n```$HOME/.xmonad/xmonad-session-rc\n\nxcompmgr -c &\nxrandr --output LVDS-1-1 --below HDMI-1-1 --auto\nsetxkbmap -option ctrl:nocaps\nsynclient TouchpadOff=1\ntrayer --edge top --align right --SetDockType true --SetPartialStrut true --expand true --widthtype percent --width 10 --height 20 --transparent true --tint 0x000000 &\nudiskie -t &\nnm-applet &\nfeh --bg-scale ~/Pictures/Wallpapers/hoge.jpg\n```\n# stack\u3067xmonad\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\u3053\u3053\u3067\u306f\u78ba\u5b9f\u306b\u5909\u66f4\u304c\u5165\u3063\u3066\u3044\u308blts-8.5\u3092resolver\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u3002\u3064\u3044\u3067\u306bxmobar\u3082\u5165\u308c\u308b\u3002\n\n```yaml:$HOME/.stack/global-project/stack.yaml\nflags: {}\nextra-package-dbs: []\npackages: []\nextra-deps:\n- alsa-core-0.5.0.1\n- alsa-mixer-0.2.0.3\n- dbus-0.10.12\n- libxml-sax-0.7.5\nresolver: lts-8.5\n```\n\n```\n$ stack install xmonad xmonad-contrib xmobar --flag xmobar:all_extensions\n```\n\nstack\u3067\u5165\u308c\u305fxmonad\u304c\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u3002\n\n```bash:/usr/bin/xmonad-session\n#!/bin/bash\n\nif [ -r \".xmonad/xmonad-session-rc\" ]\nthen\n  . .xmonad/xmonad-session-rc\nfi\n\nexec $HOME/.local/bin/xmonad \"$@\"\n```\n\n# xmonad\u306e\u8a2d\u5b9a\u3092\u3059\u308b\nxmonad\u3001xmobar\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304f\u3002ubuntu\u306f\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u30de\u30cd\u30fc\u30b8\u30e3\u306blightdm\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067`dm-tool`\u304c\u753b\u9762\u306e\u30ed\u30c3\u30af\u306b\u4f7f\u3048\u308b\u3002\n\n```hs:$HOME/.xmonad/xmonad.hs\nimport qualified Data.Map                         as M\nimport           Graphics.X11.ExtraTypes.XF86     (xF86XK_AudioLowerVolume,\n                                                   xF86XK_AudioMute,\n                                                   xF86XK_AudioRaiseVolume)\nimport           System.IO                        (hPutStrLn)\nimport           XMonad\nimport           XMonad.Actions.WindowGo          (doShift)\nimport           XMonad.Hooks.DynamicLog          (dynamicLogWithPP, ppOutput,\n                                                   ppTitle, shorten,\n                                                   xmobarColor, xmobarPP)\nimport           XMonad.Hooks.EwmhDesktops        (ewmh, fullscreenEventHook)\nimport           XMonad.Hooks.ManageDocks         (avoidStruts, docks)\nimport           XMonad.Hooks.ManageHelpers       (composeOne, doCenterFloat,\n                                                   doFullFloat, isDialog,\n                                                   isFullscreen, transience,\n                                                   (-?>))\nimport           XMonad.Hooks.SetWMName           (setWMName)\nimport           XMonad.Layout.NoBorders          (noBorders)\nimport           XMonad.Layout.ResizableTile      (MirrorResize (..),\n                                                   ResizableTall (..))\nimport qualified XMonad.StackSet                  as W\nimport           XMonad.Util.Run                  (spawnPipe)\n\n\nmain :: IO ()\nmain = do\n  xmproc <- spawnPipe \"xmobar\"\n  xmonad $ ewmh $ docks $ def {\n    borderWidth     = 3\n  , handleEventHook = handleEventHook def <+> fullscreenEventHook\n  , keys            = myKeys\n  , layoutHook      = avoidStruts $\n                      ResizableTall 1 (3/100) (1/2) [] ||| noBorders Full\n  , logHook         = dynamicLogWithPP $ xmobarPP {\n                        ppOutput = hPutStrLn xmproc\n                      , ppTitle  = xmobarColor \"green\" \"\" . shorten 50\n                      }\n  , manageHook      = composeOne [ className =? \"slack\" -?> doShift \"2:chat\"\n                                 , className =? \"trayer\"-?> doIgnore  \n                                 , isFullscreen         -?> doFullFloat\n                                 , isDialog             -?> doCenterFloat\n                                 , transience\n                                 ]\n  , modMask         = mod4Mask\n  , startupHook     = setWMName \"LG3D\"\n  , terminal        = myTerminal\n  , workspaces      = [\"1:code\", \"2:chat\", \"3:media\", \"4:misc\"] ++ [show n | n <- [5..9]]\n  }\n\nmyTerminal = \"gnome-terminal\"\n\nmyKeys :: XConfig Layout -> M.Map (KeyMask, KeySym) (X ())\nmyKeys conf@(XConfig { XMonad.modMask = modMask }) = M.fromList $\n  [ ((modMask .|. shiftMask,   xK_Return), spawn $ terminal conf)\n  , ((modMask,                 xK_semicolon), spawn $ \"rofi -combi-modi window,drun,run -show combi -modi combi\")\n  , ((modMask .|. shiftMask,   xK_c), kill)\n  , ((modMask,                 xK_space), sendMessage NextLayout)\n  , ((modMask .|. shiftMask,   xK_space), setLayout $ layoutHook conf)\n  , ((modMask,                 xK_r), refresh)\n  , ((modMask,                 xK_j), windows W.focusDown)\n  , ((modMask,                 xK_k), windows W.focusUp)\n  , ((modMask,                 xK_m), windows W.focusMaster)\n  , ((modMask,                 xK_Return), windows W.swapMaster)\n  , ((modMask .|. shiftMask,   xK_j), windows W.swapDown)\n  , ((modMask .|. shiftMask,   xK_k), windows W.swapUp)\n  , ((modMask,                 xK_h), sendMessage Shrink)\n  , ((modMask,                 xK_l), sendMessage Expand)\n  , ((modMask,                 xK_n), sendMessage MirrorShrink)\n  , ((modMask,                 xK_p), sendMessage MirrorExpand)\n  , ((modMask,                 xK_t), withFocused $ windows . W.sink)\n  , ((modMask,                 xK_comma), sendMessage (IncMasterN 1))\n  , ((modMask,                 xK_period), sendMessage (IncMasterN (-1)))\n  , ((0,                       xF86XK_AudioLowerVolume), spawn \"amixer set Master 2dB-\")\n  , ((0,                       xF86XK_AudioRaiseVolume), spawn \"amixer set Master 2dB+\")\n  , ((0,                       xF86XK_AudioMute),        spawn \"amixer -D pulse set Master toggle\")\n  , ((0,                       xK_Print), spawn \"gnome-screenshot -i\")\n  , ((modMask .|. controlMask, xK_l), spawn \"dm-tool lock\")\n  , ((modMask,                 xK_q), spawn \"if type xmonad; then xmonad --recompile && xmonad --restart; else xmessage xmonad not in \\\\$PATH: \\\"$PATH\\\"; fi\")\n  , ((modMask .|. shiftMask,   xK_slash), spawn (\"echo \\\"\" ++ help ++ \"\\\" | xmessage -file -\"))\n  ]\n  ++\n  [((m .|. modMask, k), windows $ f i)\n    | (i, k) <- zip (workspaces conf) [xK_1 .. xK_9]\n    , (f, m) <- [(W.greedyView, 0), (W.shift , shiftMask)]]\n  ++\n  [((m .|. modMask, key), screenWorkspace sc >>= flip whenJust (windows . f))\n    | (key, sc) <- zip [xK_w, xK_e, xK_r] [0..]\n    , (f, m) <- [(W.view, 0), (W.shift, shiftMask)]]\n\nhelp :: String\nhelp = unlines [\"The default modifier key is 'alt'. Default keybindings:\",\n                \"\",\n                \"-- launching and killing programs\",\n                \"mod-Shift-Return  Launch terminal\",\n                \"mod-;             Launch rofi\",\n                \"mod-Shift-c       Close/kill the focused window\",\n                \"mod-Space         Rotate through the available layout algorithms\",\n                \"mod-Shift-Space   Reset the layouts on the current workSpace to default\",\n                \"mod-r             Resize/refresh viewed windows to the correct size\",\n                \"\",\n                \"-- move focus up or down the window stack\",\n                \"mod-j          Move focus to the next window\",\n                \"mod-k          Move focus to the previous window\",\n                \"mod-m          Move focus to the master window\",\n                \"\",\n                \"-- modifying the window order\",\n                \"mod-Return   Swap the focused window and the master window\",\n                \"mod-Shift-j  Swap the focused window with the next window\",\n                \"mod-Shift-k  Swap the focused window with the previous window\",\n                \"\",\n                \"-- resizing the master/slave ratio\",\n                \"mod-h  Shrink the master area\",\n                \"mod-l  Expand the master area\",\n                \"\",\n                \"-- floating layer support\",\n                \"mod-t  Push window back into tiling; unfloat and re-tile it\",\n                \"\",\n                \"-- increase or decrease number of windows in the master area\",\n                \"mod-comma  (mod-,)   Increment the number of windows in the master area\",\n                \"mod-period (mod-.)   Deincrement the number of windows in the master area\",\n                \"\",\n                \"-- restart xmonad\",\n                \"mod-q        Restart xmonad\",\n                \"\",\n                \"-- screeen lock\",\n                \"mod-Ctrl-l   Lock screen\",\n\n                \"-- Workspaces & screens\",\n                \"mod-[1..9]         Switch to workSpace N\",\n                \"mod-Shift-[1..9]   Move client to workspace N\",\n                \"mod-{w,e,r}        Switch to physical/Xinerama screens 1, 2, or 3\",\n                \"mod-Shift-{w,e,r}  Move client to screen 1, 2, or 3\",\n                \"\",\n                \"-- Mouse bindings: default actions bound to mouse events\",\n                \"mod-button1  Set the window to floating mode and move by dragging\",\n                \"mod-button2  Raise the window to the top of the stack\",\n                \"mod-button3  Set the window to floating mode and resize by dragging\"]\n```\n\n```hs:$HOME/.xmobarrc\nConfig { font = \"xft:Noto Sans Mono CJK JP:bold:size=9:antialias=true\"\n       , bgColor = \"black\"\n       , fgColor = \"grey\"\n       , position = Top\n       , allDesktops = True\n       , commands = [ Run MultiCpu [ \"--template\", \"Cpu: <total0>% <total1>% <total2>% <total3>% <total4>% <total5>% <total6>% <total7>%\"\n                                   , \"--low\", \"50\"\n                                   , \"--High\", \"85\"\n                                   , \"--low\", \"darkgreen\"\n                                   , \"--normal\", \"darkorange\"\n                                   , \"--high\", \"darkred\"\n                                   ] 50\n                    , Run Memory [ \"--template\" ,\"Mem: <usedratio>%\"\n                                 , \"--Low\", \"20\"\n                                 , \"--High\", \"90\"\n                                 , \"--low\", \"darkgreen\"\n                                 , \"--normal\", \"darkorange\"\n                                 , \"--high\", \"darkred\"\n                                 ] 10\n                    , Run DynNetwork [ \"--template\", \"<dev>: <tx>kB/s / <rx>kB/s\"\n                                     , \"--Low\", \"1000\"\n                                     , \"--High\", \"5000\"\n                                     , \"--low\", \"darkgreen\"\n                                     , \"--normal\", \"darkorange\"\n                                     , \"--high\", \"darkred\"\n                                     ] 10\n                    , Run Volume \"default\" \"Master\" [] 10\n                    , Run Battery [ \"--template\" , \"Batt: <acstatus>\"\n                                  , \"--Low\", \"10\"\n                                  , \"--High\", \"80\"\n                                  , \"--low\", \"darkred\"\n                                  , \"--normal\", \"darkorange\"\n                                  , \"--high\", \"darkgreen\"\n                                  , \"--\" -- battery specific options\n                                         -- discharging status\n                                         , \"-o\" , \"<left>% (<timeleft>)\"\n                                         -- AC \"on\" status\n                                         , \"-O\" , \"<fc=#dAA520>Charging</fc>\"\n                                         -- charged status\n                                         , \"-i\" , \"<fc=#006000>Charged</fc>\"\n                                  ] 50\n                    , Run Date \"%a %m/%d %H:%M\" \"date\" 10\n                    , Run StdinReader\n                    ]\n       , sepChar = \"%\"\n       , alignSep = \"}{\"\n       , template = \" %StdinReader% }{ %multicpu% | %memory% | %dynnetwork% | %default:Master% | %battery% | <fc=#ee9a00>%date%</fc> |                                \"\n       }\n```\n\n\n# Stack\u7d4c\u7531\u3067XMonad\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\n```bash:$HOME/.xmonad/build\n#!/bin/sh\n# Recompile XMonad using Stack\nstack ghc -- $(dirname $0)/xmonad.hs -o $1\n```\n\n```\n$ chmod +x $HOME/.xmonad/build\n$ xmonad --recompile\n````\n\n# \u518d\u8d77\u52d5\u3057\u3066XMonad\u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\n![Screenshot from 2017-03-13 12-59-48.png](https://qiita-image-store.s3.amazonaws.com/0/148818/1bab845e-1771-205f-3161-fa8c6352286e.png)\n", "tags": ["Ubuntu", "xmonad", "Haskell"]}