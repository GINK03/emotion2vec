{"context": "\u307f\u3093\u306a\u540c\u3058\u4e8b\u3084\u3063\u3066\u308b\u3093\u3060\u308d\u3046\u306a\u3041\u3002\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\u4e57\u308b\u3057\u304b\u306a\u3044\u3001\u3053\u306e\u30d3\u30c3\u30b0\u30a6\u30a7\u30fc\u30d6\u306b\uff01\n\nAPI\u306e\u7a2e\u985e\n\nanalyzeEntities\nanalyzeSentiment\nannotateText\n\n\nanalyzeEntities \u3092\u4f7f\u3063\u3066\u307f\u308b\nQuickstart \u306e\u901a\u308a\u306b\u9032\u3081\u3066\u307f\u307e\u3059\u3002\n$ gcloud auth activate-service-account --key-file=service-account-key-file\n$ gcloud auth print-access-token\n$ curl -s -k -H \"Content-Type: application/json\" \\\n    -H \"Authorization: Bearer access_token\" \\\n    https://language.googleapis.com/v1beta1/documents:analyzeEntities \\\n    -d @test.json\n\ntest.json\u306e\u4e2d\u8eab\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 service-account-key-file \u3068 access_token \u306e\u4e2d\u8eab\u306f\u5f53\u7136\u5b9f\u969b\u306e\u5024\u306b\u66f8\u304d\u63db\u3048\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u4ee5\u4e0b\u306e\u30c6\u30b9\u30c8\u3092\u7a81\u3063\u8fbc\u307f\u307e\u3057\u3087\u3046\uff08\u65e5\u672c\u8a9e\u306e\u6587\u7ae0\u304c\u601d\u3044\u3064\u304b\u306a\u304b\u3063\u305f\u306e\u3067\u4f1a\u793e\u306e\u30d7\u30ec\u30b9\u30ea\u30ea\u30fc\u30b9\u304b\u3089\u9069\u5f53\u306b\u5f15\u3063\u5f35\u3063\u3066\u304d\u305f\uff09\u3002\n\ntest.json\n{\n  \"document\":{\n    \"type\":\"PLAIN_TEXT\",\n    \"content\":\"EC\u5546\u54c1\u691c\u7d22\u30fb\u30ec\u30b3\u30e1\u30f3\u30c9\u3092\u59cb\u3081\u3068\u3057\u305f\u30d1\u30fc\u30bd\u30ca\u30e9\u30a4\u30ba\u30c9EC\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u8ca9\u58f2\u3059\u308b\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff08\u672c\u793e\uff1a\u6771\u4eac\u90fd\u76ee\u9ed2\u533a\u3001\u4ee3\u8868\u53d6\u7de0\u5f79\u793e\u9577\uff1a\u5c71\u5d0e\u5fb3\u4e4b\u3001\u4ee5\u4e0b\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff09\u306f\u30012016\u5e747\u670821\u65e5\uff08\u6728\uff09\uff5e22\u65e5\uff08\u91d1\uff09\u306b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\uff08\u4ee5\u4e0b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\uff09\u306a\u3069\u304c\u4e3b\u50ac\u3059\u308b\u6cd5\u4eba\u5411\u3051\u30a4\u30d9\u30f3\u30c8\u300eSoftbank World 2016\u300f\u306b\u3066\u300cIBM Watson\u65e5\u672c\u8a9e\u7248\u306b\u3088\u308b\u5c0f\u58f2\u696d\u754c\u306e\u9867\u5ba2\u4f53\u9a13\u5909\u9769\u300d\u306e\u30d1\u30cd\u30ea\u30b9\u30c8\u3068\u3057\u3066\u767b\u58c7\u3001\u307e\u305fWatson\u30d6\u30fc\u30b9\u306e\u30df\u30cb\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u767b\u58c7\u81f4\u3057\u307e\u3059\u3002\"\n  },\n  \"encodingType\":\"UTF8\"\n}\n\n\n\n\n\u8fd4\u5374\u5024.json\n{\n  \"entities\": [\n    {\n      \"name\": \"\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\",\n      \"type\": \"EVENT\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\",\n            \"beginOffset\": 118\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u6771\u4eac\u90fd\",\n      \"type\": \"LOCATION\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E6%9D%B1%E4%BA%AC%E9%83%BD\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u6771\u4eac\u90fd\",\n            \"beginOffset\": 160\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u76ee\u9ed2\u533a\",\n      \"type\": \"LOCATION\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E7%9B%AE%E9%BB%92%E5%8C%BA\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u76ee\u9ed2\u533a\",\n            \"beginOffset\": 169\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u5c71\u5d0e\u5fb3\u4e4b\",\n      \"type\": \"PERSON\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E5%B1%B1%E5%B4%8E%E5%BE%B3%E4%B9%8B\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u5c71\u5d0e\u5fb3\u4e4b\",\n            \"beginOffset\": 205\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\",\n      \"type\": \"ORGANIZATION\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\",\n            \"beginOffset\": 298\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\",\n      \"type\": \"ORGANIZATION\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E3%82%BD%E3%83%95%E3%83%88%E3%83%90%E3%83%B3%E3%82%AF%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\",\n            \"beginOffset\": 349\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"Softbank World 2016\",\n      \"type\": \"CONSUMER_GOOD\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"Softbank World 2016\",\n            \"beginOffset\": 418\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"IBM Watson\",\n      \"type\": \"OTHER\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"IBM Watson\",\n            \"beginOffset\": 449\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u65e5\u672c\",\n      \"type\": \"LOCATION\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E6%97%A5%E6%9C%AC\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u65e5\u672c\",\n            \"beginOffset\": 459\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"Watson\",\n      \"type\": \"OTHER\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"Watson\",\n            \"beginOffset\": 558\n          }\n        }\n      ]\n    }\n  ],\n  \"language\": \"ja\"\n}\n\n\n\u56fa\u6709\u540d\u8a5e\u3057\u304b\u5e30\u3063\u3066\u304d\u3066\u306a\u3044\u3067\u3059\u304c\u3001\u305d\u3046\u3044\u3046\u30e2\u30ce\u3063\u307d\u3044\u6c17\u3082\u3057\u307e\u3059\u3002\n\nFinds named entities (currently finds proper names) in the text, entity types, salience, mentions for each entity, and other properties.\n\n\u3063\u3066\u66f8\u3044\u3066\u3042\u308b\u3057\u3002\n\nanalyzeSentiment \u4f7f\u3063\u3066\u307f\u308b\n\u611f\u60c5\u5206\u6790\u3063\u307d\u3044\u306e\u3067\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n\nsentiment-test.json\n{\n  \"document\":{\n    \"type\":\"PLAIN_TEXT\",\n    \"content\":\"EC\u5546\u54c1\u691c\u7d22\u30fb\u30ec\u30b3\u30e1\u30f3\u30c9\u3092\u59cb\u3081\u3068\u3057\u305f\u30d1\u30fc\u30bd\u30ca\u30e9\u30a4\u30ba\u30c9EC\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u8ca9\u58f2\u3059\u308b\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff08\u672c\u793e\uff1a\u6771\u4eac\u90fd\u76ee\u9ed2\u533a\u3001\u4ee3\u8868\u53d6\u7de0\u5f79\u793e\u9577\uff1a\u5c71\u5d0e\u5fb3\u4e4b\u3001\u4ee5\u4e0b\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff09\u306f\u30012016\u5e747\u670821\u65e5\uff08\u6728\uff09\uff5e22\u65e5\uff08\u91d1\uff09\u306b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\uff08\u4ee5\u4e0b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\uff09\u306a\u3069\u304c\u4e3b\u50ac\u3059\u308b\u6cd5\u4eba\u5411\u3051\u30a4\u30d9\u30f3\u30c8\u300eSoftbank World 2016\u300f\u306b\u3066\u300cIBM Watson\u65e5\u672c\u8a9e\u7248\u306b\u3088\u308b\u5c0f\u58f2\u696d\u754c\u306e\u9867\u5ba2\u4f53\u9a13\u5909\u9769\u300d\u306e\u30d1\u30cd\u30ea\u30b9\u30c8\u3068\u3057\u3066\u767b\u58c7\u3001\u307e>\u305fWatson\u30d6\u30fc\u30b9\u306e\u30df\u30cb\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u767b\u58c7\u81f4\u3057\u307e\u3059\u3002\"\n  }\n}\n\n\n$ curl -s -k -H \"Content-Type: application/json\" -H \"Authorization: Bearer access-token\" \"https://language.googleapis.com/v1beta1/documents:analyzeSentiment\" -d @sentiment-test.json\n\n\n\u8fd4\u5374\u5024.json\n{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"The language ja is not supported for document sentiment analysis.\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n\n\n\u78ba\u304b\u306b\u82f1\u8a9e\u3057\u304b\u30c0\u30e1\u3063\u307d\u3044\u3053\u3068\u304c\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u66f8\u3044\u3066\u3042\u308b\u3002\u305d\u3082\u305d\u3082\u3053\u306e\u6587\u7ae0\u306b\u611f\u60c5\u5206\u6790\u3082\u3078\u3063\u305f\u304f\u308c\u3082\u306a\u3044\u6c17\u304c\u3057\u307e\u3059\u304c\u3001\u307e\u3041\u3001\u305d\u308c\u306f\u3044\u3044\u3068\u3057\u307e\u3057\u3087\u3046\u3002\u3069\u3063\u304b\u306e\u30ec\u30d3\u30e5\u30fc\u3068\u304b\u3092\u6301\u3063\u3066\u304d\u305f\u3089\u3044\u3044\u3093\u3067\u3057\u3087\u3046\u304b\u3002\ntripadvisor \u304b\u3089\u9ad8\u8a55\u4fa1\u306a\u30ec\u30d3\u30e5\u30fc\u3092\u62dd\u501f\u3057\u3066\u7a81\u3063\u8fbc\u307f\u307e\u3059\u3002\n\"The most amazing resort! Everywhere you turn looks like a postcard! I have never stayed in a nicer resort!\"\n\n\u8fd4\u5374\u5024.json\n{\n  \"documentSentiment\": {\n    \"polarity\": 1,\n    \"magnitude\": 1.2\n  },\n  \"language\": \"en\"\n}\n\n\n\u4f4e\u8a55\u4fa1\u306a\u65b9\u3082\u3002\n\"Appalling service. Could not find to Assist with room issues. Old furniture. Not helpful receptionist.\"\n{\n  \"documentSentiment\": {\n    \"polarity\": -1,\n    \"magnitude\": 2.9\n  },\n  \"language\": \"en\"\n}\n\npolarity \u306f\u611f\u60c5\u306e\u30cd\u30ac\u30dd\u30b8\u3067\u3001-1~1 \u306e\u7bc4\u56f2\u3067\u6570\u5024\u304c\u5909\u52d5\u3057\u307e\u3059\u3002\u9ad8\u8a55\u4fa1\u306a\u30ec\u30d3\u30e5\u30fc\u306b\u5bfe\u3057\u3066\u306f\u30dd\u30b8\u30c6\u30a3\u30d6\u3001\u5b9a\u8a55\u304b\u306a\u30ec\u30d3\u30e5\u30fc\u306b\u5bfe\u3057\u3066\u306f\u30cd\u30ac\u30c6\u30a3\u30d6\u306a\u5224\u5b9a\u304c\u666e\u901a\u306b\u5e30\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3002magnitude \u306f\u611f\u60c5\u306e\u5927\u304d\u3055\u3092\u8868\u3057\u3066\u3044\u308b\u3068\u8003\u3048\u308c\u3070\u3060\u3044\u305f\u3044\u826f\u3055\u305d\u3046\u306a\u6c17\u304c\u3059\u308b\u3002\n\nannotateText \u3092\u4f7f\u3063\u3066\u307f\u308b\n\u6587\u7ae0\u69cb\u9020\u306e\u89e3\u6790\u304b\u306a\u3002\u3068\u308a\u3042\u3048\u305a\u7a81\u3063\u8fbc\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002\n\nannotate-test.json\n{\n  \"document\": {\n    \"type\":\"PLAIN_TEXT\",\n    \"content\":\"EC\u5546\u54c1\u691c\u7d22\u30fb\u30ec\u30b3\u30e1\u30f3\u30c9\u3092\u59cb\u3081\u3068\u3057\u305f\u30d1\u30fc\u30bd\u30ca\u30e9\u30a4\u30ba\u30c9EC\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u8ca9\u58f2\u3059\u308b\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff08\u672c\u793e\uff1a\u6771\u4eac\u90fd\u76ee\u9ed2\u533a\u3001\u4ee3\u8868\u53d6\u7de0\u5f79\u793e\u9577\uff1a\u5c71\u5d0e\u5fb3\u4e4b\u3001\u4ee5\u4e0b\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff09\u306f\u30012016\u5e747\u670821\u65e5\uff08\u6728\uff09\uff5e22\u65e5\uff08\u91d1\uff09\u306b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\uff08\u4ee5\u4e0b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\uff09\u306a\u3069\u304c\u4e3b\u50ac\u3059\u308b\u6cd5\u4eba\u5411\u3051\u30a4\u30d9\u30f3\u30c8\u300eSoftbank World 2016\u300f\u306b\u3066\u300cIBM Watson\u65e5\u672c\u8a9e\u7248\u306b\u3088\u308b\u5c0f\u58f2\u696d\u754c\u306e\u9867\u5ba2\u4f53\u9a13\u5909\u9769\u300d\u306e\u30d1\u30cd\u30ea\u30b9\u30c8\u3068\u3057\u3066\u767b\u58c7\u3001\u307e\u305fWatson\u30d6\u30fc\u30b9\u306e\u30df\u30cb\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u767b\u58c7\u81f4\u3057\u307e\u3059\u3002\"\n  },\n  \"features\": {\n    \"extractSyntax\": true,\n    \"extractEntities\": false,\n    \"extractDocumentSentiment\": false\n  },\n  \"encodingType\": \"UTF8\"\n}\n\n\nentitie \u5206\u6790\u3068 sentiment \u5206\u6790\u306f\u3055\u3063\u304d\u3084\u3063\u305f\u306e\u3067\u3001features.extractSyntax \u306e\u307f true\u306b\u8a2d\u5b9a\u3002\ncurl -s -k -H \"Content-Type: application/json\"     -H \"Authorization: Bearer access_token\" \"https://language.googleapis.com/v1beta1/documents:annotateText\" -d @annotate-test.json\n\n\u5206\u6790\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\u679c\u3066\u3057\u306a\u304f\u30c7\u30ab\u3044\u306e\u3067Gist\u3067\u3002\nhttps://gist.github.com/debari/01963778d394575b7335eb125ce673b6\n\u3082\u3046\u3061\u3087\u3063\u3068\u5c0f\u3055\u3044\u6587\u7ae0\u3067\u3084\u308c\u3063\u3066\u3044\u3046\u8a71\u3067\u3059\u306d\u3002\n[{\n  \"text\": {\n    \"content\": \"\u6700\u5927\",\n    \"beginOffset\": 32\n  },\n  \"partOfSpeech\": {\n    \"tag\": \"NOUN\"\n  },\n  \"dependencyEdge\": {\n    \"headTokenIndex\": 2,\n    \"label\": \"CONJ\"\n  },\n  \"lemma\": \"\u6700\u5927\"\n},\n{\n  \"text\": {\n    \"content\": \"\u624b\",\n    \"beginOffset\": 38\n  },\n  \"partOfSpeech\": {\n    \"tag\": \"NOUN\"\n  },\n  \"dependencyEdge\": {\n    \"headTokenIndex\": 9,\n    \"label\": \"NN\"\n  },\n  \"lemma\": \"\u624b\"\n}]\n\n\u4f9d\u5b58\u95a2\u4fc2\u304c\n\u6700\u5927\u624b\u304c\u300c\u6700\u5927\u300d\u300c\u624b\u300d\u306b\u5206\u89e3\u3055\u308c\u305f\u308a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u307e\u3060\u7cbe\u5ea6\u306b\u306f\u5411\u4e0a\u306e\u4f59\u5730\u30a2\u30ea\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u307f\u3093\u306a\u540c\u3058\u4e8b\u3084\u3063\u3066\u308b\u3093\u3060\u308d\u3046\u306a\u3041\u3002\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u3068\u308a\u3042\u3048\u305a\u4f7f\u3063\u3066\u307f\u307e\u3059\u3002\u4e57\u308b\u3057\u304b\u306a\u3044\u3001\u3053\u306e\u30d3\u30c3\u30b0\u30a6\u30a7\u30fc\u30d6\u306b\uff01\n\n# API\u306e\u7a2e\u985e\n- analyzeEntities\n- analyzeSentiment\n- annotateText\n\n# analyzeEntities \u3092\u4f7f\u3063\u3066\u307f\u308b\n[Quickstart](https://cloud.google.com/natural-language/docs/getting-started?hl=ja) \u306e\u901a\u308a\u306b\u9032\u3081\u3066\u307f\u307e\u3059\u3002\n\n```\n$ gcloud auth activate-service-account --key-file=service-account-key-file\n$ gcloud auth print-access-token\n$ curl -s -k -H \"Content-Type: application/json\" \\\n    -H \"Authorization: Bearer access_token\" \\\n    https://language.googleapis.com/v1beta1/documents:analyzeEntities \\\n    -d @test.json\n```\n\ntest.json\u306e\u4e2d\u8eab\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 service-account-key-file \u3068 access_token \u306e\u4e2d\u8eab\u306f\u5f53\u7136\u5b9f\u969b\u306e\u5024\u306b\u66f8\u304d\u63db\u3048\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u4ee5\u4e0b\u306e\u30c6\u30b9\u30c8\u3092\u7a81\u3063\u8fbc\u307f\u307e\u3057\u3087\u3046\uff08\u65e5\u672c\u8a9e\u306e\u6587\u7ae0\u304c\u601d\u3044\u3064\u304b\u306a\u304b\u3063\u305f\u306e\u3067[\u4f1a\u793e\u306e\u30d7\u30ec\u30b9\u30ea\u30ea\u30fc\u30b9](https://zero-start.jp/2016/0719/event-announcement-softbankworld)\u304b\u3089\u9069\u5f53\u306b\u5f15\u3063\u5f35\u3063\u3066\u304d\u305f\uff09\u3002\n\n```test.json\n{\n  \"document\":{\n    \"type\":\"PLAIN_TEXT\",\n    \"content\":\"EC\u5546\u54c1\u691c\u7d22\u30fb\u30ec\u30b3\u30e1\u30f3\u30c9\u3092\u59cb\u3081\u3068\u3057\u305f\u30d1\u30fc\u30bd\u30ca\u30e9\u30a4\u30ba\u30c9EC\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u8ca9\u58f2\u3059\u308b\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff08\u672c\u793e\uff1a\u6771\u4eac\u90fd\u76ee\u9ed2\u533a\u3001\u4ee3\u8868\u53d6\u7de0\u5f79\u793e\u9577\uff1a\u5c71\u5d0e\u5fb3\u4e4b\u3001\u4ee5\u4e0b\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff09\u306f\u30012016\u5e747\u670821\u65e5\uff08\u6728\uff09\uff5e22\u65e5\uff08\u91d1\uff09\u306b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\uff08\u4ee5\u4e0b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\uff09\u306a\u3069\u304c\u4e3b\u50ac\u3059\u308b\u6cd5\u4eba\u5411\u3051\u30a4\u30d9\u30f3\u30c8\u300eSoftbank World 2016\u300f\u306b\u3066\u300cIBM Watson\u65e5\u672c\u8a9e\u7248\u306b\u3088\u308b\u5c0f\u58f2\u696d\u754c\u306e\u9867\u5ba2\u4f53\u9a13\u5909\u9769\u300d\u306e\u30d1\u30cd\u30ea\u30b9\u30c8\u3068\u3057\u3066\u767b\u58c7\u3001\u307e\u305fWatson\u30d6\u30fc\u30b9\u306e\u30df\u30cb\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u767b\u58c7\u81f4\u3057\u307e\u3059\u3002\"\n  },\n  \"encodingType\":\"UTF8\"\n}\n\n```\n\n\n```\u8fd4\u5374\u5024.json\n{\n  \"entities\": [\n    {\n      \"name\": \"\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\",\n      \"type\": \"EVENT\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\",\n            \"beginOffset\": 118\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u6771\u4eac\u90fd\",\n      \"type\": \"LOCATION\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E6%9D%B1%E4%BA%AC%E9%83%BD\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u6771\u4eac\u90fd\",\n            \"beginOffset\": 160\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u76ee\u9ed2\u533a\",\n      \"type\": \"LOCATION\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E7%9B%AE%E9%BB%92%E5%8C%BA\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u76ee\u9ed2\u533a\",\n            \"beginOffset\": 169\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u5c71\u5d0e\u5fb3\u4e4b\",\n      \"type\": \"PERSON\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E5%B1%B1%E5%B4%8E%E5%BE%B3%E4%B9%8B\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u5c71\u5d0e\u5fb3\u4e4b\",\n            \"beginOffset\": 205\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\",\n      \"type\": \"ORGANIZATION\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\",\n            \"beginOffset\": 298\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\",\n      \"type\": \"ORGANIZATION\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E3%82%BD%E3%83%95%E3%83%88%E3%83%90%E3%83%B3%E3%82%AF%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\",\n            \"beginOffset\": 349\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"Softbank World 2016\",\n      \"type\": \"CONSUMER_GOOD\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"Softbank World 2016\",\n            \"beginOffset\": 418\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"IBM Watson\",\n      \"type\": \"OTHER\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"IBM Watson\",\n            \"beginOffset\": 449\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"\u65e5\u672c\",\n      \"type\": \"LOCATION\",\n      \"metadata\": {\n        \"wikipedia_url\": \"http://ja.wikipedia.org/wiki/%E6%97%A5%E6%9C%AC\"\n      },\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"\u65e5\u672c\",\n            \"beginOffset\": 459\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"Watson\",\n      \"type\": \"OTHER\",\n      \"metadata\": {},\n      \"salience\": 0,\n      \"mentions\": [\n        {\n          \"text\": {\n            \"content\": \"Watson\",\n            \"beginOffset\": 558\n          }\n        }\n      ]\n    }\n  ],\n  \"language\": \"ja\"\n}\n```\n\n\u56fa\u6709\u540d\u8a5e\u3057\u304b\u5e30\u3063\u3066\u304d\u3066\u306a\u3044\u3067\u3059\u304c\u3001\u305d\u3046\u3044\u3046\u30e2\u30ce\u3063\u307d\u3044\u6c17\u3082\u3057\u307e\u3059\u3002\n>Finds named entities (currently finds proper names) in the text, entity types, salience, mentions for each entity, and other properties.\n\n\u3063\u3066\u66f8\u3044\u3066\u3042\u308b\u3057\u3002\n\n\n# analyzeSentiment \u4f7f\u3063\u3066\u307f\u308b\n\u611f\u60c5\u5206\u6790\u3063\u307d\u3044\u306e\u3067\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n\n```sentiment-test.json\n{\n  \"document\":{\n    \"type\":\"PLAIN_TEXT\",\n    \"content\":\"EC\u5546\u54c1\u691c\u7d22\u30fb\u30ec\u30b3\u30e1\u30f3\u30c9\u3092\u59cb\u3081\u3068\u3057\u305f\u30d1\u30fc\u30bd\u30ca\u30e9\u30a4\u30ba\u30c9EC\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u8ca9\u58f2\u3059\u308b\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff08\u672c\u793e\uff1a\u6771\u4eac\u90fd\u76ee\u9ed2\u533a\u3001\u4ee3\u8868\u53d6\u7de0\u5f79\u793e\u9577\uff1a\u5c71\u5d0e\u5fb3\u4e4b\u3001\u4ee5\u4e0b\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff09\u306f\u30012016\u5e747\u670821\u65e5\uff08\u6728\uff09\uff5e22\u65e5\uff08\u91d1\uff09\u306b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\uff08\u4ee5\u4e0b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\uff09\u306a\u3069\u304c\u4e3b\u50ac\u3059\u308b\u6cd5\u4eba\u5411\u3051\u30a4\u30d9\u30f3\u30c8\u300eSoftbank World 2016\u300f\u306b\u3066\u300cIBM Watson\u65e5\u672c\u8a9e\u7248\u306b\u3088\u308b\u5c0f\u58f2\u696d\u754c\u306e\u9867\u5ba2\u4f53\u9a13\u5909\u9769\u300d\u306e\u30d1\u30cd\u30ea\u30b9\u30c8\u3068\u3057\u3066\u767b\u58c7\u3001\u307e>\u305fWatson\u30d6\u30fc\u30b9\u306e\u30df\u30cb\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u767b\u58c7\u81f4\u3057\u307e\u3059\u3002\"\n  }\n}\n```\n```\n$ curl -s -k -H \"Content-Type: application/json\" -H \"Authorization: Bearer access-token\" \"https://language.googleapis.com/v1beta1/documents:analyzeSentiment\" -d @sentiment-test.json\n```\n\n```\u8fd4\u5374\u5024.json\n{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"The language ja is not supported for document sentiment analysis.\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n```\n\n\u78ba\u304b\u306b\u82f1\u8a9e\u3057\u304b\u30c0\u30e1\u3063\u307d\u3044\u3053\u3068\u304c[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://cloud.google.com/natural-language/reference/rest/v1beta1/documents/analyzeSentiment?hl=ja)\u306b\u66f8\u3044\u3066\u3042\u308b\u3002\u305d\u3082\u305d\u3082\u3053\u306e\u6587\u7ae0\u306b\u611f\u60c5\u5206\u6790\u3082\u3078\u3063\u305f\u304f\u308c\u3082\u306a\u3044\u6c17\u304c\u3057\u307e\u3059\u304c\u3001\u307e\u3041\u3001\u305d\u308c\u306f\u3044\u3044\u3068\u3057\u307e\u3057\u3087\u3046\u3002\u3069\u3063\u304b\u306e\u30ec\u30d3\u30e5\u30fc\u3068\u304b\u3092\u6301\u3063\u3066\u304d\u305f\u3089\u3044\u3044\u3093\u3067\u3057\u3087\u3046\u304b\u3002\n\ntripadvisor \u304b\u3089\u9ad8\u8a55\u4fa1\u306a\u30ec\u30d3\u30e5\u30fc\u3092\u62dd\u501f\u3057\u3066\u7a81\u3063\u8fbc\u307f\u307e\u3059\u3002\n\n\"The most amazing resort! Everywhere you turn looks like a postcard! I have never stayed in a nicer resort!\"\n\n```\u8fd4\u5374\u5024.json\n{\n  \"documentSentiment\": {\n    \"polarity\": 1,\n    \"magnitude\": 1.2\n  },\n  \"language\": \"en\"\n}\n```\n\n\u4f4e\u8a55\u4fa1\u306a\u65b9\u3082\u3002\n\"Appalling service. Could not find to Assist with room issues. Old furniture. Not helpful receptionist.\"\n\n```\n{\n  \"documentSentiment\": {\n    \"polarity\": -1,\n    \"magnitude\": 2.9\n  },\n  \"language\": \"en\"\n}\n```\npolarity \u306f\u611f\u60c5\u306e\u30cd\u30ac\u30dd\u30b8\u3067\u3001-1~1 \u306e\u7bc4\u56f2\u3067\u6570\u5024\u304c\u5909\u52d5\u3057\u307e\u3059\u3002\u9ad8\u8a55\u4fa1\u306a\u30ec\u30d3\u30e5\u30fc\u306b\u5bfe\u3057\u3066\u306f\u30dd\u30b8\u30c6\u30a3\u30d6\u3001\u5b9a\u8a55\u304b\u306a\u30ec\u30d3\u30e5\u30fc\u306b\u5bfe\u3057\u3066\u306f\u30cd\u30ac\u30c6\u30a3\u30d6\u306a\u5224\u5b9a\u304c\u666e\u901a\u306b\u5e30\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3002magnitude \u306f\u611f\u60c5\u306e\u5927\u304d\u3055\u3092\u8868\u3057\u3066\u3044\u308b\u3068\u8003\u3048\u308c\u3070\u3060\u3044\u305f\u3044\u826f\u3055\u305d\u3046\u306a\u6c17\u304c\u3059\u308b\u3002\n\n# annotateText \u3092\u4f7f\u3063\u3066\u307f\u308b\n\u6587\u7ae0\u69cb\u9020\u306e\u89e3\u6790\u304b\u306a\u3002\u3068\u308a\u3042\u3048\u305a\u7a81\u3063\u8fbc\u3093\u3067\u307f\u307e\u3057\u3087\u3046\u3002\n\n\n```annotate-test.json\n{\n  \"document\": {\n    \"type\":\"PLAIN_TEXT\",\n    \"content\":\"EC\u5546\u54c1\u691c\u7d22\u30fb\u30ec\u30b3\u30e1\u30f3\u30c9\u3092\u59cb\u3081\u3068\u3057\u305f\u30d1\u30fc\u30bd\u30ca\u30e9\u30a4\u30ba\u30c9EC\u30bd\u30ea\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u958b\u767a\u8ca9\u58f2\u3059\u308b\u682a\u5f0f\u4f1a\u793e\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff08\u672c\u793e\uff1a\u6771\u4eac\u90fd\u76ee\u9ed2\u533a\u3001\u4ee3\u8868\u53d6\u7de0\u5f79\u793e\u9577\uff1a\u5c71\u5d0e\u5fb3\u4e4b\u3001\u4ee5\u4e0b\u30bc\u30ed\u30b9\u30bf\u30fc\u30c8\uff09\u306f\u30012016\u5e747\u670821\u65e5\uff08\u6728\uff09\uff5e22\u65e5\uff08\u91d1\uff09\u306b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\u30b0\u30eb\u30fc\u30d7\u682a\u5f0f\u4f1a\u793e\uff08\u4ee5\u4e0b\u30bd\u30d5\u30c8\u30d0\u30f3\u30af\uff09\u306a\u3069\u304c\u4e3b\u50ac\u3059\u308b\u6cd5\u4eba\u5411\u3051\u30a4\u30d9\u30f3\u30c8\u300eSoftbank World 2016\u300f\u306b\u3066\u300cIBM Watson\u65e5\u672c\u8a9e\u7248\u306b\u3088\u308b\u5c0f\u58f2\u696d\u754c\u306e\u9867\u5ba2\u4f53\u9a13\u5909\u9769\u300d\u306e\u30d1\u30cd\u30ea\u30b9\u30c8\u3068\u3057\u3066\u767b\u58c7\u3001\u307e\u305fWatson\u30d6\u30fc\u30b9\u306e\u30df\u30cb\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u767b\u58c7\u81f4\u3057\u307e\u3059\u3002\"\n  },\n  \"features\": {\n    \"extractSyntax\": true,\n    \"extractEntities\": false,\n    \"extractDocumentSentiment\": false\n  },\n  \"encodingType\": \"UTF8\"\n}\n```\nentitie \u5206\u6790\u3068 sentiment \u5206\u6790\u306f\u3055\u3063\u304d\u3084\u3063\u305f\u306e\u3067\u3001features.extractSyntax \u306e\u307f true\u306b\u8a2d\u5b9a\u3002\n\n```\ncurl -s -k -H \"Content-Type: application/json\"     -H \"Authorization: Bearer access_token\" \"https://language.googleapis.com/v1beta1/documents:annotateText\" -d @annotate-test.json\n```\n\n\u5206\u6790\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\u679c\u3066\u3057\u306a\u304f\u30c7\u30ab\u3044\u306e\u3067Gist\u3067\u3002\nhttps://gist.github.com/debari/01963778d394575b7335eb125ce673b6\n\n\u3082\u3046\u3061\u3087\u3063\u3068\u5c0f\u3055\u3044\u6587\u7ae0\u3067\u3084\u308c\u3063\u3066\u3044\u3046\u8a71\u3067\u3059\u306d\u3002\n\n```\n[{\n  \"text\": {\n    \"content\": \"\u6700\u5927\",\n    \"beginOffset\": 32\n  },\n  \"partOfSpeech\": {\n    \"tag\": \"NOUN\"\n  },\n  \"dependencyEdge\": {\n    \"headTokenIndex\": 2,\n    \"label\": \"CONJ\"\n  },\n  \"lemma\": \"\u6700\u5927\"\n},\n{\n  \"text\": {\n    \"content\": \"\u624b\",\n    \"beginOffset\": 38\n  },\n  \"partOfSpeech\": {\n    \"tag\": \"NOUN\"\n  },\n  \"dependencyEdge\": {\n    \"headTokenIndex\": 9,\n    \"label\": \"NN\"\n  },\n  \"lemma\": \"\u624b\"\n}]\n```\n\u4f9d\u5b58\u95a2\u4fc2\u304c\n\u6700\u5927\u624b\u304c\u300c\u6700\u5927\u300d\u300c\u624b\u300d\u306b\u5206\u89e3\u3055\u308c\u305f\u308a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u307e\u3060\u7cbe\u5ea6\u306b\u306f\u5411\u4e0a\u306e\u4f59\u5730\u30a2\u30ea\u3067\u3057\u3087\u3046\u304b\u3002\n\n", "tags": ["gcp"]}