{"context": "\n\n\u306f\u3058\u3081\u306b\n\u4efb\u610f\u306e\u70b9\u3068\u4efb\u610f\u306e\u7dda\u5206\u3068\u306e\u8ddd\u96e2\u3092\u6c42\u3081\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u7121\u9650\u9060\u306b\u5ef6\u9577\u3055\u308c\u3066\u3044\u308b\u76f4\u7dda\u306e\u5834\u5408\u306b\u306f\u3001\u76f4\u7dda\u3068\u76f4\u884c\u3057\u3066\u304b\u3064\u6307\u5b9a\u3055\u308c\u305f\u70b9\u3092\u901a\u308b\u76f4\u7dda\u3068\u306e\u4ea4\u70b9\u3092\u6c42\u3081\u308b\u65b9\u6cd5\uff08\u6307\u5b9a\u3055\u308c\u305f\u70b9\u3092\u4e2d\u5fc3\u3068\u3057\u3066\u76f4\u7dda\u3068\u63a5\u3059\u308b\u5186\u3092\u6c42\u3081\u308b\u306e\u3082\u7d50\u5c40\u306f\u540c\u3058\uff09\u3067\u5341\u5206\u3067\u3059\u304c\u3001\u7dda\u5206\u306e\u5834\u5408\u306b\u306f\u4ea4\u70b9\u304c\u7dda\u5206\u5185\u306b\u3042\u308b\u3068\u306f\u9650\u3089\u306a\u3044\u306e\u3067\u3001\u3082\u3046\u3061\u3087\u3063\u3068\u3084\u3084\u3053\u3057\u304f\u306a\u308a\u307e\u3059\u3002\n\u305d\u3053\u3067\u3001\u5a92\u4ecb\u5909\u6570\u3092\u4f7f\u3063\u305f\u65b9\u6cd5\u3092\u691c\u8a0e\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u7dda\u5206\u3068\u70b9\u3068\u306e\u8ddd\u96e2\n\u70b9P1=(x1,y1)P_1=(x_1,y_1)\u3068\u70b9P2(x2,y2P_2(x_2,y_2)\u3092\u7aef\u70b9\u3068\u3059\u308b\u7dda\u5206\u3068\u70b9P0=(x0,y0)P_0=(x_0,y_0)\u3068\u306e\u8ddd\u96e2\u306e\u4e8c\u4e57\u3092\u6c42\u3081\u307e\u3059\u3002\n\u7dda\u5206\u4e0a\u306e\u70b9\u3092PtP_t\u3068\u3059\u308b\u3068\u3001Pt=(at+x1,bt+y1)P_t=(at+x_1, bt+y_1) \u3068\u306a\u308a\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u5a92\u4ecb\u5909\u6570 tt\u306f 0\u2264t\u226410 \\le t \\le 1 \u3092\u3068\u308a\u307e\u3059\u3002\u307e\u305f\u3001a=x2\u2212x1a=x_2-x_1, b=y2\u2212y1b=y_2-y_1 \u3067\u3059\u3002\nPtP_t\u3068P0P_0\u3068\u306e\u8ddd\u96e2\u306e2\u4e57\u306f\u3001tt\u306e\u95a2\u6570\u3068\u306a\u308a\u307e\u3059\u3002\nd2(t) = (at+x_1-x_0)^2 + (bt+y_1-y_0)^2\nd2(t)=(at+x1\u2212x0)2+(bt+y1\u2212y0)2{d2(t) = (at+x_1-x_0)^2 + (bt+y_1-y_0)^2\n}\n\u3053\u3053\u3067\n\\begin{align}\nx'_1 &= x_1 - x_0 \\\\\ny'_1 &= y_1 - y_0\n\\end{align}\nx\u20321=x1\u2212x0y\u20321=y1\u2212y0{\\begin{align}\nx'_1 &= x_1 - x_0 \\\\\ny'_1 &= y_1 - y_0\n\\end{align}\n}\n\u3068\u3059\u308b\u3068\u3001d2(t)d2(t)\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\\begin{align}\nd2(t) &= (at+x'_1)^2 + (bt+y'_1)^2 \\\\\n&= (a^2+b^2)t^2 + 2(ax'_1+by'_1)t + (x'^2_1+y'^2_1) \\\\\n&= (a^2+b^2)(t^2 + 2\\frac{ax'_1+by'_1}{a^2+b^2}t) + (x'^2_1+y'^2_1) \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 - \\frac{(ax'_1+by'_1)^2}{a^2+b^2} + (x'^2_1+y'^2_1) \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 + \\frac{-(ax'_1+by'_1)^2 + (x'^2_1+y'^2_1)(a^2+b^2)}{a^2+b^2} \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 + \\frac{(ay'_1-bx'_1)^2}{a^2+b^2} \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 + \\frac{(ay'_1-bx'_1)^2}{a^2+b^2}\n\\end{align}\nd2(t)=(at+x\u20321)2+(bt+y\u20321)2=(a2+b2)t2+2(ax\u20321+by\u20321)t+(x\u203221+y\u203221)=(a2+b2)(t2+2ax\u20321+by\u20321a2+b2t)+(x\u203221+y\u203221)=(a2+b2)(t+ax\u20321+by\u20321a2+b2)2\u2212(ax\u20321+by\u20321)2a2+b2+(x\u203221+y\u203221)=(a2+b2)(t+ax\u20321+by\u20321a2+b2)2+\u2212(ax\u20321+by\u20321)2+(x\u203221+y\u203221)(a2+b2)a2+b2=(a2+b2)(t+ax\u20321+by\u20321a2+b2)2+(ay\u20321\u2212bx\u20321)2a2+b2=(a2+b2)(t+ax\u20321+by\u20321a2+b2)2+(ay\u20321\u2212bx\u20321)2a2+b2{\\begin{align}\nd2(t) &= (at+x'_1)^2 + (bt+y'_1)^2 \\\\\n&= (a^2+b^2)t^2 + 2(ax'_1+by'_1)t + (x'^2_1+y'^2_1) \\\\\n&= (a^2+b^2)(t^2 + 2\\frac{ax'_1+by'_1}{a^2+b^2}t) + (x'^2_1+y'^2_1) \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 - \\frac{(ax'_1+by'_1)^2}{a^2+b^2} + (x'^2_1+y'^2_1) \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 + \\frac{-(ax'_1+by'_1)^2 + (x'^2_1+y'^2_1)(a^2+b^2)}{a^2+b^2} \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 + \\frac{(ay'_1-bx'_1)^2}{a^2+b^2} \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 + \\frac{(ay'_1-bx'_1)^2}{a^2+b^2}\n\\end{align}\n}\n\u3053\u308c\u3092x1,y1x1, y1\u3067\u8868\u3059\u3068\u3001\nd2(t) = (a^2+b^2)(t + \\frac{a(x_1-x_0)+b(y_1-y_0)}{a^2+b^2})^2 + \\frac{(a(y_1-y_0)-b(x_1-x_0))^2}{a^2+b^2}\n{d2(t) = (a^2+b^2)(t + \\frac{a(x_1-x_0)+b(y_1-y_0)}{a^2+b^2})^2 + \\frac{(a(y_1-y_0)-b(x_1-x_0))^2}{a^2+b^2}\n}{d2(t) = (a^2+b^2)(t + \\frac{a(x_1-x_0)+b(y_1-y_0)}{a^2+b^2})^2 + \\frac{(a(y_1-y_0)-b(x_1-x_0))^2}{a^2+b^2}\n}\n\u6700\u77ed\u70b9\u3092\u3068\u308b\u3068\u304d\u3092\\overline{t}\\overline{t}\u3068\u3059\u308b\u3068\u3001\n\\begin{align}\n\\overline{t} &= -\\frac{a(x1-x0)+b(y1-y0)}{a^2+b^2} \\\\\nd2(\\overline{t}) &= \\frac{(a(y1-y0)-b(x1-x0))^2}{a^2+b^2}\n\\end{align}\n{\\begin{align}\n\\overline{t} &= -\\frac{a(x1-x0)+b(y1-y0)}{a^2+b^2} \\\\\nd2(\\overline{t}) &= \\frac{(a(y1-y0)-b(x1-x0))^2}{a^2+b^2}\n\\end{align}\n}{\\begin{align}\n\\overline{t} &= -\\frac{a(x1-x0)+b(y1-y0)}{a^2+b^2} \\\\\nd2(\\overline{t}) &= \\frac{(a(y1-y0)-b(x1-x0))^2}{a^2+b^2}\n\\end{align}\n}\n\u3068\u306a\u308a\u307e\u3059\u3002\n0 \\le t \\le 10 \\le t \\le 1\u3067\u3042\u308b\u306e\u3067\u3001\\overline{t}\\overline{t}\u304c\u3053\u306e\u7bc4\u56f2\u5185\u306b\u7121\u3044\u5834\u5408\u306f\u3001\u7dda\u5206\u3092\u7121\u9650\u9060\u307e\u3067\u5ef6\u9577\u3057\u305f\u76f4\u7dda\u4e0a\u306e\u3069\u3053\u304b\u306b\u6700\u77ed\u70b9\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u7dda\u5206\u3092\u8003\u616e\u3059\u308b\u969b\u3001d2(t)d2(t)\u306f\u4e0b\u306b\u51f8\u306e\u4e8c\u6b21\u95a2\u6570\u3067\u3042\u308b\u306e\u3067\u3001\\overline{t} < 0\\overline{t} < 0\u306e\u6642\u306fd2(0)d2(0)\u304c\u3001\\overline{t} > 1\\overline{t} > 1\u306e\u6642\u306fd2(1)d2(1)\u304c\u3001\u305d\u308c\u305e\u308c\u306e\u8ddd\u96e2\u3068\u306a\u308a\u307e\u3059\u3002\n\\begin{align}\nd2(0) &= (x_1-x_0)^2 + (y_1-y_0)^2 \\\\\nd2(1) &= (x_2-x_0)^2 + (y_2-y_0)^2\n\\end{align}\n{\\begin{align}\nd2(0) &= (x_1-x_0)^2 + (y_1-y_0)^2 \\\\\nd2(1) &= (x_2-x_0)^2 + (y_2-y_0)^2\n\\end{align}\n}{\\begin{align}\nd2(0) &= (x_1-x_0)^2 + (y_1-y_0)^2 \\\\\nd2(1) &= (x_2-x_0)^2 + (y_2-y_0)^2\n\\end{align}\n}\n\n\u9664\u7b97\u3092\u6e1b\u3089\u3059\n@kkdd \u3055\u3093\u304b\u3089\u30b3\u30e1\u30f3\u30c8\u3092\u9802\u304d\u307e\u3057\u305f\u3002\u9664\u7b97\u3092\u6e1b\u3089\u3057\u305f\u65b9\u304c\u30d9\u30bf\u30fc\u3067\u3059\u306e\u3067\u3001\u305d\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\\begin{align}\n\\overline{t} = -\\frac{a(x1-x0)+b(y1-y0)}{a^2+b^2} \\\\\n0 \\le \\overline{t} \\le 1\n\\end{align}\n{\\begin{align}\n\\overline{t} = -\\frac{a(x1-x0)+b(y1-y0)}{a^2+b^2} \\\\\n0 \\le \\overline{t} \\le 1\n\\end{align}\n}{\\begin{align}\n\\overline{t} = -\\frac{a(x1-x0)+b(y1-y0)}{a^2+b^2} \\\\\n0 \\le \\overline{t} \\le 1\n\\end{align}\n}\n\u306f\u3001a^2+b^2 \\gt 0a^2+b^2 \\gt 0\u304b\u3089\u3001\n\\begin{align}\n\\overline{t'} = -(a(x1-x0)+b(y1-y0)) \\\\\n0 \\le \\overline{t'} \\le a^2+b^2\n\\end{align}\n{\\begin{align}\n\\overline{t'} = -(a(x1-x0)+b(y1-y0)) \\\\\n0 \\le \\overline{t'} \\le a^2+b^2\n\\end{align}\n}{\\begin{align}\n\\overline{t'} = -(a(x1-x0)+b(y1-y0)) \\\\\n0 \\le \\overline{t'} \\le a^2+b^2\n\\end{align}\n}\n\u3068\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002\n\nJavaScript\u3067\u66f8\u3044\u3066\u307f\u308b\n2016/12/28 \u9664\u7b97\u3092\u6e1b\u3089\u3059\u3092\u53cd\u6620\u3057\u307e\u3057\u305f\nfunction min_d2(x0, y0, x1, y1, x2, y2) {\n  var a = x2 - x1;\n  var b = y2 - y1;\n  var a2 = a * a;\n  var b2 = b * b;\n  var r2 = a2 + b2;\n  var tt = -(a*(x1-x0)+b*(y1-y0));\n  if( tt < 0 ) {\n    return (x1-x0)*(x1-x0) + (y1-y0)*(y1-y0);\n  }\n  if( tt > r2 ) {\n    return (x2-x0)*(x2-x0) + (y2-y0)*(y2-y0);\n  }\n  var f1 = a*(y1-y0)-b*(x1-x0);\n  return (f1*f1)/r2;\n}\n\n\n\u304a\u308f\u308a\u306b\n\u5a92\u4ecb\u5909\u6570\u3092\u4f7f\u3063\u3066\u3001\u4efb\u610f\u306e\u70b9\u3068\u4efb\u610f\u306e\u7dda\u5206\u3068\u306e\u8ddd\u96e2\u3092\u6c42\u3081\u308b\u65b9\u6cd5\u3068JavaScript\u306e\u30b3\u30fc\u30c9\u4f8b\u3092\u793a\u3057\u307e\u3057\u305f\u3002\n\u306a\u304a\u3001\uff08\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\uff09\u8ddd\u96e2\u3092\u6c42\u3081\u308b\u306e\u306f\u4e2d\u5b66\u4e09\u5e74\u3001\u5a92\u4ecb\u5909\u6570\u306f\u9ad8\u6821\u4e00\u5e74\u3060\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\u3044\u3044\u304a\u3068\u306a\u306f\u3001\u3053\u306e\u3088\u3046\u306a\u6570\u5f0f\u306b\u3064\u3044\u3066\u308f\u3056\u308f\u3056\u793a\u3055\u3093\u3067\u3082\u5206\u304b\u3063\u3066\u304a\u308b\u3001\u3068\u3044\u3046\u65b9\u3082\u591a\u6570\u3044\u3089\u3063\u3057\u3083\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u8a31\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n# \u306f\u3058\u3081\u306b\n\n\u4efb\u610f\u306e\u70b9\u3068\u4efb\u610f\u306e\u7dda\u5206\u3068\u306e\u8ddd\u96e2\u3092\u6c42\u3081\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\u7121\u9650\u9060\u306b\u5ef6\u9577\u3055\u308c\u3066\u3044\u308b\u76f4\u7dda\u306e\u5834\u5408\u306b\u306f\u3001\u76f4\u7dda\u3068\u76f4\u884c\u3057\u3066\u304b\u3064\u6307\u5b9a\u3055\u308c\u305f\u70b9\u3092\u901a\u308b\u76f4\u7dda\u3068\u306e\u4ea4\u70b9\u3092\u6c42\u3081\u308b\u65b9\u6cd5\uff08\u6307\u5b9a\u3055\u308c\u305f\u70b9\u3092\u4e2d\u5fc3\u3068\u3057\u3066\u76f4\u7dda\u3068\u63a5\u3059\u308b\u5186\u3092\u6c42\u3081\u308b\u306e\u3082\u7d50\u5c40\u306f\u540c\u3058\uff09\u3067\u5341\u5206\u3067\u3059\u304c\u3001\u7dda\u5206\u306e\u5834\u5408\u306b\u306f\u4ea4\u70b9\u304c\u7dda\u5206\u5185\u306b\u3042\u308b\u3068\u306f\u9650\u3089\u306a\u3044\u306e\u3067\u3001\u3082\u3046\u3061\u3087\u3063\u3068\u3084\u3084\u3053\u3057\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u305d\u3053\u3067\u3001\u5a92\u4ecb\u5909\u6570\u3092\u4f7f\u3063\u305f\u65b9\u6cd5\u3092\u691c\u8a0e\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n# \u7dda\u5206\u3068\u70b9\u3068\u306e\u8ddd\u96e2\n\u70b9$P_1=(x_1,y_1)$\u3068\u70b9$P_2(x_2,y_2$)\u3092\u7aef\u70b9\u3068\u3059\u308b\u7dda\u5206\u3068\u70b9$P_0=(x_0,y_0)$\u3068\u306e\u8ddd\u96e2\u306e\u4e8c\u4e57\u3092\u6c42\u3081\u307e\u3059\u3002\n\n\u7dda\u5206\u4e0a\u306e\u70b9\u3092$P_t$\u3068\u3059\u308b\u3068\u3001$P_t=(at+x_1, bt+y_1)$ \u3068\u306a\u308a\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u5a92\u4ecb\u5909\u6570 $t$\u306f $0 \\le t \\le 1$ \u3092\u3068\u308a\u307e\u3059\u3002\u307e\u305f\u3001$a=x_2-x_1$, $b=y_2-y_1$ \u3067\u3059\u3002\n\n$P_t$\u3068$P_0$\u3068\u306e\u8ddd\u96e2\u306e2\u4e57\u306f\u3001$t$\u306e\u95a2\u6570\u3068\u306a\u308a\u307e\u3059\u3002\n\n```math\nd2(t) = (at+x_1-x_0)^2 + (bt+y_1-y_0)^2\n```\n\n\u3053\u3053\u3067\n\n```math\n\\begin{align}\nx'_1 &= x_1 - x_0 \\\\\ny'_1 &= y_1 - y_0\n\\end{align}\n```\n\n\u3068\u3059\u308b\u3068\u3001$d2(t)$\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```math\n\\begin{align}\nd2(t) &= (at+x'_1)^2 + (bt+y'_1)^2 \\\\\n&= (a^2+b^2)t^2 + 2(ax'_1+by'_1)t + (x'^2_1+y'^2_1) \\\\\n&= (a^2+b^2)(t^2 + 2\\frac{ax'_1+by'_1}{a^2+b^2}t) + (x'^2_1+y'^2_1) \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 - \\frac{(ax'_1+by'_1)^2}{a^2+b^2} + (x'^2_1+y'^2_1) \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 + \\frac{-(ax'_1+by'_1)^2 + (x'^2_1+y'^2_1)(a^2+b^2)}{a^2+b^2} \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 + \\frac{(ay'_1-bx'_1)^2}{a^2+b^2} \\\\\n&= (a^2+b^2)(t + \\frac{ax'_1+by'_1}{a^2+b^2})^2 + \\frac{(ay'_1-bx'_1)^2}{a^2+b^2}\n\\end{align}\n```\n\n\u3053\u308c\u3092$x1, y1$\u3067\u8868\u3059\u3068\u3001\n\n```math\nd2(t) = (a^2+b^2)(t + \\frac{a(x_1-x_0)+b(y_1-y_0)}{a^2+b^2})^2 + \\frac{(a(y_1-y_0)-b(x_1-x_0))^2}{a^2+b^2}\n```\n\n\u6700\u77ed\u70b9\u3092\u3068\u308b\u3068\u304d\u3092$\\overline{t}$\u3068\u3059\u308b\u3068\u3001\n\n```math\n\\begin{align}\n\\overline{t} &= -\\frac{a(x1-x0)+b(y1-y0)}{a^2+b^2} \\\\\nd2(\\overline{t}) &= \\frac{(a(y1-y0)-b(x1-x0))^2}{a^2+b^2}\n\\end{align}\n```\n\n\u3068\u306a\u308a\u307e\u3059\u3002\n\n$0 \\le t \\le 1$\u3067\u3042\u308b\u306e\u3067\u3001$\\overline{t}$\u304c\u3053\u306e\u7bc4\u56f2\u5185\u306b\u7121\u3044\u5834\u5408\u306f\u3001\u7dda\u5206\u3092\u7121\u9650\u9060\u307e\u3067\u5ef6\u9577\u3057\u305f\u76f4\u7dda\u4e0a\u306e\u3069\u3053\u304b\u306b\u6700\u77ed\u70b9\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u7dda\u5206\u3092\u8003\u616e\u3059\u308b\u969b\u3001$d2(t)$\u306f\u4e0b\u306b\u51f8\u306e\u4e8c\u6b21\u95a2\u6570\u3067\u3042\u308b\u306e\u3067\u3001$\\overline{t} < 0$\u306e\u6642\u306f$d2(0)$\u304c\u3001$\\overline{t} > 1$\u306e\u6642\u306f$d2(1)$\u304c\u3001\u305d\u308c\u305e\u308c\u306e\u8ddd\u96e2\u3068\u306a\u308a\u307e\u3059\u3002\n\n```math\n\\begin{align}\nd2(0) &= (x_1-x_0)^2 + (y_1-y_0)^2 \\\\\nd2(1) &= (x_2-x_0)^2 + (y_2-y_0)^2\n\\end{align}\n```\n\n# \u9664\u7b97\u3092\u6e1b\u3089\u3059\n\n@kkdd \u3055\u3093\u304b\u3089\u30b3\u30e1\u30f3\u30c8\u3092\u9802\u304d\u307e\u3057\u305f\u3002\u9664\u7b97\u3092\u6e1b\u3089\u3057\u305f\u65b9\u304c\u30d9\u30bf\u30fc\u3067\u3059\u306e\u3067\u3001\u305d\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```math\n\\begin{align}\n\\overline{t} = -\\frac{a(x1-x0)+b(y1-y0)}{a^2+b^2} \\\\\n0 \\le \\overline{t} \\le 1\n\\end{align}\n```\n\u306f\u3001$a^2+b^2 \\gt 0$\u304b\u3089\u3001\n\n```math\n\\begin{align}\n\\overline{t'} = -(a(x1-x0)+b(y1-y0)) \\\\\n0 \\le \\overline{t'} \\le a^2+b^2\n\\end{align}\n```\n\u3068\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002\n\n\n# JavaScript\u3067\u66f8\u3044\u3066\u307f\u308b\n\n2016/12/28 \u9664\u7b97\u3092\u6e1b\u3089\u3059\u3092\u53cd\u6620\u3057\u307e\u3057\u305f\n\n```js\nfunction min_d2(x0, y0, x1, y1, x2, y2) {\n  var a = x2 - x1;\n  var b = y2 - y1;\n  var a2 = a * a;\n  var b2 = b * b;\n  var r2 = a2 + b2;\n  var tt = -(a*(x1-x0)+b*(y1-y0));\n  if( tt < 0 ) {\n    return (x1-x0)*(x1-x0) + (y1-y0)*(y1-y0);\n  }\n  if( tt > r2 ) {\n    return (x2-x0)*(x2-x0) + (y2-y0)*(y2-y0);\n  }\n  var f1 = a*(y1-y0)-b*(x1-x0);\n  return (f1*f1)/r2;\n}\n```\n\n\n\n# \u304a\u308f\u308a\u306b\n\n\u5a92\u4ecb\u5909\u6570\u3092\u4f7f\u3063\u3066\u3001\u4efb\u610f\u306e\u70b9\u3068\u4efb\u610f\u306e\u7dda\u5206\u3068\u306e\u8ddd\u96e2\u3092\u6c42\u3081\u308b\u65b9\u6cd5\u3068JavaScript\u306e\u30b3\u30fc\u30c9\u4f8b\u3092\u793a\u3057\u307e\u3057\u305f\u3002\n\u306a\u304a\u3001\uff08\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\uff09\u8ddd\u96e2\u3092\u6c42\u3081\u308b\u306e\u306f\u4e2d\u5b66\u4e09\u5e74\u3001\u5a92\u4ecb\u5909\u6570\u306f\u9ad8\u6821\u4e00\u5e74\u3060\u3063\u305f\u3068\u601d\u3044\u307e\u3059\u3002\u3044\u3044\u304a\u3068\u306a\u306f\u3001\u3053\u306e\u3088\u3046\u306a\u6570\u5f0f\u306b\u3064\u3044\u3066\u308f\u3056\u308f\u3056\u793a\u3055\u3093\u3067\u3082\u5206\u304b\u3063\u3066\u304a\u308b\u3001\u3068\u3044\u3046\u65b9\u3082\u591a\u6570\u3044\u3089\u3063\u3057\u3083\u308b\u3068\u601d\u3044\u307e\u3059\u304c\u8a31\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n", "tags": ["JavaScript", "\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0"]}