{"context": " More than 1 year has passed since last update.\n\n\u72b6\u6cc1\n\n\u8e0f\u307f\u53f0\u30b5\u30fc\u30d0\u304c\u3042\u308a\u3001\u5404\u500b\u5225\u30b5\u30fc\u30d0\u306b\u306f\u305d\u3053\u7d4c\u7531\u3067\u3057\u304b\u5165\u308c\u306a\u3044\nMySQL\u30b5\u30fc\u30d0\u304c4\u3064\u3042\u308b\nMySQL\u30b5\u30fc\u30d04\u3064\u306b\u5bfe\u3057\u3001\u305f\u3068\u3048\u3070 mysqldump \u3057\u305f\u3044\n\u9010\u6b21\u5b9f\u884c\u3067\u3082\u3044\u3044\u3051\u3069\u3048\u3089\u3044\u6642\u9593\u304c\u304b\u304b\u308b\u306a\u301c\u3063\u3066\u601d\u3063\u3066\u3044\u308b\n\u8e0f\u307f\u53f0\u30b5\u30fc\u30d0\u306b\u306f\u3001GNU parallel \u304c\u5165\u3063\u3066\u3044\u306a\u3044\u2026\u2026\n\n\nparallel \u3068\u3044\u3046DSL\u304c\u3059\u3067\u306b\u3042\u308b\n\u3053\u308c\u306f\u3001\u8907\u6570\u30b5\u30fc\u30d0\u306b\u5bfe\u3057\u4e26\u884c\u5b9f\u884c\u3059\u308b\u306e\u3067\u3001\u5358\u4e00\u30b5\u30fc\u30d0\u306b\u306f\u5411\u304b\u306a\u3044\u3002\ngem\u3082\u3044\u3044\u611f\u3058\u306e\u3082\u306e\u304c\u7121\u3055\u305d\u3046\u306b\u898b\u3048\u308b\u3002\n\n\u3053\u3093\u306a\u306e\u66f8\u3044\u305f\ndef run_parallel(parallel_size)\n  threads = []\n  parallel_size.times do |i|\n    threads << Thread.new do\n      logger.info \"starting concurrent task in #{parallel_size} threads\"\n      logger.info \"started - thread #{i}\"\n      yield i\n      logger.info \"finished - thread #{i}\"\n    end\n  end\n  threads.each {|t| t.join }\nend\n\n\nUsage\nrun_parallel 4 do |i|\n  run 'sleep 120'\nend\n\n\n\u3061\u3083\u3093\u30684\u4e26\u884c\u3067 sleep \u304c\u8d70\u308b\uff01\n\u7d50\u679c\u3001\uff11\uff12\uff10\u79d2\u524d\u5f8c\u3067\u5168\u30b8\u30e7\u30d6\u304c\u7d42\u308f\u308b\u306f\u305a\n\n\nTODO\nGood name\n## \u72b6\u6cc1\n\n* \u8e0f\u307f\u53f0\u30b5\u30fc\u30d0\u304c\u3042\u308a\u3001\u5404\u500b\u5225\u30b5\u30fc\u30d0\u306b\u306f\u305d\u3053\u7d4c\u7531\u3067\u3057\u304b\u5165\u308c\u306a\u3044\n* MySQL\u30b5\u30fc\u30d0\u304c4\u3064\u3042\u308b\n* MySQL\u30b5\u30fc\u30d04\u3064\u306b\u5bfe\u3057\u3001\u305f\u3068\u3048\u3070 `mysqldump` \u3057\u305f\u3044\n* \u9010\u6b21\u5b9f\u884c\u3067\u3082\u3044\u3044\u3051\u3069\u3048\u3089\u3044\u6642\u9593\u304c\u304b\u304b\u308b\u306a\u301c\u3063\u3066\u601d\u3063\u3066\u3044\u308b\n* \u8e0f\u307f\u53f0\u30b5\u30fc\u30d0\u306b\u306f\u3001GNU parallel \u304c\u5165\u3063\u3066\u3044\u306a\u3044\u2026\u2026\n\n## `parallel` \u3068\u3044\u3046DSL\u304c\u3059\u3067\u306b\u3042\u308b\n\n\u3053\u308c\u306f\u3001\u8907\u6570\u30b5\u30fc\u30d0\u306b\u5bfe\u3057\u4e26\u884c\u5b9f\u884c\u3059\u308b\u306e\u3067\u3001\u5358\u4e00\u30b5\u30fc\u30d0\u306b\u306f\u5411\u304b\u306a\u3044\u3002\ngem\u3082\u3044\u3044\u611f\u3058\u306e\u3082\u306e\u304c\u7121\u3055\u305d\u3046\u306b\u898b\u3048\u308b\u3002\n\n## \u3053\u3093\u306a\u306e\u66f8\u3044\u305f\n\n```ruby\ndef run_parallel(parallel_size)\n  threads = []\n  parallel_size.times do |i|\n    threads << Thread.new do\n      logger.info \"starting concurrent task in #{parallel_size} threads\"\n      logger.info \"started - thread #{i}\"\n      yield i\n      logger.info \"finished - thread #{i}\"\n    end\n  end\n  threads.each {|t| t.join }\nend\n```\n\n## Usage\n\n```ruby\nrun_parallel 4 do |i|\n  run 'sleep 120'\nend\n```\n\n* \u3061\u3083\u3093\u30684\u4e26\u884c\u3067 `sleep` \u304c\u8d70\u308b\uff01\n* \u7d50\u679c\u3001\uff11\uff12\uff10\u79d2\u524d\u5f8c\u3067\u5168\u30b8\u30e7\u30d6\u304c\u7d42\u308f\u308b\u306f\u305a\n\n## TODO\n\nGood name", "tags": ["capistrano", "Ruby"]}