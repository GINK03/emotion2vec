{"context": "\n\nMilkcocoa\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u5f62\u5f0f\n\u540d\u524d\u3068\u30b9\u30b3\u30a2\u304c\u5165\u3063\u3066\u3044\u308b\u3002\n{\n  \"id\": \"~\",\n  \"timestamp\": \"~\",\n  \"value\": {\n  \"name\": \"username\",\n  \"score\": 12\n  }\n}\n\n\u3053\u306e\u30c7\u30fc\u30bf\u3092\u5f15\u3063\u5f35\u3063\u3066\u304d\u3066\u4e0a\u4f4d5\u4ef6\u3092\u8868\u793a\u3055\u305b\u308b\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u4f5c\u308b\u3002\n\nJavaScript\n\u5168\u30c7\u30fc\u30bf\u53d6\u5f97\u3057\u3001\u964d\u9806\u306b\u4e26\u3073\u66ff\u3048\u3066\u4e0a\u4f4d\uff15\u4ef6\u307e\u3067\u51fa\u529b\u3002\n// Milkcocoa\u306e\u6e96\u5099\u3068\u304b\nvar milkcocoa = new MilkCocoa('~~~~');\nvar ds = milkcocoa.dataStore('ranking');\n\n// \u30e9\u30f3\u30ad\u30f3\u30b0\u306b\u95a2\u308f\u308b\u51e6\u7406\u3068\u304b\nvar ranking = [];\nds.stream().next(function(err, all) {\n    all.sort(function(a,b) {\n        if(a.value.score < b.value.score) { return 1; }\n        if(a.value.score > b.value.score) { return -1; }\n        return 0;\n    });\n    all.length = 5;\n    ranking = all;\n\n    for(var i=0; i<ranking.length; i++){\n        console.log(ranking[i].value.name, ranking[i].value.score);\n    }\n});\n\n\nif\u6587\u3042\u305f\u308a\u306e\u51e6\u7406\u306f\u3001\u3053\u3046\u66f8\u304d\u304b\u3048\u3066\u3082\u3044\u3044\u3093\u3067\u3059\u3051\u3069\u500b\u4eba\u7684\u306b\u3042\u3093\u307e\u308a\u597d\u304d\u3058\u3083\u306a\u3044\u3002\n    return a.value.score < b.value.score ? 1 : -1;\n\n\n\u53c2\u8003\nMilkcocoa\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttps://mlkcca.com/document/api-js.html\n## Milkcocoa\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u30c7\u30fc\u30bf\u5f62\u5f0f\n\u540d\u524d\u3068\u30b9\u30b3\u30a2\u304c\u5165\u3063\u3066\u3044\u308b\u3002\n\n```json\n{\n  \"id\": \"~\",\n  \"timestamp\": \"~\",\n  \"value\": {\n  \"name\": \"username\",\n  \"score\": 12\n  }\n}\n```\n\n\u3053\u306e\u30c7\u30fc\u30bf\u3092\u5f15\u3063\u5f35\u3063\u3066\u304d\u3066\u4e0a\u4f4d5\u4ef6\u3092\u8868\u793a\u3055\u305b\u308b\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u4f5c\u308b\u3002\n\n## JavaScript\n\u5168\u30c7\u30fc\u30bf\u53d6\u5f97\u3057\u3001\u964d\u9806\u306b\u4e26\u3073\u66ff\u3048\u3066\u4e0a\u4f4d\uff15\u4ef6\u307e\u3067\u51fa\u529b\u3002\n\n```js\n// Milkcocoa\u306e\u6e96\u5099\u3068\u304b\nvar milkcocoa = new MilkCocoa('~~~~');\nvar ds = milkcocoa.dataStore('ranking');\n\n// \u30e9\u30f3\u30ad\u30f3\u30b0\u306b\u95a2\u308f\u308b\u51e6\u7406\u3068\u304b\nvar ranking = [];\nds.stream().next(function(err, all) {\n\tall.sort(function(a,b) {\n\t\tif(a.value.score < b.value.score) { return 1; }\n\t\tif(a.value.score > b.value.score) { return -1; }\n\t\treturn 0;\n\t});\n\tall.length = 5;\n\tranking = all;\n\n\tfor(var i=0; i<ranking.length; i++){\n\t\tconsole.log(ranking[i].value.name, ranking[i].value.score);\n\t}\n});\n\n```\n\nif\u6587\u3042\u305f\u308a\u306e\u51e6\u7406\u306f\u3001\u3053\u3046\u66f8\u304d\u304b\u3048\u3066\u3082\u3044\u3044\u3093\u3067\u3059\u3051\u3069\u500b\u4eba\u7684\u306b\u3042\u3093\u307e\u308a\u597d\u304d\u3058\u3083\u306a\u3044\u3002\n\n```js\n\treturn a.value.score < b.value.score ? 1 : -1;\n```\n\n## \u53c2\u8003\nMilkcocoa\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttps://mlkcca.com/document/api-js.html\n", "tags": ["milkcocoa", "JavaScript"]}