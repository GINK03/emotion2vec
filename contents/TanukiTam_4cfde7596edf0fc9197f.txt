{"context": "\n\nMac\u306eApache\u3067\u663c\u98df\u524d\u306b\u671d\u98df\u3092\u98df\u3079\u306a\u304c\u3089\u2026\n\u30a8\u30eb \u30ad\u30e3\u30d4\u30bf\u30f3\u3063\u3066\u8aad\u3080\u305d\u3046\u3067\u3059\u306d\u3002\u77e5\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u30e8\u30bb\u30df\u30c6\u56fd\u7acb\u516c\u5712\u306b\u3042\u308b\u305d\u3046\u3067\u3059\u3001\u30a8\u30eb\u30fb\u30ad\u30e3\u30d4\u30bf\u30f3\u3002\n\u77e5\u3063\u3066\u3044\u308b\u5358\u8a9e\u304b\u306a\u3068\u982d\u3092\u8272\u3005\u637b\u3063\u3066\u3044\u305f\u306e\u304c\u30d0\u30ab\u307f\u305f\u3044\u3002\n\u3066\u8a00\u3046\u304b\u3001\u30e8\u30bb\u30df\u30c6\u3082YOMIKATA\u308f\u304b\u3093\u306a\u304b\u3063\u305f\u3058\u3083\u3093\u3002\n\u3082\u3046\u75b2\u308c\u3061\u3083\u3063\u305f\u3002\n\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\nekaneko:backup$ httpd -v\nServer version: Apache/2.4.18 (Unix)\nServer built:   Feb 20 2016 20:03:19\nekaneko:backup$\n\n\u524d\u306e\u8a18\u9332Mac Yosemite\u306eApache\u3092\u547c\u3076 - Qiita\u3092\u898b\u308b\u3068\nYosemite\u306f2.4\u7cfb\u3001Mavericks\u3060\u30682.2\u7cfb\u307f\u305f\u3044\u3060\u304b\u3089\u540c\u3058\u3067\u826f\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3002\n\u4eca\u5165\u3063\u3066\u3044\u308b\u306e\u3092\u305d\u306e\u307e\u307e\u4f7f\u3046\u3064\u3082\u308a\u3002\n\u3082\u3063\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\uff08\u6700\u521d\u304b\u3089\u52d5\u3044\u3066\u308b\u3084\u3064\uff09\n\u524d\u56de\u3068\u5927\u4f53\u540c\u3058\u3002\nekaneko:backup$ apachectl -V\nServer version: Apache/2.4.18 (Unix)\nServer built:   Feb 20 2016 20:03:19\nServer's Module Magic Number: 20120211:52\nServer loaded:  APR 1.4.8, APR-UTIL 1.5.2\nCompiled using: APR 1.4.8, APR-UTIL 1.5.2\nArchitecture:   64-bit\nServer MPM:     prefork\n  threaded:     no\n    forked:     yes (variable process count)\nServer compiled with....\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_FLOCK_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=256\n -D HTTPD_ROOT=\"/usr\"\n -D SUEXEC_BIN=\"/usr/bin/suexec\"\n -D DEFAULT_PIDLOG=\"/private/var/run/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"/private/etc/apache2/mime.types\"\n -D SERVER_CONFIG_FILE=\"/private/etc/apache2/httpd.conf\"\nekaneko:backup$\n\n\n/private/etc/apache2/httpd.conf:\n\u5909\u66f4\u5185\u5bb9\u3060\u3051\u629c\u7c8b\n\u540c\u3058\u5185\u5bb9\u304c\u3042\u308c\u3070\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3053\u3068\n\nhttpd.conf\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u6709\u52b9\u5316\nLoadModule log_config_module libexec/apache2/mod_log_config.so\nLoadModule log_debug_module libexec/apache2/mod_log_debug.so\nLoadModule log_forensic_module libexec/apache2/mod_log_forensic.so\nLoadModule logio_module libexec/apache2/mod_logio.so\nLoadModule ssl_module libexec/apache2/mod_ssl.so\nLoadModule vhost_alias_module libexec/apache2/mod_vhost_alias.so\nLoadModule php5_module libexec/apache2/libphp5.so\n\n<Directory />\n    Options All\n    MultiviewsMatch Any\n    AllowOverride All\n</Directory>\n\nDocumentRoot \"/var/www\"\n<Directory \"/var/www\">\n    Options All\n    MultiviewsMatch Any\n    AllowOverride All\n    Require all granted\n</Directory>\n\n    DirectoryIndex index.html index.php\n\nInclude /private/etc/apache2/extra/httpd-vhosts.conf\n\n\nRedirect 404 /favicon.ico\n<Location /favicon.ico>\n  ErrorDocument 404 \"No favicon\"\n</Location>\n\n\n\n/private/etc/apache2/extra/httpd-vhosts.conf:\nvhosts\u306e\u8a2d\u5b9a\n\nhttpd-vhosts.conf\nNameVirtualHost *:80\n\n\n<VirtualHost *:80>\n    ServerName localhost\n    DocumentRoot \"/var/www\"\n    ErrorLog \"/private/var/log/apache2/localhost-error_log\"\n    CustomLog \"/private/var/log/apache2/localhost-access_log\" common\n</VirtualHost>\n\n<VirtualHost *:80>\n    ServerName appolo.test.loal\n    DocumentRoot \"/var/www/appolo\"\n    ErrorLog \"/private/var/log/apache2/appolo.test.loal-error_log\"\n    CustomLog \"/private/var/log/apache2/appolo.test.loal-access_log\" common\n</VirtualHost>\n\n\n\n/private/etc/apache2/extra/httpd-mpm.conf\n\nhttpd-mpm.conf\n## #\n## # The accept serialization lock file MUST BE STORED ON A LOCAL DISK.\n## #\n## <IfModule !mpm_winnt_module>\n## <IfModule !mpm_netware_module>\n## LockFile \"/private/var/log/apache2/accept.lock\"\n## </IfModule>\n## </IfModule>\n##\n## #\n## # Only one of the below sections will be relevant on your\n## # installed httpd.  Use \"apachectl -l\" to find out the\n## # active mpm.\n## #\n\n\n\n/private/etc/hosts:\n\nhosts\n127.0.0.1   localhost appolo.test.loal\n255.255.255.255 broadcasthost\n::1             localhost\n\n\n\n/var/www:\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u4f5c\u308a\u307e\u3059\n\u30ed\u30b0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u4f5c\u308a\u307e\u3059\n\u30c6\u30b9\u30c8\u7528\u306a\u306e\u3067\u5168\u90e8777\u3067\u3059\n\u3059\u3063\u3068root\u3067\u4f5c\u696d\u3057\u3066\u307e\u3059\u304c\u30011\u884c\u76ee\u306broot\u306b\u306a\u308b\u304a\u307e\u3058\u306a\u3044\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\uff57\n\u8981\u6c42\u3055\u308c\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u8d77\u52d5\u3057\u305f\u6642\u306b\u5165\u308c\u308b\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u3059\n\u3042\u3068\u306f\u9069\u5f53\u306b\u3084\u3063\u3066\u304f\u3060\u3055\u3044\nMacMini:~ ekaneko$ sudo su -\nMacMini:~ root# mkdir -p /var/www/appolo\nMacMini:~ root# chmod -R 777 /var/www\n\n\u9069\u5f53\u306b\u30c0\u30df\u30fc\u30d5\u30a1\u30a4\u30eb\u4f5c\u308a\u307e\u3059\n\nhtml\nMacMini:~ root# echo aaa > /var/www/aaa.html\nMacMini:~ root# echo '<?php phpinfo();' > /var/www/appolo/phpinfo.php\nMacMini:~ root# chmod -R 777 /var/www\n\n\n\n\u30c6\u30b9\u30c8\u3068\u8d77\u52d5\n# \u30c6\u30b9\u30c8\u306f\u901a\u3063\u305f\u3051\u3069\u6b21\u306e\u30ea\u30ea\u30fc\u30b9\u304b\u3089\u306a\u3093\u3061\u3083\u3089\u3063\u3066\u8a00\u3063\u3066\u308b\nroot# apachectl configtest\nAH00548: NameVirtualHost has no effect and will be removed in the next release /private/etc/apache2/extra/httpd-vhosts.conf:19\nSyntax OK\n# \u518d\u8d77\u52d5\nroot# apachectl restart\n# \u78ba\u8a8d\uff08\u6642\u9593\u3092\u78ba\u8a8d\u304b\u306a\uff09\nroot# ps aucx | grep httpd\n_www             8726   0.0  0.0  2491364   1004   ??  S    11:40AM   0:00.00 httpd\nroot             8714   0.0  0.1  2493412  11576   ??  Ss   11:40AM   0:00.22 httpd\nroot#\n\n\n\u3053\u308c\u3067\u3064\u306a\u304c\u3063\u305f\nhttp://localhost/\nhttp://appolo.test.loal/\n## Mac\u306eApache\u3067\u663c\u98df\u524d\u306b\u671d\u98df\u3092\u98df\u3079\u306a\u304c\u3089\u2026\n\n\u30a8\u30eb \u30ad\u30e3\u30d4\u30bf\u30f3\u3063\u3066\u8aad\u3080\u305d\u3046\u3067\u3059\u306d\u3002\u77e5\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u30e8\u30bb\u30df\u30c6\u56fd\u7acb\u516c\u5712\u306b\u3042\u308b\u305d\u3046\u3067\u3059\u3001\u30a8\u30eb\u30fb\u30ad\u30e3\u30d4\u30bf\u30f3\u3002\n\u77e5\u3063\u3066\u3044\u308b\u5358\u8a9e\u304b\u306a\u3068\u982d\u3092\u8272\u3005\u637b\u3063\u3066\u3044\u305f\u306e\u304c\u30d0\u30ab\u307f\u305f\u3044\u3002\n\u3066\u8a00\u3046\u304b\u3001\u30e8\u30bb\u30df\u30c6\u3082YOMIKATA\u308f\u304b\u3093\u306a\u304b\u3063\u305f\u3058\u3083\u3093\u3002\n\u3082\u3046\u75b2\u308c\u3061\u3083\u3063\u305f\u3002\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n\n```apache\nekaneko:backup$ httpd -v\nServer version: Apache/2.4.18 (Unix)\nServer built:   Feb 20 2016 20:03:19\nekaneko:backup$\n```\n\n\u524d\u306e\u8a18\u9332[Mac Yosemite\u306eApache\u3092\u547c\u3076 - Qiita](http://qiita.com/TanukiTam/items/81a8722d3ae084c5466b)\u3092\u898b\u308b\u3068\nYosemite\u306f2.4\u7cfb\u3001Mavericks\u3060\u30682.2\u7cfb\u307f\u305f\u3044\u3060\u304b\u3089\u540c\u3058\u3067\u826f\u3044\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3002\n\u4eca\u5165\u3063\u3066\u3044\u308b\u306e\u3092\u305d\u306e\u307e\u307e\u4f7f\u3046\u3064\u3082\u308a\u3002\n\n\u3082\u3063\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\uff08\u6700\u521d\u304b\u3089\u52d5\u3044\u3066\u308b\u3084\u3064\uff09\n\u524d\u56de\u3068\u5927\u4f53\u540c\u3058\u3002\n\n```shell-session\nekaneko:backup$ apachectl -V\nServer version: Apache/2.4.18 (Unix)\nServer built:   Feb 20 2016 20:03:19\nServer's Module Magic Number: 20120211:52\nServer loaded:  APR 1.4.8, APR-UTIL 1.5.2\nCompiled using: APR 1.4.8, APR-UTIL 1.5.2\nArchitecture:   64-bit\nServer MPM:     prefork\n  threaded:     no\n    forked:     yes (variable process count)\nServer compiled with....\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_FLOCK_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=256\n -D HTTPD_ROOT=\"/usr\"\n -D SUEXEC_BIN=\"/usr/bin/suexec\"\n -D DEFAULT_PIDLOG=\"/private/var/run/httpd.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"/private/etc/apache2/mime.types\"\n -D SERVER_CONFIG_FILE=\"/private/etc/apache2/httpd.conf\"\nekaneko:backup$\n```\n\n### /private/etc/apache2/httpd.conf:\n\n\u5909\u66f4\u5185\u5bb9\u3060\u3051\u629c\u7c8b\n\u540c\u3058\u5185\u5bb9\u304c\u3042\u308c\u3070\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3053\u3068\n\n```apache:httpd.conf\n# \u30e2\u30b8\u30e5\u30fc\u30eb\u6709\u52b9\u5316\nLoadModule log_config_module libexec/apache2/mod_log_config.so\nLoadModule log_debug_module libexec/apache2/mod_log_debug.so\nLoadModule log_forensic_module libexec/apache2/mod_log_forensic.so\nLoadModule logio_module libexec/apache2/mod_logio.so\nLoadModule ssl_module libexec/apache2/mod_ssl.so\nLoadModule vhost_alias_module libexec/apache2/mod_vhost_alias.so\nLoadModule php5_module libexec/apache2/libphp5.so\n\n<Directory />\n    Options All\n    MultiviewsMatch Any\n    AllowOverride All\n</Directory>\n\nDocumentRoot \"/var/www\"\n<Directory \"/var/www\">\n    Options All\n    MultiviewsMatch Any\n    AllowOverride All\n    Require all granted\n</Directory>\n\n    DirectoryIndex index.html index.php\n\nInclude /private/etc/apache2/extra/httpd-vhosts.conf\n\n\nRedirect 404 /favicon.ico\n<Location /favicon.ico>\n  ErrorDocument 404 \"No favicon\"\n</Location>\n```\n\n\n\n### /private/etc/apache2/extra/httpd-vhosts.conf:\n\nvhosts\u306e\u8a2d\u5b9a\n\n```apache:httpd-vhosts.conf\nNameVirtualHost *:80\n\n\n<VirtualHost *:80>\n    ServerName localhost\n    DocumentRoot \"/var/www\"\n    ErrorLog \"/private/var/log/apache2/localhost-error_log\"\n    CustomLog \"/private/var/log/apache2/localhost-access_log\" common\n</VirtualHost>\n\n<VirtualHost *:80>\n    ServerName appolo.test.loal\n    DocumentRoot \"/var/www/appolo\"\n    ErrorLog \"/private/var/log/apache2/appolo.test.loal-error_log\"\n    CustomLog \"/private/var/log/apache2/appolo.test.loal-access_log\" common\n</VirtualHost>\n```\n\n### /private/etc/apache2/extra/httpd-mpm.conf\n\n```apache:httpd-mpm.conf\n## #\n## # The accept serialization lock file MUST BE STORED ON A LOCAL DISK.\n## #\n## <IfModule !mpm_winnt_module>\n## <IfModule !mpm_netware_module>\n## LockFile \"/private/var/log/apache2/accept.lock\"\n## </IfModule>\n## </IfModule>\n##\n## #\n## # Only one of the below sections will be relevant on your\n## # installed httpd.  Use \"apachectl -l\" to find out the\n## # active mpm.\n## #\n```\n\n### /private/etc/hosts:\n\n```shell-session:hosts\n127.0.0.1\tlocalhost appolo.test.loal\n255.255.255.255\tbroadcasthost\n::1             localhost\n```\n\n### /var/www:\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u4f5c\u308a\u307e\u3059\n\u30ed\u30b0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u4f5c\u308a\u307e\u3059\n\u30c6\u30b9\u30c8\u7528\u306a\u306e\u3067\u5168\u90e8777\u3067\u3059\n\u3059\u3063\u3068root\u3067\u4f5c\u696d\u3057\u3066\u307e\u3059\u304c\u30011\u884c\u76ee\u306broot\u306b\u306a\u308b\u304a\u307e\u3058\u306a\u3044\u3092\u66f8\u3044\u3066\u304a\u304d\u307e\u3059\uff57\n\u8981\u6c42\u3055\u308c\u308b\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u8d77\u52d5\u3057\u305f\u6642\u306b\u5165\u308c\u308b\u81ea\u5206\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3067\u3059\n\u3042\u3068\u306f\u9069\u5f53\u306b\u3084\u3063\u3066\u304f\u3060\u3055\u3044\n\n```shell-session\nMacMini:~ ekaneko$ sudo su -\nMacMini:~ root# mkdir -p /var/www/appolo\nMacMini:~ root# chmod -R 777 /var/www\n```\n\n\u9069\u5f53\u306b\u30c0\u30df\u30fc\u30d5\u30a1\u30a4\u30eb\u4f5c\u308a\u307e\u3059\n\n```shell-session:html\nMacMini:~ root# echo aaa > /var/www/aaa.html\nMacMini:~ root# echo '<?php phpinfo();' > /var/www/appolo/phpinfo.php\nMacMini:~ root# chmod -R 777 /var/www\n```\n\n### \u30c6\u30b9\u30c8\u3068\u8d77\u52d5\n\n```shell-session\n# \u30c6\u30b9\u30c8\u306f\u901a\u3063\u305f\u3051\u3069\u6b21\u306e\u30ea\u30ea\u30fc\u30b9\u304b\u3089\u306a\u3093\u3061\u3083\u3089\u3063\u3066\u8a00\u3063\u3066\u308b\nroot# apachectl configtest\nAH00548: NameVirtualHost has no effect and will be removed in the next release /private/etc/apache2/extra/httpd-vhosts.conf:19\nSyntax OK\n# \u518d\u8d77\u52d5\nroot# apachectl restart\n# \u78ba\u8a8d\uff08\u6642\u9593\u3092\u78ba\u8a8d\u304b\u306a\uff09\nroot# ps aucx | grep httpd\n_www             8726   0.0  0.0  2491364   1004   ??  S    11:40AM   0:00.00 httpd\nroot             8714   0.0  0.1  2493412  11576   ??  Ss   11:40AM   0:00.22 httpd\nroot#\n\n```\n\n\u3053\u308c\u3067\u3064\u306a\u304c\u3063\u305f\n[http://localhost/](http://localhost/)\n[http://appolo.test.loal/](http://appolo.test.loal/)\n", "tags": ["elcapitan", "MacOSX", "Apache"]}