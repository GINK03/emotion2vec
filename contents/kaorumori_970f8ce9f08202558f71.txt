{"context": "\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u3044\u307e\u3059\u3002Lucene\u3088\u308a\u3082\u5c0e\u5165\u304c\u624b\u8efd\u305d\u3046\u306aGroonga\u304c\u3044\u3044\u304b\u306a\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067MacOSX\u306bGroonga\u3068Rroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n$ brew install groonga\n$ sudo gem install rroonga\n\nAND\u691c\u7d22\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\nrequire 'groonga'\n\n# Groonga::Database.create(:path => '/Users/kaoru/groonga_sample/db/db')\ndb = Groonga::Database.open('/Users/kaoru/groonga_sample/db/db')\n\nGroonga::Schema.create_table('Documents', :type => :hash) do |table|\n  table.text('body')\nend\n\nGroonga::Schema.create_table('Terms', :type => :patricia_trie, :normalizer => :NormalizerAuto, :default_tokenizer => 'TokenBigram') do |table|\n  table.index('Documents.body')\nend\n\ndocuments = Groonga['Documents']\n\ndocuments.add('1001', body: '\u672c\u65e5\u306f\u6674\u5929\u306a\u308a\u3002')\ndocuments.add('1002', body: '\u6628\u65e5\u306f\u66c7\u5929\u306a\u308a\u3002')\n\nwords = ['\u672c\u65e5', '\u6674\u5929']\n\nresults = documents.select do |document|\n  words.map do |word|\n    document.body =~ word\n  end\nend\n\nresults.collect do |result|\n  p result['_key']\nend\n#=> \"1001\"\n\n\u53c2\u8003\uff1arroonga\u3067\u8907\u6570\u30ad\u30fc\u30ef\u30fc\u30c9\u306eAND\u691c\u7d22,OR\u691c\u7d22\n\u5168\u6587\u691c\u7d22\u30a8\u30f3\u30b8\u30f3\u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u3044\u307e\u3059\u3002Lucene\u3088\u308a\u3082\u5c0e\u5165\u304c\u624b\u8efd\u305d\u3046\u306aGroonga\u304c\u3044\u3044\u304b\u306a\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067MacOSX\u306bGroonga\u3068Rroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\n\n```bash\n$ brew install groonga\n$ sudo gem install rroonga\n```\n\nAND\u691c\u7d22\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n```ruby\nrequire 'groonga'\n\n# Groonga::Database.create(:path => '/Users/kaoru/groonga_sample/db/db')\ndb = Groonga::Database.open('/Users/kaoru/groonga_sample/db/db')\n\nGroonga::Schema.create_table('Documents', :type => :hash) do |table|\n  table.text('body')\nend\n\nGroonga::Schema.create_table('Terms', :type => :patricia_trie, :normalizer => :NormalizerAuto, :default_tokenizer => 'TokenBigram') do |table|\n  table.index('Documents.body')\nend\n\ndocuments = Groonga['Documents']\n\ndocuments.add('1001', body: '\u672c\u65e5\u306f\u6674\u5929\u306a\u308a\u3002')\ndocuments.add('1002', body: '\u6628\u65e5\u306f\u66c7\u5929\u306a\u308a\u3002')\n\nwords = ['\u672c\u65e5', '\u6674\u5929']\n\nresults = documents.select do |document|\n  words.map do |word|\n    document.body =~ word\n  end\nend\n\nresults.collect do |result|\n  p result['_key']\nend\n#=> \"1001\"\n```\n\n\u53c2\u8003\uff1a[rroonga\u3067\u8907\u6570\u30ad\u30fc\u30ef\u30fc\u30c9\u306eAND\u691c\u7d22,OR\u691c\u7d22](http://shindolog.hatenablog.com/entry/2012/11/03/083724)\n", "tags": ["groonga", "rroonga"]}