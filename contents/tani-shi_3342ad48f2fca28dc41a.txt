{"context": "HockeyappSDK\u304c4\u4ee5\u964d\u306b\u306a\u3063\u3066\u304b\u3089\n\u5b9f\u88c5\u65b9\u6cd5\u304c\u5927\u304d\u304f\u5909\u308f\u3063\u3066\u3044\u308b\u3088\u3046\n\nAndroid\n\n1. Edit build.gradle\n...\n\nrepositories {\n    jcenter()\n}\n...\n\nandroid {\n    ...\n\n    dependencies {\n        compile 'net.hockeyapp.android:HockeySDK:4.1.1'\n    }\n\n    ...\n\n    defaultConfig {\n        manifestPlaceholders = [HOCKEYAPP_APP_ID: \"${APP_ID}\"]\n    }\n\n    ...\n}\n\n\u3061\u306a\u307f\u306bAPP_ID\u306f\u3053\u306e\u90e8\u5206\u306e\u3053\u3068\n\n\n2. Edit AndroidManifest.xml\n...\n    <application android:label=\"@string/app_name\" android:icon=\"@drawable/icon\" android:largeHeap=\"true\">\n        ...\n\n        <meta-data android:name=\"net.hockeyapp.android.appIdentifier\" android:value=\"${HOCKEYAPP_APP_ID}\" />\n\n        ...\n    </application>\n...\n\n\n3. Edit AppActivity.java\nimport net.hockeyapp.android.CrashManager;\nimport net.hockeyapp.android.UpdateManager;\n\npublic class AppActivity extends Cocos2dxActivity {\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // Your own code to create the view\n    // ...\n\n    checkForUpdates();\n  }\n\n  @Override\n  public void onResume() {\n    super.onResume();\n    // ... your own onResume implementation\n    checkForCrashes();\n  }\n\n  @Override\n  public void onPause() {\n    super.onPause();\n    unregisterManagers();\n  }\n\n  @Override\n  public void onDestroy() {\n    super.onDestroy();\n    unregisterManagers();\n  }\n\n  private void checkForCrashes() {\n    CrashManager.register(this);\n  }\n\n  private void checkForUpdates() {\n    // Remove this for store builds!\n    UpdateManager.register(this);\n  }\n\n  private void unregisterManagers() {\n    UpdateManager.unregister();\n  }\n\n}\n\n\nCrash for test\n\u610f\u56f3\u7684\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u3055\u305b\u3066\u758e\u901a\u78ba\u8a8d\u3092\u3059\u308b\nvoid PlatformUtils::doCrash()\n{\n    auto CLASS_NAME_COCOS2DHELPER = \"org/cocos2dx/lib/Cocos2dxHelper\";\n\n    JniMethodInfo t;\n\n    if (JniHelper::getStaticMethodInfo(t, CLASS_NAME_COCOS2DHELPER, \"throwException\", \"()V\")) {\n        t.env->CallStaticVoidMethod(t.classID, t.methodID);\n\n        t.env->DeleteLocalRef(t.classID);\n    }\n}\n\n\niOS\n\n1. Download SDK\n\u4ee5\u4e0b\u306e\u30dc\u30bf\u30f3\u304b\u3089SDK\u7d44\u307f\u8fbc\u307f\u306e\u30d8\u30eb\u30d7\u30da\u30fc\u30b8\u306b\u9077\u79fb\u3059\u308b\n\n\u9077\u79fb\u3057\u305f\u5148\u306e\u4ee5\u4e0b\u306e\u30dc\u30bf\u30f3\u304b\u3089\nSDK\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\n2. Extract Framework and bundle\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u304b\u3089\nHockeySDK.embeddedframework\u3092\nproj.ios_mac/Frameworks\u306b\u30b3\u30d4\u30fc\n(\u3069\u3053\u3067\u3082\u826f\u3044)\nXcode\u3092\u958b\u304d\u3001\nHockeySDK.framework->Frameworks\u30b0\u30eb\u30fc\u30d7\nResources/HockeySDKResources.bundle->Resources\u30b0\u30eb\u30fc\u30d7\n\u306b\u305d\u308c\u305e\u308c\u8ffd\u52a0\u3059\u308b\n\n3. Add some frameworks\n\u4ee5\u4e0b\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u30ea\u30f3\u30af\u3092\u8ffd\u52a0\u3059\u308b\n\nLink Binary With Libraries\n\nAssetsLibrary.framework\nCoreGraphics.framework\nCoreText.framework\nFoundation.framework\nMobileCoreServices.framework\nQuartzCore.framework\nQuickLook.framework\nSecurity.framework\nSystemConfiguration.framework\nUIKit.framework\nlibc++.tbd\n\n\n4. Edit AppController.mm\n...\n\n#import <HockeySDK/HockeySDK.h>\n\n...\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    [[BITHockeyManager sharedHockeyManager] configureWithIdentifier:@\"APP_ID\"];\n    [[BITHockeyManager sharedHockeyManager] startManager];\n    [[BITHockeyManager sharedHockeyManager].authenticator authenticateInstallation];\n\n    ...\n}\n\n\n5. Crash for test\n\u610f\u56f3\u7684\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u3055\u305b\u3066\u758e\u901a\u78ba\u8a8d\u3092\u3059\u308b\nPlatformUtils::doCrash()\n{\n    @throw [NSException exceptionWithName:NSGenericException reason:@\"crash for test\" userInfo:nil];\n}\n\n\nHockeyappSDK\u304c4\u4ee5\u964d\u306b\u306a\u3063\u3066\u304b\u3089\n\u5b9f\u88c5\u65b9\u6cd5\u304c\u5927\u304d\u304f\u5909\u308f\u3063\u3066\u3044\u308b\u3088\u3046\n\n# Android\n\n#### 1. Edit build.gradle\n\n```\n...\n\nrepositories {\n\tjcenter()\n}\n...\n\nandroid {\n\t...\n\t\n\tdependencies {\n\t\tcompile 'net.hockeyapp.android:HockeySDK:4.1.1'\n\t}\n\t\n\t...\n\t\n\tdefaultConfig {\n\t\tmanifestPlaceholders = [HOCKEYAPP_APP_ID: \"${APP_ID}\"]\n\t}\n\n\t...\n}\n```\n\n\u3061\u306a\u307f\u306bAPP_ID\u306f\u3053\u306e\u90e8\u5206\u306e\u3053\u3068\n\n![hockeyapp_app_id.png](https://qiita-image-store.s3.amazonaws.com/0/132627/ddabe641-78d0-c007-5aca-651f7a6372ab.png \"hockeyapp_app_id.png\")\n\n\n#### 2. Edit AndroidManifest.xml\n\n```\n...\n\t<application android:label=\"@string/app_name\" android:icon=\"@drawable/icon\" android:largeHeap=\"true\">\n\t\t...\n\t\t\n\t\t<meta-data android:name=\"net.hockeyapp.android.appIdentifier\" android:value=\"${HOCKEYAPP_APP_ID}\" />\n\t\t\n\t\t...\n\t</application>\n...\n```\n\n#### 3. Edit AppActivity.java\n\n```\nimport net.hockeyapp.android.CrashManager;\nimport net.hockeyapp.android.UpdateManager;\n\npublic class AppActivity extends Cocos2dxActivity {\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // Your own code to create the view\n    // ...\n\n    checkForUpdates();\n  }\n\n  @Override\n  public void onResume() {\n    super.onResume();\n    // ... your own onResume implementation\n    checkForCrashes();\n  }\n\n  @Override\n  public void onPause() {\n    super.onPause();\n    unregisterManagers();\n  }\n\n  @Override\n  public void onDestroy() {\n    super.onDestroy();\n    unregisterManagers();\n  }\n\n  private void checkForCrashes() {\n    CrashManager.register(this);\n  }\n\n  private void checkForUpdates() {\n    // Remove this for store builds!\n    UpdateManager.register(this);\n  }\n\n  private void unregisterManagers() {\n    UpdateManager.unregister();\n  }\n\n}\n```\n\n#### Crash for test\n\n\u610f\u56f3\u7684\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u3055\u305b\u3066\u758e\u901a\u78ba\u8a8d\u3092\u3059\u308b\n\n```\nvoid PlatformUtils::doCrash()\n{\n\tauto CLASS_NAME_COCOS2DHELPER = \"org/cocos2dx/lib/Cocos2dxHelper\";\n    \n    JniMethodInfo t;\n    \n    if (JniHelper::getStaticMethodInfo(t, CLASS_NAME_COCOS2DHELPER, \"throwException\", \"()V\")) {\n        t.env->CallStaticVoidMethod(t.classID, t.methodID);\n        \n        t.env->DeleteLocalRef(t.classID);\n    }\n}\n```\n\n# iOS\n\n#### 1. Download SDK\n\n\u4ee5\u4e0b\u306e\u30dc\u30bf\u30f3\u304b\u3089SDK\u7d44\u307f\u8fbc\u307f\u306e\u30d8\u30eb\u30d7\u30da\u30fc\u30b8\u306b\u9077\u79fb\u3059\u308b\n\n![hockeyapp_download.png](https://qiita-image-store.s3.amazonaws.com/0/132627/fde4a5a4-bca0-4aae-9099-a371431d33ec.png \"hockeyapp_download.png\")\n\n\u9077\u79fb\u3057\u305f\u5148\u306e\u4ee5\u4e0b\u306e\u30dc\u30bf\u30f3\u304b\u3089\nSDK\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n![hockeyapp_downloadbutton.png](https://qiita-image-store.s3.amazonaws.com/0/132627/50a65ba6-8767-109e-942a-5248fc694d4c.png \"hockeyapp_downloadbutton.png\")\n\n#### 2. Extract Framework and bundle\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a9\u30eb\u30c0\u304b\u3089\n`HockeySDK.embeddedframework`\u3092\n`proj.ios_mac/Frameworks`\u306b\u30b3\u30d4\u30fc\n(\u3069\u3053\u3067\u3082\u826f\u3044)\n\nXcode\u3092\u958b\u304d\u3001\n`HockeySDK.framework`->Frameworks\u30b0\u30eb\u30fc\u30d7\n`Resources/HockeySDKResources.bundle`->Resources\u30b0\u30eb\u30fc\u30d7\n\u306b\u305d\u308c\u305e\u308c\u8ffd\u52a0\u3059\u308b\n\n#### 3. Add some frameworks\n\n\u4ee5\u4e0b\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u30ea\u30f3\u30af\u3092\u8ffd\u52a0\u3059\u308b\n\n##### Link Binary With Libraries\n\n- AssetsLibrary.framework\n- CoreGraphics.framework\n- CoreText.framework\n- Foundation.framework\n- MobileCoreServices.framework\n- QuartzCore.framework\n- QuickLook.framework\n- Security.framework\n- SystemConfiguration.framework\n- UIKit.framework\n- libc++.tbd\n\n\n#### 4. Edit AppController.mm\n\n```\n...\n\n#import <HockeySDK/HockeySDK.h>\n\n...\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n\t[[BITHockeyManager sharedHockeyManager] configureWithIdentifier:@\"APP_ID\"];\n\t[[BITHockeyManager sharedHockeyManager] startManager];\n\t[[BITHockeyManager sharedHockeyManager].authenticator authenticateInstallation];\n\t\n\t...\n}\n```\n\n#### 5. Crash for test\n\n\u610f\u56f3\u7684\u306b\u30af\u30e9\u30c3\u30b7\u30e5\u3055\u305b\u3066\u758e\u901a\u78ba\u8a8d\u3092\u3059\u308b\n\n```\nPlatformUtils::doCrash()\n{\n\t@throw [NSException exceptionWithName:NSGenericException reason:@\"crash for test\" userInfo:nil];\n}\n", "tags": ["HockeyApp", "Android", "iOS", "cocos2d-x"]}