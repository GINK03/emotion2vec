{"context": " More than 1 year has passed since last update.embulk\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u305d\u3057\u3066\u3001\u901f\u3055\u3092\u6c42\u3081\u3066pg_bulkload\u3068\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u30c8\u30e9\u30a4\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u4f7f\u3063\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\n\nembulk : 0.7.5\nPostgreSQL : 9.5alpha2\n\n\nembulk\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u901a\u308a\u306b\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3051\u3070OK\u3067\u3059\u3002\nhttps://github.com/embulk/embulk#linux--mac--bsd\n\nPostgreSQL\u51fa\u529b\u7528\u30d7\u30e9\u30b0\u30a4\u30f3\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ embulk gem install embulk-output-postgresql\n\nPostgreSQL JDBC Driver\u306f\u30d0\u30f3\u30c9\u30eb\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u8ffd\u52a0\u914d\u7f6e\u306f\u4e0d\u8981\u3067\u3059\u3002\nbuild.gradle\u3092\u898b\u308b\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u306f9.4-1200-jdbc41\u3002\n\n\u30ed\u30fc\u30c9\n\u4eca\u56de\u306f\u3001CSV\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u3092embulk\u3092\u4f7f\u3063\u3066\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3092\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\n\u3061\u3087\u30fc\u30b7\u30f3\u30d7\u30eb\u306a\u30c6\u30fc\u30d6\u30eb\u3067\u8a66\u3057\u307e\u3059\u3002\n$ psql\npsql (9.5alpha2)\nType \"help\" for help.\n\n[local] 33914 postgres=# \\d tbl\n      Table \"public.tbl\"\n Column |  Type   | Modifiers\n--------+---------+-----------\n a      | integer | not null\n b      | text    |\nIndexes:\n    \"tbl_pkey\" PRIMARY KEY, btree (a)\n\n\u30ed\u30fc\u30c9\u3059\u308b\u30c7\u30fc\u30bf\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n$ head  /home/postgres/tmp/dump.tbl\n687805,000002b3ee394b36e8323d7d3e5f29fb\n751689,0000114d140790801fb40608048c76e6\n297583,0000246baf5fa28b1b3f369f3ac5eade\n710805,00002e712863c0ad4ad631220909609b\n250149,0000324faa31156eadf83d8a85a9bbd6\n956774,00003389fdbd39415cc63f044d01599c\n900235,00004a1b08ae3655504460663f52407d\n66635,00006b6e7e964c78cad2658aefd97683\n50086,000070af5c6860e0baad557cfac1f67a\n876796,00007757c74ead14d87a113a576f5eed\n\n1,000,000\u884c\u3042\u308a\u307e\u3059\u3002\n\u30c7\u30fc\u30bf\u306fPostgreSQL\u3067generated_series\u3092\u4f7f\u3063\u3066\u30e9\u30f3\u30c0\u30e0\u306a\u5024\u304c\u4e26\u3076\u3088\u3046\u306b\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\nembulk\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u307f\u3064\u3064\u4f5c\u6210\u3002\n\njdbc_config.yml\n$ cat jdbc_config.yml\nin:\n  type: file\n  path_prefix: /home/postgres/tmp/dump\n  parser:\n    charset: UTF-8\n    newline: CRLF\n    type: csv\n    delimiter: ','\n    quote: '\"'\n    trim_if_not_quoted: false\n    allow_extra_columns: false\n    allow_optional_columns: false\n    columns:\n    - {name: a, type: long}\n    - {name: b, type: string}\nout:\n   type: postgresql\n   host: localhost\n   user: postgres\n   database: postgres\n   table: tbl\n   mode: insert\n\n\n\u3061\u306a\u307f\u306b\u3001\u30a4\u30f3\u30d7\u30c3\u30c8\u306e\u30ab\u30e9\u30e0a\u7528\u30c7\u30fc\u30bf\u306e\u578b\u3092int\u3068\u6307\u5b9a\u3057\u305f\u3089\u3001\u305d\u3093\u306a\u306e\u306a\u3044\u3088\u3068embulk\u306b\u6012\u3089\u308c\u305f\u306e\u3067long\u306b\u3057\u3066\u3044\u307e\u3059\u3002\nError: com.fasterxml.jackson.databind.JsonMappingException: Unknown type name 'int'. Supported types are: boolean, long, double, string, timestamp (through reference chain: java.util.ArrayList[0])\n\n\n\u30ed\u30fc\u30c9\u5b9f\u884c\n$ time embulk run jdbc_config.yml\n2015-10-10 23:41:15.431 +0900: Embulk v0.7.5\n2015-10-10 23:41:18.028 +0900 [INFO] (transaction): Loaded plugin embulk-output-postgresql (0.4.1)\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:18.495 +0900 [INFO] (transaction): SQL: CREATE TABLE IF NOT EXISTS \"tbl_5619238d34b0c500_bl_tmp000\" (\"a\" INT4, \"b\" TEXT)\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:18.662 +0900 [INFO] (task-0000): Copy SQL: COPY \"tbl_5619238d34b0c500_bl_tmp000\" (\"a\", \"b\") FROM STDIN\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:26.818 +0900 [INFO] (transaction): SQL: INSERT INTO \"tbl\" (\"a\", \"b\") SELECT \"a\", \"b\" FROM \"tbl_5619238d34b0c500_bl_tmp000\"\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:33.528 +0900 [INFO] (transaction): SQL: DROP TABLE IF EXISTS \"tbl_5619238d34b0c500_bl_tmp000\"\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:33.554 +0900 [INFO] (main): Committed.\n2015-10-10 23:41:33.555 +0900 [INFO] (main): Next config diff: {\"in\":{\"last_path\":\"/home/postgres/tmp/dump.tbl\"},\"out\":{}}\n\nreal    0m23.407s\nuser    0m23.660s\nsys     0m4.673s\n\ninsert\u30e2\u30fc\u30c9\u3067\u5b9f\u884c\u3057\u305f\u306e\u3067\u3001\u4e00\u6642\u30c6\u30fc\u30d6\u30eb\u306b\u30c7\u30fc\u30bf\u304cCOPY\u6587\u3067\u30c7\u30fc\u30bf\u304c\u30ed\u30fc\u30c9\u3055\u308c\u3001\u305d\u306e\u5f8c\u76ee\u7684\u306e\u30c6\u30fc\u30d6\u30eb\u306bSELECT INSERT\u3055\u308c\u307e\u3059\u3002\ninsert_direct\u30e2\u30fc\u30c9\u306b\u3059\u308b\u3068\u3001\u4e00\u6642\u30c6\u30fc\u30d6\u30eb\u3092\u4f7f\u308f\u305a\u3001\u76f4\u63a5COPY\u6587\u3067\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306b\u30c7\u30fc\u30bf\u304c\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n$ time embulk run jdbc_config.yml\n2015-10-10 23:47:26.830 +0900: Embulk v0.7.5\n2015-10-10 23:47:29.359 +0900 [INFO] (transaction): Loaded plugin embulk-output-postgresql (0.4.1)\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:47:29.866 +0900 [INFO] (task-0000): Copy SQL: COPY \"tbl\" (\"a\", \"b\") FROM STDIN\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:47:42.501 +0900 [INFO] (main): Committed.\n2015-10-10 23:47:42.502 +0900 [INFO] (main): Next config diff: {\"in\":{\"last_path\":\"/home/postgres/tmp/dump.tbl\"},\"out\":{}}\n\nreal    0m20.968s\nuser    0m24.651s\nsys     0m3.912s\n\n\u5c11\u3057\u65e9\u304f\u306a\u308a\u307e\u3059\u304c\u3001insert_direct\u30e2\u30fc\u30c9\u3060\u3068\u30ed\u30fc\u30c9\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u3066embulk\u304c\u505c\u6b62\u3057\u305f\u5834\u5408\u306b\u3001\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306b\u4e2d\u9014\u534a\u7aef\u306a\u30c7\u30fc\u30bf\u304c\u30ed\u30fc\u30c9\u3055\u308c\u305f\u307e\u307e\u6b8b\u3063\u305f\u308a\u3059\u308b\u306a\u3069\u306e\u30ea\u30b9\u30af\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\n\u3055\u3089\u306b\u9ad8\u901f\u306b\u30ed\u30fc\u30c9\u3057\u305f\u3044\uff01\nPostgreSQL\u306b\u9ad8\u901f\u306b\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u30c4\u30fc\u30eb\u3068\u3057\u3066\u3001pg_bulkload\u304c\u3042\u308a\u307e\u3059\u3002\n\u3053\u3044\u3064\u3092embulk\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u307f\u307e\u3057\u3087\u3046\uff01\n\npg_bulkload\npg_bulkload\u306f\n\nSQL\u7d4c\u7531\u3067\u306f\u306a\u304f\u3001PostgreSQL\u306e\u5185\u90e8\u95a2\u6570\u3092\u76f4\u63a5\u547c\u3073\u51fa\u3057\u3066\u30ec\u30b3\u30fc\u30c9\u3092\u30c6\u30fc\u30d6\u30eb\u30d5\u30a1\u30a4\u30eb\u306b\u76f4\u63a5\u66f8\u304d\u8fbc\u307f\n\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30ed\u30b0\u306e\u51fa\u529b\u3092\u306a\u308b\u3079\u304f\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u3001\u66f8\u304d\u8fbc\u307f\u51e6\u7406\u306e\u8ca0\u8377\u3092\u524a\u6e1b\n\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u66f4\u65b0\u51e6\u7406\u3092\u8ffd\u52a0\u30ec\u30b3\u30fc\u30c9\u3054\u3068\u306b\u5b9f\u65bd\u305b\u305a\u3001\u6700\u5f8c\u306b\u307e\u3068\u3081\u3066\u5b9f\u65bd\n\u30d1\u30fc\u30b9\u3068\u66f8\u304d\u8fbc\u307f\u3092\u5225\u30d7\u30ed\u30bb\u30b9\u3067\u4e26\u5217\u5b9f\u884c\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u6642\uff09\n\n\u3068\u3044\u3046\u53cd\u5247\u6280\u3067\u30ed\u30fc\u30c9\u9ad8\u901f\u5316\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\u3082\u3061\u308d\u3093\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306a\u53cd\u5247\u3092\u4f7f\u3046\u306e\u3067pg_bulkload\u3067\u884c\u3063\u305f\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u306e\u64cd\u4f5c\u306f\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30ed\u30b0\u304b\u3089\u306f\u518d\u73fe\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u5236\u7d04\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30ed\u30fc\u30c9\u4e2d\u306bpg_bulkload\u304c\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u5834\u5408\u306b\u7279\u5225\u306a\u30ea\u30ab\u30d0\u30ea\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\u3053\u306e\u3088\u3046\u306a\u5236\u7d04\u3092\u5b88\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u4ed6\u306e\u30c4\u30fc\u30eb\u3067\u306f\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u30ed\u30fc\u30c9\u6027\u80fd\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u7528\u6cd5\u3092\u5b88\u3063\u3066\u6b63\u3057\u304f\u4f7f\u3046\u306e\u3067\u3042\u308c\u3070\u5927\u5909\u6709\u7528\u3067\u3059\u3002\n\u306a\u3093\u3068\u3044\u3046\u304b\u3001\u30e9\u30c7\u30a3\u30ab\u30eb\u30b0\u30c3\u30c9\u30b9\u30d4\u30fc\u30c9\uff08\u53e4\u3044\uff09\n\npg_bulkload\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4eca\u56de\u306f\u624b\u5143\u306e\u74b0\u5883\u3067PostgreSQL 9.5alpha2\u3092\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u3001GitHub\u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u5165\u624b\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u30029.4\u4ee5\u524d\u306a\u3089\u3070\u3001RPM\u304c\u3042\u308b\u306e\u3067\u305d\u3061\u3089\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3082\u5927\u4e08\u592b\u3067\u3059\u3002\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3059\u308b\u5834\u5408\u3001\u5fc5\u8981\u3068\u306a\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u3002\n\u57fa\u672c\u7684\u306b\u306fPostgreSQL\u3092\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u52d5\u304b\u3057\u3066\u3044\u308b\u74b0\u5883\u3067\u3042\u308c\u3070\u5927\u4e08\u592b\u3067\u3059\u3002\nPostgreSQL\u3092\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3059\u308b\u65b9\u6cd5\u306f\u904e\u53bb\u306e\u8a18\u4e8b\u306b\u66f8\u304d\u307e\u3057\u305f\nVERSION3_1_STABLE\u30d6\u30e9\u30f3\u30c1\u3092\u4f7f\u3044\u307e\u3059\u3002\n$ git clone https://github.com/ossc-db/pg_bulkload.git\n$ cd pg_bulkload\n$ git checkout -b VERSION3_1_STABLE origin/VERSION3_1_STABLE\n$ make\n# make install\n\n\u5f8c\u306f\u3001\u30ed\u30fc\u30c9\u3059\u308b\u5bfe\u8c61\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306bpg_bulkload\u3092\u767b\u9332\u3057\u3066\u3042\u3052\u307e\u3059\u3002\n$ psql\npsql (9.5alpha2)\nType \"help\" for help.\n\n[local] 26537 postgres=# CREATE EXTENSION pg_bulkload ;\n\n\u3053\u308c\u3067OK\u3067\u3059\u3002\n\nembulk-output-command\n\u8abf\u3079\u305f\u3068\u3053\u308d\u3001embulk\u306e\u51fa\u529b\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u4efb\u610f\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308bembulk-output-command\u304c\u3042\u308b\u3053\u3068\u3092\u767a\u898b\u3002\n\u4e00\u65b9\u3001pg_bulkload\u306f\u6a19\u6e96\u5165\u529b\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u306e2\u3064\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n$ embulk gem install embulk-output-command\n\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\nembulk\u4fbf\u5229\u3060\u308f\u3002\n\nembulk + pg_bulkload\u306e\u305f\u3081\u306econfig.yml\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3057\u305f\u3002\n\nbulk_config.yml\n$ cat bulk_config.yml\nin:\n  type: file\n  path_prefix: /home/postgres/tmp/dump\n  parser:\n    charset: UTF-8\n    newline: CRLF\n    type: csv\n    delimiter: ','\n    quote: '\"'\n    trim_if_not_quoted: false\n    allow_extra_columns: false\n    allow_optional_columns: false\n    columns:\n    - {name: a, type: long}\n    - {name: b, type: string}\nout:\n   type: command\n   command: \"pg_bulkload -i stdin -O tbl -o SKIP=1\"\n   formatter:\n     type: csv\n\n\nin\u306e\u3068\u3053\u308d\u306f\u3001embulk-output-postgresql\u306e\u6642\u3068\u540c\u3058\u3067\u3059\u3002\nout\u306e\u3068\u3053\u308d\u306b\u3001embulk-output-command\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6307\u5b9a\u3057\u3066\u3001\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066pg_bulkload\u3092\u547c\u3093\u3067\u3042\u3052\u307e\u3059\u3002\npg_bulkload\u306e\u30b3\u30de\u30f3\u30c9\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u3001-i\u3067\u6a19\u6e96\u5165\u529b\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u3064\u3051\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002-O\u3067\u30ed\u30fc\u30c9\u5148\u30c6\u30fc\u30d6\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001-o\u3067SKIP=1\u3068\u3057\u3066\u3001\u6700\u521d\u306e1\u884c\u3092\u8aad\u307f\u98db\u3070\u3059\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001embulk-output-command\u3092\u4f7f\u3063\u305f\u5834\u5408\u3001\u6700\u521d\u306e\uff11\u884c\u3068\u3057\u3066\u30ab\u30e9\u30e0\u540d\u304c\u4e26\u3093\u3060\u30ec\u30b3\u30fc\u30c9\u304c\u51fa\u529b\u3055\u308c\u308b\u305f\u3081\u3067\u3059\u3002\n\n\u30ed\u30fc\u30c9\uff01\n$ time embulk run bulk_config.yml\n2015-10-11 00:29:18.492 +0900: Embulk v0.7.5\n2015-10-11 00:29:20.861 +0900 [INFO] (transaction): Loaded plugin embulk-output-command (0.1.3)\n2015-10-11 00:29:20.917 +0900 [INFO] (transaction): Listing local files at directory '/home/postgres/tmp' filtering filename by prefix 'dump'\n2015-10-11 00:29:20.925 +0900 [INFO] (transaction): Loading files [/home/postgres/tmp/dump.tbl]\n2015-10-11 00:29:21.071 +0900 [INFO] (transaction): {done:  0 / 1, running: 0}\n2015-10-11 00:29:21.097 +0900 [INFO] (task-0000): Using command [sh, -c, pg_bulkload -i stdin -O tbl -o SKIP=1]\nNOTICE: BULK LOAD START\nNOTICE: BULK LOAD END\n        1 Rows skipped.\n        1000000 Rows successfully loaded.\n        0 Rows not loaded due to parse errors.\n        0 Rows not loaded due to duplicate errors.\n        0 Rows replaced with new rows.\n2015-10-11 00:29:25.787 +0900 [INFO] (transaction): {done:  1 / 1, running: 0}\n2015-10-11 00:29:25.795 +0900 [INFO] (main): Committed.\n2015-10-11 00:29:25.796 +0900 [INFO] (main): Next config diff: {\"in\":{\"last_path\":\"/home/postgres/tmp/dump.tbl\"},\"out\":{}}\n\nreal    0m12.006s\nuser    0m21.005s\nsys     0m2.335s\n\n\u624b\u5143\u306e\u74b0\u5883\u3067\u306f\u3001embulk-output-postgresql\u306e\u6642\u9593(\u5e73\u574724\u79d2\u304f\u3089\u3044)\u3088\u308a\u3082\u534a\u5206\u304f\u3089\u3044\u306e\u6642\u9593(\u5e73\u574712\u79d2\u304f\u3089\u3044)\u3067\u30ed\u30fc\u30c9\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f(\u2267\u2207\u2266)/\n\n\u307e\u3068\u3081\n\u5c11\u3057\u89e6\u3063\u305f\u3060\u3051\u3067\u3059\u304c\u3001embulk\u4f7f\u3044\u3084\u3059\u304f\u3066\u3044\u3044\u3067\u3059\uff01\n\u3044\u308d\u3093\u306a\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u308b\u306e\u3067\u3001\u5404\u7a2e\u30c7\u30fc\u30bf\u30fb\u30bd\u30fc\u30b9\u306e\u9593\u3067\u30c7\u30fc\u30bf\u3092\u79fb\u52d5\u3055\u305b\u308b\u306e\u306b\u4fbf\u5229\u305d\u3046\u3067\u3059\u3002\nembulk\u3067PostgreSQL\u306b\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u969b\u306b\u300c\u3082\u3063\u3068\u901f\u3055\u3092\uff01\uff01\u300d\u3068\u3044\u3046\u72b6\u614b\u306b\u306a\u3063\u305f\u3089\u3001pg_bulkload\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u306e\u6280\u3092\u4f7f\u3063\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u53c2\u8003\npg_bulkload \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://ossc-db.github.io/pg_bulkload/pg_bulkload-ja.html\n[embulk](https://github.com/embulk/embulk)\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\u3002\u305d\u3057\u3066\u3001\u901f\u3055\u3092\u6c42\u3081\u3066[pg_bulkload](https://github.com/ossc-db/pg_bulkload)\u3068\u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u30c8\u30e9\u30a4\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u4f7f\u3063\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\n\n* embulk : 0.7.5\n* PostgreSQL : 9.5alpha2\n\n# embulk\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u901a\u308a\u306b\u30b3\u30de\u30f3\u30c9\u3092\u53e9\u3051\u3070OK\u3067\u3059\u3002\n\nhttps://github.com/embulk/embulk#linux--mac--bsd\n\n# PostgreSQL\u51fa\u529b\u7528\u30d7\u30e9\u30b0\u30a4\u30f3\n\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n$ embulk gem install embulk-output-postgresql\n```\n\nPostgreSQL JDBC Driver\u306f\u30d0\u30f3\u30c9\u30eb\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u8ffd\u52a0\u914d\u7f6e\u306f\u4e0d\u8981\u3067\u3059\u3002\nbuild.gradle\u3092\u898b\u308b\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u306f9.4-1200-jdbc41\u3002\n\n## \u30ed\u30fc\u30c9\n\n\u4eca\u56de\u306f\u3001CSV\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u3092embulk\u3092\u4f7f\u3063\u3066\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3092\u8a66\u3057\u3066\u307f\u307e\u3059\u3002\n\n### \u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\n\n\u3061\u3087\u30fc\u30b7\u30f3\u30d7\u30eb\u306a\u30c6\u30fc\u30d6\u30eb\u3067\u8a66\u3057\u307e\u3059\u3002\n\n```\n$ psql\npsql (9.5alpha2)\nType \"help\" for help.\n\n[local] 33914 postgres=# \\d tbl\n      Table \"public.tbl\"\n Column |  Type   | Modifiers\n--------+---------+-----------\n a      | integer | not null\n b      | text    |\nIndexes:\n    \"tbl_pkey\" PRIMARY KEY, btree (a)\n```\n\n\u30ed\u30fc\u30c9\u3059\u308b\u30c7\u30fc\u30bf\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n```\n$ head  /home/postgres/tmp/dump.tbl\n687805,000002b3ee394b36e8323d7d3e5f29fb\n751689,0000114d140790801fb40608048c76e6\n297583,0000246baf5fa28b1b3f369f3ac5eade\n710805,00002e712863c0ad4ad631220909609b\n250149,0000324faa31156eadf83d8a85a9bbd6\n956774,00003389fdbd39415cc63f044d01599c\n900235,00004a1b08ae3655504460663f52407d\n66635,00006b6e7e964c78cad2658aefd97683\n50086,000070af5c6860e0baad557cfac1f67a\n876796,00007757c74ead14d87a113a576f5eed\n```\n\n1,000,000\u884c\u3042\u308a\u307e\u3059\u3002\n\u30c7\u30fc\u30bf\u306fPostgreSQL\u3067generated_series\u3092\u4f7f\u3063\u3066\u30e9\u30f3\u30c0\u30e0\u306a\u5024\u304c\u4e26\u3076\u3088\u3046\u306b\u7528\u610f\u3057\u307e\u3057\u305f\u3002\n\n### embulk\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u307f\u3064\u3064\u4f5c\u6210\u3002\n\n```jdbc_config.yml\n$ cat jdbc_config.yml\nin:\n  type: file\n  path_prefix: /home/postgres/tmp/dump\n  parser:\n    charset: UTF-8\n    newline: CRLF\n    type: csv\n    delimiter: ','\n    quote: '\"'\n    trim_if_not_quoted: false\n    allow_extra_columns: false\n    allow_optional_columns: false\n    columns:\n    - {name: a, type: long}\n    - {name: b, type: string}\nout:\n   type: postgresql\n   host: localhost\n   user: postgres\n   database: postgres\n   table: tbl\n   mode: insert\n```\n\n\u3061\u306a\u307f\u306b\u3001\u30a4\u30f3\u30d7\u30c3\u30c8\u306e\u30ab\u30e9\u30e0a\u7528\u30c7\u30fc\u30bf\u306e\u578b\u3092int\u3068\u6307\u5b9a\u3057\u305f\u3089\u3001\u305d\u3093\u306a\u306e\u306a\u3044\u3088\u3068embulk\u306b\u6012\u3089\u308c\u305f\u306e\u3067long\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\nError: com.fasterxml.jackson.databind.JsonMappingException: Unknown type name 'int'. Supported types are: boolean, long, double, string, timestamp (through reference chain: java.util.ArrayList[0])\n```\n\n### \u30ed\u30fc\u30c9\u5b9f\u884c\n\n```\n$ time embulk run jdbc_config.yml\n2015-10-10 23:41:15.431 +0900: Embulk v0.7.5\n2015-10-10 23:41:18.028 +0900 [INFO] (transaction): Loaded plugin embulk-output-postgresql (0.4.1)\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:18.495 +0900 [INFO] (transaction): SQL: CREATE TABLE IF NOT EXISTS \"tbl_5619238d34b0c500_bl_tmp000\" (\"a\" INT4, \"b\" TEXT)\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:18.662 +0900 [INFO] (task-0000): Copy SQL: COPY \"tbl_5619238d34b0c500_bl_tmp000\" (\"a\", \"b\") FROM STDIN\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:26.818 +0900 [INFO] (transaction): SQL: INSERT INTO \"tbl\" (\"a\", \"b\") SELECT \"a\", \"b\" FROM \"tbl_5619238d34b0c500_bl_tmp000\"\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:33.528 +0900 [INFO] (transaction): SQL: DROP TABLE IF EXISTS \"tbl_5619238d34b0c500_bl_tmp000\"\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:41:33.554 +0900 [INFO] (main): Committed.\n2015-10-10 23:41:33.555 +0900 [INFO] (main): Next config diff: {\"in\":{\"last_path\":\"/home/postgres/tmp/dump.tbl\"},\"out\":{}}\n\nreal    0m23.407s\nuser    0m23.660s\nsys     0m4.673s\n```\n\ninsert\u30e2\u30fc\u30c9\u3067\u5b9f\u884c\u3057\u305f\u306e\u3067\u3001\u4e00\u6642\u30c6\u30fc\u30d6\u30eb\u306b\u30c7\u30fc\u30bf\u304cCOPY\u6587\u3067\u30c7\u30fc\u30bf\u304c\u30ed\u30fc\u30c9\u3055\u308c\u3001\u305d\u306e\u5f8c\u76ee\u7684\u306e\u30c6\u30fc\u30d6\u30eb\u306bSELECT INSERT\u3055\u308c\u307e\u3059\u3002\n\ninsert_direct\u30e2\u30fc\u30c9\u306b\u3059\u308b\u3068\u3001\u4e00\u6642\u30c6\u30fc\u30d6\u30eb\u3092\u4f7f\u308f\u305a\u3001\u76f4\u63a5COPY\u6587\u3067\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306b\u30c7\u30fc\u30bf\u304c\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\n\n```\n$ time embulk run jdbc_config.yml\n2015-10-10 23:47:26.830 +0900: Embulk v0.7.5\n2015-10-10 23:47:29.359 +0900 [INFO] (transaction): Loaded plugin embulk-output-postgresql (0.4.1)\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:47:29.866 +0900 [INFO] (task-0000): Copy SQL: COPY \"tbl\" (\"a\", \"b\") FROM STDIN\n++++++++++++ \u7565 +++++++++++++++++++++++++++++\n2015-10-10 23:47:42.501 +0900 [INFO] (main): Committed.\n2015-10-10 23:47:42.502 +0900 [INFO] (main): Next config diff: {\"in\":{\"last_path\":\"/home/postgres/tmp/dump.tbl\"},\"out\":{}}\n\nreal    0m20.968s\nuser    0m24.651s\nsys     0m3.912s\n```\n\n\u5c11\u3057\u65e9\u304f\u306a\u308a\u307e\u3059\u304c\u3001insert_direct\u30e2\u30fc\u30c9\u3060\u3068\u30ed\u30fc\u30c9\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u3066embulk\u304c\u505c\u6b62\u3057\u305f\u5834\u5408\u306b\u3001\u5bfe\u8c61\u30c6\u30fc\u30d6\u30eb\u306b\u4e2d\u9014\u534a\u7aef\u306a\u30c7\u30fc\u30bf\u304c\u30ed\u30fc\u30c9\u3055\u308c\u305f\u307e\u307e\u6b8b\u3063\u305f\u308a\u3059\u308b\u306a\u3069\u306e\u30ea\u30b9\u30af\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\n# \u3055\u3089\u306b\u9ad8\u901f\u306b\u30ed\u30fc\u30c9\u3057\u305f\u3044\uff01\n\nPostgreSQL\u306b\u9ad8\u901f\u306b\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u30c4\u30fc\u30eb\u3068\u3057\u3066\u3001[pg_bulkload](https://github.com/osscdb/pg_bulkload)\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3053\u3044\u3064\u3092embulk\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u307f\u307e\u3057\u3087\u3046\uff01\n\n## pg_bulkload\npg_bulkload\u306f\n\n* SQL\u7d4c\u7531\u3067\u306f\u306a\u304f\u3001PostgreSQL\u306e\u5185\u90e8\u95a2\u6570\u3092\u76f4\u63a5\u547c\u3073\u51fa\u3057\u3066\u30ec\u30b3\u30fc\u30c9\u3092\u30c6\u30fc\u30d6\u30eb\u30d5\u30a1\u30a4\u30eb\u306b\u76f4\u63a5\u66f8\u304d\u8fbc\u307f\n* \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30ed\u30b0\u306e\u51fa\u529b\u3092\u306a\u308b\u3079\u304f\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u3001\u66f8\u304d\u8fbc\u307f\u51e6\u7406\u306e\u8ca0\u8377\u3092\u524a\u6e1b\n* \u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u66f4\u65b0\u51e6\u7406\u3092\u8ffd\u52a0\u30ec\u30b3\u30fc\u30c9\u3054\u3068\u306b\u5b9f\u65bd\u305b\u305a\u3001\u6700\u5f8c\u306b\u307e\u3068\u3081\u3066\u5b9f\u65bd\n* \u30d1\u30fc\u30b9\u3068\u66f8\u304d\u8fbc\u307f\u3092\u5225\u30d7\u30ed\u30bb\u30b9\u3067\u4e26\u5217\u5b9f\u884c\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\u6307\u5b9a\u6642\uff09\n\n\u3068\u3044\u3046\u53cd\u5247\u6280\u3067\u30ed\u30fc\u30c9\u9ad8\u901f\u5316\u3092\u5b9f\u73fe\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3082\u3061\u308d\u3093\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306a\u53cd\u5247\u3092\u4f7f\u3046\u306e\u3067pg_bulkload\u3067\u884c\u3063\u305f\u30c7\u30fc\u30bf\u30ed\u30fc\u30c9\u306e\u64cd\u4f5c\u306f\u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u30ed\u30b0\u304b\u3089\u306f\u518d\u73fe\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u5236\u7d04\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30ed\u30fc\u30c9\u4e2d\u306bpg_bulkload\u304c\u30af\u30e9\u30c3\u30b7\u30e5\u3057\u305f\u5834\u5408\u306b\u7279\u5225\u306a\u30ea\u30ab\u30d0\u30ea\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u308a\u3057\u307e\u3059\u3002\n\n\u3053\u306e\u3088\u3046\u306a\u5236\u7d04\u3092\u5b88\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u4ed6\u306e\u30c4\u30fc\u30eb\u3067\u306f\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u30ed\u30fc\u30c9\u6027\u80fd\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001**\u7528\u6cd5\u3092\u5b88\u3063\u3066\u6b63\u3057\u304f\u4f7f\u3046**\u306e\u3067\u3042\u308c\u3070\u5927\u5909\u6709\u7528\u3067\u3059\u3002\n\n\u306a\u3093\u3068\u3044\u3046\u304b\u3001\u30e9\u30c7\u30a3\u30ab\u30eb\u30b0\u30c3\u30c9\u30b9\u30d4\u30fc\u30c9\uff08\u53e4\u3044\uff09\n\n### pg_bulkload\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4eca\u56de\u306f\u624b\u5143\u306e\u74b0\u5883\u3067PostgreSQL 9.5alpha2\u3092\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u3001GitHub\u304b\u3089\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u5165\u624b\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u30029.4\u4ee5\u524d\u306a\u3089\u3070\u3001RPM\u304c\u3042\u308b\u306e\u3067\u305d\u3061\u3089\u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3082\u5927\u4e08\u592b\u3067\u3059\u3002\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3059\u308b\u5834\u5408\u3001\u5fc5\u8981\u3068\u306a\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\u3002\n\u57fa\u672c\u7684\u306b\u306fPostgreSQL\u3092\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u52d5\u304b\u3057\u3066\u3044\u308b\u74b0\u5883\u3067\u3042\u308c\u3070\u5927\u4e08\u592b\u3067\u3059\u3002\nPostgreSQL\u3092\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3059\u308b\u65b9\u6cd5\u306f[\u904e\u53bb\u306e\u8a18\u4e8b\u306b\u66f8\u304d\u307e\u3057\u305f](http://qiita.com/bwtakacy/items/09208211d91c8b288f4d)\n\nVERSION3_1_STABLE\u30d6\u30e9\u30f3\u30c1\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```\n$ git clone https://github.com/ossc-db/pg_bulkload.git\n$ cd pg_bulkload\n$ git checkout -b VERSION3_1_STABLE origin/VERSION3_1_STABLE\n$ make\n# make install\n```\n\n\u5f8c\u306f\u3001\u30ed\u30fc\u30c9\u3059\u308b\u5bfe\u8c61\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306bpg_bulkload\u3092\u767b\u9332\u3057\u3066\u3042\u3052\u307e\u3059\u3002\n\n```\n$ psql\npsql (9.5alpha2)\nType \"help\" for help.\n\n[local] 26537 postgres=# CREATE EXTENSION pg_bulkload ;\n```\n\n\u3053\u308c\u3067OK\u3067\u3059\u3002\n\n## embulk-output-command\n\n\u8abf\u3079\u305f\u3068\u3053\u308d\u3001embulk\u306e\u51fa\u529b\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u3057\u3066\u4efb\u610f\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308bembulk-output-command\u304c\u3042\u308b\u3053\u3068\u3092\u767a\u898b\u3002\n\n\u4e00\u65b9\u3001pg_bulkload\u306f\u6a19\u6e96\u5165\u529b\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u306e2\u3064\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n\n```\n$ embulk gem install embulk-output-command\n```\n\n\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\nembulk\u4fbf\u5229\u3060\u308f\u3002\n\n\n## embulk + pg_bulkload\u306e\u305f\u3081\u306econfig.yml\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308c\u3070\u826f\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3057\u305f\u3002\n\n```bulk_config.yml\n$ cat bulk_config.yml\nin:\n  type: file\n  path_prefix: /home/postgres/tmp/dump\n  parser:\n    charset: UTF-8\n    newline: CRLF\n    type: csv\n    delimiter: ','\n    quote: '\"'\n    trim_if_not_quoted: false\n    allow_extra_columns: false\n    allow_optional_columns: false\n    columns:\n    - {name: a, type: long}\n    - {name: b, type: string}\nout:\n   type: command\n   command: \"pg_bulkload -i stdin -O tbl -o SKIP=1\"\n   formatter:\n     type: csv\n```\n\nin\u306e\u3068\u3053\u308d\u306f\u3001embulk-output-postgresql\u306e\u6642\u3068\u540c\u3058\u3067\u3059\u3002\nout\u306e\u3068\u3053\u308d\u306b\u3001embulk-output-command\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6307\u5b9a\u3057\u3066\u3001\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3068\u3057\u3066pg_bulkload\u3092\u547c\u3093\u3067\u3042\u3052\u307e\u3059\u3002\n\npg_bulkload\u306e\u30b3\u30de\u30f3\u30c9\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u3001-i\u3067\u6a19\u6e96\u5165\u529b\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u3064\u3051\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002-O\u3067\u30ed\u30fc\u30c9\u5148\u30c6\u30fc\u30d6\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001-o\u3067SKIP=1\u3068\u3057\u3066\u3001\u6700\u521d\u306e1\u884c\u3092\u8aad\u307f\u98db\u3070\u3059\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001embulk-output-command\u3092\u4f7f\u3063\u305f\u5834\u5408\u3001\u6700\u521d\u306e\uff11\u884c\u3068\u3057\u3066\u30ab\u30e9\u30e0\u540d\u304c\u4e26\u3093\u3060\u30ec\u30b3\u30fc\u30c9\u304c\u51fa\u529b\u3055\u308c\u308b\u305f\u3081\u3067\u3059\u3002\n\n## \u30ed\u30fc\u30c9\uff01\n\n```\n$ time embulk run bulk_config.yml\n2015-10-11 00:29:18.492 +0900: Embulk v0.7.5\n2015-10-11 00:29:20.861 +0900 [INFO] (transaction): Loaded plugin embulk-output-command (0.1.3)\n2015-10-11 00:29:20.917 +0900 [INFO] (transaction): Listing local files at directory '/home/postgres/tmp' filtering filename by prefix 'dump'\n2015-10-11 00:29:20.925 +0900 [INFO] (transaction): Loading files [/home/postgres/tmp/dump.tbl]\n2015-10-11 00:29:21.071 +0900 [INFO] (transaction): {done:  0 / 1, running: 0}\n2015-10-11 00:29:21.097 +0900 [INFO] (task-0000): Using command [sh, -c, pg_bulkload -i stdin -O tbl -o SKIP=1]\nNOTICE: BULK LOAD START\nNOTICE: BULK LOAD END\n        1 Rows skipped.\n        1000000 Rows successfully loaded.\n        0 Rows not loaded due to parse errors.\n        0 Rows not loaded due to duplicate errors.\n        0 Rows replaced with new rows.\n2015-10-11 00:29:25.787 +0900 [INFO] (transaction): {done:  1 / 1, running: 0}\n2015-10-11 00:29:25.795 +0900 [INFO] (main): Committed.\n2015-10-11 00:29:25.796 +0900 [INFO] (main): Next config diff: {\"in\":{\"last_path\":\"/home/postgres/tmp/dump.tbl\"},\"out\":{}}\n\nreal    0m12.006s\nuser    0m21.005s\nsys     0m2.335s\n```\n\n\u624b\u5143\u306e\u74b0\u5883\u3067\u306f\u3001embulk-output-postgresql\u306e\u6642\u9593(\u5e73\u574724\u79d2\u304f\u3089\u3044)\u3088\u308a\u3082\u534a\u5206\u304f\u3089\u3044\u306e\u6642\u9593(\u5e73\u574712\u79d2\u304f\u3089\u3044)\u3067\u30ed\u30fc\u30c9\u304c\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f(\u2267\u2207\u2266)/\n\n# \u307e\u3068\u3081\n\n\u5c11\u3057\u89e6\u3063\u305f\u3060\u3051\u3067\u3059\u304c\u3001embulk\u4f7f\u3044\u3084\u3059\u304f\u3066\u3044\u3044\u3067\u3059\uff01\n\n\u3044\u308d\u3093\u306a\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u3042\u308b\u306e\u3067\u3001\u5404\u7a2e\u30c7\u30fc\u30bf\u30fb\u30bd\u30fc\u30b9\u306e\u9593\u3067\u30c7\u30fc\u30bf\u3092\u79fb\u52d5\u3055\u305b\u308b\u306e\u306b\u4fbf\u5229\u305d\u3046\u3067\u3059\u3002\n\nembulk\u3067PostgreSQL\u306b\u30c7\u30fc\u30bf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u969b\u306b**\u300c\u3082\u3063\u3068\u901f\u3055\u3092\uff01\uff01\u300d**\u3068\u3044\u3046\u72b6\u614b\u306b\u306a\u3063\u305f\u3089\u3001pg_bulkload\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u306e\u6280\u3092\u4f7f\u3063\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n# \u53c2\u8003\npg_bulkload \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://ossc-db.github.io/pg_bulkload/pg_bulkload-ja.html\n\n", "tags": ["PostgreSQL", "Embulk", "pg_bulkload"]}