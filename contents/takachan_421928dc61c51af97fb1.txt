{"tags": ["cli", "AWS"], "context": "\n\nEC2\n\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eName\u30bf\u30b0\u3092\u53d6\u5f97\u3059\u308b\n\naws ec2 describe-instances --instance-ids INSTANCE_ID --query 'Reservations[].Instances[].Tags[?Key==`Name`].Value' --output text\n\n\n\u5168\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u60c5\u5831\u3092\u53d6\u5f97\n\naws ec2 describe-instances | jq '.Reservations[].Instances[]'\n\n\n\u5168\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e Public IP \u3068 Public DNS Name \u3092\u53d6\u5f97\n\naws ec2 describe-instances | jq '.Reservations[].Instances[] | {PublicDnsName, PublicIpAddress}' \n\n\n\u5168\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30bf\u30b0\u540d\u3092\u53d6\u5f97\n\naws ec2 describe-instances | jq '.Reservations[].Instances[]|{InstanceId, Tags}' \n\n\n\u30a4\u30f3\u30b9\u30f3\u30bf\u30f3\u30b9\u3078 ssh \u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u53d6\u5f97\n\naws ec2 describe-instances --filters Name=tag-value,Values=\"XXXX\" |jq '.Reservations[].Instances[]|{InstanceId,PublicIpAddress,PrivateIpAddress,Tags}' \n\n\nPublicIpAddress\u3092\u53d6\u5f97\n\naws ec2 describe-instances | jq '.Reservations [] .Instances [] .PublicIpAddress'\n\n\n\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u53d6\u5f97\n\naws ec2 describe-instances | jq -r '.Reservations[] .Instances[] .InstanceId'\naws ec2 describe-instances | jq '.Reservations[] .Instances[] .InstanceId'\n\n\nElastic IP\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-addresses| jq '.'\n\n\nPublicDnsName, PublicIpAddress, Tags\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-instances | jq '.Reservations[].Instances[] | {PublicDnsName, PublicIpAddress, Tags}'\n\n\nAutoScaling\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u72b6\u614b,InstanceID,PublicDnsName,PublicIpAddress\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-instances --filters \"Name=tag:aws:autoscaling:groupName,Values=YOUR AUTOSCALING GROUP NAME\" | jq '.Reservations[].Instances[] | {State, InstanceId, PublicDnsName, PublicIpAddress}'\n\n\n\u81ea\u5206\u3067\u4f5c\u6210\u3057\u305fAMI\u306eName,ImageId\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-images --owners self | jq '.Images[] | {Name, ImageId}'\n\n\n\u81ea\u5206\u3067\u4f5c\u6210\u3057\u305fAMI\u306b\u7279\u5b9a\u306etag\u304c\u4ed8\u3044\u3066\u3044\u308bName,ImageId\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-images --owners self --filter Name=tag-key,Values=YOUR TAG NAME Name=tag-value,Values=YOUR TAG VALUES | jq '.Images[] | {Name, ImageId}'\n\n\n\u81ea\u5206\u3067\u4f5c\u6210\u3057\u305fSnapshot\u306b\u7279\u5b9a\u306etag\u304c\u4ed8\u3044\u3066\u3044\u308bSnapshotId\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-snapshots --filter Name=tag-key,Values=YOUR TAG NAME Name=tag-value,Values=YOUR TAG VALUES | jq '.Snapshots[] .SnapshotId'\n\n\n\u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\u306eEBS\u306eVolumeId,SnapshotId,Size\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-volumes --region ap-northeast-1 | jq '.Volumes[]| {VolumeId, SnapshotId, Size}'\n\n\n\u5bfe\u8c61\u306eAutoScaling\u30b0\u30eb\u30fc\u30d7\u3067\u7a3c\u50cd\u4e2d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u53d6\u5f97\n\naws ec2 describe-instances --filter 'Name=tag:aws:autoscaling:groupName,Values=demo-asg' \"Name=instance-state-name,Values=running\" | jq '.Reservations[].Instances[] | {InstanceId}'\n\n\nAuto Scaling \u30b0\u30eb\u30fc\u30d7\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u66f4\u65b0\uff08min, max\u5909\u66f4\uff09\n\naws autoscaling update-auto-scaling-group --auto-scaling-group-name demo-asg --min-size 2 --max-size 8\n\n\nAutoScaling\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u5b9f\u884c\n\naws autoscaling put-scheduled-update-group-action --auto-scaling-group-name demo-asg --scheduled-action-name \"demo-scaling-1100-1500\" --recurrence \"0 2 * * *\" --min-size 2 --max-size 8 --desired-capacity 3\n\n\nAutoScaling\u30b0\u30eb\u30fc\u30d7\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8a2d\u5b9a\n\naws autoscaling describe-auto-scaling-groups --auto-scaling-group-names demo-asg | jq '.AutoScalingGroups[] | {MinSize, DesiredCapacity, MaxSize}'\n\n\nAWS EC2 \u3067\u53d6\u5f97\u3057\u3066\u3044\u308b\u30b0\u30ed\u30fc\u30d0\u30ebIP(Elastic IP)\u3092 CLI \u3067\u4e00\u89a7\u3059\u308b\n\naws ec2 describe-addresses | jq '.[] | .[] | .PublicIp' | sed 's/\\\"//g'\n\n\n(add 2016/07/29) \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7ID\u6307\u5b9a\u3057\u3066\u8a2d\u5b9a\u5185\u5bb9\u78ba\u8a8d\n\n aws ec2 describe-security-groups --query 'SecurityGroups[?GroupId==`sg-12345678`]'\n\n\n(add 2016/11/15) \u505c\u6b62\u3057\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\n\naws ec2 describe-instances --filter \"Name=instance-state-name,Values=stopped\" --query 'Reservations[].Instances[].[InstanceId]'\n\n\n(add 2016/11/15) \u524a\u9664\u4fdd\u8b77\u3092\u7121\u52b9\u5316\n\naws ec2 modify-instance-attribute --instance-id i-xxxxxx --no-disable-api-termination\n\n\n(add 2017/02/20) Parameter Store\u306e\u5024\u8a2d\u5b9a\n\n# \u6587\u5b57\u5217\naws ssm put-parameter --name dev.db_user --type String --value devdbuser --region ap-northeast-1\n\n# \u5b89\u5168\u306a\u6587\u5b57\u5217\naws ssm put-parameter --name dev.db_password --type SecureString --value password --region ap-northeast-1\n\n\n(add 2017/02/20) Parameter Store\u306e\u5024\u53d6\u5f97\n\naws --region ap-northeast-1 ssm get-parameters --name dev.db_password --with-decryption\n\naws --region ap-northeast-1 ssm get-parameters --name dev.db_user --with-decryption\n\naws --region ap-northeast-1 ssm get-parameters --name dev.db_user --with-decryption --query \"Parameters[0].Value\" --output text\n\naws --region ap-northeast-1 ssm get-parameters --name dev.db_password --with-decryption --query \"Parameters[0].Value\" --output text\n\n\n(add 2017/03/02) AMI\u4f5c\u6210\uff08\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u4ed8\u304d\uff09\n\naws ec2 --region ap-northeast-1 create-image --instance-id i-xxxxx --name base-$(date +%Y%m%d%H%M%S) --description 'created by '$(date +%Y%m%d%H%M%S) --no-reboot\n\n\n(add 2017/03/02) EBS\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u4f5c\u6210\uff08\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u4ed8\u304d\uff09\n\naws ec2 --region ap-northeast-1 create-snapshot --volume-id vol-xxxxx --description 'created by '$(date +%Y%m%d%H%M%S)\n\n\nELB\n\nELB\u306b\u7d10\u4ed8\u3044\u3066\u3044\u308bInstanceId,Status\u3092\u4e00\u89a7\u53d6\u5f97\n\naws elb describe-instance-health --load-balancer-name YOUR ELB NAME | jq '.InstanceStates[]|{InstanceId, State}'\n\n\nRDS\n\nRDS\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\n\naws rds describe-db-instances \n\n\nRDS\u306eEndPoint\u3068DB Instance Identifier\u3092\u53d6\u5f97\n\naws rds describe-db-instances | jq '.DBInstances[] |{DBInstanceIdentifier,Endpoint}'\n\n\nRDS Snapshot\u306eDBSnapshotIdentifier,DBInstanceIdentifier\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\naws rds describe-db-snapshots | jq '.DBSnapshots[] | {DBSnapshotIdentifier, DBInstanceIdentifier}'\n\n\nRDS\u306e\u30ed\u30b0\u4e00\u89a7\u53d6\u5f97\n\naws rds describe-db-log-files --db-instance-identifier demo-db | jq '.DescribeDBLogFiles[].LogFileName'\n\n\nRDS\u306e\u30ed\u30b0\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\naws rds download-db-log-file-portion --db-instance-identifier demo-db --region ap-northeast-1 --log-file-name \"slowquery/mysql-slowquery.log\" --output text\n\n\n(add 2017/02/20) RDS\u306e\u30de\u30b9\u30bf\u30fc\u30d1\u30b9\u30ef\u30fc\u30c9\u518d\u8a2d\u5b9a\n\naws rds modify-db-instance --db-instance-identifier demo-db --master-user-password 'xxxxxxx' --region ap-northeast-1\n\n\nS3\n\n\u30d0\u30b1\u30c3\u30c8\u4e00\u89a7\n\naws s3api list-buckets | jq '.Buckets[] .Name'\n\n\nVPC\n\nVPC\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-vpcs | jq '.Vpcs[]'\n\n\nSubnet\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-subnets | jq '.Subnets[]'\n\n\nRouteTable\u4e00\u89a7\u3092\u53d6\u5f97\n\naws ec2 describe-route-tables | jq '.RouteTables[]'\n\n\nIAM\n\n\u30e6\u30fc\u30b6\u4e00\u89a7\u3092\u53d6\u5f97\n\naws iam list-users\n\n\n\u81ea\u5206\u306eAWS\u30a2\u30ab\u30a6\u30f3\u30c8ID\u78ba\u8a8d\n\naws sts get-caller-identity\n\n\nElastic Beanstalk\n\nApplicationName,EnvironmentName,VersionLabel,EndpointURL,CNAME\u3092\u4e00\u89a7\u53d6\u5f97\n\naws elasticbeanstalk describe-environments | jq '.Environments[] | {ApplicationName, EnvironmentName, VersionLabel, EndpointURL, CNAME}'\n\n\n\u7279\u5b9a\u306e\u74b0\u5883\u3067\u8d77\u52d5\u3057\u3066\u3044\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u53d6\u5f97\n\naws elasticbeanstalk describe-environment-resources --environment-name YOUR ENVIRONMENT NAME | jq '.EnvironmentResources.Instances[].Id'\n\n\nCloudTrail\n\n\u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\u306eCloudTrail\u3067\u51fa\u529b\u3057\u3066\u3044\u308bS3bucket\u3092\u53d6\u5f97\n\naws cloudtrail describe-trails --region ap-northeast-1 | jq '.trailList[] .S3BucketName'\n\n\n\u305d\u306e\u4ed6\u4fbf\u5229\u306a\u30b3\u30de\u30f3\u30c9\n\n\u81ea\u5206\u306e\u30b0\u30ed\u30fc\u30d0\u30ebIP\u3092\u53d6\u5f97\n\ncurl -s ipinfo.io | jq -r '.ip'\ncurl ifconfig.me\ncurl http://checkip.amazonaws.com/\n\n\n\u81ea\u5206\u306e\u30ed\u30fc\u30ab\u30ebIP\u3092\u53d6\u5f97\n\nifconfig en0 | grep inet\n\n\n2017/01/24 \u8ffd\u8a18\n\u3053\u3046\u3044\u3046GitHub\u306erepository\u898b\u3064\u3051\u307e\u3057\u305f\u3002\nhttps://github.com/awslabs/awscli-aliases\n\u3053\u308c\u3081\u3063\u3061\u3083\u4fbf\u5229\u3067\u3059\uff01\uff01\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n### EC2\n\n\n- EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eName\u30bf\u30b0\u3092\u53d6\u5f97\u3059\u308b\n\n```\naws ec2 describe-instances --instance-ids INSTANCE_ID --query 'Reservations[].Instances[].Tags[?Key==`Name`].Value' --output text\n```\n\n- \u5168\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u60c5\u5831\u3092\u53d6\u5f97\n\n```\naws ec2 describe-instances | jq '.Reservations[].Instances[]'\n```\n\n- \u5168\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e Public IP \u3068 Public DNS Name \u3092\u53d6\u5f97\n\n```\naws ec2 describe-instances | jq '.Reservations[].Instances[] | {PublicDnsName, PublicIpAddress}' \n```\n\n- \u5168\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30bf\u30b0\u540d\u3092\u53d6\u5f97\n\n```\naws ec2 describe-instances | jq '.Reservations[].Instances[]|{InstanceId, Tags}' \n```\n\n- \u30a4\u30f3\u30b9\u30f3\u30bf\u30f3\u30b9\u3078 ssh \u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u53d6\u5f97\n\n```\naws ec2 describe-instances --filters Name=tag-value,Values=\"XXXX\" |jq '.Reservations[].Instances[]|{InstanceId,PublicIpAddress,PrivateIpAddress,Tags}' \n```\n\n- PublicIpAddress\u3092\u53d6\u5f97\n\n```\naws ec2 describe-instances | jq '.Reservations [] .Instances [] .PublicIpAddress'\n```\n\n- \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u53d6\u5f97\n\n```\naws ec2 describe-instances | jq -r '.Reservations[] .Instances[] .InstanceId'\naws ec2 describe-instances | jq '.Reservations[] .Instances[] .InstanceId'\n```\n\n- Elastic IP\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-addresses| jq '.'\n```\n\n- PublicDnsName, PublicIpAddress, Tags\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-instances | jq '.Reservations[].Instances[] | {PublicDnsName, PublicIpAddress, Tags}'\n```\n\n- AutoScaling\u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u72b6\u614b,InstanceID,PublicDnsName,PublicIpAddress\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-instances --filters \"Name=tag:aws:autoscaling:groupName,Values=YOUR AUTOSCALING GROUP NAME\" | jq '.Reservations[].Instances[] | {State, InstanceId, PublicDnsName, PublicIpAddress}'\n```\n\n- \u81ea\u5206\u3067\u4f5c\u6210\u3057\u305fAMI\u306eName,ImageId\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-images --owners self | jq '.Images[] | {Name, ImageId}'\n```\n\n- \u81ea\u5206\u3067\u4f5c\u6210\u3057\u305fAMI\u306b\u7279\u5b9a\u306etag\u304c\u4ed8\u3044\u3066\u3044\u308bName,ImageId\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-images --owners self --filter Name=tag-key,Values=YOUR TAG NAME Name=tag-value,Values=YOUR TAG VALUES | jq '.Images[] | {Name, ImageId}'\n```\n\n- \u81ea\u5206\u3067\u4f5c\u6210\u3057\u305fSnapshot\u306b\u7279\u5b9a\u306etag\u304c\u4ed8\u3044\u3066\u3044\u308bSnapshotId\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-snapshots --filter Name=tag-key,Values=YOUR TAG NAME Name=tag-value,Values=YOUR TAG VALUES | jq '.Snapshots[] .SnapshotId'\n```\n\n- \u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\u306eEBS\u306eVolumeId,SnapshotId,Size\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-volumes --region ap-northeast-1 | jq '.Volumes[]| {VolumeId, SnapshotId, Size}'\n```\n\n- \u5bfe\u8c61\u306eAutoScaling\u30b0\u30eb\u30fc\u30d7\u3067\u7a3c\u50cd\u4e2d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u53d6\u5f97\n \n```\naws ec2 describe-instances --filter 'Name=tag:aws:autoscaling:groupName,Values=demo-asg' \"Name=instance-state-name,Values=running\" | jq '.Reservations[].Instances[] | {InstanceId}'\n```\n\n- Auto Scaling \u30b0\u30eb\u30fc\u30d7\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u66f4\u65b0\uff08min, max\u5909\u66f4\uff09\n\n```\naws autoscaling update-auto-scaling-group --auto-scaling-group-name demo-asg --min-size 2 --max-size 8\n```\n\n- AutoScaling\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u5b9f\u884c\n\n```\naws autoscaling put-scheduled-update-group-action --auto-scaling-group-name demo-asg --scheduled-action-name \"demo-scaling-1100-1500\" --recurrence \"0 2 * * *\" --min-size 2 --max-size 8 --desired-capacity 3\n```\n\n- AutoScaling\u30b0\u30eb\u30fc\u30d7\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8a2d\u5b9a\n\n```\naws autoscaling describe-auto-scaling-groups --auto-scaling-group-names demo-asg | jq '.AutoScalingGroups[] | {MinSize, DesiredCapacity, MaxSize}'\n```\n\n- AWS EC2 \u3067\u53d6\u5f97\u3057\u3066\u3044\u308b\u30b0\u30ed\u30fc\u30d0\u30ebIP(Elastic IP)\u3092 CLI \u3067\u4e00\u89a7\u3059\u308b\n\n```\naws ec2 describe-addresses | jq '.[] | .[] | .PublicIp' | sed 's/\\\"//g'\n```\n\n- (add 2016/07/29) \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7ID\u6307\u5b9a\u3057\u3066\u8a2d\u5b9a\u5185\u5bb9\u78ba\u8a8d\n\n```\n aws ec2 describe-security-groups --query 'SecurityGroups[?GroupId==`sg-12345678`]'\n```\n\n- (add 2016/11/15) \u505c\u6b62\u3057\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u306e\u4e00\u89a7\u3092\u78ba\u8a8d\n\n```\naws ec2 describe-instances --filter \"Name=instance-state-name,Values=stopped\" --query 'Reservations[].Instances[].[InstanceId]'\n```\n\n- (add 2016/11/15) \u524a\u9664\u4fdd\u8b77\u3092\u7121\u52b9\u5316\n\n```\naws ec2 modify-instance-attribute --instance-id i-xxxxxx --no-disable-api-termination\n```\n\n- (add 2017/02/20) Parameter Store\u306e\u5024\u8a2d\u5b9a\n\n```\n# \u6587\u5b57\u5217\naws ssm put-parameter --name dev.db_user --type String --value devdbuser --region ap-northeast-1\n\n# \u5b89\u5168\u306a\u6587\u5b57\u5217\naws ssm put-parameter --name dev.db_password --type SecureString --value password --region ap-northeast-1\n```\n\n- (add 2017/02/20) Parameter Store\u306e\u5024\u53d6\u5f97\n\n```\naws --region ap-northeast-1 ssm get-parameters --name dev.db_password --with-decryption\n\naws --region ap-northeast-1 ssm get-parameters --name dev.db_user --with-decryption\n\naws --region ap-northeast-1 ssm get-parameters --name dev.db_user --with-decryption --query \"Parameters[0].Value\" --output text\n\naws --region ap-northeast-1 ssm get-parameters --name dev.db_password --with-decryption --query \"Parameters[0].Value\" --output text\n```\n\n- (add 2017/03/02) AMI\u4f5c\u6210\uff08\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u4ed8\u304d\uff09\n\n```\naws ec2 --region ap-northeast-1 create-image --instance-id i-xxxxx --name base-$(date +%Y%m%d%H%M%S) --description 'created by '$(date +%Y%m%d%H%M%S) --no-reboot\n```\n\n- (add 2017/03/02) EBS\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u4f5c\u6210\uff08\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u4ed8\u304d\uff09\n\n```\naws ec2 --region ap-northeast-1 create-snapshot --volume-id vol-xxxxx --description 'created by '$(date +%Y%m%d%H%M%S)\n```\n\n### ELB\n- ELB\u306b\u7d10\u4ed8\u3044\u3066\u3044\u308bInstanceId,Status\u3092\u4e00\u89a7\u53d6\u5f97\n\n```\naws elb describe-instance-health --load-balancer-name YOUR ELB NAME | jq '.InstanceStates[]|{InstanceId, State}'\n```\n\n\n### RDS\n\n- RDS\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d6\u5f97\n\n```\naws rds describe-db-instances \n```\n\n- RDS\u306eEndPoint\u3068DB Instance Identifier\u3092\u53d6\u5f97\n\n```\naws rds describe-db-instances | jq '.DBInstances[] |{DBInstanceIdentifier,Endpoint}'\n```\n\n- RDS Snapshot\u306eDBSnapshotIdentifier,DBInstanceIdentifier\u306e\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws rds describe-db-snapshots | jq '.DBSnapshots[] | {DBSnapshotIdentifier, DBInstanceIdentifier}'\n```\n\n- RDS\u306e\u30ed\u30b0\u4e00\u89a7\u53d6\u5f97\n\n```\naws rds describe-db-log-files --db-instance-identifier demo-db | jq '.DescribeDBLogFiles[].LogFileName'\n```\n\n- RDS\u306e\u30ed\u30b0\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n```\naws rds download-db-log-file-portion --db-instance-identifier demo-db --region ap-northeast-1 --log-file-name \"slowquery/mysql-slowquery.log\" --output text\n```\n\n- (add 2017/02/20) RDS\u306e\u30de\u30b9\u30bf\u30fc\u30d1\u30b9\u30ef\u30fc\u30c9\u518d\u8a2d\u5b9a\n\n```\naws rds modify-db-instance --db-instance-identifier demo-db --master-user-password 'xxxxxxx' --region ap-northeast-1\n```\n\n\n### S3\n\n- \u30d0\u30b1\u30c3\u30c8\u4e00\u89a7\n\n```\naws s3api list-buckets | jq '.Buckets[] .Name'\n```\n\n### VPC\n\n- VPC\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-vpcs | jq '.Vpcs[]'\n```\n\n- Subnet\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-subnets | jq '.Subnets[]'\n```\n\n- RouteTable\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws ec2 describe-route-tables | jq '.RouteTables[]'\n```\n\n### IAM\n\n- \u30e6\u30fc\u30b6\u4e00\u89a7\u3092\u53d6\u5f97\n\n```\naws iam list-users\n```\n\n- \u81ea\u5206\u306eAWS\u30a2\u30ab\u30a6\u30f3\u30c8ID\u78ba\u8a8d\n\n```\naws sts get-caller-identity\n```\n\n### Elastic Beanstalk\n\n- ApplicationName,EnvironmentName,VersionLabel,EndpointURL,CNAME\u3092\u4e00\u89a7\u53d6\u5f97\n\n```\naws elasticbeanstalk describe-environments | jq '.Environments[] | {ApplicationName, EnvironmentName, VersionLabel, EndpointURL, CNAME}'\n```\n\n- \u7279\u5b9a\u306e\u74b0\u5883\u3067\u8d77\u52d5\u3057\u3066\u3044\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9ID\u3092\u53d6\u5f97\n\n```\naws elasticbeanstalk describe-environment-resources --environment-name YOUR ENVIRONMENT NAME | jq '.EnvironmentResources.Instances[].Id'\n```\n\n### CloudTrail\n\n- \u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\u306eCloudTrail\u3067\u51fa\u529b\u3057\u3066\u3044\u308bS3bucket\u3092\u53d6\u5f97\n\n```\naws cloudtrail describe-trails --region ap-northeast-1 | jq '.trailList[] .S3BucketName'\n```\n\n### \u305d\u306e\u4ed6\u4fbf\u5229\u306a\u30b3\u30de\u30f3\u30c9\n- \u81ea\u5206\u306e\u30b0\u30ed\u30fc\u30d0\u30ebIP\u3092\u53d6\u5f97\n\n```\ncurl -s ipinfo.io | jq -r '.ip'\ncurl ifconfig.me\ncurl http://checkip.amazonaws.com/\n```\n\n- \u81ea\u5206\u306e\u30ed\u30fc\u30ab\u30ebIP\u3092\u53d6\u5f97\n\n```\nifconfig en0 | grep inet\n```\n\n## 2017/01/24 \u8ffd\u8a18\n\u3053\u3046\u3044\u3046GitHub\u306erepository\u898b\u3064\u3051\u307e\u3057\u305f\u3002\n[https://github.com/awslabs/awscli-aliases](https://github.com/awslabs/awscli-aliases)\n\u3053\u308c\u3081\u3063\u3061\u3083\u4fbf\u5229\u3067\u3059\uff01\uff01\u304a\u3059\u3059\u3081\u3057\u307e\u3059\u3002\n"}