{"context": " More than 1 year has passed since last update.\n\nOpenGL\u3092Qt\u304b\u3089\u4f7f\u3063\u3066\u3044\u308b\u6642\u306b\uff0cOpenGL\u306e\u8868\u793a\u3092\u753b\u50cf\u3068\u3057\u3066\u4fdd\u5b58\u3059\u308b\u65b9\u6cd5\uff0e\nQGLWidget\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9GLWidget\u304c\u3042\u308b\uff0e\nGLWidget::GLWidget(QWidget *parent)\n    : QGLWidget(QGLFormat(QGL::SampleBuffers), parent) {\n}\n\nGLWidget\u3067\u63cf\u753b\u3055\u308c\u3066\u3044\u308b\u753b\u9762\u3092\u753b\u50cf\u3068\u3057\u3066\u4fdd\u5b58\u3059\u308b\u306b\u306f\u3053\u3093\u306a\u611f\u3058\uff0e\nvoid GLWidget::saveImage() {\n    QImage img = QImage(this->size(), QImage::Format_ARGB32_Premultiplied);\n    glReadPixels(0, 0, this->width(), this->height(), GL_RGBA, GL_UNSIGNED_BYTE, img.bits());\n    img = img.rgbSwapped();\n    img = img.mirrored();\n    img.save(\"file.jpg\");\n}\n\nrgbSwapped()\u306fRGB\u2192BGR\u306b\u52b9\u7387\u7684\u306b\u5909\u63db\u3059\u308b\uff0eOpenGL\u3092Qt\u306b\u5408\u308f\u305b\u308b\u305f\u3081\uff0e\nmirrored()\u306f\u753b\u50cf\u3092\u30df\u30e9\u30fc\u3059\u308b\uff0e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9\u306e\u5ea7\u6a19\u3092OpenGL\u306e\u5ea7\u6a19\u304b\u3089Qt\u306e\u5ea7\u6a19\u306b\u79fb\u3059\u305f\u3081\uff0e\n\n\u8ffd\u8a18\n@shimacpyon \u3055\u3093\u304c\u30b3\u30e1\u30f3\u30c8\u6b04\u3067\u30b7\u30f3\u30d7\u30eb\u306a\u65b9\u6cd5\u3092\u6559\u3048\u3066\u4e0b\u3055\u3044\u307e\u3057\u305f\n\n\u7279\u306b\u3053\u3060\u308f\u308a\u304c\u306a\u3051\u308c\u3070 grabFrameBuffer \u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u30b7\u30f3\u30d7\u30eb\u304b\u3082\u3057\u308c\u307e\u305b\u3093\n\nvoid GLWidget::saveImage() {\n    grabFrameBuffer(false).save(\"file.jpg\");\n}\n\n# OpenGL\u3092Qt\u304b\u3089\u4f7f\u3063\u3066\u3044\u308b\u6642\u306b\uff0cOpenGL\u306e\u8868\u793a\u3092\u753b\u50cf\u3068\u3057\u3066\u4fdd\u5b58\u3059\u308b\u65b9\u6cd5\uff0e\n\nQGLWidget\u3092\u7d99\u627f\u3057\u305f\u30af\u30e9\u30b9GLWidget\u304c\u3042\u308b\uff0e\n\n```cpp\nGLWidget::GLWidget(QWidget *parent)\n    : QGLWidget(QGLFormat(QGL::SampleBuffers), parent) {\n}\n```\n\nGLWidget\u3067\u63cf\u753b\u3055\u308c\u3066\u3044\u308b\u753b\u9762\u3092\u753b\u50cf\u3068\u3057\u3066\u4fdd\u5b58\u3059\u308b\u306b\u306f\u3053\u3093\u306a\u611f\u3058\uff0e\n\n```cpp\nvoid GLWidget::saveImage() {\n\tQImage img = QImage(this->size(), QImage::Format_ARGB32_Premultiplied);\n\tglReadPixels(0, 0, this->width(), this->height(), GL_RGBA, GL_UNSIGNED_BYTE, img.bits());\n\timg = img.rgbSwapped();\n\timg = img.mirrored();\n\timg.save(\"file.jpg\");\n}\n```\n\n`rgbSwapped()`\u306fRGB\u2192BGR\u306b\u52b9\u7387\u7684\u306b\u5909\u63db\u3059\u308b\uff0eOpenGL\u3092Qt\u306b\u5408\u308f\u305b\u308b\u305f\u3081\uff0e\n`mirrored()`\u306f\u753b\u50cf\u3092\u30df\u30e9\u30fc\u3059\u308b\uff0e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9\u306e\u5ea7\u6a19\u3092OpenGL\u306e\u5ea7\u6a19\u304b\u3089Qt\u306e\u5ea7\u6a19\u306b\u79fb\u3059\u305f\u3081\uff0e\n\n# \u8ffd\u8a18\n@shimacpyon \u3055\u3093\u304c\u30b3\u30e1\u30f3\u30c8\u6b04\u3067\u30b7\u30f3\u30d7\u30eb\u306a\u65b9\u6cd5\u3092\u6559\u3048\u3066\u4e0b\u3055\u3044\u307e\u3057\u305f\n>\u7279\u306b\u3053\u3060\u308f\u308a\u304c\u306a\u3051\u308c\u3070 grabFrameBuffer \u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u30b7\u30f3\u30d7\u30eb\u304b\u3082\u3057\u308c\u307e\u305b\u3093\n\n```cpp\nvoid GLWidget::saveImage() {\n    grabFrameBuffer(false).save(\"file.jpg\");\n}\n```\n", "tags": ["C", "Qt", "OpenGL"]}