{"context": " More than 1 year has passed since last update.OS X \u3067\u3082 10.10 \u3088\u308a GestureRecognizer \u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u305d\u3053\u3067\u3001\u3088\u305b\u3070\u3044\u3044\u306e\u306b NSClickGestureRecognizer \u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3046\u4eba\u304c\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305d\u306e\u6642\u306b\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u3068\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u30a2\u30d7\u30ea\u306e\u6319\u52d5\u3092\u5909\u3048\u305f\u3044\u4e8b\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u305d\u3093\u306a\u6642\u306b\u306f\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u7528\u306eNSClickGestureRecognizer \u3068\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u7528\u306eNSClickGestureRecognizer \u3092\u5b9f\u88c5\u3059\u308c\u3070\u3044\u3044\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3088\u306d\u3002\nclass MyViewController: NSViewController {\n    // \u7701\u7565\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        // \u7701\u7565\n        let singleClickGesture = NSClickGestureRecognizer(target: self, action: \"singleClickGesture:\")\n        singleClickGesture.numberOfClicksRequired = 1 // single\n        self.view.addGestureRecognizer(singleClickGesture)\n\n        let doubleClickGesture = NSClickGestureRecognizer(target: self, action: \"doubleClickGesture:\")\n        doubleClickGesture.numberOfClicksRequired = 2 // double\n        self.view.addGestureRecognizer(doubleClickGesture)\n    }\n    // \u7701\u7565\n}\n\n\u554f\u984c\u306f\u3001\u3053\u308c\u3067\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3092\u884c\u3046\u3068\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u3068\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3068\u4e21\u65b9\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n    func singleClickGesture(gesture: NSClickGestureRecognizer) {\n        if gesture.state == .Ended {\n            print(\"single click\")\n        }\n    }\n\n    func doubleClickGesture(gesture: NSClickGestureRecognizer) {\n        if gesture.state == .Ended {\n            print(\"double click\")\n        }\n    }\n\n\u8a66\u3057\u306b\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\nsingle click\ndouble click\n\niOS\u306e\u5834\u5408\u306f requireGestureRecognizerToFail \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u3066\u3001\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u304c\u5931\u6557\u3057\u305f\u6642\u306e\u307f\u30b7\u30f3\u30b0\u30eb\u30bf\u30c3\u30d7\u3092\u6709\u52b9\u306b\u3067\u304d\u307e\u3057\u305f\u3002\u3068\u3053\u308d\u304c OS X \u306b\u306f\u3053\u306e requireGestureRecognizerToFail \u304c\u3042\u308a\u307e\u305b\u3093\u3002OS X \u306f\u5f8c\u767a\u306a\u306e\u3067\u3053\u306e\u8fba\u983c\u307f\u307e\u3059\u3088\u3068\u8a00\u3044\u305f\u3044\u6240\u3067\u3059\u3002\nsingleTapGesture.requireGestureRecognizerToFail(doubleTapGesture)\n\nDeveloper Forums \u306b\u3082\u8cea\u554f\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u7b54\u3048\u306f\u51fa\u3066\u3044\u307e\u305b\u3093\uff082016\u5e741\u6708\u73fe\u5728\uff09\u3002\nhttps://forums.developer.apple.com/thread/21347\n\u3055\u3066\u6c17\u3092\u53d6\u308a\u623b\u3057\u3066\u3001delegate \u3092\u8abf\u3079\u3066\u307f\u308b\u4e8b\u306b\u3057\u307e\u3059\u3002\noptional func gestureRecognizer(_ gestureRecognizer: NSGestureRecognizer,\nshouldRequireFailureOfGestureRecognizer otherGestureRecognizer: NSGestureRecognizer) -> Bool\n\n\nAsks the delegate if the current gesture recognizer must wait to recognize its gesture until the specified gesture recognizer fails.\nReturn Value\nYES if otherGestureRecognizer must fail before gestureRecognizer is allowed to recognize its gesture. If you do not implement this method, the default return value is NO.\nDiscussion\nThis method is called once per attempt to recognize, so you can change the failure requirements dynamically. The two gesture recognizers do not have to belong to the same view hierarchy.\nReturning YES is guaranteed to set up the failure requirement; returning NO does not prevent the failure requirement from being set up by the other gesture recognizer.\n\n\u306a\u3093\u3060\u304b\u4f7f\u3048\u305d\u3046\u306a\u4e88\u611f\u304c\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u306f\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u306e\u307f\u6709\u52b9\u3068\u3067\u304d\u305d\u3046\u3067\u3059\u306d\u3002\u3061\u3083\u3093\u3068 delegate \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nclass MyViewController: NSViewController, NSGestureRecognizerDelegate {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        // some code\n\n        let singleClickGesture = NSClickGestureRecognizer(target: self, action: \"singleClickGesture:\")\n        singleClickGesture.numberOfClicksRequired = 1 // single\n        singleClickGesture.delegate = self\n        self.view.addGestureRecognizer(singleClickGesture)\n\n        let doubleClickGesture = NSClickGestureRecognizer(target: self, action: \"doubleClickGesture:\")\n        doubleClickGesture.numberOfClicksRequired = 2 // double\n        doubleClickGesture.delegate = self\n        self.view.addGestureRecognizer(doubleClickGesture)\n    }\n\n    func gestureRecognizer(_ gestureRecognizer: NSGestureRecognizer, shouldRequireFailureOfGestureRecognizer otherGestureRecognizer: NSGestureRecognizer) -> Bool {\n        if let gestureRecognizer1 = gestureRecognizer as? NSClickGestureRecognizer,\n           let gestureRecognizer2 = otherGestureRecognizer as? NSClickGestureRecognizer\n           where gestureRecognizer1.numberOfClicksRequired == 1 && \n                 gestureRecognizer2.numberOfClicksRequired == 2 {\n            return true\n        }\n        return false\n    }\n    // \u7701\u7565\n}\n\n\u8a66\u3057\u306b\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\ndouble click\n\n\u3067\u306f\u4eca\u5ea6\u306f\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\nsingle click\n\n\u3053\u308c\u3067\u3001\u3046\u307e\u304f\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3068\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u3092\u8b58\u5225\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\nOS X \u3067\u3082 10.10 \u3088\u308a GestureRecognizer \u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u305d\u3053\u3067\u3001\u3088\u305b\u3070\u3044\u3044\u306e\u306b NSClickGestureRecognizer \u3092\u4f7f\u3063\u3066\u307f\u305f\u3044\u3068\u601d\u3046\u4eba\u304c\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305d\u306e\u6642\u306b\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u3068\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3067\u30a2\u30d7\u30ea\u306e\u6319\u52d5\u3092\u5909\u3048\u305f\u3044\u4e8b\u3082\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u305d\u3093\u306a\u6642\u306b\u306f\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u7528\u306eNSClickGestureRecognizer \u3068\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u7528\u306eNSClickGestureRecognizer \u3092\u5b9f\u88c5\u3059\u308c\u3070\u3044\u3044\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3088\u306d\u3002\n\n```swift\nclass MyViewController: NSViewController {\n\t// \u7701\u7565\n\toverride func viewDidLoad() {\n\t\tsuper.viewDidLoad()\n\n\t\t// \u7701\u7565\n\t\tlet singleClickGesture = NSClickGestureRecognizer(target: self, action: \"singleClickGesture:\")\n\t\tsingleClickGesture.numberOfClicksRequired = 1 // single\n\t\tself.view.addGestureRecognizer(singleClickGesture)\n\n\t\tlet doubleClickGesture = NSClickGestureRecognizer(target: self, action: \"doubleClickGesture:\")\n\t\tdoubleClickGesture.numberOfClicksRequired = 2 // double\n\t\tself.view.addGestureRecognizer(doubleClickGesture)\n\t}\n\t// \u7701\u7565\n}\n```\n\n\u554f\u984c\u306f\u3001\u3053\u308c\u3067\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3092\u884c\u3046\u3068\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u3068\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3068\u4e21\u65b9\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3070\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n```swift\n\tfunc singleClickGesture(gesture: NSClickGestureRecognizer) {\n\t\tif gesture.state == .Ended {\n\t\t\tprint(\"single click\")\n\t\t}\n\t}\n\n\tfunc doubleClickGesture(gesture: NSClickGestureRecognizer) {\n\t\tif gesture.state == .Ended {\n\t\t\tprint(\"double click\")\n\t\t}\n\t}\n```\n\u8a66\u3057\u306b\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```console\nsingle click\ndouble click\n```\niOS\u306e\u5834\u5408\u306f `requireGestureRecognizerToFail` \u3068\u3044\u3046\u30e1\u30bd\u30c3\u30c9\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u3066\u3001\u30c0\u30d6\u30eb\u30bf\u30c3\u30d7\u304c\u5931\u6557\u3057\u305f\u6642\u306e\u307f\u30b7\u30f3\u30b0\u30eb\u30bf\u30c3\u30d7\u3092\u6709\u52b9\u306b\u3067\u304d\u307e\u3057\u305f\u3002\u3068\u3053\u308d\u304c OS X \u306b\u306f\u3053\u306e `requireGestureRecognizerToFail` \u304c\u3042\u308a\u307e\u305b\u3093\u3002OS X \u306f\u5f8c\u767a\u306a\u306e\u3067\u3053\u306e\u8fba\u983c\u307f\u307e\u3059\u3088\u3068\u8a00\u3044\u305f\u3044\u6240\u3067\u3059\u3002\n\n```\nsingleTapGesture.requireGestureRecognizerToFail(doubleTapGesture)\n```\nDeveloper Forums \u306b\u3082\u8cea\u554f\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u7b54\u3048\u306f\u51fa\u3066\u3044\u307e\u305b\u3093\uff082016\u5e741\u6708\u73fe\u5728\uff09\u3002\nhttps://forums.developer.apple.com/thread/21347\n\n\u3055\u3066\u6c17\u3092\u53d6\u308a\u623b\u3057\u3066\u3001delegate \u3092\u8abf\u3079\u3066\u307f\u308b\u4e8b\u306b\u3057\u307e\u3059\u3002\n\n```swift\noptional func gestureRecognizer(_ gestureRecognizer: NSGestureRecognizer,\nshouldRequireFailureOfGestureRecognizer otherGestureRecognizer: NSGestureRecognizer) -> Bool\n```\n\n> Asks the delegate if the current gesture recognizer must wait to recognize its gesture until the specified gesture recognizer fails.\n> **Return Value**\n> YES if otherGestureRecognizer must fail before gestureRecognizer is allowed to recognize its gesture. If you do not implement this method, the default return value is NO.\n> **Discussion**\n> This method is called once per attempt to recognize, so you can change the failure requirements dynamically. The two gesture recognizers do not have to belong to the same view hierarchy.\n>\n> Returning YES is guaranteed to set up the failure requirement; returning NO does not prevent the failure requirement from being set up by the other gesture recognizer.\n\n\u306a\u3093\u3060\u304b\u4f7f\u3048\u305d\u3046\u306a\u4e88\u611f\u304c\u3057\u307e\u3059\u3002\u3053\u308c\u3067\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u306f\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u304c\u5931\u6557\u3057\u305f\u5834\u5408\u306e\u307f\u6709\u52b9\u3068\u3067\u304d\u305d\u3046\u3067\u3059\u306d\u3002\u3061\u3083\u3093\u3068 delegate \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```swift\nclass MyViewController: NSViewController, NSGestureRecognizerDelegate {\n\n\toverride func viewDidLoad() {\n\t\tsuper.viewDidLoad()\n\n\t\t// some code\n\n\t\tlet singleClickGesture = NSClickGestureRecognizer(target: self, action: \"singleClickGesture:\")\n\t\tsingleClickGesture.numberOfClicksRequired = 1 // single\n\t\tsingleClickGesture.delegate = self\n\t\tself.view.addGestureRecognizer(singleClickGesture)\n\n\t\tlet doubleClickGesture = NSClickGestureRecognizer(target: self, action: \"doubleClickGesture:\")\n\t\tdoubleClickGesture.numberOfClicksRequired = 2 // double\n\t\tdoubleClickGesture.delegate = self\n\t\tself.view.addGestureRecognizer(doubleClickGesture)\n\t}\n\n\tfunc gestureRecognizer(_ gestureRecognizer: NSGestureRecognizer, shouldRequireFailureOfGestureRecognizer otherGestureRecognizer: NSGestureRecognizer) -> Bool {\n\t\tif let gestureRecognizer1 = gestureRecognizer as? NSClickGestureRecognizer,\n\t\t   let gestureRecognizer2 = otherGestureRecognizer as? NSClickGestureRecognizer\n\t\t   where gestureRecognizer1.numberOfClicksRequired == 1 && \n\t\t         gestureRecognizer2.numberOfClicksRequired == 2 {\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\t// \u7701\u7565\n}\n```\n\n\u8a66\u3057\u306b\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```console\ndouble click\n```\n\n\u3067\u306f\u4eca\u5ea6\u306f\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\n\n```console\nsingle click\n```\n\n\u3053\u308c\u3067\u3001\u3046\u307e\u304f\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3068\u30b7\u30f3\u30b0\u30eb\u30af\u30ea\u30c3\u30af\u3092\u8b58\u5225\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n", "tags": ["Swift", "Cocoa"]}