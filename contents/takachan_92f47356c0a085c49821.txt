{"tags": ["CloudFormation", "vpc", "AWS"], "context": " More than 1 year has passed since last update.\n\n\u3053\u306e\u3088\u3046\u306a\u69cb\u6210\u304c\u51fa\u6765\u4e0a\u304c\u308a\u307e\u3059\n\n\n\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u4efb\u610f\u3067\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n\n\ntemplate\n\ncreate_vpc.json\n{\n  \"AWSTemplateFormatVersion\" : \"2010-09-09\",\n  \"Description\" : \"Create AWS CloudFormation Customize Virtual Private Cloud\",\n  \"Parameters\" : {\n    \"VpcName\": {\n      \"Description\" : \"Please input VPC name.\",\n      \"Type\": \"String\",\n      \"Default\" : \"demo-vpc\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcCidrBlock\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in VPC.\",\n      \"Default\" : \"10.0.0.0/16\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/16\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameDMZa\": {\n      \"Description\" : \"Please input the subnet name of DMZ-a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-dmz-a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockDMZa\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in DMZ-a.\",\n      \"Default\" : \"10.0.10.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameDMZc\": {\n      \"Description\" : \"Please input the subnet name of DMZ-c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-dmz-c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockDMZc\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in DMZ-c.\",\n      \"Default\" : \"10.0.20.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameFRONTa\": {\n      \"Description\" : \"Please input the subnet name of FRONT-a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-frontend-a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockFRONTa\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in FRONT-a.\",\n      \"Default\" : \"10.0.30.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameFRONTc\": {\n      \"Description\" : \"Please input the subnet name of FRONT-c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-frontend-c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockFRONTc\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in FRONT-c.\",\n      \"Default\" : \"10.0.40.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameBACKa\": {\n      \"Description\" : \"Please input the subnet name of BACK-a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-backend-a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockBACKa\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in BACK-a.\",\n      \"Default\" : \"10.0.50.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameBACKc\": {\n      \"Description\" : \"Please input the subnet name of BACK-c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-backend-c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockBACKc\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in BACK-c.\",\n      \"Default\" : \"10.0.60.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"InternetGatewayName\": {\n      \"Description\" : \"Please input the name of Internet Gateway.\",\n      \"Type\": \"String\",\n      \"Default\" : \"demo-igw\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    }\n  },\n\n  \"Mappings\" : {},\n\n  \"Resources\" : {\n    \"VPC\" : {\n      \"Type\" : \"AWS::EC2::VPC\",\n      \"Properties\" : {\n        \"CidrBlock\" : { \"Ref\" : \"VpcCidrBlock\" },\n        \"EnableDnsSupport\" : \"true\",\n        \"EnableDnsHostnames\" : \"true\",\n        \"Tags\" : [\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcName\" } }\n        ]\n      }\n    },\n    \"Subnetdmza\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockDMZa\" },\n          \"MapPublicIpOnLaunch\" : true,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameDMZa\" } }\n          ]\n       }\n    },\n    \"Subnetdmzc\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockDMZc\" },\n          \"MapPublicIpOnLaunch\" : true,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameDMZc\" } }\n          ]\n       }\n    },\n    \"Subnetfrontenda\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockFRONTa\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameFRONTa\" } }\n          ]\n       }\n    },\n    \"Subnetfrontendc\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockFRONTc\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameFRONTc\" } }\n          ]\n       }\n    },\n    \"Subnetbackenda\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockBACKa\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameBACKa\" } }\n          ]\n       }\n    },\n    \"Subnetbackendc\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockBACKc\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameBACKc\" } }\n          ]\n       }\n    },\n    \"InternetGateway\" : {\n      \"Type\" : \"AWS::EC2::InternetGateway\",\n      \"Properties\" : {\n        \"Tags\" : [\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"InternetGatewayName\" } }\n        ]\n      }\n    },\n    \"GatewayToInternet\" : {\n       \"Type\" : \"AWS::EC2::VPCGatewayAttachment\",\n       \"Properties\" : {\n         \"VpcId\" : { \"Ref\" : \"VPC\" },\n         \"InternetGatewayId\" : { \"Ref\" : \"InternetGateway\" }\n       }\n    },\n    \"PublicRouteTable\" : {\n      \"Type\" : \"AWS::EC2::RouteTable\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" },\n        \"Tags\" : [\n          { \"Key\" : \"Application\", \"Value\" : { \"Ref\" : \"AWS::StackId\" } },\n          { \"Key\" : \"Network\", \"Value\" : \"Public\" }\n        ]\n      }\n    },\n    \"PublicRoute\" : {\n      \"Type\" : \"AWS::EC2::Route\",\n      \"DependsOn\" : \"GatewayToInternet\",\n      \"Properties\" : {\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" },\n        \"DestinationCidrBlock\" : \"0.0.0.0/0\",\n        \"GatewayId\" : { \"Ref\" : \"InternetGateway\" }\n      }\n    },\n    \"PublicSubnetRouteTableAssociation1\" : {\n      \"Type\" : \"AWS::EC2::SubnetRouteTableAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"Subnetdmza\" },\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" }\n      }\n    },\n    \"PublicSubnetRouteTableAssociation2\" : {\n      \"Type\" : \"AWS::EC2::SubnetRouteTableAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"Subnetdmzc\" },\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" }\n      }\n    },\n    \"PublicNetworkAcl\" : {\n      \"Type\" : \"AWS::EC2::NetworkAcl\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" }\n      }\n    }\n  },\n\n  \"Outputs\" : {}\n}\n\n\n## \u3053\u306e\u3088\u3046\u306a\u69cb\u6210\u304c\u51fa\u6765\u4e0a\u304c\u308a\u307e\u3059\n![vpc.png](https://qiita-image-store.s3.amazonaws.com/0/24337/0f6ed013-b214-a42e-42b3-ce84185bbe90.png \"vpc.png\")\n\n\n## \u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u4efb\u610f\u3067\u5165\u529b\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002\n![kobito.1447866350.676477.png](https://qiita-image-store.s3.amazonaws.com/0/24337/67b323ec-cb42-ddd7-2eac-9b492418458e.png \"kobito.1447866350.676477.png\")\n\n## template\n```create_vpc.json\n{\n  \"AWSTemplateFormatVersion\" : \"2010-09-09\",\n  \"Description\" : \"Create AWS CloudFormation Customize Virtual Private Cloud\",\n  \"Parameters\" : {\n    \"VpcName\": {\n      \"Description\" : \"Please input VPC name.\",\n      \"Type\": \"String\",\n      \"Default\" : \"demo-vpc\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcCidrBlock\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in VPC.\",\n      \"Default\" : \"10.0.0.0/16\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/16\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameDMZa\": {\n      \"Description\" : \"Please input the subnet name of DMZ-a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-dmz-a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockDMZa\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in DMZ-a.\",\n      \"Default\" : \"10.0.10.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameDMZc\": {\n      \"Description\" : \"Please input the subnet name of DMZ-c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-dmz-c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockDMZc\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in DMZ-c.\",\n      \"Default\" : \"10.0.20.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameFRONTa\": {\n      \"Description\" : \"Please input the subnet name of FRONT-a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-frontend-a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockFRONTa\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in FRONT-a.\",\n      \"Default\" : \"10.0.30.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameFRONTc\": {\n      \"Description\" : \"Please input the subnet name of FRONT-c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-frontend-c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockFRONTc\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in FRONT-c.\",\n      \"Default\" : \"10.0.40.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameBACKa\": {\n      \"Description\" : \"Please input the subnet name of BACK-a.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-backend-a\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockBACKa\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in BACK-a.\",\n      \"Default\" : \"10.0.50.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"VpcSubnetNameBACKc\": {\n      \"Description\" : \"Please input the subnet name of BACK-c.\",\n      \"Type\": \"String\",\n      \"Default\" : \"vpc-backend-c\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    },\n    \"VpcSubnetCidrBlockBACKc\" : {\n      \"Type\" : \"String\",\n      \"Description\" : \"Please input an IP range in BACK-c.\",\n      \"Default\" : \"10.0.60.0/24\",\n      \"AllowedPattern\": \"(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})\\\\.(\\\\d{1,3})/24\",\n      \"ConstraintDescription\": \"\"\n    },\n    \"InternetGatewayName\": {\n      \"Description\" : \"Please input the name of Internet Gateway.\",\n      \"Type\": \"String\",\n      \"Default\" : \"demo-igw\",\n      \"AllowedPattern\" : \"[-a-zA-Z0-9]*\",\n      \"ConstraintDescription\" : \"\"\n    }\n  },\n\n  \"Mappings\" : {},\n\n  \"Resources\" : {\n    \"VPC\" : {\n      \"Type\" : \"AWS::EC2::VPC\",\n      \"Properties\" : {\n        \"CidrBlock\" : { \"Ref\" : \"VpcCidrBlock\" },\n        \"EnableDnsSupport\" : \"true\",\n        \"EnableDnsHostnames\" : \"true\",\n        \"Tags\" : [\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcName\" } }\n        ]\n      }\n    },\n    \"Subnetdmza\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockDMZa\" },\n          \"MapPublicIpOnLaunch\" : true,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameDMZa\" } }\n          ]\n       }\n    },\n    \"Subnetdmzc\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockDMZc\" },\n          \"MapPublicIpOnLaunch\" : true,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameDMZc\" } }\n          ]\n       }\n    },\n    \"Subnetfrontenda\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockFRONTa\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameFRONTa\" } }\n          ]\n       }\n    },\n    \"Subnetfrontendc\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockFRONTc\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameFRONTc\" } }\n          ]\n       }\n    },\n    \"Subnetbackenda\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1a\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockBACKa\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameBACKa\" } }\n          ]\n       }\n    },\n    \"Subnetbackendc\" : {\n       \"Type\" : \"AWS::EC2::Subnet\",\n       \"Properties\" : {\n          \"VpcId\" : { \"Ref\" : \"VPC\" },\n          \"AvailabilityZone\" : \"ap-northeast-1c\",\n          \"CidrBlock\" : { \"Ref\" : \"VpcSubnetCidrBlockBACKc\" },\n          \"MapPublicIpOnLaunch\" : false,\n          \"Tags\" : [\n            { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"VpcSubnetNameBACKc\" } }\n          ]\n       }\n    },\n    \"InternetGateway\" : {\n      \"Type\" : \"AWS::EC2::InternetGateway\",\n      \"Properties\" : {\n        \"Tags\" : [\n          { \"Key\" : \"Name\", \"Value\" : { \"Ref\" : \"InternetGatewayName\" } }\n        ]\n      }\n    },\n    \"GatewayToInternet\" : {\n       \"Type\" : \"AWS::EC2::VPCGatewayAttachment\",\n       \"Properties\" : {\n         \"VpcId\" : { \"Ref\" : \"VPC\" },\n         \"InternetGatewayId\" : { \"Ref\" : \"InternetGateway\" }\n       }\n    },\n    \"PublicRouteTable\" : {\n      \"Type\" : \"AWS::EC2::RouteTable\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" },\n        \"Tags\" : [\n          { \"Key\" : \"Application\", \"Value\" : { \"Ref\" : \"AWS::StackId\" } },\n          { \"Key\" : \"Network\", \"Value\" : \"Public\" }\n        ]\n      }\n    },\n    \"PublicRoute\" : {\n      \"Type\" : \"AWS::EC2::Route\",\n      \"DependsOn\" : \"GatewayToInternet\",\n      \"Properties\" : {\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" },\n        \"DestinationCidrBlock\" : \"0.0.0.0/0\",\n        \"GatewayId\" : { \"Ref\" : \"InternetGateway\" }\n      }\n    },\n    \"PublicSubnetRouteTableAssociation1\" : {\n      \"Type\" : \"AWS::EC2::SubnetRouteTableAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"Subnetdmza\" },\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" }\n      }\n    },\n    \"PublicSubnetRouteTableAssociation2\" : {\n      \"Type\" : \"AWS::EC2::SubnetRouteTableAssociation\",\n      \"Properties\" : {\n        \"SubnetId\" : { \"Ref\" : \"Subnetdmzc\" },\n        \"RouteTableId\" : { \"Ref\" : \"PublicRouteTable\" }\n      }\n    },\n    \"PublicNetworkAcl\" : {\n      \"Type\" : \"AWS::EC2::NetworkAcl\",\n      \"Properties\" : {\n        \"VpcId\" : { \"Ref\" : \"VPC\" }\n      }\n    }\n  },\n\n  \"Outputs\" : {}\n}\n```\n"}