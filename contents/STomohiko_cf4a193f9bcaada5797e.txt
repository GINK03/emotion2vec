{"tags": ["dpdk", "Linux", "Network", "intel"], "context": " More than 1 year has passed since last update.\n\nDPDK Install\n\n\u5bfe\u8c61\u74b0\u5883\nCentOS 7.1\nDPDK Version 2.1.0\n\n\u4e8b\u524d\u6e96\u5099\n# yum install kernel-headers kernel-devel gcc libpcap-devel\n\n\nDownload\nhttp://dpdk.org/download\n\u3053\u306e\u30b5\u30a4\u30c8\u304b\u3089Download\n# wget http://dpdk.org/browse/dpdk/snapshot/dpdk-2.1.0.tar.gz\n\n\n\u5c55\u958b\n# tar zxvf dpdk-2.1.0.tar.gz\n# cd dpdk-2.1.0/\n\n\n\u8a2d\u5b9a & make\n# make config T=x86_64-native-linuxapp-gcc\nConfiguration done\n# sed -ri 's,(PMD_PCAP=).*,\\1y,' build/.config\n# make\n~~~~~ snip ~~~~~~~\nBuild complete [x86_64-native-linuxapp-gcc]\n\n\nhuge\u30da\u30fc\u30b8\u306e\u78ba\u4fdd\n# mkdir -p /mnt/huge\n# mount -t hugetlbfs nodev /mnt/huge\n# echo 64 > /sys/devices/system/node/node0/hugepages/hugepages-2048kB/nr_hugepages\n\n\nDriver Test\n# build/app/testpmd -c7 -n3 --vdev=eth_pcap0,iface=eth0 --vdev=eth_pcap1,iface=eth1 -- -i --nb-cores=2 --nb-ports=2 --total-num-mbufs=2048\n~~~~~ snip ~~~~~~~\ntestpmd>  show port stats all\n\n  ######################## NIC statistics for port 0  ########################\n  RX-packets: 0          RX-missed: 0          RX-bytes:  0\n  RX-badcrc:  0          RX-badlen: 0          RX-errors: 0\n  RX-nombuf:  0\n  TX-packets: 0          TX-errors: 0          TX-bytes:  0\n  ############################################################################\n\n  ######################## NIC statistics for port 1  ########################\n  RX-packets: 0          RX-missed: 0          RX-bytes:  0\n  RX-badcrc:  0          RX-badlen: 0          RX-errors: 0\n  RX-nombuf:  0\n  TX-packets: 0          TX-errors: 0          TX-bytes:  0\n  ############################################################################\n\n\n\n\u53c2\u8003URL\nhttp://dpdk.org/doc/quick-start\n# DPDK Install\n## \u5bfe\u8c61\u74b0\u5883\nCentOS 7.1\nDPDK Version 2.1.0\n\n## \u4e8b\u524d\u6e96\u5099\n```\n# yum install kernel-headers kernel-devel gcc libpcap-devel\n```\n## Download\nhttp://dpdk.org/download\n\u3053\u306e\u30b5\u30a4\u30c8\u304b\u3089Download\n\n```shell-session\n# wget http://dpdk.org/browse/dpdk/snapshot/dpdk-2.1.0.tar.gz\n```\n\n## \u5c55\u958b\n```\n# tar zxvf dpdk-2.1.0.tar.gz\n# cd dpdk-2.1.0/\n```\n\n## \u8a2d\u5b9a & make\n```\n# make config T=x86_64-native-linuxapp-gcc\nConfiguration done\n# sed -ri 's,(PMD_PCAP=).*,\\1y,' build/.config\n# make\n~~~~~ snip ~~~~~~~\nBuild complete [x86_64-native-linuxapp-gcc]\n```\n\n## huge\u30da\u30fc\u30b8\u306e\u78ba\u4fdd\n```\n# mkdir -p /mnt/huge\n# mount -t hugetlbfs nodev /mnt/huge\n# echo 64 > /sys/devices/system/node/node0/hugepages/hugepages-2048kB/nr_hugepages\n```\n \n## Driver Test\n```\n# build/app/testpmd -c7 -n3 --vdev=eth_pcap0,iface=eth0 --vdev=eth_pcap1,iface=eth1 -- -i --nb-cores=2 --nb-ports=2 --total-num-mbufs=2048\n~~~~~ snip ~~~~~~~\ntestpmd>  show port stats all\n\n  ######################## NIC statistics for port 0  ########################\n  RX-packets: 0          RX-missed: 0          RX-bytes:  0\n  RX-badcrc:  0          RX-badlen: 0          RX-errors: 0\n  RX-nombuf:  0\n  TX-packets: 0          TX-errors: 0          TX-bytes:  0\n  ############################################################################\n\n  ######################## NIC statistics for port 1  ########################\n  RX-packets: 0          RX-missed: 0          RX-bytes:  0\n  RX-badcrc:  0          RX-badlen: 0          RX-errors: 0\n  RX-nombuf:  0\n  TX-packets: 0          TX-errors: 0          TX-bytes:  0\n  ############################################################################\n\n```\n# \u53c2\u8003URL\nhttp://dpdk.org/doc/quick-start\n"}