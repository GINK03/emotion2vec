{"context": "\n\n\u76ee\u7684\u3068\u3059\u308b\u95a2\u6570\n\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u9762\u306f\u304a\u3044\u3068\u3044\u3066\uff0c\u5229\u4fbf\u6027\u306e\u9762\u304b\u3089\u3053\u3093\u306a\u95a2\u6570\u304c\u6b32\u3057\u3044\uff0e\u3067\u304d\u308c\u3070eval\u306f\u4f7f\u3044\u305f\u304f\u306a\u3044\uff0e\n<?php\n\n$array = [\n    'a' => [\n        'b' => [\n            'c' => 1,\n        ],\n    ],\n];\n\nvar_dump(array_get($array, 'a.b')); // ['c' => 1]\nvar_dump(array_get($array, 'a.b.c')); // int(1)\nvar_dump(array_get($array, 'a.b.x')); // NULL\n\narray_set($array, 'a.b.d', 2);\nvar_dump(array_get($array, 'a.b')); // ['c' => 1, 'd' => 2]\n\narray_unset($array, 'a.b.c');\nvar_dump(array_get($array, 'a.b')); // ['d' => 2]\n\narray_unset($array, 'a.x');\nvar_dump(array_get($array, 'a')); // ['b' => ['d' => 2]]\n\narray_unset($array, 'a');\nvar_dump($array); // []\n\n\n\u5b9f\u88c5\narray_unset\u3060\u3051\u3061\u3087\u3063\u3068\u8907\u96d1\u306b\u306a\u3063\u3066\u307e\u3059\uff0e\n\n\u8981\u7d20\u3092\u524a\u9664\u3059\u308b\u305f\u3081\u306b\u306f\u5fc5\u305a\u89aa\u304c\u5fc5\u8981\u306a\u306e\u3067$current\u3092\u8fbf\u308a\u3064\u3064$parent\u3082\u540c\u6642\u306b\u305a\u3089\u3057\u3066\u3044\u304f\n\u5b58\u5728\u3057\u306a\u3044\u8981\u7d20\u3092\u53c2\u7167\u4ee3\u5165\u3067\u4f5c\u3063\u3066\u3057\u307e\u308f\u306a\u3044\u3088\u3046\u306barray_key_exists\u3067\u306e\u30c1\u30a7\u30c3\u30af\u304c\u5fc5\u8981\n\n<?php\n\nfunction array_get(array $array, $path, $separator = '.') {\n    $keys = explode($separator, $path);\n    $current = $array;\n    foreach ($keys as $key) {\n        if (!isset($current[$key])) return;\n        $current = $current[$key];\n    }\n    return $current;\n}\n\nfunction array_set(array &$array, $path, $value, $separator = '.') {\n    $keys = explode($separator, $path);\n    $current = &$array;\n    foreach ($keys as $key) {\n        $current = &$current[$key];\n    }\n    $current = $value;\n}\n\nfunction array_unset(array &$array, $path, $separator = '.') {\n    $keys = explode($separator, $path);\n    $current = &$array;\n    $parent = &$array;\n    foreach ($keys as $i => $key) {\n        if (!array_key_exists($key, $current)) return;\n        if ($i) $parent = &$current;\n        $current = &$current[$key];\n    }\n    unset($parent[$key]);\n}\n\n# \u76ee\u7684\u3068\u3059\u308b\u95a2\u6570\n\n\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u9762\u306f\u304a\u3044\u3068\u3044\u3066\uff0c\u5229\u4fbf\u6027\u306e\u9762\u304b\u3089\u3053\u3093\u306a\u95a2\u6570\u304c\u6b32\u3057\u3044\uff0e\u3067\u304d\u308c\u3070`eval`\u306f\u4f7f\u3044\u305f\u304f\u306a\u3044\uff0e\n\n```php\n<?php\n\n$array = [\n    'a' => [\n        'b' => [\n            'c' => 1,\n        ],\n    ],\n];\n\nvar_dump(array_get($array, 'a.b')); // ['c' => 1]\nvar_dump(array_get($array, 'a.b.c')); // int(1)\nvar_dump(array_get($array, 'a.b.x')); // NULL\n\narray_set($array, 'a.b.d', 2);\nvar_dump(array_get($array, 'a.b')); // ['c' => 1, 'd' => 2]\n\narray_unset($array, 'a.b.c');\nvar_dump(array_get($array, 'a.b')); // ['d' => 2]\n\narray_unset($array, 'a.x');\nvar_dump(array_get($array, 'a')); // ['b' => ['d' => 2]]\n\narray_unset($array, 'a');\nvar_dump($array); // []\n```\n\n# \u5b9f\u88c5\n\n`array_unset`\u3060\u3051\u3061\u3087\u3063\u3068\u8907\u96d1\u306b\u306a\u3063\u3066\u307e\u3059\uff0e\n\n- \u8981\u7d20\u3092\u524a\u9664\u3059\u308b\u305f\u3081\u306b\u306f\u5fc5\u305a**\u89aa**\u304c\u5fc5\u8981\u306a\u306e\u3067`$current`\u3092\u8fbf\u308a\u3064\u3064`$parent`\u3082\u540c\u6642\u306b\u305a\u3089\u3057\u3066\u3044\u304f\n- \u5b58\u5728\u3057\u306a\u3044\u8981\u7d20\u3092\u53c2\u7167\u4ee3\u5165\u3067\u4f5c\u3063\u3066\u3057\u307e\u308f\u306a\u3044\u3088\u3046\u306b`array_key_exists`\u3067\u306e\u30c1\u30a7\u30c3\u30af\u304c\u5fc5\u8981\n\n```php\n<?php\n\nfunction array_get(array $array, $path, $separator = '.') {\n    $keys = explode($separator, $path);\n    $current = $array;\n    foreach ($keys as $key) {\n        if (!isset($current[$key])) return;\n        $current = $current[$key];\n    }\n    return $current;\n}\n \nfunction array_set(array &$array, $path, $value, $separator = '.') {\n    $keys = explode($separator, $path);\n    $current = &$array;\n    foreach ($keys as $key) {\n        $current = &$current[$key];\n    }\n    $current = $value;\n}\n\nfunction array_unset(array &$array, $path, $separator = '.') {\n    $keys = explode($separator, $path);\n    $current = &$array;\n    $parent = &$array;\n    foreach ($keys as $i => $key) {\n        if (!array_key_exists($key, $current)) return;\n        if ($i) $parent = &$current;\n        $current = &$current[$key];\n    }\n    unset($parent[$key]);\n}\n```\n", "tags": ["PHP", "\u5c0f\u30cd\u30bf"]}