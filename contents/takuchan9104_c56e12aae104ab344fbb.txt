{"context": "\n\n\u6982\u8981\nMac\u3092\u65b0\u898f\u8cfc\u5165\u3084\u30af\u30ea\u30fc\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u6975\u529b\u901f\u3084\u304b\u306b\nCentOS\u6700\u65b0\u7248\u3067Rails\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u624b\u9806\u3092\u307e\u3068\u3081\u307e\u3059\u3002\n\n\u30d0\u30fc\u30b8\u30e7\u30f3(2016/05/04\u73fe\u5728)\n\nOSX El Capitan 10.11.3\nvagrant 1.8.1 \nVirtualbox 5.0.14\nCentOS 7.2\nRails 4.2.6\nRuby 2.3.1\nMariaDB 5.5x\n\n\nVagrant & VirtualBox\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nbrew install virtualbox\nbrew install vagrant\n\n\nCentos7\u306eBox\u3092\u8ffd\u52a0\u3059\u308b\nhttp://www.vagrantbox.es/ \u304b\u3089 CentOS7.0 x86_64 minimal\u306eURL\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\u3053\u3053\u3067\u306fcentos7mini\u3068\u3044\u3046\u540d\u524d\u3067box\u3092\u8ffd\u52a0\u3059\u308b\nmkdir vagrant\ncd vagrant \n\nvagrant box add centos7mini https://f0fff3908f081cb6461b407be80daf97f07ac418.googledrive.com/host/0BwtuV7VyVTSkUG1PM3pCeDJ4dVE/centos7.box\n\n\nVagrantfile\u306e\u4f5c\u6210&&VM\u7acb\u3061\u4e0a\u3052\nvagrant init centos7mini\nvagrant up\n\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u304c\u4e00\u65e6\u7121\u8996\u3059\u308b\n\u6570\u5206\u3053\u306e\u307e\u307e\u9032\u307e\u306a\u3044\u306e\u3067\u3001\u5f85\u305f\u305a\u306b\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u7acb\u3061\u4e0a\u3052\u3066 vagrant ssh\u3057\u3066\u3082\u826f\u3044\n\n==> default: Mounting shared folders...\n    default: /vagrant => /Users/YOURFOLDER/devel/cent7.2\n\nFailed to mount folders in Linux guest. This is usually because\nthe \"vboxsf\" file system is not available. Please verify that\nthe guest additions are properly installed in the guest and\ncan work properly. The command attempted was:\n\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`getent group vagrant | cut -d: -f3` vagrant /vagrant\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`id -g vagrant` vagrant /vagrant\n\nThe error output from the last command was:\n\n/sbin/mount.vboxsf: mounting failed with the error: No such device\n\n\nVM\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u53ca\u3073Cent7.2\u3078update\nvagrant ssh\nsudo yum -y update\nsudo systemctl disable firewalld\nsudo vi /etc/selinux/config\n\n- \u4ee5\u4e0b\u3092disabled\u306b\u5909\u66f4\u3059\u308b\nSELINUX=disabled\n\nexit\n\n\n\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u5f8c\u306eBox\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\nvagrant package\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u7d42\u308f\u308b\u3068\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bpackage.box\u304c\u4f5c\u6210\u3055\u308c\u308b\uff081GB\u7a0b\u5ea6\u306e\u30b5\u30a4\u30ba\uff09\n\nCentOS7.2 box\u306e\u8ffd\u52a0&\u78ba\u8a8d\nvagrant box add cent7.2 package.box\nvagrant box list\ncent7.2     (virtualbox, 0)\ncentos7mini (virtualbox, 0)\n\n# CentOS7.0\u306eVM\u3084\u305d\u306e\u95a2\u9023\u30d5\u30a1\u30a4\u30eb\u306f\u524a\u9664\u3059\u308b\nvagrant destory\nrm Vagrantfile\nrm package.box\n\n\nCentOS7.2 box\u306e\u7acb\u3061\u4e0a\u3052\nvagrant init cent7.2\n\n\u4efb\u610f\u3067\u30ea\u30bd\u30fc\u30b9\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u3084Ip\u3001\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u7b49\u3092\u8a2d\u5b9a\nvi Vagrantfile\n\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.cpus = 4\n    vb.memory = 1048\n    config.vm.network \"forwarded_port\", guest: 3000, host: 3000\n  end\n\n   config.vm.network \"private_network\", ip: \"192.168.33.10\"\n\n\nconfig.vm.synced_folder \"~/devel\", \"/var/rails/\"\n\u7b49\u306e\u8a18\u8ff0\u3067nfs,\u30d5\u30a9\u30eb\u30c0\u5171\u6709\u306a\u3069\u3067\u304d\u307e\u3059\u304c\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3084\u30b9\u30d4\u30fc\u30c9\u306e\u554f\u984c\u3067\u5d4c\u307e\u308b\u306e\u3067\u4f7f\u7528\u3057\u307e\u305b\u3093\u3002\n\nvagrant up\n\n/sbin/mount.vboxsf: mounting failed with the error: No such device \u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u5834\u5408\u306fvbox\u3092\u30ea\u30d3\u30eb\u30c9\u3059\u308b\nvagrant ssh\nsudo /etc/init.d/vboxadd setup\nexit\n\nvagrant reload\n\n\n\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\n\u4ee5\u4e0b\u3092\u53c2\u7167\u3057\u3066\u5fc5\u8981\u306a\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\nhttp://qiita.com/takuchan9104/items/1abd31c05432d5e81bf8\n\nRails\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u9577\u304f\u306a\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306b\u5206\u5272\u3057\u307e\u3057\u305f\u3002\nhttp://qiita.com/takuchan9104/items/7afc8d1465f11c136183\n\nMariaDB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum -y install mariadb-server mariadb-devel\nsudo systemctl start mariadb\nsudo systemctl enable mariadb\n\nconfig/database.yml\u306e\u7de8\u96c6\n\nconfig/database.yml\ndefault: &default\n  adapter: mysql2\n  pool: 5\n  timeout: 5000\n  username: root\n  password:\n  socket: /var/lib/mysql/mysql.sock\n  encoding: utf8\n\ndevelopment:\n  <<: *default\n  database: db/development\n\n\ndatabase\u306e\u4f5c\u6210\nbin/rake db:create\n\n\nScaffold\u3067\u52d5\u4f5c\u78ba\u8a8d\nbin/rails g scaffold User name:string email:string\n\nbin/rake db:migrate\nbin/rails s -b 0.0.0.0\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089http://192.168.33.10:3000/users \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\n\u9069\u5f53\u306b\u30c7\u30fc\u30bf\u304c\u5165\u529b\u3067\u304d\u308c\u3070\u5b8c\u4e86\uff01\n# \u6982\u8981\nMac\u3092\u65b0\u898f\u8cfc\u5165\u3084\u30af\u30ea\u30fc\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u6975\u529b\u901f\u3084\u304b\u306b\nCentOS\u6700\u65b0\u7248\u3067Rails\u958b\u767a\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u624b\u9806\u3092\u307e\u3068\u3081\u307e\u3059\u3002\n\n###### \u30d0\u30fc\u30b8\u30e7\u30f3(2016/05/04\u73fe\u5728)\n- OSX El Capitan 10.11.3\n- vagrant 1.8.1 \n- Virtualbox 5.0.14\n- CentOS 7.2\n- Rails 4.2.6\n- Ruby 2.3.1\n- MariaDB 5.5x\n\n\n# Vagrant & VirtualBox\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n```\nbrew install virtualbox\nbrew install vagrant\n```\n\n## Centos7\u306eBox\u3092\u8ffd\u52a0\u3059\u308b\nhttp://www.vagrantbox.es/ \u304b\u3089 CentOS7.0 x86_64 minimal\u306eURL\u3092\u30b3\u30d4\u30fc\u3059\u308b\u3002\n\u3053\u3053\u3067\u306fcentos7mini\u3068\u3044\u3046\u540d\u524d\u3067box\u3092\u8ffd\u52a0\u3059\u308b\n\n```\nmkdir vagrant\ncd vagrant \n\nvagrant box add centos7mini https://f0fff3908f081cb6461b407be80daf97f07ac418.googledrive.com/host/0BwtuV7VyVTSkUG1PM3pCeDJ4dVE/centos7.box\n```\n\n## Vagrantfile\u306e\u4f5c\u6210&&VM\u7acb\u3061\u4e0a\u3052\n```\nvagrant init centos7mini\nvagrant up\n```\n\n>\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u304c\u4e00\u65e6\u7121\u8996\u3059\u308b\n\u6570\u5206\u3053\u306e\u307e\u307e\u9032\u307e\u306a\u3044\u306e\u3067\u3001\u5f85\u305f\u305a\u306b\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u7acb\u3061\u4e0a\u3052\u3066 vagrant ssh\u3057\u3066\u3082\u826f\u3044\n\n```\n==> default: Mounting shared folders...\n    default: /vagrant => /Users/YOURFOLDER/devel/cent7.2\n\nFailed to mount folders in Linux guest. This is usually because\nthe \"vboxsf\" file system is not available. Please verify that\nthe guest additions are properly installed in the guest and\ncan work properly. The command attempted was:\n\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`getent group vagrant | cut -d: -f3` vagrant /vagrant\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`id -g vagrant` vagrant /vagrant\n\nThe error output from the last command was:\n\n/sbin/mount.vboxsf: mounting failed with the error: No such device\n```\n\n## VM\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u53ca\u3073Cent7.2\u3078update\n```\nvagrant ssh\nsudo yum -y update\nsudo systemctl disable firewalld\nsudo vi /etc/selinux/config\n\n- \u4ee5\u4e0b\u3092disabled\u306b\u5909\u66f4\u3059\u308b\nSELINUX=disabled\n\nexit\n```\n\n## \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u5f8c\u306eBox\u30d1\u30c3\u30b1\u30fc\u30b8\u5316\n```\nvagrant package\n```\n\n\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u7d42\u308f\u308b\u3068\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306bpackage.box\u304c\u4f5c\u6210\u3055\u308c\u308b\uff081GB\u7a0b\u5ea6\u306e\u30b5\u30a4\u30ba\uff09\n\n## CentOS7.2 box\u306e\u8ffd\u52a0&\u78ba\u8a8d\n```\nvagrant box add cent7.2 package.box\nvagrant box list\ncent7.2     (virtualbox, 0)\ncentos7mini (virtualbox, 0)\n\n# CentOS7.0\u306eVM\u3084\u305d\u306e\u95a2\u9023\u30d5\u30a1\u30a4\u30eb\u306f\u524a\u9664\u3059\u308b\nvagrant destory\nrm Vagrantfile\nrm package.box\n```\n\n## CentOS7.2 box\u306e\u7acb\u3061\u4e0a\u3052\n```\nvagrant init cent7.2\n```\n\n\u4efb\u610f\u3067\u30ea\u30bd\u30fc\u30b9\u3001\u30dd\u30fc\u30c8\u756a\u53f7\u3084Ip\u3001\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u7b49\u3092\u8a2d\u5b9a\n\n```\nvi Vagrantfile\n\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.cpus = 4\n    vb.memory = 1048\n    config.vm.network \"forwarded_port\", guest: 3000, host: 3000\n  end\n\n   config.vm.network \"private_network\", ip: \"192.168.33.10\"\n```\n\n> config.vm.synced_folder \"~/devel\", \"/var/rails/\"\n\u7b49\u306e\u8a18\u8ff0\u3067nfs,\u30d5\u30a9\u30eb\u30c0\u5171\u6709\u306a\u3069\u3067\u304d\u307e\u3059\u304c\u3001\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3084\u30b9\u30d4\u30fc\u30c9\u306e\u554f\u984c\u3067\u5d4c\u307e\u308b\u306e\u3067\u4f7f\u7528\u3057\u307e\u305b\u3093\u3002\n\n\n\n```\nvagrant up\n```\n\n**/sbin/mount.vboxsf: mounting failed with the error: No such device** \u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u5834\u5408\u306fvbox\u3092\u30ea\u30d3\u30eb\u30c9\u3059\u308b\n\n```\nvagrant ssh\nsudo /etc/init.d/vboxadd setup\nexit\n\nvagrant reload\n```\n\n## \u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\n\u4ee5\u4e0b\u3092\u53c2\u7167\u3057\u3066\u5fc5\u8981\u306a\u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\nhttp://qiita.com/takuchan9104/items/1abd31c05432d5e81bf8\n\n## Rails\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u9577\u304f\u306a\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306b\u5206\u5272\u3057\u307e\u3057\u305f\u3002\n\nhttp://qiita.com/takuchan9104/items/7afc8d1465f11c136183\n\n## MariaDB\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nsudo yum -y install mariadb-server mariadb-devel\nsudo systemctl start mariadb\nsudo systemctl enable mariadb\n```\n\nconfig/database.yml\u306e\u7de8\u96c6\n\n```lang:config/database.yml\ndefault: &default\n  adapter: mysql2\n  pool: 5\n  timeout: 5000\n  username: root\n  password:\n  socket: /var/lib/mysql/mysql.sock\n  encoding: utf8\n\ndevelopment:\n  <<: *default\n  database: db/development\n```\n\ndatabase\u306e\u4f5c\u6210\n\n```\nbin/rake db:create\n```\n\n# Scaffold\u3067\u52d5\u4f5c\u78ba\u8a8d\n```\nbin/rails g scaffold User name:string email:string\n\nbin/rake db:migrate\nbin/rails s -b 0.0.0.0\n```\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089http://192.168.33.10:3000/users \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\n\u9069\u5f53\u306b\u30c7\u30fc\u30bf\u304c\u5165\u529b\u3067\u304d\u308c\u3070\u5b8c\u4e86\uff01\n\n\n\n", "tags": ["Rails", "vagrant", "elcapitan", "centos7", "mariadb"]}