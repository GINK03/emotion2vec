{"context": " More than 1 year has passed since last update.\n\npostfix\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08main.cf\u7de8\u96c6\u524d\u307e\u3067\uff09\n\nshell\u3067\u306e\u64cd\u4f5c\n# sendmail\u306e\u505c\u6b62\nsudo service sendmail stop\n# postfix\u306e\u505c\u6b62\nsudo yum install postfix\n# OS\u306eMTA\u3092postfix\u306b\u5909\u66f4\nsudo alternatives --config mta # postfix\u306e\u756a\u53f7\u3092\u9078\u629e\u3057\u3066Enter\u3092\u62bc\u4e0b\u3059\u308b\n# sendmail\u306e\u81ea\u52d5\u8d77\u52d5\u3092\u6291\u6b62\nsudo chkconfig sendmail off\n# postfix\u306e\u81ea\u52d5\u8d77\u52d5\u3092\u8a2d\u5b9a\nsudo chkconfig postfix on\n# \u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\u6642\u306bMaildir\u5f62\u5f0f\u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u304c\u4f5c\u6210\u3055\u308c\u308b\u8a2d\u5b9a\nsudo mkdir -p /etc/skel/Maildir/{new,cur,tmp}\nsudo chmod -R 700 /etc/skel/Maildir/\n# \u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\uff08\u78ba\u8a8d\u7528\u306e\u305f\u3081\u3001\u4f5c\u6210\u306f\u4efb\u610f\uff09\nsudo useradd postfixtest\nsudo ls -al /home/postfixtest/Maildir # \u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306e\u78ba\u8a8d\nsudo passwd postfixtest\n\n\n\nmain.cf\u306e\u7de8\u96c6\n\nshell\u3067\u306e\u64cd\u4f5c\ncd /etc/postfix\nsudo cp main.cf main.cf.20141030\nsudo vi main.cf\n\n\n\nmain.cf\u306e\u7de8\u96c6\u5185\u5bb9\n\nmyhostname\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u306bFQDN\u3092\u6307\u5b9a\nmydomain\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u306b\u81ea\u30c9\u30e1\u30a4\u30f3\u3092\u6307\u5b9a\nmyorigin\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u306b $mydomain \u3092\u6307\u5b9a\nmydestination\u306e\u5024\u306b myhostname,localhost.myhostname,localhost.myhostname, localhost.mydomain, localhost, $mydomain \u3092\u6307\u5b9a\nhome_mailbox\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u3092 Maildir/ \u3068\u6307\u5b9a\nsmtpd_banner\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u3092 $myhostname ESMTP unknown \u3068\u6307\u5b9a\ninet_interfaces\u306e\u5024\u306b all \u3092\u6307\u5b9a\ninet_protocols\u306e\u5024\u306b ipv4 \u3092\u6307\u5b9a\n\n\n\u7de8\u96c6\u5185\u5bb9\u306e\u30c1\u30a7\u30c3\u30af\n\nshell\u3067\u306e\u64cd\u4f5c\nsudo /etc/rc.d/init.d/postfix check # OK\u3068\u51fa\u529b\u3055\u308c\u308c\u3070\u826f\u3044\n\n\n\npostfix\u306e\u8d77\u52d5\n\nshell\u3067\u306e\u64cd\u4f5c\nsudo service postfix start\n\n\n\n## postfix\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\uff08main.cf\u7de8\u96c6\u524d\u307e\u3067\uff09\n\n```bash:shell\u3067\u306e\u64cd\u4f5c\n# sendmail\u306e\u505c\u6b62\nsudo service sendmail stop\n# postfix\u306e\u505c\u6b62\nsudo yum install postfix\n# OS\u306eMTA\u3092postfix\u306b\u5909\u66f4\nsudo alternatives --config mta # postfix\u306e\u756a\u53f7\u3092\u9078\u629e\u3057\u3066Enter\u3092\u62bc\u4e0b\u3059\u308b\n# sendmail\u306e\u81ea\u52d5\u8d77\u52d5\u3092\u6291\u6b62\nsudo chkconfig sendmail off\n# postfix\u306e\u81ea\u52d5\u8d77\u52d5\u3092\u8a2d\u5b9a\nsudo chkconfig postfix on\n# \u30e6\u30fc\u30b6\u30fc\u4f5c\u6210\u6642\u306bMaildir\u5f62\u5f0f\u306e\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u304c\u4f5c\u6210\u3055\u308c\u308b\u8a2d\u5b9a\nsudo mkdir -p /etc/skel/Maildir/{new,cur,tmp}\nsudo chmod -R 700 /etc/skel/Maildir/\n# \u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\uff08\u78ba\u8a8d\u7528\u306e\u305f\u3081\u3001\u4f5c\u6210\u306f\u4efb\u610f\uff09\nsudo useradd postfixtest\nsudo ls -al /home/postfixtest/Maildir # \u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u306e\u78ba\u8a8d\nsudo passwd postfixtest\n```\n\n## main.cf\u306e\u7de8\u96c6\n\n``` bash:shell\u3067\u306e\u64cd\u4f5c\ncd /etc/postfix\nsudo cp main.cf main.cf.20141030\nsudo vi main.cf\n```\n\n### main.cf\u306e\u7de8\u96c6\u5185\u5bb9\n\n1. myhostname\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u306bFQDN\u3092\u6307\u5b9a\n1. mydomain\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u306b\u81ea\u30c9\u30e1\u30a4\u30f3\u3092\u6307\u5b9a\n1. myorigin\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u306b $mydomain \u3092\u6307\u5b9a\n1. mydestination\u306e\u5024\u306b $myhostname, localhost.$mydomain, localhost, $mydomain \u3092\u6307\u5b9a\n1. home_mailbox\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u3092 Maildir/ \u3068\u6307\u5b9a\n1. smtpd_banner\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u3001\u5024\u3092 $myhostname ESMTP unknown \u3068\u6307\u5b9a\n1. inet_interfaces\u306e\u5024\u306b all \u3092\u6307\u5b9a\n1. inet_protocols\u306e\u5024\u306b ipv4 \u3092\u6307\u5b9a\n\n### \u7de8\u96c6\u5185\u5bb9\u306e\u30c1\u30a7\u30c3\u30af\n\n``` bash:shell\u3067\u306e\u64cd\u4f5c\nsudo /etc/rc.d/init.d/postfix check # OK\u3068\u51fa\u529b\u3055\u308c\u308c\u3070\u826f\u3044\n```\n\n## postfix\u306e\u8d77\u52d5\n\n``` bash:shell\u3067\u306e\u64cd\u4f5c\nsudo service postfix start\n```\n", "tags": ["postfix"]}