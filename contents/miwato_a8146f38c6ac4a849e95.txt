{"context": " More than 1 year has passed since last update.\u6b21\u306e\u3088\u3046\u306a\u6761\u4ef6\u3067\u540c\u3058\u3088\u3046\u306a\u5931\u6557\u3092\u3057\u3066\u3044\u308b\u4eba\u306e\u305f\u3081\u306e\u5099\u5fd8\u9332\u3067\u3059\u3002\n\u30fbdockerfile \u5185\u3067yum\u306e\u8a18\u8ff0\u3092\u3057\u3066\u3044\u308b\u3002\n\u30fbDocker\u30db\u30b9\u30c8\uff08CentOS7\uff09\u4e0a\u3067\u306f\u540d\u524d\u89e3\u6c7a\u304c\u6b63\u3057\u304f\u884c\u308f\u308c\u308b\u3002\n\u30fbDocker\u30db\u30b9\u30c8\uff08CentOS7\uff09\u4e0a\u3067\u306fIPv6\u3092\u6b62\u3081\u3066\u3044\u308b\u3002\n\u30fbfirewalld \u306f\u300153, 80\u3092\u958b\u653e\u3057\u3066\u3044\u308b\u3002\n\u30fb\u30fb\u30fb\u306b\u3082\u95a2\u308f\u3089\u305a\u3001\u6b21\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u4eba\u3002\n# docker build -t ****:** ./\n   \u30fb\n   \u30fb\n\uff08\u7701\u7565\uff09\n   \u30fb\n   \u30fb\nCould not retrieve mirrorlist http://mirrorlist.centos.org/?release=7&arch=x86_64&repo=os&infra=stock error was\n14: curl#6 - \"Could not resolve host: mirrorlist.centos.org; Unknown error\"\n\n\n One of the configured repositories failed (Unknown),\n and yum doesn't have enough cached data to continue. At this point the only\n safe thing yum can do is fail. There are a few ways to work \"fix\" this:\n\n     1. Contact the upstream for the repository and get them to fix the problem.\n\n     2. Reconfigure the baseurl/etc. for the repository, to point to a working\n        upstream. This is most often useful if you are using a newer\n        distribution release than is supported by the repository (and the\n        packages for the previous distribution release still work).\n\n     3. Disable the repository, so yum won't use it by default. Yum will then\n        just ignore the repository until you permanently enable it again or use\n        --enablerepo for temporary usage:\n\n            yum-config-manager --disable <repoid>\n\n     4. Configure the failing repository to be skipped, if it is unavailable.\n        Note that yum will try to contact the repo. when it runs most commands,\n        so will have to try and fail each time (and thus. yum will be be much\n        slower). If it is a very temporary problem though, this is often a nice\n        compromise:\n\n            yum-config-manager --save --setopt=<repoid>.skip_if_unavailable=true\n\nCannot find a valid baseurl for repo: base/7/x86_64\nThe command '/bin/sh -c yum -y install gcc gcc-c++ wget\n\n\u25a0 \u89e3\u6c7a\u65b9\u6cd5\n\n\n1\uff0edocker\u8d77\u52d5\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3002DNS\u30b5\u30fc\u30d0\u306e\u6307\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u30018.8.8.8\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n# vi /usr/lib/systemd/system/docker.service\n\uff08\u5909\u66f4\u524d\uff09\uff1aExecStart=/usr/bin/docker daemon -H fd://\n     \u2193    \u2193\n\uff08\u5909\u66f4\u5f8c\uff09\uff1aExecStart=/usr/bin/docker daemon -H fd:// -dns=8.8.8.8\n\n2.Docker\u30c7\u30fc\u30e2\u30f3\u306e\u30ea\u30ed\u30fc\u30c9\u3068\u518d\u8d77\u52d5\n# systemctl daemon-reload\n# systemctl restart docker\n\n\n\u3053\u308c\u3067\u89e3\u6c7a\u3067\u3059\u3002 ps \u3067docker \u306e\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u306bdns\u3082\u8ffd\u52a0\u3055\u308c\u3001\u30a8\u30e9\u30fc\u3082\u89e3\u6c7a\u3067\u3059\u3002\n\u25a0 \u89e3\u6c7a\u65b9\u6cd5\uff08\u305d\u306e\uff12\uff09\n\n\n\n1\uff0efirewalld \u306e\u518d\u8d77\u52d5\n\n    # systemctl restart firewalld\n\n\n2. Docker\u30c7\u30fc\u30e2\u30f3\u306e\u518d\u8d77\u52d5\n\n    # systemctl restart docker\n\n\n\u6b21\u306e\u3088\u3046\u306a\u6761\u4ef6\u3067\u540c\u3058\u3088\u3046\u306a\u5931\u6557\u3092\u3057\u3066\u3044\u308b\u4eba\u306e\u305f\u3081\u306e\u5099\u5fd8\u9332\u3067\u3059\u3002\n\u30fbdockerfile \u5185\u3067yum\u306e\u8a18\u8ff0\u3092\u3057\u3066\u3044\u308b\u3002\n\u30fbDocker\u30db\u30b9\u30c8\uff08CentOS7\uff09\u4e0a\u3067\u306f\u540d\u524d\u89e3\u6c7a\u304c\u6b63\u3057\u304f\u884c\u308f\u308c\u308b\u3002\n\u30fbDocker\u30db\u30b9\u30c8\uff08CentOS7\uff09\u4e0a\u3067\u306fIPv6\u3092\u6b62\u3081\u3066\u3044\u308b\u3002\n\u30fbfirewalld \u306f\u300153, 80\u3092\u958b\u653e\u3057\u3066\u3044\u308b\u3002\n\n\u30fb\u30fb\u30fb\u306b\u3082\u95a2\u308f\u3089\u305a\u3001\u6b21\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u4eba\u3002\n\n```\n# docker build -t ****:** ./\n   \u30fb\n   \u30fb\n\uff08\u7701\u7565\uff09\n   \u30fb\n   \u30fb\nCould not retrieve mirrorlist http://mirrorlist.centos.org/?release=7&arch=x86_64&repo=os&infra=stock error was\n14: curl#6 - \"Could not resolve host: mirrorlist.centos.org; Unknown error\"\n\n\n One of the configured repositories failed (Unknown),\n and yum doesn't have enough cached data to continue. At this point the only\n safe thing yum can do is fail. There are a few ways to work \"fix\" this:\n\n     1. Contact the upstream for the repository and get them to fix the problem.\n\n     2. Reconfigure the baseurl/etc. for the repository, to point to a working\n        upstream. This is most often useful if you are using a newer\n        distribution release than is supported by the repository (and the\n        packages for the previous distribution release still work).\n\n     3. Disable the repository, so yum won't use it by default. Yum will then\n        just ignore the repository until you permanently enable it again or use\n        --enablerepo for temporary usage:\n\n            yum-config-manager --disable <repoid>\n\n     4. Configure the failing repository to be skipped, if it is unavailable.\n        Note that yum will try to contact the repo. when it runs most commands,\n        so will have to try and fail each time (and thus. yum will be be much\n        slower). If it is a very temporary problem though, this is often a nice\n        compromise:\n\n            yum-config-manager --save --setopt=<repoid>.skip_if_unavailable=true\n\nCannot find a valid baseurl for repo: base/7/x86_64\nThe command '/bin/sh -c yum -y install gcc gcc-c++ wget\n```\n\n\u25a0 \u89e3\u6c7a\u65b9\u6cd5\n<ul>\n<li><p>1\uff0edocker\u8d77\u52d5\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3002DNS\u30b5\u30fc\u30d0\u306e\u6307\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u30018.8.8.8\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002</p></li>\n\n    # vi /usr/lib/systemd/system/docker.service\n    \uff08\u5909\u66f4\u524d\uff09\uff1aExecStart=/usr/bin/docker daemon -H fd://\n         \u2193    \u2193\n    \uff08\u5909\u66f4\u5f8c\uff09\uff1aExecStart=/usr/bin/docker daemon -H fd:// -dns=8.8.8.8\n\n<li><p>2.Docker\u30c7\u30fc\u30e2\u30f3\u306e\u30ea\u30ed\u30fc\u30c9\u3068\u518d\u8d77\u52d5</p></li>\n\n    # systemctl daemon-reload\n    # systemctl restart docker\n\n</ul>\n\n\u3053\u308c\u3067\u89e3\u6c7a\u3067\u3059\u3002 ps \u3067docker \u306e\u8d77\u52d5\u30aa\u30d7\u30b7\u30e7\u30f3\u306bdns\u3082\u8ffd\u52a0\u3055\u308c\u3001\u30a8\u30e9\u30fc\u3082\u89e3\u6c7a\u3067\u3059\u3002\n\n\u25a0 \u89e3\u6c7a\u65b9\u6cd5\uff08\u305d\u306e\uff12\uff09\n<ul>\n<li><p>1\uff0efirewalld \u306e\u518d\u8d77\u52d5</p>\n    # systemctl restart firewalld</li>\n<li><p>2. Docker\u30c7\u30fc\u30e2\u30f3\u306e\u518d\u8d77\u52d5</p>\n    # systemctl restart docker</li>\n\n</ul>\n", "tags": ["centos7", "docker1.10", "Yum", "Build"]}