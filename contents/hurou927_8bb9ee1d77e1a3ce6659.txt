{"context": "Python script for HINET login without SSO/logout (Hiroshima-univ)\nPython\u3068selenium\u306e\u7df4\u7fd2\u306e\u305f\u3081\u306b\n\u5e83\u5cf6\u5927\u5b66\u306e\u975eSSO\u8a8d\u8a3c\u306e\u30ed\u30b0\u30a4\u30f3\u3068\u30ed\u30b0\u30a2\u30a6\u30c8\u3092\u7aef\u672b\u4e0a\u3067\u884c\u3046\u305f\u3081\u306e\n\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u305f\n\nSSO\u8a8d\u8a3c\u306b\u306f\u5bfe\u5fdc\u3067\u304d\u306a\u304b\u3063\u305f\n\u9700\u8981\u306a\u3057\n\u30bf\u30fc\u30df\u30ca\u30eb\u7528\nX11 Forwarding\u4f7f\u3044\u305f\u304f\u306a\u3044\u6642\u7528\n\n\u30ed\u30b0\u30a4\u30f3(login)\n\n./nsso.py login\n\n\u30ed\u30b0\u30a2\u30a6\u30c8(logout)\n\n./nsso.py logout\n\nX11 Forwarding\u4f7f\u3044\u305f\u304f\u306a\u3044\u306a\u3089\n\nDISPLAY=unix:0.0 ./nsso.py login\n\n\u3068\u304b...\n\nnsso.py\n#!/usr/bin/env python2\n# coding: utf-8\n\n# program for Only \"without SSO\" !!!!!!\n\n#sudo pip install selenium\n\nfrom selenium                       import webdriver\nfrom selenium.webdriver.common.by   import By\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.support.ui  import Select\nfrom selenium.common.exceptions     import NoSuchElementException\n\nfrom getpass                        import getpass\nimport sys\n#import re\n\n#   https://idp.media.hiroshima-u.ac.jp/idp/Authn/UserPassword\n#   https://hinet.hiroshima-u.ac.jp/loginweb.html\ndef logout(browser):\n    try:\n        browser.get('https://hinet.hiroshima-u.ac.jp/cgi-bin/Logout.cgi')\n        browser.close()\n        print \"logout success!\"\n    except:\n        print \"ERROR!!!\"\n        browser.close()\n\n\ndef without_sso_login(browser):\n    try:\n        browser.get('https://hinet.hiroshima-u.ac.jp/login_frame.html')\n        username = raw_input(\"Username :\")\n        password = getpass(  \"Password :\")\n        browser.find_element(By.NAME,\"uid\").send_keys(username)\n        browser.find_element(By.NAME,\"pwd\").send_keys(password)\n        #raw_input(\"y:\")\n        browser.find_element_by_xpath(\"//input[@type='submit']\").click()\n        page=browser.page_source\n        if page.count(\"Login succeeded\") >= 1 :\n            print \"login success!\"\n        else:\n            print \"login filure...\"\n        browser.close()\n    except:\n        print \"ERROR!!!\"\n        browser.close()\n\nif __name__ == '__main__':\n    param = sys.argv\n    print \"login : [./nsso.py] or [./nsso.py login]\"\n    print \"logout: [./nsso.py logout]\"\n    print \"SSO    :https://idp.media.hiroshima-u.ac.jp/idp/Authn/UserPassword\"\n    print \"Not SSO:https://hinet.hiroshima-u.ac.jp/loginweb.html\"\n    print \"              ---> https://hinet.hiroshima-u.ac.jp/login_frame.html\"\n    browser = webdriver.Firefox()\n    if len(param) == 2 and param[1]==\"logout\":\n        print \"=======LOGOUT=========\"\n        logout(browser)\n        print \"======= END =========\"\n    elif (len(param)==2 and param[1]==\"login\") or len(param)==1:\n        print \"=======LOGIN=========\"\n        without_sso_login(browser)\n        print \"======= END =========\"\n\n\nPython script for HINET login without SSO/logout (Hiroshima-univ)\n\nPython\u3068selenium\u306e\u7df4\u7fd2\u306e\u305f\u3081\u306b\n\u5e83\u5cf6\u5927\u5b66\u306e\u975eSSO\u8a8d\u8a3c\u306e\u30ed\u30b0\u30a4\u30f3\u3068\u30ed\u30b0\u30a2\u30a6\u30c8\u3092\u7aef\u672b\u4e0a\u3067\u884c\u3046\u305f\u3081\u306e\n\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u305f\n\n- SSO\u8a8d\u8a3c\u306b\u306f\u5bfe\u5fdc\u3067\u304d\u306a\u304b\u3063\u305f\n- \u9700\u8981\u306a\u3057\n- \u30bf\u30fc\u30df\u30ca\u30eb\u7528\n- X11 Forwarding\u4f7f\u3044\u305f\u304f\u306a\u3044\u6642\u7528\n\n\n\u30ed\u30b0\u30a4\u30f3(login)\n```\n./nsso.py login\n```\n\u30ed\u30b0\u30a2\u30a6\u30c8(logout)\n```\n./nsso.py logout\n```\n\nX11 Forwarding\u4f7f\u3044\u305f\u304f\u306a\u3044\u306a\u3089\n```\nDISPLAY=unix:0.0 ./nsso.py login\n```\n\u3068\u304b...\n\n```Python:nsso.py\n#!/usr/bin/env python2\n# coding: utf-8\n\n# program for Only \"without SSO\" !!!!!!\n\n#sudo pip install selenium\n\nfrom selenium                       import webdriver\nfrom selenium.webdriver.common.by   import By\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.support.ui  import Select\nfrom selenium.common.exceptions     import NoSuchElementException\n\nfrom getpass                        import getpass\nimport sys\n#import re\n\n#   https://idp.media.hiroshima-u.ac.jp/idp/Authn/UserPassword\n#   https://hinet.hiroshima-u.ac.jp/loginweb.html\ndef logout(browser):\n    try:\n        browser.get('https://hinet.hiroshima-u.ac.jp/cgi-bin/Logout.cgi')\n        browser.close()\n        print \"logout success!\"\n    except:\n        print \"ERROR!!!\"\n        browser.close()\n\n\ndef without_sso_login(browser):\n    try:\n        browser.get('https://hinet.hiroshima-u.ac.jp/login_frame.html')\n        username = raw_input(\"Username :\")\n        password = getpass(  \"Password :\")\n        browser.find_element(By.NAME,\"uid\").send_keys(username)\n        browser.find_element(By.NAME,\"pwd\").send_keys(password)\n        #raw_input(\"y:\")\n        browser.find_element_by_xpath(\"//input[@type='submit']\").click()\n        page=browser.page_source\n        if page.count(\"Login succeeded\") >= 1 :\n            print \"login success!\"\n        else:\n            print \"login filure...\"\n        browser.close()\n    except:\n        print \"ERROR!!!\"\n        browser.close()\n\nif __name__ == '__main__':\n    param = sys.argv\n    print \"login : [./nsso.py] or [./nsso.py login]\"\n    print \"logout: [./nsso.py logout]\"\n    print \"SSO    :https://idp.media.hiroshima-u.ac.jp/idp/Authn/UserPassword\"\n    print \"Not SSO:https://hinet.hiroshima-u.ac.jp/loginweb.html\"\n    print \"              ---> https://hinet.hiroshima-u.ac.jp/login_frame.html\"\n    browser = webdriver.Firefox()\n    if len(param) == 2 and param[1]==\"logout\":\n        print \"=======LOGOUT=========\"\n        logout(browser)\n        print \"======= END =========\"\n    elif (len(param)==2 and param[1]==\"login\") or len(param)==1:\n        print \"=======LOGIN=========\"\n        without_sso_login(browser)\n        print \"======= END =========\"\n```\n", "tags": ["Python", "Selenium"]}