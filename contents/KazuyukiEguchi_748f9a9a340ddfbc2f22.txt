{"tags": ["AndroidThings", "Android", "Raspberrypi3", "IoT"], "context": "\n\nRainbow HAT\nAndroidThings\u306e\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u3067\u3082\u4f7f\u308f\u308c\u3066\u3044\u308b\u3001Rainbow HAT\u304c\u5c4a\u3044\u305f\u306e\u3067\u3001\u52d5\u4f5c\u30c1\u30a7\u30c3\u30af\u3082\u517c\u306d\u3066\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u307f\u305f\u3002\n\n\n\u74b0\u5883\nAndroid Studio 2.3.3\nRaspberry Pi 3 (image androidthings_rpi3_devpreview_1.zip)\nRainbow HAT\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\u3053\u3061\u3089\u306b\u95a2\u3057\u3066\u306f\u3001\u4ee5\u524d\u6295\u7a3f\u3057\u305fAndroid Things \u7528\u306e\u7a7a\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u308a\u65b9\u3092\u53c2\u7167\u306e\u3053\u3068\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306e\u8ffd\u52a0\nbuild.grade(app)\u306b\u8ffd\u8a18\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\nbuild.grade\ncompile 'com.google.android.things.contrib:driver-rainbowhat:0.1'\n\n\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\nMainActivity.java\nimport com.google.android.things.contrib.driver.rainbowhat.RainbowHat;\n\n\n\n\u642d\u8f09\u3055\u308c\u3066\u3044\u8d64\u3001\u7dd1\u3001\u9752\u306e\u5358\u8272LED\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u4f8b\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\nMainActivity.java\nimport com.google.android.things.pio.Gpio;\nimport java.io.IOException;\n\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\nMainActivity.java\nprivate Gpio led1 = null;\nprivate Gpio led2 = null;\nprivate Gpio led3 = null;\n\n\n\nMainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            led1 = RainbowHat.openLed(RainbowHat.LED_RED);\n            led1.setValue(true);\n\n            led2 = RainbowHat.openLed(RainbowHat.LED_GREEN);\n            led2.setValue(true);\n\n            led3 = RainbowHat.openLed(RainbowHat.LED_BLUE);\n            led3.setValue(true);\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(led1 != null) {\n                led1.setValue(false);\n                led1.close();\n            }\n\n            if(led2 != null) {\n                led2.setValue(false);\n                led2.close();\n            }\n\n            if(led3 != null) {\n                led3.setValue(false);\n                led3.close();\n            }\n\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n\n    }\n\n\n\n\u30d6\u30b6\u30fc\u3092\u30b3\u30f3\u30c8\u30fc\u30eb\u3059\u308b\u4f8b\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\nMainActivity.java\nimport com.google.android.things.contrib.driver.pwmspeaker.Speaker;\nimport java.io.IOException;\n\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\nMainActivity.java\nprivate Speaker buzzer = null;\n\n\n\nMainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            buzzer = RainbowHat.openPiezo();\n            buzzer.play(261);\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(buzzer != null)\u3000{\n                buzzer.stop();\n                buzzer.close();\n            }\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n\n\n4\u6841\u306e\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u4f8b\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\nMainActivity.java\nimport com.google.android.things.contrib.driver.ht16k33.AlphanumericDisplay;\nimport com.google.android.things.contrib.driver.ht16k33.Ht16k33;\nimport java.io.IOException;\n\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\nMainActivity.java\nprivate AlphanumericDisplay segment = null;\n\n\n\nMainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            segment = RainbowHat.openDisplay();\n            segment.setBrightness(Ht16k33.HT16K33_BRIGHTNESS_MAX);\n            segment.setEnabled(true);\n            segment.display(\"1234\");\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(segment != null)\n            {\n                segment.close();\n            }\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n\n    }\n\n\n\n\uff17\u3064\u306e\u30d5\u30eb\u30ab\u30e9\u30fcLED\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u4f8b\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\nMainActivity.java\nimport android.graphics.Color;\nimport com.google.android.things.contrib.driver.apa102.Apa102;\nimport java.io.IOException;\n\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\nMainActivity.java\nprivate Apa102 ledstrip = null;\n\n\n\nMainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            int[] rainbow = new int[7];\n\n            ledstrip = RainbowHat.openLedStrip();\n            ledstrip.setBrightness(1);\n\n            for (int i = 0; i < rainbow.length; i++) {\n                rainbow[i] = Color.HSVToColor(255, new float[]{i * 360.f / rainbow.length, 1.0f, 1.0f});\n            }\n            ledstrip.write(rainbow);\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(ledstrip != null)\n            {\n                ledstrip.close();\n            }\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n\n    }\n\n\n\n\u30bf\u30c3\u30c1\u30dc\u30bf\u30f3\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u62fe\u3046\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\nMainActivity.java\nimport com.google.android.things.contrib.driver.button.Button;\nimport java.io.IOException;\n\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\nMainActivity.java\nprivate Button buttonA = null;\nprivate Button buttonB = null;\nprivate Button buttonC = null;\n\n\n\nMainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            buttonA = RainbowHat.openButton(RainbowHat.BUTTON_A);\n            buttonA.setOnButtonEventListener(onEvent);\n\n            buttonB = RainbowHat.openButton(RainbowHat.BUTTON_B);\n            buttonB.setOnButtonEventListener(onEvent);\n\n            buttonC = RainbowHat.openButton(RainbowHat.BUTTON_C);\n            buttonC.setOnButtonEventListener(onEvent);\n\n\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(buttonA != null) {\n                buttonA.close();\n            }\n\n            if(buttonB != null) {\n                buttonB.close();\n            }\n\n            if(buttonC != null) {\n                buttonC.close();\n            }\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    Button.OnButtonEventListener onEvent = new Button.OnButtonEventListener() {\n        @Override\n        public void onButtonEvent(Button button, boolean pressed) {\n            if(button == buttonA)\n            {\n                Log.d(TAG,\"Button A\");\n            }\n\n            if(button == buttonB)\n            {\n                Log.d(TAG,\"Button B\");\n            }\n\n            if(button == buttonC)\n            {\n                Log.d(TAG,\"Button C\");\n            }\n        }\n    };\n\n\n\n\n\u6e29\u5ea6\u3001\u6c17\u5727\u306e\u5024\u3092\u30a4\u30d9\u30f3\u30c8\u3067\u53d6\u5f97\u3059\u308b\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\nMainActivity.java\nimport android.content.Context;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\n\nimport com.google.android.things.contrib.driver.bmx280.Bmx280SensorDriver;\nimport java.io.IOException;\n\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\nMainActivity.java\nprivate Bmx280SensorDriver mSensorDriver = null;\nprivate SensorManager sensorManager = null;\n\n\n\nMainActivity.java\n    @Override protected void onCreate(Bundle savedInstanceState) {\n        Log.d(TAG,\"onCreate()\");\n        super.onCreate(savedInstanceState);\n\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n\n        try {\n            mSensorDriver = new Bmx280SensorDriver(RainbowHat.BUS_SENSOR);\n            mSensorDriver.registerTemperatureSensor();\n            mSensorDriver.registerPressureSensor();\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        List<Sensor> lists = sensorManager.getDynamicSensorList(Sensor.TYPE_ALL);\n\n        for(int i = 0 ; i< lists.size() ; i++)\n        {\n            Log.d(TAG,\"\" + lists.get(i).toString());\n            sensorManager.registerListener(onEvent2, lists.get(i), SensorManager.SENSOR_DELAY_NORMAL);\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(mSensorDriver != null) {\n                mSensorDriver.unregisterTemperatureSensor();\n                mSensorDriver.unregisterPressureSensor();\n                mSensorDriver.close();\n            }\n            sensorManager.unregisterListener(onEvent2);\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    SensorEventListener onEvent2 = new SensorEventListener() {\n        @Override\n        public void onSensorChanged(SensorEvent sensorEvent) {\n            if(sensorEvent.sensor.getType() == Sensor.TYPE_AMBIENT_TEMPERATURE) {\n                Log.d(TAG, \"TEMPERATURE=\" + sensorEvent.values[0]);\n            }\n            else if(sensorEvent.sensor.getType() == Sensor.TYPE_PRESSURE)\n            {\n                Log.d(TAG,\"PRESSURE=\"+ sensorEvent.values[0]);\n            }\n        }\n\n        @Override\n        public void onAccuracyChanged(Sensor sensor, int i) {\n\n        }\n    };\n\n\n\n\u52d5\u304b\u3057\u3066\u307f\u3066\n\u6e29\u5ea6\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\u3068\u308f\u304b\u308b\u306e\u3067\u3059\u304c\u3001\u5ba4\u6e29\u3068\u306a\u3093\u304b\u9055\u3046\u306a\u3042\u3068\u601d\u3046\u3068\u601d\u3044\u307e\u3059\u3002\nRainbow HAT\u306eBMP280\u304c\u8a2d\u7f6e\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u3092\u307f\u308b\u3068\u3001Raspberry Pi3\u306eCPU\u306e\u4e0a\u306b\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3063\u3066\u3053\u3068\u306f\u30fb\u30fb\u30fb\n\u6e29\u5ea6\u306f\u3054\u53c2\u8003\u307e\u3067\u306b\u3063\u3066\u611f\u3058\u3067\u3059\u3002\n\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u30bb\u30f3\u30b5\u30fc\u306fBMP280\u306a\u306e\u3067\u3001\u672c\u6765\u306f\u3001\u6e7f\u5ea6\u3082\u53d6\u308c\u307e\u3059\u304c\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u4ee5\u4e0a\u3001\u3054\u53c2\u8003\u307e\u3067\u306b\n# Rainbow HAT\nAndroidThings\u306e\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u3067\u3082\u4f7f\u308f\u308c\u3066\u3044\u308b\u3001[Rainbow HAT](https://shop.pimoroni.com/products/rainbow-hat-for-android-things)\u304c\u5c4a\u3044\u305f\u306e\u3067\u3001\u52d5\u4f5c\u30c1\u30a7\u30c3\u30af\u3082\u517c\u306d\u3066\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u3044\u3066\u307f\u305f\u3002\n\n![th_IMG_2182.jpg](https://qiita-image-store.s3.amazonaws.com/0/33220/10fafe81-f914-00e8-cc8b-bb88aa295355.jpeg)![th_IMG_2184.jpg](https://qiita-image-store.s3.amazonaws.com/0/33220/cdcdd3ba-c69e-6982-82e3-c6b472b0b21e.jpeg)\n\n\n\n#\u74b0\u5883\nAndroid Studio 2.3.3\nRaspberry Pi 3 (image androidthings_rpi3_devpreview_1.zip)\nRainbow HAT\n\n#\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\u3053\u3061\u3089\u306b\u95a2\u3057\u3066\u306f\u3001\u4ee5\u524d\u6295\u7a3f\u3057\u305f[Android Things \u7528\u306e\u7a7a\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u308a\u65b9]( http://qiita.com/KazuyukiEguchi/items/7f90d03b5768fb646afd)\u3092\u53c2\u7167\u306e\u3053\u3068\n\n#\u30e9\u30a4\u30d6\u30e9\u30ea\u30fc\u306e\u8ffd\u52a0\nbuild.grade(app)\u306b\u8ffd\u8a18\u4e0b\u8a18\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```build.grade\ncompile 'com.google.android.things.contrib:driver-rainbowhat:0.1'\n```\n\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\n```MainActivity.java\nimport com.google.android.things.contrib.driver.rainbowhat.RainbowHat;\n```\n\n\n#\u642d\u8f09\u3055\u308c\u3066\u3044\u8d64\u3001\u7dd1\u3001\u9752\u306e\u5358\u8272LED\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u4f8b\n\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\n```MainActivity.java\nimport com.google.android.things.pio.Gpio;\nimport java.io.IOException;\n```\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\n```MainActivity.java\nprivate Gpio led1 = null;\nprivate Gpio led2 = null;\nprivate Gpio led3 = null;\n```\n\n\n```MainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            led1 = RainbowHat.openLed(RainbowHat.LED_RED);\n            led1.setValue(true);\n\n            led2 = RainbowHat.openLed(RainbowHat.LED_GREEN);\n            led2.setValue(true);\n\n            led3 = RainbowHat.openLed(RainbowHat.LED_BLUE);\n            led3.setValue(true);\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(led1 != null) {\n                led1.setValue(false);\n                led1.close();\n            }\n\n            if(led2 != null) {\n                led2.setValue(false);\n                led2.close();\n            }\n\n            if(led3 != null) {\n                led3.setValue(false);\n                led3.close();\n            }\n\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n\n    }\n```\n\n#\u30d6\u30b6\u30fc\u3092\u30b3\u30f3\u30c8\u30fc\u30eb\u3059\u308b\u4f8b\n\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\n```MainActivity.java\nimport com.google.android.things.contrib.driver.pwmspeaker.Speaker;\nimport java.io.IOException;\n```\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\n```MainActivity.java\nprivate Speaker buzzer = null;\n```\n\n```MainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            buzzer = RainbowHat.openPiezo();\n            buzzer.play(261);\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(buzzer != null)\u3000{\n                buzzer.stop();\n                buzzer.close();\n            }\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n```\n\n#4\u6841\u306e\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u4f8b\n\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\n```MainActivity.java\nimport com.google.android.things.contrib.driver.ht16k33.AlphanumericDisplay;\nimport com.google.android.things.contrib.driver.ht16k33.Ht16k33;\nimport java.io.IOException;\n```\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\n```MainActivity.java\nprivate AlphanumericDisplay segment = null;\n```\n\n```MainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            segment = RainbowHat.openDisplay();\n            segment.setBrightness(Ht16k33.HT16K33_BRIGHTNESS_MAX);\n            segment.setEnabled(true);\n            segment.display(\"1234\");\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(segment != null)\n            {\n                segment.close();\n            }\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n\n    }\n```\n\n#\uff17\u3064\u306e\u30d5\u30eb\u30ab\u30e9\u30fcLED\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3059\u308b\u4f8b\n\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\n```MainActivity.java\nimport android.graphics.Color;\nimport com.google.android.things.contrib.driver.apa102.Apa102;\nimport java.io.IOException;\n```\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\n```MainActivity.java\nprivate Apa102 ledstrip = null;\n```\n\n```MainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            int[] rainbow = new int[7];\n\n            ledstrip = RainbowHat.openLedStrip();\n            ledstrip.setBrightness(1);\n\n            for (int i = 0; i < rainbow.length; i++) {\n                rainbow[i] = Color.HSVToColor(255, new float[]{i * 360.f / rainbow.length, 1.0f, 1.0f});\n            }\n            ledstrip.write(rainbow);\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(ledstrip != null)\n            {\n                ledstrip.close();\n            }\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n\n    }\n```\n\n#\u30bf\u30c3\u30c1\u30dc\u30bf\u30f3\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u62fe\u3046\n\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\n```MainActivity.java\nimport com.google.android.things.contrib.driver.button.Button;\nimport java.io.IOException;\n```\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\n```MainActivity.java\nprivate Button buttonA = null;\nprivate Button buttonB = null;\nprivate Button buttonC = null;\n```\n\n```MainActivity.java\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        try {\n            buttonA = RainbowHat.openButton(RainbowHat.BUTTON_A);\n            buttonA.setOnButtonEventListener(onEvent);\n\n            buttonB = RainbowHat.openButton(RainbowHat.BUTTON_B);\n            buttonB.setOnButtonEventListener(onEvent);\n\n            buttonC = RainbowHat.openButton(RainbowHat.BUTTON_C);\n            buttonC.setOnButtonEventListener(onEvent);\n\n\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(buttonA != null) {\n                buttonA.close();\n            }\n\n            if(buttonB != null) {\n                buttonB.close();\n            }\n\n            if(buttonC != null) {\n                buttonC.close();\n            }\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    Button.OnButtonEventListener onEvent = new Button.OnButtonEventListener() {\n        @Override\n        public void onButtonEvent(Button button, boolean pressed) {\n            if(button == buttonA)\n            {\n                Log.d(TAG,\"Button A\");\n            }\n\n            if(button == buttonB)\n            {\n                Log.d(TAG,\"Button B\");\n            }\n\n            if(button == buttonC)\n            {\n                Log.d(TAG,\"Button C\");\n            }\n        }\n    };\n\n```\n\n#\u6e29\u5ea6\u3001\u6c17\u5727\u306e\u5024\u3092\u30a4\u30d9\u30f3\u30c8\u3067\u53d6\u5f97\u3059\u308b\n\nimport\u6587\u3092\u8ffd\u52a0\u3059\u308b\n\n```MainActivity.java\nimport android.content.Context;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\n\nimport com.google.android.things.contrib.driver.bmx280.Bmx280SensorDriver;\nimport java.io.IOException;\n```\n\n\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u306e\u5b9a\u7fa9\n\n```MainActivity.java\nprivate Bmx280SensorDriver mSensorDriver = null;\nprivate SensorManager sensorManager = null;\n```\n\n```MainActivity.java\n    @Override protected void onCreate(Bundle savedInstanceState) {\n        Log.d(TAG,\"onCreate()\");\n        super.onCreate(savedInstanceState);\n\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n\n        try {\n            mSensorDriver = new Bmx280SensorDriver(RainbowHat.BUS_SENSOR);\n            mSensorDriver.registerTemperatureSensor();\n            mSensorDriver.registerPressureSensor();\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        Log.d(TAG,\"onResume()\");\n        super.onResume();\n\n        List<Sensor> lists = sensorManager.getDynamicSensorList(Sensor.TYPE_ALL);\n\n        for(int i = 0 ; i< lists.size() ; i++)\n        {\n            Log.d(TAG,\"\" + lists.get(i).toString());\n            sensorManager.registerListener(onEvent2, lists.get(i), SensorManager.SENSOR_DELAY_NORMAL);\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        Log.d(TAG,\"onPause()\");\n        super.onPause();\n\n        try {\n            if(mSensorDriver != null) {\n                mSensorDriver.unregisterTemperatureSensor();\n                mSensorDriver.unregisterPressureSensor();\n                mSensorDriver.close();\n            }\n            sensorManager.unregisterListener(onEvent2);\n        } catch (IOException e) {\n            Log.d(TAG,e.toString());\n        }\n    }\n\n    SensorEventListener onEvent2 = new SensorEventListener() {\n        @Override\n        public void onSensorChanged(SensorEvent sensorEvent) {\n            if(sensorEvent.sensor.getType() == Sensor.TYPE_AMBIENT_TEMPERATURE) {\n                Log.d(TAG, \"TEMPERATURE=\" + sensorEvent.values[0]);\n            }\n            else if(sensorEvent.sensor.getType() == Sensor.TYPE_PRESSURE)\n            {\n                Log.d(TAG,\"PRESSURE=\"+ sensorEvent.values[0]);\n            }\n        }\n\n        @Override\n        public void onAccuracyChanged(Sensor sensor, int i) {\n\n        }\n    };\n```\n\n#\u52d5\u304b\u3057\u3066\u307f\u3066\n\u6e29\u5ea6\u3092\u53d6\u5f97\u3057\u3066\u307f\u308b\u3068\u308f\u304b\u308b\u306e\u3067\u3059\u304c\u3001\u5ba4\u6e29\u3068\u306a\u3093\u304b\u9055\u3046\u306a\u3042\u3068\u601d\u3046\u3068\u601d\u3044\u307e\u3059\u3002\nRainbow HAT\u306eBMP280\u304c\u8a2d\u7f6e\u3055\u308c\u3066\u3044\u308b\u5834\u6240\u3092\u307f\u308b\u3068\u3001Raspberry Pi3\u306eCPU\u306e\u4e0a\u306b\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3063\u3066\u3053\u3068\u306f\u30fb\u30fb\u30fb\n\u6e29\u5ea6\u306f\u3054\u53c2\u8003\u307e\u3067\u306b\u3063\u3066\u611f\u3058\u3067\u3059\u3002\n\n\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u30bb\u30f3\u30b5\u30fc\u306fBMP280\u306a\u306e\u3067\u3001\u672c\u6765\u306f\u3001\u6e7f\u5ea6\u3082\u53d6\u308c\u307e\u3059\u304c\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u5b9f\u88c5\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\n\u4ee5\u4e0a\u3001\u3054\u53c2\u8003\u307e\u3067\u306b\n"}