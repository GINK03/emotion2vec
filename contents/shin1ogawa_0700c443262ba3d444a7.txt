{"context": " More than 1 year has passed since last update.\u4ee5\u524d\u304b\u3089\u904b\u7528\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0GAE+\u30af\u30e9\u30a4\u30a2\u30f3\u30c8iOS\u306a\u30a2\u30d7\u30ea\u304c\u3042\u308a\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30fc\u30d0\u9593\u306e\u8a8d\u8a3c\u306b\u306fGAE\u306eOAuth1 Provider\u3092\u4f7f\u3063\u3066\u3044\u308b\u3002\u3057\u304b\u3057\u4ecaOAuth1\u306f\u306a\u3044\u3060\u308d\u3046\u3001\u3068\u3044\u3046\u4e8b\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30fc\u30d0\u9593\u306e\u8a8d\u8a3c\u3092Google Sign-In for iOS\u306b\u7f6e\u304d\u63db\u3048\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\n\u524d\u63d0\nXcode\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3059\u3067\u306b\u5b58\u5728\u3057\u3066\u3044\u3066\u3001cocoapods\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u7ba1\u7406\u3092\u3057\u3001\u8a00\u8a9e\u306fSwift\u3002\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\niOS Bundle ID\u3068Google Developer Console Project\u306eCredentia\u306e\u30da\u30a2\u304c\u8a18\u8ff0\u3055\u308c\u305f plist \u30d5\u30a1\u30a4\u30eb\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u751f\u6210\u3059\u308b\u3002\n\n\u516c\u5f0f\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306e Start integrating Google Sign-In into your iOS app \u306b\u3042\u308b GET A CONFIGURATION FILE \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\n\n2. \u6b21\u306e\u3088\u3046\u306a\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001App name\u306b\u306fDeveloper Console\u4e0a\u306e\u65e2\u5b58\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u9078\u629e\u3059\u308b\u304b\u3001\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u5165\u529b\u3059\u308b\u3002\u306a\u304a\u65e2\u5b58\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u3059\u3067\u306biOS\u5411\u3051\u306eCredentials\u306e\u8a2d\u5b9a\u304c\u3042\u308b\u5834\u5408\u306f\u3001Bundle ID\u3082\u9078\u629e\u53ef\u80fd\u3002\n\n3. \u3059\u3079\u3066\u5165\u529b\u3057\u305f\u3042\u3068\u3001 Generate configuratino files \u3067\u6b21\u3078\u9032\u3081\u3066 Download GoogleService-Info.plist\u3000\u30dc\u30bf\u30f3\u3067GoogleService-Info.plist\u30d5\u30a1\u30a4\u30eb\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3002\n\nXcode\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8a2d\u5b9a\n\nPodfile\u306bpod 'Google/SignIn'\u3092\u8ffd\u52a0\u3057\u3066pod install\u3092\u5b9f\u884c\u3057\u3001Xcode\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304d\u76f4\u3059\u3002\nXcode \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fGoogleService-Info.plist\u3092\u8ffd\u52a0\u3059\u308b\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8a2d\u5b9a\u306e Info \u30bf\u30d6\u306e URL Types \u306b\u4ee5\u4e0b\u306e\uff12\u3064\u3092\u8ffd\u52a0\u3059\u308b\uff08URL Schemes\u306b\u5024\u3092\u8a2d\u5b9a\u3057\u3001Identifier\u306f\u5165\u529b\u3057\u306a\u304f\u3066OK\uff09\n\n\n\nGoogleService-Info.plist\u306b\u542b\u307e\u308c\u3066\u3044\u308b CLIENT_ID\nBundle ID\n\n\n\n~-Bridging-Header.h \u306b#import <Google/SignIn.h>\u3092\u8ffd\u52a0\u3059\u308b\n\n\n\u5b9f\u88c5\nUIApplicationDelegate\u306e\u5b9f\u88c5\u3092AppDelegate\u3001\u30b5\u30a4\u30f3\u30a4\u30f3\u3092\u8d77\u52d5\u3059\u308b\u753b\u9762\u3092MyViewController\u3068\u3057\u305f\u5834\u5408\u3002\u57fa\u672c\u7684\u306b\u306f\u3059\u3079\u3066GIDSignIn\u3092\u901a\u3058\u3066\u64cd\u4f5c\u3059\u308b\u3002\n\nSignIn\u95a2\u9023\u306eDelegate\u306e\u5b9f\u88c5\n\nSignInDelegate.swift\n// MARK: GIDSignInDelegate\nextension AppDelegate: GIDSignInDelegate {\n  func signIn(signIn: GIDSignIn!, didSignInForUser user: GIDGoogleUser!, withError error: NSError!) {\n    if (error == nil) {\n      let idToken = user.authentication.idToken // \u30b5\u30fc\u30d0\u3078\u9001\u4fe1\u3059\u308b\u30c8\u30fc\u30af\u30f3\n      let name = user.profile.name\n      let email = user.profile.email\n      let refreshToken = user.authentication.refreshToken\n      // ..\u4ed6\u306b\u3082\u3044\u308d\u3044\u308d\u53d6\u5f97\u3067\u304d\u308b\n    } else {\n      println(\"singIn:didSignInForUser: \\(error.localizedDescription)\")\n    }\n  }\n}\n\n// MARK: GIDSignInUIDelegate\nextension MyViewController: GIDSignInUIDelegate {    \n  func signInWillDispatch(signIn: GIDSignIn!, error: NSError!) {\n    // \u30b5\u30a4\u30f3\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u8868\u793a\u524d\u51e6\u7406\n  }\n\n  func signIn(signIn: GIDSignIn!, presentViewController viewController: UIViewController!) {\n    // \u30b5\u30a4\u30f3\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8868\u793a\u3059\u308b\u51e6\u7406\n    self.presentViewController(viewController, animated: true, completion: nil)\n  }\n\n  func signIn(signIn: GIDSignIn!, dismissViewController viewController: UIViewController!) {\n    // \u30b5\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u9589\u3058\u305f\u3042\u3068\u306e\u51e6\u7406\n  }\n}\n\n\n\n\u8d77\u52d5\u6642\u306e\u51e6\u7406\n\nAppDelegate.swift\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate {\n\n  var window: UIWindow?\n\n  func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {\n    // Override point for customization after application launch.\n\n    // GIDSignIn\n    var configureError: NSError?\n    GGLContext.sharedInstance().configureWithError(&configureError)\n    assert(configureError == nil, \"Error configuring Google services: \\(configureError)\")\n    GIDSignIn.sharedInstance().delegate = self\n\n    return true\n  }\n\n  func application(application: UIApplication, openURL url: NSURL, sourceApplication: String?, annotation: AnyObject?) -> Bool {\n    // GIDSignIn\n    return GIDSignIn.sharedInstance().handleURL(url, sourceApplication: sourceApplication, annotation: annotation)\n  }\n}\n\n\n\n\u30b5\u30a4\u30f3\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8d77\u52d5\u3059\u308b\u51e6\u7406\n\nMyViewController.swift\n@IBAction func signInButtonClicked(sender: AnyObject) {\n  let signIn = GIDSignIn.sharedInstance()\n  signIn.uiDelegate = self\n  signIn.signIn()\n}\n\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3057\u3066\u3082\u826f\u3044\u3057\u3001GIDSignButton\u3068\u3044\u3046UI\u30af\u30e9\u30b9\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3001View\u3092\u8cbc\u308a\u4ed8\u3051\u3066Custom Class\u3067GIDSignInButton\u306b\u5909\u66f4\u3059\u308b\u3068\u3001\u5b9f\u884c\u6642\u306bGoogle\u307d\u3044\u30dc\u30bf\u30f3\u304c\u8868\u793a\u3055\u308c\u3066\u3001\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30b5\u30a4\u30f3\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u8d77\u52d5\u3059\u308b\u6a5f\u80fd\u3082\u3042\u308b\u3002\n\n\u30b5\u30a4\u30f3\u30a4\u30f3\u306e\u72b6\u614b\u306e\u78ba\u8a8d\n\u81ea\u524d\u3067\u30b5\u30a4\u30f3\u30a4\u30f3\u306e\u72b6\u614b\u3092\u4fdd\u5b58\u3057\u306a\u304f\u3066\u3082\u3001signInSilently()\uff08\u3044\u308f\u3086\u308bWeb\u306e\u5834\u5408\u306e\u30ed\u30b0\u30a4\u30f3URL\u751f\u6210\u6642\u306e\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306eauto\u30e2\u30fc\u30c9\uff09\u3092\u4f7f\u3063\u3066\u6b21\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3002signInSilently()\u304c\u6210\u529f\u3057\u305f\u3089\u3001GIDSignInDelegate\u306e\u5b9f\u88c5\u304c\u547c\u3070\u308c\u3001\u5148\u306e\u5b9f\u88c5\u306b\u3042\u308bGIDGoogleUser\u304c\u53d7\u3051\u53d6\u308c\u3001idToken\u7b49\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002\n\nMyViewController.swift\nfunc signInIfNeeded() {\n  let signIn = GIDSignIn.sharedInstance()\n  if signIn.hasAuthInKeychain() {\n    let user = signIn.currentUser\n    if user == nil {\n      signIn.uiDelegate = self\n      signIn.signInSilently()\n    }\n  } else {\n    signIn.uiDelegate = self\n    signIn.signIn()\n  }\n}\n\n\n\n\u30b5\u30fc\u30d0\u5074\u306e\u5b9f\u88c5\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u53d6\u5f97\u3057\u305fidToken\u3092\u6b21\u306e\u3088\u3046\u306b\u30d1\u30fc\u30b9\u3067\u304d\u308b\uff08com.google.api-client:google-api-client:1.20.0\u3092\u5229\u7528\uff09\u3002\n\nMyServlet.java\nGoogleIdTokenVerifier verifier = \n  new GoogleIdTokenVerifier.Builder(new NetHttpTransport(), new JacksonFactory())\n    .setAudience(Arrays.asList(CLIENT_ID)).build();\nGoogleIdToken idToken = verifier.verify(IDTOKENSTRING);\nPayload payload = idToken.getPayload();\n// payload\u304b\u3089\u5404\u7a2e\u60c5\u5831\u3092\u53d6\u308a\u51fa\u305b\u308b\n\n\n\u4ee5\u524d\u304b\u3089\u904b\u7528\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0GAE+\u30af\u30e9\u30a4\u30a2\u30f3\u30c8iOS\u306a\u30a2\u30d7\u30ea\u304c\u3042\u308a\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30fc\u30d0\u9593\u306e\u8a8d\u8a3c\u306b\u306fGAE\u306e[OAuth1 Provider](https://cloud.google.com/appengine/docs/java/oauth/)\u3092\u4f7f\u3063\u3066\u3044\u308b\u3002\u3057\u304b\u3057\u4ecaOAuth1\u306f\u306a\u3044\u3060\u308d\u3046\u3001\u3068\u3044\u3046\u4e8b\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30fc\u30d0\u9593\u306e\u8a8d\u8a3c\u3092[Google Sign-In for iOS](https://developers.google.com/identity/sign-in/ios/)\u306b\u7f6e\u304d\u63db\u3048\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\n## \u524d\u63d0\n\nXcode\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3059\u3067\u306b\u5b58\u5728\u3057\u3066\u3044\u3066\u3001cocoapods\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u7ba1\u7406\u3092\u3057\u3001\u8a00\u8a9e\u306fSwift\u3002\n\n## \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u751f\u6210\n\niOS Bundle ID\u3068Google Developer Console Project\u306eCredentia\u306e\u30da\u30a2\u304c\u8a18\u8ff0\u3055\u308c\u305f plist \u30d5\u30a1\u30a4\u30eb\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u751f\u6210\u3059\u308b\u3002\n\n1. \u516c\u5f0f\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u306e [Start integrating Google Sign-In into your iOS app](https://developers.google.com/identity/sign-in/ios/start-integrating/) \u306b\u3042\u308b **GET A CONFIGURATION FILE** \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\n![Screen Shot 2015-07-30 at 01.21.26.png](https://qiita-image-store.s3.amazonaws.com/0/1387/0464959c-eb66-06d1-363f-81749a8f40d6.png)\n2. \u6b21\u306e\u3088\u3046\u306a\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001App name\u306b\u306fDeveloper Console\u4e0a\u306e\u65e2\u5b58\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u9078\u629e\u3059\u308b\u304b\u3001\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u5165\u529b\u3059\u308b\u3002\u306a\u304a\u65e2\u5b58\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u3059\u3067\u306biOS\u5411\u3051\u306eCredentials\u306e\u8a2d\u5b9a\u304c\u3042\u308b\u5834\u5408\u306f\u3001Bundle ID\u3082\u9078\u629e\u53ef\u80fd\u3002\n![Screen Shot 2015-07-30 at 01.17.13.png](https://qiita-image-store.s3.amazonaws.com/0/1387/9da9ca56-6ab6-38ec-2cad-bca1d2660d39.png)\n3. \u3059\u3079\u3066\u5165\u529b\u3057\u305f\u3042\u3068\u3001 **Generate configuratino files** \u3067\u6b21\u3078\u9032\u3081\u3066 **Download GoogleService-Info.plist**\u3000\u30dc\u30bf\u30f3\u3067`GoogleService-Info.plist`\u30d5\u30a1\u30a4\u30eb\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u3002\n\n## Xcode\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8a2d\u5b9a\n\n0. Podfile\u306b`pod 'Google/SignIn'`\u3092\u8ffd\u52a0\u3057\u3066`pod install`\u3092\u5b9f\u884c\u3057\u3001Xcode\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304d\u76f4\u3059\u3002\n0. Xcode \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f`GoogleService-Info.plist`\u3092\u8ffd\u52a0\u3059\u308b\n0. \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8a2d\u5b9a\u306e **Info** \u30bf\u30d6\u306e **URL Types** \u306b\u4ee5\u4e0b\u306e\uff12\u3064\u3092\u8ffd\u52a0\u3059\u308b\uff08**URL Schemes**\u306b\u5024\u3092\u8a2d\u5b9a\u3057\u3001**Identifier**\u306f\u5165\u529b\u3057\u306a\u304f\u3066OK\uff09\n  * `GoogleService-Info.plist`\u306b\u542b\u307e\u308c\u3066\u3044\u308b CLIENT_ID\n  * Bundle ID\n0. **~-Bridging-Header.h** \u306b`#import <Google/SignIn.h>`\u3092\u8ffd\u52a0\u3059\u308b\n\n## \u5b9f\u88c5\n\nUIApplicationDelegate\u306e\u5b9f\u88c5\u3092`AppDelegate`\u3001\u30b5\u30a4\u30f3\u30a4\u30f3\u3092\u8d77\u52d5\u3059\u308b\u753b\u9762\u3092`MyViewController`\u3068\u3057\u305f\u5834\u5408\u3002\u57fa\u672c\u7684\u306b\u306f\u3059\u3079\u3066`GIDSignIn`\u3092\u901a\u3058\u3066\u64cd\u4f5c\u3059\u308b\u3002\n\n### SignIn\u95a2\u9023\u306eDelegate\u306e\u5b9f\u88c5\n\n```swift:SignInDelegate.swift\n// MARK: GIDSignInDelegate\nextension AppDelegate: GIDSignInDelegate {\n  func signIn(signIn: GIDSignIn!, didSignInForUser user: GIDGoogleUser!, withError error: NSError!) {\n    if (error == nil) {\n      let idToken = user.authentication.idToken // \u30b5\u30fc\u30d0\u3078\u9001\u4fe1\u3059\u308b\u30c8\u30fc\u30af\u30f3\n      let name = user.profile.name\n      let email = user.profile.email\n      let refreshToken = user.authentication.refreshToken\n      // ..\u4ed6\u306b\u3082\u3044\u308d\u3044\u308d\u53d6\u5f97\u3067\u304d\u308b\n    } else {\n      println(\"singIn:didSignInForUser: \\(error.localizedDescription)\")\n    }\n  }\n}\n\n// MARK: GIDSignInUIDelegate\nextension MyViewController: GIDSignInUIDelegate {    \n  func signInWillDispatch(signIn: GIDSignIn!, error: NSError!) {\n    // \u30b5\u30a4\u30f3\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u8868\u793a\u524d\u51e6\u7406\n  }\n\n  func signIn(signIn: GIDSignIn!, presentViewController viewController: UIViewController!) {\n    // \u30b5\u30a4\u30f3\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8868\u793a\u3059\u308b\u51e6\u7406\n    self.presentViewController(viewController, animated: true, completion: nil)\n  }\n\n  func signIn(signIn: GIDSignIn!, dismissViewController viewController: UIViewController!) {\n    // \u30b5\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u9589\u3058\u305f\u3042\u3068\u306e\u51e6\u7406\n  }\n}\n```\n\n### \u8d77\u52d5\u6642\u306e\u51e6\u7406\n\n```swift:AppDelegate.swift\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate {\n\n  var window: UIWindow?\n\n  func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -> Bool {\n    // Override point for customization after application launch.\n\n    // GIDSignIn\n    var configureError: NSError?\n    GGLContext.sharedInstance().configureWithError(&configureError)\n    assert(configureError == nil, \"Error configuring Google services: \\(configureError)\")\n    GIDSignIn.sharedInstance().delegate = self\n\n    return true\n  }\n\n  func application(application: UIApplication, openURL url: NSURL, sourceApplication: String?, annotation: AnyObject?) -> Bool {\n    // GIDSignIn\n    return GIDSignIn.sharedInstance().handleURL(url, sourceApplication: sourceApplication, annotation: annotation)\n  }\n}\n```\n\n### \u30b5\u30a4\u30f3\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8d77\u52d5\u3059\u308b\u51e6\u7406\n\n```swift:MyViewController.swift\n@IBAction func signInButtonClicked(sender: AnyObject) {\n  let signIn = GIDSignIn.sharedInstance()\n  signIn.uiDelegate = self\n  signIn.signIn()\n}\n```\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3057\u3066\u3082\u826f\u3044\u3057\u3001`GIDSignButton`\u3068\u3044\u3046UI\u30af\u30e9\u30b9\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3001View\u3092\u8cbc\u308a\u4ed8\u3051\u3066Custom Class\u3067`GIDSignInButton`\u306b\u5909\u66f4\u3059\u308b\u3068\u3001\u5b9f\u884c\u6642\u306bGoogle\u307d\u3044\u30dc\u30bf\u30f3\u304c\u8868\u793a\u3055\u308c\u3066\u3001\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30b5\u30a4\u30f3\u30a4\u30f3\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u8d77\u52d5\u3059\u308b\u6a5f\u80fd\u3082\u3042\u308b\u3002\n\n### \u30b5\u30a4\u30f3\u30a4\u30f3\u306e\u72b6\u614b\u306e\u78ba\u8a8d\n\n\u81ea\u524d\u3067\u30b5\u30a4\u30f3\u30a4\u30f3\u306e\u72b6\u614b\u3092\u4fdd\u5b58\u3057\u306a\u304f\u3066\u3082\u3001`signInSilently()`\uff08\u3044\u308f\u3086\u308bWeb\u306e\u5834\u5408\u306e\u30ed\u30b0\u30a4\u30f3URL\u751f\u6210\u6642\u306e\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u306e`auto`\u30e2\u30fc\u30c9\uff09\u3092\u4f7f\u3063\u3066\u6b21\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3002`signInSilently()`\u304c\u6210\u529f\u3057\u305f\u3089\u3001GIDSignInDelegate\u306e\u5b9f\u88c5\u304c\u547c\u3070\u308c\u3001\u5148\u306e\u5b9f\u88c5\u306b\u3042\u308b`GIDGoogleUser`\u304c\u53d7\u3051\u53d6\u308c\u3001idToken\u7b49\u3092\u53d6\u5f97\u3067\u304d\u308b\u3002\n\n```swift:MyViewController.swift\nfunc signInIfNeeded() {\n  let signIn = GIDSignIn.sharedInstance()\n  if signIn.hasAuthInKeychain() {\n    let user = signIn.currentUser\n    if user == nil {\n      signIn.uiDelegate = self\n      signIn.signInSilently()\n    }\n  } else {\n    signIn.uiDelegate = self\n    signIn.signIn()\n  }\n}\n```\n\n## \u30b5\u30fc\u30d0\u5074\u306e\u5b9f\u88c5\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u53d6\u5f97\u3057\u305fidToken\u3092\u6b21\u306e\u3088\u3046\u306b\u30d1\u30fc\u30b9\u3067\u304d\u308b\uff08**com.google.api-client:google-api-client:1.20.0**\u3092\u5229\u7528\uff09\u3002\n\n\n```java:MyServlet.java\nGoogleIdTokenVerifier verifier = \n  new GoogleIdTokenVerifier.Builder(new NetHttpTransport(), new JacksonFactory())\n    .setAudience(Arrays.asList(CLIENT_ID)).build();\nGoogleIdToken idToken = verifier.verify(IDTOKENSTRING);\nPayload payload = idToken.getPayload();\n// payload\u304b\u3089\u5404\u7a2e\u60c5\u5831\u3092\u53d6\u308a\u51fa\u305b\u308b\n```\n", "tags": ["iOS", "google"]}