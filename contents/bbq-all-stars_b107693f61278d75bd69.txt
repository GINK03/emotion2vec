{"context": "\u3053\u306e\u8a18\u4e8b\u306fWano\u30b0\u30eb\u30fc\u30d7 Advent Calendar 2016\u306e5\u65e5\u76ee\u3067\u3059\u3002\n\n\u7d50\u8ad6\n\nATS\uff08App Transport Security\uff09\u3092\u30aa\u30f3\u306b\u3057\u3066\u305f\u3089\u305d\u3082\u305d\u3082http\u306e\u30b5\u30a4\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u304b\u3089\u8003\u3048\u306a\u304f\u3066\u3088\u304f\u306d\u3002\n\n\n\u4ee5\u4e0b\u691c\u8a3c\n\n\u305d\u3082\u305d\u3082HSTS Super Cookie\u3063\u3066\u306a\u306b\u3088\n\u4ee5\u4e0b\u53c2\u7167\u3002\nhttp://dev.classmethod.jp/client-side/browser/hsts-super-cookies/\n\nHSTS\u3068\u3044\u3046\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u30d6\u30e9\u30a6\u30b6\u306f[Strict-Transport-Security]\u3068\u3044\u3046\u30d8\u30c3\u30c0\u304c\u3064\u3044\u3066\u3044\u308bWeb\u30b5\u30a4\u30c8\u3092\u8a18\u9332\u3057\u3001\u6b21\u56de\u306b\u305d\u306e\u30b5\u30a4\u30c8\u3078\u306eHTTP\u30a2\u30af\u30bb\u30b9\u304c\u3042\u3063\u305f\u5834\u5408\u306f\u30d6\u30e9\u30a6\u30b6\u5074\u3067\u5224\u65ad\u3057\u3001\u76f4\u63a5HTTPS\u3067\u63a5\u7d9a\u3057\u306b\u884c\u304f\u3068\u3044\u3046\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u6280\u8853\u3067\u3059\u3002\n\uff08\u4e2d\u7565\uff09\nHSTS\u3067\u306f\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u6587\u5b57\u4e00\u6587\u5b57\u306b\u5bfe\u3057\u3066true\u304bfalse\u306ebit\u306b\u5909\u63db\u3001\u305d\u308c\u3092\u30d0\u30a4\u30ca\u30ea\u5024(PIN\u3001\u3068\u8a00\u3044\u307e\u3059)\u3068\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u5185\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\u305d\u3046\u3059\u308b\u3053\u3068\u306720\u5104\u4ee5\u4e0a\u306e\u30bf\u30b0\u4ed8\u3051\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\u4e0a\u3067\u8868\u793a\u3057\u305f\u7d44\u307f\u5408\u308f\u305b\u306f\u3053\u306e\u30d0\u30a4\u30ca\u30ea\u5024\u3092base36\u5909\u63db\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\n\u3053\u306e\u4fdd\u5b58\u3057\u305f\u60c5\u5831\u3068\u3044\u3046\u306e\u306f\u3001Cookie\u3068\u304bLocal Storage\u3068\u304b\u3068\u306f\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u6271\u308f\u308c\u65b9\u304c\u9055\u3046\u306e\u3067\u3001\uff08\u5bfe\u7b56\u3055\u308c\u3066\u3044\u306a\u3044\u3068\uff09\u30c7\u30fc\u30bf\u304c\u6b8b\u308a\u7d9a\u3051\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n\u3053\u308c\u3067\u307f\u3093\u306a\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u3055\u308c\u307e\u304f\u308a\n\n\u4e8b\u306e\u7d4c\u7def\n\u4f1a\u793e\u306eSlack\u306edeveloper\u30c1\u30e3\u30f3\u30cd\u30eb\u306b\u3053\u3093\u306a\u60c5\u5831\u304c\u6295\u7a3f\u3055\u308c\u3066\u305f\u3002\nhttp://www.radicalresearch.co.uk/lab/hstssupercookies/\n\u5148\u8f29\u30a8\u30f3\u30b8\u30cb\u30a2\u3088\u308a\u3056\u3063\u304f\u308a\u8981\u7d04\n\nHSTS Super Cookie \u306fFirefox \u306f\u5bfe\u7b56\u6e08\u307f\u3002Safari\u306f\u3084\u3070\u3044\u3068\u66f8\u3044\u3066\u3044\u308b\u3051\u3069\u5b9f\u969b\u306f\u3084\u3070\u304f\u306a\u3044\u3089\u3057\u3044\u3002IE\u306fHSTS\u672a\u5bfe\u5fdc\u306a\u306e\u3067\u95a2\u4fc2\u306a\u3044\u3002\u305d\u3046\u3060\u3002\n\n\u3068\u306e\u3053\u3068\u3002\n\u3042\u308c\u3001WebView\u306f\uff1f\uff1f\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u691c\u8a3c\u3057\u3066\u307f\u305f\u3002\n\u4e0a\u8a18\u306e\u30b5\u30a4\u30c8\u306b\u5404webView\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\u5024\u304c\u5909\u308f\u308b\u304b\u3069\u3046\u304b\u8abf\u3079\u305f\u3002\n\u691c\u8a3c\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u96d1\u306b\u66f8\u3044\u305f\u3002\n\nUIWebView\n\n\nViewController.swift\nimport UIKit\n\nclass ViewController: UIViewController {\n    var webView: UIWebView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        webView = UIWebView(frame: UIScreen.main.bounds)\n        let url = URL(string: \"http://www.radicalresearch.co.uk/lab/hstssupercookies/\")!\n        let request = URLRequest(url: url)\n        webView.loadRequest(request)\n        view.addSubview(webView)\n    }\n}\n\n\n\nWKWebView\n\n\nViewConroller2.swift\nimport UIKit\nimport WebKit\n\nclass ViewController2: UIViewController {\n    var webView: WKWebView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        webView = WKWebView(frame: UIScreen.main.bounds)\n        let url = URL(string: \"http://www.radicalresearch.co.uk/lab/hstssupercookies/\")!\n        let request = URLRequest(url: url)\n        webView.load(request)\n        view.addSubview(webView)\n    }\n}\n\n\n\nSFSafariViewController\n\n\nViewController3.swift\nimport UIKit\nimport SafariServices\n\nclass ViewController3: UIViewController {\n    @IBOutlet weak var containerView: UIView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        let url = URL(string: \"http://www.radicalresearch.co.uk/lab/hstssupercookies/\")!\n        let viewController = SFSafariViewController(url: url, entersReaderIfAvailable: true)\n        viewController.view.frame = UIScreen.main.bounds\n\n        addChildViewController(viewController)\n        containerView.addSubview(viewController.view)\n        viewController.didMove(toParentViewController: self)\n    }\n}\n\n\n\nSFSafariViewController\u306fView\u3058\u3083\u306a\u3044\u306e\u3067ContainerView\u3092\u4f7f\u3063\u305f\u3002\n\u3082\u3061\u308d\u3093ATS\u3092\u30aa\u30d5\u306b\u3057\u3066http\u30b5\u30a4\u30c8\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3057\u3066\u3044\u308b\u3002\n\u3053\u306e\u8fba\u3067\u3001\u3042\u308c\u3001ATS\u3060\u3068\u305d\u3082\u305d\u3082http\u306e\u30b5\u30a4\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u306a\u3044\u304b\u3089\u95a2\u4fc2\u306a\u304f\u306d\uff1f\u3063\u3066\u6c17\u3065\u3044\u305f\u3051\u3069\u6c17\u306e\u305b\u3044\u3002\n\n\n\u7d50\u679c\n\n\u3042\u308a - \u4e0a\u8a18\u30b5\u30a4\u30c8\u3067\u5024\u306b\u5909\u5316\u304c\u3042\u3063\u305f = HSTS\u3067\u4fdd\u5b58\u3055\u308c\u305f\u60c5\u5831\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u305f\n\u306a\u3057 - \u4e0a\u8a18\u30b5\u30a4\u30c8\u3067\u5024\u306b\u5909\u5316\u304c\u306a\u304b\u3063\u305f = HSTS\u3067\u4fdd\u5b58\u3055\u308c\u305f\u60c5\u5831\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u306a\u304b\u3063\u305f\n\n\n\n\n\nUIWebView\nWKWebView\nSFSafariViewController\n\n\n\n\nwebView\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u308a\u76f4\u3057\n\u306a\u3057\n\u306a\u3057\n\u306a\u3057\n\n\n\u30a2\u30d7\u30ea\u306e\u7d42\u4e86\n\u306a\u3057\n\u306a\u3057\n\u306a\u3057\n\n\n\u30a2\u30d7\u30ea\u306e\u524a\u9664&\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3042\u308a\n\u3042\u308a\n\u306a\u3057\n\n\n\u7aef\u672b\u306e\u518d\u8d77\u52d5\n\u306a\u3057\n\u306a\u3057\n\u3042\u308a\n\n\n\n\n\u8003\u5bdf\n\nUIWebView\u3001WKWebView\u306eHSTS\u60c5\u5831\u306e\u4fdd\u5b58\u9818\u57df\u306f\u30a2\u30d7\u30ea\u5185\u3063\u307d\u3044\u3002\nSFSafariViewController\u306e\u306f\u3001\u305d\u3082\u305d\u3082webView\u81ea\u4f53\u304cSafari\u306a\u306e\u3067\u3001Safari\u3068\u540c\u3058\u9818\u57df\uff08OS\u306e\u30ec\u30a4\u30e4\u30fc\uff1f\uff09\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u6a21\u69d8\u3002\n\n\n\nhttp://kaworu.jpn.org/security/HSTS_Super_Cookies \u306b\u3042\u308b\u3088\u3046\u306b\u3001\u3069\u3046\u3084\u3089iCloud\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3089\u3057\u3044\uff08\u672a\u691c\u8a3c\uff09\n\n\n\u307e\u3041\u30011\u6708\u304b\u3089\u59cb\u307e\u308bATS\u5fc5\u9808\u5316\u306b\u5408\u308f\u305b\u3066http\u30b5\u30a4\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u304f\u306a\u308b\u304b\u3089\u3001\u305d\u3082\u305d\u3082\u95a2\u4fc2\u306a\u3044\u3051\u3069\u306a\uff01\uff01\uff01\uff01\n\n\n\u4f59\u8ac7\n\nUIWebView\u3001WKWebView\u306eHSTS\u60c5\u5831\u3092\u30a2\u30d7\u30ea\u524a\u9664\u4ee5\u5916\u306e\u65b9\u6cd5\u3067\u30ea\u30bb\u30c3\u30c8\u3067\u304d\u306a\u3044\u3060\u308d\u3046\u304b\n\u4ee5\u4e0b\u3084\u3063\u3066\u307f\u305f\u3053\u3068\u3002\n* UIWebView\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u524a\u9664\n* WKWebView\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u524a\u9664\n* /tmp\u3001/Caches\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u524a\u9664\n\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u3002\n\nAppDelegate.swift\n    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {\n\n        // UIWebView\u7528\u30ad\u30e3\u30c3\u30b7\u30e5\u524a\u9664\n        URLCache.shared.removeAllCachedResponses()\n        URLCache.shared.diskCapacity = 0\n        URLCache.shared.memoryCapacity = 0\n\n        // WKWebView\u7528\u30ad\u30e3\u30c3\u30b7\u30e5\u524a\u9664\n        let websiteDataTypes = NSSet(array: [\n            WKWebsiteDataTypeDiskCache,\n            WKWebsiteDataTypeMemoryCache,\n            WKWebsiteDataTypeCookies,\n            WKWebsiteDataTypeLocalStorage,\n            WKWebsiteDataTypeSessionStorage,\n            WKWebsiteDataTypeWebSQLDatabases,\n            WKWebsiteDataTypeIndexedDBDatabases,\n            WKWebsiteDataTypeOfflineWebApplicationCache])\n        WKWebsiteDataStore.default().removeData(ofTypes: websiteDataTypes as! Set<String>, modifiedSince: Date(timeIntervalSince1970: 0), completionHandler: {})\n\n        // \u30a2\u30d7\u30ea\u5168\u4f53\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u3068\u306b\u304b\u304f\u524a\u9664\n        let pathArray = NSSearchPathForDirectoriesInDomains(FileManager.SearchPathDirectory.cachesDirectory, .userDomainMask, true)\n        for path in pathArray {\n            try? FileManager().removeItem(atPath: path)\n        }\n        try? FileManager().removeItem(atPath: NSTemporaryDirectory())\n\n        return true\n    }\n\n\n\n\u7d50\u8ad6\n\n\u6d88\u305b\u306a\u3044(\u00b4\u30fb\u03c9\u30fb\uff40)\n\n\u3053\u306e\u8a18\u4e8b\u306f[Wano\u30b0\u30eb\u30fc\u30d7 Advent Calendar 2016](http://qiita.com/advent-calendar/2016/wano-group)\u306e5\u65e5\u76ee\u3067\u3059\u3002\n\n# \u7d50\u8ad6\n* ATS\uff08App Transport Security\uff09\u3092\u30aa\u30f3\u306b\u3057\u3066\u305f\u3089\u305d\u3082\u305d\u3082http\u306e\u30b5\u30a4\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u304b\u3089\u8003\u3048\u306a\u304f\u3066\u3088\u304f\u306d\u3002\n\n# \u4ee5\u4e0b\u691c\u8a3c\n## \u305d\u3082\u305d\u3082HSTS Super Cookie\u3063\u3066\u306a\u306b\u3088\n\u4ee5\u4e0b\u53c2\u7167\u3002\nhttp://dev.classmethod.jp/client-side/browser/hsts-super-cookies/\n\n> HSTS\u3068\u3044\u3046\u6a5f\u80fd\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u30d6\u30e9\u30a6\u30b6\u306f[Strict-Transport-Security]\u3068\u3044\u3046\u30d8\u30c3\u30c0\u304c\u3064\u3044\u3066\u3044\u308bWeb\u30b5\u30a4\u30c8\u3092\u8a18\u9332\u3057\u3001\u6b21\u56de\u306b\u305d\u306e\u30b5\u30a4\u30c8\u3078\u306eHTTP\u30a2\u30af\u30bb\u30b9\u304c\u3042\u3063\u305f\u5834\u5408\u306f\u30d6\u30e9\u30a6\u30b6\u5074\u3067\u5224\u65ad\u3057\u3001\u76f4\u63a5HTTPS\u3067\u63a5\u7d9a\u3057\u306b\u884c\u304f\u3068\u3044\u3046\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u6280\u8853\u3067\u3059\u3002\n\uff08\u4e2d\u7565\uff09\nHSTS\u3067\u306f\u30a2\u30c9\u30ec\u30b9\u306e\u4e00\u6587\u5b57\u4e00\u6587\u5b57\u306b\u5bfe\u3057\u3066true\u304bfalse\u306ebit\u306b\u5909\u63db\u3001\u305d\u308c\u3092\u30d0\u30a4\u30ca\u30ea\u5024(PIN\u3001\u3068\u8a00\u3044\u307e\u3059)\u3068\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u5185\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\u305d\u3046\u3059\u308b\u3053\u3068\u306720\u5104\u4ee5\u4e0a\u306e\u30bf\u30b0\u4ed8\u3051\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\u4e0a\u3067\u8868\u793a\u3057\u305f\u7d44\u307f\u5408\u308f\u305b\u306f\u3053\u306e\u30d0\u30a4\u30ca\u30ea\u5024\u3092base36\u5909\u63db\u3057\u305f\u3082\u306e\u3067\u3059\u3002\n\n\u3053\u306e\u4fdd\u5b58\u3057\u305f\u60c5\u5831\u3068\u3044\u3046\u306e\u306f\u3001Cookie\u3068\u304bLocal Storage\u3068\u304b\u3068\u306f\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u6271\u308f\u308c\u65b9\u304c\u9055\u3046\u306e\u3067\u3001\uff08\u5bfe\u7b56\u3055\u308c\u3066\u3044\u306a\u3044\u3068\uff09\u30c7\u30fc\u30bf\u304c\u6b8b\u308a\u7d9a\u3051\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002\n~~\u3053\u308c\u3067\u307f\u3093\u306a\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u3055\u308c\u307e\u304f\u308a~~\n\n## \u4e8b\u306e\u7d4c\u7def\n\u4f1a\u793e\u306eSlack\u306edeveloper\u30c1\u30e3\u30f3\u30cd\u30eb\u306b\u3053\u3093\u306a\u60c5\u5831\u304c\u6295\u7a3f\u3055\u308c\u3066\u305f\u3002\nhttp://www.radicalresearch.co.uk/lab/hstssupercookies/\n\n\u5148\u8f29\u30a8\u30f3\u30b8\u30cb\u30a2\u3088\u308a\u3056\u3063\u304f\u308a\u8981\u7d04\n> HSTS Super Cookie \u306fFirefox \u306f\u5bfe\u7b56\u6e08\u307f\u3002Safari\u306f\u3084\u3070\u3044\u3068\u66f8\u3044\u3066\u3044\u308b\u3051\u3069\u5b9f\u969b\u306f\u3084\u3070\u304f\u306a\u3044\u3089\u3057\u3044\u3002IE\u306fHSTS\u672a\u5bfe\u5fdc\u306a\u306e\u3067\u95a2\u4fc2\u306a\u3044\u3002\u305d\u3046\u3060\u3002\n\n\u3068\u306e\u3053\u3068\u3002\n\u3042\u308c\u3001WebView\u306f\uff1f\uff1f\n\n## \u3068\u3044\u3046\u308f\u3051\u3067\u691c\u8a3c\u3057\u3066\u307f\u305f\u3002\n\u4e0a\u8a18\u306e\u30b5\u30a4\u30c8\u306b\u5404webView\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001\u5024\u304c\u5909\u308f\u308b\u304b\u3069\u3046\u304b\u8abf\u3079\u305f\u3002\n\u691c\u8a3c\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u96d1\u306b\u66f8\u3044\u305f\u3002\n\n* UIWebView\n\n```swift:ViewController.swift\nimport UIKit\n\nclass ViewController: UIViewController {\n    var webView: UIWebView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        webView = UIWebView(frame: UIScreen.main.bounds)\n        let url = URL(string: \"http://www.radicalresearch.co.uk/lab/hstssupercookies/\")!\n        let request = URLRequest(url: url)\n        webView.loadRequest(request)\n        view.addSubview(webView)\n    }\n}\n```\n\n* WKWebView\n\n```swift:ViewConroller2.swift\nimport UIKit\nimport WebKit\n\nclass ViewController2: UIViewController {\n    var webView: WKWebView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        webView = WKWebView(frame: UIScreen.main.bounds)\n        let url = URL(string: \"http://www.radicalresearch.co.uk/lab/hstssupercookies/\")!\n        let request = URLRequest(url: url)\n        webView.load(request)\n        view.addSubview(webView)\n    }\n}\n```\n\n* SFSafariViewController\n\n```swift:ViewController3.swift\nimport UIKit\nimport SafariServices\n\nclass ViewController3: UIViewController {\n    @IBOutlet weak var containerView: UIView!\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        let url = URL(string: \"http://www.radicalresearch.co.uk/lab/hstssupercookies/\")!\n        let viewController = SFSafariViewController(url: url, entersReaderIfAvailable: true)\n        viewController.view.frame = UIScreen.main.bounds\n        \n        addChildViewController(viewController)\n        containerView.addSubview(viewController.view)\n        viewController.didMove(toParentViewController: self)\n    }\n}\n```\n\n* SFSafariViewController\u306fView\u3058\u3083\u306a\u3044\u306e\u3067ContainerView\u3092\u4f7f\u3063\u305f\u3002\n* \u3082\u3061\u308d\u3093ATS\u3092\u30aa\u30d5\u306b\u3057\u3066http\u30b5\u30a4\u30c8\u3078\u306e\u63a5\u7d9a\u3092\u8a31\u53ef\u3057\u3066\u3044\u308b\u3002\n* ~~\u3053\u306e\u8fba\u3067\u3001\u3042\u308c\u3001ATS\u3060\u3068\u305d\u3082\u305d\u3082http\u306e\u30b5\u30a4\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u51fa\u6765\u306a\u3044\u304b\u3089\u95a2\u4fc2\u306a\u304f\u306d\uff1f\u3063\u3066\u6c17\u3065\u3044\u305f\u3051\u3069\u6c17\u306e\u305b\u3044\u3002~~\n\n## \u7d50\u679c\n* \u3042\u308a - \u4e0a\u8a18\u30b5\u30a4\u30c8\u3067\u5024\u306b\u5909\u5316\u304c\u3042\u3063\u305f = HSTS\u3067\u4fdd\u5b58\u3055\u308c\u305f\u60c5\u5831\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u305f\n* \u306a\u3057 - \u4e0a\u8a18\u30b5\u30a4\u30c8\u3067\u5024\u306b\u5909\u5316\u304c\u306a\u304b\u3063\u305f = HSTS\u3067\u4fdd\u5b58\u3055\u308c\u305f\u60c5\u5831\u304c\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u306a\u304b\u3063\u305f\n\n|  | UIWebView | WKWebView | SFSafariViewController |\n|:-:|:-:|:-:|:-:|\n| webView\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u308a\u76f4\u3057 | \u306a\u3057 | \u306a\u3057 | \u306a\u3057 |\n| \u30a2\u30d7\u30ea\u306e\u7d42\u4e86 | \u306a\u3057 | \u306a\u3057 | \u306a\u3057 |\n| \u30a2\u30d7\u30ea\u306e\u524a\u9664&\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb | \u3042\u308a | \u3042\u308a | \u306a\u3057 |\n| \u7aef\u672b\u306e\u518d\u8d77\u52d5 | \u306a\u3057 | \u306a\u3057 | \u3042\u308a |\n\n## \u8003\u5bdf\n* UIWebView\u3001WKWebView\u306eHSTS\u60c5\u5831\u306e\u4fdd\u5b58\u9818\u57df\u306f\u30a2\u30d7\u30ea\u5185\u3063\u307d\u3044\u3002\n* SFSafariViewController\u306e\u306f\u3001\u305d\u3082\u305d\u3082webView\u81ea\u4f53\u304cSafari\u306a\u306e\u3067\u3001Safari\u3068\u540c\u3058\u9818\u57df\uff08OS\u306e\u30ec\u30a4\u30e4\u30fc\uff1f\uff09\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u6a21\u69d8\u3002\n    * http://kaworu.jpn.org/security/HSTS_Super_Cookies \u306b\u3042\u308b\u3088\u3046\u306b\u3001\u3069\u3046\u3084\u3089iCloud\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b\u3089\u3057\u3044\uff08\u672a\u691c\u8a3c\uff09\n* \u307e\u3041\u30011\u6708\u304b\u3089\u59cb\u307e\u308bATS\u5fc5\u9808\u5316\u306b\u5408\u308f\u305b\u3066http\u30b5\u30a4\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u304f\u306a\u308b\u304b\u3089\u3001\u305d\u3082\u305d\u3082\u95a2\u4fc2\u306a\u3044\u3051\u3069\u306a\uff01\uff01\uff01\uff01\n\n# \u4f59\u8ac7\n## UIWebView\u3001WKWebView\u306eHSTS\u60c5\u5831\u3092\u30a2\u30d7\u30ea\u524a\u9664\u4ee5\u5916\u306e\u65b9\u6cd5\u3067\u30ea\u30bb\u30c3\u30c8\u3067\u304d\u306a\u3044\u3060\u308d\u3046\u304b\n\u4ee5\u4e0b\u3084\u3063\u3066\u307f\u305f\u3053\u3068\u3002\n* UIWebView\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u524a\u9664\n* WKWebView\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u524a\u9664\n* /tmp\u3001/Caches\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u524a\u9664\n\n\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u306f\u3053\u3093\u306a\u3002\n\n```swift:AppDelegate.swift\n    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {\n        \n        // UIWebView\u7528\u30ad\u30e3\u30c3\u30b7\u30e5\u524a\u9664\n        URLCache.shared.removeAllCachedResponses()\n        URLCache.shared.diskCapacity = 0\n        URLCache.shared.memoryCapacity = 0\n        \n        // WKWebView\u7528\u30ad\u30e3\u30c3\u30b7\u30e5\u524a\u9664\n        let websiteDataTypes = NSSet(array: [\n            WKWebsiteDataTypeDiskCache,\n            WKWebsiteDataTypeMemoryCache,\n            WKWebsiteDataTypeCookies,\n            WKWebsiteDataTypeLocalStorage,\n            WKWebsiteDataTypeSessionStorage,\n            WKWebsiteDataTypeWebSQLDatabases,\n            WKWebsiteDataTypeIndexedDBDatabases,\n            WKWebsiteDataTypeOfflineWebApplicationCache])\n        WKWebsiteDataStore.default().removeData(ofTypes: websiteDataTypes as! Set<String>, modifiedSince: Date(timeIntervalSince1970: 0), completionHandler: {})\n        \n        // \u30a2\u30d7\u30ea\u5168\u4f53\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u3068\u306b\u304b\u304f\u524a\u9664\n        let pathArray = NSSearchPathForDirectoriesInDomains(FileManager.SearchPathDirectory.cachesDirectory, .userDomainMask, true)\n        for path in pathArray {\n            try? FileManager().removeItem(atPath: path)\n        }\n        try? FileManager().removeItem(atPath: NSTemporaryDirectory())\n        \n        return true\n    }\n```\n\n## \u7d50\u8ad6\n* \u6d88\u305b\u306a\u3044(\u00b4\u30fb\u03c9\u30fb\uff40)\n", "tags": ["hsts", "swit", "iOS", "\u30a2\u30d7\u30ea\u958b\u767a"]}