{"tags": ["Objective-C", "Terminal", "Make"], "context": " More than 1 year has passed since last update.Xcode \u304c\u82e6\u624b\u3002\u305b\u3081\u3066\u30b3\u30fc\u30c9\u30b9\u30b1\u30c3\u30c1\u304f\u3089\u3044\u306f\u6163\u308c\u89aa\u3057\u3093\u3060 vim + terminal \u3067\u3057\u305f\u3044\u3068\u3044\u3046\u8a71\uff08\u305d\u306e4\uff09\u3002\n\u305d\u3053\u3067 Objective-C \u3092\u3064\u304b\u3063\u3066 terminal + make \u3067\u30d3\u30eb\u30c9\uff06\u5b9f\u884c\u3067\u304d\u308b\u30b3\u30fc\u30c9\u30b9\u30b1\u30c3\u30c1\u3092\u66f8\u3044\u305f\u306e\u3067\u6295\u7a3f\u3057\u307e\u3059\u3002\n\u6700\u7d42\u7684\u306b \u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u751f\u6210\u3055\u308c\u308bPNG\u753b\u50cf\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n\n\u30b7\u30a7\u30eb\u30d4\u30f3\u30b9\u30ad\u30fc\u306e\u4e09\u89d2\u5f62\u306e\u63cf\u5199\n\u3088\u3046\u3084\u304f\u3053\u3053\u307e\u3067\u304d\u305f\u3002Objective-C \u7d50\u69cb\u5927\u5909\u3002  \n\u305d\u306e3\u3067\u4e09\u89d2\u5f62\u3092\u63cf\u304f\u3068\u3053\u308d\u307e\u3067\u3067\u304d\u305f\u306e\u3067\u3001\u3042\u3068\u306f\u518d\u5e30\u3092\u4f7f\u3063\u3066\u3001\u7e70\u308a\u8fd4\u3057\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3057\u3066\u3044\u3051\u3070\u3001\u30b7\u30a7\u30eb\u30d4\u30f3\u30b9\u30ad\u30fc\u306e\u4e09\u89d2\u5f62\u306f\u5b8c\u6210\u3059\u308b\u3002\n\u4f8b\u306b\u3088\u3063\u3066\u5168\u4f53\u306e\u30b3\u30fc\u30c9\u306f\u9577\u3044\u306e\u3067\u3053\u3061\u3089\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\u30e1\u30a4\u30f3\n\u305d\u306e3\u3067\u306f\u3001\u30e1\u30a4\u30f3\u306e\u4e2d\u3067\u76f4\u63a5\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306f\u4f4d\u7f6e\u3092\u5909\u3048\u306a\u304c\u3089\u7e70\u308a\u8fd4\u3057\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001ManyTriangleMaker \u306b\u51e6\u7406\u3092\u4efb\u305b\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u3067\u3059...\n[manyTriangleMaker drawWithWidth:width andHeight:height andRecursionCount:8];\n\naddRecursionCount \u3067\u518d\u5e30\u3059\u308b\u56de\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3042\u307e\u308a\u5927\u304d\u306a\u6570\u5024\u3092\u5165\u308c\u308b\u3068\u51e6\u7406\u304c\u7d42\u308f\u308a\u307e\u305b\u3093\u3002\nint main(int argc, const char * argv[]){\n\n    // 0)\n    float width  = 500;\n    float height = 500;\n\n    // 1) create ctx\n    CGContextRef ctx = [PngUtil contextWithWidth:width andHeight:height];\n\n    // 2) draw many triangles\n    ManyTriangleMaker *manyTriangleMaker = [[ManyTriangleMaker alloc] initWithContext:ctx];\n    [manyTriangleMaker drawWithWidth:width andHeight:height andRecursionCount:8];\n\n    // 3) save ctx\n    [PngUtil export:ctx withFilePath:@\"result.png\"];\n\n    // 4)\n    CFRelease(ctx);\n\n    return (0);\n}\n\n\n\u518d\u5e30\u7684\u306b\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3059\u308b ManyTriangleMaker\n\u3053\u3053\u306e drawTriangle \u307b\u306b\u3083\u3089\u3089\u30e1\u30bd\u30c3\u30c9\u3092\u518d\u5e30\u7684\u306b\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u3001\u5c11\u3057\u3065\u3064\u4f4d\u7f6e\u3092\u5909\u3048\u306a\u304c\u3089\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u306f\u3001\u518d\u5e30\u56de\u6570(counter)\u3068\u4e09\u89d2\u5f62\u306e\u30c8\u30c3\u30d7\u306e\u9802\u70b9\u5ea7\u6a19(startPoint)\u3068\u8fba\u306e\u9577\u3055(lengthOfSide)\u3092\u53d7\u3051\u53d6\u308a\u51e6\u7406\u3057\u307e\u3059\u3002\n\u6700\u521d\u306b\u3001\u518d\u5e30\u56de\u6570\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066 0 \u4ee5\u4e0b\u306a\u3089\u3070\u51e6\u7406\u3092\u505c\u6b62(1)\u3001\u305d\u3046\u3067\u306a\u3051\u308c\u3070\u4e09\u89d2\u5f62\u3092\u63cf\u5199(2)\u3057\u3001\u4eca\u63cf\u3044\u305f\u4e09\u89d2\u5f62\u306e\uff13\u3064\u306e\u9802\u70b9\u3068\u8fba\u30921/2\u3057\u305f\u9577\u3055\u3092\u4f7f\u3063\u3066\u518d\u5e30(3)\u3057\u3066\u3044\u307e\u3059\u3002\n@implementation ManyTriangleMaker\n\n+ (void)\n    drawTriangle    : (Triangle *) triangle\n    andCounter      : (int) counter\n    andStartPoint   : (CGPoint) startPoint\n    andLengthOfSide : (int) lengthOfSide {\n\n    // 1) check counter\n    if( counter<0 ){\n        return ;\n    }\n\n    // 2) draw triangle\n    CGPoint bottomLeftPoint  = CGPointMake(\n            startPoint.x - lengthOfSide/2, startPoint.y + lengthOfSide ); \n    CGPoint bottomRightPoint = CGPointMake(\n            startPoint.x + lengthOfSide/2, startPoint.y + lengthOfSide ); \n\n    [triangle drawWithTop:startPoint andLeftBottom:bottomLeftPoint andRightBottom:bottomRightPoint];\n\n    // 3) recursion\n    [ManyTriangleMaker\n        drawTriangle   : triangle\n        andCounter     : counter-1\n        andStartPoint  : startPoint\n        andLengthOfSide: lengthOfSide/2 ];\n    [ManyTriangleMaker\n        drawTriangle   : triangle\n        andCounter     : counter-1\n        andStartPoint  : bottomLeftPoint\n        andLengthOfSide: lengthOfSide/2 ];\n    [ManyTriangleMaker\n        drawTriangle   : triangle\n        andCounter     : counter-1\n        andStartPoint  : bottomRightPoint\n        andLengthOfSide: lengthOfSide/2 ];\n}\n\n\ndraw-triangles.m \u306e\u30d3\u30eb\u30c9\u3068\u5b9f\u884c\n\nmakefile\nclangoptions:=-fobjc-arc -fmodules\nframeworks  :=-framework CoreGraphics -framework Foundation\n\nrun : draw-triangles\n    ./$<\n\ndraw-triangles : draw-triangles.m\n    clang -o $@ $(clangoptions) $(frameworks) $<\n\nclean :\n    $(RM) draw-triangles\n    $(RM) *.png\n\n\n\u5b9f\u884c\u3059\u308b\u3068 result.png \u306b \u5192\u982d\u306e\u753b\u50cf \u30b7\u30a7\u30eb\u30d4\u30f3\u30b9\u30ad\u30fc\u306e\u4e09\u89d2\u5f62 \u304c\u63cf\u5199\u3055\u308c\u305fPNG\u753b\u50cf\u304c\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002 \n\u3053\u308c\u3067\u30b7\u30a7\u30eb\u30d4\u30f3\u30b9\u30ad\u30fc\u306e\u4e09\u89d2\u5f62\u306e\u63cf\u5199\u30b3\u30fc\u30c9\u306f\u5b8c\u6210\u3067\u3059\u304c\u3001\u3059\u3079\u3066\u306e\u30b3\u30fc\u30c9\u3092\u4e00\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u3066\u3044\u3066\u5b9f\u7528\u7684\u3067\u306f\u306a\u3044\u305f\u3081\u3001\u6b21\u306f\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u3066\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\u305d\u306e5 \u3078\u7d9a\u304f\u3002\nXcode \u304c\u82e6\u624b\u3002\u305b\u3081\u3066\u30b3\u30fc\u30c9\u30b9\u30b1\u30c3\u30c1\u304f\u3089\u3044\u306f\u6163\u308c\u89aa\u3057\u3093\u3060 vim + terminal \u3067\u3057\u305f\u3044\u3068\u3044\u3046\u8a71\uff08\u305d\u306e4\uff09\u3002\n\n\u305d\u3053\u3067 Objective-C \u3092\u3064\u304b\u3063\u3066 terminal + make \u3067\u30d3\u30eb\u30c9\uff06\u5b9f\u884c\u3067\u304d\u308b\u30b3\u30fc\u30c9\u30b9\u30b1\u30c3\u30c1\u3092\u66f8\u3044\u305f\u306e\u3067\u6295\u7a3f\u3057\u307e\u3059\u3002\n\u6700\u7d42\u7684\u306b \u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3057\u3066\u751f\u6210\u3055\u308c\u308bPNG\u753b\u50cf\u306f\u3053\u3093\u306a\u611f\u3058\u3002\n\n![sierpinski-triangle-with-objective-c.png](https://qiita-image-store.s3.amazonaws.com/0/101400/48938ea4-abdf-503f-d232-3a72e4f6b71d.png)\n\n## \u30b7\u30a7\u30eb\u30d4\u30f3\u30b9\u30ad\u30fc\u306e\u4e09\u89d2\u5f62\u306e\u63cf\u5199\n\n\u3088\u3046\u3084\u304f\u3053\u3053\u307e\u3067\u304d\u305f\u3002Objective-C \u7d50\u69cb\u5927\u5909\u3002 :sweat_smile: \n[\u305d\u306e3](http://qiita.com/mindboard/items/eb716a8b344518e41e57)\u3067\u4e09\u89d2\u5f62\u3092\u63cf\u304f\u3068\u3053\u308d\u307e\u3067\u3067\u304d\u305f\u306e\u3067\u3001\u3042\u3068\u306f\u518d\u5e30\u3092\u4f7f\u3063\u3066\u3001\u7e70\u308a\u8fd4\u3057\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3057\u3066\u3044\u3051\u3070\u3001\u30b7\u30a7\u30eb\u30d4\u30f3\u30b9\u30ad\u30fc\u306e\u4e09\u89d2\u5f62\u306f\u5b8c\u6210\u3059\u308b\u3002\n\n\u4f8b\u306b\u3088\u3063\u3066\u5168\u4f53\u306e\u30b3\u30fc\u30c9\u306f\u9577\u3044\u306e\u3067[\u3053\u3061\u3089](https://github.com/mindboard/sierpinski-triangle-with-objective-c/blob/master/draw-triangles/draw-triangles.m)\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n### \u30e1\u30a4\u30f3\n\n[\u305d\u306e3](http://qiita.com/mindboard/items/eb716a8b344518e41e57)\u3067\u306f\u3001\u30e1\u30a4\u30f3\u306e\u4e2d\u3067\u76f4\u63a5\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306f\u4f4d\u7f6e\u3092\u5909\u3048\u306a\u304c\u3089\u7e70\u308a\u8fd4\u3057\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001ManyTriangleMaker \u306b\u51e6\u7406\u3092\u4efb\u305b\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u3059...\n\n```objc\n[manyTriangleMaker drawWithWidth:width andHeight:height andRecursionCount:8];\n```\n\naddRecursionCount \u3067\u518d\u5e30\u3059\u308b\u56de\u6570\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3042\u307e\u308a\u5927\u304d\u306a\u6570\u5024\u3092\u5165\u308c\u308b\u3068\u51e6\u7406\u304c\u7d42\u308f\u308a\u307e\u305b\u3093\u3002\n\n\n```objc\nint main(int argc, const char * argv[]){\n\n\t// 0)\n\tfloat width  = 500;\n\tfloat height = 500;\n\n\t// 1) create ctx\n\tCGContextRef ctx = [PngUtil contextWithWidth:width andHeight:height];\n\n\t// 2) draw many triangles\n\tManyTriangleMaker *manyTriangleMaker = [[ManyTriangleMaker alloc] initWithContext:ctx];\n\t[manyTriangleMaker drawWithWidth:width andHeight:height andRecursionCount:8];\n\n\t// 3) save ctx\n\t[PngUtil export:ctx withFilePath:@\"result.png\"];\n\n\t// 4)\n\tCFRelease(ctx);\n\n\treturn (0);\n}\n```\n\n\n### \u518d\u5e30\u7684\u306b\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3059\u308b ManyTriangleMaker\n\n\u3053\u3053\u306e drawTriangle \u307b\u306b\u3083\u3089\u3089\u30e1\u30bd\u30c3\u30c9\u3092\u518d\u5e30\u7684\u306b\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u3001\u5c11\u3057\u3065\u3064\u4f4d\u7f6e\u3092\u5909\u3048\u306a\u304c\u3089\u4e09\u89d2\u5f62\u3092\u63cf\u5199\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u306f\u3001\u518d\u5e30\u56de\u6570(counter)\u3068\u4e09\u89d2\u5f62\u306e\u30c8\u30c3\u30d7\u306e\u9802\u70b9\u5ea7\u6a19(startPoint)\u3068\u8fba\u306e\u9577\u3055(lengthOfSide)\u3092\u53d7\u3051\u53d6\u308a\u51e6\u7406\u3057\u307e\u3059\u3002\n\u6700\u521d\u306b\u3001\u518d\u5e30\u56de\u6570\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066 0 \u4ee5\u4e0b\u306a\u3089\u3070\u51e6\u7406\u3092\u505c\u6b62(1)\u3001\u305d\u3046\u3067\u306a\u3051\u308c\u3070\u4e09\u89d2\u5f62\u3092\u63cf\u5199(2)\u3057\u3001\u4eca\u63cf\u3044\u305f\u4e09\u89d2\u5f62\u306e\uff13\u3064\u306e\u9802\u70b9\u3068\u8fba\u30921/2\u3057\u305f\u9577\u3055\u3092\u4f7f\u3063\u3066\u518d\u5e30(3)\u3057\u3066\u3044\u307e\u3059\u3002\n\n```objc\n@implementation ManyTriangleMaker\n\n+ (void)\n   \tdrawTriangle    : (Triangle *) triangle\n   \tandCounter      : (int) counter\n   \tandStartPoint   : (CGPoint) startPoint\n   \tandLengthOfSide : (int) lengthOfSide {\n\n\t// 1) check counter\n\tif( counter<0 ){\n\t\treturn ;\n\t}\n\n\t// 2) draw triangle\n\tCGPoint bottomLeftPoint  = CGPointMake(\n\t\t   \tstartPoint.x - lengthOfSide/2, startPoint.y + lengthOfSide ); \n\tCGPoint bottomRightPoint = CGPointMake(\n\t\t   \tstartPoint.x + lengthOfSide/2, startPoint.y + lengthOfSide ); \n\n\t[triangle drawWithTop:startPoint andLeftBottom:bottomLeftPoint andRightBottom:bottomRightPoint];\n\n\t// 3) recursion\n\t[ManyTriangleMaker\n\t   \tdrawTriangle   : triangle\n\t   \tandCounter     : counter-1\n\t   \tandStartPoint  : startPoint\n \t\tandLengthOfSide: lengthOfSide/2 ];\n\t[ManyTriangleMaker\n\t   \tdrawTriangle   : triangle\n\t   \tandCounter     : counter-1\n\t   \tandStartPoint  : bottomLeftPoint\n\t  \tandLengthOfSide: lengthOfSide/2 ];\n\t[ManyTriangleMaker\n\t   \tdrawTriangle   : triangle\n\t   \tandCounter     : counter-1\n\t   \tandStartPoint  : bottomRightPoint\n\t   \tandLengthOfSide: lengthOfSide/2 ];\n}\n```\n\n## draw-triangles.m \u306e\u30d3\u30eb\u30c9\u3068\u5b9f\u884c\n\n```mf:makefile\nclangoptions:=-fobjc-arc -fmodules\nframeworks  :=-framework CoreGraphics -framework Foundation\n\nrun : draw-triangles\n\t./$<\n\ndraw-triangles : draw-triangles.m\n\tclang -o $@ $(clangoptions) $(frameworks) $<\n\nclean :\n\t$(RM) draw-triangles\n\t$(RM) *.png\n```\n\n\u5b9f\u884c\u3059\u308b\u3068 result.png \u306b \u5192\u982d\u306e\u753b\u50cf \u30b7\u30a7\u30eb\u30d4\u30f3\u30b9\u30ad\u30fc\u306e\u4e09\u89d2\u5f62 \u304c\u63cf\u5199\u3055\u308c\u305fPNG\u753b\u50cf\u304c\u3067\u304d\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002:smile: \n\n\u3053\u308c\u3067\u30b7\u30a7\u30eb\u30d4\u30f3\u30b9\u30ad\u30fc\u306e\u4e09\u89d2\u5f62\u306e\u63cf\u5199\u30b3\u30fc\u30c9\u306f\u5b8c\u6210\u3067\u3059\u304c\u3001\u3059\u3079\u3066\u306e\u30b3\u30fc\u30c9\u3092\u4e00\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u3066\u3044\u3066\u5b9f\u7528\u7684\u3067\u306f\u306a\u3044\u305f\u3081\u3001\u6b21\u306f\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u5272\u3057\u3066\u30d3\u30eb\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n[\u305d\u306e5](http://qiita.com/mindboard/items/27b972735a9fe14d5a69) \u3078\u7d9a\u304f\u3002\n"}