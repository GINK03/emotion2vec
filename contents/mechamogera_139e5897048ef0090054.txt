{"context": " More than 1 year has passed since last update.\n\nCloudWatch\u306bEC2\u306e\u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u7387\u3092\u767b\u9332\u3057\u3066\u307f\u308b #AmazonLinux #Ruby #EC2 #CloudWatch - Qiita\u3068\u540c\u3058\u74b0\u5883\u3001\u9014\u4e2d\u307e\u3067\u540c\u3058\u624b\u9806\n\n\n\u767b\u9332\u624b\u9806\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\u78ba\u8a8d\n\n $ ruby /home/ec2-user/script/mon-put-data/mon-put-data.rb \\\n--namespace AWS/EC2 \\\n--metric-name MemoryFree \\\n--dimensions InstanceId=\"`wget -q -O - http://169.254.169.254/latest/meta-data/instance-id`\" \\\n--unit Megabytes \\\n--value `free -m | grep buffers/cache | sed -e 's/\\s\\{1,\\}/ /g' | cut -d' ' -f4` \\\n--endpoint ap-northeast-1\n\n\ncrontab\u3078\u306e\u767b\u9332\n\n*/5 * * * * ruby /home/ec2-user/script/mon-put-data/mon-put-data.rb --namespace AWS/EC2 --metric-name MemoryFree --dimensions InstanceId=\"`wget -q -O - http://169.254.169.254/latest/meta-data/instance-id`\" --unit Megabytes --value `free -m | grep buffers/cache | sed -e 's/\\s\\{1,\\}/ /g' | cut -d' ' -f4` --endpoint ap-northeast-1\n\n\nManagementConsole\u3067CloudWatch\u78ba\u8a8d => OK\n\n * [CloudWatch\u306bEC2\u306e\u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u7387\u3092\u767b\u9332\u3057\u3066\u307f\u308b #AmazonLinux #Ruby #EC2 #CloudWatch - Qiita](http://qiita.com/items/0f72cbb08c7cd706911f)\u3068\u540c\u3058\u74b0\u5883\u3001\u9014\u4e2d\u307e\u3067\u540c\u3058\u624b\u9806\n\n## \u767b\u9332\u624b\u9806\n * \u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\u78ba\u8a8d\n\n```bash\n $ ruby /home/ec2-user/script/mon-put-data/mon-put-data.rb \\\n--namespace AWS/EC2 \\\n--metric-name MemoryFree \\\n--dimensions InstanceId=\"`wget -q -O - http://169.254.169.254/latest/meta-data/instance-id`\" \\\n--unit Megabytes \\\n--value `free -m | grep buffers/cache | sed -e 's/\\s\\{1,\\}/ /g' | cut -d' ' -f4` \\\n--endpoint ap-northeast-1\n```\n\n* crontab\u3078\u306e\u767b\u9332\n\n```bash\n*/5 * * * * ruby /home/ec2-user/script/mon-put-data/mon-put-data.rb --namespace AWS/EC2 --metric-name MemoryFree --dimensions InstanceId=\"`wget -q -O - http://169.254.169.254/latest/meta-data/instance-id`\" --unit Megabytes --value `free -m | grep buffers/cache | sed -e 's/\\s\\{1,\\}/ /g' | cut -d' ' -f4` --endpoint ap-northeast-1\n```\n\n* ManagementConsole\u3067CloudWatch\u78ba\u8a8d => OK", "tags": ["EC2", "CloudWatch", "Ruby1.8.7p371", "AmazonLinuxAmazon Linux AMI 2012.09"]}