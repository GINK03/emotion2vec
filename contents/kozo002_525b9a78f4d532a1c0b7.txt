{"context": " More than 1 year has passed since last update.\n\n\u306f\u3058\u3081\u306b\nember.js\u3067DOM\u30a4\u30d9\u30f3\u30c8\u3092\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3059\u308b\u306b\u306f{{action}}\u3092\u4f7f\u3044\u307e\u3059\u3002\n\nitem-list.hbs\n<ul class=\"item-list\">\n  {{#each item in items}}\n    <li class=\"item\" {{action \"selectItem\" item}}>{{item.name}}</li>\n  {{/each}}\n</ul>\n\n\n\nitems_controller.js\nwindow.App.ItemsController = Ember.ArrayController.extend({\n  actions: {\n    selectItem: function(item) {\n      alert('Select: ' + item.name);\n    }\n  }\n})\n\n\n\u3053\u3046\u3059\u308b\u3068li.item\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u6642\u306bitem\u304ccontroller\u306b\u6e21\u3055\u308c\u3066item.name\u304c\u30a2\u30e9\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002\n\nclick\u30a4\u30d9\u30f3\u30c8\u4ee5\u5916\u3082\n\u3057\u304b\u3057click\u30a4\u30d9\u30f3\u30c8\u4ee5\u5916\u3067\u3082action\u3092\u767a\u751f\u3055\u305b\u305f\u3044\u5834\u5408\u3082\u3042\u308b\u306e\u3067{{action}}\u306b\u306fon\u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n\nitem-list.hbs\n<ul class=\"item-list\">\n  {{#each item in items}}\n    <li class=\"item\" {{action \"selectItem\" item on=\"mouseEnter\"}}>{{item.name}}</li>\n  {{/each}}\n</ul>\n\n\n\u3053\u306e\u3088\u3046\u306bon=\"mouseEnter\"\u3068\u3059\u308b\u3068li.item\u306b\u30de\u30a6\u30b9\u304c\u4e57\u3063\u305f\u3060\u3051\u3067\u53cd\u5fdc\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3067\u304d\u308b\u30a4\u30d9\u30f3\u30c8\u4e00\u89a7 http://emberjs.com/guides/understanding-ember/the-view-layer/#toc_adding-new-events\n\u4e0a\u8a18\u306e\u30ea\u30f3\u30af\u5148\u306b\u30a4\u30d9\u30f3\u30c8\u4e00\u89a7\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001scroll\u30a4\u30d9\u30f3\u30c8\u3063\u3066\u7121\u3044\u3093\u3067\u3059\u3088\u306d\u3002\n\u306a\u306e\u3067component\u3067\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\nScrollViewComponent\u306e\u5b9f\u88c5\n\nscroll_view_component.js\nwindow.App.ScrollViewComponent = Ember.Component.extend({\n  classNameBindings: ['className'],\n  className: '',\n\n  didInsertElement: function() {\n    var $el = this.$();\n    $el.on('scroll', function(e) {\n      var top = $el.scrollTop();\n      var visibleHeight = $el.height();\n      var scrollHeight = $el[0].scrollHeight;\n      var position = (top + visibleHeight) / scrollHeight;\n\n      var params = {\n        top: top,\n        visibleHeight: visibleHeight,\n        scrollHeight: scrollHeight,\n        position: position\n      };\n\n      this.sendAction('scroll', params);\n    });\n  }\n});\n\n\n\ncomponents/scroll-view.hbs\n{{yield}}\n\n\n\n\u4f7f\u3044\u65b9\n\u30d6\u30ed\u30c3\u30af\u3092\u53d7\u3051\u4ed8\u3051\u308b\u3060\u3051\u306ecomponent\u306a\u306e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3055\u305b\u305f\u3044\u30dc\u30c3\u30af\u30b9\u306e\u4ee3\u308f\u308a\u306b\u4f7f\u7528\u3057\u307e\u3059\n\nitem-list.hbs\n{{#scroll-view className=\"item-list-wrapper\" scroll=\"scrollList\"}}\n  <ul class=\"item-list\">\n    {{#each item in items}}\n      <li class=\"item\" {{action \"selectItem\" item}}>{{item.name}}</li>\n    {{/each}}\n  </ul>\n{{/scroll-view}}\n\n\ncontroller\u3067\u306fparams\u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30dc\u30c3\u30af\u30b9\u306e\u9ad8\u3055\u3068\u304b\u3001\u4f4d\u7f6e\u3068\u304b\u3044\u308d\u3044\u308d\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u4f55\u5272\u304f\u3089\u3044\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u3066\u308b\u306e\u304b\u3082\u8a08\u7b97\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u306e\u30679\u5272\u308a\u8d85\u3048\u305f\u3089\u4f55\u304b\u3059\u308b\u3068\u304b\u3082\u3067\u304d\u307e\u3059\u3002\n\nitems_controller.js\nwindow.App.ItemsController = Ember.ArrayController.extend({\n  actions: {\n    selectItem: function(item) {\n      alert('Select: ' + item.name);\n    },\n\n    scrollList: function(params) {\n      if (params.position > 0.9) {\n        alert('\u6700\u5f8c\u306e\u65b9\u307e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u307e\u3057\u305f\u306d\uff1f')\n      }\n    }\n  }\n})\n\n\n\u5927\u3057\u305f\u5b9f\u88c5\u3058\u3083\u306a\u3044\u3067\u3059\u3051\u3069\u7d50\u69cb\u5f79\u7acb\u3061\u305d\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u3002\n## \u306f\u3058\u3081\u306b\n\nember.js\u3067DOM\u30a4\u30d9\u30f3\u30c8\u3092\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3059\u308b\u306b\u306f```{{action}}```\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```html:item-list.hbs\n<ul class=\"item-list\">\n  {{#each item in items}}\n    <li class=\"item\" {{action \"selectItem\" item}}>{{item.name}}</li>\n  {{/each}}\n</ul>\n```\n\n```items_controller.js\nwindow.App.ItemsController = Ember.ArrayController.extend({\n  actions: {\n    selectItem: function(item) {\n      alert('Select: ' + item.name);\n    }\n  }\n})\n```\n\n\u3053\u3046\u3059\u308b\u3068```li.item```\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u6642\u306b```item```\u304ccontroller\u306b\u6e21\u3055\u308c\u3066```item.name```\u304c\u30a2\u30e9\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002\n\n## click\u30a4\u30d9\u30f3\u30c8\u4ee5\u5916\u3082\n\n\u3057\u304b\u3057```click```\u30a4\u30d9\u30f3\u30c8\u4ee5\u5916\u3067\u3082action\u3092\u767a\u751f\u3055\u305b\u305f\u3044\u5834\u5408\u3082\u3042\u308b\u306e\u3067```{{action}}```\u306b\u306f```on```\u3068\u3044\u3046\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u5099\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n\n```html:item-list.hbs\n<ul class=\"item-list\">\n  {{#each item in items}}\n    <li class=\"item\" {{action \"selectItem\" item on=\"mouseEnter\"}}>{{item.name}}</li>\n  {{/each}}\n</ul>\n```\n\n\u3053\u306e\u3088\u3046\u306b```on=\"mouseEnter\"```\u3068\u3059\u308b\u3068```li.item```\u306b\u30de\u30a6\u30b9\u304c\u4e57\u3063\u305f\u3060\u3051\u3067\u53cd\u5fdc\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n[\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u3067\u304d\u308b\u30a4\u30d9\u30f3\u30c8\u4e00\u89a7 http://emberjs.com/guides/understanding-ember/the-view-layer/#toc_adding-new-events](http://emberjs.com/guides/understanding-ember/the-view-layer/#toc_adding-new-events)\n\n\u4e0a\u8a18\u306e\u30ea\u30f3\u30af\u5148\u306b\u30a4\u30d9\u30f3\u30c8\u4e00\u89a7\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001```scroll```\u30a4\u30d9\u30f3\u30c8\u3063\u3066\u7121\u3044\u3093\u3067\u3059\u3088\u306d\u3002\n\u306a\u306e\u3067component\u3067\u5b9f\u88c5\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n## ScrollViewComponent\u306e\u5b9f\u88c5\n\n```scroll_view_component.js\nwindow.App.ScrollViewComponent = Ember.Component.extend({\n  classNameBindings: ['className'],\n  className: '',\n\n  didInsertElement: function() {\n    var $el = this.$();\n    $el.on('scroll', function(e) {\n      var top = $el.scrollTop();\n      var visibleHeight = $el.height();\n      var scrollHeight = $el[0].scrollHeight;\n      var position = (top + visibleHeight) / scrollHeight;\n\n      var params = {\n        top: top,\n        visibleHeight: visibleHeight,\n        scrollHeight: scrollHeight,\n        position: position\n      };\n\n      this.sendAction('scroll', params);\n    });\n  }\n});\n```\n\n```components/scroll-view.hbs\n{{yield}}\n```\n\n## \u4f7f\u3044\u65b9\n\n\u30d6\u30ed\u30c3\u30af\u3092\u53d7\u3051\u4ed8\u3051\u308b\u3060\u3051\u306ecomponent\u306a\u306e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3055\u305b\u305f\u3044\u30dc\u30c3\u30af\u30b9\u306e\u4ee3\u308f\u308a\u306b\u4f7f\u7528\u3057\u307e\u3059\n\n```item-list.hbs\n{{#scroll-view className=\"item-list-wrapper\" scroll=\"scrollList\"}}\n  <ul class=\"item-list\">\n    {{#each item in items}}\n      <li class=\"item\" {{action \"selectItem\" item}}>{{item.name}}</li>\n    {{/each}}\n  </ul>\n{{/scroll-view}}\n```\n\ncontroller\u3067\u306fparams\u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30dc\u30c3\u30af\u30b9\u306e\u9ad8\u3055\u3068\u304b\u3001\u4f4d\u7f6e\u3068\u304b\u3044\u308d\u3044\u308d\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u3002\n\u4f55\u5272\u304f\u3089\u3044\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u3066\u308b\u306e\u304b\u3082\u8a08\u7b97\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u306e\u30679\u5272\u308a\u8d85\u3048\u305f\u3089\u4f55\u304b\u3059\u308b\u3068\u304b\u3082\u3067\u304d\u307e\u3059\u3002\n\n```items_controller.js\nwindow.App.ItemsController = Ember.ArrayController.extend({\n  actions: {\n    selectItem: function(item) {\n      alert('Select: ' + item.name);\n    },\n\n    scrollList: function(params) {\n      if (params.position > 0.9) {\n        alert('\u6700\u5f8c\u306e\u65b9\u307e\u3067\u30b9\u30af\u30ed\u30fc\u30eb\u3057\u307e\u3057\u305f\u306d\uff1f')\n      }\n    }\n  }\n})\n```\n\n\u5927\u3057\u305f\u5b9f\u88c5\u3058\u3083\u306a\u3044\u3067\u3059\u3051\u3069\u7d50\u69cb\u5f79\u7acb\u3061\u305d\u3046\u306a\u6c17\u304c\u3057\u307e\u3059\u3002\n", "tags": ["Ember.js", "Component"]}