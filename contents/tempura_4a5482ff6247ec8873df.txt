{"context": "UnityAsset\u300cGodTouch\u300d\n\u2191Asset\u5316\u3057\u307e\u3057\u305f\u2606\n\nUnity\u3067\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u306e\u30bf\u30c3\u30c1\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\u304b\u3068\u601d\u3046\u3002\n\nTouch.cs\nif (Input.touchCount > 0)\n{\n    Touch touch = Input.GetTouch(0);\n    if(touch.phase == TouchPhase.Began)\n    {\n        // \u30bf\u30c3\u30c1\u958b\u59cb\n    }\n    else if (touch.phase == TouchPhase.Moved)\n    {\n        // \u30bf\u30c3\u30c1\u79fb\u52d5\n    }\n    else if (touch.phase == TouchPhase.Ended)\n    {\n        // \u30bf\u30c3\u30c1\u7d42\u4e86\n    }\n}\n\n\n\u3067\u3082\u3053\u308c\u3063\u3066\u30a8\u30c7\u30a3\u30bf\u4e0a\u3067\u306f\u52d5\u4f5c\u3057\u306a\u304f\u3066(\u30bf\u30c3\u30c1\u6570\u304c\u5e38\u306b0)\u3001\u30bf\u30c3\u30c1\u306e\u51e6\u7406\u3092\u6bce\u56de\u5b9f\u6a5f\u306b\u8ee2\u9001\u3057\u3066\u78ba\u8a8d\u3063\u3066\u306e\u306f\u30c0\u30eb\u3044\u3002\u3002\n\u3082\u3061\u308d\u3093AssetStore\u304b\u3089\u9069\u5f53\u306a\u30bf\u30c3\u30c1Asset\u3092\u53d6\u3063\u3066\u304d\u3066\u3082\u3044\u3044\u3051\u3069(\u3053\u3093\u306a\u3093\u3068\u304b\u2192 https://www.assetstore.unity3d.com/en/#!/content/3322 )\u3001\u5927\u62b5\u306e\u5834\u5408\u30bf\u30c3\u30c1\u51e6\u7406\u3063\u3066\u305d\u3093\u306a\u8907\u96d1\u3053\u3068\u3057\u306a\u304f\u3066\u3044\u3044\u304b\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u3092\u4f7f\u3063\u3066\u308b\u3002\n\nAppUtil.cs\npublic static class AppUtil\n{\n    private static Vector3 TouchPosition = Vector3.zero;\n\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u60c5\u5831\u3092\u53d6\u5f97(\u30a8\u30c7\u30a3\u30bf\u3068\u5b9f\u6a5f\u3092\u8003\u616e)\n    /// </summary>\n    /// <returns>\u30bf\u30c3\u30c1\u60c5\u5831\u3002\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f null</returns>\n    public static TouchInfo GetTouch()\n    {\n        if (AppConst.IsEditor)\n        {\n            if (Input.GetMouseButtonDown(0)) { return TouchInfo.Began; }\n            if (Input.GetMouseButton(0)) { return TouchInfo.Moved; }\n            if (Input.GetMouseButtonUp(0)) { return TouchInfo.Ended; }\n        }\n        else\n        {\n            if (Input.touchCount > 0)\n            {\n                return (TouchInfo)((int)Input.GetTouch(0).phase);\n            }\n        }\n        return TouchInfo.None;\n    }\n\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u30dd\u30b8\u30b7\u30e7\u30f3\u3092\u53d6\u5f97(\u30a8\u30c7\u30a3\u30bf\u3068\u5b9f\u6a5f\u3092\u8003\u616e)\n    /// </summary>\n    /// <returns>\u30bf\u30c3\u30c1\u30dd\u30b8\u30b7\u30e7\u30f3\u3002\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f (0, 0, 0)</returns>\n    public static Vector3 GetTouchPosition()\n    {\n        if (AppConst.IsEditor)\n        {\n            TouchInfo touch = AppUtil.GetTouch();\n            if (touch != TouchInfo.None) { return Input.mousePosition; }\n        }\n        else\n        {\n            if (Input.touchCount > 0)\n            {\n                Touch touch = Input.GetTouch(0);\n                TouchPosition.x = touch.position.x;\n                TouchPosition.y = touch.position.y;\n                return TouchPosition;\n            }\n        }\n        return Vector3.zero;\n    }\n\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u30ef\u30fc\u30eb\u30c9\u30dd\u30b8\u30b7\u30e7\u30f3\u3092\u53d6\u5f97(\u30a8\u30c7\u30a3\u30bf\u3068\u5b9f\u6a5f\u3092\u8003\u616e)\n    /// </summary>\n    /// <param name='camera'>\u30ab\u30e1\u30e9</param>\n    /// <returns>\u30bf\u30c3\u30c1\u30ef\u30fc\u30eb\u30c9\u30dd\u30b8\u30b7\u30e7\u30f3\u3002\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f (0, 0, 0)</returns>\n    public static Vector3 GetTouchWorldPosition(Camera camera)\n    {\n        return camera.ScreenToWorldPoint(GetTouchPosition());\n    }\n}\n\n/// <summary>\n/// \u30bf\u30c3\u30c1\u60c5\u5831\u3002UnityEngine.TouchPhase \u306b None \u306e\u60c5\u5831\u3092\u8ffd\u52a0\u62e1\u5f35\u3002\n/// </summary>\npublic enum TouchInfo\n{\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u306a\u3057\n    /// </summary>\n    None = 99,\n\n    // \u4ee5\u4e0b\u306f UnityEngine.TouchPhase \u306e\u5024\u306b\u5bfe\u5fdc\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u958b\u59cb\n    /// </summary>\n    Began = 0,\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u79fb\u52d5\n    /// </summary>\n    Moved = 1,\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u9759\u6b62\n    /// </summary>\n    Stationary = 2,\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u7d42\u4e86\n    /// </summary>\n    Ended = 3,\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u30ad\u30e3\u30f3\u30bb\u30eb\n    /// </summary>\n    Canceled = 4,\n}\n\n\n\u3064\u3044\u3067\u306b UnityEngine.TouchPhase \u5217\u6319\u578b\u306b\u30bf\u30c3\u30c1\u306a\u3057\u72b6\u614b\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u8ffd\u52a0\u3002\u3053\u308c\u3067\u30bf\u30c3\u30c1\u6570\u6c17\u306b\u305b\u305a GetTouch() \u3067 TouchInfo \u3055\u3048\u53d6\u5f97\u3059\u308c\u3070\u30bf\u30c3\u30c1\u5224\u5b9a\u3092\u51e6\u7406\u53ef\u80fd\u3002\n\nSceneStart.cs\n// \u4ee5\u524d\u306f\u3053\u3046\u66f8\u3044\u3066\u305f\u306e\u3092\u30fb\u30fb\u30fb\nif(Input.touchCount > 0)\n{\n    Touch touch = Input.GetTouch(0);\n    if(touch.phase == TouchPhase.Began)\n    {\n        // \u30bf\u30c3\u30c1\u958b\u59cb\n    }\n}\n\n// \u3053\u3046\u66f8\u3051\u308b\nTouchInfo info = AppUtil.GetTouch();\nif (info == TouchInfo.Began)\n{\n    // \u30bf\u30c3\u30c1\u958b\u59cb\n}\n\n\n\u3046\u3093\u3001\u30b9\u30de\u30fc\u30c8\n\nAuthor\nhttp://okamura0510.jp\n**[UnityAsset\u300cGodTouch\u300d](http://okamura0510.jp/%E9%96%8B%E7%99%BA%E3%83%96%E3%83%AD%E3%82%B0/godtouch/)**\n\u2191Asset\u5316\u3057\u307e\u3057\u305f\u2606\n\n* * *\n\nUnity\u3067\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u306e\u30bf\u30c3\u30c1\u51e6\u7406\u3092\u5b9f\u88c5\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3059\u308b\u304b\u3068\u601d\u3046\u3002\n\n```csharp:Touch.cs\nif (Input.touchCount > 0)\n{\n    Touch touch = Input.GetTouch(0);\n    if(touch.phase == TouchPhase.Began)\n    {\n        // \u30bf\u30c3\u30c1\u958b\u59cb\n    }\n    else if (touch.phase == TouchPhase.Moved)\n    {\n        // \u30bf\u30c3\u30c1\u79fb\u52d5\n    }\n    else if (touch.phase == TouchPhase.Ended)\n    {\n        // \u30bf\u30c3\u30c1\u7d42\u4e86\n    }\n}\n```\n\n\u3067\u3082\u3053\u308c\u3063\u3066\u30a8\u30c7\u30a3\u30bf\u4e0a\u3067\u306f\u52d5\u4f5c\u3057\u306a\u304f\u3066(\u30bf\u30c3\u30c1\u6570\u304c\u5e38\u306b0)\u3001\u30bf\u30c3\u30c1\u306e\u51e6\u7406\u3092\u6bce\u56de\u5b9f\u6a5f\u306b\u8ee2\u9001\u3057\u3066\u78ba\u8a8d\u3063\u3066\u306e\u306f\u30c0\u30eb\u3044\u3002\u3002\n\u3082\u3061\u308d\u3093AssetStore\u304b\u3089\u9069\u5f53\u306a\u30bf\u30c3\u30c1Asset\u3092\u53d6\u3063\u3066\u304d\u3066\u3082\u3044\u3044\u3051\u3069(\u3053\u3093\u306a\u3093\u3068\u304b\u2192 https://www.assetstore.unity3d.com/en/#!/content/3322 )\u3001\u5927\u62b5\u306e\u5834\u5408\u30bf\u30c3\u30c1\u51e6\u7406\u3063\u3066\u305d\u3093\u306a\u8907\u96d1\u3053\u3068\u3057\u306a\u304f\u3066\u3044\u3044\u304b\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u3092\u4f7f\u3063\u3066\u308b\u3002\n\n```csharp:AppUtil.cs\npublic static class AppUtil\n{\n    private static Vector3 TouchPosition = Vector3.zero;\n\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u60c5\u5831\u3092\u53d6\u5f97(\u30a8\u30c7\u30a3\u30bf\u3068\u5b9f\u6a5f\u3092\u8003\u616e)\n    /// </summary>\n    /// <returns>\u30bf\u30c3\u30c1\u60c5\u5831\u3002\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f null</returns>\n    public static TouchInfo GetTouch()\n    {\n        if (AppConst.IsEditor)\n        {\n            if (Input.GetMouseButtonDown(0)) { return TouchInfo.Began; }\n            if (Input.GetMouseButton(0)) { return TouchInfo.Moved; }\n            if (Input.GetMouseButtonUp(0)) { return TouchInfo.Ended; }\n        }\n        else\n        {\n            if (Input.touchCount > 0)\n            {\n                return (TouchInfo)((int)Input.GetTouch(0).phase);\n            }\n        }\n        return TouchInfo.None;\n    }\n\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u30dd\u30b8\u30b7\u30e7\u30f3\u3092\u53d6\u5f97(\u30a8\u30c7\u30a3\u30bf\u3068\u5b9f\u6a5f\u3092\u8003\u616e)\n    /// </summary>\n    /// <returns>\u30bf\u30c3\u30c1\u30dd\u30b8\u30b7\u30e7\u30f3\u3002\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f (0, 0, 0)</returns>\n    public static Vector3 GetTouchPosition()\n    {\n        if (AppConst.IsEditor)\n        {\n            TouchInfo touch = AppUtil.GetTouch();\n            if (touch != TouchInfo.None) { return Input.mousePosition; }\n        }\n        else\n        {\n            if (Input.touchCount > 0)\n            {\n                Touch touch = Input.GetTouch(0);\n                TouchPosition.x = touch.position.x;\n                TouchPosition.y = touch.position.y;\n                return TouchPosition;\n            }\n        }\n        return Vector3.zero;\n    }\n\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u30ef\u30fc\u30eb\u30c9\u30dd\u30b8\u30b7\u30e7\u30f3\u3092\u53d6\u5f97(\u30a8\u30c7\u30a3\u30bf\u3068\u5b9f\u6a5f\u3092\u8003\u616e)\n    /// </summary>\n    /// <param name='camera'>\u30ab\u30e1\u30e9</param>\n    /// <returns>\u30bf\u30c3\u30c1\u30ef\u30fc\u30eb\u30c9\u30dd\u30b8\u30b7\u30e7\u30f3\u3002\u30bf\u30c3\u30c1\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f (0, 0, 0)</returns>\n    public static Vector3 GetTouchWorldPosition(Camera camera)\n    {\n        return camera.ScreenToWorldPoint(GetTouchPosition());\n    }\n}\n\n/// <summary>\n/// \u30bf\u30c3\u30c1\u60c5\u5831\u3002UnityEngine.TouchPhase \u306b None \u306e\u60c5\u5831\u3092\u8ffd\u52a0\u62e1\u5f35\u3002\n/// </summary>\npublic enum TouchInfo\n{\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u306a\u3057\n    /// </summary>\n    None = 99,\n\n    // \u4ee5\u4e0b\u306f UnityEngine.TouchPhase \u306e\u5024\u306b\u5bfe\u5fdc\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u958b\u59cb\n    /// </summary>\n    Began = 0,\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u79fb\u52d5\n    /// </summary>\n    Moved = 1,\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u9759\u6b62\n    /// </summary>\n    Stationary = 2,\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u7d42\u4e86\n    /// </summary>\n    Ended = 3,\n    /// <summary>\n    /// \u30bf\u30c3\u30c1\u30ad\u30e3\u30f3\u30bb\u30eb\n    /// </summary>\n    Canceled = 4,\n}\n```\n\n\u3064\u3044\u3067\u306b UnityEngine.TouchPhase \u5217\u6319\u578b\u306b\u30bf\u30c3\u30c1\u306a\u3057\u72b6\u614b\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u8ffd\u52a0\u3002\u3053\u308c\u3067\u30bf\u30c3\u30c1\u6570\u6c17\u306b\u305b\u305a GetTouch() \u3067 TouchInfo \u3055\u3048\u53d6\u5f97\u3059\u308c\u3070\u30bf\u30c3\u30c1\u5224\u5b9a\u3092\u51e6\u7406\u53ef\u80fd\u3002\n\n```csharp:SceneStart.cs\n// \u4ee5\u524d\u306f\u3053\u3046\u66f8\u3044\u3066\u305f\u306e\u3092\u30fb\u30fb\u30fb\nif(Input.touchCount > 0)\n{\n    Touch touch = Input.GetTouch(0);\n    if(touch.phase == TouchPhase.Began)\n    {\n        // \u30bf\u30c3\u30c1\u958b\u59cb\n    }\n}\n\n// \u3053\u3046\u66f8\u3051\u308b\nTouchInfo info = AppUtil.GetTouch();\nif (info == TouchInfo.Began)\n{\n    // \u30bf\u30c3\u30c1\u958b\u59cb\n}\n```\n\n\u3046\u3093\u3001\u30b9\u30de\u30fc\u30c8\n\n# Author\n**http://okamura0510.jp**\n", "tags": ["Unity", "touch", "iOS", "Android", "editor"]}