{"context": " More than 1 year has passed since last update.\u30af\u30a8\u30ea\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u914d\u5217\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6642\u3001\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u306e\u304b\u3057\u306a\u3044\u306e\u304b\u3068\u3044\u3046\u3053\u3068\u304c\u6c17\u306b\u306a\u3063\u305f\u3002\n$  phpunit --colors eval-net-url2.php\nPHPUnit 3.7.13 by Sebastian Bergmann.\n\n..\n\nTime: 0 seconds, Memory: 4.00Mb\n\nOK (2 tests, 8 assertions)\n\n\neval-net-uri2.php\n<?php\nrequire_once 'Net/URL2.php';\n// source: http://pear.php.net/package/Net_URL2/docs/latest/__filesource/fsource_Net_URL2__Net_URL2-2.0.0NetURL2.php.html\n// documentation: http://pear.php.net/package/Net_URL2/docs/latest/Net_URL2/Net_URL2.html\nclass URL2Test extends PHPUnit_Framework_TestCase\n{\n  public function setUp()\n  {\n    $this->rawUri = 'http://example.net/';\n    $this->queryVariables = array('include space'  => 'ye s',\n                                  'include slash/' => 'sla/sh',\n                                  'include amp&'   => 'a&p');\n  }\n\n  public function testEncodeKeysFalse()\n  {\n    $options = array('Net_URL2::OPTION_USE_BRACKETS' => false,\n                     'Net_URL2::OPTION_ENCODE_KEYS'  => false);\n    $uri = $this->buildUri($options);\n    $this->assertSame('http://example.net/?include%20space=ye%20s&include%20slash%2F=sla%2Fsh&include%20amp%26=a%26p', $uri->getURL());\n    $qv = $uri->getQueryVariables();\n    $this->assertSame('ye s', $qv['include space']);\n    $this->assertSame('sla/sh', $qv['include slash/']);\n    $this->assertSame('a&p', $qv['include amp&']);\n  }\n\n  public function testEncodeKeysTrue()\n  {\n    $options = array('Net_URL2::OPTION_USE_BRACKETS' => false,\n                     'Net_URL2::OPTION_ENCODE_KEYS'  => true);\n    $uri = $this->buildUri($options);\n    $this->assertSame('http://example.net/?include%20space=ye%20s&include%20slash%2F=sla%2Fsh&include%20amp%26=a%26p', $uri->getURL());\n    $qv = $uri->getQueryVariables();\n    $this->assertSame('ye s', $qv['include space']);\n    $this->assertSame('sla/sh', $qv['include slash/']);\n    $this->assertSame('a&p', $qv['include amp&']);\n  }\n\n  protected function buildUri(array $options)\n  {\n    $uri = new Net_URL2($this->rawUri, $options);\n    $uri->setQueryVariables($this->queryVariables);\n    return $uri;\n  }\n\n}\n\n\n\u30af\u30a8\u30ea\u30fc\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306e\u914d\u5217\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u6642\u3001\u30d1\u30fc\u30bb\u30f3\u30c8\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u306e\u304b\u3057\u306a\u3044\u306e\u304b\u3068\u3044\u3046\u3053\u3068\u304c\u6c17\u306b\u306a\u3063\u305f\u3002\n\n    $  phpunit --colors eval-net-url2.php\n    PHPUnit 3.7.13 by Sebastian Bergmann.\n    \n    ..\n    \n    Time: 0 seconds, Memory: 4.00Mb\n    \n    OK (2 tests, 8 assertions)\n\n```php:eval-net-uri2.php\n<?php\nrequire_once 'Net/URL2.php';\n// source: http://pear.php.net/package/Net_URL2/docs/latest/__filesource/fsource_Net_URL2__Net_URL2-2.0.0NetURL2.php.html\n// documentation: http://pear.php.net/package/Net_URL2/docs/latest/Net_URL2/Net_URL2.html\nclass URL2Test extends PHPUnit_Framework_TestCase\n{\n  public function setUp()\n  {\n    $this->rawUri = 'http://example.net/';\n    $this->queryVariables = array('include space'  => 'ye s',\n                                  'include slash/' => 'sla/sh',\n                                  'include amp&'   => 'a&p');\n  }\n\n  public function testEncodeKeysFalse()\n  {\n    $options = array('Net_URL2::OPTION_USE_BRACKETS' => false,\n                     'Net_URL2::OPTION_ENCODE_KEYS'  => false);\n    $uri = $this->buildUri($options);\n    $this->assertSame('http://example.net/?include%20space=ye%20s&include%20slash%2F=sla%2Fsh&include%20amp%26=a%26p', $uri->getURL());\n    $qv = $uri->getQueryVariables();\n    $this->assertSame('ye s', $qv['include space']);\n    $this->assertSame('sla/sh', $qv['include slash/']);\n    $this->assertSame('a&p', $qv['include amp&']);\n  }\n\n  public function testEncodeKeysTrue()\n  {\n    $options = array('Net_URL2::OPTION_USE_BRACKETS' => false,\n                     'Net_URL2::OPTION_ENCODE_KEYS'  => true);\n    $uri = $this->buildUri($options);\n    $this->assertSame('http://example.net/?include%20space=ye%20s&include%20slash%2F=sla%2Fsh&include%20amp%26=a%26p', $uri->getURL());\n    $qv = $uri->getQueryVariables();\n    $this->assertSame('ye s', $qv['include space']);\n    $this->assertSame('sla/sh', $qv['include slash/']);\n    $this->assertSame('a&p', $qv['include amp&']);\n  }\n\n  protected function buildUri(array $options)\n  {\n    $uri = new Net_URL2($this->rawUri, $options);\n    $uri->setQueryVariables($this->queryVariables);\n    return $uri;\n  }\n\n}\n```", "tags": ["PHP", "pear"]}