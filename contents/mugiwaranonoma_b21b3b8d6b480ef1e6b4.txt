{"tags": ["es6"], "context": "\n\nPromise \u306e\u4f7f\u3044\u65b9\u30e1\u30e2\n\u3088\u304f\u4f7f\u3046\u306e\u3067\u30e1\u30e2\nimport React from 'react';\n\nimport LoadUI from '../../utils/load_ui'\n\nexport default class TestIndex extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      query: '',\n      list: []\n    };\n  }\n\n  setList(query) {\n    LoadUI.start(); // \u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb\n    this.getList(query).then((ret) => {\n      // \u6210\u529f\u3057\u305f\u6642\u306e\u51e6\u7406\n      this.setState({\n        query: ret.query,\n        list: ret.list\n      });\n    }, (err) => {\n      // \u30a8\u30e9\u30fc\u51e6\u7406\n    })\n    .then(() => {\n      // \u5171\u901a\u51e6\u7406\n      LoadUI.stop(); // \u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u7d42\u4e86\n    });\n  }\n\n  getList(query) {\n    return new Promise((resolve, reject) => {\n      $.ajax({\n        url: '/api/xxxxxxxxxxxxxxxx',\n        type: 'GET',\n        dataType: 'json',\n        data: { query: query },\n        success: function(res) {\n          resolve(res);\n        },\n        error: function(xhr, status, err) {\n          reject(err);\n        }\n      });\n    });\n  }\n\n  render() {\n    return (\n      // view\n    );\n  }\n}\n\n# Promise \u306e\u4f7f\u3044\u65b9\u30e1\u30e2\n\u3088\u304f\u4f7f\u3046\u306e\u3067\u30e1\u30e2\n\n```js\nimport React from 'react';\n\nimport LoadUI from '../../utils/load_ui'\n\nexport default class TestIndex extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      query: '',\n      list: []\n    };\n  }\n\n  setList(query) {\n    LoadUI.start(); // \u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u958b\u59cb\n    this.getList(query).then((ret) => {\n      // \u6210\u529f\u3057\u305f\u6642\u306e\u51e6\u7406\n      this.setState({\n        query: ret.query,\n        list: ret.list\n      });\n    }, (err) => {\n      // \u30a8\u30e9\u30fc\u51e6\u7406\n    })\n    .then(() => {\n      // \u5171\u901a\u51e6\u7406\n      LoadUI.stop(); // \u30ed\u30fc\u30c7\u30a3\u30f3\u30b0\u7d42\u4e86\n    });\n  }\n\n  getList(query) {\n    return new Promise((resolve, reject) => {\n      $.ajax({\n        url: '/api/xxxxxxxxxxxxxxxx',\n        type: 'GET',\n        dataType: 'json',\n        data: { query: query },\n        success: function(res) {\n          resolve(res);\n        },\n        error: function(xhr, status, err) {\n          reject(err);\n        }\n      });\n    });\n  }\n\n  render() {\n    return (\n      // view\n    );\n  }\n}\n```\n"}