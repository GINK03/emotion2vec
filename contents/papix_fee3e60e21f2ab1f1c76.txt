{"tags": ["Perl", "GPU"], "context": " More than 1 year has passed since last update.Perl Advent Calendar, 20\u65e5\u76ee\u62c5\u5f53\u3057\u307e\u3059papix\u3067\u3059. \u5b9c\u3057\u304f\u304a\u9858\u3044\u81f4\u3057\u307e\u3059.\n\u4eca\u65e5\u306f, \uff62Perl meets GPU\uff63\u3068\u3044\u3046\u30bf\u30a4\u30c8\u30eb\u3067, Perl\u3068GPU, \u305d\u3057\u3066GPU\u3092\u5229\u7528\u3057\u305fGPGPU\u306b\u3064\u3044\u3066\u306e\u304a\u8a71\u3092\u3055\u305b\u3066\u9802\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059.\n\nGPGPU\u3068\u306f?\nGPGPU\u3068\u306f, General-Purpose computing on Graphics Processing Units\u306e\u7565\u8a9e\u3067, \u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30dc\u30fc\u30c9(GPU)\u306e\u6f14\u7b97\u8cc7\u6e90\u3092, \u753b\u50cf\u51e6\u7406\u4ee5\u5916\u306e\u6c4e\u7528\u6f14\u7b97\u306b\u7528\u3044\u308b\u6280\u8853\u306e\u3053\u3068\u3067\u3059.\nGPU\u306b\u306f, \u753b\u50cf\u51e6\u7406\u3092\u9ad8\u901f\u306b\u884c\u3046\u305f\u3081\u306b\u5927\u91cf\u306e\u30b3\u30a2\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u306e\u3067, \u3053\u308c\u3089\u306e\u30b3\u30a2\u3067\u51e6\u7406\u3092\u5206\u6563\u3059\u308b\u3053\u3068\u3067, \u9ad8\u901f\u5316\u3092\u5b9f\u73fe\u3057\u307e\u3059.\nGPGPU\u3092\u4e0a\u624b\u304f\u5229\u7528\u3059\u308c\u3070, \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3, \u6697\u53f7\u89e3\u8aad, \u97f3\u58f0\u51e6\u7406\u306a\u3069\u306e\u30c7\u30fc\u30bf\u4e26\u5217\u6027\u306e\u3042\u308b\u51e6\u7406\u3092, \u9ad8\u901f\u304b\u3064\u4f4e\u30b3\u30b9\u30c8\u3067\u5b9f\u73fe\u3067\u304d\u308b\u306e\u3067, \u7279\u306b\u5b66\u8853\u5206\u91ce\u3067\u306f\u3044\u308d\u3044\u308d\u306a\u8a66\u307f\u304c\u884c\u308f\u308c\u3066\u3044\u307e\u3059.\n\u5177\u4f53\u7684\u306a\u7814\u7a76\u4f8b\u3068\u3057\u3066\u306f, \u5730\u9707\u306e\u89e3\u6790\u306e\u9ad8\u901f\u5316, \u9ad8\u901f\u306a\u30d5\u30fc\u30ea\u30a8\u5909\u63db, GPGPU\u3092\u4f7f\u3063\u305fSSL\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u306e\u9ad8\u901f\u5316\u306a\u3069\u306a\u3069, \u63a2\u305b\u3070\u7d50\u69cb\u898b\u3064\u304b\u308a\u307e\u3059.\n\u304b\u3064\u3066GPU\u306f\u7d50\u69cb\u9ad8\u4fa1\u3067, \u500b\u4eba\u3067\u306f\u624b\u304c\u51fa\u3057\u306b\u304f\u304b\u3063\u305f\u90e8\u5206\u3082\u3042\u308a\u307e\u3057\u305f\u304c, \u6700\u8fd1\u306fGPU\u306e\u4fa1\u683c\u3082\u5b89\u304f\u306a\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3057, \u4f55\u3088\u308aAWS\u3067\u306fGPU\u304c\u5229\u7528\u53ef\u80fd\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3082\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u3067, GPGPU\u306b\u6311\u6226\u3059\u308b\u6577\u5c45\u306f\u304b\u306a\u308a\u4f4e\u304f\u306a\u3063\u3066\u304d\u3066\u3044\u307e\u3059.\n\u3068\u3044\u3046\u308f\u3051\u3067, \u4eca\u65e5\u306f\u305d\u3093\u306aGPGPU\u3092, Perl\u304b\u3089\u697d\u3057\u3080\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059.\n\nGPGPU\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\n...\u305d\u306e\u524d\u306b, GPGPU\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u7279\u5fb4\u306b\u3064\u3044\u3066, \u8efd\u304f\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059.\nGPGPU\u3092\u5229\u7528\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u88c5\u3059\u308b\u969b\u306b\u306f, GPU\u5074(\u30c7\u30d0\u30a4\u30b9\u5074)\u3068CPU\u5074(\u30db\u30b9\u30c8\u5074)\u3092\u533a\u5225\u3057\u3066\u8003\u3048\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093.\n\u30c7\u30d0\u30a4\u30b9\u5074\u3067\u5b9f\u884c\u3059\u308b\u30b3\u30fc\u30c9\u3068\u30db\u30b9\u30c8\u5074\u3067\u5b9f\u884c\u3059\u308b\u30b3\u30fc\u30c9\u306f\u660e\u78ba\u306b\u533a\u5225\u3055\u308c, \u7279\u306bGPU\u3067\u5b9f\u884c\u3059\u308b\u30b3\u30fc\u30c9\u306f\uff62\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\uff63\u3068\u547c\u3070\u308c\u308b\u7279\u6b8a\u306a\u95a2\u6570\u3068\u3057\u3066\u8a18\u8ff0\u3057\u307e\u3059.\n\u3053\u306e\u3088\u3046\u306b\u533a\u5225\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u7406\u7531\u306f, \u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30e1\u30e2\u30ea\u306f\u30db\u30b9\u30c8\u5074\u306e\u30e1\u30e2\u30ea\u3068\u5225\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059.\nGPU\u3067\u4e26\u5217\u5b9f\u884c\u3057\u305f\u3044\u8a08\u7b97\u30c7\u30fc\u30bf\u306f, \u30db\u30b9\u30c8\u5074\u306e\u30e1\u30e2\u30ea\u304b\u3089\u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30e1\u30e2\u30ea\u306b\u8ee2\u9001\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3057, \u9006\u306bGPU\u306e\u5b9f\u884c\u7d50\u679c\u306f\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3089\u30db\u30b9\u30c8\u5074\u306b\u8ee2\u9001\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093.\n\u3088\u3063\u3066, GPU\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306f\u6b21\u306e\u3088\u3046\u306a\u6d41\u308c\u306b\u306a\u308a\u307e\u3059.\n\n\u5fc5\u8981\u306a\u30e1\u30e2\u30ea\u3092\u30c7\u30d0\u30a4\u30b9\u5074\u3067\u78ba\u4fdd\n\u8a08\u7b97\u30c7\u30fc\u30bf\u3092\u30db\u30b9\u30c8\u5074\u304b\u3089\u30c7\u30d0\u30a4\u30b9\u5074\u3078\u8ee2\u9001\n\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057, GPU\u3067\u4e26\u5217\u5b9f\u884c\n\u8a08\u7b97\u30c7\u30fc\u30bf\u3092\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3089\u30db\u30b9\u30c8\u5074\u3078\u8ee2\u9001\n\u30c7\u30d0\u30a4\u30b9\u5074\u3067\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u3092\u958b\u653e\n\n\uff62\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd\uff63, \uff62\u30c7\u30d0\u30a4\u30b9\uff65\u30db\u30b9\u30c8\u9593\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\uff63\u306a\u3069\u306e\u51e6\u7406\u306f, GPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u4efb\u305b\u308b\u306e\u304c\u4e00\u822c\u7684\u3067\u3059.\nGPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306f\u69d8\u3005\u306a\u5b9f\u88c5\u304c\u958b\u767a\uff65\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u304c, \u4eca\u65e5\u7d39\u4ecb\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306f, \u5168\u3066NVIDIA\u304c\u958b\u767a\u3057\u305f\uff62CUDA\uff63\u3068\u3044\u3046GPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5229\u7528\u3057\u305f\u3082\u306e\u3067\u3059.\n\u3042\u307e\u308a\u3053\u3053\u3067\u9577\u3005\u3068\u8aac\u660e\u3059\u308b\u306e\u306f\u3069\u3046\u304b\u3068\u601d\u3046\u306e\u3067(\u53cd\u97ff? \u304c\u3042\u308c\u3070, \u3053\u306e\u8fba\u308a\u306b\u3064\u3044\u3066\u3082\u3044\u305a\u308c\u8a73\u3057\u304f\u3054\u7d39\u4ecb\u3067\u304d\u308c\u3070\u3068\u601d\u3044\u307e\u3059...), \u305d\u308d\u305d\u308d\u30e2\u30b8\u30e5\u30fc\u30eb\u7d39\u4ecb\u3078\u5165\u3063\u3066\u884c\u304d\u307e\u3057\u3087\u3046.\n\nCUDA::Minimal\n\u307e\u305a\u306fCUDA::Minimal. \u4f5c\u8005\u306fDavid Mertens\u3055\u3093\u3067\u3059.\n\u3053\u3061\u3089\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u307e\u3060CPAN\u306b\u306f\u3042\u304c\u3063\u3066\u304a\u3089\u305a, GitHub\u304b\u3089\u5165\u624b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059: https://github.com/run4flat/perl-CUDA-Minimal\n\u4f5c\u8005\u306e\u65b9\u304c, blogs.perl.org\u306b\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3064\u3044\u3066\u306e\u8a18\u4e8b\u3092\u66f8\u3044\u3066\u3044\u307e\u3059: Perl's first real CUDA bindings released\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u306b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u304c\u3042\u308b\u306e\u3067, \u65e9\u901f\u898b\u3066\u307f\u307e\u3057\u3087\u3046(\u5143\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306b\u3042\u3063\u305f\u30b3\u30e1\u30f3\u30c8\u306f\u524a\u9664\u3057\u3066\u3044\u307e\u3059).\n\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f, $N_values\u500b\u306e\u8981\u7d20\u3092\u6301\u3064\u914d\u5217\u306b\u5bfe\u3057\u3066, \u5404\u8981\u7d20\u30923\u500d\u3059\u308b\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u307e\u3059.\nuse strict;\nuse warnings;\nuse CUDA::Minimal;\nuse ExtUtils::nvcc;\nuse Inline C => DATA => ExtUtils::nvcc::Inline;\n\n# \u8a08\u7b97\u30c7\u30fc\u30bf\u3092\u751f\u6210.\n# \u4eca\u56de\u306f $N_values = 10 \u306a\u306e\u3067, 1\u304b\u308910\u307e\u3067\u306e\u30ea\u30b9\u30c8\u3092\u751f\u6210\u3057\u3066\u304b\u3089, pack\u3067float\u578b\u306e\u30d0\u30a4\u30ca\u30ea\u3078.\nmy $N_values = 10;\nmy $host_data = pack('f*', 1..$N_values);\n\n# \u751f\u6210\u3057\u305f\u8a08\u7b97\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3067\u304d\u308b\u3060\u3051\u306e\u30e1\u30e2\u30ea\u3092\u30c7\u30d0\u30a4\u30b9\u5074\u3067\u78ba\u4fdd.\n# MallocFrom\u306f\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd\u3068\u8ee2\u9001\u3092\u884c\u3044, Malloc\u306f\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd\u306e\u307f\u3092\u884c\u3046\u95a2\u6570.\n# \u3053\u308c\u3089\u306e\u95a2\u6570\u306f, \u30c7\u30d0\u30a4\u30b9\u5074\u3067\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u8fd4\u3059\u306e\u3067, \u30b9\u30ab\u30e9\u5909\u6570\u3067\u53d7\u3051\u53d6\u308b.\nmy $input_dev_ptr = MallocFrom($host_data);\nmy $output_dev_ptr = Malloc($host_data);\n\n# MallocFrom/Malloc\u3067\u78ba\u4fdd\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30dd\u30a4\u30f3\u30bf\u3068, $N_values\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u3066, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5.\n# \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u5f8c\u8ff0.\ninvoke_the_kernel($input_dev_ptr, $output_dev_ptr, $N_values);\n\n# SetSize\u3067, GPU\u3067\u8a08\u7b97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u30b9\u30ab\u30e9\u5909\u6570 $result_array \u3092\u751f\u6210.\nSetSize(my $results_array, length($host_data));\n\n# Transfer\u3067, \u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30e1\u30e2\u30ea\u306b\u78ba\u4fdd\u3055\u308c\u3066\u3044\u308bGPU\u3067\u8a08\u7b97\u3057\u305f\u30c7\u30fc\u30bf\u3092, \u30db\u30b9\u30c8\u5074\u306e\u30e1\u30e2\u30ea\u3078\u8ee2\u9001\u3059\u308b.\nTransfer($output_dev_ptr => $results_array);\n\n# \u8a08\u7b97\u7d50\u679c\u3092\u8868\u793a. Transfer\u3067 $result_array \u306bfloat\u578b\u306e\u30d0\u30a4\u30ca\u30ea\u3067\u8a08\u7b97\u7d50\u679c\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u306e\u3067, unpack\u3067\u5909\u63db\u3059\u308b.\nprint \"$_\\n\" foreach (unpack 'f*', $results_array);\n\n# \u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30e1\u30e2\u30ea\u3092\u958b\u653e\u3059\u308b.\nFree($input_dev_ptr, $output_dev_ptr);\n\n__END__\n\n__C__\n\n// CUDA\u3067\u8a18\u8ff0\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570. \u5148\u982d\u306e __global__ \u3067\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u308b.\n__global__ void triple(float * in_g, float * out_g) {\n    out_g[threadIdx.x] = in_g[threadIdx.x] * 3;\n}\n\n// \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u30e9\u30c3\u30d1\u30fc.\nvoid invoke_the_kernel(SV * in_SV, SV * out_SV, int N_values) {\n    float * d_in = INT2PTR(float *, SvIV(in_SV));\n    float * d_out = INT2PTR(float *, SvIV(out_SV));\n\n    triple <<<1, N_values>>>(d_in, d_out);\n}\n\nCUDA::Minimal\u306f, CUDA C\u8a00\u8a9e\u3067\u8a18\u8ff0\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092, Inline::C\u306e\u3088\u3046\u306bPerl\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u4e2d\u306b\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059.\n\u305f\u3060, CUDA::Minimal\u306f\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd, \u30c7\u30fc\u30bf\u8ee2\u9001, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u8d77\u52d5\u306a\u3069, GPGPU\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b9f\u88c5\u3059\u308b\u4e0a\u3067\u5fc5\u8981\u6700\u4f4e\u9650\n\u306e\u6a5f\u80fd\u3057\u304b\u63d0\u4f9b\u3057\u3066\u3044\u307e\u305b\u3093.\n\u305d\u306e\u305f\u3081, Perl\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3068\u30d0\u30a4\u30ca\u30ea\u3092\u5909\u63db\u3059\u308b\u51e6\u7406(\u4e0a\u8a18\u30b3\u30fc\u30c9\u306epack/unpack)\u306a\u3069\u306f, \u5168\u3066\u624b\u52d5\u3067\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059.\n\u66f4\u306bCUDA::Minimal\u3092\u5229\u7528\u3057\u305f\u30b3\u30fc\u30c9\u306f, \u8a00\u3046\u307e\u3067\u3082\u3042\u308a\u307e\u305b\u3093\u304cGPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u74b0\u5883\u3067\u3057\u304b\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093.\n\u3053\u308c\u3089\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3059\u3079\u304f, PerCUDA\u3068\u547c\u3070\u308c\u308bPerl\u5411\u3051\u306eGPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f.\n\nPerCUDA\nPerCUDA\u306f, \u3053\u306e\u8a18\u4e8b\u306e\u7b46\u8005(papix)\u304c\u5927\u5b66\u9662\u306e\u7814\u7a76\u3068\u3057\u3066\u958b\u767a\u3057\u305fGPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059.\nCUDA::Minimal\u3092\u767a\u5c55\u3055\u305b, Perl\u304b\u3089GPGPU\u3092\uff62\u304a\u624b\u8efd\u306b\u697d\u3057\u3081\u308b, \u8a66\u305b\u308b\uff63\u3053\u3068\u3092\u76ee\u6307\u3057\u3066\u3044\u307e\u3059.\nPerCUDA\u306f, \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066CUDA::DriverAPI\u3068\u547c\u3070\u308c\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059.\n\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f, CUDA\u304c\u63d0\u4f9b\u3059\u308bAPI\u306e\u3046\u3061\u306e1\u3064, \uff62\u30c9\u30e9\u30a4\u30d0API\uff63\u3092Perl\u304b\u3089\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059(\u3061\u306a\u307f\u306b, CUDA\u304c\u63d0\u4f9b\u3059\u308bAPI\u306e\u3082\u30461\u3064\u306f\uff62\u30e9\u30a4\u30f3\u30bf\u30a4\u30e0API\uff63\u3068\u547c\u3070\u308c\u3066\u3044\u3066, CUDA::Miminal\u306f\u3053\u306eAPI\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059).\nCUDA::DriveAPI\u306b\u3064\u3044\u3066\u306f, \u4ee5\u524d\uff62Hachioji.pm\u65e5\u3081\u304f\u308a\u30c6\u30c3\u30af\u30c8\u30fc\u30af\uff63\u306b\u8a18\u4e8b\u3092\u66f8\u3044\u305f\u306e\u3067, \u305d\u3061\u3089\u3082\u53c2\u8003\u306b\u3057\u3066\u9802\u3051\u308b\u3068\u5e78\u3044\u3067\u3059: CUDA::DeviceAPI\u3067Perl\u304b\u3089\u304a\u624b\u8efdGPGPU\u30e9\u30a4\u30d5!\n...\u3061\u306a\u307f\u306b\u4f59\u8ac7\u3067\u3059\u304c, \u8a18\u4e8b\u3067\u306f\uff62CUDA::DeviceAPI\uff63\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c, \u305d\u306e\u5f8c\u3067\uff62\u5229\u7528\u3057\u3066\u308bAPI, \u30c7\u30d0\u30a4\u30b9API\u3058\u3083\u306a\u304f\u3066\u30c9\u30e9\u30a4\u30d0API\u3058\u3083\u306a\u3044\u304b! \u540d\u524d\u9593\u9055\u3063\u3066\u305f!!!\uff63\u3068\u3044\u3046\u4e8b\u306b\u6c17\u304c\u3064\u3044\u3066, \uff62CUDA::DriverAPI\uff63\u306b\u6539\u540d\u3057\u3066\u3044\u307e\u3059.\n\u3053\u3061\u3089\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u307e\u3060CPAN\u306b\u30a2\u30c3\u30d7\u3057\u3066\u3044\u306a\u3044\u306e\u3067, GitHub\u304b\u3089\u3054\u89a7\u4e0b\u3055\u3044: https://github.com/papix/CUDA-DriverAPI\n\u3055\u3066, PerCUDA\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067, GPGPU\u3092\u3069\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3067\u304d\u308b\u304b, \u898b\u3066\u307f\u307e\u3057\u3087\u3046.\n\u6b21\u306e\u30b3\u30fc\u30c9\u306f, 3 x 3 \u306e\u30b5\u30a4\u30ba\u306e\u914d\u5217\u306b\u5bfe\u3057\u3066, \u914d\u5217\u306e\u4e57\u7b97\u3092\u884c\u3046\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059.\nuse strict;\nuse warnings;\nuse PerCUDA;\n\nmy $array = [\n    [ 1 .. 3 ],\n    [ 4 .. 6 ],\n    [ 7 .. 9 ],\n];\n\nmy $runner = PerCUDA->new(\n    dim      => 2,        # \u914d\u5217\u306e\u6b21\u5143\n    size     => 'array1', # \u914d\u5217\u306e\u30b5\u30a4\u30ba\n    engine   => 'gpu',    # \u4f7f\u7528\u3059\u308b\u51e6\u7406\u7cfb\n    argument => [         # \u5f15\u6570\u3068\u30c7\u30fc\u30bf\u578b\n        array1 => 'f',\n        array2 => 'f',\n        array3 => 'f',\n        N => 'i',\n    ],\n    retval => ['array3'], # \u8fd4\u308a\u5024\n    source => <<'KERNEL', # \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\n\nmy $tmp = 0;\nfor (my $i = 0; $i < $N; $i++) {\n$tmp = $tmp\n    + $array1->[$i]->[$y]\n    * $array2->[$x]->[$i];\n}\n$array3->[$x]->[$y] = $tmp;\n\nKERNEL\n);\n\nmy $retval = $runner->run($array, $array, []);\n\nPerCUDA\u306e\u7279\u5fb4\u306f, \uff62\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092Perl\u3067\u8a18\u8ff0\u3067\u304d\u308b\uff63\u3068\u3044\u3046\u70b9\u3067\u3059.\n\u73fe\u72b6, Perl\u3067\u5229\u7528\u3067\u304d\u308b\u5168\u3066\u306e\u69cb\u6587\u304c\u5229\u7528\u3067\u304d\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c, \u4f7f\u3044\u6163\u308c\u305fPerl\u3067\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8a18\u8ff0\u3067\u304d\u308b\u3068\u3044\u3046\u306e\u306f\u5927\u304d\u306a\u30e1\u30ea\u30c3\u30c8\u306b\u306a\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b.\n\u307e\u305f, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092Perl\u3067\u8a18\u8ff0\u3057\u3066\u3044\u308b\u306e\u3067, PerCUDA\u3067\u306f, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u7cfb\u3092Perl\u51e6\u7406\u7cfb\u3068GPU\u304b\u3089\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059.\n\u305d\u306e\u305f\u3081, GPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u306a\u3044\u74b0\u5883\u3067\u3042\u3063\u3066\u3082\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059.\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u3067\u306f, engine\u3068\u3044\u3046\u90e8\u5206\u3067GPU\u3092\u5229\u7528\u3057\u3066\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059.\n\u3061\u306a\u307f\u306b, \u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\u306fPerCUDA\u304c\u81ea\u52d5\u7684\u306b\u5224\u5b9a\u3092\u884c\u3044, GPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u74b0\u5883\u3067\u3042\u308c\u3070GPU\u3092, \u305d\u3046\u3067\u306a\u3051\u308c\u3070Perl\u51e6\u7406\u7cfb\u3092\u5229\u7528\u3057\u3066, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059.\nPerCUDA\u306e\u96e3\u70b9\u306f, GPU\u5411\u3051\u306e\u30b3\u30fc\u30c9\u3092Perl\u3067\u8a18\u8ff0\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304b\u3089\u81ea\u52d5\u751f\u6210\u3059\u308b\u306e\u3067, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u304c\u96e3\u3057\u3044\u3068\u3044\u3046\u70b9\u3067\u3059.\n\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u3057\u3084\u3059\u3055\u3068, \u305d\u308c\u306b\u3088\u308b\u9ad8\u901f\u5316\u3068\u3044\u3046\u70b9\u3067\u306f, CUDA C\u8a00\u8a9e\u3067\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8a18\u8ff0\u3067\u304d\u308bCUDA::Minimal\u3084CUDA::DriverAPI\u306b\u591a\u5c11\u52a3\u3063\u3066\u3057\u307e\u3044\u307e\u3059.\n\nPerCUDA\u306e\u6027\u80fd\nPerCUDA\u3092\u5229\u7528\u3057\u3066, \u7d0410^6\u306e\u753b\u7d20(1024*1024\u753b\u7d20)\u306b\u5bfe\u3059\u308b\u30de\u30f3\u30c7\u30eb\u30d6\u30ed\u96c6\u5408\u306e\u8a08\u7b97\u3092\u884c\u3063\u305f\u7d50\u679c\u3092\u7d39\u4ecb\u3057\u307e\u3059.\n\uff62GPU\uff63\u306f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u7cfb\u3068\u3057\u3066GPU\u3092\u4f7f\u3063\u305f\u5834\u5408, \uff62Perl\uff63\u306f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u7cfb\u3068\u3057\u3066Perl\u51e6\u7406\u7cfb\u3092\u5229\u7528\u3057\u305f\u5834\u5408\u306e\u5b9f\u884c\u6642\u9593\u306b\u306a\u308a\u307e\u3059.\n\n\n\nn\nGPU\nPerl\n\n\n\n\n2^0\n0.14419s\n2.63360s\n\n\n2^1\n0.14523s\n3.27114s\n\n\n2^2\n0.14588s\n4.24830s\n\n\n2^3\n0.14409s\n5.49464s\n\n\n2^4\n0.14605s\n7.26325s\n\n\n2^5\n0.15051s\n10.08421s\n\n\n2^6\n0.15296s\n15.55460s\n\n\n2^7\n0.15346s\n26.60217s\n\n\n2^8\n0.15998s\n49.52719s\n\n\n2^9\n0.17723s\n91.99616s\n\n\n2^10\n0.20646s\n175.36165s\n\n\n2^11\n0.26290s\n348.06578s\n\n\n2^12\n0.34298s\n687.46580s\n\n\n\n...\u3068\u3044\u3046\u308f\u3051\u3067, \u5727\u5012\u7684\u306bPerCUDA(\u3068\u3044\u3046\u304bGPU)\u304c\u65e9\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059.\n\u5b9f\u884c\u3059\u308b\u51e6\u7406\u306b\u3082\u3088\u308a\u307e\u3059\u304c, PerCUDA(\u305d\u3057\u3066GPGPU)\u3092\u5229\u7528\u3059\u308c\u3070, \u3053\u308c\u3060\u3051\u306e\u9ad8\u901f\u5316\u304c\u5b9f\u73fe\u3067\u304d\u308b\u306e\u3067\u3059.\n2013/12/23\u8ffd\u8a18:\n\uff62PerCUDA\u3068\u7d20\u306eCUDA\u306e\u6027\u80fd\u8a55\u4fa1\uff63\u306b\u3064\u3044\u3066, \uff62Hachioji.pm \u65e5\u3081\u304f\u308a\u30c6\u30c3\u30af\u30c8\u30fc\u30af\uff63\u306b\u5bc4\u7a3f\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f: PerCUDA\u306e\u6027\u80fd\u8a55\u4fa1\n\nPerCUDA\u306e\u3053\u308c\u304b\u3089\nPerCUDA\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7(?)\u306f\u5b8c\u6210\u3057\u3066\u3044\u307e\u3059\u304c, \u3044\u308d\u3044\u308d\u3068\u51fa\u6765\u304c\u9177\u3044\u306e\u3067, \u6765\u5e743\u6708\u306e\u516c\u958b\u3092\u76ee\u6307\u3057\u3066\u7814\u7a76\u5ba4\u306e\u5f8c\u8f29\u3067\u3082\u3042\u308b@bool_fool\u3068\u4e00\u7dd2\u306b\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u4f5c\u696d\u3092\u7d9a\u3051\u3066\u3044\u307e\u3059.\n\u6700\u521d\u306b\u66f8\u3044\u305f\u3088\u3046\u306b, PerCUDA\u306f, \uff62Perl\u304b\u3089GPGPU\u3092\u304a\u624b\u8efd\u306b\u697d\u3057\u3080, \u8a66\u3059\uff63\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059.\n\u6700\u521d\u304b\u3089\u6700\u5f8c\u307e\u3067PerCUDA\u3092\u5229\u7528\u3057\u3066\u9ad8\u901f\u5316... \u3068\u3044\u3046\u306e\u3067\u306f\u306a\u304f, CUDA::Minimal\u3084CUDA::DriverAPI\u306e\u5229\u7528, \u3042\u308b\u3044\u306fPerl\u304b\u3089CUDA\u3078\u306e\u79fb\u690d\u3092\u8a66\u307f\u308b\u524d\u306e\u8db3\u304c\u304b\u308a\u3068\u3057\u3066\u4f7f\u3063\u3066\u3082\u3089\u3048\u308b\u3088\u3046\u306b\u306a\u308c\u3070\u3044\u3044\u306a, \u3068\u601d\u3063\u3066\u3044\u307e\u3059.\nPerl\u3067\u8a18\u8ff0\u3057\u305f\u30b3\u30fc\u30c9\u304c\u3042\u3063\u3066, \uff62\u3053\u308c, GPU\u3067\u51e6\u7406\u3057\u305f\u3089\u65e9\u304f\u306a\u308b\u304b\u306a...?\uff63\u3068\u3044\u3046\u6642\u306b, \u307e\u305aPerCUDA\u3067\u8a66\u3057\u3066\u307f\u308b.\nPerCUDA\u3067, \u3042\u308b\u7a0b\u5ea6\u306e\u6210\u679c(\u9ad8\u901f\u5316)\u304c\u5b9f\u73fe\u3067\u304d\u305f\u306e\u3067\u3042\u308c\u3070, CUDA::Minimal\u3084CUDA::DriverAPI\u3092\u5229\u7528\u3057\u305fGPGPU\u3084, Perl\u304b\u3089CUDA\u3078\u306e\u79fb\u690d\u306b\u3088\u3063\u3066, \u3055\u3089\u306a\u308b\u9ad8\u901f\u5316\u3092\u8a66\u307f\u308b... \u305d\u3046\u3044\u3046\u98a8\u306b\u4f7f\u3063\u3066\u3082\u3089\u3046\u306e\u304c\u7406\u60f3\u7684\u3068\u601d\u3063\u3066\u3044\u307e\u3059.\nCUDA::Minimal\u3084CUDA::DriverAPI\u306a\u3069, Perl\u304b\u3089GPGPU\u3092\u5229\u7528\u3059\u308b\u74b0\u5883\u306f\u304b\u306a\u308a\u6574\u3063\u3066\u304d\u3066\u3044\u308b... \u3068\u3044\u3046\u5370\u8c61\u3092\u6700\u8fd1\u6301\u3063\u3066\u3044\u307e\u3059.\n\u3053\u306e\u8a18\u4e8b\u3092\u8aad\u3093\u3067\u8208\u5473\u3092\u6301\u3063\u305f\u65b9\u306f, \u662f\u975e\uff62Perl\u304b\u3089\u306eGPGPU\uff63\u3092\u8a66\u3057\u3066\u307f\u3066\u9802\u3051\u308b\u3068\u5b09\u3057\u3044\u3067\u3059.\n...PerCUDA\u306e\u3053\u308c\u304b\u3089\u306b, \u3069\u3046\u305e\u3054\u671f\u5f85\u4e0b\u3055\u3044!\nPerl Advent Calendar, 20\u65e5\u76ee\u62c5\u5f53\u3057\u307e\u3059papix\u3067\u3059. \u5b9c\u3057\u304f\u304a\u9858\u3044\u81f4\u3057\u307e\u3059.\n\u4eca\u65e5\u306f, \uff62Perl meets GPU\uff63\u3068\u3044\u3046\u30bf\u30a4\u30c8\u30eb\u3067, Perl\u3068GPU, \u305d\u3057\u3066GPU\u3092\u5229\u7528\u3057\u305fGPGPU\u306b\u3064\u3044\u3066\u306e\u304a\u8a71\u3092\u3055\u305b\u3066\u9802\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059.\n\n# GPGPU\u3068\u306f?\n\nGPGPU\u3068\u306f, General-Purpose computing on Graphics Processing Units\u306e\u7565\u8a9e\u3067, \u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30dc\u30fc\u30c9(GPU)\u306e\u6f14\u7b97\u8cc7\u6e90\u3092, \u753b\u50cf\u51e6\u7406\u4ee5\u5916\u306e\u6c4e\u7528\u6f14\u7b97\u306b\u7528\u3044\u308b\u6280\u8853\u306e\u3053\u3068\u3067\u3059.\nGPU\u306b\u306f, \u753b\u50cf\u51e6\u7406\u3092\u9ad8\u901f\u306b\u884c\u3046\u305f\u3081\u306b\u5927\u91cf\u306e\u30b3\u30a2\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u306e\u3067, \u3053\u308c\u3089\u306e\u30b3\u30a2\u3067\u51e6\u7406\u3092\u5206\u6563\u3059\u308b\u3053\u3068\u3067, \u9ad8\u901f\u5316\u3092\u5b9f\u73fe\u3057\u307e\u3059.\nGPGPU\u3092\u4e0a\u624b\u304f\u5229\u7528\u3059\u308c\u3070, \u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3, \u6697\u53f7\u89e3\u8aad, \u97f3\u58f0\u51e6\u7406\u306a\u3069\u306e\u30c7\u30fc\u30bf\u4e26\u5217\u6027\u306e\u3042\u308b\u51e6\u7406\u3092, \u9ad8\u901f\u304b\u3064\u4f4e\u30b3\u30b9\u30c8\u3067\u5b9f\u73fe\u3067\u304d\u308b\u306e\u3067, \u7279\u306b\u5b66\u8853\u5206\u91ce\u3067\u306f\u3044\u308d\u3044\u308d\u306a\u8a66\u307f\u304c\u884c\u308f\u308c\u3066\u3044\u307e\u3059.\n\u5177\u4f53\u7684\u306a\u7814\u7a76\u4f8b\u3068\u3057\u3066\u306f, [\u5730\u9707\u306e\u89e3\u6790\u306e\u9ad8\u901f\u5316](http://jglobal.jst.go.jp/public/20090422/201202276749201536), [\u9ad8\u901f\u306a\u30d5\u30fc\u30ea\u30a8\u5909\u63db](http://matsu-www.is.titech.ac.jp/ja/node/40), [GPGPU\u3092\u4f7f\u3063\u305fSSL\u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u306e\u9ad8\u901f\u5316](http://yuuki.hatenablog.com/entry/2013/04/17/171230)\u306a\u3069\u306a\u3069, \u63a2\u305b\u3070\u7d50\u69cb\u898b\u3064\u304b\u308a\u307e\u3059.\n\n\u304b\u3064\u3066GPU\u306f\u7d50\u69cb\u9ad8\u4fa1\u3067, \u500b\u4eba\u3067\u306f\u624b\u304c\u51fa\u3057\u306b\u304f\u304b\u3063\u305f\u90e8\u5206\u3082\u3042\u308a\u307e\u3057\u305f\u304c, \u6700\u8fd1\u306fGPU\u306e\u4fa1\u683c\u3082\u5b89\u304f\u306a\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3057, \u4f55\u3088\u308aAWS\u3067\u306fGPU\u304c\u5229\u7528\u53ef\u80fd\u306a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3082\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u3067, GPGPU\u306b\u6311\u6226\u3059\u308b\u6577\u5c45\u306f\u304b\u306a\u308a\u4f4e\u304f\u306a\u3063\u3066\u304d\u3066\u3044\u307e\u3059.\n\n\u3068\u3044\u3046\u308f\u3051\u3067, \u4eca\u65e5\u306f\u305d\u3093\u306aGPGPU\u3092, Perl\u304b\u3089\u697d\u3057\u3080\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059.\n\n# GPGPU\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\n\n...\u305d\u306e\u524d\u306b, GPGPU\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u7279\u5fb4\u306b\u3064\u3044\u3066, \u8efd\u304f\u7d39\u4ecb\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059.\n\nGPGPU\u3092\u5229\u7528\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u88c5\u3059\u308b\u969b\u306b\u306f, GPU\u5074(\u30c7\u30d0\u30a4\u30b9\u5074)\u3068CPU\u5074(\u30db\u30b9\u30c8\u5074)\u3092\u533a\u5225\u3057\u3066\u8003\u3048\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093.\n\u30c7\u30d0\u30a4\u30b9\u5074\u3067\u5b9f\u884c\u3059\u308b\u30b3\u30fc\u30c9\u3068\u30db\u30b9\u30c8\u5074\u3067\u5b9f\u884c\u3059\u308b\u30b3\u30fc\u30c9\u306f\u660e\u78ba\u306b\u533a\u5225\u3055\u308c, \u7279\u306bGPU\u3067\u5b9f\u884c\u3059\u308b\u30b3\u30fc\u30c9\u306f\uff62\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\uff63\u3068\u547c\u3070\u308c\u308b\u7279\u6b8a\u306a\u95a2\u6570\u3068\u3057\u3066\u8a18\u8ff0\u3057\u307e\u3059.\n\n\u3053\u306e\u3088\u3046\u306b\u533a\u5225\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u7406\u7531\u306f, \u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30e1\u30e2\u30ea\u306f\u30db\u30b9\u30c8\u5074\u306e\u30e1\u30e2\u30ea\u3068\u5225\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059.\nGPU\u3067\u4e26\u5217\u5b9f\u884c\u3057\u305f\u3044\u8a08\u7b97\u30c7\u30fc\u30bf\u306f, \u30db\u30b9\u30c8\u5074\u306e\u30e1\u30e2\u30ea\u304b\u3089\u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30e1\u30e2\u30ea\u306b\u8ee2\u9001\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3057, \u9006\u306bGPU\u306e\u5b9f\u884c\u7d50\u679c\u306f\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3089\u30db\u30b9\u30c8\u5074\u306b\u8ee2\u9001\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093.\n\u3088\u3063\u3066, GPU\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306f\u6b21\u306e\u3088\u3046\u306a\u6d41\u308c\u306b\u306a\u308a\u307e\u3059.\n\n- \u5fc5\u8981\u306a\u30e1\u30e2\u30ea\u3092\u30c7\u30d0\u30a4\u30b9\u5074\u3067\u78ba\u4fdd\n- \u8a08\u7b97\u30c7\u30fc\u30bf\u3092\u30db\u30b9\u30c8\u5074\u304b\u3089\u30c7\u30d0\u30a4\u30b9\u5074\u3078\u8ee2\u9001\n- \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057, GPU\u3067\u4e26\u5217\u5b9f\u884c\n- \u8a08\u7b97\u30c7\u30fc\u30bf\u3092\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3089\u30db\u30b9\u30c8\u5074\u3078\u8ee2\u9001\n- \u30c7\u30d0\u30a4\u30b9\u5074\u3067\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u3092\u958b\u653e\n\n\uff62\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd\uff63, \uff62\u30c7\u30d0\u30a4\u30b9\uff65\u30db\u30b9\u30c8\u9593\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\uff63\u306a\u3069\u306e\u51e6\u7406\u306f, GPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306b\u4efb\u305b\u308b\u306e\u304c\u4e00\u822c\u7684\u3067\u3059.\nGPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306f\u69d8\u3005\u306a\u5b9f\u88c5\u304c\u958b\u767a\uff65\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u304c, \u4eca\u65e5\u7d39\u4ecb\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306f, \u5168\u3066NVIDIA\u304c\u958b\u767a\u3057\u305f\uff62CUDA\uff63\u3068\u3044\u3046GPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5229\u7528\u3057\u305f\u3082\u306e\u3067\u3059.\n\n\u3042\u307e\u308a\u3053\u3053\u3067\u9577\u3005\u3068\u8aac\u660e\u3059\u308b\u306e\u306f\u3069\u3046\u304b\u3068\u601d\u3046\u306e\u3067(\u53cd\u97ff? \u304c\u3042\u308c\u3070, \u3053\u306e\u8fba\u308a\u306b\u3064\u3044\u3066\u3082\u3044\u305a\u308c\u8a73\u3057\u304f\u3054\u7d39\u4ecb\u3067\u304d\u308c\u3070\u3068\u601d\u3044\u307e\u3059...), \u305d\u308d\u305d\u308d\u30e2\u30b8\u30e5\u30fc\u30eb\u7d39\u4ecb\u3078\u5165\u3063\u3066\u884c\u304d\u307e\u3057\u3087\u3046.\n\n# CUDA::Minimal\n\n\u307e\u305a\u306fCUDA::Minimal. \u4f5c\u8005\u306f[David Mertens](http://search.cpan.org/~dcmertens/)\u3055\u3093\u3067\u3059.\n\u3053\u3061\u3089\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u307e\u3060CPAN\u306b\u306f\u3042\u304c\u3063\u3066\u304a\u3089\u305a, GitHub\u304b\u3089\u5165\u624b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059: [https://github.com/run4flat/perl-CUDA-Minimal](https://github.com/run4flat/perl-CUDA-Minimal)\n\n\u4f5c\u8005\u306e\u65b9\u304c, blogs.perl.org\u306b\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3064\u3044\u3066\u306e\u8a18\u4e8b\u3092\u66f8\u3044\u3066\u3044\u307e\u3059: [Perl's first real CUDA bindings released](http://blogs.perl.org/users/david_mertens/2011/06/perls-first-real-cuda-bindings-released.html)\n\u3053\u3061\u3089\u306e\u8a18\u4e8b\u306b\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u304c\u3042\u308b\u306e\u3067, \u65e9\u901f\u898b\u3066\u307f\u307e\u3057\u3087\u3046(\u5143\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306b\u3042\u3063\u305f\u30b3\u30e1\u30f3\u30c8\u306f\u524a\u9664\u3057\u3066\u3044\u307e\u3059).\n\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f, `$N_values`\u500b\u306e\u8981\u7d20\u3092\u6301\u3064\u914d\u5217\u306b\u5bfe\u3057\u3066, \u5404\u8981\u7d20\u30923\u500d\u3059\u308b\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3044\u307e\u3059.\n\n```pl\nuse strict;\nuse warnings;\nuse CUDA::Minimal;\nuse ExtUtils::nvcc;\nuse Inline C => DATA => ExtUtils::nvcc::Inline;\n\n# \u8a08\u7b97\u30c7\u30fc\u30bf\u3092\u751f\u6210.\n# \u4eca\u56de\u306f $N_values = 10 \u306a\u306e\u3067, 1\u304b\u308910\u307e\u3067\u306e\u30ea\u30b9\u30c8\u3092\u751f\u6210\u3057\u3066\u304b\u3089, pack\u3067float\u578b\u306e\u30d0\u30a4\u30ca\u30ea\u3078.\nmy $N_values = 10;\nmy $host_data = pack('f*', 1..$N_values);\n\n# \u751f\u6210\u3057\u305f\u8a08\u7b97\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3067\u304d\u308b\u3060\u3051\u306e\u30e1\u30e2\u30ea\u3092\u30c7\u30d0\u30a4\u30b9\u5074\u3067\u78ba\u4fdd.\n# MallocFrom\u306f\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd\u3068\u8ee2\u9001\u3092\u884c\u3044, Malloc\u306f\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd\u306e\u307f\u3092\u884c\u3046\u95a2\u6570.\n# \u3053\u308c\u3089\u306e\u95a2\u6570\u306f, \u30c7\u30d0\u30a4\u30b9\u5074\u3067\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u8fd4\u3059\u306e\u3067, \u30b9\u30ab\u30e9\u5909\u6570\u3067\u53d7\u3051\u53d6\u308b.\nmy $input_dev_ptr = MallocFrom($host_data);\nmy $output_dev_ptr = Malloc($host_data);\n\n# MallocFrom/Malloc\u3067\u78ba\u4fdd\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30dd\u30a4\u30f3\u30bf\u3068, $N_values\u3092\u5f15\u6570\u3068\u3057\u3066\u6e21\u3057\u3066, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8d77\u52d5.\n# \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306f\u5f8c\u8ff0.\ninvoke_the_kernel($input_dev_ptr, $output_dev_ptr, $N_values);\n\n# SetSize\u3067, GPU\u3067\u8a08\u7b97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u30b9\u30ab\u30e9\u5909\u6570 $result_array \u3092\u751f\u6210.\nSetSize(my $results_array, length($host_data));\n\n# Transfer\u3067, \u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30e1\u30e2\u30ea\u306b\u78ba\u4fdd\u3055\u308c\u3066\u3044\u308bGPU\u3067\u8a08\u7b97\u3057\u305f\u30c7\u30fc\u30bf\u3092, \u30db\u30b9\u30c8\u5074\u306e\u30e1\u30e2\u30ea\u3078\u8ee2\u9001\u3059\u308b.\nTransfer($output_dev_ptr => $results_array);\n\n# \u8a08\u7b97\u7d50\u679c\u3092\u8868\u793a. Transfer\u3067 $result_array \u306bfloat\u578b\u306e\u30d0\u30a4\u30ca\u30ea\u3067\u8a08\u7b97\u7d50\u679c\u304c\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u306e\u3067, unpack\u3067\u5909\u63db\u3059\u308b.\nprint \"$_\\n\" foreach (unpack 'f*', $results_array);\n\n# \u30c7\u30d0\u30a4\u30b9\u5074\u306e\u30e1\u30e2\u30ea\u3092\u958b\u653e\u3059\u308b.\nFree($input_dev_ptr, $output_dev_ptr);\n\n__END__\n\n__C__\n\n// CUDA\u3067\u8a18\u8ff0\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570. \u5148\u982d\u306e __global__ \u3067\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u308b.\n__global__ void triple(float * in_g, float * out_g) {\n    out_g[threadIdx.x] = in_g[threadIdx.x] * 3;\n}\n\n// \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u30e9\u30c3\u30d1\u30fc.\nvoid invoke_the_kernel(SV * in_SV, SV * out_SV, int N_values) {\n    float * d_in = INT2PTR(float *, SvIV(in_SV));\n    float * d_out = INT2PTR(float *, SvIV(out_SV));\n\n    triple <<<1, N_values>>>(d_in, d_out);\n}\n```\n\nCUDA::Minimal\u306f, CUDA C\u8a00\u8a9e\u3067\u8a18\u8ff0\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092, Inline::C\u306e\u3088\u3046\u306bPerl\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u4e2d\u306b\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059.\n\u305f\u3060, CUDA::Minimal\u306f\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd, \u30c7\u30fc\u30bf\u8ee2\u9001, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u8d77\u52d5\u306a\u3069, GPGPU\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u5b9f\u88c5\u3059\u308b\u4e0a\u3067\u5fc5\u8981\u6700\u4f4e\u9650\n\u306e\u6a5f\u80fd\u3057\u304b\u63d0\u4f9b\u3057\u3066\u3044\u307e\u305b\u3093.\n\u305d\u306e\u305f\u3081, Perl\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u3068\u30d0\u30a4\u30ca\u30ea\u3092\u5909\u63db\u3059\u308b\u51e6\u7406(\u4e0a\u8a18\u30b3\u30fc\u30c9\u306epack/unpack)\u306a\u3069\u306f, \u5168\u3066\u624b\u52d5\u3067\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059.\n\n\u66f4\u306bCUDA::Minimal\u3092\u5229\u7528\u3057\u305f\u30b3\u30fc\u30c9\u306f, \u8a00\u3046\u307e\u3067\u3082\u3042\u308a\u307e\u305b\u3093\u304cGPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u74b0\u5883\u3067\u3057\u304b\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093.\n\u3053\u308c\u3089\u306e\u554f\u984c\u3092\u89e3\u6c7a\u3059\u3079\u304f, PerCUDA\u3068\u547c\u3070\u308c\u308bPerl\u5411\u3051\u306eGPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f.\n\n# PerCUDA\n\nPerCUDA\u306f, \u3053\u306e\u8a18\u4e8b\u306e\u7b46\u8005(papix)\u304c\u5927\u5b66\u9662\u306e\u7814\u7a76\u3068\u3057\u3066\u958b\u767a\u3057\u305fGPGPU\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059.\nCUDA::Minimal\u3092\u767a\u5c55\u3055\u305b, Perl\u304b\u3089GPGPU\u3092\uff62\u304a\u624b\u8efd\u306b\u697d\u3057\u3081\u308b, \u8a66\u305b\u308b\uff63\u3053\u3068\u3092\u76ee\u6307\u3057\u3066\u3044\u307e\u3059.\n\nPerCUDA\u306f, \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066CUDA::DriverAPI\u3068\u547c\u3070\u308c\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059.\n\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f, CUDA\u304c\u63d0\u4f9b\u3059\u308bAPI\u306e\u3046\u3061\u306e1\u3064, \uff62\u30c9\u30e9\u30a4\u30d0API\uff63\u3092Perl\u304b\u3089\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059(\u3061\u306a\u307f\u306b, CUDA\u304c\u63d0\u4f9b\u3059\u308bAPI\u306e\u3082\u30461\u3064\u306f\uff62\u30e9\u30a4\u30f3\u30bf\u30a4\u30e0API\uff63\u3068\u547c\u3070\u308c\u3066\u3044\u3066, CUDA::Miminal\u306f\u3053\u306eAPI\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059).\nCUDA::DriveAPI\u306b\u3064\u3044\u3066\u306f, \u4ee5\u524d\uff62Hachioji.pm\u65e5\u3081\u304f\u308a\u30c6\u30c3\u30af\u30c8\u30fc\u30af\uff63\u306b\u8a18\u4e8b\u3092\u66f8\u3044\u305f\u306e\u3067, \u305d\u3061\u3089\u3082\u53c2\u8003\u306b\u3057\u3066\u9802\u3051\u308b\u3068\u5e78\u3044\u3067\u3059: [CUDA::DeviceAPI\u3067Perl\u304b\u3089\u304a\u624b\u8efdGPGPU\u30e9\u30a4\u30d5!](http://hachiojipm.github.io/entry/2013-11-04-cuda-device-api.html)\n\n...\u3061\u306a\u307f\u306b\u4f59\u8ac7\u3067\u3059\u304c, \u8a18\u4e8b\u3067\u306f\uff62CUDA::DeviceAPI\uff63\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c, \u305d\u306e\u5f8c\u3067\uff62\u5229\u7528\u3057\u3066\u308bAPI, \u30c7\u30d0\u30a4\u30b9API\u3058\u3083\u306a\u304f\u3066\u30c9\u30e9\u30a4\u30d0API\u3058\u3083\u306a\u3044\u304b! __\u540d\u524d\u9593\u9055\u3063\u3066\u305f!!!__\uff63\u3068\u3044\u3046\u4e8b\u306b\u6c17\u304c\u3064\u3044\u3066, \uff62CUDA::DriverAPI\uff63\u306b\u6539\u540d\u3057\u3066\u3044\u307e\u3059.\n\u3053\u3061\u3089\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u307e\u3060CPAN\u306b\u30a2\u30c3\u30d7\u3057\u3066\u3044\u306a\u3044\u306e\u3067, GitHub\u304b\u3089\u3054\u89a7\u4e0b\u3055\u3044: [https://github.com/papix/CUDA-DriverAPI](https://github.com/papix/CUDA-DriverAPI)\n\n\u3055\u3066, PerCUDA\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067, GPGPU\u3092\u3069\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3067\u304d\u308b\u304b, \u898b\u3066\u307f\u307e\u3057\u3087\u3046.\n\u6b21\u306e\u30b3\u30fc\u30c9\u306f, 3 x 3 \u306e\u30b5\u30a4\u30ba\u306e\u914d\u5217\u306b\u5bfe\u3057\u3066, \u914d\u5217\u306e\u4e57\u7b97\u3092\u884c\u3046\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3059.\n\n```pl\nuse strict;\nuse warnings;\nuse PerCUDA;\n\nmy $array = [\n    [ 1 .. 3 ],\n    [ 4 .. 6 ],\n    [ 7 .. 9 ],\n];\n\nmy $runner = PerCUDA->new(\n    dim      => 2,        # \u914d\u5217\u306e\u6b21\u5143\n    size     => 'array1', # \u914d\u5217\u306e\u30b5\u30a4\u30ba\n    engine   => 'gpu',    # \u4f7f\u7528\u3059\u308b\u51e6\u7406\u7cfb\n    argument => [         # \u5f15\u6570\u3068\u30c7\u30fc\u30bf\u578b\n        array1 => 'f',\n        array2 => 'f',\n        array3 => 'f',\n        N => 'i',\n    ],\n    retval => ['array3'], # \u8fd4\u308a\u5024\n    source => <<'KERNEL', # \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\n    \nmy $tmp = 0;\nfor (my $i = 0; $i < $N; $i++) {\n$tmp = $tmp\n    + $array1->[$i]->[$y]\n    * $array2->[$x]->[$i];\n}\n$array3->[$x]->[$y] = $tmp;\n    \nKERNEL\n);\n\nmy $retval = $runner->run($array, $array, []);\n```\n\nPerCUDA\u306e\u7279\u5fb4\u306f, \uff62\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092Perl\u3067\u8a18\u8ff0\u3067\u304d\u308b\uff63\u3068\u3044\u3046\u70b9\u3067\u3059.\n\u73fe\u72b6, Perl\u3067\u5229\u7528\u3067\u304d\u308b\u5168\u3066\u306e\u69cb\u6587\u304c\u5229\u7528\u3067\u304d\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c, \u4f7f\u3044\u6163\u308c\u305fPerl\u3067\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8a18\u8ff0\u3067\u304d\u308b\u3068\u3044\u3046\u306e\u306f\u5927\u304d\u306a\u30e1\u30ea\u30c3\u30c8\u306b\u306a\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b.\n\n\u307e\u305f, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092Perl\u3067\u8a18\u8ff0\u3057\u3066\u3044\u308b\u306e\u3067, PerCUDA\u3067\u306f, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u7cfb\u3092Perl\u51e6\u7406\u7cfb\u3068GPU\u304b\u3089\u9078\u629e\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059.\n\u305d\u306e\u305f\u3081, GPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u306a\u3044\u74b0\u5883\u3067\u3042\u3063\u3066\u3082\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3059.\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u3067\u306f, `engine`\u3068\u3044\u3046\u90e8\u5206\u3067GPU\u3092\u5229\u7528\u3057\u3066\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059.\n\u3061\u306a\u307f\u306b, \u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\u306fPerCUDA\u304c\u81ea\u52d5\u7684\u306b\u5224\u5b9a\u3092\u884c\u3044, GPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u74b0\u5883\u3067\u3042\u308c\u3070GPU\u3092, \u305d\u3046\u3067\u306a\u3051\u308c\u3070Perl\u51e6\u7406\u7cfb\u3092\u5229\u7528\u3057\u3066, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059.\n\nPerCUDA\u306e\u96e3\u70b9\u306f, GPU\u5411\u3051\u306e\u30b3\u30fc\u30c9\u3092Perl\u3067\u8a18\u8ff0\u3057\u305f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u304b\u3089\u81ea\u52d5\u751f\u6210\u3059\u308b\u306e\u3067, \u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u304c\u96e3\u3057\u3044\u3068\u3044\u3046\u70b9\u3067\u3059.\n\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u306e\u3057\u3084\u3059\u3055\u3068, \u305d\u308c\u306b\u3088\u308b\u9ad8\u901f\u5316\u3068\u3044\u3046\u70b9\u3067\u306f, CUDA C\u8a00\u8a9e\u3067\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u3092\u8a18\u8ff0\u3067\u304d\u308bCUDA::Minimal\u3084CUDA::DriverAPI\u306b\u591a\u5c11\u52a3\u3063\u3066\u3057\u307e\u3044\u307e\u3059.\n\n# PerCUDA\u306e\u6027\u80fd\n\nPerCUDA\u3092\u5229\u7528\u3057\u3066, \u7d0410^6\u306e\u753b\u7d20(1024*1024\u753b\u7d20)\u306b\u5bfe\u3059\u308b\u30de\u30f3\u30c7\u30eb\u30d6\u30ed\u96c6\u5408\u306e\u8a08\u7b97\u3092\u884c\u3063\u305f\u7d50\u679c\u3092\u7d39\u4ecb\u3057\u307e\u3059.\n\uff62GPU\uff63\u306f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u7cfb\u3068\u3057\u3066GPU\u3092\u4f7f\u3063\u305f\u5834\u5408, \uff62Perl\uff63\u306f\u30ab\u30fc\u30cd\u30eb\u95a2\u6570\u306e\u51e6\u7406\u7cfb\u3068\u3057\u3066Perl\u51e6\u7406\u7cfb\u3092\u5229\u7528\u3057\u305f\u5834\u5408\u306e\u5b9f\u884c\u6642\u9593\u306b\u306a\u308a\u307e\u3059.\n\n| n    | GPU      | Perl       |\n|:-----|:---------|------------|\n| 2^0  | 0.14419s | 2.63360s   |\n| 2^1  | 0.14523s | 3.27114s   |\n| 2^2  | 0.14588s | 4.24830s   |\n| 2^3  | 0.14409s | 5.49464s   |\n| 2^4  | 0.14605s | 7.26325s   |\n| 2^5  | 0.15051s | 10.08421s  |\n| 2^6  | 0.15296s | 15.55460s  |\n| 2^7  | 0.15346s | 26.60217s  |\n| 2^8  | 0.15998s | 49.52719s  |\n| 2^9  | 0.17723s | 91.99616s  |\n| 2^10 | 0.20646s | 175.36165s |\n| 2^11 | 0.26290s | 348.06578s |\n| 2^12 | 0.34298s | 687.46580s |\n\n...\u3068\u3044\u3046\u308f\u3051\u3067, \u5727\u5012\u7684\u306bPerCUDA(\u3068\u3044\u3046\u304bGPU)\u304c\u65e9\u3044\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059.\n\u5b9f\u884c\u3059\u308b\u51e6\u7406\u306b\u3082\u3088\u308a\u307e\u3059\u304c, PerCUDA(\u305d\u3057\u3066GPGPU)\u3092\u5229\u7528\u3059\u308c\u3070, \u3053\u308c\u3060\u3051\u306e\u9ad8\u901f\u5316\u304c\u5b9f\u73fe\u3067\u304d\u308b\u306e\u3067\u3059.\n\n2013/12/23\u8ffd\u8a18:\n\uff62PerCUDA\u3068\u7d20\u306eCUDA\u306e\u6027\u80fd\u8a55\u4fa1\uff63\u306b\u3064\u3044\u3066, \uff62Hachioji.pm \u65e5\u3081\u304f\u308a\u30c6\u30c3\u30af\u30c8\u30fc\u30af\uff63\u306b\u5bc4\u7a3f\u3055\u305b\u3066\u9802\u304d\u307e\u3057\u305f: [PerCUDA\u306e\u6027\u80fd\u8a55\u4fa1](http://hachiojipm.github.io/entry/2013-12-23-percuda-2.html)\n\n# PerCUDA\u306e\u3053\u308c\u304b\u3089\n\nPerCUDA\u306e\u30d7\u30ed\u30c8\u30bf\u30a4\u30d7(?)\u306f\u5b8c\u6210\u3057\u3066\u3044\u307e\u3059\u304c, \u3044\u308d\u3044\u308d\u3068\u51fa\u6765\u304c\u9177\u3044\u306e\u3067, \u6765\u5e743\u6708\u306e\u516c\u958b\u3092\u76ee\u6307\u3057\u3066\u7814\u7a76\u5ba4\u306e\u5f8c\u8f29\u3067\u3082\u3042\u308b@bool_fool\u3068\u4e00\u7dd2\u306b\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u4f5c\u696d\u3092\u7d9a\u3051\u3066\u3044\u307e\u3059.\n\n\u6700\u521d\u306b\u66f8\u3044\u305f\u3088\u3046\u306b, PerCUDA\u306f, \uff62Perl\u304b\u3089GPGPU\u3092\u304a\u624b\u8efd\u306b\u697d\u3057\u3080, \u8a66\u3059\uff63\u305f\u3081\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059.\n\u6700\u521d\u304b\u3089\u6700\u5f8c\u307e\u3067PerCUDA\u3092\u5229\u7528\u3057\u3066\u9ad8\u901f\u5316... \u3068\u3044\u3046\u306e\u3067\u306f\u306a\u304f, CUDA::Minimal\u3084CUDA::DriverAPI\u306e\u5229\u7528, \u3042\u308b\u3044\u306fPerl\u304b\u3089CUDA\u3078\u306e\u79fb\u690d\u3092\u8a66\u307f\u308b\u524d\u306e\u8db3\u304c\u304b\u308a\u3068\u3057\u3066\u4f7f\u3063\u3066\u3082\u3089\u3048\u308b\u3088\u3046\u306b\u306a\u308c\u3070\u3044\u3044\u306a, \u3068\u601d\u3063\u3066\u3044\u307e\u3059.\n\nPerl\u3067\u8a18\u8ff0\u3057\u305f\u30b3\u30fc\u30c9\u304c\u3042\u3063\u3066, \uff62\u3053\u308c, GPU\u3067\u51e6\u7406\u3057\u305f\u3089\u65e9\u304f\u306a\u308b\u304b\u306a...?\uff63\u3068\u3044\u3046\u6642\u306b, \u307e\u305aPerCUDA\u3067\u8a66\u3057\u3066\u307f\u308b.\nPerCUDA\u3067, \u3042\u308b\u7a0b\u5ea6\u306e\u6210\u679c(\u9ad8\u901f\u5316)\u304c\u5b9f\u73fe\u3067\u304d\u305f\u306e\u3067\u3042\u308c\u3070, CUDA::Minimal\u3084CUDA::DriverAPI\u3092\u5229\u7528\u3057\u305fGPGPU\u3084, Perl\u304b\u3089CUDA\u3078\u306e\u79fb\u690d\u306b\u3088\u3063\u3066, \u3055\u3089\u306a\u308b\u9ad8\u901f\u5316\u3092\u8a66\u307f\u308b... \u305d\u3046\u3044\u3046\u98a8\u306b\u4f7f\u3063\u3066\u3082\u3089\u3046\u306e\u304c\u7406\u60f3\u7684\u3068\u601d\u3063\u3066\u3044\u307e\u3059.\n\nCUDA::Minimal\u3084CUDA::DriverAPI\u306a\u3069, Perl\u304b\u3089GPGPU\u3092\u5229\u7528\u3059\u308b\u74b0\u5883\u306f\u304b\u306a\u308a\u6574\u3063\u3066\u304d\u3066\u3044\u308b... \u3068\u3044\u3046\u5370\u8c61\u3092\u6700\u8fd1\u6301\u3063\u3066\u3044\u307e\u3059.\n\u3053\u306e\u8a18\u4e8b\u3092\u8aad\u3093\u3067\u8208\u5473\u3092\u6301\u3063\u305f\u65b9\u306f, \u662f\u975e\uff62Perl\u304b\u3089\u306eGPGPU\uff63\u3092\u8a66\u3057\u3066\u307f\u3066\u9802\u3051\u308b\u3068\u5b09\u3057\u3044\u3067\u3059.\n\n...PerCUDA\u306e\u3053\u308c\u304b\u3089\u306b, \u3069\u3046\u305e\u3054\u671f\u5f85\u4e0b\u3055\u3044!"}