{"tags": ["JavaScript", "promise"], "context": " More than 1 year has passed since last update.@armorik83\u3067\u3059\u3002\u3061\u3087\u3063\u3068\u4e00\u6bb5\u843d\u3064\u3044\u305f\u3068\u3053\u308d\u3067\u3001\u305d\u308d\u305d\u308d\u771f\u5263\u306bPromise\u306e\u4e2d\u8eab\u3092\u8aad\u3080\u5fc5\u8981\u304c\u3042\u308b\u306a\u30fc\u3068\u611f\u3058\u305f\u306e\u3067\u3001\u305d\u306e\u3068\u304d\u306e\u30e1\u30e2\u3067\u3059\u3002\n\n\u8aad\u3093\u3060\u5b9f\u88c5\n\u4eca\u56de\u306fjakearchibald/es6-promise v2.0.1\u3092\u8aad\u3093\u3067\u3044\u304d\u307e\u3059\u3002\u57fa\u790e\u77e5\u8b58\u3068\u3057\u3066JavaScript Promise\u306e\u672c\u306b\u3082\u76ee\u3092\u901a\u3057\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\n\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066Promise\u672c\u306e1.3.1\u3092\u82e5\u5e72\u6539\u5909\u3057\u3066\u5229\u7528\u3055\u305b\u3066\u3082\u3089\u3044\u307e\u3057\u305f\u3002\nvar Promise = require('es6-promise').Promise;\n\nfunction getURL(URL) {\n  return new Promise(function (resolve, reject) {\n    var req = new XMLHttpRequest();\n    req.open('GET', URL, true);\n    req.onload = function () {\n      if (req.status === 200) {\n        resolve(req.responseText);\n      } else {\n        reject(new Error(req.statusText));\n      }\n    };\n    req.onerror = function () {\n      reject(new Error(req.statusText));\n    };\n    req.send();\n  });\n}\n\nvar URL = \"http://httpbin.org/get\";\nvar promise = getURL(URL);\n\npromise.then(function(value){\n  console.log(value);\n}).catch(function(error){\n  console.error(error);\n});\n\n\n\u51e6\u7406\u306e\u6d41\u308c\n\u975e\u540c\u671f\u51e6\u7406\u304c\u5b8c\u4e86\u3059\u308b\u524d\u306bthen()\u304c\u5b9f\u884c\u3055\u308c\u305f\u5834\u5408\u306e\u6d41\u308c\u3002\u975e\u540c\u671f\u51e6\u7406\u5b8c\u4e86\u5f8c\u306bthen()\u3059\u308b\u5834\u5408\u306f\u591a\u5c11\u524d\u5f8c\u3057\u307e\u3059\u304c\u3001state\u3068\u304b\u3067\u5206\u5c90\u3057\u3066\u3046\u307e\u3044\u5177\u5408\u306b\u3084\u3063\u3066\u308b\u307f\u305f\u3044\u3067\u3059\u3002\uff08\u4eca\u56de\u306f\u5272\u611b\uff09\n\nnew Promise()\n\n\u30a8\u30f3\u30c8\u30ea\npromise.js\n\n\nL136 Promise constructor\u304c\u547c\u3070\u308c\u308b\n\nL137 L137-L140\u3067\u5404\u30d7\u30ed\u30d1\u30c6\u30a3\u521d\u671f\u5316\n\nL142 new Promise()\u306b\u4e0e\u3048\u3089\u308c\u305fcallback\u304cnoop\u3067\u306a\u3051\u308c\u3070\u51e6\u7406\n\nL143 \u5404\u7a2e\u30ac\u30fc\u30c9\u7bc0\uff08callback\u306f\u95a2\u6570\u304b? \u3061\u3083\u3093\u3068new\u4ed8\u3051\u3066\u547c\u3093\u3067\u308b\u304b?\uff09\n\n\ncallback\u3092\u5b9f\u884c\n-internal.js\n\n\nL226\u3053\u3053\u304b\u3089initializePromise()\n\n\nL228new Promise(\u3053\u3053)\u306b\u6e21\u3055\u308c\u305fcallback\u304c\u5b9f\u884c\u3055\u308c\u308b\n\ncallback\u81ea\u4f53\u306f\u3053\u3053\u3067\u3082\u3046\u5b8c\u4e86\u3059\u308b\u3002\n\nthen()\n\npromise.then()\u306e\u6d41\u308c\npromise.js\n\n\nL356 \u3053\u3053\u304b\u3089Promise#then()\n\n\nL360 \u5224\u5b9a\u5f0fstate === FULFILLED && !onFulfillment || state === REJECTED && !onRejection\u3001\u30c1\u30a7\u30fc\u30f3.catch()\u3092\u634c\u304f\u305f\u3081\u306e\u5206\u5c90\n\nL364 .then()\u30c1\u30a7\u30fc\u30f3\u7528\u306e\u65b0\u3057\u3044Promise\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9child\u3092\u751f\u6210\n\nL142 child\u751f\u6210\u6642\u3001new Promise()\u306b\u4e0e\u3048\u3089\u308c\u308bcallback\u306fnoop\u306a\u306e\u3067\u30b9\u30ad\u30c3\u30d7\n\n#365 result\u306f\u521d\u671f\u5316\u6642\u306e\u307e\u307eundefined\n\n\n#372 state\u3082undefined (=== PENDING)\u306a\u306e\u3067\u3001subscribe()\u306b\u9032\u3080\n\n\nsubscribe()\n-internal.js\n\n\nL142 subscribers Array\u306bchild Promise\u3001onFulfillment callback\uff08.then()\u306e\u7b2c\u4e00\u5f15\u6570\uff09\u3001onRejection callback\uff08.then()\u306e\u7b2c\u4e8c\u5f15\u6570\uff09\u304c\u683c\u7d0d\u3055\u308c\u308b\n\nL148 parent._state\u304cPENDING\u306e\u305f\u3081\u30b9\u30ad\u30c3\u30d7\n\npromise.js\n\n\nL381 subscribe()\u304c\u5b8c\u4e86\u3057\u3001then()\u306fchild\u3092\u8fd4\u3057\u3066\u5b8c\u4e86\n\n\ncatch()\npromise.js\n\n\nL412 .then().catch()\u30c1\u30a7\u30fc\u30f3\u306ecatch\u90e8\u5206\u304c\u8d70\u308b\n\nL413 \u5373\u5ea7\u306b.then()\u306b\u51e6\u7406\u304c\u56de\u3055\u308c\u308b\uff08\u3064\u307e\u308a\u305f\u3060\u306e\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30b7\u30e5\u30ac\u30fc\uff09\n\n\npromise.then()\u306e\u6d41\u308c\uff08\u518d\u3073\uff09\npromise.js\n\n\nL356 \u3053\u3053\u304b\u3089Promise#then()\n\nL360\nL364\nL142\n#365\n\n#372 subscribe()\u306b\u9032\u3080\n\n\nsubscribe()\uff08\u518d\u3073\uff09\n-internal.js\n\nL142\nL148\n\n\u3053\u3053\u3067\u307e\u3060\u975e\u540c\u671f\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u4e00\u9023\u306e\u51e6\u7406\u306f\u4e00\u65e6\u3053\u3053\u3067\u7d42\u308f\u308b\u3002\n\nresolve()\n\nfulfill()\n-internal.js\n\n\nL228 \u975e\u540c\u671f\u51e6\u7406\u5185\u3067resolve()\u304c\u547c\u3070\u308c\u308b\u3068\u3001\u6700\u521d\u306bnew Promise()\u3067\u751f\u6210\u3057\u305fPromise\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5185\u3067resolve\u51e6\u7406\u304c\u52d5\u304d\u51fa\u3059\n\nL098 resolve\u306e\u6210\u5426\u5224\u5b9a\u306b\u79fb\u308b\n\nL099 resolve()\u306bPromise\u81ea\u8eab\u304c\u6e21\u3063\u3066\u304d\u305f\u3089\u4f8b\u5916\u3001thenable\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3060\u3063\u305f\u3089\u305d\u3063\u3061\u5411\u3051\u306e\u51e6\u7406\uff08\u4eca\u56de\u306f\u5272\u611b\u3001Promise\u672c2.1.2\u3092\u53c2\u7167\uff09\n\nL116 fulfill()\u306b\u79fb\u308a\u3001\u3053\u306e\u3068\u304d\u5f15\u6570\u306evalue\u306b\u306fresolve()\u306b\u4e0e\u3048\u305f\u5024\u3001\u3064\u307e\u308a\u975e\u540c\u671f\u51e6\u7406\u306e\u7d50\u679c\u304c\u6e21\u308b\n\nL117 state\u304cPENDING\u3067\u306a\u3051\u308c\u3070\u30b9\u30ad\u30c3\u30d7\uff08\u4eca\u56de\u306fPENDING\u306a\u306e\u3067\u7d9a\u884c\uff09\n\nL120 state\u304cFULFILLED\u306b\u5207\u308a\u66ff\u308f\u308b\n\nL124 subscribers\u306b\u306f\u4e8b\u524d\u306b\u683c\u7d0d\u3055\u308c\u305fchild, onFulfillment, onRejection\u304c\u3042\u308b\u305f\u3081asap()\u306b\u9032\u3080\u3002asap()\u306b\u306fpublish\u95a2\u6570\u3068promise\u81ea\u8eab\u304c\u6e21\u308b\u3002\n\n\npublish()\nasap.js\n\n\nL003 queue\u306bpublish\u95a2\u6570\u3068promise\u304c\u683c\u7d0d\u3055\u308c\u308b\n\n-internal.js\n\n\nL151 queue\u304c\u767a\u706b\u3057\u3066publish()\u304c\u8d70\u308b\n\nL159 subscribers Array\u30923\u305a\u3064\u30a4\u30c6\u30ec\u30fc\u30c8\u3057\u3066\u53d6\u308a\u51fa\u3057\u305fchild, onFulfillment, onRejection\u3092\u7528\u3044\u3066invokeCallback()\u3059\u308b\n\nL166 child\u304c\u7121\u3051\u308c\u3070\uff08\u30c1\u30a7\u30fc\u30f3\u304c\u7d9a\u3044\u3066\u306a\u3051\u308c\u3070\uff09.then() callback\u306e\u5f15\u6570\u306bresolve\u306e\u7d50\u679c\u3092\u6e21\u3057\u3066\u5b9f\u884c\n\nL188 invokeCallback()\u304b\u3089\u7d50\u679c\u306b\u5fdc\u3058\u3066\u30c1\u30a7\u30fc\u30f3\u3092resolve()\u3055\u305b\u305f\u308afulfill(), reject()\u3055\u305b\u308b\u306a\u3069\u6b21\u3005\u3068\u56de\u53ce\n\n\u5168\u884c\u7a0b\u5b8c\u4e86\u3002\n\n\u8981\u7d04\n\u9010\u4e00\u66f8\u3044\u3066\u3044\u3063\u305f\u306e\u3067\u8981\u7d04\u3057\u307e\u3059\u3002\u5927\u304d\u304f\u5206\u3051\u30663\u6bb5\u968e\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n1\n\nnew Promise()\n\u6e21\u3057\u305fcallback\u3092\u5b9f\u884c\n\npromise\u304c\u8fd4\u308b\n\n2\n\n\n.then()\u3059\u308b\n\u30c1\u30a7\u30fc\u30f3\u7528\u306echild\u3092\u751f\u6210\n\nonFulfillment\u304csubscribers\u306b\u8ffd\u52a0\u3055\u308c\u308b\n\u30c1\u30a7\u30fc\u30f3\u306a\u3089\u3070\u9806\u306bchild\u306esubscribers\u306b\u8ffd\u52a0\n\n3\n\n\u975e\u540c\u671f\u51e6\u7406\u5185\u3067resolve()\u3059\u308b\n\ninvokeCallback()\u3067onFulfillment(result)\u3092\u5b9f\u884c\n\u9806\u6b21\u30c1\u30a7\u30fc\u30f3\u306e\u56de\u53ce\n\n\n\u4ed6\u306ePromise\u5b9f\u88c5\u306f?\n\uff08\u8ffd\u8a18\uff09\u3082\u3057\u304b\u3059\u308b\u3068es6-promise\u306b\u9650\u3063\u305f\u8a71\u306a\u306e\u3067\u306f\u3068\u601d\u3044\u3001\u4ed6\u306e\u6709\u540d\u3069\u3053\u308d\u3082\u30b5\u30e9\u3063\u3068\u3067\u3059\u304c\u8aad\u3093\u3067\u307f\u307e\u3057\u305f\u3002\nbluebird 2.9.13\n\nPromise constructor\nPromise#_then()\nPromise#_addCallbacks()\n\nthen/promise 6.1.0\n\nPromise constructor\nPromise#then()\nnew Handler()\n\nnative-promise-only 0.7.6-a\n\nPromise constructor\nPromise#then()\nschedule()\n\nyahoo/ypromise 0.3.0\n\n\nPromise constructor \nPromise#then()\nResolver#_addCallbacks()\n\nthen()\u3067\u30c1\u30a7\u30fc\u30f3\u7528\u306bchild promise\u3092\u751f\u6210\u3057\u3066\u3001queue\u306b\u8ffd\u52a0\u3057\u3066\u767a\u706b\u3092\u5f85\u3064\u3001\u3068\u3044\u3046\u4ed5\u7d44\u307f\u306fPromise\u4e00\u822c\u8ad6\u3068\u3044\u3063\u3066\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\n\u5f97\u305f\u3082\u306e\n\n\u8907\u96d1\u305d\u3046\u3068\u3044\u3046Promise\u30a2\u30ec\u30eb\u30ae\u30fc\u306e\u514b\u670d\n\u30ad\u30e5\u30fc\u3078\u306e\u8ffd\u52a0\u3068\u56de\u53ce\u306b\u95a2\u3059\u308b\u77e5\u898b\n\u304a\u305d\u3089\u304f\u30ad\u30e5\u30fc\u5b9f\u884c\u7ba1\u7406\u3092\u3057\u3066\u3044\u308b\u3067\u3042\u308d\u3046asap.js#\u306e\u30d6\u30e9\u30a6\u30b6\u3001WebWorker\u3001node\u5411\u3051\u5206\u5c90\u51e6\u7406\u306e\u66f8\u304d\u65b9\n\nMutationObserver\u3068\u304b\u3044\u3046\uff08\u6b8b\u5ff5\u306a\u304c\u3089\uff09\u805e\u3044\u305f\u3053\u3068\u306e\u306a\u304b\u3063\u305fAPI\u3092\u77e5\u308b\u304d\u3063\u304b\u3051\n\n\n\u4e0d\u660e\u70b9\nasap.js\u4f55\u3084\u3063\u3066\u305f\u306e\u304b\u7d50\u5c40\u3088\u304f\u5206\u304b\u3093\u306a\u3044\u3002\n\n\u4eca\u5f8c\u306e\u8ab2\u984c\n\u3082\u3063\u3068\u8272\u3005\u5b9f\u88c5\u8aad\u3093\u3067\u3044\u304d\u305f\u3044\u3067\u3059\u3002\n\n\u4eca\u56de\u4f7f\u3063\u305f\u3082\u306e\n\njakearchibald/es6-promise v2.0.1\nJavaScript Promise\u306e\u672c\n\u3084\u305f\u3089\u3068\u304b\u304b\u3063\u305f\u6642\u9593\n\n\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n@armorik83\u3067\u3059\u3002\u3061\u3087\u3063\u3068\u4e00\u6bb5\u843d\u3064\u3044\u305f\u3068\u3053\u308d\u3067\u3001\u305d\u308d\u305d\u308d\u771f\u5263\u306bPromise\u306e\u4e2d\u8eab\u3092\u8aad\u3080\u5fc5\u8981\u304c\u3042\u308b\u306a\u30fc\u3068\u611f\u3058\u305f\u306e\u3067\u3001\u305d\u306e\u3068\u304d\u306e\u30e1\u30e2\u3067\u3059\u3002\n\n# \u8aad\u3093\u3060\u5b9f\u88c5\n\u4eca\u56de\u306f[jakearchibald/es6-promise v2.0.1](https://github.com/jakearchibald/es6-promise/tree/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6)\u3092\u8aad\u3093\u3067\u3044\u304d\u307e\u3059\u3002\u57fa\u790e\u77e5\u8b58\u3068\u3057\u3066[JavaScript Promise\u306e\u672c](http://azu.github.io/promises-book/)\u306b\u3082\u76ee\u3092\u901a\u3057\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n# \u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\n\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066[Promise\u672c\u306e1.3.1](http://azu.github.io/promises-book/#how-to-write-promise)\u3092\u82e5\u5e72\u6539\u5909\u3057\u3066\u5229\u7528\u3055\u305b\u3066\u3082\u3089\u3044\u307e\u3057\u305f\u3002\n\n```js\nvar Promise = require('es6-promise').Promise;\n\nfunction getURL(URL) {\n  return new Promise(function (resolve, reject) {\n    var req = new XMLHttpRequest();\n    req.open('GET', URL, true);\n    req.onload = function () {\n      if (req.status === 200) {\n        resolve(req.responseText);\n      } else {\n        reject(new Error(req.statusText));\n      }\n    };\n    req.onerror = function () {\n      reject(new Error(req.statusText));\n    };\n    req.send();\n  });\n}\n\nvar URL = \"http://httpbin.org/get\";\nvar promise = getURL(URL);\n\npromise.then(function(value){\n  console.log(value);\n}).catch(function(error){\n  console.error(error);\n});\n```\n\n# \u51e6\u7406\u306e\u6d41\u308c\n\u975e\u540c\u671f\u51e6\u7406\u304c\u5b8c\u4e86\u3059\u308b\u524d\u306b`then()`\u304c\u5b9f\u884c\u3055\u308c\u305f\u5834\u5408\u306e\u6d41\u308c\u3002\u975e\u540c\u671f\u51e6\u7406\u5b8c\u4e86\u5f8c\u306b`then()`\u3059\u308b\u5834\u5408\u306f\u591a\u5c11\u524d\u5f8c\u3057\u307e\u3059\u304c\u3001`state`\u3068\u304b\u3067\u5206\u5c90\u3057\u3066\u3046\u307e\u3044\u5177\u5408\u306b\u3084\u3063\u3066\u308b\u307f\u305f\u3044\u3067\u3059\u3002\uff08\u4eca\u56de\u306f\u5272\u611b\uff09\n\n## new Promise()\n### \u30a8\u30f3\u30c8\u30ea\n**`promise.js`**\n\n- [L136](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L136) Promise constructor\u304c\u547c\u3070\u308c\u308b\n- [L137](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L137-L140) L137-L140\u3067\u5404\u30d7\u30ed\u30d1\u30c6\u30a3\u521d\u671f\u5316\n- [L142](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L142) `new Promise()`\u306b\u4e0e\u3048\u3089\u308c\u305fcallback\u304c`noop`\u3067\u306a\u3051\u308c\u3070\u51e6\u7406\n- [L143](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L143-L149) \u5404\u7a2e\u30ac\u30fc\u30c9\u7bc0\uff08callback\u306f\u95a2\u6570\u304b? \u3061\u3083\u3093\u3068new\u4ed8\u3051\u3066\u547c\u3093\u3067\u308b\u304b?\uff09\n\n### callback\u3092\u5b9f\u884c\n\n**`-internal.js`**\n\n- [L226](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/-internal.js#L226)\u3053\u3053\u304b\u3089`initializePromise()`\n- [L228](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/-internal.js#L228-L232)`new Promise(\u3053\u3053)`\u306b\u6e21\u3055\u308c\u305fcallback\u304c\u5b9f\u884c\u3055\u308c\u308b\n\ncallback\u81ea\u4f53\u306f\u3053\u3053\u3067\u3082\u3046\u5b8c\u4e86\u3059\u308b\u3002\n\n## then()\n### promise.then()\u306e\u6d41\u308c\n\n**`promise.js`**\n\n- [L356](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L356) \u3053\u3053\u304b\u3089`Promise#then()`\n- [L360](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L360) \u5224\u5b9a\u5f0f`state === FULFILLED && !onFulfillment || state === REJECTED && !onRejection`\u3001\u30c1\u30a7\u30fc\u30f3`.catch()`\u3092\u634c\u304f\u305f\u3081\u306e\u5206\u5c90\n- [L364](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L364) `.then()`\u30c1\u30a7\u30fc\u30f3\u7528\u306e\u65b0\u3057\u3044`Promise`\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9`child`\u3092\u751f\u6210\n- [L142](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L142-L152) child\u751f\u6210\u6642\u3001`new Promise()`\u306b\u4e0e\u3048\u3089\u308c\u308bcallback\u306f`noop`\u306a\u306e\u3067\u30b9\u30ad\u30c3\u30d7\n- [#365](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L365) `result`\u306f[\u521d\u671f\u5316\u6642](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L139)\u306e\u307e\u307e`undefined`\n- [#372](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L372) `state`\u3082`undefined (=== PENDING)`\u306a\u306e\u3067\u3001`subscribe()`\u306b\u9032\u3080\n\n### subscribe()\n\n**`-internal.js`**\n\n- [L142](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L142-L144) `subscribers` Array\u306b`child` Promise\u3001`onFulfillment` callback\uff08.then()\u306e\u7b2c\u4e00\u5f15\u6570\uff09\u3001`onRejection` callback\uff08.then()\u306e\u7b2c\u4e8c\u5f15\u6570\uff09\u304c\u683c\u7d0d\u3055\u308c\u308b\n- [L148](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L148) `parent._state`\u304c`PENDING`\u306e\u305f\u3081\u30b9\u30ad\u30c3\u30d7\n\n**`promise.js`**\n\n- [L381](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/promise.js#L381) `subscribe()`\u304c\u5b8c\u4e86\u3057\u3001`then()`\u306f`child`\u3092\u8fd4\u3057\u3066\u5b8c\u4e86\n\n### catch()\n\n**`promise.js`**\n\n- [L412](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/promise.js#L412) `.then().catch()`\u30c1\u30a7\u30fc\u30f3\u306e`catch`\u90e8\u5206\u304c\u8d70\u308b\n- [L413](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/promise.js#L413) \u5373\u5ea7\u306b`.then()`\u306b\u51e6\u7406\u304c\u56de\u3055\u308c\u308b\uff08\u3064\u307e\u308a\u305f\u3060\u306e[\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30b7\u30e5\u30ac\u30fc](http://azu.github.io/promises-book/#promise.catch)\uff09\n\n### promise.then()\u306e\u6d41\u308c\uff08\u518d\u3073\uff09\n\n**`promise.js`**\n\n- [L356](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L356) \u3053\u3053\u304b\u3089`Promise#then()`\n- [L360](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L360)\n- [L364](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L364)\n- [L142](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L142-L152)\n- [#365](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L365)\n- [#372](https://github.com/jakearchibald/es6-promise/blob/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6/lib/es6-promise/promise.js#L372) `subscribe()`\u306b\u9032\u3080\n\n### subscribe()\uff08\u518d\u3073\uff09\n\n**`-internal.js`**\n\n- [L142](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L142-L144)\n- [L148](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L148)\n\n\u3053\u3053\u3067\u307e\u3060\u975e\u540c\u671f\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u4e00\u9023\u306e\u51e6\u7406\u306f\u4e00\u65e6\u3053\u3053\u3067\u7d42\u308f\u308b\u3002\n\n## resolve()\n### fulfill()\n\n**`-internal.js`**\n\n- [L228](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L228) \u975e\u540c\u671f\u51e6\u7406\u5185\u3067`resolve()`\u304c\u547c\u3070\u308c\u308b\u3068\u3001\u6700\u521d\u306b`new Promise()`\u3067\u751f\u6210\u3057\u305fPromise\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5185\u3067resolve\u51e6\u7406\u304c\u52d5\u304d\u51fa\u3059\n- [L098](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L98) resolve\u306e\u6210\u5426\u5224\u5b9a\u306b\u79fb\u308b\n- [L099](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L99-L102) `resolve()`\u306bPromise\u81ea\u8eab\u304c\u6e21\u3063\u3066\u304d\u305f\u3089\u4f8b\u5916\u3001thenable\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3060\u3063\u305f\u3089\u305d\u3063\u3061\u5411\u3051\u306e\u51e6\u7406\uff08\u4eca\u56de\u306f\u5272\u611b\u3001[Promise\u672c2.1.2](http://azu.github.io/promises-book/#ch2-promise-resolve)\u3092\u53c2\u7167\uff09\n- [L116](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L116) `fulfill()`\u306b\u79fb\u308a\u3001\u3053\u306e\u3068\u304d\u5f15\u6570\u306e`value`\u306b\u306f`resolve()`\u306b\u4e0e\u3048\u305f\u5024\u3001\u3064\u307e\u308a\u975e\u540c\u671f\u51e6\u7406\u306e\u7d50\u679c\u304c\u6e21\u308b\n- [L117](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L117) state\u304c`PENDING`\u3067\u306a\u3051\u308c\u3070\u30b9\u30ad\u30c3\u30d7\uff08\u4eca\u56de\u306f`PENDING`\u306a\u306e\u3067\u7d9a\u884c\uff09\n- [L120](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L120) state\u304c`FULFILLED`\u306b\u5207\u308a\u66ff\u308f\u308b\n- [L124](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L124) `subscribers`\u306b\u306f\u4e8b\u524d\u306b\u683c\u7d0d\u3055\u308c\u305f`child`, `onFulfillment`, `onRejection`\u304c\u3042\u308b\u305f\u3081`asap()`\u306b\u9032\u3080\u3002`asap()`\u306b\u306f`publish`\u95a2\u6570\u3068`promise`\u81ea\u8eab\u304c\u6e21\u308b\u3002\n\n### publish()\n\n**`asap.js`**\n\n- [L003](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/asap.js#L3) queue\u306b`publish`\u95a2\u6570\u3068`promise`\u304c\u683c\u7d0d\u3055\u308c\u308b\n\n**`-internal.js`**\n\n- [L151](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L151) queue\u304c\u767a\u706b\u3057\u3066`publish()`\u304c\u8d70\u308b\n- [L159](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L159) `subscribers` Array\u30923\u305a\u3064\u30a4\u30c6\u30ec\u30fc\u30c8\u3057\u3066\u53d6\u308a\u51fa\u3057\u305f`child`, `onFulfillment`, `onRejection`\u3092\u7528\u3044\u3066`invokeCallback()`\u3059\u308b\n- [L166](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L166) `child`\u304c\u7121\u3051\u308c\u3070\uff08\u30c1\u30a7\u30fc\u30f3\u304c\u7d9a\u3044\u3066\u306a\u3051\u308c\u3070\uff09`.then()` callback\u306e\u5f15\u6570\u306b`resolve`\u306e\u7d50\u679c\u3092\u6e21\u3057\u3066\u5b9f\u884c\n- [L188](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/-internal.js#L188) `invokeCallback()`\u304b\u3089\u7d50\u679c\u306b\u5fdc\u3058\u3066\u30c1\u30a7\u30fc\u30f3\u3092`resolve()`\u3055\u305b\u305f\u308a`fulfill()`, `reject()`\u3055\u305b\u308b\u306a\u3069\u6b21\u3005\u3068\u56de\u53ce\n\n\u5168\u884c\u7a0b\u5b8c\u4e86\u3002\n\n# \u8981\u7d04\n\u9010\u4e00\u66f8\u3044\u3066\u3044\u3063\u305f\u306e\u3067\u8981\u7d04\u3057\u307e\u3059\u3002\u5927\u304d\u304f\u5206\u3051\u30663\u6bb5\u968e\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n**1**\n\n- `new Promise()`\n- \u6e21\u3057\u305fcallback\u3092\u5b9f\u884c\n- `promise`\u304c\u8fd4\u308b\n\n**2**\n\n- `.then()`\u3059\u308b\n- \u30c1\u30a7\u30fc\u30f3\u7528\u306e`child`\u3092\u751f\u6210\n- `onFulfillment`\u304c`subscribers`\u306b\u8ffd\u52a0\u3055\u308c\u308b\n- \u30c1\u30a7\u30fc\u30f3\u306a\u3089\u3070\u9806\u306b`child`\u306e`subscribers`\u306b\u8ffd\u52a0\n\n**3**\n\n- \u975e\u540c\u671f\u51e6\u7406\u5185\u3067`resolve()`\u3059\u308b\n- `invokeCallback()`\u3067`onFulfillment(result)`\u3092\u5b9f\u884c\n- \u9806\u6b21\u30c1\u30a7\u30fc\u30f3\u306e\u56de\u53ce\n\n# \u4ed6\u306ePromise\u5b9f\u88c5\u306f?\n\uff08\u8ffd\u8a18\uff09\u3082\u3057\u304b\u3059\u308b\u3068es6-promise\u306b\u9650\u3063\u305f\u8a71\u306a\u306e\u3067\u306f\u3068\u601d\u3044\u3001\u4ed6\u306e\u6709\u540d\u3069\u3053\u308d\u3082\u30b5\u30e9\u3063\u3068\u3067\u3059\u304c\u8aad\u3093\u3067\u307f\u307e\u3057\u305f\u3002\n\n**[bluebird](https://github.com/petkaantonov/bluebird)** 2.9.13\n\n- [Promise constructor](https://github.com/petkaantonov/bluebird/blob/4ee7ea7fc83dbd10c561e975a2290766f5c89aea/src/promise.js#L40)\n- [Promise#_then()](https://github.com/petkaantonov/bluebird/blob/4ee7ea7fc83dbd10c561e975a2290766f5c89aea/src/promise.js#L198)\n- [Promise#_addCallbacks()](https://github.com/petkaantonov/bluebird/blob/4ee7ea7fc83dbd10c561e975a2290766f5c89aea/src/promise.js#L347)\n\n**[then/promise](https://github.com/then/promise)** 6.1.0\n\n- [Promise constructor](https://github.com/then/promise/blob/a37d938ee7358619a61f3033268315d1c705ceeb/lib/core.js#L6)\n- [Promise#then()](https://github.com/then/promise/blob/a37d938ee7358619a61f3033268315d1c705ceeb/lib/core.js#L14)\n- [new Handler()](https://github.com/then/promise/blob/a37d938ee7358619a61f3033268315d1c705ceeb/lib/core.js#L75)\n\n**[native-promise-only](https://github.com/getify/native-promise-only)** 0.7.6-a\n\n- [Promise constructor](https://github.com/getify/native-promise-only/blob/42080e62da70346ef652057666942d1f900a5552/lib/npo.src.js#L220)\n- [Promise#then()](https://github.com/getify/native-promise-only/blob/42080e62da70346ef652057666942d1f900a5552/lib/npo.src.js#L235)\n- [schedule()](https://github.com/getify/native-promise-only/blob/42080e62da70346ef652057666942d1f900a5552/lib/npo.src.js#L74)\n\n**[yahoo/ypromise](https://github.com/yahoo/ypromise)** 0.3.0\n\n- [Promise constructor](https://github.com/yahoo/ypromise/blob/f3cf093f93aac24c91cb9a72f106d04cfc034eec/promise.js#L63) \n- [Promise#then()](https://github.com/yahoo/ypromise/blob/f3cf093f93aac24c91cb9a72f106d04cfc034eec/promise.js#L111)\n- [Resolver#_addCallbacks()](https://github.com/yahoo/ypromise/blob/f3cf093f93aac24c91cb9a72f106d04cfc034eec/promise.js#L529)\n\n`then()`\u3067\u30c1\u30a7\u30fc\u30f3\u7528\u306bchild promise\u3092\u751f\u6210\u3057\u3066\u3001queue\u306b\u8ffd\u52a0\u3057\u3066\u767a\u706b\u3092\u5f85\u3064\u3001\u3068\u3044\u3046\u4ed5\u7d44\u307f\u306fPromise\u4e00\u822c\u8ad6\u3068\u3044\u3063\u3066\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\n# \u5f97\u305f\u3082\u306e\n- \u8907\u96d1\u305d\u3046\u3068\u3044\u3046Promise\u30a2\u30ec\u30eb\u30ae\u30fc\u306e\u514b\u670d\n- \u30ad\u30e5\u30fc\u3078\u306e\u8ffd\u52a0\u3068\u56de\u53ce\u306b\u95a2\u3059\u308b\u77e5\u898b\n- \u304a\u305d\u3089\u304f\u30ad\u30e5\u30fc\u5b9f\u884c\u7ba1\u7406\u3092\u3057\u3066\u3044\u308b\u3067\u3042\u308d\u3046`asap.js`[#](https://github.com/jakearchibald/es6-promise/blob/aac73317722cce1c4b3b5ce9f3a072af676d424d/lib/es6-promise/asap.js)\u306e\u30d6\u30e9\u30a6\u30b6\u3001WebWorker\u3001node\u5411\u3051\u5206\u5c90\u51e6\u7406\u306e\u66f8\u304d\u65b9\n- [MutationObserver](https://developer.mozilla.org/ja/docs/Web/API/MutationObserver)\u3068\u304b\u3044\u3046\uff08\u6b8b\u5ff5\u306a\u304c\u3089\uff09\u805e\u3044\u305f\u3053\u3068\u306e\u306a\u304b\u3063\u305fAPI\u3092\u77e5\u308b\u304d\u3063\u304b\u3051\n\n# \u4e0d\u660e\u70b9\n`asap.js`\u4f55\u3084\u3063\u3066\u305f\u306e\u304b\u7d50\u5c40\u3088\u304f\u5206\u304b\u3093\u306a\u3044\u3002\n\n# \u4eca\u5f8c\u306e\u8ab2\u984c\n\u3082\u3063\u3068\u8272\u3005\u5b9f\u88c5\u8aad\u3093\u3067\u3044\u304d\u305f\u3044\u3067\u3059\u3002\n\n# \u4eca\u56de\u4f7f\u3063\u305f\u3082\u306e\n- [jakearchibald/es6-promise v2.0.1](https://github.com/jakearchibald/es6-promise/tree/a29ce4aaf72d58711839b0ba14e49c43b34aa1d6)\n- [JavaScript Promise\u306e\u672c](http://azu.github.io/promises-book/)\n- \u3084\u305f\u3089\u3068\u304b\u304b\u3063\u305f\u6642\u9593\n\n\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n"}