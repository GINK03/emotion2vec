{"context": "\n\n\u6982\u8981\n\nLaravel5.x\u3092 http://exapmle.com/laravel/ \u3067\u52d5\u4f5c\u3055\u305b\u305f\u3044\u3002\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f4d\u7f6e\u306f CentOS6 \u30d9\u30fc\u30b9\u3067\u3059\u3002\n\n\nApache\n\n/etc/httpd/conf.d/laravel.conf\n\n# \u3044\u3064\u3082\u3069\u304a\u308a\u306eVirtualHost \n<VirtualHost *:80>\n    ServerAdmin webmaster@example.com\n    DocumentRoot /www/docs/example.com\n    ServerName example.com\n    ErrorLog logs/example.com-error_log\n    CustomLog logs/example.com-access_log common\n+   #Alias\u3092\u8a2d\u5b9a\u3059\u308b\n+   Alias /laravel-twilio \"/var/www/laravel/public\"\n#</VirtualHost>\n\n\n\n/var/www/laravel/public/.htaccess\n<IfModule mod_rewrite.c>\n    <IfModule mod_negotiation.c>\n        Options -MultiViews\n    </IfModule>\n\n    RewriteEngine On\n\n    # Redirect Trailing Slashes If Not A Folder...\n    RewriteCond %{REQUEST_FILENAME} !-d\n+   #\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\n-   RewriteRule ^(.*)/$ /$1 [L,R=301]\n+   RewriteRule ^(.*)/$ /laravel-twilio/$1 [L,R=301]\n+   RewriteBase /laravel-twilio\n\n    # Handle Front Controller...\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^ index.php [L]\n</IfModule>\n\n\n\nnginx\n\n/etc/nginx/conf.d/laravel.conf\n# \u524d\u7565\n+    location ^~ /laravel {\n+        alias /var/www/laravel/public;\n+        try_files $uri $uri/ @laravel01;\n+        index index.php index.html index.htm;\n+\n+        location ~ \\.php$ {\n+            fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n+            fastcgi_pass unix:/var/run/php-fpm.sock;\n+            include fastcgi_params;\n+            fastcgi_param SCRIPT_FILENAME /var/www/laravel/public/index.php;\n+        }\n+    }\n+    \n+    location @laravel01 {\n+        rewrite /laravel/(.*)$ /laravel/index.php?/$1 last;\n+    }\n# \u5f8c\u7565\n\n\n\n\u3042\u3068\u304c\u304d\nnginx\u306efastcgi_param SCRIPT_FILENAME\u306e\u3068\u3053\u308d\u3092\u3082\u3046\u5c11\u3057\u30b9\u30bf\u30a4\u30ea\u30c3\u30b7\u30e5\u306b\u66f8\u304d\u305f\u3044\u3002\n# \u6982\u8981\n- Laravel5.x\u3092 http://exapmle.com/laravel/ \u3067\u52d5\u4f5c\u3055\u305b\u305f\u3044\u3002\n- \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f4d\u7f6e\u306f CentOS6 \u30d9\u30fc\u30b9\u3067\u3059\u3002\n\n# Apache\n\n\n``` diff:/etc/httpd/conf.d/laravel.conf\n\n# \u3044\u3064\u3082\u3069\u304a\u308a\u306eVirtualHost \n<VirtualHost *:80>\n    ServerAdmin webmaster@example.com\n    DocumentRoot /www/docs/example.com\n    ServerName example.com\n    ErrorLog logs/example.com-error_log\n    CustomLog logs/example.com-access_log common\n+   #Alias\u3092\u8a2d\u5b9a\u3059\u308b\n+   Alias /laravel-twilio \"/var/www/laravel/public\"\n#</VirtualHost>\n```\n\n``` diff:/var/www/laravel/public/.htaccess\n<IfModule mod_rewrite.c>\n    <IfModule mod_negotiation.c>\n        Options -MultiViews\n    </IfModule>\n\n    RewriteEngine On\n\n    # Redirect Trailing Slashes If Not A Folder...\n    RewriteCond %{REQUEST_FILENAME} !-d\n+   #\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\n-   RewriteRule ^(.*)/$ /$1 [L,R=301]\n+   RewriteRule ^(.*)/$ /laravel-twilio/$1 [L,R=301]\n+   RewriteBase /laravel-twilio\n\n    # Handle Front Controller...\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^ index.php [L]\n</IfModule>\n```\n\n# nginx\n\n``` diff:/etc/nginx/conf.d/laravel.conf\n# \u524d\u7565\n+    location ^~ /laravel {\n+        alias /var/www/laravel/public;\n+        try_files $uri $uri/ @laravel01;\n+        index index.php index.html index.htm;\n+\n+        location ~ \\.php$ {\n+            fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n+            fastcgi_pass unix:/var/run/php-fpm.sock;\n+            include fastcgi_params;\n+            fastcgi_param SCRIPT_FILENAME /var/www/laravel/public/index.php;\n+        }\n+    }\n+    \n+    location @laravel01 {\n+        rewrite /laravel/(.*)$ /laravel/index.php?/$1 last;\n+    }\n# \u5f8c\u7565\n```\n\n# \u3042\u3068\u304c\u304d\nnginx\u306e```fastcgi_param SCRIPT_FILENAME```\u306e\u3068\u3053\u308d\u3092\u3082\u3046\u5c11\u3057\u30b9\u30bf\u30a4\u30ea\u30c3\u30b7\u30e5\u306b\u66f8\u304d\u305f\u3044\u3002\n\n", "tags": ["laravel5", "nginx", "apache2"]}