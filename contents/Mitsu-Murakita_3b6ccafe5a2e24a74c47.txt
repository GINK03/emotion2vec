{"context": "\n\n6-3. CentOS7.1\u306e\u8a2d\u5b9a\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u306e\u3067\u3001\u3053\u3053\u304b\u3089\u306fTeraTerm\u3067\u64cd\u4f5c\u3057\u307e\u3059\u3002\n\n\n6-3-1. \u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\n\ncent701\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\n[root@localhost ~]# hostnamectl set-hostname cent701\u3000\u23ce\n\n\n\ncent702\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\n[root@localhost ~]# hostnamectl set-hostname cent702\u3000\u23ce\n\n\n\ncent703\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\n[root@localhost ~]# hostnamectl set-hostname cent703\u3000\u23ce\n\n\n\n6-3-2. cent701/cent702/cent703\u3092HOSTS\u30d5\u30a1\u30a4\u30eb\u3078\u767b\u9332\n\nHOSTS\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u767b\u9332\n[root@localhost ~]# vim /etc/hosts\u3000\u23ce\n\n\n\n\u3010HOSTS\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u5185\u5bb9\u3011\n10.110.217.146 cent701 cent701.softlayer.com\n10.110.217.147 cent702 cent702.softlayer.com\n10.110.217.148 cent703 cent703.softlayer.com\n\n\n\n6-3-3. \u30d5\u30a1\u30a4\u30a2\u30fc\u30a6\u30a9\u30fc\u30eb \u3001SELinux\u3092\u30aa\u30d5\n\u4eca\u56de\u306f\u3001\u30c6\u30b9\u30c8\u76ee\u7684\u306a\u306e\u3067\u6a5f\u80fd\u3092\u30aa\u30d5\u306b\u3057\u307e\u3057\u305f\u3002\u672c\u7a3c\u50cd\u306e\u6642\u306f\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u505c\u6b62\u3001\u7121\u52b9\u5316\n\nfirewalld\u306e\u505c\u6b62\n[root@localhost ~]# systemctl stop firewalld\u3000\u23ce\n\n\n\nfirewalld\u306e\u7121\u52b9\u5316\n[root@localhost ~]# systemctl disable firewalld\u3000\u23ce\n\n\n\nSELinux\u306e\u7121\u52b9\u5316\n\nSELinux\u306e\u7121\u52b9\u5316\n[root@localhost ~]# vim /etc/selinux/config\u3000\u23ce\n\n\n\n\u3010config\u5909\u66f4\u3011\nSELINUX=disabled\n\n\n\n6-3-4. \u6642\u523b\u540c\u671f\u306e\u8a2d\u5b9a\n\u3053\u3053\u3067\u306f\u3001\u6642\u523b\u540c\u671f\u306b\u300cchrony\u300d\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\nSoftLayer\u306eNTP\u300ctime.service.networklayer.com\u300d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\nSoftLayer-NTP\u306e\u767b\u9332\n[root@localhost ~]# vim /etc/chrony.conf\u3000\u23ce\n\n\n\n\u3010chrony.conf\u8ffd\u52a0\u3011\nserver time.service.networklayer.com\n\n\n\n6-3-5. \u30ea\u30d6\u30fc\u30c8\n\u3053\u3053\u307e\u3067\u306e\u8a2d\u5b9a\u3092\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u3001\u30b7\u30b9\u30c6\u30e0\u3092\u30ea\u30d6\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n\u30ea\u30d6\u30fc\u30c8\n[root@localhost ~]# reboot\u3000\u23ce\n\n\n\u4ee5\u4e0a\u3067\u300c6-3. CentOS7.1\u306e\u8a2d\u5b9a\u300d\u5b8c\u4e86\u3067\u3059\u3002\n\n6-4. \u30b5\u30fc\u30d0\u30fc\u9593\u306e\u8a2d\u5b9a\ncent701/cent702/cent703\u76f8\u4e92\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u7121\u3057\u3067SSH\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n6-4-1. \u79d8\u5bc6\u9375\u3001\u516c\u958b\u9375\u306e\u4f5c\u6210\n/root/.ssh/\u3000\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306e\u4f5c\u6210\n\n.ssh\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306e\u4f5c\u6210\n[root@cent701 ~]# mkdir ~/.ssh\u3000\u23ce\n\n\n\u79d8\u5bc6\u9375\u3001\u516c\u958b\u9375\u306e\u4f5c\u6210\n\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306f\u6307\u5b9a\u3057\u307e\u305b\u3093\u3002\n\n\u79d8\u5bc6\u9375\u3001\u516c\u958b\u9375\u306e\u4f5c\u6210\n[root@cent701 ~]# ssh-keygen -t rsa -f .ssh/id_rsa_${HOSTNAME}\u3000\u23ce\n\n\n\ncent702/cent703\u306e\u516c\u958b\u9375\u3092cent701\u306b\u96c6\u3081\u307e\u3059\u3002\n\ncent702\u306e\u516c\u958b\u9375\u3092cent701\u3078\u30b3\u30d4\u30fc\n[root@cent702 ~]# scp ~/.ssh/id_rsa_${HOSTNAME}.pub root@cent701:~/.ssh/\u3000\u23ce\n\n\n\ncent703\u306e\u516c\u958b\u9375\u3092cent701\u3078\u30b3\u30d4\u30fc\n[root@cent703 ~]# scp ~/.ssh/id_rsa_${HOSTNAME}.pub root@cent701:~/.ssh/\u3000\u23ce\n\n\n\u3059\u3079\u3066\u306e\u516c\u958b\u9375\u3092cent701\u306eauthorized_keys\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n\u516c\u958b\u9375\u3092cent701\u306eauthorized_keys\u306b\u8ffd\u8a18\n[root@cent701 ~]# cat ~/.ssh/id_rsa_cent701.pub > ~/.ssh/authorized_keys\u3000\u23ce\n[root@cent701 ~]# cat ~/.ssh/id_rsa_cent702.pub >> ~/.ssh/authorized_keys\u3000\u23ce\n[root@cent701 ~]# cat ~/.ssh/id_rsa_cent703.pub >> ~/.ssh/authorized_keys\u3000\u23ce\n\n\ncent701\u306eauthorized_keys\u3092cent702/cent703\u3078\u914d\u5e03\u3057\u307e\u3059\u3002\n\nauthorized_keys\u3092\u914d\u4ed8\n[root@cent701 ~]# scp ~/.ssh/authorized_keys root@cent702:~/.ssh/\u3000\u23ce\n[root@cent701 ~]# scp ~/.ssh/authorized_keys root@cent703:~/.ssh/\u3000\u23ce\n\n\nssh\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\n\nssh_config\u306e\u7de8\u96c6\n[root@cent701 ~]# vim /etc/ssh/ssh_config\u3000\u23ce\n\n\n\n\u3010\u7de8\u96c6\u7b87\u6240\u3011\nRSAAuthentication yes\nPasswordAuthentication no\nIdentityFile ~/.ssh/id_rsa_\u30db\u30b9\u30c8\u540d\n\n\n\u30db\u30b9\u30c8\u540d\u306b\u306f\u5404\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nssh\u306e\u518d\u8d77\u52d5\n\nssh\u306e\u518d\u8d77\u52d5\n[root@cent701 ~]# /usr/sbin/sshd \u2013t\u3000\u23ce\n[root@cent701 ~]# systemctl restart sshd.service\u3000\u23ce\n\n\nssh\u63a5\u7d9a\u306e\u78ba\u8a8d\n\nssh\u63a5\u7d9a\u306e\u78ba\u8a8dcent701\u21d2cent702\n[root@cent701 ~]# ssh cent702\u3000\u23ce\n\n\n\nssh\u63a5\u7d9a\u306e\u78ba\u8a8dcent701\u21d2cent703\n[root@cent701 ~]# ssh cent703\u3000\u23ce\n\n\n\u540c\u69d8\u306b\u3001cent702\u21d2cent701 /cent702\u21d2cent703 / cent703\u21d2cent701  /cent703\u21d2cent702\u3082\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u4ee5\u4e0a\u3067\u300c6-4. \u30b5\u30fc\u30d0\u30fc\u9593\u306e\u8a2d\u5b9a\u300d\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\u25c7\u300c\u305d\u306e\uff11\uff1a\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4f5c\u6210\uff5eGuestOS\u306e\u5c0e\u5165\u300d\n\n\u25c6\u300c\u305d\u306e\uff12\uff1aCentOS7.1\u306e\u8a2d\u5b9a\uff5e\u30b5\u30fc\u30d0\u30fc\u9593\u306e\u8a2d\u5b9a\u300d\n\n\u25c7\u300c\u305d\u306e\uff13\uff1aSpectrum Scale\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\n\n\u25c7\u300c\u305d\u306e\uff14\uff1a\u30af\u30e9\u30b9\u30bf\u30fc\u306e\u69cb\u7bc9\uff5e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8PC\u304b\u3089\u63a5\u7d9a\u78ba\u8a8d\u300d\n\n## 6-3. CentOS7.1\u306e\u8a2d\u5b9a\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u306e\u3067\u3001\u3053\u3053\u304b\u3089\u306fTeraTerm\u3067\u64cd\u4f5c\u3057\u307e\u3059\u3002\n![50.png](http://www.seahorse-inc.com/QIITA/Spcetrumscale/50.png)\n### 6-3-1. \u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\n```Command:cent701\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\n[root@localhost ~]# hostnamectl set-hostname cent701\u3000\u23ce\n``` \n```Command:cent702\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\n[root@localhost ~]# hostnamectl set-hostname cent702\u3000\u23ce\n``` \n```Command:cent703\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\n[root@localhost ~]# hostnamectl set-hostname cent703\u3000\u23ce\n``` \n### 6-3-2. cent701/cent702/cent703\u3092HOSTS\u30d5\u30a1\u30a4\u30eb\u3078\u767b\u9332\n```command:HOSTS\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u767b\u9332\n[root@localhost ~]# vim /etc/hosts\u3000\u23ce\n``` \n```Command:\u3010HOSTS\u30d5\u30a1\u30a4\u30eb\u8ffd\u52a0\u5185\u5bb9\u3011\n10.110.217.146 cent701 cent701.softlayer.com\n10.110.217.147 cent702 cent702.softlayer.com\n10.110.217.148 cent703 cent703.softlayer.com\n``` \n### 6-3-3. \u30d5\u30a1\u30a4\u30a2\u30fc\u30a6\u30a9\u30fc\u30eb \u3001SELinux\u3092\u30aa\u30d5\n\u4eca\u56de\u306f\u3001\u30c6\u30b9\u30c8\u76ee\u7684\u306a\u306e\u3067\u6a5f\u80fd\u3092\u30aa\u30d5\u306b\u3057\u307e\u3057\u305f\u3002\u672c\u7a3c\u50cd\u306e\u6642\u306f\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n<strong>\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u306e\u505c\u6b62\u3001\u7121\u52b9\u5316</strong>\n\n```Command:firewalld\u306e\u505c\u6b62\n[root@localhost ~]# systemctl stop firewalld\u3000\u23ce\n``` \n```Command:firewalld\u306e\u7121\u52b9\u5316\n[root@localhost ~]# systemctl disable firewalld\u3000\u23ce\n``` \n![51.png](http://www.seahorse-inc.com/QIITA/Spcetrumscale/51.png)\n\n<strong>SELinux\u306e\u7121\u52b9\u5316</strong>\n\n```Command:SELinux\u306e\u7121\u52b9\u5316\n[root@localhost ~]# vim /etc/selinux/config\u3000\u23ce\n``` \n```Command:\u3010config\u5909\u66f4\u3011\nSELINUX=disabled\n``` \n### 6-3-4. \u6642\u523b\u540c\u671f\u306e\u8a2d\u5b9a\n\u3053\u3053\u3067\u306f\u3001\u6642\u523b\u540c\u671f\u306b\u300cchrony\u300d\u3092\u4f7f\u7528\u3057\u307e\u3057\u305f\u3002\nSoftLayer\u306eNTP\u300ctime.service.networklayer.com\u300d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n\n```Command:SoftLayer-NTP\u306e\u767b\u9332\n[root@localhost ~]# vim /etc/chrony.conf\u3000\u23ce\n``` \n\n```Command:\u3010chrony.conf\u8ffd\u52a0\u3011\nserver time.service.networklayer.com\n``` \n### 6-3-5. \u30ea\u30d6\u30fc\u30c8\n\u3053\u3053\u307e\u3067\u306e\u8a2d\u5b9a\u3092\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u3001\u30b7\u30b9\u30c6\u30e0\u3092\u30ea\u30d6\u30fc\u30c8\u3057\u307e\u3059\u3002\n\n```Command:\u30ea\u30d6\u30fc\u30c8\n[root@localhost ~]# reboot\u3000\u23ce\n``` \n\n![92.png](http://www.seahorse-inc.com/QIITA/Spcetrumscale/92.png)<strong>\u4ee5\u4e0a\u3067\u300c6-3. CentOS7.1\u306e\u8a2d\u5b9a\u300d\u5b8c\u4e86\u3067\u3059\u3002</strong>\n\n## 6-4. \u30b5\u30fc\u30d0\u30fc\u9593\u306e\u8a2d\u5b9a\ncent701/cent702/cent703\u76f8\u4e92\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u7121\u3057\u3067SSH\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n### 6-4-1. \u79d8\u5bc6\u9375\u3001\u516c\u958b\u9375\u306e\u4f5c\u6210\n<strong>/root/.ssh/\u3000\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306e\u4f5c\u6210</strong>\n\n```Command:.ssh\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30fc\u306e\u4f5c\u6210\n[root@cent701 ~]# mkdir ~/.ssh\u3000\u23ce\n``` \n<strong>\u79d8\u5bc6\u9375\u3001\u516c\u958b\u9375\u306e\u4f5c\u6210</strong>\n\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306f\u6307\u5b9a\u3057\u307e\u305b\u3093\u3002\n\n```Command:\u79d8\u5bc6\u9375\u3001\u516c\u958b\u9375\u306e\u4f5c\u6210\n[root@cent701 ~]# ssh-keygen -t rsa -f .ssh/id_rsa_${HOSTNAME}\u3000\u23ce\n``` \n![52.png](http://www.seahorse-inc.com/QIITA/Spcetrumscale/52.png)\n\n<strong>cent702/cent703\u306e\u516c\u958b\u9375\u3092cent701\u306b\u96c6\u3081\u307e\u3059\u3002</strong>\n\n```Command:cent702\u306e\u516c\u958b\u9375\u3092cent701\u3078\u30b3\u30d4\u30fc\n[root@cent702 ~]# scp ~/.ssh/id_rsa_${HOSTNAME}.pub root@cent701:~/.ssh/\u3000\u23ce\n``` \n```Command:cent703\u306e\u516c\u958b\u9375\u3092cent701\u3078\u30b3\u30d4\u30fc\n[root@cent703 ~]# scp ~/.ssh/id_rsa_${HOSTNAME}.pub root@cent701:~/.ssh/\u3000\u23ce\n``` \n<strong>\u3059\u3079\u3066\u306e\u516c\u958b\u9375\u3092cent701\u306eauthorized_keys\u306b\u8ffd\u8a18\u3057\u307e\u3059\u3002</strong>\n\n```Command:\u516c\u958b\u9375\u3092cent701\u306eauthorized_keys\u306b\u8ffd\u8a18\n[root@cent701 ~]# cat ~/.ssh/id_rsa_cent701.pub > ~/.ssh/authorized_keys\u3000\u23ce\n[root@cent701 ~]# cat ~/.ssh/id_rsa_cent702.pub >> ~/.ssh/authorized_keys\u3000\u23ce\n[root@cent701 ~]# cat ~/.ssh/id_rsa_cent703.pub >> ~/.ssh/authorized_keys\u3000\u23ce\n``` \n<strong>cent701\u306eauthorized_keys\u3092cent702/cent703\u3078\u914d\u5e03\u3057\u307e\u3059\u3002</strong>\n\n```Command:authorized_keys\u3092\u914d\u4ed8\n[root@cent701 ~]# scp ~/.ssh/authorized_keys root@cent702:~/.ssh/\u3000\u23ce\n[root@cent701 ~]# scp ~/.ssh/authorized_keys root@cent703:~/.ssh/\u3000\u23ce\n``` \n<strong>ssh\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6</strong>\n\n```Command:ssh_config\u306e\u7de8\u96c6\n[root@cent701 ~]# vim /etc/ssh/ssh_config\u3000\u23ce\n``` \n```Command:\u3010\u7de8\u96c6\u7b87\u6240\u3011\nRSAAuthentication yes\nPasswordAuthentication no\nIdentityFile ~/.ssh/id_rsa_\u30db\u30b9\u30c8\u540d\n``` \n\u30db\u30b9\u30c8\u540d\u306b\u306f\u5404\u30b5\u30fc\u30d0\u30fc\u306e\u30db\u30b9\u30c8\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n<strong>ssh\u306e\u518d\u8d77\u52d5</strong>\n\n```Command:ssh\u306e\u518d\u8d77\u52d5\n[root@cent701 ~]# /usr/sbin/sshd \u2013t\u3000\u23ce\n[root@cent701 ~]# systemctl restart sshd.service\u3000\u23ce\n``` \n<strong>ssh\u63a5\u7d9a\u306e\u78ba\u8a8d</strong>\n\n```Command:ssh\u63a5\u7d9a\u306e\u78ba\u8a8dcent701\u21d2cent702\n[root@cent701 ~]# ssh cent702\u3000\u23ce\n```\n\n```Command:ssh\u63a5\u7d9a\u306e\u78ba\u8a8dcent701\u21d2cent703\n[root@cent701 ~]# ssh cent703\u3000\u23ce\n```\n\u540c\u69d8\u306b\u3001cent702\u21d2cent701 /cent702\u21d2cent703 / cent703\u21d2cent701  /cent703\u21d2cent702\u3082\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n![92.png](http://www.seahorse-inc.com/QIITA/Spcetrumscale/92.png)<strong>\u4ee5\u4e0a\u3067\u300c6-4. \u30b5\u30fc\u30d0\u30fc\u9593\u306e\u8a2d\u5b9a\u300d\u5b8c\u4e86\u3067\u3059\u3002</strong>\n\n-----------------------------------------------------------------------------\n<a href=\"http://qiita.com/Mitsu-Murakita/items/43b568b90b45259a9356\">\n\u25c7\u300c\u305d\u306e\uff11\uff1a\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4f5c\u6210\uff5eGuestOS\u306e\u5c0e\u5165\u300d</a>\n<a href=\"http://qiita.com/Mitsu-Murakita/items/3b6ccafe5a2e24a74c47\">\n<font color=silver>\u25c6\u300c\u305d\u306e\uff12\uff1aCentOS7.1\u306e\u8a2d\u5b9a\uff5e\u30b5\u30fc\u30d0\u30fc\u9593\u306e\u8a2d\u5b9a\u300d</font></a>\n<a href=\"http://qiita.com/Mitsu-Murakita/items/1517203a84d9dbba73ff\">\n\u25c7\u300c\u305d\u306e\uff13\uff1aSpectrum Scale\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d</a>\n<a href=\"http://qiita.com/Mitsu-Murakita/items/5c9f1e9c8ae02113ef33\">\n\u25c7\u300c\u305d\u306e\uff14\uff1a\u30af\u30e9\u30b9\u30bf\u30fc\u306e\u69cb\u7bc9\uff5e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8PC\u304b\u3089\u63a5\u7d9a\u78ba\u8a8d\u300d</a>\n\n\n\n", "tags": ["SoftLayer", "\u30af\u30e9\u30a6\u30c9", "\u30d9\u30a2\u30e1\u30bf\u30eb", "sds", "\u30b9\u30c8\u30ec\u30fc\u30b8"]}