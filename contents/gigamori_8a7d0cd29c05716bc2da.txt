{"context": " More than 1 year has passed since last update.Javascript\u3092\u4f7f\u3063\u305f\u3061\u3087\u3063\u3068\u3057\u305f\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u7528\u306bcookie\u5909\u6570\u3092\u6271\u3046\u95a2\u6570\u3092\u4f5c\u3063\u305f\u3002\ncookie\u306e\u5c5e\u6027\u306b\u306f\n\nexpires\nmax-age\ndomain\npath\nsecure\nhttponly\n\n\u304c\u3042\u308b\u304c\u3001\u4ee5\u4e0b\u306e\u4ed5\u69d8\u3067\u5b9f\u88c5\u3002\n\n\u6709\u52b9\u671f\u9650\u306fmax-age\u306f\u4e92\u63db\u6027\u304c\u306a\u3044\u306e\u3067\u4f7f\u308f\u305a\u3001expires\u3067\u6307\u5b9a\uff08\u65e5\u6570\u3067\u4e0e\u3048\u308b\uff09\n\nexpires\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u9650\u5b9a\u306ecookie\u3068\u306a\u308b\n\ndomain\u306f\u6307\u5b9a\u3057\u306a\u3044\u306e\u3067\u73fe\u5728\u306e\u30c9\u30e1\u30a4\u30f3\n\npath\u306f\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\u306f\u30eb\u30fc\u30c8\uff08/\uff09\n\nsecure, httponly\u306f\u7279\u306b\u6307\u5b9a\u3057\u306a\u3044\n\n\u7d50\u69cb\u96d1\u3060\u304c\u3001\u6700\u4f4e\u9650\u3001\u5b9f\u88c5\u3059\u308b\u306a\u3089\u3053\u308c\u3067\u3044\u3044\u304b\u3082\u3002\n\u3061\u3083\u3093\u3068\u3084\u308a\u305f\u3044\u306a\u3089jQuery\u3068\u304b\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n// cookie\u304b\u3089\u5024\u3092\u53d6\u5f97\nfunction getCookieValue(name){\n    if (name === undefined) { throw 'argument missing!'; }\n    var strResult = null;\n    if (navigator.cookieEnabled && document.cookie) {\n        var strParamName = name + '=';\n        var strCookie = document.cookie;\n        var iKeyStart = strCookie.indexOf(strParamName);\n        if(iKeyStart != -1){\n            var iValStart = iKeyStart + strParamName.length;\n            var iValEnd = strCookie.indexOf(';', iValStart);\n            if(iValEnd == -1) { iValEnd = strCookie.length; }\n            strResult = '' + decodeURIComponent(strCookie.substring(iValStart, iValEnd));\n        }\n    }\n    return strResult;\n}\n\n// cookie\u304b\u3089\u5024\u306e\u4e00\u89a7\u3092\u53d6\u5f97\nfunction getCookieValues(){\n    var oResult = null;\n    if (navigator.cookieEnabled && document.cookie) {\n        var arrCookie = document.cookie.split(';');\n        for (var i = 0; i < arrCookie.length; i++) {\n            var arrKeyValue = arrCookie[i].split('=');\n            oResult[arrKeyValue[0].replace(/^\\s+|\\s+$/g, '')] = arrKeyValue[1];\n        }\n    }\n    return oResult;\n}\n\n// cookie\u306b\u5024\u3092\u30bb\u30c3\u30c8\nfunction setCookieValue(name, value, iDayLife, path){\n    if (name === undefined || value === undefined) { throw 'arguments missing!'; }\n    path = path || '/';\n    if (navigator.cookieEnabled) {\n        var strCookie = name + '=' + encodeURIComponent(value);\n        if(iDayLife !== undefined) {\n            var d = new Date();\n            d.setTime(d.getTime() + 1000 * iDayLife * 60*60*24);\n            strCookie += '; expires=' + d.toUTCString();\n        }\n        strCookie += '; path=' + path;\n        document.cookie = strCookie;\n    }\n}\n\n// \uff08GET\u306e\uff09URL\u304b\u3089\u30d1\u30e9\u30e1\u30fc\u30bf\u53d6\u5f97\nfunction getQueryValue(name){\n    if (name === undefined) { throw 'argument missing!'; }\n    var strResult = null;\n    var strParamName = name + '=';\n    if(window.location.search.length > 1){\n        var strQuery = window.location.search.substring(1);\n        var iPosition = strQuery.indexOf(strParamName);\n        if(iPosition != -1){\n            var iStart = iPosition + strParamName.length;\n            var iEnd = strQuery.indexOf('&', iStart);\n            if(iEnd == -1) { iEnd = strQuery.length; }\n            strResult = '' + decodeURIComponent(strQuery.substring(iStart, iEnd));\n        }\n    }\n    return strResult;\n}\n\n// \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089GET\u306eURL\u306a\u3069\u3067\u4f7f\u3046\u30af\u30a8\u30ea\u6587\u5b57\u5217\u3092\u751f\u6210\nfunction getQueryString(oParams){\n    var strQuery = '';\n    for (var key in oParams){\n        strQuery += key + '=' + oParams[key] + '&';\n    }\n    return strQuery.substr(0, Math.max(strQuery.length-1, 0));\n}\n\ncookie\u52d5\u4f5c\u3082\u308d\u3082\u308d\u30c6\u30b9\u30c8\u306b\u4f7f\u3063\u305fHTML\n<html>\n<head>\n<script>\n//\n// \u4e0a\u8a18\u306e\u95a2\u6570\u7fa4\u3092\u633f\u5165\n//\n(function() {\n    var iPV = getCookieValue('iPV') || 0;\n    iPV = parseInt(iPV) + 1;\n    setCookieValue('iPV', iPV, 30);\n    if (iPV > 1) {\n        // 2PV\u76ee\u4ee5\u4e0a\u3067\u3042\u308c\u3070\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u3066\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u9001\u308b\u5b9f\u88c5\u3084\u3063\u3066\u305f\n        var event = document.createEvent('HTMLEvents');    \n        event.initEvent('nonBounce', false, true);    \n        window.dispatchEvent(event); \n    }\n    alert(iPV + 'PV\u76ee\u3067\u3059');\n}());\n</script>\n</head>\n<body>\n<h2>GET\u306e\u30c6\u30b9\u30c8</h2>\n<a href=\"?hoge=12345\">GET/hoge\u306b12345\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"?fuga=09875\">GET/hoge\u306b09876\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"?hoge=12345&fuga=09876\">GET\u306b12345\u306809876\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"#\" onclick=\"alert(gqv('hoge'));return false;\">GET/hoge\u306e\u5024</a><br>\n<a href=\"#\" onclick=\"alert(gqv('fuga'));return false;\">GET/fuga\u306e\u5024</a><br>\n\n<h2>cookie\u306e\u30c6\u30b9\u30c8</h2>\n<a href=\"#\" onclick=\"document.cookie='hogehoge=123';return false;\">Cookie/hogehoge\u306b123\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"#\" onclick=\"document.cookie='hogehoge=';return false;\">Cookie/hogehoge\u306b\u7a7a\u6587\u5b57\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"#\" onclick=\"var d=new Date();d.setTime(d.getTime()-1);document.cookie='hogehoge=; expires='+d.toUTCString();return false;\">Cookie/hogehoge\u3092\u6d88\u53bb</a><br>\n<a href=\"#\" onclick=\"var d=new Date();d.setTime(d.getTime()+1000*60*60*24*30);document.cookie='fugafuga=890; path=/; expires='+d.toUTCString();return false;\">Cookie/fugafuga\u306b890\u3092\u30bb\u30c3\u30c8\uff0830\u65e5\uff09</a><br>\n<a href=\"#\" onclick=\"var d=new Date();d.setTime(d.getTime()+1000*6);document.cookie='fugafuga=290; path=/; expires='+d.toUTCString();return false;\">Cookie/fugafuga\u306b290\u3092\u30bb\u30c3\u30c8\uff086\u79d2\uff09</a><br>\n<a href=\"#\" onclick=\"document.cookie='fugafuga=999; path=/; domain=test.com';return false;\">Cookie/fugafuga\u306b999\u3092\u30bb\u30c3\u30c8\uff08\u9055\u3046\u30c9\u30e1\u30a4\u30f3\uff09</a><br>\n<a href=\"#\" onclick=\"document.cookie='fugafuga=700; path=/test/';return false;\">Cookie/fugafuga\u306b700\u3092\u30bb\u30c3\u30c8\uff08\u9055\u3046\u30d1\u30b9\uff09</a><br>\n<a href=\"#\" onclick=\"alert(gcv('hogehoge'));return false;\">Cookie/hogehoge\u306e\u5024</a><br>\n<a href=\"#\" onclick=\"alert(gcv('fugafuga'));return false;\">Cookie/fugafuga\u306e\u5024</a><br>\n\n</body>\n</html>\n\n\nJavascript\u306e\u4fbf\u5229\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\n\nJavascript\u3067Yahoo!\u306a\u3069\u306e\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u6e21\u3059\u305f\u3081\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b\nJavascript\u3067\u6b63\u898f\u5206\u5e03\u306e\u5b9f\u88c5\u307e\u3068\u3081\uff08\u4e71\u6570\u3001\u7d2f\u7a4d\u5206\u5e03\u95a2\u6570\u306a\u3069\uff09\n\u8d85\u7c21\u5358\uff08\u624b\u629c\u304d\uff1f\uff09cookie\u64cd\u4f5c\u7528\u306eJavascript\n\u8d85\u30b7\u30f3\u30d7\u30eb\u306b\u3001\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u7528\u306e\u95a2\u6570\n\u30b9\u30de\u30db\u306e\u30bf\u30c3\u30d7\u5bfe\u7b56\u6e08\u307f\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\uff08\u30b9\u30ef\u30a4\u30d7\u3084\u30d5\u30ea\u30c3\u30af\u306f\u9664\u5916\uff09\n\nJavascript\u3092\u4f7f\u3063\u305f\u3061\u3087\u3063\u3068\u3057\u305f\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u7528\u306bcookie\u5909\u6570\u3092\u6271\u3046\u95a2\u6570\u3092\u4f5c\u3063\u305f\u3002\n\ncookie\u306e\u5c5e\u6027\u306b\u306f\n\n- expires\n- max-age\n- domain\n- path\n- secure\n- httponly\n\n\u304c\u3042\u308b\u304c\u3001\u4ee5\u4e0b\u306e\u4ed5\u69d8\u3067\u5b9f\u88c5\u3002\n\n- \u6709\u52b9\u671f\u9650\u306f`max-age`\u306f\u4e92\u63db\u6027\u304c\u306a\u3044\u306e\u3067\u4f7f\u308f\u305a\u3001`expires`\u3067\u6307\u5b9a\uff08\u65e5\u6570\u3067\u4e0e\u3048\u308b\uff09\n- `expires`\u3092\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u306f\u30bb\u30c3\u30b7\u30e7\u30f3\u9650\u5b9a\u306ecookie\u3068\u306a\u308b\n- `domain`\u306f\u6307\u5b9a\u3057\u306a\u3044\u306e\u3067\u73fe\u5728\u306e\u30c9\u30e1\u30a4\u30f3\n- `path`\u306f\u6307\u5b9a\u304c\u306a\u3044\u5834\u5408\u306f\u30eb\u30fc\u30c8\uff08`/`\uff09\n- `secure`, `httponly`\u306f\u7279\u306b\u6307\u5b9a\u3057\u306a\u3044\n\n\u7d50\u69cb\u96d1\u3060\u304c\u3001\u6700\u4f4e\u9650\u3001\u5b9f\u88c5\u3059\u308b\u306a\u3089\u3053\u308c\u3067\u3044\u3044\u304b\u3082\u3002\n\u3061\u3083\u3093\u3068\u3084\u308a\u305f\u3044\u306a\u3089jQuery\u3068\u304b\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\n\n```js\n// cookie\u304b\u3089\u5024\u3092\u53d6\u5f97\nfunction getCookieValue(name){\n\tif (name === undefined) { throw 'argument missing!'; }\n\tvar strResult = null;\n\tif (navigator.cookieEnabled && document.cookie) {\n\t\tvar strParamName = name + '=';\n\t\tvar strCookie = document.cookie;\n\t\tvar iKeyStart = strCookie.indexOf(strParamName);\n\t\tif(iKeyStart != -1){\n\t\t\tvar iValStart = iKeyStart + strParamName.length;\n\t\t\tvar iValEnd = strCookie.indexOf(';', iValStart);\n\t\t\tif(iValEnd == -1) { iValEnd = strCookie.length; }\n\t\t\tstrResult = '' + decodeURIComponent(strCookie.substring(iValStart, iValEnd));\n\t\t}\n\t}\n\treturn strResult;\n}\n\n// cookie\u304b\u3089\u5024\u306e\u4e00\u89a7\u3092\u53d6\u5f97\nfunction getCookieValues(){\n\tvar oResult = null;\n\tif (navigator.cookieEnabled && document.cookie) {\n\t\tvar arrCookie = document.cookie.split(';');\n\t\tfor (var i = 0; i < arrCookie.length; i++) {\n\t\t\tvar arrKeyValue = arrCookie[i].split('=');\n\t\t\toResult[arrKeyValue[0].replace(/^\\s+|\\s+$/g, '')] = arrKeyValue[1];\n\t\t}\n\t}\n\treturn oResult;\n}\n\n// cookie\u306b\u5024\u3092\u30bb\u30c3\u30c8\nfunction setCookieValue(name, value, iDayLife, path){\n\tif (name === undefined || value === undefined) { throw 'arguments missing!'; }\n\tpath = path || '/';\n\tif (navigator.cookieEnabled) {\n\t\tvar strCookie = name + '=' + encodeURIComponent(value);\n\t\tif(iDayLife !== undefined) {\n\t\t\tvar d = new Date();\n\t\t\td.setTime(d.getTime() + 1000 * iDayLife * 60*60*24);\n\t\t\tstrCookie += '; expires=' + d.toUTCString();\n\t\t}\n\t\tstrCookie += '; path=' + path;\n\t\tdocument.cookie = strCookie;\n\t}\n}\n\n// \uff08GET\u306e\uff09URL\u304b\u3089\u30d1\u30e9\u30e1\u30fc\u30bf\u53d6\u5f97\nfunction getQueryValue(name){\n\tif (name === undefined) { throw 'argument missing!'; }\n\tvar strResult = null;\n\tvar strParamName = name + '=';\n\tif(window.location.search.length > 1){\n\t\tvar strQuery = window.location.search.substring(1);\n\t\tvar iPosition = strQuery.indexOf(strParamName);\n\t\tif(iPosition != -1){\n\t\t\tvar iStart = iPosition + strParamName.length;\n\t\t\tvar iEnd = strQuery.indexOf('&', iStart);\n\t\t\tif(iEnd == -1) { iEnd = strQuery.length; }\n\t\t\tstrResult = '' + decodeURIComponent(strQuery.substring(iStart, iEnd));\n\t\t}\n\t}\n\treturn strResult;\n}\n\n// \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089GET\u306eURL\u306a\u3069\u3067\u4f7f\u3046\u30af\u30a8\u30ea\u6587\u5b57\u5217\u3092\u751f\u6210\nfunction getQueryString(oParams){\n\tvar strQuery = '';\n\tfor (var key in oParams){\n\t\tstrQuery += key + '=' + oParams[key] + '&';\n\t}\n\treturn strQuery.substr(0, Math.max(strQuery.length-1, 0));\n}\n```\n\ncookie\u52d5\u4f5c\u3082\u308d\u3082\u308d\u30c6\u30b9\u30c8\u306b\u4f7f\u3063\u305fHTML\n\n```html\n<html>\n<head>\n<script>\n//\n// \u4e0a\u8a18\u306e\u95a2\u6570\u7fa4\u3092\u633f\u5165\n//\n(function() {\n\tvar iPV = getCookieValue('iPV') || 0;\n\tiPV = parseInt(iPV) + 1;\n\tsetCookieValue('iPV', iPV, 30);\n\tif (iPV > 1) {\n\t\t// 2PV\u76ee\u4ee5\u4e0a\u3067\u3042\u308c\u3070\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u3066\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u9001\u308b\u5b9f\u88c5\u3084\u3063\u3066\u305f\n\t\tvar event = document.createEvent('HTMLEvents');    \n\t\tevent.initEvent('nonBounce', false, true);    \n\t\twindow.dispatchEvent(event); \n\t}\n\talert(iPV + 'PV\u76ee\u3067\u3059');\n}());\n</script>\n</head>\n<body>\n<h2>GET\u306e\u30c6\u30b9\u30c8</h2>\n<a href=\"?hoge=12345\">GET/hoge\u306b12345\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"?fuga=09875\">GET/hoge\u306b09876\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"?hoge=12345&fuga=09876\">GET\u306b12345\u306809876\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"#\" onclick=\"alert(gqv('hoge'));return false;\">GET/hoge\u306e\u5024</a><br>\n<a href=\"#\" onclick=\"alert(gqv('fuga'));return false;\">GET/fuga\u306e\u5024</a><br>\n\n<h2>cookie\u306e\u30c6\u30b9\u30c8</h2>\n<a href=\"#\" onclick=\"document.cookie='hogehoge=123';return false;\">Cookie/hogehoge\u306b123\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"#\" onclick=\"document.cookie='hogehoge=';return false;\">Cookie/hogehoge\u306b\u7a7a\u6587\u5b57\u3092\u30bb\u30c3\u30c8</a><br>\n<a href=\"#\" onclick=\"var d=new Date();d.setTime(d.getTime()-1);document.cookie='hogehoge=; expires='+d.toUTCString();return false;\">Cookie/hogehoge\u3092\u6d88\u53bb</a><br>\n<a href=\"#\" onclick=\"var d=new Date();d.setTime(d.getTime()+1000*60*60*24*30);document.cookie='fugafuga=890; path=/; expires='+d.toUTCString();return false;\">Cookie/fugafuga\u306b890\u3092\u30bb\u30c3\u30c8\uff0830\u65e5\uff09</a><br>\n<a href=\"#\" onclick=\"var d=new Date();d.setTime(d.getTime()+1000*6);document.cookie='fugafuga=290; path=/; expires='+d.toUTCString();return false;\">Cookie/fugafuga\u306b290\u3092\u30bb\u30c3\u30c8\uff086\u79d2\uff09</a><br>\n<a href=\"#\" onclick=\"document.cookie='fugafuga=999; path=/; domain=test.com';return false;\">Cookie/fugafuga\u306b999\u3092\u30bb\u30c3\u30c8\uff08\u9055\u3046\u30c9\u30e1\u30a4\u30f3\uff09</a><br>\n<a href=\"#\" onclick=\"document.cookie='fugafuga=700; path=/test/';return false;\">Cookie/fugafuga\u306b700\u3092\u30bb\u30c3\u30c8\uff08\u9055\u3046\u30d1\u30b9\uff09</a><br>\n<a href=\"#\" onclick=\"alert(gcv('hogehoge'));return false;\">Cookie/hogehoge\u306e\u5024</a><br>\n<a href=\"#\" onclick=\"alert(gcv('fugafuga'));return false;\">Cookie/fugafuga\u306e\u5024</a><br>\n\n</body>\n</html>\n```\n\n## Javascript\u306e\u4fbf\u5229\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\n\n- [Javascript\u3067Yahoo!\u306a\u3069\u306e\u30bf\u30b0\u30de\u30cd\u30fc\u30b8\u30e3\u306b\u6e21\u3059\u305f\u3081\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u751f\u3055\u305b\u308b](http://qiita.com/gigamori/items/ec7542b19244c6776cd5)\n- [Javascript\u3067\u6b63\u898f\u5206\u5e03\u306e\u5b9f\u88c5\u307e\u3068\u3081\uff08\u4e71\u6570\u3001\u7d2f\u7a4d\u5206\u5e03\u95a2\u6570\u306a\u3069\uff09](http://qiita.com/gigamori/items/e17e6f9faffb78822c56)\n- [\u8d85\u7c21\u5358\uff08\u624b\u629c\u304d\uff1f\uff09cookie\u64cd\u4f5c\u7528\u306eJavascript](http://qiita.com/gigamori/items/8a7d0cd29c05716bc2da)\n- [\u8d85\u30b7\u30f3\u30d7\u30eb\u306b\u3001\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u7528\u306e\u95a2\u6570](http://qiita.com/gigamori/items/d0c5f5842671ec634f4a)\n- [\u30b9\u30de\u30db\u306e\u30bf\u30c3\u30d7\u5bfe\u7b56\u6e08\u307f\u306e\u30af\u30ea\u30c3\u30af\u30a4\u30d9\u30f3\u30c8\u30ea\u30b9\u30ca\uff08\u30b9\u30ef\u30a4\u30d7\u3084\u30d5\u30ea\u30c3\u30af\u306f\u9664\u5916\uff09](http://qiita.com/gigamori/items/5cdc91817564be66c2e6)\n\n", "tags": ["JavaScript", "cookie"]}