{"context": " More than 1 year has passed since last update.Sinatra\u3067\u4f5c\u308b\u3088\u3046\u306a\u7c21\u5358\u306aWeb\u30a2\u30d7\u30ea\u3067\u3082\u3001Sass\u3084CoffeeScript\u3092\u4f7f\u3063\u305f\u308aCSS\u30fbJS\u3092\u5727\u7e2e\u3057\u305f\u3044\u3068\u304d\u306f\u3088\u304f\u3042\u308b\u3002\u305d\u306e\u3068\u304d\u306fsinatra-asset-pipeline\u304c\u4fbf\u5229\u3002\n\u6700\u521d\u306fsinatra-assetpack\u3092\u8a66\u3057\u305f\u304c\u3001\n\n\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b7\u30b9\u30c6\u30e0\u304c\u72ec\u81ea\u5b9f\u88c5\u3067\u3042\u308b\u305f\u3081\u8a18\u8ff0\u304c\u72ec\u7279\nHeroku\u3078\u306e\u30c7\u30d7\u30ed\u30a4(precompile)\u304c\u3046\u307e\u304f\u3067\u304d\u306a\u304b\u3063\u305f\n\n\u306e\u3067sinatra-asset-pipeline\u306b\u5207\u308a\u66ff\u3048\u305f\u3002\u3053\u3061\u3089\u306e\u5229\u70b9\u306f\u3001\n\nSprockets\u3092\u4f7f\u3063\u3066\u304a\u308a\u3001\u4f7f\u3044\u6163\u308c\u305fRails\u3068\u540c\u3058\u3088\u3046\u306b\u5229\u7528\u3067\u304d\u308b\n\n\nRails\u3068\u540c\u69d8Heroku\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u3089rake assets:precompile\u304c\u8d70\u308a\u3001\n\u5727\u7e2e\u3055\u308c\u305f\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u4fe1\u53ef\u80fd\n\n\n\u307b\u307cSprockets\u306e\u30e9\u30c3\u30d1\u30fc\u306a\u306e\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u8584\u3044\n\n\n\u6319\u52d5\u3092\u628a\u63e1\u3057\u3084\u3059\u3044\nSprockets\u3092\u76f4\u63a5\u4f7f\u3046\u65b9\u6cd5\u306b\u3082\u3059\u3050\u79fb\u884c\u53ef\u80fd\n\n\n\n\n\u4f7f\u7528\u65b9\u6cd5\nREADME\u306e\u901a\u308a\u306b\u3084\u308c\u3070\u3059\u3050\u52d5\u304f\u3002CSS\u30fbJavaScript\u306e\u8aad\u8fbc\u8a2d\u5b9a\u3082Rails\u3068\u540c\u3058\u306a\u306e\u3067\u697d\u3061\u3093\n\u81ea\u5206\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305f\u3002\n\nGemfile\nsource 'https://rubygems.org'\nsource 'https://rails-assets.org'\n\ngem 'sinatra', require: 'sinatra/base'\n# Bundler\u3067\u81ea\u52d5require\u3067\u304d\u308b\u3088\u3046\u306b\ngem 'sinatra-asset-pipeline', require: 'sinatra/asset_pipeline'\n# JavaScript\u306e\u5727\u7e2e\u306b\u5fc5\u8981\ngem 'uglifier'\n\ngem 'compass'\n\n# Rails Assets\ngem 'rails-assets-normalize.css'\n\n\nRails Assets\u306bRails\u4ee5\u5916\u304b\u3089\u3082\u4f7f\u3044\u3084\u3059\u304f\u3059\u308b\u5909\u66f4\u304c\u5165\u3063\u3066\u3044\u305f\u306e\u3067\u3001Rails Assets\u304b\u3089\u3082\u8aad\u307f\u8fbc\u3081\u308b\u3088\u3046\u306b\u3057\u305f\u3002\n\napp.rb\nENV['RACK_ENV'] ||= 'development'\nrequire 'bundler/setup'\n# `Bundler.require`\u3067\u81ea\u52d5require\u3059\u308b\nBundler.require(:default, ENV['RACK_ENV'])\n\nclass App < Sinatra::Base\n  configure do\n    # Rails\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u5408\u308f\u305b\u3001application.js/css\u304c\u751f\u6210\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\n    set :assets_precompile, %w(application.js application.css *.png *.jpg *.svg *.eot *.ttf *.woff)\n    # CSS\u30fbJS\u3092\u5727\u7e2e\u3059\u308b\n    set :assets_css_compressor, :sass\n    set :assets_js_compressor, :uglifier\n    register Sinatra::AssetPipeline\n\n    # Rails Assets\u306b\u5bfe\u5fdc\n    if defined?(RailsAssets)\n      RailsAssets.load_paths.each { |path| settings.sprockets.append_path(path) }\n    end\n  end\n\n  get '/' do\n    erb :index\n  end\nend\n\n\n\u30d3\u30e5\u30fc\u30d8\u30eb\u30d1\u30fc\u306fsprockets-helpers\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3002\n\nviews/layout.erb\n<!DOCTYPE html>\n<html lang=\"ja\">\n  <head>\n    <meta charset=\"utf-8\">\n    <title>test</title>\n    <%= stylesheet_tag 'application' %>\n  </head>\n  <body>\n\n<%= yield %>\n\n    <%= javascript_tag 'application' %>\n  </body>\n</html>\n\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306fassets\u3001vendor/assets\u4ee5\u4e0b\u306e\u30d5\u30a9\u30eb\u30c0\u304c\u30a2\u30bb\u30c3\u30c8\u306e\u4fdd\u5b58\u30d1\u30b9\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u3002\nmkdir -p assets/js assets/css assets/img\n\n\u3042\u3068\u306fRails\u3068\u540c\u69d8\u3001application.js/css\u306bSprockets\u306e\u8aad\u8fbc\u8a2d\u5b9a\u3092\u66f8\u3044\u3066\u3044\u3051\u3070\u3044\u3044\u3002\n\nassets/js/application.js\n// \u4f8b)\n//= require jquery\n//= require_tree .\n\n\n\nassets/css/application.css.sass\n// \u4f8b)\n@import compass\n@import variables\n@import mixins\n@import normalize\n@import main\n\n\nRake\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u3051\u3070Heroku\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u6642\u306b\u81ea\u52d5\u3067rake assets:precompile\u304c\u8d70\u308b\u3002\n\nRakefile\nrequire_relative 'app'\n\nrequire 'sinatra/asset_pipeline/task'\nSinatra::AssetPipeline::Task.define! App\n\n\n$ git push heroku master\n...\n-----> Ruby app detected\n-----> Compiling Ruby/Rack\n-----> Using Ruby version: ruby-2.1.3\n-----> Installing dependencies using 1.6.3\n...\n-----> Precompiling assets\n       Running: rake assets:precompile\n       Asset precompilation completed (10.53s)\n\n-----> Discovering process types\n       Procfile declares types -> web\n       Default types for Ruby  -> console, rake\n\n-----> Compressing... done, 23.3MB\n-----> Launching... done, v30\n       http://***.herokuapp.com/ deployed to Heroku\n\n\nSinatra\u3067\u4f5c\u308b\u3088\u3046\u306a\u7c21\u5358\u306aWeb\u30a2\u30d7\u30ea\u3067\u3082\u3001Sass\u3084CoffeeScript\u3092\u4f7f\u3063\u305f\u308aCSS\u30fbJS\u3092\u5727\u7e2e\u3057\u305f\u3044\u3068\u304d\u306f\u3088\u304f\u3042\u308b\u3002\u305d\u306e\u3068\u304d\u306f[sinatra-asset-pipeline](https://github.com/kalasjocke/sinatra-asset-pipeline)\u304c\u4fbf\u5229\u3002\n\n\u6700\u521d\u306f[sinatra-assetpack](https://github.com/rstacruz/sinatra-assetpack)\u3092\u8a66\u3057\u305f\u304c\u3001\n\n- \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u30b7\u30b9\u30c6\u30e0\u304c\u72ec\u81ea\u5b9f\u88c5\u3067\u3042\u308b\u305f\u3081\u8a18\u8ff0\u304c\u72ec\u7279\n- Heroku\u3078\u306e\u30c7\u30d7\u30ed\u30a4(precompile)\u304c\u3046\u307e\u304f\u3067\u304d\u306a\u304b\u3063\u305f\n\n\u306e\u3067[sinatra-asset-pipeline](https://github.com/kalasjocke/sinatra-asset-pipeline)\u306b\u5207\u308a\u66ff\u3048\u305f\u3002\u3053\u3061\u3089\u306e\u5229\u70b9\u306f\u3001\n\n- Sprockets\u3092\u4f7f\u3063\u3066\u304a\u308a\u3001\u4f7f\u3044\u6163\u308c\u305fRails\u3068\u540c\u3058\u3088\u3046\u306b\u5229\u7528\u3067\u304d\u308b\n  - Rails\u3068\u540c\u69d8Heroku\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u3089`rake assets:precompile`\u304c\u8d70\u308a\u3001\n    \u5727\u7e2e\u3055\u308c\u305f\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u914d\u4fe1\u53ef\u80fd\n- \u307b\u307cSprockets\u306e\u30e9\u30c3\u30d1\u30fc\u306a\u306e\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u8584\u3044\n  - \u6319\u52d5\u3092\u628a\u63e1\u3057\u3084\u3059\u3044\n  - Sprockets\u3092\u76f4\u63a5\u4f7f\u3046\u65b9\u6cd5\u306b\u3082\u3059\u3050\u79fb\u884c\u53ef\u80fd\n\n\n## \u4f7f\u7528\u65b9\u6cd5\n[README](https://github.com/kalasjocke/sinatra-asset-pipeline)\u306e\u901a\u308a\u306b\u3084\u308c\u3070\u3059\u3050\u52d5\u304f\u3002CSS\u30fbJavaScript\u306e\u8aad\u8fbc\u8a2d\u5b9a\u3082Rails\u3068\u540c\u3058\u306a\u306e\u3067\u697d\u3061\u3093\n\n\u81ea\u5206\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u305f\u3002\n\n```ruby:Gemfile\nsource 'https://rubygems.org'\nsource 'https://rails-assets.org'\n\ngem 'sinatra', require: 'sinatra/base'\n# Bundler\u3067\u81ea\u52d5require\u3067\u304d\u308b\u3088\u3046\u306b\ngem 'sinatra-asset-pipeline', require: 'sinatra/asset_pipeline'\n# JavaScript\u306e\u5727\u7e2e\u306b\u5fc5\u8981\ngem 'uglifier'\n\ngem 'compass'\n\n# Rails Assets\ngem 'rails-assets-normalize.css'\n```\n\n[Rails Assets](https://rails-assets.org/)\u306b[Rails\u4ee5\u5916\u304b\u3089\u3082\u4f7f\u3044\u3084\u3059\u304f\u3059\u308b\u5909\u66f4](https://github.com/rails-assets/rails-assets/issues/128)\u304c\u5165\u3063\u3066\u3044\u305f\u306e\u3067\u3001Rails Assets\u304b\u3089\u3082\u8aad\u307f\u8fbc\u3081\u308b\u3088\u3046\u306b\u3057\u305f\u3002\n\n```ruby:app.rb\nENV['RACK_ENV'] ||= 'development'\nrequire 'bundler/setup'\n# `Bundler.require`\u3067\u81ea\u52d5require\u3059\u308b\nBundler.require(:default, ENV['RACK_ENV'])\n\nclass App < Sinatra::Base\n  configure do\n    # Rails\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u5408\u308f\u305b\u3001application.js/css\u304c\u751f\u6210\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u5b9a\n    set :assets_precompile, %w(application.js application.css *.png *.jpg *.svg *.eot *.ttf *.woff)\n    # CSS\u30fbJS\u3092\u5727\u7e2e\u3059\u308b\n    set :assets_css_compressor, :sass\n    set :assets_js_compressor, :uglifier\n    register Sinatra::AssetPipeline\n\n    # Rails Assets\u306b\u5bfe\u5fdc\n    if defined?(RailsAssets)\n      RailsAssets.load_paths.each { |path| settings.sprockets.append_path(path) }\n    end\n  end\n\n  get '/' do\n    erb :index\n  end\nend\n```\n\n\u30d3\u30e5\u30fc\u30d8\u30eb\u30d1\u30fc\u306f[sprockets-helpers](https://github.com/petebrowne/sprockets-helpers)\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3002\n\n```erb:views/layout.erb\n<!DOCTYPE html>\n<html lang=\"ja\">\n  <head>\n    <meta charset=\"utf-8\">\n    <title>test</title>\n    <%= stylesheet_tag 'application' %>\n  </head>\n  <body>\n\n<%= yield %>\n\n    <%= javascript_tag 'application' %>\n  </body>\n</html>\n```\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f`assets`\u3001`vendor/assets`\u4ee5\u4e0b\u306e\u30d5\u30a9\u30eb\u30c0\u304c\u30a2\u30bb\u30c3\u30c8\u306e\u4fdd\u5b58\u30d1\u30b9\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u3002\n\n```\nmkdir -p assets/js assets/css assets/img\n```\n\n\u3042\u3068\u306fRails\u3068\u540c\u69d8\u3001application.js/css\u306b[Sprockets](https://github.com/sstephenson/sprockets)\u306e\u8aad\u8fbc\u8a2d\u5b9a\u3092\u66f8\u3044\u3066\u3044\u3051\u3070\u3044\u3044\u3002\n\n```javascript:assets/js/application.js\n// \u4f8b)\n//= require jquery\n//= require_tree .\n```\n\n```sass:assets/css/application.css.sass\n// \u4f8b)\n@import compass\n@import variables\n@import mixins\n@import normalize\n@import main\n```\n\n\nRake\u30bf\u30b9\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u3051\u3070Heroku\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u6642\u306b\u81ea\u52d5\u3067`rake assets:precompile`\u304c\u8d70\u308b\u3002\n\n```ruby:Rakefile\nrequire_relative 'app'\n\nrequire 'sinatra/asset_pipeline/task'\nSinatra::AssetPipeline::Task.define! App\n```\n\n```\n$ git push heroku master\n...\n-----> Ruby app detected\n-----> Compiling Ruby/Rack\n-----> Using Ruby version: ruby-2.1.3\n-----> Installing dependencies using 1.6.3\n...\n-----> Precompiling assets\n       Running: rake assets:precompile\n       Asset precompilation completed (10.53s)\n\n-----> Discovering process types\n       Procfile declares types -> web\n       Default types for Ruby  -> console, rake\n\n-----> Compressing... done, 23.3MB\n-----> Launching... done, v30\n       http://***.herokuapp.com/ deployed to Heroku\n```\n", "tags": ["Sinatra", "Ruby"]}