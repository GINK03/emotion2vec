{"context": "\n\n\u306f\u3058\u3081\u306b\n\u5f53\u305f\u308a\u524d\u3067\u3059\u304cWindows\u5411\u3051\u3067\u3059\u3002\nImageMagick\u3092\u6b21\u306e\u901a\u308a\u306b\u7528\u610f\u3057\u307e\u3057\u3087\u3046\u3002\n\n\nhttp://www.imagemagick.org/script/binary-releases.php#windows \u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n\n64bit\u7248\u2192 ImageMagick-[\u30d0\u30fc\u30b8\u30e7\u30f3]-Q16-x64-dll.exe\n32bit\u7248\u2192 ImageMagick-[\u30d0\u30fc\u30b8\u30e7\u30f3]-Q16-x86-dll.exe\n\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u306e\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306a\u306e\u3067\u3001\u6307\u793a\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\n\u3053\u306e\u3068\u304d\u3001\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u305f\u304f\u3055\u3093\u3042\u308b\u753b\u9762\u3067\u4e0a\u304b\u3089\u4e8c\u756a\u76ee\u3068\u4e00\u756a\u4e0b\u304c\u30aa\u30f3\u306b\u306a\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u5f15\u304d\u7d9a\u304d\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u5b8c\u4e86\u3057\u305f\u3089\u3068\u308a\u3042\u3048\u305a\u3064\u304b\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u2193\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3067\u8981\u6ce8\u610f\u306e\u753b\u9762\n\n\n\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u306e\u306a\u304b\u307f\n\u82f1\u8a9e\u304c\u8d85\u9069\u5f53\u306a\u306e\u306f\u898b\u9003\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u30b3\u30d4\u30da\u3057\u3066\u3001(\u9069\u5f53\u306a\u540d\u524d).bat\u3068\u3057\u3066\u4fdd\u5b58\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u4f7f\u3046\u3068\u304d\u306f\u3001(\u9069\u5f53\u306a\u540d\u524d).bat\u306b\u753b\u50cf\u3092\u7a81\u3063\u8fbc\u307f\u307e\u3059\u3002\n\u540c\u3058\u30d5\u30a9\u30eb\u30c0\u306bforTwitter_(\u5143\u306e\u540d\u524d)\u3068\u3057\u3066\u51fa\u529b\u3057\u307e\u3059\u3002\n\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u7aef\u3063\u3053\u306b\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3067\u304a\u3044\u3066\u304a\u304f\u3068\u3068\u3066\u3064\u3082\u306a\u304f\u4fbf\u5229\u3067\u3059\u3002\n\n@echo off\nsetlocal enabledelayedexpansion\ncd /d \"%~dp0\"\ncd ..\necho.\necho !DATE! !TIME! twittermode.bat\n:loop\n\nif \"%~1\" == \"\" goto end\nset dott_png=%TMP%\\dott.png\nset twitter_png=%~dp1\\forTwitter_%~n1.png\nset colorqual=256\nconvert -size 1x1 xc:#00000011 png32:\"%dott_png%\"\nconvert \"%~1\" \"%twitter_png%\"\n\ncomposite -compose dst_out \"%dott_png%\" \"%twitter_png%\" -matte \"%twitter_png%\"\ncall :filesize \"%twitter_png%\"\nif not !thesize! GTR 3000000 goto finish\necho !DATE! !TIME! \u30b5\u30a4\u30ba:!themegabite!MB\necho 3MB\u3092\u4e0b\u56de\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u6e1b\u8272\u3057\u307e\u3059...\ngoto quant\n:return\necho !DATE! !TIME! \u30b5\u30a4\u30ba:!themegabite!MB\necho 3MB\u3092\u4e0b\u56de\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3082\u3046\u4e00\u5ea6\u6e1b\u8272\u3057\u307e\u3059...\n:quant\nset /A themegabite=!thesize! / 1000000\necho \u8272\u6570:%colorqual%\npngquant --ext .png --speed 1 --force %colorqual% \"%twitter_png%\"\ncomposite -compose dst_out \"%dott_png%\" \"%twitter_png%\" -matte \"%twitter_png%\"\ncall :filesize \"%twitter_png%\"\nif !thesize! GTR 3000000 (\nset /A colorqual=%colorqual% - 16\ngoto return\n)\n:finish\ndel \"%dott_png%\"\necho !DATE! !TIME! twitter\u7528\u753b\u50cf\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\necho \u30d5\u30a1\u30a4\u30eb\u540d:\"%twitter_png%\"\necho.\nshift\ngoto loop\n:filesize\nset thesize=%~z1\ngoto end\n:end\n\n\n\u304b\u3044\u305b\u3064\n\n\u539f\u7406\u305d\u306e\u3082\u306e\n\u5143\u753b\u50cf input.png\n\n1. \u308f\u304b\u3089\u306a\u3044\u304f\u3089\u3044\u306e\u900f\u904e\u3055\u308c\u305f\u9ed2\u306e1px\u306e\u753b\u50cf(onepx.png)\u3092\u3064\u304f\u308b\n\u2190\u3053\u308c(\u308f\u304b\u3089\u306a\u3044) \u9078\u629e\u3059\u308b\u3068\u3044\u3051\u308b\u3068\u601d\u3046\n2. \u5143\u306e\u753b\u50cf(input.png)\u304b\u3089\u3055\u3063\u304d\u306e\u753b\u50cf\u3092\u5f15\u304f\u2192(output.png)\n  - conposite\u306e\u8a73\u7d30:http://www.image-magick.com/compose/dst_out/\n3. onepx.png\u306f\u4f7f\u3044\u6368\u3066\u306a\u306e\u3067\u6d88\u53bb\u3059\u308b\n\u51fa\u529b\u753b\u50cf output.png\n\n\n\u304b\u3093\u305d\u3046\n\u308f\u304b\u3089\u306a\u3044\uff1f\u305d\u3046\u3060\u3088\u3001\u3060\u3063\u3066\u308f\u304b\u3089\u306a\u3044\u3088\u3046\u306b\u4f5c\u3063\u305f\u304b\u3089\u306d\u3002\n\u8a66\u3057\u306b\u4e8c\u3064\u306e\u753b\u50cf\u3092twitter\u306b\u6d41\u3057\u3066\u307f\u308c\u3070\u771f\u4fa1\u304c\u308f\u304b\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3002\n\u3046\u3054\u304b\u306a\u3044\uff1fWindows\u304c\u30c6\u30f3\u3058\u3083\u306a\u304b\u3063\u305f\u308aImageMagick\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u9055\u3063\u305f\u308a\u3059\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3002\n# \u306f\u3058\u3081\u306b\n\u5f53\u305f\u308a\u524d\u3067\u3059\u304cWindows\u5411\u3051\u3067\u3059\u3002\n\nImageMagick\u3092**\u6b21\u306e\u901a\u308a\u306b**\u7528\u610f\u3057\u307e\u3057\u3087\u3046\u3002\n\n\n1. http://www.imagemagick.org/script/binary-releases.php#windows \u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n - 64bit\u7248\u2192 ImageMagick-[\u30d0\u30fc\u30b8\u30e7\u30f3]-Q16-x64-dll.exe\n - 32bit\u7248\u2192 ImageMagick-[\u30d0\u30fc\u30b8\u30e7\u30f3]-Q16-x86-dll.exe\n2. \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u306e\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306a\u306e\u3067\u3001\u6307\u793a\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n - \u3053\u306e\u3068\u304d\u3001\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u305f\u304f\u3055\u3093\u3042\u308b\u753b\u9762\u3067\u4e0a\u304b\u3089\u4e8c\u756a\u76ee\u3068\u4e00\u756a\u4e0b\u304c\u30aa\u30f3\u306b\u306a\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n3. \u5f15\u304d\u7d9a\u304d\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u5b8c\u4e86\u3057\u305f\u3089\u3068\u308a\u3042\u3048\u305a\u3064\u304b\u3063\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u2193\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3067\u8981\u6ce8\u610f\u306e\u753b\u9762\n![forTwitter_kaisetsub.png](https://qiita-image-store.s3.amazonaws.com/0/94641/dab6dccc-6148-084f-c95f-52208e85dd16.png)\n\n# \u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u306e\u306a\u304b\u307f\n\u82f1\u8a9e\u304c\u8d85\u9069\u5f53\u306a\u306e\u306f\u898b\u9003\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n- \u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u30b3\u30d4\u30da\u3057\u3066\u3001**(\u9069\u5f53\u306a\u540d\u524d).bat**\u3068\u3057\u3066\u4fdd\u5b58\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n- \u4f7f\u3046\u3068\u304d\u306f\u3001**(\u9069\u5f53\u306a\u540d\u524d).bat**\u306b\u753b\u50cf\u3092\u7a81\u3063\u8fbc\u307f\u307e\u3059\u3002\n- \u540c\u3058\u30d5\u30a9\u30eb\u30c0\u306bforTwitter_(\u5143\u306e\u540d\u524d)\u3068\u3057\u3066\u51fa\u529b\u3057\u307e\u3059\u3002\n- \u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u7aef\u3063\u3053\u306b\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3067\u304a\u3044\u3066\u304a\u304f\u3068\u3068\u3066\u3064\u3082\u306a\u304f\u4fbf\u5229\u3067\u3059\u3002\n\n```bat\n@echo off\nsetlocal enabledelayedexpansion\ncd /d \"%~dp0\"\ncd ..\necho.\necho !DATE! !TIME! twittermode.bat\n:loop\n\nif \"%~1\" == \"\" goto end\nset dott_png=%TMP%\\dott.png\nset twitter_png=%~dp1\\forTwitter_%~n1.png\nset colorqual=256\nconvert -size 1x1 xc:#00000011 png32:\"%dott_png%\"\nconvert \"%~1\" \"%twitter_png%\"\n\ncomposite -compose dst_out \"%dott_png%\" \"%twitter_png%\" -matte \"%twitter_png%\"\ncall :filesize \"%twitter_png%\"\nif not !thesize! GTR 3000000 goto finish\necho !DATE! !TIME! \u30b5\u30a4\u30ba:!themegabite!MB\necho 3MB\u3092\u4e0b\u56de\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u6e1b\u8272\u3057\u307e\u3059...\ngoto quant\n:return\necho !DATE! !TIME! \u30b5\u30a4\u30ba:!themegabite!MB\necho 3MB\u3092\u4e0b\u56de\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3082\u3046\u4e00\u5ea6\u6e1b\u8272\u3057\u307e\u3059...\n:quant\nset /A themegabite=!thesize! / 1000000\necho \u8272\u6570:%colorqual%\npngquant --ext .png --speed 1 --force %colorqual% \"%twitter_png%\"\ncomposite -compose dst_out \"%dott_png%\" \"%twitter_png%\" -matte \"%twitter_png%\"\ncall :filesize \"%twitter_png%\"\nif !thesize! GTR 3000000 (\nset /A colorqual=%colorqual% - 16\ngoto return\n)\n:finish\ndel \"%dott_png%\"\necho !DATE! !TIME! twitter\u7528\u753b\u50cf\u304c\u5b8c\u6210\u3057\u307e\u3057\u305f\u3002\necho \u30d5\u30a1\u30a4\u30eb\u540d:\"%twitter_png%\"\necho.\nshift\ngoto loop\n:filesize\nset thesize=%~z1\ngoto end\n:end\n```\n# \u304b\u3044\u305b\u3064\n## \u539f\u7406\u305d\u306e\u3082\u306e\n\u5143\u753b\u50cf input.png\n![input.png](https://qiita-image-store.s3.amazonaws.com/0/94641/0d676add-0c30-e9ca-8831-17ece8ec2ca0.png)\n1. \u308f\u304b\u3089\u306a\u3044\u304f\u3089\u3044\u306e\u900f\u904e\u3055\u308c\u305f\u9ed2\u306e1px\u306e\u753b\u50cf(onepx.png)\u3092\u3064\u304f\u308b\n![after.png](https://qiita-image-store.s3.amazonaws.com/0/94641/ade64315-45a5-f66a-cdd3-e0b4bb4964e1.png)\u2190\u3053\u308c(\u308f\u304b\u3089\u306a\u3044) \u9078\u629e\u3059\u308b\u3068\u3044\u3051\u308b\u3068\u601d\u3046\n2. \u5143\u306e\u753b\u50cf(input.png)\u304b\u3089\u3055\u3063\u304d\u306e\u753b\u50cf\u3092\u5f15\u304f\u2192(output.png)\n  - conposite\u306e\u8a73\u7d30:http://www.image-magick.com/compose/dst_out/\n3. onepx.png\u306f\u4f7f\u3044\u6368\u3066\u306a\u306e\u3067\u6d88\u53bb\u3059\u308b\n\n\u51fa\u529b\u753b\u50cf output.png\n![output.png](https://qiita-image-store.s3.amazonaws.com/0/94641/a264001c-bb96-1a4b-38fd-2f88ba623a3d.png)\n\n# \u304b\u3093\u305d\u3046\n\u308f\u304b\u3089\u306a\u3044\uff1f\u305d\u3046\u3060\u3088\u3001\u3060\u3063\u3066\u308f\u304b\u3089\u306a\u3044\u3088\u3046\u306b\u4f5c\u3063\u305f\u304b\u3089\u306d\u3002\n\u8a66\u3057\u306b\u4e8c\u3064\u306e\u753b\u50cf\u3092twitter\u306b\u6d41\u3057\u3066\u307f\u308c\u3070\u771f\u4fa1\u304c\u308f\u304b\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3002\n\n\u3046\u3054\u304b\u306a\u3044\uff1fWindows\u304c\u30c6\u30f3\u3058\u3083\u306a\u304b\u3063\u305f\u308aImageMagick\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u9055\u3063\u305f\u308a\u3059\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3002\n", "tags": ["bat", "Twitter", "ImageMagick", "Windows", "\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8"]}