{"context": "\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30ad\u30fc\u3067\u5224\u5225\u3057\u3001\u6a29\u9650\u3092\u5206\u3051\u3066\u3044\u307e\u3059\u3002\ndefroutes \u3067\u306f\u306a\u304f\u3001def-restricted-routes \u3092\u4f7f\u308f\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3053\u3068\u306b\u6c17\u3065\u304b\u305a\u30cf\u30de\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\ncore.clj\n(def-restricted-routes api-routes\n  (GET \"/\" req (index-page)\n  (GET \"/hoge\" req (hoge-page))\n\n(defn user-access [req]\n  (contains? (:session req) :user))\n\n(def access-rules\n  [{:uri \"/hoge\" :rule user-access}])\n\n(def app\n  (noir-middleware/app-handler\n    [api-routes]\n    :access-rules access-rules))\n)\n\n\n\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u30ad\u30fc\u3067\u5224\u5225\u3057\u3001\u6a29\u9650\u3092\u5206\u3051\u3066\u3044\u307e\u3059\u3002\ndefroutes \u3067\u306f\u306a\u304f\u3001def-restricted-routes \u3092\u4f7f\u308f\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3053\u3068\u306b\u6c17\u3065\u304b\u305a\u30cf\u30de\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u3002\n\n```Clojure:core.clj\n(def-restricted-routes api-routes\n  (GET \"/\" req (index-page)\n  (GET \"/hoge\" req (hoge-page))\n\n(defn user-access [req]\n  (contains? (:session req) :user))\n\n(def access-rules\n  [{:uri \"/hoge\" :rule user-access}])\n\n(def app\n  (noir-middleware/app-handler\n    [api-routes]\n    :access-rules access-rules))\n)\n```\n", "tags": ["Clojure", "Compojure"]}