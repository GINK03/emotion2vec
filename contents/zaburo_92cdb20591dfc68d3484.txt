{"tags": ["Selenium", "HTML", "WebDriver", "Node.js", "jasmine-node"], "context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u3044\u3053\u3068\nwebdriverjs\u3067alert\u3084confirm\u306e\u3042\u308bUI\u3092\u5236\u5fa1\u3059\u308b\u65b9\u6cd5\u3002\najax\u3067UI\u4f5c\u3063\u305f\u5834\u5408\u306f\u5fc5\u9808\u3002\n\n\u30c6\u30b9\u30c8\u3092\u66f8\u304f\nalert\u3082confirm\u3082driver.switchTo()\u3067\u53d6\u5f97\u3059\u308b\u3002\u305d\u3057\u3066accept(),dismiss()\u3067\u5bfe\u5fdc\u3002\n\najax.spec.js\nvar webdriver = require(\"/usr/local/lib/node_modules/selenium-webdriver\");\n\nvar driver = new webdriver.Builder()\n    .withCapabilities(webdriver.Capabilities.chrome())\n    .build();\n\ndescribe('ajax test',function(){\n\n    it('alert',function(done){\n\n        //\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9\n        driver.get(\"http://localhost/js.php\");\n\n        //\u30dc\u30bf\u30f3\u3092\u53d6\u5f97\n        var btn = driver.findElement(webdriver.By.id(\"btn\"));\n        btn.click();\n\n        //\u3068\u308a\u3042\u3048\u305a\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\uff08\u7a7a\u5165\u529b\u306e\u307e\u307e\uff09\n        var alert = driver.switchTo().alert();\n        alert.getText().then(function(text){\n\n            //console.log(text);\n            expect(text).toBe(\"\u4f55\u304b\u5165\u308c\u3066\u4e0b\u3055\u3044\u3002\");\n            alert.accept();\n\n        });\n\n        //\u540d\u524d\u5165\u529b\u6b04\u3092\u53d6\u5f97\n        var name = driver.findElement(webdriver.By.id(\"name\"));\n        //\u5165\u529b\n        name.sendKeys(\"hoge\");\n\n        //\u518d\u5ea6\u30af\u30ea\u30c3\u30af\n        btn.click();\n\n        //\u78ba\u8a8d\u753b\u9762\n        var alert2 = driver.switchTo().alert();\n        alert2.getText().then(function(text){\n            //console.log(text);\n            expect(text).toBe(\"\u767b\u9332\u3057\u307e\u3059\u304b\uff1f\");\n            //OK\n            alert2.accept();\n            //cancel\n            //alert2.dismiss();\n        });\n\n        var alert3 = driver.switchTo().alert();\n        alert3.getText().then(function(text){\n            //console.log(text);\n            expect(text).toBe(\"\u767b\u9332\u3057\u307e\u3057\u305f\u3002\");\n        });\n\n\n        driver.quit().then(function(){\n            done();\n        });\n\n    });\n\n});\n\n\n\n\u30c6\u30b9\u30c8\u5bfe\u8c61\n\u3044\u3061\u304a\u3046\u3002\n\njs.php\n<!doctype html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"utf-8\">\n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js\"></script>\n<script>\n$(function(){\n    $(\"#btn\").click(function(){\n\n        var name = $(\"#name\").val();\n\n        if(name == \"\"){\n            alert(\"\u4f55\u304b\u5165\u308c\u3066\u4e0b\u3055\u3044\u3002\");\n\n            return false;\n\n        }else{\n\n            if(confirm('\u767b\u9332\u3057\u307e\u3059\u304b\uff1f')){\n\n                alert(\"\u767b\u9332\u3057\u307e\u3057\u305f\u3002\");\n\n            }else{\n\n                alert(\"\u51e6\u7406\u306f\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u307e\u3057\u305f\u3002\");\n\n            }\n        }\n    });\n});\n</script>\n</head>\n<body>\n<input type=\"text\" id=\"name\">\n<input type=\"button\" id=\"btn\" value=\"send\">\n</body>\n</html>\n\n\n---\n\n###\u3084\u308a\u305f\u3044\u3053\u3068\nwebdriverjs\u3067alert\u3084confirm\u306e\u3042\u308bUI\u3092\u5236\u5fa1\u3059\u308b\u65b9\u6cd5\u3002\najax\u3067UI\u4f5c\u3063\u305f\u5834\u5408\u306f\u5fc5\u9808\u3002\n\n###\u30c6\u30b9\u30c8\u3092\u66f8\u304f\nalert\u3082confirm\u3082driver.switchTo()\u3067\u53d6\u5f97\u3059\u308b\u3002\u305d\u3057\u3066accept(),dismiss()\u3067\u5bfe\u5fdc\u3002\n\n```ajax.spec.js\nvar webdriver = require(\"/usr/local/lib/node_modules/selenium-webdriver\");\n\nvar driver = new webdriver.Builder()\n\t.withCapabilities(webdriver.Capabilities.chrome())\n\t.build();\n\ndescribe('ajax test',function(){\n\n\tit('alert',function(done){\n\n\t\t//\u30da\u30fc\u30b8\u306b\u30a2\u30af\u30bb\u30b9\n\t\tdriver.get(\"http://localhost/js.php\");\n\n\t\t//\u30dc\u30bf\u30f3\u3092\u53d6\u5f97\n\t\tvar btn = driver.findElement(webdriver.By.id(\"btn\"));\n\t\tbtn.click();\n\n\t\t//\u3068\u308a\u3042\u3048\u305a\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\uff08\u7a7a\u5165\u529b\u306e\u307e\u307e\uff09\n\t\tvar alert = driver.switchTo().alert();\n\t\talert.getText().then(function(text){\n\n\t\t\t//console.log(text);\n\t\t\texpect(text).toBe(\"\u4f55\u304b\u5165\u308c\u3066\u4e0b\u3055\u3044\u3002\");\n\t\t\talert.accept();\n\n\t\t});\n\n\t\t//\u540d\u524d\u5165\u529b\u6b04\u3092\u53d6\u5f97\n\t\tvar name = driver.findElement(webdriver.By.id(\"name\"));\n\t\t//\u5165\u529b\n\t\tname.sendKeys(\"hoge\");\n\n\t\t//\u518d\u5ea6\u30af\u30ea\u30c3\u30af\n\t\tbtn.click();\n\n\t\t//\u78ba\u8a8d\u753b\u9762\n\t\tvar alert2 = driver.switchTo().alert();\n\t\talert2.getText().then(function(text){\n\t\t\t//console.log(text);\n\t\t\texpect(text).toBe(\"\u767b\u9332\u3057\u307e\u3059\u304b\uff1f\");\n\t\t\t//OK\n\t\t\talert2.accept();\n\t\t\t//cancel\n\t\t\t//alert2.dismiss();\n\t\t});\n\n\t\tvar alert3 = driver.switchTo().alert();\n\t\talert3.getText().then(function(text){\n\t\t\t//console.log(text);\n\t\t\texpect(text).toBe(\"\u767b\u9332\u3057\u307e\u3057\u305f\u3002\");\n\t\t});\n\t\t\n\n\t\tdriver.quit().then(function(){\n\t\t\tdone();\n\t\t});\n\n\t});\n\n});\n```\n\n###\u30c6\u30b9\u30c8\u5bfe\u8c61\n\u3044\u3061\u304a\u3046\u3002\n\n```js.php\n<!doctype html>\n<html lang=\"ja\">\n<head>\n<meta charset=\"utf-8\">\n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js\"></script>\n<script>\n$(function(){\n\t$(\"#btn\").click(function(){\n\n\t\tvar name = $(\"#name\").val();\n\n\t\tif(name == \"\"){\n\t\t\talert(\"\u4f55\u304b\u5165\u308c\u3066\u4e0b\u3055\u3044\u3002\");\n\n\t\t\treturn false;\n\n\t\t}else{\n\t\t\t\n\t\t\tif(confirm('\u767b\u9332\u3057\u307e\u3059\u304b\uff1f')){\n\n\t\t\t\talert(\"\u767b\u9332\u3057\u307e\u3057\u305f\u3002\");\n\n\t\t\t}else{\n\n\t\t\t\talert(\"\u51e6\u7406\u306f\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u307e\u3057\u305f\u3002\");\n\n\t\t\t}\n\t\t}\n\t});\n});\n</script>\n</head>\n<body>\n<input type=\"text\" id=\"name\">\n<input type=\"button\" id=\"btn\" value=\"send\">\n</body>\n</html>\n```\n"}