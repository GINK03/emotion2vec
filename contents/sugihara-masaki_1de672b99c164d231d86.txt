{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\n\u30c7\u30fc\u30bf\u69cb\u9020\u306b\u5bfe\u3059\u308b\u72b6\u614b\u3092\u8a18\u9332\u3057\u3066\u304a\u304d\u3001\u4ee5\u524d\u306e\u72b6\u614b\u3078\u306e\u5fa9\u5e30\u3092\u884c\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u30d1\u30bf\u30fc\u30f3\n\u4ee5\u4e0b\u306e3\u7a2e\u985e\u306e\u30af\u30e9\u30b9\u304b\u3089\u306a\u308b\n1. Memento\u30af\u30e9\u30b9(2.\u306e\u5185\u90e8\u60c5\u5831(\u30d5\u30a3\u30fc\u30eb\u30c9\u5024)\u3092\u4fdd\u6301\u3059\u308b)\n2. Originator\u30af\u30e9\u30b9(\u5185\u90e8\u72b6\u614b\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u5165\u308c\u3066\u304a\u304f\u305f\u3081\u306b1.\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b)\n3. Caretaker\u30af\u30e9\u30b9(1.\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u64cd\u4f5c\u305b\u305a\u306b\u4fdd\u7ba1\u3059\u308b)\n\n\u5177\u4f53\u4f8b\u3068\u5b9f\u88c5\n\u63cf\u753b\u30bd\u30d5\u30c8\u3092\u4f8b\u306b\u3059\u308b\u3068\u3001\n\u4e0a\u8a181~3\u306f\u305d\u308c\u305e\u308c\n\n\u63cf\u753b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30af\u30e9\u30b9(DrawingObject\u30af\u30e9\u30b9\u3001\u63cf\u753b\u30bd\u30d5\u30c8\u3067\u63cf\u304b\u308c\u305f\u751f\u6210\u7269\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\n\u63cf\u753b\u30bd\u30d5\u30c8\u30af\u30e9\u30b9(DrawingSoft\u30af\u30e9\u30b9\u3001\u5165\u529b\u306b\u3057\u305f\u304c\u3063\u3066\u63cf\u753b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210)\n\u63cf\u753b\u7269\u7ba1\u7406\u30af\u30e9\u30b9(DrawingCaretaker\u30af\u30e9\u30b9\u3001\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306e\u72b6\u614b\u3092\u7ba1\u7406\u3059\u308b)\n\n\u304c\u5bfe\u5fdc\u3059\u308b\u3002\n\u30b3\u30fc\u30c9\u306e\u8a73\u7d30\u306f\u4ee5\u4e0b\n\ndrawing_object.rb\nclass DrawingObject\n  def initialize(drawing)\n    @drawing = drawing\n  end\n\n  def get_drawing_object\n    @drawing\n  end\nend\n\n\n\ndrawing_soft.rb\nclass DrawingSoft\n  def initialize\n    @drawing = nil\n  end\n\n  def draw(drawing)\n    # \u7d75\u3092\u63cf\u304f\n    @drawing = drawing\n  end\n\n  def get_drawing_object\n    return @drawing\n  end\n\n  def save_drawing_object\n    @clipboard = DrawingObject.new(@drawing)\n  end\n\n  def load_drawing_object(clipboard)\n    @clipboard = clipboard\n    @drawing = clipboard.get_drawing_object\n  end\nend\n\n\n\ndrawing_caretaker.rb\nclass DrawingCaretaker\n  def initialize()\n    @clipboard = []\n  end\n\n  def add_to_clipboard(drawing)\n    @clipboard << drawing\n  end\n\n  def get_from_clipboard\n    @clipboard.pop\n  end\nend\n\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b3\u30fc\u30c9\ndrawing_caretaker = DrawingCaretaker.new\ndrawing_soft = DrawingSoft.new\n\ndrawing_soft.draw(#{\u9069\u5f53\u306a\u7d75})\n\n# save\ndrawing_caretaker.add_to_clipboard(drawing_soft.save_drawing_object)\nputs(drawing_soft.get_drawing_object) # \u9069\u5f53\u306a\u7d75\n\ndrawing_soft.draw(#{\u7dba\u9e97\u306a\u7d75})\nputs(drawing_soft.get_drawing_object) # \u7dba\u9e97\u306a\u7d75\n\n# undo\ndrawing_soft.load_drawing_object(drawing_caretaker.get_from_clipboard)\nputs(drawing_soft.get_drawing_object) # \u9069\u5f53\u306a\u7d75\n\n\n\u30e1\u30ea\u30c3\u30c8\n\nOriginator\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u307f\u304c\u7ba1\u7406\u3059\u3079\u304d\u60c5\u5831\u3092\u5916\u90e8\u304b\u3089\u96a0\u853d\u3057\u3001\u30ab\u30d7\u30bb\u30eb\u5316\u306e\u5883\u754c\u3092\u4fdd\u3064\u3053\u3068\u304c\u3067\u304d\u308b\n\n\n\u307e\u3068\u3081\n\u5185\u90e8\u72b6\u614b\u3092\u4fdd\u5b58\u3057undo\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u969b\u306b\u4fbf\u5229\u306a\u30d1\u30bf\u30fc\u30f3\n##\u6982\u8981\n\u30c7\u30fc\u30bf\u69cb\u9020\u306b\u5bfe\u3059\u308b\u72b6\u614b\u3092\u8a18\u9332\u3057\u3066\u304a\u304d\u3001\u4ee5\u524d\u306e\u72b6\u614b\u3078\u306e\u5fa9\u5e30\u3092\u884c\u3048\u308b\u3088\u3046\u306b\u3059\u308b\u30d1\u30bf\u30fc\u30f3\n\n\u4ee5\u4e0b\u306e3\u7a2e\u985e\u306e\u30af\u30e9\u30b9\u304b\u3089\u306a\u308b\n1. Memento\u30af\u30e9\u30b9(2.\u306e\u5185\u90e8\u60c5\u5831(\u30d5\u30a3\u30fc\u30eb\u30c9\u5024)\u3092\u4fdd\u6301\u3059\u308b)\n2. Originator\u30af\u30e9\u30b9(\u5185\u90e8\u72b6\u614b\u306e\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30c8\u3092\u5165\u308c\u3066\u304a\u304f\u305f\u3081\u306b1.\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b)\n3. Caretaker\u30af\u30e9\u30b9(1.\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u64cd\u4f5c\u305b\u305a\u306b\u4fdd\u7ba1\u3059\u308b)\n\n##\u5177\u4f53\u4f8b\u3068\u5b9f\u88c5\n\u63cf\u753b\u30bd\u30d5\u30c8\u3092\u4f8b\u306b\u3059\u308b\u3068\u3001\n\n\u4e0a\u8a181~3\u306f\u305d\u308c\u305e\u308c\n\n1. \u63cf\u753b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30af\u30e9\u30b9(DrawingObject\u30af\u30e9\u30b9\u3001\u63cf\u753b\u30bd\u30d5\u30c8\u3067\u63cf\u304b\u308c\u305f\u751f\u6210\u7269\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\n2. \u63cf\u753b\u30bd\u30d5\u30c8\u30af\u30e9\u30b9(DrawingSoft\u30af\u30e9\u30b9\u3001\u5165\u529b\u306b\u3057\u305f\u304c\u3063\u3066\u63cf\u753b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210)\n3. \u63cf\u753b\u7269\u7ba1\u7406\u30af\u30e9\u30b9(DrawingCaretaker\u30af\u30e9\u30b9\u3001\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306e\u72b6\u614b\u3092\u7ba1\u7406\u3059\u308b)\n\n\u304c\u5bfe\u5fdc\u3059\u308b\u3002\n\u30b3\u30fc\u30c9\u306e\u8a73\u7d30\u306f\u4ee5\u4e0b\n\n```rb:drawing_object.rb\nclass DrawingObject\n  def initialize(drawing)\n    @drawing = drawing\n  end\n\n  def get_drawing_object\n    @drawing\n  end\nend\n```\n\n```rb:drawing_soft.rb\nclass DrawingSoft\n  def initialize\n    @drawing = nil\n  end\n\n  def draw(drawing)\n    # \u7d75\u3092\u63cf\u304f\n    @drawing = drawing\n  end\n\n  def get_drawing_object\n    return @drawing\n  end\n\n  def save_drawing_object\n    @clipboard = DrawingObject.new(@drawing)\n  end\n\n  def load_drawing_object(clipboard)\n    @clipboard = clipboard\n    @drawing = clipboard.get_drawing_object\n  end\nend\n```\n\n```rb:drawing_caretaker.rb\nclass DrawingCaretaker\n  def initialize()\n    @clipboard = []\n  end\n\n  def add_to_clipboard(drawing)\n    @clipboard << drawing\n  end\n\n  def get_from_clipboard\n    @clipboard.pop\n  end\nend\n```\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b3\u30fc\u30c9\n\n```rb\ndrawing_caretaker = DrawingCaretaker.new\ndrawing_soft = DrawingSoft.new\n\ndrawing_soft.draw(#{\u9069\u5f53\u306a\u7d75})\n\n# save\ndrawing_caretaker.add_to_clipboard(drawing_soft.save_drawing_object)\nputs(drawing_soft.get_drawing_object) # \u9069\u5f53\u306a\u7d75\n\ndrawing_soft.draw(#{\u7dba\u9e97\u306a\u7d75})\nputs(drawing_soft.get_drawing_object) # \u7dba\u9e97\u306a\u7d75\n\n# undo\ndrawing_soft.load_drawing_object(drawing_caretaker.get_from_clipboard)\nputs(drawing_soft.get_drawing_object) # \u9069\u5f53\u306a\u7d75\n```\n\n\n##\u30e1\u30ea\u30c3\u30c8\n* Originator\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u307f\u304c\u7ba1\u7406\u3059\u3079\u304d\u60c5\u5831\u3092\u5916\u90e8\u304b\u3089\u96a0\u853d\u3057\u3001\u30ab\u30d7\u30bb\u30eb\u5316\u306e\u5883\u754c\u3092\u4fdd\u3064\u3053\u3068\u304c\u3067\u304d\u308b\n\n##\u307e\u3068\u3081\n\u5185\u90e8\u72b6\u614b\u3092\u4fdd\u5b58\u3057undo\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u969b\u306b\u4fbf\u5229\u306a\u30d1\u30bf\u30fc\u30f3\n", "tags": ["\u30c7\u30b6\u30a4\u30f3\u30d1\u30bf\u30fc\u30f3"]}