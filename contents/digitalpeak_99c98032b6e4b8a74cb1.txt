{"context": " More than 1 year has passed since last update.\n\n\u76ee\u7684\nJuniper SSG5\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306b\u4f7f\u7528\u3059\u308bTFTP\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3059\u308b\u3002\n\n\u74b0\u5883\n\nAWS\nAmazon Linux AMI release 2015.03\nInstalled:tftp-server.x86_64 0:0.49-7.7.amzn1\nDependency Installed:xinetd.x86_64 2:2.3.14-39.9.amzn1\n\n\n\u8a2d\u5b9a\n\n\u516c\u958bDIR\u4f5c\u6210\n$ sudo mkdir /tftpboot\n$ sudo chmod -R 777 /tftpboot\n$ sudo chown -R nobody:nobody /tftpboot\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n disable\u306f=no\u306b\u5909\u66f4\u3057\u3001\u6709\u52b9\u5316\n server_args\u306b\u4f5c\u6210\u3057\u305f\u516c\u958bDIR\u3092-c\u3092\u4ed8\u3051\u3066\u5b9a\u7fa9\n\n\n/etc/xinetd.d/tftp\n# default: off\n# description: The tftp server serves files using the trivial file transfer \\\n#       protocol.  The tftp protocol is often used to boot diskless \\\n#       workstations, download configuration files to network-aware printers, \\\n#       and to start the installation process for some operating systems.\nservice tftp\n{\n        socket_type             = dgram\n        protocol                = udp\n        wait                    = yes\n        user                    = root\n        server                  = /usr/sbin/in.tftpd\n        server_args             = -c -s /tftpboot\n        disable                 = no\n        per_source              = 11\n        cps                     = 100 2\n        flags                   = IPv4\n}\n\n\n\nFW\n\ninbound\n\n\n\n\nType\nProtocol\nPort Range\nSource\n\n\n\n\nAll UDP\nUDP\n0 - 65535\nIP\u30a2\u30c9\u30ec\u30b9/\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\n\n\n\n\naws\u4f7f\u7528\u3057\u3066\u3044\u306a\u3044\u5834\u5408\n\n\n/etc/hosts.allow\n#juniper - for maintenance\nin.tftpd: ***.***.***.***\n\n\n\n\n\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n$ sudo service xinetd restart\n\n\u52d5\u4f5c\u78ba\u8a8d\n\n\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089TFTP\u3067\u30d5\u30a1\u30a4\u30eb\u3092UPLOAD\u3059\u308b\nc:\\Users\\****>tftp -i ***.***.***.*** put c:\\Users\\****\\juniper\\firmware\\ssg5ssg20.6.3.0r19.0\n\u8ee2\u9001\u3092\u6b63\u5e38\u306b\u5b8c\u4e86\u3057\u307e\u3057\u305f: 118 \u79d2\u9593\u306b 13384482 \u30d0\u30a4\u30c8\u3001113427 \u30d0\u30a4\u30c8/\u79d2\n\n\nUPLOAD\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\n$ ls /tftpboot \nssg5ssg20.6.3.0r19.0\n\n\n\u5f8c\u51e6\u7406\n1.\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u304b\u3089ON\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001OFF\u306b\u3059\u308b\u3002\n$ chkconfig --list\nxinetd          0:off   1:off   2:off   3:on    4:on    5:on    6:off\nxinetd based services:\n        rsync:          off\n        tftp:           on\n\n$ sudo chkconfig xinetd off\n$ chkconfig --list\nxinetd          0:off   1:off   2:off   3:off   4:off   5:off   6:off\n\n2.\u30b5\u30fc\u30d3\u30b9\u505c\u6b62\n$ sudo service xinetd stop\n3.FW\u3082\u9589\u3058\u3001hosts.allow\u3067\u5b9a\u7fa9\u3057\u305f\u3082\u306e\u3082\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3002\n#\u76ee\u7684\nJuniper SSG5\u306e\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306b\u4f7f\u7528\u3059\u308bTFTP\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3059\u308b\u3002\n#\u74b0\u5883\n* AWS\n* Amazon Linux AMI release 2015.03\n* Installed:tftp-server.x86_64 0:0.49-7.7.amzn1\n* Dependency Installed:xinetd.x86_64 2:2.3.14-39.9.amzn1\n\n#\u8a2d\u5b9a\n##\u516c\u958bDIR\u4f5c\u6210\n```\n$ sudo mkdir /tftpboot\n$ sudo chmod -R 777 /tftpboot\n$ sudo chown -R nobody:nobody /tftpboot\n```\n\n##\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n1.  disable\u306f=no\u306b\u5909\u66f4\u3057\u3001\u6709\u52b9\u5316\n2.  server_args\u306b\u4f5c\u6210\u3057\u305f\u516c\u958bDIR\u3092-c\u3092\u4ed8\u3051\u3066\u5b9a\u7fa9\n\n```/etc/xinetd.d/tftp\n# default: off\n# description: The tftp server serves files using the trivial file transfer \\\n#       protocol.  The tftp protocol is often used to boot diskless \\\n#       workstations, download configuration files to network-aware printers, \\\n#       and to start the installation process for some operating systems.\nservice tftp\n{\n        socket_type             = dgram\n        protocol                = udp\n        wait                    = yes\n        user                    = root\n        server                  = /usr/sbin/in.tftpd\n        server_args             = -c -s /tftpboot\n        disable                 = no\n        per_source              = 11\n        cps                     = 100 2\n        flags                   = IPv4\n}\n```\n\n##FW\n* inbound\n\n| Type | Protocol | Port Range | Source |\n|:-----------|------------:|:------------:|:------------:|\n|     All UDP     |     UDP     |     0 - 65535     |     IP\u30a2\u30c9\u30ec\u30b9/\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9     |\n\n\n* aws\u4f7f\u7528\u3057\u3066\u3044\u306a\u3044\u5834\u5408\n\n```/etc/hosts.allow\n#juniper - for maintenance\nin.tftpd: ***.***.***.***\n\n```\n\n##\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n`$ sudo service xinetd restart`\n\n\n#\u52d5\u4f5c\u78ba\u8a8d\n##\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304b\u3089TFTP\u3067\u30d5\u30a1\u30a4\u30eb\u3092UPLOAD\u3059\u308b\n```\nc:\\Users\\****>tftp -i ***.***.***.*** put c:\\Users\\****\\juniper\\firmware\\ssg5ssg20.6.3.0r19.0\n\u8ee2\u9001\u3092\u6b63\u5e38\u306b\u5b8c\u4e86\u3057\u307e\u3057\u305f: 118 \u79d2\u9593\u306b 13384482 \u30d0\u30a4\u30c8\u3001113427 \u30d0\u30a4\u30c8/\u79d2\n```\n\n##UPLOAD\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\n```\n$ ls /tftpboot \nssg5ssg20.6.3.0r19.0\n```\n\n#\u5f8c\u51e6\u7406\n1.\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u76f4\u5f8c\u304b\u3089ON\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3001OFF\u306b\u3059\u308b\u3002\n\n```\n$ chkconfig --list\nxinetd          0:off   1:off   2:off   3:on    4:on    5:on    6:off\nxinetd based services:\n        rsync:          off\n        tftp:           on\n```\n\n```\n$ sudo chkconfig xinetd off\n$ chkconfig --list\nxinetd          0:off   1:off   2:off   3:off   4:off   5:off   6:off\n```\n\n2.\u30b5\u30fc\u30d3\u30b9\u505c\u6b62\n`$ sudo service xinetd stop`\n\n3.FW\u3082\u9589\u3058\u3001hosts.allow\u3067\u5b9a\u7fa9\u3057\u305f\u3082\u306e\u3082\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3059\u308b\u3002\n", "tags": ["tftp", "juniper"]}