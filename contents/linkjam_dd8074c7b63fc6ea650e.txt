{"context": " More than 1 year has passed since last update.\nAuthor @Linz 00311368\n\n\n1.\u80cc\u666f\n\u5f88\u591a\u65f6\u5019\u9700\u8981\u4f7f\u7528\u4ee3\u7801\u6765\u5199\u7ea6\u675f\uff0c\u4f8b\u5982\u4e00\u4e9b\u7528\u4ee3\u7801\u5199\u7684\u81ea\u5b9a\u4e49\u7684\u63a7\u4ef6\u53ca\u5176\u5b50\u63a7\u4ef6\u53ef\u80fd\u5929\u751f\u4e0d\u652f\u6301\u81ea\u52a8\u5e03\u5c40\uff0c\u800c\u5373\u4fbf\u5c06\u81ea\u5b9a\u4e49\u63a7\u4ef6\u62d6\u5230storyboard\u4e0a\uff0c\u4e5f\u65e0\u6cd5\u4fdd\u8bc1\u5185\u90e8\u7684view\u53ef\u4ee5\u81ea\u52a8\u5e03\u5c40\uff0c\u56e0\u800c\u6b64\u65f6\u53ea\u80fd\u4f7f\u7528\u4ee3\u7801\u6dfb\u52a0\u7ea6\u675f\u7684\u65b9\u5f0f\u5bf9\u63a7\u4ef6\u53ca\u5b50view\u8fdb\u884c\u7ea6\u675f\u3002\n\u7136\u800c\uff0c\u5982\u679c\u4f7f\u7528[NSLayoutConstraint  constraintWithItem ...]\u7684\u65b9\u5f0f\uff0c\u9700\u4f20\u9012\u5f88\u591a\u53c2\u6570\uff0c\u4ee3\u7801\u5199\u8d77\u6765\u4f1a\u975e\u5e38\u7e41\u7410\u3002\u5e78\u597d\u82f9\u679c\u63d0\u4f9b\u4e86\u53e6\u4e00\u4e2a\u65b9\u6848\uff0cVFL\uff0c\u76f8\u6bd4\u524d\u8005\u4ee3\u7801\u91cf\u4f1a\u51cf\u5c11\u5f88\u591a\uff0c\u4e24\u79cd\u65b9\u5f0f\u7684\u5bf9\u6bd4\u89c1\u9644\u5f551.\n\n2.VFL\u662f\u4ec0\u4e48\nVFL\u5168\u79f0\u662fVisual Format Language\uff0c\u82f9\u679c\u63d0\u4f9b\u7684\u4e00\u5957\u6bd4\u8f83\u5f62\u8c61\u7684\u63cf\u8ff0\u7ea6\u675f\u7684\u8bed\u8a00\u3002\n2.VFL\u8bed\u6cd5\u793a\u4f8b\n\u4ee5\u4e0b\u5c06\u76f4\u63a5\u7528\u51e0\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bb2\u89e3VFL\u7684\u8bed\u6cd5\uff0c\u65b9\u4fbf\u5feb\u901f\u4e0a\u624b\u3002\n2-1.\u5bbd\u5ea6\u7ea6\u675f\n\nVFL:\n\n[testview(==200)]\n\n\u6ce8:\u88ab\u7ea6\u675f\u7684view\u8981\u7528[]\u5305\u8d77\u6765\n2-2.\u95f4\u8ddd\u7ea6\u675f\n\nVFL:\n\n[view1]-10-[view2]\n\n\u6ce8:\u4e24\u4e2aview\u4e2d\u95f4\u7684\u6570\u5b57\u5373\u4e3a\u95f4\u8ddd\u5927\u5c0f\uff0c\u770b\u8d77\u6765\u662f\u4e0d\u662f\u5f88\u5f62\u8c61\uff1f\n2-3.leading ,trailing\u7ea6\u675f\n\nVFL:\n\n|-10-[subview]-10-|\n\n\u6ce8\uff1a\u8fb9\u754c\u7528|\u6765\u8868\u793a\uff0c\u662f\u4e0d\u662f\u5f88\u5f62\u8c61\uff1f\n2-4.\u5782\u76f4\u65b9\u5411\u7ea6\u675f\n\n\nV:|-30-[subview]-30-|\n\n\u6ce8\uff1a\u5782\u76f4\u65b9\u5411\u7684\u7ea6\u675f\u524d\u9762\u8981\u52a0V:\n   \u6c34\u5e73\u65b9\u5411\u524d\u9762\u4e00\u822c\u8981\u52a0H: \u4e0d\u52a0\u7684\u8bdd\u7cfb\u7edf\u4f1a\u9ed8\u8ba4\u4e3a\u6c34\u5e73\u65b9\u5411\n2-5.\u5b8c\u6574\u7684\u793a\u4f8b\uff1a\n\nVFL:\n\nH:|[subview]|\nV:|[subview]-10-|\n\n\u6ce8\uff1a\u5f53\u8fb9\u8ddd\u4e3a0\u65f6\uff0c\u53ef\u4ee5\u7701\u7565.\n\u5373\uff1a\n\n|[subview]|\n\n\uff1d\uff1d\n\n|-0-[subview]-0-|\n\n\n3.\u4ee3\u7801\u4e2d\u8c03\u7528\u793a\u4f8b\n\u672c\u7ae0\u8282\u4ee5\u4e0a\u8bb02-5\u4e3a\u4f8b\uff0c\u6f14\u793a\u4e0b\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528VFL\u7684\u4e00\u822c\u65b9\u6cd5.\n\u5728Objective-C\u4ee3\u7801\u4e2d\u4f7f\u7528VFL\u7684\u4e00\u822c\u6b65\u9aa4\u5982\u4e0b\uff1a\n\n\u53bb\u9664view\u7684\u7cfb\u7edf\u9ed8\u8ba4\u7684\u7ea6\u675f\u9650\u5236\ntranslatesAutoresizingMaskIntoConstraints=NO\n\u58f0\u660e\u4e00\u4e2a\u5305\u542bVFL\u8bed\u8a00\u7684\u5b57\u7b26\u4e32\n\u751f\u6210\u4e0a\u8bb0VFL\u6240\u6307\u5b9a\u7684view\u548c\u53d8\u91cf\u7684Dictionary\n\u6839\u636e\u4e0a\u9762\u7684VFL\u5b57\u7b26\u4e32\u548c\u53d8\u91cf\u751f\u6210\u7ea6\u675f\n\u6fc0\u6d3b\u7ea6\u675f\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n    UIView * subview=[UIView new];\n    [self.view addSubview:subview];\n    subview.backgroundColor=[UIColor grayColor];\n\n    //1. Deactive the system default constraint\n    subview.translatesAutoresizingMaskIntoConstraints=NO;\n\n    //2. Define horizon/vertical VFL Strings\n    NSString * h_vfl=@\"H:|[subview]|\";\n    NSString * v_vfl=@\"V:|-0-[subview]-vdistance-|\";\n\n    //3. Generate views and variables dictionary using in the VFL.\n    NSNumber *vdistance = [NSNumber numberWithInt:10]; \n    NSDictionary *viewsDic= NSDictionaryOfVariableBindings(subview);\n    NSDictionary *varDic= NSDictionaryOfVariableBindings(vdistance);\n\n    //4.Generate vertical and horizon constraints\n    NSArray *h_cons=[NSLayoutConstraint constraintsWithVisualFormat:h_vfl\n                                                            options:0\n                                                            metrics:nil\n                                                              views:viewsDic];\n\n    NSArray *v_cons=[NSLayoutConstraint constraintsWithVisualFormat:v_vfl\n                                                            options:0\n                                                            metrics:varDic\n                                                              views:viewsDic];\n\n    //5.Activate Constraints\n    [NSLayoutConstraint activateConstraints:h_cons];\n    [NSLayoutConstraint activateConstraints:v_cons];\n\n\n2-5\u6b65\u4e5f\u53ef\u4ee5\u7b80\u5199\u4e3a\u4e3a\u5982\u4e0b\uff1a\n    [NSLayoutConstraint activateConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@\"H:|[subview]|\"\n                                                                                    options:0\n                                                                                    metrics:nil\n                                                                                      views:@{@\"subview\":subview}]];\n    [NSLayoutConstraint activateConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@\"V:|[subview]-vdistance-|\"\n                                                                                    options:0\n                                                                                    metrics:@{@\"vdistance\":@(10)}\n                                                                                      views:@{@\"subview\":subview}]];\n\n\n4.\u8c03\u8bd5\u6280\u5de7\n\n4.1.\u4f7f\u7528xcode\u7684ui\u8c03\u8bd5\u5de5\u5177\n\n\n\u8fdb\u5165UI\u8c03\u8bd5\u6a21\u5f0f\n\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6,\u70b9\u51fbxcode\u7684\u56fe\u6807\uff0c\u5373\u53ef\u8fdb\u5165ui\u8c03\u8bd5\u6a21\u5f0f.\n\u5982\u4e0b\u56fe\uff1a\n\n\u5728\u4e0b\u9762\u7684lldb\u4e2d\u53ef\u4ee5\u6267\u884clldb\u547d\u4ee4\u6765\u67e5\u770bview\u4fe1\u606f.\n\u4f8b\u5982\uff1a\n(lldb) po 0x7f875ac36e80\n<UIView: 0x7f875ac36e80; frame = (92 70; 240 128); autoresize = RM+BM; layer = <CALayer:    0x7f875ac2f8e0>>\n\n\n\u201cShow clipped content\u201d,\"Show constraint\"\n\u70b9\u51fb\u8c03\u8bd5\u754c\u9762\u7684\u201cShow clipped content\u201d,\u80fd\u663e\u793a\u504f\u79fb\u5230\u5c4f\u5e55\u5916\u7684view.\n\u70b9\u51fb\u8c03\u8bd5\u754c\u9762\u7684\"Show constraint\",\u53ef\u4ee5\u663e\u793a\u6bcf\u4e2aview\u7684\u76f8\u5173\u7ea6\u675f\uff0c\u7528\u6765\u8f85\u52a9\u5b9a\u4f4d\u7ea6\u675f\u662f\u5426\u5b58\u5728\u95ee\u9898.\n\u5982\u4e0b\u56fe\uff1a\n\n\n\n4.2.\u5904\u7406\u7ea6\u675f\u76f8\u5173\u7684\u65e5\u5fd7\n\nUnable to simultaneously satisfy constraints.\n   Probably at least one of the constraints in the following list is one you don't want. Try this: \n(1) look at each constraint and try to figure out which you don't expect; \n(2) find the code that added the unwanted constraint or constraints and fix it. (Note: If you're seeing NSAutoresizingMaskLayoutConstraints that you don't understand, refer to the documentation for the UIView property translatesAutoresizingMaskIntoConstraints) \n...\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in  may also be helpful.\n\n\u5f53\u9047\u5230\u8fd9\u79cd\u65e5\u5fd7\u65f6\uff0c\u4e00\u822c\u7684\u505a\u6cd5\u5982\u4e0b\uff1a\n1.\u4f7f\u7528xcode ui\u8c03\u8bd5\u5de5\u5177\u6682\u505c\u7a0b\u5e8f\n2.\u5728\u4ece\u4e0a\u9762\u7684\u65e5\u5fd7\u4e2d\u627e\u5230\u76f8\u5e94\u7684\u51fa\u9519\u7684view\u7684\u5730\u5740,\u4f8b\u59820x123.\n3.\u5728xcode\u7684lldb console\u91cc\u6267\u884c\u6539view\u7684\u4e0b\u8bb0\u65b9\u6cd5\u8fdb\u884c\u6392\u67e5:\n\n\npo [0x123 recursiveDescription]\n\u4ee5\u6811\u5f62\u7ed3\u6784\u6253\u5370\u8be5view\u53ca\u5b50view\u7684frame\u4fe1\u606f.\n\n\n<UIView: 0x7fd25be264a0; frame = (0 0; 320 568); autoresize = W+H; layer = <CALayer: 0x7fd25be20680>>\n   | <UIView: 0x7fd25be2adc0; frame = (92 70; 240 128); autoresize = RM+BM; layer = <CALayer: 0x7fd25be23dd0>>\n   | <_UILayoutGuide: 0x7fd25be2bf30; frame = (0 0; 0 20); hidden = YES; layer = <CALayer: 0x7fd25be206a0>>\n   | <_UILayoutGuide: 0x7fd25be2c8f0; frame = (0 568; 0 0); hidden = YES; layer = <CALayer: 0x7fd25be2ac40>>\n   | <UIView: 0x7fd25be29c20; frame = (0 548; 310 20); layer = <CALayer: 0x7fd25be0a3c0>>\n   | <UIView: 0x7fd25be2dbf0; frame = (320 548; 0 20); layer = <CALayer: 0x7fd25be2aae0>>\n\n\n\npo [0x123 _autolayoutTrace]\n\u6253\u5370\u8be5view\u76f8\u5173\u7684autolayout\u4fe1\u606f\uff08\u63d0\u4f9b\u5b9a\u4f4d\u7ea6\u675f\u95ee\u9898\u7684\u91cd\u8981\u4fe1\u606f\uff09\n\n\n\u2022UIWindow:0x7fd25be26190 - AMBIGUOUS LAYOUT\n|   \u2022UIView:0x7fd25be264a0\n|   |   *UIView:0x7fd25be2adc0\n|   |   *_UILayoutGuide:0x7fd25be2bf30\n|   |   *_UILayoutGuide:0x7fd25be2c8f0\n|   |   *UIView:0x7fd25be29c20- AMBIGUOUS LAYOUT for UIView:0x7fd25be29c20.Width{id: 31}\n|   |   *UIView:0x7fd25be2dbf0- AMBIGUOUS LAYOUT for UIView:0x7fd25be2dbf0.minX{id: 30}, UIView:0x7fd25be2dbf0.Width{id: 34}\n\nLegend:\n    * - is laid out with auto layout\n    + - is laid out manually, but is represented in the layout engine because translatesAutoresizingMaskIntoConstraints = YES\n    \u2022 - layout engine host\n\n\n\npo [0x123 constraintsAffectingLayoutForAxis:0]\n\u6253\u5370\u8be5view\u76f8\u5173\u7684\u6240\u6709\u7684\u6c34\u5e73\u65b9\u5411\u7684\u7ea6\u675f.\u53c2\u6570\u4f201\u7684\u8bdd\uff0c\u6253\u5370\u6240\u6709\u5782\u76f4\u65b9\u5411\u7684\u7ea6\u675f\n\n\n<__NSArrayI 0x7fd25be21770>(\n<NSLayoutConstraint:0x7fd25be2ec20 H:|-(0)-[UIView:0x7fd25be29c20]   (Names: '|':UIView:0x7fd25be264a0 )>,\n<NSLayoutConstraint:0x7fd25be2ee10 H:[UIView:0x7fd25be29c20]-(10)-[UIView:0x7fd25be2dbf0]>,\n<NSLayoutConstraint:0x7fd25be2ee60 H:[UIView:0x7fd25be2dbf0]-(0)-|   (Names: '|':UIView:0x7fd25be264a0 )>,\n<NSAutoresizingMaskLayoutConstraint:0x7fd25bc2d470 h=-&- v=-&- 'UIView-Encapsulated-Layout-Left' H:|-(0)-[UIView:0x7fd25be264a0]   (Names: '|':UIWindow:0x7fd25be26190 )>,\n<NSLayoutConstraint:0x7fd25bc22990 'UIView-Encapsulated-Layout-Width' H:[UIView:0x7fd25be264a0(320)]>\n)\n\n\n\npo [0x123 hasAmbiguousLayout] \n\u5224\u65ad\u662f\u5426\u5b58\u5728\u6709\u6b67\u4e49\u7684\u7ea6\u675f\n\n\n\n\u9644\n\n1.\u4f7f\u7528VFL\u8ddf\u4e0d\u4f7f\u7528\u7684\u533a\u522b\nVisual Format Language\u4f7f\u7528\u7684\u5199\u6cd5:\n[NSLayoutConstraint activateConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@\"|-40-[view1(==240)]-20-[view2(==240)]-40-|\"\n                                                                            options:0\n                                                                            metrics:0\n                                             views:NSDictionaryOfVariableBindings(view1, view2)]];\n\n\nVisual Format Language\u672a\u4f7f\u7528\u7684\u5199\u6cd5:\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view1\n                                  attribute:NSLayoutAttributeLeft\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:self.scrollView\n                                  attribute:NSLayoutAttributeLeft\n                                 multiplier:1.0\n                                   constant:40]];\n\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view1\n                                  attribute:NSLayoutAttributeWidth\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:nil\n                                  attribute:NSLayoutAttributeWidth\n                                 multiplier:1.0\n                                   constant:240]];\n\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view2\n                                  attribute:NSLayoutAttributeLeft\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:view1\n                                  attribute:NSLayoutAttributeRight\n                                 multiplier:1.0\n                                   constant:20]];\n\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view2\n                                  attribute:NSLayoutAttributeWidth\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:nil\n                                  attribute:NSLayoutAttributeWidth\n                                 multiplier:1.0\n                                   constant:240]];\n\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view2\n                                  attribute:NSLayoutAttributeRight\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:self.scrollView\n                                  attribute:NSLayoutAttributeRight\n                                 multiplier:1.0\n                                   constant:40]];\n\n\n2.\u53c2\u8003\u94fe\u63a5\nhttps://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/index.html#//apple_ref/doc/uid/TP40010853-CH7-SW1\n>Author @Linz 00311368\n\n##1.\u80cc\u666f\n\u5f88\u591a\u65f6\u5019\u9700\u8981\u4f7f\u7528\u4ee3\u7801\u6765\u5199\u7ea6\u675f\uff0c\u4f8b\u5982\u4e00\u4e9b\u7528\u4ee3\u7801\u5199\u7684\u81ea\u5b9a\u4e49\u7684\u63a7\u4ef6\u53ca\u5176\u5b50\u63a7\u4ef6\u53ef\u80fd\u5929\u751f\u4e0d\u652f\u6301\u81ea\u52a8\u5e03\u5c40\uff0c\u800c\u5373\u4fbf\u5c06\u81ea\u5b9a\u4e49\u63a7\u4ef6\u62d6\u5230storyboard\u4e0a\uff0c\u4e5f\u65e0\u6cd5\u4fdd\u8bc1\u5185\u90e8\u7684view\u53ef\u4ee5\u81ea\u52a8\u5e03\u5c40\uff0c\u56e0\u800c\u6b64\u65f6\u53ea\u80fd\u4f7f\u7528\u4ee3\u7801\u6dfb\u52a0\u7ea6\u675f\u7684\u65b9\u5f0f\u5bf9\u63a7\u4ef6\u53ca\u5b50view\u8fdb\u884c\u7ea6\u675f\u3002\n\u7136\u800c\uff0c\u5982\u679c\u4f7f\u7528`[NSLayoutConstraint  constraintWithItem ...]`\u7684\u65b9\u5f0f\uff0c\u9700\u4f20\u9012\u5f88\u591a\u53c2\u6570\uff0c\u4ee3\u7801\u5199\u8d77\u6765\u4f1a\u975e\u5e38\u7e41\u7410\u3002\u5e78\u597d\u82f9\u679c\u63d0\u4f9b\u4e86\u53e6\u4e00\u4e2a\u65b9\u6848\uff0cVFL\uff0c\u76f8\u6bd4\u524d\u8005\u4ee3\u7801\u91cf\u4f1a\u51cf\u5c11\u5f88\u591a\uff0c\u4e24\u79cd\u65b9\u5f0f\u7684\u5bf9\u6bd4\u89c1\u9644\u5f551.\n\n\n\n##2.VFL\u662f\u4ec0\u4e48\nVFL\u5168\u79f0\u662f`Visual Format Language`\uff0c\u82f9\u679c\u63d0\u4f9b\u7684\u4e00\u5957\u6bd4\u8f83\u5f62\u8c61\u7684\u63cf\u8ff0\u7ea6\u675f\u7684\u8bed\u8a00\u3002\n\n2.VFL\u8bed\u6cd5\u793a\u4f8b\n\u4ee5\u4e0b\u5c06\u76f4\u63a5\u7528\u51e0\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bb2\u89e3VFL\u7684\u8bed\u6cd5\uff0c\u65b9\u4fbf\u5feb\u901f\u4e0a\u624b\u3002\n2-1.\u5bbd\u5ea6\u7ea6\u675f\n<img src=https://qiita-image-store.s3.amazonaws.com/0/106852/a6f2100b-460d-639d-fa98-a3f8243fce92.png width=300px>\n\nVFL:\n>[testview(==200)]\n\n\u6ce8:\u88ab\u7ea6\u675f\u7684view\u8981\u7528[]\u5305\u8d77\u6765\n\n2-2.\u95f4\u8ddd\u7ea6\u675f\n<img src=https://qiita-image-store.s3.amazonaws.com/0/106852/dcb03cb0-0c8d-9955-4ab3-81a13ce30f88.png width=300px>\nVFL:\n>[view1]-10-[view2]\n\n\u6ce8:\u4e24\u4e2aview\u4e2d\u95f4\u7684\u6570\u5b57\u5373\u4e3a\u95f4\u8ddd\u5927\u5c0f\uff0c\u770b\u8d77\u6765\u662f\u4e0d\u662f\u5f88\u5f62\u8c61\uff1f\n\n2-3.leading ,trailing\u7ea6\u675f\n<img src=https://qiita-image-store.s3.amazonaws.com/0/106852/b1c76b23-9e9b-4b7b-cb27-86129e2fa7fb.png width=300px>\nVFL:\n>|-10-[subview]-10-|\n\n\u6ce8\uff1a\u8fb9\u754c\u7528|\u6765\u8868\u793a\uff0c\u662f\u4e0d\u662f\u5f88\u5f62\u8c61\uff1f\n\n\n2-4.\u5782\u76f4\u65b9\u5411\u7ea6\u675f\n<img src=https://qiita-image-store.s3.amazonaws.com/0/106852/718598dd-ae99-cedd-9086-57aeb1d966cf.png width=300px>\n>V:|-30-[subview]-30-|\n\n\u6ce8\uff1a\u5782\u76f4\u65b9\u5411\u7684\u7ea6\u675f\u524d\u9762\u8981\u52a0V:\n   \u6c34\u5e73\u65b9\u5411\u524d\u9762\u4e00\u822c\u8981\u52a0H: \u4e0d\u52a0\u7684\u8bdd\u7cfb\u7edf\u4f1a\u9ed8\u8ba4\u4e3a\u6c34\u5e73\u65b9\u5411\n\n2-5.\u5b8c\u6574\u7684\u793a\u4f8b\uff1a\n<img src=https://qiita-image-store.s3.amazonaws.com/0/106852/69f56951-aa03-8298-c099-7e508b456fcc.png width=300px>\nVFL:\n>H:|[subview]|\n>V:|[subview]-10-|\n\n\u6ce8\uff1a\u5f53\u8fb9\u8ddd\u4e3a0\u65f6\uff0c\u53ef\u4ee5\u7701\u7565.\n\u5373\uff1a\n>|[subview]|\n\n\uff1d\uff1d\n>|-0-[subview]-0-|\n\n\n##3.\u4ee3\u7801\u4e2d\u8c03\u7528\u793a\u4f8b\n\u672c\u7ae0\u8282\u4ee5\u4e0a\u8bb02-5\u4e3a\u4f8b\uff0c\u6f14\u793a\u4e0b\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528VFL\u7684\u4e00\u822c\u65b9\u6cd5.\n\u5728`Objective-C`\u4ee3\u7801\u4e2d\u4f7f\u7528VFL\u7684\u4e00\u822c\u6b65\u9aa4\u5982\u4e0b\uff1a\n\n  1. \u53bb\u9664view\u7684\u7cfb\u7edf\u9ed8\u8ba4\u7684\u7ea6\u675f\u9650\u5236\n\ttranslatesAutoresizingMaskIntoConstraints=NO\n  2. \u58f0\u660e\u4e00\u4e2a\u5305\u542bVFL\u8bed\u8a00\u7684\u5b57\u7b26\u4e32\n  3. \u751f\u6210\u4e0a\u8bb0VFL\u6240\u6307\u5b9a\u7684view\u548c\u53d8\u91cf\u7684Dictionary\n  4. \u6839\u636e\u4e0a\u9762\u7684VFL\u5b57\u7b26\u4e32\u548c\u53d8\u91cf\u751f\u6210\u7ea6\u675f\n  5. \u6fc0\u6d3b\u7ea6\u675f\n  \n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```objectivec\n    UIView * subview=[UIView new];\n    [self.view addSubview:subview];\n    subview.backgroundColor=[UIColor grayColor];\n    \n    //1. Deactive the system default constraint\n    subview.translatesAutoresizingMaskIntoConstraints=NO;\n    \n    //2. Define horizon/vertical VFL Strings\n    NSString * h_vfl=@\"H:|[subview]|\";\n    NSString * v_vfl=@\"V:|-0-[subview]-vdistance-|\";\n    \n    //3. Generate views and variables dictionary using in the VFL.\n    NSNumber *vdistance = [NSNumber numberWithInt:10]; \n    NSDictionary *viewsDic= NSDictionaryOfVariableBindings(subview);\n    NSDictionary *varDic= NSDictionaryOfVariableBindings(vdistance);\n    \n    //4.Generate vertical and horizon constraints\n    NSArray *h_cons=[NSLayoutConstraint constraintsWithVisualFormat:h_vfl\n                                                            options:0\n                                                            metrics:nil\n                                                              views:viewsDic];\n    \n    NSArray *v_cons=[NSLayoutConstraint constraintsWithVisualFormat:v_vfl\n                                                            options:0\n                                                            metrics:varDic\n                                                              views:viewsDic];\n    \n    //5.Activate Constraints\n    [NSLayoutConstraint activateConstraints:h_cons];\n    [NSLayoutConstraint activateConstraints:v_cons];\n    \n```\n\n2-5\u6b65\u4e5f\u53ef\u4ee5\u7b80\u5199\u4e3a\u4e3a\u5982\u4e0b\uff1a\n\n```objectivec\n    [NSLayoutConstraint activateConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@\"H:|[subview]|\"\n                                                                                    options:0\n                                                                                    metrics:nil\n                                                                                      views:@{@\"subview\":subview}]];\n    [NSLayoutConstraint activateConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@\"V:|[subview]-vdistance-|\"\n                                                                                    options:0\n                                                                                    metrics:@{@\"vdistance\":@(10)}\n                                                                                      views:@{@\"subview\":subview}]];\n```\n\n\n##4.\u8c03\u8bd5\u6280\u5de7\n###4.1.\u4f7f\u7528xcode\u7684ui\u8c03\u8bd5\u5de5\u5177\n\n1. \u8fdb\u5165UI\u8c03\u8bd5\u6a21\u5f0f\n\n\t\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6,\u70b9\u51fbxcode\u7684<img src=\"https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/Screen%20Shot%202015-08-26%20at%2011.35.43%20AM.png\">\u56fe\u6807\uff0c\u5373\u53ef\u8fdb\u5165ui\u8c03\u8bd5\u6a21\u5f0f.\n\t\u5982\u4e0b\u56fe\uff1a\n<img src=https://qiita-image-store.s3.amazonaws.com/0/106852/f481e616-d27d-6a8f-28c5-75f7abaaf068.png width=400px>\n\t\u5728\u4e0b\u9762\u7684lldb\u4e2d\u53ef\u4ee5\u6267\u884clldb\u547d\u4ee4\u6765\u67e5\u770bview\u4fe1\u606f.\n\t\u4f8b\u5982\uff1a\n\n\t```\n\t(lldb) po 0x7f875ac36e80\n\t<UIView: 0x7f875ac36e80; frame = (92 70; 240 128); autoresize = RM+BM; layer = <CALayer: \t0x7f875ac2f8e0>>\n\t```\n\n2. \u201cShow clipped content\u201d,\"Show constraint\"\n\t\u70b9\u51fb\u8c03\u8bd5\u754c\u9762\u7684\u201cShow clipped content\u201d,\u80fd\u663e\u793a\u504f\u79fb\u5230\u5c4f\u5e55\u5916\u7684view.\n\t\u70b9\u51fb\u8c03\u8bd5\u754c\u9762\u7684\"Show constraint\",\u53ef\u4ee5\u663e\u793a\u6bcf\u4e2aview\u7684\u76f8\u5173\u7ea6\u675f\uff0c\u7528\u6765\u8f85\u52a9\u5b9a\u4f4d\u7ea6\u675f\u662f\u5426\u5b58\u5728\u95ee\u9898.\n\t\u5982\u4e0b\u56fe\uff1a\n<img src=\"https://qiita-image-store.s3.amazonaws.com/0/106852/a9a66351-9e77-5403-efde-67130febe945.png\" width=400px/>\n\n\n\n###4.2.\u5904\u7406\u7ea6\u675f\u76f8\u5173\u7684\u65e5\u5fd7\n> Unable to simultaneously satisfy constraints.\n>    Probably at least one of the constraints in the following list is one you don't want. Try this: \n(1) look at each constraint and try to figure out which you don't expect; \n(2) find the code that added the unwanted constraint or constraints and fix it. (Note: If you're seeing NSAutoresizingMaskLayoutConstraints that you don't understand, refer to the documentation for the UIView property translatesAutoresizingMaskIntoConstraints) \n...\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in <UIKit/UIView.h> may also be helpful.\n\n\n\u5f53\u9047\u5230\u8fd9\u79cd\u65e5\u5fd7\u65f6\uff0c\u4e00\u822c\u7684\u505a\u6cd5\u5982\u4e0b\uff1a\n1.\u4f7f\u7528xcode ui\u8c03\u8bd5\u5de5\u5177\u6682\u505c\u7a0b\u5e8f\n2.\u5728\u4ece\u4e0a\u9762\u7684\u65e5\u5fd7\u4e2d\u627e\u5230\u76f8\u5e94\u7684\u51fa\u9519\u7684view\u7684\u5730\u5740,\u4f8b\u59820x123.\n3.\u5728xcode\u7684lldb console\u91cc\u6267\u884c\u6539view\u7684\u4e0b\u8bb0\u65b9\u6cd5\u8fdb\u884c\u6392\u67e5:\n\n- po [0x123 recursiveDescription]\n\n    \u4ee5\u6811\u5f62\u7ed3\u6784\u6253\u5370\u8be5view\u53ca\u5b50view\u7684frame\u4fe1\u606f.\n\n```\n<UIView: 0x7fd25be264a0; frame = (0 0; 320 568); autoresize = W+H; layer = <CALayer: 0x7fd25be20680>>\n   | <UIView: 0x7fd25be2adc0; frame = (92 70; 240 128); autoresize = RM+BM; layer = <CALayer: 0x7fd25be23dd0>>\n   | <_UILayoutGuide: 0x7fd25be2bf30; frame = (0 0; 0 20); hidden = YES; layer = <CALayer: 0x7fd25be206a0>>\n   | <_UILayoutGuide: 0x7fd25be2c8f0; frame = (0 568; 0 0); hidden = YES; layer = <CALayer: 0x7fd25be2ac40>>\n   | <UIView: 0x7fd25be29c20; frame = (0 548; 310 20); layer = <CALayer: 0x7fd25be0a3c0>>\n   | <UIView: 0x7fd25be2dbf0; frame = (320 548; 0 20); layer = <CALayer: 0x7fd25be2aae0>>\n```\n    \n\n- po [0x123 _autolayoutTrace]\n\n    \u6253\u5370\u8be5view\u76f8\u5173\u7684autolayout\u4fe1\u606f\uff08\u63d0\u4f9b\u5b9a\u4f4d\u7ea6\u675f\u95ee\u9898\u7684\u91cd\u8981\u4fe1\u606f\uff09\n\n```\n\u2022UIWindow:0x7fd25be26190 - AMBIGUOUS LAYOUT\n|   \u2022UIView:0x7fd25be264a0\n|   |   *UIView:0x7fd25be2adc0\n|   |   *_UILayoutGuide:0x7fd25be2bf30\n|   |   *_UILayoutGuide:0x7fd25be2c8f0\n|   |   *UIView:0x7fd25be29c20- AMBIGUOUS LAYOUT for UIView:0x7fd25be29c20.Width{id: 31}\n|   |   *UIView:0x7fd25be2dbf0- AMBIGUOUS LAYOUT for UIView:0x7fd25be2dbf0.minX{id: 30}, UIView:0x7fd25be2dbf0.Width{id: 34}\n\nLegend:\n\t* - is laid out with auto layout\n\t+ - is laid out manually, but is represented in the layout engine because translatesAutoresizingMaskIntoConstraints = YES\n\t\u2022 - layout engine host\n```\n \n- po [0x123 constraintsAffectingLayoutForAxis:0]\n\n    \u6253\u5370\u8be5view\u76f8\u5173\u7684\u6240\u6709\u7684\u6c34\u5e73\u65b9\u5411\u7684\u7ea6\u675f.\u53c2\u6570\u4f201\u7684\u8bdd\uff0c\u6253\u5370\u6240\u6709\u5782\u76f4\u65b9\u5411\u7684\u7ea6\u675f\n\n```\n<__NSArrayI 0x7fd25be21770>(\n<NSLayoutConstraint:0x7fd25be2ec20 H:|-(0)-[UIView:0x7fd25be29c20]   (Names: '|':UIView:0x7fd25be264a0 )>,\n<NSLayoutConstraint:0x7fd25be2ee10 H:[UIView:0x7fd25be29c20]-(10)-[UIView:0x7fd25be2dbf0]>,\n<NSLayoutConstraint:0x7fd25be2ee60 H:[UIView:0x7fd25be2dbf0]-(0)-|   (Names: '|':UIView:0x7fd25be264a0 )>,\n<NSAutoresizingMaskLayoutConstraint:0x7fd25bc2d470 h=-&- v=-&- 'UIView-Encapsulated-Layout-Left' H:|-(0)-[UIView:0x7fd25be264a0]   (Names: '|':UIWindow:0x7fd25be26190 )>,\n<NSLayoutConstraint:0x7fd25bc22990 'UIView-Encapsulated-Layout-Width' H:[UIView:0x7fd25be264a0(320)]>\n)\n```\n\n- po [0x123 hasAmbiguousLayout] \n  \n    \u5224\u65ad\u662f\u5426\u5b58\u5728\u6709\u6b67\u4e49\u7684\u7ea6\u675f\n\n\n\n\n##\u9644\n###1.\u4f7f\u7528VFL\u8ddf\u4e0d\u4f7f\u7528\u7684\u533a\u522b\n\nVisual Format Language\u4f7f\u7528\u7684\u5199\u6cd5:\n\n```objectivec\n[NSLayoutConstraint activateConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@\"|-40-[view1(==240)]-20-[view2(==240)]-40-|\"\n                                                                            options:0\n                                                                            metrics:0\n                                             views:NSDictionaryOfVariableBindings(view1, view2)]];\n                                                                            \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n```\n\nVisual Format Language\u672a\u4f7f\u7528\u7684\u5199\u6cd5:\n\n```objectivec\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view1\n                                  attribute:NSLayoutAttributeLeft\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:self.scrollView\n                                  attribute:NSLayoutAttributeLeft\n                                 multiplier:1.0\n                                   constant:40]];\n\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view1\n                                  attribute:NSLayoutAttributeWidth\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:nil\n                                  attribute:NSLayoutAttributeWidth\n                                 multiplier:1.0\n                                   constant:240]];\n\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view2\n                                  attribute:NSLayoutAttributeLeft\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:view1\n                                  attribute:NSLayoutAttributeRight\n                                 multiplier:1.0\n                                   constant:20]];\n\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view2\n                                  attribute:NSLayoutAttributeWidth\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:nil\n                                  attribute:NSLayoutAttributeWidth\n                                 multiplier:1.0\n                                   constant:240]];\n\n[self.scrollView addConstraint:\n     [NSLayoutConstraint constraintWithItem:view2\n                                  attribute:NSLayoutAttributeRight\n                                  relatedBy:NSLayoutRelationEqual\n                                     toItem:self.scrollView\n                                  attribute:NSLayoutAttributeRight\n                                 multiplier:1.0\n                                   constant:40]];\n```\n\n###2.\u53c2\u8003\u94fe\u63a5\nhttps://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/index.html#//apple_ref/doc/uid/TP40010853-CH7-SW1\n", "tags": ["iOS", "Objective-C", "AutoLayout"]}