{"context": " More than 1 year has passed since last update.WebGL\u3068Canvas2D\u3092\u4f75\u7528\u3067\u304d\u306a\u3044\u304b\u306a\u301c\u3068\u307c\u3093\u3084\u308a\u8003\u3048\u3066\u305f\u3089\u3001\u4ee5\u4e0b\u306eAPI\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002\n\u30fbCanvas\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\n\n\u306a\u3093\u3068\u7b2c1\u5f15\u6570\u306eimage\u306bimg\u8981\u7d20\u3001canvas\u8981\u7d20\u3001video\u8981\u7d20\u304c\u6307\u5b9a\u3067\u304d\u308b\u3068\u3063\uff01\n\u3053\u308c\u3067\u63cf\u753b\u3057\u3066\u66f4\u65b0\u3059\u308c\u3070\u3001canvas2D\u306bWebGL\u63cf\u753b\u3067\u304d\u305d\u3046\u306a\u306e\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\nWebGL\u63cf\u753b\u3092Canvas2D\u306b\u63cf\u753b\n\u30bd\u30fc\u30b9\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\u3053\u3053\u306b\u306f\u66f8\u3044\u3066\u306a\u3044\u3067\u3059\u304c\u3001\u5225\u9014WebGL\u306ecanvas\u3092getElementById\u3057\u3001\u5909\u6570canvas\u3092\u6e21\u3057\u3066\u304a\u304ddrawImage\u306e\u7b2c1\u5f15\u6570\u306b\u6307\u5b9a\u3057\u307e\u3059\n// WebGL\u306ecanvas\u3068\u306f\u5225\u306b\u30012D\u7528\u306ecanvas\u30bf\u30b0\u3092HTML\u5074\u306b\u4f5c\u3063\u3066\u53c2\u7167\u3059\u308b\nvar can_2d = document.getElementById(\"2dcanvas\");\nvar ctx_2d = can_2d.getContext(\"2d\");\n\n// WebGL\u306e\u63cf\u753b\u51e6\u7406\u5f8c\u306b\u547c\u3073\u51fa\u3059\nfunction draw_2DCanvas(){\n    // canvas\u30af\u30ea\u30a2\n    ctx_2d.clearRect(0,0, can_2d.width, can_2d.height);\n    // webgl\u306ecanvas\u3092\u6307\u5b9a\n    ctx_2d.drawImage(canvas, 0, 0);\n    // \u7e70\u308a\u8fd4\u3057\n    requestAnimationFrame(draw_2DCanvas);\n}\n\n\u3053\u308c\u3092Live2D WebGL SDK\u306b\u9069\u7528\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u5de6\u304cWebGL\u3001\u53f3\u304cCanvas2D\u3002\u3061\u3083\u3093\u3068\u6bce\u30d5\u30ec\u30fc\u30e0\u63cf\u753b\u3055\u308c\u3066\u3044\u307e\u3059\n\n\u3042\u3068\u306fWebGL\u306ecanvas\u3092CSS\u3067display:none\u3057\u3066\u6d88\u3057\u3066\u3084\u308c\u3070OK\uff01\n\ncanvas2D\u3067\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u8868\u793a\n\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u3001WebGL\u63cf\u753b\u306e\u4e0a\u306bCanvas2D\u3067\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u52a0\u3048\u3066\u307f\u307e\u3057\u305f\u3002\n\u3064\u307e\u308a\u3001\u3053\u306e\u65b9\u6cd5\u3092\u4f7f\u3048\u3070Canvas2D\u306e\u30b9\u30ad\u30eb\u3092\u6d3b\u304b\u3057\u3064\u3064\u3001WebGL\u3082\u6d3b\u7528\u3067\u304d\u307e\u3059\u306d\uff01\n\nLive2D SDK\u306eSimple\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u5143\u306b\u30ab\u30b9\u30bf\u30e0\u3057\u307e\u3057\u305f\u3002\nHTML\u5074\u306fcanvas2D\u7528\u306e\u30bf\u30b0\u30921\u884c\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\nsimple.html\n<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset=\"UTF-8\">\n            <title>Live2D Simple</title>\n        </meta>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=4.0\">\n        </meta>\n    </head>\n    <body onload=\"Simple(); draw_2DCanvas();\">\n        <canvas id=\"glcanvas\" style=\"border:dashed 1px #CCC;display:none;\"></canvas>\n       <canvas id=\"2dcanvas\" style=\"border:dashed 1px #CCC\"></canvas>\n        <div id=\"myconsole\" style=\"color:#BBB\">---- Log ----</div>\n        <!-- Live2D Library -->\n        <script src=\"lib/live2d.min.js\"></script>\n        <!-- User's Script -->\n        <script src=\"src/Simple.js\"></script>\n    </body>\n</html>\n\n\njs\u5074\u306f\u3001258\u884c\u76ee\u8fba\u308a\u304b\u3089\u306ecanvas2D\u63cf\u753b\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\u3000\u2192\u3000HTML5+Canvas\u3067\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3063\u307d\u3044\u306e\u3092\u4f5c\u3063\u3066\u307f\u308b\n\nSimple.js\nvar CANVAS_SIZE = 300;\nvar canvas;\n\n// JavaScript\u3067\u767a\u751f\u3057\u305f\u30a8\u30e9\u30fc\u3092\u53d6\u5f97\nwindow.onerror = function(msg, url, line, col, error) {\n    var errmsg = \"file:\" + url + \"<br>line:\" + line + \" \" + msg;\n    Simple.myerror(errmsg);\n}\n\nvar Simple = function() {\n    // Live2D\u30e2\u30c7\u30eb\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n    this.live2DModel = null;    \n    // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u505c\u6b62\u3059\u308b\u305f\u3081\u306eID\n    this.requestID = null;    \n    // \u30e2\u30c7\u30eb\u306e\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089 true\n    this.loadLive2DCompleted = false;\n    // \u30e2\u30c7\u30eb\u306e\u521d\u671f\u5316\u304c\u5b8c\u4e86\u3057\u305f\u3089 true\n    this.initLive2DCompleted = false;\n    // WebGL Image\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u914d\u5217\n    this.loadedImages = [];\n    // Live2D \u30e2\u30c7\u30eb\u8a2d\u5b9a\u3002\n    this.modelDef = {\n\n        \"type\":\"Live2D Model Setting\",\n        \"name\":\"haru\",\n        \"model\":\"assets/haru/haru.moc\",\n        \"textures\":[\n            \"assets/haru/haru.1024/texture_00.png\",\n            \"assets/haru/haru.1024/texture_01.png\",\n            \"assets/haru/haru.1024/texture_02.png\"\n        ]\n    };    \n    // Live2D\u306e\u521d\u671f\u5316\n    Live2D.init();    \n    // canvas\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\n    canvas = document.getElementById(\"glcanvas\");\n    canvas.width = canvas.height = CANVAS_SIZE;\n    // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u5931\u3063\u305f\u3068\u304d\n    canvas.addEventListener(\"webglcontextlost\", function(e) {\n        Simple.myerror(\"context lost\");\n        loadLive2DCompleted = false;\n        initLive2DCompleted = false;\n\n        var cancelAnimationFrame = \n            window.cancelAnimationFrame || \n            window.mozCancelAnimationFrame;\n        cancelAnimationFrame(requestID); //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u505c\u6b62\n\n        e.preventDefault(); \n    }, false);\n\n    // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u5fa9\u5143\u3055\u308c\u305f\u3068\u304d\n    canvas.addEventListener(\"webglcontextrestored\" , function(e){\n        Simple.myerror(\"webglcontext restored\");\n        Simple.initLoop(canvas); \n    }, false);\n\n    // Init and start Loop\n    Simple.initLoop(canvas);\n};\n\n/*\n* WebGL\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\u30fb\u521d\u671f\u5316\u3002\n* Live2D\u306e\u521d\u671f\u5316\u3001\u63cf\u753b\u30eb\u30fc\u30d7\u3092\u958b\u59cb\u3002\n*/\nSimple.initLoop = function(canvas/*HTML5 canvas\u30aa\u30d6\u30b8\u30a7\u30af\u30c8*/) \n{\n    //------------ WebGL\u306e\u521d\u671f\u5316 ------------\n\n    // WebGL\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n    var para = {\n        premultipliedAlpha : true,\n//        alpha : false\n    };\n    var gl = Simple.getWebGLContext(canvas, para);\n    if (!gl) {\n        Simple.myerror(\"Failed to create WebGL context.\");\n        return;\n    }\n\n    // \u63cf\u753b\u30a8\u30ea\u30a2\u3092\u767d\u3067\u30af\u30ea\u30a2\n    gl.clearColor( 0.0 , 0.0 , 0.0 , 0.0 );  \n\n    //------------ Live2D\u306e\u521d\u671f\u5316 ------------\n\n    // moc\u30d5\u30a1\u30a4\u30eb\u304b\u3089Live2D\u30e2\u30c7\u30eb\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\n    Simple.loadBytes(modelDef.model, function(buf){\n            live2DModel = Live2DModelWebGL.loadModel(buf);\n    });\n\n    // \u30c6\u30af\u30b9\u30c1\u30e3\u306e\u8aad\u307f\u8fbc\u307f\n    var loadCount = 0;\n    for(var i = 0; i < modelDef.textures.length; i++){\n        (function ( tno ){// \u5373\u6642\u95a2\u6570\u3067 i \u306e\u5024\u3092 tno \u306b\u56fa\u5b9a\u3059\u308b\uff08onerror\u7528)\n            loadedImages[tno] = new Image();\n            loadedImages[tno].src = modelDef.textures[tno];\n            loadedImages[tno].onload = function(){\n                if((++loadCount) == modelDef.textures.length) {\n                    loadLive2DCompleted = true;//\u5168\u3066\u8aad\u307f\u7d42\u308f\u3063\u305f\n                }\n            }\n            loadedImages[tno].onerror = function() { \n                Simple.myerror(\"Failed to load image : \" + modelDef.textures[tno]); \n            }\n        })( i );\n    }\n\n    //------------ \u63cf\u753b\u30eb\u30fc\u30d7 ------------    \n    (function tick() {\n        Simple.draw(gl); // 1\u56de\u5206\u63cf\u753b\n\n        var requestAnimationFrame = \n            window.requestAnimationFrame || \n            window.mozRequestAnimationFrame ||\n            window.webkitRequestAnimationFrame || \n            window.msRequestAnimationFrame;\n        requestID = requestAnimationFrame( tick , canvas );// \u4e00\u5b9a\u6642\u9593\u5f8c\u306b\u81ea\u8eab\u3092\u547c\u3073\u51fa\u3059\n    })();\n};\n\n\nSimple.draw = function(gl/*WebGL\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8*/)\n{\n    // Canvas\u3092\u30af\u30ea\u30a2\u3059\u308b\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    // Live2D\u521d\u671f\u5316\n    if( ! live2DModel || ! loadLive2DCompleted ) \n    return; //\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u4f55\u3082\u3057\u306a\u3044\u3067\u8fd4\u308b\n\n    // \u30ed\u30fc\u30c9\u5b8c\u4e86\u5f8c\u306b\u521d\u56de\u306e\u307f\u521d\u671f\u5316\u3059\u308b\n    if( ! initLive2DCompleted ){\n        initLive2DCompleted = true;\n\n        // \u753b\u50cf\u304b\u3089WebGL\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u751f\u6210\u3057\u3001\u30e2\u30c7\u30eb\u306b\u767b\u9332\n        for( var i = 0; i < loadedImages.length; i++ ){\n            //Image\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u751f\u6210\n            var texName = Simple.createTexture(gl, loadedImages[i]);\n            live2DModel.setTexture(i, texName); //\u30e2\u30c7\u30eb\u306b\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u30bb\u30c3\u30c8\n        }\n\n        // \u30c6\u30af\u30b9\u30c1\u30e3\u306e\u5143\u753b\u50cf\u306e\u53c2\u7167\u3092\u30af\u30ea\u30a2\n        loadedImages = null;\n\n        // OpenGL\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u30bb\u30c3\u30c8\n        live2DModel.setGL(gl);\n\n        // \u8868\u793a\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306e\u884c\u5217\u3092\u5b9a\u7fa9\u3059\u308b\n        var s = 2.0 / live2DModel.getCanvasWidth(); //canvas\u306e\u6a2a\u5e45\u3092-1..1\u533a\u9593\u306b\u53ce\u3081\u308b\n        var matrix4x4 = [ s,0,0,0 , 0,-s,0,0 , 0,0,1,0 , -1.0,1,0,1 ];\n        live2DModel.setMatrix(matrix4x4);\n    }\n\n    // \u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u9069\u5f53\u306b\u66f4\u65b0\n    var t = UtSystem.getTimeMSec() * 0.001 * 2 * Math.PI; //1\u79d2\u3054\u3068\u306b2\u03c0(1\u5468\u671f)\u5897\u3048\u308b\n    var cycle = 3.0; //\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u4e00\u5468\u3059\u308b\u6642\u9593(\u79d2)\n    // PARAM_ANGLE_X\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c[cycle]\u79d2\u3054\u3068\u306b-30\u304b\u308930\u307e\u3067\u5909\u5316\u3059\u308b\n    live2DModel.setParamFloat(\"PARAM_ANGLE_X\", 30 * Math.sin(t/cycle));\n\n    // Live2D\u30e2\u30c7\u30eb\u3092\u66f4\u65b0\u3057\u3066\u63cf\u753b\n    live2DModel.update(); // \u73fe\u5728\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5408\u308f\u305b\u3066\u9802\u70b9\u7b49\u3092\u8a08\u7b97\n    live2DModel.draw(); // \u63cf\u753b\n};\n\n\n/*\n* WebGL\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n*/\nSimple.getWebGLContext = function(canvas/*HTML5 canvas\u30aa\u30d6\u30b8\u30a7\u30af\u30c8*/)\n{\n    var NAMES = [ \"webgl\" , \"experimental-webgl\" , \"webkit-3d\" , \"moz-webgl\"];\n\n    var param = {\n        alpha : true,\n        premultipliedAlpha : true\n    };\n\n    for( var i = 0; i < NAMES.length; i++ ){\n            try{\n                    var ctx = canvas.getContext( NAMES[i], param );\n                    if( ctx ) return ctx;\n            } \n            catch(e){}\n    }\n    return null;\n};\n\n\n/*\n* Image\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u751f\u6210\n*/\nSimple.createTexture = function(gl/*WebGL\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8*/, image/*WebGL Image*/) \n{\n    var texture = gl.createTexture(); //\u30c6\u30af\u30b9\u30c1\u30e3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\n    if ( !texture ){\n        mylog(\"Failed to generate gl texture name.\");\n        return -1;\n    }\n\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);  //image\u3092\u4e0a\u4e0b\u53cd\u8ee2\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);\n\n    gl.generateMipmap(gl.TEXTURE_2D);\n    gl.bindTexture( gl.TEXTURE_2D , null );\n\n    return texture;\n};\n\n\n/*\n* \u30d5\u30a1\u30a4\u30eb\u3092\u30d0\u30a4\u30c8\u914d\u5217\u3068\u3057\u3066\u30ed\u30fc\u30c9\u3059\u308b\n*/\nSimple.loadBytes = function(path , callback)\n{\n    var request = new XMLHttpRequest();\n    request.open(\"GET\", path , true);\n    request.responseType = \"arraybuffer\";\n    request.onload = function(){\n            switch( request.status ){\n            case 200:\n                callback( request.response );\n                break;\n            default:\n                Simple.myerror( \"Failed to load (\" + request.status + \") : \" + path );\n                break;\n            }\n    }\n\n    request.send(null); \n};\n\n\n/*\n* \u753b\u9762\u30ed\u30b0\u3092\u51fa\u529b\n*/\nSimple.mylog = function(msg/*string*/)\n{\n    var myconsole = document.getElementById(\"myconsole\");\n    myconsole.innerHTML = myconsole.innerHTML + \"<br>\" + msg;\n    console.log(msg);\n};\n\n/*\n* \u753b\u9762\u30a8\u30e9\u30fc\u3092\u51fa\u529b\n*/\nSimple.myerror = function(msg/*string*/)\n{\n    console.error(msg);\n    Simple.mylog( \"<span style='color:red'>\" + msg + \"</span>\");\n};\n\n/*\n * Canvas2D\u63cf\u753b \n * http://www.webopixel.net/javascript/1003.html\n */\nvar can_2d = document.getElementById(\"2dcanvas\"); \ncan_2d.width = can_2d.height = CANVAS_SIZE;\nvar ctx_2d = can_2d.getContext(\"2d\");\n\nvar Particle = function(scale, color, speed) {\n    this.scale = scale; //\u5927\u304d\u3055\n    this.color = color; //\u8272\n    this.speed = speed; //\u901f\u5ea6\n    this.position = {   // \u4f4d\u7f6e\n        x: 100,\n        y: 100\n    };\n};\n\nParticle.prototype.draw = function() {\n    ctx_2d.beginPath();\n    ctx_2d.arc(this.position.x, this.position.y, this.scale, 0, 2*Math.PI, false);\n    ctx_2d.fillStyle = this.color;\n    ctx_2d.fill();\n};\n\nvar density = 40;  //\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u306e\u5bc6\u5ea6\nvar particles = []; //\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3092\u307e\u3068\u3081\u308b\u914d\u5217\nvar colors = ['#D0A000', '#6DD0A5', '#E084C5'];\n\nfor (var i=0; i<density; i++) {\n    var color = colors[~~(Math.random()*3)];\n    var scale = ~~(Math.random()*(8-3))+3;\n    particles[i] = new Particle(scale, color, scale/2);\n    particles[i].position.x = Math.random()*can_2d.width;\n    particles[i].position.y = Math.random()*can_2d.height;\n    particles[i].draw();\n}\n\nfunction draw_2DCanvas(){\n    // canvas\u30af\u30ea\u30a2\n    ctx_2d.clearRect(0,0, can_2d.width, can_2d.height);\n    // webgl\u306ecanvas\u3092\u6307\u5b9a\n    ctx_2d.drawImage(canvas, 0, 0);\n    // \u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3092\u63cf\u753b\u3059\u308b\n    draw_Particle();\n    // \u7e70\u308a\u8fd4\u3057\n    requestAnimationFrame(draw_2DCanvas);\n}\n\nfunction draw_Particle() {\n    for (var i=0; i<density; i++) {\n        particles[i].position.x += particles[i].speed;\n        particles[i].draw();\n        if (particles[i].position.x > can_2d.width) particles[i].position.x = -30;\n    }\n}\n\n\n\nCSS\u3067\u63cf\u753b\u9806\u3092\u5236\u5fa1\u3059\u308b\n\u3061\u306a\u307f\u306b\u4e0a\u8a18\u3084\u308a\u65b9\u3067\u306a\u304f\u3066\u3082\u3001Canvas\u3092CSS\u3067\u91cd\u306d\u3066\u3084\u308b\u65b9\u6cd5\u3082\u3042\u308a\u307e\u3059\u3002\nWebGL\u306ecanvas3\u679a\u91cd\u306d\u305f\u4f8b\u3067\u3059\u304c\u3001z-index\u3068absolute\u3092\u4f7f\u3063\u3066\u3044\u3051\u307e\u3059\u3002\n\u4ee5\u524d\u4f5c\u3063\u305f\u3082\u306e\u3067\u3059\u304c\u3001\u3053\u3061\u3089\u304c\u53c2\u8003\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3000\u2192\u3000WebGL\u306ecanvas3\u679a\u91cd\u306d\u305f\u30b5\u30f3\u30d7\u30eb\n\nsimple.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Test</title>\n    <style>\n    .waku{\n        position: relative;\n        margin:0 auto;\n        width:500px;\n        height:auto;\n    }\n    #frontcanvas{\n        position:absolute;\n        z-index: 50;\n        left:0px;\n        top:0px;\n    }\n    #glcanvas{\n    position:absolute;\n    z-index: 1;\n    left:0px;\n    top:0px;\n    }\n    #Live2Dcanvas{\n        position:absolute;\n        z-index: 10;\n        left:0px;\n        top:0px;\n    }\n    </style>\n</head>\n<body>\n<div class=\"waku\">\n   <canvas id=\"frontcanvas\"></canvas>\n   <canvas id=\"Live2Dcanvas\"></canvas>\n   <canvas id=\"glcanvas\"></canvas>\n</div>\n</body>\n</html>\n\n\nWebGL\u306ejs\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u3069\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u63cf\u753b\u3059\u308b\u306e\u306f\u624b\u9593\u306a\u306e\u3067\u3001\u3053\u308c\u3067\u7c21\u5358\u306b\u7d44\u307f\u5408\u308f\u305b\u3089\u308c\u307e\u3059\uff01\nWebGL\u3068Canvas2D\u3092\u4f75\u7528\u3067\u304d\u306a\u3044\u304b\u306a\u301c\u3068\u307c\u3093\u3084\u308a\u8003\u3048\u3066\u305f\u3089\u3001\u4ee5\u4e0b\u306eAPI\u3092\u898b\u3064\u3051\u307e\u3057\u305f\u3002\n\n[\u30fbCanvas\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](http://www.htmq.com/canvas/drawImage_s.shtml)\n![sc001.png](https://qiita-image-store.s3.amazonaws.com/0/15028/625866d8-1488-57fa-7d42-53719939b67b.png)\n\n\u306a\u3093\u3068\u7b2c1\u5f15\u6570\u306eimage\u306bimg\u8981\u7d20\u3001canvas\u8981\u7d20\u3001video\u8981\u7d20\u304c\u6307\u5b9a\u3067\u304d\u308b\u3068\u3063\uff01\n\u3053\u308c\u3067\u63cf\u753b\u3057\u3066\u66f4\u65b0\u3059\u308c\u3070\u3001canvas2D\u306bWebGL\u63cf\u753b\u3067\u304d\u305d\u3046\u306a\u306e\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n# WebGL\u63cf\u753b\u3092Canvas2D\u306b\u63cf\u753b\n\u30bd\u30fc\u30b9\u306f\u3053\u3093\u306a\u611f\u3058\u3067\u3059\u3002\n\u3053\u3053\u306b\u306f\u66f8\u3044\u3066\u306a\u3044\u3067\u3059\u304c\u3001\u5225\u9014WebGL\u306ecanvas\u3092getElementById\u3057\u3001\u5909\u6570canvas\u3092\u6e21\u3057\u3066\u304a\u304ddrawImage\u306e\u7b2c1\u5f15\u6570\u306b\u6307\u5b9a\u3057\u307e\u3059\n\n```js\n// WebGL\u306ecanvas\u3068\u306f\u5225\u306b\u30012D\u7528\u306ecanvas\u30bf\u30b0\u3092HTML\u5074\u306b\u4f5c\u3063\u3066\u53c2\u7167\u3059\u308b\nvar can_2d = document.getElementById(\"2dcanvas\");\nvar ctx_2d = can_2d.getContext(\"2d\");\n\n// WebGL\u306e\u63cf\u753b\u51e6\u7406\u5f8c\u306b\u547c\u3073\u51fa\u3059\nfunction draw_2DCanvas(){\n    // canvas\u30af\u30ea\u30a2\n    ctx_2d.clearRect(0,0, can_2d.width, can_2d.height);\n    // webgl\u306ecanvas\u3092\u6307\u5b9a\n    ctx_2d.drawImage(canvas, 0, 0);\n    // \u7e70\u308a\u8fd4\u3057\n    requestAnimationFrame(draw_2DCanvas);\n}\n```\n\n\u3053\u308c\u3092Live2D WebGL SDK\u306b\u9069\u7528\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\u5de6\u304cWebGL\u3001\u53f3\u304cCanvas2D\u3002\u3061\u3083\u3093\u3068\u6bce\u30d5\u30ec\u30fc\u30e0\u63cf\u753b\u3055\u308c\u3066\u3044\u307e\u3059\n![sc002.gif](https://qiita-image-store.s3.amazonaws.com/0/15028/73122c00-d0b8-5180-6a00-2ad005f35f7d.gif)\n\u3042\u3068\u306fWebGL\u306ecanvas\u3092CSS\u3067display:none\u3057\u3066\u6d88\u3057\u3066\u3084\u308c\u3070OK\uff01\n\n# canvas2D\u3067\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u8868\u793a\n\u305b\u3063\u304b\u304f\u306a\u306e\u3067\u3001WebGL\u63cf\u753b\u306e\u4e0a\u306bCanvas2D\u3067\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u52a0\u3048\u3066\u307f\u307e\u3057\u305f\u3002\n\u3064\u307e\u308a\u3001\u3053\u306e\u65b9\u6cd5\u3092\u4f7f\u3048\u3070Canvas2D\u306e\u30b9\u30ad\u30eb\u3092\u6d3b\u304b\u3057\u3064\u3064\u3001WebGL\u3082\u6d3b\u7528\u3067\u304d\u307e\u3059\u306d\uff01\n![sc003.gif](https://qiita-image-store.s3.amazonaws.com/0/15028/d5a76aea-ad44-47d9-9017-f04affd10029.gif)\n\nLive2D SDK\u306eSimple\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u5143\u306b\u30ab\u30b9\u30bf\u30e0\u3057\u307e\u3057\u305f\u3002\nHTML\u5074\u306fcanvas2D\u7528\u306e\u30bf\u30b0\u30921\u884c\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\n\n```html:simple.html\n<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset=\"UTF-8\">\n            <title>Live2D Simple</title>\n        </meta>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=4.0\">\n        </meta>\n    </head>\n    <body onload=\"Simple(); draw_2DCanvas();\">\n        <canvas id=\"glcanvas\" style=\"border:dashed 1px #CCC;display:none;\"></canvas>\n       <canvas id=\"2dcanvas\" style=\"border:dashed 1px #CCC\"></canvas>\n        <div id=\"myconsole\" style=\"color:#BBB\">---- Log ----</div>\n        <!-- Live2D Library -->\n        <script src=\"lib/live2d.min.js\"></script>\n        <!-- User's Script -->\n        <script src=\"src/Simple.js\"></script>\n    </body>\n</html>\n```\n\njs\u5074\u306f\u3001258\u884c\u76ee\u8fba\u308a\u304b\u3089\u306ecanvas2D\u63cf\u753b\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\n\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306b\u3055\u305b\u3066\u3044\u305f\u3060\u304d\u307e\u3057\u305f\u3002\n\u3000\u2192\u3000[HTML5+Canvas\u3067\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3063\u307d\u3044\u306e\u3092\u4f5c\u3063\u3066\u307f\u308b](http://www.webopixel.net/javascript/1003.html)\n\n```js:Simple.js\nvar CANVAS_SIZE = 300;\nvar canvas;\n\n// JavaScript\u3067\u767a\u751f\u3057\u305f\u30a8\u30e9\u30fc\u3092\u53d6\u5f97\nwindow.onerror = function(msg, url, line, col, error) {\n    var errmsg = \"file:\" + url + \"<br>line:\" + line + \" \" + msg;\n    Simple.myerror(errmsg);\n}\n\nvar Simple = function() {\n    // Live2D\u30e2\u30c7\u30eb\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n    this.live2DModel = null;    \n    // \u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u505c\u6b62\u3059\u308b\u305f\u3081\u306eID\n    this.requestID = null;    \n    // \u30e2\u30c7\u30eb\u306e\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089 true\n    this.loadLive2DCompleted = false;\n    // \u30e2\u30c7\u30eb\u306e\u521d\u671f\u5316\u304c\u5b8c\u4e86\u3057\u305f\u3089 true\n    this.initLive2DCompleted = false;\n    // WebGL Image\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u914d\u5217\n    this.loadedImages = [];\n    // Live2D \u30e2\u30c7\u30eb\u8a2d\u5b9a\u3002\n    this.modelDef = {\n        \n        \"type\":\"Live2D Model Setting\",\n        \"name\":\"haru\",\n        \"model\":\"assets/haru/haru.moc\",\n        \"textures\":[\n            \"assets/haru/haru.1024/texture_00.png\",\n            \"assets/haru/haru.1024/texture_01.png\",\n            \"assets/haru/haru.1024/texture_02.png\"\n        ]\n    };    \n    // Live2D\u306e\u521d\u671f\u5316\n    Live2D.init();    \n    // canvas\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\n    canvas = document.getElementById(\"glcanvas\");\n    canvas.width = canvas.height = CANVAS_SIZE;\n    // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u5931\u3063\u305f\u3068\u304d\n    canvas.addEventListener(\"webglcontextlost\", function(e) {\n        Simple.myerror(\"context lost\");\n        loadLive2DCompleted = false;\n        initLive2DCompleted = false;\n\n        var cancelAnimationFrame = \n            window.cancelAnimationFrame || \n            window.mozCancelAnimationFrame;\n        cancelAnimationFrame(requestID); //\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u505c\u6b62\n\n        e.preventDefault(); \n    }, false);\n    \n    // \u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304c\u5fa9\u5143\u3055\u308c\u305f\u3068\u304d\n    canvas.addEventListener(\"webglcontextrestored\" , function(e){\n        Simple.myerror(\"webglcontext restored\");\n        Simple.initLoop(canvas); \n    }, false);\n\n    // Init and start Loop\n    Simple.initLoop(canvas);\n};\n\n/*\n* WebGL\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\u30fb\u521d\u671f\u5316\u3002\n* Live2D\u306e\u521d\u671f\u5316\u3001\u63cf\u753b\u30eb\u30fc\u30d7\u3092\u958b\u59cb\u3002\n*/\nSimple.initLoop = function(canvas/*HTML5 canvas\u30aa\u30d6\u30b8\u30a7\u30af\u30c8*/) \n{\n    //------------ WebGL\u306e\u521d\u671f\u5316 ------------\n    \n    // WebGL\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n    var para = {\n        premultipliedAlpha : true,\n//        alpha : false\n    };\n    var gl = Simple.getWebGLContext(canvas, para);\n    if (!gl) {\n        Simple.myerror(\"Failed to create WebGL context.\");\n        return;\n    }\n\n    // \u63cf\u753b\u30a8\u30ea\u30a2\u3092\u767d\u3067\u30af\u30ea\u30a2\n    gl.clearColor( 0.0 , 0.0 , 0.0 , 0.0 );\t \n\n    //------------ Live2D\u306e\u521d\u671f\u5316 ------------\n    \n    // moc\u30d5\u30a1\u30a4\u30eb\u304b\u3089Live2D\u30e2\u30c7\u30eb\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\n    Simple.loadBytes(modelDef.model, function(buf){\n            live2DModel = Live2DModelWebGL.loadModel(buf);\n    });\n\n    // \u30c6\u30af\u30b9\u30c1\u30e3\u306e\u8aad\u307f\u8fbc\u307f\n    var loadCount = 0;\n    for(var i = 0; i < modelDef.textures.length; i++){\n        (function ( tno ){// \u5373\u6642\u95a2\u6570\u3067 i \u306e\u5024\u3092 tno \u306b\u56fa\u5b9a\u3059\u308b\uff08onerror\u7528)\n            loadedImages[tno] = new Image();\n            loadedImages[tno].src = modelDef.textures[tno];\n            loadedImages[tno].onload = function(){\n                if((++loadCount) == modelDef.textures.length) {\n                    loadLive2DCompleted = true;//\u5168\u3066\u8aad\u307f\u7d42\u308f\u3063\u305f\n                }\n            }\n            loadedImages[tno].onerror = function() { \n                Simple.myerror(\"Failed to load image : \" + modelDef.textures[tno]); \n            }\n        })( i );\n    }\n    \n    //------------ \u63cf\u753b\u30eb\u30fc\u30d7 ------------    \n    (function tick() {\n        Simple.draw(gl); // 1\u56de\u5206\u63cf\u753b\n        \n        var requestAnimationFrame = \n            window.requestAnimationFrame || \n            window.mozRequestAnimationFrame ||\n            window.webkitRequestAnimationFrame || \n            window.msRequestAnimationFrame;\n\t\trequestID = requestAnimationFrame( tick , canvas );// \u4e00\u5b9a\u6642\u9593\u5f8c\u306b\u81ea\u8eab\u3092\u547c\u3073\u51fa\u3059\n    })();\n};\n\n\nSimple.draw = function(gl/*WebGL\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8*/)\n{\n    // Canvas\u3092\u30af\u30ea\u30a2\u3059\u308b\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    // Live2D\u521d\u671f\u5316\n    if( ! live2DModel || ! loadLive2DCompleted ) \n    return; //\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u4f55\u3082\u3057\u306a\u3044\u3067\u8fd4\u308b\n\n    // \u30ed\u30fc\u30c9\u5b8c\u4e86\u5f8c\u306b\u521d\u56de\u306e\u307f\u521d\u671f\u5316\u3059\u308b\n    if( ! initLive2DCompleted ){\n        initLive2DCompleted = true;\n\n        // \u753b\u50cf\u304b\u3089WebGL\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u751f\u6210\u3057\u3001\u30e2\u30c7\u30eb\u306b\u767b\u9332\n        for( var i = 0; i < loadedImages.length; i++ ){\n            //Image\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u751f\u6210\n            var texName = Simple.createTexture(gl, loadedImages[i]);\n            live2DModel.setTexture(i, texName); //\u30e2\u30c7\u30eb\u306b\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u30bb\u30c3\u30c8\n        }\n\n        // \u30c6\u30af\u30b9\u30c1\u30e3\u306e\u5143\u753b\u50cf\u306e\u53c2\u7167\u3092\u30af\u30ea\u30a2\n        loadedImages = null;\n\n        // OpenGL\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u30bb\u30c3\u30c8\n        live2DModel.setGL(gl);\n\n        // \u8868\u793a\u4f4d\u7f6e\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306e\u884c\u5217\u3092\u5b9a\u7fa9\u3059\u308b\n        var s = 2.0 / live2DModel.getCanvasWidth(); //canvas\u306e\u6a2a\u5e45\u3092-1..1\u533a\u9593\u306b\u53ce\u3081\u308b\n        var matrix4x4 = [ s,0,0,0 , 0,-s,0,0 , 0,0,1,0 , -1.0,1,0,1 ];\n        live2DModel.setMatrix(matrix4x4);\n    }\n    \n\t// \u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u9069\u5f53\u306b\u66f4\u65b0\n    var t = UtSystem.getTimeMSec() * 0.001 * 2 * Math.PI; //1\u79d2\u3054\u3068\u306b2\u03c0(1\u5468\u671f)\u5897\u3048\u308b\n    var cycle = 3.0; //\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u4e00\u5468\u3059\u308b\u6642\u9593(\u79d2)\n    // PARAM_ANGLE_X\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c[cycle]\u79d2\u3054\u3068\u306b-30\u304b\u308930\u307e\u3067\u5909\u5316\u3059\u308b\n    live2DModel.setParamFloat(\"PARAM_ANGLE_X\", 30 * Math.sin(t/cycle));\n\n    // Live2D\u30e2\u30c7\u30eb\u3092\u66f4\u65b0\u3057\u3066\u63cf\u753b\n    live2DModel.update(); // \u73fe\u5728\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5408\u308f\u305b\u3066\u9802\u70b9\u7b49\u3092\u8a08\u7b97\n    live2DModel.draw();\t// \u63cf\u753b\n};\n\n\n/*\n* WebGL\u306e\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\n*/\nSimple.getWebGLContext = function(canvas/*HTML5 canvas\u30aa\u30d6\u30b8\u30a7\u30af\u30c8*/)\n{\n    var NAMES = [ \"webgl\" , \"experimental-webgl\" , \"webkit-3d\" , \"moz-webgl\"];\n\t\n    var param = {\n        alpha : true,\n        premultipliedAlpha : true\n    };\n    \n    for( var i = 0; i < NAMES.length; i++ ){\n            try{\n                    var ctx = canvas.getContext( NAMES[i], param );\n                    if( ctx ) return ctx;\n            } \n            catch(e){}\n    }\n    return null;\n};\n\n\n/*\n* Image\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u751f\u6210\n*/\nSimple.createTexture = function(gl/*WebGL\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8*/, image/*WebGL Image*/) \n{\n    var texture = gl.createTexture(); //\u30c6\u30af\u30b9\u30c1\u30e3\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\n    if ( !texture ){\n        mylog(\"Failed to generate gl texture name.\");\n        return -1;\n    }\n    \n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\t//image\u3092\u4e0a\u4e0b\u53cd\u8ee2\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);\n        \n    gl.generateMipmap(gl.TEXTURE_2D);\n    gl.bindTexture( gl.TEXTURE_2D , null );\n    \n    return texture;\n};\n\n\n/*\n* \u30d5\u30a1\u30a4\u30eb\u3092\u30d0\u30a4\u30c8\u914d\u5217\u3068\u3057\u3066\u30ed\u30fc\u30c9\u3059\u308b\n*/\nSimple.loadBytes = function(path , callback)\n{\n    var request = new XMLHttpRequest();\n    request.open(\"GET\", path , true);\n    request.responseType = \"arraybuffer\";\n    request.onload = function(){\n            switch( request.status ){\n            case 200:\n                callback( request.response );\n                break;\n            default:\n                Simple.myerror( \"Failed to load (\" + request.status + \") : \" + path );\n                break;\n            }\n    }\n    \n    request.send(null); \n};\n\n\n/*\n* \u753b\u9762\u30ed\u30b0\u3092\u51fa\u529b\n*/\nSimple.mylog = function(msg/*string*/)\n{\n    var myconsole = document.getElementById(\"myconsole\");\n    myconsole.innerHTML = myconsole.innerHTML + \"<br>\" + msg;\n    console.log(msg);\n};\n\n/*\n* \u753b\u9762\u30a8\u30e9\u30fc\u3092\u51fa\u529b\n*/\nSimple.myerror = function(msg/*string*/)\n{\n    console.error(msg);\n    Simple.mylog( \"<span style='color:red'>\" + msg + \"</span>\");\n};\n\n/*\n * Canvas2D\u63cf\u753b \n * http://www.webopixel.net/javascript/1003.html\n */\nvar can_2d = document.getElementById(\"2dcanvas\"); \ncan_2d.width = can_2d.height = CANVAS_SIZE;\nvar ctx_2d = can_2d.getContext(\"2d\");\n\nvar Particle = function(scale, color, speed) {\n    this.scale = scale; //\u5927\u304d\u3055\n    this.color = color; //\u8272\n    this.speed = speed; //\u901f\u5ea6\n    this.position = {   // \u4f4d\u7f6e\n        x: 100,\n        y: 100\n    };\n};\n\nParticle.prototype.draw = function() {\n    ctx_2d.beginPath();\n    ctx_2d.arc(this.position.x, this.position.y, this.scale, 0, 2*Math.PI, false);\n    ctx_2d.fillStyle = this.color;\n    ctx_2d.fill();\n};\n\nvar density = 40;  //\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u306e\u5bc6\u5ea6\nvar particles = []; //\u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3092\u307e\u3068\u3081\u308b\u914d\u5217\nvar colors = ['#D0A000', '#6DD0A5', '#E084C5'];\n\nfor (var i=0; i<density; i++) {\n    var color = colors[~~(Math.random()*3)];\n    var scale = ~~(Math.random()*(8-3))+3;\n    particles[i] = new Particle(scale, color, scale/2);\n    particles[i].position.x = Math.random()*can_2d.width;\n    particles[i].position.y = Math.random()*can_2d.height;\n    particles[i].draw();\n}\n\nfunction draw_2DCanvas(){\n    // canvas\u30af\u30ea\u30a2\n    ctx_2d.clearRect(0,0, can_2d.width, can_2d.height);\n    // webgl\u306ecanvas\u3092\u6307\u5b9a\n    ctx_2d.drawImage(canvas, 0, 0);\n    // \u30d1\u30fc\u30c6\u30a3\u30af\u30eb\u3092\u63cf\u753b\u3059\u308b\n    draw_Particle();\n    // \u7e70\u308a\u8fd4\u3057\n    requestAnimationFrame(draw_2DCanvas);\n}\n\nfunction draw_Particle() {\n    for (var i=0; i<density; i++) {\n        particles[i].position.x += particles[i].speed;\n        particles[i].draw();\n        if (particles[i].position.x > can_2d.width) particles[i].position.x = -30;\n    }\n}\n```\n\n# CSS\u3067\u63cf\u753b\u9806\u3092\u5236\u5fa1\u3059\u308b\n\u3061\u306a\u307f\u306b\u4e0a\u8a18\u3084\u308a\u65b9\u3067\u306a\u304f\u3066\u3082\u3001Canvas\u3092CSS\u3067\u91cd\u306d\u3066\u3084\u308b\u65b9\u6cd5\u3082\u3042\u308a\u307e\u3059\u3002\nWebGL\u306ecanvas3\u679a\u91cd\u306d\u305f\u4f8b\u3067\u3059\u304c\u3001z-index\u3068absolute\u3092\u4f7f\u3063\u3066\u3044\u3051\u307e\u3059\u3002\n\n\u4ee5\u524d\u4f5c\u3063\u305f\u3082\u306e\u3067\u3059\u304c\u3001\u3053\u3061\u3089\u304c\u53c2\u8003\u306b\u306a\u308b\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3000\u2192\u3000[WebGL\u306ecanvas3\u679a\u91cd\u306d\u305f\u30b5\u30f3\u30d7\u30eb](http://simplecode.jp/live2d_sdk_webgl_demo/sample/simple_canvas3/simple.html)\n\n```html:simple.html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n\t<meta charset=\"UTF-8\">\n\t<title>Test</title>\n\t<style>\n    .waku{\n        position: relative;\n        margin:0 auto;\n        width:500px;\n        height:auto;\n    }\n    #frontcanvas{\n        position:absolute;\n        z-index: 50;\n        left:0px;\n        top:0px;\n    }\n    #glcanvas{\n    position:absolute;\n    z-index: 1;\n    left:0px;\n    top:0px;\n    }\n    #Live2Dcanvas{\n        position:absolute;\n        z-index: 10;\n        left:0px;\n        top:0px;\n    }\n\t</style>\n</head>\n<body>\n<div class=\"waku\">\n   <canvas id=\"frontcanvas\"></canvas>\n   <canvas id=\"Live2Dcanvas\"></canvas>\n   <canvas id=\"glcanvas\"></canvas>\n</div>\n</body>\n</html>\n```\n\nWebGL\u306ejs\u30e9\u30a4\u30d6\u30e9\u30ea\u306a\u3069\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u63cf\u753b\u3059\u308b\u306e\u306f\u624b\u9593\u306a\u306e\u3067\u3001\u3053\u308c\u3067\u7c21\u5358\u306b\u7d44\u307f\u5408\u308f\u305b\u3089\u308c\u307e\u3059\uff01\n", "tags": ["Live2D", "WebGL", "JavaScript", "HTML"]}