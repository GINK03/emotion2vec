{"context": "\n\nRaspbian\n\n2016-05-27-raspbian-jessie.img\n2016-05-27-raspbian-jessie-lite.img\n\n\n/boot/cmdline.txt\n\n\nmicroSD\u306b\u30a4\u30e1\u30fc\u30b8\u3092\u713c\u3044\u305f\u76f4\u5f8c:dwc_otg.lpm_enable=0 console=serial0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait quiet init=/usr/lib/raspi-config/init_resize.sh\n\u4e00\u5ea6\u3067\u3082\u8d77\u52d5\u3057\u305f\u5f8c: dwc_otg.lpm_enable=0 console=serial0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait\n\u5dee\u5206:quiet init=/usr/lib/raspi-config/init_resize.sh\n\n\n/usr/lib/raspi-config/init_resize.sh\n...\nmain () {\n\n...\n\nif ! parted -m $ROOT_DEV u s resizepart $ROOT_PART_NUM $TARGET_END; then\n    FAIL_REASON=\"Root partition resize failed\"\n    return 1\n  fi\n\n  return 0\n}\n\nmount -t proc proc /proc\nmount -t sysfs sys /sys\n\nmount /boot\nsed -i 's/ quiet init=.*$//' /boot/cmdline.txt\nmount /boot -o remount,ro\nsync\n\necho 1 > /proc/sys/kernel/sysrq\n\n...\n\nif main; then\n  whiptail --infobox \"Resized root filesystem. Rebooting in 5 seconds...\" 20 60\n  sleep 5\nelse\n...\n\n\n\n\nsed\u3067/boot/cmdline.txt\u30d5\u30a1\u30a4\u30eb\u306e\u3001quiet \u304b\u3089\u6587\u672b\u307e\u3067\u524a\u9664\u3057\u3066\u308b\nmain()\u3067\u3001parted\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\n\n\n## Raspbian\n- 2016-05-27-raspbian-jessie.img\n- 2016-05-27-raspbian-jessie-lite.img\n\n## `/boot/cmdline.txt`\n\n- microSD\u306b\u30a4\u30e1\u30fc\u30b8\u3092\u713c\u3044\u305f\u76f4\u5f8c:`dwc_otg.lpm_enable=0 console=serial0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait quiet init=/usr/lib/raspi-config/init_resize.sh`\n\n- \u4e00\u5ea6\u3067\u3082\u8d77\u52d5\u3057\u305f\u5f8c: `dwc_otg.lpm_enable=0 console=serial0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait`\n\n\n- <font color='red'>**\u5dee\u5206**</font>:` quiet init=/usr/lib/raspi-config/init_resize.sh`\n\n\n```bash:/usr/lib/raspi-config/init_resize.sh\n...\nmain () {\n\n...\n\nif ! parted -m $ROOT_DEV u s resizepart $ROOT_PART_NUM $TARGET_END; then\n    FAIL_REASON=\"Root partition resize failed\"\n    return 1\n  fi\n\n  return 0\n}\n\nmount -t proc proc /proc\nmount -t sysfs sys /sys\n\nmount /boot\nsed -i 's/ quiet init=.*$//' /boot/cmdline.txt\nmount /boot -o remount,ro\nsync\n\necho 1 > /proc/sys/kernel/sysrq\n\n...\n\nif main; then\n  whiptail --infobox \"Resized root filesystem. Rebooting in 5 seconds...\" 20 60\n  sleep 5\nelse\n...\n```\n- `sed`\u3067`/boot/cmdline.txt`\u30d5\u30a1\u30a4\u30eb\u306e\u3001quiet \u304b\u3089\u6587\u672b\u307e\u3067\u524a\u9664\u3057\u3066\u308b\n- main()\u3067\u3001`parted`\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\n\n\n", "tags": ["RaspberryPi", "raspbian"]}