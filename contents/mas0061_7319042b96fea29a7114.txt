{"context": "2016/6/7 \u8ffd\u8a18 \uff1a Maven Central\u3060\u3051\u3067\u306f\u306a\u304f\u3001\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u7528\u306bSonatype\u306e\u8a3c\u660e\u66f8\u3082\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u8ffd\u52a0\u3057\u305f\u3002\nNexus 2.x\u3067\u306e\u304a\u8a71\u30023.x\u306b\u306a\u3063\u3066\u3082\u540c\u3058\u304b\u306f\u8a66\u3057\u3066\u3044\u306a\u3044\u3002\nProxy\u306b\u3088\u3063\u3066\u3001\u4fe1\u983c\u3059\u308bSSL\u8a3c\u660e\u66f8\u304c\u66f8\u304d\u63db\u3048\u3089\u308c\u308b\uff1f\u3089\u3057\u304f\u3001Maven Central\u304b\u3089\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u306a\u304f\u306a\u308b\u3002\nWindows\u306bNexus\u304c\u5165\u3063\u3066\u3044\u3066\u3001\u4ed6\u306e\u30c9\u30e1\u30a4\u30f3\u3067\u8a8d\u8a3c\u3059\u308bProxy\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u3057\u304b\u8d77\u304d\u306a\u3044\u30ec\u30a2\u30b1\u30fc\u30b9\u3002\n\u4ee5\u4e0b\u3001\u3053\u3093\u306a\u72b6\u6cc1\u3060\u3068\u4eee\u5b9a\u3059\u308b\u3002\n\n\u30c9\u30e1\u30a4\u30f3 : HOGE-DOMAIN\n\u30e6\u30fc\u30b6 : hoge-user\n\u30d1\u30b9\u30ef\u30fc\u30c9 : hogehoge\nProxy\u30db\u30b9\u30c8 : 192.168.99.99\nProxy\u30dd\u30fc\u30c8 : 8080\n\n\nMaven Central\u306e\u8a3c\u660e\u66f8\u3092\u767b\u9332\n\n\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3059\u308b\nJRE\u4ed8\u5c5e\u306ekeytool\u3092\u4f7f\u3063\u3066\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3059\u308b\n> keytool -J-Dhttps.proxyHost=192.168.99.99 -J-Dhttps.proxyPort=8080 -J-Dhttps.proxyUser=HOGE-DOMAIN/hoge-user -J-Dhttps.proxyPassword=hogehoge -printcert -rfc -sslserver repo1.maven.org:443\n\n\u3092\u767a\u884c\u3059\u308b\u3068\u3001\n-----BEGIN CERTIFICATE-----\n\u7565\n-----END CERTIFICATE-----\n\n\u304c\u53d6\u5f97\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u308c\u3092central.pem\u306e\u3088\u3046\u306a\u540d\u524d\u3067\u4fdd\u5b58\u3059\u308b\u3002\n\n\u4fe1\u983c\u3059\u308b\u8a3c\u660e\u66f8\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\n\u540c\u3058\u304f\u3001keytool\u3092\u4f7f\u3063\u3066\u3001\u59cb\u3081\u304b\u3089\u5165\u3063\u3066\u3044\u308b\u8a3c\u660e\u66f8\u30ea\u30b9\u30c8\uff1f\u306b\u8ffd\u52a0\u3059\u308b\u3002\n> keytool -importcert -keystore %JAVA_HOME%\\lib\\security\\cacerts -file central.pem -new repo1.maven.org\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067\u3001 changeit \u3092\u5165\u529b\u3057\u3001\u4fe1\u983c\u3059\u308b\u304b\uff1f\u306e\u8cea\u554f\u306b \u306f\u3044 \u3068\u7b54\u3048\u308b\u3002\n\nSonatype\u306e\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u7528\u306e\u8a3c\u660e\u66f8\u3092\u767b\u9332\n\n\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3059\u308b\n> keytool -J-Dhttps.proxyHost=192.168.99.99 -J-Dhttps.proxyPort=8080 -J-Dhttps.proxyUser=HOGE-DOMAIN/hoge-user -J-Dhttps.proxyPassword=hogehoge -printcert -rfc -sslserver rhc.sonatype.com:443\n\n\u3092\u767a\u884c\u3059\u308b\u3068\u3001\n-----BEGIN CERTIFICATE-----\n\u7565\n-----END CERTIFICATE-----\n\n\u304c\u53d6\u5f97\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u308c\u3092sonatype.pem\u306e\u3088\u3046\u306a\u540d\u524d\u3067\u4fdd\u5b58\u3059\u308b\u3002\n\n\u4fe1\u983c\u3059\u308b\u8a3c\u660e\u66f8\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\n\u540c\u3058\u304f\u3001keytool\u3092\u4f7f\u3063\u3066\u3001\u59cb\u3081\u304b\u3089\u5165\u3063\u3066\u3044\u308b\u8a3c\u660e\u66f8\u30ea\u30b9\u30c8\uff1f\u306b\u8ffd\u52a0\u3059\u308b\u3002\n> keytool -importcert -keystore %JAVA_HOME%\\lib\\security\\cacerts -file sonatype.pem -alias rhc.sonatype.com\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067\u3001 changeit \u3092\u5165\u529b\u3057\u3001\u4fe1\u983c\u3059\u308b\u304b\uff1f\u306e\u8cea\u554f\u306b \u306f\u3044 \u3068\u7b54\u3048\u308b\u3002\n\nNexus\u306bProxy\u8a2d\u5b9a\n\n\u8a3c\u660e\u66f8\u304c\u8ffd\u52a0\u3067\u304d\u305f\u3089\u3001Nexus\u3092\u8d77\u52d5\u3059\u308b\n\u7ba1\u7406\u8005\u3067\u30ed\u30b0\u30a4\u30f3\n\u5de6\u30e1\u30cb\u30e5\u30fc\u306e Administration -> Server\u3092\u9078\u629e\n\nDefault HTTP Proxy Settings\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\n\nProxy Host : 192.168.99.99\nProxy Port : 8080\nAuthentication : \u30c1\u30a7\u30c3\u30af\nUsername : hoge-user\nPassword : hogehoge\nNT LAN Manager Domain : HOGE-DOMAIN\n\n\n\n\n\u53c2\u8003\n\nFix https repository blocking by PKIX path building failed - Sonatype Support\nHow to trust the SSL certificate issued by the HTTP proxy server in Nexus - Sonatype Support\nNexus Repository Remote Health Check Analysis fails with SSL errors - Sonatype Support\nSSL Certificate Guide - Sonatype Support\n24.1. Managing Outbound SSL Certificates\n\n\n**2016/6/7 \u8ffd\u8a18** \uff1a Maven Central\u3060\u3051\u3067\u306f\u306a\u304f\u3001\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u7528\u306bSonatype\u306e\u8a3c\u660e\u66f8\u3082\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u8ffd\u52a0\u3057\u305f\u3002\n\nNexus 2.x\u3067\u306e\u304a\u8a71\u30023.x\u306b\u306a\u3063\u3066\u3082\u540c\u3058\u304b\u306f\u8a66\u3057\u3066\u3044\u306a\u3044\u3002\n\nProxy\u306b\u3088\u3063\u3066\u3001\u4fe1\u983c\u3059\u308bSSL\u8a3c\u660e\u66f8\u304c\u66f8\u304d\u63db\u3048\u3089\u308c\u308b\uff1f\u3089\u3057\u304f\u3001Maven Central\u304b\u3089\u30c7\u30fc\u30bf\u304c\u53d6\u308c\u306a\u304f\u306a\u308b\u3002\nWindows\u306bNexus\u304c\u5165\u3063\u3066\u3044\u3066\u3001\u4ed6\u306e\u30c9\u30e1\u30a4\u30f3\u3067\u8a8d\u8a3c\u3059\u308bProxy\u3092\u4f7f\u3063\u3066\u3044\u308b\u5834\u5408\u3057\u304b\u8d77\u304d\u306a\u3044\u30ec\u30a2\u30b1\u30fc\u30b9\u3002\n\n\u4ee5\u4e0b\u3001\u3053\u3093\u306a\u72b6\u6cc1\u3060\u3068\u4eee\u5b9a\u3059\u308b\u3002\n\n* \u30c9\u30e1\u30a4\u30f3 : HOGE-DOMAIN\n* \u30e6\u30fc\u30b6 : hoge-user\n* \u30d1\u30b9\u30ef\u30fc\u30c9 : hogehoge\n* Proxy\u30db\u30b9\u30c8 : 192.168.99.99\n* Proxy\u30dd\u30fc\u30c8 : 8080\n\n## Maven Central\u306e\u8a3c\u660e\u66f8\u3092\u767b\u9332\n### \u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3059\u308b\nJRE\u4ed8\u5c5e\u306ekeytool\u3092\u4f7f\u3063\u3066\u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3059\u308b\n\n```\n> keytool -J-Dhttps.proxyHost=192.168.99.99 -J-Dhttps.proxyPort=8080 -J-Dhttps.proxyUser=HOGE-DOMAIN/hoge-user -J-Dhttps.proxyPassword=hogehoge -printcert -rfc -sslserver repo1.maven.org:443\n```\n\n\u3092\u767a\u884c\u3059\u308b\u3068\u3001\n\n```\n-----BEGIN CERTIFICATE-----\n\u7565\n-----END CERTIFICATE-----\n```\n\n\u304c\u53d6\u5f97\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u308c\u3092central.pem\u306e\u3088\u3046\u306a\u540d\u524d\u3067\u4fdd\u5b58\u3059\u308b\u3002\n\n### \u4fe1\u983c\u3059\u308b\u8a3c\u660e\u66f8\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\n\u540c\u3058\u304f\u3001keytool\u3092\u4f7f\u3063\u3066\u3001\u59cb\u3081\u304b\u3089\u5165\u3063\u3066\u3044\u308b\u8a3c\u660e\u66f8\u30ea\u30b9\u30c8\uff1f\u306b\u8ffd\u52a0\u3059\u308b\u3002\n\n```\n> keytool -importcert -keystore %JAVA_HOME%\\lib\\security\\cacerts -file central.pem -new repo1.maven.org\n```\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067\u3001 **changeit** \u3092\u5165\u529b\u3057\u3001\u4fe1\u983c\u3059\u308b\u304b\uff1f\u306e\u8cea\u554f\u306b **\u306f\u3044** \u3068\u7b54\u3048\u308b\u3002\n\n## Sonatype\u306e\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u7528\u306e\u8a3c\u660e\u66f8\u3092\u767b\u9332\n### \u8a3c\u660e\u66f8\u3092\u53d6\u5f97\u3059\u308b\n```\n> keytool -J-Dhttps.proxyHost=192.168.99.99 -J-Dhttps.proxyPort=8080 -J-Dhttps.proxyUser=HOGE-DOMAIN/hoge-user -J-Dhttps.proxyPassword=hogehoge -printcert -rfc -sslserver rhc.sonatype.com:443\n```\n\n\u3092\u767a\u884c\u3059\u308b\u3068\u3001\n\n```\n-----BEGIN CERTIFICATE-----\n\u7565\n-----END CERTIFICATE-----\n```\n\n\u304c\u53d6\u5f97\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u308c\u3092sonatype.pem\u306e\u3088\u3046\u306a\u540d\u524d\u3067\u4fdd\u5b58\u3059\u308b\u3002\n\n### \u4fe1\u983c\u3059\u308b\u8a3c\u660e\u66f8\u3068\u3057\u3066\u8ffd\u52a0\u3059\u308b\n\u540c\u3058\u304f\u3001keytool\u3092\u4f7f\u3063\u3066\u3001\u59cb\u3081\u304b\u3089\u5165\u3063\u3066\u3044\u308b\u8a3c\u660e\u66f8\u30ea\u30b9\u30c8\uff1f\u306b\u8ffd\u52a0\u3059\u308b\u3002\n\n```\n> keytool -importcert -keystore %JAVA_HOME%\\lib\\security\\cacerts -file sonatype.pem -alias rhc.sonatype.com\n```\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u308b\u306e\u3067\u3001 **changeit** \u3092\u5165\u529b\u3057\u3001\u4fe1\u983c\u3059\u308b\u304b\uff1f\u306e\u8cea\u554f\u306b **\u306f\u3044** \u3068\u7b54\u3048\u308b\u3002\n\n## Nexus\u306bProxy\u8a2d\u5b9a\n* \u8a3c\u660e\u66f8\u304c\u8ffd\u52a0\u3067\u304d\u305f\u3089\u3001Nexus\u3092\u8d77\u52d5\u3059\u308b\n* \u7ba1\u7406\u8005\u3067\u30ed\u30b0\u30a4\u30f3\n* \u5de6\u30e1\u30cb\u30e5\u30fc\u306e Administration -> Server\u3092\u9078\u629e\n* Default HTTP Proxy Settings\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\n\n    * Proxy Host : 192.168.99.99\n    * Proxy Port : 8080\n    * Authentication : \u30c1\u30a7\u30c3\u30af\n    * Username : hoge-user\n    * Password : hogehoge\n    * NT LAN Manager Domain : HOGE-DOMAIN\n\n## \u53c2\u8003\n* [Fix https repository blocking by PKIX path building failed - Sonatype Support](https://support.sonatype.com/hc/en-us/articles/213465038-Fix-https-repository-blocking-by-PKIX-path-building-failed)\n* [How to trust the SSL certificate issued by the HTTP proxy server in Nexus - Sonatype Support](https://support.sonatype.com/hc/en-us/articles/213464948-How-to-trust-the-SSL-certificate-issued-by-the-HTTP-proxy-server-in-Nexus)\n* [Nexus Repository Remote Health Check Analysis fails with SSL errors - Sonatype Support](https://support.sonatype.com/hc/en-us/articles/213464898-Nexus-Repository-Remote-Health-Check-Analysis-fails-with-SSL-errors)\n* [SSL Certificate Guide - Sonatype Support](https://support.sonatype.com/hc/en-us/articles/213465768-SSL-Certificate-Guide#common-keytool-commands)\n* [24.1. Managing Outbound SSL Certificates\n](https://books.sonatype.com/nexus-book/reference/ssl-sect-client-cert.html)\n", "tags": ["Nexus"]}