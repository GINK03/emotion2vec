{"context": " More than 1 year has passed since last update.Google BigQuery\u306f\u666e\u901a\u306e\u691c\u7d22\u3082\u305d\u3053\u305d\u3053\u901f\u3044\u3051\u3069\u3001\u5927\u898f\u6a21\u306a\u30c6\u30fc\u30d6\u30eb\u540c\u58eb\u306eJOIN\u3082\u540c\u69d8\u306b\u901f\u3044\u3002\u305d\u306e\u5b9f\u529b\u3092\u304a\u91d1\u3092\u304b\u3051\u305a\u306b\u8ab0\u3067\u30825\u5206\u3067\u8a66\u305b\u308b\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u307f\u305f\u3002\n\nBigQuery\u3092\u521d\u3081\u3066\u4f7f\u3046\nBigQuery\u306b\u306f\u7121\u511f\u67a0\u304c\u3042\u3063\u3066\u3001Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3055\u3048\u3042\u308c\u3070\u8ab0\u3067\u3082\u6bce\u67081TB\u5206\u307e\u3067\u30bf\u30c0\u3067\u30b5\u30f3\u30d7\u30eb\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30af\u30a8\u30ea\u3092\u8a66\u305b\u308b\uff08\u305f\u3060\u3057\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u3084\u30c7\u30fc\u30bf\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u306f\u3067\u304d\u306a\u3044\uff09\u3002\u521d\u3081\u3066\u4f7f\u3046\u307e\u3067\u306e\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3001\u6240\u8981\u6642\u9593\u306f1\u301c2\u5206\u304f\u3089\u3044\u3002\n\nGoogle Developer Console\u3067\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\nGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u3067Google Developer Console\u3092\u958b\u304d\u3001Create Project\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3068ID\u306f\u305d\u306e\u307e\u307e\u3067Create\u3092\u30af\u30ea\u30c3\u30af\u300230\u79d2\u307b\u3069\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\u3064\u3065\u3044\u3066\u3001\u5de6\u5074\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u304b\u3089Big Data - BigQuery\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001BigQuery\u30d6\u30e9\u30a6\u30b6\u30c4\u30fc\u30eb\u3092\u958b\u304f\u3002\n\n\n\u30af\u30a8\u30ea\u3092\u6295\u3052\u3066\u307f\u308b\n\u5de6\u5074\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u304b\u3089puglicdata:samples\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u3059\u3050\u306b\u4f7f\u3048\u308b\u30b5\u30f3\u30d7\u30eb\u7528\u306e\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\u304c\u51fa\u3066\u304f\u308b\u3002\u4f8b\u3048\u3070wikipedia\u30c6\u30fc\u30d6\u30eb\u306b\u306f\u3001Wikipedia\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u66f4\u65b0\u5c65\u6b74\u3092\u8a18\u9332\u3057\u305f3\u5104\u4ef6\u306e\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u3044\u308b\u3002\n\n\u307e\u305a\u306f\u5c0f\u624b\u8abf\u3079\u306b\u3001title\u3067\u6b63\u898f\u8868\u73fe\u30de\u30c3\u30c1\u3092\u8a66\u3057\u3066\u307f\u3088\u3046\u3002COMPOSE QUERY\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001New Query\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u4ee5\u4e0b\u306eSQL\u3092\u5165\u529b\u3057\u3066RUN QUERY\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\nSELECT title FROM [publicdata:samples.wikipedia] \nWHERE REGEXP_MATCH(title, r'.*Query.*')\nLIMIT 100\n\n\u3059\u308b\u3068\u6570\u79d2\u307b\u3069\u3057\u3066\u3001\u3053\u3093\u306a\u7d50\u679c\u304c\u8fd4\u3063\u3066\u304f\u308b\u306f\u305a\u3002\n\n3\u5104\u4ef6\u306e\u6b63\u898f\u8868\u73fe\u30de\u30c3\u30c1\u306f3\u301c4\u79d2\u304f\u3089\u3044\u3067\u8fd4\u3063\u3066\u304f\u308b\u3002\u8a66\u3057\u306b1000\u5104\u4ef6\u306e\u30c6\u30fc\u30d6\u30eb\u3067\u6b63\u898f\u8868\u73fe\u30de\u30c3\u30c1\u3092\u5b9f\u884c\u3057\u3066\u307f\u305f\u3089\u3001\u3055\u3059\u304c\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u306620\u79d2\u304f\u3089\u3044\u5f85\u305f\u3055\u308c\u305f\u3002\n\n12\u5104\u00d78.5\u5104\u306eJOIN\u3092\u8a66\u3059\n\u3067\u306f\u3001\u5927\u898f\u6a21JOIN\u3092\u8a66\u3057\u3066\u307f\u3088\u3046\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8868\u793a\u3055\u308c\u308b\u30b5\u30f3\u30d7\u30eb\u30c6\u30fc\u30d6\u30eb\u306b\u306f\u305d\u308c\u307b\u3069\u5927\u304d\u306a\u30c7\u30fc\u30bf\u304c\u306a\u3044\u304c\u3001\u30d6\u30e9\u30a6\u30b6\u30c4\u30fc\u30eb\u4e0a\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u4ed6\u306b\u3082\u3044\u304f\u3064\u304b\u5927\u304d\u306a\u30b5\u30f3\u30d7\u30eb\u30c6\u30fc\u30d6\u30eb\u304c\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001\u8ab0\u3067\u3082\u30af\u30a8\u30ea\u53ef\u80fd\u3060\u3002\u4eca\u56de\u306f\u3001\u305d\u3046\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u3067\u3042\u308bWiki1B\u3068Wiki10B\u3092\u4f7f\u3063\u3066\u307f\u308b\u3002\u3069\u3061\u3089\u3082Wikipedia\u306e\u30da\u30fc\u30b8\u30d3\u30e5\u30fc\u6570\u304c\u8a18\u9332\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u3067\u3001\u305d\u308c\u305e\u308c12\u5104\u884c\u3068100\u5104\u884c\u3092\u4fdd\u6301\u3057\u3066\u3044\u308b\u3002\nCOMPOSE QUERY\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u4ee5\u4e0b\u306eSQL\u3092\u5165\u529b\u3001RUN QUERY\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u307f\u3088\u3046\u3002\nSELECT COUNT(a.title)\nFROM [helixdata2:benchmark.Wiki1B] as a\nJOIN EACH (\n  SELECT title, SUM(views) as view\n  FROM [helixdata2:benchmark.Wiki10B]\n  GROUP EACH BY title\n) as b\nON a.title = b.title;\n\n1\u5206\u307b\u3069\u5f85\u3063\u3066\u3044\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7d50\u679c\u304c\u8fd4\u3063\u3066\u304f\u308b\u3002\n\n\u3053\u306erows\u30ab\u30e9\u30e0\u306e\u6570\u5024\u306f\u3001JOIN\u306b\u3088\u3063\u306612\u5104\u884c\u304c\u751f\u6210\u3055\u308c\u305f\u3053\u3068\u3092\u8868\u3057\u3066\u3044\u308b\u3002\u307e\u305f\u6240\u8981\u6642\u9593\u3068\u51e6\u7406\u30c7\u30fc\u30bf\u91cf\u306f\u53f3\u4e0a\u306b\u8868\u793a\u3055\u308c\u308b\u3002\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\u3001330GB\u306e\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f58.2s\u3067\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u305f\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\u3061\u306a\u307f\u306b\u3001\u3053\u306e\u30af\u30a8\u30ea\u30923\u56de\u3082\u5b9f\u884c\u3059\u308c\u30701\u304b\u6708\u5206\u306e\u7121\u511f\u67a0\u3092\u4f7f\u3044\u304d\u3063\u3066\u3057\u307e\u3044\u300c\u7121\u511f\u30af\u30a9\u30fc\u30bf\u4f7f\u3044\u304d\u3063\u305f\u3088\uff01\u300d\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046\u3002\u306a\u306e\u3067\u3001\u3082\u3063\u3068\u3044\u308d\u3044\u308dBigQuery\u3092\u8a66\u3057\u305f\u3044\u3068\u3044\u3046\u65b9\u306f\u3001\u4e0a\u8a18\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u306f1\u56de\u3060\u3051\u306b\u7559\u3081\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3059\u308b\u3002\n\n12\u5104\u00d78.5\u5104\u306eJOIN\u306f1\u5206\u3067\u7d42\u4e86\u30011\u56de\u304a\u3088\u305d42\u5186\n\u73fe\u5728\u306eBigQuery\u306e\u4fa1\u683c\u8a2d\u5b9a\u3067\u306e\u30af\u30a8\u30ea\u306e\u30b3\u30b9\u30c8\u306f$5/TB\u306a\u306e\u3067\u3001\u6709\u511f\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u540c\u3058\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3068\u304a\u304a\u3088\u305d1\u56de170\u5186\u304b\u304b\u308b\u8a08\u7b97\u3060\u3002\u305f\u3060\u3057\u3001\u5b9f\u969b\u306f\u3082\u3063\u3068\u5b89\u304f\u306a\u308b\u3002\u3053\u306e\u4f8b\u3067\u306f\u30c6\u30fc\u30d6\u30eb\u4fdd\u5b58\u306e\u3067\u304d\u306a\u3044\u7121\u511f\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f7f\u3063\u305f\u305f\u3081\u3001JOIN\u76f8\u624b\u306e8.5\u5104\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u3042\u3089\u304b\u3058\u3081\u4f5c\u6210\u3057\u3066\u304a\u304f\u3053\u3068\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u3002\u305d\u3053\u3067\u3001\u4ee5\u4e0b\u306e\u30b5\u30d6\u30af\u30a8\u30ea\u3092\u5148\u306b\u5b9f\u884c\u3057\u3066\u3001100\u5104\u884c\u306e\u30c6\u30fc\u30d6\u30eb\u304b\u3089GROUP BY title\u30678.5\u5104\u884c\u306etitle\u30de\u30b9\u30bf\u30fc\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u308b\u3002\nSELECT title, SUM(views) as view\nFROM [helixdata2:benchmark.Wiki10B]\nGROUP EACH BY title\n\n\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u51e6\u7406\u304c\u30b3\u30b9\u30c8\u306e\u5927\u534a\u3092\u5360\u3081\u3066\u3044\u308b\u306e\u3067\u3001\u6709\u511f\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3042\u308c\u3070title\u30de\u30b9\u30bf\u30fc\u30c6\u30fc\u30d6\u30eb\u3092\u4e8b\u524d\u306b\u4f5c\u6210\u3057\u3066\u304a\u3051\u308b\u3002\u4ee5\u4e0b\u306e\u69d8\u306aJOIN\u306e\u307f\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u7d50\u679c\u3067\u751f\u3058\u308b12\u5104\u884c\u3092\u65b0\u3057\u3044\u30c6\u30fc\u30d6\u30eb\u306b\u4fdd\u5b58\u3067\u304d\u308b\u3002\nSELECT a.title, a.views, b.views\nFROM [helixdata2:benchmark.Wiki1B] as a\nJOIN EACH [your-project:your-dataset.wiki_titles_850M] as b\nON a.title = b.title;\n\n\u3053\u306e\u5834\u5408\u3001\u30c6\u30fc\u30d6\u30eb\u4fdd\u5b58\u3092\u542b\u3081\u3066\u304a\u3088\u305d60\u79d2\u3067\u51e6\u7406\u306f\u5b8c\u4e86\u3057\u3001\u51e6\u7406\u30c7\u30fc\u30bf\u91cf\u306f80.8GB\u3001\u30b3\u30b9\u30c8\u306f42\u5186\u307b\u3069\u306b\u53ce\u307e\u308b\u3002\n\n100\u5104\u00d78.5\u5104\u306f140\u79d2\u30011\u56de\u304a\u3088\u305d206\u5186\n\u3053\u306e\u3084\u308a\u65b9\u3067\u3001\u4eca\u5ea6\u306f100\u5104\u884c\u00d78.5\u5104\u884c\u306eJOIN\u3092\u8a66\u3057\u3066\u307f\u305f\u3002\u4e0a\u8a18\u30af\u30a8\u30ea\u306eWiki1B\u30c6\u30fc\u30d6\u30eb\u3092Wiki10B\u306b\u7f6e\u304d\u63db\u3048\u308b\u3060\u3051\u3067\u3042\u308b\u3002\n\n\uff08\u306a\u305c\u304b\u65e5\u672c\u8a9e\u30bf\u30a4\u30c8\u30eb\u306e\u30c7\u30fc\u30bf\u304c\u4e0a\u4f4d\u306b...\uff09\n\u7d50\u679c\u306f\u3001\u51e6\u7406\u30c7\u30fc\u30bf\u91cf407GB\u3001\u6240\u8981\u6642\u9593\u306f140.6\u79d2\u3001\u30b3\u30b9\u30c8\u306f206\u5186\u3067\u3042\u3063\u305f\u3002\u306a\u304a\u3001BigQuery\u3067\u306f\u30c6\u30fc\u30d6\u30eb\u4fdd\u5b58\u3092\u884c\u3046\u3068\u30b9\u30c8\u30ec\u30fc\u30b8\u30b3\u30b9\u30c8\u304c\u767a\u751f\u3059\u308b\u304c\u3001\u4f8b\u3048\u3070\u4eca\u56de\u306e\u691c\u8a3c\u3067\u4f7f\u3063\u305f\u30b5\u30f3\u30d7\u30eb\u30c6\u30fc\u30d6\u30eb\u30921\u304b\u6708\u4fdd\u6301\u3057\u3066\u304a\u3044\u305f\u5834\u5408\u306e\u30b3\u30b9\u30c8\u306f\u3001\n\n100\u5104\u4ef6\u30c6\u30fc\u30d6\u30eb: 693GB\n8.5\u5104\u4ef6\u30c6\u30fc\u30d6\u30eb: 34.3GB\n100\u5104\u4ef6\u7d50\u679c\u30c6\u30fc\u30d6\u30eb: 452GB\n\u5408\u8a08: 1.2TB\n\u30b9\u30c8\u30ec\u30fc\u30b8\u30b3\u30b9\u30c8\uff1a1.2TB x 0.026/GB/month = $31.2\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001100\u5104\u4ef6\u30c6\u30fc\u30d6\u30eb\u30922\u3064\u305a\u3063\u3068\u653e\u7f6e\u3057\u3066\u304a\u3044\u3066\u30821\u304b\u6708\u306b3200\u5186\u7a0b\u5ea6\u306e\u51fa\u8cbb\u3067\u3042\u308b\u3002\n\nHive\u3067\u6570\u5341\u5206\u2192BigQuery\u3067\u6570\u5341\u79d2\u304c\u30af\u30e9\u30a6\u30c9\u306e\u5b9f\u529b\n100\u5104\u00d78.5\u5104\u306eJOIN\u304c\u304a\u3088\u305d140\u79d2\u3001BigQuery\u306f\u5927\u898f\u6a21JOIN\u3082\u305d\u3053\u305d\u3053\u901f\u3044\u3002\u5927\u3056\u3063\u3071\u306b\u6bd4\u8f03\u3059\u308c\u3070\u3001Hadoop/Hive\u3067\u6570\u5341\u5206\u304b\u304b\u308b\u898f\u6a21\u306eJOIN\u304cBigQuery\u3067\u306f\u6570\u5341\u79d2\u3067\u7d42\u308f\u308b\u3002\u3053\u3046\u3057\u305fBigQuery\u306e\u6570\u30b1\u30bf\u9055\u3044\u306e\u901f\u3055\u306b\u3064\u3044\u3066\u3001BigQuery\u672c\u306e\u8aad\u66f8\u4f1a\u3092\u4e3b\u50ac\u3059\u308b@hakobera\u3055\u3093\u304c\u3053\u3093\u306a\u5206\u6790\u3092\u3057\u3066\u3044\u305f\u3002\nBigQuery \u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306f\u3059\u3054\u304f\u30b7\u30f3\u30d7\u30eb\u306a\u5206\u5272\u7d71\u6cbb\u51e6\u7406\u3067\u3059\u3002\u901f\u3044\u306e\u306f\u3001\u305d\u308c\u3092\u3059\u3054\u3044\u53f0\u6570\u306e\u30b5\u30fc\u30d0\u30fc\u3068\u9ad8\u901f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u884c\u3046\u304b\u3089\u3002\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u308f\u304b\u3063\u3066\u3082\u3001\u5b9f\u884c\u74b0\u5883\u304c\u69cb\u7bc9\u3067\u304d\u306a\u3044\u306e\u3067\u4ed6\u8005\u306e\u8ffd\u968f\u3092\u8a31\u3055\u306a\u3044\u5b8c\u5168\u306a\u308b\u529b\u62bc\u3057\u30b5\u30fc\u30d3\u30b9\u3067\u3059 \n\nFrom https://twitter.com/hakobera/status/504612035833778177\n\u6570\u5343\u53f0\u306e\u30b5\u30fc\u30d0\u30fc\u3068\u6570\u4e07\u53f0\u306e\u30c7\u30a3\u30b9\u30af\u3092\u7121\u511f\u30e6\u30fc\u30b6\u30fc\u306e1\u3064\u306e\u30af\u30a8\u30ea\u306e\u305f\u3081\u306b\u56de\u305b\u308b\u5b8c\u5168\u306a\u308b\u529b\u62bc\u3057\u30b5\u30fc\u30d3\u30b9\u3002\u3053\u308c\u306fGoogle\u691c\u7d22\u304b\u3089YouTube\u307e\u3067\u3059\u3079\u3066\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u81a8\u5927\u306a\u6570\u306e\u30b5\u30fc\u30d0\u30fc\u4e0a\u306b\u8584\u304f\u5e83\u304f\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u3044\u308bGoogle\u306a\u3089\u3067\u306f\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3060\uff08\u3044\u308f\u3086\u308bDatacenter as a Computer\uff09\u3002\u6280\u8853\u7684\u306b\u306f\u5b9f\u306f\u308f\u308a\u306b\u30b7\u30f3\u30d7\u30eb\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3042\u3063\u3066\u3082\u3001\u3053\u306e\u898f\u6a21\u3067\u306e\u5b9f\u73fe\u306f\u5b9f\u904b\u7528\u4f53\u5236\u3084\u30d3\u30b8\u30cd\u30b9\u898f\u6a21\u304c\u4f34\u3063\u3066\u3044\u306a\u3044\u3068\u4e0d\u53ef\u80fd\u3067\u3001\u3053\u3046\u3044\u3046\u306e\u304c\u672c\u5f53\u306e\u610f\u5473\u3067\u306e\u30af\u30e9\u30a6\u30c9\u3067\u3042\u308b\u3068\u601d\u3046\u3002 #\u30de\n\n\u88dc\u8db3\uff1a\u5927\u898f\u6a21JOIN\u306b\u306fJOIN EACH\u3092\u4ed8\u3051\u308b\u3079\u3057\n\u3068\u3053\u308d\u3067\u3001\u3053\u306e\u4f8b\u306e\u3088\u3046\u306a\u5927\u304d\u306a\u30c6\u30fc\u30d6\u30eb\u540c\u58eb\u306eJOIN\u3067\u306f\u3001\u901a\u5e38\u306eJOIN\u6307\u5b9a\u3067\u306f\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3046\u3002\u306a\u305c\u306a\u3089\u3001JOIN\u3092\u6307\u5b9a\u3059\u308b\u3068\u691c\u7d22\u3092\u5b9f\u884c\u3059\u308b\u65701000\u53f0\u306e\u30b5\u30fc\u30d0\u30fc\u306bJOIN\u5148\u30c6\u30fc\u30d6\u30eb\u3092\u30d6\u30ed\u30fc\u30c9\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u30cf\u30c3\u30b7\u30e5\u30b8\u30e7\u30a4\u30f3\u3059\u308bBroadcast JOIN\u304c\u5b9f\u884c\u3055\u308c\u308b\u304b\u3089\u3060\u3002\n\nBigQuery\u306b\u304a\u3051\u308bBroadcast JOIN / From Google BigQuery Analytics\n\u3053\u306e\u5834\u5408\u3001JOIN\u5148\u30c6\u30fc\u30d6\u30eb\u306f\u5727\u7e2e\u5f8c8MB\u4ee5\u4e0b\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u3053\u306e\u30b5\u30a4\u30ba\u306b\u53ce\u307e\u3089\u306a\u3044\u5834\u5408\u306f\u3001\u4ee3\u308f\u308a\u306bJOIN EACH\u6307\u5b9a\u3092\u884c\u3046\u3002\u3059\u308b\u3068\u3001Hadoop\u3068\u540c\u69d8\u306eshuffler\u304c\u5c55\u958b\u3055\u308c\u3066\u5927\u898f\u6a21\u30c7\u30fc\u30bf\u306e\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u306b\u3088\u308b\u30b7\u30e3\u30c3\u30d5\u30eb\u51e6\u7406\u304c\u8d70\u308b\u3002\n\nBigQuery\u306b\u304a\u3051\u308bShuffle JOIN / From Google BigQuery Analytics\n\u3053\u306e\u30b7\u30e3\u30c3\u30d5\u30eb\u51e6\u7406\u306e\u305f\u3081\u306b\u30af\u30a8\u30ea\u5b9f\u884c\u6642\u9593\u306f\u4f38\u3073\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u57fa\u672c\u306f\u901a\u5e38\u306eJOIN\u3092\u4f7f\u3044\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3089JOIN EACH\u3092\u8a66\u3059\u3001\u3068\u3044\u3046\u4f7f\u3044\u5206\u3051\u306b\u306a\u308b\u3002\n\u306a\u304a\u3001GROUP BY\u306b\u3082\u540c\u69d8\u306b\u901a\u5e38\u306eGROUP BY\u3068\u30b7\u30e3\u30c3\u30d5\u30eb\u7248GROUP EACH BY\u306e2\u7a2e\u985e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002\u901a\u5e38GROUP BY\u306f\u5404\u30ce\u30fc\u30c9\u3067\u30aa\u30f3\u30e1\u30e2\u30ea\u51e6\u7406\u3055\u308c\u308b\u306e\u3067\u3001\u5bfe\u8c61\u30ab\u30e9\u30e0\u306e\u30ab\u30fc\u30c7\u30a3\u30ca\u30ea\u30c6\u30a3\u304c\u3042\u307e\u308a\u306b\u5927\u304d\u304f\u30ce\u30fc\u30c9\u306e\u30e1\u30e2\u30ea\u5185\u306b\u53ce\u307e\u3089\u306a\u3044\u5834\u5408\u306f\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3046\u3002\u3053\u306e\u5834\u5408\u3082EACH\u3092\u4ed8\u3051\u308b\u3068\u30b7\u30e3\u30c3\u30d5\u30eb\u51e6\u7406\u306b\u3088\u308bGROUP BY\u304c\u8d70\u308a\u30a8\u30e9\u30fc\u767a\u751f\u3092\u56de\u907f\u3067\u304d\u308b\u3002\n\nDisclaimer \u3053\u306e\u8a18\u4e8b\u306f\u500b\u4eba\u7684\u306a\u3082\u306e\u3067\u3059\uff61\u3053\u3053\u3067\u8ff0\u3079\u3089\u308c\u3066\u3044\u308b\u3053\u3068\u306f\u79c1\u306e\u500b\u4eba\u7684\u306a\u610f\u898b\u306b\u57fa\u3065\u304f\u3082\u306e\u3067\u3042\u308a\uff64\u79c1\u306e\u96c7\u7528\u8005\u306b\u306f\u95a2\u4fc2\u306f\u3042\u308a\u307e\u305b\u3093\uff61\n\nGoogle BigQuery\u306f[\u666e\u901a\u306e\u691c\u7d22\u3082\u305d\u3053\u305d\u3053\u901f\u3044](http://qiita.com/kazunori279/items/10ac0066ac9b0b5aaaf3)\u3051\u3069\u3001\u5927\u898f\u6a21\u306a\u30c6\u30fc\u30d6\u30eb\u540c\u58eb\u306eJOIN\u3082\u540c\u69d8\u306b\u901f\u3044\u3002\u305d\u306e\u5b9f\u529b\u3092\u304a\u91d1\u3092\u304b\u3051\u305a\u306b\u8ab0\u3067\u30825\u5206\u3067\u8a66\u305b\u308b\u624b\u9806\u3092\u307e\u3068\u3081\u3066\u307f\u305f\u3002\n\n# BigQuery\u3092\u521d\u3081\u3066\u4f7f\u3046\n\nBigQuery\u306b\u306f\u7121\u511f\u67a0\u304c\u3042\u3063\u3066\u3001Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3055\u3048\u3042\u308c\u3070\u8ab0\u3067\u3082[\u6bce\u67081TB\u5206\u307e\u3067](https://developers.google.com/bigquery/pricing#queries)\u30bf\u30c0\u3067\u30b5\u30f3\u30d7\u30eb\u30c6\u30fc\u30d6\u30eb\u306b\u5bfe\u3059\u308b\u30af\u30a8\u30ea\u3092\u8a66\u305b\u308b\uff08\u305f\u3060\u3057\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u3084\u30c7\u30fc\u30bf\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u306f\u3067\u304d\u306a\u3044\uff09\u3002\u521d\u3081\u3066\u4f7f\u3046\u307e\u3067\u306e\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3001\u6240\u8981\u6642\u9593\u306f1\u301c2\u5206\u304f\u3089\u3044\u3002\n\n## Google Developer Console\u3067\u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\nGoogle\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u3067[Google Developer Console](https://console.developers.google.com/)\u3092\u958b\u304d\u3001`Create Project`\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3002\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3068ID\u306f\u305d\u306e\u307e\u307e\u3067`Create`\u3092\u30af\u30ea\u30c3\u30af\u300230\u79d2\u307b\u3069\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u4f5c\u6210\u3055\u308c\u308b\u3002\u3064\u3065\u3044\u3066\u3001\u5de6\u5074\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u304b\u3089`Big Data` - `BigQuery`\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001BigQuery\u30d6\u30e9\u30a6\u30b6\u30c4\u30fc\u30eb\u3092\u958b\u304f\u3002\n\n![kobito.1409236235.879308.png](https://qiita-image-store.s3.amazonaws.com/0/38290/a2cb8721-b94e-20c4-2b78-1b0cc2fa0865.png \"kobito.1409236235.879308.png\")\n\n## \u30af\u30a8\u30ea\u3092\u6295\u3052\u3066\u307f\u308b\n\n\u5de6\u5074\u306e\u30ca\u30d3\u30b2\u30fc\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u304b\u3089`puglicdata:samples`\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u3059\u3050\u306b\u4f7f\u3048\u308b\u30b5\u30f3\u30d7\u30eb\u7528\u306e\u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\u304c\u51fa\u3066\u304f\u308b\u3002\u4f8b\u3048\u3070`wikipedia`\u30c6\u30fc\u30d6\u30eb\u306b\u306f\u3001Wikipedia\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u66f4\u65b0\u5c65\u6b74\u3092\u8a18\u9332\u3057\u305f3\u5104\u4ef6\u306e\u30c7\u30fc\u30bf\u304c\u5165\u3063\u3066\u3044\u308b\u3002\n\n![kobito.1409236515.211443.png](https://qiita-image-store.s3.amazonaws.com/0/38290/a9c02e81-c6a6-a99d-09f7-f000a84f1f78.png \"kobito.1409236515.211443.png\")\n\n\n\u307e\u305a\u306f\u5c0f\u624b\u8abf\u3079\u306b\u3001`title`\u3067\u6b63\u898f\u8868\u73fe\u30de\u30c3\u30c1\u3092\u8a66\u3057\u3066\u307f\u3088\u3046\u3002`COMPOSE QUERY`\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001`New Query`\u30d5\u30a3\u30fc\u30eb\u30c9\u306b\u4ee5\u4e0b\u306eSQL\u3092\u5165\u529b\u3057\u3066`RUN QUERY`\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3002\n\n```\nSELECT title FROM [publicdata:samples.wikipedia] \nWHERE REGEXP_MATCH(title, r'.*Query.*')\nLIMIT 100\n```\n\n\u3059\u308b\u3068\u6570\u79d2\u307b\u3069\u3057\u3066\u3001\u3053\u3093\u306a\u7d50\u679c\u304c\u8fd4\u3063\u3066\u304f\u308b\u306f\u305a\u3002\n\n![kobito.1409237203.121104.png](https://qiita-image-store.s3.amazonaws.com/0/38290/9bf0ae23-aed0-d9a1-ab07-5cc217089d9c.png \"kobito.1409237203.121104.png\")\n\n3\u5104\u4ef6\u306e\u6b63\u898f\u8868\u73fe\u30de\u30c3\u30c1\u306f3\u301c4\u79d2\u304f\u3089\u3044\u3067\u8fd4\u3063\u3066\u304f\u308b\u3002\u8a66\u3057\u306b1000\u5104\u4ef6\u306e\u30c6\u30fc\u30d6\u30eb\u3067\u6b63\u898f\u8868\u73fe\u30de\u30c3\u30c1\u3092\u5b9f\u884c\u3057\u3066\u307f\u305f\u3089\u3001\u3055\u3059\u304c\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u306620\u79d2\u304f\u3089\u3044\u5f85\u305f\u3055\u308c\u305f\u3002\n\n# 12\u5104\u00d78.5\u5104\u306eJOIN\u3092\u8a66\u3059\n\n\u3067\u306f\u3001\u5927\u898f\u6a21JOIN\u3092\u8a66\u3057\u3066\u307f\u3088\u3046\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u8868\u793a\u3055\u308c\u308b\u30b5\u30f3\u30d7\u30eb\u30c6\u30fc\u30d6\u30eb\u306b\u306f\u305d\u308c\u307b\u3069\u5927\u304d\u306a\u30c7\u30fc\u30bf\u304c\u306a\u3044\u304c\u3001\u30d6\u30e9\u30a6\u30b6\u30c4\u30fc\u30eb\u4e0a\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u4ed6\u306b\u3082\u3044\u304f\u3064\u304b\u5927\u304d\u306a\u30b5\u30f3\u30d7\u30eb\u30c6\u30fc\u30d6\u30eb\u304c\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001\u8ab0\u3067\u3082\u30af\u30a8\u30ea\u53ef\u80fd\u3060\u3002\u4eca\u56de\u306f\u3001\u305d\u3046\u3057\u305f\u30c6\u30fc\u30d6\u30eb\u3067\u3042\u308b`Wiki1B`\u3068`Wiki10B`\u3092\u4f7f\u3063\u3066\u307f\u308b\u3002\u3069\u3061\u3089\u3082Wikipedia\u306e\u30da\u30fc\u30b8\u30d3\u30e5\u30fc\u6570\u304c\u8a18\u9332\u3055\u308c\u305f\u30c6\u30fc\u30d6\u30eb\u3067\u3001\u305d\u308c\u305e\u308c12\u5104\u884c\u3068100\u5104\u884c\u3092\u4fdd\u6301\u3057\u3066\u3044\u308b\u3002\n\n`COMPOSE QUERY`\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u4ee5\u4e0b\u306eSQL\u3092\u5165\u529b\u3001`RUN QUERY`\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u307f\u3088\u3046\u3002\n\n```\nSELECT COUNT(a.title)\nFROM [helixdata2:benchmark.Wiki1B] as a\nJOIN EACH (\n  SELECT title, SUM(views) as view\n  FROM [helixdata2:benchmark.Wiki10B]\n  GROUP EACH BY title\n) as b\nON a.title = b.title;\n```\n\n1\u5206\u307b\u3069\u5f85\u3063\u3066\u3044\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7d50\u679c\u304c\u8fd4\u3063\u3066\u304f\u308b\u3002\n\n![kobito.1409237998.338970.png](https://qiita-image-store.s3.amazonaws.com/0/38290/aa95c92e-926c-a7f7-162c-ac31dd000a02.png \"kobito.1409237998.338970.png\")\n\n\u3053\u306e`rows`\u30ab\u30e9\u30e0\u306e\u6570\u5024\u306f\u3001JOIN\u306b\u3088\u3063\u306612\u5104\u884c\u304c\u751f\u6210\u3055\u308c\u305f\u3053\u3068\u3092\u8868\u3057\u3066\u3044\u308b\u3002\u307e\u305f\u6240\u8981\u6642\u9593\u3068\u51e6\u7406\u30c7\u30fc\u30bf\u91cf\u306f\u53f3\u4e0a\u306b\u8868\u793a\u3055\u308c\u308b\u3002\u4e0a\u8a18\u306e\u4f8b\u3067\u306f\u3001330GB\u306e\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f58.2s\u3067\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u305f\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\n\u3061\u306a\u307f\u306b\u3001\u3053\u306e\u30af\u30a8\u30ea\u30923\u56de\u3082\u5b9f\u884c\u3059\u308c\u30701\u304b\u6708\u5206\u306e\u7121\u511f\u67a0\u3092\u4f7f\u3044\u304d\u3063\u3066\u3057\u307e\u3044\u300c\u7121\u511f\u30af\u30a9\u30fc\u30bf\u4f7f\u3044\u304d\u3063\u305f\u3088\uff01\u300d\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046\u3002\u306a\u306e\u3067\u3001\u3082\u3063\u3068\u3044\u308d\u3044\u308dBigQuery\u3092\u8a66\u3057\u305f\u3044\u3068\u3044\u3046\u65b9\u306f\u3001\u4e0a\u8a18\u30af\u30a8\u30ea\u306e\u5b9f\u884c\u306f1\u56de\u3060\u3051\u306b\u7559\u3081\u3066\u304a\u304f\u3053\u3068\u3092\u304a\u3059\u3059\u3081\u3059\u308b\u3002\n\n## 12\u5104\u00d78.5\u5104\u306eJOIN\u306f1\u5206\u3067\u7d42\u4e86\u30011\u56de\u304a\u3088\u305d42\u5186\n\n[\u73fe\u5728\u306eBigQuery\u306e\u4fa1\u683c\u8a2d\u5b9a](https://developers.google.com/bigquery/pricing#queries)\u3067\u306e\u30af\u30a8\u30ea\u306e\u30b3\u30b9\u30c8\u306f$5/TB\u306a\u306e\u3067\u3001\u6709\u511f\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u540c\u3058\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3059\u308b\u3068\u304a\u304a\u3088\u305d1\u56de170\u5186\u304b\u304b\u308b\u8a08\u7b97\u3060\u3002\u305f\u3060\u3057\u3001\u5b9f\u969b\u306f\u3082\u3063\u3068\u5b89\u304f\u306a\u308b\u3002\u3053\u306e\u4f8b\u3067\u306f\u30c6\u30fc\u30d6\u30eb\u4fdd\u5b58\u306e\u3067\u304d\u306a\u3044\u7121\u511f\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f7f\u3063\u305f\u305f\u3081\u3001JOIN\u76f8\u624b\u306e8.5\u5104\u306e\u30c6\u30fc\u30d6\u30eb\u3092\u3042\u3089\u304b\u3058\u3081\u4f5c\u6210\u3057\u3066\u304a\u304f\u3053\u3068\u304c\u3067\u304d\u306a\u304b\u3063\u305f\u3002\u305d\u3053\u3067\u3001\u4ee5\u4e0b\u306e\u30b5\u30d6\u30af\u30a8\u30ea\u3092\u5148\u306b\u5b9f\u884c\u3057\u3066\u3001100\u5104\u884c\u306e\u30c6\u30fc\u30d6\u30eb\u304b\u3089GROUP BY title\u30678.5\u5104\u884c\u306etitle\u30de\u30b9\u30bf\u30fc\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u308b\u3002\n\n```\nSELECT title, SUM(views) as view\nFROM [helixdata2:benchmark.Wiki10B]\nGROUP EACH BY title\n```\n\n\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u51e6\u7406\u304c\u30b3\u30b9\u30c8\u306e\u5927\u534a\u3092\u5360\u3081\u3066\u3044\u308b\u306e\u3067\u3001\u6709\u511f\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3042\u308c\u3070title\u30de\u30b9\u30bf\u30fc\u30c6\u30fc\u30d6\u30eb\u3092\u4e8b\u524d\u306b\u4f5c\u6210\u3057\u3066\u304a\u3051\u308b\u3002\u4ee5\u4e0b\u306e\u69d8\u306aJOIN\u306e\u307f\u306e\u30af\u30a8\u30ea\u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u7d50\u679c\u3067\u751f\u3058\u308b12\u5104\u884c\u3092\u65b0\u3057\u3044\u30c6\u30fc\u30d6\u30eb\u306b\u4fdd\u5b58\u3067\u304d\u308b\u3002\n\n```\nSELECT a.title, a.views, b.views\nFROM [helixdata2:benchmark.Wiki1B] as a\nJOIN EACH [your-project:your-dataset.wiki_titles_850M] as b\nON a.title = b.title;\n```\n\n\u3053\u306e\u5834\u5408\u3001\u30c6\u30fc\u30d6\u30eb\u4fdd\u5b58\u3092\u542b\u3081\u3066\u304a\u3088\u305d60\u79d2\u3067\u51e6\u7406\u306f\u5b8c\u4e86\u3057\u3001\u51e6\u7406\u30c7\u30fc\u30bf\u91cf\u306f80.8GB\u3001\u30b3\u30b9\u30c8\u306f42\u5186\u307b\u3069\u306b\u53ce\u307e\u308b\u3002\n\n## 100\u5104\u00d78.5\u5104\u306f140\u79d2\u30011\u56de\u304a\u3088\u305d206\u5186\n\n\u3053\u306e\u3084\u308a\u65b9\u3067\u3001\u4eca\u5ea6\u306f100\u5104\u884c\u00d78.5\u5104\u884c\u306eJOIN\u3092\u8a66\u3057\u3066\u307f\u305f\u3002\u4e0a\u8a18\u30af\u30a8\u30ea\u306e`Wiki1B`\u30c6\u30fc\u30d6\u30eb\u3092`Wiki10B`\u306b\u7f6e\u304d\u63db\u3048\u308b\u3060\u3051\u3067\u3042\u308b\u3002\n\n![kobito.1409278593.170117.png](https://qiita-image-store.s3.amazonaws.com/0/38290/8c35a391-357f-ea8d-c825-e331b5dbdae4.png \"kobito.1409278593.170117.png\")\n\n\uff08\u306a\u305c\u304b\u65e5\u672c\u8a9e\u30bf\u30a4\u30c8\u30eb\u306e\u30c7\u30fc\u30bf\u304c\u4e0a\u4f4d\u306b...\uff09\n\n\u7d50\u679c\u306f\u3001\u51e6\u7406\u30c7\u30fc\u30bf\u91cf407GB\u3001\u6240\u8981\u6642\u9593\u306f140.6\u79d2\u3001\u30b3\u30b9\u30c8\u306f206\u5186\u3067\u3042\u3063\u305f\u3002\u306a\u304a\u3001BigQuery\u3067\u306f\u30c6\u30fc\u30d6\u30eb\u4fdd\u5b58\u3092\u884c\u3046\u3068\u30b9\u30c8\u30ec\u30fc\u30b8\u30b3\u30b9\u30c8\u304c\u767a\u751f\u3059\u308b\u304c\u3001\u4f8b\u3048\u3070\u4eca\u56de\u306e\u691c\u8a3c\u3067\u4f7f\u3063\u305f\u30b5\u30f3\u30d7\u30eb\u30c6\u30fc\u30d6\u30eb\u30921\u304b\u6708\u4fdd\u6301\u3057\u3066\u304a\u3044\u305f\u5834\u5408\u306e\u30b3\u30b9\u30c8\u306f\u3001\n\n* 100\u5104\u4ef6\u30c6\u30fc\u30d6\u30eb: 693GB\n* 8.5\u5104\u4ef6\u30c6\u30fc\u30d6\u30eb: 34.3GB\n* 100\u5104\u4ef6\u7d50\u679c\u30c6\u30fc\u30d6\u30eb: 452GB\n* \u5408\u8a08: 1.2TB\n* \u30b9\u30c8\u30ec\u30fc\u30b8\u30b3\u30b9\u30c8\uff1a1.2TB x 0.026/GB/month = $31.2\n\n\u3068\u3044\u3046\u3053\u3068\u3067\u3001100\u5104\u4ef6\u30c6\u30fc\u30d6\u30eb\u30922\u3064\u305a\u3063\u3068\u653e\u7f6e\u3057\u3066\u304a\u3044\u3066\u30821\u304b\u6708\u306b3200\u5186\u7a0b\u5ea6\u306e\u51fa\u8cbb\u3067\u3042\u308b\u3002\n\n# Hive\u3067\u6570\u5341\u5206\u2192BigQuery\u3067\u6570\u5341\u79d2\u304c\u30af\u30e9\u30a6\u30c9\u306e\u5b9f\u529b\n\n100\u5104\u00d78.5\u5104\u306eJOIN\u304c\u304a\u3088\u305d140\u79d2\u3001BigQuery\u306f\u5927\u898f\u6a21JOIN\u3082\u305d\u3053\u305d\u3053\u901f\u3044\u3002\u5927\u3056\u3063\u3071\u306b\u6bd4\u8f03\u3059\u308c\u3070\u3001Hadoop/Hive\u3067\u6570\u5341\u5206\u304b\u304b\u308b\u898f\u6a21\u306eJOIN\u304cBigQuery\u3067\u306f\u6570\u5341\u79d2\u3067\u7d42\u308f\u308b\u3002\u3053\u3046\u3057\u305fBigQuery\u306e\u6570\u30b1\u30bf\u9055\u3044\u306e\u901f\u3055\u306b\u3064\u3044\u3066\u3001[BigQuery\u672c](http://www.amazon.co.jp/Google-BigQuery-Analytics-Jordan-Tigani-ebook/dp/B00JUUZIZI)\u306e\u8aad\u66f8\u4f1a\u3092\u4e3b\u50ac\u3059\u308b@hakobera\u3055\u3093\u304c\u3053\u3093\u306a\u5206\u6790\u3092\u3057\u3066\u3044\u305f\u3002\n\n````\nBigQuery \u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306f\u3059\u3054\u304f\u30b7\u30f3\u30d7\u30eb\u306a\u5206\u5272\u7d71\u6cbb\u51e6\u7406\u3067\u3059\u3002\u901f\u3044\u306e\u306f\u3001\u305d\u308c\u3092\u3059\u3054\u3044\u53f0\u6570\u306e\u30b5\u30fc\u30d0\u30fc\u3068\u9ad8\u901f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u884c\u3046\u304b\u3089\u3002\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u304c\u308f\u304b\u3063\u3066\u3082\u3001\u5b9f\u884c\u74b0\u5883\u304c\u69cb\u7bc9\u3067\u304d\u306a\u3044\u306e\u3067\u4ed6\u8005\u306e\u8ffd\u968f\u3092\u8a31\u3055\u306a\u3044\u5b8c\u5168\u306a\u308b\u529b\u62bc\u3057\u30b5\u30fc\u30d3\u30b9\u3067\u3059 \n```\nFrom [https://twitter.com/hakobera/status/504612035833778177](https://twitter.com/hakobera/status/504612035833778177)\n\n\u6570\u5343\u53f0\u306e\u30b5\u30fc\u30d0\u30fc\u3068\u6570\u4e07\u53f0\u306e\u30c7\u30a3\u30b9\u30af\u3092\u7121\u511f\u30e6\u30fc\u30b6\u30fc\u306e1\u3064\u306e\u30af\u30a8\u30ea\u306e\u305f\u3081\u306b\u56de\u305b\u308b\u5b8c\u5168\u306a\u308b\u529b\u62bc\u3057\u30b5\u30fc\u30d3\u30b9\u3002\u3053\u308c\u306fGoogle\u691c\u7d22\u304b\u3089YouTube\u307e\u3067\u3059\u3079\u3066\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u81a8\u5927\u306a\u6570\u306e\u30b5\u30fc\u30d0\u30fc\u4e0a\u306b\u8584\u304f\u5e83\u304f\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u3044\u308bGoogle\u306a\u3089\u3067\u306f\u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3060\uff08\u3044\u308f\u3086\u308bDatacenter as a Computer\uff09\u3002\u6280\u8853\u7684\u306b\u306f\u5b9f\u306f\u308f\u308a\u306b\u30b7\u30f3\u30d7\u30eb\u306a\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u3042\u3063\u3066\u3082\u3001\u3053\u306e\u898f\u6a21\u3067\u306e\u5b9f\u73fe\u306f\u5b9f\u904b\u7528\u4f53\u5236\u3084\u30d3\u30b8\u30cd\u30b9\u898f\u6a21\u304c\u4f34\u3063\u3066\u3044\u306a\u3044\u3068\u4e0d\u53ef\u80fd\u3067\u3001\u3053\u3046\u3044\u3046\u306e\u304c\u672c\u5f53\u306e\u610f\u5473\u3067\u306e\u30af\u30e9\u30a6\u30c9\u3067\u3042\u308b\u3068\u601d\u3046\u3002 #\u30de\n\n## \u88dc\u8db3\uff1a\u5927\u898f\u6a21JOIN\u306b\u306f`JOIN EACH`\u3092\u4ed8\u3051\u308b\u3079\u3057\n\n\u3068\u3053\u308d\u3067\u3001\u3053\u306e\u4f8b\u306e\u3088\u3046\u306a\u5927\u304d\u306a\u30c6\u30fc\u30d6\u30eb\u540c\u58eb\u306eJOIN\u3067\u306f\u3001\u901a\u5e38\u306e`JOIN`\u6307\u5b9a\u3067\u306f\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3046\u3002\u306a\u305c\u306a\u3089\u3001`JOIN`\u3092\u6307\u5b9a\u3059\u308b\u3068\u691c\u7d22\u3092\u5b9f\u884c\u3059\u308b\u65701000\u53f0\u306e\u30b5\u30fc\u30d0\u30fc\u306bJOIN\u5148\u30c6\u30fc\u30d6\u30eb\u3092\u30d6\u30ed\u30fc\u30c9\u30ad\u30e3\u30b9\u30c8\u3057\u3066\u30cf\u30c3\u30b7\u30e5\u30b8\u30e7\u30a4\u30f3\u3059\u308bBroadcast JOIN\u304c\u5b9f\u884c\u3055\u308c\u308b\u304b\u3089\u3060\u3002\n\n![kobito.1409280139.832935.png](https://qiita-image-store.s3.amazonaws.com/0/38290/2b610aa3-f99d-99ec-073c-a01d5c47c74f.png \"kobito.1409280139.832935.png\")\nBigQuery\u306b\u304a\u3051\u308bBroadcast JOIN / From [Google BigQuery Analytics](http://www.amazon.co.jp/Google-BigQuery-Analytics-Jordan-Tigani-ebook/dp/B00JUUZIZI)\n\n\u3053\u306e\u5834\u5408\u3001JOIN\u5148\u30c6\u30fc\u30d6\u30eb\u306f\u5727\u7e2e\u5f8c8MB\u4ee5\u4e0b\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u3053\u306e\u30b5\u30a4\u30ba\u306b\u53ce\u307e\u3089\u306a\u3044\u5834\u5408\u306f\u3001\u4ee3\u308f\u308a\u306b`JOIN EACH`\u6307\u5b9a\u3092\u884c\u3046\u3002\u3059\u308b\u3068\u3001Hadoop\u3068\u540c\u69d8\u306eshuffler\u304c\u5c55\u958b\u3055\u308c\u3066\u5927\u898f\u6a21\u30c7\u30fc\u30bf\u306e\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u306b\u3088\u308b\u30b7\u30e3\u30c3\u30d5\u30eb\u51e6\u7406\u304c\u8d70\u308b\u3002\n\n![kobito.1409280288.775889.png](https://qiita-image-store.s3.amazonaws.com/0/38290/d0a036ce-2ac0-14f5-c00a-8728c60d43bd.png \"kobito.1409280288.775889.png\")\nBigQuery\u306b\u304a\u3051\u308bShuffle JOIN / From [Google BigQuery Analytics](http://www.amazon.co.jp/Google-BigQuery-Analytics-Jordan-Tigani-ebook/dp/B00JUUZIZI)\n\n\u3053\u306e\u30b7\u30e3\u30c3\u30d5\u30eb\u51e6\u7406\u306e\u305f\u3081\u306b\u30af\u30a8\u30ea\u5b9f\u884c\u6642\u9593\u306f\u4f38\u3073\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u57fa\u672c\u306f\u901a\u5e38\u306e`JOIN`\u3092\u4f7f\u3044\u3001\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3089`JOIN EACH`\u3092\u8a66\u3059\u3001\u3068\u3044\u3046\u4f7f\u3044\u5206\u3051\u306b\u306a\u308b\u3002\n\n\u306a\u304a\u3001GROUP BY\u306b\u3082\u540c\u69d8\u306b\u901a\u5e38\u306e`GROUP BY`\u3068\u30b7\u30e3\u30c3\u30d5\u30eb\u7248`GROUP EACH BY`\u306e2\u7a2e\u985e\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u3002\u901a\u5e38GROUP BY\u306f\u5404\u30ce\u30fc\u30c9\u3067\u30aa\u30f3\u30e1\u30e2\u30ea\u51e6\u7406\u3055\u308c\u308b\u306e\u3067\u3001\u5bfe\u8c61\u30ab\u30e9\u30e0\u306e\u30ab\u30fc\u30c7\u30a3\u30ca\u30ea\u30c6\u30a3\u304c\u3042\u307e\u308a\u306b\u5927\u304d\u304f\u30ce\u30fc\u30c9\u306e\u30e1\u30e2\u30ea\u5185\u306b\u53ce\u307e\u3089\u306a\u3044\u5834\u5408\u306f\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u3066\u3057\u307e\u3046\u3002\u3053\u306e\u5834\u5408\u3082`EACH`\u3092\u4ed8\u3051\u308b\u3068\u30b7\u30e3\u30c3\u30d5\u30eb\u51e6\u7406\u306b\u3088\u308bGROUP BY\u304c\u8d70\u308a\u30a8\u30e9\u30fc\u767a\u751f\u3092\u56de\u907f\u3067\u304d\u308b\u3002\n\n\n----\nDisclaimer \u3053\u306e\u8a18\u4e8b\u306f\u500b\u4eba\u7684\u306a\u3082\u306e\u3067\u3059\uff61\u3053\u3053\u3067\u8ff0\u3079\u3089\u308c\u3066\u3044\u308b\u3053\u3068\u306f\u79c1\u306e\u500b\u4eba\u7684\u306a\u610f\u898b\u306b\u57fa\u3065\u304f\u3082\u306e\u3067\u3042\u308a\uff64\u79c1\u306e\u96c7\u7528\u8005\u306b\u306f\u95a2\u4fc2\u306f\u3042\u308a\u307e\u305b\u3093\uff61\n\n\n\n\n", "tags": ["GoogleBigQuery", "GoogleCloudPlatform"]}