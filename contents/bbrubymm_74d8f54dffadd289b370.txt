{"tags": ["Ruby2.2", "Rails4", "rails3.2", "Gem", "Log4r"], "context": " More than 1 year has passed since last update.\nRails3.2\u7cfb\u304b\u3089Rails4.0.13\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u3068Log4r\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\n\n[hoge@CS-c014 4.0_app]$ rs\n=> Booting WEBrick\n=> Rails 4.0.13 application starting in hogeopment on http://0.0.0.0:3000\n=> Run `rails server -h` for more startup options\n=> Ctrl-C to shutdown server\nExiting\n/home/hoge/.rbenv/versions/2.2.3/gemsets/4.0rails/gems/railties-4.0.13/lib/rails/commands/server.rb:78:in `start': undefined method `formatter' for #<Log4r::Logger:0x007f00bbcd6dc0> (NoMethodError)\n        from /home/hoge/.rbenv/versions/2.2.3/gemsets/4.0/gems/railties-4.0.13/lib/rails/commands.rb:76:in `block in <top (required)>'\n        from /home/hoge/.rbenv/versions/2.2.3/gemsets/4.0/gems/railties-4.0.13/lib/rails/commands.rb:71:in `tap'\n        from /home/hoge/.rbenv/versions/2.2.3/gemsets/4.0/gems/railties-4.0.13/lib/rails/commands.rb:71:in `<top (required)>'\n        from bin/rails:4:in `require'\n        from bin/rails:4:in `<main>'\n\n\nrailties-4.0.13/lib/rails/commands/server.rb\n\n\nRails.logger\u306bformatter\u30e1\u30bd\u30c3\u30c9\u304c\u7121\u304f\u3066\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3044\u308b\nlogger\u306fLog4r::Logger\u3092\u4f7f\u3063\u3066\u3044\u308b\n\n\n\n\nserver.rb\n 77         console = ActiveSupport::Logger.new($stdout)\n 78         console.formatter = Rails.logger.formatter\n 79         console.level = Rails.logger.level\n\n\n\nconfig/initializers\u306e\u4e0b\u306blog_format.rb\u3092\u4f5c\u6210\u3057\u4ee5\u4e0b\u30e1\u30bd\u30c3\u30c9\u3092\u66f8\u304f\u3068\u30a8\u30e9\u30fc\u306b\u306a\u3089\u306a\u304f\u306a\u308b\u3002\n\n\nlog_format.rb\nclass Log4r::Logger\n  def formatter\n  end\nend\n\n\n\n\u4e00\u6642\u7684\u306a\u5bfe\u51e6\u306e\u3088\u3046\u306a\u2026\u5f8c\u3005\u554f\u984c\u51fa\u305d\u3046\u3002\u3082\u3063\u3068\u3044\u3044\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n- Rails3.2\u7cfb\u304b\u3089Rails4.0.13\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u3068Log4r\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b\n\n```\n[hoge@CS-c014 4.0_app]$ rs\n=> Booting WEBrick\n=> Rails 4.0.13 application starting in hogeopment on http://0.0.0.0:3000\n=> Run `rails server -h` for more startup options\n=> Ctrl-C to shutdown server\nExiting\n/home/hoge/.rbenv/versions/2.2.3/gemsets/4.0rails/gems/railties-4.0.13/lib/rails/commands/server.rb:78:in `start': undefined method `formatter' for #<Log4r::Logger:0x007f00bbcd6dc0> (NoMethodError)\n        from /home/hoge/.rbenv/versions/2.2.3/gemsets/4.0/gems/railties-4.0.13/lib/rails/commands.rb:76:in `block in <top (required)>'\n        from /home/hoge/.rbenv/versions/2.2.3/gemsets/4.0/gems/railties-4.0.13/lib/rails/commands.rb:71:in `tap'\n        from /home/hoge/.rbenv/versions/2.2.3/gemsets/4.0/gems/railties-4.0.13/lib/rails/commands.rb:71:in `<top (required)>'\n        from bin/rails:4:in `require'\n        from bin/rails:4:in `<main>'\n```\n\n- railties-4.0.13/lib/rails/commands/server.rb\n - Rails.logger\u306bformatter\u30e1\u30bd\u30c3\u30c9\u304c\u7121\u304f\u3066\u30a8\u30e9\u30fc\u306b\u306a\u3063\u3066\u3044\u308b\n - logger\u306f[Log4r::Logger](https://github.com/colbygk/log4r)\u3092\u4f7f\u3063\u3066\u3044\u308b\n\n```server.rb\n 77         console = ActiveSupport::Logger.new($stdout)\n 78         console.formatter = Rails.logger.formatter\n 79         console.level = Rails.logger.level\n```\n\n- config/initializers\u306e\u4e0b\u306blog_format.rb\u3092\u4f5c\u6210\u3057\u4ee5\u4e0b\u30e1\u30bd\u30c3\u30c9\u3092\u66f8\u304f\u3068\u30a8\u30e9\u30fc\u306b\u306a\u3089\u306a\u304f\u306a\u308b\u3002\n\n```log_format.rb\nclass Log4r::Logger\n  def formatter\n  end\nend\n```\n\n- \u4e00\u6642\u7684\u306a\u5bfe\u51e6\u306e\u3088\u3046\u306a\u2026\u5f8c\u3005\u554f\u984c\u51fa\u305d\u3046\u3002\u3082\u3063\u3068\u3044\u3044\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n"}