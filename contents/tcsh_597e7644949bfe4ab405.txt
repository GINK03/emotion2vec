{"context": " More than 1 year has passed since last update.http://jawsug-cli.doorkeeper.jp/events/13530 \u3067\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u8cc7\u6599\u3067\u3059\u3002\nRoute53\u3067\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002(2014-07-31\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u65b0\u6a5f\u80fd\u3067\u3059\u3002)\n\u6ce8) \u3053\u306e\u624b\u9806\u306f\u3001\u691c\u8a3c\u306e\u5ea6\u306b\u30c9\u30e1\u30a4\u30f3\u8cbb\u7528\u304c\u304b\u304b\u308b\u305f\u3081\u3001\u7cbe\u5ea6\u304c\u3042\u307e\u308a\u9ad8\u304f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093...\u3002\n\n\u524d\u63d0\n\nRoute53\u3078\u306e\u30d5\u30eb\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002\nroute53domains\u306f\u3001us-east-1\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002us-east-1\u4ee5\u5916\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001 --region us-east-1 \u3092\u30b3\u30de\u30f3\u30c9\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n0. \u4e8b\u524d\u4f5c\u696d\n\n0.1. \u30c9\u30e1\u30a4\u30f3\u5019\u88dc\n\u6700\u521d\u306b\u53d6\u5f97\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u306e\u5019\u88dc\u3092\u6c7a\u3081\u307e\u3059\u3002\n\n0.2. \u767b\u9332\u60c5\u5831\u306e\u4f5c\u6210\n\u30ec\u30b8\u30b9\u30c8\u30ea\u3078\u306e\u767b\u9332\u60c5\u5831\u3092JSON\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\ncontact.json(sample)\n   {\n     \"FirstName\": \"Taro\",\n     \"LastName\": \"Domai\",\n     \"ContactType\": \"COMPANY\",\n     \"OrganizationName\": \"Example, LLC.\",\n     \"AddressLine1\": \"XX-XX 1Chome XXXX Minato-ku\",\n     \"AddressLine2\": \"\",\n     \"City\": \"Tokyo\",\n     \"State\": \"\",\n     \"CountryCode\": \"JP\",\n     \"ZipCode\": \"XXX00XX\",\n     \"PhoneNumber\": \"+81.XXXXXXXXX\",\n     \"Email\": \"info@example.net\",\n     \"Fax\": \"\",\n     \"ExtraParams\": [\n     ]\n   }\n\n\n\nContactType\u306f\u3001\"PERSON\"|\"COMPANY\"|\"ASSOCIATION\"|\"PUBLIC_BODY\"|\"RESELLER\" \u306e\u3044\u305a\u308c\u304b\u3092\u8a18\u8f09\u3059\u308b\u3002\nPhoneNumber\u306f\u3001\"+(\u56fd\u756a\u53f7: \u65e5\u672c\u306f81).(\u6700\u521d\u306e0\u3092\u9664\u304f\u5e02\u5916\u5c40\u756a\u3092\u542b\u3080\u756a\u53f7\u3002\u30cf\u30a4\u30d5\u30f3\u306f\u4ed8\u3051\u306a\u3044)\"\u306e\u5f62\u5f0f\u3067\u8a18\u8ff0\u3059\u308b\u3002(\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af\u53b3\u3057\u3044)\n\nJSON\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u58ca\u308c\u3066\u306a\u3044\u304b\u5fc5\u305a\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\ncommand\n$ cat contact.json | json_verify\n\n\n\nresult\nJSON is valid\n\n\n\n1. \u30c9\u30e1\u30a4\u30f3\u306e\u5229\u7528\u53ef\u80fd\u78ba\u8a8d\n\u53d6\u5f97\u53ef\u80fd(Available)\u306a\u30c9\u30e1\u30a4\u30f3\u304c\u307f\u3064\u304b\u308b\u307e\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u7e70\u308a\u8fd4\u3057\u307e\u3059\u3002\n\ncommand(sample)\n$ R53DOMAIN_NAME='example.jp'\n\n\n\ncommand\n$ aws --region us-east-1 route53domains check-domain-availability --domain-name ${R53DOMAIN_NAME}\n\n\n\nresult(\u53d6\u5f97\u53ef\u80fd\u306a\u5834\u5408)\n{\n    \"Availability\": \"AVAILABLE\"\n}\n\n\n\nresult(\u53d6\u5f97\u4e0d\u53ef\u80fd\u306a\u5834\u5408)\n{\n    \"Availability\": \"UNAVAILABLE\"\n}\n\n\n\n2. \u30c9\u30e1\u30a4\u30f3\u306e\u53d6\u5f97\n\u53d6\u5f97\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u304c\u78ba\u5b9a\u3057\u305f\u3089\u3001\u5b9f\u969b\u306b\u30c9\u30e1\u30a4\u30f3\u306e\u53d6\u5f97\u3092\u884c\u3044\u307e\u3059\u3002\n\ncommand\n$ R53DOMAIN_YEAR='1'\n$ R53DOMAIN_FILE_ADMIN='contact.json'\n$ R53DOMAIN_FILE_REG='contact.json'\n$ R53DOMAIN_FILE_TECH='contact.json'\n\n\n\ncommand\n$ aws --region us-east-1 route53domains register-domain --domain-name ${R53DOMAIN_NAME} --duration-in-years ${R53DOMAIN_YEAR} --admin-contact file://${R53DOMAIN_FILE_ADMIN} --registrant-contact file://${R53DOMAIN_FILE_REG} --tech-contact file://${R53DOMAIN_FILE_TECH} --auto-renew --privacy-protect-admin-contact --privacy-protect-registrant-contact --privacy-protect-tech-contact\n\n\n\nresult(sample)\n{\n    \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n}\n\n\n\n3. \u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u78ba\u8a8d\n\n3.1. \u51e6\u7406\u72b6\u6cc1\u306e\u78ba\u8a8d\n\u30c9\u30e1\u30a4\u30f3\u767b\u9332\u306e\u51e6\u7406\u72b6\u6cc1\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\ncommand\n$ aws --region us-east-1 route53domains list-operations\n\n\n\nresult(sample\n   {\n       \"Operations\": [\n           {\n               \"Status\": \"IN_PROGRESS\", \n               \"Type\": \"REGISTER_DOMAIN\", \n               \"SubmittedDate\": 1407500711.711, \n               \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n           }\n       ]\n   }\n\n\n\nresult(sample\n   {\n       \"Operations\": [\n           {\n               \"Status\": \"SUCCESSFUL\", \n               \"Type\": \"REGISTER_DOMAIN\", \n               \"SubmittedDate\": 1407500711.711, \n               \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n           }\n       ]\n   }\n\n\n\n\u767b\u9332\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001Billing\u30e1\u30fc\u30eb\u304c\u3059\u3050\u5c4a\u304d\u307e\u3059;-)\n\n\n3.2. \u30b3\u30f3\u30bf\u30af\u30c8\u5148\u5b58\u5728\u78ba\u8a8d\u30e1\u30fc\u30eb\u306e\u53d7\u4fe1\n\u30c9\u30e1\u30a4\u30f3\u767b\u9332\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u3068\u3057\u3066\u767b\u9332\u3057\u305f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u5b58\u5728\u78ba\u8a8d\u30e1\u30fc\u30eb\u304c\u5c4a\u304f\u306e\u3067\u3001\u672c\u6587\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nmail(verify)\n   From: Amazon Route 53 <noreply@domainnameverification.net>\n   Date: 2014\u5e748\u67088\u65e5 21:54:39 JST\n   Subject: Verification of your contact data\n   To: info@example.net\n\n\n   Hello,\n\n   This is an important email, and your prompt action is required. If you do not act on the instructions we are providing below, your domain name(s) will be suspended on 2014-08-23 14:27.\n\n   Why is this required?\n   Beginning January 1st, 2014, ICANN requires that registrars verify that domain contacts can be reached. \n\n   What do you need to do?\n   Please confirm that your email address info@example.net can be reached, by clicking on the link below:\n\n   http://domainnameverification.net/?hash=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n\n   If you use this link, we will not need to ask you for any password during this process.\n\n   Amazon Route 53\n\n   To setup your domain, log in to the AWS Console at https://console.aws.amazon.com/route53/home\n\n\n\n3.3. \u30b3\u30f3\u30bf\u30af\u30c8\u5148\u5b58\u5728\u78ba\u8a8dweb\u30da\u30fc\u30b8\u3078\u306e\u30a2\u30af\u30bb\u30b9\nURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001'Your contact is now validated.' \u3068\u8868\u793a\u3055\u308c\u308c\u3070\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u5b58\u5728\u78ba\u8a8d\u624b\u7d9a\u304d\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n3.4. \u30b3\u30f3\u30bf\u30af\u30c8\u5148\u5b58\u5728\u78ba\u8a8d\u5b8c\u4e86\u30e1\u30fc\u30eb\u306e\u53d7\u4fe1\nWeb\u3067\u306e\u78ba\u8a8d\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u3068\u3057\u3066\u767b\u9332\u3057\u305f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u5b58\u5728\u78ba\u8a8d\u5b8c\u4e86\u30e1\u30fc\u30eb\u304c\u5c4a\u304d\u307e\u3059\u3002\n\nmail(success)\n   From: Amazon Route 53 <route53-dev-admin@amazon.com>\n   Subject: example.jp was successfully registered with Route 53\n   Date: 2014\u5e748\u67088\u65e5 21:30:41 JST\n   To: Admin <info@example.net>\n\n   Hi,\n   We have successfully registered example.jp. We also created a hosted zone for your domain. This hosted zone is where you store information about how to route traffic for your domain, for example, to an Amazon EC2 instance or a CloudFront distribution. To learn how to add resource record sets to your hosted zone, see Working with Resource Record Sets.\n   If you did not request this change, please contact Amazon Web Services Customer Support immediately.\n   Amazon Route 53\n\n\n\n4. NameServers\u306e\u78ba\u8a8d\n\u4e00\u5fdc\u3001whois\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306bNameServer\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\ncommand\n$ R53_ZONE_NAME=${R53DOMAIN_NAME}\n$ whois ${R53DOMAIN_NAME} | grep '^Name Server: '\n\n\n\nresult\n  Name Server: NS-X.AWSDNS-XX.COM\n  Name Server: NS-XXXX.AWSDNS-XX.CO.UK\n  Name Server: NS-XXX.AWSDNS-XX.NET\n  Name Server: NS-XXXX.AWSDNS-XX.ORG\n\n\n\n5. \u30c9\u30e1\u30a4\u30f3\u79fb\u8ee2\u306e\u9632\u8b77\u8a2d\u5b9a\n\u4e0d\u6b63\u306b\u30c9\u30e1\u30a4\u30f3\u79fb\u8ee2\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3001\u9632\u8b77\u8a2d\u5b9a\u3092\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n5.1. \u8a2d\u5b9a\n\ncommand\n$ aws --region us-east-1 route53domains enable-domain-transfer-lock --domain-name ${R53DOMAIN_NAME}\n\n\n\nresult(sample)\n{\n    \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n}\n\n\n\n5.2. \u8a2d\u5b9a\u5909\u66f4\u306e\u51e6\u7406\u72b6\u6cc1\u78ba\u8a8d\n\ncommand\n$ aws --region us-east-1 route53domains list-operations\n\n\n\nresult(sample\n{\n       \"Operations\": [\n           {\n               \"Status\": \"SUCCESSFUL\", \n               \"Type\": \"DOMAIN_LOCK\", \n               \"SubmittedDate\": 1407559215.777, \n               \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n           }\n       ]\n}\n\n\n\n5.3. \u8a2d\u5b9a\u5b8c\u4e86\u901a\u77e5\u30e1\u30fc\u30eb\u306e\u53d7\u4fe1\n\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u3068\u3057\u3066\u767b\u9332\u3057\u305f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u8a2d\u5b9a\u5b8c\u4e86\u901a\u77e5\u304c\u5c4a\u304d\u307e\u3059\u3002\n\nmail(success)\n   From: Amazon Route 53 <route53-dev-admin@amazon.com>\n   Subject: Domain details update for example.jp succeeded\n   Date: 2014\u5e748\u67089\u65e5 13:40:23 JST\n   To: Admin <info@example.net>\n\n   Hi,\n   We recently received an online request from your AWS account to make the following change:\n   Lock the domain\n   If you requested this change, you don't need to take any further action.\n   If you did not request this change, please contact Amazon Web Services Customer Support immediately.\n   Amazon Route 53\n\n\n\n(\u4efb\u610f) Privacy Protection\n\u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u6642\u306bPrivacy Protection\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u4f4f\u6240\u3084\u96fb\u8a71\u756a\u53f7\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306a\u3069\u304cwhois\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002\nPrivacy Protection\u306f\u5f8c\u304b\u3089\u3067\u3082\u8a2d\u5b9a\u3067\u304d\u308b\u306e\u3067\u3001\u500b\u4eba\u3067\u306e\u53d6\u5f97\u306e\u5834\u5408\u306f\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n\u8a2d\u5b9a\n\ncommand\n$ aws --region us-east-1 route53domains update-domain-contact-privacy --domain-name ${R53DOMAIN_NAME} --admin-privacy --registrant-privacy --tech-privacy\n\n\n\nresult(sample)\n{\n    \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n}\n\n\n\n\u8a2d\u5b9a\u5909\u66f4\u306e\u51e6\u7406\u72b6\u6cc1\u78ba\u8a8d\n\u51e6\u7406\u72b6\u6cc1\u306flist-operations\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\ncommand\n$ aws --region us-east-1 route53domains list-operations\n\n\n\nresult(sample\n{\n       \"Operations\": [\n           {\n               \"Status\": \"SUCCESSFUL\", \n               \"Type\": \"CHANGE_PRIVACY_PROTECTION\", \n               \"SubmittedDate\": 1407541562.054, \n               \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n           }\n       ]\n}\n\n\n\n\u8a2d\u5b9a\u5b8c\u4e86\u901a\u77e5\u30e1\u30fc\u30eb\u306e\u53d7\u4fe1\n\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u3068\u3057\u3066\u767b\u9332\u3057\u305f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u8a2d\u5b9a\u5b8c\u4e86\u901a\u77e5\u304c\u5c4a\u304d\u307e\u3059\u3002\n\nmail(success)\n   From: Amazon Route 53 <route53-dev-admin@amazon.com>\n   Subject: Domain details update for example.jp succeeded\n   Date: 2014\u5e748\u67089\u65e5 8:46:14 JST\n   To: Admin <info@example.net>\n\n   Hi,\n   We recently received an online request from your AWS account to make the following change:\n   Enable ADMIN contact privacy for the domain example.jp.\n   Enable OWNER contact privacy for the domain example.jp.\n   Enable TECH contact privacy for the domain example.jp.\n   Enable BILL contact privacy for the domain example.jp.\n   If you requested this change, you don't need to take any further action.\n   If you did not request this change, please contact Amazon Web Services Customer Support immediately.\n   Amazon Route 53\n\n\n\nwhois\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u78ba\u8a8d\nwhois\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u306e\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u304c\u3001\u30ec\u30b8\u30b9\u30c8\u30e9\u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\ncommand\n$ whois ${R53DOMAIN_NAME}\n\n\n\nresult\n   (snip)\n\n   Registrant Name: Taro Domai\n   Registrant Organization: Example, LLC.\n   Registrant Street: Gandi, 63-65 boulevard Massena\n   Registrant City: (Gandi) Paris\n   Registrant State/Province:\n   Registrant Postal Code: (Gandi) 75013\n   Registrant Country: (Gandi) FR\n   Registrant Phone: (Gandi) +33.170377666\n   Registrant Phone Ext:\n   Registrant Fax: (Gandi) +33.143730576\n   Registrant Fax Ext:\n   Registrant Email: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-XXXXXXX@contact.gandi.net\n   Registry Admin ID:\n   Admin Name: Taro Domai\n   Admin Organization: Example, LLC.\n   Admin Street: Gandi, 63-65 boulevard Massena\n   Admin City: (Gandi) Paris\n   Admin State/Province:\n   Admin Postal Code: (Gandi) 75013\n   Admin Country: (Gandi) FR\n   Admin Phone: (Gandi) +33.170377666\n   Admin Phone Ext:\n   Admin Fax: (Gandi) +33.143730576\n   Admin Fax Ext:\n   Admin Email: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-XXXXXXX@contact.gandi.net\n   Registry Tech ID:\n   Tech Name: Taro Domai\n   Tech Organization: Example, LLC.\n   Tech Street: Gandi, 63-65 boulevard Massena\n   Tech City: (Gandi) Paris\n   Tech State/Province:\n   Tech Postal Code: (Gandi) 75013\n   Tech Country: (Gandi) FR\n   Tech Phone: (Gandi) +33.170377666\n   Tech Phone Ext:\n   Tech Fax: (Gandi) +33.143730576\n   Tech Fax Ext:\n   Tech Email: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-XXXXXXX@contact.gandi.net\n\n\n\n6. hosted zone\u306e\u78ba\u8a8d\n\u53d6\u5f97\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u306eRoute53\u3067\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n6.1. hosted zone ID\u306e\u53d6\u5f97\n\u307e\u305a\u3001hosted zone ID\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\ncommand\n$ R53_ZONE_ID=`aws route53 list-hosted-zones | jq --arg zone_name ${R53_ZONE_NAME} -r '.HostedZones[]|select(.Name |contains($zone_name))|.Id' | sed 's/\\/hostedzone\\///'` && echo ${R53_ZONE_ID}\n\n\n\nresult(sample)\n   ZXXXXXXXXXXXXX\n\n\n\n6.2. \u30be\u30fc\u30f3\u60c5\u5831\u306e\u53d6\u5f97\nhosted zone ID\u3092\u30ad\u30fc\u306b\u30be\u30fc\u30f3\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\ncommand\n   $ aws route53 list-resource-record-sets --hosted-zone-id /hostedzone/${R53_ZONE_ID}\n\n\n\nresult(default)\n   {\n       \"ResourceRecordSets\": [\n           {\n               \"ResourceRecords\": [\n                   {\n                       \"Value\": \"ns-XXXX.awsdns-XX.co.uk.\"\n                   }, \n                   {\n                       \"Value\": \"ns-XXX.awsdns-XX.com.\"\n                   }, \n                   {\n                       \"Value\": \"ns-XXX.awsdns-XX.net.\"\n                   }, \n                   {\n                       \"Value\": \"ns-XXXX.awsdns-XX.org.\"\n                   }\n               ], \n               \"Type\": \"NS\", \n               \"Name\": \"example.jp.\", \n               \"TTL\": 172800\n           }, \n           {\n               \"ResourceRecords\": [\n                   {\n                       \"Value\": \"ns-XXXX.awsdns-XX.co.uk. awsdns-hostmaster.amazon.com. 1 7200 900 1209600 86400\"\n                   }\n               ], \n               \"Type\": \"SOA\", \n               \"Name\": \"example.jp.\", \n               \"TTL\": 900\n           }\n       ]\n}\n\n\n\u3053\u306e\u6642\u70b9\u3067\u306f\u3001SOA\u30ec\u30b3\u30fc\u30c9\u3068NS\u30ec\u30b3\u30fc\u30c9\u3060\u3051\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n7. ns\u30ec\u30b3\u30fc\u30c9\u306e\u78ba\u8a8d\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u3067\u5b9f\u969b\u306bns\u30ec\u30b3\u30fc\u30c9\u304c\u5f15\u3051\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\ncommand\n$ dig ns ${R53_ZONE_NAME}\n\n\n\nresult\n   ; <<>> DiG 9.8.3-P1 <<>> ns example.jp\n   ;; global options: +cmd\n   ;; Got answer:\n   ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 17924\n   ;; flags: qr rd ra; QUERY: 1, ANSWER: 4, AUTHORITY: 0, ADDITIONAL: 0\n\n   ;; QUESTION SECTION:\n   ;example.jp.         IN  NS\n\n   ;; ANSWER SECTION:\n   example.jp.      172800  IN  NS  ns-XXXX.awsdns-XX.org.\n   example.jp.      172800  IN  NS  ns-XXXX.awsdns-XX.co.uk.\n   example.jp.      172800  IN  NS  ns-XXX.awsdns-XX.net.\n   example.jp.      172800  IN  NS  ns-X.awsdns-XX.com.\n\n   ;; Query time: 378 msec\n   ;; SERVER: 192.168.0.1#53(192.168.0.1)\n   ;; WHEN: Sat Aug  9 22:15:39 2014\n\n\n\n\u6b21\u306f\n\u3053\u306e\u624b\u9806\u3067\u306f\u4ee5\u4e0b\u304c\u5b8c\u4e86\u3057\u3001\u30c9\u30e1\u30a4\u30f3\u904b\u7528\u306e\u57fa\u76e4\u7684\u306a\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\n\u30c9\u30e1\u30a4\u30f3\u306e\u53d6\u5f97\nwhios\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u767b\u9332\n\u30be\u30fc\u30f3\u60c5\u5831\u306e\u4f5c\u6210 (SOA/NS)\n\n\u3053\u306e\u5f8c\u306f\u3001\u500b\u5225\u306e\u30ea\u30bd\u30fc\u30b9\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3057\u3066\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u5b9f\u904b\u7528\u3092\u3057\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\nhttp://jawsug-cli.doorkeeper.jp/events/13530 \u3067\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u8cc7\u6599\u3067\u3059\u3002\n\nRoute53\u3067\u72ec\u81ea\u30c9\u30e1\u30a4\u30f3\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002(2014-07-31\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f\u65b0\u6a5f\u80fd\u3067\u3059\u3002)\n\n\n\u6ce8) \u3053\u306e\u624b\u9806\u306f\u3001\u691c\u8a3c\u306e\u5ea6\u306b\u30c9\u30e1\u30a4\u30f3\u8cbb\u7528\u304c\u304b\u304b\u308b\u305f\u3081\u3001\u7cbe\u5ea6\u304c\u3042\u307e\u308a\u9ad8\u304f\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093...\u3002\n\n\n\n# \u524d\u63d0\n\n* Route53\u3078\u306e\u30d5\u30eb\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n* route53domains\u306f\u3001us-east-1\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002us-east-1\u4ee5\u5916\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30ea\u30fc\u30b8\u30e7\u30f3\u306b\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001 ```--region us-east-1``` \u3092\u30b3\u30de\u30f3\u30c9\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n# 0. \u4e8b\u524d\u4f5c\u696d\n\n0.1. \u30c9\u30e1\u30a4\u30f3\u5019\u88dc\n-----------------\n\n\u6700\u521d\u306b\u53d6\u5f97\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u306e\u5019\u88dc\u3092\u6c7a\u3081\u307e\u3059\u3002\n\n\n0.2. \u767b\u9332\u60c5\u5831\u306e\u4f5c\u6210\n-------------------\n\n\u30ec\u30b8\u30b9\u30c8\u30ea\u3078\u306e\u767b\u9332\u60c5\u5831\u3092JSON\u30d5\u30a1\u30a4\u30eb\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002\n\n```json:contact.json(sample):\n   {\n     \"FirstName\": \"Taro\",\n     \"LastName\": \"Domai\",\n     \"ContactType\": \"COMPANY\",\n     \"OrganizationName\": \"Example, LLC.\",\n     \"AddressLine1\": \"XX-XX 1Chome XXXX Minato-ku\",\n     \"AddressLine2\": \"\",\n     \"City\": \"Tokyo\",\n     \"State\": \"\",\n     \"CountryCode\": \"JP\",\n     \"ZipCode\": \"XXX00XX\",\n     \"PhoneNumber\": \"+81.XXXXXXXXX\",\n     \"Email\": \"info@example.net\",\n     \"Fax\": \"\",\n     \"ExtraParams\": [\n     ]\n   }\n```\n\n* ContactType\u306f\u3001\"PERSON\"|\"COMPANY\"|\"ASSOCIATION\"|\"PUBLIC_BODY\"|\"RESELLER\" \u306e\u3044\u305a\u308c\u304b\u3092\u8a18\u8f09\u3059\u308b\u3002\n\n* PhoneNumber\u306f\u3001\"+(\u56fd\u756a\u53f7: \u65e5\u672c\u306f81).(\u6700\u521d\u306e0\u3092\u9664\u304f\u5e02\u5916\u5c40\u756a\u3092\u542b\u3080\u756a\u53f7\u3002\u30cf\u30a4\u30d5\u30f3\u306f\u4ed8\u3051\u306a\u3044)\"\u306e\u5f62\u5f0f\u3067\u8a18\u8ff0\u3059\u308b\u3002(\u5f62\u5f0f\u30c1\u30a7\u30c3\u30af\u53b3\u3057\u3044)\n\n\nJSON\u3092\u4f5c\u6210\u3057\u305f\u3089\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u58ca\u308c\u3066\u306a\u3044\u304b\u5fc5\u305a\u78ba\u8a8d\u3057\u307e\u3057\u3087\u3046\u3002\n\n```bash:command:\n$ cat contact.json | json_verify\n```\n\n```text:result:\nJSON is valid\n```\n\n\n1. \u30c9\u30e1\u30a4\u30f3\u306e\u5229\u7528\u53ef\u80fd\u78ba\u8a8d\n=========================\n\n\u53d6\u5f97\u53ef\u80fd(Available)\u306a\u30c9\u30e1\u30a4\u30f3\u304c\u307f\u3064\u304b\u308b\u307e\u3067\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u7e70\u308a\u8fd4\u3057\u307e\u3059\u3002\n\n```bash:command(sample):\n$ R53DOMAIN_NAME='example.jp'\n```\n\n```bash:command:\n$ aws --region us-east-1 route53domains check-domain-availability --domain-name ${R53DOMAIN_NAME}\n```\n\n\n```json:result(\u53d6\u5f97\u53ef\u80fd\u306a\u5834\u5408):\n{\n    \"Availability\": \"AVAILABLE\"\n}\n```\n\n```json:result(\u53d6\u5f97\u4e0d\u53ef\u80fd\u306a\u5834\u5408):\n{\n    \"Availability\": \"UNAVAILABLE\"\n}\n```\n\n2. \u30c9\u30e1\u30a4\u30f3\u306e\u53d6\u5f97\n=================\n\n\u53d6\u5f97\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u304c\u78ba\u5b9a\u3057\u305f\u3089\u3001\u5b9f\u969b\u306b\u30c9\u30e1\u30a4\u30f3\u306e\u53d6\u5f97\u3092\u884c\u3044\u307e\u3059\u3002\n\n```bash:command:\n$ R53DOMAIN_YEAR='1'\n$ R53DOMAIN_FILE_ADMIN='contact.json'\n$ R53DOMAIN_FILE_REG='contact.json'\n$ R53DOMAIN_FILE_TECH='contact.json'\n```\n\n```bash:command:\n$ aws --region us-east-1 route53domains register-domain --domain-name ${R53DOMAIN_NAME} --duration-in-years ${R53DOMAIN_YEAR} --admin-contact file://${R53DOMAIN_FILE_ADMIN} --registrant-contact file://${R53DOMAIN_FILE_REG} --tech-contact file://${R53DOMAIN_FILE_TECH} --auto-renew --privacy-protect-admin-contact --privacy-protect-registrant-contact --privacy-protect-tech-contact\n```\n\n```bash:result(sample):\n{\n    \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n}\n```\n\n\n3. \u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u78ba\u8a8d\n=========================\n\n\n3.1. \u51e6\u7406\u72b6\u6cc1\u306e\u78ba\u8a8d\n-------------------\n\n\u30c9\u30e1\u30a4\u30f3\u767b\u9332\u306e\u51e6\u7406\u72b6\u6cc1\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash:command:\n$ aws --region us-east-1 route53domains list-operations\n```\n\n```json:result(sample:\u767b\u9332\u4f5c\u696d\u4e2d):\n   {\n       \"Operations\": [\n           {\n               \"Status\": \"IN_PROGRESS\", \n               \"Type\": \"REGISTER_DOMAIN\", \n               \"SubmittedDate\": 1407500711.711, \n               \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n           }\n       ]\n   }\n```\n\n```json:result(sample:\u767b\u9332\u5b8c\u4e86):\n   {\n       \"Operations\": [\n           {\n               \"Status\": \"SUCCESSFUL\", \n               \"Type\": \"REGISTER_DOMAIN\", \n               \"SubmittedDate\": 1407500711.711, \n               \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n           }\n       ]\n   }\n```\n\n* \u767b\u9332\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001Billing\u30e1\u30fc\u30eb\u304c\u3059\u3050\u5c4a\u304d\u307e\u3059;-)\n\n\n\n3.2. \u30b3\u30f3\u30bf\u30af\u30c8\u5148\u5b58\u5728\u78ba\u8a8d\u30e1\u30fc\u30eb\u306e\u53d7\u4fe1\n-------------------------------------\n\n\u30c9\u30e1\u30a4\u30f3\u767b\u9332\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u3068\u3057\u3066\u767b\u9332\u3057\u305f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u5b58\u5728\u78ba\u8a8d\u30e1\u30fc\u30eb\u304c\u5c4a\u304f\u306e\u3067\u3001\u672c\u6587\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```text:mail(verify):\n   From: Amazon Route 53 <noreply@domainnameverification.net>\n   Date: 2014\u5e748\u67088\u65e5 21:54:39 JST\n   Subject: Verification of your contact data\n   To: info@example.net\n\n\n   Hello,\n\n   This is an important email, and your prompt action is required. If you do not act on the instructions we are providing below, your domain name(s) will be suspended on 2014-08-23 14:27.\n\n   Why is this required?\n   Beginning January 1st, 2014, ICANN requires that registrars verify that domain contacts can be reached. \n\n   What do you need to do?\n   Please confirm that your email address info@example.net can be reached, by clicking on the link below:\n\n   http://domainnameverification.net/?hash=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n\n   If you use this link, we will not need to ask you for any password during this process.\n\n   Amazon Route 53\n\n   To setup your domain, log in to the AWS Console at https://console.aws.amazon.com/route53/home\n```\n\n3.3. \u30b3\u30f3\u30bf\u30af\u30c8\u5148\u5b58\u5728\u78ba\u8a8dweb\u30da\u30fc\u30b8\u3078\u306e\u30a2\u30af\u30bb\u30b9\n-------------------------------------------\n\nURL\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3001'Your contact is now validated.' \u3068\u8868\u793a\u3055\u308c\u308c\u3070\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u5b58\u5728\u78ba\u8a8d\u624b\u7d9a\u304d\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\n\n3.4. \u30b3\u30f3\u30bf\u30af\u30c8\u5148\u5b58\u5728\u78ba\u8a8d\u5b8c\u4e86\u30e1\u30fc\u30eb\u306e\u53d7\u4fe1\n-----------------------------------------\n\nWeb\u3067\u306e\u78ba\u8a8d\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u3068\u3057\u3066\u767b\u9332\u3057\u305f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u5b58\u5728\u78ba\u8a8d\u5b8c\u4e86\u30e1\u30fc\u30eb\u304c\u5c4a\u304d\u307e\u3059\u3002\n\n```text:mail(success):\n   From: Amazon Route 53 <route53-dev-admin@amazon.com>\n   Subject: example.jp was successfully registered with Route 53\n   Date: 2014\u5e748\u67088\u65e5 21:30:41 JST\n   To: Admin <info@example.net>\n\n   Hi,\n   We have successfully registered example.jp. We also created a hosted zone for your domain. This hosted zone is where you store information about how to route traffic for your domain, for example, to an Amazon EC2 instance or a CloudFront distribution. To learn how to add resource record sets to your hosted zone, see Working with Resource Record Sets.\n   If you did not request this change, please contact Amazon Web Services Customer Support immediately.\n   Amazon Route 53\n```\n\n\n4. NameServers\u306e\u78ba\u8a8d\n============================\n\n\u4e00\u5fdc\u3001whois\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306bNameServer\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\n```bash:command:\n$ R53_ZONE_NAME=${R53DOMAIN_NAME}\n$ whois ${R53DOMAIN_NAME} | grep '^Name Server: '\n```\n\n```text:result::\n  Name Server: NS-X.AWSDNS-XX.COM\n  Name Server: NS-XXXX.AWSDNS-XX.CO.UK\n  Name Server: NS-XXX.AWSDNS-XX.NET\n  Name Server: NS-XXXX.AWSDNS-XX.ORG\n```\n\n\n\n5. \u30c9\u30e1\u30a4\u30f3\u79fb\u8ee2\u306e\u9632\u8b77\u8a2d\u5b9a\n=========================\n\n\u4e0d\u6b63\u306b\u30c9\u30e1\u30a4\u30f3\u79fb\u8ee2\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3001\u9632\u8b77\u8a2d\u5b9a\u3092\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n\n5.1. \u8a2d\u5b9a\n---------\n\n```bash:command:\n$ aws --region us-east-1 route53domains enable-domain-transfer-lock --domain-name ${R53DOMAIN_NAME}\n```\n\n```json:result(sample):\n{\n    \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n}\n```\n\n\n5.2. \u8a2d\u5b9a\u5909\u66f4\u306e\u51e6\u7406\u72b6\u6cc1\u78ba\u8a8d\n---------------------------\n\n```bash:command:\n$ aws --region us-east-1 route53domains list-operations\n```\n\n```json:result(sample:transfer-lock):\n{\n       \"Operations\": [\n           {\n               \"Status\": \"SUCCESSFUL\", \n               \"Type\": \"DOMAIN_LOCK\", \n               \"SubmittedDate\": 1407559215.777, \n               \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n           }\n       ]\n}\n```\n\n\n5.3. \u8a2d\u5b9a\u5b8c\u4e86\u901a\u77e5\u30e1\u30fc\u30eb\u306e\u53d7\u4fe1\n-----------------------------\n\n\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u3068\u3057\u3066\u767b\u9332\u3057\u305f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u8a2d\u5b9a\u5b8c\u4e86\u901a\u77e5\u304c\u5c4a\u304d\u307e\u3059\u3002\n\n```text:mail(success):\n   From: Amazon Route 53 <route53-dev-admin@amazon.com>\n   Subject: Domain details update for example.jp succeeded\n   Date: 2014\u5e748\u67089\u65e5 13:40:23 JST\n   To: Admin <info@example.net>\n\n   Hi,\n   We recently received an online request from your AWS account to make the following change:\n   Lock the domain\n   If you requested this change, you don't need to take any further action.\n   If you did not request this change, please contact Amazon Web Services Customer Support immediately.\n   Amazon Route 53\n```\n\n\n(\u4efb\u610f) Privacy Protection\n=========================\n\n\u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u6642\u306bPrivacy Protection\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u4f4f\u6240\u3084\u96fb\u8a71\u756a\u53f7\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306a\u3069\u304cwhois\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\nPrivacy Protection\u306f\u5f8c\u304b\u3089\u3067\u3082\u8a2d\u5b9a\u3067\u304d\u308b\u306e\u3067\u3001\u500b\u4eba\u3067\u306e\u53d6\u5f97\u306e\u5834\u5408\u306f\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002\n\n\n\u8a2d\u5b9a\n----\n\n```bash:command:\n$ aws --region us-east-1 route53domains update-domain-contact-privacy --domain-name ${R53DOMAIN_NAME} --admin-privacy --registrant-privacy --tech-privacy\n```\n\n```json:result(sample):\n{\n    \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n}\n```\n\n\n\u8a2d\u5b9a\u5909\u66f4\u306e\u51e6\u7406\u72b6\u6cc1\u78ba\u8a8d\n----------------------\n\n\u51e6\u7406\u72b6\u6cc1\u306flist-operations\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n```bash:command:\n$ aws --region us-east-1 route53domains list-operations\n```\n\n```json:result(sample:change-privacy-protection:\u629c\u7c8b):\n{\n       \"Operations\": [\n           {\n               \"Status\": \"SUCCESSFUL\", \n               \"Type\": \"CHANGE_PRIVACY_PROTECTION\", \n               \"SubmittedDate\": 1407541562.054, \n               \"OperationId\": \"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"\n           }\n       ]\n}\n```\n\n\n\u8a2d\u5b9a\u5b8c\u4e86\u901a\u77e5\u30e1\u30fc\u30eb\u306e\u53d7\u4fe1\n------------------------\n\n\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u3068\u3057\u3066\u767b\u9332\u3057\u305f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306b\u8a2d\u5b9a\u5b8c\u4e86\u901a\u77e5\u304c\u5c4a\u304d\u307e\u3059\u3002\n\n```text:mail(success):\n   From: Amazon Route 53 <route53-dev-admin@amazon.com>\n   Subject: Domain details update for example.jp succeeded\n   Date: 2014\u5e748\u67089\u65e5 8:46:14 JST\n   To: Admin <info@example.net>\n\n   Hi,\n   We recently received an online request from your AWS account to make the following change:\n   Enable ADMIN contact privacy for the domain example.jp.\n   Enable OWNER contact privacy for the domain example.jp.\n   Enable TECH contact privacy for the domain example.jp.\n   Enable BILL contact privacy for the domain example.jp.\n   If you requested this change, you don't need to take any further action.\n   If you did not request this change, please contact Amazon Web Services Customer Support immediately.\n   Amazon Route 53\n```\n\n\nwhois\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u78ba\u8a8d\n-----------------------\n\nwhois\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u306e\u30b3\u30f3\u30bf\u30af\u30c8\u5148\u304c\u3001\u30ec\u30b8\u30b9\u30c8\u30e9\u306e\u3082\u306e\u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash:command:\n$ whois ${R53DOMAIN_NAME}\n```\n\n```text:result:\n   (snip)\n\n   Registrant Name: Taro Domai\n   Registrant Organization: Example, LLC.\n   Registrant Street: Gandi, 63-65 boulevard Massena\n   Registrant City: (Gandi) Paris\n   Registrant State/Province:\n   Registrant Postal Code: (Gandi) 75013\n   Registrant Country: (Gandi) FR\n   Registrant Phone: (Gandi) +33.170377666\n   Registrant Phone Ext:\n   Registrant Fax: (Gandi) +33.143730576\n   Registrant Fax Ext:\n   Registrant Email: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-XXXXXXX@contact.gandi.net\n   Registry Admin ID:\n   Admin Name: Taro Domai\n   Admin Organization: Example, LLC.\n   Admin Street: Gandi, 63-65 boulevard Massena\n   Admin City: (Gandi) Paris\n   Admin State/Province:\n   Admin Postal Code: (Gandi) 75013\n   Admin Country: (Gandi) FR\n   Admin Phone: (Gandi) +33.170377666\n   Admin Phone Ext:\n   Admin Fax: (Gandi) +33.143730576\n   Admin Fax Ext:\n   Admin Email: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-XXXXXXX@contact.gandi.net\n   Registry Tech ID:\n   Tech Name: Taro Domai\n   Tech Organization: Example, LLC.\n   Tech Street: Gandi, 63-65 boulevard Massena\n   Tech City: (Gandi) Paris\n   Tech State/Province:\n   Tech Postal Code: (Gandi) 75013\n   Tech Country: (Gandi) FR\n   Tech Phone: (Gandi) +33.170377666\n   Tech Phone Ext:\n   Tech Fax: (Gandi) +33.143730576\n   Tech Fax Ext:\n   Tech Email: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-XXXXXXX@contact.gandi.net\n```\n\n6. hosted zone\u306e\u78ba\u8a8d\n====================\n\n\u53d6\u5f97\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u306eRoute53\u3067\u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n\n6.1. hosted zone ID\u306e\u53d6\u5f97\n-------------------------\n\n\u307e\u305a\u3001hosted zone ID\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\n```bash:command:\n$ R53_ZONE_ID=`aws route53 list-hosted-zones | jq --arg zone_name ${R53_ZONE_NAME} -r '.HostedZones[]|select(.Name |contains($zone_name))|.Id' | sed 's/\\/hostedzone\\///'` && echo ${R53_ZONE_ID}\n```\n\n```text:result(sample):\n   ZXXXXXXXXXXXXX\n```\n\n\n6.2. \u30be\u30fc\u30f3\u60c5\u5831\u306e\u53d6\u5f97\n-------------------\n\nhosted zone ID\u3092\u30ad\u30fc\u306b\u30be\u30fc\u30f3\u60c5\u5831\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash:command:\n   $ aws route53 list-resource-record-sets --hosted-zone-id /hostedzone/${R53_ZONE_ID}\n```\n\n```json:result(default):\n   {\n       \"ResourceRecordSets\": [\n           {\n               \"ResourceRecords\": [\n                   {\n                       \"Value\": \"ns-XXXX.awsdns-XX.co.uk.\"\n                   }, \n                   {\n                       \"Value\": \"ns-XXX.awsdns-XX.com.\"\n                   }, \n                   {\n                       \"Value\": \"ns-XXX.awsdns-XX.net.\"\n                   }, \n                   {\n                       \"Value\": \"ns-XXXX.awsdns-XX.org.\"\n                   }\n               ], \n               \"Type\": \"NS\", \n               \"Name\": \"example.jp.\", \n               \"TTL\": 172800\n           }, \n           {\n               \"ResourceRecords\": [\n                   {\n                       \"Value\": \"ns-XXXX.awsdns-XX.co.uk. awsdns-hostmaster.amazon.com. 1 7200 900 1209600 86400\"\n                   }\n               ], \n               \"Type\": \"SOA\", \n               \"Name\": \"example.jp.\", \n               \"TTL\": 900\n           }\n       ]\n}\n```\n\n\u3053\u306e\u6642\u70b9\u3067\u306f\u3001SOA\u30ec\u30b3\u30fc\u30c9\u3068NS\u30ec\u30b3\u30fc\u30c9\u3060\u3051\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\n7. ns\u30ec\u30b3\u30fc\u30c9\u306e\u78ba\u8a8d\n====================\n\n\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u3067\u5b9f\u969b\u306bns\u30ec\u30b3\u30fc\u30c9\u304c\u5f15\u3051\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```bash:command:\n$ dig ns ${R53_ZONE_NAME}\n```\n\n```text:result:\n   ; <<>> DiG 9.8.3-P1 <<>> ns example.jp\n   ;; global options: +cmd\n   ;; Got answer:\n   ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 17924\n   ;; flags: qr rd ra; QUERY: 1, ANSWER: 4, AUTHORITY: 0, ADDITIONAL: 0\n\n   ;; QUESTION SECTION:\n   ;example.jp.\t\t\tIN\tNS\n\n   ;; ANSWER SECTION:\n   example.jp.\t\t172800\tIN\tNS\tns-XXXX.awsdns-XX.org.\n   example.jp.\t\t172800\tIN\tNS\tns-XXXX.awsdns-XX.co.uk.\n   example.jp.\t\t172800\tIN\tNS\tns-XXX.awsdns-XX.net.\n   example.jp.\t\t172800\tIN\tNS\tns-X.awsdns-XX.com.\n\n   ;; Query time: 378 msec\n   ;; SERVER: 192.168.0.1#53(192.168.0.1)\n   ;; WHEN: Sat Aug  9 22:15:39 2014\n```\n\n# \u6b21\u306f\n\n\u3053\u306e\u624b\u9806\u3067\u306f\u4ee5\u4e0b\u304c\u5b8c\u4e86\u3057\u3001\u30c9\u30e1\u30a4\u30f3\u904b\u7528\u306e\u57fa\u76e4\u7684\u306a\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\n* \u30c9\u30e1\u30a4\u30f3\u306e\u53d6\u5f97\n* whios\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u767b\u9332\n* \u30be\u30fc\u30f3\u60c5\u5831\u306e\u4f5c\u6210 (SOA/NS)\n\n\u3053\u306e\u5f8c\u306f\u3001\u500b\u5225\u306e\u30ea\u30bd\u30fc\u30b9\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3057\u3066\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u5b9f\u904b\u7528\u3092\u3057\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n", "tags": ["AWS", "aws-cli", "route53"]}