{"tags": ["ufw", "CentOS"], "context": " More than 1 year has passed since last update.iptables\u3092\u76f4\u63a5\u3044\u3058\u308a\u305f\u304f\u306a\u3044\u306e\u3067ufw\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\nsudo yum install wget make\nmkdir -p ~/src\ncd ~/src\nwget https://launchpad.net/ufw/0.33/0.33/+download/ufw-0.33.tar.gz\ntar xzf ufw-0.33.tar.gz\ncd ufw-0.33\nsudo python ./setup.py install\ncd ../\nsudo rm -rf ufw-0.33\nsudo chmod -R g-w /etc/ufw /lib/ufw /etc/default/ufw /usr/sbin/ufw\n\nsudo service iptables stop\nsudo service ip6tables stop\nsudo chkconfig --del iptables\nsudo chkconfig --del ip6tables\n\n$ sudo ufw status\nStatus: inactive\n\n$ sudo ufw reset\n$ sudo ufw default deny\n$ sudo ufw allow 22\n$ sudo ufw allow 80\n$ sudo ufw allow 443\n$ sudo ufw enable\n$ sudo ufw status\nStatus: active\n\nTo                         Action      From\n--                         ------      ----\n22                         ALLOW       Anywhere\n80                         ALLOW       Anywhere\n443                        ALLOW       Anywhere\n22                         ALLOW       Anywhere (v6)\n80                         ALLOW       Anywhere (v6)\n443                        ALLOW       Anywhere (v6)\n\n\u5ff5\u306e\u305f\u3081\u5225\u30b3\u30f3\u30bd\u30fc\u30eb\u958b\u3044\u3066ssh\u7e4b\u304c\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044(ssh\u7e4b\u3052\u305f\u307e\u307e)\n\u6b21\u306f\u5e38\u6642\u8d77\u52d5\u8a2d\u5b9a\nsudo sh -c \"echo '/usr/sbin/ufw enable' >> /etc/rc.local\"\n$ sudo cat /etc/rc.local | tail -3 # \u5ff5\u306e\u305f\u3081\u78ba\u8a8d\n\ntouch /var/lock/subsys/local\n/usr/sbin/ufw enable\n$ sudo reboot\n\n\u7acb\u3061\u4e0a\u304c\u3063\u305f\u3089\u3061\u3083\u3093\u3068\u8d77\u52d5\u3067\u304d\u3066\u308b\u304b\u78ba\u8a8d\n$ sudo ufw status\nStatus: active\n\nTo                         Action      From\n--                         ------      ----\n22                         ALLOW       Anywhere\n80                         ALLOW       Anywhere\n443                        ALLOW       Anywhere\n22                         ALLOW       Anywhere (v6)\n80                         ALLOW       Anywhere (v6)\n443                        ALLOW       Anywhere (v6)\n\n\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\n\u53c2\u8003: http://mitsuakikawamorita.com/blog/?p=1375\n\u53c2\u8003: http://g6g6g6g6g6.tumblr.com/post/64294729570/centos-utf\niptables\u3092\u76f4\u63a5\u3044\u3058\u308a\u305f\u304f\u306a\u3044\u306e\u3067ufw\u3092\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n    sudo yum install wget make\n    mkdir -p ~/src\n    cd ~/src\n    wget https://launchpad.net/ufw/0.33/0.33/+download/ufw-0.33.tar.gz\n    tar xzf ufw-0.33.tar.gz\n    cd ufw-0.33\n    sudo python ./setup.py install\n    cd ../\n    sudo rm -rf ufw-0.33\n    sudo chmod -R g-w /etc/ufw /lib/ufw /etc/default/ufw /usr/sbin/ufw\n\n    sudo service iptables stop\n    sudo service ip6tables stop\n    sudo chkconfig --del iptables\n    sudo chkconfig --del ip6tables\n\n    $ sudo ufw status\n    Status: inactive\n\n    $ sudo ufw reset\n    $ sudo ufw default deny\n    $ sudo ufw allow 22\n    $ sudo ufw allow 80\n    $ sudo ufw allow 443\n    $ sudo ufw enable\n    $ sudo ufw status\n    Status: active\n\n    To                         Action      From\n    --                         ------      ----\n    22                         ALLOW       Anywhere\n    80                         ALLOW       Anywhere\n    443                        ALLOW       Anywhere\n    22                         ALLOW       Anywhere (v6)\n    80                         ALLOW       Anywhere (v6)\n    443                        ALLOW       Anywhere (v6)\n\n\u5ff5\u306e\u305f\u3081\u5225\u30b3\u30f3\u30bd\u30fc\u30eb\u958b\u3044\u3066ssh\u7e4b\u304c\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044(ssh\u7e4b\u3052\u305f\u307e\u307e)\n\n\u6b21\u306f\u5e38\u6642\u8d77\u52d5\u8a2d\u5b9a\n\n    sudo sh -c \"echo '/usr/sbin/ufw enable' >> /etc/rc.local\"\n    $ sudo cat /etc/rc.local | tail -3 # \u5ff5\u306e\u305f\u3081\u78ba\u8a8d\n\n    touch /var/lock/subsys/local\n    /usr/sbin/ufw enable\n    $ sudo reboot\n\n\u7acb\u3061\u4e0a\u304c\u3063\u305f\u3089\u3061\u3083\u3093\u3068\u8d77\u52d5\u3067\u304d\u3066\u308b\u304b\u78ba\u8a8d\n\n    $ sudo ufw status\n    Status: active\n\n    To                         Action      From\n    --                         ------      ----\n    22                         ALLOW       Anywhere\n    80                         ALLOW       Anywhere\n    443                        ALLOW       Anywhere\n    22                         ALLOW       Anywhere (v6)\n    80                         ALLOW       Anywhere (v6)\n    443                        ALLOW       Anywhere (v6)\n\n\n\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\n\n\u53c2\u8003: http://mitsuakikawamorita.com/blog/?p=1375\n\u53c2\u8003: http://g6g6g6g6g6.tumblr.com/post/64294729570/centos-utf\n"}