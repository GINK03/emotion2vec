{"context": " More than 1 year has passed since last update.\n\nSQLite\u306eDAO\u3092\u3064\u304f\u3063\u3066\u307f\u305f\n\u521d\u6295\u7a3f\u306a\u306e\u3067\u6570\u5e74\u524d\u306b\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u3092\u30b6\u30c3\u30af\u30ea\u3068\u516c\u958b\u3057\u307e\u3059\u3002\nAndroid\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30a2\u30af\u30bb\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002\n\u691c\u7d22\u3060\u3051\u5b9f\u88c5\u3057\u307e\u3057\u305f\n\n\u30b3\u30fc\u30c9\n\n\u4f7f\u3044\u65b9\n//\u51fa\u529b\u30ab\u30e9\u30e0\u306e\u60c5\u5831\nHashMap<String,String> outputInfo = new HashMap<String,String>();\noutputInfo.put(\"COLUMNS\",\"ID,NAME,AGE\");\noutputInfo.put(\"FROM\",\"USER_INFO\");\n\n\n//\u691c\u7d22\u6761\u4ef6\u306e\u60c5\u5831\nHashMap<String,String> searchInfo = new HashMap<String,String>();\nsearchInfo.put(\"WHERE\",\"ID>30 AND ID<50\");\n\n//\u691c\u7d22\nHashMap<String,String> resultMap = selectList(activty,outputInfo,searchInfo);\n\n\n\nDAO\u5b9a\u7fa9\n\npublic static List<HashMap<String,String>> selectList(Context con , HashMap<String,String> outMap,HashMap<String,String> inMap) {\n\n        String SELECT_BASIC = \" select \"+ outMap.get(\"COLUMNS\") + \" from \" + inMap.get(\"FROM\");\n        if(inMap.get(\"WHERE\") != null) {\n            SELECT_BASIC = SELECT_BASIC + \" WHERE \" + inMap.get(\"WHERE\");\n        }\n        if(inMap.get(\"ORDERASC\") != null) {\n            SELECT_BASIC = SELECT_BASIC + \" ORDER BY \" + inMap.get(\"ORDERASC\") + \" ASC\";\n        }\n        if(inMap.get(\"ORDERDESC\") != null) {\n            SELECT_BASIC = SELECT_BASIC +\" ORDER BY \" +  inMap.get(\"ORDERDESC\") + \" DESC\";\n        }\n        Log.d(Systems.GAME_TITLE,\"\"+SELECT_BASIC);\n\n\n        DBAdapter dba = new DBAdapter(con);\n        SQLiteDatabase db = dba.getWritableDatabase();\n\n        String sql = SELECT_BASIC;\n        Cursor cursor = null;\n        cursor = db.rawQuery(sql,null);\n\n        int count = cursor.getCount();\n        Log.d(Systems.GAME_TITLE,\"SQL_RECORD_COUNT:\"+count);\n        //\u53d6\u5f97\u3067\u304d\u306a\u304b\u3063\u305f\u5834\u5408\u3001null\u3092\u8fd4\u3059\u3002\n        if(count == 0) {\n            return null;\n        }\n        //\u7d50\u679c\u3092\u683c\u7d0d\n        List<HashMap<String,String>> result = new ArrayList<HashMap<String,String>>();\n        while(cursor.moveToNext()){\n            //Log.d(Systems.GAME_TITLE,\"SQL_COLUMNS_COUNT:\"+cursor.getColumnCount());\n            count = cursor.getColumnCount();\n            HashMap<String,String> tmp = new HashMap<String,String>();\n            int i = 0;\n            while(true){\n                if((count) > i){\n                    tmp.put(cursor.getColumnName(i),cursor.getString(i));\n                    i++;\n                }else{\n                    break;\n                }\n            }\n            result.add(tmp);\n        }\n        //db.commit();\n        db.close();\n\n        return result;\n    }\n\n\n#SQLite\u306eDAO\u3092\u3064\u304f\u3063\u3066\u307f\u305f\n\u521d\u6295\u7a3f\u306a\u306e\u3067\u6570\u5e74\u524d\u306b\u66f8\u3044\u305f\u30b3\u30fc\u30c9\u3092\u30b6\u30c3\u30af\u30ea\u3068\u516c\u958b\u3057\u307e\u3059\u3002\n\nAndroid\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30a2\u30af\u30bb\u30b9\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\u3002\n\u691c\u7d22\u3060\u3051\u5b9f\u88c5\u3057\u307e\u3057\u305f\n\n##\u30b3\u30fc\u30c9\n\n###\u4f7f\u3044\u65b9\n```java\n//\u51fa\u529b\u30ab\u30e9\u30e0\u306e\u60c5\u5831\nHashMap<String,String> outputInfo = new HashMap<String,String>();\noutputInfo.put(\"COLUMNS\",\"ID,NAME,AGE\");\noutputInfo.put(\"FROM\",\"USER_INFO\");\n\n\n//\u691c\u7d22\u6761\u4ef6\u306e\u60c5\u5831\nHashMap<String,String> searchInfo = new HashMap<String,String>();\nsearchInfo.put(\"WHERE\",\"ID>30 AND ID<50\");\n\n//\u691c\u7d22\nHashMap<String,String> resultMap = selectList(activty,outputInfo,searchInfo);\n\n```\n\n###DAO\u5b9a\u7fa9\n```java\n\npublic static List<HashMap<String,String>> selectList(Context con , HashMap<String,String> outMap,HashMap<String,String> inMap) {\n        \n        String SELECT_BASIC = \" select \"+ outMap.get(\"COLUMNS\") + \" from \" + inMap.get(\"FROM\");\n        if(inMap.get(\"WHERE\") != null) {\n            SELECT_BASIC = SELECT_BASIC + \" WHERE \" + inMap.get(\"WHERE\");\n        }\n        if(inMap.get(\"ORDERASC\") != null) {\n            SELECT_BASIC = SELECT_BASIC + \" ORDER BY \" + inMap.get(\"ORDERASC\") + \" ASC\";\n        }\n        if(inMap.get(\"ORDERDESC\") != null) {\n            SELECT_BASIC = SELECT_BASIC +\" ORDER BY \" +  inMap.get(\"ORDERDESC\") + \" DESC\";\n        }\n        Log.d(Systems.GAME_TITLE,\"\"+SELECT_BASIC);\n        \n        \n        DBAdapter dba = new DBAdapter(con);\n        SQLiteDatabase db = dba.getWritableDatabase();\n        \n        String sql = SELECT_BASIC;\n        Cursor cursor = null;\n        cursor = db.rawQuery(sql,null);\n        \n        int count = cursor.getCount();\n        Log.d(Systems.GAME_TITLE,\"SQL_RECORD_COUNT:\"+count);\n        //\u53d6\u5f97\u3067\u304d\u306a\u304b\u3063\u305f\u5834\u5408\u3001null\u3092\u8fd4\u3059\u3002\n        if(count == 0) {\n            return null;\n        }\n        //\u7d50\u679c\u3092\u683c\u7d0d\n        List<HashMap<String,String>> result = new ArrayList<HashMap<String,String>>();\n        while(cursor.moveToNext()){\n            //Log.d(Systems.GAME_TITLE,\"SQL_COLUMNS_COUNT:\"+cursor.getColumnCount());\n            count = cursor.getColumnCount();\n            HashMap<String,String> tmp = new HashMap<String,String>();\n            int i = 0;\n            while(true){\n                if((count) > i){\n                    tmp.put(cursor.getColumnName(i),cursor.getString(i));\n                    i++;\n                }else{\n                    break;\n                }\n            }\n            result.add(tmp);\n        }\n        //db.commit();\n        db.close();\n        \n        return result;\n    }\n\n```\n", "tags": ["Android", "SQLite3"]}