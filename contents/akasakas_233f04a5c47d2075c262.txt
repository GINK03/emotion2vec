{"tags": ["docker", "boot2docker", "Selenium", "Selenium2", "Ruby"], "context": " More than 1 year has passed since last update.\n\n \u524d\u63d0\n\nDocker \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb&\u8a2d\u5b9a\u6e08\u307f\n\nDocker \u8d85\u5165\u9580 \u301c Boot2Docker \u5c0e\u5165\u304b\u3089 HelloWorld \u307e\u3067\u301c\n\n Docker Image \u53d6\u5f97\nhttps://registry.hub.docker.com/repos/selenium/\n\u304b\u3089 selenium/hub \u3068 selenium/node-chrome-debug\u3092\u3068\u3063\u3066\u304f\u308b\n$ docker run -d -p 4444:4444 --name selenium-hub selenium/hub\n$ docker run -d -v /dev/urandom:/dev/random -P --link selenium-hub:hub selenium/node-chrome-debug:\n\n\u3067Hub \u3068 Node \u3092\u8d77\u52d5\nboot2docker ip\u78ba\u8a8d\n$ boot2docker ip\n\n\u30b3\u30f3\u30c6\u30ca\u78ba\u8a8d\n\n$ docker ps\n\nCONTAINER ID        IMAGE                               COMMAND                CREATED             STATUS              PORTS                     NAMES\ne5cb8aa82960        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   25 hours ago        Up 5 seconds        0.0.0.0:49154->5900/tcp   gloomy_sinoussi\nd495bfc3d1dd        selenium/hub:latest                 \"/opt/bin/entry_poin   25 hours ago        Up 4 minutes        0.0.0.0:4444->4444/tcp    selenium-hub\n\n\u30dd\u30fc\u30c8\u78ba\u8a8d\n$ docker port e5cb8aa82960\n\n5900/tcp -> 0.0.0.0:49154\n\n\u4e0b\u8a18\u3078\u30a2\u30af\u30bb\u30b9\nhttp://<boot2docker-ip>:4444/grid/console\n\n\n\n VNC\u3078\u63a5\u7d9a\u3059\u308b\nMac\u3067\u306eboot2docker \u306f VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u65e2\u306b\u5165\u3063\u3066\u3044\u308b\u306e\u3067\nSafari\u304bAlfred\u3067\u4e0b\u8a18\u306b\u30a2\u30af\u30bb\u30b9\nvnc://<boot2docker-ip>:49154\n\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u805e\u304b\u308c\u308b\u306e\u3067\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u300csecret\u300d\u3092\u5165\u529b\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u753b\u9762\u304c\u3067\u3066\u304f\u308b\u3002\n\n\n selenium grid\u4e0a\u3067 selenium webdriver \u3092\u52d5\u304b\u3057\u3066\u307f\u308b\n\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3053\u3093\u306a\u611f\u3058\n# google.rb\n\nrequire 'rubygems'\nrequire 'selenium-webdriver'\n\ndriver = Selenium::WebDriver.for :remote, url: 'http://<boot2docker-ip>:4444/wd/hub', desired_capabilities: :chrome\n\ndriver.navigate.to \"http://google.com\"\ndriver.save_screenshot \"google.png\"\n\ndriver.quit\n\n\nruby google.rb \u3067\u5b9f\u884c\uff01\uff01\n\n\u30b9\u30af\u30b7\u30e7\u3068\u308c\u3066\u307e\u3059\u3088\u301c\u3002\u611f\u52d5\uff01\uff01\n\n \u30ce\u30fc\u30c9\u6570\u3092\u5897\u3084\u3057\u3066\u3001\u4e26\u5217\u5b9f\u884c\u3084\u3063\u3066\u307f\u308b\nfig\u3092\u4f7f\u3063\u3066\u307f\u308b\u3002\nbrew install fig\n\nyaml\u5f62\u5f0f\u3067\u3059\u3002\n# docker-compose.yml\n\nhub:\n  image: selenium/hub\n  ports:\n    - \"4444\"\n\nnode:\n  image: selenium/node-chrome-debug\n  ports:\n    - \"5900\"\n  links:\n    - hub\n\n\n\u8d77\u52d5\u3057\u3066\u307f\u308b\n$ fig up -d\n\nCreating seleniumgrid_hub_1...\nCreating seleniumgrid_node_1...\n\n\u30ce\u30fc\u30c9\u6570\u3092\u5897\u3084\u3057\u3066\u307f\u308b\n$ fig scale node=10\n\nCreating seleniumgrid_node_2...\nCreating seleniumgrid_node_3...\nCreating seleniumgrid_node_4...\nCreating seleniumgrid_node_5...\nCreating seleniumgrid_node_6...\nCreating seleniumgrid_node_7...\nCreating seleniumgrid_node_8...\nCreating seleniumgrid_node_9...\nCreating seleniumgrid_node_10...\nStarting seleniumgrid_node_2...\nStarting seleniumgrid_node_3...\nStarting seleniumgrid_node_4...\nStarting seleniumgrid_node_5...\nStarting seleniumgrid_node_6...\nStarting seleniumgrid_node_7...\nStarting seleniumgrid_node_8...\nStarting seleniumgrid_node_9...\nStarting seleniumgrid_node_10...\n\n\u5897\u3048\u3066\u308b\u3002\u5897\u3048\u3066\u308b\u3002\n\n\u30b3\u30f3\u30c6\u30ca\u78ba\u8a8d\n$ docker ps\n\n\nCONTAINER ID        IMAGE                               COMMAND                CREATED             STATUS              PORTS                     NAMES\n848cfbfea229        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   27 seconds ago      Up 21 seconds       0.0.0.0:49165->5900/tcp   seleniumgrid_node_10\naefd6e22fc38        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 22 seconds       0.0.0.0:49164->5900/tcp   seleniumgrid_node_9\n31a5deab92f6        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 23 seconds       0.0.0.0:49163->5900/tcp   seleniumgrid_node_8\n9a1f2b57d2fd        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 24 seconds       0.0.0.0:49162->5900/tcp   seleniumgrid_node_7\ne8248a7f54f1        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 25 seconds       0.0.0.0:49161->5900/tcp   seleniumgrid_node_6\n3ffe25779686        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 25 seconds       0.0.0.0:49160->5900/tcp   seleniumgrid_node_5\n112ab5748233        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 26 seconds       0.0.0.0:49158->5900/tcp   seleniumgrid_node_3\n1cd0614af078        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 27 seconds       0.0.0.0:49157->5900/tcp   seleniumgrid_node_2\nf205fe9716a0        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 26 seconds       0.0.0.0:49159->5900/tcp   seleniumgrid_node_4\n04690c0dcea8        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   56 seconds ago      Up 55 seconds       0.0.0.0:49156->5900/tcp   seleniumgrid_node_1\n64cecc30b7b2        selenium/hub:latest                 \"/opt/bin/entry_poin   57 seconds ago      Up 56 seconds       0.0.0.0:49155->4444/tcp   seleniumgrid_hub_1\ne5cb8aa82960        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   26 hours ago        Up About an hour    0.0.0.0:49154->5900/tcp   gloomy_sinoussi\nd495bfc3d1dd        selenium/hub:latest                 \"/opt/bin/entry_poin   26 hours ago        Up About an hour    0.0.0.0:4444->4444/tcp    selenium-hub\n\n\n\u5897\u3048\u3066\u308b\u3002\u5897\u3048\u3066\u308b\u3002\n$ docker port seleniumgrid_hub_1\n\n4444/tcp -> 0.0.0.0:49155\n\nhttp://<boot2docker-ip>:49155/grid/console\n\n\u3078\u30a2\u30af\u30bb\u30b9\u3002\n\n\u5897\u3048\u3066\u308b\u3002\u5897\u3048\u3066\u308b\u3002\n\n\u4e26\u5217\u5b9f\u884c\u3059\u308b\u969b\u306f\ndriver = Selenium::WebDriver.for :remote, url: 'http://<boot2docker-ip>:49155/wd/hub', desired_capabilities: :chrome\n\n\u306b\u3057\u3066\u5b9f\u884c\u3059\u308c\u3070\u6d41\u308c\u308b\u611f\u3058\u3063\u3059\u306d\u3002\n\n Special Thanks\nDocker Hub \u306e Selenium Hub/Node \u30a4\u30e1\u30fc\u30b8 + fig \u3067 Selenium Grid \u69cb\u7bc9\u3057\u3066\u307f\u305f - Thanks Driven Life\nDocker \u3067 Selenium Grid \u306e\u74b0\u5883\u69cb\u7bc9\u3092\u3082\u3063\u3068\u697d\u306b\uff01 | Cybozu Inside Out | \u30b5\u30a4\u30dc\u30a6\u30ba\u30a8\u30f3\u30b8\u30cb\u30a2\u306e\u30d6\u30ed\u30b0\nDocker Hub Registry - Repositories of Docker Images\n### :black_square_button: \u524d\u63d0\n- Docker \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb&\u8a2d\u5b9a\u6e08\u307f\n\n[Docker \u8d85\u5165\u9580 \u301c Boot2Docker \u5c0e\u5165\u304b\u3089 HelloWorld \u307e\u3067\u301c](http://qiita.com/akasakas/items/cf53aa6d9d4aa7086f93)\n\n### :black_square_button: Docker Image \u53d6\u5f97\n\nhttps://registry.hub.docker.com/repos/selenium/\n\n\u304b\u3089 selenium/hub \u3068 selenium/node-chrome-debug\u3092\u3068\u3063\u3066\u304f\u308b\n\n```shell-session\n$ docker run -d -p 4444:4444 --name selenium-hub selenium/hub\n$ docker run -d -v /dev/urandom:/dev/random -P --link selenium-hub:hub selenium/node-chrome-debug:\n```\n\n\u3067Hub \u3068 Node \u3092\u8d77\u52d5\n\nboot2docker ip\u78ba\u8a8d\n\n```shell-session\n$ boot2docker ip\n```\n\n\u30b3\u30f3\u30c6\u30ca\u78ba\u8a8d\n\n```shell-session\n\n$ docker ps\n\nCONTAINER ID        IMAGE                               COMMAND                CREATED             STATUS              PORTS                     NAMES\ne5cb8aa82960        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   25 hours ago        Up 5 seconds        0.0.0.0:49154->5900/tcp   gloomy_sinoussi\nd495bfc3d1dd        selenium/hub:latest                 \"/opt/bin/entry_poin   25 hours ago        Up 4 minutes        0.0.0.0:4444->4444/tcp    selenium-hub\n```\n\n\u30dd\u30fc\u30c8\u78ba\u8a8d\n\n```shell-session\n$ docker port e5cb8aa82960\n\n5900/tcp -> 0.0.0.0:49154\n```\n\n\u4e0b\u8a18\u3078\u30a2\u30af\u30bb\u30b9\n\n```\nhttp://<boot2docker-ip>:4444/grid/console\n```\n<img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/R/RealFightProgrammer/20150411/20150411162837.png\">\n\n\n### :black_square_button: VNC\u3078\u63a5\u7d9a\u3059\u308b\n\nMac\u3067\u306eboot2docker \u306f VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u65e2\u306b\u5165\u3063\u3066\u3044\u308b\u306e\u3067\nSafari\u304bAlfred\u3067\u4e0b\u8a18\u306b\u30a2\u30af\u30bb\u30b9\n\n``` vnc://<boot2docker-ip>:49154 ```\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u805e\u304b\u308c\u308b\u306e\u3067\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u300csecret\u300d\u3092\u5165\u529b\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u753b\u9762\u304c\u3067\u3066\u304f\u308b\u3002\n\n<img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/R/RealFightProgrammer/20150411/20150411180914.png\" width=300>\n\n### :black_square_button: selenium grid\u4e0a\u3067 selenium webdriver \u3092\u52d5\u304b\u3057\u3066\u307f\u308b\n\n\u30b5\u30f3\u30d7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3053\u3093\u306a\u611f\u3058\n\n```ruby\n# google.rb\n\nrequire 'rubygems'\nrequire 'selenium-webdriver'\n \ndriver = Selenium::WebDriver.for :remote, url: 'http://<boot2docker-ip>:4444/wd/hub', desired_capabilities: :chrome\n\ndriver.navigate.to \"http://google.com\"\ndriver.save_screenshot \"google.png\"\n\ndriver.quit\n\n```\n\nruby google.rb \u3067\u5b9f\u884c\uff01\uff01\n\n<img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/R/RealFightProgrammer/20150412/20150412183415.png\" width=300>\n\n\u30b9\u30af\u30b7\u30e7\u3068\u308c\u3066\u307e\u3059\u3088\u301c\u3002\u611f\u52d5\uff01\uff01\n\n\n### :black_square_button: \u30ce\u30fc\u30c9\u6570\u3092\u5897\u3084\u3057\u3066\u3001\u4e26\u5217\u5b9f\u884c\u3084\u3063\u3066\u307f\u308b\n\nfig\u3092\u4f7f\u3063\u3066\u307f\u308b\u3002\n\n```sh\nbrew install fig\n```\n\nyaml\u5f62\u5f0f\u3067\u3059\u3002\n\n```yaml\n# docker-compose.yml\n\nhub:\n  image: selenium/hub\n  ports:\n    - \"4444\"\n\nnode:\n  image: selenium/node-chrome-debug\n  ports:\n    - \"5900\"\n  links:\n    - hub\n\n```\n\n\u8d77\u52d5\u3057\u3066\u307f\u308b\n\n```shell-session\n$ fig up -d\n\nCreating seleniumgrid_hub_1...\nCreating seleniumgrid_node_1...\n``` \n\n\u30ce\u30fc\u30c9\u6570\u3092\u5897\u3084\u3057\u3066\u307f\u308b\n\n```shell-session\n$ fig scale node=10\n\nCreating seleniumgrid_node_2...\nCreating seleniumgrid_node_3...\nCreating seleniumgrid_node_4...\nCreating seleniumgrid_node_5...\nCreating seleniumgrid_node_6...\nCreating seleniumgrid_node_7...\nCreating seleniumgrid_node_8...\nCreating seleniumgrid_node_9...\nCreating seleniumgrid_node_10...\nStarting seleniumgrid_node_2...\nStarting seleniumgrid_node_3...\nStarting seleniumgrid_node_4...\nStarting seleniumgrid_node_5...\nStarting seleniumgrid_node_6...\nStarting seleniumgrid_node_7...\nStarting seleniumgrid_node_8...\nStarting seleniumgrid_node_9...\nStarting seleniumgrid_node_10...\n```\n\n\u5897\u3048\u3066\u308b\u3002\u5897\u3048\u3066\u308b\u3002\n</br>\n\u30b3\u30f3\u30c6\u30ca\u78ba\u8a8d\n\n```shell-session\n$ docker ps\n\n\nCONTAINER ID        IMAGE                               COMMAND                CREATED             STATUS              PORTS                     NAMES\n848cfbfea229        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   27 seconds ago      Up 21 seconds       0.0.0.0:49165->5900/tcp   seleniumgrid_node_10\naefd6e22fc38        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 22 seconds       0.0.0.0:49164->5900/tcp   seleniumgrid_node_9\n31a5deab92f6        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 23 seconds       0.0.0.0:49163->5900/tcp   seleniumgrid_node_8\n9a1f2b57d2fd        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 24 seconds       0.0.0.0:49162->5900/tcp   seleniumgrid_node_7\ne8248a7f54f1        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 25 seconds       0.0.0.0:49161->5900/tcp   seleniumgrid_node_6\n3ffe25779686        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 25 seconds       0.0.0.0:49160->5900/tcp   seleniumgrid_node_5\n112ab5748233        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 26 seconds       0.0.0.0:49158->5900/tcp   seleniumgrid_node_3\n1cd0614af078        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 27 seconds       0.0.0.0:49157->5900/tcp   seleniumgrid_node_2\nf205fe9716a0        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   28 seconds ago      Up 26 seconds       0.0.0.0:49159->5900/tcp   seleniumgrid_node_4\n04690c0dcea8        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   56 seconds ago      Up 55 seconds       0.0.0.0:49156->5900/tcp   seleniumgrid_node_1\n64cecc30b7b2        selenium/hub:latest                 \"/opt/bin/entry_poin   57 seconds ago      Up 56 seconds       0.0.0.0:49155->4444/tcp   seleniumgrid_hub_1\ne5cb8aa82960        selenium/node-chrome-debug:latest   \"/opt/bin/entry_poin   26 hours ago        Up About an hour    0.0.0.0:49154->5900/tcp   gloomy_sinoussi\nd495bfc3d1dd        selenium/hub:latest                 \"/opt/bin/entry_poin   26 hours ago        Up About an hour    0.0.0.0:4444->4444/tcp    selenium-hub\n\n```\n\n\u5897\u3048\u3066\u308b\u3002\u5897\u3048\u3066\u308b\u3002\n\n```shell-session\n$ docker port seleniumgrid_hub_1\n\n4444/tcp -> 0.0.0.0:49155\n```\n\n```\nhttp://<boot2docker-ip>:49155/grid/console\n```\n\n\u3078\u30a2\u30af\u30bb\u30b9\u3002\n</br>\n\u5897\u3048\u3066\u308b\u3002\u5897\u3048\u3066\u308b\u3002\n\n<img src=\"http://cdn-ak.f.st-hatena.com/images/fotolife/R/RealFightProgrammer/20150412/20150412185517.png\" width=300>\n\n\n\u4e26\u5217\u5b9f\u884c\u3059\u308b\u969b\u306f\n\n```ruby\ndriver = Selenium::WebDriver.for :remote, url: 'http://<boot2docker-ip>:49155/wd/hub', desired_capabilities: :chrome\n```\n\n\u306b\u3057\u3066\u5b9f\u884c\u3059\u308c\u3070\u6d41\u308c\u308b\u611f\u3058\u3063\u3059\u306d\u3002\n\n\n### :black_square_button: Special Thanks \n\n[Docker Hub \u306e Selenium Hub/Node \u30a4\u30e1\u30fc\u30b8 + fig \u3067 Selenium Grid \u69cb\u7bc9\u3057\u3066\u307f\u305f - Thanks Driven Life](http://gongo.hatenablog.com/entry/2014/12/02/002148)\n\n[Docker \u3067 Selenium Grid \u306e\u74b0\u5883\u69cb\u7bc9\u3092\u3082\u3063\u3068\u697d\u306b\uff01 | Cybozu Inside Out | \u30b5\u30a4\u30dc\u30a6\u30ba\u30a8\u30f3\u30b8\u30cb\u30a2\u306e\u30d6\u30ed\u30b0](http://developer.cybozu.co.jp/tech/?p=8113)\n\n[Docker Hub Registry - Repositories of Docker Images](https://registry.hub.docker.com/repos/selenium/)\n"}