{"tags": ["php-fpm", "nignx", "Linux"], "context": " More than 1 year has passed since last update.\n\n\u53c2\u8003\u30b5\u30a4\u30c8\nPHP-FPM\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\n\nPHP-FPM\u3092remi\u7d4c\u7531\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum --enablerepo=remi install php php-fpm -y\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\nsudo cp /etc/php-fpm.d/www.conf  /etc/php-fpm.d/www.conf.org\n\nsudo vim /etc/php-fpm.d/www.conf\n\n\n\nwww.conf\n\n# apache \u304b\u3089 nginx \u306b\u5909\u66f4\nuser = nginx\ngroup = nginx\n\n\n\n\n\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3057\u3066\u81ea\u52d5\u8d77\u52d5\u3092ON\nsudo service php-fpm start\n\nsudo chkconfig php-fpm on\n\n\nnginx \u306e\u8a2d\u5b9a\nvim /etc/nginx/conf.d/default.conf\n\n\n\ndefault.conf\nserver {\n    listen       80 default_server;\n    server_name  localhost;\n\n    #charset koi8-r;\n    #access_log  /var/log/nginx/log/host.access.log  main;\n\n    location / {\n        #root   /usr/share/nginx/html;\n        root /var/www/vhosts/default/public;\n        index  index.html index.htm index.php;\n    }\n\n    #error_page  404              /404.html;\n\n    # redirect server error pages to the static page /50x.html\n    #\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n    #\n    #location ~ \\.php$ {\n    #    proxy_pass   http://127.0.0.1;\n    #}\n\n    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n    #\n        location ~ \\.php$ {\n        root /var/www/vhosts/default/public;\n        fastcgi_pass 127.0.0.1:9000;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        fastcgi_param PATH_INFO $fastcgi_script_name;\n        include fastcgi_params;\n        }\n\n    # deny access to .htaccess files, if Apache's document root\n    # concurs with nginx's one\n    #\n    #location ~ /\\.ht {\n    #    deny  all;\n    #}\n}\n\n\n\nnginx \u3092\u518d\u8d77\u52d5\nsudo service nginx restart\n\n\u4ee5\u4e0a\n#\u53c2\u8003\u30b5\u30a4\u30c8\n[PHP-FPM\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a](http://webkaru.net/linux/php-fpm-install/)\n\n###PHP-FPM\u3092remi\u7d4c\u7531\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nsudo yum --enablerepo=remi install php php-fpm -y\n```\n\n###\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\n\n```\nsudo cp /etc/php-fpm.d/www.conf  /etc/php-fpm.d/www.conf.org\n\nsudo vim /etc/php-fpm.d/www.conf\n\n```\n\n```www.conf\n\n# apache \u304b\u3089 nginx \u306b\u5909\u66f4\nuser = nginx\ngroup = nginx\n\n```\n\n\n###\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3057\u3066\u81ea\u52d5\u8d77\u52d5\u3092ON\n\n```\nsudo service php-fpm start\n\nsudo chkconfig php-fpm on\n```\n\n## nginx \u306e\u8a2d\u5b9a\n\n```\nvim /etc/nginx/conf.d/default.conf\n\n```\n\n```default.conf\nserver {\n    listen       80 default_server;\n    server_name  localhost;\n\n    #charset koi8-r;\n    #access_log  /var/log/nginx/log/host.access.log  main;\n\n    location / {\n        #root   /usr/share/nginx/html;\n        root /var/www/vhosts/default/public;\n        index  index.html index.htm index.php;\n    }\n\n    #error_page  404              /404.html;\n\n    # redirect server error pages to the static page /50x.html\n    #\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n    #\n    #location ~ \\.php$ {\n    #    proxy_pass   http://127.0.0.1;\n    #}\n\n    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n    #\n        location ~ \\.php$ {\n        root /var/www/vhosts/default/public;\n        fastcgi_pass 127.0.0.1:9000;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        fastcgi_param PATH_INFO $fastcgi_script_name;\n        include fastcgi_params;\n        }\n\n    # deny access to .htaccess files, if Apache's document root\n    # concurs with nginx's one\n    #\n    #location ~ /\\.ht {\n    #    deny  all;\n    #}\n}\n```\n\n###nginx \u3092\u518d\u8d77\u52d5\n\n```\nsudo service nginx restart\n```\n\n\u4ee5\u4e0a\n"}