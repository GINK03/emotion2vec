{"context": "[2017-02-21T13:04:15+00:00] INFO: Installing chef-gem fog = 1.37.0\nERROR:  Error installing fog:\nnokogiri requires Ruby version >= 2.1.0.\n\nnokogiri\u304c\u5165\u3089\u306a\u304f\u3066\u30a8\u30e9\u30fc\u3060\u3063\u305f\u307d\u3044\u3002\n\u3046\u307e\u304f\u52d5\u3044\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306egem\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u307f\u308b\n$ ls /opt/aws/opsworks/releases/20161019094202_3441-20161019094202/vendor/bundle/ruby/2.0.0/gems\n\nnokogiri-1.6.8.1\nOpsWorks Chef\u306eRuby\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\n$ /opt/aws/opsworks/local/bin/ruby -v\nruby 2.0.0p645 (2015-04-13 revision 50299) [x86_64-linux]\n\nnokogiri\u306erubygems\u30da\u30fc\u30b8\u3067\u898b\u308b\u3068\u30011.7\u304b\u3089Ruby 2.1\u304c\u5fc5\u8981\u3067\u3001\u3053\u306e\u305b\u3044\u3067\u843d\u3061\u305f\u307f\u305f\u3044\u3002\n\n\u30ec\u30b7\u30d4\u3067\u6307\u5b9a\u3059\u308b\n\u30ab\u30b9\u30bf\u30e0cookbooks\u306b\u66f8\u3044\u3066\u304a\u3053\u3046\u2026\n# opsworks/attribtes/default.rb\ndefalt[:nokogiri_version] = '1.6.8.1'\n\nchef_gem \"nokogiri\" do\n  action :install\n  version node[:nokogiri_version]\nend\n\nUpdate Custom Cookbooks\u3057\u3066\u8a66\u3057\u306b\u52d5\u304b\u3057\u3066\u307f\u308b\u3002\n$ sudo opsworks-agent-cli run_command update_custom_cookbooks\n$ sudo opsworks-agent-cli run_command configure\n\nconfigure\u306e\u90e8\u5206\u306f\u5b9f\u884c\u3057\u305f\u3044\u30b3\u30de\u30f3\u30c9\u3002\nrecipe\u306e\u30e1\u30f3\u30c6\u304c\u8f9b\u304f\u306a\u308b\u2026\u3088\u304f\u306a\u3044\n\n\u4e2d\u9014\u534a\u7aef\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fgem\u3067\u4f9d\u5b58\u95a2\u4fc2\u304c\u58ca\u308c\u305f\u3068\u304d\n# sudo su -\n# cd /opt/aws/opsworks/releases/20161019094202_3441-20161019094202\n# rm -rf vendor/bundler\n# /opt/aws/opsworks/local/bin/bundle install\n\n\u305f\u3060\u3001\u305d\u3053\u307e\u3067\u304f\u308b\u3068\u8ae6\u3081\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u308a\u76f4\u3057\u305f\u65b9\u304c\u3044\u3044\u304b\u3082\u3002\n```\n[2017-02-21T13:04:15+00:00] INFO: Installing chef-gem fog = 1.37.0\nERROR:  Error installing fog:\nnokogiri requires Ruby version >= 2.1.0.\n```\n\nnokogiri\u304c\u5165\u3089\u306a\u304f\u3066\u30a8\u30e9\u30fc\u3060\u3063\u305f\u307d\u3044\u3002\n\n\u3046\u307e\u304f\u52d5\u3044\u3066\u3044\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306egem\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u307f\u308b\n\n```bash\n$ ls /opt/aws/opsworks/releases/20161019094202_3441-20161019094202/vendor/bundle/ruby/2.0.0/gems\n```\n\n`nokogiri-1.6.8.1`\n\nOpsWorks Chef\u306eRuby\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\n\n```bash\n$ /opt/aws/opsworks/local/bin/ruby -v\nruby 2.0.0p645 (2015-04-13 revision 50299) [x86_64-linux]\n```\n\nnokogiri\u306erubygems\u30da\u30fc\u30b8\u3067\u898b\u308b\u3068\u30011.7\u304b\u3089Ruby 2.1\u304c\u5fc5\u8981\u3067\u3001\u3053\u306e\u305b\u3044\u3067\u843d\u3061\u305f\u307f\u305f\u3044\u3002\n\n\n## \u30ec\u30b7\u30d4\u3067\u6307\u5b9a\u3059\u308b\n\n\u30ab\u30b9\u30bf\u30e0cookbooks\u306b\u66f8\u3044\u3066\u304a\u3053\u3046\u2026\n\n```ruby\n# opsworks/attribtes/default.rb\ndefalt[:nokogiri_version] = '1.6.8.1'\n```\n\n```ruby\nchef_gem \"nokogiri\" do\n  action :install\n  version node[:nokogiri_version]\nend\n```\n\nUpdate Custom Cookbooks\u3057\u3066\u8a66\u3057\u306b\u52d5\u304b\u3057\u3066\u307f\u308b\u3002\n\n```bash\n$ sudo opsworks-agent-cli run_command update_custom_cookbooks\n$ sudo opsworks-agent-cli run_command configure\n```\n\n`configure`\u306e\u90e8\u5206\u306f\u5b9f\u884c\u3057\u305f\u3044\u30b3\u30de\u30f3\u30c9\u3002\n\nrecipe\u306e\u30e1\u30f3\u30c6\u304c\u8f9b\u304f\u306a\u308b\u2026\u3088\u304f\u306a\u3044\n\n\n## \u4e2d\u9014\u534a\u7aef\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305fgem\u3067\u4f9d\u5b58\u95a2\u4fc2\u304c\u58ca\u308c\u305f\u3068\u304d\n\n```bash\n# sudo su -\n# cd /opt/aws/opsworks/releases/20161019094202_3441-20161019094202\n# rm -rf vendor/bundler\n# /opt/aws/opsworks/local/bin/bundle install\n```\n\n\u305f\u3060\u3001\u305d\u3053\u307e\u3067\u304f\u308b\u3068\u8ae6\u3081\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u308a\u76f4\u3057\u305f\u65b9\u304c\u3044\u3044\u304b\u3082\u3002\n\n\n", "tags": ["opsworks", "opsworks-chef"]}