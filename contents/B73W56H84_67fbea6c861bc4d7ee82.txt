{"context": " More than 1 year has passed since last update.\n\n\u6700\u521d\u306b\n\u984c\u306e\u901a\u308a\u3001homebrew\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305frakudo-star1\u3067\u4e00\u7dd2\u306b\u5165\u3063\u3066\u304f\u308bp6doc\u304c\u3046\u307e\u304f\u52d5\u304b\u305b\u306a\u304b\u3063\u305f\u306e\u3067\u7121\u7406\u3084\u308a\u52d5\u304b\u3057\u305f\u3068\u3044\u3046\u500b\u4eba\u7684\u306a\u8a18\u9332\u3067\u3059\u3002\n\u6700\u65b0\u7248\u306e\u30bd\u30fc\u30b9\u3092github\u304b\u3089\u6301\u3063\u3066\u304f\u308b\u306e\u304c\u6b63\u89e3\u3067\u3059\u306e\u3067\u771f\u4f3c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u30442\n\n\u6982\u8981\n2015\u5e74\u306e\u30af\u30ea\u30b9\u30de\u30b9\u306bPerl6\u304c\u6b63\u5f0f\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u308b\u306e\u304c\u697d\u3057\u307f\u3067\u3059\u306d\u3002\n\u3055\u3066\u3001Perl5\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306fperldoc\u3067\u3059\u304c\u3001\nPerl6\u3067\u306fp6doc\u3068\u3044\u3046\u3089\u3057\u3044\u3067\u3059\u3002\n\n\u307e\u305a\u306f\u3001\u95a2\u6570\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u65b9\u6cd5\n# Perl5\u3067\u306f\n$ perldoc -f  SomeBuiltinFunction\n\n# Perl6\u3067\u306f\n$ p6doc -f  SomeMethod\n\nf\u306f\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306ef\u3067\u3059\u306d\u3002\u308f\u304b\u308a\u3084\u3059\u3044\u3002\n\u305d\u3057\u3066\u3001p6doc -f\u3092\u4f7f\u3046\u305f\u3081\u306b\u306fp6doc-index build\u3067\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u3089\u306a\u3044\u3068\u304b\u3002\u3055\u3063\u305d\u304f\u3084\u3063\u3066\u307f\u307e\n$ p6doc-index build\nType check failed in binding; expected 'Positional' but got 'Seq'\n  in sub MAIN at /usr/local/bin/p6doc-index:35\n  in block <unit> at /usr/local/bin/p6doc-index:76\n\n\u3046\u308f\u3042\u3042\u3042\u3057\u3087\u3063\u3071\u306a\u304b\u3089\u3064\u307e\u3065\u3044\u305f\u3041\u3041\u3041\u3041\u3041(\u52d5\u63fa)\n\np6doc-index build\u304c\u52d5\u304b\u306a\u3044\uff1f\n\u5927\u4e08\u592b\u3002\u65e2\u77e53\u306e\u4e8b\u8c614\u3067\u3059\u3002\n\u5909\u66f4\u70b9\u306f\u4e00\u884c\u3060\u3051\u307f\u305f\u3044\u306a\u306e\u3067\u3001\u624b\u4f5c\u696d\u3067\u76f4\u3057\u3061\u3083\u3044\u307e\u3057\u3087\u3046\u3002(\u3060\u3081\u3067\u3059)\n/usr/local/bin/p6doc-index\u306f\u30a6\u30c1\u306e\u74b0\u5883\u3060\u3068/usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\u304b\u3089\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306a\u306e\u3067\u3001\u5f8c\u8005\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n# \u5ff5\u306e\u305f\u3081\u624b\u5143\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3002\n$ cp -i /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index ~/.p6doc-index.backup\n\n# \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3555\u3060\u3068\u5909\u66f4\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u4e00\u65e6755\u306b\u3057\u307e\u3059\u3002\n$ chmod 755 /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\n\n# \u524d\u8ff0\u306e\u30b3\u30df\u30c3\u30c8\u306e\u901a\u308a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3002\n$ vi /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\n## (\u30b4\u30cb\u30e7\u30b4\u30cb\u30e7)\n\n# \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092755\u306b\u623b\u3057\u307e\u3059\u3002\n$ chmod 555 /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\n\n# \u624b\u5143\u306b\u3068\u3063\u305f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u6bd4\u8f03\u3057\u3066\u3001\u5909\u66f4\u70b9\u3092\u78ba\u8a8d\u3002\n$ diff -u .p6doc-index.backup /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\n--- .p6doc-index.backup 2015-11-20 23:08:00.000000000 +0900\n+++ /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index   2015-11-20 23:11:31.000000000 +0900\n@@ -32,7 +32,7 @@\n         next unless $lib_path.e;\n\n         $lib_path = $lib_path.Str;\n-        my @files :=  find(:dir($lib_path),:type('file'));\n+        my @files =  find(:dir($lib_path),:type('file')).map({.IO});\n\n         for @files -> $f {\n             my $file = $f.path;\n\n\u3055\u3063\u304d\u5931\u6557\u3057\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3059\u3002\n$ p6doc-index build\n\n#=> \u52d5\u304d\u307e\u3057\u305f\uff01(\u6210\u529f\u3059\u308b\u3068\u4f55\u3082\u8868\u793a\u3055\u308c\u306a\u3044)\n\n\u3067\u306f\u3001p6doc-index build\u3067\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3082\u4f5c\u3063\u305f\u3053\u3068\u3067\u3059\u3057\u3001\n\u3042\u3089\u305f\u3081\u3066Array\u30af\u30e9\u30b9\u306epush\u30e1\u30bd\u30c3\u30c9\u306b\u3064\u3044\u3066\u8abf\u3079\n$ p6doc -f Array.push\n===SORRY!===\nCannot invoke this object (REPR: Uninstantiable)\n\n\u3046\u3001\u3046\u308f\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\uff08\u6905\u5b50\u304b\u3089\u8ee2\u3052\u843d\u3061\u308b\uff09\n\np6doc\u304c\u52d5\u304b\u306a\u3044\uff1f\n\u843d\u3061\u7740\u3044\u3066\u3044\u3053\u3046\u3002\u307e\u3060\u3042\u308f\u3066\u308b\u3088\u3046\u306a\u6642\u9593\u3058\u3083\u306a\u3044\u3002\u3053\u308c\u3082\u307e\u305f\u65e2\u77e5\u306e\u4e8b\u8c615\u3067\u3059\u3002\n\u5909\u66f4\u70b9\u306f\u4e94\u884c\u3060\u3051\u307f\u305f\u3044\u306a\u306e\u3067\u3001\u624b\u4f5c\u696d\u3067\u76f4\u3057\u3061\u3083\u3044\u307e\u3057\u3087\u3046\u3002(\u932f\u4e71)\n/usr/local/bin/p6doc\u306f\u30a6\u30c1\u306e\u74b0\u5883\u3060\u3068/usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\u304b\u3089\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306a\u306e\u3067\u3001\u5f8c\u8005\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n# \u5ff5\u306e\u305f\u3081\u624b\u5143\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3002\n$ cp -i /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc ~/.p6doc.backup\n\n# \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3555\u3060\u3068\u5909\u66f4\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u4e00\u65e6write\u6a29\u52a0\u3048\u307e\u3059\u3002\n$ chmod +w /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\n\n# \u524d\u8ff0\u306e\u30b3\u30df\u30c3\u30c8\u306e\u901a\u308a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3002\n$ vi /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\n## (\u30b4\u30cb\u30e7\u30b4\u30cb\u30e7)\n\n# \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092755\u306b\u623b\u3057\u307e\u3059\u3002\n$ chmod -w /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\n\n# \u624b\u5143\u306b\u3068\u3063\u305f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u6bd4\u8f03\u3057\u3066\u3001\u5909\u66f4\u70b9\u3092\u78ba\u8a8d\u3002\n$ diff -u .p6doc.backup /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\n--- .p6doc.backup   2015-11-20 23:15:13.000000000 +0900\n+++ /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc 2015-11-21 16:56:07.000000000 +0900\n@@ -27,17 +27,17 @@\n }\n\n sub search-paths() {\n-    (findbin()  X~ <../doc/perl6/lib/ ../lib/> X~ '',<Type/ Language/ Routine/>),\n-    @*INC.map({CompUnitRepo.new($_)})\u00bb.IO\u00bb.Str.map({ /\\/$/ ?? $_ !! $_ ~ '/' });\n+    ((findbin()  X~ <../doc/perl6/lib/ ../lib/> X~ <Type/ Language/ Routine/>).list,\n+    @*INC.map({CompUnitRepo.new($_)})\u00bb.IO\u00bb.Str.map({ /\\/$/ ?? $_ !! $_ ~ '/' }).list).flat.list;\n }\n\n sub module-names(Str $modulename) {\n-    $modulename.split('::').join('/')\n-        X~ '.pm', '.pm6', '.pod';\n+    [$modulename.split('::').join('/')\n+        X~ <.pm .pm6 .pod>].list;\n }\n\n sub locate-module(Str $modulename) {\n-    my $m = (search-paths() X~ module-names($modulename)).first: *.IO.f;\n+    my $m = (search-paths() X~ module-names($modulename).list).first: *.IO.f;\n     unless $m.defined {\n         my $message = join \"\\n\",\n             \"Cannot locate $modulename in any of the following paths:\",\n\n\u4e09\u5ea6\u76ee\u306e\u6b63\u76f4\u3067\u30ec\u30c3\u30c4\u30fb\u30c8\u30e9\n$ p6doc Array.push\nCannot locate Array in any of the following paths:\n  /usr/local/bin/../doc/perl6/lib/Type/\n  /usr/local/bin/../doc/perl6/lib/Language/\n  /usr/local/bin/../doc/perl6/lib/Routine/\n  /usr/local/bin/../lib/Type/\n  /usr/local/bin/../lib/Language/\n  /usr/local/bin/../lib/Routine/\n  /Users/b73w56h84/.perl6/2015.09/lib/\n  /Users/b73w56h84/.perl6/2015.09/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/lib/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/vendor/lib/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/site/lib/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/vendor/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/site/\n\n\u3042\u3073\u3083\u3041\u30fc\uff3eq\uff3e\n\nArray\u30af\u30e9\u30b9\u304c\u7121\u3044\uff1f\nArray\u306f\u3042\u308a\u307e\u3059\u3002\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u3060\u3051\u3067\u3059\u3002\n$ find /usr/local/Cellar/rakudo-star/2015.09/share/perl6 | grep Array\n/usr/local/Cellar/rakudo-star/2015.09/share/perl6/lib/Type/Array.pod\n\n\u3053\u308c\u306f\u3001\u524d\u8ff0\u306ep6doc\u306esearch-paths()\u3092\u4fee\u6b63\u3059\u308c\u3070\u826f\u3044\u3093\u3067\u3059\u304b\u306d\u3002\n\u3067\u3082\u3001\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3067\u9003\u3052\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n$ mkdir -p /usr/local/doc/perl6/lib\n$ ln -s /usr/local/Cellar/rakudo-star/2015.09/share/perl6/lib/Type /usr/local/doc/perl6/lib\n\n\np6doc\u30b3\u30de\u30f3\u30c9\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u308b\n$ p6doc Hash.push\n\n  method push\n\n    multi method push(Hash:D: *@new)\n\nAdds the @new elements to the hash with the same semantics as hash assignment,\nbut with three exceptions:\n\n  * The hash isn't emptied first, i.e. old pairs are not deleted.\n\n  * If a key already exists in the hash, and the corresponding value is an\n  Array, the new value is pushed onto the array (instead of replacing it).\n\n  * If a key already exists in the hash, and the corresponding value is not an\n  Array, old and new value are both placed into an array in the place of the old\n  value.\n\nExample:\n\n    my %h  = a => 1; %h.push: (a => 1);                  # a => [1,1] %h.push:\n    (a => 1) xx 3 ;            # a => [1,1,1,1,1] %h.push: (b => 3);\n    # a => [1,1,1,1,1], b => 3\n\nAlso note that push can be used as a replacement for assignment during hash\ninitialization very useful ways. Take for instance the case of an inverted\nindex:\n\n    my %wc = 'hash' => 323, 'pair' => 322, 'pipe' => 323; (my %inv).push:\n    %wc.invert.unique; say %inv;                           # 322 => 'pair', 323\n    => ['hash','pipe']\n\nNote that such a initialization could also be written as\n\n    my %inv .= push: %wc.invert.unique;\n\n\u3084\u3063\u305f\u306d(\u7a4f\u3084\u304b\u306a\u76ee)\n\u304a\u308f\u308a\u3067\u3059\u3002\n\n\u53c2\u8003\u3068\u6ce8\u91c8\n\n\n\n\nPerl6\u30b3\u30f3\u30d1\u30a4\u30e9\u00a0\u21a9\n\n\n\u8ab0\u304b\u6b63\u3057\u3044\u52d5\u304b\u3057\u65b9\u6559\u3048\u3066\u4e0b\u3055\u3044\u3002\u306a\u3093\u3067\u3082\u3057\u307e\u3059\u304b\u3089\u00a0\u21a9\n\n\n\u30d0\u30b0\u5831\u544a\u3055\u308c\u305f\u306e tokuhirom \u3055\u3093\u3067\u3059\u306d\u3002\u3059\u3066\u304d\u3002\u00a0\u21a9\n\n\np6doc-index build does not work #137\u00a0\u21a9\n\n\ncommand line \"p6doc -f push\" doesn't work #138\u00a0\u21a9\n\n\n\n# \u6700\u521d\u306b\n\n\u984c\u306e\u901a\u308a\u3001homebrew\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305frakudo-star[^rakudo]\u3067\u4e00\u7dd2\u306b\u5165\u3063\u3066\u304f\u308b`p6doc`\u304c\u3046\u307e\u304f\u52d5\u304b\u305b\u306a\u304b\u3063\u305f\u306e\u3067\u7121\u7406\u3084\u308a\u52d5\u304b\u3057\u305f\u3068\u3044\u3046\u500b\u4eba\u7684\u306a\u8a18\u9332\u3067\u3059\u3002\n\n\u6700\u65b0\u7248\u306e\u30bd\u30fc\u30b9\u3092github\u304b\u3089\u6301\u3063\u3066\u304f\u308b\u306e\u304c\u6b63\u89e3\u3067\u3059\u306e\u3067\u771f\u4f3c\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044[^yoiko]\n\n## \u6982\u8981\n\n2015\u5e74\u306e\u30af\u30ea\u30b9\u30de\u30b9\u306bPerl6\u304c\u6b63\u5f0f\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u308b\u306e\u304c\u697d\u3057\u307f\u3067\u3059\u306d\u3002\n\n\u3055\u3066\u3001Perl5\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306f`perldoc`\u3067\u3059\u304c\u3001\nPerl6\u3067\u306f`p6doc`\u3068\u3044\u3046\u3089\u3057\u3044\u3067\u3059\u3002\n\n## \u307e\u305a\u306f\u3001\u95a2\u6570\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3059\u308b\u65b9\u6cd5\n\n```bash\n# Perl5\u3067\u306f\n$ perldoc -f  SomeBuiltinFunction\n\n# Perl6\u3067\u306f\n$ p6doc -f  SomeMethod\n```\n\n`f`\u306f\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306e`f`\u3067\u3059\u306d\u3002\u308f\u304b\u308a\u3084\u3059\u3044\u3002\n\n\u305d\u3057\u3066\u3001`p6doc -f`\u3092\u4f7f\u3046\u305f\u3081\u306b\u306f`p6doc-index build`\u3067\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u3089\u306a\u3044\u3068\u304b\u3002\u3055\u3063\u305d\u304f\u3084\u3063\u3066\u307f\u307e\n\n```bash\n$ p6doc-index build\nType check failed in binding; expected 'Positional' but got 'Seq'\n  in sub MAIN at /usr/local/bin/p6doc-index:35\n  in block <unit> at /usr/local/bin/p6doc-index:76\n```\n\n\u3046\u308f\u3042\u3042\u3042\u3057\u3087\u3063\u3071\u306a\u304b\u3089\u3064\u307e\u3065\u3044\u305f\u3041\u3041\u3041\u3041\u3041(\u52d5\u63fa)\n\n## `p6doc-index build`\u304c\u52d5\u304b\u306a\u3044\uff1f\n\n\u5927\u4e08\u592b\u3002\u65e2\u77e5[^tot]\u306e\u4e8b\u8c61[^p6doc-index]\u3067\u3059\u3002\n\n[\u5909\u66f4\u70b9\u306f\u4e00\u884c\u3060\u3051\u307f\u305f\u3044](https://github.com/perl6/doc/commit/5c4ca1a06da1e558c769ca0abf29448433c74f18)\u306a\u306e\u3067\u3001\u624b\u4f5c\u696d\u3067\u76f4\u3057\u3061\u3083\u3044\u307e\u3057\u3087\u3046\u3002(\u3060\u3081\u3067\u3059)\n\n`/usr/local/bin/p6doc-index`\u306f\u30a6\u30c1\u306e\u74b0\u5883\u3060\u3068`/usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index`\u304b\u3089\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306a\u306e\u3067\u3001\u5f8c\u8005\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n```bash\n# \u5ff5\u306e\u305f\u3081\u624b\u5143\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3002\n$ cp -i /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index ~/.p6doc-index.backup\n\n# \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3555\u3060\u3068\u5909\u66f4\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u4e00\u65e6755\u306b\u3057\u307e\u3059\u3002\n$ chmod 755 /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\n\n# \u524d\u8ff0\u306e\u30b3\u30df\u30c3\u30c8\u306e\u901a\u308a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3002\n$ vi /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\n## (\u30b4\u30cb\u30e7\u30b4\u30cb\u30e7)\n\n# \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092755\u306b\u623b\u3057\u307e\u3059\u3002\n$ chmod 555 /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\n```\n\n```diff\n# \u624b\u5143\u306b\u3068\u3063\u305f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u6bd4\u8f03\u3057\u3066\u3001\u5909\u66f4\u70b9\u3092\u78ba\u8a8d\u3002\n$ diff -u .p6doc-index.backup /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\n--- .p6doc-index.backup\t2015-11-20 23:08:00.000000000 +0900\n+++ /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc-index\t2015-11-20 23:11:31.000000000 +0900\n@@ -32,7 +32,7 @@\n         next unless $lib_path.e;\n\n         $lib_path = $lib_path.Str;\n-        my @files :=  find(:dir($lib_path),:type('file'));\n+        my @files =  find(:dir($lib_path),:type('file')).map({.IO});\n\n         for @files -> $f {\n             my $file = $f.path;\n```\n\n\u3055\u3063\u304d\u5931\u6557\u3057\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4f5c\u6210\u3057\u3066\u307f\u307e\u3059\u3002\n\n```bash\n$ p6doc-index build\n\n#=> \u52d5\u304d\u307e\u3057\u305f\uff01(\u6210\u529f\u3059\u308b\u3068\u4f55\u3082\u8868\u793a\u3055\u308c\u306a\u3044)\n```\n\n\u3067\u306f\u3001`p6doc-index build`\u3067\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3082\u4f5c\u3063\u305f\u3053\u3068\u3067\u3059\u3057\u3001\n\u3042\u3089\u305f\u3081\u3066`Array`\u30af\u30e9\u30b9\u306e`push`\u30e1\u30bd\u30c3\u30c9\u306b\u3064\u3044\u3066\u8abf\u3079\n\n```bash\n$ p6doc -f Array.push\n===SORRY!===\nCannot invoke this object (REPR: Uninstantiable)\n```\n\n\u3046\u3001\u3046\u308f\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\u3042\uff08\u6905\u5b50\u304b\u3089\u8ee2\u3052\u843d\u3061\u308b\uff09\n\n## `p6doc`\u304c\u52d5\u304b\u306a\u3044\uff1f\n\n\u843d\u3061\u7740\u3044\u3066\u3044\u3053\u3046\u3002\u307e\u3060\u3042\u308f\u3066\u308b\u3088\u3046\u306a\u6642\u9593\u3058\u3083\u306a\u3044\u3002\u3053\u308c\u3082\u307e\u305f\u65e2\u77e5\u306e\u4e8b\u8c61[^p6doc]\u3067\u3059\u3002\n\n[\u5909\u66f4\u70b9\u306f\u4e94\u884c\u3060\u3051\u307f\u305f\u3044](https://github.com/perl6/doc/commit/cbd940329c)\u306a\u306e\u3067\u3001\u624b\u4f5c\u696d\u3067\u76f4\u3057\u3061\u3083\u3044\u307e\u3057\u3087\u3046\u3002(\u932f\u4e71)\n\n`/usr/local/bin/p6doc`\u306f\u30a6\u30c1\u306e\u74b0\u5883\u3060\u3068`/usr/local/Cellar/rakudo-star/2015.09/bin/p6doc`\u304b\u3089\u306e\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306a\u306e\u3067\u3001\u5f8c\u8005\u3092\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n```bash\n# \u5ff5\u306e\u305f\u3081\u624b\u5143\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3002\n$ cp -i /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc ~/.p6doc.backup\n\n# \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3555\u3060\u3068\u5909\u66f4\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u4e00\u65e6write\u6a29\u52a0\u3048\u307e\u3059\u3002\n$ chmod +w /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\n\n# \u524d\u8ff0\u306e\u30b3\u30df\u30c3\u30c8\u306e\u901a\u308a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3002\n$ vi /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\n## (\u30b4\u30cb\u30e7\u30b4\u30cb\u30e7)\n\n# \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092755\u306b\u623b\u3057\u307e\u3059\u3002\n$ chmod -w /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\n```\n\n```diff\n# \u624b\u5143\u306b\u3068\u3063\u305f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u6bd4\u8f03\u3057\u3066\u3001\u5909\u66f4\u70b9\u3092\u78ba\u8a8d\u3002\n$ diff -u .p6doc.backup /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\n--- .p6doc.backup\t2015-11-20 23:15:13.000000000 +0900\n+++ /usr/local/Cellar/rakudo-star/2015.09/bin/p6doc\t2015-11-21 16:56:07.000000000 +0900\n@@ -27,17 +27,17 @@\n }\n\n sub search-paths() {\n-    (findbin()  X~ <../doc/perl6/lib/ ../lib/> X~ '',<Type/ Language/ Routine/>),\n-    @*INC.map({CompUnitRepo.new($_)})\u00bb.IO\u00bb.Str.map({ /\\/$/ ?? $_ !! $_ ~ '/' });\n+    ((findbin()  X~ <../doc/perl6/lib/ ../lib/> X~ <Type/ Language/ Routine/>).list,\n+    @*INC.map({CompUnitRepo.new($_)})\u00bb.IO\u00bb.Str.map({ /\\/$/ ?? $_ !! $_ ~ '/' }).list).flat.list;\n }\n\n sub module-names(Str $modulename) {\n-    $modulename.split('::').join('/')\n-        X~ '.pm', '.pm6', '.pod';\n+    [$modulename.split('::').join('/')\n+        X~ <.pm .pm6 .pod>].list;\n }\n\n sub locate-module(Str $modulename) {\n-    my $m = (search-paths() X~ module-names($modulename)).first: *.IO.f;\n+    my $m = (search-paths() X~ module-names($modulename).list).first: *.IO.f;\n     unless $m.defined {\n         my $message = join \"\\n\",\n             \"Cannot locate $modulename in any of the following paths:\",\n```\n\n\u4e09\u5ea6\u76ee\u306e\u6b63\u76f4\u3067\u30ec\u30c3\u30c4\u30fb\u30c8\u30e9\n\n```bash\n$ p6doc Array.push\nCannot locate Array in any of the following paths:\n  /usr/local/bin/../doc/perl6/lib/Type/\n  /usr/local/bin/../doc/perl6/lib/Language/\n  /usr/local/bin/../doc/perl6/lib/Routine/\n  /usr/local/bin/../lib/Type/\n  /usr/local/bin/../lib/Language/\n  /usr/local/bin/../lib/Routine/\n  /Users/b73w56h84/.perl6/2015.09/lib/\n  /Users/b73w56h84/.perl6/2015.09/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/lib/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/vendor/lib/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/site/lib/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/vendor/\n  /usr/local/Cellar/rakudo-star/2015.09/share/perl6/site/\n```\n\n\u3042\u3073\u3083\u3041\u30fc\uff3eq\uff3e\n\n## Array\u30af\u30e9\u30b9\u304c\u7121\u3044\uff1f\n\nArray\u306f\u3042\u308a\u307e\u3059\u3002\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u3060\u3051\u3067\u3059\u3002\n\n```bash\n$ find /usr/local/Cellar/rakudo-star/2015.09/share/perl6 | grep Array\n/usr/local/Cellar/rakudo-star/2015.09/share/perl6/lib/Type/Array.pod\n```\n\n\u3053\u308c\u306f\u3001\u524d\u8ff0\u306e`p6doc`\u306e`search-paths()`\u3092\u4fee\u6b63\u3059\u308c\u3070\u826f\u3044\u3093\u3067\u3059\u304b\u306d\u3002\n\u3067\u3082\u3001\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3067\u9003\u3052\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n```bash\n$ mkdir -p /usr/local/doc/perl6/lib\n$ ln -s /usr/local/Cellar/rakudo-star/2015.09/share/perl6/lib/Type /usr/local/doc/perl6/lib\n```\n\n## `p6doc`\u30b3\u30de\u30f3\u30c9\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u898b\u308b\n\n```\n$ p6doc Hash.push\n\n  method push\n\n    multi method push(Hash:D: *@new)\n\nAdds the @new elements to the hash with the same semantics as hash assignment,\nbut with three exceptions:\n\n  * The hash isn't emptied first, i.e. old pairs are not deleted.\n\n  * If a key already exists in the hash, and the corresponding value is an\n  Array, the new value is pushed onto the array (instead of replacing it).\n\n  * If a key already exists in the hash, and the corresponding value is not an\n  Array, old and new value are both placed into an array in the place of the old\n  value.\n\nExample:\n\n    my %h  = a => 1; %h.push: (a => 1);                  # a => [1,1] %h.push:\n    (a => 1) xx 3 ;            # a => [1,1,1,1,1] %h.push: (b => 3);\n    # a => [1,1,1,1,1], b => 3\n\nAlso note that push can be used as a replacement for assignment during hash\ninitialization very useful ways. Take for instance the case of an inverted\nindex:\n\n    my %wc = 'hash' => 323, 'pair' => 322, 'pipe' => 323; (my %inv).push:\n    %wc.invert.unique; say %inv;                           # 322 => 'pair', 323\n    => ['hash','pipe']\n\nNote that such a initialization could also be written as\n\n    my %inv .= push: %wc.invert.unique;\n```\n\n\u3084\u3063\u305f\u306d(\u7a4f\u3084\u304b\u306a\u76ee)\n\n\u304a\u308f\u308a\u3067\u3059\u3002\n\n# \u53c2\u8003\u3068\u6ce8\u91c8\n\n[^rakudo]: Perl6\u30b3\u30f3\u30d1\u30a4\u30e9\n[^yoiko]: \u8ab0\u304b\u6b63\u3057\u3044\u52d5\u304b\u3057\u65b9\u6559\u3048\u3066\u4e0b\u3055\u3044\u3002~~\u306a\u3093\u3067\u3082\u3057\u307e\u3059\u304b\u3089~~\n[^p6doc-index]: [`p6doc-index build` does not work #137](https://github.com/perl6/doc/issues/137)\n[^tot]: \u30d0\u30b0\u5831\u544a\u3055\u308c\u305f\u306e tokuhirom \u3055\u3093\u3067\u3059\u306d\u3002\u3059\u3066\u304d\u3002\n[^p6doc]: [command line \"p6doc -f push\" doesn't work #138](https://github.com/perl6/doc/issues/138)\n", "tags": ["Perl6", "Perl", "homebrew"]}