{"context": " More than 1 year has passed since last update.\u3069\u3046\u3082\u60c5\u5f31\u6c0f\u306e\u4ffa\u3067\u3059\u3002\nvars/main.yml\u3092role default variables\u3068\u52d8\u9055\u3044\u3057\u3066\u3044\u305f\u8a71\u3067\u3059\u3002\nAnsible 2.0.0.2 \u3067\u306e\u8a71\u3067\u3059\u3002\nhttp://docs.ansible.com/ansible/playbooks_roles.html#role-default-variables\n\u3068\nhttp://docs.ansible.com/ansible/playbooks_variables.html#variable-precedence-where-should-i-put-a-variable\n\u3092\u3088\u304f\u8aad\u307f\u307e\u3057\u3087\u3046\u3068\u3044\u3046\u8a71\u3067\u3059\u3002\n\u4f7f\u3044\u56de\u3057\u306e\u52b9\u304f\u3044\u3044\u611f\u3058\u306e\u30d7\u30ec\u30a4\u30d6\u30c3\u30af\u76ee\u6307\u3059\u306a\u3089role_name/defaults/main.yml\u306b\u66f8\u3053\u3046\u3068\u3044\u3046\u8a71\u3067\u3059\u3002\n\noverride\u3067\u304d\u306a\u304f\u3066\u6b7b\u306c\n\ntree\n\norenomac$ tree  roles/mysql\nroles/mysql\n\u251c\u2500\u2500 binaries\n\u251c\u2500\u2500 vars\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n\u251c\u2500\u2500 files\n\u251c\u2500\u2500 handlers\n\u251c\u2500\u2500 tasks\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 main.yml\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 mysql_client.yml\n\u2514\u2500\u2500 templates\n    \u2514\u2500\u2500 my.cnf.j2\n\n\nvars/main.yml\n\nmysql_client:\n  install: true\n  version: \"5.6\"\nmysql_server:\n  install: false\n  version: \"5.6\"\n\n\nhosts\n\n\u3053\u30fc\u3059\u308b\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u3002\noverride\u3060\u3068\u601d\u3063\u3066\u3066\n- hosts: orenomassiiiiiiiinnnnnnn\n  user: ec2-user\n  vars:\n    mysql_server:\n      install: true\n      version: \"5.6\"\n  sudo: true\n  roles:\n    - mysql\n\n\nansible-playbook\n\n\u30d5\u30a1\u30fcmysql_server.install\u304coverride\u3055\u308c\u3066\u306a\u3044\nTASK [mysql : debug] ***********************************************************\nok: [orenomassiiiiiiiinnnnnnn] => {\n    \"mysql_server\": {\n        \"install\": false,\n        \"version\": \"5.6\"\n    }\n}\n\n\noverride\u3067\u304d\u3066\u751f\u304d\u5ef6\u3073\u305f\n\ntree\n\norenomac$ tree  roles/mysql\nroles/mysql\n\u251c\u2500\u2500 binaries\n\u251c\u2500\u2500 defaults\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n\u251c\u2500\u2500 files\n\u251c\u2500\u2500 handlers\n\u251c\u2500\u2500 tasks\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 main.yml\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 mysql_client.yml\n\u2514\u2500\u2500 templates\n    \u2514\u2500\u2500 my.cnf.j2\n\n\ndefaults/main.yml\n\nmysql_client:\n  install: true\n  version: \"5.6\"\nmysql_server:\n  install: false\n  version: \"5.6\"\n\n\nhosts\n\n\u4eca\u5ea6\u3053\u305doverride\n- hosts: orenomassiiiiiiiinnnnnnn\n  user: ec2-user\n  vars:\n    mysql_server:\n      install: unko\n      version: \"5.6\"\n  sudo: true\n  roles:\n    - mysql\n\n\nansible-playbook\n\n\u30d5\u30a1\u30fc\u3067\u304d\u305f\nTASK [mysql : debug] ***********************************************************\nok: [orenomassiiiiiiiinnnnnnn] => {\n    \"mysql_server\": {\n        \"install\": unko,\n        \"version\": \"5.6\"\n    }\n}\n\n\u5b8c\n\u3069\u3046\u3082\u60c5\u5f31\u6c0f\u306e\u4ffa\u3067\u3059\u3002\n\nvars/main.yml\u3092role default variables\u3068\u52d8\u9055\u3044\u3057\u3066\u3044\u305f\u8a71\u3067\u3059\u3002\n\n`Ansible 2.0.0.2` \u3067\u306e\u8a71\u3067\u3059\u3002\n\nhttp://docs.ansible.com/ansible/playbooks_roles.html#role-default-variables\n\u3068\nhttp://docs.ansible.com/ansible/playbooks_variables.html#variable-precedence-where-should-i-put-a-variable\n\u3092\u3088\u304f\u8aad\u307f\u307e\u3057\u3087\u3046\u3068\u3044\u3046\u8a71\u3067\u3059\u3002\n\n\u4f7f\u3044\u56de\u3057\u306e\u52b9\u304f\u3044\u3044\u611f\u3058\u306e\u30d7\u30ec\u30a4\u30d6\u30c3\u30af\u76ee\u6307\u3059\u306a\u3089`role_name/defaults/main.yml`\u306b\u66f8\u3053\u3046\u3068\u3044\u3046\u8a71\u3067\u3059\u3002\n\n# override\u3067\u304d\u306a\u304f\u3066\u6b7b\u306c\n\n- tree\n\n```\norenomac$ tree  roles/mysql\nroles/mysql\n\u251c\u2500\u2500 binaries\n\u251c\u2500\u2500 vars\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n\u251c\u2500\u2500 files\n\u251c\u2500\u2500 handlers\n\u251c\u2500\u2500 tasks\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 main.yml\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 mysql_client.yml\n\u2514\u2500\u2500 templates\n    \u2514\u2500\u2500 my.cnf.j2\n```\n\n- vars/main.yml\n\n```\nmysql_client:\n  install: true\n  version: \"5.6\"\nmysql_server:\n  install: false\n  version: \"5.6\"\n```\n\n- hosts\n \n\u3053\u30fc\u3059\u308b\u3058\u3083\u306a\u3044\u3067\u3059\u304b\u3002\noverride\u3060\u3068\u601d\u3063\u3066\u3066\n\n```\n- hosts: orenomassiiiiiiiinnnnnnn\n  user: ec2-user\n  vars:\n    mysql_server:\n      install: true\n      version: \"5.6\"\n  sudo: true\n  roles:\n    - mysql\n```\n\n- ansible-playbook\n\n\u30d5\u30a1\u30fc`mysql_server.install`\u304coverride\u3055\u308c\u3066\u306a\u3044\n\n```\nTASK [mysql : debug] ***********************************************************\nok: [orenomassiiiiiiiinnnnnnn] => {\n    \"mysql_server\": {\n        \"install\": false,\n        \"version\": \"5.6\"\n    }\n}\n```\n\n# override\u3067\u304d\u3066\u751f\u304d\u5ef6\u3073\u305f\n\n- tree\n\n```\norenomac$ tree  roles/mysql\nroles/mysql\n\u251c\u2500\u2500 binaries\n\u251c\u2500\u2500 defaults\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 main.yml\n\u251c\u2500\u2500 files\n\u251c\u2500\u2500 handlers\n\u251c\u2500\u2500 tasks\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 main.yml\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 mysql_client.yml\n\u2514\u2500\u2500 templates\n    \u2514\u2500\u2500 my.cnf.j2\n```\n\n- defaults/main.yml\n\n```\nmysql_client:\n  install: true\n  version: \"5.6\"\nmysql_server:\n  install: false\n  version: \"5.6\"\n```\n\n- hosts\n \n\u4eca\u5ea6\u3053\u305doverride\n\n```\n- hosts: orenomassiiiiiiiinnnnnnn\n  user: ec2-user\n  vars:\n    mysql_server:\n      install: unko\n      version: \"5.6\"\n  sudo: true\n  roles:\n    - mysql\n```\n\n- ansible-playbook\n\n\u30d5\u30a1\u30fc\u3067\u304d\u305f\n\n```\nTASK [mysql : debug] ***********************************************************\nok: [orenomassiiiiiiiinnnnnnn] => {\n    \"mysql_server\": {\n        \"install\": unko,\n        \"version\": \"5.6\"\n    }\n}\n```\n\n\u5b8c\n", "tags": ["Ansible", "\u4ffa\u3067\u3082\u308f\u304b\u308b\u30b7\u30ea\u30fc\u30ba"]}