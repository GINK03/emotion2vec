{"context": " More than 1 year has passed since last update.\u4fbf\u5229\u3060\u306a\u3068\u601d\u3063\u305f\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u3044\u65b9\u3092\u307e\u3068\u3081\u305f\u30e1\u30e2\u7b2c\u4e00\u5f3e\n(gist\u306b\u66f8\u3044\u3066\u304a\u304f\u3068\u3069\u3053\u304b\u306b\u884c\u3063\u3066\u3057\u307e\u3046\u306e\u3067Qiita\u306b\u79fb\u52d5)\n\n\u540d\u524d\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u540d: embulk-filter-join_file\n\n\u8457\u8005: Civitaspo\u3055\u3093\n\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u7528\u9014\n\n\n\u3042\u308b\u5024\u3092\u5143\u306b\u4ed6\u306e\u5024\u3092\u7d50\u5408\u3057\u305f\u3044\u3068\u3044\u3046\u6642\u306b\u5229\u7528\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u30d7\u30e9\u30b0\u30a4\u30f3\n\u4f8b\u3048\u3070\u90fd\u9053\u5e9c\u770c\u30b3\u30fc\u30c9\u304b\u3089\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3092\u304f\u3063\u3064\u3051\u308b\n\n\n\n\n\u5c0e\u5165\nembulk gem install embulk-filter-join_file \n2015-11-12 12:56:02.486 +0900: Embulk v0.7.9\nSuccessfully installed embulk-filter-join_file-0.0.1\n1 gem installed\n\n\n\u5143\u30c7\u30fc\u30bf\nken_code\u3092\u53c2\u7167\u3057\u3066\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002\nken_code,name\n01,hokkaido\n13,tokyo\n14,kanagawa\n17,ishikawa\n20,nagano\n\n\n\u8a2d\u5b9a\u306e\u6d41\u308c\n\n\u5909\u63db\u30c7\u30fc\u30bf\u306ejson\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\n\u8a2d\u5b9a\u3092\u8a18\u8ff0\n\u5b9f\u884c\n\n\n\u5909\u63db\u30c7\u30fc\u30bf\u306ejson\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\n\u6b21\u306e\u3088\u3046\u306aJSON\u30d5\u30a1\u30a4\u30eb\u3092\u3064\u304f\u308b\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u3092master.json\u3068\u3057\u307e\u3059\u3002\n\u9577\u3044\u306e\u3067\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u306f\u3001\u672c\u6587\u66f8\u672b\u5c3e\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nmaster.json\n[\n  {\n    \"code\": \"01\",\n    \"name\": \"\u5317\u6d77\u9053\"\n  },\n  {\n    \"code\": \"02\",\n    \"name\": \"\u9752\u68ee\u770c\"\n  },\n  {\n    \"code\": \"03\",\n    \"name\": \"\u5ca9\u624b\u770c\"\n  },\n  ...\n\n\n\n\u8a2d\u5b9a\u3092\u8a18\u8ff0\n\nconf.yml\n  type: file\n  path_prefix: /tmp/embulk/test\n  parser:\n    charset: UTF-8\n    newline: CRLF\n    type: csv\n    delimiter: ','\n    quote: '\"'\n    escape: '\"'\n    trim_if_not_quoted: false\n    skip_header_lines: 1\n    allow_extra_columns: false\n    allow_optional_columns: false\n    columns:\n    - {name: ken_code, type: string} # \u30ad\u30fc\u30ab\u30e9\u30e0\n    - {name: name, type: string}\n#\n# \u3053\u3053\u304b\u3089\u304cfilter\u306e\u8a2d\u5b9a\n#\nfilters:\n  - type: join_file\n    # \u5143\u30c7\u30fc\u30bf\u306b\u3042\u308b\u30ab\u30e9\u30e0\u306e\u540d\u524d\u3001parser\u5185\u306e\u30ab\u30e9\u30e0\u540d\u3068\u5bfe\u5fdc\u3065\u3051\u3059\u308b\n    base_column:    { name: ken_code, type: string }\n    # json\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u3042\u308b\u30ab\u30e9\u30e0\u306e\u540d\u524d\n    counter_column: { name: code, type: string }\n    # \u5909\u63db\u30d5\u30a1\u30a4\u30eb\n    file_path: /tmp/master.json\n    # \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n    file_format: json\n    # \u30de\u30b9\u30bf\u30fc\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u51fa\u529b\u3057\u305f\u3044\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\n    columns:\n#      - { name: code, type: string }\n      - { name: name, type: string }\n\nout: {type: stdout}\n\n\n\n\u5b9f\u884c\nembulk preview -G conf.yml \n2015-10-15 20:02:49.354 +0900: Embulk v0.7.5\n*************************** 1 ***************************\n              ken_code (string) : 01\n                  name (string) : hokkaido\n_joined_by_embulk_name (string) : \u5317\u6d77\u9053\n*************************** 2 ***************************\n              ken_code (string) : 13\n                  name (string) : tokyo\n_joined_by_embulk_name (string) : \u6771\u4eac\u90fd\n*************************** 3 ***************************\n              ken_code (string) : 14\n                  name (string) : kanagawa\n_joined_by_embulk_name (string) : \u795e\u5948\u5ddd\u770c\n*************************** 4 ***************************\n              ken_code (string) : 17\n                  name (string) : ishikawa\n_joined_by_embulk_name (string) : \u77f3\u5ddd\u770c\n*************************** 5 ***************************\n              ken_code (string) : 20\n                  name (string) : nagano\n_joined_by_embulk_name (string) : \u9577\u91ce\u770c\n\n\n\u90fd\u9053\u5e9c\u770c\u5909\u63dbJSON\u30d5\u30a1\u30a4\u30eb\n[\n  {\n    \"code\": \"01\",\n    \"name\": \"\u5317\u6d77\u9053\"\n  },\n  {\n    \"code\": \"02\",\n    \"name\": \"\u9752\u68ee\u770c\"\n  },\n  {\n    \"code\": \"03\",\n    \"name\": \"\u5ca9\u624b\u770c\"\n  },\n  {\n    \"code\": \"04\",\n    \"name\": \"\u5bae\u57ce\u770c\"\n  },\n  {\n    \"code\": \"05\",\n    \"name\": \"\u79cb\u7530\u770c\"\n  },\n  {\n    \"code\": \"06\",\n    \"name\": \"\u5c71\u5f62\u770c\"\n  },\n  {\n    \"code\": \"07\",\n    \"name\": \"\u798f\u5cf6\u770c\"\n  },\n  {\n    \"code\": \"08\",\n    \"name\": \"\u8328\u57ce\u770c\"\n  },\n  {\n    \"code\": \"09\",\n    \"name\": \"\u6803\u6728\u770c\"\n  },\n  {\n    \"code\": \"10\",\n    \"name\": \"\u7fa4\u99ac\u770c\"\n  },\n  {\n    \"code\": \"11\",\n    \"name\": \"\u57fc\u7389\u770c\"\n  },\n  {\n    \"code\": \"12\",\n    \"name\": \"\u5343\u8449\u770c\"\n  },\n  {\n    \"code\": \"13\",\n    \"name\": \"\u6771\u4eac\u90fd\"\n  },\n  {\n    \"code\": \"14\",\n    \"name\": \"\u795e\u5948\u5ddd\u770c\"\n  },\n  {\n    \"code\": \"15\",\n    \"name\": \"\u65b0\u6f5f\u770c\"\n  },\n  {\n    \"code\": \"16\",\n    \"name\": \"\u5bcc\u5c71\u770c\"\n  },\n  {\n    \"code\": \"17\",\n    \"name\": \"\u77f3\u5ddd\u770c\"\n  },\n  {\n    \"code\": \"18\",\n    \"name\": \"\u798f\u4e95\u770c\"\n  },\n  {\n    \"code\": \"19\",\n    \"name\": \"\u5c71\u68a8\u770c\"\n  },\n  {\n    \"code\": \"20\",\n    \"name\": \"\u9577\u91ce\u770c\"\n  },\n  {\n    \"code\": \"21\",\n    \"name\": \"\u5c90\u961c\u770c\"\n  },\n  {\n    \"code\": \"22\",\n    \"name\": \"\u9759\u5ca1\u770c\"\n  },\n  {\n    \"code\": \"23\",\n    \"name\": \"\u611b\u77e5\u770c\"\n  },\n  {\n    \"code\": \"24\",\n    \"name\": \"\u4e09\u91cd\u770c\"\n  },\n  {\n    \"code\": \"25\",\n    \"name\": \"\u6ecb\u8cc0\u770c\"\n  },\n  {\n    \"code\": \"26\",\n    \"name\": \"\u4eac\u90fd\u5e9c\"\n  },\n  {\n    \"code\": \"27\",\n    \"name\": \"\u5927\u962a\u5e9c\"\n  },\n  {\n    \"code\": \"28\",\n    \"name\": \"\u5175\u5eab\u770c\"\n  },\n  {\n    \"code\": \"29\",\n    \"name\": \"\u5948\u826f\u770c\"\n  },\n  {\n    \"code\": \"30\",\n    \"name\": \"\u548c\u6b4c\u5c71\u770c\"\n  },\n  {\n    \"code\": \"31\",\n    \"name\": \"\u9ce5\u53d6\u770c\"\n  },\n  {\n    \"code\": \"32\",\n    \"name\": \"\u5cf6\u6839\u770c\"\n  },\n  {\n    \"code\": \"33\",\n    \"name\": \"\u5ca1\u5c71\u770c\"\n  },\n  {\n    \"code\": \"34\",\n    \"name\": \"\u5e83\u5cf6\u770c\"\n  },\n  {\n    \"code\": \"35\",\n    \"name\": \"\u5c71\u53e3\u770c\"\n  },\n  {\n    \"code\": \"36\",\n    \"name\": \"\u5fb3\u5cf6\u770c\"\n  },\n  {\n    \"code\": \"37\",\n    \"name\": \"\u9999\u5ddd\u770c\"\n  },\n  {\n    \"code\": \"38\",\n    \"name\": \"\u611b\u5a9b\u770c\"\n  },\n  {\n    \"code\": \"39\",\n    \"name\": \"\u9ad8\u77e5\u770c\"\n  },\n  {\n    \"code\": \"40\",\n    \"name\": \"\u798f\u5ca1\u770c\"\n  },\n  {\n    \"code\": \"41\",\n    \"name\": \"\u4f50\u8cc0\u770c\"\n  },\n  {\n    \"code\": \"42\",\n    \"name\": \"\u9577\u5d0e\u770c\"\n  },\n  {\n    \"code\": \"43\",\n    \"name\": \"\u718a\u672c\u770c\"\n  },\n  {\n    \"code\": \"44\",\n    \"name\": \"\u5927\u5206\u770c\"\n  },\n  {\n    \"code\": \"45\",\n    \"name\": \"\u5bae\u5d0e\u770c\"\n  },\n  {\n    \"code\": \"46\",\n    \"name\": \"\u9e7f\u5150\u5cf6\u770c\"\n  },\n  {\n    \"code\": \"47\",\n    \"name\": \"\u6c96\u7e04\u770c\"\n  }\n]\n\n\n\u4fbf\u5229\u3060\u306a\u3068\u601d\u3063\u305f\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u3044\u65b9\u3092\u307e\u3068\u3081\u305f\u30e1\u30e2\u7b2c\u4e00\u5f3e\n(gist\u306b\u66f8\u3044\u3066\u304a\u304f\u3068\u3069\u3053\u304b\u306b\u884c\u3063\u3066\u3057\u307e\u3046\u306e\u3067Qiita\u306b\u79fb\u52d5)\n\n## \u540d\u524d\n\n* \u30d7\u30e9\u30b0\u30a4\u30f3\u540d: [embulk-filter-join_file](https://github.com/civitaspo)\n* \u8457\u8005: Civitaspo\u3055\u3093\n* \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u7528\u9014\n  * \u3042\u308b\u5024\u3092\u5143\u306b\u4ed6\u306e\u5024\u3092\u7d50\u5408\u3057\u305f\u3044\u3068\u3044\u3046\u6642\u306b\u5229\u7528\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u30d7\u30e9\u30b0\u30a4\u30f3\n  * \u4f8b\u3048\u3070\u90fd\u9053\u5e9c\u770c\u30b3\u30fc\u30c9\u304b\u3089\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3092\u304f\u3063\u3064\u3051\u308b\n\n## \u5c0e\u5165\n\n```\nembulk gem install embulk-filter-join_file \n2015-11-12 12:56:02.486 +0900: Embulk v0.7.9\nSuccessfully installed embulk-filter-join_file-0.0.1\n1 gem installed\n```\n\n## \u5143\u30c7\u30fc\u30bf\n\nken_code\u3092\u53c2\u7167\u3057\u3066\u3001\u90fd\u9053\u5e9c\u770c\u540d\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002\n\n```csv\nken_code,name\n01,hokkaido\n13,tokyo\n14,kanagawa\n17,ishikawa\n20,nagano\n```\n\n\n## \u8a2d\u5b9a\u306e\u6d41\u308c\n\n* \u5909\u63db\u30c7\u30fc\u30bf\u306ejson\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\n* \u8a2d\u5b9a\u3092\u8a18\u8ff0\n* \u5b9f\u884c\n\n### \u5909\u63db\u30c7\u30fc\u30bf\u306ejson\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\n\n\u6b21\u306e\u3088\u3046\u306aJSON\u30d5\u30a1\u30a4\u30eb\u3092\u3064\u304f\u308b\u3001\u30d5\u30a1\u30a4\u30eb\u540d\u3092``master.json``\u3068\u3057\u307e\u3059\u3002\n\u9577\u3044\u306e\u3067\u3059\u3079\u3066\u306e\u30c7\u30fc\u30bf\u306f\u3001\u672c\u6587\u66f8\u672b\u5c3e\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```json:master.json\n[\n  {\n    \"code\": \"01\",\n    \"name\": \"\u5317\u6d77\u9053\"\n  },\n  {\n    \"code\": \"02\",\n    \"name\": \"\u9752\u68ee\u770c\"\n  },\n  {\n    \"code\": \"03\",\n    \"name\": \"\u5ca9\u624b\u770c\"\n  },\n  ...\n```  \n\n### \u8a2d\u5b9a\u3092\u8a18\u8ff0 \n\n```yaml:conf.yml\n  type: file\n  path_prefix: /tmp/embulk/test\n  parser:\n    charset: UTF-8\n    newline: CRLF\n    type: csv\n    delimiter: ','\n    quote: '\"'\n    escape: '\"'\n    trim_if_not_quoted: false\n    skip_header_lines: 1\n    allow_extra_columns: false\n    allow_optional_columns: false\n    columns:\n    - {name: ken_code, type: string} # \u30ad\u30fc\u30ab\u30e9\u30e0\n    - {name: name, type: string}\n#\n# \u3053\u3053\u304b\u3089\u304cfilter\u306e\u8a2d\u5b9a\n#\nfilters:\n  - type: join_file\n    # \u5143\u30c7\u30fc\u30bf\u306b\u3042\u308b\u30ab\u30e9\u30e0\u306e\u540d\u524d\u3001parser\u5185\u306e\u30ab\u30e9\u30e0\u540d\u3068\u5bfe\u5fdc\u3065\u3051\u3059\u308b\n    base_column:    { name: ken_code, type: string }\n    # json\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u3042\u308b\u30ab\u30e9\u30e0\u306e\u540d\u524d\n    counter_column: { name: code, type: string }\n    # \u5909\u63db\u30d5\u30a1\u30a4\u30eb\n    file_path: /tmp/master.json\n    # \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n    file_format: json\n    # \u30de\u30b9\u30bf\u30fc\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u51fa\u529b\u3057\u305f\u3044\u30ab\u30e9\u30e0\u3092\u6307\u5b9a\n    columns:\n#      - { name: code, type: string }\n      - { name: name, type: string }\n\nout: {type: stdout}\n```\n### \u5b9f\u884c\n\n```\nembulk preview -G conf.yml \n2015-10-15 20:02:49.354 +0900: Embulk v0.7.5\n*************************** 1 ***************************\n              ken_code (string) : 01\n                  name (string) : hokkaido\n_joined_by_embulk_name (string) : \u5317\u6d77\u9053\n*************************** 2 ***************************\n              ken_code (string) : 13\n                  name (string) : tokyo\n_joined_by_embulk_name (string) : \u6771\u4eac\u90fd\n*************************** 3 ***************************\n              ken_code (string) : 14\n                  name (string) : kanagawa\n_joined_by_embulk_name (string) : \u795e\u5948\u5ddd\u770c\n*************************** 4 ***************************\n              ken_code (string) : 17\n                  name (string) : ishikawa\n_joined_by_embulk_name (string) : \u77f3\u5ddd\u770c\n*************************** 5 ***************************\n              ken_code (string) : 20\n                  name (string) : nagano\n_joined_by_embulk_name (string) : \u9577\u91ce\u770c\n```\n\n\n\n\n## \u90fd\u9053\u5e9c\u770c\u5909\u63dbJSON\u30d5\u30a1\u30a4\u30eb\n\n```json\n[\n  {\n    \"code\": \"01\",\n    \"name\": \"\u5317\u6d77\u9053\"\n  },\n  {\n    \"code\": \"02\",\n    \"name\": \"\u9752\u68ee\u770c\"\n  },\n  {\n    \"code\": \"03\",\n    \"name\": \"\u5ca9\u624b\u770c\"\n  },\n  {\n    \"code\": \"04\",\n    \"name\": \"\u5bae\u57ce\u770c\"\n  },\n  {\n    \"code\": \"05\",\n    \"name\": \"\u79cb\u7530\u770c\"\n  },\n  {\n    \"code\": \"06\",\n    \"name\": \"\u5c71\u5f62\u770c\"\n  },\n  {\n    \"code\": \"07\",\n    \"name\": \"\u798f\u5cf6\u770c\"\n  },\n  {\n    \"code\": \"08\",\n    \"name\": \"\u8328\u57ce\u770c\"\n  },\n  {\n    \"code\": \"09\",\n    \"name\": \"\u6803\u6728\u770c\"\n  },\n  {\n    \"code\": \"10\",\n    \"name\": \"\u7fa4\u99ac\u770c\"\n  },\n  {\n    \"code\": \"11\",\n    \"name\": \"\u57fc\u7389\u770c\"\n  },\n  {\n    \"code\": \"12\",\n    \"name\": \"\u5343\u8449\u770c\"\n  },\n  {\n    \"code\": \"13\",\n    \"name\": \"\u6771\u4eac\u90fd\"\n  },\n  {\n    \"code\": \"14\",\n    \"name\": \"\u795e\u5948\u5ddd\u770c\"\n  },\n  {\n    \"code\": \"15\",\n    \"name\": \"\u65b0\u6f5f\u770c\"\n  },\n  {\n    \"code\": \"16\",\n    \"name\": \"\u5bcc\u5c71\u770c\"\n  },\n  {\n    \"code\": \"17\",\n    \"name\": \"\u77f3\u5ddd\u770c\"\n  },\n  {\n    \"code\": \"18\",\n    \"name\": \"\u798f\u4e95\u770c\"\n  },\n  {\n    \"code\": \"19\",\n    \"name\": \"\u5c71\u68a8\u770c\"\n  },\n  {\n    \"code\": \"20\",\n    \"name\": \"\u9577\u91ce\u770c\"\n  },\n  {\n    \"code\": \"21\",\n    \"name\": \"\u5c90\u961c\u770c\"\n  },\n  {\n    \"code\": \"22\",\n    \"name\": \"\u9759\u5ca1\u770c\"\n  },\n  {\n    \"code\": \"23\",\n    \"name\": \"\u611b\u77e5\u770c\"\n  },\n  {\n    \"code\": \"24\",\n    \"name\": \"\u4e09\u91cd\u770c\"\n  },\n  {\n    \"code\": \"25\",\n    \"name\": \"\u6ecb\u8cc0\u770c\"\n  },\n  {\n    \"code\": \"26\",\n    \"name\": \"\u4eac\u90fd\u5e9c\"\n  },\n  {\n    \"code\": \"27\",\n    \"name\": \"\u5927\u962a\u5e9c\"\n  },\n  {\n    \"code\": \"28\",\n    \"name\": \"\u5175\u5eab\u770c\"\n  },\n  {\n    \"code\": \"29\",\n    \"name\": \"\u5948\u826f\u770c\"\n  },\n  {\n    \"code\": \"30\",\n    \"name\": \"\u548c\u6b4c\u5c71\u770c\"\n  },\n  {\n    \"code\": \"31\",\n    \"name\": \"\u9ce5\u53d6\u770c\"\n  },\n  {\n    \"code\": \"32\",\n    \"name\": \"\u5cf6\u6839\u770c\"\n  },\n  {\n    \"code\": \"33\",\n    \"name\": \"\u5ca1\u5c71\u770c\"\n  },\n  {\n    \"code\": \"34\",\n    \"name\": \"\u5e83\u5cf6\u770c\"\n  },\n  {\n    \"code\": \"35\",\n    \"name\": \"\u5c71\u53e3\u770c\"\n  },\n  {\n    \"code\": \"36\",\n    \"name\": \"\u5fb3\u5cf6\u770c\"\n  },\n  {\n    \"code\": \"37\",\n    \"name\": \"\u9999\u5ddd\u770c\"\n  },\n  {\n    \"code\": \"38\",\n    \"name\": \"\u611b\u5a9b\u770c\"\n  },\n  {\n    \"code\": \"39\",\n    \"name\": \"\u9ad8\u77e5\u770c\"\n  },\n  {\n    \"code\": \"40\",\n    \"name\": \"\u798f\u5ca1\u770c\"\n  },\n  {\n    \"code\": \"41\",\n    \"name\": \"\u4f50\u8cc0\u770c\"\n  },\n  {\n    \"code\": \"42\",\n    \"name\": \"\u9577\u5d0e\u770c\"\n  },\n  {\n    \"code\": \"43\",\n    \"name\": \"\u718a\u672c\u770c\"\n  },\n  {\n    \"code\": \"44\",\n    \"name\": \"\u5927\u5206\u770c\"\n  },\n  {\n    \"code\": \"45\",\n    \"name\": \"\u5bae\u5d0e\u770c\"\n  },\n  {\n    \"code\": \"46\",\n    \"name\": \"\u9e7f\u5150\u5cf6\u770c\"\n  },\n  {\n    \"code\": \"47\",\n    \"name\": \"\u6c96\u7e04\u770c\"\n  }\n]\n```\n", "tags": ["Embulk0.7.9", "embulk-filter_join_file0.0.1"]}