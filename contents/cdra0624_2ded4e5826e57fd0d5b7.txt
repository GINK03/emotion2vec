{"tags": ["WebRTC", "Adawarp.js"], "context": "\n\nAbout Adawarp.js\nWebRTC\u3092\u7c21\u5358\uff06\u67d4\u8edf\u306b\u6271\u3048\u308b\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\n\nWebRTC\u3068\u306f\nWebRTC\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u3084\u5c02\u7528\u30a2\u30d7\u30ea\u540c\u58eb\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u6620\u50cf\u3001\u97f3\u58f0\u3001\u30c7\u30fc\u30bf\u3092\u9001\u53d7\u4fe1\u3067\u304d\u308b\u753b\u671f\u7684\u306a\u65b0\u6280\u8853\u3067\u3059\u3002Adawarp\u3092\u4f7f\u3048\u3070\u3001\u30b5\u30fc\u30d0\u3092\u6e96\u5099\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u305d\u3057\u3066\u4e00\u5207\u306e\u767b\u9332\u3092\u3059\u308b\u5fc5\u8981\u3082\u306a\u304f\u30d3\u30c7\u30aa\u30c1\u30e3\u30c3\u30c8\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u958b\u767a\u74b0\u5883\nMac OS\n\n\u6e96\u5099\u3059\u308b\u3082\u306e\nFirefox\u306e\u6700\u65b0\u7248\n\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\n\nSetup\n01: Firefox\u306e\u6700\u65b0\u7248\u3092\u3053\u3053\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nhttps://www.mozilla.org/en-US/firefox/new/\n\nChrome\u3067\u3084\u308b\u969b\u306b\u306f\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3066\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u306f\u6b21\u56de\u4ee5\u964d\u7d39\u4ecb\u3057\u307e\u3059\u3002\n02: \u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3092\u958b\u304d\u307e\u3059\u3002\n\n03: \u30e1\u30cb\u30e5\u30fc\u30d0\u30fc -> \u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf -> \u74b0\u5883\u8a2d\u5b9a\u3092\u958b\u304d\u307e\u3059\u3002\n\n04: New Document -> Format\u3092Plain text\u306b\u30c1\u30a7\u30c3\u30af\n\n05: Open and Save -> When Opening a File\u3092Display HTML file as HTML code\u306b\u30c1\u30a7\u30c3\u30af\n\n06: \u3053\u306e\u30b3\u30fc\u30c9\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\nvidechat.html\n<!DOCTYPE html>\n<html>\n<head>\n  <script src=\"https://cdn.socket.io/socket.io-1.4.5.js\"></script>\n  <script src=\"https://unpkg.com/adawarp@latest/dist/adawarp.js\"></script>\n</head>\n<body>\n<h1>ADAWARP video chat</h1>\n<div>\n  <video id=\"my-video\" style=\"width: 300px;\" autoplay muted></video>\n  <video id=\"peer-video\" style=\"width: 300px;\" autoplay></video>\n</div>\nMyID: <span id=\"id1\">-</span><br>PeerID: <span id=\"id2\">-</span><br>\n<input type=\"text\" placeholder=\"PeerID\" id=\"peer-id-input\"><br>\n<button onclick=\"callStart()\">Start Call</button>\n<button onclick=\"callEnd()\">End Call</button>\n<script>\n  const peer = new Adawarp(); let localStream, connectedCall;\n  navigator.mediaDevices.getUserMedia({audio: true, video: true}).then(stream => {\n    localStream = stream;\n    document.getElementById(\"my-video\").src = URL.createObjectURL(stream);\n  }, () => { alert(\"get user media Error!\"); }) ;\n  peer.on('open',() => {document.getElementById(\"id1\").innerHTML = peer.id});\n  peer.login();\n  peer.on('call', function(call){ call.answer(localStream); callOn(call); });\n  function callStart(){\n    var peer_id = document.getElementById(\"peer-id-input\").value;\n    var call = peer.call(peer_id, localStream);\n    callOn(call);\n  }\n  function callOn(call) {\n    call.on('stream', stream => {\n      document.getElementById(\"id2\").innerHTML = call.peer;\n      connectedCall = call;\n      var url = URL.createObjectURL(stream);\n      document.getElementById(\"peer-video\").src = url;\n    });\n  }\n  function callEnd() { connectedCall.close(); }\n</script>\n</body>\n</html>\n\n\n07: videochat.html\u3068\u3057\u3066Desktop\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\n\n08: Desktop\u306evideochat.html\u3092\u53f3\u30af\u30ea\u30c3\u30af\u2192\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u958b\u304f\u2192Firefox\u3092\u9078\u629e\n\n09: \u30ab\u30e1\u30e9\u3068\u30de\u30a4\u30af\u3092\u8a31\u53ef\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n10: Face Camera\u3067\u3042\u306a\u305f\u306e\u9854\u304c\u5199\u3063\u305f\u3089\u6210\u529f\u3067\u3059\uff01\n\n11: \u3082\u3046\u4e00\u5ea6\u65b0\u3057\u3044\u30da\u30fc\u30b8\u3092\u958b\u3044\u3066\u3001\u524d\u306e\u30da\u30fc\u30b8\u306eID\u306bStart Call\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u753b\u9762\u304c2\u3064\u5199\u3063\u3066\u3001\u97f3\u304c\u30cf\u30a6\u30ea\u30f3\u30b0\u3057\u3066\u3044\u305f\u3089\u6210\u529f\u3067\u3059\uff01\n\u3053\u306eID\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u306e\u3067\u3001\u4ed6\u306ePC\u3067\u7acb\u3061\u4e0a\u3052\u305fvideochat.html\u304b\u3089\u3082\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\uff01\n\nNext Step\nChrome\u3067\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306b\u3001\u7c21\u5358\u306a\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u306e\u7acb\u3066\u65b9\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n#About Adawarp.js\nWebRTC\u3092\u7c21\u5358\uff06\u67d4\u8edf\u306b\u6271\u3048\u308b\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\n\n#WebRTC\u3068\u306f\nWebRTC\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u3084\u5c02\u7528\u30a2\u30d7\u30ea\u540c\u58eb\u3067\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u6620\u50cf\u3001\u97f3\u58f0\u3001\u30c7\u30fc\u30bf\u3092\u9001\u53d7\u4fe1\u3067\u304d\u308b\u753b\u671f\u7684\u306a\u65b0\u6280\u8853\u3067\u3059\u3002Adawarp\u3092\u4f7f\u3048\u3070\u3001\u30b5\u30fc\u30d0\u3092\u6e96\u5099\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u305d\u3057\u3066\u4e00\u5207\u306e\u767b\u9332\u3092\u3059\u308b\u5fc5\u8981\u3082\u306a\u304f\u30d3\u30c7\u30aa\u30c1\u30e3\u30c3\u30c8\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n#\u958b\u767a\u74b0\u5883\nMac OS\n\n# \u6e96\u5099\u3059\u308b\u3082\u306e\nFirefox\u306e\u6700\u65b0\u7248\n\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\n\n#Setup\n01: Firefox\u306e\u6700\u65b0\u7248\u3092\u3053\u3053\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n[https://www.mozilla.org/en-US/firefox/new/](https://www.mozilla.org/en-US/firefox/new/)\n<img width=\"990\" alt=\"Screen Shot 2016-11-18 at 07.53.34.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/951bc8c0-44de-d8ba-bc4c-879fee8c59e1.png\">\n:warning:Chrome\u3067\u3084\u308b\u969b\u306b\u306f\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u3092\u7acb\u3066\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u308c\u306f\u6b21\u56de\u4ee5\u964d\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n02: \u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\u3092\u958b\u304d\u307e\u3059\u3002\n<img width=\"819\" alt=\"text.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/510c7a29-d9c0-3c11-1a48-2f32d09afded.png\">\n\n03: \u30e1\u30cb\u30e5\u30fc\u30d0\u30fc -> \u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf -> \u74b0\u5883\u8a2d\u5b9a\u3092\u958b\u304d\u307e\u3059\u3002\n<img width=\"459\" alt=\"Screen Shot 2016-11-18 at 08.22.15.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/9d62726f-c379-e124-9f5c-c96abac73681.png\">\n\n04: New Document -> Format\u3092Plain text\u306b\u30c1\u30a7\u30c3\u30af  \n<img width=\"436\" alt=\"Screen Shot 2016-11-18 at 08.22.27.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/ab9e572f-5693-ba88-ee29-8971d8e6d07b.png\">\n\n05: Open and Save -> When Opening a File\u3092Display HTML file as HTML code\u306b\u30c1\u30a7\u30c3\u30af\n<img width=\"433\" alt=\"Screen Shot 2016-11-18 at 08.23.00.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/09b95273-e1cc-df81-a743-dd529eb241b5.png\">\n\n\n06: \u3053\u306e\u30b3\u30fc\u30c9\u3092\u30b3\u30d4\u30da\u3057\u307e\u3059\u3002\n\n```html:videchat.html\n<!DOCTYPE html>\n<html>\n<head>\n  <script src=\"https://cdn.socket.io/socket.io-1.4.5.js\"></script>\n  <script src=\"https://unpkg.com/adawarp@latest/dist/adawarp.js\"></script>\n</head>\n<body>\n<h1>ADAWARP video chat</h1>\n<div>\n  <video id=\"my-video\" style=\"width: 300px;\" autoplay muted></video>\n  <video id=\"peer-video\" style=\"width: 300px;\" autoplay></video>\n</div>\nMyID: <span id=\"id1\">-</span><br>PeerID: <span id=\"id2\">-</span><br>\n<input type=\"text\" placeholder=\"PeerID\" id=\"peer-id-input\"><br>\n<button onclick=\"callStart()\">Start Call</button>\n<button onclick=\"callEnd()\">End Call</button>\n<script>\n  const peer = new Adawarp(); let localStream, connectedCall;\n  navigator.mediaDevices.getUserMedia({audio: true, video: true}).then(stream => {\n    localStream = stream;\n    document.getElementById(\"my-video\").src = URL.createObjectURL(stream);\n  }, () => { alert(\"get user media Error!\"); }) ;\n  peer.on('open',() => {document.getElementById(\"id1\").innerHTML = peer.id});\n  peer.login();\n  peer.on('call', function(call){ call.answer(localStream); callOn(call); });\n  function callStart(){\n    var peer_id = document.getElementById(\"peer-id-input\").value;\n    var call = peer.call(peer_id, localStream);\n    callOn(call);\n  }\n  function callOn(call) {\n    call.on('stream', stream => {\n      document.getElementById(\"id2\").innerHTML = call.peer;\n      connectedCall = call;\n      var url = URL.createObjectURL(stream);\n      document.getElementById(\"peer-video\").src = url;\n    });\n  }\n  function callEnd() { connectedCall.close(); }\n</script>\n</body>\n</html>\n```\n\n07: videochat.html\u3068\u3057\u3066Desktop\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\n<img width=\"617\" alt=\"Screen Shot 2016-11-18 at 08.31.18.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/c6665ccc-1996-859e-96be-f70ef5a72a70.png\">\n\n\n08: Desktop\u306evideochat.html\u3092\u53f3\u30af\u30ea\u30c3\u30af\u2192\u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u958b\u304f\u2192Firefox\u3092\u9078\u629e\n<img width=\"531\" alt=\"open.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/e5628f88-9702-99a5-2c69-ef982bdf98b2.png\">\n\n09: \u30ab\u30e1\u30e9\u3068\u30de\u30a4\u30af\u3092\u8a31\u53ef\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n<img width=\"583\" alt=\"Screen Shot 2016-11-18 at 08.32.37.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/f2337327-4e9d-08e2-6520-ac7ad4b004f1.png\">\n\n10: Face Camera\u3067\u3042\u306a\u305f\u306e\u9854\u304c\u5199\u3063\u305f\u3089\u6210\u529f\u3067\u3059\uff01  \n<img width=\"604\" alt=\"Screen Shot 2016-11-18 at 08.34.25.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/7fbe0645-3c26-07fa-2136-737724f389d5.png\">\n\n11: \u3082\u3046\u4e00\u5ea6\u65b0\u3057\u3044\u30da\u30fc\u30b8\u3092\u958b\u3044\u3066\u3001\u524d\u306e\u30da\u30fc\u30b8\u306eID\u306bStart Call\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n<img width=\"669\" alt=\"Screen Shot 2016-11-18 at 08.36.02.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/145134/ef47f39c-6c47-e4c6-4e96-66d7e673b035.png\">\n\n\u753b\u9762\u304c2\u3064\u5199\u3063\u3066\u3001\u97f3\u304c\u30cf\u30a6\u30ea\u30f3\u30b0\u3057\u3066\u3044\u305f\u3089\u6210\u529f\u3067\u3059\uff01  \n\u3053\u306eID\u306f\u30b0\u30ed\u30fc\u30d0\u30eb\u306a\u306e\u3067\u3001\u4ed6\u306ePC\u3067\u7acb\u3061\u4e0a\u3052\u305fvideochat.html\u304b\u3089\u3082\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\uff01\n\n#Next Step\nChrome\u3067\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306b\u3001\u7c21\u5358\u306a\u30ed\u30fc\u30ab\u30eb\u30b5\u30fc\u30d0\u30fc\u306e\u7acb\u3066\u65b9\u3092\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\n\n"}