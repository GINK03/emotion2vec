{"context": " More than 1 year has passed since last update.\n\n?rot_\nCG\u306a\u3069\u3067\u5ea7\u6a19\u3092\u56de\u8ee2\u3055\u305b\u305f\u3044\u3068\u304d\u306f\u884c\u5217\u3092\u4f7f\u3063\u3066\u8a08\u7b97\u3067\u304d\u307e\u3059\u304c\u3001\u884c\u5217\u6f14\u7b97\u30e9\u30a4\u30d6\u30e9\u30ea\u306eBLAS\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002BLAS\u306eAPI\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u304c\u3001\u4f7f\u3044\u3084\u3059\u304f\u3057\u305fcblas.h\u3082\u3042\u308a\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u307e\u3059\u3002\nvoid srot_(int *n, float *x, int *incx, float *y, int *incy, float *c, float *s);\nvoid drot_(int *n, double *x, int *incx, double *y, int *incy, double *c, double *s);\n\n\ncblas.h\nvoid cblas_srot(int n, float *x, int incx, float *y, int incy, float c, float s);\nvoid cblas_drot(int n, double *x, int incx, double *y, int incy, double c, double s);\n\n\n\u3069\u3061\u3089\u3082\u5b9f\u884c\u7d50\u679c\u306f\u540c\u3058\u3067\u3001\u8a08\u7b97\u7d50\u679c\u306fx\u3068y\u306b\u76f4\u63a5\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002\n\u5f0f\u3068\u3057\u3066\u306f\n\\pmatrix{ x_{1} &x_{2} &\\cdots &x_{n} \\\\ y_{1} &y_{2} &\\cdots &y_{n} } \\leftarrow \\pmatrix{ cos(\\theta) &sin(\\theta) \\\\ -sin(\\theta) &cos(\\theta)  } \\cdot \\pmatrix{ x_{1} &x_{2} &\\cdots &x_{n} \\\\ y_{1} &y_{2} &\\cdots &y_{n} }\n(x1x2\u22efxny1y2\u22efyn)\u2190(cos(\u03b8)sin(\u03b8)\u2212sin(\u03b8)cos(\u03b8))\u22c5(x1x2\u22efxny1y2\u22efyn){\\pmatrix{ x_{1} &x_{2} &\\cdots &x_{n} \\\\ y_{1} &y_{2} &\\cdots &y_{n} } \\leftarrow \\pmatrix{ cos(\\theta) &sin(\\theta) \\\\ -sin(\\theta) &cos(\\theta)  } \\cdot \\pmatrix{ x_{1} &x_{2} &\\cdots &x_{n} \\\\ y_{1} &y_{2} &\\cdots &y_{n} }\n}\n\u3068\u540c\u7b49\u306e\u8a08\u7b97\u3067\u3059\u3002\n\u5f15\u6570\u306e\u610f\u5473\u306f\u305d\u308c\u305e\u308c\n\n\n\n\u5f15\u6570\nio\n\u610f\u5473\n\n\n\n\nn\nin\n\nx\u3068y\u306e\u8981\u7d20\u6570\n\n\nx\nin,out\n\u5165\u529b\u3068\u3057\u3066(x1\u22efxn)(x_1 \\cdots x_n)\u3092\u53d7\u3051\u53d6\u308a\u7d50\u679c\u304c\u683c\u7d0d\u3055\u308c\u308b\n\n\nincx\nin\nxx\u306e\u914d\u5217\u306e\u6b21\u306e\u8981\u7d20\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u5897\u52a0\u91cf\u30021\u306a\u3089x[0]\u2192x[1]\u2192x[2]\u3068\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u304f\u30022\u306a\u3089x[0]\u2192x[2]\u3068\u306a\u308b\u3002\n\n\ny\nin,out\n\u5165\u529b\u3068\u3057\u3066(yz\u22efyn)(y_z \\cdots y_n)\u3092\u53d7\u3051\u53d6\u308a\u7d50\u679c\u304c\u683c\u7d0d\u3055\u308c\u308b\n\n\nincy\nin\nyy\u306e\u914d\u5217\u306e\u6b21\u306e\u8981\u7d20\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u5897\u52a0\u91cf\u30021\u306a\u3089y[0]\u2192y[1]\u3068\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u304f\u30022\u306a\u3089y[0]\u2192y[2]\u3068\u306a\u308b\u3002\n\n\nc\nin\ncos(\u03b8)cos(\\theta)\u306e\u5024\n\n\ns\nin\nsin(\u03b8)sin(\\theta)\u306e\u5024\n\n\n\nn\u304c1\u306a\u3089\u4ee5\u4e0b\u306e\u5f0f\u306b\u306a\u308a\u307e\u3059\u3002\n\\pmatrix{ x \\\\ y } \\leftarrow \\pmatrix{ cos(\\theta) &sin(\\theta) \\\\ -sin(\\theta) &cos(\\theta) } \\cdot \\pmatrix{ x \\\\ y }\n(xy)\u2190(cos(\u03b8)sin(\u03b8)\u2212sin(\u03b8)cos(\u03b8))\u22c5(xy){\\pmatrix{ x \\\\ y } \\leftarrow \\pmatrix{ cos(\\theta) &sin(\\theta) \\\\ -sin(\\theta) &cos(\\theta) } \\cdot \\pmatrix{ x \\\\ y }\n}\n\u56de\u8ee2\u306e\u4ed5\u65b9\u3068\u3057\u3066\u306f\u3001\u30ab\u30e1\u30e9\u304c\u03b8\\theta\u56de\u8ee2\u3057\u305f\u3068\u304d\u306e\u5ea7\u6a19\u306e\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\n\n\u4f7f\u3063\u3066\u307f\u308b\n\n2\u6b21\u5143\u306e\u56de\u8ee2\n\u307e\u305a\u306f\uff12\u6b21\u5143\u3067x=1, y=1\u3092\u03c04\\frac{\\pi}{4}\u56de\u8ee2\u3059\u308b\u5834\u5408\u3002\n \\pmatrix{ cos(\\frac{\\pi}{4}) &sin(\\frac{\\pi}{4}) \\\\ -sin(\\frac{\\pi}{4}) &cos(\\frac{\\pi}{4}) } \\cdot \\pmatrix{ 1 \\\\ 1 } = \\pmatrix{ \\sqrt{2} \\\\ 0 } \\approx \\pmatrix { 1.414214 \\\\ 0 }\n(cos(\u03c04)sin(\u03c04)\u2212sin(\u03c04)cos(\u03c04))\u22c5(11)=(\u221a20)\u2248(1.4142140){ \\pmatrix{ cos(\\frac{\\pi}{4}) &sin(\\frac{\\pi}{4}) \\\\ -sin(\\frac{\\pi}{4}) &cos(\\frac{\\pi}{4}) } \\cdot \\pmatrix{ 1 \\\\ 1 } = \\pmatrix{ \\sqrt{2} \\\\ 0 } \\approx \\pmatrix { 1.414214 \\\\ 0 }\n}\n\u306b\u306a\u308a\u307e\u3059\u3002\n\u30ea\u30f3\u30af\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u306flibblas.so\u3067\u3059\u3002\n\nmain.c\n#include <stdio.h>\n#include <cblas.h>\n#define _USE_MATH_DEFINES\n#include <math.h>\n\nint main()\n{\n    double x = 1, y = 1;\n    cblas_drot( 1, &x, 1, &y, 1, cos(M_PI/4), sin(M_PI/4) );\n    printf( \"x:%lf, y:%lf\\n\", x, y );\n    return 0;\n}\n\n\n\nCMakeLists.txt\ncmake_minimum_required( VERSION 2.8 )\nproject( cblas_drot_test )\nadd_executable( cblas_drot_test main.c )\ntarget_link_libraries( cblas_drot_test m blas )\n\n\n\n3\u6b21\u5143\u3067y\u8ef8\u5468\u308a\u306b\u56de\u8ee2\n3\u6b21\u5143\u7a7a\u9593\u3067\u56de\u8ee2\u3059\u308b\u5834\u5408xx, yy, zz\u306e3\u3064\u306e\u8ef8\u3067\u56de\u8ee2\u3067\u304d\u307e\u3059\u3002\u4f8b\u3068\u3057\u3066yy\u8ef8\u5468\u308a\u306b\u56de\u8ee2\u3059\u308b\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u5f0f\u306b\u306a\u308a\u307e\u3059\u3002\n\\pmatrix{ x \\\\ y \\\\ z } \\leftarrow \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ x \\\\ y \\\\ z }\n{\\pmatrix{ x \\\\ y \\\\ z } \\leftarrow \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ x \\\\ y \\\\ z }\n}{\\pmatrix{ x \\\\ y \\\\ z } \\leftarrow \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ x \\\\ y \\\\ z }\n}\n2\u6b21\u5143\u3068\u540c\u3058\u3088\u3046\u306b\\frac{\\pi}{4}\\frac{\\pi}{4}\u56de\u8ee2\u3059\u308b\u5834\u5408\u3002\n\nmain.c\n#include <stdio.h>\n#include <cblas.h>\n#define _USE_MATH_DEFINES\n#include <math.h>\n\nint main()\n{\n    double p[3] = { 1, 1, 1 };\n    cblas_drot( 1, &p[2], 1, &p[0], 1, cos(M_PI/4), sin(M_PI/4) );\n    printf( \"x:%lf, y:%lf, z:%lf\\n\", p[0], p[1], p[2] );\n    return 0;\n}\n\n\nCMakeLists.txt\u306f\u540c\u3058\u3067\u3059\u3002\n\n\u884c\u5217\u540c\u58eb\u306e\u7a4d\n\u914d\u5217\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u884c\u5217\u3092\u56de\u8ee2\u3057\u305f\u3044\u5834\u5408\u4e00\u5de5\u592b\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u7279\u306bBLAS\u306f\u884c\u5217\u3092\u914d\u5217\u3068\u3057\u3066\u6271\u3046\u6642\u306bC\u8a00\u8a9e\u3060\u3068\u3061\u3087\u3063\u3068\u4e0d\u601d\u8b70\u306b\u898b\u3048\u308b\u7ba1\u7406\u3092\u3057\u3066\u308b\u306e\u3067\u4ed6\u306eAPI\u3082\u4f7f\u3046\u3064\u3082\u308a\u306a\u3089\u6ce8\u610f\u304c\u3044\u308a\u307e\u3059\u3002\n\u5177\u4f53\u7684\u306b\u306f\u914d\u5217double m[9]\u304c\u3042\u3063\u305f\u5834\u5408\u30013\u884c3\u5217\u306e\u884c\u5217MM\u306e\u8981\u7d20\u3068\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5bfe\u5fdc\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002\nM = \\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] }\n{M = \\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] }\n}{M = \\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] }\n}\n\u914d\u5217\u306e\u6b21\u306e\u8981\u7d20\u304c\u884c\u65b9\u5411\u306b\u9806\u756a\u306b\u5897\u3048\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002C\u8a00\u8a9e\u3060\u3068\u5217\u65b9\u5411\u306b\u9806\u756a\u306b\u5897\u3048\u3066\u3044\u304f\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3053\u3053\u304c\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\u305d\u3053\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306ayy\u8ef8\u5468\u308a\u306e\u56de\u8ee2\u3092\u8a08\u7b97\u3057\u305f\u3044\u5834\u5408\u3001\n\\pmatrix{ x'_{1} &x'_{2} &x'_{3} \\\\ y'_{1} &y'_{2} &y'_{3} \\\\ z'_{1} &z'_{2} &z'_{3} } = \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ x_{1} &x_{2} &x_{3} \\\\ y_{1} &y_{2} &y_{3} \\\\ z_{1} &z_{2} &z_{3} }\n{\\pmatrix{ x'_{1} &x'_{2} &x'_{3} \\\\ y'_{1} &y'_{2} &y'_{3} \\\\ z'_{1} &z'_{2} &z'_{3} } = \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ x_{1} &x_{2} &x_{3} \\\\ y_{1} &y_{2} &y_{3} \\\\ z_{1} &z_{2} &z_{3} }\n}{\\pmatrix{ x'_{1} &x'_{2} &x'_{3} \\\\ y'_{1} &y'_{2} &y'_{3} \\\\ z'_{1} &z'_{2} &z'_{3} } = \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ x_{1} &x_{2} &x_{3} \\\\ y_{1} &y_{2} &y_{3} \\\\ z_{1} &z_{2} &z_{3} }\n}\nC\u8a00\u8a9e\u7684\u306b\u306f\n\\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] } \\leftarrow  \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] }\n{\\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] } \\leftarrow  \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] }\n}{\\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] } \\leftarrow  \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] }\n}\n\u3068\u8a08\u7b97\u3057\u305f\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u5834\u5408incx\u3068incy\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\u4f8b\u3068\u3057\u3066\u5358\u4f4d\u884c\u5217\u3092\u56de\u8ee2\u3059\u308b\n\\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{1 &0 &0 \\\\ 0 &1 &0 \\\\ 0 &0 &1 } = \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  }\n{\\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{1 &0 &0 \\\\ 0 &1 &0 \\\\ 0 &0 &1 } = \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  }\n}{\\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{1 &0 &0 \\\\ 0 &1 &0 \\\\ 0 &0 &1 } = \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  }\n}\n\u3092\u8a08\u7b97\u3057\u3066\u307f\u307e\u3059\u3002\n\nmain.c\n#include <stdio.h>\n#include <cblas.h>\n#define _USE_MATH_DEFINES\n#include <math.h>\n\nint main()\n{\n  double m[9] = { 1, 0, 0, 0, 1, 0, 0, 0, 1 };\n  cblas_drot( 3, &m[2], 3, &m[0], 3, cos(M_PI/4), sin(M_PI/4) );\n  printf( \"% lf % lf % lf\\n\", m[0], m[3], m[6] );\n  printf( \"% lf % lf % lf\\n\", m[1], m[4], m[7] );\n  printf( \"% lf % lf % lf\\n\", m[2], m[5], m[8] );\n  return 0;\n}\n\n\nincx\u3068incy\u306b3\u3092\u5165\u308c\u308b\u3053\u3068\u3067x\u306fm[0]\u2192m[3]\u2192m[6]\u3001y\u306fm[2]\u2192m[5]\u2192m[8]\u3068\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n# ?rot_\n\nCG\u306a\u3069\u3067\u5ea7\u6a19\u3092\u56de\u8ee2\u3055\u305b\u305f\u3044\u3068\u304d\u306f\u884c\u5217\u3092\u4f7f\u3063\u3066\u8a08\u7b97\u3067\u304d\u307e\u3059\u304c\u3001\u884c\u5217\u6f14\u7b97\u30e9\u30a4\u30d6\u30e9\u30ea\u306eBLAS\u3092\u4f7f\u3063\u3066\u5b9f\u88c5\u3059\u308b\u65b9\u6cd5\u3067\u3059\u3002BLAS\u306eAPI\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u307e\u3059\u304c\u3001\u4f7f\u3044\u3084\u3059\u304f\u3057\u305f`cblas.h`\u3082\u3042\u308a\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u307e\u3059\u3002\n\n```c\nvoid srot_(int *n, float *x, int *incx, float *y, int *incy, float *c, float *s);\nvoid drot_(int *n, double *x, int *incx, double *y, int *incy, double *c, double *s);\n```\n\n```c:cblas.h\nvoid cblas_srot(int n, float *x, int incx, float *y, int incy, float c, float s);\nvoid cblas_drot(int n, double *x, int incx, double *y, int incy, double c, double s);\n```\n\n\u3069\u3061\u3089\u3082\u5b9f\u884c\u7d50\u679c\u306f\u540c\u3058\u3067\u3001\u8a08\u7b97\u7d50\u679c\u306f`x`\u3068`y`\u306b\u76f4\u63a5\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002\n\u5f0f\u3068\u3057\u3066\u306f\n\n```math\n\\pmatrix{ x_{1} &x_{2} &\\cdots &x_{n} \\\\ y_{1} &y_{2} &\\cdots &y_{n} } \\leftarrow \\pmatrix{ cos(\\theta) &sin(\\theta) \\\\ -sin(\\theta) &cos(\\theta)  } \\cdot \\pmatrix{ x_{1} &x_{2} &\\cdots &x_{n} \\\\ y_{1} &y_{2} &\\cdots &y_{n} }\n```\n\n\u3068\u540c\u7b49\u306e\u8a08\u7b97\u3067\u3059\u3002\n\n\u5f15\u6570\u306e\u610f\u5473\u306f\u305d\u308c\u305e\u308c\n\n|\u5f15\u6570|io|\u610f\u5473|\n|:-:|:-:|:-:|\n|n|in|`x`\u3068`y`\u306e\u8981\u7d20\u6570|\n|x|in,out|\u5165\u529b\u3068\u3057\u3066$(x_1 \\cdots x_n)$\u3092\u53d7\u3051\u53d6\u308a\u7d50\u679c\u304c\u683c\u7d0d\u3055\u308c\u308b|\n|incx|in|$x$\u306e\u914d\u5217\u306e\u6b21\u306e\u8981\u7d20\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u5897\u52a0\u91cf\u3002`1`\u306a\u3089`x[0]`\u2192`x[1]`\u2192`x[2]`\u3068\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u304f\u3002`2`\u306a\u3089`x[0]`\u2192`x[2]`\u3068\u306a\u308b\u3002|\n|y|in,out|\u5165\u529b\u3068\u3057\u3066$(y_z \\cdots y_n)$\u3092\u53d7\u3051\u53d6\u308a\u7d50\u679c\u304c\u683c\u7d0d\u3055\u308c\u308b|\n|incy|in|$y$\u306e\u914d\u5217\u306e\u6b21\u306e\u8981\u7d20\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u5897\u52a0\u91cf\u3002`1`\u306a\u3089`y[0]`\u2192`y[1]`\u3068\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u304f\u3002`2`\u306a\u3089`y[0]`\u2192`y[2]`\u3068\u306a\u308b\u3002|\n|c|in|$cos(\\theta)$\u306e\u5024|\n|s|in|$sin(\\theta)$\u306e\u5024|\n\n`n`\u304c`1`\u306a\u3089\u4ee5\u4e0b\u306e\u5f0f\u306b\u306a\u308a\u307e\u3059\u3002\n\n```math\n\\pmatrix{ x \\\\ y } \\leftarrow \\pmatrix{ cos(\\theta) &sin(\\theta) \\\\ -sin(\\theta) &cos(\\theta) } \\cdot \\pmatrix{ x \\\\ y }\n```\n\n\u56de\u8ee2\u306e\u4ed5\u65b9\u3068\u3057\u3066\u306f\u3001\u30ab\u30e1\u30e9\u304c$\\theta$\u56de\u8ee2\u3057\u305f\u3068\u304d\u306e\u5ea7\u6a19\u306e\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\n\n# \u4f7f\u3063\u3066\u307f\u308b\n\n## 2\u6b21\u5143\u306e\u56de\u8ee2\n\n\u307e\u305a\u306f\uff12\u6b21\u5143\u3067`x=1, y=1`\u3092$\\frac{\\pi}{4}$\u56de\u8ee2\u3059\u308b\u5834\u5408\u3002\n\n```math\n \\pmatrix{ cos(\\frac{\\pi}{4}) &sin(\\frac{\\pi}{4}) \\\\ -sin(\\frac{\\pi}{4}) &cos(\\frac{\\pi}{4}) } \\cdot \\pmatrix{ 1 \\\\ 1 } = \\pmatrix{ \\sqrt{2} \\\\ 0 } \\approx \\pmatrix { 1.414214 \\\\ 0 }\n```\n\n\u306b\u306a\u308a\u307e\u3059\u3002\n\u30ea\u30f3\u30af\u3059\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u306flibblas.so\u3067\u3059\u3002\n\n```c:main.c\n#include <stdio.h>\n#include <cblas.h>\n#define _USE_MATH_DEFINES\n#include <math.h>\n\nint main()\n{\n    double x = 1, y = 1;\n    cblas_drot( 1, &x, 1, &y, 1, cos(M_PI/4), sin(M_PI/4) );\n    printf( \"x:%lf, y:%lf\\n\", x, y );\n    return 0;\n}\n```\n\n```cmake:CMakeLists.txt\ncmake_minimum_required( VERSION 2.8 )\nproject( cblas_drot_test )\nadd_executable( cblas_drot_test main.c )\ntarget_link_libraries( cblas_drot_test m blas )\n```\n\n## 3\u6b21\u5143\u3067y\u8ef8\u5468\u308a\u306b\u56de\u8ee2\n\n3\u6b21\u5143\u7a7a\u9593\u3067\u56de\u8ee2\u3059\u308b\u5834\u5408$x$, $y$, $z$\u306e3\u3064\u306e\u8ef8\u3067\u56de\u8ee2\u3067\u304d\u307e\u3059\u3002\u4f8b\u3068\u3057\u3066$y$\u8ef8\u5468\u308a\u306b\u56de\u8ee2\u3059\u308b\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u5f0f\u306b\u306a\u308a\u307e\u3059\u3002\n\n```math\n\\pmatrix{ x \\\\ y \\\\ z } \\leftarrow \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ x \\\\ y \\\\ z }\n```\n\n2\u6b21\u5143\u3068\u540c\u3058\u3088\u3046\u306b$\\frac{\\pi}{4}$\u56de\u8ee2\u3059\u308b\u5834\u5408\u3002\n\n```c:main.c\n#include <stdio.h>\n#include <cblas.h>\n#define _USE_MATH_DEFINES\n#include <math.h>\n\nint main()\n{\n    double p[3] = { 1, 1, 1 };\n    cblas_drot( 1, &p[2], 1, &p[0], 1, cos(M_PI/4), sin(M_PI/4) );\n    printf( \"x:%lf, y:%lf, z:%lf\\n\", p[0], p[1], p[2] );\n    return 0;\n}\n```\n\nCMakeLists.txt\u306f\u540c\u3058\u3067\u3059\u3002\n\n## \u884c\u5217\u540c\u58eb\u306e\u7a4d\n\n\u914d\u5217\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u884c\u5217\u3092\u56de\u8ee2\u3057\u305f\u3044\u5834\u5408\u4e00\u5de5\u592b\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u7279\u306bBLAS\u306f\u884c\u5217\u3092\u914d\u5217\u3068\u3057\u3066\u6271\u3046\u6642\u306bC\u8a00\u8a9e\u3060\u3068\u3061\u3087\u3063\u3068\u4e0d\u601d\u8b70\u306b\u898b\u3048\u308b\u7ba1\u7406\u3092\u3057\u3066\u308b\u306e\u3067\u4ed6\u306eAPI\u3082\u4f7f\u3046\u3064\u3082\u308a\u306a\u3089\u6ce8\u610f\u304c\u3044\u308a\u307e\u3059\u3002\n\n\u5177\u4f53\u7684\u306b\u306f\u914d\u5217`double m[9]`\u304c\u3042\u3063\u305f\u5834\u5408\u30013\u884c3\u5217\u306e\u884c\u5217$M$\u306e\u8981\u7d20\u3068\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5bfe\u5fdc\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002\n\n```math\nM = \\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] }\n```\n\n\u914d\u5217\u306e\u6b21\u306e\u8981\u7d20\u304c\u884c\u65b9\u5411\u306b\u9806\u756a\u306b\u5897\u3048\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002C\u8a00\u8a9e\u3060\u3068\u5217\u65b9\u5411\u306b\u9806\u756a\u306b\u5897\u3048\u3066\u3044\u304f\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3053\u3053\u304c\u30dd\u30a4\u30f3\u30c8\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u305d\u3053\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306a$y$\u8ef8\u5468\u308a\u306e\u56de\u8ee2\u3092\u8a08\u7b97\u3057\u305f\u3044\u5834\u5408\u3001\n\n```math\n\\pmatrix{ x'_{1} &x'_{2} &x'_{3} \\\\ y'_{1} &y'_{2} &y'_{3} \\\\ z'_{1} &z'_{2} &z'_{3} } = \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ x_{1} &x_{2} &x_{3} \\\\ y_{1} &y_{2} &y_{3} \\\\ z_{1} &z_{2} &z_{3} }\n```\n\nC\u8a00\u8a9e\u7684\u306b\u306f\n\n```math\n\\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] } \\leftarrow  \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{ m[0] &m[3] &m[6] \\\\ m[1] &m[4] &m[7] \\\\ m[2] &m[5] &m[8] }\n```\n\n\u3068\u8a08\u7b97\u3057\u305f\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u306e\u5834\u5408`incx`\u3068`incy`\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n\u4f8b\u3068\u3057\u3066\u5358\u4f4d\u884c\u5217\u3092\u56de\u8ee2\u3059\u308b\n\n```math\n\\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  } \\cdot \\pmatrix{1 &0 &0 \\\\ 0 &1 &0 \\\\ 0 &0 &1 } = \\pmatrix{ cos(\\theta) &0 &-sin(\\theta) \\\\ 0 &1 &0 \\\\ sin(\\theta) &0 &cos(\\theta)  }\n```\n\n\u3092\u8a08\u7b97\u3057\u3066\u307f\u307e\u3059\u3002\n\n```c:main.c\n#include <stdio.h>\n#include <cblas.h>\n#define _USE_MATH_DEFINES\n#include <math.h>\n\nint main()\n{\n  double m[9] = { 1, 0, 0, 0, 1, 0, 0, 0, 1 };\n  cblas_drot( 3, &m[2], 3, &m[0], 3, cos(M_PI/4), sin(M_PI/4) );\n  printf( \"% lf % lf % lf\\n\", m[0], m[3], m[6] );\n  printf( \"% lf % lf % lf\\n\", m[1], m[4], m[7] );\n  printf( \"% lf % lf % lf\\n\", m[2], m[5], m[8] );\n  return 0;\n}\n```\n\n`incx`\u3068`incy`\u306b3\u3092\u5165\u308c\u308b\u3053\u3068\u3067`x`\u306f`m[0]`\u2192`m[3]`\u2192`m[6]`\u3001`y`\u306f`m[2]`\u2192`m[5]`\u2192`m[8]`\u3068\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n", "tags": ["BLAS", "math", "C", "\u6570\u5b66"]}