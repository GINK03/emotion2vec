{"context": " More than 1 year has passed since last update. N\u1ed9i dung c\u1ee7a b\u00e0i n\u00e0y kh\u00e1 l\u00e0 ng\u1eafn g\u1ecdn\n\n Xin ch\u00e0o c\u00e1c b\u1ea1n\nB\u00e0i vi\u1ebft n\u00e0y \u0111\u01b0\u1ee3c d\u1ecbch t\u1eeb b\u00e0i \u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7de8\uff09- AWS\u4e0a\u3067\u69cb\u7bc9\u3059\u308bRESTful\u30a2\u30d7\u30ea\u52c9\u5f37\u4f1a\uff5eWeb\u958b\u767a\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\uff5e\u3010\u7b2c11\u56de\u3011\u30de\u30cb\u30e5\u30a2\u30eb c\u1ee7a t\u00e1c gi\u1ea3 @k_shimoji .\n\n Refactoring l\u00e0 g\u00ec ?\nNh\u1eafc l\u1ea1i b\u00e0i tr\u01b0\u1edbc m\u1ed9t t\u00ed, theo \u0111\u1ecbnh ngh\u0129a th\u00ec n\u00f3 l\u00e0 vi\u1ec7c c\u1ea3i thi\u1ec7n c\u1ea5u tr\u00fac b\u00ean trong m\u00e0 kh\u00f4ng l\u00e0m thay \u0111\u1ed5i c\u00e1c ho\u1ea1t \u0111\u1ed9ng c\u1ee7a ch\u01b0\u01a1ng tr\u00ecnh. Hay n\u00f3i ng\u1eafn g\u1ecdn h\u01a1n l\u00e0 d\u1ecdn d\u1eb9p code ( clean code ).\n\n C\u00e1c b\u01b0\u1edbc Refactoring\n\nX\u00e1c \u0111\u1ecbnh n\u01a1i c\u1ea7n refactoring.\nVi\u1ebft c\u00e1c test \u0111\u1ec3 ki\u1ec3m tra .\nrefactoring\ntest\nTr\u1edf l\u1ea1i b\u01b0\u1edbc 1\n\n\n X\u00e1c \u0111\u1ecbnh n\u01a1i c\u1ea7n refactoring\nC\u00f3 m\u1ed9t s\u1ed1 \"M\u00f9i code - (smell code) \" ( \u00e1m ch\u1ec9 code b\u1eeba b\u1ed9n ) \u1edf code c\u1ee7a ch\u00fang ta. Nh\u1eefng \u0111o\u1ea1n code c\u1ea7n refactoring s\u1ebd c\u00f3 nh\u1eefng m\u00f9i \u0111\u1eb7c tr\u01b0ng sau. \n* Quote: \u0110\u1ecbnh ngh\u0129a m\u00f9i \u0111\u00e1ng ng\u1ea1i *\n\nL\u1eb7p code\nmethod qu\u00e1 d\u00e0i\nClass qu\u00e1 to\nQu\u00e1 nhi\u1ec1u arguments\nQu\u00e1 nhi\u1ec1u s\u1ef1 thay \u0111\u1ed5i\nBi\u1ebfn thay d\u1ed5i \nC\u00e1c thu\u1ed9c t\u00ednh, s\u1ef1 ph\u1ee5 thu\u1ed9c b\u1ea5t h\u1ee3p l\u00fd c\u1ee7a operation\nHeader c\u1ee7a d\u1eef li\u1ec7u\nCh\u01b0a tu\u00e2n th\u1ee7 c\u00e1c ki\u1ec3u d\u1eef li\u1ec7u c\u01a1 b\u1ea3n.\nL\u1ec7nh Switch\nTh\u1eeba k\u1ebf song song \nClass l\u01b0\u1eddi bi\u1ebfng\nNh\u1eefng th\u00e0nh ph\u1ea7n \u0111\u01b0\u1ee3c sinh ra \u0111\u00e1ng nghi\nThu\u1ed9c t\u00ednh t\u1ea1m th\u1eddi\nChu\u1ed7i tin nh\u1eafn\nTrung gian\nC\u00e1c m\u1ed1i quan h\u1ec7 kh\u00f4ng \u0111\u00fang\nClass interface kh\u00f4ng ph\u00f9 h\u1ee3p\nTh\u01b0 vi\u1ec7n qu\u00e1 c\u0169\nData class\nT\u1eeb ch\u1ed1i th\u1eeba k\u1ebf\nComment\n\n\n M\u00ecnh s\u1ebd ph\u00e2n lo\u1ea1i c\u00e1c m\u00f9i n\u00e0y ra\nC\u00f3 c\u1ea3m gi\u00e1c l\u00e0 h\u01a1i g\u00f2 b\u00f3 khi x\u1ebfp ch\u00fang th\u00e0nh c\u00e1c nh\u00f3m nh\u01b0 n\u00e0y, tuy nhi\u00ean n\u00f3 s\u1ebd gi\u00fap m\u00ecnh d\u1ec5 d\u00e0ng ti\u1ebfp c\u1eadn h\u01a1n m\u1ed9t t\u00ed n\u00ean t\u00f4i s\u1ebd c\u1ed1 g\u1eafng ph\u00e2n lo\u1ea1i nh\u01b0 sau \n\nM\u00f9i qu\u00e1 r\u00f5 r\u00e0ng\nM\u00f9i xu\u1ea5t hi\u1ec7n khi b\u1ea1n b\u1eaft \u0111\u1ea7u \u0111\u1ecdc code\nC\u1ea5u tr\u00fac r\u1eafc r\u1ed1i\nH\u1ec7 th\u1ed1ng l\u1ed7i th\u1eddi\nM\u00f9i tanh\nM\u00f9i m\u1ed3 h\u00f4i\nM\u00f9i l\u1eeba d\u1ed1i\n\nT\u00f4i s\u1ebd gi\u1ea3i th\u00edch \u1edf ph\u1ea7n d\u01b0\u1edbi.\nCho m\u1ed7i m\u00f9i, t\u00f4i s\u1ebd vi\u1ebft m\u1ed9t \"c\u00e1ch kh\u1eed m\u00f9i\" v\u00e0 \"nh\u1eefng nguy\u00ean t\u1eafc n\u00f3 vi ph\u1ea1m\", c\u00f2n ph\u1ea7n gi\u1ea3i th\u00edch th\u00ec \u1edf b\u00e0i vi\u1ebft n\u00e0y ch\u1eafc l\u00e0 kh\u00f4ng \u0111\u1ee7, v\u00ec v\u1eady mong c\u00e1c b\u1ea1n t\u00ecm ki\u1ebfm th\u00eam th\u00f4ng tin v\u1ec1 n\u00f3 tr\u00ean google n\u1ebfu c\u00e1c b\u1ea1n th\u1ef1c s\u1ef1 h\u1ee9ng th\u00fa.\n\nM\u00f9i qu\u00e1 r\u00f5 r\u00e0ng\nKh\u00f4ng c\u1ea7n l\u00e0m g\u00ec c\u0169ng bi\u1ebft code c\u00f3 m\u00f9i, nh\u00ecn qua ch\u1ee9 kh\u00f4ng c\u1ea7n \u0111\u1ecdc code lu\u00f4n.\n\n2. method qu\u00e1 d\u00e0i\n\n\nH\u00e3y t\u00e1ch n\u00f3 ra.\n\n\n3. class qu\u00e1 l\u1edbn\n\n\nT\u00e1ch n\u00f3 ra.\n\n\n4. Qu\u00e1 nhi\u1ec1u arguments\n\n\nH\u00e3y ph\u00e2n lo\u1ea1i c\u00e1c object r\u00f5 r\u00e0ng h\u01a1n.\n\n\n10. Qu\u00e1 nhi\u1ec1u l\u1ec7nh switch\n\n\nH\u00e3y s\u1eed d\u1ee5ng h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng.\n\n\n\n\nM\u00f9i xu\u1ea5t hi\u1ec7n khi b\u1ea1n b\u1eaft \u0111\u1ea7u \u0111\u1ecdc code\nNh\u1eefng m\u00f9i n\u00e0y ngay l\u1eadp t\u1ee9c xu\u1ea5t hi\u1ec7n khi b\u1ea1n \u0111\u1ecdc qua c\u00e1c ti\u00eau \u0111\u1ec1\n\n1. Code b\u1ecb l\u1eb7p\n\n\nVi ph\u1ea1m nguy\u00ean t\u1eafc DRY, h\u00e3y c\u1ed1 d\u1eebng vi\u1ec7c copy paste l\u1ea1i.\n\n\n12. Class l\u01b0\u1eddi bi\u1ebfng\n\n\nM\u1ed9t class nh\u1ecf t\u1ed3n t\u1ea1i m\u00e0 kh\u00f4ng c\u00f3 nhi\u1ec1u \u00fd ngh\u0129a v\u1edbi nh\u1eefng g\u00ec b\u1ea1n \u0111ang l\u00e0m, t\u1ed1t nh\u1ea5t l\u00e0 t\u1ea1o m\u1ed9t role \u1edf class kh\u00e1c ch\u1ee9 kh\u00f4ng c\u1ea7n \u0111\u1ec3 ri\u00eang ra.\n\n\n16. Trung gian\n\n\nM\u1ed9t s\u1ed1 Class kh\u00f4ng th\u1ef1c hi\u1ec7n nhi\u1ec7m v\u1ee5 c\u1ee7a ch\u00ednh n\u00f3, x\u00f3a n\u00f3 \u0111i ho\u1eb7c cho n\u00f3 l\u00e0m th\u00eam c\u00e1c thao t\u00e1c kh\u00e1c.\n\n\n18. Interface Class kh\u00f4ng ph\u00f9 h\u1ee3p\n\n\nAi \u0111\u00f3 \u0111\u00e3 l\u00e0m m\u1ed9t vi\u1ec7c t\u01b0\u01a1ng t\u1ef1 ? h\u00e3y ng\u1ea7m hi\u1ec3u v\u1edbi nhau.\n\n\n20. Data class\n\n\nHay c\u00f2n g\u1ecdi l\u00e0 \"Thi\u1ebfu domain model\". H\u00e3y nh\u1edb data v\u00e0 c\u00e1c h\u00e0nh vi.\n\n\n\n\nC\u1ea5u tr\u00fac r\u1eafc r\u1ed1i\n\n5. Qu\u00e1 nhi\u1ec1u s\u1ef1 thay \u0111\u1ed5i\n\n\nVi ph\u1ea1m nguy\u00ean t\u1eafc SRP (single responsibility principle). M\u1ed9t class \u0111\u00e3 l\u00e0m vi\u1ec7c qu\u00e1 t\u1ea3i, hay chia s\u1ebb c\u00f4ng vi\u1ec7c c\u1ee7a n\u00f3.\n\n\n6. Bi\u1ebfn b\u1ecb thay \u0111\u1ed5i\n\n\nChia s\u1ebb 1 c\u00f4ng vi\u1ec7c cho qu\u00e1 nhi\u1ec1u class. H\u00e3y ph\u00e2n chia tr\u00e1ch nhi\u1ec7m r\u00f5 r\u00e0ng h\u01a1n .\n\n\n11. Th\u1eeba k\u1ebf song song\n\n\nM\u1ed9t v\u00ed d\u1ee5 \u0111i\u1ec3m h\u00ecnh c\u1ee7a vi ph\u1ea1m nguy\u00ean t\u1eafc \"Nh\u1eefng \u1ef1u thay \u0111\u1ed5i b\u1ecb ph\u00e2n t\u00e1n.\" OCP (open / closed principle). H\u00e3y chia s\u1ebb \u0111\u00fang c\u00f4ng vi\u1ec7c c\u1ee7a class cha v\u00e0 class con. \n\n\n\n\nH\u1ec7 th\u1ed1ng l\u1ed7i th\u1eddi\n\u1ede th\u1eddi \u0111i\u1ec3m tr\u01b0\u1edbc ( ph\u1ee5 thu\u1ed9c v\u00e0o h\u1ec7t th\u1ed1ng th\u1eddi \u0111\u00f3 ho\u1eb7c th\u1eddi gian ph\u00e1t tri\u1ec3n m\u00e0 n\u00f3 c\u00f3 khi ch\u1ec9 l\u00e0 s\u1ef1 thay \u0111\u1ed5i r\u1ea5t nh\u1ecf) n\u00f3 c\u00f3 th\u1ec3 kh\u00f4ng ph\u1ea3i m\u00f9i, tuy nhi\u00ean n\u00f3 khi\u1ebfn cho vi\u1ec7c b\u1ea3o tr\u00ec tr\u1edf n\u00ean kh\u00f3 kh\u0103n khi c\u00f4ng ngh\u1ec7 \u0111\u00f3 \u0111\u00e3 qu\u00e1n c\u0169\n\n7. thu\u1ed9c t\u00ednh, c\u00e1c s\u1ef1 g\u1eafn k\u1ebft kh\u00f4ng h\u1ee3p l\u1ec7 c\u1ee7a c\u00e1c ho\u1ea1t \u0111\u1ed9ng\n\n\nC\u00e1c lu\u1eadt Roles c\u1ee7a class tr\u1edf n\u00ean kh\u00f4ng r\u00f5 r\u00e0ng, h\u00e3y s\u1eeda roles cho th\u00edch h\u1ee3p\n\n\n15. Chu\u1ed1i tin nh\u1eafn\n\n\nM\u1ed9t object \u0111\u01b0\u1ee3c bi\u1ebft t\u1eeb vi\u1ec7c nh\u1eadn c\u1ee7a m\u1ed9t object t\u1eeb m\u1ed9t object kh\u00e1c...H\u00e3y t\u1ed5 ch\u1ee9c l\u1ea1i ch\u00fang v\u00ec r\u1ea5t ph\u1ee9c t\u1ea1p.\n\n\n17. C\u00e1c m\u1ed1i quan h\u1ec7 kh\u00f4ng \u0111\u00fang c\u00e1ch\n\n\nN\u1ebfu th\u1ea5y c\u00e1c class c\u00f3 m\u1ed1i li\u00ean h\u1ec7 qu\u00e1 ch\u1eb7t ch\u1ebd, h\u00e3y \u0111\u1ec3 n\u00f3 l\u00e0 ch\u00ednh n\u00f3.\n\n\n21. B\u1ecb t\u1eeb ch\u1ed1i th\u1eeba k\u1ebf\n\n\nB\u1ea1n \u0111\u00e3 th\u1eeba k\u1ebf t\u1eeb m\u1ed9t v\u00e0i class nh\u01b0ng  b\u1ea1n l\u1ea1i overriding qu\u00e1 nhi\u1ec1u n\u00ean class cha kh\u00f4ng c\u00f3 \u00fd ngh\u0129a g\u00ec c\u1ea3. (N\u00f3 b\u1ed7ng tr\u1edf th\u00e0nh m\u1ed9t lo\u1ea1i kh\u00e1c), h\u00e3y d\u1eebng vi\u1ec7c th\u1eeba k\u1ebf l\u1ea1i ho\u1eb7c l\u1ea5y method t\u1eeb class cha \u0111\u1ec3 d\u00f9ng cho class con.\n\n\n\n\nM\u00f9i c\u00e1\nM\u00ecnh t\u1ea1m g\u1ecdi vui c\u00e1i m\u00f9i n\u00e0y gi\u1ed1ng nh\u01b0 m\u00f9i c\u00e1 tanh.\nN\u00f3 thi\u1ebfu data modeling, thi\u1ebfu s\u1ef1 c\u00e2n nh\u1eafc tr\u01b0\u1edbc khi \u0111\u00f3ng g\u00f3i. H\u00e3y c\u1ea9n th\u1eadn h\u01a1n d\u00f9 qu\u00e1 m\u1ed9t ch\u00fat th\u1eddi gian.\n\n8. Data g\u1eedi v\u00e0o header\n\n\nData c\u1ea7n lu\u00f4n \u0111\u01b0\u1ee3c s\u1eed s\u1eed d\u1ee5ng \u1edf c\u00f9ng m\u1ed9t set, h\u00e3y c\u1ed1 g\u1eafng \u0111\u1ec3 n\u00f3 th\u1eadt s\u00e1t v\u1edbi object.\n\n\n9. Tu\u00e2n th\u1ee7 c\u00e1c ki\u1ec3u d\u1eef li\u1ec7u c\u01a1 b\u1ea3n\n\n\nH\u00e3y t\u1ea1o m\u1ed9t ValueObject\n\n\n14. Thu\u1ed9c t\u00ednh t\u1ea1m th\u1eddi\n\n\nC\u00e1c bi\u1ebfn (field) kh\u00f4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng ho\u1eb7c \u0111\u00e3 s\u1eed d\u1ee5ng xong. H\u00e3y chuy\u1ec3n n\u00f3 th\u00e0nh c\u00e1c bi\u1ebfn ngo\u00e0i ho\u1eb7c NullObject \n\n\n\n\nM\u00f9i m\u1ed3 h\u00f4i\nB\u1ea1n \u0111\u00e3 l\u00e0m vi\u1ec7c r\u1ea5t v\u1ea5t v\u1ea3, tuy nhi\u00ean code c\u1ee7a b\u1ea1n v\u1eabn r\u1ea5t t\u1ed3i, v\u00e0 th\u1ee9 duy nh\u1ea5t c\u00f3 th\u1ec3 xu\u1ea5t ra l\u00e0 m\u1ed3 h\u00f4i.\n\n13. Nghi ng\u1edd qu\u00e1 nhi\u1ec1u\n\n\nB\u1ea1n \u0111\u00e3 code m\u00e0 ngh\u0129 qu\u00e1 nhi\u1ec1u \u0111\u1ebfn nh\u1eefng th\u1ee9 t\u01b0\u01a1ng lai c\u1ea7n d\u00f9ng \u0111\u1ebfn, v\u00ec v\u1eady b\u1ea1n \u0111\u00e3 implement r\u1ea5t nhi\u1ec1u th\u1ee9 kh\u00f4ng c\u1ea7n thi\u1ebft t\u1ea1i th\u1eddi \u0111i\u1ec3m hi\u1ec7n t\u1ea1i. H\u00e3y ch\u1ec9 implement n\u1ebfu b\u1ea1n th\u1ef1c s\u1ef1 c\u1ea7n n\u00f3, ch\u1eebng n\u00e0o b\u1ea1n v\u1eabn ch\u01b0a c\u1ea7n n\u00f3, h\u00e3y c\u1ed1 g\u1eafng \u0111\u1ec3 ch\u01b0\u01a1ng tr\u00ecnh c\u1ee7a b\u1ea1n \u0111\u01a1n gi\u1ea3n nh\u1ea5t c\u00f3 th\u1ec3.\n\n\n\n\nM\u00f9i l\u1eeba d\u1ed1i\nM\u1eb7c d\u00f9 code kh\u00f4ng c\u1ed1 t\u00ecnh vi\u1ebft sai, nh\u01b0ng k\u1ebft qu\u1ea3 n\u00f3 l\u1ea1i sai.\n\n19. Kh\u00f4ng s\u1eed d\u1ee5ng \u0111\u01b0\u1ee3c class th\u01b0 vi\u1ec7n\n\n\nTh\u01b0 vi\u1ec7n kh\u00f4ng th\u1ec3 s\u1eed d\u1ee5ng nh\u01b0 ch\u00ednh kh\u1ea3 n\u0103ng c\u1ee7a n\u00f3, h\u00e3y s\u1eeda l\u1ea1i \u0111\u1ec3 c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng \u0111\u01b0\u1ee3c, \u0111\u1eebng ph\u00f3 m\u1eb7c t\u1ea5t c\u1ea3 cho th\u01b0 vi\u1ec7n.\n\n\n22. Comments\n\n\nComments qu\u00e1 c\u0169 ho\u1eb7c sai s\u1ef1 th\u1eadt. H\u00e3y c\u1ed1 \u0111\u1ecdc hi\u1ec3u ch\u01b0\u01a1ng tr\u00ecnh c\u00e0ng nhi\u1ec1u c\u00e0ng t\u1ed1t m\u00e0 kh\u00f4ng ch\u00fa \u00fd \u0111\u1ebfn comment. N\u00f3 c\u00f3 th\u1ec3 kh\u00f4ng ch\u00fa th\u00edch g\u00ec cho code c\u1ea3 ( t\u1ea1i sao l\u1ea1i d\u00f9ng logic n\u00e0y , vv...) ch\u1ec9 v\u1edbi m\u1ee5c ti\u00eau l\u00e0 b\u1ea1n mu\u1ed1n comment, h\u00e3y c\u1ed1 g\u1eafng vi\u1ebft code th\u1eadt d\u1ec5 hi\u1ec3u m\u00e0 kh\u00f4ng c\u1ea7n t\u00f3m t\u1eaft n\u00f3 b\u1eb1ng comment.\n\n\n\n\n B\u1ea1n \u0111\u00e3 c\u00f3 test n\u00e0o ch\u01b0a? N\u1ebfu ch\u01b0a, h\u00e3y vi\u1ebft test ngay - PhpUnit\nRefactoring is ngh\u0129a l\u00e0 \"kh\u00f4ng thay \u0111\u1ed5i ho\u1ea1t \u0111\u1ed9ng c\u1ee7a ch\u01b0\u01a1ng tr\u00ecnh\" nh\u01b0ng \"c\u1ea3i thi\u1ec7n \u0111\u01b0\u1ee3c c\u1ea5u tr\u00fac b\u00ean trong\".\n\u0110\u1ec3 ch\u1eafc ch\u1eafn r\u1eb1ng nh\u1eefng h\u00e0nh vi c\u1ee7a ch\u01b0\u01a1ng tr\u00ecnh kh\u00f4ng thay \u0111\u1ed5i. b\u1ea1n kh\u00f4ng th\u1ec3 ch\u1ec9 test m\u1ed9t l\u1ea7n\nH\u00e3y b\u1eaft \u0111\u1ea7u test n\u00e0o.\nCh\u00fa \u00fd r\u1eb1ng v\u1edbi vi\u1ec7c vi\u1ebft test th\u00ec c\u00f3 m\u1ed9t \u0111i\u1ec1u r\u1ea5t quan tr\u1ecdng l\u00e0 \"Test ph\u1ea3i d\u1ec5 d\u00e0ng \u0111\u1ec3 vi\u1ebft\".\n\n Refactoring\nC\u00f3 m\u1ed9t v\u00e0i k\u1ef9 thu\u1eadt cho m\u1ed7i \"code smell\" ( m\u00f9i c\u1ee7a code ), tuy nhi\u00ean t\u00f4i kh\u00f4ng th\u1ec3 m\u00f4 t\u1ea3 h\u1ebft \u0111\u01b0\u1ee3c, \u1edf workshop n\u00e0y m\u00ecnh ch\u1ec9 gi\u1eef m\u1ecdi th\u1ee9 th\u1eadt \u0111\u01a1n gi\u1ea3n.\nB\u1edfi v\u00ec h\u00e0n Upload \u1edf b\u00e0i tr\u01b0\u1edbc c\u00f3 m\u00f9i c\u1ee7a \"method qu\u00e1 d\u00e0i\", h\u00e3y th\u1eed refactor n\u00f3 b\u1eb1ng c\u00e1ch \u00e1p d\u1ee5ng c\u00e1ch \"Chia Method\".\n\n Test\nH\u00e3y ki\u1ec3m tra k\u1ebft qu\u1ea3 b\u1eb1ng c\u00e1ch test sau khi \u0111\u00e3 ho\u00e0n t\u1ea5t refactoring.\n\u0110\u1ec3 vi\u1ebft m\u1ed9t test code t\u1ed1t,\n\u0110i\u1ec1u quan tr\u1ecdng l\u00e0 nh\u1eefng g\u00ec b\u1ea1n mu\u1ed1n test ph\u1ea3i \u0111\u01b0\u1ee3c ph\u00e2n bi\u1ec7t r\u00f5 r\u00e0ng N\u1ebfu b\u1ea1n kh\u00f4ng mu\u1ed1n test t\u1ea5t c\u1ea3 m\u1ecdi th\u1ee9.\nC\u00e1c test ph\u1ea3i \u0111\u01b0\u1ee3c implement nh\u01b0 l\u00e0 m\u1ed9t \"gi\u00e1 tr\u1ecb gi\u1ea3\", m\u00ecnh s\u1ebd ti\u1ebfp t\u1ee5c test hi\u1ec7u qu\u1ea3 ch\u01b0\u01a1ng tr\u00ecnh.\n\n Tr\u1edf l\u1ea1i b\u01b0\u1edbc 1\nRefactoring c\u1ea7n lu\u00f4n \u0111\u01b0\u1ee3c th\u1ef1c thi.\nH\u00e3y ti\u1ebfp t\u1ee5c l\u00e0m gi\u1ea3m c\u00e1c g\u00e1nh n\u1eb7ng k\u1ef9 thu\u1eadt cho ch\u01b0\u01a1ng tr\u00ecnh.\n\n M\u1ee5c l\u1ee5c b\u00e0i h\u1ecdc\n\nChu\u1ea9n b\u1ecb\n\n\nDuy tr\u00ec Branch\n\n\nB\u00e0i 1: Test hi\u1ec3n th\u1ecb link Delete, Detail, n\u00fat checkbox ho\u00e0n t\u1ea5t c\u1ee7a TODO List.\nB\u00e0i 2: Test hi\u1ec3n th\u1ecb data trong trang TODO detail\nB\u00e0i 3: Refactoring m\u1ed9t ch\u00fat v\u1ec1 vi\u1ec7c hi\u1ec3n th\u1ecb c\u00e1c data.\n\n\n Chu\u1ea9n b\u1ecb\nPh\u1ea7n chu\u1ea9n b\u1ecb s\u1ebd gi\u1ed1ng nhau \u1edf m\u1ed7i b\u00e0i, v\u00ec v\u1eady t\u00f4i \u0111\u00e3 t\u1ed5ng h\u1ee3p n\u00f3 \u1edf m\u1ed9t entry ri\u00eang. C\u00e1c b\u1ea1n vui l\u00f2ng xem \u1edf link n\u00e0y All 12 times of study sessions in do I have use of Git - RESTful application workshops will be built on AWS ~ Web development workshop ~ - Qiita \u0111\u1ec3 chu\u1ea9n b\u1ecb .\n\nGit: B\u00e2y gi\u1edd m\u00ecnh s\u1ebd t\u1ea1o branch vol/10 v\u00e0 l\u00e0m vi\u1ec7c tr\u00ean n\u00f3.\n\nOK, b\u01b0\u1edbc \u0111\u1ea7u \u0111\u00e3 xong\n *** T\u00f4i xin nh\u1eafc l\u1ea1i \u1edf b\u00e0i 5 v\u00e0 b\u00e0i 6, ch\u00fang ta \u0111\u00e3 c\u00f3 nh\u1eefng table b\u1ecb thay \u0111\u1ed5i. ***\n\nB\u00e0i 5\n\n\nT\u1ea1o Table d\u00e0nh cho vi\u1ec7c \u0111\u0103ng k\u00fd th\u00e0nh vi\u00ean ( Th\u1ef1c hi\u1ec7n cho ch\u1ee9c n\u0103ng login )\n\n\nB\u00e0i 6\n\n\nTh\u00eam m\u1ed9t c\u1ed9t cho table TODO list ( Th\u00eam c\u1ed9t Owner v\u00e0 c\u1ed9t assignee cho ch\u1ee9c n\u0103ng ph\u00e2n c\u00f4ng c\u00f4ng vi\u1ec7c)\n\n\n\nC\u00e1c b\u1ea1n n\u00ean tham kh\u1ea3o l\u1ea1i c\u00e1c link sau \u0111\u1ec3 r\u00f5 h\u01a1n.\nT\u1ea1o Table d\u00e0nh cho vi\u1ec7c \u0111\u0103ng k\u00fd th\u00e0nh vi\u00ean\nTh\u00eam m\u1ed9t c\u1ed9t cho table TODO list\nKhi m\u1ecdi th\u1ee9 \u0111\u00e3 xong xu\u00f4i, ch\u00fang ta b\u1eaft \u0111\u1ea7u b\u00e0i 1 n\u00e0o.\n\n B\u00e0i 1: Test hi\u1ec3n th\u1ecb link Delete, Detail, n\u00fat checkbox ho\u00e0n t\u1ea5t c\u1ee7a TODO List.\nB\u1edfi v\u00ec trong logic c\u00f3 m\u1ed9t ch\u00fat \u0111i\u1ec1u ki\u1ec7n c\u00f3 v\u1ea5n \u0111\u1ec1 \u1edf client side, n\u00ean m\u00ecnh s\u1ebd th\u1eed test t\u1ea1i \u0111\u00e2y. Checkbox v\u00e0 c\u00e1c button hi\u1ec3n th\u1ecb nh\u01b0 ph\u1ea7n m\u0169i t\u00ean trong h\u00ecnh \u1ea3nh d\u01b0\u1edbi \u0111\u00e2y l\u00e0 d\u00e0nh cho tr\u01b0\u1eddng h\u1ee3p hi\u1ec3n th\u1ecb cho n\u1ed9i dung c\u1ee7a ch\u00ednh ng\u01b0\u1eddi t\u1ea1o todo.\n\nChi ti\u1ebft ph\u00e2n quy\u1ec1n\n\n\n\n\n\u0110\u01b0\u1ee3c ph\u00e2n c\u00f4ng\nKh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e2n c\u00f4ng\n\n\n\n\nOwner\nDelete = hi\u1ec7n, details = hi\u1ec7n, Check = \u0110\u01b0\u1ee3c ph\u00e9p\nDelete = hi\u1ec7n, detail = hi\u1ec7n, Check = \u0111\u01b0\u1ee3c ph\u00e9p\n\n\nKh\u00f4ng ph\u1ea3i owner\nDelete = \u1ea9n, detail = hi\u1ec7n, Check = \u0110\u01b0\u1ee3c ph\u00e9p\nDelete = \u1ea9n, detail = \u1ea9n, Check = Kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e9p\n\n\n\n\nTool \u0111\u1ec3 test\n\nmocha\n\u0110\u00e2y l\u00e0 m\u1ed9t test framework gi\u00fap b\u1ea1n ch\u1ecdn v\u00e0 ch\u1ea1y c\u00e1c test.\nN\u00f3 y\u00eau c\u1ea7u m\u1ed9t Tool \u0111\u1ec3 x\u00e1c nh\u1eadn, m\u00ecnh s\u1ebd s\u1eed d\u1ee5ng c\u00f4ng c\u1ee5 chai.\n\nchai\n\u0110\u00e2y l\u00e0 c\u00f4ng c\u1ee5 d\u00f9ng \u0111\u1ec3 x\u00e1c nh\u1eadn k\u1ebft qu\u1ea3 test.\nM\u1eb7c \u0111\u1ecbnh c\u1ee7a n\u00f3 \u1edf \u0111\u1ecbnh d\u1ea1ng BDD, tuy nhi\u00ean b\u1ea1n c\u00f3 th\u1ec3 ch\u1ecdn m\u1ed9t k\u00fd hi\u1ec7u \u0111\u1ecbnh d\u1ea1ng TDD, \u1edf b\u00e0i h\u1ecdc n\u00e0y m\u00ecnh s\u1ebd vi\u1ebft test \u1edf BDD method.\n\nsinon\nTool n\u00e0y d\u00f9ng \u0111\u1ec3 t\u1ea1o ra c\u00e1c mock ho\u1eb7c stub cho vi\u1ec7c test.\n\nC\u00e0i \u0111\u1eb7t\nCh\u1ea1y c\u00e1c l\u1ec7nh theo h\u01b0\u1edbng d\u1eabn d\u01b0\u1edbi \u0111\u00e2y l\u00e0 OK\n\nCommand\n#lib\ncd /var/www/study/rest-study/app/webroot/js/lib\nwget https://raw.githubusercontent.com/mochajs/mocha/master/mocha.js\nwget https://github.com/chaijs/chai/raw/master/chai.js\nwget http://sinonjs.org/releases/sinon-1.17.2.js\n#css\ncd /var/www/study/rest-study/app/webroot/css\nwget https://github.com/mochajs/mocha/raw/master/mocha.css\n\n\nV\u1eady l\u00e0 m\u00ecnh \u0111\u00e3 chu\u1ea9n b\u1ecb xong.\n\nDanh s\u00e1ch file c\u1ea7n s\u1eeda\n\napp/webroot/clientTest.html\n\n\nN\u00f3 s\u1ebd hi\u1ec3n th\u1ecb k\u1ebft qu\u1ea3 th\u1ef1c hi\u1ec7n sau m\u1ed7i l\u1ea7n ch\u1ea1y test.\n\n\napp/webroot/js/test/test-require-config.js\n\n\nT\u1ea1o require cho vi\u1ec7c test\n\n\napp/webroot/js/test/setup.js\n\n\n\u0110\u1ecdc test, thi\u1ebft \u0111\u1eb7t c\u00e1c tool\n\n\napp/webroot/js/test/tests.js\n\n\nCh\u1ea1y test\n\n\napp/webroot/js/test/test-todo-item-view.js\n\n\nvi\u1ebft test code\n\n\napp/webroot/js/test/test-login.js\n\n\nTest c\u00e1c v\u1ea5n \u0111\u1ec1 li\u00ean quan \u0111\u1ebfn \u0111\u0103ng nh\u1eadp\n\n\n\n\napp/webroot/clientTest.html\n<html>\n  <head>\n    <meta charset=\"utf-8\"/>\n    <title>TodoList Tests</title>\n    <link rel=\"stylesheet\" href=\"css/mocha.css\"/>\n  </head>\n  <body>\n    <div id=\"mocha\"></div>\n    <script type=\"text/javascript\" src=\"js/require-config.js\"></script>\n    <script type=\"text/javascript\" src=\"js/test/test-require-config.js\"></script>\n    <script type=\"text/javascript\" src=\"js/lib/require.js\" data-main=\"test/setup.js\"></script>\n  </body>\n</html>\n\n\n\nrequire-config.js\n\nFile C\u1ea5u h\u00ecnh c\u1ee7a require.js s\u1ebd s\u1eed d\u1ee5ng trong c\u1ea3 ch\u01b0\u01a1ng tr\u00ecnh. Gi\u1ea3i quy\u1ebft s\u1ef1 ph\u1ee5 thu\u1ed9c.\n\n\n\ntest-require-config.js\n\n\u0110\u00e2y c\u0169ng l\u00e0 thi\u1ebft l\u1eadp c\u1ee7a require.js. B\u1ea1n s\u1ebd ph\u1ea3i th\u00eam thi\u1ebft l\u1eadp cho test.\n\n\n\ndata-main=\"test/setup.js\"\n\nX\u00e1c \u0111\u1ecbnh c\u00e1c ho\u1ea1t \u0111\u1ed9ng c\u1ee7a js\n\n\n\n Ph\u1ea7n n\u00e0y g\u1ea7n gi\u1ed1ng nh\u01b0 default.ctp c\u1ee7a todo app. \n\napp/webroot/js/test/test-require-config.js\nrequire.paths.mocha = 'lib/mocha';\nrequire.paths.chai = 'lib/chai';\nrequire.paths.sinon = 'lib/sinon-1.17.2';\nrequire.shim.mocha = {\n    init: function () {\n        this.mocha.setup('bdd');\n        return this.mocha;\n    }\n};\n\n\n\nrequire.paths.mocha = 'lib/mocha';\n\nCh\u00fang ta s\u1ebd thi\u1ebft l\u1eadp path c\u1ee7a mocha. V\u00ec  app/webroot/js/require-config.js \u0111\u00e3 c\u00f3 s\u1eb5n thi\u1ebft l\u1eadp require.paths r\u1ed3i n\u00ean m\u00ecnh ch\u1ec9 c\u1ea7n vi\u1ebft v\u1eady l\u00e0 s\u1ebd th\u00eam \u0111\u01b0\u1ee3c mocha v\u00e0o.\nchai, sinon s\u1ebd \u0111\u01b0\u1ee3c thi\u1ebft l\u1eadp chung paths.\n\n\n\n\napp/webroot/js/test/setup.js\nrequire([\n    'mocha',\n    'chai',\n    'marionette',\n], function (mocha, chai) {\n    require([\n        'js/test/tests.js'\n    ], function () {\n        chai.should();\n        mocha.run();\n    });\n});\n\nmocha, chai \u0111\u00e3 \u0111\u01b0\u1ee3c \u0111\u1ecdc (require), b\u00e2y gi\u1edd ch\u00fang ta s\u1ebd \u0111\u1ecdc file js/test/tests.js (test code) v\u1edbi c\u00e1c nested require, m\u00ecnh s\u1ebd kh\u1edfi tao \u0111\u1ec3 ch\u1ea1y test code sau khi ch\u1ea1y h\u00e0m  mocha.run().\n\napp/webroot/js/test/tests.js\n\napp/webroot/js/test/tests.js\ndefine(function (require) {\n    //doc file\n    var testTodoItemView = require('js/test/test-todo-item-view.js');\n    //chay test\n    testTodoItemView();\n});\n\n\nCh\u00fang ta s\u1ebd ch\u1ea1y test. V\u00ec test th\u1ef1c s\u1ef1 \u0111\u00e3 \u0111\u01b0\u1ee3c m\u00f4 t\u1ea3 \u1edf js/test/test-todo-item-view.js, h\u00e3y vi\u1ebft n\u00f3 theo nh\u1eefng g\u00ec b\u1ea1n mu\u1ed1n ch\u1ea1y b\u1eb1ng require.\nSau khi t\u0103ng s\u1ed1 l\u01b0\u1ee3ng test module, m\u00ecnh s\u1ebd vi\u1ebft test code \u0111\u1ec3 th\u00eam m\u1ed9t d\u00f2ng \"run\" trong require v\u00e0 h\u00e0m test \u0111\u1ec3 ch\u1ea1y \u1edf file n\u00e0y.\n\napp/webroot/js/test/test-todo-item-view.js\n\napp/webroot/js/test/test-todo-item-view.js\ndefine(function(require){\n    var TodoItemView = require('views/todo-item-view');\n    var TodoModel = require('models/todo-model');\n    var loginTest = require('test/test-login');\n    return function(){\n        describe(\"TODO\u4e00\u89a7\u8868\u793a\u306e\u524a\u9664\u30ea\u30f3\u30af\u3001\u8a73\u7d30\u30ea\u30f3\u30af\u3001\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u8868\u793a\u30c6\u30b9\u30c8\", function () {\n            describe(\"\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af\", function () {\n                it('\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af', function (done) {\n                    loginTest(done);\n                });\n            });\n\n            describe(\"\u30aa\u30fc\u30ca\u304b\u3064\u62c5\u5f53\u8005\u306e\u5834\u5408\", function () {\n                it(\"\u524a\u9664\u30ea\u30f3\u30af O / \u8a73\u7d30\u30ea\u30f3\u30af O / \u30c1\u30a7\u30c3\u30af O\", function () {\n                    itemView = _createAndRenderTodoItemView(true, true);\n                    //\u524a\u9664\u30ea\u30f3\u30af\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n                    itemView.ui.removeLink.css('display').should.be.equals('');\n                    //\u8a73\u7d30\u30ea\u30f3\u30af\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n                    itemView.ui.detailLink.css('display').should.be.equals('');\n                    //\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u62bc\u305b\u308b\n                    itemView.ui.checkBox.prop('disabled').should.be.equals(false);\n                });\n            });\n\n            describe(\"\u30aa\u30fc\u30ca\u3060\u304c\u62c5\u5f53\u8005\u3067\u306f\u306a\u3044\u5834\u5408\", function () {\n                it(\"\u524a\u9664\u30ea\u30f3\u30af O / \u8a73\u7d30\u30ea\u30f3\u30af O / \u30c1\u30a7\u30c3\u30af O\", function () {\n                    var itemView = _createAndRenderTodoItemView(true, false);\n                    //\u524a\u9664\u30ea\u30f3\u30af\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n                    itemView.ui.removeLink.css('display').should.be.equals('');\n                    //\u8a73\u7d30\u30ea\u30f3\u30af\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n                    itemView.ui.detailLink.css('display').should.be.equals('');\n                    //\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u62bc\u305b\u308b\n                    itemView.ui.checkBox.prop('disabled').should.be.equals(false);\n                });\n            });\n\n            describe(\"\u30aa\u30fc\u30ca\u3067\u306f\u306a\u3044\u304c\u62c5\u5f53\u8005\u306e\u5834\u5408\", function () {\n                it(\"\u524a\u9664\u30ea\u30f3\u30af X / \u8a73\u7d30\u30ea\u30f3\u30af O / \u30c1\u30a7\u30c3\u30af O\", function () {\n                    var itemView = _createAndRenderTodoItemView(false, true);\n                    //\u524a\u9664\u30ea\u30f3\u30af\u304c\u975e\u8868\u793a(display=none)\u306b\u306a\u3063\u3066\u3044\u308b\n                    itemView.ui.removeLink.css('display').should.be.equals('none');\n                    //\u8a73\u7d30\u30ea\u30f3\u30af\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n                    itemView.ui.detailLink.css('display').should.be.equals('');\n                    //\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u62bc\u305b\u308b\n                    itemView.ui.checkBox.prop('disabled').should.be.equals(false);\n                });\n            });\n            describe(\"\u30aa\u30fc\u30ca\u3067\u3082\u306a\u304f\u62c5\u5f53\u8005\u3067\u3082\u306a\u3044\u5834\u5408\", function () {\n                it(\"\u524a\u9664\u30ea\u30f3\u30af X / \u8a73\u7d30\u30ea\u30f3\u30af X / \u30c1\u30a7\u30c3\u30af X\", function () {\n                    var itemView = _createAndRenderTodoItemView(false, false);\n                    //\u524a\u9664\u30ea\u30f3\u30af\u304c\u975e\u8868\u793a(display=none)\u306b\u306a\u3063\u3066\u3044\u308b\n                    itemView.ui.removeLink.css('display').should.be.equals('none');\n                    //\u8a73\u7d30\u30ea\u30f3\u30af\u304c\u975e\u8868\u793a(display=none)\u306b\u306a\u3063\u3066\u3044\u308b\n                    itemView.ui.detailLink.css('display').should.be.equals('none');\n                    //\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u62bc\u305b\u306a\u3044(disabled=true)\n                    itemView.ui.checkBox.prop('disabled').should.be.equals(true);\n                });\n            });\n            //utility\n            function _createAndRenderTodoItemView(owned, assigned){\n                //\u30b5\u30fc\u30d0\u304b\u3089\u53d7\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\n                data = {\n                    TodoList: {\n                        id: \"1\",\n                        todo: \"do somothing\",\n                        status: \"0\",\n                        owned: owned,\n                        assigned: assigned\n                    },\n                    Owner: {\n                        id: \"1\",\n                        name: \"anonymous\"\n                    },\n                    Assignee: {\n                        id: \"1\",\n                        name: \"anonymous\"\n                    }\n                };\n                //\u30b5\u30fc\u30d0\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092parse\u3057\u3066model\u751f\u6210\n                var model = new TodoModel(data, {parse: true});\n                //\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3002\u30c6\u30b9\u30c8\u5bfe\u8c61\u306e\u307f\n                var template =\n                    '<div>' +\n                    '  <a class=\"remove-link\">\u524a\u9664</a>' +\n                    '  <a class=\"detail-link\">\u8a73\u7d30</a>' +\n                    '  <input type=\"checkbox\" class=\"toggle\"></input>' +\n                    '</div>';\n                //model\u3068template\u3092\u6e21\u3057\u3066view\u3092\u751f\u6210\n                var view = new TodoItemView({\n                    model: model,\n                    //template : $(template)\n                });\n                //\u8868\u793a\u307e\u3067\u3057\u3066\u304b\u3089return\n                view.template = $(template);\n                view.render();\n\n                return view;\n            }\n        });\n    }\n});\n\n\n\u0110\u00e2y l\u00e0 test code ch\u00ednh. Nh\u1eefng g\u00ec ch\u00fang ta \u0111ang th\u1ef1c hi\u1ec7n c\u00f3 th\u1ec3 t\u00f3m t\u1eaft nh\u01b0 sau,\n\n\u0110\u0103ng nh\u1eadp\n\u0110\u1ecdc file views/todo-item-view \u0111\u1ec3 hi\u1ec3n th\u1ecb giao di\u1ec7n\nCh\u1ea1y 4 code block ( sau \u0111\u00e2y l\u00e0 c\u00e1c \u0111i\u1ec1u ki\u1ec7n c\u1ee7a testcase t\u01b0\u01a1ng \u1ee9ng ) b\u1eaft \u0111\u1ea7u v\u1edbi describe.\n\n\nTr\u01b0\u1eddng h\u1ee3p l\u00e0 owner ho\u1eb7c assignee.\n\n\nTr\u01b0\u1eddng h\u1ee3p kh\u00f4ng ph\u1ea3i owner nh\u01b0ng l\u00e0 assignee.\nKh\u00f4ng ph\u1ea3i owner hay asssignee\nN\u1ebfu kh\u00f4ng ph\u1ea3i owner hay Assignee\n\n\n\n\n\nChi ti\u1ebft t\u1eebng test code\n\nG\u1ed3m c\u00e1c c\u00fa ph\u00e1p b\u1eaft \u0111\u1ea7u b\u1eb1ng describe trong test code. \n\n\nMi\u00eau t\u1ea3 \u0111\u1ed1i t\u01b0\u1ee3ng c\u1ea7n test b\u1eb1ng describe\n\n\u1ede it b\u1ea1n s\u1ebd vi\u1ebft code \u0111\u1ec3 th\u1ef1c hi\u1ec7n test code \u0111\u1ec3 x\u00e1c nh\u1eadn k\u1ebft qu\u1ea3. \u0110\u00e2y l\u00e0 ph\u1ea7n body c\u1ee7a the test.\n\n\nit m\u00ecnh c\u00f3 th\u1ec3 vi\u1ebft v\u00e0o (test) n\u00ean l\u00e0 ~\nT\u1ea1i \u0111\u00e2y, Model cho vi\u1ec7c hi\u1ec3n th\u1ecb TODO, b\u1eb1ng c\u00e1ch thay \u0111\u1ed5i gi\u00e1 tr\u1ecb c\u1ee7a owned v\u00e0 assigned \u0111\u1ec3 hi\u1ec3n th\u1ecb view, delete button, detail button, ngo\u00e0i ra c\u00f2n test xem ch\u00fang ta kh\u00f4ng th\u1ec3 hay c\u00f3 th\u1ec3 check v\u00e0o checkbox.\n\n\n\u0110\u1ec3 sinh ra view t\u00f4i \u0111\u00e3 th\u1ef1c hi\u1ec7n \u1edf h\u00e0m _createAndRenderTodoItemView.\n\n\nGi\u00e1 tr\u1ecb s\u1ebd \u0111\u01b0\u1ee3c set cho owned v\u00e0 assignee, c\u00e1c argument b\u1eaft \u0111\u1ea7u \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh.\nTemplate t\u1ea1i th\u1eddi \u0111i\u1ec3m sinh ra view \u0111\u1ec3 thi\u1ebft l\u1eadp c\u00e1c th\u1ee9 trong DOM, hi\u1ec3n th\u1ecb delete button, detail button, c\u00f3 th\u1ec3 set checkbox \u1edf DOM template.\n\n\n\n\n\n\napp/webroot/js/test/test-login.js\n```js:app/webroot/js/test/test-login.js\u2028define(function (require) {\n    var UserModel = require('models/user-model');\nvar userModel = new UserModel();\nreturn function login(done){\n    if (!userModel.isLoggedIn()) {\n        userModel.login(\n            'yamada',   //DB\u767b\u9332\u30c7\u30fc\u30bf\u306b\u5408\u308f\u305b\u308b\n            'test',     //DB\u767b\u9332\u30c7\u30fc\u30bf\u306b\u5408\u308f\u305b\u308b\n            function success(message) {\n                console.info(\"logged in!\")\n                done();\n            },\n            function error(message) {\n                done('login error! ' + '\\n' + message);\n            }\n        )\n    } else {\n        //\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u306a\u3089\u7d42\u4e86\n        console.info('\u30ed\u30b0\u30a4\u30f3\u6e08\u307f');\n        done();\n    }\n}\n\n});\n```\n\nCh\u1ea1y login API \u0111\u1ec3 \u0111\u0103ng nh\u1eadp v\u00e0o server.\n\n\nX\u00e1c \u0111\u1ecbnh User name, password, set theo \u0111i\u1ec1u ki\u1ec7n b\u1ea1n c\u1ea7n test.\nSau khi \u0111\u0103ng nh\u1eadp th\u00e0nh c\u00f4ng, ch\u1ea1y h\u00e0m done() \u0111\u1ec3 k\u1ebft th\u00fac test.\n\n\n\n v\u1ec1 h\u00e0m done\nB\u1eb1ng vi\u1ec7c ch\u1ea1y h\u00e0m done trong h\u00e0m it, b\u1ea1n c\u00f3 th\u1ec3 k\u1ebft th\u00fac vi\u1ec7c th\u1ef1c thi test.\nB\u1ea3n th\u00e2n h\u00e0m it c\u0169ng s\u1ebd b\u1ecb b\u1ecf qua n\u1ebfu \u0111ang ch\u1ea1y userModel.login tuy nhi\u00ean, h\u00e0m done \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n sau khi h\u00e0m success \u0111\u01b0\u1ee3c th\u1ef1c thi c\u1ee7a h\u00e0m callback \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh trong userModel.login.\nV\u00ec h\u00e0m test khi k\u1ebft th\u00fac \u0111\u00e3 t\u1ef1 \u0111\u1ed9ng ch\u1ea1y h\u00e0m done , test s\u1ebd \u0111\u01b0\u1ee3c ch\u1ea1y ti\u1ebfp cho \u0111\u1ebfn khi n\u00e0o b\u1ea1n call h\u00e0m asynchronous callback function b\u1eb1ng c\u01a1 ch\u1ebf n\u00e0y.\nN\u00f3 gi\u1ed1ng nh\u1eefng g\u00ec m\u00ecnh \u0111\u00e3 th\u1ef1c hi\u1ec7n \u1edf file app/webroot/js/test/test-todo-item-view.js tr\u01b0\u1edbc \u0111\u00f3 ,\n\napp/webroot/js/test/test-todo-item-view.js\n\n\u301c\u7701\u7565\u301c\n        describe(\"TODO\u4e00\u89a7\u8868\u793a\u306e\u524a\u9664\u30ea\u30f3\u30af\u3001\u8a73\u7d30\u30ea\u30f3\u30af\u3001\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u8868\u793a\u30c6\u30b9\u30c8\", function () {\n            describe(\"\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af\", function () {\n                it('\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af', function (done) {\n                    loginTest(done);\n                });\n            });\n\u301c\u7701\u7565\u301c\n\n\nGi\u1ed1ng nh\u01b0 ch\u00fang ta \u0111ang ch\u1ea1y h\u00e0m logintTest. Truy\u1ec1n argument done c\u1ee7a n\u00f3 v\u00e0o h\u00e0m loginTest, h\u00e3y t\u1ea1o flow sao cho h\u00e0m done ch\u1ec9 th\u1ef1c hi\u1ec7n n\u1ed9i b\u1ed9.\n\nCh\u1ea1y test\nTruy c\u1eadp link\nhttp://(PublicIp)/rest-study/clientTest.html\n C\u00e1c k\u1ebft c\u1ee7a c\u1ee7a b\u00e0i n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c show nh\u01b0 d\u01b0\u1edbi \u0111\u00e2y.\n\nKhi m\u1ecdi th\u1ee9 \u0111\u00e3 OK, h\u00e3y commit l\u00ean Git.\n Hi\u1ec3n th\u1ecb d\u1ea1ng Diff tr\u00ean GitHub\n\u7b2c11\u56de Lesson1 TODO\u4e00\u89a7\u8868\u793a\u306e\u524a\u9664\u30ea\u30f3\u30af\u3001\u8a73\u7d30\u30ea\u30f3\u30af\u3001\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u8868\u793a\u30c6\u30b9\u30c8 \u00b7 suzukishouten-study/rest-study@728ff09\nSang b\u00e0i 2 n\u00e0o !\n\n B\u00e0i 2: Test hi\u1ec3n th\u1ecb data trong trang TODO detail\nT\u00f4i \u0111\u00e3 n\u00f3i r\u1eb1ng code n\u00e0y c\u00f3 c\u00e1c m\u00f9i \u1edf javascript, n\u00f3 s\u1ebd d\u1eabn \u0111\u1ebfn c\u00e1c \" \u0111\u1ecba ng\u1ee5c callback\" . \u0110\u1ec3 refactor c\u00e1c ph\u1ea7n s\u1eed d\u1ee5ng callback, \u0111\u1ea7u ti\u00ean l\u00e0 vi\u1ebft test \u1edf b\u00e0i 2 n\u00e0y.\n\nEvent \u0111\u01b0\u1ee3c \u0111i\u1ec1u khi\u1ec3n b\u1edfi ListenTo - S\u1ebd thay \u0111\u1ed5i th\u00e0nh \u0111i\u1ec1u khi\u1ec3n b\u1edfi h\u00e0m callback > success \nM\u00ecnh mu\u1ed1n n\u00f3 th\u1ef1c hi\u1ec7n vi\u1ec7c chuy\u1ec3n sang m\u00e0n h\u00ecnh hi\u1ec3n th\u1ecb kh\u00e1c khi \u0111ang thu th\u1eadp TODO list ho\u1eb7c userlist c\u1ea3 2 \u0111\u1ec1u \u0111\u00e3 ho\u00e0n t\u1ea5t.\n\nHo\u00e0n t\u1ea5t b\u00e0i 2.\nLogo hi\u1ec3n th\u1ecb c\u1ee7a m\u00e0n h\u00ecnh TODO detail hi\u1ec7n t\u1ea1i \u0111ang s\u1eed d\u1ee5ng nh\u01b0 sau.\n\napp/webroot/js/views/todo-detail-layout-view.js\n//\u8a73\u7d30\u753b\u9762\u7528\u30ec\u30a4\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\ndefine(function(require) {\n    var TodoDetailItemView = require('views/todo-detail-item-view');\n    var TodoModel = require('models/todo-model');\n    var UserCollection = require('collections/user-collection');\n\n    var TodoDetailLayoutView = Marionette.LayoutView.extend({\n        //\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n        template : '#todo-detail-layout-template',\n\n        regions : {\n            itemRegion : '#todo-item',\n        },\n\n        onRender : function() {\n            this.userCollection = new UserCollection();\n            this.listenToOnce(this.userCollection, 'reset', this.onLoadUsers, this);\n            this.userCollection.fetch({\n                reset : true\n            });\n        },\n\n        onLoadUsers : function(userCollection){\n            var todoModel = new TodoModel({\n                id : this.options.modelId\n            });\n            //\u30e2\u30c7\u30eb\u306e\u30b5\u30fc\u30d0\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u5b8c\u4e86\u6642\u3001\u63cf\u753b\u3092\u884c\u3046\n            this.listenToOnce(todoModel, 'sync', this.showItem, this);\n            //\u30b5\u30fc\u30d0\u304b\u3089\u30c7\u30fc\u30bf\u53d6\u5f97\n            todoModel.fetch({\n                wait : true\n            });\n        },\n\n        showItem : function(todoModel) {\n            this.itemRegion.show(new TodoDetailItemView({\n                model : todoModel,\n                userList : this.userCollection.models\n            }));\n        },\n\n    });\n    return TodoDetailLayoutView;\n});\n\n\n\nL\u1ea5y user list b\u1eb1ng h\u00e0m onRender, sau khi nh\u1eadn ph\u1ea3n h\u1ed3i th\u00e0nh c\u00f4ng t\u1eeb server, ch\u1ea1y h\u00e0m onLoadUsers.\n\u1ede h\u00e0m onLoadUsers \u0111\u1ec3 l\u1ea5y danh s\u00e1ch TOTO, sau khi nh\u1eadn ph\u1ea3n h\u1ed3i th\u00e0nh c\u00f4ng t\u1eeb server m\u00ecnh ch\u1ea1y h\u00e0m showItem.\n\u1ede h\u00e0m shoItem, m\u00ecnh s\u1ebd sinh ra v\u00e0 hi\u1ec3n th\u1ecb theo ItemView.\n\nV\u00e0 n\u00f3 s\u1ebd nh\u01b0 sau \u0111\u00e2y, nh\u01b0ng \u0111\u00e2y ch\u1ec9 l\u00e0 sau b\u00e0i 1 v\u00e0 b\u00e0i 2, ph\u1ea7n handling s\u1ebd \u1edf b\u00e0i 3.\n\u1ede giai \u0111o\u1ea1n tr\u01b0\u1edbc trong b\u00e0i 2, s\u1ef1 th\u1eadt l\u00e0 \"b\u00e0i 3 th\u00ec h\u00e0m showItem s\u1ebd \u0111\u01b0\u1ee3c th\u1ef1c thi\" s\u1ebd ho\u00e0n t\u1ea5t, m\u00ecnh \u0111\u00e3 \u0111\u1ee7 c\u01a1 s\u1edf \u0111\u1ec3 test.\n\nDanh s\u00e1ch c\u00e1c file c\u1ea7n ch\u1ec9nh s\u1eeda\n\napp/webroot/js/test/test-todo-detail-layout-view.js\n\n\ntest code\n\n\napp/webroot/js/test/tests.js\n\n\nch\u1ea1y test\n\n\n\n\napp/webroot/js/test/test-todo-detail-layout-view.js\n\napp/webroot/js/test/test-todo-detail-layout-view.js\ndefine(function(require){\n    var sinon = require('sinon');\n    var TodoDetailLayoutView = require('views/todo-detail-layout-view');\n    var TodoModel = require('models/todo-model');\n    var loginTest = require('test/test-login');\n    return function () {\n        describe(\"TODO\u8a73\u7d30\u306e\u8868\u793a\u30c7\u30fc\u30bf\u53d6\u5f97\u30c6\u30b9\u30c8\", function () {\n            it('\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af', function (done) {\n                loginTest(done);\n            });\n\n            it(\"Todo\u3068\u30e6\u30fc\u30b6\u4e00\u89a7\u53d6\u5f97\", function (done) {\n                var layoutView = _createTodoDetailLayoutView();\n                sinon.stub(layoutView, 'showItem', function (todoModel) {\n                    todoModel.should.be.ok;\n                    layoutView.showItem.restore();\n                    done();\n                });\n                layoutView.render();\n            });\n\n            //utility\n            function _createTodoDetailLayoutView(data) {\n                //\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n                var template = '<div><div></div></div>';\n                //model\u3068template\u3092\u6e21\u3057\u3066view\u3092\u751f\u6210\n                var view = new TodoDetailLayoutView({\n                    template: $(template),\n                    modelId: 1\n                });\n                return view;\n            }\n        });\n    }\n});\n\n\nS\u1eed d\u1ee5ng sinon.stub, m\u00ecnh s\u1ebd t\u1ea1o ra stub cho h\u00e0m showItem.\n\u1ede stub, c\u01a1 b\u1ea3n b\u1edfi v\u00ec m\u00ecnh ch\u1ec9 check m\u1ed7i nh\u1eefng stub \u0111\u01b0\u1ee3c th\u1ef1c thi, argument s\u1ebd l\u00e0 m\u1ecdi th\u1ee9 ch\u1ec9 OK n\u1ebfu m\u00ecnh check kh\u00f4ng c\u00f3 gi\u00e1 tr\u1ecb null.\n\napp/webroot/js/test/tests.js\n\napp/webroot/js/test/tests.js\n define(function (require) {\n    //\u8aad\u307f\u8fbc\u307f\n    var testTodoItemView = require('js/test/test-todo-item-view.js');\n+   var testTodoDetailLayoutView = require('js/test/test-todo-detail-layout-view.js');\n    //\u5b9f\u884c\n    testTodoItemView();\n+   testTodoDetailLayoutView();\n });\n\n\nT\u1ea1o m\u1edbi file test-todo-detail-layout-view.js \u0111\u1ec3 th\u1ef1c hi\u1ec7n test.\nKhi \u0111\u00e3 th\u00eam test, h\u00e3y ch\u1ea1y.\nN\u1ebfu m\u1ecdi th\u1ee9 \u0111\u00e3 \u1ed5n, h\u00e3y commit l\u00ean Git.\n Hi\u1ec3n th\u1ecb d\u1ea1ng Diff tr\u00ean GitHub\n\u7b2c11\u56de Lesson2 TODO\u8a73\u7d30\u306e\u8868\u793a\u30c7\u30fc\u30bf\u53d6\u5f97\u30c6\u30b9\u30c8 \u00b7 suzukishouten-study/rest-study@5c7b38a\nLesson3\u3078!\n\n B\u00e0i 3+ Refactor m\u1ed9t ch\u00fat v\u1ec1 vi\u1ec7c hi\u1ec3n th\u1ecb data detail\nKhi testcode \u0111\u01b0\u1ee3c th\u00eam v\u00e0o, m\u00ecnh s\u1ebd refactor \u1edf B\u00e0i 3.\nSau khi ch\u1ec9nh s\u1eeda, h\u00e3y ch\u1ea1y test m\u1ed9t l\u1ea7n n\u1eefa.\n\nDanh s\u00e1ch file c\u1ea7n ch\u1ec9nh s\u1eeda\n\napp/webroot/js/views/todo-detail-layout-view.js\n\n\nRefactoring code c\u1ee7a c\u00e1c \u0111\u1ed1i t\u01b0\u1ee3ng\n\n\n\n\napp/webroot/js/views/todo-detail-layout-view.js\n//\u8a73\u7d30\u753b\u9762\u7528\u30ec\u30a4\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\ndefine(function(require) {\n    var TodoDetailItemView = require('views/todo-detail-item-view');\n    var TodoModel = require('models/todo-model');\n    var UserCollection = require('collections/user-collection');\n\n    var TodoDetailLayoutView = Marionette.LayoutView.extend({\n        //\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n        template : '#todo-detail-layout-template',\n\n        regions : {\n            itemRegion : '#todo-item',\n        },\n\n        onRender: function () {\n            //Todo\u3092\u53d6\u5f97\n            this.todoModel = new TodoModel({\n                id : this.options.modelId\n            });\n            var todoFetching = this.todoModel.fetch();\n            //\u30e6\u30fc\u30b6\u4e00\u89a7\u53d6\u5f97\n            var userCollection = new UserCollection();\n            var userFetching = userCollection.fetch();\n            $.when(\n                todoFetching,\n                userFetching\n            ).done(function(){\n                this.showItem(this.todoModel, userCollection);\n            }.bind(this));\n        },\n\n        showItem: function (todoModel, userCollection) {\n            this.itemRegion.show(new TodoDetailItemView({\n                model : todoModel,\n                userList : userCollection.models\n            }));\n        },\n\n    });\n    return TodoDetailLayoutView;\n});\n\nNh\u01b0 \u0111\u00e3 m\u00f4 t\u1ea3 \u1edf b\u00e0i 2, flow c\u1ee7a m\u00ecnh nh\u01b0 sau.\n\nL\u1ea5y user list b\u1eb1ng h\u00e0m onRender, sau khi nh\u1eadn ph\u1ea3n h\u1ed3i th\u00e0nh c\u00f4ng t\u1eeb server, ch\u1ea1y h\u00e0m onLoadUsers.\n\u1ede h\u00e0m onLoadUsers \u0111\u1ec3 l\u1ea5y danh s\u00e1ch TOTO, sau khi nh\u1eadn ph\u1ea3n h\u1ed3i th\u00e0nh c\u00f4ng t\u1eeb server m\u00ecnh ch\u1ea1y h\u00e0m showItem.\n\u1ede h\u00e0m shoItem, m\u00ecnh s\u1ebd sinh ra v\u00e0 hi\u1ec3n th\u1ecb theo ItemView.\n\nB\u00e2y gi\u1edd,\n\n\u1ede h\u00e0m onRender, l\u1ea5y user list. Tr\u1ef1 ti\u1ebfp l\u1ea5y TOTO list tr\u01b0\u1edbc khi c\u00f3 ph\u1ea3n h\u1ed3i t\u1eeb server.\nm\u00ecnh d\u00f9ng when trong jQuery, s\u1eed d\u1ee5ng c\u01a1 ch\u1ebf c\u1ee7a done \u0111\u1ec3 ch\u1ea1y h\u00e0m showItem t\u1ea1i th\u1eddi \u0111i\u1ec3m m\u00e0 nh\u01b0 \u0111\u00e3 n\u00f3i \u1edf b\u00e0i 1 \"L\u1ea5y to\u00e0n b\u1ed9 danh s\u00e1ch TODO list v\u00e0 users list \u0111\u00e3 ho\u00e0n th\u00e0nh c\u1ea3 2\" .\n\nFlow \u0111\u00e3 \u0111\u01b0\u1ee3c thay \u0111\u1ed5i nh\u01b0 tr\u00ean.\n T\u00f4i \u0111\u00e3 vi\u1ebft\u300cwhen,done c\u1ee7a jQuery\u300d, ch\u00ednh x\u00e1c h\u01a1n l\u00e0 t\u00f4i \u0111\u00e3 s\u1eed d\u1ee5ng nh\u1eefng th\u1ee9 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 jQuery.Deferred.\n\u0110\u1ecbnh ngh\u0129a chi ti\u1ebft \u1edf d\u01b0\u1edbi \u0111\u00e2y, b\u00e0i vi\u1ebft kh\u00e1 hay n\u00ean t\u00f4i d\u1eabn link tr\u1ef1c ti\u1ebfp lu\u00f4n\n\u7206\u901f\u3067\u308f\u304b\u308bjQuery.Deferred\u8d85\u5165\u9580 - Yahoo! JAPAN Tech Blog\n UserCollection l\u00fac \u0111\u1ea7u m\u00ecnh vi\u1ebft v\u1edbi this.userCollection, b\u1edfi v\u00ec ch\u1ec9 s\u1eed d\u1ee5ng nh\u01b0 bi\u1ebfn c\u1ee5c b\u1ed9 l\u00e0 \u0111\u1ee7 n\u00ean m\u00ecnh s\u1ebd \u0111\u1ed5i n\u00f3 th\u00e0nh bi\u1ebfn c\u1ee5c b\u1ed9.\nV\u00ec v\u1eady, m\u00ecnh c\u1ea7n truy\u1ec1n userCollection c\u1ee7a n\u01a1i m\u00e0 nh\u1eadn data v\u00e0o h\u00e0m showItem.\nV\u00ec l\u00fd do n\u00e0y, b\u1ea1n c\u1ea7n s\u1eeda h\u00e0m showItem c\u1ee7a c\u00e1c stub c\u1ee7a test code, c\u00e1c ch\u1ec9nh s\u1eeda nh\u01b0 sau.\n\napp/webroot/js/views/todo-detail-layout-view.js\n\napp/webroot/js/views/todo-detail-layout-view.js\n\n            it(\"Todo\u3068\u30e6\u30fc\u30b6\u4e00\u89a7\u53d6\u5f97\", function (done) {\n                var layoutView = _createTodoDetailLayoutView();\n-               sinon.stub(layoutView, 'showItem', function (todoModel) {\n+               sinon.stub(layoutView, 'showItem', function (todoModel, userCollection) {\n                    todoModel.should.be.ok;\n+                   userCollection.should.be.ok;\n                    layoutView.showItem.restore();\n                    done();\n                });\n\n\nTh\u00eam argument userCollection, ch\u00fang ta ph\u1ea3i ki\u1ec3m tra r\u1eb1ng n\u00f3 kh\u00f4ng ph\u1ea3i null.\nM\u1ecdi ch\u1ec9nh s\u1eeda \u0111\u00e3 xong.\nH\u00e3y ch\u1ea1y test.\nKhi m\u1ecdi th\u1ee9 \u0111\u00e3 \u1ed5n, h\u00e3y commit l\u00ean Git.\n Hi\u1ec3n th\u1ecb d\u1ea1ng diff tr\u00ean Github\n\u7b2c11\u56de Lesson3 TODO\u8a73\u7d30\u306e\u8868\u793a\u30c7\u30fc\u30bf\u53d6\u5f97\u51e6\u7406\u306e\u3061\u3087\u3063\u3068\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0 \u00b7 suzukishouten-study/rest-study@a7dd0af\n\nTrailer\nB\u00e0i ti\u1ebfp theo s\u1ebd l\u00e0 b\u00e0i cu\u1ed1i c\u00f9ng c\u1ee7a series.\nS\u1ebd t\u1ed1t h\u01a1n n\u1ebfu c\u00e1c b\u1ea1n c\u00f9ng l\u00e0m vi\u1ec7c nh\u00f3m.\n\nL\u1eddi c\u1ea3m \u01a1n\nC\u1ea3m \u01a1n c\u00e1c b\u1ea1n \u0111\u00e3 theo d\u00f5i b\u00e0i vi\u1ebft n\u00e0y, t\u00f4i r\u1ea5t hi v\u1ecdng nh\u1eadn \u0111\u01b0\u1ee3c nh\u1eefng b\u00ecnh lu\u1eadn c\u0169ng nh\u01b0 ph\u1ea3n h\u1ed3i c\u1ee7a t\u1ea5t c\u1ea3 c\u00e1c b\u1ea1n \u0111\u1ec3 l\u00e0m t\u1ed1t h\u01a1n. Ch\u01b0\u01a1ng 11 t\u1ea1m k\u1ebft th\u00fac t\u1ea1i \u0111\u00e2y.\n\n:warning: N\u1ed9i dung c\u1ee7a b\u00e0i n\u00e0y kh\u00e1 l\u00e0 ng\u1eafn g\u1ecdn\n\n## :large_blue_circle: Xin ch\u00e0o c\u00e1c b\u1ea1n\n\nB\u00e0i vi\u1ebft n\u00e0y \u0111\u01b0\u1ee3c d\u1ecbch t\u1eeb b\u00e0i [\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u7de8\uff09- AWS\u4e0a\u3067\u69cb\u7bc9\u3059\u308bRESTful\u30a2\u30d7\u30ea\u52c9\u5f37\u4f1a\uff5eWeb\u958b\u767a\u30ef\u30fc\u30af\u30b7\u30e7\u30c3\u30d7\uff5e\u3010\u7b2c11\u56de\u3011\u30de\u30cb\u30e5\u30a2\u30eb](http://qiita.com/k_shimoji/items/953b2071fcf156c0d595) c\u1ee7a t\u00e1c gi\u1ea3 @k_shimoji .\n\n\n## :large_blue_circle: Refactoring l\u00e0 g\u00ec ?\n\nNh\u1eafc l\u1ea1i b\u00e0i tr\u01b0\u1edbc m\u1ed9t t\u00ed, theo \u0111\u1ecbnh ngh\u0129a th\u00ec n\u00f3 l\u00e0 vi\u1ec7c c\u1ea3i thi\u1ec7n c\u1ea5u tr\u00fac b\u00ean trong m\u00e0 kh\u00f4ng l\u00e0m thay \u0111\u1ed5i c\u00e1c ho\u1ea1t \u0111\u1ed9ng c\u1ee7a ch\u01b0\u01a1ng tr\u00ecnh. Hay n\u00f3i ng\u1eafn g\u1ecdn h\u01a1n l\u00e0 d\u1ecdn d\u1eb9p code ( clean code ).\n\n## :large_blue_circle: C\u00e1c b\u01b0\u1edbc Refactoring\n\n1. X\u00e1c \u0111\u1ecbnh n\u01a1i c\u1ea7n refactoring.\n2. Vi\u1ebft c\u00e1c test \u0111\u1ec3 ki\u1ec3m tra .\n3. refactoring\n4. test\n5. Tr\u1edf l\u1ea1i b\u01b0\u1edbc 1\n\n\n## :one: X\u00e1c \u0111\u1ecbnh n\u01a1i c\u1ea7n refactoring\n\nC\u00f3 m\u1ed9t s\u1ed1 \"M\u00f9i code - (smell code) \" ( \u00e1m ch\u1ec9 code b\u1eeba b\u1ed9n ) \u1edf code c\u1ee7a ch\u00fang ta. Nh\u1eefng \u0111o\u1ea1n code c\u1ea7n refactoring s\u1ebd c\u00f3 nh\u1eefng m\u00f9i \u0111\u1eb7c tr\u01b0ng sau. \n* Quote: [\u0110\u1ecbnh ngh\u0129a m\u00f9i \u0111\u00e1ng ng\u1ea1i] (http://objectclub.jp/technicaldoc/refactoring/refact-smell) *\n\n- L\u1eb7p code\n- method qu\u00e1 d\u00e0i\n- Class qu\u00e1 to\n- Qu\u00e1 nhi\u1ec1u arguments\n- Qu\u00e1 nhi\u1ec1u s\u1ef1 thay \u0111\u1ed5i\n- Bi\u1ebfn thay d\u1ed5i \n- C\u00e1c thu\u1ed9c t\u00ednh, s\u1ef1 ph\u1ee5 thu\u1ed9c b\u1ea5t h\u1ee3p l\u00fd c\u1ee7a operation\n- Header c\u1ee7a d\u1eef li\u1ec7u\n- Ch\u01b0a tu\u00e2n th\u1ee7 c\u00e1c ki\u1ec3u d\u1eef li\u1ec7u c\u01a1 b\u1ea3n.\n- L\u1ec7nh Switch\n- Th\u1eeba k\u1ebf song song \n- Class l\u01b0\u1eddi bi\u1ebfng\n- Nh\u1eefng th\u00e0nh ph\u1ea7n \u0111\u01b0\u1ee3c sinh ra \u0111\u00e1ng nghi\n- Thu\u1ed9c t\u00ednh t\u1ea1m th\u1eddi\n- Chu\u1ed7i tin nh\u1eafn\n- Trung gian\n- C\u00e1c m\u1ed1i quan h\u1ec7 kh\u00f4ng \u0111\u00fang\n- Class interface kh\u00f4ng ph\u00f9 h\u1ee3p\n- Th\u01b0 vi\u1ec7n qu\u00e1 c\u0169\n- Data class\n- T\u1eeb ch\u1ed1i th\u1eeba k\u1ebf\n- Comment\n\n### :point_up: M\u00ecnh s\u1ebd ph\u00e2n lo\u1ea1i c\u00e1c m\u00f9i n\u00e0y ra\n\nC\u00f3 c\u1ea3m gi\u00e1c l\u00e0 h\u01a1i g\u00f2 b\u00f3 khi x\u1ebfp ch\u00fang th\u00e0nh c\u00e1c nh\u00f3m nh\u01b0 n\u00e0y, tuy nhi\u00ean n\u00f3 s\u1ebd gi\u00fap m\u00ecnh d\u1ec5 d\u00e0ng ti\u1ebfp c\u1eadn h\u01a1n m\u1ed9t t\u00ed n\u00ean t\u00f4i s\u1ebd c\u1ed1 g\u1eafng ph\u00e2n lo\u1ea1i nh\u01b0 sau :smirk:\n\n- M\u00f9i qu\u00e1 r\u00f5 r\u00e0ng\n- M\u00f9i xu\u1ea5t hi\u1ec7n khi b\u1ea1n b\u1eaft \u0111\u1ea7u \u0111\u1ecdc code\n- C\u1ea5u tr\u00fac r\u1eafc r\u1ed1i\n- H\u1ec7 th\u1ed1ng l\u1ed7i th\u1eddi\n- M\u00f9i tanh\n- M\u00f9i m\u1ed3 h\u00f4i\n- M\u00f9i l\u1eeba d\u1ed1i\n\nT\u00f4i s\u1ebd gi\u1ea3i th\u00edch \u1edf ph\u1ea7n d\u01b0\u1edbi.\nCho m\u1ed7i m\u00f9i, t\u00f4i s\u1ebd vi\u1ebft m\u1ed9t \"c\u00e1ch kh\u1eed m\u00f9i\" v\u00e0 \"nh\u1eefng nguy\u00ean t\u1eafc n\u00f3 vi ph\u1ea1m\", c\u00f2n ph\u1ea7n gi\u1ea3i th\u00edch th\u00ec \u1edf b\u00e0i vi\u1ebft n\u00e0y ch\u1eafc l\u00e0 kh\u00f4ng \u0111\u1ee7, v\u00ec v\u1eady mong c\u00e1c b\u1ea1n t\u00ecm ki\u1ebfm th\u00eam th\u00f4ng tin v\u1ec1 n\u00f3 tr\u00ean google n\u1ebfu c\u00e1c b\u1ea1n th\u1ef1c s\u1ef1 h\u1ee9ng th\u00fa.\n\n#### M\u00f9i qu\u00e1 r\u00f5 r\u00e0ng\n\nKh\u00f4ng c\u1ea7n l\u00e0m g\u00ec c\u0169ng bi\u1ebft code c\u00f3 m\u00f9i, nh\u00ecn qua ch\u1ee9 kh\u00f4ng c\u1ea7n \u0111\u1ecdc code lu\u00f4n.\n\n- 2. method qu\u00e1 d\u00e0i\n   - H\u00e3y t\u00e1ch n\u00f3 ra.\n- 3. class qu\u00e1 l\u1edbn\n   - T\u00e1ch n\u00f3 ra.\n- 4. Qu\u00e1 nhi\u1ec1u arguments\n   - H\u00e3y ph\u00e2n lo\u1ea1i c\u00e1c object r\u00f5 r\u00e0ng h\u01a1n.\n- 10. Qu\u00e1 nhi\u1ec1u l\u1ec7nh switch\n   - H\u00e3y s\u1eed d\u1ee5ng h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng.\n\n\n\n#### M\u00f9i xu\u1ea5t hi\u1ec7n khi b\u1ea1n b\u1eaft \u0111\u1ea7u \u0111\u1ecdc code\n\nNh\u1eefng m\u00f9i n\u00e0y ngay l\u1eadp t\u1ee9c xu\u1ea5t hi\u1ec7n khi b\u1ea1n \u0111\u1ecdc qua c\u00e1c ti\u00eau \u0111\u1ec1\n\n- 1. Code b\u1ecb l\u1eb7p\n   - Vi ph\u1ea1m nguy\u00ean t\u1eafc DRY, h\u00e3y c\u1ed1 d\u1eebng vi\u1ec7c copy paste l\u1ea1i.\n- 12. Class l\u01b0\u1eddi bi\u1ebfng\n   - M\u1ed9t class nh\u1ecf t\u1ed3n t\u1ea1i m\u00e0 kh\u00f4ng c\u00f3 nhi\u1ec1u \u00fd ngh\u0129a v\u1edbi nh\u1eefng g\u00ec b\u1ea1n \u0111ang l\u00e0m, t\u1ed1t nh\u1ea5t l\u00e0 t\u1ea1o m\u1ed9t role \u1edf class kh\u00e1c ch\u1ee9 kh\u00f4ng c\u1ea7n \u0111\u1ec3 ri\u00eang ra.\n- 16. Trung gian\n   - M\u1ed9t s\u1ed1 Class kh\u00f4ng th\u1ef1c hi\u1ec7n nhi\u1ec7m v\u1ee5 c\u1ee7a ch\u00ednh n\u00f3, x\u00f3a n\u00f3 \u0111i ho\u1eb7c cho n\u00f3 l\u00e0m th\u00eam c\u00e1c thao t\u00e1c kh\u00e1c.\n- 18. Interface Class kh\u00f4ng ph\u00f9 h\u1ee3p\n   - Ai \u0111\u00f3 \u0111\u00e3 l\u00e0m m\u1ed9t vi\u1ec7c t\u01b0\u01a1ng t\u1ef1 ? h\u00e3y ng\u1ea7m hi\u1ec3u v\u1edbi nhau.\n- 20. Data class\n   - Hay c\u00f2n g\u1ecdi l\u00e0 \"Thi\u1ebfu domain model\". H\u00e3y nh\u1edb data v\u00e0 c\u00e1c h\u00e0nh vi.\n   \n#### C\u1ea5u tr\u00fac r\u1eafc r\u1ed1i\n\n- 5. Qu\u00e1 nhi\u1ec1u s\u1ef1 thay \u0111\u1ed5i\n   - Vi ph\u1ea1m nguy\u00ean t\u1eafc SRP (single responsibility principle). M\u1ed9t class \u0111\u00e3 l\u00e0m vi\u1ec7c qu\u00e1 t\u1ea3i, hay chia s\u1ebb c\u00f4ng vi\u1ec7c c\u1ee7a n\u00f3.\n- 6. Bi\u1ebfn b\u1ecb thay \u0111\u1ed5i\n   - Chia s\u1ebb 1 c\u00f4ng vi\u1ec7c cho qu\u00e1 nhi\u1ec1u class. H\u00e3y ph\u00e2n chia tr\u00e1ch nhi\u1ec7m r\u00f5 r\u00e0ng h\u01a1n .\n- 11. Th\u1eeba k\u1ebf song song\n   - M\u1ed9t v\u00ed d\u1ee5 \u0111i\u1ec3m h\u00ecnh c\u1ee7a vi ph\u1ea1m nguy\u00ean t\u1eafc \"Nh\u1eefng \u1ef1u thay \u0111\u1ed5i b\u1ecb ph\u00e2n t\u00e1n.\" OCP (open / closed principle). H\u00e3y chia s\u1ebb \u0111\u00fang c\u00f4ng vi\u1ec7c c\u1ee7a class cha v\u00e0 class con. \n\n#### H\u1ec7 th\u1ed1ng l\u1ed7i th\u1eddi\n\n\u1ede th\u1eddi \u0111i\u1ec3m tr\u01b0\u1edbc ( ph\u1ee5 thu\u1ed9c v\u00e0o h\u1ec7t th\u1ed1ng th\u1eddi \u0111\u00f3 ho\u1eb7c th\u1eddi gian ph\u00e1t tri\u1ec3n m\u00e0 n\u00f3 c\u00f3 khi ch\u1ec9 l\u00e0 s\u1ef1 thay \u0111\u1ed5i r\u1ea5t nh\u1ecf) n\u00f3 c\u00f3 th\u1ec3 kh\u00f4ng ph\u1ea3i m\u00f9i, tuy nhi\u00ean n\u00f3 khi\u1ebfn cho vi\u1ec7c b\u1ea3o tr\u00ec tr\u1edf n\u00ean kh\u00f3 kh\u0103n khi c\u00f4ng ngh\u1ec7 \u0111\u00f3 \u0111\u00e3 qu\u00e1n c\u0169\n\n- 7. thu\u1ed9c t\u00ednh, c\u00e1c s\u1ef1 g\u1eafn k\u1ebft kh\u00f4ng h\u1ee3p l\u1ec7 c\u1ee7a c\u00e1c ho\u1ea1t \u0111\u1ed9ng\n   - C\u00e1c lu\u1eadt Roles c\u1ee7a class tr\u1edf n\u00ean kh\u00f4ng r\u00f5 r\u00e0ng, h\u00e3y s\u1eeda roles cho th\u00edch h\u1ee3p\n- 15. Chu\u1ed1i tin nh\u1eafn\n   - M\u1ed9t object \u0111\u01b0\u1ee3c bi\u1ebft t\u1eeb vi\u1ec7c nh\u1eadn c\u1ee7a m\u1ed9t object t\u1eeb m\u1ed9t object kh\u00e1c...H\u00e3y t\u1ed5 ch\u1ee9c l\u1ea1i ch\u00fang v\u00ec r\u1ea5t ph\u1ee9c t\u1ea1p.\n- 17. C\u00e1c m\u1ed1i quan h\u1ec7 kh\u00f4ng \u0111\u00fang c\u00e1ch\n   - N\u1ebfu th\u1ea5y c\u00e1c class c\u00f3 m\u1ed1i li\u00ean h\u1ec7 qu\u00e1 ch\u1eb7t ch\u1ebd, h\u00e3y \u0111\u1ec3 n\u00f3 l\u00e0 ch\u00ednh n\u00f3.\n- 21. B\u1ecb t\u1eeb ch\u1ed1i th\u1eeba k\u1ebf\n   - B\u1ea1n \u0111\u00e3 th\u1eeba k\u1ebf t\u1eeb m\u1ed9t v\u00e0i class nh\u01b0ng  b\u1ea1n l\u1ea1i overriding qu\u00e1 nhi\u1ec1u n\u00ean class cha kh\u00f4ng c\u00f3 \u00fd ngh\u0129a g\u00ec c\u1ea3. (N\u00f3 b\u1ed7ng tr\u1edf th\u00e0nh m\u1ed9t lo\u1ea1i kh\u00e1c), h\u00e3y d\u1eebng vi\u1ec7c th\u1eeba k\u1ebf l\u1ea1i ho\u1eb7c l\u1ea5y method t\u1eeb class cha \u0111\u1ec3 d\u00f9ng cho class con.\n\n#### M\u00f9i c\u00e1\n\nM\u00ecnh t\u1ea1m g\u1ecdi vui c\u00e1i m\u00f9i n\u00e0y gi\u1ed1ng nh\u01b0 m\u00f9i c\u00e1 tanh.\nN\u00f3 thi\u1ebfu data modeling, thi\u1ebfu s\u1ef1 c\u00e2n nh\u1eafc tr\u01b0\u1edbc khi \u0111\u00f3ng g\u00f3i. H\u00e3y c\u1ea9n th\u1eadn h\u01a1n d\u00f9 qu\u00e1 m\u1ed9t ch\u00fat th\u1eddi gian.\n\n- 8. Data g\u1eedi v\u00e0o header\n   - Data c\u1ea7n lu\u00f4n \u0111\u01b0\u1ee3c s\u1eed s\u1eed d\u1ee5ng \u1edf c\u00f9ng m\u1ed9t set, h\u00e3y c\u1ed1 g\u1eafng \u0111\u1ec3 n\u00f3 th\u1eadt s\u00e1t v\u1edbi object.\n- 9. Tu\u00e2n th\u1ee7 c\u00e1c ki\u1ec3u d\u1eef li\u1ec7u c\u01a1 b\u1ea3n\n   - H\u00e3y t\u1ea1o m\u1ed9t ValueObject\n- 14. Thu\u1ed9c t\u00ednh t\u1ea1m th\u1eddi\n   - C\u00e1c bi\u1ebfn (field) kh\u00f4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng ho\u1eb7c \u0111\u00e3 s\u1eed d\u1ee5ng xong. H\u00e3y chuy\u1ec3n n\u00f3 th\u00e0nh c\u00e1c bi\u1ebfn ngo\u00e0i ho\u1eb7c NullObject \n\n#### M\u00f9i m\u1ed3 h\u00f4i\n\nB\u1ea1n \u0111\u00e3 l\u00e0m vi\u1ec7c r\u1ea5t v\u1ea5t v\u1ea3, tuy nhi\u00ean code c\u1ee7a b\u1ea1n v\u1eabn r\u1ea5t t\u1ed3i, v\u00e0 th\u1ee9 duy nh\u1ea5t c\u00f3 th\u1ec3 xu\u1ea5t ra l\u00e0 m\u1ed3 h\u00f4i.\n\n- 13. Nghi ng\u1edd qu\u00e1 nhi\u1ec1u\n   - B\u1ea1n \u0111\u00e3 code m\u00e0 ngh\u0129 qu\u00e1 nhi\u1ec1u \u0111\u1ebfn nh\u1eefng th\u1ee9 t\u01b0\u01a1ng lai c\u1ea7n d\u00f9ng \u0111\u1ebfn, v\u00ec v\u1eady b\u1ea1n \u0111\u00e3 implement r\u1ea5t nhi\u1ec1u th\u1ee9 kh\u00f4ng c\u1ea7n thi\u1ebft t\u1ea1i th\u1eddi \u0111i\u1ec3m hi\u1ec7n t\u1ea1i. H\u00e3y ch\u1ec9 implement n\u1ebfu b\u1ea1n th\u1ef1c s\u1ef1 c\u1ea7n n\u00f3, ch\u1eebng n\u00e0o b\u1ea1n v\u1eabn ch\u01b0a c\u1ea7n n\u00f3, h\u00e3y c\u1ed1 g\u1eafng \u0111\u1ec3 ch\u01b0\u01a1ng tr\u00ecnh c\u1ee7a b\u1ea1n \u0111\u01a1n gi\u1ea3n nh\u1ea5t c\u00f3 th\u1ec3.\n   \n#### M\u00f9i l\u1eeba d\u1ed1i\n\nM\u1eb7c d\u00f9 code kh\u00f4ng c\u1ed1 t\u00ecnh vi\u1ebft sai, nh\u01b0ng k\u1ebft qu\u1ea3 n\u00f3 l\u1ea1i sai.\n\n- 19. Kh\u00f4ng s\u1eed d\u1ee5ng \u0111\u01b0\u1ee3c class th\u01b0 vi\u1ec7n\n   - Th\u01b0 vi\u1ec7n kh\u00f4ng th\u1ec3 s\u1eed d\u1ee5ng nh\u01b0 ch\u00ednh kh\u1ea3 n\u0103ng c\u1ee7a n\u00f3, h\u00e3y s\u1eeda l\u1ea1i \u0111\u1ec3 c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng \u0111\u01b0\u1ee3c, \u0111\u1eebng ph\u00f3 m\u1eb7c t\u1ea5t c\u1ea3 cho th\u01b0 vi\u1ec7n.\n- 22. Comments\n   - Comments qu\u00e1 c\u0169 ho\u1eb7c sai s\u1ef1 th\u1eadt. H\u00e3y c\u1ed1 \u0111\u1ecdc hi\u1ec3u ch\u01b0\u01a1ng tr\u00ecnh c\u00e0ng nhi\u1ec1u c\u00e0ng t\u1ed1t m\u00e0 kh\u00f4ng ch\u00fa \u00fd \u0111\u1ebfn comment. N\u00f3 c\u00f3 th\u1ec3 kh\u00f4ng ch\u00fa th\u00edch g\u00ec cho code c\u1ea3 ( t\u1ea1i sao l\u1ea1i d\u00f9ng logic n\u00e0y , vv...) ch\u1ec9 v\u1edbi m\u1ee5c ti\u00eau l\u00e0 b\u1ea1n mu\u1ed1n comment, h\u00e3y c\u1ed1 g\u1eafng vi\u1ebft code th\u1eadt d\u1ec5 hi\u1ec3u m\u00e0 kh\u00f4ng c\u1ea7n t\u00f3m t\u1eaft n\u00f3 b\u1eb1ng comment.\n\n\n## :two: B\u1ea1n \u0111\u00e3 c\u00f3 test n\u00e0o ch\u01b0a? N\u1ebfu ch\u01b0a, h\u00e3y vi\u1ebft test ngay - PhpUnit\n\nRefactoring is ngh\u0129a l\u00e0 \"kh\u00f4ng thay \u0111\u1ed5i ho\u1ea1t \u0111\u1ed9ng c\u1ee7a ch\u01b0\u01a1ng tr\u00ecnh\" nh\u01b0ng \"c\u1ea3i thi\u1ec7n \u0111\u01b0\u1ee3c c\u1ea5u tr\u00fac b\u00ean trong\".\n\u0110\u1ec3 ch\u1eafc ch\u1eafn r\u1eb1ng nh\u1eefng h\u00e0nh vi c\u1ee7a ch\u01b0\u01a1ng tr\u00ecnh kh\u00f4ng thay \u0111\u1ed5i. b\u1ea1n kh\u00f4ng th\u1ec3 ch\u1ec9 test m\u1ed9t l\u1ea7n\n\nH\u00e3y b\u1eaft \u0111\u1ea7u test n\u00e0o.\n\nCh\u00fa \u00fd r\u1eb1ng v\u1edbi vi\u1ec7c vi\u1ebft test th\u00ec c\u00f3 m\u1ed9t \u0111i\u1ec1u r\u1ea5t quan tr\u1ecdng l\u00e0 **\"Test ph\u1ea3i d\u1ec5 d\u00e0ng \u0111\u1ec3 vi\u1ebft\"**.\n\n## :three: Refactoring\n\nC\u00f3 m\u1ed9t v\u00e0i k\u1ef9 thu\u1eadt cho m\u1ed7i \"code smell\" ( m\u00f9i c\u1ee7a code ), tuy nhi\u00ean t\u00f4i kh\u00f4ng th\u1ec3 m\u00f4 t\u1ea3 h\u1ebft \u0111\u01b0\u1ee3c, \u1edf workshop n\u00e0y m\u00ecnh ch\u1ec9 gi\u1eef m\u1ecdi th\u1ee9 th\u1eadt \u0111\u01a1n gi\u1ea3n.\n\nB\u1edfi v\u00ec h\u00e0n Upload \u1edf b\u00e0i tr\u01b0\u1edbc c\u00f3 m\u00f9i c\u1ee7a \"method qu\u00e1 d\u00e0i\", h\u00e3y th\u1eed refactor n\u00f3 b\u1eb1ng c\u00e1ch \u00e1p d\u1ee5ng c\u00e1ch \"Chia Method\".\n\n## :four: Test\n\nH\u00e3y ki\u1ec3m tra k\u1ebft qu\u1ea3 b\u1eb1ng c\u00e1ch test sau khi \u0111\u00e3 ho\u00e0n t\u1ea5t refactoring.\n\u0110\u1ec3 vi\u1ebft m\u1ed9t test code t\u1ed1t,\n**\u0110i\u1ec1u quan tr\u1ecdng l\u00e0 nh\u1eefng g\u00ec b\u1ea1n mu\u1ed1n test ph\u1ea3i \u0111\u01b0\u1ee3c ph\u00e2n bi\u1ec7t r\u00f5 r\u00e0ng** N\u1ebfu b\u1ea1n kh\u00f4ng mu\u1ed1n test t\u1ea5t c\u1ea3 m\u1ecdi th\u1ee9.\n\nC\u00e1c test ph\u1ea3i \u0111\u01b0\u1ee3c implement nh\u01b0 l\u00e0 m\u1ed9t \"gi\u00e1 tr\u1ecb gi\u1ea3\", m\u00ecnh s\u1ebd ti\u1ebfp t\u1ee5c test hi\u1ec7u qu\u1ea3 ch\u01b0\u01a1ng tr\u00ecnh.\n\n## :five: Tr\u1edf l\u1ea1i b\u01b0\u1edbc 1\n\nRefactoring c\u1ea7n lu\u00f4n \u0111\u01b0\u1ee3c th\u1ef1c thi.\nH\u00e3y ti\u1ebfp t\u1ee5c l\u00e0m gi\u1ea3m c\u00e1c g\u00e1nh n\u1eb7ng k\u1ef9 thu\u1eadt cho ch\u01b0\u01a1ng tr\u00ecnh.\n\n\n\n## :large_blue_circle: M\u1ee5c l\u1ee5c b\u00e0i h\u1ecdc\n\n- Chu\u1ea9n b\u1ecb\n   - Duy tr\u00ec Branch\n- B\u00e0i 1: Test hi\u1ec3n th\u1ecb link Delete, Detail, n\u00fat checkbox ho\u00e0n t\u1ea5t c\u1ee7a TODO List.\n- B\u00e0i 2: Test hi\u1ec3n th\u1ecb data trong trang TODO detail\n- B\u00e0i 3: Refactoring m\u1ed9t ch\u00fat v\u1ec1 vi\u1ec7c hi\u1ec3n th\u1ecb c\u00e1c data.\n\n\n## :large_blue_circle: Chu\u1ea9n b\u1ecb\n\nPh\u1ea7n chu\u1ea9n b\u1ecb s\u1ebd gi\u1ed1ng nhau \u1edf m\u1ed7i b\u00e0i, v\u00ec v\u1eady t\u00f4i \u0111\u00e3 t\u1ed5ng h\u1ee3p n\u00f3 \u1edf m\u1ed9t entry ri\u00eang. C\u00e1c b\u1ea1n vui l\u00f2ng xem \u1edf link n\u00e0y [All 12 times of study sessions in do I have use of Git - RESTful application workshops will be built on AWS ~ Web development workshop ~ - Qiita](http://qiita.com/k_shimoji/items/6a66dbb93b0553fa7c7f) \u0111\u1ec3 chu\u1ea9n b\u1ecb .\n\n- Git: B\u00e2y gi\u1edd m\u00ecnh s\u1ebd t\u1ea1o branch `vol/10` v\u00e0 l\u00e0m vi\u1ec7c tr\u00ean n\u00f3.\n\nOK, b\u01b0\u1edbc \u0111\u1ea7u \u0111\u00e3 xong\n\n:warning: *** T\u00f4i xin nh\u1eafc l\u1ea1i \u1edf b\u00e0i 5 v\u00e0 b\u00e0i 6, ch\u00fang ta \u0111\u00e3 c\u00f3 nh\u1eefng table b\u1ecb thay \u0111\u1ed5i. ***\n\n- B\u00e0i 5\n  - T\u1ea1o Table d\u00e0nh cho vi\u1ec7c \u0111\u0103ng k\u00fd th\u00e0nh vi\u00ean ( Th\u1ef1c hi\u1ec7n cho ch\u1ee9c n\u0103ng login )\n- B\u00e0i 6\n  - Th\u00eam m\u1ed9t c\u1ed9t cho table TODO list ( Th\u00eam c\u1ed9t Owner v\u00e0 c\u1ed9t assignee cho ch\u1ee9c n\u0103ng ph\u00e2n c\u00f4ng c\u00f4ng vi\u1ec7c)\n\nC\u00e1c b\u1ea1n n\u00ean tham kh\u1ea3o l\u1ea1i c\u00e1c link sau \u0111\u1ec3 r\u00f5 h\u01a1n.\n[T\u1ea1o Table d\u00e0nh cho vi\u1ec7c \u0111\u0103ng k\u00fd th\u00e0nh vi\u00ean](http://qiita.com/Takumi_Kasuga/items/c97e96fb91b83ed68782#t%E1%BA%A1o-table-cho-vi%E1%BB%87c-%C4%91%C4%83ng-k%C3%BD-user)\n[Th\u00eam m\u1ed9t c\u1ed9t cho table TODO list](http://qiita.com/Takumi_Kasuga/items/6d7506f8dc7de511bf14#large_blue_circle-chu%E1%BA%A9n-b%E1%BB%8B)\n\n\nKhi m\u1ecdi th\u1ee9 \u0111\u00e3 xong xu\u00f4i, ch\u00fang ta b\u1eaft \u0111\u1ea7u b\u00e0i 1 n\u00e0o.\n\n## :large_blue_circle: B\u00e0i 1: Test hi\u1ec3n th\u1ecb link Delete, Detail, n\u00fat checkbox ho\u00e0n t\u1ea5t c\u1ee7a TODO List.\n\nB\u1edfi v\u00ec trong logic c\u00f3 m\u1ed9t ch\u00fat \u0111i\u1ec1u ki\u1ec7n c\u00f3 v\u1ea5n \u0111\u1ec1 \u1edf client side, n\u00ean m\u00ecnh s\u1ebd th\u1eed test t\u1ea1i \u0111\u00e2y. Checkbox v\u00e0 c\u00e1c button hi\u1ec3n th\u1ecb nh\u01b0 ph\u1ea7n m\u0169i t\u00ean trong h\u00ecnh \u1ea3nh d\u01b0\u1edbi \u0111\u00e2y l\u00e0 d\u00e0nh cho tr\u01b0\u1eddng h\u1ee3p hi\u1ec3n th\u1ecb cho n\u1ed9i dung c\u1ee7a ch\u00ednh ng\u01b0\u1eddi t\u1ea1o todo.\n\n![todo.png](https://qiita-image-store.s3.amazonaws.com/0/65988/55d7fc67-0967-2a98-eae6-574012114b5c.png \"todo.png\")\n\nChi ti\u1ebft ph\u00e2n quy\u1ec1n\n\n\n| | \u0110\u01b0\u1ee3c ph\u00e2n c\u00f4ng | Kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e2n c\u00f4ng |\n| --- |:---------------------- |:--------------------|\n| Owner | Delete = hi\u1ec7n, details = hi\u1ec7n, Check = \u0110\u01b0\u1ee3c ph\u00e9p | Delete = hi\u1ec7n, detail = hi\u1ec7n, Check = \u0111\u01b0\u1ee3c ph\u00e9p |\n| Kh\u00f4ng ph\u1ea3i owner | Delete = \u1ea9n, detail = hi\u1ec7n, Check = \u0110\u01b0\u1ee3c ph\u00e9p | Delete = \u1ea9n, detail = \u1ea9n, Check = Kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e9p |\n\n\n### Tool \u0111\u1ec3 test\n\n#### mocha\n\n\u0110\u00e2y l\u00e0 m\u1ed9t test framework gi\u00fap b\u1ea1n ch\u1ecdn v\u00e0 ch\u1ea1y c\u00e1c test.\nN\u00f3 y\u00eau c\u1ea7u m\u1ed9t Tool \u0111\u1ec3 x\u00e1c nh\u1eadn, m\u00ecnh s\u1ebd s\u1eed d\u1ee5ng c\u00f4ng c\u1ee5 `chai`.\n\n#### chai \n\n\u0110\u00e2y l\u00e0 c\u00f4ng c\u1ee5 d\u00f9ng \u0111\u1ec3 x\u00e1c nh\u1eadn k\u1ebft qu\u1ea3 test.\nM\u1eb7c \u0111\u1ecbnh c\u1ee7a n\u00f3 \u1edf \u0111\u1ecbnh d\u1ea1ng BDD, tuy nhi\u00ean b\u1ea1n c\u00f3 th\u1ec3 ch\u1ecdn m\u1ed9t k\u00fd hi\u1ec7u \u0111\u1ecbnh d\u1ea1ng TDD, \u1edf b\u00e0i h\u1ecdc n\u00e0y m\u00ecnh s\u1ebd vi\u1ebft test \u1edf BDD method.\n\n#### sinon\n\nTool n\u00e0y d\u00f9ng \u0111\u1ec3 t\u1ea1o ra c\u00e1c mock ho\u1eb7c stub cho vi\u1ec7c test.\n\n#### C\u00e0i \u0111\u1eb7t\n\nCh\u1ea1y c\u00e1c l\u1ec7nh theo h\u01b0\u1edbng d\u1eabn d\u01b0\u1edbi \u0111\u00e2y l\u00e0 OK\n\n```bash:Command\n#lib\ncd /var/www/study/rest-study/app/webroot/js/lib\nwget https://raw.githubusercontent.com/mochajs/mocha/master/mocha.js\nwget https://github.com/chaijs/chai/raw/master/chai.js\nwget http://sinonjs.org/releases/sinon-1.17.2.js\n#css\ncd /var/www/study/rest-study/app/webroot/css\nwget https://github.com/mochajs/mocha/raw/master/mocha.css\n```\n\nV\u1eady l\u00e0 m\u00ecnh \u0111\u00e3 chu\u1ea9n b\u1ecb xong.\n\n### Danh s\u00e1ch file c\u1ea7n s\u1eeda\n\n- app/webroot/clientTest.html\n\t- N\u00f3 s\u1ebd hi\u1ec3n th\u1ecb k\u1ebft qu\u1ea3 th\u1ef1c hi\u1ec7n sau m\u1ed7i l\u1ea7n ch\u1ea1y test.\n- app/webroot/js/test/test-require-config.js\n\t- T\u1ea1o require cho vi\u1ec7c test\n- app/webroot/js/test/setup.js\n\t- \u0110\u1ecdc test, thi\u1ebft \u0111\u1eb7t c\u00e1c tool\n- app/webroot/js/test/tests.js\n\t- Ch\u1ea1y test\n- app/webroot/js/test/test-todo-item-view.js\n\t- vi\u1ebft test code\n- app/webroot/js/test/test-login.js\n\t- Test c\u00e1c v\u1ea5n \u0111\u1ec1 li\u00ean quan \u0111\u1ebfn \u0111\u0103ng nh\u1eadp\n\n#### app/webroot/clientTest.html\n\n```html\n<html>\n  <head>\n\t<meta charset=\"utf-8\"/>\n\t<title>TodoList Tests</title>\n\t<link rel=\"stylesheet\" href=\"css/mocha.css\"/>\n  </head>\n  <body>\n\t<div id=\"mocha\"></div>\n\t<script type=\"text/javascript\" src=\"js/require-config.js\"></script>\n\t<script type=\"text/javascript\" src=\"js/test/test-require-config.js\"></script>\n\t<script type=\"text/javascript\" src=\"js/lib/require.js\" data-main=\"test/setup.js\"></script>\n  </body>\n</html>\n```\n\n- `require-config.js`\n\t- File C\u1ea5u h\u00ecnh c\u1ee7a require.js s\u1ebd s\u1eed d\u1ee5ng trong c\u1ea3 ch\u01b0\u01a1ng tr\u00ecnh. Gi\u1ea3i quy\u1ebft s\u1ef1 ph\u1ee5 thu\u1ed9c.\n- `test-require-config.js`\n\t- \u0110\u00e2y c\u0169ng l\u00e0 thi\u1ebft l\u1eadp c\u1ee7a require.js. B\u1ea1n s\u1ebd ph\u1ea3i th\u00eam thi\u1ebft l\u1eadp cho test.\n- `data-main=\"test/setup.js\"`\n\t- X\u00e1c \u0111\u1ecbnh c\u00e1c ho\u1ea1t \u0111\u1ed9ng c\u1ee7a js\n\n:warning: Ph\u1ea7n n\u00e0y g\u1ea7n gi\u1ed1ng nh\u01b0 `default.ctp` c\u1ee7a todo app. \n\n\n#### app/webroot/js/test/test-require-config.js\n\n```js\nrequire.paths.mocha = 'lib/mocha';\nrequire.paths.chai = 'lib/chai';\nrequire.paths.sinon = 'lib/sinon-1.17.2';\nrequire.shim.mocha = {\n\tinit: function () {\n\t\tthis.mocha.setup('bdd');\n\t\treturn this.mocha;\n\t}\n};\n```\n\n- `require.paths.mocha = 'lib/mocha';`\n\t- Ch\u00fang ta s\u1ebd thi\u1ebft l\u1eadp path c\u1ee7a mocha. V\u00ec  `app/webroot/js/require-config.js` \u0111\u00e3 c\u00f3 s\u1eb5n thi\u1ebft l\u1eadp `require.paths` r\u1ed3i n\u00ean m\u00ecnh ch\u1ec9 c\u1ea7n vi\u1ebft v\u1eady l\u00e0 s\u1ebd th\u00eam \u0111\u01b0\u1ee3c mocha v\u00e0o.\n\t- chai, sinon s\u1ebd \u0111\u01b0\u1ee3c thi\u1ebft l\u1eadp chung paths.\n\n\n#### app/webroot/js/test/setup.js\n\n```js\nrequire([\n\t'mocha',\n\t'chai',\n\t'marionette',\n], function (mocha, chai) {\n\trequire([\n\t\t'js/test/tests.js'\n\t], function () {\n\t\tchai.should();\n\t\tmocha.run();\n\t});\n});\n```\n\nmocha, chai \u0111\u00e3 \u0111\u01b0\u1ee3c \u0111\u1ecdc (require), b\u00e2y gi\u1edd ch\u00fang ta s\u1ebd \u0111\u1ecdc file js/test/tests.js (test code) v\u1edbi c\u00e1c nested require, m\u00ecnh s\u1ebd kh\u1edfi tao \u0111\u1ec3 ch\u1ea1y test code sau khi ch\u1ea1y h\u00e0m  `mocha.run()`.\n\n#### app/webroot/js/test/tests.js\n\n```js:app/webroot/js/test/tests.js\ndefine(function (require) {\n\t//doc file\n\tvar testTodoItemView = require('js/test/test-todo-item-view.js');\n\t//chay test\n\ttestTodoItemView();\n});\n```\n\nCh\u00fang ta s\u1ebd ch\u1ea1y test. V\u00ec test th\u1ef1c s\u1ef1 \u0111\u00e3 \u0111\u01b0\u1ee3c m\u00f4 t\u1ea3 \u1edf `js/test/test-todo-item-view.js`, h\u00e3y vi\u1ebft n\u00f3 theo nh\u1eefng g\u00ec b\u1ea1n mu\u1ed1n ch\u1ea1y b\u1eb1ng require.\nSau khi t\u0103ng s\u1ed1 l\u01b0\u1ee3ng test module, m\u00ecnh s\u1ebd vi\u1ebft test code \u0111\u1ec3 th\u00eam m\u1ed9t d\u00f2ng \"run\" trong require v\u00e0 h\u00e0m test \u0111\u1ec3 ch\u1ea1y \u1edf file n\u00e0y.\n\n#### app/webroot/js/test/test-todo-item-view.js\n\n```js:app/webroot/js/test/test-todo-item-view.js\ndefine(function(require){\n\tvar TodoItemView = require('views/todo-item-view');\n\tvar TodoModel = require('models/todo-model');\n\tvar loginTest = require('test/test-login');\n\treturn function(){\n\t\tdescribe(\"TODO\u4e00\u89a7\u8868\u793a\u306e\u524a\u9664\u30ea\u30f3\u30af\u3001\u8a73\u7d30\u30ea\u30f3\u30af\u3001\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u8868\u793a\u30c6\u30b9\u30c8\", function () {\n\t\t\tdescribe(\"\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af\", function () {\n\t\t\t\tit('\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af', function (done) {\n\t\t\t\t\tloginTest(done);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tdescribe(\"\u30aa\u30fc\u30ca\u304b\u3064\u62c5\u5f53\u8005\u306e\u5834\u5408\", function () {\n\t\t\t\tit(\"\u524a\u9664\u30ea\u30f3\u30af O / \u8a73\u7d30\u30ea\u30f3\u30af O / \u30c1\u30a7\u30c3\u30af O\", function () {\n\t\t\t\t\titemView = _createAndRenderTodoItemView(true, true);\n\t\t\t\t\t//\u524a\u9664\u30ea\u30f3\u30af\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\t\t\t\t\titemView.ui.removeLink.css('display').should.be.equals('');\n\t\t\t\t\t//\u8a73\u7d30\u30ea\u30f3\u30af\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\t\t\t\t\titemView.ui.detailLink.css('display').should.be.equals('');\n\t\t\t\t\t//\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u62bc\u305b\u308b\n\t\t\t\t\titemView.ui.checkBox.prop('disabled').should.be.equals(false);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tdescribe(\"\u30aa\u30fc\u30ca\u3060\u304c\u62c5\u5f53\u8005\u3067\u306f\u306a\u3044\u5834\u5408\", function () {\n\t\t\t\tit(\"\u524a\u9664\u30ea\u30f3\u30af O / \u8a73\u7d30\u30ea\u30f3\u30af O / \u30c1\u30a7\u30c3\u30af O\", function () {\n\t\t\t\t\tvar itemView = _createAndRenderTodoItemView(true, false);\n\t\t\t\t\t//\u524a\u9664\u30ea\u30f3\u30af\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\t\t\t\t\titemView.ui.removeLink.css('display').should.be.equals('');\n\t\t\t\t\t//\u8a73\u7d30\u30ea\u30f3\u30af\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\t\t\t\t\titemView.ui.detailLink.css('display').should.be.equals('');\n\t\t\t\t\t//\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u62bc\u305b\u308b\n\t\t\t\t\titemView.ui.checkBox.prop('disabled').should.be.equals(false);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tdescribe(\"\u30aa\u30fc\u30ca\u3067\u306f\u306a\u3044\u304c\u62c5\u5f53\u8005\u306e\u5834\u5408\", function () {\n\t\t\t\tit(\"\u524a\u9664\u30ea\u30f3\u30af X / \u8a73\u7d30\u30ea\u30f3\u30af O / \u30c1\u30a7\u30c3\u30af O\", function () {\n\t\t\t\t\tvar itemView = _createAndRenderTodoItemView(false, true);\n\t\t\t\t\t//\u524a\u9664\u30ea\u30f3\u30af\u304c\u975e\u8868\u793a(display=none)\u306b\u306a\u3063\u3066\u3044\u308b\n\t\t\t\t\titemView.ui.removeLink.css('display').should.be.equals('none');\n\t\t\t\t\t//\u8a73\u7d30\u30ea\u30f3\u30af\u8868\u793a\u3055\u308c\u3066\u3044\u308b\n\t\t\t\t\titemView.ui.detailLink.css('display').should.be.equals('');\n\t\t\t\t\t//\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u62bc\u305b\u308b\n\t\t\t\t\titemView.ui.checkBox.prop('disabled').should.be.equals(false);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdescribe(\"\u30aa\u30fc\u30ca\u3067\u3082\u306a\u304f\u62c5\u5f53\u8005\u3067\u3082\u306a\u3044\u5834\u5408\", function () {\n\t\t\t\tit(\"\u524a\u9664\u30ea\u30f3\u30af X / \u8a73\u7d30\u30ea\u30f3\u30af X / \u30c1\u30a7\u30c3\u30af X\", function () {\n\t\t\t\t\tvar itemView = _createAndRenderTodoItemView(false, false);\n\t\t\t\t\t//\u524a\u9664\u30ea\u30f3\u30af\u304c\u975e\u8868\u793a(display=none)\u306b\u306a\u3063\u3066\u3044\u308b\n\t\t\t\t\titemView.ui.removeLink.css('display').should.be.equals('none');\n\t\t\t\t\t//\u8a73\u7d30\u30ea\u30f3\u30af\u304c\u975e\u8868\u793a(display=none)\u306b\u306a\u3063\u3066\u3044\u308b\n\t\t\t\t\titemView.ui.detailLink.css('display').should.be.equals('none');\n\t\t\t\t\t//\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u304c\u62bc\u305b\u306a\u3044(disabled=true)\n\t\t\t\t\titemView.ui.checkBox.prop('disabled').should.be.equals(true);\n\t\t\t\t});\n\t\t\t});\n\t\t\t//utility\n\t\t\tfunction _createAndRenderTodoItemView(owned, assigned){\n\t\t\t\t//\u30b5\u30fc\u30d0\u304b\u3089\u53d7\u4fe1\u3059\u308b\u30c7\u30fc\u30bf\n\t\t\t\tdata = {\n\t\t\t\t\tTodoList: {\n\t\t\t\t\t\tid: \"1\",\n\t\t\t\t\t\ttodo: \"do somothing\",\n\t\t\t\t\t\tstatus: \"0\",\n\t\t\t\t\t\towned: owned,\n\t\t\t\t\t\tassigned: assigned\n\t\t\t\t\t},\n\t\t\t\t\tOwner: {\n\t\t\t\t\t\tid: \"1\",\n\t\t\t\t\t\tname: \"anonymous\"\n\t\t\t\t\t},\n\t\t\t\t\tAssignee: {\n\t\t\t\t\t\tid: \"1\",\n\t\t\t\t\t\tname: \"anonymous\"\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t//\u30b5\u30fc\u30d0\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092parse\u3057\u3066model\u751f\u6210\n\t\t\t\tvar model = new TodoModel(data, {parse: true});\n\t\t\t\t//\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3002\u30c6\u30b9\u30c8\u5bfe\u8c61\u306e\u307f\n\t\t\t\tvar template =\n\t\t\t\t\t'<div>' +\n\t\t\t\t\t'  <a class=\"remove-link\">\u524a\u9664</a>' +\n\t\t\t\t\t'  <a class=\"detail-link\">\u8a73\u7d30</a>' +\n\t\t\t\t\t'  <input type=\"checkbox\" class=\"toggle\"></input>' +\n\t\t\t\t\t'</div>';\n\t\t\t\t//model\u3068template\u3092\u6e21\u3057\u3066view\u3092\u751f\u6210\n\t\t\t\tvar view = new TodoItemView({\n\t\t\t\t\tmodel: model,\n\t\t\t\t\t//template : $(template)\n\t\t\t\t});\n\t\t\t\t//\u8868\u793a\u307e\u3067\u3057\u3066\u304b\u3089return\n\t\t\t\tview.template = $(template);\n\t\t\t\tview.render();\n\n\t\t\t\treturn view;\n\t\t\t}\n\t\t});\n\t}\n});\n```\n\n\u0110\u00e2y l\u00e0 test code ch\u00ednh. Nh\u1eefng g\u00ec ch\u00fang ta \u0111ang th\u1ef1c hi\u1ec7n c\u00f3 th\u1ec3 t\u00f3m t\u1eaft nh\u01b0 sau,\n\n- \u0110\u0103ng nh\u1eadp\n- \u0110\u1ecdc file `views/todo-item-view` \u0111\u1ec3 hi\u1ec3n th\u1ecb giao di\u1ec7n\n- Ch\u1ea1y 4 code block ( sau \u0111\u00e2y l\u00e0 c\u00e1c \u0111i\u1ec1u ki\u1ec7n c\u1ee7a testcase t\u01b0\u01a1ng \u1ee9ng ) b\u1eaft \u0111\u1ea7u v\u1edbi `describe`.\n\t- Tr\u01b0\u1eddng h\u1ee3p l\u00e0 owner ho\u1eb7c assignee.\n        - Tr\u01b0\u1eddng h\u1ee3p kh\u00f4ng ph\u1ea3i owner nh\u01b0ng l\u00e0 assignee.\n        - Kh\u00f4ng ph\u1ea3i owner hay asssignee\n        - N\u1ebfu kh\u00f4ng ph\u1ea3i owner hay Assignee\n\nChi ti\u1ebft t\u1eebng test code\n\n- G\u1ed3m c\u00e1c c\u00fa ph\u00e1p b\u1eaft \u0111\u1ea7u b\u1eb1ng `describe` trong test code. \n\t- Mi\u00eau t\u1ea3 \u0111\u1ed1i t\u01b0\u1ee3ng c\u1ea7n test b\u1eb1ng `describe`\n\t- \u1ede `it` b\u1ea1n s\u1ebd vi\u1ebft code \u0111\u1ec3 th\u1ef1c hi\u1ec7n test code \u0111\u1ec3 x\u00e1c nh\u1eadn k\u1ebft qu\u1ea3. \u0110\u00e2y l\u00e0 ph\u1ea7n body c\u1ee7a the test.\n\t\t- `it m\u00ecnh c\u00f3 th\u1ec3 vi\u1ebft v\u00e0o (test) n\u00ean l\u00e0 ~`\n\t\t- T\u1ea1i \u0111\u00e2y, Model cho vi\u1ec7c hi\u1ec3n th\u1ecb TODO, b\u1eb1ng c\u00e1ch thay \u0111\u1ed5i gi\u00e1 tr\u1ecb c\u1ee7a `owned` v\u00e0 `assigned` \u0111\u1ec3 hi\u1ec3n th\u1ecb view, delete button, detail button, ngo\u00e0i ra c\u00f2n test xem ch\u00fang ta kh\u00f4ng th\u1ec3 hay c\u00f3 th\u1ec3 check v\u00e0o checkbox.\n\t- \u0110\u1ec3 sinh ra view t\u00f4i \u0111\u00e3 th\u1ef1c hi\u1ec7n \u1edf h\u00e0m `_createAndRenderTodoItemView`.\n\t\t- Gi\u00e1 tr\u1ecb s\u1ebd \u0111\u01b0\u1ee3c set cho `owned` v\u00e0 `assignee`, c\u00e1c argument b\u1eaft \u0111\u1ea7u \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh.\n\t\t- Template t\u1ea1i th\u1eddi \u0111i\u1ec3m sinh ra view \u0111\u1ec3 thi\u1ebft l\u1eadp c\u00e1c th\u1ee9 trong DOM, hi\u1ec3n th\u1ecb delete button, detail button, c\u00f3 th\u1ec3 set checkbox \u1edf DOM template.\n\n\n#### app/webroot/js/test/test-login.js\n\n```js:app/webroot/js/test/test-login.js\u2028define(function (require) {\n\tvar UserModel = require('models/user-model');\n\n\tvar userModel = new UserModel();\n\treturn function login(done){\n\t\tif (!userModel.isLoggedIn()) {\n\t\t\tuserModel.login(\n\t\t\t\t'yamada',   //DB\u767b\u9332\u30c7\u30fc\u30bf\u306b\u5408\u308f\u305b\u308b\n\t\t\t\t'test',\t\t//DB\u767b\u9332\u30c7\u30fc\u30bf\u306b\u5408\u308f\u305b\u308b\n\t\t\t\tfunction success(message) {\n\t\t\t\t\tconsole.info(\"logged in!\")\n\t\t\t\t\tdone();\n\t\t\t\t},\n\t\t\t\tfunction error(message) {\n\t\t\t\t\tdone('login error! ' + '\\n' + message);\n\t\t\t\t}\n\t\t\t)\n\t\t} else {\n\t\t\t//\u30ed\u30b0\u30a4\u30f3\u6e08\u307f\u306a\u3089\u7d42\u4e86\n\t\t\tconsole.info('\u30ed\u30b0\u30a4\u30f3\u6e08\u307f');\n\t\t\tdone();\n\t\t}\n\t}\n});\n```\n\n- Ch\u1ea1y login API \u0111\u1ec3 \u0111\u0103ng nh\u1eadp v\u00e0o server.\n   - X\u00e1c \u0111\u1ecbnh User name, password, set theo \u0111i\u1ec1u ki\u1ec7n b\u1ea1n c\u1ea7n test.\n   - Sau khi \u0111\u0103ng nh\u1eadp th\u00e0nh c\u00f4ng, ch\u1ea1y h\u00e0m done() \u0111\u1ec3 k\u1ebft th\u00fac test.\n\n:warning: v\u1ec1 h\u00e0m `done`\n\nB\u1eb1ng vi\u1ec7c ch\u1ea1y h\u00e0m done trong h\u00e0m `it`, b\u1ea1n c\u00f3 th\u1ec3 k\u1ebft th\u00fac vi\u1ec7c th\u1ef1c thi test.\nB\u1ea3n th\u00e2n h\u00e0m `it` c\u0169ng s\u1ebd b\u1ecb b\u1ecf qua n\u1ebfu \u0111ang ch\u1ea1y `userModel.login` tuy nhi\u00ean, h\u00e0m done \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n sau khi h\u00e0m `success` \u0111\u01b0\u1ee3c th\u1ef1c thi c\u1ee7a h\u00e0m callback \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh trong `userModel.login`.\nV\u00ec h\u00e0m test khi k\u1ebft th\u00fac \u0111\u00e3 t\u1ef1 \u0111\u1ed9ng ch\u1ea1y h\u00e0m done , test s\u1ebd \u0111\u01b0\u1ee3c ch\u1ea1y ti\u1ebfp cho \u0111\u1ebfn khi n\u00e0o b\u1ea1n call h\u00e0m asynchronous callback function b\u1eb1ng c\u01a1 ch\u1ebf n\u00e0y.\n\nN\u00f3 gi\u1ed1ng nh\u1eefng g\u00ec m\u00ecnh \u0111\u00e3 th\u1ef1c hi\u1ec7n \u1edf file `app/webroot/js/test/test-todo-item-view.js` tr\u01b0\u1edbc \u0111\u00f3 ,\n\n```js:app/webroot/js/test/test-todo-item-view.js\n\n\u301c\u7701\u7565\u301c\n\t\tdescribe(\"TODO\u4e00\u89a7\u8868\u793a\u306e\u524a\u9664\u30ea\u30f3\u30af\u3001\u8a73\u7d30\u30ea\u30f3\u30af\u3001\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u8868\u793a\u30c6\u30b9\u30c8\", function () {\n\t\t\tdescribe(\"\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af\", function () {\n\t\t\t\tit('\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af', function (done) {\n\t\t\t\t\tloginTest(done);\n\t\t\t\t});\n\t\t\t});\n\u301c\u7701\u7565\u301c\n```\n\nGi\u1ed1ng nh\u01b0 ch\u00fang ta \u0111ang ch\u1ea1y h\u00e0m logintTest. Truy\u1ec1n argument `done` c\u1ee7a n\u00f3 v\u00e0o h\u00e0m loginTest, h\u00e3y t\u1ea1o flow sao cho h\u00e0m done ch\u1ec9 th\u1ef1c hi\u1ec7n n\u1ed9i b\u1ed9.\n\n\n\n### Ch\u1ea1y test\n\nTruy c\u1eadp link\nhttp://(PublicIp)/rest-study/clientTest.html\n\n:warning: C\u00e1c k\u1ebft c\u1ee7a c\u1ee7a b\u00e0i n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c show nh\u01b0 d\u01b0\u1edbi \u0111\u00e2y.\n\n![test.png](https://qiita-image-store.s3.amazonaws.com/0/65988/cd5302c5-dec7-eb10-1bc3-7989af25946c.png \"test.png\")\n\nKhi m\u1ecdi th\u1ee9 \u0111\u00e3 OK, h\u00e3y commit l\u00ean Git.\n\n**:warning: Hi\u1ec3n th\u1ecb d\u1ea1ng Diff tr\u00ean GitHub**\n\n\n[\u7b2c11\u56de Lesson1 TODO\u4e00\u89a7\u8868\u793a\u306e\u524a\u9664\u30ea\u30f3\u30af\u3001\u8a73\u7d30\u30ea\u30f3\u30af\u3001\u5b8c\u4e86\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306e\u8868\u793a\u30c6\u30b9\u30c8 \u00b7 suzukishouten-study/rest-study@728ff09](https://github.com/suzukishouten-study/rest-study/commit/728ff099c69f288728e86b939001a7791bfa1a4b)\n\nSang b\u00e0i 2 n\u00e0o !\n\n\n## :large_blue_circle: B\u00e0i 2: Test hi\u1ec3n th\u1ecb data trong trang TODO detail\n\nT\u00f4i \u0111\u00e3 n\u00f3i r\u1eb1ng code n\u00e0y c\u00f3 c\u00e1c m\u00f9i \u1edf javascript, n\u00f3 s\u1ebd d\u1eabn \u0111\u1ebfn c\u00e1c \" \u0111\u1ecba ng\u1ee5c callback\" . \u0110\u1ec3 refactor c\u00e1c ph\u1ea7n s\u1eed d\u1ee5ng callback, \u0111\u1ea7u ti\u00ean l\u00e0 vi\u1ebft test \u1edf b\u00e0i 2 n\u00e0y.\n\n- Event \u0111\u01b0\u1ee3c \u0111i\u1ec1u khi\u1ec3n b\u1edfi `ListenTo` - S\u1ebd thay \u0111\u1ed5i th\u00e0nh \u0111i\u1ec1u khi\u1ec3n b\u1edfi h\u00e0m callback > success \n- M\u00ecnh mu\u1ed1n n\u00f3 th\u1ef1c hi\u1ec7n vi\u1ec7c chuy\u1ec3n sang m\u00e0n h\u00ecnh hi\u1ec3n th\u1ecb kh\u00e1c khi \u0111ang thu th\u1eadp TODO list ho\u1eb7c userlist c\u1ea3 2 \u0111\u1ec1u \u0111\u00e3 ho\u00e0n t\u1ea5t.\n\nHo\u00e0n t\u1ea5t b\u00e0i 2.\nLogo hi\u1ec3n th\u1ecb c\u1ee7a m\u00e0n h\u00ecnh TODO detail hi\u1ec7n t\u1ea1i \u0111ang s\u1eed d\u1ee5ng nh\u01b0 sau.\n\n```js:app/webroot/js/views/todo-detail-layout-view.js\n//\u8a73\u7d30\u753b\u9762\u7528\u30ec\u30a4\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\ndefine(function(require) {\n    var TodoDetailItemView = require('views/todo-detail-item-view');\n    var TodoModel = require('models/todo-model');\n    var UserCollection = require('collections/user-collection');\n\n\tvar TodoDetailLayoutView = Marionette.LayoutView.extend({\n\t\t//\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\t\ttemplate : '#todo-detail-layout-template',\n\n\t\tregions : {\n\t\t\titemRegion : '#todo-item',\n\t\t},\n\n\t\tonRender : function() {\n\t\t\tthis.userCollection = new UserCollection();\n\t\t\tthis.listenToOnce(this.userCollection, 'reset', this.onLoadUsers, this);\n\t\t\tthis.userCollection.fetch({\n\t\t\t\treset : true\n\t\t\t});\n\t\t},\n\n\t\tonLoadUsers : function(userCollection){\n \t\t\tvar todoModel = new TodoModel({\n \t\t\t\tid : this.options.modelId\n \t\t\t});\n \t\t\t//\u30e2\u30c7\u30eb\u306e\u30b5\u30fc\u30d0\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53d6\u5f97\u5b8c\u4e86\u6642\u3001\u63cf\u753b\u3092\u884c\u3046\n\t\t\tthis.listenToOnce(todoModel, 'sync', this.showItem, this);\n \t\t\t//\u30b5\u30fc\u30d0\u304b\u3089\u30c7\u30fc\u30bf\u53d6\u5f97\n \t\t\ttodoModel.fetch({\n \t\t\t\twait : true\n \t\t\t});\n \t\t},\n\n \t\tshowItem : function(todoModel) {\n \t\t\tthis.itemRegion.show(new TodoDetailItemView({\n \t\t\t\tmodel : todoModel,\n \t\t\t\tuserList : this.userCollection.models\n \t\t\t}));\n \t\t},\n\n\t});\n\treturn TodoDetailLayoutView;\n});\n```\n\n1. L\u1ea5y user list b\u1eb1ng h\u00e0m `onRender`, sau khi nh\u1eadn ph\u1ea3n h\u1ed3i th\u00e0nh c\u00f4ng t\u1eeb server, ch\u1ea1y h\u00e0m `onLoadUsers`.\n2. \u1ede h\u00e0m `onLoadUsers` \u0111\u1ec3 l\u1ea5y danh s\u00e1ch TOTO, sau khi nh\u1eadn ph\u1ea3n h\u1ed3i th\u00e0nh c\u00f4ng t\u1eeb server m\u00ecnh ch\u1ea1y h\u00e0m ` showItem`.\n3. \u1ede h\u00e0m `shoItem`, m\u00ecnh s\u1ebd sinh ra v\u00e0 hi\u1ec3n th\u1ecb theo ItemView.\n\nV\u00e0 n\u00f3 s\u1ebd nh\u01b0 sau \u0111\u00e2y, nh\u01b0ng \u0111\u00e2y ch\u1ec9 l\u00e0 sau b\u00e0i 1 v\u00e0 b\u00e0i 2, ph\u1ea7n handling s\u1ebd \u1edf b\u00e0i 3.\n\u1ede giai \u0111o\u1ea1n tr\u01b0\u1edbc trong b\u00e0i 2, s\u1ef1 th\u1eadt l\u00e0 \"b\u00e0i 3 th\u00ec h\u00e0m `showItem` s\u1ebd \u0111\u01b0\u1ee3c th\u1ef1c thi\" s\u1ebd ho\u00e0n t\u1ea5t, m\u00ecnh \u0111\u00e3 \u0111\u1ee7 c\u01a1 s\u1edf \u0111\u1ec3 test.\n\n### Danh s\u00e1ch c\u00e1c file c\u1ea7n ch\u1ec9nh s\u1eeda\n\n- app/webroot/js/test/test-todo-detail-layout-view.js\n\t- test code\n- app/webroot/js/test/tests.js\n\t- ch\u1ea1y test\n\n#### app/webroot/js/test/test-todo-detail-layout-view.js\n\n```js:app/webroot/js/test/test-todo-detail-layout-view.js\ndefine(function(require){\n\tvar sinon = require('sinon');\n\tvar TodoDetailLayoutView = require('views/todo-detail-layout-view');\n\tvar TodoModel = require('models/todo-model');\n\tvar loginTest = require('test/test-login');\n\treturn function () {\n\t\tdescribe(\"TODO\u8a73\u7d30\u306e\u8868\u793a\u30c7\u30fc\u30bf\u53d6\u5f97\u30c6\u30b9\u30c8\", function () {\n\t\t\tit('\u30ed\u30b0\u30a4\u30f3\u30c1\u30a7\u30c3\u30af', function (done) {\n\t\t\t\tloginTest(done);\n\t\t\t});\n\n\t\t\tit(\"Todo\u3068\u30e6\u30fc\u30b6\u4e00\u89a7\u53d6\u5f97\", function (done) {\n\t\t\t\tvar layoutView = _createTodoDetailLayoutView();\n\t\t\t\tsinon.stub(layoutView, 'showItem', function (todoModel) {\n\t\t\t\t\ttodoModel.should.be.ok;\n\t\t\t\t\tlayoutView.showItem.restore();\n\t\t\t\t\tdone();\n\t\t\t\t});\n\t\t\t\tlayoutView.render();\n\t\t\t});\n\n\t\t\t//utility\n\t\t\tfunction _createTodoDetailLayoutView(data) {\n\t\t\t\t//\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\t\t\t\tvar template = '<div><div></div></div>';\n\t\t\t\t//model\u3068template\u3092\u6e21\u3057\u3066view\u3092\u751f\u6210\n\t\t\t\tvar view = new TodoDetailLayoutView({\n\t\t\t\t\ttemplate: $(template),\n\t\t\t\t\tmodelId: 1\n\t\t\t\t});\n\t\t\t\treturn view;\n\t\t\t}\n\t\t});\n\t}\n});\n```\n\nS\u1eed d\u1ee5ng `sinon.stub`, m\u00ecnh s\u1ebd t\u1ea1o ra stub cho h\u00e0m `showItem`.\n\u1ede stub, c\u01a1 b\u1ea3n b\u1edfi v\u00ec m\u00ecnh ch\u1ec9 check m\u1ed7i nh\u1eefng stub \u0111\u01b0\u1ee3c th\u1ef1c thi, argument s\u1ebd l\u00e0 m\u1ecdi th\u1ee9 ch\u1ec9 OK n\u1ebfu m\u00ecnh check kh\u00f4ng c\u00f3 gi\u00e1 tr\u1ecb null.\n\n#### app/webroot/js/test/tests.js\n\n```diff:app/webroot/js/test/tests.js\n define(function (require) {\n \t//\u8aad\u307f\u8fbc\u307f\n \tvar testTodoItemView = require('js/test/test-todo-item-view.js');\n+\tvar testTodoDetailLayoutView = require('js/test/test-todo-detail-layout-view.js');\n \t//\u5b9f\u884c\n \ttestTodoItemView();\n+\ttestTodoDetailLayoutView();\n });\n```\n\nT\u1ea1o m\u1edbi file `test-todo-detail-layout-view.js` \u0111\u1ec3 th\u1ef1c hi\u1ec7n test.\n\n\nKhi \u0111\u00e3 th\u00eam test, h\u00e3y ch\u1ea1y.\n\nN\u1ebfu m\u1ecdi th\u1ee9 \u0111\u00e3 \u1ed5n, h\u00e3y commit l\u00ean Git.\n**:warning: Hi\u1ec3n th\u1ecb d\u1ea1ng Diff tr\u00ean GitHub**\n\n[\u7b2c11\u56de Lesson2 TODO\u8a73\u7d30\u306e\u8868\u793a\u30c7\u30fc\u30bf\u53d6\u5f97\u30c6\u30b9\u30c8 \u00b7 suzukishouten-study/rest-study@5c7b38a](https://github.com/suzukishouten-study/rest-study/commit/5c7b38a5142c73d130f74a96358d1067aa5525ad)\nLesson3\u3078!\n\n## :large_blue_circle: B\u00e0i 3+ Refactor m\u1ed9t ch\u00fat v\u1ec1 vi\u1ec7c hi\u1ec3n th\u1ecb data detail\n\nKhi testcode \u0111\u01b0\u1ee3c th\u00eam v\u00e0o, m\u00ecnh s\u1ebd refactor \u1edf B\u00e0i 3.\nSau khi ch\u1ec9nh s\u1eeda, h\u00e3y ch\u1ea1y test m\u1ed9t l\u1ea7n n\u1eefa.\n\n### Danh s\u00e1ch file c\u1ea7n ch\u1ec9nh s\u1eeda\n\n- app/webroot/js/views/todo-detail-layout-view.js\n\t- Refactoring code c\u1ee7a c\u00e1c \u0111\u1ed1i t\u01b0\u1ee3ng\n\n#### app/webroot/js/views/todo-detail-layout-view.js\n\n```\n//\u8a73\u7d30\u753b\u9762\u7528\u30ec\u30a4\u30a2\u30a6\u30c8\u30d3\u30e5\u30fc\ndefine(function(require) {\n\tvar TodoDetailItemView = require('views/todo-detail-item-view');\n\tvar TodoModel = require('models/todo-model');\n\tvar UserCollection = require('collections/user-collection');\n\n\tvar TodoDetailLayoutView = Marionette.LayoutView.extend({\n\t\t//\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n\t\ttemplate : '#todo-detail-layout-template',\n\n\t\tregions : {\n\t\t\titemRegion : '#todo-item',\n\t\t},\n\n\t\tonRender: function () {\n\t\t\t//Todo\u3092\u53d6\u5f97\n \t\t\tthis.todoModel = new TodoModel({\n \t\t\t\tid : this.options.modelId\n \t\t\t});\n \t\t\tvar todoFetching = this.todoModel.fetch();\n\t\t\t//\u30e6\u30fc\u30b6\u4e00\u89a7\u53d6\u5f97\n\t\t\tvar userCollection = new UserCollection();\n\t\t\tvar userFetching = userCollection.fetch();\n\t\t\t$.when(\n\t\t\t\ttodoFetching,\n\t\t\t\tuserFetching\n\t\t\t).done(function(){\n\t\t\t\tthis.showItem(this.todoModel, userCollection);\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tshowItem: function (todoModel, userCollection) {\n \t\t\tthis.itemRegion.show(new TodoDetailItemView({\n \t\t\t\tmodel : todoModel,\n \t\t\t\tuserList : userCollection.models\n \t\t\t}));\n \t\t},\n\n\t});\n\treturn TodoDetailLayoutView;\n});\n```\n\nNh\u01b0 \u0111\u00e3 m\u00f4 t\u1ea3 \u1edf b\u00e0i 2, flow c\u1ee7a m\u00ecnh nh\u01b0 sau.\n\n1. L\u1ea5y user list b\u1eb1ng h\u00e0m `onRender`, sau khi nh\u1eadn ph\u1ea3n h\u1ed3i th\u00e0nh c\u00f4ng t\u1eeb server, ch\u1ea1y h\u00e0m `onLoadUsers`.\n2. \u1ede h\u00e0m `onLoadUsers` \u0111\u1ec3 l\u1ea5y danh s\u00e1ch TOTO, sau khi nh\u1eadn ph\u1ea3n h\u1ed3i th\u00e0nh c\u00f4ng t\u1eeb server m\u00ecnh ch\u1ea1y h\u00e0m ` showItem`.\n3. \u1ede h\u00e0m `shoItem`, m\u00ecnh s\u1ebd sinh ra v\u00e0 hi\u1ec3n th\u1ecb theo ItemView.\n\nB\u00e2y gi\u1edd,\n\n1. \u1ede h\u00e0m `onRender`, l\u1ea5y user list. Tr\u1ef1 ti\u1ebfp l\u1ea5y TOTO list tr\u01b0\u1edbc khi c\u00f3 ph\u1ea3n h\u1ed3i t\u1eeb server.\n2. m\u00ecnh d\u00f9ng `when` trong jQuery, s\u1eed d\u1ee5ng c\u01a1 ch\u1ebf c\u1ee7a `done` \u0111\u1ec3 ch\u1ea1y h\u00e0m `showItem` t\u1ea1i th\u1eddi \u0111i\u1ec3m m\u00e0 nh\u01b0 \u0111\u00e3 n\u00f3i \u1edf b\u00e0i 1 \"L\u1ea5y to\u00e0n b\u1ed9 danh s\u00e1ch TODO list v\u00e0 users list \u0111\u00e3 ho\u00e0n th\u00e0nh c\u1ea3 2\" .\n\nFlow \u0111\u00e3 \u0111\u01b0\u1ee3c thay \u0111\u1ed5i nh\u01b0 tr\u00ean.\n\n:warning: T\u00f4i \u0111\u00e3 vi\u1ebft\u300c`when`,`done` c\u1ee7a jQuery\u300d, ch\u00ednh x\u00e1c h\u01a1n l\u00e0 t\u00f4i \u0111\u00e3 s\u1eed d\u1ee5ng nh\u1eefng th\u1ee9 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 `jQuery.Deferred`.\n\u0110\u1ecbnh ngh\u0129a chi ti\u1ebft \u1edf d\u01b0\u1edbi \u0111\u00e2y, b\u00e0i vi\u1ebft kh\u00e1 hay n\u00ean t\u00f4i d\u1eabn link tr\u1ef1c ti\u1ebfp lu\u00f4n\n[\u7206\u901f\u3067\u308f\u304b\u308bjQuery.Deferred\u8d85\u5165\u9580 - Yahoo! JAPAN Tech Blog](http://techblog.yahoo.co.jp/programming/jquery-deferred/)\n\n:warning: `UserCollection` l\u00fac \u0111\u1ea7u m\u00ecnh vi\u1ebft v\u1edbi `this.userCollection`, b\u1edfi v\u00ec ch\u1ec9 s\u1eed d\u1ee5ng nh\u01b0 bi\u1ebfn c\u1ee5c b\u1ed9 l\u00e0 \u0111\u1ee7 n\u00ean m\u00ecnh s\u1ebd \u0111\u1ed5i n\u00f3 th\u00e0nh bi\u1ebfn c\u1ee5c b\u1ed9.\nV\u00ec v\u1eady, m\u00ecnh c\u1ea7n truy\u1ec1n `userCollection` c\u1ee7a n\u01a1i m\u00e0 nh\u1eadn data v\u00e0o h\u00e0m showItem.\nV\u00ec l\u00fd do n\u00e0y, b\u1ea1n c\u1ea7n s\u1eeda h\u00e0m `showItem` c\u1ee7a c\u00e1c stub c\u1ee7a test code, c\u00e1c ch\u1ec9nh s\u1eeda nh\u01b0 sau.\n\n#### app/webroot/js/views/todo-detail-layout-view.js\n\n\n```diff:app/webroot/js/views/todo-detail-layout-view.js\n \n \t\t\tit(\"Todo\u3068\u30e6\u30fc\u30b6\u4e00\u89a7\u53d6\u5f97\", function (done) {\n \t\t\t\tvar layoutView = _createTodoDetailLayoutView();\n-\t\t\t\tsinon.stub(layoutView, 'showItem', function (todoModel) {\n+\t\t\t\tsinon.stub(layoutView, 'showItem', function (todoModel, userCollection) {\n \t\t\t\t\ttodoModel.should.be.ok;\n+\t\t\t\t\tuserCollection.should.be.ok;\n \t\t\t\t\tlayoutView.showItem.restore();\n \t\t\t\t\tdone();\n \t\t\t\t});\n```\n\nTh\u00eam argument `userCollection`, ch\u00fang ta ph\u1ea3i ki\u1ec3m tra r\u1eb1ng n\u00f3 kh\u00f4ng ph\u1ea3i null.\n\nM\u1ecdi ch\u1ec9nh s\u1eeda \u0111\u00e3 xong.\n\nH\u00e3y ch\u1ea1y test.\n\nKhi m\u1ecdi th\u1ee9 \u0111\u00e3 \u1ed5n, h\u00e3y commit l\u00ean Git.\n\n**:warning: Hi\u1ec3n th\u1ecb d\u1ea1ng diff tr\u00ean Github**\n\n[\u7b2c11\u56de Lesson3 TODO\u8a73\u7d30\u306e\u8868\u793a\u30c7\u30fc\u30bf\u53d6\u5f97\u51e6\u7406\u306e\u3061\u3087\u3063\u3068\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0 \u00b7 suzukishouten-study/rest-study@a7dd0af](https://github.com/suzukishouten-study/rest-study/commit/a7dd0af28153c71ec48b8833df477a85d06469f3)\n\n\n\n## Trailer\n\nB\u00e0i ti\u1ebfp theo s\u1ebd l\u00e0 b\u00e0i cu\u1ed1i c\u00f9ng c\u1ee7a series.\nS\u1ebd t\u1ed1t h\u01a1n n\u1ebfu c\u00e1c b\u1ea1n c\u00f9ng l\u00e0m vi\u1ec7c nh\u00f3m.\n\n## L\u1eddi c\u1ea3m \u01a1n\n\nC\u1ea3m \u01a1n c\u00e1c b\u1ea1n \u0111\u00e3 theo d\u00f5i b\u00e0i vi\u1ebft n\u00e0y, t\u00f4i r\u1ea5t hi v\u1ecdng nh\u1eadn \u0111\u01b0\u1ee3c nh\u1eefng b\u00ecnh lu\u1eadn c\u0169ng nh\u01b0 ph\u1ea3n h\u1ed3i c\u1ee7a t\u1ea5t c\u1ea3 c\u00e1c b\u1ea1n \u0111\u1ec3 l\u00e0m t\u1ed1t h\u01a1n. Ch\u01b0\u01a1ng 11 t\u1ea1m k\u1ebft th\u00fac t\u1ea1i \u0111\u00e2y.\n\n\n\n\n", "tags": ["PHP", "Backbone.js", "AWS", "amazonEC2", "PHPCake"]}