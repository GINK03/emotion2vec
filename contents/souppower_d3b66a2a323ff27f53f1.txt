{"context": "\u3053\u3093\u306b\u3061\u306f\u3001\u30b9\u30fc\u30d7\u3067\u3059\u3002\nAngular\u3068Firebase\u3092\u4f7f\u3063\u3066\u30bd\u30fc\u30b7\u30e3\u30eb\u30ed\u30b0\u30a4\u30f3\u3092\u7c21\u5358\u306b\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002Angular Authentication made easy with Firebase \u306e\u3084\u308a\u65b9\u306b\u5023\u3063\u3066\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u30b9\u30c6\u30c3\u30d7\n\nFirebase\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\u74b0\u5883\u8a2d\u5b9a\n\u30b3\u30fc\u30c9\u3092\u66f8\u304f\n\n\nFirebase\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\nFirebase\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u4f7f\u7528\u3059\u308bSign-in providers\u3092\u9078\u629e\u3057\u3066\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\u30b3\u30fc\u30c9\u4f8b\u3067\u306fGoogle\u3068Twitter\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\nAuthentication \u2192 SIGN-IN METHOD \u304b\u3089\u4f7f\u7528\u3059\u308bSign-in providers\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\nprovider\u306b\u3088\u3063\u3066\u3001Key/Secret\u7b49\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u4f8b\u3048\u3070Twitter\u306a\u3089\u3001\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\u5f8c\u3001API Key\u3068API Secret\u3092\u53d6\u5f97\u3057\u3066\u304d\u3066\u3001\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u2192Twitter Application Management\n\n\u74b0\u5883\u8a2d\u5b9a\nangular-cli\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ npm install -g angular-cli\n\nanglar-cli\u3067\u30b9\u30ad\u30e3\u30d5\u30a9\u30eb\u30c7\u30a3\u30f3\u30b0\n$ ng new firebase-auth-sample\n$ cd firebase-auth-sample\n\n\u958b\u767a\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\n$ ng serve\n\nlocalhost:4200\u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\nangularfire2\u3068firebase\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5165\u308c\u307e\u3059\u3002\n$ npm install angularfire2 firebase --save\n$ npm install @types/firebase --save-dev\n\ntsconfig.json \u306btypes\u8ffd\u52a0\n\n\n\u30b3\u30fc\u30c9\u3092\u66f8\u304f\nFirebase\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306eWEB SETUP\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u8a2d\u5b9a\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u30b3\u30d4\u30fc\u3057\u3066app.module.ts\u306b\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002\n\n(\u203bapiKey\u304c\u898b\u3048\u3066\u3044\u307e\u3059\u304c\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8b58\u5225\u306b\u7528\u3044\u3089\u308c\u308b\u3060\u3051\u306a\u306e\u3067\u554f\u984c\u3042\u308a\u307e\u305b\u3093)\n\nsrc/app/app.module.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport {\n  AngularFireModule,\n  AuthMethods,\n  AuthProviders\n} from \"angularfire2\";\n\nimport { AppComponent } from './app.component';\n\n// \u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u8a2d\u5b9a\u3092\u3053\u3053\u306b\u8cbc\u308a\u4ed8\u3051\u308b\nconst firebaseConfig = {\n    apiKey: \"<your-apiKey>\",\n    authDomain: \"<your-auth-Domain>\",\n    databaseURL: \"<your-database-URL>\",\n    storageBucket: \"<your-storage-Bucket>\"\n};\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    AngularFireModule.initializeApp(firebaseConfig,{\n      provider: AuthProviders.Twitter,\n      method: AuthMethods.Popup\n      // method: AuthMethods.Redirect // Redirect\u304c\u826f\u3044\u306a\u3089\u3053\u3063\u3061\n    })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\nAngularFire\u306eauth\u306fobservable\u306a\u306e\u3067\u3001subscribe\u3059\u308b\n\nsrc/app/app.component.ts\nimport { Component } from '@angular/core';\nimport { AngularFire, AuthProviders } from 'angularfire2';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  user = {};\n  constructor(public af: AngularFire) {\n    this.af.auth.subscribe(user => {\n      if(user) {\n        this.user = user;\n        console.log(this.user);\n      }\n      else {\n        this.user = {};\n      }\n    });\n  }\n\n  login(from: string) {\n    this.af.auth.login({\n      provider: this._getProvider(from)\n    });\n  }\n\n  logout() {\n    this.af.auth.logout();\n  }\n\n  private _getProvider(from: string) {\n    switch(from){\n      case 'twitter': return AuthProviders.Twitter;\n      case 'google': return AuthProviders.Google;\n    }\n  }\n}\n\n\n\n\nsrc/app/app.component.html\n<button (click)=\"login('google')\">\n  Google Login\n</button>\n<button (click)=\"login('twitter')\">\n  Twitter Login\n</button>\n<button (click)=\"logout()\">\n  Logout\n</button>\n\n\n\n\u3053\u3053\u3067\u30ed\u30b0\u30a4\u30f3\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u30e6\u30fc\u30b6\u30fc\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u3063\u3066\u304d\u3066\u4e2d\u8eab\u306b\u3044\u308d\u3044\u308d\u306a\u60c5\u5831\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\uff01(\u0e07 \u02d9\u03c9\u02d9)\u0e27\n\nFirebase\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u306f\u30e6\u30fc\u30b6\u30fc\u306e\u60c5\u5831\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\u30e6\u30fc\u30b6\u30fc\u306e\u6709\u52b9\u30fb\u7121\u52b9\u5316\u3001\u505c\u6b62\u3082\u3053\u3053\u304b\u3089\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u306f\u3053\u3061\u3089\u306b\u7f6e\u3044\u3066\u3044\u307e\u3059\u3002\n\n\u53c2\u8003\n\nAngular Authentication made easy with Firebase\nAngularfire2\n\n\u3053\u3093\u306b\u3061\u306f\u3001\u30b9\u30fc\u30d7\u3067\u3059\u3002\nAngular\u3068Firebase\u3092\u4f7f\u3063\u3066\u30bd\u30fc\u30b7\u30e3\u30eb\u30ed\u30b0\u30a4\u30f3\u3092\u7c21\u5358\u306b\u4f5c\u3063\u3066\u307f\u307e\u3059\u3002[Angular Authentication made easy with Firebase](https://medium.freecodecamp.com/angular-2-authentication-made-easy-with-firebase-246c282d9ef8#.bk5abnpsc) \u306e\u3084\u308a\u65b9\u306b\u5023\u3063\u3066\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n### \u30b9\u30c6\u30c3\u30d7\n- Firebase\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n- \u74b0\u5883\u8a2d\u5b9a\n- \u30b3\u30fc\u30c9\u3092\u66f8\u304f\n\n### Firebase\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\nFirebase\u306e[\u30b3\u30f3\u30bd\u30fc\u30eb](https://console.firebase.google.com/)\u3067\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u4f7f\u7528\u3059\u308bSign-in providers\u3092\u9078\u629e\u3057\u3066\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\u30b3\u30fc\u30c9\u4f8b\u3067\u306fGoogle\u3068Twitter\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002\n\n`Authentication` \u2192 `SIGN-IN METHOD` \u304b\u3089\u4f7f\u7528\u3059\u308bSign-in providers\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\n\n![Firebase_Console_Auth.png](https://qiita-image-store.s3.amazonaws.com/0/98752/3090ef2e-fd07-9450-d7c2-e363dd8a2b88.png \"Firebase_Console_Auth.png\")\n\nprovider\u306b\u3088\u3063\u3066\u3001Key/Secret\u7b49\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u4f8b\u3048\u3070Twitter\u306a\u3089\u3001\u30a2\u30d7\u30ea\u306e\u4f5c\u6210\u5f8c\u3001API Key\u3068API Secret\u3092\u53d6\u5f97\u3057\u3066\u304d\u3066\u3001\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u2192[Twitter Application Management](https://apps.twitter.com/)\n\n\n### \u74b0\u5883\u8a2d\u5b9a\n\nangular-cli\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ npm install -g angular-cli\n```\n\nanglar-cli\u3067\u30b9\u30ad\u30e3\u30d5\u30a9\u30eb\u30c7\u30a3\u30f3\u30b0\n\n```\n$ ng new firebase-auth-sample\n$ cd firebase-auth-sample\n```\n\n\u958b\u767a\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\n\n```\n$ ng serve\n```\n\n`localhost:4200`\u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\n\n[angularfire2](https://www.npmjs.com/package/angularfire2)\u3068[firebase](https://www.npmjs.com/package/firebase)\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5165\u308c\u307e\u3059\u3002\n\n```\n$ npm install angularfire2 firebase --save\n$ npm install @types/firebase --save-dev\n```\n\n`tsconfig.json` \u306btypes\u8ffd\u52a0\n\n![tsconfig.png](https://qiita-image-store.s3.amazonaws.com/0/98752/522c7063-a73f-5442-0b92-c9222e78736e.png \"tsconfig.png\")\n\n### \u30b3\u30fc\u30c9\u3092\u66f8\u304f\n\nFirebase\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306e`WEB SETUP`\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u8a2d\u5b9a\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u30b3\u30d4\u30fc\u3057\u3066`app.module.ts`\u306b\u8cbc\u308a\u4ed8\u3051\u307e\u3059\u3002\n\n![WEB_SETUP.png](https://qiita-image-store.s3.amazonaws.com/0/98752/8edd9cb3-9b82-43a3-32e3-4b1661f504e3.png \"WEB_SETUP.png\")\n(\u203bapiKey\u304c\u898b\u3048\u3066\u3044\u307e\u3059\u304c\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8b58\u5225\u306b\u7528\u3044\u3089\u308c\u308b\u3060\u3051\u306a\u306e\u3067\u554f\u984c\u3042\u308a\u307e\u305b\u3093)\n\n```src/app/app.module.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport {\n  AngularFireModule,\n  AuthMethods,\n  AuthProviders\n} from \"angularfire2\";\n\nimport { AppComponent } from './app.component';\n\n// \u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u306e\u8a2d\u5b9a\u3092\u3053\u3053\u306b\u8cbc\u308a\u4ed8\u3051\u308b\nconst firebaseConfig = {\n    apiKey: \"<your-apiKey>\",\n    authDomain: \"<your-auth-Domain>\",\n    databaseURL: \"<your-database-URL>\",\n    storageBucket: \"<your-storage-Bucket>\"\n};\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    AngularFireModule.initializeApp(firebaseConfig,{\n      provider: AuthProviders.Twitter,\n      method: AuthMethods.Popup\n      // method: AuthMethods.Redirect // Redirect\u304c\u826f\u3044\u306a\u3089\u3053\u3063\u3061\n    })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n```\n\nAngularFire\u306eauth\u306fobservable\u306a\u306e\u3067\u3001subscribe\u3059\u308b\n\n```src/app/app.component.ts\nimport { Component } from '@angular/core';\nimport { AngularFire, AuthProviders } from 'angularfire2';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  user = {};\n  constructor(public af: AngularFire) {\n    this.af.auth.subscribe(user => {\n      if(user) {\n        this.user = user;\n        console.log(this.user);\n      }\n      else {\n        this.user = {};\n      }\n    });\n  }\n\n  login(from: string) {\n    this.af.auth.login({\n      provider: this._getProvider(from)\n    });\n  }\n\n  logout() {\n    this.af.auth.logout();\n  }\n\n  private _getProvider(from: string) {\n    switch(from){\n      case 'twitter': return AuthProviders.Twitter;\n      case 'google': return AuthProviders.Google;\n    }\n  }\n}\n\n```\n\n```src/app/app.component.html\n<button (click)=\"login('google')\">\n  Google Login\n</button>\n<button (click)=\"login('twitter')\">\n  Twitter Login\n</button>\n<button (click)=\"logout()\">\n  Logout\n</button>\n\n```\n\n\u3053\u3053\u3067\u30ed\u30b0\u30a4\u30f3\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u30e6\u30fc\u30b6\u30fc\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u3063\u3066\u304d\u3066\u4e2d\u8eab\u306b\u3044\u308d\u3044\u308d\u306a\u60c5\u5831\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\uff01(\u0e07 \u02d9\u03c9\u02d9)\u0e27\n![console_log_twitter.png](https://qiita-image-store.s3.amazonaws.com/0/98752/0ec3e865-1e75-6521-37d1-ae079f58f64c.png \"console_log_twitter.png\")\n\n\nFirebase\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u306f\u30e6\u30fc\u30b6\u30fc\u306e\u60c5\u5831\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\u30e6\u30fc\u30b6\u30fc\u306e\u6709\u52b9\u30fb\u7121\u52b9\u5316\u3001\u505c\u6b62\u3082\u3053\u3053\u304b\u3089\u7c21\u5358\u306b\u3067\u304d\u307e\u3059\u3002\n\n![Firebase_Users.png](https://qiita-image-store.s3.amazonaws.com/0/98752/de87ba46-6200-50e3-07ea-475a413a3d61.png \"Firebase_Users.png\")\n\n\u30b3\u30fc\u30c9\u306f[\u3053\u3061\u3089](https://github.com/souppower/firebase-auth-sample)\u306b\u7f6e\u3044\u3066\u3044\u307e\u3059\u3002\n\n### \u53c2\u8003\n\n- [Angular Authentication made easy with Firebase](https://medium.freecodecamp.com/angular-2-authentication-made-easy-with-firebase-246c282d9ef8#.bk5abnpsc)\n\n- [Angularfire2](https://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md)\n", "tags": ["Firebase", "Angular2", "angular"]}