{"context": "\n\n\u306f\u3058\u3081\u306b\n\u524d\u56de\u306elearnyounode\u3067node.js\u306b\u3064\u3044\u3066\u4e00\u901a\u308a\u5b66\u3093\u3060\u306e\u3067\u3001\u6b21\u306fES6\u306e\u6587\u6cd5\u3092\u5b66\u3076\u3079\u304ftower-of-babel\u3092\u3084\u3063\u3066\u307f\u305f\u306e\u3067\u5185\u5bb9\u3092\u5171\u6709\u3057\u307e\u3059\u3002\n\nNodeSchool\ntower-of-babel\n\n\n\nBABEL SETUP\n\nES6\u306e\u69cb\u6587\u306f\u30d6\u30e9\u30a6\u30b6\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001ES6\u306e\u6587\u6cd5\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u306fbabel\u3092\u7528\u3044\u308b\n\nnpm install babel-cli -g\u3067babel\u3068babel-node\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u3092\u53d7\u3051\u53d6\u3063\u3066\u305d\u308c\u3092\u51fa\u529b\u3059\u308b\n\n\nprogram.js\n\nvar arg = process.argv[2];\nconsole.log(`Hello ${arg}`);\n\n\n\n\nCLASS\n\n\u4eca\u307e\u3067JS\u3067\u30af\u30e9\u30b9\u30e9\u30a4\u30af\u306a\u3082\u306e\u3092\u4f5c\u308b\u6642\u306f\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3057\u3066\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3001prototype\u306b\u5bfe\u3057\u3066\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3066\u304d\u305f\n\n\nprototype.js\nvar Person = function(name) {\n      this.name = name;\n    };\n\n    Person.prototype.getName = function() {\n      return this.name;\n    };\n\n    Person.prototype.setName = function(name) {\n      this.name = name;\n    };\n\n    var alice = new Person(\"alice\");\n    alice.getName(); // alice\n    alice.setName('bob');\n    alice.getName(); // bob\n\n\n\n\nES6\u306e\u66f8\u304d\u65b9\u3067\u66f8\u304f\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308b\u3002Java\u3063\u307d\u3044\u3067\u3059\u306d\u3002\n\n\nes6.js\nclass Person {\n      constructor(name) {\n        this.name = name;\n      }\n      getName() {\n        return this.name;\n      }\n      setName(name) {\n        this.name = name;\n      }\n    }\n\n    var alice = new Person(\"alice\");\n    alice.getName(); // alice\n    alice.setName('bob');\n    alice.getName(); // bob\n\n\n\n\n\u554f\u984c\n\n\u4e0a\u8a18\u306b\u306a\u3089\u3063\u3066\u3001\u4e0b\u8a18\u306e\u30af\u30e9\u30b9\u3092ES6\u306eclass\u69cb\u6587\u3092\u4f7f\u3063\u3066\u66f8\u304d\u63db\u3048\u308b\n\nvar Character = function(x, y) {\n      this.x = x;\n      this.y = y;\n      this.health_ = 100;\n    };\n\n    Character.prototype.damage = function() {\n      this.health_ = this.health_ - 10;\n    };\n\n    Character.prototype.getHealth = function() {\n      return this.health_;\n    };\n\n    Character.prototype.toString = function() {\n      return \"x: \" + this.x + \" y: \" + this.y + \" health: \" + this.getHealth();\n    };\n\n\nprogram.js\n\"use strict\";\n\nclass Character {\n  constructor(x,y) {\n    this.x = x;\n    this.y = y;\n    this.health_ = 100;\n  }\n  damage() {\n    return this.health_ = this.health_ - 10;\n  }\n  getHealth() {\n    return this.health_;\n  }\n  toString() {\n      return \"x: \" + this.x + \" y: \" + this.y + \" health: \" + this.getHealth();\n  }\n}\n\nvar x = process.argv[2];\nvar y = process.argv[3];\nvar character = new Character(+x, +y);\ncharacter.damage();\nconsole.log(character.toString());\n\n\n\n\n\nuse strict\u3092\u52a0\u3048\u306a\u3044\u3068\u4e0b\u8a18\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306e\u3067\u66f8\u304d\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n$ babel-node program.js\n/Users/01006524/Development/src/localhost/tower-of-babel/class/program.js:1\n(function (exports, require, module, __filename, __dirname) { class Character {\n                                                              ^^^^^\n\nSyntaxError: Block-scoped declarations (let, const, function, class) not yet supported outside strict mode\n    at exports.runInThisContext (vm.js:53:16)\n    at Module._compile (module.js:374:25)\n    at loader (/Users/01006524/.nodebrew/node/v5.3.0/lib/node_modules/babel-cli/node_modules/babel-register/lib/node.js:134:5)\n    at Object.require.extensions.(anonymous function) [as .js] (/Users/01006524/.nodebrew/node/v5.3.0/lib/node_modules/babel-cli/node_modules/babel-register/lib/node.js:144:7)\n    at Module.load (module.js:344:32)\n    at Function.Module._load (module.js:301:12)\n    at Function.Module.runMain (module.js:430:10)\n    at /Users/01006524/.nodebrew/node/v5.3.0/lib/node_modules/babel-cli/lib/_babel-node.js:161:27\n    at Object.<anonymous> (/Users/01006524/.nodebrew/node/v5.3.0/lib/node_modules/babel-cli/lib/_babel-node.js:162:7)\n    at Module._compile (module.js:398:26)\n\n\n\nCLASS EXTEND\n\n\u7d99\u627f\u306e\u6271\u3044\u65b9\u3092\u5b66\u3076\u3002\u57fa\u672c\u7684\u306b\u306fextends\u3092\u4f7f\u3063\u3066\u7d99\u627f\u3092\u884c\u3046\u3002\u89aa\u30af\u30e9\u30b9\u306e\u6301\u3064\u30e1\u30bd\u30c3\u30c9\u3084\u30e1\u30bd\u30c3\u30c9\u3092\u5b50\u30af\u30e9\u30b9\u304b\u3089\u547c\u3073\u51fa\u3059\u5834\u5408\u3001super\u3068\u3044\u3046\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5229\u7528\n\n\n\u3053\u306e\u8fba\u3082Java\u3068\u540c\u3058\u3067\u3059\u306d\u3002\n\n\n\n\n// Character\u30af\u30e9\u30b9\n    class Character {\n      constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this.health_ = 100;\n      }\n      attack(character) {\n        if (!(character instanceof Character)) throw new Error('');\n        character.health_ -= 10;\n      }\n    }\n\n    // Character\u3092Monster\u30af\u30e9\u30b9\u306b\u7d99\u627f\n    class Monster extends Character {\n      constructor(x, y, name) {\n        super(x, y);\n        this.name = name;\n      }\n      attack(character) {\n       // super \u3067\u89aa\u30af\u30e9\u30b9\u306eattack\u3092\u305d\u306e\u307e\u307e\u547c\u3076\n       super.attack(character);\n       character.health_ -= 5;\n     }\n   }\n\n\n\u554f\u984c\n\n\u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u3092ES6\u306eclass\u69cb\u6587\u3092\u7528\u3044\u3066\u66f8\u304d\u63db\u3048\u308b\n\nutil\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u3066\u7d99\u627f\u3059\u308b\u305f\u3081\u306b\u306futil.inherits(constructor, superConstructor)\u3092\u4f7f\u3046\n\n\n\nPlayer\u304c\u30b5\u30d6\u30af\u30e9\u30b9\uff08\u5b50\u30af\u30e9\u30b9\uff09\u3001Character\u304c\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\uff08\u89aa\u30af\u30e9\u30b9\uff09\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u306e\u3088\u3046\u306b\u66f8\u304f\n\n\n\nvar util = require('util');\n   var Character = function(x, y) {\n     this.x = x;\n     this.y = y;\n     this.health_ = 100;\n   };\n\n   Character.prototype.damage = function() {\n     this.health_ = this.health_ - 10;\n   };\n\n   Character.prototype.getHealth = function() {\n     return this.health_;\n   };\n\n   Character.prototype.toString = function() {\n     return \"x: \" + this.x + \" y: \" + this.y + \" health: \" + this.getHealth();\n   };\n\n   var Player = function(x, y, name) {\n     Character.call(this, x, y);\n     this.name = name;\n   };\n\n   util.inherits(Player, Character);\n\n   Player.prototype.move = function(dx, dy){\n     this.x += dx;\n     this.y += dy;\n   };\n\n   Player.prototype.toString = function() {\n     return \"name: \" + this.name + \" \" + Player.super_.prototype.toString.call(this);\n   };\n\n\nprogram.js\nvar util = require('util');\n\nclass Character {\n  constructor(x,y) {\n    this.x = x;\n    this.y = y;\n    this.health_ = 100;\n  }\n  damage() {\n    return this.health_ = this.health_ - 10;\n  }\n  getHealth() {\n    return this.health_;\n  }\n  toString() {\n      return \"x: \" + this.x + \" y: \" + this.y + \" health: \" + this.getHealth();\n  }\n}\n\nclass Player extends Character {\n  constructor(x, y, name) {\n    super(x, y);\n    this.name = name;\n  }\n  move(dx, dy) {\n    this.x += dx;\n    this.y += dy;\n  }\n  toString() {\n    return \"name: \" + this.name + \" \" + super.toString();\n  }\n}\n\nvar x = process.argv[2];\nvar y = process.argv[3];\nvar name = process.argv[4];\nvar character = new Character(+x, +y);\ncharacter.damage();\nconsole.log(character.toString());\nvar player = new Player(+x, +y, name);\nplayer.damage();\nplayer.move(7, 8);\nconsole.log(player.toString());\n\n\n\n\n\nMODULE WITH NAME\n\n\u4eca\u307e\u3067JS\u3067\u306f\u8a00\u8a9e\u30ec\u30d9\u30eb\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5206\u5272\u304c\u3067\u304d\u306a\u304b\u3063\u305f\n\u30d6\u30e9\u30a6\u30b6\u3067JS\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3057\u3066\u30d5\u30ed\u30f3\u30c8\u3067\u8aad\u307f\u8fbc\u3080\u969b\u306frequire.js\u3084browserify\u3068\u3044\u3063\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u89e3\u6c7a\u3057\u3066\u304d\u305f\nES6\u3067\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3059\u308b\u305f\u3081\u306e\u5c02\u7528\u69cb\u6587\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff08export\u3068import\uff09\n\n\n\u554f\u984c\n\n\u4ee5\u4e0b\u306ecommonjs\u3067\u66f8\u304b\u308c\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092ES6\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u66f8\u304d\u63db\u3048\u308b\n\u5b9f\u884c\u6642\u306f<\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb> <module\u306e\u53c2\u7167\u5143\u30d5\u30a1\u30a4\u30eb>\u306e\u9806\u5e8f\u3067\u6e21\u3059\n\n\n\u4f8b\uff1atower-of-babel run program.js math.js\n\n\n\n\nexports.PI = 3.141592;\n\n    var _sqrt = function(s, x, last){\n      return x != last ? _sqrt(s, (x + s / x) / 2.0, x) : x;\n    };\n    exports.sqrt = function(s){\n      return _sqrt(s, s/2.0, 0.0);\n    };\n    exports.square = function(x) {\n      return x * x;\n    };\n\n    var arg1 = process.argv[2];\n    var arg2 = process.argv[3];\n    var PI = require('./Math').PI;\n    var sqrt = require('./Math').sqrt;\n    var square = require('./Math').square;\n\n    console.log(PI);\n    console.log(sqrt(+arg1));\n    console.log(square(+arg2));\n\n\n\nprogram.js\n\nvar arg1 = process.argv[2];\nvar arg2 = process.argv[3];\n\nimport {PI} from './math';\nimport {sqrt} from './math';\nimport {square} from './math';\n\nconsole.log(PI);\nconsole.log(sqrt(+arg1));\nconsole.log(square(+arg2));\n\n\n\n\nmath.js\n\nexport const PI = 3.141592;\n\nvar _sqrt = function(s, x, last){\n  return x != last ? _sqrt(s, (x + s / x) / 2.0, x) : x;\n};\n\nexport function sqrt(s) {\n  return _sqrt(s, s/2.0, 0.0);\n};\n\nexport function square(x) {\n  return x * x;\n};\n\n\n\n\nMODULES DEFAULT EXPORT\n\n\nexport\u306b\u306f\u901a\u5e38\u306eexport\u3068default export\u306e2\u7a2e\u985e\u3042\u308b\n\n\n\ndefault export\u306e\u5834\u5408\u306fexport\u3059\u308b\u969b\u306bexport default\u69cb\u6587\u3092\u4ed8\u3051\u3066\u516c\u958b\u3059\u308b\u3002\u4ee5\u4e0b\u3001\u4f8b\n\n\n\n\nMessage.js\n\nconst greeting = 'Hello';\nconst name = 'Babel';\nconst version = 'v5.0';\nexport default {\n  greeting: greeting,\n  name: name,\n  version: version\n};\n\n\n\n\nMain.js\n\nimport Message from './Message';\nconsole.log(\n  Message.greeting + ' ' + Message.name + ' ' + Message.version);\n\n\n\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306bimport\u3059\u308b\u969b\u306b{...}\u3067\u56f2\u3080\u5fc5\u8981\u304c\u306a\u304f\u3001export\u3055\u308c\u3066\u3044\u308b\u5bfe\u8c61\u306e\u540d\u524d\u3092\u77e5\u3089\u306a\u304f\u3066\u826f\u3044\n\n\n\u554f\u984c\n\n\u524d\u56de\u8a18\u8ff0\u3057\u305fexport\u3067\u66f8\u304b\u308c\u305fmath.js\u3068\u5b9f\u884c\u7528\u306eJS\u30d5\u30a1\u30a4\u30eb\u3092default export\u3068import\u3092\u4f7f\u3063\u3066\u66f8\u304d\u63db\u3048\u308b\n\n\nprogram.js\n\nvar arg1 = process.argv[2];\nvar arg2 = process.argv[3];\n\nimport math from './math';\n\nconsole.log(math.PI);\nconsole.log(math.sqrt(+arg1));\nconsole.log(math.square(+arg2));\n\n\n\n\nmath.js\n\nconst PI = 3.141592;\n\nvar _sqrt = function(s, x, last){\n  return x != last ? _sqrt(s, (x + s / x) / 2.0, x) : x;\n};\n\nfunction sqrt(s) {\n  return _sqrt(s, s/2.0, 0.0);\n};\n\nfunction square(x) {\n  return x * x;\n};\n\nexport default {\n  PI: PI,\n  sqrt: sqrt,\n  square: square\n};\n\n\n\n\nBLOCK SCOPE\n\nES6\u3067\u306flet\u3001const\u3068\u3044\u3063\u305f\u65b0\u3057\u3044\u5909\u6570\u5ba3\u8a00\u304c\u3067\u304d\u308b\u3088\u3046\u306b\n\n\n\nlet\u306f\u6700\u4ee3\u5165\u53ef\u80fd\u306a\u5909\u6570\u3001const\u306f\u518d\u4ee3\u5165\u4e0d\u53ef\u80fd\u306a\u5909\u6570\n\nconst\u306fJava\u3067\u3044\u3046final\u7684\u306a\n\n\n\u3053\u308c\u3089\u306e\u5909\u6570\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u5909\u6570\u304c\u30b9\u30b3\u30fc\u30d7\u306e\u5916\u306b\u6f0f\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u308b\n\n\nblock.js\n\n{\n  var a = 10;\n  let b = 20;\n  const tmp = a;\n  a = b;\n  b = tmp;\n  // tmp = 30; \u518d\u4ee3\u5165\u306f\u3067\u304d\u306a\u3044 SyntaxError\u306b\u306a\u308b\u3002\n}\n\n// a = 20\u3001a\u306fvar\u3067\u5ba3\u8a00\u3057\u3066\u3044\u308b\u306e\u3067\u30d6\u30ed\u30c3\u30af\u30b9\u30b3\u30fc\u30d7\u306e\u5916\u304b\u3089\u3082\u53c2\u7167\u53ef\u80fd\u3002\nconsole.log(a);\n// let\u3067\u5b9a\u7fa9\u3057\u305fb\u306f\u30d6\u30ed\u30c3\u30af\u30b9\u30b3\u30fc\u30d7\u306e\u5916\u304b\u3089\u306f\u89e3\u6c7a\u3067\u304d\u306a\u3044\u3001ReferenceError b is not defined \u306b\u306a\u308b\u3002\nconsole.log(b);\n// const\u3082\u30b9\u30b3\u30fc\u30d7\u306e\u4e2d\u3067\u306e\u307f\u6709\u52b9\u3001tmp is not defined\nconsole.log(tmp);\n\n\n\n\n\u554f\u984c\n'use strict';\n// \u5909\u6570 a \u306fblock\u30b9\u30b3\u30fc\u30d7\u306e\u4e2d\u3067\u3082\u5916\u3067\u3082\u518d\u4ee3\u5165\u53ef\u80fd\u306a\u6709\u52b9\u306a\u5909\u6570\u3067\u3059\u3002\n//\u5909\u6570\u5ba3\u8a00\u306e\u65b9\u6cd5(var|let|const)\u306e\u3044\u305a\u308c\u3092\u5229\u7528\u3059\u308b\u3079\u304d\u304b\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\nvar|let|const a = 5;\n\n// \u5909\u6570 b \u306f\u518d\u4ee3\u5165\u4e0d\u53ef\u80fd\u306a\u5909\u6570\u3067\u3059\u3002\n//\u5909\u6570\u5ba3\u8a00\u306e\u65b9\u6cd5(var|let|const)\u306e\u3044\u305a\u308c\u3092\u5229\u7528\u3059\u308b\u3079\u304d\u304b\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\nvar|let|const b = process.argv[2];\n\nif (a === 5) {\n  // \u3053\u3053\u3067\u306e\u5909\u6570 c \u306f\u518d\u4ee3\u5165\u53ef\u80fd\u3067\u3059\u304c\u3001\u3053\u306eblock\u306e\u4e2d\u3067\u3060\u3051\u6709\u52b9\u306a\u5909\u6570\u3067\u3059\u3002\n  //\u5909\u6570\u5ba3\u8a00\u306e\u65b9\u6cd5(var|let|const)\u306e\u3044\u305a\u308c\u3092\u5229\u7528\u3059\u308b\u3079\u304d\u304b\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n  var|let|const c = 4;\n  console.log(c);  // 4\n\n  // \u3053\u3053\u3067\u306e\u5909\u6570 b \u306fblock\u306e\u4e2d\u3060\u3051\u3067\u6709\u52b9\u306a\u5909\u6570\u3067\u3059\u3002\n  //\u5909\u6570\u5ba3\u8a00\u306e\u65b9\u6cd5(var|let|const)\u306e\u3044\u305a\u308c\u3092\u5229\u7528\u3059\u308b\u3079\u304d\u304b\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n  var|let|const b = 8;\n  console.log(b); // 8\n}\n\nconsole.log(a); // 5\nconsole.log(b);\ntry {\n  // \u3053\u3053\u3067 c\u306b\u5bfe\u3057\u3066\u5024\u3092\u5909\u66f4\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n  c = 1000;\n} catch (e) {\n  // c is not defined \u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n  console.log(e);\n}\n\n\nprogram.js\n'use strict';\nvar a = 5;\n\nconst b = process.argv[2];\n\nif (a === 5) {\n  let c = 4;\n  console.log(c);  // 4\n\n  let b = 8;\n  console.log(b); // 8\n}\n\nconsole.log(a); // 5\nconsole.log(b);\ntry {\n  // \u3053\u3053\u3067 c\u306b\u5bfe\u3057\u3066\u5024\u3092\u5909\u66f4\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n  c = 1000;\n} catch (e) {\n  // c is not defined \u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n  console.log(e);\n}\n\n\n# \u306f\u3058\u3081\u306b\n\u524d\u56de\u306elearnyounode\u3067node.js\u306b\u3064\u3044\u3066\u4e00\u901a\u308a\u5b66\u3093\u3060\u306e\u3067\u3001\u6b21\u306fES6\u306e\u6587\u6cd5\u3092\u5b66\u3076\u3079\u304ftower-of-babel\u3092\u3084\u3063\u3066\u307f\u305f\u306e\u3067\u5185\u5bb9\u3092\u5171\u6709\u3057\u307e\u3059\u3002\n\n- [NodeSchool](http://nodeschool.io/)\n- [tower-of-babel](https://github.com/yosuke-furukawa/tower-of-babel)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/37467/42091066-979c-54c5-9d70-62ab62f45529.png)\n\n\n# BABEL SETUP\n- ES6\u306e\u69cb\u6587\u306f\u30d6\u30e9\u30a6\u30b6\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001ES6\u306e\u6587\u6cd5\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u306f`babel`\u3092\u7528\u3044\u308b\n- `npm install babel-cli -g`\u3067`babel`\u3068`babel-node`\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n- \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u5f15\u6570\u3092\u53d7\u3051\u53d6\u3063\u3066\u305d\u308c\u3092\u51fa\u529b\u3059\u308b\n\n```program.js\n\nvar arg = process.argv[2];\nconsole.log(`Hello ${arg}`);\n\n```\n\n# CLASS\n- \u4eca\u307e\u3067JS\u3067\u30af\u30e9\u30b9\u30e9\u30a4\u30af\u306a\u3082\u306e\u3092\u4f5c\u308b\u6642\u306f\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3057\u3066\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3001`prototype`\u306b\u5bfe\u3057\u3066\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3066\u304d\u305f\n\n```prototype.js\nvar Person = function(name) {\n      this.name = name;\n    };\n\n    Person.prototype.getName = function() {\n      return this.name;\n    };\n\n    Person.prototype.setName = function(name) {\n      this.name = name;\n    };\n\n    var alice = new Person(\"alice\");\n    alice.getName(); // alice\n    alice.setName('bob');\n    alice.getName(); // bob\n\n```\n\n- ES6\u306e\u66f8\u304d\u65b9\u3067\u66f8\u304f\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308b\u3002Java\u3063\u307d\u3044\u3067\u3059\u306d\u3002\n\n```es6.js\nclass Person {\n      constructor(name) {\n        this.name = name;\n      }\n      getName() {\n        return this.name;\n      }\n      setName(name) {\n        this.name = name;\n      }\n    }\n\n    var alice = new Person(\"alice\");\n    alice.getName(); // alice\n    alice.setName('bob');\n    alice.getName(); // bob\n\n```\n\n## \u554f\u984c\n- \u4e0a\u8a18\u306b\u306a\u3089\u3063\u3066\u3001\u4e0b\u8a18\u306e\u30af\u30e9\u30b9\u3092ES6\u306eclass\u69cb\u6587\u3092\u4f7f\u3063\u3066\u66f8\u304d\u63db\u3048\u308b\n\n```js\nvar Character = function(x, y) {\n      this.x = x;\n      this.y = y;\n      this.health_ = 100;\n    };\n\n    Character.prototype.damage = function() {\n      this.health_ = this.health_ - 10;\n    };\n\n    Character.prototype.getHealth = function() {\n      return this.health_;\n    };\n\n    Character.prototype.toString = function() {\n      return \"x: \" + this.x + \" y: \" + this.y + \" health: \" + this.getHealth();\n    };\n```\n\n```program.js\n\"use strict\";\n\nclass Character {\n  constructor(x,y) {\n    this.x = x;\n    this.y = y;\n    this.health_ = 100;\n  }\n  damage() {\n    return this.health_ = this.health_ - 10;\n  }\n  getHealth() {\n    return this.health_;\n  }\n  toString() {\n      return \"x: \" + this.x + \" y: \" + this.y + \" health: \" + this.getHealth();\n  }\n}\n\nvar x = process.argv[2];\nvar y = process.argv[3];\nvar character = new Character(+x, +y);\ncharacter.damage();\nconsole.log(character.toString());\n\n```\n- `use strict`\u3092\u52a0\u3048\u306a\u3044\u3068\u4e0b\u8a18\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u306e\u3067\u66f8\u304d\u5fd8\u308c\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\n```\n$ babel-node program.js\n/Users/01006524/Development/src/localhost/tower-of-babel/class/program.js:1\n(function (exports, require, module, __filename, __dirname) { class Character {\n                                                              ^^^^^\n\nSyntaxError: Block-scoped declarations (let, const, function, class) not yet supported outside strict mode\n    at exports.runInThisContext (vm.js:53:16)\n    at Module._compile (module.js:374:25)\n    at loader (/Users/01006524/.nodebrew/node/v5.3.0/lib/node_modules/babel-cli/node_modules/babel-register/lib/node.js:134:5)\n    at Object.require.extensions.(anonymous function) [as .js] (/Users/01006524/.nodebrew/node/v5.3.0/lib/node_modules/babel-cli/node_modules/babel-register/lib/node.js:144:7)\n    at Module.load (module.js:344:32)\n    at Function.Module._load (module.js:301:12)\n    at Function.Module.runMain (module.js:430:10)\n    at /Users/01006524/.nodebrew/node/v5.3.0/lib/node_modules/babel-cli/lib/_babel-node.js:161:27\n    at Object.<anonymous> (/Users/01006524/.nodebrew/node/v5.3.0/lib/node_modules/babel-cli/lib/_babel-node.js:162:7)\n    at Module._compile (module.js:398:26)\n\n```\n\n# CLASS EXTEND\n- \u7d99\u627f\u306e\u6271\u3044\u65b9\u3092\u5b66\u3076\u3002\u57fa\u672c\u7684\u306b\u306f`extends`\u3092\u4f7f\u3063\u3066\u7d99\u627f\u3092\u884c\u3046\u3002\u89aa\u30af\u30e9\u30b9\u306e\u6301\u3064\u30e1\u30bd\u30c3\u30c9\u3084\u30e1\u30bd\u30c3\u30c9\u3092\u5b50\u30af\u30e9\u30b9\u304b\u3089\u547c\u3073\u51fa\u3059\u5834\u5408\u3001`super`\u3068\u3044\u3046\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5229\u7528\n  - \u3053\u306e\u8fba\u3082Java\u3068\u540c\u3058\u3067\u3059\u306d\u3002\n\n```js\n\n// Character\u30af\u30e9\u30b9\n    class Character {\n      constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this.health_ = 100;\n      }\n      attack(character) {\n        if (!(character instanceof Character)) throw new Error('');\n        character.health_ -= 10;\n      }\n    }\n\n    // Character\u3092Monster\u30af\u30e9\u30b9\u306b\u7d99\u627f\n    class Monster extends Character {\n      constructor(x, y, name) {\n        super(x, y);\n        this.name = name;\n      }\n      attack(character) {\n       // super \u3067\u89aa\u30af\u30e9\u30b9\u306eattack\u3092\u305d\u306e\u307e\u307e\u547c\u3076\n       super.attack(character);\n       character.health_ -= 5;\n     }\n   }\n```\n\n## \u554f\u984c\n- \u4e0b\u8a18\u306e\u30b3\u30fc\u30c9\u3092ES6\u306eclass\u69cb\u6587\u3092\u7528\u3044\u3066\u66f8\u304d\u63db\u3048\u308b\n- `util`\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u7528\u3044\u3066\u7d99\u627f\u3059\u308b\u305f\u3081\u306b\u306f`util.inherits(constructor, superConstructor)`\u3092\u4f7f\u3046\n  - `Player`\u304c\u30b5\u30d6\u30af\u30e9\u30b9\uff08\u5b50\u30af\u30e9\u30b9\uff09\u3001`Character`\u304c\u30b9\u30fc\u30d1\u30fc\u30af\u30e9\u30b9\uff08\u89aa\u30af\u30e9\u30b9\uff09\u306b\u306a\u308b\u306e\u3067\u3001\u305d\u306e\u3088\u3046\u306b\u66f8\u304f\n\n```js\nvar util = require('util');\n   var Character = function(x, y) {\n     this.x = x;\n     this.y = y;\n     this.health_ = 100;\n   };\n\n   Character.prototype.damage = function() {\n     this.health_ = this.health_ - 10;\n   };\n\n   Character.prototype.getHealth = function() {\n     return this.health_;\n   };\n\n   Character.prototype.toString = function() {\n     return \"x: \" + this.x + \" y: \" + this.y + \" health: \" + this.getHealth();\n   };\n\n   var Player = function(x, y, name) {\n     Character.call(this, x, y);\n     this.name = name;\n   };\n\n   util.inherits(Player, Character);\n\n   Player.prototype.move = function(dx, dy){\n     this.x += dx;\n     this.y += dy;\n   };\n\n   Player.prototype.toString = function() {\n     return \"name: \" + this.name + \" \" + Player.super_.prototype.toString.call(this);\n   };\n```\n\n```program.js\nvar util = require('util');\n\nclass Character {\n  constructor(x,y) {\n    this.x = x;\n    this.y = y;\n    this.health_ = 100;\n  }\n  damage() {\n    return this.health_ = this.health_ - 10;\n  }\n  getHealth() {\n    return this.health_;\n  }\n  toString() {\n      return \"x: \" + this.x + \" y: \" + this.y + \" health: \" + this.getHealth();\n  }\n}\n\nclass Player extends Character {\n  constructor(x, y, name) {\n    super(x, y);\n    this.name = name;\n  }\n  move(dx, dy) {\n    this.x += dx;\n    this.y += dy;\n  }\n  toString() {\n    return \"name: \" + this.name + \" \" + super.toString();\n  }\n}\n\nvar x = process.argv[2];\nvar y = process.argv[3];\nvar name = process.argv[4];\nvar character = new Character(+x, +y);\ncharacter.damage();\nconsole.log(character.toString());\nvar player = new Player(+x, +y, name);\nplayer.damage();\nplayer.move(7, 8);\nconsole.log(player.toString());\n\n\n```\n\n\n# MODULE WITH NAME\n- \u4eca\u307e\u3067JS\u3067\u306f\u8a00\u8a9e\u30ec\u30d9\u30eb\u3067\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5206\u5272\u304c\u3067\u304d\u306a\u304b\u3063\u305f\n- \u30d6\u30e9\u30a6\u30b6\u3067JS\u3092\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3057\u3066\u30d5\u30ed\u30f3\u30c8\u3067\u8aad\u307f\u8fbc\u3080\u969b\u306f`require.js`\u3084`browserify`\u3068\u3044\u3063\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u89e3\u6c7a\u3057\u3066\u304d\u305f\n- ES6\u3067\u306f\u30e2\u30b8\u30e5\u30fc\u30eb\u5316\u3059\u308b\u305f\u3081\u306e\u5c02\u7528\u69cb\u6587\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\uff08`export`\u3068`import`\uff09\n\n## \u554f\u984c\n- \u4ee5\u4e0b\u306ecommonjs\u3067\u66f8\u304b\u308c\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u3092ES6\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u66f8\u304d\u63db\u3048\u308b\n- \u5b9f\u884c\u6642\u306f``<\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb> <module\u306e\u53c2\u7167\u5143\u30d5\u30a1\u30a4\u30eb>``\u306e\u9806\u5e8f\u3067\u6e21\u3059\n  - \u4f8b\uff1a`tower-of-babel run program.js math.js`\n\n```js\nexports.PI = 3.141592;\n\n    var _sqrt = function(s, x, last){\n      return x != last ? _sqrt(s, (x + s / x) / 2.0, x) : x;\n    };\n    exports.sqrt = function(s){\n      return _sqrt(s, s/2.0, 0.0);\n    };\n    exports.square = function(x) {\n      return x * x;\n    };\n\n    var arg1 = process.argv[2];\n    var arg2 = process.argv[3];\n    var PI = require('./Math').PI;\n    var sqrt = require('./Math').sqrt;\n    var square = require('./Math').square;\n\n    console.log(PI);\n    console.log(sqrt(+arg1));\n    console.log(square(+arg2));\n\n```\n\n```program.js\n\nvar arg1 = process.argv[2];\nvar arg2 = process.argv[3];\n\nimport {PI} from './math';\nimport {sqrt} from './math';\nimport {square} from './math';\n\nconsole.log(PI);\nconsole.log(sqrt(+arg1));\nconsole.log(square(+arg2));\n\n```\n\n```math.js\n\nexport const PI = 3.141592;\n\nvar _sqrt = function(s, x, last){\n  return x != last ? _sqrt(s, (x + s / x) / 2.0, x) : x;\n};\n\nexport function sqrt(s) {\n  return _sqrt(s, s/2.0, 0.0);\n};\n\nexport function square(x) {\n  return x * x;\n};\n\n```\n\n# MODULES DEFAULT EXPORT\n- `export`\u306b\u306f\u901a\u5e38\u306e`export`\u3068`default export`\u306e2\u7a2e\u985e\u3042\u308b\n  - `default export`\u306e\u5834\u5408\u306fexport\u3059\u308b\u969b\u306b`export default`\u69cb\u6587\u3092\u4ed8\u3051\u3066\u516c\u958b\u3059\u308b\u3002\u4ee5\u4e0b\u3001\u4f8b\n\n```Message.js\n\nconst greeting = 'Hello';\nconst name = 'Babel';\nconst version = 'v5.0';\nexport default {\n  greeting: greeting,\n  name: name,\n  version: version\n};\n\n```\n\n```Main.js\n\nimport Message from './Message';\nconsole.log(\n  Message.greeting + ' ' + Message.name + ' ' + Message.version);\n\n```\n\n- \u4e0a\u8a18\u306e\u3088\u3046\u306bimport\u3059\u308b\u969b\u306b`{...}`\u3067\u56f2\u3080\u5fc5\u8981\u304c\u306a\u304f\u3001export\u3055\u308c\u3066\u3044\u308b\u5bfe\u8c61\u306e\u540d\u524d\u3092\u77e5\u3089\u306a\u304f\u3066\u826f\u3044\n\n## \u554f\u984c\n- \u524d\u56de\u8a18\u8ff0\u3057\u305fexport\u3067\u66f8\u304b\u308c\u305f`math.js`\u3068\u5b9f\u884c\u7528\u306eJS\u30d5\u30a1\u30a4\u30eb\u3092`default export`\u3068`import`\u3092\u4f7f\u3063\u3066\u66f8\u304d\u63db\u3048\u308b\n\n```program.js\n\nvar arg1 = process.argv[2];\nvar arg2 = process.argv[3];\n\nimport math from './math';\n\nconsole.log(math.PI);\nconsole.log(math.sqrt(+arg1));\nconsole.log(math.square(+arg2));\n\n```\n\n```math.js\n\nconst PI = 3.141592;\n\nvar _sqrt = function(s, x, last){\n  return x != last ? _sqrt(s, (x + s / x) / 2.0, x) : x;\n};\n\nfunction sqrt(s) {\n  return _sqrt(s, s/2.0, 0.0);\n};\n\nfunction square(x) {\n  return x * x;\n};\n\nexport default {\n  PI: PI,\n  sqrt: sqrt,\n  square: square\n};\n\n```\n\n# BLOCK SCOPE\n- ES6\u3067\u306f`let`\u3001`const`\u3068\u3044\u3063\u305f\u65b0\u3057\u3044\u5909\u6570\u5ba3\u8a00\u304c\u3067\u304d\u308b\u3088\u3046\u306b\n  - `let`\u306f\u6700\u4ee3\u5165\u53ef\u80fd\u306a\u5909\u6570\u3001`const`\u306f\u518d\u4ee3\u5165\u4e0d\u53ef\u80fd\u306a\u5909\u6570\n    - `const`\u306fJava\u3067\u3044\u3046`final`\u7684\u306a\n- \u3053\u308c\u3089\u306e\u5909\u6570\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u5909\u6570\u304c\u30b9\u30b3\u30fc\u30d7\u306e\u5916\u306b\u6f0f\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u308b\n\n```block.js\n\n{\n  var a = 10;\n  let b = 20;\n  const tmp = a;\n  a = b;\n  b = tmp;\n  // tmp = 30; \u518d\u4ee3\u5165\u306f\u3067\u304d\u306a\u3044 SyntaxError\u306b\u306a\u308b\u3002\n}\n\n// a = 20\u3001a\u306fvar\u3067\u5ba3\u8a00\u3057\u3066\u3044\u308b\u306e\u3067\u30d6\u30ed\u30c3\u30af\u30b9\u30b3\u30fc\u30d7\u306e\u5916\u304b\u3089\u3082\u53c2\u7167\u53ef\u80fd\u3002\nconsole.log(a);\n// let\u3067\u5b9a\u7fa9\u3057\u305fb\u306f\u30d6\u30ed\u30c3\u30af\u30b9\u30b3\u30fc\u30d7\u306e\u5916\u304b\u3089\u306f\u89e3\u6c7a\u3067\u304d\u306a\u3044\u3001ReferenceError b is not defined \u306b\u306a\u308b\u3002\nconsole.log(b);\n// const\u3082\u30b9\u30b3\u30fc\u30d7\u306e\u4e2d\u3067\u306e\u307f\u6709\u52b9\u3001tmp is not defined\nconsole.log(tmp);\n\n```\n\n## \u554f\u984c\n\n```\n'use strict';\n// \u5909\u6570 a \u306fblock\u30b9\u30b3\u30fc\u30d7\u306e\u4e2d\u3067\u3082\u5916\u3067\u3082\u518d\u4ee3\u5165\u53ef\u80fd\u306a\u6709\u52b9\u306a\u5909\u6570\u3067\u3059\u3002\n//\u5909\u6570\u5ba3\u8a00\u306e\u65b9\u6cd5(var|let|const)\u306e\u3044\u305a\u308c\u3092\u5229\u7528\u3059\u308b\u3079\u304d\u304b\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\nvar|let|const a = 5;\n\n// \u5909\u6570 b \u306f\u518d\u4ee3\u5165\u4e0d\u53ef\u80fd\u306a\u5909\u6570\u3067\u3059\u3002\n//\u5909\u6570\u5ba3\u8a00\u306e\u65b9\u6cd5(var|let|const)\u306e\u3044\u305a\u308c\u3092\u5229\u7528\u3059\u308b\u3079\u304d\u304b\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\nvar|let|const b = process.argv[2];\n\nif (a === 5) {\n  // \u3053\u3053\u3067\u306e\u5909\u6570 c \u306f\u518d\u4ee3\u5165\u53ef\u80fd\u3067\u3059\u304c\u3001\u3053\u306eblock\u306e\u4e2d\u3067\u3060\u3051\u6709\u52b9\u306a\u5909\u6570\u3067\u3059\u3002\n  //\u5909\u6570\u5ba3\u8a00\u306e\u65b9\u6cd5(var|let|const)\u306e\u3044\u305a\u308c\u3092\u5229\u7528\u3059\u308b\u3079\u304d\u304b\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n  var|let|const c = 4;\n  console.log(c);  // 4\n\n  // \u3053\u3053\u3067\u306e\u5909\u6570 b \u306fblock\u306e\u4e2d\u3060\u3051\u3067\u6709\u52b9\u306a\u5909\u6570\u3067\u3059\u3002\n  //\u5909\u6570\u5ba3\u8a00\u306e\u65b9\u6cd5(var|let|const)\u306e\u3044\u305a\u308c\u3092\u5229\u7528\u3059\u308b\u3079\u304d\u304b\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n  var|let|const b = 8;\n  console.log(b); // 8\n}\n\nconsole.log(a); // 5\nconsole.log(b);\ntry {\n  // \u3053\u3053\u3067 c\u306b\u5bfe\u3057\u3066\u5024\u3092\u5909\u66f4\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n  c = 1000;\n} catch (e) {\n  // c is not defined \u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n  console.log(e);\n}\n```\n```program.js\n'use strict';\nvar a = 5;\n\nconst b = process.argv[2];\n\nif (a === 5) {\n  let c = 4;\n  console.log(c);  // 4\n\n  let b = 8;\n  console.log(b); // 8\n}\n\nconsole.log(a); // 5\nconsole.log(b);\ntry {\n  // \u3053\u3053\u3067 c\u306b\u5bfe\u3057\u3066\u5024\u3092\u5909\u66f4\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n  c = 1000;\n} catch (e) {\n  // c is not defined \u30a8\u30e9\u30fc\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002\n  console.log(e);\n}\n```\n", "tags": ["Node.js", "babel"]}