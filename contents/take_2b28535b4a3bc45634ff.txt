{"tags": ["Rails", "MySQL", "Ruby", "Gem"], "context": " More than 1 year has passed since last update.\n\nTypeError: can't dup NilClass\n\nIf you get an error something like below while bundle install\nInstalling mysql (2.7) with native extensions\nTypeError: can't dup NilClass\nAn error occurred while installing mysql (2.7), and Bundler cannot continue.\nMake sure that `gem install mysql -v '2.7'` succeeds before bundling.\n\nFirst, check your gem's version by executing\n$ gem -v\n\nIf it's newer then 1.5.x, like 1.6.x or above, that's your problem.\nNewer versions of Rubygems doesn't play well with the mysql gem.\nSo downgrade the gem, and retry gem install mysql -v 2.7.\nYou can downgrade the gem by:\n$ gem list rubygems-update\n\n*** LOCAL GEMS ***\nrubygems-update (1.7.2)\n\n$ sudo gem uninstall -v 1.7.2 rubygems-update # uninstall all the local rubygem-update versions if it's newer then 1.5.x\n$ sudo gem install -v 1.5.2 rubygems-update\n$ sudo update_rubygems\n$ gem -v\n1.5.2\n\n\n## `TypeError: can't dup NilClass`\n\nIf you get an error something like below while `bundle install`\n\n```ruby\nInstalling mysql (2.7) with native extensions\nTypeError: can't dup NilClass\nAn error occurred while installing mysql (2.7), and Bundler cannot continue.\nMake sure that `gem install mysql -v '2.7'` succeeds before bundling.\n```\n\nFirst, check your gem's version by executing\n\n```bash\n$ gem -v\n```\n\nIf it's newer then 1.5.x, like 1.6.x or above, that's your problem.\n\nNewer versions of Rubygems doesn't play well with the mysql gem.\n\nSo downgrade the gem, and retry `gem install mysql -v 2.7`.\n\nYou can downgrade the gem by:\n\n```bash\n$ gem list rubygems-update\n\n*** LOCAL GEMS ***\nrubygems-update (1.7.2)\n\n$ sudo gem uninstall -v 1.7.2 rubygems-update # uninstall all the local rubygem-update versions if it's newer then 1.5.x\n$ sudo gem install -v 1.5.2 rubygems-update\n$ sudo update_rubygems\n$ gem -v\n1.5.2\n```"}