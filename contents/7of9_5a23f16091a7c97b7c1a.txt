{"context": "\n\u52d5\u4f5c\u74b0\u5883\nVivado 2015.4 on Windows 8.1 pro\n\n\n\n\u5185\u5bb9\nGPIO http://qiita.com/7of9/items/9f35a6b14f4898690237\nPL\u5074\u306b\u3042\u308bSlide Switch\u3092\u4f7f\u3063\u3066PL\u5074\u306b\u3042\u308bLED\u3092ON/OFF\u3057\u3066\u307f\u308b\u3002\n\nVivado\u5074\n\nAXI_GPIO\u3092\u8ffd\u52a0\u3001sws_4bits\u306b\u4f7f\u3046\nAXI_GPIO\u3092\u8ffd\u52a0\u3001leds_4bits\u306b\u4f7f\u3046\n\nBlock Design\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n\nXSDK\u5074\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u305f\u3002\nSLIDE_DEVICE_ID \u3068 LEDS_DEVICE_ID\u306e\u5b9a\u7fa9\u306fBlock Design\u5074\u3067\u78ba\u8a8d\u3057\u305f\u756a\u53f7(axi_gpio_0\u304baxi_gpio_1\u304b)\u306b\u57fa\u3065\u304f\u3002\n\nhelloWorld.c\n\n#include <stdio.h>\n#include \"xparameters.h\"\n#include \"xgpio.h\"\n#include \"platform.h\"\n\n#define SLIDE_DEVICE_ID XPAR_AXI_GPIO_0_DEVICE_ID\n#define LEDS_DEVICE_ID  XPAR_AXI_GPIO_1_DEVICE_ID\n\nXGpio SlidSWInst;\nstatic int sw_data;\n\nXGpio LEDInst;\nstatic int led_data;\n\nint main()\n{\n    init_platform();\n\n    print(\"Hello World\\n\\r\");\n\n    int status;\n\n    // 1. Slide Switch\n    status = XGpio_Initialize(&SlidSWInst, SLIDE_DEVICE_ID);\n    if (status != XST_SUCCESS) {\n        print(\"Slide Switch initialize failure\\r\\n\");\n        return;\n    }\n    XGpio_SetDataDirection(&SlidSWInst, 1, 0x01);\n\n    // 2. LED\n    status = XGpio_Initialize(&LEDInst, LEDS_DEVICE_ID);\n    if (status != XST_SUCCESS) {\n        print(\"LED initialize failure\\r\\n\");\n        return;\n    }\n    XGpio_SetDataDirection(&LEDInst, 1, 0x00);\n\n    XGpio_DiscreteWrite(&LEDInst, 1, 0x00);\n\n    sw_data = 0x00;\n    int preSW = sw_data;\n\n    while(1) {\n        sw_data = XGpio_DiscreteRead(&SlidSWInst, 1);\n        if (sw_data != preSW) {\n            preSW = sw_data;\n            XGpio_DiscreteWrite(&LEDInst, 1, sw_data);\n        }\n    }\n\n    cleanup_platform();\n    return 0;\n}\n\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306b\u3088\u308aSlide Switch(SW0..SW3)\u3092ON/OFF\u3059\u308b\u3053\u3068\u3067\u3001\u5bfe\u5fdc\u3059\u308bLED(LD0..LD3)\u304cON/OFF\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\nwhile(1)\u3067wait\u3092\u307e\u3063\u305f\u304f\u304b\u3051\u3066\u306a\u3044\u306e\u306f\u6539\u5584\u4e8b\u9805\u3002\n```txt:\u52d5\u4f5c\u74b0\u5883\nVivado 2015.4 on Windows 8.1 pro\n```\n\n## \u5185\u5bb9\n\nGPIO http://qiita.com/7of9/items/9f35a6b14f4898690237\n\nPL\u5074\u306b\u3042\u308bSlide Switch\u3092\u4f7f\u3063\u3066PL\u5074\u306b\u3042\u308bLED\u3092ON/OFF\u3057\u3066\u307f\u308b\u3002\n\n## Vivado\u5074\n\n- AXI_GPIO\u3092\u8ffd\u52a0\u3001sws_4bits\u306b\u4f7f\u3046\n- AXI_GPIO\u3092\u8ffd\u52a0\u3001leds_4bits\u306b\u4f7f\u3046\n\nBlock Design\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308b\u3002\n\n![qiita.png](https://qiita-image-store.s3.amazonaws.com/0/32870/a4431a06-8834-368d-fa3e-a4a1bf11c866.png)\n\n\n## XSDK\u5074\n\n\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u305f\u3002\n\nSLIDE_DEVICE_ID \u3068 LEDS_DEVICE_ID\u306e\u5b9a\u7fa9\u306fBlock Design\u5074\u3067\u78ba\u8a8d\u3057\u305f\u756a\u53f7(axi_gpio_0\u304baxi_gpio_1\u304b)\u306b\u57fa\u3065\u304f\u3002\n\n```helloWorld.c\n\n#include <stdio.h>\n#include \"xparameters.h\"\n#include \"xgpio.h\"\n#include \"platform.h\"\n\n#define SLIDE_DEVICE_ID XPAR_AXI_GPIO_0_DEVICE_ID\n#define LEDS_DEVICE_ID\tXPAR_AXI_GPIO_1_DEVICE_ID\n\nXGpio SlidSWInst;\nstatic int sw_data;\n\nXGpio LEDInst;\nstatic int led_data;\n\nint main()\n{\n    init_platform();\n\n    print(\"Hello World\\n\\r\");\n\n    int status;\n\n    // 1. Slide Switch\n    status = XGpio_Initialize(&SlidSWInst, SLIDE_DEVICE_ID);\n    if (status != XST_SUCCESS) {\n    \tprint(\"Slide Switch initialize failure\\r\\n\");\n    \treturn;\n    }\n    XGpio_SetDataDirection(&SlidSWInst, 1, 0x01);\n\n    // 2. LED\n    status = XGpio_Initialize(&LEDInst, LEDS_DEVICE_ID);\n    if (status != XST_SUCCESS) {\n    \tprint(\"LED initialize failure\\r\\n\");\n    \treturn;\n    }\n    XGpio_SetDataDirection(&LEDInst, 1, 0x00);\n\n    XGpio_DiscreteWrite(&LEDInst, 1, 0x00);\n\n    sw_data = 0x00;\n    int preSW = sw_data;\n\n    while(1) {\n    \tsw_data = XGpio_DiscreteRead(&SlidSWInst, 1);\n    \tif (sw_data != preSW) {\n    \t\tpreSW = sw_data;\n    \t    XGpio_DiscreteWrite(&LEDInst, 1, sw_data);\n    \t}\n    }\n\n    cleanup_platform();\n    return 0;\n}\n```\n\n\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306b\u3088\u308aSlide Switch(SW0..SW3)\u3092ON/OFF\u3059\u308b\u3053\u3068\u3067\u3001\u5bfe\u5fdc\u3059\u308bLED(LD0..LD3)\u304cON/OFF\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\nwhile(1)\u3067wait\u3092\u307e\u3063\u305f\u304f\u304b\u3051\u3066\u306a\u3044\u306e\u306f\u6539\u5584\u4e8b\u9805\u3002\n\n", "tags": ["zybo", "Primer"]}