{"context": " More than 1 year has passed since last update.\n\n\u3084\u308a\u305f\u3044\u3053\u3068\n## \u6ce2\u52d5\u65b9\u7a0b\u5f0f\n\n$$\n\\frac{\\partial^2 p}{\\partial t^2} = c^2 \\nabla^2 p\n$$\n\n\n\u3053\u3046\u3044\u3046markdown\u30d5\u30a1\u30a4\u30eb\u3092 xhr \u3067\u3068\u3063\u3066\u304d\u3066\n\n\u6570\u5f0f\u3068markdown\u3092\u52d5\u7684\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u305f\u3044\u3002\n\n\u65b9\u91dd\nXHR\u3067\u53d6\u3063\u3066\u304d\u305f.md\u30d5\u30a1\u30a4\u30eb\u3092marked\u3067html\u306b\u5909\u63db\u3057\u305f\u5f8cbody\u306b\u633f\u5165\u3057mathjax\u767a\u52d5\nlocation.hash\u3092\u4f7f\u3063\u3066\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3082\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"github-markdown.css\" />\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js\"></script>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.5/marked.min.js\"></script>\n  <script type=\"text/x-mathjax-config\">\n    MathJax.Hub.Config({\n      skipStartupTypeset: true, // \u30da\u30fc\u30b8\u30ed\u30fc\u30c9\u6642\u306emathjax\u767a\u52d5\u7981\u6b62\n      extensions: [\"tex2jax.js\"],\n      jax: [\"input/TeX\", \"output/HTML-CSS\"],\n      tex2jax: {\n        inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ],\n        displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ],\n        processEscapes: true\n      },\n      \"HTML-CSS\": {\n        availableFonts: [\"TeX\"]\n      }\n    });\n  </script>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML&delayStartupUntil=configured\"></script>\n</head>\n<body>\n  <div id=\"content\" class=\"markdown-body\"></div>\n  <footer>\n    <a href=\"javascript:history.back();\">Back</a>\n  </footer>\n<script>\nwindow.addEventListener(\"DOMContentLoaded\", main);\nwindow.addEventListener(\"hashchange\", main);\n\nvar get = $.get;\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  gfm: true,\n  tables: true,\n  breaks: true,\n  pedantic: false,\n  sanitize: false,\n  smartLists: false,\n  smartypants: false\n});\n\nfunction main(){\n  // \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n  var name = \"\";\n  if( location.hash.length <= 1 ){\n    name = \"index.md\";\n    location.hash = \"#\" + name;\n  }else{\n    name = location.hash.slice(1);\n  }\n  // \u30da\u30fc\u30b8\u5185\u30ea\u30f3\u30af\u306a\u306e\u3067history.pushState\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\n  get(name).catch(function(){\n    return Promise.resolve(\"# 404 page not found\");\n  }).then(function(text){\n    // marked\u306blatex\u30bf\u30b0\u98df\u308f\u305b\u308b\u3068&<>\u3068\u304b\u304c\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u306e\u3067<pre />\u3067\u5305\u3093\u3067\u9000\u907f\n    // \u3061\u306a\u307f\u306b```math\u3068\u304b\u3067<pre><code class=\"lang-math\">\u306b\u306a\u3063\u305f\u306e\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u306e\u3067\u6ce8\u610f\n    var PREFIX = \"<pre><code class=\\\"lang-math\\\">\";\n    var SUFFIX = \"</code></pre>\";\n    var reg = new RegExp(\n      (\"(?:\" + PREFIX + \"([\\\\s\\\\S]*?)\" + SUFFIX + \")\")\n        .replace(/\\//g, \"\\/\"),\n      \"gm\");\n    var wraped = text.split(\"$$\")\n      .reduce(function(sum, str, i){\n        return i % 2 === 0 ?\n               sum + str :\n               sum + PREFIX + str + SUFFIX;\n      }, \"\");\n    var html = marked(wraped);\n    // \u9000\u907f\u3057\u305flatex\u30bf\u30b0\u3092$$\u3067\u5305\u307f\u76f4\u3059\n    var _html = html;\n    var tuple = null;\n    while(tuple = reg.exec(html)){\n      _html = _html.split(tuple[0]).join(\"$$\" + tuple[1] + \"$$\");\n    }\n    // mathjax\u3067\u51e6\u7406\n    var div = document.getElementById(\"content\");\n    div.innerHTML = _html;\n    MathJax.Hub.Configured();\n    MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, div]);\n  }).catch(function(err){\n    // jquery\u306epromise\u306fthen\u306e\u4e2d\u3067\u30a8\u30e9\u30fc\u5410\u3044\u3066\u6b62\u307e\u3063\u3066\u3082console\u306b\u8868\u793a\u3057\u3066\u304f\u308c\u306a\u3044\u306e\u3067\u8868\u793a\u3055\u305b\u308b\n    console.error(err);\n  });\n}\n</script>\n</body>\n</html>\n\n\n\u307e\u3081\u3061\u3057\u304d\n\ngithub\u5927\u597d\u304d\u30de\u30f3\u306fmarkdown\u306eCSS\u306bgithub-markdown-css\u3092\u4f7f\u3046\u3068\u5409\u3002\n\nmarked\u306a\u3089marked.setOptions({gfm: true});\u3068\u3059\u308c\u3070github-flavored-markdown\u304c\u4f7f\u3048\u308b\u3002\n\n# \u3084\u308a\u305f\u3044\u3053\u3068\n\n```markdown\n## \u6ce2\u52d5\u65b9\u7a0b\u5f0f\n\n$$\n\\frac{\\partial^2 p}{\\partial t^2} = c^2 \\nabla^2 p\n$$\n\n```\n\u3053\u3046\u3044\u3046markdown\u30d5\u30a1\u30a4\u30eb\u3092 xhr \u3067\u3068\u3063\u3066\u304d\u3066\n\n![\u6ce2\u52d5\u65b9\u7a0b\u5f0f](https://i.gyazo.com/4f6951726e3bdde2ff9641424a04e819.png)\n\n\u6570\u5f0f\u3068markdown\u3092\u52d5\u7684\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3057\u305f\u3044\u3002\n\n# \u65b9\u91dd\nXHR\u3067\u53d6\u3063\u3066\u304d\u305f.md\u30d5\u30a1\u30a4\u30eb\u3092marked\u3067html\u306b\u5909\u63db\u3057\u305f\u5f8cbody\u306b\u633f\u5165\u3057mathjax\u767a\u52d5\n\n`location.hash`\u3092\u4f7f\u3063\u3066\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3082\n\n```html\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"github-markdown.css\" />\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js\"></script>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.5/marked.min.js\"></script>\n  <script type=\"text/x-mathjax-config\">\n    MathJax.Hub.Config({\n      skipStartupTypeset: true, // \u30da\u30fc\u30b8\u30ed\u30fc\u30c9\u6642\u306emathjax\u767a\u52d5\u7981\u6b62\n      extensions: [\"tex2jax.js\"],\n      jax: [\"input/TeX\", \"output/HTML-CSS\"],\n      tex2jax: {\n        inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ],\n        displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ],\n        processEscapes: true\n      },\n      \"HTML-CSS\": {\n        availableFonts: [\"TeX\"]\n      }\n    });\n  </script>\n  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML&delayStartupUntil=configured\"></script>\n</head>\n<body>\n  <div id=\"content\" class=\"markdown-body\"></div>\n  <footer>\n    <a href=\"javascript:history.back();\">Back</a>\n  </footer>\n<script>\nwindow.addEventListener(\"DOMContentLoaded\", main);\nwindow.addEventListener(\"hashchange\", main);\n\nvar get = $.get;\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  gfm: true,\n  tables: true,\n  breaks: true,\n  pedantic: false,\n  sanitize: false,\n  smartLists: false,\n  smartypants: false\n});\n\nfunction main(){\n  // \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n  var name = \"\";\n  if( location.hash.length <= 1 ){\n    name = \"index.md\";\n    location.hash = \"#\" + name;\n  }else{\n    name = location.hash.slice(1);\n  }\n  // \u30da\u30fc\u30b8\u5185\u30ea\u30f3\u30af\u306a\u306e\u3067history.pushState\u3059\u308b\u5fc5\u8981\u306f\u306a\u3044\n  get(name).catch(function(){\n    return Promise.resolve(\"# 404 page not found\");\n  }).then(function(text){\n    // marked\u306blatex\u30bf\u30b0\u98df\u308f\u305b\u308b\u3068&<>\u3068\u304b\u304c\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u306e\u3067<pre />\u3067\u5305\u3093\u3067\u9000\u907f\n    // \u3061\u306a\u307f\u306b```math\u3068\u304b\u3067<pre><code class=\"lang-math\">\u306b\u306a\u3063\u305f\u306e\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u308b\u306e\u3067\u6ce8\u610f\n    var PREFIX = \"<pre><code class=\\\"lang-math\\\">\";\n    var SUFFIX = \"</code></pre>\";\n    var reg = new RegExp(\n      (\"(?:\" + PREFIX + \"([\\\\s\\\\S]*?)\" + SUFFIX + \")\")\n        .replace(/\\//g, \"\\/\"),\n      \"gm\");\n    var wraped = text.split(\"$$\")\n      .reduce(function(sum, str, i){\n        return i % 2 === 0 ?\n               sum + str :\n               sum + PREFIX + str + SUFFIX;\n      }, \"\");\n    var html = marked(wraped);\n    // \u9000\u907f\u3057\u305flatex\u30bf\u30b0\u3092$$\u3067\u5305\u307f\u76f4\u3059\n    var _html = html;\n    var tuple = null;\n    while(tuple = reg.exec(html)){\n      _html = _html.split(tuple[0]).join(\"$$\" + tuple[1] + \"$$\");\n    }\n    // mathjax\u3067\u51e6\u7406\n    var div = document.getElementById(\"content\");\n    div.innerHTML = _html;\n    MathJax.Hub.Configured();\n    MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, div]);\n  }).catch(function(err){\n    // jquery\u306epromise\u306fthen\u306e\u4e2d\u3067\u30a8\u30e9\u30fc\u5410\u3044\u3066\u6b62\u307e\u3063\u3066\u3082console\u306b\u8868\u793a\u3057\u3066\u304f\u308c\u306a\u3044\u306e\u3067\u8868\u793a\u3055\u305b\u308b\n    console.error(err);\n  });\n}\n</script>\n</body>\n</html>\n```\n\n# \u307e\u3081\u3061\u3057\u304d\n* github\u5927\u597d\u304d\u30de\u30f3\u306fmarkdown\u306eCSS\u306b[github-markdown-css](https://github.com/sindresorhus/github-markdown-css)\u3092\u4f7f\u3046\u3068\u5409\u3002\n* [marked](https://github.com/chjj/marked)\u306a\u3089`marked.setOptions({gfm: true});`\u3068\u3059\u308c\u3070[github-flavored-markdown](https://help.github.com/articles/github-flavored-markdown/)\u304c\u4f7f\u3048\u308b\u3002\n", "tags": ["Markdown", "Marked", "MathJax", "JavaScript"]}