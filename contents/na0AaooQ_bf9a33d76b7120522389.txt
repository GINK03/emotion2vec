{"context": "\n\n\u306f\u3058\u3081\u306b\nSalesforce\u306b\u5bfe\u3057\u3066\u3001\u69d8\u3005\u306a\u64cd\u4f5c\u3092\u884c\u3048\u308bSalesforce REST API\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\nSalesforce REST API\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u3067\u3001Ruby\u304b\u3089Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u305f\u308a\u3001\u30ec\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u305f\u308a\u3068\u3044\u3063\u305f\u64cd\u4f5c\u304c\u53ef\u80fd\u3067\u3059\u3002\nRuby\u304b\u3089Salesforce REST API\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u3067\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8a18\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3082\u5408\u308f\u305b\u3066\u8a18\u3057\u307e\u3059\u3002\n\n\u5b9f\u884c\u74b0\u5883\nRuby\u304b\u3089Salesforce REST API\u3092\u547c\u3073\u51fa\u3059\u74b0\u5883\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u53c2\u8003\u306b\u3057\u3066\u3001AWS EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306b\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\nhttp://qiita.com/na0AaooQ/items/d7f814b184c6c1bd9d9c\n\u30ec\u30b3\u30fc\u30c9\u8ffd\u52a0\u5bfe\u8c61\u306eSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8(\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d: QuickStart__c)\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u307e\u305f\u3001EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089Salesforce REST API\u3092\u547c\u3073\u51fa\u3059\u70ba\u306eSalesforce OAuth\u8a2d\u5b9a\u3082\u4ee5\u4e0b\u3092\u3054\u53c2\u7167\u4e0b\u3055\u3044\u3002\nhttp://qiita.com/na0AaooQ/items/157c28a80948c4b97bed\n\nSalesforce REST API\u63a5\u7d9a\u306b\u4f7f\u7528\u3057\u305fRuby\u306eGem\n\u4eca\u56de\u306e\u624b\u9806\u3067\u306f\u300cdatabasedotcom\u300d\u3067\u306f\u306a\u304f\u300crestforce\u300d\u3068\u3044\u3046Gem\u3092\u4f7f\u7528\u3057\u3066\u3001Ruby\u304b\u3089Salesforce REST API\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nhttps://github.com/ejholmes/restforce\nGem\u300cdatabasedotcom\u300d\u3092\u4f7f\u7528\u3057\u305fSalesforce REST API\u306e\u5b9f\u884c\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u3092\u3054\u53c2\u7167\u4e0b\u3055\u3044\u3002\nhttp://qiita.com/na0AaooQ/items/1ac53c3899755f935c7b\n\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u3078\u306eRuby\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n(1) EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306bRuby\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306bRuby\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nhttp://qiita.com/na0AaooQ/items/d7f814b184c6c1bd9d9c\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u3078\u306erestforce(Gem)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n(2) .bashrc\u306bSalesforce REST API\u63a5\u7d9a\u7528\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server ~]$ cp -p /home/ec2-user/.bashrc /home/ec2-user/.bashrc.ORG\n[ec2-user@example-ruby-sinatra-server ~]$ diff /home/ec2-user/.bashrc /home/ec2-user/.bashrc.ORG\n[ec2-user@example-ruby-sinatra-server ~]$ \n\n[ec2-user@example-ruby-sinatra-server ~]$ vi /home/ec2-user/.bashrc\n\u3000(\u672b\u5c3e\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3059\u308b)\n\n### Sandbox\u74b0\u5883\u3078\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306eAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\n##export DATABASEDOTCOM_HOST=\"test.salesforce.com\"\n### \u672c\u756a\u74b0\u5883\u3078\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306eAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\nexport DATABASEDOTCOM_HOST=\"login.salesforce.com\"\n\nexport DATABASEDOTCOM_CLIENT_ID=\"\u524d\u8ff0\u306e\u300c\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u9375\u300d(OAuth\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u30ad\u30fc)\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\"\nexport DATABASEDOTCOM_CLIENT_SECRET=\"\u524d\u8ff0\u306e\u300c\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u306e\u79d8\u5bc6\u300d(OAuth\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u30b7\u30fc\u30af\u30ec\u30c3\u30c8)\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\"\nexport DATABASEDOTCOM_CLIENT_USERNAME=\"salesforce_api_testuser@**********.salesforce.example.com\"\nexport DATABASEDOTCOM_CLIENT_AUTHENTICATE_PASSWORD=\"API\u3092\u6709\u52b9\u5316\u3057\u3066\u3044\u308bSalesforce\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\"\n\n\n(3) .bashrc\u306b\u8ffd\u52a0\u3057\u305f\u74b0\u5883\u5909\u6570\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server ~]$ source /home/ec2-user/.bashrc\n[ec2-user@example-ruby-sinatra-server ~]$ \n\n\n(4) EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306b/home/ec2-user/select_salesforce_restforce_api_test\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001restforce(Gem)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3001\u30ec\u30b3\u30fc\u30c9\u8ffd\u52a0\u3068\u30ec\u30b3\u30fc\u30c9\u8868\u793a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5404\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u3066\u3044\u304f\u4e8b\u306b\u3057\u307e\u3059\u3002\n\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u5185\u5bb9\n\u4f5c\u6210\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d\n\n\n\n\n\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\n/home/ec2-user/insert_salesforce_restforce_api_test\n\n\n\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\n/home/ec2-user/select_salesforce_restforce_api_test\n\n\n\n[ec2-user@example-ruby-sinatra-server ~]$ hostname\nexample-ruby-sinatra-server\n[ec2-user@example-ruby-sinatra-server ~]$ id\nuid=500(ec2-user) gid=500(ec2-user) groups=500(ec2-user),10(wheel)\n[ec2-user@example-ruby-sinatra-server ~]$ mkdir /home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 8\ndrwx------ 8 ec2-user ec2-user 4096  3\u6708 11 13:02 ..\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:02 .\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\nGemfile\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle init\nWriting new Gemfile to /home/ec2-user/select_salesforce_restforce_api_test/Gemfile\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 12\ndrwx------ 8 ec2-user ec2-user 4096  3\u6708 11 13:02 ..\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:03 Gemfile\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:03 .\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\n\u5ff5\u306e\u70ba\u3001\u4f5c\u696d\u958b\u59cb\u524d\u306eGemfile\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ cp -p /home/ec2-user/select_salesforce_restforce_api_test/Gemfile /home/ec2-user/select_salesforce_restforce_api_test/Gemfile.ORG\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ diff /home/ec2-user/select_salesforce_restforce_api_test/Gemfile /home/ec2-user/select_salesforce_restforce_api_test/Gemfile.ORG\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ cat /home/ec2-user/select_salesforce_restforce_api_test/Gemfile\n# frozen_string_literal: true\nsource \"https://rubygems.org\"\n\n# gem \"rails\"\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\nGemfile\u306brestforce ( https://github.com/ejholmes/restforce )\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ echo 'gem \"restforce\"' >> /home/ec2-user/select_salesforce_restforce_api_test/Gemfile\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ cat /home/ec2-user/select_salesforce_restforce_api_test/Gemfile\n# frozen_string_literal: true\nsource \"https://rubygems.org\"\n\n# gem \"rails\"\ngem \"restforce\"\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ diff /home/ec2-user/select_salesforce_restforce_api_test/Gemfile /home/ec2-user/select_salesforce_restforce_api_test/Gemfile.ORG\n5d4\n< gem \"restforce\"\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\nrestforce(Gem)\u304c\u307e\u3060\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u4e8b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle list\nCould not find gem 'restforce' in any of the gem sources listed in your Gemfile or available on this machine.\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\nrestforce(Gem)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 16\ndrwx------ 8 ec2-user ec2-user 4096  3\u6708 11 13:02 ..\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:03 Gemfile.ORG\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:06 .\n-rw-r--r-- 1 ec2-user ec2-user   91  3\u6708 11 13:06 Gemfile\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle install --path vendor/bundle\nFetching gem metadata from https://rubygems.org/.........\nFetching version metadata from https://rubygems.org/..\nFetching dependency metadata from https://rubygems.org/.\nResolving dependencies...\nInstalling multipart-post 2.0.0\nInstalling hashie 3.5.5\nInstalling json 2.0.3 with native extensions\nUsing bundler 1.13.2\nInstalling faraday 0.9.2\nInstalling faraday_middleware 0.11.0.1\nInstalling restforce 2.5.0\nBundle complete! 1 Gemfile dependency, 7 gems now installed.\nBundled gems are installed into ./vendor/bundle.\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\nrestforce(Gem)\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u4e8b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle list | grep restforce\n  * restforce (2.5.0)\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle list\nGems included by the bundle:\n  * bundler (1.13.2)\n  * faraday (0.9.2)\n  * faraday_middleware (0.11.0.1)\n  * hashie (3.5.5)\n  * json (2.0.3)\n  * multipart-post (2.0.0)\n  * restforce (2.5.0)\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 28\ndrwx------ 8 ec2-user ec2-user 4096  3\u6708 11 13:02 ..\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:03 Gemfile.ORG\n-rw-r--r-- 1 ec2-user ec2-user   91  3\u6708 11 13:06 Gemfile\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:08 .bundle\ndrwxrwxr-x 3 ec2-user ec2-user 4096  3\u6708 11 13:08 vendor\n-rw-rw-r-- 1 ec2-user ec2-user  433  3\u6708 11 13:08 Gemfile.lock\ndrwxrwxr-x 4 ec2-user ec2-user 4096  3\u6708 11 13:08 .\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\n\n(5) EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306b/home/ec2-user/insert_salesforce_restforce_api_test\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001restforce(Gem)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server ~]$ hostname\nexample-ruby-sinatra-server\n[ec2-user@example-ruby-sinatra-server ~]$ mkdir /home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/insert_salesforce_restforce_api_test\n\u5408\u8a08 8\ndrwx------ 9 ec2-user ec2-user 4096  3\u6708 11 13:13 ..\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:13 .\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n\n\u524d\u8ff0\u306e\u624b\u9806(4)\u3092\u53c2\u8003\u306b\u3057\u3066\u3001restforce(Gem)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/insert_salesforce_restforce_api_test\n\u5408\u8a08 28\ndrwx------ 9 ec2-user ec2-user 4096  3\u6708 11 13:13 ..\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:14 Gemfile.ORG\n-rw-r--r-- 1 ec2-user ec2-user   91  3\u6708 11 13:15 Gemfile\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:15 .bundle\ndrwxrwxr-x 3 ec2-user ec2-user 4096  3\u6708 11 13:15 vendor\n-rw-rw-r-- 1 ec2-user ec2-user  433  3\u6708 11 13:15 Gemfile.lock\ndrwxrwxr-x 4 ec2-user ec2-user 4096  3\u6708 11 13:15 .\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ bundle list | grep restforce\n  * restforce (2.5.0)\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ bundle list\nGems included by the bundle:\n  * bundler (1.13.2)\n  * faraday (0.9.2)\n  * faraday_middleware (0.11.0.1)\n  * hashie (3.5.5)\n  * json (2.0.3)\n  * multipart-post (2.0.0)\n  * restforce (2.5.0)\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n\n\nRuby\u304b\u3089Salesforce REST API\u3092\u5b9f\u884c\u3057\u3066Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u3059\u308b\nRuby\u304b\u3089restforce(Gem)\u7d4c\u7531\u3067Salesforce REST API\u3092\u547c\u3073\u51fa\u3057\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u3057\u307e\u3059\u3002\nSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300c\u30c6\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d(\u4f8b\u3068\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\u304c QuickStart__c \u3067\u3042\u308b\u3068\u3057\u307e\u3059)\u306e\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u3059\u308bRuby\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nSOQL(Salesforce Object Query Language)\u306eWHERE\u53e5\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u306b\u4e00\u81f4\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u306e\u307f\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\u3000[WHERE\u53e5\u306e\u6761\u4ef6]\n\u3000\u3000\u672c\u65e5\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9 ( create_date__c >= TODAY )\nSOQL\u306e\u65e5\u4ed8\u5f62\u5f0f\u3068\u65e5\u4ed8\u30ea\u30c6\u30e9\u30eb\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f Force.com SOQL \u304a\u3088\u3073 SOSL \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 \u3092\u3054\u53c2\u7167\u4e0b\u3055\u3044\u3002\n\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u51fa\u6765\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/select_salesforce_restforce_api_test/\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 32\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:03 Gemfile.ORG\n-rw-r--r-- 1 ec2-user ec2-user   91  3\u6708 11 13:06 Gemfile\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:08 .bundle\ndrwxrwxr-x 3 ec2-user ec2-user 4096  3\u6708 11 13:08 vendor\n-rw-rw-r-- 1 ec2-user ec2-user  433  3\u6708 11 13:08 Gemfile.lock\ndrwx------ 9 ec2-user ec2-user 4096  3\u6708 11 13:24 ..\ndrwxrwxr-x 4 ec2-user ec2-user 4096  3\u6708 11 13:24 .\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ vi /home/ec2-user/select_salesforce_restforce_api_test/select_salesforce_api_test.rb\n\n\n/home/ec2-user/select_salesforce_restforce_api_test/select_salesforce_api_test.rb\n#!/bin/env ruby\n#\nrequire 'bundler/setup'\nrequire 'restforce'\n\n# Salesforce\u63a5\u7d9a\u7528\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u6210\u3068Salesforce API\u8a8d\u8a3c\nclient = Restforce.new(\n     host: ENV['DATABASEDOTCOM_HOST'],\n     username: ENV['DATABASEDOTCOM_CLIENT_USERNAME'],\n     password: ENV['DATABASEDOTCOM_CLIENT_AUTHENTICATE_PASSWORD'],\n     client_id: ENV['DATABASEDOTCOM_CLIENT_ID'],\n     client_secret: ENV['DATABASEDOTCOM_CLIENT_SECRET']\n)\n\n# Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u4e00\u89a7\u3092\u8868\u793a\nclient.query(\"SELECT user_name__c, user_email__c, create_date__c FROM QuickStart__c WHERE create_date__c >= TODAY\").each do|record|\n  p \"#{record.user_name__c} : #{record.user_email__c} #{record.create_date__c}\"\nend\n\n\nRuby\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u51fa\u6765\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ruby /home/ec2-user/select_salesforce_restforce_api_test/select_salesforce_api_test.rb\n\"testname_Ruby_20170311_133426 : testname_Ruby_20170311_133426@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_134741 : testname_Ruby_20170311_134741@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_114548 : testname_Node_20170311_114548@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_122544 : testname_Node_20170311_122544@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114515 : testname_Ruby_20170311_114515@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_122603 : testname_Node_20170311_122603@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114654 : testname_Ruby_20170311_114654@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_121201 : testname_Node_20170311_121201@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_134744 : testname_Ruby_20170311_134744@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_123050 : testname_Node_20170311_123050@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114637 : testname_Ruby_20170311_114637@hoge.example.com 2017-03-11\"\n\"testname_Ruby120170311_134632 : testname_Ruby120170311_134632@hoge.example.com 2017-03-11\"\n\"testname_Ruby1_20170311_134643 : testname_Ruby1_20170311_134643@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_114546 : testname_Node_20170311_114546@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_122616 : testname_Node_20170311_122616@hoge.example.com 2017-03-11\"\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\n\nRuby\u304b\u3089Salesforce REST API\u3092\u5b9f\u884c\u3057\u3066Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\nRuby\u304b\u3089restforce(Gem)\u7d4c\u7531\u3067Salesforce REST API\u3092\u547c\u3073\u51fa\u3057\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\nSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3078\u306e\u30ec\u30b3\u30fc\u30c9\u8ffd\u52a0\u5f8c\u3001\u5408\u308f\u305b\u3066SOQL(Salesforce Object Query Language)\u306eWHERE\u53e5\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u306bAND\u3067\u4e00\u81f4\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u306e\u307f\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\u3000[WHERE\u53e5\u306e\u6761\u4ef61]\n\u3000\u3000Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306euser_email_c\u9805\u76ee\u306b'Ruby'\u3068\u3044\u3046\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b ( useremail__c LIKE '%Ruby%' )\n\u3000\u3000\u3000AND\n\u3000[WHERE\u53e5\u306e\u6761\u4ef62]\n\u3000\u3000\u672c\u65e5\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9 ( create_date__c >= TODAY )\nSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300c\u30c6\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d(\u4f8b\u3068\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\u304c QuickStart__c \u3067\u3042\u308b\u3068\u3057\u307e\u3059)\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308bRuby\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ vi /home/ec2-user/insert_salesforce_restforce_api_test/insert_salesforce_api_test.rb\n\n\n/home/ec2-user/insert_salesforce_restforce_api_test/insert_salesforce_api_test.rb\n#!/bin/env ruby\n#\nrequire 'bundler/setup'\nrequire 'restforce'\nrequire 'date'\n\n# Salesforce\u63a5\u7d9a\u7528\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u6210\u3068Salesforce API\u8a8d\u8a3c\nclient = Restforce.new(\n     host: ENV['DATABASEDOTCOM_HOST'],\n     username: ENV['DATABASEDOTCOM_CLIENT_USERNAME'],\n     password: ENV['DATABASEDOTCOM_CLIENT_AUTHENTICATE_PASSWORD'],\n     client_id: ENV['DATABASEDOTCOM_CLIENT_ID'],\n     client_secret: ENV['DATABASEDOTCOM_CLIENT_SECRET']\n)\n\nnow = Time.now\ncreate_date = now.strftime(\"%Y-%m-%d\")\ninsert_time = now.strftime(\"%Y%m%d_%H%M%S\")\ninsert_name = \"testname_Ruby_\" + insert_time\ninsert_email = insert_name + \"@hoge.example.com\"\n\n# Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\nclient.create(\n  'QuickStart__c',\n  user_name__c: insert_name,\n  user_email__c: insert_email,\n  create_date__c: create_date\n)\n\n# Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u4e00\u89a7\u3092\u8868\u793a\nclient.query(\"SELECT user_name__c, user_email__c, create_date__c FROM QuickStart__c WHERE user_email__c LIKE '%Ruby%' AND create_date__c >= TODAY\").each do|record|\n  p \"#{record.user_name__c} : #{record.user_email__c} #{record.create_date__c}\"\nend\n\n\n\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3078\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u51fa\u6765\u307e\u3059\u3002\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/insert_salesforce_restforce_api_test/\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ ruby /home/ec2-user/insert_salesforce_restforce_api_test/insert_salesforce_api_test.rb\n\"testname_Ruby_20170311_133426 : testname_Ruby_20170311_133426@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_134741 : testname_Ruby_20170311_134741@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114515 : testname_Ruby_20170311_114515@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114654 : testname_Ruby_20170311_114654@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_134744 : testname_Ruby_20170311_134744@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114637 : testname_Ruby_20170311_114637@hoge.example.com 2017-03-11\"\n\"testname_Ruby120170311_134632 : testname_Ruby120170311_134632@hoge.example.com 2017-03-11\"\n\"testname_Ruby1_20170311_134643 : testname_Ruby1_20170311_134643@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_135450 : testname_Ruby_20170311_135450@hoge.example.com 2017-03-11\"\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n\n\nSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8ffd\u52a0\u3055\u308c\u305f\u30ec\u30b3\u30fc\u30c9\n\u524d\u8ff0\u306eRuby\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u3067\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8(QuickStart__c = \u30c6\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30ec\u30b3\u30fc\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\n\n\n\n\u4ee5\u4e0a\u306b\u306a\u308a\u307e\u3059\u3002\n\u306f\u3058\u3081\u306b\n===\n\nSalesforce\u306b\u5bfe\u3057\u3066\u3001\u69d8\u3005\u306a\u64cd\u4f5c\u3092\u884c\u3048\u308bSalesforce REST API\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u3002\n\nSalesforce REST API\u3092\u4f7f\u7528\u3059\u308b\u4e8b\u3067\u3001Ruby\u304b\u3089Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u305f\u308a\u3001\u30ec\u30b3\u30fc\u30c9\u3092\u53d6\u5f97\u3057\u305f\u308a\u3068\u3044\u3063\u305f\u64cd\u4f5c\u304c\u53ef\u80fd\u3067\u3059\u3002\n\nRuby\u304b\u3089Salesforce REST API\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u3067\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8a18\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3082\u5408\u308f\u305b\u3066\u8a18\u3057\u307e\u3059\u3002\n\n\u5b9f\u884c\u74b0\u5883\n===\n\nRuby\u304b\u3089Salesforce REST API\u3092\u547c\u3073\u51fa\u3059\u74b0\u5883\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3092\u53c2\u8003\u306b\u3057\u3066\u3001AWS EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306b\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\nhttp://qiita.com/na0AaooQ/items/d7f814b184c6c1bd9d9c\n\n\u30ec\u30b3\u30fc\u30c9\u8ffd\u52a0\u5bfe\u8c61\u306eSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8(\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d: QuickStart__c)\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u307e\u305f\u3001EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089Salesforce REST API\u3092\u547c\u3073\u51fa\u3059\u70ba\u306eSalesforce OAuth\u8a2d\u5b9a\u3082\u4ee5\u4e0b\u3092\u3054\u53c2\u7167\u4e0b\u3055\u3044\u3002\nhttp://qiita.com/na0AaooQ/items/157c28a80948c4b97bed\n\nSalesforce REST API\u63a5\u7d9a\u306b\u4f7f\u7528\u3057\u305fRuby\u306eGem\n===\n\n\u4eca\u56de\u306e\u624b\u9806\u3067\u306f\u300cdatabasedotcom\u300d\u3067\u306f\u306a\u304f\u300crestforce\u300d\u3068\u3044\u3046Gem\u3092\u4f7f\u7528\u3057\u3066\u3001Ruby\u304b\u3089Salesforce REST API\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nhttps://github.com/ejholmes/restforce\n\n\nGem\u300cdatabasedotcom\u300d\u3092\u4f7f\u7528\u3057\u305fSalesforce REST API\u306e\u5b9f\u884c\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u3092\u3054\u53c2\u7167\u4e0b\u3055\u3044\u3002\nhttp://qiita.com/na0AaooQ/items/1ac53c3899755f935c7b\n\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u3078\u306eRuby\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n===\n\n## (1) EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306bRuby\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306bRuby\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\nhttp://qiita.com/na0AaooQ/items/d7f814b184c6c1bd9d9c\n\nEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u3078\u306erestforce(Gem)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## (2) .bashrc\u306bSalesforce REST API\u63a5\u7d9a\u7528\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server ~]$ cp -p /home/ec2-user/.bashrc /home/ec2-user/.bashrc.ORG\n[ec2-user@example-ruby-sinatra-server ~]$ diff /home/ec2-user/.bashrc /home/ec2-user/.bashrc.ORG\n[ec2-user@example-ruby-sinatra-server ~]$ \n```\n\n```\n[ec2-user@example-ruby-sinatra-server ~]$ vi /home/ec2-user/.bashrc\n\u3000(\u672b\u5c3e\u306b\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3059\u308b)\n\n### Sandbox\u74b0\u5883\u3078\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306eAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\n##export DATABASEDOTCOM_HOST=\"test.salesforce.com\"\n### \u672c\u756a\u74b0\u5883\u3078\u63a5\u7d9a\u3059\u308b\u5834\u5408\u306eAPI\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\nexport DATABASEDOTCOM_HOST=\"login.salesforce.com\"\n\nexport DATABASEDOTCOM_CLIENT_ID=\"\u524d\u8ff0\u306e\u300c\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u9375\u300d(OAuth\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u30ad\u30fc)\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\"\nexport DATABASEDOTCOM_CLIENT_SECRET=\"\u524d\u8ff0\u306e\u300c\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u306e\u79d8\u5bc6\u300d(OAuth\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u30b7\u30fc\u30af\u30ec\u30c3\u30c8)\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\"\nexport DATABASEDOTCOM_CLIENT_USERNAME=\"salesforce_api_testuser@**********.salesforce.example.com\"\nexport DATABASEDOTCOM_CLIENT_AUTHENTICATE_PASSWORD=\"API\u3092\u6709\u52b9\u5316\u3057\u3066\u3044\u308bSalesforce\u30e6\u30fc\u30b6\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002\"\n```\n\n## (3) .bashrc\u306b\u8ffd\u52a0\u3057\u305f\u74b0\u5883\u5909\u6570\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server ~]$ source /home/ec2-user/.bashrc\n[ec2-user@example-ruby-sinatra-server ~]$ \n```\n\n\n## (4) EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306b/home/ec2-user/select_salesforce_restforce_api_test\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001restforce(Gem)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u4eca\u56de\u306e\u4f8b\u3067\u306f\u3001\u30ec\u30b3\u30fc\u30c9\u8ffd\u52a0\u3068\u30ec\u30b3\u30fc\u30c9\u8868\u793a\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5404\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4f5c\u6210\u3057\u3066\u3044\u304f\u4e8b\u306b\u3057\u307e\u3059\u3002\n\n| \u30d7\u30ed\u30b0\u30e9\u30e0\u5185\u5bb9 | \u4f5c\u6210\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u540d |\n|--------------|--------------------|\n| \u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0 | /home/ec2-user/insert_salesforce_restforce_api_test |\n| \u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0 | /home/ec2-user/select_salesforce_restforce_api_test |\n\n\n\n```\n[ec2-user@example-ruby-sinatra-server ~]$ hostname\nexample-ruby-sinatra-server\n[ec2-user@example-ruby-sinatra-server ~]$ id\nuid=500(ec2-user) gid=500(ec2-user) groups=500(ec2-user),10(wheel)\n[ec2-user@example-ruby-sinatra-server ~]$ mkdir /home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 8\ndrwx------ 8 ec2-user ec2-user 4096  3\u6708 11 13:02 ..\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:02 .\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\nGemfile\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle init\nWriting new Gemfile to /home/ec2-user/select_salesforce_restforce_api_test/Gemfile\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 12\ndrwx------ 8 ec2-user ec2-user 4096  3\u6708 11 13:02 ..\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:03 Gemfile\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:03 .\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\n\u5ff5\u306e\u70ba\u3001\u4f5c\u696d\u958b\u59cb\u524d\u306eGemfile\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ cp -p /home/ec2-user/select_salesforce_restforce_api_test/Gemfile /home/ec2-user/select_salesforce_restforce_api_test/Gemfile.ORG\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ diff /home/ec2-user/select_salesforce_restforce_api_test/Gemfile /home/ec2-user/select_salesforce_restforce_api_test/Gemfile.ORG\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ cat /home/ec2-user/select_salesforce_restforce_api_test/Gemfile\n# frozen_string_literal: true\nsource \"https://rubygems.org\"\n\n# gem \"rails\"\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\nGemfile\u306brestforce ( https://github.com/ejholmes/restforce )\u3092\u8ffd\u8a18\u3057\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ echo 'gem \"restforce\"' >> /home/ec2-user/select_salesforce_restforce_api_test/Gemfile\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ cat /home/ec2-user/select_salesforce_restforce_api_test/Gemfile\n# frozen_string_literal: true\nsource \"https://rubygems.org\"\n\n# gem \"rails\"\ngem \"restforce\"\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\n```\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ diff /home/ec2-user/select_salesforce_restforce_api_test/Gemfile /home/ec2-user/select_salesforce_restforce_api_test/Gemfile.ORG\n5d4\n< gem \"restforce\"\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\nrestforce(Gem)\u304c\u307e\u3060\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u4e8b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle list\nCould not find gem 'restforce' in any of the gem sources listed in your Gemfile or available on this machine.\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\nrestforce(Gem)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 16\ndrwx------ 8 ec2-user ec2-user 4096  3\u6708 11 13:02 ..\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:03 Gemfile.ORG\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:06 .\n-rw-r--r-- 1 ec2-user ec2-user   91  3\u6708 11 13:06 Gemfile\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle install --path vendor/bundle\nFetching gem metadata from https://rubygems.org/.........\nFetching version metadata from https://rubygems.org/..\nFetching dependency metadata from https://rubygems.org/.\nResolving dependencies...\nInstalling multipart-post 2.0.0\nInstalling hashie 3.5.5\nInstalling json 2.0.3 with native extensions\nUsing bundler 1.13.2\nInstalling faraday 0.9.2\nInstalling faraday_middleware 0.11.0.1\nInstalling restforce 2.5.0\nBundle complete! 1 Gemfile dependency, 7 gems now installed.\nBundled gems are installed into ./vendor/bundle.\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\nrestforce(Gem)\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u4e8b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle list | grep restforce\n  * restforce (2.5.0)\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ bundle list\nGems included by the bundle:\n  * bundler (1.13.2)\n  * faraday (0.9.2)\n  * faraday_middleware (0.11.0.1)\n  * hashie (3.5.5)\n  * json (2.0.3)\n  * multipart-post (2.0.0)\n  * restforce (2.5.0)\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\n```\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 28\ndrwx------ 8 ec2-user ec2-user 4096  3\u6708 11 13:02 ..\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:03 Gemfile.ORG\n-rw-r--r-- 1 ec2-user ec2-user   91  3\u6708 11 13:06 Gemfile\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:08 .bundle\ndrwxrwxr-x 3 ec2-user ec2-user 4096  3\u6708 11 13:08 vendor\n-rw-rw-r-- 1 ec2-user ec2-user  433  3\u6708 11 13:08 Gemfile.lock\ndrwxrwxr-x 4 ec2-user ec2-user 4096  3\u6708 11 13:08 .\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\n## (5) EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(Amazon Linux)\u306b/home/ec2-user/insert_salesforce_restforce_api_test\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001restforce(Gem)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server ~]$ hostname\nexample-ruby-sinatra-server\n[ec2-user@example-ruby-sinatra-server ~]$ mkdir /home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/insert_salesforce_restforce_api_test\n\u5408\u8a08 8\ndrwx------ 9 ec2-user ec2-user 4096  3\u6708 11 13:13 ..\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:13 .\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n```\n\n\u524d\u8ff0\u306e\u624b\u9806(4)\u3092\u53c2\u8003\u306b\u3057\u3066\u3001restforce(Gem)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/insert_salesforce_restforce_api_test\n\u5408\u8a08 28\ndrwx------ 9 ec2-user ec2-user 4096  3\u6708 11 13:13 ..\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:14 Gemfile.ORG\n-rw-r--r-- 1 ec2-user ec2-user   91  3\u6708 11 13:15 Gemfile\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:15 .bundle\ndrwxrwxr-x 3 ec2-user ec2-user 4096  3\u6708 11 13:15 vendor\n-rw-rw-r-- 1 ec2-user ec2-user  433  3\u6708 11 13:15 Gemfile.lock\ndrwxrwxr-x 4 ec2-user ec2-user 4096  3\u6708 11 13:15 .\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ bundle list | grep restforce\n  * restforce (2.5.0)\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ bundle list\nGems included by the bundle:\n  * bundler (1.13.2)\n  * faraday (0.9.2)\n  * faraday_middleware (0.11.0.1)\n  * hashie (3.5.5)\n  * json (2.0.3)\n  * multipart-post (2.0.0)\n  * restforce (2.5.0)\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n```\n\nRuby\u304b\u3089Salesforce REST API\u3092\u5b9f\u884c\u3057\u3066Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u3059\u308b\n===\n\nRuby\u304b\u3089restforce(Gem)\u7d4c\u7531\u3067Salesforce REST API\u3092\u547c\u3073\u51fa\u3057\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\nSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300c\u30c6\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d(\u4f8b\u3068\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\u304c QuickStart__c \u3067\u3042\u308b\u3068\u3057\u307e\u3059)\u306e\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u3059\u308bRuby\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nSOQL(Salesforce Object Query Language)\u306eWHERE\u53e5\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u306b\u4e00\u81f4\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u306e\u307f\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3000**[WHERE\u53e5\u306e\u6761\u4ef6]\n\u3000\u3000\u672c\u65e5\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9 ( create_date__c >= TODAY )**\n\nSOQL\u306e\u65e5\u4ed8\u5f62\u5f0f\u3068\u65e5\u4ed8\u30ea\u30c6\u30e9\u30eb\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f [Force.com SOQL \u304a\u3088\u3073 SOSL \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9](https://developer.salesforce.com/docs/atlas.ja-jp.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select_dateformats.htm \"Force.com SOQL \u304a\u3088\u3073 SOSL \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\") \u3092\u3054\u53c2\u7167\u4e0b\u3055\u3044\u3002\n\n\n\n\n\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u51fa\u6765\u307e\u3059\u3002\n\n\n```\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/select_salesforce_restforce_api_test/\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ls -lrta /home/ec2-user/select_salesforce_restforce_api_test/\n\u5408\u8a08 32\n-rw-r--r-- 1 ec2-user ec2-user   75  3\u6708 11 13:03 Gemfile.ORG\n-rw-r--r-- 1 ec2-user ec2-user   91  3\u6708 11 13:06 Gemfile\ndrwxrwxr-x 2 ec2-user ec2-user 4096  3\u6708 11 13:08 .bundle\ndrwxrwxr-x 3 ec2-user ec2-user 4096  3\u6708 11 13:08 vendor\n-rw-rw-r-- 1 ec2-user ec2-user  433  3\u6708 11 13:08 Gemfile.lock\ndrwx------ 9 ec2-user ec2-user 4096  3\u6708 11 13:24 ..\ndrwxrwxr-x 4 ec2-user ec2-user 4096  3\u6708 11 13:24 .\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\n```\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ vi /home/ec2-user/select_salesforce_restforce_api_test/select_salesforce_api_test.rb\n```\n\n```rb:/home/ec2-user/select_salesforce_restforce_api_test/select_salesforce_api_test.rb\n#!/bin/env ruby\n#\nrequire 'bundler/setup'\nrequire 'restforce'\n\n# Salesforce\u63a5\u7d9a\u7528\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u6210\u3068Salesforce API\u8a8d\u8a3c\nclient = Restforce.new(\n     host: ENV['DATABASEDOTCOM_HOST'],\n     username: ENV['DATABASEDOTCOM_CLIENT_USERNAME'],\n     password: ENV['DATABASEDOTCOM_CLIENT_AUTHENTICATE_PASSWORD'],\n     client_id: ENV['DATABASEDOTCOM_CLIENT_ID'],\n     client_secret: ENV['DATABASEDOTCOM_CLIENT_SECRET']\n)\n\n# Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u4e00\u89a7\u3092\u8868\u793a\nclient.query(\"SELECT user_name__c, user_email__c, create_date__c FROM QuickStart__c WHERE create_date__c >= TODAY\").each do|record|\n  p \"#{record.user_name__c} : #{record.user_email__c} #{record.create_date__c}\"\nend\n```\n\nRuby\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u3092\u8868\u793a\u51fa\u6765\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/select_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ ruby /home/ec2-user/select_salesforce_restforce_api_test/select_salesforce_api_test.rb\n\"testname_Ruby_20170311_133426 : testname_Ruby_20170311_133426@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_134741 : testname_Ruby_20170311_134741@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_114548 : testname_Node_20170311_114548@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_122544 : testname_Node_20170311_122544@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114515 : testname_Ruby_20170311_114515@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_122603 : testname_Node_20170311_122603@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114654 : testname_Ruby_20170311_114654@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_121201 : testname_Node_20170311_121201@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_134744 : testname_Ruby_20170311_134744@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_123050 : testname_Node_20170311_123050@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114637 : testname_Ruby_20170311_114637@hoge.example.com 2017-03-11\"\n\"testname_Ruby120170311_134632 : testname_Ruby120170311_134632@hoge.example.com 2017-03-11\"\n\"testname_Ruby1_20170311_134643 : testname_Ruby1_20170311_134643@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_114546 : testname_Node_20170311_114546@hoge.example.com 2017-03-11\"\n\"testname_Node_20170311_122616 : testname_Node_20170311_122616@hoge.example.com 2017-03-11\"\n[ec2-user@example-ruby-sinatra-server select_salesforce_restforce_api_test]$ \n```\n\nRuby\u304b\u3089Salesforce REST API\u3092\u5b9f\u884c\u3057\u3066Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308b\n===\n\nRuby\u304b\u3089restforce(Gem)\u7d4c\u7531\u3067Salesforce REST API\u3092\u547c\u3073\u51fa\u3057\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3078\u306e\u30ec\u30b3\u30fc\u30c9\u8ffd\u52a0\u5f8c\u3001\u5408\u308f\u305b\u3066SOQL(Salesforce Object Query Language)\u306eWHERE\u53e5\u306b\u3088\u308a\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u306bAND\u3067\u4e00\u81f4\u3059\u308b\u30ec\u30b3\u30fc\u30c9\u306e\u307f\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3000**[WHERE\u53e5\u306e\u6761\u4ef61]\n\u3000\u3000Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306euser_email__c\u9805\u76ee\u306b'Ruby'\u3068\u3044\u3046\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u308b ( user_email__c LIKE '%Ruby%' )**\n\u3000\u3000\u3000**AND**\n\u3000**[WHERE\u53e5\u306e\u6761\u4ef62]\n\u3000\u3000\u672c\u65e5\u767b\u9332\u3057\u305f\u30ec\u30b3\u30fc\u30c9 ( create_date__c >= TODAY )**\n\nSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300c\u30c6\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u300d(\u4f8b\u3068\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\u304c QuickStart__c \u3067\u3042\u308b\u3068\u3057\u307e\u3059)\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3059\u308bRuby\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ vi /home/ec2-user/insert_salesforce_restforce_api_test/insert_salesforce_api_test.rb\n```\n\n```rb:/home/ec2-user/insert_salesforce_restforce_api_test/insert_salesforce_api_test.rb\n#!/bin/env ruby\n#\nrequire 'bundler/setup'\nrequire 'restforce'\nrequire 'date'\n\n# Salesforce\u63a5\u7d9a\u7528\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4f5c\u6210\u3068Salesforce API\u8a8d\u8a3c\nclient = Restforce.new(\n     host: ENV['DATABASEDOTCOM_HOST'],\n     username: ENV['DATABASEDOTCOM_CLIENT_USERNAME'],\n     password: ENV['DATABASEDOTCOM_CLIENT_AUTHENTICATE_PASSWORD'],\n     client_id: ENV['DATABASEDOTCOM_CLIENT_ID'],\n     client_secret: ENV['DATABASEDOTCOM_CLIENT_SECRET']\n)\n\nnow = Time.now\ncreate_date = now.strftime(\"%Y-%m-%d\")\ninsert_time = now.strftime(\"%Y%m%d_%H%M%S\")\ninsert_name = \"testname_Ruby_\" + insert_time\ninsert_email = insert_name + \"@hoge.example.com\"\n\n# Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30ec\u30b3\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\nclient.create(\n  'QuickStart__c',\n  user_name__c: insert_name,\n  user_email__c: insert_email,\n  create_date__c: create_date\n)\n\n# Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30ec\u30b3\u30fc\u30c9\u4e00\u89a7\u3092\u8868\u793a\nclient.query(\"SELECT user_name__c, user_email__c, create_date__c FROM QuickStart__c WHERE user_email__c LIKE '%Ruby%' AND create_date__c >= TODAY\").each do|record|\n  p \"#{record.user_name__c} : #{record.user_email__c} #{record.create_date__c}\"\nend\n```\n\n\u3053\u308c\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3078\u30ec\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u51fa\u6765\u307e\u3059\u3002\n\n```\n[ec2-user@example-ruby-sinatra-server ~]$ cd /home/ec2-user/insert_salesforce_restforce_api_test/\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ pwd\n/home/ec2-user/insert_salesforce_restforce_api_test\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ ruby /home/ec2-user/insert_salesforce_restforce_api_test/insert_salesforce_api_test.rb\n\"testname_Ruby_20170311_133426 : testname_Ruby_20170311_133426@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_134741 : testname_Ruby_20170311_134741@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114515 : testname_Ruby_20170311_114515@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114654 : testname_Ruby_20170311_114654@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_134744 : testname_Ruby_20170311_134744@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_114637 : testname_Ruby_20170311_114637@hoge.example.com 2017-03-11\"\n\"testname_Ruby120170311_134632 : testname_Ruby120170311_134632@hoge.example.com 2017-03-11\"\n\"testname_Ruby1_20170311_134643 : testname_Ruby1_20170311_134643@hoge.example.com 2017-03-11\"\n\"testname_Ruby_20170311_135450 : testname_Ruby_20170311_135450@hoge.example.com 2017-03-11\"\n[ec2-user@example-ruby-sinatra-server insert_salesforce_restforce_api_test]$ \n```\n\nSalesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8ffd\u52a0\u3055\u308c\u305f\u30ec\u30b3\u30fc\u30c9\n===\n\n\u524d\u8ff0\u306eRuby\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u4e8b\u3067\u3001Salesforce\u30ab\u30b9\u30bf\u30e0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8(QuickStart__c = \u30c6\u30b9\u30c8\u30aa\u30d6\u30b8\u30a7\u30af\u30c8)\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30ec\u30b3\u30fc\u30c9\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002\n\n<img width=\"1263\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-11 13.57.52.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/63647/de52fbd7-17c8-a3fc-aec4-eed90772f37d.png\">\n\n<img width=\"1270\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-11 13.58.13.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/63647/89cdbc0d-cc50-087c-203e-867d4000af41.png\">\n\n<img width=\"1268\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2017-03-11 13.58.20.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/63647/501e26ac-51d4-6dd5-f4b6-51c62f7e29e9.png\">\n\n***\n\n\u4ee5\u4e0a\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n", "tags": ["Salesforce", "force.com", "Ruby", "AWS", "Linux"]}