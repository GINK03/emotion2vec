{"context": "\n\njq\u30b3\u30de\u30f3\u30c9\u3081\u3082\n\u30fb\u30b3\u30de\u30f3\u30c9\u3067\u6307\u5b9a\u3059\u308b\u3068\u304d\u306e.\uff08\u30c9\u30c3\u30c8\uff09\u306f\u9805\u76ee\u540d\u3092\u8868\u3057\u3066\u3044\u308b\n\u30fb\u30b3\u30de\u30f3\u30c9\u3067\u6307\u5b9a\u3059\u308b\u3068\u304d\u306f\u9805\u76ee\u3092\u4e26\u3079\u308b\u3053\u3068\u3067\u968e\u5c64\u3092\u305f\u3069\u3063\u3066\u3044\u308b\uff08\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3067\u3044\u3046/\u307f\u305f\u3044\u306a\uff09\n\u4f8b\u3048\u3070\u3000$ jq -r '.foo.bar[]'\u3000\u3067bar\u4ee5\u4e0b\u306e\u60c5\u5831\u307e\u3067\u305f\u3069\u308b\n\u53c2\u8003\uff1ahttp://qiita.com/takeshinoda@github/items/2dec7a72930ec1f658af\n\u5143\u30c7\u30fc\u30bf\u306f\u3053\u308c\uff08\u30cd\u30c3\u30c8\u3067\u3072\u308d\u3063\u305f\u3084\u3064\uff09\n{\n  \"foo\": {\n    \"bar\": [\n      {\n        \"key\": \"1-key\",\n        \"value\": \"1-value\"\n      },\n      {\n        \"key\": \"2-key\",\n        \"value\": \"2-value\",\n        \"option\": \"2-opt\"\n      }\n    ],\n    \"baz\": [\n      {\n        \"key\": \"3-key\",\n        \"value\": \"3-value\",\n        \"option\": \"3-opt\"\n      },\n      {\n        \"key\": \"4-key\",\n        \"value\": \"4-value\"\n      }\n    ]\n  }\n}\n\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u7528\u30c7\u30fc\u30bf\u3068\u3057\u3066CSV\u51fa\u529b\u304c\u3057\u305f\u3044\u5834\u5408\n$ cat sample.json | jq -r '.foo.bar[]'\n{\n  \"key\": \"1-key\",\n  \"value\": \"1-value\"\n}\n{\n  \"key\": \"2-key\",\n  \"value\": \"2-value\",\n  \"option\": \"2-opt\"\n}\n\n\n\u8981\u7d20\u3092\u6307\u5b9a\u3057\u3066\u8868\u793a\u3055\u305b\u308b\n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]'\n[\n  \"1-key\",\n  \"1-value\"\n]\n[\n  \"2-key\",\n  \"2-value\"\n]\n\n\n[]\u756a\u76ee\u306e\u914d\u5217\u3068\u3057\u3066\u8868\u793a\uff08\u914d\u5217\u306b\u5165\u308c\u308b\uff09\n$ cat sample.json | jq -r '.foo.bar[0]|[.key, .value]'\n[\n  \"1-key\",\n  \"1-value\"\n]\n\n\n\u914d\u5217\u306b\u5165\u308c\u3066csv\u3067\u51fa\u529b\n$ cat sample.json | jq -r '.foo.bar[0]|[.key, .value]|@csv'\n\"1-key\",\"1-value\"\n\n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]|@csv'\n\"1-key\",\"1-value\"\n\"2-key\",\"2-value\"\n\n\ncsv\u3067\u51fa\u529b\u3057\u305f\u3082\u306e\u3092awk\u3067\u6210\u5f62\n$ awk -F, '{print ($1)}'\n\u3053\u308c\u3067csv\u306e1\u5217\u76ee\u3060\u3051\u3092\u8868\u793a\u3059\u308b\n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]|@csv' | awk -F, '{print $1}'\n\"1-key\"\n\"2-key\"\n\n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]|@csv' | awk -F, '{print $1,$2}'\n\"1-key\" \"1-value\"\n\"2-key\" \"2-value\"\n\n\n\u3000\"\"\u304c\u90aa\u9b54\u306a\u306e\u3067sed\u3067\u7f6e\u304d\u63db\u3048\u308b\n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]|@csv' | awk -F, '{print $1,$2}' | sed -e 's/\"//g'\n1-key 1-value\n2-key 2-value\n\n$ cat sample.json | jq -r '.foo.baz[]|[.key, .value]|@csv' | awk -F, '{print $1,$2}' | sed -e 's/\"//g'\n3-key 3-value\n4-key 4-value\n\n\n.foo.bar\u3058\u3083\u306a\u304f\u3066.foo.baz\u3092\u3068\u308a\u305f\u3044\n$ cat sample.json  | jq -r '.foo[]'\n[\n  {\n    \"key\": \"1-key\",\n    \"value\": \"1-value\"\n  },\n  {\n    \"key\": \"2-key\",\n    \"value\": \"2-value\",\n    \"option\": \"2-opt\"\n  }\n]\n[\n  {\n    \"key\": \"3-key\",\n    \"value\": \"3-value\",\n    \"option\": \"3-opt\"\n  },\n  {\n    \"key\": \"4-key\",\n    \"value\": \"4-value\"\n  }\n]\n\n$ cat sample.json  | jq -r '.foo[][]'\n{\n  \"key\": \"1-key\",\n  \"value\": \"1-value\"\n}\n{\n  \"key\": \"2-key\",\n  \"value\": \"2-value\",\n  \"option\": \"2-opt\"\n}\n{\n  \"key\": \"3-key\",\n  \"value\": \"3-value\",\n  \"option\": \"3-opt\"\n}\n{\n  \"key\": \"4-key\",\n  \"value\": \"4-value\"\n}\n\n$ cat sample.json  | jq -r '.foo[][] | [.key , .value , .option] | @csv'\n\"1-key\",\"1-value\",\n\"2-key\",\"2-value\",\"2-opt\"\n\"3-key\",\"3-value\",\"3-opt\"\n\"4-key\",\"4-value\",\n\n##jq\u30b3\u30de\u30f3\u30c9\u3081\u3082\n\u30fb\u30b3\u30de\u30f3\u30c9\u3067\u6307\u5b9a\u3059\u308b\u3068\u304d\u306e.\uff08\u30c9\u30c3\u30c8\uff09\u306f\u9805\u76ee\u540d\u3092\u8868\u3057\u3066\u3044\u308b\n\u30fb\u30b3\u30de\u30f3\u30c9\u3067\u6307\u5b9a\u3059\u308b\u3068\u304d\u306f\u9805\u76ee\u3092\u4e26\u3079\u308b\u3053\u3068\u3067\u968e\u5c64\u3092\u305f\u3069\u3063\u3066\u3044\u308b\uff08\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30eb\u30fc\u30c8\u3067\u3044\u3046/\u307f\u305f\u3044\u306a\uff09\n\u4f8b\u3048\u3070\u3000`$ jq -r '.foo.bar[]'`\u3000\u3067bar\u4ee5\u4e0b\u306e\u60c5\u5831\u307e\u3067\u305f\u3069\u308b\n\u53c2\u8003\uff1ahttp://qiita.com/takeshinoda@github/items/2dec7a72930ec1f658af\n\u5143\u30c7\u30fc\u30bf\u306f\u3053\u308c\uff08\u30cd\u30c3\u30c8\u3067\u3072\u308d\u3063\u305f\u3084\u3064\uff09\n\n``` \n{\n  \"foo\": {\n    \"bar\": [\n      {\n        \"key\": \"1-key\",\n        \"value\": \"1-value\"\n      },\n      {\n        \"key\": \"2-key\",\n        \"value\": \"2-value\",\n        \"option\": \"2-opt\"\n      }\n    ],\n    \"baz\": [\n      {\n        \"key\": \"3-key\",\n        \"value\": \"3-value\",\n        \"option\": \"3-opt\"\n      },\n      {\n        \"key\": \"4-key\",\n        \"value\": \"4-value\"\n      }\n    ]\n  }\n}\n```\n\n\n### \u30b9\u30af\u30ea\u30d7\u30c8\u7528\u30c7\u30fc\u30bf\u3068\u3057\u3066CSV\u51fa\u529b\u304c\u3057\u305f\u3044\u5834\u5408\n\n```\n$ cat sample.json | jq -r '.foo.bar[]'\n{\n  \"key\": \"1-key\",\n  \"value\": \"1-value\"\n}\n{\n  \"key\": \"2-key\",\n  \"value\": \"2-value\",\n  \"option\": \"2-opt\"\n}\n```\n\n### \u8981\u7d20\u3092\u6307\u5b9a\u3057\u3066\u8868\u793a\u3055\u305b\u308b\n```\n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]'\n[\n  \"1-key\",\n  \"1-value\"\n]\n[\n  \"2-key\",\n  \"2-value\"\n]\n```\n\n###[]\u756a\u76ee\u306e\u914d\u5217\u3068\u3057\u3066\u8868\u793a\uff08\u914d\u5217\u306b\u5165\u308c\u308b\uff09\n```\n$ cat sample.json | jq -r '.foo.bar[0]|[.key, .value]'\n[\n  \"1-key\",\n  \"1-value\"\n]\n```\n\n###\u914d\u5217\u306b\u5165\u308c\u3066csv\u3067\u51fa\u529b\n```\n$ cat sample.json | jq -r '.foo.bar[0]|[.key, .value]|@csv'\n\"1-key\",\"1-value\"\n \n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]|@csv'\n\"1-key\",\"1-value\"\n\"2-key\",\"2-value\"\n```\n\n###csv\u3067\u51fa\u529b\u3057\u305f\u3082\u306e\u3092awk\u3067\u6210\u5f62\n`$ awk -F, '{print ($1)}'`\n\u3053\u308c\u3067csv\u306e1\u5217\u76ee\u3060\u3051\u3092\u8868\u793a\u3059\u308b\n\n```\n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]|@csv' | awk -F, '{print $1}'\n\"1-key\"\n\"2-key\"\n \n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]|@csv' | awk -F, '{print $1,$2}'\n\"1-key\" \"1-value\"\n\"2-key\" \"2-value\"\n```\n\n###\u3000\"\"\u304c\u90aa\u9b54\u306a\u306e\u3067sed\u3067\u7f6e\u304d\u63db\u3048\u308b\n```\n$ cat sample.json | jq -r '.foo.bar[]|[.key, .value]|@csv' | awk -F, '{print $1,$2}' | sed -e 's/\"//g'\n1-key 1-value\n2-key 2-value\n\n$ cat sample.json | jq -r '.foo.baz[]|[.key, .value]|@csv' | awk -F, '{print $1,$2}' | sed -e 's/\"//g'\n3-key 3-value\n4-key 4-value\n```\n\n### .foo.bar\u3058\u3083\u306a\u304f\u3066.foo.baz\u3092\u3068\u308a\u305f\u3044\n```\n$ cat sample.json  | jq -r '.foo[]'\n[\n  {\n    \"key\": \"1-key\",\n    \"value\": \"1-value\"\n  },\n  {\n    \"key\": \"2-key\",\n    \"value\": \"2-value\",\n    \"option\": \"2-opt\"\n  }\n]\n[\n  {\n    \"key\": \"3-key\",\n    \"value\": \"3-value\",\n    \"option\": \"3-opt\"\n  },\n  {\n    \"key\": \"4-key\",\n    \"value\": \"4-value\"\n  }\n]\n\n$ cat sample.json  | jq -r '.foo[][]'\n{\n  \"key\": \"1-key\",\n  \"value\": \"1-value\"\n}\n{\n  \"key\": \"2-key\",\n  \"value\": \"2-value\",\n  \"option\": \"2-opt\"\n}\n{\n  \"key\": \"3-key\",\n  \"value\": \"3-value\",\n  \"option\": \"3-opt\"\n}\n{\n  \"key\": \"4-key\",\n  \"value\": \"4-value\"\n}\n\n$ cat sample.json  | jq -r '.foo[][] | [.key , .value , .option] | @csv'\n\"1-key\",\"1-value\",\n\"2-key\",\"2-value\",\"2-opt\"\n\"3-key\",\"3-value\",\"3-opt\"\n\"4-key\",\"4-value\",\n```\n", "tags": ["jq"]}