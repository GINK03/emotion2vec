{"context": "Amazon Inspector\u3092\u89e6\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u305f\u3081\u3001\u8106\u5f31\u6027\u8a3a\u65ad\u306b\u304a\u3051\u308bAmazon Inspector\u306e\u4f4d\u7f6e\u3065\u3051\u3092\u8efd\u304f\u6574\u7406\u3057\u305f\u4e0a\u3067\u3001\u81ea\u5206\u306a\u308a\u306b\u305d\u306e\u4f7f\u3044\u65b9\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\nAmazon Inspector\u3068\u306f\uff1f\nAmazon Inspector\u3068\u306fAWS\u304c\u63d0\u4f9b\u3059\u308b\u8106\u5f31\u6027\u8a3a\u65ad\u3092\u884c\u3046\u30b5\u30fc\u30d3\u30b9\u3067\u3001\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u5229\u7528\u3057\u305f\u30d7\u30e9\u30c3\u30c8\u30db\u30fc\u30e0\u8a3a\u65ad\u306e\u305f\u3081\u306e\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002EC2\u306b\u5bfe\u3057\u3066\u5b9f\u65bd\u3059\u308b\u3082\u306e\u3067\u6709\u6599\u3067\u3059\u3002\u307e\u305fEC2\u306e\u307f\u306e\u305f\u3081\u3001\u4ed6\u793e\u30af\u30e9\u30a6\u30c9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3084\u30c7\u30fc\u30bf\u30bb\u30f3\u30bf\u30fc\u306b\u3042\u308b\u30b5\u30fc\u30d0\u306b\u306f\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093\u3002\n\n\u3053\u3046\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u304c\u6c42\u3081\u3089\u308c\u308b\u80cc\u666f\uff08\u79c1\u898b\uff09\n\u3042\u304f\u307e\u3067\u79c1\u898b\u3067\u3059\u304c\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3078\u306e\u53d6\u308a\u7d44\u307f\u306b\u306f\u307e\u305a\u306f\u300c\u30ea\u30b9\u30af\u306e\u53ef\u8996\u5316\u300d\u304c\u5fc5\u8981\u3068\u8a00\u308f\u308c\u3066\u307e\u3059\u304c\u3001\u3053\u308c\u307e\u3067\u306f\u30a4\u30f3\u30d5\u30e9\u62c5\u5f53\u8005\u3068\u3044\u3046\u300c\u4eba\u300d\u306b\u4f9d\u5b58\u3059\u308b\u5f62\u3067\u3001\u81ea\u5206\u305f\u3061\u306e\u30b5\u30fc\u30d3\u30b9\u3067\u5229\u7528\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u306eOS\u3084\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306b\u8106\u5f31\u6027\u6709\u7121\u306e\u53ef\u8996\u5316\u3084\u5bfe\u5fdc\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u591a\u3044\u3088\u3046\u306b\u601d\u3044\u307e\u3059\u3002\n\u3057\u304b\u3057AWS\u3092\u306f\u3058\u3081\u3001\u30d1\u30d6\u30ea\u30c3\u30af\u30af\u30e9\u30a6\u30c9\u3092\u5229\u7528\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u30a4\u30f3\u30d5\u30e9\u62c5\u5f53\u8005\u304c\u3044\u306a\u3044\u306e\u306f\u666e\u901a\u3067\u3059\u3002\u305d\u3046\u3057\u305f\u80cc\u666f\u3092\u8003\u3048\u308b\u3068\u3001Amazon Inspector\u306e\u3088\u3046\u306b\u81ea\u52d5\u306b\u30ea\u30b9\u30af\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u306f\u3001\u4eca\u5f8c\u306f\u91cd\u8981\u306a\u3053\u3068\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002\n\nAmazon Inspector\u3068\u8106\u5f31\u6027\u8a3a\u65ad\u30b5\u30fc\u30d3\u30b9\u306e\u9055\u3044\nAmazon Inspector\u3068\u5916\u90e8\u4f1a\u793e\u3092\u5229\u7528\u3057\u305f\uff08\u3088\u304f\u3042\u308b\uff09\u8106\u5f31\u6027\u8a3a\u65ad\u30b5\u30fc\u30d3\u30b9\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9055\u3044\u304c\u3042\u308b\u3002\uff08\u3082\u3061\u308d\u3093\u8106\u5f31\u6027\u8a3a\u65ad\u30b5\u30fc\u30d3\u30b9\u306b\u306f\u3044\u308d\u3044\u308d\u3042\u308b\u305f\u3081\u3001\u3053\u308c\u304c\u5168\u3066\u3067\u306f\u306a\u3044\uff09\n\n\n\n\nAmazon Inspector\n\u8106\u5f31\u6027\u8a3a\u65ad\u30b5\u30fc\u30d3\u30b9\n\n\n\n\n\u8a3a\u65ad\u306e\u7a2e\u985e(\u30c8\u30dd\u30ed\u30b8\u30fc)\n\u8a3a\u65ad\u7528\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u5229\u7528\u3057\u305f\u30db\u30b9\u30c8\u578b\u8a3a\u65ad\n\u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u578b\u8a3a\u65ad\u306a\u3069\n\n\n\u8a3a\u65ad\u306e\u7a2e\u985e(\u30ec\u30a4\u30e4\u30fc)\n\u30d7\u30e9\u30c3\u30c8\u30db\u30fc\u30e0\u8a3a\u65ad(\u30cd\u30c3\u30c8\u30ef\u30fc\u30af/OS/\u30df\u30c9\u30eb\u30a6\u30a7\u30a2)\n\u30d7\u30e9\u30c3\u30c8\u30db\u30fc\u30e0\u8a3a\u65ad\uff0bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8a3a\u65ad\u306a\u3069\u9078\u629e\u53ef\u80fd\n\n\n\u5b9f\u65bd\u8005\n\u30d7\u30ed\u30b0\u30e9\u30e0(\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8)\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a3a\u65ad\u306e\u62c5\u5f53\u8005\n\n\nAWS\u3078\u306e\u4e8b\u524d\u7533\u8acb\n\u4e0d\u8981\n\u5fc5\u8981\n\n\n\n\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\nhttp://www.slideshare.net/AmazonWebServicesJapan/aws-black-belt-online-seminar-amazon-inspector\n\u305d\u3057\u3066Amazon Inspector\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9805\u76ee\u3068\u30eb\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001\u5185\u5bb9\u306b\u6cbf\u3063\u305f\u30c6\u30b9\u30c8\u304c\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n\n\n\u9805\u76ee\n\u30eb\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u540d\n\u5185\u5bb9\n\u6ce8\u610f\u70b9\n\n\n\n\n\u5171\u901a\u8106\u5f31\u6027\u8b58\u5225\u5b50\nCommon Vulnerabilities and Exposures\nEC2 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u304c\u4e00\u822c\u7684\u306a\u8106\u5f31\u6027\u3084\u66dd\u9732 (CVE) \u306b\u66dd\u9732\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\n\n\n\nCIS \u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u5b9a\u30d9\u30f3\u30c1\u30de\u30fc\u30af\nCIS Operating System Security Configuration Benchmarks\n\u30a2\u30e1\u30ea\u30ab\u306b\u3042\u308b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u30fb\u30bb\u30f3\u30bf\u30fc\uff08CIS\uff09\u304c\u5b9a\u7fa9\u3057\u305f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8\u306b\u6cbf\u3063\u3066\u78ba\u8a8d\u3059\u308b\nAmazon Linux\u3067\u306e\u307f\u5229\u7528\u53ef\u80fd\n\n\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\nSecurity Best Practices\n\u30b7\u30b9\u30c6\u30e0\u304c\u5b89\u5168\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u65ad\u3059\u308b\u306e\u306b\u5229\u7528\u3059\u308b\nWindows\u306eEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u306f\u7d50\u679c\u304c\u51fa\u306a\u3044\u306e\u3067\u3001Linux\u306eEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u3002\n\n\n\u5b9f\u884c\u6642\u306e\u52d5\u4f5c\u306e\u5206\u6790\nRuntime Behavior Analysis\n\u8a55\u4fa1\u306e\u5b9f\u884c\u4e2d\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u52d5\u4f5c\u3092\u5206\u6790\u3057\u3001EC2 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u9ad8\u3081\u308b\u305f\u3081\u306e\u30ac\u30a4\u30c0\u30f3\u30b9\u3092\u63d0\u4f9b\u3059\u308b\n\n\n\n\n\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\nhttps://docs.aws.amazon.com/ja_jp/inspector/latest/userguide/inspector_rule-packages.html\n\n\u8cbb\u7528\u306e\u8a71\n\u6708250\u56de\u307e\u3067\u306a\u30891\u53f0\u5b9f\u884c\u6bce\u306b$0.3\u304b\u304b\u308b\u3002\n\n\n\nAmazon Inspector \u306e\u5229\u7528\u958b\u59cb\u304b\u3089 90 \u65e5\u9593\n\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1\u3054\u3068\u306e\u6599\u91d1\n\n\n\n\n\u6700\u521d\u306e 250 \u56de\u306e\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1\n0.00 USD\n\n\n\n\n\n\n\u4efb\u610f\u306e\u6708\n\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1\u3054\u3068\u306e\u6599\u91d1\n\n\n\n\n\u6700\u521d\u306e 250 \u56de\u306e\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1\n0.30 USD\n\n\n\u6b21\u306e 750 \u56de\u306e\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1\n0.25 USD\n\n\n\n\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\nhttps://aws.amazon.com/jp/inspector/pricing/\n\nAmazon Inspector\u306e\u4f7f\u3044\u65b9\nInspector\u306e\u5b9f\u65bd\u6761\u4ef6\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002RHEL\u3084CentOS\u306e\u5834\u5408\u30016\u4ee5\u4e0b\u3067\u306f\u5229\u7528\u3067\u304d\u306a\u3044\u3002\u307e\u305fWindows\u5411\u3051\u5bfe\u5fdc\u306f\u307e\u3060\u03b2\u7248\u306e\u305f\u3081\u3001\u6b63\u5f0f\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3002\n\nAmazon Linux (2015.03 \u4ee5\u964d)\nUbuntu (14.04 LTS)\nRed Hat Enterprise Linux (7.2)\nCentOS (7.2)\nWindows Server 2008 R2 \u304a\u3088\u3073 Windows Server 2012\uff08\u03b2\u7248\uff09\n\n\n\u6e96\u5099\n\nIAM\u30ed\u30fc\u30eb\u306e\u4f5c\u6210\n\nAWS Web\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u306eInspector\u3092\u958b\u3044\u3066\u3001\u300c\u4eca\u3059\u3050\u59cb\u3081\u308b\u300d\u2192\u300c\u30ed\u30fc\u30eb\u306e\u9078\u629e\u307e\u305f\u306f\u4f5c\u6210\u300d\u3092\u30af\u30ea\u30c3\u30af\n\nIAM\u30ed\u30fc\u30eb\u540d\"inspector\"\u3001\u30dd\u30ea\u30b7\u30fc\u540d\u300c\u65b0\u3057\u3044\u30ed\u30fc\u30eb\u30dd\u30ea\u30b7\u30fc\u306e\u4f5c\u6210\u300d\u3092\u9078\u3073\u3001\u53f3\u4e0b\u306e\u300c\u8a31\u53ef\u300d\u3092\u30af\u30ea\u30c3\u30af\u3002\n\n\n\u306a\u304a\u3053\u306e\u30dd\u30ea\u30b7\u30fc\u306fec2 describe-instances\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u307f\u8a31\u53ef\u3059\u308b\u3082\u306e\u3002\u307e\u305f\u30ed\u30fc\u30eb\u540d\u306f\u4ed6\u306e\u540d\u524d\u3067\u3082\u554f\u984c\u306a\u3044\u3002\n\n\u30bf\u30b0\u3092\u4ed8\u3051\u308b\nAmazon Inspector\u3092\u5b9f\u884c\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5bfe\u3057\u3066\u30bf\u30b0\u3092\u4ed8\u3051\u308b\u3002GUI\u304b\u3089\u5b9f\u65bd\u3059\u308b\u304b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306baws-cli\u3092\u4f7f\u3063\u3066\u30bf\u30b0\u3092\u3064\u3051\u308b\u3002\n# \u30c6\u30b9\u30c8\u5b9f\u884c\naws ec2 create-tags --dry-run --resources i-XXXXXXXXXXXXX --tags Key=inspector,Value=True\n\n# \u672c\u756a\u5b9f\u884c(--dry-run\u306a\u3057)\naws ec2 create-tags --resources i-XXXXXXXXXXXXX --tags Key=inspector,Value=true\n\n\n--resources \u306e\u5f8c\u306bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30ea\u30bd\u30fc\u30b9ID\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\u4e0a\u8a18\u4f8b\u3060\u3068\u300cKey: inspector, Value: true\u300d\u3068\u3044\u3046\u30bf\u30b0\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3002\n\n\u53c2\u8003\u8cc7\u6599\nhttps://docs.aws.amazon.com/ja_jp/inspector/latest/userguide/inspector_applications.html\n\n\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nAmazon Inspector\u3092\u5b9f\u884c\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u5165\u624b\n# install\u30d5\u30a1\u30a4\u30eb\u306e\u5165\u624b\nwget https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install\n\n\n\u5b9f\u884c\u4f8b\n# wget https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install\n--2016-11-18 11:45:51--  https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install\nResolving d1wk0tztpsntt1.cloudfront.net (d1wk0tztpsntt1.cloudfront.net)... 54.192.233.79, 54.192.233.106, 54.192.233.110, ...\nConnecting to d1wk0tztpsntt1.cloudfront.net (d1wk0tztpsntt1.cloudfront.net)|54.192.233.79|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 23648 (23K)\nSaving to: \u2018install\u2019\n\n100%[==================================================================================>] 23,648      --.-K/s   in 0.002s\n\n2016-11-18 11:45:51 (14.8 MB/s) - \u2018install\u2019 saved [23648/23648]\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n# install\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u3066\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nbash install\n\n\n\u5b9f\u884c\u4f8b(CentOS7.2\u5229\u7528)\n# ls -ltr\ntotal 24\n-rw-r--r-- 1 root root 23648 Nov 16 23:59 install\n\n# bash install\nDistribution of the machine is CentOS Linux.\nDistribution type of the machine is centos.\nRevision of the distro is 7.\nKernel version of the machine is 3.10.0-327.13.1.el7.x86_64.\n...\n(\u7565)\n...\nInstallation script completed successfully.\n\nNotice:\nBy installing the Amazon Inspector Agent, you agree that your use is subject to the terms of your existing\nAWS Customer Agreement or other agreement with Amazon Web Services, Inc. or its affiliates governing your\nuse of AWS services. You may not install and use the Amazon Inspector Agent unless you have an account in\ngood standing with AWS.\n*  *  *\nCurrent running agent reports to arsenal endpoint:\nCurrent running agent reports version as: 1.0.551.0\nThis install script was created to install agent version:1.0.551.0\nIn most cases, these version numbers should be the same.\n#\n\n\n\n\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u78ba\u8a8d(\u30aa\u30d7\u30b7\u30e7\u30f3)\nEC2\u304b\u3089Amazon Inspector \u304a\u3088\u3073 Amazon S3 \u30b5\u30fc\u30d3\u30b9\u7528\u306e\u30d1\u30d6\u30ea\u30c3\u30af\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3078\u306e\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u8a31\u53ef\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002\u306a\u304a\u3001\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u306e\u8a31\u53ef\u306f\u4e0d\u8981\u3002\n\n\u8a55\u4fa1\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u4f5c\u308b\n\u3069\u306e\u30bf\u30b0\u304c\u3064\u3044\u3066\u3044\u308b\u3082\u306e\u3092Amazon Inspector\u306e\u8abf\u67fb\u5bfe\u8c61\u3068\u3059\u308b\u304b\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u3001\u8a55\u4fa1\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u300c\u30ad\u30fc: inspector\u3001\u5024\uff1aTrue\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u3092Amazon Inspector\u306e\u8abf\u67fb\u5bfe\u8c61\u3068\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\n\n\n\n\u9805\u76ee\n\u8a2d\u5b9a\u5024\n\n\n\n\n\u540d\u524d\n\u4efb\u610f\u306e\u540d\u79f0(\u4e0b\u8a18\u3067\u306f\"inspector\")\n\n\n\u30ad\u30fc\nKey\u306e\u5024(\u4e0b\u8a18\u3067\u306f\"inspector\")\n\n\n\u5024\nValue\u306e\u5024(\u4e0b\u8a18\u3067\u306f\"True\")\n\n\n\n\n\n\u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u308b\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u3001\u300c\u4f5c\u6210\u304a\u3088\u3073\u5b9f\u884c\u300d\u3067Amazon Inspector\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u306a\u304a\u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fee\u6b63\u306f\u3067\u304d\u306a\u3044\u3002\u524a\u9664\uff06\u4f5c\u6210\u304c\u5fc5\u8981\u3068\u306a\u308b\u3002\n\n\n\n\u9805\u76ee\n\u8a2d\u5b9a\u5024\n\n\n\n\n\u540d\u524d\n\u4efb\u610f\u306e\u540d\u79f0(\u4e0b\u8a18\u3067\u306f\"inspector_templete\")\n\n\n\u30bf\u30fc\u30b2\u30c3\u30c8\u540d\n\u5148\u7a0b\u4f5c\u6210\u3057\u305f\u30bf\u30fc\u30b2\u30c3\u30c8\u540d\u3092\u8a18\u8f09(\u672c\u8cc7\u6599\u3067\u306f\"inspector\")\n\n\n\u30eb\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\n\u524d\u8ff0\u306e\u30eb\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u9078\u629e(\u4e0b\u8a18\u3067\u306f\"Security Best Practices-1.0\"\u3092\u9078\u629e)\n\n\n\u6240\u8981\u6642\u9593\n\u6642\u9593\u3092\u9078\u629e\u3002\u9577\u3051\u308c\u3070\u9577\u3044\u307b\u3069\u8a73\u7d30\u306e\u30c6\u30b9\u30c8\u304c\u3067\u304d\u308b\u304c\u63a8\u5968\u306f1\u6642\u9593\n\n\nSNS\u30c8\u30d4\u30c3\u30af\n\u691c\u51fa\u3055\u308c\u305f\u3082\u306e\u3092SNS\u306b\u901a\u77e5\u3059\u308b\u5834\u5408\u306f\u8a2d\u5b9a\u3059\u308b(\u30aa\u30d7\u30b7\u30e7\u30f3)\n\n\n\u30bf\u30b0\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u8a2d\u5b9a(\u30aa\u30d7\u30b7\u30e7\u30f3)\n\n\n\u7d50\u679c\u306b\u8ffd\u52a0\u3055\u308c\u305f\u5c5e\u6027\n\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u8a2d\u5b9a(\u30aa\u30d7\u30b7\u30e7\u30f3)\n\n\n\n\n\u307e\u305faws-cli\u3067Amazon Inspector\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u884c\u3046\naws inspector start-assessment-run --assessment-run-name (\u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d) --assessment-template-arn (\u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eARN)\n\n\n\u5b9f\u884c\u4f8b\n# aws inspector start-assessment-run --assessment-run-name inspector_templete --assessment-template-arn arn:aws:inspector:ap-northeast-1:XXXXXXXXXXXX:target/xxxxxxxx/template/xxxxxxxx\n\n\n\n\u7d50\u679c\u78ba\u8a8d\n\u5b9f\u884c\u958b\u59cb\u3059\u308b\u3068\u3001\u691c\u51fa\u3055\u308c\u305f\u3082\u306e\u304b\u3089\u5de6\u30da\u30a4\u30f3\u306b\u3042\u308b\u300c\u8a55\u4fa1\u306e\u5b9f\u884c\u300d\u5185\u306b\u51fa\u529b\u3055\u308c\u308b\u3002\u691c\u51fa\u4ef6\u6570\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u691c\u51fa\u3055\u308c\u305f\u5185\u5bb9\u3084\u63a8\u5968\u4e8b\u9805\u3092\u78ba\u8a8d\u3057\u3066\u5bfe\u5fdc\u3092\u884c\u3046\u3002\n\n\n\u307e\u3068\u3081\nAmazon Inspector\u306f\u3001GUI\u3067\u3082aws-cli\u3067\u3082\u3042\u3063\u3051\u306a\u3044\u307b\u3069\u7c21\u5358\u306b\u5b9f\u884c\u3067\u304d\u307e\u3057\u305f\u3002\n\u307e\u305faws-cli\u3068cron\u3084Rundeck\u3084jenkins\u306a\u3069\u304c\u5229\u7528\u3057\u3066\u81ea\u52d5\u5b9f\u884c\u3082\u3067\u304d\u308b\u305f\u3081\u3001\u6709\u6599\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u304c\u5b9a\u671f\u7684\u306b\u5b9f\u884c\u3057\u3066\u30ea\u30b9\u30af\u306e\u53ef\u8996\u5316\u3092\u884c\u3046\u3068\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\n\u8cc7\u6599\n\n\u8a3a\u65ad\u5b9f\u884c\u4e2d\u306e\u30d7\u30ed\u30bb\u30b9\u3068\u8ca0\u8377\n\u8a3a\u65ad\u5b9f\u884c\u4e2d\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d7\u30ed\u30bb\u30b9\u304c\u8d77\u52d5\u3057\u3066\u307e\u3057\u305f\u3002\nroot     14202  0.0  0.0      0     0 ?        S<   Nov17   0:00 [kworker/0:2H]\nroot     14203  0.0  0.0      0     0 ?        S<   Nov17   0:00 [kworker/0:0H]\nroot     21393  0.0  0.0      0     0 ?        S    10:40   0:00 [kworker/0:0]\nroot     21430  0.0  0.4 140788  5060 ?        Ss   10:42   0:00 sshd: root@pts/0\nroot     21434  0.0  0.2 115384  2112 pts/0    Ss   10:42   0:00 -bash\nroot     21994  0.0  0.0      0     0 ?        R    11:46   0:00 [kworker/0:1]\nroot     22054  0.0  2.9 470424 30116 ?        Ssl  11:46   0:01 /opt/aws/awsagent/bin/awsagent\nroot     22231  0.0  0.2 176024  2412 ?        S    12:03   0:00 /usr/sbin/CROND -n\nroot     22232  0.0  0.1 113120  1200 ?        Ss   12:03   0:00 /bin/bash -c /bin/sleep $[ ( $RANDOM % 3420 ) + 1 ]s; /opt/aws/awsagent/bin/update > /var/log/awsagent-update.log 2>&1\nroot     22233  0.0  0.0 107896   616 ?        S    12:03   0:00 /bin/sleep 3324s\nroot     22293  0.0  0.0      0     0 ?        S<   12:12   0:00 [inspector_task_]\nroot     22294  0.0  0.0      0     0 ?        S<   12:12   0:00 [inspector_libra]\n\nCloudWatch\u3067\u8ca0\u8377\u3092\u307f\u305f\u3068\u3053\u308d\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u307f\u4e00\u77ac\u8ca0\u8377\u304c\u3042\u304c\u308a\u307e\u3057\u305f\u304c\u3001\u8a3a\u65ad\u4e2d\u306f\u3042\u307e\u308a\u8ca0\u8377\u304c\u4e0a\u304c\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\n\n\u53c2\u8003\u8cc7\u6599\nhttp://dev.classmethod.jp/cloud/aws/aws-inspector/\nhttp://dev.classmethod.jp/cloud/aws/blackbelt2016-inspector/\nhttps://docs.aws.amazon.com/ja_jp/inspector/latest/userguide/inspector_introduction.html\nhttps://docs.aws.amazon.com/ja_jp/inspector/latest/userguide/inspector_settingup.html\nAmazon Inspector\u3092\u89e6\u308b\u6a5f\u4f1a\u304c\u3042\u3063\u305f\u305f\u3081\u3001\u8106\u5f31\u6027\u8a3a\u65ad\u306b\u304a\u3051\u308bAmazon Inspector\u306e\u4f4d\u7f6e\u3065\u3051\u3092\u8efd\u304f\u6574\u7406\u3057\u305f\u4e0a\u3067\u3001\u81ea\u5206\u306a\u308a\u306b\u305d\u306e\u4f7f\u3044\u65b9\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n# Amazon Inspector\u3068\u306f\uff1f\n\nAmazon Inspector\u3068\u306fAWS\u304c\u63d0\u4f9b\u3059\u308b\u8106\u5f31\u6027\u8a3a\u65ad\u3092\u884c\u3046\u30b5\u30fc\u30d3\u30b9\u3067\u3001\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u5229\u7528\u3057\u305f\u30d7\u30e9\u30c3\u30c8\u30db\u30fc\u30e0\u8a3a\u65ad\u306e\u305f\u3081\u306e\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002EC2\u306b\u5bfe\u3057\u3066\u5b9f\u65bd\u3059\u308b\u3082\u306e\u3067\u6709\u6599\u3067\u3059\u3002\u307e\u305fEC2\u306e\u307f\u306e\u305f\u3081\u3001\u4ed6\u793e\u30af\u30e9\u30a6\u30c9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3084\u30c7\u30fc\u30bf\u30bb\u30f3\u30bf\u30fc\u306b\u3042\u308b\u30b5\u30fc\u30d0\u306b\u306f\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093\u3002\n\n# \u3053\u3046\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u304c\u6c42\u3081\u3089\u308c\u308b\u80cc\u666f\uff08\u79c1\u898b\uff09\n\u3042\u304f\u307e\u3067\u79c1\u898b\u3067\u3059\u304c\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3078\u306e\u53d6\u308a\u7d44\u307f\u306b\u306f\u307e\u305a\u306f\u300c\u30ea\u30b9\u30af\u306e\u53ef\u8996\u5316\u300d\u304c\u5fc5\u8981\u3068\u8a00\u308f\u308c\u3066\u307e\u3059\u304c\u3001\u3053\u308c\u307e\u3067\u306f\u30a4\u30f3\u30d5\u30e9\u62c5\u5f53\u8005\u3068\u3044\u3046\u300c\u4eba\u300d\u306b\u4f9d\u5b58\u3059\u308b\u5f62\u3067\u3001\u81ea\u5206\u305f\u3061\u306e\u30b5\u30fc\u30d3\u30b9\u3067\u5229\u7528\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u306eOS\u3084\u30df\u30c9\u30eb\u30a6\u30a7\u30a2\u306b\u8106\u5f31\u6027\u6709\u7121\u306e\u53ef\u8996\u5316\u3084\u5bfe\u5fdc\u304c\u884c\u308f\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u591a\u3044\u3088\u3046\u306b\u601d\u3044\u307e\u3059\u3002\n\n\u3057\u304b\u3057AWS\u3092\u306f\u3058\u3081\u3001\u30d1\u30d6\u30ea\u30c3\u30af\u30af\u30e9\u30a6\u30c9\u3092\u5229\u7528\u3057\u305f\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u30a4\u30f3\u30d5\u30e9\u62c5\u5f53\u8005\u304c\u3044\u306a\u3044\u306e\u306f\u666e\u901a\u3067\u3059\u3002\u305d\u3046\u3057\u305f\u80cc\u666f\u3092\u8003\u3048\u308b\u3068\u3001Amazon Inspector\u306e\u3088\u3046\u306b\u81ea\u52d5\u306b\u30ea\u30b9\u30af\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u306f\u3001\u4eca\u5f8c\u306f\u91cd\u8981\u306a\u3053\u3068\u3068\u8003\u3048\u3066\u3044\u307e\u3059\u3002\n\n# Amazon Inspector\u3068\u8106\u5f31\u6027\u8a3a\u65ad\u30b5\u30fc\u30d3\u30b9\u306e\u9055\u3044\n\nAmazon Inspector\u3068\u5916\u90e8\u4f1a\u793e\u3092\u5229\u7528\u3057\u305f\uff08\u3088\u304f\u3042\u308b\uff09\u8106\u5f31\u6027\u8a3a\u65ad\u30b5\u30fc\u30d3\u30b9\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9055\u3044\u304c\u3042\u308b\u3002\uff08\u3082\u3061\u308d\u3093\u8106\u5f31\u6027\u8a3a\u65ad\u30b5\u30fc\u30d3\u30b9\u306b\u306f\u3044\u308d\u3044\u308d\u3042\u308b\u305f\u3081\u3001\u3053\u308c\u304c\u5168\u3066\u3067\u306f\u306a\u3044\uff09\n\n||Amazon Inspector|\u8106\u5f31\u6027\u8a3a\u65ad\u30b5\u30fc\u30d3\u30b9|\n|---|---|---|\n|\u8a3a\u65ad\u306e\u7a2e\u985e(\u30c8\u30dd\u30ed\u30b8\u30fc)|\u8a3a\u65ad\u7528\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u5229\u7528\u3057\u305f\u30db\u30b9\u30c8\u578b\u8a3a\u65ad|\u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u578b\u8a3a\u65ad\u306a\u3069|\n|\u8a3a\u65ad\u306e\u7a2e\u985e(\u30ec\u30a4\u30e4\u30fc)|\u30d7\u30e9\u30c3\u30c8\u30db\u30fc\u30e0\u8a3a\u65ad(\u30cd\u30c3\u30c8\u30ef\u30fc\u30af/OS/\u30df\u30c9\u30eb\u30a6\u30a7\u30a2)|\u30d7\u30e9\u30c3\u30c8\u30db\u30fc\u30e0\u8a3a\u65ad\uff0bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8a3a\u65ad\u306a\u3069\u9078\u629e\u53ef\u80fd|\n|\u5b9f\u65bd\u8005|\u30d7\u30ed\u30b0\u30e9\u30e0(\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8)|\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a3a\u65ad\u306e\u62c5\u5f53\u8005|\n|AWS\u3078\u306e\u4e8b\u524d\u7533\u8acb|\u4e0d\u8981|\u5fc5\u8981|\n\n\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\nhttp://www.slideshare.net/AmazonWebServicesJapan/aws-black-belt-online-seminar-amazon-inspector\n\n\n\u305d\u3057\u3066Amazon Inspector\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9805\u76ee\u3068\u30eb\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001\u5185\u5bb9\u306b\u6cbf\u3063\u305f\u30c6\u30b9\u30c8\u304c\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u308b\u3002\n\n|\u9805\u76ee|\u30eb\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u540d|\u5185\u5bb9|\u6ce8\u610f\u70b9|\n|---|---|---|---|---|\n|\u5171\u901a\u8106\u5f31\u6027\u8b58\u5225\u5b50|Common Vulnerabilities and Exposures|EC2 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u304c\u4e00\u822c\u7684\u306a\u8106\u5f31\u6027\u3084\u66dd\u9732 (CVE) \u306b\u66dd\u9732\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b||\n|CIS \u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u5b9a\u30d9\u30f3\u30c1\u30de\u30fc\u30af|CIS Operating System Security Configuration Benchmarks|\u30a2\u30e1\u30ea\u30ab\u306b\u3042\u308b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30fb\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30fc\u30fb\u30bb\u30f3\u30bf\u30fc\uff08CIS\uff09\u304c\u5b9a\u7fa9\u3057\u305f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8\u306b\u6cbf\u3063\u3066\u78ba\u8a8d\u3059\u308b|Amazon Linux\u3067\u306e\u307f\u5229\u7528\u53ef\u80fd|\n|\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9|Security Best Practices|\u30b7\u30b9\u30c6\u30e0\u304c\u5b89\u5168\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u65ad\u3059\u308b\u306e\u306b\u5229\u7528\u3059\u308b|Windows\u306eEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u306f\u7d50\u679c\u304c\u51fa\u306a\u3044\u306e\u3067\u3001Linux\u306eEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u3002|\n|\u5b9f\u884c\u6642\u306e\u52d5\u4f5c\u306e\u5206\u6790|Runtime Behavior Analysis|\u8a55\u4fa1\u306e\u5b9f\u884c\u4e2d\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u52d5\u4f5c\u3092\u5206\u6790\u3057\u3001EC2 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u3092\u9ad8\u3081\u308b\u305f\u3081\u306e\u30ac\u30a4\u30c0\u30f3\u30b9\u3092\u63d0\u4f9b\u3059\u308b||\n\n\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\nhttps://docs.aws.amazon.com/ja_jp/inspector/latest/userguide/inspector_rule-packages.html\n\n# \u8cbb\u7528\u306e\u8a71\n\u6708250\u56de\u307e\u3067\u306a\u30891\u53f0\u5b9f\u884c\u6bce\u306b$0.3\u304b\u304b\u308b\u3002\n\n|Amazon Inspector \u306e\u5229\u7528\u958b\u59cb\u304b\u3089 90 \u65e5\u9593|\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1\u3054\u3068\u306e\u6599\u91d1|\n|---|---|\n|\u6700\u521d\u306e 250 \u56de\u306e\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1|0.00 USD|\n\n|\u4efb\u610f\u306e\u6708|\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1\u3054\u3068\u306e\u6599\u91d1|\n|---|---|\n|\u6700\u521d\u306e 250 \u56de\u306e\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1|0.30 USD|\n|\u6b21\u306e 750 \u56de\u306e\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u8a55\u4fa1|0.25 USD|\n\n\u8a73\u7d30\u306f\u3053\u3061\u3089\u3092\u53c2\u7167\nhttps://aws.amazon.com/jp/inspector/pricing/\n\n# Amazon Inspector\u306e\u4f7f\u3044\u65b9\nInspector\u306e\u5b9f\u65bd\u6761\u4ef6\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002RHEL\u3084CentOS\u306e\u5834\u5408\u30016\u4ee5\u4e0b\u3067\u306f\u5229\u7528\u3067\u304d\u306a\u3044\u3002\u307e\u305fWindows\u5411\u3051\u5bfe\u5fdc\u306f\u307e\u3060\u03b2\u7248\u306e\u305f\u3081\u3001\u6b63\u5f0f\u306b\u306f\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u3002\n\n- Amazon Linux (2015.03 \u4ee5\u964d)\n- Ubuntu (14.04 LTS)\n- Red Hat Enterprise Linux (7.2)\n- CentOS (7.2)\n- Windows Server 2008 R2 \u304a\u3088\u3073 Windows Server 2012\uff08\u03b2\u7248\uff09\n\n## \u6e96\u5099\n### IAM\u30ed\u30fc\u30eb\u306e\u4f5c\u6210\n0. AWS Web\u30b3\u30f3\u30bd\u30fc\u30eb\u4e0a\u306eInspector\u3092\u958b\u3044\u3066\u3001\u300c\u4eca\u3059\u3050\u59cb\u3081\u308b\u300d\u2192\u300c\u30ed\u30fc\u30eb\u306e\u9078\u629e\u307e\u305f\u306f\u4f5c\u6210\u300d\u3092\u30af\u30ea\u30c3\u30af\n![\u30ed\u30fc\u30eb\u4f5c\u6210](https://qiita-image-store.s3.amazonaws.com/0/77532/4518b35c-41ab-4b34-26d3-3aad0b86bcf3.png \"\u30ed\u30fc\u30eb\u4f5c\u6210\")\n\n0. IAM\u30ed\u30fc\u30eb\u540d\"inspector\"\u3001\u30dd\u30ea\u30b7\u30fc\u540d\u300c\u65b0\u3057\u3044\u30ed\u30fc\u30eb\u30dd\u30ea\u30b7\u30fc\u306e\u4f5c\u6210\u300d\u3092\u9078\u3073\u3001\u53f3\u4e0b\u306e\u300c\u8a31\u53ef\u300d\u3092\u30af\u30ea\u30c3\u30af\u3002\n\n![image.png](https://qiita-image-store.s3.amazonaws.com/0/77532/fb8663a1-3d03-9fc7-84a0-d73b5e4580b0.png)\n\n\u306a\u304a\u3053\u306e\u30dd\u30ea\u30b7\u30fc\u306fec2 describe-instances\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u307f\u8a31\u53ef\u3059\u308b\u3082\u306e\u3002\u307e\u305f\u30ed\u30fc\u30eb\u540d\u306f\u4ed6\u306e\u540d\u524d\u3067\u3082\u554f\u984c\u306a\u3044\u3002\n\n### \u30bf\u30b0\u3092\u4ed8\u3051\u308b\nAmazon Inspector\u3092\u5b9f\u884c\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u5bfe\u3057\u3066\u30bf\u30b0\u3092\u4ed8\u3051\u308b\u3002GUI\u304b\u3089\u5b9f\u65bd\u3059\u308b\u304b\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306baws-cli\u3092\u4f7f\u3063\u3066\u30bf\u30b0\u3092\u3064\u3051\u308b\u3002\n\n```shell-session\n# \u30c6\u30b9\u30c8\u5b9f\u884c\naws ec2 create-tags --dry-run --resources i-XXXXXXXXXXXXX --tags Key=inspector,Value=True\n\n# \u672c\u756a\u5b9f\u884c(--dry-run\u306a\u3057)\naws ec2 create-tags --resources i-XXXXXXXXXXXXX --tags Key=inspector,Value=true\n```\n\n- --resources \u306e\u5f8c\u306bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30ea\u30bd\u30fc\u30b9ID\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n- \u4e0a\u8a18\u4f8b\u3060\u3068\u300cKey: inspector, Value: true\u300d\u3068\u3044\u3046\u30bf\u30b0\u304c\u8a2d\u5b9a\u3055\u308c\u308b\u3002\n\n\u53c2\u8003\u8cc7\u6599\nhttps://docs.aws.amazon.com/ja_jp/inspector/latest/userguide/inspector_applications.html\n\n### \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nAmazon Inspector\u3092\u5b9f\u884c\u3059\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u4e0a\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\n\n#### \u30d5\u30a1\u30a4\u30eb\u306e\u5165\u624b\n\n```shell-session\n# install\u30d5\u30a1\u30a4\u30eb\u306e\u5165\u624b\nwget https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install\n```\n\n```shell-session:\u5b9f\u884c\u4f8b\n# wget https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install\n--2016-11-18 11:45:51--  https://d1wk0tztpsntt1.cloudfront.net/linux/latest/install\nResolving d1wk0tztpsntt1.cloudfront.net (d1wk0tztpsntt1.cloudfront.net)... 54.192.233.79, 54.192.233.106, 54.192.233.110, ...\nConnecting to d1wk0tztpsntt1.cloudfront.net (d1wk0tztpsntt1.cloudfront.net)|54.192.233.79|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 23648 (23K)\nSaving to: \u2018install\u2019\n\n100%[==================================================================================>] 23,648      --.-K/s   in 0.002s\n\n2016-11-18 11:45:51 (14.8 MB/s) - \u2018install\u2019 saved [23648/23648]\n```\n#### \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```shell-session\n# install\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3057\u3066\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nbash install\n```\n\n```shell-session:\u5b9f\u884c\u4f8b(CentOS7.2\u5229\u7528)\n# ls -ltr\ntotal 24\n-rw-r--r-- 1 root root 23648 Nov 16 23:59 install\n\n# bash install\nDistribution of the machine is CentOS Linux.\nDistribution type of the machine is centos.\nRevision of the distro is 7.\nKernel version of the machine is 3.10.0-327.13.1.el7.x86_64.\n...\n(\u7565)\n...\nInstallation script completed successfully.\n\nNotice:\nBy installing the Amazon Inspector Agent, you agree that your use is subject to the terms of your existing\nAWS Customer Agreement or other agreement with Amazon Web Services, Inc. or its affiliates governing your\nuse of AWS services. You may not install and use the Amazon Inspector Agent unless you have an account in\ngood standing with AWS.\n*  *  *\nCurrent running agent reports to arsenal endpoint:\nCurrent running agent reports version as: 1.0.551.0\nThis install script was created to install agent version:1.0.551.0\nIn most cases, these version numbers should be the same.\n#\n```\n### \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u78ba\u8a8d(\u30aa\u30d7\u30b7\u30e7\u30f3)\nEC2\u304b\u3089Amazon Inspector \u304a\u3088\u3073 Amazon S3 \u30b5\u30fc\u30d3\u30b9\u7528\u306e\u30d1\u30d6\u30ea\u30c3\u30af\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3078\u306e\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u8a31\u53ef\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3059\u308b\u3002\u306a\u304a\u3001\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u306e\u8a31\u53ef\u306f\u4e0d\u8981\u3002\n\n## \u8a55\u4fa1\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u4f5c\u308b\n\u3069\u306e\u30bf\u30b0\u304c\u3064\u3044\u3066\u3044\u308b\u3082\u306e\u3092Amazon Inspector\u306e\u8abf\u67fb\u5bfe\u8c61\u3068\u3059\u308b\u304b\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u3001\u8a55\u4fa1\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u300c\u30ad\u30fc: inspector\u3001\u5024\uff1aTrue\u300d\u3068\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u3092Amazon Inspector\u306e\u8abf\u67fb\u5bfe\u8c61\u3068\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u307e\u3059\u3002\n\n|\u9805\u76ee|\u8a2d\u5b9a\u5024|\n|:--|:--|\n|\u540d\u524d|\u4efb\u610f\u306e\u540d\u79f0(\u4e0b\u8a18\u3067\u306f\"inspector\")|\n|\u30ad\u30fc|Key\u306e\u5024(\u4e0b\u8a18\u3067\u306f\"inspector\")|\n|\u5024|Value\u306e\u5024(\u4e0b\u8a18\u3067\u306f\"True\")|\n![image.png](https://qiita-image-store.s3.amazonaws.com/0/77532/c767b0e6-d5bb-3ed7-06ed-312d846bf93c.png)\n\n\n## \u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u308b\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f5c\u6210\u3057\u3001\u300c\u4f5c\u6210\u304a\u3088\u3073\u5b9f\u884c\u300d\u3067Amazon Inspector\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\u306a\u304a\u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u4fee\u6b63\u306f\u3067\u304d\u306a\u3044\u3002\u524a\u9664\uff06\u4f5c\u6210\u304c\u5fc5\u8981\u3068\u306a\u308b\u3002\n\n|\u9805\u76ee|\u8a2d\u5b9a\u5024|\n|:--|:--|\n|\u540d\u524d|\u4efb\u610f\u306e\u540d\u79f0(\u4e0b\u8a18\u3067\u306f\"inspector_templete\")|\n|\u30bf\u30fc\u30b2\u30c3\u30c8\u540d|\u5148\u7a0b\u4f5c\u6210\u3057\u305f\u30bf\u30fc\u30b2\u30c3\u30c8\u540d\u3092\u8a18\u8f09(\u672c\u8cc7\u6599\u3067\u306f\"inspector\")|\n|\u30eb\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8|\u524d\u8ff0\u306e\u30eb\u30fc\u30eb\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u9078\u629e(\u4e0b\u8a18\u3067\u306f\"Security Best Practices-1.0\"\u3092\u9078\u629e)|\n|\u6240\u8981\u6642\u9593|\u6642\u9593\u3092\u9078\u629e\u3002\u9577\u3051\u308c\u3070\u9577\u3044\u307b\u3069\u8a73\u7d30\u306e\u30c6\u30b9\u30c8\u304c\u3067\u304d\u308b\u304c\u63a8\u5968\u306f1\u6642\u9593|\n|SNS\u30c8\u30d4\u30c3\u30af|\u691c\u51fa\u3055\u308c\u305f\u3082\u306e\u3092SNS\u306b\u901a\u77e5\u3059\u308b\u5834\u5408\u306f\u8a2d\u5b9a\u3059\u308b(\u30aa\u30d7\u30b7\u30e7\u30f3)|\n|\u30bf\u30b0|\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u8a2d\u5b9a(\u30aa\u30d7\u30b7\u30e7\u30f3)|\n|\u7d50\u679c\u306b\u8ffd\u52a0\u3055\u308c\u305f\u5c5e\u6027|\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u8a2d\u5b9a(\u30aa\u30d7\u30b7\u30e7\u30f3)|\n\n![image.png](https://qiita-image-store.s3.amazonaws.com/0/77532/1a7e534b-91bf-1c96-bf91-ac76c2c078fb.png)\n\n\n\n\u307e\u305faws-cli\u3067Amazon Inspector\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u884c\u3046\n\n```shell-session\naws inspector start-assessment-run --assessment-run-name (\u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u540d) --assessment-template-arn (\u8a55\u4fa1\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306eARN)\n```\n\n```shell-session:\u5b9f\u884c\u4f8b\n# aws inspector start-assessment-run --assessment-run-name inspector_templete --assessment-template-arn arn:aws:inspector:ap-northeast-1:XXXXXXXXXXXX:target/xxxxxxxx/template/xxxxxxxx\n```\n\n## \u7d50\u679c\u78ba\u8a8d\n\u5b9f\u884c\u958b\u59cb\u3059\u308b\u3068\u3001\u691c\u51fa\u3055\u308c\u305f\u3082\u306e\u304b\u3089\u5de6\u30da\u30a4\u30f3\u306b\u3042\u308b\u300c\u8a55\u4fa1\u306e\u5b9f\u884c\u300d\u5185\u306b\u51fa\u529b\u3055\u308c\u308b\u3002\u691c\u51fa\u4ef6\u6570\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u691c\u51fa\u3055\u308c\u305f\u5185\u5bb9\u3084\u63a8\u5968\u4e8b\u9805\u3092\u78ba\u8a8d\u3057\u3066\u5bfe\u5fdc\u3092\u884c\u3046\u3002\n<img width=\"947\" alt=\"image.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/77532/a247624f-9464-a951-cd67-2de08ce2fbd4.png\">\n\n# \u307e\u3068\u3081\nAmazon Inspector\u306f\u3001GUI\u3067\u3082aws-cli\u3067\u3082\u3042\u3063\u3051\u306a\u3044\u307b\u3069\u7c21\u5358\u306b\u5b9f\u884c\u3067\u304d\u307e\u3057\u305f\u3002\n\u307e\u305faws-cli\u3068cron\u3084Rundeck\u3084jenkins\u306a\u3069\u304c\u5229\u7528\u3057\u3066\u81ea\u52d5\u5b9f\u884c\u3082\u3067\u304d\u308b\u305f\u3081\u3001\u6709\u6599\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u304c\u5b9a\u671f\u7684\u306b\u5b9f\u884c\u3057\u3066\u30ea\u30b9\u30af\u306e\u53ef\u8996\u5316\u3092\u884c\u3046\u3068\u3088\u3055\u305d\u3046\u3067\u3059\u3002\n\n# \u8cc7\u6599\n## \u8a3a\u65ad\u5b9f\u884c\u4e2d\u306e\u30d7\u30ed\u30bb\u30b9\u3068\u8ca0\u8377\n\u8a3a\u65ad\u5b9f\u884c\u4e2d\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d7\u30ed\u30bb\u30b9\u304c\u8d77\u52d5\u3057\u3066\u307e\u3057\u305f\u3002\n\n```text:\nroot     14202  0.0  0.0      0     0 ?        S<   Nov17   0:00 [kworker/0:2H]\nroot     14203  0.0  0.0      0     0 ?        S<   Nov17   0:00 [kworker/0:0H]\nroot     21393  0.0  0.0      0     0 ?        S    10:40   0:00 [kworker/0:0]\nroot     21430  0.0  0.4 140788  5060 ?        Ss   10:42   0:00 sshd: root@pts/0\nroot     21434  0.0  0.2 115384  2112 pts/0    Ss   10:42   0:00 -bash\nroot     21994  0.0  0.0      0     0 ?        R    11:46   0:00 [kworker/0:1]\nroot     22054  0.0  2.9 470424 30116 ?        Ssl  11:46   0:01 /opt/aws/awsagent/bin/awsagent\nroot     22231  0.0  0.2 176024  2412 ?        S    12:03   0:00 /usr/sbin/CROND -n\nroot     22232  0.0  0.1 113120  1200 ?        Ss   12:03   0:00 /bin/bash -c /bin/sleep $[ ( $RANDOM % 3420 ) + 1 ]s; /opt/aws/awsagent/bin/update > /var/log/awsagent-update.log 2>&1\nroot     22233  0.0  0.0 107896   616 ?        S    12:03   0:00 /bin/sleep 3324s\nroot     22293  0.0  0.0      0     0 ?        S<   12:12   0:00 [inspector_task_]\nroot     22294  0.0  0.0      0     0 ?        S<   12:12   0:00 [inspector_libra]\n```\n\nCloudWatch\u3067\u8ca0\u8377\u3092\u307f\u305f\u3068\u3053\u308d\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u307f\u4e00\u77ac\u8ca0\u8377\u304c\u3042\u304c\u308a\u307e\u3057\u305f\u304c\u3001\u8a3a\u65ad\u4e2d\u306f\u3042\u307e\u308a\u8ca0\u8377\u304c\u4e0a\u304c\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n![image.png](https://qiita-image-store.s3.amazonaws.com/0/77532/b68ffc48-ca9f-0d87-12d0-2b5755188f12.png)\n\n## \u53c2\u8003\u8cc7\u6599\nhttp://dev.classmethod.jp/cloud/aws/aws-inspector/\nhttp://dev.classmethod.jp/cloud/aws/blackbelt2016-inspector/\nhttps://docs.aws.amazon.com/ja_jp/inspector/latest/userguide/inspector_introduction.html\nhttps://docs.aws.amazon.com/ja_jp/inspector/latest/userguide/inspector_settingup.html\n", "tags": ["AWS", "\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3", "Inspector"]}