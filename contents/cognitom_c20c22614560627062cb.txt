{"context": "Advent Calendar\u306e\u4f55\u65e5\u76ee\u304b\u3067\u3059\u3002\u8fd1\u5e74\u3001JavaScript\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304f\u306e\u306b\u907f\u3051\u3066\u901a\u308c\u306a\u3044\u300c\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\u300d\u306b\u3064\u3044\u3066\u3001Riot\u306e\u6587\u8108\u30673\u672c\u307b\u3069\u66f8\u3044\u3066\u307f\u305f\u3044\u30b7\u30ea\u30fc\u30ba\u306e2\u672c\u76ee\u3067\u3059\n\n\nES6\u3067\u66f8\u304fRiot - riot.config.js\u7de8 - (\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9)\n\nES6\u3067\u66f8\u304fRiot - Rollup\u7de8 - (\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9)\nES6\u3067\u66f8\u304fRiot - Felt\u7de8 (\u4e88\u5b9a)\n\n\n\u30d0\u30f3\u30c9\u30e9? \u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9?\n\nriot.config.js\u7de8\u3067\u306f\u3001riot\u30b3\u30de\u30f3\u30c9\u7d4c\u7531\u3067\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u6271\u3044\u307e\u3057\u305f\u3002\u5177\u4f53\u7684\u306a\u30c4\u30fc\u30eb\u3068\u3057\u3066\u306f\u3001babel\u3084bubl\u00e9\u304c\u300c\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\u300d\u306b\u3042\u305f\u308a\u307e\u3059\u3002\u8981\u306f\u3001\u3053\u306e\u624b\u306e(\u2193)\u5909\u63db\u3067\u3059\u3002\n\n\u5909\u63db\u524d: this.message = `Hello ${name}!`\n\n\u5909\u63db\u5f8c: this.message = \"Hello \" + name + \"!\"\n\n\n\u305f\u3060\u3001\u30bf\u30b0\u304b\u3089import\u6587\u3092\u4f7f\u3063\u3066\u4ed6\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u826f\u3044\u65b9\u6cd5\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u5fc5\u8981\u3068\u306a\u308b\u306e\u304c\u30d0\u30f3\u30c9\u30e9\u3067\u3059\u3002\u30b7\u30f3\u30d7\u30eb\u306a\u8a71\u3068\u3057\u3066\u306f\u3001\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\u306e\u524d\u6bb5\u306b\u7f6e\u304b\u308c\u3066\u8907\u6570\u306eJavaScript\u3092\u307e\u3068\u3081\u308b\u5f79\u76ee\u3092\u679c\u305f\u3057\u307e\u3059\u3002\n\n\u5909\u63db\u524d:\n\n\nimport { add } from './a'; console.log(add(1, 2))\nexport add function add (a, b) { return a + b }\n\n\n\u5909\u63db\u5f8c:\n\n\nfunction add (a, b) { return a + b }; console.log(add(1, 2))\n\n\n\n\u3053\u308c\u3082\u7d75\u306b\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u305f\u3060\u3001\u5b9f\u969b\u306b\u306f\u3082\u3046\u5c11\u3057\u8907\u96d1\u3067\u3001\u4e16\u306b\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30c4\u30fc\u30eb\u306e\u591a\u304f\u306f\u307e\u3060\u30d6\u30e9\u30a6\u30b6(ES6)\u3067\u306f\u306a\u304fNode.js(CommonJS)\u5411\u3051\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u308c\u3089\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u3046\u306b\u306f\u3001CommonJS\u2192ES6\u5909\u63db\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u672c\u7a3f\u306e\u672c\u984c\u3067\u3042\u308b\u300cRiot\u306e\u30bf\u30b0\u3092\u4e00\u7dd2\u306b\u8aad\u307f\u8fbc\u3080\u300d\u5834\u5408\u3082\u3001Riot\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u4e8b\u524d\u306b\u901a\u3057\u3066JavaScript\u306b\u5909\u63db\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\nRollup\n\u3055\u3066\u3001\u3044\u3088\u3044\u3088Rollup\u3067\u3059\u3002\u3053\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u3048\u3070\u3001\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u3001\u3055\u3089\u306b\u306fnpm\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u305f\u3061\u3092\u3001\u3072\u3068\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u3089\u308c\u307e\u3059\u3002\u3053\u308c\u306b\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u304a\u3044\u3066\u30013\u3064\u306e\u5927\u304d\u306a\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u6a5f\u80fd\u3054\u3068\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u3089\u308c\u308b\n\u5148\u4eba\u306e\u4f5c\u3063\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4e57\u3063\u304b\u308c\u308b\n1\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u6570\u3068\u5e2f\u57df\u3092\u5727\u7e2e\n\n\n\u30c4\u30fc\u30eb\u305d\u306e\u3082\u306e\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u524d\u306b\u66f8\u3044\u305f\u8a18\u4e8b\u3082\u3042\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3082\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30e1\u30e2: \u30d0\u30f3\u30c9\u30e9\u3068\u3057\u3066\u306e\u9078\u629e\u80a2\u306f3\u3064\u307b\u3069\u3042\u308a\u307e\u3059\u3002\n\nwebpack: \u5229\u7528\u4f8b\u591a\u3057\u3002\u591a\u6a5f\u80fd\u3059\u304e\u3002HMR(hot module loading)\u304c\u9b45\u529b\nRollup: \u30b7\u30f3\u30d7\u30eb\u3001\u9ad8\u901f\u3001\u751f\u6210\u30b3\u30fc\u30c9\u304c\u5c0f\u3055\u3044\nBrowserify: \u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3082\u3046\u4f7f\u308f\u306a\u3044\n\n\u597d\u307f\u3067\u8a00\u3048\u3070\u5727\u5012\u7684\u306bRollup\u63a8\u3057\u3067\u3059\u304c\u3001\u5468\u308a\u306e\u74b0\u5883(\u3068\u4eba)\u306b\u5408\u308f\u305b\u3066\u9078\u629e\u3057\u3066\u5e78\u305b\u306b\u306a\u308a\u307e\u3057\u3087\u3046\u3002\n\n\n\u6e96\u5099\nRiot\u306e\u516c\u5f0fExamples\u306b\u3001Rollup\u306e\u4f8b\u3082\u7528\u610f\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u30af\u30ed\u30fc\u30f3\u3057\u3066\u304d\u3066\u8a72\u5f53\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u9032\u307f\u307e\u3059\u3002\n$ git clone https://github.com/riot/examples\n$ cd example/rollup\n\n\n\u30e1\u30e2: \u307e\u3060\u3001Git\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u3053\u3053\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u306e\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3002\n\n\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\n\nsrc/\n\n\nmain.js - JavaScript\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\n\napp.tag - \u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u306e\u30bf\u30b0\n\nmd.tag - Markdown\u8868\u793a\u306e\u305f\u3081\u306e\u30bf\u30b0\n\n\nindex.html\npackage.json\n\nrollup.config.js - Rollup\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\u4e0a\u8a18\u305d\u308c\u305e\u308c\u306e\u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u306f\u3001\u9069\u5b9c\u8abf\u3079\u3066\u3082\u3089\u3046\u3068\u3057\u3066\u3001\u3053\u3053\u3067\u91cd\u8981\u306a\u306e\u306frollup.config.js\u3067\u3059\u3002\u3053\u306e\u3046\u3061\u306e\u3001\u57fa\u672c\u90e8\u5206\u306e\u307f\u3092\u629c\u304d\u51fa\u3059\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n// Riot\u30d7\u30e9\u30b0\u30a4\u30f3\nimport riot from 'rollup-plugin-riot'\n// ES6\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\nimport buble from 'rollup-plugin-buble' \n\nexport default {\n  entry: 'src/main.js', // JavaScript\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\n  dest: 'dist/bundle.js', // \u51fa\u529b\u5148\n  plugins: [\n    // \u4ee5\u4e0b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u8a2d\u5b9a\n    riot(),\n    buble()\n  ],\n  format: 'iife' // \u3048\u30fc\u3063\u3068\u3001\u3068\u308a\u3042\u3048\u305a\u3053\u3046\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\n}\n\n\u9806\u756a\u306b\u898b\u3066\u3044\u3051\u3070\u3001\u305d\u308c\u307b\u3069\u96e3\u3057\u3044\u3053\u3068\u306f\u306a\u304f\u3066\u3001\n\n\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8aad\u307f\u8fbc\u307f\n\u5165\u529b\u30d5\u30a1\u30a4\u30eb\u3068\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\n\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u9069\u7528\n\n\u3092\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\u5b9f\u969b\u306b\u306f\u3001Node\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u305f\u3081\u3001\u3082\u3046\u4e8c\u3064\u307b\u3069\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u3046\u306a\u308a\u307e\u3059\u3002\u2193\n// Riot\u30d7\u30e9\u30b0\u30a4\u30f3\nimport riot from 'rollup-plugin-riot'\n// node_modules\u306e\u4e2d\u304b\u3089\u53d6\u3063\u3066\u304f\u308b\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\nimport nodeResolve from 'rollup-plugin-node-resolve'\n// \u3055\u304d\u307b\u3069\u306e\u56f3\u306e\u4e2d\u306e\u300cCommonJS\u30d6\u30ea\u30c3\u30b8\u300d\u306b\u76f8\u5f53\nimport commonjs from 'rollup-plugin-commonjs'\n// ES6\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\nimport buble from 'rollup-plugin-buble' \n\nexport default {\n  entry: 'src/main.js', // JavaScript\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\n  dest: 'dist/bundle.js', // \u51fa\u529b\u5148\n  plugins: [\n    // \u4ee5\u4e0b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u8a2d\u5b9a\n    riot(),\n    nodeResolve({ jsnext: true }),\n    commonjs(),\n    buble()\n  ],\n  format: 'iife' // \u3048\u30fc\u3063\u3068\u3001\u3068\u308a\u3042\u3048\u305a\u3053\u3046\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\n}\n\n\n\u5b9f\u884c\n\u3067\u306f\u3001\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001\u5b9f\u969b\u306b\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n$ npm install\n$ npm run build\n\ndist\u30d5\u30a9\u30eb\u30c0\u306b\u3001bundle.js\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u78ba\u8a8d\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u3061\u3087\u3063\u3068\u3054\u3061\u3083\u3063\u3068\u3057\u3066\u898b\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\n\nmain.js\napp.tag\nmd.tag\nriot.js\nmarked.js\n\n\u306e5\u3064(+\u4f9d\u5b58\u30d5\u30a1\u30a4\u30eb)\u304c\u3072\u3068\u3064\u306e\u30b3\u30fc\u30c9\u306b\u307e\u3068\u307e\u3063\u305f\u306e\u304c\u898b\u3066\u53d6\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30e1\u30e2: \u4e0a\u8a18\u3001npm run build\u306b\u306frollup -c\u30b3\u30de\u30f3\u30c9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001npm\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u66f8\u3044\u3066\u304a\u3051\u3070\u3001rollup\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u74b0\u5883\u306b\u5165\u308c\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u8907\u6570\u4eba\u3067\u4f5c\u696d\u3057\u3066\u3044\u308b\u5834\u5408\u3082\u3001npm install\u3059\u308b\u3060\u3051\u3067\u5168\u54e1\u306e\u74b0\u5883\u3092\u63c3\u3048\u3089\u308c\u308b\u306e\u306f\u5927\u304d\u306a\u30e1\u30ea\u30c3\u30c8\u3067\u3059\u3002\n\n\n\u30bf\u30b0\u5185\u306eCSS\u3069\u3046\u3057\u3088\u3046\u554f\u984c\n\u4e0a\u8a18\u307e\u3067\u3067\u6e08\u3081\u3070\u3001\u6bd4\u8f03\u7684\u30b7\u30f3\u30d7\u30eb\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u6700\u5f8c\u306b\u6d6e\u4e0a\u3059\u308b\u306e\u304cCSS\u306e\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u3059\u3002\u3053\u3053\u307e\u3067\u3001JavaScript\u306e\u6587\u8108\u3067\u8aac\u660e\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u540c\u3058\u3088\u3046\u306a\u3053\u3068\u306fCSS\u3067\u3082\u8d77\u304d\u3066\u3044\u307e\u3059\u3002\n\nJavaScript: \u6b21\u4e16\u4ee3\u6a19\u6e96(ES6\u30fbES7)\u3092\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3078\nCSS: \u6b21\u4e16\u4ee3\u6a19\u6e96(CSS3\u30fbCSS4)\u3092\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3078\n\nCSS\u306e\u6587\u8108\u3067\u4f7f\u308f\u308c\u308b\u306e\u306fPostCSS\u3067\u3001\u305d\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u675f\u306d\u3066\u4f7f\u3044\u3084\u3059\u304f\u3057\u305f\u3082\u306e\u304ccssnext\u3067\u3059\u3002\u3053\u308c\u3092\u4f7f\u3048\u3070\u3001\u81ea\u52d5\u3067\u30d9\u30f3\u30c0\u30fc\u30d7\u30ea\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u3064\u3051\u305f\u308a\u3001CSS\u5909\u6570\u3092\u4f7f\u3063\u305f\u308a\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3069\u3046\u7d44\u307f\u8fbc\u3080?\n\u5358\u4f53\u306eCSS\u3067\u3042\u308c\u3070\u3001cssnext\u5358\u4f53\u3067\u7c21\u5358\u306b\u5909\u63db\u3067\u304d\u307e\u3059\u3002\u3067\u3082\u3001\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002Riot\u3067\u306f\u30bf\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306b\u4e00\u7dd2\u306bCSS\u3082\u66f8\u304f\u3053\u3068\u3067\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u6027\u3092\u9ad8\u3081\u3066\u3044\u308b\u306e\u3067\u3057\u305f\u3002...\u3068\u3044\u3046\u3053\u3068\u306f\u3001Riot\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u4e2d\u3067cssnext\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u7d75\u306b\u3059\u308b\u3068\u3053\u3046\u3067\u3059\u306d\u3002\u5148\u307b\u3069\u306e\u56f3\u3088\u308a\u8a73\u3057\u304f\u306a\u3063\u3066\u3044\u308bRiot\u30b3\u30f3\u30d1\u30a4\u30e9\u5468\u8fba\u306b\u6ce8\u76ee\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nRiot\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u30ab\u30b9\u30bf\u30e0\u30d1\u30fc\u30b5\u3092\u5165\u308c\u308b\n\u305d\u306e\u305f\u3081\u306e\u65b9\u6cd5\u304cRiot\u306b\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002(\u6ce8)\nRiot\u3067\u306f\u3001HTML, JavaScript, CSS\u306b\u95a2\u3057\u3066\u3001\u305d\u308c\u305e\u308c\u30ab\u30b9\u30bf\u30e0\u30d1\u30fc\u30b5\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002Rollup\u304b\u3089\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u5148\u307b\u3069\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u8a2d\u5b9a\u3067\u30b7\u30f3\u30d7\u30eb\u306briot()\u3068\u3057\u3066\u3044\u305f\u3068\u3053\u308d\u3001\u6b21\u306e\u3088\u3046\u306bstyle\u3068parsers\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\nriot({\n  style: 'cssnext',\n  parsers: {\n    css: { cssnext }\n  }\n})\n\n\u4e0a\u8a18\u3001cssnext\u306f\u5225\u9014\u6b21\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002:scope\u3092\u3046\u307e\u304f\u4f7f\u3046\u305f\u3081\u306b\u3001\u5c11\u3057\u30c8\u30ea\u30c3\u30af\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u57fa\u672c\u7684\u306b\u306fpostcss([\u30d7\u30e9\u30b0\u30a4\u30f3]).process(css).css\u304c\u5168\u3066\u3067\u3059\u3002cssnext\u4ee5\u5916\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u3001\u914d\u5217\u306b\u8db3\u3057\u307e\u3057\u3087\u3046\u3002\nfunction cssnext (tagName, css) {\n  // \u3061\u3087\u3063\u3068\u3060\u3051\u30cf\u30c3\u30af\u3057\u3066\u3001:scope\u3092:root\u306b\u7f6e\u304d\u63db\u3048\u3066PostCSS\u306b\u6e21\u3059\n  // \u30bf\u30b0\u306e\u4e2d\u3067CSS\u5909\u6570\u3092\u4f7f\u3044\u3084\u3059\u304f\u3059\u308b\u305f\u3081\n  css = css.replace(/:scope/g, ':root')\n  css = postcss([postcssCssnext]).process(css).css\n  css = css.replace(/:root/g, ':scope')\n  return css\n}\n\n\n\u6ce8: \u5b9f\u306f\u3001\u672c\u7a3f\u306e\u305f\u3081\u306b(\u3068\u3044\u3046\u3053\u3068\u3082\u306a\u3044\u306e\u3067\u3059\u304c)\u3001\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u30b3\u30df\u30c3\u30c8\u3092Rollup\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u6570\u65e5\u524d\u5165\u308c\u307e\u3057\u305f\u3002\n\n\n\u307e\u3068\u3081\n\u6700\u7d42\u7684\u306b\u3001\u5168\u4f53\u50cf\u3068\u3057\u3066\u306f\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3044\u308d\u3044\u308d\u8aac\u660e\u3057\u305f\u5272\u306b\u306f\u77ed\u3044\u3067\u3059\u306d w\n\nrollup.config.js\nimport riot from 'rollup-plugin-riot'\nimport nodeResolve from 'rollup-plugin-node-resolve'\nimport commonjs from 'rollup-plugin-commonjs'\nimport buble from 'rollup-plugin-buble'\nimport postcss from 'postcss'\nimport postcssCssnext from 'postcss-cssnext'\n\nexport default {\n  entry: 'src/main.js',\n  dest: 'dist/bundle.js',\n  plugins: [\n    riot({\n      style: 'cssnext',\n      parsers: {\n        css: { cssnext }\n      }\n    }),\n    nodeResolve({ jsnext: true }),\n    commonjs(),\n    buble()\n  ],\n  format: 'iife'\n}\n\nfunction cssnext (tagName, css) {\n  css = css.replace(/:scope/g, ':root')\n  css = postcss([postcssCssnext]).process(css).css\n  css = css.replace(/:root/g, ':scope')\n  return css\n}\n\n\n\u73fe\u5728\u306e\u3068\u3053\u308d\u3001\u3082\u3063\u3068\u3082\u67d4\u8edf\u6027\u3068\u62e1\u5f35\u6027\u304c\u9ad8\u304f\u3001\u3069\u3063\u3061\u306b\u3067\u3082\u8ee2\u3079\u308b(?)\u66f8\u304d\u65b9\u306b\u306a\u3063\u305f\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\u3068\u3044\u3046\u308f\u3051\u3067\u3001Riot\u3068Rollup\u4f7f\u304a\u3046\u3088!\n\nAPPENDIX: CommonJS\u306a\u306e\u304bES6\u306a\u306e\u304b\n\u7d50\u8ad6\u304b\u3089\u66f8\u304f\u3068\u3001Riot\u3067\u30bf\u30b0\u3092\u66f8\u304f\u3068\u304d\u306fES6\u306e\u8a18\u6cd5\u3092\u4f7f\u3048\u3070OK\u3067\u3059\u3002CommonJS\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u8a18\u6cd5\u3092\u4f7f\u3046\u7406\u7531\u306f\u898b\u5f53\u305f\u308a\u307e\u305b\u3093\u3002\u8a18\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u8a18\u4e8b\u304c\u305f\u304f\u3055\u3093\u3042\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u898b\u5206\u3051\u65b9\u3060\u3051\u3002\n\n\nES6\u30e2\u30b8\u30e5\u30fc\u30eb: import\u3068\u304bexport\u304c\u3042\u3063\u305f\u3089ES6\u30e2\u30b8\u30e5\u30fc\u30eb\n\nCommonJS: require\u3068\u304bmodule.exports\u304c\u3042\u3063\u305f\u3089CommonJS\u30e2\u30b8\u30e5\u30fc\u30eb\n\nCommonJS\u306f\u3001ES6\u4ee5\u524d\u306b\u63d0\u5531\u3055\u308c\u3066\u3044\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u8aad\u307f\u8fbc\u307f\u306e\u4ed5\u7d44\u307f\u3067\u3001JavaScript\u306e\u6587\u6cd5\u305d\u306e\u3082\u306e\u306f\u62e1\u5f35\u305b\u305arequire()\u3068\u3044\u3046\u95a2\u6570\u3068exports\u3068\u3044\u3046\u5909\u6570\u3060\u3051\u3067\u3069\u3046\u306b\u304b\u3057\u3066\u3044\u305f\u306e\u304c\u753b\u671f\u7684\u3067\u3057\u305f\u3002\u305f\u3060\u3001ES6\u3067\u6587\u6cd5\u5074\u3067\u300c\u30e2\u30b8\u30e5\u30fc\u30eb\u300d\u306e\u4ed5\u7d44\u307f\u304c\u52a0\u308f\u3063\u305f\u3053\u3068\u3067\u3001\u4e8b\u614b\u304c\u8907\u96d1\u5316\u3057\u3066\u3044\u307e\u3059\u3002\u4e00\u90e8\u3001CommonJS\u3067\u3066\u304d\u3066\u3044\u305f\u3053\u3068\u304cES6\u3067\u51fa\u6765\u306a\u304b\u3063\u305f\u308a\u3001\u305d\u306e\u9006\u304c\u3042\u3063\u305f\u308a\u3068\u300c\u76f8\u4e92\u904b\u7528\u300d\u3082\u8ab2\u984c\u3067\u3059\u3002\n\n\u30e1\u30e2: \u4e21\u65b9\u304c\u300cJavaScript\u300d\u3068\u8a00\u3063\u3066\u3044\u308b\u306e\u3067\u521d\u898b\u6bba\u3057\u611f\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u66f8\u304f\u5834\u5408\u3001\n\n\u81ea\u5206\u306e\u30b3\u30fc\u30c9\u306fES6\u3067\u66f8\u304f\nES6\u7248\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u306a\u3044\u5834\u5408\u306f\u3001CommonJS\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30d6\u30ea\u30c3\u30b8\u7d4c\u7531\u3067\u4f7f\u3046\n\n\u3092\u57fa\u672c\u3068\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30e1\u30e2: Node.js\u7528\u306b\u66f8\u304b\u308c\u305f\u8cc7\u7523\u304c\u81a8\u5927\u306a\u306e\u3067\u3001\u4e00\u671d\u4e00\u5915\u306b\u3059\u3079\u3066ES6\u306b\u5909\u308f\u308b...\u3068\u3044\u3046\u3053\u3068\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u5168\u4f53\u3068\u3057\u3066\u306f\u3058\u308f\u3058\u308f\u3068ES6\u306b\u8ef8\u8db3\u3092\u79fb\u3057\u3066\u3044\u308b\u306e\u304c\u4eca\u306eNode.js\u754c\u9688\u3060\u3068\u4fe1\u3058\u3066\u3044\u307e\u3059\u3002\n\n\n[Advent Calendar](http://qiita.com/advent-calendar/2016/riotjs)\u306e\u4f55\u65e5\u76ee\u304b\u3067\u3059\u3002\u8fd1\u5e74\u3001JavaScript\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304f\u306e\u306b\u907f\u3051\u3066\u901a\u308c\u306a\u3044\u300c\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\u300d\u306b\u3064\u3044\u3066\u3001Riot\u306e\u6587\u8108\u30673\u672c\u307b\u3069\u66f8\u3044\u3066\u307f\u305f\u3044\u30b7\u30ea\u30fc\u30ba\u306e2\u672c\u76ee\u3067\u3059\n\n- [ES6\u3067\u66f8\u304fRiot - riot.config.js\u7de8](http://qiita.com/cognitom/items/200a96b86eafc463ed24) - ([\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9](https://github.com/riot/examples/tree/gh-pages/riot-config))\n- [ES6\u3067\u66f8\u304fRiot - Rollup\u7de8](http://qiita.com/cognitom/items/c20c22614560627062cb) - ([\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9](https://github.com/riot/examples/tree/gh-pages/rollup))\n- ES6\u3067\u66f8\u304fRiot - Felt\u7de8 (\u4e88\u5b9a)\n\n## \u30d0\u30f3\u30c9\u30e9? \u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9?\n\n![Artboard Copy.png](https://qiita-image-store.s3.amazonaws.com/0/1858/09a0d334-15fa-8fb8-cbc7-650af124f246.png \"Artboard Copy.png\")\n\nriot.config.js\u7de8\u3067\u306f\u3001`riot`\u30b3\u30de\u30f3\u30c9\u7d4c\u7531\u3067\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u6271\u3044\u307e\u3057\u305f\u3002\u5177\u4f53\u7684\u306a\u30c4\u30fc\u30eb\u3068\u3057\u3066\u306f\u3001[babel](https://babeljs.io/)\u3084[bubl\u00e9](https://buble.surge.sh/)\u304c\u300c\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\u300d\u306b\u3042\u305f\u308a\u307e\u3059\u3002\u8981\u306f\u3001\u3053\u306e\u624b\u306e(\u2193)\u5909\u63db\u3067\u3059\u3002\n\n- \u5909\u63db\u524d: ```this.message = `Hello ${name}!` ```\n- \u5909\u63db\u5f8c: `this.message = \"Hello \" + name + \"!\"`\n\n\u305f\u3060\u3001\u30bf\u30b0\u304b\u3089`import`\u6587\u3092\u4f7f\u3063\u3066\u4ed6\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u3001\u826f\u3044\u65b9\u6cd5\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u5fc5\u8981\u3068\u306a\u308b\u306e\u304c\u30d0\u30f3\u30c9\u30e9\u3067\u3059\u3002\u30b7\u30f3\u30d7\u30eb\u306a\u8a71\u3068\u3057\u3066\u306f\u3001\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\u306e\u524d\u6bb5\u306b\u7f6e\u304b\u308c\u3066\u8907\u6570\u306eJavaScript\u3092\u307e\u3068\u3081\u308b\u5f79\u76ee\u3092\u679c\u305f\u3057\u307e\u3059\u3002\n\n- \u5909\u63db\u524d:\n\t- `import { add } from './a'; console.log(add(1, 2))`\n\t- `export add function add (a, b) { return a + b }`\n- \u5909\u63db\u5f8c:\n\t- `function add (a, b) { return a + b }; console.log(add(1, 2))`\n\n\u3053\u308c\u3082\u7d75\u306b\u3059\u308b\u3068\u3001\u3053\u3093\u306a\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\n![Artboard Copy 2.png](https://qiita-image-store.s3.amazonaws.com/0/1858/85b45637-17e0-1e7c-b15a-8a9a03438c8c.png \"Artboard Copy 2.png\")\n\n\u305f\u3060\u3001\u5b9f\u969b\u306b\u306f\u3082\u3046\u5c11\u3057\u8907\u96d1\u3067\u3001\u4e16\u306b\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30c4\u30fc\u30eb\u306e\u591a\u304f\u306f\u307e\u3060\u30d6\u30e9\u30a6\u30b6(ES6)\u3067\u306f\u306a\u304fNode.js(CommonJS)\u5411\u3051\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u308c\u3089\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u3046\u306b\u306f\u3001CommonJS\u2192ES6\u5909\u63db\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u672c\u7a3f\u306e\u672c\u984c\u3067\u3042\u308b\u300cRiot\u306e\u30bf\u30b0\u3092\u4e00\u7dd2\u306b\u8aad\u307f\u8fbc\u3080\u300d\u5834\u5408\u3082\u3001Riot\u30b3\u30f3\u30d1\u30a4\u30e9\u3092\u4e8b\u524d\u306b\u901a\u3057\u3066JavaScript\u306b\u5909\u63db\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n![Artboard.png](https://qiita-image-store.s3.amazonaws.com/0/1858/48e95331-e5bf-f953-c509-b0bfd07fe01a.png \"Artboard.png\")\n\n## Rollup\n\n\u3055\u3066\u3001\u3044\u3088\u3044\u3088Rollup\u3067\u3059\u3002\u3053\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u3048\u3070\u3001\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u3001\u3055\u3089\u306b\u306fnpm\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u305f\u3061\u3092\u3001\u3072\u3068\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u3089\u308c\u307e\u3059\u3002\u3053\u308c\u306b\u306f\u3001\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306b\u304a\u3044\u3066\u30013\u3064\u306e\u5927\u304d\u306a\u30e1\u30ea\u30c3\u30c8\u304c\u3042\u308a\u307e\u3059\u3002\n\n- \u6a5f\u80fd\u3054\u3068\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u3051\u3089\u308c\u308b\n- \u5148\u4eba\u306e\u4f5c\u3063\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u4e57\u3063\u304b\u308c\u308b\n- 1\u30d5\u30a1\u30a4\u30eb\u306b\u307e\u3068\u3081\u3066\u30ea\u30af\u30a8\u30b9\u30c8\u6570\u3068\u5e2f\u57df\u3092\u5727\u7e2e\n\n![1480739321-5F6A33D5-90BC-4121-A245-68EA61869962.png](https://qiita-image-store.s3.amazonaws.com/0/1858/633d22bd-740c-bee8-0044-900c69393263.png \"1480739321-5F6A33D5-90BC-4121-A245-68EA61869962.png\")\n\n\u30c4\u30fc\u30eb\u305d\u306e\u3082\u306e\u306b\u3064\u3044\u3066\u306f\u3001[\u4ee5\u524d\u306b\u66f8\u3044\u305f\u8a18\u4e8b](http://qiita.com/cognitom/items/e3ac0da00241f427dad6)\u3082\u3042\u308b\u306e\u3067\u3001\u305d\u3061\u3089\u3082\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n> **\u30e1\u30e2**: \u30d0\u30f3\u30c9\u30e9\u3068\u3057\u3066\u306e\u9078\u629e\u80a2\u306f3\u3064\u307b\u3069\u3042\u308a\u307e\u3059\u3002\n> \n> - webpack: \u5229\u7528\u4f8b\u591a\u3057\u3002\u591a\u6a5f\u80fd\u3059\u304e\u3002HMR(hot module loading)\u304c\u9b45\u529b\n> - Rollup: \u30b7\u30f3\u30d7\u30eb\u3001\u9ad8\u901f\u3001\u751f\u6210\u30b3\u30fc\u30c9\u304c\u5c0f\u3055\u3044\n> - Browserify: \u65b0\u898f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3082\u3046\u4f7f\u308f\u306a\u3044\n> \n> \u597d\u307f\u3067\u8a00\u3048\u3070\u5727\u5012\u7684\u306bRollup\u63a8\u3057\u3067\u3059\u304c\u3001\u5468\u308a\u306e\u74b0\u5883(\u3068\u4eba)\u306b\u5408\u308f\u305b\u3066\u9078\u629e\u3057\u3066\u5e78\u305b\u306b\u306a\u308a\u307e\u3057\u3087\u3046\u3002\n\n### \u6e96\u5099\n\nRiot\u306e\u516c\u5f0fExamples\u306b\u3001[Rollup\u306e\u4f8b](https://github.com/riot/examples/tree/gh-pages/rollup)\u3082\u7528\u610f\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u3092\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u30af\u30ed\u30fc\u30f3\u3057\u3066\u304d\u3066\u8a72\u5f53\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u9032\u307f\u307e\u3059\u3002\n\n```bash\n$ git clone https://github.com/riot/examples\n$ cd example/rollup\n```\n\n> **\u30e1\u30e2**: \u307e\u3060\u3001Git\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001[\u3053\u3053\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9](https://github.com/riot/examples/archive/gh-pages.zip)\u3059\u308b\u306e\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3002\n\n\u30d5\u30a1\u30a4\u30eb\u69cb\u6210\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002\n\n- `src/`\n\t- `main.js` - JavaScript\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\n\t- `app.tag` - \u30e1\u30a4\u30f3\u30d3\u30e5\u30fc\u306e\u30bf\u30b0\n\t- `md.tag` - Markdown\u8868\u793a\u306e\u305f\u3081\u306e\u30bf\u30b0\n- `index.html`\n- `package.json`\n- `rollup.config.js` - Rollup\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n### \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n\u4e0a\u8a18\u305d\u308c\u305e\u308c\u306e\u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u306f\u3001\u9069\u5b9c\u8abf\u3079\u3066\u3082\u3089\u3046\u3068\u3057\u3066\u3001\u3053\u3053\u3067\u91cd\u8981\u306a\u306e\u306f[rollup.config.js](https://github.com/riot/examples/blob/gh-pages/rollup/rollup.config.js)\u3067\u3059\u3002\u3053\u306e\u3046\u3061\u306e\u3001\u57fa\u672c\u90e8\u5206\u306e\u307f\u3092\u629c\u304d\u51fa\u3059\u3068\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```javascript\n// Riot\u30d7\u30e9\u30b0\u30a4\u30f3\nimport riot from 'rollup-plugin-riot'\n// ES6\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\nimport buble from 'rollup-plugin-buble' \n\nexport default {\n  entry: 'src/main.js', // JavaScript\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\n  dest: 'dist/bundle.js', // \u51fa\u529b\u5148\n  plugins: [\n    // \u4ee5\u4e0b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u8a2d\u5b9a\n    riot(),\n    buble()\n  ],\n  format: 'iife' // \u3048\u30fc\u3063\u3068\u3001\u3068\u308a\u3042\u3048\u305a\u3053\u3046\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\n}\n```\n\n\u9806\u756a\u306b\u898b\u3066\u3044\u3051\u3070\u3001\u305d\u308c\u307b\u3069\u96e3\u3057\u3044\u3053\u3068\u306f\u306a\u304f\u3066\u3001\n\n- \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u8aad\u307f\u8fbc\u307f\n- \u5165\u529b\u30d5\u30a1\u30a4\u30eb\u3068\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\n- \u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u9069\u7528\n\n\u3092\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\n\n\u5b9f\u969b\u306b\u306f\u3001Node\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\u305f\u3081\u3001\u3082\u3046\u4e8c\u3064\u307b\u3069\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u3046\u306a\u308a\u307e\u3059\u3002\u2193\n\n\n```javascript\n// Riot\u30d7\u30e9\u30b0\u30a4\u30f3\nimport riot from 'rollup-plugin-riot'\n// node_modules\u306e\u4e2d\u304b\u3089\u53d6\u3063\u3066\u304f\u308b\u305f\u3081\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\nimport nodeResolve from 'rollup-plugin-node-resolve'\n// \u3055\u304d\u307b\u3069\u306e\u56f3\u306e\u4e2d\u306e\u300cCommonJS\u30d6\u30ea\u30c3\u30b8\u300d\u306b\u76f8\u5f53\nimport commonjs from 'rollup-plugin-commonjs'\n// ES6\u30c8\u30e9\u30f3\u30b9\u30d1\u30a4\u30e9\nimport buble from 'rollup-plugin-buble' \n\nexport default {\n  entry: 'src/main.js', // JavaScript\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u30dd\u30a4\u30f3\u30c8\n  dest: 'dist/bundle.js', // \u51fa\u529b\u5148\n  plugins: [\n    // \u4ee5\u4e0b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u8a2d\u5b9a\n    riot(),\n    nodeResolve({ jsnext: true }),\n    commonjs(),\n    buble()\n  ],\n  format: 'iife' // \u3048\u30fc\u3063\u3068\u3001\u3068\u308a\u3042\u3048\u305a\u3053\u3046\u66f8\u3044\u3066\u304f\u3060\u3055\u3044\n}\n```\n\n### \u5b9f\u884c\n\n\u3067\u306f\u3001\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001\u5b9f\u969b\u306b\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```bash\n$ npm install\n$ npm run build\n```\n\n`dist`\u30d5\u30a9\u30eb\u30c0\u306b\u3001`bundle.js`\u304c\u751f\u6210\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u78ba\u8a8d\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u3061\u3087\u3063\u3068\u3054\u3061\u3083\u3063\u3068\u3057\u3066\u898b\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\n\n- main.js\n- app.tag\n- md.tag\n- riot.js\n- marked.js\n\n\u306e5\u3064(+\u4f9d\u5b58\u30d5\u30a1\u30a4\u30eb)\u304c\u3072\u3068\u3064\u306e\u30b3\u30fc\u30c9\u306b\u307e\u3068\u307e\u3063\u305f\u306e\u304c\u898b\u3066\u53d6\u308c\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n> **\u30e1\u30e2**: \u4e0a\u8a18\u3001`npm run build`\u306b\u306f`rollup -c`\u30b3\u30de\u30f3\u30c9\u304c[\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u307e\u3059](https://github.com/riot/examples/blob/gh-pages/rollup/package.json#L8)\u3002\u3053\u306e\u3088\u3046\u306b\u3001npm\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u66f8\u3044\u3066\u304a\u3051\u3070\u3001rollup\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u74b0\u5883\u306b\u5165\u308c\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n> \u8907\u6570\u4eba\u3067\u4f5c\u696d\u3057\u3066\u3044\u308b\u5834\u5408\u3082\u3001`npm install`\u3059\u308b\u3060\u3051\u3067\u5168\u54e1\u306e\u74b0\u5883\u3092\u63c3\u3048\u3089\u308c\u308b\u306e\u306f\u5927\u304d\u306a\u30e1\u30ea\u30c3\u30c8\u3067\u3059\u3002\n\n## \u30bf\u30b0\u5185\u306eCSS\u3069\u3046\u3057\u3088\u3046\u554f\u984c\n\n\u4e0a\u8a18\u307e\u3067\u3067\u6e08\u3081\u3070\u3001\u6bd4\u8f03\u7684\u30b7\u30f3\u30d7\u30eb\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u6700\u5f8c\u306b\u6d6e\u4e0a\u3059\u308b\u306e\u304cCSS\u306e\u30d7\u30ea\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u3059\u3002\u3053\u3053\u307e\u3067\u3001JavaScript\u306e\u6587\u8108\u3067\u8aac\u660e\u3057\u3066\u304d\u307e\u3057\u305f\u304c\u3001\u540c\u3058\u3088\u3046\u306a\u3053\u3068\u306fCSS\u3067\u3082\u8d77\u304d\u3066\u3044\u307e\u3059\u3002\n\n- JavaScript: \u6b21\u4e16\u4ee3\u6a19\u6e96(ES6\u30fbES7)\u3092\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3078\n- CSS: \u6b21\u4e16\u4ee3\u6a19\u6e96(CSS3\u30fbCSS4)\u3092\u73fe\u5728\u306e\u30d6\u30e9\u30a6\u30b6\u3078\n\nCSS\u306e\u6587\u8108\u3067\u4f7f\u308f\u308c\u308b\u306e\u306f[PostCSS](http://postcss.org/)\u3067\u3001\u305d\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u675f\u306d\u3066\u4f7f\u3044\u3084\u3059\u304f\u3057\u305f\u3082\u306e\u304c[cssnext](http://cssnext.io/)\u3067\u3059\u3002\u3053\u308c\u3092\u4f7f\u3048\u3070\u3001\u81ea\u52d5\u3067\u30d9\u30f3\u30c0\u30fc\u30d7\u30ea\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u3064\u3051\u305f\u308a\u3001CSS\u5909\u6570\u3092\u4f7f\u3063\u305f\u308a\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\n\n### \u3069\u3046\u7d44\u307f\u8fbc\u3080?\n\n\u5358\u4f53\u306eCSS\u3067\u3042\u308c\u3070\u3001`cssnext`\u5358\u4f53\u3067\u7c21\u5358\u306b\u5909\u63db\u3067\u304d\u307e\u3059\u3002\u3067\u3082\u3001\u601d\u3044\u51fa\u3057\u3066\u304f\u3060\u3055\u3044\u3002Riot\u3067\u306f\u30bf\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306b\u4e00\u7dd2\u306bCSS\u3082\u66f8\u304f\u3053\u3068\u3067\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u6027\u3092\u9ad8\u3081\u3066\u3044\u308b\u306e\u3067\u3057\u305f\u3002...\u3068\u3044\u3046\u3053\u3068\u306f\u3001Riot\u30b3\u30f3\u30d1\u30a4\u30e9\u306e\u4e2d\u3067`cssnext`\u3092\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u7d75\u306b\u3059\u308b\u3068\u3053\u3046\u3067\u3059\u306d\u3002\u5148\u307b\u3069\u306e\u56f3\u3088\u308a\u8a73\u3057\u304f\u306a\u3063\u3066\u3044\u308bRiot\u30b3\u30f3\u30d1\u30a4\u30e9\u5468\u8fba\u306b\u6ce8\u76ee\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![Artboard Copy 3.png](https://qiita-image-store.s3.amazonaws.com/0/1858/d24c85ac-02a1-068d-b224-5dc03d15c2ab.png \"Artboard Copy 3.png\")\n\n### Riot\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u30ab\u30b9\u30bf\u30e0\u30d1\u30fc\u30b5\u3092\u5165\u308c\u308b\n\n\u305d\u306e\u305f\u3081\u306e\u65b9\u6cd5\u304cRiot\u306b\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002(\u6ce8)\n\nRiot\u3067\u306f\u3001HTML, JavaScript, CSS\u306b\u95a2\u3057\u3066\u3001\u305d\u308c\u305e\u308c[\u30ab\u30b9\u30bf\u30e0\u30d1\u30fc\u30b5\u3092\u8a2d\u5b9a](http://riotjs.com/api/compiler/#on-server)\u3067\u304d\u307e\u3059\u3002Rollup\u304b\u3089\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u5148\u307b\u3069\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u8a2d\u5b9a\u3067\u30b7\u30f3\u30d7\u30eb\u306b`riot()`\u3068\u3057\u3066\u3044\u305f\u3068\u3053\u308d\u3001\u6b21\u306e\u3088\u3046\u306b`style`\u3068`parsers`\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```javascript\nriot({\n  style: 'cssnext',\n  parsers: {\n    css: { cssnext }\n  }\n})\n```\n\n\u4e0a\u8a18\u3001`cssnext`\u306f\u5225\u9014\u6b21\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002`:scope`\u3092\u3046\u307e\u304f\u4f7f\u3046\u305f\u3081\u306b\u3001\u5c11\u3057\u30c8\u30ea\u30c3\u30af\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u57fa\u672c\u7684\u306b\u306f`postcss([\u30d7\u30e9\u30b0\u30a4\u30f3]).process(css).css`\u304c\u5168\u3066\u3067\u3059\u3002`cssnext`\u4ee5\u5916\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f\u3001\u914d\u5217\u306b\u8db3\u3057\u307e\u3057\u3087\u3046\u3002\n\n```javascript\nfunction cssnext (tagName, css) {\n  // \u3061\u3087\u3063\u3068\u3060\u3051\u30cf\u30c3\u30af\u3057\u3066\u3001:scope\u3092:root\u306b\u7f6e\u304d\u63db\u3048\u3066PostCSS\u306b\u6e21\u3059\n  // \u30bf\u30b0\u306e\u4e2d\u3067CSS\u5909\u6570\u3092\u4f7f\u3044\u3084\u3059\u304f\u3059\u308b\u305f\u3081\n  css = css.replace(/:scope/g, ':root')\n  css = postcss([postcssCssnext]).process(css).css\n  css = css.replace(/:root/g, ':scope')\n  return css\n}\n```\n\n> **\u6ce8**: \u5b9f\u306f\u3001\u672c\u7a3f\u306e\u305f\u3081\u306b(\u3068\u3044\u3046\u3053\u3068\u3082\u306a\u3044\u306e\u3067\u3059\u304c)\u3001[\u3053\u308c\u3092\u5b9f\u73fe\u3059\u308b\u30b3\u30df\u30c3\u30c8](https://github.com/riot/rollup-plugin-riot/commit/2e30d0b55a57907322e6efa92eaedb43e8ea143c)\u3092Rollup\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u6570\u65e5\u524d\u5165\u308c\u307e\u3057\u305f\u3002\n\n## \u307e\u3068\u3081\n\n\u6700\u7d42\u7684\u306b\u3001\u5168\u4f53\u50cf\u3068\u3057\u3066\u306f\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3044\u308d\u3044\u308d\u8aac\u660e\u3057\u305f\u5272\u306b\u306f\u77ed\u3044\u3067\u3059\u306d w\n\n```javascript:rollup.config.js\nimport riot from 'rollup-plugin-riot'\nimport nodeResolve from 'rollup-plugin-node-resolve'\nimport commonjs from 'rollup-plugin-commonjs'\nimport buble from 'rollup-plugin-buble'\nimport postcss from 'postcss'\nimport postcssCssnext from 'postcss-cssnext'\n\nexport default {\n  entry: 'src/main.js',\n  dest: 'dist/bundle.js',\n  plugins: [\n    riot({\n      style: 'cssnext',\n      parsers: {\n        css: { cssnext }\n      }\n    }),\n    nodeResolve({ jsnext: true }),\n    commonjs(),\n    buble()\n  ],\n  format: 'iife'\n}\n\nfunction cssnext (tagName, css) {\n  css = css.replace(/:scope/g, ':root')\n  css = postcss([postcssCssnext]).process(css).css\n  css = css.replace(/:root/g, ':scope')\n  return css\n}\n```\n\n\u73fe\u5728\u306e\u3068\u3053\u308d\u3001\u3082\u3063\u3068\u3082\u67d4\u8edf\u6027\u3068\u62e1\u5f35\u6027\u304c\u9ad8\u304f\u3001\u3069\u3063\u3061\u306b\u3067\u3082\u8ee2\u3079\u308b(?)\u66f8\u304d\u65b9\u306b\u306a\u3063\u305f\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\u3068\u3044\u3046\u308f\u3051\u3067\u3001Riot\u3068Rollup\u4f7f\u304a\u3046\u3088!\n\n## APPENDIX: CommonJS\u306a\u306e\u304bES6\u306a\u306e\u304b\n\n\u7d50\u8ad6\u304b\u3089\u66f8\u304f\u3068\u3001Riot\u3067\u30bf\u30b0\u3092\u66f8\u304f\u3068\u304d\u306fES6\u306e\u8a18\u6cd5\u3092\u4f7f\u3048\u3070OK\u3067\u3059\u3002CommonJS\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u8a18\u6cd5\u3092\u4f7f\u3046\u7406\u7531\u306f\u898b\u5f53\u305f\u308a\u307e\u305b\u3093\u3002\u8a18\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u8a18\u4e8b\u304c\u305f\u304f\u3055\u3093\u3042\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u898b\u5206\u3051\u65b9\u3060\u3051\u3002\n\n- **ES6\u30e2\u30b8\u30e5\u30fc\u30eb**: `import`\u3068\u304b`export`\u304c\u3042\u3063\u305f\u3089ES6\u30e2\u30b8\u30e5\u30fc\u30eb\n- **CommonJS**: `require`\u3068\u304b`module.exports`\u304c\u3042\u3063\u305f\u3089CommonJS\u30e2\u30b8\u30e5\u30fc\u30eb\n\nCommonJS\u306f\u3001ES6\u4ee5\u524d\u306b\u63d0\u5531\u3055\u308c\u3066\u3044\u305f\u30e2\u30b8\u30e5\u30fc\u30eb\u8aad\u307f\u8fbc\u307f\u306e\u4ed5\u7d44\u307f\u3067\u3001JavaScript\u306e\u6587\u6cd5\u305d\u306e\u3082\u306e\u306f\u62e1\u5f35\u305b\u305a`require()`\u3068\u3044\u3046\u95a2\u6570\u3068`exports`\u3068\u3044\u3046\u5909\u6570\u3060\u3051\u3067\u3069\u3046\u306b\u304b\u3057\u3066\u3044\u305f\u306e\u304c\u753b\u671f\u7684\u3067\u3057\u305f\u3002\u305f\u3060\u3001`ES6`\u3067\u6587\u6cd5\u5074\u3067\u300c\u30e2\u30b8\u30e5\u30fc\u30eb\u300d\u306e\u4ed5\u7d44\u307f\u304c\u52a0\u308f\u3063\u305f\u3053\u3068\u3067\u3001\u4e8b\u614b\u304c\u8907\u96d1\u5316\u3057\u3066\u3044\u307e\u3059\u3002\u4e00\u90e8\u3001CommonJS\u3067\u3066\u304d\u3066\u3044\u305f\u3053\u3068\u304cES6\u3067\u51fa\u6765\u306a\u304b\u3063\u305f\u308a\u3001\u305d\u306e\u9006\u304c\u3042\u3063\u305f\u308a\u3068\u300c\u76f8\u4e92\u904b\u7528\u300d\u3082\u8ab2\u984c\u3067\u3059\u3002\n\n> **\u30e1\u30e2**: \u4e21\u65b9\u304c\u300cJavaScript\u300d\u3068\u8a00\u3063\u3066\u3044\u308b\u306e\u3067\u521d\u898b\u6bba\u3057\u611f\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u66f8\u304f\u5834\u5408\u3001\n\n- \u81ea\u5206\u306e\u30b3\u30fc\u30c9\u306fES6\u3067\u66f8\u304f\n- ES6\u7248\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u306a\u3044\u5834\u5408\u306f\u3001CommonJS\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30d6\u30ea\u30c3\u30b8\u7d4c\u7531\u3067\u4f7f\u3046\n\n\u3092\u57fa\u672c\u3068\u3057\u307e\u3057\u3087\u3046\u3002\n\n> **\u30e1\u30e2**: Node.js\u7528\u306b\u66f8\u304b\u308c\u305f\u8cc7\u7523\u304c\u81a8\u5927\u306a\u306e\u3067\u3001\u4e00\u671d\u4e00\u5915\u306b\u3059\u3079\u3066ES6\u306b\u5909\u308f\u308b...\u3068\u3044\u3046\u3053\u3068\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u5168\u4f53\u3068\u3057\u3066\u306f\u3058\u308f\u3058\u308f\u3068ES6\u306b\u8ef8\u8db3\u3092\u79fb\u3057\u3066\u3044\u308b\u306e\u304c\u4eca\u306eNode.js\u754c\u9688\u3060\u3068\u4fe1\u3058\u3066\u3044\u307e\u3059\u3002\n", "tags": ["riot", "rollup.js", "Buble", "cssnext", "riot.js"]}