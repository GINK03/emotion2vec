{"context": "\n\u52d5\u4f5c\u74b0\u5883\nXeon E5-2620 v4 (8\u30b3\u30a2) x 2\n32GB RAM\nCentOS 6.8 (64bit)\nopenmpi-1.8.x86_64 \u3068\u305d\u306e-devel\nmpich.x86_64 3.1-5.el6\u3068\u305d\u306e-devel\n\n\nWRF\u306e\u30d3\u30eb\u30c9\n\u3092\u53c2\u8003\u306b\u4ee5\u4e0b\u306e2\u3064\u306e\u52d5\u4f5c\u3092\u6bd4\u8f03\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u305f\u3002\n\nOpen MPI\nMPICH\n\nmodule load\u3067\u305d\u308c\u305e\u308c\u5bfe\u5fdc\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8aad\u8fbc\u307f\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u3057\u3066\u3044\u305f\u306e\u3060\u304c\u3001Open MPI\u3067\u306fwrf.exe\u306a\u3069\u306e\u30d3\u30eb\u30c9\u306b\u6210\u529f\u3059\u308b\u4e00\u65b9\u3001MPICH\u3067\u306f\u30d3\u30eb\u30c9\u304c\u5931\u6557\u3057\u305f\u3002\n==========================================================================\nbuild started:   Thu Sep 29 03:07:55 JST 2016\nbuild completed: Thu Sep 29 03:07:58 JST 2016\n\n---> Problems building executables, look for errors in the build log  <---\n\n\u4f55\u304c\u554f\u984c\u3060\u308d\u3046\u304b\u3002\n\u4ee5\u4e0b\u3092\u8a66\u3057\u305f\u3002\n(Open MPI\u306e\u8a2d\u5b9a\u3067)\n$ ./compile em_real >& log.comp_openmpi\n(MPICH\u306e\u8a2d\u5b9a\u3067)\n$ ./compile em_real >& log.comp_mpich\n\n\u305d\u3057\u3066\u305d\u306e\u5dee\u5206\u3092\u53d6\u308b\u3068\n$ diff log.comp_openmpi log.comp_mpich\n40c40\n< /usr/lib64/openmpi/bin/mpif90\n---\n> /usr/lib64/mpich/bin/mpif90\n45c45\n< /usr/lib64/openmpi/bin/mpicc\n---\n> /usr/lib64/mpich/bin/mpicc\n176,179c176,177\n< f951: error: unrecognized command line option \"-f90=gfortran\"\n< 0.00user 0.00system 0:00.00elapsed 50%CPU (0avgtext+0avgdata 1852maxresident)k\n< 0inputs+0outputs (0major+1270minor)pagefaults 0swaps\n< make[2]: [diffwrf] Error 1 (ignored)\n---\n> 0.30user 0.03system 0:00.33elapsed 102%CPU (0avgtext+0avgdata 24420maxresident)k\n> 0inputs+160outputs (0major+13257minor)pagefaults 0swaps\n378,380c376,378\n< real  0m0.089s\n< user  0m0.061s\n< sys   0m0.027s\n---\n> real  0m0.118s\n...\n\nMPICH\u306e\u5834\u5408176\u884c\u76ee\u306bf951: error: unrecognized command line option \"-f90=gfortran\"\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3044\u308b\u3002\n176\u884c\u76ee\u306f\ntime mpif90 -f90=gfortran -w -ffree-form -ffree-line-length-none -fconvert=big-endian -frecord-marker=4  -c  -I/usr/include -I../ioapi_share diffwrf.f\n\nmpif90\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\"-f90=\"\u304c\u306a\u3044\u3068\u306a\u3063\u3066\u3044\u308b\u3002\n\nMPICH\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\nhttp://www.mpich.org/static/docs/v3.1/www1/mpif90.html\n\n-f90=name\nUse compiler name instead of the default choice. Use this only if the compiler is compatible with the MPICH library (see below)\nCompatible Compilers\nThe MPI library may be used with any compiler that uses the same lengths for basic data objects (such as long double) and that uses compatible run-time libraries. On many systems, the various compilers are compatible and may be used interchangably. There are exceptions; if you use the MPICH_F90 environment variable or the -f90=name command-line argument to override the choice of compiler and encounter problems, try reconfiguring MPICH with the new compiler and installing MPICH in a separate location. See the installation manual for more details.\n\nyum\u3067mpich\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3060\u3051\u3067\u306f\u3060\u3081\u306a\u306e\u3060\u308d\u3046\u304b\u3002\n\ndiff\u306e\u898b\u76f4\u3057\nhttp://qiita.com/7of9/items/d932df7957957125dea7\n\u3067\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\u3001f951: error: unrecognized command line option \"-f90=gfortran\"\u306fOpenMPI\u306e\u65b9\u3067\u51fa\u3066\u3044\u305f\u3002\n\n\u3084\u308a\u76f4\u3057\nWRFV3\u306etar.gz\u304b\u3089\u518d\u5ea6\u4f5c\u308a\u76f4\u3057\u305f\u3068\u3053\u308d\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u305f\u3002\n\nCFLAGS_LOCAL = -w -O3 -c\n\u3092\nCFLAGS_LOCAL = -w -O2 -c\n\u3067\u518d\u5ea6\u30d3\u30eb\u30c9.\n\n\u3092\u5fd8\u308c\u3066\u3044\u305f\u53ef\u80fd\u6027\u3082\u3042\u308b\u3002\n```txt:\u52d5\u4f5c\u74b0\u5883\nXeon E5-2620 v4 (8\u30b3\u30a2) x 2\n32GB RAM\nCentOS 6.8 (64bit)\nopenmpi-1.8.x86_64 \u3068\u305d\u306e-devel\nmpich.x86_64 3.1-5.el6\u3068\u305d\u306e-devel\n```\n\n[WRF\u306e\u30d3\u30eb\u30c9](http://qiita.com/7of9/items/8ff328ed1c144d659335#wrf371%E3%81%AE%E3%83%93%E3%83%AB%E3%83%89--%E6%88%90%E5%8A%9F)\n\u3092\u53c2\u8003\u306b\u4ee5\u4e0b\u306e2\u3064\u306e\u52d5\u4f5c\u3092\u6bd4\u8f03\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u305f\u3002\n\n- Open MPI\n- MPICH\n\nmodule load\u3067\u305d\u308c\u305e\u308c\u5bfe\u5fdc\u3059\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8aad\u8fbc\u307f\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u3057\u3066\u3044\u305f\u306e\u3060\u304c\u3001Open MPI\u3067\u306fwrf.exe\u306a\u3069\u306e\u30d3\u30eb\u30c9\u306b\u6210\u529f\u3059\u308b\u4e00\u65b9\u3001MPICH\u3067\u306f\u30d3\u30eb\u30c9\u304c\u5931\u6557\u3057\u305f\u3002\n\n```\n==========================================================================\nbuild started:   Thu Sep 29 03:07:55 JST 2016\nbuild completed: Thu Sep 29 03:07:58 JST 2016\n \n---> Problems building executables, look for errors in the build log  <---\n```\n\n\u4f55\u304c\u554f\u984c\u3060\u308d\u3046\u304b\u3002\n\n\u4ee5\u4e0b\u3092\u8a66\u3057\u305f\u3002\n\n```\n(Open MPI\u306e\u8a2d\u5b9a\u3067)\n$ ./compile em_real >& log.comp_openmpi\n(MPICH\u306e\u8a2d\u5b9a\u3067)\n$ ./compile em_real >& log.comp_mpich\n```\n\n\u305d\u3057\u3066\u305d\u306e\u5dee\u5206\u3092\u53d6\u308b\u3068\n\n```\n$ diff log.comp_openmpi log.comp_mpich\n40c40\n< /usr/lib64/openmpi/bin/mpif90\n---\n> /usr/lib64/mpich/bin/mpif90\n45c45\n< /usr/lib64/openmpi/bin/mpicc\n---\n> /usr/lib64/mpich/bin/mpicc\n176,179c176,177\n< f951: error: unrecognized command line option \"-f90=gfortran\"\n< 0.00user 0.00system 0:00.00elapsed 50%CPU (0avgtext+0avgdata 1852maxresident)k\n< 0inputs+0outputs (0major+1270minor)pagefaults 0swaps\n< make[2]: [diffwrf] Error 1 (ignored)\n---\n> 0.30user 0.03system 0:00.33elapsed 102%CPU (0avgtext+0avgdata 24420maxresident)k\n> 0inputs+160outputs (0major+13257minor)pagefaults 0swaps\n378,380c376,378\n< real  0m0.089s\n< user  0m0.061s\n< sys   0m0.027s\n---\n> real  0m0.118s\n...\n```\n\nMPICH\u306e\u5834\u5408176\u884c\u76ee\u306b`f951: error: unrecognized command line option \"-f90=gfortran\"`\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3044\u308b\u3002\n176\u884c\u76ee\u306f\n\n```\ntime mpif90 -f90=gfortran -w -ffree-form -ffree-line-length-none -fconvert=big-endian -frecord-marker=4  -c  -I/usr/include -I../ioapi_share diffwrf.f\n```\n\nmpif90\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\"-f90=\"\u304c\u306a\u3044\u3068\u306a\u3063\u3066\u3044\u308b\u3002\n\n### MPICH\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n\nhttp://www.mpich.org/static/docs/v3.1/www1/mpif90.html\n\n> `-f90=name`\nUse compiler name instead of the default choice. Use this only if the compiler is compatible with the MPICH library (see below)\n\n> <h3>Compatible Compilers</h3>\nThe MPI library may be used with any compiler that uses the same lengths for basic data objects (such as long double) and that uses compatible run-time libraries. On many systems, the various compilers are compatible and may be used interchangably. There are exceptions; if you use the MPICH_F90 environment variable or <font color=red>the \\-f90=name</font> command-line argument to override the choice of compiler and encounter problems, try reconfiguring MPICH with the new compiler and installing MPICH in a separate location. See the installation manual for more details.\n\nyum\u3067mpich\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3060\u3051\u3067\u306f\u3060\u3081\u306a\u306e\u3060\u308d\u3046\u304b\u3002\n\n### diff\u306e\u898b\u76f4\u3057\n\nhttp://qiita.com/7of9/items/d932df7957957125dea7\n\u3067\u78ba\u8a8d\u3057\u305f\u3068\u3053\u308d\u3001`f951: error: unrecognized command line option \"-f90=gfortran\"`\u306fOpenMPI\u306e\u65b9\u3067\u51fa\u3066\u3044\u305f\u3002\n\n### \u3084\u308a\u76f4\u3057\n\nWRFV3\u306etar.gz\u304b\u3089\u518d\u5ea6\u4f5c\u308a\u76f4\u3057\u305f\u3068\u3053\u308d\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u305f\u3002\n\n> CFLAGS_LOCAL = -w -O3 -c\n\u3092\nCFLAGS_LOCAL = -w -O2 -c\n\u3067\u518d\u5ea6\u30d3\u30eb\u30c9.\n\n\u3092\u5fd8\u308c\u3066\u3044\u305f\u53ef\u80fd\u6027\u3082\u3042\u308b\u3002\n\n\n\n", "tags": ["WRF", "openmpi", "mpich", "difference"]}