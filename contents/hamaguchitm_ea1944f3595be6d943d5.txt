{"tags": ["hadoop", "Spark", "vagrant"], "context": " More than 1 year has passed since last update.Vagrant\u3067CDH\u306e\u64ec\u4f3c\u5206\u6563\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u30e1\u30e2\n\n\u4e8b\u524d\u6e96\u5099\n\nVirtual Box\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: https://www.virtualbox.org/\n\nVagrant\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: https://www.vagrantup.com/\n\nVagrant\u306e\u57fa\u672c\u30b3\u30de\u30f3\u30c9\n\nvagrant box add <BOX_NAME> <URL>  # box\u306e\u8ffd\u52a0\nvagrant box remove <BOX_NAME>     # box\u306e\u524a\u9664\nvagrant box list                  # box\u306e\u30ea\u30b9\u30c8\nvagrant init <BOX_NAME>           # box\u304b\u3089\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u521d\u671f\u5316\uff08VagrantFile\u4f5c\u6210\uff09\nvagrant up                        # \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8d77\u52d5\nvagrant status                    # \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u72b6\u614b\u78ba\u8a8d\nvagrant halt                      # \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u505c\u6b62\nvagrant destroy                   # \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u524a\u9664\nvagrant ssh                       # \u4eee\u60f3\u30de\u30b7\u30f3\u306bSSH\u3067\u30ed\u30b0\u30a4\u30f3\n\n\nVagrant box\n\n\nbox search page(official): https://atlas.hashicorp.com/boxes/search\n\nbox url list: http://www.vagrantbox.es/\n\n\n\n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4f5c\u6210\n\u4eee\u60f3\u30de\u30b7\u30f3\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u521d\u671f\u5316(Vagrantfile\u4f5c\u6210)\n$ mkdir test\n$ cd test\n$ vagrant init\n\nVagrantfile\u306e\u7de8\u96c6\n\nVagrantfile\nVagrant.configure(2) do |config|\n  config.vm.box = \"nrel/CentOS-6.5-x86_64\"\n  config.vm.hostname = \"test\"\n\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.name = \"test\"\n    vb.memory = \"2048\"\n  end\nend\n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u8d77\u52d5\u3001SSH\u30ed\u30b0\u30a4\u30f3\n$ vagrant up\n$ vagrant ssh\n\n\nOS\u57fa\u672c\u8a2d\u5b9a\n\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n$ sudo yum check-update\n$ sudo yum -y update\n\n\u4e0d\u8981\u30b5\u30fc\u30d3\u30b9\u7121\u52b9\u5316\n$ sudo chkconfig iscsi off\n$ sudo chkconfig iscsid off\n$ sudo chkconfig iptables off\n$ sudo chkconfig ip6tables off\n$ sudo chkconfig mdmonitor off\n$ sudo chkconfig netfs off\n$ sudo chkconfig nfslock off\n$ sudo chkconfig postfix off\n$ sudo chkconfig udev-post off\n\n\n\u6642\u523b\u8a2d\u5b9a\n\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30af\u30ed\u30c3\u30af\u306e\u8a2d\u5b9a\n$ echo 'zone=\"Japan\"' > ./tmp_clock\n$ sudo mv ./tmp_clock /etc/sysconfig/clock\n\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092JST\u306b\u5909\u66f4\n$ sudo cp -p /usr/share/zoneinfo/Japan /etc/localtime\n\nntpd\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install ntp\n\nntp.nict.jp\u306b\u540c\u671f\u3059\u308b\u3088\u3046\u8a2d\u5b9a\n\n/etc/ntp.conf\n#server 0.centos.pool.ntp.org iburst\n#server 1.centos.pool.ntp.org iburst\n#server 2.centos.pool.ntp.org iburst\n#server 3.centos.pool.ntp.org iburst\nserver ntp.nict.jp iburst\n\n\n\u3044\u3063\u305f\u3093\u540c\u671f\n$ sudo ntpdate ntp.nict.jp\n\n\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n$ sudo service ntpd start\n\n\u72b6\u614b\u78ba\u8a8d\uff08*\u304c\u3064\u3044\u3066\u3044\u308c\u3070OK\uff09\n$ sudo ntpq -p\n     remote           refid      st t when poll reach   delay   offset  jitter\n==============================================================================\n*ntp-b3.nict.go. .NICT.           1 u    2   64    1   39.534   68.611   0.000\n\n\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n$ sudo chkconfig ntpd on\n\n\n\u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nscreen\n$ sudo yum install screen\n\ngit\n$ sudo yum install git\n\n\nEPEL\nepel-release\u3068\u3044\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u62e1\u5f35\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\u4ee5\u4e0b\u3067\u6700\u65b0\u7248\u3092\u78ba\u8a8d\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\nhttp://ftp.riken.jp/Linux/fedora/epel/6/x86_64/repoview/epel-release.html\n$ wget http://ftp.riken.jp/Linux/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm\n$ sudo yum localinstall epel-release-6-8.noarch.rpm\n\n\nJava\nOracle\u306eJDK\u3092\u5165\u308c\u305f\u307b\u3046\u304c\u3044\u3044\u3068\u3044\u3046\u98a8\u6f6e\u304c\u3042\u308b\u3088\u3046\u306a\u306e\u3067\u500b\u5225\u306b\u5165\u308c\u308b\nOracle\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8\u3067\u306f\"Accept License Agreement\"\u306b\u30c1\u30a7\u30c3\u30af\u3057\u306a\u3044\u3068\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u3044\u3063\u305f\u3093\u30ed\u30fc\u30ab\u30eb\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066vagrant\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3068\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u306b\u914d\u7f6e\u3059\u308b\nOracle \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8\nhttp://www.oracle.com/technetwork/java/javase/downloads/index.html\nLinux x64\u5411\u3051RPM\u3092\u53d6\u5f97\uff08\u4eca\u56de\u306f jdk-8u60-linux-x64.rpm\uff09\n\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u3067vagrant\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fRPM\u3092\u914d\u7f6e\n\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u3067Vagrantfile\u3092\u683c\u7d0d\u3057\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4eee\u60f3\u30de\u30b7\u30f3\u306e/vagrant\u3068\u3057\u3066\u5171\u6709\u3055\u308c\u3066\u3044\u308b\uff09\n\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067rpm\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum localinstall /vagrant/share/jdk-8u60-linux-x64.rpm \n\n\u78ba\u8a8d\n$ java -version\njava version \"1.8.0_60\"\nJava(TM) SE Runtime Environment (build 1.8.0_60-b27)\nJava HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)\n\n\nScala\nCentOS\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089rpm\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nhttp://www.scala-lang.org/index.html\n$ wget http://downloads.typesafe.com/scala/2.11.7/scala-2.11.7.rpm\n$ sudo yum localinstall scala-2.11.7.rpm\n\nsbt\u306f\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306byum\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://www.scala-sbt.org/0.13/tutorial/Installing-sbt-on-Linux.html\n$ curl https://bintray.com/sbt/rpm/rpm > bintray-sbt-rpm.repo\n$ sudo mv bintray-sbt-rpm.repo /etc/yum.repos.d/\n$ sudo yum install sbt\n\n\n/etc/yum.repos.d/bintray-sbt-rpm.repo\n#bintray--sbt-rpm - packages by  from Bintray\n[bintray--sbt-rpm]\nname=bintray--sbt-rpm\nbaseurl=http://dl.bintray.com/sbt/rpm\ngpgcheck=0\nenabled=1\n\n\nsbt\u306e\u4f9d\u5b58\u95a2\u4fc2\u3067openjdk\u306ejava(java-1.6.0-openjdk.x86_64)\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u3001alternatives\u3067Oracle\u306ejava\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304f\n$ alternatives --config java\n\n2 \u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u3042\u308a 'java' \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\n\n  \u9078\u629e       \u30b3\u30de\u30f3\u30c9\n-----------------------------------------------\n*+ 1           /usr/java/jdk1.8.0_60/jre/bin/java\n   2           /usr/lib/jvm/jre-1.6.0-openjdk.x86_64/bin/java\n\n\u78ba\u8a8d\n$ scala -version\nScala code runner version 2.11.7 -- Copyright 2002-2013, LAMP/EPFL\n\n\nPython\nCentOS6.5\u306b\u306fpython2.6\u304c\u5165\u3063\u3066\u3044\u308b\u30022.7\u4ee5\u964d\u306f\u5225\u9014\u500b\u5225\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3044\u3063\u305f\u3093\u305d\u306e\u307e\u307e\u4f7f\u3046\u3002\n$ python --version\nPython 2.6.6\n\npip\nEPEL\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install python-pip\n\n\nR\nR\u672c\u4f53\nEPEL\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install R\n\nR Studio Server\nRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ wget https://download2.rstudio.org/rstudio-server-rhel-0.99.484-x86_64.rpm\n$ sudo yum localinstall rstudio-server-rhel-0.99.484-x86_64.rpm\n\n\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u8a2d\u5b9a \u203b\u30db\u30b9\u30c8\u5074\u3067\u4f5c\u696d\nVagrantfile\u7de8\u96c6\n\nVagrantfile\n# R Studio Server\nconfig.vm.network \"forwarded_port\", guest: 8787, host: 8787\n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u518d\u8d77\u52d5\n$ vagrant reload\n\n\nCDH\n\nHadoop(\u64ec\u4f3c\u5206\u6563)\nyum\u30ec\u30dd\u30b8\u30c8\u30ea\u8ffd\u52a0\n$ wget http://archive.cloudera.com/cdh5/redhat/6/x86_64/cdh/cloudera-cdh5.repo\n$ sudo mv cloudera-cdh5.repo /etc/yum.repos.d/\n\nhadoop\uff08\u64ec\u4f3c\u5206\u6563\u30e2\u30fc\u30c9\uff09\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install hadoop-conf-pseudo\n\nhdfs\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n$ sudo su - hdfs\n$ hdfs namenode -format\n$ exit\n\nhdfs\u8d77\u52d5\nfor x in `cd /etc/init.d ; ls hadoop-hdfs-*` ; do sudo service $x start ; done\n\nhdfs\u521d\u671f\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\n$ sudo /usr/lib/hadoop/libexec/init-hdfs.sh \n\n\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf:\u6570\u306e\u4e0a\u9650\u3092\u5897\u3084\u3059\n\n/etc/security/limits.conf\n* soft nofile 65536\n* hard nofile 65536\n\n\n\nHive\nhive\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install hive\n\nmetastore\u95a2\u9023\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install hive-metastore mysql-server mysql-connector-java\n\nhive metastore\u3092mysql\u306b\u8a2d\u5b9a(\u53c2\u8003)\n$ sudo -u hive hdfs dfs -mkdir /user/hive/warehouse\n$ sudo -u hive hdfs dfs -chmod 1777 /user/hive/warehouse\n\n$ sudo cp /usr/share/java/mysql-connector-java.jar /usr/lib/hive/lib/.\n$ sudo service mysqld start\n$ sudo chkconfig mysqld on\n\n$ sudo /usr/bin/mysql_secure_installation\nEnter current password for root (enter for none):  <- \u7a7a\u306e\u307e\u307eENTER\nSet root password? [Y/n] y\nNew password:                          <- mysql\u306eroot\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\nRe-enter new password:                 <- \u540c\u4e0a\nRemove anonymous users? [Y/n] Y\nDisallow root login remotely? [Y/n] n\nRemove test database and access to it? [Y/n] Y\nReload privilege tables now? [Y/n] Y\n\n$ cd /usr/lib/hive/scripts/metastore/upgrade/mysql\n$ mysql -u root -p\nmysql> create database metastore;\nmysql> use metastore;\nmysql> source hive-schema-1.1.0.mysql.sql;\nmysql> create user 'hive'@'localhost' identified by 'mypassword';\nmysql> REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'hive'@'localhost';\nmysql> GRANT SELECT,INSERT,UPDATE,DELETE,LOCK TABLES,EXECUTE ON metastore.* TO 'hive'@'localhost';\nmysql> FLUSH PRIVILEGES;\nmysql> quit;\n\n$ sudo vi /usr/lib/hive/conf/hive-site.xml\n\n\nhive-site.xml\n<property>\n  <name>javax.jdo.option.ConnectionURL</name>\n  <value>jdbc:mysql://localhost/metastore?createDatabaseIfNotExist=true</value>\n  <description>the URL of the MySQL database</description>\n</property>\n\n<property>\n  <name>javax.jdo.option.ConnectionDriverName</name>\n  <value>com.mysql.jdbc.Driver</value>\n</property>\n\n<property>\n  <name>javax.jdo.option.ConnectionUserName</name>\n  <value>hive</value>\n</property>\n\n<property>\n  <name>javax.jdo.option.ConnectionPassword</name>\n  <value>mypassword</value>\n</property>\n\n\nhive-server2\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install hive-server2\n\nbeeline\u4f7f\u3044\u65b9\n$ beeline\nbeeline> !connect jdbc:hive2://localhost:10000\nscan complete in 3ms\nConnecting to jdbc:hive2://localhost:10000\nEnter username for jdbc:hive2://localhost:10000: user\nEnter password for jdbc:hive2://localhost:10000: pass\nConnected to: Apache Hive (version 1.1.0-cdh5.4.7)\nDriver: Hive JDBC (version 1.1.0-cdh5.4.7)\nTransaction isolation: TRANSACTION_REPEATABLE_READ\n0: jdbc:hive2://localhost:10000> show databases;\n+----------------+--+\n| database_name  |\n+----------------+--+\n| default        |\n+----------------+--+\n1 row selected (0.213 seconds)\n0: jdbc:hive2://localhost:10000> !quit\n$ \n\n\nSpark\nSpark\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n$ sudo yum install spark-core\n$ sudo yum install spark-master\n$ sudo yum install spark-worker\n$ sudo yum install spark-history-server\n$ sudo yum install spark-python\n\nSpark\u30ed\u30b0\u30ec\u30d9\u30eb\u5909\u66f4\n$ sudo cp -p /etc/spark/conf/log4j.properties.template /etc/spark/conf/log4j.properties\n\n\n/etc/spark/conf/log4j.properties\n#log4j.rootCategory=INFO, console\nlog4j.rootCategory=WARN, console\n\n\n\nHBase\n$ sudo yum install hbase\n\n\nMahout\n$ sudo yum install mahout\n\n\nHue\n$ sudo yum install hue\n\n\n\u518d\u8d77\u52d5\n\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u8a2d\u5b9a \u203b\u30db\u30b9\u30c8\u5074\u3067\u4f5c\u696d\nVagrantfile\u7de8\u96c6\n\nVagrantfile\n  # YARN ResourceManager, NodeManager\n  config.vm.network \"forwarded_port\", guest: 8088, host: 8088\n  config.vm.network \"forwarded_port\", guest: 50060, host: 50060\n\n  # HDFS NameNode, DataNode\n  config.vm.network \"forwarded_port\", guest: 50070, host: 50070\n  config.vm.network \"forwarded_port\", guest: 50075, host: 50075\n\n  # Spark Master, Worker, Driver, HistoryServer\n  config.vm.network \"forwarded_port\", guest: 8080, host: 8080\n  config.vm.network \"forwarded_port\", guest: 8081, host: 8081\n  config.vm.network \"forwarded_port\", guest: 4040, host: 4040\n  config.vm.network \"forwarded_port\", guest: 18080, host: 18080\n\n  # Hue\n  config.vm.network \"forwarded_port\", guest: 8888, host: 8888\n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u518d\u8d77\u52d5\n$ vagrant reload\n\n\nbox\u5316\nvagrant\u3067\u518d\u5229\u7528\u53ef\u80fd\u306abox\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002\n\u203b\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u4f5c\u696d\n$ sudo yum clean all\n$ exit\n\n\u203b\u30db\u30b9\u30c8OS\u5074\u3067\u4f5c\u696d\n$ vagrant halt\n$ vagrant package --output test_cdh5.box\n\n\nbox\u306e\u5229\u7528\u65b9\u6cd5\nvagrant\u306bbox\u3092\u8ffd\u52a0\n$ vagrant add test_cdh5 test_cdh5.box\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u521d\u671f\u5316\n$ mkdir test_cdh5\n$ cd test_cdh5\n$ vagrant init\n\nVagrantfile\u3092\u7de8\u96c6\n\nVagrantfile\n# -*- mode: ruby -*-\n# vi: set ft=ruby :\n\nVagrant.configure(2) do |config|\n  # box\u306e\u6307\u5b9a\n  config.vm.box = \"tlab_cdh5\"\n\n  # hostname\u306e\u6307\u5b9a\n  config.vm.hostname = \"test2\"\n\n  # \u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u306e\u6307\u5b9a\n  ## R Studio Server\n  config.vm.network \"forwarded_port\", guest: 8787, host: 8787\n\n  ## YARN ResourceManager, NodeManager\n  config.vm.network \"forwarded_port\", guest: 8088, host: 8088\n  config.vm.network \"forwarded_port\", guest: 50060, host: 50060\n\n  ## HDFS NameNode, DataNode\n  config.vm.network \"forwarded_port\", guest: 50070, host: 50070\n  config.vm.network \"forwarded_port\", guest: 50075, host: 50075\n\n  ## Spark Master, Worker, Driver, HistoryServer\n  config.vm.network \"forwarded_port\", guest: 8080, host: 8080\n  config.vm.network \"forwarded_port\", guest: 8081, host: 8081\n  config.vm.network \"forwarded_port\", guest: 4040, host: 4040\n  config.vm.network \"forwarded_port\", guest: 18080, host: 18080\n\n  ## Hue\n  config.vm.network \"forwarded_port\", guest: 8888, host: 8888\n\n  # Virtualbox\u306e\u8a2d\u5b9a\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.name = \"test2\"\n    vb.memory = \"2048\"\n  end\nend\n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8d77\u52d5\uff08\u521d\u56de\u8d77\u52d5\u6642\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u4f5c\u6210\uff09\n$ vagrant up\n\nSSH\u30ed\u30b0\u30a4\u30f3\n$ vagrant ssh\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u4f5c\u696d\n[vagrant@test2 ~]$\n\nVagrant\u3067CDH\u306e\u64ec\u4f3c\u5206\u6563\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u30e1\u30e2\n\n# \u4e8b\u524d\u6e96\u5099\n* Virtual Box\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: https://www.virtualbox.org/\n* Vagrant\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb: https://www.vagrantup.com/\n* Vagrant\u306e\u57fa\u672c\u30b3\u30de\u30f3\u30c9\n\n```\nvagrant box add <BOX_NAME> <URL>  # box\u306e\u8ffd\u52a0\nvagrant box remove <BOX_NAME>     # box\u306e\u524a\u9664\nvagrant box list                  # box\u306e\u30ea\u30b9\u30c8\nvagrant init <BOX_NAME>           # box\u304b\u3089\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u521d\u671f\u5316\uff08VagrantFile\u4f5c\u6210\uff09\nvagrant up                        # \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8d77\u52d5\nvagrant status                    # \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u72b6\u614b\u78ba\u8a8d\nvagrant halt                      # \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u505c\u6b62\nvagrant destroy                   # \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u524a\u9664\nvagrant ssh                       # \u4eee\u60f3\u30de\u30b7\u30f3\u306bSSH\u3067\u30ed\u30b0\u30a4\u30f3\n```\n\n* Vagrant box\n    * box search page(official): https://atlas.hashicorp.com/boxes/search\n    * box url list: http://www.vagrantbox.es/\n\n# \u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4f5c\u6210\n\u4eee\u60f3\u30de\u30b7\u30f3\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u521d\u671f\u5316(Vagrantfile\u4f5c\u6210)\n\n```\n$ mkdir test\n$ cd test\n$ vagrant init\n```\n\nVagrantfile\u306e\u7de8\u96c6\n\n```:Vagrantfile\nVagrant.configure(2) do |config|\n  config.vm.box = \"nrel/CentOS-6.5-x86_64\"\n  config.vm.hostname = \"test\"\n\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.name = \"test\"\n    vb.memory = \"2048\"\n  end\nend\n```\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u8d77\u52d5\u3001SSH\u30ed\u30b0\u30a4\u30f3\n\n```\n$ vagrant up\n$ vagrant ssh\n```\n\n# OS\u57fa\u672c\u8a2d\u5b9a\n\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n```\n$ sudo yum check-update\n$ sudo yum -y update\n```\n\n\u4e0d\u8981\u30b5\u30fc\u30d3\u30b9\u7121\u52b9\u5316\n\n```\n$ sudo chkconfig iscsi off\n$ sudo chkconfig iscsid off\n$ sudo chkconfig iptables off\n$ sudo chkconfig ip6tables off\n$ sudo chkconfig mdmonitor off\n$ sudo chkconfig netfs off\n$ sudo chkconfig nfslock off\n$ sudo chkconfig postfix off\n$ sudo chkconfig udev-post off\n```\n\n# \u6642\u523b\u8a2d\u5b9a\n\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30af\u30ed\u30c3\u30af\u306e\u8a2d\u5b9a\n\n```\n$ echo 'zone=\"Japan\"' > ./tmp_clock\n$ sudo mv ./tmp_clock /etc/sysconfig/clock\n```\n\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092JST\u306b\u5909\u66f4\n\n```\n$ sudo cp -p /usr/share/zoneinfo/Japan /etc/localtime\n```\n\nntpd\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum install ntp\n```\n\nntp.nict.jp\u306b\u540c\u671f\u3059\u308b\u3088\u3046\u8a2d\u5b9a\n\n```bash:/etc/ntp.conf\n#server 0.centos.pool.ntp.org iburst\n#server 1.centos.pool.ntp.org iburst\n#server 2.centos.pool.ntp.org iburst\n#server 3.centos.pool.ntp.org iburst\nserver ntp.nict.jp iburst\n```\n\n\u3044\u3063\u305f\u3093\u540c\u671f\n\n```\n$ sudo ntpdate ntp.nict.jp\n```\n\n\u30b5\u30fc\u30d3\u30b9\u8d77\u52d5\n\n```\n$ sudo service ntpd start\n```\n\n\u72b6\u614b\u78ba\u8a8d\uff08*\u304c\u3064\u3044\u3066\u3044\u308c\u3070OK\uff09\n\n```\n$ sudo ntpq -p\n     remote           refid      st t when poll reach   delay   offset  jitter\n==============================================================================\n*ntp-b3.nict.go. .NICT.           1 u    2   64    1   39.534   68.611   0.000\n```\n\n\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n\n```\n$ sudo chkconfig ntpd on\n```\n\n# \u30c4\u30fc\u30eb\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nscreen\n\n```\n$ sudo yum install screen\n```\n\ngit\n\n```\n$ sudo yum install git\n```\n\n# EPEL\nepel-release\u3068\u3044\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\u62e1\u5f35\u30d1\u30c3\u30b1\u30fc\u30b8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002\u4ee5\u4e0b\u3067\u6700\u65b0\u7248\u3092\u78ba\u8a8d\u3057\u3066\u4f7f\u7528\u3059\u308b\u3002\nhttp://ftp.riken.jp/Linux/fedora/epel/6/x86_64/repoview/epel-release.html\n\n```\n$ wget http://ftp.riken.jp/Linux/fedora/epel/6/x86_64/epel-release-6-8.noarch.rpm\n$ sudo yum localinstall epel-release-6-8.noarch.rpm\n```\n\n\n# Java\nOracle\u306eJDK\u3092\u5165\u308c\u305f\u307b\u3046\u304c\u3044\u3044\u3068\u3044\u3046\u98a8\u6f6e\u304c\u3042\u308b\u3088\u3046\u306a\u306e\u3067\u500b\u5225\u306b\u5165\u308c\u308b\nOracle\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8\u3067\u306f\"Accept License Agreement\"\u306b\u30c1\u30a7\u30c3\u30af\u3057\u306a\u3044\u3068\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u306a\u3044\u306e\u3067\u3001\u3044\u3063\u305f\u3093\u30ed\u30fc\u30ab\u30eb\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066vagrant\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u3068\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u306b\u914d\u7f6e\u3059\u308b\n\nOracle \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8\nhttp://www.oracle.com/technetwork/java/javase/downloads/index.html\nLinux x64\u5411\u3051RPM\u3092\u53d6\u5f97\uff08\u4eca\u56de\u306f jdk-8u60-linux-x64.rpm\uff09\n\n\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u3067vagrant\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fRPM\u3092\u914d\u7f6e\n\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u3067Vagrantfile\u3092\u683c\u7d0d\u3057\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4eee\u60f3\u30de\u30b7\u30f3\u306e/vagrant\u3068\u3057\u3066\u5171\u6709\u3055\u308c\u3066\u3044\u308b\uff09\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067rpm\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum localinstall /vagrant/share/jdk-8u60-linux-x64.rpm \n```\n\n\u78ba\u8a8d\n\n```\n$ java -version\njava version \"1.8.0_60\"\nJava(TM) SE Runtime Environment (build 1.8.0_60-b27)\nJava HotSpot(TM) 64-Bit Server VM (build 25.60-b23, mixed mode)\n```\n\n# Scala\nCentOS\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089rpm\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nhttp://www.scala-lang.org/index.html\n\n```\n$ wget http://downloads.typesafe.com/scala/2.11.7/scala-2.11.7.rpm\n$ sudo yum localinstall scala-2.11.7.rpm\n```\n\nsbt\u306f\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306byum\u306e\u30ec\u30dd\u30b8\u30c8\u30ea\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://www.scala-sbt.org/0.13/tutorial/Installing-sbt-on-Linux.html\n\n```\n$ curl https://bintray.com/sbt/rpm/rpm > bintray-sbt-rpm.repo\n$ sudo mv bintray-sbt-rpm.repo /etc/yum.repos.d/\n$ sudo yum install sbt\n```\n\n```bash:/etc/yum.repos.d/bintray-sbt-rpm.repo\n#bintray--sbt-rpm - packages by  from Bintray\n[bintray--sbt-rpm]\nname=bintray--sbt-rpm\nbaseurl=http://dl.bintray.com/sbt/rpm\ngpgcheck=0\nenabled=1\n```\n\nsbt\u306e\u4f9d\u5b58\u95a2\u4fc2\u3067openjdk\u306ejava(java-1.6.0-openjdk.x86_64)\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3057\u307e\u3046\u306e\u3067\u3001alternatives\u3067Oracle\u306ejava\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304f\n\n```\n$ alternatives --config java\n\n2 \u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u3042\u308a 'java' \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\n\n  \u9078\u629e       \u30b3\u30de\u30f3\u30c9\n-----------------------------------------------\n*+ 1           /usr/java/jdk1.8.0_60/jre/bin/java\n   2           /usr/lib/jvm/jre-1.6.0-openjdk.x86_64/bin/java\n```\n\n\u78ba\u8a8d\n\n```\n$ scala -version\nScala code runner version 2.11.7 -- Copyright 2002-2013, LAMP/EPFL\n```\n\n# Python\nCentOS6.5\u306b\u306fpython2.6\u304c\u5165\u3063\u3066\u3044\u308b\u30022.7\u4ee5\u964d\u306f\u5225\u9014\u500b\u5225\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3044\u3063\u305f\u3093\u305d\u306e\u307e\u307e\u4f7f\u3046\u3002\n\n```\n$ python --version\nPython 2.6.6\n```\n\npip\nEPEL\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum install python-pip\n```\n\n# R\n\nR\u672c\u4f53\nEPEL\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum install R\n```\n\nR Studio Server\nRPM\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ wget https://download2.rstudio.org/rstudio-server-rhel-0.99.484-x86_64.rpm\n$ sudo yum localinstall rstudio-server-rhel-0.99.484-x86_64.rpm\n```\n\n\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u8a2d\u5b9a \u203b\u30db\u30b9\u30c8\u5074\u3067\u4f5c\u696d\nVagrantfile\u7de8\u96c6\n\n```sh:Vagrantfile\n# R Studio Server\nconfig.vm.network \"forwarded_port\", guest: 8787, host: 8787\n```\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u518d\u8d77\u52d5\n\n```\n$ vagrant reload\n```\n\n\n# CDH\n## Hadoop(\u64ec\u4f3c\u5206\u6563)\nyum\u30ec\u30dd\u30b8\u30c8\u30ea\u8ffd\u52a0\n\n```\n$ wget http://archive.cloudera.com/cdh5/redhat/6/x86_64/cdh/cloudera-cdh5.repo\n$ sudo mv cloudera-cdh5.repo /etc/yum.repos.d/\n```\n\nhadoop\uff08\u64ec\u4f3c\u5206\u6563\u30e2\u30fc\u30c9\uff09\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum install hadoop-conf-pseudo\n```\n\nhdfs\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\n```\n$ sudo su - hdfs\n$ hdfs namenode -format\n$ exit\n```\n\nhdfs\u8d77\u52d5\n\n```\nfor x in `cd /etc/init.d ; ls hadoop-hdfs-*` ; do sudo service $x start ; done\n```\n\nhdfs\u521d\u671f\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\n\n```\n$ sudo /usr/lib/hadoop/libexec/init-hdfs.sh \n```\n\n\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf:\u6570\u306e\u4e0a\u9650\u3092\u5897\u3084\u3059\n\n```:/etc/security/limits.conf\n* soft nofile 65536\n* hard nofile 65536\n```\n\n\n## Hive\nhive\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum install hive\n```\n\nmetastore\u95a2\u9023\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum install hive-metastore mysql-server mysql-connector-java\n```\n\nhive metastore\u3092mysql\u306b\u8a2d\u5b9a([\u53c2\u8003](http://edpflager.com/?p=2003))\n\n```\n$ sudo -u hive hdfs dfs -mkdir /user/hive/warehouse\n$ sudo -u hive hdfs dfs -chmod 1777 /user/hive/warehouse\n```\n```\n$ sudo cp /usr/share/java/mysql-connector-java.jar /usr/lib/hive/lib/.\n$ sudo service mysqld start\n$ sudo chkconfig mysqld on\n```\n```\n$ sudo /usr/bin/mysql_secure_installation\nEnter current password for root (enter for none):  <- \u7a7a\u306e\u307e\u307eENTER\nSet root password? [Y/n] y\nNew password:                          <- mysql\u306eroot\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\nRe-enter new password:                 <- \u540c\u4e0a\nRemove anonymous users? [Y/n] Y\nDisallow root login remotely? [Y/n] n\nRemove test database and access to it? [Y/n] Y\nReload privilege tables now? [Y/n] Y\n```\n```\n$ cd /usr/lib/hive/scripts/metastore/upgrade/mysql\n$ mysql -u root -p\nmysql> create database metastore;\nmysql> use metastore;\nmysql> source hive-schema-1.1.0.mysql.sql;\nmysql> create user 'hive'@'localhost' identified by 'mypassword';\nmysql> REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'hive'@'localhost';\nmysql> GRANT SELECT,INSERT,UPDATE,DELETE,LOCK TABLES,EXECUTE ON metastore.* TO 'hive'@'localhost';\nmysql> FLUSH PRIVILEGES;\nmysql> quit;\n```\n```\n$ sudo vi /usr/lib/hive/conf/hive-site.xml\n```\n```xml:hive-site.xml\n<property>\n  <name>javax.jdo.option.ConnectionURL</name>\n  <value>jdbc:mysql://localhost/metastore?createDatabaseIfNotExist=true</value>\n  <description>the URL of the MySQL database</description>\n</property>\n\n<property>\n  <name>javax.jdo.option.ConnectionDriverName</name>\n  <value>com.mysql.jdbc.Driver</value>\n</property>\n\n<property>\n  <name>javax.jdo.option.ConnectionUserName</name>\n  <value>hive</value>\n</property>\n\n<property>\n  <name>javax.jdo.option.ConnectionPassword</name>\n  <value>mypassword</value>\n</property>\n```\n\nhive-server2\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum install hive-server2\n```\n\nbeeline\u4f7f\u3044\u65b9\n\n```\n$ beeline\nbeeline> !connect jdbc:hive2://localhost:10000\nscan complete in 3ms\nConnecting to jdbc:hive2://localhost:10000\nEnter username for jdbc:hive2://localhost:10000: user\nEnter password for jdbc:hive2://localhost:10000: pass\nConnected to: Apache Hive (version 1.1.0-cdh5.4.7)\nDriver: Hive JDBC (version 1.1.0-cdh5.4.7)\nTransaction isolation: TRANSACTION_REPEATABLE_READ\n0: jdbc:hive2://localhost:10000> show databases;\n+----------------+--+\n| database_name  |\n+----------------+--+\n| default        |\n+----------------+--+\n1 row selected (0.213 seconds)\n0: jdbc:hive2://localhost:10000> !quit\n$ \n```\n## Spark\nSpark\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\n$ sudo yum install spark-core\n$ sudo yum install spark-master\n$ sudo yum install spark-worker\n$ sudo yum install spark-history-server\n$ sudo yum install spark-python\n```\n\nSpark\u30ed\u30b0\u30ec\u30d9\u30eb\u5909\u66f4\n\n```\n$ sudo cp -p /etc/spark/conf/log4j.properties.template /etc/spark/conf/log4j.properties\n```\n\n```bash:/etc/spark/conf/log4j.properties\n#log4j.rootCategory=INFO, console\nlog4j.rootCategory=WARN, console\n```\n\n## HBase\n```\n$ sudo yum install hbase\n```\n\n## Mahout\n```\n$ sudo yum install mahout\n```\n\n# Hue\n```\n$ sudo yum install hue\n```\n\n## \u518d\u8d77\u52d5\n\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u8a2d\u5b9a \u203b\u30db\u30b9\u30c8\u5074\u3067\u4f5c\u696d\nVagrantfile\u7de8\u96c6\n\n```sh:Vagrantfile\n  # YARN ResourceManager, NodeManager\n  config.vm.network \"forwarded_port\", guest: 8088, host: 8088\n  config.vm.network \"forwarded_port\", guest: 50060, host: 50060\n\n  # HDFS NameNode, DataNode\n  config.vm.network \"forwarded_port\", guest: 50070, host: 50070\n  config.vm.network \"forwarded_port\", guest: 50075, host: 50075\n\n  # Spark Master, Worker, Driver, HistoryServer\n  config.vm.network \"forwarded_port\", guest: 8080, host: 8080\n  config.vm.network \"forwarded_port\", guest: 8081, host: 8081\n  config.vm.network \"forwarded_port\", guest: 4040, host: 4040\n  config.vm.network \"forwarded_port\", guest: 18080, host: 18080\n\n  # Hue\n  config.vm.network \"forwarded_port\", guest: 8888, host: 8888\n```\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u518d\u8d77\u52d5\n\n```\n$ vagrant reload\n```\n\n# box\u5316\nvagrant\u3067\u518d\u5229\u7528\u53ef\u80fd\u306abox\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002\n\n\u203b\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u4f5c\u696d\n\n```\n$ sudo yum clean all\n$ exit\n```\n\n\u203b\u30db\u30b9\u30c8OS\u5074\u3067\u4f5c\u696d\n\n```\n$ vagrant halt\n$ vagrant package --output test_cdh5.box\n```\n\n# box\u306e\u5229\u7528\u65b9\u6cd5\n\nvagrant\u306bbox\u3092\u8ffd\u52a0\n\n```\n$ vagrant add test_cdh5 test_cdh5.box\n```\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u7528\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u521d\u671f\u5316\n\n```\n$ mkdir test_cdh5\n$ cd test_cdh5\n$ vagrant init\n```\n\nVagrantfile\u3092\u7de8\u96c6\n\n```rb:Vagrantfile\n# -*- mode: ruby -*-\n# vi: set ft=ruby :\n\nVagrant.configure(2) do |config|\n  # box\u306e\u6307\u5b9a\n  config.vm.box = \"tlab_cdh5\"\n\n  # hostname\u306e\u6307\u5b9a\n  config.vm.hostname = \"test2\"\n\n  # \u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\u306e\u6307\u5b9a\n  ## R Studio Server\n  config.vm.network \"forwarded_port\", guest: 8787, host: 8787\n\n  ## YARN ResourceManager, NodeManager\n  config.vm.network \"forwarded_port\", guest: 8088, host: 8088\n  config.vm.network \"forwarded_port\", guest: 50060, host: 50060\n\n  ## HDFS NameNode, DataNode\n  config.vm.network \"forwarded_port\", guest: 50070, host: 50070\n  config.vm.network \"forwarded_port\", guest: 50075, host: 50075\n\n  ## Spark Master, Worker, Driver, HistoryServer\n  config.vm.network \"forwarded_port\", guest: 8080, host: 8080\n  config.vm.network \"forwarded_port\", guest: 8081, host: 8081\n  config.vm.network \"forwarded_port\", guest: 4040, host: 4040\n  config.vm.network \"forwarded_port\", guest: 18080, host: 18080\n\n  ## Hue\n  config.vm.network \"forwarded_port\", guest: 8888, host: 8888\n\n  # Virtualbox\u306e\u8a2d\u5b9a\n  config.vm.provider \"virtualbox\" do |vb|\n    vb.name = \"test2\"\n    vb.memory = \"2048\"\n  end\nend\n```\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8d77\u52d5\uff08\u521d\u56de\u8d77\u52d5\u6642\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u4f5c\u6210\uff09\n\n```\n$ vagrant up\n```\n\nSSH\u30ed\u30b0\u30a4\u30f3\n\n```\n$ vagrant ssh\n```\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u4e0a\u3067\u4f5c\u696d\n\n```\n[vagrant@test2 ~]$\n``` \n"}