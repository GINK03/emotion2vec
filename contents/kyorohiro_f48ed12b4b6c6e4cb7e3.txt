{"tags": ["\u6b63\u898f\u8868\u73fe", "Dart"], "context": " \u3053\u306e\u8a18\u4e8b\u306f\u6700\u7d42\u66f4\u65b0\u65e5\u304b\u30891\u5e74\u4ee5\u4e0a\u304c\u7d4c\u904e\u3057\u3066\u3044\u307e\u3059\u3002VM\u306e\u4f5c\u6210(http://qiita.com/kyorohiro/items/cbd2617a979a31efb3ba)\n\u3068\u3001Parser\u306e\u4f5c\u6210(http://qiita.com/kyorohiro/items/eed9617aebdbe450aad3)\n\u3067VM\u578b\u306e\u6b63\u898f\u8868\u73fe\u30a8\u30f3\u30b8\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\u3064\u3044\u3067\u306b\u3001FSM(\u6709\u9650\u30aa\u30fc\u30c8\u30de\u30bf)\u3067\u306e\u5b9f\u73fe\u65b9\u6cd5\u3082\u7d39\u4ecb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\nFSM\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7c21\u5358\u306b\u63cf\u3051\u307e\u3059\u300230\u884c\u3082\u306a\u3044\u3067\u3059\u306d\u3002\n\ndart\nbool fsm(String target, int currentStatus, Map<Action, int> table, List<int> goal) {\n  if (target.length == 0) {\n    return goal.contains(currentStatus);\n  } else {\n    Action expectAction = new Action(currentStatus, target[0]);\n    if (table.keys.contains(expectAction)) {\n      return fsm(target.substring(1), table[expectAction], table, goal);\n    } else {\n      return false;\n    }\n  }\n}\n\nclass Action extends Object {\n  int status;\n  String character;\n  Action(int status, String character) {\n    this.status = status;\n    this.character = character;\n  }\n  int get hashCode => status << 8 | character.codeUnitAt(0);\n  bool operator ==(Action t) => this.hashCode == t.hashCode;\n}\n\n\n\n\n\u3044\u304f\u3064\u304b\u7c21\u5358\u306a\u4f8b\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n\"a\"\u3092FSM\u3067\u8868\u73fe\n\n\"a\"\u3092FSM\u3067\u56f3\u3067\u8868\u73fe\n(1) -a-> (2)\n\n\n\n\"a\"\u3092FSM\u3092\u30b3\u30fc\u30c9\u3067\u8868\u73fe\nvoid main() {\n  var table = <Action,int> {\n    new Action(1, 'a'): 2,\n  };\n  var goal = [2];\n  print(fsm(\"a\", 1, table, goal));// true\n  print(fsm(\"aa\", 1, table, goal));// false\n  print(fsm(\"b\", 1, table, goal));// false\n}\n\n\n\n\"a+\"\u3092FSM\u3067\u8868\u73fe\n\n\"a+\"\u3092FSM\u3067\u56f3\u3067\u8868\u73fe\n           __a_\n          |    |\n(1) -a-> (2)<--\n\n\n\n\"a+\"\u3092FSM\u3092\u30b3\u30fc\u30c9\u3067\u8868\u73fe\nvoid main() {\n  var table = <Action,int> {\n    new Action(1, 'a'): 2,\n    new Action(2, 'a'): 2,\n  };\n  var goal = [2];\n  print(fsm(\"a\", 1, table, goal));// true\n  print(fsm(\"aa\", 1, table, goal));// true\n  print(fsm(\"b\", 1, table, goal));// false\n}\n\n\n\n\"[a-b][c-d]?\"\u3092FSM\u3067\u8868\u73fe\n\n\"[a-b][c-d]?\"\u3092FSM\u3092\u30b3\u30fc\u30c9\u3067\u8868\u73fe\n  //\n  var table = <Action,int> {\n    new Action(1, 'a'): 2,\n    new Action(1, 'b'): 2,\n    new Action(2, 'c'): 3,\n    new Action(2, 'd'): 3\n  };\n  var goal = [2,3];\n  print(fsm(\"a\", 1, table, goal)); //true\n  print(fsm(\"b\", 1, table, goal)); //true\n  print(fsm(\"ad\", 1, table, goal)); //true\n  print(fsm(\"e\", 1, table, goal)); //false\n\n\n\n\u304a\u308f\u308a\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001\u30aa\u30fc\u30c8\u30de\u30c8\u30f3\u306b\u76f4\u63a5\u843d\u3068\u3057\u3066\u3057\u307e\u3046\u306e\u3082\u3042\u308a\u3067\u3059\u306d\u3002\nref https://www.udacity.com/course/programming-languages--cs262\nVM\u306e\u4f5c\u6210(http://qiita.com/kyorohiro/items/cbd2617a979a31efb3ba)\n\u3068\u3001Parser\u306e\u4f5c\u6210(http://qiita.com/kyorohiro/items/eed9617aebdbe450aad3)\n\u3067VM\b\u578b\u306e\u6b63\u898f\u8868\u73fe\u30a8\u30f3\u30b8\u30f3\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\u3064\u3044\u3067\u306b\u3001FSM(\u6709\u9650\u30aa\u30fc\u30c8\u30de\u30bf)\u3067\u306e\u5b9f\u73fe\u65b9\u6cd5\u3082\u7d39\u4ecb\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n# FSM\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7c21\u5358\u306b\u63cf\u3051\u307e\u3059\u300230\u884c\u3082\u306a\u3044\u3067\u3059\u306d\u3002\n\n\n```text:dart\nbool fsm(String target, int currentStatus, Map<Action, int> table, List<int> goal) {\n  if (target.length == 0) {\n    return goal.contains(currentStatus);\n  } else {\n    Action expectAction = new Action(currentStatus, target[0]);\n    if (table.keys.contains(expectAction)) {\n      return fsm(target.substring(1), table[expectAction], table, goal);\n    } else {\n      return false;\n    }\n  }\n}\n\nclass Action extends Object {\n  int status;\n  String character;\n  Action(int status, String character) {\n    this.status = status;\n    this.character = character;\n  }\n  int get hashCode => status << 8 | character.codeUnitAt(0);\n  bool operator ==(Action t) => this.hashCode == t.hashCode;\n}\n\n```\n\n# \u3044\u304f\u3064\u304b\u7c21\u5358\u306a\u4f8b\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n### \"a\"\u3092FSM\u3067\u8868\u73fe\n\n```text:\"a\"\u3092FSM\u3067\u56f3\u3067\u8868\u73fe\n(1) -a-> (2)\n```\n\n```text:\"a\"\u3092FSM\u3092\u30b3\u30fc\u30c9\u3067\u8868\u73fe\nvoid main() {\n  var table = <Action,int> {\n    new Action(1, 'a'): 2,\n  };\n  var goal = [2];\n  print(fsm(\"a\", 1, table, goal));// true\n  print(fsm(\"aa\", 1, table, goal));// false\n  print(fsm(\"b\", 1, table, goal));// false\n}\n```\n\n### \"a+\"\u3092FSM\u3067\u8868\u73fe\n\n```text:\"a+\"\u3092FSM\u3067\u56f3\u3067\u8868\u73fe\n           __a_\n          |    |\n(1) -a-> (2)<--\n```\n\n```text:\"a+\"\u3092FSM\u3092\u30b3\u30fc\u30c9\u3067\u8868\u73fe\nvoid main() {\n  var table = <Action,int> {\n    new Action(1, 'a'): 2,\n    new Action(2, 'a'): 2,\n  };\n  var goal = [2];\n  print(fsm(\"a\", 1, table, goal));// true\n  print(fsm(\"aa\", 1, table, goal));// true\n  print(fsm(\"b\", 1, table, goal));// false\n}\n```\n\n### \"[a-b][c-d]?\"\u3092FSM\u3067\u8868\u73fe\n\n\n```text:\"[a-b][c-d]?\"\u3092FSM\u3092\u30b3\u30fc\u30c9\u3067\u8868\u73fe\n  //\n  var table = <Action,int> {\n    new Action(1, 'a'): 2,\n    new Action(1, 'b'): 2,\n    new Action(2, 'c'): 3,\n    new Action(2, 'd'): 3\n  };\n  var goal = [2,3];\n  print(fsm(\"a\", 1, table, goal)); //true\n  print(fsm(\"b\", 1, table, goal)); //true\n  print(fsm(\"ad\", 1, table, goal)); //true\n  print(fsm(\"e\", 1, table, goal)); //false\n```\n\n\n# \u304a\u308f\u308a\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3001\u30aa\u30fc\u30c8\u30de\u30c8\u30f3\u306b\u76f4\u63a5\u843d\u3068\u3057\u3066\u3057\u307e\u3046\u306e\u3082\u3042\u308a\u3067\u3059\u306d\u3002\nref https://www.udacity.com/course/programming-languages--cs262\n"}