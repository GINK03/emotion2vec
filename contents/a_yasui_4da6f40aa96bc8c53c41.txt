{"context": "\u500b\u4eba\u7684\u306a\u30e1\u30e2\u66f8\u304d\u3002Larave5 \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067 CodeCeption\u3067\u30c6\u30b9\u30c8\u3057\u306a\u304c\u3089\u4f5c\u3063\u3066\u3044\u304f\u5f62\n\nVersion\n\nlaravel/framework: 5.2.*\ncodeception/codeception: 2.2\n\n\nInstall\n\u3088\u304f\u4f7f\u3046\u3082\u306e\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\ncomposer require laravelcollective/html\ncomposer require barryvdh/laravel-ide-helper\ncomposer require doctrine/dbal\ncomposer require barryvdh/laravel-debugbar\n\n\n\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\ncomposer require codeception/codeception --dev\ncomposer require site5/phantoman --dev\ncomposer require codeception/phpbuiltinserver --dev\n\n\n\u30c6\u30b9\u30c8\u74b0\u5883\u3092\u4f5c\u6210\nCodeCeption\u306b\u5411\u3044\u305f\u30c6\u30b9\u30c8\u74b0\u5883\u306b\u306f\u306a\u3063\u3066\u306a\u3044\u306e\u3067\u3001CodeCeption\u3067\u30c6\u30b9\u30c8\u74b0\u5883\u3092\u4f5c\u6210\n\n./vendor/bin/codecept bootstrap\n\n\nWelcome\u30da\u30fc\u30b8\u306e\u30c6\u30b9\u30c8\nFunctional \u30c6\u30b9\u30c8\u3067\u3001Welcome \u304c\u51fa\u308b\u304b\u78ba\u8a8d\u3059\u308b\u70ba\u306e\u30c6\u30b9\u30c8\u3092\u4f5c\u6210\u3002\n\n./vendor/bin/codecept generate:cept functional WelcomePageCept\n\n\u4f5c\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u5c11\u3057\u5909\u66f4\u3002\n<?php \n$I = new FunctionalTester($scenario);\n$I->wantTo('perform actions and see result');\n$I->amOnPage('/');\n$I->see('laravel');\n\n\u305d\u3057\u3066\u304a\u3082\u3080\u308d\u306b\u5b9f\u884c\u3059\u308b\u3002\n./vendor/bin/codecept run  \nCodeception PHP Testing Framework v2.2.2\nPowered by PHPUnit 4.8.26 by Sebastian Bergmann and contributors.\n\nAcceptance Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nFunctional Tests (1) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nE WelcomePageCept: Perform actions and see result (0.0s)\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nUnit Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\nTime: 334 ms, Memory: 12.00MB\n\nThere was 1 error:\n\n---------\n1) WelcomePageCept: Perform actions and see result\n Test  tests/functional/WelcomePageCept.php\n\n  [RuntimeException] Call to undefined method FunctionalTester::amOnPage  \n\n#1  ./tests/functional/WelcomePageCept.php:4\n\nFAILURES!\nTests: 1, Assertions: 0, Errors: 1.\n\n\u304a\u3053\u306a\u306e\u3002\nCodeCeption\u3067\u3001Laravel5 \u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8aad\u3093\u3067\u3044\u306a\u3044\u306e\u3067\u3001\u8aad\u307e\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\ntests/functional.suite.yml\n# Codeception Test Suite Configuration\n#\n# Suite for functional (integration) tests\n# Emulate web requests and make application process them\n# Include one of framework modules (Symfony2, Yii2, Laravel5) to use it\n\nclass_name: FunctionalTester\nmodules:\n    enabled:\n        # add framework module here\n        - \\Helper\\Functional\n        - Laravel5 # \u3053\u306e\u884c\u3092\u8ffd\u52a0\n\n\n\u305d\u3057\u3066\u5b9f\u884c\u3002\n./vendor/bin/codecept run    \nCodeception PHP Testing Framework v2.2.2\nPowered by PHPUnit 4.8.26 by Sebastian Bergmann and contributors.\n\nAcceptance Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nFunctional Tests (1) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n- WelcomePageCept: Perform actions and see result\n\n  [PDOException]                             \n  SQLSTATE[HY000] [2002] Connection refused  \n\n\nrun [--report] [--html [HTML]] [--xml [XML]] [--tap [TAP]] [--json [JSON]] [--colors] [--no-colors] [--silent] [--steps] [-d|--debug] [--coverage [COVERAGE]] [--coverage-html [COVERAGE-HTML]] [--coverage-xml [COVERAGE-XML]] [--coverage-text [COVERAGE-TEXT]] [--no-exit] [-g|--group GROUP] [-s|--skip SKIP] [-x|--skip-group SKIP-GROUP] [--env ENV] [-f|--fail-fast] [--no-rebuild] [--] [<suite>] [<test>]\n\n\n\nDB \u5468\u308a\u3067\u6012\u3089\u308c\u3066\u307e\u3059\u306e\u3067\u8a2d\u5b9a\u3057\u3066\u3084\u308a\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u307e\u308f\u308a\n\u30c6\u30b9\u30c8\u74b0\u5883\u306a\u306e\u3067\u3001.env \u3092 .env.testing \u306b\u30b3\u30d4\u30fc\u3057\u3066\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3001DB_CONNECTION\u3060\u3051\u3092\u6b8b\u3057\u3066\u5024\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\nenv.testing\nDB_CONNECTION=sqlite_testing\n\n\n\u305d\u3057\u3066\u3001sqlite \u3092\u30e1\u30e2\u30ea\u30fc\u4e0a\u3067\u52d5\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\nconfig/database.php\n<?php\n\nreturn [\n    'fetch' => PDO::FETCH_CLASS,\n    'default' => env('DB_CONNECTION', 'mysql'),\n    'connections' => [\n\n        'sqlite' => [\n            'driver' => 'sqlite',\n            'database' => env('DB_DATABASE', database_path('database.sqlite')),\n            'prefix' => '',\n        ],\n\n        // \u30c6\u30b9\u30c8\u7528\u306e\u8a2d\u5b9a\n        'sqlite_testing' => [\n            'driver' => 'sqlite',\n            'database' => ':memory:',\n            'prefix' => '',\n        ],\n\n        'mysql' => [\n            'driver' => 'mysql',\n            'host' => env('DB_HOST', 'localhost'),\n            'port' => env('DB_PORT', '3306'),\n            'database' => env('DB_DATABASE', 'forge'),\n            'username' => env('DB_USERNAME', 'forge'),\n            'password' => env('DB_PASSWORD', ''),\n            'charset' => 'utf8',\n            'collation' => 'utf8_unicode_ci',\n            'prefix' => '',\n            'strict' => false,\n            'engine' => null,\n        ],\n    ],\n    'migrations' => 'migrations',\n    'redis' => [\n\n        'cluster' => false,\n\n        'default' => [\n            'host' => env('REDIS_HOST', 'localhost'),\n            'password' => env('REDIS_PASSWORD', null),\n            'port' => env('REDIS_PORT', 6379),\n            'database' => 0,\n        ],\n\n    ],\n\n];\n\n\n\n\u74b0\u5883\u8a2d\u5b9a\u3092 .env \u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u308b\u306e\u3067\u3001.env.testing \u3092\u8aad\u307e\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\ntests/functional.suite.yml\n# Codeception Test Suite Configuration\n#\n# Suite for functional (integration) tests\n# Emulate web requests and make application process them\n# Include one of framework modules (Symfony2, Yii2, Laravel5) to use it\n\nclass_name: FunctionalTester\nmodules:\n    enabled:\n        # add framework module here\n        - \\Helper\\Functional\n        - Laravel5: # \u3053\u306e\u884c\u3092\u8ffd\u52a0\n            environment_file: .env.testing\n\n\n\n\u305d\u3057\u3066\u5b9f\u884c\u3002\n$ ./vendor/bin/codecept run                            \nCodeception PHP Testing Framework v2.2.2\nPowered by PHPUnit 4.8.26 by Sebastian Bergmann and contributors.\n\nAcceptance Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nFunctional Tests (1) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\u2714 WelcomePageCept: Perform actions and see result (0.7s)\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nUnit Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\nTime: 748 ms, Memory: 18.00MB\n\nOK (1 test, 1 assertion)\n\n\n\u4e00\u756a\u521d\u3081\u306e\u30c6\u30b9\u30c8\u306fOK\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\u3068\u308a\u3042\u3048\u305a\u3053\u3053\u307e\u3067\u3002\n\n\u53c2\u8003\n\nhttp://codeception.com/docs/modules/Laravel5\nhttp://piccagliani.github.io/Codeception.docs.ja_JP/04-FunctionalTests.html\nhttp://matthewturland.com/slides/codeception/\n\n\n\u500b\u4eba\u7684\u306a\u30e1\u30e2\u66f8\u304d\u3002Larave5 \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067 CodeCeption\u3067\u30c6\u30b9\u30c8\u3057\u306a\u304c\u3089\u4f5c\u3063\u3066\u3044\u304f\u5f62\n\n# Version\n\n1. laravel/framework: 5.2.*\n2. codeception/codeception: 2.2\n\n# Install\n\n\u3088\u304f\u4f7f\u3046\u3082\u306e\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n1. `composer require laravelcollective/html`\n2. `composer require barryvdh/laravel-ide-helper`\n3. `composer require doctrine/dbal`\n4. `composer require barryvdh/laravel-debugbar`\n\n## \u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n1. `composer require codeception/codeception --dev`\n2. `composer require site5/phantoman --dev`\n3. `composer require codeception/phpbuiltinserver --dev`\n\n# \u30c6\u30b9\u30c8\u74b0\u5883\u3092\u4f5c\u6210\n\nCodeCeption\u306b\u5411\u3044\u305f\u30c6\u30b9\u30c8\u74b0\u5883\u306b\u306f\u306a\u3063\u3066\u306a\u3044\u306e\u3067\u3001CodeCeption\u3067\u30c6\u30b9\u30c8\u74b0\u5883\u3092\u4f5c\u6210\n\n1. `./vendor/bin/codecept bootstrap`\n\n# Welcome\u30da\u30fc\u30b8\u306e\u30c6\u30b9\u30c8\n\nFunctional \u30c6\u30b9\u30c8\u3067\u3001Welcome \u304c\u51fa\u308b\u304b\u78ba\u8a8d\u3059\u308b\u70ba\u306e\u30c6\u30b9\u30c8\u3092\u4f5c\u6210\u3002\n\n1. `./vendor/bin/codecept generate:cept functional WelcomePageCept`\n\n\u4f5c\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u3092\u5c11\u3057\u5909\u66f4\u3002\n\n```php\n<?php \n$I = new FunctionalTester($scenario);\n$I->wantTo('perform actions and see result');\n$I->amOnPage('/');\n$I->see('laravel');\n```\n\n\u305d\u3057\u3066\u304a\u3082\u3080\u308d\u306b\u5b9f\u884c\u3059\u308b\u3002\n\n```\n./vendor/bin/codecept run  \nCodeception PHP Testing Framework v2.2.2\nPowered by PHPUnit 4.8.26 by Sebastian Bergmann and contributors.\n\nAcceptance Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nFunctional Tests (1) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\nE WelcomePageCept: Perform actions and see result (0.0s)\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nUnit Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\nTime: 334 ms, Memory: 12.00MB\n\nThere was 1 error:\n\n---------\n1) WelcomePageCept: Perform actions and see result\n Test  tests/functional/WelcomePageCept.php\n                                                                          \n  [RuntimeException] Call to undefined method FunctionalTester::amOnPage  \n                                                                          \n#1  ./tests/functional/WelcomePageCept.php:4\n\nFAILURES!\nTests: 1, Assertions: 0, Errors: 1.\n```\n\n\u304a\u3053\u306a\u306e\u3002\n\nCodeCeption\u3067\u3001Laravel5 \u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8aad\u3093\u3067\u3044\u306a\u3044\u306e\u3067\u3001\u8aad\u307e\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```tests/functional.suite.yml\n# Codeception Test Suite Configuration\n#\n# Suite for functional (integration) tests\n# Emulate web requests and make application process them\n# Include one of framework modules (Symfony2, Yii2, Laravel5) to use it\n\nclass_name: FunctionalTester\nmodules:\n    enabled:\n        # add framework module here\n        - \\Helper\\Functional\n        - Laravel5 # \u3053\u306e\u884c\u3092\u8ffd\u52a0\n```\n\n\u305d\u3057\u3066\u5b9f\u884c\u3002\n\n```\n./vendor/bin/codecept run    \nCodeception PHP Testing Framework v2.2.2\nPowered by PHPUnit 4.8.26 by Sebastian Bergmann and contributors.\n\nAcceptance Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nFunctional Tests (1) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n- WelcomePageCept: Perform actions and see result\n                                             \n  [PDOException]                             \n  SQLSTATE[HY000] [2002] Connection refused  \n                                             \n\nrun [--report] [--html [HTML]] [--xml [XML]] [--tap [TAP]] [--json [JSON]] [--colors] [--no-colors] [--silent] [--steps] [-d|--debug] [--coverage [COVERAGE]] [--coverage-html [COVERAGE-HTML]] [--coverage-xml [COVERAGE-XML]] [--coverage-text [COVERAGE-TEXT]] [--no-exit] [-g|--group GROUP] [-s|--skip SKIP] [-x|--skip-group SKIP-GROUP] [--env ENV] [-f|--fail-fast] [--no-rebuild] [--] [<suite>] [<test>]\n\n\n```\n\nDB \u5468\u308a\u3067\u6012\u3089\u308c\u3066\u307e\u3059\u306e\u3067\u8a2d\u5b9a\u3057\u3066\u3084\u308a\u307e\u3059\u3002\n\n## \u30c6\u30b9\u30c8\u74b0\u5883\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u307e\u308f\u308a\n\n\u30c6\u30b9\u30c8\u74b0\u5883\u306a\u306e\u3067\u3001`.env` \u3092 `.env.testing` \u306b\u30b3\u30d4\u30fc\u3057\u3066\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u3001`DB_CONNECTION`\u3060\u3051\u3092\u6b8b\u3057\u3066\u5024\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```.env.testing\nDB_CONNECTION=sqlite_testing\n```\n\n\u305d\u3057\u3066\u3001`sqlite` \u3092\u30e1\u30e2\u30ea\u30fc\u4e0a\u3067\u52d5\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```config/database.php\n<?php\n\nreturn [\n    'fetch' => PDO::FETCH_CLASS,\n    'default' => env('DB_CONNECTION', 'mysql'),\n    'connections' => [\n\n        'sqlite' => [\n            'driver' => 'sqlite',\n            'database' => env('DB_DATABASE', database_path('database.sqlite')),\n            'prefix' => '',\n        ],\n\n        // \u30c6\u30b9\u30c8\u7528\u306e\u8a2d\u5b9a\n        'sqlite_testing' => [\n            'driver' => 'sqlite',\n            'database' => ':memory:',\n            'prefix' => '',\n        ],\n\n        'mysql' => [\n            'driver' => 'mysql',\n            'host' => env('DB_HOST', 'localhost'),\n            'port' => env('DB_PORT', '3306'),\n            'database' => env('DB_DATABASE', 'forge'),\n            'username' => env('DB_USERNAME', 'forge'),\n            'password' => env('DB_PASSWORD', ''),\n            'charset' => 'utf8',\n            'collation' => 'utf8_unicode_ci',\n            'prefix' => '',\n            'strict' => false,\n            'engine' => null,\n        ],\n    ],\n    'migrations' => 'migrations',\n    'redis' => [\n\n        'cluster' => false,\n\n        'default' => [\n            'host' => env('REDIS_HOST', 'localhost'),\n            'password' => env('REDIS_PASSWORD', null),\n            'port' => env('REDIS_PORT', 6379),\n            'database' => 0,\n        ],\n\n    ],\n\n];\n\n```\n\n\u74b0\u5883\u8a2d\u5b9a\u3092 `.env` \u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u308b\u306e\u3067\u3001`.env.testing` \u3092\u8aad\u307e\u305b\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```tests/functional.suite.yml\n# Codeception Test Suite Configuration\n#\n# Suite for functional (integration) tests\n# Emulate web requests and make application process them\n# Include one of framework modules (Symfony2, Yii2, Laravel5) to use it\n\nclass_name: FunctionalTester\nmodules:\n    enabled:\n        # add framework module here\n        - \\Helper\\Functional\n        - Laravel5: # \u3053\u306e\u884c\u3092\u8ffd\u52a0\n            environment_file: .env.testing\n\n```\n\n\u305d\u3057\u3066\u5b9f\u884c\u3002\n\n```\n$ ./vendor/bin/codecept run                            \nCodeception PHP Testing Framework v2.2.2\nPowered by PHPUnit 4.8.26 by Sebastian Bergmann and contributors.\n\nAcceptance Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nFunctional Tests (1) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\u2714 WelcomePageCept: Perform actions and see result (0.7s)\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nUnit Tests (0) --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\nTime: 748 ms, Memory: 18.00MB\n\nOK (1 test, 1 assertion)\n\n```\n\n\u4e00\u756a\u521d\u3081\u306e\u30c6\u30b9\u30c8\u306fOK\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u3053\u3053\u307e\u3067\u3002\n\n## \u53c2\u8003\n\n- http://codeception.com/docs/modules/Laravel5\n- http://piccagliani.github.io/Codeception.docs.ja_JP/04-FunctionalTests.html\n- http://matthewturland.com/slides/codeception/\n\n", "tags": ["laravel", "codeception"]}