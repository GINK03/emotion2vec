{"context": "Angular2 v2.0.0 \u3067\u306e\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\u304c\u691c\u7d22\u3057\u3066\u3082\u3042\u307e\u308a\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3002\n/* tslint:disable:no-unused-variable */\n\nimport {TestBed, async, inject} from '@angular/core/testing';\nimport {ApiService} from './api.service';\nimport {HttpModule, BaseRequestOptions, Http, Response, ResponseOptions} from \"@angular/http\";\nimport {MockBackend, MockConnection} from \"@angular/http/testing\";\n\nimport {User} from \"./user\";\n\ndescribe('Service: Api', () => {\n\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      imports: [HttpModule],\n      providers: [ApiService, {\n        provide: Http,\n        useFactory: (backend, options) => new Http(backend, options),\n        deps: [MockBackend, BaseRequestOptions]\n      }, MockBackend, BaseRequestOptions]\n    });\n  });\n\n  it('userInfo', async(inject([MockBackend, ApiService], (backend: MockBackend, service: ApiService) => {\n\n    backend.connections.subscribe((conn: MockConnection) => {\n      let ops = new ResponseOptions({body: {name: 'kyusyukeigo'}});\n      conn.mockRespond(new Response(ops));\n    });\n\n    service.getUser().subscribe((user: User) => {\n      expect(user).not.toBeNull();\n      expect(user.name).toBe('kyusyukeigo');\n    });\n\n  })));\n});\n\n\u53c2\u8003: http://stackoverflow.com/questions/39599084/test-angular-2-0-0-component-with-http-request\nAngular2 v2.0.0 \u3067\u306e\u30c6\u30b9\u30c8\u306e\u66f8\u304d\u65b9\u304c\u691c\u7d22\u3057\u3066\u3082\u3042\u307e\u308a\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u3002\n\n```ts\n/* tslint:disable:no-unused-variable */\n\nimport {TestBed, async, inject} from '@angular/core/testing';\nimport {ApiService} from './api.service';\nimport {HttpModule, BaseRequestOptions, Http, Response, ResponseOptions} from \"@angular/http\";\nimport {MockBackend, MockConnection} from \"@angular/http/testing\";\n\nimport {User} from \"./user\";\n\ndescribe('Service: Api', () => {\n\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      imports: [HttpModule],\n      providers: [ApiService, {\n        provide: Http,\n        useFactory: (backend, options) => new Http(backend, options),\n        deps: [MockBackend, BaseRequestOptions]\n      }, MockBackend, BaseRequestOptions]\n    });\n  });\n\n  it('userInfo', async(inject([MockBackend, ApiService], (backend: MockBackend, service: ApiService) => {\n\n    backend.connections.subscribe((conn: MockConnection) => {\n      let ops = new ResponseOptions({body: {name: 'kyusyukeigo'}});\n      conn.mockRespond(new Response(ops));\n    });\n\n    service.getUser().subscribe((user: User) => {\n      expect(user).not.toBeNull();\n      expect(user.name).toBe('kyusyukeigo');\n    });\n\n  })));\n});\n```\n\n\n\u53c2\u8003: http://stackoverflow.com/questions/39599084/test-angular-2-0-0-component-with-http-request\n", "tags": ["Angular2"]}