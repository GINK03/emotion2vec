{"context": "\n\nC++Advent Calendar 2016\n\u3053\u306e\u8a18\u4e8b\u306fC++Advent Calendar 2016 8\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\n<< 7\u65e5\u76ee | C++\u5f62\u5f0f\u306e\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u66f8\u304d\u65b9(gcc\u7de8) || 9\u65e5\u76ee | \u6700\u8fd1\u66f8\u3044\u305f\u30de\u30af\u30ed\uff08\u69cb\u9020\u4f53\u3092tuple\u306b\u5909\u63db\u3057\u305f\u3044\uff09 - TXT.TXT/\u305d\u308c\u3067\u3082\u69cb\u9020\u4f53\u3092tuple\u306b\u5909\u63db\u3057\u305f\u3044 - TXT.TXT >>\n\u4eca\u5e74\u306f3\u65e5\u76ee\u306b\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u6642C\u30b3\u30f3\u30d1\u30a4\u30e9\u3068\u304b\u3044\u3046C++\u306e\u4f5c\u8005\u3067\u3042\u308bBjarne Stroustrup\u306b\u307e\u3067\u8a00\u53ca\u3055\u308c\u308b\u306b\u81f3\u3063\u305f\u3001\u982d\u306e\u304a\u304b\u3057\u3044\u8a18\u4e8b\u304c\u51fa\u3066\u3001\u5f37\u3055\u3057\u304b\u7121\u3044\u3067\u3059\u306d\uff01\n\n\u306f\u3058\u3081\u306b\n\u7686\u69d8\u3001\u30ca\u30de\u30b9\u30c6\u3002\n\u4e16\u306e\u4e2d\u3067\u306f\u3001Visual Studio2017 RC\u304c\u3067\u3066\u3001MS\u304c\u6765\u5e74\u306b\u306ftwo-phase lookup\u3092\u5b9f\u88c5\u3059\u308b\u3068\u3044\u3046\u30cb\u30e5\u30fc\u30b9\u304c\u99c6\u3051\u5de1\u3063\u305f\u308a\u3001C++ Builder 10.1 Berlin\u304c\u3067\u3066Clang\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u308a(\u305f\u3060\u3057\u53e4\u3044)\u3001C++17\u306e\u5185\u5bb9\u304c\u3044\u308d\u3044\u308d\u898b\u3048\u3066\u304d\u305f\u308a\u3001\u307e\u305f\u3057\u3066\u3082char8_t\u578b\u304creject\u3055\u308c\u305f\u308a\u3057\u307e\u3057\u305f\u304c\u3001\n\u305d\u308c\u306b\u3064\u3044\u3066\u306f\u8ab0\u304b\u304c\u66f8\u3044\u3066\u304f\u308c\u308b\u6c17\u304c\u3059\u308b\u306e\u3067\u79c1\u306f\u30b9\u30eb\u30fc\u3057\u3066\u3001\u3082\u3046\u5c11\u3057\u5c0f\u3055\u306a\u30cd\u30bf\u3092\u66f8\u3044\u3066\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u306a\u3093\u304bC++Advent Calendar\u306e\u30ec\u30d9\u30eb\u304c\u3084\u305f\u3089\u3068\u9ad8\u3044\u306e\u3067\u7686\u3055\u3093\u306b\u306f\u5e38\u8b58\u306a\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u305d\u308c\u3092\u8a00\u3063\u305f\u3089\u30cd\u30bf\u304c\u306a\u3044\n\n\u591a\u5206\u8aad\u8005\u306e\u65b9\u306f\u300c\u8266\u3053\u308c\u300d\u306b\u3064\u3044\u3066\u540d\u524d\u304f\u3089\u3044\u306f\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\nhttp://www.dmm.com/netgame/feature/kancolle.html\n\n\u8266\u968a\u3053\u308c\u304f\u3057\u3087\u3093 -\u8266\u3053\u308c- - Wikipedia\n\u300e\u8266\u968a\u3053\u308c\u304f\u3057\u3087\u3093 -\u8266\u3053\u308c-\u300f\uff08\u304b\u3093\u305f\u3044\u3053\u308c\u304f\u3057\u3087\u3093 \u304b\u3093\u3053\u308c\uff09\u306f\u3001\u89d2\u5ddd\u30b2\u30fc\u30e0\u30b9\u304c\u958b\u767a\u3057DMM.com\u304c\u30d6\u30e9\u30a6\u30b6\u30b2\u30fc\u30e0\u3068\u3057\u3066\u914d\u4fe1\u3057\u3066\u3044\u308b\u80b2\u6210\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30b2\u30fc\u30e0\u304a\u3088\u3073\u3001\u305d\u306e\u30e1\u30c7\u30a3\u30a2\u30df\u30c3\u30af\u30b9\u4f5c\u54c1\u7fa4\u3002\u30b2\u30fc\u30e0\u5185\u5bb9\u306f\u3001\u7b2c\u4e8c\u6b21\u4e16\u754c\u5927\u6226\u6642\u306e\u5927\u65e5\u672c\u5e1d\u56fd\u6d77\u8ecd\u306e\u8ecd\u8266\u3092\u4e2d\u5fc3\u3068\u3057\u305f\u8266\u8247\u3092\u5973\u6027\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306b\u64ec\u4eba\u5316\u3057\u305f\u300c\u8266\u5a18\uff08\u304b\u3093\u3080\u3059\uff09\u300d\u3092\u30b2\u30fc\u30e0\u4e2d\u3067\u96c6\u3081\u3001\u5f37\u5316\u3057\u306a\u304c\u3089\u6575\u3068\u6226\u95d8\u3057\u52dd\u5229\u3092\u76ee\u6307\u3059\u3068\u3044\u3046\u3082\u306e\u3067\u3042\u308b\u30022013\u5e744\u670823\u65e5\u306b\u30d6\u30e9\u30a6\u30b6\u7248\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3057\u305f\n\n\u3067\u3001@YSRKEN \u3055\u3093\u3092\u30e1\u30a4\u30f3\u958b\u767a\u8005\u3001 @sayurin\u3055\u3093\u3068\u79c1\u304c\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0&\u9ad8\u901f\u5316\u62c5\u5f53\u3092\u3057\u3066\u3001\u8266\u3053\u308c\u306e\u6226\u95d8\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u30bd\u30d5\u30c8\u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u3002\nhttps://github.com/YSRKEN/KanColleSimulator_KAI\n\u4ee5\u4e0bKCS_KAI\u3068\u7565\u3057\u307e\u3059\u3002\n\n\u305d\u308c\u304b\u3089\u3082\u3046\u4e00\u3064\u3001SigContrastFastAviUtl\u3068\u3044\u3046\nhttps://github.com/yumetodo/SigContrastFastAviUtl\n\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8\u3092Sigmoid\u95a2\u6570\u306b\u3082\u3068\u3065\u3044\u3066\u5909\u66f4\u3059\u308b(\u30de\u30cd\u30fc)\u30d5\u30ea\u30fc\u306a\u52d5\u753b\u7de8\u96c6\u30bd\u30d5\u30c8AviUtl\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\nhttps://github.com/MaverickTse/SigColorAviutl\n\u3092\u9ad8\u901f\u5316\u3057\u305f\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u958b\u767a\u3057\u305f\u306e\u3067\u3059\u304c\u3001@MaverickTse\u3055\u3093\u306e\u30b3\u30fc\u30c9\u3092\u30d9\u30fc\u30b9\u306b\u5927\u898f\u6a21\u306a\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3068\u9ad8\u901f\u5316\u3092\u3057\u307e\u3057\u305f\u3002\n\n\u3053\u306eKCS_KAI\u3068SigContrastFastAviUtl\u3067\u591a\u6570\u306e\u9ad8\u901f\u5316\u3092\u3084\u3063\u305f\u7d4c\u9a13\u306a\u3069\u3092\u30d9\u30fc\u30b9\u306b\u3001\u4eca\u65e5\u4e00\u822c\u7684\u306aPC\u306b\u304a\u3051\u308b\u9ad8\u901f\u5316\u306e\u6280\u6cd5\u3092\u66f8\u3044\u3066\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\u30fb\u30fb\u30fb\u524d\u7f6e\u304d\u9577\u3044\u306a\u3002\n\n\u307e\u305a\u306f\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u53ef\u8aad\u6027\u3092\u4e0a\u3052\u308b\n\u7701\u7565\u3057\u307e\u3059\u3002\u3084\u3063\u305f\u3053\u3068\u304c\u591a\u3059\u304e\u308b\u306e\u3067\u8a73\u7d30\u306fcommit log\u3067\u3082\u773a\u3081\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u304d\u3061\u3093\u3068\u6642\u9593\u8a08\u6e2c\u3092\u3057\u3066\u9ad8\u901f\u5316\u306e\u6226\u7565\u3092\u7df4\u308b\n\u60f3\u50cf\u3068\u63a8\u6e2c\u3067\u9ad8\u901f\u5316\u3092\u59cb\u3081\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\u3069\u3053\u304c\u30cd\u30c3\u30af\u306a\u306e\u304b\u3092\u8a8d\u8b58\u3057\u3066\u304b\u3089\u53d6\u308a\u7d44\u307f\u307e\u3057\u3087\u3046\u3002\n\u8a08\u6e2c\u306fIDE\u3084gprof\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3082\u3044\u3044\u3067\u3059\u3057\u3001\u81ea\u529b\u3067\u6642\u9593\u8a08\u6e2c\u30b3\u30fc\u30c9\u3092\u57cb\u3081\u8fbc\u3093\u3067\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u30d7\u30ed\u30d5\u30a1\u30a4\u30ea\u30f3\u30b0\u3092\u3059\u308b\u3068\u304d\u306f\u3001\u30db\u30c3\u30c8\u30b9\u30dd\u30c3\u30c8\u3067\u306a\u3044\u30eb\u30fc\u30c1\u30f3\u306e\u6700\u9069\u5316\u306f\u884c\u308f\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046\u3002\u52b4\u529b\u306b\u898b\u5408\u308f\u306a\u3044\u3067\u3059\u3057\u3001\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u57fa\u672c\u539f\u5247\u3067\u3042\u308b(\u3067\u3063\u3061\u4e0a\u3052)\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\u3000\u66f8\u304b\u306a\u3051\u308c\u3070\u3000\u30d0\u30b0\u3089\u306a\u3044\n\n\u306b\u53cd\u3057\u307e\u3059\u3002\n\u30db\u30c3\u30c8\u30b9\u30dd\u30c3\u30c8\u306e\u6700\u9069\u5316\u3092\u3059\u308b\u3068\u304d\u306b\u3001Functions With Most Indivisual Work\u306e\u89e3\u6790\u304c\u5f79\u306b\u7acb\u3063\u305f\u308a\u3057\u307e\u3059(\u5f8c\u8ff0\u3059\u308bstd::vector::push_back\u306eVS\u306e\u304a\u30d0\u30ab\u5b9f\u88c5\u306f\u30b3\u30ec\u306e\u304a\u9670\u3067\u898b\u3064\u304b\u3063\u305f)\u3002\n\u81ea\u529b\u3067\u6642\u9593\u8a08\u6e2c\u30b3\u30fc\u30c9\u3092\u57cb\u3081\u8fbc\u3093\u3067\u3084\u308b\u3068\u304d\u306f\u3001\u8a08\u6e2c\u306f\u8907\u6570\u56de\u884c\u3063\u3066\u3001\u51e6\u7406\u6642\u9593\u306e95%\u4fe1\u983c\u533a\u9593\u3092\u6c42\u3081\u3066\u305d\u308c\u304c\u30b3\u30fc\u30c9\u5909\u66f4\u306e\u524d\u5f8c\u3067\u91cd\u306a\u3089\u306a\u304f\u306a\u308b\u304b\u660e\u3089\u304b\u306b\u91cd\u306a\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u307e\u3067(10\u56de\u4ee5\u4e0a\u306f\u8a08\u6e2c\u3057\u305f\u3044)\u8a08\u6e2c\u3057\u307e\u3057\u3087\u3046\u3002\nExcel\u3068\u304b\u3067\u6570\u5f0f\u3046\u3064\u306e\u9762\u5012\u3060\u304b\u3089C++\u3067\u8a08\u7b97\u3059\u308b\uff01\u3068\u3044\u3046\u4eba\u306f\nhttps://github.com/yumetodo/SigContrastFastAviUtl/blob/master/SigColorFastAviUtl/time_logger.hpp\n\u3053\u3093\u306a\u611f\u3058\u306e\u30b3\u30fc\u30c9\u3067\u6c42\u3081\u3089\u308c\u307e\u3059\u3002\n_mm_div_ps\u306f\u9045\u3044\u304b\u3089_mm_rcp_ps\u3092\u30cb\u30e5\u30fc\u30c8\u30f3-\u30e9\u30d5\u30bd\u30f3\u6cd5\u3067\u9ad8\u7cbe\u5ea6\u5316\u3057\u3066\u4f7f\u304a\u3046\u307f\u305f\u3044\u306a\u8a18\u4e8b\u3092\u898b\u304b\u3051\u3066\n\u6953 software: \u9006\u6570\u306e\u9ad8\u7cbe\u5ea6\u5316\n\u5b9f\u88c5\u3057\u3066\u8a08\u6e2c\u3057\u305f\u3089\nhttps://github.com/yumetodo/SigContrastFastAviUtl/pull/9/commits/50fba5aa61324c2c6eb6e4b44ff815179ed26042\n1%(+-2.4% N=19)\u9045\u304f\u306a\u3063\u3066\u305f\u306a\u3093\u3066\u3053\u3068\u3082\u3042\u308a\u307e\u3057\u305f\u3002\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u3001\u5c0f\u3055\u3059\u304e\u308b\u7c92\u5ea6\u3067\u306e\u6642\u9593\u8a08\u6e2c\u306f\u3042\u307e\u308a\u610f\u5473\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u6700\u8fd1\u306eCPU\u306f\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3068\u8a00\u3063\u3066\u30011clock\u306b1\u547d\u4ee4\u306a\u3093\u3066\u306e\u3093\u3073\u308a\u3057\u305f\u3053\u3068\u306f\u3057\u306a\u3044\u3067\u3001\u958b\u3044\u3066\u3044\u308b\u6f14\u7b97\u6a5f\u3092\u7a3c\u50cd\u3055\u305b\u30661clock1\u547d\u4ee4\u4ee5\u4e0a\u5b9f\u884c\u3057\u3066\u3044\u308b\u3002\u51e6\u7406\u306b\u4f9d\u5b58\u6027\u304c\u5c11\u306a\u3044\u3068\u3053\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u304c\u3046\u307e\u304f\u52d5\u304f\u3002\u3068\u3044\u3046\u308f\u3051\u3067\u3042\u308b\u7a0b\u5ea6\u5927\u304d\u3081\u306e\u7c92\u5ea6\u3067\u8a08\u6e2c\u3057\u307e\u3057\u3087\u3046\u3002\n\n\u30e1\u30e2\u30ea\u5f8b\u901f\u306a\u3082\u306e\u306f\u3069\u3046\u3057\u3088\u3046\u3082\u306a\u3044\n\u7279\u306b\u6620\u50cf\u51e6\u7406\u306e\u5206\u91ce\u3067\u306f\u3001\u30e1\u30e2\u30ea\u5f8b\u901f\u306b\u60a9\u307e\u3055\u308c\u308b\u3053\u3068\u304c\u591a\u3044\u3067\u3059\u3002\u30e1\u30e2\u30ea\u5f8b\u901f\u306a\u3082\u306e\u306f\u591a\u304f\u306e\u5834\u5408\u9ad8\u901f\u5316\u3067\u304d\u306a\u3044\u306e\u3067\u3001DDR4\u7a4d\u3093\u3067\u308b\u30e1\u30e2\u30ea\u30fc\u3092\u4f7f\u3046\u3068\u304b\u3001\u30e1\u30e2\u30ea\u30fc\u8ee2\u9001\u5e2f\u57df\u306e\u5927\u304d\u3044\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u3092\u3064\u304b\u3046\u3068\u304b\u305d\u3046\u3044\u3046\u8a71\u306b\u306a\u308a\u307e\u3059\u3002\n\u305d\u308c\u3067\u3082\u3069\u3046\u306b\u304b\u3053\u3046\u306b\u304b\u9ad8\u901f\u5316\u3057\u3088\u3046\u3068\u596e\u95d8\u3057\u3066\u3044\u308b\u65b9\u3082\u3044\u308b\u306e\u3067\u3059\u304c\u3002\n\nrigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 2015\u5e74\u3092\u632f\u308a\u8fd4\u308b (\u30a8\u30f3\u30b3\u7de8)\nhttp://rigaya34589.blog135.fc2.com/blog-entry-715.html\n\u81ea\u52d5\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30d5\u30c8 (afs)\n\u4eca\u5e74\u306f\u81ea\u52d5\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30d5\u30c8\u3092\u901f\u304f\u3059\u308b\u30cd\u30bf\u3092\u601d\u3044\u3064\u3051\u306a\u304b\u3063\u305f\u3002\u8aa0\u306b\u907a\u61be\u3067\u3042\u308b\u3002\n\u307e\u3042\u3053\u308c\u307e\u3067\u3082\u7d50\u69cb\u901f\u304f\u3057\u305f\u306e\u3060\u3051\u3069\u300124p\u3078\u306e\u30a4\u30f3\u30bf\u30ec\u89e3\u9664\u306f\u3053\u308c\u3057\u304b\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001\u3082\u3063\u3068\u901f\u304f\u3057\u3066\u3044\u304d\u305f\u3044\u3002\u3068\u306f\u3044\u3063\u3066\u3082\u6f14\u7b97\u5f8b\u901f\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u304f\u30e1\u30e2\u30ea\u5f8b\u901f\u306a\u306e\u3067\u3001\u3067\u304d\u308b\u3053\u3068\u304c\u9650\u3089\u308c\u3066\u3044\u308b\u306e\u304c\u8f9b\u3044\u3002\nQSVEnc\nQSV\u306f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30a8\u30f3\u30b3\u30fc\u30c0\u306e\u4e2d\u3067\u3082\u9ad8\u901f\u3067\u3001\u753b\u8cea\u3082\u307e\u3042\u3001\u6bd4\u8f03\u7684\u3088\u3044\u307b\u3046\u3002\n\u4eca\u5e74\u306e\u5927\u534a\u306fQSVEncC\u306eavqsv\u5468\u308a\u3092\u3084\u3063\u3066\u3044\u305f\u6c17\u304c\u3059\u308b\u3002QSV\u3067\u30c7\u30b3\u30fc\u30c9\u2192Vpp\u2192\u30a8\u30f3\u30b3\u30fc\u30c9\u307e\u3067\u3092\u4e00\u8cab\u3057\u3066\u884c\u3046avqsv\u30e2\u30fc\u30c9\u306f\u3001QSV\u9ad8\u901f\u5316\u306e\u305f\u3081\u306b\u306f\u5fc5\u9808\u3067\u3042\u308a\u3001\u3084\u3063\u3068QSVEncC\u304c\u4ed6\u306eQSV\u30a8\u30f3\u30b3\u30fc\u30c0\u3068\u6bd4\u3079\u3066\u9045\u3044\u3068\u3044\u3046\u5606\u304b\u308f\u3057\u3044\u72b6\u614b\u3092\u89e3\u6c7a\u3067\u304d\u305f\u3068\u601d\u3046\u3002\u9ad8\u901f\u5316\u3068\u306f\u826f\u3044\u3082\u306e\u3060\u3002\u307e\u3042\u3001\u6700\u7d42\u7684\u306b\u306f\u30e1\u30e2\u30ea\u901f\u5ea6\u5f8b\u901f\u306a\u306e\u3060\u3051\u3069\u2026\u3002\n\n\u6620\u50cf\u51e6\u7406\u306fQSV\u3068\u304bNVEnc\u307f\u305f\u3044\u306a\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc/\u30c7\u30b3\u30fc\u30c0\u30fc\u306e\u767b\u5834\u3067\u3060\u3044\u3076\u524d\u9032\u3057\u305f\u611f\u3042\u308b\u3051\u3069\u7d50\u5c40\u306f\u30e1\u30e2\u30ea\u5f8b\u901f\u306b\u60a9\u307e\u3055\u308c\u308b\u3068\u3044\u3046\u3002\n\u6628\u5e74(2015\u5e74)\u30d0\u30ba\u3063\u305fwaifu2x\u306a\u3093\u304b\u306f\u30e1\u30e2\u30ea\u30fc\u5f8b\u901f\u306e\u6700\u305f\u308b\u4f8b\u3067\u3001\u305d\u308c\u3067\u3082\u30e1\u30e2\u30ea\u30fc\u914d\u7f6e\u3092\u4e88\u6e2c\u3057\u3066\u9811\u5f35\u3063\u305f\u308a\u3068\u596e\u95d8\u3057\u3066\u3044\u308b\u65b9\u3092\u305f\u304f\u3055\u3093\u898b\u304b\u3051\u307e\u3057\u305f\u306d\u3002\n\u6700\u5185\u30eb\u30fc\u30d7\u304b\u3089\u306f\u3058\u3081\u308b\u6df1\u5c64\u5b66\u7fd2(waifu2x\u306e\u9ad8\u901f\u5316)\nhttp://int.main.jp/txt/waifu2x.html\n\u79c1\u306e\u8133\u307f\u305d\u3067\u306f\u4e0a\u8a18\u30ea\u30f3\u30af\u5148\u306f\u3061\u3087\u3063\u3068\u7406\u89e3\u3057\u304d\u308c\u306a\u3044\u308f\u3051\u3067\u3059\u304c\u3002\n\n\u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u9069\u5207\u304b\u8abf\u3079\u308b\nhttps://github.com/MaverickTse/SigColorAviutl\n\u3068\nhttps://github.com/yumetodo/SigContrastFastAviUtl\n\u306e\u6700\u3082\u5927\u304d\u3044\u9055\u3044\u306f\u3001ImageMagick\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u304b\u5426\u304b\u3067\u3059\u3002\nImageMagick\u306f\u5185\u90e8\u3067\u95a2\u6570\u547c\u51fa\u3057\u3092\u4e00\u5ea6\u5185\u90e8\u3067\u30b3\u30de\u30f3\u30c9\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u3066\u305d\u308c\u3092\u518d\u5ea6\u30d1\u30fc\u30b9\u3057\u3066\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3092\u4ecb\u3057\u3066\u51e6\u7406\u3092\u3059\u308b\u3068\u304b\u3044\u3046\u3001\u982d\u306e\u304a\u304b\u3057\u3044\u3053\u3068\u3092\u3084\u3063\u3066\u3044\u3066\u3001\u305d\u306e\u7d50\u679c\nImageMagick\u3092\u4f7f\u3046=\u9045\u304f\u306a\u308b=ImageMagick\u3092\u4f7f\u3046\u8005\u306fC++er\u306b\u3042\u3089\u305a\n\u3068\u3044\u3046\u7b49\u5f0f\u304c\u6210\u7acb\u3059\u308b\u30ec\u30d9\u30eb\u3067\u9045\u3044\u3067\u3059\u3002\n\u9006\u306b\u9069\u5207\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u9078\u629e\u3059\u308c\u3070\u3001\u4e0b\u624b\u306b\u81ea\u5206\u3067\u66f8\u304f\u3088\u308a\u9ad8\u901f\u5316\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070OpenCV\u3060\u3068\u3061\u3083\u3093\u3068\u639b\u3051\u3070\u81ea\u52d5\u3067\u4e26\u5217\u5316\u3057\u305f\u308aGPU\u4f7f\u3063\u305f\u308a\u3067\u304d\u307e\u3059\u306d\u3002\n\n\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u898b\u76f4\u3057\n\u5f53\u305f\u308a\u524d\u3068\u3044\u3048\u3070\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\u3001\u3044\u304f\u3064\u304b\u3002\n\n\u30c6\u30fc\u30d6\u30eb\u5f15\u304d\nSigContrastFastAviUtl\u306e\u5834\u5408\u3001Sigmoid\u95a2\u6570\u3068\u3044\u3046\u51e6\u7406\u306e\u809d\u304c\u3042\u308a\u307e\u3059\u3002\nf(u)=\\frac{\\frac{1}{exp(s(m - u)) + 1} - \\frac{1}{exp(sm) + 1}}{\\frac{1}{exp(s(m - 1)) + 1} - \\frac{1}{exp(sm) + 1}}\n$${f(u)=\\frac{\\frac{1}{exp(s(m - u)) + 1} - \\frac{1}{exp(sm) + 1}}{\\frac{1}{exp(s(m - 1)) + 1} - \\frac{1}{exp(sm) + 1}}\n}$$\ns:strength m:midtone u:input\n\u898b\u308b\u304b\u3089\u306b\u91cd\u305d\u3046\u306a\u6570\u5f0f\u3067\u3059\u304c\u3001\u3053\u308c\u3092\u753b\u50cf\u306e\u753b\u7d20\u6570\u00d7\u6620\u50cf\u306eframe\u6570\u56de\u547c\u3073\u51fa\u3059\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3048\u3052\u3064\u306a\u3044\u8a08\u7b97\u91cf\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u3057\u304b\u3057SigContrastFastAviUtl\u306e\u5834\u5408\u3001s\u3068m\u306f\u5b9a\u6570\u6271\u3044\u3067\u304d\u3001u\u306f0-4096\u306e\u8a084097\u901a\u308a\u3057\u304b\u7121\u3044\u306e\u3067\u4e8b\u524d\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u3042\u3068\u3067\u305d\u308c\u3092\u53c2\u7167\u3059\u308btable\u5f15\u304d\u304c\u6709\u52b9\u3067\u3059\u3002\n\n\nint *pDst, *pTable, *pIndex;\nfor (int i = 0; i < 8; i++) {\n    pDst[i] = pTable[pIndex[i]];\n}\n\n\u306e\u3088\u3046\u306a\u4e8c\u91cd\u30c6\u30fc\u30d6\u30eb\u5f15\u304d\u3092\u3084\u3063\u3066\u304f\u308c\u308bvpgatherdd\u547d\u4ee4\u306a\u3093\u3066\u3082\u306e\u304cAVX2\u306b\u306f\u3042\u3063\u3066\u3001Intel Haswell\u3067\u5c0e\u5165\u3055\u308c\u3001Intel Broadwell\u4ee5\u964d(Skylake\u542b\u3080)\u3067\u306f\u9ad8\u901f\u306b\u52d5\u4f5c\u3059\u308b\u305d\u3046\u3067\u3059\u3002\n\nvpgatherdd\nint *pTable;\n__m256i yDst, yIndex;\nyDst = _mm256_i32gather_epi32(pTable, yIndex, 4);\n\n\n\u8a73\u7d30\u306f\nrigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 PMD_MT \u9ad8\u901f\u5316\u7248+5 gather\u306e\u901f\u5ea6\u3068\u304b\nhttp://rigaya34589.blog135.fc2.com/blog-entry-849.html\n\u3078\u3002\n\n\u305f\u3060\u3057\u3001SIMD\u5316\u3059\u308b\u3068\u304d\u306btable\u5f15\u304d\u3059\u308b\u3088\u308a\u611a\u76f4\u306bSIMD\u306e\u99ac\u529b\u3092\u6d3b\u304b\u3057\u3066\u3072\u305f\u3059\u3089\u8a08\u7b97\u3057\u305f\u307b\u3046\u304c\u901f\u3044\u3053\u3068\u3082\u3042\u308b\u3088\u3046\u306a\u306e\u3067\u90fd\u5ea6\u3069\u3061\u3089\u304c\u901f\u3044\u304b\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nrigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 PMD_MT \u9ad8\u901f\u5316\u7248\nhttp://rigaya34589.blog135.fc2.com/blog-entry-483.html\n\u3068\u3053\u308d\u304c\u3001\u9ad8\u901f\u5316\u306b\u3042\u305f\u3063\u3066\u5c0e\u5165\u3057\u305f\u3044SIMD\u6f14\u7b97\u306f\u30c6\u30fc\u30d6\u30eb\u53c2\u7167\u3068\u306f\u3042\u307e\u308a\u76f8\u6027\u304c\u826f\u304f\u306a\u3044\u3002\u305d\u3053\u3067\u4eca\u56de\u306eSIMD\u5316\u306b\u3088\u308b\u9ad8\u901f\u5316\u3067\u306f\u3001\u300cuseExp\u300d\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u30aa\u30d5\u306e\u6642\u306b\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u53c2\u7167\u3092\u3084\u3081\u3066\u3001\u611a\u76f4\u306b\u6d6e\u52d5\u5c0f\u6570\u70b9\u6f14\u7b97\u306b\u3088\u3063\u3066\u884c\u3046\u3088\u3046\u306b\u3057\u305f\u3002\u30c6\u30fc\u30d6\u30eb\u53c2\u7167\u3092\u3057\u3066\u6f14\u7b97\u91cf\u3092\u6e1b\u3089\u3059\u3088\u308a\u3082\u3001SIMD\u306e\u99ac\u529b\u3092\u6d3b\u304b\u3057\u3066\u3072\u305f\u3059\u3089\u8a08\u7b97\u3057\u305f\u307b\u3046\u304c\u901f\u3044\u307f\u305f\u3044\u3002(\u3068\u3044\u3046\u3088\u308a\u3001AVX\u3092\u4f7f\u3046\u3068\u6d6e\u52d5\u5c0f\u6570\u70b9\u6f14\u7b97\u3092\u4e00\u5ea6\u306b8\u6f14\u7b97\u3001FMA3\u3092\u4f7f\u3048\u3070\u4e00\u5ea6\u306b16\u6f14\u7b97\u3067\u304d\u308b\u306e\u3067\u3001\u3069\u3061\u3089\u304b\u3068\u3044\u3046\u3068FMA3\u3067\u30b4\u30ea\u62bc\u3057\u3067\u304d\u308b\u3053\u3068\u3092\u524d\u63d0\u306b\u4f5c\u3063\u3066\u308b\u2026)\n\n\n\u6ce8\u610f\u70b9\u3067\u3059\u304c\u3001\u30c6\u30fc\u30d6\u30eb\u5f15\u304d\u3059\u308b\u3068\u304d\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u53c2\u7167\u30b3\u30b9\u30c8\u306fO(1)\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\u3082\u3063\u3068\u3044\u3046\u3068\u3001\u30c6\u30fc\u30d6\u30eb\u5f15\u304d\u306bstd::map/std::unorderd_map\u3092\u4f7f\u3063\u3066\u306f\u3044\u3051\u307e\u305b\u3093\n\u9006\u95a2\u6570\u304b\u304f\u306e\u9762\u5012\u3060\u304b\u3089\u3068\u3044\u3063\u3066\u5143\u306e\u95a2\u6570\u3092\u6d41\u7528\u3057\u3066std::lower_bound\u3067\u8aa4\u9b54\u5316\u305d\u3046\u3068\u304b\u601d\u308f\u305a\u306b\u9811\u5f35\u3063\u3066\u306fO(1)\u306b\u3057\u307e\u3057\u3087\u3046\u3002\nhttps://github.com/yumetodo/SigContrastFastAviUtl/pull/9\n\n\u8a08\u7b97\u30aa\u30fc\u30c0\u30fc\u304c\u5168\u3066\u3067\u306f\u306a\u3044\n\u5f8c\u8ff0\u3059\u308b\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u3084\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u306e\u30b3\u30b9\u30c8\u306a\u3069\u304c\u539f\u56e0\u3067\u3001\u8a08\u7b97\u30aa\u30fc\u30c0\u30fc\u304c\u826f\u304f\u3066\u3082\u6700\u901f\u3067\u306f\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u306e\u3044\u3044\u4f8b\u304c\nC++\u3067\u52b9\u7387\u3088\u304f\u91cd\u8907\u306e\u306a\u3044\u4e71\u6570\u5217\u3092\u751f\u6210\u3059\u308b#\u7d50\u679c\n\u3053\u308c\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u5e73\u3089\u306a\u30b0\u30e9\u30d5\u306f\u8a08\u7b97\u30aa\u30fc\u30c0\u30fc\u7684\u306b\u512a\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3057\u307e\u3059\u304c\u3001\u6700\u901f\u3067\u306f\u306a\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u306e\u6539\u5584\n\u6620\u50cf\u51e6\u7406\u306a\u3093\u304b\u66f8\u3044\u3066\u3044\u308b\u3068\u3001\u3053\u306e\u8fba\u304c\u5927\u4e8b\u306b\u306a\u3063\u3066\u304d\u307e\u3059\u3002\n\u307e\u305a\nCPU\u306e\u6c17\u6301\u3061\u306b\u306a\u308c\u308b\u30c4\u30fc\u30eb\u4f5c\u3063\u305f - ( \ua4aa\u2313\ua4aa) \u3086\u308b\u3088\u308d\u65e5\u8a18\nhttp://yuroyoro.hatenablog.com/entry/2014/10/20/102416\nRemix: Latency Numbers Every Programmer Should Know(2014)\nhttp://yuroyoro.net/latency.html\n\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002CPU\u306e\u6b53\u58f0CPU\u304b\u3089\u898b\u305f\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u304c\u5b9f\u611f\u3067\u304d\u307e\u3059\u3002\n\u30e1\u30e2\u30ea\u30fc\u4ee5\u5916\u306bCPU\u306b\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u30c7\u30fc\u30bf\u304c\u4e57\u3063\u304b\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u3092\u3059\u308b\u3053\u3068\u304c\u5927\u4e8b\u3067\u3059\u3002\n\u3064\u307e\u308a\u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u306b(\u9023\u7d9a\u7684\u306b)\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u3057\u308d\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\u307e\u305f\u3001SIMD\u5316\u306b\u3088\u3063\u3066\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u56de\u6570\u3092\u6e1b\u3089\u3059\u3053\u3068\u3082\u52b9\u679c\u7684\u3067\u3059\u3002\n\nrigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 \u81ea\u52d5\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30d5\u30c8 \u9ad8\u901f\u5316\u7248+8\nhttp://rigaya34589.blog135.fc2.com/blog-entry-360.html\nafs\u306b\u306f\u3001\u30e1\u30e2\u30ea\u7a7a\u9593\u306b\u5bfe\u3057\u98db\u3073\u98db\u3073\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u90e8\u5206\u304c\u3042\u308b\u3002\u3053\u3046\u3044\u3063\u305f\u98db\u3073\u98db\u3073\u306e\u30a2\u30af\u30bb\u30b9\u306f\u3001\u975e\u5e38\u306b\u6642\u9593\u304c\u639b\u304b\u3063\u3066\u3057\u307e\u3046\u3002\n\u305d\u3082\u305d\u3082\u3001(\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u5165\u3063\u3066\u3044\u306a\u3044)\u30e1\u30e2\u30ea\u30a2\u30af\u30bb\u30b9\u3068\u3044\u3046\u306e\u306f\u3068\u3093\u3067\u3082\u306a\u304f\u9045\u3044\u3002\u30e1\u30e2\u30ea\u4e0a\u3092\u98db\u3073\u98db\u3073\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u3068\u7279\u306b\u3072\u3069\u3044\u3002\n\u3053\u308c\u306b\u5bfe\u3057\u3001\u30aa\u30ea\u30b8\u30ca\u30eb\u306eafs\u3067\u306f\u3001\n\nMMX\u306e\u4f7f\u7528\u306b\u3088\u308a\u300164bit\u307e\u3068\u3081\u3066\u51e6\u7406\n\u3000\u3000\u219264bit\u305a\u3064\u306e\u30a2\u30af\u30bb\u30b9\u306b\u306a\u308a\u3001\u30e1\u30e2\u30ea\u30a2\u30af\u30bb\u30b9\u306e\u56de\u6570\u81ea\u4f53\u304c\u6e1b\u308b\u3002\n\n\u306b\u3088\u308a\u9ad8\u901f\u5316\u3057\u3066\u3044\u305f\u3057\u3001\u3055\u3089\u306b\u3053\u308c\u307e\u3067\u306e\u9ad8\u901f\u5316\u7248\u3067\u306f\u3001\n\nSSE\u306e\u4f7f\u7528\u306b\u3088\u308a\u3001128bit\u305a\u3064\u51e6\u7406\nprefetch\u547d\u4ee4\u306e\u633f\u5165\u306b\u3088\u308a\u3001\u5fc5\u8981\u306b\u306a\u308b\u98db\u3073\u98db\u3073\u306e\u30e1\u30e2\u30ea\u306e\u65ad\u7247\u3092\u660e\u793a\u7684\u306b\u5148\u8aad\u307f\n\n\u3057\u3066\u9ad8\u901f\u5316\u3057\u3066\u3044\u305f\u3002prefetch\u547d\u4ee4\u306e\u633f\u5165\u306f\u975e\u5e38\u306b\u52b9\u679c\u304c\u5927\u304d\u304b\u3063\u305f(\u9ad8\u901f\u5316\u306e1/3\u3050\u3089\u3044\u306fprefetch\u547d\u4ee4\u306e\u304a\u304b\u3052\u3060\u3063\u305f)\u3002\n\u3057\u304b\u3057\u3001\u3044\u304f\u3089\u5148\u8aad\u307f\u3057\u3066\u3044\u308b\u3068\u306f\u3044\u3063\u3066\u3082\u3001\u7169\u96d1\u306a\u98db\u3073\u98db\u3073\u306e\u30a2\u30af\u30bb\u30b9\u3092\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u306f\u5909\u308f\u308a\u306a\u304f\u3001\u6839\u672c\u7684\u306a\u89e3\u6c7a\u306b\u306f\u306a\u3063\u3066\u3044\u306a\u3044\u3002\n\u4eca\u56de\u306e\u9ad8\u901f\u5316\u7248\u3067\u306f\u3001\u306a\u308b\u3079\u304f\u9023\u7d9a\u7684\u306a\u30e1\u30e2\u30ea\u30a2\u30af\u30bb\u30b9\u3092\u3059\u308b\u3088\u3046\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5909\u66f4\u3057\u305f\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001\n\nprefetch\u547d\u4ee4\u4e0d\u8981\n\u52b9\u7387\u7684\u306a\u30e1\u30e2\u30ea\u30a2\u30af\u30bb\u30b9\n\n\u3068\u306a\u308a\u3001\u3055\u3089\u306b\u9ad8\u901f\u5316\u3067\u304d\u305f\u3002\n\n\n\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u3068\u3044\u3048\u3070C++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306bflat_map\u304c\u63d0\u6848\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u306d\n\u672c\u306e\u866b: C++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306e\u6587\u66f8: P0421R0-P0429R0\nhttps://cpplover.blogspot.jp/2016/11/c-p0421r0-p0429r0.html\n\n[PDF] P0429R0: A Standard flat_map\nflat_map\u3068\u5f93\u6765\u306emap\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\u304c\u3042\u308b\u304c\u3001\u8981\u7d20\u306e\u633f\u5165\u3068\u524a\u9664\u306f\u3068\u3066\u3082\u9045\u304f\u3001\u30a4\u30c6\u30ec\u30fc\u30c8\u306f\u3068\u3066\u3082\u901f\u304f\u3001\u691c\u7d22\u306fmap\u3088\u308a\u901f\u3044\u304cunordered_map\u3088\u308a\u306f\u9045\u3044\u7d50\u679c\u3068\u306a\u3063\u3066\u3044\u308b\u3002\u305d\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u304b\u3089\u8003\u3048\u3066\u4e88\u60f3\u901a\u308a\u306e\u7279\u6027\u3060\u3002\n\u307e\u305f\u3001\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u304c\u5c11\u306a\u3044\u3002\u3053\u308c\u306f\u5f53\u7136\u306e\u8a71\u3067\u3001map\u3092\u7d20\u76f4\u306b\u5b9f\u88c5\u3059\u308b\u306b\u306f\u5de6\u53f3\u306e\u8449\u30ce\u30fc\u30c9\u3068\u89aa\u30ce\u30fc\u30c9\u3078\u306e3\u500b\u306e\u30dd\u30a4\u30f3\u30bf\u30fc\u3092\u6301\u3064\u30ce\u30fc\u30c9\u306b\u3088\u308b\u30d0\u30a4\u30ca\u30ea\u30c4\u30ea\u30fc\u306b\u306a\u308b\u4e0a\u306b\u3001\u30e1\u30e2\u30ea\u78ba\u4fdd\u3092\u30ce\u30fc\u30c9\u5358\u4f4d\u3067\u884c\u3046\u305f\u3081\u306b\u30e1\u30e2\u30ea\u7ba1\u7406\u306e\u305f\u3081\u306e\u30e1\u30e2\u30ea\u3082\u5fc5\u8981\u306b\u306a\u308b\u3002\u307e\u305f\u3001\u9023\u7d9a\u3057\u305f\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306b\u78ba\u4fdd\u3055\u308c\u308b\u305f\u3081\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5c40\u6240\u6027\u304c\u6700\u9ad8\u3060\u3002\n\n\n\u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u30a2\u30af\u30bb\u30b9\u3068\u3044\u3048\u3070\u4eca\u5e74\u306eNHK\u6280\u7814\u306e\u516c\u958b\u3067\u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u30a2\u30af\u30bb\u30b9\u3057\u304b\u3067\u304d\u306a\u3044\u8d85\u9ad8\u901f\u306bRead/Write\u3067\u304d\u308b\u8a18\u61b6\u5a92\u4f53\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u305f\u306a\u3041\u30fb\u30fb\u30fb\u3002\u8a73\u7d30\u304c\u601d\u3044\u51fa\u305b\u306a\u3044\u3051\u3069\u3001\u6620\u50cf\u306e\u9ad8\u7cbe\u7d30\u5316\u306b\u4f34\u3046\u30e1\u30e2\u30ea\u30fc\u901f\u5ea6\u8981\u6c42\u306b\u5bfe\u3059\u308b\u4e00\u6b21\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u306e\u5229\u7528\u3092\u63d0\u6848\u3057\u3066\u3044\u305f\u3063\u3051\u304b\u3002\n\n\u3055\u3089\u306b\u8a73\u3057\u3044\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u306e\u8a71\u306f\n[PDF\u6ce8\u610f]\u7b2c9\u56de\u3000\u9ad8\u901f\u5316\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u3068\u305d\u306e\u95a2\u9023\u6280\u8853\uff12 | \u6e21\u8fba\u5b99\u5fd7\n\u306b\u8a73\u3057\u304f\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u53c2\u7167\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\nOpenMP\u3058\u3083\u306a\u304f\u3066C++11\u306eThread\u3092\n\u3064\u307e\u308a\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u5316\u3067\u3059\u306d\u3002\u30eb\u30fc\u30d7\u9593\u306e\u4f5c\u696d\u306b\u4f9d\u5b58\u6027\u304c\u7121\u3044\u3068\u304d\u306f\u3068\u308a\u3042\u3048\u305a\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u5316\u3059\u308b\u306e\u304c\u5e38\u9053\u3060\u3068\u601d\u3044\u307e\u3059\u3002\nKCS_KAI\u3067\u306f\u6700\u521d\u306b\u6570\u500b\u306e\u30b9\u30ec\u30c3\u30c9\u3092\u4f5c\u308b\u3060\u3051\u306a\u306e\u3067\u3042\u307e\u308a\u95a2\u4fc2\u3042\u308a\u307e\u305b\u3093\u304c\u3001SigContrastFastAviUtl\u306e\u3088\u3046\u306b\u6620\u50cf\u51e6\u7406\u306a\u3093\u304b\u3067\u753b\u50cf\u4e00\u679a\u4e00\u679a\u5358\u4f4d\u3067\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u5316\u3059\u308b\u5834\u5408\u306f\u30b9\u30ec\u30c3\u30c9\u751f\u6210\u306e\u30b3\u30b9\u30c8\u304c\u7121\u8996\u3067\u304d\u306a\u3044\u306e\u3067\u3001OpenMP\u306f\u907f\u3051\u305f\u307b\u3046\u304c\u826f\u3044\u3067\u3059\u3002\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u5927\u304d\u3044\u306e\u3067\u3002OpenMP\u306f\u30e9\u30f3\u30bf\u30a4\u30e0\u3092static link\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u554f\u984c\u3082\u3042\u308a\u307e\u3059\u3002\n\u4ed6\u306e\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u5316\u306e\u9078\u629e\u80a2\u3068\u3057\u3066\u306f\n\n\nVS\u306eAuto-Parallelizer\u2192\u81ea\u52d5\u5909\u6570\u9818\u57df\u306e\u78ba\u4fdd\u304c\u4fe1\u3058\u3089\u308c\u306a\u3044\u307b\u3069\u9045\u3044\npthread\u2192\u81ea\u529b\u3067\u53e9\u304d\u305f\u304f\u306a\u3044\nWin32API\u2192\u81ea\u529b\u3067\u53e9\u304d\u305f\u304f\u306a\u3044\nIntel TBB\nVisual C++\u306b\u4ed8\u5c5e\u3059\u308bPPL\n\n\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u305b\u3063\u304b\u304fC++11\u3067std::thread\u5165\u3063\u305f\u306e\u3067\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\u30b9\u30ec\u30c3\u30c9\u751f\u6210\u30b3\u30b9\u30c8\u306fVS\u306eAuto-Parallelizer\u3068\u540c\u3058\u304b\u8aa4\u5dee\u30ec\u30d9\u30eb\u3067std::thread\u304c\u901f\u304b\u3063\u305f\u3067\u3059\u3002\n\u3068\u306f\u3044\u3048\u30b9\u30ec\u30c3\u30c9\u751f\u6210\u3068\u304b\u30bf\u30b9\u30af\u5206\u5272\u3068\u304b\u3092\u81ea\u5206\u3067\u66f8\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3067\nhttps://github.com/yumetodo/SigContrastFastAviUtl/blob/master/SigColorFastAviUtl/thread.hpp\n\u3053\u3093\u306a\u98a8\u306b\u9069\u5f53\u306b\u30e9\u30c3\u30d7\u3057\u307e\u3057\u305f\u3002\nC++17\u3067\u306falgorithm\u30d8\u30c3\u30c0\u30fc\u3068\u304b\u306b\u3042\u308b\u95a2\u6570\u304c\u5f15\u6570\u4e00\u3064\u5897\u3084\u3059\u3060\u3051\u3067\u4e26\u5217\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u306e\u3067\u65e9\u304f\u4f7f\u3044\u305f\u3044\u3067\u3059\u306d\u3002\u4f8b\u5916\u5468\u308a\u3082exception_list\u304c\u3042\u308b\u306e\u3067\u3088\u308a\u6c17\u8efd\u306b\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002\n\u8ffd\u8a18:exception_list\u306f\u6b7b\u3093\u3060\u305d\u3046\u3067\u3059\u3002\u305d\u3046\u3044\u3084\u672c\u306e\u866b\u306b\u305d\u3093\u306a\u8a71\u304c\u51fa\u3066\u305f\u306a\u3001\u5fd8\u308c\u3066\u305f\u3002\n\n\u672c\u306e\u866b: C++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306e\u6587\u66f8: P0390R0-P0399R0\nhttps://cpplover.blogspot.jp/2016/09/c-p0390r0-p0399r0.html\nP0394R4: Hotel Parallelifornia: terminate() for Parallel Algorithms Exception Handling\n\u4e26\u5217\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u6e21\u3057\u305f\u8981\u7d20\u30a2\u30af\u30bb\u30b9\u95a2\u6570\u304c\u4f8b\u5916\u3092\u6295\u3052\u305f\u6642\u306f\u3001\u6295\u3052\u3089\u308c\u305f\u8907\u6570\u306e\u4f8b\u5916\u304cstd::exception_list\u306b\u683c\u7d0d\u3055\u308c\u3066\u8fd4\u3055\u308c\u308b\u3068\u3044\u3046\u4ed5\u69d8\u306b\u306a\u3063\u3066\u3044\u308b\u3002\u3057\u304b\u3057\u3001\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\u304cpar_unseq\u306e\u6642\u3060\u3051\u306fstd::terminate()\u3092\u547c\u3073\u51fa\u3059\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u4e00\u8cab\u6027\u304c\u306a\u3044\u3002\n\u3053\u308c\u3092\u8003\u3048\u308b\u306b\u3001\u4e00\u5f8bstd::terminate()\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u7d71\u4e00\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3002\u305d\u306e\u307b\u3046\u304c\u751f\u6210\u3055\u308c\u308b\u30b3\u30fc\u30c9\u3082\u7c21\u5358\u306b\u306a\u308b\u3057\u3001exception_list\u306b\u6301\u3061\u4e0a\u304c\u3063\u3066\u3044\u308b\u6570\u3005\u306e\u554f\u984c\u3078\u306e\u5bfe\u51e6\u3082\u4e0d\u8981\u306b\u306a\u308b\u3002\n\u3068\u3044\u3046\u5909\u66f4\u3092\u3059\u308b\u63d0\u6848\u3002\n\n\nstd::vector\u306freserve\u3057\u3066\u4f7f\u3046\n\u7279\u306bVisual Studio\u306e\u4ed8\u9332\u306estd::vector::push_back\u306e\u5b9f\u88c5\u306f\u8150\u3063\u3066\u3044\u3066\u3001std::vector::push_back\u3092\u547c\u3073\u51fa\u3059\u305f\u3073\u306b\u3001\u73fe\u5728\u306e\u9818\u57df\u306e\u5927\u304d\u3055+1\u306e\u30e1\u30e2\u30ea\u30fc\u3092\u78ba\u4fdd\u3057\u3066\u8981\u7d20\u3092\u3059\u3079\u3066copy/move\u3059\u308b\u3001\u3068\u3044\u3046\u306e\u306b\u8fd1\u3044\u72b6\u6cc1\u304c\u767a\u751f\u3057\u307e\u3059\u3002\n\n\n1.5\u500d\u30b2\u30fc\u30e0\u3067\u306e\u5b9f\u88c5\u306e\u3088\u3046\u3067\u3059\u3002reserve\u3057\u3066\u4f7f\u3046\u3079\u3057\u3001\u3068\u3044\u3046\u7d50\u8ad6\u306b\u5909\u308f\u308a\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3002\n\ncf.) https://github.com/YSRKEN/KanColleSimulator_KAI/issues/64#issuecomment-196514956\n\u4eca\u65e5\u306e\u4e00\u822c\u7684\u306aPC\u306f\u6f64\u6ca2\u306b\u30e1\u30e2\u30ea\u30fc\u304c\u3042\u308b\u306e\u3067\u3001\u3069\u3093\u3076\u308a\u52d8\u5b9a\u3067\u5927\u304d\u3081\u306e\u9818\u57df\u3092reserve\u3057\u3066\u304a\u304f\u304b\u3001push_back\u306e\u3068\u304d\u306b\nvector</* some type */> re;\n#ifdef _MSC_VER\nif (v.capacity() < v.size() + 1) v.reserve((std::numeric_limits<size_t>::max() / 2 < v.size()) ? std::numeric_limits<size_t>::max() : v.size() * 2);\n#endif\nv.push_back(/* someting */);\n\n\u306e\u3088\u3046\u306b\u5f37\u5236\u7684\u306b\u500d\u3005\u30b2\u30fc\u30e0\u3092\u3059\u308b\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3057\u3087\u3046\u3002\n\u3061\u306a\u307f\u306bGCC\u3084Clang\u306f\u500d\u3005\u30b2\u30fc\u30e0\u3092\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u3092\u6e1b\u3089\u3059\n\u307f\u3093\u306astd::vector\u304c\u4fbf\u5229\u3059\u304e\u3066\u4f7f\u3044\u3059\u304e\u3066\u307e\u305b\u3093\u304b\uff1f\n\u5b9f\u969b\u9069\u5f53\u306b\u66f8\u3044\u3066\u3082\u52d5\u304f\u3057\u305d\u3053\u305d\u3053\u901f\u3044\u306e\u3067\u79c1\u3082\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u9ad8\u901f\u5316\u306e\u3068\u304d\u306f\u305d\u308c\u3092\u898b\u76f4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u305d\u3082\u305d\u3082\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u81ea\u4f53\u304c\u7121\u8336\u82e6\u8336\u91cd\u3044\u306e\u3067\u9ad8\u901f\u5316\u306e\u969b\u306f\u305d\u308c\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u5927\u4e8b\u3067\u3059\n\u5177\u4f53\u7684\u306b\u306f\u3001\u8981\u7d20\u6570\u304c\u56fa\u5b9a\u304b\u3001\u53ef\u5909\u3060\u3051\u3069\u3082\u6700\u5927\u6570\u304c\u6c7a\u307e\u3063\u3066\u3044\u308b\u3082\u306e\u306f\u3059\u3079\u3066std::array\u3067\u66f8\u304d\u63db\u3048\u308b\u3079\u304d\u3067\u3059\u3002\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/blob/a50a2e4dda7fdf11ca192ab4506d96cdfe51f161/KCS_CUI/source/fleet.cpp#L429\n// \u751f\u5b58\u8266\u304b\u3089\u8266\u5a18\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u6307\u5b9a\u3059\u308b(\u822a\u7a7a\u6226\u7528)\ntuple<bool, size_t> Fleet::RandomKammusu() const {\n    //\u751f\u5b58\u8266\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\n    std::array<size_t, kMaxUnitSize> alived_list;\n    size_t alived_list_size = 0;\n    for (size_t ui = 0; ui < this->GetUnit().front().size(); ++ui) {\n        if (this->GetUnit().front()[ui].Status() != kStatusLost) {\n            alived_list[alived_list_size] = ui;\n            ++alived_list_size;\n        }\n    }\n    if (alived_list_size == 0) return tuple<bool, size_t>(false, 0);\n    return tuple<bool, size_t>(true, SharedRand::select_random_in_range(alived_list, alived_list_size));\n}\n\n\u3053\u306e\u3088\u3046\u306bstd::array::size()\u306fcapacity\u3068\u3057\u3066\u6271\u3044\u3001\u5225\u306bsize\u3092\u7ba1\u7406\u3059\u308b\u5909\u6570\u3092\u4f5c\u308a\u307e\u3059\u3002\nstd::vector\u304b\u3089std::array\u3078\u306e\u7f6e\u304d\u63db\u3048\u306f\u304b\u306a\u308a\u5f37\u529b\u3067\u3001KCS_KAI\u306b\u65bd\u3057\u305f\u9ad8\u901f\u5316\u306e1/3\u304f\u3089\u3044\u306f\u5360\u3081\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u305f\u3060\u3001\u5225\u306b\u5909\u6570\u4f5c\u308b\u306e\u306f\u3064\u3089\u307f\u304c\u3042\u308b\u306e\u3067\u3001@bolero_MURAKAMI\u6c0f\u306b\u554f\u3044\u5408\u308f\u305b\u305f\u3068\u3053\u308d\n\nhttp://ask.fm/bolero_MURAKAMI/answers/137022673016\n\nsprout\u306bcapacity\u56fa\u5b9a\u3001size\u304c0\u304b\u3089capacity\u306e\u9593\u3067\u53ef\u5909\u306e\u914d\u5217\u30af\u30e9\u30b9\u306f\u3042\u308b\u304b\n\nvalarray \u3068 sub_array>\n\n\u3068\u306e\u56de\u7b54\u304c\u6765\u307e\u3057\u305f\u304c\u3001\u4eca\u306e\u3068\u3053\u308d\u79c1\u306b\u306f\u3053\u306e\u30af\u30e9\u30b9\u306e\u4f7f\u3044\u65b9\u304c\u308f\u304b\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\n\u306a\u306b\u3082\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u306fstd::vector\u3060\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u5f53\u7136\u305d\u306e\u4ed6\u306e\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u3082\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\nhttp://rigaya34589.blog135.fc2.com/blog-entry-483.html\n\u307b\u304b\u306b\u3082\u6bce\u30d5\u30ec\u30fc\u30e0\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066\u7834\u68c4\u3057\u3066\u3044\u305f\u306e\u3092\u3084\u3081\u3001\u4e00\u5ea6\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u3092\u4f7f\u3044\u307e\u308f\u3059\u3053\u3068\u3067\u3061\u3087\u3063\u3068\u9ad8\u901f\u5316\u3057\u305f\u3002(\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd\u306f\u3068\u306b\u304b\u304f\u9045\u3044\u305f\u3081\u3001\u6bce\u30d5\u30ec\u30fc\u30e0\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u2192\u958b\u653e\u3057\u305f\u308a\u3059\u308b\u3068\u91cd\u304f\u306a\u308b)\n\n\u4e00\u5ea6\u78ba\u4fdd\u3057\u305f\u9818\u57df\u306f\u306a\u308b\u3079\u304f\u4f7f\u3044\u307e\u308f\u3057\u307e\u3057\u3087\u3046(\u521d\u671f\u5316\u30d0\u30b0\u306b\u6ce8\u610f)\u3002\n\nstd::basic_string::opeartor==\u306b\u6ce8\u610f\u305b\u3088\n\u307e\u305f\u3057\u3066\u3082Visual Studio\u306e\u8a71\u3067\u3059\u304c\u3001\u3061\u3087\u3063\u3068\u3053\u3053\u3067Visual Studio 2017 RC\u306e\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\nVisual Studio 2017 \u30ea\u30ea\u30fc\u30b9 \u30ce\u30fc\u30c8#C++ \u30e9\u30a4\u30d6\u30e9\u30ea\n\n\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u5411\u4e0a: basic_string::operator== \u306f\u3001\u6587\u5b57\u5217\u306e\u5185\u5bb9\u3092\u6bd4\u8f03\u3059\u308b\u524d\u306b\u6587\u5b57\u5217\u306e\u30b5\u30a4\u30ba\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\n\u306a\u3093\u3060\u3063\u3066\uff01\uff1f\u4eca\u307e\u3067\u6587\u5b57\u5217\u6bd4\u8f03\u306f\u9577\u3055\u3092\u898b\u3066\u3044\u306a\u304b\u3063\u305f\u306e\uff01\uff1f\n\n\u307e\u3042\u304a\u99ac\u9e7f\u306aVS\u306e\u8a71\u306f\u3055\u3066\u304a\u304d\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u6587\u5b57\u5217\u306e\u30cf\u30c3\u30b7\u30e5\u3092\u8a08\u7b97\u3057\u3066\u304a\u3044\u3066\u305d\u308c\u3092\u6bd4\u8f03\u3057\u305f\u308a\u3001enum class\u306b\u5909\u63db\u3057\u3066\u304a\u304f\u307b\u3046\u304c\u9ad8\u901f\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\nconstexpr\u306f\u5e02\u6c11\u306e\u7fa9\u52d9\u3067\u3059\nC++\u898f\u683c\u3078\u306e\u6e96\u62e0\u304c\u9045\u3044Visual Studio\u3067\u3082C++11constexpr\u304cVisual Studio 2015 Update 2 \u304b\u3089\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001C++ Builder(not clang_based version)\u3068\u304b\u3044\u3046\u7cde\u3092\u7121\u8996\u3059\u308c\u3070\u3001\u6211\u3005\u306fconstexpr\u3092\u4f7f\u3048\u308b\u3068\u3044\u3046\u4eba\u6a29\u3092\u5f97\u307e\u3057\u305f\u3002\n\u3082\u3061\u308d\u3093C++11constexpr\u306f\u76f8\u5f53\u5236\u7d04\u304c\u304d\u3064\u304f\u3001\u3072\u305f\u3059\u30893\u9805\u6f14\u7b97\u5b50\u3068\u518d\u5e30\u3068\u622f\u308c\u308b\u4e16\u754c\u3067\u3059\u304c\u3001\u305d\u308c\u3067\u3082\u3044\u308d\u3044\u308d\u3067\u304d\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u3059\u3002\n\n\u30d7\u30ea\u30d7\u30ed\u30bb\u30b9\u6642\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f+\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u51e6\u7406\u2192\u30b3\u30f3\u30d1\u30a4\u30eb\u6642DB\u69cb\u7bc9\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/pull/46\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/pull/57\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/pull/62\n\u3067\u305d\u3093\u306a\u3053\u3068\u3092\u3084\u308b\u30b3\u30fc\u30c9\u3092@sayurin\u6c0f\u304c\u5b9f\u88c5\u3057\u305f\u306e\u3067\u8981\u7d04\u3057\u3066\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\u6750\u6599\n\n\u7d30\u5de5\u3057\u305fcsv\u30d5\u30a1\u30a4\u30eb\n#include\nconstexpr\nstd::integral_const\nUDLs\n\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u30de\u30af\u30ed\u95a2\u6570\u5c11\u3005\n\n\u307e\u305a\n\u8266\u8239ID,\u8266\u540d,\u8266\u7a2e,\u8010\u4e45,\u88c5\u7532,\u706b\u529b,\u96f7\u6483,\u5bfe\u7a7a,\u904b,\u901f\u529b,\u5c04\u7a0b,\u30b9\u30ed\u30c3\u30c8\u6570,\u642d\u8f09\u6570,\u56de\u907f,\u5bfe\u6f5c,\u7d22\u6575,\u521d\u671f\u88c5\u5099,\u8266\u5a18\u30d5\u30e9\u30b0\n1,\u7766\u6708,2,13/24,5/18,6/29,18/59,7/29,12/49,10,1,2,0/0/0/0/0,37/79,16/39,4/17,1/37/-1/-1/-1,1\n2,\u5982\u6708,2,13/24,5/18,6/29,18/49,7/29,10/49,10,1,2,0/0/0/0/0,37/69,16/39,4/17,1/-1/-1/-1/-1,1\n6,\u9577\u6708,2,13/24,5/18,6/29,18/49,7/29,15/69,10,1,2,0/0/0/0/0,37/69,16/39,4/17,1/-1/-1/-1/-1,1\n7,\u4e09\u65e5\u6708,2,13/24,5/18,6/29,18/49,7/29,10/49,10,1,2,0/0/0/0/0,37/69,16/39,4/17,1/-1/-1/-1/-1,1\n9,\u5439\u96ea,2,15/29,5/19,10/29,27/79,10/39,17/49,10,1,2,0/0/0/0/0,40/89,20/49,5/19,2/13/-1/-1/-1,1\n10,\u767d\u96ea,2,15/29,5/19,10/29,27/69,10/39,10/49,10,1,2,0/0/0/0/0,40/79,20/49,5/19,2/-1/-1/-1/-1,1\n\n\u3053\u3093\u306a\u611f\u3058\u306ecsv\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\n\nships.csv\n\n//PREFIX,\u8266\u8239ID,\u8266\u540d,\u8266\u7a2e,\u8010\u4e45,\u88c5\u7532,\u706b\u529b,\u96f7\u6483,\u5bfe\u7a7a,\u904b,\u901f\u529b,\u5c04\u7a0b,\u30b9\u30ed\u30c3\u30c8\u6570,\u642d\u8f09\u6570,\u56de\u907f,\u5bfe\u6f5c,\u7d22\u6575,\u521d\u671f\u88c5\u5099,\u8266\u5a18\u30d5\u30e9\u30b0,POSTFIX\nSHIP(,1,\"\u7766\u6708\",2,13.24,5.18,6.29,18.59,7.29,12.49,10,1,2,0.0.0.0.0,37.79,16.39,4.17,1.37.-1.-1.-1,1,)\nSHIP(,2,\"\u5982\u6708\",2,13.24,5.18,6.29,18.49,7.29,10.49,10,1,2,0.0.0.0.0,37.69,16.39,4.17,1.-1.-1.-1.-1,1,)\nSHIP(,6,\"\u9577\u6708\",2,13.24,5.18,6.29,18.49,7.29,15.69,10,1,2,0.0.0.0.0,37.69,16.39,4.17,1.-1.-1.-1.-1,1,)\nSHIP(,7,\"\u4e09\u65e5\u6708\",2,13.24,5.18,6.29,18.49,7.29,10.49,10,1,2,0.0.0.0.0,37.69,16.39,4.17,1.-1.-1.-1.-1,1,)\nSHIP(,9,\"\u5439\u96ea\",2,15.29,5.19,10.29,27.79,10.39,17.49,10,1,2,0.0.0.0.0,40.89,20.49,5.19,2.13.-1.-1.-1,1,)\nSHIP(,10,\"\u767d\u96ea\",2,15.29,5.19,10.29,27.69,10.39,10.49,10,1,2,0.0.0.0.0,40.79,20.49,5.19,2.-1.-1.-1.-1,1,)\n\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u7d30\u5de5\u3057\u307e\u3059\u3002\n\u3053\u306e\u5909\u63db\u306f\u3082\u3061\u308d\u3093\u81ea\u52d5\u5316\u3067\u304d\u307e\u3059\u3002\n(Feat)generate csv for cpp by yumetodo \u00b7 Pull Request #174 \u00b7 YSRKEN/KanColleSimulator_KAI\n\u8a66\u3057\u306bpowershell\u3068bash script\u3067\u81ea\u52d5\u5316\u3057\u307e\u3057\u305f\n\u6b21\u306b\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/blob/master/KCS_CUI/source/kammusu.hpp\nenum class ShipId {\n#define SHIP(PREFIX, ID, NAME, SHIPCLASS, MAX_HP, DEFENSE, ATTACK, TORPEDO, ANTI_AIR, LUCK, SPEED, RANGE, SLOTS, MAX_AIRS, EVADE, ANTI_SUB, SEARCH, FIRST_WEAPONS, KAMMUSU_FLG, POSTFIX)    \\\n    I ## D ## ID = ID,\n#include \"ships.csv\"\n#undef SHIP\n};\n\nSHIP\u3068\u3044\u3046\u95a2\u6570\u30de\u30af\u30ed\u3092\u4f5c\u3063\u3066\u3001\u5909\u63db\u3057\u3066\u3044\u308b\u3093\u3067\u3059\u306d\u3002\u540c\u69d8\u306b\u3057\u3066\nenum class ShipClass {\n    PT  = 0x00000001,   // \u9b5a\u96f7\u8247\n    DD  = 0x00000002,   // \u99c6\u9010\u8266\n    CL  = 0x00000004,   // \u8efd\u5de1\u6d0b\u8266\n    CLT = 0x00000008,   // \u91cd\u96f7\u88c5\u5de1\u6d0b\u8266\n    CA  = 0x00000010,   // \u91cd\u5de1\u6d0b\u8266\n    CAV = 0x00000020,   // \u822a\u7a7a\u5de1\u6d0b\u8266\n    CVL = 0x00000040,   // \u8efd\u7a7a\u6bcd\n    CC  = 0x00000080,   // \u5de1\u6d0b\u6226\u8266\n    BB  = 0x00000100,   // \u6226\u8266\n    BBV = 0x00000200,   // \u822a\u7a7a\u6226\u8266\n    CV  = 0x00000400,   // \u6b63\u898f\u7a7a\u6bcd\n    AF  = 0x00000800,   // \u9678\u4e0a\u578b\n    SS  = 0x00001000,   // \u6f5c\u6c34\u8266\n    SSV = 0x00002000,   // \u6f5c\u6c34\u7a7a\u6bcd\n    LST = 0x00004000,   // \u8f38\u9001\u8266\n    AV  = 0x00008000,   // \u6c34\u4e0a\u6a5f\u6bcd\u8266\n    LHA = 0x00010000,   // \u63da\u9678\u8266\n    ACV = 0x00020000,   // \u88c5\u7532\u7a7a\u6bcd\n    AR  = 0x00040000,   // \u5de5\u4f5c\u8266\n    AS  = 0x00080000,   // \u6f5c\u6c34\u6bcd\u8266\n    CP  = 0x00100000,   // \u7df4\u7fd2\u5de1\u6d0b\u8266\n    AO  = 0x00200000,   // \u7d66\u6cb9\u8266\n};\nnamespace detail {\n    constexpr std::pair<cstring<wchar_t>, ShipId> shipIdMap[] = {\n#define SHIP(PREFIX, ID, NAME, SHIPCLASS, MAX_HP, DEFENSE, ATTACK, TORPEDO, ANTI_AIR, LUCK, SPEED, RANGE, SLOTS, MAX_AIRS, EVADE, ANTI_SUB, SEARCH, FIRST_WEAPONS, KAMMUSU_FLG, POSTFIX)    \\\n        { L##NAME, ShipId::I##D##ID },\n#include \"ships.csv\"\n#undef SHIP\n    };\n    constexpr std::pair<cstring<wchar_t>, ShipClass> shipClassMap[] = {\n        { L\"\u9b5a\u96f7\u8247\", ShipClass::PT },\n        { L\"\u99c6\u9010\u8266\", ShipClass::DD },\n        { L\"\u8efd\u5de1\u6d0b\u8266\", ShipClass::CL },\n        { L\"\u91cd\u96f7\u88c5\u5de1\u6d0b\u8266\", ShipClass::CLT },\n        { L\"\u91cd\u5de1\u6d0b\u8266\", ShipClass::CA },\n        { L\"\u822a\u7a7a\u5de1\u6d0b\u8266\", ShipClass::CAV },\n        { L\"\u8efd\u7a7a\u6bcd\", ShipClass::CVL },\n        { L\"\u5de1\u6d0b\u6226\u8266\", ShipClass::CC },\n        { L\"\u6226\u8266\", ShipClass::BB },\n        { L\"\u822a\u7a7a\u6226\u8266\", ShipClass::BBV },\n        { L\"\u6b63\u898f\u7a7a\u6bcd\", ShipClass::CV },\n        { L\"\u9678\u4e0a\u578b\", ShipClass::AF },\n        { L\"\u6f5c\u6c34\u8266\", ShipClass::SS },\n        { L\"\u6f5c\u6c34\u7a7a\u6bcd\", ShipClass::SSV },\n        { L\"\u8f38\u9001\u8266\", ShipClass::LST },\n        { L\"\u6c34\u4e0a\u6a5f\u6bcd\u8266\", ShipClass::AV },\n        { L\"\u63da\u9678\u8266\", ShipClass::LHA },\n        { L\"\u88c5\u7532\u7a7a\u6bcd\",ShipClass::ACV },\n        { L\"\u5de5\u4f5c\u8266\", ShipClass::AR },\n        { L\"\u6f5c\u6c34\u6bcd\u8266\", ShipClass::AS },\n        { L\"\u7df4\u7fd2\u5de1\u6d0b\u8266\", ShipClass::CP },\n        { L\"\u7d66\u6cb9\u8266\", ShipClass::AO },\n    };\n}\n\ncstring\u306f\u5909\u66f4\u64cd\u4f5c\u304c\u3067\u304d\u306a\u3044\u30b3\u30f3\u30d1\u30a4\u30eb\u6587\u5b57\u5217\u30af\u30e9\u30b9\u3068\u601d\u3063\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/blob/master/KCS_CUI/source/cstring.hpp\n\u305d\u3046\u3057\u305f\u3089\n// \u6587\u5b57\u5217\u304b\u3089\u8266\u8239ID\u3078\u5909\u63db\u3057\u307e\u3059\u3002\n#define SID(STR) (std::integral_constant<ShipId, Single(detail::shipIdMap, L##STR##_cs)>{}())\n// \u6587\u5b57\u5217\u304b\u3089\u8266\u7a2e\u3078\u5909\u63db\u3057\u307e\u3059\u3002\n#define SC(STR) (std::integral_constant<ShipClass, Single(detail::shipClassMap, L##STR##_cs)>{}())\n\n\u3053\u3093\u306a\u30de\u30af\u30ed\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002_cs\u306fcstring\u3092\u4f5c\u308bUDLs\u3067\u3001Single\u306f\u5206\u5272\u7d71\u6cbb\u6cd5\u3092\u4f7f\u3063\u3066\u7b2c1\u5f15\u6570\u306b\u4e0e\u3048\u3089\u308c\u305f\u914d\u5217\u304b\u3089\u7b2c2\u5f15\u6570\u306e\u6587\u5b57\u5217\u306b\u5bfe\u5fdc\u3059\u308b\u5024\u3092\u53d6\u3063\u3066\u304f\u308bconstexpr\u95a2\u6570\u3067\u3059\u3002\nstd::integral_constant\u3092\u565b\u307e\u305b\u3066\u3044\u308b\u7406\u7531\u3067\u3059\u304c\u3001\u3053\u3046\u3057\u306a\u3044\u3067\u4f8b\u3048\u3070\u3053\u308c\u81ea\u4f53\u3082UDLs\u306b\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u8a55\u4fa1\u3057\u3066\u304f\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u5f37\u5236\u7684\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306bSingle\u95a2\u6570\u3092\u8d70\u3089\u305b\u308b\u305f\u3081\u306btemplate\u5b9f\u5f15\u6570\u3067\u547c\u3073\u51fa\u3059\u305f\u3081\u3067\u3059\u3002\u3067\u3001\u6bce\u56destd::integral_constant\u3068\u66f8\u304f\u306e\u306f\u8f9b\u3044\u306e\u3067\u30de\u30af\u30ed\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001\u4f8b\u3048\u3070SID(\"\u4e94\u5341\u9234\u6539\u4e8c\")\u3068\u3059\u308b\u3053\u3068\u3067enum class\u3067\u3042\u308bShipId\u578b\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u5909\u63db\u3067\u304d\u305f\u308a\u3001SC(\"\u6226\u8266\")\u3068\u3059\u308b\u3053\u3068\u3067enum class\u3067\u3042\u308bShipClass\u578b\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u5909\u63db\u3067\u304d\u305f\u308a\u3057\u307e\u3059\u3002\n\u6b8b\u5ff5\u306a\u304c\u3089KCS_KAI\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306bDB\u691c\u7d22\u307e\u3067\u306f\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u5b9f\u88c5\u306f\u53ef\u80fd\u3060\u3068\u601d\u3044\u307e\u3059(\u5c06\u6765\u5b9f\u88c5\u3057\u305f\u3044)\u3002\n\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306bDB\u691c\u7d22\u307e\u3067\u306f\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u306e\u3001\u6587\u5b57\u5217\u3067\u306estd::unorderd_map\u691c\u7d22\u3088\u308a\u9065\u304b\u306b\u9ad8\u901f\u5316\u3067\u304d\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u3064\u3044\u3067\u306b\u52d5\u7684\u78ba\u4fdd\u3092\u6e1b\u3089\u305b\u3066\u3044\u308b\u306e\u3067\u3055\u3089\u306a\u308b\u9ad8\u901f\u5316\u306b\u5bc4\u4e0e\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u6761\u4ef6\u5206\u5c90\u4e88\u6e2c\u3092\u6210\u529f\u3055\u305b\u308b\n\u5fa1\u5b58\u77e5\u306e\u901a\u308a\u3001CPU\u306f\u6761\u4ef6\u5206\u5c90\u4e88\u6e2c\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u8a73\u3057\u3044\u4ed5\u7d44\u307f\u306fCPU\u5c4b\u306e\u8155\u306e\u898b\u305b\u6240\u3067\u3059\u3057\u3059\u3067\u306b\u305f\u304f\u3055\u3093\u89e3\u8aac\u304c\u3042\u308b\u306e\u3067\u3070\u3063\u3055\u308a\u30ab\u30c3\u30c8\u3057\u3066\u3001\u554f\u984c\u306f\u6761\u4ef6\u5206\u5c90\u4e88\u6e2c\u306b\u5931\u6557\u3057\u305f\u3068\u304d\u306e\u30b3\u30b9\u30c8\u304c\u5927\u304d\u3044\u3053\u3068\u3067\u3059\u3002\n\u3068\u306f\u3044\u3048\u666e\u901a\u306f\u305d\u3093\u306a\u30b3\u30b9\u30c8\u306f\u57cb\u3082\u308c\u3066\u898b\u3048\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u51e6\u7406\u5185\u5bb9\u306b\u3088\u3063\u3066\u306f\u91cd\u8981\u306a\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\u6761\u4ef6\u5206\u5c90\u4e88\u6e2c\u304c\u3046\u307e\u304f\u3044\u304f\u3068\u3001\n\u66f0\u8a18 | 12\u670814\u65e5(\u6c34) Hiroshi Watanabe Home Page\n\u306e\u3088\u3046\u306b\u3001SIMD\u5316\u3059\u308b\u3088\u308a\u901f\u304f\u306a\u308b\u3053\u3068\u304c\u3042\u308b\u3088\u3046\u3067\u3059(\u30c7\u30fc\u30bf\u306e\u4f9d\u5b58\u6027\u304c\u95a2\u4fc2\u3059\u308b)\n\n\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u30d2\u30f3\u30c8\u3092\u4e0e\u3048\u308b\nGCC/Clang\u306b\u306f__builtin_expect\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\n\n./linux/include/linux/compiler.h\n#define likely(x)   __builtin_expect(!!(x), 1)\n#define unlikely(x) __builtin_expect(!!(x), 0)\n\n\n\u306e\u3088\u3046\u306b\u3057\u3066\nif(unlikely(0 != errno)) goto fail;\n\n\u307f\u305f\u3044\u306b\u4f7f\u3044\u307e\u3059\u3002Linux\u30ab\u30fc\u30cd\u30eb\u3067\u306f\u3088\u304f\u4f7f\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u3053\u308c\u3092C++\u306eattribute\u3068\u3057\u3066\n\nP0479\nif([[unlikely]] 0 != errno) goto fail;\n\n\n\u8ffd\u52a0\u3059\u308b\u63d0\u6848\u304cC++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306b\u4e0a\u304c\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\n\u672c\u306e\u866b: C++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306e\u6587\u66f8: P0471R0-P0479R0\nhttps://cpplover.blogspot.jp/2016/11/c-p0471r0-p0479r0.html\nP0479R0: Attributes for Likely and Unlikely Branches\n\u6761\u4ef6\u5206\u5c90\u306e\u5206\u5c90\u304c\u5b9f\u884c\u3055\u308c\u308b\u983b\u5ea6\u3092\u30d2\u30f3\u30c8\u3068\u3057\u3066\u4e0e\u3048\u308b\u5c5e\u6027\u3001[[likely]]\u3068[[unlikely]]\u306e\u63d0\u6848\u3002\n\n\nProfile Guided Optimization\n\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u6761\u4ef6\u5206\u5c90\u3092\u4e88\u6e2c\u3067\u304d\u306a\u3044\u306a\u3089\u3001\u4e00\u5ea6\u5b9f\u884c\u3057\u3066\u307f\u3066\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u3068\u308c\u3070\u3044\u3044\u3058\u3083\u306a\u3044\u3001\u3068\u3044\u3046\u306e\u304cPGO\u30d3\u30eb\u30c9\u3067\u3059\u3002\u4ed6\u306b\u3082\u95a2\u6570\u3092inline\u5c55\u958b\u3057\u305f\u308a\u3057\u307e\u3059\u3002\nGCC\u3067\u306f-fprofile-generate\u3092\u3064\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u4e00\u5ea6\u5b9f\u884c\u3057\u3001\u4eca\u5ea6\u306f-fprofile-use\u3092\u3064\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308c\u3070\u3044\u3044\u3088\u3046\u3067\u3059\u3002\nVisual Studio\u3067\u3082Community\u7248\u3067PGO\u30d3\u30eb\u30c9\u3067\u304d\u307e\u3059\u3002\n\n\u30d5\u30ea\u30fc\u30bd\u30d5\u30c8\u306e\u65c5\uff08windows\uff09\u3000 \u7121\u610f\u5473\u3060\u3068\u3057\u3066\u3082\u79c1\u306fPGO\u30d3\u30eb\u30c9\u3092\u3059\u308b\nrigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 x265 \u30d3\u30eb\u30c9 \uff5e Visual Studio PGO\u30d3\u30eb\u30c9\n\n\u307e\u3042\u305d\u3053\u307e\u3067\u624b\u9593\u3082\u304b\u304b\u3089\u306a\u3044\u306e\u3067\u3084\u3063\u3066\u640d\u306f\u3057\u306a\u3044\u304b\u306a\u3041\u30fb\u30fb\u30fb\u3002\n\n\u6761\u4ef6\u5206\u5c90\u3092bit\u6f14\u7b97\u306b\u3057\u3066\u6d88\u3059\n\u5206\u5c90\u4e88\u6e2c\u3092\u6210\u529f\u3055\u305b\u308b\u624b\u6bb5\u3092\u66f8\u304d\u307e\u3057\u305f\u304c\u3001\u5206\u5c90\u304c\u307b\u307c\u540c\u78ba\u7387\u306a\u6642\u306f\u3069\u3046\u306b\u3082\u306a\u308a\u307e\u305b\u3093\u3002\n\u305d\u3053\u3067\u6d3b\u8e8d\u3059\u308b\u3053\u3068\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u306e\u304cbit\u6f14\u7b97\u3067\u3059\u3002bit\u6f14\u7b97\u306fSIMD\u3068\u306e\u76f8\u6027\u3082\u826f\u3044\u306e\u3067\u3001\u6761\u4ef6\u5206\u5c90\u304c\u30cd\u30c3\u30af\u306a\u5834\u5408\u306f\u5207\u308a\u672d\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u30d3\u30c3\u30c8\u6f14\u7b97\u306b\u3064\u3044\u3066\u306f\u30ac\u30c1\u52e2?\u306e\u65b9\u305f\u3061\u304c\n\u30d3\u30c3\u30c8\u6f14\u7b97\u30c6\u30af\u30cb\u30c3\u30af Advent Calendar 2016 - Adventar\nhttp://www.adventar.org/calendars/1403\n\u8a18\u4e8b\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u5148\u7a0b\u304b\u3089\u4f55\u56de\u304b\u540d\u524d\u304c\u51fa\u3066\u304d\u305f @YSRKEN \u3055\u3093\u304c\u958b\u767a\u4e2d\u306e\u9023\u73e0\u306e\u89e3\u6cd5\u63a2\u7d22\u30bd\u30d5\u30c8Shioi\u3067\u306f\u73fe\u5728\u5224\u5b9a\u306e\u591a\u304f\u3092SIMD\u5316\u3057\u305fbit\u6f14\u7b97\u3067\u884c\u3046\u3068\u3044\u3046\u66b4\u6319\u5feb\u6319\u306b\u51fa\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\nYSRKEN/Shioi at add_iona\nhttps://github.com/YSRKEN/Shioi/tree/add_iona\n\u3053\u308c\u306e\u89e3\u8aac\u8a18\u4e8b\u304c\nYSR\u7814\u7a76\u6240 |\u9023\u73e0\u3092\u30d3\u30c3\u30c8\u30dc\u30fc\u30c9\u3067\u8868\u73fe\u3057\u3066\u307f\u308b\u3010\u30d3\u30c3\u30c8\u6f14\u7b97\u30c6\u30af\u30cb\u30c3\u30af Advent Calendar 2016 6\u65e5\u76ee\u3011\nhttp://ysrken.blog.fc2.com/blog-entry-86.html\n\u30d3\u30c3\u30c8\u30dc\u30fc\u30c9\u306e\u51c4\u3055\u3092\u3056\u3063\u304f\u308a\u3068\u89e3\u8aac\u3057\u3066\u307f\u308b\nhttp://qiita.com/YSRKEN/items/29829c7f5beae7900f36\n\u672c\u4eba\u304c\u57f7\u7b46\u3057\u3066\u3044\u3089\u3063\u3057\u3083\u308b\u306e\u3067\u8aad\u3093\u3067\u307f\u308b\u3068\u9762\u767d\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u307e\u3068\u3081\n\n\u6c17\u5206\u3067\u9ad8\u901f\u5316\u3057\u306a\u3044\u3001\u304d\u3061\u3093\u3068\u8a08\u6e2c\u3057\u3066\u6226\u7565\u3092\u7df4\u3063\u3066\u304b\u3089\n\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u9078\u629e\u306f\u8a08\u7b97\u30aa\u30fc\u30c0\u30fc\u3070\u3063\u304b\u308a\u3058\u3083\u306a\u304f\u3066\u3001\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u56de\u6570\u3084\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u306e\u3053\u3068\u3082\u8003\u3048\u3088\u3046\n\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u306f\u3068\u306b\u304b\u304f\u91cd\u3044\u304b\u3089\u6d88\u3057\u98db\u3070\u305b\u3001std::array\u5f37\u3044\n\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u3067\u304d\u308b\u3053\u3068\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\n\n\n\u7d42\u308f\u308a\u306b\n\u3061\u3087\u3063\u3068\u6765\u9031\u306eAdC\u306e\u6e96\u5099\u306b\u624b\u9593\u53d6\u3063\u3066\u305f\u3089\u3053\u306e\u8a18\u4e8b\u66f8\u304f\u306e\u9045\u308c\u307e\u3057\u305f\u3059\u307f\u307e\u305b\u3093\u3002\u3082\u3046\u5c11\u3057\u7d75\u3092\u3044\u308c\u3066\u8aac\u660e\u3057\u305f\u304b\u3063\u305f\u3051\u3069\u6587\u5b57\u3070\u3063\u304b\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\n\nC++Advent Calendar 2016\n\u660e\u65e5\u306fFuyutsubaki\u3055\u3093\u304c\u306a\u3093\u304b\u66f8\u304f\u305d\u3046\u3067\u3059\u3002\u4f55\u3092\u66f8\u304f\u3093\u3067\u3057\u3087\u3046\u304b\u306d\u3047\u30fb\u30fb\u30fb(\u9707\u3048)\u3002\u30de\u30af\u30ed\u304b\u3089\u306eC++17\u3067\u8ffd\u52a0\u3055\u308c\u305f\u69cb\u9020\u5316\u675f\u7e1b\u306e\u6d3b\u7528\u4f8b\u3067\u3057\u305f\u3002\n<< 7\u65e5\u76ee | C++\u5f62\u5f0f\u306e\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u66f8\u304d\u65b9(gcc\u7de8) || 9\u65e5\u76ee | \u6700\u8fd1\u66f8\u3044\u305f\u30de\u30af\u30ed\uff08\u69cb\u9020\u4f53\u3092tuple\u306b\u5909\u63db\u3057\u305f\u3044\uff09 - TXT.TXT/\u305d\u308c\u3067\u3082\u69cb\u9020\u4f53\u3092tuple\u306b\u5909\u63db\u3057\u305f\u3044 - TXT.TXT >>\n# C++Advent Calendar 2016\n\u3053\u306e\u8a18\u4e8b\u306f[C++Advent Calendar 2016](http://www.adventar.org/calendars/1527) 8\u65e5\u76ee\u306e\u8a18\u4e8b\u3067\u3059\n[<< 7\u65e5\u76ee | C++\u5f62\u5f0f\u306e\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u66f8\u304d\u65b9(gcc\u7de8)](http://qiita.com/Chironian/items/3fb61cffa2a20dbee5c2) || 9\u65e5\u76ee | [\u6700\u8fd1\u66f8\u3044\u305f\u30de\u30af\u30ed\uff08\u69cb\u9020\u4f53\u3092tuple\u306b\u5909\u63db\u3057\u305f\u3044\uff09 - TXT.TXT](http://txt-txt.hateblo.jp/entry/2016/12/09/225148)/[\u305d\u308c\u3067\u3082\u69cb\u9020\u4f53\u3092tuple\u306b\u5909\u63db\u3057\u305f\u3044 - TXT.TXT](http://txt-txt.hateblo.jp/entry/2016/12/09/225641) >>\n\n\u4eca\u5e74\u306f3\u65e5\u76ee\u306b\u3057\u3066[\u30b3\u30f3\u30d1\u30a4\u30eb\u6642C\u30b3\u30f3\u30d1\u30a4\u30e9](http://kw-udon.hatenablog.com/entry/2016/12/03/201722)\u3068\u304b\u3044\u3046C++\u306e\u4f5c\u8005\u3067\u3042\u308bBjarne Stroustrup\u306b\u307e\u3067\u8a00\u53ca\u3055\u308c\u308b\u306b\u81f3\u3063\u305f\u3001\u982d\u306e\u304a\u304b\u3057\u3044\u8a18\u4e8b\u304c\u51fa\u3066\u3001\u5f37\u3055\u3057\u304b\u7121\u3044\u3067\u3059\u306d\uff01\n\n# \u306f\u3058\u3081\u306b\n\u7686\u69d8\u3001[\u30ca\u30de\u30b9\u30c6](http://www.nicovideo.jp/watch/sm25261912)\u3002\n\n\u4e16\u306e\u4e2d\u3067\u306f\u3001Visual Studio2017 RC\u304c\u3067\u3066\u3001MS\u304c[\u6765\u5e74\u306b\u306ftwo-phase lookup\u3092\u5b9f\u88c5\u3059\u308b](https://blogs.msdn.microsoft.com/vcblog/2016/11/16/permissive-switch/)\u3068\u3044\u3046\u30cb\u30e5\u30fc\u30b9\u304c\u99c6\u3051\u5de1\u3063\u305f\u308a\u3001C++ Builder 10.1 Berlin\u304c\u3067\u3066Clang\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u308a(\u305f\u3060\u3057\u53e4\u3044)\u3001C++17\u306e\u5185\u5bb9\u304c\u3044\u308d\u3044\u308d\u898b\u3048\u3066\u304d\u305f\u308a\u3001\u307e\u305f\u3057\u3066\u3082[``char8_t``\u578b\u304creject\u3055\u308c\u305f\u308a](https://botondballo.wordpress.com/2016/11/25/trip-report-c-standards-meeting-in-issaquah-november-2016/)\u3057\u307e\u3057\u305f\u304c\u3001\n\u305d\u308c\u306b\u3064\u3044\u3066\u306f\u8ab0\u304b\u304c\u66f8\u3044\u3066\u304f\u308c\u308b\u6c17\u304c\u3059\u308b\u306e\u3067\u79c1\u306f\u30b9\u30eb\u30fc\u3057\u3066\u3001\u3082\u3046\u5c11\u3057\u5c0f\u3055\u306a\u30cd\u30bf\u3092\u66f8\u3044\u3066\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u306a\u3093\u304bC++Advent Calendar\u306e\u30ec\u30d9\u30eb\u304c\u3084\u305f\u3089\u3068\u9ad8\u3044\u306e\u3067\u7686\u3055\u3093\u306b\u306f\u5e38\u8b58\u306a\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c~~\u305d\u308c\u3092\u8a00\u3063\u305f\u3089\u30cd\u30bf\u304c\u306a\u3044~~\n\n---\n\n\u591a\u5206\u8aad\u8005\u306e\u65b9\u306f\u300c\u8266\u3053\u308c\u300d\u306b\u3064\u3044\u3066\u540d\u524d\u304f\u3089\u3044\u306f\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b\u3068\u601d\u3044\u307e\u3059\u3002\nhttp://www.dmm.com/netgame/feature/kancolle.html\n\n>[\u8266\u968a\u3053\u308c\u304f\u3057\u3087\u3093 -\u8266\u3053\u308c- - Wikipedia](https://ja.wikipedia.org/wiki/%E8%89%A6%E9%9A%8A%E3%81%93%E3%82%8C%E3%81%8F%E3%81%97%E3%82%87%E3%82%93_-%E8%89%A6%E3%81%93%E3%82%8C-)\n>\u300e\u8266\u968a\u3053\u308c\u304f\u3057\u3087\u3093 -\u8266\u3053\u308c-\u300f\uff08\u304b\u3093\u305f\u3044\u3053\u308c\u304f\u3057\u3087\u3093 \u304b\u3093\u3053\u308c\uff09\u306f\u3001\u89d2\u5ddd\u30b2\u30fc\u30e0\u30b9\u304c\u958b\u767a\u3057DMM.com\u304c\u30d6\u30e9\u30a6\u30b6\u30b2\u30fc\u30e0\u3068\u3057\u3066\u914d\u4fe1\u3057\u3066\u3044\u308b\u80b2\u6210\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30b2\u30fc\u30e0\u304a\u3088\u3073\u3001\u305d\u306e\u30e1\u30c7\u30a3\u30a2\u30df\u30c3\u30af\u30b9\u4f5c\u54c1\u7fa4\u3002\u30b2\u30fc\u30e0\u5185\u5bb9\u306f\u3001\u7b2c\u4e8c\u6b21\u4e16\u754c\u5927\u6226\u6642\u306e\u5927\u65e5\u672c\u5e1d\u56fd\u6d77\u8ecd\u306e\u8ecd\u8266\u3092\u4e2d\u5fc3\u3068\u3057\u305f\u8266\u8247\u3092\u5973\u6027\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306b\u64ec\u4eba\u5316\u3057\u305f\u300c\u8266\u5a18\uff08\u304b\u3093\u3080\u3059\uff09\u300d\u3092\u30b2\u30fc\u30e0\u4e2d\u3067\u96c6\u3081\u3001\u5f37\u5316\u3057\u306a\u304c\u3089\u6575\u3068\u6226\u95d8\u3057\u52dd\u5229\u3092\u76ee\u6307\u3059\u3068\u3044\u3046\u3082\u306e\u3067\u3042\u308b\u30022013\u5e744\u670823\u65e5\u306b\u30d6\u30e9\u30a6\u30b6\u7248\u306e\u30b5\u30fc\u30d3\u30b9\u3092\u958b\u59cb\u3057\u305f\n\n\u3067\u3001@YSRKEN \u3055\u3093\u3092\u30e1\u30a4\u30f3\u958b\u767a\u8005\u3001 [@sayurin](https://github.com/sayurin)\u3055\u3093\u3068\u79c1\u304c\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0&\u9ad8\u901f\u5316\u62c5\u5f53\u3092\u3057\u3066\u3001\u8266\u3053\u308c\u306e\u6226\u95d8\u3092\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3059\u308b\u30bd\u30d5\u30c8\u3092\u4f5c\u3063\u3066\u3044\u307e\u3059\u3002\nhttps://github.com/YSRKEN/KanColleSimulator_KAI\n\u4ee5\u4e0b[KCS_KAI](https://twitter.com/search?f=tweets&vertical=default&q=%23KCS_KAI&src=typd)\u3068\u7565\u3057\u307e\u3059\u3002\n\n---\n\n\u305d\u308c\u304b\u3089\u3082\u3046\u4e00\u3064\u3001SigContrastFastAviUtl\u3068\u3044\u3046\nhttps://github.com/yumetodo/SigContrastFastAviUtl\n\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8\u3092Sigmoid\u95a2\u6570\u306b\u3082\u3068\u3065\u3044\u3066\u5909\u66f4\u3059\u308b(\u30de\u30cd\u30fc)\u30d5\u30ea\u30fc\u306a\u52d5\u753b\u7de8\u96c6\u30bd\u30d5\u30c8AviUtl\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\nhttps://github.com/MaverickTse/SigColorAviutl\n\u3092\u9ad8\u901f\u5316\u3057\u305f\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u958b\u767a\u3057\u305f\u306e\u3067\u3059\u304c\u3001[@MaverickTse](https://github.com/MaverickTse)\u3055\u3093\u306e\u30b3\u30fc\u30c9\u3092\u30d9\u30fc\u30b9\u306b\u5927\u898f\u6a21\u306a\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3068\u9ad8\u901f\u5316\u3092\u3057\u307e\u3057\u305f\u3002\n\n---\n\n\u3053\u306eKCS_KAI\u3068SigContrastFastAviUtl\u3067\u591a\u6570\u306e\u9ad8\u901f\u5316\u3092\u3084\u3063\u305f\u7d4c\u9a13\u306a\u3069\u3092\u30d9\u30fc\u30b9\u306b\u3001\u4eca\u65e5\u4e00\u822c\u7684\u306aPC\u306b\u304a\u3051\u308b\u9ad8\u901f\u5316\u306e\u6280\u6cd5\u3092\u66f8\u3044\u3066\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30fb\u30fb\u30fb\u524d\u7f6e\u304d\u9577\u3044\u306a\u3002\n\n# \u307e\u305a\u306f\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3057\u3066\u53ef\u8aad\u6027\u3092\u4e0a\u3052\u308b\n\n\u7701\u7565\u3057\u307e\u3059\u3002\u3084\u3063\u305f\u3053\u3068\u304c\u591a\u3059\u304e\u308b\u306e\u3067\u8a73\u7d30\u306fcommit log\u3067\u3082\u773a\u3081\u3066\u304f\u3060\u3055\u3044\u3002\n\n# \u304d\u3061\u3093\u3068\u6642\u9593\u8a08\u6e2c\u3092\u3057\u3066\u9ad8\u901f\u5316\u306e\u6226\u7565\u3092\u7df4\u308b\n\n\u60f3\u50cf\u3068\u63a8\u6e2c\u3067\u9ad8\u901f\u5316\u3092\u59cb\u3081\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002\u3069\u3053\u304c\u30cd\u30c3\u30af\u306a\u306e\u304b\u3092\u8a8d\u8b58\u3057\u3066\u304b\u3089\u53d6\u308a\u7d44\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u8a08\u6e2c\u306fIDE\u3084gprof\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30ea\u30f3\u30b0\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3082\u3044\u3044\u3067\u3059\u3057\u3001\u81ea\u529b\u3067\u6642\u9593\u8a08\u6e2c\u30b3\u30fc\u30c9\u3092\u57cb\u3081\u8fbc\u3093\u3067\u3082\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30d7\u30ed\u30d5\u30a1\u30a4\u30ea\u30f3\u30b0\u3092\u3059\u308b\u3068\u304d\u306f\u3001**\u30db\u30c3\u30c8\u30b9\u30dd\u30c3\u30c8\u3067\u306a\u3044\u30eb\u30fc\u30c1\u30f3\u306e\u6700\u9069\u5316\u306f\u884c\u308f\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3057\u3087\u3046**\u3002\u52b4\u529b\u306b\u898b\u5408\u308f\u306a\u3044\u3067\u3059\u3057\u3001\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u57fa\u672c\u539f\u5247\u3067\u3042\u308b(\u3067\u3063\u3061\u4e0a\u3052)\n\n>\u30d7\u30ed\u30b0\u30e9\u30e0\u3000\u66f8\u304b\u306a\u3051\u308c\u3070\u3000\u30d0\u30b0\u3089\u306a\u3044\n\n\u306b\u53cd\u3057\u307e\u3059\u3002\n\n\u30db\u30c3\u30c8\u30b9\u30dd\u30c3\u30c8\u306e\u6700\u9069\u5316\u3092\u3059\u308b\u3068\u304d\u306b\u3001Functions With Most Indivisual Work\u306e\u89e3\u6790\u304c\u5f79\u306b\u7acb\u3063\u305f\u308a\u3057\u307e\u3059(\u5f8c\u8ff0\u3059\u308b``std::vector::push_back``\u306eVS\u306e\u304a\u30d0\u30ab\u5b9f\u88c5\u306f\u30b3\u30ec\u306e\u304a\u9670\u3067\u898b\u3064\u304b\u3063\u305f)\u3002\n\n\u81ea\u529b\u3067\u6642\u9593\u8a08\u6e2c\u30b3\u30fc\u30c9\u3092\u57cb\u3081\u8fbc\u3093\u3067\u3084\u308b\u3068\u304d\u306f\u3001**\u8a08\u6e2c\u306f\u8907\u6570\u56de\u884c\u3063\u3066\u3001\u51e6\u7406\u6642\u9593\u306e95%\u4fe1\u983c\u533a\u9593\u3092\u6c42\u3081\u3066\u305d\u308c\u304c\u30b3\u30fc\u30c9\u5909\u66f4\u306e\u524d\u5f8c\u3067\u91cd\u306a\u3089\u306a\u304f\u306a\u308b\u304b\u660e\u3089\u304b\u306b\u91cd\u306a\u308b\u3053\u3068\u304c\u308f\u304b\u308b\u307e\u3067**(10\u56de\u4ee5\u4e0a\u306f\u8a08\u6e2c\u3057\u305f\u3044)\u8a08\u6e2c\u3057\u307e\u3057\u3087\u3046\u3002\n\nExcel\u3068\u304b\u3067\u6570\u5f0f\u3046\u3064\u306e\u9762\u5012\u3060\u304b\u3089C++\u3067\u8a08\u7b97\u3059\u308b\uff01\u3068\u3044\u3046\u4eba\u306f\nhttps://github.com/yumetodo/SigContrastFastAviUtl/blob/master/SigColorFastAviUtl/time_logger.hpp\n\u3053\u3093\u306a\u611f\u3058\u306e\u30b3\u30fc\u30c9\u3067\u6c42\u3081\u3089\u308c\u307e\u3059\u3002\n\n``_mm_div_ps``\u306f\u9045\u3044\u304b\u3089``_mm_rcp_ps``\u3092\u30cb\u30e5\u30fc\u30c8\u30f3-\u30e9\u30d5\u30bd\u30f3\u6cd5\u3067\u9ad8\u7cbe\u5ea6\u5316\u3057\u3066\u4f7f\u304a\u3046\u307f\u305f\u3044\u306a\u8a18\u4e8b\u3092\u898b\u304b\u3051\u3066\n[\u6953 software: \u9006\u6570\u306e\u9ad8\u7cbe\u5ea6\u5316](http://www.kaede-software.com/2008/02/post_513.html)\n\u5b9f\u88c5\u3057\u3066\u8a08\u6e2c\u3057\u305f\u3089\nhttps://github.com/yumetodo/SigContrastFastAviUtl/pull/9/commits/50fba5aa61324c2c6eb6e4b44ff815179ed26042\n1%(+-2.4% N=19)\u9045\u304f\u306a\u3063\u3066\u305f\u306a\u3093\u3066\u3053\u3068\u3082\u3042\u308a\u307e\u3057\u305f\u3002\n\n\u6ce8\u610f\u70b9\u3068\u3057\u3066\u3001\u5c0f\u3055\u3059\u304e\u308b\u7c92\u5ea6\u3067\u306e\u6642\u9593\u8a08\u6e2c\u306f\u3042\u307e\u308a\u610f\u5473\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u6700\u8fd1\u306eCPU\u306f\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3068\u8a00\u3063\u3066\u30011clock\u306b1\u547d\u4ee4\u306a\u3093\u3066\u306e\u3093\u3073\u308a\u3057\u305f\u3053\u3068\u306f\u3057\u306a\u3044\u3067\u3001\u958b\u3044\u3066\u3044\u308b\u6f14\u7b97\u6a5f\u3092\u7a3c\u50cd\u3055\u305b\u30661clock1\u547d\u4ee4\u4ee5\u4e0a\u5b9f\u884c\u3057\u3066\u3044\u308b\u3002\u51e6\u7406\u306b\u4f9d\u5b58\u6027\u304c\u5c11\u306a\u3044\u3068\u3053\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u304c\u3046\u307e\u304f\u52d5\u304f\u3002\u3068\u3044\u3046\u308f\u3051\u3067\u3042\u308b\u7a0b\u5ea6\u5927\u304d\u3081\u306e\u7c92\u5ea6\u3067\u8a08\u6e2c\u3057\u307e\u3057\u3087\u3046\u3002\n\n# \u30e1\u30e2\u30ea\u5f8b\u901f\u306a\u3082\u306e\u306f\u3069\u3046\u3057\u3088\u3046\u3082\u306a\u3044\n\n\u7279\u306b\u6620\u50cf\u51e6\u7406\u306e\u5206\u91ce\u3067\u306f\u3001\u30e1\u30e2\u30ea\u5f8b\u901f\u306b\u60a9\u307e\u3055\u308c\u308b\u3053\u3068\u304c\u591a\u3044\u3067\u3059\u3002\u30e1\u30e2\u30ea\u5f8b\u901f\u306a\u3082\u306e\u306f\u591a\u304f\u306e\u5834\u5408\u9ad8\u901f\u5316\u3067\u304d\u306a\u3044\u306e\u3067\u3001DDR4\u7a4d\u3093\u3067\u308b\u30e1\u30e2\u30ea\u30fc\u3092\u4f7f\u3046\u3068\u304b\u3001\u30e1\u30e2\u30ea\u30fc\u8ee2\u9001\u5e2f\u57df\u306e\u5927\u304d\u3044\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u3092\u3064\u304b\u3046\u3068\u304b\u305d\u3046\u3044\u3046\u8a71\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u305d\u308c\u3067\u3082\u3069\u3046\u306b\u304b\u3053\u3046\u306b\u304b\u9ad8\u901f\u5316\u3057\u3088\u3046\u3068\u596e\u95d8\u3057\u3066\u3044\u308b\u65b9\u3082\u3044\u308b\u306e\u3067\u3059\u304c\u3002\n\n>rigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 2015\u5e74\u3092\u632f\u308a\u8fd4\u308b (\u30a8\u30f3\u30b3\u7de8)\nhttp://rigaya34589.blog135.fc2.com/blog-entry-715.html\n\n>\u81ea\u52d5\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30d5\u30c8 (afs)\n\u4eca\u5e74\u306f\u81ea\u52d5\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30d5\u30c8\u3092\u901f\u304f\u3059\u308b\u30cd\u30bf\u3092\u601d\u3044\u3064\u3051\u306a\u304b\u3063\u305f\u3002\u8aa0\u306b\u907a\u61be\u3067\u3042\u308b\u3002\n\n>\u307e\u3042\u3053\u308c\u307e\u3067\u3082\u7d50\u69cb\u901f\u304f\u3057\u305f\u306e\u3060\u3051\u3069\u300124p\u3078\u306e\u30a4\u30f3\u30bf\u30ec\u89e3\u9664\u306f\u3053\u308c\u3057\u304b\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001\u3082\u3063\u3068\u901f\u304f\u3057\u3066\u3044\u304d\u305f\u3044\u3002\u3068\u306f\u3044\u3063\u3066\u3082\u6f14\u7b97\u5f8b\u901f\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u304f\u30e1\u30e2\u30ea\u5f8b\u901f\u306a\u306e\u3067\u3001\u3067\u304d\u308b\u3053\u3068\u304c\u9650\u3089\u308c\u3066\u3044\u308b\u306e\u304c\u8f9b\u3044\u3002\n\n>QSVEnc\nQSV\u306f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30a8\u30f3\u30b3\u30fc\u30c0\u306e\u4e2d\u3067\u3082\u9ad8\u901f\u3067\u3001\u753b\u8cea\u3082\u307e\u3042\u3001\u6bd4\u8f03\u7684\u3088\u3044\u307b\u3046\u3002\n\n>\u4eca\u5e74\u306e\u5927\u534a\u306fQSVEncC\u306eavqsv\u5468\u308a\u3092\u3084\u3063\u3066\u3044\u305f\u6c17\u304c\u3059\u308b\u3002QSV\u3067\u30c7\u30b3\u30fc\u30c9\u2192Vpp\u2192\u30a8\u30f3\u30b3\u30fc\u30c9\u307e\u3067\u3092\u4e00\u8cab\u3057\u3066\u884c\u3046avqsv\u30e2\u30fc\u30c9\u306f\u3001QSV\u9ad8\u901f\u5316\u306e\u305f\u3081\u306b\u306f\u5fc5\u9808\u3067\u3042\u308a\u3001\u3084\u3063\u3068QSVEncC\u304c\u4ed6\u306eQSV\u30a8\u30f3\u30b3\u30fc\u30c0\u3068\u6bd4\u3079\u3066\u9045\u3044\u3068\u3044\u3046\u5606\u304b\u308f\u3057\u3044\u72b6\u614b\u3092\u89e3\u6c7a\u3067\u304d\u305f\u3068\u601d\u3046\u3002\u9ad8\u901f\u5316\u3068\u306f\u826f\u3044\u3082\u306e\u3060\u3002\u307e\u3042\u3001\u6700\u7d42\u7684\u306b\u306f\u30e1\u30e2\u30ea\u901f\u5ea6\u5f8b\u901f\u306a\u306e\u3060\u3051\u3069\u2026\u3002\n\n\u6620\u50cf\u51e6\u7406\u306fQSV\u3068\u304bNVEnc\u307f\u305f\u3044\u306a\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc/\u30c7\u30b3\u30fc\u30c0\u30fc\u306e\u767b\u5834\u3067\u3060\u3044\u3076\u524d\u9032\u3057\u305f\u611f\u3042\u308b\u3051\u3069\u7d50\u5c40\u306f\u30e1\u30e2\u30ea\u5f8b\u901f\u306b\u60a9\u307e\u3055\u308c\u308b\u3068\u3044\u3046\u3002\n\n\u6628\u5e74(2015\u5e74)\u30d0\u30ba\u3063\u305fwaifu2x\u306a\u3093\u304b\u306f\u30e1\u30e2\u30ea\u30fc\u5f8b\u901f\u306e\u6700\u305f\u308b\u4f8b\u3067\u3001\u305d\u308c\u3067\u3082\u30e1\u30e2\u30ea\u30fc\u914d\u7f6e\u3092\u4e88\u6e2c\u3057\u3066\u9811\u5f35\u3063\u305f\u308a\u3068\u596e\u95d8\u3057\u3066\u3044\u308b\u65b9\u3092\u305f\u304f\u3055\u3093\u898b\u304b\u3051\u307e\u3057\u305f\u306d\u3002\n\u6700\u5185\u30eb\u30fc\u30d7\u304b\u3089\u306f\u3058\u3081\u308b\u6df1\u5c64\u5b66\u7fd2(waifu2x\u306e\u9ad8\u901f\u5316)\nhttp://int.main.jp/txt/waifu2x.html\n\n\u79c1\u306e\u8133\u307f\u305d\u3067\u306f\u4e0a\u8a18\u30ea\u30f3\u30af\u5148\u306f\u3061\u3087\u3063\u3068\u7406\u89e3\u3057\u304d\u308c\u306a\u3044\u308f\u3051\u3067\u3059\u304c\u3002\n\n# \u4f9d\u5b58\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u9069\u5207\u304b\u8abf\u3079\u308b\n\nhttps://github.com/MaverickTse/SigColorAviutl\n\u3068\nhttps://github.com/yumetodo/SigContrastFastAviUtl\n\u306e\u6700\u3082\u5927\u304d\u3044\u9055\u3044\u306f\u3001[ImageMagick](http://www.imagemagick.org/)\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u304b\u5426\u304b\u3067\u3059\u3002\n\nImageMagick\u306f\u5185\u90e8\u3067\u95a2\u6570\u547c\u51fa\u3057\u3092\u4e00\u5ea6\u5185\u90e8\u3067\u30b3\u30de\u30f3\u30c9\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u3066\u305d\u308c\u3092\u518d\u5ea6\u30d1\u30fc\u30b9\u3057\u3066\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3092\u4ecb\u3057\u3066\u51e6\u7406\u3092\u3059\u308b\u3068\u304b\u3044\u3046\u3001\u982d\u306e\u304a\u304b\u3057\u3044\u3053\u3068\u3092\u3084\u3063\u3066\u3044\u3066\u3001\u305d\u306e\u7d50\u679c\n**ImageMagick\u3092\u4f7f\u3046=\u9045\u304f\u306a\u308b=ImageMagick\u3092\u4f7f\u3046\u8005\u306fC++er\u306b\u3042\u3089\u305a**\n\u3068\u3044\u3046\u7b49\u5f0f\u304c\u6210\u7acb\u3059\u308b\u30ec\u30d9\u30eb\u3067\u9045\u3044\u3067\u3059\u3002\n\n\u9006\u306b**\u9069\u5207\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u9078\u629e\u3059\u308c\u3070\u3001\u4e0b\u624b\u306b\u81ea\u5206\u3067\u66f8\u304f\u3088\u308a\u9ad8\u901f\u5316\u3067\u304d\u307e\u3059**\u3002\u4f8b\u3048\u3070OpenCV\u3060\u3068\u3061\u3083\u3093\u3068\u639b\u3051\u3070\u81ea\u52d5\u3067\u4e26\u5217\u5316\u3057\u305f\u308aGPU\u4f7f\u3063\u305f\u308a\u3067\u304d\u307e\u3059\u306d\u3002\n\n# \u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u898b\u76f4\u3057\n\n\u5f53\u305f\u308a\u524d\u3068\u3044\u3048\u3070\u5f53\u305f\u308a\u524d\u3067\u3059\u304c\u3001\u3044\u304f\u3064\u304b\u3002\n\n## \u30c6\u30fc\u30d6\u30eb\u5f15\u304d\nSigContrastFastAviUtl\u306e\u5834\u5408\u3001Sigmoid\u95a2\u6570\u3068\u3044\u3046\u51e6\u7406\u306e\u809d\u304c\u3042\u308a\u307e\u3059\u3002\n\n```math\nf(u)=\\frac{\\frac{1}{exp(s(m - u)) + 1} - \\frac{1}{exp(sm) + 1}}{\\frac{1}{exp(s(m - 1)) + 1} - \\frac{1}{exp(sm) + 1}}\n```\n\ns:strength m:midtone u:input\n\n\u898b\u308b\u304b\u3089\u306b\u91cd\u305d\u3046\u306a\u6570\u5f0f\u3067\u3059\u304c\u3001\u3053\u308c\u3092\u753b\u50cf\u306e\u753b\u7d20\u6570\u00d7\u6620\u50cf\u306eframe\u6570\u56de\u547c\u3073\u51fa\u3059\u3053\u3068\u306b\u306a\u308b\u306e\u3067\u3048\u3052\u3064\u306a\u3044\u8a08\u7b97\u91cf\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n\u3057\u304b\u3057SigContrastFastAviUtl\u306e\u5834\u5408\u3001s\u3068m\u306f\u5b9a\u6570\u6271\u3044\u3067\u304d\u3001u\u306f0-4096\u306e\u8a084097\u901a\u308a\u3057\u304b\u7121\u3044\u306e\u3067**\u4e8b\u524d\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3057\u3066\u3042\u3068\u3067\u305d\u308c\u3092\u53c2\u7167\u3059\u308btable\u5f15\u304d\u304c\u6709\u52b9\u3067\u3059\u3002**\n\n---\n\n```cpp\n\nint *pDst, *pTable, *pIndex;\nfor (int i = 0; i < 8; i++) {\n    pDst[i] = pTable[pIndex[i]];\n}\n```\n\n\u306e\u3088\u3046\u306a\u4e8c\u91cd\u30c6\u30fc\u30d6\u30eb\u5f15\u304d\u3092\u3084\u3063\u3066\u304f\u308c\u308b``vpgatherdd``\u547d\u4ee4\u306a\u3093\u3066\u3082\u306e\u304cAVX2\u306b\u306f\u3042\u3063\u3066\u3001Intel Haswell\u3067\u5c0e\u5165\u3055\u308c\u3001Intel Broadwell\u4ee5\u964d(Skylake\u542b\u3080)\u3067\u306f\u9ad8\u901f\u306b\u52d5\u4f5c\u3059\u308b\u305d\u3046\u3067\u3059\u3002\n\n```cpp:vpgatherdd\nint *pTable;\n__m256i yDst, yIndex;\nyDst = _mm256_i32gather_epi32(pTable, yIndex, 4);\n```\n\n\u8a73\u7d30\u306f\nrigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 PMD_MT \u9ad8\u901f\u5316\u7248+5 gather\u306e\u901f\u5ea6\u3068\u304b\nhttp://rigaya34589.blog135.fc2.com/blog-entry-849.html\n\u3078\u3002\n\n---\n\n\u305f\u3060\u3057\u3001**SIMD\u5316\u3059\u308b\u3068\u304d\u306btable\u5f15\u304d\u3059\u308b\u3088\u308a\u611a\u76f4\u306bSIMD\u306e\u99ac\u529b\u3092\u6d3b\u304b\u3057\u3066\u3072\u305f\u3059\u3089\u8a08\u7b97\u3057\u305f\u307b\u3046\u304c\u901f\u3044\u3053\u3068\u3082\u3042\u308b\u3088\u3046\u306a\u306e\u3067**\u90fd\u5ea6\u3069\u3061\u3089\u304c\u901f\u3044\u304b\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n>rigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 PMD_MT \u9ad8\u901f\u5316\u7248\n>http://rigaya34589.blog135.fc2.com/blog-entry-483.html\n>\u3068\u3053\u308d\u304c\u3001\u9ad8\u901f\u5316\u306b\u3042\u305f\u3063\u3066\u5c0e\u5165\u3057\u305f\u3044SIMD\u6f14\u7b97\u306f\u30c6\u30fc\u30d6\u30eb\u53c2\u7167\u3068\u306f\u3042\u307e\u308a\u76f8\u6027\u304c\u826f\u304f\u306a\u3044\u3002\u305d\u3053\u3067\u4eca\u56de\u306eSIMD\u5316\u306b\u3088\u308b\u9ad8\u901f\u5316\u3067\u306f\u3001\u300cuseExp\u300d\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u30aa\u30d5\u306e\u6642\u306b\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u53c2\u7167\u3092\u3084\u3081\u3066\u3001\u611a\u76f4\u306b\u6d6e\u52d5\u5c0f\u6570\u70b9\u6f14\u7b97\u306b\u3088\u3063\u3066\u884c\u3046\u3088\u3046\u306b\u3057\u305f\u3002\u30c6\u30fc\u30d6\u30eb\u53c2\u7167\u3092\u3057\u3066\u6f14\u7b97\u91cf\u3092\u6e1b\u3089\u3059\u3088\u308a\u3082\u3001SIMD\u306e\u99ac\u529b\u3092\u6d3b\u304b\u3057\u3066\u3072\u305f\u3059\u3089\u8a08\u7b97\u3057\u305f\u307b\u3046\u304c\u901f\u3044\u307f\u305f\u3044\u3002(\u3068\u3044\u3046\u3088\u308a\u3001AVX\u3092\u4f7f\u3046\u3068\u6d6e\u52d5\u5c0f\u6570\u70b9\u6f14\u7b97\u3092\u4e00\u5ea6\u306b8\u6f14\u7b97\u3001FMA3\u3092\u4f7f\u3048\u3070\u4e00\u5ea6\u306b16\u6f14\u7b97\u3067\u304d\u308b\u306e\u3067\u3001\u3069\u3061\u3089\u304b\u3068\u3044\u3046\u3068FMA3\u3067\u30b4\u30ea\u62bc\u3057\u3067\u304d\u308b\u3053\u3068\u3092\u524d\u63d0\u306b\u4f5c\u3063\u3066\u308b\u2026)\n\n---\n\n\u6ce8\u610f\u70b9\u3067\u3059\u304c\u3001\u30c6\u30fc\u30d6\u30eb\u5f15\u304d\u3059\u308b\u3068\u304d\u306f\u3001\u30c6\u30fc\u30d6\u30eb\u306e\u53c2\u7167\u30b3\u30b9\u30c8\u306fO(1)\u306b\u3057\u307e\u3057\u3087\u3046\u3002\n\u3082\u3063\u3068\u3044\u3046\u3068\u3001**\u30c6\u30fc\u30d6\u30eb\u5f15\u304d\u306b``std::map``/``std::unorderd_map``\u3092\u4f7f\u3063\u3066\u306f\u3044\u3051\u307e\u305b\u3093**\n\u9006\u95a2\u6570\u304b\u304f\u306e\u9762\u5012\u3060\u304b\u3089\u3068\u3044\u3063\u3066\u5143\u306e\u95a2\u6570\u3092\u6d41\u7528\u3057\u3066``std::lower_bound``\u3067\u8aa4\u9b54\u5316\u305d\u3046\u3068\u304b\u601d\u308f\u305a\u306b\u9811\u5f35\u3063\u3066\u306fO(1)\u306b\u3057\u307e\u3057\u3087\u3046\u3002\nhttps://github.com/yumetodo/SigContrastFastAviUtl/pull/9\n\n## \u8a08\u7b97\u30aa\u30fc\u30c0\u30fc\u304c\u5168\u3066\u3067\u306f\u306a\u3044\n\n\u5f8c\u8ff0\u3059\u308b\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u3084\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u306e\u30b3\u30b9\u30c8\u306a\u3069\u304c\u539f\u56e0\u3067\u3001\u8a08\u7b97\u30aa\u30fc\u30c0\u30fc\u304c\u826f\u304f\u3066\u3082\u6700\u901f\u3067\u306f\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u305d\u306e\u3044\u3044\u4f8b\u304c\n[C++\u3067\u52b9\u7387\u3088\u304f\u91cd\u8907\u306e\u306a\u3044\u4e71\u6570\u5217\u3092\u751f\u6210\u3059\u308b#\u7d50\u679c](http://qiita.com/hmito/items/9f4bdc8442b6f6b3c7bc#%E7%B5%90%E6%9E%9C)\n\u3053\u308c\u3067\u3057\u3087\u3046\u304b\u3002\n\n![img](https://qiita-image-store.s3.amazonaws.com/0/44283/505a23b1-aeb0-fd43-e0ae-923e2cb4d605.png)\n\u5e73\u3089\u306a\u30b0\u30e9\u30d5\u306f\u8a08\u7b97\u30aa\u30fc\u30c0\u30fc\u7684\u306b\u512a\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u793a\u3057\u307e\u3059\u304c\u3001\u6700\u901f\u3067\u306f\u306a\u3044\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002\n\n# \u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u306e\u6539\u5584\n\n\u6620\u50cf\u51e6\u7406\u306a\u3093\u304b\u66f8\u3044\u3066\u3044\u308b\u3068\u3001\u3053\u306e\u8fba\u304c\u5927\u4e8b\u306b\u306a\u3063\u3066\u304d\u307e\u3059\u3002\n\n\u307e\u305a\n\nCPU\u306e\u6c17\u6301\u3061\u306b\u306a\u308c\u308b\u30c4\u30fc\u30eb\u4f5c\u3063\u305f - ( \ua4aa\u2313\ua4aa) \u3086\u308b\u3088\u308d\u65e5\u8a18\nhttp://yuroyoro.hatenablog.com/entry/2014/10/20/102416\nRemix: Latency Numbers Every Programmer Should Know(2014)\nhttp://yuroyoro.net/latency.html\n\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002~~CPU\u306e\u6b53\u58f0~~CPU\u304b\u3089\u898b\u305f\u30a2\u30af\u30bb\u30b9\u901f\u5ea6\u304c\u5b9f\u611f\u3067\u304d\u307e\u3059\u3002\n\n\u30e1\u30e2\u30ea\u30fc\u4ee5\u5916\u306bCPU\u306b\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u30c7\u30fc\u30bf\u304c\u4e57\u3063\u304b\u308a\u3084\u3059\u3044\u3088\u3046\u306b\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u3092\u3059\u308b\u3053\u3068\u304c\u5927\u4e8b\u3067\u3059\u3002\n\n**\u3064\u307e\u308a\u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u306b(\u9023\u7d9a\u7684\u306b)\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u3057\u308d**\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u3002\n\n\u307e\u305f\u3001SIMD\u5316\u306b\u3088\u3063\u3066\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u56de\u6570\u3092\u6e1b\u3089\u3059\u3053\u3068\u3082\u52b9\u679c\u7684\u3067\u3059\u3002\n\n>rigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 \u81ea\u52d5\u30d5\u30a3\u30fc\u30eb\u30c9\u30b7\u30d5\u30c8 \u9ad8\u901f\u5316\u7248+8\n>http://rigaya34589.blog135.fc2.com/blog-entry-360.html\n>afs\u306b\u306f\u3001\u30e1\u30e2\u30ea\u7a7a\u9593\u306b\u5bfe\u3057\u98db\u3073\u98db\u3073\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u90e8\u5206\u304c\u3042\u308b\u3002\u3053\u3046\u3044\u3063\u305f\u98db\u3073\u98db\u3073\u306e\u30a2\u30af\u30bb\u30b9\u306f\u3001\u975e\u5e38\u306b\u6642\u9593\u304c\u639b\u304b\u3063\u3066\u3057\u307e\u3046\u3002\n\n>\u305d\u3082\u305d\u3082\u3001(\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u5165\u3063\u3066\u3044\u306a\u3044)\u30e1\u30e2\u30ea\u30a2\u30af\u30bb\u30b9\u3068\u3044\u3046\u306e\u306f\u3068\u3093\u3067\u3082\u306a\u304f\u9045\u3044\u3002\u30e1\u30e2\u30ea\u4e0a\u3092\u98db\u3073\u98db\u3073\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u3068\u7279\u306b\u3072\u3069\u3044\u3002\n\n>\u3053\u308c\u306b\u5bfe\u3057\u3001\u30aa\u30ea\u30b8\u30ca\u30eb\u306eafs\u3067\u306f\u3001\n\n>- MMX\u306e\u4f7f\u7528\u306b\u3088\u308a\u300164bit\u307e\u3068\u3081\u3066\u51e6\u7406\n\u3000\u3000\u219264bit\u305a\u3064\u306e\u30a2\u30af\u30bb\u30b9\u306b\u306a\u308a\u3001\u30e1\u30e2\u30ea\u30a2\u30af\u30bb\u30b9\u306e\u56de\u6570\u81ea\u4f53\u304c\u6e1b\u308b\u3002\n\n>\u306b\u3088\u308a\u9ad8\u901f\u5316\u3057\u3066\u3044\u305f\u3057\u3001\u3055\u3089\u306b\u3053\u308c\u307e\u3067\u306e\u9ad8\u901f\u5316\u7248\u3067\u306f\u3001\n\n>1. SSE\u306e\u4f7f\u7528\u306b\u3088\u308a\u3001128bit\u305a\u3064\u51e6\u7406\n>2. prefetch\u547d\u4ee4\u306e\u633f\u5165\u306b\u3088\u308a\u3001\u5fc5\u8981\u306b\u306a\u308b\u98db\u3073\u98db\u3073\u306e\u30e1\u30e2\u30ea\u306e\u65ad\u7247\u3092\u660e\u793a\u7684\u306b\u5148\u8aad\u307f\n\n>\u3057\u3066\u9ad8\u901f\u5316\u3057\u3066\u3044\u305f\u3002prefetch\u547d\u4ee4\u306e\u633f\u5165\u306f\u975e\u5e38\u306b\u52b9\u679c\u304c\u5927\u304d\u304b\u3063\u305f(\u9ad8\u901f\u5316\u306e1/3\u3050\u3089\u3044\u306fprefetch\u547d\u4ee4\u306e\u304a\u304b\u3052\u3060\u3063\u305f)\u3002\n\n>\u3057\u304b\u3057\u3001\u3044\u304f\u3089\u5148\u8aad\u307f\u3057\u3066\u3044\u308b\u3068\u306f\u3044\u3063\u3066\u3082\u3001\u7169\u96d1\u306a\u98db\u3073\u98db\u3073\u306e\u30a2\u30af\u30bb\u30b9\u3092\u3057\u3066\u3044\u308b\u3053\u3068\u306b\u306f\u5909\u308f\u308a\u306a\u304f\u3001\u6839\u672c\u7684\u306a\u89e3\u6c7a\u306b\u306f\u306a\u3063\u3066\u3044\u306a\u3044\u3002\n\n>\u4eca\u56de\u306e\u9ad8\u901f\u5316\u7248\u3067\u306f\u3001\u306a\u308b\u3079\u304f\u9023\u7d9a\u7684\u306a\u30e1\u30e2\u30ea\u30a2\u30af\u30bb\u30b9\u3092\u3059\u308b\u3088\u3046\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5909\u66f4\u3057\u305f\u3002\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001\n\n>- prefetch\u547d\u4ee4\u4e0d\u8981\n- \u52b9\u7387\u7684\u306a\u30e1\u30e2\u30ea\u30a2\u30af\u30bb\u30b9\n\n>\u3068\u306a\u308a\u3001\u3055\u3089\u306b\u9ad8\u901f\u5316\u3067\u304d\u305f\u3002\n\n---\n\n\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u3068\u3044\u3048\u3070C++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306b``flat_map``\u304c\u63d0\u6848\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u306d\n\n\u672c\u306e\u866b: C++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306e\u6587\u66f8: P0421R0-P0429R0\nhttps://cpplover.blogspot.jp/2016/11/c-p0421r0-p0429r0.html\n>[[PDF] P0429R0: A Standard flat_map](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0429r0.pdf)\n\n>flat_map\u3068\u5f93\u6765\u306emap\u306e\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u7d50\u679c\u304c\u3042\u308b\u304c\u3001\u8981\u7d20\u306e\u633f\u5165\u3068\u524a\u9664\u306f\u3068\u3066\u3082\u9045\u304f\u3001\u30a4\u30c6\u30ec\u30fc\u30c8\u306f\u3068\u3066\u3082\u901f\u304f\u3001\u691c\u7d22\u306fmap\u3088\u308a\u901f\u3044\u304cunordered_map\u3088\u308a\u306f\u9045\u3044\u7d50\u679c\u3068\u306a\u3063\u3066\u3044\u308b\u3002\u305d\u306e\u30c7\u30fc\u30bf\u69cb\u9020\u304b\u3089\u8003\u3048\u3066\u4e88\u60f3\u901a\u308a\u306e\u7279\u6027\u3060\u3002\n\n>\u307e\u305f\u3001\u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u304c\u5c11\u306a\u3044\u3002\u3053\u308c\u306f\u5f53\u7136\u306e\u8a71\u3067\u3001map\u3092\u7d20\u76f4\u306b\u5b9f\u88c5\u3059\u308b\u306b\u306f\u5de6\u53f3\u306e\u8449\u30ce\u30fc\u30c9\u3068\u89aa\u30ce\u30fc\u30c9\u3078\u306e3\u500b\u306e\u30dd\u30a4\u30f3\u30bf\u30fc\u3092\u6301\u3064\u30ce\u30fc\u30c9\u306b\u3088\u308b\u30d0\u30a4\u30ca\u30ea\u30c4\u30ea\u30fc\u306b\u306a\u308b\u4e0a\u306b\u3001\u30e1\u30e2\u30ea\u78ba\u4fdd\u3092\u30ce\u30fc\u30c9\u5358\u4f4d\u3067\u884c\u3046\u305f\u3081\u306b\u30e1\u30e2\u30ea\u7ba1\u7406\u306e\u305f\u3081\u306e\u30e1\u30e2\u30ea\u3082\u5fc5\u8981\u306b\u306a\u308b\u3002**\u307e\u305f\u3001\u9023\u7d9a\u3057\u305f\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306b\u78ba\u4fdd\u3055\u308c\u308b\u305f\u3081\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5c40\u6240\u6027\u304c\u6700\u9ad8\u3060\u3002**\n\n---\n\n\u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u30a2\u30af\u30bb\u30b9\u3068\u3044\u3048\u3070\u4eca\u5e74\u306eNHK\u6280\u7814\u306e\u516c\u958b\u3067\u30b7\u30fc\u30b1\u30f3\u30b7\u30e3\u30eb\u30a2\u30af\u30bb\u30b9\u3057\u304b\u3067\u304d\u306a\u3044\u8d85\u9ad8\u901f\u306bRead/Write\u3067\u304d\u308b\u8a18\u61b6\u5a92\u4f53\u304c\u7d39\u4ecb\u3055\u308c\u3066\u3044\u305f\u306a\u3041\u30fb\u30fb\u30fb\u3002\u8a73\u7d30\u304c\u601d\u3044\u51fa\u305b\u306a\u3044\u3051\u3069\u3001\u6620\u50cf\u306e\u9ad8\u7cbe\u7d30\u5316\u306b\u4f34\u3046\u30e1\u30e2\u30ea\u30fc\u901f\u5ea6\u8981\u6c42\u306b\u5bfe\u3059\u308b\u4e00\u6b21\u30d0\u30c3\u30d5\u30a1\u3068\u3057\u3066\u306e\u5229\u7528\u3092\u63d0\u6848\u3057\u3066\u3044\u305f\u3063\u3051\u304b\u3002\n\n---\n\n\u3055\u3089\u306b\u8a73\u3057\u3044\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u306e\u8a71\u306f\n[[PDF\u6ce8\u610f]\u7b2c9\u56de\u3000\u9ad8\u901f\u5316\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u3068\u305d\u306e\u95a2\u9023\u6280\u8853\uff12 | \u6e21\u8fba\u5b99\u5fd7](http://www.cms-initiative.jp/ja/events/0613watanabe.pdf)\n\u306b\u8a73\u3057\u304f\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u53c2\u7167\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n# OpenMP\u3058\u3083\u306a\u304f\u3066C++11\u306eThread\u3092\n\n\u3064\u307e\u308a\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u5316\u3067\u3059\u306d\u3002**\u30eb\u30fc\u30d7\u9593\u306e\u4f5c\u696d\u306b\u4f9d\u5b58\u6027\u304c\u7121\u3044\u3068\u304d\u306f\u3068\u308a\u3042\u3048\u305a\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u5316\u3059\u308b\u306e\u304c\u5e38\u9053**\u3060\u3068\u601d\u3044\u307e\u3059\u3002\nKCS_KAI\u3067\u306f\u6700\u521d\u306b\u6570\u500b\u306e\u30b9\u30ec\u30c3\u30c9\u3092\u4f5c\u308b\u3060\u3051\u306a\u306e\u3067\u3042\u307e\u308a\u95a2\u4fc2\u3042\u308a\u307e\u305b\u3093\u304c\u3001SigContrastFastAviUtl\u306e\u3088\u3046\u306b\u6620\u50cf\u51e6\u7406\u306a\u3093\u304b\u3067\u753b\u50cf\u4e00\u679a\u4e00\u679a\u5358\u4f4d\u3067\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u5316\u3059\u308b\u5834\u5408\u306f\u30b9\u30ec\u30c3\u30c9\u751f\u6210\u306e\u30b3\u30b9\u30c8\u304c\u7121\u8996\u3067\u304d\u306a\u3044\u306e\u3067\u3001OpenMP\u306f\u907f\u3051\u305f\u307b\u3046\u304c\u826f\u3044\u3067\u3059\u3002\u30aa\u30fc\u30d0\u30fc\u30d8\u30c3\u30c9\u304c\u5927\u304d\u3044\u306e\u3067\u3002OpenMP\u306f[\u30e9\u30f3\u30bf\u30a4\u30e0\u3092static link\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u554f\u984c](https://github.com/YSRKEN/KanColleSimulator_KAI/pull/92)\u3082\u3042\u308a\u307e\u3059\u3002\n\n\u4ed6\u306e\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u5316\u306e\u9078\u629e\u80a2\u3068\u3057\u3066\u306f\n\n- [VS\u306eAuto-Parallelizer](https://msdn.microsoft.com/ja-jp/library/hh872235.aspx)\u2192\u81ea\u52d5\u5909\u6570\u9818\u57df\u306e\u78ba\u4fdd\u304c\u4fe1\u3058\u3089\u308c\u306a\u3044\u307b\u3069\u9045\u3044\n- pthread\u2192\u81ea\u529b\u3067\u53e9\u304d\u305f\u304f\u306a\u3044\n- Win32API\u2192\u81ea\u529b\u3067\u53e9\u304d\u305f\u304f\u306a\u3044\n- Intel TBB\n- Visual C++\u306b\u4ed8\u5c5e\u3059\u308bPPL\n\n\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u305b\u3063\u304b\u304fC++11\u3067std::thread\u5165\u3063\u305f\u306e\u3067\u4f7f\u3044\u307e\u3057\u3087\u3046\u3002\u30b9\u30ec\u30c3\u30c9\u751f\u6210\u30b3\u30b9\u30c8\u306fVS\u306eAuto-Parallelizer\u3068\u540c\u3058\u304b\u8aa4\u5dee\u30ec\u30d9\u30eb\u3067std::thread\u304c\u901f\u304b\u3063\u305f\u3067\u3059\u3002\n\n\u3068\u306f\u3044\u3048\u30b9\u30ec\u30c3\u30c9\u751f\u6210\u3068\u304b\u30bf\u30b9\u30af\u5206\u5272\u3068\u304b\u3092\u81ea\u5206\u3067\u66f8\u304b\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u306e\u3067\nhttps://github.com/yumetodo/SigContrastFastAviUtl/blob/master/SigColorFastAviUtl/thread.hpp\n\u3053\u3093\u306a\u98a8\u306b\u9069\u5f53\u306b\u30e9\u30c3\u30d7\u3057\u307e\u3057\u305f\u3002\n\nC++17\u3067\u306falgorithm\u30d8\u30c3\u30c0\u30fc\u3068\u304b\u306b\u3042\u308b\u95a2\u6570\u304c\u5f15\u6570\u4e00\u3064\u5897\u3084\u3059\u3060\u3051\u3067\u4e26\u5217\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u3089\u3057\u3044\u306e\u3067\u65e9\u304f\u4f7f\u3044\u305f\u3044\u3067\u3059\u306d\u3002~~\u4f8b\u5916\u5468\u308a\u3082``exception_list``\u304c\u3042\u308b\u306e\u3067\u3088\u308a\u6c17\u8efd\u306b\u4f7f\u3048\u305d\u3046\u3067\u3059\u3002~~\n\u8ffd\u8a18:``exception_list``\u306f\u6b7b\u3093\u3060\u305d\u3046\u3067\u3059\u3002\u305d\u3046\u3044\u3084\u672c\u306e\u866b\u306b\u305d\u3093\u306a\u8a71\u304c\u51fa\u3066\u305f\u306a\u3001\u5fd8\u308c\u3066\u305f\u3002\n\n>\u672c\u306e\u866b: C++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306e\u6587\u66f8: P0390R0-P0399R0\n>https://cpplover.blogspot.jp/2016/09/c-p0390r0-p0399r0.html\n>[P0394R4: Hotel Parallelifornia: terminate() for Parallel Algorithms Exception Handling](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0394r4.html)\n\n>\u4e26\u5217\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u6e21\u3057\u305f\u8981\u7d20\u30a2\u30af\u30bb\u30b9\u95a2\u6570\u304c\u4f8b\u5916\u3092\u6295\u3052\u305f\u6642\u306f\u3001\u6295\u3052\u3089\u308c\u305f\u8907\u6570\u306e\u4f8b\u5916\u304cstd::exception_list\u306b\u683c\u7d0d\u3055\u308c\u3066\u8fd4\u3055\u308c\u308b\u3068\u3044\u3046\u4ed5\u69d8\u306b\u306a\u3063\u3066\u3044\u308b\u3002\u3057\u304b\u3057\u3001\u5b9f\u884c\u30dd\u30ea\u30b7\u30fc\u304cpar_unseq\u306e\u6642\u3060\u3051\u306fstd::terminate()\u3092\u547c\u3073\u51fa\u3059\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u4e00\u8cab\u6027\u304c\u306a\u3044\u3002\n\n>\u3053\u308c\u3092\u8003\u3048\u308b\u306b\u3001\u4e00\u5f8bstd::terminate()\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u7d71\u4e00\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3002\u305d\u306e\u307b\u3046\u304c\u751f\u6210\u3055\u308c\u308b\u30b3\u30fc\u30c9\u3082\u7c21\u5358\u306b\u306a\u308b\u3057\u3001exception_list\u306b\u6301\u3061\u4e0a\u304c\u3063\u3066\u3044\u308b\u6570\u3005\u306e\u554f\u984c\u3078\u306e\u5bfe\u51e6\u3082\u4e0d\u8981\u306b\u306a\u308b\u3002\n\n>\u3068\u3044\u3046\u5909\u66f4\u3092\u3059\u308b\u63d0\u6848\u3002\n\n# ``std::vector``\u306freserve\u3057\u3066\u4f7f\u3046\n\n~~\u7279\u306bVisual Studio\u306e\u4ed8\u9332\u306e``std::vector::push_back``\u306e\u5b9f\u88c5\u306f\u8150\u3063\u3066\u3044\u3066\u3001``std::vector::push_back``\u3092\u547c\u3073\u51fa\u3059\u305f\u3073\u306b\u3001\u73fe\u5728\u306e\u9818\u57df\u306e\u5927\u304d\u3055+1\u306e\u30e1\u30e2\u30ea\u30fc\u3092\u78ba\u4fdd\u3057\u3066\u8981\u7d20\u3092\u3059\u3079\u3066copy/move\u3059\u308b\u3001\u3068\u3044\u3046\u306e\u306b\u8fd1\u3044\u72b6\u6cc1\u304c\u767a\u751f\u3057\u307e\u3059\u3002~~\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://t.co/lJApJ6CFOL\">https://t.co/lJApJ6CFOL</a><br>\u3053\u306e\u30c4\u30a4\u30fc\u30c8\u306b\u3064\u3044\u3066\u4eca\u66f4\u691c\u8a3c\u3057\u305f\u3068\u3053\u308d\u3001VS\u306fDebug/Release\u306b\u304b\u304b\u308f\u3089\u305a\u57fa\u65701.5\u3067capacity\u3092\u5897\u3084\u3057\u3066\u3044\u304f\u306e\u3067\u30011\uff5e4\u307e\u3067\u306f1\u3065\u3064\u5897\u52a0\u3059\u308b\u3068\u3044\u3046\u3060\u3051\u3060\u3063\u305f</p>&mdash; Az (@azaika_) <a href=\"https://twitter.com/azaika_/status/807884842318729216\">2016\u5e7412\u670811\u65e5</a></blockquote>\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://twitter.com/azaika_\">@azaika_</a> \u3069\u3046\u3084\u3089\u6700\u521d\u306b8\u8981\u7d20\u5206\u78ba\u4fdd\u3057\u3066\u304a\u304f\u3088\u3046\u306a\u3053\u3068\u306f\u3057\u3066\u3044\u306a\u3044\u3089\u3057\u3044(\u753b\u50cf\u53c2\u7167) <a href=\"https://t.co/JCL0KGLksd\">pic.twitter.com/JCL0KGLksd</a></p>&mdash; Az (@azaika_) <a href=\"https://twitter.com/azaika_/status/807885024225685504\">2016\u5e7412\u670811\u65e5</a></blockquote>\n1.5\u500d\u30b2\u30fc\u30e0\u3067\u306e\u5b9f\u88c5\u306e\u3088\u3046\u3067\u3059\u3002reserve\u3057\u3066\u4f7f\u3046\u3079\u3057\u3001\u3068\u3044\u3046\u7d50\u8ad6\u306b\u5909\u308f\u308a\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3002\n\ncf.) https://github.com/YSRKEN/KanColleSimulator_KAI/issues/64#issuecomment-196514956\n\n\u4eca\u65e5\u306e\u4e00\u822c\u7684\u306aPC\u306f\u6f64\u6ca2\u306b\u30e1\u30e2\u30ea\u30fc\u304c\u3042\u308b\u306e\u3067\u3001\u3069\u3093\u3076\u308a\u52d8\u5b9a\u3067\u5927\u304d\u3081\u306e\u9818\u57df\u3092reserve\u3057\u3066\u304a\u304f\u304b\u3001push_back\u306e\u3068\u304d\u306b\n\n\n```cpp\nvector</* some type */> re;\n#ifdef _MSC_VER\nif (v.capacity() < v.size() + 1) v.reserve((std::numeric_limits<size_t>::max() / 2 < v.size()) ? std::numeric_limits<size_t>::max() : v.size() * 2);\n#endif\nv.push_back(/* someting */);\n```\n\n\u306e\u3088\u3046\u306b\u5f37\u5236\u7684\u306b\u500d\u3005\u30b2\u30fc\u30e0\u3092\u3059\u308b\u30b3\u30fc\u30c9\u3092\u66f8\u304d\u307e\u3057\u3087\u3046\u3002\n\n\u3061\u306a\u307f\u306bGCC\u3084Clang\u306f\u500d\u3005\u30b2\u30fc\u30e0\u3092\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n# \u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u3092\u6e1b\u3089\u3059\n\n**\u307f\u3093\u306a``std::vector``\u304c\u4fbf\u5229\u3059\u304e\u3066\u4f7f\u3044\u3059\u304e\u3066\u307e\u305b\u3093\u304b\uff1f**\n\n\u5b9f\u969b\u9069\u5f53\u306b\u66f8\u3044\u3066\u3082\u52d5\u304f\u3057\u305d\u3053\u305d\u3053\u901f\u3044\u306e\u3067\u79c1\u3082\u4f7f\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u9ad8\u901f\u5316\u306e\u3068\u304d\u306f\u305d\u308c\u3092\u898b\u76f4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n**\u305d\u3082\u305d\u3082\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u81ea\u4f53\u304c\u7121\u8336\u82e6\u8336\u91cd\u3044\u306e\u3067\u9ad8\u901f\u5316\u306e\u969b\u306f\u305d\u308c\u3092\u6e1b\u3089\u3059\u3053\u3068\u304c\u5927\u4e8b\u3067\u3059**\n\n\u5177\u4f53\u7684\u306b\u306f\u3001**\u8981\u7d20\u6570\u304c\u56fa\u5b9a\u304b\u3001\u53ef\u5909\u3060\u3051\u3069\u3082\u6700\u5927\u6570\u304c\u6c7a\u307e\u3063\u3066\u3044\u308b\u3082\u306e**\u306f\u3059\u3079\u3066``std::array``\u3067\u66f8\u304d\u63db\u3048\u308b\u3079\u304d\u3067\u3059\u3002\n\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/blob/a50a2e4dda7fdf11ca192ab4506d96cdfe51f161/KCS_CUI/source/fleet.cpp#L429\n\n```cpp\n// \u751f\u5b58\u8266\u304b\u3089\u8266\u5a18\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u6307\u5b9a\u3059\u308b(\u822a\u7a7a\u6226\u7528)\ntuple<bool, size_t> Fleet::RandomKammusu() const {\n\t//\u751f\u5b58\u8266\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\n\tstd::array<size_t, kMaxUnitSize> alived_list;\n\tsize_t alived_list_size = 0;\n\tfor (size_t ui = 0; ui < this->GetUnit().front().size(); ++ui) {\n\t\tif (this->GetUnit().front()[ui].Status() != kStatusLost) {\n\t\t\talived_list[alived_list_size] = ui;\n\t\t\t++alived_list_size;\n\t\t}\n\t}\n\tif (alived_list_size == 0) return tuple<bool, size_t>(false, 0);\n\treturn tuple<bool, size_t>(true, SharedRand::select_random_in_range(alived_list, alived_list_size));\n}\n```\n\n\u3053\u306e\u3088\u3046\u306b``std::array::size()``\u306fcapacity\u3068\u3057\u3066\u6271\u3044\u3001\u5225\u306bsize\u3092\u7ba1\u7406\u3059\u308b\u5909\u6570\u3092\u4f5c\u308a\u307e\u3059\u3002\n\n**``std::vector``\u304b\u3089``std::array``\u3078\u306e\u7f6e\u304d\u63db\u3048\u306f\u304b\u306a\u308a\u5f37\u529b\u3067\u3001KCS_KAI\u306b\u65bd\u3057\u305f\u9ad8\u901f\u5316\u306e1/3\u304f\u3089\u3044\u306f\u5360\u3081\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059**\u3002\n\n\u305f\u3060\u3001\u5225\u306b\u5909\u6570\u4f5c\u308b\u306e\u306f\u3064\u3089\u307f\u304c\u3042\u308b\u306e\u3067\u3001[@bolero_MURAKAMI](https://twitter.com/bolero_MURAKAMI)\u6c0f\u306b\u554f\u3044\u5408\u308f\u305b\u305f\u3068\u3053\u308d\n\n>http://ask.fm/bolero_MURAKAMI/answers/137022673016\n>>sprout\u306bcapacity\u56fa\u5b9a\u3001size\u304c0\u304b\u3089capacity\u306e\u9593\u3067\u53ef\u5909\u306e\u914d\u5217\u30af\u30e9\u30b9\u306f\u3042\u308b\u304b\n\n>valarray \u3068 sub_array>\n\n\u3068\u306e\u56de\u7b54\u304c\u6765\u307e\u3057\u305f\u304c\u3001\u4eca\u306e\u3068\u3053\u308d\u79c1\u306b\u306f\u3053\u306e\u30af\u30e9\u30b9\u306e\u4f7f\u3044\u65b9\u304c\u308f\u304b\u3063\u3066\u3044\u307e\u305b\u3093\u3002\n\n---\n\n\u306a\u306b\u3082\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u306fstd::vector\u3060\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3001\u5f53\u7136\u305d\u306e\u4ed6\u306e\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u3082\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n>http://rigaya34589.blog135.fc2.com/blog-entry-483.html\n>\u307b\u304b\u306b\u3082\u6bce\u30d5\u30ec\u30fc\u30e0\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u3057\u3066\u7834\u68c4\u3057\u3066\u3044\u305f\u306e\u3092\u3084\u3081\u3001\u4e00\u5ea6\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u3092\u4f7f\u3044\u307e\u308f\u3059\u3053\u3068\u3067\u3061\u3087\u3063\u3068\u9ad8\u901f\u5316\u3057\u305f\u3002(\u30e1\u30e2\u30ea\u306e\u78ba\u4fdd\u306f\u3068\u306b\u304b\u304f\u9045\u3044\u305f\u3081\u3001\u6bce\u30d5\u30ec\u30fc\u30e0\u30e1\u30e2\u30ea\u3092\u78ba\u4fdd\u2192\u958b\u653e\u3057\u305f\u308a\u3059\u308b\u3068\u91cd\u304f\u306a\u308b)\n\n\u4e00\u5ea6\u78ba\u4fdd\u3057\u305f\u9818\u57df\u306f\u306a\u308b\u3079\u304f\u4f7f\u3044\u307e\u308f\u3057\u307e\u3057\u3087\u3046(\u521d\u671f\u5316\u30d0\u30b0\u306b\u6ce8\u610f)\u3002\n\n\n# ``std::basic_string::opeartor==``\u306b\u6ce8\u610f\u305b\u3088\n\n\u307e\u305f\u3057\u3066\u3082Visual Studio\u306e\u8a71\u3067\u3059\u304c\u3001\u3061\u3087\u3063\u3068\u3053\u3053\u3067Visual Studio 2017 RC\u306e\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n>[Visual Studio 2017 \u30ea\u30ea\u30fc\u30b9 \u30ce\u30fc\u30c8#C++ \u30e9\u30a4\u30d6\u30e9\u30ea](https://www.visualstudio.com/ja-jp/news/releasenotes/vs2017-relnotes#a-namec-librariesac-\u30e9\u30a4\u30d6\u30e9\u30ea)\n\n>- \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u5411\u4e0a: basic_string::operator== \u306f\u3001**\u6587\u5b57\u5217\u306e\u5185\u5bb9\u3092\u6bd4\u8f03\u3059\u308b\u524d\u306b\u6587\u5b57\u5217\u306e\u30b5\u30a4\u30ba\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f**\u3002\n\n\u306a\u3093\u3060\u3063\u3066\uff01\uff1f\u4eca\u307e\u3067\u6587\u5b57\u5217\u6bd4\u8f03\u306f\u9577\u3055\u3092\u898b\u3066\u3044\u306a\u304b\u3063\u305f\u306e\uff01\uff1f\n\n---\n\n\u307e\u3042\u304a\u99ac\u9e7f\u306aVS\u306e\u8a71\u306f\u3055\u3066\u304a\u304d\u3001\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u6587\u5b57\u5217\u306e\u30cf\u30c3\u30b7\u30e5\u3092\u8a08\u7b97\u3057\u3066\u304a\u3044\u3066\u305d\u308c\u3092\u6bd4\u8f03\u3057\u305f\u308a\u3001enum class\u306b\u5909\u63db\u3057\u3066\u304a\u304f\u307b\u3046\u304c\u9ad8\u901f\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n# constexpr\u306f\u5e02\u6c11\u306e\u7fa9\u52d9\u3067\u3059\n\nC++\u898f\u683c\u3078\u306e\u6e96\u62e0\u304c\u9045\u3044Visual Studio\u3067\u3082C++11constexpr\u304cVisual Studio 2015 Update 2 \u304b\u3089\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u308a\u3001C++ Builder(not clang_based version)\u3068\u304b\u3044\u3046\u7cde\u3092\u7121\u8996\u3059\u308c\u3070\u3001**\u6211\u3005\u306fconstexpr\u3092\u4f7f\u3048\u308b\u3068\u3044\u3046\u4eba\u6a29\u3092\u5f97\u307e\u3057\u305f\u3002**\n\n\u3082\u3061\u308d\u3093C++11constexpr\u306f\u76f8\u5f53\u5236\u7d04\u304c\u304d\u3064\u304f\u3001\u3072\u305f\u3059\u30893\u9805\u6f14\u7b97\u5b50\u3068\u518d\u5e30\u3068\u622f\u308c\u308b\u4e16\u754c\u3067\u3059\u304c\u3001\u305d\u308c\u3067\u3082\u3044\u308d\u3044\u308d\u3067\u304d\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u3059\u3002\n\n## \u30d7\u30ea\u30d7\u30ed\u30bb\u30b9\u6642\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f+\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u51e6\u7406\u2192\u30b3\u30f3\u30d1\u30a4\u30eb\u6642DB\u69cb\u7bc9\n\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/pull/46\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/pull/57\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/pull/62\n\u3067\u305d\u3093\u306a\u3053\u3068\u3092\u3084\u308b\u30b3\u30fc\u30c9\u3092[@sayurin](https://github.com/sayurin)\u6c0f\u304c\u5b9f\u88c5\u3057\u305f\u306e\u3067\u8981\u7d04\u3057\u3066\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n\u6750\u6599\n\n- \u7d30\u5de5\u3057\u305fcsv\u30d5\u30a1\u30a4\u30eb\n- ``#include``\n- ``constexpr``\n- ``std::integral_const``\n- UDLs\n- \u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u30de\u30af\u30ed\u95a2\u6570\u5c11\u3005\n\n\u307e\u305a\n\n```\n\u8266\u8239ID,\u8266\u540d,\u8266\u7a2e,\u8010\u4e45,\u88c5\u7532,\u706b\u529b,\u96f7\u6483,\u5bfe\u7a7a,\u904b,\u901f\u529b,\u5c04\u7a0b,\u30b9\u30ed\u30c3\u30c8\u6570,\u642d\u8f09\u6570,\u56de\u907f,\u5bfe\u6f5c,\u7d22\u6575,\u521d\u671f\u88c5\u5099,\u8266\u5a18\u30d5\u30e9\u30b0\n1,\u7766\u6708,2,13/24,5/18,6/29,18/59,7/29,12/49,10,1,2,0/0/0/0/0,37/79,16/39,4/17,1/37/-1/-1/-1,1\n2,\u5982\u6708,2,13/24,5/18,6/29,18/49,7/29,10/49,10,1,2,0/0/0/0/0,37/69,16/39,4/17,1/-1/-1/-1/-1,1\n6,\u9577\u6708,2,13/24,5/18,6/29,18/49,7/29,15/69,10,1,2,0/0/0/0/0,37/69,16/39,4/17,1/-1/-1/-1/-1,1\n7,\u4e09\u65e5\u6708,2,13/24,5/18,6/29,18/49,7/29,10/49,10,1,2,0/0/0/0/0,37/69,16/39,4/17,1/-1/-1/-1/-1,1\n9,\u5439\u96ea,2,15/29,5/19,10/29,27/79,10/39,17/49,10,1,2,0/0/0/0/0,40/89,20/49,5/19,2/13/-1/-1/-1,1\n10,\u767d\u96ea,2,15/29,5/19,10/29,27/69,10/39,10/49,10,1,2,0/0/0/0/0,40/79,20/49,5/19,2/-1/-1/-1/-1,1\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306ecsv\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3092\n\n```c:ships.csv\n\n//PREFIX,\u8266\u8239ID,\u8266\u540d,\u8266\u7a2e,\u8010\u4e45,\u88c5\u7532,\u706b\u529b,\u96f7\u6483,\u5bfe\u7a7a,\u904b,\u901f\u529b,\u5c04\u7a0b,\u30b9\u30ed\u30c3\u30c8\u6570,\u642d\u8f09\u6570,\u56de\u907f,\u5bfe\u6f5c,\u7d22\u6575,\u521d\u671f\u88c5\u5099,\u8266\u5a18\u30d5\u30e9\u30b0,POSTFIX\nSHIP(,1,\"\u7766\u6708\",2,13.24,5.18,6.29,18.59,7.29,12.49,10,1,2,0.0.0.0.0,37.79,16.39,4.17,1.37.-1.-1.-1,1,)\nSHIP(,2,\"\u5982\u6708\",2,13.24,5.18,6.29,18.49,7.29,10.49,10,1,2,0.0.0.0.0,37.69,16.39,4.17,1.-1.-1.-1.-1,1,)\nSHIP(,6,\"\u9577\u6708\",2,13.24,5.18,6.29,18.49,7.29,15.69,10,1,2,0.0.0.0.0,37.69,16.39,4.17,1.-1.-1.-1.-1,1,)\nSHIP(,7,\"\u4e09\u65e5\u6708\",2,13.24,5.18,6.29,18.49,7.29,10.49,10,1,2,0.0.0.0.0,37.69,16.39,4.17,1.-1.-1.-1.-1,1,)\nSHIP(,9,\"\u5439\u96ea\",2,15.29,5.19,10.29,27.79,10.39,17.49,10,1,2,0.0.0.0.0,40.89,20.49,5.19,2.13.-1.-1.-1,1,)\nSHIP(,10,\"\u767d\u96ea\",2,15.29,5.19,10.29,27.69,10.39,10.49,10,1,2,0.0.0.0.0,40.79,20.49,5.19,2.-1.-1.-1.-1,1,)\n```\n\n\u3053\u3093\u306a\u611f\u3058\u306b\u7d30\u5de5\u3057\u307e\u3059\u3002\n\u3053\u306e\u5909\u63db\u306f\u3082\u3061\u308d\u3093\u81ea\u52d5\u5316\u3067\u304d\u307e\u3059\u3002\n[(Feat)generate csv for cpp by yumetodo \u00b7 Pull Request #174 \u00b7 YSRKEN/KanColleSimulator_KAI](https://github.com/YSRKEN/KanColleSimulator_KAI/pull/174)\n\u8a66\u3057\u306bpowershell\u3068bash script\u3067\u81ea\u52d5\u5316\u3057\u307e\u3057\u305f\n\n\u6b21\u306b\n\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/blob/master/KCS_CUI/source/kammusu.hpp\n\n```cpp\nenum class ShipId {\n#define SHIP(PREFIX, ID, NAME, SHIPCLASS, MAX_HP, DEFENSE, ATTACK, TORPEDO, ANTI_AIR, LUCK, SPEED, RANGE, SLOTS, MAX_AIRS, EVADE, ANTI_SUB, SEARCH, FIRST_WEAPONS, KAMMUSU_FLG, POSTFIX)\t\\\n\tI ## D ## ID = ID,\n#include \"ships.csv\"\n#undef SHIP\n};\n```\n\n``SHIP``\u3068\u3044\u3046\u95a2\u6570\u30de\u30af\u30ed\u3092\u4f5c\u3063\u3066\u3001\u5909\u63db\u3057\u3066\u3044\u308b\u3093\u3067\u3059\u306d\u3002\u540c\u69d8\u306b\u3057\u3066\n\n```cpp\nenum class ShipClass {\n\tPT  = 0x00000001,\t// \u9b5a\u96f7\u8247\n\tDD  = 0x00000002,\t// \u99c6\u9010\u8266\n\tCL  = 0x00000004,\t// \u8efd\u5de1\u6d0b\u8266\n\tCLT = 0x00000008,\t// \u91cd\u96f7\u88c5\u5de1\u6d0b\u8266\n\tCA  = 0x00000010,\t// \u91cd\u5de1\u6d0b\u8266\n\tCAV = 0x00000020,\t// \u822a\u7a7a\u5de1\u6d0b\u8266\n\tCVL = 0x00000040,\t// \u8efd\u7a7a\u6bcd\n\tCC  = 0x00000080,\t// \u5de1\u6d0b\u6226\u8266\n\tBB  = 0x00000100,\t// \u6226\u8266\n\tBBV = 0x00000200,\t// \u822a\u7a7a\u6226\u8266\n\tCV  = 0x00000400,\t// \u6b63\u898f\u7a7a\u6bcd\n\tAF  = 0x00000800,\t// \u9678\u4e0a\u578b\n\tSS  = 0x00001000,\t// \u6f5c\u6c34\u8266\n\tSSV = 0x00002000,\t// \u6f5c\u6c34\u7a7a\u6bcd\n\tLST = 0x00004000,\t// \u8f38\u9001\u8266\n\tAV  = 0x00008000,\t// \u6c34\u4e0a\u6a5f\u6bcd\u8266\n\tLHA = 0x00010000,\t// \u63da\u9678\u8266\n\tACV = 0x00020000,\t// \u88c5\u7532\u7a7a\u6bcd\n\tAR  = 0x00040000,\t// \u5de5\u4f5c\u8266\n\tAS  = 0x00080000,\t// \u6f5c\u6c34\u6bcd\u8266\n\tCP  = 0x00100000,\t// \u7df4\u7fd2\u5de1\u6d0b\u8266\n\tAO  = 0x00200000,\t// \u7d66\u6cb9\u8266\n};\nnamespace detail {\n\tconstexpr std::pair<cstring<wchar_t>, ShipId> shipIdMap[] = {\n#define SHIP(PREFIX, ID, NAME, SHIPCLASS, MAX_HP, DEFENSE, ATTACK, TORPEDO, ANTI_AIR, LUCK, SPEED, RANGE, SLOTS, MAX_AIRS, EVADE, ANTI_SUB, SEARCH, FIRST_WEAPONS, KAMMUSU_FLG, POSTFIX)\t\\\n\t\t{ L##NAME, ShipId::I##D##ID },\n#include \"ships.csv\"\n#undef SHIP\n\t};\n\tconstexpr std::pair<cstring<wchar_t>, ShipClass> shipClassMap[] = {\n\t\t{ L\"\u9b5a\u96f7\u8247\", ShipClass::PT },\n\t\t{ L\"\u99c6\u9010\u8266\", ShipClass::DD },\n\t\t{ L\"\u8efd\u5de1\u6d0b\u8266\", ShipClass::CL },\n\t\t{ L\"\u91cd\u96f7\u88c5\u5de1\u6d0b\u8266\", ShipClass::CLT },\n\t\t{ L\"\u91cd\u5de1\u6d0b\u8266\", ShipClass::CA },\n\t\t{ L\"\u822a\u7a7a\u5de1\u6d0b\u8266\", ShipClass::CAV },\n\t\t{ L\"\u8efd\u7a7a\u6bcd\", ShipClass::CVL },\n\t\t{ L\"\u5de1\u6d0b\u6226\u8266\", ShipClass::CC },\n\t\t{ L\"\u6226\u8266\", ShipClass::BB },\n\t\t{ L\"\u822a\u7a7a\u6226\u8266\", ShipClass::BBV },\n\t\t{ L\"\u6b63\u898f\u7a7a\u6bcd\", ShipClass::CV },\n\t\t{ L\"\u9678\u4e0a\u578b\", ShipClass::AF },\n\t\t{ L\"\u6f5c\u6c34\u8266\", ShipClass::SS },\n\t\t{ L\"\u6f5c\u6c34\u7a7a\u6bcd\", ShipClass::SSV },\n\t\t{ L\"\u8f38\u9001\u8266\", ShipClass::LST },\n\t\t{ L\"\u6c34\u4e0a\u6a5f\u6bcd\u8266\", ShipClass::AV },\n\t\t{ L\"\u63da\u9678\u8266\", ShipClass::LHA },\n\t\t{ L\"\u88c5\u7532\u7a7a\u6bcd\",ShipClass::ACV },\n\t\t{ L\"\u5de5\u4f5c\u8266\", ShipClass::AR },\n\t\t{ L\"\u6f5c\u6c34\u6bcd\u8266\", ShipClass::AS },\n\t\t{ L\"\u7df4\u7fd2\u5de1\u6d0b\u8266\", ShipClass::CP },\n\t\t{ L\"\u7d66\u6cb9\u8266\", ShipClass::AO },\n\t};\n}\n```\n\n``cstring``\u306f\u5909\u66f4\u64cd\u4f5c\u304c\u3067\u304d\u306a\u3044\u30b3\u30f3\u30d1\u30a4\u30eb\u6587\u5b57\u5217\u30af\u30e9\u30b9\u3068\u601d\u3063\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/YSRKEN/KanColleSimulator_KAI/blob/master/KCS_CUI/source/cstring.hpp\n\n\u305d\u3046\u3057\u305f\u3089\n\n```cpp\n// \u6587\u5b57\u5217\u304b\u3089\u8266\u8239ID\u3078\u5909\u63db\u3057\u307e\u3059\u3002\n#define SID(STR) (std::integral_constant<ShipId, Single(detail::shipIdMap, L##STR##_cs)>{}())\n// \u6587\u5b57\u5217\u304b\u3089\u8266\u7a2e\u3078\u5909\u63db\u3057\u307e\u3059\u3002\n#define SC(STR) (std::integral_constant<ShipClass, Single(detail::shipClassMap, L##STR##_cs)>{}())\n```\n\n\u3053\u3093\u306a\u30de\u30af\u30ed\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002``_cs``\u306f``cstring``\u3092\u4f5c\u308bUDLs\u3067\u3001``Single``\u306f\u5206\u5272\u7d71\u6cbb\u6cd5\u3092\u4f7f\u3063\u3066\u7b2c1\u5f15\u6570\u306b\u4e0e\u3048\u3089\u308c\u305f\u914d\u5217\u304b\u3089\u7b2c2\u5f15\u6570\u306e\u6587\u5b57\u5217\u306b\u5bfe\u5fdc\u3059\u308b\u5024\u3092\u53d6\u3063\u3066\u304f\u308bconstexpr\u95a2\u6570\u3067\u3059\u3002\n\n``std::integral_constant``\u3092\u565b\u307e\u305b\u3066\u3044\u308b\u7406\u7531\u3067\u3059\u304c\u3001\u3053\u3046\u3057\u306a\u3044\u3067\u4f8b\u3048\u3070\u3053\u308c\u81ea\u4f53\u3082UDLs\u306b\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u8a55\u4fa1\u3057\u3066\u304f\u308c\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u5f37\u5236\u7684\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b``Single``\u95a2\u6570\u3092\u8d70\u3089\u305b\u308b\u305f\u3081\u306btemplate\u5b9f\u5f15\u6570\u3067\u547c\u3073\u51fa\u3059\u305f\u3081\u3067\u3059\u3002\u3067\u3001\u6bce\u56de``std::integral_constant``\u3068\u66f8\u304f\u306e\u306f\u8f9b\u3044\u306e\u3067\u30de\u30af\u30ed\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u3001\u4f8b\u3048\u3070``SID(\"\u4e94\u5341\u9234\u6539\u4e8c\")``\u3068\u3059\u308b\u3053\u3068\u3067enum class\u3067\u3042\u308b``ShipId``\u578b\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u5909\u63db\u3067\u304d\u305f\u308a\u3001``SC(\"\u6226\u8266\")``\u3068\u3059\u308b\u3053\u3068\u3067enum class\u3067\u3042\u308b``ShipClass``\u578b\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u5909\u63db\u3067\u304d\u305f\u308a\u3057\u307e\u3059\u3002\n\n\u6b8b\u5ff5\u306a\u304c\u3089KCS_KAI\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306bDB\u691c\u7d22\u307e\u3067\u306f\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u5b9f\u88c5\u306f\u53ef\u80fd\u3060\u3068\u601d\u3044\u307e\u3059(\u5c06\u6765\u5b9f\u88c5\u3057\u305f\u3044)\u3002\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306bDB\u691c\u7d22\u307e\u3067\u306f\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u306e\u3001\u6587\u5b57\u5217\u3067\u306e``std::unorderd_map``\u691c\u7d22\u3088\u308a\u9065\u304b\u306b\u9ad8\u901f\u5316\u3067\u304d\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u3064\u3044\u3067\u306b\u52d5\u7684\u78ba\u4fdd\u3092\u6e1b\u3089\u305b\u3066\u3044\u308b\u306e\u3067\u3055\u3089\u306a\u308b\u9ad8\u901f\u5316\u306b\u5bc4\u4e0e\u3057\u3066\u3044\u307e\u3059\u3002\n\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">cpp\uff08\u2260c++\uff09\u306e\u52dd\u5229\uff01 <a href=\"https://t.co/4EBEkVZm6d\">https://t.co/4EBEkVZm6d</a></p>&mdash; \u306f\u3047\uff5e\u2606 (@haxe) <a href=\"https://twitter.com/haxe/status/806780847747518465\">2016\u5e7412\u67088\u65e5</a></blockquote>\n\n# \u6761\u4ef6\u5206\u5c90\u4e88\u6e2c\u3092\u6210\u529f\u3055\u305b\u308b\n\n\u5fa1\u5b58\u77e5\u306e\u901a\u308a\u3001CPU\u306f\u6761\u4ef6\u5206\u5c90\u4e88\u6e2c\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u8a73\u3057\u3044\u4ed5\u7d44\u307f\u306fCPU\u5c4b\u306e\u8155\u306e\u898b\u305b\u6240\u3067\u3059\u3057\u3059\u3067\u306b\u305f\u304f\u3055\u3093\u89e3\u8aac\u304c\u3042\u308b\u306e\u3067\u3070\u3063\u3055\u308a\u30ab\u30c3\u30c8\u3057\u3066\u3001**\u554f\u984c\u306f\u6761\u4ef6\u5206\u5c90\u4e88\u6e2c\u306b\u5931\u6557\u3057\u305f\u3068\u304d\u306e\u30b3\u30b9\u30c8\u304c\u5927\u304d\u3044\u3053\u3068\u3067\u3059**\u3002\n\n\u3068\u306f\u3044\u3048\u666e\u901a\u306f\u305d\u3093\u306a\u30b3\u30b9\u30c8\u306f\u57cb\u3082\u308c\u3066\u898b\u3048\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u51e6\u7406\u5185\u5bb9\u306b\u3088\u3063\u3066\u306f\u91cd\u8981\u306a\u4e8b\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u6761\u4ef6\u5206\u5c90\u4e88\u6e2c\u304c\u3046\u307e\u304f\u3044\u304f\u3068\u3001\n\n[\u66f0\u8a18 | 12\u670814\u65e5(\u6c34) Hiroshi Watanabe Home Page](http://apollon.issp.u-tokyo.ac.jp/~watanabe/diary/d201612.html#d14)\n\n\u306e\u3088\u3046\u306b\u3001SIMD\u5316\u3059\u308b\u3088\u308a\u901f\u304f\u306a\u308b\u3053\u3068\u304c\u3042\u308b\u3088\u3046\u3067\u3059(\u30c7\u30fc\u30bf\u306e\u4f9d\u5b58\u6027\u304c\u95a2\u4fc2\u3059\u308b)\n\n## \u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u30d2\u30f3\u30c8\u3092\u4e0e\u3048\u308b\n\nGCC/Clang\u306b\u306f``__builtin_expect``\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\n\n```C:./linux/include/linux/compiler.h \n#define likely(x)\t__builtin_expect(!!(x), 1)\n#define unlikely(x)\t__builtin_expect(!!(x), 0)\n```\n\n\u306e\u3088\u3046\u306b\u3057\u3066\n\n```c\nif(unlikely(0 != errno)) goto fail;\n```\n\n\u307f\u305f\u3044\u306b\u4f7f\u3044\u307e\u3059\u3002Linux\u30ab\u30fc\u30cd\u30eb\u3067\u306f\u3088\u304f\u4f7f\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3001\u3053\u308c\u3092C++\u306eattribute\u3068\u3057\u3066\n\n```cpp:P0479\nif([[unlikely]] 0 != errno) goto fail;\n```\n\n\u8ffd\u52a0\u3059\u308b\u63d0\u6848\u304cC++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306b\u4e0a\u304c\u3063\u3066\u3044\u307e\u3057\u305f\u3002\n\n>\u672c\u306e\u866b: C++\u6a19\u6e96\u5316\u59d4\u54e1\u4f1a\u306e\u6587\u66f8: P0471R0-P0479R0\n>https://cpplover.blogspot.jp/2016/11/c-p0471r0-p0479r0.html\n>[P0479R0: Attributes for Likely and Unlikely Branches](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0479r0.html)\n>\u6761\u4ef6\u5206\u5c90\u306e\u5206\u5c90\u304c\u5b9f\u884c\u3055\u308c\u308b\u983b\u5ea6\u3092\u30d2\u30f3\u30c8\u3068\u3057\u3066\u4e0e\u3048\u308b\u5c5e\u6027\u3001[[likely]]\u3068[[unlikely]]\u306e\u63d0\u6848\u3002\n\n## Profile Guided Optimization\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u6761\u4ef6\u5206\u5c90\u3092\u4e88\u6e2c\u3067\u304d\u306a\u3044\u306a\u3089\u3001\u4e00\u5ea6\u5b9f\u884c\u3057\u3066\u307f\u3066\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u3068\u308c\u3070\u3044\u3044\u3058\u3083\u306a\u3044\u3001\u3068\u3044\u3046\u306e\u304cPGO\u30d3\u30eb\u30c9\u3067\u3059\u3002\u4ed6\u306b\u3082\u95a2\u6570\u3092inline\u5c55\u958b\u3057\u305f\u308a\u3057\u307e\u3059\u3002\n\nGCC\u3067\u306f``-fprofile-generate``\u3092\u3064\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u4e00\u5ea6\u5b9f\u884c\u3057\u3001\u4eca\u5ea6\u306f``-fprofile-use``\u3092\u3064\u3051\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308c\u3070\u3044\u3044\u3088\u3046\u3067\u3059\u3002\n\nVisual Studio\u3067\u3082Community\u7248\u3067PGO\u30d3\u30eb\u30c9\u3067\u304d\u307e\u3059\u3002\n\n- [\u30d5\u30ea\u30fc\u30bd\u30d5\u30c8\u306e\u65c5\uff08windows\uff09\u3000 \u7121\u610f\u5473\u3060\u3068\u3057\u3066\u3082\u79c1\u306fPGO\u30d3\u30eb\u30c9\u3092\u3059\u308b](http://freesofutotravel.blog94.fc2.com/blog-entry-20.html)\n- [rigaya\u306e\u65e5\u8a18\u517c\u30e1\u30e2\u5e33 x265 \u30d3\u30eb\u30c9 \uff5e Visual Studio PGO\u30d3\u30eb\u30c9](http://rigaya34589.blog135.fc2.com/blog-entry-540.html)\n\n\u307e\u3042\u305d\u3053\u307e\u3067\u624b\u9593\u3082\u304b\u304b\u3089\u306a\u3044\u306e\u3067\u3084\u3063\u3066\u640d\u306f\u3057\u306a\u3044\u304b\u306a\u3041\u30fb\u30fb\u30fb\u3002\n\n# \u6761\u4ef6\u5206\u5c90\u3092bit\u6f14\u7b97\u306b\u3057\u3066\u6d88\u3059\n\n\u5206\u5c90\u4e88\u6e2c\u3092\u6210\u529f\u3055\u305b\u308b\u624b\u6bb5\u3092\u66f8\u304d\u307e\u3057\u305f\u304c\u3001**\u5206\u5c90\u304c\u307b\u307c\u540c\u78ba\u7387\u306a\u6642\u306f\u3069\u3046\u306b\u3082\u306a\u308a\u307e\u305b\u3093\u3002**\n\n\u305d\u3053\u3067\u6d3b\u8e8d\u3059\u308b\u3053\u3068\u304c\u3042\u308b**\u304b\u3082**\u3057\u308c\u306a\u3044\u306e\u304cbit\u6f14\u7b97\u3067\u3059\u3002bit\u6f14\u7b97\u306fSIMD\u3068\u306e\u76f8\u6027\u3082\u826f\u3044\u306e\u3067\u3001\u6761\u4ef6\u5206\u5c90\u304c\u30cd\u30c3\u30af\u306a\u5834\u5408\u306f\u5207\u308a\u672d\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u30d3\u30c3\u30c8\u6f14\u7b97\u306b\u3064\u3044\u3066\u306f\u30ac\u30c1\u52e2?\u306e\u65b9\u305f\u3061\u304c\n\u30d3\u30c3\u30c8\u6f14\u7b97\u30c6\u30af\u30cb\u30c3\u30af Advent Calendar 2016 - Adventar\nhttp://www.adventar.org/calendars/1403\n\u8a18\u4e8b\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\n\u5148\u7a0b\u304b\u3089\u4f55\u56de\u304b\u540d\u524d\u304c\u51fa\u3066\u304d\u305f @YSRKEN \u3055\u3093\u304c\u958b\u767a\u4e2d\u306e\u9023\u73e0\u306e\u89e3\u6cd5\u63a2\u7d22\u30bd\u30d5\u30c8Shioi\u3067\u306f\u73fe\u5728\u5224\u5b9a\u306e\u591a\u304f\u3092SIMD\u5316\u3057\u305fbit\u6f14\u7b97\u3067\u884c\u3046\u3068\u3044\u3046~~\u66b4\u6319~~\u5feb\u6319\u306b\u51fa\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\nYSRKEN/Shioi at add_iona\nhttps://github.com/YSRKEN/Shioi/tree/add_iona\n\n\u3053\u308c\u306e\u89e3\u8aac\u8a18\u4e8b\u304c\nYSR\u7814\u7a76\u6240 |\u9023\u73e0\u3092\u30d3\u30c3\u30c8\u30dc\u30fc\u30c9\u3067\u8868\u73fe\u3057\u3066\u307f\u308b\u3010\u30d3\u30c3\u30c8\u6f14\u7b97\u30c6\u30af\u30cb\u30c3\u30af Advent Calendar 2016 6\u65e5\u76ee\u3011\nhttp://ysrken.blog.fc2.com/blog-entry-86.html\n\u30d3\u30c3\u30c8\u30dc\u30fc\u30c9\u306e\u51c4\u3055\u3092\u3056\u3063\u304f\u308a\u3068\u89e3\u8aac\u3057\u3066\u307f\u308b\nhttp://qiita.com/YSRKEN/items/29829c7f5beae7900f36\n\u672c\u4eba\u304c\u57f7\u7b46\u3057\u3066\u3044\u3089\u3063\u3057\u3083\u308b\u306e\u3067\u8aad\u3093\u3067\u307f\u308b\u3068\u9762\u767d\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n# \u307e\u3068\u3081\n\n- **\u6c17\u5206\u3067\u9ad8\u901f\u5316\u3057\u306a\u3044\u3001\u304d\u3061\u3093\u3068\u8a08\u6e2c\u3057\u3066\u6226\u7565\u3092\u7df4\u3063\u3066\u304b\u3089**\n- \u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306e\u9078\u629e\u306f\u8a08\u7b97\u30aa\u30fc\u30c0\u30fc\u3070\u3063\u304b\u308a\u3058\u3083\u306a\u304f\u3066\u3001\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u56de\u6570\u3084\u30e1\u30e2\u30ea\u30fc\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u306e\u3053\u3068\u3082\u8003\u3048\u3088\u3046\n- **\u30e1\u30e2\u30ea\u30fc\u78ba\u4fdd\u306f\u3068\u306b\u304b\u304f\u91cd\u3044\u304b\u3089\u6d88\u3057\u98db\u3070\u305b\u3001``std::array``\u5f37\u3044**\n- \u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u3067\u304d\u308b\u3053\u3068\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\n\n# \u7d42\u308f\u308a\u306b\n\n\u3061\u3087\u3063\u3068\u6765\u9031\u306eAdC\u306e\u6e96\u5099\u306b\u624b\u9593\u53d6\u3063\u3066\u305f\u3089\u3053\u306e\u8a18\u4e8b\u66f8\u304f\u306e\u9045\u308c\u307e\u3057\u305f\u3059\u307f\u307e\u305b\u3093\u3002\u3082\u3046\u5c11\u3057\u7d75\u3092\u3044\u308c\u3066\u8aac\u660e\u3057\u305f\u304b\u3063\u305f\u3051\u3069\u6587\u5b57\u3070\u3063\u304b\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\n\n# C++Advent Calendar 2016\n\n\u660e\u65e5\u306fFuyutsubaki\u3055\u3093\u304c\u306a\u3093\u304b\u66f8\u304f\u305d\u3046\u3067\u3059\u3002~~\u4f55\u3092\u66f8\u304f\u3093\u3067\u3057\u3087\u3046\u304b\u306d\u3047\u30fb\u30fb\u30fb(\u9707\u3048)\u3002~~\u30de\u30af\u30ed\u304b\u3089\u306eC++17\u3067\u8ffd\u52a0\u3055\u308c\u305f\u69cb\u9020\u5316\u675f\u7e1b\u306e\u6d3b\u7528\u4f8b\u3067\u3057\u305f\u3002\n[<< 7\u65e5\u76ee | C++\u5f62\u5f0f\u306e\u5171\u6709\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u66f8\u304d\u65b9(gcc\u7de8)](http://qiita.com/Chironian/items/3fb61cffa2a20dbee5c2) || 9\u65e5\u76ee | [\u6700\u8fd1\u66f8\u3044\u305f\u30de\u30af\u30ed\uff08\u69cb\u9020\u4f53\u3092tuple\u306b\u5909\u63db\u3057\u305f\u3044\uff09 - TXT.TXT](http://txt-txt.hateblo.jp/entry/2016/12/09/225148)/[\u305d\u308c\u3067\u3082\u69cb\u9020\u4f53\u3092tuple\u306b\u5909\u63db\u3057\u305f\u3044 - TXT.TXT](http://txt-txt.hateblo.jp/entry/2016/12/09/225641) >>\n", "tags": ["C++", "C++11", "\u9ad8\u901f\u5316", "\u6700\u9069\u5316", "performance"]}