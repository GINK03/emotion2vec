{"context": "\n\n\u76ee\u7684\n\nCocos2d-x \u30a2\u30d7\u30ea\u306e\u30d3\u30eb\u30c9\u3092\u901f\u304f\u3057\u305f\u3044\n\n\n\ncocos new \u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3057\u305f Xcode \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001\u30af\u30ea\u30fc\u30f3\u30d3\u30eb\u30c9\u306e\u5ea6\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u90e8\u5206\u3082\u518d\u30d3\u30eb\u30c9\u3059\u308b\n\n\nXcode \u304c Cocos2d-x \u30e9\u30a4\u30d6\u30e9\u30ea\u90e8\u5206\u306b\u5bfe\u3057\u3066\u8868\u793a\u3059\u308b\u8b66\u544a\u3092\u898b\u305f\u304f\u306a\u3044\nCocos2d-x \u3092\u65e2\u5b58\u30a2\u30d7\u30ea\u306b\u7d44\u307f\u8fbc\u3080\u6e96\u5099\n\n\n\u74b0\u5883\n\nMac OS X 10.11.5 (\u82f1\u8a9e)\nXcode 7.3.1\nCocos2d-x 3.12\n\n\n\u65b9\u91dd\n\niOS SDK \u306f 9.3\niOS Deployment Target \u306f 8.0\n\n\n\u624b\u9806\ncocos2d-x-3.12 \u3092\u5c55\u958b\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\n$ cd build\n\n$ xcodebuild -project cocos2d_libs.xcodeproj -scheme \"libcocos2d iOS\" -configuration Release -sdk iphoneos9.3 \\\n    clean build ARCHS='armv7 armv7s' VALID_ARCHS='armv7 armv7s' IPHONEOS_DEPLOYMENT_TARGET=8.0 \\\n    TARGET_BUILD_DIR=tmp/arm BUILT_PRODUCTS_DIR=tmp/arm OBJROOT=tmp/arm SYMROOT=tmp/arm \\\n    OTHER_CFLAGS=-fembed-bitcode\n\n$ xcodebuild -project cocos2d_libs.xcodeproj -scheme \"libcocos2d iOS\" -configuration Release -sdk iphoneos9.3 \\\n    clean build ARCHS='arm64' VALID_ARCHS='arm64' IPHONEOS_DEPLOYMENT_TARGET=8.0 \\\n    TARGET_BUILD_DIR=tmp/arm64 BUILT_PRODUCTS_DIR=tmp/arm64 OBJROOT=tmp/arm64 SYMROOT=tmp/arm64 \\\n    OTHER_CFLAGS=-fembed-bitcode\n\n$ xcodebuild -project cocos2d_libs.xcodeproj -scheme \"libcocos2d iOS\" -configuration Release -sdk iphonesimulator9.3 \\\n    clean build ARCHS='i386' VALID_ARCHS='i386' IPHONEOS_DEPLOYMENT_TARGET=8.0 \\\n    TARGET_BUILD_DIR=tmp/i386 BUILT_PRODUCTS_DIR=tmp/i386 OBJROOT=tmp/i386 SYMROOT=tmp/i386 \\\n    OTHER_CFLAGS=-fembed-bitcode\n\n$ xcodebuild -project cocos2d_libs.xcodeproj -scheme \"libcocos2d iOS\" -configuration Release -sdk iphonesimulator9.3 \\\n    clean build ARCHS='x86_64' VALID_ARCHS='x86_64' IPHONEOS_DEPLOYMENT_TARGET=8.0 \\\n    TARGET_BUILD_DIR=tmp/x86_64 BUILT_PRODUCTS_DIR=tmp/x86_64 OBJROOT=tmp/x86_64 SYMROOT=tmp/x86_64 \\\n    OTHER_CFLAGS=-fembed-bitcode\n\n$ lipo -create -output \"libcocos2d iOS.a\" \\\n    \"tmp/arm/libcocos2d iOS.a\" \\\n    \"tmp/arm64/libcocos2d iOS.a\" \\\n    \"tmp/i386/libcocos2d iOS.a\" \\\n    \"tmp/x86_64/libcocos2d iOS.a\"\n\n$ rm -rf tmp\n\n\n\n2016-07-16: Xcode \u304b\u3089 iphone \u5b9f\u6a5f\u3067 Run \u3057\u3088\u3046\u3068\u3059\u308b\u3068\u4ee5\u4e0b\u306e bitcode \u306e\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u305f\u3081 OTHER_CFLAGS=-fembed-bitcode \u3092\u8ffd\u52a0\nld: '.../cocos2d-x/build/libcocos2d iOS.a(CCEAGLView-ios.o)' does not contain bitcode. You must rebuild it with bitcode enabled (Xcode setting ENABLE_BITCODE), obtain an updated library from the vendor, or disable bitcode for this target. for architecture armv7\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n\n\n\n-fembed-bitcode \u306b\u3088\u308a libcocos2d iOS.a \u306f 137.5MB \u304b\u3089 325.8MB \u306b\u306a\u3063\u305f\n\u3053\u308c\u3060\u3051\u3060\u3068 cocos2d-x-3rd-party-libs-bin \u3067 bitcode \u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u306e\u3067 CCEAGLView-ios.o \u306e\u4ee3\u308f\u308a\u306b ftbase.ios8_armv7.o \u3067\u540c\u3058\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046\n\n\ncocos2d-x-3rd-party-libs-bin \u306e v3-deps-103 \u30ea\u30ea\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u3082\u540c\u69d8\u3060\u3063\u305f\n\ncocos2d-x-3rd-party-libs-src \u3092 bitcode \u6709\u52b9\u306b\u3057\u3066\u30d3\u30eb\u30c9\u3057\u3066\u304b\u3089\u4e0a\u8a18\u624b\u9806\u3092\u5b9f\u65bd\u3059\u308b\u3068 bitcode \u306e\u30a8\u30e9\u30fc\u304c\u306a\u304f\u306a\u308b\n\n\n\nOTHER_CFLAGS=-fembed-bitcode \u306e\u4ee3\u308f\u308a\u306b ENABLE_BITCODE=YES \u3092\u6307\u5b9a\u3059\u308b\u3068 clang \u306e\u5f15\u6570\u306b -fembed-bitcode-marker \u304c\u8ffd\u52a0\u3055\u308c\u308b\u304c\u540c\u3058\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046 (libcocos2d iOS.a \u306f 138.2MB)\n\n\n\n\n\u78ba\u8a8d\n\n\ncocos new \u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3057\u305f Xcode \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304b\u3089 cocos2d_libs \u30b5\u30d6\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\n\n\n\u30d3\u30eb\u30c9\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u308b\u72b6\u614b\u306b\u306a\u308b\n\n\n\u4f5c\u6210\u3057\u305f libcocos2d iOS.a \u3092 Finder \u304b\u3089 Xcode \u3067\u958b\u3044\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e Frameworks \u3078\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\n\n\n\u30af\u30ea\u30fc\u30f3\u30d3\u30eb\u30c9\u304c\u65e9\u304f\u306a\u3063\u305f\n\n\n\n\n\u53c2\u8003\n\nBuild cocos2d-x fat static library\n\n# \u76ee\u7684\n\n1. Cocos2d-x \u30a2\u30d7\u30ea\u306e\u30d3\u30eb\u30c9\u3092\u901f\u304f\u3057\u305f\u3044\n    1. ```cocos new``` \u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3057\u305f Xcode \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u3001\u30af\u30ea\u30fc\u30f3\u30d3\u30eb\u30c9\u306e\u5ea6\u306b\u30e9\u30a4\u30d6\u30e9\u30ea\u90e8\u5206\u3082\u518d\u30d3\u30eb\u30c9\u3059\u308b\n2. Xcode \u304c Cocos2d-x \u30e9\u30a4\u30d6\u30e9\u30ea\u90e8\u5206\u306b\u5bfe\u3057\u3066\u8868\u793a\u3059\u308b\u8b66\u544a\u3092\u898b\u305f\u304f\u306a\u3044\n3. Cocos2d-x \u3092\u65e2\u5b58\u30a2\u30d7\u30ea\u306b\u7d44\u307f\u8fbc\u3080\u6e96\u5099\n\n# \u74b0\u5883\n\n1. Mac OS X 10.11.5 (\u82f1\u8a9e)\n2. Xcode 7.3.1\n3. Cocos2d-x 3.12\n\n# \u65b9\u91dd\n\n1. iOS SDK \u306f 9.3\n2. iOS Deployment Target \u306f 8.0\n\n# \u624b\u9806\ncocos2d-x-3.12 \u3092\u5c55\u958b\u3057\u305f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\n\n```\n$ cd build\n\n$ xcodebuild -project cocos2d_libs.xcodeproj -scheme \"libcocos2d iOS\" -configuration Release -sdk iphoneos9.3 \\\n    clean build ARCHS='armv7 armv7s' VALID_ARCHS='armv7 armv7s' IPHONEOS_DEPLOYMENT_TARGET=8.0 \\\n    TARGET_BUILD_DIR=tmp/arm BUILT_PRODUCTS_DIR=tmp/arm OBJROOT=tmp/arm SYMROOT=tmp/arm \\\n    OTHER_CFLAGS=-fembed-bitcode\n\n$ xcodebuild -project cocos2d_libs.xcodeproj -scheme \"libcocos2d iOS\" -configuration Release -sdk iphoneos9.3 \\\n    clean build ARCHS='arm64' VALID_ARCHS='arm64' IPHONEOS_DEPLOYMENT_TARGET=8.0 \\\n    TARGET_BUILD_DIR=tmp/arm64 BUILT_PRODUCTS_DIR=tmp/arm64 OBJROOT=tmp/arm64 SYMROOT=tmp/arm64 \\\n    OTHER_CFLAGS=-fembed-bitcode\n\n$ xcodebuild -project cocos2d_libs.xcodeproj -scheme \"libcocos2d iOS\" -configuration Release -sdk iphonesimulator9.3 \\\n    clean build ARCHS='i386' VALID_ARCHS='i386' IPHONEOS_DEPLOYMENT_TARGET=8.0 \\\n    TARGET_BUILD_DIR=tmp/i386 BUILT_PRODUCTS_DIR=tmp/i386 OBJROOT=tmp/i386 SYMROOT=tmp/i386 \\\n    OTHER_CFLAGS=-fembed-bitcode\n\n$ xcodebuild -project cocos2d_libs.xcodeproj -scheme \"libcocos2d iOS\" -configuration Release -sdk iphonesimulator9.3 \\\n    clean build ARCHS='x86_64' VALID_ARCHS='x86_64' IPHONEOS_DEPLOYMENT_TARGET=8.0 \\\n    TARGET_BUILD_DIR=tmp/x86_64 BUILT_PRODUCTS_DIR=tmp/x86_64 OBJROOT=tmp/x86_64 SYMROOT=tmp/x86_64 \\\n    OTHER_CFLAGS=-fembed-bitcode\n\n$ lipo -create -output \"libcocos2d iOS.a\" \\\n    \"tmp/arm/libcocos2d iOS.a\" \\\n    \"tmp/arm64/libcocos2d iOS.a\" \\\n    \"tmp/i386/libcocos2d iOS.a\" \\\n    \"tmp/x86_64/libcocos2d iOS.a\"\n\n$ rm -rf tmp\n```\n\n  1. 2016-07-16: Xcode \u304b\u3089 iphone \u5b9f\u6a5f\u3067 Run \u3057\u3088\u3046\u3068\u3059\u308b\u3068\u4ee5\u4e0b\u306e bitcode \u306e\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u305f\u3081 ```OTHER_CFLAGS=-fembed-bitcode``` \u3092\u8ffd\u52a0\n\n    ```\nld: '.../cocos2d-x/build/libcocos2d iOS.a(CCEAGLView-ios.o)' does not contain bitcode. You must rebuild it with bitcode enabled (Xcode setting ENABLE_BITCODE), obtain an updated library from the vendor, or disable bitcode for this target. for architecture armv7\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n```\n\n    1. ```-fembed-bitcode``` \u306b\u3088\u308a libcocos2d iOS.a \u306f 137.5MB \u304b\u3089 325.8MB \u306b\u306a\u3063\u305f\n    2. \u3053\u308c\u3060\u3051\u3060\u3068 [cocos2d-x-3rd-party-libs-bin](https://github.com/cocos2d/cocos2d-x-3rd-party-libs-bin) \u3067 bitcode \u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u306e\u3067 CCEAGLView-ios.o \u306e\u4ee3\u308f\u308a\u306b ftbase.ios8_armv7.o \u3067\u540c\u3058\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046\n        1. cocos2d-x-3rd-party-libs-bin \u306e v3-deps-103 \u30ea\u30ea\u30fc\u30b9\u3092\u4f7f\u3063\u3066\u3082\u540c\u69d8\u3060\u3063\u305f\n        2. [cocos2d-x-3rd-party-libs-src \u3092 bitcode \u6709\u52b9\u306b\u3057\u3066\u30d3\u30eb\u30c9](http://qiita.com/ken1ma/items/004233c3e725aad73382)\u3057\u3066\u304b\u3089\u4e0a\u8a18\u624b\u9806\u3092\u5b9f\u65bd\u3059\u308b\u3068 bitcode \u306e\u30a8\u30e9\u30fc\u304c\u306a\u304f\u306a\u308b\n    3. ```OTHER_CFLAGS=-fembed-bitcode``` \u306e\u4ee3\u308f\u308a\u306b ```ENABLE_BITCODE=YES``` \u3092\u6307\u5b9a\u3059\u308b\u3068 clang \u306e\u5f15\u6570\u306b ```-fembed-bitcode-marker``` \u304c\u8ffd\u52a0\u3055\u308c\u308b\u304c\u540c\u3058\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3057\u307e\u3046 (libcocos2d iOS.a \u306f 138.2MB)\n\n# \u78ba\u8a8d\n\n1. ```cocos new``` \u30b3\u30de\u30f3\u30c9\u3067\u4f5c\u6210\u3057\u305f Xcode \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304b\u3089 cocos2d_libs \u30b5\u30d6\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\n    1. \u30d3\u30eb\u30c9\u30a8\u30e9\u30fc\u304c\u8d77\u304d\u308b\u72b6\u614b\u306b\u306a\u308b\n2. \u4f5c\u6210\u3057\u305f libcocos2d iOS.a \u3092 Finder \u304b\u3089 Xcode \u3067\u958b\u3044\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e Frameworks \u3078\u30c9\u30e9\u30c3\u30b0\uff06\u30c9\u30ed\u30c3\u30d7\n    1. \u30af\u30ea\u30fc\u30f3\u30d3\u30eb\u30c9\u304c\u65e9\u304f\u306a\u3063\u305f\n\n# \u53c2\u8003\n\n1. [Build cocos2d-x fat static library](http://www.nicnocquee.com/2016/01/20/build-cocos2d-x-fat-static-library.html)\n", "tags": ["cocos2d-x", "iOS"]}