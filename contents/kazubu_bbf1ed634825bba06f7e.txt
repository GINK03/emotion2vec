{"context": "\u3053\u3093\u306b\u3061\u306f\u3002\n\u4eca\u65e5\u306fJuniper\u304c\u516c\u958b\u3057\u3066\u3044\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306a\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30e9\u30dc\u652f\u63f4\u30c4\u30fc\u30eb\u306eWistar\u3092\u4f7f\u3063\u3066\u3001\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6a5f\u5668(NFV)\u3092\u4f7f\u3063\u305f\u4eee\u60f3\u30e9\u30dc\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u3084\u3063\u305f\u30fc\uff01\n\u3061\u306a\u307f\u306b\u3001\u4eca\u306e\u3068\u3053\u308d\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u4eee\u60f3\u30eb\u30fc\u30bf\u3084\u30a2\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\nJuniper vMX 15.1\nJuniper vSRX 15.1X49\nJuniper vQFX 15.1X53\nJuniper Junos Space\nUbuntu 14.04 cloud-image\nUbuntu 16.04 cloud-image\n\nvMX, vSRX, vQFX\u306fJuniper\u306e\u30b5\u30a4\u30c8\u304b\u3089\u8a66\u7528\u7248\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u306e\u3067\u3001\u8ab0\u3067\u3082\u81ea\u5b85\u306b\u4eee\u60f3\u30e9\u30dc\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3059\u3054\u30fc\u3044\uff01\nvMX Free Trial\nvSRX Free Trial\nvQFX Free Trial\n\u3053\u3053\u304b\u3089\u306f\u771f\u9762\u76ee\u306b\u66f8\u304d\u307e\u3059\u3002\n\n\u74b0\u5883\n\u4eca\u56de\u306f\u81ea\u5b85\u306b\u8ee2\u304c\u3063\u3066\u3044\u305f\u4ee5\u4e0b\u306e\u30b5\u30fc\u30d0\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d0: DELL PowerEdge R320\n\n\nCPU: Intel Xeon E5-2403v2\nRAM: 48GB\nDisk: 200GB\nOS: Ubuntu 14.04 LTS\n\n\n\u4eee\u60f3\u30eb\u30fc\u30bf:\n\n\nJuniper vMX 16.1R3.10(\u5b9f\u306f\u672a\u30b5\u30dd\u30fc\u30c8\u307f\u305f\u3044\u3067\u3059\u304c)\nJuniper vSRX 15.1X49-D50.3\n\n\n\n\n\u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\nWistar\u306eGithub\u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306eREADME\u3092\u53c2\u8003\u306b\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u307e\u305a\u3001\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092Ubuntu\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ sudo apt-get install python-pip python-dev build-essential qemu-kvm libz-dev libvirt-bin socat python-pexpect python-libvirt libxml2-dev libxslt1-dev unzip bridge-utils genisoimage python-netaddr libffi-dev libssl-dev python-markupsafe libxml2-dev libxslt1-dev git mtools\n\n\u7d9a\u3044\u3066\u3001\u5fc5\u8981\u306aPython\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n$ sudo pip install pyvbox junos-eznc pyYAML Django==1.9.9 cryptography==1.2.1 websocket-client\n\nREADME\u3067\u306f\u3001\u5916\u90e8\u306e\u74b0\u5883\u3068\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u63a5\u7d9a\u3057\u305f\u3044\u5834\u5408\u306b\u306f\u3001Linux\u4e0a\u3067Bridge\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3068\u3044\u3046\u8a18\u8f09\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306f\u3072\u3068\u307e\u305a1\u3064\u306e\u30b5\u30fc\u30d0\u5185\u3067\u5b8c\u7d50\u3055\u305b\u308b\u65b9\u5411\u3067\u9032\u3081\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u7d9a\u3044\u3066\u3001\u5fc5\u8981\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001Wistar\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30af\u30ed\u30fc\u30f3\u3057\u307e\u3059\u3002\n$ sudo mkdir -p /opt/wistar/user_images/instances\n$ sudo mkdir -p /opt/wistar/seeds\n$ sudo mkdir -p /opt/wistar/media\n$ cd /opt/wistar\n$ sudo git clone https://github.com/Juniper/wistar.git\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u521d\u671f\u5316\u3092\u884c\u3044\u3001\u8a66\u3057\u306bHTTP\u30b5\u30fc\u30d3\u30b9\u3092\u7acb\u3061\u4e0a\u3052\u3001Web\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3059\u3002\n$ cd /opt/wistar/wistar\n$ sudo ./manage.py migrate\nOperations to perform:\n  Apply all migrations: sessions, admin, topologies, auth, contenttypes, scripts, images\nRunning migrations:\n  Rendering model states... DONE\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying admin.0002_logentry_remove_auto_add... OK\n  Applying contenttypes.0002_remove_content_type_name... OK\n  Applying auth.0002_alter_permission_name_max_length... OK\n  Applying auth.0003_alter_user_email_max_length... OK\n  Applying auth.0004_alter_user_username_opts... OK\n  Applying auth.0005_alter_user_last_login_null... OK\n  Applying auth.0006_require_contenttypes_0002... OK\n  Applying auth.0007_alter_validators_add_error_messages... OK\n  Applying images.0001_initial... OK\n  Applying scripts.0001_initial... OK\n  Applying sessions.0001_initial... OK\n  Applying topologies.0001_initial... OK\n$ sudo ./manage.py runserver 0.0.0.0:8080\nPerforming system checks...\n\nSystem check identified no issues (0 silenced).\nFebruary 13, 2017 - 13:24:59\nDjango version 1.9.9, using settings 'wistar.settings'\nStarting development server at http://0.0.0.0:8080/\nQuit the server with CONTROL-C.\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u51fa\u3066\u304f\u308c\u3070\u3001Wistar\u306e\u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304c\u5b8c\u4e86\u3057\u3066\u3044\u307e\u3059\u3002\u78ba\u8a8d\u3067\u304d\u305f\u3089Ctrl+C\u3067\u30b5\u30fc\u30d0\u3092\u7d42\u4e86\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067Apache+mod_wsgi\u4e0a\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n$ sudo apt-get install apache2 libapache2-mod-wsgi\n$ sudo sh -c 'cat > /etc/apache2/sites-enabled/999-wistar.conf'\nDefine wistar_path /opt/wistar/wistar\nListen 8080\n<VirtualHost *:8080>\n    WSGIScriptAlias / ${wistar_path}/wistar/wsgi.py\n    WSGIDaemonProcess wistar python-path=${wistar_path}\n    WSGIProcessGroup wistar\n    ErrorLog /var/log/apache2/wistar.log\n    CustomLog /var/log/apache2/wistar_access.log combined\n    Alias /static/ ${wistar_path}/common/static/\n\n    <Directory \"${wistar_path}/common/static\">\n        Require all granted\n    </Directory>\n    <Directory ${wistar_path}>\n        <Files wsgi.py>\n            Require all granted\n        </Files>\n    </Directory>\n</VirtualHost>\n^D\n$ sudo chown -R www-data /opt/wistar\n$ sudo chown www-data /var/log/wistar.log\n$ sudo usermod -a -G libvirtd www-data\n$ sudo service apache2 restart\n\n\n\u4eee\u60f3\u30eb\u30fc\u30bf\u30a4\u30e1\u30fc\u30b8\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\u3053\u3053\u307e\u3067\u3067\u3001Wistar\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u7d9a\u3044\u3066\u3001\u4eee\u60f3\u30eb\u30fc\u30bf\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u307f\u307e\u3059\u3002\n\u4e0a\u90e8\u30e1\u30cb\u30e5\u30fc\u304b\u3089Images -> Upload Image\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\u30a4\u30e1\u30fc\u30b8\u306e\u8ffd\u52a0\u753b\u9762\u304c\u51fa\u308b\u306e\u3067\u3001\u5404\u7a2e\u30a4\u30e1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070vSRX\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u3067\u3059\u3002\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30a4\u30e1\u30fc\u30b8\u4e00\u89a7\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\u8ffd\u52a0\u306b\u5931\u6557\u3059\u308b\u5834\u5408\u306f\u3001/var/log/wistar.log\u3084\u3001/var/log/apache2/wistar.log \u3092\u53c2\u7167\u3057\u3066\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u3092\u8abf\u3079\u3066\u304f\u3060\u3055\u3044\u3002\n\u540c\u3058\u8981\u9818\u3067vMX\u7b49\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\n\u30c8\u30dd\u30ed\u30b8\u306e\u4f5c\u6210\n\u30a4\u30e1\u30fc\u30b8\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u6b21\u306f\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u5b9f\u969b\u306b\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u4e0a\u90e8\u306eTopologies\u304b\u3089Create Topology\u3092\u9078\u3076\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u958b\u304d\u307e\u3059\u3002\n\nAdd VM\u3092\u9078\u629e\u3057\u3001\u8ffd\u52a0\u3057\u305f\u3044\u4eee\u60f3\u30eb\u30fc\u30bf\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u9078\u3073\u307e\u3059\u3002\u305f\u3068\u3048\u3070vMX\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u3067\u9078\u629e\u3067\u304d\u307e\u3059\u3002\n\n\u8ffd\u52a0\u3059\u308b\u3068\u3001\u30c8\u30dd\u30ed\u30b8\u56f3\u306e\u4e0a\u306b\u4eee\u60f3\u30eb\u30fc\u30bf\u304c\u73fe\u308c\u307e\u3059\u3002\n\n\u540c\u3058\u3088\u3046\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u307f\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8907\u6570\u306e\u4eee\u60f3\u30eb\u30fc\u30bf\u304c\u30c8\u30dd\u30ed\u30b8\u4e0a\u306b\u5b58\u5728\u3059\u308b\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u4eee\u60f3\u30eb\u30fc\u30bf\u306e\u4e2d\u592e\u306b\u3042\u308b\u4e38\u3092\u30c9\u30e9\u30c3\u30b0\u30a2\u30f3\u30c9\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u30eb\u30fc\u30bf\u9593\u3092\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\u307e\u305f\u3001\u4eee\u60f3\u30eb\u30fc\u30bf\u306f\u30c9\u30e9\u30c3\u30b0\u30a2\u30f3\u30c9\u30c9\u30ed\u30c3\u30d7\u306b\u3088\u3063\u3066\u4efb\u610f\u306e\u5834\u6240\u306b\u79fb\u52d5\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\u9069\u5f53\u306b\u63a5\u7d9a\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30c8\u30dd\u30ed\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n\u305d\u308c\u3067\u306f\u3001\u65e9\u901f\u8d77\u52d5\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u5de6\u4e0a\u306eSave\u3092\u62bc\u3059\u3068\u540d\u524d\u3092\u805e\u304b\u308c\u308b\u306e\u3067\u3001\u9069\u5f53\u306a\u540d\u524d\u3092\u4ed8\u3051\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\u3059\u308b\u3068\u5de6\u306b\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001Deploy To Hypervisor\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\u5c11\u3057\u3059\u308b\u3068\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4f5c\u6210\u304c\u5b8c\u4e86\u3057\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3068\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u4e0b\u306eStart Topology\u3092\u9078\u629e\u3057\u3001\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u8d77\u52d5\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8d77\u52d5\u304c\u958b\u59cb\u3057\u307e\u3059\u3002\u5168\u3066\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u5c11\u3057\u5f85\u3064\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u8d77\u52d5\u306e\u69d8\u5b50\u306f\u5de6\u5074\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u8d77\u52d5\u304c\u958b\u59cb\u3055\u308c\u3066\u3044\u308bVM\u306b\u3064\u3044\u3066\u306f\u3001\u753b\u9762\u306e\u30de\u30fc\u30af\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u3001VGA\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u63a5\u7d9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n\n\u4eee\u60f3\u30eb\u30fc\u30bf\u304c\u5b8c\u5168\u306b\u8d77\u52d5\u3059\u308b\u3068\u3001\u30c8\u30dd\u30ed\u30b8\u56f3\u4e0a\u306e\u30eb\u30fc\u30bf\u30a2\u30a4\u30b3\u30f3\u306b\u7dd1\u306e\u4e38\u304c\u70b9\u706f\u3057\u307e\u3059\u3002\u3053\u306e\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u3001\u305d\u306e\u4eee\u60f3\u30eb\u30fc\u30bf\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n\n\u4eee\u60f3\u30eb\u30fc\u30bf\u3078\u306e\u30ed\u30b0\u30a4\u30f3\n\u4eee\u60f3\u30eb\u30fc\u30bf\u304c\u8d77\u52d5\u3059\u308b\u3068\u3001Wistar\u304c\u81ea\u52d5\u7684\u306bIP\u30a2\u30c9\u30ec\u30b9\u3068\u30e6\u30fc\u30b6\u306e\u8a2d\u5b9a\u307e\u3067\u3092\u884c\u3063\u3066\u304f\u308c\u307e\u3059\u3002\u3059\u3054\u30fc\uff08\uff52\uff59\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u5165\u529b\u3057\u305f\u30e6\u30fc\u30b6\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u3001\u30eb\u30fc\u30bf\u306b\u5bfe\u3057\u3066SSH\u3059\u308b\u3068\u3001\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n$ ssh root@192.168.122.2\nThe authenticity of host '192.168.122.2 (192.168.122.2)' can't be established.\nECDSA key fingerprint is b8:a4:39:38:eb:cc:24:db:21:61:19:70:b0:3b:17:9f.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '192.168.122.2' (ECDSA) to the list of known hosts.\nPassword:\n--- JUNOS 16.1R3.10 Kernel 64-bit  JNPR-10.3-20160927.337663_build\nroot@vmx1:~ # cli\nroot@vmx1> show configuration | display set\nset version 16.1R3.10\nset system host-name vmx1\nset system root-authentication encrypted-password \"$5$IDGbcJyt$AH14ibQ5DG.h4E.D2oYptRgonaZMchNvxhQfsjrRfqD\"\nset system login user wistar uid 2000\nset system login user wistar class super-user\nset system login user wistar authentication encrypted-password \"$5$Sit1BRV5$q5KeDJVYmAY5WxpOm7pKtuLAkpcZKL4TM/oE2mXub0A\"\nset system login user wistar authentication ssh-rsa \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDgjgNd0Lej/1Rpcc9GEEoVV0RVbNW8TPvUzJzOTNZ76aoe83QZnUI5jXJLLg44j/J/vlUyFKEoPQokpezAUBtIyiglhPC0XN3Yxox82vtQxHItQenc8GAYvo6s8kvbDW0FX4xSfo9p3/nUlGrrCPYGrRCUaji76Xk4TQNW6aUVJYp3ReboZhy+3HO/BoljopMoKZF5OxAWhgJZ/+h+ADeoMw68V+sW/t/10yt84GEQ3TBNtSM5wSUh8u+YoPG13Kz36HsMa7gZbp8AABMSrvUys494IOyeQEJUV96bn1V1vyaVMxv/hI0/ektz56R4rwcIVw3V0NXholEPmBXDhWW3 wistar@dummykey\"\nset system services ssh\nset system services netconf ssh\nset system syslog user * any emergency\nset system syslog file messages any notice\nset system syslog file messages authorization info\nset system syslog file interactive-commands interactive-commands any\nset interfaces fxp0 unit 0 family inet address 192.168.122.2/24\nset routing-options static route 0.0.0.0/0 next-hop 192.168.122.1\n\nroot@vmx1> show interfaces terse\nInterface               Admin Link Proto    Local                 Remote\nge-0/0/0                up    up\nlc-0/0/0                up    up\nlc-0/0/0.32769          up    up   vpls\npfe-0/0/0               up    up\npfe-0/0/0.16383         up    up   inet\n                                   inet6\npfh-0/0/0               up    up\npfh-0/0/0.16383         up    up   inet\npfh-0/0/0.16384         up    up   inet\nge-0/0/1                up    up\nge-0/0/2                up    down\nge-0/0/3                up    down\nge-0/0/4                up    down\nge-0/0/5                up    down\nge-0/0/6                up    down\nge-0/0/7                up    down\nge-0/0/8                up    down\nge-0/0/9                up    down\ncbp0                    up    up\ndemux0                  up    up\ndsc                     up    up\nem1                     up    up\nem1.0                   up    up   inet     10.0.0.4/8\n                                            128.0.0.1/2\n                                            128.0.0.4/2\n                                   inet6    fe80::5254:ff:fe00:105/64\n                                            fec0::a:0:0:4/64\n                                   tnp      0x4\nem2                     up    up\nesi                     up    up\nfxp0                    up    up\nfxp0.0                  up    up   inet     192.168.122.2/24\ngre                     up    up\nipip                    up    up\nirb                     up    up\njsrv                    up    up\njsrv.1                  up    up   inet     128.0.0.127/2\nlo0                     up    up\nlo0.16384               up    up   inet     127.0.0.1           --> 0/0\nlo0.16385               up    up   inet\nlsi                     up    up\nmtun                    up    up\npimd                    up    up\npime                    up    up\npip0                    up    up\npp0                     up    up\nrbeb                    up    up\ntap                     up    up\nvtep                    up    up\n\nroot@vmx1>\n\n\u826f\u3044\u611f\u3058\u3067\u3059\u306d\uff01\n\n\u52d5\u4f5c\u78ba\u8a8d\n\u305d\u308c\u305e\u308c\u306e\u30eb\u30fc\u30bf\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u3092\u5165\u308c\u3066\u3001\u9069\u5f53\u306bOSPF\u3092\u56de\u3057\u3066\u307f\u307e\u3059\u3002\n\nvmx1\n\nvmx1.junos\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.0.0/31\nset interfaces ge-0/0/1 unit 0 family inet address 10.0.1.0/31\nset interfaces lo0 unit 0 family inet address 10.255.255.1/32\nset protocols ospf area 0.0.0.0 interface ge-0/0/0.0\nset protocols ospf area 0.0.0.0 interface ge-0/0/1.0\nset protocols ospf area 0.0.0.0 interface lo0.0\n\n\n\nvmx2\n\nvmx2.junos\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.0.1/31\nset interfaces ge-0/0/1 unit 0 family inet address 10.0.2.0/31\nset interfaces lo0 unit 0 family inet address 10.255.255.2/32\nset protocols ospf area 0.0.0.0 interface ge-0/0/0.0\nset protocols ospf area 0.0.0.0 interface ge-0/0/1.0\nset protocols ospf area 0.0.0.0 interface lo0.0\n\n\n\nvsrx1\n\nvsrx1.junos\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.2.1/31\nset interfaces ge-0/0/1 unit 0 family inet address 10.0.1.1/31\nset interfaces lo0 unit 0 family inet address 10.255.255.3/32\nset security policies default-policy permit-all\nset security zones security-zone z1 interfaces ge-0/0/0.0 host-inbound-traffic system-services ping\nset security zones security-zone z1 interfaces ge-0/0/0.0 host-inbound-traffic protocols all\nset security zones security-zone z2 interfaces ge-0/0/1.0 host-inbound-traffic system-services ping\nset security zones security-zone z2 interfaces ge-0/0/1.0 host-inbound-traffic protocols all\nset protocols ospf area 0.0.0.0 interface ge-0/0/0.0\nset protocols ospf area 0.0.0.0 interface ge-0/0/1.0\nset protocols ospf area 0.0.0.0 interface lo0.0\n\n\n\n\u72b6\u614b\u78ba\u8a8d\nWistar\u306e\u5de6\u4e0b\u306b\u3001Junos CLI Automation\u3068\u3044\u3046\u30dc\u30bf\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u30c8\u30dd\u30ed\u30b8\u4e0a\u306e\u5168\u3066\u306eJunos\u30eb\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u540c\u4e00\u306e\u30b3\u30de\u30f3\u30c9\u3092\u9001\u4fe1\u3057\u3001\u7d50\u679c\u3092\u4e00\u89a7\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3082\u306e\u3067\u3059\u3002\n\u8a66\u3057\u306bshow ospf neighbor\u306e\u72b6\u614b\u3092\u53d6\u5f97\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u3069\u3046\u3084\u3089\u3001\u7121\u4e8bOSPF\u304c\u5f35\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\u305f\u30fc\u306e\u3057\u30fc\uff01\n\u96d1\u3067\u3059\u304c\u4ee5\u4e0a\u3067\u3059\u3002Wistar\u306b\u306f\u30b3\u30f3\u30d5\u30a3\u30b0\u306e\u81ea\u52d5\u6d41\u3057\u8fbc\u307f\u3084\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u306e\u81ea\u52d5\u751f\u6210\u3084\u3089\u3044\u308d\u3044\u308d\u306a\u6a5f\u80fd\u304c\u3042\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u3061\u307e\u3061\u307e\u5f04\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\u3053\u3093\u306b\u3061\u306f\u3002\n\n\u4eca\u65e5\u306fJuniper\u304c\u516c\u958b\u3057\u3066\u3044\u308b\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306a\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30e9\u30dc\u652f\u63f4\u30c4\u30fc\u30eb\u306e[Wistar](https://github.com/Juniper/wistar)\u3092\u4f7f\u3063\u3066\u3001\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u6a5f\u5668(NFV)\u3092\u4f7f\u3063\u305f\u4eee\u60f3\u30e9\u30dc\u3092\u4f5c\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\u3084\u3063\u305f\u30fc\uff01\n\n\u3061\u306a\u307f\u306b\u3001\u4eca\u306e\u3068\u3053\u308d\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u4eee\u60f3\u30eb\u30fc\u30bf\u3084\u30a2\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\n* Juniper vMX 15.1\n* Juniper vSRX 15.1X49\n* Juniper vQFX 15.1X53\n* Juniper Junos Space\n* Ubuntu 14.04 cloud-image\n* Ubuntu 16.04 cloud-image\n\nvMX, vSRX, vQFX\u306fJuniper\u306e\u30b5\u30a4\u30c8\u304b\u3089\u8a66\u7528\u7248\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u308b\u306e\u3067\u3001\u8ab0\u3067\u3082\u81ea\u5b85\u306b\u4eee\u60f3\u30e9\u30dc\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3059\u3054\u30fc\u3044\uff01\n\n[vMX Free Trial](http://www.juniper.net/us/en/dm/free-vmx-trial/)\n[vSRX Free Trial](http://www.juniper.net/us/en/dm/free-vsrx-trial/)\n[vQFX Free Trial](http://www.juniper.net/us/en/dm/free-vqfx-trial/)\n\n~~\u3053\u3053\u304b\u3089\u306f\u771f\u9762\u76ee\u306b\u66f8\u304d\u307e\u3059\u3002~~\n\n# \u74b0\u5883\n\n\u4eca\u56de\u306f\u81ea\u5b85\u306b\u8ee2\u304c\u3063\u3066\u3044\u305f\u4ee5\u4e0b\u306e\u30b5\u30fc\u30d0\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n* \u30b5\u30fc\u30d0: DELL PowerEdge R320\n    * CPU: Intel Xeon E5-2403v2\n    * RAM: 48GB\n    * Disk: 200GB\n    * OS: Ubuntu 14.04 LTS\n* \u4eee\u60f3\u30eb\u30fc\u30bf:\n    * Juniper vMX 16.1R3.10(\u5b9f\u306f\u672a\u30b5\u30dd\u30fc\u30c8\u307f\u305f\u3044\u3067\u3059\u304c)\n    * Juniper vSRX 15.1X49-D50.3\n\n# \u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\nWistar\u306eGithub\u30ea\u30dd\u30b8\u30c8\u30ea\u4e0a\u306eREADME\u3092\u53c2\u8003\u306b\u74b0\u5883\u3092\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\u307e\u305a\u3001\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092Ubuntu\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```shell-session\n$ sudo apt-get install python-pip python-dev build-essential qemu-kvm libz-dev libvirt-bin socat python-pexpect python-libvirt libxml2-dev libxslt1-dev unzip bridge-utils genisoimage python-netaddr libffi-dev libssl-dev python-markupsafe libxml2-dev libxslt1-dev git mtools\n```\n\n\u7d9a\u3044\u3066\u3001\u5fc5\u8981\u306aPython\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n```shell-session\n$ sudo pip install pyvbox junos-eznc pyYAML Django==1.9.9 cryptography==1.2.1 websocket-client\n```\n\nREADME\u3067\u306f\u3001\u5916\u90e8\u306e\u74b0\u5883\u3068\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u63a5\u7d9a\u3057\u305f\u3044\u5834\u5408\u306b\u306f\u3001Linux\u4e0a\u3067Bridge\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3068\u3044\u3046\u8a18\u8f09\u304c\u3042\u308a\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306f\u3072\u3068\u307e\u305a1\u3064\u306e\u30b5\u30fc\u30d0\u5185\u3067\u5b8c\u7d50\u3055\u305b\u308b\u65b9\u5411\u3067\u9032\u3081\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u7d9a\u3044\u3066\u3001\u5fc5\u8981\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3001Wistar\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30af\u30ed\u30fc\u30f3\u3057\u307e\u3059\u3002\n\n```shell-session\n$ sudo mkdir -p /opt/wistar/user_images/instances\n$ sudo mkdir -p /opt/wistar/seeds\n$ sudo mkdir -p /opt/wistar/media\n$ cd /opt/wistar\n$ sudo git clone https://github.com/Juniper/wistar.git\n```\n\n\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u521d\u671f\u5316\u3092\u884c\u3044\u3001\u8a66\u3057\u306bHTTP\u30b5\u30fc\u30d3\u30b9\u3092\u7acb\u3061\u4e0a\u3052\u3001Web\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3059\u3002\n\n```shell-session\n$ cd /opt/wistar/wistar\n$ sudo ./manage.py migrate\nOperations to perform:\n  Apply all migrations: sessions, admin, topologies, auth, contenttypes, scripts, images\nRunning migrations:\n  Rendering model states... DONE\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying admin.0002_logentry_remove_auto_add... OK\n  Applying contenttypes.0002_remove_content_type_name... OK\n  Applying auth.0002_alter_permission_name_max_length... OK\n  Applying auth.0003_alter_user_email_max_length... OK\n  Applying auth.0004_alter_user_username_opts... OK\n  Applying auth.0005_alter_user_last_login_null... OK\n  Applying auth.0006_require_contenttypes_0002... OK\n  Applying auth.0007_alter_validators_add_error_messages... OK\n  Applying images.0001_initial... OK\n  Applying scripts.0001_initial... OK\n  Applying sessions.0001_initial... OK\n  Applying topologies.0001_initial... OK\n$ sudo ./manage.py runserver 0.0.0.0:8080\nPerforming system checks...\n\nSystem check identified no issues (0 silenced).\nFebruary 13, 2017 - 13:24:59\nDjango version 1.9.9, using settings 'wistar.settings'\nStarting development server at http://0.0.0.0:8080/\nQuit the server with CONTROL-C.\n```\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u51fa\u3066\u304f\u308c\u3070\u3001Wistar\u306e\u521d\u671f\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304c\u5b8c\u4e86\u3057\u3066\u3044\u307e\u3059\u3002\u78ba\u8a8d\u3067\u304d\u305f\u3089Ctrl+C\u3067\u30b5\u30fc\u30d0\u3092\u7d42\u4e86\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n![wistar-1.png](https://qiita-image-store.s3.amazonaws.com/0/104974/8f0aa3b7-0dc5-38a8-654a-fb2cbe6df57f.png)\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067Apache+mod_wsgi\u4e0a\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```shell-session\n$ sudo apt-get install apache2 libapache2-mod-wsgi\n$ sudo sh -c 'cat > /etc/apache2/sites-enabled/999-wistar.conf'\nDefine wistar_path /opt/wistar/wistar\nListen 8080\n<VirtualHost *:8080>\n    WSGIScriptAlias / ${wistar_path}/wistar/wsgi.py\n    WSGIDaemonProcess wistar python-path=${wistar_path}\n    WSGIProcessGroup wistar\n    ErrorLog /var/log/apache2/wistar.log\n    CustomLog /var/log/apache2/wistar_access.log combined\n    Alias /static/ ${wistar_path}/common/static/\n\n    <Directory \"${wistar_path}/common/static\">\n        Require all granted\n    </Directory>\n    <Directory ${wistar_path}>\n        <Files wsgi.py>\n            Require all granted\n        </Files>\n    </Directory>\n</VirtualHost>\n^D\n$ sudo chown -R www-data /opt/wistar\n$ sudo chown www-data /var/log/wistar.log\n$ sudo usermod -a -G libvirtd www-data\n$ sudo service apache2 restart\n```\n\n# \u4eee\u60f3\u30eb\u30fc\u30bf\u30a4\u30e1\u30fc\u30b8\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\n\n\u3053\u3053\u307e\u3067\u3067\u3001Wistar\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5b8c\u4e86\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u7d9a\u3044\u3066\u3001\u4eee\u60f3\u30eb\u30fc\u30bf\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u307f\u307e\u3059\u3002\n\n\u4e0a\u90e8\u30e1\u30cb\u30e5\u30fc\u304b\u3089Images -> Upload Image\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n![wistar-2.png](https://qiita-image-store.s3.amazonaws.com/0/104974/57fb4a52-2bf2-8ef3-e6e9-7c7c620a27ec.png)\n\n\u30a4\u30e1\u30fc\u30b8\u306e\u8ffd\u52a0\u753b\u9762\u304c\u51fa\u308b\u306e\u3067\u3001\u5404\u7a2e\u30a4\u30e1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u305f\u3068\u3048\u3070vSRX\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u3067\u3059\u3002\n\n![wistar-3.png](https://qiita-image-store.s3.amazonaws.com/0/104974/e76ed13b-bf53-1845-0ec1-5324d5e6b75e.png)\n\n\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30a4\u30e1\u30fc\u30b8\u4e00\u89a7\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\u8ffd\u52a0\u306b\u5931\u6557\u3059\u308b\u5834\u5408\u306f\u3001`/var/log/wistar.log`\u3084\u3001`/var/log/apache2/wistar.log` \u3092\u53c2\u7167\u3057\u3066\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u3092\u8abf\u3079\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u540c\u3058\u8981\u9818\u3067vMX\u7b49\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n![wistar-5.png](https://qiita-image-store.s3.amazonaws.com/0/104974/f8b01c54-794b-43bd-5503-8782595474a4.png)\n\n# \u30c8\u30dd\u30ed\u30b8\u306e\u4f5c\u6210\n\n\u30a4\u30e1\u30fc\u30b8\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u6b21\u306f\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u5b9f\u969b\u306b\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\u4e0a\u90e8\u306eTopologies\u304b\u3089Create Topology\u3092\u9078\u3076\u3068\u3001\u6b21\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u958b\u304d\u307e\u3059\u3002\n\n![wistar-6.png](https://qiita-image-store.s3.amazonaws.com/0/104974/ce9272b2-11fc-e703-b75c-002f09240cc5.png)\n\nAdd VM\u3092\u9078\u629e\u3057\u3001\u8ffd\u52a0\u3057\u305f\u3044\u4eee\u60f3\u30eb\u30fc\u30bf\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u9078\u3073\u307e\u3059\u3002\u305f\u3068\u3048\u3070vMX\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f62\u3067\u9078\u629e\u3067\u304d\u307e\u3059\u3002\n\n![wistar-7.png](https://qiita-image-store.s3.amazonaws.com/0/104974/c0098ece-17c9-f2ba-4b9a-296303471065.png)\n\n\u8ffd\u52a0\u3059\u308b\u3068\u3001\u30c8\u30dd\u30ed\u30b8\u56f3\u306e\u4e0a\u306b\u4eee\u60f3\u30eb\u30fc\u30bf\u304c\u73fe\u308c\u307e\u3059\u3002\n\n![wistar-8.png](https://qiita-image-store.s3.amazonaws.com/0/104974/79050e0f-8ea7-52a1-714e-a479aaad14e5.png)\n\n\u540c\u3058\u3088\u3046\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u30c7\u30d7\u30ed\u30a4\u3057\u3066\u307f\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8907\u6570\u306e\u4eee\u60f3\u30eb\u30fc\u30bf\u304c\u30c8\u30dd\u30ed\u30b8\u4e0a\u306b\u5b58\u5728\u3059\u308b\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\n\n![wistar-9.png](https://qiita-image-store.s3.amazonaws.com/0/104974/b6f8ab1b-4a04-ba04-8989-4e300e990eea.png)\n\n\u4eee\u60f3\u30eb\u30fc\u30bf\u306e\u4e2d\u592e\u306b\u3042\u308b\u4e38\u3092\u30c9\u30e9\u30c3\u30b0\u30a2\u30f3\u30c9\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3053\u3068\u306b\u3088\u308a\u3001\u30eb\u30fc\u30bf\u9593\u3092\u63a5\u7d9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\u307e\u305f\u3001\u4eee\u60f3\u30eb\u30fc\u30bf\u306f\u30c9\u30e9\u30c3\u30b0\u30a2\u30f3\u30c9\u30c9\u30ed\u30c3\u30d7\u306b\u3088\u3063\u3066\u4efb\u610f\u306e\u5834\u6240\u306b\u79fb\u52d5\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n![wistar-10.png](https://qiita-image-store.s3.amazonaws.com/0/104974/699003e2-7148-f29e-85f8-9fd8f10c00d9.png)\n\n\u9069\u5f53\u306b\u63a5\u7d9a\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30c8\u30dd\u30ed\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n\n![wistar-11.png](https://qiita-image-store.s3.amazonaws.com/0/104974/bab9ce7f-1840-e700-e938-390c89f2543f.png)\n\n\u305d\u308c\u3067\u306f\u3001\u65e9\u901f\u8d77\u52d5\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u5de6\u4e0a\u306eSave\u3092\u62bc\u3059\u3068\u540d\u524d\u3092\u805e\u304b\u308c\u308b\u306e\u3067\u3001\u9069\u5f53\u306a\u540d\u524d\u3092\u4ed8\u3051\u3066\u4fdd\u5b58\u3057\u307e\u3059\u3002\u3059\u308b\u3068\u5de6\u306b\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001`Deploy To Hypervisor`\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n![wistar-12.png](https://qiita-image-store.s3.amazonaws.com/0/104974/04c9d7fb-9397-2fa7-6da0-6cb889a62c93.png)\n\n\u5c11\u3057\u3059\u308b\u3068\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u4f5c\u6210\u304c\u5b8c\u4e86\u3057\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3068\u4eee\u60f3\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u305d\u306e\u4e0b\u306e`Start Topology`\u3092\u9078\u629e\u3057\u3001\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u8d77\u52d5\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n![wistar-14.png](https://qiita-image-store.s3.amazonaws.com/0/104974/dc9d9129-9431-1197-2b24-d1c6cc81a3dd.png)\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u8d77\u52d5\u304c\u958b\u59cb\u3057\u307e\u3059\u3002\u5168\u3066\u306e\u4eee\u60f3\u30de\u30b7\u30f3\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u5c11\u3057\u5f85\u3064\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u8d77\u52d5\u306e\u69d8\u5b50\u306f\u5de6\u5074\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u3067\u78ba\u8a8d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u8d77\u52d5\u304c\u958b\u59cb\u3055\u308c\u3066\u3044\u308bVM\u306b\u3064\u3044\u3066\u306f\u3001\u753b\u9762\u306e\u30de\u30fc\u30af\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u3001VGA\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u63a5\u7d9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\n![wistar-15.png](https://qiita-image-store.s3.amazonaws.com/0/104974/2a7b2b93-4442-37ec-68fb-07a13d735537.png)\n\n![wistar-16.png](https://qiita-image-store.s3.amazonaws.com/0/104974/74d3264c-5568-aed3-4f2d-c94259156dfe.png)\n\n\u4eee\u60f3\u30eb\u30fc\u30bf\u304c\u5b8c\u5168\u306b\u8d77\u52d5\u3059\u308b\u3068\u3001\u30c8\u30dd\u30ed\u30b8\u56f3\u4e0a\u306e\u30eb\u30fc\u30bf\u30a2\u30a4\u30b3\u30f3\u306b\u7dd1\u306e\u4e38\u304c\u70b9\u706f\u3057\u307e\u3059\u3002\u3053\u306e\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u3001\u305d\u306e\u4eee\u60f3\u30eb\u30fc\u30bf\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n![wistar-17.png](https://qiita-image-store.s3.amazonaws.com/0/104974/19d72f43-24e0-ee31-4379-073f931d9d7d.png)\n\n# \u4eee\u60f3\u30eb\u30fc\u30bf\u3078\u306e\u30ed\u30b0\u30a4\u30f3\n\n\u4eee\u60f3\u30eb\u30fc\u30bf\u304c\u8d77\u52d5\u3059\u308b\u3068\u3001Wistar\u304c\u81ea\u52d5\u7684\u306bIP\u30a2\u30c9\u30ec\u30b9\u3068\u30e6\u30fc\u30b6\u306e\u8a2d\u5b9a\u307e\u3067\u3092\u884c\u3063\u3066\u304f\u308c\u307e\u3059\u3002\u3059\u3054\u30fc\uff08\uff52\uff59\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u4eee\u60f3\u30eb\u30fc\u30bf\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u5165\u529b\u3057\u305f\u30e6\u30fc\u30b6\u540d\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4f7f\u3063\u3066\u3001\u30eb\u30fc\u30bf\u306b\u5bfe\u3057\u3066SSH\u3059\u308b\u3068\u3001\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002\n\n```shell-session\n$ ssh root@192.168.122.2\nThe authenticity of host '192.168.122.2 (192.168.122.2)' can't be established.\nECDSA key fingerprint is b8:a4:39:38:eb:cc:24:db:21:61:19:70:b0:3b:17:9f.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '192.168.122.2' (ECDSA) to the list of known hosts.\nPassword:\n--- JUNOS 16.1R3.10 Kernel 64-bit  JNPR-10.3-20160927.337663_build\nroot@vmx1:~ # cli\nroot@vmx1> show configuration | display set\nset version 16.1R3.10\nset system host-name vmx1\nset system root-authentication encrypted-password \"$5$IDGbcJyt$AH14ibQ5DG.h4E.D2oYptRgonaZMchNvxhQfsjrRfqD\"\nset system login user wistar uid 2000\nset system login user wistar class super-user\nset system login user wistar authentication encrypted-password \"$5$Sit1BRV5$q5KeDJVYmAY5WxpOm7pKtuLAkpcZKL4TM/oE2mXub0A\"\nset system login user wistar authentication ssh-rsa \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDgjgNd0Lej/1Rpcc9GEEoVV0RVbNW8TPvUzJzOTNZ76aoe83QZnUI5jXJLLg44j/J/vlUyFKEoPQokpezAUBtIyiglhPC0XN3Yxox82vtQxHItQenc8GAYvo6s8kvbDW0FX4xSfo9p3/nUlGrrCPYGrRCUaji76Xk4TQNW6aUVJYp3ReboZhy+3HO/BoljopMoKZF5OxAWhgJZ/+h+ADeoMw68V+sW/t/10yt84GEQ3TBNtSM5wSUh8u+YoPG13Kz36HsMa7gZbp8AABMSrvUys494IOyeQEJUV96bn1V1vyaVMxv/hI0/ektz56R4rwcIVw3V0NXholEPmBXDhWW3 wistar@dummykey\"\nset system services ssh\nset system services netconf ssh\nset system syslog user * any emergency\nset system syslog file messages any notice\nset system syslog file messages authorization info\nset system syslog file interactive-commands interactive-commands any\nset interfaces fxp0 unit 0 family inet address 192.168.122.2/24\nset routing-options static route 0.0.0.0/0 next-hop 192.168.122.1\n\nroot@vmx1> show interfaces terse\nInterface               Admin Link Proto    Local                 Remote\nge-0/0/0                up    up\nlc-0/0/0                up    up\nlc-0/0/0.32769          up    up   vpls\npfe-0/0/0               up    up\npfe-0/0/0.16383         up    up   inet\n                                   inet6\npfh-0/0/0               up    up\npfh-0/0/0.16383         up    up   inet\npfh-0/0/0.16384         up    up   inet\nge-0/0/1                up    up\nge-0/0/2                up    down\nge-0/0/3                up    down\nge-0/0/4                up    down\nge-0/0/5                up    down\nge-0/0/6                up    down\nge-0/0/7                up    down\nge-0/0/8                up    down\nge-0/0/9                up    down\ncbp0                    up    up\ndemux0                  up    up\ndsc                     up    up\nem1                     up    up\nem1.0                   up    up   inet     10.0.0.4/8\n                                            128.0.0.1/2\n                                            128.0.0.4/2\n                                   inet6    fe80::5254:ff:fe00:105/64\n                                            fec0::a:0:0:4/64\n                                   tnp      0x4\nem2                     up    up\nesi                     up    up\nfxp0                    up    up\nfxp0.0                  up    up   inet     192.168.122.2/24\ngre                     up    up\nipip                    up    up\nirb                     up    up\njsrv                    up    up\njsrv.1                  up    up   inet     128.0.0.127/2\nlo0                     up    up\nlo0.16384               up    up   inet     127.0.0.1           --> 0/0\nlo0.16385               up    up   inet\nlsi                     up    up\nmtun                    up    up\npimd                    up    up\npime                    up    up\npip0                    up    up\npp0                     up    up\nrbeb                    up    up\ntap                     up    up\nvtep                    up    up\n\nroot@vmx1>\n```\n\n\u826f\u3044\u611f\u3058\u3067\u3059\u306d\uff01\n\n# \u52d5\u4f5c\u78ba\u8a8d\n\n\u305d\u308c\u305e\u308c\u306e\u30eb\u30fc\u30bf\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u3092\u5165\u308c\u3066\u3001\u9069\u5f53\u306bOSPF\u3092\u56de\u3057\u3066\u307f\u307e\u3059\u3002\n\n## vmx1\n```vmx1.junos\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.0.0/31\nset interfaces ge-0/0/1 unit 0 family inet address 10.0.1.0/31\nset interfaces lo0 unit 0 family inet address 10.255.255.1/32\nset protocols ospf area 0.0.0.0 interface ge-0/0/0.0\nset protocols ospf area 0.0.0.0 interface ge-0/0/1.0\nset protocols ospf area 0.0.0.0 interface lo0.0\n```\n## vmx2\n```vmx2.junos\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.0.1/31\nset interfaces ge-0/0/1 unit 0 family inet address 10.0.2.0/31\nset interfaces lo0 unit 0 family inet address 10.255.255.2/32\nset protocols ospf area 0.0.0.0 interface ge-0/0/0.0\nset protocols ospf area 0.0.0.0 interface ge-0/0/1.0\nset protocols ospf area 0.0.0.0 interface lo0.0\n```\n\n## vsrx1\n```vsrx1.junos\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.2.1/31\nset interfaces ge-0/0/1 unit 0 family inet address 10.0.1.1/31\nset interfaces lo0 unit 0 family inet address 10.255.255.3/32\nset security policies default-policy permit-all\nset security zones security-zone z1 interfaces ge-0/0/0.0 host-inbound-traffic system-services ping\nset security zones security-zone z1 interfaces ge-0/0/0.0 host-inbound-traffic protocols all\nset security zones security-zone z2 interfaces ge-0/0/1.0 host-inbound-traffic system-services ping\nset security zones security-zone z2 interfaces ge-0/0/1.0 host-inbound-traffic protocols all\nset protocols ospf area 0.0.0.0 interface ge-0/0/0.0\nset protocols ospf area 0.0.0.0 interface ge-0/0/1.0\nset protocols ospf area 0.0.0.0 interface lo0.0\n```\n\n# \u72b6\u614b\u78ba\u8a8d\n\nWistar\u306e\u5de6\u4e0b\u306b\u3001`Junos CLI Automation`\u3068\u3044\u3046\u30dc\u30bf\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u30c8\u30dd\u30ed\u30b8\u4e0a\u306e\u5168\u3066\u306eJunos\u30eb\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u540c\u4e00\u306e\u30b3\u30de\u30f3\u30c9\u3092\u9001\u4fe1\u3057\u3001\u7d50\u679c\u3092\u4e00\u89a7\u3067\u78ba\u8a8d\u3067\u304d\u308b\u3082\u306e\u3067\u3059\u3002\n\u8a66\u3057\u306b`show ospf neighbor`\u306e\u72b6\u614b\u3092\u53d6\u5f97\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n![wistar-18.png](https://qiita-image-store.s3.amazonaws.com/0/104974/996be18d-10f5-89f6-a3b9-99d23c03c8e6.png)\n\n\u3069\u3046\u3084\u3089\u3001\u7121\u4e8bOSPF\u304c\u5f35\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\u305f\u30fc\u306e\u3057\u30fc\uff01\n\n\u96d1\u3067\u3059\u304c\u4ee5\u4e0a\u3067\u3059\u3002Wistar\u306b\u306f\u30b3\u30f3\u30d5\u30a3\u30b0\u306e\u81ea\u52d5\u6d41\u3057\u8fbc\u307f\u3084\u3089\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u306e\u81ea\u52d5\u751f\u6210\u3084\u3089\u3044\u308d\u3044\u308d\u306a\u6a5f\u80fd\u304c\u3042\u308b\u3088\u3046\u306a\u306e\u3067\u3001\u3061\u307e\u3061\u307e\u5f04\u3063\u3066\u307f\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\n", "tags": ["juniper", "Wistar", "vMX", "vSRX", "vQFX"]}