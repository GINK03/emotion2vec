{"context": " More than 1 year has passed since last update.\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u5fd8\u308c\u3066\u3044\u3066\u3001\u3046\u3063\u304b\u308a\u5931\u52b9\u3059\u308b\u3068\u3044\u3046\u4e8b\u614b\u3092\u9632\u3050\u70ba\u306b\u3001Zabbix\u3067\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u76e3\u8996\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u305f\n\u76e3\u8996\u65b9\u6cd5\u306f\u3001\n\n1. \u30c9\u30e1\u30a4\u30f3\u306e\u6b8b\u6709\u52b9\u65e5\u6570\u3092\u53d6\u5f97\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092zabbix_agent\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u306b\u8a2d\u7f6e\n\n2. Zabbix\u30b5\u30fc\u30d0\u306b\u30011\u3067\u8a2d\u7f6e\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d77\u52d5\u3059\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u767b\u9332\n\n3. \u30a2\u30a4\u30c6\u30e0\u306b\u5bfe\u3059\u308b\u30c8\u30ea\u30ac\u30fc\u3092\u8a2d\u5b9a\n\u3068\u3044\u3063\u305f\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\u4f7f\u7528\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u76e3\u8996\u3059\u308b\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u304a\u501f\u308a\u3057\u307e\u3057\u305f\u3002(\uff0b\u76e3\u8996\u3067\u304d\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f)\n\u3000\n\n\u307e\u305a\u3001\u4e0b\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092zabbix\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u306b\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\nget-domain-expire.sh\n#!/bin/bash\n\nPROGPATH=`echo $0 | /bin/sed -e 's,[\\\\/][^\\\\/][^\\\\/]*$,,'`\n\n#. $PROGPATH/utils.sh\n\n# Default values (days):\ncritical=30\nwarning=60\nwhois=\"/usr/bin/whois\"\nhost=\"\"\n\nusage() {\n        echo \"check_domain - v1.01p1\"\n        echo \"Copyright (c) 2005 Tom\u3013s N\u3013\u3013ez Lirola <tnunez@criptos.com> under GPL License\"\n        echo \"Modified by MATSUU Takuto <matsuu@gentoo.org>\"\n        echo \"Modified by Tateoka Mamoru <qphoney@gmail.com>\"\n        echo \"\"\n        echo \"This plugin checks the expiration date of a domain name.\" \n        echo \"\"\n        echo \"Usage: $0 -h | -d <domain> [-W <command>] [-H <host>] [-c <critical>] [-w <warning>]\"\n        echo \"NOTE: -d must be specified\"\n        echo \"\"\n        echo \"Options:\"\n        echo \"-h\"\n        echo \"  Print detailed help\"\n        echo \"-d DOMAIN\"\n        echo \"  Domain name to check\"\n        echo \"-H HOST\"\n        echo \"  Connect to server HOST\"\n        echo \"-W COMMAND\"\n        echo \"  Use COMMAND instead of whois\"\n        echo \"-w\"\n        echo \"  Response time to result in warning status (days)\"\n        echo \"-c\"\n        echo \"  Response time to result in critical status (days)\"\n        echo \"\"\n        echo \"This plugin will use whois service to get the expiration date for the domain name. \"\n        echo \"Example:\"\n        echo \"  $0 -d example.org -w 30 -c 10\"\n        echo \"  $0 -d example.jp/e -H whois.jprs.jp -w 30 -c 10\"\n        echo \"  $0 -d example.jp -W /usr/bin/jwhois -w 30 -c 10\"\n        echo \"\"\n}\n\n# Parse arguments\nargs=`getopt -o hd:w:c:W:H: --long help,domain:,warning:,critical:,whois:,host: -u -n $0 -- \"$@\"`\n[ $? != 0 ] && echo \"$0: Could not parse arguments\" && echo \"Usage: $0 -h | -d <domain> [-W <comman>] [-c <critical>] [-w <warning>]\" && exit\nset -- $args\n\nwhile true ; do\n        case \"$1\" in\n                -h|--help)      usage;exit;;\n                -d|--domain)    domain=$2;shift 2;;\n                -w|--warning)   warning=$2;shift 2;;\n                -c|--critical)  critical=$2;shift 2;;\n                -W|--whois)     whois=$2;shift 2;;\n                -H|--host)      host=\"-h $2\";shift 2;;\n                --)             shift; break;;\n                *)              echo \"Internal error!\" ; exit 1 ;;\n        esac\ndone\n\n[ -z $domain ] && echo \"UNKNOWN - There is no domain name to check\" && exit $STATE_UNKNOWN\n\n# Looking for whois binary\nif [ ! -x $whois ]; then\n        echo \"UNKNOWN - Unable to find whois binary in your path. Is it installed? Please specify path.\"\n        exit $STATE_UNKNOWN\nfi\n\n# Calculate days until expiration\nTLDTYPE=`echo ${domain##*.} | tr '[A-Z]' '[a-z]'`\n#echo \"host:$domain\"\nif [ \"${TLDTYPE}\" == \"in\" -o \"${TLDTYPE}\" == \"info\" -o \"${TLDTYPE}\" == \"org\" ]; then\n        expiration=`$whois $host $domain | awk '/Expiration Date:/ { print $2 }' |cut -d':' -f2`\nelif [ \"${TLDTYPE}\" == \"net\" ]; then\n        expiration=`$whois $host $domain | awk '/Expiration Date/ {print $5,$6}'`\nelif [ \"${TLDTYPE}\" == \"cc\" ]; then\n        expiration=`$whois $host $domain | awk '/Expiration Date:/ {print $5}' |cut -d'T' -f1`\nelif [ \"${TLDTYPE}\" == \"com\" ]; then\n        expiration=`$whois $host $domain | awk '/Expiration Date:/ {print $5}'`\nelif [ \"${TLDTYPE}\" == \"net\" ]; then\n        expiration=`$whois $host $domain | awk '/Domain Expiration Date:/ { print $6\"-\"$5\"-\"$9 }'`\nelif [ \"${TLDTYPE}\" == \"sc\" ]; then\n        expiration=`$whois -h whois2.afilias-grs.net $host $domain | awk '/Expiration Date:/ { print $2 }' | awk -F : '{ print $2 }'`\nelif [ \"${TLDTYPE}\" == \"jp\" -o \"${TLDTYPE}\" == \"jp/e\" -o \"${TLDTYPE}\" == \"am\"  ]; then\n        expiration=`$whois $host $domain | awk '/Expires/ { print $NF }'`\n    if [ -z $expiration ]; then\n            expiration=`$whois $host $domain | awk '/State/ { print $NF }' | tr -d \\(\\)`\n    fi\nelse\n        expiration=`$whois $host $domain | awk '/Expiration/ { print $NF }'`\nfi\n#echo $expiration\nexpseconds=`date +%s --date=\"$expiration\"`\nnowseconds=`date +%s`\n((diffseconds=expseconds-nowseconds))\nexpdays=$((diffseconds/86400))\n\n# Trigger alarms if applicable\n#[ -z \"$expiration\" ] && echo \"UNKNOWN - Domain doesn't exist or no WHOIS server available.\" && exit\n#[ $expdays -lt 0 ] && echo \"CRITICAL - Domain expired on $expiration\" && exit $STATE_CRITICAL\n#[ $expdays -lt $critical ] && echo \"CRITICAL - Domain will expire in $expdays days\" && exit $STATE_CRITICAL\n#[ $expdays -lt $warning ]&& echo \"WARNING - Domain will expire in $expdays days\" && exit $STATE_WARNING\n\n# No alarms? Ok, everything is right.\n#echo \"OK - Domain will expire in $expdays days\"\n#exit $STATE_OK\n\necho $expdays\n#echo 30\nexit $STATE_OK\n\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306fget-domain-expire.sh -d [\u30c9\u30e1\u30a4\u30f3]\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059(get-domain-expire.sh -d yahoo.co.jp)\n\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u65e5\u6570\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\u3000\n\n\u4e0a\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30a2\u30a4\u30c6\u30e0\u306b\u767b\u9332\u3057\u3066\u3001\u8d77\u52d5\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u70ba\u306b\u3001zabbix_agentd.conf\u306bUserParameter\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\nzabbix_agentd.conf\nUserParameter=get_domain_expire[*],/path/to/get-domain-expire.sh -d $1\n\n\nzabbix_agent\u3092\u518d\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044(\u5b9f\u884c\u6a29\u9650\u306e\u8a2d\u5b9a\u3092\u304a\u5fd8\u308c\u306a\u304f)\n\u3000\n\u3067\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u767b\u9332\u3057\u307e\u3059\n\n\u3000\nyahoo.co.jp\u3068\u306a\u3063\u3066\u3044\u308b\u90e8\u5206\u306f\u30de\u30af\u30ed({HOST.HOST})\u3068\u304b\u304c\u4f7f\u3048\u308b\u306e\u304b\u306a\uff1f\n\u3000\n\n\u6700\u5f8c\u306b\u3001\u30c8\u30ea\u30ac\u30fc\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\n\n\u3000\n\u4ee5\u4e0a\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u671f\u9650\u306e\u76e3\u8996\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3000\n\u3000\n\u3000\n\u3000\n\n\u30db\u30b9\u30c8\u540d=\u30c9\u30e1\u30a4\u30f3\u540d\u3067\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3057\u3066\u3044\u308c\u3070\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002(\u3058\u3083\u306a\u3044\u3068\u8a2d\u5b9a\u304c\u5927\u5909\u304b\u3082\u30fb\u30fb\u30fb)\n\u5927\u4eba\u306e\u90fd\u5408\u3067\u30b5\u30fc\u30d0\u540d\u304c\u30c9\u30e1\u30a4\u30f3\u540d\u3067\u306a\u304b\u3063\u305f\u308a\u3001zabbix_agent\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u3069\u3053\u304b1\u30ab\u6240\u306b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u7f6e\u3057\u3066\u3001\u3072\u305f\u3059\u3089\u624b\u52d5\u3067\u30a2\u30a4\u30c6\u30e0\u3068\u30c8\u30ea\u30ac\u30fc\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u3000\n\u21931\u3064\u306e\u30db\u30b9\u30c8\u306b\u3053\u3093\u306a\u30a2\u30a4\u30c6\u30e0\u3068\u30c8\u30ea\u30ac\u30fc\u3092\u3072\u305f\u3059\u3089\u8ffd\u52a0\u30fb\u30fb\u30fb\nget_domain_expire[abc.jp]\nget_domain_expire[zzz.jp]\nget_domain_expire[zxy.jp]\nget_domain_expire[hoge.jp]\n{127.0.0.1:get_domain_expire[abc.jp].last()}<31\n{127.0.0.1:get_domain_expire[zzz.jp].last()}<31\n{127.0.0.1:get_domain_expire[zxy.jp].last()}<31\n{127.0.0.1:get_domain_expire[hoge.jp].last()}<31\n\n\u3000\n\n\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u5fd8\u308c\u3066\u3044\u3066\u3001\u3046\u3063\u304b\u308a\u5931\u52b9\u3059\u308b\u3068\u3044\u3046\u4e8b\u614b\u3092\u9632\u3050\u70ba\u306b\u3001Zabbix\u3067\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u76e3\u8996\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u305f\n\n\u76e3\u8996\u65b9\u6cd5\u306f\u3001\n#1. \u30c9\u30e1\u30a4\u30f3\u306e\u6b8b\u6709\u52b9\u65e5\u6570\u3092\u53d6\u5f97\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u3092zabbix_agent\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u306b\u8a2d\u7f6e\n\n#2. Zabbix\u30b5\u30fc\u30d0\u306b\u30011\u3067\u8a2d\u7f6e\u3057\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d77\u52d5\u3059\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u767b\u9332\n\n#3. \u30a2\u30a4\u30c6\u30e0\u306b\u5bfe\u3059\u308b\u30c8\u30ea\u30ac\u30fc\u3092\u8a2d\u5b9a\n\n\u3068\u3044\u3063\u305f\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u4f7f\u7528\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u306f[\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u76e3\u8996\u3059\u308b\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8](http://iarai.seesaa.net/article/135303163.html)\u3092\u304a\u501f\u308a\u3057\u307e\u3057\u305f\u3002(\uff0b\u76e3\u8996\u3067\u304d\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f)\n\u3000\n___\n\u307e\u305a\u3001\u4e0b\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092zabbix\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304c\u8d77\u52d5\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u306b\u8a2d\u7f6e\u3057\u307e\u3059\u3002\n\n```Bash:get-domain-expire.sh\n#!/bin/bash\n\nPROGPATH=`echo $0 | /bin/sed -e 's,[\\\\/][^\\\\/][^\\\\/]*$,,'`\n\n#. $PROGPATH/utils.sh\n\n# Default values (days):\ncritical=30\nwarning=60\nwhois=\"/usr/bin/whois\"\nhost=\"\"\n\nusage() {\n        echo \"check_domain - v1.01p1\"\n        echo \"Copyright (c) 2005 Tom\u3013s N\u3013\u3013ez Lirola <tnunez@criptos.com> under GPL License\"\n        echo \"Modified by MATSUU Takuto <matsuu@gentoo.org>\"\n        echo \"Modified by Tateoka Mamoru <qphoney@gmail.com>\"\n        echo \"\"\n        echo \"This plugin checks the expiration date of a domain name.\" \n        echo \"\"\n        echo \"Usage: $0 -h | -d <domain> [-W <command>] [-H <host>] [-c <critical>] [-w <warning>]\"\n        echo \"NOTE: -d must be specified\"\n        echo \"\"\n        echo \"Options:\"\n        echo \"-h\"\n        echo \"  Print detailed help\"\n        echo \"-d DOMAIN\"\n        echo \"  Domain name to check\"\n        echo \"-H HOST\"\n        echo \"  Connect to server HOST\"\n        echo \"-W COMMAND\"\n        echo \"  Use COMMAND instead of whois\"\n        echo \"-w\"\n        echo \"  Response time to result in warning status (days)\"\n        echo \"-c\"\n        echo \"  Response time to result in critical status (days)\"\n        echo \"\"\n        echo \"This plugin will use whois service to get the expiration date for the domain name. \"\n        echo \"Example:\"\n        echo \"  $0 -d example.org -w 30 -c 10\"\n        echo \"  $0 -d example.jp/e -H whois.jprs.jp -w 30 -c 10\"\n        echo \"  $0 -d example.jp -W /usr/bin/jwhois -w 30 -c 10\"\n        echo \"\"\n}\n\n# Parse arguments\nargs=`getopt -o hd:w:c:W:H: --long help,domain:,warning:,critical:,whois:,host: -u -n $0 -- \"$@\"`\n[ $? != 0 ] && echo \"$0: Could not parse arguments\" && echo \"Usage: $0 -h | -d <domain> [-W <comman>] [-c <critical>] [-w <warning>]\" && exit\nset -- $args\n\nwhile true ; do\n        case \"$1\" in\n                -h|--help)      usage;exit;;\n                -d|--domain)    domain=$2;shift 2;;\n                -w|--warning)   warning=$2;shift 2;;\n                -c|--critical)  critical=$2;shift 2;;\n                -W|--whois)     whois=$2;shift 2;;\n                -H|--host)      host=\"-h $2\";shift 2;;\n                --)             shift; break;;\n                *)              echo \"Internal error!\" ; exit 1 ;;\n        esac\ndone\n\n[ -z $domain ] && echo \"UNKNOWN - There is no domain name to check\" && exit $STATE_UNKNOWN\n\n# Looking for whois binary\nif [ ! -x $whois ]; then\n        echo \"UNKNOWN - Unable to find whois binary in your path. Is it installed? Please specify path.\"\n        exit $STATE_UNKNOWN\nfi\n\n# Calculate days until expiration\nTLDTYPE=`echo ${domain##*.} | tr '[A-Z]' '[a-z]'`\n#echo \"host:$domain\"\nif [ \"${TLDTYPE}\" == \"in\" -o \"${TLDTYPE}\" == \"info\" -o \"${TLDTYPE}\" == \"org\" ]; then\n        expiration=`$whois $host $domain | awk '/Expiration Date:/ { print $2 }' |cut -d':' -f2`\nelif [ \"${TLDTYPE}\" == \"net\" ]; then\n        expiration=`$whois $host $domain | awk '/Expiration Date/ {print $5,$6}'`\nelif [ \"${TLDTYPE}\" == \"cc\" ]; then\n        expiration=`$whois $host $domain | awk '/Expiration Date:/ {print $5}' |cut -d'T' -f1`\nelif [ \"${TLDTYPE}\" == \"com\" ]; then\n        expiration=`$whois $host $domain | awk '/Expiration Date:/ {print $5}'`\nelif [ \"${TLDTYPE}\" == \"net\" ]; then\n        expiration=`$whois $host $domain | awk '/Domain Expiration Date:/ { print $6\"-\"$5\"-\"$9 }'`\nelif [ \"${TLDTYPE}\" == \"sc\" ]; then\n        expiration=`$whois -h whois2.afilias-grs.net $host $domain | awk '/Expiration Date:/ { print $2 }' | awk -F : '{ print $2 }'`\nelif [ \"${TLDTYPE}\" == \"jp\" -o \"${TLDTYPE}\" == \"jp/e\" -o \"${TLDTYPE}\" == \"am\"  ]; then\n        expiration=`$whois $host $domain | awk '/Expires/ { print $NF }'`\n    if [ -z $expiration ]; then\n            expiration=`$whois $host $domain | awk '/State/ { print $NF }' | tr -d \\(\\)`\n    fi\nelse\n        expiration=`$whois $host $domain | awk '/Expiration/ { print $NF }'`\nfi\n#echo $expiration\nexpseconds=`date +%s --date=\"$expiration\"`\nnowseconds=`date +%s`\n((diffseconds=expseconds-nowseconds))\nexpdays=$((diffseconds/86400))\n\n# Trigger alarms if applicable\n#[ -z \"$expiration\" ] && echo \"UNKNOWN - Domain doesn't exist or no WHOIS server available.\" && exit\n#[ $expdays -lt 0 ] && echo \"CRITICAL - Domain expired on $expiration\" && exit $STATE_CRITICAL\n#[ $expdays -lt $critical ] && echo \"CRITICAL - Domain will expire in $expdays days\" && exit $STATE_CRITICAL\n#[ $expdays -lt $warning ]&& echo \"WARNING - Domain will expire in $expdays days\" && exit $STATE_WARNING\n\n# No alarms? Ok, everything is right.\n#echo \"OK - Domain will expire in $expdays days\"\n#exit $STATE_OK\n\necho $expdays\n#echo 30\nexit $STATE_OK\n```\n\u30b9\u30af\u30ea\u30d7\u30c8\u306f`get-domain-expire.sh -d [\u30c9\u30e1\u30a4\u30f3]`\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059(get-domain-expire.sh -d yahoo.co.jp)\n\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u65e5\u6570\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n\u3000\n___\n\u4e0a\u8a18\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u30a2\u30a4\u30c6\u30e0\u306b\u767b\u9332\u3057\u3066\u3001\u8d77\u52d5\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u70ba\u306b\u3001zabbix_agentd.conf\u306bUserParameter\u3092\u8ffd\u52a0\u3057\u307e\u3059\n\n```zabbix_agentd.conf\nUserParameter=get_domain_expire[*],/path/to/get-domain-expire.sh -d $1\n```\n*zabbix_agent\u3092\u518d\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044(\u5b9f\u884c\u6a29\u9650\u306e\u8a2d\u5b9a\u3092\u304a\u5fd8\u308c\u306a\u304f)*\n\u3000\n\u3067\u3001\u30a2\u30a4\u30c6\u30e0\u3092\u767b\u9332\u3057\u307e\u3059\n\n![zabbix1.png](https://qiita-image-store.s3.amazonaws.com/0/18052/f8989b29-7fe3-2f21-d4f3-17b345f8f01a.png \"zabbix1.png\")\n\n\u3000\n*yahoo.co.jp*\u3068\u306a\u3063\u3066\u3044\u308b\u90e8\u5206\u306f\u30de\u30af\u30ed({HOST.HOST})\u3068\u304b\u304c\u4f7f\u3048\u308b\u306e\u304b\u306a\uff1f\n\u3000\n___\n\n\u6700\u5f8c\u306b\u3001\u30c8\u30ea\u30ac\u30fc\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n![zabbix2.png](https://qiita-image-store.s3.amazonaws.com/0/18052/50c6012a-d617-e98a-4864-ba8ed7a0a7ab.png \"zabbix2.png\")\n___\n\u3000\n\u4ee5\u4e0a\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u6709\u52b9\u671f\u9650\u306e\u76e3\u8996\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\u3000\n\u3000\n\u3000\n\u3000\n___\n\n*\u30db\u30b9\u30c8\u540d=\u30c9\u30e1\u30a4\u30f3\u540d\u3067\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3057\u3066\u3044\u308c\u3070\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002(\u3058\u3083\u306a\u3044\u3068\u8a2d\u5b9a\u304c\u5927\u5909\u304b\u3082\u30fb\u30fb\u30fb)*\n*\u5927\u4eba\u306e\u90fd\u5408\u3067\u30b5\u30fc\u30d0\u540d\u304c\u30c9\u30e1\u30a4\u30f3\u540d\u3067\u306a\u304b\u3063\u305f\u308a\u3001zabbix_agent\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u3069\u3053\u304b1\u30ab\u6240\u306b\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u7f6e\u3057\u3066\u3001\u3072\u305f\u3059\u3089\u624b\u52d5\u3067\u30a2\u30a4\u30c6\u30e0\u3068\u30c8\u30ea\u30ac\u30fc\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3088\u3044\u3068\u601d\u3044\u307e\u3059\u3002*\n\u3000\n\u21931\u3064\u306e\u30db\u30b9\u30c8\u306b\u3053\u3093\u306a\u30a2\u30a4\u30c6\u30e0\u3068\u30c8\u30ea\u30ac\u30fc\u3092\u3072\u305f\u3059\u3089\u8ffd\u52a0\u30fb\u30fb\u30fb\nget_domain_expire[abc.jp]\nget_domain_expire[zzz.jp]\nget_domain_expire[zxy.jp]\nget_domain_expire[hoge.jp]\n\n{127.0.0.1:get_domain_expire[abc.jp].last()}<31\n{127.0.0.1:get_domain_expire[zzz.jp].last()}<31\n{127.0.0.1:get_domain_expire[zxy.jp].last()}<31\n{127.0.0.1:get_domain_expire[hoge.jp].last()}<31\n___\n\u3000\n", "tags": ["zabbix"]}