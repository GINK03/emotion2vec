{"context": "\n\n\u306f\u3058\u3081\u306b\nEV3\u3067\u52d5\u304fLinux\u74b0\u5883ev3dev\u3092\u4f7f\u3063\u3066\u958b\u767a\u3057\u307e\u3059\u3002\u3053\u306e\u8a18\u4e8b\u306f\u3001EV3\u306bev3dev\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001SSH\u63a5\u7d9a\u3067\u304d\u3066\u3044\u308b\u72b6\u614b\u3067\u3042\u308b\u3053\u3068\u3092\u524d\u63d0\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u74b0\u5883\u69cb\u7bc9\u304c\u3067\u304d\u3066\u3044\u306a\u3044\u65b9\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nmindstorm-EV3\u3092Linux\u3067\u5236\u5fa1\u3057\u3088\u3046! ev3dev OS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u3068SSH\u63a5\u7d9a\n\n\u3053\u306e\u8a18\u4e8b\u3067\u306fev3dev-lang-js\u3068\u3044\u3046nodejs\u3067ev3dev\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nev3dev-lang-ja\u306e\u5165\u9580\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nnodejs\u3067mindstrom-EV3\u3092\u5236\u5fa1\u3059\u308bev3dev-lang-js\u5165\u9580\n\n\n\u3064\u304f\u308b\u3082\u306e\n\u306a\u308b\u3079\u304f\u30b7\u30f3\u30d7\u30eb\u306b\u3001\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u3067\u53d6\u5f97\u3057\u305f\u8272\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30d6\u30e9\u30a6\u30b6\u306b\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\u52d5\u753b\u3067\u3059\u3002\n\uff08\u30af\u30ea\u30c3\u30af\u3067\u3067\u52d5\u753b\u518d\u751f\uff09\n\n\nev3dev-lang-js\u3068socket.io\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrobot@ev3dev:~$ npm install ev3dev-lang-js\nrobot@ev3dev:~$ npm install socket.io\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n\nindex.js\n\nindex.js\nvar app=require('http').createServer(handler);\nvar io=require('socket.io').listen(app);\nvar fs=require('fs');\nvar ev3dev=require('ev3dev-lang');\n\n//color sensor PORT 1\nvar colorSensor=new ev3dev.ColorSensor(ev3dev.INPUT_1);\napp.listen(1337);\n\nfunction handler(req,res){\n    fs.readFile(__dirname+'/index.html',function(err,data){\n    if(err){\n        res.writeHead(500);\n        return res.end('Error');\n    }\n    res.writeHead(200);\n    res.write(data);\n    res.end();\n    });\n}\n\nvar color=io.of('/color').on('connection',function(socket){\n    setInterval(function(){\n      console.log(colorSensor.color);\n      socket.emit('message', colorSensor.color);\n    },50);\n});\n\n\nEV3\u306e\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u53d6\u5f97\u3059\u308b\u306b\u306fColorSensor\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nvar colorSensor=new ev3dev.ColorSensor(ev3dev.INPUT_1);\n\n\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3067\u30d6\u30e9\u30a6\u30b6\u306b50\u30df\u30ea\u79d2\u6bce\u306b\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u304c\u53d6\u5f97\u3057\u305f\u5024\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002\nvar color=io.of('/color').on('connection',function(socket){\n    setInterval(function(){\n      console.log(colorSensor.color);\n      socket.emit('message', colorSensor.color);\n    },50);\n});\n\n\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u53d6\u5f97\u3067\u304d\u308b\u5024\uff080~7\uff09\u3068\u8272\u3068\u306e\u95a2\u4fc2\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n0: No color\n1: Black\n2: Blue\n3: Green\n4: Yellow\n5: Red\n6: White\n7: Brown\n\nindex.html\n\u30b5\u30fc\u30d0\u30fc\uff08ev3dev\uff09\u304b\u3089\u53d7\u4fe1\u3057\u305f\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u5143\u306b\u80cc\u666f\u8272\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\n\nindex.html\n<!Doctype html>\n<html lang=\"ja\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <title>node</title>\n    <script src=\"/socket.io/socket.io.js\"></script>\n  </head>\n  <body>\n    <h1 id=\"color\">Color</h1>\n  </body>\n</html>\n<script>\nvar colorArray=[\"gray\" , \"black\" , \"blue\" , \"green\" , \"yellow\" , \"red\" , \"white\" , \"brown\"];\n\nvar color=io.connect('http://ev3dev.local:1337/color');\ncolor.on(\"message\",function(data){\n  console.log(data);\n  //\u80cc\u666f\u8272\u306e\u5207\u308a\u66ff\u3048\n  document.bgColor = colorArray[data];\n  //\u30c6\u30ad\u30b9\u30c8\u8868\u793a\u306e\u5207\u308a\u66ff\u3048 \n  if(data==0){\n    document.getElementById(\"color\").innerHTML=\"No color\";\n  }else{\n    document.getElementById(\"color\").innerHTML=colorArray[data];\n  }\n});\n</script>\n<style>\nh1{\n color:white;\n -webkit-text-stroke: 5px black;\n font-size:100px;\n text-align:center;\n margin-top:300px;\n}\n</style>\n\n\n\n\u5b9f\u884c\nEV3\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u30d6\u30ed\u30c3\u30af\u306e\uff11\u756a\u30dd\u30fc\u30c8\u306b\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u3092\u63a5\u7d9a\u5f8c\u3001\u5b9f\u884c\u3057\u307e\u3059\u3002\nrobot@ev3dev:~$ node index.js\n\nEV3\u306e\u30b9\u30da\u30c3\u30af\u4e0a\u3001WEB\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\u307e\u3067\u5c11\u3057\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\nWEB\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\u5f8c\u3001ev3dev\u3068\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5185\u306e\u30d6\u30e9\u30a6\u30b6\u3067http://ev3dev.local\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n\n\u53c2\u8003\nev3dev-lang-js\nnodejs\u3067mindstrom-EV3\u3092\u5236\u5fa1\u3059\u308bev3dev-lang-js\u5165\u9580\n## \u306f\u3058\u3081\u306b\nEV3\u3067\u52d5\u304fLinux\u74b0\u5883ev3dev\u3092\u4f7f\u3063\u3066\u958b\u767a\u3057\u307e\u3059\u3002\u3053\u306e\u8a18\u4e8b\u306f\u3001EV3\u306bev3dev\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001SSH\u63a5\u7d9a\u3067\u304d\u3066\u3044\u308b\u72b6\u614b\u3067\u3042\u308b\u3053\u3068\u3092\u524d\u63d0\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u74b0\u5883\u69cb\u7bc9\u304c\u3067\u304d\u3066\u3044\u306a\u3044\u65b9\u306f\u3053\u3061\u3089\u306e\u8a18\u4e8b\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n>\n[mindstorm-EV3\u3092Linux\u3067\u5236\u5fa1\u3057\u3088\u3046! ev3dev OS\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u3068SSH\u63a5\u7d9a](http://qiita.com/murotani/items/46f905bec33b1673c41a)\n\n\u3053\u306e\u8a18\u4e8b\u3067\u306fev3dev-lang-js\u3068\u3044\u3046nodejs\u3067ev3dev\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3057\u307e\u3059\u3002\nev3dev-lang-ja\u306e\u5165\u9580\u306b\u3064\u3044\u3066\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n>\n[nodejs\u3067mindstrom-EV3\u3092\u5236\u5fa1\u3059\u308bev3dev-lang-js\u5165\u9580](http://qiita.com/murotani/items/86921723020e4a537ed5)\n\n## \u3064\u304f\u308b\u3082\u306e\n\u306a\u308b\u3079\u304f\u30b7\u30f3\u30d7\u30eb\u306b\u3001\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u3067\u53d6\u5f97\u3057\u305f\u8272\u3092\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30d6\u30e9\u30a6\u30b6\u306b\u8868\u793a\u3059\u308b\u30a2\u30d7\u30ea\u3092\u4f5c\u308a\u307e\u3057\u305f\u3002\n\u52d5\u753b\u3067\u3059\u3002\n\uff08\u30af\u30ea\u30c3\u30af\u3067\u3067\u52d5\u753b\u518d\u751f\uff09\n[![YouTube](http://i.ytimg.com/vi/T9n-XgzgbR8/hqdefault.jpg)](https://www.youtube.com/watch?v=T9n-XgzgbR8)\n\n## ev3dev-lang-js\u3068socket.io\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```\nrobot@ev3dev:~$ npm install ev3dev-lang-js\nrobot@ev3dev:~$ npm install socket.io\n```\n## \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\n###index.js\n\n```js:index.js\nvar app=require('http').createServer(handler);\nvar io=require('socket.io').listen(app);\nvar fs=require('fs');\nvar ev3dev=require('ev3dev-lang');\n\n//color sensor PORT 1\nvar colorSensor=new ev3dev.ColorSensor(ev3dev.INPUT_1);\napp.listen(1337);\n\nfunction handler(req,res){\n    fs.readFile(__dirname+'/index.html',function(err,data){\n\tif(err){\n\t    res.writeHead(500);\n\t    return res.end('Error');\n\t}\n    res.writeHead(200);\n    res.write(data);\n    res.end();\n    });\n}\n\nvar color=io.of('/color').on('connection',function(socket){\n    setInterval(function(){\n      console.log(colorSensor.color);\n      socket.emit('message', colorSensor.color);\n    },50);\n});\n```\nEV3\u306e\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u53d6\u5f97\u3059\u308b\u306b\u306fColorSensor\u30af\u30e9\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\n\n```var colorSensor=new ev3dev.ColorSensor(ev3dev.INPUT_1);\n```\n\u30bd\u30b1\u30c3\u30c8\u901a\u4fe1\u3067\u30d6\u30e9\u30a6\u30b6\u306b50\u30df\u30ea\u79d2\u6bce\u306b\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u304c\u53d6\u5f97\u3057\u305f\u5024\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002\n\n```\nvar color=io.of('/color').on('connection',function(socket){\n    setInterval(function(){\n      console.log(colorSensor.color);\n      socket.emit('message', colorSensor.color);\n    },50);\n});\n```\n\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u53d6\u5f97\u3067\u304d\u308b\u5024\uff080~7\uff09\u3068\u8272\u3068\u306e\u95a2\u4fc2\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n0: No color\n1: Black\n2: Blue\n3: Green\n4: Yellow\n5: Red\n6: White\n7: Brown\n\n###index.html\n\u30b5\u30fc\u30d0\u30fc\uff08ev3dev\uff09\u304b\u3089\u53d7\u4fe1\u3057\u305f\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u5024\u3092\u5143\u306b\u80cc\u666f\u8272\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002\n\n```html:index.html\n<!Doctype html>\n<html lang=\"ja\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <title>node</title>\n    <script src=\"/socket.io/socket.io.js\"></script>\n  </head>\n  <body>\n    <h1 id=\"color\">Color</h1>\n  </body>\n</html>\n<script>\nvar colorArray=[\"gray\" , \"black\" , \"blue\" , \"green\" , \"yellow\" , \"red\" , \"white\" , \"brown\"];\n\nvar color=io.connect('http://ev3dev.local:1337/color');\ncolor.on(\"message\",function(data){\n  console.log(data);\n  //\u80cc\u666f\u8272\u306e\u5207\u308a\u66ff\u3048\n  document.bgColor = colorArray[data];\n  //\u30c6\u30ad\u30b9\u30c8\u8868\u793a\u306e\u5207\u308a\u66ff\u3048 \n  if(data==0){\n    document.getElementById(\"color\").innerHTML=\"No color\";\n  }else{\n    document.getElementById(\"color\").innerHTML=colorArray[data];\n  }\n});\n</script>\n<style>\nh1{\n color:white;\n -webkit-text-stroke: 5px black;\n font-size:100px;\n text-align:center;\n margin-top:300px;\n}\n</style>\n```\n\n##\u5b9f\u884c\nEV3\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u30d6\u30ed\u30c3\u30af\u306e\uff11\u756a\u30dd\u30fc\u30c8\u306b\u30ab\u30e9\u30fc\u30bb\u30f3\u30b5\u30fc\u3092\u63a5\u7d9a\u5f8c\u3001\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\nrobot@ev3dev:~$ node index.js\n```\nEV3\u306e\u30b9\u30da\u30c3\u30af\u4e0a\u3001WEB\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\u307e\u3067\u5c11\u3057\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002\nWEB\u30b5\u30fc\u30d0\u30fc\u8d77\u52d5\u5f8c\u3001ev3dev\u3068\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5185\u306e\u30d6\u30e9\u30a6\u30b6\u3067[http://ev3dev.local](http://ev3dev.local)\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u5b8c\u4e86\u3067\u3059\u3002\n\n##\u53c2\u8003\n\n[ev3dev-lang-js](https://github.com/WasabiFan/ev3dev-lang-js)\n\n[nodejs\u3067mindstrom-EV3\u3092\u5236\u5fa1\u3059\u308bev3dev-lang-js\u5165\u9580](http://qiita.com/murotani/items/86921723020e4a537ed5)\n\n\n\n", "tags": ["EV3", "ev3dev", "ev3dev-lang-js", "Socket.io", "Node.js"]}