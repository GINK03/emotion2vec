{"context": "\n\njupyter notebook \u74b0\u5883\u3092\u624b\u3063\u53d6\u308a\u65e9\u304f\u30ed\u30fc\u30ab\u30eb\u306b\u4f5c\u3063\u3066\u8a66\u3059(vagrant + centos7 + docker)\n\n\u76ee\u7684\n\njupyter notebook \u3092\u8a66\u3057\u3066\u307f\u305f\u3044! ( => http://jupyter.org/)\n\u3067\u304d\u308b\u3060\u3051\u624b\u65e9\u304f! ( => vagrant)\n\u30c7\u30d7\u30ed\u30a4\u3082\u53ef\u80fd\u306a\u3088\u3046\u306b! ( => docker)\n\n\n\u74b0\u5883\n\nmackbook air\n\n\nmacOS Sierra\nvirtual box\nvagrant\n\n\n\n\nadd box\n\nif_needed\n% vagrant box list | grep \"centos/7\"\n% vagrant box add centos/7\n% vagrant box update --box centos/7\n\n\n% mkdir -p ./vagrant/docker/centos7/jupyter\n% cd ./vagrant/docker/centos7/jupyter\n% vagrant init centos/7 -m\n\nref. https://www.vagrantup.com/docs/networking/private_network.html\n\ninsert_line_to_Vagrantfile\nconfig.vm.network \"private_network\", type: \"dhcp\"\n\n\n\nsample\nVagrant.configure(2) do |config|\n  config.vm.box = \"centos/7\"\n  config.vm.network \"private_network\", type: \"dhcp\"\nend\n\n\n% vagrant up\n% vagrant ssh\n\n\ninstall docker\nref. https://docs.docker.com/engine/installation/linux/centos/\n$ sudo yum update -y\n\n\nadd_docker_yum_repo\n$ sudo tee /etc/yum.repos.d/docker.repo <<-'EOF'\n[dockerrepo]\nname=Docker Repository\nbaseurl=https://yum.dockerproject.org/repo/main/centos/$releasever/\nenabled=1\ngpgcheck=1\ngpgkey=https://yum.dockerproject.org/gpg\nEOF\n\n\n\ninstall_from_package\n$ sudo yum install docker-engine\n\n\n\nstart_docker\n$ sudo systemctl status docker\n$ sudo systemctl start docker\n$ sudo systemctl enable docker\n\n\n\nsimple_test\n$ sudo docker run hello-world\n\n\n\nmemo\n$ sudo docker --version\nDocker version 1.12.5, build 7392c3b\n\n\n\ninstall jupyter onto docker\nref. https://github.com/jupyter/notebook#running-in-a-docker-container\n$ sudo docker run -itd --name jupyter-notebook -p 8888:8888 -v \"$(pwd):/notebooks\" jupyter/notebook:stable\n\n\n\u30b3\u30f3\u30c6\u30caID\u3092\u78ba\u8a8d\u3057\u307e\u3059\n\n$ sudo docker ps\n\n\n\u30b3\u30f3\u30c6\u30ca\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\n\n$ sudo docker logs df725b13e70b\n(snip)\n[I 22:29:30.855 NotebookApp] The Jupyter Notebook is running at: http://[all ip addresses on your system]:8888/\n(snip)\n\n\nVirtualBox \u30db\u30b9\u30c8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306aIP\u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\n\u30b3\u30f3\u30c6\u30ca\u306e IP:Port8888 \u3092 VirtualBox VM \u306e \"private_network\" \u306e IP:Port8888 \u306b\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u3044\u307e\u3059\n\u3064\u307e\u308a\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306f vagrant \u3067\u4f5c\u6210\u3057\u305f VM \u4e0a\u3067\u5b9f\u884c\u3057 eth1 \u306e\u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\n\n[vagrant@localhost ~]$ ip a s eth1\n\n\nWEB \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\nVirtualBox \u30db\u30b9\u30c8\u304b\u3089 VM \u306e private_network Port8888 \u306b\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n\n\u4f8b: http://172.28.128.3:8888/\n\n\u4ee5\u4e0b\u306e\u753b\u9762\u8868\u793a\u304c\u5f97\u3089\u308c\u308c\u3070\u6210\u529f\u3067\u3059\n\n\n\u3042\u305f\u3089\u3057\u3044 Notebook(Python2) \u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\n\n\n\n\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\n\n\u5165\u529b\u3057\u305f\u3089 Cell > Run Cells \u3092\u5b9f\u884c\u3059\u308b\u304b\u3001>| \u30a2\u30a4\u30b3\u30f3\u3092\u62bc\u3057\u307e\u3059\n\n\n\n\u304a\u307e\u3051\nVirtualBox Host NW\n  vboxnet4: 172.28.128.1/24\n     |- GuestVM eth1: 172.28.128.3/24\n         |- Docker Bridge Network: 172.17.0.0/16\n             |- Container IP: 172.17.0.2/16\n\n\nMapping\n\n172.28.128.3:8888 --- 172.17.0.2:8888\n\n# jupyter notebook \u74b0\u5883\u3092\u624b\u3063\u53d6\u308a\u65e9\u304f\u30ed\u30fc\u30ab\u30eb\u306b\u4f5c\u3063\u3066\u8a66\u3059(vagrant + centos7 + docker)\n\n## \u76ee\u7684\n\n* jupyter notebook \u3092\u8a66\u3057\u3066\u307f\u305f\u3044! ( => http://jupyter.org/)\n* \u3067\u304d\u308b\u3060\u3051\u624b\u65e9\u304f! ( => vagrant)\n* \u30c7\u30d7\u30ed\u30a4\u3082\u53ef\u80fd\u306a\u3088\u3046\u306b! ( => docker)\n\n## \u74b0\u5883\n\n* mackbook air\n  * macOS Sierra\n  * virtual box\n  * vagrant\n\n## add box\n\n```shell-session:if_needed\n% vagrant box list | grep \"centos/7\"\n% vagrant box add centos/7\n% vagrant box update --box centos/7\n```\n\n```shell-session\n% mkdir -p ./vagrant/docker/centos7/jupyter\n% cd ./vagrant/docker/centos7/jupyter\n% vagrant init centos/7 -m\n```\nref. https://www.vagrantup.com/docs/networking/private_network.html\n\n```shell-session:insert_line_to_Vagrantfile\nconfig.vm.network \"private_network\", type: \"dhcp\"\n```\n```shell-session:sample\nVagrant.configure(2) do |config|\n  config.vm.box = \"centos/7\"\n  config.vm.network \"private_network\", type: \"dhcp\"\nend\n```\n```shell-session\n% vagrant up\n% vagrant ssh\n```\n\n## install docker\n\nref. https://docs.docker.com/engine/installation/linux/centos/\n\n```shell-session\n$ sudo yum update -y\n```\n```shell-session:add_docker_yum_repo\n$ sudo tee /etc/yum.repos.d/docker.repo <<-'EOF'\n[dockerrepo]\nname=Docker Repository\nbaseurl=https://yum.dockerproject.org/repo/main/centos/$releasever/\nenabled=1\ngpgcheck=1\ngpgkey=https://yum.dockerproject.org/gpg\nEOF\n```\n```shell-session:install_from_package\n$ sudo yum install docker-engine\n```\n```shell-session:start_docker\n$ sudo systemctl status docker\n$ sudo systemctl start docker\n$ sudo systemctl enable docker\n```\n```shell-session:simple_test\n$ sudo docker run hello-world\n```\n```shell-session:memo\n$ sudo docker --version\nDocker version 1.12.5, build 7392c3b\n```\n\n## install jupyter onto docker\n\nref. https://github.com/jupyter/notebook#running-in-a-docker-container\n\n```shell-session\n$ sudo docker run -itd --name jupyter-notebook -p 8888:8888 -v \"$(pwd):/notebooks\" jupyter/notebook:stable\n```\n\n- \u30b3\u30f3\u30c6\u30caID\u3092\u78ba\u8a8d\u3057\u307e\u3059\n\n```shell-session\n$ sudo docker ps\n```\n\n- \u30b3\u30f3\u30c6\u30ca\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\n\n```shell-session\n$ sudo docker logs df725b13e70b\n(snip)\n[I 22:29:30.855 NotebookApp] The Jupyter Notebook is running at: http://[all ip addresses on your system]:8888/\n(snip)\n```\n\n- VirtualBox \u30db\u30b9\u30c8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306aIP\u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\n- \u30b3\u30f3\u30c6\u30ca\u306e IP:Port8888 \u3092 VirtualBox VM \u306e \"private_network\" \u306e IP:Port8888 \u306b\u30d0\u30a4\u30f3\u30c9\u3057\u3066\u3044\u307e\u3059\n- \u3064\u307e\u308a\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306f vagrant \u3067\u4f5c\u6210\u3057\u305f VM \u4e0a\u3067\u5b9f\u884c\u3057 eth1 \u306e\u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u307e\u3059\n\n```shell-session\n[vagrant@localhost ~]$ ip a s eth1\n```\n\n## WEB \u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\n- VirtualBox \u30db\u30b9\u30c8\u304b\u3089 VM \u306e private_network Port8888 \u306b\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\n\n\u4f8b: http://172.28.128.3:8888/\n\n## \u4ee5\u4e0b\u306e\u753b\u9762\u8868\u793a\u304c\u5f97\u3089\u308c\u308c\u3070\u6210\u529f\u3067\u3059\n\n![Screenshot 2017-01-07 07.46.38.png](https://qiita-image-store.s3.amazonaws.com/0/67892/6b8695d0-37d4-b41d-bf1a-6f33ebec50a6.png)\n\n## \u3042\u305f\u3089\u3057\u3044 Notebook(Python2) \u3092\u4f5c\u3063\u3066\u307f\u307e\u3059\n\n![Screenshot 2017-01-07 07.47.53.png](https://qiita-image-store.s3.amazonaws.com/0/67892/66cf3d8c-7363-6867-9317-fba9fb7dd324.png)\n\n![Screenshot 2017-01-07 07.48.51.png](https://qiita-image-store.s3.amazonaws.com/0/67892/88c67322-5a7a-de8c-7cfa-52724538d581.png)\n\n## \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\n\n- \u5165\u529b\u3057\u305f\u3089 Cell > Run Cells \u3092\u5b9f\u884c\u3059\u308b\u304b\u3001>| \u30a2\u30a4\u30b3\u30f3\u3092\u62bc\u3057\u307e\u3059\n\n![Screenshot 2017-01-07 07.57.56.png](https://qiita-image-store.s3.amazonaws.com/0/67892/a9dda058-4796-b7cc-cc43-e10732a6c3ca.png)\n\n## \u304a\u307e\u3051\n\n```\nVirtualBox Host NW\n  vboxnet4: 172.28.128.1/24\n     |- GuestVM eth1: 172.28.128.3/24\n         |- Docker Bridge Network: 172.17.0.0/16\n             |- Container IP: 172.17.0.2/16\n```\n\n- Mapping\n\n```\n172.28.128.3:8888 --- 172.17.0.2:8888\n```\n", "tags": ["vagrant", "CentOS7.0", "docker", "Jupyter"]}