{"context": "\n\nclang 32bit \u30b3\u30f3\u30d1\u30a4\u30eb \u3067 /usr/bin/ld: fatal error: failed to allocate memory\n\n\u554f\u984c\nubuntu 14.04 32bit \u3067 ./emsdk install clang-incoming-32bit \u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u3001emsdk_portable/clang/fastcomp/build_incoming_32/bin/clang-3.9 \u306e\u30ea\u30f3\u30af\u6642\u306b /usr/bin/ld: fatal error: failed to allocate memory \u3068\u3044\u3046\u30a8\u30e9\u30fc\u3092\u5410\u3044\u3066\u6b62\u307e\u3063\u305f\u3002\n\n\u539f\u56e0\n32bit OS \u3067\u306f 4GB \u307e\u3067\u3057\u304b\u30e1\u30e2\u30ea\u3092\u4f7f\u3048\u306a\u3044\u306e\u306b 32bit clang \u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306b 4GB \u4ee5\u4e0a\u30e1\u30e2\u30ea\u4f7f\u3063\u3066\u3044\u308b\u3002\n\n\u89e3\u6c7a\u7b56\nld \u306e -no-keep-memory \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5f37\u5236\u7684\u306b\u4f7f\u308f\u305b\u308b\u305f\u3081\u306b ld\u3000\u306e\u4ee3\u308f\u308a\u306e shell script \u3092\u66f8\u304f\u3002\nmv /usr/bin/ld /usr/bin/ld.old\necho '/usr/bin/ld.old --no-keep-memory $@' > /usr/bin/ld\nchmod a+x /usr/bin/ld\n\n\u3053\u308c\u3067\u30ea\u30f3\u30af\u3067\u304d\u305f\u3002\nrm /usr/bin/ld\nmv /usr/bin/ld.old /usr/bin/ld\n\n\u7d42\u308f\u3063\u305f\u3089\u5143\u306b\u623b\u3057\u3066\u304a\u304f\u3002\n\n\u53c2\u8003\n\nhttp://stackoverflow.com/questions/33551473/ld-fatal-error-failed-to-allocate-memory\nhttp://stackoverflow.com/questions/25197570/llvm-clang-compile-error-with-memory-exhausted\nhttps://linuxjm.osdn.jp/html/GNU_binutils/man1/ld.1.html\n\n# clang 32bit \u30b3\u30f3\u30d1\u30a4\u30eb \u3067 /usr/bin/ld: fatal error: failed to allocate memory\n\n## \u554f\u984c\n\nubuntu 14.04 32bit \u3067 `./emsdk install clang-incoming-32bit` \u3057\u3088\u3046\u3068\u3057\u305f\u3068\u3053\u308d\u3001`emsdk_portable/clang/fastcomp/build_incoming_32/bin/clang-3.9` \u306e\u30ea\u30f3\u30af\u6642\u306b `/usr/bin/ld: fatal error: failed to allocate memory` \u3068\u3044\u3046\u30a8\u30e9\u30fc\u3092\u5410\u3044\u3066\u6b62\u307e\u3063\u305f\u3002\n\n## \u539f\u56e0\n\n32bit OS \u3067\u306f 4GB \u307e\u3067\u3057\u304b\u30e1\u30e2\u30ea\u3092\u4f7f\u3048\u306a\u3044\u306e\u306b 32bit clang \u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u306b 4GB \u4ee5\u4e0a\u30e1\u30e2\u30ea\u4f7f\u3063\u3066\u3044\u308b\u3002\n\n## \u89e3\u6c7a\u7b56\n\n`ld` \u306e [-no-keep-memory](https://linuxjm.osdn.jp/html/GNU_binutils/man1/ld.1.html`) \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5f37\u5236\u7684\u306b\u4f7f\u308f\u305b\u308b\u305f\u3081\u306b ld\u3000\u306e\u4ee3\u308f\u308a\u306e shell script \u3092\u66f8\u304f\u3002\n\n```\nmv /usr/bin/ld /usr/bin/ld.old\necho '/usr/bin/ld.old --no-keep-memory $@' > /usr/bin/ld\nchmod a+x /usr/bin/ld\n```\n\n\u3053\u308c\u3067\u30ea\u30f3\u30af\u3067\u304d\u305f\u3002\n\n\n```\nrm /usr/bin/ld\nmv /usr/bin/ld.old /usr/bin/ld\n```\n\n\u7d42\u308f\u3063\u305f\u3089\u5143\u306b\u623b\u3057\u3066\u304a\u304f\u3002\n\n## \u53c2\u8003\n\n* http://stackoverflow.com/questions/33551473/ld-fatal-error-failed-to-allocate-memory\n* http://stackoverflow.com/questions/25197570/llvm-clang-compile-error-with-memory-exhausted\n* https://linuxjm.osdn.jp/html/GNU_binutils/man1/ld.1.html\n", "tags": ["clang", "Emscripten"]}