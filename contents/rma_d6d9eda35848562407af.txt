{"context": "\n\nnpm search\u3067\u300cJavaScript heap out of memory\u300d\u304c\u51fa\u305f\u6642\u306e\u5bfe\u51e6\u65b9\u6cd5\n\n \u73fe\u8c61\n\u4eca\u307e\u3067\u3001Windows\u3067\u4f5c\u696d\u3057\u3066\u3044\u3066\u306e\u3067\u3059\u304c\u3001mac\u306b\u3082\u540c\u3058\u74b0\u5883\u3067\u4f5c\u696d\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001Node.js\u306ecurrent\u30d0\u30fc\u30b8\u30e7\u30f3(v6.4.0)\u3092\u4eca\u65e5\u5165\u308c\u307e\u3057\u305f\u3002\n\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u3067\u8a66\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001brew\u304b\u3089nodebrew\u3092\u4f7f\u7528\u3057\u3066\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u3001nmp search\u3092\u5b9f\u884c\u3057\u305f\u3068\u3053\u308d\u3001JavaScript\u306e\u30d2\u30fc\u30d7\u30e1\u30e2\u30ea\u30a8\u30e9\u30fc\u306b\u306a\u308a\u3001\u5b9f\u884c\u3067\u304d\u306a\u3044\u73fe\u8c61\u304c\u767a\u751f\u3057\u305f\u306e\u3067\u305d\u306e\u5bfe\u51e6\u6cd5\u3067\u3059\u3002\n\n \u74b0\u5883\n\nMac OS X\n\n\nv10.11.6 EI Capitan\n\n\nNode.js\n\n\nv6.4.0\n\n\nnpm\n\n\nv3.10.3\n\n\n\n\n \u5bfe\u51e6\u6cd5\nnode\u30b3\u30de\u30f3\u30c9\u306b\u5bfe\u3057\u3066\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u3066\u3001alias\u3092\u4f5c\u6210\u3057\u3066\u3001\u5b9f\u884c\u3092\u3057\u307e\u3057\u305f\u30021\n$ alias npm8gb='node --max-old-space-size=8192 ~/.nodebrew/current/bin/npm'\n$ npm8gb search datajs\n\n\n\u30a8\u30e9\u30fc\u5185\u5bb9\n$ npm search datajs\nnpm WARN Building the local index for the first time, please be patient\n\u2e28\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2e29 \u280b : WARN Building the local index for the first time, please be patient\n<--- Last few GCs --->\n\n   30381 ms: Mark-sweep 924.9 (1225.8) -> 923.5 (1233.8) MB, 450.7 / 0 ms (+ 212.1 ms in 1148 steps since start of marking, biggest step 9.6 ms) [allocation failure] [GC in old space requested].\n   31220 ms: Mark-sweep 923.5 (1233.8) -> 898.1 (1215.1) MB, 839.2 / 0 ms [allocation failure] [GC in old space requested].\n   32073 ms: Mark-sweep 898.1 (1215.1) -> 898.0 (1207.1) MB, 852.4 / 0 ms [last resort gc].\n   32893 ms: Mark-sweep 898.0 (1207.1) -> 897.9 (1201.1) MB, 820.3 / 0 ms [last resort gc].\n\n\n<--- JS stacktrace --->\n\n==== JS stack trace =========================================\n\nSecurity context: 0x1eab77ec9e31 <JS Object>\n    1: fromString(aka fromString) [buffer.js:194] [pc=0x37f488bca710] (this=0x1eab77e04189 <undefined>,string=0x154ba4f2cf61 <Very long string[193413690]>,encoding=0x1eab77ed7a41 <String[4]: utf8>)\n    2: from [buffer.js:94] [pc=0x37f488b3e0d6] (this=0x3af851ea7ad1 <JS Function Buffer (SharedFunctionInfo 0x1eab77ee3319)>,value=0x154ba4f2cf61 <Very long string[193413690]>,encodingOrOffset=0x1eab...\n\nFATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory\n 1: node::Abort() [/Users/rma/.nodebrew/current/bin/node]\n 2: node::FatalException(v8::Isolate*, v8::Local<v8::Value>, v8::Local<v8::Message>) [/Users/rma/.nodebrew/current/bin/node]\n 3: v8::internal::V8::FatalProcessOutOfMemory(char const*, bool) [/Users/rma/.nodebrew/current/bin/node]\n 4: v8::internal::Factory::NewRawTwoByteString(int, v8::internal::PretenureFlag) [/Users/rma/.nodebrew/current/bin/node]\n 5: v8::internal::String::SlowFlatten(v8::internal::Handle<v8::internal::ConsString>, v8::internal::PretenureFlag) [/Users/rma/.nodebrew/current/bin/node]\n 6: v8::String::WriteUtf8(char*, int, int*, int) const [/Users/rma/.nodebrew/current/bin/node]\n 7: node::StringBytes::Write(v8::Isolate*, char*, unsigned long, v8::Local<v8::Value>, node::encoding, int*) [/Users/rma/.nodebrew/current/bin/node]\n 8: node::Buffer::New(v8::Isolate*, v8::Local<v8::String>, node::encoding) [/Users/rma/.nodebrew/current/bin/node]\n 9: node::Buffer::CreateFromString(v8::FunctionCallbackInfo<v8::Value> const&) [/Users/rma/.nodebrew/current/bin/node]\n10: v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo<v8::Value> const&)) [/Users/rma/.nodebrew/current/bin/node]\n11: v8::internal::MaybeHandle<v8::internal::Object> v8::internal::(anonymous namespace)::HandleApiCallHelper<false>(v8::internal::Isolate*, v8::internal::(anonymous namespace)::BuiltinArguments<(v8::internal::BuiltinExtraArguments)1>) [/Users/rma/.nodebrew/current/bin/node]\n12: v8::internal::Builtin_HandleApiCall(int, v8::internal::Object**, v8::internal::Isolate*) [/Users/rma/.nodebrew/current/bin/node]\n13: 0x37f48830961b\nAbort trap: 6\n\n\n\u53c2\u8003\n\n\n\n\ngithub\u4e0a\u306bISSUE\u3068\u3057\u3066\u3001\u4e0a\u304c\u3063\u3066\u3044\u308b\u3002 https://github.com/npm/npm/issues/12619\u00a0\u21a9\n\n\n\n# npm search\u3067\u300cJavaScript heap out of memory\u300d\u304c\u51fa\u305f\u6642\u306e\u5bfe\u51e6\u65b9\u6cd5\n\n## :hourglass: \u73fe\u8c61\n\u4eca\u307e\u3067\u3001Windows\u3067\u4f5c\u696d\u3057\u3066\u3044\u3066\u306e\u3067\u3059\u304c\u3001mac\u306b\u3082\u540c\u3058\u74b0\u5883\u3067\u4f5c\u696d\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001Node.js\u306ecurrent\u30d0\u30fc\u30b8\u30e7\u30f3(v6.4.0)\u3092\u4eca\u65e5\u5165\u308c\u307e\u3057\u305f\u3002\n\n\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u3067\u8a66\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3001brew\u304b\u3089nodebrew\u3092\u4f7f\u7528\u3057\u3066\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u3001nmp search\u3092\u5b9f\u884c\u3057\u305f\u3068\u3053\u308d\u3001JavaScript\u306e\u30d2\u30fc\u30d7\u30e1\u30e2\u30ea\u30a8\u30e9\u30fc\u306b\u306a\u308a\u3001\u5b9f\u884c\u3067\u304d\u306a\u3044\u73fe\u8c61\u304c\u767a\u751f\u3057\u305f\u306e\u3067\u305d\u306e\u5bfe\u51e6\u6cd5\u3067\u3059\u3002\n\n## :computer: \u74b0\u5883\n\n- Mac OS X\n    - v10.11.6 EI Capitan\n- Node.js\n    - v6.4.0\n- npm\n    - v3.10.3\n\n## :mag_right: \u5bfe\u51e6\u6cd5\n\nnode\u30b3\u30de\u30f3\u30c9\u306b\u5bfe\u3057\u3066\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u3066\u3001alias\u3092\u4f5c\u6210\u3057\u3066\u3001\u5b9f\u884c\u3092\u3057\u307e\u3057\u305f\u3002[^github]\n\n```sh\n$ alias npm8gb='node --max-old-space-size=8192 ~/.nodebrew/current/bin/npm'\n$ npm8gb search datajs\n```\n\n### \u30a8\u30e9\u30fc\u5185\u5bb9\n\n```sh\n$ npm search datajs\nnpm WARN Building the local index for the first time, please be patient\n\u2e28\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2e29 \u280b : WARN Building the local index for the first time, please be patient\n<--- Last few GCs --->\n\n   30381 ms: Mark-sweep 924.9 (1225.8) -> 923.5 (1233.8) MB, 450.7 / 0 ms (+ 212.1 ms in 1148 steps since start of marking, biggest step 9.6 ms) [allocation failure] [GC in old space requested].\n   31220 ms: Mark-sweep 923.5 (1233.8) -> 898.1 (1215.1) MB, 839.2 / 0 ms [allocation failure] [GC in old space requested].\n   32073 ms: Mark-sweep 898.1 (1215.1) -> 898.0 (1207.1) MB, 852.4 / 0 ms [last resort gc].\n   32893 ms: Mark-sweep 898.0 (1207.1) -> 897.9 (1201.1) MB, 820.3 / 0 ms [last resort gc].\n\n\n<--- JS stacktrace --->\n\n==== JS stack trace =========================================\n\nSecurity context: 0x1eab77ec9e31 <JS Object>\n    1: fromString(aka fromString) [buffer.js:194] [pc=0x37f488bca710] (this=0x1eab77e04189 <undefined>,string=0x154ba4f2cf61 <Very long string[193413690]>,encoding=0x1eab77ed7a41 <String[4]: utf8>)\n    2: from [buffer.js:94] [pc=0x37f488b3e0d6] (this=0x3af851ea7ad1 <JS Function Buffer (SharedFunctionInfo 0x1eab77ee3319)>,value=0x154ba4f2cf61 <Very long string[193413690]>,encodingOrOffset=0x1eab...\n\nFATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory\n 1: node::Abort() [/Users/rma/.nodebrew/current/bin/node]\n 2: node::FatalException(v8::Isolate*, v8::Local<v8::Value>, v8::Local<v8::Message>) [/Users/rma/.nodebrew/current/bin/node]\n 3: v8::internal::V8::FatalProcessOutOfMemory(char const*, bool) [/Users/rma/.nodebrew/current/bin/node]\n 4: v8::internal::Factory::NewRawTwoByteString(int, v8::internal::PretenureFlag) [/Users/rma/.nodebrew/current/bin/node]\n 5: v8::internal::String::SlowFlatten(v8::internal::Handle<v8::internal::ConsString>, v8::internal::PretenureFlag) [/Users/rma/.nodebrew/current/bin/node]\n 6: v8::String::WriteUtf8(char*, int, int*, int) const [/Users/rma/.nodebrew/current/bin/node]\n 7: node::StringBytes::Write(v8::Isolate*, char*, unsigned long, v8::Local<v8::Value>, node::encoding, int*) [/Users/rma/.nodebrew/current/bin/node]\n 8: node::Buffer::New(v8::Isolate*, v8::Local<v8::String>, node::encoding) [/Users/rma/.nodebrew/current/bin/node]\n 9: node::Buffer::CreateFromString(v8::FunctionCallbackInfo<v8::Value> const&) [/Users/rma/.nodebrew/current/bin/node]\n10: v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo<v8::Value> const&)) [/Users/rma/.nodebrew/current/bin/node]\n11: v8::internal::MaybeHandle<v8::internal::Object> v8::internal::(anonymous namespace)::HandleApiCallHelper<false>(v8::internal::Isolate*, v8::internal::(anonymous namespace)::BuiltinArguments<(v8::internal::BuiltinExtraArguments)1>) [/Users/rma/.nodebrew/current/bin/node]\n12: v8::internal::Builtin_HandleApiCall(int, v8::internal::Object**, v8::internal::Isolate*) [/Users/rma/.nodebrew/current/bin/node]\n13: 0x37f48830961b\nAbort trap: 6\n```\n\n## \u53c2\u8003\n[^github]: github\u4e0a\u306bISSUE\u3068\u3057\u3066\u3001\u4e0a\u304c\u3063\u3066\u3044\u308b\u3002 https://github.com/npm/npm/issues/12619\n", "tags": ["Node.js6.4.0", "npm3.10.3", "OSX10.11.6"]}