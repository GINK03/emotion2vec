{"context": " More than 1 year has passed since last update.Rails\u3067React.js\u3068\u8a00\u3048\u3070react-rails\u306egem\u304c\u6709\u540d\u3067\u3059\u304c\u3001react_on_rails\u3068\u3044\u3046\u3082\u306e\u3082\u3042\u308b\u306e\u3067\u4f7f\u3063\u3066\u307f\u305f\u3001\u3068\u3044\u3046\u304b\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3067\u4f5c\u6210\u3055\u308c\u308b\u30b5\u30f3\u30d7\u30eb(Hello World)\u3092\u52d5\u304b\u3059\u307e\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\u74b0\u5883\n\nOS: CentOS 6.7 64bit (VirtualBox)\nRuby: 2.2.2\nnode: 5.4.1\nnpm: 3.3.12\n\n\n1. \u307e\u305a\u306fRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n[root@localhost rails]# mkdir react_on_rails_sample\n[root@localhost rails]# cd react_on_rails_sample/\n[root@localhost react_on_rails_sample]# bundle init\nWriting new Gemfile to /var/rails/react_on_rails_sample/Gemfile\n[root@localhost react_on_rails_sample]# vi Gemfile \n------------------------------\n# A sample Gemfile\nsource \"https://rubygems.org\"\n\ngem \"rails\"\u3000\u2190\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3059\n------------------------------\n\n[root@localhost react_on_rails_sample]# bundle install --path=tmp/bundler\n\n[root@localhost react_on_rails_sample]# bundle exec rails new .\n       exist  \n      create  README.rdoc\n      create  Rakefile\n      create  config.ru\n      create  .gitignore\n    conflict  Gemfile\nOverwrite /var/rails/react_on_rails_sample/Gemfile? (enter \"h\" for help) [Ynaqdh] Y\n       force  Gemfile\n      create  app\n      create  app/assets/javascripts/application.js\n      \u30fb\u30fb\u30fb\n[root@localhost react_on_rails_sample]# vi Gemfile\n---------------------\ngem 'react_on_rails'\u3000\u2190\u672b\u5c3e\u306b\u8ffd\u52a0\n---------------------\n\n[root@localhost react_on_rails_sample]# bundle install\n\n\ngem\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u304f\u306a\u3044\u306e\u3067\u3001bundle install\u3067path\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n2. react_on_rails\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u8a66\u3057\u3066\u307f\u308b\nreact_on_rails\u306eGetting Started\u3092\u3084\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n[root@localhost react_on_rails_sample]# bundle exec rails generate react_on_rails:install --help\nRunning via Spring preloader in process 2638\nUsage:\n  rails generate react_on_rails:install [options]\n\nOptions:\n  -R, [--redux], [--no-redux]                          # Install Redux gems and Redux version of Hello World Example. Default: false\n  -S, [--server-rendering], [--no-server-rendering]    # Add necessary files and configurations for server-side rendering. Default: false\n  -j, [--skip-js-linters], [--no-skip-js-linters]      # Skip installing JavaScript linting files. Default: false\n  -L, [--ruby-linters], [--no-ruby-linters]            # Install ruby linting files, tasks, and configs. Default: false\n  -H, [--heroku-deployment], [--no-heroku-deployment]  # Install files necessary for deploying to Heroku. Default: false\n  -b, [--skip-bootstrap], [--no-skip-bootstrap]        # Skip integrating Bootstrap and don't initialize files and regarding configs. Default: false\n      [--ignore-warnings], [--no-ignore-warnings]      # Skip warnings. Default: false\n\u30fb\u30fb\u30fb\n\n\nhelp\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u5229\u7528\u3067\u304d\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3084\u308a\u305f\u3044\u306e\u3067S\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n[root@localhost react_on_rails_sample]# bundle exec rails generate react_on_rails:install -S\nRunning via Spring preloader in process 2727\nfatal: Not a git repository (or any of the parent directories): .git\nERROR: You have uncommitted code. Please commit or stash your changes before continuing\nERROR: react_on_rails generator prerequisites not met!\n\n\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\u3002\u3002\n\u3069\u3046\u3084\u3089git\u7ba1\u7406\u3057\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u3001git init\u301ccommit\u307e\u3067\u3057\u307e\u3059\u3002\n[root@localhost react_on_rails_sample]# git init\nInitialized empty Git repository in /var/rails/react_on_rails_sample/.git/\n[root@localhost react_on_rails_sample]# git add .\n[root@localhost react_on_rails_sample]# git commit -m \"init\"\n[master (root-commit) 1d66a8b] init\n 40 files changed, 1049 insertions(+), 0 deletions(-)\n\u30fb\u30fb\u30fb\n\n\u305d\u308c\u3067\u306f\u3001\u6539\u3081\u3066\u5b9f\u884c\u3002\n[root@localhost react_on_rails_sample]# bundle exec rails generate react_on_rails:install -S\nRunning via Spring preloader in process 2776\nERROR: You have uncommitted code. Please commit or stash your changes before continuing\nERROR: react_on_rails generator prerequisites not met!\n\n\ngit commit\u3057\u305f\u306b\u3082\u95a2\u308f\u3089\u305a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002\u3002\n\u8abf\u3079\u3066\u307f\u305f\u3068\u3053\u308d\u4e0b\u8a18\u306e\u7b87\u6240\u3067git commit\u3057\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\u3002\n\nreact_on_rails-2.3.0/lib/react_on_rails/git_utils.rb\nmodule ReactOnRails\n  module GitUtils\n    def self.uncommitted_changes?(message_handler)\n      return false if ENV[\"COVERAGE\"]\n      status = `git status`\n      return false if status.include?(\"nothing to commit, working directory clean\")\n      error = \"You have uncommitted code. Please commit or stash your changes before continuing\"\n      message_handler.add_error(error)\n      true\n    end\n  end\nend\n\n\nGit\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u9055\u3046\u306e\u304bgit status\u3057\u305f\u6642\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9055\u3046\u305f\u3081\u3001\u3042\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\u73fe\u5728\u306e\u74b0\u5883\u306eGit\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f1.7.1\u3067\u3059\u3002\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u65b9\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u304c\u3001\u9762\u5012\u304f\u3055\u3044\u306e\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3044\u3058\u308a\u307e\u3057\u305f\u3002\uff08\u305d\u3063\u3061\u3082\u9762\u5012\u304f\u3055\u3044\u3060\u308d\uff01\u3068\u3044\u3046\u30c4\u30c3\u30b3\u30df\u306f\u306a\u3057\u3067\u3059\n\u3010\u5909\u66f4\u524d\u3011\nreturn false if status.include?(\"nothing to commit, working directory clean\")\n\u3010\u5909\u66f4\u5f8c\u3011\nreturn false if status.include?(\"nothing to commit (working directory clean)\")\n\n\u305d\u308c\u3067\u306f\u6c17\u3092\u53d6\u308a\u76f4\u3057\u3066\u3002\n[root@localhost react_on_rails_sample]# bundle exec rails generate react_on_rails:install -S\nRunning via Spring preloader in process 2857\n       route  get 'hello_world', to: 'hello_world#index'\n      create  client/assets\n      create  client/assets/stylesheets\n      create  client/assets/fonts\n      create  client/assets/fonts/.keep\n      create  client/assets/images\n      create  client/assets/images/.keep\n      append  .gitignore\n     prepend  app/assets/javascripts/application.js\n        gsub  app/assets/javascripts/application.js\n        gsub  app/assets/javascripts/application.js\n        gsub  app/assets/javascripts/application.js\n        gsub  app/assets/javascripts/application.js\n      create  client/app/bundles/HelloWorld/components\n      create  client/app/bundles/HelloWorld/containers\n      create  client/app/bundles/HelloWorld/startup\n      create  app/controllers/hello_world_controller.rb\n      create  config/initializers/react_on_rails.rb\n      create  client/.babelrc\n      create  client/index.jade\n      create  client/server.js\n      create  client/webpack.client.base.config.js\n      create  client/webpack.client.rails.config.js\n      create  REACT_ON_RAILS.md\n      create  client/REACT_ON_RAILS_CLIENT_README.md\n      create  package.json\n      create  Procfile.dev\n      create  Procfile.dev-hot\n      create  app/views/hello_world/index.html.erb\n      create  client/app/bundles/HelloWorld/components/HelloWorldWidget.jsx\n      create  client/webpack.client.hot.config.js\n      create  client/package.json\n      append  Gemfile\n      create  client/app/bundles/HelloWorld/startup/clientRegistration.jsx\n      create  client/webpack.server.rails.config.js\n      create  client/app/bundles/HelloWorld/startup/serverRegistration.jsx\n      create  lib/tasks/linters.rake\n      create  lib/tasks/assets.rake\n      append  config/initializers/assets.rb\n      create  client/app/bundles/HelloWorld/containers/HelloWorld.jsx\n      create  client/app/bundles/HelloWorld/startup/HelloWorldAppServer.jsx\n      create  client/app/bundles/HelloWorld/startup/HelloWorldAppClient.jsx\n      create  client/.eslintrc\n      create  client/.eslintignore\n      create  client/.jscsrc\n      create  app/assets/stylesheets/_bootstrap-custom.scss\n      create  client/assets/stylesheets/_post-bootstrap.scss\n      create  client/assets/stylesheets/_pre-bootstrap.scss\n      create  client/assets/stylesheets/_react-on-rails-sass-helper.scss\n      create  client/bootstrap-sass.config.js\n      append  app/assets/stylesheets/application.scss\n        gsub  app/assets/stylesheets/application.scss\n        gsub  app/assets/stylesheets/application.scss\n      append  Gemfile\n      append  app/assets/javascripts/application.js\n\nWhat to do next:\n\n  - Ensure your bundle and npm are up to date.\n\n      bundle && npm i\n\n  - Run the npm rails-server command to load the rails server.\n\n      npm run rails-server\n\n  - Visit http://localhost:3000/hello_world and see your React On Rails app running!\n\n\u4eca\u5ea6\u306f\u4e0a\u624b\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n\u6b21\u306b\u3084\u308b\u3053\u3068\u306f\u3001What to do next\u306b\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u305d\u306e\u901a\u308a\u306b\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n[root@localhost react_on_rails_sample]# bundle && npm i\nDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\nFetching gem metadata from https://rubygems.org/...........\n\u30fb\u30fb\u30fb\nBundled gems are installed into ./tmp/bundler.\nnpm WARN lifecycle react-webpack-rails-tutorial@1.1.1~postinstall: cannot run in wd %s %s (wd=%s) react-webpack-rails-tutorial@1.1.1 cd client && npm install /var/rails/react_on_rails_sample\n\n\u307e\u305f\u30a8\u30e9\u30fc\u3067\u3059\u3002\nbundle install\u306b\u306f\u6210\u529f\u3057\u305f\u3088\u3046\u3067\u3059\u304c\u3001\u305d\u306e\u5f8c\u306enpm install\u306b\u5931\u6557\u3057\u305f\u3088\u3046\u3067\u3059\u3002\n\u5ff5\u306e\u305f\u3081npm install\u3060\u3051\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\n[root@localhost react_on_rails_sample]# npm install\nnpm WARN lifecycle react-webpack-rails-tutorial@1.1.1~postinstall: cannot run in wd %s %s (wd=%s) react-webpack-rails-tutorial@1.1.1 cd client && npm install /var/rails/react_on_rails_sample\n\n\u30a8\u30e9\u30fc\u306f\u7279\u306b\u5909\u308f\u3089\u306a\u3044\u3067\u3059\u306d\u3002\u3002\n\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u306a\u305cpostinstall\u304c\u5931\u6557\u3057\u3066\u3044\u308b\u304b\u306e\u539f\u56e0\u3068\u89e3\u6c7a\u7b56\u304c\u5206\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305apostinstall\u304c\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u305d\u306e\u307e\u307e\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\n\u203b\u539f\u56e0\u3068\u89e3\u6c7a\u65b9\u6cd5\u5206\u304b\u3063\u305f\u306e\u3067\u30b3\u30e1\u30f3\u30c8\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\n[root@localhost react_on_rails_sample]# cd client && npm install\nnpm WARN install Couldn't install optional dependency: Unsupported\nnpm WARN deprecated bootstrap-sass-loader@1.0.10: Replaced by bootstrap-loader. Please upgrade.\nnpm WARN deprecated npmconf@2.1.2: this package has been reintegrated into npm and is now out of date with respect to npm\nnpm WARN deprecated lodash@1.0.2: lodash@<3.0.0 is no longer maintained. Upgrade to lodash@^4.0.0\nnpm WARN prefer global jsonlint@1.6.2 should be installed with -g\nnpm WARN prefer global node-gyp@3.2.1 should be installed with -g\n\n\u30fb\u30fb\u30fb\n\n\u3061\u3087\u3063\u3068WARN\u304c\u51fa\u3066\u307e\u3059\u304c\u3001\u5927\u65b9\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002(WARN\u306f\u5f8c\u3067\u89e3\u6c7a\u3057\u307e\u3057\u3087\u3046\u3002\u3002\n\u305d\u3057\u3066\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9npm run rails-server\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n[root@localhost react_on_rails_sample]# npm run rails-server\n\n> react-webpack-rails-tutorial@1.1.1 rails-server /var/rails/react_on_rails_sample\n> echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev\n\nvisit http://localhost:3000/hello_world\nsh: foreman: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\n\nnpm ERR! Linux 2.6.32-573.12.1.el6.x86_64\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"run\" \"rails-server\"\nnpm ERR! node v5.4.1\nnpm ERR! npm  v3.3.12\nnpm ERR! file sh\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno ENOENT\nnpm ERR! syscall spawn\nnpm ERR! react-webpack-rails-tutorial@1.1.1 rails-server: `echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev`\nnpm ERR! spawn ENOENT\nnpm ERR! \nnpm ERR! Failed at the react-webpack-rails-tutorial@1.1.1 rails-server script 'echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the react-webpack-rails-tutorial package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls react-webpack-rails-tutorial\nnpm ERR! There is likely additional logging output above.\n\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /var/rails/react_on_rails_sample/npm-debug.log\n\n\u307e\u305f\u3082\u3084\u76db\u5927\u306b\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u307e\u3059\u3002\n\u300csh: foreman: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u300d\u3068\u51fa\u3066\u3044\u308b\u306e\u3067\u3001foreman\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u4e00\u5fdcGemfile.lock\u3092\u8abf\u3079\u3066\u307f\u307e\u3059\u3002\n[root@localhost react_on_rails_sample]# cat Gemfile.lock | grep foreman\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u3067\u3059\u306d\u3002\u3002\nGemfile\u306b\u8ffd\u52a0\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\uff08rails generate react_on_rails:install\u3057\u305f\u6642\u306b\u8ffd\u52a0\u3057\u3066\u304f\u308c\u306a\u3044\u3093\u3067\u3059\u306d\u3002\u3002\u3002\n\u958b\u767a\u3067\u3057\u304b\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001group :development do\u306b\u3067\u3082\u66f8\u3044\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\nGemfile\n\u30fb\u30fb\u30fb\ngroup :development do\n  # Access an IRB console on exception pages or by using <%= console %> in views\n  gem 'web-console', '~> 2.0'\n\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\n  gem 'foreman'\u3000\u2190\u8ffd\u52a0\nend\n\u30fb\u30fb\u30fb\n\n\nbundle install\u304c\u5b8c\u4e86\u3057\u305f\u3089\u6539\u3081\u3066npm run rails-server\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n[root@localhost react_on_rails_sample]# npm run rails-server\n\n> react-webpack-rails-tutorial@1.1.1 rails-server /var/rails/react_on_rails_sample\n> echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev\n\nvisit http://localhost:3000/hello_world\nsh: foreman: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\n\u30fb\u30fb\u30fb\n\n\u30fb\u30fb\u30fb\u305d\u3046\u3067\u3057\u305f\u3002\u3002gem\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30ed\u30fc\u30ab\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u306e\u3067\u901a\u5e38\u306eforeman\u30b3\u30de\u30f3\u30c9\u306f\u4f7f\u3048\u307e\u305b\u3093\u3002bundler exec\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u306a\u306e\u3067\u3001npm run\u3067\u5b9f\u884c\u3059\u308brails-server\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\npackage.json\n{\n  \"name\": \"react-webpack-rails-tutorial\",\n  \"version\": \"1.1.1\",\n  \u30fb\u30fb\u30fb\n  \"scripts\": {\n    \"postinstall\": \"cd client && npm install\",\n    \"test\": \"rspec && (cd client && npm run lint)\",\n    \"express-server\": \"echo 'visit http://localhost:4000' && cd client && npm start\",\n    \"rails-server\": \"echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev\"\n\u3000\u3000\u2193foreman\u306e\u76f4\u524d\u306bbundle exec\u3092\u8ffd\u52a0\n    \"rails-server\": \"echo 'visit http://localhost:3000/hello_world' && bundle exec foreman start -f Procfile.dev\"\n  },\n\u30fb\u30fb\u30fb\n\n\n\u5909\u66f4\u5f8c\u3001\u518d\u5ea6npm run rails-server\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n[root@localhost react_on_rails_sample]# npm run rails-server\n\n> react-webpack-rails-tutorial@1.1.1 rails-server /var/rails/react_on_rails_sample\n> echo 'visit http://localhost:3000/hello_world' && bundle exec foreman start -f Procfile.dev\n\nvisit http://localhost:3000/hello_world\n23:03:12 web.1    | started with pid 3360\n23:03:12 client.1 | started with pid 3361\n23:03:12 server.1 | started with pid 3363\n23:03:12 client.1 | rm: cannot remove `app/assets/javascripts/generated/*': \u305d\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3042\u308a\u307e\u305b\u3093\n23:03:13 server.1 | \n23:03:13 server.1 | > react-webpack-rails-tutorial@1.1.0 build:dev:server /var/rails/react_on_rails_sample/client\n23:03:13 server.1 | > webpack -w --config webpack.server.rails.config.js\n23:03:13 server.1 | \n23:03:13 client.1 | \n23:03:13 client.1 | > react-webpack-rails-tutorial@1.1.0 build:dev:client /var/rails/react_on_rails_sample/client\n23:03:13 client.1 | > webpack -w --config webpack.client.rails.config.js\n23:03:13 client.1 | \n23:03:14 client.1 | Webpack dev build for Rails\n23:03:17 web.1    | [2016-02-09 23:03:17] INFO  WEBrick 1.3.1\n23:03:17 web.1    | [2016-02-09 23:03:17] INFO  ruby 2.2.2 (2015-04-13) [x86_64-linux]\n23:03:17 web.1    | [2016-02-09 23:03:17] INFO  WEBrick::HTTPServer#start: pid=3360 port=3000\n23:03:23 server.1 | Hash: 8d83dd48f344ad6f63e2\n23:03:23 server.1 | Version: webpack 1.12.13\n23:03:23 server.1 | Time: 9435ms\n23:03:23 server.1 |            Asset     Size  Chunks             Chunk Names\n23:03:23 server.1 | server-bundle.js  1.84 MB       0  [emitted]  main\n23:03:23 server.1 |    [0] multi main 40 bytes {0} [built]\n23:03:23 server.1 |     + 649 hidden modules\n23:03:27 client.1 | Hash: 9c2e8dbbd6027ec29bd6\n23:03:27 client.1 | Version: webpack 1.12.13\n23:03:27 client.1 | Time: 13139ms\n23:03:27 client.1 |            Asset     Size  Chunks             Chunk Names\n23:03:27 client.1 |    app-bundle.js  4.49 MB       0  [emitted]  app\n23:03:27 client.1 | vendor-bundle.js  1.54 MB       1  [emitted]  vendor\n23:03:27 client.1 |    [0] multi app 28 bytes {0} [built]\n23:03:27 client.1 |    [0] multi vendor 76 bytes {1} [built]\n23:03:27 client.1 |     + 655 hidden modules\n\n\u3010VirtualBox\u306a\u3069\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3011\n\u4e0a\u8a18\u3067\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\u307e\u3067\u5b8c\u4e86\u3057\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306fVirtualBox\u306b\u4f5c\u3063\u305f\u74b0\u5883\u306b\u30db\u30b9\u30c8OS\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u305f\u306e\u3067\u3082\u3046\u4e00\u624b\u9593\u5fc5\u8981\u3067\u3057\u305f\u3002\n\nProcfile.dev\n\u3010\u5909\u66f4\u524d\u3011\nweb: rails s\nclient: sh -c 'rm app/assets/javascripts/generated/* || true && cd client && npm run build:dev:client'\nserver: sh -c 'cd client && npm run build:dev:server'\n\n\u3010\u5909\u66f4\u5f8c\u3011\nweb: rails s -b 0.0.0.0\nclient: sh -c 'rm app/assets/javascripts/generated/* || true && cd client && npm run build:dev:client'\nserver: sh -c 'cd client && npm run build:dev:server'\n\n\n\u5916\u90e8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u306f\u3001rails s\u3067 -b 0.0.0.0\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\n\u3053\u308c\u3067\u3001http://localhost(\u307e\u305f\u306fIP):3000/hello_world\n\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u51fa\u6765\u3066\u3044\u308b\u304b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306eJavascript\u3092\u7121\u52b9\u306b\u3057\u3066\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3061\u3083\u3093\u3068\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u51fa\u6765\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\nRails\u3067React.js\u3068\u8a00\u3048\u3070react-rails\u306egem\u304c\u6709\u540d\u3067\u3059\u304c\u3001react_on_rails\u3068\u3044\u3046\u3082\u306e\u3082\u3042\u308b\u306e\u3067\u4f7f\u3063\u3066\u307f\u305f\u3001\u3068\u3044\u3046\u304b\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3067\u4f5c\u6210\u3055\u308c\u308b\u30b5\u30f3\u30d7\u30eb(Hello World)\u3092\u52d5\u304b\u3059\u307e\u3067\u3084\u3063\u3066\u307f\u307e\u3057\u305f\u3002\n\n\n# \u74b0\u5883\n- OS: CentOS 6.7 64bit (VirtualBox)\n- Ruby: 2.2.2\n- node: 5.4.1\n- npm: 3.3.12\n\n\n## 1. \u307e\u305a\u306fRails\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\n```\n[root@localhost rails]# mkdir react_on_rails_sample\n[root@localhost rails]# cd react_on_rails_sample/\n[root@localhost react_on_rails_sample]# bundle init\nWriting new Gemfile to /var/rails/react_on_rails_sample/Gemfile\n[root@localhost react_on_rails_sample]# vi Gemfile \n------------------------------\n# A sample Gemfile\nsource \"https://rubygems.org\"\n\ngem \"rails\"\u3000\u2190\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3059\n------------------------------\n\n[root@localhost react_on_rails_sample]# bundle install --path=tmp/bundler\n\n[root@localhost react_on_rails_sample]# bundle exec rails new .\n       exist  \n      create  README.rdoc\n      create  Rakefile\n      create  config.ru\n      create  .gitignore\n    conflict  Gemfile\nOverwrite /var/rails/react_on_rails_sample/Gemfile? (enter \"h\" for help) [Ynaqdh] Y\n       force  Gemfile\n      create  app\n      create  app/assets/javascripts/application.js\n      \u30fb\u30fb\u30fb\n[root@localhost react_on_rails_sample]# vi Gemfile\n---------------------\ngem 'react_on_rails'\u3000\u2190\u672b\u5c3e\u306b\u8ffd\u52a0\n---------------------\n\n[root@localhost react_on_rails_sample]# bundle install\n\n```\ngem\u3092\u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u304f\u306a\u3044\u306e\u3067\u3001bundle install\u3067path\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n## 2. react_on_rails\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u8a66\u3057\u3066\u307f\u308b\nreact_on_rails\u306e[Getting Started](https://github.com/shakacode/react_on_rails#getting-started)\u3092\u3084\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\n[root@localhost react_on_rails_sample]# bundle exec rails generate react_on_rails:install --help\nRunning via Spring preloader in process 2638\nUsage:\n  rails generate react_on_rails:install [options]\n\nOptions:\n  -R, [--redux], [--no-redux]                          # Install Redux gems and Redux version of Hello World Example. Default: false\n  -S, [--server-rendering], [--no-server-rendering]    # Add necessary files and configurations for server-side rendering. Default: false\n  -j, [--skip-js-linters], [--no-skip-js-linters]      # Skip installing JavaScript linting files. Default: false\n  -L, [--ruby-linters], [--no-ruby-linters]            # Install ruby linting files, tasks, and configs. Default: false\n  -H, [--heroku-deployment], [--no-heroku-deployment]  # Install files necessary for deploying to Heroku. Default: false\n  -b, [--skip-bootstrap], [--no-skip-bootstrap]        # Skip integrating Bootstrap and don't initialize files and regarding configs. Default: false\n      [--ignore-warnings], [--no-ignore-warnings]      # Skip warnings. Default: false\n\u30fb\u30fb\u30fb\n\n```\n\nhelp\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u5229\u7528\u3067\u304d\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\u4eca\u56de\u306f\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3084\u308a\u305f\u3044\u306e\u3067S\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\n[root@localhost react_on_rails_sample]# bundle exec rails generate react_on_rails:install -S\nRunning via Spring preloader in process 2727\nfatal: Not a git repository (or any of the parent directories): .git\nERROR: You have uncommitted code. Please commit or stash your changes before continuing\nERROR: react_on_rails generator prerequisites not met!\n```\n\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3057\u305f\u3002\u3002\n\u3069\u3046\u3084\u3089git\u7ba1\u7406\u3057\u3066\u3044\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3088\u3046\u306a\u306e\u3067\u3001git init\u301ccommit\u307e\u3067\u3057\u307e\u3059\u3002\n\n```\n[root@localhost react_on_rails_sample]# git init\nInitialized empty Git repository in /var/rails/react_on_rails_sample/.git/\n[root@localhost react_on_rails_sample]# git add .\n[root@localhost react_on_rails_sample]# git commit -m \"init\"\n[master (root-commit) 1d66a8b] init\n 40 files changed, 1049 insertions(+), 0 deletions(-)\n\u30fb\u30fb\u30fb\n```\n\n\u305d\u308c\u3067\u306f\u3001\u6539\u3081\u3066\u5b9f\u884c\u3002\n\n```\n[root@localhost react_on_rails_sample]# bundle exec rails generate react_on_rails:install -S\nRunning via Spring preloader in process 2776\nERROR: You have uncommitted code. Please commit or stash your changes before continuing\nERROR: react_on_rails generator prerequisites not met!\n\n```\n\ngit commit\u3057\u305f\u306b\u3082\u95a2\u308f\u3089\u305a\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u3002\u3002\n\u8abf\u3079\u3066\u307f\u305f\u3068\u3053\u308d\u4e0b\u8a18\u306e\u7b87\u6240\u3067git commit\u3057\u3066\u3044\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\u3002\n\n```ruby:react_on_rails-2.3.0/lib/react_on_rails/git_utils.rb\nmodule ReactOnRails\n  module GitUtils\n    def self.uncommitted_changes?(message_handler)\n      return false if ENV[\"COVERAGE\"]\n      status = `git status`\n      return false if status.include?(\"nothing to commit, working directory clean\")\n      error = \"You have uncommitted code. Please commit or stash your changes before continuing\"\n      message_handler.add_error(error)\n      true\n    end\n  end\nend\n```\n\nGit\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u9055\u3046\u306e\u304bgit status\u3057\u305f\u6642\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u9055\u3046\u305f\u3081\u3001\u3042\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\u73fe\u5728\u306e\u74b0\u5883\u306eGit\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f1.7.1\u3067\u3059\u3002\u30d0\u30fc\u30b8\u30e7\u30f3\u30a2\u30c3\u30d7\u3057\u305f\u65b9\u304c\u3044\u3044\u3067\u3057\u3087\u3046\u304c\u3001\u9762\u5012\u304f\u3055\u3044\u306e\u3067\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3044\u3058\u308a\u307e\u3057\u305f\u3002\uff08\u305d\u3063\u3061\u3082\u9762\u5012\u304f\u3055\u3044\u3060\u308d\uff01\u3068\u3044\u3046\u30c4\u30c3\u30b3\u30df\u306f\u306a\u3057\u3067\u3059\n\n```\n\u3010\u5909\u66f4\u524d\u3011\nreturn false if status.include?(\"nothing to commit, working directory clean\")\n\u3010\u5909\u66f4\u5f8c\u3011\nreturn false if status.include?(\"nothing to commit (working directory clean)\")\n```\n\n\u305d\u308c\u3067\u306f\u6c17\u3092\u53d6\u308a\u76f4\u3057\u3066\u3002\n\n```\n[root@localhost react_on_rails_sample]# bundle exec rails generate react_on_rails:install -S\nRunning via Spring preloader in process 2857\n       route  get 'hello_world', to: 'hello_world#index'\n      create  client/assets\n      create  client/assets/stylesheets\n      create  client/assets/fonts\n      create  client/assets/fonts/.keep\n      create  client/assets/images\n      create  client/assets/images/.keep\n      append  .gitignore\n     prepend  app/assets/javascripts/application.js\n        gsub  app/assets/javascripts/application.js\n        gsub  app/assets/javascripts/application.js\n        gsub  app/assets/javascripts/application.js\n        gsub  app/assets/javascripts/application.js\n      create  client/app/bundles/HelloWorld/components\n      create  client/app/bundles/HelloWorld/containers\n      create  client/app/bundles/HelloWorld/startup\n      create  app/controllers/hello_world_controller.rb\n      create  config/initializers/react_on_rails.rb\n      create  client/.babelrc\n      create  client/index.jade\n      create  client/server.js\n      create  client/webpack.client.base.config.js\n      create  client/webpack.client.rails.config.js\n      create  REACT_ON_RAILS.md\n      create  client/REACT_ON_RAILS_CLIENT_README.md\n      create  package.json\n      create  Procfile.dev\n      create  Procfile.dev-hot\n      create  app/views/hello_world/index.html.erb\n      create  client/app/bundles/HelloWorld/components/HelloWorldWidget.jsx\n      create  client/webpack.client.hot.config.js\n      create  client/package.json\n      append  Gemfile\n      create  client/app/bundles/HelloWorld/startup/clientRegistration.jsx\n      create  client/webpack.server.rails.config.js\n      create  client/app/bundles/HelloWorld/startup/serverRegistration.jsx\n      create  lib/tasks/linters.rake\n      create  lib/tasks/assets.rake\n      append  config/initializers/assets.rb\n      create  client/app/bundles/HelloWorld/containers/HelloWorld.jsx\n      create  client/app/bundles/HelloWorld/startup/HelloWorldAppServer.jsx\n      create  client/app/bundles/HelloWorld/startup/HelloWorldAppClient.jsx\n      create  client/.eslintrc\n      create  client/.eslintignore\n      create  client/.jscsrc\n      create  app/assets/stylesheets/_bootstrap-custom.scss\n      create  client/assets/stylesheets/_post-bootstrap.scss\n      create  client/assets/stylesheets/_pre-bootstrap.scss\n      create  client/assets/stylesheets/_react-on-rails-sass-helper.scss\n      create  client/bootstrap-sass.config.js\n      append  app/assets/stylesheets/application.scss\n        gsub  app/assets/stylesheets/application.scss\n        gsub  app/assets/stylesheets/application.scss\n      append  Gemfile\n      append  app/assets/javascripts/application.js\n\nWhat to do next:\n\n  - Ensure your bundle and npm are up to date.\n\n      bundle && npm i\n\n  - Run the npm rails-server command to load the rails server.\n\n      npm run rails-server\n\n  - Visit http://localhost:3000/hello_world and see your React On Rails app running!\n```\n\n\u4eca\u5ea6\u306f\u4e0a\u624b\u304f\u3044\u304d\u307e\u3057\u305f\u3002\n\u6b21\u306b\u3084\u308b\u3053\u3068\u306f\u3001What to do next\u306b\u66f8\u3044\u3066\u3042\u308b\u306e\u3067\u305d\u306e\u901a\u308a\u306b\u5b9f\u884c\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n```\n[root@localhost react_on_rails_sample]# bundle && npm i\nDon't run Bundler as root. Bundler can ask for sudo if it is needed, and\ninstalling your bundle as root will break this application for all non-root\nusers on this machine.\nFetching gem metadata from https://rubygems.org/...........\n\u30fb\u30fb\u30fb\nBundled gems are installed into ./tmp/bundler.\nnpm WARN lifecycle react-webpack-rails-tutorial@1.1.1~postinstall: cannot run in wd %s %s (wd=%s) react-webpack-rails-tutorial@1.1.1 cd client && npm install /var/rails/react_on_rails_sample\n```\n\n\u307e\u305f\u30a8\u30e9\u30fc\u3067\u3059\u3002\nbundle install\u306b\u306f\u6210\u529f\u3057\u305f\u3088\u3046\u3067\u3059\u304c\u3001\u305d\u306e\u5f8c\u306enpm install\u306b\u5931\u6557\u3057\u305f\u3088\u3046\u3067\u3059\u3002\n\u5ff5\u306e\u305f\u3081npm install\u3060\u3051\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\n\n```\n[root@localhost react_on_rails_sample]# npm install\nnpm WARN lifecycle react-webpack-rails-tutorial@1.1.1~postinstall: cannot run in wd %s %s (wd=%s) react-webpack-rails-tutorial@1.1.1 cd client && npm install /var/rails/react_on_rails_sample\n```\n\n\u30a8\u30e9\u30fc\u306f\u7279\u306b\u5909\u308f\u3089\u306a\u3044\u3067\u3059\u306d\u3002\u3002\n\u8abf\u3079\u3066\u307f\u307e\u3057\u305f\u304c\u3001\u306a\u305cpostinstall\u304c\u5931\u6557\u3057\u3066\u3044\u308b\u304b\u306e\u539f\u56e0\u3068\u89e3\u6c7a\u7b56\u304c\u5206\u304b\u3089\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305apostinstall\u304c\u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u305d\u306e\u307e\u307e\u5b9f\u884c\u3057\u3066\u307f\u307e\u3059\u3002\n\u203b\u539f\u56e0\u3068\u89e3\u6c7a\u65b9\u6cd5\u5206\u304b\u3063\u305f\u306e\u3067\u30b3\u30e1\u30f3\u30c8\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\n\n```\n[root@localhost react_on_rails_sample]# cd client && npm install\nnpm WARN install Couldn't install optional dependency: Unsupported\nnpm WARN deprecated bootstrap-sass-loader@1.0.10: Replaced by bootstrap-loader. Please upgrade.\nnpm WARN deprecated npmconf@2.1.2: this package has been reintegrated into npm and is now out of date with respect to npm\nnpm WARN deprecated lodash@1.0.2: lodash@<3.0.0 is no longer maintained. Upgrade to lodash@^4.0.0\nnpm WARN prefer global jsonlint@1.6.2 should be installed with -g\nnpm WARN prefer global node-gyp@3.2.1 should be installed with -g\n\n\u30fb\u30fb\u30fb\n```\n\n\u3061\u3087\u3063\u3068WARN\u304c\u51fa\u3066\u307e\u3059\u304c\u3001\u5927\u65b9\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u305f\u3088\u3046\u3067\u3059\u3002(WARN\u306f\u5f8c\u3067\u89e3\u6c7a\u3057\u307e\u3057\u3087\u3046\u3002\u3002\n\u305d\u3057\u3066\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9npm run rails-server\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n[root@localhost react_on_rails_sample]# npm run rails-server\n\n> react-webpack-rails-tutorial@1.1.1 rails-server /var/rails/react_on_rails_sample\n> echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev\n\nvisit http://localhost:3000/hello_world\nsh: foreman: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\n\nnpm ERR! Linux 2.6.32-573.12.1.el6.x86_64\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"run\" \"rails-server\"\nnpm ERR! node v5.4.1\nnpm ERR! npm  v3.3.12\nnpm ERR! file sh\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno ENOENT\nnpm ERR! syscall spawn\nnpm ERR! react-webpack-rails-tutorial@1.1.1 rails-server: `echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev`\nnpm ERR! spawn ENOENT\nnpm ERR! \nnpm ERR! Failed at the react-webpack-rails-tutorial@1.1.1 rails-server script 'echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the react-webpack-rails-tutorial package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls react-webpack-rails-tutorial\nnpm ERR! There is likely additional logging output above.\n\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /var/rails/react_on_rails_sample/npm-debug.log\n```\n\n\u307e\u305f\u3082\u3084\u76db\u5927\u306b\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u307e\u3059\u3002\n\u300csh: foreman: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u300d\u3068\u51fa\u3066\u3044\u308b\u306e\u3067\u3001foreman\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3059\u3002\n\u4e00\u5fdcGemfile.lock\u3092\u8abf\u3079\u3066\u307f\u307e\u3059\u3002\n\n```\n[root@localhost react_on_rails_sample]# cat Gemfile.lock | grep foreman\n```\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u306a\u3044\u3067\u3059\u306d\u3002\u3002\nGemfile\u306b\u8ffd\u52a0\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\uff08rails generate react_on_rails:install\u3057\u305f\u6642\u306b\u8ffd\u52a0\u3057\u3066\u304f\u308c\u306a\u3044\u3093\u3067\u3059\u306d\u3002\u3002\u3002\n\u958b\u767a\u3067\u3057\u304b\u4f7f\u308f\u306a\u3044\u306e\u3067\u3001group :development do\u306b\u3067\u3082\u66f8\u3044\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\n```ruby:Gemfile\n\u30fb\u30fb\u30fb\ngroup :development do\n  # Access an IRB console on exception pages or by using <%= console %> in views\n  gem 'web-console', '~> 2.0'\n\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\n  gem 'foreman'\u3000\u2190\u8ffd\u52a0\nend\n\u30fb\u30fb\u30fb\n```\n\nbundle install\u304c\u5b8c\u4e86\u3057\u305f\u3089\u6539\u3081\u3066npm run rails-server\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```\n[root@localhost react_on_rails_sample]# npm run rails-server\n\n> react-webpack-rails-tutorial@1.1.1 rails-server /var/rails/react_on_rails_sample\n> echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev\n\nvisit http://localhost:3000/hello_world\nsh: foreman: \u30b3\u30de\u30f3\u30c9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\n\u30fb\u30fb\u30fb\n```\n\n\u30fb\u30fb\u30fb\u305d\u3046\u3067\u3057\u305f\u3002\u3002gem\u3092\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30ed\u30fc\u30ab\u30eb\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u306e\u3067\u901a\u5e38\u306eforeman\u30b3\u30de\u30f3\u30c9\u306f\u4f7f\u3048\u307e\u305b\u3093\u3002bundler exec\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u306a\u306e\u3067\u3001npm run\u3067\u5b9f\u884c\u3059\u308brails-server\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```json:package.json\n{\n  \"name\": \"react-webpack-rails-tutorial\",\n  \"version\": \"1.1.1\",\n  \u30fb\u30fb\u30fb\n  \"scripts\": {\n    \"postinstall\": \"cd client && npm install\",\n    \"test\": \"rspec && (cd client && npm run lint)\",\n    \"express-server\": \"echo 'visit http://localhost:4000' && cd client && npm start\",\n    \"rails-server\": \"echo 'visit http://localhost:3000/hello_world' && foreman start -f Procfile.dev\"\n\u3000\u3000\u2193foreman\u306e\u76f4\u524d\u306bbundle exec\u3092\u8ffd\u52a0\n    \"rails-server\": \"echo 'visit http://localhost:3000/hello_world' && bundle exec foreman start -f Procfile.dev\"\n  },\n\u30fb\u30fb\u30fb\n```\n\n\u5909\u66f4\u5f8c\u3001\u518d\u5ea6npm run rails-server\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```\n[root@localhost react_on_rails_sample]# npm run rails-server\n\n> react-webpack-rails-tutorial@1.1.1 rails-server /var/rails/react_on_rails_sample\n> echo 'visit http://localhost:3000/hello_world' && bundle exec foreman start -f Procfile.dev\n\nvisit http://localhost:3000/hello_world\n23:03:12 web.1    | started with pid 3360\n23:03:12 client.1 | started with pid 3361\n23:03:12 server.1 | started with pid 3363\n23:03:12 client.1 | rm: cannot remove `app/assets/javascripts/generated/*': \u305d\u306e\u3088\u3046\u306a\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3042\u308a\u307e\u305b\u3093\n23:03:13 server.1 | \n23:03:13 server.1 | > react-webpack-rails-tutorial@1.1.0 build:dev:server /var/rails/react_on_rails_sample/client\n23:03:13 server.1 | > webpack -w --config webpack.server.rails.config.js\n23:03:13 server.1 | \n23:03:13 client.1 | \n23:03:13 client.1 | > react-webpack-rails-tutorial@1.1.0 build:dev:client /var/rails/react_on_rails_sample/client\n23:03:13 client.1 | > webpack -w --config webpack.client.rails.config.js\n23:03:13 client.1 | \n23:03:14 client.1 | Webpack dev build for Rails\n23:03:17 web.1    | [2016-02-09 23:03:17] INFO  WEBrick 1.3.1\n23:03:17 web.1    | [2016-02-09 23:03:17] INFO  ruby 2.2.2 (2015-04-13) [x86_64-linux]\n23:03:17 web.1    | [2016-02-09 23:03:17] INFO  WEBrick::HTTPServer#start: pid=3360 port=3000\n23:03:23 server.1 | Hash: 8d83dd48f344ad6f63e2\n23:03:23 server.1 | Version: webpack 1.12.13\n23:03:23 server.1 | Time: 9435ms\n23:03:23 server.1 |            Asset     Size  Chunks             Chunk Names\n23:03:23 server.1 | server-bundle.js  1.84 MB       0  [emitted]  main\n23:03:23 server.1 |    [0] multi main 40 bytes {0} [built]\n23:03:23 server.1 |     + 649 hidden modules\n23:03:27 client.1 | Hash: 9c2e8dbbd6027ec29bd6\n23:03:27 client.1 | Version: webpack 1.12.13\n23:03:27 client.1 | Time: 13139ms\n23:03:27 client.1 |            Asset     Size  Chunks             Chunk Names\n23:03:27 client.1 |    app-bundle.js  4.49 MB       0  [emitted]  app\n23:03:27 client.1 | vendor-bundle.js  1.54 MB       1  [emitted]  vendor\n23:03:27 client.1 |    [0] multi app 28 bytes {0} [built]\n23:03:27 client.1 |    [0] multi vendor 76 bytes {1} [built]\n23:03:27 client.1 |     + 655 hidden modules\n```\n\n\u3010VirtualBox\u306a\u3069\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3011\n\u4e0a\u8a18\u3067\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\u307e\u3067\u5b8c\u4e86\u3057\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306fVirtualBox\u306b\u4f5c\u3063\u305f\u74b0\u5883\u306b\u30db\u30b9\u30c8OS\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u305f\u306e\u3067\u3082\u3046\u4e00\u624b\u9593\u5fc5\u8981\u3067\u3057\u305f\u3002\n\n```ruby:Procfile.dev\n\u3010\u5909\u66f4\u524d\u3011\nweb: rails s\nclient: sh -c 'rm app/assets/javascripts/generated/* || true && cd client && npm run build:dev:client'\nserver: sh -c 'cd client && npm run build:dev:server'\n\n\u3010\u5909\u66f4\u5f8c\u3011\nweb: rails s -b 0.0.0.0\nclient: sh -c 'rm app/assets/javascripts/generated/* || true && cd client && npm run build:dev:client'\nserver: sh -c 'cd client && npm run build:dev:server'\n```\n\n\u5916\u90e8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u306f\u3001rails s\u3067 -b 0.0.0.0\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\n\n\n\u3053\u308c\u3067\u3001http://localhost(\u307e\u305f\u306fIP):3000/hello_world\n\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n![ReactOnRailsSample.png](https://qiita-image-store.s3.amazonaws.com/0/97493/0a5a5800-56f7-31e6-3a14-c1debece5b96.png)\n\n\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u51fa\u6765\u3066\u3044\u308b\u304b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306eJavascript\u3092\u7121\u52b9\u306b\u3057\u3066\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3061\u3083\u3093\u3068\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u304c\u51fa\u6765\u3066\u3044\u308b\u306e\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n", "tags": ["Rails", "React"]}