{"context": "\n\n\u6982\u8981\nDTI\u306eServer@Man\u304c\u5b89\u3044\u306e\u3067\u4f7f\u3063\u3066\u305f\u3093\u3060\u3051\u3069\u3001CentOS\u3067php5.6\u3092\u4f7f\u3046\u969b\u3001Nginx\uff0bphp-fpm\u304c\u5165\u308c\u3089\u308c\u306a\u3044\uff08\u7121\u7406\u306b\u5165\u308c\u308b\u3068\u30b5\u30fc\u30d0\u3078\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u304f\u306a\u308b\uff09\u3068\u3044\u3046\u610f\u5473\u4e0d\u660e\u306e\u4e0d\u5177\u5408\u304c\u3042\u308b\u305f\u3081\u3001DTI\u306f\u89e3\u7d04\u3057\u3001\u3055\u304f\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306eVPS\u3092\u5951\u7d04\u3059\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\n\n\n\u9805\u76ee\n\u5185\u5bb9\n\n\n\n\n\u30e1\u30e2\u30ea\n1G\n\n\n\u4f7f\u7528\u6599\uff08\u6708\uff09\n972\u5186\n\n\n\u521d\u671f\u8cbb\u7528\n1,620\u5186\n\n\nCPU\n\u4eee\u60f32core\n\n\nSSD\n30GB\n\n\n\n\u5951\u7d04\u304b\u30892\u9031\u9593\u306f\u7121\u6599\uff08\u30ce\u30fc\u30ab\u30a6\u30f3\u30c8\uff09\u306a\u306e\u3067\u3001\u624b\u9806\u3092\u5b9f\u969b\u306b\u8a66\u3057\u3066\u307f\u3066\u6c17\u306b\u5165\u308c\u3070\u305d\u306e\u307e\u307e\u5951\u7d04\u3001\u6c17\u306b\u5165\u3089\u306a\u3051\u308c\u3070\u89e3\u7d04\u3059\u308c\u3070OK\u3068\u3044\u3046\u624b\u8efd\u3055\uff08\u3061\u306a\u307f\u306b\u5951\u7d04\u7d9a\u884c\u3059\u308b\u5834\u5408\u3001\u521d\u56de\u306f2\u30f6\u6708\u5206\u5fb4\u53ce\u3055\u308c\u308b\uff09\u3002\n\n\u76ee\u7684\n\nWeb\u30b5\u30fc\u30d0\u306e\u958b\u767a\u3001\u30c6\u30b9\u30c8\u3068\u3057\u3066\u4f7f\u7528\nBIND\u3082\u5165\u308c\u3066\u30c9\u30e1\u30a4\u30f3\u3092\u7121\u6599\u3067\u7ba1\u7406\nNginX\u3001PHP\u3001MariaDB\u3092\u4f7f\u3063\u3066Web\u74b0\u5883\u69cb\u7bc9\uff08\u3044\u308f\u3086\u308blnmp\uff09\n\n\nApache\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3057\u307e\u3046\u304c\u7121\u8996\nNginX\u3068PHP-FPM\u306fUNIX\u30bd\u30b1\u30c3\u30c8\u3067\u63a5\u7d9a\u3059\u308b\u8a2d\u5b9a\u306b\u3059\u308b\nphp\u95a2\u9023\u306f\u53ef\u80fd\u306a\u9650\u308acomposer\u3067\u5165\u308c\u308b\n\n\nWordpress 4.5 \u3068\u304b\u5165\u308c\u3066\u307f\u308b\nCakePHP 2.8 \u3068\u304b\u5165\u308c\u3066\u307f\u308b\nWordPress\u3068CakePHP\u306f\u5171\u5b58\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u500b\u5225\u306b\u5165\u308c\u308b\u8aac\u660e\u3092\u30e1\u30e2\u3063\u305f\u306e\u3067\u3001\u5171\u5b58\u3057\u305f\u3044\u4eba\u306f\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u306e\u8a2d\u5b9a\u3092\u9069\u5b9c\u3055\u308c\u305f\u3057\n\n\nNginX\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306b\u3059\u308c\u3070\u5171\u5b58\u53ef\u80fd\n\n\n\n\u300e\u3068\u308a\u3042\u3048\u305a\u30d3\u30fc\u30eb\u3067\uff01\u300f\u7684\u306a\u611f\u899a\u3067\u3001\u7279\u306b\u7406\u7531\u3082\u8003\u3048\u306a\u304f \u5984\u4fe1\u7684\u306bCentOS\u3092\u9078\u629e\u3059\u308b \u3053\u3068\u306f\u3084\u3081\u305f\u307b\u3046\u304c\u826f\u3044\u3002CentOS\u306f\u305d\u308c\u307b\u3069\u512a\u308c\u305fOS\u3067\u306f\u306a\u3044\u3002\u6700\u521d\u306b\u3084\u308b\u3053\u3068\u304cyum\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8ffd\u52a0\u3068\u304b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306a\u3093\u3066\u6642\u4ee3\u9045\u308c\u306b\u3082\u7a0b\u304c\u3042\u308b\u3002\nFedora\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u4f7f\u3046\u306a\u3089\u6700\u521d\u304b\u3089Fedora\u3092\u4f7f\u3048\u3070\u826f\u3044\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u30ab\u30b9\u30bf\u30e0OS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\nOS\u306e\u5207\u308a\u66ff\u3048\n\nVPS\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u3078\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3002\n\u30b5\u30fc\u30d0\u4e00\u89a7\u304b\u3089\u8a72\u5f53\u3059\u308bVPS\u3092\u9078\u629e\n\u300cOS\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u304b\u3089\u300c\u30ab\u30b9\u30bf\u30e0OS\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u3092\u9078\u629e\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30ebOS\u3067\u300cFedora 24 x86_64\u300d\u3092\u9078\u629e\nHTML5\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u304f\n\n\nFedora\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u6ce8\u610f\u70b9\n\n\u6700\u521d\u304b\u3089CentOS\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u308b\u306e\u3067\u305d\u306e\u307e\u307e\u3060\u3068\u5225\u306eOS\u306f\u5165\u3089\u306a\u3044\n\n\n\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u5168\u90e8\u524a\u9664\u3057\u3066Fedora\u7528\u306e\u30b9\u30da\u30fc\u30b9\u3092\u3042\u3051\u308b\n\u3053\u306e\u90e8\u5206\u8a18\u8f09\u304c\u3069\u3053\u306b\u3082\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u308f\u304b\u308a\u3084\u3059\u3044\u3068\u3053\u308d\u306b\u8a18\u8f09\u3059\u308b\u3088\u3046\u306b\u30b5\u30dd\u30fc\u30c8\u306b\u9023\u7d61\u3057\u3066\u304a\u3044\u305f\n\n\n\u300cSOFTWARE SELECTION\u300d\u306f10\u5206\u307b\u3069\u3057\u306a\u3044\u3068\u9078\u629e\u51fa\u6765\u306a\u3044\u306e\u3067\u6ce8\u610f\n\n\n\u3069\u3046\u3084\u3089\u88cf\u3067\u6e96\u5099\u3059\u308b\u306e\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u3089\u3057\u3044\n\n\n\u9014\u4e2d\u3067VPS\u7ba1\u7406\u753b\u9762\u304c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3067\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u81ea\u4f53\u306f\u9032\u3080\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u308b\u3068\u505c\u6b62\u72b6\u614b\u306b\u306a\u308b\u306e\u3067\u8d77\u52d5\u30dc\u30bf\u30f3\u3067\u8d77\u52d5\u3059\u308c\u3070OK\n\n\n\u4e0a\u8a18\u3055\u304f\u3089\u306e\u30b5\u30dd\u30fc\u30c8\u306b\u78ba\u8a8d\u6e08\u307f\n\n\n\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3057\u305f\u5834\u5408\u306e\u5bfe\u51e6\u306a\u3069\u306e\u8a18\u8f09\u304c\u306a\u3044\u306e\u3067\u8a18\u8f09\u3059\u308b\u3088\u3046\u306b\u8a00\u3063\u3066\u304a\u3044\u305f\n\n\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u9032\u3081\u308b\n\nINSTALATION DESTINATION\u3092\u30af\u30ea\u30c3\u30af\n\n\nCentOS\u306e\u30b7\u30a7\u30d6\u30ed\u30f3\u3092\u958b\u304f\n/ root\u3092\u9078\u629e\n\u300c-\u300d\u30dc\u30bf\u30f3\u3067\u524a\u9664\n\n\n\u3053\u308c\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30da\u30fc\u30b9\u304c\u7a7a\u304f\n\n\nNew Fedora Installation\u3067Automatically\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n\n\nSOFTWARE SELECTION\u3067Minimal Install\u3092\u9078\u629e\n\n\nDeveloper Tools\u3060\u3051\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\n\n\nBegin Installation\u30dc\u30bf\u30f3\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u958b\u59cb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\n\n\nRoot\u30d1\u30b9\u30ef\u30fc\u30c9\u6c7a\u5b9a\n\u4e00\u822c\u30e6\u30fc\u30b6\u4f5c\u6210\n\n\n\n\nVPS\u8d77\u52d5\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u308b\u3068\u518d\u8d77\u52d5\u3067\u306f\u306a\u304f\u505c\u6b62\u72b6\u614b\u306b\u306a\u308b\u306e\u3067\u3001VPS\u7ba1\u7406\u753b\u9762\u3067\u8d77\u52d5\u3059\u308b\n\u518d\u5ea6HTML5\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u308b\n\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067OS\u3092\u78ba\u8a8d\u3059\u308b\n\n$ cat /etc/redhat-release\n\n\nOS\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n\u521d\u671f\u8a2d\u5b9a\n\u3055\u304f\u3089\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\n\nSELinux\n\n\n/etc/sysconfig/selinux\u3092\u958b\u304f\nenforced\u3092disabled\u306b\u66f8\u304d\u63db\u3048\u308b\n\n\nSSHd\u306e\u30dd\u30fc\u30c8\u3092\u5909\u66f4\u3059\u308b\n\n\n/etc/ssh/sshd_config\u3092\u958b\u304f\n#Port 22\u3092\u597d\u304d\u306a\u756a\u53f7\u306b\u5909\u3048\u308b\n\n# systemctl start sshd.service \u3067\u8d77\u52d5\u3055\u305b\u308b\n\n# systemctl enable sshd.service \u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u3059\u308b\n\n\nfirewalld\n\n\n\n# systemctl stop firewalld.service \u3067\u505c\u6b62\u3059\u308b\n\n# systemctl disable firewalld.service \u3067\u8d77\u52d5\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n\n\n\u30b7\u30b9\u30c6\u30e0\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n\n\n# dnf -y update\n\n\n\n\u4e0a\u8a18\u304c\u6e08\u3093\u3060\u3089\u30b5\u30fc\u30d0\u3092\u518d\u8d77\u52d5\u3057\u3001\u304a\u597d\u307f\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u63a5\u7d9a\u3057\u76f4\u3059\u3002\n\n\u5404\u7a2e\u30e9\u30a4\u30d6\u30e9\u30ea\n\u3042\u3068\u304b\u3089\u5165\u308c\u308b\u306e\u306f\u9762\u5012\u306a\u306e\u3067\u3001\u3044\u308d\u3044\u308d\u30d0\u30d6\u30ea\u30fc\u306b\u3076\u3061\u8fbc\u3093\u3067\u304a\u304f\u3002\n# dnf -y install nkf expect lv kcc convmv cmake vim vim-enhanced wget rpmdevtools mailx whois tcpdump bind-utils p7zip p7zip-plugins tar libidn graphviz graphviz-gd net-tools jq nmap\n\n\nvi\u306e\u8a2d\u5b9a\nvim\u3092vi\u3068\u3057\u3066\u4f7f\u3044\u3001\u30ab\u30e9\u30fc\u8868\u793a\u3082\u3055\u305b\u308b\u8a2d\u5b9a\u3092\u884c\u3046\u3002\n\n# vi ~/.bashrc\n\nalias vi='vim -p'\u3092\u8ffd\u8a18\u3057\u3066\u4fdd\u5b58\u3001\u7d42\u4e86\n\nsource ~/.bashrc\u3067\u5373\u53cd\u6620\n\n\nDNS\u30b5\u30fc\u30d0\n\u30d7\u30e9\u30a4\u30de\u30eaDNS\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3057\u306a\u3044\u306a\u3089\u4e0d\u8981\u3002\n\u53d6\u5f97\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u3092\u7121\u6599\u3067\u7ba1\u7406\u3057\u305f\u3044\u306a\u3089\u3084\u3063\u3066\u304a\u304f\u3068\u826f\u3044\u3002\u52c9\u5f37\u306b\u3082\u306a\u308b\u3057\u3002\n\n\u3053\u3053\u3067\u306f\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u306f32.64.128.256\u3068\u3059\u308b\n\u53d6\u5f97\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u306fexample.com\u3068\u3059\u308b\n\u304a\u540d\u524d.com\u3067\u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u3057\u30bb\u30ab\u30f3\u30c0\u30eaDNS\u8a2d\u5b9a\u3059\u308b\u3068\u3059\u308b\n\u305d\u306e\u4ed6\u306eDNS\uff08\u30b5\u30fc\u30c9\uff09\u3067\u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u3092\u4f7f\u3046\u3053\u3068\u3068\u3059\u308b\n\n\n\n\u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u306b\u30e6\u30fc\u30b6\u767b\u9332\u3059\u308b\n\n\nUTF-8\u3058\u3083\u306a\u3044\u30b5\u30a4\u30c8\u306a\u306e\u3067\u6587\u5b57\u5316\u3051\u3059\u308b\u304b\u3082\n\u6587\u5b57\u5316\u3051\u3044\u3084\u306a\u306e\u3067FireFox\u3067\u898b\u3066\u308b\n\n\n\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001DNS\u30bf\u30d6\u3067IP\u30a2\u30c9\u30ec\u30b9\u3068\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u8a18\u5165\u3059\u308b\n\n\n\u5de6\u5074\u306b\u3042\u308b\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3\u307f\u305f\u3044\u306a\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\nOK\u30dc\u30bf\u30f3\u3067\u78ba\u5b9a\u3059\u308b\n\n\n\u6570\u5206\u5f8cHome\u30bf\u30d6\u3067Activated\u306b\u306a\u3063\u3066\u3044\u308c\u3070OK\n\n\n\nDNS\u306e\u4e88\u5099\u77e5\u8b58\u3068\u3057\u3066\u306f\u3053\u3061\u3089\u3092\u53c2\u8003\u306b\u3055\u308c\u305f\u3057\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\n# dnf -y install bind bind-utils\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\n\n\n# vi /etc/named.conf\noptions\u306e\u4e0a\u306bACL\u3092\u8a2d\u5b9a\u3059\u308b\n\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\noptions\u5185\u8a2d\u5b9a\n\n\n\nlisten-on port 53 \u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n\nlisten-on-v6 \u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n\nallow-query\u3092localhost\u304b\u3089any\u306b\u5909\u3048\u308b\n\nrecursion\u3092no\u306b\u3059\u308b\n\nallow-transfer\u306bACL\u3092\u8ffd\u8a18\n\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\n\ndnssec-enable\u3092no\u306b\u3059\u308b\n\ndnssec-validation\u3092no\u306b\u3059\u308b\n\n\n\nzone \".\" IN {\u30d6\u30ed\u30c3\u30af\u306e\u4e0b\u306b\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u8a2d\u5b9a\u3092\u8a18\u8ff0\n\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\n\n\n\u9006\u5f15\u304d\u304d\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n\nIP\u30a2\u30c9\u30ec\u30b9\u306e\u30aa\u30af\u30c6\u30c3\u30c8\u3092\u9006\u306b\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u4f7f\u7528\n\n# vi /var/named/256.128.64.32.in-addr.arpa\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\n\n\n\u6b63\u5f15\u304d\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n\n# vi /var/named/example.com.zone\n\u53d6\u5f97\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u306e\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\n\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\n\n\n\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3001\u30aa\u30fc\u30ca\u30fc\u306e\u8a2d\u5b9a\n\n\nnamed.conf\u3001\u5404\u7a2ezone\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3 640\n\u30aa\u30fc\u30ca\u30fc root:named\n\n\n\u66f8\u5f0f\u30c6\u30b9\u30c8\n\n\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n\n\n# named-checkconf /etc/named.conf\n\u4f55\u3082\u8868\u793a\u3055\u308c\u306a\u3051\u308c\u3070OK\n\n\n\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\n\n\n# named-checkzone example.com /var/named/example.com\nOK\u3068\u8868\u793a\u3055\u308c\u308c\u3070OK\n\n\n\u3053\u308c\u3089\u306e\u30c1\u30a7\u30c3\u30af\u3067\u306f\u5185\u5bb9\u306f\u30c1\u30a7\u30c3\u30af\u3055\u308c\u306a\u3044\n\n\nDNS\u8d77\u52d5\n\n\n\nsystemctl start named.service \u3067\u8d77\u52d5\n\nsystemctl enable named.service \u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n\n\n\u30bb\u30ab\u30f3\u30c0\u30ea\u306b\u767b\u9332\n\n\n\u304a\u540d\u524d.com\u306b\u30ed\u30b0\u30a4\u30f3\n\u300c\u30c9\u30e1\u30a4\u30f3\u8a2d\u5b9a\u300d\u30bf\u30d6\u304b\u3089\u300c\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\u30fc\u306e\u5909\u66f4\u300d\u3078\u9032\u3080\n\u8a72\u5f53\u30c9\u30e1\u30a4\u30f3\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\n\u300c\u4ed6\u306e\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\u3092\u4f7f\u7528\u300d\u30bf\u30d6\n\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u5165\u529b\u3059\u308b\n\n\ndns.example.com\n2nd.dnsv.jp\nns1.maihama-net.com\nns3.maihama-net.com\n\n\n\u300c\u78ba\u8a8d\u753b\u9762\u306b\u9032\u3080\u300d\u30dc\u30bf\u30f3\u3067\u767b\u9332\n\n\n\n\nACL\u306e\u8a2d\u5b9a\n\nacl \"Maihama\" {\n    160.16.54.90;\n    153.120.38.37;\n};\nacl \"Onamae\" {\n    210.172.129.81;\n};\n\n\nallow-transfer\n\nallow-transfer {\n    Onamae;\n    Maihama;\n};\n\n\n\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u8a2d\u5b9a\n\nzone \"example.com\" IN {\n    type master;\n    file \"example.com.zone\";\n};\n\n\n\u9006\u5f15\u304d\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u8a2d\u5b9a\n\n$ORIGIN 256.128.64.32.in-addr.arpa.\n$TTL 86400\n@ IN SOA dns.example.com. root.example.com.  (\n    2016080901 ; serial\n    3600       ; Refresh\n    900        ; Retry\n    604800     ; Expire\n    3600       ; Minimum\n)\n;Origin\n         IN A      32.64.128.256\n;Authoritative Name Servers\n         IN NS     dns.example.com.\n         IN NS     2nd.dnsv.jp. \u2190 \u304a\u540d\u524d.com\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n         IN NS     ns1.maihama-net.com. \u2190 \u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n         IN NS     ns3.maihama-net.com. \u2190 \u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n;Hosts\n         IN PTR    dns.example.com. \u2190 \u30c9\u30e1\u30a4\u30f3\u304c\u5897\u3048\u305f\u3089\u3053\u3053\u3082\u5897\u3084\u3059\n\n\n\u6b63\u5f15\u304d\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u8a2d\u5b9a\n\n$ORIGIN example.com.\n$TTL 86400\n@ IN SOA dns.example.com. root.example.com. (\n    2016080901 ; Serial\n    3600       ; Refresh\n    900        ; Retry\n    604800     ; Expire\n    86400      ; Minimum\n)\n;Authoritative Name Servers\n         IN NS     dns.example.com.\n         IN NS     2nd.dnsv.jp.  \u2190 \u304a\u540d\u524d.com\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n         IN NS     ns1.maihama-net.com. \u2190 \u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n         IN NS     ns3.maihama-net.com. \u2190 \u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n;Origin\n         IN A      32.64.128.256\n;Mail eXchanger\n         IN MX  10 mail.example.com.\n;SPF Records\n         IN TXT    \"v=spf1 a mx ptr ip4:32.64.128.256 mx:mail.example.com -all\"\n         IN SPF    \"v=spf1 a mx ptr ip4:32.64.128.256 mx:mail.example.com -all\"\n;Hosts\ndns      IN A      32.64.128.256\nmail     IN A      32.64.128.256\nwww      IN A      32.64.128.256 \u2190 \u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u5897\u3084\u3059\u306a\u3089\u3053\u3053\u3092\u5897\u3084\u3059\n\n\nWeb\u30b5\u30fc\u30d0\n\nMariaDB\uff08MySQL\uff09\n\n\n\n# dnf -y install mariadb-server \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# systemctl enable mariadb.service \u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n\n# systemctl start mariadb.service \u3067\u8d77\u52d5\n\n# mysql_secure_installation \u3067\u521d\u671f\u5316\n\n\nEnter\n\nSet root password? [Y/n]\u3067Y\n\nNew password:\u3067MariaDB\u306eroot\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u8a2d\u5b9a\u3059\u308b\n\nRe-enter new password:\u3067\u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\n\u3042\u3068\u306f\u5168\u90e8Enter\u3067OK\n\n\n\n# mysql_install_db\n\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u6570\u5206\u304b\u304b\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u5f85\u3064\n\n\n.bashrc\u306b\u4ee5\u4e0b\u3092\u66f8\u3044\u3066\u304a\u304f\u3068\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5e78\u305b\u306b\u306a\u308c\u308b\n\n\nalias mysql=\"mysql --pager='less -S'\"\n\u6a2a\u306b\u9577\u3044\u30c6\u30fc\u30d6\u30eb\u8868\u793a\u3067\u3082\u30ab\u30fc\u30bd\u30eb\u79fb\u52d5\u3067\u30da\u30fc\u30b8\u30e3\u6a5f\u80fd\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\n\n\n\n\nphp\n\n\n\n# dnf -y install php php-common php-devel php-bcmath php-gd php-mbstring php-mcrypt php-mysqlnd php-pdo php-pear php-xml php-xmlrpc php-pecl-zip \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# vi /etc/php.ini\n\n\nmemory_limit = 256M \u306b\u5909\u66f4\n\ndate.timezone = Asia/Tokyo\u306b\u5909\u66f4\n\nmbstring.language = Japanese\u306b\u5909\u66f4\n\nmbstring.internal_encoding = UTF-8\u306b\u5909\u66f4\n\nmbstring.http_input = UTF-8\u306b\u5909\u66f4\n\nmbstring.http_output = UTF-8\u306b\u5909\u66f4\n\nmbstring.detect_order = auto\u306b\u5909\u66f4\n\n\n\n\nnginx\n\n\n\n# dnf -y install nginx\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n# systemctl enable nginx.service\u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n\n# vi /etc/nginx/nginx.conf\n\n\nuser nginx nginx;\u306b\u5909\u66f4\n\n\n\n# systemctl start nginx.service\u3067\u8d77\u52d5\n\u30d6\u30e9\u30a6\u30b6\u3067IP\u30a2\u30c9\u30ec\u30b9\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u8d77\u52d5\u3092\u78ba\u8a8d\u3057\u3066\u898b\u308b\n\n\nnginx\u306e\u30c6\u30b9\u30c8\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\n\n\n\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u8a2d\u5b9a\n\n\n# cd /etc/nginx/conf.d/\n\n# vi virtualhosts.conf\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\n/var/www/html/\u306bindex.html\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\n\n\n\u4e2d\u8eab\u306f<h1>test</h1>\u306a\u3069\u3067OK\n\n\n\n\n\n\nphp-fpm\n\n\n\n# dnf -y install php-fpm\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\n\n\n\n# vi /etc/php-fpm.d/www.conf\n\n\nuser = nginx\u306b\u5909\u66f4\n\ngroup = nginx\u306b\u5909\u66f4\n\nlisten = /var/run/php-fpm/php-fpm.sock\u306b\u5909\u66f4\uff08UNIX\u30bd\u30b1\u30c3\u30c8\u306b\u3059\u308b\u8a2d\u5b9a\uff09\n\n\n\n\n\n# systemctl start php-fpm.service\u3067\u8d77\u52d5\n\n# systemctl enable php-fpm.service\u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\nnginx\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\n\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\nnginx\u3092\u518d\u8d77\u52d5\u3059\u308b\n    - # systemctl restart nginx.service\n\nphp\u304c\u52d5\u304f\u304b\u78ba\u8a8d\u3059\u308b\n\n\n/var/www/html/index.php\u3092\u4f5c\u6210\n\u4e2d\u8eab\u306f<php phpinfo();\u3067OK\n\u30d6\u30e9\u30a6\u30b6\u306732.64.128.256/index.php\u3092\u78ba\u8a8d\n\n\n\n\npostfix\n\n\n\ndnf -y install postfix\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\n\n\n\n# vi /etc/postfix/main.cf\n\nmyhostname = mail.example.com\nmydomain = example.com\nmyorigin = $mydomain\ninet_interfaces = all\nmydestination = $myhostname, localhost.$mydomain, localhost, $mydomain\nmynetworks = 127.0.0.0/8\nrelay_domains = $mydestination\nhome_mailbox = Maildir/\nheader_checks = regexp:/etc/postfix/header_checks\nsmtpd_banner = $myhostname ESMTP unknown\n\u6700\u7d42\u884c\u306b\u8a2d\u5b9a\u3092\u8ffd\u8a18\n\n\n\n# vi /etc/postfix/header_checks\n\n\u6700\u7d42\u884c\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n/^Received:/ IGNORE\n\n\nLinux\u30e6\u30fc\u30b6\u8ffd\u52a0\u6642\u306b\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u81ea\u52d5\u751f\u6210\u3059\u308b\u8a2d\u5b9a\n\n\n# mkdir -p /etc/skel/Maildir/{new,cur,tmp}\n# chmod -R 700 /etc/skel/Maildir/\n\n\n\u30e1\u30fc\u30eb\u30b5\u30fc\u30d0\u5207\u308a\u66ff\u3048\n\n\nalternatives --config mta\nsendmail\u304c\u5165\u3063\u3066\u3044\u305f\u3089postfix\u5074\u306e\u756a\u53f7\u3092\u9078\u629e\u3057\u3066Enter\u3059\u308b\n\n\n\n# systemctl start postfix.service\u3067\u8d77\u52d5\n\n# systemctl enable postfix.service\u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n\n\n\n\ncomposer\n\n\n# curl -sS https://getcomposer.org/installer | php\n# mv composer.phar /usr/local/bin/composer\n\n\n\n\nvirtualhosts.conf\n\nserver {\n        listen 80;\n        server_name 32.64.128.256;\n        root        /var/www/html;\n}\n\n\nphp\u5411\u3051virtualhosts.conf\n\nserver {\n        listen 80;\n        server_name 32.64.128.256;\n        root /var/www/html;\n        index index.php index.html;\n        location ~* \\.php$ {\n                fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                fastcgi_param PATH_INFO $fastcgi_script_name;\n                include fastcgi_params;\n        }\n}\n\n\npostfix\u306e\u8ffd\u8a18\u90e8\u5206\n\nsmtpd_client_restrictions = permit_mynetworks, reject_rbl_client relays.ordb.org, permit\nsmtpd_sasl_auth_enable = yes\nsmtpd_sasl_local_domain = $myhostname\nsmtpd_recipient_restrictions = permit_mynetworks, permit_sasl_authenticated, reject_unauth_destination\nsmtpd_recipient_limit = 10\nmailbox_size_limit = 104857600\nmessage_size_limit = 10485760\n\n\nWordpress\u306e\u30c6\u30b9\u30c8\ncomposer\u3067\u5165\u308c\u308b\u3068\u82f1\u8a9e\u7248\u3057\u304b\u5165\u3089\u306a\u304b\u3063\u305f\u3002\u7121\u5ff5\u3002\u3057\u304b\u3082\u8a00\u8a9e\u30d5\u30a1\u30a4\u30eb\u306f\u65e5\u672c\u8a9e\u304c\u516c\u958b\u3055\u308c\u3066\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u76f4\u63a5\u843d\u3068\u3057\u3066\u304f\u308b\u3053\u3068\u306b\u3057\u305f\u3002\nwordpress\u3092\u7f6e\u304f\u5834\u6240\u3092/var/www/wordpress\u3068\u3059\u308b\u3002\n# vi /etc/nginx/conf.d/virtualhosts.conf\u3067\u7de8\u96c6\u3002\n# WordPress\nserver {\n        listen 80;\n        server_name 32.64.128.256;\n        root /var/www/wordpress/;\n        index index.php;\n        location ~* wp-config.php {\n                deny all;\n        }\n        location / {\n                if (!-e $request_filename) {\n                        rewrite ^.+?($/-.*) $1 last;\n                        rewrite ^.+?(/.*\\.php)$ $1 last;\n                        rewrite ^ /index.php last;\n                }\n        }\n        location ~* \\.php$ {\n                fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\n                fastcgi_index index.php;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                include fastcgi_params;\n        }\n}\n\nWordpress\u3067\u4f7f\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306fwp_database\u306b\u3057\u3066\u304a\u304f\u3002\u5c02\u7528\u30e6\u30fc\u30b6\u3092wp_user\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092wp_pass\u3068\u3057\u3066\u4f5c\u308b\u3002\u305d\u3057\u3066\u30b5\u30fc\u30d0\u5185\u90e8\u3060\u3051\u3067\u306a\u304f\u3001\u5916\u90e8\uff08\u3064\u307e\u308a\u4eca\u4f7f\u3063\u3066\u308b\u30de\u30b7\u30f3\uff09\u304b\u3089\u3082\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u540c\u3058\u30e6\u30fc\u30b6\u3092\"%\"\u6307\u5b9a\u3067\u4f5c\u3063\u3066\u304a\u304f\u3002\n\n$ mysql -uroot -p\n> create database wp_database;\n> grant all privileges on wp_database.* to wp_user@localhost identified by 'wp_pass';\n> grant all privileges on wp_database.* to wp_user@\"%\" identified by 'wp_pass';\n> FLUSH PRIVILEGES;\n\n\u6e96\u5099\u4e07\u7aef\u3002Wordpress\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n\n# cd /var/www\n\n# curl -O https://ja.wordpress.org/wordpress-4.5.3-ja.zip\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n# unzip wordpress-4.5.3-ja.zip\u3067\u89e3\u51cd\uff08wordpress\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u751f\u6210\u3055\u308c\u308b\uff09\n\n# rm -f wordpress-4.5.3-ja.zip\u3067\u4e0d\u8981\u30d5\u30a1\u30a4\u30eb\u524a\u9664\n\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n\ncd wordpress\ncp wp-config-sample.php wp-config.php\nwp-config.php\u3092\u7de8\u96c6\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306a\u3069\u306e\u60c5\u5831\u3092\u7de8\u96c6\u3057\u3066\u304a\u304f\n\n\n\n\u3053\u3053\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306b\u30e9\u30f3\u30c0\u30e0\u306a\u30d5\u30ec\u30fc\u30ba\u3092\u751f\u6210\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u30b3\u30d4\u30da\u3059\u308b\n\n\n\n# chown -R nginx:nginx /var/www/wordpress/ \u3067\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u5909\u66f4\n\n\nnginx\u3092\u518d\u8d77\u52d5\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\n\n# systemctl restart nginx.service\n\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\n\n\n\nhttp://32.64.128.256/wp-admin/install.php\n\n\u4e0a\u8a18\u306e\u30d1\u30b9\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u30eb\u30fc\u30d7\u306b\u306f\u306a\u3089\u306a\u3044\n\n\n\u5f8c\u306f\u9069\u5b9c\u753b\u9762\u306e\u652f\u6301\u306b\u5f93\u3063\u3066\u9032\u3081\u308b\n\n\n\n\n\n\nCakePHP\u306e\u30c6\u30b9\u30c8\ncomposer\u3067\u5165\u308c\u308b\u3002CakePHP\u3092\u7f6e\u304f\u5834\u6240\u3092/var/www/cakephp\u3068\u3059\u308b\u3002\n# vi /etc/nginx/conf.d/virtualhosts.conf\u3067\u7de8\u96c6\u3002\n# cakephp\nserver {\n        listen 80;\n        server_name 32.64.128.256;\n        rewrite 301 http://32.64.128.256$request_uri permanent;\n        root /var/www/cakephp/app/webroot;\n        index index.php\n        access_log /var/www/cakephp/log/access.log main;\n        error_log  /var/www/cakephp/log/error.log crit;\n        location / {\n                try_files $uri /index.php?$args;\n        }\n        location ~ \\.php$ {\n                try_files $uri =404;\n                include /etc/nginx/fastcgi_params;\n                fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\n                fastcgi_index index.php;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                fastcgi_param CAKEPHP_DEBUG 1;\n        }\n}\n\nCakePHP\u3067\u4f7f\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306fcake_database\u306b\u3057\u3066\u304a\u304f\u3002\u5c02\u7528\u30e6\u30fc\u30b6\u3092cake_user\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092cake_pass\u3068\u3057\u3066\u4f5c\u308b\u3002\u305d\u3057\u3066\u30b5\u30fc\u30d0\u5185\u90e8\u3060\u3051\u3067\u306a\u304f\u3001\u5916\u90e8\uff08\u3064\u307e\u308a\u4eca\u4f7f\u3063\u3066\u308b\u30de\u30b7\u30f3\uff09\u304b\u3089\u3082\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u540c\u3058\u30e6\u30fc\u30b6\u3092\"%\"\u6307\u5b9a\u3067\u4f5c\u3063\u3066\u304a\u304f\u3002\n\n$ mysql -uroot -p\n> create database cake_database;\n> grant all privileges on cake_database.* to cake_user@localhost identified by 'cake_pass';\n> grant all privileges on cake_database.* to cake_user@\"%\" identified by 'cake_pass';\n> FLUSH PRIVILEGES;\n\ncomposer.json\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\ncomposer\u306froot\u3067\u4f7f\u7528\u3059\u308b\u3068\u6012\u3089\u308c\u308b\u306e\u3067\u3001\u4e00\u822c\u30e6\u30fc\u30b6\u3067\u884c\u3046\u3002\n\n# cd /var/www\n# mkdir -p cakephp/log\n\n# chown admin:admin cakephp \u4e00\u822c\u30e6\u30fc\u30b6\u6a29\u9650\u306b\u3059\u308b\uff08admin\u306f\u9069\u5b9c\u4e00\u822c\u30e6\u30fc\u30b6\u3092\u6307\u5b9a\u3059\u308b\uff09\n$ cd cakephp\n$ vi composer.json\n\n{\n    \"name\": \"./\",\n    \"require\": {\n        \"cakephp/cakephp\": \"2.8.*\",\n        \"cakephp/debug_kit\" : \"2.2.*\"\n    },\n    \"require-dev\": {\n      \"phpunit/phpunit\": \"3.7.*\"\n    },\n    \"config\": {\n        \"vendor-dir\": \"Vendor/\"\n    },\n    \"bin\": [\n      \"lib/Cake/Console/cake\"\n    ]\n}\n\n\n\n$ composer install\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n$ Vendor/bin/cake bake app ./\u3067app\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\n\n\n\u9762\u5012\u304f\u3055\u3044\u306e\u3067The password you supplied was empty. Use an empty password? (y/n)\u4ee5\u5916\u306f\u5168\u90e8Enter\u3067\u5bfe\u5fdc\n\n\napp/webroot/index.php\u306e\u4e00\u90e8\u3092\u66f8\u304d\u63db\u3048\u308b\n\n\ndefine('CAKE_CORE_INCLUDE_PATH', '/var/www/cakephp/Vendor/cakephp/cakephp/lib');\n\n\napp/webroot/test.php\u306e\u4e00\u90e8\u3092\u66f8\u304d\u63db\u3048\u308b\n\n\ndefine('CAKE_CORE_INCLUDE_PATH', '/var/www/cakephp/Vendor/cakephp/cakephp/lib');\n\n\napp/Config/core.php\u306e\u30c7\u30d0\u30b0\u90e8\u5206Configure::write('debug', 2);\u3092\u5909\u66f4\u3057\u3066\u304a\u304f\n\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\napp/Config/bootstrap.php\u306b\u8ffd\u8a18\u3057\u3066\u304a\u304f\n\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\napp/Controller/AppController.php\u3092\u958b\u304d\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\n\n\n\u66f8\u5f0f\u306f\u5f8c\u8ff0\n\n\napp/Config/database.php.default\u3092\u30b3\u30d4\u30fc\u3057\u3066\u7de8\u96c6\u3059\u308b\n\n\n$ cp app/Config/database.php.default app/Config/database.php\n\u5404\u7a2e\u8a2d\u5b9a\u3092\u9069\u5207\u306b\u7de8\u96c6\u3057\u76f4\u3059\n\n\nDebugKit\u304capp/Plugin\u306b\u306a\u3044\u306e\u3067\u79fb\u52d5\u3059\u308b\n\n\n$ mv Plugin/DebugKit app/Plugin\n\n\n\u30d6\u30e9\u30a6\u30b6\u3067\u898b\u3066\u307f\u308b\n\n\ncore.php\n\nif (getenv('CAKEPHP_DEBUG')) {\n    Configure::write('debug', getenv('CAKEPHP_DEBUG'));\n} else {\n    Configure::write('debug', 0);\n}\n\n\nbootstrap.php\n\nCakePlugin::load('DebugKit');\n\n\u6700\u7d42\u884c\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n// Composer \u306e autoload \u3092\u8aad\u307f\u8fbc\u307f\nrequire '/var/www/cakephp/Vendor/autoload.php';\n\n// CakePHP \u306e\u30aa\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\u3092\u3044\u3063\u305f\u3093\u524a\u9664\u3057\u3001Composer \u3088\u308a\u5148\u306b\u8a55\u4fa1\u3055\u308c\u308b\u3088\u3046\u306b\u5148\u982d\u306b\u8ffd\u52a0\u3059\u308b\n// http://goo.gl/kKVJO7 \u3092\u53c2\u7167\nspl_autoload_unregister(array('App', 'load'));\nspl_autoload_register(array('App', 'load'), true, true);\n\n\nAppController.php\n\nclass AppController extends Controller {\n    public $components = array('DebugKit.Toolbar');\n}\n\n# \u6982\u8981\n\nDTI\u306eServer@Man\u304c\u5b89\u3044\u306e\u3067\u4f7f\u3063\u3066\u305f\u3093\u3060\u3051\u3069\u3001CentOS\u3067php5.6\u3092\u4f7f\u3046\u969b\u3001Nginx\uff0bphp-fpm\u304c\u5165\u308c\u3089\u308c\u306a\u3044\uff08\u7121\u7406\u306b\u5165\u308c\u308b\u3068\u30b5\u30fc\u30d0\u3078\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u304f\u306a\u308b\uff09\u3068\u3044\u3046[\u610f\u5473\u4e0d\u660e\u306e\u4e0d\u5177\u5408](http://qiita.com/SHINGO_T/items/14b3fcda5598cdb2369b)\u304c\u3042\u308b\u305f\u3081\u3001DTI\u306f\u89e3\u7d04\u3057\u3001\u3055\u304f\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306eVPS\u3092\u5951\u7d04\u3059\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\n|\u9805\u76ee|\u5185\u5bb9|\n|:---|---:|\n|\u30e1\u30e2\u30ea|1G|\n|\u4f7f\u7528\u6599\uff08\u6708\uff09|972\u5186|\n|\u521d\u671f\u8cbb\u7528|1,620\u5186|\n|CPU|\u4eee\u60f32core|\n|SSD|30GB|\n\n\u5951\u7d04\u304b\u30892\u9031\u9593\u306f\u7121\u6599\uff08\u30ce\u30fc\u30ab\u30a6\u30f3\u30c8\uff09\u306a\u306e\u3067\u3001\u624b\u9806\u3092\u5b9f\u969b\u306b\u8a66\u3057\u3066\u307f\u3066\u6c17\u306b\u5165\u308c\u3070\u305d\u306e\u307e\u307e\u5951\u7d04\u3001\u6c17\u306b\u5165\u3089\u306a\u3051\u308c\u3070\u89e3\u7d04\u3059\u308c\u3070OK\u3068\u3044\u3046\u624b\u8efd\u3055\uff08\u3061\u306a\u307f\u306b\u5951\u7d04\u7d9a\u884c\u3059\u308b\u5834\u5408\u3001\u521d\u56de\u306f2\u30f6\u6708\u5206\u5fb4\u53ce\u3055\u308c\u308b\uff09\u3002\n\n# \u76ee\u7684\n\n- Web\u30b5\u30fc\u30d0\u306e\u958b\u767a\u3001\u30c6\u30b9\u30c8\u3068\u3057\u3066\u4f7f\u7528\n- BIND\u3082\u5165\u308c\u3066\u30c9\u30e1\u30a4\u30f3\u3092\u7121\u6599\u3067\u7ba1\u7406\n- NginX\u3001PHP\u3001MariaDB\u3092\u4f7f\u3063\u3066Web\u74b0\u5883\u69cb\u7bc9\uff08\u3044\u308f\u3086\u308blnmp\uff09\n    - Apache\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3057\u307e\u3046\u304c\u7121\u8996\n    - NginX\u3068PHP-FPM\u306fUNIX\u30bd\u30b1\u30c3\u30c8\u3067\u63a5\u7d9a\u3059\u308b\u8a2d\u5b9a\u306b\u3059\u308b\n    - php\u95a2\u9023\u306f\u53ef\u80fd\u306a\u9650\u308acomposer\u3067\u5165\u308c\u308b\n- Wordpress 4.5 \u3068\u304b\u5165\u308c\u3066\u307f\u308b\n- CakePHP 2.8 \u3068\u304b\u5165\u308c\u3066\u307f\u308b\n- WordPress\u3068CakePHP\u306f\u5171\u5b58\u3059\u308b\u306e\u3067\u306f\u306a\u304f\u500b\u5225\u306b\u5165\u308c\u308b\u8aac\u660e\u3092\u30e1\u30e2\u3063\u305f\u306e\u3067\u3001\u5171\u5b58\u3057\u305f\u3044\u4eba\u306f\u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u306e\u8a2d\u5b9a\u3092\u9069\u5b9c\u3055\u308c\u305f\u3057\n    - NginX\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u306b\u3059\u308c\u3070\u5171\u5b58\u53ef\u80fd\n\n\u300e\u3068\u308a\u3042\u3048\u305a\u30d3\u30fc\u30eb\u3067\uff01\u300f\u7684\u306a\u611f\u899a\u3067\u3001\u7279\u306b\u7406\u7531\u3082\u8003\u3048\u306a\u304f **\u5984\u4fe1\u7684\u306bCentOS\u3092\u9078\u629e\u3059\u308b** \u3053\u3068\u306f\u3084\u3081\u305f\u307b\u3046\u304c\u826f\u3044\u3002CentOS\u306f\u305d\u308c\u307b\u3069\u512a\u308c\u305fOS\u3067\u306f\u306a\u3044\u3002\u6700\u521d\u306b\u3084\u308b\u3053\u3068\u304cyum\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8ffd\u52a0\u3068\u304b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306a\u3093\u3066\u6642\u4ee3\u9045\u308c\u306b\u3082\u7a0b\u304c\u3042\u308b\u3002\nFedora\u306e\u30ea\u30dd\u30b8\u30c8\u30ea\u4f7f\u3046\u306a\u3089\u6700\u521d\u304b\u3089Fedora\u3092\u4f7f\u3048\u3070\u826f\u3044\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001\u30ab\u30b9\u30bf\u30e0OS\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n\n# OS\u306e\u5207\u308a\u66ff\u3048\n\n- VPS\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30d1\u30cd\u30eb\u3078\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3002\n- \u30b5\u30fc\u30d0\u4e00\u89a7\u304b\u3089\u8a72\u5f53\u3059\u308bVPS\u3092\u9078\u629e\n- \u300cOS\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u304b\u3089\u300c\u30ab\u30b9\u30bf\u30e0OS\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\u3092\u9078\u629e\n- \u30a4\u30f3\u30b9\u30c8\u30fc\u30ebOS\u3067\u300cFedora 24 x86_64\u300d\u3092\u9078\u629e\n- HTML5\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u958b\u304f\n\n# Fedora\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n**\u6ce8\u610f\u70b9**\n\n- \u6700\u521d\u304b\u3089CentOS\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u308b\u306e\u3067\u305d\u306e\u307e\u307e\u3060\u3068\u5225\u306eOS\u306f\u5165\u3089\u306a\u3044\n    - \u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30f3\u3092\u5168\u90e8\u524a\u9664\u3057\u3066Fedora\u7528\u306e\u30b9\u30da\u30fc\u30b9\u3092\u3042\u3051\u308b\n    - \u3053\u306e\u90e8\u5206\u8a18\u8f09\u304c\u3069\u3053\u306b\u3082\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u308f\u304b\u308a\u3084\u3059\u3044\u3068\u3053\u308d\u306b\u8a18\u8f09\u3059\u308b\u3088\u3046\u306b\u30b5\u30dd\u30fc\u30c8\u306b\u9023\u7d61\u3057\u3066\u304a\u3044\u305f\n- \u300cSOFTWARE SELECTION\u300d\u306f10\u5206\u307b\u3069\u3057\u306a\u3044\u3068\u9078\u629e\u51fa\u6765\u306a\u3044\u306e\u3067\u6ce8\u610f\n    - \u3069\u3046\u3084\u3089\u88cf\u3067\u6e96\u5099\u3059\u308b\u306e\u306b\u6642\u9593\u304c\u304b\u304b\u308b\u3089\u3057\u3044\n- \u9014\u4e2d\u3067VPS\u7ba1\u7406\u753b\u9762\u304c\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3067\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u81ea\u4f53\u306f\u9032\u3080\n    - \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u308b\u3068\u505c\u6b62\u72b6\u614b\u306b\u306a\u308b\u306e\u3067\u8d77\u52d5\u30dc\u30bf\u30f3\u3067\u8d77\u52d5\u3059\u308c\u3070OK\n        - \u4e0a\u8a18\u3055\u304f\u3089\u306e\u30b5\u30dd\u30fc\u30c8\u306b\u78ba\u8a8d\u6e08\u307f\n\t- \u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3057\u305f\u5834\u5408\u306e\u5bfe\u51e6\u306a\u3069\u306e\u8a18\u8f09\u304c\u306a\u3044\u306e\u3067\u8a18\u8f09\u3059\u308b\u3088\u3046\u306b\u8a00\u3063\u3066\u304a\u3044\u305f\n\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u9032\u3081\u308b\n\n- INSTALATION DESTINATION\u3092\u30af\u30ea\u30c3\u30af\n    - CentOS\u306e\u30b7\u30a7\u30d6\u30ed\u30f3\u3092\u958b\u304f\n    - / root\u3092\u9078\u629e\n    - \u300c-\u300d\u30dc\u30bf\u30f3\u3067\u524a\u9664\n        - \u3053\u308c\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30b9\u30da\u30fc\u30b9\u304c\u7a7a\u304f\n    - New Fedora Installation\u3067Automatically\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\n- SOFTWARE SELECTION\u3067Minimal Install\u3092\u9078\u629e\n    - Developer Tools\u3060\u3051\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\n- Begin Installation\u30dc\u30bf\u30f3\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u958b\u59cb\n- \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\n    - Root\u30d1\u30b9\u30ef\u30fc\u30c9\u6c7a\u5b9a\n    - \u4e00\u822c\u30e6\u30fc\u30b6\u4f5c\u6210\n\n# VPS\u8d77\u52d5\n\n- \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u308f\u308b\u3068\u518d\u8d77\u52d5\u3067\u306f\u306a\u304f\u505c\u6b62\u72b6\u614b\u306b\u306a\u308b\u306e\u3067\u3001VPS\u7ba1\u7406\u753b\u9762\u3067\u8d77\u52d5\u3059\u308b\n- \u518d\u5ea6HTML5\u30b3\u30f3\u30bd\u30fc\u30eb\u304b\u3089\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u308b\n- \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067OS\u3092\u78ba\u8a8d\u3059\u308b\n\n```\n$ cat /etc/redhat-release\n```\n\n# OS\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\n\n## \u521d\u671f\u8a2d\u5b9a\n\n\u3055\u304f\u3089\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3059\u308b\n\n- SELinux\n    - /etc/sysconfig/selinux\u3092\u958b\u304f\n    - enforced\u3092disabled\u306b\u66f8\u304d\u63db\u3048\u308b\n- SSHd\u306e\u30dd\u30fc\u30c8\u3092\u5909\u66f4\u3059\u308b\n    - /etc/ssh/sshd_config\u3092\u958b\u304f\n    - #Port 22\u3092\u597d\u304d\u306a\u756a\u53f7\u306b\u5909\u3048\u308b\n    - `# systemctl start sshd.service` \u3067\u8d77\u52d5\u3055\u305b\u308b\n    - `# systemctl enable sshd.service` \u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\u3059\u308b\n- firewalld\n    - `# systemctl stop firewalld.service` \u3067\u505c\u6b62\u3059\u308b\n    - `# systemctl disable firewalld.service` \u3067\u8d77\u52d5\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n- \u30b7\u30b9\u30c6\u30e0\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\n    - `# dnf -y update`\n\n\u4e0a\u8a18\u304c\u6e08\u3093\u3060\u3089\u30b5\u30fc\u30d0\u3092\u518d\u8d77\u52d5\u3057\u3001\u304a\u597d\u307f\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u63a5\u7d9a\u3057\u76f4\u3059\u3002\n\n## \u5404\u7a2e\u30e9\u30a4\u30d6\u30e9\u30ea\n\n\u3042\u3068\u304b\u3089\u5165\u308c\u308b\u306e\u306f\u9762\u5012\u306a\u306e\u3067\u3001\u3044\u308d\u3044\u308d\u30d0\u30d6\u30ea\u30fc\u306b\u3076\u3061\u8fbc\u3093\u3067\u304a\u304f\u3002\n\n```\n# dnf -y install nkf expect lv kcc convmv cmake vim vim-enhanced wget rpmdevtools mailx whois tcpdump bind-utils p7zip p7zip-plugins tar libidn graphviz graphviz-gd net-tools jq nmap\n```\n\n### vi\u306e\u8a2d\u5b9a\n\nvim\u3092vi\u3068\u3057\u3066\u4f7f\u3044\u3001\u30ab\u30e9\u30fc\u8868\u793a\u3082\u3055\u305b\u308b\u8a2d\u5b9a\u3092\u884c\u3046\u3002\n\n- `# vi ~/.bashrc`\n- `alias vi='vim -p'`\u3092\u8ffd\u8a18\u3057\u3066\u4fdd\u5b58\u3001\u7d42\u4e86\n- `source ~/.bashrc`\u3067\u5373\u53cd\u6620\n\n## DNS\u30b5\u30fc\u30d0\n\n\u30d7\u30e9\u30a4\u30de\u30eaDNS\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3057\u306a\u3044\u306a\u3089\u4e0d\u8981\u3002\n\u53d6\u5f97\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u3092\u7121\u6599\u3067\u7ba1\u7406\u3057\u305f\u3044\u306a\u3089\u3084\u3063\u3066\u304a\u304f\u3068\u826f\u3044\u3002\u52c9\u5f37\u306b\u3082\u306a\u308b\u3057\u3002\n\n- \u3053\u3053\u3067\u306f\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u306f`32.64.128.256`\u3068\u3059\u308b\n- \u53d6\u5f97\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u306f`example.com`\u3068\u3059\u308b\n- \u304a\u540d\u524d.com\u3067\u30c9\u30e1\u30a4\u30f3\u53d6\u5f97\u3057\u30bb\u30ab\u30f3\u30c0\u30eaDNS\u8a2d\u5b9a\u3059\u308b\u3068\u3059\u308b\n- \u305d\u306e\u4ed6\u306eDNS\uff08\u30b5\u30fc\u30c9\uff09\u3067\u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u3092\u4f7f\u3046\u3053\u3068\u3068\u3059\u308b\n    - [\u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8](http://www.maihama-net.com/)\u306b\u30e6\u30fc\u30b6\u767b\u9332\u3059\u308b\n        - UTF-8\u3058\u3083\u306a\u3044\u30b5\u30a4\u30c8\u306a\u306e\u3067\u6587\u5b57\u5316\u3051\u3059\u308b\u304b\u3082\n        - \u6587\u5b57\u5316\u3051\u3044\u3084\u306a\u306e\u3067FireFox\u3067\u898b\u3066\u308b\n    - \u30ed\u30b0\u30a4\u30f3\u5f8c\u3001DNS\u30bf\u30d6\u3067IP\u30a2\u30c9\u30ec\u30b9\u3068\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u8a18\u5165\u3059\u308b\n        - \u5de6\u5074\u306b\u3042\u308b\u30e9\u30b8\u30aa\u30dc\u30bf\u30f3\u307f\u305f\u3044\u306a\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\n        - OK\u30dc\u30bf\u30f3\u3067\u78ba\u5b9a\u3059\u308b\n    - \u6570\u5206\u5f8cHome\u30bf\u30d6\u3067Activated\u306b\u306a\u3063\u3066\u3044\u308c\u3070OK\n\nDNS\u306e\u4e88\u5099\u77e5\u8b58\u3068\u3057\u3066\u306f[\u3053\u3061\u3089\u3092\u53c2\u8003](http://qiita.com/Ogaaaan/items/c8205d7b04a0f62a438f)\u306b\u3055\u308c\u305f\u3057\u3002\n\n- \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - `# dnf -y install bind bind-utils`\n- \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\n    - `# vi /etc/named.conf`\n    - options\u306e\u4e0a\u306bACL\u3092\u8a2d\u5b9a\u3059\u308b\n        - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n    - options\u5185\u8a2d\u5b9a\n        - `listen-on port 53` \u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n        - `listen-on-v6` \u306f\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\n        - `allow-query`\u3092localhost\u304b\u3089any\u306b\u5909\u3048\u308b\n        - `recursion`\u3092no\u306b\u3059\u308b\n        - `allow-transfer`\u306bACL\u3092\u8ffd\u8a18\n            - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n        - `dnssec-enable`\u3092no\u306b\u3059\u308b\n        - `dnssec-validation`\u3092no\u306b\u3059\u308b\n    - `zone \".\" IN {`\u30d6\u30ed\u30c3\u30af\u306e\u4e0b\u306b\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u8a2d\u5b9a\u3092\u8a18\u8ff0\n        - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n- \u9006\u5f15\u304d\u304d\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n    - IP\u30a2\u30c9\u30ec\u30b9\u306e\u30aa\u30af\u30c6\u30c3\u30c8\u3092\u9006\u306b\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u4f7f\u7528\n    - `# vi /var/named/256.128.64.32.in-addr.arpa`\n        - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n- \u6b63\u5f15\u304d\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n    - `# vi /var/named/example.com.zone`\n    - \u53d6\u5f97\u3057\u305f\u30c9\u30e1\u30a4\u30f3\u306e\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\n        - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n- \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3001\u30aa\u30fc\u30ca\u30fc\u306e\u8a2d\u5b9a\n    - named.conf\u3001\u5404\u7a2ezone\u30d5\u30a1\u30a4\u30eb\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3059\u308b\n    - \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3 640\n    - \u30aa\u30fc\u30ca\u30fc root:named\n- \u66f8\u5f0f\u30c6\u30b9\u30c8\n    - \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\n        - `# named-checkconf /etc/named.conf`\n        - \u4f55\u3082\u8868\u793a\u3055\u308c\u306a\u3051\u308c\u3070OK\n    - \u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\n        - `# named-checkzone example.com /var/named/example.com`\n        - OK\u3068\u8868\u793a\u3055\u308c\u308c\u3070OK\n    - \u3053\u308c\u3089\u306e\u30c1\u30a7\u30c3\u30af\u3067\u306f\u5185\u5bb9\u306f\u30c1\u30a7\u30c3\u30af\u3055\u308c\u306a\u3044\n- DNS\u8d77\u52d5\n    - `systemctl start named.service` \u3067\u8d77\u52d5\n    - `systemctl enable named.service` \u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n- \u30bb\u30ab\u30f3\u30c0\u30ea\u306b\u767b\u9332\n    - \u304a\u540d\u524d.com\u306b\u30ed\u30b0\u30a4\u30f3\n    - \u300c\u30c9\u30e1\u30a4\u30f3\u8a2d\u5b9a\u300d\u30bf\u30d6\u304b\u3089\u300c\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\u30fc\u306e\u5909\u66f4\u300d\u3078\u9032\u3080\n    - \u8a72\u5f53\u30c9\u30e1\u30a4\u30f3\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\n    - \u300c\u4ed6\u306e\u30cd\u30fc\u30e0\u30b5\u30fc\u30d0\u3092\u4f7f\u7528\u300d\u30bf\u30d6\n    - \u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u5165\u529b\u3059\u308b\n        - dns.example.com\n        - 2nd.dnsv.jp\n        - ns1.maihama-net.com\n        - ns3.maihama-net.com\n    - \u300c\u78ba\u8a8d\u753b\u9762\u306b\u9032\u3080\u300d\u30dc\u30bf\u30f3\u3067\u767b\u9332\n\n##### **ACL\u306e\u8a2d\u5b9a**\n\n```\nacl \"Maihama\" {\n    160.16.54.90;\n    153.120.38.37;\n};\nacl \"Onamae\" {\n    210.172.129.81;\n};\n```\n\n##### **allow-transfer**\n\n```\nallow-transfer {\n    Onamae;\n    Maihama;\n};\n```\n\n##### **\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u8a2d\u5b9a**\n\n```\nzone \"example.com\" IN {\n    type master;\n    file \"example.com.zone\";\n};\n```\n\n##### **\u9006\u5f15\u304d\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u8a2d\u5b9a**\n\n```\n$ORIGIN 256.128.64.32.in-addr.arpa.\n$TTL 86400\n@ IN SOA dns.example.com. root.example.com.  (\n    2016080901 ; serial\n    3600       ; Refresh\n    900        ; Retry\n    604800     ; Expire\n    3600       ; Minimum\n)\n;Origin\n         IN A      32.64.128.256\n;Authoritative Name Servers\n         IN NS     dns.example.com.\n         IN NS     2nd.dnsv.jp. \u2190 \u304a\u540d\u524d.com\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n         IN NS     ns1.maihama-net.com. \u2190 \u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n         IN NS     ns3.maihama-net.com. \u2190 \u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n;Hosts\n         IN PTR    dns.example.com. \u2190 \u30c9\u30e1\u30a4\u30f3\u304c\u5897\u3048\u305f\u3089\u3053\u3053\u3082\u5897\u3084\u3059\n```\n\n##### **\u6b63\u5f15\u304d\u30be\u30fc\u30f3\u30d5\u30a1\u30a4\u30eb\u8a2d\u5b9a**\n\n```\n$ORIGIN example.com.\n$TTL 86400\n@ IN SOA dns.example.com. root.example.com. (\n    2016080901 ; Serial\n    3600       ; Refresh\n    900        ; Retry\n    604800     ; Expire\n    86400      ; Minimum\n)\n;Authoritative Name Servers\n         IN NS     dns.example.com.\n         IN NS     2nd.dnsv.jp.  \u2190 \u304a\u540d\u524d.com\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n         IN NS     ns1.maihama-net.com. \u2190 \u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n         IN NS     ns3.maihama-net.com. \u2190 \u30de\u30a4\u30cf\u30de\u30cd\u30c3\u30c8\u306e\u30bb\u30ab\u30f3\u30c0\u30eaDNS\n;Origin\n         IN A      32.64.128.256\n;Mail eXchanger\n         IN MX  10 mail.example.com.\n;SPF Records\n         IN TXT    \"v=spf1 a mx ptr ip4:32.64.128.256 mx:mail.example.com -all\"\n         IN SPF    \"v=spf1 a mx ptr ip4:32.64.128.256 mx:mail.example.com -all\"\n;Hosts\ndns      IN A      32.64.128.256\nmail     IN A      32.64.128.256\nwww      IN A      32.64.128.256 \u2190 \u30b5\u30d6\u30c9\u30e1\u30a4\u30f3\u5897\u3084\u3059\u306a\u3089\u3053\u3053\u3092\u5897\u3084\u3059\n```\n\n## Web\u30b5\u30fc\u30d0\n\n- MariaDB\uff08MySQL\uff09\n    - `# dnf -y install mariadb-server` \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - `# systemctl enable mariadb.service` \u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n    - `# systemctl start mariadb.service` \u3067\u8d77\u52d5\n    - `# mysql_secure_installation` \u3067\u521d\u671f\u5316\n        - Enter\n        - `Set root password? [Y/n]`\u3067Y\n        - `New password:`\u3067MariaDB\u306eroot\u30e6\u30fc\u30b6\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u8a2d\u5b9a\u3059\u308b\n        - `Re-enter new password:`\u3067\u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\n        - \u3042\u3068\u306f\u5168\u90e8Enter\u3067OK\n    - `# mysql_install_db`\n        - \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u6570\u5206\u304b\u304b\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u5f85\u3064\n    - .bashrc\u306b\u4ee5\u4e0b\u3092\u66f8\u3044\u3066\u304a\u304f\u3068\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5e78\u305b\u306b\u306a\u308c\u308b\n        - `alias mysql=\"mysql --pager='less -S'\"`\n        - \u6a2a\u306b\u9577\u3044\u30c6\u30fc\u30d6\u30eb\u8868\u793a\u3067\u3082\u30ab\u30fc\u30bd\u30eb\u79fb\u52d5\u3067\u30da\u30fc\u30b8\u30e3\u6a5f\u80fd\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308b\n- php\n    - `# dnf -y install php php-common php-devel php-bcmath php-gd php-mbstring php-mcrypt php-mysqlnd php-pdo php-pear php-xml php-xmlrpc php-pecl-zip` \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - `# vi /etc/php.ini`\n        - `memory_limit = 256M` \u306b\u5909\u66f4\n        - `date.timezone = Asia/Tokyo`\u306b\u5909\u66f4\n        - `mbstring.language = Japanese`\u306b\u5909\u66f4\n        - `mbstring.internal_encoding = UTF-8`\u306b\u5909\u66f4\n        - `mbstring.http_input = UTF-8`\u306b\u5909\u66f4\n        - `mbstring.http_output = UTF-8`\u306b\u5909\u66f4\n        - `mbstring.detect_order = auto`\u306b\u5909\u66f4\n- nginx\n    - `# dnf -y install nginx`\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - `# systemctl enable nginx.service`\u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n    - `# vi /etc/nginx/nginx.conf`\n        - `user nginx nginx;`\u306b\u5909\u66f4\n    - `# systemctl start nginx.service`\u3067\u8d77\u52d5\n    - \u30d6\u30e9\u30a6\u30b6\u3067IP\u30a2\u30c9\u30ec\u30b9\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3066\u8d77\u52d5\u3092\u78ba\u8a8d\u3057\u3066\u898b\u308b\n        - nginx\u306e\u30c6\u30b9\u30c8\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\n    - \u30d0\u30fc\u30c1\u30e3\u30eb\u30db\u30b9\u30c8\u8a2d\u5b9a\n        - `# cd /etc/nginx/conf.d/`\n        - `# vi virtualhosts.conf`\n            - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n        - /var/www/html/\u306bindex.html\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\n            - \u4e2d\u8eab\u306f`<h1>test</h1>`\u306a\u3069\u3067OK\n- php-fpm\n    - `# dnf -y install php-fpm`\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\n        - `# vi /etc/php-fpm.d/www.conf`\n            - `user = nginx`\u306b\u5909\u66f4\n            - `group = nginx`\u306b\u5909\u66f4\n            - `listen = /var/run/php-fpm/php-fpm.sock`\u306b\u5909\u66f4\uff08UNIX\u30bd\u30b1\u30c3\u30c8\u306b\u3059\u308b\u8a2d\u5b9a\uff09\n    - `# systemctl start php-fpm.service`\u3067\u8d77\u52d5\n    - `# systemctl enable php-fpm.service`\u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n    - nginx\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\n        - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n    - nginx\u3092\u518d\u8d77\u52d5\u3059\u308b\n            - `# systemctl restart nginx.service`\n    - php\u304c\u52d5\u304f\u304b\u78ba\u8a8d\u3059\u308b\n        - /var/www/html/index.php\u3092\u4f5c\u6210\n        - \u4e2d\u8eab\u306f`<php phpinfo();`\u3067OK\n        - \u30d6\u30e9\u30a6\u30b6\u3067`32.64.128.256/index.php`\u3092\u78ba\u8a8d\n- postfix\n    - `dnf -y install postfix`\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n    - \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7de8\u96c6\n        - `# vi /etc/postfix/main.cf`\n            - `myhostname = mail.example.com`\n            - `mydomain = example.com`\n            - `myorigin = $mydomain`\n            - `inet_interfaces = all`\n            - `mydestination = $myhostname, localhost.$mydomain, localhost, $mydomain`\n            - `mynetworks = 127.0.0.0/8`\n            - `relay_domains = $mydestination`\n            - `home_mailbox = Maildir/`\n            - `header_checks = regexp:/etc/postfix/header_checks`\n            - `smtpd_banner = $myhostname ESMTP unknown`\n            - \u6700\u7d42\u884c\u306b\u8a2d\u5b9a\u3092\u8ffd\u8a18\n        - `# vi /etc/postfix/header_checks`\n            - \u6700\u7d42\u884c\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n            - `/^Received:/ IGNORE`\n        - Linux\u30e6\u30fc\u30b6\u8ffd\u52a0\u6642\u306b\u30e1\u30fc\u30eb\u30dc\u30c3\u30af\u30b9\u81ea\u52d5\u751f\u6210\u3059\u308b\u8a2d\u5b9a\n            - `# mkdir -p /etc/skel/Maildir/{new,cur,tmp}`\n            - `# chmod -R 700 /etc/skel/Maildir/`\n        - \u30e1\u30fc\u30eb\u30b5\u30fc\u30d0\u5207\u308a\u66ff\u3048\n            - `alternatives --config mta`\n            - sendmail\u304c\u5165\u3063\u3066\u3044\u305f\u3089postfix\u5074\u306e\u756a\u53f7\u3092\u9078\u629e\u3057\u3066Enter\u3059\u308b\n        - `# systemctl start postfix.service`\u3067\u8d77\u52d5\n        - `# systemctl enable postfix.service`\u3067\u81ea\u52d5\u8d77\u52d5\u8a2d\u5b9a\n- composer\n    - `# curl -sS https://getcomposer.org/installer | php`\n    - `# mv composer.phar /usr/local/bin/composer`\n \n\n\n##### **virtualhosts.conf**\n\n```\nserver {\n        listen 80;\n        server_name 32.64.128.256;\n        root        /var/www/html;\n}\n```\n\n##### **php\u5411\u3051virtualhosts.conf**\n\n```\nserver {\n        listen 80;\n        server_name 32.64.128.256;\n        root /var/www/html;\n        index index.php index.html;\n        location ~* \\.php$ {\n                fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                fastcgi_param PATH_INFO $fastcgi_script_name;\n                include fastcgi_params;\n        }\n}\n```\n\n##### **postfix\u306e\u8ffd\u8a18\u90e8\u5206**\n\n```\nsmtpd_client_restrictions = permit_mynetworks, reject_rbl_client relays.ordb.org, permit\nsmtpd_sasl_auth_enable = yes\nsmtpd_sasl_local_domain = $myhostname\nsmtpd_recipient_restrictions = permit_mynetworks, permit_sasl_authenticated, reject_unauth_destination\nsmtpd_recipient_limit = 10\nmailbox_size_limit = 104857600\nmessage_size_limit = 10485760\n```\n\n# Wordpress\u306e\u30c6\u30b9\u30c8\n\ncomposer\u3067\u5165\u308c\u308b\u3068\u82f1\u8a9e\u7248\u3057\u304b\u5165\u3089\u306a\u304b\u3063\u305f\u3002\u7121\u5ff5\u3002\u3057\u304b\u3082\u8a00\u8a9e\u30d5\u30a1\u30a4\u30eb\u306f\u65e5\u672c\u8a9e\u304c\u516c\u958b\u3055\u308c\u3066\u306a\u304b\u3063\u305f\u306e\u3067\u3001\u76f4\u63a5\u843d\u3068\u3057\u3066\u304f\u308b\u3053\u3068\u306b\u3057\u305f\u3002\n\nwordpress\u3092\u7f6e\u304f\u5834\u6240\u3092`/var/www/wordpress`\u3068\u3059\u308b\u3002\n`# vi /etc/nginx/conf.d/virtualhosts.conf`\u3067\u7de8\u96c6\u3002\n\n```\n# WordPress\nserver {\n        listen 80;\n        server_name 32.64.128.256;\n        root /var/www/wordpress/;\n        index index.php;\n        location ~* wp-config.php {\n                deny all;\n        }\n        location / {\n                if (!-e $request_filename) {\n                        rewrite ^.+?($/-.*) $1 last;\n                        rewrite ^.+?(/.*\\.php)$ $1 last;\n                        rewrite ^ /index.php last;\n                }\n        }\n        location ~* \\.php$ {\n                fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\n                fastcgi_index index.php;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                include fastcgi_params;\n        }\n}\n```\n\nWordpress\u3067\u4f7f\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f`wp_database`\u306b\u3057\u3066\u304a\u304f\u3002\u5c02\u7528\u30e6\u30fc\u30b6\u3092`wp_user`\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092`wp_pass`\u3068\u3057\u3066\u4f5c\u308b\u3002\u305d\u3057\u3066\u30b5\u30fc\u30d0\u5185\u90e8\u3060\u3051\u3067\u306a\u304f\u3001\u5916\u90e8\uff08\u3064\u307e\u308a\u4eca\u4f7f\u3063\u3066\u308b\u30de\u30b7\u30f3\uff09\u304b\u3089\u3082\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u540c\u3058\u30e6\u30fc\u30b6\u3092\"%\"\u6307\u5b9a\u3067\u4f5c\u3063\u3066\u304a\u304f\u3002\n\n- `$ mysql -uroot -p`\n- `> create database wp_database;`\n- `> grant all privileges on wp_database.* to wp_user@localhost identified by 'wp_pass';`\n- `> grant all privileges on wp_database.* to wp_user@\"%\" identified by 'wp_pass';`\n- `> FLUSH PRIVILEGES;`\n\n\u6e96\u5099\u4e07\u7aef\u3002Wordpress\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002\n\n- \u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n    - `# cd /var/www`\n    - `# curl -O https://ja.wordpress.org/wordpress-4.5.3-ja.zip`\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n    - `# unzip wordpress-4.5.3-ja.zip`\u3067\u89e3\u51cd\uff08wordpress\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u751f\u6210\u3055\u308c\u308b\uff09\n    - `# rm -f wordpress-4.5.3-ja.zip`\u3067\u4e0d\u8981\u30d5\u30a1\u30a4\u30eb\u524a\u9664\n    - \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n        - `cd wordpress`\n        - `cp wp-config-sample.php wp-config.php`\n        - wp-config.php\u3092\u7de8\u96c6\u3057\u3066\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306a\u3069\u306e\u60c5\u5831\u3092\u7de8\u96c6\u3057\u3066\u304a\u304f\n            - [\u3053\u3053\u306b\u30a2\u30af\u30bb\u30b9](https://api.wordpress.org/secret-key/1.1/salt/)\u3059\u308b\u3068\u3001\u81ea\u52d5\u7684\u306b\u30e9\u30f3\u30c0\u30e0\u306a\u30d5\u30ec\u30fc\u30ba\u3092\u751f\u6210\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u30b3\u30d4\u30da\u3059\u308b\n        - `# chown -R nginx:nginx /var/www/wordpress/` \u3067\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u5909\u66f4\n    - nginx\u3092\u518d\u8d77\u52d5\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\n        - `# systemctl restart nginx.service`\n    - \u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\n        - http://32.64.128.256/wp-admin/install.php\n            - \u4e0a\u8a18\u306e\u30d1\u30b9\u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308c\u3070\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u30eb\u30fc\u30d7\u306b\u306f\u306a\u3089\u306a\u3044\n        - \u5f8c\u306f\u9069\u5b9c\u753b\u9762\u306e\u652f\u6301\u306b\u5f93\u3063\u3066\u9032\u3081\u308b\n\n\n# CakePHP\u306e\u30c6\u30b9\u30c8\n\ncomposer\u3067\u5165\u308c\u308b\u3002CakePHP\u3092\u7f6e\u304f\u5834\u6240\u3092`/var/www/cakephp`\u3068\u3059\u308b\u3002\n`# vi /etc/nginx/conf.d/virtualhosts.conf`\u3067\u7de8\u96c6\u3002\n\n```\n# cakephp\nserver {\n        listen 80;\n        server_name 32.64.128.256;\n        rewrite 301 http://32.64.128.256$request_uri permanent;\n        root /var/www/cakephp/app/webroot;\n        index index.php\n        access_log /var/www/cakephp/log/access.log main;\n        error_log  /var/www/cakephp/log/error.log crit;\n        location / {\n                try_files $uri /index.php?$args;\n        }\n        location ~ \\.php$ {\n                try_files $uri =404;\n                include /etc/nginx/fastcgi_params;\n                fastcgi_pass unix:/var/run/php-fpm/php-fpm.sock;\n                fastcgi_index index.php;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                fastcgi_param CAKEPHP_DEBUG 1;\n        }\n}\n```\n\nCakePHP\u3067\u4f7f\u3046\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306f`cake_database`\u306b\u3057\u3066\u304a\u304f\u3002\u5c02\u7528\u30e6\u30fc\u30b6\u3092`cake_user`\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092`cake_pass`\u3068\u3057\u3066\u4f5c\u308b\u3002\u305d\u3057\u3066\u30b5\u30fc\u30d0\u5185\u90e8\u3060\u3051\u3067\u306a\u304f\u3001\u5916\u90e8\uff08\u3064\u307e\u308a\u4eca\u4f7f\u3063\u3066\u308b\u30de\u30b7\u30f3\uff09\u304b\u3089\u3082\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u540c\u3058\u30e6\u30fc\u30b6\u3092\"%\"\u6307\u5b9a\u3067\u4f5c\u3063\u3066\u304a\u304f\u3002\n\n- `$ mysql -uroot -p`\n- `> create database cake_database;`\n- `> grant all privileges on cake_database.* to cake_user@localhost identified by 'cake_pass';`\n- `> grant all privileges on cake_database.* to cake_user@\"%\" identified by 'cake_pass';`\n- `> FLUSH PRIVILEGES;`\n\ncomposer.json\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\ncomposer\u306froot\u3067\u4f7f\u7528\u3059\u308b\u3068\u6012\u3089\u308c\u308b\u306e\u3067\u3001\u4e00\u822c\u30e6\u30fc\u30b6\u3067\u884c\u3046\u3002\n\n- `# cd /var/www`\n- `# mkdir -p cakephp/log`\n- `# chown admin:admin cakephp` \u4e00\u822c\u30e6\u30fc\u30b6\u6a29\u9650\u306b\u3059\u308b\uff08admin\u306f\u9069\u5b9c\u4e00\u822c\u30e6\u30fc\u30b6\u3092\u6307\u5b9a\u3059\u308b\uff09\n- `$ cd cakephp`\n- `$ vi composer.json`\n\n```\n{\n    \"name\": \"./\",\n    \"require\": {\n        \"cakephp/cakephp\": \"2.8.*\",\n        \"cakephp/debug_kit\" : \"2.2.*\"\n    },\n    \"require-dev\": {\n      \"phpunit/phpunit\": \"3.7.*\"\n    },\n    \"config\": {\n        \"vendor-dir\": \"Vendor/\"\n    },\n    \"bin\": [\n      \"lib/Cake/Console/cake\"\n    ]\n}\n```\n\n- `$ composer install`\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n- `$ Vendor/bin/cake bake app ./`\u3067app\u3092\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3059\u308b\n    - \u9762\u5012\u304f\u3055\u3044\u306e\u3067`The password you supplied was empty. Use an empty password? (y/n) `\u4ee5\u5916\u306f\u5168\u90e8Enter\u3067\u5bfe\u5fdc\n- app/webroot/index.php\u306e\u4e00\u90e8\u3092\u66f8\u304d\u63db\u3048\u308b\n    - `define('CAKE_CORE_INCLUDE_PATH', '/var/www/cakephp/Vendor/cakephp/cakephp/lib');`\n- app/webroot/test.php\u306e\u4e00\u90e8\u3092\u66f8\u304d\u63db\u3048\u308b\n    - `define('CAKE_CORE_INCLUDE_PATH', '/var/www/cakephp/Vendor/cakephp/cakephp/lib');`\n- app/Config/core.php\u306e\u30c7\u30d0\u30b0\u90e8\u5206`Configure::write('debug', 2);`\u3092\u5909\u66f4\u3057\u3066\u304a\u304f\n    - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n- app/Config/bootstrap.php\u306b\u8ffd\u8a18\u3057\u3066\u304a\u304f\n    - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n- app/Controller/AppController.php\u3092\u958b\u304d\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\n    - \u66f8\u5f0f\u306f\u5f8c\u8ff0\n- app/Config/database.php.default\u3092\u30b3\u30d4\u30fc\u3057\u3066\u7de8\u96c6\u3059\u308b\n    - `$ cp app/Config/database.php.default app/Config/database.php`\n    - \u5404\u7a2e\u8a2d\u5b9a\u3092\u9069\u5207\u306b\u7de8\u96c6\u3057\u76f4\u3059\n- DebugKit\u304capp/Plugin\u306b\u306a\u3044\u306e\u3067\u79fb\u52d5\u3059\u308b\n    - `$ mv Plugin/DebugKit app/Plugin`\n- \u30d6\u30e9\u30a6\u30b6\u3067\u898b\u3066\u307f\u308b\n\n##### **core.php**\n\n```\nif (getenv('CAKEPHP_DEBUG')) {\n    Configure::write('debug', getenv('CAKEPHP_DEBUG'));\n} else {\n    Configure::write('debug', 0);\n}\n```\n\n##### **bootstrap.php**\n\n```\nCakePlugin::load('DebugKit');\n```\n\n\u6700\u7d42\u884c\u306b\u4ee5\u4e0b\u3092\u8ffd\u8a18\n\n```\n// Composer \u306e autoload \u3092\u8aad\u307f\u8fbc\u307f\nrequire '/var/www/cakephp/Vendor/autoload.php';\n\n// CakePHP \u306e\u30aa\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\u3092\u3044\u3063\u305f\u3093\u524a\u9664\u3057\u3001Composer \u3088\u308a\u5148\u306b\u8a55\u4fa1\u3055\u308c\u308b\u3088\u3046\u306b\u5148\u982d\u306b\u8ffd\u52a0\u3059\u308b\n// http://goo.gl/kKVJO7 \u3092\u53c2\u7167\nspl_autoload_unregister(array('App', 'load'));\nspl_autoload_register(array('App', 'load'), true, true);\n```\n\n##### **AppController.php**\n\n```\nclass AppController extends Controller {\n    public $components = array('DebugKit.Toolbar');\n}\n```\n", "tags": ["nginx", "PHP", "mariadb", "postfix", "bind"]}