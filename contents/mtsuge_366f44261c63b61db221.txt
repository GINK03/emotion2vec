{"context": " More than 1 year has passed since last update.validates_url \u3068\u3044\u3046 gem \u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\n\u540d\u524d\u306e\u3068\u304a\u308a URL \u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092\u3057\u3066\u304f\u308c\u308b gem \u3067\u3001custom validator \u3067\u5b9f\u88c5\u3057\u3066\u305f\u306e\u3092\u7c21\u5358\u306b\u3057\u3066\u304f\u308c\u307e\u3059\n\ninstall\n# add this to your Gemfile\ngem \"validate_url\"\n\n\n\u4f7f\u3044\u65b9\nclass User < ActiveRecord::Base\n\n  validates :homepage, url: { allow_blank: true }\n\nend\n\n\u3069\u3093\u306a\u30c1\u30a7\u30c3\u30af\u3092\u3057\u3066\u308b\u304b\u898b\u3066\u307f\u305f\n  uri = Addressable::URI.parse(value)\n  unless uri && uri.host && schemes.include?(uri.scheme) && (!options.fetch(:no_local) || uri.host.include?('.'))\n\n\n\nUIR.parse \u3067\u304d\u308b\u3053\u3068\n\nhost \u304c\u3042\u308b\u3053\u3068\n\nscheme\uff08http or https\uff09\u3092\u542b\u3080\u3053\u3068\u3092\u542b\u3080\u3053\u3068\n\u30aa\u30d7\u30b7\u30e7\u30f3\u306e no_local \u6307\u5b9a\u304c\u3042\u308b\u5834\u5408\u3001host \u306b . \u3092\u542b\u3080\u3053\u3068\n\n\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 [\u5c5e\u6027\u540d] is not valid url \u3068\u306a\u3063\u3066\u307e\u3059\u304c\u3001I18n \u5bfe\u5fdc\u3067\u5909\u66f4\u3067\u304d\u307e\u3059\n\n\u53c2\u8003\n\nhttps://github.com/perfectline/validates_url\n\n[validates_url](https://github.com/perfectline/validates_url) \u3068\u3044\u3046 gem \u3092\u4f7f\u3063\u3066\u307f\u307e\u3057\u305f\n\n\u540d\u524d\u306e\u3068\u304a\u308a URL \u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092\u3057\u3066\u304f\u308c\u308b gem \u3067\u3001custom validator \u3067\u5b9f\u88c5\u3057\u3066\u305f\u306e\u3092\u7c21\u5358\u306b\u3057\u3066\u304f\u308c\u307e\u3059\n\n# install\n\n```\n# add this to your Gemfile\ngem \"validate_url\"\n```\n\n# \u4f7f\u3044\u65b9\n\n```\nclass User < ActiveRecord::Base\n\n  validates :homepage, url: { allow_blank: true }\n\nend\n```\n\n\u3069\u3093\u306a\u30c1\u30a7\u30c3\u30af\u3092\u3057\u3066\u308b\u304b\u898b\u3066\u307f\u305f\n\n```\n  uri = Addressable::URI.parse(value)\n  unless uri && uri.host && schemes.include?(uri.scheme) && (!options.fetch(:no_local) || uri.host.include?('.'))\n```\n\n* `UIR.parse` \u3067\u304d\u308b\u3053\u3068\n* `host` \u304c\u3042\u308b\u3053\u3068\n* `scheme`\uff08http or https\uff09\u3092\u542b\u3080\u3053\u3068\u3092\u542b\u3080\u3053\u3068\n* \u30aa\u30d7\u30b7\u30e7\u30f3\u306e `no_local` \u6307\u5b9a\u304c\u3042\u308b\u5834\u5408\u3001host \u306b `.` \u3092\u542b\u3080\u3053\u3068\n\n\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 **[\u5c5e\u6027\u540d] is not valid url** \u3068\u306a\u3063\u3066\u307e\u3059\u304c\u3001I18n \u5bfe\u5fdc\u3067\u5909\u66f4\u3067\u304d\u307e\u3059\n\n# \u53c2\u8003\n\n* https://github.com/perfectline/validates_url\n", "tags": ["Rails", "Gem", "Validation"]}