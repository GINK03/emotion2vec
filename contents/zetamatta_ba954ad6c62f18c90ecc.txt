{"context": " More than 1 year has passed since last update.\n\n\u30bd\u30fc\u30b9\ngetunc.cmd :\n@echo off\nif \"%1\" == \"\" exit /b 1\nSETLOCAL\nSET \"D_=%~d1\"\nSET \"P_=%~pnx1\"\nfor /F \"tokens=1,2,3\" %%I in ('net use ^| findstr /I %D_%') do if \"%%I\" == \"OK\" (set \"UNC=%%K\" ) else ( set \"UNC=%%J\" )\nif \"%UNC%\" == \"\" (\n    echo %~dpnx1\n) else (\n    echo %UNC%%~pnx1\n)\n\n\u300cnet use\u300d\u3067\u306f\u3001\u901a\u5e38\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c9\u30e9\u30a4\u30d6\u306f\uff11\u9805\u76ee\u76ee\u304c\u300cOK\u300d\u306b\u306a\u308b\u304c\u3001VMware\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u3088\u3046\u306b\u7a7a\u767d\u306b\u306a\u308b\u5834\u5408\u3082\u3042\u308b\u306e\u3067\u56f0\u3063\u305f\u3082\u306e\u3060\n\n\u4f7f\u7528\u4f8b\n[Z:Share]\n$ net use\n\u65b0\u3057\u3044\u63a5\u7d9a\u306f\u8a18\u61b6\u3055\u308c\u307e\u3059\u3002\n\n\n\u30b9\u30c6\u30fc\u30bf\u30b9  \u30ed\u30fc\u30ab\u30eb\u540d \u30ea\u30e2\u30fc\u30c8\u540d                \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u540d\n\n-------------------------------------------------------------------------------\nOK           Z:        \\\\127.0.0.1\\c             Microsoft Windows Network\n\u30b3\u30de\u30f3\u30c9\u306f\u6b63\u5e38\u306b\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n[Z:Share]\n$ pwd\nZ:\\opt\\Share\n[Z:Share]\n$ getunc .\n\\\\127.0.0.1\\c\\opt\\Share\n\n\n\u4ed6\u306e\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4f7f\u3046\n$ type foo.cmd\n@echo off\nfor /F %%I in ('getunc \"%HOME%\\BIN\"') do set \"BIN=%%I\"\necho %BIN%\n[Z:SkyDrive]\n$ foo\n\\\\Vboxsvr\\c_drive\\hymkor\\SkyDrive\\bin\n\n# \u30bd\u30fc\u30b9\n\n**getunc.cmd :**\n\n```bat\n@echo off\nif \"%1\" == \"\" exit /b 1\nSETLOCAL\nSET \"D_=%~d1\"\nSET \"P_=%~pnx1\"\nfor /F \"tokens=1,2,3\" %%I in ('net use ^| findstr /I %D_%') do if \"%%I\" == \"OK\" (set \"UNC=%%K\" ) else ( set \"UNC=%%J\" )\nif \"%UNC%\" == \"\" (\n    echo %~dpnx1\n) else (\n    echo %UNC%%~pnx1\n)\n```\n\n\u300cnet use\u300d\u3067\u306f\u3001\u901a\u5e38\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30c9\u30e9\u30a4\u30d6\u306f\uff11\u9805\u76ee\u76ee\u304c\u300cOK\u300d\u306b\u306a\u308b\u304c\u3001VMware\u306e\u5171\u6709\u30d5\u30a9\u30eb\u30c0\u30fc\u306e\u3088\u3046\u306b\u7a7a\u767d\u306b\u306a\u308b\u5834\u5408\u3082\u3042\u308b\u306e\u3067\u56f0\u3063\u305f\u3082\u306e\u3060\n\n# \u4f7f\u7528\u4f8b\n\n```\n[Z:Share]\n$ net use\n\u65b0\u3057\u3044\u63a5\u7d9a\u306f\u8a18\u61b6\u3055\u308c\u307e\u3059\u3002\n\n\n\u30b9\u30c6\u30fc\u30bf\u30b9  \u30ed\u30fc\u30ab\u30eb\u540d \u30ea\u30e2\u30fc\u30c8\u540d                \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u540d\n\n-------------------------------------------------------------------------------\nOK           Z:        \\\\127.0.0.1\\c             Microsoft Windows Network\n\u30b3\u30de\u30f3\u30c9\u306f\u6b63\u5e38\u306b\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\n\n[Z:Share]\n$ pwd\nZ:\\opt\\Share\n[Z:Share]\n$ getunc .\n\\\\127.0.0.1\\c\\opt\\Share\n```\n\n# \u4ed6\u306e\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4f7f\u3046\n\n```\n$ type foo.cmd\n@echo off\nfor /F %%I in ('getunc \"%HOME%\\BIN\"') do set \"BIN=%%I\"\necho %BIN%\n[Z:SkyDrive]\n$ foo\n\\\\Vboxsvr\\c_drive\\hymkor\\SkyDrive\\bin\n```\n", "tags": ["batch"]}