{"tags": ["XING", "mBaas", "monaca", "mashupaward", "NCMB"], "context": " More than 1 year has passed since last update.\u8a00\u8a9e\u89e3\u6790API\u3092\u5229\u7528\u3057\u3066\u3001DB\u306b\u4fdd\u5b58\u3057\u3066\u3044\u3051\u3070\u30e6\u30fc\u30b6\u30fc\u5206\u6790\u306b\u4f7f\u3048\u308b\u306e\u3067\u306f\u306a\u3044\u304b\uff1f\u3068\u601d\u3044\u4f5c\u3063\u3066\u307f\u305f\u3002\n\u4eca\u56de\u4f7f\u3046\u8a00\u8a9e\u89e3\u6790API\u306f\u30a8\u30af\u30b7\u30f3\u30b0\u793e\u3092\u6d3b\u7528\u3001\u30cd\u30ac\u30dd\u30b8\u304f\u3089\u3044\u306a\u3089\u53d6\u308c\u308b\u3002\nDB\u306b\u306f\u30cb\u30d5\u30c6\u30a3\u30af\u30e9\u30a6\u30c9mobilebackend\u3092\u6d3b\u7528\n\u307e\u305f\u3001API\u3092\u53e9\u304f\u57fa\u76e4\u3068\u3057\u3066monaca\u3092\u5229\u7528\u3057\u305f.\n\u3084\u308b\u3053\u3068\u306f\u4ee5\u4e0b\n\u30fb\u30a8\u30af\u30b7\u30f3\u30b0\u793e\u3000\u8a00\u8a9e\u89e3\u6790API\u3092JavaScript\u3067\u53e9\u304f\n\u30fb\u4e0a\u8a18\u306e\u7d50\u679c\u3092\u30cb\u30d5\u30c6\u30a3\u30af\u30e9\u30a6\u30c9mobile backend\u306b\u4fdd\u5b58\n\u4ee5\u4e0b\u30b3\u30fc\u30c9\n\nindex.html\n<!DOCTYPE HTML>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, user-scalable=no\">\n    <script src=\"components/loader.js\"></script>\n    <link rel=\"stylesheet\" href=\"components/loader.css\">\n    <link rel=\"stylesheet\" href=\"css/styles.css\">\n    <script src=\"js/ncmb-latest.min.js\"></script>\n    <script src=\"js/cssua.min.js\"></script>\n    <script src=\"js/app.js\"></script>\n\n</head>\n<body>\n    <div data-role=\"page\" id=\"list-page\">\n        <div data-role=\"header\" data-position=\"fixed\" data-theme=\"c\">\n            <h1>XING\uff01</h1>\n            <input id=\"search-button\" type=\"button\" value=\"Search\" onclick=\"XINGApi()\">\n        </div>\n        <div data-role=\"content\">\n            <ul data-role=\"listview\" data-inset=\"true\" id=\"x-list\"></ul>\n        </div>\n    </div>\n</body>\n</html>\n\n\n\napp.js\nvar xhr = new XMLHttpRequest();\nvar current;\nvar YOUR_APP_KEY = \"YOUR_APP_KEY\";\nvar YOUR_CLIENT_KEY = \"YOUR_CLIENT_KEY\";\n\n$(function(){\n    //\u8d77\u52d5\u6642\u306bmobile backend API\u30ad\u30fc\u3092\u8a2d\u5b9a\n    NCMB.initialize(YOUR_APP_KEY,YOUR_CLIENT_KEY);\n});\n\nfunction XINGApi(){\n//\u30a8\u30af\u30b7\u30f3\u30b0\u8a00\u8a9e\u89e3\u6790API\nvar XINGApi =\n   \"https://lr.capio.jp/webapis/iminos/synana_k/1_1/\";\n//\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\n  var XINGAccessKey =\n   \"XINGAccessKey\";\n  var sent = \"\u3070\u304b\u3084\u308d\u3046\"; \n  //\u30af\u30a8\u30ea\u3092\u4f5c\u308b\n  var queri = XINGApi + \"?acckey=\" + XINGAccessKey + \"&sent=\" + sent;\n\n  // XMLHttpRequest \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\n  xhr.open(\"GET\",queri,false);\n  //\u30ec\u30b9\u30dd\u30f3\u30b9\u51e6\u7406\u306e\u6307\u5b9a\n  xhr.onreadystatechange = processResponse;\n  //API\u3092\u53e9\u304f\n  xhr.send();\n  console.log(\"quit\");\n\n  return queri;\n}\n\nfunction processResponse() {\n    console.log(\"xhr.readyState:\" +xhr.readyState);\n    if(xhr.readyState == 4) {\n        if(xhr.status == 200 || xhr.status == 201) {\n            // \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\n            var XING = JSON.parse(xhr.responseText);\n             for(var i in XING.results){\n                //\u6587\u7ae0\u304c\u30dd\u30b8\u30c6\u30a3\u30d6\u304b\u30cd\u30ac\u30c6\u30a3\u30d6\u304b\u3092\u5224\u5b9a\n                var spn = JSON.stringify(XING.results[i].spn[0]);\n                console.log(\"spn:\" +spn);\n\n                var SPNClass = NCMB.Object.extend(\"spn\");\n                var spnClass = new SPNClass();    \n                spnClass.set(\"NUM\", spn);\n                spnClass.save(null, {\n                    success: function(object) {// \u4fdd\u5b58\u5b8c\u4e86\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b\n                    },\n                    error: function(object, error) {// \u30a8\u30e9\u30fc\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\n                    }\n                });\n\n                $(\"#x-list\").append(\"<li>\" + \"<p><h3>\" + spn + \"</h3>\"); \n                clickInput = \"#\" + clickInput ;\n                $(clickInput).click({name : spnl},reserve);\n                $(\"#x-list\").append(\"</p>\" );\n                $(\"#x-list\").append(\"</li>\" );\n                $(\"#x-list\").listview('refresh');\n\n            }\n\n        } else {\n            // \u30a8\u30e9\u30fc\u51e6\u7406\n\n        }\n    }\n}\n\n\n\u8a00\u8a9e\u89e3\u6790API\u3092\u5229\u7528\u3057\u3066\u3001DB\u306b\u4fdd\u5b58\u3057\u3066\u3044\u3051\u3070\u30e6\u30fc\u30b6\u30fc\u5206\u6790\u306b\u4f7f\u3048\u308b\u306e\u3067\u306f\u306a\u3044\u304b\uff1f\u3068\u601d\u3044\u4f5c\u3063\u3066\u307f\u305f\u3002\n\n\u4eca\u56de\u4f7f\u3046\u8a00\u8a9e\u89e3\u6790API\u306f[\u30a8\u30af\u30b7\u30f3\u30b0\u793e](https://lr.capio.jp/services/webapis/)\u3092\u6d3b\u7528\u3001\u30cd\u30ac\u30dd\u30b8\u304f\u3089\u3044\u306a\u3089\u53d6\u308c\u308b\u3002\nDB\u306b\u306f[\u30cb\u30d5\u30c6\u30a3\u30af\u30e9\u30a6\u30c9mobilebackend](http://mb.cloud.nifty.com/)\u3092\u6d3b\u7528\n\u307e\u305f\u3001API\u3092\u53e9\u304f\u57fa\u76e4\u3068\u3057\u3066[monaca](https://ja.monaca.io/)\u3092\u5229\u7528\u3057\u305f.\n\n\u3084\u308b\u3053\u3068\u306f\u4ee5\u4e0b\n\u30fb\u30a8\u30af\u30b7\u30f3\u30b0\u793e\u3000\u8a00\u8a9e\u89e3\u6790API\u3092JavaScript\u3067\u53e9\u304f\n\u30fb\u4e0a\u8a18\u306e\u7d50\u679c\u3092\u30cb\u30d5\u30c6\u30a3\u30af\u30e9\u30a6\u30c9mobile backend\u306b\u4fdd\u5b58\n\n\u4ee5\u4e0b\u30b3\u30fc\u30c9\n\n```html:index.html\n<!DOCTYPE HTML>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, user-scalable=no\">\n    <script src=\"components/loader.js\"></script>\n    <link rel=\"stylesheet\" href=\"components/loader.css\">\n    <link rel=\"stylesheet\" href=\"css/styles.css\">\n    <script src=\"js/ncmb-latest.min.js\"></script>\n    <script src=\"js/cssua.min.js\"></script>\n    <script src=\"js/app.js\"></script>\n    \n</head>\n<body>\n    <div data-role=\"page\" id=\"list-page\">\n        <div data-role=\"header\" data-position=\"fixed\" data-theme=\"c\">\n            <h1>XING\uff01</h1>\n            <input id=\"search-button\" type=\"button\" value=\"Search\" onclick=\"XINGApi()\">\n        </div>\n        <div data-role=\"content\">\n            <ul data-role=\"listview\" data-inset=\"true\" id=\"x-list\"></ul>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n```js:app.js\nvar xhr = new XMLHttpRequest();\nvar current;\nvar YOUR_APP_KEY = \"YOUR_APP_KEY\";\nvar YOUR_CLIENT_KEY = \"YOUR_CLIENT_KEY\";\n\n$(function(){\n    //\u8d77\u52d5\u6642\u306bmobile backend API\u30ad\u30fc\u3092\u8a2d\u5b9a\n    NCMB.initialize(YOUR_APP_KEY,YOUR_CLIENT_KEY);\n});\n\nfunction XINGApi(){\n//\u30a8\u30af\u30b7\u30f3\u30b0\u8a00\u8a9e\u89e3\u6790API\nvar XINGApi =\n   \"https://lr.capio.jp/webapis/iminos/synana_k/1_1/\";\n//\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\n  var XINGAccessKey =\n   \"XINGAccessKey\";\n  var sent = \"\u3070\u304b\u3084\u308d\u3046\"; \n  //\u30af\u30a8\u30ea\u3092\u4f5c\u308b\n  var queri = XINGApi + \"?acckey=\" + XINGAccessKey + \"&sent=\" + sent;\n\n  // XMLHttpRequest \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\n  xhr.open(\"GET\",queri,false);\n  //\u30ec\u30b9\u30dd\u30f3\u30b9\u51e6\u7406\u306e\u6307\u5b9a\n  xhr.onreadystatechange = processResponse;\n  //API\u3092\u53e9\u304f\n  xhr.send();\n  console.log(\"quit\");\n\n  return queri;\n}\n\nfunction processResponse() {\n    console.log(\"xhr.readyState:\" +xhr.readyState);\n    if(xhr.readyState == 4) {\n        if(xhr.status == 200 || xhr.status == 201) {\n            // \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u51e6\u7406\n            var XING = JSON.parse(xhr.responseText);\n             for(var i in XING.results){\n                //\u6587\u7ae0\u304c\u30dd\u30b8\u30c6\u30a3\u30d6\u304b\u30cd\u30ac\u30c6\u30a3\u30d6\u304b\u3092\u5224\u5b9a\n                var spn = JSON.stringify(XING.results[i].spn[0]);\n                console.log(\"spn:\" +spn);\n                \n                var SPNClass = NCMB.Object.extend(\"spn\");\n                var spnClass = new SPNClass();    \n                spnClass.set(\"NUM\", spn);\n                spnClass.save(null, {\n                    success: function(object) {// \u4fdd\u5b58\u5b8c\u4e86\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b\n                    },\n                    error: function(object, error) {// \u30a8\u30e9\u30fc\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\n                    }\n                });\n                \n                $(\"#x-list\").append(\"<li>\" + \"<p><h3>\" + spn + \"</h3>\"); \n                clickInput = \"#\" + clickInput ;\n                $(clickInput).click({name : spnl},reserve);\n                $(\"#x-list\").append(\"</p>\" );\n                $(\"#x-list\").append(\"</li>\" );\n                $(\"#x-list\").listview('refresh');\n             \n            }\n           \n        } else {\n            // \u30a8\u30e9\u30fc\u51e6\u7406\n           \n        }\n    }\n}\n```\n"}