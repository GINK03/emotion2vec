{"context": "\n\n\u306f\u3058\u3081\u306b\ndocker\u3092\u4f7f\u3063\u305f\u3053\u3068\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u8a66\u3057\u3066\u307f\u305f\u3002\nVPS\u4e0a\u306bdocker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001Redmine\u306e\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u8d77\u52d5\u3055\u305b\u308b\u3002\n\uff08\u74b0\u5883\uff09\nOS:CentOS7\n\ndocker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u203b\u9069\u5b9csudo\u3059\u308b\u3053\u3068\u3002\n1.docker\n$ yum install -y docker\n\n2.docker compose\uff08\u516c\u5f0f\u30b5\u30a4\u30c8\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\uff09\n$ curl -L \"https://github.com/docker/compose/releases/download/1.9.0/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n$ chmod +x /usr/local/bin/docker-compose\n\n\ndocker-compose.yml\nRedmine\u306e\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u53c2\u8003\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f\u3002\nversion: '2'\nservices:\n  redmine:\n    image: redmine\n    ports:\n      - 3000:3000\n    environment:\n      REDMINE_DB_MYSQL: db\n      REDMINE_DB_PASSWORD: redmine\n    depends_on:\n      - db\n    restart: always\n\n  db:\n    image: mariadb\n    environment:\n      MYSQL_ROOT_PASSWORD: redmine\n      MYSQL_DATABASE: redmine\n    restart: always\n\n\ndocker\u8d77\u52d5\n\u30b3\u30f3\u30c6\u30ca\u306e\u4f5c\u6210\u3001\u53ca\u3073\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3002\n$ sudo docker-compose up -d\n\n\u203broot\u6a29\u9650\u3067command not found\u3068\u306a\u308b\u5834\u5408\u306f\u30d1\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3002\n\n\u8d77\u52d5\u78ba\u8a8d\n\u5c11\u3057\u6642\u9593\u3092\u7f6e\u3044\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\nhttp://<VPS\u306eIP>:3000\n\n\u8d77\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3002\n\n\u5185\u90e8\u30a8\u30e9\u30fc\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068\u3057\u305f\u6240\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u305f\u3002\n\u3069\u3046\u3084\u3089\u65e5\u672c\u8a9e\u304c\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u306a\u3044\u6a21\u69d8\u3002\n\nMariaDB\u306e\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea\uff08Configuration without a cnf file\u306e\u6240\uff09\u3092\u53c2\u8003\u306bdocker-compose.yml\u3092\u4fee\u6b63\u3059\u308b\u3002\nversion: '2'\nservices:\n  redmine:\n    image: redmine\n    ports:\n      - 3000:3000\n    environment:\n      REDMINE_DB_MYSQL: db\n      REDMINE_DB_PASSWORD: redmine\n    depends_on:\n      - db\n    restart: always\n\n  db:\n    image: mariadb\n    environment:\n      MYSQL_ROOT_PASSWORD: redmine\n      MYSQL_DATABASE: redmine\n    command: mysqld --character-set-server=utf8 --collation-server=utf8_unicode_ci\n    restart: always\n\n\u4fee\u6b63\u7b87\u6240\uff1adb\u306e\u6240\u306bcommand\u3092\u8ffd\u52a0\u3002\n\uff08\u7b46\u8005\u306e\u74b0\u5883\u3067\u306futf8mb4\u3067\u306f\u8d77\u52d5\u3067\u304d\u306a\u304b\u3063\u305f\uff09\n\u518d\u8d77\u52d5\u5f8c\u3001\u65e5\u672c\u8a9e\u306e\u767b\u9332\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\uff01\n\n##\u306f\u3058\u3081\u306b\ndocker\u3092\u4f7f\u3063\u305f\u3053\u3068\u304c\u306a\u304b\u3063\u305f\u306e\u3067\u8a66\u3057\u3066\u307f\u305f\u3002\nVPS\u4e0a\u306bdocker\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001Redmine\u306e\u516c\u5f0f\u30a4\u30e1\u30fc\u30b8\u304b\u3089\u8d77\u52d5\u3055\u305b\u308b\u3002\n\uff08\u74b0\u5883\uff09\nOS:CentOS7\n\n##docker\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u203b\u9069\u5b9csudo\u3059\u308b\u3053\u3068\u3002\n\n1.docker\n\n```\n$ yum install -y docker\n```\n\n2.docker compose\uff08[\u516c\u5f0f\u30b5\u30a4\u30c8](https://docs.docker.com/compose/install/)\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\uff09\n\n```\n$ curl -L \"https://github.com/docker/compose/releases/download/1.9.0/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n$ chmod +x /usr/local/bin/docker-compose\n```\n\n##docker-compose.yml\n\n[Redmine\u306e\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea](https://hub.docker.com/_/redmine/)\u3092\u53c2\u8003\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u305f\u3002\n\n```\nversion: '2'\nservices:\n  redmine:\n    image: redmine\n    ports:\n      - 3000:3000\n    environment:\n      REDMINE_DB_MYSQL: db\n      REDMINE_DB_PASSWORD: redmine\n    depends_on:\n      - db\n    restart: always\n\n  db:\n    image: mariadb\n    environment:\n      MYSQL_ROOT_PASSWORD: redmine\n      MYSQL_DATABASE: redmine\n    restart: always\n```\n\n##docker\u8d77\u52d5\n\u30b3\u30f3\u30c6\u30ca\u306e\u4f5c\u6210\u3001\u53ca\u3073\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3002\n\n```\n$ sudo docker-compose up -d\n```\n\u203broot\u6a29\u9650\u3067command not found\u3068\u306a\u308b\u5834\u5408\u306f\u30d1\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3002\n\n##\u8d77\u52d5\u78ba\u8a8d\n\u5c11\u3057\u6642\u9593\u3092\u7f6e\u3044\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3002\nhttp://\\<VPS\u306eIP>:3000\n\n<img width=\"1051\" alt=\"Redmine\u521d\u671f\u753b\u9762.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/38219/e9a25ba9-28c5-021e-7005-11609ed967d6.png\">\n\n\u8d77\u52d5\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3002\n\n##\u5185\u90e8\u30a8\u30e9\u30fc\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068\u3057\u305f\u6240\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u305f\u3002\n\u3069\u3046\u3084\u3089\u65e5\u672c\u8a9e\u304c\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u306a\u3044\u6a21\u69d8\u3002\n\n<img width=\"621\" alt=\"InternalError.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/38219/c15225c9-b1b9-e5e9-4552-8291653ea372.png\">\n\n[MariaDB\u306e\u516c\u5f0f\u30ea\u30dd\u30b8\u30c8\u30ea](https://hub.docker.com/_/mariadb/)\uff08Configuration without a cnf file\u306e\u6240\uff09\u3092\u53c2\u8003\u306bdocker-compose.yml\u3092\u4fee\u6b63\u3059\u308b\u3002\n\n```\nversion: '2'\nservices:\n  redmine:\n    image: redmine\n    ports:\n      - 3000:3000\n    environment:\n      REDMINE_DB_MYSQL: db\n      REDMINE_DB_PASSWORD: redmine\n    depends_on:\n      - db\n    restart: always\n\n  db:\n    image: mariadb\n    environment:\n      MYSQL_ROOT_PASSWORD: redmine\n      MYSQL_DATABASE: redmine\n    command: mysqld --character-set-server=utf8 --collation-server=utf8_unicode_ci\n    restart: always\n```\n\n\u4fee\u6b63\u7b87\u6240\uff1adb\u306e\u6240\u306bcommand\u3092\u8ffd\u52a0\u3002\n\uff08\u7b46\u8005\u306e\u74b0\u5883\u3067\u306futf8mb4\u3067\u306f\u8d77\u52d5\u3067\u304d\u306a\u304b\u3063\u305f\uff09\n\n\u518d\u8d77\u52d5\u5f8c\u3001\u65e5\u672c\u8a9e\u306e\u767b\u9332\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\uff01\n\n<img width=\"1048\" alt=\"\u30d5\u309a\u30ed\u30b7\u3099\u30a7\u30af\u30c8\u4f5c\u6210.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/38219/3c9f4191-c3b5-ca9e-d4b9-b61dce0e00d8.png\">\n\n\n\n\n\n\n", "tags": ["docker", "docker-compose", "Redmine", "\u5165\u9580"]}