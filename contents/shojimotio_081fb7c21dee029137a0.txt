{"context": " More than 1 year has passed since last update.EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u696d\u52d9\u6642\u9593\u3060\u3051\u81ea\u52d5\u8d77\u52d5\u3059\u308b\u51e6\u7406\u3092AWS SDK for PHP 2\u3067\u4f5c\u6210\u3059\u308b\u3067\u4f5c\u6210\u3057\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u81ea\u8eab\u3092\uff11\u6642\u9593\u3060\u3051\u7acb\u3061\u4e0a\u3052\u305f\u3089\u7bc0\u7d04\u306b\u306a\u308b\u306e\u3067\u306f\uff1f\uff1f\n\u2192\u305d\u308cCDP:Scheduled Autoscaling\u30d1\u30bf\u30fc\u30f3\u3067\u3067\u304d\u308b\u3088\n\n\u81ea\u52d5\u8d77\u52d5\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eAMI\u3092\u4f5c\u6210\u3059\u308b\n\n\u30b5\u30fc\u30d3\u30b9\u2192EC2\u2192\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u2192\u81ea\u52d5\u8d77\u52d5\u51e6\u7406\u5b9f\u884c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u9078\u629e\u2192\u30a2\u30af\u30b7\u30e7\u30f3\u2192\u30a4\u30e1\u30fc\u30b8\u2192\u30a4\u30e1\u30fc\u30b8\u4f5c\u6210\n\u30a4\u30e1\u30fc\u30b8\u540d\uff1aAWS_tools\u2192\u518d\u8d77\u52d5\u3057\u306a\u3044\u306b\u30c1\u30a7\u30c3\u30af\u2192\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\n\n\nAuto Scaling \u8d77\u52d5\u8a2d\u5b9a\u3092\u4f5c\u6210\u3059\u308b\n\n\u8d77\u52d5\u8a2d\u5b9a\u2192\u8d77\u52d5\u8a2d\u5b9a\u306e\u4f5c\u6210\n\u30de\u30a4 AMI\u2192AWS_tools\u3092\u9078\u629e\u2192t2.micro\n\u8d77\u52d5\u8a2d\u5b9a\u306e\u4f5c\u6210\u3067IAM \u30ed\u30fc\u30eb\u9078\u629e AWS SDK for PHP 2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3059\u3067\u4f5c\u6210\u3057\u305fAutoStart\u3092\u9078\u629e\n\u6b8b\u308a\u306e\u9805\u76ee\u3092\u30dd\u30c1\u30dd\u30c1\u62bc\u3057\u3066\u4f5c\u6210\n\n\nAuto Scaling \u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3059\u308b\n\n\u3053\u306e\u8d77\u52d5\u8a2d\u5b9a\u3092\u4f7f\u7528\u3057\u3066Auto Scaling\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3059\u308b\u3092\u62bc\u3059\n1\uff0e\u30b0\u30eb\u30fc\u30d7\u540d\uff1aAWS_tools_SG\n\u30b0\u30eb\u30fc\u30d7\u30b5\u30a4\u30ba\uff1a\u958b\u59cb\u6642 0 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff1a\u30c7\u30d5\u30a9\u30eb\u30c8\u2192\u30b5\u30d6\u30cd\u30c3\u30c8\uff1aAZ\u306e\u3069\u308c\u3067\u3082\u3044\u3044\u306e\u3067\u9078\u629e\n\u3053\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u521d\u671f\u306e\u30b5\u30a4\u30ba\u306b\u7dad\u6301\u3059\u308b\u306b\u30c1\u30a7\u30c3\u30af\n\u30bf\u30b0Name:AWS_tools_scheduled\u3068\u8a2d\u5b9a\u3002\u8d77\u52d5\u6642\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u306b\u306a\u308b\n\n\nAWS CLI \u3092\u4f7f\u7528\u3057\u3066\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u6210\u3059\u308b\n\u81ea\u52d5\u8d77\u52d5\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u306fIAM Role\u304c\u4ed8\u4e0e\u3057\u3066\u3042\u3063\u3066\u3001Auto Scalling\u306e\u6a29\u9650\u3082\u3042\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u64cd\u4f5c\u3059\u308b\n\n\u5b9f\u884c\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\n$ aws autoscaling cmd\nusage: aws [options] <command> <subcommand> [parameters]\naws: error: argument operation: Invalid choice, valid choices are:\n\nattach-instances                         | complete-lifecycle-action\ncreate-auto-scaling-group                | create-launch-configuration\ncreate-or-update-tags                    | delete-auto-scaling-group\ndelete-launch-configuration              | delete-lifecycle-hook\ndelete-notification-configuration        | delete-policy\ndelete-scheduled-action                  | delete-tags\ndescribe-account-limits                  | describe-adjustment-types\ndescribe-auto-scaling-groups             | describe-auto-scaling-instances\ndescribe-auto-scaling-notification-types | describe-launch-configurations\ndescribe-lifecycle-hook-types            | describe-lifecycle-hooks\ndescribe-metric-collection-types         | describe-notification-configurations\ndescribe-policies                        | describe-scaling-activities\ndescribe-scaling-process-types           | describe-scheduled-actions\ndescribe-tags                            | describe-termination-policy-types\ndetach-instances                         | disable-metrics-collection\nenable-metrics-collection                | enter-standby\nexecute-policy                           | exit-standby\nput-lifecycle-hook                       | put-notification-configuration\nput-scaling-policy                       | put-scheduled-update-group-action\nrecord-lifecycle-action-heartbeat        | resume-processes\nset-desired-capacity                     | set-instance-health\nsuspend-processes                        | terminate-instance-in-auto-scaling-group\nupdate-auto-scaling-group                | help\n\n\n\u30b9\u30b1\u30fc\u30eb\u30b0\u30eb\u30fc\u30d7\u78ba\u8a8d\n$ aws autoscaling describe-auto-scaling-groups --region ap-southeast-2\n\n\n\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u767b\u9332\nUTC 23:13(JST 8:13)\u306b1\u53f0\u8d77\u52d5\u3059\u308b\u8a2d\u5b9a\u306b\u3059\u308b\n$ aws autoscaling put-scheduled-update-group-action --region ap-southeast-2 --output json --auto-scaling-group-name AWS_tools_SG --scheduled-action-name scale_out --recurrence \"13 23 * * *\" --min-size 1 --max-size 1\n\n\nUTC 0:12(JST 9:12)\u306b0\u53f0\u8d77\u52d5\u3059\u308b\u8a2d\u5b9a\u306b\u3059\u308b\u3002\u3064\u307e\u308aTerminate\u3055\u308c\u308b\u3002\n$ aws autoscaling put-scheduled-update-group-action --region ap-southeast-2 --output json --auto-scaling-group-name AWS_tools_SG --scheduled-action-name scale_in --recurrence \"12 0 * * *\" --min-size 0 --max-size 0\n\n\n\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u78ba\u8a8d\n$ aws autoscaling describe-scheduled-actions --region ap-southeast-2\n\n\n\n\u767b\u9332\u3092\u524a\u9664\u3057\u305f\u3044\u6642\naws autoscaling delete-scheduled-action --auto-scaling-group-name AWS_tools_SG --scheduled-action-name scale_out --region ap-southeast-2\n\n\u3042\u3068\u306f\u3001scale_out\u306e\u6642\u9593\u306b\u306a\u3063\u305f\u3089\uff11\u53f0\u8d77\u52d5\u3057\u3066\u3001scale_in\u306e\u6642\u9593\u306b0\u53f0\u306b\u306a\u308b\u3002\n[EC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u696d\u52d9\u6642\u9593\u3060\u3051\u81ea\u52d5\u8d77\u52d5\u3059\u308b\u51e6\u7406\u3092AWS SDK for PHP 2\u3067\u4f5c\u6210\u3059\u308b](http://qiita.com/shojimotio/items/0fe9e81da40524ffafc0)\u3067\u4f5c\u6210\u3057\u305f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u81ea\u8eab\u3092\uff11\u6642\u9593\u3060\u3051\u7acb\u3061\u4e0a\u3052\u305f\u3089\u7bc0\u7d04\u306b\u306a\u308b\u306e\u3067\u306f\uff1f\uff1f\n\u2192\u305d\u308c[CDP:Scheduled Autoscaling\u30d1\u30bf\u30fc\u30f3](http://aws.clouddesignpattern.org/index.php/CDP:Scheduled_Autoscaling%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3)\u3067\u3067\u304d\u308b\u3088\n\n# \u81ea\u52d5\u8d77\u52d5\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306eAMI\u3092\u4f5c\u6210\u3059\u308b\n\n1. \u30b5\u30fc\u30d3\u30b9\u2192EC2\u2192\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u2192\u81ea\u52d5\u8d77\u52d5\u51e6\u7406\u5b9f\u884c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u9078\u629e\u2192\u30a2\u30af\u30b7\u30e7\u30f3\u2192\u30a4\u30e1\u30fc\u30b8\u2192\u30a4\u30e1\u30fc\u30b8\u4f5c\u6210\n1. \u30a4\u30e1\u30fc\u30b8\u540d\uff1aAWS_tools\u2192\u518d\u8d77\u52d5\u3057\u306a\u3044\u306b\u30c1\u30a7\u30c3\u30af\u2192\u30a4\u30e1\u30fc\u30b8\u306e\u4f5c\u6210\n\n# Auto Scaling \u8d77\u52d5\u8a2d\u5b9a\u3092\u4f5c\u6210\u3059\u308b\n\n1. \u8d77\u52d5\u8a2d\u5b9a\u2192\u8d77\u52d5\u8a2d\u5b9a\u306e\u4f5c\u6210\n2. \u30de\u30a4 AMI\u2192AWS_tools\u3092\u9078\u629e\u2192t2.micro\n3. \u8d77\u52d5\u8a2d\u5b9a\u306e\u4f5c\u6210\u3067IAM \u30ed\u30fc\u30eb\u9078\u629e [AWS SDK for PHP 2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3001\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u52d5\u304b\u3059](http://qiita.com/shojimotio/items/4af616ce0fbc66c07524)\u3067\u4f5c\u6210\u3057\u305f**AutoStart**\u3092\u9078\u629e\n4. \u6b8b\u308a\u306e\u9805\u76ee\u3092\u30dd\u30c1\u30dd\u30c1\u62bc\u3057\u3066\u4f5c\u6210\n\n# Auto Scaling \u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3059\u308b\n\n1. \u3053\u306e\u8d77\u52d5\u8a2d\u5b9a\u3092\u4f7f\u7528\u3057\u3066Auto Scaling\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3059\u308b\u3092\u62bc\u3059\n1\uff0e\u30b0\u30eb\u30fc\u30d7\u540d\uff1aAWS_tools_SG\n1. \u30b0\u30eb\u30fc\u30d7\u30b5\u30a4\u30ba\uff1a\u958b\u59cb\u6642 0 \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\n2. \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\uff1a\u30c7\u30d5\u30a9\u30eb\u30c8\u2192\u30b5\u30d6\u30cd\u30c3\u30c8\uff1aAZ\u306e\u3069\u308c\u3067\u3082\u3044\u3044\u306e\u3067\u9078\u629e\n3. \u3053\u306e\u30b0\u30eb\u30fc\u30d7\u3092\u521d\u671f\u306e\u30b5\u30a4\u30ba\u306b\u7dad\u6301\u3059\u308b\u306b\u30c1\u30a7\u30c3\u30af\n4. \u30bf\u30b0Name:AWS_tools_scheduled\u3068\u8a2d\u5b9a\u3002\u8d77\u52d5\u6642\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d\u306b\u306a\u308b\n\n# AWS CLI \u3092\u4f7f\u7528\u3057\u3066\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u306e\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u4f5c\u6210\u3059\u308b\n\n\u81ea\u52d5\u8d77\u52d5\u51e6\u7406\u3092\u5b9f\u884c\u3059\u308b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u306fIAM Role\u304c\u4ed8\u4e0e\u3057\u3066\u3042\u3063\u3066\u3001Auto Scalling\u306e\u6a29\u9650\u3082\u3042\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u64cd\u4f5c\u3059\u308b\n\n## \u5b9f\u884c\u3067\u304d\u308b\u30b3\u30de\u30f3\u30c9\n\n```\n$ aws autoscaling cmd\nusage: aws [options] <command> <subcommand> [parameters]\naws: error: argument operation: Invalid choice, valid choices are:\n\nattach-instances                         | complete-lifecycle-action\ncreate-auto-scaling-group                | create-launch-configuration\ncreate-or-update-tags                    | delete-auto-scaling-group\ndelete-launch-configuration              | delete-lifecycle-hook\ndelete-notification-configuration        | delete-policy\ndelete-scheduled-action                  | delete-tags\ndescribe-account-limits                  | describe-adjustment-types\ndescribe-auto-scaling-groups             | describe-auto-scaling-instances\ndescribe-auto-scaling-notification-types | describe-launch-configurations\ndescribe-lifecycle-hook-types            | describe-lifecycle-hooks\ndescribe-metric-collection-types         | describe-notification-configurations\ndescribe-policies                        | describe-scaling-activities\ndescribe-scaling-process-types           | describe-scheduled-actions\ndescribe-tags                            | describe-termination-policy-types\ndetach-instances                         | disable-metrics-collection\nenable-metrics-collection                | enter-standby\nexecute-policy                           | exit-standby\nput-lifecycle-hook                       | put-notification-configuration\nput-scaling-policy                       | put-scheduled-update-group-action\nrecord-lifecycle-action-heartbeat        | resume-processes\nset-desired-capacity                     | set-instance-health\nsuspend-processes                        | terminate-instance-in-auto-scaling-group\nupdate-auto-scaling-group                | help\n```\n\n## \u30b9\u30b1\u30fc\u30eb\u30b0\u30eb\u30fc\u30d7\u78ba\u8a8d\n\n```\n$ aws autoscaling describe-auto-scaling-groups --region ap-southeast-2\n```\n\n## \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3092\u767b\u9332\n\n```\nUTC 23:13(JST 8:13)\u306b1\u53f0\u8d77\u52d5\u3059\u308b\u8a2d\u5b9a\u306b\u3059\u308b\n$ aws autoscaling put-scheduled-update-group-action --region ap-southeast-2 --output json --auto-scaling-group-name AWS_tools_SG --scheduled-action-name scale_out --recurrence \"13 23 * * *\" --min-size 1 --max-size 1\n\n\nUTC 0:12(JST 9:12)\u306b0\u53f0\u8d77\u52d5\u3059\u308b\u8a2d\u5b9a\u306b\u3059\u308b\u3002\u3064\u307e\u308aTerminate\u3055\u308c\u308b\u3002\n$ aws autoscaling put-scheduled-update-group-action --region ap-southeast-2 --output json --auto-scaling-group-name AWS_tools_SG --scheduled-action-name scale_in --recurrence \"12 0 * * *\" --min-size 0 --max-size 0\n```\n\n## \u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u78ba\u8a8d\n\n```\n$ aws autoscaling describe-scheduled-actions --region ap-southeast-2\n\n```\n\n## \u767b\u9332\u3092\u524a\u9664\u3057\u305f\u3044\u6642\n\n```\naws autoscaling delete-scheduled-action --auto-scaling-group-name AWS_tools_SG --scheduled-action-name scale_out --region ap-southeast-2\n```\n\n\u3042\u3068\u306f\u3001scale_out\u306e\u6642\u9593\u306b\u306a\u3063\u305f\u3089\uff11\u53f0\u8d77\u52d5\u3057\u3066\u3001scale_in\u306e\u6642\u9593\u306b0\u53f0\u306b\u306a\u308b\u3002\n", "tags": ["AWS", "AutoScaling", "EC2", "aws-cli", "AWS_SDK"]}