{"context": "\n\n\u306f\u3058\u3081\u306b\n\u3000\u691c\u8a3c\u7528SSL\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3059\u308b\u969b\u3001\u3064\u3044\u5358\u7d14\u306a\u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8\u3067\u6e08\u307e\u305b\u304c\u3061\u3067\u3059\u3002\u3057\u304b\u3057\u672c\u756a\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306b\u5b9f\u969b\u306eSSL\u8a3c\u660e\u66f8\u3092\u5546\u7528CA\u304b\u3089\u53d6\u5f97\u3059\u308b\u3068\u3001\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3084\u4e2d\u9593\u8a3c\u660e\u66f8\u306e\u6271\u3044\u306b\u6238\u60d1\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\u3000\u3053\u3053\u3067\u306fSymantec\uff08\u65e7VeriSign\uff09\u306eCA\u306b\u5023\u3044\u3001\u8907\u6570\u306e\u968e\u5c64\u69cb\u9020\u3092\u6301\u3064CA\u304b\u3089\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001WEB\u30b5\u30fc\u30d0\u306b\u914d\u7f6e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nCA\u306e\u968e\u5c64\u69cb\u9020\n\nSymantec \u306e\u8a3c\u660e\u66f8\u968e\u5c64\u69cb\u9020\u3092\u78ba\u8a8d\u3059\u308b\nSymantec(\u65e7VeriSign)\u306e\u8a3c\u660e\u66f8\u968e\u5c64\u69cb\u9020\u306f\u4e0b\u8a18\u306e\u30ea\u30f3\u30af\u306b\u3042\u308a\u307e\u3059\u3002\nhttps://www.jp.websecurity.symantec.com/repository/hierarchy/hierarchy.pdf\n\u300c\u30eb\u30fc\u30c8\u8a8d\u8a3c\u5c40\u300d\u304c2\u3064\u3042\u308b\u306e\u304c\u7279\u5fb4\u3067\u3059\u306d\u3002\n\u3000\u73fe\u5728\u6d41\u901a\u3057\u3066\u3044\u308b\u30d6\u30e9\u30a6\u30b6\u3084\u7aef\u672b\u306b\u306f\u3001\u300cVeriSign Class 3 Public Primary Certification Authority - G5 (\u4e0b\u56f3\u306eCA2)\u300d\u306e\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u304c\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u53e4\u3044\u7aef\u672b\u3084\u30d6\u30e9\u30a6\u30b6\u306f\u300cClass 3 Public Primary Certification Authority (\u4e0b\u56f3\u306eCA1)\u300d\u306e\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u307f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u7f72\u540d\u691c\u8a3c\u30d1\u30b9\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u300c\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a2d\u5b9a\u7528\u8a3c\u660e\u66f8\u300d\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\n\u4eca\u56de\u4f5c\u6210\u3059\u308b\u30aa\u30ec\u30aa\u30ecCA\u30fbSSL\u8a3c\u660e\u66f8\n\u3000\u5b9f\u969b\u306b\u4f5c\u6210\u3059\u308b\u30aa\u30ec\u30aa\u30ecCA\u30fbSSL\u8a3c\u660e\u66f8\u306e\u69cb\u6210\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3000\u5148\u307b\u3069\u306e\u56f3\u3067\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u8a3c\u660e\u66f8\u306e\u7f72\u540d\u3092\u884c\u3046\u524d\u306b\u5fc5\u8981\u306a\u30d7\u30ed\u30bb\u30b9\uff08\u79d8\u5bc6\u9375\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42(CSR)\u306e\u751f\u6210\uff09\u306b\u3064\u3044\u3066\u3082\u4e0b\u8a18\u306e\u56f3\u3067\u306f\u660e\u8a18\u3057\u3066\u3044\u307e\u3059\u3002\n\n\n\u30aa\u30ec\u30aa\u30ecCA\u306e\u4f5c\u6210\n\u3000\u4ee5\u964d\u3067\u8907\u6570\u306eCA\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u304c\u3001\u5404CA\u306e\u5f79\u5272\u3092\u660e\u78ba\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u79d8\u5bc6\u9375\u306e\u751f\u6210\u6642\u306bPass Phrase\u3092\u305d\u308c\u305e\u308c\u306eCA\u6bce\u306b\u5909\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\u305d\u306e\u4ed6\u306e\u4e3b\u306a\u4ed5\u69d8\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\n\n\ndir\nCommon Name (CN)\nPass Phrase\nKey Size\nSignature Algorithm\n\n\n\n\nCA1\nOREORE Legacy Root CA\nCA1CA1\n1024 bit\nSHA-1\n\n\nCA2\nOREORE Root CA\nCA2CA2\n2048 bit\nSHA-1\n\n\nCA3\nOREORE Intermediate CA\nCA3CA3\n2048 bit\nSHA-1\n\n\nSERVER\nwww.example.com\nSERVER\n2048 bit\nSHA-1\n\n\n\n\u3042\u3048\u3066\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306fSHA-2\u306b\u305b\u305a\u3001\u3044\u3064\u304b\u79fb\u884c\u4f5c\u696d\u3092\u8a66\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nCA1 (OREORE Legacy Root CA) \u306e\u69cb\u7bc9\n\u3000\uff08\u53e4\u3044\uff09\u30eb\u30fc\u30c8\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n\n\u30b9\u30af\u30ea\u30d7\u30c8(CA1.sh)\u306e\u6e96\u5099\n[yoshi@peach CA]$ mkdir CA1\n[yoshi@peach CA]$ cp /etc/pki/tls/misc/CA CA1.sh\n[yoshi@peach CA]$ vi CA1.sh\n[yoshi@peach CA]$ cat CA1.sh \n(\u7565)\nCADAYS=\"-days 1095\"     # 3 years\nCATOP=./CA1 \u25a0\u25a0\u25a0 \u8ffd\u52a0\nSSLEAY_CONFIG=\"-config CA1.cnf\" \u25a0\u25a0\u25a0 \u8ffd\u52a0\nREQ=\"$OPENSSL req $SSLEAY_CONFIG\"\n(\u7565)\n\n\nopenssl \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(CA1.cnf)\u306e\u6e96\u5099\n\u3000Symantec\u306eClassPCA G1\u306f1024bit\u306e\u305f\u3081\u3001\u305d\u308c\u306b\u5023\u3044\u307e\u3059\u3002\n[yoshi@peach CA]$ cp /etc/pki/tls/openssl.cnf CA1.cnf\n[yoshi@peach CA]$ vi CA1.cnf\n[yoshi@peach CA]$ cat CA1.cnf\n(\u7565)\n# dir           = /etc/pki/CA           # Where everything is kept \u25a0\u25a0\u25a0 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ndir           = ./CA1 \u25a0\u25a0\u25a0 \u8ffd\u52a0\n(\u7565)\n# default_bits          = 2048 \u25a0\u25a0\u25a0 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ndefault_bits          = 1024 \u25a0\u25a0\u25a0 \u8ffd\u52a0\n(\u7565)\n[yoshi@peach CA]$\n\n\nCA1\u306e\u4f5c\u6210\n\u3000\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3001\u79d8\u5bc6\u9375\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3001\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u3001CA\u306b\u5fc5\u8981\u306a\u30d5\u30a9\u30eb\u30c0\u3092\u4e00\u6c17\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ ./CA1.sh -newca\nCA certificate filename (or enter to create)\n\u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nMaking CA certificate ...\nGenerating a 1024 bit RSA private key\n..........................++++++\n.............++++++\nwriting new private key to 'CA1/private/./cakey.pem'\nEnter PEM pass phrase: \u25a0\u25a0\u25a0 CA1\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA1CA1]\nVerifying - Enter PEM pass phrase: \u25a0\u25a0\u25a0 CA1\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA1CA1]\n-----\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP \u25a0\u25a0\u25a0 \u5165\u529b\nState or Province Name (full name) []:Tokyo \u25a0\u25a0\u25a0 \u5165\u529b\nLocality Name (eg, city) [Default City]:Chuo-ku \u25a0\u25a0\u25a0 \u5165\u529b\nOrganization Name (eg, company) [Default Company Ltd]:OREORE Co.LTD \u25a0\u25a0\u25a0 \u5165\u529b\nOrganizational Unit Name (eg, section) []: \u25a0\u25a0\u25a0 \u5165\u529b\nCommon Name (eg, your name or your server's hostname) []:OREORE Legacy Root CA \u25a0\u25a0\u25a0 Common Name (CN) \u3092\u5165\u529b\nEmail Address []: \u25a0\u25a0\u25a0 \u5165\u529b\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []: \u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nAn optional company name []: \u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nUsing configuration from CA1.cnf\nEnter pass phrase for CA1/private/./cakey.pem: \u25a0\u25a0\u25a0 CA1\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA1CA1]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 11061549544609770145 (0x998284b447d96aa1)\n        Validity\n            Not Before: Feb  8 19:08:01 2015 GMT\n            Not After : Feb  7 19:08:01 2018 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Legacy Root CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                C8:83:40:67:2F:F6:33:C0:6A:6C:32:7E:1A:78:05:70:C1:96:BA:7A\n            X509v3 Authority Key Identifier:\n                keyid:C8:83:40:67:2F:F6:33:C0:6A:6C:32:7E:1A:78:05:70:C1:96:BA:7A\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  7 19:08:01 2018 GMT (1095 days)\n\nWrite out database with 1 new entries\nData Base Updated\n[yoshi@peach CA]$\n\n\nCA1 \u4f5c\u6210\u7d50\u679c\n\n\n\n\u5185\u5bb9\nFilename\n\n\n\n\nCA1 \u79d8\u5bc6\u9375\nCA1/private/cakey.pm\n\n\nCA1 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\nCA1/careq.pem\n\n\nCA1 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\uff09\nCA1/cacert.pem\n\n\n\n\nCA2 (OREORE Root CA) \u306e\u4f5c\u6210\n\u3000\uff08\u73fe\u5728\u306e\uff09\u30eb\u30fc\u30c8\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n\u3000CA1\u3068\u540c\u69d8\u306e\u624b\u9806\u3067\u3059\u304c\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u81ea\u52d5\u751f\u6210\u3055\u308c\u308b\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8(cacert.pem)\u3068\u306f\u5225\u306b\u3001CA1\u3067\u7f72\u540d\u3092\u884c\u3063\u305f\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30b9\u30af\u30ea\u30d7\u30c8(CA2.sh)\u306e\u6e96\u5099\n[yoshi@peach CA]$ cp /etc/pki/tls/misc/CA CA2.sh\n[yoshi@peach CA]$ vi CA2.sh\n[yoshi@peach CA]$ cat CA2.sh\n\uff08\u7565\uff09\nCADAYS=\"-days 1095\"     # 3 years\nCATOP=./CA2 \u25a0\u25a0\u25a0 \u8ffd\u52a0\nSSLEAY_CONFIG=\"-config CA2.cnf\" \u25a0\u25a0\u25a0 \u8ffd\u52a0\nREQ=\"$OPENSSL req $SSLEAY_CONFIG\"\n\uff08\u7565\uff09\n\n\nopenssl \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(CA2.cnf)\u306e\u6e96\u5099\nSymantec\u306eClassPCA G5\u306f2048bit\u306e\u305f\u3081\u3001\u9375\u9577\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u5909\u66f4\u3057\u307e\u305b\u3093\u3002\n[yoshi@peach CA]$ cp /etc/pki/tls/openssl.cnf CA2.cnf\n[yoshi@peach CA]$ vi CA2.cnf\n[yoshi@peach CA]$ cat CA2.cnf\n(\u7565)\n# dir           = /etc/pki/CA           # Where everything is kept \u25a0\u25a0\u25a0 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ndir           = ./CA2 \u25a0\u25a0\u25a0 \u8ffd\u52a0\n(\u7565)\n[yoshi@peach CA]$\n\n\nCA2\u306e\u4f5c\u6210\n\u3000\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3001\u79d8\u5bc6\u9375\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3001\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u3001CA\u306b\u5fc5\u8981\u306a\u30d5\u30a9\u30eb\u30c0\u3092\u4e00\u6c17\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ ./CA2.sh -newca\nCA certificate filename (or enter to create)\n\u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nMaking CA certificate ...\nGenerating a 2048 bit RSA private key\n...............................+++\n.........+++\nwriting new private key to './CA2/private/./cakey.pem'\nEnter PEM pass phrase: \u25a0\u25a0\u25a0 CA2\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA2CA2]\nVerifying - Enter PEM pass phrase: \u25a0\u25a0\u25a0 CA2\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA2CA2]\n-----\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP \u25a0\u25a0\u25a0 \u5165\u529b\nState or Province Name (full name) []:Tokyo \u25a0\u25a0\u25a0 \u5165\u529b\nLocality Name (eg, city) [Default City]:Chuo-ku \u25a0\u25a0\u25a0 \u5165\u529b\nOrganization Name (eg, company) [Default Company Ltd]:OREORE Co.LTD \u25a0\u25a0\u25a0 \u5165\u529b\nOrganizational Unit Name (eg, section) []: \u25a0\u25a0\u25a0 \u5165\u529b\nCommon Name (eg, your name or your server's hostname) []:OREORE Root CA \u25a0\u25a0\u25a0 Common Name (CN) \u3092\u5165\u529b\nEmail Address []: \u25a0\u25a0\u25a0 \u5165\u529b\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []: \u25a0\u25a0\u25a0 \u5165\u529b\nAn optional company name []: \u25a0\u25a0\u25a0 \u5165\u529b\nUsing configuration from CA2.cnf\nEnter pass phrase for ./CA2/private/./cakey.pem: \u25a0\u25a0\u25a0 CA2\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA2CA2]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 10137276246855856305 (0x8caed70973d930b1)\n        Validity\n            Not Before: Feb  9 15:41:50 2015 GMT\n            Not After : Feb  8 15:41:50 2018 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Root CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                E4:DB:9E:B7:D3:8A:D8:32:D8:65:86:7D:14:7A:21:69:11:59:E8:6E\n            X509v3 Authority Key Identifier:\n                keyid:E4:DB:9E:B7:D3:8A:D8:32:D8:65:86:7D:14:7A:21:69:11:59:E8:6E\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  8 15:41:50 2018 GMT (1095 days)\n\nWrite out database with 1 new entries\nData Base Updated\n[yoshi@peach CA]$\n\n\nCA2 \u8a3c\u660e\u66f8\uff08CA1\u7f72\u540d\u6e08\u307f\uff09\u3092\u4f5c\u6210\u3059\u308b\n\u3000CA2\u81ea\u5df1\u8a3c\u660e\u66f8\u3068\u306f\u5225\u306b\u3001CA1\u304c\u7f72\u540d\u3057\u305fCA2\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Symantec\u306e\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a2d\u5b9a\u7528\u8a3c\u660e\u66f8\u306b\u8a72\u5f53\u3057\u307e\u3059\u3002\n\u3000\u307e\u305a\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4ed5\u69d8\u4e0a\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306enewreq.pem\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ cp CA2/careq.pem newreq.pem\n\n\u3000CA1\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ ./CA1.sh -signCA\nUsing configuration from CA1.cnf\nEnter pass phrase for ./CA1/private/cakey.pem:  \u25a0\u25a0\u25a0 CA1\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA1CA1]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 11061549544609770146 (0x998284b447d96aa2)\n        Validity\n            Not Before: Feb  9 15:49:08 2015 GMT\n            Not After : Feb  9 15:49:08 2016 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            localityName              = Chuo-ku\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Root CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                E4:DB:9E:B7:D3:8A:D8:32:D8:65:86:7D:14:7A:21:69:11:59:E8:6E\n            X509v3 Authority Key Identifier:\n                keyid:C8:83:40:67:2F:F6:33:C0:6A:6C:32:7E:1A:78:05:70:C1:96:BA:7A\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  9 15:49:08 2016 GMT (365 days)\nSign the certificate? [y/n]:y \u25a0\u25a0\u25a0 \u5165\u529b\n\n\n1 out of 1 certificate requests certified, commit? [y/n]y \u25a0\u25a0\u25a0 \u5165\u529b\nWrite out database with 1 new entries\nData Base Updated\nSigned CA certificate is in newcert.pem\n[yoshi@peach CA]$\n\n\u3000\u4f5c\u6210\u3057\u305f\u7f72\u540d\u6e08\u307f\u8a3c\u660e\u66f8\u3092\u79fb\u52d5\u3057\u3001\u4e0d\u8981\u306a\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ mv newcert.pem CA2/cacert_signed_by_CA1.pem\n[yoshi@peach CA]$ rm newreq.pem\n\n\nCA2 \u4f5c\u6210\u7d50\u679c\n\n\n\n\u5185\u5bb9\nFilename\n\n\n\n\nCA2 \u79d8\u5bc6\u9375\nCA2/private/cakey.pm\n\n\nCA2 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\nCA2/careq.pem\n\n\nCA2 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\uff09\nCA2/cacert.pem\n\n\nCA2 \u8a3c\u660e\u66f8\uff08CA1\u304c\u7f72\u540d\uff09\nCA2/cacert_signed_by_C1.pem\n\n\n\n\nCA3 (OREORE Intermediate CA) \u306e\u69cb\u7bc9\n\u3000\u4e2d\u9593\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n\u3000CA1\u3001CA2\u3068\u540c\u69d8\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u308a\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u4f7f\u7528\u305b\u305a\u3001\u4ee3\u308f\u308a\u306bCA2\u3067\u7f72\u540d\u3092\u884c\u3063\u305f\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30b9\u30af\u30ea\u30d7\u30c8\uff08CA3.sh\uff09\u306e\u6e96\u5099\n[yoshi@peach CA]$ cp /etc/pki/tls/misc/CA CA3.sh\n[yoshi@peach CA]$ vi CA3.sh\n[yoshi@peach CA]$ cat CA3.sh\n\uff08\u7565\uff09\nCADAYS=\"-days 1095\"     # 3 years\nCATOP=./CA3 \u25a0\u25a0\u25a0 \u8ffd\u52a0\nSSLEAY_CONFIG=\"-config CA3.cnf\" \u25a0\u25a0\u25a0 \u8ffd\u52a0\nREQ=\"$OPENSSL req $SSLEAY_CONFIG\"\n\uff08\u7565\uff09\n\n\nopenssl \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(CA3.cnf)\u306e\u6e96\u5099\n[yoshi@peach CA]$ cp /etc/pki/tls/openssl.cnf CA3.cnf\n[yoshi@peach CA]$ vi CA3.cnf\n[yoshi@peach CA]$ cat CA3.cnf\n(\u7565)\n# dir           = /etc/pki/CA           # Where everything is kept \u25a0\u25a0\u25a0 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ndir           = ./CA3 \u25a0\u25a0\u25a0 \u8ffd\u52a0\n(\u7565)\n[yoshi@peach CA]$\n\n\nCA3\u306e\u4f5c\u6210\n\u3000\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3001\u79d8\u5bc6\u9375\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3001\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u3001CA\u306b\u5fc5\u8981\u306a\u30d5\u30a9\u30eb\u30c0\u3092\u4e00\u6c17\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\uff08\u305f\u3060\u3057\u3053\u306e\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u3002\uff09\n[yoshi@peach CA]$ ./CA3.sh -newca\nCA certificate filename (or enter to create)\n\nMaking CA certificate ...\nGenerating a 2048 bit RSA private key\n.....................................+++\n...................................+++\nwriting new private key to './CA3/private/./cakey.pem'\nEnter PEM pass phrase:\nVerifying - Enter PEM pass phrase:\n-----\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP\nState or Province Name (full name) []:Tokyo\nLocality Name (eg, city) [Default City]:Chuo-ku\nOrganization Name (eg, company) [Default Company Ltd]:OREORE Co.LTD\nOrganizational Unit Name (eg, section) []:\nCommon Name (eg, your name or your server's hostname) []:OREORE Intermediate CA\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\nUsing configuration from CA3.cnf\nEnter pass phrase for ./CA3/private/./cakey.pem:\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 16205188096025898431 (0xe0e464b6ee032dbf)\n        Validity\n            Not Before: Feb  9 16:16:12 2015 GMT\n            Not After : Feb  8 16:16:12 2018 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Intermediate CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n            X509v3 Authority Key Identifier:\n                keyid:A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  8 16:16:12 2018 GMT (1095 days)\n\nWrite out database with 1 new entries\nData Base Updated\n[yoshi@peach CA]$\n\n\nCA3 \u8a3c\u660e\u66f8\uff08CA2\u7f72\u540d\u6e08\u307f\uff09\u3092\u4f5c\u6210\u3059\u308b\n\u3000\u4f5c\u6210\u3055\u308c\u305f\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306f\u4f7f\u7528\u305b\u305a\u3001\u4ee3\u308f\u308a\u306bCA2\u304c\u7f72\u540d\u3057\u305fCA3\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Symantec\u306e\u4e2d\u9593CA\u8a3c\u660e\u66f8\u306b\u8a72\u5f53\u3057\u307e\u3059\u3002\n\u3000\u307e\u305a\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4ed5\u69d8\u4e0a\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306enewreq.pem\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ cp CA3/careq.pem newreq.pem\n\n\u3000CA2\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ ./CA2.sh -signCA\nUsing configuration from CA2.cnf\nEnter pass phrase for ./CA2/private/cakey.pem: \u25a0\u25a0\u25a0 CA2\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA2CA2]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 10137276246855856306 (0x8caed70973d930b2)\n        Validity\n            Not Before: Feb  9 16:18:33 2015 GMT\n            Not After : Feb  9 16:18:33 2016 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            localityName              = Chuo-ku\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Intermediate CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n            X509v3 Authority Key Identifier:\n                keyid:E4:DB:9E:B7:D3:8A:D8:32:D8:65:86:7D:14:7A:21:69:11:59:E8:6E\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  9 16:18:33 2016 GMT (365 days)\nSign the certificate? [y/n]:y \u25a0\u25a0\u25a0 \u5165\u529b\n\n\n1 out of 1 certificate requests certified, commit? [y/n]y \u25a0\u25a0\u25a0 \u5165\u529b\nWrite out database with 1 new entries\nData Base Updated\nSigned CA certificate is in newcert.pem\n[yoshi@peach CA]$\n\n\u3000\u4f5c\u6210\u3057\u305f\u7f72\u540d\u6e08\u307f\u8a3c\u660e\u66f8\u3092\u79fb\u52d5\u3057\u3001\u4e0d\u8981\u306a\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ mv newcert.pem CA3/cacert_signed_by_C2.pem\n[yoshi@peach CA]$ rm newreq.pem\n[yoshi@peach CA]$\n\n\n\u4e2d\u9593\u8a8d\u8a3c\u5c40\u8a3c\u660e\u66f8\u3092\u4e00\u3064\u306b\u307e\u3068\u3081\u308b\n\u3000\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a2d\u5b9a\u7528\u8a3c\u660e\u66f8\u3068\u4e2d\u9593CA\u8a3c\u660e\u66f8\u306f1\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u304a\u3044\u305f\u307b\u3046\u304c\u6271\u3044\u3084\u3059\u3044\u306e\u3067\u30012\u3064\u306e\u8a3c\u660e\u66f8\u3092\u7d50\u5408\u3057\u307e\u3059\u3002Symantec\u3067\u3082\u7d50\u5408\u3055\u308c\u305f\u4e2d\u9593CA\u8a3c\u660e\u66f8\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n[yoshi@peach CA]$ cat CA2/cacert_signed_by_CA1.pem CA3/cacert_signed_by_C2.pem >> CA3/cacert_intermediate_CA2_CA3.pem\n\n\n\u4f5c\u6210\u7d50\u679c \uff08CA1\uff5eCA3\u306e\u307e\u3068\u3081\uff09\n\n\n\n\u5185\u5bb9\nFilename\n\n\n\n\nCA1 \u79d8\u5bc6\u9375\nCA1/private/cakey.pm\n\n\nCA1 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\nCA1/careq.pem\n\n\nCA1 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\uff09\nCA1/cacert.pem\n\n\nCA2 \u79d8\u5bc6\u9375\nCA2/private/cakey.pm\n\n\nCA2 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\nCA2/careq.pem\n\n\nCA2 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\uff09\nCA2/cacert.pem\n\n\nCA2 \u8a3c\u660e\u66f8\uff08CA1\u304c\u7f72\u540d\uff09\nCA2/cacert_signed_by_C1.pem\n\n\nCA3 \u79d8\u5bc6\u9375\nCA2/private/cakey.pm\n\n\nCA3 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\nCA3/careq.pem\n\n\nCA3 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\u3001\u4f7f\u7528\u3057\u306a\u3044\uff09\nCA3/cacert.pem\n\n\nCA3 \u8a3c\u660e\u66f8\uff08CA2\u304c\u7f72\u540d\uff09\nCA3/cacert_signed_by_C2.pem\n\n\n\u4e2d\u9593CA\u8a3c\u660e\u66f8(CA2, CA3)\nCA3/cacert_intermediate_CA2_CA3.pem\n\n\n\n\n\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n\u3000\u4ee5\u4e0a\u3067\u5168\u3066\u306e\u8a8d\u8a3c\u5c40\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u3053\u307e\u3067\u306fCA\uff08Symantec\uff09\u306e\u4ed5\u4e8b\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u304b\u3089\u306f\u5f79\u5272\u3092\u5909\u3048\u3066\u3001\u30b5\u30fc\u30d0\u7ba1\u7406\u8005\u306e\u7acb\u5834\u3067\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u9014\u4e2d\u3067\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092CA\u306b\u6e21\u3057\u3001CA\u306e\u7acb\u5834\u3067\u7f72\u540d\u3059\u308b\u30b7\u30fc\u30f3\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\u79d8\u5bc6\u9375\u3068\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u306e\u751f\u6210\n\u30b5\u30fc\u30d0\u306e\u79d8\u5bc6\u9375\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ mkdir SERVER\n[yoshi@peach CA]$ openssl genrsa -des3 -out SERVER/server.key 2048\nGenerating RSA private key, 2048 bit long modulus\n......................+++\n............................................................................................................................+++\ne is 65537 (0x10001)\nEnter pass phrase for SERVER/server.key: \u25a0\u25a0\u25a0 SERVER\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [SERVER]\nVerifying - Enter pass phrase for SERVER/server.key: \u25a0\u25a0\u25a0 SERVER\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [SERVER]\n[yoshi@peach CA]$\n\n\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ openssl req -new -key SERVER/server.key -out SERVER/server.csr\nEnter pass phrase for SERVER/server.key: \u25a0\u25a0\u25a0 SERVER\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [SERVER]\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP \u25a0\u25a0\u25a0 \u5165\u529b\nState or Province Name (full name) []:Tokyo \u25a0\u25a0\u25a0 \u5165\u529b\nLocality Name (eg, city) [Default City]:Chuo-ku \u25a0\u25a0\u25a0 \u5165\u529b\nOrganization Name (eg, company) [Default Company Ltd]:Example Co.Ltd \u25a0\u25a0\u25a0 \u5165\u529b\nOrganizational Unit Name (eg, section) []: \u25a0\u25a0\u25a0 \u5165\u529b\nCommon Name (eg, your name or your server's hostname) []:www.example.com \u25a0\u25a0\u25a0 \u5165\u529b\nEmail Address []: \u25a0\u25a0\u25a0 \u5165\u529b\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []: \u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nAn optional company name []: \u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\n[yoshi@peach CA]$\n\n\nCA3\u306b\u3088\u308a\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u306b\u7f72\u540d\u3059\u308b\n\u3000\u3053\u3053\u3067\u518d\u5ea6CA\uff08Symantec\uff09\u306e\u7acb\u5834\u306b\u306a\u308a\u3001\u30b5\u30fc\u30d0\u7ba1\u7406\u8005\u304c\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u306b\u7f72\u540d\u3057\u3001\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\u3000\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4ed5\u69d8\u4e0a\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306enewreq.pem\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ cp SERVER/server.csr newreq.pem\n\n\u3000CA3\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ ./CA3.sh -sign\nUsing configuration from CA3.cnf\nEnter pass phrase for ./CA3/private/cakey.pem: \u25a0\u25a0\u25a0 CA3\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA3CA3]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 16205188096025898432 (0xe0e464b6ee032dc0)\n        Validity\n            Not Before: Feb  9 17:13:30 2015 GMT\n            Not After : Feb  9 17:13:30 2016 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            localityName              = Chuo-ku\n            organizationName          = Example Co.Ltd\n            commonName                = www.example.com\n        X509v3 extensions:\n            X509v3 Basic Constraints:\n                CA:FALSE\n            Netscape Comment:\n                OpenSSL Generated Certificate\n            X509v3 Subject Key Identifier:\n                5C:BE:31:CB:84:3E:51:D0:8F:D6:90:B3:2B:7F:88:91:99:F2:1F:D4\n            X509v3 Authority Key Identifier:\n                keyid:A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n\nCertificate is to be certified until Feb  9 17:13:30 2016 GMT (365 days)\nSign the certificate? [y/n]:y \u25a0\u25a0\u25a0 \u5165\u529b\n\n\n1 out of 1 certificate requests certified, commit? [y/n]y \u25a0\u25a0\u25a0 \u5165\u529b\nWrite out database with 1 new entries\nData Base Updated\nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number: 16205188096025898432 (0xe0e464b6ee032dc0)\n    Signature Algorithm: sha1WithRSAEncryption\n        Issuer: C=JP, ST=Tokyo, O=OREORE Co.LTD, CN=OREORE Intermediate CA\n        Validity\n            Not Before: Feb  9 17:13:30 2015 GMT\n            Not After : Feb  9 17:13:30 2016 GMT\n        Subject: C=JP, ST=Tokyo, L=Chuo-ku, O=Example Co.Ltd, CN=www.example.com\n        Subject Public Key Info:\n            Public Key Algorithm: rsaEncryption\n                Public-Key: (2048 bit)\n                Modulus:\n                    00:e1:a9:30:b5:08:d2:38:b3:c4:6a:e8:bb:4b:07:\n                    e7:5b:60:fe:ce:7d:ce:66:70:59:67:ee:be:ba:47:\n                    a4:b0:77:bd:dd:b8:32:1c:a9:76:ea:37:10:06:e5:\n                    18:4f:10:0a:91:94:98:80:d0:a6:d7:52:b0:6c:2a:\n                    bc:c9:d1:43:7e:46:78:75:c3:2e:d6:5e:b9:2f:33:\n                    9c:4f:6e:b3:81:b5:01:13:93:b2:54:20:a5:75:94:\n                    06:35:80:03:39:4c:0a:39:a0:ea:7a:11:be:8a:0e:\n                    f1:42:51:70:24:08:0a:af:5c:dc:44:81:f6:44:61:\n                    31:c6:14:5f:1c:50:15:43:0d:94:f5:25:9a:19:8a:\n                    8a:7e:45:63:09:50:63:93:52:aa:82:35:0e:46:d6:\n                    9c:48:1f:47:99:ce:e4:8b:c1:04:5c:62:60:f0:11:\n                    f7:ef:ca:78:64:b2:0b:6c:a7:cf:cf:cf:72:86:10:\n                    1f:40:1f:be:e6:11:3b:f7:e8:87:e3:fd:1d:41:04:\n                    bc:59:49:bd:02:52:50:37:e3:d1:09:7d:32:a9:ff:\n                    77:ee:14:4d:3e:86:81:7a:8f:aa:59:37:0d:b9:c6:\n                    f6:de:1b:97:a2:43:19:76:67:52:2c:5c:ea:d6:aa:\n                    6a:59:49:24:2f:24:92:6a:ee:65:d0:eb:62:5c:5a:\n                    f0:63\n                Exponent: 65537 (0x10001)\n        X509v3 extensions:\n            X509v3 Basic Constraints:\n                CA:FALSE\n            Netscape Comment:\n                OpenSSL Generated Certificate\n            X509v3 Subject Key Identifier:\n                5C:BE:31:CB:84:3E:51:D0:8F:D6:90:B3:2B:7F:88:91:99:F2:1F:D4\n            X509v3 Authority Key Identifier:\n                keyid:A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n\n    Signature Algorithm: sha1WithRSAEncryption\n         23:b8:14:31:6c:b6:2f:d6:6f:72:ec:0d:8c:57:4c:ae:0a:45:\n         10:e9:08:70:5a:7d:46:fd:29:0a:2c:a9:b2:57:65:da:48:00:\n         39:81:7a:fe:57:54:0e:e9:63:51:ee:9a:b8:99:ae:06:a0:da:\n         54:8a:ad:56:28:88:73:07:39:52:9c:a9:56:e4:ad:52:b5:5a:\n         b6:ea:c2:ad:35:2d:28:3e:a7:7f:b3:a4:8d:42:3e:67:9a:d9:\n         2b:1b:2c:48:b0:4f:03:f9:e9:bd:d3:f8:30:ce:b2:53:bb:f7:\n         f8:ec:c4:58:e8:1f:12:03:80:85:03:03:5e:f1:1b:ed:41:78:\n         c1:9a:14:8d:39:54:b6:7f:9b:91:04:d8:61:2f:05:5c:0f:50:\n         06:ba:04:1d:7f:97:d8:36:85:68:98:49:b2:e0:03:c6:94:15:\n         60:6e:17:31:d7:c6:4f:49:48:63:91:90:9c:75:77:1a:8f:10:\n         d6:71:67:b4:2b:8b:e3:fa:a0:08:d5:e5:47:1f:4b:31:54:59:\n         6f:08:c1:91:81:ba:f3:b4:42:bb:c3:7d:d2:2f:c4:d4:82:0a:\n         9d:49:ff:19:00:7e:07:33:9c:e2:2e:ec:06:fd:3c:bc:82:49:\n         b0:5e:bc:e2:6f:b1:36:4f:24:84:50:2a:71:e0:96:0e:f4:75:\n         31:4d:67:19\n-----BEGIN CERTIFICATE-----\n(\u7565)\n-----END CERTIFICATE-----\nSigned certificate is in newcert.pem\n[yoshi@peach CA]$\n\n\u4f5c\u6210\u3057\u305f\u7f72\u540d\u6e08\u307f\u8a3c\u660e\u66f8\u3092\u79fb\u52d5\u3057\u3001\u4e0d\u8981\u306a\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n[yoshi@peach CA]$ mv newcert.pem SERVER/server.crt\n[yoshi@peach CA]$ rm newreq.pem\n\n\n\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8 \u4f5c\u6210\u7d50\u679c\n\n\n\n\u5185\u5bb9\nFilename\n\n\n\n\nSERVER \u79d8\u5bc6\u9375\nSERVER/server.key\n\n\nSERVER \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\nSERVER/server.req\n\n\nSERVER \u8a3c\u660e\u66f8\uff08CA3\u304c\u7f72\u540d\uff09\nSERVER/server.crt\n\n\n\n# \u306f\u3058\u3081\u306b\n\n\u3000\u691c\u8a3c\u7528SSL\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3059\u308b\u969b\u3001\u3064\u3044\u5358\u7d14\u306a\u30aa\u30ec\u30aa\u30ec\u8a3c\u660e\u66f8\u3067\u6e08\u307e\u305b\u304c\u3061\u3067\u3059\u3002\u3057\u304b\u3057\u672c\u756a\u30b5\u30fc\u30d0\u3092\u69cb\u7bc9\u3059\u308b\u969b\u306b\u5b9f\u969b\u306eSSL\u8a3c\u660e\u66f8\u3092\u5546\u7528CA\u304b\u3089\u53d6\u5f97\u3059\u308b\u3068\u3001\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3084\u4e2d\u9593\u8a3c\u660e\u66f8\u306e\u6271\u3044\u306b\u6238\u60d1\u3063\u3066\u3057\u307e\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u3000\u3053\u3053\u3067\u306fSymantec\uff08\u65e7VeriSign\uff09\u306eCA\u306b\u5023\u3044\u3001\u8907\u6570\u306e\u968e\u5c64\u69cb\u9020\u3092\u6301\u3064CA\u304b\u3089\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3001WEB\u30b5\u30fc\u30d0\u306b\u914d\u7f6e\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n# CA\u306e\u968e\u5c64\u69cb\u9020\n\n## Symantec \u306e\u8a3c\u660e\u66f8\u968e\u5c64\u69cb\u9020\u3092\u78ba\u8a8d\u3059\u308b\n\nSymantec(\u65e7VeriSign)\u306e\u8a3c\u660e\u66f8\u968e\u5c64\u69cb\u9020\u306f\u4e0b\u8a18\u306e\u30ea\u30f3\u30af\u306b\u3042\u308a\u307e\u3059\u3002\nhttps://www.jp.websecurity.symantec.com/repository/hierarchy/hierarchy.pdf\n\n\u300c\u30eb\u30fc\u30c8\u8a8d\u8a3c\u5c40\u300d\u304c2\u3064\u3042\u308b\u306e\u304c\u7279\u5fb4\u3067\u3059\u306d\u3002\n\n\u3000\u73fe\u5728\u6d41\u901a\u3057\u3066\u3044\u308b\u30d6\u30e9\u30a6\u30b6\u3084\u7aef\u672b\u306b\u306f\u3001\u300cVeriSign Class 3 Public Primary Certification Authority - G5 (\u4e0b\u56f3\u306eCA2)\u300d\u306e\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u304c\u30eb\u30fc\u30c8\u8a3c\u660e\u66f8\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u53e4\u3044\u7aef\u672b\u3084\u30d6\u30e9\u30a6\u30b6\u306f\u300cClass 3 Public Primary Certification Authority (\u4e0b\u56f3\u306eCA1)\u300d\u306e\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306e\u307f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u7f72\u540d\u691c\u8a3c\u30d1\u30b9\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u300c\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a2d\u5b9a\u7528\u8a3c\u660e\u66f8\u300d\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n![Symantec_SSL_Cert_Structure.png](https://qiita-image-store.s3.amazonaws.com/0/57856/bddd71f2-03c2-1350-b789-6c1acf340ff4.png)\n\n## \u4eca\u56de\u4f5c\u6210\u3059\u308b\u30aa\u30ec\u30aa\u30ecCA\u30fbSSL\u8a3c\u660e\u66f8\n\n\u3000\u5b9f\u969b\u306b\u4f5c\u6210\u3059\u308b\u30aa\u30ec\u30aa\u30ecCA\u30fbSSL\u8a3c\u660e\u66f8\u306e\u69cb\u6210\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u3000\u5148\u307b\u3069\u306e\u56f3\u3067\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u8a3c\u660e\u66f8\u306e\u7f72\u540d\u3092\u884c\u3046\u524d\u306b\u5fc5\u8981\u306a\u30d7\u30ed\u30bb\u30b9\uff08\u79d8\u5bc6\u9375\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42(CSR)\u306e\u751f\u6210\uff09\u306b\u3064\u3044\u3066\u3082\u4e0b\u8a18\u306e\u56f3\u3067\u306f\u660e\u8a18\u3057\u3066\u3044\u307e\u3059\u3002\n\n![OREORE_SSL_Cert_Structure.png](https://qiita-image-store.s3.amazonaws.com/0/57856/c141ee4c-877e-9921-648c-93522515c36c.png)\n\n# \u30aa\u30ec\u30aa\u30ecCA\u306e\u4f5c\u6210\n\n\u3000\u4ee5\u964d\u3067\u8907\u6570\u306eCA\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u304c\u3001\u5404CA\u306e\u5f79\u5272\u3092\u660e\u78ba\u306b\u3059\u308b\u305f\u3081\u306b\u3001\u79d8\u5bc6\u9375\u306e\u751f\u6210\u6642\u306bPass Phrase\u3092\u305d\u308c\u305e\u308c\u306eCA\u6bce\u306b\u5909\u3048\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u305d\u306e\u4ed6\u306e\u4e3b\u306a\u4ed5\u69d8\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\u3002\n\n|dir        |Common Name (CN)      |Pass Phrase |Key Size |Signature Algorithm |\n|:----------|:---------------------|:-----------|:--------|:-----|\n| CA1       |OREORE Legacy Root CA |CA1CA1      |1024 bit |SHA-1|\n| CA2       |OREORE Root CA        |CA2CA2      |2048 bit |SHA-1|\n| CA3       |OREORE Intermediate CA|CA3CA3      |2048 bit |SHA-1|\n| SERVER    |www.example.com       |SERVER      |2048 bit |SHA-1|\n\n\u3042\u3048\u3066\u7f72\u540d\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306fSHA-2\u306b\u305b\u305a\u3001\u3044\u3064\u304b\u79fb\u884c\u4f5c\u696d\u3092\u8a66\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n## CA1 (OREORE Legacy Root CA) \u306e\u69cb\u7bc9\n\n\u3000\uff08\u53e4\u3044\uff09\u30eb\u30fc\u30c8\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n![CA1.png](https://qiita-image-store.s3.amazonaws.com/0/57856/62459a00-e302-7ae8-cda8-c4d0dd056e7b.png)\n\n\n### \u30b9\u30af\u30ea\u30d7\u30c8(CA1.sh)\u306e\u6e96\u5099\n```\n[yoshi@peach CA]$ mkdir CA1\n[yoshi@peach CA]$ cp /etc/pki/tls/misc/CA CA1.sh\n[yoshi@peach CA]$ vi CA1.sh\n[yoshi@peach CA]$ cat CA1.sh \n(\u7565)\nCADAYS=\"-days 1095\"     # 3 years\nCATOP=./CA1 \u25a0\u25a0\u25a0 \u8ffd\u52a0\nSSLEAY_CONFIG=\"-config CA1.cnf\" \u25a0\u25a0\u25a0 \u8ffd\u52a0\nREQ=\"$OPENSSL req $SSLEAY_CONFIG\"\n(\u7565)\n```\n\n### openssl \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(CA1.cnf)\u306e\u6e96\u5099\n\u3000Symantec\u306eClassPCA G1\u306f1024bit\u306e\u305f\u3081\u3001\u305d\u308c\u306b\u5023\u3044\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ cp /etc/pki/tls/openssl.cnf CA1.cnf\n[yoshi@peach CA]$ vi CA1.cnf\n[yoshi@peach CA]$ cat CA1.cnf\n(\u7565)\n# dir           = /etc/pki/CA           # Where everything is kept \u25a0\u25a0\u25a0 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ndir           = ./CA1 \u25a0\u25a0\u25a0 \u8ffd\u52a0\n(\u7565)\n# default_bits          = 2048 \u25a0\u25a0\u25a0 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ndefault_bits          = 1024 \u25a0\u25a0\u25a0 \u8ffd\u52a0\n(\u7565)\n[yoshi@peach CA]$\n```\n\n### CA1\u306e\u4f5c\u6210\n\n\u3000\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3001\u79d8\u5bc6\u9375\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3001\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u3001CA\u306b\u5fc5\u8981\u306a\u30d5\u30a9\u30eb\u30c0\u3092\u4e00\u6c17\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ ./CA1.sh -newca\nCA certificate filename (or enter to create)\n\u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nMaking CA certificate ...\nGenerating a 1024 bit RSA private key\n..........................++++++\n.............++++++\nwriting new private key to 'CA1/private/./cakey.pem'\nEnter PEM pass phrase: \u25a0\u25a0\u25a0 CA1\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA1CA1]\nVerifying - Enter PEM pass phrase: \u25a0\u25a0\u25a0 CA1\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA1CA1]\n-----\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP \u25a0\u25a0\u25a0 \u5165\u529b\nState or Province Name (full name) []:Tokyo \u25a0\u25a0\u25a0 \u5165\u529b\nLocality Name (eg, city) [Default City]:Chuo-ku \u25a0\u25a0\u25a0 \u5165\u529b\nOrganization Name (eg, company) [Default Company Ltd]:OREORE Co.LTD \u25a0\u25a0\u25a0 \u5165\u529b\nOrganizational Unit Name (eg, section) []: \u25a0\u25a0\u25a0 \u5165\u529b\nCommon Name (eg, your name or your server's hostname) []:OREORE Legacy Root CA \u25a0\u25a0\u25a0 Common Name (CN) \u3092\u5165\u529b\nEmail Address []: \u25a0\u25a0\u25a0 \u5165\u529b\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []: \u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nAn optional company name []: \u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nUsing configuration from CA1.cnf\nEnter pass phrase for CA1/private/./cakey.pem: \u25a0\u25a0\u25a0 CA1\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA1CA1]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 11061549544609770145 (0x998284b447d96aa1)\n        Validity\n            Not Before: Feb  8 19:08:01 2015 GMT\n            Not After : Feb  7 19:08:01 2018 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Legacy Root CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                C8:83:40:67:2F:F6:33:C0:6A:6C:32:7E:1A:78:05:70:C1:96:BA:7A\n            X509v3 Authority Key Identifier:\n                keyid:C8:83:40:67:2F:F6:33:C0:6A:6C:32:7E:1A:78:05:70:C1:96:BA:7A\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  7 19:08:01 2018 GMT (1095 days)\n\nWrite out database with 1 new entries\nData Base Updated\n[yoshi@peach CA]$\n```\n\n### CA1 \u4f5c\u6210\u7d50\u679c\n\n|\u5185\u5bb9        |Filename|\n|:--------------------|:-----|\n| CA1 \u79d8\u5bc6\u9375           |CA1/private/cakey.pm |\n| CA1 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42       |CA1/careq.pem|\n| CA1 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\uff09       |CA1/cacert.pem|\n\n## CA2 (OREORE Root CA) \u306e\u4f5c\u6210\n\n\u3000\uff08\u73fe\u5728\u306e\uff09\u30eb\u30fc\u30c8\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n![CA2.png](https://qiita-image-store.s3.amazonaws.com/0/57856/18cd93dc-ee97-e87f-6c14-058caefd29ee.png)\n\n\u3000CA1\u3068\u540c\u69d8\u306e\u624b\u9806\u3067\u3059\u304c\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u81ea\u52d5\u751f\u6210\u3055\u308c\u308b\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8(cacert.pem)\u3068\u306f\u5225\u306b\u3001CA1\u3067\u7f72\u540d\u3092\u884c\u3063\u305f\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n### \u30b9\u30af\u30ea\u30d7\u30c8(CA2.sh)\u306e\u6e96\u5099\n\n```\n[yoshi@peach CA]$ cp /etc/pki/tls/misc/CA CA2.sh\n[yoshi@peach CA]$ vi CA2.sh\n[yoshi@peach CA]$ cat CA2.sh\n\uff08\u7565\uff09\nCADAYS=\"-days 1095\"     # 3 years\nCATOP=./CA2 \u25a0\u25a0\u25a0 \u8ffd\u52a0\nSSLEAY_CONFIG=\"-config CA2.cnf\" \u25a0\u25a0\u25a0 \u8ffd\u52a0\nREQ=\"$OPENSSL req $SSLEAY_CONFIG\"\n\uff08\u7565\uff09\n```\n\n### openssl \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(CA2.cnf)\u306e\u6e96\u5099\n\nSymantec\u306eClassPCA G5\u306f2048bit\u306e\u305f\u3081\u3001\u9375\u9577\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u5909\u66f4\u3057\u307e\u305b\u3093\u3002\n\n```\n[yoshi@peach CA]$ cp /etc/pki/tls/openssl.cnf CA2.cnf\n[yoshi@peach CA]$ vi CA2.cnf\n[yoshi@peach CA]$ cat CA2.cnf\n(\u7565)\n# dir           = /etc/pki/CA           # Where everything is kept \u25a0\u25a0\u25a0 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ndir           = ./CA2 \u25a0\u25a0\u25a0 \u8ffd\u52a0\n(\u7565)\n[yoshi@peach CA]$\n```\n\n### CA2\u306e\u4f5c\u6210\n\n\u3000\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3001\u79d8\u5bc6\u9375\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3001\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u3001CA\u306b\u5fc5\u8981\u306a\u30d5\u30a9\u30eb\u30c0\u3092\u4e00\u6c17\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ ./CA2.sh -newca\nCA certificate filename (or enter to create)\n\u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nMaking CA certificate ...\nGenerating a 2048 bit RSA private key\n...............................+++\n.........+++\nwriting new private key to './CA2/private/./cakey.pem'\nEnter PEM pass phrase: \u25a0\u25a0\u25a0 CA2\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA2CA2]\nVerifying - Enter PEM pass phrase: \u25a0\u25a0\u25a0 CA2\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA2CA2]\n-----\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP \u25a0\u25a0\u25a0 \u5165\u529b\nState or Province Name (full name) []:Tokyo \u25a0\u25a0\u25a0 \u5165\u529b\nLocality Name (eg, city) [Default City]:Chuo-ku \u25a0\u25a0\u25a0 \u5165\u529b\nOrganization Name (eg, company) [Default Company Ltd]:OREORE Co.LTD \u25a0\u25a0\u25a0 \u5165\u529b\nOrganizational Unit Name (eg, section) []: \u25a0\u25a0\u25a0 \u5165\u529b\nCommon Name (eg, your name or your server's hostname) []:OREORE Root CA \u25a0\u25a0\u25a0 Common Name (CN) \u3092\u5165\u529b\nEmail Address []: \u25a0\u25a0\u25a0 \u5165\u529b\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []: \u25a0\u25a0\u25a0 \u5165\u529b\nAn optional company name []: \u25a0\u25a0\u25a0 \u5165\u529b\nUsing configuration from CA2.cnf\nEnter pass phrase for ./CA2/private/./cakey.pem: \u25a0\u25a0\u25a0 CA2\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA2CA2]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 10137276246855856305 (0x8caed70973d930b1)\n        Validity\n            Not Before: Feb  9 15:41:50 2015 GMT\n            Not After : Feb  8 15:41:50 2018 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Root CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                E4:DB:9E:B7:D3:8A:D8:32:D8:65:86:7D:14:7A:21:69:11:59:E8:6E\n            X509v3 Authority Key Identifier:\n                keyid:E4:DB:9E:B7:D3:8A:D8:32:D8:65:86:7D:14:7A:21:69:11:59:E8:6E\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  8 15:41:50 2018 GMT (1095 days)\n\nWrite out database with 1 new entries\nData Base Updated\n[yoshi@peach CA]$\n```\n\n### CA2 \u8a3c\u660e\u66f8\uff08CA1\u7f72\u540d\u6e08\u307f\uff09\u3092\u4f5c\u6210\u3059\u308b\n\n\u3000CA2\u81ea\u5df1\u8a3c\u660e\u66f8\u3068\u306f\u5225\u306b\u3001CA1\u304c\u7f72\u540d\u3057\u305fCA2\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Symantec\u306e\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a2d\u5b9a\u7528\u8a3c\u660e\u66f8\u306b\u8a72\u5f53\u3057\u307e\u3059\u3002\n\n\u3000\u307e\u305a\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4ed5\u69d8\u4e0a\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306enewreq.pem\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ cp CA2/careq.pem newreq.pem\n```\n\n\u3000CA1\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ ./CA1.sh -signCA\nUsing configuration from CA1.cnf\nEnter pass phrase for ./CA1/private/cakey.pem:  \u25a0\u25a0\u25a0 CA1\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA1CA1]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 11061549544609770146 (0x998284b447d96aa2)\n        Validity\n            Not Before: Feb  9 15:49:08 2015 GMT\n            Not After : Feb  9 15:49:08 2016 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            localityName              = Chuo-ku\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Root CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                E4:DB:9E:B7:D3:8A:D8:32:D8:65:86:7D:14:7A:21:69:11:59:E8:6E\n            X509v3 Authority Key Identifier:\n                keyid:C8:83:40:67:2F:F6:33:C0:6A:6C:32:7E:1A:78:05:70:C1:96:BA:7A\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  9 15:49:08 2016 GMT (365 days)\nSign the certificate? [y/n]:y \u25a0\u25a0\u25a0 \u5165\u529b\n\n\n1 out of 1 certificate requests certified, commit? [y/n]y \u25a0\u25a0\u25a0 \u5165\u529b\nWrite out database with 1 new entries\nData Base Updated\nSigned CA certificate is in newcert.pem\n[yoshi@peach CA]$\n```\n\n\u3000\u4f5c\u6210\u3057\u305f\u7f72\u540d\u6e08\u307f\u8a3c\u660e\u66f8\u3092\u79fb\u52d5\u3057\u3001\u4e0d\u8981\u306a\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ mv newcert.pem CA2/cacert_signed_by_CA1.pem\n[yoshi@peach CA]$ rm newreq.pem\n```\n\n### CA2 \u4f5c\u6210\u7d50\u679c\n\n|\u5185\u5bb9        |Filename|\n|:--------------------|:-----|\n| CA2 \u79d8\u5bc6\u9375           |CA2/private/cakey.pm |\n| CA2 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42     |CA2/careq.pem|\n| CA2 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\uff09 |CA2/cacert.pem|\n| CA2 \u8a3c\u660e\u66f8\uff08CA1\u304c\u7f72\u540d\uff09|CA2/cacert_signed_by_C1.pem|\n\n## CA3 (OREORE Intermediate CA) \u306e\u69cb\u7bc9\n\n\u3000\u4e2d\u9593\u8a8d\u8a3c\u5c40\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n![CA3.png](https://qiita-image-store.s3.amazonaws.com/0/57856/5a395117-87fd-7da0-9453-33cc7d49b87e.png)\n\n\u3000CA1\u3001CA2\u3068\u540c\u69d8\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3088\u308a\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u4f7f\u7528\u305b\u305a\u3001\u4ee3\u308f\u308a\u306bCA2\u3067\u7f72\u540d\u3092\u884c\u3063\u305f\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n### \u30b9\u30af\u30ea\u30d7\u30c8\uff08CA3.sh\uff09\u306e\u6e96\u5099\n\n```\n[yoshi@peach CA]$ cp /etc/pki/tls/misc/CA CA3.sh\n[yoshi@peach CA]$ vi CA3.sh\n[yoshi@peach CA]$ cat CA3.sh\n\uff08\u7565\uff09\nCADAYS=\"-days 1095\"     # 3 years\nCATOP=./CA3 \u25a0\u25a0\u25a0 \u8ffd\u52a0\nSSLEAY_CONFIG=\"-config CA3.cnf\" \u25a0\u25a0\u25a0 \u8ffd\u52a0\nREQ=\"$OPENSSL req $SSLEAY_CONFIG\"\n\uff08\u7565\uff09\n```\n\n### openssl \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(CA3.cnf)\u306e\u6e96\u5099\n\n```\n[yoshi@peach CA]$ cp /etc/pki/tls/openssl.cnf CA3.cnf\n[yoshi@peach CA]$ vi CA3.cnf\n[yoshi@peach CA]$ cat CA3.cnf\n(\u7565)\n# dir           = /etc/pki/CA           # Where everything is kept \u25a0\u25a0\u25a0 \u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\ndir           = ./CA3 \u25a0\u25a0\u25a0 \u8ffd\u52a0\n(\u7565)\n[yoshi@peach CA]$\n```\n\n### CA3\u306e\u4f5c\u6210\n\n\u3000\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u3001\u79d8\u5bc6\u9375\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3001\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u3001CA\u306b\u5fc5\u8981\u306a\u30d5\u30a9\u30eb\u30c0\u3092\u4e00\u6c17\u306b\u4f5c\u6210\u3057\u307e\u3059\u3002\uff08\u305f\u3060\u3057\u3053\u306e\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u3002\uff09\n\n```\n[yoshi@peach CA]$ ./CA3.sh -newca\nCA certificate filename (or enter to create)\n\nMaking CA certificate ...\nGenerating a 2048 bit RSA private key\n.....................................+++\n...................................+++\nwriting new private key to './CA3/private/./cakey.pem'\nEnter PEM pass phrase:\nVerifying - Enter PEM pass phrase:\n-----\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP\nState or Province Name (full name) []:Tokyo\nLocality Name (eg, city) [Default City]:Chuo-ku\nOrganization Name (eg, company) [Default Company Ltd]:OREORE Co.LTD\nOrganizational Unit Name (eg, section) []:\nCommon Name (eg, your name or your server's hostname) []:OREORE Intermediate CA\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\nUsing configuration from CA3.cnf\nEnter pass phrase for ./CA3/private/./cakey.pem:\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 16205188096025898431 (0xe0e464b6ee032dbf)\n        Validity\n            Not Before: Feb  9 16:16:12 2015 GMT\n            Not After : Feb  8 16:16:12 2018 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Intermediate CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n            X509v3 Authority Key Identifier:\n                keyid:A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  8 16:16:12 2018 GMT (1095 days)\n\nWrite out database with 1 new entries\nData Base Updated\n[yoshi@peach CA]$\n```\n\n### CA3 \u8a3c\u660e\u66f8\uff08CA2\u7f72\u540d\u6e08\u307f\uff09\u3092\u4f5c\u6210\u3059\u308b\n\n\u3000\u4f5c\u6210\u3055\u308c\u305f\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u306f\u4f7f\u7528\u305b\u305a\u3001\u4ee3\u308f\u308a\u306bCA2\u304c\u7f72\u540d\u3057\u305fCA3\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002Symantec\u306e[\u4e2d\u9593CA\u8a3c\u660e\u66f8](https://www.jp.websecurity.symantec.com/repository/intermediate/secureserverCAg3.html)\u306b\u8a72\u5f53\u3057\u307e\u3059\u3002\n\n\u3000\u307e\u305a\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4ed5\u69d8\u4e0a\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306enewreq.pem\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ cp CA3/careq.pem newreq.pem\n```\n\n\u3000CA2\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ ./CA2.sh -signCA\nUsing configuration from CA2.cnf\nEnter pass phrase for ./CA2/private/cakey.pem: \u25a0\u25a0\u25a0 CA2\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA2CA2]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 10137276246855856306 (0x8caed70973d930b2)\n        Validity\n            Not Before: Feb  9 16:18:33 2015 GMT\n            Not After : Feb  9 16:18:33 2016 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            localityName              = Chuo-ku\n            organizationName          = OREORE Co.LTD\n            commonName                = OREORE Intermediate CA\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n            X509v3 Authority Key Identifier:\n                keyid:E4:DB:9E:B7:D3:8A:D8:32:D8:65:86:7D:14:7A:21:69:11:59:E8:6E\n\n            X509v3 Basic Constraints:\n                CA:TRUE\nCertificate is to be certified until Feb  9 16:18:33 2016 GMT (365 days)\nSign the certificate? [y/n]:y \u25a0\u25a0\u25a0 \u5165\u529b\n\n\n1 out of 1 certificate requests certified, commit? [y/n]y \u25a0\u25a0\u25a0 \u5165\u529b\nWrite out database with 1 new entries\nData Base Updated\nSigned CA certificate is in newcert.pem\n[yoshi@peach CA]$\n```\n\n\u3000\u4f5c\u6210\u3057\u305f\u7f72\u540d\u6e08\u307f\u8a3c\u660e\u66f8\u3092\u79fb\u52d5\u3057\u3001\u4e0d\u8981\u306a\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ mv newcert.pem CA3/cacert_signed_by_C2.pem\n[yoshi@peach CA]$ rm newreq.pem\n[yoshi@peach CA]$\n```\n\n### \u4e2d\u9593\u8a8d\u8a3c\u5c40\u8a3c\u660e\u66f8\u3092\u4e00\u3064\u306b\u307e\u3068\u3081\u308b\n\n\u3000\u30af\u30ed\u30b9\u30eb\u30fc\u30c8\u8a2d\u5b9a\u7528\u8a3c\u660e\u66f8\u3068\u4e2d\u9593CA\u8a3c\u660e\u66f8\u306f1\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u304a\u3044\u305f\u307b\u3046\u304c\u6271\u3044\u3084\u3059\u3044\u306e\u3067\u30012\u3064\u306e\u8a3c\u660e\u66f8\u3092\u7d50\u5408\u3057\u307e\u3059\u3002Symantec\u3067\u3082[\u7d50\u5408\u3055\u308c\u305f\u4e2d\u9593CA\u8a3c\u660e\u66f8](https://www.jp.websecurity.symantec.com/repository/intermediate/server/sha2_bundled.html)\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ cat CA2/cacert_signed_by_CA1.pem CA3/cacert_signed_by_C2.pem >> CA3/cacert_intermediate_CA2_CA3.pem\n```\n\n### \u4f5c\u6210\u7d50\u679c \uff08CA1\uff5eCA3\u306e\u307e\u3068\u3081\uff09\n\n|\u5185\u5bb9        |Filename|\n|:--------------------|:-----|\n| CA1 \u79d8\u5bc6\u9375           |CA1/private/cakey.pm |\n| CA1 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42       |CA1/careq.pem|\n| CA1 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\uff09       |CA1/cacert.pem|\n| CA2 \u79d8\u5bc6\u9375           |CA2/private/cakey.pm |\n| CA2 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42     |CA2/careq.pem|\n| CA2 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\uff09 |CA2/cacert.pem|\n| CA2 \u8a3c\u660e\u66f8\uff08CA1\u304c\u7f72\u540d\uff09|CA2/cacert_signed_by_C1.pem|\n| CA3 \u79d8\u5bc6\u9375           |CA2/private/cakey.pm |\n| CA3 \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42     |CA3/careq.pem|\n| CA3 \u8a3c\u660e\u66f8\uff08\u81ea\u5df1\u7f72\u540d\u3001\u4f7f\u7528\u3057\u306a\u3044\uff09 |CA3/cacert.pem|\n| CA3 \u8a3c\u660e\u66f8\uff08CA2\u304c\u7f72\u540d\uff09|CA3/cacert_signed_by_C2.pem|\n| \u4e2d\u9593CA\u8a3c\u660e\u66f8(CA2, CA3)|CA3/cacert_intermediate_CA2_CA3.pem|\n\n# \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u4f5c\u6210\n\n\u3000\u4ee5\u4e0a\u3067\u5168\u3066\u306e\u8a8d\u8a3c\u5c40\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u3053\u307e\u3067\u306fCA\uff08Symantec\uff09\u306e\u4ed5\u4e8b\u3060\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u3053\u3053\u304b\u3089\u306f\u5f79\u5272\u3092\u5909\u3048\u3066\u3001\u30b5\u30fc\u30d0\u7ba1\u7406\u8005\u306e\u7acb\u5834\u3067\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u9014\u4e2d\u3067\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092CA\u306b\u6e21\u3057\u3001CA\u306e\u7acb\u5834\u3067\u7f72\u540d\u3059\u308b\u30b7\u30fc\u30f3\u304c\u3042\u308a\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![SERVER.png](https://qiita-image-store.s3.amazonaws.com/0/57856/6a8887a5-daf3-4f43-ff33-258fe0114613.png)\n\n\n### \u79d8\u5bc6\u9375\u3068\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u306e\u751f\u6210\n\n\u30b5\u30fc\u30d0\u306e\u79d8\u5bc6\u9375\u3092\u751f\u6210\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ mkdir SERVER\n[yoshi@peach CA]$ openssl genrsa -des3 -out SERVER/server.key 2048\nGenerating RSA private key, 2048 bit long modulus\n......................+++\n............................................................................................................................+++\ne is 65537 (0x10001)\nEnter pass phrase for SERVER/server.key: \u25a0\u25a0\u25a0 SERVER\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [SERVER]\nVerifying - Enter pass phrase for SERVER/server.key: \u25a0\u25a0\u25a0 SERVER\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [SERVER]\n[yoshi@peach CA]$\n```\n\n\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ openssl req -new -key SERVER/server.key -out SERVER/server.csr\nEnter pass phrase for SERVER/server.key: \u25a0\u25a0\u25a0 SERVER\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [SERVER]\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [XX]:JP \u25a0\u25a0\u25a0 \u5165\u529b\nState or Province Name (full name) []:Tokyo \u25a0\u25a0\u25a0 \u5165\u529b\nLocality Name (eg, city) [Default City]:Chuo-ku \u25a0\u25a0\u25a0 \u5165\u529b\nOrganization Name (eg, company) [Default Company Ltd]:Example Co.Ltd \u25a0\u25a0\u25a0 \u5165\u529b\nOrganizational Unit Name (eg, section) []: \u25a0\u25a0\u25a0 \u5165\u529b\nCommon Name (eg, your name or your server's hostname) []:www.example.com \u25a0\u25a0\u25a0 \u5165\u529b\nEmail Address []: \u25a0\u25a0\u25a0 \u5165\u529b\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []: \u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\nAn optional company name []: \u25a0\u25a0\u25a0 Enter\u3092\u5165\u529b\n[yoshi@peach CA]$\n```\n\n### CA3\u306b\u3088\u308a\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u306b\u7f72\u540d\u3059\u308b\n\n\u3000\u3053\u3053\u3067\u518d\u5ea6CA\uff08Symantec\uff09\u306e\u7acb\u5834\u306b\u306a\u308a\u3001\u30b5\u30fc\u30d0\u7ba1\u7406\u8005\u304c\u4f5c\u6210\u3057\u305f\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u306b\u7f72\u540d\u3057\u3001\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u3000\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4ed5\u69d8\u4e0a\u3001\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306enewreq.pem\u3068\u3044\u3046\u540d\u524d\u3067\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ cp SERVER/server.csr newreq.pem\n```\n\n\u3000CA3\u3067\u7f72\u540d\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ ./CA3.sh -sign\nUsing configuration from CA3.cnf\nEnter pass phrase for ./CA3/private/cakey.pem: \u25a0\u25a0\u25a0 CA3\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba [CA3CA3]\nCheck that the request matches the signature\nSignature ok\nCertificate Details:\n        Serial Number: 16205188096025898432 (0xe0e464b6ee032dc0)\n        Validity\n            Not Before: Feb  9 17:13:30 2015 GMT\n            Not After : Feb  9 17:13:30 2016 GMT\n        Subject:\n            countryName               = JP\n            stateOrProvinceName       = Tokyo\n            localityName              = Chuo-ku\n            organizationName          = Example Co.Ltd\n            commonName                = www.example.com\n        X509v3 extensions:\n            X509v3 Basic Constraints:\n                CA:FALSE\n            Netscape Comment:\n                OpenSSL Generated Certificate\n            X509v3 Subject Key Identifier:\n                5C:BE:31:CB:84:3E:51:D0:8F:D6:90:B3:2B:7F:88:91:99:F2:1F:D4\n            X509v3 Authority Key Identifier:\n                keyid:A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n\nCertificate is to be certified until Feb  9 17:13:30 2016 GMT (365 days)\nSign the certificate? [y/n]:y \u25a0\u25a0\u25a0 \u5165\u529b\n\n\n1 out of 1 certificate requests certified, commit? [y/n]y \u25a0\u25a0\u25a0 \u5165\u529b\nWrite out database with 1 new entries\nData Base Updated\nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number: 16205188096025898432 (0xe0e464b6ee032dc0)\n    Signature Algorithm: sha1WithRSAEncryption\n        Issuer: C=JP, ST=Tokyo, O=OREORE Co.LTD, CN=OREORE Intermediate CA\n        Validity\n            Not Before: Feb  9 17:13:30 2015 GMT\n            Not After : Feb  9 17:13:30 2016 GMT\n        Subject: C=JP, ST=Tokyo, L=Chuo-ku, O=Example Co.Ltd, CN=www.example.com\n        Subject Public Key Info:\n            Public Key Algorithm: rsaEncryption\n                Public-Key: (2048 bit)\n                Modulus:\n                    00:e1:a9:30:b5:08:d2:38:b3:c4:6a:e8:bb:4b:07:\n                    e7:5b:60:fe:ce:7d:ce:66:70:59:67:ee:be:ba:47:\n                    a4:b0:77:bd:dd:b8:32:1c:a9:76:ea:37:10:06:e5:\n                    18:4f:10:0a:91:94:98:80:d0:a6:d7:52:b0:6c:2a:\n                    bc:c9:d1:43:7e:46:78:75:c3:2e:d6:5e:b9:2f:33:\n                    9c:4f:6e:b3:81:b5:01:13:93:b2:54:20:a5:75:94:\n                    06:35:80:03:39:4c:0a:39:a0:ea:7a:11:be:8a:0e:\n                    f1:42:51:70:24:08:0a:af:5c:dc:44:81:f6:44:61:\n                    31:c6:14:5f:1c:50:15:43:0d:94:f5:25:9a:19:8a:\n                    8a:7e:45:63:09:50:63:93:52:aa:82:35:0e:46:d6:\n                    9c:48:1f:47:99:ce:e4:8b:c1:04:5c:62:60:f0:11:\n                    f7:ef:ca:78:64:b2:0b:6c:a7:cf:cf:cf:72:86:10:\n                    1f:40:1f:be:e6:11:3b:f7:e8:87:e3:fd:1d:41:04:\n                    bc:59:49:bd:02:52:50:37:e3:d1:09:7d:32:a9:ff:\n                    77:ee:14:4d:3e:86:81:7a:8f:aa:59:37:0d:b9:c6:\n                    f6:de:1b:97:a2:43:19:76:67:52:2c:5c:ea:d6:aa:\n                    6a:59:49:24:2f:24:92:6a:ee:65:d0:eb:62:5c:5a:\n                    f0:63\n                Exponent: 65537 (0x10001)\n        X509v3 extensions:\n            X509v3 Basic Constraints:\n                CA:FALSE\n            Netscape Comment:\n                OpenSSL Generated Certificate\n            X509v3 Subject Key Identifier:\n                5C:BE:31:CB:84:3E:51:D0:8F:D6:90:B3:2B:7F:88:91:99:F2:1F:D4\n            X509v3 Authority Key Identifier:\n                keyid:A0:66:52:BC:15:72:0A:37:1A:E3:AA:CD:4A:CA:62:62:D0:90:34:8E\n\n    Signature Algorithm: sha1WithRSAEncryption\n         23:b8:14:31:6c:b6:2f:d6:6f:72:ec:0d:8c:57:4c:ae:0a:45:\n         10:e9:08:70:5a:7d:46:fd:29:0a:2c:a9:b2:57:65:da:48:00:\n         39:81:7a:fe:57:54:0e:e9:63:51:ee:9a:b8:99:ae:06:a0:da:\n         54:8a:ad:56:28:88:73:07:39:52:9c:a9:56:e4:ad:52:b5:5a:\n         b6:ea:c2:ad:35:2d:28:3e:a7:7f:b3:a4:8d:42:3e:67:9a:d9:\n         2b:1b:2c:48:b0:4f:03:f9:e9:bd:d3:f8:30:ce:b2:53:bb:f7:\n         f8:ec:c4:58:e8:1f:12:03:80:85:03:03:5e:f1:1b:ed:41:78:\n         c1:9a:14:8d:39:54:b6:7f:9b:91:04:d8:61:2f:05:5c:0f:50:\n         06:ba:04:1d:7f:97:d8:36:85:68:98:49:b2:e0:03:c6:94:15:\n         60:6e:17:31:d7:c6:4f:49:48:63:91:90:9c:75:77:1a:8f:10:\n         d6:71:67:b4:2b:8b:e3:fa:a0:08:d5:e5:47:1f:4b:31:54:59:\n         6f:08:c1:91:81:ba:f3:b4:42:bb:c3:7d:d2:2f:c4:d4:82:0a:\n         9d:49:ff:19:00:7e:07:33:9c:e2:2e:ec:06:fd:3c:bc:82:49:\n         b0:5e:bc:e2:6f:b1:36:4f:24:84:50:2a:71:e0:96:0e:f4:75:\n         31:4d:67:19\n-----BEGIN CERTIFICATE-----\n(\u7565)\n-----END CERTIFICATE-----\nSigned certificate is in newcert.pem\n[yoshi@peach CA]$\n```\n\n\u4f5c\u6210\u3057\u305f\u7f72\u540d\u6e08\u307f\u8a3c\u660e\u66f8\u3092\u79fb\u52d5\u3057\u3001\u4e0d\u8981\u306a\u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42\u3092\u524a\u9664\u3057\u307e\u3059\u3002\n\n```\n[yoshi@peach CA]$ mv newcert.pem SERVER/server.crt\n[yoshi@peach CA]$ rm newreq.pem\n```\n\n### \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8 \u4f5c\u6210\u7d50\u679c\n\n|\u5185\u5bb9        |Filename|\n|:--------------------|:-----|\n| SERVER \u79d8\u5bc6\u9375           |SERVER/server.key |\n| SERVER \u8a3c\u660e\u66f8\u7f72\u540d\u8981\u6c42     |SERVER/server.req|\n| SERVER \u8a3c\u660e\u66f8\uff08CA3\u304c\u7f72\u540d\uff09|SERVER/server.crt|\n\n\n", "tags": ["SSL", "Apache", "openssl"]}