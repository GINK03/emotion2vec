{"tags": ["PHP", "grunt", "gulp"], "context": " More than 1 year has passed since last update.\u30d5\u30a1\u30a4\u30eb\u5909\u66f4\u3092\u76e3\u8996\u3057\u3066\u3001\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u6700\u8fd1\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3002Grunt\u3068gulp\u304c\u6709\u540d\u3069\u3053\u308d\u3063\u307d\u3044\u3093\u3067\u3059\u304c\u3001PHP\u306e\u958b\u767a\u306b\u3082\u4f75\u7528\u3057\u3066\u4f7f\u3046\u3068\u697d\u3057\u3044\u3067\u3059\u3002\n\u3084\u308a\u305f\u3044\u3053\u3068\u3068\u3057\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u5de5\u7a0b\u3092\u81ea\u52d5\u5316\u3057\u305f\u3044\u308f\u3051\u3067\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u3082\u3063\u3068\u9ad8\u983b\u5ea6\u306bCI\u3092\u56de\u3057\u305f\u3044\u3068\u3044\u3046\u611f\u3058\u3002\n\n\u30d6\u30e9\u30a6\u30b6\u3068\u30a8\u30c7\u30a3\u30bf\u3068\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u6e96\u5099\u3002\n\n\n\u30d6\u30e9\u30a6\u30b6\u306b\u306f http://localhost:9000/ \u306a\u3069\u3067\u30ab\u30d0\u30ec\u30c3\u30b8\u30ec\u30dd\u30fc\u30c8\u3092\u8868\u793a\u3002\n\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u306f\u5e38\u6642PHPUnit\u306e\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u308b\n\u30a8\u30c7\u30a3\u30bf\u306f\u3082\u3061\u308d\u3093\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3068\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f(\u4f55\u3092\u4f7f\u3063\u3066\u3082\u3088\u3044)\n\n\n\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30fb\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u66f8\u3044\u3066\u3001\u4fdd\u5b58\u3059\u308b\n\u30d5\u30a1\u30a4\u30eb\u5909\u66f4\u3092\u691c\u77e5\u3057\u3066\u3001\u81ea\u52d5\u3067phpunit\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\nPHPUnit\u306e\u30ab\u30d0\u30ec\u30c3\u30b8\u30ec\u30dd\u30fc\u30c8(HTML\u7248)\u3092livereload\u3057\u3001\u30c6\u30b9\u30c8\u306e\u8db3\u308a\u306a\u3055\u305d\u3046\u306a\u3068\u3053\u308d\u3092\u901a\u77e5\n\n\u6614\u306f\u30a8\u30c7\u30a3\u30bf\u3092\u9078\u3093\u3060\u308a\u3001\u74b0\u5883\u3092\u9078\u3093\u3060\u308a\u3057\u3066\u7d50\u69cb\u82e6\u52b4\u3057\u3066\u5b9f\u73fe\u3057\u3066\u3044\u305f\u3089\u3057\u3044\u3067\u3059\u304c\u3001\u4eca\u306f\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3061\u3087\u3061\u3087\u3063\u3068\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u3044\u3044\u6642\u4ee3\u306b\u306a\u3063\u305f\u3082\u3093\u3060\u3002\n\u4ee5\u4e0b\u3001PHPUnit\u3084apigen\u306a\u3069\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u7701\u7565\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3061\u3089\u3082\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/spindle/spindle-lib-template\n\nGrunt\n\u307e\u305a\u306fGrunt\u3067\u5b9f\u73fe\u3057\u305f\u3044\u5834\u5408\u3002Grunt\u306f\u3053\u306e\u624b\u306e\u30c4\u30fc\u30eb\u306e\u30d1\u30a4\u30aa\u30cb\u30a2\u7684\u5b58\u5728\u3089\u3057\u3044\u3067\u3059\u304c\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u7169\u96d1\u306b\u306a\u308a\u304c\u3061\u3067\u3001\u5f8c\u767a\u306egulp\u306e\u4eba\u6c17\u306b\u62bc\u3055\u308c\u59cb\u3081\u3066\u3044\u308b\u3068\u304b\u3002\n\u4e0a\u8a18\u3092\u5b9f\u73fe\u3059\u308b\u7a0b\u5ea6\u3067\u3042\u308c\u3070\u3001Grunt\u3067\u3082gulp\u3067\u3082\u3055\u3057\u3066\u624b\u9593\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\nPHP \u958b\u767a\u3067\u3082 Grunt \u3092\u4f7f\u3046 - ng\u306e\u65e5\u8a18\n\u3053\u3061\u3089\u3092\u3060\u3044\u305f\u3044\u30d1\u30af\u308a\u307e\u3057\u305f\u3002\n\nGrunt\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u4ed6\u306b\u3082\u89e3\u8aac\u3057\u3066\u3044\u308b\u8a18\u4e8b\u304c\u4e00\u676f\u3042\u308b\u306e\u3067\u3001\u9069\u5f53\u306a\u3068\u3053\u308d\u3067\u3002node.js\u3068npm\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3068\u3057\u307e\u3059\u3002\n$ npm install -g grunt-cli\n\n$ cd path/to/php-lib-repository\n\n$ echo '{}' > package.json\n$ npm install --save-dev grunt\n$ npm install --save-dev grunt-shell\n$ npm install --save-dev load-grunt-tasks\n$ npm install --save-dev grunt-contrib-watch\n$ npm install --save-dev grunt-contrib-connect\n\n\u3053\u308c\u3067path/to/php-lib-repository\u306e\u4e2d\u3067\u306fgrunt\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 grunt\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u307e\u3059\u3002\n\nGruntfile.coffee\n\nGruntfile.coffee\n#\n# Gruntfile.coffee for php-library development\n#\n# 1. install node.js & npm\n# 2. $ npm install -g grunt-cli\n# 2. $ npm install\n# 3. $ grunt\n# 4. open http://localhost:9000/ (livereload enabled)\n# 5. coding on src/* and tests/*\n#\n# enjoy!\n# @license https://creativecommons.org/publicdomain/zero/1.0/ CC0-1.0 (No Rights Reserved.)\n\nmodule.exports = (grunt) ->\n    grunt.initConfig\n        shell:\n            phpunit:\n                command: 'vendor/bin/phpunit'\n                options: {stdout: true, stderr: true}\n\n            apigen:\n                command: 'vendor/bin/apigen.php'\n                options: {stdout: true, stderr: true}\n\n            pdepend:\n                command: [\n                    'vendor/bin/pdepend'\n                    '--jdepend-chart=builds/pdepend.svg'\n                    '--overview-pyramid=builds/pyramid.svg'\n                    '--summary-xml=builds/summary.xml'\n                    'src/'\n                ].join ' '\n                options: {stdout: true, stderr: true}\n\n        connect:\n            server:\n                options:\n                    port: 9000\n                    base: 'builds'\n                    livereload: true\n\n        watch:\n            php:\n                tasks: 'shell:phpunit'\n                files: [\n                    'src/**/*.php'\n                    'tests/**/*.php'\n                ]\n                options:\n                    livereload: true\n\n    require('load-grunt-tasks')(grunt)\n\n    grunt.registerTask 'default', ['connect', 'watch']\n    grunt.registerTask 'test', ['shell:phpunit']\n    grunt.registerTask 'all', ['shell']\n\n\n\u3042\u3068\u306fgrunt\u3068\u6253\u3061\u8fbc\u3080\u3068\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u76e3\u8996\u3068livereload\u304c\u6709\u52b9\u306b\u306a\u3063\u305fWeb\u30b5\u30fc\u30d0\u30fc\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3002\nhttp://localhost:9000/ \u3092\u30d6\u30e9\u30a6\u30b6\u3067\u958b\u3044\u3066\u304a\u304d\u3001\u30bd\u30fc\u30b9\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002PHPUnit\u306e\u6700\u8fd1\u306e\u30ab\u30d0\u30ec\u30c3\u30b8\u30ec\u30dd\u30fc\u30c8\u306f\u304b\u306a\u308a\u7dba\u9e97\u306a\u306e\u3067\u3001\u30c6\u30f3\u30b7\u30e7\u30f3\u4e0a\u3052\u306a\u304c\u3089\u4f5c\u696d\u304c\u3067\u304d\u307e\u3059\u3002\n\ngulp\n\u3076\u3063\u3061\u3083\u3051PHP\u95a2\u9023\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u7a0b\u5ea6\u3067\u3042\u308c\u3070\u3001Grunt\u304b\u3089gulp\u306b\u4e57\u308a\u63db\u3048\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u3042\u307e\u308a\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u884c\u6570\u3082\u3042\u307e\u308a\u5909\u308f\u308a\u307e\u305b\u3093\u3057\u3002\n\ngulp\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u3053\u3061\u3089\u3082node.js\u3068npm\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3068\u3057\u307e\u3059\u3002\n$ npm install -g gulp\n\n$ cd path/to/php-lib-repository\n\n$ echo '{}' > package.json\n$ npm install --save-dev gulp\n$ npm install --save-dev gulp-connect\n\n\ngulpfile.js\ngulp test\u3067PHPUnit\u5b9f\u884c\u3001gulp inspect\u3067apigen\u3068PHP_Depend\u5b9f\u884c\u3001gulp server\u3067\u30d5\u30a1\u30a4\u30eb\u76e3\u8996\u3068\u30b5\u30fc\u30d0\u30fc\u7acb\u3061\u4e0a\u3052\u3092\u958b\u59cb\u3067\u3059\u3002\n\ngulpfile.js\n/**\n * gulpfile.js for php-library developement\n *\n * 1. install node.js & npm\n * 2. $ npm install\n * 3. $ gulp server\n * 4. open http://localhost:9000/ (livereload enabled)\n * 5. coding on src/*.php and tests/*.php\n *\n * enjoy!\n *\n * @license https://creativecommons.org/publicdomain/zero/1.0/ CC0-1.0 (No Rights Reserved.)\n */\nvar gulp = require('gulp');\nvar exec = require('child_process').exec;\nvar connect = require('gulp-connect');\n\ngulp.task('default', ['test', 'inspect']);\n\ngulp.task('help', function(){\n    console.log('gulp test\\t... kick vendor/bin/phpunit command');\n    console.log('gulp inspect\\t... kick vendor/bin/apigen and vendor/bin/pdepend');\n    console.log('gulp server\\t... start static web server on http://localhost:9000/');\n    console.log('\\tcoverage report... http://localhost:9000/coverage/');\n    console.log('\\tApiGen document... http://localhost:9000/api/');\n});\n\ngulp.task('test', function(done){\n    exec('vendor/bin/phpunit', function(err, stdout, stderr){\n        console.log(stdout);\n        console.error(stderr);\n        done();\n    });\n});\n\ngulp.task('inspect', function(done){\n    var i = 0, count = function(){ if (++i > 1) done() };\n    exec([\n        'vendor/bin/pdepend',\n        '--jdepend-chart=builds/pdepend.svg',\n        '--overview-pyramid=builds/pyramid.svg',\n        '--summary-xml=builds/summary.xml',\n        'src/'].join(' '), count);\n    exec('vendor/bin/apigen.php', count);\n});\n\ngulp.task('connect', ['default'], function(){\n    connect.server({\n        root: [__dirname + '/builds/'],\n        port: 9000,\n        livereload: true\n    });\n});\n\ngulp.task('reload', ['test'], function(){\n    return gulp.src('builds/coverage/**')\n        .pipe(connect.reload());\n});\n\ngulp.task('server', ['connect'], function(){\n    gulp.watch(['src/**', 'tests/**'], ['reload']);\n});\n\n\n\n\u30ab\u30d0\u30ec\u30c3\u30b8\u30ec\u30dd\u30fc\u30c8\u306e\u51fa\u529b\u5148\u3067\u3042\u3063\u305f\u308a\u3001watch\u5bfe\u8c61\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u9069\u5b9c\u5b9f\u60c5\u306b\u5408\u308f\u305b\u3066\u8abf\u6574\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30d5\u30a1\u30a4\u30eb\u5909\u66f4\u3092\u76e3\u8996\u3057\u3066\u3001\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u308c\u308b\u6700\u8fd1\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30d3\u30eb\u30c9\u30c4\u30fc\u30eb\u3002Grunt\u3068gulp\u304c\u6709\u540d\u3069\u3053\u308d\u3063\u307d\u3044\u3093\u3067\u3059\u304c\u3001PHP\u306e\u958b\u767a\u306b\u3082\u4f75\u7528\u3057\u3066\u4f7f\u3046\u3068\u697d\u3057\u3044\u3067\u3059\u3002\n\n\u3084\u308a\u305f\u3044\u3053\u3068\u3068\u3057\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u5de5\u7a0b\u3092\u81ea\u52d5\u5316\u3057\u305f\u3044\u308f\u3051\u3067\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u74b0\u5883\u3067\u3082\u3063\u3068\u9ad8\u983b\u5ea6\u306bCI\u3092\u56de\u3057\u305f\u3044\u3068\u3044\u3046\u611f\u3058\u3002\n\n1. \u30d6\u30e9\u30a6\u30b6\u3068\u30a8\u30c7\u30a3\u30bf\u3068\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u6e96\u5099\u3002\n  - \u30d6\u30e9\u30a6\u30b6\u306b\u306f http://localhost:9000/ \u306a\u3069\u3067\u30ab\u30d0\u30ec\u30c3\u30b8\u30ec\u30dd\u30fc\u30c8\u3092\u8868\u793a\u3002\n  - \u30bf\u30fc\u30df\u30ca\u30eb\u3067\u306f\u5e38\u6642PHPUnit\u306e\u7d50\u679c\u304c\u8868\u793a\u3055\u308c\u308b\n  - \u30a8\u30c7\u30a3\u30bf\u306f\u3082\u3061\u308d\u3093\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3068\u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f(\u4f55\u3092\u4f7f\u3063\u3066\u3082\u3088\u3044)\n2. \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u30fb\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3092\u30a8\u30c7\u30a3\u30bf\u3067\u66f8\u3044\u3066\u3001\u4fdd\u5b58\u3059\u308b\n3. \u30d5\u30a1\u30a4\u30eb\u5909\u66f4\u3092\u691c\u77e5\u3057\u3066\u3001\u81ea\u52d5\u3067phpunit\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\n4. PHPUnit\u306e\u30ab\u30d0\u30ec\u30c3\u30b8\u30ec\u30dd\u30fc\u30c8(HTML\u7248)\u3092livereload\u3057\u3001\u30c6\u30b9\u30c8\u306e\u8db3\u308a\u306a\u3055\u305d\u3046\u306a\u3068\u3053\u308d\u3092\u901a\u77e5\n\n\u6614\u306f\u30a8\u30c7\u30a3\u30bf\u3092\u9078\u3093\u3060\u308a\u3001\u74b0\u5883\u3092\u9078\u3093\u3060\u308a\u3057\u3066\u7d50\u69cb\u82e6\u52b4\u3057\u3066\u5b9f\u73fe\u3057\u3066\u3044\u305f\u3089\u3057\u3044\u3067\u3059\u304c\u3001\u4eca\u306f\u30c4\u30fc\u30eb\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3061\u3087\u3061\u3087\u3063\u3068\u8a2d\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u3044\u3044\u6642\u4ee3\u306b\u306a\u3063\u305f\u3082\u3093\u3060\u3002\n\n\u4ee5\u4e0b\u3001PHPUnit\u3084apigen\u306a\u3069\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u7701\u7565\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u3061\u3089\u3082\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nhttps://github.com/spindle/spindle-lib-template\n\n\n# Grunt\n\n\u307e\u305a\u306fGrunt\u3067\u5b9f\u73fe\u3057\u305f\u3044\u5834\u5408\u3002Grunt\u306f\u3053\u306e\u624b\u306e\u30c4\u30fc\u30eb\u306e\u30d1\u30a4\u30aa\u30cb\u30a2\u7684\u5b58\u5728\u3089\u3057\u3044\u3067\u3059\u304c\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u7169\u96d1\u306b\u306a\u308a\u304c\u3061\u3067\u3001\u5f8c\u767a\u306egulp\u306e\u4eba\u6c17\u306b\u62bc\u3055\u308c\u59cb\u3081\u3066\u3044\u308b\u3068\u304b\u3002\n\u4e0a\u8a18\u3092\u5b9f\u73fe\u3059\u308b\u7a0b\u5ea6\u3067\u3042\u308c\u3070\u3001Grunt\u3067\u3082gulp\u3067\u3082\u3055\u3057\u3066\u624b\u9593\u306f\u5909\u308f\u308a\u307e\u305b\u3093\u3002\n[PHP \u958b\u767a\u3067\u3082 Grunt \u3092\u4f7f\u3046 - ng\u306e\u65e5\u8a18](http://ngyuki.hatenablog.com/entry/2013/12/03/231619)\n\u3053\u3061\u3089\u3092\u3060\u3044\u305f\u3044\u30d1\u30af\u308a\u307e\u3057\u305f\u3002\n\n### Grunt\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u4ed6\u306b\u3082\u89e3\u8aac\u3057\u3066\u3044\u308b\u8a18\u4e8b\u304c\u4e00\u676f\u3042\u308b\u306e\u3067\u3001\u9069\u5f53\u306a\u3068\u3053\u308d\u3067\u3002node.js\u3068npm\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3068\u3057\u307e\u3059\u3002\n\n```bash\n$ npm install -g grunt-cli\n\n$ cd path/to/php-lib-repository\n\n$ echo '{}' > package.json\n$ npm install --save-dev grunt\n$ npm install --save-dev grunt-shell\n$ npm install --save-dev load-grunt-tasks\n$ npm install --save-dev grunt-contrib-watch\n$ npm install --save-dev grunt-contrib-connect\n```\n\n\u3053\u308c\u3067path/to/php-lib-repository\u306e\u4e2d\u3067\u306fgrunt\u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 grunt\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u307e\u3059\u3002\n\n### Gruntfile.coffee\n\n```coffeescript:Gruntfile.coffee\n#\n# Gruntfile.coffee for php-library development\n#\n# 1. install node.js & npm\n# 2. $ npm install -g grunt-cli\n# 2. $ npm install\n# 3. $ grunt\n# 4. open http://localhost:9000/ (livereload enabled)\n# 5. coding on src/* and tests/*\n#\n# enjoy!\n# @license https://creativecommons.org/publicdomain/zero/1.0/ CC0-1.0 (No Rights Reserved.)\n\nmodule.exports = (grunt) ->\n    grunt.initConfig\n        shell:\n            phpunit:\n                command: 'vendor/bin/phpunit'\n                options: {stdout: true, stderr: true}\n\n            apigen:\n                command: 'vendor/bin/apigen.php'\n                options: {stdout: true, stderr: true}\n\n            pdepend:\n                command: [\n                    'vendor/bin/pdepend'\n                    '--jdepend-chart=builds/pdepend.svg'\n                    '--overview-pyramid=builds/pyramid.svg'\n                    '--summary-xml=builds/summary.xml'\n                    'src/'\n                ].join ' '\n                options: {stdout: true, stderr: true}\n\n        connect:\n            server:\n                options:\n                    port: 9000\n                    base: 'builds'\n                    livereload: true\n\n        watch:\n            php:\n                tasks: 'shell:phpunit'\n                files: [\n                    'src/**/*.php'\n                    'tests/**/*.php'\n                ]\n                options:\n                    livereload: true\n\n    require('load-grunt-tasks')(grunt)\n\n    grunt.registerTask 'default', ['connect', 'watch']\n    grunt.registerTask 'test', ['shell:phpunit']\n    grunt.registerTask 'all', ['shell']\n```\n\n\u3042\u3068\u306f`grunt`\u3068\u6253\u3061\u8fbc\u3080\u3068\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u76e3\u8996\u3068livereload\u304c\u6709\u52b9\u306b\u306a\u3063\u305fWeb\u30b5\u30fc\u30d0\u30fc\u304c\u7acb\u3061\u4e0a\u304c\u308a\u307e\u3059\u3002\nhttp://localhost:9000/ \u3092\u30d6\u30e9\u30a6\u30b6\u3067\u958b\u3044\u3066\u304a\u304d\u3001\u30bd\u30fc\u30b9\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002PHPUnit\u306e\u6700\u8fd1\u306e\u30ab\u30d0\u30ec\u30c3\u30b8\u30ec\u30dd\u30fc\u30c8\u306f\u304b\u306a\u308a\u7dba\u9e97\u306a\u306e\u3067\u3001\u30c6\u30f3\u30b7\u30e7\u30f3\u4e0a\u3052\u306a\u304c\u3089\u4f5c\u696d\u304c\u3067\u304d\u307e\u3059\u3002\n\n# gulp\n\n\u3076\u3063\u3061\u3083\u3051PHP\u95a2\u9023\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u7a0b\u5ea6\u3067\u3042\u308c\u3070\u3001Grunt\u304b\u3089gulp\u306b\u4e57\u308a\u63db\u3048\u308b\u30e1\u30ea\u30c3\u30c8\u306f\u3042\u307e\u308a\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u884c\u6570\u3082\u3042\u307e\u308a\u5909\u308f\u308a\u307e\u305b\u3093\u3057\u3002\n\n### gulp\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u3053\u3061\u3089\u3082node.js\u3068npm\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3042\u308b\u3068\u3057\u307e\u3059\u3002\n\n```bash\n$ npm install -g gulp\n\n$ cd path/to/php-lib-repository\n\n$ echo '{}' > package.json\n$ npm install --save-dev gulp\n$ npm install --save-dev gulp-connect\n```\n\n### gulpfile.js\n\n`gulp test`\u3067PHPUnit\u5b9f\u884c\u3001`gulp inspect`\u3067apigen\u3068PHP_Depend\u5b9f\u884c\u3001`gulp server`\u3067\u30d5\u30a1\u30a4\u30eb\u76e3\u8996\u3068\u30b5\u30fc\u30d0\u30fc\u7acb\u3061\u4e0a\u3052\u3092\u958b\u59cb\u3067\u3059\u3002\n\n```js:gulpfile.js\n/**\n * gulpfile.js for php-library developement\n *\n * 1. install node.js & npm\n * 2. $ npm install\n * 3. $ gulp server\n * 4. open http://localhost:9000/ (livereload enabled)\n * 5. coding on src/*.php and tests/*.php\n *\n * enjoy!\n *\n * @license https://creativecommons.org/publicdomain/zero/1.0/ CC0-1.0 (No Rights Reserved.)\n */\nvar gulp = require('gulp');\nvar exec = require('child_process').exec;\nvar connect = require('gulp-connect');\n\ngulp.task('default', ['test', 'inspect']);\n\ngulp.task('help', function(){\n    console.log('gulp test\\t... kick vendor/bin/phpunit command');\n    console.log('gulp inspect\\t... kick vendor/bin/apigen and vendor/bin/pdepend');\n    console.log('gulp server\\t... start static web server on http://localhost:9000/');\n    console.log('\\tcoverage report... http://localhost:9000/coverage/');\n    console.log('\\tApiGen document... http://localhost:9000/api/');\n});\n\ngulp.task('test', function(done){\n    exec('vendor/bin/phpunit', function(err, stdout, stderr){\n        console.log(stdout);\n        console.error(stderr);\n        done();\n    });\n});\n\ngulp.task('inspect', function(done){\n    var i = 0, count = function(){ if (++i > 1) done() };\n    exec([\n        'vendor/bin/pdepend',\n        '--jdepend-chart=builds/pdepend.svg',\n        '--overview-pyramid=builds/pyramid.svg',\n        '--summary-xml=builds/summary.xml',\n        'src/'].join(' '), count);\n    exec('vendor/bin/apigen.php', count);\n});\n\ngulp.task('connect', ['default'], function(){\n    connect.server({\n        root: [__dirname + '/builds/'],\n        port: 9000,\n        livereload: true\n    });\n});\n\ngulp.task('reload', ['test'], function(){\n    return gulp.src('builds/coverage/**')\n        .pipe(connect.reload());\n});\n\ngulp.task('server', ['connect'], function(){\n    gulp.watch(['src/**', 'tests/**'], ['reload']);\n});\n\n```\n\n\u30ab\u30d0\u30ec\u30c3\u30b8\u30ec\u30dd\u30fc\u30c8\u306e\u51fa\u529b\u5148\u3067\u3042\u3063\u305f\u308a\u3001watch\u5bfe\u8c61\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u9069\u5b9c\u5b9f\u60c5\u306b\u5408\u308f\u305b\u3066\u8abf\u6574\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n"}