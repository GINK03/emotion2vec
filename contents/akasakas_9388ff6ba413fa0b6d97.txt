{"context": " More than 1 year has passed since last update.Rails\u8a8d\u8a3c\u30a8\u30f3\u30b8\u30f3Devise\u3067\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u2192\u78ba\u8a8d\u2192\u5b8c\u4e86\u753b\u9762\u3092\u4f5c\u6210\u3059\u308b\n https://github.com/plataformatec/devise\n\n\u524d\u63d0\n\nDevise\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\nDevise\u306eView/Controller\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u6e08\u307f\uff08\u203b1\uff09\n\n\u203b1\nDevise\u306eView\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\nRails4\u3067devise\u306eView\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\n\nDevise\u306eController\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\nRails4\u3067devise\u306eController\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\n\n\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n\nroutes.rb\ndevise_for :users, :controllers => {\n :registrations => 'users/registrations'\n}\n\ndevise_scope :user do \n post 'users/sign_up/confirm' => 'users/registrations#confirm'\n post 'users/sign_up/complete' => 'users/registrations#complete' \nend\n\n\n\u7d30\u304b\u3044\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8a2d\u5b9a\u3057\u305f\u3044\u5834\u5408\u306fdevise_scope\u5185\u306b\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\nController\n\napp/controllers/users/registrations_controller.rb\nclass Users::RegistrationsController < Devise::RegistrationsController\n before_action :create, only: [:complete]\n\n  def confirm \n    @user = User.new(sign_up_params)\n    if @user.valid?\n      render :action => 'confirm'\n    else\n     render :action => 'new'\n    end\n  end\n\n  def complete\n    render :action => 'complete'\n  end\nend\n\n\n\nView\n\n\u30e6\u30fc\u30b6\u767b\u9332\u5165\u529b\u753b\u9762\n\npost\u5148\u3092\u4e0b\u8a18\u306b\u5909\u66f4\n\napp/views/devise/registrations/new.html.erb\n<%= form_for @user, url: {action: \"confirm\"} do |f| %>\n\n\n\n\u78ba\u8a8d\u753b\u9762\n\n\napp/views/devise/registrations/confirm.html.erb\n<%= form_for @user, url: {action: \"complete\"} do |f| %>\n  <%= devise_error_messages! %>\n  <div class=\"field\">\n    <%= f.label :email %>\n    <%= f.hidden_field :email %>\n    <%= @user.email %>\n  </div>\n\n  <div class=\"field\">\n    <%= f.label :password %>\n    <%= f.hidden_field :password %>\n    <%= @user.password %>\n  </div>\n\n  <div class=\"actions\">\n    <%= f.submit \"Sign up\" %>\n  </div>\n\n<% end %>\n\n<%= render \"devise/shared/links\" %>\n\n\n\n\n\u5b8c\u4e86\u753b\u9762\n\n\napp/views/devise/registrations/complete.html.erb\n  <div class=\"field\">\n    \u767b\u9332\u5b8c\u4e86\uff01\uff01\u304a\u3064\u304b\u308c\u3057\u305f\u3002\n  </div>\n\n\n\n\u6240\u611f\nREST\u3092\u8003\u616e\u3057\u305f\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u305f\u3081\u304b\u3001\u78ba\u8a8d\u30fb\u5b8c\u4e86\u753b\u9762\u3092\u8ffd\u52a0\u3059\u308b\u3068routes.rb\u304c\u6c5a\u304f\u306a\u3063\u305f\u5370\u8c61\u3002\n\u3082\u3046\u5c11\u3057\u4f55\u304b\u30a4\u30b1\u30c6\u30eb\u65b9\u6cd5\u306f\u306a\u3044\u306e\u3060\u308d\u3046\u304b\u3002\u3002\u3002\n\n\u53c2\u8003\nRuby on Rails 4 \u3067\u304a\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\uff08\u78ba\u8a8d\u753b\u9762\u3064\u304d\uff09\u3092\u4f5c\u6210\u3059\u308b\nRails\u8a8d\u8a3c\u30a8\u30f3\u30b8\u30f3Devise\u3067\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u2192\u78ba\u8a8d\u2192\u5b8c\u4e86\u753b\u9762\u3092\u4f5c\u6210\u3059\u308b\n\n:octocat: https://github.com/plataformatec/devise\n\n\n## \u524d\u63d0\n- Devise\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u3053\u3068\n- Devise\u306eView/Controller\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u6e08\u307f\uff08\u203b1\uff09\n\n\u203b1\nDevise\u306eView\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\n[Rails4\u3067devise\u306eView\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b](http://qiita.com/akasakas/items/a06a0389d3c5da879ba7)\n</br>\nDevise\u306eController\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\n[Rails4\u3067devise\u306eController\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b](http://qiita.com/akasakas/items/138c29fa2cecd271cfe4)\n## \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\n\n```rb:routes.rb\ndevise_for :users, :controllers => {\n :registrations => 'users/registrations'\n}\n\ndevise_scope :user do \n post 'users/sign_up/confirm' => 'users/registrations#confirm'\n post 'users/sign_up/complete' => 'users/registrations#complete' \nend\n```\n\n\u7d30\u304b\u3044\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u8a2d\u5b9a\u3057\u305f\u3044\u5834\u5408\u306fdevise_scope\u5185\u306b\u8a18\u8ff0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3088\u3046\u3067\u3059\u3002\n\n## Controller\n\n```rb:app/controllers/users/registrations_controller.rb\nclass Users::RegistrationsController < Devise::RegistrationsController\n before_action :create, only: [:complete]\n\n  def confirm \n    @user = User.new(sign_up_params)\n    if @user.valid?\n      render :action => 'confirm'\n    else\n     render :action => 'new'\n    end\n  end\n \n  def complete\n    render :action => 'complete'\n  end\nend\n```\n\n## View\n\n- \u30e6\u30fc\u30b6\u767b\u9332\u5165\u529b\u753b\u9762\n\npost\u5148\u3092\u4e0b\u8a18\u306b\u5909\u66f4\n\n```html:app/views/devise/registrations/new.html.erb\n<%= form_for @user, url: {action: \"confirm\"} do |f| %>\n```\n\n- \u78ba\u8a8d\u753b\u9762\n\n```html:app/views/devise/registrations/confirm.html.erb\n<%= form_for @user, url: {action: \"complete\"} do |f| %>\n  <%= devise_error_messages! %>\n  <div class=\"field\">\n    <%= f.label :email %>\n    <%= f.hidden_field :email %>\n    <%= @user.email %>\n  </div>\n\n  <div class=\"field\">\n    <%= f.label :password %>\n    <%= f.hidden_field :password %>\n    <%= @user.password %>\n  </div>\n \n  <div class=\"actions\">\n    <%= f.submit \"Sign up\" %>\n  </div>\n\n<% end %>\n\n<%= render \"devise/shared/links\" %>\n\n```\n\n- \u5b8c\u4e86\u753b\u9762\n\n```html:app/views/devise/registrations/complete.html.erb\n  <div class=\"field\">\n    \u767b\u9332\u5b8c\u4e86\uff01\uff01\u304a\u3064\u304b\u308c\u3057\u305f\u3002\n  </div>\n```\n\n## \u6240\u611f\nREST\u3092\u8003\u616e\u3057\u305f\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u305f\u3081\u304b\u3001\u78ba\u8a8d\u30fb\u5b8c\u4e86\u753b\u9762\u3092\u8ffd\u52a0\u3059\u308b\u3068routes.rb\u304c\u6c5a\u304f\u306a\u3063\u305f\u5370\u8c61\u3002\n\u3082\u3046\u5c11\u3057\u4f55\u304b\u30a4\u30b1\u30c6\u30eb\u65b9\u6cd5\u306f\u306a\u3044\u306e\u3060\u308d\u3046\u304b\u3002\u3002\u3002\n\n\n## \u53c2\u8003\n[Ruby on Rails 4 \u3067\u304a\u554f\u3044\u5408\u308f\u305b\u30d5\u30a9\u30fc\u30e0\uff08\u78ba\u8a8d\u753b\u9762\u3064\u304d\uff09\u3092\u4f5c\u6210\u3059\u308b](https://www.imd-net.com/column/1731/)\n", "tags": ["Ruby", "Rails", "Rails4", "devise"]}