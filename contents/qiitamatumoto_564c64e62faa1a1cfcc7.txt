{"context": "0.\u306f\u3058\u3081\u306b\n\u5927\u5b66\u306e\u6f14\u7fd2\u3084\u30ec\u30dd\u30fc\u30c8\u4f5c\u6210\u7528\u306e\u7aef\u672b\u5ba4\u306bMPI\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u308c\u306e\u5229\u7528\u8005\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u66f8\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u3069\u3053\u3067\u3082\u4f3c\u305f\u3088\u3046\u306a\u3082\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001\u8ee2\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\u74b0\u5883\u3068\u3057\u3066\u306f\u7aef\u672b\u5ba4\u306bCentOS6.X/32bit\u306e\u7aef\u672b\u304c\u591a\u6570\u3042\u308a\u3001\u540c\u3058\u90e8\u5c4b\u306e\u7aef\u672b\u540c\u58eb\u306fssh\u3067\u30ed\u30b0\u30a4\u30f3\u53ef\u80fd\u306a\u74b0\u5883\u3067\u3059\u3002\u5b66\u751f\u306f\u5927\u5b66\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u7d71\u5408\u8a8d\u8a3c\u306eID\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\n\u4eca\u56deMPI\u3068\u3057\u3066openmpi\u3068mpich2\u3092\u5c0e\u5165\u3057\u3066\u3044\u307e\u3059\u3002\n$ yum install openmpi openmpi-devel\n$ yum install mpich2 mpich2-devel\n\n2015/10/16\u6539\u8a02: \u7aef\u672b\u3068\u3044\u3046\u5358\u8a9e\u304cCentOS\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u6307\u3059\u5834\u5408\u3068\u30d1\u30bd\u30b3\u30f3\u672c\u4f53\u3092\u6307\u3059\u5834\u5408\u3067\u3054\u3063\u3061\u3083\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u3001\u4fee\u6b63\u3002\n\u30de\u30cb\u30e5\u30a2\u30eb\u306f\u3053\u3053\u304b\u3089\u3002\n1.\u306f\u3058\u3081\u306b\n\u5b66\u79d1\u7aef\u672b\u5ba4\u306eLinux\u3067\u4e26\u5217\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u30e9\u30a4\u30d6\u30e9\u30eaMPI(Message Passing Interface)\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\u672c\u30da\u30fc\u30b8\u3067\u306f\u3001\u7aef\u672b\u5ba4\u3067MPI\u3092\u4f7f\u3046\u305f\u3081\u306e\u521d\u671f\u8a2d\u5b9a\u3068\u3001\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u3064\u3044\u3066\u8ff0\u3079\u3066\u3044\u307e\u3059\u3002\nMPI\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u6b21\u306e\u6587\u732e\u304c\u5f79\u306b\u305f\u3061\u307e\u3059\u3002\n\n\u4e26\u5217\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\nP.\u30d1\u30c1\u30a7\u30b3\u8457, \u79cb\u8449\u535a \u8a33\n \u57f9\u98a8\u9928 , 2001\u5e74\n\u5927\u5b66\u56f3\u66f8\u9928\u306b\u3082\u6709\u308a\u307e\u3059\u3002\n\n2.\u5229\u7528\u3059\u308bMPI\u306e\u9078\u629e\n\u5b66\u79d1\u7aef\u672b\u306b\u306fMPI\u304c2\u7a2e\u985e\u5c0e\u5165\u3055\u308c\u3066\u3044\u307e\u3059\u3002 openmpi\u3068mpich\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u57fa\u672c\u7684\u306a\u4f7f\u3044\u304b\u305f\u306f\u3069\u3061\u3089\u3082\u540c\u3058\u3067\u3059\u3002openmpi\u3068mpich\u306e\u3044\u305a\u308c\u3092\u4f7f\u3046\u304b\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u73fe\u5728\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bMPI\u306e\u8868\u793a\u3002\n$ module avail\n------------------------ /usr/share/Modules/modulefiles ------------------------\ndot         module-git  module-info modules     null        use.own\n\n------------------------------- /etc/modulefiles -------------------------------\nmpich-i386   openmpi-i386   \u2190 \u3053\u306e\u4e8c\u3064\u304c\u5c0e\u5165\u3055\u308c\u3066\u3044\u308b\u3002\n\n\u5229\u7528\u3059\u308bMPI\u306e\u9078\u629e\u3002\n\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u300c\u7aef\u672b\u300d\u3092\u8d77\u52d5\u3057\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u5165\u529b\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\nopenmpi\u3092\u5229\u7528\u3059\u308b\u3068\u304d\n\n$ echo \"module add null\" >> ~/.bashrc\n$ module initadd openmpi-i386\n\nmpich\u3092\u5229\u7528\u3059\u308b\u3068\u304d\n\n$ echo \"module add null\" >> ~/.bashrc\n$ module initadd mpich-i386\n\n\n\u6b21\u306b\u3001\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u304f\u3060\u3055\u3044\u3002\n\n$ exit\n\n\u30a6\u30a4\u30f3\u30c9\u30a6\u300c\u7aef\u672b\u300d\u3092\u65b0\u305f\u306b\u958b\u3044\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3057\u3066\u30b3\u30de\u30f3\u30c9\u300cmpirun -h\u300d\u3092\u5b9f\u884c\u304f\u3060\u3055\u3044\u3002\n\nopenmpi\u3092\u9078\u629e\u3057\u305f\u3068\u304d\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002\n\n$ mpirun -h\n(\u3044\u308d\u3044\u308d\u8868\u793a\u3055\u308c\u308b)\n\nReport bugs to http://www.open-mpi.org/community/help/\n\n\u6700\u5f8c\u306bopen-mpi\u4e91\u3005\u3068\u8868\u793a\n\nmpich\u3092\u9078\u629e\u3057\u305f\u3068\u304d\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002\n\n$ mpirun -h\n(\u3044\u308d\u3044\u308d\u8868\u793a\u3055\u308c\u308b)\nhttp://wiki.mpich.org/mpich/index.php/Using_the_Hydra_Process_Manager\nfor further details\n\n\u6700\u5f8c\u306bmpich.org\u4e91\u3005\u3068\u8868\u793a\n\u4ee5\u4e0a\u3067MPI\u306e\u9078\u629e\u306f\u7d42\u4e86\u3067\u3059\u3002\n3.ssh\u306e\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u8a2d\u5b9a\n\u6ce8\u610f: \u672c\u8a2d\u5b9a\u306f\u3001\u7aef\u672b\u5ba4\u306e\u8907\u6570\u306e\u30d1\u30bd\u30b3\u30f3\u3067MPI\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306b\u5fc5\u8981\u3067\u3059\u30021\u53f0\u3067\u306e\u307f\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u4e0d\u8981\u3067\u3059\u3002\n\u8907\u6570\u306e\u30d1\u30bd\u30b3\u30f3\u3067MPI\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001ssh\u3092\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u5229\u7528\u53ef\u80fd\u306b\u3057\u3066\u4e0b\u3055\u3044\uff0e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a8d\u8a3c\u306f\u4e0d\u53ef\u3067\u3059\u3002\n\u3059\u3067\u306bssh\u3092\u300c\u516c\u958b\u9375\u8a8d\u8a3c\u300d\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u5b66\u751f\u306f\u3053\u306e\u7ae0\u3092\u8aad\u307f\u98db\u3070\u3057\u3066\u4e0b\u3055\u3044\uff0e\n\u4eca\u307e\u3067ssh\u3092\u516c\u958b\u9375\u8a8d\u8a3c\u3092\u300c\u4e00\u5ea6\u3082\u4f7f\u3063\u305f\u4e8b\u304c\u7121\u304f\u300d\uff0c\u7aef\u672b\u5ba4\u3067MPI\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u3060\u3051\u306bssh\u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u5341\u5206\u3067\u3059\uff0e(\u7d30\u304b\u3044\u8a2d\u5b9a\u306f\u98db\u3070\u3057\u3066\u307e\u3059\u3002)\n\u307e\u305assh\u7528\u306e\u30d1\u30b9\u30ef\u30fc\u30c9(passphrase)\u3092\u6c7a\u3081\u3066\u4e0b\u3055\u3044. \u7d71\u5408\u8a8d\u8a3cID\u3068\u306f\u7570\u306a\u308b \u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30d9\u30bf\u30fc\u3067\u3059\uff0e\n\u30b3\u30de\u30f3\u30c9(ssh-keygen)\u3067 ~/.ssh/id_rsa.pub\u3068 ~/.ssh/id_rsa \u306e\u4e8c\u3064\u306e\u30d5\u30a1\u30a4\u30eb \u3092\u751f\u6210\u3057\u3066\u304f\u3060\u3055\u3044\uff0eid_rsa.pub\u306fssh\u306e\u516c\u958b\u9375\uff0eid_ras\u306fssh\u306e\u79d8\u5bc6\u9375\u3067\u3059\uff0e\n$ ssh-keygen\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa): (\u6539\u884c)\nEnter passphrase (empty for no passphrase): (ssh\u7528\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b)\nEnter same passphrase again: (\u518d\u5ea6\u5165\u529b)\n **\u8272\u3005\u8868\u793a\u3055\u308c\u307e\u3059\uff0e**\nYour identification has been saved in /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa.\nYour public key has been saved in /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa.pub.\nThe key fingerprint is:\n9a:70:ae:ac:bb:db:5a:45:99:00:b0:a2:2d:a4:f8:88 \u7d71\u5408\u8a8d\u8a3cID@\u30d1\u30bd\u30b3\u30f3\u540d\nThe key's randomart image is:\n+--[ RSA 2048]----+\n|.....            |\n| .   . o         |\n|o.    +          |\n|*.   .           |\n|= . . o S        |\n|.+   = o         |\n|E . . +          |\n|   + .           |\n|  **+            |\n+-----------------+\n\n\u7d9a\u3044\u3066\u516c\u958b\u9375\u3092authorized_keys\u306b\u30b3\u30d4\u30fc\u3057\u3066\u4e0b\u3055\u3044. authorized_keys\u306f\u30ed\u30b0 \u30a4\u30f3\u8a31\u53ef\u3092\u3059\u308bssh\u306e\u516c\u958b\u9375\u306e\u4e00\u89a7\u8868\u3067\u3059\uff0e\n$ cp ~/.ssh/id_rsa.pub ~/.ssh/authorized_keys\n\n\u4ee5\u4e0a\u3067\u7aef\u672b\u5ba4\u3067ssh\u3092\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u306f\u7d42\u4e86\u3067\u3059\u3002\n4.\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\nMPI\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306fFortran\u3067\u8a18\u8ff0\u3059\u308b\u4e8b\u304c\u591a\u3044\u3067\u3059\u304c\u3001\u5b66\u79d1\u7aef\u672b\u5ba4\u3067\u306fC \u8a00\u8a9e\u3067\u306e\u307f\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u3057\u3066\u4e8c\u3064\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002\u30ea\u30f3\u30af\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u62e1\u5f35\u5b50\u304c.txt\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001.c\u306b\u5909\u66f4\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n-mpi\u306e\u901a\u4fe1\u78ba\u8a8d\u306e\u30d7\u30ed\u30b0\u30e9\u30e0(mpi_hello.c \u30d5\u30a1\u30a4\u30eb\u7701\u7565.\u53c2\u8003\u6587\u732e43\u30da\u30fc\u30b8\u304b\u3089\u306e\u5f15\u7528\u3067\u3059\u3002)\n-mpi\u306e\u53f0\u5f62\u7a4d\u5206\u306e\u30d7\u30ed\u30b0\u30e9\u30e0(mpi_sample.c \u540c\u4e0a61\u30da\u30fc\u30b8\u3002)\n$ mpicc mpi_hello.c -o mpi_hello\n$ mpicc mpi_sample.c -o mpi_sample\n\n\u4e0a\u8a18\u4f5c\u696d\u3067\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3000mpi_hello\u3068 mpi_sample\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n5.\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c(1\u53f0\u3067\u306e\u307f)\nMPI\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306fmpirun\u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 \u5f15\u6570-n\u306f\u4f55\u500b\u306e\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3059\u308b\u304b\u306e\u6307\u5b9a\u3067\u3059\u3002pc-XX\u306e\u6240\u306f \u5b9f\u969b\u306f\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u30d1\u30bd\u30b3\u30f3\u540d\u306b\u306a\u308a\u307e\u3059\u3002\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u6307\u5b9a\u6642\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u306e \u524d\u306b\u300c./\u300d\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n$ mpirun -n 5 ./mpi_hello\nHello, my process rank is 1 on pc-XX\nHello, my process rank is 2 on pc-XX\nHello, my process rank is 3 on pc-XX\nHello, my process rank is 4 on pc-XX\n\n\u53f0\u5f62\u7a4d\u5206\u306e\u5b9f\u884c\u7d50\u679c\u3002(qiita\u5f15\u7528\u6642\u88dc\u8db3: \u53c2\u8003\u6587\u732e\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u4fee\u6b63\u3057\u3066\u3044\u308b\u306e\u3067\u7d50\u679c\u304c\u7570\u306a\u308a\u307e\u3059)\n$ mpirun -n 5 ./mpi_sample\nWith n = 1024 trapezoids, our estimate\nof the itegral from 0.000000 to 2.000000 = 1.416146\n\n6.\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c(2\u53f0\u4ee5\u4e0a)\n\u6ce8\u610f: MPI\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8907\u6570\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001\u524d\u8ff0\u306e\u300c3. ssh\u306e\u516c\u958b\u9375\u8a8d\n\u8a3c\u306e\u8a2d\u5b9a\u300d\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u8907\u6570\u53f0\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001\u307b\u304b\u306e\u30d1\u30bd\u30b3\u30f3\u306bMPI\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6295\u5165\u6642\u306b\u30e6\u30fc\u30b6 \u8a8d\u8a3c\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n6.1.ssh-agent\u306bssh\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\n\u5148\u307b\u3069\u8a2d\u5b9a\u3057\u305fssh\u306e\u516c\u958b\u9375\u8a8d\u8a3c\u306fssh-agent\u3068\u3044\u3046\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u4e8b\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u8a8d\u8a3c\u6642\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u805e\u3044\u3066\u3053\u306a\u304f\u306a\u308a\u307e\u3059\u3002 \u30d1\u30b9\u30ef\u30fc\u30c9\u3092ssh-agent\u306b\u767b\u9332\u3057\u306a\u3044\u3068\u5b9f\u8cea\u7684\u306bMPI\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u5b9f\u884c\u3067\u304d \u306a\u3044\u305f\u3081\u3001ssh-agent\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nssh-agent\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u305f\u3081\u306b\u3001\u307e\u305a\u3001\u7aef\u672b\u5ba4\u306e\u30d1\u30bd\u30b3\u30f3\u3092\u3082\u3046\u4e00\u53f0\u8d77 \u52d5\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\u8ffd\u52a0\u3067\u8d77\u52d5\u3055\u305b\u305f\u30d1\u30bd\u30b3\u30f3\u3092pc-YY\u3068\u3057\u307e\u3059\u3002\n\u8d77\u52d5\u5f8c\u3001\u30d1\u30bd\u30b3\u30f3pc-YY\u306bssh\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ ssh pc-YY\n\n\u521d\u56de\u5b9f\u884c\u6642\u306e\u307f: \u4ee5\u4e0b\u306e\u8cea\u554f\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u5b66\u79d1\u7aef\u672b\u5ba4\u306e\u30d1\u30bd\u30b3\u30f3\u306f\u5168\u3066\u4ee5\u4e0b\u306efingerprint\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u540c\u3058\u5024\u3060\u3063 \u305f\u5834\u5408\u306fyes\u3068\u7b54\u3048\u3066\u304f\u3060\u3055\u3044\u3002(fingerprint\u304c\u7570\u306a\u308b\u5834\u5408\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a \u306e\u554f\u984c\u304c\u767a\u751f\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u7ba1\u7406\u8005\u307e\u3067\u304a\u77e5\u3089\u305b\u304f\u3060\u3055\u3044\u3002) \nThe authenticity of host 'pc-YY (192.0.2.??)' can't be established.\nRSA key fingerprint is 1c:f8:82:fb:d7:fb:4d:af:45:eb:46:90:91:xx:xx:xx.\nAre you sure you want to continue connecting (yes/no)? (\u4e0a\u8a18\u306efingerprint\u3068\u540c\u3058\u306a\u3089yes\u3068\u7b54\u3048\u308b)\n\n(Qiita\u5f15\u7528\u6642\u88dc\u8db3: \u4e0a\u8a18\u306e\u8a18\u8ff0\u3067\u3059\u304c\u3001\u3072\u3068\u3064\u306e\u96db\u578b\u3092\u8907\u6570\u306e\u7aef\u672b\u306b\u30b3\u30d4\u30fc\u3057\u3066\u3044\u308b\u305f\u3081\u306bfingerprint\u304c\u3059\u3079\u3066\u540c\u3058\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u901a\u5e38\u306e\u74b0\u5883\u3067\u306f\u5168\u3066\u306efingerprint\u306f\u7570\u306a\u308a\u307e\u3059\uff0e)\n\u7d9a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u300cUnlock private key\u300d\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002(\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u8868\u793a\u3055\u308c\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u5f8c\u8ff06.3\u7bc0\u53c2\u7167)\n\n\u4e0a\u8a18\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u5148\u307b\u3069ssh-keygen\u5b9f\u884c\u6642\u767b\u9332\u3057\u305fssh\u306e\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u306b\u6210\u529f\u3059\u308b\u3068\u3001pc-YY\u306b\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068pc-YY\u3068\u3044\u3046\u30d1\u30bd\u30b3\u30f3\u540d\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\u7d71\u5408\u8a8d\u8a3cID@pc-YY:~$\n\n\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3057\u305f\u3089pc-YY\u304b\u3089exit\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u7d71\u5408\u8a8d\u8a3cID@pc-YY:~$ exit\n\n\u4e0a\u8a18\u3067ssh-agent\u3078\u306essh\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u306f\u7d42\u4e86\u3067\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u306fOS\u304b\u3089logout\u3059\u308b\u307e\u3067\u6709\u52b9\u3067\u3059\u3002\n3\u53f0\u4ee5\u4e0a\u3067MPI\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u5fc5\u8981\u53f0\u6570\u306e\u30d1\u30bd\u30b3\u30f3\u3092\u8d77\u52d5\u3057, MPI\u3067\u7528\u3044\u308b\u5168\u3066\u306e \u30d1\u30bd\u30b3\u30f3\u306bssh\u3067\u4e00\u5ea6\u30ed\u30b0\u30a4\u30f3\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002fingerprint\u304c\u6b63\u3057\u3044\u304b\u306e\u78ba\u8a8d\u4f5c \u696d\u3092\u5168\u3066\u306e\u30d1\u30bd\u30b3\u30f3\u3067\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n6.2.\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c\n\u7d9a\u3044\u3066\u672c\u984c\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c\u3067\u3059\u3002\u8907\u6570\u53f0\u3067\u306eMPI\u306e\u5b9f\u884c\u306fmpirun\u306e\u5f15\u6570-host\u306b\u30d1\u30bd\u30b3\u30f3\u540d\u3092\u30b3\u30f3\u30de\u300c,\u300d\u3067\u533a\u5207\u3063 \u3066\u6e21\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u73fe\u5728\u5229\u7528\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u30d1\u30bd\u30b3\u30f3\u3092pc-XX, \u8ffd\u52a0\u3067\u7acb\u3061\u4e0a\u3052\u305f\u30d1\u30bd\u30b3\u30f3\u3092pc-YY\u3068\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u6307\u5b9a\u6642\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u524d\u306b\u300c./\u300d\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n$ mpirun -n 5 -host pc-XX,pc-YY ./mpi_hello\nHello, my process rank is 1 on pc-XX\nHello, my process rank is 2 on pc-YY\nHello, my process rank is 3 on pc-XX\nHello, my process rank is 4 on pc-YY\n\n\u53f0\u5f62\u7a4d\u5206\u306e\u5b9f\u884c\u7d50\u679c\u3002\n$ mpirun -n 5 -host pc-XX,pc-YY ./mpi_sample\nWith n = 1024 trapezoids, our estimate\nof the itegral from 0.000000 to 2.000000 = 1.416146\n\n\u7c21\u5358\u3067\u3059\u304c\u4ee5\u4e0a\u3067MPI\u306e\u521d\u671f\u8a2d\u5b9a\u304a\u3088\u3073\u5b9f\u884c\u65b9\u6cd5\u306e\u89e3\u8aac\u3092\u7d42\u308f\u308a\u307e\u3059\u3002\n6.3.ssh\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\n\u3082\u3057\u30a6\u30a4\u30f3\u30c9\u30a6\u300cUnlock private key\u300d\u304c\u8868\u793a\u3055\u308c\u306a\u304b\u3063\u305f\u5834\u5408.\n\u75c7\u72b61: \u4ee5\u4e0b\u306e\u72b6\u614b(passwd:\u3068\u3044\u3046\u8868\u793a)\u306b\u306a\u3063\u305f\u5834\u5408\u306fssh\u306e\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u8a2d \u5b9a\u306b\u5931\u6557\u3057\u3066\u3044\u307e\u3059\u3002Ctrl+C\u3067\u629c\u3051\u3066\u8a2d\u5b9a\u3092\u898b\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n$ ssh pc-YY\n\u7d71\u5408\u8a8d\u8a3cID@pc-YY's password:\n\n\u75c7\u72b62: \u4ee5\u4e0b\u306e\u72b6\u614b(Enter passphrase..)\u306b\u306a\u3063\u305f\u5834\u5408\u306f\u3001GUI\u3067ssh\u516c\u958b\u9375\u8a8d\u8a3c\u306e \u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u767b\u9332\u3067\u304d\u306a\u3044\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002Ctrl+C\u3067\u629c\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n$ ssh pc-YY\nEnter passphrase for key '/home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa':\n\nssh-agent\u3092\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5f15\u7528\u7b26\u306f\u30d0\u30c3\u30af\u30af\u30aa\u30fc\u30c8\u300c`\u300d\u3067\u3059\u3002 \u30af\u30aa\u30fc\u30c8\u300c'\u300d\u3067\u3042\u308a\u307e\u305b\u3093\u3002\n$ eval `ssh-agent`\nAgent pid XXXX\n\nssh-add\u3067ssh\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u3002\n$ ssh-add\nEnter passphrase for /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa: (ssh\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b)\nIdentity added: /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa (/home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa)\nIdentity added: /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/identity (\u7d71\u5408\u8a8d\u8a3cID@\u30d1\u30bd\u30b3\u30f3\u540d)\n\n\u4e0a\u8a18\u3067ssh-agent\u3078\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u304c\u5b8c\u4e86\u3067\u3059\u3002\u5148\u307b\u3069\u8ff0\u3079\u305fGUI\u3067\u306essh\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u767b\u9332\u306fOS\u304b\u3089logout\u3059\u308b\u307e \u3067\u6709\u52b9\u3067\u3057\u305f\u304c\u3001ssh-agent\uff06ssh-add\u3067\u767b\u9332\u3057\u305f\u5834\u5408\u306f\u3001\u30a6\u30a4\u30f3\u30c9\u30a6\u300c\u7aef\u672b\u300d(\u6b63\u78ba\u306b\u306f\u30ed\u30b0\u30a4\u30f3shell)\u3054\u3068\u306b\u5fc5\u8981\u3067\u3059\u3002 \u65b0\u3057\u3044\u30a6\u30a4\u30f3\u30c9\u30a6\u300c\u7aef\u672b\u300d\u3092\u958b\u3044\u305f\u5834\u5408\u306f\u518d\u5ea6\u540c\u3058\u4f5c\u696d\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n0.\u306f\u3058\u3081\u306b\n\u5927\u5b66\u306e\u6f14\u7fd2\u3084\u30ec\u30dd\u30fc\u30c8\u4f5c\u6210\u7528\u306e\u7aef\u672b\u5ba4\u306bMPI\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u306e\u3067\u3059\u304c\u3001\u305d\u308c\u306e\u5229\u7528\u8005\u30de\u30cb\u30e5\u30a2\u30eb\u3092\u66f8\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u3069\u3053\u3067\u3082\u4f3c\u305f\u3088\u3046\u306a\u3082\u3093\u3060\u3068\u601d\u3044\u307e\u3059\u306e\u3067\u3001\u8ee2\u8f09\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u74b0\u5883\u3068\u3057\u3066\u306f\u7aef\u672b\u5ba4\u306bCentOS6.X/32bit\u306e\u7aef\u672b\u304c\u591a\u6570\u3042\u308a\u3001\u540c\u3058\u90e8\u5c4b\u306e\u7aef\u672b\u540c\u58eb\u306fssh\u3067\u30ed\u30b0\u30a4\u30f3\u53ef\u80fd\u306a\u74b0\u5883\u3067\u3059\u3002\u5b66\u751f\u306f\u5927\u5b66\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u7d71\u5408\u8a8d\u8a3c\u306eID\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\n\n\u4eca\u56deMPI\u3068\u3057\u3066openmpi\u3068mpich2\u3092\u5c0e\u5165\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\n$ yum install openmpi openmpi-devel\n$ yum install mpich2 mpich2-devel\n```\n\n2015/10/16\u6539\u8a02: \u7aef\u672b\u3068\u3044\u3046\u5358\u8a9e\u304cCentOS\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u6307\u3059\u5834\u5408\u3068\u30d1\u30bd\u30b3\u30f3\u672c\u4f53\u3092\u6307\u3059\u5834\u5408\u3067\u3054\u3063\u3061\u3083\u306b\u306a\u3063\u3066\u3044\u305f\u306e\u3067\u3001\u4fee\u6b63\u3002\n\n\u30de\u30cb\u30e5\u30a2\u30eb\u306f\u3053\u3053\u304b\u3089\u3002\n\n1.\u306f\u3058\u3081\u306b\n\u5b66\u79d1\u7aef\u672b\u5ba4\u306eLinux\u3067\u4e26\u5217\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u306e\u30e9\u30a4\u30d6\u30e9\u30eaMPI(Message Passing Interface)\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\u672c\u30da\u30fc\u30b8\u3067\u306f\u3001\u7aef\u672b\u5ba4\u3067MPI\u3092\u4f7f\u3046\u305f\u3081\u306e\u521d\u671f\u8a2d\u5b9a\u3068\u3001\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u3064\u3044\u3066\u8ff0\u3079\u3066\u3044\u307e\u3059\u3002\n\nMPI\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u6b21\u306e\u6587\u732e\u304c\u5f79\u306b\u305f\u3061\u307e\u3059\u3002\n\n<BLOCKQUOTE>\n\u4e26\u5217\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0<BR>\nP.\u30d1\u30c1\u30a7\u30b3\u8457, \u79cb\u8449\u535a \u8a33<BR>\n \u57f9\u98a8\u9928 , 2001\u5e74<BR>\n\u5927\u5b66\u56f3\u66f8\u9928\u306b\u3082\u6709\u308a\u307e\u3059\u3002\n</BLOCKQUOTE>\n\n2.\u5229\u7528\u3059\u308bMPI\u306e\u9078\u629e\n\n\u5b66\u79d1\u7aef\u672b\u306b\u306fMPI\u304c2\u7a2e\u985e\u5c0e\u5165\u3055\u308c\u3066\u3044\u307e\u3059\u3002 openmpi\u3068mpich\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u57fa\u672c\u7684\u306a\u4f7f\u3044\u304b\u305f\u306f\u3069\u3061\u3089\u3082\u540c\u3058\u3067\u3059\u3002openmpi\u3068mpich\u306e\u3044\u305a\u308c\u3092\u4f7f\u3046\u304b\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u73fe\u5728\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bMPI\u306e\u8868\u793a\u3002\n\n```\n$ module avail\n------------------------ /usr/share/Modules/modulefiles ------------------------\ndot         module-git  module-info modules     null        use.own\n\n------------------------------- /etc/modulefiles -------------------------------\nmpich-i386   openmpi-i386   \u2190 \u3053\u306e\u4e8c\u3064\u304c\u5c0e\u5165\u3055\u308c\u3066\u3044\u308b\u3002\n```\n\u5229\u7528\u3059\u308bMPI\u306e\u9078\u629e\u3002\n\n\u30a6\u30a4\u30f3\u30c9\u30a6\u306e\u300c\u7aef\u672b\u300d\u3092\u8d77\u52d5\u3057\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u5165\u529b\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n- openmpi\u3092\u5229\u7528\u3059\u308b\u3068\u304d\n```\n$ echo \"module add null\" >> ~/.bashrc\n$ module initadd openmpi-i386\n```\n\n- mpich\u3092\u5229\u7528\u3059\u308b\u3068\u304d\n```\n$ echo \"module add null\" >> ~/.bashrc\n$ module initadd mpich-i386\n```\n\n\u6b21\u306b\u3001\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u304f\u3060\u3055\u3044\u3002\n```\n$ exit\n```\n\u30a6\u30a4\u30f3\u30c9\u30a6\u300c\u7aef\u672b\u300d\u3092\u65b0\u305f\u306b\u958b\u3044\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3057\u3066\u30b3\u30de\u30f3\u30c9\u300cmpirun -h\u300d\u3092\u5b9f\u884c\u304f\u3060\u3055\u3044\u3002\n\n- openmpi\u3092\u9078\u629e\u3057\u305f\u3068\u304d\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n$ mpirun -h\n(\u3044\u308d\u3044\u308d\u8868\u793a\u3055\u308c\u308b)\n\nReport bugs to http://www.open-mpi.org/community/help/\n```\n\u6700\u5f8c\u306bopen-mpi\u4e91\u3005\u3068\u8868\u793a\n\n- mpich\u3092\u9078\u629e\u3057\u305f\u3068\u304d\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\n$ mpirun -h\n(\u3044\u308d\u3044\u308d\u8868\u793a\u3055\u308c\u308b)\nhttp://wiki.mpich.org/mpich/index.php/Using_the_Hydra_Process_Manager\nfor further details\n```\n\u6700\u5f8c\u306bmpich.org\u4e91\u3005\u3068\u8868\u793a\n\n\u4ee5\u4e0a\u3067MPI\u306e\u9078\u629e\u306f\u7d42\u4e86\u3067\u3059\u3002\n\n3.ssh\u306e\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u8a2d\u5b9a\n\n\u6ce8\u610f: \u672c\u8a2d\u5b9a\u306f\u3001\u7aef\u672b\u5ba4\u306e\u8907\u6570\u306e\u30d1\u30bd\u30b3\u30f3\u3067MPI\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306b\u5fc5\u8981\u3067\u3059\u30021\u53f0\u3067\u306e\u307f\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u4e0d\u8981\u3067\u3059\u3002\n\n\u8907\u6570\u306e\u30d1\u30bd\u30b3\u30f3\u3067MPI\u3092\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001ssh\u3092\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u5229\u7528\u53ef\u80fd\u306b\u3057\u3066\u4e0b\u3055\u3044\uff0e\u30d1\u30b9\u30ef\u30fc\u30c9\u8a8d\u8a3c\u306f\u4e0d\u53ef\u3067\u3059\u3002\n\n\u3059\u3067\u306bssh\u3092\u300c\u516c\u958b\u9375\u8a8d\u8a3c\u300d\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u5b66\u751f\u306f\u3053\u306e\u7ae0\u3092\u8aad\u307f\u98db\u3070\u3057\u3066\u4e0b\u3055\u3044\uff0e\n\n\u4eca\u307e\u3067ssh\u3092\u516c\u958b\u9375\u8a8d\u8a3c\u3092\u300c\u4e00\u5ea6\u3082\u4f7f\u3063\u305f\u4e8b\u304c\u7121\u304f\u300d\uff0c\u7aef\u672b\u5ba4\u3067MPI\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u3060\u3051\u306bssh\u3092\u8a2d\u5b9a\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u5341\u5206\u3067\u3059\uff0e(\u7d30\u304b\u3044\u8a2d\u5b9a\u306f\u98db\u3070\u3057\u3066\u307e\u3059\u3002)\n\n\u307e\u305assh\u7528\u306e\u30d1\u30b9\u30ef\u30fc\u30c9(passphrase)\u3092\u6c7a\u3081\u3066\u4e0b\u3055\u3044. \u7d71\u5408\u8a8d\u8a3cID\u3068\u306f\u7570\u306a\u308b \u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30d9\u30bf\u30fc\u3067\u3059\uff0e\n\n\u30b3\u30de\u30f3\u30c9(ssh-keygen)\u3067 ~/.ssh/id_rsa.pub\u3068 ~/.ssh/id_rsa \u306e\u4e8c\u3064\u306e\u30d5\u30a1\u30a4\u30eb \u3092\u751f\u6210\u3057\u3066\u304f\u3060\u3055\u3044\uff0eid_rsa.pub\u306fssh\u306e\u516c\u958b\u9375\uff0eid_ras\u306fssh\u306e\u79d8\u5bc6\u9375\u3067\u3059\uff0e\n\n```\n$ ssh-keygen\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa): (\u6539\u884c)\nEnter passphrase (empty for no passphrase): (ssh\u7528\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b)\nEnter same passphrase again: (\u518d\u5ea6\u5165\u529b)\n **\u8272\u3005\u8868\u793a\u3055\u308c\u307e\u3059\uff0e**\nYour identification has been saved in /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa.\nYour public key has been saved in /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa.pub.\nThe key fingerprint is:\n9a:70:ae:ac:bb:db:5a:45:99:00:b0:a2:2d:a4:f8:88 \u7d71\u5408\u8a8d\u8a3cID@\u30d1\u30bd\u30b3\u30f3\u540d\nThe key's randomart image is:\n+--[ RSA 2048]----+\n|.....            |\n| .   . o         |\n|o.    +          |\n|*.   .           |\n|= . . o S        |\n|.+   = o         |\n|E . . +          |\n|   + .           |\n|  **+            |\n+-----------------+\n```\n\n\u7d9a\u3044\u3066\u516c\u958b\u9375\u3092authorized_keys\u306b\u30b3\u30d4\u30fc\u3057\u3066\u4e0b\u3055\u3044. authorized_keys\u306f\u30ed\u30b0 \u30a4\u30f3\u8a31\u53ef\u3092\u3059\u308bssh\u306e\u516c\u958b\u9375\u306e\u4e00\u89a7\u8868\u3067\u3059\uff0e\n\n```\n$ cp ~/.ssh/id_rsa.pub ~/.ssh/authorized_keys\n```\n\n\u4ee5\u4e0a\u3067\u7aef\u672b\u5ba4\u3067ssh\u3092\u516c\u958b\u9375\u8a8d\u8a3c\u3067\u4f7f\u3046\u305f\u3081\u306e\u8a2d\u5b9a\u306f\u7d42\u4e86\u3067\u3059\u3002\n\n4.\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\n\nMPI\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306fFortran\u3067\u8a18\u8ff0\u3059\u308b\u4e8b\u304c\u591a\u3044\u3067\u3059\u304c\u3001\u5b66\u79d1\u7aef\u672b\u5ba4\u3067\u306fC \u8a00\u8a9e\u3067\u306e\u307f\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u3057\u3066\u4e8c\u3064\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002\u30ea\u30f3\u30af\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u62e1\u5f35\u5b50\u304c.txt\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001.c\u306b\u5909\u66f4\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n-mpi\u306e\u901a\u4fe1\u78ba\u8a8d\u306e\u30d7\u30ed\u30b0\u30e9\u30e0(mpi_hello.c \u30d5\u30a1\u30a4\u30eb\u7701\u7565.\u53c2\u8003\u6587\u732e43\u30da\u30fc\u30b8\u304b\u3089\u306e\u5f15\u7528\u3067\u3059\u3002)\n-mpi\u306e\u53f0\u5f62\u7a4d\u5206\u306e\u30d7\u30ed\u30b0\u30e9\u30e0(mpi_sample.c \u540c\u4e0a61\u30da\u30fc\u30b8\u3002)\n\n```\n$ mpicc mpi_hello.c -o mpi_hello\n$ mpicc mpi_sample.c -o mpi_sample\n```\n\n\u4e0a\u8a18\u4f5c\u696d\u3067\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3000mpi_hello\u3068 mpi_sample\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n5.\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c(1\u53f0\u3067\u306e\u307f)\n\nMPI\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306fmpirun\u30b3\u30de\u30f3\u30c9\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 \u5f15\u6570-n\u306f\u4f55\u500b\u306e\u30d7\u30ed\u30bb\u30b9\u3067\u5b9f\u884c\u3059\u308b\u304b\u306e\u6307\u5b9a\u3067\u3059\u3002pc-XX\u306e\u6240\u306f \u5b9f\u969b\u306f\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u30d1\u30bd\u30b3\u30f3\u540d\u306b\u306a\u308a\u307e\u3059\u3002\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u6307\u5b9a\u6642\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u306e \u524d\u306b\u300c./\u300d\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ mpirun -n 5 ./mpi_hello\nHello, my process rank is 1 on pc-XX\nHello, my process rank is 2 on pc-XX\nHello, my process rank is 3 on pc-XX\nHello, my process rank is 4 on pc-XX\n```\n\n\u53f0\u5f62\u7a4d\u5206\u306e\u5b9f\u884c\u7d50\u679c\u3002(qiita\u5f15\u7528\u6642\u88dc\u8db3: \u53c2\u8003\u6587\u732e\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u304b\u3089\u4fee\u6b63\u3057\u3066\u3044\u308b\u306e\u3067\u7d50\u679c\u304c\u7570\u306a\u308a\u307e\u3059)\n\n```\n$ mpirun -n 5 ./mpi_sample\nWith n = 1024 trapezoids, our estimate\nof the itegral from 0.000000 to 2.000000 = 1.416146\n```\n\n6.\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c(2\u53f0\u4ee5\u4e0a)\n\n\u6ce8\u610f: MPI\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8907\u6570\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001\u524d\u8ff0\u306e\u300c3. ssh\u306e\u516c\u958b\u9375\u8a8d\n\u8a3c\u306e\u8a2d\u5b9a\u300d\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u8907\u6570\u53f0\u3067\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001\u307b\u304b\u306e\u30d1\u30bd\u30b3\u30f3\u306bMPI\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6295\u5165\u6642\u306b\u30e6\u30fc\u30b6 \u8a8d\u8a3c\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\n6.1.ssh-agent\u306bssh\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\n\n\u5148\u307b\u3069\u8a2d\u5b9a\u3057\u305fssh\u306e\u516c\u958b\u9375\u8a8d\u8a3c\u306fssh-agent\u3068\u3044\u3046\u30d7\u30ed\u30b0\u30e9\u30e0\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u4e8b\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u8a8d\u8a3c\u6642\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u805e\u3044\u3066\u3053\u306a\u304f\u306a\u308a\u307e\u3059\u3002 \u30d1\u30b9\u30ef\u30fc\u30c9\u3092ssh-agent\u306b\u767b\u9332\u3057\u306a\u3044\u3068\u5b9f\u8cea\u7684\u306bMPI\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u5b9f\u884c\u3067\u304d \u306a\u3044\u305f\u3081\u3001ssh-agent\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nssh-agent\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u767b\u9332\u3059\u308b\u305f\u3081\u306b\u3001\u307e\u305a\u3001\u7aef\u672b\u5ba4\u306e\u30d1\u30bd\u30b3\u30f3\u3092\u3082\u3046\u4e00\u53f0\u8d77 \u52d5\u3055\u305b\u3066\u304f\u3060\u3055\u3044\u3002\u8ffd\u52a0\u3067\u8d77\u52d5\u3055\u305b\u305f\u30d1\u30bd\u30b3\u30f3\u3092pc-YY\u3068\u3057\u307e\u3059\u3002\n\n\u8d77\u52d5\u5f8c\u3001\u30d1\u30bd\u30b3\u30f3pc-YY\u306bssh\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ ssh pc-YY\n```\n\n\u521d\u56de\u5b9f\u884c\u6642\u306e\u307f: \u4ee5\u4e0b\u306e\u8cea\u554f\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u5b66\u79d1\u7aef\u672b\u5ba4\u306e\u30d1\u30bd\u30b3\u30f3\u306f\u5168\u3066\u4ee5\u4e0b\u306efingerprint\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\u540c\u3058\u5024\u3060\u3063 \u305f\u5834\u5408\u306fyes\u3068\u7b54\u3048\u3066\u304f\u3060\u3055\u3044\u3002(fingerprint\u304c\u7570\u306a\u308b\u5834\u5408\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u4e0a \u306e\u554f\u984c\u304c\u767a\u751f\u3057\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u7ba1\u7406\u8005\u307e\u3067\u304a\u77e5\u3089\u305b\u304f\u3060\u3055\u3044\u3002) \n\n```\nThe authenticity of host 'pc-YY (192.0.2.??)' can't be established.\nRSA key fingerprint is 1c:f8:82:fb:d7:fb:4d:af:45:eb:46:90:91:xx:xx:xx.\nAre you sure you want to continue connecting (yes/no)? (\u4e0a\u8a18\u306efingerprint\u3068\u540c\u3058\u306a\u3089yes\u3068\u7b54\u3048\u308b)\n```\n(Qiita\u5f15\u7528\u6642\u88dc\u8db3: \u4e0a\u8a18\u306e\u8a18\u8ff0\u3067\u3059\u304c\u3001\u3072\u3068\u3064\u306e\u96db\u578b\u3092\u8907\u6570\u306e\u7aef\u672b\u306b\u30b3\u30d4\u30fc\u3057\u3066\u3044\u308b\u305f\u3081\u306bfingerprint\u304c\u3059\u3079\u3066\u540c\u3058\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff0e\u901a\u5e38\u306e\u74b0\u5883\u3067\u306f\u5168\u3066\u306efingerprint\u306f\u7570\u306a\u308a\u307e\u3059\uff0e)\n\n\u7d9a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u300cUnlock private key\u300d\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002(\u30a6\u30a4\u30f3\u30c9\u30a6\u304c\u8868\u793a\u3055\u308c\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u5f8c\u8ff06.3\u7bc0\u53c2\u7167)\n\n![mpi-unlock-passwd.jpg](https://qiita-image-store.s3.amazonaws.com/0/61370/93732404-de41-c18b-8195-99d7032f8e18.jpeg)\n\n\u4e0a\u8a18\u306e\u30a6\u30a4\u30f3\u30c9\u30a6\u306b\u5148\u307b\u3069ssh-keygen\u5b9f\u884c\u6642\u767b\u9332\u3057\u305fssh\u306e\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u306b\u6210\u529f\u3059\u308b\u3068\u3001pc-YY\u306b\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068pc-YY\u3068\u3044\u3046\u30d1\u30bd\u30b3\u30f3\u540d\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n```\n\u7d71\u5408\u8a8d\u8a3cID@pc-YY:~$\n```\n\n\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3057\u305f\u3089pc-YY\u304b\u3089exit\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n\u7d71\u5408\u8a8d\u8a3cID@pc-YY:~$ exit\n```\n\n\u4e0a\u8a18\u3067ssh-agent\u3078\u306essh\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u306f\u7d42\u4e86\u3067\u3059\u3002\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u306fOS\u304b\u3089logout\u3059\u308b\u307e\u3067\u6709\u52b9\u3067\u3059\u3002\n\n3\u53f0\u4ee5\u4e0a\u3067MPI\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u5fc5\u8981\u53f0\u6570\u306e\u30d1\u30bd\u30b3\u30f3\u3092\u8d77\u52d5\u3057, MPI\u3067\u7528\u3044\u308b\u5168\u3066\u306e \u30d1\u30bd\u30b3\u30f3\u306bssh\u3067\u4e00\u5ea6\u30ed\u30b0\u30a4\u30f3\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002fingerprint\u304c\u6b63\u3057\u3044\u304b\u306e\u78ba\u8a8d\u4f5c \u696d\u3092\u5168\u3066\u306e\u30d1\u30bd\u30b3\u30f3\u3067\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\n6.2.\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c\n\n\u7d9a\u3044\u3066\u672c\u984c\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c\u3067\u3059\u3002\u8907\u6570\u53f0\u3067\u306eMPI\u306e\u5b9f\u884c\u306fmpirun\u306e\u5f15\u6570-host\u306b\u30d1\u30bd\u30b3\u30f3\u540d\u3092\u30b3\u30f3\u30de\u300c,\u300d\u3067\u533a\u5207\u3063 \u3066\u6e21\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u73fe\u5728\u5229\u7528\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u30d1\u30bd\u30b3\u30f3\u3092pc-XX, \u8ffd\u52a0\u3067\u7acb\u3061\u4e0a\u3052\u305f\u30d1\u30bd\u30b3\u30f3\u3092pc-YY\u3068\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u306e\u6307\u5b9a\u6642\u306f\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u524d\u306b\u300c./\u300d\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ mpirun -n 5 -host pc-XX,pc-YY ./mpi_hello\nHello, my process rank is 1 on pc-XX\nHello, my process rank is 2 on pc-YY\nHello, my process rank is 3 on pc-XX\nHello, my process rank is 4 on pc-YY\n```\n\n\u53f0\u5f62\u7a4d\u5206\u306e\u5b9f\u884c\u7d50\u679c\u3002\n\n```\n$ mpirun -n 5 -host pc-XX,pc-YY ./mpi_sample\nWith n = 1024 trapezoids, our estimate\nof the itegral from 0.000000 to 2.000000 = 1.416146\n```\n\n\u7c21\u5358\u3067\u3059\u304c\u4ee5\u4e0a\u3067MPI\u306e\u521d\u671f\u8a2d\u5b9a\u304a\u3088\u3073\u5b9f\u884c\u65b9\u6cd5\u306e\u89e3\u8aac\u3092\u7d42\u308f\u308a\u307e\u3059\u3002\n\n6.3.ssh\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\n\n\u3082\u3057\u30a6\u30a4\u30f3\u30c9\u30a6\u300cUnlock private key\u300d\u304c\u8868\u793a\u3055\u308c\u306a\u304b\u3063\u305f\u5834\u5408.\n\n\u75c7\u72b61: \u4ee5\u4e0b\u306e\u72b6\u614b(passwd:\u3068\u3044\u3046\u8868\u793a)\u306b\u306a\u3063\u305f\u5834\u5408\u306fssh\u306e\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u8a2d \u5b9a\u306b\u5931\u6557\u3057\u3066\u3044\u307e\u3059\u3002Ctrl+C\u3067\u629c\u3051\u3066\u8a2d\u5b9a\u3092\u898b\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ ssh pc-YY\n\u7d71\u5408\u8a8d\u8a3cID@pc-YY's password:\n```\n\n\u75c7\u72b62: \u4ee5\u4e0b\u306e\u72b6\u614b(Enter passphrase..)\u306b\u306a\u3063\u305f\u5834\u5408\u306f\u3001GUI\u3067ssh\u516c\u958b\u9375\u8a8d\u8a3c\u306e \u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u767b\u9332\u3067\u304d\u306a\u3044\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002Ctrl+C\u3067\u629c\u3051\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n$ ssh pc-YY\nEnter passphrase for key '/home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa':\n```\n\nssh-agent\u3092\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5f15\u7528\u7b26\u306f\u30d0\u30c3\u30af\u30af\u30aa\u30fc\u30c8\u300c`\u300d\u3067\u3059\u3002 \u30af\u30aa\u30fc\u30c8\u300c'\u300d\u3067\u3042\u308a\u307e\u305b\u3093\u3002\n\n```\n$ eval `ssh-agent`\nAgent pid XXXX\n```\n\nssh-add\u3067ssh\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u3002\n\n```\n$ ssh-add\nEnter passphrase for /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa: (ssh\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b)\nIdentity added: /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa (/home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/id_rsa)\nIdentity added: /home/\u7d71\u5408\u8a8d\u8a3cID/.ssh/identity (\u7d71\u5408\u8a8d\u8a3cID@\u30d1\u30bd\u30b3\u30f3\u540d)\n```\n\n\u4e0a\u8a18\u3067ssh-agent\u3078\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u767b\u9332\u304c\u5b8c\u4e86\u3067\u3059\u3002\u5148\u307b\u3069\u8ff0\u3079\u305fGUI\u3067\u306essh\u516c\u958b\u9375\u8a8d\u8a3c\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u767b\u9332\u306fOS\u304b\u3089logout\u3059\u308b\u307e \u3067\u6709\u52b9\u3067\u3057\u305f\u304c\u3001ssh-agent\uff06ssh-add\u3067\u767b\u9332\u3057\u305f\u5834\u5408\u306f\u3001\u30a6\u30a4\u30f3\u30c9\u30a6\u300c\u7aef\u672b\u300d(\u6b63\u78ba\u306b\u306f\u30ed\u30b0\u30a4\u30f3shell)\u3054\u3068\u306b\u5fc5\u8981\u3067\u3059\u3002 \u65b0\u3057\u3044\u30a6\u30a4\u30f3\u30c9\u30a6\u300c\u7aef\u672b\u300d\u3092\u958b\u3044\u305f\u5834\u5408\u306f\u518d\u5ea6\u540c\u3058\u4f5c\u696d\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n", "tags": ["openmpi", "CentOS6.x", "mpich"]}