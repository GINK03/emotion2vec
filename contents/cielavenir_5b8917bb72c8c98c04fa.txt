{"context": " More than 1 year has passed since last update.\u4eca\u56de\u306f\u6bd4\u8f03\u7684\u7c21\u5358\u3067\u3057\u305f\u3002\u3084\u306f\u308a\u79c1\u306f\u5e7e\u4f55\u304c\u3060\u3081\u306a\u6a21\u69d8\u3002\n\nhena18.rb\n#!/usr/bin/env ruby\n#http://qiita.com/Nabetani/items/ad47666c2f2f44ada1e7\n#http://nabetani.sakura.ne.jp/hena/ord18notfork/\nA=[2,7,3,5,2]\nwhile gets\n    a=[0]*A.size\n    bug=[nil]*A.size\n    $_.each_char{|c|\n        if c=='.'\n            A.size.times{|i|\n                if bug[i]\n                    num=[A[i],bug[i]].min\n                    a[i]-=num\n                    bug[i]-=num\n                else\n                    a[i]-=A[i]\n                    a[i]=0 if a[i]<0\n                end\n            }\n        else\n            n=a.each_with_index.min.last\n            if c=='x'\n                bug[n]=a[n] if !bug[n]\n                a[n]+=1\n            else\n                a[n]+=c.to_i\n            end\n        end\n    }\n    puts a*','\nend\n\n\n\u4eca\u56de\u306f\u6bd4\u8f03\u7684\u7c21\u5358\u3067\u3057\u305f\u3002\u3084\u306f\u308a\u79c1\u306f\u5e7e\u4f55\u304c\u3060\u3081\u306a\u6a21\u69d8\u3002\n\n```rb:hena18.rb\n#!/usr/bin/env ruby\n#http://qiita.com/Nabetani/items/ad47666c2f2f44ada1e7\n#http://nabetani.sakura.ne.jp/hena/ord18notfork/\nA=[2,7,3,5,2]\nwhile gets\n\ta=[0]*A.size\n\tbug=[nil]*A.size\n\t$_.each_char{|c|\n\t\tif c=='.'\n\t\t\tA.size.times{|i|\n\t\t\t\tif bug[i]\n\t\t\t\t\tnum=[A[i],bug[i]].min\n\t\t\t\t\ta[i]-=num\n\t\t\t\t\tbug[i]-=num\n\t\t\t\telse\n\t\t\t\t\ta[i]-=A[i]\n\t\t\t\t\ta[i]=0 if a[i]<0\n\t\t\t\tend\n\t\t\t}\n\t\telse\n\t\t\tn=a.each_with_index.min.last\n\t\t\tif c=='x'\n\t\t\t\tbug[n]=a[n] if !bug[n]\n\t\t\t\ta[n]+=1\n\t\t\telse\n\t\t\t\ta[n]+=c.to_i\n\t\t\tend\n\t\tend\n\t}\n\tputs a*','\nend\n```\n", "tags": ["Ruby", "\u3069\u3046\u66f8\u304f", "yhpg"]}