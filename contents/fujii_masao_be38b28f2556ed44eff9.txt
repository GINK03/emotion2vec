{"context": " More than 1 year has passed since last update.PostgreSQL Advent Calendar 2015 Day2\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3092\u5fdc\u7528\u3057\u3066\u3001\u5168\u6587\u691c\u7d22\u30e2\u30b8\u30e5\u30fc\u30ebpg_bigm\u3092psql\u7d4c\u7531\u3067\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7(\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304b\u3089DB\u767b\u9332\u307e\u3067)\u3057\u307e\u3059\u3002\n-- \u30b7\u30a7\u30eb\u306e\u30bd\u30fc\u30b9\u3092\u4fdd\u5b58\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nCREATE TABLE shell (num serial, line TEXT);\n\n-- pg_bigm\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u884c\u3046\u30b7\u30a7\u30eb\u3092\u30c6\u30fc\u30d6\u30eb\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\nCOPY shell (line) FROM stdin;\n#!/bin/sh\n\ncd /tmp\nwget 'http://osdn.jp/frs/redir.php?m=jaist&f=%2Fpgbigm%2F63792%2Fpg_bigm-1.1-20150910.tar.gz'\ntar zxf pg_bigm-1.1-20150910.tar.gz\ncd pg_bigm-1.1-20150910\nmake USE_PGXS=1\nmake USE_PGXS=1 install\n\\.\n\n-- \u30c6\u30fc\u30d6\u30eb\u304b\u3089\u30b7\u30a7\u30eb\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\n-- \u3053\u308c\u306b\u3088\u308a\u3001pg_bigm\u306e\u30bd\u30fc\u30b9\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u307e\u3059\u3002\nCOPY (SELECT line FROM shell ORDER BY num) TO PROGRAM 'tee /tmp/inst_bigm.sh; chmod 744 /tmp/inst_bigm.sh; /tmp/inst_bigm.sh';\n\n-- pg_bigm\u3092DB\u306b\u767b\u9332\u3057\u307e\u3059\u3002\nCREATE EXTENSION pg_bigm;\n\n-- ALTER SYSTEM SET\u3067\u3001pg_bigm\u3092shared_preload_libraries\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nALTER SYSTEM SET shared_preload_libraries TO 'pg_bigm';\n\n-- shared_preload_libraries\u306e\u8a2d\u5b9a\u5909\u66f4\u3092\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u3001PostgreSQL\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n-- \u307e\u305a\u306fPostgreSQL\u3092\u518d\u8d77\u52d5\u3059\u308b\u30b7\u30a7\u30eb\u3092\u30c6\u30fc\u30d6\u30eb\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\nTRUNCATE shell;\n\nCOPY shell (line) FROM stdin;\n#!/bin/sh\n\npg_ctl -m f stop\npg_ctl start\n\\.\n\n-- \u30c6\u30fc\u30d6\u30eb\u304b\u3089\u30b7\u30a7\u30eb\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\n-- \u3053\u308c\u306b\u3088\u308a\u3001PostgreSQL\u304c\u518d\u8d77\u52d5\u3055\u308c\u3001shared_preload_libraries\u306epg_bigm\u306e\u8a2d\u5b9a\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\nCOPY (SELECT line FROM shell ORDER BY num) TO PROGRAM 'tee /tmp/restart_pg.sh; chmod 744 /tmp/restart_pg.sh; /tmp/restart_pg.sh &';\n\n[PostgreSQL Advent Calendar 2015 Day2](http://qiita.com/fujii_masao/items/067e8e40aec889ecf9fb)\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3092\u5fdc\u7528\u3057\u3066\u3001\u5168\u6587\u691c\u7d22\u30e2\u30b8\u30e5\u30fc\u30eb[pg_bigm](http://pgbigm.osdn.jp/)\u3092psql\u7d4c\u7531\u3067\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7(\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u304b\u3089DB\u767b\u9332\u307e\u3067)\u3057\u307e\u3059\u3002\n\n```plpgsql\n-- \u30b7\u30a7\u30eb\u306e\u30bd\u30fc\u30b9\u3092\u4fdd\u5b58\u3059\u308b\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\nCREATE TABLE shell (num serial, line TEXT);\n\n-- pg_bigm\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u884c\u3046\u30b7\u30a7\u30eb\u3092\u30c6\u30fc\u30d6\u30eb\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\nCOPY shell (line) FROM stdin;\n#!/bin/sh\n\ncd /tmp\nwget 'http://osdn.jp/frs/redir.php?m=jaist&f=%2Fpgbigm%2F63792%2Fpg_bigm-1.1-20150910.tar.gz'\ntar zxf pg_bigm-1.1-20150910.tar.gz\ncd pg_bigm-1.1-20150910\nmake USE_PGXS=1\nmake USE_PGXS=1 install\n\\.\n\n-- \u30c6\u30fc\u30d6\u30eb\u304b\u3089\u30b7\u30a7\u30eb\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\n-- \u3053\u308c\u306b\u3088\u308a\u3001pg_bigm\u306e\u30bd\u30fc\u30b9\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u307e\u3059\u3002\nCOPY (SELECT line FROM shell ORDER BY num) TO PROGRAM 'tee /tmp/inst_bigm.sh; chmod 744 /tmp/inst_bigm.sh; /tmp/inst_bigm.sh';\n\n-- pg_bigm\u3092DB\u306b\u767b\u9332\u3057\u307e\u3059\u3002\nCREATE EXTENSION pg_bigm;\n\n-- ALTER SYSTEM SET\u3067\u3001pg_bigm\u3092shared_preload_libraries\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nALTER SYSTEM SET shared_preload_libraries TO 'pg_bigm';\n\n-- shared_preload_libraries\u306e\u8a2d\u5b9a\u5909\u66f4\u3092\u53cd\u6620\u3059\u308b\u305f\u3081\u306b\u3001PostgreSQL\u3092\u518d\u8d77\u52d5\u3057\u307e\u3059\u3002\n-- \u307e\u305a\u306fPostgreSQL\u3092\u518d\u8d77\u52d5\u3059\u308b\u30b7\u30a7\u30eb\u3092\u30c6\u30fc\u30d6\u30eb\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002\nTRUNCATE shell;\n\nCOPY shell (line) FROM stdin;\n#!/bin/sh\n\npg_ctl -m f stop\npg_ctl start\n\\.\n\n-- \u30c6\u30fc\u30d6\u30eb\u304b\u3089\u30b7\u30a7\u30eb\u306e\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u5b9f\u884c\u3057\u307e\u3059\u3002\n-- \u3053\u308c\u306b\u3088\u308a\u3001PostgreSQL\u304c\u518d\u8d77\u52d5\u3055\u308c\u3001shared_preload_libraries\u306epg_bigm\u306e\u8a2d\u5b9a\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002\nCOPY (SELECT line FROM shell ORDER BY num) TO PROGRAM 'tee /tmp/restart_pg.sh; chmod 744 /tmp/restart_pg.sh; /tmp/restart_pg.sh &';\n```\n", "tags": ["PostgreSQL", "pg_bigm", "install"]}