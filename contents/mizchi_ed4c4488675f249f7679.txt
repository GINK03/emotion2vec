{"tags": ["flowtype"], "context": "yarn add babel-preset-env babel-plugin-flow-runtime flow-runtime -D\u3057\u3066\u304a\u304f\u3002 \nbabel-preset-env \u3067\u3053\u3093\u306a\u8a2d\u5b9a\u3092\u66f8\u3044\u305f\n\n.babelrc\n{\n  \"presets\": [\n    [\"env\", { \"targets\": {\n      \"Chrome\": 56\n    }}]\n  ],\n  \"plugins\": [\n    \"flow-runtime\"\n  ],\n  \"env\": {\n    \"test\": {\n      \"presets\": [\n        [\"env\", { \"targets\": {\n          \"node\": 6\n        }}]\n      ],\n      \"plugins\": [\n        [\"flow-runtime\", {\"assert\": true}],\n        \"transform-async-to-generator\"\n      ],\n    },\n    \"production\": {\n      \"presets\": [\n        \"flow\",\n        [\"env\", { \"targets\": {\n          \"browsers\": [\"last 2 versions\", \"IE 11\"]\n        }}]\n      ]\n    }\n  }\n}\n\n\n\u672c\u7b4b\u95a2\u4fc2\u306a\u3044\u304c\u3001\u958b\u767a\u6642\u306f Chrome \u30bf\u30fc\u30b2\u30c3\u30c8\u3060\u3051\u3067\u9811\u5f35\u308b\u8a2d\u5b9a\u3002\n$ NODE_ENV=test ava\n\n\nfoo.js\n/* @flow */\nexport default function foo (): number {\n  return ''\n}\n\n\n\nfoo.test.js\n/* @flow */\nimport foo from './foo'\nimport test from 'ava'\n\ntest(async t => {\n  t.is(foo(), 1)\n})\n\n\n\n`yarn add babel-preset-env babel-plugin-flow-runtime flow-runtime -D`\u3057\u3066\u304a\u304f\u3002 \n\nbabel-preset-env \u3067\u3053\u3093\u306a\u8a2d\u5b9a\u3092\u66f8\u3044\u305f\n\n```json:.babelrc\n{\n  \"presets\": [\n    [\"env\", { \"targets\": {\n      \"Chrome\": 56\n    }}]\n  ],\n  \"plugins\": [\n    \"flow-runtime\"\n  ],\n  \"env\": {\n    \"test\": {\n      \"presets\": [\n        [\"env\", { \"targets\": {\n          \"node\": 6\n        }}]\n      ],\n      \"plugins\": [\n        [\"flow-runtime\", {\"assert\": true}],\n        \"transform-async-to-generator\"\n      ],\n    },\n    \"production\": {\n      \"presets\": [\n        \"flow\",\n        [\"env\", { \"targets\": {\n          \"browsers\": [\"last 2 versions\", \"IE 11\"]\n        }}]\n      ]\n    }\n  }\n}\n```\n\n\u672c\u7b4b\u95a2\u4fc2\u306a\u3044\u304c\u3001\u958b\u767a\u6642\u306f Chrome \u30bf\u30fc\u30b2\u30c3\u30c8\u3060\u3051\u3067\u9811\u5f35\u308b\u8a2d\u5b9a\u3002\n\n```\n$ NODE_ENV=test ava\n```\n\n```js:foo.js\n/* @flow */\nexport default function foo (): number {\n  return ''\n}\n```\n\n```js:foo.test.js\n/* @flow */\nimport foo from './foo'\nimport test from 'ava'\n\ntest(async t => {\n  t.is(foo(), 1)\n})\n```\n\n\n![](https://i.gyazo.com/6d8692a534e5e7a946acd834e0ec26d2.png)\n"}