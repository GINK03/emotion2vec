{"context": "Cakephp3\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u983b\u51fa\u3059\u308bassociation\u6307\u5b9a\u306b\u3064\u3044\u3066\u3001\u7279\u306b\u5b6bassociation\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306e\u8a18\u6cd5\u304c\u610f\u5916\u3068\u96e3\u3057\u3044\u306e\u3067\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n\u30d1\u30bf\u30fc\u30f31. \u30af\u30a8\u30ea\u30d3\u30eb\u30c0\u306econtain\nCakePHP3\u3092\u3084\u3063\u3066\u3044\u308b\u3068\u4e00\u756a\u99b4\u67d3\u307f\u6df1\u3044\u30d1\u30bf\u30fc\u30f3\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u305f\u3060\u3001\u3053\u306e\u66f8\u304d\u65b9\u3060\u3051\u77e5\u3063\u3066\u3044\u308b\u3068\u3001\u4ed6\u3067\u306f\u307e\u308b\u3053\u3068\u3082\u30fb\u30fb\u30fb\u3002\n'contain' => [\n  'Childs' => [\n    'GrandChilds',\n    'OtherGrandChilds'\n  ]\n  ...\n]\n\n\n\u30d1\u30bf\u30fc\u30f32. Entity->newEntity() \u306a\u3069\n\u3053\u3061\u3089\u304c\u6bd4\u8f03\u7684\u306f\u307e\u308a\u304c\u3061\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u3001\u30d1\u30bf\u30fc\u30f31\u3068\u540c\u3058\u3088\u3046\u306b\u66f8\u3044\u3066\u3057\u307e\u3046\u3068\u3001\n\u5b6b\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u304c\u3046\u307e\u304f\u50cd\u3044\u3066\u304f\u308c\u307e\u305b\u3093\u3002\n\u7279\u306b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3069\u3082\u51fa\u306a\u3044\u306e\u3067\u3001\u5b6b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u4e00\u62ec\u767b\u9332\u3092\u8ae6\u3081\u3066\u3057\u307e\u3046\u4eba\u3082\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\uff08\u79c1\u3067\u3059\uff09\n\u8a72\u5f53\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u3053\u3061\u3089\u306b\u306a\u308a\u307e\u3059\u3002(\u4ed6\u306b\u3082\u3042\u308a\u307e\u3057\u305f\u3089\u30b3\u30e1\u30f3\u30c8\u304a\u9858\u3044\u3057\u307e\u3059\uff09\n- Entity->newEntity() , patchEntity() , save()\n- FormHelper->create() \u306econtext=>validator\u30aa\u30d7\u30b7\u30e7\u30f3\n\u8a18\u6cd5\u3068\u3057\u3066\u306f2\u7a2e\u985e\u5b58\u5728\u3057\u307e\u3059\u3002\n\n.\u7e4b\u304e\u3067\u6df1\u3044\u95a2\u9023\u3092\u6307\u5b9a\u3059\u308b\u30d1\u30bf\u30fc\u30f3\nUsers->newEntity($data,\n    'associated' => [\n        'Childs' => [\n            'validate' => 'register'\n        ],\n        'Childs.GrandChilds' => [\n            'validate' => 'register'\n        ],\n        'Childs.OtherGrandChilds' => [\n            'validate' => 'register'\n        ],\n    ],\n\n\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u306f\u3001\n\n\u914d\u5217\u306e\u30cd\u30b9\u30c8\u3067\u306f\u306a\u304f\u3001.\u7e4b\u304e\u3067\u3001\u3088\u308a\u6df1\u3044\u95a2\u9023\u3092\u6307\u5b9a\u3059\u308b\n\u30c6\u30fc\u30d6\u30eb\u540d\u306e\u30cd\u30b9\u30c8\u914d\u5217\u306b\u306fvalidate\u3092\u6307\u5b9a\u3059\u308b(\u7701\u7565\u3055\u308c\u305f\u5834\u5408\u306b\u306f defaultValidator \u304c\u547c\u3073\u51fa\u3055\u308c\u307e\u3059)\n\nFormHelper->create() \u306econtext=>validator\u3067\u66f8\u304f\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n$this->Form->create($user,[\n                    'type' => 'post',\n                    'url' => [\n                        'action' => 'save',\n                        'controller' => 'user',\n                    ],\n                    'context' => [\n                        'validator' => [\n                            'Childs' => 'default',\n                            'Childs.GrandChilds' => 'order',\n                            'Childs.OtherGrandChilds' => 'order'\n                        ]\n                    ],\n                ])\n\n\nassociated \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5165\u308c\u5b50\u3067\u4f7f\u7528\u3059\u308b\n\u3053\u3061\u3089\u306f\u516c\u5f0f\u306e\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u65b9\u6cd5\u3067\u3059\u3002\n// \u5165\u308c\u5b50\u306b\u306a\u3063\u305f\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u4ed8\u304d\u306e\u65b0\u3057\u3044\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\n$articles->newEntity($data, [\n    'associated' => [\n        'Tags', \n        'Comments' => [\n            'associated' => ['Users']\n        ]\n    ]\n]);\n\n\u5b50\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u914d\u5217\u306e\u4e2d\u306b\u3001\u3055\u3089\u306bassociated\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u611f\u3058\u3067\u3059\u306d\u3002\n(\u8a66\u3057\u3066\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u3061\u3089\u306e\u8a18\u6cd5\u3067FormHelper->create()\u306f\u3069\u3046\u66f8\u304f\u306e\u3067\u3057\u3087\u3046\u30fb\u30fb\u30fb\u3002validator\u306e\u306a\u304b\u306bassociated\u3092\u66f8\u304f\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\u500b\u4eba\u7684\u306b\u306f .\u533a\u5207\u308a\u306e\u8a18\u6cd5\u306e\u307b\u3046\u304c\u30cd\u30b9\u30c8\u304c\u8907\u96d1\u306b\u306a\u3089\u305a\u3001\u30b7\u30f3\u30d7\u30eb\u306b\u66f8\u3051\u308b\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\nCakephp3\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u983b\u51fa\u3059\u308b`association`\u6307\u5b9a\u306b\u3064\u3044\u3066\u3001\u7279\u306b\u5b6bassociation\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u306e\u8a18\u6cd5\u304c\u610f\u5916\u3068\u96e3\u3057\u3044\u306e\u3067\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\n# \u30d1\u30bf\u30fc\u30f31. \u30af\u30a8\u30ea\u30d3\u30eb\u30c0\u306econtain\nCakePHP3\u3092\u3084\u3063\u3066\u3044\u308b\u3068\u4e00\u756a\u99b4\u67d3\u307f\u6df1\u3044\u30d1\u30bf\u30fc\u30f3\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\u305f\u3060\u3001\u3053\u306e\u66f8\u304d\u65b9\u3060\u3051\u77e5\u3063\u3066\u3044\u308b\u3068\u3001\u4ed6\u3067\u306f\u307e\u308b\u3053\u3068\u3082\u30fb\u30fb\u30fb\u3002\n\n```php\n'contain' => [\n  'Childs' => [\n    'GrandChilds',\n    'OtherGrandChilds'\n  ]\n  ...\n]\n```\n\n# \u30d1\u30bf\u30fc\u30f32. `Entity->newEntity()` \u306a\u3069\n\n\u3053\u3061\u3089\u304c\u6bd4\u8f03\u7684\u306f\u307e\u308a\u304c\u3061\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u3001\u30d1\u30bf\u30fc\u30f31\u3068\u540c\u3058\u3088\u3046\u306b\u66f8\u3044\u3066\u3057\u307e\u3046\u3068\u3001\n\u5b6b\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u304c\u3046\u307e\u304f\u50cd\u3044\u3066\u304f\u308c\u307e\u305b\u3093\u3002\n\u7279\u306b\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306a\u3069\u3082\u51fa\u306a\u3044\u306e\u3067\u3001\u5b6b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u4e00\u62ec\u767b\u9332\u3092\u8ae6\u3081\u3066\u3057\u307e\u3046\u4eba\u3082\u3044\u308b\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\uff08\u79c1\u3067\u3059\uff09\n\n\u8a72\u5f53\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u3053\u3061\u3089\u306b\u306a\u308a\u307e\u3059\u3002(\u4ed6\u306b\u3082\u3042\u308a\u307e\u3057\u305f\u3089\u30b3\u30e1\u30f3\u30c8\u304a\u9858\u3044\u3057\u307e\u3059\uff09\n- `Entity->newEntity()` , `patchEntity()` , `save()`\n- `FormHelper->create()` \u306econtext=>validator\u30aa\u30d7\u30b7\u30e7\u30f3\n\n\u8a18\u6cd5\u3068\u3057\u3066\u306f2\u7a2e\u985e\u5b58\u5728\u3057\u307e\u3059\u3002\n\n## `.`\u7e4b\u304e\u3067\u6df1\u3044\u95a2\u9023\u3092\u6307\u5b9a\u3059\u308b\u30d1\u30bf\u30fc\u30f3\n\n```php\nUsers->newEntity($data,\n    'associated' => [\n        'Childs' => [\n            'validate' => 'register'\n        ],\n        'Childs.GrandChilds' => [\n            'validate' => 'register'\n        ],\n        'Childs.OtherGrandChilds' => [\n            'validate' => 'register'\n        ],\n    ],\n```\n\n\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u306f\u3001\n\n- \u914d\u5217\u306e\u30cd\u30b9\u30c8\u3067\u306f\u306a\u304f\u3001`.`\u7e4b\u304e\u3067\u3001\u3088\u308a\u6df1\u3044\u95a2\u9023\u3092\u6307\u5b9a\u3059\u308b\n- \u30c6\u30fc\u30d6\u30eb\u540d\u306e\u30cd\u30b9\u30c8\u914d\u5217\u306b\u306f`validate`\u3092\u6307\u5b9a\u3059\u308b(\u7701\u7565\u3055\u308c\u305f\u5834\u5408\u306b\u306f `defaultValidator` \u304c\u547c\u3073\u51fa\u3055\u308c\u307e\u3059)\n\n`FormHelper->create()` \u306econtext=>validator\u3067\u66f8\u304f\u5834\u5408\u306f\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u308a\u307e\u3059\u3002\n\n```php\n$this->Form->create($user,[\n                    'type' => 'post',\n                    'url' => [\n                        'action' => 'save',\n                        'controller' => 'user',\n                    ],\n                    'context' => [\n                        'validator' => [\n                            'Childs' => 'default',\n                            'Childs.GrandChilds' => 'order',\n                            'Childs.OtherGrandChilds' => 'order'\n                        ]\n                    ],\n                ])\n```\n\n\n# `associated ` \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5165\u308c\u5b50\u3067\u4f7f\u7528\u3059\u308b\n\n\u3053\u3061\u3089\u306f\u516c\u5f0f\u306e[\u30c7\u30fc\u30bf\u306e\u4fdd\u5b58](https://book.cakephp.org/3.0/ja/orm/saving-data.html)\u306b\u66f8\u304b\u308c\u3066\u3044\u308b\u65b9\u6cd5\u3067\u3059\u3002\n\n```php\n// \u5165\u308c\u5b50\u306b\u306a\u3063\u305f\u30a2\u30bd\u30b7\u30a8\u30fc\u30b7\u30e7\u30f3\u4ed8\u304d\u306e\u65b0\u3057\u3044\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\n$articles->newEntity($data, [\n    'associated' => [\n        'Tags', \n        'Comments' => [\n            'associated' => ['Users']\n        ]\n    ]\n]);\n```\n\n\u5b50\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306e\u914d\u5217\u306e\u4e2d\u306b\u3001\u3055\u3089\u306b`associated`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u611f\u3058\u3067\u3059\u306d\u3002\n(\u8a66\u3057\u3066\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u3053\u3061\u3089\u306e\u8a18\u6cd5\u3067`FormHelper->create()`\u306f\u3069\u3046\u66f8\u304f\u306e\u3067\u3057\u3087\u3046\u30fb\u30fb\u30fb\u3002validator\u306e\u306a\u304b\u306bassociated\u3092\u66f8\u304f\u306e\u3067\u3057\u3087\u3046\u304b\u3002\n\n------\n\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\u500b\u4eba\u7684\u306b\u306f `.`\u533a\u5207\u308a\u306e\u8a18\u6cd5\u306e\u307b\u3046\u304c\u30cd\u30b9\u30c8\u304c\u8907\u96d1\u306b\u306a\u3089\u305a\u3001\u30b7\u30f3\u30d7\u30eb\u306b\u66f8\u3051\u308b\u30a4\u30e1\u30fc\u30b8\u3067\u3059\u3002\n", "tags": ["cakephp3"]}