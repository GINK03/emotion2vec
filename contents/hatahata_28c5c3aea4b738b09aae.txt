{"context": " More than 1 year has passed since last update.\u53c2\u8003\u30b5\u30a4\u30c8\nhttp://memocra.blogspot.jp/2013/05/mroonga-mroongamysql.html\nAWS\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\n\u25a0mysql5.5\u3092\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum remove mysql\nyum remove mysql-server\nyum remove mysql-libs\n\u25a0\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum install cmake\nyum install -y ncurses\nyum install -y ncurses-devel\nyum install -y gcc-c++\nyum install -y bison\n\u25a0mysql5.6\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwget http://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.17.tar.gz\ntar mysql-5.6.17.tar.gz\ncd mysql-5.6.17\ncmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DENABLED_LOCAL_INFILE=true -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_EXTRA_CHARSETS=all -DWITH_READLINE=OFF\nmake\nmake install\nmysql5.6\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\uff01\n\u25a0conf\u306e\u8a2d\u5b9a\nsudo cp /usr/local/mysql/support-files/my-default.cnf /etc/my.cnf\nconf\u306f\u4e0b\u8a18\u306b\u3057\u3066\u304a\u304f(\u3068\u308a\u3042\u3048\u305a)\n[client]\nport  = 3306\nsocket  = /tmp/mysql.sock\ndefault-character-set = utf8\n[mysqld]\nport  = 3306\nsocket  = /tmp/mysql.sock\nskip-external-locking\nkey_buffer_size = 256M\nmax_allowed_packet = 1M\ntable_open_cache = 256\nsort_buffer_size = 1M\nread_buffer_size = 1M\nread_rnd_buffer_size = 4M\nmyisam_sort_buffer_size = 64M\nthread_cache_size = 8\nquery_cache_size= 16M\nthread_concurrency = 8\nlog-bin=mysql-bin\nbinlog_format=mixed\nserver-id = 1\ninnodb_data_home_dir = /usr/local/mysql/data\ninnodb_data_file_path = ibdata1:10M:autoextend\ninnodb_log_group_home_dir = /usr/local/mysql/data\ninnodb_buffer_pool_size = 256M\ninnodb_additional_mem_pool_size = 20M\ninnodb_log_file_size = 64M\ninnodb_log_buffer_size = 8M\ninnodb_flush_log_at_trx_commit = 1\ninnodb_lock_wait_timeout = 50\ninnodb_file_per_table\ninnodb_fast_shutdown = 0\n[mysqldump]\nquick\nmax_allowed_packet = 16M\n[mysql]\nno-auto-rehash\n[myisamchk]\nkey_buffer_size = 128M\nsort_buffer_size = 128M\nread_buffer = 2M\nwrite_buffer = 2M\n[mysqlhotcopy]\ninteractive-timeout\n\n\u25a0mysql\u30e6\u30fc\u30b6\u30fb\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\ngroupadd mysql\nuseradd -g mysql -d /bin/false mysql\n\u25a0mysql_install_db \u3092\u5b9f\u884c\n/usr/local/mysql/scripts/mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data\n\u25a0\u8d77\u52d5\u306e\u8a2d\u5b9a\nvi /root/.bash_profile\n# .bash_profile\n\n# Get the aliases and functions\nif [ -f ~/.bashrc ]; then\n . ~/.bashrc\nfi\n\n# User specific environment and startup programs\n\nPATH=$PATH:$HOME/bin:/usr/local/mysql/bin\n\nexport PATH\n\nsource ~/.bash_profile\nsudo cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql\nsudo /etc/init.d/mysql start\n\u25a0groonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nrpm -ivh http://packages.groonga.org/centos/groonga-release-1.1.0-1.noarch.rpm\nyum makecache\nsudo yum --enablerepo=groonga install -y mecab\nsudo yum --enablerepo=groonga install -y mecab-ipadic\nsudo yum --enablerepo=groonga install -y groonga\nsudo yum --enablerepo=groonga install -y groonga-tokenizer-mecab\nsudo yum --enablerepo=groonga install -y groonga-normalizer-mysql\nsudo yum --enablerepo=groonga install -y groonga-devel\n\u25a0mroonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nyum\u3067\u306emroonga\u306fmysql5.1\u306b\u4f9d\u5b58\u3059\u308b\u306e\u3067\nmysql5.5\u3067\u306f\u30bd\u30fc\u30b9\u304b\u3089mroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\nsudo yum install -y automake\ncd /usr/local/src/\nsudo curl -OL http://packages.groonga.org/source/mroonga/mroonga-4.02.tar.gz\nsudo tar xzvf mroonga-4.02.tar.gz\ncd mroonga-4.0.2\nsudo ./configure --with-mysql-source=/usr/local/src/mysql-5.6.17 --with-mysql-config=/usr/local/mysql/bin/mysql_config\nsudo make\nsudo make install\n\u53c2\u8003\u30b5\u30a4\u30c8\nhttp://memocra.blogspot.jp/2013/05/mroonga-mroongamysql.html\n\nAWS\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\n\n\u25a0mysql5.5\u3092\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nyum remove mysql\nyum remove mysql-server\nyum remove mysql-libs\n\n\u25a0\u30d3\u30eb\u30c9\u306b\u5fc5\u8981\u306a\u3082\u306e\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nyum install cmake\nyum install -y ncurses\nyum install -y ncurses-devel\nyum install -y gcc-c++\nyum install -y bison\n\n\u25a0mysql5.6\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nwget http://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.17.tar.gz\ntar mysql-5.6.17.tar.gz\ncd mysql-5.6.17\n\ncmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DENABLED_LOCAL_INFILE=true -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_EXTRA_CHARSETS=all -DWITH_READLINE=OFF\nmake\nmake install\n\nmysql5.6\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\uff01\n\n\u25a0conf\u306e\u8a2d\u5b9a\nsudo cp /usr/local/mysql/support-files/my-default.cnf /etc/my.cnf\nconf\u306f\u4e0b\u8a18\u306b\u3057\u3066\u304a\u304f(\u3068\u308a\u3042\u3048\u305a)\n<pre>\n[client]\nport  = 3306\nsocket  = /tmp/mysql.sock\ndefault-character-set = utf8\n[mysqld]\nport  = 3306\nsocket  = /tmp/mysql.sock\nskip-external-locking\nkey_buffer_size = 256M\nmax_allowed_packet = 1M\ntable_open_cache = 256\nsort_buffer_size = 1M\nread_buffer_size = 1M\nread_rnd_buffer_size = 4M\nmyisam_sort_buffer_size = 64M\nthread_cache_size = 8\nquery_cache_size= 16M\nthread_concurrency = 8\nlog-bin=mysql-bin\nbinlog_format=mixed\nserver-id = 1\ninnodb_data_home_dir = /usr/local/mysql/data\ninnodb_data_file_path = ibdata1:10M:autoextend\ninnodb_log_group_home_dir = /usr/local/mysql/data\ninnodb_buffer_pool_size = 256M\ninnodb_additional_mem_pool_size = 20M\ninnodb_log_file_size = 64M\ninnodb_log_buffer_size = 8M\ninnodb_flush_log_at_trx_commit = 1\ninnodb_lock_wait_timeout = 50\ninnodb_file_per_table\ninnodb_fast_shutdown = 0\n[mysqldump]\nquick\nmax_allowed_packet = 16M\n[mysql]\nno-auto-rehash\n[myisamchk]\nkey_buffer_size = 128M\nsort_buffer_size = 128M\nread_buffer = 2M\nwrite_buffer = 2M\n[mysqlhotcopy]\ninteractive-timeout\n</pre>\n\n\u25a0mysql\u30e6\u30fc\u30b6\u30fb\u30b0\u30eb\u30fc\u30d7\u306e\u4f5c\u6210\ngroupadd mysql\nuseradd -g mysql -d /bin/false mysql\n\n\u25a0mysql_install_db \u3092\u5b9f\u884c\n/usr/local/mysql/scripts/mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data\n\n\u25a0\u8d77\u52d5\u306e\u8a2d\u5b9a\nvi /root/.bash_profile\n\n<pre>\n# .bash_profile\n\n# Get the aliases and functions\nif [ -f ~/.bashrc ]; then\n . ~/.bashrc\nfi\n\n# User specific environment and startup programs\n\nPATH=$PATH:$HOME/bin:/usr/local/mysql/bin\n\nexport PATH\n</pre>\n\nsource ~/.bash_profile\nsudo cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql\nsudo /etc/init.d/mysql start\n\n\u25a0groonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nrpm -ivh http://packages.groonga.org/centos/groonga-release-1.1.0-1.noarch.rpm\nyum makecache\nsudo yum --enablerepo=groonga install -y mecab\nsudo yum --enablerepo=groonga install -y mecab-ipadic\nsudo yum --enablerepo=groonga install -y groonga\nsudo yum --enablerepo=groonga install -y groonga-tokenizer-mecab\nsudo yum --enablerepo=groonga install -y groonga-normalizer-mysql\nsudo yum --enablerepo=groonga install -y groonga-devel\n\n\u25a0mroonga\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nyum\u3067\u306emroonga\u306fmysql5.1\u306b\u4f9d\u5b58\u3059\u308b\u306e\u3067\nmysql5.5\u3067\u306f\u30bd\u30fc\u30b9\u304b\u3089mroonga\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\nsudo yum install -y automake\ncd /usr/local/src/\nsudo curl -OL http://packages.groonga.org/source/mroonga/mroonga-4.02.tar.gz\nsudo tar xzvf mroonga-4.02.tar.gz\ncd mroonga-4.0.2\nsudo ./configure --with-mysql-source=/usr/local/src/mysql-5.6.17 --with-mysql-config=/usr/local/mysql/bin/mysql_config\nsudo make\nsudo make install\n", "tags": ["mroonga"]}