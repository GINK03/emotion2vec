{"tags": ["AWS", "Amazon", "ReKognition", "Ruby"], "context": "\u50d5\u306e\u3088\u3046\u306a\u8ff7\u3048\u308bAWS\u521d\u5fc3\u8005\u306e\u305f\u3081\u306b\u3002\ncredential\u306f\u8a2d\u5b9a\u6e08\u307f\u3068\u3057\u307e\u3059\u3002\n\n\u30ea\u30af\u30a8\u30b9\u30c8\ndetect_labels\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\nrekog = Aws::Rekognition::Client.new(region: \"us-east-1\")\u3000# AP\u5bfe\u5fdc\u304c\u307e\u3060\u3067\u3059?\nresult = rekog.detect_labels({\n  image: {\n    s3_object: {\n      bucket: \"YOUR_BUCKET_NAME\",\n      name: \"PATH/TO/YOUR_IMAGE.jpg\"\n    },\n  }\n})\n\nmax_labels\u3084min_confidence\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\nS3\u3067\u306f\u306a\u304f\u3066\u30d0\u30a4\u30ca\u30ea\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u3053\u306e\u8fba\u306b\u3042\u308a\u307e\u3059\u3002\n\n\u7d50\u679c\n\u3084\u3063\u305f\u305c\uff01\nresult.labels.each do |label| \n  p \"#{label.name} #{label.confidence}\"\nend\n# => \"Glass 96.67945861816406\"\n# \"Alcohol 65.524169921875\"\n# \"Beverage 65.524169921875\"\n# \"Drink 65.524169921875\"\n# \"Collage 58.49153518676758\"\n# \"Poster 58.49153518676758\"\n# \"Bowl 53.27649688720703\"\n# \"Flyer 52.224342346191406\"\n# \"Lighting 50.896217346191406\"\n\n\n\u6ce8\u610f\u4e8b\u9805\nS3\u3082\u540c\u4e00\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u3082\u306e\u3092\u4f7f\u3046\u306e\u304c\u671b\u307e\u3057\u3044\u3088\u3046\u3067\u3059\u3002\u4eca\u5f8c\u30a8\u30e9\u30fc\u306b\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u305d\u3046\u3067\u3059\u3002\n\u50d5\u306e\u3088\u3046\u306a\u8ff7\u3048\u308bAWS\u521d\u5fc3\u8005\u306e\u305f\u3081\u306b\u3002\n\ncredential\u306f\u8a2d\u5b9a\u6e08\u307f\u3068\u3057\u307e\u3059\u3002\n\n# \u30ea\u30af\u30a8\u30b9\u30c8\n`detect_labels`\u3092\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\n\n```ruby\nrekog = Aws::Rekognition::Client.new(region: \"us-east-1\")\u3000# AP\u5bfe\u5fdc\u304c\u307e\u3060\u3067\u3059?\nresult = rekog.detect_labels({\n  image: {\n    s3_object: {\n      bucket: \"YOUR_BUCKET_NAME\",\n      name: \"PATH/TO/YOUR_IMAGE.jpg\"\n    },\n  }\n})\n```\n\n`max_labels`\u3084`min_confidence`\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\nS3\u3067\u306f\u306a\u304f\u3066\u30d0\u30a4\u30ca\u30ea\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n\n[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://docs.aws.amazon.com/sdkforruby/api/Aws/Rekognition/Client.html)\u306f\u3053\u306e\u8fba\u306b\u3042\u308a\u307e\u3059\u3002\n\n# \u7d50\u679c\n\u3084\u3063\u305f\u305c\uff01\n\n```ruby\nresult.labels.each do |label| \n  p \"#{label.name} #{label.confidence}\"\nend\n# => \"Glass 96.67945861816406\"\n# \"Alcohol 65.524169921875\"\n# \"Beverage 65.524169921875\"\n# \"Drink 65.524169921875\"\n# \"Collage 58.49153518676758\"\n# \"Poster 58.49153518676758\"\n# \"Bowl 53.27649688720703\"\n# \"Flyer 52.224342346191406\"\n# \"Lighting 50.896217346191406\"\n```\n\n# \u6ce8\u610f\u4e8b\u9805\nS3\u3082\u540c\u4e00\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u3082\u306e\u3092\u4f7f\u3046\u306e\u304c\u671b\u307e\u3057\u3044\u3088\u3046\u3067\u3059\u3002\u4eca\u5f8c\u30a8\u30e9\u30fc\u306b\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u305d\u3046\u3067\u3059\u3002\n"}