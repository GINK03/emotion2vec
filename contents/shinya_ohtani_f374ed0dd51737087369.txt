{"context": " More than 1 year has passed since last update.cuda\u3068\u3044\u3046nvidia\u306eGPU\u6f14\u7b97\u30b3\u30fc\u30c9\u958b\u767a\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3092Ubuntu14.04\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\u306f\u307e\u308a\u30dd\u30a4\u30f3\u30c8\u304c\u3042\u3063\u305f\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u3082\u3089\u3048\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\nLinux\u3092\u7528\u610f\n\u307e\u305a\u3001nvidia\u306eGPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308bUbuntu14.04\u3092\u8abf\u9054\u3057\u307e\u3059\u3002\u624b\u5143\u306bnvidia\u306eGPU\u304c\u642d\u8f09\u3055\u308c\u305f\u30d1\u30bd\u30b3\u30f3\u3092\u6301\u3063\u3066\u3044\u306a\u304f\u3066\u3082\u3001AWS EC2\u3067\u7c21\u5358\u306bcuda\u74b0\u5883\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3068\u3044\u3046\u4e8b\u3067\u307e\u305a\u306fAWS EC2\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6e96\u5099\u304b\u3089\u3002\n\nAWS EC2\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(g2.2xlarge)\nAWS\u306b\u306fGPU\u304c\u4f7f\u3048\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066g2.2xlarge\u3068g2.8xlarge\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7\u306f\u3042\u3068\u304b\u3089AMI\u7d4c\u7531\u3067\u3044\u304f\u3089\u3067\u3082\u5909\u66f4\u3067\u304d\u308b\u306e\u3067\u3001\u6700\u521d\u306f\u5b89\u4fa1\u306ag2.2xlarge\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\nUbuntu14.04\u306e\u6700\u4f4e\u9650\u306e\u8a2d\u5b9a\u3092\u3059\u307e\u305b\u308b\n\u3053\u3093\u306a\u3068\u3053\u308d\u3067\u3057\u3087\u3046\u304b\u3002\n\nbash\n$ sudo passwd ubuntu\n$ sudo aptitude update\n$ sudo locale-gen ja_JP.UTF-8\n$ sudo ln -sf /usr/share/zoneinfo/Japan /etc/localtime\n$ sudo aptitude -y full-upgrade\n$ sudo aptitude install -y build-essential cmake\n\n\n\n\u6700\u65b0\u7248\u306e\u30c9\u30e9\u30a4\u30d0\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\nnvidia\u306e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30c9\u30e9\u30a4\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30c9\u30e9\u30a4\u30d0\u3092\u505c\u6b62\n\u505c\u6b62\u305b\u305a\u306bnvidia\u30c9\u30e9\u30a4\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u5927\u306f\u307e\u308a\u3057\u307e\u3059\u3002nouveau\u3068\u3044\u3046\u30c9\u30e9\u30a4\u30d0\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u6025\u304c\u305a\u307e\u305a\u3053\u308c\u3092\u30d6\u30e9\u30c3\u30af\u30ea\u30b9\u30c8\u306b\u3044\u308c\u307e\u3059\u3002nouveau\u7528\u306emodprobe\u306e\u30d6\u30e9\u30c3\u30af\u30ea\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6b21\u306e\u5185\u5bb9\u3067\u4f5c\u3063\u3066\u4e0b\u3055\u3044\u3002\n\n/etc/modprobe.d/blacklist-nouveau.conf\nblacklist nouveau\nblacklist lbm-nouveau\noptions nouveau modeset=0\nalias nouveau off\nalias lbm-nouveau off\n\n\n\n/etc/modprobe.d/nouveau-kms.conf\noptions nouveau modeset=0\n\n\n\nbash\n$ sudo update-initramfs -u\n$ sudo reboot\n\n\n\u518d\u8d77\u52d5\u3092\u304a\u5fd8\u308c\u306a\u304f\u3002\n\nnvidia\u306e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30c9\u30e9\u30a4\u30d0\u3092\u3044\u308c\u3066\u518d\u8d77\u52d5\u3002\nnvidia\u306e\u30c9\u30e9\u30a4\u30d0\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002.\n\n\u88fd\u54c1\u30bf\u30a4\u30d7: GRID\n\n\u88fd\u54c1\u30b7\u30ea\u30fc\u30ba: GRID Series\n\n\u88fd\u54c1\u30d5\u30a1\u30df\u30ea\u30fc: GRID K520\n\n\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0: Linux 64-bit\n\n\u8a00\u8a9e: Japanese\n\n\n\nbash\n$ sudo aptitude install -y linux-image-extra-virtual linux-source linux-headers-`uname -r`\n$ wget http://\u4e0a\u8a18\u30c9\u30e9\u30a4\u30d0.run\n$ sudo sh NVIDIA-Linux-x86_64-352.55.run -a --disable-nouveau\n$ sudo reboot\n\n\n\u4e00\u5ea6\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5931\u6557\u3059\u308b\u304cnouveau\u3092\u4f7f\u308f\u306a\u3044\u8a2d\u5b9a\u304c\u3067\u304d\u308b\u306e\u3067\u518d\u8d77\u52d5\u3059\u308b\u3002\u305d\u3046\u3059\u308b\u3068\u6b21\u306f\u6210\u529f\u3059\u308b\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u306bkernel\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3089\u3057\u304f\u3001linux-source\u3084linux-header\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u3046\u307e\u304f\u884c\u304b\u306a\u3044\u3002\n\nbash\n$ sudo sh NVIDIA-Linux-x86_64-352.55.run -a\n$ sudo reboot\n\n\n\n\u78ba\u8a8d\n\u30a8\u30e9\u30fc\u304c\u51fa\u306a\u3051\u308c\u3070\u30c9\u30e9\u30a4\u30d0\u306fok\n\nbash\n$ sudo modprobe nvidia\n\n\n\ncuda toolkit\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\ncuda\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002.\n\nOperating System: Linux\n\nArchitecture: x86_64\n\nDistribution: Ubuntu\n\nVersion: 14.04\n\nInstaller Type: deb(network)\n\n\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u307e\u305f\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002\n\nbash\n$ wget http://\u4e0a\u8a18repository\u30d5\u30a1\u30a4\u30eb.deb\n$ sudo dpkg -i cuda-repo-ubuntu1404_7.5-18_amd64.deb\n$ sudo aptitude update\n$ sudo aptitude install -y cuda\n$ sudo reboot\n\n\n\n\u78ba\u8a8d\n\nbash\n$ /usr/local/cuda-7.5/bin/cuda-install-samples .\n$ cd NVIDIA_CUDA-7.5_Samples/1_Utilities/deviceQuery/\n$ make\n$ ./deviceQuery\n\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306bGPU\u306e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\n\n\u304a\u3064\u304b\u308c\u3055\u307e\u3067\u3057\u305f\uff01\n\n\u53c2\u8003\n\nhttp://tleyden.github.io/blog/2014/10/25/cuda-6-dot-5-on-aws-gpu-instance-running-ubuntu-14-dot-04/\n\ncuda\u3068\u3044\u3046nvidia\u306eGPU\u6f14\u7b97\u30b3\u30fc\u30c9\u958b\u767a\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3092Ubuntu14.04\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u307e\u3068\u3081\u3066\u307f\u307e\u3057\u305f\u3002\u306f\u307e\u308a\u30dd\u30a4\u30f3\u30c8\u304c\u3042\u3063\u305f\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u3082\u3089\u3048\u308c\u3070\u3068\u601d\u3044\u307e\u3059\u3002\n\n# Linux\u3092\u7528\u610f\n\u307e\u305a\u3001nvidia\u306eGPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308bUbuntu14.04\u3092\u8abf\u9054\u3057\u307e\u3059\u3002\u624b\u5143\u306bnvidia\u306eGPU\u304c\u642d\u8f09\u3055\u308c\u305f\u30d1\u30bd\u30b3\u30f3\u3092\u6301\u3063\u3066\u3044\u306a\u304f\u3066\u3082\u3001AWS EC2\u3067\u7c21\u5358\u306bcuda\u74b0\u5883\u3092\u4f5c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u3068\u3044\u3046\u4e8b\u3067\u307e\u305a\u306fAWS EC2\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6e96\u5099\u304b\u3089\u3002\n\n## AWS EC2\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9(g2.2xlarge)\nAWS\u306b\u306fGPU\u304c\u4f7f\u3048\u308bEC2\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066g2.2xlarge\u3068g2.8xlarge\u304c\u5b58\u5728\u3057\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30bf\u30a4\u30d7\u306f\u3042\u3068\u304b\u3089AMI\u7d4c\u7531\u3067\u3044\u304f\u3089\u3067\u3082\u5909\u66f4\u3067\u304d\u308b\u306e\u3067\u3001\u6700\u521d\u306f\u5b89\u4fa1\u306ag2.2xlarge\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n![ec2instance.png](https://qiita-image-store.s3.amazonaws.com/0/38013/c0057464-6af4-392f-de45-0d639cf5ad07.png)\n\n## Ubuntu14.04\u306e\u6700\u4f4e\u9650\u306e\u8a2d\u5b9a\u3092\u3059\u307e\u305b\u308b\n\u3053\u3093\u306a\u3068\u3053\u308d\u3067\u3057\u3087\u3046\u304b\u3002\n\n```lang:bash\n$ sudo passwd ubuntu\n$ sudo aptitude update\n$ sudo locale-gen ja_JP.UTF-8\n$ sudo ln -sf /usr/share/zoneinfo/Japan /etc/localtime\n$ sudo aptitude -y full-upgrade\n$ sudo aptitude install -y build-essential cmake\n```\n\n# \u6700\u65b0\u7248\u306e\u30c9\u30e9\u30a4\u30d0\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\nnvidia\u306e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30c9\u30e9\u30a4\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n## \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30c9\u30e9\u30a4\u30d0\u3092\u505c\u6b62\n\u505c\u6b62\u305b\u305a\u306bnvidia\u30c9\u30e9\u30a4\u30d0\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u5927\u306f\u307e\u308a\u3057\u307e\u3059\u3002nouveau\u3068\u3044\u3046\u30c9\u30e9\u30a4\u30d0\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u6025\u304c\u305a\u307e\u305a\u3053\u308c\u3092\u30d6\u30e9\u30c3\u30af\u30ea\u30b9\u30c8\u306b\u3044\u308c\u307e\u3059\u3002nouveau\u7528\u306emodprobe\u306e\u30d6\u30e9\u30c3\u30af\u30ea\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u6b21\u306e\u5185\u5bb9\u3067\u4f5c\u3063\u3066\u4e0b\u3055\u3044\u3002\n\n```/etc/modprobe.d/blacklist-nouveau.conf\nblacklist nouveau\nblacklist lbm-nouveau\noptions nouveau modeset=0\nalias nouveau off\nalias lbm-nouveau off\n```\n\n```/etc/modprobe.d/nouveau-kms.conf\noptions nouveau modeset=0\n```\n\n```lang:bash\n$ sudo update-initramfs -u\n$ sudo reboot\n```\n\n\u518d\u8d77\u52d5\u3092\u304a\u5fd8\u308c\u306a\u304f\u3002\n\n##nvidia\u306e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30c9\u30e9\u30a4\u30d0\u3092\u3044\u308c\u3066\u518d\u8d77\u52d5\u3002\nnvidia\u306e[\u30c9\u30e9\u30a4\u30d0\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8](http://www.nvidia.co.jp/Download/index.aspx?lang=jp)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002[.](http://jp.download.nvidia.com/XFree86/Linux-x86_64/352.55/NVIDIA-Linux-x86_64-352.55.run)\n\n- \u88fd\u54c1\u30bf\u30a4\u30d7: **GRID**\n- \u88fd\u54c1\u30b7\u30ea\u30fc\u30ba: **GRID Series**\n- \u88fd\u54c1\u30d5\u30a1\u30df\u30ea\u30fc: **GRID K520**\n- \u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0: **Linux 64-bit**\n- \u8a00\u8a9e: **Japanese**\n\n```lang:bash\n$ sudo aptitude install -y linux-image-extra-virtual linux-source linux-headers-`uname -r`\n$ wget http://\u4e0a\u8a18\u30c9\u30e9\u30a4\u30d0.run\n$ sudo sh NVIDIA-Linux-x86_64-352.55.run -a --disable-nouveau\n$ sudo reboot\n```\n\n\u4e00\u5ea6\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u5931\u6557\u3059\u308b\u304cnouveau\u3092\u4f7f\u308f\u306a\u3044\u8a2d\u5b9a\u304c\u3067\u304d\u308b\u306e\u3067\u518d\u8d77\u52d5\u3059\u308b\u3002\u305d\u3046\u3059\u308b\u3068\u6b21\u306f\u6210\u529f\u3059\u308b\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u4e2d\u306bkernel\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3089\u3057\u304f\u3001linux-source\u3084linux-header\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304a\u304b\u306a\u3044\u3068\u3046\u307e\u304f\u884c\u304b\u306a\u3044\u3002\n\n```lang:bash\n$ sudo sh NVIDIA-Linux-x86_64-352.55.run -a\n$ sudo reboot\n```\n\n##\u78ba\u8a8d\n\n\u30a8\u30e9\u30fc\u304c\u51fa\u306a\u3051\u308c\u3070\u30c9\u30e9\u30a4\u30d0\u306fok\n\n```lang:bash\n$ sudo modprobe nvidia\n```\n\n# cuda toolkit\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n## \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n[cuda\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30b5\u30a4\u30c8](https://developer.nvidia.com/cuda-downloads)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3002[.](http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1404/x86_64/cuda-repo-ubuntu1404_7.5-18_amd64.deb)\n\n- Operating System: **Linux**\n- Architecture: **x86_64**\n- Distribution: **Ubuntu**\n- Version: **14.04**\n- Installer Type: **deb(network)**\n\n## \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u307e\u305f\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002\n\n```lang:bash\n$ wget http://\u4e0a\u8a18repository\u30d5\u30a1\u30a4\u30eb.deb\n$ sudo dpkg -i cuda-repo-ubuntu1404_7.5-18_amd64.deb\n$ sudo aptitude update\n$ sudo aptitude install -y cuda\n$ sudo reboot\n```\n\n## \u78ba\u8a8d\n\n```lang:bash\n$ /usr/local/cuda-7.5/bin/cuda-install-samples .\n$ cd NVIDIA_CUDA-7.5_Samples/1_Utilities/deviceQuery/\n$ make\n$ ./deviceQuery\n```\n\n\u4e0b\u8a18\u306e\u3088\u3046\u306bGPU\u306e\u60c5\u5831\u304c\u8868\u793a\u3055\u308c\u308c\u3070\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5b8c\u4e86\n\n![installed.png](https://qiita-image-store.s3.amazonaws.com/0/38013/06136874-8683-9a69-70ca-4a5876b3dc8f.png)\n\n\u304a\u3064\u304b\u308c\u3055\u307e\u3067\u3057\u305f\uff01\n\n#\u53c2\u8003\n- http://tleyden.github.io/blog/2014/10/25/cuda-6-dot-5-on-aws-gpu-instance-running-ubuntu-14-dot-04/\n", "tags": ["CUDA", "Ubuntu14.04", "AWS", "EC2"]}