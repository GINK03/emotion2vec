{"context": "phpenv\u306frbenv\u3068\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u3057\u3066\u3050\u3061\u3083\u3050\u3061\u3083\u306b\u306a\u308b\u3057\u3067\u60a9\u3093\u3067\u3044\u305f\u3089\u3001phpbrew\u3068\u3044\u3046php\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6c17\u8efd\u306b\u5909\u3048\u3089\u308c\u308b\u4f3c\u305f\u30c4\u30fc\u30eb\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u3053\u3061\u3089\u3067Mac\u306e\u74b0\u5883\u69cb\u7bc9\u4f5c\u3063\u305f\u3002\n\u4f8b\u306b\u3088\u3063\u3066Ansible\u306b\u3057\u3066\u7ba1\u7406\u3057\u3066\u308b\u306e\u3067\u3001playbook\u306e\u5f62\u3067\u7d39\u4ecb\u3002\n\nikuwow/mac-provision: Provisioner of My Mac.\nhttps://github.com/ikuwow/mac-provision\n\n\n\u3053\u308c\u304cplaybook\u3060\n\uff08task\u3067\u3059\uff09\n\nphp.yml\n---\n\n- name: Install taps of php\n  homebrew_tap: tap=homebrew/php\n  # phpbrew\u304c\u306f\u3044\u3063\u3066\u308b\n\n- name: Remove current php packages\n  homebrew: name={{item}} state=absent\n  with_items:\n    - php56\n    - composer\n    - php56-mcrypt\n    - php56-intl\n    - php56-pdo-pgsql\n  # \u3044\u307e\u307e\u3067\u306e\u3092\u524a\u9664\n\n- name: Install required packages\n  homebrew: name={{item}}\n  with_items:\n    - phpbrew\n    - openssl\n    - libxml2\n  # \u3053\u306e\u8fba\u308a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\n\n- name: Initlalize phpbrew\n  shell: \"phpbrew init\"\n  args:\n    creates: ~/.phpbrew\n  # After initialization you have to append .bashrc `source ~/.phpbrew/bashrc`\n\n- name: Is openssl of homebrew enabled?\n  shell: \"[[ `which openssl` = /usr/local/bin/openssl ]]; echo $?\"\n  register: brew_openssl_enabled\n  changed_when: brew_openssl_enabled.stdout != '0'\n\n- name: Force link openssl\n  shell: \"brew link --force openssl\"\n  when: brew_openssl_enabled.stdout != '0'\n\n- name: Force link libxml2\n  shell: \"brew link --force libxml2\"\n  args:\n    creates: /usr/local/include/libxml2\n\n- name: Install php {{base_php_version}}\n  shell: \"phpbrew install {{base_php_version}} +default\"\n  args:\n    creates: ~/.phpbrew/php/php-{{base_php_version}}\n\n- name: Is php in phpbrew?\n  shell: \"which php | grep phpbrew > /dev/null; echo $?\"\n  register: php_is_in_phpbrew\n  changed_when: php_is_in_phpbrew.stdout != '0'\n\n- name: Use php in phpbrew\n  shell: \"source ~/.phpbrew/bashrc && phpbrew switch {{base_php_version}}\"\n  when: php_is_in_phpbrew.stdout != '0'\n\n- name: Install composer\n  shell: \"phpbrew app get composer\"\n  args:\n    creates: \"~/.phpbrew/bin/composer\"\n\n\n\n\n\u6c17\u6301\u3061\u60aa\u3044\u3068\u3053\u308d\n\u3084\u3063\u3066\u307f\u305f\u306f\u3044\u3044\u304c\u3001\u307e\u3060\u554f\u984c\u306f\u3044\u308d\u3044\u308d\u3042\u308b\u3002\n\nbrew install phpbrew \u6642\u306bbrew install php\u3055\u308c\u308b\n\u3053\u308c\u306fphpbrew\u304cphp\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u304b\u3089\u3002Mac\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067PHP\u304c\u3042\u308b\u304b\u3089\u308f\u3056\u308f\u3056\u5165\u308c\u3066\u3082\u3089\u308f\u306a\u304f\u3066\u3082\u3044\u3044\u306e\u306b\u30fb\u30fb\u30fb\u3002\n\nbrew doctor\u304c\u30d1\u30b9\u306e\u6307\u5b9a\u3092\u6012\u308b\n\nphpenv\u5165\u308c\u3066\u308b\u6642brew doctor\u3057\u305f\u3089\u51fa\u308bWarning\u6d88\u3057\u305f - Qiita\nhttp://qiita.com/takc923/items/45386905f70fde9af0e7#comment-857c092cc39dbec09c8c\n\n\nbrewdoctor\u306e\u51fa\u529b\nPlease note that these warnings are just used to help the Homebrew maintainers\nwith debugging if you file an issue. If everything you use Homebrew for is\nworking fine: please don't worry and just ignore them. Thanks!\n\nWarning: \"config\" scripts exist outside your system or Homebrew directories.\n`./configure` scripts often look for *-config scripts to determine if\nsoftware packages are installed, and what additional flags to use when\ncompiling and linking.\n\nHaving additional scripts in your path can confuse software installed via\nHomebrew if the config script overrides a system or Homebrew provided\nscript of the same name. We found the following \"config\" scripts:\n    /Users/degawaikuo/.phpbrew/php/php-5.6.21/bin/php-config\n\n\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u306e\u3088\u3046\u306b\u3001alias\u3067$PATH\u3092\u5909\u3048\u3066\u3057\u307e\u3048\u3070\u3044\u3044\u3093\u3060\u3051\u3069\u3001\u4e8c\u91cd\u306b\u7f6e\u63db\u304b\u3051\u308b\u306e\u3068\u3001$PATH\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u304c\u5165\u3063\u3061\u3083\u3063\u3066\u308b\u306e\u3068\u3001\u9ad8\u3044\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u529b\u304c\u8981\u6c42\u3055\u308c\u305d\u3046\u3067\u307e\u3060\u624b\u3092\u4ed8\u3051\u3066\u306a\u3044\u3002\n\n\u3044\u307e\u306e\u30d1\u30b9\n$ ehco $PATH\n/Users/username/.pyenv/shims:/Users/username/.rbenv/shims:/Users/username/.phpbrew/php/php-5.6.21/bin:/Users/username/.phpbrew/bin:/Users/username/bin:/usr/local/heroku/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin\n\n\n\nphpenv\u5165\u308c\u3066\u308b\u6642brew doctor\u3057\u305f\u3089\u51fa\u308bWarning\u6d88\u3057\u305f - Qiita\nhttp://qiita.com/takc923/items/45386905f70fde9af0e7#comment-857c092cc39dbec09c8c\n\n\nbrew doctor\u304ckeg-only\u306aformula\u304clink\u3055\u308c\u3066\u3044\u308b\u3068\u6012\u308b\n\n\u6700\u8fd1\u306e\u30ea\u30ea\u30fc\u30b9\u3067link\u3059\u308b\u5fc5\u8981\u306f\u306a\u304f\u306a\u3063\u305f\u307f\u305f\u3044\u306a\u306e\u3067\u3001\u3053\u306e\u554f\u984c\u306f\u8d77\u3053\u3089\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\u3082\u3057\u307e\u3060\u51fa\u308b\u5834\u5408\u306fbrew unlink {libxml2,openssl}\u3057\u3066\u3057\u307e\u3063\u3066\u5927\u4e08\u592b\u305d\u3046\u3067\uff33\u3059\u3002\n\n\u4e0a\u306e\u7d9a\u304d\nWarning: Some keg-only formula are linked into the Cellar.\nLinking a keg-only formula, such as gettext, into the cellar with\n`brew link <formula>` will cause other formulae to detect them during\nthe `./configure` step. This may cause problems when compiling those\nother formulae.\n\nBinaries provided by keg-only formulae may override system binaries\nwith other strange results.\n\nYou may wish to `brew unlink` these brews:\n    libxml2\n    openssl\n\n\nphp\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u6b62\u307e\u308b\u305f\u3081\u3001brew\u3067\u5165\u308c\u305flibxml2\u3068openssl\u3092brew link --force\u3057\u305f\u305f\u3081\u306b\u51fa\u3066\u304f\u308bWarning\u3002\u3044\u3064\u304b\u3069\u3053\u304b\u3067\u554f\u984c\u8d77\u3053\u3057\u305d\u3046\u3067\u6016\u3044\u3002\n\n\u4eca\u5f8c\nphp\u306e\u30d3\u30eb\u30c9\u3063\u3066\u624b\u9593\u304c\u975e\u5e38\u306b\u304b\u304b\u308b\u306a\u3042\u3068\u75db\u611f\u3002\u3082\u3063\u3068\u697d\u306b\u306a\u3089\u306a\u3044\u304b\u306a\u3042\u3002\nphpenv\u306frbenv\u3068\u30b3\u30f3\u30d5\u30ea\u30af\u30c8\u3057\u3066\u3050\u3061\u3083\u3050\u3061\u3083\u306b\u306a\u308b\u3057\u3067\u60a9\u3093\u3067\u3044\u305f\u3089\u3001phpbrew\u3068\u3044\u3046php\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6c17\u8efd\u306b\u5909\u3048\u3089\u308c\u308b\u4f3c\u305f\u30c4\u30fc\u30eb\u304c\u3042\u3063\u305f\u306e\u3067\u3001\u3053\u3061\u3089\u3067Mac\u306e\u74b0\u5883\u69cb\u7bc9\u4f5c\u3063\u305f\u3002\n\n\u4f8b\u306b\u3088\u3063\u3066Ansible\u306b\u3057\u3066\u7ba1\u7406\u3057\u3066\u308b\u306e\u3067\u3001playbook\u306e\u5f62\u3067\u7d39\u4ecb\u3002\n\n> ikuwow/mac-provision: Provisioner of My Mac.\n> https://github.com/ikuwow/mac-provision\n\n## \u3053\u308c\u304cplaybook\u3060\n\n\uff08task\u3067\u3059\uff09\n\n```yaml:php.yml\n---\n\n- name: Install taps of php\n  homebrew_tap: tap=homebrew/php\n  # phpbrew\u304c\u306f\u3044\u3063\u3066\u308b\n\n- name: Remove current php packages\n  homebrew: name={{item}} state=absent\n  with_items:\n    - php56\n    - composer\n    - php56-mcrypt\n    - php56-intl\n    - php56-pdo-pgsql\n  # \u3044\u307e\u307e\u3067\u306e\u3092\u524a\u9664\n\n- name: Install required packages\n  homebrew: name={{item}}\n  with_items:\n    - phpbrew\n    - openssl\n    - libxml2\n  # \u3053\u306e\u8fba\u308a\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5165\u308c\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308b\n\n- name: Initlalize phpbrew\n  shell: \"phpbrew init\"\n  args:\n    creates: ~/.phpbrew\n  # After initialization you have to append .bashrc `source ~/.phpbrew/bashrc`\n\n- name: Is openssl of homebrew enabled?\n  shell: \"[[ `which openssl` = /usr/local/bin/openssl ]]; echo $?\"\n  register: brew_openssl_enabled\n  changed_when: brew_openssl_enabled.stdout != '0'\n\n- name: Force link openssl\n  shell: \"brew link --force openssl\"\n  when: brew_openssl_enabled.stdout != '0'\n\n- name: Force link libxml2\n  shell: \"brew link --force libxml2\"\n  args:\n    creates: /usr/local/include/libxml2\n\n- name: Install php {{base_php_version}}\n  shell: \"phpbrew install {{base_php_version}} +default\"\n  args:\n    creates: ~/.phpbrew/php/php-{{base_php_version}}\n\n- name: Is php in phpbrew?\n  shell: \"which php | grep phpbrew > /dev/null; echo $?\"\n  register: php_is_in_phpbrew\n  changed_when: php_is_in_phpbrew.stdout != '0'\n\n- name: Use php in phpbrew\n  shell: \"source ~/.phpbrew/bashrc && phpbrew switch {{base_php_version}}\"\n  when: php_is_in_phpbrew.stdout != '0'\n\n- name: Install composer\n  shell: \"phpbrew app get composer\"\n  args:\n    creates: \"~/.phpbrew/bin/composer\"\n\n```\n\n\n## \u6c17\u6301\u3061\u60aa\u3044\u3068\u3053\u308d\n\n\u3084\u3063\u3066\u307f\u305f\u306f\u3044\u3044\u304c\u3001\u307e\u3060\u554f\u984c\u306f\u3044\u308d\u3044\u308d\u3042\u308b\u3002\n\n### brew install phpbrew \u6642\u306bbrew install php\u3055\u308c\u308b\n\n\u3053\u308c\u306fphpbrew\u304cphp\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u304b\u3089\u3002Mac\u306b\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067PHP\u304c\u3042\u308b\u304b\u3089\u308f\u3056\u308f\u3056\u5165\u308c\u3066\u3082\u3089\u308f\u306a\u304f\u3066\u3082\u3044\u3044\u306e\u306b\u30fb\u30fb\u30fb\u3002\n\n### brew doctor\u304c\u30d1\u30b9\u306e\u6307\u5b9a\u3092\u6012\u308b\n\n> phpenv\u5165\u308c\u3066\u308b\u6642brew doctor\u3057\u305f\u3089\u51fa\u308bWarning\u6d88\u3057\u305f - Qiita\n> http://qiita.com/takc923/items/45386905f70fde9af0e7#comment-857c092cc39dbec09c8c\n\n```:brewdoctor\u306e\u51fa\u529b\nPlease note that these warnings are just used to help the Homebrew maintainers\nwith debugging if you file an issue. If everything you use Homebrew for is\nworking fine: please don't worry and just ignore them. Thanks!\n\nWarning: \"config\" scripts exist outside your system or Homebrew directories.\n`./configure` scripts often look for *-config scripts to determine if\nsoftware packages are installed, and what additional flags to use when\ncompiling and linking.\n\nHaving additional scripts in your path can confuse software installed via\nHomebrew if the config script overrides a system or Homebrew provided\nscript of the same name. We found the following \"config\" scripts:\n    /Users/degawaikuo/.phpbrew/php/php-5.6.21/bin/php-config\n```\n\n\u4ee5\u4e0b\u306e\u8a18\u4e8b\u306e\u3088\u3046\u306b\u3001alias\u3067`$PATH`\u3092\u5909\u3048\u3066\u3057\u307e\u3048\u3070\u3044\u3044\u3093\u3060\u3051\u3069\u3001\u4e8c\u91cd\u306b\u7f6e\u63db\u304b\u3051\u308b\u306e\u3068\u3001`$PATH`\u306b\u30d0\u30fc\u30b8\u30e7\u30f3\u756a\u53f7\u304c\u5165\u3063\u3061\u3083\u3063\u3066\u308b\u306e\u3068\u3001\u9ad8\u3044\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u529b\u304c\u8981\u6c42\u3055\u308c\u305d\u3046\u3067\u307e\u3060\u624b\u3092\u4ed8\u3051\u3066\u306a\u3044\u3002\n\n```bash:\u3044\u307e\u306e\u30d1\u30b9\n$ ehco $PATH\n/Users/username/.pyenv/shims:/Users/username/.rbenv/shims:/Users/username/.phpbrew/php/php-5.6.21/bin:/Users/username/.phpbrew/bin:/Users/username/bin:/usr/local/heroku/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin\n```\n\n> phpenv\u5165\u308c\u3066\u308b\u6642brew doctor\u3057\u305f\u3089\u51fa\u308bWarning\u6d88\u3057\u305f - Qiita\n> http://qiita.com/takc923/items/45386905f70fde9af0e7#comment-857c092cc39dbec09c8c\n\n### ~~brew doctor\u304ckeg-only\u306aformula\u304clink\u3055\u308c\u3066\u3044\u308b\u3068\u6012\u308b~~\n\n\u6700\u8fd1\u306e\u30ea\u30ea\u30fc\u30b9\u3067link\u3059\u308b\u5fc5\u8981\u306f\u306a\u304f\u306a\u3063\u305f\u307f\u305f\u3044\u306a\u306e\u3067\u3001\u3053\u306e\u554f\u984c\u306f\u8d77\u3053\u3089\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002\u3082\u3057\u307e\u3060\u51fa\u308b\u5834\u5408\u306f`brew unlink {libxml2,openssl}`\u3057\u3066\u3057\u307e\u3063\u3066\u5927\u4e08\u592b\u305d\u3046\u3067\uff33\u3059\u3002\n\n```:\u4e0a\u306e\u7d9a\u304d\nWarning: Some keg-only formula are linked into the Cellar.\nLinking a keg-only formula, such as gettext, into the cellar with\n`brew link <formula>` will cause other formulae to detect them during\nthe `./configure` step. This may cause problems when compiling those\nother formulae.\n\nBinaries provided by keg-only formulae may override system binaries\nwith other strange results.\n\nYou may wish to `brew unlink` these brews:\n    libxml2\n    openssl\n```\n\nphp\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u6b62\u307e\u308b\u305f\u3081\u3001brew\u3067\u5165\u308c\u305flibxml2\u3068openssl\u3092`brew link --force`\u3057\u305f\u305f\u3081\u306b\u51fa\u3066\u304f\u308bWarning\u3002\u3044\u3064\u304b\u3069\u3053\u304b\u3067\u554f\u984c\u8d77\u3053\u3057\u305d\u3046\u3067\u6016\u3044\u3002\n\n## \u4eca\u5f8c\n\nphp\u306e\u30d3\u30eb\u30c9\u3063\u3066\u624b\u9593\u304c\u975e\u5e38\u306b\u304b\u304b\u308b\u306a\u3042\u3068\u75db\u611f\u3002\u3082\u3063\u3068\u697d\u306b\u306a\u3089\u306a\u3044\u304b\u306a\u3042\u3002\n", "tags": ["PHP", "phpbrew", "Mac", "Ansible", "homebrew"]}