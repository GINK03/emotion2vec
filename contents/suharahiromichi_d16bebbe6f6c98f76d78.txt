{"tags": ["ssreflect", "Coq", "MathComp"], "context": "\n\nSSReflect\u30ce\u30fc\u30c8 (\u66ab\u5b9a\u7248)\n2014/04/27 @suharahiromichi\n2014/04/27 @suharahiromichi\u3001Qiita\u306b\u6295\u7a3f\u3002\u66d6\u6627\u306a\u7b87\u6240\u3092\u524a\u9664\u3057\u305f\u3002\n2014/12/20 @suharahiromichi\u3001\u8ffd\u8a18\u3002View\u306b\u3064\u3044\u3066\u306e\u8a18\u8ff0\u3092\u8a02\u6b63\u3057\u305f\u3002\n\u7ae0\u7bc0\u756a\u53f7\u3068\u30da\u30fc\u30b8\u306f\u3001No 6455 \"A Small Sscale Reflection Extension for the Coq System\" \u306e\u8a72\u5f53\u7b87\u6240\u3092\u793a\u3059\u3002\n\nCheatSheet\u4ee5\u524d\u306e\u4e8b\u9805\n\ntactic \u306e\u610f\u5473\n\n\n\n\u4f8b\n\u30b4\u30fc\u30eb H->G \u306e\u3068\u304d\u3002\n\u30b4\u30fc\u30eb forall x, G \u306e\u3068\u304d\u3002\n\n\n\n\nmove.\n\u306a\u306b\u3082\u3057\u306a\u3044\u3002\u300c=>\u300d\u3084\u300c:\u300d\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3002\n\u540c\u5de6\n\n\napply.\nH\u3092\u9069\u7528\u3059\u308b\u3002\n\n\n\nexact.\nby apply.\n\n\n\ncase.\nH\u3067\u5834\u5408\u308f\u3051\u3059\u308b\u3002\nx\u3067\u5834\u5408\u308f\u3051\u3059\u308b\u3002\n\n\nelim.\nH\u306b\u5bfe\u3057\u3066\u5e30\u7d0d\u6cd5\u3092\u4f7f\u3046\u3002\nx\u306b\u5bfe\u3057\u3066\u5e30\u7d0d\u6cd5\u3092\u4f7f\u3046\u3002\n\n\n\n\nH->G1->G2\u306a\u3089\u3001(G1->G2)\u306bH\u3092\u2026\u3059\u308b\u3002H->(G1->G2)\u3067\u3042\u308b\u305f\u3081\u3002\n\n\n\u300ctactic: x => a\u300d\u306f\u3001\u300cmove: x; tactic; move=> a\u300d\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\napply: x y => a b\nmove: x y; apply; move=> a b\n\n\n\nexact: x y => a b\nmove: x y; exact; move=> a b\n\n\n\ncase: x y => a b\nmove: x y; case;  move=> a b\n\n\n\nelim: x y => a b\nmove: x y; elim;  move=> a b\n\n\n\nmove/V: x y => a b\nmove: x y; move/V; move=> a b\nView\u3092\u6307\u5b9a\u3057\u3066\u3082\u540c\u3058\u3002\n\n\napply/V: x y => a b\nmove: x y; apply/V; move=> a b\nView\u3092\u6307\u5b9a\u3057\u3066\u3082\u540c\u3058\u3002\n\n\nrewrite p q => a b\nrewrite p q; move=> a b\n\u300c:\u300d\u306e\u306a\u3044tactic\u5168\u3066\u3002\n\n\n\n\nmove\u3068rewrite\u306f\u300c\u5206\u914d\u300d\u3067\u304d\u308b\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\nmove=> a b c.\nmove=> a; move=> b; move=> c.\nmove: a b c \u3067\u623b\u308b\u3002\n\n\nmove: a b c.\nmove: c; move: b; move: a.\n\u9006\u9806\u306b\u306a\u308b\u3002\n\n\nrewrite p q r\nrewrite p; rewrite q; rewrite r\n\n\n\n\n\nmove=>[]\u3068\u3001case\u306e\u95a2\u4fc2\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\ncase=> [].\nmove=> [].\n\n\n\ncase=> [].\ncase.\n\n\n\ncase=> [l m n].\nmove=> [l m n].\n\n\n\ncase=> [l m n].\ncase=> l m n.\n\u300cmove=> l m n\u300d\u3067\u306f\u306a\u3044\u3002\n\n\nmove=> [l m n].\nmove=> [] l m n.\nmove=> []; move=> l m n.\n\n\nmove=> [l m n].\ncase; move=> l m n.\ncase=> []; move=> l m n.\n\n\nmove=> [l|m].\nmove=> []; first move=> l; last move=> m.\n\n\n\nmove=> [l|m].\nmove=> []; [move=> l| move=> m].\n\n\n\n\n\u4ee5\u4e0b\u306e\u4f8b\u306f\u305d\u308c\u305e\u308c\u540c\u3058\u306b\u306a\u308b\u3002\n\u4f8b1. \u4ee5\u4e0b\u306e5\u8005\u306f\u304a\u306a\u3058\u7d50\u679c\u306b\u306a\u308b\u3002\ncase=> [l m].\nmove=> [l m].\nmove=> []; move=> l m.\ncase; move=> l m.\ncase=> l m.\n\n\u4f8b2. \u4ee5\u4e0b\u306e6\u8005\u306f\u304a\u306a\u3058\u7d50\u679c\u306b\u306a\u308b\u3002\nmove=> [[l m] n].\nmove=> [] [l m] n.\nmove=> [] [] l m n.\nmove=> []; move=> []; move=> l m n.\ncase; case; move=> l m n.\ncase; case=> l m n.\n\n\u4f8b3. \u4ee5\u4e0b\u306e5\u8005\u306f\u304a\u306a\u3058\u7d50\u679c\u306b\u306a\u308b\u3002\nmove=> [|[]].\nmove=> []; last move=> [].\nmove=> []; [| move=> []].\ncase; last case.\ncase; [| case].\n\n\nIntroduction (i-item)\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\nmove=> a.\nintro a.\n\n\n\nmove=> ->.\nintro a; rewrite a; clear a.\n\n\n\nmove=> {2}->.\nintro a; rewrite {2}a; clear a.\nocc-switch\n\n\nmove=> <-.\nintro a; rewrite -a; clear a.\n\n\n\nmove=> {2}<-.\nintro a; rewrite -{2}a; clear a.\nocc-switch\n\n\nmove=> //.\ntry done.\n\n\n\nmove=> /=.\nsimpl.\n\n\n\nmove=> //=.\nsimpl; try done.\n\n\n\nmove=> {a}.\nintro a; clear a.\nclear-switch\n\n\nmove=> /V.\nmove/V.\n5.4 p.23 (\u6700\u5f8c)\u30019.9\u3000\n\n\nmove=> -.\nmove.\n9.9 (\u306a\u306b\u3082\u3057\u306a\u3044)\n\n\n\n\nDischarge (d-item)\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\nmove: x.\nrevert x.\nx\u3092push\u3059\u308b\u3002x\u3092clear\u3059\u308b\u3002\n\n\nmove: {2}x.\n\u30b4\u30fc\u30eb\u306e2\u756a\u3081\u306ex\u3092generalize\u3059\u308b\u3002\nocc-switch\n\n\nmove: {-2}x.\n\u30b4\u30fc\u30eb\u306e2\u756a\u3081\u4ee5\u5916\u306ex\u3092generalize\u3059\u308b\u3002\nocc-switch\n\n\nmove: {+}x.\ngeneralize x.\nx\u3092push\u3059\u308b\u3002x\u3092\u6d88\u3055\u305a\u306b\u6b8b\u3059\u3002\n\n\nmove: (x).\ngeneralize x.\nx\u3092push\u3059\u308b\u3002x\u3092\u6d88\u3055\u305a\u306b\u6b8b\u3059\u3002\n\n\nmove: {x}(c).\nmove: (c); clear x\nclear-switch (\u5f8c\u3067 clear x)  (1.)\n\n\nmove: (c){x}.\nclear x; move: (c)\nclear-switch (\u5148\u306b clear x)  (2.)\n\n\n\n\nmove: (c); move {x} \u3068\u540c\u3058\u3002\u3002\u3002\nmove {x}; move: (c) \u3068\u540c\u3058\u3002\u3002\u3002\n\n\nrewrite (r-step)\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\nrewrite /t.\nunfold t.\n\n\n\nrewrite //.\ntry done.\n\n\n\nrewrite /=.\nsimpl.\n\n\n\nrewrite //=.\nsomple; try done.\n\n\n\nrewrite (s, t, u).\n\n\u9806\u756a\u306b\u8a66\u3059\u3002\n\n\nrewrite -[x]/y.\nchange x with y.\np.37\u3002(4.)\n\n\nrewrite (_: a=b).\nreplace a with b.\n\u3042\u3068\u3067a=b\u306e\u8a3c\u660e\u3092\u3059\u308b\u3002(2.)\n\n\nrewrite -t.\n(\u65b9\u5411)\n\u9006\u65b9\u5411\u3078\u66f8\u304d\u63db\u3048\u308b\u3002(1.)\n\n\nrewrite 3!t.\n(\u56de\u6570)\n3\u56de\u3060\u3051\u66f8\u304d\u63db\u3048\u308b\u3002(1.)\n\n\nrewrite !t.\n\n1\u56de\u4ee5\u4e0a\u66f8\u304d\u63db\u3048\u308b\u3002(1.)\n\n\nrewrite ?t.\n\n0\u56de\u4ee5\u4e0a\u66f8\u304d\u63db\u3048\u308b\u3002(1.)\n\n\nrewrite 3?t.\n\n3\u56de\u4ee5\u4e0b\u66f8\u304d\u63db\u3048\u308b\u3002(1.)\n\n\nrewrite {2}t.\n(occ-switch)\n2\u756a\u3081\u306e\u7b87\u6240\u3092\u66f8\u304d\u63db\u3048\u308b\u3002(1.)\n\n\nrewrite {-2}t.\n(occ-switch)\n2\u756a\u3081\u306e\u7b87\u6240\u4ee5\u5916\u3092\u66f8\u304d\u63db\u3048\u308b\u3002(1.)\n\n\nrewrite [m]t.\n(contextual-pattern)(3.)\nm\u3068\u30de\u30c3\u30c1\u3057\u305f\u5168\u90e8\u3092\u66f8\u304d\u63db\u3048\u308b\u3002 (1.)(5.)\n\n\nrewrite [X in m]t.\n(contextual-pattern)(3.)\nm\u3068\u30de\u30c3\u30c1\u3057\u305f\u3046\u3061\u306eX\u306e\u5168\u90e8\u3092\u66f8\u304d\u63db\u3048\u308b\u3002 (1.)(6.)\n\n\nrewrite [in m]t.\n(contextual-pattern)(3.)\nm\u3068\u30de\u30c3\u30c1\u3057\u305f\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u308b\u3002 (1.)(5.)\n\n\nrewrite [in X in m]t.\n(contextual-pattern)(3.)\nm\u3068\u30de\u30c3\u30c1\u3057\u305f\u3046\u3061\u306eX\u306e\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u308b\u3002 (1.)(6.)\n\n\nrewrite {}H.\nrewrite H; clear H.\n{}\u306f occ-switch\u3067\u306f\u306a\u3044\u3002\n\n\n\n\n\u65b9\u5411\u3001\u56de\u6570\u3001occ-switch\u3001contextual-pattern \u306e\u9806\u756a\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3002\ncutrewrite (a=b). \u3068 replace (_ : a=b).  \u3067\u3082\u540c\u3058\u3002\nr-pattern (c-pattern\u3082\u542b\u3080)\u3002\nrewrite -[ term1 ]/ term2. is equivalent to: change term1 with term.\nIf term2 is a single constant and term1 head symbol is not term2 , then the head symbol\nof term1 is repeatedly unfolded until term2 appears.\nm\u306f_\u3092\u542b\u3093\u3067\u3082\u3088\u3044\u30028. p.44\nX\u306f\u5909\u6570\u540d(ident)\u3067\u3001m\u306e\u306a\u304b\u306b\u51fa\u73fe\u3059\u308b\u3053\u3068\u30028. p.44\n\n\nident\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\nmove H : (t) => h.\n\u4eee\u5b9a H : t = h \u3092\u5c0e\u5165\u3059\u308b\u3002 \u3000\u3000\u3000\u3000\n\n\n\ncase H : t.\n\u4eee\u5b9a H \u306b\u5834\u5408\u308f\u3051\u306e\u6761\u4ef6\u3092\u4fdd\u5b58\u3059\u308b\u3002\n\n\n\n\n\ncongr\n\u30b4\u30fc\u30eb\u304c\u7b49\u5f0f\u306e\u3068\u304d\u3001\u7b49\u5f0f\u3092\u8907\u6570\u306e\u30b4\u30fc\u30eb\u306b\u5206\u89e3\u3059\u308b\u3002f_equal\u3068\u540c\u3058\u3060\u304c\u3001\u5206\u89e3\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u660e\u793a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\u4f8b\uff1acongr (_ + _).\n\nViews\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\ncase/V.\nintro H; case H using V.\n9.1 p.47\n\n\nelim/V.\nintro H; induction H using V.\n9.1 p.47\n\n\napply/V.\napply V.\n\u30b4\u30fc\u30eb\u5168\u4f53\u3092\u66f8\u304d\u63db\u3048\u308b\u3002\u30b4\u30fc\u30eb\u304c\u25b3->\u25cb\u306e\u5834\u5408\u306f\u305d\u306e\u5168\u4f53\u304c\u5bfe\u8c61\u306b\u306a\u308b(\u6ce8) \u3002\n\n\nmove/V.\nintro H; apply V in H; apply H.\n\u30b4\u30fc\u30eb\u304c\u300c\u25b3->\u25cb\u300d\u306e\u3068\u304d\u3001\u25b3\u306e\u90e8\u5206\uff08\u30b9\u30bf\u30c3\u30af\u30c8\u30c3\u30d7\uff09\u3092\u66f8\u304d\u63db\u3048\u308b(\u6ce8)\u3002\n\n\nmove/V.\nmove=>H; move: (V H); move=> {H}.\n(\u6ce8)\n\n\nmove/(_ 0).\nmove=> H; move: (H 0); move=> {H}.\n\u300c_\u300d\u306f\u3001\u30b9\u30bf\u30c3\u30af\u30c8\u30c3\u30d7\u3092\u610f\u5473\u3059\u308b\u3002\n\n\napply/V1/V2.\napply/V1; apply/V2\n\u9023\u7d9a\u3057\u3066apply\u3059\u308b\u3002\u3000\n\n\napply/idP/idP\n\u30b4\u30fc\u30eb\u306e A = B \u3092 A -> B \u3068 B -> A \u306b\u3059\u308b\u3002\n9.5 p.55 (1.)\n\n\n\n(\u6ce8) iffLR\u3084elimT\u306a\u3069\u304c\u81ea\u52d5\u7684\u306b\u88dc\u308f\u308c\u308b\u3053\u3068\uff08View Hint\uff09\u306b\u3064\u3044\u3066\u306f\u3001\nhttp://qiita.com/suharahiromichi/items/02c7f42809f2d20ba11a\n\u304a\u3088\u3073\u3001\u300cAn introduction to small scale reflection in Coq\u300d\u306e4\u7ae0\u3092\u53c2\u7167\u306e\u3053\u3068\u3002\n\nControl flow\n\nTerminator\n(\u672a\u4f5c\u6210\uff09\n\nSelector\n(\u672a\u4f5c\u6210\uff09\n\nIteration\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\ndo    [t1 | t2 | t3].\n(\u56de\u6570\u6307\u5b9a)\n1\u56de\u3060\u3051t1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002\n\n\ndo 3! [t1 | t2 | t3].\n\n3\u56de\u3060\u3051t1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002\n\n\ndo !  [t1 | t2 | t3].\n\n1\u56de\u4ee5\u4e0at1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002\n\n\ndo ?  [t1 | t2 | t3].\n\n0\u56de\u4ee5\u4e0at1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002\n\n\ndo 3? [t1 | t2 | t3].\n\n3\u56de\u4ee5\u4e0bt1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002\n\n\n\n\nLocalisation\n(\u672a\u4f5c\u6210\uff09\n\nStructure\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\nhave: t.\nassert t.\n(2.)\n\n\nhave H : t.\nhave: t => H.\n(1.)\n\n\nhave H : t by tactics.\nhave: t; first by tactics. move=> H.\n6.6 p.32\n\n\nhave H := t.\nmove: t => H\n\u76f4\u63a5\u8a3c\u660e\u3092\u4e0e\u3048\u308b\u30026.6 p.33 (3.)\n\n\n\n\nH\u306b\u306f\u3001[ | ] \u3084\u3001/V\u3001 -> \u306a\u3069\u3001i-item\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u3002\nassert\u306e\u5f8c\u306b\u306f\u62ec\u5f27\u304c\u8981\u308b\u3002have:\u306e\u5f8c\u306b\u306f\u3072\u3068\u3064\u306e\u9805\u3057\u304b\u66f8\u3051\u306a\u3044\u3002\nmove:\u306e\u5f8c\u306b\u306f\u62ec\u5f27\u304c\u8981\u308b\u304c\u3001\u8907\u6570\u306e\u9805\u3092\u66f8\u3051\u308b\u3002have:\u306e\u5f8c\u306b\u306f\u3072\u3068\u3064\u306e\u9805\u3057\u304b\u66f8\u3051\u306a\u3044\u3002\n\n\u5b9f\u884c\u524d\u304c\u3001 \u0393 \u22a6 G \u3067\u3042\u308b\u5834\u5408\u3001\n\n\n\n\u4f8b\n\u5b9f\u884c\u5f8c\n\u5099\u8003\n\n\n\n\nhave H := t.\n\u0393  H:t \u22a6  G\n\u76f4\u63a5\u4e0e\u3048\u308b\u3002\n\n\nhave H : P.\n\u0393      \u22a6  P,         \u0393  H:P \u22a6 G\nassert P as H.\n\n\nsuff H : P.\n\u0393  H:P \u22a6  G,              \u0393 \u22a6 P\n6.6 p.33\n\n\nhave suff H : P.\n\u0393      \u22a6 P->G,    \u0393  H:P->G \u22a6 G\n\n\n\nsuff have H : P.\n\u0393  H:P \u22a6  G,              \u0393 \u22a6 (P->G)->G\n6.6 p.34\n\n\nwlog H : / P.\n\u0393      \u22a6 (P->G)->G,  \u0393  H:P \u22a6 G\n6.6 p.34\n\n\nwlog suff H : / P.\n\u0393  H:P \u22a6  G,              \u0393 \u22a6  (P->G)->G\nsuff have H : P.\n\n\n\n\nGallina\u306e\u62e1\u5f35\n\nmatch\n\n\n\n\u4f8b\n\u610f\u5473\n\u5099\u8003\n\n\n\n\nlet: p      := t1 in t2.\nmatch t1          with p      => t2 end.\n\n\n\nlet: p as i := t1 return t in t2.\nmatch t1 return t with p as i => t2 end.\ni\u306fp\u306e\u5225\u540d\u3001t\u306ft2\u3068t3\u306e\u578b\n\n\nif t1 is p               then t2 else t3\nmatch t1          with p      => t2 | _ => t3 end\n\n\n\nif t1 is p as i return t then t2 else t3\nmatch t1 return t with p as i => t2 | _ => t3 end\ni\u306fp\u306e\u5225\u540d\u3001t\u306ft2\u3068t3\u306e\u578b\n\n\n\n\nInductive\n\u4ee5\u4e0b\u306f\u3069\u308c\u3082\u540c\u3058\u30023.4 p.12\nInductive list (A : Type) : Type :=\n| nil\n| cons of A & list A.\n\nInductive list (A : Type) : Type :=\n| nil : list A\n| cons of A & list A : list A.\n\nInductive list (A : Type) : Type :=\n| nil : list A\n| cons : A -> list A -> list A.\n\nInductive list (A : Type) : Type :=\n| nil : list A\n| cons (x : A) (l : list A) : list A.\n\n\n\u53c2\u8003\u6587\u732e\n\u4ee5\u4e0b\u306b\u30bf\u30af\u30c6\u30a3\u30af\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3068\u3057\u3066\u3082\u4f7f\u3048\u308b\u8cc7\u6599\u3092\u5217\u6319\u3059\u308b\u3002\n\nNo 6455 \"A Small Sscale Reflection Extension for the Coq System\",\nhttps://hal.inria.fr/file/index/docid/409356/filename/main.pdf\n\nNo. 367 \"An Ssreflect Tutorial\",\nhttps://hal.inria.fr/inria-00407778/file/RT-367.pdf\n\nNo 7392 \"An introduction to small scale reflection in Coq\",\nhttps://hal.inria.fr/inria-00515548/file/main-rr.pdf\n\n\"Programs and Proofs\",\nhttp://ilyasergey.net/pnp/\n\n\"\u5b9a\u7406\u8a3c\u660e\u652f\u63f4\u7cfbCoq/SSReflect\u5165\u9580\",\nhttps://staff.aist.go.jp/reynald.affeldt/ssrcoq/\n\n\n\u4ee5\u4e0a\nSSReflect\u30ce\u30fc\u30c8 (\u66ab\u5b9a\u7248)\n========\n2014/04/27 @suharahiromichi\n2014/04/27 @suharahiromichi\u3001Qiita\u306b\u6295\u7a3f\u3002\u66d6\u6627\u306a\u7b87\u6240\u3092\u524a\u9664\u3057\u305f\u3002\n2014/12/20 @suharahiromichi\u3001\u8ffd\u8a18\u3002View\u306b\u3064\u3044\u3066\u306e\u8a18\u8ff0\u3092\u8a02\u6b63\u3057\u305f\u3002\n\n\u7ae0\u7bc0\u756a\u53f7\u3068\u30da\u30fc\u30b8\u306f\u3001No 6455 \"A Small Sscale Reflection Extension for the Coq System\" \u306e\u8a72\u5f53\u7b87\u6240\u3092\u793a\u3059\u3002\n\n# CheatSheet\u4ee5\u524d\u306e\u4e8b\u9805\n\n## tactic \u306e\u610f\u5473\n\n| \u4f8b                   | \u30b4\u30fc\u30eb H->G \u306e\u3068\u304d\u3002                       | \u30b4\u30fc\u30eb forall x, G \u306e\u3068\u304d\u3002 |\n|:---------------------|:------------------------------------------|:---------------------------|\n| move.                | \u306a\u306b\u3082\u3057\u306a\u3044\u3002\u300c=>\u300d\u3084\u300c:\u300d\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3002 | \u540c\u5de6                        |\n| apply.               | H\u3092\u9069\u7528\u3059\u308b\u3002                             |                            |\n| exact.               | by apply.                                 |                           |\n| case.                | H\u3067\u5834\u5408\u308f\u3051\u3059\u308b\u3002                          | x\u3067\u5834\u5408\u308f\u3051\u3059\u308b\u3002          |\n| elim.                | H\u306b\u5bfe\u3057\u3066\u5e30\u7d0d\u6cd5\u3092\u4f7f\u3046\u3002                    | x\u306b\u5bfe\u3057\u3066\u5e30\u7d0d\u6cd5\u3092\u4f7f\u3046\u3002    |\n\n1. H->G1->G2\u306a\u3089\u3001(G1->G2)\u306bH\u3092\u2026\u3059\u308b\u3002H->(G1->G2)\u3067\u3042\u308b\u305f\u3081\u3002\n\n\n## \u300ctactic: x => a\u300d\u306f\u3001\u300cmove: x; tactic; move=> a\u300d\n\n| \u4f8b                   | \u610f\u5473                              | \u5099\u8003                  |\n|:---------------------|:---------------------------------|:----------------------|\n| apply: x y => a b    | move: x y; apply; move=> a b     |                   |\n| exact: x y => a b    | move: x y; exact; move=> a b     |                   |\n| case: x y => a b     | move: x y; case;  move=> a b     |                       |\n| elim: x y => a b     | move: x y; elim;  move=> a b     |                       |\n| move/V: x y => a b   | move: x y; move/V; move=> a b    | View\u3092\u6307\u5b9a\u3057\u3066\u3082\u540c\u3058\u3002 |\n| apply/V: x y => a b  | move: x y; apply/V; move=> a b   | View\u3092\u6307\u5b9a\u3057\u3066\u3082\u540c\u3058\u3002 |\n| rewrite p q => a b   | rewrite p q; move=> a b          | \u300c:\u300d\u306e\u306a\u3044tactic\u5168\u3066\u3002 |\n\n\n\n\n## move\u3068rewrite\u306f\u300c\u5206\u914d\u300d\u3067\u304d\u308b\n\n| \u4f8b                   | \u610f\u5473                              | \u5099\u8003            |\n|:---------------------|:---------------------------------|:----------------|\n| move=> a b c.        | move=> a; move=> b; move=> c.    | move: a b c \u3067\u623b\u308b\u3002 |\n| move: a b c.         | move: c; move: b; move: a.       | \u9006\u9806\u306b\u306a\u308b\u3002     |\n| rewrite p q r        | rewrite p; rewrite q; rewrite r  |                 |\n\n\n## move=>[]\u3068\u3001case\u306e\u95a2\u4fc2\n\n| \u4f8b                   | \u610f\u5473                              | \u5099\u8003                  |\n|:---------------------|:---------------------------------|:----------------------|\n| case=> [].           | move=> [].                       |                       |\n| case=> [].           | case.                            |                       |\n| case=> [l m n].      | move=> [l m n].                  |                       |\n| case=> [l m n].      | case=> l m n.                    | \u300cmove=> l m n\u300d\u3067\u306f\u306a\u3044\u3002|\n| move=> [l m n].      | move=> [] l m n.                 | move=> []; move=> l m n. |\n| move=> [l m n].      | case; move=> l m n.              | case=> []; move=> l m n. |\n| move=> [l&#124;m].        | move=> []; first move=> l; last move=> m. |                 |\n| move=> [l&#124;m].        | move=> []; [move=> l&#124; move=> m]. |                       |\n\n\u4ee5\u4e0b\u306e\u4f8b\u306f\u305d\u308c\u305e\u308c\u540c\u3058\u306b\u306a\u308b\u3002\n\n\u4f8b1. \u4ee5\u4e0b\u306e5\u8005\u306f\u304a\u306a\u3058\u7d50\u679c\u306b\u306a\u308b\u3002\n\n```\ncase=> [l m].\nmove=> [l m].\nmove=> []; move=> l m.\ncase; move=> l m.\ncase=> l m.\n```\n\n\u4f8b2. \u4ee5\u4e0b\u306e6\u8005\u306f\u304a\u306a\u3058\u7d50\u679c\u306b\u306a\u308b\u3002\n\n```\nmove=> [[l m] n].\nmove=> [] [l m] n.\nmove=> [] [] l m n.\nmove=> []; move=> []; move=> l m n.\ncase; case; move=> l m n.\ncase; case=> l m n.\n```\n\n\u4f8b3. \u4ee5\u4e0b\u306e5\u8005\u306f\u304a\u306a\u3058\u7d50\u679c\u306b\u306a\u308b\u3002\n\n```\nmove=> [|[]].\nmove=> []; last move=> [].\nmove=> []; [| move=> []].\ncase; last case.\ncase; [| case].\n```\n\n\n# Introduction (i-item)\n\n| \u4f8b                   | \u610f\u5473                   | \u5099\u8003                             |\n|:---------------------|:----------------------|:---------------------------------|\n| move=> a.            | intro a.              |                                  |\n| move=> ->.           | intro a; rewrite a; clear a.      |                      |\n| move=> {2}->.        | intro a; rewrite {2}a; clear a.   | occ-switch          |\n| move=> <-.           | intro a; rewrite -a; clear a.     |                      |\n| move=> {2}<-.        | intro a; rewrite -{2}a; clear a.  | occ-switch          |\n| move=> //.           | try done.             |                                  |\n| move=> /=.           | simpl.                |                                  |\n| move=> //=.          | simpl; try done.      |                                  |\n| move=> {a}.          | intro a; clear a.     | clear-switch  |\n| move=> /V.           | move/V.               | 5.4 p.23 (\u6700\u5f8c)\u30019.9\u3000            |\n| move=> -.            | move.                 | 9.9 (\u306a\u306b\u3082\u3057\u306a\u3044)           |\n\n\n# Discharge (d-item)\n\n| \u4f8b                   | \u610f\u5473                   | \u5099\u8003                             |\n|:---------------------|:----------------------|:---------------------------------|\n| move: x.             | revert x.             | x\u3092push\u3059\u308b\u3002x\u3092clear\u3059\u308b\u3002      |\n| move: {2}x.          | \u30b4\u30fc\u30eb\u306e2\u756a\u3081\u306ex\u3092generalize\u3059\u308b\u3002| occ-switch            |\n| move: {-2}x.         | \u30b4\u30fc\u30eb\u306e2\u756a\u3081\u4ee5\u5916\u306ex\u3092generalize\u3059\u308b\u3002| occ-switch            |\n| move: {+}x.          | generalize x.         | x\u3092push\u3059\u308b\u3002x\u3092\u6d88\u3055\u305a\u306b\u6b8b\u3059\u3002        |\n| move: (x).           | generalize x.         | x\u3092push\u3059\u308b\u3002x\u3092\u6d88\u3055\u305a\u306b\u6b8b\u3059\u3002        |\n| move: {x}(c).        | move: (c); clear x    | clear-switch (\u5f8c\u3067 clear x)  (1.)   |\n| move: (c){x}.        | clear x; move: (c)    | clear-switch (\u5148\u306b clear x)  (2.)    |\n\n1. move: (c); move {x} \u3068\u540c\u3058\u3002\u3002\u3002\n2. move {x}; move: (c) \u3068\u540c\u3058\u3002\u3002\u3002\n\n# rewrite (r-step)\n\n| \u4f8b                   | \u610f\u5473                   | \u5099\u8003                             |\n|:---------------------|:----------------------|:---------------------------------|\n| rewrite /t.          | unfold t.             |                                  |\n| rewrite //.          | try done.             |                                  |\n| rewrite /=.          | simpl.                |                                  |\n| rewrite //=.         | somple; try done.     |                                  |\n| rewrite (s, t, u).   |                       | \u9806\u756a\u306b\u8a66\u3059\u3002                      |\n| rewrite -[x]/y.      | change x with y.      | p.37\u3002(4.)                       |\n| rewrite (_: a=b).    | replace a with b.    | \u3042\u3068\u3067a=b\u306e\u8a3c\u660e\u3092\u3059\u308b\u3002(2.)       |\n| rewrite -t.          | (\u65b9\u5411)                | \u9006\u65b9\u5411\u3078\u66f8\u304d\u63db\u3048\u308b\u3002(1.)          |\n| rewrite 3!t.         | (\u56de\u6570)                | 3\u56de\u3060\u3051\u66f8\u304d\u63db\u3048\u308b\u3002(1.)           |\n| rewrite !t.          |                       | 1\u56de\u4ee5\u4e0a\u66f8\u304d\u63db\u3048\u308b\u3002(1.)           |\n| rewrite ?t.          |                       | 0\u56de\u4ee5\u4e0a\u66f8\u304d\u63db\u3048\u308b\u3002(1.)           |\n| rewrite 3?t.         |                       | 3\u56de\u4ee5\u4e0b\u66f8\u304d\u63db\u3048\u308b\u3002(1.)           |\n| rewrite {2}t. | (occ-switch) | 2\u756a\u3081\u306e\u7b87\u6240\u3092\u66f8\u304d\u63db\u3048\u308b\u3002(1.) |\n| rewrite {-2}t. | (occ-switch) | 2\u756a\u3081\u306e\u7b87\u6240\u4ee5\u5916\u3092\u66f8\u304d\u63db\u3048\u308b\u3002(1.) |\n| rewrite [m]t.        | (contextual-pattern)(3.) | m\u3068\u30de\u30c3\u30c1\u3057\u305f\u5168\u90e8\u3092\u66f8\u304d\u63db\u3048\u308b\u3002 (1.)(5.)   |\n| rewrite [X in m]t.   | (contextual-pattern)(3.) | m\u3068\u30de\u30c3\u30c1\u3057\u305f\u3046\u3061\u306eX\u306e\u5168\u90e8\u3092\u66f8\u304d\u63db\u3048\u308b\u3002 (1.)(6.)   |\n| rewrite [in m]t.        | (contextual-pattern)(3.) | m\u3068\u30de\u30c3\u30c1\u3057\u305f\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u308b\u3002 (1.)(5.)   |\n| rewrite [in X in m]t.   | (contextual-pattern)(3.) | m\u3068\u30de\u30c3\u30c1\u3057\u305f\u3046\u3061\u306eX\u306e\u90e8\u5206\u3092\u66f8\u304d\u63db\u3048\u308b\u3002 (1.)(6.)   |\n| rewrite {}H.         | rewrite H; clear H.   | {}\u306f occ-switch\u3067\u306f\u306a\u3044\u3002        |\n\n1. \u65b9\u5411\u3001\u56de\u6570\u3001occ-switch\u3001contextual-pattern \u306e\u9806\u756a\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3002\n2. cutrewrite (a=b). \u3068 replace (_ : a=b).  \u3067\u3082\u540c\u3058\u3002\n3. r-pattern (c-pattern\u3082\u542b\u3080)\u3002\n4. rewrite -[ term1 ]/ term2. is equivalent to: change term1 with term.\nIf term2 is a single constant and term1 head symbol is not term2 , then the head symbol\nof term1 is repeatedly unfolded until term2 appears.\n\n5. m\u306f``_``\u3092\u542b\u3093\u3067\u3082\u3088\u3044\u30028. p.44\n6. X\u306f\u5909\u6570\u540d(ident)\u3067\u3001m\u306e\u306a\u304b\u306b\u51fa\u73fe\u3059\u308b\u3053\u3068\u30028. p.44\n\n# ident\n\n| \u4f8b                   | \u610f\u5473                               | \u5099\u8003         |\n|:---------------------|:----------------------------------|:-------------|\n| move H : (t) => h.   | \u4eee\u5b9a H : t = h \u3092\u5c0e\u5165\u3059\u308b\u3002 \u3000\u3000\u3000\u3000 |              |\n| case H : t.          | \u4eee\u5b9a H \u306b\u5834\u5408\u308f\u3051\u306e\u6761\u4ef6\u3092\u4fdd\u5b58\u3059\u308b\u3002  |               |\n\n\n# congr\n\n\u30b4\u30fc\u30eb\u304c\u7b49\u5f0f\u306e\u3068\u304d\u3001\u7b49\u5f0f\u3092\u8907\u6570\u306e\u30b4\u30fc\u30eb\u306b\u5206\u89e3\u3059\u308b\u3002f_equal\u3068\u540c\u3058\u3060\u304c\u3001\u5206\u89e3\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u660e\u793a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n\u4f8b\uff1a``congr (_ + _).``\n\n\n# Views\n\n| \u4f8b                   | \u610f\u5473                                      | \u5099\u8003                |\n|:---------------------|:-----------------------------------------|:--------------------|\n| case/V.              | intro H; case H using V.           |  9.1 p.47 |\n| elim/V.              | intro H; induction H using V.       |  9.1 p.47 | \n| apply/V.             | apply V.                           | \u30b4\u30fc\u30eb\u5168\u4f53\u3092\u66f8\u304d\u63db\u3048\u308b\u3002\u30b4\u30fc\u30eb\u304c\u25b3->\u25cb\u306e\u5834\u5408\u306f\u305d\u306e\u5168\u4f53\u304c\u5bfe\u8c61\u306b\u306a\u308b(\u6ce8) \u3002 |\n| move/V.              | intro H; apply V in H; apply H.    | \u30b4\u30fc\u30eb\u304c\u300c\u25b3->\u25cb\u300d\u306e\u3068\u304d\u3001\u25b3\u306e\u90e8\u5206\uff08\u30b9\u30bf\u30c3\u30af\u30c8\u30c3\u30d7\uff09\u3092\u66f8\u304d\u63db\u3048\u308b(\u6ce8)\u3002  |\n| move/V.              | move=>H; move: (V H); move=> {H}.  | (\u6ce8)\n| move/(_ 0).          | move=> H; move: (H 0); move=> {H}.   | \u300c_\u300d\u306f\u3001\u30b9\u30bf\u30c3\u30af\u30c8\u30c3\u30d7\u3092\u610f\u5473\u3059\u308b\u3002\n| apply/V1/V2.         | apply/V1; apply/V2                 | \u9023\u7d9a\u3057\u3066apply\u3059\u308b\u3002\u3000|\n| apply/idP/idP        | \u30b4\u30fc\u30eb\u306e A = B \u3092 A -> B \u3068 B -> A \u306b\u3059\u308b\u3002 | 9.5 p.55 (1.)       |\n\n(\u6ce8) iffLR\u3084elimT\u306a\u3069\u304c\u81ea\u52d5\u7684\u306b\u88dc\u308f\u308c\u308b\u3053\u3068\uff08View Hint\uff09\u306b\u3064\u3044\u3066\u306f\u3001\nhttp://qiita.com/suharahiromichi/items/02c7f42809f2d20ba11a\n\u304a\u3088\u3073\u3001\u300cAn introduction to small scale reflection in Coq\u300d\u306e4\u7ae0\u3092\u53c2\u7167\u306e\u3053\u3068\u3002\n\n# Control flow\n\n## Terminator\n\n(\u672a\u4f5c\u6210\uff09\n\n## Selector\n\n(\u672a\u4f5c\u6210\uff09\n\n## Iteration\n\n| \u4f8b                    | \u610f\u5473                  | \u5099\u8003                             |\n|:----------------------|:---------------------|:---------------------------------|\n| do    [t1 &#124; t2 &#124; t3]. | (\u56de\u6570\u6307\u5b9a)            | 1\u56de\u3060\u3051t1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002   |\n| do 3! [t1 &#124; t2 &#124; t3]. |                      | 3\u56de\u3060\u3051t1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002   |\n| do !  [t1 &#124; t2 &#124; t3]. |                      | 1\u56de\u4ee5\u4e0at1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002   |\n| do ?  [t1 &#124; t2 &#124; t3]. |                      | 0\u56de\u4ee5\u4e0at1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002   |\n| do 3? [t1 &#124; t2 &#124; t3]. |                      | 3\u56de\u4ee5\u4e0bt1,t2,t3\u306e\u3069\u308c\u304b\u3092\u8a66\u3059\u3002   |\n\n## Localisation\n\n(\u672a\u4f5c\u6210\uff09\n\n# Structure\n\n| \u4f8b                         | \u610f\u5473                                   | \u5099\u8003                    |\n|:---------------------------|:---------------------------------------|:-----------------------|\n| have: t.                   | assert t.                              | (2.)                  |\n| have H : t.                | have: t => H.                          | (1.)                   |\n| have H : t by tactics.     | have: t; first by tactics. move=> H.   | 6.6 p.32               |\n| have H := t.               | move: t => H                           | \u76f4\u63a5\u8a3c\u660e\u3092\u4e0e\u3048\u308b\u30026.6 p.33 (3.)   |\n\n1. H\u306b\u306f\u3001[ &#124; ] \u3084\u3001/V\u3001 -> \u306a\u3069\u3001i-item\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u308b\u3002\n2. assert\u306e\u5f8c\u306b\u306f\u62ec\u5f27\u304c\u8981\u308b\u3002have:\u306e\u5f8c\u306b\u306f\u3072\u3068\u3064\u306e\u9805\u3057\u304b\u66f8\u3051\u306a\u3044\u3002\n3. move:\u306e\u5f8c\u306b\u306f\u62ec\u5f27\u304c\u8981\u308b\u304c\u3001\u8907\u6570\u306e\u9805\u3092\u66f8\u3051\u308b\u3002have:\u306e\u5f8c\u306b\u306f\u3072\u3068\u3064\u306e\u9805\u3057\u304b\u66f8\u3051\u306a\u3044\u3002\n\n\u5b9f\u884c\u524d\u304c\u3001 \u0393 \u22a6 G \u3067\u3042\u308b\u5834\u5408\u3001\n\n| \u4f8b                   | \u5b9f\u884c\u5f8c                                      | \u5099\u8003          |\n|:---------------------|:--------------------------------------------|:-----------------------|\n| have H := t.         | \u0393  H:t \u22a6  G                                 | \u76f4\u63a5\u4e0e\u3048\u308b\u3002           |\n| have H : P.          | \u0393      \u22a6  P,         \u0393  H:P \u22a6 G           | assert P as H.         |\n| suff H : P.          | \u0393  H:P \u22a6  G,              \u0393 \u22a6 P           | 6.6 p.33               |\n| have suff H : P.     | \u0393      \u22a6 P->G,    \u0393  H:P->G \u22a6 G          |                       |\n| suff have H : P.     | \u0393  H:P \u22a6  G,              \u0393 \u22a6 (P->G)->G  | 6.6 p.34            |\n| wlog H : / P.        | \u0393      \u22a6 (P->G)->G,  \u0393  H:P \u22a6 G          | 6.6 p.34            |\n| wlog suff H : / P.   | \u0393  H:P \u22a6  G,              \u0393 \u22a6  (P->G)->G  | suff have H : P.    |\n\n# Gallina\u306e\u62e1\u5f35\n\n## match\n\n| \u4f8b                                       | \u610f\u5473                                                    | \u5099\u8003                      |\n|:-----------------------------------------|:--------------------------------------------------------|:-------------------------|\n| let: p      := t1 in t2.                 | match t1          with p      => t2 end.                |                          |\n| let: p as i := t1 return t in t2.        | match t1 return t with p as i => t2 end.                | i\u306fp\u306e\u5225\u540d\u3001t\u306ft2\u3068t3\u306e\u578b |\n| if t1 is p               then t2 else t3 | match t1          with p      => t2 &#124; _ => t3 end  |                          |\n| if t1 is p as i return t then t2 else t3 | match t1 return t with p as i => t2 &#124; _ => t3 end  | i\u306fp\u306e\u5225\u540d\u3001t\u306ft2\u3068t3\u306e\u578b |\n\n\n## Inductive\n\n\u4ee5\u4e0b\u306f\u3069\u308c\u3082\u540c\u3058\u30023.4 p.12\n\n```\nInductive list (A : Type) : Type :=\n| nil\n| cons of A & list A.\n```\n\n```\nInductive list (A : Type) : Type :=\n| nil : list A\n| cons of A & list A : list A.\n```\n\n```\nInductive list (A : Type) : Type :=\n| nil : list A\n| cons : A -> list A -> list A.\n```\n\n```\nInductive list (A : Type) : Type :=\n| nil : list A\n| cons (x : A) (l : list A) : list A.\n```\n\n# \u53c2\u8003\u6587\u732e\n\n\u4ee5\u4e0b\u306b\u30bf\u30af\u30c6\u30a3\u30af\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3068\u3057\u3066\u3082\u4f7f\u3048\u308b\u8cc7\u6599\u3092\u5217\u6319\u3059\u308b\u3002\n\n1. No 6455 \"A Small Sscale Reflection Extension for the Coq System\",\n   https://hal.inria.fr/file/index/docid/409356/filename/main.pdf\n3. No. 367 \"An Ssreflect Tutorial\",\n   https://hal.inria.fr/inria-00407778/file/RT-367.pdf\n2. No 7392 \"An introduction to small scale reflection in Coq\",\n   https://hal.inria.fr/inria-00515548/file/main-rr.pdf\n4. \"Programs and Proofs\",\n   http://ilyasergey.net/pnp/\n5. \"\u5b9a\u7406\u8a3c\u660e\u652f\u63f4\u7cfbCoq/SSReflect\u5165\u9580\",\n   https://staff.aist.go.jp/reynald.affeldt/ssrcoq/\n\n\n\u4ee5\u4e0a\n"}