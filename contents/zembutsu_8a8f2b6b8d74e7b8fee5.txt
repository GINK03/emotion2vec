{"context": " More than 1 year has passed since last update.\n\n\u6982\u8981\nTeraform \u306f\u3001\u30a4\u30f3\u30d5\u30e9\u306e\u30b3\u30fc\u30c9\u5316(Infrastructure as code)\u3092\u5b9f\u73fe\u3059\u3079\u304f\u3001\u30a4\u30f3\u30d5\u30e9\u306e\u69cb\u7bc9\u30fb\u5909\u66f4\u30fb\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3092\u3001\u5b89\u5168\u304b\u3064\u52b9\u7387\u7684\u306b\u884c\u3046\u305f\u3081\u306e\u30c4\u30fc\u30eb\u3002Vagrant\u3001Serf\u3001Consul \u7b49\u3092\u63d0\u4f9b\u3059\u308b HashiCorp \u304c\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u3067\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3002\n\u672c\u7a3f\u306f\u3001Teraform \u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u4e8b\u696d\u8005(provider)\u306e\uff11\u3064\u3067\u3042\u308b Amazon Web Services (AWS)\u306e\u3046\u3061\u3001Simple Storage Service (S3) \u306e\u30d0\u30b1\u30c3\u30c8\u8ffd\u52a0\u30fb\u524a\u9664\u3092\u884c\u3046\u305f\u3081\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u3042\u308b\u3002\n\u672c\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u901a\u3057\u3001Terraform \u3092\u4f7f\u3063\u305f\u30a4\u30f3\u30d5\u30e9\u306e\u30b3\u30fc\u30c9\u5316\u306b\u5bfe\u3059\u308b\u7406\u89e3\u3092\u6df1\u3081\u308b\u4e8b\u3092\u76ee\u7684\u3068\u3059\u308b\u3002\n\n\u53c2\u8003\uff1aTerraform\u5165\u9580 \u65e5\u672c\u8a9e\u8a33 - Qiita\n\n\nhttp://qiita.com/zembutsu/items/84f5478701c5391df537\n\n\n\nTerraform \u3092\u4f7f\u3046\u306b\u3042\u305f\u308a\u3001\u65e2\u5b58\u306e\u30a4\u30f3\u30d5\u30e9\u74b0\u5883\u306b\u5bfe\u3057\u3066\u4f55\u3089\u8a2d\u5b9a\u3092\u52a0\u3048\u308b\u5fc5\u8981\u306f\u7121\u3044\u3002Terraform \u306f\u3001\u65e2\u5b58\u306e\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u3080\u3082\u306e\u3067\u306f\u306a\u304f\u3001\u3042\u304f\u307e\u3067\u73fe\u72b6\u306b\u5bfe\u3059\u308b\u5909\u66f4\u3057\u304b\u7ba1\u7406\u3057\u306a\u3044\u3002\n\u306a\u304a\u3001S3 \u3092\u6271\u3046\u306e\u306f\u3001Terraform \u306e\u6319\u52d5\u3092\u7406\u89e3\u30fb\u78ba\u8a8d\u3059\u308b\u306b\u3042\u305f\u308a\u3001AWS \u306e\u4e2d\u3067\u306f S3 \u304c\u30b7\u30f3\u30d7\u30eb\u3067\u5206\u304b\u308a\u3084\u3059\u3044\u3068\u8003\u3048\u305f\u305f\u3081\u3002\n\u8ffd\u8a18\uff1a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u7de8\u3092\u4f5c\u6210\u3057\u305f\u3002\n\nTerraform\u3067AWS(EC2)\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u7ba1\u7406 - Qiita\n\n\nhttp://qiita.com/zembutsu/items/5de875ed99ac8a56a998\n\n\n\n\n\u4f5c\u696d\u306e\u6d41\u308c\n\nTerraform \u3067\u3001S3 \u306e\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\nS3 \u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210\nAWS \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30fb\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u78ba\u8a8d\nS3 \u30d0\u30b1\u30c3\u30c8\u306e\u524a\u9664\n\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u78ba\u8a8d\n\n\n\u4e8b\u524d\u6e96\u5099\n\nAWS \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\nTerraform \u306e\u5b9f\u884c\u74b0\u5883\n\nTerraform \u306e\u5c0e\u5165\u304c\u307e\u3060\u306e\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u53c2\u7167\u306e\u3053\u3068\u3002\n\nTerraform\u7c21\u6613\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb on AWS - Qiita\n\n\nhttp://qiita.com/zembutsu/items/93e546df765f8b2c4f32\n\n\n\n\nTerraform \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\nAWS \u3068\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6307\u5b9a\nTerraform \u306e\u5b9f\u884c\u6642\u3001\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u62e1\u5f35\u5b50 *.tf \u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u3002AWS \u306b\u63a5\u7d9a\u3059\u308b\u306b\u3042\u305f\u308a\u3001\u307e\u305a\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3068\u3001\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u3092\u8a18\u8ff0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3059\u308b\u3002\u30a8\u30c7\u30a3\u30bf\u7b49\u3067 vi aws_region.tf \u30d5\u30a1\u30a4\u30eb\uff08\u4f8b\uff09\u3092\u4f5c\u6210\u3059\u308b\u3002\n\naws_region.tf\nprovider \"aws\" {\n    access_key = \"\u81ea\u5206\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\"\n    secret_key = \"\u81ea\u5206\u306e\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\"\n    region = \"us-east-1\"\n}\n\n\nprovider \u306f Teraform \u304c\u53d6\u308a\u6271\u3046\u3053\u3068\u306e\u3067\u304d\u308b\u30b5\u30fc\u30d3\u30b9\u63d0\u4f9b\u8005\uff08\u4e8b\u696d\u8005\uff09\uff1d\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u6307\u5b9a\u3067\u3042\u308b\u3002provider \"aws\" \u3068\u306f\u3001\u4e8b\u696d\u8005\u3068\u3057\u3066\u306e AWS \u3092\u4f7f\u3046\u4e8b\u3092\u660e\u793a\u3057\u3066\u3044\u308b\u3002`version 0.1.0 \u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u306f\u3001AWS\u3001CloudFlare\u3001Consul\u3001DigialOcean\u3001DNSimple\u3001Heroku \u3067\u3042\u308b\u3002\u3053\u308c\u3089\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u5f62\u5f0f\u3067\u62e1\u5f35\u53ef\u80fd\u3067\u3042\u308a\u3001IRC \u3084 issue \u3067\u306f\u3001OpenStack \u3084 VMware \u5bfe\u5fdc\u304c\u8b70\u8ad6\u3055\u308c\u3066\u3044\u308b \u3002\n\u306a\u304a\u3001\u3053\u3053\u3067\u306f S3 \u3092\u5229\u7528\u3059\u308b\u305f\u3081\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u306f us-east-1 \u3092\u660e\u793a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002EC2 \u306a\u3069\u3067\u3001\u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f ap-northeast-1 \u3092\u6307\u5b9a\u3059\u308b\u4e8b\u306f\u53ef\u80fd\u3002\n\nS3 \u7528\u306e\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\u6b21\u306b s3.tf \u306a\u3069\u3001\u62e1\u5f35\u5b50\u304c .tf \u3067 s3 \u3092\u8b58\u5225\u3067\u304d\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\ns3.tf\nresource \"aws_s3_bucket\" \"bucket1\" {\n    bucket = \"\u4efb\u610f\u540d\u79f0_tf_bucket\"\n    acl = \"private\"\n}\n\n\n\u3053\u308c\u306f\u3001resource\u30ea\u30bd\u30fc\u30b9\u3068\u3057\u3066\u3001aws_s3_bucket(S3\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8)\u3092\u6307\u5b9a\u3057\u3001\u30ea\u30bd\u30fc\u30b9\u540d\u79f0\u304c bucket1\u3067\u3042\u308b\u4e8b\u3092\u793a\u3059\u3002\u305d\u3057\u3066\u5185\u5bb9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3042\u308b\u3002\n\n\nbucket = AWS \u4e0a\u306e\u5b9f\u969b\u306e\u30d0\u30b1\u30c3\u30c8\u540d\u79f0\n\nacl = S3 \u4e0a\u306e ACL \u6307\u5b9a \u203b\u73fe\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f private \u3057\u304b\u6307\u5b9a\u3067\u304d\u306a\u3044\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001Terraform \u3092\u5b9f\u884c\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u306e\u306f\u3001provider (\u30d7\u30ed\u30d0\u30a4\u30c0) \u3068 resoruce (\u30ea\u30bd\u30fc\u30b9)\u306e\u6307\u5b9a\u3067\u3042\u308b\u3002\u3053\u3053\u3067\u306f\u3001AWS \u3068\u3044\u3046\u30d7\u30ed\u30d0\u30a4\u30c0\u3068\u3001S3 \u30d0\u30b1\u30c3\u30c8\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u6307\u5b9a\u3057\u305f\u3002\n\nTerraform \u306e build \u3067\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\n\nplan (\u8a08\u753b)\n\u6b21\u306b\u3001\u5b9f\u969b\u306b\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002Terraform \u3067\u306f\u3001\u5b9f\u884c\uff08\u30a4\u30f3\u30d5\u30e9\u306b\u5bfe\u3059\u308b\u9069\u7528 apply ) \u306e\u524d\u306b\u3001\u8a08\u753b plan \u3092\u884c\u3044\u3001\u5909\u66f4\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\uff08plan \u3092\u884c\u308f\u305a apply \u3092\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3060\u304c\u3001\u4f5c\u696d\u524d\u306e\u78ba\u8a8d\u3068\u3044\u3046\u610f\u5473\u3067\u306f\u3001 plan \u3092\u5b9f\u884c\u3059\u3079\u304d\u3060\u308d\u3046\uff09\u3002\n\u5148\u306e aws_region_tokyo.tf \u3068 s3.tf \u304c\u5c55\u958b\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3001terraform plan\u3092\u5b9f\u884c\u3059\u308b\u3002\n$ ./terraform plan\nRefreshing Terraform state prior to plan...\n\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n+ aws_s3_bucket.bucket1\n    bucket: \"\" => \"\u4efb\u610f\u540d\u79f0_tf_bucket\"\n\n\u5b9f\u884c\u3059\u308b\u3068 + (\u30ea\u30bd\u30fc\u30b9\u306e\u8ffd\u52a0) \u3068\u3057\u3066\u3001aws_s3_backet \u30ea\u30bd\u30fc\u30b9\u306e\u3001\u30ea\u30bd\u30fc\u30b9\u540d\u79f0 bucket1\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u4e8b\u304c\u5206\u304b\u308b\u3002\u3053\u306e\u6bb5\u968e\u3067\u306f plan \u306a\u306e\u3067\u3001\u5909\u66f4\u306e\u8a08\u753b\u3092\u610f\u5473\u3057\u3066\u3044\u308b\u3002bucket: \u306e\u884c\u306f\u4f5c\u696d\u5185\u5bb9\u3067\u3042\u308a\u3001\"\" (\u7a7a\u767d\u306e\u30d0\u30b1\u30c3\u30c8) => \u4efb\u610f\u540d\u79f0_tf_bucket \u3068\u3044\u3046\u540d\u79f0\u306e\u30d0\u30b1\u30c3\u30c8\u540d\u306b\u5909\u66f4\u3001\u3064\u307e\u308a\u4f5c\u6210\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u4e8b\u3092\u610f\u5473\u3057\u3066\u3044\u308b\u3002\n\napply (\u9069\u7528)\n\u5909\u66f4\u5185\u5bb9\u304c\u60f3\u5b9a\u901a\u308a\u3067\u3042\u308c\u3070\u3001terraform apply \u3092\u5b9f\u884c\u3057\u3066\u8a2d\u5b9a\u3092\u9069\u7528\u3059\u308b\u3002\u306a\u304a\u3001\u30b3\u30de\u30f3\u30c9\u3092\u5165\u529b\u3057\u305f\u77ac\u9593\u3001\u5373\u5ea7\u306b\u51e6\u7406\u304c\u9032\u884c\u3059\u308b\u3002\u4ee5\u4e0b\u306f zem_bucket1 \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308b\u4f8b\u3067\u3042\u308b\u3002\n$ ./terraform apply\naws_s3_bucket.bucket1: Creating...\n  bucket: \"\" => \"zem_bucket1\"\naws_s3_bucket.bucket1: Creation complete\n\nApply complete! Resources: 1 added, 0 changed, 0 destroyed.\n\nThe state of your infrastructure has been saved to the path\nbelow. This state is required to modify and destroy your\ninfrastructure, so keep it safe. To inspect the complete state\nuse the `terraform show` command.\n\nState path: terraform.tfstate\n\n\u6ce8\u76ee\u3059\u3079\u304d\u306f Apply complete! (\u9069\u7528\u5b8c\u4e86)\u3068\u30011 added \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u70b9\u3067\u3042\u308b\u3002\u3053\u3053\u3067\u306f\uff11\u3064\u306e\u30d0\u30b1\u30c3\u30c8\u3092\u5c55\u958b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\u3053\u306e\u6642\u70b9\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089 AWS \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\u307e\u305f\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u30a2\u30af\u30bb\u30b9\u3057\u306a\u304f\u3066\u3082\u3001\u3069\u306e\u3088\u3046\u306a\u51e6\u7406\u304c\u9032\u884c\u3057\u305f\u304b\u306f show \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u78ba\u8a8d\u3067\u304d\u308b\u3002\n$ ./terraform show ./terraform.tfstate\naws_s3_bucket.bucket1:\n  id = zem_bucket1\n\n\n\u30ea\u30bd\u30fc\u30b9\u306e\u5909\u66f4\u30fb\u524a\u9664\n\u30ea\u30bd\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u306b\u306f\uff12\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3002s3.tf \u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u3059\u304b\u3001s3.tf \u306e\u5185\u5bb9\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u3042\u308b\u3002\n\u203b\u305f\u3060\u3057\u3001\u66f4\u65b0\u3092\u6307\u5b9a\u3057\u3066\u3082\u3001\u5b9f\u969b\u306b\u884c\u3046\u306e\u306f\u30ea\u30bd\u30fc\u30b9\u306e\u524a\u9664\u3068\u65b0\u898f\u8ffd\u52a0\u3067\u3042\u308b\u3002Terraform \u306f\u3001\u3042\u304f\u307e\u3067\u65e2\u5b58\u306e\u4f5c\u696d\u624b\u9806\uff08\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\uff09\u3092\u81ea\u52d5\u51e6\u7406\u3057\u3066\u304f\u308c\u308b\u306e\u306b\u3059\u304e\u306a\u3044\u306e\u3067\u3001\u3042\u308b\u30ea\u30bd\u30fc\u30b9\u306e\u540d\u79f0\u5909\u66f4\u3068\u3044\u3046\u3001AWS \u306e S3 \u304c\u63d0\u4f9b\u3057\u3066\u3044\u306a\u3044\u6a5f\u80fd\u3092\u5b9f\u73fe\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002\n\u3067\u306f\u3001s3.tf \u3092 s3.tf.bak \u3068\u540d\u79f0\u5909\u66f4\u3057\u3066\u307f\u3088\u3046\u3002terraform \u304c\u8a8d\u8b58\u3067\u304d\u308b\u306e\u306f\u3001aws_region.tf \u306e\u307f\u3068\u306a\u308a\u3001S3 \u306e\u30ea\u30bd\u30fc\u30b9\u60c5\u5831\u306f\uff08\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4e0a\uff09\u5b58\u5728\u3057\u306a\u304f\u306a\u308b\u3002\n\u3053\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u306f\u3001terraform plan \u3092\u5b9f\u884c\u3059\u308b\u3002\n$ ./terraform plan\nRefreshing Terraform state prior to plan...\n\naws_s3_bucket.bucket1: Refreshing state... (ID: zem_bucket1)\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n- aws_s3_bucket.bucket1\n\n\n\u3053\u308c\u306f\u3001\u73fe\u5728\u306e AWS \u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u3068\u3001\u624b\u5143\u306e terraform \u304c\u51e6\u7406\u3057\u305f\u5185\u5bb9\u3092\u6bd4\u8f03\u3057\u3066\u3001\u30ea\u30bd\u30fc\u30b9\u5dee\u5206\u3068\u3057\u3066 aws_s3_backet.bucket1 \u3068\u3044\u3046\u30ea\u30bd\u30fc\u30b9\u3092 - (\u524a\u9664) \u3059\u308b\u4e8b\u3092\u610f\u5473\u3057\u3066\u3044\u308b\uff08\u5b9f\u969b\u306b\u306f\u3001\u8907\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u3092\u540c\u6642\u306b\u884c\u3046\u4e8b\u304c\u3067\u304d\u308b\u3002\u307e\u305f\u51e6\u7406\u306e\u512a\u5148\u4ed8\u3051\u3092\u884c\u3046\u4e8b\u3082\u53ef\u80fd\u3002\u8a73\u3057\u304f\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53c2\u7167\uff09\u3002\n\u30ea\u30bd\u30fc\u30b9\u524a\u9664\u3092\u9069\u7528\u3059\u308b\u306b\u306f terraform apply \u3092\u5b9f\u884c\u3059\u308b\u3002\u305f\u3060\u3057\u3001\u4e8b\u524d\u306b\u30d0\u30b1\u30c3\u30c8\u306e\u4e2d\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u4e00\u5207\u306a\u3044\u4e8b\u304c\u6761\u4ef6\u3067\u3042\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3068\u524a\u9664\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u306e\u3067\u6ce8\u610f\u3059\u308b\u3002\n$ ./terraform apply\naws_s3_bucket.bucket1: Refreshing state... (ID: zem_bucket1)\naws_s3_bucket.bucket1: Destroying...\naws_s3_bucket.bucket1: Destruction complete\n\nApply complete! Resources: 0 added, 0 changed, 1 destroyed.\n\n\u3053\u306e\u3088\u3046\u306b 1 destroyed \u3068\u8868\u793a\u3055\u308c\u3001\u5bfe\u8c61\u30ea\u30bd\u30fc\u30b9\u304c\u7834\u68c4\u3055\u308c\u305f\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\u3053\u3053\u3067\u518d\u3073\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30fb\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001\u5bfe\u8c61\u30d0\u30b1\u30c3\u30c8\u304c\u524a\u9664\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308b\u3002\n\u3042\u308b\u3044\u306f\u3001show \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3082\u3001\u540c\u69d8\u306b\u30ea\u30bd\u30fc\u30b9\u304c\u5b58\u5728\u3057\u3066\u3044\u306a\u3044\u4e8b\u304c\u78ba\u8a8d\u51fa\u6765\u308b\u3002\n$ ./terraform show ./terraform.tfstate\nThe state file is empty. No resources are represented.\n\n\u3042\u3068\u306f\u3001\u4efb\u610f\u306e\u30d0\u30b1\u30c3\u30c8\u540d\u306e\u4f5c\u6210\u3057\u3066\u307f\u305f\u308a\u3001\u30d5\u30a1\u30a4\u30eb\u304c\u30d0\u30b1\u30c3\u30c8\u306b\u5b58\u5728\u3057\u3066\u3044\u308c\u3070\u524a\u9664\u51fa\u6765\u306a\u3044\u4e8b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3002\n\n\u88dc\u8db3\nTeffarom \u304c\u884c\u3046\u306e\u306f\u3001\u3042\u304f\u307e\u3067\u30a4\u30f3\u30d5\u30e9\u306b\u95a2\u3059\u308b\u5b9a\u7fa9\u3068\u51e6\u7406\u3067\u3042\u308a\u3001\u30d0\u30b1\u30c3\u30c8\u306e\u4e2d\u306e\u9ad8\u5ea6\u306a\u64cd\u4f5c\u3092\u884c\u3046\u4e8b\u304c\u3067\u304d\u306a\u3044\u3002\u305d\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306f\u3001CLI \u3092\u4f7f\u3063\u305f\u64cd\u4f5c\u3092\u63a8\u5968\u3059\u308b\u3002\n\u53c2\u8003\uff1a\n * [JAWS-UG CLI] S3:#1 \u30cf\u30a4\u30ec\u30d9\u30ebS3\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u307f\u308b (\u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210\u304b\u3089\u9759\u7684Web\u30db\u30b9\u30c6\u30a3\u30f3\u30b0\u3001\u524a\u9664\u307e\u3067) - Qiita\nhttp://qiita.com/tcsh/items/edd5d65f1bc2f8d1819a\n\n\u53c2\u8003\n\n\nProvider: AWS - Terraform\n\nhttp://www.terraform.io/docs/providers/aws/index.html\n\n\n\nAWS: aws_s3_bucket - Terraform\n\nhttp://www.terraform.io/docs/providers/aws/r/s3_bucket.html\n\n\n\n# \u6982\u8981\n[Teraform](http://terraform.io/) \u306f\u3001\u30a4\u30f3\u30d5\u30e9\u306e\u30b3\u30fc\u30c9\u5316(Infrastructure as code)\u3092\u5b9f\u73fe\u3059\u3079\u304f\u3001\u30a4\u30f3\u30d5\u30e9\u306e\u69cb\u7bc9\u30fb\u5909\u66f4\u30fb\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3092\u3001\u5b89\u5168\u304b\u3064\u52b9\u7387\u7684\u306b\u884c\u3046\u305f\u3081\u306e\u30c4\u30fc\u30eb\u3002Vagrant\u3001Serf\u3001Consul \u7b49\u3092\u63d0\u4f9b\u3059\u308b [HashiCorp](http://www.hashicorp.com/) \u304c\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u3067\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3002\n\n\u672c\u7a3f\u306f\u3001Teraform \u304c\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u4e8b\u696d\u8005(provider)\u306e\uff11\u3064\u3067\u3042\u308b Amazon Web Services (AWS)\u306e\u3046\u3061\u3001Simple Storage Service (S3) \u306e\u30d0\u30b1\u30c3\u30c8\u8ffd\u52a0\u30fb\u524a\u9664\u3092\u884c\u3046\u305f\u3081\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u3042\u308b\u3002\n\n\u672c\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u901a\u3057\u3001Terraform \u3092\u4f7f\u3063\u305f\u30a4\u30f3\u30d5\u30e9\u306e\u30b3\u30fc\u30c9\u5316\u306b\u5bfe\u3059\u308b\u7406\u89e3\u3092\u6df1\u3081\u308b\u4e8b\u3092\u76ee\u7684\u3068\u3059\u308b\u3002\n\n* \u53c2\u8003\uff1aTerraform\u5165\u9580 \u65e5\u672c\u8a9e\u8a33 - Qiita\n * http://qiita.com/zembutsu/items/84f5478701c5391df537\n\nTerraform \u3092\u4f7f\u3046\u306b\u3042\u305f\u308a\u3001\u65e2\u5b58\u306e\u30a4\u30f3\u30d5\u30e9\u74b0\u5883\u306b\u5bfe\u3057\u3066\u4f55\u3089\u8a2d\u5b9a\u3092\u52a0\u3048\u308b\u5fc5\u8981\u306f\u7121\u3044\u3002Terraform \u306f\u3001\u65e2\u5b58\u306e\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u3080\u3082\u306e\u3067\u306f\u306a\u304f\u3001\u3042\u304f\u307e\u3067\u73fe\u72b6\u306b\u5bfe\u3059\u308b\u5909\u66f4\u3057\u304b\u7ba1\u7406\u3057\u306a\u3044\u3002\n\n\u306a\u304a\u3001S3 \u3092\u6271\u3046\u306e\u306f\u3001Terraform \u306e\u6319\u52d5\u3092\u7406\u89e3\u30fb\u78ba\u8a8d\u3059\u308b\u306b\u3042\u305f\u308a\u3001AWS \u306e\u4e2d\u3067\u306f S3 \u304c\u30b7\u30f3\u30d7\u30eb\u3067\u5206\u304b\u308a\u3084\u3059\u3044\u3068\u8003\u3048\u305f\u305f\u3081\u3002\n\n\u8ffd\u8a18\uff1a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u7de8\u3092\u4f5c\u6210\u3057\u305f\u3002\n\n * Terraform\u3067AWS(EC2)\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b0\u30eb\u30fc\u30d7\u3092\u7ba1\u7406 - Qiita\n  * http://qiita.com/zembutsu/items/5de875ed99ac8a56a998\n\n\n\n## \u4f5c\u696d\u306e\u6d41\u308c\n\n* Terraform \u3067\u3001S3 \u306e\u30ea\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n* S3 \u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210\n* AWS \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30fb\u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u78ba\u8a8d\n* S3 \u30d0\u30b1\u30c3\u30c8\u306e\u524a\u9664\n* \u30b3\u30f3\u30bd\u30fc\u30eb\u3067\u78ba\u8a8d\n\n## \u4e8b\u524d\u6e96\u5099\n\n* AWS \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\n* Terraform \u306e\u5b9f\u884c\u74b0\u5883\n\nTerraform \u306e\u5c0e\u5165\u304c\u307e\u3060\u306e\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3092\u53c2\u7167\u306e\u3053\u3068\u3002\n\n* Terraform\u7c21\u6613\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb on AWS - Qiita\n * http://qiita.com/zembutsu/items/93e546df765f8b2c4f32\n\n## Terraform \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\n\n### AWS \u3068\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u6307\u5b9a\n\nTerraform \u306e\u5b9f\u884c\u6642\u3001\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u62e1\u5f35\u5b50 `*.tf` \u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u3080\u3002AWS \u306b\u63a5\u7d9a\u3059\u308b\u306b\u3042\u305f\u308a\u3001\u307e\u305a\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3068\u3001\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\u3092\u8a18\u8ff0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3059\u308b\u3002\u30a8\u30c7\u30a3\u30bf\u7b49\u3067 `vi aws_region.tf` \u30d5\u30a1\u30a4\u30eb\uff08\u4f8b\uff09\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```file:aws_region.tf\nprovider \"aws\" {\n    access_key = \"\u81ea\u5206\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\"\n    secret_key = \"\u81ea\u5206\u306e\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\"\n    region = \"us-east-1\"\n}\n```\n\n`provider` \u306f Teraform \u304c\u53d6\u308a\u6271\u3046\u3053\u3068\u306e\u3067\u304d\u308b\u30b5\u30fc\u30d3\u30b9\u63d0\u4f9b\u8005\uff08\u4e8b\u696d\u8005\uff09\uff1d\u30d7\u30ed\u30d0\u30a4\u30c0\u306e\u6307\u5b9a\u3067\u3042\u308b\u3002`provider \"aws\"` \u3068\u306f\u3001\u4e8b\u696d\u8005\u3068\u3057\u3066\u306e AWS \u3092\u4f7f\u3046\u4e8b\u3092\u660e\u793a\u3057\u3066\u3044\u308b\u3002`version 0.1.0 \u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u306e\u306f\u3001AWS\u3001CloudFlare\u3001Consul\u3001DigialOcean\u3001DNSimple\u3001Heroku \u3067\u3042\u308b\u3002\u3053\u308c\u3089\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u5f62\u5f0f\u3067\u62e1\u5f35\u53ef\u80fd\u3067\u3042\u308a\u3001IRC \u3084 issue \u3067\u306f\u3001OpenStack \u3084 VMware \u5bfe\u5fdc\u304c\u8b70\u8ad6\u3055\u308c\u3066\u3044\u308b \u3002\n\n\u306a\u304a\u3001\u3053\u3053\u3067\u306f S3 \u3092\u5229\u7528\u3059\u308b\u305f\u3081\u3001\u30ea\u30fc\u30b8\u30e7\u30f3\u306f `us-east-1` \u3092\u660e\u793a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002EC2 \u306a\u3069\u3067\u3001\u6771\u4eac\u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u3044\u305f\u3044\u5834\u5408\u306f `ap-northeast-1` \u3092\u6307\u5b9a\u3059\u308b\u4e8b\u306f\u53ef\u80fd\u3002\n\n### S3 \u7528\u306e\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\n\u6b21\u306b `s3.tf` \u306a\u3069\u3001\u62e1\u5f35\u5b50\u304c `.tf` \u3067 s3 \u3092\u8b58\u5225\u3067\u304d\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3059\u308b\u3002\n\n```file:s3.tf\nresource \"aws_s3_bucket\" \"bucket1\" {\n    bucket = \"\u4efb\u610f\u540d\u79f0_tf_bucket\"\n    acl = \"private\"\n}\n```\n\u3053\u308c\u306f\u3001`resource`\u30ea\u30bd\u30fc\u30b9\u3068\u3057\u3066\u3001`aws_s3_bucket`(S3\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8)\u3092\u6307\u5b9a\u3057\u3001\u30ea\u30bd\u30fc\u30b9\u540d\u79f0\u304c `bucket1`\u3067\u3042\u308b\u4e8b\u3092\u793a\u3059\u3002\u305d\u3057\u3066\u5185\u5bb9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3042\u308b\u3002\n\n * `bucket` = AWS \u4e0a\u306e\u5b9f\u969b\u306e\u30d0\u30b1\u30c3\u30c8\u540d\u79f0\n * `acl` = S3 \u4e0a\u306e [ACL \u6307\u5b9a](http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html) \u203b\u73fe\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f private \u3057\u304b\u6307\u5b9a\u3067\u304d\u306a\u3044\n\n\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001Terraform \u3092\u5b9f\u884c\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u306e\u306f\u3001`provider` (\u30d7\u30ed\u30d0\u30a4\u30c0) \u3068 `resoruce` (\u30ea\u30bd\u30fc\u30b9)\u306e\u6307\u5b9a\u3067\u3042\u308b\u3002\u3053\u3053\u3067\u306f\u3001AWS \u3068\u3044\u3046\u30d7\u30ed\u30d0\u30a4\u30c0\u3068\u3001S3 \u30d0\u30b1\u30c3\u30c8\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u6307\u5b9a\u3057\u305f\u3002\n\n## Terraform \u306e build \u3067\u30d0\u30b1\u30c3\u30c8\u4f5c\u6210\n\n### plan (\u8a08\u753b)\n\n\u6b21\u306b\u3001\u5b9f\u969b\u306b\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3059\u308b\u3002Terraform \u3067\u306f\u3001\u5b9f\u884c\uff08\u30a4\u30f3\u30d5\u30e9\u306b\u5bfe\u3059\u308b\u9069\u7528 `apply` ) \u306e\u524d\u306b\u3001\u8a08\u753b `plan` \u3092\u884c\u3044\u3001\u5909\u66f4\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u4e8b\u304c\u3067\u304d\u308b\uff08`plan` \u3092\u884c\u308f\u305a `apply` \u3092\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3060\u304c\u3001\u4f5c\u696d\u524d\u306e\u78ba\u8a8d\u3068\u3044\u3046\u610f\u5473\u3067\u306f\u3001 `plan` \u3092\u5b9f\u884c\u3059\u3079\u304d\u3060\u308d\u3046\uff09\u3002\n\n\u5148\u306e `aws_region_tokyo.tf` \u3068 `s3.tf` \u304c\u5c55\u958b\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3001`terraform plan`\u3092\u5b9f\u884c\u3059\u308b\u3002\n\n```\n$ ./terraform plan\nRefreshing Terraform state prior to plan...\n\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n+ aws_s3_bucket.bucket1\n    bucket: \"\" => \"\u4efb\u610f\u540d\u79f0_tf_bucket\"\n```\n\n\u5b9f\u884c\u3059\u308b\u3068 `+` (\u30ea\u30bd\u30fc\u30b9\u306e\u8ffd\u52a0) \u3068\u3057\u3066\u3001`aws_s3_backet` \u30ea\u30bd\u30fc\u30b9\u306e\u3001\u30ea\u30bd\u30fc\u30b9\u540d\u79f0 `bucket1`\u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u4e8b\u304c\u5206\u304b\u308b\u3002\u3053\u306e\u6bb5\u968e\u3067\u306f `plan` \u306a\u306e\u3067\u3001\u5909\u66f4\u306e\u8a08\u753b\u3092\u610f\u5473\u3057\u3066\u3044\u308b\u3002`bucket:` \u306e\u884c\u306f\u4f5c\u696d\u5185\u5bb9\u3067\u3042\u308a\u3001`\"\"` (\u7a7a\u767d\u306e\u30d0\u30b1\u30c3\u30c8) => `\u4efb\u610f\u540d\u79f0_tf_bucket` \u3068\u3044\u3046\u540d\u79f0\u306e\u30d0\u30b1\u30c3\u30c8\u540d\u306b\u5909\u66f4\u3001\u3064\u307e\u308a\u4f5c\u6210\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u4e8b\u3092\u610f\u5473\u3057\u3066\u3044\u308b\u3002\n\n### apply (\u9069\u7528)\n\n\u5909\u66f4\u5185\u5bb9\u304c\u60f3\u5b9a\u901a\u308a\u3067\u3042\u308c\u3070\u3001`terraform apply` \u3092\u5b9f\u884c\u3057\u3066\u8a2d\u5b9a\u3092\u9069\u7528\u3059\u308b\u3002\u306a\u304a\u3001\u30b3\u30de\u30f3\u30c9\u3092\u5165\u529b\u3057\u305f\u77ac\u9593\u3001\u5373\u5ea7\u306b\u51e6\u7406\u304c\u9032\u884c\u3059\u308b\u3002\u4ee5\u4e0b\u306f `zem_bucket1` \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3044\u308b\u4f8b\u3067\u3042\u308b\u3002\n\n```\n$ ./terraform apply\naws_s3_bucket.bucket1: Creating...\n  bucket: \"\" => \"zem_bucket1\"\naws_s3_bucket.bucket1: Creation complete\n\nApply complete! Resources: 1 added, 0 changed, 0 destroyed.\n\nThe state of your infrastructure has been saved to the path\nbelow. This state is required to modify and destroy your\ninfrastructure, so keep it safe. To inspect the complete state\nuse the `terraform show` command.\n\nState path: terraform.tfstate\n```\n\n\u6ce8\u76ee\u3059\u3079\u304d\u306f `Apply complete!` (\u9069\u7528\u5b8c\u4e86)\u3068\u3001`1 added` \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u70b9\u3067\u3042\u308b\u3002\u3053\u3053\u3067\u306f\uff11\u3064\u306e\u30d0\u30b1\u30c3\u30c8\u3092\u5c55\u958b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305f\u3002\n\n\u3053\u306e\u6642\u70b9\u3067\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089 AWS \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3068\u3001\u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u304c\u4f5c\u6210\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n\u307e\u305f\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u30a2\u30af\u30bb\u30b9\u3057\u306a\u304f\u3066\u3082\u3001\u3069\u306e\u3088\u3046\u306a\u51e6\u7406\u304c\u9032\u884c\u3057\u305f\u304b\u306f `show` \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u78ba\u8a8d\u3067\u304d\u308b\u3002\n\n```\n$ ./terraform show ./terraform.tfstate\naws_s3_bucket.bucket1:\n  id = zem_bucket1\n```\n\n### \u30ea\u30bd\u30fc\u30b9\u306e\u5909\u66f4\u30fb\u524a\u9664\n\n\u30ea\u30bd\u30fc\u30b9\u3092\u524a\u9664\u3059\u308b\u306b\u306f\uff12\u3064\u306e\u65b9\u6cd5\u304c\u3042\u308b\u3002`s3.tf` \u306e\u30d5\u30a1\u30a4\u30eb\u3092\u6d88\u3059\u304b\u3001`s3.tf` \u306e\u5185\u5bb9\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u3042\u308b\u3002\n\n\u203b\u305f\u3060\u3057\u3001\u66f4\u65b0\u3092\u6307\u5b9a\u3057\u3066\u3082\u3001\u5b9f\u969b\u306b\u884c\u3046\u306e\u306f\u30ea\u30bd\u30fc\u30b9\u306e\u524a\u9664\u3068\u65b0\u898f\u8ffd\u52a0\u3067\u3042\u308b\u3002Terraform \u306f\u3001\u3042\u304f\u307e\u3067\u65e2\u5b58\u306e\u4f5c\u696d\u624b\u9806\uff08\u30ef\u30fc\u30af\u30d5\u30ed\u30fc\uff09\u3092\u81ea\u52d5\u51e6\u7406\u3057\u3066\u304f\u308c\u308b\u306e\u306b\u3059\u304e\u306a\u3044\u306e\u3067\u3001\u3042\u308b\u30ea\u30bd\u30fc\u30b9\u306e\u540d\u79f0\u5909\u66f4\u3068\u3044\u3046\u3001AWS \u306e S3 \u304c\u63d0\u4f9b\u3057\u3066\u3044\u306a\u3044\u6a5f\u80fd\u3092\u5b9f\u73fe\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002\n\n\u3067\u306f\u3001`s3.tf` \u3092 `s3.tf.bak` \u3068\u540d\u79f0\u5909\u66f4\u3057\u3066\u307f\u3088\u3046\u3002terraform \u304c\u8a8d\u8b58\u3067\u304d\u308b\u306e\u306f\u3001`aws_region.tf` \u306e\u307f\u3068\u306a\u308a\u3001S3 \u306e\u30ea\u30bd\u30fc\u30b9\u60c5\u5831\u306f\uff08\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4e0a\uff09\u5b58\u5728\u3057\u306a\u304f\u306a\u308b\u3002\n\n\u3053\u306e\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u306f\u3001`terraform plan` \u3092\u5b9f\u884c\u3059\u308b\u3002\n\n```\n$ ./terraform plan\nRefreshing Terraform state prior to plan...\n\naws_s3_bucket.bucket1: Refreshing state... (ID: zem_bucket1)\n\nThe Terraform execution plan has been generated and is shown below.\nResources are shown in alphabetical order for quick scanning. Green resources\nwill be created (or destroyed and then created if an existing resource\nexists), yellow resources are being changed in-place, and red resources\nwill be destroyed.\n\nNote: You didn't specify an \"-out\" parameter to save this plan, so when\n\"apply\" is called, Terraform can't guarantee this is what will execute.\n\n- aws_s3_bucket.bucket1\n\n```\n\n\u3053\u308c\u306f\u3001\u73fe\u5728\u306e AWS \u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u3068\u3001\u624b\u5143\u306e terraform \u304c\u51e6\u7406\u3057\u305f\u5185\u5bb9\u3092\u6bd4\u8f03\u3057\u3066\u3001\u30ea\u30bd\u30fc\u30b9\u5dee\u5206\u3068\u3057\u3066 `aws_s3_backet.bucket1` \u3068\u3044\u3046\u30ea\u30bd\u30fc\u30b9\u3092 `-` (\u524a\u9664) \u3059\u308b\u4e8b\u3092\u610f\u5473\u3057\u3066\u3044\u308b\uff08\u5b9f\u969b\u306b\u306f\u3001\u8907\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u8ffd\u52a0\u30fb\u524a\u9664\u3092\u540c\u6642\u306b\u884c\u3046\u4e8b\u304c\u3067\u304d\u308b\u3002\u307e\u305f\u51e6\u7406\u306e\u512a\u5148\u4ed8\u3051\u3092\u884c\u3046\u4e8b\u3082\u53ef\u80fd\u3002\u8a73\u3057\u304f\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53c2\u7167\uff09\u3002\n\n\u30ea\u30bd\u30fc\u30b9\u524a\u9664\u3092\u9069\u7528\u3059\u308b\u306b\u306f `terraform apply` \u3092\u5b9f\u884c\u3059\u308b\u3002\u305f\u3060\u3057\u3001\u4e8b\u524d\u306b\u30d0\u30b1\u30c3\u30c8\u306e\u4e2d\u306b\u30d5\u30a1\u30a4\u30eb\u304c\u4e00\u5207\u306a\u3044\u4e8b\u304c\u6761\u4ef6\u3067\u3042\u308b\u3002\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u3068\u524a\u9664\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u306e\u3067\u6ce8\u610f\u3059\u308b\u3002\n\n```\n$ ./terraform apply\naws_s3_bucket.bucket1: Refreshing state... (ID: zem_bucket1)\naws_s3_bucket.bucket1: Destroying...\naws_s3_bucket.bucket1: Destruction complete\n\nApply complete! Resources: 0 added, 0 changed, 1 destroyed.\n```\n\n\u3053\u306e\u3088\u3046\u306b `1 destroyed` \u3068\u8868\u793a\u3055\u308c\u3001\u5bfe\u8c61\u30ea\u30bd\u30fc\u30b9\u304c\u7834\u68c4\u3055\u308c\u305f\u3053\u3068\u304c\u5206\u304b\u308b\u3002\n\n\u3053\u3053\u3067\u518d\u3073\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30fb\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001\u5bfe\u8c61\u30d0\u30b1\u30c3\u30c8\u304c\u524a\u9664\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308b\u3002\n\n\u3042\u308b\u3044\u306f\u3001`show` \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u3082\u3001\u540c\u69d8\u306b\u30ea\u30bd\u30fc\u30b9\u304c\u5b58\u5728\u3057\u3066\u3044\u306a\u3044\u4e8b\u304c\u78ba\u8a8d\u51fa\u6765\u308b\u3002\n\n```\n$ ./terraform show ./terraform.tfstate\nThe state file is empty. No resources are represented.\n```\n\n\u3042\u3068\u306f\u3001\u4efb\u610f\u306e\u30d0\u30b1\u30c3\u30c8\u540d\u306e\u4f5c\u6210\u3057\u3066\u307f\u305f\u308a\u3001\u30d5\u30a1\u30a4\u30eb\u304c\u30d0\u30b1\u30c3\u30c8\u306b\u5b58\u5728\u3057\u3066\u3044\u308c\u3070\u524a\u9664\u51fa\u6765\u306a\u3044\u4e8b\u3092\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3002\n\n\n### \u88dc\u8db3\n\nTeffarom \u304c\u884c\u3046\u306e\u306f\u3001\u3042\u304f\u307e\u3067\u30a4\u30f3\u30d5\u30e9\u306b\u95a2\u3059\u308b\u5b9a\u7fa9\u3068\u51e6\u7406\u3067\u3042\u308a\u3001\u30d0\u30b1\u30c3\u30c8\u306e\u4e2d\u306e\u9ad8\u5ea6\u306a\u64cd\u4f5c\u3092\u884c\u3046\u4e8b\u304c\u3067\u304d\u306a\u3044\u3002\u305d\u306e\u3088\u3046\u306a\u51e6\u7406\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306f\u3001CLI \u3092\u4f7f\u3063\u305f\u64cd\u4f5c\u3092\u63a8\u5968\u3059\u308b\u3002\n\n\u53c2\u8003\uff1a\n * [JAWS-UG CLI] S3:#1 \u30cf\u30a4\u30ec\u30d9\u30ebS3\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3063\u3066\u307f\u308b (\u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210\u304b\u3089\u9759\u7684Web\u30db\u30b9\u30c6\u30a3\u30f3\u30b0\u3001\u524a\u9664\u307e\u3067) - Qiita\n http://qiita.com/tcsh/items/edd5d65f1bc2f8d1819a\n\n\n\n## \u53c2\u8003\n\n* Provider: AWS - Terraform\n * http://www.terraform.io/docs/providers/aws/index.html\n\n* AWS: aws_s3_bucket - Terraform\n * http://www.terraform.io/docs/providers/aws/r/s3_bucket.html\n", "tags": ["Terraform"]}