{"context": " More than 1 year has passed since last update.\n\n\u524d\u7f6e\u304d\nLaravel\u3067\u4ed6\u8a00\u8a9e\u30b5\u30a4\u30c8\u3092\u4f5c\u308b\u306b\u3042\u305f\u308a\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u5f8c\u306b\u300c/en/\u300d\u300c/ja/\u300d\u3092\u4ed8\u3051\u3066URL\u3092\u751f\u6210\u3057\u305f\u3044\n\u3044\u308f\u3086\u308b\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3068\u3044\u3046\u3082\u306e\u3067\u3042\u308b\u3002\n\n\u8a66\u307f\u305f\u3053\u3068\n\u5148\u4eba\u306e\u77e5\u6075\u3092\u501f\u308a\u3066\u5b9f\u88c5\nhttps://laracasts.com/discuss/channels/tips/example-on-how-to-use-multiple-locales-in-your-laravel-5-website/?page=1\n\u3053\u306e\u5b9f\u88c5\u306b\u52a0\u3048\u3066\u3001\u4e07\u304c\u4e00\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u7121\u3057\u3067\u30a2\u30af\u30bb\u30b9\u304c\u3042\u3063\u305f\u6642\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u8a00\u8a9e\u3067\u306f\u306a\u304f\u3001\u305d\u308c\u307e\u3067\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u305fURL\u304b\u3089\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u5224\u5b9a\u3057\u3066\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u4ed8\u4e0e\u3057\u305fURL\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u3059\u308b\u8a2d\u5b9a\u3092\u8a66\u307f\u308b\u3002\n\u65b0\u3057\u304f\u4f5c\u6210\u3057\u305fLanguage.php\u306ehandle()\u306b\u624b\u3092\u52a0\u3048\u308b\npublic function handle($request, Closure $next)\n{\n    $locale = $request->segment(1);\n\n    if ( ! array_key_exists($locale, $this->app->config->get('app.locales'))) {\n        if (Session::has('locale')) {\n            $this->app->setLocale(Session::get('locale'));\n            return $this->redirector->to(Session::get('locale') . \"/\" . $request->path());\n        }\n        $segments = $request->segments();\n        $segments[0] = $this->app->config->get('app.fallback_locale');\n        Session::put('locale', $segments[0]);\n        $this->app->setLocale($segments[0]);\n        return $this->redirector->to($segments[0] . \"/\" . $request->path());\n    }\n\n    $this->app->setLocale($locale);\n    Session::put('locale', $locale);\n\n    return $next($request);\n}\n\n\u898b\u4e8b\u306b\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u52d5\u304b\u306a\u3044\n\n\u8a66\u884c\u932f\u8aa4\n\n\u3068\u308a\u3042\u3048\u305a\u5b9f\u88c5\u3092\u78ba\u8a8d\u3059\u308b\n\u3053\u3046\u3044\u3046\u6642\u306f\u3001\u4f55\u5ea6\u3082\u8a18\u8ff0\u3057\u305f\u5185\u5bb9\u3092\u632f\u308a\u8fd4\u308b\n\u3057\u304b\u3057\u3053\u308c\u3068\u3044\u3063\u3066\u304a\u304b\u3057\u3044\u7b87\u6240\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\n\n\u5148\u4eba\u306e\u77e5\u6075\u3092\u632f\u308a\u8fd4\u308b\nhttps://laracasts.com/discuss/channels/tips/example-on-how-to-use-multiple-locales-in-your-laravel-5-website/?page=1\n\u3068\u3042\u308b\u8a18\u8ff0\u304c\u76ee\u306b\u7559\u307e\u308b\nNow make that middleware run on all requests by adding it to the $middleware property in app/Http/Kernel.php. It is recommended to add it to the top of the array.\n\nprotected $middleware = [\n    'App\\Http\\Middleware\\Language',\n    'Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode',\n    'Illuminate\\Cookie\\Middleware\\EncryptCookies',\n    'Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse',\n    'Illuminate\\Session\\Middleware\\StartSession',\n    'Illuminate\\View\\Middleware\\ShareErrorsFromSession',\n    'Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken',\n];\n\n\u3072\u3087\u3063\u3068\u3057\u305f\u3089\u8aad\u307f\u8fbc\u307f\u9806\u3092\u5909\u3048\u308c\u3070\u3044\u3051\u308b\u306e\u3067\u306f\nprotected $middleware = [\n    'Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode',\n    'Illuminate\\Cookie\\Middleware\\EncryptCookies',\n    'Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse',\n    'Illuminate\\Session\\Middleware\\StartSession',\n    'Illuminate\\View\\Middleware\\ShareErrorsFromSession',\n    'App\\Http\\Middleware\\Language',\n    'Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken',\n];\n\n\u3053\u308c\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u308b\n\u305f\u3060\u3001\n\u300cIt is recommended to add it to the top of the array.\u300d\n\n\u304c\u304d\u306b\u306a\u308b\u3068\u3053\u308d\n## \u524d\u7f6e\u304d\n\nLaravel\u3067\u4ed6\u8a00\u8a9e\u30b5\u30a4\u30c8\u3092\u4f5c\u308b\u306b\u3042\u305f\u308a\u3001\u30c9\u30e1\u30a4\u30f3\u306e\u5f8c\u306b\u300c/en/\u300d\u300c/ja/\u300d\u3092\u4ed8\u3051\u3066URL\u3092\u751f\u6210\u3057\u305f\u3044\n\u3044\u308f\u3086\u308b\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3068\u3044\u3046\u3082\u306e\u3067\u3042\u308b\u3002\n\n### \u8a66\u307f\u305f\u3053\u3068\n\n\u5148\u4eba\u306e\u77e5\u6075\u3092\u501f\u308a\u3066\u5b9f\u88c5\nhttps://laracasts.com/discuss/channels/tips/example-on-how-to-use-multiple-locales-in-your-laravel-5-website/?page=1\n\n\u3053\u306e\u5b9f\u88c5\u306b\u52a0\u3048\u3066\u3001\u4e07\u304c\u4e00\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u7121\u3057\u3067\u30a2\u30af\u30bb\u30b9\u304c\u3042\u3063\u305f\u6642\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u8a00\u8a9e\u3067\u306f\u306a\u304f\u3001\u305d\u308c\u307e\u3067\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u305fURL\u304b\u3089\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u5224\u5b9a\u3057\u3066\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u4ed8\u4e0e\u3057\u305fURL\u306b\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\u3092\u3059\u308b\u8a2d\u5b9a\u3092\u8a66\u307f\u308b\u3002\n\u65b0\u3057\u304f\u4f5c\u6210\u3057\u305fLanguage.php\u306ehandle()\u306b\u624b\u3092\u52a0\u3048\u308b\n\n```php\npublic function handle($request, Closure $next)\n{\n    $locale = $request->segment(1);\n\n    if ( ! array_key_exists($locale, $this->app->config->get('app.locales'))) {\n        if (Session::has('locale')) {\n            $this->app->setLocale(Session::get('locale'));\n            return $this->redirector->to(Session::get('locale') . \"/\" . $request->path());\n        }\n        $segments = $request->segments();\n        $segments[0] = $this->app->config->get('app.fallback_locale');\n        Session::put('locale', $segments[0]);\n        $this->app->setLocale($segments[0]);\n        return $this->redirector->to($segments[0] . \"/\" . $request->path());\n    }\n\n    $this->app->setLocale($locale);\n    Session::put('locale', $locale);\n\n    return $next($request);\n}\n```\n\n\u898b\u4e8b\u306b\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u52d5\u304b\u306a\u3044\n\n## \u8a66\u884c\u932f\u8aa4\n\n### \u3068\u308a\u3042\u3048\u305a\u5b9f\u88c5\u3092\u78ba\u8a8d\u3059\u308b\n\u3053\u3046\u3044\u3046\u6642\u306f\u3001\u4f55\u5ea6\u3082\u8a18\u8ff0\u3057\u305f\u5185\u5bb9\u3092\u632f\u308a\u8fd4\u308b\n\u3057\u304b\u3057\u3053\u308c\u3068\u3044\u3063\u3066\u304a\u304b\u3057\u3044\u7b87\u6240\u304c\u898b\u5f53\u305f\u3089\u306a\u3044\n\n### \u5148\u4eba\u306e\u77e5\u6075\u3092\u632f\u308a\u8fd4\u308b\nhttps://laracasts.com/discuss/channels/tips/example-on-how-to-use-multiple-locales-in-your-laravel-5-website/?page=1\n\n\u3068\u3042\u308b\u8a18\u8ff0\u304c\u76ee\u306b\u7559\u307e\u308b\n\n    Now make that middleware run on all requests by adding it to the $middleware property in app/Http/Kernel.php. It is recommended to add it to the top of the array.\n\n    protected $middleware = [\n        'App\\Http\\Middleware\\Language',\n        'Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode',\n        'Illuminate\\Cookie\\Middleware\\EncryptCookies',\n        'Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse',\n        'Illuminate\\Session\\Middleware\\StartSession',\n        'Illuminate\\View\\Middleware\\ShareErrorsFromSession',\n        'Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken',\n    ];\n\n\u3072\u3087\u3063\u3068\u3057\u305f\u3089\u8aad\u307f\u8fbc\u307f\u9806\u3092\u5909\u3048\u308c\u3070\u3044\u3051\u308b\u306e\u3067\u306f\n\n```php\nprotected $middleware = [\n    'Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode',\n    'Illuminate\\Cookie\\Middleware\\EncryptCookies',\n    'Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse',\n    'Illuminate\\Session\\Middleware\\StartSession',\n    'Illuminate\\View\\Middleware\\ShareErrorsFromSession',\n    'App\\Http\\Middleware\\Language',\n    'Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken',\n];\n```\n\n\u3053\u308c\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u52d5\u304f\u3088\u3046\u306b\u306a\u308b\n\u305f\u3060\u3001\n\n    \u300cIt is recommended to add it to the top of the array.\u300d\n\u304c\u304d\u306b\u306a\u308b\u3068\u3053\u308d\n", "tags": ["laravel5", "session"]}