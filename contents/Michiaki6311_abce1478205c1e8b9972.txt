{"tags": ["Ruby", "Sinatra"], "context": "\n\n\u6982\u8981\nSinatra\u3067Lingr\u3067\u4f55\u304b\u3092\u3064\u3076\u3084\u304f\u3068\u8fd4\u7b54\u3092\u6295\u7a3f\u3057\u3066\u304f\u308c\u308bBot\u3092\u4f5c\u6210\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u6700\u521d\u306f\u7c21\u5358\u306a\u3082\u306e\u3092\u3001\u5f8c\u3005\u306f\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067Web\u30b5\u30a4\u30c8\u304b\u3089\u60c5\u5831\u3092\u5f15\u304d\u51fa\u3059Bot\uff08\u672a\u5b9a\u2026\u307e\u3041\u3001\u306a\u3093\u304b\u5f79\u306b\u7acb\u3061\u305d\u3046\u306abot\uff09\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\nSinatra\u3068\u306f\n\u6700\u5c0f\u9650\u306e\u52b4\u529b\u3067Ruby\u306eWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308c\u308b\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\nSinatra\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\n\nHi-bot\u306e\u4f5c\u6210\n\u307e\u305a\u306fLingr\u3067\"hi\"\u3068\u6295\u7a3f\u3059\u308b\u3053\u3068\u3067\u3001\"Hi,(\u6295\u7a3f\u8005\u540d)\"\u3068\u6295\u7a3f\u3057\u3066\u304f\u308c\u308bBot\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\nLingr Bot\u4f5c\u6210\u306b\u3042\u305f\u3063\u3066\nLingr Bot API\u3092\u5229\u7528\u3057\u307e\u3059\u3002Webhook\u3067\u3059\u3002\n\nWebhook\uff08Web\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3001HTTP\u30d7\u30c3\u30b7\u30e5API\u306a\u3069\u3068\u547c\u3070\u308c\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\uff09\u306f\u3042\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u5225\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306a\u60c5\u5831\u63d0\u4f9b\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\n\u53c2\u7167\u3000Webhook\u3068\u306f\uff1f\n\n\u3053\u308c\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u4f55\u304b\u3057\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u30c8\u30ea\u30ac\u30fc\u306b\u3057\u3066HTTP POST\u304c\u304a\u3053\u308a\u307e\u3059\u3002\u4eca\u56de\u3060\u3068Room\u3067\u306e\u767a\u8a00\u304c\u30c8\u30ea\u30ac\u30fc\u306b\u306a\u308a\u307e\u3059\u306d\u3002\n\nLingr\u3067\u306e\u767a\u8a00\u306e\u5185\u5bb9\nLingr\u3067\u306e\u767a\u8a00\u306e\u60c5\u5831\u306fJSON\u5f62\u5f0f\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306b\u57cb\u3081\u8fbc\u307e\u308c\u3066URL\u306b\u9001\u3089\u308c\u307e\u3059\u3002\n\n\u3088\u304f\u4f7f\u308f\u308c\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u4e00\u89a7\n\nevents[\u914d\u5217]\n\n\nmessage\n\n\nnickname[\u767a\u8a00\u8005\u306e\u540d\u524d]\ntext[\u767a\u8a00\u5185\u5bb9\u3001\u6295\u7a3f\u3057\u305f\u5185\u5bb9]\nroom[Room id]\n\n\n\n\n\n\n\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\u5168\u3066app\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306b\u7f6e\u304f\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\n\u3000Gemfile\n\u3000Gemfile.lock\n\u3000app.rb\n\u3000 Procfile\n\n\napp.rb\nrequire 'sinatra'\nrequire 'json'\n\npost '/hi' do\n  j = JSON.parse(request.body.read)                # request.body\u3092\u8aad\u307f\u8fbc\u3093\u3067JSON\u3092\u30d1\u30fc\u30b9\u3002hash\u306b\u5909\u63db\u3002\n  j['events'].select{|e| e['message']}.map{|e|\n    if e['message']['text'] == \"hi\" then           # \u767a\u8a00\u304c\"hi\"\u306e\u5834\u5408\n      return \"Hi, #{e[\"message\"][\"nickname\"]}!\"    # \u767a\u8a00\u8005\u306e\u540d\u524d\u304ce[\"message\"][\"nickname\"]\u306e\u90e8\u5206\u306b\u5165\u308b\n    else                                           # \u767a\u8a00\u304c\"hi\"\u4ee5\u5916\u306e\u5834\u5408\n      return \"\"                                    # \"\"\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u304a\u3051\u3070Lingr\u306e\u65b9\u306bPOST\u306f\u3055\u308c\u306a\u3044\u3002\n    end\n  }\nend\n\n\n\nGemfile\n# frozen_string_literal: true\n# A sample Gemfile\nsource \"https://rubygems.org\"\n\ngem \"sinatra\"\ngem \"json\"\n\n\n\nProcfile\nweb: bundle exec ruby app.rb -p $PORT  \n\n\nbundle install\u3092\u3057\u3066gem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\nPOST\u3057\u3066\u307f\u308b\n\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u524d\u306b\u304d\u3061\u3093\u3068\u52d5\u304f\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u306b\u306fcurl\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u306e\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f8b\u3068\u3057\u3066Lingr Bot API\u306e\u30b5\u30a4\u30c8\u306b\u8f09\u3063\u3066\u3044\u308bJSON\u3092POST\u3057\u3066\u307f\u307e\u3059\u3002\uff08text\u3060\u3051hi\u306b\u5909\u66f4\u3057\u3066\u307e\u3059\u3002\uff09\nJSON\u30d5\u30a1\u30a4\u30eb\u306fsample.json\u3068\u3057\u3066app.rb\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u304d\u307e\u3059\u3002\n\nsample.json\n{\"status\":\"ok\",\n \"counter\":208,\n \"events\":[\n  {\"event_id\":208,\n   \"message\":\n    {\"id\":82,\n     \"room\":\"myroom\",\n     \"public_session_id\":\"UBDH84\",\n     \"icon_url\":\"http://example.com/myicon.png\",\n     \"type\":\"user\",\n     \"speaker_id\":\"kenn\",\n     \"nickname\":\"Kenn Ejima\",\n     \"text\":\"hi\",\n     \"timestamp\":\"2011-02-12T08:13:51Z\",\n     \"local_id\":\"pending-UBDH84-1\"}}]}\n\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u52d5\u304b\u3057\u3064\u3064\uff08$ foreman start\uff09\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3061\u307e\u3059\u3002\n$ curl -X POST -H \"Content-Type: application/json\" http://localhost:5000/hi -d @sample.json \n\nJSON\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u524d\u306b\u306f@\u3092\u3064\u3051\u308b\u3002\n\u3053\u308c\u3067\u7aef\u672b\u306b\"Hi,Kenn Ejima!\"\u304c\u8fd4\u3063\u3066\u6765\u308c\u3070ok\u3067\u3059\u306d\u3002\u767a\u8a00\u5185\u5bb9\u3092\u5909\u3048\u3066\u8a66\u3057\u305f\u3044\u6642\u306b\u306fJSON\u30d5\u30a1\u30a4\u30eb\u306etext\u306e\u90e8\u5206\u306e\u5185\u5bb9\u3092\u5909\u3048\u308c\u3070\u5927\u4e08\u592b\u3067\u3059\u3002hi\u4ee5\u5916\u306e\u767a\u8a00\u306b\u306f\u8fd4\u7b54\u3057\u306a\u3044\u3088\u3046\u306b\u4f5c\u3063\u3066\u3044\u308b\u306e\u3067\u3001text\u3092yay!\u306b\u5909\u66f4\u3057\u3066curl\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4f55\u3082\u8fd4\u3063\u3066\u3053\u306a\u3044\u306f\u305a\u3067\u3059\u3002\n\n\u30c7\u30d7\u30ed\u30a4\nheroku\u3068\u304b\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002sample.json\u306f\u5fc5\u8981\u306a\u3044\u306e\u3067gitignore\u3057\u3066\u304a\u304f\u3002\n\n\u6b21\u306bLingr\u5074\u306e\u8a2d\u5b9a\nLingr\u3067Settings\u3092\u958b\u304d\u307e\u3059\u3002\nDeveloper\u306e\u30da\u30fc\u30b8\u306ecreate a new bot\u304b\u3089Bot id\u3068Callback URL\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002(https\u3060\u3068\u30a8\u30e9\u30fc\u8d77\u304d\u308b\u306e\u3067http\u3067\u8a2d\u5b9a)\nCallback URL\u306f\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eURL\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u3053\u308c\u3067bot\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\u7d9a\u3044\u3066\u4f5c\u3063\u305fbot\u3092Room\u3078\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n\u4f5c\u6210\u3057\u305fbot\u3092Lingr\u306eRoom\u3078\u5c0e\u5165\u3059\u308b\nLingr\u306eSettings\u304b\u3089bot\u306e\u4f5c\u6210\u304c\u53ef\u80fd\u3067\u3059\u3002\nSettings\u3067Rooms\u30bf\u30d6\u3092\u9078\u629e\u3002\u305d\u3053\u304b\u3089bot\u3092\u5c0e\u5165\u3057\u305f\u3044Room\u306emanage\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002(owner\u6a29\u9650\u3092\u6301\u3063\u3066\u3044\u308bRoom\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002)\nBots\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u4f5c\u6210\u3057\u305fbot\u306eid\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u3053\u308c\u3067\u3001Room\u3078\u306ebot\u306e\u5c0e\u5165\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\u3042\u3068\u306f\u5b9f\u969b\u306bhi\u3068\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002'Hi,(\u6295\u7a3f\u8005\u540d)'\u306e\u6295\u7a3f\u304c\u8fd4\u3063\u3066\u6765\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n\n\u307e\u3068\u3081\n\u3068\u308a\u3042\u3048\u305a\u7c21\u5358\u306abot\u306f\u3053\u308c\u3067\u4f5c\u308c\u307e\u3057\u305f\u3002\u6b21\u56de\u304b\u3089\u3082\u3046\u5c11\u3057\u5f79\u306b\u7acb\u3061\u305d\u3046\u306abot\u3092\u4f5c\u3063\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u53c2\u7167\u4e00\u89a7\n\nSinatra\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\nLingr Bot API\nWebhook Wiki\nWebhook\u3068\u306f\uff1f\n\n##\u6982\u8981\n\nSinatra\u3067Lingr\u3067\u4f55\u304b\u3092\u3064\u3076\u3084\u304f\u3068\u8fd4\u7b54\u3092\u6295\u7a3f\u3057\u3066\u304f\u308c\u308bBot\u3092\u4f5c\u6210\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u3068\u308a\u3042\u3048\u305a\u6700\u521d\u306f\u7c21\u5358\u306a\u3082\u306e\u3092\u3001\u5f8c\u3005\u306f\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3067Web\u30b5\u30a4\u30c8\u304b\u3089\u60c5\u5831\u3092\u5f15\u304d\u51fa\u3059Bot\uff08\u672a\u5b9a\u2026\u307e\u3041\u3001\u306a\u3093\u304b\u5f79\u306b\u7acb\u3061\u305d\u3046\u306abot\uff09\u3092\u4f5c\u3063\u3066\u3044\u304d\u307e\u3059\u3002\n\n##Sinatra\u3068\u306f\n\u6700\u5c0f\u9650\u306e\u52b4\u529b\u3067Ruby\u306eWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u308c\u308b\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\n\n[Sinatra\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb](http://www.sinatrarb.com/intro-ja.html)\n\n## Hi-bot\u306e\u4f5c\u6210\n\u307e\u305a\u306fLingr\u3067\"hi\"\u3068\u6295\u7a3f\u3059\u308b\u3053\u3068\u3067\u3001\"Hi,(\u6295\u7a3f\u8005\u540d)\"\u3068\u6295\u7a3f\u3057\u3066\u304f\u308c\u308bBot\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n###Lingr Bot\u4f5c\u6210\u306b\u3042\u305f\u3063\u3066\n[Lingr Bot API](https://github.com/lingr/lingr/wiki/Lingr-Bot-API)\u3092\u5229\u7528\u3057\u307e\u3059\u3002[Webhook](https://webhooks.pbworks.com/w/page/13385124/FrontPage)\u3067\u3059\u3002\n>Webhook\uff08Web\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3001HTTP\u30d7\u30c3\u30b7\u30e5API\u306a\u3069\u3068\u547c\u3070\u308c\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\uff09\u306f\u3042\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304b\u3089\u5225\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306b\u5bfe\u3057\u3066\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306a\u60c5\u5831\u63d0\u4f9b\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u4ed5\u7d44\u307f\u3067\u3059\u3002\n\u53c2\u7167\u3000[Webhook\u3068\u306f\uff1f](https://sendgrid.kke.co.jp/blog/?p=1851)\n\n\u3053\u308c\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u4f55\u304b\u3057\u3089\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u30c8\u30ea\u30ac\u30fc\u306b\u3057\u3066HTTP POST\u304c\u304a\u3053\u308a\u307e\u3059\u3002\u4eca\u56de\u3060\u3068Room\u3067\u306e\u767a\u8a00\u304c\u30c8\u30ea\u30ac\u30fc\u306b\u306a\u308a\u307e\u3059\u306d\u3002\n\n####Lingr\u3067\u306e\u767a\u8a00\u306e\u5185\u5bb9\nLingr\u3067\u306e\u767a\u8a00\u306e\u60c5\u5831\u306fJSON\u5f62\u5f0f\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306b\u57cb\u3081\u8fbc\u307e\u308c\u3066URL\u306b\u9001\u3089\u308c\u307e\u3059\u3002\n#####\u3088\u304f\u4f7f\u308f\u308c\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u4e00\u89a7\n\n- events[\u914d\u5217]\n  - message\n      - nickname[\u767a\u8a00\u8005\u306e\u540d\u524d]\n      - text[\u767a\u8a00\u5185\u5bb9\u3001\u6295\u7a3f\u3057\u305f\u5185\u5bb9]\n      - room[Room id]\n\n\n###\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210\n\u5168\u3066app\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306b\u7f6e\u304f\u3082\u306e\u3068\u3057\u307e\u3059\u3002\n\n- \u3000Gemfile\n- \u3000Gemfile.lock\n- \u3000app.rb\n- \u3000 Procfile\n\n\n```ruby:app.rb\nrequire 'sinatra'\nrequire 'json'\n\npost '/hi' do\n  j = JSON.parse(request.body.read)                # request.body\u3092\u8aad\u307f\u8fbc\u3093\u3067JSON\u3092\u30d1\u30fc\u30b9\u3002hash\u306b\u5909\u63db\u3002\n  j['events'].select{|e| e['message']}.map{|e|\n    if e['message']['text'] == \"hi\" then           # \u767a\u8a00\u304c\"hi\"\u306e\u5834\u5408\n      return \"Hi, #{e[\"message\"][\"nickname\"]}!\"    # \u767a\u8a00\u8005\u306e\u540d\u524d\u304ce[\"message\"][\"nickname\"]\u306e\u90e8\u5206\u306b\u5165\u308b\n    else                                           # \u767a\u8a00\u304c\"hi\"\u4ee5\u5916\u306e\u5834\u5408\n      return \"\"                                    # \"\"\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u3066\u304a\u3051\u3070Lingr\u306e\u65b9\u306bPOST\u306f\u3055\u308c\u306a\u3044\u3002\n    end\n  }\nend\n```\n\n\n```Gemfile:Gemfile\n# frozen_string_literal: true\n# A sample Gemfile\nsource \"https://rubygems.org\"\n\ngem \"sinatra\"\ngem \"json\"\n```\n\n```Procfile:Procfile\nweb: bundle exec ruby app.rb -p $PORT  \n```\n\n\nbundle install\u3092\u3057\u3066gem\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002\n\n###POST\u3057\u3066\u307f\u308b\n\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u524d\u306b\u304d\u3061\u3093\u3068\u52d5\u304f\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\u305d\u306e\u305f\u3081\u306b\u306fcurl\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u306e\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\u4f8b\u3068\u3057\u3066[Lingr Bot API](https://github.com/lingr/lingr/wiki/Lingr-Bot-API)\u306e\u30b5\u30a4\u30c8\u306b\u8f09\u3063\u3066\u3044\u308bJSON\u3092POST\u3057\u3066\u307f\u307e\u3059\u3002\uff08text\u3060\u3051hi\u306b\u5909\u66f4\u3057\u3066\u307e\u3059\u3002\uff09\nJSON\u30d5\u30a1\u30a4\u30eb\u306fsample.json\u3068\u3057\u3066app.rb\u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u7f6e\u304d\u307e\u3059\u3002\n\n```json:sample.json\n{\"status\":\"ok\",\n \"counter\":208,\n \"events\":[\n  {\"event_id\":208,\n   \"message\":\n    {\"id\":82,\n     \"room\":\"myroom\",\n     \"public_session_id\":\"UBDH84\",\n     \"icon_url\":\"http://example.com/myicon.png\",\n     \"type\":\"user\",\n     \"speaker_id\":\"kenn\",\n     \"nickname\":\"Kenn Ejima\",\n     \"text\":\"hi\",\n     \"timestamp\":\"2011-02-12T08:13:51Z\",\n     \"local_id\":\"pending-UBDH84-1\"}}]}\n```\n\n\u30ed\u30fc\u30ab\u30eb\u3067\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3057\u3066\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u52d5\u304b\u3057\u3064\u3064\uff08$ foreman start\uff09\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3061\u307e\u3059\u3002\n\n```\n$ curl -X POST -H \"Content-Type: application/json\" http://localhost:5000/hi -d @sample.json \n```\n\nJSON\u30d5\u30a1\u30a4\u30eb\u540d\u306e\u524d\u306b\u306f@\u3092\u3064\u3051\u308b\u3002\n\u3053\u308c\u3067\u7aef\u672b\u306b\"Hi,Kenn Ejima!\"\u304c\u8fd4\u3063\u3066\u6765\u308c\u3070ok\u3067\u3059\u306d\u3002\u767a\u8a00\u5185\u5bb9\u3092\u5909\u3048\u3066\u8a66\u3057\u305f\u3044\u6642\u306b\u306fJSON\u30d5\u30a1\u30a4\u30eb\u306etext\u306e\u90e8\u5206\u306e\u5185\u5bb9\u3092\u5909\u3048\u308c\u3070\u5927\u4e08\u592b\u3067\u3059\u3002hi\u4ee5\u5916\u306e\u767a\u8a00\u306b\u306f\u8fd4\u7b54\u3057\u306a\u3044\u3088\u3046\u306b\u4f5c\u3063\u3066\u3044\u308b\u306e\u3067\u3001text\u3092yay!\u306b\u5909\u66f4\u3057\u3066curl\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4f55\u3082\u8fd4\u3063\u3066\u3053\u306a\u3044\u306f\u305a\u3067\u3059\u3002\n\n###\u30c7\u30d7\u30ed\u30a4\nheroku\u3068\u304b\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\u3002sample.json\u306f\u5fc5\u8981\u306a\u3044\u306e\u3067gitignore\u3057\u3066\u304a\u304f\u3002\n\n###\u6b21\u306bLingr\u5074\u306e\u8a2d\u5b9a\nLingr\u3067Settings\u3092\u958b\u304d\u307e\u3059\u3002\nDeveloper\u306e\u30da\u30fc\u30b8\u306ecreate a new bot\u304b\u3089Bot id\u3068Callback URL\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002(https\u3060\u3068\u30a8\u30e9\u30fc\u8d77\u304d\u308b\u306e\u3067http\u3067\u8a2d\u5b9a)\nCallback URL\u306f\u30c7\u30d7\u30ed\u30a4\u3057\u305f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306eURL\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u3053\u308c\u3067bot\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002\n\u7d9a\u3044\u3066\u4f5c\u3063\u305fbot\u3092Room\u3078\u5c0e\u5165\u3057\u307e\u3059\u3002\n\n###\u4f5c\u6210\u3057\u305fbot\u3092Lingr\u306eRoom\u3078\u5c0e\u5165\u3059\u308b\nLingr\u306eSettings\u304b\u3089bot\u306e\u4f5c\u6210\u304c\u53ef\u80fd\u3067\u3059\u3002\nSettings\u3067Rooms\u30bf\u30d6\u3092\u9078\u629e\u3002\u305d\u3053\u304b\u3089bot\u3092\u5c0e\u5165\u3057\u305f\u3044Room\u306emanage\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002(owner\u6a29\u9650\u3092\u6301\u3063\u3066\u3044\u308bRoom\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002)\nBots\u30bf\u30d6\u3092\u9078\u629e\u3057\u3001\u4f5c\u6210\u3057\u305fbot\u306eid\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u3053\u308c\u3067\u3001Room\u3078\u306ebot\u306e\u5c0e\u5165\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002\n\u3042\u3068\u306f\u5b9f\u969b\u306bhi\u3068\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002'Hi,(\u6295\u7a3f\u8005\u540d)'\u306e\u6295\u7a3f\u304c\u8fd4\u3063\u3066\u6765\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n\n##\u307e\u3068\u3081\n\u3068\u308a\u3042\u3048\u305a\u7c21\u5358\u306abot\u306f\u3053\u308c\u3067\u4f5c\u308c\u307e\u3057\u305f\u3002\u6b21\u56de\u304b\u3089\u3082\u3046\u5c11\u3057\u5f79\u306b\u7acb\u3061\u305d\u3046\u306abot\u3092\u4f5c\u3063\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n###\u53c2\u7167\u4e00\u89a7\n- [Sinatra\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb](http://www.sinatrarb.com/intro-ja.html)\n- [Lingr Bot API](https://github.com/lingr/lingr/wiki/Lingr-Bot-API)\n- [Webhook Wiki](https://webhooks.pbworks.com/w/page/13385124/FrontPage)\n- [Webhook\u3068\u306f\uff1f](https://sendgrid.kke.co.jp/blog/?p=1851)\n"}