{"context": "\n\n\u25a0\u521d\u3081\u306b\u25a0\n\u203b\u3053\u306e\u8a18\u4e8b\u306f Raspberry Pi Advent Calendar 2016\u306e15\u65e5\u76ee\u3067\u3059\u3002\nhttp://www.adventar.org/calendars/1341\n\u3053\u3093\u306b\u3061\u306f\u3002gyabo\u3068\u7533\u3057\u307e\u3059\u3002\n\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u521d\u4ee3\u3092\u7d50\u69cb\u524d\u306b\u8cb7\u3063\u3066\u304b\u3089\u3001\u3061\u3087\u3046\u3069\u4e00\u5e74\u524d\u4f4d\u306b\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u3067\u9045\u523b\u3057\u307e\u3059\u30e1\u30fc\u30eb\u51fa\u3057\u305f\u308a\u3067\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u7981\u6b62\u3055\u308c\u305f\u306e\u3067\u5225\u306e\u65b9\u9762\u3067\u4f7f\u3063\u3066\u3084\u308d\u3046\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u3002\n\u307f\u3093\u306a\u7269\u7406\u7684\u306a\u65b9\u9762\u3067\u6709\u52b9\u6d3b\u7528\u3055\u308c\u3066\u3044\u3066\u9762\u767d\u3044\u306e\u3067\u3059\u304c\u3001\u52c9\u5f37\u304c\u3066\u3089\u3001\u3082\u3046\u3061\u3087\u3063\u3068\u5225\u306a\u3053\u3068\u3092\u3057\u307e\u3059\u3002\n\n\u25a0\u4f55\u3092\u3059\u308b\u304b\uff1f \u2192 \u30d9\u30a2\u30e1\u30bf\u30eb\u3067\u30d6\u30fc\u30c8\u3055\u305b\u3066\u3001\u30dd\u30ea\u30b4\u30f3\u51fa\u3057\u3066\u904a\u3073\u307e\u3059\u25a0\n\u30d9\u30a2\u30e1\u30bf\u30eb(OS\u304c\u4f55\u3082\u642d\u8f09\u3055\u308c\u3066\u3044\u306a\u3044\u72b6\u614b)\u306eRaspberryPI\u3067\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308bGPU VideocoreIV\u306e\u6a5f\u80fd\u306eV3D\u3092\u4f7f\u3063\u3066\nHDMI\u7d4c\u7531\u3067\u8868\u793a\u3055\u308c\u305f\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306b\u30dd\u30ea\u30b4\u30f3\u51fa\u3057\u3066\u904a\u3073\u307e\u3059\u3002\n\u30dd\u30ea\u30b4\u30f3\u3068\u3044\u3063\u3066\u3082\u3001\u9802\u70b9\u6d41\u3057\u8fbc\u307f\u3001\u30c6\u30af\u30b9\u30c1\u30e3\u30de\u30c3\u30d4\u30f3\u30b0\u3001\u3086\u308b\u3044\u30b7\u30a7\u30fc\u30c0\u30a2\u30bb\u30f3\u30d6\u30e9\u66f8\u3044\u305f\u3089\u7d42\u308f\u308a\u306b\u3057\u307e\u3059\u3002\n\u4e3b\u306b\u524d\u6e96\u5099\u3001\u8d77\u52d5\u3001V3D\u306e\u521d\u671f\u5316\u3001\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3001binning, rendering, V3D\u56de\u308a\u306e\u304a\u4f5c\u6cd5\u56de\u308a\u3001\n\u843d\u3068\u3057\u7a74\u3001\u6709\u52b9\u306a\u30c4\u30fc\u30eb\u306e\u3054\u7d39\u4ecb\u306a\u3069\u304c\u3067\u304d\u308c\u3070\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u52c9\u5f37\u4e2d\u306a\u306e\u3067\u9593\u9055\u3044\u306a\u3069\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u25a0\u8abf\u67fb\u671f\u9593\u25a0\n\u3042\u3093\u307e\u308a\u899a\u3048\u3066\u3044\u306a\u3044\u306e\u3067\u3059\u304c\u30011.5 - 2.0\u6708\u304f\u3089\u3044\u3067\u96c6\u4e2d\u3057\u3066\u904a\u3093\u3067\u307e\u3057\u305f\u3002\n\u4eca\u5e74\u306e3\uff5e4\u6708\u304f\u3089\u3044\u3067\u3059\u3002\u3042\u3068\u306f\u3061\u3087\u304f\u3061\u3087\u304f\u3002\u8abf\u3079\u8caf\u3081\u3066\u3044\u305f\u3082\u306e\u3067\u3059\u3002\n\n\u25a0\u3053\u308c\u307e\u3067\u25a0\nRaspberryPI\u306fOS\u30a4\u30e1\u30fc\u30b8\u3092\u9069\u5207\u306bdd\u3057\u3066\u3042\u3052\u308c\u3070\u30b5\u30af\u30c3\u3068\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3042\u3068\u306fterminal\u306a\u308a\u3067\n\u9069\u5f53\u306b\u3064\u306a\u3044\u3067\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u3055\u305b\u308b\u3001\u3068\u3044\u3046\u306e\u304c\u624b\u65e9\u304f\u3001\u8ce2\u3044\u4f7f\u3044\u65b9\u3060\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u4f7f\u3046OS\u30a4\u30e1\u30fc\u30b8\u3067OpenGLES2\u76f8\u5f53\u306eAPI\u304c\u53e9\u3051\u308b\u306e\u3067\u5225\u306b\u8981\u3089\u306a\u3044\u3058\u3083\u3093\u3001\u3063\u3066\u601d\u3063\u305f\u306e\u3067\u3059\u304c\n\u30d9\u30a2\u30e1\u30bf\u30eb\u304b\u3089V3D\u3092\u76f4\u63a5\u53e9\u3044\u3066\u904a\u3093\u3067\u308b\u65b9\u304c\u6d77\u5916\u306b\u3044\u3089\u3057\u3066\u9762\u767d\u3044\u3068\u601d\u3044\u3001\u904a\u3093\u3067\u307f\u3088\u3046\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u3002\n\u307e\u305f\u65e5\u672c\u8a9e\u306e\u8a18\u4e8b\u304c\u6975\u3081\u3066\u5c11\u306a\u3044\u306e\u3067\u52c9\u5f37\u3057\u305f\u3053\u3068\u3092\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3057\u305f\u3002\nRaspberryPI\u306e\u30d6\u30fc\u30c8\u306f\u3056\u3063\u304f\u308a\u3044\u3046\u3068VideocoreIV\u304c\u6700\u521d\u306bSDIF\u3092\u521d\u671f\u5316\u3057\u3066SD\u30ab\u30fc\u30c9\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u89e3\u6790\u304b\u3089\u8aad\u307f\u8fbc\u307f\u3092\u884c\u3044\u307e\u3059(\u4ed5\u69d8\u3068\u30d0\u30a4\u30ca\u30ea\u306e\u307f\u63d0\u4f9b\u3055\u308c\u3066\u3044\u3066\u8d77\u52d5\u306b\u306f\u5fc5\u9808)\n\u305d\u306e\u5f8cRAM\u5074\u306b\u30a4\u30e1\u30fc\u30b8\u304c\u8ee2\u9001\u3055\u308c\u3066ARM\u5074\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30aa\u30f3\u30dc\u30fc\u30c9\u306eRAM\u306e\u5fc5\u8981\u6700\u4f4e\u9650\u306e\u521d\u671f\u5316\u3082\u3059\u3067\u306b\u7d42\u308f\u3063\u3066\u308b\u72b6\u614b\u3067\u3059\u3002\n\u3042\u3068\u306f\u4f55\u3057\u3088\u3046\u304c\u3084\u308a\u305f\u3044\u653e\u984c\u3067\u3059\u3002\n\u3067\u3001\u300c\u30bf\u30a4\u30eb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3067\u52d5\u4f5c\u3059\u308bGPU\u300d\u306e\u4e0b\u56de\u308a\u306e\u30ec\u30b8\u30b9\u30bf\u3092\u9593\u63a5\u7684\u306b\u53e9\u3044\u3066\u63cf\u753b\u307e\u3067\u306e\u6d41\u308c\u306e\u5b66\u7fd2\u7528\u3068\u3057\u3066\u306f\u3046\u3063\u3066\u3064\u3051\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u5f53\u7136\u307b\u304b\u306e\u5c0f\u3055\u3044\u30ac\u30b8\u30a7\u30c3\u30c8\u30dc\u30fc\u30c9\u3067GPU\u642d\u8f09\u3055\u308c\u3066\u3044\u3066\u76f4\u63a5\u305f\u305f\u3051\u308b\u306e\u304c\u3042\u308c\u3070\u3067\u304d\u305d\u3046\u3067\u3059\u304c\u3001\n\u307e\u3042RaspberryPI\u3067\u3084\u3063\u3066\u3082\u5909\u308f\u3089\u306a\u3044\u3058\u3083\u308d\u3046\u3002\n\n\u25a0\u5fc5\u8981\u306a\u77e5\u8b58\u3084\u624b\u6280\u25a0\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u4f55\u304b\u3059\u308b\u306e\u306b\u62b5\u6297\u304c\u7121\u3044\u4e8b\nARM\u306e\u30a2\u30bb\u30f3\u30d6\u30e9\u304c\u82e5\u5e72\u8aad\u307f\u66f8\u304d\u3067\u304d\u308b\u3053\u3068\n\u57fa\u672c\u7684\u306a\u6319\u52d5\u3092\u77e5\u3063\u3066\u3044\u308b\u3053\u3068\nSDL\u3068\u304b\u3067\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u7d75\u3092\u51fa\u3057\u305f\u3053\u3068\u304c\u3042\u308b\n\u82f1\u8a9e\u304c\u3061\u3087\u3063\u3068\u8aad\u3081\u308b\n\u7d44\u307f\u8fbc\u307f\u7cfb\u306e\u4e0b\u56de\u308a\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u4f55\u304b\u52d5\u304b\u3057\u305f\u3053\u3068\u304c\u3042\u308b\n\n\u5c1a\u3001ARM\u5074\u306fGPU\u5074\u3092\u4e2d\u5fc3\u306b\u5236\u5fa1\u3059\u308b\u305f\u3081\u306b\u5b58\u5728\u3059\u308b\u3088\u3046\u306a\u3082\u306e\u306a\u306e\u3067ARM\u5074\u3067\u306a\u3093\u3067\u3082\u3067\u304d\u308b\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u3002\n\n\u25a0\u524d\u63d0\u25a0\n\nRaspberryPI 2\u3067\u904a\u3073\u307e\u3059\u3002\nRaspberryPI -> rpi\u3068\u7565\u8a18\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u7d71\u4e00\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u7533\u3057\u8a33\u306a\u3044\u3002\n\u4f5c\u308a\u7f6e\u304d\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u3042\u308b\u306e\u3067\u305d\u308c\u3092\u5143\u306b\u89e3\u8aac\u3057\u307e\u3059\nVPM(\u9802\u70b9\u3092\u84c4\u3048\u3066QPU\u3067\u3092\u4f7f\u3046)\u56de\u308a\u306f\u3057\u307e\u305b\u3093\u3002\u3064\u307e\u308aVertexShader\u306f\u6271\u3044\u307e\u305b\u3093\nFragmentShader\u76f8\u5f53\u306eQPU\u30a2\u30bb\u30f3\u30d6\u30e9\u3092\u66f8\u304d\u307e\u3059\n\u3067\u3059\u307e\u3059\u6df7\u3056\u3063\u3066\u307e\u3059\u3002\u3059\u307f\u307e\u305b\u3093\n\u5f8c\u534a\u306b\u51fa\u3066\u304f\u308bControlList\u56de\u308a\u306f\u8aac\u660e\u304c\u3044\u307e\u3044\u3061\u304b\u3082\n\n\n\u25a0\u4e88\u7b97\u25a0\nRaspberryPI\u672c\u4f53\u3068\u307b\u304b\u306e\u9069\u5f53\u306a\u30dc\u30fc\u30c9\u3001\u30ad\u30c3\u30c8\u8fbc\u307f\u306711,000\u5186\u7a0b\u5ea6\u3092\u898b\u8fbc\u3093\u3067\u304a\u304d\u307e\u3059\u3002\n\n\u25a0\u57fa\u672c\u8cc7\u6599\u25a0\n\n\u516c\u5f0f\u306eRaspberryPI\u306eSoC\u306e\u57fa\u672c\u7684\u306a\u5468\u8fba\u6a5f\u5668\u306e\u30ec\u30b8\u30b9\u30bf\u69cb\u6210\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u4ed5\u69d8\u66f8\u3002\n\nhttps://www.RaspberryPI.org/documentation/hardware/RaspberryPI/bcm2835/BCM2835-ARM-Peripherals.pdf\n\u30ec\u30b8\u30b9\u30bf\u306e\u30a2\u30c9\u30ec\u30b9\u306fRaspberryPI1, 2\u3067\u7570\u306a\u308b\u3053\u3068\u3001\u307b\u304b\u306b\u6a5f\u80fd\u304c\u5927\u91cf\u306b\u3042\u308b\u306e\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068(\u7aef\u7684\u306b\u8a00\u3063\u3066\u4e0d\u5341\u5206)\u3092\u7406\u89e3\u3057\u3066\u8aad\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\nhttp://www.broadcom.com/docs/support/videocore/VideoCoreIV-AG100-R.pdf\n\u203b\u306a\u3093\u3068\u30ea\u30f3\u30af\u5207\u308c\uff01\uff01\uff01\u3069\u3046\u3057\u3061\u3083\u3063\u305f\u306e\u2026\nRaspberryPI\u306b\u4f7f\u308f\u308c\u3066\u3044\u308bGPU\u306e\u4ed5\u69d8\u66f8\u3067\u3059\u3002\u516c\u5f0fPDF\u3068\u8a18\u8f09\u3057\u305f\u5834\u5408\u306f\u3053\u306eVideoCoreIV\u306e\u4ed5\u69d8\u66f8\u3092\u3055\u3057\u307e\u3059\u3002\n\u5148\u306e\u5468\u8fba\u6a5f\u5668\u306ePDF\u3068\u5408\u308f\u305b\u3066\u8aad\u3080\u3068\u7406\u89e3\u304c\u6df1\u307e\u308a\u307e\u3059\u3002\n\u30c6\u30fc\u30de\u306f\u7d75\u3092\u51fa\u3059\u3053\u3068\u306a\u306e\u3067\u3001\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3068\u304d\u306f\u3053\u306e\u4ed5\u69d8\u66f8\u3068github\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u4e2d\u5fc3\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u25a0\u60c5\u5831\u3092\u96c6\u3081\u308b\u25a0\n\u5e78\u3044\u306a\u3053\u3068\u306b\u3044\u308d\u3044\u308d\u306a\u4eba\u304cBareMetal\u3067\u52d5\u304b\u3057\u3066\u3044\u307e\u3059\u3002\nhttps://github.com/phire/hackdriver\n\u7d75\u3092\u51fa\u3057\u305f\u3044\u3068\u3044\u3046\u30c6\u30fc\u30de\u3067\u8abf\u3079\u305f\u3089\u6700\u521d\u306b\u898b\u3064\u3051\u305f\u3082\u306e\u3002userland\u5c64\u304b\u3089\u30b3\u30de\u30f3\u30c9\u3092\u767a\u884c\u3057\u3066\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306b\u30dd\u30ea\u30b4\u30f3\u3092\u66f8\u304d\u51fa\u3059\u30bd\u30fc\u30b9\u3067\u3001\n\u304b\u306a\u308a\u30b7\u30ea\u30a2\u30eb\u306b\u66f8\u304b\u308c\u3066\u308b\u306e\u3067\u8aad\u3080\u5206\u306b\u306f\u826f\u3044\u3067\u3059\u3002\nhttps://github.com/PeterLemon/RaspberryPI\n\u30d9\u30a2\u30e1\u30bf\u30eb\u3067\u4f55\u304b\u3089\u4f55\u307e\u3067\u3042\u308b\u3059\u3054\u3044\u3002repo\u898b\u308b\u3068N64\u306e\u30d9\u30a2\u30e1\u30bf\u30eb\u307e\u3067\u3042\u308b\u3002\u30af\u30ec\u30a4\u30b8\u30fc\u3063\u3059\u3002\n\u3053\u306erepo\u306e\u65b9\u306f\u672c\u5bb6forums\u306b\u3044\u308d\u3044\u308d\u6295\u4e0b\u3057\u3066\u3044\u307e\u3059\u3002flatassembler\u306e\u8d85\u9ad8\u6027\u80fd\u30de\u30af\u30ed\u30a2\u30bb\u30f3\u30d6\u30e9\u3067\u4f5c\u6210\u3057\u3066\u3044\u308b\u6a21\u69d8\u3002\n[\u53c2\u8003] https://flatassembler.net/\nhttps://github.com/ICTeam28/PiFox\n\u3082\u3046\u3053\u308c\u3067\u5341\u5206\u306a\u3093\u3058\u3083\u306d\uff1f\u3068\u3044\u3046\u30b9\u30bf\u30fc\u30d5\u30a9\u30c3\u30af\u30b9\u3063\u307d\u3044demo.\n\u30b5\u30a6\u30f3\u30c9\u306fDMA\u8ee2\u9001 + PWM\u306b\u3066\u5b9f\u88c5\u3001\u63cf\u753b\u306f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u3059\u3002\n\u5165\u529b\u5468\u308a\u306fGPIO\u3067\u3068\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3002\u6b63\u76f4\u3053\u306e\u304f\u3089\u3044\u3067\u304d\u308c\u3070\u306a\u3093\u3067\u3082\u3067\u304d\u305d\u3046\u306a\u6c17\u304c\u3057\u3066\u304f\u308b\u3002\nhttps://github.com/Microsoft/graphics-driver-samples\n\u5929\u4e0b\u306eMicrosoft\u306eDirectX11\u76f8\u5f53API\u306eVideoCoreIV\u306e\u5b9f\u88c5\u3002\u4e8b\u5b9f\u4e0a\u4f4e\u30ec\u30d9\u30eb\u5c64\u306e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30c9\u30e9\u30a4\u30d0\u306b\u306a\u308a\u307e\u3059\u3002\nAPI\u306f\u3001DirectX11\u3063\u307d\u3044\u611f\u3058\u306b\u306a\u3063\u3066\u308b\u3051\u3069\u5b9f\u88c5\u3067\u304d\u3066\u3044\u306a\u3044\u7b87\u6240\u306f\u7d50\u69cb\u3042\u308b\u3002\n\u304c\u3001VideoCoreIV\u3067\u6271\u3048\u308b\u30c6\u30af\u30b9\u30c1\u30e3\u306e\u5f62\u5f0f\u306eT-FORMAT\u306e\u5b9f\u88c5\u3060\u3063\u305f\u308a\u3001\u30b7\u30a7\u30fc\u30c0\u30a2\u30bb\u30f3\u30d6\u30e9(QPU)\u304c\u3042\u3063\u305f\u308a\u306a\u3069\u3001\n\u5272\u3068\u304b\u3086\u3044\u3068\u3053\u308d\u306b\u624b\u304c\u5c4a\u304f\u30bd\u30fc\u30b9\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u7d20\u6674\u3089\u3057\u3044\u3002\u4eca\u306f\u3042\u307e\u308a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3055\u308c\u3066\u3044\u306a\u3044\u611f\u3058\u3002\n\n\u25a0RaspberryPI\u304cBoot\u3059\u308b\u4ed5\u7d44\u307f\u25a0\n\u4ee5\u4e0b\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\nhttps://www.RaspberryPI.org/forums/viewtopic.php?t=72260\n\u6700\u521d\u306fGPU\u5074\u306eFirmware\u304c\u5168\u90e8\u4e3b\u5c0e\u6a29\u3092\u63e1\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u3053\u3068\u3068\u3001\nSDRAM\u306e\u521d\u671f\u5316\u3060\u3063\u305f\u308a\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u521d\u671f\u5316\u306a\u3069\u3082\u5168\u90e8\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\u6c17\u3092\u4ed8\u3051\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u306f\u3001config.txt\u3067\u30d6\u30fc\u30c8\u306e\u6319\u52d5\u304c\u5927\u304d\u304f\u5909\u308f\u308b\u306e\u3067\u4ee5\u4e0b\u3092\u898b\u306a\u304c\u3089\u6ce8\u610f\u3002\nhttp://elinux.org/RPiconfig\n\u203b\u672c\u5bb6\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u6b63\u7fa9\u3002\u305f\u3060\u898b\u3065\u3089\u3044\u306e\u3067\u2191\u304c\u3088\u308d\u3057\u305d\u3046\u3002\n[\u53c2\u8003 : Raspberry Pi boot process]\nhttps://www.raspberrypi.org/forums/viewtopic.php?f=63&t=6685\n[\u53c2\u8003 : Raspberry Pi2(Linux Kernel)\u306e\u30d6\u30fc\u30c8\u30b7\u30fc\u30b1\u30f3\u30b9\u3092\u8aad\u3080(\u305d\u306e1) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u4f9d\u5b58\u90e8]\nhttp://qiita.com/Nao1215/items/b8f866b4ede757cdaa73\n\n\u25a0\u958b\u767a\u3059\u308b\u305f\u3081\u306e\u30c4\u30fc\u30eb\u25a0\n\uff20\u30b3\u30f3\u30d1\u30a4\u30e9\nlaunchpad.net/gcc-arm-embedded\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3089bin\u56de\u308a\u306bpath\u3092\u901a\u3057\u3066\u304a\u304f\u3053\u3068\u3002\nhttps://launchpad.net/gcc-arm-embedded\n\uff20uart\u304b\u3089USB\u306b\u5909\u63db\u3057\u3066\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3067\u304d\u308b\u5909\u63db\u63a5\u7d9a\u30dc\u30fc\u30c9\u3068\u9069\u5f53\u306a\u30b1\u30fc\u30d6\u30eb\nFTDI USB\u30b7\u30ea\u30a2\u30eb\u5909\u63db\u30a2\u30c0\u30d7\u30bf\u30fc(5V/3.3V\u5207\u308a\u66ff\u3048\u6a5f\u80fd\u4ed8\u304d)\nhttps://www.switch-science.com/catalog/1032/\n\u3053\u308c\u3092\u4f7f\u3063\u3066TeraTerm\u3068\u3084\u308a\u53d6\u308a\u3057\u307e\u3059\u3002\u3053\u308c\u304c\u7121\u3044\u3068\u30c7\u30d0\u30c3\u30b0\u304c\u5927\u5909\u306b\u3057\u3093\u3069\u3044\u3067\u3059\u3002\n\u3042\u305f\u308a\u307e\u3048\u3060\u3051\u3069\u3053\u306e\u6cbb\u5177\u306f\u7d76\u5bfe\u306b5V\u306bDIP\u3092\u5012\u3055\u306a\u3044\u3067\u4f7f\u3046\u3088\u3046\u306b\u3057\u307e\u3059\u3002rpi\u5074\u306eGPIO\u304c3.3V\u3060\u304b\u3089\u3067\u3059\u3002\n\u713c\u3051\u307e\u3059\u30021\u679a\u713c\u304d\u307e\u3057\u305f\u79c1\u3002\n\u6700\u521dL\u30c1\u30ab\u3067\u4f55\u3068\u304b\u30c7\u30d0\u30c3\u30b0\u3057\u3066\u305f\u3051\u3069\u3057\u3093\u3069\u304f\u306a\u3063\u305f\u308a\u3064\u3089\u3044\u30d0\u30b0\u304c\u5927\u91cf\u306b\u51fa\u305f\u308a\u3057\u305f\u306e\u3067\u3001\u4e0a\u306e\u677f\u3092\u7d20\u76f4\u306b\u4f7f\u3044\u307e\u3059\u3002\n\u63a5\u7d9a\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u96fb\u5b50\u66f8\u7c4d\u304c\u6975\u3081\u3066\u89aa\u5207\u3067\u5177\u5408\u304c\u826f\u3044\u3067\u3059\u3002\nBareMetal\u3067\u904a\u3076\u3000Raspberry Pi - \u9054\u4eba\u51fa\u7248\u4f1a\nhttp://tatsu-zine.com/books/raspi-bm\n\u307e\u305f\u63a5\u7d9a\u3059\u308b\u969b\u306f\u30c1\u30af\u30c1\u30af\u3055\u3059\u30b1\u30fc\u30d6\u30eb\u304c\u3069\u3046\u3057\u3066\u3082\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30bb\u30c3\u30c8\u306a\u3069\u3092\u63a2\u3059\u304b\u79cb\u6708\u96fb\u5b50\u3067\u983c\u3080\u3002\n\u79c1\u306f\u4ee5\u4e0b\u3092\u6ce8\u6587\u3057\u305f\u3002\u3068\u3066\u3082\u5b89\u3044\u3057\u304a\u5f97\u3002\nhttps://www.amazon.co.jp/dp/B01AUN1JYW\n\u203b\u3053\u308c\u539f\u4fa1\u5272\u308c\u3057\u3066\u3044\u308b\u306e\u3067\u306f\u3068\u601d\u3046\u304f\u3089\u3044\u5b89\u3044\u3002\n\uff20TeraTerm\nhttps://ttssh2.osdn.jp/\n\u304a\u306a\u3058\u307f\u5b9a\u756a\u30bf\u30fc\u30df\u30ca\u30eb\u30bd\u30d5\u30c8\u3002COM\u30dd\u30fc\u30c8\u3068\u3064\u306a\u304c\u308b\u306a\u3089\u4f55\u3067\u3082\u3044\u3044\u3067\u3059\u3002\nRaspberryPI\u5074\u304b\u3089PC\u5074\u306b\u6587\u5b57\u5217\u9001\u4fe1\u3057\u3066\u30c7\u30d0\u30c3\u30b0\u3059\u308b\u3068\u304d\u306b\u5fc5\u8981\u3002\u3044\u308d\u3044\u308d\u306a\u4f7f\u3044\u65b9\u304c\u3067\u304d\u308b\u3002\n\uff20SD\u30ab\u30fc\u30c9(rpi2\u306a\u3089microSD\u30ab\u30fc\u30c9)\n\u4f55\u3092\u3084\u308b\u304b\u306b\u4f9d\u308a\u307e\u3059\u304c\u30011GByte\u306a\u3044\u30574GByte\u3042\u308c\u3070\u5341\u5206\u3002\nFAT32\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3066\u4e2d\u306bfirmware\u3068\u81ea\u5206\u3067\u4f5c\u3063\u305fkernel.img\u3092\u30b3\u30d4\u30fc\u3057\u3066\u958b\u767a\u3057\u3066\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\uff20\u30ab\u30fc\u30c9\u30ea\u30fc\u30c0\n\u3067\u304d\u308b\u3060\u3051\u5b89\u304f\u3066\u3001\u30ab\u30fc\u30c9\u306e\u629c\u304d\u5dee\u3057\u3067\u7c21\u5358\u306b\u58ca\u308c\u306a\u3044\u30bf\u30d5\u306a\u3082\u306e\u3092\u4f7f\u3046\u3053\u3068(\u91cd\u8981)\n\uff20HDMI\u30b1\u30fc\u30d6\u30eb\n\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u51fa\u3057\u305f\u3044\u306e\u3067\u3001HDMI\u30b1\u30fc\u30d6\u30eb\u304c\u5fc5\u8981\u3002\u97f3\u58f0\u56de\u308a\u306f\u7279\u306b\u4f55\u3082\u5fc5\u8981\u306a\u3044\u306e\u3067\u3001\u97f3\u3067\u306a\u304f\u3066\u3082\u5927\u4e08\u592b\u3002\n\n\u25a0RPI1,2\u306e\u9055\u3044\u306b\u3064\u3044\u3066\u25a0\nGPIO\u56de\u308a\u3068\u30b3\u30a2\u3068\u30ec\u30b8\u30b9\u30bf\u306e\u30d9\u30fc\u30b9\u30a2\u30c9\u30ec\u30b9\u304c\u9055\u3046\u306e\u3067\u672c\u5bb6\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u672c\u30da\u30fc\u30b8\u3067\u958b\u767a\u306b\u4f7f\u3046\u306e\u306f\u3001uart-function\u3092\u4f7f\u3046\u3053\u3068\u304f\u3089\u3044\u3002\n\u3053\u3053\u306e\u30b5\u30a4\u30c8\u304c\u8a73\u3057\u3044\u3002\nhttp://elinux.org/RPi_Serial_Connection\n\n\u25a0 \u3068\u308a\u3042\u3048\u305afirmware\u3092\u30d6\u30fc\u30c8\u3055\u305b\u308b\u25a0\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30d6\u30fc\u30c8\u3055\u305b\u308b\u3002\n- SD\u30ab\u30fc\u30c9\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3059\u308b\n- \u672c\u5bb6\u30b5\u30a4\u30c8\u304b\u3089\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u306e\u30d0\u30a4\u30ca\u30ea(start.elf, bootcode.bin)\u3092\u62fe\u3063\u3066\u304d\u3066\u3001SD\u30ab\u30fc\u30c9\u306e\u30eb\u30fc\u30c8\u306b\u30b3\u30d4\u30fc\u3059\u308b\u3002\n- config.txt\u3092\u4f5c\u6210\u3057\u3066SD\u30ab\u30fc\u30c9\u306e\u30eb\u30fc\u30c8\u306b\u30b3\u30d4\u30fc\u3059\u308b\u3002\n- HDMI\u30b1\u30fc\u30d6\u30eb\u3068rpi\u3092\u63a5\u7d9a\u3057\u3066\u9069\u5f53\u306aHDMI\u30e2\u30cb\u30bf\u306b\u63a5\u7d9a\u3059\u308b\u3002\n- microUSB\u30b1\u30fc\u30d6\u30eb\u3068\u9069\u5f53\u306aUSB\u30b1\u30fc\u30d6\u30eb\u3092\u3064\u306a\u3044\u3067rpi\u306e\u96fb\u6e90\u3092\u5165\u308c\u308b\u3002\n- \u3046\u307e\u304f\u3044\u3051\u3070\u4f55\u304b\u8868\u793a\u3055\u308c\u308b\n\n\u79c1\u304c\u4f5c\u6210\u3057\u305fconfig.txt\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\nconfig.txt\nkernel=image.bin\nhdmi_drive=2\nhdmi_group=2\nhdmi_mode=4\ndisable_pvt=1\ndisable_overscan=1\nforce_turbo=1\nfake_vsync_isr=1\n\n\nconfig.txt\u306f\u4ee5\u4e0b\u306e\u610f\u5473\u3092\u6301\u3063\u3066\u3044\u307e\u3059\nkernel=image.bin    #\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u304c\u8aad\u307f\u8fbc\u3080\u30d5\u30a1\u30a4\u30eb\u540d\u3092image.bin\u306b\u5909\u66f4\u3002\u5358\u306bkernel.img\u3068\u3044\u3046\u540d\u524d\u304c\u5acc\u3060\u3063\u305f\u306e\u3067\u3002\u5225\u306b\u7121\u304f\u3066\u3082\u3044\u3044\u3067\u3059\u3002 \nhdmi_drive=2        #HDMI mode\u3002\u30b5\u30a6\u30f3\u30c9\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u306a\u3089\u51fa\u529b\u307e\u3067\u884c\u3046(baremetal\u3060\u3068\u305f\u3076\u30931\u3067\u3082OK\u3002HDMI\u306b\u97f3\u58f0\u51fa\u529b\u3059\u308b\u53e3\u304c\u4eca\u306e\u3068\u3053\u308d\u7121\u3044)\nhdmi_group=2        #DMT\u30e2\u30fc\u30c9\u3002HDMI\u306ePC\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306b\u63a5\u7d9a\u3059\u308b\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u3002CEA\u3067\u3082\u52d5\u304f\u3002\nhdmi_mode=4         #640x480 60Hz\u306e\u89e3\u50cf\u5ea6\u306b\u8a2d\u5b9a\u3002\u89e3\u50cf\u5ea6\u306f\u4f5c\u308a\u305f\u3044\u3082\u306e\u3001\u8da3\u5473\u306e\u554f\u984c\u3002\u4eca\u56de\u3044\u308d\u3044\u308d\u8a08\u7b97\u3057\u305f\u7d50\u679c640x480x32 60Hz\u3067\u306a\u3093\u304b\u4f5c\u308d\u3046\u3068\u3044\u3046\u3053\u3068\u306b\u3002\ndisable_pvt=1       #RAM\u306e\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30ec\u30fc\u30c8\u306e500ms\u7e1b\u308a\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\u8da3\u5473\u306e\u554f\u984c\u3002\ndisable_overscan=1  #\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u30aa\u30fc\u30d0\u30fc\u30b9\u30ad\u30e3\u30f3\u30e2\u30fc\u30c9\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\nforce_turbo=1       #GPU, SDRAM, CPU\u3092\u5168\u901f\u529b\u306e\u30af\u30ed\u30c3\u30af\u30e2\u30fc\u30c9\u306b\u3059\u308b\u3002\nfake_vsync_isr=1    #\u3053\u306e\u5f8c\u4f7f\u3046\u306f\u305a\u306e\u3001\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306b\u63cf\u3044\u305f\u5782\u76f4\u540c\u671f\u3092\u3068\u308b\u305f\u3081\u306b\u5fc5\u8981\u306b\u306a\u308b\u3002\n\nconfig.txt\u306f\u5272\u3068\u66f2\u8005\u3067\u3001\u30d6\u30fc\u30c8\u306e\u6319\u52d5\u3084\u30ec\u30b8\u30b9\u30bf\u306e\u6319\u52d5\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u30d9\u30a2\u30e1\u30bf\u30eb\u306e\u5834\u5408\u3001\u57fa\u672c\u306f\u5fc5\u8981\u306a\u4e8b\u4ee5\u5916\u306f\u8a18\u8f09\u3057\u306a\u3044\u3053\u3068\u304c\u91cd\u8981\u3002\u3064\u307e\u3089\u3093\u3053\u3068\u3067\u6642\u9593\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3042\u3068\u306f\u4ed6\u306e\u30b5\u30a4\u30c8\u306b\u3042\u308bstart.elf, bootcode.bin\u306f\u7d76\u5bfe\u306b\u4f7f\u308f\u306a\u3044\u3053\u3068\u3067\u3059\u3002\n\u53e4\u3044\u3060\u3051\u3058\u3083\u306a\u304f\u666e\u901a\u306b\u8d77\u52d5\u3057\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\u307e\u3060\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\u304c\u3001config.txt\u306b\u8a18\u8f09\u3057\u3066\u3042\u308bimage.bin\u3092\u751f\u6210\u3057\u3066\u30d9\u30a2\u30e1\u30bf\u30eb\u3057\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u8d77\u52d5\u3057\u306a\u3044\u5834\u5408\nLED\u30e9\u30f3\u30d7\u304c\u30c1\u30ab\u30c1\u30ab\u3059\u308b\u3002\u30c1\u30ab\u30c1\u30ab\u30d1\u30bf\u30fc\u30f3\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\nhttp://elinux.org/R-Pi_Troubleshooting\n3 flashes: loader.bin not found\n4 flashes: loader.bin not launched\n5 flashes: start.elf not found\n6 flashes: start.elf not launched\n7 flashes: kernel.img not found\n\nFirmware since 20th October 2012 no longer requires loader.bin, and the flashes mean:\n3 flashes: start.elf not found\n4 flashes: start.elf not launched\n7 flashes: kernel.img not found\n8 flashes: SDRAM not recognised. You need newer bootcode.bin/start.elf firmware.\n\n\u4e0a\u8a18\u3067RaspberryPI\u306e\u8d77\u52d5\u5931\u6557\u8981\u56e0\u304c\u5927\u4f53\u308f\u304b\u308a\u307e\u3059\u3002\n\n[LED\u306e\u30c1\u30ab\u30c1\u30ab\u306b\u3064\u3044\u3066\u82e5\u5e72\u88dc\u8db3]\n\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u304c\u8d77\u52d5\u3059\u308b\u3068\u3069\u3046\u3084\u3089GPU\u5074\u3067vcos(VideoCoreOS?)\u3068\u3044\u3046\u306e\u304c\u7acb\u3061\u4e0a\u304c\u3063\u305f\u72b6\u614b\u306b\u306a\u3063\u3066\u3001\nrpi\u306e\u30e1\u30a4\u30f3\u306e\u30b3\u30a2\u304b\u3089\u306fmailbox\u3068\u3044\u3046\u4ed5\u7d44\u307f\u3067\u901a\u4fe1\u3092\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059(\u5f8c\u8ff0)\nmailbox\u306e\u4ed5\u69d8\u306e\u4e2d\u3067\u3001HDMI\u306b\u95a2\u3059\u308b\u4ed5\u69d8\u304c\u5b58\u5728\u3059\u308b\u304c\u3001\u5909\u306aconfig.txt\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u3068\u30018 flashes\u306e\u72b6\u614b\u306b\u306a\u308b\u3002\n\u63a8\u6e2c\u306e\u57df\u3092\u51fa\u306a\u3044\u3051\u3069\u3001vcos\u306euserland\u3067\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\nhttps://github.com/raspberrypi/userland/blob/master/interface/vcos/generic/vcos_abort.c\n\u3064\u307e\u308avcos\u5074\u304cabort\u306b\u306a\u3063\u305f\u5834\u5408\u3067\u30828 flashes\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u304c\u3042\u308a\u307e\u3059\u3002\n\u305f\u3044\u3057\u3066\u539f\u56e0\u308f\u304b\u3089\u3093\u306a\u3002\n\n\u25a0 Bare Metal : \u30d6\u30fc\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u25a0\n\u307e\u305a\u3001\u57fa\u672c\u3068\u306a\u308b\u30d9\u30fc\u30b9\u306e\u30b5\u30f3\u30d7\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f \u21d2 rpi2_boot1.zip\nfirmware\u306f\u3001\u6b63\u5e38\u306b\u8d77\u52d5\u3057\u305f\u3089\u76f4\u8fd1\u306e\u30d6\u30fc\u30c8\u306e\u305f\u3081\u306b\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\nkernel.img(image.bin)\u3092SD\u30ab\u30fc\u30c9\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3067\nSDRAM\u306e0x8000\u306b\u66f8\u304d\u8fbc\u307f\u3001PC\u3092Jump\n\n\u958b\u59cb\u30a2\u30c9\u30ec\u30b9\u306fconfig.txt\u3067\u3082\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u30010x8000\u306b\u3057\u3066\u304a\u3044\u3066\u3082\u5225\u306b\u5341\u5206\u3058\u3083\u308d\u3046\u3002\n\u79c1\u304c\u66f8\u3044\u305f\u5fc5\u8981\u306a\u30d6\u30fc\u30c8\u30b3\u30fc\u30c9\u306f\u30e1\u30e2\u30ea\u30de\u30c3\u30d7\u3092\u8a18\u8f09\u3059\u308b\u30ea\u30f3\u30ab\u30b3\u30fc\u30c9\u3068\u3001\n\u8d77\u52d5\u76f4\u5f8c\u306b\u30b9\u30bf\u30c3\u30af\u30ec\u30b8\u30b9\u30bf\u56de\u308a\u306a\u308a\u3092\u521d\u671f\u5316\u3057\u3066\u3001C\u30bd\u30fc\u30b9\u306b\u30b8\u30e3\u30f3\u30d7\u3059\u308b\u3082\u306e\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u5168\u90e8\u30a2\u30bb\u30f3\u30d6\u30e9\u3067\u66f8\u304f\u5fc5\u8981\u306f\u306a\u3044\u3067\u3059\u3002\n\u307e\u305f\u3001win\u306e\u30d0\u30c3\u30c1\u3067bin\u4f5c\u6210\u3059\u308b\u306e\u3067makefile\u66f8\u304f\u5fc5\u8981\u3082\u306a\u3044\u3002bat\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u3067\u5341\u5206\u3067\u3059\u3002\n\u66f8\u304d\u305f\u3044\u4eba\u306f\u66f8\u3044\u3066\u4fbf\u5229\u306b\u3059\u308b\u3068\u3044\u3044\u3058\u3083\u308d\u3046\u3002\n\u30b7\u30ea\u30a2\u30eb\u30dc\u30fc\u30c9\u3068\u3001USB\u304c\u3046\u307e\u304f\u3064\u306a\u304c\u3063\u3066\u308b\u306a\u3089\u3001\u4ee5\u4e0b\u306e\u901a\u308a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u307e\u3059\u3002\n\n\u30dc\u30fc\u30ec\u30fc\u30c8\u306f115200\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001TeraTerm\u5074\u3082\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u30b7\u30ea\u30a2\u30eb\u3067\u30c7\u30d0\u30c3\u30b0\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308c\u3070\u3044\u304b\u3088\u3046\u306b\u3067\u3082\u306a\u308b\u306e\u3067\u7d76\u5bfe\u306b\u6700\u521d\u306b\u3084\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u30c7\u30d0\u30c3\u30b0\u306e\u52b9\u7387\u304c\u683c\u6bb5\u306b\u9055\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001ELF\u3092\u751f\u6210\u3057\u3066\u30e1\u30e2\u30ea\u30de\u30c3\u30d7\u5410\u3044\u3066\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3068\u3046\u3063\u304b\u308a\u30df\u30b9\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u307e\u3067\u3067\u304d\u305f\u3089\u5f8c\u306f\u6839\u6c17\u306e\u554f\u984c\u3067\u3059\u3002\n\u79c1\u306e\u958b\u767a\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u7e70\u308a\u8fd4\u3057\u3092\u3057\u3066\u958b\u767a\u3057\u3066\u3044\u307e\u3059\u3002\n\u30fb\u30bd\u30fc\u30b9\u3092\u66f8\u304f\u3002\n\u30fb\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u30d0\u30a4\u30ca\u30ea\u3092\u751f\u6210\u3002\n\u30fbSD\u30ab\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3059\u308b\n\u30fbSD\u30ab\u30fc\u30c9\u3092rpi\u306b\u5dee\u3057\u8fbc\u3093\u3067USB\u3067\u96fb\u6e90\u3092\u5165\u308c\u308b\n\u30fb\u30b7\u30ea\u30a2\u30eb\u3068\u753b\u9762\u3092\u78ba\u8a8d\u3059\u308b\n\u30fb\u6700\u521d\u306b\u623b\u308b\n\n\u79c1\u306f\u4e0a\u8a18\u3092\u9069\u5f53\u306aWindows\u306e\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u3044\u3066\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\nmake\u81ea\u4f53\u306f\u3067\u304b\u304f\u306a\u3044\u306e\u3067\u6570\u79d2\u3067\u7d42\u308f\u308b\u3002\u3042\u3068\u306fSD\u30ab\u30fc\u30c9\u3092\u30ab\u30fc\u30c9\u30ea\u30fc\u30c0\u30fc\u306b\u63a5\u7d9a\u3057\u3066\u30b3\u30d4\u30fc(\u3053\u308c\u3082\u30c9\u30e9\u30a4\u30d6\u56fa\u5b9a\u3067\u30d0\u30c3\u30c1\u305f\u305f\u304f\u3060\u3051\u3067OK\u306b\u3057\u3066\u304a\u304f)\u3057\u3066\u3001\nrpi\u306b\u3055\u3057\u3053\u3093\u3067\uff5e\u306e\u624b\u9806\u3092\u4f55\u5ea6\u3082\u884c\u3048\u3070OK\u3067\u3059\u3002\n\u901a\u5e38\u30af\u30ed\u30b9\u958b\u767a\u306a\u3089\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u3084ICE(\u3068\u3044\u3046\u53e4\u3044\u306e\u3082\u3042\u308b)\u4f7f\u3044\u307e\u3059\u304c\u3001\n\u4ecarpi\u3067\u3084\u308a\u305f\u3044\u3053\u3068\u306fV3D\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u753b\u50cf\u3092\u51fa\u3059\u3053\u3068\u3067\u3059\u3002\u3067\u3001\u500b\u4eba\u3067\u624b\u306b\u5165\u308b\u3088\u3046\u306a\u30af\u30ed\u30b9\u958b\u767a\u74b0\u5883\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\u5b9f\u6a5f\u3067\u3072\u305f\u3059\u3089\u30c8\u30e9\u30a4\u30a2\u30f3\u30c9\u30a8\u30e9\u30fc\u3092\u7e70\u308a\u8fd4\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u5e78\u3044rpi\u306f\u30d6\u30fc\u30c8\u56de\u308a\u304c\u5805\u7262\u306b\u3067\u304d\u3066\u3044\u308b\u306e\u3067\u3001\u713c\u304d\u30df\u30b9\u3063\u305f\u308a\u3057\u3066\u3082\nSD\u30ab\u30fc\u30c9\u3092\u5b9c\u3057\u304f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3059\u308c\u3070\u5fa9\u5e30\u3059\u308b\u306e\u3067\u30c0\u30e1\u30fc\u30b8\u306f\u304b\u306a\u308a\u5c0f\u3055\u3044\u3067\u3059\u3002\n\u3082\u3061\u308d\u3093\u8a73\u3057\u3044\u4eba\u306f\u30b7\u30ea\u30a2\u30eb\u304b\u3089\u30d0\u30a4\u30ca\u30ea\u3092\u66f8\u304d\u8fbc\u3080\u5358\u7d14\u306a\u30b3\u30de\u30f3\u30c9(\u30c0\u30a6\u30f3\u30ed\u30fc\u30c0)\u3092\u81ea\u4f5c\u3057\u3066\u3001\nCPU\u30ec\u30b8\u30b9\u30bf\u3092\u5168\u90e8\u30ea\u30bb\u30c3\u30c8\u3057\u3066\u3001SDRAM\u5074\u306b\u5c55\u958b\u3057\u3066\u30b8\u30e3\u30f3\u30d7\u3059\u308b\u306e\u7e70\u308a\u8fd4\u3057\u3067\u3001\u7269\u7406\u64cd\u4f5c\u306a\u3057\u3067\u958b\u767a\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u9ad8\u901f\u5316\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u3053\u3053\u306f\u8da3\u5473\u3068\u958b\u767a\u901f\u5ea6\u3068\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u3068\u306a\u308a\u307e\u3059\u3002\u30c0\u30a6\u30f3\u30ed\u30fc\u30c0\u306f\u8a2d\u8a08\u304c\u91cd\u8981\u306a\u306e\u3067\u3001\u9069\u5f53\u306b\u4f5c\u308b\u3068\u3055\u3063\u304f\u308a\u52d5\u4f5c\u3057\u3066\u304f\u308c\u306a\u3044\u8a8d\u8b58\u3067\u3059\u3002\n\u304c\u3001\u4f5c\u308b\u306e\u304c\u5f97\u610f\u306a\u65b9\u306f\u305c\u3072\u3068\u3082\u81ea\u4f5c\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30c8\u30e9\u30d6\u30eb\n\n\uff20\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u304c\u52d5\u4f5c\u3057\u306a\u3044\n\u30ec\u30b8\u30b9\u30bf\u306e\u8a2d\u5b9a\u304c\u9593\u9055\u3063\u3066\u308b\u306e\u3067\u898b\u76f4\u3059\u3053\u3068\u3002\n\uff20\u7126\u3052\u81ed\u3044\u3001\u713c\u3044\u3066\u3057\u307e\u3063\u305f\n\u706b\u4e8b\u3067\u3059\u3002\u6ce8\u610f\u3057\u307e\u3057\u3087\u3046\u3002\u30b7\u30ea\u30a2\u30eb\u5909\u63db\u30dc\u30fc\u30c9\u306e\u30ec\u30d9\u30eb\u5909\u63db\u304c\u6b63\u3057\u304f\u306a\u3044\u3068\u30dc\u30fc\u30c9\u3092\u713c\u3044\u3066\u3057\u307e\u3046\u3002RPI\u5074\u306f3.3V\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002\n\u5909\u63db\u30dc\u30fc\u30c9\u306e\u30c7\u30a3\u30c3\u30d7\u306f\u7d76\u5bfe\u306b\u6ce8\u610f\u3057\u306a\u304c\u3089\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002\n\uff20\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u3054\u307f\u3057\u304b\u3067\u306a\u3044\n2\u3064\u539f\u56e0\u5019\u88dc\u304c\u3042\u308a\u305d\u3046\u3002\n(1) \u30ec\u30b8\u30b9\u30bf\u8a2d\u5b9a\u304c\u5408\u3063\u3066\u3044\u306a\u3044 -> \u30ec\u30b8\u30b9\u30bf\u8a2d\u5b9a\u3092\u898b\u76f4\u3059\u3053\u3068\n(2) \u30bf\u30fc\u30df\u30ca\u30eb\u5074\u306e\u30dc\u30fc\u30ec\u30fc\u30c8\u304c\u5408\u3063\u3066\u3044\u306a\u3044 -> \u30bf\u30fc\u30df\u30ca\u30eb\u5074\u306e\u30dc\u30fc\u30ec\u30fc\u30c8\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\u5024\u306b\u3057\u3066\u307f\u308b(\u30b5\u30f3\u30d7\u30eb\u306f115200)\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3002\n\n\n\uff20\u8d77\u52d5\u3059\u3089\u3057\u306a\u3044\n\nstart.elf, bootcode.bin, config.txt\u304c\u306a\u3044\u53ef\u80fd\u6027\u3068\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u3082\u3042\u308b\u3002\n\u6700\u521d\u304b\u3089\u624b\u9806\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u25a0mailbox\u306b\u3064\u3044\u3066\u25a0\nmailbox\u3068\u547c\u3070\u308c\u308bGPU\u3068\u306e\u3084\u308a\u53d6\u308a\u306b\u4f7f\u308f\u308c\u308b\u4ed5\u7d44\u307f\u304c\u3042\u308a\u307e\u3059\u3002\n\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u30a2\u30c9\u30ec\u30b9\u3001\u30c6\u30af\u30b9\u30c1\u30e3\u30de\u30c3\u30d4\u30f3\u30b0\u306b\u4f7f\u3046VRAM\u306e\u78ba\u4fdd\u306a\u3069\u306f\n\u3059\u3079\u3066\u3053\u306emailbox\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u4f7f\u3044\u307e\u3059\u3002\nhttps://github.com/raspberrypi/firmware/wiki/Mailbox-property-interface\n\u30a2\u30af\u30bb\u30b9\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30ec\u30b8\u30b9\u30bf\u30a2\u30af\u30bb\u30b9\u3067\u3084\u308a\u53d6\u308a\u3057\u307e\u3059\u3002\nhttps://github.com/raspberrypi/firmware/wiki/Accessing-mailboxes\nBoot\u3067\u4f7f\u3063\u305f\u30bd\u30fc\u30b9\u306emailbox.c\u306b\u5177\u4f53\u7684\u306a\u65b9\u6cd5\u304c\u8a18\u8f09\u3057\u307e\u3057\u305f\u3002\u3088\u308d\u3057\u3051\u308c\u3070\u53c2\u8003\u306b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n16byte-align\u3055\u308c\u305f\u9069\u5f53\u306a\u9818\u57df\u306b\u4e0a\u8a18\u306e\u30b5\u30a4\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u30b3\u30de\u30f3\u30c9\u3092\u66f8\u304d\u8fbc\u307f\nARM\u306e\u30a2\u30c9\u30ec\u30b9\u304b\u3089VC\u306e\u30a2\u30c9\u30ec\u30b9\u3078\u30b2\u30bf\u3092\u5c65\u304b\u305b\u305f\u30dd\u30a4\u30f3\u30bf\u3092\u4f5c\u6210\u3057\u3066\nmailbox\u306e\u66f8\u304d\u8fbc\u307f\u30ad\u30e5\u30fc\u30a2\u30c9\u30ec\u30b9\u306b\u66f8\u304d\u8fbc\u3093\u3067\nmailbox\u306e\u30ec\u30b9\u30dd\u30f3\u30b9(\u7d50\u679c)\u3092\u5f85\u3064\n\nmailbox\u3068\u306e\u3042\u3089\u3086\u308b\u30c7\u30fc\u30bf\u306e\u3084\u308a\u53d6\u308a\u306f\u4e0a\u8a18\u3092\u7e70\u308a\u8fd4\u3057\u307e\u3059\u3002\n\n\u25a0\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u5f97\u3057\u3066\u7d75\u3092\u51fa\u3059\u25a0\nGPU\u5074\u3068\u901a\u4fe1\u3057\u3066\u3001\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u53d6\u5f97\u306f\u672c\u5bb6\u30b5\u30a4\u30c8\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\nMailbox-framebuffer-interface\nhttps://github.com/RaspberryPI/firmware/wiki/Mailbox-framebuffer-interface\n\u7279\u306b\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u5834\u5408\u3001\u3059\u3067\u306b\u56fa\u5b9a\u3067\u6a5f\u80fd\u304c\u5272\u308a\u632f\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u4e00\u767a\u3067\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u304c\u53d6\u308c\u307e\u3059\u3002\n\u203b\n\u5b9f\u306f\u9069\u5f53\u306bfirmware\u30ea\u30ea\u30fc\u30b9\u3092\u898b\u308b\u3068\u3053\u306e\u6a5f\u80fd\u306fdeprecated\u3089\u3057\u3044\u3067\u3059\u304c\u3001\u4e0b\u4f4d\u4e92\u63db\u6027\u306e\u305f\u3081\u306b\u4ed5\u7d44\u307f\u3092\u6b8b\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\u30bd\u30fc\u30b9\u5931\u5ff5\u3002\u6bd4\u8f03\u306e\u305f\u3081\u306b\u4e0a\u8a18\u6a5f\u80fd\u3068framebuffer\u3092\u5225\u500b\u53d6\u308b\u65b9\u6cd5\u3067\u901f\u5ea6\u3084\u624b\u9593\u3092\u898b\u307e\u3057\u305f\u304c\u3001\u4e0a\u8a18\u306e\u4e00\u767a\u53d6\u5f97\u306e\u65b9\u304c\u826f\u3055\u305d\u3046\u3067\u3059\u3002\u697d\u3002\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u3067\u306f\u30af\u30e9\u30b7\u30ab\u30eb\u306aXOR\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u8a08\u7b97\u3057\u3066\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\u7c21\u5358\u306b\u3059\u308b\u305f\u3081\u306b\u4ee5\u4e0b\u306eI/F\u3092mailbox\u306e\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u306b\u66f8\u3044\u3066\u307e\u3059\u3002\nmailbox_fb_init : \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u521d\u671f\u5316\nmailbox_fb_ptr : \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u5148\u982d\u30dd\u30a4\u30f3\u30bf(VideoCore\u5074)\u53d6\u5f97\n\n\u4ee5\u4e0b\u306e\u901a\u308a\u7d75\u304c\u51fa\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u3053\u3053\u307e\u3067\u6765\u308c\u3070\u5272\u3068\u3044\u308d\u3044\u308d\u3067\u304d\u307e\u3059\u3002\n\n\u25a0\u30dd\u30ea\u30b4\u30f3\u51fa\u3059\u305f\u3081\u306e\u6982\u8981\u25a0\n\u8aac\u660e\u306b\u4f7f\u3046\u30bd\u30fc\u30b9 -> http://gyabo.sakura.ne.jp/prog/RPI2_TRIANGLE_DEMO5.zip\n\u3055\u3066\u3001\u4e0b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u306e\u3067\u3001VideoCore VI(GPU)\u3067\u30c6\u30af\u30b9\u30c1\u30e3\u4ed8\u304d\u30dd\u30ea\u30b4\u30f3\u3092\u51fa\u3059\u305f\u3081\u306e\u624b\u9806\u3092\u6574\u7406\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u624b\u9806\u3068\u306a\u308a\u307e\u3059\u3002\n(1) QPU\u3092\u6709\u52b9\u306b\u3059\u308b(\u305d\u3046\u3057\u306a\u3044\u3068V3D\u306e\u30ec\u30b8\u30b9\u30bf\u304c\u898b\u3048\u306a\u3044)\n(2) \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u3092\u53d6\u5f97\u3059\u308b(\u524d\u8ff0)\n(3) V3D_L2CACTL\u3067L2\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6709\u52b9\u306b\u3059\u308b \u203b\u5358\u306b\u30dd\u30ea\u30b4\u30f3\u3060\u3051\u51fa\u3057\u305f\u3044\u306a\u3089\u4e0d\u8981\n(4) \u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4f5c\u6210\u3057\u3066\u8ee2\u9001 \u203b\u5358\u306b\u30dd\u30ea\u30b4\u30f3\u3060\u3051\u51fa\u3057\u305f\u3044\u306a\u3089\u4e0d\u8981\n\nwhile {\n  (5) binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a(\u30bf\u30a4\u30eb\u6570\u3001Viewport\u8a2d\u5b9a\u3001MSAAx4\u306e\u8a2d\u5b9a\u3001\u9802\u70b9\u30d0\u30c3\u30d5\u30a1\u306e\u8a2d\u5b9a\u306a\u3069)\n  (6) rendering\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a(\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u5bfe\u8c61\u306e\u9818\u57df\u3078binning\u3067\u5f97\u3089\u308c\u305f\u60c5\u5831\u3092\u3069\u306e\u30bf\u30a4\u30eb\u306b\u5272\u308a\u5f53\u3066\u308b\u304b\u306e\u30ea\u30f3\u30af\u30ea\u30b9\u30c8\u3092\u4f5c\u6210)\n  (7) binning\u51e6\u7406\u767a\u884c(binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u51e6\u7406)\n  (8) rendering\u51e6\u7406\u767a\u884c(rendering\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u51e6\u7406)\n  (9) \u516c\u5f0f\u63d0\u4f9b\u306efake_isr\u3067vsync\u3092\u53d6\u308b\n}\n\n\u203b\n(7), (8)\u306f\u9045\u5ef6\u3055\u305b\u3066\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u304c\u3001\u7c21\u4fbf\u306e\u305f\u3081\u306b\u3053\u306e\u624b\u9806\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u3067\u306f\u4e0a\u8a18\u306e\u9762\u5012\u51e6\u7406\u3092\u3001mailbox.h\u3068\u3001v3d.h\u306e\u30d8\u30c3\u30c0\u306b\u8a70\u3081\u3066\u307e\u3059\u3002\n\u307e\u3060\u304b\u306a\u308a\u751f\u66f8\u304d\u306e\u72b6\u614b\u3067\u898b\u3065\u3089\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001PDF\u3068\u4f75\u305b\u3066\u53c2\u8003\u306b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n1\u30641\u3064\u89e3\u8aac\u3057\u307e\u3059\u3002\n\n\u25a0(1) QPU\u3092\u6709\u52b9\u306b\u3059\u308b(\u305d\u3046\u3057\u306a\u3044\u3068V3D\u306e\u30ec\u30b8\u30b9\u30bf\u304c\u898b\u3048\u306a\u3044)\u25a0\n\u30b5\u30f3\u30d7\u30eb\u306e\u95a2\u6570 : mailbox_qpu_enable \u3092\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n//https://github.com/phire/hackdriver/blob/master/test.cpp\nuint32_t mailbox_qpu_enable() {\n    int i  = 0;\n    p[i++] = 0;          // size\n    p[i++] = 0x00000000; // process request\n    p[i++] = SET_CLOCK_RATE; // (the tag id)\n    p[i++] = 0x00000008; // (the tag id)\n    p[i++] = 0x00000008; // (the tag id)\n    p[i++] = 5;          // V3D\n    p[i++] = 250 * 1000 * 1000;\n    p[i++] = ENABLE_QPU;    // (the tag id)\n    p[i++] = 4;          // (size of the buffer)\n    p[i++] = 4;          // (size of the data)\n    p[i++] = 1;\n    p[i++] = 0x00000000; // end tag\n    p[0]   = i * sizeof(uint32_t); // actual size\n\n    do {\n        mailbox_write(MAILBOX_ARM_TO_VC, ArmToVc((void *)p));\n        mailbox_read(MAILBOX_ARM_TO_VC);\n        if(p[1] == 0x80000000) {\n            break;\n        }\n        uart_debug_puts(\"mailbox_qpu_enable FAILED p[1]=\\n\", p[1]);\n    } while(1);\n    uart_debug_puts(\"mailbox_qpu_enable OK \\n\", p[1]);\n    return p[1];\n\n}\n\n\u2191\n\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\u516c\u5f0f\u306b\u306f\u5168\u304f\u66f8\u3044\u3066\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u4e0a\u8a18\u51e6\u7406\u304c\u7121\u3044\u3068QPU\u306e\u30ec\u30b8\u30b9\u30bf\u306b\u5168\u304fRead/Write\u3067\u304d\u307e\u305b\u3093\u3002\n\u3053\u308c\u306f\u8d77\u52d5\u76f4\u5f8c\u4e00\u56de\u3084\u308c\u3070OK\u3067\u3059\u3002\u5c1a\u3001\u30bd\u30d5\u30c8\u30ea\u30bb\u30c3\u30c8\u76f4\u5f8c\u3060\u3068Read/Write\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\n\u96fb\u6e90\u3092\u5b8c\u5168\u306b\u5207\u3063\u305f\u5f8c\u3060\u3068NG\u3067\u3042\u308b\u4e8b\u304c\u308f\u304b\u3063\u3066\u3044\u307e\u3059\u3002\u8d77\u52d5\u6bce\u306b\u3084\u308a\u307e\u3057\u3087\u3046\u3002\n\n\u25a0(2) \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u3092\u53d6\u5f97\u3059\u308b\u25a0\n\u524d\u8ff0\u306e\u901a\u308amailbox\u7d4c\u7531\u3067\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308a\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u306e\u95a2\u6570 : mailbox_fb_init\u3092\u53c2\u8003\u306b\u4ee5\u4e0b\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002\nint32_t mailbox_fb_init(uint32_t w, uint32_t h) {\n    volatile mailbox_fb *fb = mailbox_fb_getaddr();\n    fb->width   = w;\n    fb->height  = h;\n    fb->vwidth  = fb->width;\n    fb->vheight = fb->height;\n    fb->pitch   = 0;\n    fb->depth   = 32;\n    fb->x       = 0;\n    fb->y       = 0;\n    fb->pointer = 0;\n    fb->size    = 0;\n\n    int count = 0;\n    do {\n        mailbox_write(MAILBOX_FRAMEBUFFER, ArmToVc((void *)fb));\n        mailbox_read(MAILBOX_FRAMEBUFFER);\n        if(fb->pointer) {\n            break;\n        }\n        count++;\n        usleep(0x1000);\n        uart_debug_puts(\"MAILBOX_FRAMEBUFFER count=\\n\", count);\n    } while(1);\n    is_fb_init = 1;\n    return 0;\n}\n\n\n\u25a0V3D_L2CACTL\u3067L2\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6709\u52b9\u306b\u3059\u308b\u25a0\n\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4f7f\u3046\u305f\u3081\u306b\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\u7406\u7531\u3067\u3059\u304c\u3001\u516c\u5f0fPDF\u306e\nSection 2: Architecture Overview -> Figure 1:  VideoCore\u00ae IV 3D System Block Diagram\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nL2 CACHE\u7d4c\u7531\u3067TMU\u306b\u30c7\u30fc\u30bf\u304c\u5404QPU\u306b\u6e21\u3055\u308c\u307e\u3059\u3002\u6982\u8981\u306f\u4ee5\u4e0b\u629c\u7c8b\u3002\nThere is nominally one Texture and Memory lookup Unit (TMU) per slice, but texturing performance can be scaled by adding TMUs.\nDue to the use of multiple slices, the same texture will appear in more than one TMU. Each texture unit has a small L1 cache.\nThere is an L2 cache (L2C) shared between all texture units\n\n\n\u25a0(4) \u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4f5c\u6210\u3057\u3066\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8a2d\u5b9a\u3057\u3066\u30e1\u30e2\u30ea\u306b\u683c\u7d0d\u25a0\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4f5c\u6210\u3001\u30e1\u30e2\u30ea\u306b\u683c\u7d0d\u3057\u307e\u3059\n\n\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4ed5\u69d8\u306b\u5f93\u3063\u3066\u4f5c\u6210\nmailbox\u7d4c\u7531\u3067\u30c6\u30af\u30b9\u30c1\u30e3\u7528\u306e\u30e1\u30e2\u30ea\u3092\u53d6\u5f97(\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3060\u3068handle\u3068\u3044\u30464byte\u306e\u30a2\u30c9\u30ec\u30b9\u304c\u53d6\u308c\u308b)\n\u30a2\u30c9\u30ec\u30b9\u3092VideoCore\u30a2\u30c9\u30ec\u30b9\u304b\u3089ARM\u5074\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u63db\nshader\u306b\u6e21\u3059uniform\u306e\u30a2\u30c9\u30ec\u30b9\u3092V3D\u306b\u8a2d\u5b9a\n\u30c6\u30af\u30b9\u30c1\u30e3\u306eMINFILTER, MAGFILTER\u306eON/OFF\u8a2d\u5b9a\n\n\n\u25c6\u30c6\u30af\u30b9\u30c1\u30e3\u306e\u30e1\u30e2\u30ea\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\u3055\u3066\u3001\u307e\u305a\u30c6\u30af\u30b9\u30c1\u30e3\u3067\u3059\u304c\u3001\u516c\u5f0fPDF\u306eSection 11: Texture Memory Format\u306b\u3088\u308b\u3068\u3001microtile\u3068\u3044\u3046\u5358\u4f4d\u3067\u6271\u308f\u308c\u307e\u3059\u3002\n\u203b\u56f3\u3092\u629c\u7c8b\n\n\u3053\u306emicrotile\u3092\u6c7a\u307e\u3063\u305f\u9806\u5e8f\u3067\u4e26\u3079\u305f1kByte\u5206\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u4ee5\u4e0b\u3067\u3059(T-FORMAT\u3068\u3044\u3044\u307e\u3059\u3002PDF\u629c\u7c8b)\n\u203b\u56f3\u3092\u629c\u7c8b\n\n\u3048\u3089\u3044\u3081\u3093\u3069\u304f\u3055\u3044\u3067\u3059\u304c\u3001\u4ed5\u69d8\u4e0aTMU\u304b\u3089\u30d5\u30a7\u30c3\u30c1\u3059\u308b\u753b\u50cf\u30d4\u30af\u30bb\u30eb\u30c7\u30fc\u30bf\u306f\u4e0a\u8a18\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067GPU\u306b\u6e21\u3055\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\u3053\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3058\u3083\u306a\u3044\u3068\u610f\u56f3\u3057\u305f\u30d4\u30af\u30bb\u30eb\u306e\u4e26\u3073\u306b\u306a\u308a\u307e\u305b\u3093\u3002\n\u79c1\u306f\u9762\u5012\u3060\u3063\u305f\u306e\u3067LUT\u3092\u4f7f\u3063\u3066256x256\u306b\u9650\u5b9a\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u753b\u50cf\u3092\u6d41\u3057\u8fbc\u3080\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u306fmicrosoft\u306e\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u306e\u4ee5\u4e0b\u306e\u4ed5\u7d44\u307f\u3092\u6539\u9020\u3057\u3066\u4f5c\u308a\u307e\u3057\u305f\u3002\nhttps://github.com/Microsoft/graphics-driver-samples/blob/34b95fae7e6ec84b9d08ebd35be8a557555e7ed8/render-only-sample/rosumd/RosUmdResource.cpp#L426\n\u6b21\u306b\u30c6\u30af\u30b9\u30c1\u30e3\u30e1\u30e2\u30ea\u78ba\u4fdd\u306e\u8a71\u3067\u3059\u3002\u8a73\u3057\u3044\u8a71\u306f\u516c\u5f0fPDF\u306e\u300cTexture and Memory Lookup Unit Setup\u300d\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u306e : mailbox_allocate_memory\u3067\u884c\u3044\u307e\u3059\u3002\u6ce8\u610f\u304c\u3042\u3063\u3066\u3001mem_align=4kbyte\u5358\u4f4d\u3067\u78ba\u4fdd\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u203b\u516c\u5f0fPDF\u300cTexture Base Pointer (in multiples of 4Kbytes)\u300d\u3088\u308a\n\u30b5\u30f3\u30d7\u30eb\u3067\u306f256 x 256 x 4\u306e\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u6e21\u3059\u306e\u3067\u30014096 x 64 byte\u5206\u306e\u30e1\u30e2\u30ea\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u4f75\u305b\u3066\u3001PrimitiveDraw\u6642\u306b\u6e21\u3059uniform\u30a2\u30c9\u30ec\u30b9\u3067\u3001\u304b\u3064texture\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u5148\u982d32Byte x 2\u306e\u9818\u57df\u306f\nTexture Config Parameter0, 1\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n(\u203b\u3059\u307f\u307e\u305b\u3093\u3001\u3053\u306e\u8fba\u308a\u3082\u3063\u3068\u8aad\u307f\u8fbc\u3081\u308c\u3070\u3088\u304b\u3063\u305f\u306e\u3067\u6307\u6458\u304f\u3060\u3055\u3044)\n\u4e0a\u8a18\u3092\u8e0f\u307e\u3048\u3066\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u629c\u7c8b\u306f\u4ee5\u4e0b\u3067\u3059\u3002\nvoid V3DSetupTexture(V3DContext *ctx, uint32_t num, uint32_t width, uint32_t height, void *data) {\n    const uint32_t mem_align = 4096;\n\n    V3DTextureInfo *p = ctx->texture_info[num];\n    p->handle = mailbox_allocate_memory(4 * (width * height) + mem_align, mem_align, 0);\n    if(p->handle) {\n        p->addr = mailbox_lock_memory(p->handle);\n        p->uniform_param = p->addr;\n        p->addr = VcToArm(p->addr);\n        p->width = width;\n        p->height = height;\n\n        uint32_t *dest = (uint32_t  *)(p->addr + mem_align); //\u30e1\u30e2\u30ea\u30a2\u30e9\u30a4\u30f31\u3064\u5206\u96e2\u308c\u305f\u7b87\u6240\u304b\u3089\u30c6\u30af\u30b9\u30c1\u30e3\u304c\u59cb\u307e\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u3053\u308c\u306f\u9069\u5f53\u3002\n        uint32_t *src = (uint32_t  *)data;\n        uint32_t *param = (uint32_t *)p->addr;\n        param[0] = 0;\n        param[0] |= p->addr + mem_align; //\u30e1\u30e2\u30ea\u30a2\u30e9\u30a4\u30f31\u3064\u5206\u96e2\u308c\u305f\u7b87\u6240\u304b\u3089\u30c6\u30af\u30b9\u30c1\u30e3\u304c\u59cb\u307e\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u3053\u308c\u306f\u9069\u5f53\u3002\n\n        param[1] = 0;\n        param[1] |= ( (width ) << 8);\n        param[1] |= ( (height) << 20);\n        /*\n        param[1] |= (1 << 7); //MAGFILTER\u7121\u52b9\u306b\u306a\u308b\n        param[1] |= (1 << 4); //MINFILTER\u7121\u52b9\u306b\u306a\u308b\n        */\n        param[2]  = 0;\n        param[3]  = 0;\n\n        const uint16_t *table = GetLTFormat256x256(); //LUT\u3092\u4f7f\u3063\u3066RAW\u3092T-FORMAT\u306b\u5909\u63db\n        for(int i = 0 ; i < width * height; i++) {\n            uint32_t offset = table[i];\n            dest[i] = src[offset];\n        }\n\n        mailbox_unlock_memory(p->handle);\n    }\n}\n\n\u203b\u4e00\u756a\u9762\u5012\u3060\u3063\u305f\u3068\u3053\u308d\u3067\u3059\u2026\n\n\u25a0(5) binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a\u25a0\n\u203b\u3053\u3053\u304b\u3089\u8aac\u660e\u304c\u9813\u73cd\u6f22\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3059\u307f\u307e\u305b\u3093\u3002\n\u30bf\u30a4\u30eb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3GPU\u3067\u6709\u540d\u306a\u306e\u306fPowerVR\u30b7\u30ea\u30fc\u30ba\u304c\u3042\u308a\u307e\u3059\u3002\nhttps://imgtec.com/powervr/graphics/architecture/\n\u8a73\u7d30\u306fWiki\u306b\u8b72\u308a\u307e\u3059\u3002\nhttps://ja.wikipedia.org/wiki/PowerVR\nbinning\u306f\u3001\u753b\u9762\u3092\u30bf\u30a4\u30eb\u3068\u547c\u3070\u308c\u308b\u5c0f\u3055\u3044\u9762\u3067\u5206\u5272\u3057\u3066\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306e\u524d\u6e96\u5099\u3092\u884c\u3046phase\u3067\u3059\u3002\nrendering\u306fbinning\u3067\u4f5c\u6210\u3057\u305f\u60c5\u5831\u3092\u7528\u3044\u3066\u5b9f\u969b\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0(RAM\u306b\u30d4\u30af\u30bb\u30eb\u3092\u66f8\u304d\u51fa\u3057)\u3059\u308bphase\u3067\u3059\u3002\nVideoCoreIV\u306b\u304a\u3044\u3066binning, rendering\u3092\u884c\u3046\u305f\u3081\u306b\u306fV3D\u306eControlList\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\nControlList\u306fControlCode\u3068\u547c\u3070\u308c\u308b\u30b3\u30de\u30f3\u30c9\u306e\u30d0\u30a4\u30ca\u30ea\u5217\u3067\u69cb\u7bc9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3092V3D\u306ebinning\u5b9f\u884c\u7528\u30ec\u30b8\u30b9\u30bf\u3068\u3001rendering\u5b9f\u884c\u7528\u30ec\u30b8\u30b9\u30bf\u306b\u8a2d\u5b9a\u3057\u3066\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\n\u30b3\u30de\u30f3\u30c9\u5217\u3067\u6307\u5b9a\u3055\u308c\u305fRAM\u306e\u5148\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u7d50\u679c\u304c\u66f8\u304d\u51fa\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u30ab\u30f3\u306e\u826f\u3044\u65b9\u306f\u6c17\u3065\u3044\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001RAM\u306e\u5148 == \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306b\u3057\u3066\u3042\u3052\u308c\u3070\u753b\u9762\u4e0a\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3001\u3068\u3044\u3046\u308f\u3051\u3067\u3059\u3002\n\u516c\u5f0fPDF\u306eSection 9: Control Lists\u306b\u8a73\u7d30\u306a\u30b3\u30de\u30f3\u30c9\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u975e\u5e38\u306b\u591a\u3044\u306e\u3067\u3053\u3053\u3067\u306f\u30de\u30eb\u30b4\u30c8\u8a18\u8f09\u306f\u3057\u307e\u305b\u3093\u3002\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u3067\u306f\u5fc5\u8981\u306a\u524d\u51e6\u7406\u306f\u4ee5\u4e0b\u306e\u95a2\u6570\u306b\u5168\u90e8\u8a70\u3081\u307e\u3057\u305f\u3002\nv3d.c : V3DBeginScene\nv3d.c : V3DSetDrawPrimitive\nv3d.c : V3DEndScene\nv3d.c : V3DControlListSetupRendering \u203brendering\u3067\u89e3\u8aac\u3057\u307e\u3059\n\n\n\u5185\u90e8\u3067\u306f\u516c\u5f0fPDF\u306eControlLists\u306e\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u5024\u3092\u6c7a\u5b9a\u3057\u3001binning\u306b\u5fc5\u8981\u306a\u30b3\u30de\u30f3\u30c9\u3092\u4e26\u3079\u3066\n\u5f8c\u3067\u30ec\u30b8\u30b9\u30bf\u306b\u6e21\u3059\u9069\u5f53\u306a\u30e1\u30e2\u30ea\u306e\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u5f90\u3005\u306b\u8a70\u3081\u3066\u3044\u304d\u307e\u3059\u3002\u4e0a\u8a18\u3092\u4e26\u3079\u3066\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u3092\u884c\u3044\u307e\u3059\u3002\n\u30fbbinning\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3059\u30b3\u30de\u30f3\u30c9\u66f8\u304d\u8fbc\u307f\n\n\u30fbbinning\u3059\u308b\u305f\u3081\u306e\u30bf\u30a4\u30eb\u30b5\u30a4\u30ba\u3001\u30bf\u30a4\u30eb\u6570\u3001\u30bf\u30a4\u30eb\u306eWidth, Height\u6c7a\u5b9a\u3001binning\u306e\u7d50\u679c\u3092\u8ee2\u9001\u3059\u308b\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\n\n\u30fbbinning\u958b\u59cb\n\n\u30fb\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u8a2d\u5b9a(Viewport\u306e\u8a2d\u5b9a\u3001Viewport\u306e\u30aa\u30d5\u30bb\u30c3\u30c8)\n\n\u30fb\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306eCCW\u8a2d\u5b9a\n\n\u30fbMSAA\u6709\u52b9\u5316\n\n\u30fbbinning\u30b9\u30c6\u30fc\u30c8\u521d\u671f\u5316\n\n\u30fb\u4f5c\u6210\u3057\u305f\u30dd\u30ea\u30b4\u30f3\u306e\u9802\u70b9\u3001\u30b7\u30a7\u30fc\u30c0\u306e\u60c5\u5831(V3DShaderInfoFmt)\u3092\u8a2d\u5b9a\n\n\u30fb\u63cf\u753b\u3059\u308b\u30dd\u30ea\u30b4\u30f3\u306e\u9802\u70b9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u8a2d\u5b9a(\u30b5\u30f3\u30d7\u30eb\u3067\u306fglDrawArray\u3067\u63cf\u753b\u3059\u308b\u306e\u3068\u4e00\u7dd2\u306b\u3057\u3066\u3044\u307e\u3059)\n\n\u30fbbinning\u306eControlList\u306eFLUSH : \u5fc5\u9808\u3089\u3057\u3044\n\n\u30fbbinning\u306eControlList\u306e\u7d42\u4e86 : NOP\u51e6\u7406\u3067\u7d42\u308f\u308b\n\n\u30fbV3DControlListSetupRendering : \u6b21\u3067\u89e3\u8aac\u3057\u307e\u3059\n\n\n\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u3068\u4e0a\u8a18\u304c\u884c\u308f\u308c\u307e\u3059\u304c\u3001\u307e\u3060\u63cf\u753b\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002binning\u3092\u3059\u308b\u305f\u3081\u306e\u524d\u6e96\u5099\u3060\u3051\u3067\u3059\u3002\n\n\u25a0(6) rendering\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a\u25a0\nbinning\u540c\u69d8\u3001rendering\u7528\u306eControlList\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u3060\u3068\u95a2\u6570 : V3DControlListSetupRendering\u306b\u5168\u90e8\u8a70\u3081\u307e\u3057\u305f\u3002\n\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306eControlList\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\u30fbrendering\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3059\u30b3\u30de\u30f3\u30c9\u66f8\u304d\u8fbc\u307f\n\n\u30fbClearColor\u306e\u8272\u3092\u6c7a\u5b9a\n\n\u30fb\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306eWidth, Height, \u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\n\n\u30fbbinning\u3067\u66f8\u304d\u51fa\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u30bf\u30a4\u30eb\u6bce\u306b\u8a2d\u5b9a\u3059\u308b(\u4e01\u5be7\u306b\u30a2\u30c9\u30ec\u30b9\u8a08\u7b97\u3092\u884c\u3046)\n\n\u30fbrendering\u306eControlList\u306e\u7d42\u4e86 : NOP\u51e6\u7406\u3067\u7d42\u308f\u308b\n\n\n\u3053\u3053\u3067\u521d\u3081\u3066\u3069\u306e\u30bf\u30a4\u30eb\u304c\u3069\u306ebinning\u60c5\u5831\u3092\u4f7f\u7528\u3059\u308b\u304b\u304c\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002\n\u307e\u3060\u63cf\u753b\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002rendering\u3092\u3059\u308b\u305f\u3081\u306e\u524d\u6e96\u5099\u3060\u3051\u3067\u3059\u3002\n\n\u25a0(7) binning\u51e6\u7406\u767a\u884c(binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u51e6\u7406)\u25a0\n\u30b5\u30f3\u30d7\u30eb\u3060\u3068\u95a2\u6570 : V3DControlPresentBinning\u306b\u5168\u90e8\u8a70\u3081\u307e\u3057\u305f\u3002\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_BFC\u306b1\u3092\u66f8\u304d\u8fbc\u3093\u3067flush\u30ab\u30a6\u30f3\u30bf\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\n\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_CT0CA\u306bbinning\u306eControlList\u306e\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3059\n\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_CT0EA\u306bbinning\u306eControlList\u306e\u7d42\u4e86\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3059(\u3053\u306e\u6642\u70b9\u3067binning\u304c\u958b\u59cb\u3055\u308c\u308b)\n\n\u30fbV3D_BFC\u3092\u30dd\u30fc\u30ea\u30f3\u30b0\u3057\u3066\u3001flush\u3055\u308c\u305f\u304b\u76e3\u8996\u3059\u308b\n\n\n\u7d42\u308f\u3089\u306a\u3044\u5834\u5408(\u4f55\u304bbinning\u306e\u8a2d\u5b9a\u304c\u9593\u9055\u3063\u3066\u308b\u306a\u3069)\u3092\u60f3\u5b9a\u3057\u3066\u9069\u5f53\u306a\u30ab\u30a6\u30f3\u30bf\u3092\u8a2d\u3051\u3066\u3001\n\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306a\u4ed5\u7d44\u307f\u3092\u8a70\u3081\u3066\u3044\u307e\u3059\u3002\n\u7d42\u4e86\u3059\u308b\u3068\u3001\u300c(5) binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a\u300d\u3067\u8a2d\u5b9a\u3057\u305fbinning\u306e\u66f8\u304d\u51fa\u3057\u5148\u306e\u30a2\u30c9\u30ec\u30b9\u306b\nrendering\u7528\u306e\u30c7\u30fc\u30bf\u304c\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\u3002\n\n\u25a0(8) rendering\u51e6\u7406\u767a\u884c(rendering\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u51e6\u7406)\u25a0\n\u307e\u3060\u7d9a\u304d\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u3060\u3068\u95a2\u6570 : V3DControlPresentRendering\u306b\u5168\u90e8\u8a70\u3081\u307e\u3057\u305f\u3002\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_RFC\u306b1\u3092\u66f8\u304d\u8fbc\u3093\u3067flush\u30ab\u30a6\u30f3\u30bf\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\n\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_CT1CA\u306bbinning\u306eControlList\u306e\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3059\n\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_CT1EA\u306bbinning\u306eControlList\u306e\u7d42\u4e86\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3059(\u3053\u306e\u6642\u70b9\u3067rendering\u304c\u958b\u59cb\u3055\u308c\u308b)\n\n\u30fbV3D_RFC\u3092\u30dd\u30fc\u30ea\u30f3\u30b0\u3057\u3066\u3001flush\u3055\u308c\u305f\u304b\u76e3\u8996\u3059\u308b\n\n\n\u7d42\u308f\u3089\u306a\u3044\u5834\u5408(\u4f55\u304brendering\u306e\u8a2d\u5b9a\u304c\u9593\u9055\u3063\u3066\u308b\u306a\u3069)\u3092\u60f3\u5b9a\u3057\u3066\u9069\u5f53\u306a\u30ab\u30a6\u30f3\u30bf\u3092\u8a2d\u3051\u3066\u3001\n\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306a\u4ed5\u7d44\u307f\u3092\u8a70\u3081\u3066\u3044\u307e\u3059\u3002\n\u3054\u53c2\u8003\u307e\u3067\u306b\u3002\n\n\u3053\u306e\u51e6\u7406\u304c\u7d42\u308f\u3063\u3066\u521d\u3081\u3066\u76ee\u7684\u306eRAM\u306b\u30d4\u30af\u30bb\u30eb\u3068\u30dd\u30ea\u30b4\u30f3\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002\n\n\u304c\u3001\u307e\u3060vsync\u304c\u6b8b\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u25a0(9) \u516c\u5f0f\u63d0\u4f9b\u306efake_isr\u3067vsync\u3092\u53d6\u308b\u25a0\nvsync\u3001\u3064\u307e\u308a\u5782\u76f4\u540c\u671f\u3092\u3068\u308a\u307e\u3059\u3002\n[\u53c2\u8003]\nhttps://github.com/raspberrypi/firmware/issues/67\n\u516c\u5f0f\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u53c2\u8003\u306bvsync\u7528\u306e\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u4ee5\u4e0b\u306e\u901a\u308a\u3068\u306a\u308a\u307e\u3059\u3002\n\nvoid fake_vsync(void) {\n    //NEED config.txt -> fake_vsync_isr=1\n    IO_WRITE(IRQ_GPU_ENABLE2, IRQ_GPU_FAKE_ISR);\n    IO_WRITE(SMI_CS, 0);\n    while( (IO_READ(IRQ_GPU_PENDING2) & IRQ_GPU_FAKE_ISR) == 0 );\n}\n\n\n\u3053\u308c\u3067\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u5782\u76f4\u540c\u671f\u304c\u3067\u304d\u307e\u3059\u3002\n\u30ec\u30b8\u30b9\u30bf\u306fARM\u5074\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u306a\u304a\u3001firmware\u306f\u65b0\u3057\u3044\u306e\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002config.txt\u306efake_vsync_isr=1\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u3067\u3059\u3002\n\u521d\u671f\u306efirmware\u3060\u3068\u3053\u306e\u6a5f\u80fd\u304c\u7121\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\u3053\u308c\u3067\u521d\u3081\u30661\u30d5\u30ec\u30fc\u30e0\u63cf\u753b\u3067\u304d\u307e\u3059\u3002\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\u3002\n\n\u25a0\u305d\u306e\u4ed6 : \u9802\u70b9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u25a0\n\u516c\u5f0fPDF\u306eVPM Vertex Data Formats\u306b\u8a18\u8f09\u304c\u3042\u308a\u307e\u3059\u3002\n\u203b\u8cc7\u6599\u629c\u7c8b\n\nX\u5ea7\u6a19\u3068Y\u5ea7\u6a19\u306f\u56fa\u5b9a\u5c0f\u6570\u70b9\u306e\u7b26\u53f7\u4ed8\u304d\u6574\u6570\u3067\u3059\u300212bit\u304c\u5b9f\u6570\u90e8\u30014bit\u304c\u5c0f\u6570\u90e8\u3067\u6271\u3044\u307e\u3059(12.4)\n\u305d\u308c\u4ee5\u5916\u306f\u5168\u90e832bit\u6d6e\u52d5\u5c0f\u6570\u70b9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u3059\u3002\n\u6163\u308c\u3066\u3044\u308b\u65b9\u306b\u306f\u306a\u3093\u3060\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u4e0a\u306e(100, 100)\u306e\u9802\u70b9\u3092\u8868\u3059\u305f\u3081\u306b\u306f\nx = 100 << 4;\ny = 100 << 4;\n\u3068\u3057\u307e\u3059\u3002\u4e0a\u8a18\u306e\u5ea7\u6a19\u3092Xs, Ys\u306b\u6e21\u3057\u307e\u3059\u3002\n\u306a\u304a\u3001ARM\u3067\u6d6e\u52d5\u5c0f\u6570\u70b9\u3092\u4f7f\u3046\u5834\u5408VFP\u3092\u6709\u52b9\u306b\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\u30b5\u30f3\u30d7\u30eb\u3067\u306fboot.s\u3067\u30ec\u30b8\u30b9\u30bf\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u53c2\u8003\u307e\u3067\u306b\u3002\n\n\u25a0\u305d\u306e\u4ed6 : QPU\u306e\u30a2\u30bb\u30f3\u30d6\u30e9(\u4e8b\u5b9f\u4e0a\u306e\u30b7\u30a7\u30fc\u30c0)\u306b\u3064\u3044\u3066\u25a0\nQPU\u306e\u30a2\u30bb\u30f3\u30d6\u30e9\u306b\u3064\u3044\u3066\u306f\u4ed5\u69d8\u304c\u516c\u5f0fPDF\u306eQPU Instruction Encoding\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u8fba\u306f\u975e\u516c\u5f0f\u306a\u304c\u3089\u5f37\u529b\u306a\u30a2\u30bb\u30f3\u30d6\u30e9\u304c\u3042\u308b\u306e\u3067\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\nhttps://github.com/hermanhermitage/videocoreiv-qpu\nnodejs\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\u4f7f\u3044\u65b9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\nnode qpuasm.js \u30d5\u30a1\u30a4\u30eb\n\u3042\u3068\u306f\u516c\u5f0f\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30a2\u30bb\u30f3\u30d6\u30e9\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u6700\u9069\u5316\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\nhttp://qiita.com/9_ties/items/15ab7fa198991a61a3a9\n\u4eca\u56de\u306e\u30dd\u30ea\u30b4\u30f3\u63cf\u753b\u306b\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u30b7\u30f3\u30d7\u30eb\u306a\u30a2\u30bb\u30f3\u30d6\u30e9\u3092\u4ee5\u4e0b\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002\n# Assemble with qpuasm.js from github.com/hermanhermitage/videocoreiv-qpu\n\n.global entry\n\nentry:\n        #Red\u6210\u5206\u3092arying\u3067\u4f5c\u308b\n        mov  r0, vary   ; nop #varying\u30ec\u30b8\u30b9\u30bf\u306fQueue\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u8aad\u307f\u3060\u3059\u305f\u3073\u306bvarying\u6210\u5206\u304c\u53d6\u308c\u308b\n        fadd r0, r0, r5 ; nop; sbwait \n        nop             ; mov  r3.8a, r0\n\n        #Green\u6210\u5206\u3092Varying\u3067\u4f5c\u308b\n        mov  r0, vary   ; nop\n        fadd r0, r0, r5 ; nop\n        nop             ; mov  r3.8b, r0\n\n        #Blue\u6210\u5206\u3092Varying\u3067\u4f5c\u308b\n        mov  r0, vary   ; nop\n        fadd r0, r0, r5 ; nop\n        nop             ; mov  r3.8c, r0\n\n        #Alpha\u6210\u5206\u3092Varying\u3067\u4f5c\u308b\n        mov  r0, vary   ; nop\n        fadd r0, r0, r5 ; nop\n        nop             ; mov  r3.8d, r0\n\n        #UV\u5ea7\u6a19\u3092uniform\u304b\u3089\u53d6\u5f97\n        mov  r2, 0.0    ; nop\n        nop             ; mov  unif_addr, r2\n        mov  r2, 0.0    ; nop\n        nop             ; mov  unif_addr_rel, r2\n\n        #\u5b9f\u306f\u3053\u3053\u307e\u3067\u306e\u8a08\u7b97\u306f\u8aad\u307f\u98db\u3070\u3057\u3002\u5fc5\u8981\u306b\u5fdc\u3058\u3066tlbc\u306b\u5165\u308c\u3066\u8272\u3092\u51fa\u3059\n\n        #r0\u306b\u30dd\u30ea\u30b4\u30f3\u306eU\u5ea7\u6a19\u306e\u88dc\u9593\u4fc2\u6570\u3092\u304b\u3051\u3066U\u5ea7\u6a19\u3092\u7b97\u51fa\u3057\u3066\u683c\u7d0d\u3057\u3066\u304a\u304f\n        fmul r0, vary, ra15\n        fadd r0, r0, r5 ; nop\n\n        #r1\u306b\u30dd\u30ea\u30b4\u30f3\u306eV\u5ea7\u6a19\u306e\u88dc\u9593\u4fc2\u6570\u3092\u304b\u3051\u3066V\u5ea7\u6a19\u3092\u7b97\u51fa\u3057\u3066\u683c\u7d0d\u3057\u3066\u304a\u304f        \n        fmul r1, vary, ra15\n        fadd r1, r1, r5 ; nop\n\n        mov  t0t, r1    ; nop #V\u5ea7\u6a19\u3092\u30c6\u30af\u30b9\u30c1\u30e3\u30e6\u30cb\u30c3\u30c8\u306b\u8a2d\u5b9a\n        mov  t0s, r0    ; nop #U\u5ea7\u6a19\u3092\u30c6\u30af\u30b9\u30c1\u30e3\u30e6\u30cb\u30c3\u30c8\u306b\u8a2d\u5b9a\n        nop             ; nop ; ldtmu0 #UV\u30c7\u30fc\u30bf\u304cr4\u306b\u683c\u7d0d\u3055\u308c\u308b\u307e\u3067\u5f85\u3064\n        nop             ; nop ; sbwait\n\n        mov  tlbc, r4   ; nop; thrend # \u30bf\u30a4\u30eb\u30ab\u30e9\u30fc\u30d0\u30c3\u30d5\u30a1\u306br4\u306e\u30c6\u30af\u30b9\u30c1\u30e3\u8272\u3092\u8a70\u3081\u3066QPU\u30b9\u30ec\u30c3\u30c9\u7d42\u4e86\n        nop\n        nop             ; nop; sbdone # \u30bf\u30a4\u30eb\u30d0\u30c3\u30d5\u30a1\u3078\u306e\u64cd\u4f5c\u7d42\u4e86\u30b7\u30b0\u30ca\u30eb\u3092\u6295\u3052\u308b\n\n\nFragmentShader\u306eGLSL\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\nvarying vertex_uv;\nvoid main() {\n  vec4 texcolor = texture2D(vertex_uv);\n  gl_FragColor = vec4(texcolor);\n}\n\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u4e00\u82e6\u52b4\u3057\u3066\u3088\u3046\u3084\u304f\u8272\u304c\u51fa\u307e\u3059\u3002\nr5\u306e\u30ec\u30b8\u30b9\u30bf\u306a\u3069\u304c\u3069\u3046\u3044\u3046\u610f\u5473\u3057\u3066\u3044\u308b\u306e\u304b\u306f\u672c\u5bb6PDF\u306eQPU Core Pipeline\u3092\u7a74\u304c\u958b\u304f\u307b\u3069\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u203b\u629c\u7c8b\n\n\u25a0\u305d\u306e\u4ed6 : \u82e6\u52b4\u3057\u305f\u3068\u3053\u308d\u25a0\n\u30c7\u30d0\u30c3\u30b0\u3067\u3059\u3002\u30b7\u30ea\u30a2\u30eb\u304c\u306a\u304b\u3063\u305f\u3053\u308d\u306f\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u4e00\u90e8\u306b\nbitmap\u3067\u30c0\u30f3\u30d7\u7d50\u679c\u3092\u8868\u793a\u3057\u306a\u304c\u3089\u3084\u3063\u3066\u307e\u3057\u305f\u3002\n\u3060\u3093\u3060\u3093\u3081\u3093\u3069\u304f\u3055\u304f\u306a\u3063\u3066\u304d\u3066\u7d50\u5c40\u30b7\u30ea\u30a2\u30eb\u30dc\u30fc\u30c9\u3092\u6ce8\u6587\u3057\u3066uart\u521d\u671f\u5316\u3057\u3066\u4f7f\u3044\u307e\u3057\u305f\u3002\n\n\u25a0\u305d\u306e\u4ed6 : \u53c2\u8003\u52d5\u753b\u25a0\nhttps://twitter.com/gyabo/status/809041005592743936\n\u53c2\u8003\u52d5\u753b\u3067\u306f\u30ca\u30f3\u304c\u597d\u304d\u306a\u306e\u3067\u3001\u30ca\u30f3\u3092\u5927\u91cf\u306b\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\nhttps://ja.wikipedia.org/wiki/%E3%83%8A%E3%83%B3\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u3092\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089m.bat\u5b9f\u884c\u5f8c\u3001add.bat\u306e\u8ee2\u9001\u5148\u306e\u30c9\u30e9\u30a4\u30d6\u3092SD\u30ab\u30fc\u30c9\u306b\u3059\u308c\u3070\nSD\u30ab\u30fc\u30c9\u306bimage\u3092\u8ee2\u9001\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001rpi2\u306b\u523a\u3057\u3066HDMI\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306b\u3055\u3057\u3066\u96fb\u6e90ON\u3067\n\u30ca\u30f3\u3092\u8e8d\u3089\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u25a0\u6240\u611f\u3068\u304b\u611f\u60f3\u3068\u304b\u25a0\n\u6b63\u76f4\u3001\u4ffa\u306f\u4f55\u3092\u3084\u3063\u3066\u308b\u3093\u3060\u30c3\u30c3\u30c3!\u3068\u3044\u3046\u611f\u899a\u306b\u5f8c\u534a\u8972\u308f\u308c\u3066\u3057\u3070\u3089\u304f\u624b\u3092\u4f11\u3081\u3066\u307e\u3057\u305f\u3002\n\u30a2\u30eb\u30d5\u30a1\u30d6\u30ec\u30f3\u30c9\u307e\u3067QPU\u5074\u3067\u3084\u3089\u305b\u305f\u3089\u3042\u3068\u306f\u3069\u3046\u3068\u3067\u3082\u306a\u308a\u305d\u3046\u3060\u306a\u3068\u3075\u3093\u3060\u304b\u3089\u3067\u3059\u3002\n\u307e\u3042\u4ed5\u65b9\u306a\u3044\u3067\u3059\u306d\u3002\u7d50\u69cb\u82e6\u52b4\u3057\u305f\u5272\u306b\u306f\u307e\u3060\u307e\u3060\u5148\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\nGL\u306egear.c\u76f8\u5f53\u3092\u79fb\u690d\u3057\u3066\u3001\u3046\u307e\u304f\u52d5\u4f5c\u3059\u308b\u306a\u3089\u30d9\u30f3\u30c1\u3057\u3066\u307f\u305f\u3044\u3067\u3059\u306d\u3002\nhttps://www.opengl.org/archives/resources/code/samples/glut_examples/mesademos/gears.c\n\u6b63\u76f4\u307e\u3060\u3084\u308a\u3053\u307f\u4e0d\u8db3\u3067\u3001\u3082\u3063\u3068\u9762\u767d\u3044\u3053\u3068\u3067\u304d\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3068\u304b\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u7279\u306b\u30d9\u30a2\u30e1\u30bf\u30eb\u304b\u3089GPGPU\u3055\u305b\u308b\u3068\u304d\u3082\u3082\u3046\u3061\u3087\u3063\u3068\u51dd\u3063\u305f\u3053\u3068\u304c\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n\u4eca\u56de\u3053\u3060\u308f\u3063\u305f\u3082\u3046\u3061\u3087\u3063\u3068\u6df1\u3044\u52d5\u6a5f\u3068\u3057\u3066\u306f\u3001\u3082\u3068\u3082\u3068\u65e7\u8077\u5834\u3067\u65b0\u3057\u3044\u30c1\u30c3\u30d7\u306e\u30c9\u30e9\u30a4\u30d0(GPU\u95a2\u9023\u3067\u306f\u306a\u304f\u30b9\u30c8\u30ec\u30fc\u30b8\u95a2\u9023\u3067\u3059)\u306e\u30e2\u30c3\u30af\u3092\u4f5c\u6210\u3059\u308b\u306e\u304c\u4ed5\u4e8b\u3060\u3063\u305f\u306e\u3067\u3001\u4e45\u3005\u306b\u30c9\u30e9\u30a4\u30d0\u5468\u308a\u306e\u4ed5\u69d8\u66f8\u304b\u3089\u52d5\u304f\u30e2\u30c3\u30af\u4f5c\u3063\u3066\u307f\u305f\u3044\u306a\uff5e\u3068\u601d\u3044\u7acb\u3063\u305f\u306e\u3082\u3042\u308a\u307e\u3059\u3002\n\u3042\u3044\u304b\u308f\u3089\u305a\u77f3\u5468\u308a\u306e\u4ed5\u69d8\u66f8\u306f\u4e0d\u89aa\u5207\u3060\u3051\u3069\u30ec\u30b8\u30b9\u30bf\u5468\u308a\u306f\u53e9\u3044\u3066\u53cd\u5fdc\u3092\u898b\u3066\u306a\u3093\u3068\u304b\u306a\u308b\u3082\u3093\u3067\u3059\u306d\u3002\n\u3042\u3068\u3001\u5b9f\u969b\u306bAPI\u30ec\u30d9\u30eb\u306b\u843d\u3068\u3057\u8fbc\u3080\u306b\u306f\u5168\u7136\u5f79\u4e0d\u8db3\u3067\u3059\u3002\u4ed5\u69d8\u66f8\u3092\u898b\u308b\u9650\u308a\u3001\u76f4\u63a5ControlList\u3092\u3044\u3058\u308b\u3068\u304b\u3001\n\u3082\u3063\u3068\u4e0a\u4f4d\u5c64\u304b\u3089\u305f\u53e9\u304b\u308c\u308b\u3053\u3068\u3092\u610f\u8b58\u3059\u308b\u3068\u3001\u4eca\u306eAPI\u306e\u3088\u3046\u306b\u3059\u308b\u306e\u306f\u8ad6\u5916\u3067\u3059\u3002\n\u307e\u3042\u3082\u3046\u3061\u3087\u3044\u3068\u6574\u7406\u6574\u9813\u3057\u306a\u3044\u3068\u898b\u305b\u3089\u308c\u306a\u3044\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3068\u308a\u3042\u3048\u305a\u52d5\u304f\u3082\u306e\u3092\u51fa\u3057\u307e\u3059\u3002\n\u3084\u308b\u306a\u3089\u4e00\u5ea6RAM\u5074\u306b\u4e2d\u9593\u30b3\u30de\u30f3\u30c9\u3092\u843d\u3068\u3057\u8fbc\u3093\u3067\u305d\u306e\u3042\u3068ContorlList\u3092\u69cb\u7bc9\u3059\u308b\u5c65\u6b74\u3092\u6b8b\u3057\u3001\n\u4f55\u304b\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067ControlList\u3092\u5168\u90e8\u69cb\u7bc9\u3057\u305f\u308a\u306a\u3069\u3001\u51dd\u3063\u305f\u3053\u3068\u3092\u3057\u306a\u3044\u3068OpenGL\u307b\u307c\u7b49\u4fa1\u306a\u5b9f\u88c5\u3092\u5b9f\u73fe\u3059\u308b\u306b\u306f\u96e3\u3057\u3044\u8a8d\u8b58\u3067\u3059\u3002\u3053\u306e\u8fba\u306f\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u5468\u308a\u306e\u30c9\u30e9\u30a4\u30d0\u66f8\u3044\u305f\u3053\u3068\u3042\u308b\u65b9\u306a\u3089\u5f53\u305f\u308a\u524d\u306e\u3053\u3068\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3002\n\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9API\u5468\u308a\u306e\u4e92\u63db\u6027\u3092\u3068\u308b\u306e\u304c\u3044\u304b\u306b\u96e3\u3057\u3044\u304b\u5206\u304b\u3063\u305f\u6c17\u304c\u3057\u307e\u3059\u3002\n\u304d\u3061\u3093\u3068\u3057\u305f\u30d5\u30a9\u30fc\u30de\u30eb\u306a\u4ed5\u69d8\u304cJEDEC\u3084\u3089SDA\u3084\u3089SCSI\u3084\u3089USB\u307f\u305f\u3044\u306b\u5b58\u5728\u3057\u306a\u3044\u306e\u3067\u3002\n\u307e\u3042\u3053\u3053\u304b\u3089\u306fAPI <--- HW\u4e2d\u9593\u5c64\u3068HW\u306e\u7656\u3068\u30a8\u30e9\u30c3\u30bf\u3092\u898b\u629c\u304d\u306a\u304c\u3089\u4f5c\u308b\u30bb\u30f3\u30b9\u304c\u8981\u6c42\u3055\u308c\u305d\u3046\u3067\u3059\u3002\n\u3053\u3053\u304b\u3089\u304c\u672c\u5f53\u306f\u697d\u3057\u3044\u3068\u3053\u308d\u306a\u3093\u3067\u3059\u304c\u2026(\u30de\u30be\u3067\u3059)\n\n\u25a0\u4eca\u5f8c\u25a0\n\nneon\u5468\u308a\u3068\u304b\u30bd\u30fc\u30b9\u306b\u5165\u3063\u3066\u308b\u304f\u305b\u306b\u307e\u3060\u30e9\u30d5\u306e\u6bb5\u968e\u3067\u5168\u7136\u52d5\u304b\u305b\u3066\u306a\u3044\u306e\u3067\u52d5\u304b\u3059\u3002\u307e\u3042\u6765\u5e74\u3084\u308a\u307e\u3059\nVPM\u3067VertexShader\u52d5\u304b\u3057\u3066\u307f\u305f\u3044\u3067\u3059\u304c\u3001\u53d6\u308a\u56de\u3057\u304c\u96e3\u3057\u305d\u3046\u3067\u3059\nPWM\u3068\u5408\u308f\u305b\u3066\u306a\u3093\u304b\u4f5c\u308a\u305f\u3044\u3067\u3059\u306d\n\n\n\u25a0\u7d42\u308f\u308a\u306b\u25a0\n\u6700\u5f8c\u307e\u3067\u307f\u3066\u3044\u305f\u3060\u304d\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n\u9593\u9055\u3063\u3066\u308b\u3001\u3082\u3046\u3061\u3087\u3063\u3068\u8aac\u660e\u3092\u8a73\u3057\u304f\u306a\u3069\u3042\u308a\u307e\u3057\u305f\u3089\u30ac\u30f3\u30ac\u30f3\u6307\u6458\u3082\u3089\u3048\u308b\u3068\u52a9\u304b\u308a\u307e\u3059\u3002\n\u203b\n\u8aa4\u5b57\u3068\u304b\u968f\u6642\u4fee\u6b63\u3057\u307e\u3059\u3002\nhttps://twitter.com/gyabo\n\n# \u25a0\u521d\u3081\u306b\u25a0\n\u203b\u3053\u306e\u8a18\u4e8b\u306f Raspberry Pi Advent Calendar 2016\u306e15\u65e5\u76ee\u3067\u3059\u3002\nhttp://www.adventar.org/calendars/1341\n\n\n\u3053\u3093\u306b\u3061\u306f\u3002gyabo\u3068\u7533\u3057\u307e\u3059\u3002\n\n\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u521d\u4ee3\u3092\u7d50\u69cb\u524d\u306b\u8cb7\u3063\u3066\u304b\u3089\u3001\u3061\u3087\u3046\u3069\u4e00\u5e74\u524d\u4f4d\u306b\u30e9\u30ba\u30d9\u30ea\u30fc\u30d1\u30a4\u3067\u9045\u523b\u3057\u307e\u3059\u30e1\u30fc\u30eb\u51fa\u3057\u305f\u308a\u3067\u4f7f\u3063\u3066\u3044\u305f\u306e\u3067\u3059\u304c\u3001\u7981\u6b62\u3055\u308c\u305f\u306e\u3067\u5225\u306e\u65b9\u9762\u3067\u4f7f\u3063\u3066\u3084\u308d\u3046\u3068\u601d\u3063\u3066\u307e\u3057\u305f\u3002\n\u307f\u3093\u306a\u7269\u7406\u7684\u306a\u65b9\u9762\u3067\u6709\u52b9\u6d3b\u7528\u3055\u308c\u3066\u3044\u3066\u9762\u767d\u3044\u306e\u3067\u3059\u304c\u3001\u52c9\u5f37\u304c\u3066\u3089\u3001\u3082\u3046\u3061\u3087\u3063\u3068\u5225\u306a\u3053\u3068\u3092\u3057\u307e\u3059\u3002\n\n# \u25a0\u4f55\u3092\u3059\u308b\u304b\uff1f \u2192 \u30d9\u30a2\u30e1\u30bf\u30eb\u3067\u30d6\u30fc\u30c8\u3055\u305b\u3066\u3001\u30dd\u30ea\u30b4\u30f3\u51fa\u3057\u3066\u904a\u3073\u307e\u3059\u25a0\n\u30d9\u30a2\u30e1\u30bf\u30eb(OS\u304c\u4f55\u3082\u642d\u8f09\u3055\u308c\u3066\u3044\u306a\u3044\u72b6\u614b)\u306eRaspberryPI\u3067\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308bGPU VideocoreIV\u306e\u6a5f\u80fd\u306eV3D\u3092\u4f7f\u3063\u3066\nHDMI\u7d4c\u7531\u3067\u8868\u793a\u3055\u308c\u305f\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306b\u30dd\u30ea\u30b4\u30f3\u51fa\u3057\u3066\u904a\u3073\u307e\u3059\u3002\n\n\u30dd\u30ea\u30b4\u30f3\u3068\u3044\u3063\u3066\u3082\u3001\u9802\u70b9\u6d41\u3057\u8fbc\u307f\u3001\u30c6\u30af\u30b9\u30c1\u30e3\u30de\u30c3\u30d4\u30f3\u30b0\u3001\u3086\u308b\u3044\u30b7\u30a7\u30fc\u30c0\u30a2\u30bb\u30f3\u30d6\u30e9\u66f8\u3044\u305f\u3089\u7d42\u308f\u308a\u306b\u3057\u307e\u3059\u3002\n\n\u4e3b\u306b\u524d\u6e96\u5099\u3001\u8d77\u52d5\u3001V3D\u306e\u521d\u671f\u5316\u3001\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3001binning, rendering, V3D\u56de\u308a\u306e\u304a\u4f5c\u6cd5\u56de\u308a\u3001\n\u843d\u3068\u3057\u7a74\u3001\u6709\u52b9\u306a\u30c4\u30fc\u30eb\u306e\u3054\u7d39\u4ecb\u306a\u3069\u304c\u3067\u304d\u308c\u3070\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u52c9\u5f37\u4e2d\u306a\u306e\u3067\u9593\u9055\u3044\u306a\u3069\u304c\u3042\u308a\u307e\u3057\u305f\u3089\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\n# \u25a0\u8abf\u67fb\u671f\u9593\u25a0\n\u3042\u3093\u307e\u308a\u899a\u3048\u3066\u3044\u306a\u3044\u306e\u3067\u3059\u304c\u30011.5 - 2.0\u6708\u304f\u3089\u3044\u3067\u96c6\u4e2d\u3057\u3066\u904a\u3093\u3067\u307e\u3057\u305f\u3002\n\u4eca\u5e74\u306e3\uff5e4\u6708\u304f\u3089\u3044\u3067\u3059\u3002\u3042\u3068\u306f\u3061\u3087\u304f\u3061\u3087\u304f\u3002\u8abf\u3079\u8caf\u3081\u3066\u3044\u305f\u3082\u306e\u3067\u3059\u3002\n\n\n# \u25a0\u3053\u308c\u307e\u3067\u25a0\nRaspberryPI\u306fOS\u30a4\u30e1\u30fc\u30b8\u3092\u9069\u5207\u306bdd\u3057\u3066\u3042\u3052\u308c\u3070\u30b5\u30af\u30c3\u3068\u7acb\u3061\u4e0a\u304c\u3063\u3066\u3042\u3068\u306fterminal\u306a\u308a\u3067\n\u9069\u5f53\u306b\u3064\u306a\u3044\u3067\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u3055\u305b\u308b\u3001\u3068\u3044\u3046\u306e\u304c\u624b\u65e9\u304f\u3001\u8ce2\u3044\u4f7f\u3044\u65b9\u3060\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u4f7f\u3046OS\u30a4\u30e1\u30fc\u30b8\u3067OpenGLES2\u76f8\u5f53\u306eAPI\u304c\u53e9\u3051\u308b\u306e\u3067\u5225\u306b\u8981\u3089\u306a\u3044\u3058\u3083\u3093\u3001\u3063\u3066\u601d\u3063\u305f\u306e\u3067\u3059\u304c\n\u30d9\u30a2\u30e1\u30bf\u30eb\u304b\u3089V3D\u3092\u76f4\u63a5\u53e9\u3044\u3066\u904a\u3093\u3067\u308b\u65b9\u304c\u6d77\u5916\u306b\u3044\u3089\u3057\u3066\u9762\u767d\u3044\u3068\u601d\u3044\u3001\u904a\u3093\u3067\u307f\u3088\u3046\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u3002\n\u307e\u305f\u65e5\u672c\u8a9e\u306e\u8a18\u4e8b\u304c\u6975\u3081\u3066\u5c11\u306a\u3044\u306e\u3067\u52c9\u5f37\u3057\u305f\u3053\u3068\u3092\u66f8\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3057\u305f\u3002\n\nRaspberryPI\u306e\u30d6\u30fc\u30c8\u306f\u3056\u3063\u304f\u308a\u3044\u3046\u3068VideocoreIV\u304c\u6700\u521d\u306bSDIF\u3092\u521d\u671f\u5316\u3057\u3066SD\u30ab\u30fc\u30c9\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u89e3\u6790\u304b\u3089\u8aad\u307f\u8fbc\u307f\u3092\u884c\u3044\u307e\u3059(\u4ed5\u69d8\u3068\u30d0\u30a4\u30ca\u30ea\u306e\u307f\u63d0\u4f9b\u3055\u308c\u3066\u3044\u3066\u8d77\u52d5\u306b\u306f\u5fc5\u9808)\n\n\u305d\u306e\u5f8cRAM\u5074\u306b\u30a4\u30e1\u30fc\u30b8\u304c\u8ee2\u9001\u3055\u308c\u3066ARM\u5074\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30aa\u30f3\u30dc\u30fc\u30c9\u306eRAM\u306e\u5fc5\u8981\u6700\u4f4e\u9650\u306e\u521d\u671f\u5316\u3082\u3059\u3067\u306b\u7d42\u308f\u3063\u3066\u308b\u72b6\u614b\u3067\u3059\u3002\n\u3042\u3068\u306f\u4f55\u3057\u3088\u3046\u304c\u3084\u308a\u305f\u3044\u653e\u984c\u3067\u3059\u3002\n\n\u3067\u3001\u300c\u30bf\u30a4\u30eb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3067\u52d5\u4f5c\u3059\u308bGPU\u300d\u306e\u4e0b\u56de\u308a\u306e\u30ec\u30b8\u30b9\u30bf\u3092\u9593\u63a5\u7684\u306b\u53e9\u3044\u3066\u63cf\u753b\u307e\u3067\u306e\u6d41\u308c\u306e\u5b66\u7fd2\u7528\u3068\u3057\u3066\u306f\u3046\u3063\u3066\u3064\u3051\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u5f53\u7136\u307b\u304b\u306e\u5c0f\u3055\u3044\u30ac\u30b8\u30a7\u30c3\u30c8\u30dc\u30fc\u30c9\u3067GPU\u642d\u8f09\u3055\u308c\u3066\u3044\u3066\u76f4\u63a5\u305f\u305f\u3051\u308b\u306e\u304c\u3042\u308c\u3070\u3067\u304d\u305d\u3046\u3067\u3059\u304c\u3001\n\u307e\u3042RaspberryPI\u3067\u3084\u3063\u3066\u3082\u5909\u308f\u3089\u306a\u3044\u3058\u3083\u308d\u3046\u3002\n\n\n# \u25a0\u5fc5\u8981\u306a\u77e5\u8b58\u3084\u624b\u6280\u25a0\n- \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u4f55\u304b\u3059\u308b\u306e\u306b\u62b5\u6297\u304c\u7121\u3044\u4e8b\n- ARM\u306e\u30a2\u30bb\u30f3\u30d6\u30e9\u304c\u82e5\u5e72\u8aad\u307f\u66f8\u304d\u3067\u304d\u308b\u3053\u3068\n- \u57fa\u672c\u7684\u306a\u6319\u52d5\u3092\u77e5\u3063\u3066\u3044\u308b\u3053\u3068\n- SDL\u3068\u304b\u3067\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u7d75\u3092\u51fa\u3057\u305f\u3053\u3068\u304c\u3042\u308b\n- \u82f1\u8a9e\u304c\u3061\u3087\u3063\u3068\u8aad\u3081\u308b\n- \u7d44\u307f\u8fbc\u307f\u7cfb\u306e\u4e0b\u56de\u308a\u3067\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u4f55\u304b\u52d5\u304b\u3057\u305f\u3053\u3068\u304c\u3042\u308b\n\n\u5c1a\u3001ARM\u5074\u306fGPU\u5074\u3092\u4e2d\u5fc3\u306b\u5236\u5fa1\u3059\u308b\u305f\u3081\u306b\u5b58\u5728\u3059\u308b\u3088\u3046\u306a\u3082\u306e\u306a\u306e\u3067ARM\u5074\u3067\u306a\u3093\u3067\u3082\u3067\u304d\u308b\u3068\u3044\u3046\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u3002\n\n\n# \u25a0\u524d\u63d0\u25a0\n- RaspberryPI 2\u3067\u904a\u3073\u307e\u3059\u3002\n- RaspberryPI -> rpi\u3068\u7565\u8a18\u3059\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u7d71\u4e00\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u7533\u3057\u8a33\u306a\u3044\u3002\n- \u4f5c\u308a\u7f6e\u304d\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u3042\u308b\u306e\u3067\u305d\u308c\u3092\u5143\u306b\u89e3\u8aac\u3057\u307e\u3059\n- VPM(\u9802\u70b9\u3092\u84c4\u3048\u3066QPU\u3067\u3092\u4f7f\u3046)\u56de\u308a\u306f\u3057\u307e\u305b\u3093\u3002\u3064\u307e\u308aVertexShader\u306f\u6271\u3044\u307e\u305b\u3093\n- FragmentShader\u76f8\u5f53\u306eQPU\u30a2\u30bb\u30f3\u30d6\u30e9\u3092\u66f8\u304d\u307e\u3059\n- \u3067\u3059\u307e\u3059\u6df7\u3056\u3063\u3066\u307e\u3059\u3002\u3059\u307f\u307e\u305b\u3093\n- \u5f8c\u534a\u306b\u51fa\u3066\u304f\u308bControlList\u56de\u308a\u306f\u8aac\u660e\u304c\u3044\u307e\u3044\u3061\u304b\u3082\n\n\n# \u25a0\u4e88\u7b97\u25a0\nRaspberryPI\u672c\u4f53\u3068\u307b\u304b\u306e\u9069\u5f53\u306a\u30dc\u30fc\u30c9\u3001\u30ad\u30c3\u30c8\u8fbc\u307f\u306711,000\u5186\u7a0b\u5ea6\u3092\u898b\u8fbc\u3093\u3067\u304a\u304d\u307e\u3059\u3002\n\n\n# \u25a0\u57fa\u672c\u8cc7\u6599\u25a0\n- \u516c\u5f0f\u306eRaspberryPI\u306eSoC\u306e\u57fa\u672c\u7684\u306a\u5468\u8fba\u6a5f\u5668\u306e\u30ec\u30b8\u30b9\u30bf\u69cb\u6210\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u4ed5\u69d8\u66f8\u3002\n\nhttps://www.RaspberryPI.org/documentation/hardware/RaspberryPI/bcm2835/BCM2835-ARM-Peripherals.pdf\n\n\u30ec\u30b8\u30b9\u30bf\u306e\u30a2\u30c9\u30ec\u30b9\u306fRaspberryPI1, 2\u3067\u7570\u306a\u308b\u3053\u3068\u3001\u307b\u304b\u306b\u6a5f\u80fd\u304c\u5927\u91cf\u306b\u3042\u308b\u306e\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u306a\u3044\u3053\u3068(\u7aef\u7684\u306b\u8a00\u3063\u3066\u4e0d\u5341\u5206)\u3092\u7406\u89e3\u3057\u3066\u8aad\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\nhttp://www.broadcom.com/docs/support/videocore/VideoCoreIV-AG100-R.pdf\n\u203b\u306a\u3093\u3068\u30ea\u30f3\u30af\u5207\u308c\uff01\uff01\uff01\u3069\u3046\u3057\u3061\u3083\u3063\u305f\u306e\u2026\n\nRaspberryPI\u306b\u4f7f\u308f\u308c\u3066\u3044\u308bGPU\u306e\u4ed5\u69d8\u66f8\u3067\u3059\u3002<b>\u516c\u5f0fPDF</b>\u3068\u8a18\u8f09\u3057\u305f\u5834\u5408\u306f\u3053\u306eVideoCoreIV\u306e\u4ed5\u69d8\u66f8\u3092\u3055\u3057\u307e\u3059\u3002\n\u5148\u306e\u5468\u8fba\u6a5f\u5668\u306ePDF\u3068\u5408\u308f\u305b\u3066\u8aad\u3080\u3068\u7406\u89e3\u304c\u6df1\u307e\u308a\u307e\u3059\u3002\n\u30c6\u30fc\u30de\u306f\u7d75\u3092\u51fa\u3059\u3053\u3068\u306a\u306e\u3067\u3001\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3068\u304d\u306f\u3053\u306e\u4ed5\u69d8\u66f8\u3068github\u306e\u30b5\u30f3\u30d7\u30eb\u304c\u4e2d\u5fc3\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n# \u25a0\u60c5\u5831\u3092\u96c6\u3081\u308b\u25a0\n\u5e78\u3044\u306a\u3053\u3068\u306b\u3044\u308d\u3044\u308d\u306a\u4eba\u304cBareMetal\u3067\u52d5\u304b\u3057\u3066\u3044\u307e\u3059\u3002\n\nhttps://github.com/phire/hackdriver\n\u7d75\u3092\u51fa\u3057\u305f\u3044\u3068\u3044\u3046\u30c6\u30fc\u30de\u3067\u8abf\u3079\u305f\u3089\u6700\u521d\u306b\u898b\u3064\u3051\u305f\u3082\u306e\u3002userland\u5c64\u304b\u3089\u30b3\u30de\u30f3\u30c9\u3092\u767a\u884c\u3057\u3066\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306b\u30dd\u30ea\u30b4\u30f3\u3092\u66f8\u304d\u51fa\u3059\u30bd\u30fc\u30b9\u3067\u3001\n\u304b\u306a\u308a\u30b7\u30ea\u30a2\u30eb\u306b\u66f8\u304b\u308c\u3066\u308b\u306e\u3067\u8aad\u3080\u5206\u306b\u306f\u826f\u3044\u3067\u3059\u3002\n\nhttps://github.com/PeterLemon/RaspberryPI\n\u30d9\u30a2\u30e1\u30bf\u30eb\u3067\u4f55\u304b\u3089\u4f55\u307e\u3067\u3042\u308b\u3059\u3054\u3044\u3002repo\u898b\u308b\u3068N64\u306e\u30d9\u30a2\u30e1\u30bf\u30eb\u307e\u3067\u3042\u308b\u3002\u30af\u30ec\u30a4\u30b8\u30fc\u3063\u3059\u3002\n\u3053\u306erepo\u306e\u65b9\u306f\u672c\u5bb6forums\u306b\u3044\u308d\u3044\u308d\u6295\u4e0b\u3057\u3066\u3044\u307e\u3059\u3002flatassembler\u306e\u8d85\u9ad8\u6027\u80fd\u30de\u30af\u30ed\u30a2\u30bb\u30f3\u30d6\u30e9\u3067\u4f5c\u6210\u3057\u3066\u3044\u308b\u6a21\u69d8\u3002\n[\u53c2\u8003] https://flatassembler.net/\n\n\n\nhttps://github.com/ICTeam28/PiFox\n\u3082\u3046\u3053\u308c\u3067\u5341\u5206\u306a\u3093\u3058\u3083\u306d\uff1f\u3068\u3044\u3046\u30b9\u30bf\u30fc\u30d5\u30a9\u30c3\u30af\u30b9\u3063\u307d\u3044demo.\n\u30b5\u30a6\u30f3\u30c9\u306fDMA\u8ee2\u9001 + PWM\u306b\u3066\u5b9f\u88c5\u3001\u63cf\u753b\u306f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u3059\u3002\n\u5165\u529b\u5468\u308a\u306fGPIO\u3067\u3068\u3063\u3066\u304d\u3066\u3044\u307e\u3059\u3002\u6b63\u76f4\u3053\u306e\u304f\u3089\u3044\u3067\u304d\u308c\u3070\u306a\u3093\u3067\u3082\u3067\u304d\u305d\u3046\u306a\u6c17\u304c\u3057\u3066\u304f\u308b\u3002\n\nhttps://github.com/Microsoft/graphics-driver-samples\n\u5929\u4e0b\u306eMicrosoft\u306eDirectX11\u76f8\u5f53API\u306eVideoCoreIV\u306e\u5b9f\u88c5\u3002\u4e8b\u5b9f\u4e0a\u4f4e\u30ec\u30d9\u30eb\u5c64\u306e\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30c9\u30e9\u30a4\u30d0\u306b\u306a\u308a\u307e\u3059\u3002\nAPI\u306f\u3001DirectX11\u3063\u307d\u3044\u611f\u3058\u306b\u306a\u3063\u3066\u308b\u3051\u3069\u5b9f\u88c5\u3067\u304d\u3066\u3044\u306a\u3044\u7b87\u6240\u306f\u7d50\u69cb\u3042\u308b\u3002\n\u304c\u3001VideoCoreIV\u3067\u6271\u3048\u308b\u30c6\u30af\u30b9\u30c1\u30e3\u306e\u5f62\u5f0f\u306eT-FORMAT\u306e\u5b9f\u88c5\u3060\u3063\u305f\u308a\u3001\u30b7\u30a7\u30fc\u30c0\u30a2\u30bb\u30f3\u30d6\u30e9(QPU)\u304c\u3042\u3063\u305f\u308a\u306a\u3069\u3001\n\u5272\u3068\u304b\u3086\u3044\u3068\u3053\u308d\u306b\u624b\u304c\u5c4a\u304f\u30bd\u30fc\u30b9\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u7d20\u6674\u3089\u3057\u3044\u3002\u4eca\u306f\u3042\u307e\u308a\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u3055\u308c\u3066\u3044\u306a\u3044\u611f\u3058\u3002\n\n\n# \u25a0RaspberryPI\u304cBoot\u3059\u308b\u4ed5\u7d44\u307f\u25a0\n\u4ee5\u4e0b\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\n\nhttps://www.RaspberryPI.org/forums/viewtopic.php?t=72260\n\u6700\u521d\u306fGPU\u5074\u306eFirmware\u304c\u5168\u90e8\u4e3b\u5c0e\u6a29\u3092\u63e1\u3063\u3066\u3044\u308b\u3053\u3068\u306b\u6ce8\u610f\u3059\u308b\u3053\u3068\u3068\u3001\nSDRAM\u306e\u521d\u671f\u5316\u3060\u3063\u305f\u308a\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u521d\u671f\u5316\u306a\u3069\u3082\u5168\u90e8\u3084\u3063\u3066\u304f\u308c\u307e\u3059\u3002\n\u6c17\u3092\u4ed8\u3051\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u306e\u306f\u3001config.txt\u3067\u30d6\u30fc\u30c8\u306e\u6319\u52d5\u304c\u5927\u304d\u304f\u5909\u308f\u308b\u306e\u3067\u4ee5\u4e0b\u3092\u898b\u306a\u304c\u3089\u6ce8\u610f\u3002\nhttp://elinux.org/RPiconfig\n\u203b\u672c\u5bb6\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u6b63\u7fa9\u3002\u305f\u3060\u898b\u3065\u3089\u3044\u306e\u3067\u2191\u304c\u3088\u308d\u3057\u305d\u3046\u3002\n\n[\u53c2\u8003 : Raspberry Pi boot process]\nhttps://www.raspberrypi.org/forums/viewtopic.php?f=63&t=6685\n\n[\u53c2\u8003 : Raspberry Pi2(Linux Kernel)\u306e\u30d6\u30fc\u30c8\u30b7\u30fc\u30b1\u30f3\u30b9\u3092\u8aad\u3080(\u305d\u306e1) \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u4f9d\u5b58\u90e8]\nhttp://qiita.com/Nao1215/items/b8f866b4ede757cdaa73\n\n\n\n\n# \u25a0\u958b\u767a\u3059\u308b\u305f\u3081\u306e\u30c4\u30fc\u30eb\u25a0\n\n\uff20\u30b3\u30f3\u30d1\u30a4\u30e9\nlaunchpad.net/gcc-arm-embedded\u3092\u4f7f\u3046\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3089bin\u56de\u308a\u306bpath\u3092\u901a\u3057\u3066\u304a\u304f\u3053\u3068\u3002\nhttps://launchpad.net/gcc-arm-embedded\n\n\uff20uart\u304b\u3089USB\u306b\u5909\u63db\u3057\u3066\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3067\u304d\u308b\u5909\u63db\u63a5\u7d9a\u30dc\u30fc\u30c9\u3068\u9069\u5f53\u306a\u30b1\u30fc\u30d6\u30eb\n\nFTDI USB\u30b7\u30ea\u30a2\u30eb\u5909\u63db\u30a2\u30c0\u30d7\u30bf\u30fc(5V/3.3V\u5207\u308a\u66ff\u3048\u6a5f\u80fd\u4ed8\u304d)\nhttps://www.switch-science.com/catalog/1032/\n\n\u3053\u308c\u3092\u4f7f\u3063\u3066TeraTerm\u3068\u3084\u308a\u53d6\u308a\u3057\u307e\u3059\u3002\u3053\u308c\u304c\u7121\u3044\u3068\u30c7\u30d0\u30c3\u30b0\u304c\u5927\u5909\u306b\u3057\u3093\u3069\u3044\u3067\u3059\u3002\n\u3042\u305f\u308a\u307e\u3048\u3060\u3051\u3069\u3053\u306e<b>\u6cbb\u5177\u306f\u7d76\u5bfe\u306b5V\u306bDIP\u3092\u5012\u3055\u306a\u3044\u3067\u4f7f\u3046\u3088\u3046\u306b\u3057\u307e\u3059\u3002rpi\u5074\u306eGPIO\u304c3.3V\u3060\u304b\u3089\u3067\u3059\u3002\n\u713c\u3051\u307e\u3059\u30021\u679a\u713c\u304d\u307e\u3057\u305f\u79c1\u3002</b>\n\u6700\u521dL\u30c1\u30ab\u3067\u4f55\u3068\u304b\u30c7\u30d0\u30c3\u30b0\u3057\u3066\u305f\u3051\u3069\u3057\u3093\u3069\u304f\u306a\u3063\u305f\u308a\u3064\u3089\u3044\u30d0\u30b0\u304c\u5927\u91cf\u306b\u51fa\u305f\u308a\u3057\u305f\u306e\u3067\u3001\u4e0a\u306e\u677f\u3092\u7d20\u76f4\u306b\u4f7f\u3044\u307e\u3059\u3002\n\u63a5\u7d9a\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u96fb\u5b50\u66f8\u7c4d\u304c\u6975\u3081\u3066\u89aa\u5207\u3067\u5177\u5408\u304c\u826f\u3044\u3067\u3059\u3002\n\nBareMetal\u3067\u904a\u3076\u3000Raspberry Pi - \u9054\u4eba\u51fa\u7248\u4f1a\nhttp://tatsu-zine.com/books/raspi-bm\n\n\n\u307e\u305f\u63a5\u7d9a\u3059\u308b\u969b\u306f\u30c1\u30af\u30c1\u30af\u3055\u3059\u30b1\u30fc\u30d6\u30eb\u304c\u3069\u3046\u3057\u3066\u3082\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u4ee5\u4e0b\u306e\u30bb\u30c3\u30c8\u306a\u3069\u3092\u63a2\u3059\u304b\u79cb\u6708\u96fb\u5b50\u3067\u983c\u3080\u3002\n\u79c1\u306f\u4ee5\u4e0b\u3092\u6ce8\u6587\u3057\u305f\u3002\u3068\u3066\u3082\u5b89\u3044\u3057\u304a\u5f97\u3002\nhttps://www.amazon.co.jp/dp/B01AUN1JYW\n\u203b\u3053\u308c\u539f\u4fa1\u5272\u308c\u3057\u3066\u3044\u308b\u306e\u3067\u306f\u3068\u601d\u3046\u304f\u3089\u3044\u5b89\u3044\u3002\n\n\n\uff20TeraTerm\nhttps://ttssh2.osdn.jp/\n\u304a\u306a\u3058\u307f\u5b9a\u756a\u30bf\u30fc\u30df\u30ca\u30eb\u30bd\u30d5\u30c8\u3002COM\u30dd\u30fc\u30c8\u3068\u3064\u306a\u304c\u308b\u306a\u3089\u4f55\u3067\u3082\u3044\u3044\u3067\u3059\u3002\nRaspberryPI\u5074\u304b\u3089PC\u5074\u306b\u6587\u5b57\u5217\u9001\u4fe1\u3057\u3066\u30c7\u30d0\u30c3\u30b0\u3059\u308b\u3068\u304d\u306b\u5fc5\u8981\u3002\u3044\u308d\u3044\u308d\u306a\u4f7f\u3044\u65b9\u304c\u3067\u304d\u308b\u3002\n\n\uff20SD\u30ab\u30fc\u30c9(rpi2\u306a\u3089microSD\u30ab\u30fc\u30c9)\n\u4f55\u3092\u3084\u308b\u304b\u306b\u4f9d\u308a\u307e\u3059\u304c\u30011GByte\u306a\u3044\u30574GByte\u3042\u308c\u3070\u5341\u5206\u3002\nFAT32\u3067\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3057\u3066\u4e2d\u306bfirmware\u3068\u81ea\u5206\u3067\u4f5c\u3063\u305fkernel.img\u3092\u30b3\u30d4\u30fc\u3057\u3066\u958b\u767a\u3057\u3066\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\uff20\u30ab\u30fc\u30c9\u30ea\u30fc\u30c0\n\u3067\u304d\u308b\u3060\u3051\u5b89\u304f\u3066\u3001\u30ab\u30fc\u30c9\u306e\u629c\u304d\u5dee\u3057\u3067\u7c21\u5358\u306b\u58ca\u308c\u306a\u3044\u30bf\u30d5\u306a\u3082\u306e\u3092\u4f7f\u3046\u3053\u3068(\u91cd\u8981)\n\n\uff20HDMI\u30b1\u30fc\u30d6\u30eb\n\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u51fa\u3057\u305f\u3044\u306e\u3067\u3001HDMI\u30b1\u30fc\u30d6\u30eb\u304c\u5fc5\u8981\u3002\u97f3\u58f0\u56de\u308a\u306f\u7279\u306b\u4f55\u3082\u5fc5\u8981\u306a\u3044\u306e\u3067\u3001\u97f3\u3067\u306a\u304f\u3066\u3082\u5927\u4e08\u592b\u3002\n\n# \u25a0RPI1,2\u306e\u9055\u3044\u306b\u3064\u3044\u3066\u25a0\n\nGPIO\u56de\u308a\u3068\u30b3\u30a2\u3068\u30ec\u30b8\u30b9\u30bf\u306e\u30d9\u30fc\u30b9\u30a2\u30c9\u30ec\u30b9\u304c\u9055\u3046\u306e\u3067\u672c\u5bb6\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u672c\u30da\u30fc\u30b8\u3067\u958b\u767a\u306b\u4f7f\u3046\u306e\u306f\u3001uart-function\u3092\u4f7f\u3046\u3053\u3068\u304f\u3089\u3044\u3002\n\u3053\u3053\u306e\u30b5\u30a4\u30c8\u304c\u8a73\u3057\u3044\u3002\nhttp://elinux.org/RPi_Serial_Connection\n\n\n# \u25a0 \u3068\u308a\u3042\u3048\u305afirmware\u3092\u30d6\u30fc\u30c8\u3055\u305b\u308b\u25a0\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30d6\u30fc\u30c8\u3055\u305b\u308b\u3002\n\n```\n- SD\u30ab\u30fc\u30c9\u3092\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3059\u308b\n- \u672c\u5bb6\u30b5\u30a4\u30c8\u304b\u3089\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u306e\u30d0\u30a4\u30ca\u30ea(start.elf, bootcode.bin)\u3092\u62fe\u3063\u3066\u304d\u3066\u3001SD\u30ab\u30fc\u30c9\u306e\u30eb\u30fc\u30c8\u306b\u30b3\u30d4\u30fc\u3059\u308b\u3002\n- config.txt\u3092\u4f5c\u6210\u3057\u3066SD\u30ab\u30fc\u30c9\u306e\u30eb\u30fc\u30c8\u306b\u30b3\u30d4\u30fc\u3059\u308b\u3002\n- HDMI\u30b1\u30fc\u30d6\u30eb\u3068rpi\u3092\u63a5\u7d9a\u3057\u3066\u9069\u5f53\u306aHDMI\u30e2\u30cb\u30bf\u306b\u63a5\u7d9a\u3059\u308b\u3002\n- microUSB\u30b1\u30fc\u30d6\u30eb\u3068\u9069\u5f53\u306aUSB\u30b1\u30fc\u30d6\u30eb\u3092\u3064\u306a\u3044\u3067rpi\u306e\u96fb\u6e90\u3092\u5165\u308c\u308b\u3002\n- \u3046\u307e\u304f\u3044\u3051\u3070\u4f55\u304b\u8868\u793a\u3055\u308c\u308b\n```\n\n\u79c1\u304c\u4f5c\u6210\u3057\u305fconfig.txt\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\n```text:config.txt\nkernel=image.bin\nhdmi_drive=2\nhdmi_group=2\nhdmi_mode=4\ndisable_pvt=1\ndisable_overscan=1\nforce_turbo=1\nfake_vsync_isr=1\n```\n\nconfig.txt\u306f\u4ee5\u4e0b\u306e\u610f\u5473\u3092\u6301\u3063\u3066\u3044\u307e\u3059\n\n```\nkernel=image.bin    #\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u304c\u8aad\u307f\u8fbc\u3080\u30d5\u30a1\u30a4\u30eb\u540d\u3092image.bin\u306b\u5909\u66f4\u3002\u5358\u306bkernel.img\u3068\u3044\u3046\u540d\u524d\u304c\u5acc\u3060\u3063\u305f\u306e\u3067\u3002\u5225\u306b\u7121\u304f\u3066\u3082\u3044\u3044\u3067\u3059\u3002 \nhdmi_drive=2        #HDMI mode\u3002\u30b5\u30a6\u30f3\u30c9\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u306a\u3089\u51fa\u529b\u307e\u3067\u884c\u3046(baremetal\u3060\u3068\u305f\u3076\u30931\u3067\u3082OK\u3002HDMI\u306b\u97f3\u58f0\u51fa\u529b\u3059\u308b\u53e3\u304c\u4eca\u306e\u3068\u3053\u308d\u7121\u3044)\nhdmi_group=2        #DMT\u30e2\u30fc\u30c9\u3002HDMI\u306ePC\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306b\u63a5\u7d9a\u3059\u308b\u306e\u3067\u3068\u308a\u3042\u3048\u305a\u3002CEA\u3067\u3082\u52d5\u304f\u3002\nhdmi_mode=4         #640x480 60Hz\u306e\u89e3\u50cf\u5ea6\u306b\u8a2d\u5b9a\u3002\u89e3\u50cf\u5ea6\u306f\u4f5c\u308a\u305f\u3044\u3082\u306e\u3001\u8da3\u5473\u306e\u554f\u984c\u3002\u4eca\u56de\u3044\u308d\u3044\u308d\u8a08\u7b97\u3057\u305f\u7d50\u679c640x480x32 60Hz\u3067\u306a\u3093\u304b\u4f5c\u308d\u3046\u3068\u3044\u3046\u3053\u3068\u306b\u3002\ndisable_pvt=1       #RAM\u306e\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30ec\u30fc\u30c8\u306e500ms\u7e1b\u308a\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\u8da3\u5473\u306e\u554f\u984c\u3002\ndisable_overscan=1  #\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306e\u30aa\u30fc\u30d0\u30fc\u30b9\u30ad\u30e3\u30f3\u30e2\u30fc\u30c9\u3092\u7121\u52b9\u306b\u3059\u308b\u3002\nforce_turbo=1       #GPU, SDRAM, CPU\u3092\u5168\u901f\u529b\u306e\u30af\u30ed\u30c3\u30af\u30e2\u30fc\u30c9\u306b\u3059\u308b\u3002\nfake_vsync_isr=1    #\u3053\u306e\u5f8c\u4f7f\u3046\u306f\u305a\u306e\u3001\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306b\u63cf\u3044\u305f\u5782\u76f4\u540c\u671f\u3092\u3068\u308b\u305f\u3081\u306b\u5fc5\u8981\u306b\u306a\u308b\u3002\n```         \n\n\n\n\nconfig.txt\u306f\u5272\u3068\u66f2\u8005\u3067\u3001\u30d6\u30fc\u30c8\u306e\u6319\u52d5\u3084\u30ec\u30b8\u30b9\u30bf\u306e\u6319\u52d5\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u306e\u3067\u6ce8\u610f\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\n\u30d9\u30a2\u30e1\u30bf\u30eb\u306e\u5834\u5408\u3001\u57fa\u672c\u306f\u5fc5\u8981\u306a\u4e8b\u4ee5\u5916\u306f\u8a18\u8f09\u3057\u306a\u3044\u3053\u3068\u304c\u91cd\u8981\u3002\u3064\u307e\u3089\u3093\u3053\u3068\u3067\u6642\u9593\u3092\u4f7f\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3042\u3068\u306f\u4ed6\u306e\u30b5\u30a4\u30c8\u306b\u3042\u308bstart.elf, bootcode.bin\u306f\u7d76\u5bfe\u306b\u4f7f\u308f\u306a\u3044\u3053\u3068\u3067\u3059\u3002\n\u53e4\u3044\u3060\u3051\u3058\u3083\u306a\u304f\u666e\u901a\u306b\u8d77\u52d5\u3057\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\n\u307e\u3060\u30b3\u30fc\u30c9\u3092\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\u304c\u3001config.txt\u306b\u8a18\u8f09\u3057\u3066\u3042\u308bimage.bin\u3092\u751f\u6210\u3057\u3066\u30d9\u30a2\u30e1\u30bf\u30eb\u3057\u3066\u3044\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n## \u8d77\u52d5\u3057\u306a\u3044\u5834\u5408\n\nLED\u30e9\u30f3\u30d7\u304c\u30c1\u30ab\u30c1\u30ab\u3059\u308b\u3002\u30c1\u30ab\u30c1\u30ab\u30d1\u30bf\u30fc\u30f3\u306f\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\n\nhttp://elinux.org/R-Pi_Troubleshooting\n\n\n```\n3 flashes: loader.bin not found\n4 flashes: loader.bin not launched\n5 flashes: start.elf not found\n6 flashes: start.elf not launched\n7 flashes: kernel.img not found\n\nFirmware since 20th October 2012 no longer requires loader.bin, and the flashes mean:\n3 flashes: start.elf not found\n4 flashes: start.elf not launched\n7 flashes: kernel.img not found\n8 flashes: SDRAM not recognised. You need newer bootcode.bin/start.elf firmware.\n```         \n\n\u4e0a\u8a18\u3067RaspberryPI\u306e\u8d77\u52d5\u5931\u6557\u8981\u56e0\u304c\u5927\u4f53\u308f\u304b\u308a\u307e\u3059\u3002\n\n## [LED\u306e\u30c1\u30ab\u30c1\u30ab\u306b\u3064\u3044\u3066\u82e5\u5e72\u88dc\u8db3]\n\u30d6\u30fc\u30c8\u30ed\u30fc\u30c0\u304c\u8d77\u52d5\u3059\u308b\u3068\u3069\u3046\u3084\u3089GPU\u5074\u3067vcos(VideoCoreOS?)\u3068\u3044\u3046\u306e\u304c\u7acb\u3061\u4e0a\u304c\u3063\u305f\u72b6\u614b\u306b\u306a\u3063\u3066\u3001\nrpi\u306e\u30e1\u30a4\u30f3\u306e\u30b3\u30a2\u304b\u3089\u306fmailbox\u3068\u3044\u3046\u4ed5\u7d44\u307f\u3067\u901a\u4fe1\u3092\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059(\u5f8c\u8ff0)\nmailbox\u306e\u4ed5\u69d8\u306e\u4e2d\u3067\u3001HDMI\u306b\u95a2\u3059\u308b\u4ed5\u69d8\u304c\u5b58\u5728\u3059\u308b\u304c\u3001\u5909\u306aconfig.txt\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6e21\u3059\u3068\u30018 flashes\u306e\u72b6\u614b\u306b\u306a\u308b\u3002\n\u63a8\u6e2c\u306e\u57df\u3092\u51fa\u306a\u3044\u3051\u3069\u3001vcos\u306euserland\u3067\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nhttps://github.com/raspberrypi/userland/blob/master/interface/vcos/generic/vcos_abort.c\n\n\u3064\u307e\u308avcos\u5074\u304cabort\u306b\u306a\u3063\u305f\u5834\u5408\u3067\u30828 flashes\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u304c\u3042\u308a\u307e\u3059\u3002\n\u305f\u3044\u3057\u3066\u539f\u56e0\u308f\u304b\u3089\u3093\u306a\u3002\n\n\n\n# \u25a0 Bare Metal : \u30d6\u30fc\u30c8\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u25a0\n\n\u307e\u305a\u3001\u57fa\u672c\u3068\u306a\u308b\u30d9\u30fc\u30b9\u306e\u30b5\u30f3\u30d7\u30eb\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306f \u21d2 [rpi2_boot1.zip](http://gyabo.sakura.ne.jp/prog/rpi2_boot2.zip)\n\nfirmware\u306f\u3001\u6b63\u5e38\u306b\u8d77\u52d5\u3057\u305f\u3089\u76f4\u8fd1\u306e\u30d6\u30fc\u30c8\u306e\u305f\u3081\u306b\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n- kernel.img(image.bin)\u3092SD\u30ab\u30fc\u30c9\u304b\u3089\u8aad\u307f\u8fbc\u3093\u3067\n- SDRAM\u306e0x8000\u306b\u66f8\u304d\u8fbc\u307f\u3001PC\u3092Jump\n\n\n\u958b\u59cb\u30a2\u30c9\u30ec\u30b9\u306fconfig.txt\u3067\u3082\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u30010x8000\u306b\u3057\u3066\u304a\u3044\u3066\u3082\u5225\u306b\u5341\u5206\u3058\u3083\u308d\u3046\u3002\n\n\u79c1\u304c\u66f8\u3044\u305f\u5fc5\u8981\u306a\u30d6\u30fc\u30c8\u30b3\u30fc\u30c9\u306f\u30e1\u30e2\u30ea\u30de\u30c3\u30d7\u3092\u8a18\u8f09\u3059\u308b\u30ea\u30f3\u30ab\u30b3\u30fc\u30c9\u3068\u3001\n\u8d77\u52d5\u76f4\u5f8c\u306b\u30b9\u30bf\u30c3\u30af\u30ec\u30b8\u30b9\u30bf\u56de\u308a\u306a\u308a\u3092\u521d\u671f\u5316\u3057\u3066\u3001C\u30bd\u30fc\u30b9\u306b\u30b8\u30e3\u30f3\u30d7\u3059\u308b\u3082\u306e\u3092\u66f8\u3044\u3066\u3044\u307e\u3059\u3002\n\u5168\u90e8\u30a2\u30bb\u30f3\u30d6\u30e9\u3067\u66f8\u304f\u5fc5\u8981\u306f\u306a\u3044\u3067\u3059\u3002\n\u307e\u305f\u3001win\u306e\u30d0\u30c3\u30c1\u3067bin\u4f5c\u6210\u3059\u308b\u306e\u3067makefile\u66f8\u304f\u5fc5\u8981\u3082\u306a\u3044\u3002bat\u30d5\u30a1\u30a4\u30eb\u3060\u3051\u3067\u5341\u5206\u3067\u3059\u3002\n\u66f8\u304d\u305f\u3044\u4eba\u306f\u66f8\u3044\u3066\u4fbf\u5229\u306b\u3059\u308b\u3068\u3044\u3044\u3058\u3083\u308d\u3046\u3002\n\n\u30b7\u30ea\u30a2\u30eb\u30dc\u30fc\u30c9\u3068\u3001USB\u304c\u3046\u307e\u304f\u3064\u306a\u304c\u3063\u3066\u308b\u306a\u3089\u3001\u4ee5\u4e0b\u306e\u901a\u308a\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u307e\u3059\u3002\n\n![\u305f\u30fc\u307f\u306a\u308b](http://gyabo.sakura.ne.jp/image/rpi_boot1_2.png)\n\n\u30dc\u30fc\u30ec\u30fc\u30c8\u306f115200\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001TeraTerm\u5074\u3082\u8a2d\u5b9a\u3057\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\n\u30b7\u30ea\u30a2\u30eb\u3067\u30c7\u30d0\u30c3\u30b0\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308c\u3070\u3044\u304b\u3088\u3046\u306b\u3067\u3082\u306a\u308b\u306e\u3067\u7d76\u5bfe\u306b\u6700\u521d\u306b\u3084\u3063\u3066\u304a\u304d\u307e\u3057\u3087\u3046\u3002\u30c7\u30d0\u30c3\u30b0\u306e\u52b9\u7387\u304c\u683c\u6bb5\u306b\u9055\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001ELF\u3092\u751f\u6210\u3057\u3066\u30e1\u30e2\u30ea\u30de\u30c3\u30d7\u5410\u3044\u3066\u78ba\u8a8d\u3057\u3066\u304a\u304f\u3068\u3046\u3063\u304b\u308a\u30df\u30b9\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u307e\u3067\u3067\u304d\u305f\u3089\u5f8c\u306f\u6839\u6c17\u306e\u554f\u984c\u3067\u3059\u3002\n\n\u79c1\u306e\u958b\u767a\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u7e70\u308a\u8fd4\u3057\u3092\u3057\u3066\u958b\u767a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\n\u30fb\u30bd\u30fc\u30b9\u3092\u66f8\u304f\u3002\n\u30fb\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u30d0\u30a4\u30ca\u30ea\u3092\u751f\u6210\u3002\n\u30fbSD\u30ab\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3059\u308b\n\u30fbSD\u30ab\u30fc\u30c9\u3092rpi\u306b\u5dee\u3057\u8fbc\u3093\u3067USB\u3067\u96fb\u6e90\u3092\u5165\u308c\u308b\n\u30fb\u30b7\u30ea\u30a2\u30eb\u3068\u753b\u9762\u3092\u78ba\u8a8d\u3059\u308b\n\u30fb\u6700\u521d\u306b\u623b\u308b\n```\n\n\u79c1\u306f\u4e0a\u8a18\u3092\u9069\u5f53\u306aWindows\u306e\u30d0\u30c3\u30c1\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u3044\u3066\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\nmake\u81ea\u4f53\u306f\u3067\u304b\u304f\u306a\u3044\u306e\u3067\u6570\u79d2\u3067\u7d42\u308f\u308b\u3002\u3042\u3068\u306fSD\u30ab\u30fc\u30c9\u3092\u30ab\u30fc\u30c9\u30ea\u30fc\u30c0\u30fc\u306b\u63a5\u7d9a\u3057\u3066\u30b3\u30d4\u30fc(\u3053\u308c\u3082\u30c9\u30e9\u30a4\u30d6\u56fa\u5b9a\u3067\u30d0\u30c3\u30c1\u305f\u305f\u304f\u3060\u3051\u3067OK\u306b\u3057\u3066\u304a\u304f)\u3057\u3066\u3001\nrpi\u306b\u3055\u3057\u3053\u3093\u3067\uff5e\u306e\u624b\u9806\u3092\u4f55\u5ea6\u3082\u884c\u3048\u3070OK\u3067\u3059\u3002\n\n\n\u901a\u5e38\u30af\u30ed\u30b9\u958b\u767a\u306a\u3089\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u3084ICE(\u3068\u3044\u3046\u53e4\u3044\u306e\u3082\u3042\u308b)\u4f7f\u3044\u307e\u3059\u304c\u3001\n\u4ecarpi\u3067\u3084\u308a\u305f\u3044\u3053\u3068\u306fV3D\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u753b\u50cf\u3092\u51fa\u3059\u3053\u3068\u3067\u3059\u3002\u3067\u3001\u500b\u4eba\u3067\u624b\u306b\u5165\u308b\u3088\u3046\u306a\u30af\u30ed\u30b9\u958b\u767a\u74b0\u5883\u304c\u3042\u308a\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\u5b9f\u6a5f\u3067\u3072\u305f\u3059\u3089\u30c8\u30e9\u30a4\u30a2\u30f3\u30c9\u30a8\u30e9\u30fc\u3092\u7e70\u308a\u8fd4\u3059\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u5e78\u3044rpi\u306f\u30d6\u30fc\u30c8\u56de\u308a\u304c\u5805\u7262\u306b\u3067\u304d\u3066\u3044\u308b\u306e\u3067\u3001\u713c\u304d\u30df\u30b9\u3063\u305f\u308a\u3057\u3066\u3082\nSD\u30ab\u30fc\u30c9\u3092\u5b9c\u3057\u304f\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3059\u308c\u3070\u5fa9\u5e30\u3059\u308b\u306e\u3067\u30c0\u30e1\u30fc\u30b8\u306f\u304b\u306a\u308a\u5c0f\u3055\u3044\u3067\u3059\u3002\n\n\u3082\u3061\u308d\u3093\u8a73\u3057\u3044\u4eba\u306f\u30b7\u30ea\u30a2\u30eb\u304b\u3089\u30d0\u30a4\u30ca\u30ea\u3092\u66f8\u304d\u8fbc\u3080\u5358\u7d14\u306a\u30b3\u30de\u30f3\u30c9(\u30c0\u30a6\u30f3\u30ed\u30fc\u30c0)\u3092\u81ea\u4f5c\u3057\u3066\u3001\nCPU\u30ec\u30b8\u30b9\u30bf\u3092\u5168\u90e8\u30ea\u30bb\u30c3\u30c8\u3057\u3066\u3001SDRAM\u5074\u306b\u5c55\u958b\u3057\u3066\u30b8\u30e3\u30f3\u30d7\u3059\u308b\u306e\u7e70\u308a\u8fd4\u3057\u3067\u3001\u7269\u7406\u64cd\u4f5c\u306a\u3057\u3067\u958b\u767a\u306e\u30a4\u30c6\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u9ad8\u901f\u5316\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u3053\u3053\u306f\u8da3\u5473\u3068\u958b\u767a\u901f\u5ea6\u3068\u306e\u30c8\u30ec\u30fc\u30c9\u30aa\u30d5\u3068\u306a\u308a\u307e\u3059\u3002\u30c0\u30a6\u30f3\u30ed\u30fc\u30c0\u306f\u8a2d\u8a08\u304c\u91cd\u8981\u306a\u306e\u3067\u3001\u9069\u5f53\u306b\u4f5c\u308b\u3068\u3055\u3063\u304f\u308a\u52d5\u4f5c\u3057\u3066\u304f\u308c\u306a\u3044\u8a8d\u8b58\u3067\u3059\u3002\n\u304c\u3001\u4f5c\u308b\u306e\u304c\u5f97\u610f\u306a\u65b9\u306f\u305c\u3072\u3068\u3082\u81ea\u4f5c\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n# \u30c8\u30e9\u30d6\u30eb\n\n- \uff20\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u304c\u52d5\u4f5c\u3057\u306a\u3044\n\u30ec\u30b8\u30b9\u30bf\u306e\u8a2d\u5b9a\u304c\u9593\u9055\u3063\u3066\u308b\u306e\u3067\u898b\u76f4\u3059\u3053\u3068\u3002\n\n\n- \uff20\u7126\u3052\u81ed\u3044\u3001\u713c\u3044\u3066\u3057\u307e\u3063\u305f\n\u706b\u4e8b\u3067\u3059\u3002\u6ce8\u610f\u3057\u307e\u3057\u3087\u3046\u3002\u30b7\u30ea\u30a2\u30eb\u5909\u63db\u30dc\u30fc\u30c9\u306e\u30ec\u30d9\u30eb\u5909\u63db\u304c\u6b63\u3057\u304f\u306a\u3044\u3068\u30dc\u30fc\u30c9\u3092\u713c\u3044\u3066\u3057\u307e\u3046\u3002RPI\u5074\u306f3.3V\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3002\n\u5909\u63db\u30dc\u30fc\u30c9\u306e\u30c7\u30a3\u30c3\u30d7\u306f\u7d76\u5bfe\u306b\u6ce8\u610f\u3057\u306a\u304c\u3089\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002\n\n- \uff20\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u3054\u307f\u3057\u304b\u3067\u306a\u3044\n2\u3064\u539f\u56e0\u5019\u88dc\u304c\u3042\u308a\u305d\u3046\u3002\n(1) \u30ec\u30b8\u30b9\u30bf\u8a2d\u5b9a\u304c\u5408\u3063\u3066\u3044\u306a\u3044 -> \u30ec\u30b8\u30b9\u30bf\u8a2d\u5b9a\u3092\u898b\u76f4\u3059\u3053\u3068\n(2) \u30bf\u30fc\u30df\u30ca\u30eb\u5074\u306e\u30dc\u30fc\u30ec\u30fc\u30c8\u304c\u5408\u3063\u3066\u3044\u306a\u3044 -> \u30bf\u30fc\u30df\u30ca\u30eb\u5074\u306e\u30dc\u30fc\u30ec\u30fc\u30c8\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\u5024\u306b\u3057\u3066\u307f\u308b(\u30b5\u30f3\u30d7\u30eb\u306f115200)\n\n\u3053\u3093\u306a\u611f\u3058\u3067\u3002\n![\u307c\u30fc\u308c\u30fc\u3068](http://gyabo.sakura.ne.jp/image/rpi_boot1_1.png)\n\n\n- \uff20\u8d77\u52d5\u3059\u3089\u3057\u306a\u3044\n\nstart.elf, bootcode.bin, config.txt\u304c\u306a\u3044\u53ef\u80fd\u6027\u3068\u3001\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u3046\u307e\u304f\u3044\u3063\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u3082\u3042\u308b\u3002\n\u6700\u521d\u304b\u3089\u624b\u9806\u3092\u5b9f\u884c\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\n# \u25a0mailbox\u306b\u3064\u3044\u3066\u25a0\nmailbox\u3068\u547c\u3070\u308c\u308bGPU\u3068\u306e\u3084\u308a\u53d6\u308a\u306b\u4f7f\u308f\u308c\u308b\u4ed5\u7d44\u307f\u304c\u3042\u308a\u307e\u3059\u3002\n\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u30a2\u30c9\u30ec\u30b9\u3001\u30c6\u30af\u30b9\u30c1\u30e3\u30de\u30c3\u30d4\u30f3\u30b0\u306b\u4f7f\u3046VRAM\u306e\u78ba\u4fdd\u306a\u3069\u306f\n\u3059\u3079\u3066\u3053\u306emailbox\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30fc\u30bf\u3092\u4f7f\u3044\u307e\u3059\u3002\n\nhttps://github.com/raspberrypi/firmware/wiki/Mailbox-property-interface\n\n\u30a2\u30af\u30bb\u30b9\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30ec\u30b8\u30b9\u30bf\u30a2\u30af\u30bb\u30b9\u3067\u3084\u308a\u53d6\u308a\u3057\u307e\u3059\u3002\nhttps://github.com/raspberrypi/firmware/wiki/Accessing-mailboxes\n\nBoot\u3067\u4f7f\u3063\u305f\u30bd\u30fc\u30b9\u306emailbox.c\u306b\u5177\u4f53\u7684\u306a\u65b9\u6cd5\u304c\u8a18\u8f09\u3057\u307e\u3057\u305f\u3002\u3088\u308d\u3057\u3051\u308c\u3070\u53c2\u8003\u306b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002\n\n- 16byte-align\u3055\u308c\u305f\u9069\u5f53\u306a\u9818\u57df\u306b\u4e0a\u8a18\u306e\u30b5\u30a4\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u30b3\u30de\u30f3\u30c9\u3092\u66f8\u304d\u8fbc\u307f\n- ARM\u306e\u30a2\u30c9\u30ec\u30b9\u304b\u3089VC\u306e\u30a2\u30c9\u30ec\u30b9\u3078\u30b2\u30bf\u3092\u5c65\u304b\u305b\u305f\u30dd\u30a4\u30f3\u30bf\u3092\u4f5c\u6210\u3057\u3066\n- mailbox\u306e\u66f8\u304d\u8fbc\u307f\u30ad\u30e5\u30fc\u30a2\u30c9\u30ec\u30b9\u306b\u66f8\u304d\u8fbc\u3093\u3067\n- mailbox\u306e\u30ec\u30b9\u30dd\u30f3\u30b9(\u7d50\u679c)\u3092\u5f85\u3064\n\nmailbox\u3068\u306e\u3042\u3089\u3086\u308b\u30c7\u30fc\u30bf\u306e\u3084\u308a\u53d6\u308a\u306f\u4e0a\u8a18\u3092\u7e70\u308a\u8fd4\u3057\u307e\u3059\u3002\n\n\n# \u25a0\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u5f97\u3057\u3066\u7d75\u3092\u51fa\u3059\u25a0\nGPU\u5074\u3068\u901a\u4fe1\u3057\u3066\u3001\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\n\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u53d6\u5f97\u306f\u672c\u5bb6\u30b5\u30a4\u30c8\u304c\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002\n\nMailbox-framebuffer-interface\nhttps://github.com/RaspberryPI/firmware/wiki/Mailbox-framebuffer-interface\n\n\u7279\u306b\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u5834\u5408\u3001\u3059\u3067\u306b\u56fa\u5b9a\u3067\u6a5f\u80fd\u304c\u5272\u308a\u632f\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u4e00\u767a\u3067\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u304c\u53d6\u308c\u307e\u3059\u3002\n\n\u203b\n\u5b9f\u306f\u9069\u5f53\u306bfirmware\u30ea\u30ea\u30fc\u30b9\u3092\u898b\u308b\u3068\u3053\u306e\u6a5f\u80fd\u306fdeprecated\u3089\u3057\u3044\u3067\u3059\u304c\u3001\u4e0b\u4f4d\u4e92\u63db\u6027\u306e\u305f\u3081\u306b\u4ed5\u7d44\u307f\u3092\u6b8b\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\n\u30bd\u30fc\u30b9\u5931\u5ff5\u3002\u6bd4\u8f03\u306e\u305f\u3081\u306b\u4e0a\u8a18\u6a5f\u80fd\u3068framebuffer\u3092\u5225\u500b\u53d6\u308b\u65b9\u6cd5\u3067\u901f\u5ea6\u3084\u624b\u9593\u3092\u898b\u307e\u3057\u305f\u304c\u3001\u4e0a\u8a18\u306e\u4e00\u767a\u53d6\u5f97\u306e\u65b9\u304c\u826f\u3055\u305d\u3046\u3067\u3059\u3002\u697d\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u3067\u306f\u30af\u30e9\u30b7\u30ab\u30eb\u306aXOR\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u8a08\u7b97\u3057\u3066\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002\n\u7c21\u5358\u306b\u3059\u308b\u305f\u3081\u306b\u4ee5\u4e0b\u306eI/F\u3092mailbox\u306e\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u306b\u66f8\u3044\u3066\u307e\u3059\u3002\n\n```\nmailbox_fb_init : \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u521d\u671f\u5316\nmailbox_fb_ptr : \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u5148\u982d\u30dd\u30a4\u30f3\u30bf(VideoCore\u5074)\u53d6\u5f97\n```\n\n\u4ee5\u4e0b\u306e\u901a\u308a\u7d75\u304c\u51fa\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n![\u548c\u83d3\u5b50\u3063\u307d\u3044](http://gyabo.sakura.ne.jp/image/rpi_boot2_1.jpg)\n\n\u3053\u3053\u307e\u3067\u6765\u308c\u3070\u5272\u3068\u3044\u308d\u3044\u308d\u3067\u304d\u307e\u3059\u3002\n\n# \u25a0\u30dd\u30ea\u30b4\u30f3\u51fa\u3059\u305f\u3081\u306e\u6982\u8981\u25a0\n\u8aac\u660e\u306b\u4f7f\u3046\u30bd\u30fc\u30b9 -> [http://gyabo.sakura.ne.jp/prog/RPI2_TRIANGLE_DEMO5.zip](http://gyabo.sakura.ne.jp/prog/RPI2_TRIANGLE_DEMO5.zip)\n\u3055\u3066\u3001\u4e0b\u6e96\u5099\u304c\u3067\u304d\u307e\u3057\u305f\u306e\u3067\u3001VideoCore VI(GPU)\u3067\u30c6\u30af\u30b9\u30c1\u30e3\u4ed8\u304d\u30dd\u30ea\u30b4\u30f3\u3092\u51fa\u3059\u305f\u3081\u306e\u624b\u9806\u3092\u6574\u7406\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u624b\u9806\u3068\u306a\u308a\u307e\u3059\u3002\n\n```\n(1) QPU\u3092\u6709\u52b9\u306b\u3059\u308b(\u305d\u3046\u3057\u306a\u3044\u3068V3D\u306e\u30ec\u30b8\u30b9\u30bf\u304c\u898b\u3048\u306a\u3044)\n(2) \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u3092\u53d6\u5f97\u3059\u308b(\u524d\u8ff0)\n(3) V3D_L2CACTL\u3067L2\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6709\u52b9\u306b\u3059\u308b \u203b\u5358\u306b\u30dd\u30ea\u30b4\u30f3\u3060\u3051\u51fa\u3057\u305f\u3044\u306a\u3089\u4e0d\u8981\n(4) \u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4f5c\u6210\u3057\u3066\u8ee2\u9001 \u203b\u5358\u306b\u30dd\u30ea\u30b4\u30f3\u3060\u3051\u51fa\u3057\u305f\u3044\u306a\u3089\u4e0d\u8981\n\nwhile {\n  (5) binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a(\u30bf\u30a4\u30eb\u6570\u3001Viewport\u8a2d\u5b9a\u3001MSAAx4\u306e\u8a2d\u5b9a\u3001\u9802\u70b9\u30d0\u30c3\u30d5\u30a1\u306e\u8a2d\u5b9a\u306a\u3069)\n  (6) rendering\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a(\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u5bfe\u8c61\u306e\u9818\u57df\u3078binning\u3067\u5f97\u3089\u308c\u305f\u60c5\u5831\u3092\u3069\u306e\u30bf\u30a4\u30eb\u306b\u5272\u308a\u5f53\u3066\u308b\u304b\u306e\u30ea\u30f3\u30af\u30ea\u30b9\u30c8\u3092\u4f5c\u6210)\n  (7) binning\u51e6\u7406\u767a\u884c(binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u51e6\u7406)\n  (8) rendering\u51e6\u7406\u767a\u884c(rendering\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u51e6\u7406)\n  (9) \u516c\u5f0f\u63d0\u4f9b\u306efake_isr\u3067vsync\u3092\u53d6\u308b\n}\n```\n\n\u203b\n(7), (8)\u306f\u9045\u5ef6\u3055\u305b\u3066\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u304c\u3001\u7c21\u4fbf\u306e\u305f\u3081\u306b\u3053\u306e\u624b\u9806\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u3067\u306f\u4e0a\u8a18\u306e\u9762\u5012\u51e6\u7406\u3092\u3001mailbox.h\u3068\u3001v3d.h\u306e\u30d8\u30c3\u30c0\u306b\u8a70\u3081\u3066\u307e\u3059\u3002\n\u307e\u3060\u304b\u306a\u308a\u751f\u66f8\u304d\u306e\u72b6\u614b\u3067\u898b\u3065\u3089\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001PDF\u3068\u4f75\u305b\u3066\u53c2\u8003\u306b\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n1\u30641\u3064\u89e3\u8aac\u3057\u307e\u3059\u3002\n\n# \u25a0(1) QPU\u3092\u6709\u52b9\u306b\u3059\u308b(\u305d\u3046\u3057\u306a\u3044\u3068V3D\u306e\u30ec\u30b8\u30b9\u30bf\u304c\u898b\u3048\u306a\u3044)\u25a0\n\u30b5\u30f3\u30d7\u30eb\u306e\u95a2\u6570 : mailbox_qpu_enable \u3092\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n```\n//https://github.com/phire/hackdriver/blob/master/test.cpp\nuint32_t mailbox_qpu_enable() {\n\tint i  = 0;\n\tp[i++] = 0;          // size\n\tp[i++] = 0x00000000; // process request\n\tp[i++] = SET_CLOCK_RATE; // (the tag id)\n\tp[i++] = 0x00000008; // (the tag id)\n\tp[i++] = 0x00000008; // (the tag id)\n\tp[i++] = 5;          // V3D\n\tp[i++] = 250 * 1000 * 1000;\n\tp[i++] = ENABLE_QPU;    // (the tag id)\n\tp[i++] = 4;          // (size of the buffer)\n\tp[i++] = 4;          // (size of the data)\n\tp[i++] = 1;\n\tp[i++] = 0x00000000; // end tag\n\tp[0]   = i * sizeof(uint32_t); // actual size\n\n\tdo {\n\t\tmailbox_write(MAILBOX_ARM_TO_VC, ArmToVc((void *)p));\n\t\tmailbox_read(MAILBOX_ARM_TO_VC);\n\t\tif(p[1] == 0x80000000) {\n\t\t\tbreak;\n\t\t}\n\t\tuart_debug_puts(\"mailbox_qpu_enable FAILED p[1]=\\n\", p[1]);\n\t} while(1);\n\tuart_debug_puts(\"mailbox_qpu_enable OK \\n\", p[1]);\n\treturn p[1];\n\n}\n```\n\n\u2191\n\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\u516c\u5f0f\u306b\u306f\u5168\u304f\u66f8\u3044\u3066\u306a\u3044\u306e\u3067\u3059\u304c\u3001<b>\u4e0a\u8a18\u51e6\u7406\u304c\u7121\u3044\u3068QPU\u306e\u30ec\u30b8\u30b9\u30bf\u306b\u5168\u304fRead/Write\u3067\u304d\u307e\u305b\u3093\u3002</b>\n\u3053\u308c\u306f\u8d77\u52d5\u76f4\u5f8c\u4e00\u56de\u3084\u308c\u3070OK\u3067\u3059\u3002\u5c1a\u3001\u30bd\u30d5\u30c8\u30ea\u30bb\u30c3\u30c8\u76f4\u5f8c\u3060\u3068Read/Write\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\n\u96fb\u6e90\u3092\u5b8c\u5168\u306b\u5207\u3063\u305f\u5f8c\u3060\u3068NG\u3067\u3042\u308b\u4e8b\u304c\u308f\u304b\u3063\u3066\u3044\u307e\u3059\u3002\u8d77\u52d5\u6bce\u306b\u3084\u308a\u307e\u3057\u3087\u3046\u3002\n\n# \u25a0(2) \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u3092\u53d6\u5f97\u3059\u308b\u25a0\n\u524d\u8ff0\u306e\u901a\u308amailbox\u7d4c\u7531\u3067\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u308a\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u306e\u95a2\u6570 : mailbox_fb_init\u3092\u53c2\u8003\u306b\u4ee5\u4e0b\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n```\nint32_t mailbox_fb_init(uint32_t w, uint32_t h) {\n\tvolatile mailbox_fb *fb = mailbox_fb_getaddr();\n\tfb->width   = w;\n\tfb->height  = h;\n\tfb->vwidth  = fb->width;\n\tfb->vheight = fb->height;\n\tfb->pitch   = 0;\n\tfb->depth   = 32;\n\tfb->x       = 0;\n\tfb->y       = 0;\n\tfb->pointer = 0;\n\tfb->size    = 0;\n\n\tint count = 0;\n\tdo {\n\t\tmailbox_write(MAILBOX_FRAMEBUFFER, ArmToVc((void *)fb));\n\t\tmailbox_read(MAILBOX_FRAMEBUFFER);\n\t\tif(fb->pointer) {\n\t\t\tbreak;\n\t\t}\n\t\tcount++;\n\t\tusleep(0x1000);\n\t\tuart_debug_puts(\"MAILBOX_FRAMEBUFFER count=\\n\", count);\n\t} while(1);\n\tis_fb_init = 1;\n\treturn 0;\n}\n```\n\n\n# \u25a0V3D_L2CACTL\u3067L2\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6709\u52b9\u306b\u3059\u308b\u25a0\n\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4f7f\u3046\u305f\u3081\u306b\u6709\u52b9\u5316\u3057\u307e\u3059\u3002\u7406\u7531\u3067\u3059\u304c\u3001\u516c\u5f0fPDF\u306e\nSection 2: Architecture Overview -> Figure 1:  VideoCore\u00ae IV 3D System Block Diagram\u3092\u898b\u3066\u304f\u3060\u3055\u3044\u3002\nL2 CACHE\u7d4c\u7531\u3067TMU\u306b\u30c7\u30fc\u30bf\u304c\u5404QPU\u306b\u6e21\u3055\u308c\u307e\u3059\u3002\u6982\u8981\u306f\u4ee5\u4e0b\u629c\u7c8b\u3002\n\n```\nThere is nominally one Texture and Memory lookup Unit (TMU) per slice, but texturing performance can be scaled by adding TMUs.\nDue to the use of multiple slices, the same texture will appear in more than one TMU. Each texture unit has a small L1 cache.\nThere is an L2 cache (L2C) shared between all texture units\n```\n\n\n# \u25a0(4) \u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4f5c\u6210\u3057\u3066\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8a2d\u5b9a\u3057\u3066\u30e1\u30e2\u30ea\u306b\u683c\u7d0d\u25a0\n\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4f5c\u6210\u3001\u30e1\u30e2\u30ea\u306b\u683c\u7d0d\u3057\u307e\u3059\n\n- \u30c6\u30af\u30b9\u30c1\u30e3\u3092\u4ed5\u69d8\u306b\u5f93\u3063\u3066\u4f5c\u6210\n- mailbox\u7d4c\u7531\u3067\u30c6\u30af\u30b9\u30c1\u30e3\u7528\u306e\u30e1\u30e2\u30ea\u3092\u53d6\u5f97(\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3060\u3068handle\u3068\u3044\u30464byte\u306e\u30a2\u30c9\u30ec\u30b9\u304c\u53d6\u308c\u308b)\n- \u30a2\u30c9\u30ec\u30b9\u3092VideoCore\u30a2\u30c9\u30ec\u30b9\u304b\u3089ARM\u5074\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u63db\n- shader\u306b\u6e21\u3059uniform\u306e\u30a2\u30c9\u30ec\u30b9\u3092V3D\u306b\u8a2d\u5b9a\n- \u30c6\u30af\u30b9\u30c1\u30e3\u306eMINFILTER, MAGFILTER\u306eON/OFF\u8a2d\u5b9a\n\n### \u25c6\u30c6\u30af\u30b9\u30c1\u30e3\u306e\u30e1\u30e2\u30ea\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\n\u3055\u3066\u3001\u307e\u305a\u30c6\u30af\u30b9\u30c1\u30e3\u3067\u3059\u304c\u3001\u516c\u5f0fPDF\u306eSection 11: Texture Memory Format\u306b\u3088\u308b\u3068\u3001microtile\u3068\u3044\u3046\u5358\u4f4d\u3067\u6271\u308f\u308c\u307e\u3059\u3002\n\u203b\u56f3\u3092\u629c\u7c8b\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/34428/c6f62a0d-9a08-03e7-9eb1-6ea3e08fb451.png)\n\n\u3053\u306emicrotile\u3092\u6c7a\u307e\u3063\u305f\u9806\u5e8f\u3067\u4e26\u3079\u305f1kByte\u5206\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u304c\u4ee5\u4e0b\u3067\u3059(T-FORMAT\u3068\u3044\u3044\u307e\u3059\u3002PDF\u629c\u7c8b)\n\u203b\u56f3\u3092\u629c\u7c8b\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/34428/287cc11f-34e4-086f-fcc5-388ffae596b6.png)\n\n\u3048\u3089\u3044\u3081\u3093\u3069\u304f\u3055\u3044\u3067\u3059\u304c\u3001\u4ed5\u69d8\u4e0aTMU\u304b\u3089\u30d5\u30a7\u30c3\u30c1\u3059\u308b\u753b\u50cf\u30d4\u30af\u30bb\u30eb\u30c7\u30fc\u30bf\u306f\u4e0a\u8a18\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067GPU\u306b\u6e21\u3055\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\u3053\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3058\u3083\u306a\u3044\u3068\u610f\u56f3\u3057\u305f\u30d4\u30af\u30bb\u30eb\u306e\u4e26\u3073\u306b\u306a\u308a\u307e\u305b\u3093\u3002\n\n\u79c1\u306f\u9762\u5012\u3060\u3063\u305f\u306e\u3067LUT\u3092\u4f7f\u3063\u3066256x256\u306b\u9650\u5b9a\u3057\u3066\u30c6\u30fc\u30d6\u30eb\u3092\u4f5c\u6210\u3057\u3066\u753b\u50cf\u3092\u6d41\u3057\u8fbc\u3080\u3053\u3068\u306b\u3057\u307e\u3057\u305f\u3002\n\u30c6\u30fc\u30d6\u30eb\u4f5c\u6210\u306fmicrosoft\u306e\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u306e\u4ee5\u4e0b\u306e\u4ed5\u7d44\u307f\u3092\u6539\u9020\u3057\u3066\u4f5c\u308a\u307e\u3057\u305f\u3002\n\nhttps://github.com/Microsoft/graphics-driver-samples/blob/34b95fae7e6ec84b9d08ebd35be8a557555e7ed8/render-only-sample/rosumd/RosUmdResource.cpp#L426\n\n\n\u6b21\u306b\u30c6\u30af\u30b9\u30c1\u30e3\u30e1\u30e2\u30ea\u78ba\u4fdd\u306e\u8a71\u3067\u3059\u3002\u8a73\u3057\u3044\u8a71\u306f\u516c\u5f0fPDF\u306e\u300cTexture and Memory Lookup Unit Setup\u300d\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u306e : mailbox_allocate_memory\u3067\u884c\u3044\u307e\u3059\u3002\u6ce8\u610f\u304c\u3042\u3063\u3066\u3001mem_align=4kbyte\u5358\u4f4d\u3067\u78ba\u4fdd\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u203b\u516c\u5f0fPDF\u300cTexture Base Pointer (in multiples of 4Kbytes)\u300d\u3088\u308a\n\n\u30b5\u30f3\u30d7\u30eb\u3067\u306f256 x 256 x 4\u306e\u30c6\u30af\u30b9\u30c1\u30e3\u3092\u6e21\u3059\u306e\u3067\u30014096 x 64 byte\u5206\u306e\u30e1\u30e2\u30ea\u304c\u5fc5\u8981\u3067\u3059\u3002\n\u4f75\u305b\u3066\u3001PrimitiveDraw\u6642\u306b\u6e21\u3059uniform\u30a2\u30c9\u30ec\u30b9\u3067\u3001\u304b\u3064texture\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u5148\u982d32Byte x 2\u306e\u9818\u57df\u306f\nTexture Config Parameter0, 1\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n(\u203b\u3059\u307f\u307e\u305b\u3093\u3001\u3053\u306e\u8fba\u308a\u3082\u3063\u3068\u8aad\u307f\u8fbc\u3081\u308c\u3070\u3088\u304b\u3063\u305f\u306e\u3067\u6307\u6458\u304f\u3060\u3055\u3044)\n\u4e0a\u8a18\u3092\u8e0f\u307e\u3048\u3066\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u629c\u7c8b\u306f\u4ee5\u4e0b\u3067\u3059\u3002\n\n```\nvoid V3DSetupTexture(V3DContext *ctx, uint32_t num, uint32_t width, uint32_t height, void *data) {\n\tconst uint32_t mem_align = 4096;\n\n\tV3DTextureInfo *p = ctx->texture_info[num];\n\tp->handle = mailbox_allocate_memory(4 * (width * height) + mem_align, mem_align, 0);\n\tif(p->handle) {\n\t\tp->addr = mailbox_lock_memory(p->handle);\n\t\tp->uniform_param = p->addr;\n\t\tp->addr = VcToArm(p->addr);\n\t\tp->width = width;\n\t\tp->height = height;\n\t\t\n\t\tuint32_t *dest = (uint32_t  *)(p->addr + mem_align); //\u30e1\u30e2\u30ea\u30a2\u30e9\u30a4\u30f31\u3064\u5206\u96e2\u308c\u305f\u7b87\u6240\u304b\u3089\u30c6\u30af\u30b9\u30c1\u30e3\u304c\u59cb\u307e\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u3053\u308c\u306f\u9069\u5f53\u3002\n\t\tuint32_t *src = (uint32_t  *)data;\n\t\tuint32_t *param = (uint32_t *)p->addr;\n\t\tparam[0] = 0;\n\t\tparam[0] |= p->addr + mem_align; //\u30e1\u30e2\u30ea\u30a2\u30e9\u30a4\u30f31\u3064\u5206\u96e2\u308c\u305f\u7b87\u6240\u304b\u3089\u30c6\u30af\u30b9\u30c1\u30e3\u304c\u59cb\u307e\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u3053\u308c\u306f\u9069\u5f53\u3002\n\n\t\tparam[1] = 0;\n\t\tparam[1] |= ( (width ) << 8);\n\t\tparam[1] |= ( (height) << 20);\n\t\t/*\n\t\tparam[1] |= (1 << 7); //MAGFILTER\u7121\u52b9\u306b\u306a\u308b\n\t\tparam[1] |= (1 << 4); //MINFILTER\u7121\u52b9\u306b\u306a\u308b\n\t\t*/\n\t\tparam[2]  = 0;\n\t\tparam[3]  = 0;\n\t\t\n\t\tconst uint16_t *table = GetLTFormat256x256(); //LUT\u3092\u4f7f\u3063\u3066RAW\u3092T-FORMAT\u306b\u5909\u63db\n\t\tfor(int i = 0 ; i < width * height; i++) {\n\t\t\tuint32_t offset = table[i];\n\t\t\tdest[i] = src[offset];\n\t\t}\n\t\t\n\t\tmailbox_unlock_memory(p->handle);\n\t}\n}\n```\n\n\u203b\u4e00\u756a\u9762\u5012\u3060\u3063\u305f\u3068\u3053\u308d\u3067\u3059\u2026\n\n\n# \u25a0(5) binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a\u25a0\n\u203b\u3053\u3053\u304b\u3089\u8aac\u660e\u304c\u9813\u73cd\u6f22\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3059\u307f\u307e\u305b\u3093\u3002\n\n\u30bf\u30a4\u30eb\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3GPU\u3067\u6709\u540d\u306a\u306e\u306fPowerVR\u30b7\u30ea\u30fc\u30ba\u304c\u3042\u308a\u307e\u3059\u3002\nhttps://imgtec.com/powervr/graphics/architecture/\n\n\u8a73\u7d30\u306fWiki\u306b\u8b72\u308a\u307e\u3059\u3002\nhttps://ja.wikipedia.org/wiki/PowerVR\n\n\nbinning\u306f\u3001\u753b\u9762\u3092\u30bf\u30a4\u30eb\u3068\u547c\u3070\u308c\u308b\u5c0f\u3055\u3044\u9762\u3067\u5206\u5272\u3057\u3066\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306e\u524d\u6e96\u5099\u3092\u884c\u3046phase\u3067\u3059\u3002\nrendering\u306fbinning\u3067\u4f5c\u6210\u3057\u305f\u60c5\u5831\u3092\u7528\u3044\u3066\u5b9f\u969b\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0(RAM\u306b\u30d4\u30af\u30bb\u30eb\u3092\u66f8\u304d\u51fa\u3057)\u3059\u308bphase\u3067\u3059\u3002\n\n\nVideoCoreIV\u306b\u304a\u3044\u3066binning, rendering\u3092\u884c\u3046\u305f\u3081\u306b\u306fV3D\u306eControlList\u3068\u547c\u3070\u308c\u308b\u3082\u306e\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\nControlList\u306fControlCode\u3068\u547c\u3070\u308c\u308b\u30b3\u30de\u30f3\u30c9\u306e\u30d0\u30a4\u30ca\u30ea\u5217\u3067\u69cb\u7bc9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3092V3D\u306ebinning\u5b9f\u884c\u7528\u30ec\u30b8\u30b9\u30bf\u3068\u3001rendering\u5b9f\u884c\u7528\u30ec\u30b8\u30b9\u30bf\u306b\u8a2d\u5b9a\u3057\u3066\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\n\u30b3\u30de\u30f3\u30c9\u5217\u3067\u6307\u5b9a\u3055\u308c\u305fRAM\u306e\u5148\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u7d50\u679c\u304c\u66f8\u304d\u51fa\u3055\u308c\u308b\u3001\u3068\u3044\u3046\u4ed5\u7d44\u307f\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u30ab\u30f3\u306e\u826f\u3044\u65b9\u306f\u6c17\u3065\u3044\u305f\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001RAM\u306e\u5148 == \u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306b\u3057\u3066\u3042\u3052\u308c\u3070\u753b\u9762\u4e0a\u306b\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3001\u3068\u3044\u3046\u308f\u3051\u3067\u3059\u3002\n\n\u516c\u5f0fPDF\u306eSection 9: Control Lists\u306b\u8a73\u7d30\u306a\u30b3\u30de\u30f3\u30c9\u304c\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u975e\u5e38\u306b\u591a\u3044\u306e\u3067\u3053\u3053\u3067\u306f\u30de\u30eb\u30b4\u30c8\u8a18\u8f09\u306f\u3057\u307e\u305b\u3093\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u3067\u306f\u5fc5\u8981\u306a\u524d\u51e6\u7406\u306f\u4ee5\u4e0b\u306e\u95a2\u6570\u306b\u5168\u90e8\u8a70\u3081\u307e\u3057\u305f\u3002\n\n```\nv3d.c : V3DBeginScene\nv3d.c : V3DSetDrawPrimitive\nv3d.c : V3DEndScene\nv3d.c : V3DControlListSetupRendering \u203brendering\u3067\u89e3\u8aac\u3057\u307e\u3059\n\n```\n\n\u5185\u90e8\u3067\u306f\u516c\u5f0fPDF\u306eControlLists\u306e\u30c6\u30fc\u30d6\u30eb\u304b\u3089\u5024\u3092\u6c7a\u5b9a\u3057\u3001binning\u306b\u5fc5\u8981\u306a\u30b3\u30de\u30f3\u30c9\u3092\u4e26\u3079\u3066\n\u5f8c\u3067\u30ec\u30b8\u30b9\u30bf\u306b\u6e21\u3059\u9069\u5f53\u306a\u30e1\u30e2\u30ea\u306e\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u304b\u3089\u5f90\u3005\u306b\u8a70\u3081\u3066\u3044\u304d\u307e\u3059\u3002\u4e0a\u8a18\u3092\u4e26\u3079\u3066\u5b9f\u884c\u3059\u308b\u3068\u4ee5\u4e0b\u3092\u884c\u3044\u307e\u3059\u3002\n\n```\n\u30fbbinning\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3059\u30b3\u30de\u30f3\u30c9\u66f8\u304d\u8fbc\u307f\n\n\u30fbbinning\u3059\u308b\u305f\u3081\u306e\u30bf\u30a4\u30eb\u30b5\u30a4\u30ba\u3001\u30bf\u30a4\u30eb\u6570\u3001\u30bf\u30a4\u30eb\u306eWidth, Height\u6c7a\u5b9a\u3001binning\u306e\u7d50\u679c\u3092\u8ee2\u9001\u3059\u308b\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\n\n\u30fbbinning\u958b\u59cb\n\n\u30fb\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u8a2d\u5b9a(Viewport\u306e\u8a2d\u5b9a\u3001Viewport\u306e\u30aa\u30d5\u30bb\u30c3\u30c8)\n\n\u30fb\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u306eCCW\u8a2d\u5b9a\n\n\u30fbMSAA\u6709\u52b9\u5316\n\n\u30fbbinning\u30b9\u30c6\u30fc\u30c8\u521d\u671f\u5316\n\n\u30fb\u4f5c\u6210\u3057\u305f\u30dd\u30ea\u30b4\u30f3\u306e\u9802\u70b9\u3001\u30b7\u30a7\u30fc\u30c0\u306e\u60c5\u5831(V3DShaderInfoFmt)\u3092\u8a2d\u5b9a\n\n\u30fb\u63cf\u753b\u3059\u308b\u30dd\u30ea\u30b4\u30f3\u306e\u9802\u70b9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u8a2d\u5b9a(\u30b5\u30f3\u30d7\u30eb\u3067\u306fglDrawArray\u3067\u63cf\u753b\u3059\u308b\u306e\u3068\u4e00\u7dd2\u306b\u3057\u3066\u3044\u307e\u3059)\n\n\u30fbbinning\u306eControlList\u306eFLUSH : \u5fc5\u9808\u3089\u3057\u3044\n\n\u30fbbinning\u306eControlList\u306e\u7d42\u4e86 : NOP\u51e6\u7406\u3067\u7d42\u308f\u308b\n\n\u30fbV3DControlListSetupRendering : \u6b21\u3067\u89e3\u8aac\u3057\u307e\u3059\n\n```\n\n\u95a2\u6570\u3092\u5b9f\u884c\u3059\u308b\u3068\u4e0a\u8a18\u304c\u884c\u308f\u308c\u307e\u3059\u304c\u3001\u307e\u3060\u63cf\u753b\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002binning\u3092\u3059\u308b\u305f\u3081\u306e\u524d\u6e96\u5099\u3060\u3051\u3067\u3059\u3002\n\n\n# \u25a0(6) rendering\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a\u25a0\nbinning\u540c\u69d8\u3001rendering\u7528\u306eControlList\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n\u30b5\u30f3\u30d7\u30eb\u3060\u3068\u95a2\u6570 : V3DControlListSetupRendering\u306b\u5168\u90e8\u8a70\u3081\u307e\u3057\u305f\u3002\n\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306eControlList\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n```\n\u30fbrendering\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3059\u30b3\u30de\u30f3\u30c9\u66f8\u304d\u8fbc\u307f\n\n\u30fbClearColor\u306e\u8272\u3092\u6c7a\u5b9a\n\n\u30fb\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306eWidth, Height, \u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\n\n\u30fbbinning\u3067\u66f8\u304d\u51fa\u3055\u308c\u3066\u3044\u308b\u306f\u305a\u306e\u30a2\u30c9\u30ec\u30b9\u3092\u30bf\u30a4\u30eb\u6bce\u306b\u8a2d\u5b9a\u3059\u308b(\u4e01\u5be7\u306b\u30a2\u30c9\u30ec\u30b9\u8a08\u7b97\u3092\u884c\u3046)\n\n\u30fbrendering\u306eControlList\u306e\u7d42\u4e86 : NOP\u51e6\u7406\u3067\u7d42\u308f\u308b\n\n```\n\n\u3053\u3053\u3067\u521d\u3081\u3066\u3069\u306e\u30bf\u30a4\u30eb\u304c\u3069\u306ebinning\u60c5\u5831\u3092\u4f7f\u7528\u3059\u308b\u304b\u304c\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002\n\n<b>\u307e\u3060\u63cf\u753b\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002<b>rendering\u3092\u3059\u308b\u305f\u3081\u306e\u524d\u6e96\u5099\u3060\u3051\u3067\u3059\u3002\n\n\n# \u25a0(7) binning\u51e6\u7406\u767a\u884c(binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u51e6\u7406)\u25a0\n\u30b5\u30f3\u30d7\u30eb\u3060\u3068\u95a2\u6570 : V3DControlPresentBinning\u306b\u5168\u90e8\u8a70\u3081\u307e\u3057\u305f\u3002\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n```\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_BFC\u306b1\u3092\u66f8\u304d\u8fbc\u3093\u3067flush\u30ab\u30a6\u30f3\u30bf\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\n\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_CT0CA\u306bbinning\u306eControlList\u306e\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3059\n\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_CT0EA\u306bbinning\u306eControlList\u306e\u7d42\u4e86\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3059(\u3053\u306e\u6642\u70b9\u3067binning\u304c\u958b\u59cb\u3055\u308c\u308b)\n\n\u30fbV3D_BFC\u3092\u30dd\u30fc\u30ea\u30f3\u30b0\u3057\u3066\u3001flush\u3055\u308c\u305f\u304b\u76e3\u8996\u3059\u308b\n\n```\n\n\u7d42\u308f\u3089\u306a\u3044\u5834\u5408(\u4f55\u304bbinning\u306e\u8a2d\u5b9a\u304c\u9593\u9055\u3063\u3066\u308b\u306a\u3069)\u3092\u60f3\u5b9a\u3057\u3066\u9069\u5f53\u306a\u30ab\u30a6\u30f3\u30bf\u3092\u8a2d\u3051\u3066\u3001\n\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306a\u4ed5\u7d44\u307f\u3092\u8a70\u3081\u3066\u3044\u307e\u3059\u3002\n\u7d42\u4e86\u3059\u308b\u3068\u3001\u300c(5) binning\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u8a2d\u5b9a\u300d\u3067\u8a2d\u5b9a\u3057\u305fbinning\u306e\u66f8\u304d\u51fa\u3057\u5148\u306e\u30a2\u30c9\u30ec\u30b9\u306b\nrendering\u7528\u306e\u30c7\u30fc\u30bf\u304c\u66f8\u304d\u8fbc\u307e\u308c\u307e\u3059\u3002\n\n\n# \u25a0(8) rendering\u51e6\u7406\u767a\u884c(rendering\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8\u3092\u51e6\u7406)\u25a0\n\u307e\u3060\u7d9a\u304d\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u3060\u3068\u95a2\u6570 : V3DControlPresentRendering\u306b\u5168\u90e8\u8a70\u3081\u307e\u3057\u305f\u3002\n\u3084\u3063\u3066\u3044\u308b\u3053\u3068\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\n```\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_RFC\u306b1\u3092\u66f8\u304d\u8fbc\u3093\u3067flush\u30ab\u30a6\u30f3\u30bf\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\n\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_CT1CA\u306bbinning\u306eControlList\u306e\u5148\u982d\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3059\n\n\u30fb\u30ec\u30b8\u30b9\u30bfV3D_CT1EA\u306bbinning\u306eControlList\u306e\u7d42\u4e86\u30a2\u30c9\u30ec\u30b9\u3092\u6e21\u3059(\u3053\u306e\u6642\u70b9\u3067rendering\u304c\u958b\u59cb\u3055\u308c\u308b)\n\n\u30fbV3D_RFC\u3092\u30dd\u30fc\u30ea\u30f3\u30b0\u3057\u3066\u3001flush\u3055\u308c\u305f\u304b\u76e3\u8996\u3059\u308b\n\n```\n\n\u7d42\u308f\u3089\u306a\u3044\u5834\u5408(\u4f55\u304brendering\u306e\u8a2d\u5b9a\u304c\u9593\u9055\u3063\u3066\u308b\u306a\u3069)\u3092\u60f3\u5b9a\u3057\u3066\u9069\u5f53\u306a\u30ab\u30a6\u30f3\u30bf\u3092\u8a2d\u3051\u3066\u3001\n\u30c7\u30d0\u30c3\u30b0\u3067\u304d\u308b\u3088\u3046\u306a\u4ed5\u7d44\u307f\u3092\u8a70\u3081\u3066\u3044\u307e\u3059\u3002\n\u3054\u53c2\u8003\u307e\u3067\u306b\u3002\n\n<b>\n\u3053\u306e\u51e6\u7406\u304c\u7d42\u308f\u3063\u3066\u521d\u3081\u3066\u76ee\u7684\u306eRAM\u306b\u30d4\u30af\u30bb\u30eb\u3068\u30dd\u30ea\u30b4\u30f3\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002\n</b>\n\u304c\u3001\u307e\u3060vsync\u304c\u6b8b\u3063\u3066\u3044\u307e\u3059\u3002\n\n# \u25a0(9) \u516c\u5f0f\u63d0\u4f9b\u306efake_isr\u3067vsync\u3092\u53d6\u308b\u25a0\nvsync\u3001\u3064\u307e\u308a\u5782\u76f4\u540c\u671f\u3092\u3068\u308a\u307e\u3059\u3002\n\n[\u53c2\u8003]\nhttps://github.com/raspberrypi/firmware/issues/67\n\n\n\u516c\u5f0f\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u53c2\u8003\u306bvsync\u7528\u306e\u30b3\u30fc\u30c9\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\u4ee5\u4e0b\u306e\u901a\u308a\u3068\u306a\u308a\u307e\u3059\u3002\n\n```\n\nvoid fake_vsync(void) {\n\t//NEED config.txt -> fake_vsync_isr=1\n\tIO_WRITE(IRQ_GPU_ENABLE2, IRQ_GPU_FAKE_ISR);\n\tIO_WRITE(SMI_CS, 0);\n\twhile( (IO_READ(IRQ_GPU_PENDING2) & IRQ_GPU_FAKE_ISR) == 0 );\n}\n\n```\n\n\u3053\u308c\u3067\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u5782\u76f4\u540c\u671f\u304c\u3067\u304d\u307e\u3059\u3002\n\u30ec\u30b8\u30b9\u30bf\u306fARM\u5074\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n<b>\u306a\u304a\u3001firmware\u306f\u65b0\u3057\u3044\u306e\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002config.txt\u306efake_vsync_isr=1\u3092\u6709\u52b9\u306b\u3059\u308b\u305f\u3081\u3067\u3059\u3002</b>\n\u521d\u671f\u306efirmware\u3060\u3068\u3053\u306e\u6a5f\u80fd\u304c\u7121\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002\n\n<b>\u3053\u308c\u3067\u521d\u3081\u30661\u30d5\u30ec\u30fc\u30e0\u63cf\u753b\u3067\u304d\u307e\u3059\u3002\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\u3002</b>\n\n\n\n# \u25a0\u305d\u306e\u4ed6 : \u9802\u70b9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u25a0\n\u516c\u5f0fPDF\u306eVPM Vertex Data Formats\u306b\u8a18\u8f09\u304c\u3042\u308a\u307e\u3059\u3002\n\u203b\u8cc7\u6599\u629c\u7c8b\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/34428/414000df-758c-8b2e-4bf2-a22c77a8dfc9.png)\n\nX\u5ea7\u6a19\u3068Y\u5ea7\u6a19\u306f\u56fa\u5b9a\u5c0f\u6570\u70b9\u306e\u7b26\u53f7\u4ed8\u304d\u6574\u6570\u3067\u3059\u300212bit\u304c\u5b9f\u6570\u90e8\u30014bit\u304c\u5c0f\u6570\u90e8\u3067\u6271\u3044\u307e\u3059(12.4)\n\u305d\u308c\u4ee5\u5916\u306f\u5168\u90e832bit\u6d6e\u52d5\u5c0f\u6570\u70b9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u3059\u3002\n\n\u6163\u308c\u3066\u3044\u308b\u65b9\u306b\u306f\u306a\u3093\u3060\u3068\u601d\u3046\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u4e0a\u306e(100, 100)\u306e\u9802\u70b9\u3092\u8868\u3059\u305f\u3081\u306b\u306f\nx = 100 << 4;\ny = 100 << 4;\n\u3068\u3057\u307e\u3059\u3002\u4e0a\u8a18\u306e\u5ea7\u6a19\u3092Xs, Ys\u306b\u6e21\u3057\u307e\u3059\u3002\n\n\u306a\u304a\u3001ARM\u3067\u6d6e\u52d5\u5c0f\u6570\u70b9\u3092\u4f7f\u3046\u5834\u5408VFP\u3092\u6709\u52b9\u306b\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\n\u30b5\u30f3\u30d7\u30eb\u3067\u306fboot.s\u3067\u30ec\u30b8\u30b9\u30bf\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3057\u305f\u306e\u3067\u3001\u53c2\u8003\u307e\u3067\u306b\u3002\n\n\n\n# \u25a0\u305d\u306e\u4ed6 : QPU\u306e\u30a2\u30bb\u30f3\u30d6\u30e9(\u4e8b\u5b9f\u4e0a\u306e\u30b7\u30a7\u30fc\u30c0)\u306b\u3064\u3044\u3066\u25a0\nQPU\u306e\u30a2\u30bb\u30f3\u30d6\u30e9\u306b\u3064\u3044\u3066\u306f\u4ed5\u69d8\u304c\u516c\u5f0fPDF\u306eQPU Instruction Encoding\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u8fba\u306f\u975e\u516c\u5f0f\u306a\u304c\u3089\u5f37\u529b\u306a\u30a2\u30bb\u30f3\u30d6\u30e9\u304c\u3042\u308b\u306e\u3067\u3054\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nhttps://github.com/hermanhermitage/videocoreiv-qpu\n\nnodejs\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\u4f7f\u3044\u65b9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002\n\nnode qpuasm.js \u30d5\u30a1\u30a4\u30eb\n\n\u3042\u3068\u306f\u516c\u5f0f\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30a2\u30bb\u30f3\u30d6\u30e9\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306e\u6700\u9069\u5316\u306f\u4ee5\u4e0b\u306e\u8a18\u4e8b\u304c\u8a73\u3057\u3044\u3067\u3059\u3002\nhttp://qiita.com/9_ties/items/15ab7fa198991a61a3a9\n\n\u4eca\u56de\u306e\u30dd\u30ea\u30b4\u30f3\u63cf\u753b\u306b\u4f7f\u7528\u3059\u308b\u305f\u3081\u306e\u30b7\u30f3\u30d7\u30eb\u306a\u30a2\u30bb\u30f3\u30d6\u30e9\u3092\u4ee5\u4e0b\u306b\u8a18\u8f09\u3057\u307e\u3059\u3002\n\n```\n# Assemble with qpuasm.js from github.com/hermanhermitage/videocoreiv-qpu\n\n.global entry\n\nentry:\n        #Red\u6210\u5206\u3092arying\u3067\u4f5c\u308b\n        mov  r0, vary   ; nop #varying\u30ec\u30b8\u30b9\u30bf\u306fQueue\u306b\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u8aad\u307f\u3060\u3059\u305f\u3073\u306bvarying\u6210\u5206\u304c\u53d6\u308c\u308b\n        fadd r0, r0, r5 ; nop; sbwait \n        nop             ; mov  r3.8a, r0\n\n        #Green\u6210\u5206\u3092Varying\u3067\u4f5c\u308b\n        mov  r0, vary   ; nop\n        fadd r0, r0, r5 ; nop\n        nop             ; mov  r3.8b, r0\n\n        #Blue\u6210\u5206\u3092Varying\u3067\u4f5c\u308b\n        mov  r0, vary   ; nop\n        fadd r0, r0, r5 ; nop\n        nop             ; mov  r3.8c, r0\n\n        #Alpha\u6210\u5206\u3092Varying\u3067\u4f5c\u308b\n        mov  r0, vary   ; nop\n        fadd r0, r0, r5 ; nop\n        nop             ; mov  r3.8d, r0\n\n        #UV\u5ea7\u6a19\u3092uniform\u304b\u3089\u53d6\u5f97\n        mov  r2, 0.0    ; nop\n        nop             ; mov  unif_addr, r2\n        mov  r2, 0.0    ; nop\n        nop             ; mov  unif_addr_rel, r2\n\n        #\u5b9f\u306f\u3053\u3053\u307e\u3067\u306e\u8a08\u7b97\u306f\u8aad\u307f\u98db\u3070\u3057\u3002\u5fc5\u8981\u306b\u5fdc\u3058\u3066tlbc\u306b\u5165\u308c\u3066\u8272\u3092\u51fa\u3059\n\n        #r0\u306b\u30dd\u30ea\u30b4\u30f3\u306eU\u5ea7\u6a19\u306e\u88dc\u9593\u4fc2\u6570\u3092\u304b\u3051\u3066U\u5ea7\u6a19\u3092\u7b97\u51fa\u3057\u3066\u683c\u7d0d\u3057\u3066\u304a\u304f\n        fmul r0, vary, ra15\n        fadd r0, r0, r5 ; nop\n\n        #r1\u306b\u30dd\u30ea\u30b4\u30f3\u306eV\u5ea7\u6a19\u306e\u88dc\u9593\u4fc2\u6570\u3092\u304b\u3051\u3066V\u5ea7\u6a19\u3092\u7b97\u51fa\u3057\u3066\u683c\u7d0d\u3057\u3066\u304a\u304f        \n        fmul r1, vary, ra15\n        fadd r1, r1, r5 ; nop\n                \n        mov  t0t, r1    ; nop #V\u5ea7\u6a19\u3092\u30c6\u30af\u30b9\u30c1\u30e3\u30e6\u30cb\u30c3\u30c8\u306b\u8a2d\u5b9a\n        mov  t0s, r0    ; nop #U\u5ea7\u6a19\u3092\u30c6\u30af\u30b9\u30c1\u30e3\u30e6\u30cb\u30c3\u30c8\u306b\u8a2d\u5b9a\n        nop             ; nop ; ldtmu0 #UV\u30c7\u30fc\u30bf\u304cr4\u306b\u683c\u7d0d\u3055\u308c\u308b\u307e\u3067\u5f85\u3064\n        nop             ; nop ; sbwait\n        \n        mov  tlbc, r4   ; nop; thrend # \u30bf\u30a4\u30eb\u30ab\u30e9\u30fc\u30d0\u30c3\u30d5\u30a1\u306br4\u306e\u30c6\u30af\u30b9\u30c1\u30e3\u8272\u3092\u8a70\u3081\u3066QPU\u30b9\u30ec\u30c3\u30c9\u7d42\u4e86\n        nop\n        nop             ; nop; sbdone # \u30bf\u30a4\u30eb\u30d0\u30c3\u30d5\u30a1\u3078\u306e\u64cd\u4f5c\u7d42\u4e86\u30b7\u30b0\u30ca\u30eb\u3092\u6295\u3052\u308b\n        \n```\n\nFragmentShader\u306eGLSL\u3060\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002\n\n\n```\nvarying vertex_uv;\nvoid main() {\n  vec4 texcolor = texture2D(vertex_uv);\n  gl_FragColor = vec4(texcolor);\n}\n\n```\n\n\u3068\u3044\u3046\u611f\u3058\u3067\u4e00\u82e6\u52b4\u3057\u3066\u3088\u3046\u3084\u304f\u8272\u304c\u51fa\u307e\u3059\u3002\n\nr5\u306e\u30ec\u30b8\u30b9\u30bf\u306a\u3069\u304c\u3069\u3046\u3044\u3046\u610f\u5473\u3057\u3066\u3044\u308b\u306e\u304b\u306f\u672c\u5bb6PDF\u306eQPU Core Pipeline\u3092\u7a74\u304c\u958b\u304f\u307b\u3069\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/34428/bf155131-b4a7-48a0-db5d-e22d61a64477.png)\n\n\u203b\u629c\u7c8b\n\n\n# \u25a0\u305d\u306e\u4ed6 : \u82e6\u52b4\u3057\u305f\u3068\u3053\u308d\u25a0\n\u30c7\u30d0\u30c3\u30b0\u3067\u3059\u3002\u30b7\u30ea\u30a2\u30eb\u304c\u306a\u304b\u3063\u305f\u3053\u308d\u306f\u30d5\u30ec\u30fc\u30e0\u30d0\u30c3\u30d5\u30a1\u306e\u4e00\u90e8\u306b\nbitmap\u3067\u30c0\u30f3\u30d7\u7d50\u679c\u3092\u8868\u793a\u3057\u306a\u304c\u3089\u3084\u3063\u3066\u307e\u3057\u305f\u3002\n\u3060\u3093\u3060\u3093\u3081\u3093\u3069\u304f\u3055\u304f\u306a\u3063\u3066\u304d\u3066\u7d50\u5c40\u30b7\u30ea\u30a2\u30eb\u30dc\u30fc\u30c9\u3092\u6ce8\u6587\u3057\u3066uart\u521d\u671f\u5316\u3057\u3066\u4f7f\u3044\u307e\u3057\u305f\u3002\n\n\n\n# \u25a0\u305d\u306e\u4ed6 : \u53c2\u8003\u52d5\u753b\u25a0\nhttps://twitter.com/gyabo/status/809041005592743936\n\n\u53c2\u8003\u52d5\u753b\u3067\u306f\u30ca\u30f3\u304c\u597d\u304d\u306a\u306e\u3067\u3001\u30ca\u30f3\u3092\u5927\u91cf\u306b\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\nhttps://ja.wikipedia.org/wiki/%E3%83%8A%E3%83%B3\n\n\u30b5\u30f3\u30d7\u30eb\u30bd\u30fc\u30b9\u3092\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089m.bat\u5b9f\u884c\u5f8c\u3001add.bat\u306e\u8ee2\u9001\u5148\u306e\u30c9\u30e9\u30a4\u30d6\u3092SD\u30ab\u30fc\u30c9\u306b\u3059\u308c\u3070\nSD\u30ab\u30fc\u30c9\u306bimage\u3092\u8ee2\u9001\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001rpi2\u306b\u523a\u3057\u3066HDMI\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u306b\u3055\u3057\u3066\u96fb\u6e90ON\u3067\n\u30ca\u30f3\u3092\u8e8d\u3089\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\n# \u25a0\u6240\u611f\u3068\u304b\u611f\u60f3\u3068\u304b\u25a0\n\u6b63\u76f4\u3001\u4ffa\u306f\u4f55\u3092\u3084\u3063\u3066\u308b\u3093\u3060\u30c3\u30c3\u30c3!\u3068\u3044\u3046\u611f\u899a\u306b\u5f8c\u534a\u8972\u308f\u308c\u3066\u3057\u3070\u3089\u304f\u624b\u3092\u4f11\u3081\u3066\u307e\u3057\u305f\u3002\n\u30a2\u30eb\u30d5\u30a1\u30d6\u30ec\u30f3\u30c9\u307e\u3067QPU\u5074\u3067\u3084\u3089\u305b\u305f\u3089\u3042\u3068\u306f\u3069\u3046\u3068\u3067\u3082\u306a\u308a\u305d\u3046\u3060\u306a\u3068\u3075\u3093\u3060\u304b\u3089\u3067\u3059\u3002\n\n\u307e\u3042\u4ed5\u65b9\u306a\u3044\u3067\u3059\u306d\u3002\u7d50\u69cb\u82e6\u52b4\u3057\u305f\u5272\u306b\u306f\u307e\u3060\u307e\u3060\u5148\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\nGL\u306egear.c\u76f8\u5f53\u3092\u79fb\u690d\u3057\u3066\u3001\u3046\u307e\u304f\u52d5\u4f5c\u3059\u308b\u306a\u3089\u30d9\u30f3\u30c1\u3057\u3066\u307f\u305f\u3044\u3067\u3059\u306d\u3002\nhttps://www.opengl.org/archives/resources/code/samples/glut_examples/mesademos/gears.c\n\n\n\u6b63\u76f4\u307e\u3060\u3084\u308a\u3053\u307f\u4e0d\u8db3\u3067\u3001\u3082\u3063\u3068\u9762\u767d\u3044\u3053\u3068\u3067\u304d\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u306a\u3068\u304b\u601d\u3063\u3066\u3044\u307e\u3059\u3002\n\u7279\u306b\u30d9\u30a2\u30e1\u30bf\u30eb\u304b\u3089GPGPU\u3055\u305b\u308b\u3068\u304d\u3082\u3082\u3046\u3061\u3087\u3063\u3068\u51dd\u3063\u305f\u3053\u3068\u304c\u3067\u304d\u305d\u3046\u3067\u3059\u3002\n\n\u4eca\u56de\u3053\u3060\u308f\u3063\u305f\u3082\u3046\u3061\u3087\u3063\u3068\u6df1\u3044\u52d5\u6a5f\u3068\u3057\u3066\u306f\u3001\u3082\u3068\u3082\u3068\u65e7\u8077\u5834\u3067\u65b0\u3057\u3044\u30c1\u30c3\u30d7\u306e\u30c9\u30e9\u30a4\u30d0(GPU\u95a2\u9023\u3067\u306f\u306a\u304f\u30b9\u30c8\u30ec\u30fc\u30b8\u95a2\u9023\u3067\u3059)\u306e\u30e2\u30c3\u30af\u3092\u4f5c\u6210\u3059\u308b\u306e\u304c\u4ed5\u4e8b\u3060\u3063\u305f\u306e\u3067\u3001\u4e45\u3005\u306b\u30c9\u30e9\u30a4\u30d0\u5468\u308a\u306e\u4ed5\u69d8\u66f8\u304b\u3089\u52d5\u304f\u30e2\u30c3\u30af\u4f5c\u3063\u3066\u307f\u305f\u3044\u306a\uff5e\u3068\u601d\u3044\u7acb\u3063\u305f\u306e\u3082\u3042\u308a\u307e\u3059\u3002\n\u3042\u3044\u304b\u308f\u3089\u305a\u77f3\u5468\u308a\u306e\u4ed5\u69d8\u66f8\u306f\u4e0d\u89aa\u5207\u3060\u3051\u3069\u30ec\u30b8\u30b9\u30bf\u5468\u308a\u306f\u53e9\u3044\u3066\u53cd\u5fdc\u3092\u898b\u3066\u306a\u3093\u3068\u304b\u306a\u308b\u3082\u3093\u3067\u3059\u306d\u3002\n\n\u3042\u3068\u3001\u5b9f\u969b\u306bAPI\u30ec\u30d9\u30eb\u306b\u843d\u3068\u3057\u8fbc\u3080\u306b\u306f\u5168\u7136\u5f79\u4e0d\u8db3\u3067\u3059\u3002\u4ed5\u69d8\u66f8\u3092\u898b\u308b\u9650\u308a\u3001\u76f4\u63a5ControlList\u3092\u3044\u3058\u308b\u3068\u304b\u3001\n\u3082\u3063\u3068\u4e0a\u4f4d\u5c64\u304b\u3089\u305f\u53e9\u304b\u308c\u308b\u3053\u3068\u3092\u610f\u8b58\u3059\u308b\u3068\u3001\u4eca\u306eAPI\u306e\u3088\u3046\u306b\u3059\u308b\u306e\u306f\u8ad6\u5916\u3067\u3059\u3002\n\u307e\u3042\u3082\u3046\u3061\u3087\u3044\u3068\u6574\u7406\u6574\u9813\u3057\u306a\u3044\u3068\u898b\u305b\u3089\u308c\u306a\u3044\u3068\u601d\u3063\u305f\u306e\u3067\u3059\u304c\u3068\u308a\u3042\u3048\u305a\u52d5\u304f\u3082\u306e\u3092\u51fa\u3057\u307e\u3059\u3002\n\n\n\n\n\u3084\u308b\u306a\u3089\u4e00\u5ea6RAM\u5074\u306b\u4e2d\u9593\u30b3\u30de\u30f3\u30c9\u3092\u843d\u3068\u3057\u8fbc\u3093\u3067\u305d\u306e\u3042\u3068ContorlList\u3092\u69cb\u7bc9\u3059\u308b\u5c65\u6b74\u3092\u6b8b\u3057\u3001\n\u4f55\u304b\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067ControlList\u3092\u5168\u90e8\u69cb\u7bc9\u3057\u305f\u308a\u306a\u3069\u3001\u51dd\u3063\u305f\u3053\u3068\u3092\u3057\u306a\u3044\u3068OpenGL\u307b\u307c\u7b49\u4fa1\u306a\u5b9f\u88c5\u3092\u5b9f\u73fe\u3059\u308b\u306b\u306f\u96e3\u3057\u3044\u8a8d\u8b58\u3067\u3059\u3002\u3053\u306e\u8fba\u306f\u30b3\u30f3\u30b7\u30e5\u30fc\u30de\u5468\u308a\u306e\u30c9\u30e9\u30a4\u30d0\u66f8\u3044\u305f\u3053\u3068\u3042\u308b\u65b9\u306a\u3089\u5f53\u305f\u308a\u524d\u306e\u3053\u3068\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3002\n\u30b0\u30e9\u30d5\u30a3\u30c3\u30af\u30b9API\u5468\u308a\u306e\u4e92\u63db\u6027\u3092\u3068\u308b\u306e\u304c\u3044\u304b\u306b\u96e3\u3057\u3044\u304b\u5206\u304b\u3063\u305f\u6c17\u304c\u3057\u307e\u3059\u3002\n\u304d\u3061\u3093\u3068\u3057\u305f\u30d5\u30a9\u30fc\u30de\u30eb\u306a\u4ed5\u69d8\u304cJEDEC\u3084\u3089SDA\u3084\u3089SCSI\u3084\u3089USB\u307f\u305f\u3044\u306b\u5b58\u5728\u3057\u306a\u3044\u306e\u3067\u3002\n\n\u307e\u3042\u3053\u3053\u304b\u3089\u306fAPI <--- HW\u4e2d\u9593\u5c64\u3068HW\u306e\u7656\u3068\u30a8\u30e9\u30c3\u30bf\u3092\u898b\u629c\u304d\u306a\u304c\u3089\u4f5c\u308b\u30bb\u30f3\u30b9\u304c\u8981\u6c42\u3055\u308c\u305d\u3046\u3067\u3059\u3002\n\u3053\u3053\u304b\u3089\u304c\u672c\u5f53\u306f\u697d\u3057\u3044\u3068\u3053\u308d\u306a\u3093\u3067\u3059\u304c\u2026(\u30de\u30be\u3067\u3059)\n\n\n\n# \u25a0\u4eca\u5f8c\u25a0\n- neon\u5468\u308a\u3068\u304b\u30bd\u30fc\u30b9\u306b\u5165\u3063\u3066\u308b\u304f\u305b\u306b\u307e\u3060\u30e9\u30d5\u306e\u6bb5\u968e\u3067\u5168\u7136\u52d5\u304b\u305b\u3066\u306a\u3044\u306e\u3067\u52d5\u304b\u3059\u3002\u307e\u3042\u6765\u5e74\u3084\u308a\u307e\u3059\n- VPM\u3067VertexShader\u52d5\u304b\u3057\u3066\u307f\u305f\u3044\u3067\u3059\u304c\u3001\u53d6\u308a\u56de\u3057\u304c\u96e3\u3057\u305d\u3046\u3067\u3059\n- PWM\u3068\u5408\u308f\u305b\u3066\u306a\u3093\u304b\u4f5c\u308a\u305f\u3044\u3067\u3059\u306d\n\n# \u25a0\u7d42\u308f\u308a\u306b\u25a0\n\u6700\u5f8c\u307e\u3067\u307f\u3066\u3044\u305f\u3060\u304d\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3057\u305f\u3002\n\u9593\u9055\u3063\u3066\u308b\u3001\u3082\u3046\u3061\u3087\u3063\u3068\u8aac\u660e\u3092\u8a73\u3057\u304f\u306a\u3069\u3042\u308a\u307e\u3057\u305f\u3089\u30ac\u30f3\u30ac\u30f3\u6307\u6458\u3082\u3089\u3048\u308b\u3068\u52a9\u304b\u308a\u307e\u3059\u3002\n\n\u203b\n\u8aa4\u5b57\u3068\u304b\u968f\u6642\u4fee\u6b63\u3057\u307e\u3059\u3002\n\nhttps://twitter.com/gyabo\n\n\n<blockquote class=\"twitter-video\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">\u30ca\u30f3 <a href=\"https://t.co/iHUjR5Di6X\">pic.twitter.com/iHUjR5Di6X</a></p>&mdash; \u91ce\u83dc (@gyabo) <a href=\"https://twitter.com/gyabo/status/809041005592743936\">2016\u5e7412\u670814\u65e5</a></blockquote>\n<script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n", "tags": ["RaspberryPi", "Baremetal", "GPU"]}