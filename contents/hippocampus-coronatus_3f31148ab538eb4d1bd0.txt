{"context": "\n\n\u306f\u3058\u3081\u306b\n\u524d\u56de\u3068\u540c\u3058\u304fGoogle Chart Tools\u3092\u4f7f\u3063\u3066\u30b0\u30e9\u30d5\u3092\u63cf\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\u4eca\u56de\u306f\u51e1\u4f8b(Legend)\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u6642\u306b\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u306e\u8868\u793a\u975e\u8868\u793a\u3092\u52d5\u7684\u306b\u5909\u3048\u3066\u3044\u304d\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u3067\u306fLineChart\u3067\u8a66\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4ed6\u306e\u30b0\u30e9\u30d5\u3067\u3082\u3067\u304d\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059;\u3002\n\n\u4eca\u56de\u306e\u5b8c\u6210\u5f62\n\n\n\u753b\u50cf\u3060\u3068\u308f\u304b\u308a\u306b\u304f\u3044\u306e\u3067\u3059\u304c\u51e1\u4f8b\u306e\u4e00\u756a\u4e0a\u306e\u30c7\u30fc\u30bf\u306f\u975e\u8868\u793a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u4eca\u56de\u3082\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u306f\u516c\u5f0f\u304b\u3089\u304a\u501f\u308a\u3057\u307e\u3057\u305f\u3002\n\u5b9f\u969b\u306e\u52d5\u304d\u306f JSFiddle \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\u30b3\u30fc\u30c9\u306e\u4e2d\u8eab\n\nhtml\n<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\n<div id=\"chart_div\"></div>      \n\n\n\njavascript\ngoogle.charts.load('current', {packages: ['corechart', 'line']});\ngoogle.charts.setOnLoadCallback(drawLegendChart);\n\nfunction drawLegendChart() {\n  var data = new google.visualization.DataTable();\n  data.addColumn('number', 'Day');\n  data.addColumn('number', 'Guardians of the Galaxy');\n  data.addColumn('number', 'The Avengers');\n  data.addColumn('number', 'Transformers: Age of Extinction');\n\n  data.addRows([\n      [1,  37.8, 80.8, 41.8],\n      [2,  30.9, 69.5, 32.4],\n      [3,  25.4,   57, 25.7],\n      [4,  11.7, 18.8, 10.5],\n      [5,  11.9, 17.6, 10.4],\n      [6,   8.8, 13.6,  7.7],\n      [7,   7.6, 12.3,  9.6],\n      [8,  12.3, 29.2, 10.6],\n      [9,  16.9, 42.9, 14.8],\n      [10, 12.8, 30.9, 11.6],\n      [11,  5.3,  7.9,  4.7],\n      [12,  6.6,  8.4,  5.2],\n      [13,  4.8,  6.3,  3.6],\n      [14,  4.2,  6.2,  3.4]\n  ]);\n\n  var options = {\n    title: 'Box Office Earnings in First Two Weeks of Opening',\n    width: 900,\n    height: 300,\n    chartArea: {\n      backgroundColor: 'black',\n      left: 50\n    },\n    lineWidth: 4,\n    focusTarget: 'category',\n    hAxis: {\n      viewWindowMode: 'pretty'\n    },\n    vAxis: {\n      viewWindow: {\n        max: 100\n      }\n    }\n  };\n\n  var chart = new google.visualization.LineChart(document.getElementById('chart_div'));\n  chart.draw(data, options);\n\n\n\n  var columns = [];\n  var series = {};\n  for (var i = 0; i < data.getNumberOfColumns(); i++) {\n    columns.push(i);\n    if (i > 0) {\n      series[i - 1] = {};\n    }\n  };\n\n  google.visualization.events.addListener(chart, 'select', function () {\n    var sel = chart.getSelection();\n    if (sel.length > 0) {\n      if (sel[0].row === null) {\n        var col = sel[0].column;\n        if (columns[col] == col) {\n          columns[col] = {\n            label: data.getColumnLabel(col),\n            type: data.getColumnType(col),\n            calc: function () {\n              return null;\n            }\n          };\n          series[col - 1].color = 'gray';\n        }\n        else {\n          columns[col] = col;\n          series[col - 1].color = null;\n        }\n\n        options.series = series;\n\n        var view = new google.visualization.DataView(data);\n        view.setColumns(columns);\n        chart.draw(view, options);\n      }\n    }\n  });\n}\n\n\n\n\u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\n\u6e96\u5099\u3068\u3057\u3066\u30e9\u30a4\u30f3\u306e\u60c5\u5831\u3092\u4fdd\u6301\u3057\u3066\u304a\u304f\u5bb9\u308c\u7269(columns)\u3068\u51e1\u4f8b\u306e\u8272\u3092\u8a2d\u5b9a\u3059\u308b\u5909\u6570(series)\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\u306b\u306fevents.addListener\u3092\u4f7f\u3044\u307e\u3059\u3002\nchart.getSelection()\u3067\u4f55\u304c\u9078\u629e\u3055\u308c\u305f\u304b\u3092\u5909\u6570\u306b\u4fdd\u6301\u3057\u307e\u3059\u3002\nvar sel = chart.getSelection();\n\n\u6761\u4ef6\u5206\u5c90\u306e\u90e8\u5206\u306f\u8aac\u660e\u3059\u308b\u3068\u9577\u304f\u306a\u308b\u306e\u3067\u3059\u304c\u3001\n\u51e1\u4f8b\u3092\u9078\u629e\u3057\u305f\u30a4\u30d9\u30f3\u30c8\u306fsel[0].row = null\u306b\u306a\u308a\u307e\u3059\u3002\nif (sel[0].row === null) {\n\n\u5909\u6570col\u306b\u3069\u306e\u30ab\u30e9\u30e0\u304c\u9078\u629e\u3055\u308c\u305f\u304b\u756a\u53f7\u3092\u5165\u308c\u3066\u304a\u304d\u307e\u3059\u3002\nvar col = sel[0].column;\n\ncolumns\u306b\u30e9\u30a4\u30f3\u306e\u60c5\u5831\u304c\u4f55\u3082\u5165\u3063\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u4eca\u306e\u30e9\u30a4\u30f3\u306e\u60c5\u5831\u3092\u4ee3\u5165\u3057\u3001\u8272\u3092\u7070\u8272\u306b\u3057\u307e\u3059\u3002\n\u5165\u3063\u3066\u3044\u308c\u3070\u9078\u629e\u3055\u308c\u305f\u30ab\u30e9\u30e0\u306e\u756a\u53f7\u3092\u4ee3\u5165\u3057\u3001\u8272\u3092null\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u623b\u3057\u307e\u3059\u3002\n\u30ab\u30e9\u30e0\u306e\u8a2d\u5b9a\u3092chart.draw\u3067\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\nvar view = new google.visualization.DataView(data);\nview.setColumns(columns);\nchart.draw(view, options);\n\n\u51e1\u4f8b\u3092\u9078\u629e\u3057\u305f\u6642\u306b\u305d\u306e\u30c1\u30e3\u30fc\u30c8\u304c\u8868\u793a\u3055\u308c\u305f\u308a\u975e\u8868\u793a\u306b\u306a\u3063\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u6700\u5f8c\u306b\n\u4eca\u56de\u306f\u51e1\u4f8b\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30c7\u30fc\u30bf\u306e\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u3092\u884c\u3044\u307e\u3057\u305f\u3002\n\u51e1\u4f8b\u304c\u5c0f\u3055\u3044\u3068\u62bc\u3057\u306b\u304f\u304b\u3063\u305f\u308a\u3001\u3059\u3079\u3066\u306e\u30c1\u30e3\u30fc\u30c8\u3092\u975e\u8868\u793a\u306b\u3057\u305f\u6642\u306bx\u8ef8\u3068y\u8ef8\u306e\u5024\u304c\u304a\u304b\u3057\u304f\u306a\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u3001\u6539\u5584\u304c\u3067\u304d\u308c\u3070\u3044\u3044\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n# \u306f\u3058\u3081\u306b\n[\u524d\u56de](http://qiita.com/hippocampus-coronatus/items/982255fc4f61c3f1ff52)\u3068\u540c\u3058\u304fGoogle Chart Tools\u3092\u4f7f\u3063\u3066\u30b0\u30e9\u30d5\u3092\u63cf\u3044\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u4eca\u56de\u306f\u51e1\u4f8b(Legend)\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u6642\u306b\u30b0\u30e9\u30d5\u30c7\u30fc\u30bf\u306e\u8868\u793a\u975e\u8868\u793a\u3092\u52d5\u7684\u306b\u5909\u3048\u3066\u3044\u304d\u307e\u3059\u3002\n\u30b5\u30f3\u30d7\u30eb\u3067\u306f[LineChart](https://developers.google.com/chart/interactive/docs/gallery/linechart)\u3067\u8a66\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4ed6\u306e\u30b0\u30e9\u30d5\u3067\u3082\u3067\u304d\u308b\u3093\u3058\u3083\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059;\u3002\n\n# \u4eca\u56de\u306e\u5b8c\u6210\u5f62\n<img width=\"897\" alt=\"legend_onoff_sample_2.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/118801/3f7372ee-2ab5-121f-0313-eddb62cac0ca.png\">\n\n<img width=\"894\" alt=\"legend_onoff_sample.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/118801/4e05e222-da0a-27a2-7738-6c5fd9ccdea9.png\">\n\n\u753b\u50cf\u3060\u3068\u308f\u304b\u308a\u306b\u304f\u3044\u306e\u3067\u3059\u304c\u51e1\u4f8b\u306e\u4e00\u756a\u4e0a\u306e\u30c7\u30fc\u30bf\u306f\u975e\u8868\u793a\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u4eca\u56de\u3082\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u306f\u516c\u5f0f\u304b\u3089\u304a\u501f\u308a\u3057\u307e\u3057\u305f\u3002\n\u5b9f\u969b\u306e\u52d5\u304d\u306f [JSFiddle](https://jsfiddle.net/hippocampuscoronatus/qeeL0v5n/) \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n# \u30b3\u30fc\u30c9\u306e\u4e2d\u8eab\n```html:html\n<script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\n<div id=\"chart_div\"></div>      \n```\n\n```javascript:javascript\ngoogle.charts.load('current', {packages: ['corechart', 'line']});\ngoogle.charts.setOnLoadCallback(drawLegendChart);\n\nfunction drawLegendChart() {\n  var data = new google.visualization.DataTable();\n  data.addColumn('number', 'Day');\n  data.addColumn('number', 'Guardians of the Galaxy');\n  data.addColumn('number', 'The Avengers');\n  data.addColumn('number', 'Transformers: Age of Extinction');\n\n  data.addRows([\n      [1,  37.8, 80.8, 41.8],\n      [2,  30.9, 69.5, 32.4],\n      [3,  25.4,   57, 25.7],\n      [4,  11.7, 18.8, 10.5],\n      [5,  11.9, 17.6, 10.4],\n      [6,   8.8, 13.6,  7.7],\n      [7,   7.6, 12.3,  9.6],\n      [8,  12.3, 29.2, 10.6],\n      [9,  16.9, 42.9, 14.8],\n      [10, 12.8, 30.9, 11.6],\n      [11,  5.3,  7.9,  4.7],\n      [12,  6.6,  8.4,  5.2],\n      [13,  4.8,  6.3,  3.6],\n      [14,  4.2,  6.2,  3.4]\n  ]);\n\n  var options = {\n    title: 'Box Office Earnings in First Two Weeks of Opening',\n    width: 900,\n    height: 300,\n    chartArea: {\n      backgroundColor: 'black',\n      left: 50\n    },\n    lineWidth: 4,\n    focusTarget: 'category',\n    hAxis: {\n      viewWindowMode: 'pretty'\n    },\n    vAxis: {\n      viewWindow: {\n        max: 100\n      }\n    }\n  };\n\n  var chart = new google.visualization.LineChart(document.getElementById('chart_div'));\n  chart.draw(data, options);\n\n\n\n  var columns = [];\n  var series = {};\n  for (var i = 0; i < data.getNumberOfColumns(); i++) {\n    columns.push(i);\n    if (i > 0) {\n      series[i - 1] = {};\n    }\n  };\n\n  google.visualization.events.addListener(chart, 'select', function () {\n    var sel = chart.getSelection();\n    if (sel.length > 0) {\n      if (sel[0].row === null) {\n        var col = sel[0].column;\n        if (columns[col] == col) {\n          columns[col] = {\n            label: data.getColumnLabel(col),\n            type: data.getColumnType(col),\n            calc: function () {\n              return null;\n            }\n          };\n          series[col - 1].color = 'gray';\n        }\n        else {\n          columns[col] = col;\n          series[col - 1].color = null;\n        }\n\n        options.series = series;\n            \n        var view = new google.visualization.DataView(data);\n        view.setColumns(columns);\n        chart.draw(view, options);\n      }\n    }\n  });\n}\n```\n\n## \u30a4\u30d9\u30f3\u30c8\u3092\u8ffd\u52a0\u3059\u308b\n\n\u6e96\u5099\u3068\u3057\u3066\u30e9\u30a4\u30f3\u306e\u60c5\u5831\u3092\u4fdd\u6301\u3057\u3066\u304a\u304f\u5bb9\u308c\u7269(**columns**)\u3068\u51e1\u4f8b\u306e\u8272\u3092\u8a2d\u5b9a\u3059\u308b\u5909\u6570(**series**)\u3092\u7528\u610f\u3057\u307e\u3059\u3002\n\n\u30a4\u30d9\u30f3\u30c8\u306e\u8ffd\u52a0\u306b\u306f**events.addListener**\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n**chart.getSelection()**\u3067\u4f55\u304c\u9078\u629e\u3055\u308c\u305f\u304b\u3092\u5909\u6570\u306b\u4fdd\u6301\u3057\u307e\u3059\u3002\n\n```javascript\nvar sel = chart.getSelection();\n```\n\n\u6761\u4ef6\u5206\u5c90\u306e\u90e8\u5206\u306f\u8aac\u660e\u3059\u308b\u3068\u9577\u304f\u306a\u308b\u306e\u3067\u3059\u304c\u3001\n\u51e1\u4f8b\u3092\u9078\u629e\u3057\u305f\u30a4\u30d9\u30f3\u30c8\u306f**sel[0].row = null**\u306b\u306a\u308a\u307e\u3059\u3002\n\n```javascript\nif (sel[0].row === null) {\n```\n\n\u5909\u6570**col**\u306b\u3069\u306e\u30ab\u30e9\u30e0\u304c\u9078\u629e\u3055\u308c\u305f\u304b\u756a\u53f7\u3092\u5165\u308c\u3066\u304a\u304d\u307e\u3059\u3002\n\n```javascript\nvar col = sel[0].column;\n```\n\n**columns**\u306b\u30e9\u30a4\u30f3\u306e\u60c5\u5831\u304c\u4f55\u3082\u5165\u3063\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u4eca\u306e\u30e9\u30a4\u30f3\u306e\u60c5\u5831\u3092\u4ee3\u5165\u3057\u3001\u8272\u3092\u7070\u8272\u306b\u3057\u307e\u3059\u3002\n\u5165\u3063\u3066\u3044\u308c\u3070\u9078\u629e\u3055\u308c\u305f\u30ab\u30e9\u30e0\u306e\u756a\u53f7\u3092\u4ee3\u5165\u3057\u3001\u8272\u3092**null**\u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u623b\u3057\u307e\u3059\u3002\n\n\u30ab\u30e9\u30e0\u306e\u8a2d\u5b9a\u3092**chart.draw**\u3067\u53cd\u6620\u3055\u305b\u307e\u3059\u3002\n\n```javascript\nvar view = new google.visualization.DataView(data);\nview.setColumns(columns);\nchart.draw(view, options);\n```\n\n\u51e1\u4f8b\u3092\u9078\u629e\u3057\u305f\u6642\u306b\u305d\u306e\u30c1\u30e3\u30fc\u30c8\u304c\u8868\u793a\u3055\u308c\u305f\u308a\u975e\u8868\u793a\u306b\u306a\u3063\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n# \u6700\u5f8c\u306b\n\u4eca\u56de\u306f\u51e1\u4f8b\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30c7\u30fc\u30bf\u306e\u8868\u793a\u30fb\u975e\u8868\u793a\u306e\u5207\u308a\u66ff\u3048\u3092\u884c\u3044\u307e\u3057\u305f\u3002\n\u51e1\u4f8b\u304c\u5c0f\u3055\u3044\u3068\u62bc\u3057\u306b\u304f\u304b\u3063\u305f\u308a\u3001\u3059\u3079\u3066\u306e\u30c1\u30e3\u30fc\u30c8\u3092\u975e\u8868\u793a\u306b\u3057\u305f\u6642\u306bx\u8ef8\u3068y\u8ef8\u306e\u5024\u304c\u304a\u304b\u3057\u304f\u306a\u3063\u305f\u308a\u3059\u308b\u306e\u3067\u3001\u6539\u5584\u304c\u3067\u304d\u308c\u3070\u3044\u3044\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n", "tags": ["GoogleChart", "google", "JavaScript", "DataVisualization", "\u30c7\u30fc\u30bf\u30d3\u30b8\u30e5\u30a2\u30ea\u30bc\u30fc\u30b7\u30e7\u30f3"]}