{"context": "\u3053\u3053\u3067\u306f\u3001Windows\u3067\u52d5\u304fFrontISTR\u306e\u69cb\u7bc9\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\nUbuntu 16.04 LTS \u306a\u3069\u306e Linux\u7cfb \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3078\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u3001\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u5927\u898f\u6a21\u69cb\u9020\u89e3\u6790\u30d7\u30ed\u30b0\u30e9\u30e0 FrontISTR v4.5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (ubuntu 16.04 LTS) \u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nWindows\u306e\u5834\u5408\u3001\u958b\u767a\u74b0\u5883\u3092\u6574\u3048\u308b\u3068\u3053\u308d\u304b\u3089\u59cb\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001FrontISTR\u3092\u69cb\u7bc9\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u5404\u7a2e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30d0\u30a4\u30ca\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u3044\u4e8b\u304c\u591a\u3044\u305f\u3081\u3001\u3053\u308c\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u30bd\u30fc\u30b9\u304b\u3089\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u6bd4\u8f03\u7684\u9762\u5012\u306a\u305f\u3081\u3001FrontISTR\u3092\u76f4\u3050\u306b\u4f7f\u3044\u305f\u3044\u65b9\u306f FrontISTR\u7814\u7a76\u4f1a \u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b \u30d0\u30a4\u30ca\u30ea\u7248 \u307e\u305f\u306f REVOCAP_PrePost \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nREVOCAP_PrePost \u306f\u3001FrontISTR\u7b49\u3067\u4f7f\u3048\u308b\u30d7\u30ea\u30dd\u30b9\u30c8\u7528\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067FrontISTR\u304c\u540c\u68b1\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\nGit for windows SDK \u3092\u7528\u3044\u305fMSYS2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nwindows\u7528\u306e\u958b\u767a\u74b0\u5883\u3068\u3057\u3066\u3001Git for windows SDK\u306eMinGW-w64\u3092\u7528\u3044\u307e\u3059\u3002\nhttps://github.com/git-for-windows/build-extra/releases\n\u304b\u3089 git-sdk-installer-1.0.3.7z.exe \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u6700\u5f8c\u306b\nGenerating catalog po/ru.msg\nmsgfmt --statistics --tcl po/ru.po -l ru -d po/\n307 \uff82\uff8c|bZ[W.\nmake[1]: *** [Makefile:76: po/ru.msg] \u30a8\u30e9\u30fc 1\nmake: *** [Makefile:1656: all] \u30a8\u30e9\u30fc 2\n\u7d9a\u884c\u3059\u308b\u306b\u306f\u4f55\u304b\u30ad\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 . . .\n\n\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u7121\u8996\u3057\u3066\u69cb\u3044\u307e\u305b\u3093\u3002\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u4e86\u3059\u308b\u3068\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306b\u300cGit SDK 64-bit\u300d\u3068\u3044\u3046\u30a2\u30a4\u30b3\u30f3\u304c\u73fe\u308c\u307e\u3059\u3002\n\n\u4ee5\u524d\u306f\u3001MSYS2\u3092\u76f4\u63a5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u66f8\u3044\u3066\u3044\u307e\u3057\u305f\u304c\u3001Git for windows SDK\u3092\u4f7f\u3063\u305f\u65b9\u304c\u7c21\u5358\u306b\u74b0\u5883\u6574\u5099\u304c\u51fa\u6765\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3057\u305f\u3002\n\n\u6b21\u306b\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n(MINGW64) pacman -S mingw-w64-x86_64-cmake mingw-w64-x86_64-qt5\n\n\u203bhttps://msys2.github.io/ \u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fMSYS2\u3067\u74b0\u5883\u3092\u6574\u5099\u3059\u308b\u306b\u306f\n% pacman -S base-devel mingw-w64-x86_64-toolchain mingw-w64-x86_64-toolchain mingw-w64-x86_64-cmake mingw-w64-x86_64-extra-cmake-modules mingw-w64-x86-qt5\n\n\u3092\u5b9f\u884c\u3057\u3066\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\ncmake-gui\u3092\u4f7f\u3046\u5834\u5408\u3001mingw-w64-x86_64-qt5\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nTips : mingw-w64-x86_64-qt5 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5fc5\u305a\u3057\u3082\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u304c\u3001cmake\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u306a\u3069\u306e\u30c8\u30e9\u30d6\u30eb\u304c\u3042\u308b\u3068\u304d\u3001cmake-gui\u304c\u5f79\u7acb\u3061\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u30b3\u30f3\u30d1\u30a4\u30e9\u306a\u3069\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u5ff5\u306e\u305f\u3081\u78ba\u8a8d\u3092\u3057\u3066\u4e0b\u3055\u3044\u3002\n(MINGW64) gcc -v\n(MINGW64) gfortran -v\n(MINGW64) cmake --version\n\n\u4f5c\u696d\u306b\u5148\u7acb\u3061\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f$HOME/work\u3068\u3057\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306f$HOME/local\u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n(MINGW64) mkdir $HOME/work\n(MINGW64) mkdir -p $HOME/local/lib\n(MINGW64) mkdir $HOME/local/include\n\n\nMicrosoft MPI\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nMPI\u306b\u306fMicrosoft MPI\u3092\u4f7f\u3044\u307e\u3059\u3002\nDownload Microsoft MPI v7.1 from Official Microsoft Download Center\n\u304b\u3089\u3001SDK\u306emsmpisdk.msi\u3068\u30e9\u30f3\u30bf\u30a4\u30e0\u306eMSMpiSetup.exe\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nMicrosoft MPI\u3092\u30ea\u30f3\u30af\u3059\u308b\u305f\u3081\u306e\u6e96\u5099\nMicrosoft MPI\u3092MinGW-w64\u306egcc\u3084gfortran\u3067\u30ea\u30f3\u30af\u3059\u308b\u305f\u3081\u306e\u4f5c\u696d\u3092\u3057\u307e\u3059\u3002\n\u300cGit SDK 64-bit\u300d\u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n(MINGW64) cd $HOME/local/lib/\n(MINGW64) gendef /c/Windows/System32/msmpi.dll\n(MINGW64) dlltool -d msmpi.def -l libmsmpi.a -D /c/Windows/System32/msmpi.dll\n(MINGW64) ls\nlibmsmpi.a  msmpi.def\n\nMinGW-w64\u74b0\u5883\u3067\u30ea\u30f3\u30af\u3067\u304d\u308bMicrosoft MPI\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002\n\u6b21\u306b\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n(MINGW64) cd $HOME/local/include\n(MINGW64) cp /c/Program\\ Files\\ \\(x86\\)/Microsoft\\ SDKs/MPI/Include/*.h .\n(MINGW64) cp /c/Program\\ Files\\ \\(x86\\)/Microsoft\\ SDKs/MPI/Include/x64/*.h .\n(MINGW64) ls\nmpi.h  mpif.h  mpifptr.h  mpio.h  mspms.h  pmidbg.h\n\nmpi.h\u306b\u5909\u66f4\u3092\u52a0\u3048\u307e\u3059\u3002\n(MINGW64) vi mpi.h\n\n#ifndef MPI_INCLUDED\n#define MPI_INCLUDED\n\u306e\u3059\u3050\u4e0b\u306b\n#include <stdint.h>\n\u3092\u8ffd\u52a0\u3059\u308b\u3002\n\n\u66f4\u306bmpif.h\u306b\u5909\u66f4\u3092\u52a0\u3048\u307e\u3059\u3002\n(MINGW64) vi mpif.h\n\n407\u884c\u76ee\nPARAMETER (MPI_ADDRESS_KIND=INT_PTR_KIND())\n\u3092\nPARAMETER (MPI_ADDRESS_KIND=8)\n\u3078\u5909\u66f4\u3059\u308b\u3002\n\n\u4ee5\u4e0a\u3067Microsoft MPI\u3092MinGW-w64\u3067\u30ea\u30f3\u30af\u3059\u308b\u6e96\u5099\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u69cb\u7bc9\nFrontISTR\u3067\u6709\u52b9\u306b\u3059\u308b\u6a5f\u80fd\u306f\n\nhecmw_part1\u9818\u57df\u5206\u5272\u30c4\u30fc\u30eb\u306a\u3069\u306e\u30c4\u30fc\u30eb\u7fa4\u751f\u6210\nREVOCAP_Refiner (\u30e1\u30c3\u30b7\u30e5\u306e\u7d30\u5206\u5316\u6a5f\u80fd)\nMPI (PC\u30af\u30e9\u30b9\u30bf\u7b49\u306e\u4e26\u5217\u5b9f\u884c\u74b0\u5883\uff09\nOpenMP (\u30de\u30eb\u30c1\u30b3\u30a2CPU\u3092\u5229\u7528)\nMETIS (\u30e1\u30c3\u30b7\u30e5\u306e\u9818\u57df\u5206\u5272\u306e\u305f\u3081\u306b\u5fc5\u8981)\nMUMPS (\u76f4\u63a5\u6cd5\u30bd\u30eb\u30d0\u30fc)\nLAPACK \uff08CG\u6cd5\u3084GMRES\u6cd5\u3092\u7528\u3044\u305f\u524d\u51e6\u7406\u9069\u7528\u5f8c\u306e\u6761\u4ef6\u6570\u63a8\u5b9a\u6a5f\u80fd\u3092\u5229\u7528\uff09\nTrilinos-ML \uff08\u4ee3\u6570\u30de\u30eb\u30c1\u30b0\u30ea\u30c3\u30c9\u6cd5\u306b\u57fa\u3065\u304f\u524d\u51e6\u7406\uff09\n\n\u3067\u3059\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nFrontISTR\u3068\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u540d\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148\n\u5099\u8003\n\n\n\n\nFrontISTR_V45.tar.gz\nhttp://www.multi.k.u-tokyo.ac.jp/FrontISTR\n\u8981\u30e6\u30fc\u30b6\u767b\u9332\n\n\nREVOCAP_Refiner-1.1.04\nhttp://www.multi.k.u-tokyo.ac.jp/FrontISTR\n\u8981\u30e6\u30fc\u30b6\u767b\u9332\n\n\nOpenBLAS-0.2.19\nhttp://www.openblas.net\n\u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\nmetis-5.1.0\nhttp://glaros.dtc.umn.edu/gkhome/metis/metis/download\nscotch-metis\u3082\u5229\u7528\u53ef\n\n\nscalapack-2.0.2\nhttp://www.netlib.org/scalapack/\nMUMPS\u3067\u5229\u7528\n\n\nMUMPS_5.0.2\nhttp://mumps.enseeiht.fr/\n\u8981\u30e6\u30fc\u30b6\u767b\u9332\n\n\ntrilinos-12.8.1\nhttps://trilinos.org/download/\n\u8981\u30e6\u30fc\u30b6\u767b\u9332\n\n\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306f$HOME/work\u306b\u7f6e\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\u300cMinGW-w64 Win64 Shell\u300d\u4e0a\u3067\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\nOpenBLAS\u306e\u69cb\u7bc9\nOpenBLAS\u306f\u3001\u9ad8\u901f\u306aLAPACK/BLAS\u306e\u30d5\u30ea\u30fc\u306e\u5b9f\u88c5\u3067\u3059\u3002OpenMP\u3092\u6709\u52b9\u306b\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf OpenBLAS-0.2.19.tar.gz\n(MINGW64) cd OpenBLAS-0.2.19\n(MINGW64) make BINARY=64 NO_SHARED=1 USE_OPENMP=1\n(MINGW64) make PREFIX=$HOME/local install\n\nmake install\u3092\u3059\u308b\u3068\u3001\ncp: cannot stat 'libopenblas.dll': No such file or directory\nmake[1]: [Makefile.install:52: install] Error 1 (ignored)\ncp: cannot stat 'libopenblas.dll.a': No such file or directory\nmake[1]: [Makefile.install:53: install] Error 1 (ignored)\n\n\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3001\u4eca\u56de\u306fDLL\u3092\u4f5c\u6210\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u7121\u8996\u3057\u3066\u304f\u3060\u3055\u3044\u3002\nOpenBLAS\u306b\u306fLAPACK\u3082\u542b\u307e\u308c\u307e\u3059\u3002\u30ea\u30f3\u30af\u3059\u308b\u306b\u306f -llapack\u306e\u4ee3\u308f\u308a\u306b-lopenblas\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nMETIS\u306e\u69cb\u7bc9\n\u30b0\u30e9\u30d5\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30ca\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\u3053\u306e\u4ed6\u3001Scotch\u306b\u540c\u68b1\u3055\u308c\u308bmetis\u4e92\u63db\u5c64\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\nOpenMP\u3092\u6709\u52b9\u306b\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n(MINGW64) tar xvf metis-5.1.0.tar.gz\n(MINGW64) cd metis-5.1.0\n\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u3059\u308b\u524d\u306b\n\nCMakeLists.txt\nGKlib/gk_arch.h\nGKlib/gk_getopt.h\n\n\u3092MinGW-w64\u7528\u306e\u4fee\u6b63\u3092\u3057\u307e\u3059\u3002\n\nCMakeLists.txt\n(MINGW64) vi CMakeLists.txt\nset(GKLIB_PATH \"GKlib\" CACHE PATH \"path to GKlib\")\n\u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u90e8\u5206\u3092\nset(GKLIB_PATH \"${CMAKE_SOURCE_DIR}/GKlib\" CACHE PATH \"path to GKlib\")\n\u306b\u4fee\u6b63\n\n\nGKlib/gk_arch.h\n(MINGW64) vi GKlib/gk_arch.h\n#include <sys/resource.h>\n\u3092\u524a\u9664\n\n\nGKlib/gk_getopt.h\n/* Function prototypes */\nextern int gk_getopt(int __argc, char **__argv, char *__shortopts);\nextern int gk_getopt_long(int __argc, char **__argv, char *__shortopts,\n              struct gk_option *__longopts, int *__longind);\nextern int gk_getopt_long_only (int __argc, char **__argv,\n              char *__shortopts, struct gk_option *__longopts, int *__longind);\n\u3092\u524a\u9664\n\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\n\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u305f\u3089cmake\u3092\u5b9f\u884c\u3057\u3066\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n(MINGW64) cd build\n(MINGW64) cmake -G \"MSYS Makefiles\" -DCMAKE_INSTALL_PREFIX=$HOME/local \\\n            -DCMAKE_BUILD_TYPE=\"Release\" -DOPENMP=ON ..\n(MINGW64) make\n(MINGW64) make install\n\n\nScalapack\u306e\u69cb\u7bc9\nscalapack\u306f\u3001\u3053\u306e\u5f8c\u8aac\u660e\u3092\u3059\u308bMUMPS\u306e\u69cb\u7bc9\u306b\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf scalapack-2.0.2.tgz\n(MINGW64) cd scalapack-2.0.2\n\n\u30b5\u30f3\u30d7\u30eb\u306eSLmake.inc.example\u3092SLmake.inc\u3068\u3057\u3066\u30b3\u30d4\u30fc\u3057\u3066\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n(MINGW64) cp SLmake.inc.example SLmake.inc\n(MINGW64) vi SLmake.inc\n\n#\n#  The fortran and C compilers, loaders, and their flags\n#\n\nFC            = gfortran -fno-range-check\nCC            = gcc\nNOOPT         = -O0\nFCFLAGS       = -O3 -I$(HOME)/local/include\nCCFLAGS       = -O3 -I$(HOME)/local/include\nFCLOADER      = $(FC)\nCCLOADER      = $(CC)\nFCLOADFLAGS   = $(FCFLAGS) -L$(HOME)/local/lib -lmsmpi\nCCLOADFLAGS   = $(CCFLAGS) -L$(HOME)/local/lib -lmsmpi\n\n#\n#  BLAS, LAPACK (and possibly other) libraries needed for linking test programs\n#\n\nBLASLIB       = -L$(HOME)/local/lib -lopenblas\nLAPACKLIB     = -L$(HOME)/local/lib -lopenblas\nLIBS          = $(LAPACKLIB) $(BLASLIB)\n\n\u66f8\u304d\u63db\u3048\u304c\u6e08\u3093\u3060\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n(MINGW64) make\n\nmake\u3092\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u304c\u3001BLACS/TESTING\u306e\u30a8\u30e9\u30fc\u306a\u306e\u3067\u7121\u8996\u3057\u307e\u3059\u3002\n(MINGW64) cp libscalapack.a $HOME/local/lib\n\n\nMUMPS\u306e\u69cb\u7bc9\nMUMPS\u306f\u76f4\u63a5\u6cd5\u306e\u30bd\u30eb\u30d0\u3067\u3059\u3002\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf MUMPS_5.0.2.tar.gz\n(MINGW64) cd MUMPS_5.0.2\n\nMake.inc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u3001Makefile.inc.generic\u3092\u5143\u306bMakefile.inc\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u305f\u5185\u5bb9\u3078\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n(MINGW64) cp Make.inc/Makefile.inc.generic Makefile.inc\n(MINGW64) vi Makefile.inc\n\nLMETISDIR = $(HOME)/local\nIMETIS    = -I$(LMETISDIR)/include\nLMETIS    = -L$(LMETISDIR)/lib -lmetis\n\nORDERINGSF  = -Dmetis -Dpord\n\nCC      = gcc -fopenmp\nFC      = gfortran -fopenmp -fno-range-check\nFL      = gfortran -fopenmp\n\nSCALAP  = -L$(HOME)/local/lib -lscalapack\n\nINCPAR = -I$(HOME)/local/include\n\nLIBPAR  = $(SCALAP) -L$(HOME)/local/lib -lmsmpi\n\nLIBBLAS = -L$(HOME)/local/lib -lopenblas\n\nLIBOTHERS = -lpthread -fopenmp\n\nOPTF    = -O -DMUMPS_OPENMP\nOPTC    = -O -I. -DMUMPS_OPENMP\nOPTL    = -O\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u6e08\u3093\u3060\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n(MINGW64) make\n\n\nTrilinos ML\u306e\u69cb\u7bc9\nTrilinos\u306b\u306f\u591a\u304f\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u304c\u3001FrontISTR\u306b\u5fc5\u8981\u306a\u306e\u306fML\u3068zoltan\u3060\u3051\u3067\u3059\u3002\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf trilinos-12.8.1-Source.tar.gz\n(MINGW64) cd trilinos-12.8.1-Source\n(MINGW64) mkdir build\n(MINGW64) cd build\n(MINGW64) cmake \\\n            -G \"MSYS Makefiles\" \\\n            -DCMAKE_INSTALL_PREFIX=$HOME/local \\\n            -DCMAKE_C_FLAGS=\"-DNO_TIMES\" \\\n            -DCMAKE_CXX_FLAGS=\"-DNO_TIMES\" \\\n            -DTrilinos_ENABLE_ML=ON \\\n            -DTrilinos_ENABLE_Zoltan=ON \\\n            -DTrilinos_ENABLE_OpenMP=ON \\\n            -DTrilinos_ENABLE_ALL_OPTIONAL_PACKAGES=OFF \\\n            -DTPL_BLAS_LIBRARIES=$HOME/local/lib/libopenblas.a \\\n            -DTPL_LAPACK_LIBRARIES=$HOME/local/lib/libopenblas.a \\\n            -DTPL_ENABLE_MPI=ON \\\n            -DML_ENABLE_MPI=ON \\\n            -DMPI_CXX_COMPILER=g++ \\\n            -DMPI_CXX_INCLUDE_PATH=$HOME/local/include \\\n            -DMPI_CXX_LIBRARIES=$HOME/local/lib/libmsmpi.a \\\n            -DMPI_C_COMPILER=gcc \\\n            -DMPI_C_INCLUDE_PATH=$HOME/local/include \\\n            -DMPI_C_LIBRARIES=$HOME/local/lib/libmsmpi.a \\\n            ..\n(MINGW64) make\n(MINGW64) make install\n\n\nREVOCAP_Refiner\u306e\u69cb\u7bc9\nREVOCAP_Refiner\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf REVOCAP_Refiner-1.1.04.tar.gz\n(MINGW64) cd REVOCAP_Refiner-1.1.04\n(MINGW64) make\n\n\nFrontISTR\u306e\u69cb\u7bc9\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5c0e\u5165\u304c\u6e08\u3093\u3060\u3089FrontISTR\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf FrontISTR_V45.tar.gz\n(MINGW64) cd FrontISTR_V45\n\n\u30b5\u30f3\u30d7\u30eb\u306eMakefile.conf.org\u3092Makefile.conf\u3068\u3057\u3066\u30b3\u30d4\u30fc\u3057\u3066\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n(MINGW64) cp Makefile.conf.org Makefile.conf\n(MINGW64) vi Makefile.conf\n\n\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067Makefile.conf\u3092\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n(MINGW64) vi Makefile.conf\n\n##################################################\n#                                                #\n#     Setup Configulation File for FrontISTR     #\n#                                                #\n##################################################\n\n# MPI\nMPIDIR         = $(HOME)/local\nMPIBINDIR      = \"/c/Program\\ Files/Microsoft\\ MPI/Bin/\"\nMPILIBDIR      = $(MPIDIR)/lib\nMPIINCDIR      = $(MPIDIR)/include\nMPILIBS        = -lmsmpi\n\n# for install option only\nPREFIX         = $(HOME)/FrontISTR\nBINDIR         = $(PREFIX)/bin\nLIBDIR         = $(PREFIX)/lib\nINCLUDEDIR     = $(PREFIX)/include\n\n# Metis\nMETISDIR       = $(HOME)/local\nMETISLIBDIR    = $(METISDIR)/lib\nMETISINCDIR    = $(METISDIR)/include\nHECMW_METIS_VER= 5\n\n# ParMetis\nPARMETISDIR    = $(HOME)/ParMetis-3.1\nPARMETISLIBDIR = $(PARMETISDIR)\nPARMETISINCDIR = $(PARMETISDIR)/ParMETISLib\n\n# Refiner\nREFINERDIR     = $(HOME)/work/REVOCAP_Refiner-1.1.04\nREFINERINCDIR  = $(REFINERDIR)/Refiner\nREFINERLIBDIR  = $(REFINERDIR)/lib/x86_64-linux\n\n# Coupler\nREVOCAPDIR     = $(HOME)/REVOCAP_Coupler\nREVOCAPINCDIR  = $(REVOCAPDIR)/librcap\nREVOCAPLIBDIR  = $(REVOCAPDIR)/librcap\n\n# MUMPS\nMUMPSDIR       = $(HOME)/work/MUMPS_5.0.2\nMUMPSINCDIR    = $(MUMPSDIR)/include\nMUMPSLIBDIR    = $(MUMPSDIR)/lib\nMUMPSLIBS      = -ldmumps -lmumps_common -lpord -L$(HOME)/local/lib -lscalapack\n\n# MKL PARDISO\nMKLDIR     = $(HOME)/\nMKLINCDIR  = $(MKLDIR)/include\nMKLLIBDIR  = $(MKLDIR)/lib\n\n# ML\nMLDIR          = $(HOME)/local\nMLINCDIR       = $(MLDIR)/include\nMLLIBDIR       = $(MLDIR)/lib\nMLLIBS         = -lml -lzoltan -lws2_32\n\n# C compiler settings\nCC             = gcc -fopenmp\nCFLAGS         = -D_WINDOWS\nLDFLAGS        = -lstdc++ -lm\nOPTFLAGS       = -O3\n\n# C++ compiler settings\nCPP            = g++ -fopenmp\nCPPFLAGS       = -D_WINDOWS\nCPPLDFLAGS     =\nCPPOPTFLAGS    = -O3\n\n# Fortran compiler settings\nF90            = gfortran -fopenmp -fno-range-check\nF90FLAGS       = -D_WINDOWS\nF90LDFLAGS     = -lstdc++ -L$(HOME)/local/lib -lopenblas\nF90OPTFLAGS    = -O2\nF90FPP         = -cpp\nF90LINKER      = gfortran -fopenmp\n\nMAKE           = make\nAR             = ar ruv\nMV             = mv -f\nCP             = cp -f\nRM             = rm -f\nMKDIR          = mkdir -p\n\n\n\n\u3053\u306e\u624b\u9806\u3067\u7528\u3044\u308bMETIS\u306fVersion5.1.0\u3067\u3059\u3002HECMW_METIS_VER = 5\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\ngfortran\u306e\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u6307\u5b9a\u306f -cpp\u3067\u3059\u3002F90FPP = -cpp\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nREFINERLIBDIR\u306bx86_64-linux\u3068\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u9593\u9055\u3044\u3067\u306f\u3042\u308a\u307e\u305b\u3093?\n\n\n\u3055\u3089\u306bMakefile.am\u3092\u7de8\u96c6\u3057\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u306e\u306a\u3044\u90e8\u5206\u3092\u9664\u5916\u3057\u307e\u3059\u3002\n(MINGW64) vi Makefile.am\n\nPREFIX     = @prefix@\nBINDIR     = @bindir@\nLIBDIR     = @libdir@\nINCLUDEDIR = @includedir@\n\nMAKE       = @make@\nAR         = @ar@\nCP         = @cp@\nRM         = @rm@\nMV         = @mv@\nRANLIB     = @ranlib@\nMKDIR      = @mkdir@\n\nall:\n        @cd hecmw1 && $(MAKE)\n        @cd fistr1 && $(MAKE)\n#       @cd hecmw2 && $(MAKE)\n#       @cd fistr2 && $(MAKE)\n        @cd fistr  && $(MAKE)\n\nclean:\n        @cd hecmw1 && $(MAKE) clean\n        @cd fistr1 && $(MAKE) clean\n#       @cd hecmw2 && $(MAKE) clean\n#       @cd fistr2 && $(MAKE) clean\n        @cd fistr  && $(MAKE) clean\n\ndistclean:\n        @cd hecmw1 && $(MAKE) distclean\n        @cd fistr1 && $(MAKE) distclean\n#       @cd hecmw2 && $(MAKE) distclean\n#       @cd fistr2 && $(MAKE) distclean\n        @cd fistr  && $(MAKE) distclean\n        - $(RM) ./bin/*\n\ninstall:\n        if [ ! -d $(PREFIX) ]; then \\\n                $(MKDIR) $(PREFIX); \\\n        fi\n        if [ ! -d $(BINDIR) ]; then \\\n                $(MKDIR) $(BINDIR); \\\n        fi\n        @cd hecmw1 && $(MAKE) install\n        @cd fistr1 && $(MAKE) install\n#       @cd hecmw2 && $(MAKE) install\n#       @cd fistr2 && $(MAKE) install\n        @cd fistr  && $(MAKE) install\n\n\nhecmw2\u304a\u3088\u3073fistr2\u306f\u69cb\u7bc9\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u7de8\u96c6\u304c\u51fa\u6765\u305f\u3089setup.sh\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n(MINGW64) ./setup.sh -p --with-tools --with-refiner --with-metis --with-mumps --with-lapack --with-ml\n\nsetup.sh\u306e\u5b9f\u884c\u304c\u4f4f\u3093\u3060\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u30d0\u30a4\u30ca\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n(MINGW64) make\n(MINGW64) make install\n\n\u69cb\u7bc9\u3057\u305f\u30d0\u30a4\u30ca\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3059\u308b\u3068\u3001$(HOME)/FrontISTR/bin\u4ee5\u4e0b\u306b\n(MINGW64) ls $HOME/FrontISTR/bin\nfistr1.exe    hecmw_part1.exe  neu2fstr.exe  rmerge.exe\nhec2rcap.exe  hecmw_vis1.exe   rconv.exe\n\n\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u304c\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002\n\u4f5c\u6210\u3055\u308c\u305f\u30d0\u30a4\u30ca\u30ea\u306f\u3001MSYS2\u3084MinGW\u304c\u7121\u304f\u3066\u3082\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001\u5404\u7a2eDLL\u3092\u30b3\u30d4\u30fc\u3057\u3066PATH\u3092\u901a\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u5fc5\u8981\u306aDLL\u306f\nlibwinpthread-1.dll\nlibgfortran-3.dll\nlibgcc_s_seh-1.dll\nlibgomp-1.dll\nlibstdc++-6.dll\nlibquadmath-0.dll\n\n\u3068msmpi.dll\u304a\u3088\u3073mpiexec.exe\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u3089\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3067MSMpiSetup.exe\n\u3092\u5b9f\u884c\u3057\u305f\u6642\u70b9\u3067PATH\u304c\u901a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001Windows\u3067\u52d5\u304fFrontISTR\u306e\u69cb\u7bc9\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\n\n> Ubuntu 16.04 LTS \u306a\u3069\u306e Linux\u7cfb \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3078\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u3001[\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u5927\u898f\u6a21\u69cb\u9020\u89e3\u6790\u30d7\u30ed\u30b0\u30e9\u30e0 FrontISTR v4.5\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb (ubuntu 16.04 LTS)](http://qiita.com/michioga/items/b9bc6d5c04318b107714) \u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\nWindows\u306e\u5834\u5408\u3001\u958b\u767a\u74b0\u5883\u3092\u6574\u3048\u308b\u3068\u3053\u308d\u304b\u3089\u59cb\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f\u3001FrontISTR\u3092\u69cb\u7bc9\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u5404\u7a2e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u30d0\u30a4\u30ca\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u306a\u3044\u4e8b\u304c\u591a\u3044\u305f\u3081\u3001\u3053\u308c\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u3082\u30bd\u30fc\u30b9\u304b\u3089\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u6bd4\u8f03\u7684\u9762\u5012\u306a\u305f\u3081\u3001FrontISTR\u3092\u76f4\u3050\u306b\u4f7f\u3044\u305f\u3044\u65b9\u306f [FrontISTR\u7814\u7a76\u4f1a](http://www.multi.k.u-tokyo.ac.jp/FrontISTR/) \u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b **\u30d0\u30a4\u30ca\u30ea\u7248** \u307e\u305f\u306f **REVOCAP_PrePost** \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n> REVOCAP_PrePost \u306f\u3001FrontISTR\u7b49\u3067\u4f7f\u3048\u308b\u30d7\u30ea\u30dd\u30b9\u30c8\u7528\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067FrontISTR\u304c\u540c\u68b1\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n## Git for windows SDK \u3092\u7528\u3044\u305fMSYS2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nwindows\u7528\u306e\u958b\u767a\u74b0\u5883\u3068\u3057\u3066\u3001Git for windows SDK\u306eMinGW-w64\u3092\u7528\u3044\u307e\u3059\u3002\n\n<https://github.com/git-for-windows/build-extra/releases>\n\n\u304b\u3089 `git-sdk-installer-1.0.3.7z.exe` \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u6700\u5f8c\u306b\n\n~~~txt\nGenerating catalog po/ru.msg\nmsgfmt --statistics --tcl po/ru.po -l ru -d po/\n307 \uff82\uff8c|bZ[W.\nmake[1]: *** [Makefile:76: po/ru.msg] \u30a8\u30e9\u30fc 1\nmake: *** [Makefile:1656: all] \u30a8\u30e9\u30fc 2\n\u7d9a\u884c\u3059\u308b\u306b\u306f\u4f55\u304b\u30ad\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044 . . .\n~~~\n\n\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u304c\u3001\u3053\u308c\u306f\u7121\u8996\u3057\u3066\u69cb\u3044\u307e\u305b\u3093\u3002\n\n\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7d42\u4e86\u3059\u308b\u3068\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306b\u300cGit SDK 64-bit\u300d\u3068\u3044\u3046\u30a2\u30a4\u30b3\u30f3\u304c\u73fe\u308c\u307e\u3059\u3002\n\n> \u4ee5\u524d\u306f\u3001MSYS2\u3092\u76f4\u63a5\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u65b9\u6cd5\u3092\u66f8\u3044\u3066\u3044\u307e\u3057\u305f\u304c\u3001Git for windows SDK\u3092\u4f7f\u3063\u305f\u65b9\u304c\u7c21\u5358\u306b\u74b0\u5883\u6574\u5099\u304c\u51fa\u6765\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3057\u305f\u3002\n\n\u6b21\u306b\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u306b\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) pacman -S mingw-w64-x86_64-cmake mingw-w64-x86_64-qt5\n~~~\n\n\u203bhttps://msys2.github.io/ \u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fMSYS2\u3067\u74b0\u5883\u3092\u6574\u5099\u3059\u308b\u306b\u306f\n\n~~~\n% pacman -S base-devel mingw-w64-x86_64-toolchain mingw-w64-x86_64-toolchain mingw-w64-x86_64-cmake mingw-w64-x86_64-extra-cmake-modules mingw-w64-x86-qt5\n~~~\n\n\u3092\u5b9f\u884c\u3057\u3066\u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n`cmake-gui`\u3092\u4f7f\u3046\u5834\u5408\u3001`mingw-w64-x86_64-qt5`\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n> Tips : `mingw-w64-x86_64-qt5` \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u5fc5\u305a\u3057\u3082\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u304c\u3001`cmake`\u3067\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u306a\u3069\u306e\u30c8\u30e9\u30d6\u30eb\u304c\u3042\u308b\u3068\u304d\u3001`cmake-gui`\u304c\u5f79\u7acb\u3061\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u30b3\u30f3\u30d1\u30a4\u30e9\u306a\u3069\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u307e\u3059\u306e\u3067\u3001\u5ff5\u306e\u305f\u3081\u78ba\u8a8d\u3092\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n~~~txt\n(MINGW64) gcc -v\n(MINGW64) gfortran -v\n(MINGW64) cmake --version\n~~~\n\n\u4f5c\u696d\u306b\u5148\u7acb\u3061\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f`$HOME/work`\u3068\u3057\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306f`$HOME/local`\u4ee5\u4e0b\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) mkdir $HOME/work\n(MINGW64) mkdir -p $HOME/local/lib\n(MINGW64) mkdir $HOME/local/include\n~~~\n\n## Microsoft MPI\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\nMPI\u306b\u306fMicrosoft MPI\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n[Download Microsoft MPI v7.1 from Official Microsoft Download Center](https://www.microsoft.com/en-us/download/details.aspx?id=52981)\n\n\u304b\u3089\u3001SDK\u306e`msmpisdk.msi`\u3068\u30e9\u30f3\u30bf\u30a4\u30e0\u306e`MSMpiSetup.exe`\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### Microsoft MPI\u3092\u30ea\u30f3\u30af\u3059\u308b\u305f\u3081\u306e\u6e96\u5099\n\nMicrosoft MPI\u3092MinGW-w64\u306e`gcc`\u3084`gfortran`\u3067\u30ea\u30f3\u30af\u3059\u308b\u305f\u3081\u306e\u4f5c\u696d\u3092\u3057\u307e\u3059\u3002\n\n\u300cGit SDK 64-bit\u300d\u3092\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n~~~txt\n(MINGW64) cd $HOME/local/lib/\n(MINGW64) gendef /c/Windows/System32/msmpi.dll\n(MINGW64) dlltool -d msmpi.def -l libmsmpi.a -D /c/Windows/System32/msmpi.dll\n(MINGW64) ls\nlibmsmpi.a  msmpi.def\n~~~\n\nMinGW-w64\u74b0\u5883\u3067\u30ea\u30f3\u30af\u3067\u304d\u308bMicrosoft MPI\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u4f5c\u6210\u3055\u308c\u307e\u3057\u305f\u3002\n\n\u6b21\u306b\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cd $HOME/local/include\n(MINGW64) cp /c/Program\\ Files\\ \\(x86\\)/Microsoft\\ SDKs/MPI/Include/*.h .\n(MINGW64) cp /c/Program\\ Files\\ \\(x86\\)/Microsoft\\ SDKs/MPI/Include/x64/*.h .\n(MINGW64) ls\nmpi.h  mpif.h  mpifptr.h  mpio.h  mspms.h  pmidbg.h\n~~~\n\n`mpi.h`\u306b\u5909\u66f4\u3092\u52a0\u3048\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) vi mpi.h\n\n#ifndef MPI_INCLUDED\n#define MPI_INCLUDED\n\u306e\u3059\u3050\u4e0b\u306b\n#include <stdint.h>\n\u3092\u8ffd\u52a0\u3059\u308b\u3002\n~~~\n\n\u66f4\u306b`mpif.h`\u306b\u5909\u66f4\u3092\u52a0\u3048\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) vi mpif.h\n\n407\u884c\u76ee\nPARAMETER (MPI_ADDRESS_KIND=INT_PTR_KIND())\n\u3092\nPARAMETER (MPI_ADDRESS_KIND=8)\n\u3078\u5909\u66f4\u3059\u308b\u3002\n~~~\n\n\u4ee5\u4e0a\u3067Microsoft MPI\u3092MinGW-w64\u3067\u30ea\u30f3\u30af\u3059\u308b\u6e96\u5099\u304c\u51fa\u6765\u307e\u3057\u305f\u3002\n\n## \u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u69cb\u7bc9\n\nFrontISTR\u3067\u6709\u52b9\u306b\u3059\u308b\u6a5f\u80fd\u306f\n\n- hecmw_part1\u9818\u57df\u5206\u5272\u30c4\u30fc\u30eb\u306a\u3069\u306e\u30c4\u30fc\u30eb\u7fa4\u751f\u6210\n- REVOCAP_Refiner (\u30e1\u30c3\u30b7\u30e5\u306e\u7d30\u5206\u5316\u6a5f\u80fd)\n- MPI (PC\u30af\u30e9\u30b9\u30bf\u7b49\u306e\u4e26\u5217\u5b9f\u884c\u74b0\u5883\uff09\n- OpenMP (\u30de\u30eb\u30c1\u30b3\u30a2CPU\u3092\u5229\u7528)\n- METIS (\u30e1\u30c3\u30b7\u30e5\u306e\u9818\u57df\u5206\u5272\u306e\u305f\u3081\u306b\u5fc5\u8981)\n- MUMPS (\u76f4\u63a5\u6cd5\u30bd\u30eb\u30d0\u30fc)\n- LAPACK \uff08CG\u6cd5\u3084GMRES\u6cd5\u3092\u7528\u3044\u305f\u524d\u51e6\u7406\u9069\u7528\u5f8c\u306e\u6761\u4ef6\u6570\u63a8\u5b9a\u6a5f\u80fd\u3092\u5229\u7528\uff09\n- Trilinos-ML \uff08\u4ee3\u6570\u30de\u30eb\u30c1\u30b0\u30ea\u30c3\u30c9\u6cd5\u306b\u57fa\u3065\u304f\u524d\u51e6\u7406\uff09\n\n\u3067\u3059\u3002\n\n### \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\nFrontISTR\u3068\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30e9\u30a4\u30d6\u30e9\u30ea\u540d          | \u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u5148                                    | \u5099\u8003\n--------------- | ------------------------------------------------------- | ------------------\nFrontISTR_V45.tar.gz   | <http://www.multi.k.u-tokyo.ac.jp/FrontISTR> | \u8981\u30e6\u30fc\u30b6\u767b\u9332\nREVOCAP_Refiner-1.1.04 | <http://www.multi.k.u-tokyo.ac.jp/FrontISTR> | \u8981\u30e6\u30fc\u30b6\u767b\u9332\nOpenBLAS-0.2.19 | <http://www.openblas.net>                               | \u30bd\u30fc\u30b9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nmetis-5.1.0     | <http://glaros.dtc.umn.edu/gkhome/metis/metis/download> | scotch-metis\u3082\u5229\u7528\u53ef\nscalapack-2.0.2 | <http://www.netlib.org/scalapack/>                      | MUMPS\u3067\u5229\u7528\nMUMPS_5.0.2     | <http://mumps.enseeiht.fr/>                             | \u8981\u30e6\u30fc\u30b6\u767b\u9332\ntrilinos-12.8.1 | <https://trilinos.org/download/>                        | \u8981\u30e6\u30fc\u30b6\u767b\u9332\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306f`$HOME/work`\u306b\u7f6e\u3044\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u300cMinGW-w64 Win64 Shell\u300d\u4e0a\u3067\u69cb\u7bc9\u3057\u3066\u3044\u304d\u307e\u3059\u3002\n\n### OpenBLAS\u306e\u69cb\u7bc9\n\nOpenBLAS\u306f\u3001\u9ad8\u901f\u306aLAPACK/BLAS\u306e\u30d5\u30ea\u30fc\u306e\u5b9f\u88c5\u3067\u3059\u3002OpenMP\u3092\u6709\u52b9\u306b\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf OpenBLAS-0.2.19.tar.gz\n(MINGW64) cd OpenBLAS-0.2.19\n(MINGW64) make BINARY=64 NO_SHARED=1 USE_OPENMP=1\n(MINGW64) make PREFIX=$HOME/local install\n~~~\n\n`make install`\u3092\u3059\u308b\u3068\u3001\n\n~~~txt\ncp: cannot stat 'libopenblas.dll': No such file or directory\nmake[1]: [Makefile.install:52: install] Error 1 (ignored)\ncp: cannot stat 'libopenblas.dll.a': No such file or directory\nmake[1]: [Makefile.install:53: install] Error 1 (ignored)\n~~~\n\u3068\u3044\u3046\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u304c\u3001\u4eca\u56de\u306fDLL\u3092\u4f5c\u6210\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u7121\u8996\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\nOpenBLAS\u306b\u306fLAPACK\u3082\u542b\u307e\u308c\u307e\u3059\u3002\u30ea\u30f3\u30af\u3059\u308b\u306b\u306f `-llapack`\u306e\u4ee3\u308f\u308a\u306b`-lopenblas`\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n### METIS\u306e\u69cb\u7bc9\n\n\u30b0\u30e9\u30d5\u30d1\u30fc\u30c6\u30a3\u30b7\u30e7\u30ca\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3059\u3002\u3053\u306e\u4ed6\u3001Scotch\u306b\u540c\u68b1\u3055\u308c\u308bmetis\u4e92\u63db\u5c64\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\nOpenMP\u3092\u6709\u52b9\u306b\u3057\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) tar xvf metis-5.1.0.tar.gz\n(MINGW64) cd metis-5.1.0\n~~~\n\n#### \u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\n\n\u30b3\u30f3\u30d1\u30a4\u30eb\u3092\u3059\u308b\u524d\u306b\n\n  - CMakeLists.txt\n  - GKlib/gk_arch.h\n  - GKlib/gk_getopt.h\n\n\u3092MinGW-w64\u7528\u306e\u4fee\u6b63\u3092\u3057\u307e\u3059\u3002\n\n##### CMakeLists.txt\n\n~~~txt\n(MINGW64) vi CMakeLists.txt\nset(GKLIB_PATH \"GKlib\" CACHE PATH \"path to GKlib\")\n\u3068\u66f8\u304b\u308c\u3066\u3044\u308b\u90e8\u5206\u3092\nset(GKLIB_PATH \"${CMAKE_SOURCE_DIR}/GKlib\" CACHE PATH \"path to GKlib\")\n\u306b\u4fee\u6b63\n~~~\n\n##### GKlib/gk_arch.h\n\n~~~txt\n(MINGW64) vi GKlib/gk_arch.h\n#include <sys/resource.h>\n\u3092\u524a\u9664\n~~~\n\n##### GKlib/gk_getopt.h\n\n~~~txt\n/* Function prototypes */\nextern int gk_getopt(int __argc, char **__argv, char *__shortopts);\nextern int gk_getopt_long(int __argc, char **__argv, char *__shortopts,\n              struct gk_option *__longopts, int *__longind);\nextern int gk_getopt_long_only (int __argc, char **__argv,\n              char *__shortopts, struct gk_option *__longopts, int *__longind);\n\u3092\u524a\u9664\n~~~\n\n#### \u30b3\u30f3\u30d1\u30a4\u30eb\n\n\u30d5\u30a1\u30a4\u30eb\u3092\u4fee\u6b63\u3057\u305f\u3089`cmake`\u3092\u5b9f\u884c\u3057\u3066\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cd build\n(MINGW64) cmake -G \"MSYS Makefiles\" -DCMAKE_INSTALL_PREFIX=$HOME/local \\\n            -DCMAKE_BUILD_TYPE=\"Release\" -DOPENMP=ON ..\n(MINGW64) make\n(MINGW64) make install\n~~~\n\n### Scalapack\u306e\u69cb\u7bc9\n\nscalapack\u306f\u3001\u3053\u306e\u5f8c\u8aac\u660e\u3092\u3059\u308bMUMPS\u306e\u69cb\u7bc9\u306b\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf scalapack-2.0.2.tgz\n(MINGW64) cd scalapack-2.0.2\n~~~\n\n\u30b5\u30f3\u30d7\u30eb\u306e`SLmake.inc.example`\u3092`SLmake.inc`\u3068\u3057\u3066\u30b3\u30d4\u30fc\u3057\u3066\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cp SLmake.inc.example SLmake.inc\n(MINGW64) vi SLmake.inc\n\n#\n#  The fortran and C compilers, loaders, and their flags\n#\n\nFC            = gfortran -fno-range-check\nCC            = gcc\nNOOPT         = -O0\nFCFLAGS       = -O3 -I$(HOME)/local/include\nCCFLAGS       = -O3 -I$(HOME)/local/include\nFCLOADER      = $(FC)\nCCLOADER      = $(CC)\nFCLOADFLAGS   = $(FCFLAGS) -L$(HOME)/local/lib -lmsmpi\nCCLOADFLAGS   = $(CCFLAGS) -L$(HOME)/local/lib -lmsmpi\n\n#\n#  BLAS, LAPACK (and possibly other) libraries needed for linking test programs\n#\n\nBLASLIB       = -L$(HOME)/local/lib -lopenblas\nLAPACKLIB     = -L$(HOME)/local/lib -lopenblas\nLIBS          = $(LAPACKLIB) $(BLASLIB)\n~~~\n\n\u66f8\u304d\u63db\u3048\u304c\u6e08\u3093\u3060\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) make\n~~~\n\n`make`\u3092\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u51fa\u307e\u3059\u304c\u3001`BLACS/TESTING`\u306e\u30a8\u30e9\u30fc\u306a\u306e\u3067\u7121\u8996\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cp libscalapack.a $HOME/local/lib\n~~~\n\n### MUMPS\u306e\u69cb\u7bc9\n\nMUMPS\u306f\u76f4\u63a5\u6cd5\u306e\u30bd\u30eb\u30d0\u3067\u3059\u3002\n\n~~~txt\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf MUMPS_5.0.2.tar.gz\n(MINGW64) cd MUMPS_5.0.2\n~~~\n\n`Make.inc`\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u3001`Makefile.inc.generic`\u3092\u5143\u306b`Makefile.inc`\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u305f\u5185\u5bb9\u3078\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cp Make.inc/Makefile.inc.generic Makefile.inc\n(MINGW64) vi Makefile.inc\n\nLMETISDIR = $(HOME)/local\nIMETIS    = -I$(LMETISDIR)/include\nLMETIS    = -L$(LMETISDIR)/lib -lmetis\n\nORDERINGSF  = -Dmetis -Dpord\n\nCC      = gcc -fopenmp\nFC      = gfortran -fopenmp -fno-range-check\nFL      = gfortran -fopenmp\n\nSCALAP  = -L$(HOME)/local/lib -lscalapack\n\nINCPAR = -I$(HOME)/local/include\n\nLIBPAR  = $(SCALAP) -L$(HOME)/local/lib -lmsmpi\n\nLIBBLAS = -L$(HOME)/local/lib -lopenblas\n\nLIBOTHERS = -lpthread -fopenmp\n\nOPTF    = -O -DMUMPS_OPENMP\nOPTC    = -O -I. -DMUMPS_OPENMP\nOPTL    = -O\n~~~\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u6e08\u3093\u3060\u3089\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) make\n~~~\n\n### Trilinos ML\u306e\u69cb\u7bc9\n\nTrilinos\u306b\u306f\u591a\u304f\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u304c\u3001FrontISTR\u306b\u5fc5\u8981\u306a\u306e\u306f`ML`\u3068`zoltan`\u3060\u3051\u3067\u3059\u3002\n\n~~~txt\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf trilinos-12.8.1-Source.tar.gz\n(MINGW64) cd trilinos-12.8.1-Source\n(MINGW64) mkdir build\n(MINGW64) cd build\n(MINGW64) cmake \\\n            -G \"MSYS Makefiles\" \\\n            -DCMAKE_INSTALL_PREFIX=$HOME/local \\\n            -DCMAKE_C_FLAGS=\"-DNO_TIMES\" \\\n            -DCMAKE_CXX_FLAGS=\"-DNO_TIMES\" \\\n            -DTrilinos_ENABLE_ML=ON \\\n            -DTrilinos_ENABLE_Zoltan=ON \\\n            -DTrilinos_ENABLE_OpenMP=ON \\\n            -DTrilinos_ENABLE_ALL_OPTIONAL_PACKAGES=OFF \\\n            -DTPL_BLAS_LIBRARIES=$HOME/local/lib/libopenblas.a \\\n            -DTPL_LAPACK_LIBRARIES=$HOME/local/lib/libopenblas.a \\\n            -DTPL_ENABLE_MPI=ON \\\n            -DML_ENABLE_MPI=ON \\\n            -DMPI_CXX_COMPILER=g++ \\\n            -DMPI_CXX_INCLUDE_PATH=$HOME/local/include \\\n            -DMPI_CXX_LIBRARIES=$HOME/local/lib/libmsmpi.a \\\n            -DMPI_C_COMPILER=gcc \\\n            -DMPI_C_INCLUDE_PATH=$HOME/local/include \\\n            -DMPI_C_LIBRARIES=$HOME/local/lib/libmsmpi.a \\\n            ..\n(MINGW64) make\n(MINGW64) make install\n~~~\n\n### REVOCAP_Refiner\u306e\u69cb\u7bc9\n\nREVOCAP_Refiner\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf REVOCAP_Refiner-1.1.04.tar.gz\n(MINGW64) cd REVOCAP_Refiner-1.1.04\n(MINGW64) make\n~~~\n\n## FrontISTR\u306e\u69cb\u7bc9\n\n\u5fc5\u8981\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u5c0e\u5165\u304c\u6e08\u3093\u3060\u3089FrontISTR\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cd $HOME/work\n(MINGW64) tar xvf FrontISTR_V45.tar.gz\n(MINGW64) cd FrontISTR_V45\n~~~\n\n\u30b5\u30f3\u30d7\u30eb\u306e`Makefile.conf.org`\u3092`Makefile.conf`\u3068\u3057\u3066\u30b3\u30d4\u30fc\u3057\u3066\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) cp Makefile.conf.org Makefile.conf\n(MINGW64) vi Makefile.conf\n~~~\n\n\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067`Makefile.conf`\u3092\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n~~~txt\n(MINGW64) vi Makefile.conf\n\n##################################################\n#                                                #\n#     Setup Configulation File for FrontISTR     #\n#                                                #\n##################################################\n\n# MPI\nMPIDIR         = $(HOME)/local\nMPIBINDIR      = \"/c/Program\\ Files/Microsoft\\ MPI/Bin/\"\nMPILIBDIR      = $(MPIDIR)/lib\nMPIINCDIR      = $(MPIDIR)/include\nMPILIBS        = -lmsmpi\n\n# for install option only\nPREFIX         = $(HOME)/FrontISTR\nBINDIR         = $(PREFIX)/bin\nLIBDIR         = $(PREFIX)/lib\nINCLUDEDIR     = $(PREFIX)/include\n\n# Metis\nMETISDIR       = $(HOME)/local\nMETISLIBDIR    = $(METISDIR)/lib\nMETISINCDIR    = $(METISDIR)/include\nHECMW_METIS_VER= 5\n\n# ParMetis\nPARMETISDIR    = $(HOME)/ParMetis-3.1\nPARMETISLIBDIR = $(PARMETISDIR)\nPARMETISINCDIR = $(PARMETISDIR)/ParMETISLib\n\n# Refiner\nREFINERDIR     = $(HOME)/work/REVOCAP_Refiner-1.1.04\nREFINERINCDIR  = $(REFINERDIR)/Refiner\nREFINERLIBDIR  = $(REFINERDIR)/lib/x86_64-linux\n\n# Coupler\nREVOCAPDIR     = $(HOME)/REVOCAP_Coupler\nREVOCAPINCDIR  = $(REVOCAPDIR)/librcap\nREVOCAPLIBDIR  = $(REVOCAPDIR)/librcap\n\n# MUMPS\nMUMPSDIR       = $(HOME)/work/MUMPS_5.0.2\nMUMPSINCDIR    = $(MUMPSDIR)/include\nMUMPSLIBDIR    = $(MUMPSDIR)/lib\nMUMPSLIBS      = -ldmumps -lmumps_common -lpord -L$(HOME)/local/lib -lscalapack\n\n# MKL PARDISO\nMKLDIR     = $(HOME)/\nMKLINCDIR  = $(MKLDIR)/include\nMKLLIBDIR  = $(MKLDIR)/lib\n\n# ML\nMLDIR          = $(HOME)/local\nMLINCDIR       = $(MLDIR)/include\nMLLIBDIR       = $(MLDIR)/lib\nMLLIBS         = -lml -lzoltan -lws2_32\n\n# C compiler settings\nCC             = gcc -fopenmp\nCFLAGS         = -D_WINDOWS\nLDFLAGS        = -lstdc++ -lm\nOPTFLAGS       = -O3\n\n# C++ compiler settings\nCPP            = g++ -fopenmp\nCPPFLAGS       = -D_WINDOWS\nCPPLDFLAGS     =\nCPPOPTFLAGS    = -O3\n\n# Fortran compiler settings\nF90            = gfortran -fopenmp -fno-range-check\nF90FLAGS       = -D_WINDOWS\nF90LDFLAGS     = -lstdc++ -L$(HOME)/local/lib -lopenblas\nF90OPTFLAGS    = -O2\nF90FPP         = -cpp\nF90LINKER      = gfortran -fopenmp\n\nMAKE           = make\nAR             = ar ruv\nMV             = mv -f\nCP             = cp -f\nRM             = rm -f\nMKDIR          = mkdir -p\n~~~\n\n> - \u3053\u306e\u624b\u9806\u3067\u7528\u3044\u308bMETIS\u306fVersion5.1.0\u3067\u3059\u3002`HECMW_METIS_VER = 5`\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n> - gfortran\u306e\u30d7\u30ea\u30d7\u30ed\u30bb\u30c3\u30b5\u6307\u5b9a\u306f `-cpp`\u3067\u3059\u3002`F90FPP = -cpp`\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n> - `REFINERLIBDIR`\u306b`x86_64-linux`\u3068\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u9593\u9055\u3044\u3067\u306f\u3042\u308a\u307e\u305b\u3093?\n\n\n\u3055\u3089\u306b`Makefile.am`\u3092\u7de8\u96c6\u3057\u69cb\u7bc9\u3059\u308b\u5fc5\u8981\u306e\u306a\u3044\u90e8\u5206\u3092\u9664\u5916\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) vi Makefile.am\n\nPREFIX     = @prefix@\nBINDIR     = @bindir@\nLIBDIR     = @libdir@\nINCLUDEDIR = @includedir@\n\nMAKE       = @make@\nAR         = @ar@\nCP         = @cp@\nRM         = @rm@\nMV         = @mv@\nRANLIB     = @ranlib@\nMKDIR      = @mkdir@\n\nall:\n        @cd hecmw1 && $(MAKE)\n        @cd fistr1 && $(MAKE)\n#       @cd hecmw2 && $(MAKE)\n#       @cd fistr2 && $(MAKE)\n        @cd fistr  && $(MAKE)\n\nclean:\n        @cd hecmw1 && $(MAKE) clean\n        @cd fistr1 && $(MAKE) clean\n#       @cd hecmw2 && $(MAKE) clean\n#       @cd fistr2 && $(MAKE) clean\n        @cd fistr  && $(MAKE) clean\n\ndistclean:\n        @cd hecmw1 && $(MAKE) distclean\n        @cd fistr1 && $(MAKE) distclean\n#       @cd hecmw2 && $(MAKE) distclean\n#       @cd fistr2 && $(MAKE) distclean\n        @cd fistr  && $(MAKE) distclean\n        - $(RM) ./bin/*\n\ninstall:\n        if [ ! -d $(PREFIX) ]; then \\\n                $(MKDIR) $(PREFIX); \\\n        fi\n        if [ ! -d $(BINDIR) ]; then \\\n                $(MKDIR) $(BINDIR); \\\n        fi\n        @cd hecmw1 && $(MAKE) install\n        @cd fistr1 && $(MAKE) install\n#       @cd hecmw2 && $(MAKE) install\n#       @cd fistr2 && $(MAKE) install\n        @cd fistr  && $(MAKE) install\n~~~\n\n> `hecmw2`\u304a\u3088\u3073`fistr2`\u306f\u69cb\u7bc9\u3057\u307e\u305b\u3093\u306e\u3067\u3001\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u7de8\u96c6\u304c\u51fa\u6765\u305f\u3089`setup.sh`\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n~~~txt\n(MINGW64) ./setup.sh -p --with-tools --with-refiner --with-metis --with-mumps --with-lapack --with-ml\n~~~\n\n`setup.sh`\u306e\u5b9f\u884c\u304c\u4f4f\u3093\u3060\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u30d0\u30a4\u30ca\u30ea\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n~~~txt\n(MINGW64) make\n(MINGW64) make install\n~~~\n\n\u69cb\u7bc9\u3057\u305f\u30d0\u30a4\u30ca\u30ea\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u3059\u308b\u3068\u3001`$(HOME)/FrontISTR/bin`\u4ee5\u4e0b\u306b\n\n~~~txt\n(MINGW64) ls $HOME/FrontISTR/bin\nfistr1.exe    hecmw_part1.exe  neu2fstr.exe  rmerge.exe\nhec2rcap.exe  hecmw_vis1.exe   rconv.exe\n~~~\n\n\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u304c\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u3002\n\n\u4f5c\u6210\u3055\u308c\u305f\u30d0\u30a4\u30ca\u30ea\u306f\u3001MSYS2\u3084MinGW\u304c\u7121\u304f\u3066\u3082\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001\u5404\u7a2eDLL\u3092\u30b3\u30d4\u30fc\u3057\u3066`PATH`\u3092\u901a\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u5fc5\u8981\u306aDLL\u306f\n\n~~~txt\nlibwinpthread-1.dll\nlibgfortran-3.dll\nlibgcc_s_seh-1.dll\nlibgomp-1.dll\nlibstdc++-6.dll\nlibquadmath-0.dll\n~~~\n\n\u3068`msmpi.dll`\u304a\u3088\u3073`mpiexec.exe`\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u3053\u308c\u3089\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3067`MSMpiSetup.exe`\n\u3092\u5b9f\u884c\u3057\u305f\u6642\u70b9\u3067`PATH`\u304c\u901a\u3063\u3066\u3044\u307e\u3059\u3002\n", "tags": ["FEM", "\u69cb\u9020\u89e3\u6790", "\u6570\u5024\u8a08\u7b97", "MinGW"]}