{"context": " More than 1 year has passed since last update.\n\n\u554f\u984c\u70b9\n\n\u4ee5\u4e0b\u306e\u69d8\u306a\u7269\u3092\u6e96\u5099\u3057\u305f\u6642\u306b\u3001field_with_errors\u306ediv\u304c\u5404radio_button\u306b\u66f8\u304b\u308c\u3066\u3057\u307e\u3046\nnew.html.slim\n\nform_for @gessy0129 do |f|\n  - Gessy0129.statuses.each do |key, val|\n    = f.radio_button :status, key\n    label for=\"gessy0129_status_#{key}\"\n      = t(\"activerecord.gessy0129.status.#{key}\")\n\n\napp/model/gessy0129.rb\n\n  enum status: {\n    open:  1,\n    close: 2,\n    deny:  3\n  }\n\n  validates :status,\n    presence: true\n\n\n\u901a\u5e38\u6642\u306eHTML\n\n<form action=\"/gessy0129\">\n  <input type=\"radio\" value=\"open\" name=\"gessy0129[status]\" id=\"gessy0129_status_open\" />\n  <label for=\"gessy0129_status_close\">\u6709\u52b9</label>\n  <input type=\"radio\" value=\"close\" name=\"gessy0129[status]\" id=\"gessy0129_status_close\" />\n  <label for=\"gessy0129_status_open\">\u7121\u52b9</label>\n  <input type=\"radio\" value=\"deny\" name=\"gessy0129[status]\" id=\"gessy0129_status_deny\" />\n  <label for=\"gessy0129_status_deny\">\u62d2\u5426</label>\n</form>\n\n\n\u30a8\u30e9\u30fc\u6642\u306eHTML\n\n<form action=\"/gessy0129\">\n  <div class=\"field_with_errors\">\n    <input type=\"radio\" value=\"open\" name=\"gessy0129[status]\" id=\"gessy0129_status_open\" />\n  </div>\n  <label for=\"gessy0129_status_close\">\u6709\u52b9</label>\n  <div class=\"field_with_errors\">\n    <input type=\"radio\" value=\"close\" name=\"gessy0129[status]\" id=\"gessy0129_status_close\" />\n  </div>\n  <label for=\"gessy0129_status_open\">\u7121\u52b9</label>\n  <div class=\"field_with_errors\">\n    <input type=\"radio\" value=\"deny\" name=\"gessy0129[status]\" id=\"gessy0129_status_deny\" />\n  </div>\n  <label for=\"gessy0129_status_deny\">\u62d2\u5426</label>\n</form>\n\n\n\u89e3\u6c7a\u6848\n\n\u30b0\u30b0\u3063\u305f\u3089\u4ee5\u4e0b\u306e\u4e8c\u629e\u3063\u307d\u3044\u7a7a\u6c17\n\n\n\nconfig/application.rb \u306econfig.action_view.field_error_proc \u3067field_with_errors\u3092\u7121\u304b\u3063\u305f\u3053\u3068\u306b\u3059\u308b\n\nconfig/application.rb \u306econfig.action_view.field_error_proc \u306ehtml_tag\u3067\u5206\u5c90\n\n\u305f\u3060\u3001\n\n\u5168\u90e8\u6d88\u3059\u306e\u306f\u5f71\u97ff\u30c7\u30ab\u30a4\u306e\u3067\u306a\u3057\n\nhtml_tag\u3067\u306e\u5206\u5c90\u306f\u6b63\u898f\u8868\u73fe\u66f8\u304f\u306e\u304c\u9762\u5012\n\n\u3068\u3044\u3046\u7406\u7531\u306b\u3088\u308a\u5225\u65b9\u7b56\u3092\u691c\u8a0e\u3057\u3066\u307f\u307e\u3057\u305f\n\n\u691c\u8a0e\u7d50\u679c\nhidden\u306e\u6642\u306bfield_with_errors \u304c\u51fa\u3066\u306a\u3044\u306e\u306b\u7740\u76ee\nactionview/lib/action_view/helpers/active_model_helper.rb\n\u306e\u5236\u5fa1\u3092\u30e2\u30f3\u30ad\u30fc\u30fb\u30d1\u30f3\u30c1\u3059\u308c\u3070\u3044\u3044\u3093\u3058\u3083\u306d\uff01\uff1f\n\n\u89e3\u6c7a\u6e08\u307f\u30d7\u30ed\u30b0\u30e9\u30e0\n\nconfig/initializers/action_view_helpers.rb\n\nmodule ActionView\n  module Helpers\n    module ActiveModelInstanceTag\n      def tag_generate_errors?(options)\n        (options['type'] != 'hidden' && options['type'] != 'radio')\n      end\n    end\n  end\nend\n\n\n\u6700\u5f8c\u306b\n\n\u3088\u308a\u826f\u3044\u89e3\u6c7a\u7b56\u3042\u308c\u3070\u6559\u3048\u3066\u4e0b\u3055\u3044\n\n## \u554f\u984c\u70b9\n\n+ \u4ee5\u4e0b\u306e\u69d8\u306a\u7269\u3092\u6e96\u5099\u3057\u305f\u6642\u306b\u3001`field_with_errors`\u306e`div`\u304c\u5404`radio_button`\u306b\u66f8\u304b\u308c\u3066\u3057\u307e\u3046\n\n+ new.html.slim\n\n```rb\nform_for @gessy0129 do |f|\n  - Gessy0129.statuses.each do |key, val|\n    = f.radio_button :status, key\n    label for=\"gessy0129_status_#{key}\"\n      = t(\"activerecord.gessy0129.status.#{key}\")\n```\n\n+ app/model/gessy0129.rb\n\n```rb\n  enum status: {\n    open:  1,\n    close: 2,\n    deny:  3\n  }\n\n  validates :status,\n    presence: true\n```\n\n+ \u901a\u5e38\u6642\u306eHTML\n\n```html\n<form action=\"/gessy0129\">\n  <input type=\"radio\" value=\"open\" name=\"gessy0129[status]\" id=\"gessy0129_status_open\" />\n  <label for=\"gessy0129_status_close\">\u6709\u52b9</label>\n  <input type=\"radio\" value=\"close\" name=\"gessy0129[status]\" id=\"gessy0129_status_close\" />\n  <label for=\"gessy0129_status_open\">\u7121\u52b9</label>\n  <input type=\"radio\" value=\"deny\" name=\"gessy0129[status]\" id=\"gessy0129_status_deny\" />\n  <label for=\"gessy0129_status_deny\">\u62d2\u5426</label>\n</form>\n```\n\n+ \u30a8\u30e9\u30fc\u6642\u306eHTML\n\n```html\n<form action=\"/gessy0129\">\n  <div class=\"field_with_errors\">\n    <input type=\"radio\" value=\"open\" name=\"gessy0129[status]\" id=\"gessy0129_status_open\" />\n  </div>\n  <label for=\"gessy0129_status_close\">\u6709\u52b9</label>\n  <div class=\"field_with_errors\">\n    <input type=\"radio\" value=\"close\" name=\"gessy0129[status]\" id=\"gessy0129_status_close\" />\n  </div>\n  <label for=\"gessy0129_status_open\">\u7121\u52b9</label>\n  <div class=\"field_with_errors\">\n    <input type=\"radio\" value=\"deny\" name=\"gessy0129[status]\" id=\"gessy0129_status_deny\" />\n  </div>\n  <label for=\"gessy0129_status_deny\">\u62d2\u5426</label>\n</form>\n```\n\n## \u89e3\u6c7a\u6848\n\n+ \u30b0\u30b0\u3063\u305f\u3089\u4ee5\u4e0b\u306e\u4e8c\u629e\u3063\u307d\u3044\u7a7a\u6c17\n\n1. `config/application.rb` \u306e`config.action_view.field_error_proc` \u3067`field_with_errors`\u3092\u7121\u304b\u3063\u305f\u3053\u3068\u306b\u3059\u308b\n2. `config/application.rb` \u306e`config.action_view.field_error_proc` \u306e`html_tag`\u3067\u5206\u5c90\n\n\u305f\u3060\u3001\n\n+ \u5168\u90e8\u6d88\u3059\u306e\u306f\u5f71\u97ff\u30c7\u30ab\u30a4\u306e\u3067\u306a\u3057\n+ `html_tag`\u3067\u306e\u5206\u5c90\u306f\u6b63\u898f\u8868\u73fe\u66f8\u304f\u306e\u304c\u9762\u5012\n\n\u3068\u3044\u3046\u7406\u7531\u306b\u3088\u308a\u5225\u65b9\u7b56\u3092\u691c\u8a0e\u3057\u3066\u307f\u307e\u3057\u305f\n\n## \u691c\u8a0e\u7d50\u679c\n\n`hidden`\u306e\u6642\u306b`field_with_errors` \u304c\u51fa\u3066\u306a\u3044\u306e\u306b\u7740\u76ee\n`actionview/lib/action_view/helpers/active_model_helper.rb`\n\n\u306e\u5236\u5fa1\u3092\u30e2\u30f3\u30ad\u30fc\u30fb\u30d1\u30f3\u30c1\u3059\u308c\u3070\u3044\u3044\u3093\u3058\u3083\u306d\uff01\uff1f\n\n## \u89e3\u6c7a\u6e08\u307f\u30d7\u30ed\u30b0\u30e9\u30e0\n\n+ `config/initializers/action_view_helpers.rb`\n\n```rb\nmodule ActionView\n  module Helpers\n    module ActiveModelInstanceTag\n      def tag_generate_errors?(options)\n        (options['type'] != 'hidden' && options['type'] != 'radio')\n      end\n    end\n  end\nend\n```\n\n## \u6700\u5f8c\u306b\n\n+ \u3088\u308a\u826f\u3044\u89e3\u6c7a\u7b56\u3042\u308c\u3070\u6559\u3048\u3066\u4e0b\u3055\u3044\n", "tags": ["Rails4", "ActiveRecord"]}