{"context": "\n\nAnsible2.1\u304c\u7d42\u4e86\u3057\u306a\u304f\u3066\u60a9\u3093\u3060\n\u6700\u521d\u306bansible\u3067git clone --mirror\u3057\u305f\u304f\u3066\u60a9\u3093\u3067\u305f\u3089\u3001git_config module\u304c\u51fa\u3066\u3044\u305f\u306e\u3067\u3001\ngit \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u3000bare \u30aa\u30d7\u30b7\u30e7\u30f3+git_confi\u3067mirror\u8a2d\u5b9a\u8ffd\u52a0 \u3092\u8a66\u3057\u3066\u307f\u305f\u3002\n\u8a66\u3057\u3066\u307f\u305f\u304c\u3001\u52d5\u304b\u306a\u304f\u3066\u78ba\u8a8d\u3059\u308b\u3068git_confi\u30e2\u30b8\u30e5\u30fc\u30eb\u306fv2.1\u304b\u3089\u3060\u3063\u305f\u3001\u3002\n\u65e9\u901f\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u3088\u306d\u3002\n\u305d\u3057\u305f\u3089git clone --mirror\u306f\u3067\u304d\u305f\u3051\u3069\u3001\u306a\u3093\u304b\u7d42\u4e86\u3057\u306a\u3044...(\u4e0b\u8a18\u306e\u72b6\u614b\u3067\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u5e30\u3063\u3066\u3053\u306a\u3044)\nPLAY RECAP *********************************************************************\n10.100.10.253              : ok=21   changed=1    unreachable=0    failed=0\n\n\u8a66\u3057\u306bstrace\u3057\u3066\u307f\u305f\u3089\u305a\u3063\u3068\u5909\u306a\u306e\u3067\u3066\u308b\u3088\u306d\n$ sudo strace -p 6852\npoll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 100})   = 0 (Timeout)\npoll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 100})   = 0 (Timeout)\n\nansible\u306eprompt\u3067 ctrl+C \u3059\u308b\u3068\u3060\u3089\u3060\u308d\u30a8\u30e9\u30fc\nPLAY RECAP *********************************************************************\n10.100.10.253              : ok=21   changed=1    unreachable=0    failed=0\n\nError in atexit._run_exitfuncs:\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/atexit.py\", line 24, in _run_exitfuncs\n    func(*targs, **kargs)\n  File \"/usr/lib64/python2.7/multiprocessing/util.py\", line 325, in _exit_function\n    p.join()\n  File \"/usr/lib64/python2.7/multiprocessing/process.py\", line 145, in join\n    res = self._popen.wait(timeout)\n  File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 154, in wait\n    return self.poll(0)\n  File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 135, in poll\n    pid, sts = os.waitpid(self.pid, flag)\nKeyboardInterrupt\nError in sys.exitfunc:\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/atexit.py\", line 24, in _run_exitfuncs\n    func(*targs, **kargs)\n  File \"/usr/lib64/python2.7/multiprocessing/util.py\", line 325, in _exit_function\n    p.join()\n  File \"/usr/lib64/python2.7/multiprocessing/process.py\", line 145, in join\n    res = self._popen.wait(timeout)\n  File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 154, in wait\n    return self.poll(0)\n  File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 135, in poll\n    pid, sts = os.waitpid(self.pid, flag)\nKeyboardInterrupt\n\n\u308f\u304b\u3089\u3093...\u79c1\u306b\u306f\u8aad\u307f\u89e3\u304f\u529b\u306a\u3093\u3066\u3042\u308a\u307e\u305b\u3093\u3002\n\u305f\u3060\u3075\u3068\u3001ansible\u3060\u3063\u305f\u304b\u5b9a\u304b\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001tmux\u4e0a\u3067\u5b9f\u884c\u3059\u308b\u3068\u4e0d\u5177\u5408\u304c\u8d77\u3053\u308b\u7684\u306a\u8a18\u4e8b\u3092\u8aad\u3093\u3060\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u305f\u306e\u3067tmux\u3092\u30c7\u30bf\u30c3\u30c1\u3057\u3066\u304b\u3089\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068...\n\u3059\u3093\u306a\u308a\u3068\u7d42\u308f\u3063\u305f...\nPLAY RECAP *********************************************************************\n10.100.10.253              : ok=21   changed=1    unreachable=0    failed=0\n\n$\n\n\u3064\u307e\u308a\u3001ansible2.1\u3067\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u5e30\u3063\u3066\u3053\u306a\u3044\u4eba\u3067tmux\u4f7f\u3063\u3066\u305f\u306a\u3089\u629c\u3051\u3066\u307f\u3088\u3046\uff01\n\u89e3\u6c7a\u7b56\u306a\u3069\u4f55\u3082\u51fa\u3057\u3066\u306a\u3044\u3067\u3059\u304c\u3001\u3054\u5b58\u77e5\u306e\u65b9\u3044\u3089\u3063\u3057\u3083\u3044\u307e\u3057\u305f\u3089\u30b3\u30e1\u30f3\u30c8\u306a\u3069\u3044\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u8a66\u3057\u3066\u305f\u74b0\u5883\u306f\u4ee5\u4e0b\n# amazone linux\u3067\u3059\n$ uname -a\nLinux ip-10-255-0-194 4.4.8-20.46.amzn1.x86_64 #1 SMP Wed Apr 27 19:28:52 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n$\n$ ansible --version\nansible 2.1.0.0\n  config file = /home/momin/ansible/ansible.cfg\n  configured module search path = Default w/o overrides\n$\n$ tmux -V\ntmux 1.8\n\nAnsible2.1\u304c\u7d42\u4e86\u3057\u306a\u304f\u3066\u60a9\u3093\u3060\n---\n\n\u6700\u521d\u306bansible\u3067`git clone --mirror`\u3057\u305f\u304f\u3066\u60a9\u3093\u3067\u305f\u3089\u3001[git_config module](http://docs.ansible.com/ansible/git_config_module.html)\u304c\u51fa\u3066\u3044\u305f\u306e\u3067\u3001\n`git \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u3000bare \u30aa\u30d7\u30b7\u30e7\u30f3`+`git_confi\u3067mirror\u8a2d\u5b9a\u8ffd\u52a0` \u3092\u8a66\u3057\u3066\u307f\u305f\u3002\n\u8a66\u3057\u3066\u307f\u305f\u304c\u3001\u52d5\u304b\u306a\u304f\u3066\u78ba\u8a8d\u3059\u308b\u3068git_confi\u30e2\u30b8\u30e5\u30fc\u30eb\u306f`v2.1`\u304b\u3089\u3060\u3063\u305f\u3001\u3002\n*\u65e9\u901f\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u3088\u306d\u3002*\n\n\u305d\u3057\u305f\u3089`git clone --mirror`\u306f\u3067\u304d\u305f\u3051\u3069\u3001\u306a\u3093\u304b\u7d42\u4e86\u3057\u306a\u3044...(\u4e0b\u8a18\u306e\u72b6\u614b\u3067\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u5e30\u3063\u3066\u3053\u306a\u3044)\n\n```bash\nPLAY RECAP *********************************************************************\n10.100.10.253              : ok=21   changed=1    unreachable=0    failed=0\n```\n\n\u8a66\u3057\u306b`strace`\u3057\u3066\u307f\u305f\u3089\u305a\u3063\u3068\u5909\u306a\u306e\u3067\u3066\u308b\u3088\u306d\n\n```bash\n$ sudo strace -p 6852\npoll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 100})   = 0 (Timeout)\npoll([{fd=6, events=POLLIN|POLLPRI}], 1, 0) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 100})   = 0 (Timeout)\n``` \n\nansible\u306eprompt\u3067 `ctrl+C` \u3059\u308b\u3068\u3060\u3089\u3060\u308d\u30a8\u30e9\u30fc\n\n```bash\nPLAY RECAP *********************************************************************\n10.100.10.253              : ok=21   changed=1    unreachable=0    failed=0\n\nError in atexit._run_exitfuncs:\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/atexit.py\", line 24, in _run_exitfuncs\n    func(*targs, **kargs)\n  File \"/usr/lib64/python2.7/multiprocessing/util.py\", line 325, in _exit_function\n    p.join()\n  File \"/usr/lib64/python2.7/multiprocessing/process.py\", line 145, in join\n    res = self._popen.wait(timeout)\n  File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 154, in wait\n    return self.poll(0)\n  File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 135, in poll\n    pid, sts = os.waitpid(self.pid, flag)\nKeyboardInterrupt\nError in sys.exitfunc:\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/atexit.py\", line 24, in _run_exitfuncs\n    func(*targs, **kargs)\n  File \"/usr/lib64/python2.7/multiprocessing/util.py\", line 325, in _exit_function\n    p.join()\n  File \"/usr/lib64/python2.7/multiprocessing/process.py\", line 145, in join\n    res = self._popen.wait(timeout)\n  File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 154, in wait\n    return self.poll(0)\n  File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 135, in poll\n    pid, sts = os.waitpid(self.pid, flag)\nKeyboardInterrupt\n```\n\n\u308f\u304b\u3089\u3093...\u79c1\u306b\u306f\u8aad\u307f\u89e3\u304f\u529b\u306a\u3093\u3066\u3042\u308a\u307e\u305b\u3093\u3002\n\u305f\u3060\u3075\u3068\u3001ansible\u3060\u3063\u305f\u304b\u5b9a\u304b\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001tmux\u4e0a\u3067\u5b9f\u884c\u3059\u308b\u3068\u4e0d\u5177\u5408\u304c\u8d77\u3053\u308b\u7684\u306a\u8a18\u4e8b\u3092\u8aad\u3093\u3060\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u305f\u306e\u3067tmux\u3092\u30c7\u30bf\u30c3\u30c1\u3057\u3066\u304b\u3089\u5b9f\u884c\u3057\u3066\u307f\u308b\u3068...\n\n\n\u3059\u3093\u306a\u308a\u3068\u7d42\u308f\u3063\u305f...\n\n```\nPLAY RECAP *********************************************************************\n10.100.10.253              : ok=21   changed=1    unreachable=0    failed=0\n\n$\n```\n\n\u3064\u307e\u308a\u3001ansible2.1\u3067\u30d7\u30ed\u30f3\u30d7\u30c8\u304c\u5e30\u3063\u3066\u3053\u306a\u3044\u4eba\u3067tmux\u4f7f\u3063\u3066\u305f\u306a\u3089\u629c\u3051\u3066\u307f\u3088\u3046\uff01\n\u89e3\u6c7a\u7b56\u306a\u3069\u4f55\u3082\u51fa\u3057\u3066\u306a\u3044\u3067\u3059\u304c\u3001\u3054\u5b58\u77e5\u306e\u65b9\u3044\u3089\u3063\u3057\u3083\u3044\u307e\u3057\u305f\u3089\u30b3\u30e1\u30f3\u30c8\u306a\u3069\u3044\u305f\u3060\u3051\u308b\u3068\u5e78\u3044\u3067\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u8a66\u3057\u3066\u305f\u74b0\u5883\u306f\u4ee5\u4e0b\n\n```bash\n# amazone linux\u3067\u3059\n$ uname -a\nLinux ip-10-255-0-194 4.4.8-20.46.amzn1.x86_64 #1 SMP Wed Apr 27 19:28:52 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\n$\n$ ansible --version\nansible 2.1.0.0\n  config file = /home/momin/ansible/ansible.cfg\n  configured module search path = Default w/o overrides\n$\n$ tmux -V\ntmux 1.8\n```\n", "tags": ["Ansible", "tmux", "AmazonLinux"]}