{"context": " More than 1 year has passed since last update.\n\nFirefox OS\u3067\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\uff01\uff5e PHASER\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u305f \uff08\u305d\u306e\uff14\uff09\uff5e\n\u524d\u56de\u3067\u30b2\u30fc\u30e0\u306e\u64cd\u4f5c\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n\n\u4eca\u56de\u306f\u30b2\u30fc\u30e0\u306e\u52b9\u679c\u97f3\u3068\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u97f3\u697d\u3092\u6d41\u3059\u3053\u3068\u3092\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nPHASER\u306f\"Audio\u30b5\u30f3\u30d7\u30eb\":http://phaser.io/examples/v2/category/audio \u3082\u591a\u304f\u3042\u308b\u306e\u3067\u4ee5\u4e0b\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\n\n\u30b2\u30fc\u30e0\u306e\u52b9\u679c\u97f3\uff1a\u3000\"audio-sprite\":http://phaser.io/examples/v2/audio/audio-sprite\n\uff11\u3064\u306eAudio\u30d5\u30a1\u30a4\u30eb\u306b\u8907\u6570\u306e\u52b9\u679c\u97f3\u3092\u542b\u3081\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\u30b2\u30fc\u30e0\u306e\u52b9\u679c\u97f3\u3092\u30b5\u30f3\u30d7\u30eb\u306b\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\n\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u97f3\u697d\uff1a \"restart-sound\":http://phaser.io/examples/v2/audio/restart-sound\nAudio\u30d5\u30a1\u30a4\u30eb\u306e\u518d\u751f\u3001\u30ea\u30b9\u30bf\u30fc\u30c8\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\u30b5\u30f3\u30d7\u30eb\u306e\u97f3\u697d\u304c\u8efd\u3084\u304b\u3067\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30b2\u30fc\u30e0\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u3057\u305f\u3089\u304a\u3082\u3057\u308d\u305d\u3046\u306a\u306e\u3067\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\n\n1\u56de\u76ee\u306b\"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30b5\u30f3\u30d7\u30eb\":http://phaser.io/examples/v2/games/invaders#download \u306e\u4e2d\u306b\u4e0a\u306eAudio\u30b5\u30f3\u30d7\u30eb\u3082\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001Audio\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\nINVADERS\n\u2502  index.html\n\u2502  invaders.js \n\u2502  manifest.webapp\u3000\n\u2502  phaser.2.2.2.min.js\n\u2502  \n\u2514\u2500assets\n    \u251c\u2500audio\n    \u2502  \u2502  oedipus_wizball_highscore.ogg // \u8ffd\u52a0\u30d5\u30a1\u30a4\u30eb\n    \u2502  \u2502  \n    \u2502  \u2514\u2500SoundEffects\n    \u2502          fx_mixdown.ogg // \u8ffd\u52a0\u30d5\u30a1\u30a4\u30eb\n    \u2502          \n     \u2514\u2500games\n        \u251c\u2500invaders\u3000             \u203b3\n        \u2502      bullet.png\n        \u2502      enemy-bullet.png\n        \u2502      explode.png\n        \u2502      invader32x32x4.png\n        \u2502      player.png\n        \u2502      starfield.png\n        \u2502      \n        \u2514\u2500starstruck\n                background2.png\u3000 \u203b4\n\n\u30b2\u30fc\u30e0\u306b\u97f3\u3092\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\ninvaders.js\u306e\u4fee\u6b63\n\u4fee\u6b63\u3057\u305f\u5185\u5bb9\u306f\u4ee5\u4e0b\u3067\u3059\n* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u97f3\u58f0\u3092\u6d41\u3059\n* \u30b2\u30fc\u30e0\u306b\u52b9\u679c\u97f3\u3092\u4ed8\u3051\u308b\n\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u5f3e\u306e\u767a\u5c04\u97f3\n\u5f3e\u304c\u6575\u306b\u5f53\u305f\u3063\u305f\u3068\u304d\u306e\u97f3\n\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u5f3e\u306b\u5f53\u305f\u3063\u305f\u6642\u306e\u97f3\uff08\u6b8b\u6a5f\u306e\u3042\u308a\u3001\u306a\u3057\u3067\u97f3\u3092\u5206\u3051\u308b\uff09\n\u57fa\u672c\u7684\u306b\u30b5\u30f3\u30d7\u30eb\u901a\u308a\u306b\u4f5c\u3063\u3066\u52d5\u304d\u307e\u3057\u305f\u304c\u3001Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u30b2\u30fc\u30e0\u3092\u958b\u59cb\u3057\u3066\u304b\u3089\u97f3\u304c\u9cf4\u308b\u307e\u3067\uff13\u79d2\u307b\u3069\u304b\u304b\u308b\u554f\u984c\u304c\u51fa\u307e\u3057\u305f\u3002\n\u5bfe\u5fdc\u3068\u3057\u3066\u30c7\u30b3\u30fc\u30c9\u306e\u9593\u306f\u300cLoading...\u300d\u3092\u8868\u793a\u3057\u3066\u30c7\u30b3\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u30b2\u30fc\u30e0\u3092\u958b\u59cb\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\uff08\"\u53c2\u8003\u30da\u30fc\u30b8\":http://www.html5gamedevs.com/topic/1453-audio-delay/\uff09\n\n@@ -10,6 +10,8 @@ function preload() {\n     game.load.spritesheet('kaboom', 'assets/games/invaders/explode.png', 128, 128);\n     game.load.image('starfield', 'assets/games/invaders/starfield.png');\n     game.load.image('background', 'assets/games/starstruck/background2.png');\n+    // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u7528Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30ed\u30fc\u30c9\n+    game.load.audio('bMusic', ['assets/audio/oedipus_wizball_highscore.ogg']);\n+    // \u52b9\u679c\u97f3\u7528Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30ed\u30fc\u30c9\n+    game.load.audio('sfx', ['assets/audio/SoundEffects/fx_mixdown.ogg']);\n \n }\n \n@@ -29,11 +31,29 @@ var enemyBullet;\n var firingTimer = 0;\n var stateText;\n var livingEnemies = [];\n+var bMusic;\n+var sfx;\n+var isMovedAliens = false;\n \n function create() {\n \n     game.physics.startSystem(Phaser.Physics.ARCADE);\n\n+    // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u7528\u306eAudio\u30d5\u30a1\u30a4\u30eb\u306e\u518d\u751f. bMusic.play\u306e\u7b2c4\u5f15\u6570\u3092true\u306b\u3059\u308b\u3053\u3068\u3067Repeat\u518d\u751f \n+    bMusic = game.add.audio('bMusic');\n+    bMusic.play('', 0, 1, true);\n\n\n+    // \u52b9\u679c\u97f3\u7528Audio\u30d5\u30a1\u30a4\u30eb\u306e\u5404\u30a8\u30d5\u30a7\u30af\u30c8\u304c\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u30de\u30fc\u30af\u3092\u4ed8\u3051\u308b\n+    sfx = game.add.audio('sfx');\n+    sfx.allowMultiple = true;\n+    sfx.addMarker('alien death', 1, 1.0);\n+    sfx.addMarker('boss hit', 3, 0.5);\n+    sfx.addMarker('escape', 4, 3.2);\n+    sfx.addMarker('meow', 8, 0.5);\n+    sfx.addMarker('numkey', 9, 0.1);\n+    sfx.addMarker('ping', 10, 1.0);\n+    sfx.addMarker('death', 12, 4.2);\n+    sfx.addMarker('shot', 17, 1.0);\n+    sfx.addMarker('squit', 19, 0.3);\n+\n     //  The scrolling starfield background\n     starfield = game.add.tileSprite(0, 0, game.world.width, game.world.height, 'starfield');\n \n@@ -68,6 +88,7 @@ function create() {\n     aliens.physicsBodyType = Phaser.Physics.ARCADE;\n \n     createAliens();\n+    // Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u7d42\u308f\u308b\u307e\u3067\u306f\u30a8\u30a4\u30ea\u30a2\u30f3\u306f\u8868\u793a\u3057\u306a\u3044\n+    aliens.visible = false;\n \n     //  The score\n     scoreString = 'Score : ';\n@@ -82,6 +103,9 @@ function create() {\n     stateText.anchor.setTo(0.5, 0.5);\n     stateText.visible = false;\n \n+    // Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u7d42\u308f\u308b\u307e\u3067\u306fLoading...\u3092\u8868\u793a\u3059\u308b\n+    stateText.text = \" Loading...\";\n+    stateText.visible = true;\n+\n     for (var i = 0; i < 3; i++) \n     {\n         var ship = lives.create(game.world.width - 100 + (30 * i), 60, 'ship');\n@@ -95,7 +119,20 @@ function create() {\n     explosions.createMultiple(30, 'kaboom');\n     explosions.forEach(setupInvader, this);\n \n-    \n+}\n+\n+// Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u7d42\u308f\u3063\u305f\u5f8c\u306b\u30a8\u30a4\u30ea\u30a2\u30f3\u3092\u52d5\u304b\u3059\u305f\u3081\u306e\u95a2\u6570\n+function moveAliens() {\n+    if(!isMovedAliens)\n+    {\n+        //  All this does is basically start the invaders moving. Notice we're moving the Group they belong to, rather than the invaders directly.\n+        var tween = game.add.tween(aliens).to( { x: 200 }, 2000, Phaser.Easing.Linear.None, true, 0, 1000, true);\n+\n+        //  When the tween loops it calls descend\n+        tween.onLoop.add(descend, this);\n+        stateText.visible = false;\n+        aliens.visible = true;\n+        isMovedAliens = true;\n+    }\n }\n \n function createAliens () {\n@@ -115,11 +152,7 @@ function createAliens () {\n     aliens.x = game.world.centerX - (aliens.width / 2) - 200;\n     aliens.y = 80;\n \n-    //  All this does is basically start the invaders moving. Notice we're moving the Group they belong to, rather than the invaders directly.\n-    var tween = game.add.tween(aliens).to( { x: 200 }, 2000, Phaser.Easing.Linear.None, true, 0, 1000, true);\n \n-    //  When the tween loops it calls descend\n-    tween.onLoop.add(descend, this);\n }\n \n function setupInvader (invader) {\n@@ -138,6 +171,13 @@ function descend() {\n \n function update() {\n\n+    // Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u306f\u30b2\u30fc\u30e0\u753b\u9762\u3092\u66f4\u65b0\u3057\u306a\u3044\n+    if (!game.cache.isSoundDecoded('bMusic') || !game.cache.isSoundDecoded('sfx'))\n+    {\n+      return;\n+    }\n+\n+    moveAliens();\n+\n     //  Scroll the background\n     starfield.tilePosition.y += 2;\n \n@@ -189,6 +229,7 @@ function collisionHandler (bullet, alien) {\n     //  When a bullet hits an alien we kill them both\n     bullet.kill();\n     alien.kill();\n+    // \u30a8\u30a4\u30ea\u30a2\u30f3\u306b\u5f3e\u304c\u3042\u305f\u3063\u305f\u3068\u304d\u306b\u52b9\u679c\u97f3\u3092\u9cf4\u3089\u3059\n+    sfx.play('shot');\n \n     //  Increase the score\n     score += 20;\n@@ -230,6 +271,15 @@ function enemyHitsPlayer (player,bullet) {\n     explosion.reset(player.body.x, player.body.y);\n     explosion.play('kaboom', 30, false, true);\n \n+    // \u30d7\u30ec\u30a4\u30e4\u30fc\u306b\u5f3e\u304c\u3042\u305f\u3063\u305f\u3068\u304d\u306b\u52b9\u679c\u97f3\u3092\u9cf4\u3089\u3059\n+    if (lives.countLiving() < 1)\n+    {\n+        // \u6b8b\u6a5f0\u306e\u3068\u304d\u306e\u97f3\n+        sfx.play('death');\n+    }\n+    else\n+    {\n+        // \u6b8b\u6a5f\u304c\u6b8b\u3063\u3066\u3044\u308b\u3068\u304d\u306e\u97f3\n+        sfx.play('meow');\n+    }\n+\n     // When the player dies\n     if (lives.countLiving() < 1)\n     {\n@@ -289,6 +339,7 @@ function fireBullet () {\n             bullet.reset(player.x, player.y + 8);\n             bullet.body.velocity.y = -400;\n             bulletTime = game.time.now + 200;\n+            // \u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u5f3e\u3092\u767a\u5c04\u3057\u305f\u3068\u304d\u306b\u97f3\u3092\u9cf4\u3089\u3059\n+            sfx.play('squit');\n         }\n     }\n\nPHASER\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u305f \uff08\u305d\u306e\uff11\uff09\nPHASER\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u305f \uff08\u305d\u306e\uff12\uff09\nPHASER\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u305f \uff08\u305d\u306e\uff13\uff09\n\uff081\uff09enchant.js\u3092\u4f7f\u3063\u3066\u307f\u308b\n# Firefox OS\u3067\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\uff01\uff5e PHASER\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u305f \uff08\u305d\u306e\uff14\uff09\uff5e\n\n[\u524d\u56de](http://qiita.com/onaona/items/a3f528bc942b6bfb3514)\u3067\u30b2\u30fc\u30e0\u306e\u64cd\u4f5c\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\n![invaders-fourth.gif](https://qiita-image-store.s3.amazonaws.com/0/70507/c9022936-8085-cd1c-cb9d-f50e701480fb.gif)\n\n\u4eca\u56de\u306f\u30b2\u30fc\u30e0\u306e\u52b9\u679c\u97f3\u3068\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u97f3\u697d\u3092\u6d41\u3059\u3053\u3068\u3092\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n[PHASER](https://phaser.io/)\u306f\"Audio\u30b5\u30f3\u30d7\u30eb\":http://phaser.io/examples/v2/category/audio \u3082\u591a\u304f\u3042\u308b\u306e\u3067\u4ee5\u4e0b\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\n\n* \u30b2\u30fc\u30e0\u306e\u52b9\u679c\u97f3\uff1a\u3000\"audio-sprite\":http://phaser.io/examples/v2/audio/audio-sprite\n\uff11\u3064\u306eAudio\u30d5\u30a1\u30a4\u30eb\u306b\u8907\u6570\u306e\u52b9\u679c\u97f3\u3092\u542b\u3081\u308b\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\u30b2\u30fc\u30e0\u306e\u52b9\u679c\u97f3\u3092\u30b5\u30f3\u30d7\u30eb\u306b\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\n\n* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306e\u97f3\u697d\uff1a \"restart-sound\":http://phaser.io/examples/v2/audio/restart-sound\nAudio\u30d5\u30a1\u30a4\u30eb\u306e\u518d\u751f\u3001\u30ea\u30b9\u30bf\u30fc\u30c8\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002\u30b5\u30f3\u30d7\u30eb\u306e\u97f3\u697d\u304c\u8efd\u3084\u304b\u3067\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30b2\u30fc\u30e0\u306e\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u306b\u3057\u305f\u3089\u304a\u3082\u3057\u308d\u305d\u3046\u306a\u306e\u3067\u53c2\u8003\u306b\u3057\u307e\u3059\u3002\n\n1\u56de\u76ee\u306b\"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30b5\u30f3\u30d7\u30eb\":http://phaser.io/examples/v2/games/invaders#download \u306e\u4e2d\u306b\u4e0a\u306eAudio\u30b5\u30f3\u30d7\u30eb\u3082\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001Audio\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30d4\u30fc\u3057\u307e\u3059\u3002\n\n<pre>\nINVADERS\n\u2502  index.html\n\u2502  invaders.js \n\u2502  manifest.webapp\u3000\n\u2502  phaser.2.2.2.min.js\n\u2502  \n\u2514\u2500assets\n    \u251c\u2500audio\n    \u2502  \u2502  oedipus_wizball_highscore.ogg // \u8ffd\u52a0\u30d5\u30a1\u30a4\u30eb\n    \u2502  \u2502  \n    \u2502  \u2514\u2500SoundEffects\n    \u2502          fx_mixdown.ogg // \u8ffd\u52a0\u30d5\u30a1\u30a4\u30eb\n    \u2502          \n     \u2514\u2500games\n        \u251c\u2500invaders\u3000             \u203b3\n        \u2502      bullet.png\n        \u2502      enemy-bullet.png\n        \u2502      explode.png\n        \u2502      invader32x32x4.png\n        \u2502      player.png\n        \u2502      starfield.png\n        \u2502      \n        \u2514\u2500starstruck\n                background2.png\u3000 \u203b4\n</pre>\n\n\n\u30b2\u30fc\u30e0\u306b\u97f3\u3092\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n**invaders.js\u306e\u4fee\u6b63**\n\u4fee\u6b63\u3057\u305f\u5185\u5bb9\u306f\u4ee5\u4e0b\u3067\u3059\n* \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u97f3\u58f0\u3092\u6d41\u3059\n* \u30b2\u30fc\u30e0\u306b\u52b9\u679c\u97f3\u3092\u4ed8\u3051\u308b\n\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u5f3e\u306e\u767a\u5c04\u97f3\n\u5f3e\u304c\u6575\u306b\u5f53\u305f\u3063\u305f\u3068\u304d\u306e\u97f3\n\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u5f3e\u306b\u5f53\u305f\u3063\u305f\u6642\u306e\u97f3\uff08\u6b8b\u6a5f\u306e\u3042\u308a\u3001\u306a\u3057\u3067\u97f3\u3092\u5206\u3051\u308b\uff09\n\n\u57fa\u672c\u7684\u306b\u30b5\u30f3\u30d7\u30eb\u901a\u308a\u306b\u4f5c\u3063\u3066\u52d5\u304d\u307e\u3057\u305f\u304c\u3001Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u306b\u6642\u9593\u304c\u304b\u304b\u308a\u30b2\u30fc\u30e0\u3092\u958b\u59cb\u3057\u3066\u304b\u3089\u97f3\u304c\u9cf4\u308b\u307e\u3067\uff13\u79d2\u307b\u3069\u304b\u304b\u308b\u554f\u984c\u304c\u51fa\u307e\u3057\u305f\u3002\n\u5bfe\u5fdc\u3068\u3057\u3066\u30c7\u30b3\u30fc\u30c9\u306e\u9593\u306f\u300cLoading...\u300d\u3092\u8868\u793a\u3057\u3066\u30c7\u30b3\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u305f\u3089\u30b2\u30fc\u30e0\u3092\u958b\u59cb\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\uff08\"\u53c2\u8003\u30da\u30fc\u30b8\":http://www.html5gamedevs.com/topic/1453-audio-delay/\uff09\n\n\n<pre><code class=\"diff\">\n@@ -10,6 +10,8 @@ function preload() {\n     game.load.spritesheet('kaboom', 'assets/games/invaders/explode.png', 128, 128);\n     game.load.image('starfield', 'assets/games/invaders/starfield.png');\n     game.load.image('background', 'assets/games/starstruck/background2.png');\n+    // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u7528Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30ed\u30fc\u30c9\n+    game.load.audio('bMusic', ['assets/audio/oedipus_wizball_highscore.ogg']);\n+    // \u52b9\u679c\u97f3\u7528Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30ed\u30fc\u30c9\n+    game.load.audio('sfx', ['assets/audio/SoundEffects/fx_mixdown.ogg']);\n \n }\n \n@@ -29,11 +31,29 @@ var enemyBullet;\n var firingTimer = 0;\n var stateText;\n var livingEnemies = [];\n+var bMusic;\n+var sfx;\n+var isMovedAliens = false;\n \n function create() {\n \n     game.physics.startSystem(Phaser.Physics.ARCADE);\n\n+    // \u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u7528\u306eAudio\u30d5\u30a1\u30a4\u30eb\u306e\u518d\u751f. bMusic.play\u306e\u7b2c4\u5f15\u6570\u3092true\u306b\u3059\u308b\u3053\u3068\u3067Repeat\u518d\u751f \n+    bMusic = game.add.audio('bMusic');\n+    bMusic.play('', 0, 1, true);\n\n\n+    // \u52b9\u679c\u97f3\u7528Audio\u30d5\u30a1\u30a4\u30eb\u306e\u5404\u30a8\u30d5\u30a7\u30af\u30c8\u304c\u53c2\u7167\u3067\u304d\u308b\u3088\u3046\u306b\u30de\u30fc\u30af\u3092\u4ed8\u3051\u308b\n+    sfx = game.add.audio('sfx');\n+    sfx.allowMultiple = true;\n+    sfx.addMarker('alien death', 1, 1.0);\n+    sfx.addMarker('boss hit', 3, 0.5);\n+    sfx.addMarker('escape', 4, 3.2);\n+    sfx.addMarker('meow', 8, 0.5);\n+    sfx.addMarker('numkey', 9, 0.1);\n+    sfx.addMarker('ping', 10, 1.0);\n+    sfx.addMarker('death', 12, 4.2);\n+    sfx.addMarker('shot', 17, 1.0);\n+    sfx.addMarker('squit', 19, 0.3);\n+\n     //  The scrolling starfield background\n     starfield = game.add.tileSprite(0, 0, game.world.width, game.world.height, 'starfield');\n \n@@ -68,6 +88,7 @@ function create() {\n     aliens.physicsBodyType = Phaser.Physics.ARCADE;\n \n     createAliens();\n+    // Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u7d42\u308f\u308b\u307e\u3067\u306f\u30a8\u30a4\u30ea\u30a2\u30f3\u306f\u8868\u793a\u3057\u306a\u3044\n+    aliens.visible = false;\n \n     //  The score\n     scoreString = 'Score : ';\n@@ -82,6 +103,9 @@ function create() {\n     stateText.anchor.setTo(0.5, 0.5);\n     stateText.visible = false;\n \n+    // Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u7d42\u308f\u308b\u307e\u3067\u306fLoading...\u3092\u8868\u793a\u3059\u308b\n+    stateText.text = \" Loading...\";\n+    stateText.visible = true;\n+\n     for (var i = 0; i < 3; i++) \n     {\n         var ship = lives.create(game.world.width - 100 + (30 * i), 60, 'ship');\n@@ -95,7 +119,20 @@ function create() {\n     explosions.createMultiple(30, 'kaboom');\n     explosions.forEach(setupInvader, this);\n \n-    \n+}\n+\n+// Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u7d42\u308f\u3063\u305f\u5f8c\u306b\u30a8\u30a4\u30ea\u30a2\u30f3\u3092\u52d5\u304b\u3059\u305f\u3081\u306e\u95a2\u6570\n+function moveAliens() {\n+    if(!isMovedAliens)\n+    {\n+        //  All this does is basically start the invaders moving. Notice we're moving the Group they belong to, rather than the invaders directly.\n+        var tween = game.add.tween(aliens).to( { x: 200 }, 2000, Phaser.Easing.Linear.None, true, 0, 1000, true);\n+\n+        //  When the tween loops it calls descend\n+        tween.onLoop.add(descend, this);\n+        stateText.visible = false;\n+        aliens.visible = true;\n+        isMovedAliens = true;\n+    }\n }\n \n function createAliens () {\n@@ -115,11 +152,7 @@ function createAliens () {\n     aliens.x = game.world.centerX - (aliens.width / 2) - 200;\n     aliens.y = 80;\n \n-    //  All this does is basically start the invaders moving. Notice we're moving the Group they belong to, rather than the invaders directly.\n-    var tween = game.add.tween(aliens).to( { x: 200 }, 2000, Phaser.Easing.Linear.None, true, 0, 1000, true);\n \n-    //  When the tween loops it calls descend\n-    tween.onLoop.add(descend, this);\n }\n \n function setupInvader (invader) {\n@@ -138,6 +171,13 @@ function descend() {\n \n function update() {\n\n+    // Audio\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u5b8c\u4e86\u3059\u308b\u307e\u3067\u306f\u30b2\u30fc\u30e0\u753b\u9762\u3092\u66f4\u65b0\u3057\u306a\u3044\n+    if (!game.cache.isSoundDecoded('bMusic') || !game.cache.isSoundDecoded('sfx'))\n+    {\n+      return;\n+    }\n+\n+    moveAliens();\n+\n     //  Scroll the background\n     starfield.tilePosition.y += 2;\n \n@@ -189,6 +229,7 @@ function collisionHandler (bullet, alien) {\n     //  When a bullet hits an alien we kill them both\n     bullet.kill();\n     alien.kill();\n+    // \u30a8\u30a4\u30ea\u30a2\u30f3\u306b\u5f3e\u304c\u3042\u305f\u3063\u305f\u3068\u304d\u306b\u52b9\u679c\u97f3\u3092\u9cf4\u3089\u3059\n+    sfx.play('shot');\n \n     //  Increase the score\n     score += 20;\n@@ -230,6 +271,15 @@ function enemyHitsPlayer (player,bullet) {\n     explosion.reset(player.body.x, player.body.y);\n     explosion.play('kaboom', 30, false, true);\n \n+    // \u30d7\u30ec\u30a4\u30e4\u30fc\u306b\u5f3e\u304c\u3042\u305f\u3063\u305f\u3068\u304d\u306b\u52b9\u679c\u97f3\u3092\u9cf4\u3089\u3059\n+    if (lives.countLiving() < 1)\n+    {\n+        // \u6b8b\u6a5f0\u306e\u3068\u304d\u306e\u97f3\n+        sfx.play('death');\n+    }\n+    else\n+    {\n+        // \u6b8b\u6a5f\u304c\u6b8b\u3063\u3066\u3044\u308b\u3068\u304d\u306e\u97f3\n+        sfx.play('meow');\n+    }\n+\n     // When the player dies\n     if (lives.countLiving() < 1)\n     {\n@@ -289,6 +339,7 @@ function fireBullet () {\n             bullet.reset(player.x, player.y + 8);\n             bullet.body.velocity.y = -400;\n             bulletTime = game.time.now + 200;\n+            // \u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u5f3e\u3092\u767a\u5c04\u3057\u305f\u3068\u304d\u306b\u97f3\u3092\u9cf4\u3089\u3059\n+            sfx.play('squit');\n         }\n     }\n</code></pre>\n\n\n\n[PHASER\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u305f \uff08\u305d\u306e\uff11\uff09](http://qiita.com/onaona/items/ef113de5e1efdef74c93)\n[PHASER\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u305f \uff08\u305d\u306e\uff12\uff09](http://qiita.com/onaona/items/9aaeb93f17869e02725f)\n[PHASER\u3092\u4f7f\u3063\u3066\u30b2\u30fc\u30e0\u30a2\u30d7\u30ea\u3092\u52d5\u304b\u3057\u3066\u307f\u305f \uff08\u305d\u306e\uff13\uff09](http://qiita.com/onaona/items/a3f528bc942b6bfb3514)\n\n\n\n[\uff081\uff09enchant.js\u3092\u4f7f\u3063\u3066\u307f\u308b](http://qiita.com/onaona/items/6f30f5239ebd61391fe2)\n\n", "tags": ["HTML", "JavaScript", "firefox", "FirefoxOS", "Phaser"]}