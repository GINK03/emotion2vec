{"context": " More than 1 year has passed since last update.React\u3092ClojureScript\u3067\u66f8\u304f\u305f\u3081\u3001Reagent\u306e\u52c9\u5f37\u3092\u307e\u305a\u306fratom\u3092\u4f7f\u308f\u306a\u3044\u7c21\u5358\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u308b\u3068\u3053\u308d\u304b\u3089\u306f\u3058\u3081\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002ClojureScript\u3068Figwheel\u306e\u30b7\u30f3\u30d7\u30eb\u306a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306ereagent-figwheel\u3092\u4f7f\u3063\u305f\u30b5\u30f3\u30d7\u30eb\u3092\u63a2\u3057\u3066\u3044\u308b\u3068\u3001Static Mock Using Reagent\u306e\u3088\u3044\u4f8b\u304c\u898b\u3064\u304b\u308a\u307e\u3057\u305f\u3002\u53c2\u8003\u306b\u306a\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8aad\u307f\u306a\u304c\u3089\u5b9f\u969b\u306b\u624b\u3092\u52d5\u304b\u3057\u306a\u304c\u3089\u52c9\u5f37\u3057\u3066\u3044\u304f\u306e\u304c\u4e00\u756a\u3088\u3044\u3067\u3059\u3002\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\nClojure\u306e\u958b\u767a\u306fDocker\u3068Docker Compose\u3092\u4f7f\u3063\u3066\u884c\u3044\u307e\u3059\u3002\n$ cd ~/clojure_apps\n$ tree -L 1\n.\n\u251c\u2500\u2500 Dockerfile\n\u2514\u2500\u2500 docker-compose.yml\n\n\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u306eClojure\u306e\u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n~/clojure_apps/Dockerfile\nFROM clojure\nMAINTAINER Masato Shimizu <ma6ato@gmail.com>\n\nWORKDIR /usr/src/app\n\nRUN apt-get update && apt-get install sudo net-tools && \\\n  rm -rf /var/lib/apt/lists/*\n\nRUN adduser --disabled-password --gecos '' --uid 1000 docker && \\\n  adduser docker sudo && \\\n  echo 'docker ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers && \\\n  mkdir /home/docker/.m2 && \\\n  chown -R docker:docker /usr/src/app /home/docker/.m2\n\nVOLUME /home/docker/.m2\nUSER docker\nRUN lein\n\nENTRYPOINT [\"lein\"]\n\n\n\u30ed\u30fc\u30ab\u30eb\u306bClojure\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\n$ docker-compose build\n\n\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u305f\u3081\u3001docker-compose.yml\u306flein new\u3059\u308b\u524d\u306fworking_dir\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n~/clojure_apps/docker-compose\nlein: &defaults\n  image: clojure\n  volumes:\n    - .:/usr/src/app\n    - ./m2:/home/docker/.m2\n#  working_dir: /usr/src/app/my-checklist\n  ports:\n    - \"3449:3449\"\n    - \"10555:10555\"\n\n\nLeiningen\u3067reagent-figwheel\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u3063\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n$ docker-compose run --rm --service-ports lein new reagent-figwheel my-checklist\n\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n$ tree -L 3\n.\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 dev\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 user.clj\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 user.cljs\n\u251c\u2500\u2500 project.clj\n\u251c\u2500\u2500 resources\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.html\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 my_checklist\n        \u2514\u2500\u2500 core.cljs\n\ndocker-compose.yml\u306eworking_dir\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n~/clojure_apps/docker-compose\nlein: &defaults\n  image: clojure\n  volumes:\n    - .:/usr/src/app\n    - ./m2:/home/docker/.m2\n  working_dir: /usr/src/app/my-checklist\n  ports:\n    - \"3449:3449\"\n    - \"10555:10555\"\n\n\n\n\u958b\u767a\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\n\u958b\u767a\u7528\u306eDocker\u30db\u30b9\u30c8\u306f\u30af\u30e9\u30a6\u30c9\u4e0a\u306b\u3042\u308b\u305f\u3081\u3001Figwheel\u306f\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n~/clojure_apps/my-checklist/dev/user.cljs\n(ns cljs.user\n  (:require [my-checklist.core :as core]\n            [figwheel.client :as figwheel :include-macros true]))\n\n(enable-console-print!)\n\n(figwheel/watch-and-reload\n  :websocket-url \"ws://210.xxx.xxx.xxx:3449/figwheel-ws\"\n  :jsload-callback (fn [] (core/main)))\n\n(core/main)\n\n\nREPL\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n$ docker-compose run --rm --service-ports lein repl\nnREPL server started on port 51843 on host 127.0.0.1 - nrepl://127.0.0.1:51843\nREPL-y 0.3.5, nREPL 0.2.6\nClojure 1.6.0\nOpenJDK 64-Bit Server VM 1.7.0_79-b14\n    Docs: (doc function-name-here)\n          (find-doc \"part-of-name-here\")\n  Source: (source function-name-here)\n Javadoc: (javadoc java-object-or-class-here)\n    Exit: Control+D or (exit) or (quit)\n Results: Stored in vars *1, *2, *3, an exception in *e\n\nuser=>\n\nREPL\u3067(run)\u3092\u5b9f\u884c\u3057\u3066\u30a2\u30d7\u30ea\u306e\u8d77\u52d5\nuser=> (run)\n2015-05-21 14:56:17.542:INFO:oejs.Server:jetty-7.6.13.v20130916\n2015-05-21 14:56:17.582:INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:10555\nStarting web server on port 10555 .\n#<Server org.eclipse.jetty.server.Server@7ef1accd>\nuser=>\n\n\u6b21\u306b(start-figwheel)\u3092\u5b9f\u884c\u3057\u3066Figwheel\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\nuser=> (start-figwheel)\nStarting figwheel.\n#<core$future_call$reify__6320@17e02401: :pending>\nuser=> Figwheel: focusing on build-id 'app'\nCompiling ClojureScript.\nFigwheel: Starting server at http://localhost:3449\nFigwheel: Serving files from '(dev-resources|resources)/public'\nCompiling \"resources/public/js/app.js\" from [\"src\" \"dev\"]...\nSuccessfully compiled \"resources/public/js/app.js\" in 23.719 seconds.\nnotifying browser that file changed:  /js/app.js\nnotifying browser that file changed:  /js/out/goog/deps.js\nnotifying browser that file changed:  /js/out/my_checklist/core.js\nnotifying browser that file changed:  /js/out/cljs/user.js\nFigwheel: client disconnected  :normal\n\nChrome\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u304dDocker\u30db\u30b9\u30c8\u306e\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\nhttp://210.xxx.xxx.xxx:10555/\n\u753b\u9762\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30e1\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\nHello, what is your name? FIXME\n\nChrome\u30d6\u30e9\u30a6\u30b6\u306e\u30c7\u30d9\u30ed\u30c3\u30d1\u30fc\u30c4\u30fc\u30eb\u3092\u958b\u304f\u3068Figwheel\u306e\u8d77\u52d5\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\nFigwheel: trying to open cljs reload socket\nutils.cljs:31 Figwheel: socket connection established\n\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f5c\u6210\n\u4eca\u56de\u306e\u30e1\u30a4\u30f3\u30c6\u30fc\u30de\u3067\u3042\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002project.clj\u306edependencies\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u78ba\u8a8d\u3059\u308b\u3068\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u6570\u306f\u5c11\u306a\u304f\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210\u306a\u306e\u3067\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\n~/clojure_apps/my-checklist/project.clj\n(defproject my-checklist \"0.1.0-SNAPSHOT\"\n  :description \"FIXME: write description\"\n  :url \"http://example.com/FIXME\"\n  :license {:name \"Eclipse Public License\"\n            :url \"http://www.eclipse.org/legal/epl-v10.html\"}\n\n  :source-paths [\"src\" \"dev\"]\n\n  :dependencies [[org.clojure/clojure \"1.6.0\"]\n                 [org.clojure/clojurescript \"0.0-3058\" :scope \"provided\"]\n                 [org.clojure/core.async \"0.1.346.0-17112a-alpha\"]\n                 [ring \"1.3.1\"]\n                 [compojure \"1.2.0\"]\n                 [figwheel \"0.2.5\"]\n                 [environ \"1.0.0\"]\n                 [leiningen \"2.5.0\"]\n                 [reagent \"0.5.0\"]]\n\n  :min-lein-version \"2.5.0\"\n\n  :plugins [[lein-cljsbuild \"1.0.4\"]\n            [lein-environ \"1.0.0\"]\n            [lein-figwheel \"0.2.0-SNAPSHOT\"]]\n\n  :figwheel {:http-server-root \"public\"\n             :port 3449}\n\n  :cljsbuild {:builds {:app {:source-paths [\"src\" \"dev\"]\n                             :compiler {:output-to \"resources/public/js/app.js\"\n                                        :output-dir \"resources/public/js/out\"\n                                        :source-map    \"resources/public/js/out.js.map\"\n                                        :optimizations :none}}}}\n  )\n\n\ncore.cljs\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\u30d5\u30a9\u30fc\u30e0\u3068\u30ea\u30b9\u30c8\u306e\u7c21\u5358\u306a\u69cb\u6210\u3067\u3059\u3002Static Mock Using Reagent\u3092\u53c2\u8003\u306b\u3057\u306a\u304c\u3089li\u306e\u30ea\u30b9\u30c8\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u5171\u901a\u95a2\u6570\u3092\u7528\u610f\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n~/clojure_apps/my-checklist/src/my_checklist/core.cljs\n(ns my-checklist.core\n  (:require [reagent.core :as reagent :refer [atom]]))\n\n(defn checklist-title []\n  [:h1 \"\u671d\u306b\u3084\u308b\u3053\u3068\"])\n\n(defn checkbox-input [item]\n  [:li\n   [:input {:type \"checkbox\"} (:label item)]])\n\n(defn checklist-items []\n  (let [items [{:label \"\u6c34\u3092\u5165\u308c\u308b\"}\n               {:label \"\u30ad\u30e5\u30fc\u30ea\u30b0\u3092\u30bb\u30c3\u30c8\"}\n               {:label \"\u30b3\u30fc\u30d2\u30fc\u3092\u5165\u308c\u308b\"}]]\n    [:ul\n     (for [item items]\n       [checkbox-input item])]))\n\n(defn add-form []\n  [:form\n   [:p\n    [:input {:text \"text\" :name \"task\"}]]\n   [checklist-items]])\n\n(defn reset-button []\n  [:button {:type \"button\"} \"\u30ea\u30bb\u30c3\u30c8\u3059\u308b\"])\n\n(defn full-checklist []\n  [:div\n   [checklist-title]\n   [add-form]\n   [reset-button]])\n\n(defn page []\n  [:div\n   [full-checklist]])\n\n(defn main []\n  (reagent/render-component [page] (.getElementById js/document \"app\")))\n\n\n\u9759\u7684\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306a\u306e\u3067\u30ea\u30bb\u30c3\u30c8\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3082\u4f55\u3082\u52d5\u304d\u307e\u305b\u3093\u3002\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3082rtom\u3092\u4f7f\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u72b6\u614b\u3067\u3059\u3002\u3068\u308a\u3042\u3048\u305aHTML\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3068\u3053\u308d\u307e\u3067\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\n\n\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u30c7\u30fc\u30bf\u3068\u3057\u3066\u6271\u3046\nBUILDING SINGLE PAGE APPS WITH REAGENT\u306b\u3088\u3044\u4f8b\u304c\u3042\u308a\u307e\u3059\u3002text-input\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306brow\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30cd\u30b9\u30c8\u3059\u308b\u4f8b\u3067\u3059\u3002row\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u95a2\u6570\u3068\u3057\u3066\u76f4\u63a5\u5b9f\u884c\u305b\u305a\u30c7\u30fc\u30bf\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u3068Reagent\u304c\u5fc5\u8981\u306a\u3068\u304d\u306b\u8a55\u4fa1\u3057\u3066\u5b9f\u884c\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n(defn row [label & body]\n  [:div.row\n   [:div.col-md-2 [:span label]]\n   [:div.col-md-3 body]])\n\n(defn text-input [label]\n  [row label [:input {:type \"text\" :class \"form-control\"}]])\n\nReact\u3092ClojureScript\u3067\u66f8\u304f\u305f\u3081\u3001Reagent\u306e\u52c9\u5f37\u3092\u307e\u305a\u306fratom\u3092\u4f7f\u308f\u306a\u3044\u7c21\u5358\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u308b\u3068\u3053\u308d\u304b\u3089\u306f\u3058\u3081\u3088\u3046\u3068\u601d\u3044\u307e\u3059\u3002ClojureScript\u3068Figwheel\u306e\u30b7\u30f3\u30d7\u30eb\u306a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e[reagent-figwheel](https://github.com/gadfly361/reagent-figwheel)\u3092\u4f7f\u3063\u305f\u30b5\u30f3\u30d7\u30eb\u3092\u63a2\u3057\u3066\u3044\u308b\u3068\u3001[Static Mock Using Reagent](http://www.okaythree.com/articles/2015/04/21/static-mock-using-reagent/)\u306e\u3088\u3044\u4f8b\u304c\u898b\u3064\u304b\u308a\u307e\u3057\u305f\u3002\u53c2\u8003\u306b\u306a\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8aad\u307f\u306a\u304c\u3089\u5b9f\u969b\u306b\u624b\u3092\u52d5\u304b\u3057\u306a\u304c\u3089\u52c9\u5f37\u3057\u3066\u3044\u304f\u306e\u304c\u4e00\u756a\u3088\u3044\u3067\u3059\u3002\n\n\n## \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\n\nClojure\u306e\u958b\u767a\u306fDocker\u3068Docker Compose\u3092\u4f7f\u3063\u3066\u884c\u3044\u307e\u3059\u3002\n\n``` bash\n$ cd ~/clojure_apps\n$ tree -L 1\n.\n\u251c\u2500\u2500 Dockerfile\n\u2514\u2500\u2500 docker-compose.yml\n```\n\n\u30aa\u30d5\u30a3\u30b7\u30e3\u30eb\u306eClojure\u306e[\u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8](https://registry.hub.docker.com/_/clojure/)\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```bash:~/clojure_apps/Dockerfile\nFROM clojure\nMAINTAINER Masato Shimizu <ma6ato@gmail.com>\n\nWORKDIR /usr/src/app\n\nRUN apt-get update && apt-get install sudo net-tools && \\\n  rm -rf /var/lib/apt/lists/*\n\nRUN adduser --disabled-password --gecos '' --uid 1000 docker && \\\n  adduser docker sudo && \\\n  echo 'docker ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers && \\\n  mkdir /home/docker/.m2 && \\\n  chown -R docker:docker /usr/src/app /home/docker/.m2\n\nVOLUME /home/docker/.m2\nUSER docker\nRUN lein\n\nENTRYPOINT [\"lein\"]\n```\n\n\u30ed\u30fc\u30ab\u30eb\u306bClojure\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u307e\u3059\u3002\n\n```bash\n$ docker-compose build\n```\n\n\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u305f\u3081\u3001docker-compose.yml\u306f`lein new`\u3059\u308b\u524d\u306f`working_dir`\u3092\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```yaml:~/clojure_apps/docker-compose\nlein: &defaults\n  image: clojure\n  volumes:\n    - .:/usr/src/app\n    - ./m2:/home/docker/.m2\n#  working_dir: /usr/src/app/my-checklist\n  ports:\n    - \"3449:3449\"\n    - \"10555:10555\"\n```\n\nLeiningen\u3067[reagent-figwheel](https://github.com/gadfly361/reagent-figwheel)\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u4f7f\u3063\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n``` bash\n$ docker-compose run --rm --service-ports lein new reagent-figwheel my-checklist\n```\n\n\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\n``` bash\n$ tree -L 3\n.\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 dev\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 user.clj\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 user.cljs\n\u251c\u2500\u2500 project.clj\n\u251c\u2500\u2500 resources\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.html\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 my_checklist\n        \u2514\u2500\u2500 core.cljs\n```\n\ndocker-compose.yml\u306e`working_dir`\u3092\u30a2\u30f3\u30b3\u30e1\u30f3\u30c8\u3057\u307e\u3059\u3002\n\n```yaml:~/clojure_apps/docker-compose\nlein: &defaults\n  image: clojure\n  volumes:\n    - .:/usr/src/app\n    - ./m2:/home/docker/.m2\n  working_dir: /usr/src/app/my-checklist\n  ports:\n    - \"3449:3449\"\n    - \"10555:10555\"\n```\n\n## \u958b\u767a\u30b5\u30fc\u30d0\u30fc\u306e\u8d77\u52d5\n\n\u958b\u767a\u7528\u306eDocker\u30db\u30b9\u30c8\u306f\u30af\u30e9\u30a6\u30c9\u4e0a\u306b\u3042\u308b\u305f\u3081\u3001[Figwheel](https://github.com/bhauman/lein-figwheel)\u306f\u30ea\u30e2\u30fc\u30c8\u304b\u3089\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u3067\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```clj:~/clojure_apps/my-checklist/dev/user.cljs\n(ns cljs.user\n  (:require [my-checklist.core :as core]\n            [figwheel.client :as figwheel :include-macros true]))\n\n(enable-console-print!)\n\n(figwheel/watch-and-reload\n  :websocket-url \"ws://210.xxx.xxx.xxx:3449/figwheel-ws\"\n  :jsload-callback (fn [] (core/main)))\n\n(core/main)\n```\n\nREPL\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n``` bash\n$ docker-compose run --rm --service-ports lein repl\nnREPL server started on port 51843 on host 127.0.0.1 - nrepl://127.0.0.1:51843\nREPL-y 0.3.5, nREPL 0.2.6\nClojure 1.6.0\nOpenJDK 64-Bit Server VM 1.7.0_79-b14\n    Docs: (doc function-name-here)\n          (find-doc \"part-of-name-here\")\n  Source: (source function-name-here)\n Javadoc: (javadoc java-object-or-class-here)\n    Exit: Control+D or (exit) or (quit)\n Results: Stored in vars *1, *2, *3, an exception in *e\n\nuser=>\n```\n\nREPL\u3067(run)\u3092\u5b9f\u884c\u3057\u3066\u30a2\u30d7\u30ea\u306e\u8d77\u52d5\n\n``` bash\nuser=> (run)\n2015-05-21 14:56:17.542:INFO:oejs.Server:jetty-7.6.13.v20130916\n2015-05-21 14:56:17.582:INFO:oejs.AbstractConnector:Started SelectChannelConnector@0.0.0.0:10555\nStarting web server on port 10555 .\n#<Server org.eclipse.jetty.server.Server@7ef1accd>\nuser=>\n```\n\n\u6b21\u306b(start-figwheel)\u3092\u5b9f\u884c\u3057\u3066Figwheel\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n``` bash\nuser=> (start-figwheel)\nStarting figwheel.\n#<core$future_call$reify__6320@17e02401: :pending>\nuser=> Figwheel: focusing on build-id 'app'\nCompiling ClojureScript.\nFigwheel: Starting server at http://localhost:3449\nFigwheel: Serving files from '(dev-resources|resources)/public'\nCompiling \"resources/public/js/app.js\" from [\"src\" \"dev\"]...\nSuccessfully compiled \"resources/public/js/app.js\" in 23.719 seconds.\nnotifying browser that file changed:  /js/app.js\nnotifying browser that file changed:  /js/out/goog/deps.js\nnotifying browser that file changed:  /js/out/my_checklist/core.js\nnotifying browser that file changed:  /js/out/cljs/user.js\nFigwheel: client disconnected  :normal\n```\n\nChrome\u30d6\u30e9\u30a6\u30b6\u3092\u958b\u304dDocker\u30db\u30b9\u30c8\u306e\u30d1\u30d6\u30ea\u30c3\u30afIP\u30a2\u30c9\u30ec\u30b9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\nhttp://210.xxx.xxx.xxx:10555/\n\n\u753b\u9762\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30e1\u30f3\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n```\nHello, what is your name? FIXME\n```\n\nChrome\u30d6\u30e9\u30a6\u30b6\u306e\u30c7\u30d9\u30ed\u30c3\u30d1\u30fc\u30c4\u30fc\u30eb\u3092\u958b\u304f\u3068Figwheel\u306e\u8d77\u52d5\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n```\nFigwheel: trying to open cljs reload socket\nutils.cljs:31 Figwheel: socket connection established\n```\n\n## \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f5c\u6210\n\n\u4eca\u56de\u306e\u30e1\u30a4\u30f3\u30c6\u30fc\u30de\u3067\u3042\u308b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002project.clj\u306edependencies\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u78ba\u8a8d\u3059\u308b\u3068\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u6570\u306f\u5c11\u306a\u304f\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210\u306a\u306e\u3067\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u3002\n\n```clj:~/clojure_apps/my-checklist/project.clj\n(defproject my-checklist \"0.1.0-SNAPSHOT\"\n  :description \"FIXME: write description\"\n  :url \"http://example.com/FIXME\"\n  :license {:name \"Eclipse Public License\"\n            :url \"http://www.eclipse.org/legal/epl-v10.html\"}\n\n  :source-paths [\"src\" \"dev\"]\n\n  :dependencies [[org.clojure/clojure \"1.6.0\"]\n                 [org.clojure/clojurescript \"0.0-3058\" :scope \"provided\"]\n                 [org.clojure/core.async \"0.1.346.0-17112a-alpha\"]\n                 [ring \"1.3.1\"]\n                 [compojure \"1.2.0\"]\n                 [figwheel \"0.2.5\"]\n                 [environ \"1.0.0\"]\n                 [leiningen \"2.5.0\"]\n                 [reagent \"0.5.0\"]]\n\n  :min-lein-version \"2.5.0\"\n\n  :plugins [[lein-cljsbuild \"1.0.4\"]\n            [lein-environ \"1.0.0\"]\n            [lein-figwheel \"0.2.0-SNAPSHOT\"]]\n\n  :figwheel {:http-server-root \"public\"\n             :port 3449}\n\n  :cljsbuild {:builds {:app {:source-paths [\"src\" \"dev\"]\n                             :compiler {:output-to \"resources/public/js/app.js\"\n                                        :output-dir \"resources/public/js/out\"\n                                        :source-map    \"resources/public/js/out.js.map\"\n                                        :optimizations :none}}}}\n  )\n```\n\ncore.cljs\u306b\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3059\u3002\u30d5\u30a9\u30fc\u30e0\u3068\u30ea\u30b9\u30c8\u306e\u7c21\u5358\u306a\u69cb\u6210\u3067\u3059\u3002[Static Mock Using Reagent](http://www.okaythree.com/articles/2015/04/21/static-mock-using-reagent/)\u3092\u53c2\u8003\u306b\u3057\u306a\u304c\u3089`li`\u306e\u30ea\u30b9\u30c8\u9805\u76ee\u3092\u4f5c\u6210\u3059\u308b\u5171\u901a\u95a2\u6570\u3092\u7528\u610f\u3057\u3066\u307f\u307e\u3057\u305f\u3002\n\n```clj:~/clojure_apps/my-checklist/src/my_checklist/core.cljs\n(ns my-checklist.core\n  (:require [reagent.core :as reagent :refer [atom]]))\n\n(defn checklist-title []\n  [:h1 \"\u671d\u306b\u3084\u308b\u3053\u3068\"])\n\n(defn checkbox-input [item]\n  [:li\n   [:input {:type \"checkbox\"} (:label item)]])\n\n(defn checklist-items []\n  (let [items [{:label \"\u6c34\u3092\u5165\u308c\u308b\"}\n               {:label \"\u30ad\u30e5\u30fc\u30ea\u30b0\u3092\u30bb\u30c3\u30c8\"}\n               {:label \"\u30b3\u30fc\u30d2\u30fc\u3092\u5165\u308c\u308b\"}]]\n    [:ul\n     (for [item items]\n       [checkbox-input item])]))\n\n(defn add-form []\n  [:form\n   [:p\n    [:input {:text \"text\" :name \"task\"}]]\n   [checklist-items]])\n\n(defn reset-button []\n  [:button {:type \"button\"} \"\u30ea\u30bb\u30c3\u30c8\u3059\u308b\"])\n\n(defn full-checklist []\n  [:div\n   [checklist-title]\n   [add-form]\n   [reset-button]])\n   \n(defn page []\n  [:div\n   [full-checklist]])\n\n(defn main []\n  (reagent/render-component [page] (.getElementById js/document \"app\")))\n```\n\n\u9759\u7684\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306a\u306e\u3067\u30ea\u30bb\u30c3\u30c8\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u3082\u4f55\u3082\u52d5\u304d\u307e\u305b\u3093\u3002\u30c1\u30a7\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3082rtom\u3092\u4f7f\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u72b6\u614b\u3067\u3059\u3002\u3068\u308a\u3042\u3048\u305aHTML\u304c\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u304d\u308b\u3068\u3053\u308d\u307e\u3067\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002\n\n![reagent-static.png](https://qiita-image-store.s3.amazonaws.com/0/43745/d088dca8-ff30-6340-5d45-20a9524bad3a.png)\n\n\n\n## \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u30c7\u30fc\u30bf\u3068\u3057\u3066\u6271\u3046\n\n[BUILDING SINGLE PAGE APPS WITH REAGENT](http://yogthos.net/posts/2014-07-15-Building-Single-Page-Apps-with-Reagent.html)\u306b\u3088\u3044\u4f8b\u304c\u3042\u308a\u307e\u3059\u3002text-input\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306brow\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u30cd\u30b9\u30c8\u3059\u308b\u4f8b\u3067\u3059\u3002row\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306f\u95a2\u6570\u3068\u3057\u3066\u76f4\u63a5\u5b9f\u884c\u305b\u305a\u30c7\u30fc\u30bf\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u3068Reagent\u304c\u5fc5\u8981\u306a\u3068\u304d\u306b\u8a55\u4fa1\u3057\u3066\u5b9f\u884c\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n```clj\n(defn row [label & body]\n  [:div.row\n   [:div.col-md-2 [:span label]]\n   [:div.col-md-3 body]])\n\n(defn text-input [label]\n  [row label [:input {:type \"text\" :class \"form-control\"}]])\n```\n", "tags": ["Reagent", "ClojureScript", "Clojure", "reactjs", "docker-compose"]}