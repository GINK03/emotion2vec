{"context": "logrotate \u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u4ee5\u5916\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u65e5\u4ed8\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u3057\u305f\u3044\u5834\u5408\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u307e\u3059\u3002\n\n \u30c7\u30d5\u30a9\u30eb\u30c8\nlogrotate \u3067\u65e5\u6b21\u30ed\u30fc\u30c6\u30fc\u30c8\uff0b\u65e5\u4ed8\u6587\u5b57\u5217\u3092\u4ed8\u3051\u305f\u3044\u5834\u5408\u3001\ndaily \u3068 dateext \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n/path/to/target/some.log\n{\n  rotate 36500\n  daily\n  dateext\n  missingok\n  notifempty\n  delaycompress\n  nocompress\n  copytruncate\n}\n\n\u7d50\u679c\u3001 \u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d + -YYYYMMDD \u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u4f8b\u3067\u30012016/06/08\u5b9f\u884c\u3057\u305f\u3068\u3057\u305f\u3089 /path/to/target/some.log-20160608 \u306b\u306a\u308a\u307e\u3059\u3002\n\n \u4efb\u610f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u66f4\u3059\u308b\n\u672b\u5c3e\u306b\u4ed8\u4e0e\u3059\u308b\u65e5\u4ed8\u3092\u4efb\u610f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306f\ndateformat \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n/path/to/target/some.log\n{\n  rotate 36500\n  daily\n  dateext\n  dateformat _%Y-%m-%d\n  missingok\n  notifempty\n  delaycompress\n  nocompress\n  copytruncate\n}\n\n\u7d50\u679c\u3001 \u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d + _YYYY-MM-DD \u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u4f8b\u3067\u30012016/06/08\u5b9f\u884c\u3057\u305f\u3068\u3057\u305f\u3089 /path/to/target/some.log_2016-06-08 \u306b\u306a\u308a\u307e\u3059\u3002\n\n \u672b\u5c3e\u4ee5\u5916\u306e\u5834\u6240\u306b\u65e5\u4ed8\u3092\u633f\u5165\u3059\u308b\n\u672b\u5c3e\u4ee5\u5916\u306e\u5834\u6240\u306b\u65e5\u4ed8\u3092\u633f\u5165\u3057\u305f\u3044\u5834\u5408\u306f postrotate \u3067\u540d\u524d\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n/path/to/target/some.log\n{\n  rotate 36500\n  daily\n  dateext\n  dateformat _%Y-%m-%d\n  missingok\n  notifempty\n  delaycompress\n  nocompress\n  copytruncate\n  postrotate\n    mv /path/to/target/some.log-`date '+%Y%m%d'` /path/to/target/some.`date '+%Y-%m-%d'`.log\n  endscript\n}\n\n\u7d50\u679c\u3001 \u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d(\u62e1\u5f35\u5b50\u629c\u304d) + .YYYY-MM-DD.log \u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u4f8b\u3067\u30012016/06/08\u5b9f\u884c\u3057\u305f\u3068\u3057\u305f\u3089 /path/to/target/some.2016-06-08.log \u306b\u306a\u308a\u307e\u3059\u3002\nlogrotate \u3067\u30c7\u30d5\u30a9\u30eb\u30c8\u4ee5\u5916\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u65e5\u4ed8\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u3057\u305f\u3044\u5834\u5408\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u307e\u3068\u3081\u307e\u3059\u3002\n\n## <i class=\"fa fa-wrench\" style=\"font-size:1em;\"></i> \u30c7\u30d5\u30a9\u30eb\u30c8\nlogrotate \u3067\u65e5\u6b21\u30ed\u30fc\u30c6\u30fc\u30c8\uff0b\u65e5\u4ed8\u6587\u5b57\u5217\u3092\u4ed8\u3051\u305f\u3044\u5834\u5408\u3001\n`daily` \u3068 `dateext` \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\n/path/to/target/some.log\n{\n  rotate 36500\n  daily\n  dateext\n  missingok\n  notifempty\n  delaycompress\n  nocompress\n  copytruncate\n}\n```\n\n\u7d50\u679c\u3001 `\u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d + -YYYYMMDD` \u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u4f8b\u3067\u30012016/06/08\u5b9f\u884c\u3057\u305f\u3068\u3057\u305f\u3089 `/path/to/target/some.log-20160608` \u306b\u306a\u308a\u307e\u3059\u3002\n\n## <i class=\"fa fa-wrench\" style=\"font-size:1em;\"></i><i class=\"fa fa-wrench\" style=\"font-size:1em;\"></i> \u4efb\u610f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u66f4\u3059\u308b\n\u672b\u5c3e\u306b\u4ed8\u4e0e\u3059\u308b\u65e5\u4ed8\u3092\u4efb\u610f\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306f\n`dateformat` \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\n\n```\n/path/to/target/some.log\n{\n  rotate 36500\n  daily\n  dateext\n  dateformat _%Y-%m-%d\n  missingok\n  notifempty\n  delaycompress\n  nocompress\n  copytruncate\n}\n```\n\n\u7d50\u679c\u3001 `\u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d + _YYYY-MM-DD` \u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u4f8b\u3067\u30012016/06/08\u5b9f\u884c\u3057\u305f\u3068\u3057\u305f\u3089 `/path/to/target/some.log_2016-06-08` \u306b\u306a\u308a\u307e\u3059\u3002\n\n\n## <i class=\"fa fa-wrench\" style=\"font-size:1em;\"></i><i class=\"fa fa-wrench\" style=\"font-size:1em;\"></i><i class=\"fa fa-wrench\" style=\"font-size:1em;\"></i> \u672b\u5c3e\u4ee5\u5916\u306e\u5834\u6240\u306b\u65e5\u4ed8\u3092\u633f\u5165\u3059\u308b\n\u672b\u5c3e\u4ee5\u5916\u306e\u5834\u6240\u306b\u65e5\u4ed8\u3092\u633f\u5165\u3057\u305f\u3044\u5834\u5408\u306f `postrotate` \u3067\u540d\u524d\u3092\u5909\u66f4\u3057\u307e\u3059\u3002\n\n```\n/path/to/target/some.log\n{\n  rotate 36500\n  daily\n  dateext\n  dateformat _%Y-%m-%d\n  missingok\n  notifempty\n  delaycompress\n  nocompress\n  copytruncate\n  postrotate\n    mv /path/to/target/some.log-`date '+%Y%m%d'` /path/to/target/some.`date '+%Y-%m-%d'`.log\n  endscript\n}\n```\n\n\u7d50\u679c\u3001 `\u5143\u306e\u30d5\u30a1\u30a4\u30eb\u540d(\u62e1\u5f35\u5b50\u629c\u304d) + .YYYY-MM-DD.log` \u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u751f\u6210\u3055\u308c\u307e\u3059\u3002\n\u4e0a\u8a18\u306e\u4f8b\u3067\u30012016/06/08\u5b9f\u884c\u3057\u305f\u3068\u3057\u305f\u3089 `/path/to/target/some.2016-06-08.log` \u306b\u306a\u308a\u307e\u3059\u3002\n", "tags": ["logrotate"]}