{"context": "\n\n\u6982\u8981\nWercker\u3067\u306f\u3001Workflows\u3067\u7e4b\u3044\u3060pipeline\u9593\u3067\u5171\u6709\u51fa\u6765\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3042\u308a\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3068\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9\u306f\u3001\u74b0\u5883\u5909\u6570WERCKER_CACHE_DIR\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002Wercker cache\u306e\u8a73\u7d30\u306f\u3053\u3061\u3089\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u304b\u3089\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n\u30d3\u30eb\u30c9\u901f\u5ea6\u306e\u6539\u5584\nWERCKER_CACHE_DIR\u3092Gradle\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u30d3\u30eb\u30c9\u901f\u5ea6\u3092\u6539\u5584\u3067\u304d\u307e\u3059\u3002Gradle\u306f\u5b9f\u884c\u6642\u306b--project-cache-dir\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u4efb\u610f\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u8a73\u7d30\u306f\u4ed8\u9332D Gradle \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067WERCKER_CACHE_DIR\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n$ gradle --project-cache-dir=$WERCKER_CACHE_DIR testDebug\n\n\nGradle Wrapper\u3092\u5229\u7528\u3059\u308b\u5834\u5408\nWrapper\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n$ ./gradlew --project-cache-dir=$WERCKER_CACHE_DIR testDebug\n\nGradle Wrapper\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001Wercker\u306e\u74b0\u5883\u5909\u6570\u3068\u3057\u3066GRADLE_USER_HOME\u3092\u5b9a\u7fa9\u3057$WERCKER_CACHE_DIR/.gradle\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u3063\u3066Gradle\u306e\u30e6\u30fc\u30b6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092WERCKER_CACHE_DIR\u4ee5\u4e0b\u306b\u6307\u5b9a\u3067\u304d\u3001Wrapper\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fGradle\u304c\u7570\u306a\u308bpipeline\u9593\u3067\u5171\u6709\u3055\u308cpipeline\u6bce\u306bGradle\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3053\u3068\u304c\u7121\u304f\u306a\u308a\u307e\u3059\u3002\n\u74b0\u5883\u5909\u6570\u306f\u300cSettings\u300d\u306e\u300cEnvironment variables\u300d\u304b\u3089\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u74b0\u5883\u5909\u6570\u3092\u4f7f\u308f\u305a--gradle-user-home\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067Gradle\u306e\u30e6\u30fc\u30b6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n$ ./gradlew --project-cache-dir=$WERCKER_CACHE_DIR --gradle-user-home=$WERCKER_CACHE_DIR/.gradle testDebug\n\n\nWERCKER_CACHE_DIR\u306e\u6709\u52b9\u671f\u9650\nWERCKER_CACHE_DIR\u306e\u6709\u52b9\u671f\u9650\u304c\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u304b\u3068\u3044\u3046\u3068\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\n\nAt the start of every pipeline run the cache directory is filled with the cached content from the last successful build, if not older than 14 days (and is < 1GB).\n\n\u3057\u305f\u304c\u3063\u3066\u3001\u5404pipeline\u306f\u3001\u30b9\u30bf\u30fc\u30c8\u6642\u306bWERCKER_CACHE_DIR\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30ed\u30fc\u30c9\u3057\u3001\u30ed\u30fc\u30c9\u3055\u308c\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u300114\u65e5\u9593\u4ee5\u5185\u3067\u6700\u5f8c\u306b\u6210\u529f\u3057\u305f\u30d3\u30eb\u30c9\u306e\u3082\u306e\u3067\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5bb9\u91cf\u306f1GB\u307e\u3067\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u6d88\u53bb\n\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d88\u53bb\u3057\u305f\u3044\u5834\u5408\u3001\u300cSettings\u300d\u306e\u300cOptions\u300d\u306b\u3042\u308b\u300cClear cache\u300d\u304b\u3089\u524a\u9664\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001Gradle\u5b9f\u884c\u6642\u306b--recompile-scripts\u3092\u4ed8\u3051\u308b\u3053\u3068\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u5168\u3066\u7834\u68c4\u3055\u308c\u518d\u5ea6\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u8a73\u7d30\u306f\u300c\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0\u300d\u306e\u9805\u76ee\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n\n\u53c2\u8003\n\nhttp://gradle.monochromeroad.com/docs/userguide/gradle_command_line.html\nhttp://devcenter.wercker.com/docs/pipelines/wercker-cache.html\nhttp://gradle.monochromeroad.com/docs/userguide/tutorial_this_and_that.html#sec:caching\n\n\n# \u6982\u8981\n\nWercker\u3067\u306f\u3001Workflows\u3067\u7e4b\u3044\u3060pipeline\u9593\u3067\u5171\u6709\u51fa\u6765\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3042\u308a\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u3068\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9\u306f\u3001\u74b0\u5883\u5909\u6570`WERCKER_CACHE_DIR`\u3092\u53c2\u7167\u3059\u308b\u3053\u3068\u3067\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002Wercker cache\u306e\u8a73\u7d30\u306f[\u3053\u3061\u3089\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](http://devcenter.wercker.com/docs/pipelines/wercker-cache.html)\u304b\u3089\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\n\n# \u30d3\u30eb\u30c9\u901f\u5ea6\u306e\u6539\u5584\n\n`WERCKER_CACHE_DIR`\u3092Gradle\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u30d3\u30eb\u30c9\u901f\u5ea6\u3092\u6539\u5584\u3067\u304d\u307e\u3059\u3002Gradle\u306f\u5b9f\u884c\u6642\u306b`--project-cache-dir`\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u4efb\u610f\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u8a73\u7d30\u306f[\u4ed8\u9332D Gradle \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3](http://gradle.monochromeroad.com/docs/userguide/gradle_command_line.html)\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067`WERCKER_CACHE_DIR`\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\n```bash\n$ gradle --project-cache-dir=$WERCKER_CACHE_DIR testDebug\n```\n\n# Gradle Wrapper\u3092\u5229\u7528\u3059\u308b\u5834\u5408\n\nWrapper\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```bash\n$ ./gradlew --project-cache-dir=$WERCKER_CACHE_DIR testDebug\n```\n\nGradle Wrapper\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001Wercker\u306e\u74b0\u5883\u5909\u6570\u3068\u3057\u3066`GRADLE_USER_HOME`\u3092\u5b9a\u7fa9\u3057`$WERCKER_CACHE_DIR/.gradle`\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u3063\u3066Gradle\u306e\u30e6\u30fc\u30b6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092`WERCKER_CACHE_DIR`\u4ee5\u4e0b\u306b\u6307\u5b9a\u3067\u304d\u3001Wrapper\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fGradle\u304c\u7570\u306a\u308bpipeline\u9593\u3067\u5171\u6709\u3055\u308cpipeline\u6bce\u306bGradle\u304c\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u308b\u3053\u3068\u304c\u7121\u304f\u306a\u308a\u307e\u3059\u3002\n\n\u74b0\u5883\u5909\u6570\u306f\u300cSettings\u300d\u306e\u300cEnvironment variables\u300d\u304b\u3089\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002\n\n![wercker_env_variable.png](https://qiita-image-store.s3.amazonaws.com/0/43438/7ea5443e-390c-c98d-f7fd-43f451e530c6.png \"wercker_env_variable.png\")\n\n\u307e\u305f\u3001\u74b0\u5883\u5909\u6570\u3092\u4f7f\u308f\u305a`--gradle-user-home`\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067Gradle\u306e\u30e6\u30fc\u30b6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002\n\n```bash\n$ ./gradlew --project-cache-dir=$WERCKER_CACHE_DIR --gradle-user-home=$WERCKER_CACHE_DIR/.gradle testDebug\n```\n\n# WERCKER_CACHE_DIR\u306e\u6709\u52b9\u671f\u9650\n\n`WERCKER_CACHE_DIR`\u306e\u6709\u52b9\u671f\u9650\u304c\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u304b\u3068\u3044\u3046\u3068\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\n\n> At the start of every pipeline run the cache directory is filled with the cached content from the last successful build, if not older than 14 days (and is < 1GB).\n\n\n\u3057\u305f\u304c\u3063\u3066\u3001\u5404pipeline\u306f\u3001\u30b9\u30bf\u30fc\u30c8\u6642\u306b`WERCKER_CACHE_DIR`\u306b\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u30ed\u30fc\u30c9\u3057\u3001\u30ed\u30fc\u30c9\u3055\u308c\u308b\u30ad\u30e3\u30c3\u30b7\u30e5\u306f\u300114\u65e5\u9593\u4ee5\u5185\u3067\u6700\u5f8c\u306b\u6210\u529f\u3057\u305f\u30d3\u30eb\u30c9\u306e\u3082\u306e\u3067\u3001\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u5bb9\u91cf\u306f1GB\u307e\u3067\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n# \u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u6d88\u53bb\n\n\u30ad\u30e3\u30c3\u30b7\u30e5\u3092\u6d88\u53bb\u3057\u305f\u3044\u5834\u5408\u3001\u300cSettings\u300d\u306e\u300cOptions\u300d\u306b\u3042\u308b\u300cClear cache\u300d\u304b\u3089\u524a\u9664\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001Gradle\u5b9f\u884c\u6642\u306b`--recompile-scripts`\u3092\u4ed8\u3051\u308b\u3053\u3068\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u304c\u5168\u3066\u7834\u68c4\u3055\u308c\u518d\u5ea6\u30b3\u30f3\u30d1\u30a4\u30eb\u3001\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u8a73\u7d30\u306f[\u300c\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0\u300d](http://gradle.monochromeroad.com/docs/userguide/tutorial_this_and_that.html#sec:caching)\u306e\u9805\u76ee\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\u3002\n\n![wercker_clear_cache.png](https://qiita-image-store.s3.amazonaws.com/0/43438/83dc8cbb-c9a8-2eeb-bf9b-5322a5217f1b.png \"wercker_clear_cache.png\")\n\n\n# \u53c2\u8003\n* http://gradle.monochromeroad.com/docs/userguide/gradle_command_line.html\n* http://devcenter.wercker.com/docs/pipelines/wercker-cache.html\n* http://gradle.monochromeroad.com/docs/userguide/tutorial_this_and_that.html#sec:caching\n", "tags": ["wercker", "Android", "gradle"]}