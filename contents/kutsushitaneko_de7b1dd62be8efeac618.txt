{"context": " More than 1 year has passed since last update.\n\nSmartOS\u3068\u306f\uff1f\nSmartOS\u3068\u306f\u3001ZFS + DTrace + Zones \u305d\u3057\u3066\u3001\u306a\u3093\u3068 KVM\u304c\u4f7f\u3048\u308bOpen Solaris\u7cfb\u306eOS\u3067\u3059\u3002Sun Microsystems(\u73fe\u5728\u306eOracle)\u304c\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u5316\u3057\u305f Open Solaris\u304b\u3089\u6d3e\u751f\u3057\u305fillumos\u306e\u30ab\u30fc\u30cd\u30eb\u3092\u4f7f\u3063\u305fOS\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u52d5\u304b\u3059\u305f\u3081\u306eOS\u3068\u3082\u3044\u3048\u308b\u3082\u306e\u3067\u3059\u3002\u307e\u305f\u3001DTrace\u306f\u3001Linux\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306bSystem Tap\u306e\u958b\u767a\u3092\u4fc3\u3059\u3053\u3068\u3068\u306a\u3063\u305f\u52d5\u7684\u30c8\u30ec\u30fc\u30b9\u306e\u672c\u5bb6\u3067\u3059\u3002\nZones\u306f\u3001OS\u4eee\u60f3\u5316\u6a5f\u80fd\u3001\u3044\u308f\u3086\u308b\u30b3\u30f3\u30c6\u30ca\u3067\u3059\u3002Oracle(Sun)\u306eSolaris10\u3067\u306f\u3001\u305d\u306e\u3082\u306e\u305a\u3070\u308a\u30b3\u30f3\u30c6\u30ca\u3068\u547c\u3070\u308c\u3066\u3044\u307e\u3057\u305f\u3002Oracle Solaris 11.2\u306b\u306f\u3001\u3055\u3089\u306b\u8907\u6570\u306eOS\u30ab\u30fc\u30cd\u30eb\u304c\u52d5\u4f5c\u3059\u308bKernel Zone\u6a5f\u80fd\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002kernel Zone\u306f\u3001\u8907\u6570\u306eSolaris Kernel\u3092\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3082\u306e\u3067\u3059\u304c\u3001SmartOS\u306f\u3001KVM\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u4ed6\u306eOS\u3092\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001SmartOS\u306f\u4eee\u60f3\u5316\u30c6\u30af\u30ce\u30ed\u30b8\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\nSmartOS\u306b\u3088\u308bOS\u4eee\u60f3\u5316\uff08\u30b3\u30f3\u30c6\u30ca\uff09\uff1a\n\n\nSmartOS\u306eZone\uff08SmartMachine\u3068\u547c\u3076\u3088\u3046\u3067\u3059\uff09\nLinux\u306eZone\uff08LX Branded Zone\uff09\n\n\nSmartOS\u7d44\u307f\u8fbc\u307f\u306e\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\u30d9\u30fc\u30b9\u306e\u4eee\u60f3\u5316\n\n\nKVM\n\n\n\n\u305d\u3057\u3066\u3001SmartOS\u3067\u306f\u3001zfs\u306esnapshot(clone)\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u975e\u5e38\u306b\u9ad8\u901f\u306b\u4eee\u60f3\u74b0\u5883\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001VMware Player\u3067\u3001SmarOS\u3092\u8d77\u52d5\u3057\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u8a2d\u5b9a\u3092\uff08\u65e5\u672c\u8a9e\u306b\uff09\u5909\u66f4\u3057\u3001\u30b7\u30ea\u30a2\u30eb\u30b3\u30f3\u30bd\u30fc\u30eb\u3001\u30d3\u30c7\u30aa\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u8a2d\u5b9a\u3001Global Zone\u306e\u6c38\u7d9a\u7684\u306a\u8a2d\u5b9a\uff08\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\uff09\u307e\u3067\u306e\u624b\u9806\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\uff08\u30b7\u30ea\u30a2\u30eb\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u90e8\u5206\u306f\u4ed6\u306eOS\u306e\u5834\u5408\u306e\u53c2\u8003\u306b\u3082\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\uff09\nSmartOS\u306eKVM\u3092\u4f7f\u3063\u305f\u4eee\u60f3\u30b5\u30fc\u30d0\u306e\u30c7\u30d7\u30ed\u30a4\u306b\u3064\u3044\u3066\u306f\u3001SmartOS\u306eKVM\u30b2\u30b9\u30c8\u3068\u3057\u3066CentOS7.1\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001LX Branded Zone\u306f\u3001SmartOS\u306eLX Branded Zone\uff08Linux\u30b3\u30f3\u30c6\u30ca\uff09\u3092\u52d5\u304b\u3059\u3092\u307f\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\u305d\u308c\u3067\u306f\u3001\u307e\u305aVMware Player\u4e0a\u3067SmartOS\u672c\u4f53\u3092\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\u3002\n\nVM\u30a4\u30e1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\nwiki.smartos.org\u306eDownload SmartOS\u30da\u30fc\u30b8\u304b\u3089VMware VM\u30a4\u30e1\u30fc\u30b8\uff08Download SmartOS (VMWare VM)\uff09\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3001smartos-latest.vmwarevm.tar.bz2\u3067\u3059\u3002\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u306e\u89e3\u51cd\n\u4e0b\u8a18\u306e\u4f8b\u3067\u306fCygwin\u306etar\u3067\u89e3\u51cd\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u89e3\u51cd\n$ tar -jxvf smartos-latest.vmwarevm.tar.bz2\nSmartOS.vmwarevm/\nSmartOS.vmwarevm/Virtual Disk.vmdk\nSmartOS.vmwarevm/SmartOS.vmsd\nSmartOS.vmwarevm/SmartOS.vmdk\nSmartOS.vmwarevm/SmartOS.nvram\nSmartOS.vmwarevm/SmartOS.vmx\nSmartOS.vmwarevm/smartos.img\n\n\n$ tree\n.\n|-- SmartOS.vmwarevm\n|   |-- smartos.img\n|   |-- SmartOS.nvram\n|   |-- SmartOS.vmdk\n|   |-- SmartOS.vmsd\n|   |-- SmartOS.vmx\n|   `-- Virtual Disk.vmdk\n`-- smartos-latest.vmwarevm.tar.bz2\n\n1 directory, 7 files\n\n\nVMware Player\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u958b\u304f\nVMware Player\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u958b\u304f\uff08O\uff09\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u300cSmartOS.vmwarevm\u300d\u30d5\u30a9\u30eb\u30c0\u3092\u958b\u304d\u307e\u3059\u3002\n\n\u300cSmartOS.vmx\u300d\u3092\u958b\u304d\u307e\u3059\u3002\n\n\n\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u5b9f\u884c\n\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u518d\u751f\uff08L\uff09\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u300c\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u3001\u4e0a\u306e\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\u3057\u305f\u306b\u300csocket.serial0\u300d\u306b\u95a2\u3057\u3066\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u300cOK\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\nVMware Tools Solaris\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u304b\u805e\u3044\u3066\u304d\u307e\u3059\u3002\nSmartOS\u3067\u306f\u4f7f\u7528\u3067\u304d\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u300c\u5f8c\u3067\u901a\u77e5\u3059\u308b\u300d\u306b\u3059\u308b\u3068\u4eca\u5f8c\u3001\u8d77\u52d5\u3059\u308b\u5ea6\u306b\u805e\u3044\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u3053\u3053\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3057\u307e\u3063\u3066\u3082\u826f\u3044\u3067\u3059\u304c\u3001\u4eee\u306b\u300c\u5f8c\u3067\u901a\u77e5\u3059\u308b\uff08R\uff09\u300d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3068\u3057\u307e\u3059\u3002\n\n\u30a6\u30a3\u30f3\u30c9\u30a6\u4e0b\u6bb5\u306e\u300c\u901a\u77e5\u3057\u306a\u3044\u300d\u3082\u30af\u30ea\u30c3\u30af\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u4e2d\uff08\u9ed2\u3044\u90e8\u5206\uff09\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u300cY\u300d\u3092\u5165\u529b\u3057\u3066\u300cEnter\u300d\u3092\u62bc\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\u306a\u304a\u3001\u4e00\u65e6\u3001\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u4e2d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30ab\u30fc\u30bd\u30eb\u304c\u30a6\u30a3\u30f3\u30c9\u30a6\u304b\u3089\u51fa\u3089\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u3092\u5916\u306b\u51fa\u3059\u305f\u3081\u306b\u306f\u3001Ctrl + Alt\u3092\u62bc\u3057\u307e\u3059\u3002\n\nIP\u30a2\u30c9\u30ec\u30b9\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u307e\u3059\u3002\u56fa\u5b9aIP\u3092\u5272\u308a\u5f53\u3066\u308b\u5834\u5408\u306fIP\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u307e\u3059\u3002DHCP\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u300cdhcp\u300d\u3068\u5165\u529b\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001dhcp\u3068\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n\u30c7\u30fc\u30bf\u9818\u57df\u3068\u3057\u3066\u4f7f\u7528\u3059\u308bZFS\u30b9\u30c8\u30ec\u30fc\u30b8\u30d7\u30fc\u30eb\u3092\u69cb\u6210\u3059\u308b\uff08\u4eee\u60f3\uff09\u30c7\u30a3\u30b9\u30af\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u300cc0t1d0\u300d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u300cc0t0d0\u300d\u3092\u9078\u3093\u3067\u306f\u3044\u3051\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u8aad\u307f\u8fbc\u3093\u3060OS\u30a4\u30e1\u30fc\u30b8\u304c\u5165\u3063\u305f\uff08\u4eee\u60f3\uff09\u30c7\u30a3\u30b9\u30af\u305d\u306e\u3082\u306e\u3067\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u4e0a\u66f8\u304d\u3057\u3066\u3057\u307e\u3046\u3068SmartOS\u3092\u8d77\u52d5\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\nroot\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u78ba\u8a8d\u3067\u3059\u3002\u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u3082\u3046\u4e00\u5ea6\u5165\u529b\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n\u5165\u529b\u5185\u5bb9\u306e\u78ba\u8a8d\u3067\u3059\u3002\u300cy\u300d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n\u3053\u308c\u307e\u3067\u306b\u5165\u529b\u3057\u305f\u5185\u5bb9\u304c\u5165\u3063\u305f\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u78ba\u8a8d\u3067\u3059\u3002\u300cn\u300d\u3092\u5165\u529b\u3057\u3066\u69cb\u6210\u60c5\u5831\u306e\u5165\u529b\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u300cy\u300d\u3068\u3059\u308b\u3068\u69cb\u6210\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u753b\u9762\u3067vi\u306e\u7de8\u96c6\u30b3\u30de\u30f3\u30c9\uff08\"i\"\u7b49\uff09\u306f\u4f7f\u7528\u3067\u304d\u3066\u7de8\u96c6\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u7de8\u96c6\u306e\u7d42\u4e86\u306e\u4ed5\u65b9\u304c\u308f\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\":\",\"wq\"\u7b49\u3067\u306f\u629c\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u305a\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u304b\u3089\u524a\u9664\u3057\u3066\u3084\u308a\u76f4\u3057\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n\u300cn\u300d\u3001\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n\u9078\u629e\u3057\u305f\uff08\u4eee\u60f3\uff09\u30c7\u30a3\u30b9\u30af\u306e\u5185\u5bb9\u304c\u6d88\u53bb\u3055\u308c\u308b\u304c\u826f\u3044\u304b\u3068\u805e\u3044\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u300cy\u300d\u3068\u5165\u529b\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n\n\n\n\n\n\u7121\u4e8b\u3001SmartOS\u304c\u8d77\u52d5\u3057\u307e\u3057\u305f\u3002\nroot\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3057\u305f\u3002\nuname -a\u3067\u30b7\u30b9\u30c6\u30e0\u60c5\u5831\u3092\u53d6\u3063\u3066\u307f\u307e\u3059\u3002\n\nSunOS\u3063\u3066\u3067\u308b\u3093\u3067\u3059\u306d\uff01 \n\n\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u5909\u66f4\u3059\u308b\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u306f\u82f1\u8a9e\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u304a\u4f7f\u3044\u306e\u5834\u5408\u306f\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001Solaris\u3068\u306f\u8a2d\u5b9a\u65b9\u6cd5\u304c\u7570\u306a\u308a\u307e\u3059\u3002SmartOS\u3067\u306f\u3001Global Zone\u306e \"/\" \u306f\u3001Ramdisk\u3068\u306a\u3063\u3066\u3044\u3066\u3001Global Zone\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3066\u3082 reboot \u3059\u308b\u3068\u6d88\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002SmartOS\u3067\u306f\u3001Global Zone\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u306f\u3001/usbkey \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u5909\u66f4\uff08\u65e5\u672c\u8a9e\u3078\uff09\necho \"default_keymap=uk\" >>/usbkey/config\nreboot\n\n\n\u3053\u3053\u3067\u3001\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u3067\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u300c\"\u300d\u3092\u5165\u529b\u3059\u308b\u306b\u306f\u3001\u300c*\u300d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001Shift\u3092\u62bc\u3057\u306a\u304c\u3089\u300c:\u300d\u3067\u3059\u3002\u300c_\u300d\u306f\u3001\u300c-\u300d(\u30cf\u30a4\u30d5\u30f3\u3001\u30c0\u30c3\u30b7\u30e5)\u3001\u3064\u307e\u308a\u300c0(\u30bc\u30ed)\u300d\u306e\u53f3\u96a3\u3067\u3059\u3002\n\"=\"\u3092\u5165\u529b\u3059\u308b\u306b\u306f\u3001\"^\"\u3092\u62bc\u3057\u307e\u3059\u3002\n\u518d\u8d77\u52d5\u3055\u308c\u308b\u3068\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u65e5\u672c\u8a9e\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\u4ed6\u306e\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001/usr/share/lib/keytables/type_6\u3092ls\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306b\u95a2\u3059\u308b\u30a8\u30e9\u30fc\u3092\u4fee\u6b63\u3057\u3066\u3001\u30b7\u30ea\u30a2\u30eb\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u8a2d\u5b9a\nSmartOS\u306e\u521d\u56de\u8d77\u52d5\u6642\u3001\u30d1\u30ef\u30fc\u30aa\u30d5\u5f8c\u306e\u30d1\u30ef\u30fc\u30aa\u30f3\u6642\u306b\u4ee5\u4e0b\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n\n\u3053\u306e\u554f\u984c\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n[\u30d1\u30ef\u30fc\u30aa\u30f3\u306e\u307e\u307e\u306e\u5834\u5408]\nVMware Player\u306e\u4e0a\u90e8\u306e\u300cPlayer(p)\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u300c\u7ba1\u7406(M)\u300d\u3001\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u8a2d\u5b9a(S)...\u300d\u3092\u9078\u3073\u307e\u3059\u3002\n\n[\u30d1\u30ef\u30fc\u30aa\u30d5\u3057\u3066\u3044\u308b\u5834\u5408]\nVMware Player\u306e\u5de6\u5074\u300c\u30db\u30fc\u30e0\u300d\u306e\u4e0b\u306e\u300cSmartOS\u300d\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002\n\n\n\u300c\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n\u540d\u524d\u4ed8\u304d\u30d1\u30a4\u30d7\u306e\u540d\u524d\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u3001\u300c\u63a5\u7d9a\u5148\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u300d\u3092\u9078\u629e\u3057\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u300c\u63a5\u7d9a\u6e08\u307f(C)\u300d\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u300cOK\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\nNamed Pipe TCP Proxy\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\nNamed Pipe TCP Proxy Utility\u304b\u3089\"nptp_setup.zip\"\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u89e3\u51cd\u3059\u308b\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9 \"ntpt.exe\"\u304c\u73fe\u308c\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u8d77\u52d5\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u7279\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u8a2d\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\nNamed Pipe TCP Proxy\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nNamed Pipe TCP Proxy\u3092\u8d77\u52d5\u3057\u3001\u300cEdit\u300d\u3001\u300cNew\u300d\u3092\u9078\u629e\u3057\u3001\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5165\u529b\u3057\u3066\u3001\u300cSave\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\u300cSave\u300d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u3068\u306a\u308a\u307e\u3059\u3002\n\n\nTeraTerm\uff08\u7b49\u306etelnet\u7aef\u672b\uff09\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3059\u3002\nTera Term\u3092\u8d77\u52d5\u3057\u3066\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u300c\u30db\u30b9\u30c8(T)\u300d\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u3067\u3059\u306e\u3067\"127.0.0.1\"\u3002\n\u30b5\u30fc\u30d3\u30b9\u306f\u3001\"Telnet\"\u3092\u9078\u629e\u3057\u307e\u3059\u3002\nTCP\u30dd\u30fc\u30c8\u306f\u3001Named Pipe TCP Proxy\u3067\u8a2d\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u3067\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001\"1001\"\u3067\u3059\u3002\n\nSmartOS\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u63a5\u7d9a\u3055\u308c\u307e\u3059\u3002\n\n\nGlobal Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u306e\u8a2d\u5b9a\u5909\u66f4\n\nGlobal Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u3068\u306f\uff1f\nSmartOS\u306f\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u52d5\u304b\u3059\u305f\u3081\u306eOS\u3067\u3059\u3002Zone\uff08SmartOS\u306e\u30b3\u30f3\u30c6\u30ca\uff1aSmartMachine\u3068\u3082\u547c\u3070\u308c\u308b\uff09\u3084LX Branded Zone\uff08Linux \u30b3\u30f3\u30c6\u30ca\uff09\u3068\u3044\u3063\u305f\u30b3\u30f3\u30c6\u30ca\u304c\u52d5\u4f5c\u3059\u308b\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3042\u308b\u3068\u540c\u6642\u306bKVM\u306b\u3088\u308b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u4eee\u60f3\u5316\u3092\u5b9f\u73fe\u3059\u308b\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\u3067\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u4eee\u60f3\u5316\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3068\u3057\u3066\u306eSmartOS\u3092Global Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u3068\u547c\u3073\u307e\u3059\u3002\u6c4e\u7528\u306e\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3068\u7570\u306a\u308a\u3001\u3053\u306eGlobal Zone\u4e0a\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3059\u308b\u3053\u3068\u306f\u60f3\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001Zone \u4e0a\u3067\u7a3c\u50cd\u3055\u305b\u307e\u3059\u3002\n\nGlobal Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u306e\u6c38\u7d9a\u7684\u306a\u8a2d\u5b9a\nGlobal Zone\u306f\u3001\u300cGlobal Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u3068\u306f\uff1f\u300d\u306b\u3042\u308b\u3088\u3046\u306a\u4f4d\u7f6e\u3065\u3051\u3067\u3042\u308b\u305f\u3081\u3001\u3054\u304f\u4e00\u90e8\u306e\u8a2d\u5b9a\u60c5\u5831\u3092\u9664\u3044\u3066ramdisk\u4e0a\u3067\u7a3c\u50cd\u3057\u3001shutdown\u3059\u308b\u3068\u3001\u305d\u308c\u307e\u3067\u306e\u5909\u66f4\u306f\u6d88\u3048\u3066\u3057\u307e\u3044\u307e\u3059\uff08\u305d\u306e\u305f\u3081\u3001\u30d6\u30fc\u30c8\u30e1\u30c7\u30a3\u30a2\u306f\u3001\u5b8c\u5168\u306bRead Only\u306a\u30e1\u30c7\u30a3\u30a2\u3067\u3082\u5927\u4e08\u592b\u3067\u3059\uff09\u3002\u3053\u306e\u3088\u3046\u306a\u30c7\u30b6\u30a4\u30f3\u3068\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u305f\u3068\u3048\u3070\u3001Global Zone\u306e\u30db\u30b9\u30c8\u540d\u3092 hostname\u30b3\u30de\u30f3\u30c9\u3067\u5909\u66f4\u3057\u3066\u3082\u3001/etc/nodename\u7b49\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\u3057\u3066\u3082\u518d\u8d77\u52d5\u3059\u308b\u3068\u5143\u306b\u623b\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u4e00\u65b9\u3067\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30a4\u30e1\u30fc\u30b8\u306e\u3088\u3046\u306a\u30b7\u30b9\u30c6\u30e0\u306eshutdown\u5f8c\u3082\u4fdd\u6301\u3059\u308b\u5fc5\u8981\u306e\u3042\u308b\u30c7\u30fc\u30bf\u306f\u3001zfs \u306e zones pool\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u305d\u3053\u3067\u3001Global Zone\u306e\u8a2d\u5b9a\u306e\u4e2d\u3067\u3082\u6c38\u7d9a\u3055\u305b\u305f\u3044\u3082\u306e\u306f\u3001\u3053\u306e zones pool \u306b\u4fdd\u5b58\u3057\u3001Global Zone\u304c\u518d\u8d77\u52d5\u3055\u308c\u308b\u305f\u3073\u306b\u7a3c\u50cd\u4e2d\u306e\u30b7\u30b9\u30c6\u30e0\u306b\u53cd\u6620\u3059\u308c\u3070\u3088\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002SmartOS\u3067\u306f\u3001SMF(Service Management Facility)\u304c\u3001/opt/custome/smf \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306e manifests\u30d5\u30a1\u30a4\u30eb \u306b\u8a18\u8ff0\u3055\u308c\u305f\u30b5\u30fc\u30d3\u30b9\u3092 boot \u6642\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u306eSMF\u3092\u4f7f\u3063\u3066\u8d77\u52d5\u306e\u305f\u3073\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u306a\u304a\u3001/opt \u306f\u3001zones pool \u4e0b\u306e zones/opt \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u306a\u3063\u3066\u3044\u3066\u3001\u30d6\u30fc\u30c8\u30e1\u30c7\u30a3\u30a2\u4ee5\u5916\u306e\u30c7\u30a3\u30b9\u30af\u4e0a\u306b\u3042\u308a\u307e\u3059\u3002\n\nGlobal Zone \u306e\u30db\u30b9\u30c8\u540d\u306e\u8a2d\u5b9a\nGlobal Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u306e\u6c38\u7d9a\u7684\u306a\u8a2d\u5b9a\u306e\u4f8b\u3068\u3057\u3066\u3001\u30db\u30b9\u30c8\u540d\u3092\u8a2d\u5b9a\u3057\u3066\u307f\u307e\u3059\u3002\n\nSMF manifests\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n#mkdir -p /opt/custom/smf\n\n\nSMF manifests\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n/opt/custom/smf \u306b\u4e0b\u8a18\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304d\u307e\u3059\u3002\n\nsmartos_setup.xml\n<?xml version='1.0'?>\n<!DOCTYPE service_bundle SYSTEM '/usr/share/lib/xml/dtd/service_bundle.dtd.1'>\n<service_bundle type='manifest' name='export'>\n  <service name='smartos/setup' type='service' version='0'>\n    <create_default_instance enabled='true'/>\n    <single_instance/>\n    <dependency name='net-physical' grouping='require_all' restart_on='none' type='service'>\n      <service_fmri value='svc:/network/physical'/>\n    </dependency>\n    <dependency name='filesystem' grouping='require_all' restart_on='none' type='service'>\n      <service_fmri value='svc:/system/filesystem/local'/>\n    </dependency>\n    <exec_method name='start' type='method' exec='/opt/custom/share/svc/smartos_setup.sh %m' timeout_seconds='0'/>\n    <exec_method name='stop' type='method' exec='/opt/custom/share/svc/smartos_setup.sh %m' timeout_seconds='60'/>\n    <property_group name='startd' type='framework'>\n      <propval name='duration' type='astring' value='transient'/>\n    </property_group>\n    <stability value='Unstable'/>\n    <template>\n      <common_name>\n        <loctext xml:lang='C'>SmartOS Ad Hoc Setup Script</loctext>\n      </common_name>\n    </template>\n  </service>\n</service_bundle>\n\n\n\u672c\u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u5178\uff1aAdministering the Global Zone:Global Zone Persistence\n\n\u521d\u671f\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8\n\u4e0a\u306emanifests\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u30d6\u30fc\u30c8\u6642\uff08\u3068\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u6642\uff09\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u6307\u5b9a\u3057\u305f/opt/custom/share/svc/smartos_setup.sh\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u30db\u30b9\u30c8\u540d\u3092\"smartos01\"\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\nmkdir -p /opt/custom/share/svc\n\n\nsmartos_setup.xml\n#!/bin/bash\n# Simple Ad Hoc SmartOS Setup Service\n\nset -o xtrace\n\n. /lib/svc/share/smf_include.sh\n\ncd /\nPATH=/usr/sbin:/usr/bin:/opt/custom/bin:/opt/custom/sbin; export PATH\n\ncase \"$1\" in\n'start')\n    #### Insert code to execute on startup here.\n\n    hostname \"smartos01\" && hostname > /etc/nodename\n\n    ;;\n\n'stop')\n    ### Insert code to execute on shutdown here.\n    ;;\n\n*)\n    echo \"Usage: $0 { start | stop }\"\n    exit $SMF_EXIT_ERR_FATAL\n    ;;\nesac\nexit $SMF_EXIT_OK\n\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002\nchmod 700 /opt/custom/share/svc/smartos_setup.sh\n\n\n\u518d\u8d77\u52d5\u3057\u307e\u3059\nreboot\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b SMF \u304c\u3001manifests \u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\n\n\u518d\u8d77\u52d5\u304c\u5b8c\u4e86\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30db\u30b9\u30c8\u540d\u304c smartos01 \u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n\n\n\u30db\u30b9\u30c8\u540d\u306e\u78ba\u8a8d\n# hostname\nsmartos01\n\n\u7d9a\u3051\u3066\u3001SmartOS\u306eKVM\u4e0a\u3067CentOS\u3092\u52d5\u304b\u3057\u307f\u308b\u306b\u306f\u3001SmartOS\u306eKVM\u30b2\u30b9\u30c8\u3068\u3057\u3066CentOS7.1\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u3092\u307f\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001LX Branded Zone\uff08Linux\u30b3\u30f3\u30c6\u30ca\uff09\u3068\u3057\u3066Ubuntu 14.04\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u306b\u306f\u3001SmartOS\u306eLX Branded Zone\uff08Linux\u30b3\u30f3\u30c6\u30ca\uff09\u3092\u52d5\u304b\u3059\u3092\u307f\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n#SmartOS\u3068\u306f\uff1f\n\nSmartOS\u3068\u306f\u3001ZFS + DTrace + Zones \u305d\u3057\u3066\u3001\u306a\u3093\u3068 **KVM\u304c\u4f7f\u3048\u308b**Open **Solaris\u7cfb**\u306eOS\u3067\u3059\u3002Sun Microsystems(\u73fe\u5728\u306eOracle)\u304c\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u5316\u3057\u305f Open Solaris\u304b\u3089\u6d3e\u751f\u3057\u305fillumos\u306e\u30ab\u30fc\u30cd\u30eb\u3092\u4f7f\u3063\u305fOS\u3067\u3059\u3002\u305d\u3057\u3066\u3001**\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u52d5\u304b\u3059\u305f\u3081\u306eOS**\u3068\u3082\u3044\u3048\u308b\u3082\u306e\u3067\u3059\u3002\u307e\u305f\u3001DTrace\u306f\u3001Linux\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306bSystem Tap\u306e\u958b\u767a\u3092\u4fc3\u3059\u3053\u3068\u3068\u306a\u3063\u305f\u52d5\u7684\u30c8\u30ec\u30fc\u30b9\u306e\u672c\u5bb6\u3067\u3059\u3002\n\nZones\u306f\u3001OS\u4eee\u60f3\u5316\u6a5f\u80fd\u3001\u3044\u308f\u3086\u308b\u30b3\u30f3\u30c6\u30ca\u3067\u3059\u3002Oracle(Sun)\u306eSolaris10\u3067\u306f\u3001\u305d\u306e\u3082\u306e\u305a\u3070\u308a\u30b3\u30f3\u30c6\u30ca\u3068\u547c\u3070\u308c\u3066\u3044\u307e\u3057\u305f\u3002Oracle Solaris 11.2\u306b\u306f\u3001\u3055\u3089\u306b\u8907\u6570\u306eOS\u30ab\u30fc\u30cd\u30eb\u304c\u52d5\u4f5c\u3059\u308bKernel Zone\u6a5f\u80fd\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3057\u305f\u3002kernel Zone\u306f\u3001\u8907\u6570\u306eSolaris Kernel\u3092\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3082\u306e\u3067\u3059\u304c\u3001SmartOS\u306f\u3001KVM\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u4ed6\u306eOS\u3092\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001SmartOS\u306f\u4eee\u60f3\u5316\u30c6\u30af\u30ce\u30ed\u30b8\u3068\u3057\u3066\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002\n\n* SmartOS\u306b\u3088\u308bOS\u4eee\u60f3\u5316\uff08\u30b3\u30f3\u30c6\u30ca\uff09\uff1a\n    * SmartOS\u306eZone\uff08SmartMachine\u3068\u547c\u3076\u3088\u3046\u3067\u3059\uff09\n    * Linux\u306eZone\uff08LX Branded Zone\uff09\n* SmartOS\u7d44\u307f\u8fbc\u307f\u306e\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\u30d9\u30fc\u30b9\u306e\u4eee\u60f3\u5316\n    * KVM\n\n\u305d\u3057\u3066\u3001SmartOS\u3067\u306f\u3001zfs\u306esnapshot(clone)\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u975e\u5e38\u306b\u9ad8\u901f\u306b\u4eee\u60f3\u74b0\u5883\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u306f\u3001VMware Player\u3067\u3001SmarOS\u3092\u8d77\u52d5\u3057\u3066\u30ad\u30fc\u30dc\u30fc\u30c9\u8a2d\u5b9a\u3092\uff08\u65e5\u672c\u8a9e\u306b\uff09\u5909\u66f4\u3057\u3001\u30b7\u30ea\u30a2\u30eb\u30b3\u30f3\u30bd\u30fc\u30eb\u3001\u30d3\u30c7\u30aa\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u8a2d\u5b9a\u3001Global Zone\u306e\u6c38\u7d9a\u7684\u306a\u8a2d\u5b9a\uff08\u30db\u30b9\u30c8\u540d\u306e\u5909\u66f4\uff09\u307e\u3067\u306e\u624b\u9806\u3092\u307e\u3068\u3081\u307e\u3057\u305f\u3002\n\uff08\u30b7\u30ea\u30a2\u30eb\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u90e8\u5206\u306f\u4ed6\u306eOS\u306e\u5834\u5408\u306e\u53c2\u8003\u306b\u3082\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002\uff09\n\nSmartOS\u306eKVM\u3092\u4f7f\u3063\u305f\u4eee\u60f3\u30b5\u30fc\u30d0\u306e\u30c7\u30d7\u30ed\u30a4\u306b\u3064\u3044\u3066\u306f\u3001[SmartOS\u306eKVM\u30b2\u30b9\u30c8\u3068\u3057\u3066CentOS7.1\u3092\u52d5\u304b\u3057\u3066\u307f\u308b](http://qiita.com/kutsushitaneko/items/afd3ddbacfe2b7614c19)\u306b\u307e\u3068\u3081\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001LX Branded Zone\u306f\u3001[SmartOS\u306eLX Branded Zone\uff08Linux\u30b3\u30f3\u30c6\u30ca\uff09\u3092\u52d5\u304b\u3059](http://qiita.com/kutsushitaneko/items/7216237d5929e0f715db)\u3092\u307f\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u305d\u308c\u3067\u306f\u3001\u307e\u305aVMware Player\u4e0a\u3067SmartOS\u672c\u4f53\u3092\u52d5\u304b\u3057\u3066\u307f\u307e\u3059\u3002\n\n#VM\u30a4\u30e1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n[wiki.smartos.org\u306eDownload SmartOS\u30da\u30fc\u30b8](https://wiki.smartos.org/display/DOC/Download+SmartOS)\u304b\u3089VMware VM\u30a4\u30e1\u30fc\u30b8\uff08Download SmartOS (VMWare VM)\uff09\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u3001smartos-latest.vmwarevm.tar.bz2\u3067\u3059\u3002\n\n#\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a1\u30a4\u30eb\u306e\u89e3\u51cd\n\u4e0b\u8a18\u306e\u4f8b\u3067\u306fCygwin\u306etar\u3067\u89e3\u51cd\u3057\u3066\u3044\u307e\u3059\u3002\n\n```lang:\u89e3\u51cd\n$ tar -jxvf smartos-latest.vmwarevm.tar.bz2\nSmartOS.vmwarevm/\nSmartOS.vmwarevm/Virtual Disk.vmdk\nSmartOS.vmwarevm/SmartOS.vmsd\nSmartOS.vmwarevm/SmartOS.vmdk\nSmartOS.vmwarevm/SmartOS.nvram\nSmartOS.vmwarevm/SmartOS.vmx\nSmartOS.vmwarevm/smartos.img\n```\n```lang:\n$ tree\n.\n|-- SmartOS.vmwarevm\n|   |-- smartos.img\n|   |-- SmartOS.nvram\n|   |-- SmartOS.vmdk\n|   |-- SmartOS.vmsd\n|   |-- SmartOS.vmx\n|   `-- Virtual Disk.vmdk\n`-- smartos-latest.vmwarevm.tar.bz2\n\n1 directory, 7 files\n```\n\n#VMware Player\u3067\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u958b\u304f\nVMware Player\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/44a83da3-9979-53eb-873d-967f04a49859.png)\n\n\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u958b\u304f\uff08O\uff09\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/dfb2853c-f914-90c0-8b42-fd17af01e6f1.png)\n\n\n\n\u300cSmartOS.vmwarevm\u300d\u30d5\u30a9\u30eb\u30c0\u3092\u958b\u304d\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/61983463-0c14-c19c-6818-b9cf1cef7bd7.png)\n\n\u300cSmartOS.vmx\u300d\u3092\u958b\u304d\u307e\u3059\u3002\n\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/666e0a03-7e6c-0210-d1e9-72ffdd284be9.png)\n\n\n#\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u5b9f\u884c\n\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u518d\u751f\uff08L\uff09\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/5ff239e2-94c2-c4b3-4fea-77b747bac39d.png)\n\n\u300c\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u3001\u4e0a\u306e\u30c0\u30a4\u30a2\u30ed\u30b0\u306e\u3057\u305f\u306b\u300csocket.serial0\u300d\u306b\u95a2\u3057\u3066\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/6ceb812e-50de-f1f0-99ce-dc87c44b0f65.png)\n\n\n\u300cOK\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/7b789933-7663-d80b-7b2f-eeab591a0483.png)\n\nVMware Tools Solaris\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u304b\u805e\u3044\u3066\u304d\u307e\u3059\u3002\nSmartOS\u3067\u306f\u4f7f\u7528\u3067\u304d\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u300c\u5f8c\u3067\u901a\u77e5\u3059\u308b\u300d\u306b\u3059\u308b\u3068\u4eca\u5f8c\u3001\u8d77\u52d5\u3059\u308b\u5ea6\u306b\u805e\u3044\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u3053\u3053\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3057\u307e\u3063\u3066\u3082\u826f\u3044\u3067\u3059\u304c\u3001\u4eee\u306b\u300c\u5f8c\u3067\u901a\u77e5\u3059\u308b\uff08R\uff09\u300d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3068\u3057\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/8f6853e2-e0fd-c574-3336-984e1f332aaf.png)\n\n\u30a6\u30a3\u30f3\u30c9\u30a6\u4e0b\u6bb5\u306e\u300c\u901a\u77e5\u3057\u306a\u3044\u300d\u3082\u30af\u30ea\u30c3\u30af\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/b7fa5ead-9338-3291-2aca-de4a5efd016a.png)\n\n\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u4e2d\uff08\u9ed2\u3044\u90e8\u5206\uff09\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u300cY\u300d\u3092\u5165\u529b\u3057\u3066\u300cEnter\u300d\u3092\u62bc\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\u306a\u304a\u3001\u4e00\u65e6\u3001\u30a6\u30a3\u30f3\u30c9\u30a6\u306e\u4e2d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u30ab\u30fc\u30bd\u30eb\u304c\u30a6\u30a3\u30f3\u30c9\u30a6\u304b\u3089\u51fa\u3089\u308c\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u3092\u5916\u306b\u51fa\u3059\u305f\u3081\u306b\u306f\u3001Ctrl + Alt\u3092\u62bc\u3057\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/b701826b-9295-2a1e-cf4f-ccccc2d344a5.png)\n\nIP\u30a2\u30c9\u30ec\u30b9\u306e\u5165\u529b\u3092\u6c42\u3081\u3089\u308c\u307e\u3059\u3002\u56fa\u5b9aIP\u3092\u5272\u308a\u5f53\u3066\u308b\u5834\u5408\u306fIP\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u307e\u3059\u3002DHCP\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u300cdhcp\u300d\u3068\u5165\u529b\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001dhcp\u3068\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/4ed81a46-569f-1a88-46b0-47d86e1081c0.png)\n\n\u30c7\u30fc\u30bf\u9818\u57df\u3068\u3057\u3066\u4f7f\u7528\u3059\u308bZFS\u30b9\u30c8\u30ec\u30fc\u30b8\u30d7\u30fc\u30eb\u3092\u69cb\u6210\u3059\u308b\uff08\u4eee\u60f3\uff09\u30c7\u30a3\u30b9\u30af\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u300cc0t1d0\u300d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u300cc0t0d0\u300d\u3092\u9078\u3093\u3067\u306f\u3044\u3051\u307e\u305b\u3093\u3002\u3053\u308c\u306f\u3001\u8aad\u307f\u8fbc\u3093\u3060OS\u30a4\u30e1\u30fc\u30b8\u304c\u5165\u3063\u305f\uff08\u4eee\u60f3\uff09\u30c7\u30a3\u30b9\u30af\u305d\u306e\u3082\u306e\u3067\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u4e0a\u66f8\u304d\u3057\u3066\u3057\u307e\u3046\u3068SmartOS\u3092\u8d77\u52d5\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/364f186d-5f5c-eb23-6df8-e58ff6ec2624.png)\n\nroot\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/86c3aa58-544e-48e2-50ff-690f1d416402.png)\n\n\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u78ba\u8a8d\u3067\u3059\u3002\u540c\u3058\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u3082\u3046\u4e00\u5ea6\u5165\u529b\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/e15604ea-1cd4-c839-0e2f-213a91d7dbad.png)\n\n\u5165\u529b\u5185\u5bb9\u306e\u78ba\u8a8d\u3067\u3059\u3002\u300cy\u300d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/b2aa1c50-a6c8-0661-908b-7f288c37349c.png)\n\n\u3053\u308c\u307e\u3067\u306b\u5165\u529b\u3057\u305f\u5185\u5bb9\u304c\u5165\u3063\u305f\u69cb\u6210\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u304b\u3069\u3046\u304b\u306e\u78ba\u8a8d\u3067\u3059\u3002\u300cn\u300d\u3092\u5165\u529b\u3057\u3066\u69cb\u6210\u60c5\u5831\u306e\u5165\u529b\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002\u3061\u306a\u307f\u306b\u3001\u300cy\u300d\u3068\u3059\u308b\u3068\u69cb\u6210\u60c5\u5831\u3092\u7de8\u96c6\u3059\u308b\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u304c\u3001\u3053\u306e\u753b\u9762\u3067vi\u306e\u7de8\u96c6\u30b3\u30de\u30f3\u30c9\uff08\"i\"\u7b49\uff09\u306f\u4f7f\u7528\u3067\u304d\u3066\u7de8\u96c6\u3067\u304d\u308b\u306e\u3067\u3059\u304c\u3001\u7de8\u96c6\u306e\u7d42\u4e86\u306e\u4ed5\u65b9\u304c\u308f\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\":\",\"wq\"\u7b49\u3067\u306f\u629c\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u305a\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u304b\u3089\u524a\u9664\u3057\u3066\u3084\u308a\u76f4\u3057\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3057\u305f\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002\n\u300cn\u300d\u3001\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/d8ca12fd-ebd0-18d4-eeaa-340551aa82d0.png)\n\n\u9078\u629e\u3057\u305f\uff08\u4eee\u60f3\uff09\u30c7\u30a3\u30b9\u30af\u306e\u5185\u5bb9\u304c\u6d88\u53bb\u3055\u308c\u308b\u304c\u826f\u3044\u304b\u3068\u805e\u3044\u3066\u304d\u307e\u3059\u306e\u3067\u3001\u300cy\u300d\u3068\u5165\u529b\u3057\u307e\u3059\u3002\u300cEnter\u300d\u3092\u62bc\u3059\u3068\u6b21\u306e\u753b\u9762\u306b\u5909\u308f\u308a\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/bfb9fcbe-c723-00ac-547b-8b9b04455b49.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/d51010ff-06fa-af68-330c-9bdeacf5d861.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/a5be531f-2133-9f93-8a6a-b7db1947b0a1.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/2caf0696-5d72-5150-4c2d-4cd0dac4fdc8.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/a7792dae-b854-84ec-c566-92979d29635d.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/39a2f502-5143-17fc-15b7-ef71907fe853.png)\n\n\u7121\u4e8b\u3001SmartOS\u304c\u8d77\u52d5\u3057\u307e\u3057\u305f\u3002\nroot\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/f36a3fdb-1829-f5d0-f092-5652de466f81.png)\n\n\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3057\u305f\u3002\n`uname -a`\u3067\u30b7\u30b9\u30c6\u30e0\u60c5\u5831\u3092\u53d6\u3063\u3066\u307f\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/4cf0b4d3-e71c-1fb1-a0b8-ffe3249ed6ba.png)\n\n**SunOS**\u3063\u3066\u3067\u308b\u3093\u3067\u3059\u306d\uff01 \n\n#\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u3092\u5909\u66f4\u3059\u308b\n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u306f\u82f1\u8a9e\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u3092\u304a\u4f7f\u3044\u306e\u5834\u5408\u306f\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001Solaris\u3068\u306f\u8a2d\u5b9a\u65b9\u6cd5\u304c\u7570\u306a\u308a\u307e\u3059\u3002SmartOS\u3067\u306f\u3001Global Zone\u306e \"/\" \u306f\u3001Ramdisk\u3068\u306a\u3063\u3066\u3044\u3066\u3001Global Zone\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u63db\u3048\u3066\u3082 reboot \u3059\u308b\u3068\u6d88\u3048\u3066\u3057\u307e\u3044\u307e\u3059\u3002SmartOS\u3067\u306f\u3001Global Zone\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u306f\u3001/usbkey \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n```lang:\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u5909\u66f4\uff08\u65e5\u672c\u8a9e\u3078\uff09\necho \"default_keymap=uk\" >>/usbkey/config\nreboot\n```\n\u3053\u3053\u3067\u3001\u65e5\u672c\u8a9e\u30ad\u30fc\u30dc\u30fc\u30c9\u3067\u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u300c\"\u300d\u3092\u5165\u529b\u3059\u308b\u306b\u306f\u3001\u300c*\u300d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001Shift\u3092\u62bc\u3057\u306a\u304c\u3089\u300c:\u300d\u3067\u3059\u3002\u300c_\u300d\u306f\u3001\u300c-\u300d(\u30cf\u30a4\u30d5\u30f3\u3001\u30c0\u30c3\u30b7\u30e5)\u3001\u3064\u307e\u308a\u300c0(\u30bc\u30ed)\u300d\u306e\u53f3\u96a3\u3067\u3059\u3002\n\"=\"\u3092\u5165\u529b\u3059\u308b\u306b\u306f\u3001\"^\"\u3092\u62bc\u3057\u307e\u3059\u3002\n\n\u518d\u8d77\u52d5\u3055\u308c\u308b\u3068\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u65e5\u672c\u8a9e\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002\n\u4ed6\u306e\u30ad\u30fc\u30dc\u30fc\u30c9\u30ec\u30a4\u30a2\u30a6\u30c8\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001`/usr/share/lib/keytables/type_6`\u3092`ls`\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n#\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306b\u95a2\u3059\u308b\u30a8\u30e9\u30fc\u3092\u4fee\u6b63\u3057\u3066\u3001\u30b7\u30ea\u30a2\u30eb\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u4f7f\u3048\u308b\u3088\u3046\u306b\u8a2d\u5b9a\n\nSmartOS\u306e\u521d\u56de\u8d77\u52d5\u6642\u3001\u30d1\u30ef\u30fc\u30aa\u30d5\u5f8c\u306e\u30d1\u30ef\u30fc\u30aa\u30f3\u6642\u306b\u4ee5\u4e0b\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/c71a3823-d8f9-d1f8-082c-5b51c6690e03.png)\n\n\u3053\u306e\u554f\u984c\u3092\u4fee\u6b63\u3057\u307e\u3059\u3002\n[\u30d1\u30ef\u30fc\u30aa\u30f3\u306e\u307e\u307e\u306e\u5834\u5408]\nVMware Player\u306e\u4e0a\u90e8\u306e\u300cPlayer(p)\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u300c\u7ba1\u7406(M)\u300d\u3001\u300c\u4eee\u60f3\u30de\u30b7\u30f3\u8a2d\u5b9a(S)...\u300d\u3092\u9078\u3073\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/79982604-0694-2e55-26b5-4e441576e06c.png)\n\n[\u30d1\u30ef\u30fc\u30aa\u30d5\u3057\u3066\u3044\u308b\u5834\u5408]\nVMware Player\u306e\u5de6\u5074\u300c\u30db\u30fc\u30e0\u300d\u306e\u4e0b\u306e\u300cSmartOS\u300d\u3092\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/c51a543e-53dd-690f-87df-5b54db9e0412.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/a627bf90-a5ad-7689-327b-0d143064bf44.png)\n\n\u300c\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/8f737eaf-989b-4e7f-1510-269d354c8634.png)\n\n\n\u540d\u524d\u4ed8\u304d\u30d1\u30a4\u30d7\u306e\u540d\u524d\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u3001\u300c\u63a5\u7d9a\u5148\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u3059\u300d\u3092\u9078\u629e\u3057\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u300c\u63a5\u7d9a\u6e08\u307f(C)\u300d\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u300cOK\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/f34feff6-eee2-9129-01b0-3d1506ee2667.png)\n\n## Named Pipe TCP Proxy\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\n[Named Pipe TCP Proxy Utility](http://shvechkov.tripod.com/nptp.html)\u304b\u3089\"nptp_setup.zip\"\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u89e3\u51cd\u3059\u308b\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9 \"ntpt.exe\"\u304c\u73fe\u308c\u307e\u3059\u306e\u3067\u3001\u3053\u308c\u3092\u8d77\u52d5\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002\u7279\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306e\u8a2d\u5b9a\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n## Named Pipe TCP Proxy\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\nNamed Pipe TCP Proxy\u3092\u8d77\u52d5\u3057\u3001\u300cEdit\u300d\u3001\u300cNew\u300d\u3092\u9078\u629e\u3057\u3001\u30c0\u30a4\u30a2\u30ed\u30b0\u3067\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5165\u529b\u3057\u3066\u3001\u300cSave\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/da4fe51d-0590-1cba-d707-3d12fc007893.png)\n\n\u300cSave\u300d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u753b\u9762\u3068\u306a\u308a\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/23509cfc-ba06-a7a1-6264-0b9cefc0ea01.png)\n\n\n\n##TeraTerm\uff08\u7b49\u306etelnet\u7aef\u672b\uff09\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u3066\u307f\u307e\u3059\u3002\n\nTera Term\u3092\u8d77\u52d5\u3057\u3066\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002\n\u300c\u30db\u30b9\u30c8(T)\u300d\u306f\u3001\u30ed\u30fc\u30ab\u30eb\u30db\u30b9\u30c8\u3067\u3059\u306e\u3067\"127.0.0.1\"\u3002\n\u30b5\u30fc\u30d3\u30b9\u306f\u3001\"Telnet\"\u3092\u9078\u629e\u3057\u307e\u3059\u3002\nTCP\u30dd\u30fc\u30c8\u306f\u3001Named Pipe TCP Proxy\u3067\u8a2d\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u3067\u3059\u3002\n\u3053\u3053\u3067\u306f\u3001\"1001\"\u3067\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/c1d0119f-0898-d1a3-a3cd-9a45263adc26.png)\n\n\n\nSmartOS\u306e\u30b3\u30f3\u30bd\u30fc\u30eb\u306b\u63a5\u7d9a\u3055\u308c\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/cc29cd3d-0f0a-44e8-ec0f-bcc234d3d80d.png)\n\n#Global Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u306e\u8a2d\u5b9a\u5909\u66f4\n##Global Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u3068\u306f\uff1f\nSmartOS\u306f\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u3092\u52d5\u304b\u3059\u305f\u3081\u306eOS\u3067\u3059\u3002Zone\uff08SmartOS\u306e\u30b3\u30f3\u30c6\u30ca\uff1aSmartMachine\u3068\u3082\u547c\u3070\u308c\u308b\uff09\u3084LX Branded Zone\uff08Linux \u30b3\u30f3\u30c6\u30ca\uff09\u3068\u3044\u3063\u305f\u30b3\u30f3\u30c6\u30ca\u304c\u52d5\u4f5c\u3059\u308b\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3042\u308b\u3068\u540c\u6642\u306bKVM\u306b\u3088\u308b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u4eee\u60f3\u5316\u3092\u5b9f\u73fe\u3059\u308b\u30cf\u30a4\u30d1\u30fc\u30d0\u30a4\u30b6\u3067\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u4eee\u60f3\u5316\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3068\u3057\u3066\u306eSmartOS\u3092Global Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u3068\u547c\u3073\u307e\u3059\u3002\u6c4e\u7528\u306e\u30aa\u30da\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3068\u7570\u306a\u308a\u3001\u3053\u306eGlobal Zone\u4e0a\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u3092\u4fdd\u6301\u3059\u308b\u3053\u3068\u306f\u60f3\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u3001Zone \u4e0a\u3067\u7a3c\u50cd\u3055\u305b\u307e\u3059\u3002\n\n##Global Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u306e\u6c38\u7d9a\u7684\u306a\u8a2d\u5b9a\nGlobal Zone\u306f\u3001\u300cGlobal Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u3068\u306f\uff1f\u300d\u306b\u3042\u308b\u3088\u3046\u306a\u4f4d\u7f6e\u3065\u3051\u3067\u3042\u308b\u305f\u3081\u3001\u3054\u304f\u4e00\u90e8\u306e\u8a2d\u5b9a\u60c5\u5831\u3092\u9664\u3044\u3066ramdisk\u4e0a\u3067\u7a3c\u50cd\u3057\u3001shutdown\u3059\u308b\u3068\u3001\u305d\u308c\u307e\u3067\u306e\u5909\u66f4\u306f\u6d88\u3048\u3066\u3057\u307e\u3044\u307e\u3059\uff08\u305d\u306e\u305f\u3081\u3001\u30d6\u30fc\u30c8\u30e1\u30c7\u30a3\u30a2\u306f\u3001\u5b8c\u5168\u306bRead Only\u306a\u30e1\u30c7\u30a3\u30a2\u3067\u3082\u5927\u4e08\u592b\u3067\u3059\uff09\u3002\u3053\u306e\u3088\u3046\u306a\u30c7\u30b6\u30a4\u30f3\u3068\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u305f\u3068\u3048\u3070\u3001Global Zone\u306e\u30db\u30b9\u30c8\u540d\u3092 `hostname`\u30b3\u30de\u30f3\u30c9\u3067\u5909\u66f4\u3057\u3066\u3082\u3001`/etc/nodename`\u7b49\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\u3057\u3066\u3082\u518d\u8d77\u52d5\u3059\u308b\u3068\u5143\u306b\u623b\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u4e00\u65b9\u3067\u3001\u4eee\u60f3\u30de\u30b7\u30f3\u306e\u30a4\u30e1\u30fc\u30b8\u306e\u3088\u3046\u306a\u30b7\u30b9\u30c6\u30e0\u306eshutdown\u5f8c\u3082\u4fdd\u6301\u3059\u308b\u5fc5\u8981\u306e\u3042\u308b\u30c7\u30fc\u30bf\u306f\u3001zfs \u306e zones pool\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u305d\u3053\u3067\u3001Global Zone\u306e\u8a2d\u5b9a\u306e\u4e2d\u3067\u3082\u6c38\u7d9a\u3055\u305b\u305f\u3044\u3082\u306e\u306f\u3001\u3053\u306e zones pool \u306b\u4fdd\u5b58\u3057\u3001Global Zone\u304c\u518d\u8d77\u52d5\u3055\u308c\u308b\u305f\u3073\u306b\u7a3c\u50cd\u4e2d\u306e\u30b7\u30b9\u30c6\u30e0\u306b\u53cd\u6620\u3059\u308c\u3070\u3088\u3044\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002SmartOS\u3067\u306f\u3001SMF(Service Management Facility)\u304c\u3001/opt/custome/smf \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4e0b\u306e manifests\u30d5\u30a1\u30a4\u30eb \u306b\u8a18\u8ff0\u3055\u308c\u305f\u30b5\u30fc\u30d3\u30b9\u3092 boot \u6642\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u3053\u306eSMF\u3092\u4f7f\u3063\u3066\u8d77\u52d5\u306e\u305f\u3073\u306b\u5fc5\u8981\u306a\u8a2d\u5b9a\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u306a\u304a\u3001/opt \u306f\u3001zones pool \u4e0b\u306e zones/opt \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u306a\u3063\u3066\u3044\u3066\u3001\u30d6\u30fc\u30c8\u30e1\u30c7\u30a3\u30a2\u4ee5\u5916\u306e\u30c7\u30a3\u30b9\u30af\u4e0a\u306b\u3042\u308a\u307e\u3059\u3002\n\n##Global Zone \u306e\u30db\u30b9\u30c8\u540d\u306e\u8a2d\u5b9a\nGlobal Zone\uff08\u5927\u57df\u30be\u30fc\u30f3\uff09\u306e\u6c38\u7d9a\u7684\u306a\u8a2d\u5b9a\u306e\u4f8b\u3068\u3057\u3066\u3001\u30db\u30b9\u30c8\u540d\u3092\u8a2d\u5b9a\u3057\u3066\u307f\u307e\u3059\u3002\n\n### SMF manifests\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u4f5c\u6210\n```lang:\n#mkdir -p /opt/custom/smf\n```\n\n### SMF manifests\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\n/opt/custom/smf \u306b\u4e0b\u8a18\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u7f6e\u304d\u307e\u3059\u3002\n\n```lang:smartos_setup.xml\n<?xml version='1.0'?>\n<!DOCTYPE service_bundle SYSTEM '/usr/share/lib/xml/dtd/service_bundle.dtd.1'>\n<service_bundle type='manifest' name='export'>\n  <service name='smartos/setup' type='service' version='0'>\n    <create_default_instance enabled='true'/>\n    <single_instance/>\n    <dependency name='net-physical' grouping='require_all' restart_on='none' type='service'>\n      <service_fmri value='svc:/network/physical'/>\n    </dependency>\n    <dependency name='filesystem' grouping='require_all' restart_on='none' type='service'>\n      <service_fmri value='svc:/system/filesystem/local'/>\n    </dependency>\n    <exec_method name='start' type='method' exec='/opt/custom/share/svc/smartos_setup.sh %m' timeout_seconds='0'/>\n    <exec_method name='stop' type='method' exec='/opt/custom/share/svc/smartos_setup.sh %m' timeout_seconds='60'/>\n    <property_group name='startd' type='framework'>\n      <propval name='duration' type='astring' value='transient'/>\n    </property_group>\n    <stability value='Unstable'/>\n    <template>\n      <common_name>\n        <loctext xml:lang='C'>SmartOS Ad Hoc Setup Script</loctext>\n      </common_name>\n    </template>\n  </service>\n</service_bundle>\n```\n\u672c\u30d5\u30a1\u30a4\u30eb\u306e\u51fa\u5178\uff1a[Administering the Global Zone:Global Zone Persistence](https://wiki.smartos.org/display/DOC/Administering+the+Global+Zone)\n\n### \u521d\u671f\u8a2d\u5b9a\u30b9\u30af\u30ea\u30d7\u30c8\n\u4e0a\u306emanifests\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u3067\u30d6\u30fc\u30c8\u6642\uff08\u3068\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u6642\uff09\u306b\u8d77\u52d5\u3059\u308b\u3088\u3046\u306b\u6307\u5b9a\u3057\u305f`/opt/custom/share/svc/smartos_setup.sh`\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u30db\u30b9\u30c8\u540d\u3092\"smartos01\"\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```lang:\nmkdir -p /opt/custom/share/svc\n```\n\n```lang:smartos_setup.xml\n#!/bin/bash\n# Simple Ad Hoc SmartOS Setup Service\n\nset -o xtrace\n\n. /lib/svc/share/smf_include.sh\n\ncd /\nPATH=/usr/sbin:/usr/bin:/opt/custom/bin:/opt/custom/sbin; export PATH\n\ncase \"$1\" in\n'start')\n    #### Insert code to execute on startup here.\n\n    hostname \"smartos01\" && hostname > /etc/nodename\n\n    ;;\n\n'stop')\n    ### Insert code to execute on shutdown here.\n    ;;\n\n*)\n    echo \"Usage: $0 { start | stop }\"\n    exit $SMF_EXIT_ERR_FATAL\n    ;;\nesac\nexit $SMF_EXIT_OK\n```\n\n\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u5b9f\u884c\u6a29\u9650\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002\n\n```lang:\nchmod 700 /opt/custom/share/svc/smartos_setup.sh\n```\n\n### \u518d\u8d77\u52d5\u3057\u307e\u3059\n`reboot`\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b SMF \u304c\u3001manifests \u3092\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/c0a8db1c-be22-289d-f8e6-870255f1fabc.png)\n\n\u518d\u8d77\u52d5\u304c\u5b8c\u4e86\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30db\u30b9\u30c8\u540d\u304c smartos01 \u306b\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/74534/8f8194b9-535f-c062-46be-159032b32e8b.png)\n\n### \u30db\u30b9\u30c8\u540d\u306e\u78ba\u8a8d\n```lang:\n# hostname\nsmartos01\n```\n\n\u7d9a\u3051\u3066\u3001SmartOS\u306eKVM\u4e0a\u3067CentOS\u3092\u52d5\u304b\u3057\u307f\u308b\u306b\u306f\u3001[SmartOS\u306eKVM\u30b2\u30b9\u30c8\u3068\u3057\u3066CentOS7.1\u3092\u52d5\u304b\u3057\u3066\u307f\u308b](http://qiita.com/kutsushitaneko/items/afd3ddbacfe2b7614c19)\u3092\u307f\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\u307e\u305f\u3001LX Branded Zone\uff08Linux\u30b3\u30f3\u30c6\u30ca\uff09\u3068\u3057\u3066Ubuntu 14.04\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u306b\u306f\u3001[SmartOS\u306eLX Branded Zone\uff08Linux\u30b3\u30f3\u30c6\u30ca\uff09\u3092\u52d5\u304b\u3059](http://qiita.com/kutsushitaneko/items/7216237d5929e0f715db)\u3092\u307f\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002\n\n", "tags": ["smartos", "Solaris", "KVM", "DTrace", "vmware_player"]}