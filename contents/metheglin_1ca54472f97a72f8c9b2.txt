{"context": " More than 1 year has passed since last update.\n\nGoal\n* \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3066Apache SSL\u901a\u4fe1\u3092\u8a31\u53ef\u3057\u305f\u3082\u306e\u306eapache\u306e\u8d77\u52d5\u6642\u306bSSLCertificateKeyFile\u3067\u6307\u5b9a\u3057\u305f\u79d8\u5bc6\u9375\u306epass phrase\u3092\u3082\u3068\u3081\u3089\u308c\u308b\n* \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u767a\u884c\u306f\u3059\u3079\u3066\u5b8c\u4e86\u3057\u305f\u72b6\u614b\u3067\u3001\u3042\u3068\u304b\u3089no password\u3067apache\u518d\u8d77\u52d5\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n\n\nPreparation\nSSL\u901a\u4fe1\u5c0e\u5165\u306e\u305f\u3081\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u81ea\u5df1\u7f72\u540d\u3067\u4f5c\u6210\u3057\u305f\u624b\u9806\n* SSL\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u4f5c\u6210\n\nManual\n\n\u79d8\u5bc6\u9375\u304b\u3089\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u89e3\u9664\n## root user\n\nDOMAIN_NAME='yourhost.com'\necho ${DOMAIN_NAME}\n\ncd /usr/local/apache/ssl\n  # /usr/local/apache/ssl\n  #                   |- cert\n  #                   |- key\n  #                      |- ${DOMAIN_NAME}_key.pem\n  #                   |- work\n\n## \n## \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306a\u3057\u306e\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\n## \u65e2\u5b58\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3042\u308a\u79d8\u5bc6\u9375\u3092openssl rsa\u306b\u6e21\u3059\u3060\u3051\u3067\u3088\u3044\n## CSR\u3084\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u3064\u304f\u308a\u306a\u304a\u3059\u5fc5\u8981\u306f\u306a\u3044\n## \n\nopenssl rsa -in key/${DOMAIN_NAME}_key.pem -out key/${DOMAIN_NAME}_key.nopass.pem\n  # \u79d8\u5bc6\u9375\u4f5c\u6210\u6642\u306b\u6307\u5b9a\u3057\u305f\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\nchmod 700 key/${DOMAIN_NAME}_key.nopass.pem\n\n\nApache Setting\n## \n## VirtualHost\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u5185\u306b\u8a18\u8f09\u3057\u3066\u3044\u308b\u79d8\u5bc6\u9375\u3078\u306e\u30d1\u30b9\u3092\u5909\u66f4\n## \nSSLCertificateKeyFile \"/usr/local/apache/ssl/key/usvn.agile.reivo.co.jp_key.nopass.pem\"\n\n/usr/local/apache/bin/apachectl configtest\n  # config syntax check\n/usr/local/apache/bin/apachectl stop\n/usr/local/apache/bin/apachectl start\nps -ef | grep httpd\n\n\nReferences\n\u4ed6\u306b\u3082\u3084\u308a\u304b\u305f\u304c\u3042\u308b\u3089\u3057\u3044\n* https://jp.globalsign.com/support/faq/93.html\n# Goal\n\n```\n* \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u4f5c\u6210\u3057\u3066Apache SSL\u901a\u4fe1\u3092\u8a31\u53ef\u3057\u305f\u3082\u306e\u306eapache\u306e\u8d77\u52d5\u6642\u306bSSLCertificateKeyFile\u3067\u6307\u5b9a\u3057\u305f\u79d8\u5bc6\u9375\u306epass phrase\u3092\u3082\u3068\u3081\u3089\u308c\u308b\n* \u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u306e\u767a\u884c\u306f\u3059\u3079\u3066\u5b8c\u4e86\u3057\u305f\u72b6\u614b\u3067\u3001\u3042\u3068\u304b\u3089no password\u3067apache\u518d\u8d77\u52d5\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\n```\n\n# Preparation\n\nSSL\u901a\u4fe1\u5c0e\u5165\u306e\u305f\u3081\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u81ea\u5df1\u7f72\u540d\u3067\u4f5c\u6210\u3057\u305f\u624b\u9806\n* [SSL\u81ea\u5df1\u7f72\u540d\u8a3c\u660e\u66f8\u4f5c\u6210](http://qiita.com/metheglin/items/22a3b7ca4572a7b772d0)\n\n# Manual\n\n## \u79d8\u5bc6\u9375\u304b\u3089\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u89e3\u9664\n\n```bash\n## root user\n\nDOMAIN_NAME='yourhost.com'\necho ${DOMAIN_NAME}\n\ncd /usr/local/apache/ssl\n  # /usr/local/apache/ssl\n  #                   |- cert\n  #                   |- key\n  #                      |- ${DOMAIN_NAME}_key.pem\n  #                   |- work\n\n## \n## \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u306a\u3057\u306e\u79d8\u5bc6\u9375\u3092\u4f5c\u6210\n## \u65e2\u5b58\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3042\u308a\u79d8\u5bc6\u9375\u3092openssl rsa\u306b\u6e21\u3059\u3060\u3051\u3067\u3088\u3044\n## CSR\u3084\u30b5\u30fc\u30d0\u8a3c\u660e\u66f8\u3092\u3064\u304f\u308a\u306a\u304a\u3059\u5fc5\u8981\u306f\u306a\u3044\n## \n\nopenssl rsa -in key/${DOMAIN_NAME}_key.pem -out key/${DOMAIN_NAME}_key.nopass.pem\n  # \u79d8\u5bc6\u9375\u4f5c\u6210\u6642\u306b\u6307\u5b9a\u3057\u305f\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\nchmod 700 key/${DOMAIN_NAME}_key.nopass.pem\n```\n\n## Apache Setting\n\n```\n## \n## VirtualHost\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u5185\u306b\u8a18\u8f09\u3057\u3066\u3044\u308b\u79d8\u5bc6\u9375\u3078\u306e\u30d1\u30b9\u3092\u5909\u66f4\n## \nSSLCertificateKeyFile \"/usr/local/apache/ssl/key/usvn.agile.reivo.co.jp_key.nopass.pem\"\n```\n\n```\n/usr/local/apache/bin/apachectl configtest\n  # config syntax check\n/usr/local/apache/bin/apachectl stop\n/usr/local/apache/bin/apachectl start\nps -ef | grep httpd\n```\n\n# References\n\n\u4ed6\u306b\u3082\u3084\u308a\u304b\u305f\u304c\u3042\u308b\u3089\u3057\u3044\n* https://jp.globalsign.com/support/faq/93.html", "tags": ["SSL", "Apache", "openssl"]}