{"context": "\n\n\u5148\u306b\u7d50\u8ad6\n\nSwift\u306estatic\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u306f\u3061\u3087\u3063\u3068\u3057\u305f\u30b7\u30f3\u30d7\u30eb\u306a\u6a5f\u80fd\u306b\u898b\u3048\u308b\u3051\u3069\u4fbf\u5229\u3067\u6df1\u3044\nKotlin, TypeScript, Java \u3067\u540c\u3058\u3053\u3068\u3092\u3059\u308b\u3068\u5197\u9577\u3067\u9593\u63a5\u7684\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3057\u307e\u3046\nTypeScript\u306estatic\u30e1\u30bd\u30c3\u30c9\u6ce8\u5165\u306f\u72ec\u7279\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3067\u9762\u767d\u3044\n\u63d0\u793a\u3059\u308bJava\u306e\u5b9f\u88c5\u306f\u300cT \u3092 new \u3059\u308b\u300d\u65b9\u6cd5\u3067\u3082\u3042\u308b\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\nScala \u306f\u9593\u63a5\u7684\u3067\u306f\u3042\u308b\u3082\u306e\u306eKotlin\u3088\u308a\u826f\u3044\u5f62\u3067\u304b\u3051\u308b\nSwift\u306fScala\u306e\u5f62\u3092\u3055\u3089\u306b\u3088\u308a\u826f\u304f\u3057\u305f\u5f62\u3068\u307f\u306a\u3059\u3053\u3068\u304c\u3067\u304d\u308b\nC++\u306fSwift\u3068\u540c\u3058\u4e8b\u304c\u3067\u304d\u308b\u304c\u308f\u304b\u308a\u306b\u304f\u3044\u66f8\u304d\u65b9\u306b\u306a\u3063\u3066\u3057\u307e\u3046\n\n\n\u5c0e\u5165\nSwift\u306fprotocol\u3068\u3044\u3046\u6a5f\u80fd\u3067\u3001Java\u306einterface\u306e\u3088\u3046\u306b\u578b\u304c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u3082\u3064\u4e8b\u3092\u5f37\u5236\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3057\u3066Swift\u3067\u306f\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u3068\u3057\u3066\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3060\u3051\u3067\u306f\u306a\u304f\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3092\u3082\u3064\u4e8b\u3092\u5f37\u5236\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u306estatic\u30e1\u30bd\u30c3\u30c9\u3092\u5f37\u5236\u3059\u308b\u6a5f\u80fd\u306b\u516c\u5f0f\u306a\u540d\u524d\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3053\u308c\u3092\u300cstatic\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u300d\u3068\u547c\u3076\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u7406\u8ad6\u7684\u306b\u306fHaskell\u306b\u304a\u3051\u308b\u578b\u30af\u30e9\u30b9\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3042\u308a\u65b0\u3057\u3044\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30af\u30e9\u30b9\u30d9\u30fc\u30b9\u306e\u30c7\u30b6\u30a4\u30f3\u3092\u30d9\u30fc\u30b9\u306b\u3053\u308c\u3092\u53d6\u308a\u8fbc\u3093\u3060Swift\u306e\u4ed5\u69d8\u306f\u306a\u304b\u306a\u304b\u5f37\u529b\u3067\u3042\u308b\u3068\u50d5\u306f\u8003\u3048\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u67b6\u7a7a\u306e\u8981\u4ef6\u3092\u8003\u3048\u305f\u4e0a\u3067\u3001\u305d\u308c\u3092static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u3092\u6d3b\u7528\u3057\u3066\u5b9f\u88c5\u3059\u308b\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u540c\u7b49\u306e\u30b3\u30fc\u30c9\u3092\u305d\u306e\u4ed6\u306e\u8a00\u8a9e\u3067\u3082\u4f3c\u305f\u3088\u3046\u306a\u5f62\u3067\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3001\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u3069\u3046\u3044\u3046\u6a5f\u80fd\u306a\u306e\u304b\u3092\u308f\u304b\u308a\u3084\u3059\u304f\u3057\u307e\u3059\u3002\n\u307e\u305f\u3001\u540c\u3058\u76ee\u7684\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8907\u6570\u306e\u8a00\u8a9e\u3067\u69cb\u6210\u3059\u308b\u3053\u3068\u3067\u3001\u6bcd\u8a9e\u306e\u7570\u306a\u308b\u30d7\u30ed\u30b0\u30e9\u30de\u306e\u65b9\u306b\u3001\u4ed6\u306e\u8a00\u8a9e\u3092\u7d39\u4ecb\u3059\u308b\u52b9\u679c\u3082\u3042\u3063\u305f\u3089\u826f\u3044\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\u3068\u3053\u308d\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067 Java \u3092\u53d6\u308a\u4e0a\u3052\u3066\u3044\u308b\u7406\u7531\u3068\u3057\u3066\u306f\u3001\u5b9a\u671f\u7684\u306b \u300c T \u3092 new \u3057\u305f\u3044 \u300d\u3068\u3044\u3046\u8a71\u984c\u3092\u898b\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u305d\u306e\u8a71\u984c\u306b\u76f4\u7d50\u3057\u3066\u3044\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u5f8c\u8ff0\u3002\n\n\u8981\u4ef6\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u67b6\u7a7a\u306e\u8981\u4ef6\u3092\u8003\u3048\u307e\u3059\u3002\n\n\u6587\u5b57\u5217\u304b\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b\u30bf\u30b9\u30af\u3092\u8003\u3048\u307e\u3059\u3002JSON\u304c\u4e00\u822c\u7684\u3067\u3059\u304c\u3001JSON\u306f\u4f8b\u3068\u3057\u3066\u306f\u8907\u96d1\u306b\u3059\u304e\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u30b7\u30f3\u30d7\u30eb\u306b\u30b9\u30e9\u30c3\u30b7\u30e5\u3092\u533a\u5207\u308a\u306e\u6587\u5b57\u5217\u3092\u8003\u3048\u307e\u3059\u3002\n\u30a8\u30b9\u30b1\u30fc\u30d7\u3084\u30a8\u30e9\u30fc\u51e6\u7406\u306f\u7121\u8996\u3057\u307e\u3059\u3002\nload \u95a2\u6570\u3092\u5b9f\u88c5\u3057\u3001\u3053\u308c\u306b\u6587\u5b57\u5217\u3092\u6e21\u3059\u3068\u30c7\u30b3\u30fc\u30c9\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\u30c7\u30b3\u30fc\u30c9\u51e6\u7406\u3068\u578b\u30b7\u30b9\u30c6\u30e0\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u5fc5\u8981\u306a\u51e6\u7406\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u30b3\u30f3\u30d1\u30a4\u30e9\u30c1\u30a7\u30c3\u30af\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u7279\u5b9a\u306e\u578b\u306b\u5bfe\u3059\u308b\u30c7\u30b3\u30fc\u30c9\u51e6\u7406\u306e\u5b9f\u88c5\u5fd8\u308c\u3092\u9632\u304e\u307e\u3059\u3002\n\u30c7\u30b3\u30fc\u30c9\u5bfe\u8c61\u306e\u578b\u306f\u4e8b\u524d\u306b\u5b9a\u7fa9\u6e08\u307f\u3068\u3057\u307e\u3059\u3002\u3059\u306a\u308f\u3061\u3001\u8a00\u8a9e\u7d44\u307f\u8fbc\u307f\u306e\u578b\u3084\u3001\u4e8b\u524d\u5b9a\u7fa9\u6e08\u307f\u306e\u578b\u306e\u30b3\u30fc\u30c9\u3092\u60f3\u5b9a\u3057\u3001\u305d\u308c\u3092\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u7121\u3057\u306b\u8ffd\u8a18\u306e\u307f\u3067\u30c7\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\nEmployee\u578b\u306e\u914d\u5217\u3092\u3082\u3064Company\u578b\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u884c\u3044\u307e\u3059\u3002\n\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c9\u306b\u3064\u3044\u3066\u306f\u3001\u30c7\u30b3\u30fc\u30c9\u3067\u304d\u308b\u578b\u306e\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u4e00\u822c\u5316\u3057\u3066\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n\nSwift\u3067\u306e\u5b9f\u88c5\n\u30d0\u30fc\u30b8\u30e7\u30f3: Apple Swift version 3.0.2 (swiftlang-800.0.63 clang-800.0.42.1)\nSwift\u3067\u306e\u5b9f\u88c5\u3092\u793a\u3057\u307e\u3059\u3002\u6bb5\u968e\u7684\u306b\u5b9f\u88c5\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u5bfe\u8c61\u3068\u306a\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u578b\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  swift\n\nstruct Employee: CustomStringConvertible {\n    var name: String\n    var age: Int\n    init(name: String, age: Int) {\n        self.name = name\n        self.age = age\n    }\n\n    var description: String {\n        return \"(name=\\(name), age=\\(age))\"\n    }\n}\n\nstruct Company: CustomStringConvertible {\n    var name: String\n    var employees: [Employee]\n    init(name: String, employees: [Employee]) {\n        self.name = name\n        self.employees = employees\n    }\n\n    var description: String {\n        return \"(name=\\(name), employees=\\(employees))\"\n    }\n}\n\nEmployee\u578b\u3068Company\u578b\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u3053\u306eCompany\u578b\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u306e\u304c\u76ee\u6a19\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u524d\u63d0\u3068\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u30af\u30e9\u30b9\u5b9a\u7fa9\u90e8\u306f\u4ee5\u964d\u7de8\u96c6\u306f\u3057\u307e\u305b\u3093\u3002\u6b21\u306b\u3001load\u95a2\u6570\u3092\u793a\u3057\u307e\u3059\u3002\n//  swift\n\nfunc load<T>(string: String) -> T {\n    let tokens = string.components(separatedBy: \"/\")\n    let iterator = AnyIterator<String>(tokens.makeIterator())\n    return load(iterator: iterator)\n}\n\nfunc load<T>(iterator: AnyIterator<String>) -> T {\n    //  \u3053\u3053\u306bIterator\u304b\u3089T\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\n}\n\n\n1\u3064\u3081\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306e\u304c\u76ee\u6a19\u306e load \u95a2\u6570\u3067\u3059\u3002\u5f15\u6570\u3068\u3057\u3066\u6587\u5b57\u5217\u3092\u53d7\u3051\u53d6\u308a\u3001\u8fd4\u308a\u5024\u3068\u3057\u3066\u30c7\u30b3\u30fc\u30c9\u7d50\u679c\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u308b\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u3068\u3059\u308b\u3053\u3068\u3067\u3001T\u578b\u3092\u30c7\u30b3\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u5b9f\u88c5\u3067\u306f\u3001\u6587\u5b57\u5217\u3092\u30b9\u30e9\u30c3\u30b7\u30e5\u3067\u533a\u5207\u3063\u3066 Iterator \u306b\u3057\u307e\u3059\u3002\u3053\u306e Iterator \u304b\u3089 T \u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u51e6\u7406\u306f 2\u3064\u3081\u306e load \u3068\u3057\u3066\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\u3042\u3068\u306f\u3053\u306e\u4e2d\u8eab\u3092\u66f8\u3051\u3070\u5b8c\u6210\u3067\u3059\u3002\n\u3053\u306e\u30c7\u30b3\u30fc\u30c9\u51e6\u7406\u306f\u578b T \u306e\u5b9f\u4f53\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u51e6\u7406\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u578b\u3054\u3068\u306b\u7570\u306a\u308b\u51e6\u7406\u3068\u3044\u3048\u3070static\u30e1\u30bd\u30c3\u30c9\u3060\u3068\u3044\u3046\u4e8b\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  swift\n\nprotocol Loadable {\n    static func load(iterator: AnyIterator<String>) -> Self\n}\n\n//{}\n\n\u3053\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u3001 Loadable \u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u6e80\u305f\u3059\u578b\u306f\u3001 Iterator \u3092\u53d7\u3051\u53d6\u3063\u3066\u81ea\u8eab\u306e\u578b\u3092\u8fd4\u3059static\u30e1\u30bd\u30c3\u30c9 load \u3092\u6301\u3064\u4e8b\u304c\u5236\u7d04\u3055\u308c\u307e\u3059\u3002 Self \u306f\u81ea\u8eab\u306e\u578b\u3092\u793a\u3059\u7279\u5225\u306a\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u3059\u3002\u3055\u3066\u3001\u3053\u308c\u3092\u5b9a\u7fa9\u3059\u308c\u3070\u3001\u5148\u7a0b\u306e load \u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u88c5\u306f\u7c21\u5358\u306b\u5b8c\u6210\u3057\u307e\u3059\u3002\n//  swift\n\nfunc load<T: Loadable>(string: String) -> T {\n    let tokens = string.components(separatedBy: \"/\")\n    let iterator = AnyIterator<String>(tokens.makeIterator())\n    return load(iterator: iterator)\n}\n\nfunc load<T: Loadable>(iterator: AnyIterator<String>) -> T {\n    return T.load(iterator: iterator)\n}\n\nload \u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf T \u306e\u3068\u3053\u308d\u306b\u3001 Loadable \u30d7\u30ed\u30c8\u30b3\u30eb\u5236\u7d04\u3092\u8ffd\u8a18\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u3063\u3066\u3001 T.load(iterator: iterator) \u3068\u3044\u3046\u547c\u3073\u51fa\u3057\u304c\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\u6b21\u306b\u3001 Int \u578b\u3068 String \u578b\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002Swift\u306f\u62e1\u5f35\u30e1\u30bd\u30c3\u30c9\u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3001\u65e2\u5b58\u306e\u578b\u306b\u5bfe\u3057\u3066\u5916\u90e8\u304b\u3089\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u305d\u308c\u3068\u540c\u6642\u306b\u5916\u90e8\u304b\u3089\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u9069\u7528\u3055\u305b\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n//  swift\n\nextension Int: Loadable {\n    static func load(iterator: AnyIterator<String>) -> Int {\n        let x: String = iterator.next()!\n        return Int(x)!\n    }\n}\n\nextension String: Loadable {\n    static func load(iterator: AnyIterator<String>) -> String {\n        let x: String = iterator.next()!\n        return x\n    }\n}\n\n\u578b\u304c\u5177\u8c61\u5316\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u8fd4\u308a\u5024\u306e\u578b\u306f Self \u304b\u3089\u5b9f\u969b\u306e\u578b\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\u30c7\u30b3\u30fc\u30c9\u4ed5\u69d8\u306b\u3064\u3044\u3066\u306f\u3001Int\u306f\u5358\u7d14\u306b\u6587\u5b57\u5217\u304b\u3089\u5909\u63db\u3001String\u306f\u305d\u306e\u307e\u307e\u53d6\u308a\u51fa\u3059\u3060\u3051\u3068\u3057\u307e\u3059\u3002\n\u30c6\u30b9\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\n//  swift\n\n    let i: Int = load(string: \"33\")\n    print(i)\n    let s: String = load(string: \"abc\")\n    print(s)\n\n\u51fa\u529b\n33\nabc\n\n\u3046\u307e\u304f\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\n\u3053\u3053\u3067\u3001 load \u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf T \u304c\u3001 load \u306e\u66f8\u304b\u308c\u3066\u3044\u308b\u4ee3\u5165\u6587\u306e\u5de6\u8fba\u306e\u5909\u6570\u306e\u578b\u306b\u3088\u308a\u63a8\u8ad6\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u3061\u306a\u307f\u306bSwift\u3067\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u660e\u793a\u7684\u306b\u578b\u30a2\u30ce\u30c6\u30fc\u30c8\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u306a\u306e\u3067\u3053\u306e load \u95a2\u6570\u306e\u5834\u5408\u3001\u5fc5\u305a\u8fd4\u308a\u5024\u306e T \u3092\u4f55\u304b\u3057\u3089\u78ba\u5b9a\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u306f\u4ee3\u5165\u6587\u306e\u4e21\u8fba\u306e\u578b\u5236\u7d04\u3067\u305d\u3053\u3092\u6c7a\u5b9a\u3055\u305b\u3066\u3044\u307e\u3059\u3002\n\u6b21\u306b\u3001\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002 Int \u3084 String \u3068\u540c\u69d8\u306b\u3057\u3066\u3001 Array \u306b\u5bfe\u3057\u3066 extension\u3067\u5b9f\u88c5\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u3001Array\u306e\u8981\u7d20\u306e\u578b\u3068\u3057\u3066\u306f\u3001 Loadable \u306a\u578b\u306b\u9650\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u305d\u3046\u3067\u306a\u3044\u578b\u304c\u6765\u305f\u3068\u3053\u308d\u3067\u3001\u914d\u5217\u306e\u8981\u7d20\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u3067\u304d\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\u3057\u304b\u3057\u6b8b\u5ff5\u306a\u304c\u3089\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n//  swift\n\nextension Array: Loadable where Element: Loadable {\n    ...\n}\n\n\u73fe\u72b6\u306eSwift\u306fextension\u306b\u3088\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u9069\u7528\u3068\u3001\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u6761\u4ef6\u3064\u304d\u306eextension\u306e\u305d\u308c\u305e\u308c\u306e\u6a5f\u80fd\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u308c\u3092\u540c\u6642\u306b\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u5e78\u3044\u3001\u5c06\u6765\u7684\u306b\u306f\u5bfe\u5fdc\u3059\u308b\u65b9\u91dd\u306e\u3088\u3046\u3067\u3059\u3002(GenericsManifesto / Conditional conformances)\n\u3055\u3066\u3001\u59a5\u5354\u3057\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3057\u307e\u3059\u3002\n//  swift\n\nextension Array where Element: Loadable {\n    static func load(iterator: AnyIterator<String>) -> [Element] {\n        let n: Int = Main.load(iterator: iterator)\n        var ret: [Element] = []\n        for _ in 0..<n {\n            ret.append(Main.load(iterator: iterator))\n        }\n        return ret\n    }\n}\n\n\u3053\u308c\u3067\u3001\u8981\u7d20\u306e\u578b\u304c Loadable \u3067\u3042\u308b\u3068\u304d\u306e\u307f\u3001 Array.load \u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u307e\u3059\u3002\u6b8b\u5ff5\u306a\u304c\u3089 Array \u81ea\u4f53\u306f Loadable \u306b\u306a\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u5358\u306b\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u308b\u3060\u3051\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u65e2\u306b\u5b9a\u7fa9\u3057\u305f Main.load \u304b\u3089 Array \u3092\u30c7\u30b3\u30fc\u30c9\u3055\u305b\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\u30e1\u30bd\u30c3\u30c9\u672c\u4f53\u306e\u5b9f\u88c5\u306b\u3064\u3044\u3066\u8ff0\u3079\u307e\u3059\u3002static\u30e1\u30bd\u30c3\u30c9\u306e load \u3068\u3001\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306e load \u3092\u533a\u5225\u3059\u308b\u305f\u3081\u3001\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306e\u3082\u306e\u3092 Main.load \u3068\u3057\u3066\u547c\u3073\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u540d\u3068\u3057\u3066 Main \u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n$ swift -module-name Main swift.swift\n\n\u30c7\u30b3\u30fc\u30c9\u65b9\u5f0f\u3068\u3057\u3066\u306f\u3001\u306f\u3058\u3081\u306b\u6574\u6570\u3092\u30c7\u30b3\u30fc\u30c9\u3057\u3066\u3053\u308c\u304c\u8981\u7d20\u6570\u3068\u306a\u308a\u3001\u305d\u306e\u8981\u7d20\u6570\u306e\u6570\u3060\u3051\u8981\u7d20\u3092\u30c7\u30b3\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\u8981\u7d20\u6570\u306e\u30c7\u30b3\u30fc\u30c9\u306b\u304a\u3044\u3066\u306f\u3001\u5148\u7a0b\u306e\u30c6\u30b9\u30c8\u3068\u540c\u69d8\u306b\u5de6\u8fba\u5024\u3067\u306e\u578b\u6307\u5b9a\u306b\u3088\u308a Int \u3092\u30c7\u30b3\u30fc\u30c9\u3055\u305b\u307e\u3059\u3002\u8981\u7d20\u306e\u30c7\u30b3\u30fc\u30c9\u306b\u304a\u3044\u3066\u306f\u3001 ret.append() \u306e\u5f15\u6570\u306e\u578b\u304c\u3001 ret \u306e\u8981\u7d20\u306e\u578b Element \u3092\u53d7\u3051\u53d6\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001 Element \u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u3088\u3046\u306b\u63a8\u8ad6\u3055\u308c\u307e\u3059\u3002\u3053\u306e Element \u3068\u3044\u3046\u306e\u306f\u3001 Array \u306b\u3082\u3068\u3082\u3068\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b \u8981\u7d20\u306e\u578b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\u3067\u3059\u3002\n\u3055\u3066\u3001\u6b8b\u5ff5\u306a\u304c\u3089 Array \u3092 Loadable \u306b\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3001 load \u304b\u3089\u3053\u308c\u3092\u547c\u3073\u51fa\u3059\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u540c\u3058 load \u30e1\u30bd\u30c3\u30c9\u3092\u3001\u8fd4\u308a\u5024\u306e\u578b\u304c\u9055\u3046 load \u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u30aa\u30fc\u30d0\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n//  swift\n\nfunc load<T: Loadable>(string: String) -> [T] {\n    let tokens = string.components(separatedBy: \"/\")\n    let iterator = AnyIterator<String>(tokens.makeIterator())\n    return load(iterator: iterator)\n}\n\nfunc load<T: Loadable>(iterator: AnyIterator<String>) -> [T] {\n    return Array<T>.load(iterator: iterator)\n}\n\n\u3082\u3068\u3082\u3068\u3042\u308b load \u306f \u578b T \u304c Loadble \u3067\u3042\u308b\u3068\u304d\u306b \u8fd4\u308a\u5024\u306e\u578b\u304c T \u3068\u306a\u308b load \u30e1\u30bd\u30c3\u30c9\u3067\u3059\u304c\u3001\u4eca\u56de\u5b9a\u7fa9\u3057\u305f\u306e\u306f \u578b T \u304c Loadble \u3067\u3042\u308b\u3068\u304d\u306b \u8fd4\u308a\u5024\u306e\u578b\u304c [T] \u3068\u306a\u308b load \u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\u65e2\u306b\u8ff0\u3079\u305f\u7406\u7531\u306b\u3088\u308a\u3001 Array \u304c Loadable \u306b\u306a\u308b\u3053\u3068\u306f\u3042\u308a\u3048\u306a\u3044\u305f\u3081\u3001\u8fd4\u308a\u5024\u304c Array \u3067\u3042\u308b\u5834\u5408 T \u3092\u8fd4\u3059 load \u304c\u30de\u30c3\u30c1\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u3001\u3053\u306e [T] \u3092\u8fd4\u3059 load \u304c\u3001 T \u3092\u8fd4\u3059 load \u3068\u66d6\u6627\u306b\u306a\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\nArray \u306e\u30c7\u30b3\u30fc\u30c9\u3092\u30c6\u30b9\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\n//  swift\n\n    let a: [String] = load(string: \"3/apple/banana/cherry\")\n    print(a)\n\n\u51fa\u529b\n[\"apple\", \"banana\", \"cherry\"]\n\n\u3046\u307e\u304f\u52d5\u304d\u307e\u3057\u305f\u3002\n\u3053\u3053\u307e\u3067\u3067\u304d\u308c\u3070\u5f8c\u306f\u7c21\u5358\u3067\u3059\u3002Employee\u3068Company\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\n//  swift\n\nextension Employee: Loadable {\n    static func load(iterator: AnyIterator<String>) -> Employee {\n        return Employee(\n            name: Main.load(iterator: iterator),\n            age: Main.load(iterator: iterator)\n            )\n    }\n}\n\nextension Company: Loadable {\n    static func load(iterator: AnyIterator<String>) -> Company {\n        return Company(\n            name: Main.load(iterator: iterator),\n            employees: Main.load(iterator: iterator))\n    }\n}\n\nArray.load \u3092\u5b9f\u88c5\u3057\u305f\u6642\u3068\u540c\u3058\u3088\u3046\u306b\u3001 Main.load \u304c\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u578b\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u306e\u3068\u3053\u308d\u306b\u76f4\u63a5\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u578b\u63a8\u8ad6\u5668\u304c\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u306e\u578b\u3092\u53c2\u7167\u3057\u3066\u304f\u308c\u308b\u304a\u304b\u3052\u3067\u3001 Main.load \u306b\u3064\u3044\u3066\u306e\u578b\u6307\u5b9a\u304c\u4e0d\u8981\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 employees: \u306e\u3068\u3053\u308d\u306f\u3001\u5f15\u6570\u306e\u578b\u3068\u3057\u3066 [Employee] \u304c\u671f\u5f85\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001 [T] \u3092\u8fd4\u3059\u65b9\u306e Main.load \u304c\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3068\u3057\u3066\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002\n\u30c6\u30b9\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\n//  swift\n\n    let c: Company = load(string: \"CatWorld/3/tama/5/mike/6/kuro/7\")\n    print(c)\n\n\u51fa\u529b\n(name=CatWorld, employees=[(name=tama, age=5), (name=mike, age=6), (name=kuro, age=7)])\n\n\u3053\u306e\u901a\u308a\u3001\u76ee\u7684\u306e load \u95a2\u6570\u304c\u3046\u307e\u304f\u52d5\u304d\u307e\u3057\u305f\u3002\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\u6bd4\u8f03\u7684\u76f4\u611f\u7684\u306a\u69cb\u6587\u306b\u3088\u3063\u3066\u3001\u578b\u63a8\u8ad6\u3092\u6d3b\u304b\u3057\u305f\u8907\u96d1\u306a\u8a18\u8ff0\u304c\u7c21\u6f54\u306b\u8a18\u8ff0\u3067\u304d\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u9006\u306b\u3001\u3042\u307e\u308a\u306b\u81ea\u7136\u306a\u8a18\u8ff0\u3059\u304e\u3066\u3001\u3059\u3054\u304f\u601d\u3048\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305d\u306e\u3042\u305f\u308a\u306f\u5f8c\u8ff0\u3059\u308b\u4ed6\u306e\u8a00\u8a9e\u306e\u5834\u5408\u3092\u898b\u3066\u3044\u304f\u3068\u611f\u3058\u65b9\u304c\u5909\u308f\u3063\u3066\u304f\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\nSwift\u5b9f\u88c5\u306e\u4fee\u6b63\n\u5b9f\u306f\u6b8b\u5ff5\u306a\u4e8b\u306b\u3001\u5b9f\u7528\u4e0a\u306e\u5229\u4fbf\u6027\u3092\u8003\u3048\u308b\u3068\u3082\u3046\u5c11\u3057\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u305f\u3081\u3057\u306b\u3001 Company \u3092 struct \u304b\u3089 class \u306b\u5909\u66f4\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\nswift.swift:92:14: error: method 'load(iterator:)' in non-final class 'Company' must return `Self` to conform to protocol 'Loadable'\n        static func load(iterator: AnyIterator<String>) -> Company {\n\n\u3053\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3001 Company \u304c Loadable \u3092\u9069\u7528\u3067\u304d\u3066\u3044\u306a\u3044\u3068\u8a00\u3063\u3066\u3044\u307e\u3059\u3002\u7406\u7531\u306f\u3001 Company \u304c\u7d99\u627f\u53ef\u80fd\u306a\u305f\u3081\u306b\u3001 Self \u304c\u6e80\u305f\u305b\u306a\u3044\u304b\u3089\u3067\u3059\u3002\nSwift\u3067\u306f\u3042\u308b\u30af\u30e9\u30b9\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3082\u3001\u89aa\u30af\u30e9\u30b9\u306estatic\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3057\u53ef\u80fd\u3067\u3059\u3002\u3064\u307e\u308a\u4e0b\u8a18\u304c\u8a31\u3055\u308c\u307e\u3059\u3002\n//  swift\n\nclass PaperCompany : Company { }\n\nPaperCompnay.load(string: \"aaa\")\n\n\u3057\u304b\u3057\u3053\u3053\u3067\u554f\u984c\u304c\u8d77\u304d\u307e\u3059\u3002 Company \u306f Loadable \u3067\u3059\u304b\u3089\u3001 PaperCompnay \u3082 Loadable \u3067\u3059\u3002 PaperCompnay \u304c Loadable \u3067\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001 PaperCompany \u3082 static\u30e1\u30bd\u30c3\u30c9\u306e load \u3092\u6301\u3063\u3066\u3044\u3066\u3001\u305d\u306e\u8fd4\u308a\u5024\u306e\u578b\u306f PaperCompany \u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u3057\u304b\u3057\u3053\u3053\u3067\u5b9f\u88c5\u306f\u89aa\u30af\u30e9\u30b9\u306e Company \u306b\u3042\u308b\u306e\u3067\u3001\u8fd4\u3063\u3066\u304f\u308b\u306e\u306f Company \u3067\u3059\u3002\u3088\u3063\u3066\u578b\u306e\u77db\u76fe\u304c\u8d77\u3053\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\u3053\u308c\u306f Comapny \u3092\u7d99\u627f\u3057\u305f\u77ac\u9593\u306b\u4e00\u822c\u306b\u751f\u3058\u308b\u554f\u984c\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u3001 Company \u5358\u4f53\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3068\u306a\u3063\u305f\u308f\u3051\u3067\u3059\u3002\n\u3053\u308c\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u306f\u3001 Company.load \u3082 PaperCompany.load \u3082\u540c\u3058\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3088\u3063\u3066\u3082\u306f\u3084 Loadable \u306f Self \u3092\u8fd4\u305b\u307e\u305b\u3093\u3002\u3053\u308c\u306f Loadable \u5b9f\u88c5\u6642\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u306a\u308b\u306e\u3067\u3001 Loadable \u3092\u305d\u306e\u3088\u3046\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u308b\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n//  swift\n\nprotocol Loadable {\n    associatedtype Loaded\n    static func load(iterator: AnyIterator<String>) -> Loaded\n}\n\n//{}\n\nassociatedtype \u306f\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5ba3\u8a00\u3059\u308b\u547d\u4ee4\u3067\u3059\u3002\u3053\u3053\u3067\u306f load \u306b\u3088\u3063\u3066\u30c7\u30b3\u30fc\u30c9\u3055\u308c\u308b\u578b\u3092 Loaded \u3068\u547d\u540d\u3057\u307e\u3057\u305f\u3002\u5e78\u3044\u3001Swift\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u51fa\u73fe\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u306e\u5177\u8c61\u5316\u3055\u308c\u305f\u5b9f\u88c5\u304b\u3089\u63a8\u8ad6\u3057\u3066\u6c7a\u5b9a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001 Int \u3084 String \u306a\u3069\u3092 Loadable \u306b\u9069\u7528\u3055\u305b\u3066\u3044\u308b\u3068\u3053\u308d\u306e\u30b3\u30fc\u30c9\u306f\u4fee\u6b63\u4e0d\u8981\u3067\u3059\u3002 load \u30e1\u30bd\u30c3\u30c9\u306e\u8fd4\u308a\u5024\u304c Int \u3084 String \u3068\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304b\u3089\u89e3\u6c7a\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3059\u3002\n\u3057\u304b\u3057\u4eca\u5ea6\u306f\u3001 Main.load \u306e\u5b9f\u88c5\u90e8\u5206\u3067\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\nswift.swift:45:11: error: cannot convert return expression of type 'T.Loaded' to return type 'T'\n        return T.load(iterator: iterator)\n\n\u3053\u308c\u306f\u3001 T: Loadable \u3092\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u53d7\u3051\u53d6\u308a\u3001 T \u3092\u8fd4\u3059\u95a2\u6570 load \u304c\u3001\u53d7\u3051\u53d6\u3063\u3066\u3044\u308b T \u306e Loaded \u30d1\u30e9\u30e1\u30fc\u30bf\u304c T \u3068\u306f\u9650\u3089\u306a\u3044\u4e8b\u306b\u3088\u308b\u30a8\u30e9\u30fc\u3067\u3059\u3002 Loaded \u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u4eca\u3055\u3063\u304d\u5b9a\u7fa9\u3057\u305f associatedtype \u306e\u4e8b\u3067\u3059\u3002 \u305d\u3053\u3067\u3001 T \u3068 T.Loaded \u304c\u540c\u4e00\u3067\u3042\u308b\u5834\u5408\u306b\u9650\u3063\u3066 load \u304c\u547c\u3073\u51fa\u3057\u53ef\u80fd\u3067\u3042\u308b\u3001\u3068\u5236\u7d04\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n//  swift\n\nfunc load<T: Loadable>(string: String) -> T \n    where T.Loaded == T\n{ ... }\n\nfunc load<T: Loadable>(iterator: AnyIterator<String>) -> T\n    where T.Loaded == T \n{ ... }\n\nfunc load<T: Loadable>(string: String) -> [T] \n    where T.Loaded == T \n{ ... }\n\nfunc load<T: Loadable>(iterator: AnyIterator<String>) -> [T] \n    where T.Loaded == T \n{ ... }\n\nextension Array where Element: Loadable,\n    Element.Loaded == Element\n{ ... }\n\n\u3053\u306e\u3088\u3046\u306b where \u306b\u3088\u308b\u5236\u7d04\u306e\u8ffd\u8a18\u3092\u884c\u3044\u307e\u3059\u3002 Array \u306e extension \u90e8\u5206\u306b\u3082\u5fc5\u8981\u3067\u3059\u3002\n\u3053\u308c\u3067\u4fee\u6b63\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\u305d\u3057\u3066\u4ee5\u4e0b\u306e\u8a18\u8ff0\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n//  swift\n\nlet p: PaperCompany = load(string: \"\")\n\nPaperCompany.Loaded \u304c Company \u306e\u305f\u3081\u3001 T.Loaded == T \u3092\u6e80\u305f\u3055\u306a\u3044\u305f\u3081 Main.load \u304c\u5b9a\u7fa9\u3055\u308c\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\u904b\u7528\u4e0a\u3001\u3053\u306e\u3088\u3046\u306a\u30b5\u30d6\u30af\u30e9\u30b9\u5316\u3059\u308b\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u6642\u306b\u578b\u540d\u3092\u30d8\u30c3\u30c0\u3068\u3057\u3066\u5165\u308c\u3066\u304a\u3044\u3066\u3001 Company.load \u306e\u5b9f\u88c5\u306b\u304a\u3044\u3066\u305d\u306e\u578b\u540d\u3092\u307e\u305a\u8aad\u307f\u53d6\u308a\u3001\u305d\u308c\u306b\u5fdc\u3058\u3066 PaperCompany \u306a\u3069\u3001\u3069\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u306e\u304b\u3092\u5206\u5c90\u3059\u308b\u3001\u3068\u3044\u3063\u305f\u30b3\u30fc\u30c9\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\u3082\u3057\u304f\u306f\u3001JSON API\u306b\u578b\u4ed8\u3051\u3059\u308b\u305f\u3081\u3060\u3051\u306e\u578b\u3067\u3042\u308b\u5834\u5408\u306f\u3001\u7d99\u627f\u306f\u3055\u305b\u305a\u306b has-a \u95a2\u4fc2\u3067\u53d6\u308a\u6271\u3046\u306e\u3082\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\nkotlin\u3067\u306e\u5b9f\u88c5\n\u30d0\u30fc\u30b8\u30e7\u30f3: Kotlin Compiler version 1.0.6-release-127\n\u6b21\u306bkotlin\u3067\u306e\u5b9f\u88c5\u3092\u793a\u3057\u307e\u3059\u3002\u306f\u3058\u3081\u306b Employee \u3068 Company \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  kotlin\n\ndata class Employee(val name: String, val age: Int)\n\nopen class Company(val name: String, val employees: List<Employee>) {\n    override fun toString(): String {\n        return \"(name=$name, employees=$employees)\"\n    }\n}\n\nswift\u7248\u306e\u6700\u7d42\u72b6\u614b\u306b\u3042\u308f\u305b\u3066\u3001 Employee \u3092 data class \u3001 Company \u3092 open class \u306b\u3057\u3066\u3044\u307e\u3059\u3002 data class \u306f toString() \u3092\u81ea\u52d5\u5b9f\u88c5\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u52a9\u304b\u308a\u307e\u3059\u3002\n\u3055\u3066\u3001\u65e9\u901f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9a\u7fa9\u3067\u3059\u304c\u3001kotlin\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b static\u30e1\u30bd\u30c3\u30c9\u306f\u66f8\u3051\u306a\u3044\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305astatic\u5074\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  kotlin\n\ninterface LoadableStatic<T> {\n    fun load(iterator: Iterator<String>): T\n}\n\n\u6b21\u306b\u76ee\u7684\u306e load \u95a2\u6570\u3067\u3059\u3002\u3042\u3068\u3067\u540d\u524d\u3092\u533a\u5225\u3067\u304d\u308b\u3088\u3046\u3001\u4e00\u756a\u4e0a\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n//  kotlin\n\npackage Main\n\n...\n\nfun <T> load(iterator: Iterator<String>): T {\n    //  \u3053\u3053\u306b LoadableStatic \u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u304c\u5fc5\u8981\n}\n\n\u3057\u304b\u3057\u3053\u3053\u3067\u56f0\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002swift\u306e\u5834\u5408\u306f\u5236\u7d04\u3092\u304b\u3051\u305f T \u306b\u5bfe\u3057\u3066 T.load \u3068\u3044\u3046\u5f62\u3067static\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u4eca T \u306b\u5bfe\u3057\u3066static\u30e1\u30bd\u30c3\u30c9\u306e\u5236\u7d04\u3092\u66f8\u304f\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u809d\u5fc3\u306e load \u306e\u5b9f\u4f53\u306f\u3001 LoadableStatic \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u305f\u3081\u306b\u306f\u3001\u305d\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6e80\u305f\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002 T \u306b\u5bfe\u5fdc\u3059\u308b LoadableStatic<T> \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u306a\u3093\u3089\u304b\u306e\u65b9\u6cd5\u3067\u547c\u3073\u51fa\u305b\u308c\u3070\u826f\u3044\u3067\u3059\u304c\u3001\u305d\u306e\u3088\u3046\u306a\u6a5f\u80fd\u3082\u3042\u308a\u307e\u305b\u3093(\u53b3\u5bc6\u306b\u306f\u3042\u308b\u3093\u3067\u3059\u304c\u3053\u3053\u3067\u306f\u7121\u8996\u3057\u307e\u3059\u3002\u8a73\u7d30\u306f\u6ce8\u91c8\u306b\u66f8\u304d\u307e\u3057\u305f\u30021)\u3002\u305d\u3046\u3059\u308b\u3068\u7d50\u5c40\u306e\u3068\u3053\u308d\u3001 LoadableStatic<T> \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002\u3088\u3063\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  kotlin\n\nfun <T> load(string: String, static: LoadableStatic<T>): T {\n    val tokens = string.split(\"/\")\n    val iterator = tokens.iterator()\n    return load(iterator, static)\n}\n\nfun <T> load(iterator: Iterator<String>, static: LoadableStatic<T>): T {\n    return static.load(iterator)\n}\n\nSwift\u3068\u540c\u69d8\u3001\u6587\u5b57\u5217\u3092\u53d7\u3051\u308b\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3068\u3001 Iterator \u3092\u53d7\u3051\u308b\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u3001 Int \u306e\u30c7\u30b3\u30fc\u30c9\u3001 String \u306e\u30c7\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  kotlin\n\nobject IntLoadableStatic : LoadableStatic<Int> {\n    override fun load(iterator: Iterator<String>): Int {\n        val x: String = iterator.next()\n        return x.toInt()\n    }\n}\n\nobject StringLoadableStatic : LoadableStatic<String> {\n    override fun load(iterator: Iterator<String>): String {\n        val x: String = iterator.next()\n        return x\n    }\n}\n\nobject \u306f\u305d\u306e\u5834\u3067\u533f\u540d\u578b\u3092\u4f5c\u308a\u3064\u3064\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u9759\u7684\u306b\u5b9a\u7fa9\u3059\u308b\u69cb\u6587\u3067\u3059\u3002\u3053\u308c\u3092 Int \u3068 String \u305d\u308c\u305e\u308c\u306e\u305f\u3081\u306b\u5b9a\u7fa9\u3057\u3064\u3064\u3001 LoadableStatic \u3092\u9069\u7528\u3059\u308b\u4e8b\u3067\u578b\u4ed8\u3051\u3057\u307e\u3059\u3002\n\u305d\u3057\u3066\u547c\u3073\u51fa\u3057\u5074\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  kotlin\n\n    val i = load(\"33\", IntLoadableStatic)\n    println(i)\n    val s = load(\"abc\", StringLoadableStatic)\n    println(s)\n\nswift\u3067\u306f\u5de6\u8fba\u306e\u8fd4\u308a\u5024\u306e\u578b\u304b\u3089\u63a8\u8ad6\u3055\u305b\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306f\u578b\u306e\u63a8\u8ad6\u3060\u3051\u3067\u306a\u304f\u3001\u578b\u306b\u5bfe\u5fdc\u3057\u305f\u9069\u5207\u306a LoadableStatic \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u6e21\u3055\u306d\u3070\u306a\u3089\u306a\u3044\u305f\u3081\u3001\u3053\u308c\u3092\u624b\u52d5\u3067\u66f8\u304d\u307e\u3059\u3002\u3088\u3063\u3066\u578b\u306e\u6c7a\u5b9a\u624b\u9806\u3068\u3057\u3066\u306f\u3001\u624b\u66f8\u304d\u3057\u305f IntLoadableStatic \u3092\u8d77\u70b9\u306b\u6c7a\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\u6b21\u306b\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c0\u3092\u4f5c\u308a\u307e\u3059\u3002\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c0\u306f\u8981\u7d20\u306e\u578b\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u3067\u3042\u308b\u306a\u3089\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u3067\u3042\u308b\u3088\u3046\u306b\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u4eca\u3001 Int \u3068 IntLoadableStatic \u306f\u7279\u306b\u4f55\u306e\u7d50\u3073\u3064\u304d\u3082\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3064\u307e\u308a\u3001 Int \u3068\u3044\u3046\u578b\u540d\u3060\u3051\u304b\u3089\u3001\u3053\u308c\u306b\u5bfe\u5fdc\u3059\u308b LoadableStatic<Int> \u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b\u306f\u5224\u5b9a\u3067\u304d\u306a\u3044\u306e\u3067\u3059\u3002\u3088\u3063\u3066\u3001\u914d\u5217\u306e\u8981\u7d20\u306e\u578b\u304c\u3042\u308b\u3068\u304d\u306b\u3001\u305d\u308c\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u304b\u3069\u3046\u304b\u3001\u8a00\u8a9e\u7684\u306b\u5224\u5b9a\u3059\u308b\u65b9\u6cd5\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3068\u308a\u3042\u3048\u305a\u305d\u306e\u70b9\u306f\u304a\u3044\u3066\u304a\u3044\u3066\u5b9f\u88c5\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  kotlin\n\nclass ListLoadableStatic<T>(val elementStatic: LoadableStatic<T>) :\n    LoadableStatic<List<T>> \n{\n    override fun load(iterator: Iterator<String>): List<T> {\n        val n = Main.load(iterator, IntLoadableStatic)\n        val ret = mutableListOf<T>()\n        for (i in 0 until n) {\n            ret.add(Main.load(iterator, elementStatic))\n        }\n        return ret\n    }\n}\n\n\u57fa\u672c\u7684\u306a\u4f5c\u308a\u306fswift\u306e\u5834\u5408\u3068\u540c\u3058\u3067\u3059\u3002\u9055\u3044\u3068\u3057\u3066\u3001\u8981\u7d20\u6570\u3092\u8aad\u307f\u53d6\u308b\u3068\u3053\u308d\u3067 IntLoadableStatic \u660e\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u5b9f\u88c5\u3057\u3066\u307f\u308c\u3070\u308f\u304b\u308b\u3053\u3068\u3067\u3059\u304c\u3001\u8981\u7d20\u3092\u8aad\u307f\u53d6\u308b\u3068\u3053\u308d\u306e Main.load \u306e\u547c\u3073\u51fa\u3057\u3067\u3001\u8981\u7d20\u306e\u578b\u306e LoadableStatic \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u5148\u7a0b\u3082\u8aac\u660e\u3057\u305f\u3068\u304a\u308a\u3001\u8981\u7d20\u306e\u578b T \u304b\u3089\u9759\u7684\u306b\u53d6\u5f97\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3068\u306a\u308b\u3068\u3001 ListLoadableStatic \u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u3067\u3001\u8981\u7d20\u306e\u578b\u306e LoadableStatic<T> \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d7\u3051\u53d6\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u3001 Int \u3084 String \u306e\u5834\u5408\u3068\u9055\u3044\u3001 List \u306e\u5834\u5408\u306f object \u3067\u306f\u306a\u304f class \u3067\u306e\u5b9a\u7fa9\u3068\u306a\u308a\u3001\u5fc5\u8981\u306a\u7b87\u6240\u3067\u3053\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3059\u308b\u3068\u3044\u3046\u4f7f\u3044\u65b9\u306b\u306a\u308a\u307e\u3059\u3002\n\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  kotlin\n\n    val a = load(\"3/apple/banana/cherry\", ListLoadableStatic(StringLoadableStatic))\n    println(a)\n\nload \u306e\u7b2c2\u5f15\u6570\u306e\u3068\u3053\u308d\u3067\u3001 List<String> \u3092\u8868\u73fe\u3057\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u306a\u304a\u3001\u3053\u306e\u5834\u5408\u306f swift\u306e\u5834\u5408\u3068\u9055\u3063\u3066 load \u95a2\u6570\u306f T \u3092\u8fd4\u3059\u3082\u306e1\u3064\u3060\u3051\u3067\u3088\u304f\u3001 List<T> \u3092\u8fd4\u3059 load \u306e\u5b9f\u88c5\u306f\u4e0d\u8981\u3067\u3059\u3002\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001 ListLoadableStatic \u3092\u66f8\u304b\u306d\u3070\u306a\u3089\u306a\u304f\u306a\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u3002\n\u307e\u305f\u3001\u3053\u3053\u3067\u81ea\u305a\u3068\u5148\u7a0b\u306e\u3001\u8981\u7d20\u306e\u578b\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u3067\u3042\u308b\u4e8b\u306e\u5236\u7d04\u3082\u6e80\u305f\u3055\u308c\u307e\u3059\u3002\u8981\u7d20\u306e\u578b\u304c\u30c7\u30b3\u30fc\u30c9\u4e0d\u53ef\u80fd\u3067\u3042\u308b\u5834\u5408\u306f\u3001 ListLoadableStatic \u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u6e21\u3059 LoadableStatic \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5b58\u5728\u3057\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\u6700\u5f8c\u306b Employee \u3068 Company \u306e\u30c7\u30b3\u30fc\u30c0\u3092\u4f5c\u308a\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u306e\u6d41\u308c\u3092\u8e0f\u8972\u3057\u3066\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\u524d\u63d0\u3067\u306f\u3053\u308c\u3089\u306f\u4e8b\u524d\u5b9a\u7fa9\u30af\u30e9\u30b9\u3067\u3001\u5909\u66f4\u3067\u304d\u306a\u3044\u3068\u3057\u307e\u3057\u305f\u304c\u3001\u4f8b\u3048\u3070\u4eee\u306b Company \u306f\u4e8b\u524d\u5b9a\u7fa9\u3067\u306f\u7121\u304b\u3063\u305f\u3068\u3059\u308c\u3070\u3001 CompanyLoadableStatic \u3092\u5b9a\u7fa9\u305b\u305a\u3068\u3082\u3001 Company \u306e Companion Object \u3092 LoadableStatic \u3068\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u305d\u306e\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n//  kotlin\n\nobject EmployeeLoadableStatic : LoadableStatic<Employee> {\n    override fun load(iterator: Iterator<String>): Employee {\n        return Employee(\n            Main.load(iterator, StringLoadableStatic),\n            Main.load(iterator, IntLoadableStatic)\n            )\n    }\n}\n\nopen class Company(val name: String, val employees: List<Employee>) {\n    companion object : LoadableStatic<Company> {\n        override fun load(iterator: Iterator<String>): Company {\n            return Company(\n                Main.load(iterator, StringLoadableStatic),\n                Main.load(iterator, ListLoadableStatic(EmployeeLoadableStatic))\n                )\n        }\n    }\n\n    override fun toString(): String {\n        return \"(name=$name, employees=$employees)\"\n    }\n}\n\nCompany \u306b\u3064\u3044\u3066\u306f\u65e2\u306b\u5b9a\u7fa9\u3057\u3066\u308b class \u5b9a\u7fa9\u306b\u8ffd\u8a18\u3059\u308b\u5f62\u3067 companion object \u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002 Company \u306e employee \u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u90e8\u5206\u306f\u3001 ListLoadableStatic \u3092 EmployeeLoadableStatic \u3068\u5408\u308f\u305b\u3066\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\u3053\u3046\u3059\u308b\u3068 Company \u306e\u30c7\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  kotlin\n\n    val c: Company = load(\"CatWorld/3/tama/5/mike/6/kuro/7\", Company)\n    println(c)\n\n\u51fa\u529b\n(name=CatWorld, employees=[Employee(name=tama, age=5), Employee(name=mike, age=6), Employee(name=kuro, age=7)])\n\n\u3053\u308c\u3067\u3046\u307e\u304f\u52d5\u304d\u307e\u3057\u305f\u3002 Company \u306e\u30c7\u30b3\u30fc\u30c9\u306b\u3042\u305f\u3063\u3066\u306f\u3001 Company \u306e companion object\u3092 LoadableStatic \u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001 load \u306e\u7b2c2\u5f15\u6570\u306b\u306f Company \u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002swift\u306e\u5834\u5408\u3068\u6bd4\u8f03\u3059\u308b\u3068\u3001swift\u3067\u306f\u63a8\u8ad6\u5668\u304c T \u3092\u6c7a\u5b9a\u3057\u305f\u4e0a\u3067 T \u304b\u3089\u30b3\u30fc\u30c9\u304c\u751f\u6210\u3055\u308c\u308b\u90e8\u5206\u3067\u3001kotlin\u3067\u306f\u660e\u793a\u7684\u306b\u305d\u306e\u52d5\u4f5c\u3092\u53f8\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u4f55\u3092\u6e21\u3059\u3079\u304d\u304b\u306f\u3001\u578b T \u304b\u3089\u56fa\u5b9a\u7684\u306b\u6c7a\u307e\u308a\u307e\u3059\u3002\u305d\u3057\u3066 T \u306f\u5468\u8fba\u306e\u5f0f\u3068\u5171\u306b\u672c\u6765\u306f\u9759\u7684\u306b\u6c7a\u307e\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u6c7a\u307e\u308a\u304d\u3063\u305f\u5197\u9577\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\ntypescript\u3067\u306e\u5b9f\u88c5\n\u30d0\u30fc\u30b8\u30e7\u30f3: Version 2.2.1\nTypeScript\u306e\u578b\u30b7\u30b9\u30c6\u30e0\u306f\u3053\u306e\u30c6\u30fc\u30de\u306b\u9650\u3063\u3066\u8a00\u3048\u3070kotlin\u3068\u307b\u3068\u3093\u3069\u540c\u3058\u3067\u3059\u3002\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5177\u8c61\u5316\u3055\u308c\u305f\u578b T \u306b\u5bfe\u3057\u3066static\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u305f\u308a\u3001\u7d10\u4ed8\u3044\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\u3059\u308b\u4e8b\u304c\u3067\u304d\u306a\u3044\u305f\u3081\u3001 LoadableStatic \u3092\u5b9f\u88c5\u3057\u3066\u3044\u304f\u65b9\u91dd\u306b\u306a\u308a\u307e\u3059\u3002\n\u306a\u306e\u3067\u6982\u8981\u306f\u3042\u307e\u308a\u5909\u308f\u3089\u306a\u3044\u3067\u3059\u304c\u3001\u305b\u3063\u304b\u304f\u306a\u306e\u3067TypeScript\u306a\u3089\u3067\u306f\u306e\u5c0f\u6280\u3092\u7e54\u308a\u8fbc\u3093\u3067\u3084\u3063\u3066\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\nLoadableStatic\u30af\u30e9\u30b9\u306e\u5b9f\u88c5\u3067\u3059\u304c\u3001TypeScript\u306fJavaScript\u3068\u540c\u69d8\u306b\u4e8b\u524d\u5b9a\u7fa9\u6e08\u307f\u306e\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066\u30e1\u30bd\u30c3\u30c9\u3092\u5916\u304b\u3089\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u3092\u4f7f\u3048\u3070\u3001kotlin\u3067Company\u306e\u3068\u304d\u306b\u3084\u3063\u305f\u3001\u5bfe\u8c61\u306e\u30af\u30e9\u30b9\u305d\u308c\u81ea\u4f53\u3092 LoadableStatic \u5316\u3059\u308b\u66f8\u304d\u65b9\u3092\u3001\u65e2\u5b58\u5b9a\u7fa9\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066\u3067\u304d\u307e\u3059\u3002\u306a\u306e\u3067\u305d\u306e\u65b9\u91dd\u3067\u884c\u304d\u307e\u3059\u3002\n\u3061\u306a\u307f\u306bJavaScript\u3067\u3053\u308c\u3092\u3084\u308b\u3068\u3001\u305d\u306e\u3088\u3046\u306a\u30e1\u30bd\u30c3\u30c9\u8ffd\u52a0\u3092\u8907\u6570\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u884c\u3063\u3066\u3057\u307e\u3063\u3066\u4e0a\u66f8\u304d\u5408\u6226\u306b\u306a\u3063\u3066\u58ca\u308c\u308b\u30ea\u30b9\u30af\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u5b8c\u5168TypeScript\u74b0\u5883\u306a\u3089\u305d\u306e\u969b\u306e\u578b\u885d\u7a81\u306f\u9759\u7684\u306b\u691c\u51fa\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\u307e\u3060\u30de\u30b7\u3067\u3059\u3002(\u540c\u3058\u578b\u3067\u306e\u5024\u306e\u4e0a\u66f8\u304d\u5408\u6226\u306f\u3042\u308a\u3048\u308b)\u3002\n\u3068\u308a\u3042\u3048\u305a\u307e\u305a\u306f\u3058\u3081\u306b Iterator \u304c\u7121\u3044\u306e\u3067\u9069\u5f53\u306b\u4f5c\u308a\u307e\u3059\u3002\n//  typescript\n\ninterface Iterator<T> {\n    next(): T | null;\n}\n\nfunction makeIterator<T>(array: Array<T>): Iterator<T> {\n    let i = 0;\n    return {\n        next: (): T | null => {\n            if (i >= array.length) {\n                return null;\n            }\n            const ret = array[i];\n            i += 1;\n            return ret;\n        }\n    };\n}\n\n\u8a00\u8a9e\u8a2d\u5b9a\u3067 Strict Null Check \u306f\u6709\u52b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u306a\u306e\u3067next\u306f T | null \u3068\u3057\u3066\u3001\u7d42\u7aef\u306b\u5230\u9054\u3057\u305f\u3089 null \u304c\u8fd4\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\nmakeIterator\u306f \u6e21\u3057\u305fArray\u306e\u8981\u7d20\u3092\u8aad\u307f\u53d6\u308bIterator\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u3053\u306eIterator\u306e\u5b9f\u88c5\u90e8\u5206\u3067\u3059\u304c\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ea\u30c6\u30e9\u30eb\u3068\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u306e\u30e9\u30e0\u30c0\u30ad\u30e3\u30d7\u30c1\u30e3\u306b\u3088\u308b\u72b6\u614b\u5909\u66f4\u3067\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002TypeScript\u306f\u3053\u306e\u3088\u3046\u306a\u5373\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066interface\u306e\u578b\u30c1\u30a7\u30c3\u30af\u304c\u52b9\u304f\u306e\u304c\u9762\u767d\u3044\u3067\u3059\u306d\u3002\n\u6b21\u306b Employee \u3068 Company \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  typescript\n\nclass Employee {\n    name: string;\n    age: number;\n    constructor(name: string, age: number) {\n        this.name = name;\n        this.age = age;\n    }\n    toString(): string {\n        return `(name=${this.name}, age=${this.age})`;\n    }\n}\n\nclass Company {\n    name: string;\n    employees: Employee[];\n    constructor(name: string, employees: Employee[]) {\n        this.name = name;\n        this.employees = employees;\n    }\n    toString(): string {\n        return `(name=${this.name}, employees=${this.employees})`;\n    }\n}\n\n\u7279\u306b\u5909\u308f\u3063\u305f\u70b9\u306f\u3042\u308a\u307e\u305b\u3093\u3002kotlin\u3067\u306fEmployee\u3092data class\u306b\u3057\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3092final class\u306b\u3057\u305f\u3068\u3053\u308d\u3067\u7279\u306b\u5dee\u304c\u3067\u306a\u3044\u306e\u3067\u666e\u901a\u306eclass\u306b\u3057\u3066\u3044\u307e\u3059\u3002\nLoadStatic \u3068 load \u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  typescript\n\ninterface LoadableStatic<T> {\n    load(iterator: Iterator<string>): T;    \n}\n\nfunction load<T>(string: string, static: LoadableStatic<T>): T;\nfunction load<T>(iterator: Iterator<string>, static: LoadableStatic<T>): T;\nfunction load<T>(a1: string | Iterator<string>, static: LoadableStatic<T>): T {\n    if (typeof a1 == \"string\") {\n        const string: string = a1;\n        const tokens: Array<string> = string.split(\"/\");\n        return load(makeIterator(tokens), static);\n    } else {\n        const iterator: Iterator<string> = a1;\n        return static.load(iterator);\n    }\n}\n\n\u3053\u308c\u307e\u3067\u3068\u540c\u3058\u3088\u3046\u306b\u3084\u3063\u305f\u306e\u3067 2\u3064\u306e load \u306f\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3055\u305b\u3066\u3044\u307e\u3059\u3002TypeScript\u306e\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u306f\u5b9f\u884c\u6642\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u3092\u624b\u52d5\u3067\u66f8\u304f\u306e\u304c\u6b8b\u5ff5\u3067\u3059\u304c\u3001\u5e78\u3044\u306a\u4e8b\u306b Union Type \u3068 \u30d5\u30ed\u30fc\u30d9\u30fc\u30b9\u306e\u30ad\u30e3\u30b9\u30c8\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306eif\u3068else\u306e\u30d6\u30ed\u30c3\u30af\u3067\u306f\u5f15\u6570\u306e\u578b\u304c\u9759\u7684\u306b\u691c\u8a3c\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3055\u3066\u3001\u307e\u305a\u306f number \u306e\u30c7\u30b3\u30fc\u30c9\u3067\u3059\u3002\u304a\u3082\u3080\u308d\u306b lib.d.ts \u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001\u6a19\u6e96\u306e Number \u306f\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n//  typescript\n\ninterface NumberConstructor {\n    new (value?: any): Number;\n    (value?: any): number;\n    readonly prototype: Number;\n    ...\n}\n\ndeclare const Number: NumberConstructor;\n\n\u30af\u30e9\u30b9\u69cb\u6587\u3067\u306e\u5b9a\u7fa9\u3067\u306f\u306a\u304f\u3001\u30af\u30e9\u30b9\u305d\u308c\u81ea\u4f53\u306e\u9759\u7684\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092 NumberConstructor \u3068\u3044\u3046\u540d\u524d\u3067\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u306e\u578b\u3092\u6301\u3064\u5b9a\u6570\u3068\u3057\u3066 Number \u304c\u5b58\u5728\u3059\u308b\u3001\u3068\u3044\u3046\u5ba3\u8a00\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u3046\u3044\u3046\u30b1\u30fc\u30b9\u3067\u306f\u3001\u540c\u540dinterface\u306e\u518d\u5b9a\u7fa9\u3092\u3059\u308b\u3068interface\u306e\u5b9a\u7fa9\u304c\u30de\u30fc\u30b8\u3055\u308c\u3066\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u306a\u306e\u3067\u3001\u4eca\u8ffd\u52a0\u3057\u305f\u3044 static\u30e1\u30bd\u30c3\u30c9 load \u3092\u30af\u30ed\u30fc\u30b8\u30e3\u578b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u3057\u3066\u8ffd\u52a0\u5b9a\u7fa9\u3057\u305f\u4e0a\u3067\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u305d\u3053\u306b\u4ee3\u5165\u3059\u308b\u4e8b\u3067 static\u30e1\u30bd\u30c3\u30c9\u306e\u6ce8\u5165\u304c\u3067\u304d\u307e\u3059\u3002\u5b9f\u88c5\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  typescript\n\ninterface NumberConstructor {\n    load: (iterator: Iterator<string>) => number;\n}\n\nNumber.load = (iterator: Iterator<string>): number => {\n    const x: string = iterator.next()!!;\n    return parseFloat(x);   \n};\n\n\u3055\u3089\u306b\u3001TypeScript\u306finterface\u306e\u5145\u8db3\u6027\u3092\u5358\u7d14\u306b\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3067\u5224\u5b9a\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\u660e\u793a\u7684\u306b\u5ba3\u8a00\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u73fe\u6642\u70b9\u3067 NumberConstructor is LoadableStatic<number> \u3068\u3057\u3066\u4ee3\u5165\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u547c\u3073\u51fa\u305b\u307e\u3059\u3002\n//  typescript\n\n    const i = load(\"33\", Number);\n    console.log(i);\n\n\u540c\u69d8\u306b\u3057\u3066String\u3082\u3084\u308a\u307e\u3059\u3002\n//  typescript\n\ninterface StringConstructor {\n    load: (iterator: Iterator<string>) => string;\n}\n\nString.load = (iterator: Iterator<string>): string => {\n    const x: string = iterator.next()!!;\n    return x;\n};\n\n\u6b21\u306bArray\u3067\u3059\u3002Array\u306fkotlin\u306e\u3068\u304d\u3068\u540c\u69d8\u306b\u8981\u7d20\u306e\u578b\u3092\u53f8\u308b LoadableStatic \u3092\u4fdd\u6301\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u305f\u3081\u3001\u7d44\u307f\u8fbc\u307f\u306e Array\u30af\u30e9\u30b9\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 LoadableStatic \u5316\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u5c02\u7528\u306b\u5b9a\u7fa9\u3059\u308b\u3057\u307e\u3059\u3002\n//  typescript\n\nclass ArrayLoadableStatic<T> implements LoadableStatic<T[]> {\n    constructor(elementStatic: LoadableStatic<T>) {\n        this.elementStatic = elementStatic;\n    }\n    load(iterator: Iterator<string>): T[] {\n        const n = load(iterator, Number);\n        const ret: T[] = [];\n        for (let i = 0; i < n; i++) {\n            ret.push(load(iterator, this.elementStatic));\n        }\n        return ret;\n    }\n    private elementStatic: LoadableStatic<T>;\n}\n\nkotlin\u306e\u3068\u304d\u3068\u307b\u307c\u540c\u3058\u5f62\u3067\u3059\u3002kotlin\u3067\u306f Main.load \u3068\u66f8\u3044\u3066\u3044\u305f\u90e8\u5206\u3067 load \u3068\u304b\u3051\u308b\u306e\u306f\u3001typescript\u306e\u5834\u5408\u3001\u9006\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092 this.load \u3068\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u304b\u3089\u3067\u3059\u3002\u30b7\u30f3\u30dc\u30eb\u89e3\u6c7a\u306e\u30eb\u30fc\u30eb\u306e\u9055\u3044\u3067\u3059\u306d\u3002\u307e\u305fkotlin\u3067\u306fprimary constructor\u304c\u3042\u3063\u305f\u306e\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u5b9a\u7fa9\u304c\u4e0d\u8981\u3067\u3057\u305f\u304c\u3001typescript\u3067\u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5b9a\u7fa9\u3068\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u306e\u4ee3\u5165\u304c\u5fc5\u8981\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\u3053\u308c\u306e\u547c\u3073\u51fa\u3057\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  typescript\n\n    const a = load(\"3/apple/banana/cherry\", new ArrayLoadableStatic(String));\n    console.log(a)\n\n\u6700\u5f8c\u306b\u3001 Employee \u3068 Company \u306e LoadableStatic \u5316\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u306e Number \u3068 String \u306f interface\u306e\u5408\u6210\u306b\u3088\u3063\u3066\u6ce8\u5165\u304c\u53ef\u80fd\u3067\u3057\u305f\u304c\u3001\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066 static\u30e1\u30bd\u30c3\u30c9\u3092\u6ce8\u5165\u3059\u308b\u5834\u5408\u306f\u307e\u305f\u7570\u306a\u308b\u30c6\u30af\u30cb\u30c3\u30af\u3092\u4f7f\u3044\u307e\u3059\u3002\ntypescript\u3067\u306f\u540d\u524d\u306e\u5ba3\u8a00\u306f namespace \u3068 type \u3068 value \u306e3\u7a2e\u985e\u306b\u5206\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3053\u306e\u7570\u306a\u308b\u5ba3\u8a00\u3092\u540c\u3058\u540d\u524d\u3067\u884c\u3063\u3066\u30de\u30fc\u30b8\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u3053\u3061\u3089\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002(Declaration Merging\n)\n\u30af\u30e9\u30b9\u306estatic\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306b\u5c5e\u3059\u308b\u95a2\u6570\u3068\u540c\u3058\u898b\u3048\u65b9\u306b\u306a\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u5229\u7528\u3057\u3066\u3001\u30af\u30e9\u30b9\u3068\u540c\u540d\u306e\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u578b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u4f5c\u308a\u3001\u305d\u3053\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u4ee3\u5165\u3057\u3066\u3084\u308b\u3068\u3001\u5b9f\u884c\u6642\u306b\u306f\u30af\u30e9\u30b9\u306estatic\u30e1\u30bd\u30c3\u30c9\u304c\u751f\u3048\u308b\u3088\u3046\u306a\u52d5\u4f5c\u306b\u306a\u308a\u307e\u3059\u3002\n//  typescript\n\nnamespace Employee {\n    export let load: (iterator: Iterator<string>) => Employee;\n}\n\nEmployee.load = (iterator: Iterator<string>): Employee => {\n    return new Employee(\n        load(iterator, String), \n        load(iterator, Number));\n}\n\n\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n    const e = load(\"taro/3\", Employee);\n    console.log(`${e}`);\n\n\u3053\u306e\u6642\u3001 Employee \u3068\u3044\u3046\u540d\u524d\u306f\u30af\u30e9\u30b9\u3068\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306e\u4e21\u65b9\u306b\u3064\u3044\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001 typescript\u304c\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306e\u65b9\u306b\u5b9a\u7fa9\u3057\u3066\u3042\u308b load \u306b\u3088\u3063\u3066 Employee \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c LoadableStatic \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6e80\u305f\u3059\u4e8b\u3092\u691c\u51fa\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\nCompany \u3082\u540c\u69d8\u306b\u3044\u3051\u307e\u3059\u3002\n//  typescript\n\nnamespace Company {\n    export let load: (iterator: Iterator<string>) => Company;\n}\n\nCompany.load = (iterator: Iterator<string>): Company => {\n    return new Company(\n        load(iterator, String),\n        load(iterator, new ArrayLoadableStatic(Employee)));\n}\n\nArray\u306e\u3068\u3053\u308d\u306f\u4f8b\u306b\u3088\u3063\u3066 ArrayLoadableStatic\u3000\u306b Employee \u3092\u6e21\u3057\u307e\u3059\u3002\u547c\u3073\u51fa\u3057\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  typescript\n\n    const c = load(\"CatWorld/3/tama/5/mike/6/kuro/7\", Company)\n    console.log(`${c}`);\n\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\u6982\u306dkotlin\u3068\u5909\u308f\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002typescript\u306e\u5909\u308f\u3063\u305f\u9b45\u529b\u3092\u7d39\u4ecb\u3067\u304d\u305f\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\nJava\u3067\u306e\u5b9f\u88c5\n\u30d0\u30fc\u30b8\u30e7\u30f3: javac 1.8.0_45\nJava\u3067\u306e\u5b9f\u88c5\u3067\u3059\u304c\u3001\u7d30\u304b\u3044\u4e8b\u306f\u7121\u8996\u3057\u3066 Main.java \u306e\u30ef\u30f3\u30d5\u30a1\u30a4\u30eb\u3067\u5b9f\u88c5\u3057\u307e\u3059\u3002\nJava\u306e\u578b\u30b7\u30b9\u30c6\u30e0\u3082\u3060\u3044\u305f\u3044\u3053\u308c\u3089\u3068\u540c\u3058\u306a\u306e\u3067\u3001\u307b\u307c\u5197\u9577\u306akotlin\u7248\u307f\u305f\u3044\u306b\u306a\u308a\u307e\u3059\u3002\n\u307e\u305a Employee \u3068 Company \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  java\n\nclass Employee {\n    public Employee(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n    public String name;\n    public int age;\n    @Override\n    public String toString() {\n        return String.format(\"(name=%s, age=%d)\", name, age);\n    }\n}\n\nclass Company {\n    public Company(String name, List<Employee> employees) {\n        this.name = name;\n        this.employees = employees;\n    }\n    public String name;\n    public List<Employee> employees;\n    @Override\n    public String toString() {\n        return String.format(\"(name=%s, employees=%s)\", name, employees);   \n    }\n}\n\n\u7279\u306b\u8a00\u3046\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\nLoadableStatic \u3068 load \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  java\n\ninterface LoadableStatic<T> {\n    public T load(Iterator<String> iterator);\n}\n\nclass Load {\n    public static <T> T load(String string, LoadableStatic<T> statik) {\n        String[] tokens = string.split(\"/\");\n        return load(Arrays.asList(tokens).iterator(), statik);\n    }\n\n    public static <T> T load(Iterator<String> iterator, LoadableStatic<T> statik) {\n        return statik.load(iterator);\n    }\n}\n\nload \u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u7a7a\u9593\u3068\u3057\u3066 Load \u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002static \u304c\u5909\u6570\u540d\u306b\u4f7f\u3048\u306a\u304b\u3063\u305f\u306e\u3067 statik \u306b\u3057\u3066\u3044\u307e\u3059\u3002\nint\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n//  java\n\nclass IntLoadableStatic implements LoadableStatic<Integer> {\n    @Override\n    public Integer load(Iterator<String> iterator) {\n        String x = iterator.next();\n        return Integer.parseInt(x);\n    }\n}\n\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u3068\u3053\u308d\u3067 int \u304c\u66f8\u3051\u306a\u3044\u306e\u3067 Integer \u3092\u4f7f\u3044\u307e\u3059\u3002\u547c\u3073\u51fa\u3057\u4f8b\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n//  java\n\n        int i = Load.load(\"33\", new IntLoadableStatic());\n        println(Integer.toString(i));\n\nIntLoadableStatic \u3092\u305d\u306e\u5834\u3067 new \u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u672c\u5f53\u306fstatic\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u7528\u610f\u3059\u308c\u3070\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u3044\u3061\u3044\u3061\u4f5c\u3089\u306a\u304f\u3066\u826f\u3044\u306e\u3067\u8ca0\u8377\u8efd\u6e1b\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u5b9f\u88c5\u304c\u9762\u5012\u306a\u306e\u3067\u7701\u7565\u3067\u3059\u3002kotlin\u306eobject\u69cb\u6587\u306f\u4fbf\u5229\u3067\u3059\u3002\nString\u306f\u3053\u306e\u3068\u304a\u308a\u3002\n//  java\n\nclass StringLoadableStatic implements LoadableStatic<String> {\n    @Override\n    public String load(Iterator<String> iterator) {\n        String x = iterator.next();\n        return x;\n    }\n}\n\nList\u3082\u3053\u308c\u307e\u3067\u901a\u308a\u3067\u3059\u3002\n//  java\n\nclass ListLoadableStatic<T> implements LoadableStatic<List<T>> {\n    public ListLoadableStatic(LoadableStatic<T> elementStatic) {\n        this.elementStatic = elementStatic;\n    }\n    @Override\n    public List<T> load(Iterator<String> iterator) {\n        int n = Load.load(iterator, new IntLoadableStatic());\n        ArrayList<T> ret = new ArrayList<T>();\n        for (int i = 0; i < n; i++) {\n            ret.add(Load.load(iterator, elementStatic));\n        }\n        return ret;\n    }\n    private LoadableStatic<T> elementStatic;\n}\n\n\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3002\n//  java\n\n        List<String> a = Load.load(\"3/apple/banana/cherry\", new ListLoadableStatic<>(new StringLoadableStatic()));\n        println(a.toString());\n\n\u6a2a\u306b\u9577\u3044\u3067\u3059\u306d\u3002\u4e00\u5fdc\u3001 ListLoadableStatic \u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092 <> \u306b\u3067\u304d\u3066\u3001\u3053\u3053\u306f\u63a8\u8ad6\u3057\u3066\u304f\u308c\u307e\u3059\u3002\nEmployee \u3068 Company \u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n//  java\n\nclass EmployeeLoadableStatic implements LoadableStatic<Employee> {\n    @Override\n    public Employee load(Iterator<String> iterator) {\n        return new Employee(\n            Load.load(iterator, new StringLoadableStatic()),\n            Load.load(iterator, new IntLoadableStatic())\n            );\n    }\n}\n\nclass CompanyLoadableStatic implements LoadableStatic<Company> {\n    @Override\n    public Company load(Iterator<String> iterator) {\n        return new Company(\n            Load.load(iterator, new StringLoadableStatic()),\n            Load.load(iterator, new ListLoadableStatic<>(new EmployeeLoadableStatic()))\n            );\n    }\n}\n\n\u7d20\u76f4\u306a\u611f\u3058\u3067\u3059\u3002\u6700\u7d42\u7684\u306b Company \u306e\u30c7\u30b3\u30fc\u30c9\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  java\n\n        Company c = Load.load(\"CatWorld/3/tama/5/mike/6/kuro/7\", new CompanyLoadableStatic());\n        println(c.toString());\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\u578b\u63a8\u8ad6\u3082\u7121\u3051\u308c\u3070null\u5b89\u5168\u3067\u3082\u306a\u304f\u5b8c\u5168\u306b\u5197\u9577\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u304c\u3001\u4f59\u8a08\u306a\u3082\u306e\u304c\u7121\u3044\u306e\u3067\u305d\u3082\u305d\u3082\u3069\u3046\u3044\u3046\u3053\u3068\u306a\u306e\u304b\u306f\u308f\u304b\u308a\u3084\u3059\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\u307e\u305f\u3001\u3053\u306e\u8a18\u4e8b\u3067Java\u3092\u53d6\u308a\u4e0a\u3052\u3066\u3044\u308b\u306e\u306f\u3001\u5b9a\u671f\u7684\u306bJava\u306e\u300c T \u3092 new \u3057\u305f\u3044\u300d\u3068\u3044\u3046\u8a71\u984c\u3092\u898b\u304b\u3051\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u305d\u306e\u8a71\u984c\u306b\u76f4\u7d50\u3057\u3066\u3044\u307e\u3059\u3002\u5c02\u7528\u306e\u6f14\u7b97\u5b50\u304c\u3042\u308b\u304a\u9670\u3067 new \u3068\u3044\u3046\u306e\u306f\u7279\u5225\u306a\u6a5f\u80fd\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u578b\u30b7\u30b9\u30c6\u30e0\u7684\u306b\u306f\u672c\u8cea\u7684\u306b\u305f\u3060\u306e\u578b T \u306estatic\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\u578b T \u304c\u3042\u308c\u3070\u547c\u3073\u51fa\u305b\u3066\u3001\u5f15\u6570\u306e\u578b\u306f\u3044\u308d\u3044\u308d\u306a\u5834\u5408\u304c\u3042\u3063\u3066\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3067\u304d\u3066\u3001\u540c\u3058\u306a\u306e\u3067\u3059\u3002\u8fd4\u308a\u5024\u306e\u578b\u304c T \u306b\u5236\u7d04\u3055\u308c\u3066\u3044\u308b\u3068\u3044\u3046\u70b9\u3068\u3001\u547c\u3073\u51fa\u3057\u306b\u578b\u540d\u3068 new \u6f14\u7b97\u5b50\u3092\u4f7f\u3046\u3068\u3044\u3046\u898b\u305f\u76ee\u3060\u3051\u304c\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\u5b9f\u969b\u3001swift\u3067\u306fprotocol\u306b\u5bfe\u3057\u3066 init \u30a8\u30f3\u30c8\u30ea\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 init \u3068\u3044\u3046\u306e\u306fswift\u306b\u304a\u3051\u308b\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u8868\u3059\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u3059\u3002\u307e\u305ftypescript\u3067\u306f\u3001 NumberConstructor \u306e\u5b9a\u7fa9\u306e\u3068\u3053\u308d\u3067\u898b\u305f\u3088\u3046\u306b\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3059\u308b new \u547c\u3073\u51fa\u3057\u3092\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u4e00\u3064\u3068\u3057\u3066\u8a18\u8ff0\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u4e8b\u304b\u3089\u3082\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306f\u6240\u8a6e\u305f\u3060\u306e\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u306e\u4e9c\u7a2e\u3060\u3068\u308f\u304b\u308a\u307e\u3059\u3002\n\u3055\u3066\u3001\u305d\u3046\u3059\u308b\u3068\u300c T \u3092 new \u3057\u305f\u3044\u300d\u3068\u3044\u3046\u306e\u306f\u3001\u4eca\u56deswift\u3067\u4f5c\u3063\u305f T.load \u3092\u547c\u3073\u51fa\u3057\u305f\u3044\u3001\u3068\u3044\u3046\u8a71\u3068\u7b49\u4fa1\u3060\u3068\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001kotlin\u3084typescript\u3068\u540c\u69d8\u3001\u7d50\u5c40java\u3067\u306f T.load \u306f\u304b\u3051\u307e\u305b\u3093\u3002\u305d\u308c\u3069\u3053\u308d\u304b\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5236\u7d04\u3082\u7f6e\u3051\u307e\u305b\u3093\u3002\u306a\u306e\u3067\u7d50\u5c40\u3001\u305d\u306e\u9759\u7684\u306a\u632f\u308b\u821e\u3044\u3092\u76f4\u63a5\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5316\u3057\u3066\u3001\u9759\u7684\u306a\u632f\u308b\u821e\u3044\u3092\u3059\u308b\u305f\u3081\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 T \u304c\u89e3\u6c7a\u3055\u308c\u308b\u7b87\u6240\u306b\u76f4\u63a5\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066\u6e21\u3057\u3066\u3084\u308b\u5fc5\u8981\u304c\u51fa\u3066\u304f\u308b\u306e\u3067\u3059\u3002\u307e\u305f\u3001\u30ea\u30b9\u30c8\u306e\u3088\u3046\u306a\u69cb\u9020\u5316\u578b\u306e\u5834\u5408\u306f\u3001\u305d\u306e\u8981\u7d20\u306e\u578b\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u305f\u3081\u306b\u3001\u30ea\u30b9\u30c8\u306e\u30c7\u30b3\u30fc\u30c0\u304c\u8981\u7d20\u306e\u30c7\u30b3\u30fc\u30c0\u3092\u6301\u3064\u3001\u3068\u3044\u3046\u3088\u3046\u306b\u3001\u578b\u306e\u5165\u308c\u5b50\u69cb\u9020\u3092\u3001\u30c7\u30b3\u30fc\u30c0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5165\u308c\u5b50\u69cb\u9020\u3068\u3057\u3066\u518d\u73fe\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\u9006\u306b\u8a00\u3048\u3070\u3001\u305d\u308c\u304c\u3084\u308a\u305f\u3051\u308c\u3070\u3053\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3057\u305f\u3089\u826f\u3044\u306e\u3067\u3059\u3002 T \u304c\u78ba\u5b9a\u3059\u308b\u6642\u306b\u306f\u3001\u305d\u306e\u5177\u8c61\u5316\u3055\u308c\u305f T \u306b\u5bfe\u5fdc\u3059\u308b\u9759\u7684\u306a\u632f\u308b\u821e\u3044\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5f15\u6570\u306b\u6e21\u305b\u3070\u826f\u3044\u306e\u3067\u3059\u304b\u3089\u3001\u30d7\u30ed\u30b0\u30e9\u30de\u304c\u6a5f\u68b0\u7684\u306a\u64cd\u4f5c\u3092\u4e00\u624b\u9593\u884c\u3046\u3060\u3051\u3067\u3059\u3002\u307e\u305f\u3001\u4f5c\u308a\u8fbc\u3093\u3067\u307f\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u304c\u3001\u5b9f\u969b\u306b\u306f <T>\u3000\u3092\u6301\u3064\u95a2\u6570\u306f\u3001\u3055\u3089\u306b\u5916\u5074\u306e <T> \u3092\u6301\u3064\u95a2\u6570\u304b\u3089\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u305f\u308a\u3057\u3066\u3001\u305d\u3046\u3044\u3046\u5834\u5408\u306f\u3053\u308c\u3089\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u65e2\u306b\u5f15\u6570\u3067\u53d7\u3051\u3066\u3044\u308b\u306e\u3067\u3001\u3055\u3089\u306b\u5185\u5074\u306b\u8ee2\u9001\u3057\u3066\u3044\u304f\u3060\u3051\u3067\u826f\u304f\u3001\u610f\u5916\u3068\u305d\u308c\u3067\u6e08\u3080\u7b87\u6240\u304c\u305f\u304f\u3055\u3093\u3042\u308a\u307e\u3059\u3002\u7d50\u5c40\u30a2\u30d7\u30ea\u30b5\u30a4\u30c9\u3067\u624b\u9593\u304c\u5897\u3048\u308b\u306e\u306f\u3001\u3053\u306e T \u3092\u6c7a\u5b9a\u3059\u308b\u4e00\u756a\u5916\u5074\u306e\u547c\u3073\u51fa\u3057\u90e8\u5206\u3060\u3051\u306b\u306a\u308b\u306e\u3067\u3059\u3002\n\u3061\u306a\u307f\u306b\u3001\u3053\u306e\u8b70\u8ad6\u306b\u5bfe\u3057\u3066 C# \u304c\u4e0e\u3048\u3066\u308b\u56de\u7b54\u304c\u8208\u5473\u6df1\u3044\u3067\u3059\u3002 C#\u306b\u306f new() \u5236\u7d04\u3068\u3044\u3046\u306e\u304c\u578b\u306b\u5bfe\u3057\u3066\u66f8\u3051\u3066\u3001\u5f15\u6570\u7121\u3057\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u4fdd\u6301\u304c\u77ef\u6b63\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u304c\u30d4\u30f3\u30dd\u30a4\u30f3\u30c8\u30671\u3064\u3060\u3051\u5b9a\u7fa9\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u5f15\u6570\u306a\u3057\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3044\u3044\u307e\u3059\u3002\u307e\u305f\u3001 C#\u306e struct \u306f \u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u81ea\u52d5\u5b9f\u88c5\u304c\u5f37\u5236\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001 struct \u306f\u5148\u306e new() \u5236\u7d04\u3092\u6e80\u305f\u3057\u307e\u3059\u3002\u500b\u4eba\u7684\u306b\u306f\u3053\u308c\u306f\u4e2d\u9014\u534a\u7aef\u306a\u5bfe\u5fdc\u3067\u3001\u30e1\u30ea\u30c3\u30c8\u4ee5\u4e0a\u306b\u6301\u3061\u8fbc\u3080\u30c7\u30e1\u30ea\u30c3\u30c8\u3082\u591a\u304f\u5fae\u5999\u306a\u4ed5\u69d8\u3060\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002 struct \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u4fdd\u6301\u304c\u5f37\u5236\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3067\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5024\u304c\u5168\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u57cb\u307e\u308b\u53ef\u80fd\u6027\u304c\u5e38\u306b\u6b8b\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u53c2\u7167\u578b\u304c\u5168\u3066null\u3067\u57cb\u307e\u308a\u3001\u6570\u5024\u985e\u306f0\u7b49\u3067\u57cb\u307e\u3063\u3066\u3044\u308b\u3001\u3068\u3044\u3046\u72b6\u614b\u304c\u7d76\u5bfe\u306b\u5b58\u5728\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u308c\u306e\u304a\u304b\u3052\u3067\u3001swift\u306e\u3088\u3046\u306b\u53c2\u7167\u578b\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u5024\u3092\u5168\u3066\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u53d7\u3051\u3066\u3001null\u304c\u7121\u3044\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u3068\u3044\u3046null safe\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u53c2\u7167\u578b\u306b\u304b\u304e\u3089\u305a\u3001\u4f55\u3089\u304b\u306e\u5024\u3092\u6301\u305f\u306a\u3044\u3068\u610f\u5473\u304c\u306a\u3044\u5024\u578b\u3082\u8003\u3048\u3089\u308c\u307e\u3059\u3002\n\u304a\u305d\u3089\u304f\u3053\u306e\u4ed5\u69d8\u304c\u8a2d\u8a08\u3055\u308c\u305f\u80cc\u666f\u3068\u3057\u3066\u3001\u5024\u578b\u306e\u914d\u5217\u3092\u30e1\u30e2\u30ea\u76f4\u5217\u306b\u5b9a\u7fa9\u3067\u304d\u308b\u4e8b\u3092\u4fdd\u8a3c\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\u914d\u5217\u306b\u8981\u7d20\u304c\u8ffd\u52a0\u3055\u308c\u308b\u969b\u306b\u3001\u5f8c\u3005\u306e\u305f\u3081\u306b\u4f59\u88d5\u3092\u6301\u3063\u3066\u591a\u3081\u306b\u30e1\u30e2\u30ea\u30b9\u30da\u30fc\u30b9\u3092\u78ba\u4fdd\u3059\u308b\u3068\u3044\u3046\u6700\u9069\u5316\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3053\u308c\u3092\u3084\u308b\u305f\u3081\u306b\u306f\u3001\u4f59\u88d5\u3068\u3057\u3066\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u3092\u305d\u306e\u578b\u3067\u521d\u671f\u5316\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3053\u3053\u3067 T \u3067 new \u3057\u305f\u3044\u3001\u3064\u307e\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304c\u6b32\u3057\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u5024\u578b\u306b\u305d\u306e\u5236\u7d04\u304c\u3042\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u30af\u30e9\u30b9\u578b\u306b\u3082\u540c\u3058\u5236\u7d04\u3092\u8ffd\u52a0\u3059\u308b\u6a5f\u80fd\u304c\u3042\u3063\u3066\u3082\u3044\u3044\u3060\u308d\u3046\u3001\u3068\u3044\u3046\u9806\u5e8f\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3053\u308c\u306f\u3001\u7279\u5b9a\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u9650\u3063\u305f\u8a71\u3067\u3001\u4e00\u822c\u7684\u306a\u89e3\u6c7a\u306b\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u4eca\u56de\u306e\u3088\u3046\u306b\u6587\u5b57\u5217\u306b\u3082\u3068\u3065\u3044\u3066 new \u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3057\u3001static\u30e1\u30bd\u30c3\u30c9\u4e00\u822c\u3067\u8a00\u3048\u3070\u8fd4\u308b\u578b\u3068\u3057\u3066 T \u4ee5\u5916\u306e\u3082\u306e\u304c\u6b32\u3057\u3044\u3053\u3068\u3082\u3042\u308a\u3048\u307e\u3059\u3002\u3060\u304b\u3089\u3053\u306e\u8a71\u984c\u306b\u304a\u3044\u3066\u3001 \u300cC#\u306a\u3089\u89e3\u6c7a\u3057\u3066\u308b\u306e\u306b\u300d\u3068\u3044\u3046\u76ee\u7dda\u3067Java\u3092\u6279\u5224\u3059\u308b\u306e\u306f\u7b4b\u304c\u60aa\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002C#\u306e\u89e3\u6c7a\u6cd5\u81ea\u4f53\u306e\u7b4b\u304c\u60aa\u3044\u304b\u3089\u3067\u3059\u3002\u3053\u308c\u304b\u3089\u306f\u300cswift\u306a\u3089\u89e3\u6c7a\u3057\u3066\u308b\u306e\u306b\u300d\u3068\u8a00\u3046\u3068\u826f\u3044\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\nScala\u3067\u306e\u5b9f\u88c5\n\u30d0\u30fc\u30b8\u30e7\u30f3: Scala code runner version 2.12.1\n\u3055\u3066\u3001kotlin, typescript, java\u3068\u82e6\u3057\u3044\u611f\u3058\u304c\u7d9a\u304d\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3067\u771f\u6253\u3061\u306e\u767b\u5834\u3067\u3059\u3002scala\u3067\u3059\u3002scala\u306b\u306f trait \u3068\u3044\u3046\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u307f\u305f\u3044\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u3053\u308c\u306b\u3082static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u306f\u66f8\u3051\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\u57fa\u672c\u7684\u306b\u306f\u3053\u308c\u307e\u3067\u3068\u540c\u3058\u3088\u3046\u306b LoadableStatic \u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5f15\u6570\u306b\u6e21\u3057\u3066\u3044\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u305d\u3053\u3067\u3001scala\u306b\u306f implicit parameter \u3068\u3044\u3046\u3001\u306a\u3093\u3068\u81ea\u52d5\u7684\u306b\u5f15\u6570\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u3066\u304f\u308c\u308b\u6a5f\u80fd\u304c\u3042\u308b\u306e\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u306f\u3001\u95a2\u6570\u306e\u5f15\u6570\u5ba3\u8a00\u306b implicit \u3068\u3044\u3046\u5370\u3092\u4ed8\u3051\u3066\u304a\u304f\u3068\u3001\u540c\u3058\u304f implicit \u3068\u3044\u3046\u5370\u304c\u3064\u3044\u305f\u5024\u306e\u3046\u3061\u3001\u578b\u304c\u30de\u30c3\u30c1\u3059\u308b\u5024\u304c\u305f\u30601\u3064\u3060\u3051\u898b\u3064\u304b\u308b\u5834\u5408\u306b\u3001\u305d\u308c\u3092\u81ea\u52d5\u3067\u6e21\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001 LoadableStatic \u3092\u6e21\u3057\u3066\u3044\u305f\u7b87\u6240\u3092 implicit \u5316\u3057\u3066\u3001\u5b9f\u969b\u306b\u306f\u6e21\u3057\u3066\u3044\u308b\u3093\u3060\u3051\u3069\u6e21\u3059\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u304c\u306a\u3044\u3001\u3068\u3044\u3046\u30b9\u30bf\u30a4\u30eb\u306b\u3067\u304d\u308b\u306e\u3067\u3059\u3002\n\u65e9\u901f\u3084\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n//  scala\n\ncase class Employee(name: String, age: Int)\n\nclass Company(name: String, employees: List[Employee]) {\n    override def toString(): String = {\n        return s\"name=${name}, employees=${employees}\"\n    }\n}\n\nEmployee \u3068 Company \u306f\u7279\u306b\u5909\u308f\u3063\u305f\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002 case class \u306f toString \u304c\u81ea\u52d5\u5b9f\u88c5\u3055\u308c\u307e\u3059\u3002kotlin\u306e data class \u307f\u305f\u3044\u306a\u3084\u3064\u3067\u3059\u3002\u307e\u3042\u3001\u5f8c\u767a\u306ekotlin\u304cscala\u3092\u30d1\u30af\u3063\u3066\u3044\u308b\u3093\u3067\u3059\u3051\u3069\u3002\n\u3055\u3066\u3001\u6b21\u306e load \u304c\u6ce8\u76ee\u3067\u3059\u3002\n//  scala\n\ntrait LoadableStatic[T] {\n    def load(iterator: Iterator[String]): T\n}\n\nobject Load {\n    def load[T](string: String)(implicit static: LoadableStatic[T]): T = {\n        val tokens = string.split(\"/\")\n        return load(tokens.iterator)\n    }\n    def load[T](iterator: Iterator[String])(implicit static: LoadableStatic[T]): T = {\n        return static.load(iterator)\n    }\n}\n\n\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u95a2\u6570\u304c\u7f6e\u3051\u306a\u3044\u305f\u3081 load \u30e1\u30bd\u30c3\u30c9\u306f Load \u306e\u4e2d\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\u3055\u3066\u3001\u3053\u306e load \u30e1\u30bd\u30c3\u30c9\u306e (implicit static: LoadableStatic[T]) \u306e\u90e8\u5206\u304c implicit parameter \u3067\u3059\u3002\u4e38\u62ec\u5f27\u304c2\u3064\u4e26\u3093\u3067\u3044\u308b\u306e\u306f\u3001 implicit parameter \u306e\u90e8\u5206\u306f\u30ab\u30ea\u30fc\u5316\u3057\u3066\u30d0\u30e9\u3059\u3068\u3044\u3046\u30eb\u30fc\u30eb\u304c\u3042\u308b\u305f\u3081\u3067\u3059\u30021\u3064\u76ee\u306e load \u304b\u3089 2\u3064\u76ee\u306e load \u3092\u547c\u3073\u51fa\u3059\u3068\u3053\u308d\u3067\u306f\u3001\u65e9\u901f\u3053\u306e implicit \u6e21\u3057\u304c\u9069\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5177\u8c61\u5316\u3055\u308c\u305f T \u306e\u5143\u3067\u3001 LoadableStatic[T] \u306a\u5024\u304c\u3061\u3087\u3046\u3069\u95a2\u6570\u4eee\u5f15\u6570\u306e static \u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3058\u3083\u3042\u3053\u308c\u3092\u6e21\u3057\u3066\u304a\u3053\u3046\u3068\u3044\u3046\u6d41\u308c\u306a\u308f\u3051\u3067\u3059\u3002\u3053\u308c\u307e\u3067swift\u4ee5\u5916\u306f\u3053\u306e 1\u3064\u76ee\u304b\u30892\u3064\u76ee\u306e\u547c\u3073\u51fa\u3057\u3066\u660e\u793a\u7684\u306a\u8ee2\u9001\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002\n\u3067\u306f\u3001 Int \u3068 String \u306e\u30c7\u30b3\u30fc\u30c0\u306e\u5b9f\u88c5\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n//  scala\n\npackage object Implicits {\n    implicit object IntLoadableStatic extends LoadableStatic[Int] {\n        def load(iterator: Iterator[String]): Int = {\n            val x = iterator.next\n            return x.toInt\n        }\n    }\n\n    implicit object StringLoadableStatic extends LoadableStatic[String] {\n        def load(iterator: Iterator[String]): String = {\n            val x = iterator.next\n            return x\n        }\n    }\n}\n\n\u5b9f\u88c5\u81ea\u4f53\u306f\u7279\u306b\u5909\u308f\u3063\u305f\u70b9\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001object\u6587\u306e\u5de6\u306b implicit \u304c\u3064\u3044\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u304c implicit parameter \u306e\u63a2\u7d22\u5bfe\u8c61\u3067\u3042\u308b\u3068\u3044\u3046\u76ee\u5370\u306b\u306a\u308a\u307e\u3059\u3002\u672c\u5f53\u306f kotlin\u306e\u3068\u304d\u306e\u3088\u3046\u306b\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306b\u5b9a\u7fa9\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u4ed5\u69d8\u4e0a\u305d\u308c\u304c\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u306e\u3067 package \u3092\u5207\u3063\u3066\u3044\u307e\u3059\u3002\n\u305d\u3057\u3066\u4f7f\u3046\u5074\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  scala\n\nobject Main {\n    import Implicits._\n\n    def main(args: Array[String]) {\n        val i = Load.load[Int](\"33\")\n        println(i)\n        val s = Load.load[String](\"abc\")\n        println(s)\n    }\n}\n\nMain \u306e\u4e2d\u306b import \u3092\u66f8\u3044\u3066\u3001\u5148\u7a0b\u306e implicit \u3092\u63a2\u7d22\u5bfe\u8c61\u306b\u3055\u305b\u3066\u3044\u307e\u3059\u3002 Load.load \u306e\u547c\u3073\u51fa\u3057\u306e\u3068\u3053\u308d\u3067\u306f\u3001\u4f55\u3082\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u5148\u7a0b\u306e IntLoadableStatic \u3068 StringLoadableStatic \u304c\u7b2c2\u5f15\u6570\u3068\u3057\u3066\u6e21\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u898b\u304b\u3051\u4e0a LoadableStatic \u3092\u6e21\u3055\u306a\u3044\u5f62\u3067\u306e\u30b3\u30fc\u30c9\u3067\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\u3053\u308c\u3067swift\u306e\u3068\u304d\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u4f59\u8a08\u306a\u4e8b\u306f\u66f8\u304b\u305a\u306b\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u578b T \u3092\u6c7a\u5b9a\u3059\u308b\u3060\u3051\u3067\u5f8c\u306f\u5bfe\u5fdc\u3057\u305f\u52d5\u4f5c\u3092\u3059\u308b\u3001\u3068\u3044\u3046\u76ee\u7684\u304c\u679c\u305f\u305b\u3066\u3044\u307e\u3059\u3002swift\u306e\u5834\u5408\u3092\u518d\u63b2\u3057\u307e\u3059\u3002\n//  swift\n\n    let i: Int = load(string: \"33\")\n    print(i)\n    let s: String = load(string: \"abc\")\n    print(s)\n\n\u3068\u3053\u308d\u3067wift\u306e\u6642\u306f\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u90fd\u5408\u4e0a\u3001\u5de6\u8fba\u306e\u5909\u6570\u306e\u578b\u3092\u5b9a\u7fa9\u3057\u3066\u63a8\u8ad6\u3055\u305b\u307e\u3057\u305f\u3002\u4eca\u56de\u306escala\u306e\u5834\u5408\u306f\u3001 load \u306e\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u578b\u3092\u6307\u5b9a\u3057\u3066\u304a\u308a\u3001\u9006\u306b\u5de6\u8fba\u5024\u306e\u578b\u306f\u53f3\u8fba\u5024\u304b\u3089\u63a8\u8ad6\u3055\u305b\u3066\u3044\u307e\u3059\u3002\u5b9f\u306f\u3053\u308c\u3092swift\u306e\u3068\u304d\u306e\u3088\u3046\u306b\u5de6\u8fba\u5024\u306b\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3068\u3001 implicit parameter \u306e\u63a2\u7d22\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u304f\u306a\u308a\u307e\u3059\u3002Scala\u306e\u578b\u63a8\u8ad6\u306e\u4ed5\u69d8\u3067\u305d\u306e\u3088\u3046\u306a\u4e8b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u306a\u306e\u3067\u3001swift\u306f\u5de6\u5074\u5fc5\u9808\u3001scala\u304c\u53f3\u5074\u5fc5\u9808\u3068\u3044\u3046\u9006\u306e\u7e1b\u308a\u304c\u751f\u307e\u308c\u3066\u3044\u308b\u306e\u304c\u9762\u767d\u3044\u3067\u3059\u3002\u3061\u306a\u307f\u306bScala\u3082\u57fa\u672c\u7684\u306b\u306f\u8fd4\u308a\u5024\u304b\u3089\u306e\u63a8\u8ad6\u306f\u52b9\u304f\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u3088\u3046\u306a implicit \u3068\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u306e\u7d44\u307f\u5408\u308f\u305b\u306e\u5834\u5408\u306b\u5236\u9650\u304c\u3042\u308b\u3068\u3044\u3046\u8a71\u3067\u3059\u3002\n\u3055\u3066\u3001\u30ea\u30b9\u30c8\u306e\u30c7\u30b3\u30fc\u30c0\u3092\u4f5c\u308a\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3068\u4e0b\u8a18\u3068\u306a\u308a\u307e\u3059\u3002\n//  scala\n\n    class ListLoadableStatic[T](elementStatic: LoadableStatic[T]) extends LoadableStatic[List[T]] {\n        def load(iterator: Iterator[String]): List[T] = {\n            val n = Load.load[Int](iterator)\n            var ret = List[T]()\n            for (i <- 0 until n) {\n                val x = Load.load[T](iterator)(elementStatic)\n                ret = ret :+ x\n            }\n            return ret\n        }\n    }\n\n\u3057\u304b\u3057\u3053\u3053\u3067\u554f\u984c\u304c\u751f\u3058\u307e\u3059\u3002\u3053\u306e\u30af\u30e9\u30b9\u306f\u3053\u308c\u307e\u3067\u306e\u5982\u304f\u5f15\u6570\u306b\u8981\u7d20\u578b\u306e LoadableStatic \u304c\u5fc5\u8981\u3067\u3059\u3002\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u3067\u3082 implicit \u306b\u89e3\u6c7a\u3067\u304d\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\u3053\u3053\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u88dc\u52a9\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  scala\n\n    implicit def createListLoadableStatic[T](implicit elementStatic: LoadableStatic[T]): LoadableStatic[List[T]] = {\n        return new ListLoadableStatic[T](elementStatic)\n    }\n\n\u305d\u3046\u3067\u3059\u3001 implicit \u306a\u5f15\u6570\u3092\u53d6\u308b\u3001\u305d\u308c\u81ea\u8eab\u304c implicit \u306a\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u3067\u3059\u3002\u3053\u3046\u3059\u308b\u3068\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u3068\u3053\u308d\u306b\u3053\u306e\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u304c\u57cb\u3081\u8fbc\u307e\u308c\u3001\u3055\u3089\u306b\u3053\u306e\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306e\u3068\u3053\u308d\u306b\u306f\u8981\u7d20\u578b\u306e LoadableStatic \u304c\u57cb\u3081\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u63a2\u7d22\u3055\u308c\u308b\u306e\u3067\u3059\u3002\u5b9f\u969b\u306b\u547c\u3073\u51fa\u3057\u4f8b\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n//  scala\n\n        val a = Load.load[List[String]](\"3/apple/banana/cherry\")\n        println(a)\n\n\u3053\u306e\u3088\u3046\u306b\u63a8\u8ad6\u3055\u305b\u308b\u4e8b\u304c\u3067\u304d\u307e\u3057\u305f\u3002 List[String] \u3068\u3044\u3046\u5165\u308c\u5b50\u306e\u578b\u306b\u3082\u3001\u7279\u5225\u306a\u8a18\u8ff0\u7121\u3057\u3067\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\u6700\u5f8c\u306b\u3001 Employee \u3068 Company \u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n//  scala\n\n    implicit object EmployeeLoadableStatic extends LoadableStatic[Employee] {\n        def load(iterator: Iterator[String]): Employee = {\n            return new Employee(\n                Load.load[String](iterator),\n                Load.load[Int](iterator)\n                )\n        }\n    }\n\n    implicit object CompanyLoadableStatic extends LoadableStatic[Company] {\n        def load(iterator: Iterator[String]): Company = {\n            return new Company(\n                Load.load[String](iterator),\n                Load.load[List[Employee]](iterator))\n        }\n    }\n\n\u540c\u3058\u3088\u3046\u306b\u5b9f\u88c5\u3057\u307e\u3059\u3002\u5b9f\u88c5\u81ea\u4f53\u306f\u7279\u306b\u5909\u308f\u3063\u305f\u70b9\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057swift\u3068\u306e\u5bfe\u6bd4\u3067\u307f\u308b\u3068\u3001 Load.load \u306b\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u6e21\u3057\u3066\u3044\u308b\u70b9\u304c\u5c11\u3057\u9055\u3044\u307e\u3059\u3002swift\u306e\u5834\u5408\u3092\u518d\u63b2\u3057\u307e\u3059\u3002\n//  siwft\n\nextension Employee: Loadable {\n    static func load(iterator: AnyIterator<String>) -> Employee {\n        return Employee(\n            name: Main.load(iterator: iterator),\n            age: Main.load(iterator: iterator)\n            )\n    }\n}\n\nextension Company: Loadable {\n    static func load(iterator: AnyIterator<String>) -> Company {\n        return Company(\n            name: Main.load(iterator: iterator),\n            employees: Main.load(iterator: iterator))\n    }\n}\n\nswift\u306e\u5834\u5408\u306f\u3053\u306e\u3088\u3046\u306b\u3001\u578b\u6307\u5b9a\u3092\u3057\u306a\u3044\u3067\u8a18\u8ff0\u3067\u304d\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u306fswift\u306f\u8fd4\u308a\u5024\u304b\u3089\u306e\u578b\u63a8\u8ad6\u304c\u52b9\u304f\u305f\u3081\u306b\u578b\u304c\u7701\u7565\u3067\u304d\u305f\u306e\u306b\u5bfe\u3057\u3066\u3001Scala\u306f\u305d\u308c\u304c\u3067\u304d\u306a\u3044\u305f\u3081\u306b\u578b\u3092\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u306b\u3088\u308b\u9055\u3044\u3067\u3059\u3002\nscala\u3067\u306e\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  scala\n\n        val c = Load.load[Company](\"CatWorld/3/tama/5/mike/6/kuro/7\")\n        println(c)\n\n\u3044\u304b\u304c\u3067\u3057\u305f\u3067\u3057\u3087\u3046\u304b\u3002scala\u3067\u306f implicit parameter \u3068\u3044\u3046\u8a00\u8a9e\u6a5f\u80fd\u306b\u3088\u3063\u3066\u3001T \u306b\u3064\u3044\u3066\u306e\u632f\u308b\u821e\u3044\u3092\u5b9a\u7fa9\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u90e8\u5206\u3092\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u81ea\u52d5\u7684\u306b\u4efb\u305b\u308b\u4e8b\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u3088\u3046\u306a\u4e8b\u304c\u3067\u304d\u308b\u305f\u3081\u306b\u3001scala\u306e implicit parameter \u304c\u578b\u30af\u30e9\u30b9\u306e\u3088\u3046\u306a\u3082\u306e\u3060\u3068\u8a00\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u8d77\u304d\u3066\u3044\u308b\u4e8b\u3092\u62bd\u8c61\u7684\u306b\u6349\u3048\u306a\u304a\u3057\u3066\u307f\u308c\u3070\u3001\u3042\u308b\u578b\u306b\u5bfe\u3057\u3066\u5c02\u7528\u306e\u5b9f\u88c5\u3092\u7528\u610f\u3059\u308b\u3001\u3068\u3044\u3046\u52d5\u4f5c\u306e\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u3092\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u6c7a\u5b9a\u3059\u308b\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u578b T \u306b\u5fdc\u3058\u3066\u5207\u308a\u66ff\u3048\u308b\u4e8b\u304c\u3067\u304d\u308b\u3001\u305d\u3057\u3066\u3001\u305d\u306e\u52d5\u4f5c\u3092\u63d0\u4f9b\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 T \u306e\u5177\u8c61\u5316\u5148\u306e\u578b\u3054\u3068\u306b\u7528\u610f\u3057\u3066\u304a\u304f\u4e8b\u3067\u3001\u52d5\u4f5c\u3092\u7528\u610f\u3057\u3066\u3044\u308b\u578b\u3068\u3057\u3066\u3044\u306a\u3044\u578b\u3092\u5236\u5fa1\u3059\u308b\u3001\u3068\u3044\u3046\u4e8b\u304c\u8d77\u304d\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u578b\u30af\u30e9\u30b9\u306b\u3088\u3063\u3066\u5b9a\u7fa9\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u3001\u4eca\u56de\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u95a2\u6570\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u3066\u3001\u3042\u308b\u578b\u3092\u3042\u308b\u578b\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u3059\u308b\u3001\u3068\u3044\u3046\u4e8b\u304c\u3001\u305d\u306e\u578b\u3067\u7279\u6b8a\u5316\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u540c\u6642\u306b\u52d5\u4f5c\u30ed\u30b8\u30c3\u30af\u3092\u8a18\u8ff0\u3059\u308b\u3001\u3068\u3044\u3046\u4e8b\u3068\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u578b\u304c\u3042\u308b\u578b\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3042\u308b\u304b\u3069\u3046\u304b\u306e\u5224\u5b9a\u304c\u3001\u5177\u8c61\u5316\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u306e\u5224\u5b9a\u3068\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u9759\u7684\u306b\u30c1\u30a7\u30c3\u30af\u3067\u304d\u3066\u3001\u30b3\u30fc\u30c9\u306e\u898b\u305f\u76ee\u306b\u306f\u898b\u3048\u306a\u3044\u5f62\u3067\u884c\u308f\u308c\u308b\u306e\u3067\u3001\u578b\u30af\u30e9\u30b9\u306e\u3088\u3046\u306a\u3082\u306e\u3001\u3068\u8003\u3048\u3089\u308c\u308b\u308f\u3051\u3067\u3059\u3002\u306a\u304a\u6355\u6349\u3067\u3059\u304c\u3001\u3053\u306e\u4e00\u7dd2\u306b\u6e21\u3059\u632f\u308b\u821e\u3044\u7528\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u81ea\u4f53\u306f\u3001\u4eca\u56de\u306f T \u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u3067\u3057\u305f\u304c\u3001\u5f15\u6570\u3068\u3057\u3066 T \u3092\u53d7\u3051\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u3082\u4f5c\u308c\u308b\u308f\u3051\u306a\u306e\u3067\u3001static\u30e1\u30bd\u30c3\u30c9\u3092\u6ce8\u5165\u3059\u308b\u4eca\u56de\u306e\u3088\u3046\u306a\u30d1\u30bf\u30fc\u30f3\u306b\u304b\u304e\u3089\u305a\u3001\u65e2\u5b58\u306e\u578b T \u306b\u5bfe\u3057\u3066\u3042\u308b\u540d\u524d\u3067\u898f\u5b9a\u3055\u308c\u308b\u6a5f\u80fd\u306e\u632f\u308b\u821e\u3044\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3044\u3063\u305f\u5f62\u3067\u4f7f\u3048\u307e\u3059\u3002\n\nSwift\u3068Scala\u306e\u6bd4\u8f03\nSwift\u3068Scala\u306f\u3069\u3061\u3089\u3082\u826f\u3044\u611f\u3058\u306b\u5b9f\u88c5\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u3053\u3067\u306fSwift\u3068Scala\u306e\u9055\u3044\u3092\u6574\u7406\u3057\u307e\u3059\u3002\nScala\u3067\u306f LoadableStatic \u306e\u5b58\u5728\u306f\u898b\u305f\u76ee\u306b\u96a0\u853d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u306e\u5fc5\u8981\u306b\u3064\u3044\u3066\u306f\u5c11\u3057\u305a\u3064swift\u3068scala\u3067\u4ed5\u69d8\u304c\u9055\u3063\u3066\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u3092\u6574\u7406\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u4e8b\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n\u521d\u671f\u5316\u4ee3\u5165\u6587\u3067\u306f\u3001Swift\u3067\u306f\u5de6\u8fba\u3001Scala\u3067\u306f\u53f3\u8fba\u306e\u578b\u6307\u5b9a\u304c\u5fc5\u8981 \n\u95a2\u6570\u547c\u3073\u51fa\u3057\u90e8\u5206\u3067\u306fSwift\u306f\u4e0d\u8981\u3001Scala\u3067\u306f\u578b\u6307\u5b9a\u304c\u5fc5\u8981\nSwift\u306fArray\u7528\u306e load \u306e\u5b9f\u88c5\u304c\u5fc5\u8981\u3001Scala\u3067\u306f\u6c4e\u7528\u306e load \u3067\u5168\u3066\u5bfe\u5fdc\n\n\u307e\u305a1\u3064\u76ee\u306b\u3064\u3044\u3066\u306f\u3001\u539f\u7406\u4e0a\u5de6\u306b\u305b\u3088\u53f3\u306b\u305b\u3088\u3001\u4f55\u304b\u3057\u30891\u7b87\u6240\u306f\u6307\u5b9a\u304c\u5fc5\u8981\u306a\u5834\u9762\u3067\u3059\u3002\u3069\u3061\u3089\u3082\u7121\u304b\u3063\u305f\u3089\u4f55\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308c\u3070\u826f\u3044\u304b\u6c7a\u3081\u3089\u308c\u307e\u305b\u3093\u3002\u305d\u3057\u3066\u5de6\u3068\u53f3\u306f\u540c\u3058\u3088\u3046\u306b\u601d\u3048\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u304c\u521d\u671f\u5316\u4ee3\u5165\u6587\u3067\u306f\u306a\u304f\u3001\u5909\u6570\u3078\u306e\u518d\u4ee3\u5165\u6587\u3060\u3063\u305f\u5834\u5408\u3092\u8003\u3048\u3066\u307f\u308b\u3068\u3001swift\u306f\u578b\u6307\u5b9a\u3092\u7121\u304f\u3059\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u70b9\u3067\u306f\u5de6\u5074\u6307\u5b9a\u306e\u4ed5\u69d8\u306e\u65b9\u304c\u4fbf\u5229\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u5909\u6570\u3088\u308a\u5b9a\u6570\u3092\u521d\u671f\u5316\u4ee3\u5165\u3059\u308b\u4e8b\u306e\u307b\u3046\u304c\u4e00\u822c\u306b\u591a\u3044\u306e\u3067\u3001\u3042\u307e\u308a\u5909\u308f\u3089\u306a\u3044\u3067\u3057\u3087\u3046\u3002\n2\u3064\u76ee\u306b\u3064\u3044\u3066\u306f\u3001Swift\u306e\u307b\u3046\u304c\u4fbf\u5229\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u3067\u306f\u3001\u305d\u306e\u95a2\u6570\u306e\u540d\u524d\u3092\u66f8\u304f\u3068\u3044\u3046\u884c\u70ba\u306b\u3088\u3063\u3066\u3001\u305d\u306e\u95a2\u6570\u306e\u5f15\u6570\u90e8\u5206\u306e\u578b\u3092\u30d7\u30ed\u30b0\u30e9\u30de\u304c\u6697\u9ed9\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u306a\u306e\u3067\u3001Scala\u306e\u4ed5\u69d8\u3067\u306f\u3001\u65e2\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u4e8b\u3092\u6539\u3081\u3066\u66f8\u304d\u4e0b\u3057\u3066\u3044\u3066\u7121\u99c4\u306a\u624b\u9593\u304c\u304b\u304b\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n3\u3064\u76ee\u306b\u3064\u3044\u3066\u306fScala\u306e\u65b9\u304c\u7dba\u9e97\u3067\u3059\u3002\u305d\u3082\u305d\u3082Swift\u3067\u3053\u306e\u3088\u3046\u306a\u4e8b\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u306f\u3001\u300c\u914d\u5217\u306e\u8981\u7d20\u306e\u578b\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u306a\u3068\u304d\u3060\u3051\u305d\u306e\u914d\u5217\u81ea\u4f53\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u3067\u3042\u308b\u300d\u3068\u3044\u3046\u6761\u4ef6\u4ed8\u304d\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u9069\u7528\u304c\u66f8\u3051\u306a\u304b\u3063\u305f\u304b\u3089\u3067\u3057\u305f\u3002\u4e00\u65b9Scala\u306e\u5834\u5408\u306f\u3001\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u63a2\u7d22\u3059\u308b\u6642\u306b\u3001\u305d\u308c\u3092\u8fd4\u3059\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066\u8981\u7d20\u306e\u30c7\u30b3\u30fc\u30c0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u63a2\u7d22\u3059\u308b\u3001\u3068\u3044\u3046\u5f62\u3067\u3001\u304d\u3061\u3093\u3068\u8981\u7d20\u306e\u578b\u306e\u5224\u5b9a\u306b\u4f9d\u5b58\u3057\u3066\u3001\u914d\u5217\u306e\u578b\u306e\u5224\u5b9a\u304c\u9023\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u70b9\u3067\u306fScala\u306e\u65b9\u304c\u5b8c\u5168\u306b\u512a\u308c\u3066\u3044\u307e\u3059\u3002\n\u305d\u3093\u306a\u611f\u3058\u3067\u578b\u6307\u5b9a\u5468\u308a\u306b\u3064\u3044\u3066\u306f\u4e00\u9577\u4e00\u77ed\u3067\u3059\u3002\u5e78\u3044Swift\u304c\u52a3\u3063\u3066\u3044\u308b3\u3064\u76ee\u306e\u70b9\u306b\u3064\u3044\u3066\u306f\u4eca\u5f8c\u306e\u5bfe\u5fdc\u304c\u4e88\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3053\u304c\u5bfe\u5fdc\u3055\u308c\u308c\u3070\u3001Swift\u306f\u304b\u306a\u308a\u826f\u3044\u3068\u8a00\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\u307e\u305f\u3001\u5229\u7528\u5074\u306e\u578b\u6307\u5b9a\u3067\u306f\u306a\u304f\u3001\u30c7\u30b3\u30fc\u30c0\u306e\u5b9f\u88c5\u5074\u306e\u65b9\u5f0f\u3082\u7d50\u69cb\u9055\u3063\u3066\u3044\u307e\u3059\u3002\n\nSwift\u306f Loadable \u3068\u3044\u3046 protocol \u306b load static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u3092\u66f8\u304d\u3001\u305d\u308c\u3092\u62e1\u5f35\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u6ce8\u5165\u3059\u308b\nScala\u306f LoadableStatic \u3068\u3044\u3046 trait \u306b load \u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u3092\u66f8\u304d\u3001 LoadableStatic \u3092\u5b9f\u88c5\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 implicit \u3064\u304d\u3067\u5b9a\u7fa9\u3059\u308b\n\n\u3068\u3044\u3046\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3084\u308a\u305f\u3044\u3053\u3068\u306f \u300cT \u3092\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u300d\u3067\u3042\u308b\u3068\u8003\u3048\u308b\u3068\u3001static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u306e\u3042\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u66f8\u3044\u3066\u3001 T \u306b\u305d\u308c\u3092\u9069\u7528\u3055\u305b\u308b\u3001\u3068\u3044\u3046swift\u306e\u3084\u308a\u65b9\u306f\u304b\u306a\u308a\u81ea\u7136\u3067\u308f\u304b\u308a\u3084\u3059\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u3082\u3061\u308d\u3093\u3053\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u306b\u3064\u3044\u3066\u3082\u5236\u7d04\u3067\u304d\u308b\u306e\u3067\u3001\u578b T \u3068\u305d\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u9069\u7528\u3001\u3068\u3044\u3046\u767b\u5834\u4eba\u7269\u3060\u3051\u3067\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u306e\u8a71\u3082static\u30e1\u30bd\u30c3\u30c9\u306e\u8a71\u3082\u540c\u3058\u3088\u3046\u306b\u53d6\u308a\u6271\u3048\u307e\u3059\u3002\u4e00\u65b9Scala\u3084kotlin\u306e\u3084\u308a\u65b9\u3060\u3068\u3001 T \u81ea\u4f53\u306b\u306f\u624b\u3092\u5165\u308c\u305a\u3001 T \u306b\u5bfe\u5fdc\u3057\u305f\u305d\u308c\u305e\u308c\u306e LoadableStatic \u30af\u30e9\u30b9\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3068\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u7528\u610f\u3059\u308b\u3068\u3053\u308d\u304c\u3001\u9593\u63a5\u7684\u306a\u5b9a\u7fa9\u306b\u306a\u3063\u3066\u3044\u3066\u308f\u304b\u308a\u306b\u304f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\nScala\u306e\u3088\u3046\u306a\u9593\u63a5\u7684\u306a\u3084\u308a\u65b9\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u306f\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3057\u304b\u66f8\u3051\u306a\u3044\u3001\u3068\u3044\u3046\u4e8b\u304c\u4e3b\u306a\u7406\u7531\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u578b\u3060\u3051\u3067\u4f55\u304b\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305a\u3001\u5fc5\u305a\u305d\u306e\u578b\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3042\u3063\u3066\u521d\u3081\u3066\u4f55\u304b\u3059\u308b\u3001\u3068\u3044\u3046\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u308c\u306b\u5bfe\u3057\u3066\u3001Swift\u304c static\u5236\u7d04\u3092\u62e1\u5f35\u3057\u305f\u4e8b\u306f\u3001\u9006\u306b\u4f55\u304b\u304a\u304b\u3057\u306a\u4e8b\u306b\u306a\u3089\u306a\u3044\u306e\u304b\u8003\u3048\u3066\u307f\u307e\u3057\u305f\u3002\u307e\u305a\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3068\u3044\u3046\u3082\u306e\u306f\u5358\u306b\u898b\u3048\u306a\u3044\u7b2c0\u5f15\u6570\u3068\u3057\u3066\u306e this \u304c\u3042\u308b\u3060\u3051\u306estatic\u30e1\u30bd\u30c3\u30c9\u3068\u8003\u3048\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u306b\u3064\u3044\u3066\u306f\u305d\u306estatic\u30e1\u30bd\u30c3\u30c9\u306e\u7a81\u5165\u76f4\u5f8c\u306b\u3001\u7b2c0\u5f15\u6570\u306b\u3082\u3068\u3065\u3044\u3066\u884c\u3046\u51e6\u7406\u3067\u3042\u3063\u3066\u3001\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u30a8\u30f3\u30c8\u30ea\u81ea\u4f53\u306f\u5358\u306b\u5f15\u6570\u304c\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u30c9\u30c3\u30c8\u306e\u5de6\u5074\u306b\u3042\u308b\u3060\u3051\u3067\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u305d\u3082\u305d\u3082\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u306e\u5236\u7d04\u3092\u66f8\u304f\u6a5f\u80fd\u306f\u3001\u7b2c0\u5f15\u6570\u304c\u5f37\u5236\u3055\u308c\u305fstatic\u30e1\u30bd\u30c3\u30c9\u3060\u3051\u304c\u304b\u3051\u308b\u6a5f\u80fd\u3060\u3063\u305f\u3068\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3001\u305d\u306e\u5236\u7d04\u3092\u53d6\u308a\u6255\u3046\u3053\u3068\u3067static\u30e1\u30bd\u30c3\u30c9\u3082\u304b\u3051\u308b\u3088\u3046\u306b\u306a\u308b\u3001\u3068\u3044\u3046\u306e\u306f\u81ea\u7136\u306a\u4e00\u822c\u5316\u306e\u3088\u3046\u306b\u601d\u3048\u307e\u3059\u3002\n\nSwift\u306e\u88cf\u5074\nSwift\u3067\u306f\u3053\u306e\u3088\u3046\u306a load<T>\u3000\u306e T \u306b\u5bfe\u3059\u308bstatic\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u3059\u308b\u30b3\u30fc\u30c9\u306f\u3001\u5b9f\u969b\u306b\u5177\u8c61\u5316\u3055\u308c\u305f T \u306e\u30b3\u30fc\u30c9\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u5b9f\u884c\u6642\u306b\u306f\u4f8b\u3048\u3070\u578b Int \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u3066 Int \u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u3001\u3068\u3044\u3046\u5f62\u3067\u306f\u306a\u304f\u3066\u3001\u521d\u3081\u304b\u3089 Int \u306e\u6642\u306e\u5834\u5408\u306e\u95a2\u6570\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304a\u3044\u3066\u3001\u305d\u3053\u306b\u306f\u76f4\u63a5 Int \u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u30b3\u30fc\u30c9\u304c\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u3057\u304b\u3057\u4e00\u65b9\u3067\u3001Swift\u306f\u5916\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5bfe\u3057\u3066\u3053\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u3092\u516c\u958b\u3057\u305f\u5834\u5408\u3001\u547c\u3073\u51fa\u3057\u5074\u306f\u95a2\u6570\u3092\u5177\u8c61\u5316\u3057\u3066\u518d\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u304b\u3089\u3001\u305d\u306e\u6642\u306e\u3088\u3046\u306b\u672c\u5f53\u306b\u578b T \u3092\u53d7\u3051\u53d6\u308b\u67d4\u8edf\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u3082\u751f\u6210\u3059\u308b\u306f\u305a\u3067\u3059\u3002\u305d\u308c\u3092\u4eca\u56de\u306e\u30b3\u30fc\u30c9\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066LLVM-IR\u3092\u898b\u3066\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\u6700\u9069\u5316\u3057\u305f\u7248\u306eLLVM-IR\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n$ swiftc -emit-ir -O -module-name Main swift.swift\n\n\u306a\u304a\u3001SIL\u3067\u306a\u304fLLVM-IR\u3092\u4e00\u6c17\u306b\u898b\u306b\u884c\u304f\u306e\u306f\u3001SIL\u306e\u6bb5\u968e\u3060\u3068\u307e\u3060\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u8868\u73fe\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u306b\u3001\u5b9f\u969b\u306e\u95a2\u6570\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306eABI\u304c\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u304b\u306f\u308f\u304b\u3089\u306a\u3044\u304b\u3089\u3067\u3059\u3002\u305f\u3060\u3001\u30b7\u30f3\u30dc\u30eb\u540d\u306e\u30d2\u30f3\u30c8\u3068\u3057\u3066SIL\u3067\u306e\u51fa\u529b\u306f\u53c2\u8003\u306b\u306a\u308b\u306e\u3067\u3001\u5b9f\u969b\u306b\u306fSIL\u3082\u4e26\u884c\u3057\u3066\u53c2\u7167\u3057\u307e\u3059\u3002\n\u3055\u3066\u3001SIL\u3092\u63a2\u3059\u3068\u4e0b\u8a18\u304c\u898b\u3064\u304b\u308a\u307e\u3059\u3002\n// load<A where ...> (iterator : AnyIterator<String>) -> A\nsil hidden @_TF4Main4loaduRxS_8Loadablexzwx6LoadedrFT8iteratorGVs11AnyIteratorSS__x : $@convention(thin) <T where T : Loadable, T.Loaded == T> (@owned AnyIterator<String>) -> @out T {\n    ...\n}\n\n\u30b3\u30e1\u30f3\u30c8\u304c\u3064\u3044\u3066\u3044\u308b\u306e\u3067\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a T \u7528\u306e load \u3060\u3068\u308f\u304b\u308a\u307e\u3059\u3002\u672c\u6587\u306f\u7701\u7565\u3057\u307e\u3057\u305f\u3002\u3053\u3053\u304b\u3089\u3001\u95a2\u6570\u540d\u3092\u30b3\u30d4\u30da\u3057\u3066IR\u3092\u898b\u308b\u3068\u3001\u4e0b\u8a18\u304c\u898b\u3064\u304b\u308a\u307e\u3059\u3002\ndefine hidden void @_TF4Main4loaduRxS_8Loadablexzwx6LoadedrFT8iteratorGVs11AnyIteratorSS__x(%swift.opaque* noalias nocapture sret, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type* %T, i8** %T.Loadable) #0 {\nentry:\n  %2 = getelementptr inbounds i8*, i8** %T.Loadable, i64 1\n  %3 = bitcast i8** %2 to void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)**\n  %4 = load void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)*, void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)** %3, align 8, !invariant.load !29\n  tail call void %4(%swift.opaque* noalias nocapture sret %0, %GCs19_AnyIteratorBoxBaseSS_* %1, %swift.type* %T, %swift.type* %T, i8** %T.Loadable)\n  ret void\n}\n\n\u3053\u308c\u304c\u6c17\u306b\u306a\u3063\u3066\u3044\u308b\u30d0\u30a4\u30ca\u30ea\u306a\u306e\u3067\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\u7b2c1\u5f15\u6570\u306f \u540d\u524d\u304c %0\u3001\u578b\u304c %swift.opaque* noalias nocapture sret \u3067\u3059\u3002 noalias\u3001nocapture\u3001sret \u306f\u30d2\u30f3\u30c8\u306a\u306e\u3067\u3001\u8981\u3059\u308b\u306b %swift.opaque \u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3059\u3002\u95a2\u6570\u81ea\u4f53\u306e\u8fd4\u308a\u5024\u306e\u578b\u304c void \u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3082\u30dd\u30a4\u30f3\u30c8\u3067\u3001\u7d50\u5c40\u3053\u308c\u306f\u8fd4\u308a\u5024\u3092\u53c2\u7167\u6e21\u3057\u3067\u53d7\u3051\u53d6\u308b\u305f\u3081\u306e\u5f15\u6570\u3067\u3059\u3002\u4eca\u56de\u306f\u8fd4\u308a\u5024\u306e\u578b\u3082 T \u3068\u3044\u3046\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u578b\u306a\u306e\u3067\u3001\u30aa\u30da\u30a4\u30af\u30dd\u30a4\u30f3\u30bf\u3067\u623b\u3059\u308f\u3051\u3067\u3059\u306d\u3002\n\u7b2c2\u5f15\u6570\u306f \u540d\u524d\u304c %1\u3001\u578b\u304c %GCs19_AnyIteratorBoxBaseSS_* \u3067\u3059\u3002 AnyIterator \u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3059\u306d\u3002 BoxBase \u3068\u304b\u306f AnyIterator \u306e\u5b9f\u88c5\u4e0a\u306e\u578b\u540d\u3068\u304b\u306e\u540d\u6b8b\u3067\u3057\u3087\u3046\u3002\n\u7b2c3\u5f15\u6570\u306f \u540d\u524d\u304c %T\u3001\u578b\u304c %swift.type* \u3067\u3059\u3002 %swift.type \u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u3064\u307e\u308a\u5177\u8c61\u5316\u3055\u308c\u305f T \u306e\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\u306d\u3002\n\u7b2c4\u5f15\u6570\u306f \u540d\u524d\u304c %T.Loadable\u3001\u578b\u304c i8** \u3067\u3059\u3002\u8981\u3059\u308b\u306b\u4f55\u304b\u306e\u30dd\u30a4\u30f3\u30bf\u306a\u3093\u3067\u3059\u304c\u3001\u7d50\u8ad6\u3068\u3057\u3066\u306f\u3053\u308c\u306f\u5177\u8c61\u5316\u3055\u308c\u305f T \n\u304c \u30d7\u30ed\u30c8\u30b3\u30eb Loadable \u306b\u6e96\u62e0\u3059\u308b\u305f\u3081\u306e\u3001protocol witness table\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3060\u3068\u63a8\u6e2c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3060\u3051\u3067\u8ad6\u7406\u7684\u306b\u7d50\u8ad6\u3059\u308b\u306e\u306f\u7121\u7406\u3067\u3059\u304c\u3001\u904e\u53bb\u306b \u3053\u3053\u3089\u3078\u3093\u3092\u8abf\u3079\u305f\u8a18\u4e8b \u3092\u66f8\u3044\u3066\u3044\u308b\u306e\u3067\u6c17\u306b\u306a\u308b\u4eba\u306f\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\u95a2\u6570\u672c\u4f53\u3067\u3059\u304c\u3001witness table\u304b\u3089\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3092\u53d6\u3063\u3066\u304d\u3066\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\u307e\u305a\u3001 %2 \u306b\u5bfe\u3057\u3066 %T.Loadable \u304b\u3089\u30a8\u30f3\u30c8\u30ea\u3092\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n  %2 = getelementptr inbounds i8*, i8** %T.Loadable, i64 1\n\n\u3053\u306e\u672b\u5c3e\u306e 1 \u304c\u8981\u7d20\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u3067\u3059\u304c\u3001SIL\u306e\u65b9\u3092\u898b\u308b\u3068\u4f55\u304c\u5165\u3063\u3066\u3044\u308b\u304b\u308f\u304b\u308a\u307e\u3059\u3002\nsil_witness_table hidden Int: Loadable module Main {\n  associated_type Loaded: Int\n  method #Loadable.load!1: @_TTWSi4Main8LoadableS_ZFS0_4loadfT8iteratorGVs11AnyIteratorSS__wx6Loaded    // protocol witness for static Loadable.load(iterator : AnyIterator<String>) -> A.Loaded in conformance Int\n}\n\n\u4f8b\u3048\u3070\u3053\u308c\u306f Int \u3092 Loadable \u306b\u9069\u7528\u3055\u305b\u308b\u305f\u3081\u306e\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u3067\u3059\u3002 Loadble.load \u3068\u3057\u3066 _TTWSi4Main8LoadableS_ZFS0_4loadfT8iteratorGVs11AnyIteratorSS__wx6Loaded \u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u30b7\u30f3\u30dc\u30eb\u3092IR\u304b\u3089\u63a2\u3057\u307e\u3059\u3002\u3059\u308b\u3068\u4e0b\u8a18\u304c\u898b\u3064\u304b\u308a\u307e\u3059\u3002\n@_TWPSi4Main8LoadableS_ = \n    hidden constant [2 x i8*] [\n        i8* bitcast (\n            %swift.type* ()* \n            @_TMaSi \n            to i8*\n        ), \n        i8* bitcast (\n            void (%Si*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)* @_TTWSi4Main8LoadableS_ZFS0_4loadfT8iteratorGVs11AnyIteratorSS__wx6Loaded \n            to i8*\n        )\n    ], align 8\n\n\u898b\u3084\u3059\u3044\u3088\u3046\u306b\u30a4\u30f3\u30c7\u30f3\u30c8\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3055\u3063\u304d\u306e\u30b7\u30f3\u30dc\u30eb\u3060\u3063\u305f\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u304c\u3001 i8* \u306b\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u305f\u4e0a\u3067\u3001 _TWPSi4Main8LoadableS_\u3000\u306e\u7b2c1\u8981\u7d20\u3068\u3057\u3066\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\u30c6\u30fc\u30d6\u30eb\u306e\u7b2c0\u8981\u7d20\u306f @_TMaSi \u3068\u3044\u3046\u95a2\u6570\u3067\u3059\u304c\u3001\u3053\u308c\u3092 swift-demangle \u3059\u308b\u3068 @type metadata accessor for Swift.Int() \u3067\u3042\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u3002\u3088\u3046\u3059\u308b\u306b\u3001\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u306f Int \u304c Loadable \u3068\u3057\u3066\u632f\u308b\u821e\u3046\u3068\u304d\u306e\u30c6\u30fc\u30d6\u30eb\u3067\u3059\u304c\u3001\u305d\u306e Int \u306e\u30c6\u30fc\u30d6\u30eb\u3067\u3042\u308b\u3068\u3044\u3046\u4e8b\u304c\u9006\u5f15\u304d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306d\u3002\u305d\u3057\u3066\u7b2c1\u8981\u7d20\u304c\u3001 Int \u304c Loadable \u3068\u3057\u3066\u632f\u308b\u821e\u3046\u3068\u304d\u306e\u30ed\u30b8\u30c3\u30af\u304c\u66f8\u304b\u308c\u305f\u95a2\u6570\u306a\u308f\u3051\u3067\u3059\u3002\nInt \u306b\u304b\u304e\u3089\u305a\u4ed6\u306e\u578b\u3067\u3042\u3063\u3066\u3082\u540c\u3058\u30ec\u30a4\u30a2\u30a6\u30c8\u306a\u306e\u3067\u3001 Loadble.load \u306e\u578b\u3054\u3068\u306e\u5b9f\u88c5\u3092\u53d6\u3063\u3066\u304d\u3066\u3044\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u3002\u5b9f\u969b\u306b\u306f getelementptr \u306f\u305d\u306e\u8981\u7d20\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u8fd4\u3059\u306e\u3067\u3001\u4eca %2 \u306f\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u304c\u66f8\u304b\u308c\u305f\u30e1\u30e2\u30ea\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u306a\u308f\u3051\u3067\u3059\u3002\n\u6b21\u306b\u305d\u308c\u3092\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u306e\u30dd\u30a4\u30f3\u30bf\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066 %3 \u306b\u4fdd\u6301\u3057\u307e\u3059\u3002\n  %3 = bitcast i8** %2 to void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)**\n\n\u3053\u308c\u306f\u3055\u3063\u304d\u898b\u305f _TTWSi4Main8LoadableS_ZFS0_4loadfT8iteratorGVs11AnyIteratorSS__wx6Loaded \u306e\u578b\u3068\u4e00\u81f4\u3057\u3066\u3044\u307e\u3059\u306d\u3002\u3067\u3001 load \u547d\u4ee4\u3067\u30dd\u30a4\u30f3\u30bf\u3092\u30c7\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3057\u3066\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3092 %4 \u306b\u5f97\u307e\u3059\u3002\n  %4 = load void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)*, void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)** %3, align 8, !invariant.load !29\n\n\u3053\u308c\u3082\u9577\u3044\u884c\u3067\u3059\u304c\u3001 load <\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u306e\u578b> <\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u306e\u578b *> %3, align 8, !invariant.load !29 \u3068\u66f8\u3044\u3066\u3042\u308b\u3060\u3051\u3067\u3059\u306d\u3002\n\u6b21\u306e\u884c\u3067\u3044\u3088\u3044\u3088\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n    tail call void %4(\n        %swift.opaque* noalias nocapture sret %0, \n        %GCs19_AnyIteratorBoxBaseSS_* %1, \n        %swift.type* %T, \n        %swift.type* %T, \n        i8** %T.Loadable)\n\n\u3053\u3053\u3082\u30a4\u30f3\u30c7\u30f3\u30c8\u3092\u5165\u308c\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u307e\u3067\u306b\u51fa\u3066\u304d\u305f\u5909\u6570\u3092\u8ee2\u9001\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002 %0 \u306f\u8fd4\u308a\u5024\u7528\u306e\u30dd\u30a4\u30f3\u30bf\u3001 %1 \u306f AnyIterator\u3001 \u7b2c3,4 \u5f15\u6570\u306f %T\u3001\u7b2c5\u5f15\u6570\u306f %T.Loadable \u3067\u3059\u3002\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001 T \u304c\u6c4e\u7528\u7684\u306a\u7248\u306e load \u306e\u547c\u3073\u51fa\u3057\u3067\u306f\u3001 \u578b T \u306e\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3001\u305d\u306e\u578b\u304c Loadable \u578b\u3068\u3057\u3066\u632f\u308b\u821e\u3046\u3068\u304d\u306e\u305f\u3081\u306e\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u3001\u3064\u307e\u308a\u52d5\u4f5c\u304c\u6e21\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\u3088\u304f\u8003\u3048\u3066\u307f\u308b\u3068\u3001\u3053\u308c\u306f Scala \u3084 Kotlin \u3067\u66f8\u3044\u3066\u304d\u305f\u30b3\u30fc\u30c9\u3068\u540c\u3058\u5f62\u3092\u3057\u3066\u3044\u307e\u3059\u3002LoadableStatic \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u6e21\u3057\u3066\u3044\u305f\u306e\u306f\u3001\u578b\u306b\u3088\u3063\u3066\u52d5\u4f5c\u3092\u5207\u308a\u5206\u3051\u308b\u305f\u3081\u3067\u3001\u5b9f\u969b\u3001LoadableStatic \u3068\u3057\u3066\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u305f IntLoadableStatic \u306a\u3069\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u3092\u901a\u3057\u3066\u56fa\u6709\u306e\u51e6\u7406\u3092\u547c\u3073\u51fa\u3057\u5074\u306b\u4e0e\u3048\u308b\u308f\u3051\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u52d5\u4f5c\u3092\u6e21\u3059\u305f\u3081\u306e\u5a92\u4ecb\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f7f\u3063\u3066\u3044\u308b\u3088\u3046\u306a\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u305f\u308f\u3051\u3067\u3059\u3002\u3053\u308c\u306fSwift\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u5f8c\u306e\u72b6\u614b\u3068\u5168\u304f\u540c\u3058\u3067\u3059\u3002Scala\u306e\u5b9f\u88c5\u306b\u304a\u3044\u3066\u306f\u3001\u305d\u306e LoadableStatic \u3092\u81ea\u524d\u3067Scala\u30b3\u30fc\u30c9\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u308c\u3092\u5f15\u6570\u306b\u6e21\u3059\u51e6\u7406\u306f\u81ea\u52d5\u3067\u3084\u3063\u3066\u304f\u308c\u305f\u308f\u3051\u3067\u3059\u3002\u540c\u3058\u3088\u3046\u306bSwift\u306f\u3001 IntLoadableStatic \u306b\u76f8\u5f53\u3059\u308b Int \u306e Loadable \u30e1\u30bd\u30c3\u30c9\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u308c\u3092\u6e21\u3059\u51e6\u7406\u3092\u81ea\u52d5\u3067\u51fa\u529b\u3057\u3066\u304f\u308c\u3066\u3044\u305f\u308f\u3051\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\nKotlin\u3067\u306f\u3001\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\u3092\u624b\u52d5\u3067\u66f8\u3044\u3066\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u6e21\u3059\u51e6\u7406\u3092\u624b\u52d5\u3067\u66f8\u3044\u305f\u3002\nScala\u3067\u306f\u3001\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\u3092\u624b\u52d5\u3067\u66f8\u3044\u3066\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u6e21\u3059\u51e6\u7406\u3092\u81ea\u52d5\u3067\u66f8\u3044\u305f\u3002\nSwift\u3067\u306f\u3001\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\u3092\u81ea\u52d5\u3067\u66f8\u3044\u3066\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u6e21\u3059\u51e6\u7406\u3082\u81ea\u52d5\u3067\u66f8\u3044\u305f\u3002\n\n\u3053\u306e\u3088\u3046\u306b\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u3084\u3063\u3066\u304f\u308c\u308b\u9818\u57df\u304c\u5e83\u304f\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u7d50\u5c40\u3069\u306e\u65b9\u5f0f\u3082\u540c\u3058\u3057\u304f\u307f\u3067\u3067\u304d\u3066\u3044\u3066\u3001\u3088\u308a\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u81ea\u52d5\u3067\u5f15\u304d\u53d7\u3051\u3066\u304f\u308c\u3066\u3044\u308b\u306e\u304cSwift\u3067\u306e\u5b9f\u88c5\u306e\u5f62\u3060\u3063\u305f\u3068\u8a00\u3048\u307e\u3059\u3002\u305d\u306e\u4e0a\u3067Swift\u306f\u3001\u6700\u9069\u5316\u306e\u5f62\u3068\u3057\u3066\u3001\u5177\u8c61\u5316\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u3001\u5185\u90e8\u30ea\u30f3\u30af\u306b\u304a\u3044\u3066\u306f\u305d\u306e\u9ad8\u901f\u306a\u7248\u3092\u547c\u3073\u51fa\u3059\u3001\u3068\u3044\u3046\u52d5\u4f5c\u3092\u3057\u3066\u3044\u307e\u3059\u3002(Scala\u3082\u6e21\u3059\u3068\u3053\u308d\u3067\u306f\u9759\u7684\u306b\u78ba\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5177\u8c61\u5316\u3057\u3066\u5c55\u958b\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027\u306f\u3042\u308a\u307e\u3059)\n\n\u4ed6\u306e\u65b9\u6cd5; suffix\u65b9\u5f0f\n\u5225\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u3057\u3066\u3001 load \u95a2\u6570\u306b\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u578b\u540d\u306b\u5bfe\u5fdc\u3059\u308b suffix \u3092\u4ed8\u3051\u305f\u7248\u3092\u3069\u3093\u3069\u3093\u4f5c\u308a\u8db3\u3057\u3066\u3044\u304f\u30a2\u30d7\u30ed\u30fc\u30c1\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 loadInt, loadString, loadCompany \u3068\u3044\u3063\u305f\u95a2\u6570\u3092\u3001\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u578b T \u306b\u5408\u308f\u305b\u3066\u4f5c\u308a\u8db3\u3057\u3066\u3044\u304f\u65b9\u5f0f\u3067\u3059\u3002\n\u3053\u306e\u65b9\u304c\u4e00\u898b\u3001 load(iterator, IntLoadableStatic) \u306a\u3069\u3068\u66f8\u304f\u3088\u308a\u3001 loadInt(iterator) \u3068\u304b\u3051\u308b\u305f\u3081\u3001\u77ed\u304f\u3066\u826f\u3044\u3068\u8003\u3048\u308b\u4eba\u3082\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u50d5\u306f\u3053\u306e\u65b9\u5f0f\u306f\u3042\u307e\u308a\u826f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u308c\u306f\u4ee5\u4e0b\u306e2\u3064\u306e\u7406\u7531\u306b\u3088\u308a\u307e\u3059\u3002\n\n\u540d\u524d\u304c\u885d\u7a81\u3059\u308b\n\u65b0\u3057\u3044\u578b\u306e\u8ffd\u52a0\u6642\u306b\u4f55\u3092\u3059\u3079\u304d\u304b\u304c\u8868\u660e\u3055\u308c\u3066\u3044\u306a\u3044\n\n\u307e\u305a1\u3064\u76ee\u306e\u7406\u7531\u306f\u540d\u524d\u304c\u885d\u7a81\u3059\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\u4f8b\u3048\u3070VR\u30a2\u30d7\u30ea\u3092\u4f5c\u308d\u3046\u3068\u3057\u305f\u3068\u3057\u3066\u3001\u753b\u50cf\u51e6\u7406\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u30b2\u30fc\u30e0\u30a8\u30f3\u30b8\u30f3\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3063\u305f\u3068\u3057\u307e\u3059\u3002\u753b\u50cf\u51e6\u7406\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4e2d\u306b Vector3 \u3068\u3044\u3046\u578b\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u5fdc\u3058\u3066 loadVector3 \u3092\u5b9f\u88c5\u3057\u305f\u3068\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30b2\u30fc\u30e0\u30a8\u30f3\u30b8\u30f3\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4e2d\u306b\u3082 Vector3 \u3068\u3044\u3046\u578b\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3059\u3002\u3053\u306e\u6642\u70b9\u3067 loadVector3 \u304c2\u3064\u5fc5\u8981\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u5b9a\u7fa9\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3046\u3044\u3046\u3068\u304d\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u4ed8\u3051\u8db3\u3057\u3066\u3001 loadImgVector3 \u3068 loadGeVector3 \u307f\u305f\u3044\u306b\u3084\u3063\u305f\u3068\u3057\u3066\u3001\u3058\u3083\u3042\u30b2\u30fc\u30e0\u30a8\u30f3\u30b8\u30f3\u306e\u4e2d\u306e Texture \u578b\u306e\u30c7\u30b3\u30fc\u30c0\u30fc\u306b\u3082 Ge \u3092\u4ed8\u3051\u308b\u306e\u304b\u3069\u3046\u304b\u3068\u304b\u3001\u305d\u3082\u305d\u3082 Ge \u3058\u3083\u308f\u304b\u308a\u306b\u304f\u3044\u306e\u3067 GameEngine \u306b\u3057\u306a\u3051\u308c\u3070\u3001\u3044\u3084\u3044\u3084\u305d\u308c\u3067\u306f\u547c\u3073\u51fa\u3057\u304c\u9577\u3063\u305f\u3089\u3057\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3001\u3068\u3001\u3046\u307e\u304f\u3044\u304d\u307e\u305b\u3093\u3002\n\u3057\u304b\u3057\u3001Swift\u3067\u306e\u3084\u308a\u65b9\u306e\u5834\u5408\u306a\u3089\u3001\u305d\u308c\u305e\u308c\u306e Vector3 \u306b\u5bfe\u3059\u308b\u62e1\u5f35\u3068\u3057\u3066\u51e6\u7406\u3092\u66f8\u304f\u305f\u3081\u3001\u540d\u524d\u304c\u3076\u3064\u304b\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u3057\u3066\u3001\u7247\u65b9\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u3057\u304b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u306a\u3044\u7b87\u6240\u304b\u3089\u306f\u3001 Vector3 \u3068\u3044\u3046\u77ed\u3044\u540d\u524d\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4e21\u65b9\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u7b87\u6240\u3067\u306e\u307f\u3001 Imaging.Vector3 \u3068 GameEngine.Vector3 \u3068\u3044\u3046\u9577\u3044\u540d\u524d\u3092\u4f7f\u3046\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001\u5fc5\u8981\u306a\u6642\u306f\u660e\u78ba\u306a\u9577\u3044\u540d\u524d\u3001\u4e0d\u8981\u306a\u6642\u306f\u7c21\u6f54\u306a\u77ed\u3044\u540d\u524d\u3092\u4f7f\u3044\u5206\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u578b\u306b\u30c7\u30b3\u30fc\u30c0\u6a5f\u80fd\u3092\u4ed5\u8fbc\u3080\u30a2\u30d7\u30ed\u30fc\u30c1\u306e\u65b9\u304c\u3001\u6574\u7406\u3055\u308c\u308b\u306e\u3067\u3059\u3002\n\u3053\u308c\u306fKotlin\u7b49\u3067\u306e\u5834\u5408\u3067\u3082\u540c\u3058\u3067\u3001 LoadableStatic \u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5206\u3051\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u4e0d\u8981\u306b\u9577\u3044\u540d\u524d\u306b\u306a\u308b\u3053\u3068\u3092\u9632\u3052\u307e\u3059\u3002\n2\u3064\u76ee\u306e\u7406\u7531\u306f\u3001\u65b0\u3057\u3044\u65b9\u306e\u8ffd\u52a0\u6642\u306b\u4f55\u3092\u3059\u3079\u304d\u304b\u304c\u8868\u660e\u3055\u308c\u3066\u3044\u306a\u3044\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002\u4eee\u306b loadVector3 \u306e\u5b9f\u88c5\u3092\u5fd8\u308c\u3066\u3044\u305f\u3068\u3057\u3066\u3082\u3001\u3053\u308c\u3092\u547c\u3073\u51fa\u3057\u305f\u3044\u3001\u3064\u307e\u308a\u3001 Vector3 \u3092\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u3068\u3044\u3046\u3068\u304d\u304c\u304f\u308b\u307e\u3067\u3001\u305d\u306e\u5b9f\u88c5\u304c\u6f0f\u308c\u3066\u3044\u308b\u4e8b\u306b\u6c17\u304c\u3064\u3051\u307e\u305b\u3093\u3002 Vector3 \u306e\u3088\u3046\u306a\u7c21\u5358\u306a\u578b\u306a\u3089\u307e\u3060\u3057\u3082\u3001\u3082\u3063\u3068\u8907\u96d1\u306a\u578b\u3067\u3042\u3063\u305f\u306a\u3089\u3001\u5b9f\u88c5\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u305d\u306e\u3068\u304d\u306b\u306f\u305d\u308c\u3092\u5b9f\u88c5\u3059\u308b\u6642\u9593\u304c\u7121\u304b\u3063\u305f\u308a\u3001\u4ed6\u306e\u4eba\u304c\u4f5c\u3063\u305f\u578b\u3067\u8a73\u7d30\u304c\u4e0d\u660e\u3060\u3063\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\u305d\u306e\u70b9\u3001Swift\u3067\u306e\u3084\u308a\u65b9\u306e\u5834\u5408\u306a\u3089\u3001\u65b0\u3057\u3044\u578b\u306e\u8ffd\u52a0\u6642\u306b\u306f\u3001\u305d\u306e\u578b\u3092\u6e96\u62e0\u3055\u305b\u308b\u3079\u304d\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u3042\u308b\u3001\u3068\u3044\u3046\u4e8b\u3060\u3051\u6ce8\u610f\u3059\u308c\u3070\u3001\u5b9f\u88c5\u304c\u6f0f\u308c\u3066\u3044\u308c\u3070\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u3089\u306a\u3044\u306e\u3067\u305d\u306e\u3088\u3046\u306a\u5fc3\u914d\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3082\u3057\u3001 Loadable \u3068\u306f\u5225\u306b Savable \u3068\u3044\u3063\u305f\u4fdd\u5b58\u7528\u306e\u6a5f\u80fd\u3082\u5fc5\u8981\u306b\u306a\u3063\u305f\u308a\u3057\u305f\u3068\u3057\u3066\u3082\u3001\u6700\u521d\u304b\u3089\u3001 protocol ModelClass : Loadable \u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u3066\u3001\u65b0\u3057\u3044\u578b\u306f ModelClass \u306b\u6e96\u62e0\u3059\u308b\u3088\u3046\u306b\u4f5c\u3063\u3066\u304a\u3051\u3070\u3001 protocol ModelClass : Loadable, Savable \u3068\u3001\u5143\u3005\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u8ffd\u52a0\u3057\u3066\u3084\u308b\u3060\u3051\u3067\u3001 save \u304c\u672a\u5b9f\u88c5\u3067\u3042\u308b\u7b87\u6240\u304c\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u3088\u3063\u3066\u4e00\u62ec\u3067\u691c\u51fa\u3067\u304d\u307e\u3059\u3002\n\u305f\u3060\u3001Kotlin\u7b49\u306e\u5834\u5408\u306f\u3001 LoadableStatic \u306e\u5b9f\u88c5\u304c\u6f0f\u308c\u308b\u3068\u3044\u3046\u5fc3\u914d\u306f\u3042\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u6a5f\u80fd\u4e0a\u306e\u610f\u5473\u306f\u306a\u3044\u3067\u3059\u304c\u3001 interface ModelClass<T> { fun assertImplementLoadable(): LoadableStatic<T> } \u306e\u3088\u3046\u306b\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089 LoadableStatic \u3092\u53d6\u5f97\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u3066\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u30c1\u30a7\u30c3\u30af\u3055\u305b\u308b\u3068\u3044\u3046\u30c6\u30af\u30cb\u30c3\u30af\u3092\u4f7f\u3046\u3068\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u52d5\u7684\u8a00\u8a9e\u306e\u5834\u5408\n\u3053\u308c\u307e\u3067\u306e\u5b9f\u88c5\u65b9\u5f0f\u3092\u3001\u3082\u3057\u578b\u691c\u67fb\u306e\u7121\u3044\u8a00\u8a9e\u306b\u304a\u3044\u3066\u3082\u8003\u3048\u305f\u3089\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b\u3002\u57fa\u672c\u7684\u306b\u306f Kotlin \u306e\u5834\u5408\u3068\u540c\u3058\u72b6\u6cc1\u306b\u306a\u308a\u307e\u3059\u3002\u52d5\u7684\u8a00\u8a9e\u306f\u30af\u30e9\u30b9\u81ea\u4f53\u3078\u306e\u52d5\u7684\u6ce8\u5165\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3001 TypeScript \u306b\u8fd1\u304f\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305d\u3046\u3059\u308b\u3068\u3001 load(iterator, Company) \u306b\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u306a\u306e\u3067\u3001\u30c7\u30b3\u30fc\u30c0\u3092\u4f7f\u3046\u3068\u304d\u306e\u624b\u9593\u306f\u3042\u307e\u308a\u304b\u308f\u308a\u307e\u305b\u3093\u3002\u578b\u89e3\u6c7a\u306b\u3088\u308b\u4ed5\u7d44\u307f\u306f\u4f7f\u3048\u306a\u3044\u306e\u3067\u3001Swift\u3084Scala\u306e\u3088\u3046\u306a\u72b6\u614b\u306b\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3057\u3066\u3001Kotlin\u3068\u306e\u9055\u3044\u3068\u3057\u3066\u306f\u3001\u3053\u306e load \u306b\u4e0e\u3048\u305f LoadableStatic \u306e\u578b\u304c\u9593\u9055\u3063\u3066\u3044\u305f\u6642\u306b\u3001\u305d\u308c\u304c\u691c\u77e5\u3055\u308c\u306a\u3044\u3068\u3044\u3046\u70b9\u306b\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 Company \u306e\u30c7\u30b3\u30fc\u30c0\u3067\u306f\u3001 load(iterator, ListLoadableStatic(Employee)) \u306a\u3069\u3068\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u9593\u9055\u3063\u3066\u3001 load(iterator, ListLoadableStatic(String)) \u306a\u3069\u3068\u66f8\u3044\u3066\u3044\u3066\u308b\u3068\u3001\u30d0\u30b0\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u308c\u3092\u9759\u7684\u306b\u691c\u51fa\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u306e\u304c\u52d5\u7684\u8a00\u8a9e\u306e\u3068\u304d\u306b\u4e0d\u5229\u306a\u70b9\u3067\u3059\u3002\n\n\u4ed6\u306e\u65b9\u5f0f; \u30de\u30af\u30ed\u3084\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3001\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\n\u30de\u30af\u30ed\u3084\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3001\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3(\u4ee5\u4e0b\u30de\u30af\u30ed\u3068\u7dcf\u79f0)\u306a\u3069\u306e\u65b9\u5f0f\u3092\u4f7f\u3048\u3070\u3001Swift\u306e\u5834\u5408\u3088\u308a\u3082\u3055\u3089\u306b\u77ed\u304f\u3067\u304d\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u3001\u30af\u30e9\u30b9\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\u3001\u307f\u305f\u3044\u306b\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u65b9\u5f0f\u81ea\u4f53\u306f\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3057\u3001\u30d0\u30f3\u30d0\u30f3\u4f7f\u3048\u3070\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u30de\u30af\u30ed\u3092\u4f7f\u308f\u306a\u304b\u3063\u305f\u5834\u5408\u306b\u304a\u3044\u3066\u3082\u7c21\u6f54\u306b\u5b9f\u88c5\u3067\u304d\u308b\u72b6\u614b\u306b\u3057\u3066\u304a\u304f\u3053\u3068\u304c\u5927\u4e8b\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u3053\u306e\u624b\u306e\u65b9\u5f0f\u306f\u4e00\u5207\u4f55\u3082\u66f8\u304b\u306a\u3044\u308f\u3051\u3067\u3059\u304c\u3001\u306a\u3093\u3089\u304b\u306e\u4f8b\u5916\u7684\u306a\u30b1\u30fc\u30b9\u306b\u3088\u3063\u3066\u3001\u305d\u3053\u3060\u3051\u52d5\u4f5c\u3092\u5909\u3048\u305f\u3044\u3068\u3044\u3063\u305f\u8981\u6c42\u304c\u51fa\u3066\u304d\u305f\u5834\u5408\u306b\u3001\u30de\u30af\u30ed\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304b\u306a\u3063\u3066\u304f\u308b\u3068\u3001\u3088\u304f\u308f\u304b\u3089\u306a\u3044DSL\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u304f\u304b\u3089\u3067\u3059\u3002\u5177\u4f53\u7684\u306a\u4f8b\u3068\u3057\u3066\u306f\u3001 JSON\u3067API\u3092\u7d44\u3093\u3067\u3044\u305f\u3068\u3057\u3066\u3001\u3057\u304b\u3057\u30b5\u30fc\u30d0\u30fc\u304c\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066API\u306e\u4ed5\u69d8\u304c\u5909\u66f4\u3059\u308b\u304b\u3089\u3001\u3053\u306e\u30ad\u30fc\u3060\u3051\u306f\u7121\u304b\u3063\u305f\u5834\u5408\u3067\u3082\u30a8\u30e9\u30fc\u3068\u3057\u306a\u3044\u3067\u7279\u5b9a\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u57cb\u3081\u3066\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u3001\u306a\u3069\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002\u305d\u3046\u3044\u3046\u5834\u5408\u306b\u304a\u3044\u3066\u306f\u3001\u305d\u306e\u30af\u30e9\u30b9\u3060\u3051\u306f\u30de\u30af\u30ed\u306e\u51e6\u7406\u5bfe\u8c61\u304b\u3089\u5916\u3057\u305f\u4e0a\u3067\u3001\u8a00\u8a9e\u4e0a\u3067\u624b\u66f8\u304d\u3059\u308b\u3001\u3068\u3057\u305f\u3044\u308f\u3051\u3067\u3059\u3002\u305d\u306e\u6642\u306b\u3001\u30de\u30af\u30ed\u3092\u4f7f\u308f\u306a\u3044\u5834\u5408\u3067\u306e\u76f4\u63a5\u8a18\u8ff0\u304c\u96e3\u89e3\u3060\u3063\u305f\u308a\u3059\u308b\u3068\u3001\u305d\u3053\u3067\u5b9f\u88c5\u3059\u308b\u306e\u304c\u5927\u5909\u3067\u3059\u3002\u306a\u306e\u3067\u3001\u51fa\u6765\u308b\u9650\u308a\u672c\u4f53\u8a00\u8a9e\u4e0a\u3067\u7c21\u6f54\u306b\u5b9f\u88c5\u3067\u304d\u308b\u4ed5\u7d44\u307f\u3092\u6574\u3048\u3066\u3042\u308b\u3046\u3048\u3067\u3001\u30de\u30af\u30ed\u306b\u3088\u3063\u3066\u305d\u306e\u7c21\u6f54\u306a\u30b3\u30fc\u30c9\u3092\u81ea\u52d5\u751f\u6210\u3059\u308b\u3001\u3068\u3044\u3046\u306e\u304c\u7406\u60f3\u3067\u3059\u3002\u305d\u306e\u89b3\u70b9\u306b\u304a\u3044\u3066\u3001\u30de\u30af\u30ed\u304c\u7121\u304b\u3063\u305f\u5834\u5408\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u6539\u5584\u3059\u308b\u8b70\u8ad6\u306f\u6709\u610f\u7fa9\u3067\u3059\u3002\n\nC++\u3067\u306e\u5b9f\u88c5\n\u30d0\u30fc\u30b8\u30e7\u30f3: Apple LLVM version 8.0.0 (clang-800.0.42.1)\n\u6700\u5f8c\u306bC++\u3067\u306e\u5b9f\u88c5\u3092\u793a\u3057\u307e\u3059\u3002\u306a\u305c\u3053\u308c\u3060\u3051\u6700\u5f8c\u306b\u6301\u3063\u3066\u304d\u305f\u304b\u3068\u3044\u3046\u3068\u3001C++\u306f\u3042\u307e\u308a\u306b\u7570\u8cea\u3067\u3042\u308b\u305f\u3081\u3001\u5206\u3051\u3066\u8003\u3048\u305f\u307b\u3046\u304c\u826f\u3044\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u624b\u306e\u578b\u306b\u7d61\u3093\u3060\u8a00\u8a9e\u6a5f\u80fd\u3092\u8003\u3048\u308b\u6642\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u3092\u3082\u3064C++\u306f\u3060\u3044\u305f\u3044\u7570\u8cea\u306a\u5b58\u5728\u3067\u3059\u3002Java\u3088\u308a\u524d\u304b\u3089\u5b58\u5728\u3057\u3066\u3044\u308b\u306e\u306b\u3001\u3067\u304d\u308b\u3053\u3068\u3060\u3051\u306f\u975e\u5e38\u306b\u5148\u7aef\u7684\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u4eca\u56de\u3082\u305d\u3046\u3067\u3059\u3002\n\u307e\u305a Iterator \u3068\u304b\u6587\u5b57\u5217\u64cd\u4f5c\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u9069\u5f53\u306b\u7528\u610f\u3057\u307e\u3059\u3002\nstd::string Format(const char * format, ...);\nstd::string FormatV(const char * format, va_list ap);\nstd::vector<std::string> Split(const std::string & string, const std::string & separator);\ntemplate <typename T> \nclass Iterator {\npublic:\n    Iterator(const std::vector<T> & array): \n        index_(0), array_(array) {}\n    int index_;\n    std::vector<T> array_;\n    T next() {\n        auto ret = array_[index_];\n        index_ += 1;\n        return ret;\n    }\n};\n\nstd::string Format(const char * format, ...) {\n    va_list ap;\n    va_start(ap, format);\n    std::string ret = FormatV(format, ap);\n    va_end(ap);\n    return ret;\n}\n\nstd::string FormatV(const char * format, va_list ap) {\n    va_list ap2;\n    va_copy(ap2, ap);\n    int size = vsnprintf(nullptr, 0, format, ap2) + 1;\n    va_end(ap2);\n    std::vector<char> buf(size);\n    vsnprintf(buf.data(), size, format, ap);\n    return std::string(buf.data());\n}\n\nstd::vector<std::string> Split(const std::string & string, const std::string & separator) {\n    std::vector<std::string> ret;\n    if (string.size() == 0) {\n        return ret;\n    }\n    std::size_t pos = 0;\n    while (true) {\n        std::size_t found_pos = string.find(separator, pos);\n        if (found_pos == std::string::npos) {\n            break;\n        }\n        ret.push_back(string.substr(pos, found_pos - pos));\n        pos = found_pos + separator.size();\n    }\n    ret.push_back(string.substr(pos, string.size() - pos));\n    return ret;\n}\n\n\u3055\u3066\u3001\u30e2\u30c7\u30eb\u306e\u578b\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  cpp\n\nclass Employee {\npublic:\n    Employee(const std::string & name, int age): name_(name), age_(age) {}\n    std::string name_;\n    int age_;\n    std::string ToString() {\n        return Format(\"name=%s, age=%d\", name_.c_str(), age_);\n    }\n};\n\nclass Company {\npublic:\n    Company(const std::string & name, const std::vector<Employee> & employees):\n    name_(name), employees_(employees) {}\n    std::string name_;\n    std::vector<Employee> employees_;\n    std::string ToString() {\n        std::string str;\n        str = Format(\"name=%s, employees=\", name_.c_str());\n        for (auto & e : employees_) {\n            str += Format(\"%s, \", e.ToString().c_str());\n        }\n        return str;\n    }\n};\n\n\u3053\u3053\u307e\u3067\u306f\u3060\u3044\u305f\u3044\u4eca\u307e\u3067\u3068\u4e00\u7dd2\u3067\u3059\u3002\u3055\u3066\u3001\u3053\u308c\u307e\u3067\u306a\u3089\u30d7\u30ed\u30c8\u30b3\u30eb\u3084\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u3053\u308d\u3067\u3059\u304c\u3001C++\u3067\u306f\u305d\u306e\u3088\u3046\u306a\u5236\u7d04\u3092\u8a18\u8ff0\u3059\u308b\u69cb\u6587\u304c\u3042\u308a\u307e\u305b\u3093\u3002C++\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u3001\u578b\u5236\u7d04\u3068\u4e00\u7dd2\u306b\u6271\u3046\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u7cfb\u306e\u6a5f\u80fd\u3068\u306f\u7570\u306a\u308a\u3001\u3068\u308a\u3042\u3048\u305a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5c55\u958b\u3057\u3066\u307f\u3066\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u308b\u304b\u3069\u3046\u304b\u3067\u8003\u3048\u308b\u3001\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\u305f\u3060\u3001\u305d\u306e\u969b\u306b\u4eca\u56de\u306e\u3088\u3046\u306b\u578b\u306b\u3088\u3063\u3066\u52d5\u4f5c\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u305d\u3082\u305d\u3082\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5c55\u958b\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u578b\u306b\u3088\u3063\u3066\u5207\u308a\u66ff\u3048\u308b\u4ed5\u639b\u3051\u3092\u4ed5\u8fbc\u307f\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001\u578b T \u304cstatic\u30e1\u30bd\u30c3\u30c9 load \u3092\u3082\u3064\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u578b\u3092\u3064\u304f\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3044\u3063\u305f\u3093\u5168\u3066\u306e\u578b\u304c\u7121\u52b9\u3067\u3042\u308b\u3068\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n//  cpp\n\ntemplate <typename T>\nstruct IsLoadable {\n    enum { value = false };\n};\n\ntemplate <typename T> \nT load(const std::string & string) {\n    auto tokens = Split(string, \"/\");\n    auto iterator = Iterator<std::string>(tokens);\n    return load<T>(iterator);\n}\n\ntemplate <typename T>\nT load(Iterator<std::string> & iterator,\n    typename std::enable_if<IsLoadable<T>::value>::type * enabler = nullptr) \n{\n    return T::load(iterator);\n}\n\n3\u3064\u306e\u8981\u7d20\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u30021\u3064\u76ee\u306e IsLoadable \u3068\u3044\u3046\u578b\u306f\u3001\u6e21\u3055\u308c\u305f\u578b\u304c T::load \u3092\u547c\u3073\u51fa\u305b\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u578b\u3067\u3059\u3002\u3068\u3044\u3063\u3066\u3082\u3001\u578b\u306e\u5b9a\u7fa9\u3092\u8aad\u307f\u53d6\u3063\u3066\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3068\u3044\u3063\u305f\u3057\u304b\u3051\u306f\u7121\u304f\u3001\u3068\u308a\u3042\u3048\u305a\u5168\u3066 false \u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u5f8c\u3067\u4f7f\u3044\u65b9\u3092\u8aac\u660e\u3057\u307e\u3059\u30022\u3064\u76ee\u306e load \u306f\u5f93\u6765\u901a\u308a\u306e\u6587\u5b57\u5217\u3092\u53d7\u3051\u53d6\u308b\u3082\u306e\u3067\u3059\u3002\u305d\u3057\u30663\u3064\u76ee\u306e load \u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3001 std::enable_if \u3068 IsLoadable \u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001 IsLoadable \u306e\u7d50\u679c\u304c true \u306e\u3068\u304d\u3060\u3051\u3001\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5c55\u958b\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\u3055\u3066\u6b21\u306b int \u3068 std::string \u306e\u30c7\u30b3\u30fc\u30c0\u3092\u4f5c\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001 int \u306f\u7d44\u307f\u8fbc\u307f\u578b\u306e\u305f\u3081static\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u3001\u3053\u306e\u307e\u307e T::load \u306e\u30b3\u30fc\u30c9\u306b\u5c55\u958b\u3055\u305b\u3066\u3082\u610f\u5473\u304c\u3042\u308a\u307e\u305b\u3093\u3002 int \u3068 std::string \u306b\u3064\u3044\u3066\u306f\u3001\u305d\u308c\u305e\u308c\u5c02\u7528\u306e\u5b9f\u88c5\u304c\u5c55\u958b\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n//  cpp\n\ntemplate <typename T>\nT load(Iterator<std::string> & iterator,\n    typename std::enable_if<std::is_same<T, int>::value>::type * enabler = nullptr) \n{\n    auto x = iterator.next();\n    return std::stoi(x);\n}\n\ntemplate <typename T>\nT load(Iterator<std::string> & iterator,\n    typename std::enable_if<std::is_same<T, std::string>::value>::type * enabler = nullptr) \n{\n    auto x = iterator.next();\n    return x;\n}\n\n\u3053\u306e\u3088\u3046\u306b\u3001 std::enable_if \u3068 std::is_same \u3092\u7528\u3044\u308b\u3053\u3068\u3067\u3001 T \u306e\u578b\u304c int \u306e\u6642\u3068 std::string \u306e\u6642\u3060\u3051\u5c55\u958b\u3055\u308c\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n//  cpp\n\n    auto i = load<int>(\"33\");\n    printf(\"%d\\n\", i);\n\n    auto s = load<std::string>(\"abc\");\n    printf(\"%s\\n\", s.c_str());\n\n\u826f\u3044\u611f\u3058\u3067\u3059\u3002\n\u6b21\u306b\u3001\u8981\u7d20\u306e\u578b\u304c std::vector \u306e\u5834\u5408\u306e\u3068\u304d\u306e\u51e6\u7406\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u4eca\u307e\u3067\u306e\u3088\u3046\u306b std::is_same \u3067\u5224\u5b9a\u3067\u304d\u308c\u3070\u826f\u3044\u306e\u3067\u3059\u304c\u3001 std::vector \u306f\u305d\u308c\u81ea\u4f53\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6301\u3063\u3066\u304a\u308a\u3001\u305d\u306e\u90e8\u5206\u3092\u67d4\u8edf\u306b\u5224\u5b9a\u3059\u308b\u305f\u3081\u306b\u306f\u5de5\u592b\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u3053\u3067\u306f\u305d\u306e\u305f\u3081\u306b\u3001\u578b\u304c std::vector \u3067\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u305f\u3081\u306e\u578b\u3001 IsVector \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  cpp\n\ntemplate <typename T>\nstruct IsVector {\n    enum { value = false };\n};\n\ntemplate <typename T, typename A>\nstruct IsVector<std::vector<T, A>> {\n    enum { value = true };\n};\n\n\u3053\u306e\u3088\u3046\u306b\u3001 IsLoadable \u3068\u540c\u3058\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3064\u3064\u3001 std::vector \u306b\u3064\u3044\u3066\u306f IsLoadable \u3092\u7279\u6b8a\u5316\u3057\u3066 value = true \u306b\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n//  cpp\n\ntemplate <typename T>\nT load(Iterator<std::string> & iterator, \n    typename std::enable_if<IsVector<T>::value>::type * enabler = nullptr) \n{\n    auto n = load<int>(iterator);\n    auto ret = std::vector<typename T::value_type>();\n    for (int i = 0; i < n; i++) {\n        ret.push_back(load<typename T::value_type>(iterator));\n    }\n    return ret;\n}\n\nstd::enable_if \u3068 IsVector \u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001 T \u304c std::vector \u3067\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u306b\u304a\u3044\u3066\u306f\u3001 T \u304c std::vector \u306a\u306e\u3067\u3001\u8981\u7d20\u306e\u578b\u306f T::value_type \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u547c\u3073\u51fa\u305b\u307e\u3059\u3002\n//  cpp\n\n    auto a = load<std::vector<std::string>>(\"3/apple/banana/cherry\");\n    for (auto & ax : a) {\n        printf(\"%s\\n\", ax.c_str());\n    }\n\n\u3055\u3066\u3001\u3053\u306e\u7b4b\u3067\u3044\u3051\u3070 Employee \u3068 Company \u306b\u3064\u3044\u3066\u3082\u3001 int \u3068 std::string \u3068\u540c\u3058\u3088\u3046\u306b\u6ce8\u5165\u3059\u308b\u5f62\u3067\u5b9f\u88c5\u3067\u304d\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u3053\u3044\u3064\u3089\u306bstatic\u30e1\u30bd\u30c3\u30c9\u3092\u66f8\u3044\u305f\u5834\u5408\u306e\u66f8\u304d\u65b9\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n//  cpp\n\nclass Employee {\n    ...\n\n    static Employee load(Iterator<std::string> & iterator);\n};\n\nclass Company {\n    ...\n\n    static Company load(Iterator<std::string> & iterator);\n};\n\ntemplate <>\nstruct IsLoadable<Employee> {\n    enum { value = true };\n};\n\ntemplate<>\nstruct IsLoadable<Company> {\n    enum { value = true };\n};\n\nEmployee Employee::load(Iterator<std::string> & iterator) {\n    auto name = ::load<std::string>(iterator);\n    auto age = ::load<int>(iterator);\n    return Employee(name, age);\n}\n\nCompany Company::load(Iterator<std::string> & iterator) {\n    auto name = ::load<std::string>(iterator);\n    auto employees = ::load<std::vector<Employee>>(iterator);\n    return Company(name, employees);\n}\n\nstatic\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u3053\u308d\u306f\u3054\u304f\u666e\u901a\u3067\u3059\u3002\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u3001C++\u306f\u95a2\u6570\u5f15\u6570\u306e\u8a55\u4fa1\u9806\u5e8f\u306e\u4fdd\u8a3c\u304c\u7121\u304b\u3063\u305f\u6c17\u304c\u3059\u308b\u306e\u3067\u3001\u3044\u3063\u305f\u3093\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u306b\u4ee3\u5165\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u5185\u90e8\u3067\u5916\u5074\u306e load \u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b ::load \u3068\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u4e8b\u524d\u306b\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u305f IsLoadable \u3092\u7279\u6b8a\u5316\u3057\u3066 Employee \u3068 Company \u306e\u5834\u5408\u306b value = true \u3068\u3059\u308b\u4e8b\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u3063\u3066 T::load \u306e\u7248\u304c\u5c55\u958b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002T::load \u306e\u7248\u304c\u5c55\u958b\u3055\u308c\u305f\u5f8c\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u305d\u3053\u3067\u5177\u8c61\u5316\u3055\u308c\u305f T \u306b\u5bfe\u3057\u3066\u3001\u672c\u5f53\u306b load \u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u3053\u3067 load \u304c\u7121\u3051\u308c\u3070\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3068\u304a\u308a\u3067\u3059\u3002\n//  cpp\n\n    auto c = load<Company>(\"CatWorld/3/tama/5/mike/6/kuro/7\");\n    printf(\"%s\\n\", c.ToString().c_str());\n\nC++\u306e\u5b9f\u88c5\u306f\u3053\u308c\u307e\u3067\u306e\u3069\u308c\u3068\u3082\u9055\u3046\u611f\u3058\u3067\u3059\u3002\u5b9f\u8cea\u7684\u306b\u3001C++\u3088\u308a\u4e00\u3064\u4e0a\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u578b\u306b\u95a2\u3059\u308b\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u3001Swift\u304c\u81ea\u52d5\u3067\u3084\u308b\u3088\u3046\u306a\u9759\u7684\u306a\u5177\u8c61\u5316\u30b3\u30fc\u30c9\u306e\u751f\u6210\u3092\u534a\u5206\u30d7\u30ed\u30b0\u30e9\u30de\u304c\u5236\u5fa1\u3057\u306a\u304c\u3089\u3084\u3063\u3066\u3044\u308b\u72b6\u614b\u3068\u3044\u3048\u308b\u3067\u3057\u3087\u3046\u3002\u4e00\u65b9\u3067C++\u304cSwift\u3068\u304f\u3089\u3079\u3066\u7279\u5fb4\u7684\u306a\u306e\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5c55\u958b\u306f\u5e38\u306b\u5177\u8c61\u5316\u3055\u308c\u308b\u3068\u3044\u3046\u70b9\u3067\u3059\u3002Swift\u306f\u6700\u9069\u5316\u3068\u3057\u3066\u306e\u5177\u8c61\u5316\u7248\u3092\u751f\u6210\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001C++\u306e\u5834\u5408\u306f\u3001\u6c4e\u7528\u306e\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u7248\u306f\u305d\u3082\u305d\u3082\u751f\u6210\u3055\u308c\u307e\u305b\u3093\u3002\u5fc5\u305a\u5177\u8c61\u5316\u3055\u308c\u308b\u306e\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u3001C++\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30af\u30e9\u30b9\u306f\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u914d\u5e03\u3059\u308b\u5834\u5408\u306f\u30bd\u30fc\u30b9\u304c\u5168\u90e8\u516c\u958b\u3055\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u3053\u308c\u306f\u4ed6\u306e\u8a00\u8a9e\u306b\u306f\u7121\u3044\u7279\u5fb4\u3067\u3059\u3002\n\n\u30bd\u30fc\u30b9\n\u5168\u3066\u306e\u30bd\u30fc\u30b9\u3092github\u306b\u30a2\u30c3\u30d7\u3057\u3066\u3042\u308a\u307e\u3059\u3002\n\n\u6539\u8a02\u5c65\u6b74\n\n2017/03/01: norio_nomura\u3055\u3093\u306e\u30c4\u30c3\u30b3\u30df\u3092\u53d7\u3051\u3066\u6539\u8a02\u3002swift\u306b\u304a\u3044\u3066\u3001loadArray\u3092\u5b9a\u7fa9\u3059\u308b\u4f8b\u3092\u3001load\u306e\u8fd4\u308a\u5024\u578b\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u306b\u5909\u66f4\u3002\n2017/02/27: heqate\u3055\u3093\u306e\u30c4\u30c3\u30b3\u30df\u3092\u53d7\u3051\u3066\u6539\u8a02\u3002kotlin\u306b\u304a\u3044\u3066\u3001\u5177\u8c61\u5316\u3055\u308c\u305f\u578b\u3054\u3068\u306e\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30af\u30e9\u30b9\u3078\u306eextension\u30e1\u30bd\u30c3\u30c9\u5b9f\u88c5\u306b\u3088\u308b\u5b9f\u88c5\u65b9\u5f0f\u306b\u3064\u3044\u3066\u8ffd\u8a18\u3002\n2017/02/24: \u6295\u7a3f\n\n\n\n\n\nheqate\u3055\u3093\u304c\u30b3\u30e1\u30f3\u30c8 \u3067\u63d0\u793a\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30af\u30e9\u30b9\u306e\u30a8\u30af\u30b9\u30c6\u30f3\u30b7\u30e7\u30f3\u3092\u3001\u5177\u8c61\u5316\u3055\u308c\u305f\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3054\u3068\u306b\u5b9f\u88c5\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001 create + load \u306e\u3088\u3046\u306b\u56fa\u5b9a\u306e\u5197\u9577\u306a\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u304c\u5fc5\u8981\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u304a\u308a\u4f7f\u3044\u3084\u3059\u304f\u306a\u3044\u4e0a\u3001\u8a18\u4e8b\u3067\u8a00\u8a9e\u3092\u307e\u305f\u3044\u3067\u7d71\u4e00\u3057\u3066\u3044\u308b\u8a2d\u8a08\u3068\u3082\u5408\u81f4\u3057\u306a\u3044\u305f\u3081\u3001\u3053\u3053\u3067\u306f\u305d\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u53d6\u308a\u4e0a\u3052\u307e\u305b\u3093\u3002\u4eee\u306b\u3053\u3053\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u5177\u8c61\u5316\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3088\u308a\u7c21\u6f54\u306a\u5f62\u3084\u8a18\u4e8b\u306b\u305d\u3063\u305f\u5f62\u306b\u3057\u3088\u3046\u3068\u3057\u3066\u3082\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u3069\u3046\u3057\u3066\u3082\u3053\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u7406\u7531\u306f\u3001 inline \u5c55\u958b\u306b\u4f34\u3046\u8a00\u8a9e\u6a5f\u80fd\u4e0a\u306e\u5236\u7d04\u304c\u53b3\u3057\u3044\u304b\u3089\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a inline \u95a2\u6570\u306e\u5185\u90e8\u3067 LoadableStatic \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u3063\u3066\u3001 load \u306e\u7b2c2\u5f15\u6570\u306b\u6e21\u305d\u3046\u3068\u3057\u305f\u308a\u3001\u7b2c2\u5f15\u6570\u306b\u675f\u7e1b\u3057\u305f\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u623b\u305d\u3046\u3068\u3057\u305f\u308a\u3057\u3066\u3082\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u6c4e\u7528\u306e T \u3068\u3057\u3066\u306e\u59a5\u5f53\u6027\u304c\u8981\u6c42\u3055\u308c\u3066\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\u00a0\u21a9\n\n\n\n# \u5148\u306b\u7d50\u8ad6\n\n- Swift\u306estatic\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u306f\u3061\u3087\u3063\u3068\u3057\u305f\u30b7\u30f3\u30d7\u30eb\u306a\u6a5f\u80fd\u306b\u898b\u3048\u308b\u3051\u3069\u4fbf\u5229\u3067\u6df1\u3044\n- Kotlin, TypeScript, Java \u3067\u540c\u3058\u3053\u3068\u3092\u3059\u308b\u3068\u5197\u9577\u3067\u9593\u63a5\u7684\u306a\u30b3\u30fc\u30c9\u306b\u306a\u3063\u3066\u3057\u307e\u3046\n- TypeScript\u306estatic\u30e1\u30bd\u30c3\u30c9\u6ce8\u5165\u306f\u72ec\u7279\u306e\u30c6\u30af\u30cb\u30c3\u30af\u3067\u9762\u767d\u3044\n- \u63d0\u793a\u3059\u308bJava\u306e\u5b9f\u88c5\u306f\u300c`T` \u3092 `new` \u3059\u308b\u300d\u65b9\u6cd5\u3067\u3082\u3042\u308b\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\n- Scala \u306f\u9593\u63a5\u7684\u3067\u306f\u3042\u308b\u3082\u306e\u306eKotlin\u3088\u308a\u826f\u3044\u5f62\u3067\u304b\u3051\u308b\n- Swift\u306fScala\u306e\u5f62\u3092\u3055\u3089\u306b\u3088\u308a\u826f\u304f\u3057\u305f\u5f62\u3068\u307f\u306a\u3059\u3053\u3068\u304c\u3067\u304d\u308b\n- C++\u306fSwift\u3068\u540c\u3058\u4e8b\u304c\u3067\u304d\u308b\u304c\u308f\u304b\u308a\u306b\u304f\u3044\u66f8\u304d\u65b9\u306b\u306a\u3063\u3066\u3057\u307e\u3046\n\n\n\n# \u5c0e\u5165\n\nSwift\u306fprotocol\u3068\u3044\u3046\u6a5f\u80fd\u3067\u3001Java\u306einterface\u306e\u3088\u3046\u306b\u578b\u304c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u3082\u3064\u4e8b\u3092\u5f37\u5236\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u3057\u3066Swift\u3067\u306f\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u3068\u3057\u3066\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3060\u3051\u3067\u306f\u306a\u304f\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3092\u3082\u3064\u4e8b\u3092\u5f37\u5236\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002[\u3053\u306estatic\u30e1\u30bd\u30c3\u30c9\u3092\u5f37\u5236\u3059\u308b\u6a5f\u80fd\u306b\u516c\u5f0f\u306a\u540d\u524d\u306f\u3042\u308a\u307e\u305b\u3093\u304c](https://developer.apple.com/library/prerelease/content/documentation/Swift/Conceptual/Swift_Programming_Language/Protocols.html#//apple_ref/doc/uid/TP40014097-CH25-ID267)\u3001\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3053\u308c\u3092\u300cstatic\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u300d\u3068\u547c\u3076\u3053\u3068\u306b\u3057\u307e\u3059\u3002\u7406\u8ad6\u7684\u306b\u306fHaskell\u306b\u304a\u3051\u308b\u578b\u30af\u30e9\u30b9\u306e\u3088\u3046\u306a\u3082\u306e\u3067\u3042\u308a\u65b0\u3057\u3044\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30af\u30e9\u30b9\u30d9\u30fc\u30b9\u306e\u30c7\u30b6\u30a4\u30f3\u3092\u30d9\u30fc\u30b9\u306b\u3053\u308c\u3092\u53d6\u308a\u8fbc\u3093\u3060Swift\u306e\u4ed5\u69d8\u306f\u306a\u304b\u306a\u304b\u5f37\u529b\u3067\u3042\u308b\u3068\u50d5\u306f\u8003\u3048\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u306e\u8a18\u4e8b\u3067\u306f\u3001\u67b6\u7a7a\u306e\u8981\u4ef6\u3092\u8003\u3048\u305f\u4e0a\u3067\u3001\u305d\u308c\u3092static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u3092\u6d3b\u7528\u3057\u3066\u5b9f\u88c5\u3059\u308b\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u540c\u7b49\u306e\u30b3\u30fc\u30c9\u3092\u305d\u306e\u4ed6\u306e\u8a00\u8a9e\u3067\u3082\u4f3c\u305f\u3088\u3046\u306a\u5f62\u3067\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u3001\u4f55\u304c\u8d77\u3053\u3063\u3066\u3044\u308b\u3069\u3046\u3044\u3046\u6a5f\u80fd\u306a\u306e\u304b\u3092\u308f\u304b\u308a\u3084\u3059\u304f\u3057\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u540c\u3058\u76ee\u7684\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u8907\u6570\u306e\u8a00\u8a9e\u3067\u69cb\u6210\u3059\u308b\u3053\u3068\u3067\u3001\u6bcd\u8a9e\u306e\u7570\u306a\u308b\u30d7\u30ed\u30b0\u30e9\u30de\u306e\u65b9\u306b\u3001\u4ed6\u306e\u8a00\u8a9e\u3092\u7d39\u4ecb\u3059\u308b\u52b9\u679c\u3082\u3042\u3063\u305f\u3089\u826f\u3044\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u3068\u3053\u308d\u3067\u3001\u3053\u306e\u8a18\u4e8b\u3067 Java \u3092\u53d6\u308a\u4e0a\u3052\u3066\u3044\u308b\u7406\u7531\u3068\u3057\u3066\u306f\u3001\u5b9a\u671f\u7684\u306b \u300c `T` \u3092 `new` \u3057\u305f\u3044 \u300d\u3068\u3044\u3046\u8a71\u984c\u3092\u898b\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u305d\u306e\u8a71\u984c\u306b\u76f4\u7d50\u3057\u3066\u3044\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u5f8c\u8ff0\u3002\n\n\n\n# \u8981\u4ef6\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u67b6\u7a7a\u306e\u8981\u4ef6\u3092\u8003\u3048\u307e\u3059\u3002\n\n- \u6587\u5b57\u5217\u304b\u3089\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u751f\u6210\u3059\u308b\u30bf\u30b9\u30af\u3092\u8003\u3048\u307e\u3059\u3002JSON\u304c\u4e00\u822c\u7684\u3067\u3059\u304c\u3001JSON\u306f\u4f8b\u3068\u3057\u3066\u306f\u8907\u96d1\u306b\u3059\u304e\u308b\u306e\u3067\u3001\u3053\u3053\u3067\u306f\u30b7\u30f3\u30d7\u30eb\u306b\u30b9\u30e9\u30c3\u30b7\u30e5\u3092\u533a\u5207\u308a\u306e\u6587\u5b57\u5217\u3092\u8003\u3048\u307e\u3059\u3002\n\n- \u30a8\u30b9\u30b1\u30fc\u30d7\u3084\u30a8\u30e9\u30fc\u51e6\u7406\u306f\u7121\u8996\u3057\u307e\u3059\u3002\n\n- `load` \u95a2\u6570\u3092\u5b9f\u88c5\u3057\u3001\u3053\u308c\u306b\u6587\u5b57\u5217\u3092\u6e21\u3059\u3068\u30c7\u30b3\u30fc\u30c9\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u8fd4\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n- \u30c7\u30b3\u30fc\u30c9\u51e6\u7406\u3068\u578b\u30b7\u30b9\u30c6\u30e0\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u3001\u5fc5\u8981\u306a\u51e6\u7406\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u30b3\u30f3\u30d1\u30a4\u30e9\u30c1\u30a7\u30c3\u30af\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u7279\u5b9a\u306e\u578b\u306b\u5bfe\u3059\u308b\u30c7\u30b3\u30fc\u30c9\u51e6\u7406\u306e\u5b9f\u88c5\u5fd8\u308c\u3092\u9632\u304e\u307e\u3059\u3002\n\n- \u30c7\u30b3\u30fc\u30c9\u5bfe\u8c61\u306e\u578b\u306f\u4e8b\u524d\u306b\u5b9a\u7fa9\u6e08\u307f\u3068\u3057\u307e\u3059\u3002\u3059\u306a\u308f\u3061\u3001\u8a00\u8a9e\u7d44\u307f\u8fbc\u307f\u306e\u578b\u3084\u3001\u4e8b\u524d\u5b9a\u7fa9\u6e08\u307f\u306e\u578b\u306e\u30b3\u30fc\u30c9\u3092\u60f3\u5b9a\u3057\u3001\u305d\u308c\u3092\u66f8\u304d\u63db\u3048\u308b\u3053\u3068\u7121\u3057\u306b\u8ffd\u8a18\u306e\u307f\u3067\u30c7\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n- Employee\u578b\u306e\u914d\u5217\u3092\u3082\u3064Company\u578b\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u884c\u3044\u307e\u3059\u3002\n\n- \u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c9\u306b\u3064\u3044\u3066\u306f\u3001\u30c7\u30b3\u30fc\u30c9\u3067\u304d\u308b\u578b\u306e\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u4e00\u822c\u5316\u3057\u3066\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n\n\n# Swift\u3067\u306e\u5b9f\u88c5\n\n\u30d0\u30fc\u30b8\u30e7\u30f3: `Apple Swift version 3.0.2 (swiftlang-800.0.63 clang-800.0.42.1)`\n\nSwift\u3067\u306e\u5b9f\u88c5\u3092\u793a\u3057\u307e\u3059\u3002\u6bb5\u968e\u7684\u306b\u5b9f\u88c5\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u307e\u305a\u3001\u5bfe\u8c61\u3068\u306a\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u578b\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nstruct Employee: CustomStringConvertible {\n\tvar name: String\n\tvar age: Int\n\tinit(name: String, age: Int) {\n\t\tself.name = name\n\t\tself.age = age\n\t}\n\n    var description: String {\n        return \"(name=\\(name), age=\\(age))\"\n    }\n}\n\nstruct Company: CustomStringConvertible {\n\tvar name: String\n\tvar employees: [Employee]\n\tinit(name: String, employees: [Employee]) {\n\t\tself.name = name\n\t\tself.employees = employees\n\t}\n\n    var description: String {\n        return \"(name=\\(name), employees=\\(employees))\"\n    }\n}\n```\n\nEmployee\u578b\u3068Company\u578b\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002\u3053\u306eCompany\u578b\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u306e\u304c\u76ee\u6a19\u306b\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u524d\u63d0\u3068\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u30af\u30e9\u30b9\u5b9a\u7fa9\u90e8\u306f\u4ee5\u964d\u7de8\u96c6\u306f\u3057\u307e\u305b\u3093\u3002\u6b21\u306b\u3001load\u95a2\u6570\u3092\u793a\u3057\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nfunc load<T>(string: String) -> T {\n\tlet tokens = string.components(separatedBy: \"/\")\n\tlet iterator = AnyIterator<String>(tokens.makeIterator())\n\treturn load(iterator: iterator)\n}\n\nfunc load<T>(iterator: AnyIterator<String>) -> T {\n\t//\t\u3053\u3053\u306bIterator\u304b\u3089T\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u51e6\u7406\u3092\u66f8\u304f\n}\n\n```\n\n1\u3064\u3081\u306b\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u306e\u304c\u76ee\u6a19\u306e `load` \u95a2\u6570\u3067\u3059\u3002\u5f15\u6570\u3068\u3057\u3066\u6587\u5b57\u5217\u3092\u53d7\u3051\u53d6\u308a\u3001\u8fd4\u308a\u5024\u3068\u3057\u3066\u30c7\u30b3\u30fc\u30c9\u7d50\u679c\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u308b\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u3068\u3059\u308b\u3053\u3068\u3067\u3001T\u578b\u3092\u30c7\u30b3\u30fc\u30c9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\u5b9f\u88c5\u3067\u306f\u3001\u6587\u5b57\u5217\u3092\u30b9\u30e9\u30c3\u30b7\u30e5\u3067\u533a\u5207\u3063\u3066 `Iterator` \u306b\u3057\u307e\u3059\u3002\u3053\u306e `Iterator` \u304b\u3089 `T` \u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u51e6\u7406\u306f 2\u3064\u3081\u306e `load` \u3068\u3057\u3066\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\u3042\u3068\u306f\u3053\u306e\u4e2d\u8eab\u3092\u66f8\u3051\u3070\u5b8c\u6210\u3067\u3059\u3002\n\n\u3053\u306e\u30c7\u30b3\u30fc\u30c9\u51e6\u7406\u306f\u578b `T` \u306e\u5b9f\u4f53\u306b\u3088\u3063\u3066\u7570\u306a\u308b\u51e6\u7406\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u578b\u3054\u3068\u306b\u7570\u306a\u308b\u51e6\u7406\u3068\u3044\u3048\u3070static\u30e1\u30bd\u30c3\u30c9\u3060\u3068\u3044\u3046\u4e8b\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nprotocol Loadable {\n\tstatic func load(iterator: AnyIterator<String>) -> Self\n}\n\n//{}\n```\n\n\u3053\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3067\u3001 `Loadable` \u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u6e80\u305f\u3059\u578b\u306f\u3001 `Iterator` \u3092\u53d7\u3051\u53d6\u3063\u3066\u81ea\u8eab\u306e\u578b\u3092\u8fd4\u3059static\u30e1\u30bd\u30c3\u30c9 `load` \u3092\u6301\u3064\u4e8b\u304c\u5236\u7d04\u3055\u308c\u307e\u3059\u3002 `Self` \u306f\u81ea\u8eab\u306e\u578b\u3092\u793a\u3059\u7279\u5225\u306a\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u3059\u3002\u3055\u3066\u3001\u3053\u308c\u3092\u5b9a\u7fa9\u3059\u308c\u3070\u3001\u5148\u7a0b\u306e `load` \u30e1\u30bd\u30c3\u30c9\u306e\u5b9f\u88c5\u306f\u7c21\u5358\u306b\u5b8c\u6210\u3057\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nfunc load<T: Loadable>(string: String) -> T {\n\tlet tokens = string.components(separatedBy: \"/\")\n\tlet iterator = AnyIterator<String>(tokens.makeIterator())\n\treturn load(iterator: iterator)\n}\n\nfunc load<T: Loadable>(iterator: AnyIterator<String>) -> T {\n\treturn T.load(iterator: iterator)\n}\n```\n\n`load` \u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf `T` \u306e\u3068\u3053\u308d\u306b\u3001 `Loadable` \u30d7\u30ed\u30c8\u30b3\u30eb\u5236\u7d04\u3092\u8ffd\u8a18\u3057\u307e\u3057\u305f\u3002\u3053\u308c\u306b\u3088\u3063\u3066\u3001 `T.load(iterator: iterator)` \u3068\u3044\u3046\u547c\u3073\u51fa\u3057\u304c\u66f8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u6b21\u306b\u3001 `Int` \u578b\u3068 `String` \u578b\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002Swift\u306f\u62e1\u5f35\u30e1\u30bd\u30c3\u30c9\u3068\u3044\u3046\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3001\u65e2\u5b58\u306e\u578b\u306b\u5bfe\u3057\u3066\u5916\u90e8\u304b\u3089\u30e1\u30bd\u30c3\u30c9\u3092\u8ffd\u52a0\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001\u305d\u308c\u3068\u540c\u6642\u306b\u5916\u90e8\u304b\u3089\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u9069\u7528\u3055\u305b\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nextension Int: Loadable {\n\tstatic func load(iterator: AnyIterator<String>) -> Int {\n\t\tlet x: String = iterator.next()!\n\t\treturn Int(x)!\n\t}\n}\n\nextension String: Loadable {\n\tstatic func load(iterator: AnyIterator<String>) -> String {\n\t\tlet x: String = iterator.next()!\n\t\treturn x\n\t}\n}\n```\n\n\u578b\u304c\u5177\u8c61\u5316\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u8fd4\u308a\u5024\u306e\u578b\u306f `Self` \u304b\u3089\u5b9f\u969b\u306e\u578b\u306b\u66f8\u304d\u63db\u3048\u307e\u3059\u3002\u30c7\u30b3\u30fc\u30c9\u4ed5\u69d8\u306b\u3064\u3044\u3066\u306f\u3001Int\u306f\u5358\u7d14\u306b\u6587\u5b57\u5217\u304b\u3089\u5909\u63db\u3001String\u306f\u305d\u306e\u307e\u307e\u53d6\u308a\u51fa\u3059\u3060\u3051\u3068\u3057\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\n\n```swift\n//\tswift\n\n\tlet i: Int = load(string: \"33\")\n\tprint(i)\n\tlet s: String = load(string: \"abc\")\n\tprint(s)\n```\n\n\u51fa\u529b\n\n```text\n33\nabc\n```\n\n\u3046\u307e\u304f\u52d5\u3044\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u3053\u3067\u3001 `load` \u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf `T` \u304c\u3001 `load` \u306e\u66f8\u304b\u308c\u3066\u3044\u308b\u4ee3\u5165\u6587\u306e\u5de6\u8fba\u306e\u5909\u6570\u306e\u578b\u306b\u3088\u308a\u63a8\u8ad6\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3059\u3002\u3061\u306a\u307f\u306bSwift\u3067\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u660e\u793a\u7684\u306b\u578b\u30a2\u30ce\u30c6\u30fc\u30c8\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u306a\u306e\u3067\u3053\u306e `load` \u95a2\u6570\u306e\u5834\u5408\u3001\u5fc5\u305a\u8fd4\u308a\u5024\u306e `T` \u3092\u4f55\u304b\u3057\u3089\u78ba\u5b9a\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u306f\u4ee3\u5165\u6587\u306e\u4e21\u8fba\u306e\u578b\u5236\u7d04\u3067\u305d\u3053\u3092\u6c7a\u5b9a\u3055\u305b\u3066\u3044\u307e\u3059\u3002\n\n\u6b21\u306b\u3001\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002 `Int` \u3084 `String` \u3068\u540c\u69d8\u306b\u3057\u3066\u3001 `Array` \u306b\u5bfe\u3057\u3066 extension\u3067\u5b9f\u88c5\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u3001Array\u306e\u8981\u7d20\u306e\u578b\u3068\u3057\u3066\u306f\u3001 `Loadable` \u306a\u578b\u306b\u9650\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u305d\u3046\u3067\u306a\u3044\u578b\u304c\u6765\u305f\u3068\u3053\u308d\u3067\u3001\u914d\u5217\u306e\u8981\u7d20\u306e\u30c7\u30b3\u30fc\u30c9\u304c\u3067\u304d\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\n\u3057\u304b\u3057\u6b8b\u5ff5\u306a\u304c\u3089\u4e0b\u8a18\u306e\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\n```swift\n//\tswift\n\nextension Array: Loadable where Element: Loadable {\n\t...\n}\n```\n\n\u73fe\u72b6\u306eSwift\u306fextension\u306b\u3088\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u9069\u7528\u3068\u3001\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u6761\u4ef6\u3064\u304d\u306eextension\u306e\u305d\u308c\u305e\u308c\u306e\u6a5f\u80fd\u306f\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u3053\u308c\u3092\u540c\u6642\u306b\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u5e78\u3044\u3001\u5c06\u6765\u7684\u306b\u306f\u5bfe\u5fdc\u3059\u308b\u65b9\u91dd\u306e\u3088\u3046\u3067\u3059\u3002([GenericsManifesto / Conditional conformances](https://github.com/apple/swift/blob/master/docs/GenericsManifesto.md#conditional-conformances-))\n\n\u3055\u3066\u3001\u59a5\u5354\u3057\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nextension Array where Element: Loadable {\n\tstatic func load(iterator: AnyIterator<String>) -> [Element] {\n\t\tlet n: Int = Main.load(iterator: iterator)\n\t\tvar ret: [Element] = []\n\t\tfor _ in 0..<n {\n\t\t\tret.append(Main.load(iterator: iterator))\n\t\t}\n\t\treturn ret\n\t}\n}\n```\n\n\u3053\u308c\u3067\u3001\u8981\u7d20\u306e\u578b\u304c `Loadable` \u3067\u3042\u308b\u3068\u304d\u306e\u307f\u3001 `Array.load` \u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u307e\u3059\u3002\u6b8b\u5ff5\u306a\u304c\u3089 `Array` \u81ea\u4f53\u306f `Loadable` \u306b\u306a\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u5358\u306b\u30e1\u30bd\u30c3\u30c9\u304c\u5b9a\u7fa9\u3055\u308c\u308b\u3060\u3051\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u65e2\u306b\u5b9a\u7fa9\u3057\u305f `Main.load` \u304b\u3089 `Array` \u3092\u30c7\u30b3\u30fc\u30c9\u3055\u305b\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\n\n\u30e1\u30bd\u30c3\u30c9\u672c\u4f53\u306e\u5b9f\u88c5\u306b\u3064\u3044\u3066\u8ff0\u3079\u307e\u3059\u3002static\u30e1\u30bd\u30c3\u30c9\u306e `load` \u3068\u3001\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306e `load` \u3092\u533a\u5225\u3059\u308b\u305f\u3081\u3001\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306e\u3082\u306e\u3092 `Main.load` \u3068\u3057\u3066\u547c\u3073\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u540d\u3068\u3057\u3066 `Main` \u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\n$ swift -module-name Main swift.swift\n```\n\n\u30c7\u30b3\u30fc\u30c9\u65b9\u5f0f\u3068\u3057\u3066\u306f\u3001\u306f\u3058\u3081\u306b\u6574\u6570\u3092\u30c7\u30b3\u30fc\u30c9\u3057\u3066\u3053\u308c\u304c\u8981\u7d20\u6570\u3068\u306a\u308a\u3001\u305d\u306e\u8981\u7d20\u6570\u306e\u6570\u3060\u3051\u8981\u7d20\u3092\u30c7\u30b3\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\u8981\u7d20\u6570\u306e\u30c7\u30b3\u30fc\u30c9\u306b\u304a\u3044\u3066\u306f\u3001\u5148\u7a0b\u306e\u30c6\u30b9\u30c8\u3068\u540c\u69d8\u306b\u5de6\u8fba\u5024\u3067\u306e\u578b\u6307\u5b9a\u306b\u3088\u308a `Int` \u3092\u30c7\u30b3\u30fc\u30c9\u3055\u305b\u307e\u3059\u3002\u8981\u7d20\u306e\u30c7\u30b3\u30fc\u30c9\u306b\u304a\u3044\u3066\u306f\u3001 `ret.append()` \u306e\u5f15\u6570\u306e\u578b\u304c\u3001 `ret` \u306e\u8981\u7d20\u306e\u578b `Element` \u3092\u53d7\u3051\u53d6\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3001 `Element` \u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u3088\u3046\u306b\u63a8\u8ad6\u3055\u308c\u307e\u3059\u3002\u3053\u306e `Element` \u3068\u3044\u3046\u306e\u306f\u3001 `Array` \u306b\u3082\u3068\u3082\u3068\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b \u8981\u7d20\u306e\u578b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\u3067\u3059\u3002\n\n\u3055\u3066\u3001\u6b8b\u5ff5\u306a\u304c\u3089 `Array` \u3092 `Loadable` \u306b\u3067\u304d\u306a\u304b\u3063\u305f\u306e\u3067\u3001 `load` \u304b\u3089\u3053\u308c\u3092\u547c\u3073\u51fa\u3059\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3053\u3067\u3001\u540c\u3058 `load` \u30e1\u30bd\u30c3\u30c9\u3092\u3001\u8fd4\u308a\u5024\u306e\u578b\u304c\u9055\u3046 `load` \u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u30aa\u30fc\u30d0\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nfunc load<T: Loadable>(string: String) -> [T] {\n\tlet tokens = string.components(separatedBy: \"/\")\n\tlet iterator = AnyIterator<String>(tokens.makeIterator())\n\treturn load(iterator: iterator)\n}\n\nfunc load<T: Loadable>(iterator: AnyIterator<String>) -> [T] {\n\treturn Array<T>.load(iterator: iterator)\n}\n```\n\n\u3082\u3068\u3082\u3068\u3042\u308b `load` \u306f \u578b `T` \u304c `Loadble` \u3067\u3042\u308b\u3068\u304d\u306b \u8fd4\u308a\u5024\u306e\u578b\u304c `T` \u3068\u306a\u308b `load` \u30e1\u30bd\u30c3\u30c9\u3067\u3059\u304c\u3001\u4eca\u56de\u5b9a\u7fa9\u3057\u305f\u306e\u306f \u578b `T` \u304c `Loadble` \u3067\u3042\u308b\u3068\u304d\u306b \u8fd4\u308a\u5024\u306e\u578b\u304c `[T]` \u3068\u306a\u308b `load` \u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\u65e2\u306b\u8ff0\u3079\u305f\u7406\u7531\u306b\u3088\u308a\u3001 `Array` \u304c `Loadable` \u306b\u306a\u308b\u3053\u3068\u306f\u3042\u308a\u3048\u306a\u3044\u305f\u3081\u3001\u8fd4\u308a\u5024\u304c `Array` \u3067\u3042\u308b\u5834\u5408 `T` \u3092\u8fd4\u3059 `load` \u304c\u30de\u30c3\u30c1\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u3001\u3053\u306e `[T]` \u3092\u8fd4\u3059 `load` \u304c\u3001 `T` \u3092\u8fd4\u3059 `load` \u3068\u66d6\u6627\u306b\u306a\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n`Array` \u306e\u30c7\u30b3\u30fc\u30c9\u3092\u30c6\u30b9\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\n\n```swift\n//\tswift\n\n\tlet a: [String] = load(string: \"3/apple/banana/cherry\")\n\tprint(a)\n```\n\n\u51fa\u529b\n\n```text\n[\"apple\", \"banana\", \"cherry\"]\n```\n\n\u3046\u307e\u304f\u52d5\u304d\u307e\u3057\u305f\u3002\n\n\u3053\u3053\u307e\u3067\u3067\u304d\u308c\u3070\u5f8c\u306f\u7c21\u5358\u3067\u3059\u3002Employee\u3068Company\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nextension Employee: Loadable {\n\tstatic func load(iterator: AnyIterator<String>) -> Employee {\n\t\treturn Employee(\n\t\t\tname: Main.load(iterator: iterator),\n\t\t\tage: Main.load(iterator: iterator)\n\t\t\t)\n\t}\n}\n\nextension Company: Loadable {\n\tstatic func load(iterator: AnyIterator<String>) -> Company {\n\t\treturn Company(\n\t\t\tname: Main.load(iterator: iterator),\n\t\t\temployees: Main.load(iterator: iterator))\n\t}\n}\n```\n\n`Array.load` \u3092\u5b9f\u88c5\u3057\u305f\u6642\u3068\u540c\u3058\u3088\u3046\u306b\u3001 `Main.load` \u304c\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u578b\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u306e\u3068\u3053\u308d\u306b\u76f4\u63a5\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u578b\u63a8\u8ad6\u5668\u304c\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u306e\u578b\u3092\u53c2\u7167\u3057\u3066\u304f\u308c\u308b\u304a\u304b\u3052\u3067\u3001 `Main.load` \u306b\u3064\u3044\u3066\u306e\u578b\u6307\u5b9a\u304c\u4e0d\u8981\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 `employees:` \u306e\u3068\u3053\u308d\u306f\u3001\u5f15\u6570\u306e\u578b\u3068\u3057\u3066 `[Employee]` \u304c\u671f\u5f85\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001 `[T]` \u3092\u8fd4\u3059\u65b9\u306e `Main.load` \u304c\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3068\u3057\u3066\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002\n\n\u30c6\u30b9\u30c8\u3057\u3066\u307f\u307e\u3059\u3002\n\n```swift\n//\tswift\n\n\tlet c: Company = load(string: \"CatWorld/3/tama/5/mike/6/kuro/7\")\n\tprint(c)\n```\n\n\u51fa\u529b\n\n```text\n(name=CatWorld, employees=[(name=tama, age=5), (name=mike, age=6), (name=kuro, age=7)])\n```\n\n\u3053\u306e\u901a\u308a\u3001\u76ee\u7684\u306e `load` \u95a2\u6570\u304c\u3046\u307e\u304f\u52d5\u304d\u307e\u3057\u305f\u3002\n\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\u6bd4\u8f03\u7684\u76f4\u611f\u7684\u306a\u69cb\u6587\u306b\u3088\u3063\u3066\u3001\u578b\u63a8\u8ad6\u3092\u6d3b\u304b\u3057\u305f\u8907\u96d1\u306a\u8a18\u8ff0\u304c\u7c21\u6f54\u306b\u8a18\u8ff0\u3067\u304d\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002\u9006\u306b\u3001\u3042\u307e\u308a\u306b\u81ea\u7136\u306a\u8a18\u8ff0\u3059\u304e\u3066\u3001\u3059\u3054\u304f\u601d\u3048\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305d\u306e\u3042\u305f\u308a\u306f\u5f8c\u8ff0\u3059\u308b\u4ed6\u306e\u8a00\u8a9e\u306e\u5834\u5408\u3092\u898b\u3066\u3044\u304f\u3068\u611f\u3058\u65b9\u304c\u5909\u308f\u3063\u3066\u304f\u308b\u3068\u601d\u3044\u307e\u3059\u3002\n\n## Swift\u5b9f\u88c5\u306e\u4fee\u6b63\n\n\u5b9f\u306f\u6b8b\u5ff5\u306a\u4e8b\u306b\u3001\u5b9f\u7528\u4e0a\u306e\u5229\u4fbf\u6027\u3092\u8003\u3048\u308b\u3068\u3082\u3046\u5c11\u3057\u4fee\u6b63\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u305f\u3081\u3057\u306b\u3001 `Company` \u3092 `struct` \u304b\u3089 `class` \u306b\u5909\u66f4\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\n```\nswift.swift:92:14: error: method 'load(iterator:)' in non-final class 'Company' must return `Self` to conform to protocol 'Loadable'\n        static func load(iterator: AnyIterator<String>) -> Company {\n```\n\n\u3053\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3001 `Company` \u304c `Loadable` \u3092\u9069\u7528\u3067\u304d\u3066\u3044\u306a\u3044\u3068\u8a00\u3063\u3066\u3044\u307e\u3059\u3002\u7406\u7531\u306f\u3001 `Company` \u304c\u7d99\u627f\u53ef\u80fd\u306a\u305f\u3081\u306b\u3001 `Self` \u304c\u6e80\u305f\u305b\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\nSwift\u3067\u306f\u3042\u308b\u30af\u30e9\u30b9\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3082\u3001\u89aa\u30af\u30e9\u30b9\u306estatic\u30e1\u30bd\u30c3\u30c9\u304c\u547c\u3073\u51fa\u3057\u53ef\u80fd\u3067\u3059\u3002\u3064\u307e\u308a\u4e0b\u8a18\u304c\u8a31\u3055\u308c\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nclass PaperCompany : Company { }\n\nPaperCompnay.load(string: \"aaa\")\n```\n\n\u3057\u304b\u3057\u3053\u3053\u3067\u554f\u984c\u304c\u8d77\u304d\u307e\u3059\u3002 `Company` \u306f `Loadable` \u3067\u3059\u304b\u3089\u3001 `PaperCompnay` \u3082 `Loadable` \u3067\u3059\u3002 `PaperCompnay` \u304c `Loadable` \u3067\u3042\u308b\u3068\u3044\u3046\u3053\u3068\u306f\u3001 `PaperCompany` \u3082 static\u30e1\u30bd\u30c3\u30c9\u306e `load` \u3092\u6301\u3063\u3066\u3044\u3066\u3001\u305d\u306e\u8fd4\u308a\u5024\u306e\u578b\u306f `PaperCompany` \u3068\u3044\u3046\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u3057\u304b\u3057\u3053\u3053\u3067\u5b9f\u88c5\u306f\u89aa\u30af\u30e9\u30b9\u306e `Company` \u306b\u3042\u308b\u306e\u3067\u3001\u8fd4\u3063\u3066\u304f\u308b\u306e\u306f `Company` \u3067\u3059\u3002\u3088\u3063\u3066\u578b\u306e\u77db\u76fe\u304c\u8d77\u3053\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n\u3053\u308c\u306f `Comapny` \u3092\u7d99\u627f\u3057\u305f\u77ac\u9593\u306b\u4e00\u822c\u306b\u751f\u3058\u308b\u554f\u984c\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u3001 `Company` \u5358\u4f53\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3068\u306a\u3063\u305f\u308f\u3051\u3067\u3059\u3002\n\n\u3053\u308c\u3092\u56de\u907f\u3059\u308b\u305f\u3081\u306b\u306f\u3001 `Company.load` \u3082 `PaperCompany.load` \u3082\u540c\u3058\u578b\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3088\u3063\u3066\u3082\u306f\u3084 `Loadable` \u306f `Self` \u3092\u8fd4\u305b\u307e\u305b\u3093\u3002\u3053\u308c\u306f `Loadable` \u5b9f\u88c5\u6642\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u306a\u308b\u306e\u3067\u3001 `Loadable` \u3092\u305d\u306e\u3088\u3046\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u53d6\u308b\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nprotocol Loadable {\n\tassociatedtype Loaded\n\tstatic func load(iterator: AnyIterator<String>) -> Loaded\n}\n\n//{}\n```\n\n`associatedtype` \u306f\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5ba3\u8a00\u3059\u308b\u547d\u4ee4\u3067\u3059\u3002\u3053\u3053\u3067\u306f `load` \u306b\u3088\u3063\u3066\u30c7\u30b3\u30fc\u30c9\u3055\u308c\u308b\u578b\u3092 `Loaded` \u3068\u547d\u540d\u3057\u307e\u3057\u305f\u3002\u5e78\u3044\u3001Swift\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u51fa\u73fe\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u306e\u5177\u8c61\u5316\u3055\u308c\u305f\u5b9f\u88c5\u304b\u3089\u63a8\u8ad6\u3057\u3066\u6c7a\u5b9a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001 `Int` \u3084 `String` \u306a\u3069\u3092 `Loadable` \u306b\u9069\u7528\u3055\u305b\u3066\u3044\u308b\u3068\u3053\u308d\u306e\u30b3\u30fc\u30c9\u306f\u4fee\u6b63\u4e0d\u8981\u3067\u3059\u3002 `load` \u30e1\u30bd\u30c3\u30c9\u306e\u8fd4\u308a\u5024\u304c `Int` \u3084 `String` \u3068\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304b\u3089\u89e3\u6c7a\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3059\u3002\n\n\u3057\u304b\u3057\u4eca\u5ea6\u306f\u3001 `Main.load` \u306e\u5b9f\u88c5\u90e8\u5206\u3067\u30a8\u30e9\u30fc\u3068\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n```\nswift.swift:45:11: error: cannot convert return expression of type 'T.Loaded' to return type 'T'\n        return T.load(iterator: iterator)\n```\n\n\u3053\u308c\u306f\u3001 `T: Loadable` \u3092\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u53d7\u3051\u53d6\u308a\u3001 `T` \u3092\u8fd4\u3059\u95a2\u6570 `load` \u304c\u3001\u53d7\u3051\u53d6\u3063\u3066\u3044\u308b `T` \u306e `Loaded` \u30d1\u30e9\u30e1\u30fc\u30bf\u304c `T` \u3068\u306f\u9650\u3089\u306a\u3044\u4e8b\u306b\u3088\u308b\u30a8\u30e9\u30fc\u3067\u3059\u3002 `Loaded` \u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u4eca\u3055\u3063\u304d\u5b9a\u7fa9\u3057\u305f `associatedtype` \u306e\u4e8b\u3067\u3059\u3002 \u305d\u3053\u3067\u3001 `T` \u3068 `T.Loaded` \u304c\u540c\u4e00\u3067\u3042\u308b\u5834\u5408\u306b\u9650\u3063\u3066 `load` \u304c\u547c\u3073\u51fa\u3057\u53ef\u80fd\u3067\u3042\u308b\u3001\u3068\u5236\u7d04\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nfunc load<T: Loadable>(string: String) -> T \n\twhere T.Loaded == T\n{ ... }\n\nfunc load<T: Loadable>(iterator: AnyIterator<String>) -> T\n\twhere T.Loaded == T \n{ ... }\n\nfunc load<T: Loadable>(string: String) -> [T] \n\twhere T.Loaded == T \n{ ... }\n\nfunc load<T: Loadable>(iterator: AnyIterator<String>) -> [T] \n\twhere T.Loaded == T \n{ ... }\n\nextension Array where Element: Loadable,\n\tElement.Loaded == Element\n{ ... }\n```\n\n\u3053\u306e\u3088\u3046\u306b `where` \u306b\u3088\u308b\u5236\u7d04\u306e\u8ffd\u8a18\u3092\u884c\u3044\u307e\u3059\u3002 `Array` \u306e extension \u90e8\u5206\u306b\u3082\u5fc5\u8981\u3067\u3059\u3002\n\n\u3053\u308c\u3067\u4fee\u6b63\u306f\u5b8c\u4e86\u3067\u3059\u3002\n\n\u305d\u3057\u3066\u4ee5\u4e0b\u306e\u8a18\u8ff0\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002\n\n```swift\n//\tswift\n\nlet p: PaperCompany = load(string: \"\")\n```\n\n`PaperCompany.Loaded` \u304c `Company` \u306e\u305f\u3081\u3001 `T.Loaded == T` \u3092\u6e80\u305f\u3055\u306a\u3044\u305f\u3081 `Main.load` \u304c\u5b9a\u7fa9\u3055\u308c\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\n\u904b\u7528\u4e0a\u3001\u3053\u306e\u3088\u3046\u306a\u30b5\u30d6\u30af\u30e9\u30b9\u5316\u3059\u308b\u30b1\u30fc\u30b9\u3067\u306f\u3001\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\u6642\u306b\u578b\u540d\u3092\u30d8\u30c3\u30c0\u3068\u3057\u3066\u5165\u308c\u3066\u304a\u3044\u3066\u3001 `Company.load` \u306e\u5b9f\u88c5\u306b\u304a\u3044\u3066\u305d\u306e\u578b\u540d\u3092\u307e\u305a\u8aad\u307f\u53d6\u308a\u3001\u305d\u308c\u306b\u5fdc\u3058\u3066 `PaperCompany` \u306a\u3069\u3001\u3069\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u306e\u304b\u3092\u5206\u5c90\u3059\u308b\u3001\u3068\u3044\u3063\u305f\u30b3\u30fc\u30c9\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002\n\u3082\u3057\u304f\u306f\u3001JSON API\u306b\u578b\u4ed8\u3051\u3059\u308b\u305f\u3081\u3060\u3051\u306e\u578b\u3067\u3042\u308b\u5834\u5408\u306f\u3001\u7d99\u627f\u306f\u3055\u305b\u305a\u306b `has-a` \u95a2\u4fc2\u3067\u53d6\u308a\u6271\u3046\u306e\u3082\u826f\u3044\u3067\u3057\u3087\u3046\u3002\n\n\n\n# kotlin\u3067\u306e\u5b9f\u88c5\n\n\u30d0\u30fc\u30b8\u30e7\u30f3: `Kotlin Compiler version 1.0.6-release-127`\n\n\u6b21\u306bkotlin\u3067\u306e\u5b9f\u88c5\u3092\u793a\u3057\u307e\u3059\u3002\u306f\u3058\u3081\u306b `Employee` \u3068 `Company` \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```kotlin\n//\tkotlin\n\ndata class Employee(val name: String, val age: Int)\n\nopen class Company(val name: String, val employees: List<Employee>) {\n\toverride fun toString(): String {\n\t\treturn \"(name=$name, employees=$employees)\"\n\t}\n}\n```\n\nswift\u7248\u306e\u6700\u7d42\u72b6\u614b\u306b\u3042\u308f\u305b\u3066\u3001 `Employee` \u3092 `data class` \u3001 `Company` \u3092 `open class` \u306b\u3057\u3066\u3044\u307e\u3059\u3002 `data class` \u306f `toString()` \u3092\u81ea\u52d5\u5b9f\u88c5\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u52a9\u304b\u308a\u307e\u3059\u3002\n\n\u3055\u3066\u3001\u65e9\u901f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9a\u7fa9\u3067\u3059\u304c\u3001kotlin\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b static\u30e1\u30bd\u30c3\u30c9\u306f\u66f8\u3051\u306a\u3044\u306e\u3067\u3001\u3068\u308a\u3042\u3048\u305astatic\u5074\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```kotlin\n//\tkotlin\n\ninterface LoadableStatic<T> {\n\tfun load(iterator: Iterator<String>): T\n}\n```\n\n\u6b21\u306b\u76ee\u7684\u306e `load` \u95a2\u6570\u3067\u3059\u3002\u3042\u3068\u3067\u540d\u524d\u3092\u533a\u5225\u3067\u304d\u308b\u3088\u3046\u3001\u4e00\u756a\u4e0a\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u3082\u6307\u5b9a\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```kotlin\n//\tkotlin\n\npackage Main\n\n...\n\nfun <T> load(iterator: Iterator<String>): T {\n\t//\t\u3053\u3053\u306b LoadableStatic \u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u304c\u5fc5\u8981\n}\n```\n\n\u3057\u304b\u3057\u3053\u3053\u3067\u56f0\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002swift\u306e\u5834\u5408\u306f\u5236\u7d04\u3092\u304b\u3051\u305f `T` \u306b\u5bfe\u3057\u3066 `T.load` \u3068\u3044\u3046\u5f62\u3067static\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u4eca `T` \u306b\u5bfe\u3057\u3066static\u30e1\u30bd\u30c3\u30c9\u306e\u5236\u7d04\u3092\u66f8\u304f\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u809d\u5fc3\u306e `load` \u306e\u5b9f\u4f53\u306f\u3001 `LoadableStatic` \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u305f\u3081\u306b\u306f\u3001\u305d\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6e80\u305f\u3059\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3076\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002 `T` \u306b\u5bfe\u5fdc\u3059\u308b `LoadableStatic<T>` \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u306a\u3093\u3089\u304b\u306e\u65b9\u6cd5\u3067\u547c\u3073\u51fa\u305b\u308c\u3070\u826f\u3044\u3067\u3059\u304c\u3001\u305d\u306e\u3088\u3046\u306a\u6a5f\u80fd\u3082\u3042\u308a\u307e\u305b\u3093(\u53b3\u5bc6\u306b\u306f\u3042\u308b\u3093\u3067\u3059\u304c\u3053\u3053\u3067\u306f\u7121\u8996\u3057\u307e\u3059\u3002\u8a73\u7d30\u306f\u6ce8\u91c8\u306b\u66f8\u304d\u307e\u3057\u305f\u3002[^1])\u3002\u305d\u3046\u3059\u308b\u3068\u7d50\u5c40\u306e\u3068\u3053\u308d\u3001 `LoadableStatic<T>` \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u5f15\u6570\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b\u3057\u304b\u3042\u308a\u307e\u305b\u3093\u3002\u3088\u3063\u3066\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```kotlin\n//\tkotlin\n\nfun <T> load(string: String, static: LoadableStatic<T>): T {\n\tval tokens = string.split(\"/\")\n\tval iterator = tokens.iterator()\n\treturn load(iterator, static)\n}\n\nfun <T> load(iterator: Iterator<String>, static: LoadableStatic<T>): T {\n\treturn static.load(iterator)\n}\n```\n\nSwift\u3068\u540c\u69d8\u3001\u6587\u5b57\u5217\u3092\u53d7\u3051\u308b\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3068\u3001 `Iterator` \u3092\u53d7\u3051\u308b\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u3001 `Int` \u306e\u30c7\u30b3\u30fc\u30c9\u3001 `String` \u306e\u30c7\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```kotlin\n//\tkotlin\n\nobject IntLoadableStatic : LoadableStatic<Int> {\n\toverride fun load(iterator: Iterator<String>): Int {\n\t\tval x: String = iterator.next()\n\t\treturn x.toInt()\n\t}\n}\n\nobject StringLoadableStatic : LoadableStatic<String> {\n\toverride fun load(iterator: Iterator<String>): String {\n\t\tval x: String = iterator.next()\n\t\treturn x\n\t}\n}\n```\n\n`object` \u306f\u305d\u306e\u5834\u3067\u533f\u540d\u578b\u3092\u4f5c\u308a\u3064\u3064\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u9759\u7684\u306b\u5b9a\u7fa9\u3059\u308b\u69cb\u6587\u3067\u3059\u3002\u3053\u308c\u3092 `Int` \u3068 `String` \u305d\u308c\u305e\u308c\u306e\u305f\u3081\u306b\u5b9a\u7fa9\u3057\u3064\u3064\u3001 `LoadableStatic` \u3092\u9069\u7528\u3059\u308b\u4e8b\u3067\u578b\u4ed8\u3051\u3057\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u547c\u3073\u51fa\u3057\u5074\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```kotlin\n//\tkotlin\n\n\tval i = load(\"33\", IntLoadableStatic)\n\tprintln(i)\n\tval s = load(\"abc\", StringLoadableStatic)\n\tprintln(s)\n```\n\nswift\u3067\u306f\u5de6\u8fba\u306e\u8fd4\u308a\u5024\u306e\u578b\u304b\u3089\u63a8\u8ad6\u3055\u305b\u307e\u3057\u305f\u304c\u3001\u4eca\u56de\u306f\u578b\u306e\u63a8\u8ad6\u3060\u3051\u3067\u306a\u304f\u3001\u578b\u306b\u5bfe\u5fdc\u3057\u305f\u9069\u5207\u306a `LoadableStatic` \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u6e21\u3055\u306d\u3070\u306a\u3089\u306a\u3044\u305f\u3081\u3001\u3053\u308c\u3092\u624b\u52d5\u3067\u66f8\u304d\u307e\u3059\u3002\u3088\u3063\u3066\u578b\u306e\u6c7a\u5b9a\u624b\u9806\u3068\u3057\u3066\u306f\u3001\u624b\u66f8\u304d\u3057\u305f `IntLoadableStatic` \u3092\u8d77\u70b9\u306b\u6c7a\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u6b21\u306b\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c0\u3092\u4f5c\u308a\u307e\u3059\u3002\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c0\u306f\u8981\u7d20\u306e\u578b\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u3067\u3042\u308b\u306a\u3089\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u3067\u3042\u308b\u3088\u3046\u306b\u4f5c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u4eca\u3001 `Int` \u3068 `IntLoadableStatic` \u306f\u7279\u306b\u4f55\u306e\u7d50\u3073\u3064\u304d\u3082\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002\u3064\u307e\u308a\u3001 `Int` \u3068\u3044\u3046\u578b\u540d\u3060\u3051\u304b\u3089\u3001\u3053\u308c\u306b\u5bfe\u5fdc\u3059\u308b `LoadableStatic<Int>` \u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b58\u5728\u3059\u308b\u304b\u3069\u3046\u304b\u306f\u5224\u5b9a\u3067\u304d\u306a\u3044\u306e\u3067\u3059\u3002\u3088\u3063\u3066\u3001\u914d\u5217\u306e\u8981\u7d20\u306e\u578b\u304c\u3042\u308b\u3068\u304d\u306b\u3001\u305d\u308c\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u304b\u3069\u3046\u304b\u3001\u8a00\u8a9e\u7684\u306b\u5224\u5b9a\u3059\u308b\u65b9\u6cd5\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3068\u308a\u3042\u3048\u305a\u305d\u306e\u70b9\u306f\u304a\u3044\u3066\u304a\u3044\u3066\u5b9f\u88c5\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```kotlin\n//\tkotlin\n\nclass ListLoadableStatic<T>(val elementStatic: LoadableStatic<T>) :\n\tLoadableStatic<List<T>> \n{\n\toverride fun load(iterator: Iterator<String>): List<T> {\n\t\tval n = Main.load(iterator, IntLoadableStatic)\n\t\tval ret = mutableListOf<T>()\n\t\tfor (i in 0 until n) {\n\t\t\tret.add(Main.load(iterator, elementStatic))\n\t\t}\n\t\treturn ret\n\t}\n}\n```\n\n\u57fa\u672c\u7684\u306a\u4f5c\u308a\u306fswift\u306e\u5834\u5408\u3068\u540c\u3058\u3067\u3059\u3002\u9055\u3044\u3068\u3057\u3066\u3001\u8981\u7d20\u6570\u3092\u8aad\u307f\u53d6\u308b\u3068\u3053\u308d\u3067 `IntLoadableStatic` \u660e\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u5b9f\u88c5\u3057\u3066\u307f\u308c\u3070\u308f\u304b\u308b\u3053\u3068\u3067\u3059\u304c\u3001\u8981\u7d20\u3092\u8aad\u307f\u53d6\u308b\u3068\u3053\u308d\u306e `Main.load` \u306e\u547c\u3073\u51fa\u3057\u3067\u3001\u8981\u7d20\u306e\u578b\u306e `LoadableStatic` \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u5148\u7a0b\u3082\u8aac\u660e\u3057\u305f\u3068\u304a\u308a\u3001\u8981\u7d20\u306e\u578b `T` \u304b\u3089\u9759\u7684\u306b\u53d6\u5f97\u3059\u308b\u4e8b\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3068\u306a\u308b\u3068\u3001 `ListLoadableStatic` \u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5f15\u6570\u3067\u3001\u8981\u7d20\u306e\u578b\u306e `LoadableStatic<T>` \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u53d7\u3051\u53d6\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3057\u3066\u3001 `Int` \u3084 `String` \u306e\u5834\u5408\u3068\u9055\u3044\u3001 `List` \u306e\u5834\u5408\u306f `object` \u3067\u306f\u306a\u304f `class` \u3067\u306e\u5b9a\u7fa9\u3068\u306a\u308a\u3001\u5fc5\u8981\u306a\u7b87\u6240\u3067\u3053\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u751f\u6210\u3059\u308b\u3068\u3044\u3046\u4f7f\u3044\u65b9\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```kotlin\n//\tkotlin\n\n\tval a = load(\"3/apple/banana/cherry\", ListLoadableStatic(StringLoadableStatic))\n\tprintln(a)\n```\n\n`load` \u306e\u7b2c2\u5f15\u6570\u306e\u3068\u3053\u308d\u3067\u3001 `List<String>` \u3092\u8868\u73fe\u3057\u3066\u3044\u308b\u306e\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u306a\u304a\u3001\u3053\u306e\u5834\u5408\u306f swift\u306e\u5834\u5408\u3068\u9055\u3063\u3066 `load` \u95a2\u6570\u306f `T` \u3092\u8fd4\u3059\u3082\u306e1\u3064\u3060\u3051\u3067\u3088\u304f\u3001 `List<T>` \u3092\u8fd4\u3059 `load` \u306e\u5b9f\u88c5\u306f\u4e0d\u8981\u3067\u3059\u3002\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001 `ListLoadableStatic` \u3092\u66f8\u304b\u306d\u3070\u306a\u3089\u306a\u304f\u306a\u3063\u3066\u3044\u308b\u308f\u3051\u3067\u3059\u3002\n\n\u307e\u305f\u3001\u3053\u3053\u3067\u81ea\u305a\u3068\u5148\u7a0b\u306e\u3001\u8981\u7d20\u306e\u578b\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u3067\u3042\u308b\u4e8b\u306e\u5236\u7d04\u3082\u6e80\u305f\u3055\u308c\u307e\u3059\u3002\u8981\u7d20\u306e\u578b\u304c\u30c7\u30b3\u30fc\u30c9\u4e0d\u53ef\u80fd\u3067\u3042\u308b\u5834\u5408\u306f\u3001 `ListLoadableStatic` \u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306b\u6e21\u3059 `LoadableStatic` \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u5b58\u5728\u3057\u306a\u3044\u304b\u3089\u3067\u3059\u3002\n\n\u6700\u5f8c\u306b `Employee` \u3068 `Company` \u306e\u30c7\u30b3\u30fc\u30c0\u3092\u4f5c\u308a\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u306e\u6d41\u308c\u3092\u8e0f\u8972\u3057\u3066\u5b9f\u88c5\u3067\u304d\u307e\u3059\u3002\u524d\u63d0\u3067\u306f\u3053\u308c\u3089\u306f\u4e8b\u524d\u5b9a\u7fa9\u30af\u30e9\u30b9\u3067\u3001\u5909\u66f4\u3067\u304d\u306a\u3044\u3068\u3057\u307e\u3057\u305f\u304c\u3001\u4f8b\u3048\u3070\u4eee\u306b `Company` \u306f\u4e8b\u524d\u5b9a\u7fa9\u3067\u306f\u7121\u304b\u3063\u305f\u3068\u3059\u308c\u3070\u3001 `CompanyLoadableStatic` \u3092\u5b9a\u7fa9\u305b\u305a\u3068\u3082\u3001 `Company` \u306e Companion Object \u3092 `LoadableStatic` \u3068\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u305d\u306e\u3088\u3046\u306b\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\n\n```kotlin\n//\tkotlin\n\nobject EmployeeLoadableStatic : LoadableStatic<Employee> {\n\toverride fun load(iterator: Iterator<String>): Employee {\n\t\treturn Employee(\n\t\t\tMain.load(iterator, StringLoadableStatic),\n\t\t\tMain.load(iterator, IntLoadableStatic)\n\t\t\t)\n\t}\n}\n\nopen class Company(val name: String, val employees: List<Employee>) {\n\tcompanion object : LoadableStatic<Company> {\n\t\toverride fun load(iterator: Iterator<String>): Company {\n\t\t\treturn Company(\n\t\t\t\tMain.load(iterator, StringLoadableStatic),\n\t\t\t\tMain.load(iterator, ListLoadableStatic(EmployeeLoadableStatic))\n\t\t\t\t)\n\t\t}\n\t}\n\n\toverride fun toString(): String {\n\t\treturn \"(name=$name, employees=$employees)\"\n\t}\n}\n```\n\n`Company` \u306b\u3064\u3044\u3066\u306f\u65e2\u306b\u5b9a\u7fa9\u3057\u3066\u308b class \u5b9a\u7fa9\u306b\u8ffd\u8a18\u3059\u308b\u5f62\u3067 companion object \u3092\u5b9f\u88c5\u3057\u307e\u3057\u305f\u3002 `Company` \u306e employee \u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u90e8\u5206\u306f\u3001 `ListLoadableStatic` \u3092 `EmployeeLoadableStatic` \u3068\u5408\u308f\u305b\u3066\u6307\u5b9a\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u3053\u3046\u3059\u308b\u3068 `Company` \u306e\u30c7\u30b3\u30fc\u30c9\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```kotlin\n//\tkotlin\n\n\tval c: Company = load(\"CatWorld/3/tama/5/mike/6/kuro/7\", Company)\n\tprintln(c)\n```\n\n\u51fa\u529b\n\n```\n(name=CatWorld, employees=[Employee(name=tama, age=5), Employee(name=mike, age=6), Employee(name=kuro, age=7)])\n```\n\n\u3053\u308c\u3067\u3046\u307e\u304f\u52d5\u304d\u307e\u3057\u305f\u3002 `Company` \u306e\u30c7\u30b3\u30fc\u30c9\u306b\u3042\u305f\u3063\u3066\u306f\u3001 `Company` \u306e companion object\u3092 `LoadableStatic` \u3068\u3057\u3066\u3044\u308b\u306e\u3067\u3001 `load` \u306e\u7b2c2\u5f15\u6570\u306b\u306f `Company` \u3092\u6e21\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002swift\u306e\u5834\u5408\u3068\u6bd4\u8f03\u3059\u308b\u3068\u3001swift\u3067\u306f\u63a8\u8ad6\u5668\u304c `T` \u3092\u6c7a\u5b9a\u3057\u305f\u4e0a\u3067 `T` \u304b\u3089\u30b3\u30fc\u30c9\u304c\u751f\u6210\u3055\u308c\u308b\u90e8\u5206\u3067\u3001kotlin\u3067\u306f\u660e\u793a\u7684\u306b\u305d\u306e\u52d5\u4f5c\u3092\u53f8\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u4f55\u3092\u6e21\u3059\u3079\u304d\u304b\u306f\u3001\u578b `T` \u304b\u3089\u56fa\u5b9a\u7684\u306b\u6c7a\u307e\u308a\u307e\u3059\u3002\u305d\u3057\u3066 `T` \u306f\u5468\u8fba\u306e\u5f0f\u3068\u5171\u306b\u672c\u6765\u306f\u9759\u7684\u306b\u6c7a\u307e\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u6c7a\u307e\u308a\u304d\u3063\u305f\u5197\u9577\u306a\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\n\n# typescript\u3067\u306e\u5b9f\u88c5\n\n\u30d0\u30fc\u30b8\u30e7\u30f3: `Version 2.2.1`\n\nTypeScript\u306e\u578b\u30b7\u30b9\u30c6\u30e0\u306f\u3053\u306e\u30c6\u30fc\u30de\u306b\u9650\u3063\u3066\u8a00\u3048\u3070kotlin\u3068\u307b\u3068\u3093\u3069\u540c\u3058\u3067\u3059\u3002\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5177\u8c61\u5316\u3055\u308c\u305f\u578b `T` \u306b\u5bfe\u3057\u3066static\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u305f\u308a\u3001\u7d10\u4ed8\u3044\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\u3059\u308b\u4e8b\u304c\u3067\u304d\u306a\u3044\u305f\u3081\u3001 `LoadableStatic` \u3092\u5b9f\u88c5\u3057\u3066\u3044\u304f\u65b9\u91dd\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u306a\u306e\u3067\u6982\u8981\u306f\u3042\u307e\u308a\u5909\u308f\u3089\u306a\u3044\u3067\u3059\u304c\u3001\u305b\u3063\u304b\u304f\u306a\u306e\u3067TypeScript\u306a\u3089\u3067\u306f\u306e\u5c0f\u6280\u3092\u7e54\u308a\u8fbc\u3093\u3067\u3084\u3063\u3066\u3044\u3053\u3046\u3068\u601d\u3044\u307e\u3059\u3002\n\nLoadableStatic\u30af\u30e9\u30b9\u306e\u5b9f\u88c5\u3067\u3059\u304c\u3001TypeScript\u306fJavaScript\u3068\u540c\u69d8\u306b\u4e8b\u524d\u5b9a\u7fa9\u6e08\u307f\u306e\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066\u30e1\u30bd\u30c3\u30c9\u3092\u5916\u304b\u3089\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u3092\u4f7f\u3048\u3070\u3001kotlin\u3067Company\u306e\u3068\u304d\u306b\u3084\u3063\u305f\u3001\u5bfe\u8c61\u306e\u30af\u30e9\u30b9\u305d\u308c\u81ea\u4f53\u3092 LoadableStatic \u5316\u3059\u308b\u66f8\u304d\u65b9\u3092\u3001\u65e2\u5b58\u5b9a\u7fa9\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066\u3067\u304d\u307e\u3059\u3002\u306a\u306e\u3067\u305d\u306e\u65b9\u91dd\u3067\u884c\u304d\u307e\u3059\u3002\n\n\u3061\u306a\u307f\u306bJavaScript\u3067\u3053\u308c\u3092\u3084\u308b\u3068\u3001\u305d\u306e\u3088\u3046\u306a\u30e1\u30bd\u30c3\u30c9\u8ffd\u52a0\u3092\u8907\u6570\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304b\u3089\u884c\u3063\u3066\u3057\u307e\u3063\u3066\u4e0a\u66f8\u304d\u5408\u6226\u306b\u306a\u3063\u3066\u58ca\u308c\u308b\u30ea\u30b9\u30af\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u5b8c\u5168TypeScript\u74b0\u5883\u306a\u3089\u305d\u306e\u969b\u306e\u578b\u885d\u7a81\u306f\u9759\u7684\u306b\u691c\u51fa\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\u307e\u3060\u30de\u30b7\u3067\u3059\u3002(\u540c\u3058\u578b\u3067\u306e\u5024\u306e\u4e0a\u66f8\u304d\u5408\u6226\u306f\u3042\u308a\u3048\u308b)\u3002\n\n\u3068\u308a\u3042\u3048\u305a\u307e\u305a\u306f\u3058\u3081\u306b `Iterator` \u304c\u7121\u3044\u306e\u3067\u9069\u5f53\u306b\u4f5c\u308a\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\ninterface Iterator<T> {\n\tnext(): T | null;\n}\n\nfunction makeIterator<T>(array: Array<T>): Iterator<T> {\n\tlet i = 0;\n\treturn {\n\t\tnext: (): T | null => {\n\t\t\tif (i >= array.length) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst ret = array[i];\n\t\t\ti += 1;\n\t\t\treturn ret;\n\t\t}\n\t};\n}\n```\n\n\u8a00\u8a9e\u8a2d\u5b9a\u3067 Strict Null Check \u306f\u6709\u52b9\u306b\u3057\u3066\u3044\u307e\u3059\u3002\u306a\u306e\u3067next\u306f `T | null` \u3068\u3057\u3066\u3001\u7d42\u7aef\u306b\u5230\u9054\u3057\u305f\u3089 null \u304c\u8fd4\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\nmakeIterator\u306f \u6e21\u3057\u305fArray\u306e\u8981\u7d20\u3092\u8aad\u307f\u53d6\u308bIterator\u3092\u751f\u6210\u3057\u307e\u3059\u3002\u3053\u306eIterator\u306e\u5b9f\u88c5\u90e8\u5206\u3067\u3059\u304c\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ea\u30c6\u30e9\u30eb\u3068\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u306e\u30e9\u30e0\u30c0\u30ad\u30e3\u30d7\u30c1\u30e3\u306b\u3088\u308b\u72b6\u614b\u5909\u66f4\u3067\u5b9f\u88c5\u3057\u3066\u3044\u307e\u3059\u3002TypeScript\u306f\u3053\u306e\u3088\u3046\u306a\u5373\u5024\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066interface\u306e\u578b\u30c1\u30a7\u30c3\u30af\u304c\u52b9\u304f\u306e\u304c\u9762\u767d\u3044\u3067\u3059\u306d\u3002\n\n\u6b21\u306b `Employee` \u3068 `Company` \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\nclass Employee {\n\tname: string;\n\tage: number;\n\tconstructor(name: string, age: number) {\n\t\tthis.name = name;\n\t\tthis.age = age;\n\t}\n\ttoString(): string {\n\t\treturn `(name=${this.name}, age=${this.age})`;\n\t}\n}\n\nclass Company {\n\tname: string;\n\temployees: Employee[];\n\tconstructor(name: string, employees: Employee[]) {\n\t\tthis.name = name;\n\t\tthis.employees = employees;\n\t}\n\ttoString(): string {\n\t\treturn `(name=${this.name}, employees=${this.employees})`;\n\t}\n}\n```\n\n\u7279\u306b\u5909\u308f\u3063\u305f\u70b9\u306f\u3042\u308a\u307e\u305b\u3093\u3002kotlin\u3067\u306fEmployee\u3092data class\u306b\u3057\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3092final class\u306b\u3057\u305f\u3068\u3053\u308d\u3067\u7279\u306b\u5dee\u304c\u3067\u306a\u3044\u306e\u3067\u666e\u901a\u306eclass\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n`LoadStatic` \u3068 `load` \u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\ninterface LoadableStatic<T> {\n\tload(iterator: Iterator<string>): T;\t\n}\n\nfunction load<T>(string: string, static: LoadableStatic<T>): T;\nfunction load<T>(iterator: Iterator<string>, static: LoadableStatic<T>): T;\nfunction load<T>(a1: string | Iterator<string>, static: LoadableStatic<T>): T {\n\tif (typeof a1 == \"string\") {\n\t\tconst string: string = a1;\n\t\tconst tokens: Array<string> = string.split(\"/\");\n\t\treturn load(makeIterator(tokens), static);\n\t} else {\n\t\tconst iterator: Iterator<string> = a1;\n\t\treturn static.load(iterator);\n\t}\n}\n```\n\n\u3053\u308c\u307e\u3067\u3068\u540c\u3058\u3088\u3046\u306b\u3084\u3063\u305f\u306e\u3067 2\u3064\u306e `load` \u306f\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3055\u305b\u3066\u3044\u307e\u3059\u3002TypeScript\u306e\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u306f\u5b9f\u884c\u6642\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u3092\u624b\u52d5\u3067\u66f8\u304f\u306e\u304c\u6b8b\u5ff5\u3067\u3059\u304c\u3001\u5e78\u3044\u306a\u4e8b\u306b Union Type \u3068 \u30d5\u30ed\u30fc\u30d9\u30fc\u30b9\u306e\u30ad\u30e3\u30b9\u30c8\u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306eif\u3068else\u306e\u30d6\u30ed\u30c3\u30af\u3067\u306f\u5f15\u6570\u306e\u578b\u304c\u9759\u7684\u306b\u691c\u8a3c\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u3055\u3066\u3001\u307e\u305a\u306f `number` \u306e\u30c7\u30b3\u30fc\u30c9\u3067\u3059\u3002\u304a\u3082\u3080\u308d\u306b `lib.d.ts` \u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001\u6a19\u6e96\u306e `Number` \u306f\u3053\u3093\u306a\u611f\u3058\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\n```typescript\n//\ttypescript\n\ninterface NumberConstructor {\n    new (value?: any): Number;\n    (value?: any): number;\n    readonly prototype: Number;\n\t...\n}\n\ndeclare const Number: NumberConstructor;\n```\n\n\u30af\u30e9\u30b9\u69cb\u6587\u3067\u306e\u5b9a\u7fa9\u3067\u306f\u306a\u304f\u3001\u30af\u30e9\u30b9\u305d\u308c\u81ea\u4f53\u306e\u9759\u7684\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092 `NumberConstructor` \u3068\u3044\u3046\u540d\u524d\u3067\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u306e\u578b\u3092\u6301\u3064\u5b9a\u6570\u3068\u3057\u3066 `Number` \u304c\u5b58\u5728\u3059\u308b\u3001\u3068\u3044\u3046\u5ba3\u8a00\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u3046\u3044\u3046\u30b1\u30fc\u30b9\u3067\u306f\u3001\u540c\u540dinterface\u306e\u518d\u5b9a\u7fa9\u3092\u3059\u308b\u3068interface\u306e\u5b9a\u7fa9\u304c\u30de\u30fc\u30b8\u3055\u308c\u3066\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u306a\u306e\u3067\u3001\u4eca\u8ffd\u52a0\u3057\u305f\u3044 static\u30e1\u30bd\u30c3\u30c9 `load` \u3092\u30af\u30ed\u30fc\u30b8\u30e3\u578b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u3057\u3066\u8ffd\u52a0\u5b9a\u7fa9\u3057\u305f\u4e0a\u3067\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u305d\u3053\u306b\u4ee3\u5165\u3059\u308b\u4e8b\u3067 static\u30e1\u30bd\u30c3\u30c9\u306e\u6ce8\u5165\u304c\u3067\u304d\u307e\u3059\u3002\u5b9f\u88c5\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\ninterface NumberConstructor {\n\tload: (iterator: Iterator<string>) => number;\n}\n\nNumber.load = (iterator: Iterator<string>): number => {\n\tconst x: string = iterator.next()!!;\n\treturn parseFloat(x);\t\n};\n```\n\n\u3055\u3089\u306b\u3001TypeScript\u306finterface\u306e\u5145\u8db3\u6027\u3092\u5358\u7d14\u306b\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3067\u5224\u5b9a\u3057\u3066\u304f\u308c\u308b\u305f\u3081\u3001\u660e\u793a\u7684\u306b\u5ba3\u8a00\u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u73fe\u6642\u70b9\u3067 `NumberConstructor` is `LoadableStatic<number>` \u3068\u3057\u3066\u4ee3\u5165\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u308c\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066\u547c\u3073\u51fa\u305b\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\n\tconst i = load(\"33\", Number);\n\tconsole.log(i);\n```\n\n\u540c\u69d8\u306b\u3057\u3066String\u3082\u3084\u308a\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\ninterface StringConstructor {\n\tload: (iterator: Iterator<string>) => string;\n}\n\nString.load = (iterator: Iterator<string>): string => {\n\tconst x: string = iterator.next()!!;\n\treturn x;\n};\n```\n\n\u6b21\u306bArray\u3067\u3059\u3002Array\u306fkotlin\u306e\u3068\u304d\u3068\u540c\u69d8\u306b\u8981\u7d20\u306e\u578b\u3092\u53f8\u308b `LoadableStatic` \u3092\u4fdd\u6301\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u305f\u3081\u3001\u7d44\u307f\u8fbc\u307f\u306e Array\u30af\u30e9\u30b9\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 `LoadableStatic` \u5316\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u5c02\u7528\u306b\u5b9a\u7fa9\u3059\u308b\u3057\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\nclass ArrayLoadableStatic<T> implements LoadableStatic<T[]> {\n\tconstructor(elementStatic: LoadableStatic<T>) {\n\t\tthis.elementStatic = elementStatic;\n\t}\n\tload(iterator: Iterator<string>): T[] {\n\t\tconst n = load(iterator, Number);\n\t\tconst ret: T[] = [];\n\t\tfor (let i = 0; i < n; i++) {\n\t\t\tret.push(load(iterator, this.elementStatic));\n\t\t}\n\t\treturn ret;\n\t}\n\tprivate elementStatic: LoadableStatic<T>;\n}\n```\n\nkotlin\u306e\u3068\u304d\u3068\u307b\u307c\u540c\u3058\u5f62\u3067\u3059\u3002kotlin\u3067\u306f `Main.load` \u3068\u66f8\u3044\u3066\u3044\u305f\u90e8\u5206\u3067 `load` \u3068\u304b\u3051\u308b\u306e\u306f\u3001typescript\u306e\u5834\u5408\u3001\u9006\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092 `this.load` \u3068\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u304b\u3089\u3067\u3059\u3002\u30b7\u30f3\u30dc\u30eb\u89e3\u6c7a\u306e\u30eb\u30fc\u30eb\u306e\u9055\u3044\u3067\u3059\u306d\u3002\u307e\u305fkotlin\u3067\u306fprimary constructor\u304c\u3042\u3063\u305f\u306e\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u5b9a\u7fa9\u304c\u4e0d\u8981\u3067\u3057\u305f\u304c\u3001typescript\u3067\u306f\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5b9a\u7fa9\u3068\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u306e\u4ee3\u5165\u304c\u5fc5\u8981\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u3053\u308c\u306e\u547c\u3073\u51fa\u3057\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\n\tconst a = load(\"3/apple/banana/cherry\", new ArrayLoadableStatic(String));\n\tconsole.log(a)\n```\n\n\u6700\u5f8c\u306b\u3001 `Employee` \u3068 `Company` \u306e `LoadableStatic` \u5316\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u306e `Number` \u3068 `String` \u306f interface\u306e\u5408\u6210\u306b\u3088\u3063\u3066\u6ce8\u5165\u304c\u53ef\u80fd\u3067\u3057\u305f\u304c\u3001\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066 static\u30e1\u30bd\u30c3\u30c9\u3092\u6ce8\u5165\u3059\u308b\u5834\u5408\u306f\u307e\u305f\u7570\u306a\u308b\u30c6\u30af\u30cb\u30c3\u30af\u3092\u4f7f\u3044\u307e\u3059\u3002\n\ntypescript\u3067\u306f\u540d\u524d\u306e\u5ba3\u8a00\u306f `namespace` \u3068 `type` \u3068 `value` \u306e3\u7a2e\u985e\u306b\u5206\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3053\u306e\u7570\u306a\u308b\u5ba3\u8a00\u3092\u540c\u3058\u540d\u524d\u3067\u884c\u3063\u3066\u30de\u30fc\u30b8\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u8a73\u3057\u304f\u306f\u3053\u3061\u3089\u306b\u66f8\u3044\u3066\u3042\u308a\u307e\u3059\u3002([Declaration Merging\n](https://www.typescriptlang.org/docs/handbook/declaration-merging.html))\n\n\u30af\u30e9\u30b9\u306estatic\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306b\u5c5e\u3059\u308b\u95a2\u6570\u3068\u540c\u3058\u898b\u3048\u65b9\u306b\u306a\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u5229\u7528\u3057\u3066\u3001\u30af\u30e9\u30b9\u3068\u540c\u540d\u306e\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u578b\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u4f5c\u308a\u3001\u305d\u3053\u306b\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u4ee3\u5165\u3057\u3066\u3084\u308b\u3068\u3001\u5b9f\u884c\u6642\u306b\u306f\u30af\u30e9\u30b9\u306estatic\u30e1\u30bd\u30c3\u30c9\u304c\u751f\u3048\u308b\u3088\u3046\u306a\u52d5\u4f5c\u306b\u306a\u308a\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\nnamespace Employee {\n\texport let load: (iterator: Iterator<string>) => Employee;\n}\n\nEmployee.load = (iterator: Iterator<string>): Employee => {\n\treturn new Employee(\n\t\tload(iterator, String), \n\t\tload(iterator, Number));\n}\n```\n\n\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```typescript\n\tconst e = load(\"taro/3\", Employee);\n\tconsole.log(`${e}`);\n```\n\n\u3053\u306e\u6642\u3001 `Employee` \u3068\u3044\u3046\u540d\u524d\u306f\u30af\u30e9\u30b9\u3068\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306e\u4e21\u65b9\u306b\u3064\u3044\u3066\u3044\u308b\u306e\u3067\u3059\u304c\u3001 typescript\u304c\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306e\u65b9\u306b\u5b9a\u7fa9\u3057\u3066\u3042\u308b `load` \u306b\u3088\u3063\u3066 `Employee` \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c `LoadableStatic` \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u6e80\u305f\u3059\u4e8b\u3092\u691c\u51fa\u3057\u3066\u30b3\u30f3\u30d1\u30a4\u30eb\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002\n\n`Company` \u3082\u540c\u69d8\u306b\u3044\u3051\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\nnamespace Company {\n\texport let load: (iterator: Iterator<string>) => Company;\n}\n\nCompany.load = (iterator: Iterator<string>): Company => {\n\treturn new Company(\n\t\tload(iterator, String),\n\t\tload(iterator, new ArrayLoadableStatic(Employee)));\n}\n```\n\nArray\u306e\u3068\u3053\u308d\u306f\u4f8b\u306b\u3088\u3063\u3066 `ArrayLoadableStatic`\u3000\u306b `Employee` \u3092\u6e21\u3057\u307e\u3059\u3002\u547c\u3073\u51fa\u3057\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```typescript\n//\ttypescript\n\n\tconst c = load(\"CatWorld/3/tama/5/mike/6/kuro/7\", Company)\n\tconsole.log(`${c}`);\n```\n\n\u3044\u304b\u304c\u3067\u3057\u3087\u3046\u304b\u3002\u6982\u306dkotlin\u3068\u5909\u308f\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002typescript\u306e\u5909\u308f\u3063\u305f\u9b45\u529b\u3092\u7d39\u4ecb\u3067\u304d\u305f\u304b\u306a\u3068\u601d\u3044\u307e\u3059\u3002\n\n\n\n# Java\u3067\u306e\u5b9f\u88c5\n\n\u30d0\u30fc\u30b8\u30e7\u30f3: `javac 1.8.0_45`\n\nJava\u3067\u306e\u5b9f\u88c5\u3067\u3059\u304c\u3001\u7d30\u304b\u3044\u4e8b\u306f\u7121\u8996\u3057\u3066 `Main.java` \u306e\u30ef\u30f3\u30d5\u30a1\u30a4\u30eb\u3067\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\nJava\u306e\u578b\u30b7\u30b9\u30c6\u30e0\u3082\u3060\u3044\u305f\u3044\u3053\u308c\u3089\u3068\u540c\u3058\u306a\u306e\u3067\u3001\u307b\u307c\u5197\u9577\u306akotlin\u7248\u307f\u305f\u3044\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u307e\u305a `Employee` \u3068 `Company` \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```java\n//\tjava\n\nclass Employee {\n\tpublic Employee(String name, int age) {\n\t\tthis.name = name;\n\t\tthis.age = age;\n\t}\n\tpublic String name;\n\tpublic int age;\n\t@Override\n\tpublic String toString() {\n\t\treturn String.format(\"(name=%s, age=%d)\", name, age);\n\t}\n}\n\nclass Company {\n\tpublic Company(String name, List<Employee> employees) {\n\t\tthis.name = name;\n\t\tthis.employees = employees;\n\t}\n\tpublic String name;\n\tpublic List<Employee> employees;\n\t@Override\n\tpublic String toString() {\n\t\treturn String.format(\"(name=%s, employees=%s)\", name, employees);\t\n\t}\n}\n```\n\n\u7279\u306b\u8a00\u3046\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n`LoadableStatic` \u3068 `load` \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```java\n//\tjava\n\ninterface LoadableStatic<T> {\n\tpublic T load(Iterator<String> iterator);\n}\n\nclass Load {\n\tpublic static <T> T load(String string, LoadableStatic<T> statik) {\n\t\tString[] tokens = string.split(\"/\");\n\t\treturn load(Arrays.asList(tokens).iterator(), statik);\n\t}\n\n\tpublic static <T> T load(Iterator<String> iterator, LoadableStatic<T> statik) {\n\t\treturn statik.load(iterator);\n\t}\n}\n```\n\n`load` \u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u7a7a\u9593\u3068\u3057\u3066 `Load` \u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3057\u305f\u3002`static` \u304c\u5909\u6570\u540d\u306b\u4f7f\u3048\u306a\u304b\u3063\u305f\u306e\u3067 `statik` \u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\nint\u306e\u30c7\u30b3\u30fc\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n```java\n//\tjava\n\nclass IntLoadableStatic implements LoadableStatic<Integer> {\n\t@Override\n\tpublic Integer load(Iterator<String> iterator) {\n\t\tString x = iterator.next();\n\t\treturn Integer.parseInt(x);\n\t}\n}\n```\n\n\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u3068\u3053\u308d\u3067 `int` \u304c\u66f8\u3051\u306a\u3044\u306e\u3067 `Integer` \u3092\u4f7f\u3044\u307e\u3059\u3002\u547c\u3073\u51fa\u3057\u4f8b\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3002\n\n```java\n//\tjava\n\n\t\tint i = Load.load(\"33\", new IntLoadableStatic());\n\t\tprintln(Integer.toString(i));\n```\n\n`IntLoadableStatic` \u3092\u305d\u306e\u5834\u3067 `new` \u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u672c\u5f53\u306fstatic\u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u7528\u610f\u3059\u308c\u3070\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u3044\u3061\u3044\u3061\u4f5c\u3089\u306a\u304f\u3066\u826f\u3044\u306e\u3067\u8ca0\u8377\u8efd\u6e1b\u306b\u306a\u308a\u307e\u3059\u304c\u3001\u5b9f\u88c5\u304c\u9762\u5012\u306a\u306e\u3067\u7701\u7565\u3067\u3059\u3002kotlin\u306eobject\u69cb\u6587\u306f\u4fbf\u5229\u3067\u3059\u3002\n\nString\u306f\u3053\u306e\u3068\u304a\u308a\u3002\n\n```java\n//\tjava\n\nclass StringLoadableStatic implements LoadableStatic<String> {\n\t@Override\n\tpublic String load(Iterator<String> iterator) {\n\t\tString x = iterator.next();\n\t\treturn x;\n\t}\n}\n```\n\nList\u3082\u3053\u308c\u307e\u3067\u901a\u308a\u3067\u3059\u3002\n\n```java\n//\tjava\n\nclass ListLoadableStatic<T> implements LoadableStatic<List<T>> {\n\tpublic ListLoadableStatic(LoadableStatic<T> elementStatic) {\n\t\tthis.elementStatic = elementStatic;\n\t}\n\t@Override\n\tpublic List<T> load(Iterator<String> iterator) {\n\t\tint n = Load.load(iterator, new IntLoadableStatic());\n\t\tArrayList<T> ret = new ArrayList<T>();\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tret.add(Load.load(iterator, elementStatic));\n\t\t}\n\t\treturn ret;\n\t}\n\tprivate LoadableStatic<T> elementStatic;\n}\n```\n\n\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3002\n\n```java\n//\tjava\n\n\t\tList<String> a = Load.load(\"3/apple/banana/cherry\", new ListLoadableStatic<>(new StringLoadableStatic()));\n\t\tprintln(a.toString());\n```\n\n\u6a2a\u306b\u9577\u3044\u3067\u3059\u306d\u3002\u4e00\u5fdc\u3001 `ListLoadableStatic` \u306e\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092 `<>` \u306b\u3067\u304d\u3066\u3001\u3053\u3053\u306f\u63a8\u8ad6\u3057\u3066\u304f\u308c\u307e\u3059\u3002\n\n`Employee` \u3068 `Company` \u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002\n\n```java\n//\tjava\n\nclass EmployeeLoadableStatic implements LoadableStatic<Employee> {\n\t@Override\n\tpublic Employee load(Iterator<String> iterator) {\n\t\treturn new Employee(\n\t\t\tLoad.load(iterator, new StringLoadableStatic()),\n\t\t\tLoad.load(iterator, new IntLoadableStatic())\n\t\t\t);\n\t}\n}\n\nclass CompanyLoadableStatic implements LoadableStatic<Company> {\n\t@Override\n\tpublic Company load(Iterator<String> iterator) {\n\t\treturn new Company(\n\t\t\tLoad.load(iterator, new StringLoadableStatic()),\n\t\t\tLoad.load(iterator, new ListLoadableStatic<>(new EmployeeLoadableStatic()))\n\t\t\t);\n\t}\n}\n```\n\n\u7d20\u76f4\u306a\u611f\u3058\u3067\u3059\u3002\u6700\u7d42\u7684\u306b `Company` \u306e\u30c7\u30b3\u30fc\u30c9\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```java\n//\tjava\n\n\t\tCompany c = Load.load(\"CatWorld/3/tama/5/mike/6/kuro/7\", new CompanyLoadableStatic());\n\t\tprintln(c.toString());\n```\n\n\u4ee5\u4e0a\u3067\u3059\u3002\n\n\u578b\u63a8\u8ad6\u3082\u7121\u3051\u308c\u3070null\u5b89\u5168\u3067\u3082\u306a\u304f\u5b8c\u5168\u306b\u5197\u9577\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u304c\u3001\u4f59\u8a08\u306a\u3082\u306e\u304c\u7121\u3044\u306e\u3067\u305d\u3082\u305d\u3082\u3069\u3046\u3044\u3046\u3053\u3068\u306a\u306e\u304b\u306f\u308f\u304b\u308a\u3084\u3059\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u307e\u305f\u3001\u3053\u306e\u8a18\u4e8b\u3067Java\u3092\u53d6\u308a\u4e0a\u3052\u3066\u3044\u308b\u306e\u306f\u3001\u5b9a\u671f\u7684\u306bJava\u306e\u300c `T` \u3092 `new` \u3057\u305f\u3044\u300d\u3068\u3044\u3046\u8a71\u984c\u3092\u898b\u304b\u3051\u308b\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u8a18\u4e8b\u306e\u5185\u5bb9\u306f\u305d\u306e\u8a71\u984c\u306b\u76f4\u7d50\u3057\u3066\u3044\u307e\u3059\u3002\u5c02\u7528\u306e\u6f14\u7b97\u5b50\u304c\u3042\u308b\u304a\u9670\u3067 `new` \u3068\u3044\u3046\u306e\u306f\u7279\u5225\u306a\u6a5f\u80fd\u306b\u898b\u3048\u307e\u3059\u304c\u3001\u578b\u30b7\u30b9\u30c6\u30e0\u7684\u306b\u306f\u672c\u8cea\u7684\u306b\u305f\u3060\u306e\u578b `T` \u306estatic\u30e1\u30bd\u30c3\u30c9\u3067\u3059\u3002\u578b `T` \u304c\u3042\u308c\u3070\u547c\u3073\u51fa\u305b\u3066\u3001\u5f15\u6570\u306e\u578b\u306f\u3044\u308d\u3044\u308d\u306a\u5834\u5408\u304c\u3042\u3063\u3066\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u3067\u304d\u3066\u3001\u540c\u3058\u306a\u306e\u3067\u3059\u3002\u8fd4\u308a\u5024\u306e\u578b\u304c `T` \u306b\u5236\u7d04\u3055\u308c\u3066\u3044\u308b\u3068\u3044\u3046\u70b9\u3068\u3001\u547c\u3073\u51fa\u3057\u306b\u578b\u540d\u3068 `new` \u6f14\u7b97\u5b50\u3092\u4f7f\u3046\u3068\u3044\u3046\u898b\u305f\u76ee\u3060\u3051\u304c\u5909\u308f\u3063\u3066\u3044\u307e\u3059\u3002\u5b9f\u969b\u3001swift\u3067\u306fprotocol\u306b\u5bfe\u3057\u3066 `init` \u30a8\u30f3\u30c8\u30ea\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 `init` \u3068\u3044\u3046\u306e\u306fswift\u306b\u304a\u3051\u308b\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u8868\u3059\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u3059\u3002\u307e\u305ftypescript\u3067\u306f\u3001 `NumberConstructor` \u306e\u5b9a\u7fa9\u306e\u3068\u3053\u308d\u3067\u898b\u305f\u3088\u3046\u306b\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3059\u308b `new` \u547c\u3073\u51fa\u3057\u3092\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u4e00\u3064\u3068\u3057\u3066\u8a18\u8ff0\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u4e8b\u304b\u3089\u3082\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306f\u6240\u8a6e\u305f\u3060\u306e\u30b9\u30bf\u30c6\u30a3\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u306e\u4e9c\u7a2e\u3060\u3068\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u3055\u3066\u3001\u305d\u3046\u3059\u308b\u3068\u300c `T` \u3092 `new` \u3057\u305f\u3044\u300d\u3068\u3044\u3046\u306e\u306f\u3001\u4eca\u56deswift\u3067\u4f5c\u3063\u305f `T.load` \u3092\u547c\u3073\u51fa\u3057\u305f\u3044\u3001\u3068\u3044\u3046\u8a71\u3068\u7b49\u4fa1\u3060\u3068\u308f\u304b\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001kotlin\u3084typescript\u3068\u540c\u69d8\u3001\u7d50\u5c40java\u3067\u306f `T.load` \u306f\u304b\u3051\u307e\u305b\u3093\u3002\u305d\u308c\u3069\u3053\u308d\u304b\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5236\u7d04\u3082\u7f6e\u3051\u307e\u305b\u3093\u3002\u306a\u306e\u3067\u7d50\u5c40\u3001\u305d\u306e\u9759\u7684\u306a\u632f\u308b\u821e\u3044\u3092\u76f4\u63a5\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u5316\u3057\u3066\u3001\u9759\u7684\u306a\u632f\u308b\u821e\u3044\u3092\u3059\u308b\u305f\u3081\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 `T` \u304c\u89e3\u6c7a\u3055\u308c\u308b\u7b87\u6240\u306b\u76f4\u63a5\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3068\u3057\u3066\u6e21\u3057\u3066\u3084\u308b\u5fc5\u8981\u304c\u51fa\u3066\u304f\u308b\u306e\u3067\u3059\u3002\u307e\u305f\u3001\u30ea\u30b9\u30c8\u306e\u3088\u3046\u306a\u69cb\u9020\u5316\u578b\u306e\u5834\u5408\u306f\u3001\u305d\u306e\u8981\u7d20\u306e\u578b\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u305f\u3081\u306b\u3001\u30ea\u30b9\u30c8\u306e\u30c7\u30b3\u30fc\u30c0\u304c\u8981\u7d20\u306e\u30c7\u30b3\u30fc\u30c0\u3092\u6301\u3064\u3001\u3068\u3044\u3046\u3088\u3046\u306b\u3001\u578b\u306e\u5165\u308c\u5b50\u69cb\u9020\u3092\u3001\u30c7\u30b3\u30fc\u30c0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5165\u308c\u5b50\u69cb\u9020\u3068\u3057\u3066\u518d\u73fe\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\n\n\u9006\u306b\u8a00\u3048\u3070\u3001\u305d\u308c\u304c\u3084\u308a\u305f\u3051\u308c\u3070\u3053\u306e\u3088\u3046\u306b\u5b9f\u88c5\u3057\u305f\u3089\u826f\u3044\u306e\u3067\u3059\u3002 `T` \u304c\u78ba\u5b9a\u3059\u308b\u6642\u306b\u306f\u3001\u305d\u306e\u5177\u8c61\u5316\u3055\u308c\u305f `T` \u306b\u5bfe\u5fdc\u3059\u308b\u9759\u7684\u306a\u632f\u308b\u821e\u3044\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5f15\u6570\u306b\u6e21\u305b\u3070\u826f\u3044\u306e\u3067\u3059\u304b\u3089\u3001\u30d7\u30ed\u30b0\u30e9\u30de\u304c\u6a5f\u68b0\u7684\u306a\u64cd\u4f5c\u3092\u4e00\u624b\u9593\u884c\u3046\u3060\u3051\u3067\u3059\u3002\u307e\u305f\u3001\u4f5c\u308a\u8fbc\u3093\u3067\u307f\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u304c\u3001\u5b9f\u969b\u306b\u306f `<T>`\u3000\u3092\u6301\u3064\u95a2\u6570\u306f\u3001\u3055\u3089\u306b\u5916\u5074\u306e `<T>` \u3092\u6301\u3064\u95a2\u6570\u304b\u3089\u547c\u3073\u51fa\u3055\u308c\u3066\u3044\u305f\u308a\u3057\u3066\u3001\u305d\u3046\u3044\u3046\u5834\u5408\u306f\u3053\u308c\u3089\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u65e2\u306b\u5f15\u6570\u3067\u53d7\u3051\u3066\u3044\u308b\u306e\u3067\u3001\u3055\u3089\u306b\u5185\u5074\u306b\u8ee2\u9001\u3057\u3066\u3044\u304f\u3060\u3051\u3067\u826f\u304f\u3001\u610f\u5916\u3068\u305d\u308c\u3067\u6e08\u3080\u7b87\u6240\u304c\u305f\u304f\u3055\u3093\u3042\u308a\u307e\u3059\u3002\u7d50\u5c40\u30a2\u30d7\u30ea\u30b5\u30a4\u30c9\u3067\u624b\u9593\u304c\u5897\u3048\u308b\u306e\u306f\u3001\u3053\u306e `T` \u3092\u6c7a\u5b9a\u3059\u308b\u4e00\u756a\u5916\u5074\u306e\u547c\u3073\u51fa\u3057\u90e8\u5206\u3060\u3051\u306b\u306a\u308b\u306e\u3067\u3059\u3002\n\n\u3061\u306a\u307f\u306b\u3001\u3053\u306e\u8b70\u8ad6\u306b\u5bfe\u3057\u3066 C# \u304c\u4e0e\u3048\u3066\u308b\u56de\u7b54\u304c\u8208\u5473\u6df1\u3044\u3067\u3059\u3002 C#\u306b\u306f `new()` \u5236\u7d04\u3068\u3044\u3046\u306e\u304c\u578b\u306b\u5bfe\u3057\u3066\u66f8\u3051\u3066\u3001\u5f15\u6570\u7121\u3057\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u4fdd\u6301\u304c\u77ef\u6b63\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u304c\u30d4\u30f3\u30dd\u30a4\u30f3\u30c8\u30671\u3064\u3060\u3051\u5b9a\u7fa9\u3067\u304d\u308b\u306e\u3067\u3059\u3002\u3061\u306a\u307f\u306b\u5f15\u6570\u306a\u3057\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3068\u3044\u3044\u307e\u3059\u3002\u307e\u305f\u3001 C#\u306e `struct` \u306f \u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u81ea\u52d5\u5b9f\u88c5\u304c\u5f37\u5236\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001 `struct` \u306f\u5148\u306e `new()` \u5236\u7d04\u3092\u6e80\u305f\u3057\u307e\u3059\u3002\u500b\u4eba\u7684\u306b\u306f\u3053\u308c\u306f\u4e2d\u9014\u534a\u7aef\u306a\u5bfe\u5fdc\u3067\u3001\u30e1\u30ea\u30c3\u30c8\u4ee5\u4e0a\u306b\u6301\u3061\u8fbc\u3080\u30c7\u30e1\u30ea\u30c3\u30c8\u3082\u591a\u304f\u5fae\u5999\u306a\u4ed5\u69d8\u3060\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002 `struct` \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u4fdd\u6301\u304c\u5f37\u5236\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3067\u3001\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u5024\u304c\u5168\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u57cb\u307e\u308b\u53ef\u80fd\u6027\u304c\u5e38\u306b\u6b8b\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u53c2\u7167\u578b\u304c\u5168\u3066null\u3067\u57cb\u307e\u308a\u3001\u6570\u5024\u985e\u306f0\u7b49\u3067\u57cb\u307e\u3063\u3066\u3044\u308b\u3001\u3068\u3044\u3046\u72b6\u614b\u304c\u7d76\u5bfe\u306b\u5b58\u5728\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u308c\u306e\u304a\u304b\u3052\u3067\u3001swift\u306e\u3088\u3046\u306b\u53c2\u7167\u578b\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u5024\u3092\u5168\u3066\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u53d7\u3051\u3066\u3001null\u304c\u7121\u3044\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u3068\u3044\u3046null safe\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u53c2\u7167\u578b\u306b\u304b\u304e\u3089\u305a\u3001\u4f55\u3089\u304b\u306e\u5024\u3092\u6301\u305f\u306a\u3044\u3068\u610f\u5473\u304c\u306a\u3044\u5024\u578b\u3082\u8003\u3048\u3089\u308c\u307e\u3059\u3002\n\n\u304a\u305d\u3089\u304f\u3053\u306e\u4ed5\u69d8\u304c\u8a2d\u8a08\u3055\u308c\u305f\u80cc\u666f\u3068\u3057\u3066\u3001\u5024\u578b\u306e\u914d\u5217\u3092\u30e1\u30e2\u30ea\u76f4\u5217\u306b\u5b9a\u7fa9\u3067\u304d\u308b\u4e8b\u3092\u4fdd\u8a3c\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002\u914d\u5217\u306b\u8981\u7d20\u304c\u8ffd\u52a0\u3055\u308c\u308b\u969b\u306b\u3001\u5f8c\u3005\u306e\u305f\u3081\u306b\u4f59\u88d5\u3092\u6301\u3063\u3066\u591a\u3081\u306b\u30e1\u30e2\u30ea\u30b9\u30da\u30fc\u30b9\u3092\u78ba\u4fdd\u3059\u308b\u3068\u3044\u3046\u6700\u9069\u5316\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3053\u308c\u3092\u3084\u308b\u305f\u3081\u306b\u306f\u3001\u4f59\u88d5\u3068\u3057\u3066\u78ba\u4fdd\u3057\u305f\u30e1\u30e2\u30ea\u3092\u305d\u306e\u578b\u3067\u521d\u671f\u5316\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3053\u3053\u3067 `T` \u3067 `new` \u3057\u305f\u3044\u3001\u3064\u307e\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304c\u6b32\u3057\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u306e\u3067\u3059\u3002\u305d\u3057\u3066\u3001\u5024\u578b\u306b\u305d\u306e\u5236\u7d04\u304c\u3042\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u30af\u30e9\u30b9\u578b\u306b\u3082\u540c\u3058\u5236\u7d04\u3092\u8ffd\u52a0\u3059\u308b\u6a5f\u80fd\u304c\u3042\u3063\u3066\u3082\u3044\u3044\u3060\u308d\u3046\u3001\u3068\u3044\u3046\u9806\u5e8f\u3067\u306f\u306a\u3044\u304b\u3068\u601d\u3044\u307e\u3059\u3002\u3057\u304b\u3057\u3053\u308c\u306f\u3001\u7279\u5b9a\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u9650\u3063\u305f\u8a71\u3067\u3001\u4e00\u822c\u7684\u306a\u89e3\u6c7a\u306b\u306a\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u4eca\u56de\u306e\u3088\u3046\u306b\u6587\u5b57\u5217\u306b\u3082\u3068\u3065\u3044\u3066 `new` \u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3057\u3001static\u30e1\u30bd\u30c3\u30c9\u4e00\u822c\u3067\u8a00\u3048\u3070\u8fd4\u308b\u578b\u3068\u3057\u3066 `T` \u4ee5\u5916\u306e\u3082\u306e\u304c\u6b32\u3057\u3044\u3053\u3068\u3082\u3042\u308a\u3048\u307e\u3059\u3002\u3060\u304b\u3089\u3053\u306e\u8a71\u984c\u306b\u304a\u3044\u3066\u3001 \u300cC#\u306a\u3089\u89e3\u6c7a\u3057\u3066\u308b\u306e\u306b\u300d\u3068\u3044\u3046\u76ee\u7dda\u3067Java\u3092\u6279\u5224\u3059\u308b\u306e\u306f\u7b4b\u304c\u60aa\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u3059\u3002C#\u306e\u89e3\u6c7a\u6cd5\u81ea\u4f53\u306e\u7b4b\u304c\u60aa\u3044\u304b\u3089\u3067\u3059\u3002\u3053\u308c\u304b\u3089\u306f\u300cswift\u306a\u3089\u89e3\u6c7a\u3057\u3066\u308b\u306e\u306b\u300d\u3068\u8a00\u3046\u3068\u826f\u3044\u306e\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u304b\u3002\n\n# Scala\u3067\u306e\u5b9f\u88c5\n\n\u30d0\u30fc\u30b8\u30e7\u30f3: `Scala code runner version 2.12.1`\n\n\u3055\u3066\u3001kotlin, typescript, java\u3068\u82e6\u3057\u3044\u611f\u3058\u304c\u7d9a\u304d\u307e\u3057\u305f\u304c\u3001\u3053\u3053\u3067\u771f\u6253\u3061\u306e\u767b\u5834\u3067\u3059\u3002scala\u3067\u3059\u3002scala\u306b\u306f `trait` \u3068\u3044\u3046\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u307f\u305f\u3044\u306a\u3082\u306e\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u3053\u308c\u306b\u3082static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u306f\u66f8\u3051\u307e\u305b\u3093\u3002\n\u306a\u306e\u3067\u57fa\u672c\u7684\u306b\u306f\u3053\u308c\u307e\u3067\u3068\u540c\u3058\u3088\u3046\u306b `LoadableStatic` \u306a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5f15\u6570\u306b\u6e21\u3057\u3066\u3044\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u305d\u3053\u3067\u3001scala\u306b\u306f `implicit parameter` \u3068\u3044\u3046\u3001\u306a\u3093\u3068\u81ea\u52d5\u7684\u306b\u5f15\u6570\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u3066\u304f\u308c\u308b\u6a5f\u80fd\u304c\u3042\u308b\u306e\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u306f\u3001\u95a2\u6570\u306e\u5f15\u6570\u5ba3\u8a00\u306b `implicit` \u3068\u3044\u3046\u5370\u3092\u4ed8\u3051\u3066\u304a\u304f\u3068\u3001\u540c\u3058\u304f `implicit` \u3068\u3044\u3046\u5370\u304c\u3064\u3044\u305f\u5024\u306e\u3046\u3061\u3001\u578b\u304c\u30de\u30c3\u30c1\u3059\u308b\u5024\u304c\u305f\u30601\u3064\u3060\u3051\u898b\u3064\u304b\u308b\u5834\u5408\u306b\u3001\u305d\u308c\u3092\u81ea\u52d5\u3067\u6e21\u3057\u3066\u304f\u308c\u308b\u306e\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001 `LoadableStatic` \u3092\u6e21\u3057\u3066\u3044\u305f\u7b87\u6240\u3092 `implicit` \u5316\u3057\u3066\u3001\u5b9f\u969b\u306b\u306f\u6e21\u3057\u3066\u3044\u308b\u3093\u3060\u3051\u3069\u6e21\u3059\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u5fc5\u8981\u304c\u306a\u3044\u3001\u3068\u3044\u3046\u30b9\u30bf\u30a4\u30eb\u306b\u3067\u304d\u308b\u306e\u3067\u3059\u3002\n\n\u65e9\u901f\u3084\u3063\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n```scala\n//\tscala\n\ncase class Employee(name: String, age: Int)\n\nclass Company(name: String, employees: List[Employee]) {\n    override def toString(): String = {\n        return s\"name=${name}, employees=${employees}\"\n    }\n}\n```\n\n`Employee` \u3068 `Company` \u306f\u7279\u306b\u5909\u308f\u3063\u305f\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002 `case class` \u306f `toString` \u304c\u81ea\u52d5\u5b9f\u88c5\u3055\u308c\u307e\u3059\u3002kotlin\u306e `data class` \u307f\u305f\u3044\u306a\u3084\u3064\u3067\u3059\u3002\u307e\u3042\u3001\u5f8c\u767a\u306ekotlin\u304cscala\u3092\u30d1\u30af\u3063\u3066\u3044\u308b\u3093\u3067\u3059\u3051\u3069\u3002\n\n\u3055\u3066\u3001\u6b21\u306e `load` \u304c\u6ce8\u76ee\u3067\u3059\u3002\n\n```scala\n//\tscala\n\ntrait LoadableStatic[T] {\n    def load(iterator: Iterator[String]): T\n}\n\nobject Load {\n    def load[T](string: String)(implicit static: LoadableStatic[T]): T = {\n        val tokens = string.split(\"/\")\n        return load(tokens.iterator)\n    }\n    def load[T](iterator: Iterator[String])(implicit static: LoadableStatic[T]): T = {\n        return static.load(iterator)\n    }\n}\n```\n\n\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u95a2\u6570\u304c\u7f6e\u3051\u306a\u3044\u305f\u3081 `load` \u30e1\u30bd\u30c3\u30c9\u306f `Load` \u306e\u4e2d\u306b\u66f8\u304d\u307e\u3057\u305f\u3002\u3055\u3066\u3001\u3053\u306e `load` \u30e1\u30bd\u30c3\u30c9\u306e `(implicit static: LoadableStatic[T])` \u306e\u90e8\u5206\u304c `implicit parameter` \u3067\u3059\u3002\u4e38\u62ec\u5f27\u304c2\u3064\u4e26\u3093\u3067\u3044\u308b\u306e\u306f\u3001 `implicit parameter` \u306e\u90e8\u5206\u306f\u30ab\u30ea\u30fc\u5316\u3057\u3066\u30d0\u30e9\u3059\u3068\u3044\u3046\u30eb\u30fc\u30eb\u304c\u3042\u308b\u305f\u3081\u3067\u3059\u30021\u3064\u76ee\u306e `load` \u304b\u3089 2\u3064\u76ee\u306e `load` \u3092\u547c\u3073\u51fa\u3059\u3068\u3053\u308d\u3067\u306f\u3001\u65e9\u901f\u3053\u306e `implicit` \u6e21\u3057\u304c\u9069\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5177\u8c61\u5316\u3055\u308c\u305f `T` \u306e\u5143\u3067\u3001 `LoadableStatic[T]` \u306a\u5024\u304c\u3061\u3087\u3046\u3069\u95a2\u6570\u4eee\u5f15\u6570\u306e `static` \u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u3058\u3083\u3042\u3053\u308c\u3092\u6e21\u3057\u3066\u304a\u3053\u3046\u3068\u3044\u3046\u6d41\u308c\u306a\u308f\u3051\u3067\u3059\u3002\u3053\u308c\u307e\u3067swift\u4ee5\u5916\u306f\u3053\u306e 1\u3064\u76ee\u304b\u30892\u3064\u76ee\u306e\u547c\u3073\u51fa\u3057\u3066\u660e\u793a\u7684\u306a\u8ee2\u9001\u304c\u5fc5\u8981\u3067\u3057\u305f\u3002\n\n\u3067\u306f\u3001 `Int` \u3068 `String` \u306e\u30c7\u30b3\u30fc\u30c0\u306e\u5b9f\u88c5\u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n```scala\n//\tscala\n\npackage object Implicits {\n    implicit object IntLoadableStatic extends LoadableStatic[Int] {\n        def load(iterator: Iterator[String]): Int = {\n            val x = iterator.next\n            return x.toInt\n        }\n    }\n\n    implicit object StringLoadableStatic extends LoadableStatic[String] {\n        def load(iterator: Iterator[String]): String = {\n            val x = iterator.next\n            return x\n        }\n    }\n}\n```\n\n\u5b9f\u88c5\u81ea\u4f53\u306f\u7279\u306b\u5909\u308f\u3063\u305f\u70b9\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001object\u6587\u306e\u5de6\u306b `implicit` \u304c\u3064\u3044\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u304c `implicit parameter` \u306e\u63a2\u7d22\u5bfe\u8c61\u3067\u3042\u308b\u3068\u3044\u3046\u76ee\u5370\u306b\u306a\u308a\u307e\u3059\u3002\u672c\u5f53\u306f kotlin\u306e\u3068\u304d\u306e\u3088\u3046\u306b\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306b\u5b9a\u7fa9\u3057\u305f\u304b\u3063\u305f\u306e\u3067\u3059\u304c\u3001\u4ed5\u69d8\u4e0a\u305d\u308c\u304c\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u306e\u3067 `package` \u3092\u5207\u3063\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u3057\u3066\u4f7f\u3046\u5074\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```scala\n//\tscala\n\nobject Main {\n    import Implicits._\n\n    def main(args: Array[String]) {\n        val i = Load.load[Int](\"33\")\n        println(i)\n        val s = Load.load[String](\"abc\")\n        println(s)\n    }\n}\n```\n\n`Main` \u306e\u4e2d\u306b `import` \u3092\u66f8\u3044\u3066\u3001\u5148\u7a0b\u306e `implicit` \u3092\u63a2\u7d22\u5bfe\u8c61\u306b\u3055\u305b\u3066\u3044\u307e\u3059\u3002 `Load.load` \u306e\u547c\u3073\u51fa\u3057\u306e\u3068\u3053\u308d\u3067\u306f\u3001\u4f55\u3082\u66f8\u3044\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u5148\u7a0b\u306e `IntLoadableStatic` \u3068 `StringLoadableStatic` \u304c\u7b2c2\u5f15\u6570\u3068\u3057\u3066\u6e21\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u898b\u304b\u3051\u4e0a `LoadableStatic` \u3092\u6e21\u3055\u306a\u3044\u5f62\u3067\u306e\u30b3\u30fc\u30c9\u3067\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u3053\u308c\u3067swift\u306e\u3068\u304d\u3068\u540c\u3058\u3088\u3046\u306b\u3001\u4f59\u8a08\u306a\u4e8b\u306f\u66f8\u304b\u305a\u306b\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u578b `T` \u3092\u6c7a\u5b9a\u3059\u308b\u3060\u3051\u3067\u5f8c\u306f\u5bfe\u5fdc\u3057\u305f\u52d5\u4f5c\u3092\u3059\u308b\u3001\u3068\u3044\u3046\u76ee\u7684\u304c\u679c\u305f\u305b\u3066\u3044\u307e\u3059\u3002swift\u306e\u5834\u5408\u3092\u518d\u63b2\u3057\u307e\u3059\u3002\n\n```swift\n//\tswift\n\n\tlet i: Int = load(string: \"33\")\n\tprint(i)\n\tlet s: String = load(string: \"abc\")\n\tprint(s)\n```\n\n\u3068\u3053\u308d\u3067wift\u306e\u6642\u306f\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u306e\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u90fd\u5408\u4e0a\u3001\u5de6\u8fba\u306e\u5909\u6570\u306e\u578b\u3092\u5b9a\u7fa9\u3057\u3066\u63a8\u8ad6\u3055\u305b\u307e\u3057\u305f\u3002\u4eca\u56de\u306escala\u306e\u5834\u5408\u306f\u3001 `load` \u306e\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u578b\u3092\u6307\u5b9a\u3057\u3066\u304a\u308a\u3001\u9006\u306b\u5de6\u8fba\u5024\u306e\u578b\u306f\u53f3\u8fba\u5024\u304b\u3089\u63a8\u8ad6\u3055\u305b\u3066\u3044\u307e\u3059\u3002\u5b9f\u306f\u3053\u308c\u3092swift\u306e\u3068\u304d\u306e\u3088\u3046\u306b\u5de6\u8fba\u5024\u306b\u6307\u5b9a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\u3068\u3001 `implicit parameter` \u306e\u63a2\u7d22\u304c\u3046\u307e\u304f\u3044\u304b\u306a\u304f\u306a\u308a\u307e\u3059\u3002Scala\u306e\u578b\u63a8\u8ad6\u306e\u4ed5\u69d8\u3067\u305d\u306e\u3088\u3046\u306a\u4e8b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u306a\u306e\u3067\u3001swift\u306f\u5de6\u5074\u5fc5\u9808\u3001scala\u304c\u53f3\u5074\u5fc5\u9808\u3068\u3044\u3046\u9006\u306e\u7e1b\u308a\u304c\u751f\u307e\u308c\u3066\u3044\u308b\u306e\u304c\u9762\u767d\u3044\u3067\u3059\u3002\u3061\u306a\u307f\u306bScala\u3082\u57fa\u672c\u7684\u306b\u306f\u8fd4\u308a\u5024\u304b\u3089\u306e\u63a8\u8ad6\u306f\u52b9\u304f\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u3088\u3046\u306a `implicit` \u3068\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u306e\u7d44\u307f\u5408\u308f\u305b\u306e\u5834\u5408\u306b\u5236\u9650\u304c\u3042\u308b\u3068\u3044\u3046\u8a71\u3067\u3059\u3002\n\n\u3055\u3066\u3001\u30ea\u30b9\u30c8\u306e\u30c7\u30b3\u30fc\u30c0\u3092\u4f5c\u308a\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3059\u308b\u3068\u4e0b\u8a18\u3068\u306a\u308a\u307e\u3059\u3002\n\n```scala\n//\tscala\n\n    class ListLoadableStatic[T](elementStatic: LoadableStatic[T]) extends LoadableStatic[List[T]] {\n        def load(iterator: Iterator[String]): List[T] = {\n            val n = Load.load[Int](iterator)\n            var ret = List[T]()\n            for (i <- 0 until n) {\n                val x = Load.load[T](iterator)(elementStatic)\n                ret = ret :+ x\n            }\n            return ret\n        }\n    }\n```\n\n\u3057\u304b\u3057\u3053\u3053\u3067\u554f\u984c\u304c\u751f\u3058\u307e\u3059\u3002\u3053\u306e\u30af\u30e9\u30b9\u306f\u3053\u308c\u307e\u3067\u306e\u5982\u304f\u5f15\u6570\u306b\u8981\u7d20\u578b\u306e `LoadableStatic` \u304c\u5fc5\u8981\u3067\u3059\u3002\u305d\u306e\u3088\u3046\u306a\u5834\u5408\u3067\u3082 `implicit` \u306b\u89e3\u6c7a\u3067\u304d\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\u3053\u3053\u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u88dc\u52a9\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```scala\n//\tscala\n\n    implicit def createListLoadableStatic[T](implicit elementStatic: LoadableStatic[T]): LoadableStatic[List[T]] = {\n        return new ListLoadableStatic[T](elementStatic)\n    }\n```\n\n\u305d\u3046\u3067\u3059\u3001 `implicit` \u306a\u5f15\u6570\u3092\u53d6\u308b\u3001\u305d\u308c\u81ea\u8eab\u304c `implicit` \u306a\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u306e\u3067\u3059\u3002\u3053\u3046\u3059\u308b\u3068\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u3068\u3053\u308d\u306b\u3053\u306e\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u304c\u57cb\u3081\u8fbc\u307e\u308c\u3001\u3055\u3089\u306b\u3053\u306e\u95a2\u6570\u306e\u547c\u3073\u51fa\u3057\u306e\u3068\u3053\u308d\u306b\u306f\u8981\u7d20\u578b\u306e `LoadableStatic` \u304c\u57cb\u3081\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u63a2\u7d22\u3055\u308c\u308b\u306e\u3067\u3059\u3002\u5b9f\u969b\u306b\u547c\u3073\u51fa\u3057\u4f8b\u3092\u898b\u3066\u307f\u307e\u3059\u3002\n\n```scala\n//\tscala\n\n        val a = Load.load[List[String]](\"3/apple/banana/cherry\")\n        println(a)\n```\n\n\u3053\u306e\u3088\u3046\u306b\u63a8\u8ad6\u3055\u305b\u308b\u4e8b\u304c\u3067\u304d\u307e\u3057\u305f\u3002 `List[String]` \u3068\u3044\u3046\u5165\u308c\u5b50\u306e\u578b\u306b\u3082\u3001\u7279\u5225\u306a\u8a18\u8ff0\u7121\u3057\u3067\u5bfe\u5fdc\u3067\u304d\u3066\u3044\u307e\u3059\u3002\n\n\u6700\u5f8c\u306b\u3001 `Employee` \u3068 `Company` \u3092\u898b\u3066\u3044\u304d\u307e\u3057\u3087\u3046\u3002\n\n```scala\n//\tscala\n\n    implicit object EmployeeLoadableStatic extends LoadableStatic[Employee] {\n        def load(iterator: Iterator[String]): Employee = {\n            return new Employee(\n                Load.load[String](iterator),\n                Load.load[Int](iterator)\n                )\n        }\n    }\n\n    implicit object CompanyLoadableStatic extends LoadableStatic[Company] {\n        def load(iterator: Iterator[String]): Company = {\n            return new Company(\n                Load.load[String](iterator),\n                Load.load[List[Employee]](iterator))\n        }\n    }\n```\n\n\u540c\u3058\u3088\u3046\u306b\u5b9f\u88c5\u3057\u307e\u3059\u3002\u5b9f\u88c5\u81ea\u4f53\u306f\u7279\u306b\u5909\u308f\u3063\u305f\u70b9\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3057\u304b\u3057swift\u3068\u306e\u5bfe\u6bd4\u3067\u307f\u308b\u3068\u3001 `Load.load` \u306b\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u6e21\u3057\u3066\u3044\u308b\u70b9\u304c\u5c11\u3057\u9055\u3044\u307e\u3059\u3002swift\u306e\u5834\u5408\u3092\u518d\u63b2\u3057\u307e\u3059\u3002\n\n```swift\n//\tsiwft\n\nextension Employee: Loadable {\n\tstatic func load(iterator: AnyIterator<String>) -> Employee {\n\t\treturn Employee(\n\t\t\tname: Main.load(iterator: iterator),\n\t\t\tage: Main.load(iterator: iterator)\n\t\t\t)\n\t}\n}\n\nextension Company: Loadable {\n\tstatic func load(iterator: AnyIterator<String>) -> Company {\n\t\treturn Company(\n\t\t\tname: Main.load(iterator: iterator),\n\t\t\temployees: Main.load(iterator: iterator))\n\t}\n}\n```\n\nswift\u306e\u5834\u5408\u306f\u3053\u306e\u3088\u3046\u306b\u3001\u578b\u6307\u5b9a\u3092\u3057\u306a\u3044\u3067\u8a18\u8ff0\u3067\u304d\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u306fswift\u306f\u8fd4\u308a\u5024\u304b\u3089\u306e\u578b\u63a8\u8ad6\u304c\u52b9\u304f\u305f\u3081\u306b\u578b\u304c\u7701\u7565\u3067\u304d\u305f\u306e\u306b\u5bfe\u3057\u3066\u3001Scala\u306f\u305d\u308c\u304c\u3067\u304d\u306a\u3044\u305f\u3081\u306b\u578b\u3092\u66f8\u304b\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u306b\u3088\u308b\u9055\u3044\u3067\u3059\u3002\n\nscala\u3067\u306e\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```scala\n//\tscala\n\n        val c = Load.load[Company](\"CatWorld/3/tama/5/mike/6/kuro/7\")\n        println(c)\n```\n\n\u3044\u304b\u304c\u3067\u3057\u305f\u3067\u3057\u3087\u3046\u304b\u3002scala\u3067\u306f `implicit parameter` \u3068\u3044\u3046\u8a00\u8a9e\u6a5f\u80fd\u306b\u3088\u3063\u3066\u3001`T` \u306b\u3064\u3044\u3066\u306e\u632f\u308b\u821e\u3044\u3092\u5b9a\u7fa9\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3059\u90e8\u5206\u3092\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u81ea\u52d5\u7684\u306b\u4efb\u305b\u308b\u4e8b\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u306e\u3088\u3046\u306a\u4e8b\u304c\u3067\u304d\u308b\u305f\u3081\u306b\u3001scala\u306e `implicit parameter` \u304c\u578b\u30af\u30e9\u30b9\u306e\u3088\u3046\u306a\u3082\u306e\u3060\u3068\u8a00\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u8d77\u304d\u3066\u3044\u308b\u4e8b\u3092\u62bd\u8c61\u7684\u306b\u6349\u3048\u306a\u304a\u3057\u3066\u307f\u308c\u3070\u3001\u3042\u308b\u578b\u306b\u5bfe\u3057\u3066\u5c02\u7528\u306e\u5b9f\u88c5\u3092\u7528\u610f\u3059\u308b\u3001\u3068\u3044\u3046\u52d5\u4f5c\u306e\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u3092\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u6c7a\u5b9a\u3059\u308b\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u578b `T` \u306b\u5fdc\u3058\u3066\u5207\u308a\u66ff\u3048\u308b\u4e8b\u304c\u3067\u304d\u308b\u3001\u305d\u3057\u3066\u3001\u305d\u306e\u52d5\u4f5c\u3092\u63d0\u4f9b\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 `T` \u306e\u5177\u8c61\u5316\u5148\u306e\u578b\u3054\u3068\u306b\u7528\u610f\u3057\u3066\u304a\u304f\u4e8b\u3067\u3001\u52d5\u4f5c\u3092\u7528\u610f\u3057\u3066\u3044\u308b\u578b\u3068\u3057\u3066\u3044\u306a\u3044\u578b\u3092\u5236\u5fa1\u3059\u308b\u3001\u3068\u3044\u3046\u4e8b\u304c\u8d77\u304d\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u578b\u30af\u30e9\u30b9\u306b\u3088\u3063\u3066\u5b9a\u7fa9\u3055\u308c\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u3001\u4eca\u56de\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u95a2\u6570\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u3066\u3001\u3042\u308b\u578b\u3092\u3042\u308b\u578b\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u3059\u308b\u3001\u3068\u3044\u3046\u4e8b\u304c\u3001\u305d\u306e\u578b\u3067\u7279\u6b8a\u5316\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u540c\u6642\u306b\u52d5\u4f5c\u30ed\u30b8\u30c3\u30af\u3092\u8a18\u8ff0\u3059\u308b\u3001\u3068\u3044\u3046\u4e8b\u3068\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u578b\u304c\u3042\u308b\u578b\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3042\u308b\u304b\u3069\u3046\u304b\u306e\u5224\u5b9a\u304c\u3001\u5177\u8c61\u5316\u3055\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u306e\u5224\u5b9a\u3068\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u304c\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u9759\u7684\u306b\u30c1\u30a7\u30c3\u30af\u3067\u304d\u3066\u3001\u30b3\u30fc\u30c9\u306e\u898b\u305f\u76ee\u306b\u306f\u898b\u3048\u306a\u3044\u5f62\u3067\u884c\u308f\u308c\u308b\u306e\u3067\u3001\u578b\u30af\u30e9\u30b9\u306e\u3088\u3046\u306a\u3082\u306e\u3001\u3068\u8003\u3048\u3089\u308c\u308b\u308f\u3051\u3067\u3059\u3002\u306a\u304a\u6355\u6349\u3067\u3059\u304c\u3001\u3053\u306e\u4e00\u7dd2\u306b\u6e21\u3059\u632f\u308b\u821e\u3044\u7528\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u81ea\u4f53\u306f\u3001\u4eca\u56de\u306f `T` \u3092\u8fd4\u3059\u30e1\u30bd\u30c3\u30c9\u3067\u3057\u305f\u304c\u3001\u5f15\u6570\u3068\u3057\u3066 `T` \u3092\u53d7\u3051\u53d6\u308b\u30e1\u30bd\u30c3\u30c9\u3082\u4f5c\u308c\u308b\u308f\u3051\u306a\u306e\u3067\u3001static\u30e1\u30bd\u30c3\u30c9\u3092\u6ce8\u5165\u3059\u308b\u4eca\u56de\u306e\u3088\u3046\u306a\u30d1\u30bf\u30fc\u30f3\u306b\u304b\u304e\u3089\u305a\u3001\u65e2\u5b58\u306e\u578b `T` \u306b\u5bfe\u3057\u3066\u3042\u308b\u540d\u524d\u3067\u898f\u5b9a\u3055\u308c\u308b\u6a5f\u80fd\u306e\u632f\u308b\u821e\u3044\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3044\u3063\u305f\u5f62\u3067\u4f7f\u3048\u307e\u3059\u3002\n\n# Swift\u3068Scala\u306e\u6bd4\u8f03\n\nSwift\u3068Scala\u306f\u3069\u3061\u3089\u3082\u826f\u3044\u611f\u3058\u306b\u5b9f\u88c5\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3053\u3053\u3067\u306fSwift\u3068Scala\u306e\u9055\u3044\u3092\u6574\u7406\u3057\u307e\u3059\u3002\n\nScala\u3067\u306f `LoadableStatic` \u306e\u5b58\u5728\u306f\u898b\u305f\u76ee\u306b\u96a0\u853d\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u306e\u5fc5\u8981\u306b\u3064\u3044\u3066\u306f\u5c11\u3057\u305a\u3064swift\u3068scala\u3067\u4ed5\u69d8\u304c\u9055\u3063\u3066\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u3092\u6574\u7406\u3059\u308b\u3068\u4e0b\u8a18\u306e\u3088\u3046\u306a\u4e8b\u304c\u3042\u308a\u307e\u3057\u305f\u3002\n\n- \u521d\u671f\u5316\u4ee3\u5165\u6587\u3067\u306f\u3001Swift\u3067\u306f\u5de6\u8fba\u3001Scala\u3067\u306f\u53f3\u8fba\u306e\u578b\u6307\u5b9a\u304c\u5fc5\u8981 \n- \u95a2\u6570\u547c\u3073\u51fa\u3057\u90e8\u5206\u3067\u306fSwift\u306f\u4e0d\u8981\u3001Scala\u3067\u306f\u578b\u6307\u5b9a\u304c\u5fc5\u8981\n- Swift\u306fArray\u7528\u306e `load` \u306e\u5b9f\u88c5\u304c\u5fc5\u8981\u3001Scala\u3067\u306f\u6c4e\u7528\u306e `load` \u3067\u5168\u3066\u5bfe\u5fdc\n\n\u307e\u305a1\u3064\u76ee\u306b\u3064\u3044\u3066\u306f\u3001\u539f\u7406\u4e0a\u5de6\u306b\u305b\u3088\u53f3\u306b\u305b\u3088\u3001\u4f55\u304b\u3057\u30891\u7b87\u6240\u306f\u6307\u5b9a\u304c\u5fc5\u8981\u306a\u5834\u9762\u3067\u3059\u3002\u3069\u3061\u3089\u3082\u7121\u304b\u3063\u305f\u3089\u4f55\u3092\u30c7\u30b3\u30fc\u30c9\u3059\u308c\u3070\u826f\u3044\u304b\u6c7a\u3081\u3089\u308c\u307e\u305b\u3093\u3002\u305d\u3057\u3066\u5de6\u3068\u53f3\u306f\u540c\u3058\u3088\u3046\u306b\u601d\u3048\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u3053\u308c\u304c\u521d\u671f\u5316\u4ee3\u5165\u6587\u3067\u306f\u306a\u304f\u3001\u5909\u6570\u3078\u306e\u518d\u4ee3\u5165\u6587\u3060\u3063\u305f\u5834\u5408\u3092\u8003\u3048\u3066\u307f\u308b\u3068\u3001swift\u306f\u578b\u6307\u5b9a\u3092\u7121\u304f\u3059\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u70b9\u3067\u306f\u5de6\u5074\u6307\u5b9a\u306e\u4ed5\u69d8\u306e\u65b9\u304c\u4fbf\u5229\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u3001\u5909\u6570\u3088\u308a\u5b9a\u6570\u3092\u521d\u671f\u5316\u4ee3\u5165\u3059\u308b\u4e8b\u306e\u307b\u3046\u304c\u4e00\u822c\u306b\u591a\u3044\u306e\u3067\u3001\u3042\u307e\u308a\u5909\u308f\u3089\u306a\u3044\u3067\u3057\u3087\u3046\u3002\n\n2\u3064\u76ee\u306b\u3064\u3044\u3066\u306f\u3001Swift\u306e\u307b\u3046\u304c\u4fbf\u5229\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3068\u3053\u308d\u3067\u306f\u3001\u305d\u306e\u95a2\u6570\u306e\u540d\u524d\u3092\u66f8\u304f\u3068\u3044\u3046\u884c\u70ba\u306b\u3088\u3063\u3066\u3001\u305d\u306e\u95a2\u6570\u306e\u5f15\u6570\u90e8\u5206\u306e\u578b\u3092\u30d7\u30ed\u30b0\u30e9\u30de\u304c\u6697\u9ed9\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u306a\u306e\u3067\u3001Scala\u306e\u4ed5\u69d8\u3067\u306f\u3001\u65e2\u306b\u6307\u5b9a\u3057\u3066\u3044\u308b\u4e8b\u3092\u6539\u3081\u3066\u66f8\u304d\u4e0b\u3057\u3066\u3044\u3066\u7121\u99c4\u306a\u624b\u9593\u304c\u304b\u304b\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\n\n3\u3064\u76ee\u306b\u3064\u3044\u3066\u306fScala\u306e\u65b9\u304c\u7dba\u9e97\u3067\u3059\u3002\u305d\u3082\u305d\u3082Swift\u3067\u3053\u306e\u3088\u3046\u306a\u4e8b\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u306e\u306f\u3001\u300c\u914d\u5217\u306e\u8981\u7d20\u306e\u578b\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u306a\u3068\u304d\u3060\u3051\u305d\u306e\u914d\u5217\u81ea\u4f53\u304c\u30c7\u30b3\u30fc\u30c9\u53ef\u80fd\u3067\u3042\u308b\u300d\u3068\u3044\u3046\u6761\u4ef6\u4ed8\u304d\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u9069\u7528\u304c\u66f8\u3051\u306a\u304b\u3063\u305f\u304b\u3089\u3067\u3057\u305f\u3002\u4e00\u65b9Scala\u306e\u5834\u5408\u306f\u3001\u914d\u5217\u306e\u30c7\u30b3\u30fc\u30c0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u63a2\u7d22\u3059\u308b\u6642\u306b\u3001\u305d\u308c\u3092\u8fd4\u3059\u95a2\u6570\u306e\u5f15\u6570\u3068\u3057\u3066\u8981\u7d20\u306e\u30c7\u30b3\u30fc\u30c0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u63a2\u7d22\u3059\u308b\u3001\u3068\u3044\u3046\u5f62\u3067\u3001\u304d\u3061\u3093\u3068\u8981\u7d20\u306e\u578b\u306e\u5224\u5b9a\u306b\u4f9d\u5b58\u3057\u3066\u3001\u914d\u5217\u306e\u578b\u306e\u5224\u5b9a\u304c\u9023\u52d5\u3059\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u70b9\u3067\u306fScala\u306e\u65b9\u304c\u5b8c\u5168\u306b\u512a\u308c\u3066\u3044\u307e\u3059\u3002\n\n\u305d\u3093\u306a\u611f\u3058\u3067\u578b\u6307\u5b9a\u5468\u308a\u306b\u3064\u3044\u3066\u306f\u4e00\u9577\u4e00\u77ed\u3067\u3059\u3002\u5e78\u3044Swift\u304c\u52a3\u3063\u3066\u3044\u308b3\u3064\u76ee\u306e\u70b9\u306b\u3064\u3044\u3066\u306f\u4eca\u5f8c\u306e\u5bfe\u5fdc\u304c\u4e88\u5b9a\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001\u305d\u3053\u304c\u5bfe\u5fdc\u3055\u308c\u308c\u3070\u3001Swift\u306f\u304b\u306a\u308a\u826f\u3044\u3068\u8a00\u3048\u308b\u3088\u3046\u306b\u306a\u308a\u305d\u3046\u3067\u3059\u3002\n\n\u307e\u305f\u3001\u5229\u7528\u5074\u306e\u578b\u6307\u5b9a\u3067\u306f\u306a\u304f\u3001\u30c7\u30b3\u30fc\u30c0\u306e\u5b9f\u88c5\u5074\u306e\u65b9\u5f0f\u3082\u7d50\u69cb\u9055\u3063\u3066\u3044\u307e\u3059\u3002\n\n- Swift\u306f `Loadable` \u3068\u3044\u3046 `protocol` \u306b `load` static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u3092\u66f8\u304d\u3001\u305d\u308c\u3092\u62e1\u5f35\u30e1\u30bd\u30c3\u30c9\u3068\u3057\u3066\u6ce8\u5165\u3059\u308b\n- Scala\u306f `LoadableStatic` \u3068\u3044\u3046 `trait` \u306b `load` \u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u3092\u66f8\u304d\u3001 `LoadableStatic` \u3092\u5b9f\u88c5\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 `implicit` \u3064\u304d\u3067\u5b9a\u7fa9\u3059\u308b\n\n\u3068\u3044\u3046\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3084\u308a\u305f\u3044\u3053\u3068\u306f \u300c`T` \u3092\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u300d\u3067\u3042\u308b\u3068\u8003\u3048\u308b\u3068\u3001static\u30e1\u30bd\u30c3\u30c9\u5236\u7d04\u306e\u3042\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u66f8\u3044\u3066\u3001 `T` \u306b\u305d\u308c\u3092\u9069\u7528\u3055\u305b\u308b\u3001\u3068\u3044\u3046swift\u306e\u3084\u308a\u65b9\u306f\u304b\u306a\u308a\u81ea\u7136\u3067\u308f\u304b\u308a\u3084\u3059\u3044\u3068\u601d\u3044\u307e\u3059\u3002\u3082\u3061\u308d\u3093\u3053\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u306b\u3064\u3044\u3066\u3082\u5236\u7d04\u3067\u304d\u308b\u306e\u3067\u3001\u578b `T` \u3068\u305d\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u9069\u7528\u3001\u3068\u3044\u3046\u767b\u5834\u4eba\u7269\u3060\u3051\u3067\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u306e\u8a71\u3082static\u30e1\u30bd\u30c3\u30c9\u306e\u8a71\u3082\u540c\u3058\u3088\u3046\u306b\u53d6\u308a\u6271\u3048\u307e\u3059\u3002\u4e00\u65b9Scala\u3084kotlin\u306e\u3084\u308a\u65b9\u3060\u3068\u3001 `T` \u81ea\u4f53\u306b\u306f\u624b\u3092\u5165\u308c\u305a\u3001 `T` \u306b\u5bfe\u5fdc\u3057\u305f\u305d\u308c\u305e\u308c\u306e `LoadableStatic` \u30af\u30e9\u30b9\u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3068\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u7528\u610f\u3059\u308b\u3068\u3053\u308d\u304c\u3001\u9593\u63a5\u7684\u306a\u5b9a\u7fa9\u306b\u306a\u3063\u3066\u3044\u3066\u308f\u304b\u308a\u306b\u304f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\nScala\u306e\u3088\u3046\u306a\u9593\u63a5\u7684\u306a\u3084\u308a\u65b9\u304c\u5fc5\u8981\u306b\u306a\u308b\u306e\u306f\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3057\u304b\u66f8\u3051\u306a\u3044\u3001\u3068\u3044\u3046\u4e8b\u304c\u4e3b\u306a\u7406\u7531\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u578b\u3060\u3051\u3067\u4f55\u304b\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u305a\u3001\u5fc5\u305a\u305d\u306e\u578b\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304c\u3042\u3063\u3066\u521d\u3081\u3066\u4f55\u304b\u3059\u308b\u3001\u3068\u3044\u3046\u5f62\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u305d\u308c\u306b\u5bfe\u3057\u3066\u3001Swift\u304c static\u5236\u7d04\u3092\u62e1\u5f35\u3057\u305f\u4e8b\u306f\u3001\u9006\u306b\u4f55\u304b\u304a\u304b\u3057\u306a\u4e8b\u306b\u306a\u3089\u306a\u3044\u306e\u304b\u8003\u3048\u3066\u307f\u307e\u3057\u305f\u3002\u307e\u305a\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3068\u3044\u3046\u3082\u306e\u306f\u5358\u306b\u898b\u3048\u306a\u3044\u7b2c0\u5f15\u6570\u3068\u3057\u3066\u306e `this` \u304c\u3042\u308b\u3060\u3051\u306estatic\u30e1\u30bd\u30c3\u30c9\u3068\u8003\u3048\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u30c7\u30a3\u30b9\u30d1\u30c3\u30c1\u306b\u3064\u3044\u3066\u306f\u305d\u306estatic\u30e1\u30bd\u30c3\u30c9\u306e\u7a81\u5165\u76f4\u5f8c\u306b\u3001\u7b2c0\u5f15\u6570\u306b\u3082\u3068\u3065\u3044\u3066\u884c\u3046\u51e6\u7406\u3067\u3042\u3063\u3066\u3001\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u30a8\u30f3\u30c8\u30ea\u81ea\u4f53\u306f\u5358\u306b\u5f15\u6570\u304c\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u30c9\u30c3\u30c8\u306e\u5de6\u5074\u306b\u3042\u308b\u3060\u3051\u3067\u3059\u3002\u3068\u3044\u3046\u3053\u3068\u306f\u3001\u305d\u3082\u305d\u3082\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u306e\u5236\u7d04\u3092\u66f8\u304f\u6a5f\u80fd\u306f\u3001\u7b2c0\u5f15\u6570\u304c\u5f37\u5236\u3055\u308c\u305fstatic\u30e1\u30bd\u30c3\u30c9\u3060\u3051\u304c\u304b\u3051\u308b\u6a5f\u80fd\u3060\u3063\u305f\u3068\u8003\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u3066\u3001\u305d\u306e\u5236\u7d04\u3092\u53d6\u308a\u6255\u3046\u3053\u3068\u3067static\u30e1\u30bd\u30c3\u30c9\u3082\u304b\u3051\u308b\u3088\u3046\u306b\u306a\u308b\u3001\u3068\u3044\u3046\u306e\u306f\u81ea\u7136\u306a\u4e00\u822c\u5316\u306e\u3088\u3046\u306b\u601d\u3048\u307e\u3059\u3002\n\n\n\n# Swift\u306e\u88cf\u5074\n\nSwift\u3067\u306f\u3053\u306e\u3088\u3046\u306a `load<T>`\u3000\u306e `T` \u306b\u5bfe\u3059\u308bstatic\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u3059\u308b\u30b3\u30fc\u30c9\u306f\u3001\u5b9f\u969b\u306b\u5177\u8c61\u5316\u3055\u308c\u305f `T` \u306e\u30b3\u30fc\u30c9\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u5b9f\u884c\u6642\u306b\u306f\u4f8b\u3048\u3070\u578b `Int` \u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u6e21\u3057\u3066 `Int` \u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u3001\u3068\u3044\u3046\u5f62\u3067\u306f\u306a\u304f\u3066\u3001\u521d\u3081\u304b\u3089 `Int` \u306e\u6642\u306e\u5834\u5408\u306e\u95a2\u6570\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u304a\u3044\u3066\u3001\u305d\u3053\u306b\u306f\u76f4\u63a5 `Int` \u306e\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u30b3\u30fc\u30c9\u304c\u66f8\u304b\u308c\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u3057\u304b\u3057\u4e00\u65b9\u3067\u3001Swift\u306f\u5916\u90e8\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u5bfe\u3057\u3066\u3053\u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u95a2\u6570\u3092\u516c\u958b\u3057\u305f\u5834\u5408\u3001\u547c\u3073\u51fa\u3057\u5074\u306f\u95a2\u6570\u3092\u5177\u8c61\u5316\u3057\u3066\u518d\u30b3\u30f3\u30d1\u30a4\u30eb\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u304b\u3089\u3001\u305d\u306e\u6642\u306e\u3088\u3046\u306b\u672c\u5f53\u306b\u578b `T` \u3092\u53d7\u3051\u53d6\u308b\u67d4\u8edf\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u3082\u751f\u6210\u3059\u308b\u306f\u305a\u3067\u3059\u3002\u305d\u308c\u3092\u4eca\u56de\u306e\u30b3\u30fc\u30c9\u3092\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066LLVM-IR\u3092\u898b\u3066\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\u3002\u4e0b\u8a18\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30d1\u30a4\u30eb\u3057\u3066\u3001\u6700\u9069\u5316\u3057\u305f\u7248\u306eLLVM-IR\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\n```\n$ swiftc -emit-ir -O -module-name Main swift.swift\n```\n\n\u306a\u304a\u3001SIL\u3067\u306a\u304fLLVM-IR\u3092\u4e00\u6c17\u306b\u898b\u306b\u884c\u304f\u306e\u306f\u3001SIL\u306e\u6bb5\u968e\u3060\u3068\u307e\u3060\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u8868\u73fe\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u306b\u3001\u5b9f\u969b\u306e\u95a2\u6570\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306eABI\u304c\u3069\u3046\u306a\u3063\u3066\u3044\u308b\u304b\u306f\u308f\u304b\u3089\u306a\u3044\u304b\u3089\u3067\u3059\u3002\u305f\u3060\u3001\u30b7\u30f3\u30dc\u30eb\u540d\u306e\u30d2\u30f3\u30c8\u3068\u3057\u3066SIL\u3067\u306e\u51fa\u529b\u306f\u53c2\u8003\u306b\u306a\u308b\u306e\u3067\u3001\u5b9f\u969b\u306b\u306fSIL\u3082\u4e26\u884c\u3057\u3066\u53c2\u7167\u3057\u307e\u3059\u3002\n\n\u3055\u3066\u3001SIL\u3092\u63a2\u3059\u3068\u4e0b\u8a18\u304c\u898b\u3064\u304b\u308a\u307e\u3059\u3002\n\n```\n// load<A where ...> (iterator : AnyIterator<String>) -> A\nsil hidden @_TF4Main4loaduRxS_8Loadablexzwx6LoadedrFT8iteratorGVs11AnyIteratorSS__x : $@convention(thin) <T where T : Loadable, T.Loaded == T> (@owned AnyIterator<String>) -> @out T {\n\t...\n}\n```\n\n\u30b3\u30e1\u30f3\u30c8\u304c\u3064\u3044\u3066\u3044\u308b\u306e\u3067\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a `T` \u7528\u306e `load` \u3060\u3068\u308f\u304b\u308a\u307e\u3059\u3002\u672c\u6587\u306f\u7701\u7565\u3057\u307e\u3057\u305f\u3002\u3053\u3053\u304b\u3089\u3001\u95a2\u6570\u540d\u3092\u30b3\u30d4\u30da\u3057\u3066IR\u3092\u898b\u308b\u3068\u3001\u4e0b\u8a18\u304c\u898b\u3064\u304b\u308a\u307e\u3059\u3002\n\n```\ndefine hidden void @_TF4Main4loaduRxS_8Loadablexzwx6LoadedrFT8iteratorGVs11AnyIteratorSS__x(%swift.opaque* noalias nocapture sret, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type* %T, i8** %T.Loadable) #0 {\nentry:\n  %2 = getelementptr inbounds i8*, i8** %T.Loadable, i64 1\n  %3 = bitcast i8** %2 to void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)**\n  %4 = load void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)*, void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)** %3, align 8, !invariant.load !29\n  tail call void %4(%swift.opaque* noalias nocapture sret %0, %GCs19_AnyIteratorBoxBaseSS_* %1, %swift.type* %T, %swift.type* %T, i8** %T.Loadable)\n  ret void\n}\n```\n\n\u3053\u308c\u304c\u6c17\u306b\u306a\u3063\u3066\u3044\u308b\u30d0\u30a4\u30ca\u30ea\u306a\u306e\u3067\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u7b2c1\u5f15\u6570\u306f \u540d\u524d\u304c `%0`\u3001\u578b\u304c `%swift.opaque* noalias nocapture sret` \u3067\u3059\u3002 `noalias`\u3001`nocapture`\u3001`sret` \u306f\u30d2\u30f3\u30c8\u306a\u306e\u3067\u3001\u8981\u3059\u308b\u306b `%swift.opaque` \u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3059\u3002\u95a2\u6570\u81ea\u4f53\u306e\u8fd4\u308a\u5024\u306e\u578b\u304c `void` \u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3082\u30dd\u30a4\u30f3\u30c8\u3067\u3001\u7d50\u5c40\u3053\u308c\u306f\u8fd4\u308a\u5024\u3092\u53c2\u7167\u6e21\u3057\u3067\u53d7\u3051\u53d6\u308b\u305f\u3081\u306e\u5f15\u6570\u3067\u3059\u3002\u4eca\u56de\u306f\u8fd4\u308a\u5024\u306e\u578b\u3082 `T` \u3068\u3044\u3046\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a\u578b\u306a\u306e\u3067\u3001\u30aa\u30da\u30a4\u30af\u30dd\u30a4\u30f3\u30bf\u3067\u623b\u3059\u308f\u3051\u3067\u3059\u306d\u3002\n\n\u7b2c2\u5f15\u6570\u306f \u540d\u524d\u304c `%1`\u3001\u578b\u304c `%GCs19_AnyIteratorBoxBaseSS_*` \u3067\u3059\u3002 `AnyIterator` \u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3067\u3059\u306d\u3002 `BoxBase` \u3068\u304b\u306f `AnyIterator` \u306e\u5b9f\u88c5\u4e0a\u306e\u578b\u540d\u3068\u304b\u306e\u540d\u6b8b\u3067\u3057\u3087\u3046\u3002\n\n\u7b2c3\u5f15\u6570\u306f \u540d\u524d\u304c `%T`\u3001\u578b\u304c `%swift.type*` \u3067\u3059\u3002 `%swift.type` \u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3001\u3064\u307e\u308a\u5177\u8c61\u5316\u3055\u308c\u305f `T` \u306e\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3059\u306d\u3002\n\n\u7b2c4\u5f15\u6570\u306f \u540d\u524d\u304c `%T.Loadable`\u3001\u578b\u304c `i8**` \u3067\u3059\u3002\u8981\u3059\u308b\u306b\u4f55\u304b\u306e\u30dd\u30a4\u30f3\u30bf\u306a\u3093\u3067\u3059\u304c\u3001\u7d50\u8ad6\u3068\u3057\u3066\u306f\u3053\u308c\u306f\u5177\u8c61\u5316\u3055\u308c\u305f `T` \n\u304c \u30d7\u30ed\u30c8\u30b3\u30eb `Loadable` \u306b\u6e96\u62e0\u3059\u308b\u305f\u3081\u306e\u3001protocol witness table\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u3060\u3068\u63a8\u6e2c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3060\u3051\u3067\u8ad6\u7406\u7684\u306b\u7d50\u8ad6\u3059\u308b\u306e\u306f\u7121\u7406\u3067\u3059\u304c\u3001\u904e\u53bb\u306b [\u3053\u3053\u3089\u3078\u3093\u3092\u8abf\u3079\u305f\u8a18\u4e8b](http://qiita.com/omochimetaru/items/b41e7699ea25a324aefa) \u3092\u66f8\u3044\u3066\u3044\u308b\u306e\u3067\u6c17\u306b\u306a\u308b\u4eba\u306f\u898b\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u95a2\u6570\u672c\u4f53\u3067\u3059\u304c\u3001witness table\u304b\u3089\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3092\u53d6\u3063\u3066\u304d\u3066\u547c\u3073\u51fa\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\u8a73\u3057\u304f\u898b\u3066\u3044\u304d\u307e\u3059\u3002\n\n\u307e\u305a\u3001 `%2` \u306b\u5bfe\u3057\u3066 `%T.Loadable` \u304b\u3089\u30a8\u30f3\u30c8\u30ea\u3092\u30ed\u30fc\u30c9\u3057\u3066\u3044\u307e\u3059\u3002\n\n```\n  %2 = getelementptr inbounds i8*, i8** %T.Loadable, i64 1\n```\n\n\u3053\u306e\u672b\u5c3e\u306e `1` \u304c\u8981\u7d20\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u3067\u3059\u304c\u3001SIL\u306e\u65b9\u3092\u898b\u308b\u3068\u4f55\u304c\u5165\u3063\u3066\u3044\u308b\u304b\u308f\u304b\u308a\u307e\u3059\u3002\n\n```\nsil_witness_table hidden Int: Loadable module Main {\n  associated_type Loaded: Int\n  method #Loadable.load!1: @_TTWSi4Main8LoadableS_ZFS0_4loadfT8iteratorGVs11AnyIteratorSS__wx6Loaded\t// protocol witness for static Loadable.load(iterator : AnyIterator<String>) -> A.Loaded in conformance Int\n}\n```\n\n\u4f8b\u3048\u3070\u3053\u308c\u306f `Int` \u3092 `Loadable` \u306b\u9069\u7528\u3055\u305b\u308b\u305f\u3081\u306e\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u3067\u3059\u3002 `Loadble.load` \u3068\u3057\u3066 `_TTWSi4Main8LoadableS_ZFS0_4loadfT8iteratorGVs11AnyIteratorSS__wx6Loaded` \u304c\u5165\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u306e\u30b7\u30f3\u30dc\u30eb\u3092IR\u304b\u3089\u63a2\u3057\u307e\u3059\u3002\u3059\u308b\u3068\u4e0b\u8a18\u304c\u898b\u3064\u304b\u308a\u307e\u3059\u3002\n\n```\n@_TWPSi4Main8LoadableS_ = \n\thidden constant [2 x i8*] [\n\t\ti8* bitcast (\n\t\t\t%swift.type* ()* \n\t\t\t@_TMaSi \n\t\t\tto i8*\n\t\t), \n\t\ti8* bitcast (\n\t\t\tvoid (%Si*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)* @_TTWSi4Main8LoadableS_ZFS0_4loadfT8iteratorGVs11AnyIteratorSS__wx6Loaded \n\t\t\tto i8*\n\t\t)\n\t], align 8\n```\n\n\u898b\u3084\u3059\u3044\u3088\u3046\u306b\u30a4\u30f3\u30c7\u30f3\u30c8\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3055\u3063\u304d\u306e\u30b7\u30f3\u30dc\u30eb\u3060\u3063\u305f\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u304c\u3001 `i8*` \u306b\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u305f\u4e0a\u3067\u3001 `_TWPSi4Main8LoadableS_`\u3000\u306e\u7b2c1\u8981\u7d20\u3068\u3057\u3066\u683c\u7d0d\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u308f\u304b\u308a\u307e\u3059\u3002\n\n\u30c6\u30fc\u30d6\u30eb\u306e\u7b2c0\u8981\u7d20\u306f `@_TMaSi` \u3068\u3044\u3046\u95a2\u6570\u3067\u3059\u304c\u3001\u3053\u308c\u3092 `swift-demangle` \u3059\u308b\u3068 `@type metadata accessor for Swift.Int()` \u3067\u3042\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u3002\u3088\u3046\u3059\u308b\u306b\u3001\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u306f `Int` \u304c `Loadable` \u3068\u3057\u3066\u632f\u308b\u821e\u3046\u3068\u304d\u306e\u30c6\u30fc\u30d6\u30eb\u3067\u3059\u304c\u3001\u305d\u306e `Int` \u306e\u30c6\u30fc\u30d6\u30eb\u3067\u3042\u308b\u3068\u3044\u3046\u4e8b\u304c\u9006\u5f15\u304d\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u306d\u3002\u305d\u3057\u3066\u7b2c1\u8981\u7d20\u304c\u3001 `Int` \u304c `Loadable` \u3068\u3057\u3066\u632f\u308b\u821e\u3046\u3068\u304d\u306e\u30ed\u30b8\u30c3\u30af\u304c\u66f8\u304b\u308c\u305f\u95a2\u6570\u306a\u308f\u3051\u3067\u3059\u3002\n\n`Int` \u306b\u304b\u304e\u3089\u305a\u4ed6\u306e\u578b\u3067\u3042\u3063\u3066\u3082\u540c\u3058\u30ec\u30a4\u30a2\u30a6\u30c8\u306a\u306e\u3067\u3001 `Loadble.load` \u306e\u578b\u3054\u3068\u306e\u5b9f\u88c5\u3092\u53d6\u3063\u3066\u304d\u3066\u3044\u308b\u3068\u308f\u304b\u308a\u307e\u3059\u3002\u5b9f\u969b\u306b\u306f `getelementptr` \u306f\u305d\u306e\u8981\u7d20\u306e\u30dd\u30a4\u30f3\u30bf\u3092\u8fd4\u3059\u306e\u3067\u3001\u4eca `%2` \u306f\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u304c\u66f8\u304b\u308c\u305f\u30e1\u30e2\u30ea\u3078\u306e\u30dd\u30a4\u30f3\u30bf\u306a\u308f\u3051\u3067\u3059\u3002\n\n\u6b21\u306b\u305d\u308c\u3092\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u306e\u30dd\u30a4\u30f3\u30bf\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3066 `%3` \u306b\u4fdd\u6301\u3057\u307e\u3059\u3002\n\n```\n  %3 = bitcast i8** %2 to void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)**\n```\n\n\u3053\u308c\u306f\u3055\u3063\u304d\u898b\u305f `_TTWSi4Main8LoadableS_ZFS0_4loadfT8iteratorGVs11AnyIteratorSS__wx6Loaded` \u306e\u578b\u3068\u4e00\u81f4\u3057\u3066\u3044\u307e\u3059\u306d\u3002\u3067\u3001 `load` \u547d\u4ee4\u3067\u30dd\u30a4\u30f3\u30bf\u3092\u30c7\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3057\u3066\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u3092 `%4` \u306b\u5f97\u307e\u3059\u3002\n\n```\n  %4 = load void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)*, void (%swift.opaque*, %GCs19_AnyIteratorBoxBaseSS_*, %swift.type*, %swift.type*, i8**)** %3, align 8, !invariant.load !29\n```\n\n\u3053\u308c\u3082\u9577\u3044\u884c\u3067\u3059\u304c\u3001 `load <\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u306e\u578b> <\u95a2\u6570\u30dd\u30a4\u30f3\u30bf\u306e\u578b *> %3, align 8, !invariant.load !29` \u3068\u66f8\u3044\u3066\u3042\u308b\u3060\u3051\u3067\u3059\u306d\u3002\n\n\u6b21\u306e\u884c\u3067\u3044\u3088\u3044\u3088\u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002\n\n```\n\ttail call void %4(\n\t\t%swift.opaque* noalias nocapture sret %0, \n\t\t%GCs19_AnyIteratorBoxBaseSS_* %1, \n\t\t%swift.type* %T, \n\t\t%swift.type* %T, \n\t\ti8** %T.Loadable)\n```\n\n\u3053\u3053\u3082\u30a4\u30f3\u30c7\u30f3\u30c8\u3092\u5165\u308c\u307e\u3057\u305f\u304c\u3001\u3053\u308c\u307e\u3067\u306b\u51fa\u3066\u304d\u305f\u5909\u6570\u3092\u8ee2\u9001\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002 `%0` \u306f\u8fd4\u308a\u5024\u7528\u306e\u30dd\u30a4\u30f3\u30bf\u3001 `%1` \u306f `AnyIterator`\u3001 \u7b2c3,4 \u5f15\u6570\u306f `%T`\u3001\u7b2c5\u5f15\u6570\u306f `%T.Loadable` \u3067\u3059\u3002\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u3001 `T` \u304c\u6c4e\u7528\u7684\u306a\u7248\u306e `load` \u306e\u547c\u3073\u51fa\u3057\u3067\u306f\u3001 \u578b `T` \u306e\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3001\u305d\u306e\u578b\u304c `Loadable` \u578b\u3068\u3057\u3066\u632f\u308b\u821e\u3046\u3068\u304d\u306e\u305f\u3081\u306e\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u3001\u3064\u307e\u308a\u52d5\u4f5c\u304c\u6e21\u3055\u308c\u3066\u3044\u308b\u4e8b\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3057\u305f\u3002\n\n\u3088\u304f\u8003\u3048\u3066\u307f\u308b\u3068\u3001\u3053\u308c\u306f Scala \u3084 Kotlin \u3067\u66f8\u3044\u3066\u304d\u305f\u30b3\u30fc\u30c9\u3068\u540c\u3058\u5f62\u3092\u3057\u3066\u3044\u307e\u3059\u3002`LoadableStatic` \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u6e21\u3057\u3066\u3044\u305f\u306e\u306f\u3001\u578b\u306b\u3088\u3063\u3066\u52d5\u4f5c\u3092\u5207\u308a\u5206\u3051\u308b\u305f\u3081\u3067\u3001\u5b9f\u969b\u3001`LoadableStatic` \u3068\u3057\u3066\u30a2\u30c3\u30d7\u30ad\u30e3\u30b9\u30c8\u3055\u308c\u305f `IntLoadableStatic` \u306a\u3069\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u3092\u901a\u3057\u3066\u56fa\u6709\u306e\u51e6\u7406\u3092\u547c\u3073\u51fa\u3057\u5074\u306b\u4e0e\u3048\u308b\u308f\u3051\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u4eee\u60f3\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u52d5\u4f5c\u3092\u6e21\u3059\u305f\u3081\u306e\u5a92\u4ecb\u3068\u3057\u3066\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f7f\u3063\u3066\u3044\u308b\u3088\u3046\u306a\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u305f\u308f\u3051\u3067\u3059\u3002\u3053\u308c\u306fSwift\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u5f8c\u306e\u72b6\u614b\u3068\u5168\u304f\u540c\u3058\u3067\u3059\u3002Scala\u306e\u5b9f\u88c5\u306b\u304a\u3044\u3066\u306f\u3001\u305d\u306e `LoadableStatic` \u3092\u81ea\u524d\u3067Scala\u30b3\u30fc\u30c9\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u308c\u3092\u5f15\u6570\u306b\u6e21\u3059\u51e6\u7406\u306f\u81ea\u52d5\u3067\u3084\u3063\u3066\u304f\u308c\u305f\u308f\u3051\u3067\u3059\u3002\u540c\u3058\u3088\u3046\u306bSwift\u306f\u3001 `IntLoadableStatic` \u306b\u76f8\u5f53\u3059\u308b `Int` \u306e `Loadable` \u30e1\u30bd\u30c3\u30c9\u30c6\u30fc\u30d6\u30eb\u3092\u5b9a\u7fa9\u3057\u3066\u3001\u305d\u308c\u3092\u6e21\u3059\u51e6\u7406\u3092\u81ea\u52d5\u3067\u51fa\u529b\u3057\u3066\u304f\u308c\u3066\u3044\u305f\u308f\u3051\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n- Kotlin\u3067\u306f\u3001\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\u3092\u624b\u52d5\u3067\u66f8\u3044\u3066\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u6e21\u3059\u51e6\u7406\u3092\u624b\u52d5\u3067\u66f8\u3044\u305f\u3002\n- Scala\u3067\u306f\u3001\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\u3092\u624b\u52d5\u3067\u66f8\u3044\u3066\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u6e21\u3059\u51e6\u7406\u3092\u81ea\u52d5\u3067\u66f8\u3044\u305f\u3002\n- Swift\u3067\u306f\u3001\u95a2\u6570\u30c6\u30fc\u30d6\u30eb\u306e\u5b9a\u7fa9\u3092\u81ea\u52d5\u3067\u66f8\u3044\u3066\u3001\u30c6\u30fc\u30d6\u30eb\u3092\u6e21\u3059\u51e6\u7406\u3082\u81ea\u52d5\u3067\u66f8\u3044\u305f\u3002\n\n\u3053\u306e\u3088\u3046\u306b\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u3084\u3063\u3066\u304f\u308c\u308b\u9818\u57df\u304c\u5e83\u304f\u306a\u3063\u3066\u3044\u308b\u306e\u3067\u3059\u3002\u7d50\u5c40\u3069\u306e\u65b9\u5f0f\u3082\u540c\u3058\u3057\u304f\u307f\u3067\u3067\u304d\u3066\u3044\u3066\u3001\u3088\u308a\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u81ea\u52d5\u3067\u5f15\u304d\u53d7\u3051\u3066\u304f\u308c\u3066\u3044\u308b\u306e\u304cSwift\u3067\u306e\u5b9f\u88c5\u306e\u5f62\u3060\u3063\u305f\u3068\u8a00\u3048\u307e\u3059\u3002\u305d\u306e\u4e0a\u3067Swift\u306f\u3001\u6700\u9069\u5316\u306e\u5f62\u3068\u3057\u3066\u3001\u5177\u8c61\u5316\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3057\u3001\u5185\u90e8\u30ea\u30f3\u30af\u306b\u304a\u3044\u3066\u306f\u305d\u306e\u9ad8\u901f\u306a\u7248\u3092\u547c\u3073\u51fa\u3059\u3001\u3068\u3044\u3046\u52d5\u4f5c\u3092\u3057\u3066\u3044\u307e\u3059\u3002(Scala\u3082\u6e21\u3059\u3068\u3053\u308d\u3067\u306f\u9759\u7684\u306b\u78ba\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u5177\u8c61\u5316\u3057\u3066\u5c55\u958b\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027\u306f\u3042\u308a\u307e\u3059)\n\n\n\n# \u4ed6\u306e\u65b9\u6cd5; suffix\u65b9\u5f0f\n\n\u5225\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u3057\u3066\u3001 `load` \u95a2\u6570\u306b\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u578b\u540d\u306b\u5bfe\u5fdc\u3059\u308b suffix \u3092\u4ed8\u3051\u305f\u7248\u3092\u3069\u3093\u3069\u3093\u4f5c\u308a\u8db3\u3057\u3066\u3044\u304f\u30a2\u30d7\u30ed\u30fc\u30c1\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 `loadInt`, `loadString`, `loadCompany` \u3068\u3044\u3063\u305f\u95a2\u6570\u3092\u3001\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u578b `T` \u306b\u5408\u308f\u305b\u3066\u4f5c\u308a\u8db3\u3057\u3066\u3044\u304f\u65b9\u5f0f\u3067\u3059\u3002\n\n\u3053\u306e\u65b9\u304c\u4e00\u898b\u3001 `load(iterator, IntLoadableStatic)` \u306a\u3069\u3068\u66f8\u304f\u3088\u308a\u3001 `loadInt(iterator)` \u3068\u304b\u3051\u308b\u305f\u3081\u3001\u77ed\u304f\u3066\u826f\u3044\u3068\u8003\u3048\u308b\u4eba\u3082\u3044\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u3057\u304b\u3057\u50d5\u306f\u3053\u306e\u65b9\u5f0f\u306f\u3042\u307e\u308a\u826f\u3044\u3068\u601d\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u308c\u306f\u4ee5\u4e0b\u306e2\u3064\u306e\u7406\u7531\u306b\u3088\u308a\u307e\u3059\u3002\n\n- \u540d\u524d\u304c\u885d\u7a81\u3059\u308b\n- \u65b0\u3057\u3044\u578b\u306e\u8ffd\u52a0\u6642\u306b\u4f55\u3092\u3059\u3079\u304d\u304b\u304c\u8868\u660e\u3055\u308c\u3066\u3044\u306a\u3044\n\n\u307e\u305a1\u3064\u76ee\u306e\u7406\u7531\u306f\u540d\u524d\u304c\u885d\u7a81\u3059\u308b\u3068\u3044\u3046\u3082\u306e\u3067\u3059\u3002\u4f8b\u3048\u3070VR\u30a2\u30d7\u30ea\u3092\u4f5c\u308d\u3046\u3068\u3057\u305f\u3068\u3057\u3066\u3001\u753b\u50cf\u51e6\u7406\u30e9\u30a4\u30d6\u30e9\u30ea\u3068\u30b2\u30fc\u30e0\u30a8\u30f3\u30b8\u30f3\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u3063\u305f\u3068\u3057\u307e\u3059\u3002\u753b\u50cf\u51e6\u7406\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4e2d\u306b `Vector3` \u3068\u3044\u3046\u578b\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u5fdc\u3058\u3066 `loadVector3` \u3092\u5b9f\u88c5\u3057\u305f\u3068\u3057\u307e\u3059\u3002\u3057\u304b\u3057\u3001\u30b2\u30fc\u30e0\u30a8\u30f3\u30b8\u30f3\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4e2d\u306b\u3082 `Vector3` \u3068\u3044\u3046\u578b\u304c\u3042\u3063\u305f\u3068\u3057\u307e\u3059\u3002\u3053\u306e\u6642\u70b9\u3067 `loadVector3` \u304c2\u3064\u5fc5\u8981\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u5b9a\u7fa9\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3046\u3044\u3046\u3068\u304d\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u4ed8\u3051\u8db3\u3057\u3066\u3001 `loadImgVector3` \u3068 `loadGeVector3` \u307f\u305f\u3044\u306b\u3084\u3063\u305f\u3068\u3057\u3066\u3001\u3058\u3083\u3042\u30b2\u30fc\u30e0\u30a8\u30f3\u30b8\u30f3\u306e\u4e2d\u306e `Texture` \u578b\u306e\u30c7\u30b3\u30fc\u30c0\u30fc\u306b\u3082 `Ge` \u3092\u4ed8\u3051\u308b\u306e\u304b\u3069\u3046\u304b\u3068\u304b\u3001\u305d\u3082\u305d\u3082 `Ge` \u3058\u3083\u308f\u304b\u308a\u306b\u304f\u3044\u306e\u3067 `GameEngine` \u306b\u3057\u306a\u3051\u308c\u3070\u3001\u3044\u3084\u3044\u3084\u305d\u308c\u3067\u306f\u547c\u3073\u51fa\u3057\u304c\u9577\u3063\u305f\u3089\u3057\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3001\u3068\u3001\u3046\u307e\u304f\u3044\u304d\u307e\u305b\u3093\u3002\n\n\u3057\u304b\u3057\u3001Swift\u3067\u306e\u3084\u308a\u65b9\u306e\u5834\u5408\u306a\u3089\u3001\u305d\u308c\u305e\u308c\u306e `Vector3` \u306b\u5bfe\u3059\u308b\u62e1\u5f35\u3068\u3057\u3066\u51e6\u7406\u3092\u66f8\u304f\u305f\u3081\u3001\u540d\u524d\u304c\u3076\u3064\u304b\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u305d\u3057\u3066\u3001\u7247\u65b9\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u3057\u304b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u306a\u3044\u7b87\u6240\u304b\u3089\u306f\u3001 `Vector3` \u3068\u3044\u3046\u77ed\u3044\u540d\u524d\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4e21\u65b9\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u3044\u308b\u7b87\u6240\u3067\u306e\u307f\u3001 `Imaging.Vector3` \u3068 `GameEngine.Vector3` \u3068\u3044\u3046\u9577\u3044\u540d\u524d\u3092\u4f7f\u3046\u4e8b\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306b\u3001\u5fc5\u8981\u306a\u6642\u306f\u660e\u78ba\u306a\u9577\u3044\u540d\u524d\u3001\u4e0d\u8981\u306a\u6642\u306f\u7c21\u6f54\u306a\u77ed\u3044\u540d\u524d\u3092\u4f7f\u3044\u5206\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u578b\u306b\u30c7\u30b3\u30fc\u30c0\u6a5f\u80fd\u3092\u4ed5\u8fbc\u3080\u30a2\u30d7\u30ed\u30fc\u30c1\u306e\u65b9\u304c\u3001\u6574\u7406\u3055\u308c\u308b\u306e\u3067\u3059\u3002\n\n\u3053\u308c\u306fKotlin\u7b49\u3067\u306e\u5834\u5408\u3067\u3082\u540c\u3058\u3067\u3001 `LoadableStatic` \u306e\u30b5\u30d6\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u5206\u3051\u3066\u304a\u304f\u3053\u3068\u3067\u3001\u4e0d\u8981\u306b\u9577\u3044\u540d\u524d\u306b\u306a\u308b\u3053\u3068\u3092\u9632\u3052\u307e\u3059\u3002\n\n2\u3064\u76ee\u306e\u7406\u7531\u306f\u3001\u65b0\u3057\u3044\u65b9\u306e\u8ffd\u52a0\u6642\u306b\u4f55\u3092\u3059\u3079\u304d\u304b\u304c\u8868\u660e\u3055\u308c\u3066\u3044\u306a\u3044\u3068\u3044\u3046\u4e8b\u3067\u3059\u3002\u4eee\u306b `loadVector3` \u306e\u5b9f\u88c5\u3092\u5fd8\u308c\u3066\u3044\u305f\u3068\u3057\u3066\u3082\u3001\u3053\u308c\u3092\u547c\u3073\u51fa\u3057\u305f\u3044\u3001\u3064\u307e\u308a\u3001 `Vector3` \u3092\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u3068\u3044\u3046\u3068\u304d\u304c\u304f\u308b\u307e\u3067\u3001\u305d\u306e\u5b9f\u88c5\u304c\u6f0f\u308c\u3066\u3044\u308b\u4e8b\u306b\u6c17\u304c\u3064\u3051\u307e\u305b\u3093\u3002 `Vector3` \u306e\u3088\u3046\u306a\u7c21\u5358\u306a\u578b\u306a\u3089\u307e\u3060\u3057\u3082\u3001\u3082\u3063\u3068\u8907\u96d1\u306a\u578b\u3067\u3042\u3063\u305f\u306a\u3089\u3001\u5b9f\u88c5\u304c\u5fc5\u8981\u306b\u306a\u3063\u305f\u305d\u306e\u3068\u304d\u306b\u306f\u305d\u308c\u3092\u5b9f\u88c5\u3059\u308b\u6642\u9593\u304c\u7121\u304b\u3063\u305f\u308a\u3001\u4ed6\u306e\u4eba\u304c\u4f5c\u3063\u305f\u578b\u3067\u8a73\u7d30\u304c\u4e0d\u660e\u3060\u3063\u305f\u308a\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\u305d\u306e\u70b9\u3001Swift\u3067\u306e\u3084\u308a\u65b9\u306e\u5834\u5408\u306a\u3089\u3001\u65b0\u3057\u3044\u578b\u306e\u8ffd\u52a0\u6642\u306b\u306f\u3001\u305d\u306e\u578b\u3092\u6e96\u62e0\u3055\u305b\u308b\u3079\u304d\u30d7\u30ed\u30c8\u30b3\u30eb\u304c\u3042\u308b\u3001\u3068\u3044\u3046\u4e8b\u3060\u3051\u6ce8\u610f\u3059\u308c\u3070\u3001\u5b9f\u88c5\u304c\u6f0f\u308c\u3066\u3044\u308c\u3070\u30b3\u30f3\u30d1\u30a4\u30eb\u304c\u901a\u3089\u306a\u3044\u306e\u3067\u305d\u306e\u3088\u3046\u306a\u5fc3\u914d\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u4f8b\u3048\u3070\u3082\u3057\u3001 `Loadable` \u3068\u306f\u5225\u306b `Savable` \u3068\u3044\u3063\u305f\u4fdd\u5b58\u7528\u306e\u6a5f\u80fd\u3082\u5fc5\u8981\u306b\u306a\u3063\u305f\u308a\u3057\u305f\u3068\u3057\u3066\u3082\u3001\u6700\u521d\u304b\u3089\u3001 `protocol ModelClass : Loadable` \u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u3066\u3001\u65b0\u3057\u3044\u578b\u306f `ModelClass` \u306b\u6e96\u62e0\u3059\u308b\u3088\u3046\u306b\u4f5c\u3063\u3066\u304a\u3051\u3070\u3001 `protocol ModelClass : Loadable, Savable` \u3068\u3001\u5143\u3005\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u8ffd\u52a0\u3057\u3066\u3084\u308b\u3060\u3051\u3067\u3001 `save` \u304c\u672a\u5b9f\u88c5\u3067\u3042\u308b\u7b87\u6240\u304c\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u3088\u3063\u3066\u4e00\u62ec\u3067\u691c\u51fa\u3067\u304d\u307e\u3059\u3002\n\n\u305f\u3060\u3001Kotlin\u7b49\u306e\u5834\u5408\u306f\u3001 `LoadableStatic` \u306e\u5b9f\u88c5\u304c\u6f0f\u308c\u308b\u3068\u3044\u3046\u5fc3\u914d\u306f\u3042\u308a\u307e\u3059\u3002\u305d\u3053\u3067\u3001\u6a5f\u80fd\u4e0a\u306e\u610f\u5473\u306f\u306a\u3044\u3067\u3059\u304c\u3001 `interface ModelClass<T> { fun assertImplementLoadable(): LoadableStatic<T> }` \u306e\u3088\u3046\u306b\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304b\u3089 `LoadableStatic` \u3092\u53d6\u5f97\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u3066\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306b\u30c1\u30a7\u30c3\u30af\u3055\u305b\u308b\u3068\u3044\u3046\u30c6\u30af\u30cb\u30c3\u30af\u3092\u4f7f\u3046\u3068\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\n\n\n\n# \u52d5\u7684\u8a00\u8a9e\u306e\u5834\u5408\n\n\u3053\u308c\u307e\u3067\u306e\u5b9f\u88c5\u65b9\u5f0f\u3092\u3001\u3082\u3057\u578b\u691c\u67fb\u306e\u7121\u3044\u8a00\u8a9e\u306b\u304a\u3044\u3066\u3082\u8003\u3048\u305f\u3089\u3069\u3046\u306a\u308b\u3067\u3057\u3087\u3046\u304b\u3002\u57fa\u672c\u7684\u306b\u306f Kotlin \u306e\u5834\u5408\u3068\u540c\u3058\u72b6\u6cc1\u306b\u306a\u308a\u307e\u3059\u3002\u52d5\u7684\u8a00\u8a9e\u306f\u30af\u30e9\u30b9\u81ea\u4f53\u3078\u306e\u52d5\u7684\u6ce8\u5165\u304c\u3067\u304d\u308b\u3053\u3068\u304c\u591a\u3044\u306e\u3067\u3001 TypeScript \u306b\u8fd1\u304f\u306a\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002\u305d\u3046\u3059\u308b\u3068\u3001 `load(iterator, Company)` \u306b\u3088\u3046\u306b\u66f8\u304f\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u306a\u306e\u3067\u3001\u30c7\u30b3\u30fc\u30c0\u3092\u4f7f\u3046\u3068\u304d\u306e\u624b\u9593\u306f\u3042\u307e\u308a\u304b\u308f\u308a\u307e\u305b\u3093\u3002\u578b\u89e3\u6c7a\u306b\u3088\u308b\u4ed5\u7d44\u307f\u306f\u4f7f\u3048\u306a\u3044\u306e\u3067\u3001Swift\u3084Scala\u306e\u3088\u3046\u306a\u72b6\u614b\u306b\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u3057\u3066\u3001Kotlin\u3068\u306e\u9055\u3044\u3068\u3057\u3066\u306f\u3001\u3053\u306e `load` \u306b\u4e0e\u3048\u305f `LoadableStatic` \u306e\u578b\u304c\u9593\u9055\u3063\u3066\u3044\u305f\u6642\u306b\u3001\u305d\u308c\u304c\u691c\u77e5\u3055\u308c\u306a\u3044\u3068\u3044\u3046\u70b9\u306b\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 `Company` \u306e\u30c7\u30b3\u30fc\u30c0\u3067\u306f\u3001 `load(iterator, ListLoadableStatic(Employee))` \u306a\u3069\u3068\u66f8\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u9593\u9055\u3063\u3066\u3001 `load(iterator, ListLoadableStatic(String))` \u306a\u3069\u3068\u66f8\u3044\u3066\u3044\u3066\u308b\u3068\u3001\u30d0\u30b0\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u308c\u3092\u9759\u7684\u306b\u691c\u51fa\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u306e\u304c\u52d5\u7684\u8a00\u8a9e\u306e\u3068\u304d\u306b\u4e0d\u5229\u306a\u70b9\u3067\u3059\u3002\n\n\n\n# \u4ed6\u306e\u65b9\u5f0f; \u30de\u30af\u30ed\u3084\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3001\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\n\n\u30de\u30af\u30ed\u3084\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3001\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3(\u4ee5\u4e0b\u30de\u30af\u30ed\u3068\u7dcf\u79f0)\u306a\u3069\u306e\u65b9\u5f0f\u3092\u4f7f\u3048\u3070\u3001Swift\u306e\u5834\u5408\u3088\u308a\u3082\u3055\u3089\u306b\u77ed\u304f\u3067\u304d\u307e\u3059\u3002\u3068\u3044\u3046\u304b\u3001\u30af\u30e9\u30b9\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\u3001\u307f\u305f\u3044\u306b\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u65b9\u5f0f\u81ea\u4f53\u306f\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3057\u3001\u30d0\u30f3\u30d0\u30f3\u4f7f\u3048\u3070\u3044\u3044\u3068\u601d\u3044\u307e\u3059\u304c\u3001\u30de\u30af\u30ed\u3092\u4f7f\u308f\u306a\u304b\u3063\u305f\u5834\u5408\u306b\u304a\u3044\u3066\u3082\u7c21\u6f54\u306b\u5b9f\u88c5\u3067\u304d\u308b\u72b6\u614b\u306b\u3057\u3066\u304a\u304f\u3053\u3068\u304c\u5927\u4e8b\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u3053\u306e\u624b\u306e\u65b9\u5f0f\u306f\u4e00\u5207\u4f55\u3082\u66f8\u304b\u306a\u3044\u308f\u3051\u3067\u3059\u304c\u3001\u306a\u3093\u3089\u304b\u306e\u4f8b\u5916\u7684\u306a\u30b1\u30fc\u30b9\u306b\u3088\u3063\u3066\u3001\u305d\u3053\u3060\u3051\u52d5\u4f5c\u3092\u5909\u3048\u305f\u3044\u3068\u3044\u3063\u305f\u8981\u6c42\u304c\u51fa\u3066\u304d\u305f\u5834\u5408\u306b\u3001\u30de\u30af\u30ed\u306b\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304b\u306a\u3063\u3066\u304f\u308b\u3068\u3001\u3088\u304f\u308f\u304b\u3089\u306a\u3044DSL\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u304f\u304b\u3089\u3067\u3059\u3002\u5177\u4f53\u7684\u306a\u4f8b\u3068\u3057\u3066\u306f\u3001 JSON\u3067API\u3092\u7d44\u3093\u3067\u3044\u305f\u3068\u3057\u3066\u3001\u3057\u304b\u3057\u30b5\u30fc\u30d0\u30fc\u304c\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066API\u306e\u4ed5\u69d8\u304c\u5909\u66f4\u3059\u308b\u304b\u3089\u3001\u3053\u306e\u30ad\u30fc\u3060\u3051\u306f\u7121\u304b\u3063\u305f\u5834\u5408\u3067\u3082\u30a8\u30e9\u30fc\u3068\u3057\u306a\u3044\u3067\u7279\u5b9a\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3067\u57cb\u3081\u3066\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3044\u3001\u306a\u3069\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002\u305d\u3046\u3044\u3046\u5834\u5408\u306b\u304a\u3044\u3066\u306f\u3001\u305d\u306e\u30af\u30e9\u30b9\u3060\u3051\u306f\u30de\u30af\u30ed\u306e\u51e6\u7406\u5bfe\u8c61\u304b\u3089\u5916\u3057\u305f\u4e0a\u3067\u3001\u8a00\u8a9e\u4e0a\u3067\u624b\u66f8\u304d\u3059\u308b\u3001\u3068\u3057\u305f\u3044\u308f\u3051\u3067\u3059\u3002\u305d\u306e\u6642\u306b\u3001\u30de\u30af\u30ed\u3092\u4f7f\u308f\u306a\u3044\u5834\u5408\u3067\u306e\u76f4\u63a5\u8a18\u8ff0\u304c\u96e3\u89e3\u3060\u3063\u305f\u308a\u3059\u308b\u3068\u3001\u305d\u3053\u3067\u5b9f\u88c5\u3059\u308b\u306e\u304c\u5927\u5909\u3067\u3059\u3002\u306a\u306e\u3067\u3001\u51fa\u6765\u308b\u9650\u308a\u672c\u4f53\u8a00\u8a9e\u4e0a\u3067\u7c21\u6f54\u306b\u5b9f\u88c5\u3067\u304d\u308b\u4ed5\u7d44\u307f\u3092\u6574\u3048\u3066\u3042\u308b\u3046\u3048\u3067\u3001\u30de\u30af\u30ed\u306b\u3088\u3063\u3066\u305d\u306e\u7c21\u6f54\u306a\u30b3\u30fc\u30c9\u3092\u81ea\u52d5\u751f\u6210\u3059\u308b\u3001\u3068\u3044\u3046\u306e\u304c\u7406\u60f3\u3067\u3059\u3002\u305d\u306e\u89b3\u70b9\u306b\u304a\u3044\u3066\u3001\u30de\u30af\u30ed\u304c\u7121\u304b\u3063\u305f\u5834\u5408\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u6539\u5584\u3059\u308b\u8b70\u8ad6\u306f\u6709\u610f\u7fa9\u3067\u3059\u3002\n\n\n\n# C++\u3067\u306e\u5b9f\u88c5\n\n\u30d0\u30fc\u30b8\u30e7\u30f3: `Apple LLVM version 8.0.0 (clang-800.0.42.1)`\n\n\u6700\u5f8c\u306bC++\u3067\u306e\u5b9f\u88c5\u3092\u793a\u3057\u307e\u3059\u3002\u306a\u305c\u3053\u308c\u3060\u3051\u6700\u5f8c\u306b\u6301\u3063\u3066\u304d\u305f\u304b\u3068\u3044\u3046\u3068\u3001C++\u306f\u3042\u307e\u308a\u306b\u7570\u8cea\u3067\u3042\u308b\u305f\u3081\u3001\u5206\u3051\u3066\u8003\u3048\u305f\u307b\u3046\u304c\u826f\u3044\u304b\u3089\u3067\u3059\u3002\u3053\u306e\u624b\u306e\u578b\u306b\u7d61\u3093\u3060\u8a00\u8a9e\u6a5f\u80fd\u3092\u8003\u3048\u308b\u6642\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u3092\u3082\u3064C++\u306f\u3060\u3044\u305f\u3044\u7570\u8cea\u306a\u5b58\u5728\u3067\u3059\u3002Java\u3088\u308a\u524d\u304b\u3089\u5b58\u5728\u3057\u3066\u3044\u308b\u306e\u306b\u3001\u3067\u304d\u308b\u3053\u3068\u3060\u3051\u306f\u975e\u5e38\u306b\u5148\u7aef\u7684\u3060\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u4eca\u56de\u3082\u305d\u3046\u3067\u3059\u3002\n\n\u307e\u305a `Iterator` \u3068\u304b\u6587\u5b57\u5217\u64cd\u4f5c\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u9069\u5f53\u306b\u7528\u610f\u3057\u307e\u3059\u3002\n\n```cpp\nstd::string Format(const char * format, ...);\nstd::string FormatV(const char * format, va_list ap);\nstd::vector<std::string> Split(const std::string & string, const std::string & separator);\ntemplate <typename T> \nclass Iterator {\npublic:\n\tIterator(const std::vector<T> & array): \n\t\tindex_(0), array_(array) {}\n\tint index_;\n\tstd::vector<T> array_;\n\tT next() {\n\t\tauto ret = array_[index_];\n\t\tindex_ += 1;\n\t\treturn ret;\n\t}\n};\n\nstd::string Format(const char * format, ...) {\n    va_list ap;\n    va_start(ap, format);\n    std::string ret = FormatV(format, ap);\n    va_end(ap);\n    return ret;\n}\n\nstd::string FormatV(const char * format, va_list ap) {\n    va_list ap2;\n    va_copy(ap2, ap);\n    int size = vsnprintf(nullptr, 0, format, ap2) + 1;\n    va_end(ap2);\n    std::vector<char> buf(size);\n    vsnprintf(buf.data(), size, format, ap);\n    return std::string(buf.data());\n}\n\nstd::vector<std::string> Split(const std::string & string, const std::string & separator) {\n\tstd::vector<std::string> ret;\n\tif (string.size() == 0) {\n\t\treturn ret;\n\t}\n\tstd::size_t pos = 0;\n\twhile (true) {\n\t\tstd::size_t found_pos = string.find(separator, pos);\n\t\tif (found_pos == std::string::npos) {\n\t\t\tbreak;\n\t\t}\n\t\tret.push_back(string.substr(pos, found_pos - pos));\n\t\tpos = found_pos + separator.size();\n\t}\n\tret.push_back(string.substr(pos, string.size() - pos));\n\treturn ret;\n}\n```\n\n\u3055\u3066\u3001\u30e2\u30c7\u30eb\u306e\u578b\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```cpp\n//\tcpp\n\nclass Employee {\npublic:\n\tEmployee(const std::string & name, int age): name_(name), age_(age) {}\n\tstd::string name_;\n\tint age_;\n\tstd::string ToString() {\n\t\treturn Format(\"name=%s, age=%d\", name_.c_str(), age_);\n\t}\n};\n\nclass Company {\npublic:\n\tCompany(const std::string & name, const std::vector<Employee> & employees):\n\tname_(name), employees_(employees) {}\n\tstd::string name_;\n\tstd::vector<Employee> employees_;\n\tstd::string ToString() {\n\t\tstd::string str;\n\t\tstr = Format(\"name=%s, employees=\", name_.c_str());\n\t\tfor (auto & e : employees_) {\n\t\t\tstr += Format(\"%s, \", e.ToString().c_str());\n\t\t}\n\t\treturn str;\n\t}\n};\n```\n\n\u3053\u3053\u307e\u3067\u306f\u3060\u3044\u305f\u3044\u4eca\u307e\u3067\u3068\u4e00\u7dd2\u3067\u3059\u3002\u3055\u3066\u3001\u3053\u308c\u307e\u3067\u306a\u3089\u30d7\u30ed\u30c8\u30b3\u30eb\u3084\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u3053\u308d\u3067\u3059\u304c\u3001C++\u3067\u306f\u305d\u306e\u3088\u3046\u306a\u5236\u7d04\u3092\u8a18\u8ff0\u3059\u308b\u69cb\u6587\u304c\u3042\u308a\u307e\u305b\u3093\u3002C++\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306f\u3001\u578b\u5236\u7d04\u3068\u4e00\u7dd2\u306b\u6271\u3046\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u7cfb\u306e\u6a5f\u80fd\u3068\u306f\u7570\u306a\u308a\u3001\u3068\u308a\u3042\u3048\u305a\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5c55\u958b\u3057\u3066\u307f\u3066\u304b\u3089\u30b3\u30f3\u30d1\u30a4\u30eb\u3067\u304d\u308b\u304b\u3069\u3046\u304b\u3067\u8003\u3048\u308b\u3001\u3068\u3044\u3046\u611f\u3058\u3067\u3059\u3002\u305f\u3060\u3001\u305d\u306e\u969b\u306b\u4eca\u56de\u306e\u3088\u3046\u306b\u578b\u306b\u3088\u3063\u3066\u52d5\u4f5c\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u305d\u3082\u305d\u3082\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u5c55\u958b\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u578b\u306b\u3088\u3063\u3066\u5207\u308a\u66ff\u3048\u308b\u4ed5\u639b\u3051\u3092\u4ed5\u8fbc\u307f\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u306b\u3001\u578b `T` \u304cstatic\u30e1\u30bd\u30c3\u30c9 `load` \u3092\u3082\u3064\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u578b\u3092\u3064\u304f\u308a\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u3044\u3063\u305f\u3093\u5168\u3066\u306e\u578b\u304c\u7121\u52b9\u3067\u3042\u308b\u3068\u3057\u3066\u304a\u304d\u307e\u3059\u3002\n\n```cpp\n//\tcpp\n\ntemplate <typename T>\nstruct IsLoadable {\n\tenum { value = false };\n};\n\ntemplate <typename T> \nT load(const std::string & string) {\n\tauto tokens = Split(string, \"/\");\n\tauto iterator = Iterator<std::string>(tokens);\n\treturn load<T>(iterator);\n}\n\ntemplate <typename T>\nT load(Iterator<std::string> & iterator,\n\ttypename std::enable_if<IsLoadable<T>::value>::type * enabler = nullptr) \n{\n\treturn T::load(iterator);\n}\n```\n\n3\u3064\u306e\u8981\u7d20\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u30021\u3064\u76ee\u306e `IsLoadable` \u3068\u3044\u3046\u578b\u306f\u3001\u6e21\u3055\u308c\u305f\u578b\u304c `T::load` \u3092\u547c\u3073\u51fa\u305b\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u578b\u3067\u3059\u3002\u3068\u3044\u3063\u3066\u3082\u3001\u578b\u306e\u5b9a\u7fa9\u3092\u8aad\u307f\u53d6\u3063\u3066\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3068\u3044\u3063\u305f\u3057\u304b\u3051\u306f\u7121\u304f\u3001\u3068\u308a\u3042\u3048\u305a\u5168\u3066 `false` \u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u5f8c\u3067\u4f7f\u3044\u65b9\u3092\u8aac\u660e\u3057\u307e\u3059\u30022\u3064\u76ee\u306e `load` \u306f\u5f93\u6765\u901a\u308a\u306e\u6587\u5b57\u5217\u3092\u53d7\u3051\u53d6\u308b\u3082\u306e\u3067\u3059\u3002\u305d\u3057\u30663\u3064\u76ee\u306e `load` \u304c\u30dd\u30a4\u30f3\u30c8\u3067\u3001 `std::enable_if` \u3068 `IsLoadable` \u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001 `IsLoadable` \u306e\u7d50\u679c\u304c `true` \u306e\u3068\u304d\u3060\u3051\u3001\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5c55\u958b\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u3055\u3066\u6b21\u306b `int` \u3068 `std::string` \u306e\u30c7\u30b3\u30fc\u30c0\u3092\u4f5c\u308a\u307e\u3059\u3002\u3057\u304b\u3057\u3001 `int` \u306f\u7d44\u307f\u8fbc\u307f\u578b\u306e\u305f\u3081static\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3063\u3066\u3044\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u3001\u3053\u306e\u307e\u307e `T::load` \u306e\u30b3\u30fc\u30c9\u306b\u5c55\u958b\u3055\u305b\u3066\u3082\u610f\u5473\u304c\u3042\u308a\u307e\u305b\u3093\u3002 `int` \u3068 `std::string` \u306b\u3064\u3044\u3066\u306f\u3001\u305d\u308c\u305e\u308c\u5c02\u7528\u306e\u5b9f\u88c5\u304c\u5c55\u958b\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n```cpp\n//\tcpp\n\ntemplate <typename T>\nT load(Iterator<std::string> & iterator,\n\ttypename std::enable_if<std::is_same<T, int>::value>::type * enabler = nullptr) \n{\n\tauto x = iterator.next();\n\treturn std::stoi(x);\n}\n\ntemplate <typename T>\nT load(Iterator<std::string> & iterator,\n\ttypename std::enable_if<std::is_same<T, std::string>::value>::type * enabler = nullptr) \n{\n\tauto x = iterator.next();\n\treturn x;\n}\n```\n\n\u3053\u306e\u3088\u3046\u306b\u3001 `std::enable_if` \u3068 `std::is_same` \u3092\u7528\u3044\u308b\u3053\u3068\u3067\u3001 `T` \u306e\u578b\u304c `int` \u306e\u6642\u3068 `std::string` \u306e\u6642\u3060\u3051\u5c55\u958b\u3055\u308c\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002\n\n```cpp\n//\tcpp\n\n\tauto i = load<int>(\"33\");\n\tprintf(\"%d\\n\", i);\n\n\tauto s = load<std::string>(\"abc\");\n\tprintf(\"%s\\n\", s.c_str());\n```\n\n\u826f\u3044\u611f\u3058\u3067\u3059\u3002\n\n\u6b21\u306b\u3001\u8981\u7d20\u306e\u578b\u304c `std::vector` \u306e\u5834\u5408\u306e\u3068\u304d\u306e\u51e6\u7406\u3092\u7528\u610f\u3057\u307e\u3059\u3002\u4eca\u307e\u3067\u306e\u3088\u3046\u306b `std::is_same` \u3067\u5224\u5b9a\u3067\u304d\u308c\u3070\u826f\u3044\u306e\u3067\u3059\u304c\u3001 `std::vector` \u306f\u305d\u308c\u81ea\u4f53\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6301\u3063\u3066\u304a\u308a\u3001\u305d\u306e\u90e8\u5206\u3092\u67d4\u8edf\u306b\u5224\u5b9a\u3059\u308b\u305f\u3081\u306b\u306f\u5de5\u592b\u304c\u5fc5\u8981\u3067\u3059\u3002\u3053\u3053\u3067\u306f\u305d\u306e\u305f\u3081\u306b\u3001\u578b\u304c `std::vector` \u3067\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3059\u308b\u305f\u3081\u306e\u578b\u3001 `IsVector` \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```cpp\n//\tcpp\n\ntemplate <typename T>\nstruct IsVector {\n    enum { value = false };\n};\n\ntemplate <typename T, typename A>\nstruct IsVector<std::vector<T, A>> {\n    enum { value = true };\n};\n```\n\n\u3053\u306e\u3088\u3046\u306b\u3001 `IsLoadable` \u3068\u540c\u3058\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u3064\u3064\u3001 `std::vector` \u306b\u3064\u3044\u3066\u306f `IsLoadable` \u3092\u7279\u6b8a\u5316\u3057\u3066 `value = true` \u306b\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u7fa9\u3057\u307e\u3059\u3002\n\n```cpp\n//\tcpp\n\ntemplate <typename T>\nT load(Iterator<std::string> & iterator, \n\ttypename std::enable_if<IsVector<T>::value>::type * enabler = nullptr) \n{\n\tauto n = load<int>(iterator);\n\tauto ret = std::vector<typename T::value_type>();\n\tfor (int i = 0; i < n; i++) {\n\t\tret.push_back(load<typename T::value_type>(iterator));\n\t}\n\treturn ret;\n}\n```\n\n`std::enable_if` \u3068 `IsVector` \u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001 `T` \u304c `std::vector` \u3067\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u30b3\u30fc\u30c9\u306e\u4e2d\u306b\u304a\u3044\u3066\u306f\u3001 `T` \u304c `std::vector` \u306a\u306e\u3067\u3001\u8981\u7d20\u306e\u578b\u306f `T::value_type` \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\n\n\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u547c\u3073\u51fa\u305b\u307e\u3059\u3002\n\n```cpp\n//\tcpp\n\n\tauto a = load<std::vector<std::string>>(\"3/apple/banana/cherry\");\n\tfor (auto & ax : a) {\n\t\tprintf(\"%s\\n\", ax.c_str());\n\t}\n```\n\n\u3055\u3066\u3001\u3053\u306e\u7b4b\u3067\u3044\u3051\u3070 `Employee` \u3068 `Company` \u306b\u3064\u3044\u3066\u3082\u3001 `int` \u3068 `std::string` \u3068\u540c\u3058\u3088\u3046\u306b\u6ce8\u5165\u3059\u308b\u5f62\u3067\u5b9f\u88c5\u3067\u304d\u3066\u3057\u307e\u3046\u306e\u3067\u3001\u3053\u3044\u3064\u3089\u306bstatic\u30e1\u30bd\u30c3\u30c9\u3092\u66f8\u3044\u305f\u5834\u5408\u306e\u66f8\u304d\u65b9\u3067\u3084\u3063\u3066\u307f\u307e\u3059\u3002\n\n```cpp\n//\tcpp\n\nclass Employee {\n\t...\n\n\tstatic Employee load(Iterator<std::string> & iterator);\n};\n\nclass Company {\n\t...\n\n\tstatic Company load(Iterator<std::string> & iterator);\n};\n\ntemplate <>\nstruct IsLoadable<Employee> {\n\tenum { value = true };\n};\n\ntemplate<>\nstruct IsLoadable<Company> {\n\tenum { value = true };\n};\n\nEmployee Employee::load(Iterator<std::string> & iterator) {\n\tauto name = ::load<std::string>(iterator);\n\tauto age = ::load<int>(iterator);\n\treturn Employee(name, age);\n}\n\nCompany Company::load(Iterator<std::string> & iterator) {\n\tauto name = ::load<std::string>(iterator);\n\tauto employees = ::load<std::vector<Employee>>(iterator);\n\treturn Company(name, employees);\n}\n```\n\nstatic\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3059\u308b\u3068\u3053\u308d\u306f\u3054\u304f\u666e\u901a\u3067\u3059\u3002\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306f\u3001C++\u306f\u95a2\u6570\u5f15\u6570\u306e\u8a55\u4fa1\u9806\u5e8f\u306e\u4fdd\u8a3c\u304c\u7121\u304b\u3063\u305f\u6c17\u304c\u3059\u308b\u306e\u3067\u3001\u3044\u3063\u305f\u3093\u30ed\u30fc\u30ab\u30eb\u5909\u6570\u306b\u4ee3\u5165\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u5185\u90e8\u3067\u5916\u5074\u306e `load` \u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b `::load` \u3068\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u4e8b\u524d\u306b\u5b9a\u7fa9\u3057\u3066\u304a\u3044\u305f `IsLoadable` \u3092\u7279\u6b8a\u5316\u3057\u3066 `Employee` \u3068 `Company` \u306e\u5834\u5408\u306b `value = true` \u3068\u3059\u308b\u4e8b\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u3063\u3066 `T::load` \u306e\u7248\u304c\u5c55\u958b\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002`T::load` \u306e\u7248\u304c\u5c55\u958b\u3055\u308c\u305f\u5f8c\u3001\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u305d\u3053\u3067\u5177\u8c61\u5316\u3055\u308c\u305f `T` \u306b\u5bfe\u3057\u3066\u3001\u672c\u5f53\u306b `load` \u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u3053\u3053\u3067 `load` \u304c\u7121\u3051\u308c\u3070\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\n\u547c\u3073\u51fa\u3057\u306f\u4e0b\u8a18\u306e\u3068\u304a\u308a\u3067\u3059\u3002\n\n```cpp\n//\tcpp\n\n\tauto c = load<Company>(\"CatWorld/3/tama/5/mike/6/kuro/7\");\n\tprintf(\"%s\\n\", c.ToString().c_str());\n```\n\nC++\u306e\u5b9f\u88c5\u306f\u3053\u308c\u307e\u3067\u306e\u3069\u308c\u3068\u3082\u9055\u3046\u611f\u3058\u3067\u3059\u3002\u5b9f\u8cea\u7684\u306b\u3001C++\u3088\u308a\u4e00\u3064\u4e0a\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u578b\u306b\u95a2\u3059\u308b\u30e1\u30bf\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3092\u3057\u3066\u3044\u308b\u3088\u3046\u306a\u3082\u306e\u3067\u3001Swift\u304c\u81ea\u52d5\u3067\u3084\u308b\u3088\u3046\u306a\u9759\u7684\u306a\u5177\u8c61\u5316\u30b3\u30fc\u30c9\u306e\u751f\u6210\u3092\u534a\u5206\u30d7\u30ed\u30b0\u30e9\u30de\u304c\u5236\u5fa1\u3057\u306a\u304c\u3089\u3084\u3063\u3066\u3044\u308b\u72b6\u614b\u3068\u3044\u3048\u308b\u3067\u3057\u3087\u3046\u3002\u4e00\u65b9\u3067C++\u304cSwift\u3068\u304f\u3089\u3079\u3066\u7279\u5fb4\u7684\u306a\u306e\u306f\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5c55\u958b\u306f\u5e38\u306b\u5177\u8c61\u5316\u3055\u308c\u308b\u3068\u3044\u3046\u70b9\u3067\u3059\u3002Swift\u306f\u6700\u9069\u5316\u3068\u3057\u3066\u306e\u5177\u8c61\u5316\u7248\u3092\u751f\u6210\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001C++\u306e\u5834\u5408\u306f\u3001\u6c4e\u7528\u306e\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u7248\u306f\u305d\u3082\u305d\u3082\u751f\u6210\u3055\u308c\u307e\u305b\u3093\u3002\u5fc5\u305a\u5177\u8c61\u5316\u3055\u308c\u308b\u306e\u3067\u3059\u3002\u305d\u306e\u305f\u3081\u3001C++\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30af\u30e9\u30b9\u306f\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u914d\u5e03\u3059\u308b\u5834\u5408\u306f\u30bd\u30fc\u30b9\u304c\u5168\u90e8\u516c\u958b\u3055\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u3053\u308c\u306f\u4ed6\u306e\u8a00\u8a9e\u306b\u306f\u7121\u3044\u7279\u5fb4\u3067\u3059\u3002\n\n\n\n# \u30bd\u30fc\u30b9\n\n[\u5168\u3066\u306e\u30bd\u30fc\u30b9\u3092github\u306b\u30a2\u30c3\u30d7\u3057\u3066\u3042\u308a\u307e\u3059\u3002](https://github.com/omochi/qiita-static-method)\n\n\n\n# \u6539\u8a02\u5c65\u6b74\n\n- 2017/03/01: [norio_nomura\u3055\u3093](http://qiita.com/norio_nomura)\u306e\u30c4\u30c3\u30b3\u30df\u3092\u53d7\u3051\u3066\u6539\u8a02\u3002swift\u306b\u304a\u3044\u3066\u3001loadArray\u3092\u5b9a\u7fa9\u3059\u308b\u4f8b\u3092\u3001load\u306e\u8fd4\u308a\u5024\u578b\u30aa\u30fc\u30d0\u30fc\u30ed\u30fc\u30c9\u306b\u5909\u66f4\u3002\n- 2017/02/27: [heqate\u3055\u3093](http://qiita.com/heqate)\u306e\u30c4\u30c3\u30b3\u30df\u3092\u53d7\u3051\u3066\u6539\u8a02\u3002kotlin\u306b\u304a\u3044\u3066\u3001\u5177\u8c61\u5316\u3055\u308c\u305f\u578b\u3054\u3068\u306e\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30af\u30e9\u30b9\u3078\u306eextension\u30e1\u30bd\u30c3\u30c9\u5b9f\u88c5\u306b\u3088\u308b\u5b9f\u88c5\u65b9\u5f0f\u306b\u3064\u3044\u3066\u8ffd\u8a18\u3002\n- 2017/02/24: \u6295\u7a3f\n\n\n\n\n[^1]: [heqate\u3055\u3093\u304c\u30b3\u30e1\u30f3\u30c8](http://qiita.com/omochimetaru/items/621f1ef62b9798ee5ff5#comment-30bb5ab570b0435c3768) \u3067\u63d0\u793a\u3057\u3066\u3044\u308b\u3088\u3046\u306b\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30af\u30e9\u30b9\u306e\u30a8\u30af\u30b9\u30c6\u30f3\u30b7\u30e7\u30f3\u3092\u3001\u5177\u8c61\u5316\u3055\u308c\u305f\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3054\u3068\u306b\u5b9f\u88c5\u3059\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\u3057\u304b\u3057\u3001 `create` + `load` \u306e\u3088\u3046\u306b\u56fa\u5b9a\u306e\u5197\u9577\u306a\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u304c\u5fc5\u8981\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u306a\u3063\u3066\u3057\u307e\u3063\u3066\u304a\u308a\u4f7f\u3044\u3084\u3059\u304f\u306a\u3044\u4e0a\u3001\u8a18\u4e8b\u3067\u8a00\u8a9e\u3092\u307e\u305f\u3044\u3067\u7d71\u4e00\u3057\u3066\u3044\u308b\u8a2d\u8a08\u3068\u3082\u5408\u81f4\u3057\u306a\u3044\u305f\u3081\u3001\u3053\u3053\u3067\u306f\u305d\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u53d6\u308a\u4e0a\u3052\u307e\u305b\u3093\u3002\u4eee\u306b\u3053\u3053\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u5177\u8c61\u5316\u306e\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u3088\u308a\u7c21\u6f54\u306a\u5f62\u3084\u8a18\u4e8b\u306b\u305d\u3063\u305f\u5f62\u306b\u3057\u3088\u3046\u3068\u3057\u3066\u3082\u3001\u6b8b\u5ff5\u306a\u304c\u3089\u3069\u3046\u3057\u3066\u3082\u3053\u306e\u3088\u3046\u306a\u5f62\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u7406\u7531\u306f\u3001 `inline` \u5c55\u958b\u306b\u4f34\u3046\u8a00\u8a9e\u6a5f\u80fd\u4e0a\u306e\u5236\u7d04\u304c\u53b3\u3057\u3044\u304b\u3089\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u306a inline \u95a2\u6570\u306e\u5185\u90e8\u3067 `LoadableStatic` \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u3063\u3066\u3001 `load` \u306e\u7b2c2\u5f15\u6570\u306b\u6e21\u305d\u3046\u3068\u3057\u305f\u308a\u3001\u7b2c2\u5f15\u6570\u306b\u675f\u7e1b\u3057\u305f\u30af\u30ed\u30fc\u30b8\u30e3\u3092\u623b\u305d\u3046\u3068\u3057\u305f\u308a\u3057\u3066\u3082\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u6642\u306b\u6c4e\u7528\u306e `T` \u3068\u3057\u3066\u306e\u59a5\u5f53\u6027\u304c\u8981\u6c42\u3055\u308c\u3066\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\u3002\n\n\n\n\n", "tags": ["Swift", "Kotlin", "TypeScript", "Scala", "C++"]}