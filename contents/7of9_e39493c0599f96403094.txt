{"context": "\n\u52d5\u4f5c\u74b0\u5883\nC++ Builder XE4\n\n\n\u95a2\u9023 http://qiita.com/7of9/items/9fa80d146d3fab63a71b\nTClientSocket\u306e\u901a\u4fe1\u5207\u65ad\u306e\u75c7\u72b6\u306e\u5bfe\u51e6\u3068\u3057\u3066Indy\u306eTCP/IP\u901a\u4fe1\u306b\u5b9f\u88c5\u3092\u5909\u66f4\u3057\u3066\u3044\u308b\u3002\n\u8aad\u8fbc\u307f\u306e\u65b9\u306f\u52d5\u304d\u51fa\u3057\u305f\u3002\n\u66f8\u8fbc\u307f\u51e6\u7406\u304c\u5931\u6557\u3057\u3066\u3044\u308b\u3088\u3046\u3060\u3002\n\n\u5931\u6557\u4f8b\n\nUnit1.cpp\n    char zbuf[50] = // \u4f55\u304b\u306e\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\n    for(int idx=0; idx < len; idx++) {\n    IdTCPClient1->IOHandler->Write(&zbuf[idx]);\n    }\n\n\n\u4e0a\u8a18\u306e\u9001\u4fe1\u65b9\u6cd5\u3067\u306f\u5931\u6557\u3057\u3066\u3044\u305f\u3002\n\u7406\u7531\u3068\u3057\u3066\u306fASCII\u3067\u6271\u3048\u306a\u3044>=128\u306e\u5024\u304c\u5165\u3063\u305f\u6642\u306e\u51e6\u7406\u306b\u95a2\u9023\u3059\u308b\u3068\u601d\u308f\u308c\u308b\u3002\n\n\u6210\u529f\u4f8b\n\u4ee5\u4e0b\u3067\u9001\u4fe1\u3067\u304d\u305f\u3088\u3046\u3060\u3002\n\u8aad\u8fbc\u307f\u306fReadStream()\u3068\u3044\u3046API\u304c\u3042\u308b\u4e00\u65b9\u3001\u66f8\u8fbc\u307f\u306fWrite()\u306e\u3088\u3046\u3060\u3002\n\nUnit1.cpp\n#include <memory> // for unique_ptr\n\n...\n    std::unique_ptr<TMemoryStream> strm(new TMemoryStream());\n    strm->Write(pkt, len);\n    strm->Seek(0, 0); // \u5148\u982d\u306b\u623b\u308b\n    IdTCPClient1->IOHandler->Write(strm.get(), len);\n...\n\n\nTClientSocket\u3067\u306e\u52d5\u4f5c\u3068\u540c\u3058\u901a\u4fe1\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n```txt:\u52d5\u4f5c\u74b0\u5883\nC++ Builder XE4\n```\n\n\u95a2\u9023 http://qiita.com/7of9/items/9fa80d146d3fab63a71b\n\nTClientSocket\u306e\u901a\u4fe1\u5207\u65ad\u306e\u75c7\u72b6\u306e\u5bfe\u51e6\u3068\u3057\u3066Indy\u306eTCP/IP\u901a\u4fe1\u306b\u5b9f\u88c5\u3092\u5909\u66f4\u3057\u3066\u3044\u308b\u3002\n\u8aad\u8fbc\u307f\u306e\u65b9\u306f\u52d5\u304d\u51fa\u3057\u305f\u3002\n\n\u66f8\u8fbc\u307f\u51e6\u7406\u304c\u5931\u6557\u3057\u3066\u3044\u308b\u3088\u3046\u3060\u3002\n\n### \u5931\u6557\u4f8b\n\n```Unit1.cpp\n    char zbuf[50] = // \u4f55\u304b\u306e\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\n    for(int idx=0; idx < len; idx++) {\n\tIdTCPClient1->IOHandler->Write(&zbuf[idx]);\n    }\n```\n\n\u4e0a\u8a18\u306e\u9001\u4fe1\u65b9\u6cd5\u3067\u306f\u5931\u6557\u3057\u3066\u3044\u305f\u3002\n\u7406\u7531\u3068\u3057\u3066\u306fASCII\u3067\u6271\u3048\u306a\u3044>=128\u306e\u5024\u304c\u5165\u3063\u305f\u6642\u306e\u51e6\u7406\u306b\u95a2\u9023\u3059\u308b\u3068\u601d\u308f\u308c\u308b\u3002\n\n### \u6210\u529f\u4f8b\n\n\u4ee5\u4e0b\u3067\u9001\u4fe1\u3067\u304d\u305f\u3088\u3046\u3060\u3002\n\n\u8aad\u8fbc\u307f\u306fReadStream()\u3068\u3044\u3046API\u304c\u3042\u308b\u4e00\u65b9\u3001\u66f8\u8fbc\u307f\u306fWrite()\u306e\u3088\u3046\u3060\u3002\n\n```Unit1.cpp\n#include <memory> // for unique_ptr\n\n...\n\tstd::unique_ptr<TMemoryStream> strm(new TMemoryStream());\n\tstrm->Write(pkt, len);\n\tstrm->Seek(0, 0); // \u5148\u982d\u306b\u623b\u308b\n\tIdTCPClient1->IOHandler->Write(strm.get(), len);\n...\n```\n\nTClientSocket\u3067\u306e\u52d5\u4f5c\u3068\u540c\u3058\u901a\u4fe1\u7d50\u679c\u304c\u5f97\u3089\u308c\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3002\n\n\n", "tags": ["cppBuilder", "indy", "naming"]}