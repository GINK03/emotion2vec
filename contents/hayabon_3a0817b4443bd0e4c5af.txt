{"context": " More than 1 year has passed since last update.ffmpeg Advent Calendar 2014 7\u65e5\u76ee\u3067\u3059\u3002\n\u521d\u6295\u7a3f\u3067\u3059\u304c\u3001\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\nNDK\u30d3\u30eb\u30c9\u74b0\u5883\u306f\nWindows7 Professional 64bit\nVMware Player 6.0.3\nUbuntu 12.04 64bit\nEclipse Kepler Service Release 2\nAndroid NDK Revision 10c\n\u3067\u3059\n\n\u4e8b\u524d\u6e96\u5099\nFFmpeg\u3067\u30a6\u30a9\u30fc\u30bf\u30fc\u30de\u30fc\u30af\u3092\u8ffd\u52a0\u3059\u308b\u52d5\u753b(mp4)\u3068\u753b\u50cf\u30d5\u30a1\u30a4\u30eb(png)\n\nNDK\u30d3\u30eb\u30c9\u74b0\u5883\u69cb\u7bc9\n\nVMwarePlayer\u3068Ubuntu 12.04(64bit)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVMware Player\u3092Windows7\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\nOpenJDK 6,7\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nHow to download and install prebuilt OpenJDK packages\uff1aOpenJDK\u516c\u5f0f\nsudo apt-get -yV install openjdk-7-jre\nsudo apt-get -yV install openjdk-6-jre\n\n\nOpenJDK\u3092\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\nsudo update-java-alternatives --jre -s `sudo update-java-alternatives -l | grep 1.7.0 | awk '{print $1}'`\nsudo update-java-alternatives --jre-headless -s `sudo update-java-alternatives -l | grep 1.7.0 | awk '{print $1}'`\nsudo update-java-alternatives -s `sudo update-java-alternatives -l | grep 1.7.0 | awk '{print $1}'` \n\n\n\u8a2d\u5b9a\u306e\u78ba\u8a8d\u3068JAVA_HOME\u8a2d\u5b9a\nUbuntu \u3067 Android NDK \u3092\u4f7f\u3063\u3066\u307f\u308b\n\n\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001/usr/lib/jvm/java-7-openjdk-amd64...\u306e\u884c\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\nsudo update-alternatives --config java \n\n\njava\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n\nupdate-java-alternatives -l \njava -version \n\n\n\u74b0\u5883\u5909\u6570 JAVA_HOME \u306e\u8a2d\u5b9a\uff08~/.bashrc \u306e\u8a2d\u5b9a\u4f8b\uff09\n\nexport JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64\nexport PATH=/usr/lib/jvm/java-7-openjdk-amd64/jre/bin:$PATH\nexport CLASSPATH=.:/usr/lib/jvm/java-7-openjdk-amd64/lib\n\n\nAndroid SDK\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nUbuntu 12.04 \u3067 Android SDK \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30c6\u30b9\u30c8\u5b9f\u884c\n\n\nAndroid\u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089SDK Tools Only\u306eLinux 32 & 64-bit\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\uff08\u3053\u3053\u3067\u306f/usr/local\u3092\u6307\u5b9a) \ncd /usr/local\nsudo tar -xvzof /tmp/android-sdk_r23.0.2-linux.tgz\n\n\n\u30d5\u30a1\u30a4\u30eb\u306e\u6240\u6709\u8005\u306e\u5909\u66f4\n\nsudo chown -R \uff1c\u30e6\u30fc\u30b6\u540d\uff1e /usr/local/android-sdk-linux\n\n\nAVD Manager \u306e\u8d77\u52d5\n\nAndroid SDK Platform-tools \u3068 Android 2.3.3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\ncd /usr/local\ncd android-sdk-linux\nsudo ./tools/android\n\n\n\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\uff08~/.bashrc \u306e\u8a2d\u5b9a\u4f8b\uff09\n\nexport PATH=$PATH:/usr/local/android-sdk-linux/tools:/usr/local/android-sdk-linux/platform-tools\n\n\nEclipse\u3068\u5404\u7a2e\u30d7\u30e9\u30b0\u30a4\u30f3\u3001Pleiades(\u65e5\u672c\u8a9e\u5316\u30d7\u30e9\u30b0\u30a4\u30f3)\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get -yV install eclipse\nsudo apt-get -yV install eclipse-cdt\nsudo apt-get -yV install eclipse-jdt\nsudo apt-get -yV install eclipse-sdk\nsudo apt-get -yV install eclipse-platform\nsudo apt-get -yV install eclipse-platform-data\nsudo apt-get -yV install eclipse-plugin-cvs\nsudo apt-get -yV install eclipse-rcp\nsudo apt-get -yV install pleiades \n\n\nPleiades\u306e\u8a2d\u5b9a\u3092/usr/local/eclipse/eclipse.ini\u306b\u8ffd\u52a0\u3059\u308b\n\n-javaagent:/usr/local/eclipse/plugins/jp.sourceforge.mergedoc.pleiades/pleiades.jar\n\n\nEclipse\u3092\u8a66\u3057\u306b\u8d77\u52d5\u3059\u308b\n\neclipse\n\n\nADT\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nUbuntu \u3067 Eclipst \u3068 Eclipse \u306e ADT \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\n\u300cEclipse ADT (Eclipse \u306e\u30d7\u30e9\u30b0\u30a4\u30f3 Android Development Tools) \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\n\u3092\u53c2\u8003\u306b\u5b9f\u65bd\n\nCDT(C/C++\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u74b0\u5883)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nEclipse \u306b C/C++ \u958b\u767a\u30c4\u30fc\u30eb (CDT) \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\n\u300cC/C++ \u958b\u767a\u30c4\u30fc\u30eb (CDT) \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806 \u300d\u3092\u53c2\u8003\u306b\u5b9f\u65bd\n\nNDK\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nUbuntu \u3067 Android NDK \u3092\u4f7f\u3063\u3066\u307f\u308b \u3092\u53c2\u8003\u306b\u5b9f\u65bd\n\nFFmpeg\u30e9\u30a4\u30d6\u30e9\u30ea\u79fb\u690d\n\u4eca\u56de\u306f\u3001FFmpeg\u306eAndroid\u5411\u3051\u30d3\u30eb\u30c9\u30d1\u30c3\u30b1\u30fc\u30b8halfninja:android-ffmpeg-x264\u306e\nFork\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089m4fg:android-ffmpeg-x264\u3092\u304a\u501f\u308a\u3057\u307e\u3057\u305f\u3002\n\nGit\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt-get -yV install git-core\n\n\nGit\u304b\u3089m4fg:android-ffmpeg-x264\u3092\u30af\u30ed\u30fc\u30f3\ngit clone https://github.com/m4fg/android-ffmpeg-x264.git --recursive\n\n\n\u521d\u671f\u8a2d\u5b9a\n\u74b0\u5883\u5909\u6570\u306bNDK\u306e\u30d1\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u5b9f\u884c\n(\u4f8b\uff1aexport NDK=/usr/local/android-ndk-r10c)\ncd Project/jni\n./create_toolchain.sh\n\n\n\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d3\u30eb\u30c9\n./config_make_everything.sh\nndk-build\n\n\u30d3\u30eb\u30c9\u6b63\u5e38\u7d42\u4e86\u5f8c\u3001libs/armeabi/videokit.so\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\nEclipse\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\nEclipse\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53d6\u308a\u8fbc\u3080\u306b\u306f\n\nAndroidManifest.xml\u306b\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\n<uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/>\n\n\nVideokit.java\u3092\u5c11\u3057\u3060\u3051\u4fee\u6b63\npackage uk.co.halfninja.videokit;\n\npublic final class Videokit {\n\n  static {\n    System.loadLibrary(\"videokit\");\n  }\n\n//public native void run(String[] args);\n  public native void run(String args);\n\n}\n\n\nFFmepg\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\n\u4e00\u5b9a\u306e\u6642\u9593\u9593\u9694\u3067\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u65b9\u6cd5:superuser\nAndroid\u7aef\u672b\u306e/mnt/sdcard\u306b\n\u30a6\u30a9\u30fc\u30bf\u30fc\u30de\u30fc\u30af\u3092\u8ffd\u52a0\u3059\u308b\u52d5\u753b(sample.mp4)\u3068\u753b\u50cf(sample.png)\u3092\u8a2d\u7f6e\u3057\u3066\u3001\n\u4e0b\u8a18\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\nimport uk.co.halfninja.videokit.Videokit;\n\n    Videokit videoKit = new Videokit();\n\n    String strj = new String(\"ffmpeg\\n\");\n    strj = strj + \"-i\\n/mnt/sdcard/sample.mp4\\n\";\n    strj = strj + \"-i\\n/mnt/sdcard/sample.png\\n\";\n    strj = strj + \"-filter_complex\\n[0:v][1:v]overlay=main_w-overlay_w-10:main_h-overlay_h-10[out]\\n\";\n    strj = strj + \"-map\\n[out]\\n\";\n    strj = strj + \"-map\\n0:a\\n\";\n    strj = strj + \"-codec:a\\ncopy\\n\";\n    strj = strj + \"/mnt/sdcard/output.mp4\";\n    videoKit.run(strj);\n\n/mnt/sdcard\u306boutput.mp4\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u308c\u3070\u6210\u529f\u3067\u3059\u3002\nffmpeg Advent Calendar 2014 7\u65e5\u76ee\u3067\u3059\u3002\n\u521d\u6295\u7a3f\u3067\u3059\u304c\u3001\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u3002\n\nNDK\u30d3\u30eb\u30c9\u74b0\u5883\u306f\nWindows7 Professional 64bit\nVMware Player 6.0.3\nUbuntu 12.04 64bit\nEclipse Kepler Service Release 2\nAndroid NDK Revision 10c\n\u3067\u3059\n\n#\u4e8b\u524d\u6e96\u5099\nFFmpeg\u3067\u30a6\u30a9\u30fc\u30bf\u30fc\u30de\u30fc\u30af\u3092\u8ffd\u52a0\u3059\u308b\u52d5\u753b(mp4)\u3068\u753b\u50cf\u30d5\u30a1\u30a4\u30eb(png)\n\n#NDK\u30d3\u30eb\u30c9\u74b0\u5883\u69cb\u7bc9\n###VMwarePlayer\u3068Ubuntu 12.04(64bit)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[VMware Player\u3092Windows7\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b](http://www2.rikkyo.ac.jp/~tokiwa/menu/bioLib/os/windows/vmware_ubuntu.html)\n\n###OpenJDK 6,7\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[How to download and install prebuilt OpenJDK packages\uff1aOpenJDK\u516c\u5f0f](http://openjdk.java.net/install/)\n\n```bash\nsudo apt-get -yV install openjdk-7-jre\nsudo apt-get -yV install openjdk-6-jre\n```\n\n###OpenJDK\u3092\u4f7f\u3046\u3088\u3046\u306b\u8a2d\u5b9a\n\n```bash\nsudo update-java-alternatives --jre -s `sudo update-java-alternatives -l | grep 1.7.0 | awk '{print $1}'`\nsudo update-java-alternatives --jre-headless -s `sudo update-java-alternatives -l | grep 1.7.0 | awk '{print $1}'`\nsudo update-java-alternatives -s `sudo update-java-alternatives -l | grep 1.7.0 | awk '{print $1}'` \n```\n\n###\u8a2d\u5b9a\u306e\u78ba\u8a8d\u3068JAVA_HOME\u8a2d\u5b9a\n[Ubuntu \u3067 Android NDK \u3092\u4f7f\u3063\u3066\u307f\u308b](http://www.kkaneko.jp/rinkou/js/andk.html)\n\n* \u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3001/usr/lib/jvm/java-7-openjdk-amd64...\u306e\u884c\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\n\n```bash\nsudo update-alternatives --config java \n```\n\n* java\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\n\n```bash\nupdate-java-alternatives -l \njava -version \n```\n\n* \u74b0\u5883\u5909\u6570 JAVA_HOME \u306e\u8a2d\u5b9a\uff08~/.bashrc \u306e\u8a2d\u5b9a\u4f8b\uff09\n\n```bash\nexport JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64\nexport PATH=/usr/lib/jvm/java-7-openjdk-amd64/jre/bin:$PATH\nexport CLASSPATH=.:/usr/lib/jvm/java-7-openjdk-amd64/lib\n```\n\n###Android SDK\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[Ubuntu 12.04 \u3067 Android SDK \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u30c6\u30b9\u30c8\u5b9f\u884c](http://www.kkaneko.jp/rinkou/js/adsk.html)\n\n* [Android\u516c\u5f0f\u30b5\u30a4\u30c8](http://developer.android.com/sdk/index.html)\u304b\u3089SDK Tools Only\u306eLinux 32 & 64-bit\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\n\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u89e3\u51cd\uff08\u3053\u3053\u3067\u306f/usr/local\u3092\u6307\u5b9a) \n\n```bash\ncd /usr/local\nsudo tar -xvzof /tmp/android-sdk_r23.0.2-linux.tgz\n```\n\n* \u30d5\u30a1\u30a4\u30eb\u306e\u6240\u6709\u8005\u306e\u5909\u66f4\n\n```bash\nsudo chown -R \uff1c\u30e6\u30fc\u30b6\u540d\uff1e /usr/local/android-sdk-linux\n```\n\n* AVD Manager \u306e\u8d77\u52d5\n\nAndroid SDK Platform-tools \u3068 Android 2.3.3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\n\n```bash\ncd /usr/local\ncd android-sdk-linux\nsudo ./tools/android\n```\n\n* \u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\uff08~/.bashrc \u306e\u8a2d\u5b9a\u4f8b\uff09\n\n```bash\nexport PATH=$PATH:/usr/local/android-sdk-linux/tools:/usr/local/android-sdk-linux/platform-tools\n```\n\n###Eclipse\u3068\u5404\u7a2e\u30d7\u30e9\u30b0\u30a4\u30f3\u3001Pleiades(\u65e5\u672c\u8a9e\u5316\u30d7\u30e9\u30b0\u30a4\u30f3)\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\nsudo apt-get -yV install eclipse\nsudo apt-get -yV install eclipse-cdt\nsudo apt-get -yV install eclipse-jdt\nsudo apt-get -yV install eclipse-sdk\nsudo apt-get -yV install eclipse-platform\nsudo apt-get -yV install eclipse-platform-data\nsudo apt-get -yV install eclipse-plugin-cvs\nsudo apt-get -yV install eclipse-rcp\nsudo apt-get -yV install pleiades \n```\n\n* Pleiades\u306e\u8a2d\u5b9a\u3092/usr/local/eclipse/eclipse.ini\u306b\u8ffd\u52a0\u3059\u308b\n\n```bash\n-javaagent:/usr/local/eclipse/plugins/jp.sourceforge.mergedoc.pleiades/pleiades.jar\n```\n\n* Eclipse\u3092\u8a66\u3057\u306b\u8d77\u52d5\u3059\u308b\n\n```bash\neclipse\n```\n\n###ADT\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n[Ubuntu \u3067 Eclipst \u3068 Eclipse \u306e ADT \u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://www.kkaneko.jp/rinkou/js/eclipseadt.html)\u306e\n\u300cEclipse ADT (Eclipse \u306e\u30d7\u30e9\u30b0\u30a4\u30f3 Android Development Tools) \u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u300d\n\u3092\u53c2\u8003\u306b\u5b9f\u65bd\n\n###CDT(C/C++\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u74b0\u5883)\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n[Eclipse \u306b C/C++ \u958b\u767a\u30c4\u30fc\u30eb (CDT) \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](http://www.kkaneko.jp/rinkou/javaintro/cdt.html)\u306e\n\u300cC/C++ \u958b\u767a\u30c4\u30fc\u30eb (CDT) \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806 \u300d\u3092\u53c2\u8003\u306b\u5b9f\u65bd\n\n###NDK\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n[Ubuntu \u3067 Android NDK \u3092\u4f7f\u3063\u3066\u307f\u308b ](http://www.kkaneko.jp/rinkou/js/andk.html)\u3092\u53c2\u8003\u306b\u5b9f\u65bd\n\n#FFmpeg\u30e9\u30a4\u30d6\u30e9\u30ea\u79fb\u690d\n\u4eca\u56de\u306f\u3001FFmpeg\u306eAndroid\u5411\u3051\u30d3\u30eb\u30c9\u30d1\u30c3\u30b1\u30fc\u30b8[halfninja:android-ffmpeg-x264](https://github.com/halfninja/android-ffmpeg-x264)\u306e\nFork\u30ea\u30dd\u30b8\u30c8\u30ea\u304b\u3089[m4fg:android-ffmpeg-x264](https://github.com/m4fg/android-ffmpeg-x264)\u3092\u304a\u501f\u308a\u3057\u307e\u3057\u305f\u3002\n\n###Git\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\n\n```bash\nsudo apt-get -yV install git-core\n```\n\n###Git\u304b\u3089m4fg:android-ffmpeg-x264\u3092\u30af\u30ed\u30fc\u30f3\n\n```bash\ngit clone https://github.com/m4fg/android-ffmpeg-x264.git --recursive\n```\n\n###\u521d\u671f\u8a2d\u5b9a\n\n\u74b0\u5883\u5909\u6570\u306bNDK\u306e\u30d1\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u5b9f\u884c\n(\u4f8b\uff1aexport NDK=/usr/local/android-ndk-r10c)\n\n```bash\ncd Project/jni\n./create_toolchain.sh\n```\n\n###\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d3\u30eb\u30c9\n```bash\n./config_make_everything.sh\nndk-build\n```\n\u30d3\u30eb\u30c9\u6b63\u5e38\u7d42\u4e86\u5f8c\u3001libs/armeabi/videokit.so\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\n\n###Eclipse\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\n\n[Eclipse\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u53d6\u308a\u8fbc\u3080\u306b\u306f](http://www.adakoda.com/android/000220.html)\n\n###AndroidManifest.xml\u306b\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\n\n```xml\n<uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/>\n```\n\n###Videokit.java\u3092\u5c11\u3057\u3060\u3051\u4fee\u6b63\n\n```java\npackage uk.co.halfninja.videokit;\n\npublic final class Videokit {\n\n  static {\n    System.loadLibrary(\"videokit\");\n  }\n  \n//public native void run(String[] args);\n  public native void run(String args);\n\n}\n```\n\n###FFmepg\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\n\n[\u4e00\u5b9a\u306e\u6642\u9593\u9593\u9694\u3067\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4\u753b\u50cf\u3092\u8868\u793a\u3059\u308b\u65b9\u6cd5:superuser](http://superuser.com/questions/713498/how-to-show-overlay-image-in-a-certain-time-span-with-ffmpeg)\n\nAndroid\u7aef\u672b\u306e/mnt/sdcard\u306b\n\u30a6\u30a9\u30fc\u30bf\u30fc\u30de\u30fc\u30af\u3092\u8ffd\u52a0\u3059\u308b\u52d5\u753b(sample.mp4)\u3068\u753b\u50cf(sample.png)\u3092\u8a2d\u7f6e\u3057\u3066\u3001\n\u4e0b\u8a18\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n\n```java\nimport uk.co.halfninja.videokit.Videokit;\n```\n\n```java\n\tVideokit videoKit = new Videokit();\n\n\tString strj = new String(\"ffmpeg\\n\");\n\tstrj = strj + \"-i\\n/mnt/sdcard/sample.mp4\\n\";\n\tstrj = strj + \"-i\\n/mnt/sdcard/sample.png\\n\";\n\tstrj = strj + \"-filter_complex\\n[0:v][1:v]overlay=main_w-overlay_w-10:main_h-overlay_h-10[out]\\n\";\n\tstrj = strj + \"-map\\n[out]\\n\";\n\tstrj = strj + \"-map\\n0:a\\n\";\n\tstrj = strj + \"-codec:a\\ncopy\\n\";\n\tstrj = strj + \"/mnt/sdcard/output.mp4\";\n\tvideoKit.run(strj);\n```\n\n/mnt/sdcard\u306boutput.mp4\u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u308c\u3070\u6210\u529f\u3067\u3059\u3002\n", "tags": ["Android", "NDK", "ffmpeg", "Eclipse"]}