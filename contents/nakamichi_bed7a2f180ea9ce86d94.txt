{"context": "\n\n\u306f\u3058\u3081\u306b\n\u30d3\u30b8\u30cd\u30b9\u306b\u304a\u3044\u3066\u4e88\u6e2c\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u969b\uff0c\u30e6\u30fc\u30b6\u306b\u3068\u3063\u3066\u306e\u89e3\u91c8\u3057\u3084\u3059\u3055\u3092\u512a\u5148\u3057\u3066\uff0c\u7dda\u5f62\u30e2\u30c7\u30eb\u3084\u6c7a\u5b9a\u6728\u306e\u3088\u3046\u306a\u6bd4\u8f03\u7684\u5358\u7d14\u306a\u30e2\u30c7\u30eb\u3092\u4f7f\u308f\u3056\u308b\u3092\u5f97\u306a\u3044\u3068\u3044\u3046\u5834\u5408\u306f\u7d50\u69cb\u591a\u3044\u306e\u3067\u306f\u306a\u3044\u3060\u308d\u3046\u304b\uff0e\n\u3057\u304b\u3057\uff0c\u305b\u3063\u304b\u304f\u30c7\u30fc\u30bf\u5206\u6790\u696d\u3092\u3084\u3063\u3066\u3044\u308b\u8eab\u3068\u3057\u3066\u306f\uff0c\u4ed5\u4e8b\u3067\u3082\u3082\u3063\u3068\u8272\u3005\u306a\u30e2\u30c7\u30eb\u3092\u6d3b\u7528\u3057\u305f\u3044\u3068\u3044\u3046\u306e\u304c\u4eba\u60c5\u3067\u3042\u308d\u3046\uff0e\u307e\u3042\u305d\u3046\u3044\u3046\u500b\u4eba\u7684\u6b32\u6c42\u306f\u7f6e\u3044\u3066\u304a\u304f\u306b\u3057\u3066\u3082\uff0c\u5358\u7d14\u306a\u30e2\u30c7\u30eb\u3092\u4f7f\u3046\u969b\u306b\u6c17\u3092\u4ed8\u3051\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u4e8b\u67c4\u3068\u3044\u3046\u306e\u304c\u8272\u3005\u3042\u308b\uff0e\n\n\u8aac\u660e\u5909\u6570\u3068\u76ee\u7684\u5909\u6570\u306e\u95a2\u4fc2\u306f\u7dda\u5f62\u304b\uff1f\n\u4e88\u6e2c\u306b\u52b9\u304f\u306e\u306f\u3069\u306e\u5909\u6570\u304b\uff1f\n\u5909\u6570\u9593\u306e\u4ea4\u4e92\u4f5c\u7528\u3092\u898b\u9003\u3057\u3066\u3044\u306a\u3044\u304b\uff1f\n\n\u7b49\u3005\uff0e\n\u3055\u3066\uff0c\u3053\u3053\u3067\u8907\u96d1\u306a\u30e2\u30c7\u30eb\u3067\u3042\u308c\u3070\u975e\u7dda\u5f62\u6027\u3084\u4ea4\u4e92\u4f5c\u7528\u3082\u81ea\u52d5\u7684\u306b\u53d6\u308a\u5165\u308c\u3066\u304f\u308c\u308b\u306e\u306b\u306a\u3042\uff0c\u3068\u601d\u3063\u305f\u3068\u3053\u308d\u3067\u767a\u60f3\u3092\u8ee2\u63db\u3057\u3066\u307f\u305f\u3044\uff0e\u3064\u307e\u308a\uff0c\u6700\u7d42\u7684\u306a\u4e88\u6e2c\u30e2\u30c7\u30eb\u306f\u5358\u7d14\u306a\u3082\u306e\u3092\u4f7f\u3046\u3068\u3057\u3066\u3082\uff0c\u4e0a\u8a18\u306e\u3088\u3046\u306a\u554f\u984c\u3092\u691c\u8a0e\u3059\u308b\u305f\u3081\u306e\u63a2\u7d22\u7684\u30c7\u30fc\u30bf\u5206\u6790\u306e\u6bb5\u968e\u3067\uff0c\u3088\u308a\u8907\u96d1\u306a\u30e2\u30c7\u30eb\u3092\u6d3b\u7528\u3067\u304d\u308b\u306e\u3067\u306f\u306a\u304b\u308d\u3046\u304b\uff0e\n\u3068\u3044\u3046\u308f\u3051\u3067\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u7d39\u4ecb\u3057\u305f\u3044\uff0e\n\nedarf: Exploratory Data Analysis using Random Forests\n\n\u540d\u524d\u306e\u901a\u308a\uff0c\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u3067\u63a2\u7d22\u7684\u30c7\u30fc\u30bf\u5206\u6790\u3057\u3088\u3046\u305c\uff0c\u3068\u3044\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u3060\uff0e\n\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u7cfb\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\uff08randomForest, randomForestSRC, ranger, party\uff09\u306b\u5bfe\u3057\u3066\uff0c\u7d71\u4e00\u7684\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3067\n\n\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\uff08partial dependency plot\uff09\n\u5909\u6570\u91cd\u8981\u5ea6\uff08variable importance\uff09\n\u30c7\u30fc\u30bf\u70b9\u306e\u9593\u306e\u985e\u4f3c\u5ea6\uff08proximity\uff09\n\n\u306e\u8a08\u7b97\u3068\u63cf\u753b\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\uff0e3\u3064\u3068\u3082\u3059\u3067\u306b\u3088\u304f\u77e5\u3089\u308c\u305f\u4e8b\u67c4\u304b\u3082\u3057\u308c\u306a\u3044\u304c\uff0c\u63a2\u7d22\u7684\u30c7\u30fc\u30bf\u5206\u6790\u306e\u305f\u3081\u306e\u9053\u5177\u3068\u3057\u3066\u6349\u3048\u3088\u3046\u3068\u3044\u3046\u306e\u306f\u7d50\u69cb\u304a\u3082\u3057\u308d\u3044\u3068\u601d\u3046\uff0e\n\n\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\n\u30e2\u30c7\u30eb\u306e\u4e88\u6e2c\u5024\u304c\uff0c\u3072\u3068\u3064\u306e\u8aac\u660e\u5909\u6570\u306b\u5bfe\u3057\u3066\u5e73\u5747\u7684\u306b\u306f\u3069\u306e\u3088\u3046\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u306e\u304b\u3092\u63cf\u3044\u305f\u3082\u306e\u304c\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u3060\uff0e\u8aac\u660e\u5909\u6570\u3068\u76ee\u7684\u5909\u6570\u306e\u9593\u306b\u975e\u7dda\u5f62\u306a\u95a2\u4fc2\u304c\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u306b\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\nedarf \u3067\u306fpartial_dependence()\u95a2\u6570\u3067\uff0c\u90e8\u5206\u5f93\u5c5e\u6027\u3092\u8a08\u7b97\u3057\u305f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b\uff0e\nlibrary(edarf)\nlibrary(randomForest)\nfit <- randomForest(Species ~ ., iris)\npd <- partial_dependence(fit, data = iris, vars = \"Petal.Width\")\nhead(pd)\n\n##      setosa versicolor virginica Petal.Width\n## 1 0.6476933  0.2322133 0.1200933   0.1000000\n## 2 0.6476933  0.2322133 0.1200933   0.2142857\n## 3 0.6476933  0.2322133 0.1200933   0.3285714\n## 4 0.6476933  0.2322133 0.1200933   0.4428571\n## 5 0.6476933  0.2322133 0.1200933   0.5571429\n## 6 0.6311867  0.2458000 0.1230133   0.6714286\n\n\u4f5c\u6210\u3057\u305f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092plot_pd()\u95a2\u6570\u306b\u6e21\u305b\u3070\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u304c\u63cf\u753b\u3055\u308c\u308b\uff0e\nplot_pd(pd)\n\n\n\u8907\u6570\u306e\u5909\u6570\u306b\u5bfe\u3057\u3066\uff0c\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u3092\u307e\u3068\u3081\u3066\u8a08\u7b97\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\uff0e\npd_list <- partial_dependence(fit, data = iris, vars = c(\"Petal.Width\", \"Petal.Length\"))\nplot_pd(pd_list)\n\n\n\u3055\u3066\uff0c\u5b9f\u306f\u5143\u7956randomForest\u3067\u3082randomForest::partialPlot()\u95a2\u6570\u3067\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u304c\u63cf\u3051\u308b\u306e\u3067\uff0c\u3053\u308c\u3060\u3051\u3060\u3068edarf\u306e\u3042\u308a\u304c\u305f\u307f\u304c\u3061\u3087\u3063\u3068\u8584\u3044\u306e\u3060\u304c\uff0cedarf\u3067\u306f\u591a\u5909\u6570\u306e\u4ea4\u4e92\u4f5c\u7528\u3092\u53d6\u308a\u5165\u308c\u305f\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u3082\u63cf\u304f\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u3053\u308c\u3092\u4f7f\u3048\u3070\u5f71\u97ff\u306e\u5927\u304d\u3044\u4ea4\u4e92\u4f5c\u7528\u304c\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3067\u304d\u308b\uff0e\n\u4ea4\u4e92\u4f5c\u7528\u3092\u898b\u308b\u306b\u306fpartial_dependence()\u95a2\u6570\u3067interaction=TRUE\u3068\u3059\u308c\u3070\u3088\u3044\uff0e\npd_int <- partial_dependence(fit, data = iris, vars = c(\"Petal.Length\", \"Petal.Width\"), interaction = TRUE)\nplot_pd(pd_int)\n\n\n\u898b\u3066\u306e\u901a\u308a\uff0c2\u5909\u6570\u306b\u5bfe\u3059\u308b\u4e88\u6e2c\u5024\u304c\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u7684\u306b\u63cf\u753b\u3055\u308c\u308b\uff0e\n\u5f15\u6570\u3067facet\u3092\u6307\u5b9a\u3059\u308b\u3068\uff0c\u6307\u5b9a\u3057\u305f\u65b9\u306e\u5909\u6570\u3067\u5c64\u5225\u3055\u308c\u305f\u6298\u308c\u7dda\u30b0\u30e9\u30d5\u306b\u306a\u308b\uff0e\u3053\u306e\u4f8b\u3067\u306f\u3054\u3061\u3083\u3054\u3061\u3083\u3057\u305f\u56f3\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u304c\uff0c\u30ab\u30c6\u30b4\u30ea\u30ab\u30eb\u306a\u8aac\u660e\u5909\u6570\u3068\u306e\u4ea4\u4e92\u4f5c\u7528\u304c\u898b\u305f\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u304c\u4fbf\u5229\u3060\u308d\u3046\uff0e\nplot_pd(pd_int, facet=\"Petal.Width\")\n\n\n\n\u5909\u6570\u91cd\u8981\u5ea6\n\u3053\u308c\u306f\u304a\u306a\u3058\u307f\u306e\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u306b\u3088\u308b\u5909\u6570\u91cd\u8981\u5ea6\u3092\u8a08\u7b97\u3057\u3066\u304f\u308c\u308b\uff0e\u5909\u6570\u91cd\u8981\u5ea6\u306f\u3069\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3082\u3082\u3068\u304b\u3089\u8a08\u7b97\u53ef\u80fd\u306a\u306e\u3067\uff0c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306e\u7d71\u4e00\u304c\u30e1\u30ea\u30c3\u30c8\uff0e\nimp <- variable_importance(fit, data = iris, vars = names(iris)[-5])\nplot_imp(imp)\n\n\n\n\u30c7\u30fc\u30bf\u70b9\u306e\u9593\u306e\u985e\u4f3c\u5ea6\n2\u3064\u306e\u30c7\u30fc\u30bf\u70b9\u306b\u5bfe\u3057\u3066\uff0c\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u306e\u5404\u30c4\u30ea\u30fc\u306b\u304a\u3044\u3066\u540c\u3058\u7d42\u7aef\u30ce\u30fc\u30c9\u306b2\u70b9\u304c\u843d\u3061\u308b\u5272\u5408\u3092\u305d\u306e\u30c7\u30fc\u30bf\u70b9\u306e\u9593\u306e\u985e\u4f3c\u5ea6\u3068\u3059\u308b\uff0erandomForest, randomForestSRC, party\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u3082\u3068\u304b\u3089\u8a08\u7b97\u3067\u304d\u308b\u306e\u3060\u304c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u304c\u7570\u306a\u3063\u3066\u304a\u308a\uff0c\u307e\u305franger\u3067\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3042\u308b\uff0e\nedarf\u3067\u306fextract_proximity()\u95a2\u6570\u3067\u985e\u4f3c\u5ea6\u884c\u5217\u3092\u8a08\u7b97\u3067\u304d\u308b\uff0e\nprox <- extract_proximity(fit, newdata = iris)\nstr(prox)\n\n##  num [1:150, 1:150] 1 0.984 0.994 0.99 1 0.998 1 1 0.984 0.99 ...\n##  - attr(*, \"dimnames\")=List of 2\n##   ..$ : chr [1:150] \"1\" \"2\" \"3\" \"4\" ...\n##   ..$ : chr [1:150] \"1\" \"2\" \"3\" \"4\" ...\n\n\u985e\u4f3c\u5ea6\u884c\u5217\u306f\uff08\u30c7\u30fc\u30bf\u6570\uff09x\uff08\u30c7\u30fc\u30bf\u6570\uff09\u306e\u5927\u304d\u3055\u306e\u884c\u5217\u306a\u306e\u3067\uff0c\u305d\u306e\u307e\u307e\u3060\u3068\u3088\u304f\u5206\u304b\u3089\u306a\u3044\uff0e\u305d\u3053\u3067edarf\u3067\u306f\uff0c\u985e\u4f3c\u5ea6\u884c\u5217\u3092stats::prcomp()\u3067\u4e3b\u6210\u5206\u5206\u89e3\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3044\u3044\u611f\u3058\u306b\u30d7\u30ed\u30c3\u30c8\u3057\u3066\u304f\u308c\u308b\u95a2\u6570plot_prox()\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\uff0e\npca <- prcomp(prox, scale = TRUE)\nplot_prox(pca, color = iris$Species, color_label = \"Species\", size = 2)\n\n\n\n\u95a2\u9023\u60c5\u5831\nedarf\u306b\u4f3c\u305f\u72d9\u3044\u3092\u6301\u3064\u3068\u601d\u308f\u308c\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\uff0c\n\nforestFloor: Visualizes Random Forests with Feature Contributions\n\n\u304c\u3042\u308b\uff0e\u65e5\u672c\u8a9e\u306e\u89e3\u8aac\u3082\u3042\u308b\uff0e\n\nrandom forest\u306e\u611f\u5ea6\u5206\u6790\uff0b - \u7425\u73c0\u8272\u5451\u3093\u3060\u304f\u308c\u5099\u5fd8\u9332\n\n\u307e\u305f\uff0c\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u304b\u3089\u4eba\u9593\u306b\u3082\u308f\u304b\u308b\u77e5\u898b\u3092\u5f97\u308b\u305f\u3081\u306e\u5225\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u3057\u3066\uff0c\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u304b\u3089\u91cd\u8981\u306a\u4e88\u6e2c\u30eb\u30fc\u30eb\u3092\u62bd\u51fa\u3059\u308b\u3068\u3044\u3046\u7814\u7a76\u304c\u3042\u308b\uff0e\n\ninTrees: Interpret Tree Ensembles\nsato9hara/defragTrees: Python code for tree ensemble interpretation\n\n\u524d\u8005\u306b\u3064\u3044\u3066\u306f\u65e5\u672c\u8a9e\u89e3\u8aac\u304c\u3042\u308b\uff0e\n\nrandom forest\u3092\u4e88\u6e2c\u4ee5\u5916\u306e\u76ee\u7684\u3067\u4f7f\u3046 - \u7425\u73c0\u8272\u5451\u3093\u3060\u304f\u308c\u5099\u5fd8\u9332\n\n\u5f8c\u8005\u306f\u307e\u3060R\u5b9f\u88c5\u304c\u306a\u3044\u3088\u3046\u306a\u306e\u304c\u6b8b\u5ff5\u3060\uff0e\n\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u306f\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u3067\u306a\u304f\u3068\u3082\uff0c\u4efb\u610f\u306e\u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3066\u8a08\u7b97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0eR\u306e\u6a5f\u68b0\u5b66\u7fd2\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308bmlr\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u305d\u306e\u305f\u3081\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\uff0e\u307e\u305f\uff0c\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u306e\u3088\u3046\u306a\u5e73\u5747\u7684\u306a\u4e88\u6e2c\u5024\u3060\u3051\u3067\u306a\u304f\uff0c\u4e88\u6e2c\u5024\u306e\u3070\u3089\u3064\u304d\u3082\u5408\u308f\u305b\u3066\u53ef\u8996\u5316\u3067\u304d\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066ICEBox\u304c\u3042\u308b\uff0e\n\u6700\u8fd1\u306e\u6a5f\u68b0\u5b66\u7fd2\u696d\u754c\u306b\u306f\u8907\u96d1\u306a\u30e2\u30c7\u30eb\u3092\u3069\u3046\u89e3\u91c8\u53ef\u80fd\u306b\u3059\u308b\u304b\u3068\u3044\u3046\u554f\u984c\u95a2\u5fc3\u304c\u3042\u308b\u3088\u3046\u3060\uff0e\u3053\u3046\u3044\u3063\u305f\u7814\u7a76\u3082\u30c7\u30fc\u30bf\u306e\u5206\u6790\u306e\u305f\u3081\u306e\u9053\u5177\u3068\u3044\u3046\u89b3\u70b9\u3067\u898b\u3066\u307f\u308b\u3068\u304a\u3082\u3057\u308d\u3044\u304b\u3082\u3057\u308c\u306a\u3044\uff0e\n\nICML 2016 Workshop: Human Interpretability in Machine Learning\nNIPS 2016 workshop: Interpretable Machine Learning for Complex Systems\n\n## \u306f\u3058\u3081\u306b\n\n\u30d3\u30b8\u30cd\u30b9\u306b\u304a\u3044\u3066\u4e88\u6e2c\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u969b\uff0c\u30e6\u30fc\u30b6\u306b\u3068\u3063\u3066\u306e\u89e3\u91c8\u3057\u3084\u3059\u3055\u3092\u512a\u5148\u3057\u3066\uff0c\u7dda\u5f62\u30e2\u30c7\u30eb\u3084\u6c7a\u5b9a\u6728\u306e\u3088\u3046\u306a\u6bd4\u8f03\u7684\u5358\u7d14\u306a\u30e2\u30c7\u30eb\u3092\u4f7f\u308f\u3056\u308b\u3092\u5f97\u306a\u3044\u3068\u3044\u3046\u5834\u5408\u306f\u7d50\u69cb\u591a\u3044\u306e\u3067\u306f\u306a\u3044\u3060\u308d\u3046\u304b\uff0e\n\n\u3057\u304b\u3057\uff0c\u305b\u3063\u304b\u304f\u30c7\u30fc\u30bf\u5206\u6790\u696d\u3092\u3084\u3063\u3066\u3044\u308b\u8eab\u3068\u3057\u3066\u306f\uff0c\u4ed5\u4e8b\u3067\u3082\u3082\u3063\u3068\u8272\u3005\u306a\u30e2\u30c7\u30eb\u3092\u6d3b\u7528\u3057\u305f\u3044\u3068\u3044\u3046\u306e\u304c\u4eba\u60c5\u3067\u3042\u308d\u3046\uff0e\u307e\u3042\u305d\u3046\u3044\u3046\u500b\u4eba\u7684\u6b32\u6c42\u306f\u7f6e\u3044\u3066\u304a\u304f\u306b\u3057\u3066\u3082\uff0c\u5358\u7d14\u306a\u30e2\u30c7\u30eb\u3092\u4f7f\u3046\u969b\u306b\u6c17\u3092\u4ed8\u3051\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u4e8b\u67c4\u3068\u3044\u3046\u306e\u304c\u8272\u3005\u3042\u308b\uff0e\n\n- \u8aac\u660e\u5909\u6570\u3068\u76ee\u7684\u5909\u6570\u306e\u95a2\u4fc2\u306f\u7dda\u5f62\u304b\uff1f\n\n- \u4e88\u6e2c\u306b\u52b9\u304f\u306e\u306f\u3069\u306e\u5909\u6570\u304b\uff1f\n\n- \u5909\u6570\u9593\u306e\u4ea4\u4e92\u4f5c\u7528\u3092\u898b\u9003\u3057\u3066\u3044\u306a\u3044\u304b\uff1f\n\n\u7b49\u3005\uff0e\n\n\u3055\u3066\uff0c\u3053\u3053\u3067\u8907\u96d1\u306a\u30e2\u30c7\u30eb\u3067\u3042\u308c\u3070\u975e\u7dda\u5f62\u6027\u3084\u4ea4\u4e92\u4f5c\u7528\u3082\u81ea\u52d5\u7684\u306b\u53d6\u308a\u5165\u308c\u3066\u304f\u308c\u308b\u306e\u306b\u306a\u3042\uff0c\u3068\u601d\u3063\u305f\u3068\u3053\u308d\u3067\u767a\u60f3\u3092\u8ee2\u63db\u3057\u3066\u307f\u305f\u3044\uff0e\u3064\u307e\u308a\uff0c\u6700\u7d42\u7684\u306a\u4e88\u6e2c\u30e2\u30c7\u30eb\u306f\u5358\u7d14\u306a\u3082\u306e\u3092\u4f7f\u3046\u3068\u3057\u3066\u3082\uff0c\u4e0a\u8a18\u306e\u3088\u3046\u306a\u554f\u984c\u3092\u691c\u8a0e\u3059\u308b\u305f\u3081\u306e\u63a2\u7d22\u7684\u30c7\u30fc\u30bf\u5206\u6790\u306e\u6bb5\u968e\u3067\uff0c\u3088\u308a\u8907\u96d1\u306a\u30e2\u30c7\u30eb\u3092\u6d3b\u7528\u3067\u304d\u308b\u306e\u3067\u306f\u306a\u304b\u308d\u3046\u304b\uff0e\n\n\u3068\u3044\u3046\u308f\u3051\u3067\u4ee5\u4e0b\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u7d39\u4ecb\u3057\u305f\u3044\uff0e\n\n- [`edarf`: Exploratory Data Analysis using Random Forests](https://cran.r-project.org/package=edarf)\n\n\u540d\u524d\u306e\u901a\u308a\uff0c\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u3067\u63a2\u7d22\u7684\u30c7\u30fc\u30bf\u5206\u6790\u3057\u3088\u3046\u305c\uff0c\u3068\u3044\u3046\u30d1\u30c3\u30b1\u30fc\u30b8\u3060\uff0e\n\n\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u7cfb\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\uff08[`randomForest`](https://cran.r-project.org/package=randomForest), [`randomForestSRC`](https://cran.r-project.org/package=randomForestSRC), [`ranger`](https://cran.r-project.org/package=ranger), [`party`](https://cran.r-project.org/package=party)\uff09\u306b\u5bfe\u3057\u3066\uff0c\u7d71\u4e00\u7684\u306a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3067\n\n- \u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\uff08partial dependency plot\uff09\n- \u5909\u6570\u91cd\u8981\u5ea6\uff08variable importance\uff09\n- \u30c7\u30fc\u30bf\u70b9\u306e\u9593\u306e\u985e\u4f3c\u5ea6\uff08proximity\uff09\n\n\u306e\u8a08\u7b97\u3068\u63cf\u753b\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\uff0e3\u3064\u3068\u3082\u3059\u3067\u306b\u3088\u304f\u77e5\u3089\u308c\u305f\u4e8b\u67c4\u304b\u3082\u3057\u308c\u306a\u3044\u304c\uff0c\u63a2\u7d22\u7684\u30c7\u30fc\u30bf\u5206\u6790\u306e\u305f\u3081\u306e\u9053\u5177\u3068\u3057\u3066\u6349\u3048\u3088\u3046\u3068\u3044\u3046\u306e\u306f\u7d50\u69cb\u304a\u3082\u3057\u308d\u3044\u3068\u601d\u3046\uff0e\n\n\n# \u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\n\n\u30e2\u30c7\u30eb\u306e\u4e88\u6e2c\u5024\u304c\uff0c\u3072\u3068\u3064\u306e\u8aac\u660e\u5909\u6570\u306b\u5bfe\u3057\u3066\u5e73\u5747\u7684\u306b\u306f\u3069\u306e\u3088\u3046\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u306e\u304b\u3092\u63cf\u3044\u305f\u3082\u306e\u304c\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u3060\uff0e\u8aac\u660e\u5909\u6570\u3068\u76ee\u7684\u5909\u6570\u306e\u9593\u306b\u975e\u7dda\u5f62\u306a\u95a2\u4fc2\u304c\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u306e\u306b\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\n\n`edarf` \u3067\u306f`partial_dependence()`\u95a2\u6570\u3067\uff0c\u90e8\u5206\u5f93\u5c5e\u6027\u3092\u8a08\u7b97\u3057\u305f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092\u4f5c\u6210\u3059\u308b\uff0e\n\n\n```r\nlibrary(edarf)\nlibrary(randomForest)\nfit <- randomForest(Species ~ ., iris)\npd <- partial_dependence(fit, data = iris, vars = \"Petal.Width\")\nhead(pd)\n```\n\n```\n##      setosa versicolor virginica Petal.Width\n## 1 0.6476933  0.2322133 0.1200933   0.1000000\n## 2 0.6476933  0.2322133 0.1200933   0.2142857\n## 3 0.6476933  0.2322133 0.1200933   0.3285714\n## 4 0.6476933  0.2322133 0.1200933   0.4428571\n## 5 0.6476933  0.2322133 0.1200933   0.5571429\n## 6 0.6311867  0.2458000 0.1230133   0.6714286\n```\n\n\u4f5c\u6210\u3057\u305f\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092`plot_pd()`\u95a2\u6570\u306b\u6e21\u305b\u3070\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u304c\u63cf\u753b\u3055\u308c\u308b\uff0e\n\n\n```r\nplot_pd(pd)\n```\n\n![plot_pd-1.png](https://qiita-image-store.s3.amazonaws.com/0/58917/f48bf673-4b51-448a-d83d-1abb269c8ca3.png)\n\n\n\u8907\u6570\u306e\u5909\u6570\u306b\u5bfe\u3057\u3066\uff0c\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u3092\u307e\u3068\u3081\u3066\u8a08\u7b97\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u308b\uff0e\n\n\n```r\npd_list <- partial_dependence(fit, data = iris, vars = c(\"Petal.Width\", \"Petal.Length\"))\nplot_pd(pd_list)\n```\n\n![plot_pd_multi-1.png](https://qiita-image-store.s3.amazonaws.com/0/58917/25b5a4d5-a6b3-1eea-5308-25bbd5801fc1.png)\n\n\u3055\u3066\uff0c\u5b9f\u306f\u5143\u7956`randomForest`\u3067\u3082`randomForest::partialPlot()`\u95a2\u6570\u3067\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u304c\u63cf\u3051\u308b\u306e\u3067\uff0c\u3053\u308c\u3060\u3051\u3060\u3068`edarf`\u306e\u3042\u308a\u304c\u305f\u307f\u304c\u3061\u3087\u3063\u3068\u8584\u3044\u306e\u3060\u304c\uff0c`edarf`\u3067\u306f\u591a\u5909\u6570\u306e\u4ea4\u4e92\u4f5c\u7528\u3092\u53d6\u308a\u5165\u308c\u305f\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u3082\u63cf\u304f\u3053\u3068\u304c\u3067\u304d\u308b\uff0e\u3053\u308c\u3092\u4f7f\u3048\u3070\u5f71\u97ff\u306e\u5927\u304d\u3044\u4ea4\u4e92\u4f5c\u7528\u304c\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af\u3067\u304d\u308b\uff0e\n\n\u4ea4\u4e92\u4f5c\u7528\u3092\u898b\u308b\u306b\u306f`partial_dependence()`\u95a2\u6570\u3067`interaction=TRUE`\u3068\u3059\u308c\u3070\u3088\u3044\uff0e\n\n\n```r\npd_int <- partial_dependence(fit, data = iris, vars = c(\"Petal.Length\", \"Petal.Width\"), interaction = TRUE)\nplot_pd(pd_int)\n```\n\n![plot_pd_int-1.png](https://qiita-image-store.s3.amazonaws.com/0/58917/f95a0f39-54e2-eace-c1ca-c643ffbcadb5.png)\n\n\n\u898b\u3066\u306e\u901a\u308a\uff0c2\u5909\u6570\u306b\u5bfe\u3059\u308b\u4e88\u6e2c\u5024\u304c\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u7684\u306b\u63cf\u753b\u3055\u308c\u308b\uff0e\n\n\u5f15\u6570\u3067`facet`\u3092\u6307\u5b9a\u3059\u308b\u3068\uff0c\u6307\u5b9a\u3057\u305f\u65b9\u306e\u5909\u6570\u3067\u5c64\u5225\u3055\u308c\u305f\u6298\u308c\u7dda\u30b0\u30e9\u30d5\u306b\u306a\u308b\uff0e\u3053\u306e\u4f8b\u3067\u306f\u3054\u3061\u3083\u3054\u3061\u3083\u3057\u305f\u56f3\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u304c\uff0c\u30ab\u30c6\u30b4\u30ea\u30ab\u30eb\u306a\u8aac\u660e\u5909\u6570\u3068\u306e\u4ea4\u4e92\u4f5c\u7528\u304c\u898b\u305f\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u304c\u4fbf\u5229\u3060\u308d\u3046\uff0e\n\n\n```r\nplot_pd(pd_int, facet=\"Petal.Width\")\n```\n\n![unnamed-chunk-1-1.png](https://qiita-image-store.s3.amazonaws.com/0/58917/28ff2bef-79c3-c49b-6c55-78afe9c7d34f.png)\n\n## \u5909\u6570\u91cd\u8981\u5ea6\n\n\u3053\u308c\u306f\u304a\u306a\u3058\u307f\u306e[\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u306b\u3088\u308b\u5909\u6570\u91cd\u8981\u5ea6](https://en.wikipedia.org/wiki/Random_forest#Properties)\u3092\u8a08\u7b97\u3057\u3066\u304f\u308c\u308b\uff0e\u5909\u6570\u91cd\u8981\u5ea6\u306f\u3069\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3082\u3082\u3068\u304b\u3089\u8a08\u7b97\u53ef\u80fd\u306a\u306e\u3067\uff0c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u306e\u7d71\u4e00\u304c\u30e1\u30ea\u30c3\u30c8\uff0e\n\n\n```r\nimp <- variable_importance(fit, data = iris, vars = names(iris)[-5])\nplot_imp(imp)\n```\n\n![var_imp-1.png](https://qiita-image-store.s3.amazonaws.com/0/58917/64c00373-1cef-5528-f717-4613dba4f02e.png)\n\n\n## \u30c7\u30fc\u30bf\u70b9\u306e\u9593\u306e\u985e\u4f3c\u5ea6\n\n2\u3064\u306e\u30c7\u30fc\u30bf\u70b9\u306b\u5bfe\u3057\u3066\uff0c\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u306e\u5404\u30c4\u30ea\u30fc\u306b\u304a\u3044\u3066\u540c\u3058\u7d42\u7aef\u30ce\u30fc\u30c9\u306b2\u70b9\u304c\u843d\u3061\u308b\u5272\u5408\u3092\u305d\u306e\u30c7\u30fc\u30bf\u70b9\u306e\u9593\u306e\u985e\u4f3c\u5ea6\u3068\u3059\u308b\uff0e`randomForest`, `randomForestSRC`, `party`\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u306f\u3082\u3068\u304b\u3089\u8a08\u7b97\u3067\u304d\u308b\u306e\u3060\u304c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u304c\u7570\u306a\u3063\u3066\u304a\u308a\uff0c\u307e\u305f`ranger`\u3067\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u3088\u3046\u3067\u3042\u308b\uff0e\n\n`edarf`\u3067\u306f`extract_proximity()`\u95a2\u6570\u3067\u985e\u4f3c\u5ea6\u884c\u5217\u3092\u8a08\u7b97\u3067\u304d\u308b\uff0e\n\n\n```r\nprox <- extract_proximity(fit, newdata = iris)\nstr(prox)\n```\n\n```\n##  num [1:150, 1:150] 1 0.984 0.994 0.99 1 0.998 1 1 0.984 0.99 ...\n##  - attr(*, \"dimnames\")=List of 2\n##   ..$ : chr [1:150] \"1\" \"2\" \"3\" \"4\" ...\n##   ..$ : chr [1:150] \"1\" \"2\" \"3\" \"4\" ...\n```\n\n\u985e\u4f3c\u5ea6\u884c\u5217\u306f\uff08\u30c7\u30fc\u30bf\u6570\uff09x\uff08\u30c7\u30fc\u30bf\u6570\uff09\u306e\u5927\u304d\u3055\u306e\u884c\u5217\u306a\u306e\u3067\uff0c\u305d\u306e\u307e\u307e\u3060\u3068\u3088\u304f\u5206\u304b\u3089\u306a\u3044\uff0e\u305d\u3053\u3067`edarf`\u3067\u306f\uff0c\u985e\u4f3c\u5ea6\u884c\u5217\u3092`stats::prcomp()`\u3067\u4e3b\u6210\u5206\u5206\u89e3\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3044\u3044\u611f\u3058\u306b\u30d7\u30ed\u30c3\u30c8\u3057\u3066\u304f\u308c\u308b\u95a2\u6570`plot_prox()`\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\uff0e\n\n\n```r\npca <- prcomp(prox, scale = TRUE)\nplot_prox(pca, color = iris$Species, color_label = \"Species\", size = 2)\n```\n\n![plot_prox-1.png](https://qiita-image-store.s3.amazonaws.com/0/58917/c542402d-8872-179d-7a92-f4e0786aa0ef.png)\n\n\n## \u95a2\u9023\u60c5\u5831\n\n`edarf`\u306b\u4f3c\u305f\u72d9\u3044\u3092\u6301\u3064\u3068\u601d\u308f\u308c\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\uff0c\n\n- [`forestFloor`: Visualizes Random Forests with Feature Contributions](https://cran.r-project.org/package=forestFloor)\n\n\u304c\u3042\u308b\uff0e\u65e5\u672c\u8a9e\u306e\u89e3\u8aac\u3082\u3042\u308b\uff0e\n\n- [random forest\u306e\u611f\u5ea6\u5206\u6790\uff0b - \u7425\u73c0\u8272\u5451\u3093\u3060\u304f\u308c\u5099\u5fd8\u9332](http://kato-kohaku-0.hatenablog.com/entry/2016/08/04/202826)\n\n\n\u307e\u305f\uff0c\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u304b\u3089\u4eba\u9593\u306b\u3082\u308f\u304b\u308b\u77e5\u898b\u3092\u5f97\u308b\u305f\u3081\u306e\u5225\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u3068\u3057\u3066\uff0c\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u304b\u3089\u91cd\u8981\u306a\u4e88\u6e2c\u30eb\u30fc\u30eb\u3092\u62bd\u51fa\u3059\u308b\u3068\u3044\u3046\u7814\u7a76\u304c\u3042\u308b\uff0e\n\n- [inTrees: Interpret Tree Ensembles](https://cran.r-project.org/package=inTrees)\n\n- [sato9hara/defragTrees: Python code for tree ensemble interpretation](https://github.com/sato9hara/defragTrees)\n\n\u524d\u8005\u306b\u3064\u3044\u3066\u306f\u65e5\u672c\u8a9e\u89e3\u8aac\u304c\u3042\u308b\uff0e\n\n- [random forest\u3092\u4e88\u6e2c\u4ee5\u5916\u306e\u76ee\u7684\u3067\u4f7f\u3046 - \u7425\u73c0\u8272\u5451\u3093\u3060\u304f\u308c\u5099\u5fd8\u9332](http://kato-kohaku-0.hatenablog.com/entry/2016/05/01/155908)\n\n\u5f8c\u8005\u306f\u307e\u3060R\u5b9f\u88c5\u304c\u306a\u3044\u3088\u3046\u306a\u306e\u304c\u6b8b\u5ff5\u3060\uff0e\n\n\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u306f\u30e9\u30f3\u30c0\u30e0\u30d5\u30a9\u30ec\u30b9\u30c8\u3067\u306a\u304f\u3068\u3082\uff0c\u4efb\u610f\u306e\u30e2\u30c7\u30eb\u306b\u5bfe\u3057\u3066\u8a08\u7b97\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\uff0eR\u306e\u6a5f\u68b0\u5b66\u7fd2\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308b[`mlr`](https://mlr-org.github.io/mlr-tutorial/release/html/partial_prediction/index.html)\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u305d\u306e\u305f\u3081\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\uff0e\u307e\u305f\uff0c\u90e8\u5206\u5f93\u5c5e\u30d7\u30ed\u30c3\u30c8\u306e\u3088\u3046\u306a\u5e73\u5747\u7684\u306a\u4e88\u6e2c\u5024\u3060\u3051\u3067\u306a\u304f\uff0c\u4e88\u6e2c\u5024\u306e\u3070\u3089\u3064\u304d\u3082\u5408\u308f\u305b\u3066\u53ef\u8996\u5316\u3067\u304d\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066[`ICEBox`](https://cran.r-project.org/package=ICEbox)\u304c\u3042\u308b\uff0e\n\n\u6700\u8fd1\u306e\u6a5f\u68b0\u5b66\u7fd2\u696d\u754c\u306b\u306f\u8907\u96d1\u306a\u30e2\u30c7\u30eb\u3092\u3069\u3046\u89e3\u91c8\u53ef\u80fd\u306b\u3059\u308b\u304b\u3068\u3044\u3046\u554f\u984c\u95a2\u5fc3\u304c\u3042\u308b\u3088\u3046\u3060\uff0e\u3053\u3046\u3044\u3063\u305f\u7814\u7a76\u3082\u30c7\u30fc\u30bf\u306e\u5206\u6790\u306e\u305f\u3081\u306e\u9053\u5177\u3068\u3044\u3046\u89b3\u70b9\u3067\u898b\u3066\u307f\u308b\u3068\u304a\u3082\u3057\u308d\u3044\u304b\u3082\u3057\u308c\u306a\u3044\uff0e\n\n- [ICML 2016 Workshop: Human Interpretability in Machine Learning](https://sites.google.com/site/2016whi/)\n\n- [NIPS 2016 workshop: Interpretable Machine Learning for Complex Systems](https://sites.google.com/site/nips2016interpretml/papers-1)\n", "tags": ["R", "edarf", "DataVisualization"]}