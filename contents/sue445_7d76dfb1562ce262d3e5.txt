{"context": "\n\nsengiri_yaml\u3068\u306f\uff1f\n\u5de8\u5927\u306ayaml\u30d5\u30a1\u30a4\u30eb\u30921\u8981\u7d20\u5358\u4f4d\u306b\u5206\u5272\u3057\u305f\u308a\u3001\u9006\u306b\u5206\u5272\u3055\u308c\u305fyaml\u30d5\u30a1\u30a4\u30eb\u3092\u9023\u7d50\u3057\u30661\u3064\u306e Hash \u3084 Array \u3068\u3057\u3066\u6271\u3046\u305f\u3081\u306egem\u3067\u3059\u3002\n\nhttps://github.com/sue445/sengiri_yaml\nhttps://rubygems.org/gems/sengiri_yaml\n\n\u30ad\u30e3\u30d9\u30c4\u306e\u5343\u5207\u308a\u307f\u305f\u3044\u306byaml\u3092\u7d30\u5207\u308a\u306b\u3059\u308b\u3053\u3068\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u305fgem\u3067\u3059\u30021\n\n\n\u4f7f\u3044\u65b9\n\nyaml\u306e\u5206\u5272\n\u5143\u30d5\u30a1\u30a4\u30eb\n\n/path/to/fat.yml\n- data1: data1\n  value: 1\n- data2: data2\n  value: 2\n\n\nsengiri_yaml \u30b3\u30de\u30f3\u30c9\u3067\u5206\u5272\n$ sengiri_yaml \"/path/to/fat.yml\" \"/path/to/fat_dir\"\n\n\n1\u3064\u76ee\u306e\u5f15\u6570\u304c\u5143\u30d5\u30a1\u30a4\u30eb\n2\u3064\u76ee\u306e\u5f15\u6570\u304c\u51fa\u529b\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\n\u5206\u5272\u5f8c\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306ayml\u304c\u4f5c\u3089\u308c\u307e\u3059\n\n/path/to/data1.yml\n---\n- data1: data1\n  value: 1\n\n\n\n/path/to/data2.yml\n---\n- data2: data2\n  value: 2\n\n\n\u4f8b\u3067\u306f Array \u306e\u5206\u5272\u3067\u3059\u304c\u3001Hash \u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\n\n\u5206\u5272\u3055\u308c\u305fyaml\u3092\u8aad\u307f\u8fbc\u307f\nSengiriYaml.load_dir \u3067\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u5206\u5272\u3055\u308c\u305fyaml\u30d5\u30a1\u30a4\u30eb\u3092\u307e\u3068\u3081\u3066\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\nmerged_data = SengiriYaml.load_dir(\"/path/to/fat_dir\")\n# => [{\"data1\" => \"data1\", \"value\" => 1}, {\"data2\" => \"data2\", \"value\" => 2}]\n\n\nrubicure\u3067\u306e\u4f7f\u7528\u4f8b\n\u5143\u3005\u306frubucure\u306e900\u884c\u8fd1\u304f\u3042\u3063\u305fyaml\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3044\u611f\u3058\u306b\u5206\u5272\u3057\u3066\u3044\u3044\u611f\u3058\u306b\u8aad\u307f\u8fbc\u3080\u305f\u3081\u306b\u4f5c\u308a\u307e\u3057\u305f\u3002\n\u73fe\u5728\u306eyaml\u30d5\u30a1\u30a4\u30eb\u30002\n\n\u8aad\u307f\u8fbc\u3093\u3067\u3044\u308b\u7b87\u6240 3\n\nlib/rubicure/girl.rb\n      # @return [Hash] content of config/girls/*.yml\n      def config\n        unless @config\n          @config = SengiriYaml.load_dir(\"#{File.dirname(__FILE__)}/../../config/girls\").deep_symbolize_keys\n        end\n        @config\n      end\n\n\n\u5f53\u6642\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u306e\u69d8\u5b50 4\n-        config_file = \"#{File.dirname(__FILE__)}/../../config/girls.yml\"\n-        @@config = YAML.load_file(config_file).deep_symbolize_keys\n+        @@config = SengiriYaml.load_dir(\"#{File.dirname(__FILE__)}/../../config/girls\").deep_symbolize_keys\n\nyaml\u5206\u5272\u5f8c\u306b YAML.load_file \u3057\u3066\u308b\u3068\u3053\u308d\u3092 SengiriYaml.load_dir \u306b\u3059\u308b\u3060\u3051\u3067\u52d5\u304d\u307e\u3059\u3002\n\n\n\n\n\u30ad\u30e3\u30d9\u30c4\u306e\u5343\u5207\u308a\u753b\u50cf\u306e\u51fa\u5178\u306f http://www.irasutoya.com/2015/02/blog-post_987.html\u00a0\u21a9\n\n\nhttps://github.com/sue445/rubicure/tree/v0.4.10/config/girls\u00a0\u21a9\n\n\nhttps://github.com/sue445/rubicure/blob/v0.4.10/lib/rubicure/girl.rb#L131-L137\u00a0\u21a9\n\n\nhttps://github.com/sue445/rubicure/pull/64/files\u00a0\u21a9\n\n\n\n# sengiri_yaml\u3068\u306f\uff1f\n\u5de8\u5927\u306ayaml\u30d5\u30a1\u30a4\u30eb\u30921\u8981\u7d20\u5358\u4f4d\u306b\u5206\u5272\u3057\u305f\u308a\u3001\u9006\u306b\u5206\u5272\u3055\u308c\u305fyaml\u30d5\u30a1\u30a4\u30eb\u3092\u9023\u7d50\u3057\u30661\u3064\u306e `Hash` \u3084 `Array` \u3068\u3057\u3066\u6271\u3046\u305f\u3081\u306egem\u3067\u3059\u3002\n\n* https://github.com/sue445/sengiri_yaml\n* https://rubygems.org/gems/sengiri_yaml\n\n\u30ad\u30e3\u30d9\u30c4\u306e\u5343\u5207\u308a\u307f\u305f\u3044\u306byaml\u3092\u7d30\u5207\u308a\u306b\u3059\u308b\u3053\u3068\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u305fgem\u3067\u3059\u3002[^sengiri]\n\n![\u30ad\u30e3\u30d9\u30c4\u306e\u5343\u5207\u308a](https://qiita-image-store.s3.amazonaws.com/0/8059/d7288d7e-c4ac-6644-97bb-5223f2d364fe.png)\n\n[^sengiri]: \u30ad\u30e3\u30d9\u30c4\u306e\u5343\u5207\u308a\u753b\u50cf\u306e\u51fa\u5178\u306f http://www.irasutoya.com/2015/02/blog-post_987.html\n\n# \u4f7f\u3044\u65b9\n## yaml\u306e\u5206\u5272\n\u5143\u30d5\u30a1\u30a4\u30eb\n\n```yaml:/path/to/fat.yml\n- data1: data1\n  value: 1\n- data2: data2\n  value: 2\n```\n\n`sengiri_yaml` \u30b3\u30de\u30f3\u30c9\u3067\u5206\u5272\n\n```shell-session\n$ sengiri_yaml \"/path/to/fat.yml\" \"/path/to/fat_dir\"\n```\n\n* 1\u3064\u76ee\u306e\u5f15\u6570\u304c\u5143\u30d5\u30a1\u30a4\u30eb\n* 2\u3064\u76ee\u306e\u5f15\u6570\u304c\u51fa\u529b\u5148\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\n\n\u5206\u5272\u5f8c\u306f\u4e0b\u8a18\u306e\u3088\u3046\u306ayml\u304c\u4f5c\u3089\u308c\u307e\u3059\n\n```yaml:/path/to/data1.yml\n---\n- data1: data1\n  value: 1\n```\n\n```yaml:/path/to/data2.yml\n---\n- data2: data2\n  value: 2\n```\n\n\u4f8b\u3067\u306f `Array` \u306e\u5206\u5272\u3067\u3059\u304c\u3001`Hash` \u306b\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\n\n## \u5206\u5272\u3055\u308c\u305fyaml\u3092\u8aad\u307f\u8fbc\u307f\n`SengiriYaml.load_dir` \u3067\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b\u5206\u5272\u3055\u308c\u305fyaml\u30d5\u30a1\u30a4\u30eb\u3092\u307e\u3068\u3081\u3066\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002\n\n```ruby\nmerged_data = SengiriYaml.load_dir(\"/path/to/fat_dir\")\n# => [{\"data1\" => \"data1\", \"value\" => 1}, {\"data2\" => \"data2\", \"value\" => 2}]\n```\n\n# rubicure\u3067\u306e\u4f7f\u7528\u4f8b\n\u5143\u3005\u306frubucure\u306e900\u884c\u8fd1\u304f\u3042\u3063\u305fyaml\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u3044\u611f\u3058\u306b\u5206\u5272\u3057\u3066\u3044\u3044\u611f\u3058\u306b\u8aad\u307f\u8fbc\u3080\u305f\u3081\u306b\u4f5c\u308a\u307e\u3057\u305f\u3002\n\n\u73fe\u5728\u306eyaml\u30d5\u30a1\u30a4\u30eb\u3000[^rubicure_yaml]\n\n\n[^rubicure_yaml]: https://github.com/sue445/rubicure/tree/v0.4.10/config/girls\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/8059/8797a0f5-0961-7c52-6315-5ec26fa6e736.png)\n\n\n\u8aad\u307f\u8fbc\u3093\u3067\u3044\u308b\u7b87\u6240 [^rubicure_girl]\n\n[^rubicure_girl]: https://github.com/sue445/rubicure/blob/v0.4.10/lib/rubicure/girl.rb#L131-L137\n\n```ruby:lib/rubicure/girl.rb\n      # @return [Hash] content of config/girls/*.yml\n      def config\n        unless @config\n          @config = SengiriYaml.load_dir(\"#{File.dirname(__FILE__)}/../../config/girls\").deep_symbolize_keys\n        end\n        @config\n      end\n```\n\n\u5f53\u6642\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u306e\u69d8\u5b50 [^rubicure_pr]\n\n[^rubicure_pr]: https://github.com/sue445/rubicure/pull/64/files\n\n```diff\n-        config_file = \"#{File.dirname(__FILE__)}/../../config/girls.yml\"\n-        @@config = YAML.load_file(config_file).deep_symbolize_keys\n+        @@config = SengiriYaml.load_dir(\"#{File.dirname(__FILE__)}/../../config/girls\").deep_symbolize_keys\n```\n\nyaml\u5206\u5272\u5f8c\u306b `YAML.load_file` \u3057\u3066\u308b\u3068\u3053\u308d\u3092 `SengiriYaml.load_dir` \u306b\u3059\u308b\u3060\u3051\u3067\u52d5\u304d\u307e\u3059\u3002\n\n", "tags": ["Ruby", "YAML", "Gem"]}