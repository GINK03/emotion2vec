{"context": "\n\n \u306f\u3058\u3081\u306b\nDjango REST framework\u3068Vue.js\u304c\u6c17\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u7d44\u307f\u5408\u308f\u305b\u3066\u52d5\u304b\u3057\u3066\u307f\u305f\u3002\n\n \u69cb\u6210\u30fb\u52d5\u4f5c\u6982\u8981\nDjango\u306ehtml\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u306f\u4f7f\u308f\u305a\u306b\u3001\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066HTML\u30c7\u30fc\u30bf\u3092\u8fd4\u5374\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089Vue.js\u3067RestAPI\u7d4c\u7531\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u305f\u60c5\u5831\u306e\u4e00\u89a7\u3092\u8868\u793a\u3057\u3066\u307f\u308b\u3002\n\uff08DB\u306fSQLite3\u3001\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u306f\u81ea\u5206\u306e\u8a18\u4e8b\u306e\u30b9\u30c8\u30c3\u30af\u6570\u3092\u4f7f\u3063\u305f\u3002\uff09\n\n\n \u52d5\u4f5c\u74b0\u5883\nPython\u306fPython 3.5.1\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u4ee5\u4e0b\n# pip3 freeze\nDjango==1.10.5\ndjango-filter==1.0.1\ndjangorestframework==3.5.3\n\nVue.js\u3068axios\u306fCDN\u3067\u53d6\u3063\u3066\u304d\u3066\u3044\u3066\u3001\u6295\u7a3f\u6642\u70b9\uff082017/1/30\uff09\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4ee5\u4e0b\u3002\n\nVue.js: 2.1.10\naxios: 0.15.3\n\n\n \u8a66\u3059\n\n\u3068\u308a\u3042\u3048\u305aDjango\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\u3044\u3064\u3082\u306e\u3002\n# django-admin startproject qiitalist\n# cd qiitalist/\n# python manage.py startapp stocks\n\n\n\u5b8c\u6210\u5f62\n\u3053\u3093\u306a\u611f\u3058\u306e\u69cb\u6210\u306b\u306a\u3063\u305f\u3002\u2460\uff5e\u2465\u500b\u5225\u306b\u5b9f\u88c5\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\uff08\u25b2=\u4eca\u56de\u4f7f\u308f\u306a\u3044\u30d5\u30a1\u30a4\u30eb\uff09\nqiitalist\n\u2502  fixture.json # \u2461\u30e2\u30c7\u30eb\u8ffd\u52a0\n\u2502  manage.py\n\u2502\n\u251c\u2500qiitalist\n\u2502  \u2502  settings.py # \u2460\u8a2d\u5b9a\u8ffd\u52a0\n\u2502  \u2502  urls.py # \u2464URL\u8a2d\u5b9a\u8ffd\u52a0\n\u2502  \u2502  wsgi.py # \u25b2\n\u2502  \u2502  __init__.py\n\u2502  \u2502\n\u2502  \u2514\u2500static # \u2465\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n\u2502          vue_grid.css\n\u2502          vue_grid.html\n\u2502          vue_grid.js\n\u2502\n\u2514\u2500stocks\n    \u2502  admin.py # \u25b2\n    \u2502  apps.py # \u25b2\n    \u2502  models.py # \u2461\u30e2\u30c7\u30eb\u8ffd\u52a0\n    \u2502  tests.py # \u25b2\n    \u2502  serializer.py \u2462\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u8ffd\u52a0\n    \u2502  urls.py  # \u2464URL\u8a2d\u5b9a\u8ffd\u52a0\n    \u2502  views.py # \u2463View\u8ffd\u52a0\n    \u2502  __init__.py\n    \u2502\n    \u2514\u2500migrations\n\n\n\u2460\u8a2d\u5b9a\u8ffd\u52a0\n\u5b9f\u88c5\u3059\u308b\u30a2\u30d7\u30ea\u3068\u3001REST Framework\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3002\n\nsettings.py\n# \u8ffd\u52a0\u5206\u3060\u3051\u629c\u7c8b\n# \u30a2\u30d7\u30ea\u306e\u8ffd\u52a0\nINSTALLED_APPS += [\n    'stocks',\n    'rest_framework',\n]\n# REST API\u8a2d\u5b9a\uff08\u30d5\u30a3\u30eb\u30bf\u3001\u30da\u30fc\u30b8\u30f3\u30b0\uff09\nREST_FRAMEWORK = {\n    'DEFAULT_FILTER_BACKENDS': ('rest_framework.filters.DjangoFilterBackend',),\n    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.LimitOffsetPagination',\n    'PAGE_SIZE': 5\n}\n# views.py\u3067\u4f7f\u3046\u30d1\u30b9\u3092\u5b9a\u7fa9\nPACKAGE_ROOT = os.path.abspath(os.path.dirname(__file__))\nSTATICFILES_DIRS = (os.path.join(PACKAGE_ROOT, 'static'),)\n\n\n\n\u2461\u30e2\u30c7\u30eb\u8ffd\u52a0\nREST API\u3067\u516c\u958b\u3059\u308b\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3001\u53ca\u3073\u521d\u671f\u30c7\u30fc\u30bf\uff08\u30d5\u30a3\u30af\u30b9\u30c1\u30e3\uff09\u3092\u6e96\u5099\u3002\n\nmodels.py\nfrom django.db import models\n\n\nclass Stock(models.Model):\n\n    class Meta:\n        db_table = \"stock\"\n    id = models.AutoField(primary_key=True)\n    title = models.TextField()\n    stock_count = models.IntegerField()\n\n\n\nfixture.json\n[\n  {\n    \"model\": \"stocks.stock\",\n    \"pk\": 1,\n    \"fields\": {\n      \"title\": \"Python\u3067\u6a5f\u68b0\u5b66\u7fd2\u306f\u3058\u3081\u307e\u3057\u305f(Qiita\u3078\u306e\u6295\u7a3f\u3082\u306f\u3058\u3081\u307e\u3057\u305f) \u30c7\u30fc\u30bf\u6e96\u5099\u7de8\",\n      \"stock_count\": 29\n    }\n  },\n  {\n        \"model\": \"stocks.stock\",\n        \"pk\": 2,\n        \"fields\": {\n          \"title\": \"Scrapy\u3068Django\u3067\u30e9\u30fc\u30e1\u30f3\u30de\u30c3\u30d7\u4f5c\u6210\",\n          \"stock_count\": 23\n     }\n  },\n  {\n      \"model\": \"stocks.stock\",\n      \"pk\": 3,\n      \"fields\": {\n        \"title\": \"Python\u3067\u6a5f\u68b0\u5b66\u7fd2\u306f\u3058\u3081\u307e\u3057\u305f \u30c7\u30fc\u30bf\u524d\u51e6\u7406\u7de8\",\n        \"stock_count\": 22\n     }\n  },\n  {\n       \"model\": \"stocks.stock\",\n       \"pk\": 4,\n       \"fields\": {\n         \"title\": \"Python\u3067RabbitMQ\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u901a\u77e5\u30a2\u30d7\u30ea with Growl \uff5e\u30e9\u30ba\u30d1\u30a4\u3068Julius\u3092\u6dfb\u3048\u3066\uff5e\",\n         \"stock_count\": 3\n     }\n   }\n]\n\n\n\n\u2462\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u8ffd\u52a0\n\u30e2\u30c7\u30eb\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308bSerialzier\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3002\n\nserializers.py\nfrom rest_framework import serializers\nfrom stocks.models import Stock\n\n\nclass StockSerializer(serializers.ModelSerializer):\n\n    class Meta:\n        model = Stock\n        fields = (\"id\", \"title\", 'stock_count')\n\n\n\n\u2463View\u8ffd\u52a0\nView\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3002\n\nviews.py\nimport os\n\nfrom django.conf import settings\nfrom django.http.response import HttpResponse\nfrom rest_framework import viewsets\n\nfrom stocks.models import Stock\nfrom stocks.serializer import StockSerializer\n\n# \u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059View\ndef index(_):\n    # render\u7b49\u3067Django\u306etemplate\u3068\u3057\u3066\u51e6\u7406\u3059\u308b\u3068\u300c{{}}\u300d\u304cVue.js\u306b\u6e21\u308b\u524d\u6d88\u3048\u3066\u3057\u307e\u3046\u3002\n    # \u826f\u3044\u89e3\u6c7a\u65b9\u6cd5\u304c\u6d6e\u304b\u3070\u306a\u304b\u3063\u305f\u306e\u3067\u3001static\u914d\u4e0b\u306b\u7f6e\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092open\u3057\u3066\u6295\u3052\u308b\u3053\u3068\u3067\u56de\u907f\u3002\n    html = open(\n        os.path.join(settings.STATICFILES_DIRS[0], \"vue_grid.html\")).read()\n    return HttpResponse(html)\n\n# RestAPI\u306eviewsets\nclass StockViewSet(viewsets.ModelViewSet):\n    queryset = Stock.objects.all()\n    serializer_class = StockSerializer\n    # API\u306e\u30d5\u30a3\u30eb\u30bf\u3067\u4f7f\u3048\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\n    filter_fields = (\"id\", \"title\", 'stock_count')\n\n\n\n\u2464URL\u306e\u8a2d\u5b9a\u8ffd\u52a0\n\u89aa\uff08qiitalist\uff09\u3068\u5b50\uff08stocks\uff09\u3067\u4e00\u5fdc\u5206\u5272\u3002\n\nurls.py(qiitalist)\nfrom django.conf.urls import include, url\nfrom stocks.urls import urlpatterns as qiitalist_url\n\nurlpatterns = [\n    url(r'^qiita/', include(qiitalist_url)),\n]\n\n\n\n\nurls.py(stocks)\nfrom django.conf.urls import include, url\nfrom rest_framework import routers\n\nfrom stocks.views import StockViewSet, index\n\nrouter = routers.DefaultRouter()\nrouter.register(r'stock', StockViewSet)\n\nurlpatterns = [\n    # qiita/api/stock/\n    url(r'api/', include(router.urls)),\n    # qiita/\n    url(r'', index, name='index'),\n]\n\n\n\n\u2465\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\nhttps://jp.vuejs.org/v2/examples/grid-component.html\u306e\u30b0\u30ea\u30c3\u30c9\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f8b\u3092\u771f\u4f3c\u3057\u307e\u3059\u3002\n\nvue_grid.css\n/* \u30b3\u30d4\u30da\u306a\u306e\u3067\u5272\u611b */\n\n\n\nvue_grid.js\n//\u4e0a\u90e8\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u5b9f\u88c5\u90e8\u5206\u306f\u30b3\u30d4\u30da\u306a\u306e\u3067\u5272\u611b\n//new Vue\u90e8\u5206\u3060\u3051RestAPI\u304b\u3089\u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u6539\u9020\nvar demo = new Vue({\n      el: '#demo',\n      data: {\n        searchQuery: '',\n        gridColumns: [\"id\", \"title\", 'stock_count'], // \u5909\u66f4\n        gridData: [] // \u30c7\u30fc\u30bf\u306fAPI\u3067\u53d6\u3063\u3066\u304f\u308b\u306e\u3067\u524a\u9664\n      },\n      created: function() //RestAPI\u304b\u3089\u53d6\u3063\u3066\u304d\u3066gridData\u306b\u8ffd\u52a0\u3059\u308b\u3002\n          var self = this //\u30b9\u30b3\u30fc\u30d7\u7684\u306b\u5fc5\u8981\u3063\u307d\u3044\uff08this.gridData.push\u3067\u306f\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\uff09\n          axios.get('/qiita/api/stock/')\n            .then(function(response){\n              for(var i = 0; i < response.data.results.length; i++){\n                      self.gridData.push(response.data.results[i]);\n                  }\n            });\n          }\n    })\n\n\n\nvue_grid.html\n<!-- vue_grid.html\u306f\u8868\u793a\u9805\u76ee\u306b\u5408\u308f\u305b\u3066\u3061\u3087\u3063\u3068\u6539\u9020\u3002 -->\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Welcome to Vue</title>\n  <!-- CSS\u8aad\u307f\u8fbc\u307f -->\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"/static/vue_grid.css\">\n\n  <!-- JS(CDN)\u8aad\u307f\u8fbc\u307f -->\n  <!-- Vue.js -->\n  <script src=\"https://unpkg.com/vue/dist/vue.js\"></script>\n  <!-- Axios\uff08vue-resource\u306e\u4ee3\u308f\u308a\uff09 -->\n  <script src=\"https://unpkg.com/axios/dist/axios.min.js\"></script>\n</head>\n<body>\n<script type=\"text/x-template\" id=\"grid-template\">\n  <table>\n    <thead>\n      <tr>\n        <th v-for=\"key in columns\"\n          @click=\"sortBy(key)\"\n          :class=\"{ active: sortKey == key }\">\n          {{ key | capitalize }}\n          <span class=\"arrow\" :class=\"sortOrders[key] > 0 ? 'asc' : 'dsc'\">\n          </span>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"entry in filteredData\">\n        <td v-for=\"key in columns\">\n          {{entry[key]}}\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</script>\n\n<div id=\"demo\">\n  <form id=\"search\">\n    Search <input name=\"query\" v-model=\"searchQuery\">\n  </form>\n  <demo-grid\n    :data=\"gridData\"\n    :columns=\"gridColumns\"\n    :filter-key=\"searchQuery\">\n  </demo-grid>\n</div>\n</body>\n\n<!-- JS\u8aad\u307f\u8fbc\u307f -->\n<script src=\"/static/vue_grid.js\"></script>\n</html>\n\n\n\n \u52d5\u304b\u3057\u3066\u307f\u308b\u3002\nDB\u3092\u4f5c\u6210\u3002\n# python manage.py makemigrations\n# python manage.py migrate\n\n\u521d\u671f\u30c7\u30fc\u30bf\u3092\u6295\u5165\u3002\n# python manage.py loaddata fixture.json\n\n\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3002\n# python manage.py runserver\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089API\u30b3\u30f3\u30bd\u30fc\u30ebhttp://localhost:8000/qiita/api/\u306b\u30a2\u30af\u30bb\u30b9\u3002\n\nhttp://localhost:8000/qiita/api/stock/\u3067stock\u306e\u4e00\u89a7\u53d6\u5f97\u3002\n\uff08\u2460\u306e\u30da\u30fc\u30b8\u30f3\u30b0\u8a2d\u5b9a\u3067\u6700\u59275\u4ef6\u307e\u3067\u53d6\u5f97\u3057\u3066\u8868\u793a\u3000\u203b\u6ce8 \u767b\u9332\u3057\u305fStock\u306f4\u4ef6\u306a\u306e\u3067\u7279\u306b\u610f\u5473\u306f\u7121\u3057\uff09\n\nhttp://localhost:8000/qiita/\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u8868\u793a\u3057\u3066\u307f\u308b\u3002\n\n\n \u6240\u611f\n\u3068\u308a\u3042\u3048\u305a\u52d5\u304f\u6240\u307e\u3067\u306f\u4f5c\u308c\u305f\u306e\u3067\u3001\u52c9\u5f37\u3059\u308b\u610f\u6b32\u304c\u6cb8\u304d\u59cb\u3081\u305f\u3002\nVue.js\u306f\u307b\u307c\u5199\u7d4c\u3060\u3051\u3069\u3001AngularJS\u3001React.js\u3088\u308a\u3082\u4f7f\u3044\u3084\u3059\u3044\uff08\u76f4\u611f\u7684\uff09\u6c17\u304c\u3057\u305f\u3002\n\u6271\u3046\u30c7\u30fc\u30bf\u304c\u4ef6\u6570\u5c11\u306a\u3044\u306e\u304c\u81f4\u547d\u7684\u3002\u9762\u767d\u304f\u306a\u3044\u306e\u3067\u3069\u3093\u3069\u3093\u8a18\u4e8b\u3092\u5897\u3084\u305d\u3046\u2026\u3002\n\n \u53c2\u8003\n\nDjango REST Framework\u3092\u4f7f\u3063\u3066\u7206\u901f\u3067API\u3092\u5b9f\u88c5\u3059\u308b\n\u30b0\u30ea\u30c3\u30c9\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u306e\u4f8b\nDjango \u306e Fixture \u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u751f\u6210\u3059\u308b\nVue\u3067Ajax\u3084\u308b\u3068\u304d\u306faxios\u304c\u304a\u3059\u3059\u3081\u306a\u3093\u3060\u3063\u3066\u3002\nVue.js\u304b\u3089\u624b\u8efd\u306b\u59cb\u3081\u308bJavaScript\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\n\n\n# <i class=\"fa fa-forward\" style=\"font-size:1em;\"></i> \u306f\u3058\u3081\u306b\n**Django REST framework**\u3068**Vue.js**\u304c\u6c17\u306b\u306a\u3063\u305f\u306e\u3067\u3001\u7d44\u307f\u5408\u308f\u305b\u3066\u52d5\u304b\u3057\u3066\u307f\u305f\u3002\n\n# <i class=\"fa fa-graduation-cap\" style=\"font-size:1em;\"></i> \u69cb\u6210\u30fb\u52d5\u4f5c\u6982\u8981\nDjango\u306ehtml\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u6a5f\u80fd\u306f\u4f7f\u308f\u305a\u306b\u3001\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066HTML\u30c7\u30fc\u30bf\u3092\u8fd4\u5374\u3057\u3001\u30d6\u30e9\u30a6\u30b6\u304b\u3089Vue.js\u3067RestAPI\u7d4c\u7531\u3067\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u305f\u60c5\u5831\u306e\u4e00\u89a7\u3092\u8868\u793a\u3057\u3066\u307f\u308b\u3002\n\uff08DB\u306fSQLite3\u3001\u30b5\u30f3\u30d7\u30eb\u30c7\u30fc\u30bf\u306f\u81ea\u5206\u306e\u8a18\u4e8b\u306e\u30b9\u30c8\u30c3\u30af\u6570\u3092\u4f7f\u3063\u305f\u3002\uff09\n\n![vues\u3068rest.png](https://qiita-image-store.s3.amazonaws.com/0/82760/85115f0f-1589-8981-d5db-ec5fb5fa0460.png)\n\n# <i class=\"fa fa-cogs\" style=\"font-size:1em;\"></i> \u52d5\u4f5c\u74b0\u5883\n\nPython\u306f**Python 3.5.1**\n\u30d1\u30c3\u30b1\u30fc\u30b8\u306f\u4ee5\u4e0b\n\n    # pip3 freeze\n    Django==1.10.5\n    django-filter==1.0.1\n    djangorestframework==3.5.3\n\nVue.js\u3068axios\u306fCDN\u3067\u53d6\u3063\u3066\u304d\u3066\u3044\u3066\u3001\u6295\u7a3f\u6642\u70b9\uff082017/1/30\uff09\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4ee5\u4e0b\u3002\n\n- Vue.js: 2.1.10\n- axios: 0.15.3\n\n# <i class=\"fa fa-play\" style=\"font-size:1em;\"></i> \u8a66\u3059\n\n## \u3068\u308a\u3042\u3048\u305aDjango\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u4f5c\u6210\n\u3044\u3064\u3082\u306e\u3002\n\n    # django-admin startproject qiitalist\n    # cd qiitalist/\n    # python manage.py startapp stocks\n\n## \u5b8c\u6210\u5f62\n\u3053\u3093\u306a\u611f\u3058\u306e\u69cb\u6210\u306b\u306a\u3063\u305f\u3002\u2460\uff5e\u2465\u500b\u5225\u306b\u5b9f\u88c5\u3092\u898b\u3066\u3044\u304d\u307e\u3059\u3002\uff08\u25b2=\u4eca\u56de\u4f7f\u308f\u306a\u3044\u30d5\u30a1\u30a4\u30eb\uff09\n\n    qiitalist\n    \u2502  fixture.json # \u2461\u30e2\u30c7\u30eb\u8ffd\u52a0\n    \u2502  manage.py\n    \u2502\n    \u251c\u2500qiitalist\n    \u2502  \u2502  settings.py # \u2460\u8a2d\u5b9a\u8ffd\u52a0\n    \u2502  \u2502  urls.py # \u2464URL\u8a2d\u5b9a\u8ffd\u52a0\n    \u2502  \u2502  wsgi.py # \u25b2\n    \u2502  \u2502  __init__.py\n    \u2502  \u2502\n    \u2502  \u2514\u2500static # \u2465\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n    \u2502          vue_grid.css\n    \u2502          vue_grid.html\n    \u2502          vue_grid.js\n    \u2502\n    \u2514\u2500stocks\n        \u2502  admin.py # \u25b2\n        \u2502  apps.py # \u25b2\n        \u2502  models.py # \u2461\u30e2\u30c7\u30eb\u8ffd\u52a0\n        \u2502  tests.py # \u25b2\n        \u2502  serializer.py \u2462\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u8ffd\u52a0\n        \u2502  urls.py  # \u2464URL\u8a2d\u5b9a\u8ffd\u52a0\n        \u2502  views.py # \u2463View\u8ffd\u52a0\n        \u2502  __init__.py\n        \u2502\n        \u2514\u2500migrations\n\n### \u2460\u8a2d\u5b9a\u8ffd\u52a0\n\u5b9f\u88c5\u3059\u308b\u30a2\u30d7\u30ea\u3068\u3001REST Framework\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3002\n\n```settings.py\n# \u8ffd\u52a0\u5206\u3060\u3051\u629c\u7c8b\n# \u30a2\u30d7\u30ea\u306e\u8ffd\u52a0\nINSTALLED_APPS += [\n    'stocks',\n    'rest_framework',\n]\n# REST API\u8a2d\u5b9a\uff08\u30d5\u30a3\u30eb\u30bf\u3001\u30da\u30fc\u30b8\u30f3\u30b0\uff09\nREST_FRAMEWORK = {\n    'DEFAULT_FILTER_BACKENDS': ('rest_framework.filters.DjangoFilterBackend',),\n    'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.LimitOffsetPagination',\n    'PAGE_SIZE': 5\n}\n# views.py\u3067\u4f7f\u3046\u30d1\u30b9\u3092\u5b9a\u7fa9\nPACKAGE_ROOT = os.path.abspath(os.path.dirname(__file__))\nSTATICFILES_DIRS = (os.path.join(PACKAGE_ROOT, 'static'),)\n```\n\n### \u2461\u30e2\u30c7\u30eb\u8ffd\u52a0\nREST API\u3067\u516c\u958b\u3059\u308b\u30c7\u30fc\u30bf\u30e2\u30c7\u30eb\u3001\u53ca\u3073\u521d\u671f\u30c7\u30fc\u30bf\uff08\u30d5\u30a3\u30af\u30b9\u30c1\u30e3\uff09\u3092\u6e96\u5099\u3002\n\n```models.py\nfrom django.db import models\n\n\nclass Stock(models.Model):\n\n    class Meta:\n        db_table = \"stock\"\n    id = models.AutoField(primary_key=True)\n    title = models.TextField()\n    stock_count = models.IntegerField()\n```\n```json:fixture.json\n[\n  {\n    \"model\": \"stocks.stock\",\n    \"pk\": 1,\n    \"fields\": {\n      \"title\": \"Python\u3067\u6a5f\u68b0\u5b66\u7fd2\u306f\u3058\u3081\u307e\u3057\u305f(Qiita\u3078\u306e\u6295\u7a3f\u3082\u306f\u3058\u3081\u307e\u3057\u305f) \u30c7\u30fc\u30bf\u6e96\u5099\u7de8\",\n      \"stock_count\": 29\n    }\n  },\n  {\n        \"model\": \"stocks.stock\",\n        \"pk\": 2,\n        \"fields\": {\n          \"title\": \"Scrapy\u3068Django\u3067\u30e9\u30fc\u30e1\u30f3\u30de\u30c3\u30d7\u4f5c\u6210\",\n          \"stock_count\": 23\n     }\n  },\n  {\n      \"model\": \"stocks.stock\",\n      \"pk\": 3,\n      \"fields\": {\n        \"title\": \"Python\u3067\u6a5f\u68b0\u5b66\u7fd2\u306f\u3058\u3081\u307e\u3057\u305f \u30c7\u30fc\u30bf\u524d\u51e6\u7406\u7de8\",\n        \"stock_count\": 22\n     }\n  },\n  {\n       \"model\": \"stocks.stock\",\n       \"pk\": 4,\n       \"fields\": {\n         \"title\": \"Python\u3067RabbitMQ\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u901a\u77e5\u30a2\u30d7\u30ea with Growl \uff5e\u30e9\u30ba\u30d1\u30a4\u3068Julius\u3092\u6dfb\u3048\u3066\uff5e\",\n         \"stock_count\": 3\n     }\n   }\n]\n```\n\n### \u2462\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u8ffd\u52a0\n\u30e2\u30c7\u30eb\u3092\u30b7\u30ea\u30a2\u30e9\u30a4\u30ba\u3059\u308bSerialzier\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3002\n\n```serializers.py\nfrom rest_framework import serializers\nfrom stocks.models import Stock\n\n\nclass StockSerializer(serializers.ModelSerializer):\n\n    class Meta:\n        model = Stock\n        fields = (\"id\", \"title\", 'stock_count')\n```\n\n### \u2463View\u8ffd\u52a0\nView\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3002\n\n```views.py\nimport os\n\nfrom django.conf import settings\nfrom django.http.response import HttpResponse\nfrom rest_framework import viewsets\n\nfrom stocks.models import Stock\nfrom stocks.serializer import StockSerializer\n\n# \u9759\u7684\u30d5\u30a1\u30a4\u30eb\u3092\u8fd4\u3059View\ndef index(_):\n    # render\u7b49\u3067Django\u306etemplate\u3068\u3057\u3066\u51e6\u7406\u3059\u308b\u3068\u300c{{}}\u300d\u304cVue.js\u306b\u6e21\u308b\u524d\u6d88\u3048\u3066\u3057\u307e\u3046\u3002\n    # \u826f\u3044\u89e3\u6c7a\u65b9\u6cd5\u304c\u6d6e\u304b\u3070\u306a\u304b\u3063\u305f\u306e\u3067\u3001static\u914d\u4e0b\u306b\u7f6e\u3044\u305f\u30d5\u30a1\u30a4\u30eb\u3092open\u3057\u3066\u6295\u3052\u308b\u3053\u3068\u3067\u56de\u907f\u3002\n    html = open(\n        os.path.join(settings.STATICFILES_DIRS[0], \"vue_grid.html\")).read()\n    return HttpResponse(html)\n\n# RestAPI\u306eviewsets\nclass StockViewSet(viewsets.ModelViewSet):\n    queryset = Stock.objects.all()\n    serializer_class = StockSerializer\n    # API\u306e\u30d5\u30a3\u30eb\u30bf\u3067\u4f7f\u3048\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6307\u5b9a\n    filter_fields = (\"id\", \"title\", 'stock_count')\n```\n\n### \u2464URL\u306e\u8a2d\u5b9a\u8ffd\u52a0\n\u89aa\uff08qiitalist\uff09\u3068\u5b50\uff08stocks\uff09\u3067\u4e00\u5fdc\u5206\u5272\u3002\n\n```py:urls.py(qiitalist)\nfrom django.conf.urls import include, url\nfrom stocks.urls import urlpatterns as qiitalist_url\n\nurlpatterns = [\n    url(r'^qiita/', include(qiitalist_url)),\n]\n\n```\n\n```py:urls.py(stocks)\nfrom django.conf.urls import include, url\nfrom rest_framework import routers\n\nfrom stocks.views import StockViewSet, index\n\nrouter = routers.DefaultRouter()\nrouter.register(r'stock', StockViewSet)\n\nurlpatterns = [\n    # qiita/api/stock/\n    url(r'api/', include(router.urls)),\n    # qiita/\n    url(r'', index, name='index'),\n]\n```\n\n### \u2465\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\n<font color=\"LightSeaGreen\">https://jp.vuejs.org/v2/examples/grid-component.html</font>\u306e\u30b0\u30ea\u30c3\u30c9\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u4f8b\u3092\u771f\u4f3c\u3057\u307e\u3059\u3002\n\n```vue_grid.css\n/* \u30b3\u30d4\u30da\u306a\u306e\u3067\u5272\u611b */\n```\n\n```vue_grid.js\n//\u4e0a\u90e8\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u5b9f\u88c5\u90e8\u5206\u306f\u30b3\u30d4\u30da\u306a\u306e\u3067\u5272\u611b\n//new Vue\u90e8\u5206\u3060\u3051RestAPI\u304b\u3089\u6307\u5b9a\u306e\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u6539\u9020\nvar demo = new Vue({\n      el: '#demo',\n      data: {\n        searchQuery: '',\n        gridColumns: [\"id\", \"title\", 'stock_count'], // \u5909\u66f4\n        gridData: [] // \u30c7\u30fc\u30bf\u306fAPI\u3067\u53d6\u3063\u3066\u304f\u308b\u306e\u3067\u524a\u9664\n      },\n      created: function() //RestAPI\u304b\u3089\u53d6\u3063\u3066\u304d\u3066gridData\u306b\u8ffd\u52a0\u3059\u308b\u3002\n          var self = this //\u30b9\u30b3\u30fc\u30d7\u7684\u306b\u5fc5\u8981\u3063\u307d\u3044\uff08this.gridData.push\u3067\u306f\u30a8\u30e9\u30fc\u306b\u306a\u308b\u3002\uff09\n          axios.get('/qiita/api/stock/')\n            .then(function(response){\n              for(var i = 0; i < response.data.results.length; i++){\n                      self.gridData.push(response.data.results[i]);\n                  }\n            });\n          }\n    })\n```\n```html+jinja:vue_grid.html\n<!-- vue_grid.html\u306f\u8868\u793a\u9805\u76ee\u306b\u5408\u308f\u305b\u3066\u3061\u3087\u3063\u3068\u6539\u9020\u3002 -->\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Welcome to Vue</title>\n  <!-- CSS\u8aad\u307f\u8fbc\u307f -->\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"/static/vue_grid.css\">\n\n  <!-- JS(CDN)\u8aad\u307f\u8fbc\u307f -->\n  <!-- Vue.js -->\n  <script src=\"https://unpkg.com/vue/dist/vue.js\"></script>\n  <!-- Axios\uff08vue-resource\u306e\u4ee3\u308f\u308a\uff09 -->\n  <script src=\"https://unpkg.com/axios/dist/axios.min.js\"></script>\n</head>\n<body>\n<script type=\"text/x-template\" id=\"grid-template\">\n  <table>\n    <thead>\n      <tr>\n        <th v-for=\"key in columns\"\n          @click=\"sortBy(key)\"\n          :class=\"{ active: sortKey == key }\">\n          {{ key | capitalize }}\n          <span class=\"arrow\" :class=\"sortOrders[key] > 0 ? 'asc' : 'dsc'\">\n          </span>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"entry in filteredData\">\n        <td v-for=\"key in columns\">\n          {{entry[key]}}\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</script>\n\n<div id=\"demo\">\n  <form id=\"search\">\n    Search <input name=\"query\" v-model=\"searchQuery\">\n  </form>\n  <demo-grid\n    :data=\"gridData\"\n    :columns=\"gridColumns\"\n    :filter-key=\"searchQuery\">\n  </demo-grid>\n</div>\n</body>\n\n<!-- JS\u8aad\u307f\u8fbc\u307f -->\n<script src=\"/static/vue_grid.js\"></script>\n</html>\n```\n\n# <i class=\"fa fa-hand-rock-o\" style=\"font-size:1em;\"></i> \u52d5\u304b\u3057\u3066\u307f\u308b\u3002\nDB\u3092\u4f5c\u6210\u3002\n\n    # python manage.py makemigrations\n    # python manage.py migrate\n\n\u521d\u671f\u30c7\u30fc\u30bf\u3092\u6295\u5165\u3002\n\n    # python manage.py loaddata fixture.json\n\n\u30b5\u30fc\u30d0\u3092\u8d77\u52d5\u3002\n\n    # python manage.py runserver\n\n\u30d6\u30e9\u30a6\u30b6\u304b\u3089API\u30b3\u30f3\u30bd\u30fc\u30eb`http://localhost:8000/qiita/api/`\u306b\u30a2\u30af\u30bb\u30b9\u3002\n\n![apitop.png](https://qiita-image-store.s3.amazonaws.com/0/82760/8ff87598-25ee-6e2d-4d98-4976d4c64d11.png)\n\n`http://localhost:8000/qiita/api/stock/`\u3067stock\u306e\u4e00\u89a7\u53d6\u5f97\u3002\n\uff08\u2460\u306e\u30da\u30fc\u30b8\u30f3\u30b0\u8a2d\u5b9a\u3067\u6700\u59275\u4ef6\u307e\u3067\u53d6\u5f97\u3057\u3066\u8868\u793a\u3000\u203b\u6ce8 \u767b\u9332\u3057\u305fStock\u306f4\u4ef6\u306a\u306e\u3067\u7279\u306b\u610f\u5473\u306f\u7121\u3057\uff09\n\n![apistock.png](https://qiita-image-store.s3.amazonaws.com/0/82760/03dddb1f-486b-55c7-1f00-c651635f75ab.png)\n\n`http://localhost:8000/qiita/`\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3066\u8868\u793a\u3057\u3066\u307f\u308b\u3002\n\n![qiitatop.png](https://qiita-image-store.s3.amazonaws.com/0/82760/5de6c531-c762-6cb6-a8a4-87bbaff692e4.png)\n \n# <i class=\"fa fa-line-chart\" style=\"font-size:1em;\"></i> \u6240\u611f\n\u3068\u308a\u3042\u3048\u305a\u52d5\u304f\u6240\u307e\u3067\u306f\u4f5c\u308c\u305f\u306e\u3067\u3001\u52c9\u5f37\u3059\u308b\u610f\u6b32\u304c\u6cb8\u304d\u59cb\u3081\u305f\u3002\nVue.js\u306f\u307b\u307c\u5199\u7d4c\u3060\u3051\u3069\u3001AngularJS\u3001React.js\u3088\u308a\u3082\u4f7f\u3044\u3084\u3059\u3044\uff08\u76f4\u611f\u7684\uff09\u6c17\u304c\u3057\u305f\u3002\n\u6271\u3046\u30c7\u30fc\u30bf\u304c\u4ef6\u6570\u5c11\u306a\u3044\u306e\u304c\u81f4\u547d\u7684\u3002\u9762\u767d\u304f\u306a\u3044\u306e\u3067\u3069\u3093\u3069\u3093\u8a18\u4e8b\u3092\u5897\u3084\u305d\u3046\u2026\u3002\n\n# <i class=\"fa fa-line-chart\" style=\"font-size:1em;\"></i> \u53c2\u8003\n- [Django REST Framework\u3092\u4f7f\u3063\u3066\u7206\u901f\u3067API\u3092\u5b9f\u88c5\u3059\u308b](http://qiita.com/kimihiro_n/items/86e0a9e619720e57ecd8)\n- [\u30b0\u30ea\u30c3\u30c9\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u306e\u4f8b](https://jp.vuejs.org/v2/examples/grid-component.html)\n- [Django \u306e Fixture \u3092\u4f7f\u3063\u3066\u30c7\u30fc\u30bf\u751f\u6210\u3059\u308b](http://tech-shiroibanana.hatenablog.com/entry/2017/01/28/182815)\n- [Vue\u3067Ajax\u3084\u308b\u3068\u304d\u306faxios\u304c\u304a\u3059\u3059\u3081\u306a\u3093\u3060\u3063\u3066\u3002](http://ginpen.com/2016/12/14/vue-ajax-axios/)\n- [Vue.js\u304b\u3089\u624b\u8efd\u306b\u59cb\u3081\u308bJavaScript\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\n](http://qiita.com/icoxfog417/items/49f7301be502bc2ad897)\n", "tags": ["Django", "django-rest-framework", "vue.js", "Python", "JavaScript"]}