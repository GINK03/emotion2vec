{"tags": ["ROS"], "context": "\n\n\u6982\u8981\n\nrosparam\u306e\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u306e\u30e1\u30e2\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u4f7f\u7528\nlaunch\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4f7f\u7528\nC++, Python\u304b\u3089\u4f7f\u7528\n\n\n\u74b0\u5883\n\nubuntu 16.04\nROS kinetic\n\n\nrosparam\u3068\u306f\n\nwiki\n\n\nhttp://wiki.ros.org/rosparam\n\n\nroscore\u8d77\u52d5\u6642\u306b\u4e00\u7dd2\u306b\u8d77\u52d5\u3055\u308c\u308bROS Parameter Server\n\u5b9a\u6570\u306a\u3069\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3059\u308b\n\u5404\u5024\u306fROS Parameter Server\u306b\u767b\u9332\u3055\u308c\u308b\n\n\n/foo/bar \u3068\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\n\n\nroscore\u7d42\u4e86\u6642\u306b\u767b\u9332\u3057\u305f\u5024\u306f\u5168\u3066\u524a\u9664\u3055\u308c\u308b\n\u8a2d\u5b9a\u3067\u304d\u308b\u5024\u306f\n\n\nint\ndouble\nstring\ndate\nlist\nbase64\n\n\n\n\n\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u306e\u4f7f\u3044\u65b9\n\n\u8a2d\u5b9a\u3055\u308c\u3066\u308b\u5024\u306e\u30d1\u30b9\u4e00\u89a7\u3092\u53d6\u5f97\n$ rosparam list\n\n\n\u5024\u3092\u8a2d\u5b9a\n$ rosparam set /foo hogehoge\n\n\n\u5024\u3092\u53d6\u5f97\n$ rosparam get /foo\n\n\n\u968e\u5c64\u69cb\u9020\u306b\u306a\u3063\u3066\u308b\u306e\u3067\u5b50\u306e\u8981\u7d20\u304c\u3042\u308b\u5834\u5408\u306f\u9023\u60f3\u914d\u5217\u3068\u3057\u3066\u53d6\u5f97\u3067\u304d\u308b\n\n\n\u5024\u3092\u524a\u9664\n$ rosparam delete /foo\n\n\nget\u3068\u540c\u3058\u304f\u3053\u306e\u8981\u7d20\u304c\u3042\u308b\u5834\u5408\u306f\u6307\u5b9a\u3057\u305f\u30d1\u30b9\u4ee5\u4e0b\u306e\u5024\u3092\u5168\u3066\u524a\u9664\u3059\u308b\n\n\n\u8a2d\u5b9a\u5024\u3092yaml\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3059\n$ rosparam dump config.yaml\n\n\nyaml\u304b\u3089\u8a2d\u5b9a\u5024\u3092\u30ed\u30fc\u30c9\u3059\u308b\n$ rosparam load config.yml\n\n\nlaunch\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4f7f\u7528\n\nlaunch\u30d5\u30a1\u30a4\u30eb\u3067rosparam\u30bf\u30b0\u3092\u4f7f\u7528\u3059\u308b\u3068roslaunch\u6642\u306b\u8aad\u307f\u8fbc\u307f\u3084\u524a\u9664\u304c\u3067\u304d\u308b\n\n<launch>\n  <rosparam command=\"load\" file=\"$(find package_name)/example.yaml\" />\n  <rosparam command=\"delete\" param=\"my/param\" />\n</launch>\n\n\nnode\u306a\u3069\u3068\u540c\u3058\u304f\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u3082\u6307\u5b9a\u3067\u304d\u308b\n\n<launch>\n  <rosparam ns=\"foo\" command=\"load\" file=\"$(find package_name)/example.yaml\" />\n</launch>\n\n\nPython\u304b\u3089\u6271\u3046\n\nrosparam\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3046\u65b9\u6cd5\u3068\u3001rospy\u3092\u4f7f\u3046\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\n\n\nrosparam\nrosparam\u30b3\u30de\u30f3\u30c9\u306e\u30e9\u30c3\u30d1\u30fc\u7684\u306a\u611f\u3058\u3067\u3001\nget,set\u306f\u3082\u3061\u308d\u3093\u3067\u304d\u307e\u3059\u304c\u3001\u30b3\u30de\u30f3\u30c9\u3067\u3067\u304d\u308bload\u3068\u304bdump\u3092\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u3092\u4f7f\u3044\u307e\u3059\u3002\n>>> import rosparam\n>>> rosparam.get_param(\"/foo/bar\")\n1\n>>> rosparam.set_param(\"/foo/bar/path\", \"value\")\n>>> rosparam.get_param(\"/foo/bar/path\")\n'value'\n>>> rosparam.get_param(\"/foo\")  # \u968e\u5c64\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u306fdict\u3067\u53d6\u5f97\u3067\u304d\u308b\n{'bar': {'path': 'value'}}\n\n\nrospy\nrospy\u3067\u3082get, set\u306f\u3067\u304d\u307e\u3059\u304c\u3001load\u3084dump\u306f\u3067\u304d\u307e\u305b\u3093\u3002\nrosparam\u3068\u540c\u3058\u304f\u5b58\u5728\u3057\u306a\u3044\u30ad\u30fc\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3059\u308b\u3068Exception\u304c\u767a\u751f\u3057\u307e\u3059\u304c\u3001\n\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u3057\u3066\u3044\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n>>> import rospy\n>>> rospy.get_param(\"/foo/bar/\")\n{'path': 'value'}\n>>> rospy.get_param(\"/foo/bar/path\")\n'value'\n>>> rospy.get_param(\"/foo/bar/undefined\")\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/client.py\", line 465, in get_param\n    return _param_server[param_name] #MasterProxy does all the magic for us\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/msproxy.py\", line 123, in __getitem__\n    raise KeyError(key)\nKeyError: '/foo/bar/undefined'\n>>> print rospy.get_param(\"/foo/bar/undefined\", None)\nNone\n\n\nC++\u304b\u3089\u6271\u3046\nC++\u306e\u5834\u5408\u306fNodeHandle\u304b\u3089rosparam\u3092\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n#include <ros/ros.h>\n\nint main(int argc, char** argv) {\n  ros::init(argc, argv, \"rosparam\");\n  ros::NodeHandle nh;\n\n  // \u53d6\u5f97\u3057\u305f\u3044\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5024\u306b\u5bfe\u5fdc\u3059\u308b\u578b\u306e\u5909\u6570\u3092\u5f15\u6570\u3067\u6e21\u3059\n  int int_param;\n  nh.getParam(\"/foo/bar\", int_param);\n\n  std::cout << int_param << std::endl;\n  return 0;\n}\n\n\n\u5b9f\u884c\u7d50\u679c\n\n$ rosrun rosparam_ex rosparam_ex_node \n1\n\n\u8907\u6570\u306e\u5024\u3092\u4e00\u5ea6\u306b\u53d6\u5f97\u3057\u305f\u3044\u5834\u5408\u306fXmlRpcValue\u3092\u4f7f\u3044\u307e\u3059\u3002\n#include <ros/ros.h>\n\nint main(int argc, char** argv) {\n  ros::init(argc, argv, \"rosparam\");\n  ros::NodeHandle nh;\n\n  XmlRpc::XmlRpcValue params;\n  nh.getParam(\"/foo/bar\", params);\n\n  std::cout << params << std::endl;\n\n  std::cout << params[\"path\"] << std::endl;  // std::map\u3068\u540c\u3058\u8981\u9818\u3067\u5024\u3092\u53d6\u5f97\u3067\u304d\u308b\n\n  return 0;\n}\n\n\n\u5b9f\u884c\u7d50\u679c\n\n$ rosrun rosparam_ex rosparam_ex_node \n[path:value]\nvalue\n\nrosparam\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u521d\u671f\u5316\u306e\u8a2d\u5b9a\u306a\u3069\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\n\u8d77\u52d5\u6642\u306e\u5f15\u6570\u304c\u591a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u6642\u306a\u3069\u306f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3054\u3068\u306byaml\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\u3002\n## \u6982\u8981\n\n* rosparam\u306e\u4f7f\u3044\u65b9\u306b\u3064\u3044\u3066\u306e\u30e1\u30e2\n* \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u4f7f\u7528\n* launch\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4f7f\u7528\n* C++, Python\u304b\u3089\u4f7f\u7528\n\n## \u74b0\u5883\n\n* ubuntu 16.04\n* ROS kinetic\n\n## rosparam\u3068\u306f\n\n* wiki\n    * http://wiki.ros.org/rosparam\n* roscore\u8d77\u52d5\u6642\u306b\u4e00\u7dd2\u306b\u8d77\u52d5\u3055\u308c\u308bROS Parameter Server\n* \u5b9a\u6570\u306a\u3069\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3059\u308b\n* \u5404\u5024\u306fROS Parameter Server\u306b\u767b\u9332\u3055\u308c\u308b\n    * /foo/bar \u3068\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u5404\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\n* roscore\u7d42\u4e86\u6642\u306b\u767b\u9332\u3057\u305f\u5024\u306f\u5168\u3066\u524a\u9664\u3055\u308c\u308b\n* \u8a2d\u5b9a\u3067\u304d\u308b\u5024\u306f\n    * int\n    * double\n    * string\n    * date\n    * list\n    * base64\n\n### \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u306e\u4f7f\u3044\u65b9\n\n#### \u8a2d\u5b9a\u3055\u308c\u3066\u308b\u5024\u306e\u30d1\u30b9\u4e00\u89a7\u3092\u53d6\u5f97\n\n```bash\n$ rosparam list\n```\n\n#### \u5024\u3092\u8a2d\u5b9a\n\n```bash\n$ rosparam set /foo hogehoge\n```\n\n#### \u5024\u3092\u53d6\u5f97\n\n```bash\n$ rosparam get /foo\n```\n\n* \u968e\u5c64\u69cb\u9020\u306b\u306a\u3063\u3066\u308b\u306e\u3067\u5b50\u306e\u8981\u7d20\u304c\u3042\u308b\u5834\u5408\u306f\u9023\u60f3\u914d\u5217\u3068\u3057\u3066\u53d6\u5f97\u3067\u304d\u308b\n\n#### \u5024\u3092\u524a\u9664\n\n```bash\n$ rosparam delete /foo\n```\n\n* get\u3068\u540c\u3058\u304f\u3053\u306e\u8981\u7d20\u304c\u3042\u308b\u5834\u5408\u306f\u6307\u5b9a\u3057\u305f\u30d1\u30b9\u4ee5\u4e0b\u306e\u5024\u3092\u5168\u3066\u524a\u9664\u3059\u308b\n\n#### \u8a2d\u5b9a\u5024\u3092yaml\u30d5\u30a1\u30a4\u30eb\u306b\u66f8\u304d\u51fa\u3059\n\n```bash\n$ rosparam dump config.yaml\n```\n\n#### yaml\u304b\u3089\u8a2d\u5b9a\u5024\u3092\u30ed\u30fc\u30c9\u3059\u308b\n\n```bash\n$ rosparam load config.yml\n```\n\n### launch\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u4f7f\u7528\n\n* launch\u30d5\u30a1\u30a4\u30eb\u3067rosparam\u30bf\u30b0\u3092\u4f7f\u7528\u3059\u308b\u3068roslaunch\u6642\u306b\u8aad\u307f\u8fbc\u307f\u3084\u524a\u9664\u304c\u3067\u304d\u308b\n\n```xml\n<launch>\n  <rosparam command=\"load\" file=\"$(find package_name)/example.yaml\" />\n  <rosparam command=\"delete\" param=\"my/param\" />\n</launch>\n```\n\n* node\u306a\u3069\u3068\u540c\u3058\u304f\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u3082\u6307\u5b9a\u3067\u304d\u308b\n\n```xml\n<launch>\n  <rosparam ns=\"foo\" command=\"load\" file=\"$(find package_name)/example.yaml\" />\n</launch>\n```\n\n### Python\u304b\u3089\u6271\u3046\n\n* rosparam\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4f7f\u3046\u65b9\u6cd5\u3068\u3001rospy\u3092\u4f7f\u3046\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\n\n#### rosparam\n\nrosparam\u30b3\u30de\u30f3\u30c9\u306e\u30e9\u30c3\u30d1\u30fc\u7684\u306a\u611f\u3058\u3067\u3001\nget,set\u306f\u3082\u3061\u308d\u3093\u3067\u304d\u307e\u3059\u304c\u3001\u30b3\u30de\u30f3\u30c9\u3067\u3067\u304d\u308bload\u3068\u304bdump\u3092\u3057\u305f\u3044\u5834\u5408\u306f\u3053\u3061\u3089\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```py\n>>> import rosparam\n>>> rosparam.get_param(\"/foo/bar\")\n1\n>>> rosparam.set_param(\"/foo/bar/path\", \"value\")\n>>> rosparam.get_param(\"/foo/bar/path\")\n'value'\n>>> rosparam.get_param(\"/foo\")  # \u968e\u5c64\u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u306fdict\u3067\u53d6\u5f97\u3067\u304d\u308b\n{'bar': {'path': 'value'}}\n```\n\n#### rospy\n\nrospy\u3067\u3082get, set\u306f\u3067\u304d\u307e\u3059\u304c\u3001load\u3084dump\u306f\u3067\u304d\u307e\u305b\u3093\u3002\nrosparam\u3068\u540c\u3058\u304f\u5b58\u5728\u3057\u306a\u3044\u30ad\u30fc\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3059\u308b\u3068Exception\u304c\u767a\u751f\u3057\u307e\u3059\u304c\u3001\n\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u3057\u3066\u3044\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```py\n>>> import rospy\n>>> rospy.get_param(\"/foo/bar/\")\n{'path': 'value'}\n>>> rospy.get_param(\"/foo/bar/path\")\n'value'\n>>> rospy.get_param(\"/foo/bar/undefined\")\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/client.py\", line 465, in get_param\n    return _param_server[param_name] #MasterProxy does all the magic for us\n  File \"/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/msproxy.py\", line 123, in __getitem__\n    raise KeyError(key)\nKeyError: '/foo/bar/undefined'\n>>> print rospy.get_param(\"/foo/bar/undefined\", None)\nNone\n```\n\n### C++\u304b\u3089\u6271\u3046\n\nC++\u306e\u5834\u5408\u306fNodeHandle\u304b\u3089rosparam\u3092\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n```cpp\n#include <ros/ros.h>\n\nint main(int argc, char** argv) {\n  ros::init(argc, argv, \"rosparam\");\n  ros::NodeHandle nh;\n\n  // \u53d6\u5f97\u3057\u305f\u3044\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5024\u306b\u5bfe\u5fdc\u3059\u308b\u578b\u306e\u5909\u6570\u3092\u5f15\u6570\u3067\u6e21\u3059\n  int int_param;\n  nh.getParam(\"/foo/bar\", int_param);\n\n  std::cout << int_param << std::endl;\n  return 0;\n}\n```\n\n* \u5b9f\u884c\u7d50\u679c\n\n```bash\n$ rosrun rosparam_ex rosparam_ex_node \n1\n```\n\n\u8907\u6570\u306e\u5024\u3092\u4e00\u5ea6\u306b\u53d6\u5f97\u3057\u305f\u3044\u5834\u5408\u306fXmlRpcValue\u3092\u4f7f\u3044\u307e\u3059\u3002\n\n```cpp\n#include <ros/ros.h>\n\nint main(int argc, char** argv) {\n  ros::init(argc, argv, \"rosparam\");\n  ros::NodeHandle nh;\n\n  XmlRpc::XmlRpcValue params;\n  nh.getParam(\"/foo/bar\", params);\n\n  std::cout << params << std::endl;\n\n  std::cout << params[\"path\"] << std::endl;  // std::map\u3068\u540c\u3058\u8981\u9818\u3067\u5024\u3092\u53d6\u5f97\u3067\u304d\u308b\n\n  return 0;\n}\n```\n\n* \u5b9f\u884c\u7d50\u679c\n\n```bash\n$ rosrun rosparam_ex rosparam_ex_node \n[path:value]\nvalue\n```\n\n\nrosparam\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u521d\u671f\u5316\u306e\u8a2d\u5b9a\u306a\u3069\u3092\u5909\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u306e\u3067\u3001\n\u8d77\u52d5\u6642\u306e\u5f15\u6570\u304c\u591a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u6642\u306a\u3069\u306f\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3054\u3068\u306byaml\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3067\u3059\u3002\n"}