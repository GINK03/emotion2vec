{"tags": ["chef", "vagrant1.4.1", "Berkshelf2.0.12", "VirtualBox4.3"], "context": " More than 1 year has passed since last update.\n\n\u7d20\u6750\nVagrant: \u958b\u767a\u74b0\u5883\u3092\u7c21\u5358\u306b\u69cb\u7bc9\u30fb\u7ba1\u7406\u3057\u3001\u914d\u5e03\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u958b\u767a\u74b0\u5883\u4f5c\u6210\u30c4\u30fc\u30eb\nVirtual Box: \u4eee\u60f3\u5316\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3001Vagrant\u306e\u30d7\u30ed\u30d0\u30a4\u30c0\u3068\u3057\u3066\u4f7f\u7528\nChef: \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30ebCookbook\u306b\u5f93\u3063\u3066\u3001\u81ea\u52d5\u7684\u306b\u30e6\u30fc\u30b6\u3084\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8ffd\u52a0\u3092\u884c\u3046\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u7ba1\u7406\u30c4\u30fc\u30eb\nberkshelf: \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f9d\u5b58\u95a2\u4fc2\u3068Cookbook\u306e\u7ba1\u7406\u3092\u3057\u3066\u304f\u308c\u308b\n\n0. \u30db\u30b9\u30c8\u30de\u30b7\u30f3\u524d\u63d0\u74b0\u5883\nRuby 1.9\u4ee5\u964d\n\n1. Vagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://www.vagrantup.com/downloads.html \u3088\u308a\u30db\u30b9\u30c8\u30de\u30b7\u30f3OS\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\n$ vagrant -v\nVagrant 1.4.1\n\n\n2. Virtual Box\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttps://www.virtualbox.org/wiki/Downloads \u3088\u308a\u30db\u30b9\u30c8\u30de\u30b7\u30f3OS\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVagrant \u304c\u6c42\u3081\u308bVirtual Box \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u30014.0.x 4.1.x 4.2.x 4.3.x.\n\n3. Vagrant\u304b\u3089VM\u3092\u8d77\u52d5\u6e96\u5099\nChef\u30d7\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306eCentOS6.3\u306eBox\u3092\u8a2d\u5b9a\n$ mkdir vagrant-centos\n$ cd vagrant-centos\n$ vagrant init centos-chef https://s3.amazonaws.com/itmat-public/centos-6.3-chef-10.14.2.box\n\n\n4. Berkshelf\u3067Cookbook\u7ba1\u7406\nBerkshelf\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u8a2d\u5b9aBerskfile\u3092\u7de8\u96c6\n$ vagrant plugin install vagrant-berkshelf\n$ gem install berkshelf\n$ vi Berksfile\n\n\nBerksfile\nsite :opscode\n\ncookbook 'nginx'\n\n\n$ berks install --path=vendor/cookbooks\n\n\n5. Vagrant\u3067\u30ec\u30b7\u30d4\u3092\u8ffd\u52a0\u3057\u3066\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u304b\u3089\u8d77\u52d5\u307e\u3067\nVagrantfile\u306b\u30ec\u30b7\u30d4\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\nVagrantfile\n......\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  ......\n  ......\n  config.berkshelf.enabled = true\n  config.vm.provision :chef_solo do |chef|\n    chef.cookbooks_path = \"./vendor/cookbooks\"\n    chef.add_recipe \"nginx\"\n  end\nend\n......\n\n\n\u3042\u3068\u306f3\u5206\u307b\u3069\u5f85\u3064\u3060\u3051\uff01\n$ vagrant up\n\n### \u7d20\u6750\n`Vagrant`: \u958b\u767a\u74b0\u5883\u3092\u7c21\u5358\u306b\u69cb\u7bc9\u30fb\u7ba1\u7406\u3057\u3001\u914d\u5e03\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u958b\u767a\u74b0\u5883\u4f5c\u6210\u30c4\u30fc\u30eb\n`Virtual Box`: \u4eee\u60f3\u5316\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3001Vagrant\u306e\u30d7\u30ed\u30d0\u30a4\u30c0\u3068\u3057\u3066\u4f7f\u7528\n`Chef`: \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30ebCookbook\u306b\u5f93\u3063\u3066\u3001\u81ea\u52d5\u7684\u306b\u30e6\u30fc\u30b6\u3084\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u8ffd\u52a0\u3092\u884c\u3046\u30b5\u30fc\u30d0\u30fc\u8a2d\u5b9a\u7ba1\u7406\u30c4\u30fc\u30eb\n`berkshelf`: \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4f9d\u5b58\u95a2\u4fc2\u3068Cookbook\u306e\u7ba1\u7406\u3092\u3057\u3066\u304f\u308c\u308b\n\n### 0. \u30db\u30b9\u30c8\u30de\u30b7\u30f3\u524d\u63d0\u74b0\u5883\nRuby 1.9\u4ee5\u964d\n\n### 1. Vagrant\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttp://www.vagrantup.com/downloads.html \u3088\u308a\u30db\u30b9\u30c8\u30de\u30b7\u30f3OS\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u308c\u3070OK\n\n```\n$ vagrant -v\nVagrant 1.4.1\n```\n\n### 2. Virtual Box\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nhttps://www.virtualbox.org/wiki/Downloads \u3088\u308a\u30db\u30b9\u30c8\u30de\u30b7\u30f3OS\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\n\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nVagrant \u304c\u6c42\u3081\u308bVirtual Box \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u3001`4.0.x` `4.1.x` `4.2.x` `4.3.x`.\n\n### 3. Vagrant\u304b\u3089VM\u3092\u8d77\u52d5\u6e96\u5099\nChef\u30d7\u30ea\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306eCentOS6.3\u306eBox\u3092\u8a2d\u5b9a\n\n```\n$ mkdir vagrant-centos\n$ cd vagrant-centos\n$ vagrant init centos-chef https://s3.amazonaws.com/itmat-public/centos-6.3-chef-10.14.2.box\n```\n\n### 4. Berkshelf\u3067Cookbook\u7ba1\u7406\nBerkshelf\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3001\u8a2d\u5b9aBerskfile\u3092\u7de8\u96c6\n\n```\n$ vagrant plugin install vagrant-berkshelf\n$ gem install berkshelf\n$ vi Berksfile\n```\n\n```:Berksfile\nsite :opscode\n\ncookbook 'nginx'\n```\n\n```\n$ berks install --path=vendor/cookbooks\n```\n\n### 5. Vagrant\u3067\u30ec\u30b7\u30d4\u3092\u8ffd\u52a0\u3057\u3066\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u304b\u3089\u8d77\u52d5\u307e\u3067\nVagrantfile\u306b\u30ec\u30b7\u30d4\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002\n\n```:Vagrantfile\n......\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  ......\n  ......\n  config.berkshelf.enabled = true\n  config.vm.provision :chef_solo do |chef|\n    chef.cookbooks_path = \"./vendor/cookbooks\"\n    chef.add_recipe \"nginx\"\n  end\nend\n......\n```\n\n\u3042\u3068\u306f3\u5206\u307b\u3069\u5f85\u3064\u3060\u3051\uff01\n\n```\n$ vagrant up\n```"}