{"context": " More than 1 year has passed since last update.\u3053\u306e\u8a18\u4e8b\u306fPSoC Creator3.3\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\nCY8CKIT-059\u3068\u306f\nPSoC5\u3067\u5b89\u4fa1\u306b\u958b\u767a\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002\nPSoC\u3001\u30c7\u30b8\u30bf\u30eb\u3001\u30a2\u30ca\u30ed\u30b0\u6df7\u8f09\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3001\u901a\u5e38\u306e\u30de\u30a4\u30b3\u30f3\u3067\u306f\u3067\u304d\u306a\u3044\u4fe1\u53f7\u306e\u5897\u5e45\u306a\u3069\u304c\u51fa\u6765\u307e\u3059\u3002\n\u79cb\u6708\u96fb\u5b50\u3055\u3093\u3084\u30b9\u30a4\u30c3\u30c1\u30b5\u30a4\u30a8\u30f3\u30b9\u3055\u3093\u306a\u3069\u30671500\u5186\u304b\u30892000\u5186\u7a0b\u5ea6\u3067\u624b\u306b\u5165\u308a\u307e\u3059\u3002\n\nUART\n\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u306f\u3001\u66f8\u304d\u8fbc\u307f\u5668\u7d4c\u7531\uff08KitProg)\u3068\u30de\u30a4\u30af\u30edUSB\u7d4c\u7531\u306e2\u7a2e\u985e\u3067PC\u3068\u901a\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\nkit\u7d4c\u7531\u306e\u6642\u306eTip\nRx_1\u3092P12[6]\u3001Tx_1\u3092P12[7]\u3068\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\n\nmain.c\nint main()\n{\n    CyGlobalIntEnable; /* Enable global interrupts. */\n    /* Place your initialization/startup code here (e.g. MyInst_Start()) */\n    UART_1_Start();\n    for(;;)\n    {\n        /* Place your application code here. */\n        UART_1_PutString(\"test\");\n        CyDelay(2000);\n    }\n}\n\n\n\n\u30de\u30a4\u30af\u30edUSB\u7d4c\u7531\u306eTip\n\u30e2\u30b8\u30e5\u30fc\u30eb\uff08USBUART(CDC\u3000Interface)\uff09\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\nConfiguration Descriptor\n\u96fb\u6e90\u3092\u3069\u3046\u3059\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\u666e\u901a\u306fUSB\u304b\u3089\u96fb\u6e90\u3092\u4f9b\u7d66\u3059\u308b\u306e\u3067BUS\u30d1\u30ef\u30fc\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u96fb\u6d41\u306f\u3001\u9069\u5f53\u306b\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\nDevice\u3000Descriptor\n\nVendorID\u306f\u3001Cypress\u306e\u3082\u306e\u3092\u4f7f\u3046\u5834\u5408\u306f\u305d\u306e\u307e\u307e\u3067\nProductID\u306f\u3001\u9069\u5f53\u306b\u3064\u3051\u307e\u3059\u3002(\u554f\u984c\u306a\u3051\u308c\u3070\u305d\u306e\u307e\u307e\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\uff09\u5909\u308f\u308b\u3068\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u305d\u306e\u90fd\u5ea6\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002(\u30c9\u30e9\u30a4\u30d0\u30fc*.inf\u306e\u30d5\u30a1\u30a4\u30eb\u5185\u306f\u81ea\u52d5\u3067\u5909\u66f4\u3057\u3066\u304f\u308c\u308b\u307f\u305f\u3044\u3067\u3059\u3002)\nDevice Number\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u5fc5\u8981\u3067\u3059\u3002\n\n\n\n\n\u30af\u30ed\u30c3\u30af\u306e\u8a2d\u5b9a\n\u5b89\u4fa1\u306a\u88fd\u54c1\u306a\u306e\u3067\u30af\u30ea\u30b9\u30bf\u30eb\u306f\u4ed8\u3044\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u5927\u4e08\u592b\u3068\u601d\u3044\u307e\u3059\u3002\nUSB\u306b48MHz\u304c\u884c\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n\n\n\n\u30d7\u30ed\u30b0\u30e9\u30e0\nUSBUART_Start\u306e\u3068\u3053\u308d\u3067\u3059\u304c\nUSBUART_1_Start(Device, mode)\n\u306e\u5f15\u6570\u304c\u8981\u308a\u307e\u3059\u3002\u5b9a\u7fa9\u3092\u898b\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\nmode\u3092\u9593\u9055\u3048\u308b\u3068\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306b\u96fb\u6e90\u304c\u4e0a\u624b\u304f\u884c\u304b\u306a\u3044\u306e\u3067\u3001USB\u306e\u30a8\u30e9\u30fc\u3084\u8a18\u8ff0\u5b50\u306e\u8aad\u307f\u53d6\u308a\u30a8\u30e9\u30fc\u306a\u3069\u304c\u51fa\u307e\u3059\u3002PC\u5074\u3067\u898b\u308b\u3068\u3001VID\u304c000PID\u304c002\uff1f\u306b\u306a\u308b\u3002\n\ndevice: Contains the device number of the desired device descriptor.The device number can be found in the Device Descriptor Tab of \"Configure\" dialog, under the settings of desired Device Descriptor, in the \"Device Number\" field.\n\nmode: The operating voltage. This determines whether the voltage regulator is enabled for 5V operation or if pass through mode is used for 3.3V peration. Symbolic names and their associated values are given in the following table.\n\nUSBUART_1_3V_OPERATION : Disable voltage regulator and pass-thru Vcc for pull-up\nUSBUART_1_5V_OPERATION : Enable voltage regulator and use regulator for pull-up\nUSBUART_1_DWR_VDDD_OPERATION : Enable or Disable voltage regulator depend on Vddd Voltage configuration in DWR.\n\n\n\n\nmain.c\n#include <project.h>\n\nint main()\n{\n    CyGlobalIntEnable; /* Enable global interrupts. */\n    /* Place your initialization/startup code here (e.g. MyInst_Start()) */\n    USBUART_1_Start(0, USBUART_1_DWR_VDDD_OPERATION);//\n    while(!USBUART_1_bGetConfiguration())  ;\n    USBUART_1_CDC_Init();\n\n    for(;;)\n    {\n        /* Place your application code here. */\n        while(USBUART_1_CDCIsReady()==0u);\n        USBUART_1_PutString(\"USB Test\\r\\n\");\n        CyDelay(1000);\n    }\n}\n\n\n\u63a5\u7d9a\u6642\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001\u305d\u308c\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\\Generated_Source\\PSoC5\u5185\u306bUSBUART_1_cdc.inf\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u7528\u3057\u307e\u3059\u304c\u3001\u7f72\u540d\u304c\u7121\u3044\u306e\u3067\u3001\u30d9\u30b9\u30c8\u30c6\u30af\u30ce\u30ed\u30b8\u30fc\u3055\u3093\u306e\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\nhttp://www.besttechnology.co.jp/modules/d3blog/details.php?bid=119\n\u3053\u306e\u8a18\u4e8b\u306fPSoC Creator3.3\u3092\u4f7f\u3063\u3066\u3044\u307e\u3059\u3002\n\n#CY8CKIT-059\u3068\u306f\nPSoC5\u3067\u5b89\u4fa1\u306b\u958b\u767a\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3059\u3002\nPSoC\u3001\u30c7\u30b8\u30bf\u30eb\u3001\u30a2\u30ca\u30ed\u30b0\u6df7\u8f09\u30e2\u30b8\u30e5\u30fc\u30eb\u3067\u3001\u901a\u5e38\u306e\u30de\u30a4\u30b3\u30f3\u3067\u306f\u3067\u304d\u306a\u3044\u4fe1\u53f7\u306e\u5897\u5e45\u306a\u3069\u304c\u51fa\u6765\u307e\u3059\u3002\n\u79cb\u6708\u96fb\u5b50\u3055\u3093\u3084\u30b9\u30a4\u30c3\u30c1\u30b5\u30a4\u30a8\u30f3\u30b9\u3055\u3093\u306a\u3069\u30671500\u5186\u304b\u30892000\u5186\u7a0b\u5ea6\u3067\u624b\u306b\u5165\u308a\u307e\u3059\u3002\n\n#UART\n\u3053\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u306f\u3001\u66f8\u304d\u8fbc\u307f\u5668\u7d4c\u7531\uff08KitProg)\u3068\u30de\u30a4\u30af\u30edUSB\u7d4c\u7531\u306e2\u7a2e\u985e\u3067PC\u3068\u901a\u4fe1\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\n#kit\u7d4c\u7531\u306e\u6642\u306eTip\nRx_1\u3092P12[6]\u3001Tx_1\u3092P12[7]\u3068\u63a5\u7d9a\u3057\u307e\u3059\u3002\n\n![KITPROG1.png](https://qiita-image-store.s3.amazonaws.com/0/97061/0499b578-1b04-5313-1675-631666fac14d.png)\n\n```c:main.c\nint main()\n{\n    CyGlobalIntEnable; /* Enable global interrupts. */\n    /* Place your initialization/startup code here (e.g. MyInst_Start()) */\n    UART_1_Start();\n    for(;;)\n    {\n        /* Place your application code here. */\n        UART_1_PutString(\"test\");\n        CyDelay(2000);\n    }\n}\n```\n\n#\u30de\u30a4\u30af\u30edUSB\u7d4c\u7531\u306eTip\n\u30e2\u30b8\u30e5\u30fc\u30eb\uff08USBUART(CDC\u3000Interface)\uff09\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002\n\n##Configuration Descriptor\n\u96fb\u6e90\u3092\u3069\u3046\u3059\u308b\u304b\u6307\u5b9a\u3057\u307e\u3059\u3002\u666e\u901a\u306fUSB\u304b\u3089\u96fb\u6e90\u3092\u4f9b\u7d66\u3059\u308b\u306e\u3067BUS\u30d1\u30ef\u30fc\u3060\u3068\u601d\u3044\u307e\u3059\u3002\u96fb\u6d41\u306f\u3001\u9069\u5f53\u306b\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n![USBUART1.png](https://qiita-image-store.s3.amazonaws.com/0/97061/c3594be6-7f0e-10bb-a359-c2be8da0aa77.png)\n\n##Device\u3000Descriptor\n* VendorID\u306f\u3001Cypress\u306e\u3082\u306e\u3092\u4f7f\u3046\u5834\u5408\u306f\u305d\u306e\u307e\u307e\u3067\n* ProductID\u306f\u3001\u9069\u5f53\u306b\u3064\u3051\u307e\u3059\u3002(\u554f\u984c\u306a\u3051\u308c\u3070\u305d\u306e\u307e\u307e\u304c\u826f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\uff09\u5909\u308f\u308b\u3068\u30c9\u30e9\u30a4\u30d0\u30fc\u3092\u305d\u306e\u90fd\u5ea6\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002(\u30c9\u30e9\u30a4\u30d0\u30fc*.inf\u306e\u30d5\u30a1\u30a4\u30eb\u5185\u306f\u81ea\u52d5\u3067\u5909\u66f4\u3057\u3066\u304f\u308c\u308b\u307f\u305f\u3044\u3067\u3059\u3002)\n* Device Number\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u5fc5\u8981\u3067\u3059\u3002\n![USBUART2.png](https://qiita-image-store.s3.amazonaws.com/0/97061/4dd3c210-0ddc-78eb-1c4a-1e49133c18ca.png)\n\n##\u30af\u30ed\u30c3\u30af\u306e\u8a2d\u5b9a\n\u5b89\u4fa1\u306a\u88fd\u54c1\u306a\u306e\u3067\u30af\u30ea\u30b9\u30bf\u30eb\u306f\u4ed8\u3044\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u5927\u4e08\u592b\u3068\u601d\u3044\u307e\u3059\u3002\nUSB\u306b48MHz\u304c\u884c\u304f\u3088\u3046\u306b\u3057\u307e\u3059\u3002\n![USBUART3.png](https://qiita-image-store.s3.amazonaws.com/0/97061/7cb8029a-f539-fc2e-6591-7a09680dc657.png)\n\n![USBUART4.png](https://qiita-image-store.s3.amazonaws.com/0/97061/1176d20e-7d9a-f823-acf7-00c97367e22d.png)\n\n##\u30d7\u30ed\u30b0\u30e9\u30e0\nUSBUART_Start\u306e\u3068\u3053\u308d\u3067\u3059\u304c\nUSBUART_1_Start(Device, mode)\n\u306e\u5f15\u6570\u304c\u8981\u308a\u307e\u3059\u3002\u5b9a\u7fa9\u3092\u898b\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u66f8\u304b\u308c\u3066\u3044\u307e\u3059\u3002\nmode\u3092\u9593\u9055\u3048\u308b\u3068\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u306b\u96fb\u6e90\u304c\u4e0a\u624b\u304f\u884c\u304b\u306a\u3044\u306e\u3067\u3001USB\u306e\u30a8\u30e9\u30fc\u3084\u8a18\u8ff0\u5b50\u306e\u8aad\u307f\u53d6\u308a\u30a8\u30e9\u30fc\u306a\u3069\u304c\u51fa\u307e\u3059\u3002PC\u5074\u3067\u898b\u308b\u3068\u3001VID\u304c000PID\u304c002\uff1f\u306b\u306a\u308b\u3002\n\n* device: Contains the device number of the desired device descriptor.The device number can be found in the Device Descriptor Tab of \"Configure\" dialog, under the settings of desired Device Descriptor, in the \"Device Number\" field.\n* mode: The operating voltage. This determines whether the voltage regulator is enabled for 5V operation or if pass through mode is used for 3.3V peration. Symbolic names and their associated values are given in the following table.\n\n - USBUART_1_3V_OPERATION : Disable voltage regulator and pass-thru Vcc for pull-up\n - USBUART_1_5V_OPERATION : Enable voltage regulator and use regulator for pull-up\n - USBUART_1_DWR_VDDD_OPERATION : Enable or Disable voltage regulator depend on Vddd Voltage configuration in DWR.\n\n\n\n```c:main.c\n#include <project.h>\n\nint main()\n{\n    CyGlobalIntEnable; /* Enable global interrupts. */\n    /* Place your initialization/startup code here (e.g. MyInst_Start()) */\n    USBUART_1_Start(0, USBUART_1_DWR_VDDD_OPERATION);//\n    while(!USBUART_1_bGetConfiguration())  ;\n    USBUART_1_CDC_Init();\n\n    for(;;)\n    {\n        /* Place your application code here. */\n        while(USBUART_1_CDCIsReady()==0u);\n        USBUART_1_PutString(\"USB Test\\r\\n\");\n        CyDelay(1000);\n    }\n}\n```\n\n\u63a5\u7d9a\u6642\u306e\u30c9\u30e9\u30a4\u30d0\u30fc\u304c\u5fc5\u8981\u3067\u3059\u304c\u3001\u305d\u308c\u306f\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a9\u30eb\u30c0\\Generated_Source\\PSoC5\u5185\u306bUSBUART_1_cdc.inf\u304c\u3067\u304d\u308b\u306e\u3067\u3001\u305d\u308c\u3092\u4f7f\u7528\u3057\u307e\u3059\u304c\u3001\u7f72\u540d\u304c\u7121\u3044\u306e\u3067\u3001\u30d9\u30b9\u30c8\u30c6\u30af\u30ce\u30ed\u30b8\u30fc\u3055\u3093\u306e\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u3092\u53c2\u8003\u306b\u3057\u307e\u3057\u305f\u3002\nhttp://www.besttechnology.co.jp/modules/d3blog/details.php?bid=119\n\n\n\n", "tags": ["PSoC", "CY8CKIT-059", "USB", "uart"]}